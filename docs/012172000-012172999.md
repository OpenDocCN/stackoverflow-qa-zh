# StackOverflow 问答 12172000-12172999

# ios - 如何更改 iOS 自动更正建议的颜色？

> ID：12172006
> 
> 赞同：10
> 
> 时间：2012-08-29T06:25:57.747
> 
> 标签：ios, uitextfield, uitextview

在此处、网络和开发者论坛中进行了大量搜索后，我不敢相信以前似乎没有人问过这个问题。

无论您的 UITextField 或 UITextView 或其他任何颜色如何，iOS 自动更正建议总是以白色背景上的蓝色字体弹出。这有时看起来很糟糕，例如在深色背景上。它会采用您正在编辑的文本的字体，但无法更改默认颜色，这似乎很奇怪。

然而，在内置的 iOS 笔记应用程序中，自动更正建议以黄色背景和红色字体呈现得很漂亮。

我在这里遗漏了一些明显的东西吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:33:28.057

该`UITextInput`协议定义了一种`- (NSDictionary *)textStylingAtPosition:(UITextPosition *)position inDirection:(UITextStorageDirection)direction`文档声称可用于样式校正矩形的方法。我收集这将通过 UITextPosition 子类进行通信，该子类指示正在请求样式信息，但我不确定详细信息。肯定需要更多研究的东西！

编辑：

我刚刚实现了一个 UITextField 和一个 UITextView 子类并覆盖了下面的方法。该方法从未被调用:(抱歉以错误的希望回答！

编辑 2：发现一篇博客文章解释了为什么它从未被调用：[http ://bjhomer.blogspot.com/2011/11/detecting-backspace-in-uitextfield.html](http://bjhomer.blogspot.com/2011/11/detecting-backspace-in-uitextfield.html)

# ruby - 为什么 Ruby 的哈希方法在运行时会有所不同？

> ID：12172011
> 
> 赞同：3
> 
> 时间：2012-08-29T06:26:48.507
> 
> 标签：ruby, hash, ruby-1.9

```
# pry / irb example #1
"abc".hash
=> -1883761119486508070
"abc".hash
=> -1883761119486508070

# pry / irb example #2
"abc".hash
=> -4309321811150053495
"abc".hash
=> -4309321811150053495 
```

`hash`对于特定调用，该值是恒定的，但在不同调用中会有所不同。为什么？这是设计使然吗？这算不算“好事”？

我在跑步`ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-darwin12.0.0]`。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-29T06:26:48.507

根据[http://patshaughnessy.net/Ruby-Under-a-Microscope-Rough-Draft-May.pdf的第 23 页](http://patshaughnessy.net/Ruby-Under-a-Microscope-Rough-Draft-May.pdf)

> 以下是 Ruby 的哈希函数的实际工作方式... [snip] ... 对于字符串和数组，它的工作方式不同。在这种情况下，Ruby 实际上会遍历字符串中的所有字符或数组中的元素并计算累积哈希值；这保证了哈希值对于字符串或数组的任何实例将始终相同，并且如果该字符串或数组中的任何值发生更改，哈希值将始终更改。

和：

> 此外，Ruby 1.9 和 Ruby 2.0 使用随机种子值初始化 MurmurHash，每次重新启动 Ruby 时都会重新初始化该随机种子值。这意味着如果您停止并重新启动 Ruby，您将获得相同输入数据的不同哈希值。这也意味着如果你自己尝试这个，你会得到与我上面不同的值。但是，哈希值在同一个 Ruby 进程中总是相同的。

# mysql - 具有别名 (AS) 的 MySQL 查询中的 SQL 错误

> ID：12172021
> 
> 赞同：0
> 
> 时间：2012-08-29T06:27:28.303
> 
> 标签：mysql, sql

在 MySQL 工作台中执行此 SQL 语句时遇到问题。谁能为我指出问题？

```
SELECT concat(LocationName,' - ', StationName) AS LocationStation, EmpName AS '0000-0100', EmpName AS '0100-0200', EmpName AS '0200-0300', EmpName AS '0300-0400', EmpName AS '0400-0500', EmpName AS '0500-0600', EmpName AS '0600-0700', EmpName AS '0700-0800', EmpName AS '0800-0900', EmpName AS '0900-1000', EmpName AS '1000-1100', EmpName AS '1100-1200', FROM satsschema.employeeslot
WHERE LocationName = 'T2 PML'
and AllocationDate = '10-Aug' 
and (EmpTime >= '00:00:00' and EmpTime <= '12:00:00') 
```

上面的语句提示我这个错误，“您的 SQL 语法有错误，请查看与您的 MySQL 服务器版本相对应的手册以获取正确的语法以使用整洁的 'FROM satsschema.employeeslot WHERE LocationName = 'T2 PML' 和 AllocationDate = '在第 1 行。”

其次，除了输入所有内容之外，还有其他方法可以使这条线更短吗？

```
EmpName AS '0000-0100', EmpName AS '0100-0200', EmpName AS '0200-0300', EmpName AS '0300-0400', EmpName AS '0400-0500', EmpName AS '0500-0600', EmpName AS '0600-0700', EmpName AS '0700-0800', EmpName AS '0800-0900', EmpName AS '0900-1000', EmpName AS '1000-1100', EmpName AS '1100-1200', FROM satsschema.employeeslot 
```

帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:28:48.177

去掉前面的逗号`FROM`。它会导致错误。

```
SELECT concat(LocationName,' - ', StationName) AS LocationStation, EmpName AS '0000-0100', EmpName AS '0100-0200', EmpName AS '0200-0300', EmpName AS '0300-0400', EmpName AS '0400-0500', EmpName AS '0500-0600', EmpName AS '0600-0700', EmpName AS '0700-0800', EmpName AS '0800-0900', EmpName AS '0900-1000', EmpName AS '1000-1100', EmpName AS '1100-1200' FROM satsschema.employeeslot
WHERE LocationName = 'T2 PML'
and AllocationDate = '10-Aug' 
and (EmpTime >= '00:00:00' and EmpTime <= '12:00:00') 
```

请注意，错误消息准确地说明了错误在哪里。

在 MySQL 中，该`AS`关键字对于列别名是可选的，因此您可以`EmpName '0000-0100'`使用`EmpName AS '0000-0100'`. 我认为没有一个简短的解决方案可以为一列提供多个别名，因为这实际上并不是经常需要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:33:37.117

删除额外的`comma`before`from`子句。

```
SELECT  concat(LocationName,' - ', StationName) AS LocationStation, 
        EmpName AS '0000-0100', 
        EmpName AS '0100-0200', 
        EmpName AS '0200-0300', 
        EmpName AS '0300-0400', 
        EmpName AS '0400-0500', 
        EmpName AS '0500-0600',
        EmpName AS '0600-0700', 
        EmpName AS '0700-0800', 
        EmpName AS '0800-0900', 
        EmpName AS '0900-1000', 
        EmpName AS '1000-1100',
        EmpName AS '1100-1200'   -- remove comma here
FROM satsschema.employeeslot
WHERE LocationName = 'T2 PML'
and AllocationDate = '10-Aug' 
and (EmpTime >= '00:00:00' and EmpTime <= '12:00:00') 
```

# java - Java 编译器和 §(alt+21)

> ID：12172027
> 
> 赞同：3
> 
> 时间：2012-08-29T06:27:56.867
> 
> 标签：java

我在这里面临奇怪的问题。我正在尝试使用字符 § (alt+21) 作为分隔符。但是在编译源代码时，我看到在类文件中这个字符显示为类似于矩形 [] 的字符。这使我的标记化失败。有人以前见过吗？

```
String dtr = "abcd§pqrs";   
StringTokenizer st = new StringTokenizer(templateDetails,"§"); 
```

在编译的类文件中，我看到以下内容：

```
 String dtr = "abcd[]pqrs";   
StringTokenizer st = new StringTokenizer(templateDetails,"[]"); 
```

我该如何解决这个问题？TIA

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T06:43:57.580

使用`\u####`语法来指定具有特定 Unicode 编号的字符常量。

这将允许您在纯 ASCII 中指定它，而不必弄乱文件编码和编译器行为。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-29T06:51:33.193

将编辑器编码设置更改为 UTF-8。这是[Eclipse 的操作方法](http://www.martinahrer.at/2007/06/03/eclipse-encoding-settings/)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-29T06:32:47.030

可能您的环境不接受该角色。您可以更新编译器并再次检查。

# mysql - mysql - 在开始年份和开始月份之间选择行到结束年份和结束月份？

> ID：12172035
> 
> 赞同：2
> 
> 时间：2012-08-29T06:28:39.883
> 
> 标签：mysql, sql, database

我正在尝试为给定的年份和月份范围选择行。（即：从`<start year>+<start month>`到`<end year>+<end month>`）我尝试了以下查询，但我得到了意想不到的行。我错过了什么吗？

```
SELECT * FROM table AS t
WHERE 
((YEAR(t.column1)='<start year>' AND MONTH(t.column1)>='<start month>') OR
(YEAR(t.column1)>'<start year>' AND YEAR(t.column1)<'<end year>') OR
(YEAR(t.column1)='<end year>' AND MONTH(t.column1)<='<end month>')) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T06:36:17.860

只有开始年份和结束年份不同时，您的查询才能正常工作。如果它们相同，则查询返回该年的所有行。您需要单独处理这种情况：

```
(
    start_year != end_year and 
    (
        (YEAR(t.column1)='<start year>' AND MONTH(t.column1)>='<start month>') OR  
        (YEAR(t.column1)>'<start year>' AND YEAR(t.column1)<'<end year>') OR  
        (YEAR(t.column1)='<end year>' AND MONTH(t.column1)<='<end month>')
    )
)
OR (start_year = end_year and MONTH(t.column1) >= start_month
                          and MONTH(t.column1) <= end_month) 
```

但是，这可以大大简化：

```
YEAR(t.column1) * 12 + MONTH(t.column1) >= start_year * 12 + start_month
and YEAR(t.column1) * 12 + MONTH(t.column1) <= end_year * 12 + end_month 
```

甚至更短`between`：

```
YEAR(t.column1) * 12 + MONTH(t.column1)
BETWEEN start_year * 12 + start_month and end_year * 12 + end_month 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:32:38.907

试试这个：

```
... WHERE t.column1>="startYear-startMonth-01" AND t.column1<="endYear-endMonth-31" 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T06:34:40.493

你可以尝试这样的事情：

```
SELECT * FROM table AS t
WHERE  t.column1
       BETWEEN STR_TO_DATE(CONCAT('<start year>', '<start month>', '01'), '%Y%m%d') AND 
               LAST_DAY(STR_TO_DATE(CONCAT('<start end>', '<start end>','01'), '%Y%m%d')); 
```

这应该会表现得更好，因为它将使用 column 中的索引`column1`。

# java - Bean无法通过primefaces识别该方法

> ID：12172042
> 
> 赞同：2
> 
> 时间：2012-08-29T06:29:14.820
> 
> 标签：java, jsf, jakarta-ee, jsf-2, primefaces

我正在尝试使用 primefaces 的自动完成功能，但是当我尝试从我的 facelet 调用 bean 方法时，它会显示一个错误，即 mybean 没有这种方法
这里是我的代码

Page.xhtml

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>

<title>Title</title>
</h:head>
<h:body>
<h:form id="form">  
    <p:panel header="AutoComplete" toggleable="true" id="panel">
        <h:panelGrid columns="2" cellpadding="5">  

            <h:outputLabel value="Simple :" for="acSimple" />  
            <p:autoComplete id="acSimple" value="#{myBean.txt1}"   
                    completeMethod="#{myBean.complete}"/>
                    </h:panelGrid>
                    </p:panel>
                    </h:form>
</h:body>
</html> 
```

MyBean.java

```
import java.util.ArrayList;
import java.util.List;

import javax.faces.bean.ManagedBean;
import javax.faces.bean.RequestScoped;
@ManagedBean(name="myBean")
@RequestScoped
public class MyBean {  

    private String txt1;  

    public List<String> complete(String query) {  
        List<String> results = new ArrayList<String>();  

        for (int i = 0; i < 10; i++) {  
            results.add(query + i);  
        }  

        return results;  
    }  

    public String getTxt1() {  
        return txt1;  
    }  

    public void setTxt1(String txt1) {  
        this.txt1 = txt1;  
    }  
} 
```

因此，当我运行此代码时，它显示 myBean 没有“完整”属性的错误。我正在使用 eclipse 和最新版本的 primefaces。
我在这里做错了吗？
请帮助
谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T12:26:09.690

> *它显示 myBean 没有属性“完成”的错误*

财产？这个操作方法不应该首先被视为一个属性。这表明`#{myBean.complete}`被视为值表达式而不是方法表达式，就像在纯 HTML 中内联它时会发生的那样`<p>#{myBean.complete}</p>`。这反过来表明该`<p:autoComplete>`标记根本没有被识别为 JSF 组件，而只是被视为纯文本/HTML。这反过来表明 PrimeFaces taglib URI 错误，或者 JAR 文件未正确放置在 webapp 的运行时类路径中。

确保您至少使用 PrimeFaces 3.0 版（在旧版本中，taglib URI 不同）并且 JAR 文件放置在`/WEB-INF/lib`webapp 的文件夹中。

# opencv - 在特定位置从 cv::Mat 中查找像素颜色

> ID：12172043
> 
> 赞同：1
> 
> 时间：2012-08-29T06:29:20.920
> 
> 标签：opencv, colors, matrix, pixel

我的问题是，我需要找到包含所有白色像素的 cv::Mat 图像的子矩阵。因此，我想遍历所有像素，检查它们是否为白色并使用该信息构建一个 cv::Rect 。
我想出了如何遍历所有像素，但我不知道如何从中获取像素颜色。cv::Mat 之前被转换为灰度`CV_GRAY2BGR`

```
for(int y = 0; y < outputFrame.rows; y++)
{
    for(int x = 0; x < outputFrame.cols; x++)
    {
        // I don't know which datatype I should use
        if (outputFrame.at<INSERT_DATATYPE_HERE>(x,y) == 255)
           //define area
    }
} 
```

我的最后一个问题是，我应该在 INSERT_DATATYPE_HERE 位置的代码中插入哪种数据类型，并且 255 是比较的正确值吗？

非常感谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-29T07:54:05.480

这取决于您的图像的频道。[垫子](http://opencv.willowgarage.com/documentation/cpp/basic_structures.html#mat)有方法`channels`。它返回通道数 -如果图像是灰色的，则返回**一个，如果图像是彩色的，则返回****三个**（例如，RGB - 每个颜色分量一个通道）。

所以你必须做这样的事情：

```
if (outputFrame.channels() == 1) //image is grayscale - so you can use uchar (1 byte) for each pixel
{
    //...
    if (outputFrame.at<uchar>(x,y) == 255)
    {
        //do a check if this pixel is the most left, or the most right, or the most top, or the most bottom (this is needed to construct result rectangle)
    }
}
else
if (outputFrame.channels() == 3) //image is color, so type of each pixel if Vec3b
{
    //...
    // white color is when all values (R, G and B) are 255
    if (outputFrame.at<Vec3b>(x,y)[0] == 255 && outputFrame.at<Vec3b>(x,y)[1] == 255 && outputFrame.at<Vec3b>(x,y)[2] == 255)
    {
        //do a check if this pixel is the most left, or the most right, or the most top, or the most bottom (this is needed to construct result rectangle)
    }
} 
```

但实际上要获得包含图像上所有白色像素的矩形，您可以使用另一种技术：

1.  [将图像转换为灰度](http://opencv.willowgarage.com/documentation/cpp/miscellaneous_image_transformations.html#cv-cvtcolor)。
2.  使用值 254（或接近 255）作为参数执行[阈值。](http://opencv.willowgarage.com/documentation/cpp/miscellaneous_image_transformations.html#cv-threshold)
3.  [找到图像上的所有轮廓](http://docs.opencv.org/2.4.2/doc/tutorials/imgproc/shapedescriptors/find_contours/find_contours.html)。
4.  构造一个包含所有这些轮廓的轮廓（只需将每个轮廓的所有点添加到一个大轮廓中）。
5.  使用[边界矩形功能](http://opencv.willowgarage.com/documentation/cpp/structural_analysis_and_shape_descriptors.html#cv-boundingrect)找到您需要的矩形。

# qt - 在 Qt 中使用按钮打开可关闭的选项卡

> ID：12172048
> 
> 赞同：0
> 
> 时间：2012-08-29T06:29:51.747
> 
> 标签：qt, qt4

我正在 Qt 中制作一个 GUI 程序。

我有一个选项卡，在该选项卡中有一个按钮，我想要的是当单击该按钮时，它应该在同一个小部件中打开一个选项卡并且它应该是可关闭的。我怎样才能做到这一点？一个示例代码会很好。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T10:40:28.517

我不完全理解这个问题，但这是我回答它的最佳尝试。我想你用`QTabWidget`你的标签。您可以添加一个小部件并通过以下代码选择它：

```
QWidget* widget;
int index = ui->tabWidget->addTab(widget, "Description");
ui->tabWidget->setCurrentIndex(index); 
```

您不能使单个选项卡可关闭，但您可以拦截关闭事件：

```
ui->tabWidget->setTabsClosable(true);
connect(ui->tabWidget, SIGNAL(tabCloseRequested(int)), this, SLOT(closeTab(int))); 
```

并像这样处理不需要的关闭事件：

```
void MainWindow::closeTab(int index)
{
    if (index == 0)
    {
        return; // don't close the first tab
    }
    QWidget* widget = ui->tabWidget->widget(index);
    ui->tabWidget->removeTab(index);
    delete widget;
} 
```

**编辑**：

您可以插入标签：

```
ui->tabWidget->insertTab(index, widget, "Description"); 
```

这是该课程的[文档](http://qt-project.org/doc/qt-4.8/qtabwidget.html)`QTabWidget`。

# ios5 - 如何在 IOS 5.1 中创建日历视图？

> ID：12172052
> 
> 赞同：0
> 
> 时间：2012-08-29T06:30:11.450
> 
> 标签：ios5, view, calendar

如何在 IOS 5.1 中创建日历视图？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:49:56.117

我会考虑使用第三方日历组件[Kal](https://github.com/klazuka/Kal)，它“旨在在 Apple 的移动日历应用程序中提供月份视图的开源实现”。听起来这可能适合您正在寻找的东西。[自述](https://github.com/klazuka/Kal)页面包含将组件集成到项目中的示例用法和说明。

# benchmarking - 如何运行基准测试？

> ID：12172053
> 
> 赞同：0
> 
> 时间：2012-08-29T06:30:13.947
> 
> 标签：benchmarking, activemq

该帖子尚未被邮件列表接受。

我要跑benchmark测试，activemq版本是5.6.0。

我按照步骤

![在此处输入图像描述](../Images/58221d4280682ee37a041cbff549858e.png)

但行家说：未知的生命周期阶段“服务器”。

那么我能做什么呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T20:52:17.273

啊，是的，那个文档已经过时了。

在 ActiveMQ 发行版中，有一个可用于性能测试的示例。

在 ActiveMQ 发行版的根目录中（例如 5.6.0）

```
cd examples
ant 
```

并显示使用页面

然后你可以使用 ant producer 发送大量消息。和蚂蚁消费者接收消息。

# jquery - 纯 HTML 5 所见即所得编辑器

> ID：12172054
> 
> 赞同：2
> 
> 时间：2012-08-29T06:30:17.613
> 
> 标签：jquery, html

我目前正在使用 TinyMCE 作为我的 JQuery 应用程序的丰富内容编辑器，但是随着 Html 5 及其“contenteditable”属性的出现，似乎不再需要它使用的 iframe 技巧。

是否有任何跨浏览器 Html 5 WYSIWYG 编辑器？我知道 Html 5 的东西与旧版浏览器不兼容，但这并不重要，因为我正在制作一个实验性的 Html 5 一切网站。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:33:13.610

你以前可以搜索谷歌！你看到[WYSIHTML5 了](http://xing.github.com/wysihtml5/)吗？

> ### WYSIHTML5 - 一种更好的富文本编辑方法
> 
> 基于 HTML5 和渐进增强方法的开源富文本编辑器。使用复杂的安全概念，旨在通过防止无法维护的标签汤和内联样式来生成完全有效的 HTML5 标记。
> 
> wysihtml5 是一个基于 HTML5 技术和渐进增强方法的开源富文本编辑器。它使用复杂的安全概念，旨在通过防止无法维护的标签汤和内联样式来生成完全有效的 HTML5 标记。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-19T11:20:07.453

TinyMCE 4.0 现在支持 HTML 5 和内联编辑功能。你可以看看演示：[http ://www.tinymce.com/tryit/inline.php](http://www.tinymce.com/tryit/inline.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:34:16.000

[BlueGriffon](http://bluegriffon.org/)支持 HTML5 和 CSS3。

# javascript - 更改日期的功能不起作用

> ID：12172057
> 
> 赞同：0
> 
> 时间：2012-08-29T06:30:57.590
> 
> 标签：javascript, function, date, weekend

在很多帮助下，我完成了一个检查 onload 日期是否是周末的函数，如果是星期天，它必须增加日期。如果是星期六，则增加 2 天，因为不幸的是，在法国，没有人想在周末工作。

这是我正在使用的代码：

```
<script type="text/javascript">
    function getdate() {
        var items = new Array();
        var itemCount = document.getElementsByClassName("date");

        for (var i = 0; i < itemCount.length; i++) {
            items[i] = document.getElementById("date" + (i + 1)).value;
        }

        for (var i = 0; i < itemCount.length; i++) {
            items[i] = document.getElementById("date" + (i + 1)).value;
            var itemDtParts = items[i].split("-");
            var itemDt = new Date(itemDtParts[2], itemDtParts[1] - 1, itemDtParts[0]);
            if (itemDt.getDay() == 6) {

                itemCount[i].value =  itemDt.getDate()+ "-" + (itemDt.getMonth() < 9 ? "0" : "") + (itemDt.getMonth() + 1) + "-" + itemDt.getFullYear();

            }
            if (itemDt.getDay() == 0) {

               itemCount[i].value = itemDt.getDate()+ "-" + (itemDt.getMonth() < 9 ? "0" : "") + (itemDt.getMonth() + 1) + "-" + itemDt.getFullYear();

            }

        }
       return items;
  }
</script> 
```

检查日期是否为周末，一切正常，但当我询问日期 +1 时，它不会改变。

我只是想把周六和周日改成周一。

谢谢您的帮助

SP。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:18:32.450

你在哪里做：

```
> var itemDt = new Date(itemDtParts[2], itemDtParts[1] - 1, itemDtParts[0]); 
```

然后，您可以执行以下操作：

```
// Increment date if Saturday or Sunday
var inc = itemDt.getDay() == 0? 1 : itemDt.getDay() == 6? 2 : 0;

// Only update DOM if necessary
if (inc) {
  itemDt.setDate(itemDt.getDate() + inc);
  // Update DOM
} 
```

请注意，如果日期设置在月底之后（或开始之前），则 Date 对象会进行调整，因此将日期设置为 1 月 32 日将变为 2 月 1 日。

# cordova - 如何在PhoneGap-android中显示印地语字符

> ID：12172059
> 
> 赞同：1
> 
> 时间：2012-08-29T06:31:00.797
> 
> 标签：cordova

如何在 PhoneGap-android 中显示印地语字符？如何使用 phonegap 在我的 android 手机中显示印地语字符请告诉？？？我通过Apis带来（印地语）unicode/十六进制字符，，，，但它显示块任何想法？它在iphone上运行良好，但在android手机上不行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:53:05.650

它将在phonegap中工作。只需使用这段代码，

```
<style type="text/css" media="screen">
        @font-face {
            font-family: centurySchoolbook;
            src: url(/fonts/century-schoolbook.ttf);
        }
       body {
           font-family: centurySchoolbook;
           font-size:30px;
       }
</style> 
```

设置html页面格式为utf-8

# cursor - macvim插入光标消失

> ID：12172060
> 
> 赞同：1
> 
> 时间：2012-08-29T06:31:15.380
> 
> 标签：cursor, macvim

我的 macvim 工作正常，但我刚刚打开它，插入模式光标消失了，它还隐藏了它下面的任何东西，所以很难阅读任何东西或找到光标所在的位置。我刚刚删除 c macvim 并重新安装了[https://github.com/alexlovelltroy/macvim/downloads](https://github.com/alexlovelltroy/macvim/downloads)但仍然有同样的问题。我见过人们对普通光标有问题，但插入模式没有问题。有任何想法吗？

# asp.net-mvc-3 - 在运行时更新 Web 服务

> ID：12172063
> 
> 赞同：0
> 
> 时间：2012-08-29T06:31:30.813
> 
> 标签：asp.net-mvc-3, salesforce, web-reference

我有一个与 slaesforce 集成的 MVC 应用程序。它工作正常，salesforce 提供了 WSDL，它在 MVC 应用程序中用作/作为 Web 参考，并成功访问了 salesforce 数据。现在我处于需要使用 Salesforce 沙箱的情况。

所以我有两个从 Salesforce 生成的 WSDL，一个用于生产，另一个用于沙盒。但不能同时将两者添加到 MVC 项目中，因为它们具有相同的对象。

我需要做的是在某些条件下更改 Webservice Url 或其他东西，以便一次使用生产 WSDL，另一次使用沙盒 WSDL。

所以它会是这样的

```
//The Action used in salesforce site to send submit order email
public string SendSubmitOrderEmail(string opportunityId,bool isSandbox)
{
   if(isSandbox)
   {
      SforceService sf = new SforceService();
      sf.Url = "https://test.salesforce.com/services/Soap/";
   }
   else
   {
      SforceService sf = new SforceService();
      sf.Url = "https://login.salesforce.com/services/Soap/";
   }
} 
```

或者我可以在 webconfig 中更改 webservice 设置吗？

```
<applicationSettings>
<ItineraryBuilder.Properties.Settings>
  <setting name="ItineraryBuilder_SalesForceService_SforceService"
    serializeAs="String">
    <value>https://login.salesforce.com/services/Soap/c/25.0/0DFd00Wa6</value>
  </setting>
</ItineraryBuilder.Properties.Settings>
</applicationSettings> 
```

不知道该怎么做。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T10:23:41.517

您应该在外部属性文件中设置端点 url（以及其他配置信息，如用户名、密码等），然后您的代码将访问此键值属性文件以检索端点 url 和配置信息以连接到 salesforce。

> url=https://test.salesforce.com/services/Soap/
> 
> 用户名=blah@blah.org.sandbox
> 
> 密码=blahxxxx12345sxxx

理想情况下，您应该为沙盒/开发（dev.properties）和生产（prod.properties）拥有单独的属性文件，并且您的构建系统（maven 或类似系统）应该根据运行位置选择正确的属性文件。

您应该尽可能避免对 url 进行硬编码或在代码中确定环境。上述技术应该适用于 Java、C++、Python 等 oop 语言。

希望这是有道理的！

阿努普

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T04:34:18.617

谢谢大家，

在运行时更新 Web 引用工作正常

```
SforceService sf = new SforceService();
sf.Url = "test.salesforce.com/services/Soap/c/25.0/0DFd00000000Wa6" 
```

我做错了什么，“sf”没有传递给用于创建连接的 API 类。

我在这里的另一个问题中得到了解决方案

[使用 C# (MVC) 以编程方式更新 web.config applicationSettings](https://stackoverflow.com/questions/12192067/update-web-config-applicationsettings-programmatically-with-c-sharp-mvc)

再次感谢。

# matlab - 在matlab中打印图像的选定像素的x，y坐标

> ID：12172068
> 
> 赞同：0
> 
> 时间：2012-08-29T06:31:40.560
> 
> 标签：matlab, image-processing

我正在做一个项目，我想在其中提取给定图像的轮廓。我有两张图片；一个前景图像和一个背景图像。我对这些图像应用减法并设置一个条件，如果差异不等于零。然后我打印那个坐标值。这是我当前的代码：

```
I=imread('starObject.jpg')

B=rgb2gray(I);
imshow(I);

A=imread('starB.jpg');
C=rgb2gray(A);
[columns rows]=size(C) 
Diff(i,j)=B(i,j)-C(i,j);
if (Diff(i,j)>0||Diff(i,j)<0)
    fprintf('1st difference');
    disp(Diff(i,j));
end 
end
end
imshow(Diff); 
```

上面的代码打印像素的差值。我要坐标。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:44:53.607

在您上面的代码中，`i`并且`j`已经是像素坐标。对于打印，你可以使用这样的东西

```
[rows, columns] = size(C); %# rows are first!!
for i = 1 : rows
    for j = 1 : columns
        if (Diff(i,j) ~= 0)
            sprintf('(%d, %d)', i, j);
        end
    end
end 
```

例如。

另一种方法是使用该`find()`函数，它可能看起来像这样

```
[r, c] = find(Diff ~= 0);
for idx = 1 : length(r)
    sprintf('(%d, %d)', r(idx), c(idx));
end 
```

**顺便说一句：**在 Matlab 中使用和作为变量是一个**非常非常**糟糕的主意，因为您通常使用它来定义复数。不要惊讶，如果`i``j`

```
x = 10 + 20*j 
```

循环后不再起作用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T14:28:47.920

向量化你的代码。不要使用 for 循环来迭代坐标，它很慢，很丑，而且不是语言的编写方式。看看以下内容是否适合您。

```
A    = rgb2gray (imread ('starObject.jpg'));
B    = rgb2gray (imread ('starB.jpg'));
Diff = B - C;
inds = find (Diff);
sprintf ("Different at indexes: %i\n", inds); 
```

如果要打印下标而不是线性索引，请使用`ind2sub`将一个转换为另一个或使用两个输出参数查找。例如：

```
[iRows, iCols] = find (Diff);
printf ("Different at coordinates (%i, %i)\n", [iRows'; iCols']); 
```

# extjs - Ext JS 和 Sencha 的区别

> ID：12172071
> 
> 赞同：3
> 
> 时间：2012-08-29T06:31:45.423
> 
> 标签：extjs

Ext JS 和 sencha 的区别是 ext js 4.0 反向兼容 ext js 3.4 吗？

* * *

根据我在网上的搜索，我发现 Ext JS 与 JQTouch 的合并形成了 sencha 任何猜测？提前致谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-29T07:05:53.277

Sencha是公司。它有几种产品。目前最受欢迎的两个是：

1) Ext JS - 为桌面构建客户端应用程序的框架。

2) Sencha Touch - 用于构建移动客户端应用程序的框架。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-29T11:36:53.133

首先，Sencha 没有与 JQTouch 合并。

Ext 更名为 Sencha，以更好地反映他们不再只是做一个单一的框架，ExtJS，而是一整套工具，包括 Sencha Touch。

至于兼容性，ExtJS 3 和 ExtJS 4 之间发生了重大变化，因此它们不是直接兼容的。如果我记得开发了一个兼容层，但我没有使用它，它并不是一个长期的解决方案。

# c# - 在 MVC4 中添加控制器不起作用

> ID：12172074
> 
> 赞同：16
> 
> 时间：2012-08-29T06:31:51.020
> 
> 标签：c#, asp.net-mvc

我正在使用 VS 2010 高级版。我有一个使用带有实体框架模型的 SqlCe 4.0 的 MVC4 项目。

型号为：

```
 public class ProjectBuild
    {
       public int ProjectBuildID {get;set;}
       public string name {get;set;}
    }

  public class ProjectBuildContext:DbContext
     {
       public DbSet<ProjectBuild> builds {get;set;}
     } 
```

下面是我的连接字符串：

```
 add name="ProjectBuildContext" connectionString="Data Source=|DataDirectory|DB.sdf"
 providerName="System.Data.SqlServerCe.4.0" 
```

当我尝试使用内置脚手架创建新控制器时，我收到以下错误：

> “无法检索 ProjectBuild 的元数据”。“不支持使用相同的 DbCompiledModel 针对不同类型的数据库服务器创建上下文。相反，为正在使用的每种类型的服务器创建单独的 DbCompiledModel。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-09-08T23:57:03.833

我尝试了 Fontanka16 解决方案，但它不起作用，结果我的 DbContext 类缺少定义目标 CE 数据库的默认构造函数。

这些是我的步骤摘要：

*   安装了 Nuget 包 EntityFramework.SqlServerCompact。
*   向我的 DbContext 类添加了默认构造函数。

    公共类**SchoolContext** : DbContext { public Sc​​hoolContext() : base(" **School** ") { } ... }

*   我的连接字符串是：

    ```
    <add name="SchoolContext" connectionString="Data Source=|DataDirectory|School.sdf" providerName="System.Data.SqlServerCe.4.0" /> 
    ```

然后它起作用了。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-10-21T09:47:14.300

我将连接字符串的名称改回 DefaultConnection，然后它起作用了，我首先尝试添加默认构造函数，但收到一些关于没有正确程序集引用的警告。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-10-11T04:20:00.043

我是使用 EF 和 MVC 的新手，但我发现如果您没有定义数据连接（将其注释掉）或在 web.config 中重命名它，Visual Studio 将允许您添加控制器。如果未定义连接，则 EF 将自动使用 SQLExpress。添加控制器后，您可以将连接字符串添加回 web.config，程序将按预期运行。

//这个解决方案摘自[http://forums.asp.net/t/1838396.aspx/1?Error+while+adding+controller+class+Unable+to+retrieve+metadata+for+MvcMovie+Models+电影+](http://forums.asp.net/t/1838396.aspx/1?Error+while+adding+controller+class+Unable+to+retrieve+metadata+for+MvcMovie+Models+Movie+)

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-01-11T22:15:17.293

您应该始终**使用 初始化超**类`base(string)`。还发现`connectionString`Web.config中的名称**可能与**您发送给超类构造函数的字符串不同。

例如：

```
<add name="MovieDBContext"  ....... />

public class MovieDBContext : DbContext
{
   public MovieDBContext() : base("Movie") { }
} 
```

所以你看， 与`"MovidDBContect"`不同`"Movie"`。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-07-07T13:42:30.203

1.  创建控制器
2.  在 web.config 中添加字符串上下文

这是一个按时间顺序排列的问题，而不是一个错误。来源：来自 Vô Thường 的通讯[http://www.itorian.com/2012/10/unable-to-retrieve-metadata-for.html](http://www.itorian.com/2012/10/unable-to-retrieve-metadata-for.html)

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2014-03-14T03:44:39.797

如果对任何人有帮助，请注明。我刚遇到这个问题。

这修复了它： 1\. 注释掉连接字符串 2\. 重建没有连接字符串的网站 3\. 添加控制器 4\. 取消注释连接字符串 5\. 重建网站

一切正常。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-01-10T18:34:11.237

在使用 Entity Framework 6 和 MySQL 数据库添加 API 2.0 / MVC5 控制器时，我遇到了这个问题。

```
[DbConfigurationType(typeof(MySqlEFConfiguration))] 
```

注释掉这个类属性。构建项目。然后在 MySql 上添加一个控制器对我有用。

Uncomment after controller is added and continue as normal.

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2012-08-31T20:09:09.893

这似乎是最愚蠢的事情，但是您是否与其他地方的数据库建立了连接？我遇到了同样的问题。我在服务器资源管理器视图中打开了数据库（我已经连接到我的 SDF 文件）。关闭此连接后，一切正常。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2012-09-03T21:44:43.277

好的，这是我对问题的邪恶解决方案。我终于让它工作了。Win8 VS2012 EF5 MVC4

*   确保已安装 Nuget 包 EntityFramework.SqlServerCompact
*   首先，不要手动添加 DbContext。相反，使用脚手架菜单中的
*   当您使用脚手架创建了一个 Controller+Views 后，切换回 web.config 中的旧连接字符串 - 使用 SQL CE 4.0 的那个。然后一切对我来说都很好

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2013-01-31T17:20:11.387

我觉得这是相关的，但我使用上面的解决方案来解决问题并让我再次构建控制器。之后我遇到的问题是在服务器资源管理器中似乎无法找到我的 SQL Compact 数据库。当我添加应用程序时它似乎正在工作，但我找不到它。一旦我删除了构造函数： public class SchoolContext : DbContext { public Sc​​hoolContext() : base("School") { } 。

我能够再次看到数据库。我仍在开发中，需要添加更多控制器，所以我想我将不得不再次使用它。但这花了我整个上午才弄清楚为什么我突然在服务器资源管理器中看不到数据库了。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2013-02-01T06:02:07.880

如果您使用的是 VS 2012，您还需要告诉 EF 使用 SQL Compact 而不是 localDb。

```
<entityFramework>
<defaultConnectionFactory type="System.Data.Entity.Infrastructure.SqlCeConnectionFactory, EntityFramework">
  <parameters>
    <parameter value="System.Data.SqlServerCe.4.0" />
  </parameters>
</defaultConnectionFactory> 
```

一种更简单的方法是安装[EF SQL Compact Nuget 包](http://nuget.org/packages/EntityFramework.sqlservercompact)。

有关更多详细信息，请查看此[博客条目](http://odetocode.com/Blogs/scott/archive/2012/08/14/a-troubleshooting-guide-for-entity-framework-connections-amp-migrations.aspx)。

# android - 是否有可能将 swf 文件运行到 android 2.3？

> ID：12172082
> 
> 赞同：0
> 
> 时间：2012-08-29T06:32:40.463
> 
> 标签：android, flash

我目前正在开发一个 android 应用程序，我想将一个 .swf 文件附加到它以用于某些目的（比如在 webview 中播放它）。

有没有办法做到这一点？我应该如何开始？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:49:00.003

向 APK 添加资源的方法有两种：

将它放在`/res/raw`您的项目或`assets`文件夹中。

指南：

*   [资源/原始](http://developer.android.com/guide/topics/resources/providing-resources.html)
*   [资产](http://developer.android.com/reference/android/content/res/Resources.html)

# java - 借助 java 中的示例，封装和抽象的区别

> ID：12172084
> 
> 赞同：6
> 
> 时间：2012-08-29T06:32:45.523
> 
> 标签：java

我知道我的问题将被提名为在发布后立即关闭，但让我告诉你，我一直在搜索该站点，以在 Java 示例方面寻找明显的区别。请不要急于结束问题。

我写了以下内容：

```
public class Bank {
public String name="XXX Bank";
private int noOfCust;

public int getNoOfCust() {
 return getNoOfCusts() + 2;
}
public void setNoOfCust(int noOfCust) {
if(noOfCust > 0)
{
this.noOfCust = noOfCust;
}
}

private int getNoOfCusts()
{
noOfCust = 100;
return noOfCust;
}
} 
```

在这里，“noOfCust 是被隐藏的数据”。我不是通过引入私有 getNoOfCusts() 来公开实现部分。所以我相信这是封装，因为我已经将所有细节都捆绑在一个类中，并且也隐藏了数据。

**问题1：**如果这种强封装？如果没有，我该如何改进它以进行强封装？

**问题2：**抽象意味着完全隐藏实现。那么我上面所做的是抽象吗？

我出于沮丧而发布了这个问题，因为我已经向面试官解释了上述解释，他告诉我，这不是正确的意思。

**PS：**请按照上面的例子回答。我不想要实时的例子或假设。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-29T06:43:29.523

选择必要的属性并隐藏不需要的细节是`Abstraction`. 例如考虑人。人有眼睛、眼睛颜色、皮肤颜色属性。但是如果他去银行，那么银行做他的抽象并且不考虑这些人的属性，而是选择姓名、地址、电话号码。这是抽象。你误会了。

封装只是意味着将对象状态（属性）和行为（方法）绑定在一起。如果你正在创建类，你正在做封装。

来自[wiki](http://en.wikipedia.org/wiki/Data_abstraction#Programming_languages)：在 C++、Object Pascal 或 Java 等面向对象的编程语言中，抽象的概念本身已成为一种声明性声明——使用关键字 virtual（在 C++ 中）或 abstract（在 Java 中）。在这样的声明之后，程序员有责任实现一个类来实例化声明的对象。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T06:47:09.830

*   背后的基本思想是在类定义之外`encapsulation`隐藏视图的内部表示。`object`这样做通常是为了保护类的内部并提供一种系统的方式来访问它们。

*   此外，`getter/setter`组合背后的想法是提供一种访问该类属性的受控方式。因此，对于类的每个`private`属性，您将拥有`public` `setter()`和`getter()`方法。

考虑到这两个，您可以很好地了解为什么您的代码在封装方面存在问题。实现了这个概念的骨架类可能如下：

```
public class Bank{
    private int noOfCustomers;
    private String name;

    public String getName(){
        return this.name;
    }

    public void setName(String name){
        this.name = name;
    }

    public int getNoOfCustomers(){
        return this.noOfCustomers;
    }

    public void setNoOfCustomers(int noOfCustomers){
        this.noOfCustomers = noOfCustomers;
    }

    /**
    * This method is to illustrate that it is perfectly valid to have
    * multiple types of setter methods
    */
    public void setNoOfCustomers(String noOfCustomers){
        try{
            this.noOfCustomers = Integer.parseInt(noOfCustomers);
        }catch(Exception exe){
            //Handle exceptions
        }
    }
} 
```

关于`abstraction`：您可以将其视为以简化的方式呈现某些东西的想法，这在使用方面很容易理解或更与情况相关。以您的示例为例，您可以将其`Bank`视为`abstraction`既可以代表联邦银行也可以代表州会员银行或任何与此相关的任何事物。您基本上会为这些表示中的每一个派生特定的类，以 Bank 作为父级。

`abstraction`我认为如果您研究[`File`](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/File.html)Java 中的代表，您可以更好地了解。文件本身是文件和目录路径名的抽象表示。但是，如果您研究源代码，您会发现它包含几个`private`与其设计相关的属性。

封装，因此可以被认为是您如何保护您的属性免受滥用和抽象，因此可以认为您为外部用户提供了多少简化。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-29T06:50:24.193

封装：好吧，也许吧。你有一个非常奇怪的实现，调用者看不到它。

抽象：我们需要知道你实际上想要做什么。当前接口看起来像整数值的 getter/setter。这不是很抽象（并且实现不是那样工作的，它会做其他事情）。对于抽象，执行的操作（或涉及的对象）需要捕获不仅与具体实现分离的东西，而且还适用于更广泛的东西（不同但仍然相似，因为它们可以被制作成属于同一个“抽象”）。你的例子可能只是小到这个。

为了尝试在示例的基础上进行构建，也许您有一段代码可以按企业规模对企业进行分类。将存在具有诸如客户数量、员工数量等属性的“业务”的抽象。使用这种抽象的代码同样适用于银行、药店和杂货店。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T06:42:06.477

我相信你可能误解了封装和抽象。

用黑匣子更清楚地解释了封装。内部可以随时更改，但公共接口保持不变。话虽如此，您的代码是部分封装的，因为您有一个带有公共 getter 和 setter 的私有 int（以及一个私有 getter，我认为这没有任何意义，但这取决于您）。但是，`String name`是公共的，没有 getter 或 setter；看来您打算将其设为常量，在这种情况下，应将其声明为 public、static 和 final。

抽象是将一个想法简化为更一般的开销想法的概念。在Java中，一个类可以通过提供一个提供一般思想但缺乏细节的实现来抽象化，并且它不能被实例化。这是通过`abstract`修饰符实现的，在修改类时，表示抽象类不能被实例化；修改方法（必须在抽象类中）时，修饰符表示必须在任何子类实现中定义抽象方法。

Java 中的抽象示例，其中抽象表明 Baseball 是一个 Ball：

```
public abstract class Ball {
    // this class cannot be instantiated
    public abstract double getRadius();

    public double getVolume() {
        return (4.0 / 3) * Math.PI * Math.pow(getRadius(), 3);
    }
}

public class Baseball extends Ball {
    // this class can be instantiated
    @Override
    public double getRadius() {
        return 3.0;
    }
} 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-08-29T06:43:42.637

java中的封装是通过对象和方法自动进行的。你不需要照顾它。但是，如果您愿意，您可以使用不同的隐藏方式来增加您的复杂性。因此，其他人将无法破译您的代码。您可能会使用递归函数和复杂的方法并添加不必要的代码。强封装！！

# android - 检查 Activity 是否从 Service 运行

> ID：12172092
> 
> 赞同：50
> 
> 时间：2012-08-29T06:33:05.803
> 
> 标签：android, android-activity, android-service

如何`Service`检查其中一个应用程序`Activity`是否在前台运行？

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2012-08-29T06:44:07.617

将以下方法与您的包名称一起使用。如果您的任何活动在前台，它将返回 true。

```
public boolean isForeground(String myPackage) {
    ActivityManager manager = (ActivityManager) getSystemService(ACTIVITY_SERVICE);
    List<ActivityManager.RunningTaskInfo> runningTaskInfo = manager.getRunningTasks(1); 
    ComponentName componentInfo = runningTaskInfo.get(0).topActivity;
    return componentInfo.getPackageName().equals(myPackage);
} 
```

### [更新：](https://stackoverflow.com/users/1318946/pratik-butani)

添加权限：

```
<uses-permission android:name="android.permission.GET_TASKS" /> 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2017-08-04T15:42:51.813

使用 SharedPreferences 将应用的状态保存在 onResume、onPause 等中。

像这样：

```
 @Override
public void onPause() {
    super.onPause();
    PreferenceManager.getDefaultSharedPreferences(this).edit().putBoolean("isActive", false).commit();
}

@Override
public void onDestroy() {
    super.onDestroy();
    PreferenceManager.getDefaultSharedPreferences(this).edit().putBoolean("isActive", false).commit();
}

@Override
public void onResume() {
    super.onResume();
    PreferenceManager.getDefaultSharedPreferences(this).edit().putBoolean("isActive", true).commit();
} 
```

然后在服务中：

```
if (PreferenceManager.getDefaultSharedPreferences(this).getBoolean("isActive", false)) {
            return;
} 
```

我同时使用了 onPause 和 onDestroy，因为有时它会直接跳到 onDestroy :) 它基本上都是巫术

无论如何，希望对某人有所帮助

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2015-10-05T18:00:26.680

从 Lollipop 开始，`getRunningTasks`已弃用：

> ```
>  * <p><b>Note: this method is only intended for debugging and presenting
>  * task management user interfaces</b>.  This should never be used for
>  * core logic in an application, such as deciding between different
>  * behaviors based on the information found here.</p>
>  *
>  * @deprecated As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method
>  * is no longer available to third party applications. 
> ```

一种方法是在应用启动时绑定到服务。然后： 1\. 如果您需要检查应用程序的任何活动是否正在运行，您可以为您的活动创建一个基类并覆盖 onPause 和 onResume。在 onPause 中，调用一个服务方法让它知道它在后台。在 onResume 中，调用一个服务方法让它知道它在前台。2\. 如果您只需要对某些特定活动执行此操作，只需在这些活动上覆盖 onResume 和 onPause 或为这些活动创建基础活动。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2019-10-17T21:03:40.117

[Erian](https://stackoverflow.com/users/1063776/eiran)有正确的答案，但使用“getDefaultSharedPreferences”并不安全。当您启动服务时，它使用与 Activity 不同的实例。活动中偏好的任何更改，都不会更新服务中的默认共享偏好。因此，我将使用“.getSharedPreferences”更改 Erian 代码，如下所示：

在活动中：

```
 @Override
    public void onPause() {
        super.onPause();
        getApplicationContext().getSharedPreferences("preferences", MODE_MULTI_PROCESS).edit().putBoolean("isActive", false).commit();;
    }

    @Override
    public void onDestroy() {
        super.onDestroy();
        getApplicationContext().getSharedPreferences("preferences", MODE_MULTI_PROCESS).edit().putBoolean("isActive", false).commit();
    }

    @Override
    public void onResume() {
        super.onResume();
        getApplicationContext().getSharedPreferences("preferences", MODE_MULTI_PROCESS).edit().putBoolean("isActive", false).commit();
    } 
```

服务中：

```
 if (getApplicationContext().getSharedPreferences("preferences", MODE_MULTI_PROCESS).getBoolean("isActive", false)) {
        return;
    } 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-01-19T13:55:59.853

上面的大多数答案都有一个缺陷，如果您的活动具有触发顶部另一个活动的某些功能，例如发送电子邮件

![在此处输入图像描述](../Images/3e19a35b2440893f862b86070c09c886.png)

`topActivity`不会返回您的包名称，而是返回 Android 活动选择器包名称。

因此，最好检查`baseActivity`而不是`topActivity`.

```
public boolean isMainActivityRunning(String packageName) {
    ActivityManager activityManager = (ActivityManager) getSystemService (Context.ACTIVITY_SERVICE);
    List<RunningTaskInfo> tasksInfo = activityManager.getRunningTasks(Integer.MAX_VALUE); 

    for (int i = 0; i < tasksInfo.size(); i++) {
        if (tasksInfo.get(i).baseActivity.getPackageName().toString().equals(packageName)
            return true;
    }

    return false;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-05-18T13:23:37.750

使用 Android 架构组件，检查这一点非常简单

```
annotationProcessor 'android.arch.lifecycle:compiler:1.1.1'
implementation 'android.arch.lifecycle:extensions:1.1.1' 
```

生命周期观察者类，保留一个 pref 标志

```
public class AppLifecycleObserver implements LifecycleObserver {

public static final String TAG = "AppLifecycleObserver";

@OnLifecycleEvent(Lifecycle.Event.ON_START)
void onEnterForeground() {
    Log.d(TAG, "onEnterForeground");
    PreferencesUtils.save(Constants.IN_FOREGROUND, true);
}

@OnLifecycleEvent(Lifecycle.Event.ON_STOP)
void onEnterBackground() {
    Log.d(TAG, "onEnterBackground");
    PreferencesUtils.save(Constants.IN_FOREGROUND, false);
  }
} 
```

应用程序类观察者生命周期

```
public class App extends Application {

private static App instance;

public static App getInstance() {
    return instance;
}

@Override
public void onCreate() {
    super.onCreate();

    AppLifecycleObserver appLifecycleObserver = new AppLifecycleObserver();
    ProcessLifecycleOwner.get().getLifecycle().addObserver(appLifecycleObserver);
} 
```

现在，您可以使用 Pref 标志在您喜欢的任何地方进行检查。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-06-19T09:20:02.920

# getRunningTasks() 已弃用

`getRunningTask()`已被 android 弃用，现在我们可以使用`getRunningAppProcesses()`. 这将返回一个列表或`RunningAppProcessInfo`我们可以检查`importance`第一个进程的位置。

更多详细信息请参见官方文档：[https://developer.android.com/reference/android/app/ActivityManager#getRunningAppProcesses()](https://developer.android.com/reference/android/app/ActivityManager#getRunningAppProcesses())

### 代码：

```
 public boolean isAppInForeground() {
        ActivityManager manager = (ActivityManager) getSystemService(ACTIVITY_SERVICE);
        List<ActivityManager.RunningAppProcessInfo> runningTaskInfo = manager.getRunningAppProcesses();
        if (runningTaskInfo.size() > 0)
            return runningTaskInfo.get(0).importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND;
        return false; // no running process
    } 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-08-29T06:38:30.037

我认为您可以在 Android 上 getRunninTasks 并检查您的包名是否正在运行任务。

```
public boolean isServiceRunning() { 

ActivityManager activityManager = (ActivityManager)Monitor.this.getSystemService (Context.ACTIVITY_SERVICE); 
List<RunningTaskInfo> services = activityManager.getRunningTasks(Integer.MAX_VALUE); 
isServiceFound = false; 
for (int i = 0; i < services.size(); i++) { 
    if (services.get(i).topActivity.toString().equalsIgnoreCase("ComponentInfo{com.lyo.AutoMessage/com.lyo.AutoMessage.TextLogList}")) {
        isServiceFound = true;
    }
} 
return isServiceFound; 
} 
```

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2015-01-14T12:22:55.657

使用以下方法获取当前活动的完整类名（包+类名），并检查它是否等于您想要的活动的完整类名（包+类名）：

```
 public String getCurrentClass() {

    ActivityManager manager = (ActivityManager) getSystemService(ACTIVITY_SERVICE);
    List<ActivityManager.RunningTaskInfo> runningTaskInfo = manager.getRunningTasks(1);

    ComponentName componentInfo = runningTaskInfo.get(0).topActivity;
    String className = componentInfo.getClassName();
    return className;
 } 
```

# java - 有没有办法使用 sql 计算 2 个表之间的匹配？

> ID：12172094
> 
> 赞同：3
> 
> 时间：2012-08-29T06:33:09.467
> 
> 标签：java, mysql, sql

好的......我需要做这个简单的任务......我可以用java或python以一种简单的方式来做......但是有没有办法使用sql来做到这一点并将工作委托给数据库引擎而不是jvm还是python？

我有表 1 和表 2

例如

表 1 有 2 个存储的标题...

《爱是一种感觉》《哈利波特》

表 2 有 3 个存储的标题...

“abc”、“物理 1”、“旅行”

有些是不同的，但有些可能是巧合......

我需要将表 2 的每个条目与从 table1 中选择标题返回的所有行进行比较...

所以会是这样

它将“love is a feel”与“abc”、“physics 1”和“the trip”进行比较，如果找到匹配项，则增加计数...

它应该对所有的名字都这样做，最后我想知道我有多少巧合......

正如我所说，它可以通过查询使用 java 或任何语言来完成：

```
results = rows returned by using "select title from table1";
while results.next () {
 results2 = rows returned by using "select title from table2";

 while results2.next(){
    if current results == current results2
        count++;    
  }
}

print count 
```

但这不是我需要的...

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T06:36:39.623

```
SELECT COUNT(*) FROM table1 JOIN table2 ON table1.title = table2.title 
```

了解[SQL 连接](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-29T06:36:52.733

尝试加入两个表，

```
SELECT  a.title, COUNT(b.title) totalMatch
FROM    table1 a
            LEFT JOIN table2 b
                On a.title = b.title
GROUP BY a.Title 
```

通过使用`LEFT JOIN`它将显示`0`如果它没有匹配。

# [SQLFiddle 演示](http://sqlfiddle.com/#!2/5c82a/1)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T06:45:43.370

```
SELECT COUNT(*) FROM table1 INNER JOIN table2 ON table1.title = table2.title 
```

# html - 通过 Longtail JW Player 发布广告的步骤

> ID：12172096
> 
> 赞同：0
> 
> 时间：2012-08-29T06:33:17.197
> 
> 标签：html, video, jwplayer

嗨，我下载了**JW Player**并开始使用它，我已经用**Apache2**运行它并在上面播放了一个简单的视频。

现在我的问题是如何执行[AdSolution](http://www.longtailvideo.com/adsolution/demos/) 我需要在其上发布广告并需要演示前贴片、叠加和后贴片。我尝试了[Longtail](http://www.longtailvideo.com/adsolution/demos/)的链接。它要求我[注册](https://dashboard.longtailvideo.com/signup.aspx)。我没有网站URL 和视频站点 URL。是否有任何可能的方式来执行它而无需注册。或任何免费脚本链接开始使用它。如果有任何教程可用于轻松使用**longtail JW 播放器，那就太好了** *用于广告演示*。***欢迎任何博客或任何网站使用 JW Player 上的代码和脚本提供广告演示的简单步骤。***

> 谢谢，格拉德尼克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T07:46:36.960

AdSolution 非常简单。您只需在播放器代码中添加几行代码，AdSolution 就会作为插件包含在内。注册后，您将获得自己的广告 ID 代码，然后您可以转到“仪表板”并启用或禁用不同的广告类型（预贴片广告、叠加广告等）。这是对您的代码的完整修改：

```
 'plugins': {
    'ltas': {
    'cc': 'yourID'";
       } 
     } 
```

如果您想观看所有此类工作的演示，请注册 blip.Tv 并在其中放一些电影并启用广告。广告需要几天的时间才能运行，但它们有前贴片、后贴片和叠加层。我不使用 blip anymove，因为我发现它们非常不可靠并且在技术上存在挑战。

# php - Javascript 在加载网页后加载图像

> ID：12172097
> 
> 赞同：-4
> 
> 时间：2012-08-29T06:33:23.187
> 
> 标签：php, javascript

我的项目在 wordpress 中。在我的主页中，许多图像是从 iTunes 商店加载的。页面加载需要很长时间。

我可以有任何 javascript，以便在加载网页后加载所有图像。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:35:54.823

它是通过一种称为延迟加载的技术完成的。

来自维基百科：

> **延迟加载**是计算机编程中常用的一种设计模式，用于将对象的初始化推迟到需要它的时候。如果使用得当和适当，它可以提高程序运行的效率。延迟加载的反面是急切加载。

你也有一个用于延迟加载的 jQuery 插件！查看[jQuery 的延迟加载插件](http://www.appelsiini.net/projects/lazyload)。

从他们的网站：

> Lazy Load 是一个用 JavaScript 编写的 jQuery 插件。它延迟了长网页中图像的加载。在用户滚动到它们之前，不会加载视口之外的图像（网页的可见部分）。这与图像预加载相反。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:37:08.740

有一个jQuery插件叫做[`lazyload`](http://www.appelsiini.net/projects/lazyload)

# php - 如何在 php 中检查服务器上的 mysql 数据库扩展启用/禁用？

> ID：12172103
> 
> 赞同：1
> 
> 时间：2012-08-29T06:33:44.667
> 
> 标签：php, mysql, database, phpinfo, php-ini

我正在编写一个 PHP 安装脚本，在安装应用程序之前我需要检查许多服务器设置。

那么，如果使用 PHP 在客户端的服务器上启用/禁用了 mysql 数据库扩展，我该如何检查它？

而且我还需要检查以下扩展`Encryption`，`Zip Archive`它们是否安装在服务器上。

请提出一种检查这些设置的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:37:54.403

只需执行这个：

```
extension_loaded('mysql'); 
```

如果返回`true`，则加载扩展。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:36:26.433

我想这会对你有所帮助

```
extension_loaded('zip') 
```

检查是否加载了 zip 扩展名。这将一次只检查一个扩展..

# pdf - 通过 Imagemagick 和 Ghostscript 转换带有子集字体的 PDF

> ID：12172110
> 
> 赞同：0
> 
> 时间：2012-08-29T06:34:10.440
> 
> 标签：pdf, imagemagick, preview, jpeg, ghostscript

在基于 linux 的 ftp 服务器上，我需要在基于浏览器的界面中提供图像数据的预览以及打印质量的 PDF 文档。我使用的服务器软件（crushFTP）推荐使用 Imagemagick 来创建这样的预览，并为命令行提供了相应的预设。通过使用 convert 命令，它会创建不同大小的 jpg，并将它们保存在单独的文件夹 (/previews) 中，其中包含以原始文件命名的子文件夹。原始文件本身保持不变。对于各种图像数据，这工作得很好，至于 PDF 文件（在这个意义上也是 Adob​​e Illustrator 文件）我遇到了某些问题。通过 crushFTP 日志，Imagemagick 使用的 Ghostscript 委托无法找到 PDF 中使用的字体。在尝试了几件事后，我了解到在各自的 PDF 中，字体没有完全嵌入，而是子集。由于 PDF 文件是由第三方提供的，因此不能完全嵌入字体。然而，具有完全嵌入字体的 PDF 被转换并且预览看起来不错。在 Ghostscript 的字体映射中包含字体只能是一种临时解决方法（因为字体可用 - 合法 - 但一旦 PDF 文件提供程序使用新字体，Ghostscript 将无法再解码文件）。因此我的问题是：有没有一种方法可以通过 Imagemagick 和/或 Ghostscript 转换具有子集字体的 PDF 文件，而不必在 Ghostscript 的字体映射中包含这些字体？如果是这样，如何做到这一点？如果没有办法这样做，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:11:38.077

字体是子集的事实是无关紧要的。字体要么嵌入在 PDF 文件中，要么不嵌入。如果字体是嵌入的，那​​么它们是否是子集并不重要，Ghostscript 将使用这些字体来呈现 PDF。

如果字体不存在，则会发生许多不同的后备策略，具体取决于字体的性质（TrueType、type 1、CIDFont 等）和 GS 的设置方式。

您还没有说您遇到的实际问题是什么，只是“某些问题”并不是很有启发性。

你能提供一个示例 PDF 文件来查看吗？您使用的是哪个版本的 Ghostscript？您是否从 Ghostscript 收到任何错误或警告，如果有，它们是什么？你知道 ImageMagick 发送的 Ghostscript 命令行吗？

# android - 在 2 台 PC 上工作时无法安装应用程序

> ID：12172112
> 
> 赞同：1
> 
> 时间：2012-08-29T06:34:33.147
> 
> 标签：android, eclipse, android-emulator

我已经为 Android 编写了一个几乎可以使用的应用程序。现在我已将我的项目文件夹移至 Dropbox，以便在 2 台 PC 上使用它。

另一台 PC 上的编译工作正常。模拟器上的调试也是如此。但是当我想在手机上安装它时，我必须先卸载它。卸载后它工作正常。

有人知道，如果这个问题是正常的，或者我该如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:53:34.200

根据帕夏所说：

1) 在您的第一台 PC 上：

打开 Eclipse，转到 Window -> Preferences -> Android -> Build 并从“Default debug keystore”获取路径，然后将该文件（“ **debug.keystore** ”）放在您的第二台 PC 上。

2) 在第二台电脑上：

打开 Eclipse，转到 Window -> Preferences -> Android -> Build。选择“自定义调试密钥库”旁边的“**浏览**”，然后选择您从第一台 PC 获得的“debug.keystore”文件。

# javascript - Javascript：如何避免在函数中添加新属性？

> ID：12172119
> 
> 赞同：4
> 
> 时间：2012-08-29T06:35:06.040
> 
> 标签：javascript, oop

我是一名 JS 新手，正在阅读一本书[Javascript Patterns](http://shop.oreilly.com/product/9780596806767.do)进行理解。我可以看到的代码片段之一：

```
var myFunc = function param() {
...
...
};
myFunc.cache={}; 
```

这表明函数体之外的任何人都可以添加新属性。这不会破坏封装吗？如果程序的其他部分不断添加新属性使我的对象创建变得庞大怎么办？如果有人删除/修改了我定义的属性怎么办？

我不知道我将其称为“问题”是否正确。但如果是这样，请帮助避免这种情况。

谢谢 ！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T06:41:05.590

JavaScript 从来没有任何选项来保护您的对象，但从 ECMAScript 5 开始，您现在可以[冻结](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/freeze)一个对象。

```
var o = { a: 1, b: 2 };
Object.freeze(o);
console.log(o.a); // 1
o.a = 2;
console.log(o.a); // 1 
```

还有一个称为严格模式的新上下文，可以抛出错误。

```
function processObject(o) {
    "use strict";
    delete o.a; // throws a TypeError
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:56:37.917

> 这不会破坏封装吗？

是和不是。如果您使用闭包，您仍然可以拥有“私有”变量，因为它们不能从实例化时声明的对象函数外部访问。例子：

```
var ObjectPrototype = function () {
   var privateVariable = "closure-scope value";
   var InnerPrototype = function () {
       this.getPrivate = function () { return privateVariable; };
   };
   return new InnerPrototype();
};
var myObject = new ObjectPrototype(); 
```

因为`ObjectPrototype`返回 的新实例`InnerPrototype`，并且`privateVariable`只存在于`ObjectPrototype`闭包中，所以无法`privateVariable`直接从外部访问。获得它的价值的唯一方法是通过`myObject.getPrivate()`.

注意：Javascript 通过引用传递对象和数组，因此该方法仅真正保护简单值（除非您小心返回克隆值）。

> 如果程序的其他部分不断添加新属性使我的对象创建变得庞大怎么办？

这是您只需要密切关注的事情。

> 如果有人删除/修改了我定义的属性怎么办？

使用我上面描述的闭包范围方法来防止这种情况。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:50:27.903

可以随时添加新属性，但这不一定是坏事。覆盖实现的能力非常强大。

通常，您会想要将方法、对象等添加到函数原型中，因此请尝试

```
myFunc.prototype.cache = {}; 
```

最终你会想要遵循类似模块模式的东西

[http://www.yuiblog.com/blog/2007/06/12/module-pattern/](http://www.yuiblog.com/blog/2007/06/12/module-pattern/)

[http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth](http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth)

使用模块模式将允许您通过闭包创建具有对数据的特权访问权限的“私有”成员。

# python - 将默认参数传递给基于类的视图

> ID：12172120
> 
> 赞同：1
> 
> 时间：2012-08-29T06:35:10.627
> 
> 标签：python, django, django-views

我试图提出一个基本的 CRUD，嵌套资源实现，具有以下 url：

我不知道如何将默认参数（在我的情况下为内容类型 ID）传递给视图。下面是我用过的。任何指针来完成这个，或者如果这完全是废话，有没有更好的方法来完成这个？

```
urlpatterns = patterns('',
   url (
       regex = '^/?$',
       view =  ParentResourceListView.as_view(),
       name = 'parent_resource_list'
   ),

   url (
       regex = r'^(?P<pk>\d+)/$',
       view =  ParentResourceDetailView.as_view(),
       name = 'parent_resource_detail'
   ),
   url (
       regex = r'^new/$',
       view =  ParentResourceCreateView.as_view(),
       name = 'parent_resource_create'
   ),

   url (
       regex = '^(?P<pk>\d+)/delete/$',
       view =  ParentResourceDeleteView.as_view(),
       name = 'parent_resource_delete'
   ),
   url (
       regex = '^(?P<pk>\d+)/edit/$',
       view =  ParentResourceUpdateView.as_view(),
       name = 'parent_resource_update'
   ),
)

urlpatterns += patterns('',
                   url (
    regex = r'^(?P<object_id>\d+)/child_resources$',
    view =  ChildResourceListView.as_view(),
    name = 'parent_resource_child_resource_list',
    kwargs = {
        "content_type",
        ContentType.objects.get_for_model(ParentResource).id
        }
    ),
                   url (
    regex = r'^(?P<object_id>\d+)/child_resources/(?P<pk>\d+)/$',
    view =  ChildResourceDetailView.as_view(),
    name = 'parent_resource_child_resource_detail',
    kwargs = {
        "content_type",
        ContentType.objects.get_for_model(ParentResource).id
        }
    ),
                   url (
    regex = r'^(?P<object_id>\d+)/child_resources/new/$',
    view =  ChildResourceCreateView.as_view(),
    name = 'parent_resource_child_resource_create',
    kwargs={
        "content_type",
        ContentType.objects.get_for_model(ParentResource).id
        }
    ),

                   url (
    regex = '^(?P<object_id>\d+)/child_resource/(?P<pk>\d+)/delete/$',
    view =  ChildResourceDeleteView.as_view(),
    name = 'parent_resource_child_resource_delete',
    kwargs={
        "content_type",
        ContentType.objects.get_for_model(ParentResource).id
        }
    ),
                   url (
    regex = '^(?P<object_id>\d+)/child_resource/(?P<pk>\d+)/edit/$',
    view =  ChildResourceUpdateView.as_view(),
    name = 'parent_resource_child_resource_update',
    kwargs={
        "content_type",
        ContentType.objects.get_for_model(ParentResource).id
        }
    ),
                   ) 
```

编辑：

我使用的观点受到[这篇](http://blog.headspin.com/?p=541)文章的启发

```
class ParentResourceMixin(object):
    model = ParentResource
    def get_success_url(self):
        return reverse('parent_resource_list')
    def get_queryset(self):
        return ParentResource.objects.all()

class ParentResourceListView(ParentResourceMixin, ListView):
    pass

class ParentResourceDetailView(ParentResourceMixin, DetailView):
    pass

class ParentResourceCreateView(ParentResourceMixin, CreateView):
    pass

class ParentResourceDeleteView(ParentResourceMixin, DeleteView):
    pass

class ParentResourceUpdateView(ParentResourceMixin, UpdateView):
    pass 
```

编辑（基于jpic的答案的解决方案）：

子资源视图是：

```
class ChildResourceMixin(object):

    content_type = None

    model = ChildResource
    def get_success_url(self):
        return reverse('child_resource_list')
    def get_queryset(self):
        return ChildResource.objects.all()

class ChildResourceListView(ChildResourceMixin, ListView):
    pass

class ChildResourceDetailView(ChildResourceMixin, DetailView):
    pass

class ChildResourceCreateView(ChildResourceMixin, CreateView):
    pass

class ChildResourceDeleteView(ChildResourceMixin, DeleteView):
    pass

class ChildResourceUpdateView(ChildResourceMixin, UpdateView):
    pass 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T09:34:56.547

[CBV 文档](https://docs.djangoproject.com/en/dev/topics/class-based-views/#simple-usage-in-your-urlconf)：

> 如果您只更改基于类的视图上的一些简单属性，您可以简单地将它们传递给 as_view 方法调用本身

```
ParentResourceListView.as_view(
    content_type=ContentType.objects.get_for_model(ParentResource).id) 
```

为此，[您应该定义一个类属性](https://github.com/django/django/blob/1.4/django/views/generic/base.py#L40)，即。

```
class ChildResourceMixin(object):
    content_type = None 
```

这将启用从 as_view() 传递的参数。

我喜欢你的代码，它看起来简单而灵活。

# android - dexguard 是否可以防止简单的 LVL 裂缝？

> ID：12172123
> 
> 赞同：5
> 
> 时间：2012-08-29T06:35:48.367
> 
> 标签：android, proguard, android-lvl

我刚刚了解到标准的 android LVL + proguard 不能保证任何盗版保护免受使用 antilvl 等工具的简单破解。我正在努力寻找一种合理的方法来确保我的 android 应用程序没有被盗版。我找到了名为 dexguard 的商业 proguard 替代品。它相当昂贵（最便宜的许可证为 375 欧元），但如果我知道它可以保护我的应用程序免受脚本小子和业余应用程序破解者的侵害，我会购买它。如果一些真正聪明的破解者能打败我的盗版保护，我没有问题，但如果有任何脚本小子能做到，那么它就是一个展示者。

1.  您对 LVL 代码的 dexguard 保护有任何经验吗？

2.  仅仅用 dexguard 替换 proguard 并留下标准的 LVL 检查就足以阻止脚本小子吗？

3.  如果 dexguard 不是保护我的 lvl 代码的简单方法，您还有什么其他建议？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-08-30T08:48:48.847

开发人员可能不愿意谈论他们的防御措施。作为 ProGuard 和 DexGuard 的开发者，我的经验是：

1.  DexGuard 用户的反馈非常积极。这是一场战争，但经过处理的应用程序运行良好，即使是针对专门的黑客也是如此。
2.  DexGuard 附带了一系列示例，其中一个展示了如何强化许可证验证库。它增加了防止黑客攻击和篡改的保护层。每个处理的应用程序都是不同的。这会破坏一键式破解工具，这些工具会寻找模式并应用简单的修改。
3.  DexGuard 使用简单：您可以应用现有的 ProGuard 配置，然后指定应用程序的哪些部分必须加强。您仍然可以将 DexGuard 与其他措施结合使用，例如本机代码或在服务器上运行部分应用程序。

# security - 存储和使用散列

> ID：12172137
> 
> 赞同：1
> 
> 时间：2012-08-29T06:37:12.290
> 
> 标签：security, hash, password-protection

我正在构建一个安全的登录模块，并且我一直在阅读所有这些关于在散列之前对密码进行加盐等的指南。但是我觉得所有密码仍然是“可解散的”，可以同时访问散列和盐。

所以我开始考虑如果我只是将一段哈希存储在数据库中会怎样。在 PHP 中，当使用 SHA-256 进行散列时，我得到一个 64 个字符的字符串，如果我只是将其中的 50 个保存在数据库中并在登录时进行相同的 50char 比较，该怎么办？

暴力破解会产生一些额外的误报。但是他们仍然必须尝试很多很多密码，而真正的密码肯定是不可破解的。

我的想法是否遗漏了一些东西，或者这真的可行吗？

/ 安德烈亚斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:19:59.267

没有名副其实的哈希是可逆的。从 SHA-256 哈希的输出中丢弃 14 个字符将其减少为 SHA-228；这可能不是您的想法。如果您使用足够大的盐（64 位或更多）并且它是适当随机的，那么您将足够安全，如果您存储 64 个字符而不是 50 个字符，则更安全。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T23:32:45.217

> 我觉得所有密码仍然是“可去除的”，可以访问散列和盐。

哈希不能被反转：这就是哈希的目的和本质。

攻击是，由于某些其他信息泄漏而知道散列，您通过计算输入变量的所有可能值的散列来蛮力解决问题，如果您受到打击，那么您猜测的值很有可能是最初用于创建哈希的那个。

Salt 减缓了这种攻击，因为它必须为每个密码单独完成，而不是一次预先计算，但是现代硬件可以如此快速地计算散列值，以至于它不再具有曾经的威慑价值。

您当然可以通过减少存储的哈希数据量来降低这种蛮力猜测正确的可能性：例如，如果您只保留 8 位哈希，那么攻击者就无法真正猜出原始密码，因为每 256 个密码中就有一个密码将匹配。但这样做的必要缺点是，您自己使用该散列进行身份验证被大大削弱，每 256 次随机猜测中就有 1 次进入。

使存储的哈希值更不易被唯一猜测的好处与使主身份验证接口更容易受到机会影响的成本成正比。离线可猜测哈希的情况仅在发生数据库泄露时发生，而不是像可猜测身份验证接口那样持续存在威胁，因此我们通常不太关心它。

在您的示例中，200 位哈希（50 个十六进制数字）仍然可能为所有常见密码字符串提供唯一值，因此几乎没有真正的好处。

最终，防止对泄露数据库进行离线猜测的问题是无法解决的，但我们目前最好的方法是让攻击者和真实身份验证服务器的哈希计算速度变慢。有关常见实现，请参见 bcrypt 和 PBKDF2。即便如此，这只能减缓大规模猜测离线攻击的时间，让您有时间在发现数据泄露后要求您的用户更改密码。

# php - PHP MySQL 结果 - 不必要地使用 foreach

> ID：12172138
> 
> 赞同：0
> 
> 时间：2012-08-29T06:37:12.703
> 
> 标签：php, mysql, foreach, resultset

我使用这种方法来访问我的 MySQL 数据库：

```
$STH = $DBH->prepare("SELECT email FROM user WHERE unum = :u");
$STH->bindParam(':u', $json['u']); // Example only
try {
    $STH->execute();
    $STH->setFetchMode(PDO::FETCH_ASSOC);
} catch(PDOException $e) {
    echo $e->getMessage();
} 
```

现在，我知道 $STH 只会包含一行，但我总是这样做：

```
foreach($STH as $row){
    ... $row['email']... etc 
```

这`foreach`是完全没有必要的，并且使代码更难遵循。我如何`email`在`$STH`不使用的情况下访问`foreach`？

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T06:39:16.027

您可以使用

```
$row = $STH->fetch();
echo $row['email']; 
```

它只会得到 1 行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T06:38:14.420

只需使用获取第一行

```
$row = $STH->fetch(PDO::FETCH_ASSOC);
echo $row['email']; 
```

应该做你的伎俩

# blackberry - 远程擦除黑莓设备？

> ID：12172146
> 
> 赞同：0
> 
> 时间：2012-08-29T06:38:03.233
> 
> 标签：blackberry

我正在 BB 中开发一个安全应用程序，我想在紧急情况下或出于安全目的在其中擦除我设备的数据，但是远程。

是否可以远程擦除 BB 设备中的数据（电子邮件、联系人、消息等）？请建议我！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:01:31.850

RIM 不会向用户应用程序公开该功能，但他们有自己的应用程序用于此目的 - [Blackberry Protect](http://www.blackberry.com/protect)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:46:24.147

你不能这样做，没有可用于该目的的 API。

# java - 错误标记电子邮件 Java

> ID：12172149
> 
> 赞同：4
> 
> 时间：2012-08-29T06:38:10.207
> 
> 标签：java, email

调用以下代码后，我编写了代码片段：

```
Message message_in  = null;
inbox instanceof IMAPFolder
IMAPFolder f = (IMAPFolder)inbox;
f.idle();
System.out.println("IDLE done");                                              
message_in = inbox.getMessage(inbox.getMessageCount());
message_in.setFlag(Flags.Flag.DELETED, true);
inbox.expunge(); 
```

我收到错误消息：

```
javax.mail.MessagingException: A9 NO Command received in Invalid state.;
  nested exception is:
    com.sun.mail.iap.CommandFailedException: A9 NO Command received in Invalid state.
    at com.sun.mail.imap.IMAPMessage.setFlags(IMAPMessage.java:905)
    at javax.mail.Message.setFlag(Message.java:578)
    at com.name.vmmonitor.main.VMMonitor.startPolling(VMMonitor.java:160)
    at com.name.vmmonitor.main.VMMonitor.main(VMMonitor.java:283)
Caused by: com.sun.mail.iap.CommandFailedException: A9 NO Command received in Invalid state.
    at com.sun.mail.iap.Protocol.handleResult(Protocol.java:351)
    at com.sun.mail.imap.protocol.IMAPProtocol.storeFlags(IMAPProtocol.java:1589)
    at com.sun.mail.imap.protocol.IMAPProtocol.storeFlags(IMAPProtocol.java:1574)
    at com.sun.mail.imap.IMAPMessage.setFlags(IMAPMessage.java:901)
    ... 3 more 
```

问题是什么？我可以调用诸如`message_in.getSubject()`但为什么不这样的方法`message_in.setFlag()`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T12:24:56.997

“在无效状态下收到 A9 NO 命令。” 表示 IMAP 文件夹（帐户）是只读的。

# sorting - 在 vb6 中对数组进行排序的更快方法

> ID：12172153
> 
> 赞同：2
> 
> 时间：2012-08-29T06:38:25.247
> 
> 标签：sorting, vb6, swap, quicksort

例如，我在这里所拥有的数据适用于 10 行字节 x 10 列字节 = 100 个元素的数据。但是现在我在 256 行字节 x 256 列字节 = 65536 个元素上进行了尝试，并且按照正确的字典顺序对行进行排序大约需要 30 分钟。无论如何要优化此功能，因此最多可能需要 5 秒才能完成。

我知道我必须使用其他一些排序算法，但我无法真正弄清楚该怎么做。

```
Function SortArrayOfArraysLexicoGraphically(ByRef data() As Byte) As Byte()
Dim lexicoGraphicalIndexes() As Byte

Dim dataSize As Long
dataSize = UBound(data) + 1
Dim squareRootMinusOne As Integer
Dim squareRoot As Integer
squareRoot = Sqr(dataSize)
squareRootMinusOne = squareRoot - 1

ReDim lexicoGraphicalIndexes(squareRootMinusOne)

Dim columnStart As Long
Dim row As Long
Dim column As Long
Dim rowSwapped As Boolean

For columnStart = 0 To UBound(lexicoGraphicalIndexes)
    lexicoGraphicalIndexes(columnStart) = columnStart
Next columnStart

'start column from the last element from the row and go backwards to first element in that row.
For columnStart = squareRootMinusOne To 0 Step -1
    Do
        rowSwapped = False
        Do
             If data((row * squareRoot) + columnStart) > data(((row + 1) * squareRoot) + columnStart) Then

                'Swaps a full row byte by byte.
                For column = 0 To squareRootMinusOne
                    Call SwapBytes(data, (row * squareRoot) + column, ((row + 1) * squareRoot) + column)
                Next column
                Call SwapBytes(lexicoGraphicalIndexes, row, row + 1)
                rowSwapped = True
            End If
            row = row + 1
        Loop Until row > squareRootMinusOne - 1
        row = 0
    Loop Until rowSwapped = False
Next columnStart

'returns a byte array of sorted indexes.
SortArrayOfArraysLexicoGraphically = lexicoGraphicalIndexes
End Function

Public Sub SwapBytes(data() As Byte, firstIndex As Long, secondIndex As Long)
    Dim tmpFirstByte As Byte
    tmpFirstByte = data(firstIndex)
    data(firstIndex) = data(secondIndex)
    data(secondIndex) = tmpFirstByte
End Sub 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T10:17:54.070

其中缓慢的一步是循环中逐字节复制。我会利用 RtlMoveMemory API 调用（通常称为 CopyMemory）。这会进行块内存复制，速度要快得多。我还声明了一个模块级数组作为行交换中的临时缓冲区。您可能只需合并以下两个过程，使其独立：

```
Private Declare Sub CopyMemory Lib "Kernel32.dll" Alias "RtlMoveMemory" (ByVal pDest As Long, ByVal pSrc As Long, ByVal nCount As Long)

Private m_bytTemp() As Byte

Function SortArrayOfArraysLexicoGraphically2(ByRef data() As Byte) As Byte()

    Dim lexicoGraphicalIndexes() As Byte
    Dim dataSize As Long
    Dim squareRootMinusOne As Integer
    Dim squareRoot As Integer
    Dim columnStart As Long
    Dim row As Long
    Dim column As Long
    Dim rowSwapped As Boolean

    dataSize = UBound(data) + 1
    squareRoot = Sqr(dataSize)
    ReDim m_bytTemp(1 To squareRoot)
    squareRootMinusOne = squareRoot - 1
    ReDim lexicoGraphicalIndexes(squareRootMinusOne)

    For columnStart = 0 To UBound(lexicoGraphicalIndexes)
        lexicoGraphicalIndexes(columnStart) = columnStart
    Next columnStart

    'start column from the last element from the row and go backwards to first element in that row.
    For columnStart = squareRootMinusOne To 0 Step -1
        Do
            rowSwapped = False
            Do
                If data((row * squareRoot) + columnStart) > data(((row + 1) * squareRoot) + columnStart) Then
                    'Swaps a full row in a few copies.
                    SwapMultipleBytes data, (row * squareRoot), ((row + 1) * squareRoot), squareRoot
                    Call SwapBytes(lexicoGraphicalIndexes, row, row + 1)
                    rowSwapped = True
                End If
                row = row + 1
            Loop Until row > squareRootMinusOne - 1
            row = 0
        Loop Until rowSwapped = False
    Next columnStart

    'returns a byte array of sorted indexes.
    SortArrayOfArraysLexicoGraphically2 = lexicoGraphicalIndexes
End Function

Public Sub SwapMultipleBytes(ByRef data() As Byte, ByVal firstIndex As Long, ByVal secondIndex As Long, ByVal nCount As Long)

    CopyMemory VarPtr(m_bytTemp(1)), VarPtr(data(firstIndex)), nCount
    CopyMemory VarPtr(data(firstIndex)), VarPtr(data(secondIndex)), nCount
    CopyMemory VarPtr(data(secondIndex)), VarPtr(m_bytTemp(1)), nCount

End Sub 
```

# spring - sessionFactory.getCurrentSession() 尽管配置了 OSIV，但返回不同的会话

> ID：12172158
> 
> 赞同：2
> 
> 时间：2012-08-29T06:38:45.153
> 
> 标签：spring, hibernate, open-session-in-view

我对*Spring*的*OpenSessionInViewFilter*有疑问。我的*web.xml*配置如下所示：

```
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>
        WEB-INF/applicationContext.xml
    </param-value>
</context-param>

<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>
<listener>
    <listener-class>org.springframework.web.context.request.RequestContextListener</listener-class>
</listener>

<filter>
    <filter-name>Hibernate-OSIV pattern</filter-name>
    <filter-class>org.springframework.orm.hibernate3.support.OpenSessionInViewFilter</filter-class>
    <init-param>
        <param-name>sessionFactoryBeanName</param-name>
        <param-value>sessionFactory</param-value>
    </init-param>
    <init-param>
        <param-name>singleSession</param-name>
        <param-value>true</param-value>
    </init-param>
    <init-param>
        <param-name>flushMode</param-name>
        <param-value>AUTO</param-value>
    </init-param>

</filter>
<filter-mapping>
    <filter-name>Hibernate-OSIV pattern</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping> 
```

我的通用*DAO*看起来像这样：

公共类 BasicDaoImpl 实现 BasicDao {

```
private Class currentClass;

private SessionFactory sessionFactory;

public SessionFactory getSessionFactory() {
    return sessionFactory;
}

public void setSessionFactory(SessionFactory sessionFactory) {
    this.sessionFactory = sessionFactory;
}

@Transactional(readOnly = true)
@Override
public T getById(long id) {
    Session session = getCurrentSession();
    return (T) session.get(getGenericClass(), id);
}

@Transactional(readOnly = true)
@Override
public List<T> getAll() {
    Session session = getCurrentSession();
    return session.createCriteria(getGenericClass()).list();
}

@Transactional(readOnly = false)
@Override
public void create(T entity) {
    Session session = getCurrentSession();
    session.save(entity);
}

@Transactional(readOnly = false)
@Override
public void update(T entity) {
    getCurrentSession().update(entity);
}

@Transactional(readOnly = false)
@Override
public void delete(T entity) {
    Session session = getCurrentSession();
    session.delete(entity);
}

@Override
@Transactional(readOnly = false)
public void update(Collection<T> entities) {
    Session session = getCurrentSession();
    for (T entity : entities) {
        session.update(entity);
    }
}

@Override
@Transactional(readOnly = false)
public void create(List<T> entities) {
    Session session = getCurrentSession();
    for (T entity : entities) {
        session.save(entity);
    }
}

private Class getGenericClass() {
    if (currentClass == null) {
        ParameterizedType type = (ParameterizedType) getClass().getGenericSuperclass();
        currentClass = (Class) type.getActualTypeArguments()[0];
    }
    return currentClass;
}

protected Session getCurrentSession() {
    return sessionFactory.getCurrentSession();
}
} 
```

( *SessionFactory*被注入)

我知道它不是为单个会话配置的（比如使用更新而不是合并），但首先我想摆脱*LazyInitializationException*。

我可以从调试中看到，每个请求上的*sessionFactory.getCurrentSession()*返回具有不同*hashCode的会话*

现在我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T07:59:08.460

从 Hibernate 4.1.7 开始，您可以将惰性关联上的事务作为配置属性关闭。[更多细节](https://hibernate.onjira.com/browse/HHH-7457)

# c# - 如何按顺序将项目插入列表？

> ID：12172162
> 
> 赞同：32
> 
> 时间：2012-08-29T06:39:06.713
> 
> 标签：c#, sorting, insert

我有一个`DateTimeOffset`对象列表，我想按顺序将新对象插入到列表中。

```
List<DateTimeOffset> TimeList = ...
// determine the order before insert or add the new item 
```

抱歉，需要更新我的问题。

```
List<customizedClass> ItemList = ...
//customizedClass contains DateTimeOffset object and other strings, int, etc.

ItemList.Sort();    // this won't work until set data comparison with DateTimeOffset
ItemList.OrderBy(); // this won't work until set data comparison with DateTimeOffset 
```

另外，如何将`DateTimeOffset`其作为参数`.OrderBy()`？

我也试过：

```
ItemList = from s in ItemList
           orderby s.PublishDate descending    // .PublishDate is type DateTime
           select s; 
```

但是，它返回此错误消息，

> 无法将类型“System.Linq.IOrderedEnumerable”隐式转换为“System.Collections.Gerneric.List”。存在显式转换（您是否缺少演员表？）

* * *

## 回答 #1

> 赞同：73
> 
> 时间：2012-08-29T06:59:11.017

假设您的列表已经按升序排序

```
var index = TimeList.BinarySearch(dateTimeOffset);
if (index < 0) index = ~index;
TimeList.Insert(index, dateTimeOffset); 
```

* * *

## 回答 #2

> 赞同：46
> 
> 时间：2014-04-02T04:04:54.927

[@LB](https://stackoverflow.com/a/12172412/1768303)对边缘情况的回答略有改进：

```
public static class ListExt
{
    public static void AddSorted<T>(this List<T> @this, T item) where T: IComparable<T>
    {
        if (@this.Count == 0)
        {
            @this.Add(item);
            return;
        }
        if (@this[@this.Count-1].CompareTo(item) <= 0)
        {
            @this.Add(item);
            return;
        }
        if (@this[0].CompareTo(item) >= 0)
        {
            @this.Insert(0, item);
            return;
        }
        int index = @this.BinarySearch(item);
        if (index < 0) 
            index = ~index;
        @this.Insert(index, item);
    }
} 
```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2012-08-29T06:59:45.460

使用 .NET 4，您可以使用新的，[`SortedSet<T>`](http://msdn.microsoft.com/en-us/library/dd412070%28VS.100%29.aspx)否则您会被 key-value collection 困住[`SortedList`](http://msdn.microsoft.com/en-us/library/system.collections.sortedlist.aspx)。

```
SortedSet<DateTimeOffset> TimeList = new SortedSet<DateTimeOffset>();
// add DateTimeOffsets here, they will be sorted initially 
```

注意：`SortedSet<T>`该类不接受重复元素。如果 item 已经在集合中，则此方法返回 false 并且不会抛出异常。

如果允许重复，您可以使用 a`List<DateTimeOffset>`并使用它的[`Sort`](http://msdn.microsoft.com/en-us/library/3da4abas.aspx)方法。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-08-29T08:00:05.800

修改您的 LINQ，在末尾添加 ToList()：

```
ItemList = (from s in ItemList
            orderby s.PublishDate descending   
            select s).ToList(); 
```

或者将排序列表分配给另一个变量

```
var sortedList = from s in .... 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2017-07-06T11:32:52.713

我接受了[@Noseratio 的答案](https://stackoverflow.com/a/22801345/2983132)并对其进行了重新设计并将其与@Jeppe 从[这里](https://stackoverflow.com/a/16839559/2983132)的答案结合起来， 以获得一个适用于实现 IList 的集合的函数（我需要它用于路径的 ObservableCollection）和不实现 IComparable 的类型。

```
 /// <summary>
    /// Inserts a new value into a sorted collection.
    /// </summary>
    /// <typeparam name="T">The type of collection values, where the type implements IComparable of itself</typeparam>
    /// <param name="collection">The source collection</param>
    /// <param name="item">The item being inserted</param>
    public static void InsertSorted<T>(this IList<T> collection, T item)
        where T : IComparable<T>
    {
        InsertSorted(collection, item, Comparer<T>.Create((x, y) => x.CompareTo(y)));
    }

    /// <summary>
    /// Inserts a new value into a sorted collection.
    /// </summary>
    /// <typeparam name="T">The type of collection values</typeparam>
    /// <param name="collection">The source collection</param>
    /// <param name="item">The item being inserted</param>
    /// <param name="comparerFunction">An IComparer to comparer T values, e.g. Comparer&lt;T&gt;.Create((x, y) =&gt; (x.Property &lt; y.Property) ? -1 : (x.Property &gt; y.Property) ? 1 : 0)</param>
    public static void InsertSorted<T>(this IList<T> collection, T item, IComparer<T> comparerFunction)
    {
        if (collection.Count == 0)
        {
            // Simple add
            collection.Add(item);
        }
        else if (comparerFunction.Compare(item, collection[collection.Count - 1]) >= 0)
        {
            // Add to the end as the item being added is greater than the last item by comparison.
            collection.Add(item);
        }
        else if (comparerFunction.Compare(item, collection[0]) <= 0)
        {
            // Add to the front as the item being added is less than the first item by comparison.
            collection.Insert(0, item);
        }
        else
        {
            // Otherwise, search for the place to insert.
            int index = 0;
            if (collection is List<T> list)
            {
                index = list.BinarySearch(item, comparerFunction);
            }
            else if (collection is T[] arr)
            {
                index = Array.BinarySearch(arr, item, comparerFunction);
            }
            else
            {
                for (int i = 0; i < collection.Count; i++)
                {
                    if (comparerFunction.Compare(collection[i], item) <= 0)
                    {
                        // If the item is the same or before, then the insertion point is here.
                        index = i;
                        break;
                    }

                    // Otherwise loop. We're already tested the last element for greater than count.
                }
            }

            if (index < 0)
            {
                // The zero-based index of item if item is found,
                // otherwise, a negative number that is the bitwise complement of the index of the next element that is larger than item or, if there is no larger element, the bitwise complement of Count.
                index = ~index;
            }

            collection.Insert(index, item);
        }
    } 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2020-07-20T16:51:27.640

我很想对这里的两个建议进行基准测试，使用 SortedSet 类与基于列表的二进制搜索插入。从我在 .NET Core 3.1 上的（非科学）结果来看，对于小型（数百个）集合，List 似乎可能使用更少的内存，但是随着集合变得越大，SortedSet 在时间和内存上都开始获胜。

（项目是小类的实例，有两个字段，Guid id 和字符串名称）

50 项：

```
|        Method |     Mean |     Error |    StdDev |  Gen 0 | Gen 1 | Gen 2 | Allocated |
|-------------- |---------:|----------:|----------:|-------:|------:|------:|----------:|
|     SortedSet | 5.617 μs | 0.0183 μs | 0.0153 μs | 0.3052 |     - |     - |    1.9 KB |
| SortedAddList | 5.634 μs | 0.0144 μs | 0.0135 μs | 0.1755 |     - |     - |   1.12 KB | 
```

200 项：

```
|        Method |     Mean |    Error |   StdDev |  Gen 0 | Gen 1 | Gen 2 | Allocated |
|-------------- |---------:|---------:|---------:|-------:|------:|------:|----------:|
|     SortedSet | 24.15 μs | 0.066 μs | 0.055 μs | 0.6409 |     - |     - |   4.11 KB |
| SortedAddList | 28.14 μs | 0.060 μs | 0.053 μs | 0.6714 |     - |     - |   4.16 KB | 
```

1000 项：

```
|        Method |     Mean |   Error |  StdDev |  Gen 0 | Gen 1 | Gen 2 | Allocated |
|-------------- |---------:|--------:|--------:|-------:|------:|------:|----------:|
|     SortedSet | 107.5 μs | 0.34 μs | 0.30 μs | 0.7324 |     - |     - |   4.73 KB |
| SortedAddList | 169.1 μs | 0.41 μs | 0.39 μs | 2.4414 |     - |     - |  16.21 KB | 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-08-29T06:44:48.143

将项目插入特定索引

您可以使用：

```
DateTimeOffset dto;

 // Current time
 dto = DateTimeOffset.Now;

//This will insert the item at first position
TimeList.Insert(0,dto);

//This will insert the item at last position
TimeList.Add(dto); 
```

要对集合进行排序，您可以使用 linq：

```
//This will sort the collection in ascending order
List<DateTimeOffset> SortedCollection=from dt in TimeList select dt order by dt; 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-06-07T12:05:24.343

非常简单，将数据添加到列表后

```
list.OrderBy(a => a.ColumnName).ToList(); 
```

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2012-08-29T06:45:59.517

您可以`Insert(index,object)`在找到您想要的索引后使用。

# opengl - OpenGL，关于 alpha 测试和高效绘制位图

> ID：12172167
> 
> 赞同：-2
> 
> 时间：2012-08-29T06:39:29.270
> 
> 标签：opengl, opengl-es

**1 我们可以在 Global 进行 alpha 测试吗？**

```
glEnable(GL_ALPHA_TEST);
glAlphaFunc(GL_EQUAL, 0.7); 
```

使用这两个函数我们可以绘制纹理并显示 alpha >= 0.7 的图像。我的问题是，如果我绘制 2 个纹理，它们的某些部分重叠，它们的 alpha 总和为 0.7，如何显示这部分？

* * *

**2 如何更高效地绘制位图**

关于问题1，我在OpenGL中尝试了一些功能，并没有实现。所以我尝试另一种方式。我设置了一个`map[512][512]`. 我首先在这张地图上绘制所有纹理并自己积累 alpha。如果像素 alpha >= 0.7，我将其设置为 color ，否则我将其设置为白色。最后，我将整个地图绘制为窗口的纹理。使用这种方法，我可以实现在全局进行 alpha 测试。但它非常非常慢。

（此方法来自 Stackoverflow 的 Bartek Banachewicz）

这是我的功能：

1.  初始化`map[512][512]`全部设置为零

2.  在这张地图上画出所有的东西，并积累阿尔法

3.  循环地图上的每个像素，根据那里的alpha设置它们的颜色

4.  用于`glTexImage2D()`生成纹理（我认为这可能很慢）

5.  使用`glTexCoord2f`和`glVertex3f`在窗口上绘制它。

使用这种方法，我画了大约 100 个东西，它变得非常慢（大约 20 FPS）

**我可以做些什么来优化这个方法或取得其他成就吗？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T12:01:51.033

> 我的问题是，如果我绘制 2 个纹理，它们的某些部分重叠，它们的 alpha 总和为 0.7，如何显示这部分？

首先，一些术语：

*您根本*无法绘制纹理。您只能绘制*三角形*，这*可能*涉及将一个或多个纹理映射到它们。

如果您将两个纹理都映射到三角形，那么您对它们的 alpha 所做的操作取决于您的着色器（或者如果您不使用着色器，则取决于您的`glTexEnv`设置）。如果您分别绘制它们，那么您不会绘制 2 个纹理。您正在绘制*一个*纹理，然后是*另一个*纹理。

除非您使用混合模式，否则第一个纹理绘制的内容*不会*影响第二个。或者第三个。

> 如何更高效地绘制位图

一般来说，你*不会*。有一些方法可以提高图像数据的传输效率（以[像素缓冲区对象](http://www.opengl.org/wiki/Pixel_Buffer_Object)为中心，以进行异步传输和[缓冲区流技术](http://www.opengl.org/wiki/Buffer_Object_Streaming)），但如果您所做的只是对图像进行 blitting，那么正确的方法不是每帧都创建纹理.

您要做的是将您计划使用的所有图像提供给 OpenGL，然后使用纹理映射的三角形（四边形）将它们直接绘制到屏幕上。这就是在大多数执行 2D 位图的应用程序中的完成方式。

# c# - TextBox windows 8中的占位符或水印

> ID：12172170
> 
> 赞同：16
> 
> 时间：2012-08-29T06:39:49.433
> 
> 标签：c#, windows-8, microsoft-metro, .net-4.5

我想在`TextBox`用户没有输入任何内容并且`TextBox`处于空闲状态时显示占位符文本。

在 Andriod 中可以使用 `android:hint="some Text"`
在 iPhone 中完成`textFild.placeholder = "some text";`

如何在 Windows 8 Metro 应用程序中执行此操作？

谢谢

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-08-29T08:42:30.337

编辑[windows-8.1](/questions/tagged/windows-8.1 "显示标记为“windows-8.1”的问题")他们引入了一个新属性

```
<TextBox x:Name="UserName" PlaceholderText="User Name"/> 
```

请参阅[Sergey Aldoukhov 的回答](https://stackoverflow.com/a/21927164/468724)

* * *

~~对我来说，这是我得到的工作解决方案。~~
~~如果有人有更好的解决方案，请回答。~~

```
private void OnTestTextBoxGotFocus(object sender, RoutedEventArgs e)
{
    if (testTextBox.Text.Equals("Type here...", StringComparison.OrdinalIgnoreCase))
    {
        testTextBox.Text = string.Empty;
    }  
}

private void OnTestTextBoxLostFocus(object sender, RoutedEventArgs e)
{
    if (string.IsNullOrEmpty(testTextBox.Text))
    {
        testTextBox.Text = "Type here...";
    }
} 
```

* * *

~~MS 也做同样的检查[这里的例子](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.textbox)。~~

~~**PS我已经创建了一个自定义控件，`TextBox`你可以从[这里下载](https://github.com/rathore619/WatermarkTextBox)**~~

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-02-21T06:42:42.633

在 Windows 8.1 中，TextBox 有一个 PlaceholderText 属性：

```
<TextBox
    x:Name="UserName"
    PlaceholderText="User Name"
    /> 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-05-23T06:40:15.017

WinRT Xaml 工具包有一个 WatermarkTextbox 控件： [http ://winrtxamltoolkit.codeplex.com/](http://winrtxamltoolkit.codeplex.com/)

您也可以通过 NuGet 获得它，它带有其他几个有用的控件。

您可以通过引用页面属性中的工具包来使用它：

```
xmlns:xtk="using:WinRTXamlToolkit.Controls" 
```

只需像这样访问 WaterMarkTextBox ：

```
<xtk:WatermarkTextBox WatermarkText="some text" /> 
```

**编辑。：**

Callisto 也提供水印文本框： [https ://github.com/timheuer/callisto](https://github.com/timheuer/callisto)

它只是在自述文件中没有提到。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-29T06:44:36.273

如果您使用 WPF，您正在寻找水印，请查看以下 stackoverflow[答案](https://stackoverflow.com/questions/833943/watermark-textbox-in-wpf)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-29T06:47:30.297

您可以做的是设置默认文本并使用文本框的点击事件清除它，或者您可以使用水印文本框，请参见[此处](http://our.componentone.com/2012/08/15/windows-8-xaml-controls-are-here/)

# iphone - 本地通知声音不起作用

> ID：12172175
> 
> 赞同：5
> 
> 时间：2012-08-29T06:40:14.437
> 
> 标签：iphone, objective-c, ios, xcode, cocoa-touch

在 iPhone 应用程序中，

我正在设置本地通知。

我正在设置自定义声音。

**当通知到来时，我无法“听到”任何声音。甚至没有默认声音。**

在我的 iPod touch 和我的设备中都没有。

任何机构可以帮助我找出原因？

非常感谢。

这是代码。

```
UILocalNotification *localNotification = [[UILocalNotification alloc] init];

localNotification.fireDate=[dateFormat dateFromString:alarm_date];

localNotification.alertBody = @"Alarm.";

localNotification.soundName = [filePath lastPathComponent];

//localNotification.soundName =soundname; 
//UILocalNotificationDefaultSoundName;

localNotification.applicationIconBadgeNumber = 1;

localNotification.alertAction=@"Show";

[[UIApplication sharedApplication] scheduleLocalNotification:localNotification];

[localNotification release]; 
```

**答案** 得到了愚蠢的点：通知声音只有在您的应用程序处于后台或关闭时才会播放。对不起这个问题。不管怎样，谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:44:57.063

我想这对你来说已经够用了.......

```
 UILocalNotification *localNotification = [[UILocalNotification alloc] init];

    localNotification.fireDate = [NSDate dateWithTimeIntervalSinceNow:5];

    localNotification.timeZone = [NSTimeZone defaultTimeZone];
    localNotification.alertBody = @"You have long time to care your......";
    localNotification.applicationIconBadgeNumber = [[UIApplication sharedApplication] applicationIconBadgeNumber]+1;
    localNotification.soundName = UILocalNotificationDefaultSoundName;
    localNotification.repeatInterval = kCFCalendarUnitMinute;
    [[UIApplication sharedApplication] scheduleLocalNotification:localNotification];
    [localNotification release];
    localNotification = nil; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T06:56:08.183

作为通知声音播放的声音应少于 30 秒

另一件事：

根据 Apple Developer Documentation，您需要使用“aiff”、“caf”或“wav”文件。

# css - 设置 div 高度等于屏幕大小

> ID：12172177
> 
> 赞同：46
> 
> 时间：2012-08-29T06:40:32.937
> 
> 标签：css, html, twitter-bootstrap, height, responsive-design

我在 twitter-bootstrap 中有一个 div 元素，它的内容会垂直溢出到屏幕之外。

我希望 div 采用浏览器窗口大小的高度，并让其余内容在窗口内垂直滚动。

我有一个不工作的样本[@jsFiddle](http://jsfiddle.net/isherwood/ntLpg/201/)

```
#content {
    border: 1px solid #000;
    overflow-y:auto;
    height:100%;
}

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span3">Side Bar</div>

        <div class="span9" id="content">
            Content Bar Example Content
        </div>
    </div>
</div> 
```

我在阅读了类似[SO Questions这样的问题后发布了这个问题](https://stackoverflow.com/questions/6675961/how-to-set-height-of-a-div-same-as-the-screen-height)

**编辑 -**

对不起，伙计们，我想我的问题错了。

我想要的是我的 div 必须填充屏幕中其余的垂直空间。

如果有人可以提出响应式解决方案，那就太好了

* * *

## 回答 #1

> 赞同：89
> 
> 时间：2017-01-08T20:56:27.877

使用 CSS`{height: 100%;}`匹配父级的高度。这可以是任何东西，意味着比屏幕更小或更大。使用`{height: 100vh;}`匹配视口的高度。

```
.container {
    height: 100vh;
    overflow: auto;
} 
```

根据[Mozilla的](https://developer.mozilla.org/en-US/docs/Web/CSS/length)官方文档，1vh是：

> 等于视口初始包含块高度的 1%。

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2012-08-29T06:46:30.373

您也需要`height`为父元素付出！看看这个[小提琴](http://jsfiddle.net/ntLpg/17/)。

### CSS：

```
html, body {height: 100%;}

#content, .container-fluid, .span9
{
    border: 1px solid #000;
    overflow-y:auto;
    height:100%;
}​ 
```

### JavaScript（使用jQuery）方式：

```
$(document).ready(function(){
    $(window).resize(function(){
        $(".fullheight").height($(document).height());
    });
}); 
```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2012-08-29T06:48:58.063

尝试这个

```
$(document).ready(function(){
    $('#content').height($(window).height());
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-29T06:44:39.457

利用

```
$(文档).height()
```

属性并从脚本设置为 div 并设置

```
  溢出=自动
```

用于滚动

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-01-06T18:58:04.963

这对我[有用 JsFiddle](https://jsfiddle.net/ascii/5pt98bxz/)

**html**

```
..bootstrap
<div class="row">
  <div class="col-4 window-full" style="background-color:green">
    First Col
  </div>
  <div class="col-8">
    Column-8
  </div>
</div> 
```

**css**

```
.row {
   background: #f8f9fa;
   margin-top: 20px;
}

 .col {
   border: solid 1px #6c757d;
   padding: 10px;
} 
```

**JavaScript**

```
var elements = document.getElementsByClassName('window-full');
var windowheight = window.innerHeight + "px";

fullheight(elements);
function fullheight(elements) {
    for(let el in elements){
        if(elements.hasOwnProperty(el)){
            elements[el].style.height = windowheight;
        }
    }
}

window.onresize = function(event){
     fullheight(elements);
} 
```

结帐 JsFiddle 链接 [JsFiddle](https://jsfiddle.net/ascii/5pt98bxz/)

# visual-studio-2010 - 刷新构建定义流程参数自定义类型

> ID：12172181
> 
> 赞同：0
> 
> 时间：2012-08-29T06:40:47.680
> 
> 标签：visual-studio-2010, build, workflow, tfsbuild

我正在使用自定义过程参数进行构建，它是一个简单的枚举器。该枚举器作为库位于我的存储库中，并在工作流参数中引用。该 dll 是从我的存储库中导入的（工作流程的导入选项卡），并且一切正常。

奇怪的是，每次我更改枚举器，编译dll并签入它时，它仍然以某种方式保留以前的旧版本作为一种缓存，我不知道如何刷新它。我每次都会更改 dll 的版本，以防万一没有成功。如果我通过反射器查看存储库 dll，它包含新枚举器的最新版本。有谁知道如何刷新它以将最新版本显示到构建定义过程参数中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:38:29.330

我把它整理出来重新启动 Visual Studio。这是刷新该数据源的唯一方法，因为其他方法不起作用（团队资源管理器刷新按钮、签入工作流和库等）。

当其他组成员能够看到其机器上的最后一个枚举时，我意识到了这一点。我不知道是否有更好的方法来解决它，但是这种解决方法有点令人沮丧......

# pixelsense - wpf项目到pixelsense应用程序

> ID：12172182
> 
> 赞同：0
> 
> 时间：2012-08-29T06:40:52.843
> 
> 标签：pixelsense, projects

我正在尝试为三星 sur40 像素感机器编写 Microsoft 表面应用程序。我在网上找到了一些示例项目并在 MS Visual C# 2010 上运行它们，但我想将这些项目转换为应用程序，以便我可以将它们放入三星 sur40 并在其表面模式下运行它们。你知道我如何才能真正做到这一点吗？

为了编写这些类型的应用程序，我使用以下操作系统、程序和工具。

> 嵌入式 Windows 7 Professional 64 位
> Microsoft Visual C# 2010 Express Edition
> .NET Framework 4.0
> Windows Presentation Foundation (WPF) 4.0
> Microsoft XNA® Framework 4.0
> Windows PowerShell 和 DMTF DASH 支持，以及增强的管理员工具
> MS Surface 2.0 SDK（输入模拟器允许我在 Windows 7 PC 上开发和测试项目）

一切正常，我可以在我的 PC 上测试示例项目。我只想制作一个 Visual Studio 项目以在三星 sur40 机器上运行。如果可能，请帮助我？如果您需要进一步的解释来回答我的问题，请告诉我，我会尝试扩展问题。先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T11:04:15.543

菜单安装！

你看不到文件夹“c:\ProgramData”，因为文件夹的选项隐藏了~

所以..

1.  C:\ProgramData\Microsoft\Surface\v2.0\Programs --> 复制粘贴！！并找到！！

2.  您在项目中为 MS Surface 应用程序创建 ApplicationName.XML 的快捷方式

3.  复制快捷方式文件并粘贴 --> "C:\ProgramData\Microsoft\Surface\v2.0\Programs"

并按照以下步骤操作：

1.  在 Windows 模式下，单击开始，单击所有程序，单击 Microsoft Surface 2.0，然后单击 Surface 配置编辑器
2.  在左窗格中，单击应用程序启动器。

3.  在“应用程序启动器”窗格的“启动器标题”框中，键入要显示在启动器上方的标题文本。

    标题文本将放置在 Launcher 菜单的正上方，并且是左对齐的。您不能更改文本的字体、字号、字体颜色、对齐方式或位置。

4.  单击确定保存设置并关闭 Surface 配置编辑器，或单击应用保存设置并继续配置 Surface。重新启动 Surface Shell 以使您的设置生效。

点击：[http ://technet.microsoft.com/en-us/library/gg680380.aspx](http://technet.microsoft.com/en-us/library/gg680380.aspx)

# ruby-on-rails - 如何将此 ActiveRecord 查询转换为命名范围？

> ID：12172183
> 
> 赞同：0
> 
> 时间：2012-08-29T06:40:55.560
> 
> 标签：ruby-on-rails, activerecord, ruby-on-rails-3.1, named-scope

我正在尝试在我的应用程序上实现趋势功能。我有一个名为的表`Search`，它有一`keyword`列。每次用户使用搜索功能时，关键字都会作为一行存储在表中。我所做的是我完成了过去 4 小时的搜索，按关键字对它们进行分组，将搜索限制为 6 个关键字，并根据关键字的出现次数对其进行排列。目前，我在控制器上使用这个查询：

```
Search.where('created_at >= ?', 4.hours.ago).group(:keyword).order('count_keyword DESC').limit(6).count(:keyword) 
```

我尝试将相同的查询转换为命名范围，这就是我得到的：

```
scope :trending, lambda { where('created_at >= ?', 4.hours.ago).group(:keyword).order('count_keyword DESC').limit(6).count(:keyword) } 
```

这里的问题是我收到此错误：

> ArgumentError: Unknown key: thesearchkeyword

我真的不太了解命名范围，阅读 API 并没有太大帮助，因为它们只提供了非常简单的示例。谁能指出我正确的方向？

# ssh - ssh 服务器连接到主机 xxx 端口 22：linux-ubuntu 上的连接超时

> ID：12172188
> 
> 赞同：30
> 
> 时间：2012-08-29T06:41:43.577
> 
> 标签：ssh, connection-timeout, linode

我正在尝试通过 ssh 连接到远程服务器，但连接超时。

我运行了以下命令

**ssh testkamer@test.dommainname.com**

并得到以下结果

**ssh：连接到主机 testkamer@test.dommainname.com 端口 22：连接超时**

但如果尝试连接另一台远程服务器，那么我可以成功登录。

所以我认为ssh没有问题，其他人尝试使用相同的登录名和密码登录，他可以成功登录服务器。

请帮助我
谢谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-03T21:46:47.007

以下是可能会阻止您连接到 Linode 实例的几件事：

1.  **DNS 问题**：如果您用来连接远程服务器的计算机没有正确解析**test.kameronderdehamer.nl**，那么您将无法访问您的主机。尝试使用分配给您的 Linode 的公共 IP 地址进行连接，看看它是否有效（例如 `ssh user@123.123.123.123`）。如果您可以使用公共 IP 但不能使用主机名进行连接，这将确认您在域名解析方面遇到了问题。

2.  **网络问题**：可能有一些网络问题阻止您与服务器建立连接。例如，您和主机之间的路径中可能存在配置错误的路由器，或者您可能遇到数据包丢失。虽然这种情况并不常见，但我在 Linode 上已经发生过好几次了，而且非常烦人。以防万一，检查一下可能是个好主意。您可以查看[使用 MTR 诊断网络问题](http://library.linode.com/linux-tools/mtr)（来自 Linode 库）。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2020-03-19T20:42:18.063

该错误消息意味着您正在连接的服务器没有回复端口 22 上的 SSH 连接尝试。这可能有以下三个原因：

1.  您没有在机器上运行 SSH 服务器。您需要安装它才能通过 ssh 访问它。

2.  您正在该机器上运行 SSH 服务器，但在**不同的端口**上。您需要弄清楚它在哪个端口上运行；假设它在端口 1234 上，然后运行 ​​ssh -p 1234 主机名。

3.  您正在该机器上运行 SSH 服务器，它确实使用了您尝试连接的端口，但该机器有防火墙，不允许您连接到它。您需要弄清楚如何更改防火墙，或者您可能需要从不同的主机 ssh 才能被允许进入。

**编辑：**正如（正确地）在评论中指出的那样，第三个肯定是这样；另外两个将导致服务器在客户端尝试连接时发送回 TCP“重置”包，从而导致“连接被拒绝”错误消息，而不是您得到的超时。其他两个也可能是这种情况，但是您需要先修复第三个，然后才能继续。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-11-13T00:08:22.227

我收到此错误，发现我的 SSH 端口（非标准号）未在配置服务器防火墙中列入白名单。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2021-11-22T07:58:35.863

只是在这里添加它，因为它对我有用。在不更改任何设置（据我所知）的情况下，我不再能够通过以下方式访问我的 AWS EC2 实例：`ssh -i /path/to/key/key_name.pem admin@ecx-x-x-xxx-xx.eu-west-2.compute.amazonaws.com`

事实证明，我需要为入站 SSH 流量添加一条规则，正如AWS[在此处解释的那样。](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/authorizing-access-to-an-instance.html)对于`Port range 22`，我添加了`0.0.0.0/0`，它允许*所有*IPv4 地址使用 SSH 访问实例。

请注意，让所有 IPv4 地址都可以访问该实例存在安全风险；在测试环境中短时间内是可以接受的，但您可能需要更长期的解决方案。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2018-10-22T12:36:47.260

如果您在公共网络上，防火墙将默认阻止所有传入连接。检查您的防火墙设置或使用专用网络进行 SSL

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2020-05-08T07:10:57.133

我的 VPN 连接未启用。我一直在尝试所有可能的方法来打开 Firwall 和端口，直到我意识到，我在家工作并且我的 VPN 连接断开了。但是，是的，防火墙和 ssh 配置可能是一个原因。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-10-27T12:58:40.343

这种失败可能有很多可能的原因。

上面列出了一些。我遇到了同样的问题，很难找到失败的根本原因。

我会建议您从 ssh_config 文件中检查 shh 的会话超时。尝试增加会话超时，看看是否再次失败

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2021-03-21T20:01:33.393

我在尝试从我的 Mac 连接到本地 nextcloud 服务器时遇到了这个问题。

我一次 ssh-ing 没有问题，但如果我尝试有多个并发连接，它会挂起直到超时。

注意，我是 sshing 到我的 user@public-ip-address。

当我在同一个网络（即我的家庭网络）上尝试 ssh 进入第二个连接时，我才意识到第二个连接不起作用

此外，当我尝试`ssh user@server-domain`它的工作！

最终解决方法是使用`ssh user@server-domain`而不是`ssh user@public-ip`

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-03-28T20:34:16.353

尝试通过 bash 终端从我的 MBP SSH 到我的 Raspberry pi 时出现此错误。我的 RPI 通过 wifi/wlan0 连接到网络，并且这个 IP 在我的路由器 DHCP 重新启动时已更改。

检查用于通过 SSH 登录的 IP 是否正确。重新检查被 SSH 连接到的设备的 IP（在我的情况下是 RPI），可以使用`hostname -I`

确认/修改“访客”设备（在我的情况下为 MBP）上的 SSH 登录凭据，它在我的尝试中运行良好。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-07-17T03:57:52.603

我的主机是windows 10，我有CEntOS 7 VBox
在你的主机中搜索**“known_hosts”**
，通常在“ **user/.ssh/known_host** ”中的windows中的known_host位置使用记事本打开它， 然后
删除你的centos vbox ip所在的行
尝试在您的终端

中以 mac os 用户连接，您可以在“ **~/.ssh/known_hosts** ”中找到 known_hosts

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-03-12T10:53:20.087

检查您是否在创建自己的 vpc 和子网时意外删除了默认 vpc 或默认子网。我在创建 vpc 时犯了这个错误，因此在通过 ssh 连接时出现了这个错误。

还检查您是否已将 IGW 附加到公共子网。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-11-06T21:17:07.467

如果未正确设置动态主机配置协议，也会导致此问题。

要解决这个问题，首先检查您的 IP 地址是否使用 **ping *ipaddress***配置，如果没有丢包并且 IP 地址工作正常，请尝试任何其他解决方案。如果没有响应并且您有 100% 的数据包丢失，则意味着您的 IP 地址不起作用且未配置。

现在使用配置您的 IP 地址，

**sudo dhclient -v*设备名***

要检查您的设备，您可以使用**“ip a”**命令，例如。我的设备是 usb0，因为我通过 USB 连接了设备

这将自动配置 IP 地址，您甚至可以查看配置了哪个 IP 地址。您可以再次使用**“ip a”**命令进行确认。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2021-01-13T05:46:40.120

如果可能，请尝试连接到 vpn。这就是我面临问题的原因。提示：如果您使用的是 ec2 机器，请尝试重新启动它。前几天这对我有用:)

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2019-01-29T07:52:42.003

可能是，您的服务器/系统上可能未启用 SSH。

1.  检查**sudo systemctl status ssh**是否处于活动状态。
2.  如果它不活跃，请尝试在这些命令的帮助下安装

> sudo apt 更新
> 
> sudo apt install openssh-server

现在尝试使用以下命令访问服务器/系统

> ssh 用户名@ip_address

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2021-09-10T20:19:54.210

请务必让管理员授权您的设备。

在 Linux 上运行： `sudo zerotier-cli listnetworks`

如果它返回状态**ACCESS DENIED**请求管理员授权您的节点。这里提到了这一点。 [https://discuss.zerotier.com/t/solved-cant-join-network/1919](https://discuss.zerotier.com/t/solved-cant-join-network/1919)

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2021-11-16T13:42:43.857

在使用“sudo ufw allow ssh”启用端口 22 后，这发生在我身上。在此之前，当我从另一台机器使用 ssh 进入时，我的机器遭到拒绝。启用它后，我认为它会起作用，但它显示了“连接超时”的消息。由于我刚刚安装了带有安装基本功能选项的 Ubuntu，因此我使用命令 sudo apt list --installed | 检查了是否有 openssh-server。grep openssh 服务器。事实证明，Ubuntu 已经通过缺陷安装了 openssh-client。我卸载了它并按照基本命令安装了 openssh-server：

sudo apt-get purge openssh-client sudo apt update sudo apt install openssh-server

之后，一个简单的“sudo ufw allow ssh”完美运行，我终于能够使用 ssh 命令访问机器。

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2020-07-03T08:32:20.393

我遇到了类似的问题。我检查了以下内容：

1.  如果你的机器上没有安装 ssh，你必须先安装它。（您将收到一条消息说 ssh 未被识别为命令）。
2.  端口 22 在您尝试 ssh 的服务器上打开或未打开。
3.  如果远程服务器的控制权在您手中并且您有权限，请尝试禁用其上的防火墙。
4.  再次尝试 ssh。

如果端口不是问题，那么您必须检查防火墙设置，因为它是阻止您的连接的设置。

对我来说，这也是我的机器和远程服务器之间的防火墙问题。我禁用了远程服务器上的防火墙，并且能够使用 ssh 建立连接。

* * *

## 回答 #18

> 赞同：-1
> 
> 时间：2021-11-11T09:49:20.710

这可能是针对特定情况的，并且仅在某些情况下有效，但请检查您之前是否通过某些 VPN 软件/应用程序进行连接。

尝试再次连接到 VPN。在我的情况下工作。

* * *

## 回答 #19

> 赞同：-3
> 
> 时间：2020-10-17T14:59:51.240

更新该实例的安全组。您的本地 IP 必须已更新。每次都是IP翻转。您将不得不去更新安全组。

# api - Magento API：在soap V2中发布一个新方法

> ID：12172197
> 
> 赞同：13
> 
> 时间：2012-08-29T06:42:38.977
> 
> 标签：api, magento, soap

我是 Magento 的新手，我想创建一个自己的 API v2 方法。我已经建立了一个简单的项目......

```
Mycompany
    Mymodule
        etc
            api.xml
            config.xml
            wsdl.xml
        Model
            Api
                V2.php
            Api.php 
```

这些是主要文件... **(1) api.xml** 

```
<config>
    <api>
        <resources>
            <mymodule translate="title" module="mymodule">
                <title>mymodule</title>
                <model>mymodule/api</model>
                <methods>                    
                    <myapimethod translate="title" module="mymodule">
                        <title>myapimethod</title>
                        <acl>mymodule/myapimethod</acl>
                    </myapimethod>
                </methods>
            </mymodule>
        </resources>
        <v2>
            <resources_function_prefix>
                <mymodule>mymodule</mymodule>
            </resources_function_prefix>
        </v2>
        <acl>
            <resources>
                <mymodule translate="title" module="mymodule">
                    <title>Mymodule</title>
                    <sort_order>2000</sort_order>                    
                    <myapimethod translate="title" module="mymodule">
                        <title>myapimethod</title>
                    </myapimethod>  
                </mymodule>
            </resources>
        </acl>
    </api>
</config> 
```

**(2)wsdl.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns:typens="urn:{{var wsdl.name}}" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
    xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns="http://schemas.xmlsoap.org/wsdl/"
    name="{{var wsdl.name}}" targetNamespace="urn:{{var wsdl.name}}">
    <types>
        <schema xmlns="http://www.w3.org/2001/XMLSchema" targetNamespace="urn:Magento">
            <import namespace="http://schemas.xmlsoap.org/soap/encoding/" schemaLocation="http://schemas.xmlsoap.org/soap/encoding/" />
        </schema>
    </types>
    <message name="myapimethodRequest">
        <part name="sessionId" type="xsd:string"/>
        <part name="message" type="xsd:string" />
    </message>
    <message name="myapimethodResponse">
        <part name="result" type="xsd:string" />
    </message>
    <portType name="{{var wsdl.handler}}PortType">
        <operation name="myapimethod">
            <documentation>this is an example of api method...</documentation>
            <input message="typens:myapimethodRequest" />
            <output message="typens:myapimethodResponse" />
        </operation>
    </portType>
    <binding name="{{var wsdl.handler}}Binding" type="typens:{{var wsdl.handler}}PortType">
        <soap:binding style="rpc" transport="http://schemas.xmlsoap.org/soap/http" />
        <operation name="myapimethod">
            <soap:operation soapAction="urn:{{var wsdl.handler}}Action" />
            <input>
                <soap:body namespace="urn:{{var wsdl.name}}" use="encoded" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" />
            </input>
            <output>
                <soap:body namespace="urn:{{var wsdl.name}}" use="encoded" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" />
            </output>
        </operation>
    </binding>
    <service name="{{var wsdl.name}}Service">
        <port name="{{var wsdl.handler}}Port" binding="typens:{{var wsdl.handler}}Binding">
            <soap:address location="{{var wsdl.url}}" />
        </port>
    </service>
</definitions> 
```

**(3) api.php**

```
<?php
class Mycompany_Mymodule_Model_Api extends Mage_Api_Model_Resource_Abstract
{        
        public function myapimethod($sessionId, $message)
        {
            return "This is the message : ".$message;
        }
} 
```

**(4) V2.php**

```
<?php
class Mycompany_Mymodule_Model_Api_V2 extends Mycompany_Mymodule_Model_Api
{        

} 
```

****(5)test.php****

 **```
<?php
try {
    define("SOAP_WSDL",'http://localhost:8080/magento/index.php/api/?wsdl');
    define("SOAP_WSDL2",'http://localhost:8080/magento/index.php/api/v2_soap?wsdl=1');
    define("SOAP_USER","dtsSoapUser");
    define("SOAP_PASS","casares");

    if($_GET['ver'] == '2') {
        $client = new SoapClient(SOAP_WSDL2, array('trace' => 1,'cache_wsdl' => 0));
        echo "<br>version 2 <br>";
    }
    else {
        $client = new SoapClient(SOAP_WSDL,array('trace' => 1,'cache_wsdl' => 0));

        echo "<br>version 1 <br>";
    }
    $session = $client->login(SOAP_USER, SOAP_PASS);
    $result = array();

    try {
        if($_GET['ver'] == '2') {
             $result = $client->Myapimethod($session, "My message....");
             var_dump ( $result);        
        } else {            
            $result= $client->call($session, 'mymodule.myapimethod', array($session, "My message ...."));
            var_dump($result);
        }
    } catch (SoapFault $exception) {
        echo 'EXCEPTION='.$exception;
    }

    echo "<br>end test<br>";
} catch (Exception $e){
    echo var_dump($e);
    throw $e;
}   
?> 
```

**使用以下网址，结果是：**

> .../test.php/?ver=1

```
version 1
string 'This is the message : My message ....' (length=37)
end test 
```

就是说：使用 Soap v1，该方法有效！

但是如果我使用soap v2调用......

> .../test.php/?ver=2 结果是：

```
version 2
EXCEPTION=SoapFault exception: [3] Invalid api path. in C:\wamp\www\PruebasPHP\test.php:22 Stack trace: #0 C:\wamp\www\PruebasPHP\test.php(22): SoapClient->__call('Myapimethod', Array) #1 C:\wamp\www\PruebasPHP\test.php(22): SoapClient->Myapimethod('b9e1e8d15a61398...', 'My message....') #2 {main}
end test 
```

该角色可以访问所有 api 资源...

我不知道出了什么问题？谁能帮我解决这个问题？可以与acl相关吗？提前致谢！！！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-04T07:32:34.870

是路径的问题。
我已经解决了以下问题......
我的项目的文件夹结构是：

```
Mycompany->
    Mymodule->
        etc->
            api.xml
            config.xml
            wsdl.xml
            wsi.xml
        Model->
            Folder->
                Api.php
                Api->
                    V2.ph 
```

**(1) api.xml**

```
<?xml version="1.0"?>
<config>
    <api>
        <resources>
            <mymodule_folder translate="title" module="mymodule">
                <title>mymodule</title>
                <!-- acl>mymodule/api</acl>-->
                <model>mymodule/folder_api</model>
                <acl>mymodule/folder</acl>
                <methods>                    
                    <myapimethod translate="title" module="mymodule">
                        <title>myapimethod</title>
                        <acl>mymodule/folder/myapimethod</acl>
                    </myapimethod> 
                </methods>
            </mymodule_folder>
        </resources>
        <resources_alias>
            <folder>mymodule_folder</folder>
         </resources_alias>

        <v2>
            <resources_function_prefix>
                <folder>folder</folder>
            </resources_function_prefix>
        </v2>
        <acl>
            <resources>
                <mymodule translate="title" module="mymodule">
                    <title>mymodule</title>
                    <sort_order>1</sort_order>
                    <folder translate="title" module="mymodule">
                        <title>Folder</title>
                        <sort_order>2000</sort_order>                    
                <myapimethod translate="title" module="mymodule">
                            <title>myapimethod</title>
                        </myapimethod>  
                    </folder>
             </mymodule>
            </resources>
        </acl>
    </api>
</config> 
```

注意 api 方法的名称**"myapimethod"**和文件夹**"Model\Folder"**。

**(2)wsdl.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns:typens="urn:{{var wsdl.name}}" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
    xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns="http://schemas.xmlsoap.org/wsdl/"
    name="{{var wsdl.name}}" targetNamespace="urn:{{var wsdl.name}}">
    <types>
        <schema xmlns="http://www.w3.org/2001/XMLSchema" targetNamespace="urn:Magento">
            <import namespace="http://schemas.xmlsoap.org/soap/encoding/" schemaLocation="http://schemas.xmlsoap.org/soap/encoding/" />
        </schema>
    </types>
    <message name="folderMyapimethodRequest">
        <part name="sessionId" type="xsd:string"/>
        <part name="message" type="xsd:string" />
    </message>
    <message name="folderMyapimethodResponse">
        <part name="result" type="xsd:string" />
    </message>
    <portType name="{{var wsdl.handler}}PortType">
        <operation name="folderMyapimethod">
            <documentation>this is an example of api method...</documentation>
            <input message="typens:folderMyapimethodRequest" />
            <output message="typens:folderMyapimethodResponse" />
        </operation>
    </portType>
    <binding name="{{var wsdl.handler}}Binding" type="typens:{{var wsdl.handler}}PortType">
        <soap:binding style="rpc" transport="http://schemas.xmlsoap.org/soap/http" />
        <operation name="folderMyapimethod">
            <soap:operation soapAction="urn:{{var wsdl.handler}}Action" />
            <input>
                <soap:body namespace="urn:{{var wsdl.name}}" use="encoded" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" />
            </input>
            <output>
                <soap:body namespace="urn:{{var wsdl.name}}" use="encoded" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" />
            </output>
        </operation>
    </binding>
    <service name="{{var wsdl.name}}Service">
        <port name="{{var wsdl.handler}}Port" binding="typens:{{var wsdl.handler}}Binding">
            <soap:address location="{{var wsdl.url}}" />
        </port>
    </service>
</definitions> 
```

**api方法的名称必须是：folderMethodname”，其中“folder”是声明api方法的“Model”下的文件夹的名称..，在我们的例子中：“folderMyapimethod”**
**（3）api.php**

```
<?php
class Mycompany_Mymodule_Model_Folder_Api extends Mage_Api_Model_Resource_Abstract
{        
        public function myapimethod( $message)
        {
            return "This is the message: ".$message;
        }
} 
```

**(4) V2.php**

```
<?php
class Mycompany_Mymodule_Model_Folder_Api_V2 extends Mycompany_Mymodule_Model_Folder_Api
{   
     //empty     
} 
```

(5)test.php

```
$result = $client->folderMyapimethod($session,$message); 
```

此行显示如何调用我的 api 方法...

有用！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T17:17:43.820

你的代码很棒！没有错误

据我所知（根据我的经验）。显示该异常是因为您在 api.xml 上的标记位置与您调用的函数不匹配。

* * *

检查文件

> **core\Mage\Catalog\Model\Product\Api.php**

和

> **core\Mage\Catalog\Model\Product\Api\V2.php**

两个类都有一个名为**items**的函数。

*也许*您必须在 api_v2 类的 api_v1 上添加代码，如下所示：

```
<?php
class Mycompany_Mymodule_Model_Api_V2 extends Mycompany_Mymodule_Model_Api
{        
    public function myapimethod($sessionId, $message)
    {
        return "This is the message : ".$message;
    }
} 
```

* * *

或者

也许是**缓存**。

缓存很强大，因为它是 API V2。尝试清除缓存：

1.  管理员 -> 系统 -> 缓存管理 -> 清除 magento 缓存。
2.  尝试清除 /tmp/wsdl.xml 上的 wsdl.xml 缓存（隐藏在您的服务器上）尝试**grep**它。
3.  删除 var/log/* 上的所有文件**

# java - 单击锚标记时执行 JSTL 条件

> ID：12172198
> 
> 赞同：0
> 
> 时间：2012-08-29T06:42:41.597
> 
> 标签：java, jsp, jstl

我想在`href`带有`jstl`标签的锚点上执行一个条件。

```
<a href="#add" class="useradd">Add user</a> 
```

我想要做：

```
if(anchor == add) {
  // do something
} 
```

我不知道如何通过`href`锚来执行这个条件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:52:05.380

这是不可能的，因为浏览器不会将锚发送到服务器。您需要使用参数执行此操作并删除`#`in `href`：

```
<a href="myjsp.jsp?pram1=add" class="useradd">Add user</a> 
```

然后`if`条件是：

```
<c:if test="${param.pram1=='add'}">
    do something
</c:if> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T09:36:44.863

可能你可以使用 javascript 来满足你的要求。比如 onclick 事件等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T17:17:44.337

最后我发现：

```
<a href="#users.jsp&pram1=1" onclick="location='users.jsp?loc=fiche_ag&amp;cur=1' class="useradd"> 
```

现在`if`条件变为：

```
<c:if test="${param.cur=='1'}">
     do what you want ...
</c:if> 
```

# android - 为 OpenGL ES 渲染加载 3D 对象和纹理

> ID：12172201
> 
> 赞同：1
> 
> 时间：2012-08-29T06:42:53.777
> 
> 标签：android, ios, opengl-es, 3d, .obj

我有一些 3D 对象存储在 3D 编辑器应用程序特定 (Blender/Solid/3DS) 文件格式中，导出为 OBJ+MTL 文件，在 PNG/JPG 文件中具有可选纹理。

我想将这些对象加载到手机上的 OpenGL ES 应用程序中（今天适用于 Android，不久的将来适用于 iOS）。而且我不想编写自己的 OBJ+MTL（或任何其他 3D 格式）解析器。所以我想使用一些支持加载 3D 模型的 3D 引擎（从 OBJ+MTL 或从我的 3D 编辑器中导出到 3D 引擎特定的头文件/资源​​文件）来实现这一点。

我对 Min3D 框架有一些经验，但是在加载文件时有点错误（也不会加载材质颜色，只有纹理图像），不支持 OpenGL ES 2.0，并且显然不能在 iOS 上运行。

我已经看到了流行的 C 头文件的混合器导出脚本（[http://iphonedevelopment.blogspot.com/2009/06/using-3d-models-from-blender-in-opengl.html](http://iphonedevelopment.blogspot.com/2009/06/using-3d-models-from-blender-in-opengl.html)），但我相信它没有t 支持材质颜色导出（不使用纹理图像时）。

最近我开始研究 Unity 3D，但它似乎比我需要的要多得多。我需要为我不会使用的功能（动画、游戏特定功能等）付费，并且我需要将它与我的移动应用程序的其他部分集成。

**你会推荐什么 3D 引擎/框架？**

总结一下需求：

*   能够从 OBJ+MTL(+PNG/JPG) 加载 3D 模型 + 纹理或从 3D 编辑器应用程序导出（使用插件？），支持没有纹理的彩色材料
*   支持 Android（非常欢迎额外的 iOS 支持）
*   支持 OpenGL ES 2.0
*   免费/便宜
*   与本机代码轻松集成（Android 首选 Java）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T20:32:35.560

OpenSceneGraph 支持大量模型类型。我没有尝试用它构建任何移动应用程序，但是论坛/邮件列表上有很多关于这样做的讨论和一些教程，适用于 iOS 和 Android。开源。

[http://www.openscenegraph.com](http://www.openscenegraph.com)

[http://forum.openscenegraph.org/viewtopic.php?t=10076](http://forum.openscenegraph.org/viewtopic.php?t=10076)

编辑：作为旁注，如果您只想查看模型，并且不介意将它们存储在云中，则可以将它们上传到 SketchFab：

[http://sketchfab.com/faq](http://sketchfab.com/faq)

并使用 Firefox 移动版查看。只要 iOS 浏览器支持完整的 webGL，就会支持 iOS。

他们在幕后使用 osg 来读取模型，我认为 OSGjs 用于前端。

# php - 在 Windows XP 上配置 Symfony2

> ID：12172202
> 
> 赞同：1
> 
> 时间：2012-08-29T06:42:58.117
> 
> 标签：php, windows, symfony, path

我对 PHP 有一点了解，我想实现 Symfony2，我已经使用 .../Symfony/web/config.php 成功安装和配置了 Symfony2。

现在我将使用 php 命令创建一个包，但我真的对此一无所知。

我试过这个：

![在此处输入图像描述](../Images/a035373f4df424320d49a707c436f60f.png)

我得到了这个结果：

![在此处输入图像描述](../Images/bc1ae3f98b288fcf117ed1cbe19bf9e8.png)

我正在使用 EasyPHP，我相信我已经配置了覆盖它的目录的路径，大多数教程都是关于类 UNIX 系统的，请建议我如何在 Windows XP 上执行此操作。

谢谢大家。孔塔。

# android - textView 没有任何默认填充，同时增加 textView 的大小

> ID：12172210
> 
> 赞同：2
> 
> 时间：2012-08-29T06:43:38.830
> 
> 标签：android, android-layout, android-widget

我想删除 textView 上的默认填充。当我增加 textView 的大小时，它的填充大小会自动增加。即使我将文本视图的背景设置为“@null”。我只想显示没有任何填充的文本。我的视图看起来像第一张图片，我想显示第二张图片。

[第一张图片](http://www.imageurlhost.com/images/ha92acjyo43d9efyczm8.png)

[第二张图片](http://www.imageurlhost.com/images/pn3qjuccusz3mdaqc1.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:51:45.887

也许这对你有帮助

```
<TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="0dip"
        android:layout_margin="0dip"
        android:background="@android:color/transparent" /> 
```

编辑：试试这两个属性：

```
 android:maxWidth="...dip"
        android:maxHeight="...dip" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-09-03T06:45:50.107

尝试 android:includeFontPadding="false" 或将高度设置为与文本大小相同而不是“wrap_content”

# go - 在 Go 中合并地图

> ID：12172215
> 
> 赞同：16
> 
> 时间：2012-08-29T06:43:59.673
> 
> 标签：go

在 Go 中将键值对从一个映射合并到另一个映射的最佳方法是什么？我正在使用一个简单的循环，但我想知道是否`array_merge`可以使用类似 PHP 的东西。

```
bigmap := map[string]string{"a":"a", "b":"b", "c":"c"}
smallmap := map[string]string{"d":"d"}

for k, v := range smallmap {
    bigmap[k] = v
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-29T07:31:18.037

不，没有。

这不会那么有用，因为您编写的清晰代码足够短并且具有不隐藏实现的优点。

如果需要，您可以执行自己的功能：

```
func addmap(a map[string]string, b map[string]string) {
    for k,v := range b {
        a[k] = v
    }
}

addmap(bigmap, smallmap) 
```

但是由于 Go 没有泛型，因此您必须为要使用的每种具体地图类型创建不同的函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:25:06.600

AFAIK，没有内置或库函数。而且我认为您的代码尽可能好。

# java - 比较java中的字符串忽略特殊字符

> ID：12172219
> 
> 赞同：1
> 
> 时间：2012-08-29T06:44:09.970
> 
> 标签：java, mysql, special-characters, string-comparison

请你能帮助我以与 MySQL 相同的方式比较两个带有特殊字符的字符串吗？例如，这两个字符串应该相等：“Dražík”和“Drazik”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:46:58.443

使用**整理器**。请参阅[执行与区域设置无关的比较](http://docs.oracle.com/javase/tutorial/i18n/text/locale.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:51:23.310

最有可能获得编辑距离/ [Levenshtein 距离](http://en.wikipedia.org/wiki/Levenshtein_distance)应该可以解决您的问题。这不是一个理想的解决方案，但您可以使用它取得显著成功。

[检查它你的自我](http://www.csun.edu/english/edit_distance.php)

[Java中的Levenshtein距离](http://en.literateprograms.org/Levenshtein_distance_%28Java%29)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-29T06:49:53.117

您可以简单地使用 s.compareTo(z) 函数，其中 s,z 是字符串名称。它返回两个字符串中第一个不匹配字符之间的差异

# iphone - 在 iphone 的应用程序中输入电子邮件和密码使用 Google+ 登录

> ID：12172232
> 
> 赞同：1
> 
> 时间：2012-08-29T06:44:40.313
> 
> 标签：iphone, login, gmail, google-plus

我想输入电子邮件和密码，然后从应用程序中的谷歌帐户登录。我使用了 Google+ SDK，但它会重定向到 Gmail 网站，但我不想要这个，但我希望用户必须在应用程序中输入 Gmail 的电子邮件和密码，然后按登录按钮。

是否有任何源代码或建议，请在此处发布。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T22:57:16.653

出于安全原因，用户不应将其 Google 电子邮件/密码输入您的应用程序。

[Google+ iOS SDK](https://developers.google.com/+/mobile/ios)提供的登录按钮允许用户在您的应用中使用他们的 Google+ 身份。该按钮还管理 OAuth 2.0 流程和令牌生命周期。

# drupal - Drupal 站点中的 Google 环聊

> ID：12172235
> 
> 赞同：2
> 
> 时间：2012-08-29T06:44:46.487
> 
> 标签：drupal, hangout

我正在构建一个需要实施 Google+ 环聊的项目。我可以在我的网站上获得环聊按钮，通过该按钮我可以开始直播环聊并获取 YouTube URL。使用这个 URL，我创建了实时会话正在进行的视图。但是这个过程是手动的，这意味着我必须手动从 You-Tube 复制 URL 链接并粘贴它来获取视频。

我的问题是我可以自动化这个过程吗？即当我单击环聊按钮时，可以自动检索 URL 并创建节点。我想如果我能得到环聊ID就可以做到。但我无法弄清楚。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-24T21:50:33.110

你的一些请求是可编程的，但不是自动化的。例如，您可以使用环聊按钮发起新的环聊，但用户必须专门将该环聊转为直播。从那里，您可以构建一个检索[YouTube ID的](https://developers.google.com/+/hangouts/api/gapi.hangout.onair)[环聊应用](https://developers.google.com/+/hangouts/)。

# python - 如何在python中使用正则表达式获取一组数字中的确切数字？

> ID：12172241
> 
> 赞同：-4
> 
> 时间：2012-08-29T06:45:23.647
> 
> 标签：python, regex, python-3.x, python-2.7

我在命令行中实现了程序，我编写了这样的代码：

```
import requests
import re
import sys

amount=[]
l=len(sys.argv)
from_=sys.argv[l-2]
to=sys.argv[l-1]
for i in range(1,l-2):
    amount.append(sys.argv[i])
for i in amount:
    r = requests.get("http://www.xe.com/ucc/convert/?Amount=%(amount)s&From=%(from_)s&To=%(to)s"%{"amount":i,"from_":from_,"to":to})
    #dataCrop=re.findall('[0-9,]+\.[0-9]+',r.text)
    dataCrop=re.compile(r'[0-9,]+\.[0-9]+')
    for m in dataCrop.finditer(r.text):
        print m.group() 
```

当我运行程序时，我得到如下输出：

```
1.0
1.1
3.43
1.1
1.1
1.1
1999.09
1.1
1999.09
4.7
1.00
55.6565
55.6565
0.0179674
1.00000
0.79649
0.63231
55.6565
0.96365
0.98866
8.42406
1.24172
78.5433
1.00000
1.25551
1.58151
0.01797
1.03772
1.01147
0.11871
0.80533
0.01273
0.01797
0.01431
0.01136
1.00000
0.01731
0.01776
0.15136
0.02231
1.41122
55.6565
69.8771
88.0212
1.00000
57.7556
56.2947
6.60685
44.8219
0.70861
9.4
2.0 
```

但我只想输出'55.6565'（位于第12位和数组第11位）。我应该如何修改我的正则表达式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T23:11:30.213

你必须**购买**他们的服务。当你这样做时，你将不得不处理不同格式的数据，但从编程的角度来看，总体思路是相同的。

首先，您需要匹配您获得的 HTML 中的正确行。然后在字符串中搜索在正确上下文中看起来像数字的内容，确保将实际数字捕获到一个组中。然后你就完成了。对于有问题的 HTML：

```
for line in r.text.split('\n'):  # This splits the entire HTML into lines.
  if re.search(r'<span class="uccResCde">INR</span>', line):
    match = re.search(r'>(?P<number>[0-9]+.[0-9]+)', line)
    if not match:
      raise Exception('Expected to find a number but did not.')
    print match.group('number') 
```

这输出：

```
55.5211 
```

# objective-c - 以编程方式打开相机胶卷中保存的图像 - iOS

> ID：12172251
> 
> 赞同：6
> 
> 时间：2012-08-29T06:46:03.713
> 
> 标签：objective-c, ios, camera

我能够捕捉图像（使用 AVFoundation），使用资产库保存图像并保存其资产 url，使用图像选择器以编程方式打开相机胶卷。

我想要做的是，当我单击特定按钮时，应该显示最后保存的相机胶卷图像，就好像我打开相机胶卷并单击了该图像一样。我不想将图像对象返回给程序，我只想看看图像。如果我在屏幕上滑动，相机胶卷图像应该会滚动。

另外，我可以使用保存的资产 url 来执行此操作，而不仅仅是访问最后保存的图像吗？

另外，如果我在那里按取消，我可能想返回相机胶卷而不是我的视图控制器。那可能吗？

（我试图搜索，但我认为我没有正确的关键字）

类似的问题在这里：[在精确的照片上打开相机胶卷](https://stackoverflow.com/questions/7277292/open-camera-roll-on-an-exact-photo) 但没有答案。

# java - 如何将值映射到文本？

> ID：12172252
> 
> 赞同：0
> 
> 时间：2012-08-29T06:46:07.613
> 
> 标签：java, jsf, jsf-1.2

我从数据库查询并收到一个整数列表。例如：0、1、2
如果我在浏览器中显示数字，用户将无法理解数字的含义。
所以，我想将一个数字映射到一个字符串。
例如：0：待定，1：活动，2：不活动，依此类推。
文件 display.xhtml 的源代码如下：

```
<!--display.xhtml-->
<t:dataTable id="itemTable" value="#{itemBrowser.itemList}" var="item">
  <t:column>
    <f:facet name="header">
      <h:outputText value="Status" />
    </f:facet>
    <h:outputText value="#{itemStatusListReversedString[item.status]}" />
  </t:column>         
</t:dataTable>  

<!--faces-config.xml-->
<managed-bean>
  <managed-bean-name>itemStatusListReversedString</managed-bean-name>
  <managed-bean-class>java.util.HashMap</managed-bean-class>
  <managed-bean-scope>request</managed-bean-scope>
  <map-entries>
    <key-class>java.lang.String</key-class>
    <map-entry>
      <key>0</key>
      <value>Inactive</value>
    </map-entry>
    <map-entry>
      <key>1</key>
      <value>Active</value>
    </map-entry>
    <map-entry>
      <key>2</key>
      <value>Pending</value>
    </map-entry>
  </map-entries>
</managed-bean> 
```

但是，浏览器中没有任何输出。那么，我该如何解决这个问题呢？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T08:32:02.487

我认为问题出在这一行：

```
<h:outputText value="#{itemStatusListReversedString[item.status]}" /> 
```

你必须做这样的事情

```
<h:outputText value="#{item.stringValue}" /> 
```

并在`item`课堂上添加如下内容：

```
public String getStringValue(){
 return itemStatusListReversedString.get(this.numberValue);
} 
```

您必须更改`item`之前在 faces-config 中的类以注入`itemStatusListReversedString`.

例子：

itemBrowser.itemList 是 MyClass 对象的 List：

```
public class MyClass{
//The necessary stuff
private Integer valueFromDB; //0, 1, 2...
private Map<Integer, String> itemStatusListReversedString; //The map you configured in the faces-config.xml

//More stuff

public String getStringValue(){
 return itemStatusListReversedString.get(this.valueFromDB);
}

} 
```

在 faces-config.xml 中，您可以这样配置 MyClass：

```
<bean id="myClassInstance"              
class="package.MyClass" scope="request">    
        <property name="itemStatusListReversedString" ref="itemStatusListReversedString"></property>
    </bean> 
```

创建 MyClass 的新实例时，请使用此方法，而不是使用以下方法创建它们`new MyClass()`：

```
WebApplicationContext webApplicationContext = FacesContextUtils.getWebApplicationContext(FacesContext.getCurrentInstance());
        MyClass bean = (MyClass)webApplicationContext.getBean("myClassInstance"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:54:07.980

使用[enum](http://docs.oracle.com/javase/1.5.0/docs/guide/language/enums.html)然后使用 ordinal() 处理数字和 values() 处理文本，例如：

```
YourEnum.values()[ordinal] 
```

# php - php搜索脚本搜索mysql表中的所有值

> ID：12172257
> 
> 赞同：-2
> 
> 时间：2012-08-29T06:46:34.040
> 
> 标签：php, mysql, search

我有一张包含 bname、bauthor、bdetails 等信息的书籍表

我想提供一个 php 脚本来搜索表中的任何内容...我尝试了一些脚本但它没有工作..

我还想提供选项以提供选择类别的选项...

如果未选择类别，则脚本也应运行...

任何人都可以在这方面帮助我......

我正在尝试这个：

```
 $data = mysql_query("SELECT * FROM info WHERE upper($field) LIKE'%$find%'"); 

 $result = mysql_query($data);

if (!$result) die ("DAtabase acces faild bc : ". mysql_error());

echo " <ul class=listbk>"; 

while($row = mysql_fetch_array($result, MYSQL_ASSOC))
{   

    echo "  <li class=bkd><a href=details.php?bid=".$row['pid']. "> <img src=images/".$row['bname']. ".jpg />
      <ul class=showcasetitle> <span> ". $row['bname'] . " </span> </ul>
          <p align=center style=text-align:center; font-size:10px;> By    <span> ". $row['bauthor'] . "</span></p>
      </a>          <p align=center style=text-align:center; color: #F00;><span class=WebRupee style=color: #F00;>&#x20B9;</span> ". $row['price'] . "  only !!!</span></p>
</li> " ;

    }

echo " </ul> "; 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-29T06:51:50.330

```
<?php
    $text = 'John';
    $query = "SELECT * FROM `books` WHERE MATCH(`bname`,`bauthor`,`bdetails`) AGAINST ('".$text."')";
?> 
```

# list - sagemath：将列表中字典中的分数转换为 matplotlib 的小数

> ID：12172258
> 
> 赞同：0
> 
> 时间：2012-08-29T06:46:47.450
> 
> 标签：list, dictionary, python-2.7, sage

```
eng3 = [solve(eng==(k-1)*md*Vm^2/(2*Patm*Vc*(Pc-Pc^(1/k))),Vc,solution_dict=1) for Pc in  xrange(2,10)] 
```

我正在尝试自动化圣人数学中一些效率图的过程，并且我有这个公式。`Matplotlib.pyplot`想要一个值列表。我要么得到一个列表中的字典，如下所述，要么得到一个如下形式的列表：

```
List:
[[Vc == (5231100000/35166511904977)], [Vc == (111907000000/1692075843832947)], [Vc == (364112000000/8911538005781703)], [Vc == (753818000000/25992803547821049)], [Vc == (138358000000/6222694018119437)], [Vc == (659020000/36808310575981)], [Vc == (25902500000/1736640592770261)], [Vc == (59144000000/4642920082445667)]]

Dictionary:    
[[{Vc: 1743700000/105499535714931}], [{Vc: 319775000/43516062236099}], [{Vc:  34670000000/7636845816518169}], [{Vc: 41083500000/12749600170083701}], [{Vc: 1703720000/689628024927753}], [{Vc: 25247000000/12691109152994019}], [{Vc: 44767000000/27012747987604137}], [{Vc: 5993300000/4234372317920577}]] 
```

我想取这些分数，将它们转换为它们的数值近似值，并在 sage math[python] 中创建一个包含这些值的列表。该`n()`函数会将分数转换为小数，但我不确定如何隔离值以将其提供给`n()`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T12:11:33.883

该列表来自`solve`，但问题实际上是一个纯 Python 问题。要获得其中的每一个，如果调用了列表`Vlist`，您可以这样做

```
[v[0].rhs().n() for v in Vlist] 
```

而对于字典来说有点麻烦

```
[v[0].values()[0].n() for v in Vlist] 
```

这种构造被称为“列表理解”。这些假设您确实对每个都有单一的解决方案！如果格式不同（例如，如果你得到类似的东西`Vc == 2*Vc^2`）那么你必须更聪明。

背景 - 显然[这个 ask.sagemath.org 问题](http://ask.sagemath.org/question/1723/whats-wrong-with-this)是相关的。

# javascript - 单击鼠标时如何停止重复功能？

> ID：12172259
> 
> 赞同：0
> 
> 时间：2012-08-29T06:46:53.120
> 
> 标签：javascript, jquery

我真的可以使用一些帮助。我在下面有一个 javascript / jquery 滑块，它一遍又一遍地重复。如果可能，我希望它在单击特定按钮时停止重复。我是一个完全的新手，花了很多时间才达到这一点！任何帮助将不胜感激。

```
$(document).ready(function () {

    var i = 0;
    var z = 0;
    delay = 5000;
    var el = $('#scroll-script');
    var ql = $('#info-box');
    var classesb = ['fp-info-one', 'fp-info-two', 'fp-info-three', 'fp-info-four'];
    var classes = ['fp-slide-one', 'fp-slide-two', 'fp-slide-three', 'fp-slide-four'];
    var interval = setInterval(function () {
        el.removeClass().addClass(classes[i]);
        i = (i + 1) % 4;
        ql.removeClass().addClass(classesb[z]);
        z = (z + 1) % 4;
    }, delay);

}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:49:07.370

```
$(document).ready(function () {

    var i = 0;
    var z = 0;
    delay = 5000;
    var el = $('#scroll-script');
    var ql = $('#info-box');
    var classesb = ['fp-info-one', 'fp-info-two', 'fp-info-three', 'fp-info-four'];
    var classes = ['fp-slide-one', 'fp-slide-two', 'fp-slide-three', 'fp-slide-four'];
    var interval = setInterval(function () {
        el.removeClass().addClass(classes[i]);
        i = (i + 1) % 4;
        ql.removeClass().addClass(classesb[z]);
        z = (z + 1) % 4;
    }, delay);

    // code that stop repeat
    $('#your_button').on('click', function() {
      clearInterval(interval );
    });
}); 
```

因为，您正在使用`setInterval()`重复时间，所以要清除您需要使用的计时器***[`clearInterval()`。](https://developer.mozilla.org/en-US/docs/DOM/window.clearInterval)***.

### 笔记

`#your_button`将以适当的选择器替换为目标按钮。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:53:15.317

您只需要使用 clearInterval()：

```
$(".somebutton").click(function()
{
  clearInteval(interval);
  interval=null;
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:48:59.670

我认为`clearInterval()`可以帮助您实现这一目标。

只需将其应用于`click()`事件。就像是：

```
$('#element').click(function(){
    clearInterval(Interval_OBJECT);
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T06:49:17.247

`clearInterval(interval)`当您想停止重复动作时使用。

就像是 ：

```
 $('#btn').on('click', function(){ clearInterval(interval); }); 
```

# c# - 如何在asp.net中一次销毁所有会话？

> ID：12172268
> 
> 赞同：20
> 
> 时间：2012-08-29T06:47:55.377
> 
> 标签：c#, asp.net, session

我想一次销毁所有会话。我已经尝试过`Session.Abondon()`方法，但我不知道为什么这不会破坏所有会话。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-08-29T06:49:21.317

您不能销毁所有会话，只能清除当前会话。您*可能*必须回收应用程序池以清除所有会话。

* * *

用于`HttpSessionState.Clear`清除当前会话

[来自 MSDN - HttpSessionState.Clear 方法](http://msdn.microsoft.com/en-us/library/system.web.sessionstate.httpsessionstate.clear%28v=vs.100%29.aspx)

从会话状态集合中删除所有键和值。

像这样称呼它：

```
Session.Clear(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-29T10:43:17.377

> 我想一次销毁所有会话

我很确定你不能这样做，除非回收应用程序。

当前接受的答案建议使用`Session.Clear`，但这只会清除当前会话 - 它与`Session.RemoveAll`.

为什么有两种方法`Clear`并且`RemoveAll`做完全相同的事情？我怀疑`RemoveAll`它是为了向后兼容[ASP Classic Session 对象](http://msdn.microsoft.com/en-us/library/ms524319(v=vs.90).aspx)而提供的，而`Clear`它是从 .NET 集合中清除项目的更常用的方法名称。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-29T06:51:31.797

有三种方法可以删除会话变量

```
Session.Clear()
Session.RemoveAll()
Session.Abandon() 
```

`Clear()`并`RemoveAll()`执行相同的操作：删除会话变量，但将当前会话保留在内存中。然而，`Abandon()`结束当前会话。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T06:50:38.310

尝试：

```
Session.Contents.RemoveAll() 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-29T06:51:03.763

使用[Session.Clear()](http://msdn.microsoft.com/en-us/library/system.web.sessionstate.httpsessionstate.clear.aspx)或[Session.RemoveAll()](http://msdn.microsoft.com/en-us/library/system.web.sessionstate.httpsessionstate.removeall%28v=vs.85%29.aspx)方法

```
Session.Clear()
    or
 Session.RemoveAll() 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-29T06:54:07.613

你必须使用

```
this.Page.Session.Clear(); 
```

Abandon 仅适用于当前会话。

# flash - actionscript 2.0 示例中的 Facebook api

> ID：12172270
> 
> 赞同：0
> 
> 时间：2012-08-29T06:48:00.643
> 
> 标签：flash, facebook-graph-api, actionscript-2

由于我是 facebook api 的新手，我正在尝试在 actionscript 2.0 中实现 facebook api（连接到 fb 服务器、用户登录、提交高分......）任何人都可以让我知道如何在 as2 中的 facebook api 中实现这些东西。- 如果可能的话，提供任何例子

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:53:28.327

不幸的是，Facebook 没有官方的 as2 api，但我在谷歌上积极搜索发现了这个： http: [//www.whiteinteractive.com/facebook/asclient.php](http://www.whiteinteractive.com/facebook/asclient.php)

...我对这个库一无所知（另外，该项目已停止，作者本人已经放弃了它）所以我绝对不能推荐它。我的建议？升级到 as3，你不会回头，它比可怜的老 as2 好多了（而且更强大）！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:55:10.423

现在，ActionScript 3.0 得到了更好的支持——有一个成熟的开源库，用于使用 AS3 的 Graph API。你会在[这里](http://code.google.com/p/facebook-actionscript-api/)找到它。

正如 Sathish 所说，考虑切换到 AS3。如果你仔细研究一下，你可能会找到一些适用于 AS2的东西，[但这](https://www.google.com/search?q=facebook%20actionscript%202.0)确实不是一个好主意。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T14:04:10.523

一个可以查看的选项可能是在 javascript 中进行 Facebook 集成，并使用`ExternalInterface`. 我们的许多网站都使用 javascript SDK 而不是 AS3 版本。

[http://developers.facebook.com/docs/reference/javascript/](http://developers.facebook.com/docs/reference/javascript/)

# jquery - 使用表排序器对多列标题和正文值进行表排序

> ID：12172273
> 
> 赞同：8
> 
> 时间：2012-08-29T06:48:35.837
> 
> 标签：jquery, tablesorter

我的表头包含两个行标题，我无法在包含 colspan 的列之后对列进行排序。我的表结构如[jsfiddle](http://fiddle.jshell.net/rajeswarik/RwFUt/)中所述。我需要根据标题金额和日期/时间对表结构中的最后一列进行排序。但我不知道为什么它不排序。任何想法或建议都可能会有所帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T02:11:28.450

看看tablesorter的源代码，

jquery.tablesorter.js">http://tablesorter.com/_jquery.tablesorter.js，特别是函数

函数 computeTableHeaderCellIndexes(t) 例如..

它试图将列映射到在你的情况下永远不会起作用的标题——它只是不是为了做你想让它做的事情......

您的结构确实有一个小错误，第二个 tr 缺少 colspan="2"

# parallel-processing - CUDA 内核是如何启动的？

> ID：12172279
> 
> 赞同：8
> 
> 时间：2012-08-29T06:49:01.723
> 
> 标签：parallel-processing, cuda, gpgpu, nvidia

我创建了一个简单的 CUDA 应用程序来添加两个矩阵。它编译得很好。我想知道所有线程将如何启动内核以及 CUDA 内部的流程是什么？我的意思是，每个线程将以何种方式执行矩阵的每个元素。

我知道这是一个非常基本的概念，但我不知道。我对流量感到困惑。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-29T22:50:18.363

您启动一个块网格。

块被不可分割地分配给多处理器（其中多处理器上的块数决定了可用共享内存的数量）。

块进一步分裂成经线。对于一个有 32 个线程的 Fermi GPU，它们要么执行相同的指令，要么处于非活动状态（因为它们分支了，例如，通过比同一个 warp 中的邻居更早退出循环或不采用`if`它们所做的）。在 Fermi GPU 上，一次最多在一个多处理器上运行两个 warp。

每当存在延迟（即内存访问或数据依赖完成的执行停顿）时，就会运行另一个warp（适合一个多处理器的warp数量 - 相同或不同的块 - 由每个使用的寄存器数量决定线程和一个/块使用的共享内存量）。

这种调度是透明地发生的。也就是说，您不必考虑太多。但是，您可能想要使用预定义的整数向量`threadIdx`（我的线程在块中的什么位置？），`blockDim`（一个块有多大？），`blockIdx`（我的块在网格中的什么位置？）和`gridDim`（网格有多大？）在线程之间拆分工作（读取：输入和输出）。您可能还想了解如何有效地访问不同类型的内存（因此可以在单个事务中为多个线程提供服务） - 但这是题外话。

NSight 提供了一个图形化的调试器，一旦你穿过了行话丛林，它就可以让你很好地了解设备上正在发生的事情。对于那些你在调试器中看不到的东西（例如停顿原因或内存压力），它的分析器也是如此。

您可以通过另一个内核启动来同步网格中的所有线程（所有线程）。对于非重叠、顺序内核执行，不需要进一步的同步。

一个网格中的线程（或一个内核运行 - 无论您想如何称呼它）可以使用原子操作（用于算术）或适当的内存栅栏（用于加载或存储访问）通过全局内存进行通信。

您可以将一个块内的所有线程与内在指令同步`__syncthreads()`（之后所有线程都将处于活动状态 - 尽管与往常一样，最多两个扭曲可以在 Fermi GPU 上运行）。一个块中的线程可以使用原子操作（用于算术）或适当的内存栅栏（用于加载或存储访问）通过共享或全局内存进行通信。

如前所述，warp 中的所有线程总是“同步”的，尽管有些线程可能处于非活动状态。它们可以通过共享或全局内存（或即将推出的具有计算能力 3 的硬件上的“通道交换”）进行通信。您可以使用原子操作（用于算术）和 volatile 限定的共享或全局变量（加载或存储访问在同一个 warp 中顺序发生）。volatile 限定符告诉编译器始终访问内存，并且永远不要注册其状态不能被其他线程看到的寄存器。

此外，还有 warp-wide 投票函数可以帮助您做出分支决策或计算整数（前缀）总和。

好的，基本上就是这样。希望有帮助。写得很好:-)。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-18T06:25:21.683

让我们举一个4 * 4矩阵相加的例子。你有两个矩阵A和B，尺寸为4 * 4 ..

```
int main()
{
 int *a, *b, *c;            //To store your matrix A & B in RAM. Result will be stored in matrix C
 int *ad, *bd, *cd;         // To store matrices into GPU's RAM. 
 int N =4;                 //No of rows and columns.

 size_t size=sizeof(float)* N * N;

 a=(float*)malloc(size);     //Allocate space of RAM for matrix A
 b=(float*)malloc(size);     //Allocate space of RAM for matrix B

//allocate memory on device
  cudaMalloc(&ad,size);
  cudaMalloc(&bd,size);
  cudaMalloc(&cd,size);

//initialize host memory with its own indices
    for(i=0;i<N;i++)
      {
    for(j=0;j<N;j++)
         {
            a[i * N + j]=(float)(i * N + j);
            b[i * N + j]= -(float)(i * N + j);
         }
      }

//copy data from host memory to device memory
     cudaMemcpy(ad, a, size, cudaMemcpyHostToDevice);
     cudaMemcpy(bd, b, size, cudaMemcpyHostToDevice);

//calculate execution configuration 
   dim3 grid (1, 1, 1); 
   dim3 block (16, 1, 1);

//each block contains N * N threads, each thread calculates 1 data element

    add_matrices<<<grid, block>>>(ad, bd, cd, N);

   cudaMemcpy(c,cd,size,cudaMemcpyDeviceToHost);  
   printf("Matrix A was---\n");
    for(i=0;i<N;i++)
    {
        for(j=0;j<N;j++)
            printf("%f ",a[i*N+j]);
        printf("\n");
    }

   printf("\nMatrix B was---\n");
   for(i=0;i<N;i++)
    {
        for(j=0;j<N;j++)
            printf("%f ",b[i*N+j]);
        printf("\n");
    }

    printf("\nAddition of A and B gives C----\n");
    for(i=0;i<N;i++)
    {
        for(j=0;j<N;j++)
            printf("%f ",c[i*N+j]);   //if correctly evaluated, all values will be 0
        printf("\n");
    }

    //deallocate host and device memories
    cudaFree(ad); 
    cudaFree(bd); 
    cudaFree (cd);

    free(a);
    free(b);
    free(c);

    getch();
    return 1;
}

/////Kernel Part

__global__ void add_matrices(float *ad,float *bd,float *cd,int N)
{
  int index;
  index = blockIDx.x * blockDim.x + threadIDx.x            

  cd[index] = ad[index] + bd[index];
} 
```

让我们举一个 16*16 矩阵相加的例子。你有两个矩阵 A 和 B，尺寸为 16*16..

首先你必须决定你的线程配置。您假设启动一个内核函数，它将执行矩阵加法的并行计算，这将在您的 GPU 设备上执行。

现在，用一个核函数启动一个网格。一个网格最多可以有 65,535 个可以以 3 维方式排列的块。(65535 * 65535 * 65535)。

网格中的每个块最多可以有 1024 个线程。这些线程也可以以 3 维方式排列（1024 * 1024 * 64）

现在我们的问题是添加 16 * 16 矩阵..

```
A | 1  2  3  4 |        B | 1  2  3  4 |      C| 1  2  3  4 |
  | 5  6  7  8 |   +      | 5  6  7  8 |   =   | 5  6  7  8 | 
  | 9 10 11 12 |          | 9 10 11 12 |       | 9 10 11 12 |  
  | 13 14 15 16|          | 13 14 15 16|       | 13 14 15 16| 
```

我们需要 16 个线程来执行计算。

```
i.e. A(1,1) + B (1,1) = C(1,1)
     A(1,2) + B (1,2) = C(1,2) 
     .        .          .
     .        .          . 
     A(4,4) + B (4,4) = C(4,4) 
```

所有这些线程将同时执行。所以我们需要一个有 16 个线程的块。为方便起见，我们将在一个块中以 (16 * 1 * 1) 的方式排列线程因为没有线程是 16，所以我们只需要一个块来存储这 16 个线程。

因此，网格配置将是，`dim3 Grid(1,1,1)`即网格将只有一个块，而块配置将是，`dim3 block(16,1,1)`即块将有 16 个线程按列排列。

下面的程序将让您清楚地了解它的执行。了解索引部分（即 threadIDs、blockDim、blockID）是重要的部分。您需要阅读 CUDA 文献。一旦你对索引有清晰的想法，你将赢得半战！因此，当然要花一些时间阅读 cuda 书籍、不同的算法和纸笔！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T14:52:23.943

试试['Cuda-gdb'](http://developer.download.nvidia.com/compute/cuda/2_1/cudagdb/CUDA_GDB_User_Manual.pdf)，它是 CUDA 调试器。

# web-services - 带有@Startup 注释的单例类 WL 11g

> ID：12172285
> 
> 赞同：0
> 
> 时间：2012-08-29T06:49:24.500
> 
> 标签：web-services, log4j, weblogic

我在将 Web 服务部署到 Weblogic 11g 时遇到问题。

JAVA：JRockit 1.6.x

我需要在 web 服务部署上运行一个方法，我编写了以下代码：

```
@Singleton
@Startup
public class StartupBean {

Logger logger = Logger.getLogger(StartupBean.class);

@PostConstruct
private void postConstruct() {
   logger.error("WS started.");

}

@PreDestroy
private void preDestroy() {
    logger.error("WS stoped.");
}
} 
```

没有任何额外的 xml 配置。

它在 12c 上正常工作，但我在 11g 上需要它。

解决方法是什么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T08:13:57.743

不，您不能在没有 XML 配置的 pre-3.1-EJB 中执行此操作。

EJB 3.0 中实现`@Startup`bean 的常见做法是在 servlet 中实例化，该 servlet 配置为在启动时加载`web.xml`. 如果你只需要 log4j，你可以直接从这样的 servlet 初始化它。

# php - 覆盖 FOSUserBundle 注册表单类型

> ID：12172295
> 
> 赞同：0
> 
> 时间：2012-08-29T06:50:24.790
> 
> 标签：php, symfony, registration, fosuserbundle

我在路径中创建了一个名为 AccountBundle 的 Bundle `/src/EF/Bundle/`。这会覆盖 FOSUserBundle 进行自定义。

```
namespace EF\Bundle\AccountBundle;

use Symfony\Component\HttpKernel\Bundle\Bundle;

class EFAccountBundle extends Bundle
{
    public function getParent()
    {
        return 'FOSUserBundle';
    }
} 
```

然后，在路径 AccountBundle/Form/Type 中，我试图覆盖 RegistrationType

```
namespace EF\Bundle\AccountBundle\Form\Type;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\OptionsResolver\OptionsResolverInterface;
use FOS\UserBundle\Form\Type\RegistrationFormType as BaseRegistrationFormType;

class UserRegistrationFormType extends BaseRegistrationFormType
{
    private $class;

    /**
     * @param string $class The User class name
     */
    public function __construct($class)
    {
        $this->class = $class;
    }

    /**
     * @param object $builder FormBuilderInterface
     * @param array $options Options that override FOSUserBundle
     */
    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        parent::buildForm($builder, $options);

        // Adding custom Fields to override FOS User bundle
        $builder
            ->add('firstname', null, array('label' => 'fos.username', 'translation_domain' => 'FOSUserBundle'))
        ;
    }

    public function setDefaultOptions(OptionsResolverInterface $resolver)
    {
        $resolver->setDefaults(array(
            'data_class' => $this->class,
            'intention'  => 'registration',
        ));
    }

    public function getName()
    {
        return 'ef_account_registration';
    }
} 
```

在 AccountBundle/Resources/config 上的 services.xml 上添加了一项服务

```
<!-- src/FOS/UserBundle/Resources/config/registration.xml -->
<?xml version="1.0" encoding="UTF-8" ?>

<container xmlns="http://symfony.com/schema/dic/services"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

<services>

       <service id="fos_user.registration.form.type" class="EF\Bundle\AccountBundle\Form\Type\UserRegistrationFormType">
            <tag name="form.type" alias="ef_account_registration" />
            <argument>%fos_user.model.user.class%</argument>
        </service>
  </services>

</container> 
```

然后在配置文件中进行更改，/app/config/config.yml 为

```
fos_user:
    db_driver: propel # other valid values are 'mongodb', 'couchdb' and 'propel'
    firewall_name: main
    user_class: MH\Security\User
    #user_class: FOS\UserBundle\Propel\User
    registration:
        confirmation:
            enabled: true
        form:
            type: ef_account_registration 
```

但是我在尝试注册时遇到错误，

> 无法加载类型“ef_account_registration”500 内部服务器错误 - FormException

但是，如果我更改`ef_account_registration`with `fos_user_registration`，那么它可以工作。任何人都可以在这方面帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T11:00:12.573

你可以删除这部分：

```
form:
            type: ef_account_registration 
```

我认为在 UserRegistrationFormType 中您只需要 buildForm 方法，所有其他方法都可以删除并在您的服务中（我使用 yml）：

```
fos_user.registration.form.type:
        class: YOUR_CLASS
        tags:
             - { name: 'form.type', alias: 'fos_user_registration' }
        arguments:
             - %fos_user.model.user.class% 
```

它对我有用

# java - 将 DataSource 克隆传递给子报表

> ID：12172297
> 
> 赞同：1
> 
> 时间：2012-08-29T06:50:32.060
> 
> 标签：java, jasper-reports, ireport

我想将数据源从主报表传递到子报表。

所以我只需将*iReport*中的**连接类型**更改为**使用数据源表达式**并传递**REPORT_DATA_SOURCE**参数。

 *****该报告应生成数百个站点。它每页计算 1 个子报表。

子报表只需要数据源的一些行，所以在查询中使用了他自己的WHERE。

问题是：

将**Connection Type**从**Connection 更改为 Data Source**后，报表仅显示第一个站点。似乎子报表将带有*WHERE*语句的主报表的数据集更改为仅一行。

我已经看到了 [http://www.billmann.de/2011/12/01/jasperreports-subreport-datasource/](http://www.billmann.de/2011/12/01/jasperreports-subreport-datasource/)的解决方案， 但是当我尝试这个时，我得到一个错误：

> java.lang.ClassCastException：net.sf.jasperreports.engine.JRResultSetDataSource 无法转换为 net.sf.jasperreports.engine.data.JRBeanCollectionDataSource

还有其他克隆数据源的可能性吗？或者我可以在子报表中设置一些东西，这样数据源就不会改变？

如果我使用*Connection*而不是*DataSource*，则报表可以工作，但它会呈现 5 分钟或更长时间，因为每个 Subreport 调用都会生成自己的数据集。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T15:30:43.493

我是上述博客条目的作者，需要转换为 JRBeanCollectionDataSource 的类型，因为我们使用的数据源是 JRBeanCollectionDataSource 并且此 JRDatasSurce 支持 cloneDataSource() 方法。

并非所有 JRDataSources 都支持这种方法。如果您有机会以编程方式读取数据库并将数据填充到另一个 JRDataSource（如 JRMapArrayDataSource）中，则可以使用 cloneDataSource() 方法。

我不确定此解决方案是否适用于附加的 where 子句。*****

# bash - 如何根据bash中的列变量解析输入

> ID：12172300
> 
> 赞同：2
> 
> 时间：2012-08-29T06:50:35.867
> 
> 标签：bash, parsing, sed, awk

我需要帮助来解析这样的输入。

```
192.168.0.168: 1
192.168.0.158: 0
192.168.0.198: 0
192.168.0.148: 0
192.168.0.158: 1
192.168.0.168: 0 
```

如果任何 ip 的第二列有 1，我想删除第二列有 0 和第一列相同 ip 的行。所以我的输出应该是这样的。

```
192.168.0.168: 1
192.168.0.198: 0
192.168.0.148: 0
192.168.0.158: 1 
```

我想这可以通过使用 awk、sed 等来完成，但我不知道该怎么做。我希望我能正确解释我的问题。谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:30:13.997

单程：

```
awk '
    { 
        ips[ $1 ] = ( ips[ $1 ] == 1 ) ? 1 : $2 
    } 
    END { 
        for ( ip in ips ) { 
            print ip, ips[ ip ] 
        } 
    }
' infile 
```

这会产生（输出可能是无序的）：

```
192.168.0.168: 1
192.168.0.198: 0
192.168.0.148: 0
192.168.0.158: 1 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T07:30:51.773

这可能对您有用（GNU sed）：

```
cat -n file | 
sort -k2,2 -k3,3nr | 
sed ':a;$!N;/^\s*\S*\s*\(\S*\)\s*1\s*\n.*\1/s/\n.*0\s*//;ta;P;D' | 
sort -n | 
sed 's/^\s*\S*\s*//' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T07:38:01.957

Perl 解决方案：

```
perl -nae '$h{ $F[0] } += $F[1]
           }{
           print "$k ", $v ? 1 : 0, "\n" while ($k, $v) = each %h' 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-29T07:52:50.800

几个`sort`s 应该这样做：

```
sort file -r | sort -u -k1,1 
```

前一种排序确保这些行是有序的，这样第二列中带有 1 的行将首先出现在每个 IP 中。

后一种排序将只保留每个 IP 的第一个条目：`-u`-> 唯一的，`-k1,1`-> 仅第一列。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-29T07:54:57.193

```
awk '{a[$1]+=$2}END{for(i in a)print i,a[i]}' your_file 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-08-29T09:06:16.340

**函数式方法（haskell 编程语言）：**

```
-- function that having the two sublists with '0' and '1' ips,
-- filters and puts into   the '1' 
-- sublist all the '0' ips that are not included in '1'

fil [] result = result
fil (x: xs) result | (init x `elem` (map init result)) == False = fil xs (x:result)
            | otherwise = fil xs result

-- function that filters '0' and '1' sublists
getsublist alist character = filter (\x-> (last x) == character) alist

> let a = ["192.168.0.168: 1", "192.168.0.158: 0", "192.168.0.198: 0", "192.168.0.148: 0", "192.168.0.158: 1", "192.168.0.168: 0"]

> let b = getsublist a '0'

> let c = getsublist a '1'

> fil b c 
```

**输出：**

```
["192.168.0.148: 0","192.168.0.198: 0","192.168.0.168: 1","192.168.0.158: 1"] 
```

# c - snprintf() 没有格式说明符？

> ID：12172306
> 
> 赞同：2
> 
> 时间：2012-08-29T06:51:05.203
> 
> 标签：c, printf

我正在使用以下代码编写这样的代码`snprintf()`：

```
char myId[10] = "id123";

char duplicateId[10] = "";

snprintf(duplicateId, 10, myId); 
```

如您所见，我没有明确指定格式说明符`%s`。

`snprintf()`我是否需要像这样在上述语句中明确指定格式说明符`snprintf(duplicateId, 10, "%s", myId);`？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-29T06:53:06.553

不，从技术上讲，您不必这样做。但这样做是更好的做法，因为没有常量格式字符串，您的格式字符串仍然是可修改的，因此您的代码将更容易受到格式字符串攻击。

啊，并且也使用`sizeof(duplicateId)`而不是常量`10`- 也是出于安全原因（为了避免将来在更改 sprintf 的输出缓冲区大小时缓冲区溢出）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T06:53:06.717

不，你不知道，但它通常被认为是一个好主意，特别是如果有任何机会将用户输入文本传递到`snprintf()`. 如果用户输入一个带有 in 的字符串，`%`否则会出现问题：

```
const char *userString = "%";
snprintf(duplicateId, sizeof duplicateIt, userString);  /* BAD */

const char *userString = "%s";
snprintf(duplicateId, sizeof duplicateIt, "%s", userString);  /* GOOD. */ 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-29T06:55:21.247

使用起来会更好，`%s`因为它更安全......你没有收到警告吗？也尝试以最高警告级别编译。

[在这里](http://en.wikipedia.org/wiki/Uncontrolled_format_string)阅读更多

# android - 防止 AdView 为每个活动重新创建自己

> ID：12172312
> 
> 赞同：6
> 
> 时间：2012-08-29T06:51:26.877
> 
> 标签：android, admob, adview

我在所有活动中都有以下内容：

```
 <com.google.ads.AdView android:id="@+id/adView"
                           android:layout_width="wrap_content"
                           android:layout_height="wrap_content"
                           ads:adUnitId="..."
                           ads:adSize="BANNER"
                           ads:testDevices="TEST_EMULATOR"
                           ads:loadAdOnCreate="true"
                           android:layout_alignParentBottom="true"
                           android:layout_centerHorizontal="true"/> 
```

这样做的问题是每次我在活动之间切换时它都会重新加载广告，因此有一小段时间没有显示广告。有些应用程序没有这个问题，例如Bubble Shoot：在活动之间切换时，广告根本不会消失。

我怎样才能达到这个效果？我尝试设置`loadAdOnCreate="false"`和使用 global `AdRequest`，但这似乎仍然重新创建了实际控件，因此仍然有一个（非常短但很明显）没有显示广告的时期。

**注意：**理想情况下，我需要它适用于所有 API 级别 >= 7。如果不可能，>= Android 2.3 / API 级别 9 也是可以接受的。它还必须独立于设备类型和屏幕尺寸。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T16:49:13.687

您确定泡泡拍摄使用活动吗？也许他们正在为不同的屏幕使用片段，并将广告保留在单个活动或片段中？

您可以使用 android 兼容性包从 api 级别 4 获得支持：http: [//developer.android.com/tools/extras/support-library.html](http://developer.android.com/tools/extras/support-library.html)

您将不得不手动处理导航，覆盖`onBackPressed()`并使用`FragmentManager`. 这是一个学习曲线，但是一旦你掌握了它的窍门，片段就会非常好用:)

# javascript - 在 ie 中交换两个“onclick”

> ID：12172315
> 
> 赞同：0
> 
> 时间：2012-08-29T06:51:32.863
> 
> 标签：javascript, ajax

我想改变两个元素的点击次数。在 Firefox 中，这段代码做了它应该做的事情：

```
var tmpButton = button1.onclick;
button1.setAttribute('onclick', button2.onclick);
button2.setAttribute('onclick', tmpButton); 
```

但是我怎样才能在 IE 中实现这个代码呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:00:20.597

以下应该在两种浏览器中都可以工作：

```
var tmpButton = button1.onclick;
button1.onclick = button2.onclick;
button2.onclick = tmpButton; 
```

setAttribute 方法不是 100% 跨平台安全的。[Quirksmode](http://www.quirksmode.org/dom/w3c_core.html)说 IE 的实现`setAttribute`不完整：

> IE5-7 不设置样式并在您尝试设置它们时删除事件。

*注意：这个工作示例：http: [//jsfiddle.net/slebetman/RHHzc/](http://jsfiddle.net/slebetman/RHHzc/)*

# ajax - ajax 出了点问题

> ID：12172319
> 
> 赞同：0
> 
> 时间：2012-08-29T06:51:48.213
> 
> 标签：ajax, jquery

我有一个简单的 AJAX 请求，它将信息发送到服务器，但是出了点问题，我只收到空值。有人可以帮我弄这个吗？

## 来源：

```
console.log(data);
console.log(typeof data);
$.ajax({
    url: 'index.php',
    type: 'POST',
    dataType: 'script',
    data: data,
    beforeSend: function(){$.mobile.showPageLoadingMsg();},
    success: function(data){$.mobile.hidePageLoadingMsg();}
}); 
```

## 日志：

> [2012, 7, 29, 9, 30]
> 
> 目的
> 
> 发布
> 未定义未定义未定义未定义未定义
> 
> 源码
> undefined=&undefined=&undefined=&undefined=&undefined=

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:38:57.940

尝试改变：

```
data: data, 
```

到

```
data: { "data[]" : data }, 
```

# jquery - 在jQuery中获取锚标记ID

> ID：12172321
> 
> 赞同：0
> 
> 时间：2012-08-29T06:51:54.527
> 
> 标签：jquery, anchor

我有一个像这样的锚标签

```
<div id="'+itemArr[0]+'">'+itemArr[1]+' 
<a id="'+itemArr[0]+'" href="javascript:void(0)" onclick="javascript:chatWith('+rep+')"  disabled="true">Chat</a> 
 <a  href="javascript:void(0)" onclick="javascript:changeActive('+value+');" disabled="true">Active</a><br> </div>' 
```

我该如何启用或禁用该特定的锚标签，请您指导我

感谢提前。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:58:03.910

```
$('a').on('click', function() {
  var disabled = $(this).attr('disabled');
  // checking that disabled exists or not
  // as I bind click to all anchor tags
  if( typeof attr !== 'undefined' && attr !== false ) {
      $(this).attr('disabled', disabled == 'true' ? 'false' : 'true');
  }
}); 
```

其他方式：

```
$('a[disabled]').on('click', function() {
  this.disabled = this.disabled == 'true' ? 'false' : 'true';
}); 
```

### 根据评论

试试这个：

```
<a  href="javascript:void(0)" onclick="javascript:changeActive(this, 'value');" disabled="true">Active</a>

<script>
    function changeActive(el, val) {
       var disabled = el.getAttribute('disabled');

       if( typeof disabled !== 'undefined' && disabled != null ) {
          el.setAttribute('disabled', disabled == 'true' ? 'false' : 'true');
       }
    }
</script> 
```

***[​工作样本](http://jsfiddle.net/cvfvS/2/)***

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:54:26.610

您可以使用以下代码：

```
$(this).attr("id"); 
```

或者以传统的 JavaScript 方式，

```
this.getAttribute('id'); 
```

# c# - Microsoft JScript 运行时错误：“Sys”未定义（在 mvc3 c# razor 中）

> ID：12172323
> 
> 赞同：2
> 
> 时间：2012-08-29T06:51:57.377
> 
> 标签：c#, javascript, jquery, asp.net-mvc-3, razor

**在 cshtml 中**

`<form action="/Sp/EditSp" method="post" onclick="Sys.Mvc.AsyncForm.handleClick(this, new Sys.UI.DomEvent(event));" onsubmit="Sys.Mvc.AsyncForm.handleSubmit(this, new Sys.UI.DomEvent(event), { insertionMode: Sys.Mvc.InsertionMode.replace, httpMethod: &#39;POST&#39;, updateTargetId: &#39;divDisplay&#39;, onSuccess: Function.createDelegate(this, deactivateAList) });"><input type="hidden" id="requestSequence" name="requestSequence" value="24" />`

**javascript:**

`

```
<script type="text/javascript">
function deactivateAList() {
    document.getElementById("AList").style.display = "none";
}
</script> 
```

`

请告诉我如何解决此错误。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T10:03:54.850

我已经添加了 ：

`<add key="UnobtrusiveJavaScriptEnabled" value="true" />`

在**Web.Config中**

# grails - 在 grails config.groovy 中使用“grails.logging.jul.usebridge”

> ID：12172324
> 
> 赞同：10
> 
> 时间：2012-08-29T06:52:00.417
> 
> 标签：grails, log4j, slf4j, grails-2.0, grails-config

我是新手`log4j and sl4j`，我正在使用 grails 2.0.4，在 config.groovy 中有一行

`grails.logging.jul.usebridge = false`用于产品

&

`grails.logging.jul.usebridge = true`开发者

我关注了这篇[文章](http://sambro.is-super-awesome.com/tag/log4j/)，正如它所说，使用 grails.logging.jul.usebridge 是为了实现日志框架的交换逻辑，例如

*   日志4j
*   java.util.logging
*   公共记录
*   回退

这是 config.groovy 中 grails.logging.jul.usebridge 的唯一用途，还是有其他用途？还有一个问题

1）这是推荐在生产环境中使用的日志框架

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-15T19:39:51.597

我绝对推荐你使用 Log4j。它没有依赖关系，并且在各种 Web 应用程序服务器中进行了测试（甚至包含）。您可以通过 DSL`Config.groovy`在生产环境中或在单独的配置文件中轻松配置它。

commons-logging 和 SLF4J 都是 Log4j 的包装器，并在下面使用它。

`grails.logging.jul.usebridge = true`用于通过 SLF4J 放置 java.util.logging，如此处[所述](http://blog.saddey.net/2010/03/06/how-to-deploy-a-grails-application-to-jboss-5/)。

# android - Android touchEvent：移动时抬起

> ID：12172325
> 
> 赞同：0
> 
> 时间：2012-08-29T06:52:00.997
> 
> 标签：android, touch

每当手势结束时，都需要调用特定的方法。目前，我正在使用 if 语句来查看 MotionEvent 是否`ACTION_UP`要执行此操作。但是，我发现如果我在快速滑动时抬起手指，则 MotionEvent 不是`ACTION_UP`，而是`ACTION_MOVE`。只有当我在手指不动时抬起它才能正常工作。

有什么建议或替代解决方案吗？

提前致谢。

编辑：问题已解决

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T07:12:01.897

好吧，我知道出了什么问题。当 onTouchEvent 修改我的渲染器也在绘制的对象列表时，我使用了一些布尔值来防止 ConcurrentModificationExceptions。事实证明，这在一半的时间里提前结束了该方法。我最终同步了列表，现在它工作正常。

# colors - 两个不同站点上的相同颜色是不一样的

> ID：12172327
> 
> 赞同：0
> 
> 时间：2012-08-29T06:52:14.457
> 
> 标签：colors, mismatch

我难住了。我只是想将一个站点的颜色匹配到另一个站点，当我使用完全相同的 HEX# 作为 TD bgcolor，并在同一个浏览器中查看彼此相邻的两个站点时，颜色略有不同。我只是忽略了一些明显的东西吗？

站点 1：[http](http://web.vanderbilt.edu/resources/standards) : //web.vanderbilt.edu/resources/standards 采用“Brighter Gold”#E7B850，如果您查看它的来源，它只是显示为 td bgcolor="#E7B850"。

在另一个站点的表格单元格中做同样的事情，将 bgcolor="#E7B850" 添加到 td，对我来说，看起来不一样。

站点 2： http: [//vanderbilt-adec.org](http://vanderbilt-adec.org) 您会在页面中间看到一个带有这种颜色的大表格单元格。

那么，如果您并排查看这两个站点，您认为这两个色块是否相同？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:30:08.060

好吧，当我查看您的页面时，您似乎选择了“Dark Gold / D8AB4C”而不是“Brighter Gold E7B850”。此外，当我查看您网站的来源时，我发现以下内容：

```
<td width="350" valign="top" bgcolor="#d8ab4c">
    <div>
        <ol class="listschools">        
            <li>Al Ahad</li>
            <li>Al Dhaher</li>
            <li>Al Diwan</li>
            <li>Al Husoon</li>
            <li>Al Jahilli</li>
            <li>Al Khalif</li>
            <li>Al Khatem</li>
            <li>Al Shiyam</li>
            <li>Al Somou</li>
            <li>Mezyad</li>
            <li>Maryam Bint Sultan</li>
            <li>Mubarak Bin Mohammed</li>
            <li>Rawdat Al Atfal</li>
            <li>Rawdat Al Mushrif</li>
            <li>Rawdat Al Oula</li>
            <li>Um Ghafa</li>
            <li>Wagan</li>
            <li>Yas</li>
        </ol>
    </div>
</td> 
```

这清楚地表明您使用了深金色。

# php - 用 php 远程登录。控制远程 APC PDU

> ID：12172328
> 
> 赞同：1
> 
> 时间：2012-08-29T06:52:26.373
> 
> 标签：php, telnet, apc

我正在尝试通过执行一些 php 命令来控制远程电源开关。

有一个 telnet 库，我用它来建立 telnet 连接： http: [//www.soucy.org/project/cisco/source.php](http://www.soucy.org/project/cisco/source.php)

我的连接函数如下所示：

```
public function connect() 
{
    $this->_connection = fsockopen($this->_hostname, $this->_port, $errno, $errstr, $this->_timeout);
    if ($this->_connection === false) {
        die("Error: Connection Failed for $this->_hostname\n");
    } // if
    stream_set_timeout($this->_connection, $this->_timeout);
    $this->_readTo(':');
    if (substr($this->_data, -9) == 'Username:') {
        $this->_send($this->_username);
        $this->_readTo(':');
    } // if
    $this->_send($this->_password);

    $this->_send(''); //blank space, because we need to press <Enter> for the second login prompt 

   //Login Second time

    $this->_send($this->_username2);
    $this->_send($this->_password2);
} 
```

发送函数如下所示：

```
private function _send($command) 
{
    fputs($this->_connection, $command . "\r\n");
} 
```

因此，如果我们要控制远程电源开关，则有一个菜单。在此菜单中，用户可以像这样导航：

-------- 控制台 ----------------------------------------- --------------

```
 1- Device Manager
 2- Network
 3- System
 4- Logout

 <ESC>- Main Menu, <ENTER>- Refresh 
```

当我们按 1 时，我们将转到另一个菜单：

- - - - 装置经理 - - - - - - - - - - - - - - - - - - - - - ---------------

```
 1- Bank Monitor
 2- Outlet Management
 3- Power Supply Status

 <ESC>- Back, <ENTER>- Refresh 
```

等等......所以我们可以通过输入这些数字来访问我们想要的插座。

重新加载插座的功能（插座号 22）：

```
public function ReloadOutlet22() 
{

$this->_send('1'); // Access Device Manager
$this->_send('2'); // Access Outlet Management
$this->_send('1'); // Outlet Control/Configuration
$this->_send();    // '<Enter> to continue'
$this->_send('22'); // Access Outlet number 22
$this->_send('6');  // Delayed Reboot (reboot with 5 sec delay)
$this->_send('YES'); // 'Yes' to continue
$this->_send();      // <Enter> to continue'

//Everything is working till there. I can successfully reload the outlet which I want. After the reload I want to go to the main menu and logout from this console.

$this->_send('\e');  // <Esc> - back
$this->_send('\e');  // <Esc> - back
$this->_send('\e');  // <Esc> - back
$this->_send('\e');  // <Esc> - back
$this->_send('\e');  // <Esc> - back
$this->_send('4');   // Logout
} 
```

所以有问题。下次，当我想重新加载另一个插座时，例如编号为 23 的插座，我无法成功登录 APC PDU。我可以在登录提示中看到尝试使用 '\e' 作为用户名和密码。

所以也许你们有一个想法，为什么在成功重新加载后我的代码不能正常工作？为什么我无法返回主菜单并注销？

感谢您的时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-28T19:38:19.450

APC 提供控制台（基于文本的菜单驱动）以及它们的命令行界面（“CLI”），该界面接受各种特定于控制 PDU 插座的命令行。

要使用命令行界面而不是控制台，请在使用 telnet 登录时将“-c”附加到您的密码——即，如果您的 telnet 密码是“abcdefg”，则使用密码“abcdefg -c”登录以输入命令行界面。CLI 命令提示符是“APC>”。

重启（重新启动）插座的 CLI 命令很简单：

```
APC> reboot x
(x = the outlet number to power cycle) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T08:16:34.480

您可能需要在 "\e" 周围使用双引号 - 单引号将其视为文字字符串（没有像 \n 这样的转义序列）

```
$this->_send("\e");  // <Esc> - back 
```

如果这不起作用，请使用

```
$this->_send(chr(27));  // <Esc> - back 
```

使用数字 ASCII 值发送转义键

[http://php.net/manual/en/function.chr.php](http://php.net/manual/en/function.chr.php)

# jquery - 如何将新的 Div 添加到特定元素

> ID：12172329
> 
> 赞同：1
> 
> 时间：2012-08-29T06:52:27.160
> 
> 标签：jquery, jquery-ui

```
<script type="text/javascript">
                         $(document).ready(function(){
                             $('a#extra').click(function(event){
                                if($(this).attr('class') == 'extra'){
                                    event.preventDefault();
                                    $(this).append('<div style="float:left;color:red;margin-left:10px;">Please Login/Register to view Details</div>').slideToggle(1000);

                                }
                             });
                         });
                     </script> 
```

我有这个 jquery 用于根据锚属性中的类添加 div。

```
<a href="" class="extra_1" id="extra"></a>
<a href="" class="extra_2"  id="extra"></a>
<a href="" class="extra_3"  id="extra"></a> 
```

我可以像上面显示的代码一样检查类，但是我如何检查extra_1、extra_2、extra_3，比如如果单击带有extra_1 类的元素然后添加到该元素

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:58:16.123

尝试将您的 JQuery 选择器从 a#extra 更改为 .extra。# 用于选择器中的 ID。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:55:48.950

You use a wrong selector. Use 'a.extra' instead of 'a#extra'. If you use that selector, you don't need to check for that class inside the callback function:

```
$(document).ready(function(){
     $('a.extra').click(function(event){                               
        event.preventDefault();
        $(this).append('<div style="float:left;color:red;margin-left:10px;">Please Login/Register to view Details</div>').slideToggle(1000);
        });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:21:20.297

ID 必须是*唯一*的，您的选择器只选择 ID 为 extra 的第一个元素。

```
<a href="" class="extra_1 extra"></a>
<a href="" class="extra_2 extra"></a>
<a href="" class="extra_3 extra"></a> 
```

```
$(document).ready(function() {
    $('a.extra').click(function(event) {
         event.preventDefault();
         $(this).append('<div style="float:left;color:red;margin-left:10px;">Please Login/Register to view Details</div>').slideToggle(1000);
    });
}); 
```

# windows - LDAP 服务器签名协议

> ID：12172332
> 
> 赞同：2
> 
> 时间：2012-08-29T06:53:01.853
> 
> 标签：windows, ldap, protocols

我需要实现 Microsoft 的 LDAP 服务器签名协议才能连接到需要它但找不到此协议描述的 AD 服务器。是否在某处发布了协议描述？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T11:58:57.247

如果它是从 LDAP 完成的，它是从 SASL 机制实现实现的，并利用[GS​​S-SPNEGO](http://en.wikipedia.org/wiki/SPNEGO) / [GSSAPI](http://en.wikipedia.org/wiki/GSSAPI)。

也许第一个问题是确定“什么是签名？”

AFIK，签名意味着：签署 SASL（协商、Kerberos、NTLM 或摘要）或 LDAP 的客户端通过 SSL/TLS 连接绑定。

所以没有简单的绑定或未签名（即未加密）的 SASL 机制。

Negotiate、Kerberos、NTLM 或 Digest 是从 GSSAPI/SPNEGO 实现的。

# android - Android 电子邮件用加号（+）替换空格

> ID：12172338
> 
> 赞同：1
> 
> 时间：2012-08-29T06:53:07.283
> 
> 标签：android, gmail, yahoo-mail

我在操作视图中发送电子邮件，它在 gmail 中运行良好，但如果用户选择任何其他邮件服务，它会用“+”替换空格

```
like in body text is "check out it is a good day"

it displays as "check+out+it+is+a+good+day" 
```

任何想法如何解决这个问题

这是我发送电子邮件的功能

```
private void sendToAFriend() {

    String subject = "it is a good day ";
    String body = "Check out it is a good day";

    String uriText =
        "mailto:" + 
        "?subject=" + URLEncoder.encode(subject) + 
        "&body=" + URLEncoder.encode(body);

    Uri uri = Uri.parse(uriText);

    Intent sendIntent = new Intent(Intent.ACTION_SENDTO);
    sendIntent.setData(uri);
    startActivity(Intent.createChooser(sendIntent, "Send email")); 
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T06:56:25.333

试试这个代码。

```
Intent intent = new Intent(Intent.ACTION_SENDTO); // it's not ACTION_SEND
intent.setType("text/plain");
intent.putExtra(Intent.EXTRA_SUBJECT, "Subject of email");
intent.putExtra(Intent.EXTRA_TEXT, "Body of email");
intent.setData(Uri.parse("mailto:default@recipient.com")); // or just "mailto:" for blank
intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); // this will make such that when user returns to your app, your app is displayed, instead of the email app.
startActivity(intent); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:58:22.803

从方法 URLEncoder.encode 的描述

java.net.URLEncoder.encode(String s) 已弃用。改用编码（字符串，字符串）。使用指定的编码方案 enc 对 x-www-form-urlencoded 字符串中的给定字符串 s 进行编码。

除字母 ('a'..'z', 'A'..'Z') 和数字 ('0'..'9') 和字符 '.', '-', '*', ' 之外的所有字符_' 被转换成以 '%' 开头的十六进制值。例如：'#' -> %23。**另外，空格用'+'代替**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-26T11:45:20.913

使用[Uri.encode(String)](http://developer.android.com/reference/android/net/Uri.html#encode%28java.lang.String%29)而不是 URLEncoder，它会为此用例正确处理空格。如果您希望将发送选项限制为仅电子邮件，则带有 mailto 链接的 ACTION_VIEW 更可取。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-09-24T12:42:44.960

无需任何编码即可使用。

"&body=" + 正文；

这个对我有用！

# android - 使用手机摄像头，在捕获图像活动后不会返回特定活动

> ID：12172341
> 
> 赞同：5
> 
> 时间：2012-08-29T06:53:17.487
> 
> 标签：android, camera

我正在使用手机的摄像头并使用 android.provider.MediaStore.ACTION_IMAGE_CAPTURE 从我的应用程序中捕获图像。

单击捕获按钮后，它显示保存或丢弃。单击保存按钮，它会返回相机而不是应用程序。并且图像保存在画廊中，而不是我声明的输出文件中。

下面是我的代码

```
 @Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    Intent in=new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
    startActivityForResult(in, 0);

}
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
// TODO Auto-generated method stub
super.onActivityResult(requestCode, resultCode, data);
if (resultCode==RESULT_OK) {
    Bitmap bm=(Bitmap) data.getExtras().get("data");
    ByteArrayOutputStream bytes = new ByteArrayOutputStream();
    bm.compress(Bitmap.CompressFormat.JPEG, 40, bytes);

    //you can create a new file name "test.jpg" in sdcard folder.
    File f = new File(Environment.getExternalStorageDirectory()
                            + File.separator + "player1.jpg");
    try {
        f.createNewFile();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    //write the bytes in file
    FileOutputStream fo = null;
    try {
        fo = new FileOutputStream(f);
    } catch (FileNotFoundException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    try {
        fo.write(bytes.toByteArray());
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }finally{
        Intent pic=new Intent(pic1.this, GameMenu.class);
        startActivity(pic);
        finish();
    }
}
else {
    Toast.makeText(getApplicationContext(), "Canceled", Toast.LENGTH_LONG).show();
    Intent pic=new Intent(pic1.this, Menu.class);
    startActivity(pic);
    finish();
} 
```

请提出任何解决方案..提前谢谢...

编辑 1：我在 samsung galaxy y duos (android 2.3.6) 上检查了这段代码，它不能正常工作。并在 Galaxy pop(2.2.1) 和 HTC wildfire(2.3.5) 上进行了同样的检查，其工作完美。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:05:46.340

使用以下意图捕获图像，g`etTempFile()`是您提到存储路径的位置

```
Intent photoPickerIntent= new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
                       photoPickerIntent.putExtra(MediaStore.EXTRA_OUTPUT, getTempFile());

                       photoPickerIntent.putExtra("outputFormat",Bitmap.CompressFormat.JPEG.toString());
                       photoPickerIntent.putExtra("return-data", true);
                       startActivityForResult(photoPickerIntent,TAKE_PICTURE); 
```

**获取临时文件：**

```
private Uri getTempFile() {

        File root = new File(Environment.getExternalStorageDirectory(), "Directory");
        if (!root.exists()) {
            root.mkdirs();
        }
             File file;

             file = new File(root,filename+".jpeg" );

             muri = Uri.fromFile(file);
             photopath=muri.getPath();

              Log.e("getpath",muri.getPath());
              return muri;

           } 
```

[阅读此处](https://stackoverflow.com/questions/3442462/how-to-capture-an-image-and-store-it-with-the-native-android-camera)了解更多主题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:06:14.027

如果这是你的全部代码，你已经省略了 setContentView(); 可能是它没有返回的原因。

```
 @Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
     // setContentView() here
    Intent in=new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
    startActivityForResult(in, 0);

} 
```

是否调用了 onActivityResult() 方法？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-14T23:09:34.217

您应该创建打开相机的文件。您将文件 URI 作为相机意图的额外内容：

```
/**
 * Capturing Camera Image will lunch camera app request image capture
 */
private void captureImage() {

    Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);

    fileUri = getOutputMediaFileUri();

    intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);

    // start the image capture Intent
    startActivityForResult(intent, CAMERA_CAPTURE_IMAGE_REQUEST_CODE);
} 
```

这就是我创建文件的方式：

```
/**
 * Creating file uri to store image
 * 
 * 
 * @return Uri
 */
public Uri getOutputMediaFileUri() {
    return Uri.fromFile(getTempOutputMediaFile());
}

/**
 * returning File
 * 
 * 
 * @return File
 */
private File getTempOutputMediaFile() {

    File appDirectory = this.getFilesDir();

    File mediaStorageDir = new File(APP_NAME,
                YOUR_IMAGE_DIRECTORY_NAME);

    Log.i("mediaStorageDir", mediaStorageDir.getAbsolutePath());

    // Create the storage directory if it does not exist
    if (!mediaStorageDir.exists()) {
        if (!mediaStorageDir.mkdirs()) {
            Log.i(YOUR_IMAGE_DIRECTORY_NAME,
                    "Oops! Failed create "
                            + YOUR_IMAGE_DIRECTORY_NAME
                            + " directory");
            return null;
        }
    }

    // Create a media file name
    UUID temporaryImageUuid = UUID.randomUUID();
    File mediaFile;

    mediaFile = new File(mediaStorageDir.getPath() + File.separator
            + temporaryImageUuid + "." + YOUR_EXTENSION);

    return mediaFile;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-15T10:39:43.227

嗨检查以下代码。捕获图像后使用 startPreview() 释放。它适用于我

```
 captureButton.setOnClickListener(new View.OnClickListener() {
                        @Override
            public void onClick(View v) {
                            mCamera.autoFocus(null);
                mCamera.takePicture(null, null, mPicture);
                Log.e("in capture button","onclick of this button"+ mCamera);
                mCamera.startPreview();
                                }
        }); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-09T05:06:17.913

我遇到了同样的问题，我已经重新启动了我的设备并测试了我的应用程序，它现在可以正常工作了。不同的代码实现应用程序可能没有响应。尝试重新启动您的设备并进行测试，让我知道它是否正常工作

# mysql - PIVOT data in mysql

> ID：12172342
> 
> 赞同：0
> 
> 时间：2012-08-29T06:53:19.363
> 
> 标签：mysql

```
RCDID, EmployeeID, LogDate, LogTime, TerminalID, InOut, read

3079184, 'A00075', '2009/10/28', '07:17:10  ', 'VC01 ', 'IN        ', '1'
3079185, 'A00075', '2009/10/28', '17:28:51  ', 'VC01 ', 'OUT       ', '1'
3079186, 'A00038', '2009/10/28', '07:29:17  ', 'VC01 ', 'IN        ', '1'
3079187, 'A00038', '2009/10/28', '17:30:05  ', 'VC01 ', 'OUT       ', '1'
3079188, 'A00085', '2009/10/28', '07:37:34  ', 'VC01 ', 'IN        ', '1'
3079189, 'A00085', '2009/10/28', '17:43:14  ', 'VC01 ', 'IN        ', '1' 
```

Hi, above is my source table (mysql) i want to cross tab the data as follows.

```
EmployeeID, LogDate, In_location, in_time, Out_location, Out_time
'A00001', '2009/10/28', 'VC01', '08:37:55  ', '', '', 
'A00001', '2009/10/29', 'VC01', '08:09:57  ', 'VC01            ', '17:09:32  '
'A00001', '2009/10/30', 'VC01 ', '09:48:41  ', 'VC01            ', '20:40:37  '
'A00001', '2009/11/03', 'VC01', '08:20:34  ', 'VC01            ', '18:03:34  '
'A00001', '2009/11/04', 'VC01 ', '08:26:49  ', 'VC01            ', '19:21:46  '
'A00001', '2009/11/05', 'VC01', '08:16:00  ', 'VC01            ', '19:26:01  ' 
```

can somebody help me please. i am really appreciate your help

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T08:21:48.643

从本质上讲，需要执行自联接以将同一员工在同一日期`IN`的以下动作与以下动作配对：`OUT`

```
SELECT   a.EmployeeID, a.LogDate,
         a.LogTime AS In_time,
         MIN(b.LogTime) AS Out_time
FROM     my_table a LEFT JOIN my_table b ON
         a.EmployeeID = b.EmployeeID
     AND a.LogDate    = b.LogDate
     AND a.LogTime    < b.LogTime
     AND b.InOut      = 'OUT'
WHERE    a.InOut      = 'IN'
GROUP BY EmployeeID, LogDate, In_time 
```

但是，这不包括有`IN`记录而没有相应`OUT`记录的情况。由于 MySQL 没有对 的原生支持`FULL OUTER JOIN`，因此必须`UNION`将上述内容与一个类似的查询结合起来，该查询将同一员工在同一日期的动作`OUT`与之前的动作配对：`IN`

```
 SELECT   a.EmployeeID, a.LogDate,
           a.LogTime AS In_time,
           MIN(b.LogTime) AS Out_time
  FROM     my_table a LEFT JOIN my_table b ON
           a.EmployeeID = b.EmployeeID
       AND a.LogDate    = b.LogDate
       AND a.LogTime    < b.LogTime
       AND b.InOut      = 'OUT'
  WHERE    a.InOut      = 'IN'
  GROUP BY EmployeeID, LogDate, In_time

UNION

  SELECT   a.EmployeeID, a.LogDate,
           MAX(a.LogTime) AS In_time,
           b.LogTime AS Out_time
  FROM     my_table a RIGHT JOIN my_table b ON
           a.EmployeeID = b.EmployeeID
       AND a.LogDate    = b.LogDate
       AND a.LogTime    < b.LogTime
       AND a.InOut      = 'IN'
  WHERE    b.InOut      = 'OUT'
  GROUP BY EmployeeID, LogDate, Out_time 
```

获得此详细信息后，需要再次将结果与表连接，以提取记录移动的终端：

```
SELECT t.EmployeeID,
       t.LogDate,
       a.TerminalID AS In_location,
       t.In_time,
       b.TerminalID AS Out_location,
       t.Out_time
FROM (

  SELECT   a.EmployeeID, a.LogDate,
           a.LogTime AS In_time,
           MIN(b.LogTime) AS Out_time
  FROM     my_table a LEFT JOIN my_table b ON
           a.EmployeeID = b.EmployeeID
       AND a.LogDate    = b.LogDate
       AND a.LogTime    < b.LogTime
       AND b.InOut      = 'OUT'
  WHERE    a.InOut      = 'IN'
  GROUP BY EmployeeID, LogDate, In_time

UNION

  SELECT   a.EmployeeID, a.LogDate,
           MAX(a.LogTime) AS In_time,
           b.LogTime AS Out_time
  FROM     my_table a RIGHT JOIN my_table b ON
           a.EmployeeID = b.EmployeeID
       AND a.LogDate    = b.LogDate
       AND a.LogTime    < b.LogTime
       AND a.InOut      = 'IN'
  WHERE    b.InOut      = 'OUT'
  GROUP BY EmployeeID, LogDate, Out_time

) t

  LEFT JOIN my_table a ON
       a.EmployeeID = t.EmployeeID
   AND a.LogDate    = t.LogDate
   AND a.LogTime    = t.In_time
   AND a.InOut      = 'IN'

  LEFT JOIN my_table b ON
       b.EmployeeID = t.EmployeeID
   AND b.LogDate    = t.LogDate
   AND b.LogTime    = t.Out_time
   AND b.InOut      = 'OUT' 
```

在[sqlfiddle](http://sqlfiddle.com/#!2/421b8/1/0)上查看。

# c# - 保存放置在网络表单上的图像。ASP.NET C#

> ID：12172343
> 
> 赞同：2
> 
> 时间：2012-08-29T06:53:21.557
> 
> 标签：c#, asp.net, image

我想通过单击按钮保存放置在我的网络表单上的图像。并且图像必须以不同的格式保存，例如 .jpg、.bmp。请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:01:41.857

使用[Image.save()](http://msdn.microsoft.com/en-us/library/9t4syfhh.aspx)：

```
public void Save(string filename, ImageFormat format) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:05:24.773

看看这个，

[.Net 图片上传](http://www.codeproject.com/Articles/1956/NET-Image-Uploading)

# javascript - How to identify buggy behavior in "input" event without browser detection?

> ID：12172346
> 
> 赞同：8
> 
> 时间：2012-08-29T06:53:24.710
> 
> 标签：javascript, events, input, browser-feature-detection

I'll start with the question. When a specific browser has a buggy implementation of a feature and your javascript needs to know whether the current browser has that buggy implementation or not so it can use an alternate strategy, how do you figure out if the implementation is buggy without doing browser type sniffing (which is generally considered bad)?

Here's the whole situation.

I was working on some code that wants to use the ["input" event](https://developer.mozilla.org/en-US/docs/DOM/DOM_event_reference/input) for getting notifications of user changes to an `<input type="text">` field (works much more live than the "change" event), but when that event isn't supported, it uses a much more complicated scheme involving a bunch of other events.

Since the "input" event is only supported in some browsers, I went in search of a way to do feature detection for the event (rather than browser user agent sniffing) since feature detection is generally a more robust way of doing things. As such, I came across [this great article](http://perfectionkills.com/detecting-event-support-without-browser-sniffing/) for doing exactly that and this code seems to work:

```
var isEventSupported = (function(){
    var TAGNAMES = {
      'select':'input','change':'input',
      'submit':'form','reset':'form',
      'error':'img','load':'img','abort':'img'
    }
    function isEventSupported(eventName) {
      var el = document.createElement(TAGNAMES[eventName] || 'div');
      eventName = 'on' + eventName;
      var isSupported = (eventName in el);
      if (!isSupported) {
        el.setAttribute(eventName, 'return;');
        isSupported = typeof el[eventName] == 'function';
      }
      el = null;
      return isSupported;
    }
    return isEventSupported;
  })(); 
```

Then, I ran into problems with IE (surprise, surprise). While IE purports to support the "input" event and it passes the feature test above and it works most of the time, IE's support is buggy as hell. It doesn't even trigger the event when the user hits the backspace key (among other missing behaviors). As such, I can't rely on it in IE. So, I had built this nice clean code that did a feature test for the "input" event and uses it's very clean implementation when present and when not present used this much uglier work-around involving monitoring eight other events. Now, it's busted in IE because the feature test for the "input" event passes so the code attempts to use it, but it's buggy as hell so it doesn't work.

Since these IE bugs show up on user actions, I can't think of any way to devise a javascript feature test to identify the buggy behavior. As such, my only current path is to resort to browser sniffing and refuse to rely on the "input" tag if the browser is IE.

Are there any options here for identifying the buggy behavior in the "input" event besides browser sniffing? If one had to do browser sniffing, is there a way to identify IE by behavior rather than a user agent string that can be freely spoofed and isn't guaranteed to be accurate?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-08T15:15:26.733

jamie-pate 建议这样的事情：

```
 var broken = false,
        ta = angular.element('<textarea>').on('input', function(evt) {
            broken = true;
        });
    ta.attr('placeholder', 'IESUCKS'); 
```

所以你可以在你的代码中检查“支持输入事件并且没有'损坏'”。

见[https://github.com/angular/angular.js/issues/2614?source=c](https://github.com/angular/angular.js/issues/2614?source=c)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T15:04:16.153

如果您对跨浏览器的“输入更改”事件感兴趣，这是我的实现：

```
function onInputChange(domInput, callback) {
    if (domInput.addEventListener) {
        domInput.addEventListener('input', callback, false); // Firefox, etc.
    } else if (domInput.attachEvent) {
        domInput.attachEvent('onpropertychange', callback); // IE
    }
} 
```

使用示例：

```
var leInput = document.getElementById('myInput');
var leCallback = function () {
    // awesome stuff here
};

onInputChange(leInput, leCallback); 
```

适用于所有浏览器，支持键盘输入和复制/粘贴。

然而，那个被诅咒的 IE9 是个例外，它在我编写上面的代码时并不存在。微软会考虑修复他们的错误吗？:\

# php - 将所有 HTML img 标记替换为其 ALT 中的文本

> ID：12172358
> 
> 赞同：0
> 
> 时间：2012-08-29T06:54:11.357
> 
> 标签：php, preg-replace, image, alt

例如：

输入：

```
<img "img1.gif" alt="Donkey"><BR>
<img "img2.gif" alt="Horse"><BR>
<img "img3.gif" alt="Orangutan"><BR> 
```

输出

```
Donkey
Horse
Orangutan 
```

环顾四周，但没有雪茄。有任何想法吗？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:59:39.440

今天感觉很慷慨，这里是 da c0dez：

```
$html =<<<EOS
<img "img1.gif" alt="Donkey"><BR>
<img "img2.gif" alt="Horse"><BR>
<img "img3.gif" alt="Orangutan"><BR>
EOS;

$d = new DOMDocument;
$d->loadHTML($html);
foreach ($d->getElementsByTagName('img') as $img) {
    echo $img->getAttribute('alt'), "\n";
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T06:59:52.023

快速解决方案使用[preg_replace()](http://uk.php.net/preg_replace)

```
$text = '<img img1.gif" alt="Donkey"><BR>
<img img2.gif" alt="Horse"><BR>
<img img3.gif" alt="Orangutan"><BR>';

$replace = preg_replace('/<img(.*)alt="(.*)"\>/', "$2", $text);
echo $replace; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:58:23.207

你不可能环顾四周 - 看看这个非常相似的问题：

[如何使用 php 从 html 中提取 img src、title 和 alt？](https://stackoverflow.com/questions/138313/how-to-extract-img-src-title-and-alt-from-html-using-php)

# wcf - Silverlight-DLL 通信问题

> ID：12172360
> 
> 赞同：0
> 
> 时间：2012-08-29T06:54:13.630
> 
> 标签：wcf, silverlight

Silverlight 4 应用程序的问题。在此应用程序中，每个客户端会话都会创建一个单独的进程，该进程调用一个 DLL。

与 DLL 的通信是在以下调用堆栈中构建的（对于两个函数：一个工作，另一个 - 不工作）。

DLL 中有 2 个函数（都可以正常工作）：

```
extern "C" BOOL __stdcall DocRunExternPageDividions(const char *docId, int num_form, int PageNum, int *Vcols, int **Vvalues, int *Hcols, int **Hvalues)
{
    LOG_START_FUNCTION
    BOOL res = 1;
    __try {
        res = DocRunExternPageDividions1(docId, num_form, PageNum, Vcols, Vvalues, Hcols, Hvalues);
    }
    __except(ExFilter(GetExceptionInformation()))
    {
        AfxThrowUserException();
    }
    LOG_STOP_FUNCTION
    return res;
}

extern "C" BOOL __stdcall DocRunExternPageBreakRects(const char *docId, int num_form, int PageNum)
{
    LOG_START_FUNCTION
        BOOL res = 1;
    __try {
        res = DocRunExternPageBreakRects1(docId, num_form, PageNum);
    }
    __except(ExFilter(GetExceptionInformation()))
    {
        AfxThrowUserException();
    }
    LOG_STOP_FUNCTION
        return res;
} 
```

要调用此函数，服务器有两个委托：

```
private delegate void DocRunExternPageBreakRectsDelegate(string docId, int DocNum, int PageNum);

private delegate void DocRunExternPageDividionsDelegate(
    string docId, int DocNum, int PageNum, out int Vcols, out IntPtr VoutArray, out int Hcols,
    out IntPtr HoutArray); 
```

...两个委托实例和相应的功能：

```
 private DocRunExternPageBreakRectsDelegate DocRunExternPageBreakRectsD;
                DocRunExternPageBreakRectsD =
                Marshal.GetDelegateForFunctionPointer(ptrDocRunExternPageBreakRects,
                                                      typeof (DocRunExternPageBreakRectsDelegate)) as
                DocRunExternPageBreakRectsDelegate;

    private DocRunExternPageDividionsDelegate DocRunExternPageDividionsD;
                DocRunExternPageDividionsD =
                Marshal.GetDelegateForFunctionPointer(ptrDocRunExternPageDividionsD,
                                                      typeof (DocRunExternPageDividionsDelegate)) as
                DocRunExternPageDividionsDelegate;

    public void DocRunExternPageDividions(string docId, int DocNum, int PageNum, out int[] vert, out int[] horz) {
        IntPtr VoutArray, HoutArray;
        int vcols, hcols;
        DocRunExternPageDividionsD(docId, DocNum, PageNum, out vcols, out VoutArray, out hcols, out HoutArray);
        marshal(VoutArray, out vert, vcols);
        marshal(HoutArray, out horz, hcols);
    }

    public void DocRunExternPageBreakRects(string docId, int DocNum, int PageNum) {
        DocRunExternPageBreakRectsD(docId, DocNum, PageNum);
    } 
```

这些函数中的每一个都在此处调用（服务器代码）：

```
 public bool PageBreakRects(string docId, int DocNum, int PageNum, out int[] vert, out int[] horz) {
        bool result;
        vert = null;
        horz = null;
        Program.WriteUserMessage("Called PageBreakRects(" + docId + ", " + DocNum + ", " + PageNum + ")");
        try {
            DocRunExternPageBreakRects(docId, DocNum, PageNum);
            DocRunExternPageDividions(docId, 0, PageNum, out vert, out horz);
            result = true;
        } catch (Exception ex) {}
        return result;
    }

    public bool GetPageDividions(string docID, int Id, int pageNumber, out int[] vert, out int[] horz) {
        bool result = false;
        vert = null;
        horz = null;
        try {
            DocRunExternPageDividions(docID, Id, pageNumber, out vert, out horz);
            result = true;
        } catch (Exception) {}
        return result;
    } 
```

他们每个人 - 在这里被称为：

```
 public DocDividionsResult PageBreakRects(string docID, int DocNum, int pageNumber) {
        var result = new DocDividionsResult();
        int[] vert;
        int[] horz;
        result.Data = new List<object> { Program.DllWrapper.PageBreakRects(docID, DocNum, pageNumber, out vert, out horz) };
        result.Vert = vert;
        result.Horz = horz;
        return result; 
    }

    public DocDividionsResult GetPageDividions(string docID, int formId, int pageNumber) {
        var result = new DocDividionsResult();
        int[] vert;
        int[] horz;
        result.Data = new List<object>
                      {Program.DllWrapper.GetPageDividions(docID, formId, pageNumber, out vert, out horz)};
        result.Vert = vert;
        result.Horz = horz;
        return result;
    } 
```

然后 - 在 lambda 表达式中：

```
 public bool GetPageDividions(string docID, int formId, int pageNumber, out int[] vert, out int[] horz) {
        bool result = false;
        int []localVert = null;
        int []localHorz = null;

        if (_wp != null) {
            if (Service<IWPCommunication>.Use(TestService =>
            {
                TestService.Test(UserId);
            },
            WPService =>
            {
                DocDividionsResult br = WPService.GetPageDividions(docID, formId, pageNumber);
                if (br != null && br.Data != null && br.Data.Length == 1)
                {
                    result = (bool)br.Data[0];
                    localVert = br.Vert;
                    localHorz = br.Horz;
                }
            }, Id, FS) == 0)
            {
        ...
                result = false;
            }
        }
        vert = localVert;
        horz = localHorz;
        return result;
    }

    public bool PageBreakRects(string docId, int DocNum, int PageNum) {
        bool result = false;
        if (_wp != null)
        {
            if (Service<IWPCommunication>.Use(TestService =>
            {
                TestService.Test(UserId);
            },
            WPService =>
            {
                DocDividionsResult br = WPService.PageBreakRects(docId, DocNum, PageNum);
                if (br != null && br.Data != null && br.Data.Length == 1) {
                    result = (bool)br.Data[0];
                }
            }, Id, FS) == 0)
            {
        ...
                result = false;
            }
        }
        return result;
    } 
```

“使用”功能（上面使用过）：

```
 public static int Use(UseServiceDelegate<T> codeTest, UseServiceDelegate<T> codeBlock, string SessionId, FileStream fs, bool throwException) {
        IClientChannel texy = (IClientChannel)_testFactory.CreateChannel(new EndpointAddress("net.pipe://localhost/X2WPServiceUID" + SessionId));
        IClientChannel proxy = (IClientChannel)_channelFactory.CreateChannel(new EndpointAddress("net.pipe://localhost/X2WPServiceUID" + SessionId));
        int returnCode = 0;
        try {
            if (codeTest != null) {
                codeTest((T)texy);
                texy.Close();
            }
            returnCode = 1;
            if (codeBlock != null) {
                codeBlock((T)proxy);
                proxy.Close();
            }
            returnCode = 2;
        } catch(Exception e) {
            if (returnCode == 1 && throwException)
                throw e;
        } finally {
            if (returnCode == 0 && codeTest != null)
                texy.Abort();
            else if (returnCode == 1 && codeBlock != null)
                proxy.Abort();
        }
        return returnCode;
    } 
```

由于在服务器端引发异常，因此省略了客户端通信。GetPageDividions 函数工作正常，错误 PageBreakRects - 不是：行 DocDividionsResult br = WPService.PageBreakRects(docId, DocNum, PageNum); 抛出以下异常：

```
"The message with Action 'http://tempuri.org/IWPCommunication/PageBreakRects' 
cannot be processed at the receiver, due to a ContractFilter mismatch at the EndpointDispatcher.
This may be because of either a contract mismatch (mismatched Actions between sender and receiver) 
or a binding/security mismatch between the sender and the receiver.  
Check that sender and receiver have the same contract and the same binding 
(including security requirements, e.g. Message, Transport, None)." 
```

更糟糕的是，如果在函数 PageBreakRects 中替换： DocDividionsResult br = WPService.PageBreakRects(docId, DocNum, PageNum); 与 DocDividionsResult br = WPService.GetPageDividions(docID, formId, pageNumber); 那么不会抛出异常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T19:23:56.813

不确定您是否从一开始就开始了，但我希望您发布的代码都不会导致错误。该错误意味着您无法从客户端（silverlight）调用您的 Web 服务，因为您的 Web 配置中的 system.serviceModel 部分存在错误。您通常可以通过刷新您的服务参考来修复它。

尝试在 Visual Studio 中本地运行应用程序并将服务引用指向您安装在服务器上的服务（右键单击服务引用并选择配置服务引用，然后更改 URl 以对应于服务器上的服务位置）。如果您已经在此配置中进行开发/测试，请尝试右键单击服务参考并选择“更新服务参考”。

# c# - 简化 excel 单元格列表以创建范围

> ID：12172361
> 
> 赞同：5
> 
> 时间：2012-08-29T06:54:22.210
> 
> 标签：c#, algorithm, excel, vsto

我想从动态生成的单元格引用列表中创建一个 Excel.Range 对象。

```
Excel.Range outputRange = sheet.get_Range(strCellRange, Type.Missing); 
```

由于 strCellRange 可以变得非常大，因此它会给出 com 异常。因此，我想将其简化为带有联合的范围表示法。

例如

```
string strCellRange = "F2,G2,H2,I2,J2,K2,L2,F7,G7,H7,I7,J7,K7,L7,F12,G12,H12,I12,J12,K12,L12,F17,G17,H17,I17,J17,K17,L17,F22,G22,H22,I22,J22,K22,L22,F27,G27,H27,I27,J27,K27,L27"; 
```

到

```
string strCellRange = "F2:L2,F7:L7,F12:L12,F17:L17,F22:L22,F27:L27"; 
```

1.  是否有任何 Excel 方法可以创建具有大量单元格引用的 Range 对象？
2.  是否有已知的算法来实现上述简化（矩阵算法）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T07:15:05.657

加延，

在`VBA`你可以强制你的直接字符串到一个范围

```
Sub Test()
Dim rng1 As Range
Dim strCellRange As String
strCellRange = "F2,G2,H2,I2,J2,K2,L2,F7,G7,H7,I7,J7,K7,L7,F12,G12,H12,I12,J12,K12,L12,F17,G17,H17,I17,J17,K17,L17,F22,G22,H22,I22,J22,K22,L22,F27,G27,H27,I27,J27,K27,L27"
Set rng1 = Range(strCellRange)
Set rng1 = Union(rng1, rng1)
Debug.Print rng1.Address
End Sub 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T07:07:54.337

**VBA**

```
Function Unionize(src As Range) As Range
Dim cell As Range
Dim unionizedRange As Range

For Each cell In src
    If unionizedRange Is Nothing Then
        Set unionizedRange = cell
    Else
        Set unionizedRange = Union(unionizedRange, cell)
    End If
Next

Set Unionize = unionizedRange
End Function 
```

**c#**（粗略，没有通过编译器运行它的语法）

```
Excel.Range Unionize(Excel.Range src)
{
    Excel.Range unionizedRange;

    foreach (Excel.Range cell in src)
    {
        if (unionizedRange == null)
        {
            unionizedRange = cell;
        }
        Else
        {
            unionizedRange = Application.Union(unionizedRange, cell);
        }
    }
    return unionizedRange;
} 
```

**编辑**：基于@brettdj 的解决方案

```
Excel.Range outputRange = sheet.get_Range(strCellRange, Type.Missing);
strCellRange = Application.Union(outputRange, outputRange).Address(false, false); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-29T07:52:23.117

这可能是一个起点（它不适用于 Z 以外的列，并且不能识别矩形）：

```
 private string CompactRangeStringByRows(string strCellRange)
    {
        SortedDictionary<int, SortedList<char, char>> rows = new SortedDictionary<int, SortedList<char, char>>();
        foreach (string aCell in strCellRange.Split(new Char[] { ',' }))
        {
            char col = aCell[0];
            int row = int.Parse(aCell.Substring(1, aCell.Length - 1));
            SortedList<char, char> cols;
            if (!rows.TryGetValue(row, out cols))
            {
                cols = new SortedList<char, char>();
                rows[row] = cols;
            }
            cols.Add(col, col);
        }
        StringBuilder sb = new StringBuilder();
        bool first = true;
        foreach (KeyValuePair<int, SortedList<char, char>> rowCols in rows)
        {
            char minCol = '0';
            char maxCol = '0';
            foreach (char col in rowCols.Value.Keys)
            {
                if (minCol == '0')
                {
                    minCol = col;
                    maxCol = col;
                }
                else
                {
                    if (col == maxCol + 1)
                        maxCol = col;
                    else
                    {
                        AddRangeString(sb, first, rowCols.Key, minCol, maxCol);
                        minCol = col;
                        maxCol = col;
                        first = false;
                    }
                }
            }
            AddRangeString(sb, first, rowCols.Key, minCol, maxCol);
            first = false;
        }
        return sb.ToString();
    }

    private void AddRangeString(StringBuilder sb, bool first, int row, char minCol, char maxCol)
    {
        if (!first)
            sb.Append(',');
        sb.Append(minCol);
        sb.Append(row);
        if (maxCol != minCol)
        {
            sb.Append(':');
            sb.Append(maxCol);
            sb.Append(row);
        }
    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-19T07:09:57.843

首先有一些类持有引用......

```
public class CellRef : IEquatable<CellRef>
{
    public int Row { get; private set; }
    public int Col { get; private set; }

    // some more code...
}

public class CellRange : IEquatable<CellRange>
{
    public CellRef Start { get; private set; }
    public CellRef Stop { get; private set; }

    // some more code...
} 
```

然后算法和方法... 单元格列表需要放入一个List中并在传递给该方法之前进行**排序。**

```
 public static string GetSimplifiedRangeString(List<CellRef> cellList)
    {
        #region Column wise simplify (identify lines)

        Dictionary<CellRef, CellRef> rowRanges = new Dictionary<CellRef, CellRef>(new CellRefEqualityComparer());

        int currentRangeStart = 0;
        for (int currentRangeStop = 0; currentRangeStop < cellList.Count; currentRangeStop++)
        {
            CellRef currentCell = cellList[currentRangeStop];
            CellRef previousCell = (currentRangeStop == 0) ? null : cellList[currentRangeStop - 1];

            bool cont = IsContigousX(currentCell, previousCell);

            if (!cont)
            {
                currentRangeStart = currentRangeStop;
            }

            if (!rowRanges.ContainsKey(cellList[currentRangeStart]))
                rowRanges.Add(cellList[currentRangeStart], cellList[currentRangeStop]);
            else
                rowRanges[cellList[currentRangeStart]] = cellList[currentRangeStop];
        }

        #endregion

        #region Row wise simplify (identify rectangles)

        List<CellRange> rangeList = new List<CellRange>();
        foreach (KeyValuePair<CellRef, CellRef> range in rowRanges)
        {
            rangeList.Add(new CellRange(range.Key, range.Value));                
        }            
        Dictionary<CellRange, CellRange> colRanges = new Dictionary<CellRange, CellRange>(new CellRangeEqualityComparer()); 

        currentRangeStart = 0;
        for (int currentRangeStop = 0; currentRangeStop < rangeList.Count; currentRangeStop++)
        {
            CellRange currentCellRange = rangeList[currentRangeStop];
            CellRange previousCellRange = (currentRangeStop == 0) ? null : rangeList[currentRangeStop - 1];

            bool cont = IsContigousY(currentCellRange, previousCellRange);

            if (!cont)
            {
                currentRangeStart = currentRangeStop;
            }

            if (!colRanges.ContainsKey(rangeList[currentRangeStart]))
                colRanges.Add(rangeList[currentRangeStart], rangeList[currentRangeStop]);
            else
                colRanges[rangeList[currentRangeStart]] = rangeList[currentRangeStop];
        }

        #endregion

        #region Simplify ranges (identify atomic lines and rectangles)

        StringBuilder retStr = new StringBuilder();
        foreach (KeyValuePair<CellRange, CellRange> ranges in colRanges)
        {
            string rangePart = string.Empty;
            if (ranges.Key.Equals(ranges.Value))
            {
                if (ranges.Key.Start.Equals(ranges.Key.Stop))
                {
                    rangePart = ranges.Key.Start.ToString();
                }
                else
                {
                    rangePart = ranges.Key.ToString();
                }
            }
            else
            {
                rangePart = new CellRange(ranges.Key.Start, ranges.Value.Stop).ToString();
            }

            if (retStr.Length == 0)
            {
                retStr.Append(rangePart);
            }
            else
            {
                retStr.Append("," + rangePart);
            }
        }

        return retStr.ToString();

        #endregion
    }

    /// <summary>
    /// Checks whether the given two cells represent a line.
    /// </summary>
    /// <param name="currentCell">Line start</param>
    /// <param name="previousCell">Line end</param>
    /// <returns></returns>
    private static bool IsContigousX(CellRef currentCell, CellRef previousCell)
    {
        if (previousCell == null)
            return false;
        return (currentCell.Row == previousCell.Row) && (currentCell.Col == (previousCell.Col + 1));
    }

    /// <summary>
    /// Checks whether the given two cells represents a rectangle.
    /// </summary>
    /// <param name="currentCellRange">Top-left cell</param>
    /// <param name="previousCellRange">Bottom-right cell</param>
    /// <returns></returns>
    private static bool IsContigousY(CellRange currentCellRange, CellRange previousCellRange)
    {
        if (previousCellRange == null)
            return false;

        bool sameVertically = (currentCellRange.Start.Col == previousCellRange.Start.Col) && (currentCellRange.Stop.Col == previousCellRange.Stop.Col);
        bool contigous = (currentCellRange.Start.Row == currentCellRange.Stop.Row) && (previousCellRange.Start.Row == previousCellRange.Stop.Row) && ((previousCellRange.Stop.Row + 1) == currentCellRange.Stop.Row);
        return sameVertically && contigous;
    } 
```

希望这可以帮助某人。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-29T07:00:42.653

我认为没有任何方法可以检索长范围的单元格引用。我更喜欢完整的工作表，然后通过编码在其中导航。

# java - Error: Cannot open VM: "[datastore] myVM1/myVM1.vmx", unknown file suffix

> ID：12172363
> 
> 赞同：1
> 
> 时间：2012-08-29T06:54:36.733
> 
> 标签：java, vmware, processbuilder

I'm having a lot of difficulty running vmrun through ProcessBuilder in Java.

I have a command string like this:

```
java -cp . RunTest 'vmrun -T esx -h https://10.123.236.123:443/sdk -u root -p password revertToSnapshot "[datastore] myVM1/myVM1.vmx" snapshot1' 
```

When you run the vmrun command above (without Java), the command executes successfully. But with Java, I receive the ff. error:

```
Error: Cannot open VM: "[datastore] myVM1/myVM1.vmx", unknown file suffix 
```

The code is below:

```
 public static void main(String args[]) {
      runProcessBuilderMulti(args[0]);
   }

   static void runProcessBuilderMulti (String cmd){
        List<String> list = new ArrayList<String>();
        System.out.println("Running Command: "+cmd.replace("\"","\\\""));

        Matcher m = Pattern.compile("([^\"]\\S*|\".+?\")\\s*").matcher(cmd);
        while (m.find())
                list.add(m.group(1));

        System.out.println(list);

        try {
                Process process = new ProcessBuilder(list).start();
                InputStream is = process.getInputStream();
                InputStreamReader isr = new InputStreamReader(is);
                BufferedReader br = new BufferedReader(isr);
                String line;

                while ((line = br.readLine()) != null) {
                        System.out.println(line);
                }

                System.out.println(process.exitValue());
        } catch (Exception e) {}
   } 
```

I used Runtime.exec() before switching to ProcessBuilder. I thought it had to do with the quotes, so I added the cmd.replace, but apparently it was a different issue.

Any help would be appreciated. Thanks!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T05:49:32.767

当我了解到使用上述脚本的管道命令遇到问题时，我正在使用 ProcessBuilder。多谷歌搜索发现 ProcessBuilder 需要打开一个 shell 来执行某些命令。

```
ProcessBuilder b = new ProcessBuilder("/bin/sh", "-c", "ls -l | grep daemon"); 
```

功能更新如下：

```
 static void runProcessBuilderMulti (String cmd){

        System.out.println("Running Command: "+cmd.replace("\"","\\\""));

        try {
                Process process = new ProcessBuilder("/bin/sh", "-c", cmd).start();
                InputStream is = process.getInputStream();
                InputStreamReader isr = new InputStreamReader(is);
                BufferedReader br = new BufferedReader(isr);
                String line;

                while ((line = br.readLine()) != null) {
                        System.out.println(line);
                }

                System.out.println(process.exitValue());
        } catch (Exception e) {}
   } 
```

我猜更长的命令更难处理，比如管道命令，所以它需要自己的 shell 来执行。

# perl - How to specify test prerequisites in the ExtUtils::MakeMaker Makefile.PL

> ID：12172364
> 
> 赞同：5
> 
> 时间：2012-08-29T06:54:36.517
> 
> 标签：perl, perl-module, makemaker

`PREREQ_PM` specifies the runtime prerequisites, but how to specify which modules are required to run the test cases?

Should I use `BUILD_REQUIRES` for this?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-01-03T15:41:24.337

从[ExtUtils::MakeMaker](http://www.metacpan.org/module/ExtUtils%3a%3aMakeMaker) 6.64 开始，有一个`TEST_REQUIRES`参数。

```
use ExtUtils::MakeMaker 6.64;

WriteMakefile(
    ...,
    TEST_REQUIRES => {
        Test::More => 0.95,
        },
    ...,
    ); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T17:26:01.720

[CPAN::Meta::Spec](http://search.cpan.org/perldoc?CPAN%3a%3aMeta%3a%3aSpec)定义了模块如何将其先决条件传达给工具链。第 2 版规范修改[了列出先决条件的方式](http://search.cpan.org/perldoc?CPAN%3a%3aMeta%3a%3aSpec#PREREQUISITES)。该`test`阶段现在有自己的先决条件列表。

但是 MakeMaker 尚未针对 v2 规范进行更新，而且可能永远不会更新。我所知道的唯一完全兼容的 v2 分发工具是[Dist::Zilla](http://dzil.org/)（我推荐它的原因不止于此）。

当[CPAN::Meta::Converter](http://search.cpan.org/perldoc?CPAN%3a%3aMeta%3a%3aConverter)从 v2 规范转换为[v1.4](http://module-build.sourceforge.net/META-spec-v1.4.html)时，它会将`test`需求合并到`build_requires`.

所以是的，如果你坚持使用 MakeMaker，运行测试所需的任何模块都应该列在`BUILD_REQUIRES`. *应该只包含安装模块后*`PREREQ_PM`仍然需要的模块。

 ** * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T12:56:05.990

如果测试在没有模块的情况下失败，那么`PREREQ_PM`无论是测试还是运行模块都需要它，我都会将其列出。

如果我需要用于某些测试的模块，但不需要它们来运行模块，我会在测试运行时检测到这些模块，如果找不到它们，我会跳过测试（通过 PASS）。

我认为 ExtUtils::MakeMaker 中没有您想要的任何字段。*

# javascript - How to add multiple markers for single location on Google Map

> ID：12172367
> 
> 赞同：-1
> 
> 时间：2012-08-29T06:55:02.837
> 
> 标签：javascript, google-maps, google-maps-api-3

I'm using Google Maps version 3 and would like to add two markers for a single location on the map.

One would be the default marker which appears with Google Maps, but second would show the name of the brand associated with that location.

My code is

```
 function initialize() {
            var filterLatlng = new google.maps.LatLng(18.928184,72.832601);
            var mapOptions = {
                center: filterLatlng,
                zoom: 19,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var marker = new google.maps.Marker({
                position: filterLatlng,
                title:"Filter Shop"
            });
            var map = new google.maps.Map(document.getElementById("map"), mapOptions);
            marker.setMap(map);
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T20:41:43.190

你可能想要这个库： [http ://code.google.com/p/google-maps-utility-library-v3/source/browse/trunk/maplabel/src/maplabel.js?r=303](http://code.google.com/p/google-maps-utility-library-v3/source/browse/trunk/maplabel/src/maplabel.js?r=303)

它将允许您在地图上添加标签。该标签将附加到您描述的隐藏标记上。使用非常简单，您应该能够很容易地弄清楚它。

# android - read from text file in android

> ID：12172368
> 
> 赞同：1
> 
> 时间：2012-08-29T06:55:04.240
> 
> 标签：android, text-files, fileinputstream

I am new in android development, and I'm trying to create a simple application which reads some data from a text file and displays it in a ListView. The problem is my reader doesn't find my file. I've debugged my application and that is the conclusion I've come up with. So, where does the text file have to placed in order for the reader to find it? Heres some code:

```
 try
    {
          FileInputStream fstream = new FileInputStream("movies.txt");
          DataInputStream in = new DataInputStream(fstream);
          BufferedReader br = new BufferedReader(new InputStreamReader(in));

          String strLine;

          while ((strLine = br.readLine()) != null)
          {
              filme.add(strLine);
              Log.d(LOG_TAG,"movie name:" + strLine);
          }
          in.close();
    }
    catch (Exception e)
    {
                System.err.println("Error: " + e.getMessage());
    } 
```

Thanks!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:59:42.547

将名为movies.txt的文件放在res/raw中，然后使用如下代码

```
String displayText = "";
try {
InputStream fileStream = getResources().openRawResource(
                    R.raw.movies);
int fileLen = fileStream.available();
// Read the entire resource into a local byte buffer.
byte[] fileBuffer = new byte[fileLen];
fileStream.read(fileBuffer);
fileStream.close();
displayText = new String(fileBuffer);
} catch (IOException e) {
  // exception handling
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:06:48.040

通常，当您要打开一个文件时，您会将其放入项目的 res 文件夹中。当你想打开一个文本文件时，你可以把它放到 res/raw 目录下。您的 Android eclipse 插件将为您生成一个包含文本文件句柄的资源类。

要访问您的文件，您可以在活动中使用它：

```
InputStream ins = getResources().openRawResource(R.raw.movies); 
```

其中“movies”是不带文件类型的文件名。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:01:05.567

```
FileInputStream fstream = new FileInputStream("movies.txt"); 
```

movies.txt 的路径在哪里？您必须将路径指定为 sd 卡或内部存储，无论您存储在哪里。

好像在sd卡里

```
 FileInputStream fstream = new FileInputStream("/sdcard/movies.txt"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:34:12.300

如果您将文件存储在 SD 卡上，那么您可以使用`Environment.getExternalStorageDirectory()`.

请注意，例如，如果 SD 卡已安装到计算机上，您可能无法访问它。

您可以像这样检查外部存储的状态：

```
boolean externalStorageAvailable = false;
boolean externalStorageWriteable = false;    

String state = Environment.getExternalStorageState();
if (Environment.MEDIA_MOUNTED.equals(state)) {
    externalStorageAvailable = mExternalStorageWriteable = true;
} else if (Environment.MEDIA_MOUNTED_READ_ONLY.equals(state)) {
    externalStorageAvailable = true;
    externalStorageWriteable = false;
} else {
    externalStorageAvailable = mExternalStorageWriteable = false;
}

if(externalStorageAvailable && externalStorageWriteable){
    File sdRoot = Environment.getExternalStorageDirectory();
    File myFile = new File(sdRoot, "path/to/my/file.txt");
} 
```

# javascript - For a Chrome plugin, is an OnClick of a browser tab a Page Action or a Browser Action?

> ID：12172373
> 
> 赞同：1
> 
> 时间：2012-08-29T06:55:22.850
> 
> 标签：javascript, google-chrome-extension

I am developing a plugin in Chrome,without refreshing page i need to fetch email when clicking on browser tabs. i should write code in background.html or browser action(js). but i used in content script.js, it is alerting when i refresh page..

# javascript - 引导工具提示正在初始化但未显示

> ID：12172379
> 
> 赞同：1
> 
> 时间：2012-08-29T06:55:50.797
> 
> 标签：javascript, jquery, twitter-bootstrap, tooltip

我正在尝试设置引导工具提示，但它似乎不起作用。

```
<p>This is a <a href="#" title="A collection of words.">sentence</a> with a tooltip</p>​ 
```

和

```
$(document).ready(function(){
    $("a").tooltip();
});​ 
```

我已经设置了以下[jsFiddle](http://jsfiddle.net/ytpAy/)

html 似乎已转换为以下内容：

```
<p>This is a <a href="#" data-original-title="A collection of words.">sentence</a> with a tooltip</p> 
```

工具提示 html 被渲染：

```
<div class="tooltip fade top in" style="top: -34px; left: 20.5px; display: block; "><div class="tooltip-arrow"></div><div class="tooltip-inner">A collection of words.</div></div> 
```

使用正确的 CSS 样式：

![在此处输入图像描述](../Images/d47e71bc696ea318874e59380bca2860.png)

但它从未在浏览器中显示？

![在此处输入图像描述](../Images/3747c9dc40e719b582708616de5666f9.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:17:28.143

它确实有效，只是在 jsfiddle 中，HTML 框外的所有内容都被隐藏了。

更新版本以显示填充：http: [//jsfiddle.net/ytpAy/3/](http://jsfiddle.net/ytpAy/3/)

弗雷德

# javascript - Unable to pass integer from javascript to npapi plugin

> ID：12172380
> 
> 赞同：1
> 
> 时间：2012-08-29T06:55:51.040
> 
> 标签：javascript, npapi, qtwebkit, browser-plugin

I am writing a simple napapi plugin where I have to print the value passed from javascript function in html page. But I am facing problem while doing it. It works properly on firefox. But I want to do it on qt fancybrowser example. The value printed is always 0 no matter whatever value I pass in javascript code.

The javascript code is as follows :

```
<html>
.....
<script>
function process_data()
{
    PluginObject = document.getElementById("Object");
    var i =100;
    if(PluginObject){
        ret = PluginObject.process_Data(i); 
    }
}
</script>
....
</html> 
```

The plugin code is as follows :

```
.....
bool ScriptableObject::process_Data(const NPVariant* args, uint32_t argCount, NPVariant* result)
{
    printf(" process_Data\n");
    printf("\t argCount : %d\n",argCount);

    int tempi =args[0].value.intValue; 
    int tempf =args[0].value.doubleValue; 

        printf("type: %d type: %u\n",args[0].type,args[0].type);
    printf("tempi : %d tempf : %f\n",tempi,tempf);
}
...... 
```

The output is as follows :

```
process_Data
     argCount : 1
type: 4 type: 4
tempi : 0 tempf : 0.000000 
```

Actually it should print 100 which is the value passed in var i from javascript.

Any suggestions/comments are welcome

Thanks in advance

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-02T14:09:48.497

当为 NPAPI 方法提供数字参数时，不确定您是否会收到一个`Int32`或`Double`变体，因此您必须在代码中处理这两种情况。
此外，`NPVARIANT_TO_*`宏只提取相应的值——它们不进行任何转换。

要从任何数字参数中提取整数，您必须编写自己的代码，例如：

```
bool convertToInt(const NPVariant& v, int32_t& out) {
  if (NPVARIANT_IS_INT32(v)) {
    out = NPVARIANT_TO_INT32(v);
    return true;
  }

  if (NPVARIANT_IS_DOUBLE(v)) {
    out = NPVARIANT_TO_DOUBLE(v);
    return true;
  }

  // not a numeric variant
  return false;
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-24T16:09:04.640

从这里[http://code.google.com/p/chromium/issues/detail?id=68175](http://code.google.com/p/chromium/issues/detail?id=68175)和这里[https://bugs.webkit.org/show_bug.cgi?id=49036](https://bugs.webkit.org/show_bug.cgi?id=49036)我知道这是 WEB 中的错误套件，所以我在“npruntime.h”中添加下一个：

```
#define FIX_WEB_KIT_INT32_BUG

#ifdef FIX_WEB_KIT_INT32_BUG
    #define NPVARIANT_IS_INT32(_v)   ((_v).type == NPVariantType_Int32 || (_v).type == NPVariantType_Double)
    #define NPVARIANT_TO_INT32(_v)   ((_v).type == NPVariantType_Double ? (_v).value.doubleValue : (_v).value.intValue)
#else
    #define NPVARIANT_IS_INT32(_v)   ((_v).type == NPVariantType_Int32)
    #define NPVARIANT_TO_INT32(_v)  (_v).value.intValue)
#endif 
```

在网络上（来自 javascript）我对传递给插件的所有 int 值使用 parseInt(myVal,10)。在 Google Chrome 和 Safari 上查看。

# c# - webkitbrowser load shared file on a network

> ID：12172385
> 
> 赞同：2
> 
> 时间：2012-08-29T06:56:15.587
> 
> 标签：c#, winforms, browser, webkit

I want to load an HTML file that is shared in the network with webkitbrowser in winform C#.

For example a file url in a browser is:

```
file:///10.10.10.10/files/index.html 
```

I also tried this in webkitbroeser:

```
file://///10.10.10.10//files//index.html 
```

Webkitbrowser doesn't load HTML file. In local there is no problem. I use this url:

```
file:///c://index.html 
```

WinAPP, C#, Visual Studio 2010

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-17T01:33:00.197

你很亲密。而不是 2 个斜线，只需使用 1：

```
webKitBrowser1.Navigate("file:///c:/my/local/path/test.html"); 
```

# java - jasper reports does not display report in Japanese

> ID：12172386
> 
> 赞同：0
> 
> 时间：2012-08-29T06:56:21.430
> 
> 标签：java, encoding, jasper-reports

I have a problem regarding the jasper reports. I have already an application that will generate a report using jasper reports. It does fine when my PC's Region and Language setting, the Format is not in Japanese even though the characters are in Japanese. But when I change my Format to Japanese, there comes the problem. It will generate a report thou but there is no display. We can tell that it can't generate a report because a message will appear saying "The Document has no page". Does this have something to do with the encoding or fonts?

The Japanese characters were also not displayed in the PDF that was generated.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T09:08:50.820

所以我能够在上述答案的帮助下解决我的问题。我所做的是，我更新了我的 jasperreports.jar 和 iText。另外，我添加了 itextasian.jar 和 jasperreports-font.jar（在上面的帮助下）。在我的 jrxml 文件中，我将字体和编码更改为：

```
 pdfFontName="HeiseiKakuGo-W5" pdfEncoding="UniJIS-UCS2-H" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:23:55.643

检查您的 .jrxml 报告文件是否有此标头；

```
 <?xml version="1.0" encoding="UTF-8"?> 
```

# java - 使用java从xml标记值

> ID：12172390
> 
> 赞同：-1
> 
> 时间：2012-08-29T06:56:41.167
> 
> 标签：java, xml, xml-parsing

在下面的示例中，说 file.xml 标签中有值 return code=" " 我`<Port name="write_qwe">`只需要里面的值。

```
<Main display="NORMAL">
    <Port name="read_abc" exe="NO">
        <input>
            <struct file="C:\temp" sign="id1"/>
        </input>
        <output>
            <return code="33" shortmsg="Implementation not found for commande."/>
        </output>
    </Port>
    <Port name="write_qwe" exe="NO">
        <input>
            <struct file="C:\temp" id="id1"/>
        </input>
        <output>
            <return code="1" shortmsg="NOTEXECUTED" longmsg="Not execute due to previous error"/>
        </output>
    </Port>
    <Port name="read_abc" exe="NO">
        <input>
            <struct file="C:\temp" sign="id2"/>
        </input>
        <output>
            <return code="66" shortmsg="Implementation"/>
        </output>
    </Port>
    <Port name="write_qwe" exe="NO">
        <input>
            <struct file="C:\temp" id="id2"/>
        </input>
        <output>
            <return code="0" shortmsg="NOTEXECUTED" />
        </output>
    </Port>
</Main> 
```

我需要获取 `<return code" ">` which is inside `<port name="write_*">` 和 inside 的值`<output>`。在此示例中，我需要获取值 "1" 和 "0" 。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:06:38.440

如果你在使用 xpath 时没有任何问题，那么你可以试试这个：

您必须在参数中提供 xml 文件的路径。

```
 XPathReader reader = new XPathReader("FileName.xml");

   // To get a xml attribute.
   String expression = "/Main/Port/output/@code";

   System.out.println(reader.read(expression,XPathConstants.STRING) + "n"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T08:20:01.780

XPath 可能是要走的路。

我已将 xml 文件作为资源，但您可以将它放在文件结构中。

```
DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
DocumentBuilder builder = factory.newDocumentBuilder();
ClassLoader loader = XmlTestReader.class.getClassLoader();
InputStream is = loader.getResourceAsStream("test.xml");
Document doc = builder.parse(is); 
```

然后创建一个 XPath 表达式。

```
XPathFactory xPathFactory = XPathFactory.newInstance();
XPath xPath = xPathFactory.newXPath();
XPathExpression expr = xPath.compile("/Main/Port[@name='write_qwe']/output/return/@code");
NodeList nl = (NodeList) expr.evaluate(doc, XPathConstants.NODESET); 
```

XPath 表达式`/Main/Port[@name='write_qwe']/output/return/@code`将查找'`code`属性所在的所有属性。`Port``name``write_qwe`

现在您可以像这样遍历节点：

```
for (int i = 0; i < nl.getLength(); i++) {
    Node node = nl.item(i);
    System.out.println(node.getNodeValue());
} 
```

`/Main/Port[@name='write_qwe']/output/return`如果您想要整个`<return>`节点，则可以将 XPath 限制为。

而是像这样迭代：

```
for (int i = 0; i < nl.getLength(); i++) {
    Node node = nl.item(i);
    System.out.println(node.getAttributes().getNamedItem("code").getNodeValue());
} 
```

* * *

**编辑**

正如[Blaise Doughan的](https://stackoverflow.com/users/383861/blaise-doughan)[评论](https://stackoverflow.com/questions/12172390/tag-value-from-xml-using-java/12173592#comment16295361_12173592)所建议的那样，使用 an作为输入可能会更好：`InputSource``XPathExpression#evaluate()`

```
ClassLoader loader = XmlTestReader.class.getClassLoader();
InputStream inputStream = loader.getResourceAsStream("test.xml");
InputSource inputSource = new InputSource(inputStream);

XPathFactory xPathFactory = XPathFactory.newInstance();
XPath xPath = xPathFactory.newXPath();
XPathExpression expr = xPath.compile("/Main/Port[@name='write_qwe']/output/return/@code");
NodeList nl = (NodeList) expr.evaluate(inputSource , XPathConstants.NODESET); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:21:53.790

如果您的 XML 是一个字符串，那么您可以执行以下操作：

```
String xml = ""; //Populated XML String....
DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
DocumentBuilder builder = DocumentBuilderFactory.newDocumentBuilder();
Document document = builder.parse(new InputSource(new StringReader(xml)));
Element rootElement = document.getDocumentElement(); 
```

如果您的 XML 在文件中，则 Document 文档将像这样实例化：

```
Document document = builder.parse(new File("file.xml")); 
```

返回您作为`document.getDocumentElement()`文档的文档元素的节点（在您的情况下`<config>`）。

一旦有了 rootElement，就可以访问元素的属性（通过调用 rootElement.getAttribute() 方法）等等。有关 java 的更多方法`org.w3c.dom.Element`

如需进一步说明，请查看此链接，它对您有很大帮助...

[http://www.java-samples.com/showtutorial.php?tutorialid=152](http://www.java-samples.com/showtutorial.php?tutorialid=152)

干杯..！

# ruby-on-rails - Better way to optimize/refactor handling nested resources in Rails actions/views?

> ID：12172391
> 
> 赞同：2
> 
> 时间：2012-08-29T06:56:45.363
> 
> 标签：ruby-on-rails, model-view-controller, nested-resources

A friend of mine sent me some code who was having trouble understanding how nested resources work in Rails. Having worked with Rails for many years, I quickly explained it to him and then shared some code. Then I enhanced the code to show him an even better way.

You can see the code at [this gist](https://gist.github.com/3507589). His code first, followed by my quick explanation code, and then a more complete/robust version.

There are many ways to approach this. My question is, is there a better / more robust / more solid / more flexible / etc way than this? How do **you other professionals** do it?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T08:22:01.513

最终得到了一个介绍演示者的解决方案。

代码在[OP创建的要点中](https://gist.github.com/3507589#comments)

# linux - Linux 和 SVN：在进行 svn 更新后，需要一个 shelll 脚本将更新的文件传输到测试服务器

> ID：12172395
> 
> 赞同：1
> 
> 时间：2012-08-29T06:57:26.900
> 
> 标签：linux, svn, shell, rsync, svn-update

任务/问题是：我们希望遵循使用 SVN 的适当开发方法。这些项目将使用 PHP、Apache 服务器和 Linux 操作系统。该过程应该是

1.  开发人员在他们的本地副本（本地机器）上处理代码。本地副本与 SVN 存储库（我们自己的 svn 存储库）链接
2.  对于每个完成的任务，都有一个 SVN 提交。
3.  有中间层服务器，它的代码来自同一个 SVN repo。该层仅用于从 repo 获取 SVN 更新，然后将更新的文件传输到测试服务器。

注意：多个项目有多个测试服务器。中间层将在所有项目之间通用。将在此处确定要传输更新文件的目标测试服务器。

我需要第 3 步的帮助。

如何获取/维护不同项目的所有更新文件的列表。然后是一个 shell 脚本来选择源目录（在中间层）和目标目录（测试服务器），然后 rsync 测试服务器上的所有更新文件。所有服务器都在同一个网络上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T01:01:08.677

我不得不同意 H2CO3 的评论。话虽如此，*可以*通过以下方式实现您所需要的`svn`：

```
svn merge -r BASE:HEAD --dry-run . 
```

将为您提供自上次以来已更新的所有文件的列表`svn update`。在 , 的帮助下`sed`，`awk`或者`perl`您可以轻松地将其转换为适合 使用的包含列表`rsync`。这是另一个类似的命令，它可能有用，但更冗长且更难解析：

```
svn log -r BASE:HEAD -v 
```

但是，我会质疑是否`rsync`适合这里的工作。为什么不`svn`直接在测试服务器上使用呢？为什么你甚至需要中间的服务器？你已经说过所有服务器都在同一个网络上，所以也许你有一个你没有说明的额外要求？

最后，强烈建议大家看看[`git-svn`](http://www.kernel.org/pub/software/scm/git/docs/git-svn.html)。网上有很多[很好](http://viget.com/extend/effectively-using-git-with-subversion) [的](http://maymay.net/blog/2009/02/24/how-to-use-git-svn-as-the-only-subversion-client-youll-need/)[介绍](http://learn.github.com/p/git-svn.html) [性](http://blog.tsunanet.net/2007/07/learning-git-svn-in-5min.html)[文章](http://lostechies.com/scottreynolds/2009/05/06/getting-up-and-running-on-git-svn-5-minute-quickstart/)可以帮助您解决这个问题，当您触手可及时**，**还有更多可能。我很高兴与一个大部分时间都坚持的团队合作了一年多，如果我没有告诉他们我在做什么，他们就不会更聪明了。（我最终也将它们转换为，但这是另一个故事 :-) **`git``git-svn``svn``git`**

# asp.net-mvc - 如何在 30 秒后刷新 MVC 中的部分视图

> ID：12172396
> 
> 赞同：1
> 
> 时间：2012-08-29T06:57:31.417
> 
> 标签：asp.net-mvc, asp.net-mvc-3

> **可能重复：**
> [如何每秒自动刷新 MVC PartialView](https://stackoverflow.com/questions/1508765/how-to-auto-refresh-mvc-partialview-every-second)

我想每 30 秒刷新一次 MVC 中的部分视图。我怎样才能只更新那部分而不是整个页面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:09:35.507

您可以尝试在您的页面中使用 setTimeout javascript 计时器并为其提供 ajax 函数，该函数将为您加载部分内容。这是超时函数原型：

```
<script type='text/javascrit'>
function loadPartial()
{
    //your ajax call
}

 $(document).ready(function () {
     setTimeout("loadPartial",30000);
  });
</script> 
```

# html - 如何选择一行中的第一个 TD 元素

> ID：12172398
> 
> 赞同：0
> 
> 时间：2012-08-29T06:57:58.437
> 
> 标签：html, css, css-selectors

我有一些行的表。我想创建一个 CSS，它允许我为具有类的表递归地更改行中第一个`TD`元素的颜色。`TR``mytable`

你能给我一个CSS样本吗？

```
<table class="mytable">
    <tr>
        <td>Event Title:</td><!--Change color here-->
        <td>{EventTitle}</td>
    </tr>
    <tr>
        <td>Start date:</td><!--Change color here-->
        <td>{DateTimeStart}</td>
    </tr>
    <tr>
        <td>End date:</td><!--Change color here-->
        <td>{DateTimeEnd}</td>
    </tr>
</table> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:59:21.087

为此，您可以使用**:first-child**属性。像这样写：

```
.mytable td:first-child{
 color:red;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T07:02:02.660

使用 CSS “first-child”元素：[http ://www.w3schools.com/cssref/sel_firstchild.asp](http://www.w3schools.com/cssref/sel_firstchild.asp)

所以可以这样做：

```
.mytable td:first-child {
   something here
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:05:36.190

`:first-child`在 IE 中不起作用，一种实用的方法是更改`td`​​要应用背景的这些`th`，然后设置它们的样式

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:01:30.937

正如@sandeep 所写，您可以使用第一个孩子来实现目标。如果可能的话，更好的方法是将类名添加到您的第一个 td. 如果这应该是标题，您可能还想使用 th 而不是 td

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-29T08:01:10.167

你可以试试这个：

***HTML***

```
<table class="mytable">
                <tr>
                        <td>Event Title:</td><!--Change color here-->
                        <td>{EventTitle}</td>
                </tr>
                <tr>
                        <td>Start date:</td><!--Change color here-->
                        <td>{DateTimeStart}</td>
                </tr>
                <tr>
                        <td>End date:</td><!--Change color here-->
                        <td>{DateTimeEnd}</td>
                </tr>
        </table> 
```

***CSS***

```
.mytable tr td:first-child{
 color:red;
} 
```

[http://jsfiddle.net/hrBAn/1/](http://jsfiddle.net/hrBAn/1/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-29T07:03:19.523

Sandeep 的想法是正确的，但您似乎要求的是更具体的样式规则。尝试这个：

```
table.mytable td:first-child {} 
```

# android - TextWatcher：NullPointerException

> ID：12172404
> 
> 赞同：1
> 
> 时间：2012-08-29T06:58:22.703
> 
> 标签：android, nullpointerexception

我正在尝试更改一个编辑视图的值，而另一个编辑视图中有更改，即使程序运行值未传递给编辑视图。值从一个编辑视图传递到另一个编辑视图，然后该值乘以解析值。帮助我的主要活动代码是：

```
public class Main extends ListActivity {
public double C_webuserDouble;
public double C_cashDouble;
public double C_transferDouble;

public double S_webuserDouble;
public double S_cashDouble;
public double S_transferDouble;

EditText resultTxt ;
TextView cashTxtView ;
TextView webuserTxtView;
TextView transferTxtView;
TextView S_cashTxtView ;
TextView S_webuserTxtView;
TextView S_transferTxtView;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.listplaceholder);

    ArrayList<HashMap<String, String>> mylist = new ArrayList<HashMap<String, String>>();

    JSONObject json = JSONfunctions.getJSONfromURL("http://ldsclient.com/ftp/strtojson.php");

    try{

        JSONArray  netfoxlimited = json.getJSONArray("netfoxlimited");

        for(int i=0;i<netfoxlimited.length();i++){                      
            HashMap<String, String> map = new HashMap<String, String>();    
            JSONObject e = netfoxlimited.getJSONObject(i);

            map.put("date",  e.getString("date"));
            map.put("c_web", e.getString("c_web"));
            map.put("c_bank",e.getString("c_bank"));
            map.put("c_cash",  e.getString("c_cash"));
            map.put("s_web",   e.getString("s_web"));
            map.put("s_bank",e.getString("s_bank"));
            map.put("s_cash", e.getString("s_cash"));
            mylist.add(map);        

        /** C_webuserDouble=json.getDouble("c_web");
            C_transferDouble= json.getDouble("c_bank");
            C_cashDouble=json.getDouble("c_cash");

            S_webuserDouble=json.getDouble("s_web");
            S_transferDouble= json.getDouble("s_bank");
            S_cashDouble=json.getDouble("s_cash");*/

        }       
    }catch(JSONException e)        {
         Log.e("log_tag", "Error parsing data "+e.toString());
    }

    ListAdapter adapter = new SimpleAdapter(this, mylist , R.layout.main, 
                    new String[] {"date", "c_web" ,"c_bank","c_cash","s_web" ,"s_bank","s_cash",}, 
                    new int[] { R.id.item_title,R.id.webuserTxtView, R.id.transferTxtView, R.id.cashTxtView, R.id.S_webuserTxtView, R.id.S_transferTxtView, R.id.S_cashTxtView});

    setListAdapter(adapter);
    resultTxt = (EditText) findViewById(R.id.editText1);
    resultTxt.addTextChangedListener(new TextWatcher(){

        public void afterTextChanged(Editable arg0) {
            // TODO Auto-generated method stub

            String text;
            text=resultTxt.getText().toString();
            if(resultTxt.getText().length()>0){
calculateSum(C_webuserDouble,C_cashDouble,C_transferDouble);
                    calculateSunrise(S_webuserDouble,S_cashDouble,S_transferDouble);
            }

}

        public void beforeTextChanged(CharSequence arg0, int arg1,
                int arg2, int arg3) {
            // TODO Auto-generated method stub

        }

        public void onTextChanged(CharSequence s, int start, int before,
                int count) {
            // TODO Auto-generated method stub

        }});}

private void calculateSum(Double webuserDouble, Double cashDouble, Double transferDouble){

    String Qty;
    Qty= resultTxt.getText().toString();

    if(Qty.length() >0){
    double QtyValue = Double.parseDouble(Qty);
    double cashResult;
    double webuserResult;
    double transferResult;

    cashResult =  cashDouble * QtyValue;
    webuserResult = webuserDouble * QtyValue;
    transferResult = transferDouble * QtyValue;

    DecimalFormat df = new DecimalFormat("#.##");
    String cashResultStr = df.format(cashResult);
    String webuserResultStr = df.format(webuserResult);
    String transferResultStr = df.format(transferResult);

    cashTxtView.setText(String.valueOf(cashResultStr));
    webuserTxtView.setText(String.valueOf(webuserResultStr));
    transferTxtView.setText(String.valueOf(transferResultStr));

    //cashTxtView.setFilters(new InputFilter[] {new DecimalDigitsInputFilter(2)});
}

    if(Qty.length()==0){
        cashTxtView.setText(String.valueOf(cashDouble));
        webuserTxtView.setText(String.valueOf(webuserDouble));
        transferTxtView.setText(String.valueOf(transferDouble));

    }

}

private void calculateSunrise(Double webuserDouble, Double cashDouble, Double transferDouble){

String Qty;
    Qty= resultTxt.getText().toString();

    if(Qty.length() >0){
    double QtyValue = Double.parseDouble(Qty);
    double cashResult;
    double webuserResult;
    double transferResult;

    cashResult =  cashDouble * QtyValue;
    webuserResult = webuserDouble * QtyValue;
    transferResult = transferDouble * QtyValue;

    DecimalFormat df = new DecimalFormat("#.##");
    String cashResultStr = df.format(cashResult);
    String webuserResultStr = df.format(webuserResult);
    String transferResultStr = df.format(transferResult);

    S_cashTxtView.setText(String.valueOf(cashResultStr));
    S_webuserTxtView.setText(String.valueOf(webuserResultStr));
    S_transferTxtView.setText(String.valueOf(transferResultStr));
    }

    if(Qty.length()==0){
        S_cashTxtView.setText(String.valueOf(cashDouble));
        S_webuserTxtView.setText(String.valueOf(webuserDouble));
        S_transferTxtView.setText(String.valueOf(transferDouble));

    }

 }

} 
```

以下是我的列表占位符代码

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="vertical"
android:layout_width="fill_parent"
android:layout_height="fill_parent">    

<ListView
    android:id="@id/android:list"
    android:layout_width="fill_parent"
    android:layout_height="0dp"
    android:layout_weight="1"
    android:drawSelectorOnTop="false" />

<TextView
    android:id="@id/android:empty"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="No data"/>

</LinearLayout> 
```

所有代码都相同，但在给出用户输入时会生成以下 logcat 错误

```
08-29 14:53:01.234: E/AndroidRuntime(2206): Uncaught handler: thread main exiting due to uncaught exception
08-29 14:53:01.245: E/AndroidRuntime(2206): java.lang.NullPointerException
08-29 14:53:01.245: E/AndroidRuntime(2206):     at com.mokshya.jsonnetfoxtab.Main.calculateSum(Main.java:142)
08-29 14:53:01.245: E/AndroidRuntime(2206):     at com.mokshya.jsonnetfoxtab.Main.access$0(Main.java:120)
08-29 14:53:01.245: E/AndroidRuntime(2206):     at com.mokshya.jsonnetfoxtab.Main$1.afterTextChanged(Main.java:101) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:31:21.607

根据您的编程列表占位符代码应该是这样的

```
<ListView
android:id="@id/listview1"
android:layout_width="fill_parent"
android:layout_height="0dp"
android:layout_weight="1"
android:drawSelectorOnTop="false" />

<EditText
android:id="@id/editText1"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:text="No data"/> 
```

或者

```
<ListView
android:id="@id/listview1"
android:layout_width="fill_parent"
android:layout_height="0dp"
android:layout_weight="1"
android:drawSelectorOnTop="false" />

<AutoCompleteTextView
android:id="@id/editText1"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:text="No data"/> 
```

在编程中

在这里改变

```
 ListAdapter adapter = new SimpleAdapter(this, mylist , R.layout.main, 
                new String[] {"date", "c_web" ,"c_bank","c_cash","s_web" ,"s_bank","s_cash",}, 
                new int[] { R.id.item_title,R.id.webuserTxtView, R.id.transferTxtView, R.id.cashTxtView, R.id.S_webuserTxtView, R.id.S_transferTxtView, R.id.S_cashTxtView});

ListView listView = ( ListView ) findViewById(R.id.listview1);

// Setting the adapter to the listView
 listView.setAdapter(adapter);

 resultTxt = (EditText) findViewById(R.id.editText1);
 /// and so on 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:23:27.330

将您的xml更改为

```
<TextView     
android:id="@+id/editText1     
android:layout_width="fill_parent"     
android:layout_height="wrap_content"     
android:text="No data"/> 
```

# .net - 操纵另一个应用程序嵌入式网络浏览器

> ID：12172407
> 
> 赞同：1
> 
> 时间：2012-08-29T06:58:32.427
> 
> 标签：.net, winforms, browser

我需要在嵌入在另一个应用程序中的 Web 浏览器控件中填写表单。

我知道我必须使用 API 来获取另一个应用程序的窗口句柄，但不知道哪个 API 可以引用该应用程序内的 Web 浏览器控件。

我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T08:44:30.870

如果您知道另一个应用程序是托管 (.Net) 应用程序 - 那么您可以通过 DLL 注入来实现。[在http://www.codingthewheel.com/archives/how-to-inject-a-managed-assembly-dll](http://www.codingthewheel.com/archives/how-to-inject-a-managed-assembly-dll)上有一个关于使用 C# 执行此操作的不错的教程

注入 DLL 后，它需要使用反射来查找 Web 浏览器控件，然后调用其方法来填写表单。

或者，您可以只聚焦窗口并使用 sendkeys 来模拟将填写表单的键盘输入。

# objective-c - 使用 -[NSString drawInRect: withAttributes:] 时出现错误的字距调整

> ID：12172408
> 
> 赞同：5
> 
> 时间：2012-08-29T06:58:40.757
> 
> 标签：objective-c, cocoa, core-text

使用 -[NSString drawInRect:withAttributes:] 时，主要是使用内置的 Helvetica Neue 以及其他字体时，字距非常糟糕。但是，当在 Text Edit（使用 NSTextView）中呈现相同的字符串时，字距调整非常好。考虑这两个字符串：

![糟糕的字距](../Images/0fa3821d5264cbd756419d2c76ac0ebe.png)

![良好的字距](../Images/4e97bbc462d7257d861abcbbcfec1a2b.png)

对于小磅值，第一种情况（在 Cocoa 中渲染）几乎难以辨认，而第二种情况（来自文本编辑）要好得多。我认为这里根本没有使用字距调整信息。如果我应用值为 0.0 的 NSKernAttribute（根据文档关闭字距调整），我会得到相同的结果，即顶部的结果。

我还尝试将 Core Text 与 CTLineDraw 一起使用，但字距仍然很差。所以我的问题是，为了在 Cocoa 文本系统中启用字距调整，我需要做些什么特别的事情吗？如果没有， NSTextView 如何应用字距调整？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T11:42:41.707

最上面的例子是“更紧”，最下面的例子是“更松”，见`-[NSTextView tightenKerning]`, `-[NSTextView loosenKerning]`。在这里，Apple 混淆地将其他人所说的“跟踪”称为“字距调整”，即。在字体中指定的“字符前进”之后，在每个字形之间均匀应用恒定数量的额外空间（正或负），以使文本看起来更紧或更松。

默认的 'tightness' 或 'looseness' 是渲染引擎的属性，而不是字体，并且在不同的 OSX 版本、应用程序或 UI 元素之间很容易不同。

在字体中，字距调整表用于调整特定字形对所需的字符前进，例如，在我假设的字体中：“AV”被列为字距调整对 - 当字符时，“A”应该具有较小的前进后面是一个“V”。

OSX 字体 Helvetica 和 HelveticaNeue（以及许多其他字体）根本没有字距调整信息，因此您的示例中没有使用字距调整信息是对的。

如果字体没有字距调整信息，您的问题“我如何在 Cocoa 文本系统中启用字距调整？” 没有意义或不代表您认为的意思（？）。

# asp.net-mvc-3 - 无效的匿名类型成员声明符。匿名的 ...？

> ID：12172409
> 
> 赞同：0
> 
> 时间：2012-08-29T06:58:47.163
> 
> 标签：asp.net-mvc-3, razor, html-helper

我正在构建一个 htmlhelper 扩展，但收到此错误：

无效的匿名类型成员声明符。必须使用成员分配、简单名称或成员访问来声明匿名类型成员。

我试图将@User.IsInRole 转换为布尔值但无济于事:(

这是 Razor 标记：

```
@using htmlHelperstring.Models
@{
    ViewBag.Title = "Home Page";

}

<ul>
    @Html.MyActionLink(
    "<span>Hello World</span>", 
    "about", 
    "home",
    new { id = "123" },
    new { @class = "foo",(bool)(@User.IsInRole("Chef"))}
)
</ul> 
```

帮手：

```
using System.Web;
using System.Web.Mvc;
using System.Web.Routing;

namespace htmlHelperstring.Models
{
    public static class LabelExtensions
    {
        public static IHtmlString MyActionLink(
        this HtmlHelper htmlHelper,
        string linkText,
        string action,
        string controller,
        object routeValues,
        object htmlAttributes,
            bool UserAuthorized
    )
        {
            var li = new TagBuilder("li");
            if (UserAuthorized)
            {
                var urlHelper = new UrlHelper(htmlHelper.ViewContext.RequestContext);
                var anchor = new TagBuilder("a");
                anchor.InnerHtml = linkText;
                anchor.Attributes["href"] = urlHelper.Action(action, controller, routeValues);
                anchor.MergeAttributes(new RouteValueDictionary(htmlAttributes));
                li.InnerHtml = anchor.ToString();
            }
            else
            {
                li.InnerHtml = string.Empty;
            }
            return MvcHtmlString.Create(li.ToString());
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:16:45.163

看起来您缺少以下成员分配：

```
new { @class = "foo",(bool)(@User.IsInRole("Chef"))} 
```

您要将布尔值分配给什么？

你需要这样的东西：

```
new { @class = "foo", HTMLATTRIBUTENAME = (bool)(@User.IsInRole("Chef"))} 
```

将 HTMLATTRIBUTENAME 替换为您要设置的属性名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:19:12.073

我不写 asp.net （实际上从来没有写过一行；所以请谨慎对待）；但我怀疑构造：

```
new { id = "123" } 
```

（以及它下面的类似内容）是“匿名类型”所指的消息，我对为什么你所拥有的可能是错误的有一些想法（最有可能是**第三种**感觉）。

**首先**，如果它是 C 风格的结构，您可能需要使用 '.' 在“成员”标识符之前（对我来说，这对于该错误消息是有意义的）：

```
new { .id = "123} 
```

**其次**，该错误的措辞让我想知道在这种环境中是否不允许您传递这样的匿名对象；您需要先将其分配给一个变量，然后再传递该变量。原谅任何语法错误：

```
@using htmlHelperstring.Models
@{
    ViewBag.Title = "Home Page";
    myID = new { id = 123 };
    myClass = new { @class = "foo",(bool)(@User.IsInRole("Chef"))}
}

<ul>
    @Html.MyActionLink(
    "<span>Hello World</span>", 
    "about", 
    "home",
    myID,
    myClass
)
</ul> 
```

**第三**`new { @class = "foo",(bool)(@User.IsInRole("Chef"))}`，对我来说看起来很奇怪的语法。也许（注意添加成员名称）：`new { @class = "foo", isChef = (bool)(@User.IsInRole("Chef"))}`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-30T00:27:43.903

我只是犯了一个愚蠢的错字（一天结束等）它应该是：

```
@{ 
    ViewBag.Title = "Home Page"; 
    myID = new { id = 123 }; 
    myClass = new { @class = "foo"},(bool)(@User.IsInRole("Chef")) 
} 
```

# java - Java - out.write

> ID：12172411
> 
> 赞同：3
> 
> 时间：2012-08-29T06:58:54.440
> 
> 标签：java, file-io

我尝试将这一行写在一个文本文件中：

```
graph[bgcolor=white, size="9", center=1, margin="0.5, 0.5"]; 
```

像这样：

```
out.write("graph [bgcolor=white, size="+9+", center="+1+", margin="+0.5,0.5+"];"); 
```

但它在 margin="+0.5,0.5+" 处返回错误

我该如何解决这个问题？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T07:01:04.277

你必须要`escape`字符串。`String.format()`使用方法会更好。

```
String str="Hello \"World\"";
String strOut=String.format("graph[bgcolor=white, size=\"%s\", center=%s, margin=\"%s, %s\"]",9,1,0.5,0.5);
out.write(strOut); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T07:00:43.153

您的两个边距双打之间有一个违反逗号的语法。

看来您只是希望将逗号包含在字符串中，可以这样做：

```
out.write("...margin=" + 0.5 + "," + 0.5 + "];"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T07:00:45.417

你应该这样写：

```
margin="+0.5 + "," + 0.5+" 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-29T07:12:54.693

如果您的值是固定的，那么只需`"`像这样转义：`\"`.

```
out.write("graph[bgcolor=white, size=\"9\", center=1, margin=\"0.5, 0.5\"];"); 
```

# javascript - 使用 IEWebGL 时如何检测 WebGL 是否可用？

> ID：12172415
> 
> 赞同：1
> 
> 时间：2012-08-29T06:59:23.613
> 
> 标签：javascript, webgl

目前，我检测 WebGL 是否可用于创建画布并尝试获取`"webgl"`and的上下文`"experimental-webgl"`。如果两者都返回`null`，WebGL 将被禁用。现在的问题是，当用户安装了 IEWebGL 时，应用程序本身工作正常，但是 getContext 的返回 null，所以可用性检查返回 false。当我访问 IEWebGL 网站 (http://iewebgl.com/Developer.aspx#CreatingTutorial) 上的教程时，我可以看到他们的做法和我一模一样。我错过了什么吗？一些代码：

```
var contextNames = ["webgl", "experimental-webgl"];

var isEnabled = false;
for(var i = 0, length = contextNames.length; i < length; i++)
    if(canvas[0].getContext(contextNames[i]))
        isEnabled = true; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:24:41.453

您无需在 IEWebGL 中创建画布元素，而是使用对象元素。尝试用这个替换你的画布元素，看看它是否有效：

```
<object type="application/x-webgl" id="canvas"></object> 
```

# iphone - 在ios目标c中反向播放音频文件

> ID：12172419
> 
> 赞同：1
> 
> 时间：2012-08-29T06:59:41.950
> 
> 标签：iphone, ios, audio, reverse

> **可能重复：**
> [如何反转音频文件？](https://stackoverflow.com/questions/6593118/how-to-reverse-an-audio-file)

在objective-c中是否有任何方法/库可以以相反的顺序制作音频文件。

实际上，在我的应用程序中，用户录制了他的声音，然后将录音更改为各种声音。现在我必须使用反向声音。

请建议我该怎么做。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:08:47.803

没有直接的方法可以在音频文件上实现这种功能。

我的建议是创建音频文件块并将它们以相反的顺序合并到一个音频文件中。

您可以使用`AVMutableComposition`, `AVMutableCompositionTrack`, `AVAssetExportSession`API 来实现此目的。

您还可以从修剪Apple 文档中提到的 [电影文件中获得更多帮助，您也可以对音频文件进行同样的操作。](http://developer.apple.com/library/ios/#documentation/AudioVideo/Conceptual/AVFoundationPG/Articles/01_UsingAssets.html#//apple_ref/doc/uid/TP40010188-CH7-SW4)

# machine-learning - Giza++ 的糟糕结果和评估

> ID：12172422
> 
> 赞同：4
> 
> 时间：2012-08-29T06:59:53.033
> 
> 标签：machine-learning, nlp, moses, giza++

我曾尝试在窗口上使用 giza++（使用 Cygwin 编译器）。我使用了这段代码：

//假设源语言是法语，目标语言是英语

```
plain2snt.out  FrenchCorpus.f  EnglishCorpus.e

mkcls  -c30  -n20  -pFrenchCorpus.f  -VFrenchCorpus.f.vcb.classes  opt
mkcls  -c30  -n20  -pEnglishCorpus.e  -VEnglishCorpus.e.vcb.classes  opt
snt2cooc.out  FrenchCorpus.f.vcb  EnglishCorpus.e.vcb  FrenchCorpus.f_EnglishCorpus.e.snt >courpuscooc.cooc

GIZA++  -S  FrenchCorpus.f.vcb  -T EnglishCorpus.e.vcb -C FrenchCorpus.f_EnglishCorpus.e.snt  -m1 100  -m2 30  -mh 30  -m3 30  -m4 30  -m5 30  -p1 o.95  -CoocurrenceFile  courpuscooc.cooc -o     dictionary 
```

但是在从 giza++ 获取输出文件并评估输出后，我观察到结果太糟糕了。

我的评估结果是：

召回 = 0.0889

精度 = 0.0990

F_MEASURE = 0.0937

AER = 0.9035

有没有人知道原因？原因可能是我忘记了一些参数或者我应该更改其中一些参数？

换句话说：

首先，我想通过大量数据训练 giza++，然后通过小型语料库对其进行测试，并通过所需的对齐方式（GOLD STANDARD）比较其结果，但我在 web.xml 中找不到任何文档或有用的页面。

你能介绍有用的文件吗？

因此，我通过小型语料库（447 句）运行它并通过所需的对齐方式比较结果。你认为这是正确的方法吗？

我也改变了我的代码，得到了更好的结果，但它仍然不好：

GIZA++ -S testlowsf.f.vcb -T testlowde.e.vcb -C testlowsf.f_testlowde.e.snt -m1 5 -m2 0 -mh 5 -m3 5 -m4 0 -CoocurrenceFile inputcooc.cooc -o dictionary -model1dumpfrequency 1 -model4smoothfactor 0.4 -nodumps 0 -nsmooth 4 -onlyaldumps 1 -p0 0.999 -diagonal yes -final yes

评估结果：

// 假设 A 是 GIZA++ 的结果，G 是黄金标准。As 和 Gs 是 A 和 G 文件中的 S 链接。Ap 和 Gp 是 A 和 G 文件中的 p 链接。

RECALL = 相交 Gs/Gs = 0.6295

精度 = Ap 相交 Gp/A = 0.1090

FMEASURE = (2*PRECISION*RECALL)/(RECALL + PRECISION) = 0.1859

AER = 1 - ((As 相交 Gs + Ap 相交 Gp)/(A + S)) = 0.7425

你知道原因吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T10:45:08.813

你从哪里得到这些参数的？model1的100次迭代？！好吧，如果你真的设法运行它，我强烈怀疑你有一个**非常**小的并行语料库。如果是这样，您应该考虑在训练中添加更多并行数据。以及您如何准确计算召回率和精度指标？

**编辑：**

少于 500 句你不太可能得到任何合理的表现。通常的方法是不要找到更大的（未对齐的）平行语料库，同时在两者上运行 GIZA++，然后评估您有手动对齐的小部分。查看[Europarl](http://www.statmt.org/europarl/)或[MultiUN](http://www.euromatrixplus.net/multi-un/)，这些都是免费提供的语料库，都包含相对大量的英法并行数据。可以在网站上找到有关准备数据的说明。

# c# - 为什么 Silverlight 网站的网络机器中没有显示数据？

> ID：12172445
> 
> 赞同：1
> 
> 时间：2012-08-29T07:00:52.180
> 
> 标签：c#, sql, wcf, silverlight

我有一个带有 WCF 服务的 silverlight Web 应用程序来访问 sql server DB 中的表。在此应用程序中，我将使用 WCF 服务从 sql server DB 中的表中提取的列表显示到我的 silverlight CumboBox 中。

注意：- SQLServer DB 在远程机器上。Silverlight 网站托管在 IIS 版本：5.1 中的另一台远程计算机上。WCF 服务作为服务参考客户端添加到同一台计算机上的 Silverlight 网站。

当我在托管它的同一台机器上运行 silverlight 网站时，它对我来说工作正常并且给出了预期的输出。但是同一个网站在从其他远程机器访问时显示该网站，其中没有数据，如图所示。![图像在 Silverlight 网站托管的同一台机器上](../Images/fc459ff492e6c74643ec2b333b43f455.png)![通过 LAN 连接的另一台远程计算机中的图像](../Images/e1d7d29788965aea87b5095f62618c0e.png)

任何机构都可以告诉我可能是什么问题。**我是 WCF 服务的新手，所以如果我需要在这个问题中分享更多信息，请告诉我**。

* * *

**更新 1：** **-clientaccesspolicy.xml**

```
<?xml version="1.0" encoding="utf-8" ?>
<access-policy>
    <cross-domain-access>
        <policy>
            <allow-from http-request-headers="SOAPAction">
                <domain uri="*"/>
            </allow-from>
            <grant-to>
                <resource path="/" include-subpaths="true"/>
            </grant-to>
        </policy>
    </cross-domain-access>
</access-policy> 
```

* * *

**Update-2** 我尝试将 crossdomain.xml 文件添加到我的 WCF 服务项目以及根（即`http://10.30.10.42:8080/DICOMWebViewer/crossdomain.xml`）中，但问题仍然存在。任何机构都可以帮我找出问题所在。

**crossdomain.xml:-**

```
<?xml version="1.0"?>
<!DOCTYPE cross-domain-policy SYSTEM "http://www.macromedia.com/xml/dtds/cross-domain-policy.dtd">
<cross-domain-policy>
    <allow-http-request-headers-from domain="*" headers="SOAPAction,Content-Type"/>
</cross-domain-policy> 
```

* * *

**更新 3：-** 我已经通过[Able to see Silverlight content on Local IIS but not remote RSS](http://forums.silverlight.net/t/142622.aspx/2/10)，但又没有运气了。我仍然面临同样的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T09:05:18.117

我通过在 IIS 服务器中托管 WCF Web 服务解决了这个问题。以前它在本地主机中，这就是为什么远程机器无法下载跨域策略和客户端访问策略，而且远程机器完全不知道该服务。因为哪些控件既没有从 SQL Server DB 也没有从 XML 文件中获取数据。现在它工作正常。感谢 Dominik 的快速回答。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:13:03.260

很有可能您必须配置跨域策略才能使您的设置正常工作，请查看以下[msdn 文章。](http://msdn.microsoft.com/en-us/library/cc197955%28v=vs.95%29.aspx)

# ssms - 使用 ssms 命令（+参数）打开 SQL Server Management Studio 时，我需要填充对象资源管理器并指向正确的位置

> ID：12172446
> 
> 赞同：2
> 
> 时间：2012-08-29T07:00:56.830
> 
> 标签：ssms, sql-server-2008

我正在使用 SQL Server 管理工作室 2008。
为了节省我的时间，我使用 ssms -S -d -U -P 打开管理工作室。
它正在工作，但对象资源管理器在我之前没有显示任何内容：

*   点击“连接”。
*   重新插入凭据

然后我需要找到合适的数据库。

如何使对象资源管理器在正确的位置打开？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T13:15:13.527

据我所知，SSMS 中没有实现它的本机功能。有一个快捷键 Alt+F8 将 SERVER 集中在对象 exlorer 中，而不是数据库中。

我为 SSMS 开发了插件并实现了您正在寻找的功能：它将当前编辑器窗口与 ObjectExplorer 同步 - 数据库将在树中集中并展开（您甚至不需要在对象资源管理器中打开服务器 -在这种情况下将被添加）。 [按照此链接](http://www.ssmsboost.com/Features/ssms-add-in-track-current-database)查看功能描述

# facebook - Facebook 喜欢的对话位置

> ID：12172451
> 
> 赞同：2
> 
> 时间：2012-08-29T07:01:08.923
> 
> 标签：facebook, dialog, facebook-like, position

我使用 Facebook 喜欢并发送：http: [//developers.facebook.com/docs/reference/plugins/like/](http://developers.facebook.com/docs/reference/plugins/like/)

是否有可能弹出向北而不向南弹出的类似对话框？如此处所示：http: [//desmond.imageshack.us/Himg201/scaled.php ?server=201&filename=fblike.jpg&res=landing](http://desmond.imageshack.us/Himg201/scaled.php?server=201&filename=fblike.jpg&res=landing)

我知道它可能与发送对话框一起使用，但无法让它与类似对话框一起使用。

# python - 从 web.py 解压参数列表和实例化 WTForms 对象

> ID：12172452
> 
> 赞同：2
> 
> 时间：2012-08-29T07:01:08.533
> 
> 标签：python, argument-passing, web.py, wtforms

经过一番搜索，我发现可以使用以下代码在 web.py 中实例化一个 WTForms 对象：

```
form = my_form(**web.input()) 
```

web.input() 返回一个“类似字典”的 web.storage 对象，但没有双星号 WTForms 会引发异常：

```
TypeError: formdata should be a multidict-type wrapper that supports the 'getlist' method 
```

从 Python 文档中，我了解到这两个星号用于解压缩命名参数的字典。也就是说，我仍然对到底发生了什么感到有些困惑。是什么让 web.input() 返回的 web.storage 对象“类似于字典”足以被 ** 解包，但又*不够*“类似于字典”以至于可以按原样传递给 WTForms 构造函数？

我知道这是一个非常基本的问题，但是任何可以帮助新手程序员的建议都将不胜感激！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:03:50.893

请参阅[文档](http://docs.python.org/tutorial/controlflow.html#unpacking-argument-lists)。不同之处在于，doing`func(someDict)`传递了一个论点，即 dict。解压`func(**someDict)`dict 并将每个键/值对作为单独的关键字参数传递。

差异与“足够像dict”或不同程度的dict-like-ness无关。（它也与`web.py`WTForms 无关。）这两个选项只是可以编写函数以接受不同类型参数的两种不同方式，以及传递这些参数的两种相应方式。例子：

```
>> def oneArg(d):
...     print d
>>> def manyArgs(**d):
...     print d
>>> d = {'a': 1, 'b': 2}
>>> oneArg(d)
{'a': 1, 'b': 2}
>>> manyArgs(**d)
{'a': 1, 'b': 2}
>>> manyArgs(a=1, b=2)
{'a': 1, 'b': 2} 
```

最后两个示例特别显示了`**d`它的作用。传递 dict 与`**d`传递每个键/值对作为单独的关键字参数相同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T09:27:04.480

来自[WTForms 来源](https://bitbucket.org/simplecodes/wtforms/src/7a1d35417546/wtforms/form.py)：

```
def process(self, formdata=None, obj=None, **kwargs):
    if formdata is not None and not hasattr(formdata, 'getlist'):
        if hasattr(formdata, 'getall'):
            formdata = WebobInputWrapper(formdata)
        else:
            raise TypeError("formdata should be a multidict-type wrapper that supports the 'getlist' method")

    for name, field, in iteritems(self._fields):
        if obj is not None and hasattr(obj, name):
            field.process(formdata, getattr(obj, name))
        elif name in kwargs:
            field.process(formdata, kwargs[name])
        else:
            field.process(formdata) 
```

您当前将参数传递为`**kwargs`，但如果您想`formdata`工作，那么它应该是 multidict-type ，不像常规`dict`或 webpy `web.storage`，因为它们都没有`getlist`方法。`multidict`是一个为同一个键存储多个值的字典。

您可以尝试将`web.input()`其作为`obj`参数传递，如下所示：`form = my_form(None, web.input())`我认为它应该有效。

# git - 为什么“git checkout master”没有将文件内容恢复到以前？

> ID：12172453
> 
> 赞同：2
> 
> 时间：2012-08-29T07:01:09.587
> 
> 标签：git, git-branch

说，如果文件`foo`已经提交，则内容为

```
just a simple line 
```

现在 a`git checkout -b issue57`完成创建一个分支并切换到它（例如，那个 issue57 分支将持续 2 天用于开发），并且`footer added`现在将一行添加到文件中，然后 a `git commit -a -m "add a footer to the file"`.

所以现在文件`foo`有内容

```
just a simple line
footer added 
```

当需要“热修复”或“快速修复”时，我认为`git checkout master`应该使用命令，现在文件的内容`foo`应该回到那一行。但是当我这样做时`more foo`，文件有两行，这是为什么呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T07:22:17.647

对我来说很好用：

```
$ more foo
just a simple line
$ echo "footer added" >> foo
$ git checkout -b issue57
M   foo
Switched to a new branch 'issue57'
$ git commit -a -m "add a footer to the file"
[issue57 c397054] add a footer to the file
1 file changed, 1 insertion(+)
$ more foo
just a simple line
footer added
$ git checkout master
$ more foo
just a simple line 
```

也许你以前提交过文件`git checkout -b issue57`？

# ruby-on-rails - 如何在模型中保存多对多关系

> ID：12172455
> 
> 赞同：1
> 
> 时间：2012-08-29T07:01:12.690
> 
> 标签：ruby-on-rails, many-to-many, associations

我的 Rails 应用程序中有以下设置：用户注册并从一组音乐样式复选框中进行选择。

音乐风格现在只有 4 种，但应该是可扩展的。我想要一个可以轻松扩展和更改的 MusicStyles 列表。

我的方法是创建一个模型“MusicStyles”和一个模型“UserMusicStyles”，然后使用类似于以下的 has_many_through 关联：

```
class User < ActiveRecord::Base
  has_many :user_music_styles
  has_many :music_styles, :through => :user_music_styles
end

class UserMusicStyle < ActiveRecord::Base
  belongs_to :user
  belongs_to :music_style
end

class MusicStyle < ActiveRecord::Base
  has_many :music_styles
  has_many :users, :through => :user_music_styles
end 
```

现在，在注册期间，我会做类似 MusicStyle.all.each do |m| 之类的事情。...显示复选框，但如何在用户控制器中正确地将其保存到数据库中？

非常感谢任何帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:13:55.867

你可以这样做：

```
<%= form_for @user do |f| %>
  <!-- User stuff -->
  ...
  <% MusicStyle.all.each do |m| %>
    <%= check_box_tag('user[music_style_ids][]', m.id, @user.music_styles.include?(m)) %>
  <% end %>
  <%= f.submit 'Save' %>
<% end %> 
```

# r - 在列表中的数据框中运行函数

> ID：12172456
> 
> 赞同：1
> 
> 时间：2012-08-29T07:01:15.327
> 
> 标签：r, object

所以我在一个列表对象中有一堆数据框。框架的组织方式如

```
ID     Category    Value
2323   Friend      23.40
3434   Foe         -4.00 
```

我按照[这个主题](https://stackoverflow.com/questions/12168944/assign-names-to-variable-using-regular-expression-in-r)将它们列入了一个列表。

现在如何在每个数据帧中递归运行一个函数？例如，如何使用 tolower(colnames(x)) 将数据框中的列名更改为小写？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:12:39.633

这是一个样本`data.frame`和一个`list`重复`data.frame`两次的样本。

```
test <- read.table(header=TRUE, text="ID     Category    Value
 2323   Friend      23.40
 3434   Foe         -4.00")
temp <- list(A = test, B = test) 
```

如果您只想更改原始名称`data.frame`，请尝试：

```
names(test) <- tolower(names(test))
test
#     id category value
# 1 2323   Friend  23.4
# 2 3434      Foe  -4.0 
```

如果您想更改 s 中所有`data.frame`s的名称`list`，请尝试：

```
lapply(temp, function(x) { names(x) = tolower(names(x)); x })
# $A
#     id category value
# 1 2323   Friend  23.4
# 2 3434      Foe  -4.0
# 
# $B
#     id category value
# 1 2323   Friend  23.4
# 2 3434      Foe  -4.0 
```

# android - Android ListView 的替代 UI

> ID：12172458
> 
> 赞同：2
> 
> 时间：2012-08-29T07:01:21.873
> 
> 标签：android, listview, custom-controls

假设我有一个要显示的数据列表。我知道如何使用 a 来显示它`ListView`而且这样做非常简单易行。但我正在寻找一种替代方法来实现同样的目标。我不希望在我计划的数据集中有超过 20 个项目。

我在想一些用户可以滑动查看下一个等的方块，类似于主屏幕上的一些小部件。

我遇到了[android.widget.StackView](http://developer.android.com/reference/android/widget/StackView.html)，对此有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T05:45:03.883

您可以尝试 StackView ( [http://developer.android.com/reference/android/widget/StackView.html](http://developer.android.com/reference/android/widget/StackView.html) )。

这就是 Gallery 和 Youtube 小部件的呈现方式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:06:25.490

ListView 是列出大量数据的最佳选择。它具有非常有效的加载特性。但是，如果您不希望有任何特定原因，则必须使用 ScrollView，并且在 ScrollView 中，您必须放置一个 LinearLayout，并且在该 LinearLayout 中，您必须放置多个 LinearLayout（对于每个数据项）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T07:16:46.850

也许您可以使用`ViewPager`（通过兼容包也可用于较低版本的 SDK）。 [http://developer.android.com/training/implementing-navigation/lateral.html](http://developer.android.com/training/implementing-navigation/lateral.html) - 另见页面右上角的项目示例：EffectiveNavigation.zip

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:18:37.847

`GridView`如果您想在页面上以不同于 的方式显示多个项目，您可以使用`ListView`.

您还可以`ViewPager`在自定义视图中使用（来自 android 3.0，或使用支持库）。

# ruby-on-rails-3.2 - 在 Ruby 中解析日期

> ID：12172459
> 
> 赞同：0
> 
> 时间：2012-08-29T07:01:22.660
> 
> 标签：ruby-on-rails-3.2, ruby-1.9, ruby-1.9.3

我需要一个出生日期作为 Ruby on Rails 应用程序中的纯文本。所以这是我用来做它的代码的主要部分

```
 if @date_of_birth_as_text.present? and Date.parse(@date_of_birth_as_text).nil?
      errors.add :date_of_birth_as_text, "cannot be parsed"
    end 
```

因此，它使一切都成为日期。看看，还蛮奇怪的

```
1.9.3p194 :002 > Date.parse("12 12 addd")
 => Sun, 12 Aug 2012 
1.9.3p194 :003 > Date.parse("12 12 october")
 => Fri, 12 Oct 2012 
1.9.3p194 :004 > Date.parse("12 13 october")
 => Sat, 13 Oct 2012 
1.9.3p194 :005 > Date.parse("13 13 october")
 => Sat, 13 Oct 2012 
1.9.3p194 :006 > Date.parse("13 13 2012")
 => Mon, 13 Aug 2012 
1.9.3p194 :007 > Date.parse("13 01 2012")
 => Mon, 13 Aug 2012 
1.9.3p194 :008 > Date.parse("10 01 2012")
 => Fri, 10 Aug 2012 
1.9.3p194 :009 > Date.parse("10 01 2010")
 => Fri, 10 Aug 2012 
```

我想稍微改变一下。我想要一个格式的日期，`"MM (any delimeter or not) dd (any delimeter or not) YYYY"`或者 `"dd (any delimeter) MM (any delimeter) YYYY"`可以解析。或类似的东西，但不是“12 12 add”。

我怎样才能达到它？

PS我看到gemchronic，请不要建议我这样做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:12:45.693

尝试使用 Date.strptime：

```
1.9.3-p194 :017 > Date.strptime( '08-29-2012', '%m-%d-%Y' )
 => #<Date: 2012-08-29 ((2456169j,0s,0n),+0s,2299161j)> 
```

文档：[http ://www.ruby-doc.org/stdlib-1.9.3/libdoc/date/rdoc/Date.html#method-c-strptime](http://www.ruby-doc.org/stdlib-1.9.3/libdoc/date/rdoc/Date.html#method-c-strptime)

# php - 在html中解析php生成的png

> ID：12172461
> 
> 赞同：0
> 
> 时间：2012-08-29T07:01:31.023
> 
> 标签：php, png, gd

我有一个生成 png 的类，在单个页面上显示结果

```
header('Content-Type: image/png');
header('Cache-Control: public, must-revalidate, max-age=0'); // HTTP/1.1
header('Pragma: public');
header('Expires: Sat, 26 Jul 1997 05:00:00 GMT'); // Date in the past
header('Last-Modified: '.gmdate('D, d M Y H:i:s').' GMT');

imagepng($png,'test.png');
imagedestroy($png); 
```

我需要使用脚本而不是上面成功打印 png 的脚本，以便它生成几个动态创建的 png 并能够在 html 页面中解析它们。

因此，我尝试取消注释标题并返回 $png：

```
return $png; 
```

在另一边解析它

```
$png = $obj->pngGeneratorFuntion(1,30,'blank');
imagepng($png);
imagedestroy($png); 
```

结果看起来像这样

```
�PNG  IHDR.i ��PLTE���U��~tRNS@��fIDAT�c�$=�*y ���K�S����)IEND�B`��PNG  IHDR.i ��PLTE���U��~tRNS@��fIDAT�c�$i]���a�P�{O��;>IEND�B`��PNG  IHDR.i ��PLTE���U��~tRNS@��fIDAT�c�$Y����a�P�OMY�)"IEND�B`��PNG  IHDR.i ��PLTE���U��~tRNS@��fIDAT�c�$yZ/y ���TKX{U#8MIEND�B`��PNG  IHDR.i ��PLTE���U��~tRNS@��fIDAT�c�$<�2y ���&gt;�Sq��M�IEND�B`� 
```

并且 print_r($png) 给出

```
Resource id #7 
```

我怎样才能做到这一点。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:05:55.167

如果您想直接在标签中插入图像，您可以尝试[base64_encode() ：](http://uk.php.net/base64_encode)`HTML`

```
$png = $obj->pngGeneratorFuntion(1,30,'blank');
echo '<img src="data:image/png;base64,'.base64_encode($png).'">'; 
```

但是直接插入图片数据并不是一个好的解决方案`HTML`

您可以制作一个单独的文件`image_process.php`并将数据发送到带有`$_GET`参数的该文件并返回图像内容。然后你可以使用：

```
<img src="image_process.php?text=ImageText" alt="" /> 
```

# facebook - 有什么方法可以检查用户是否在只有我许可的情况下通过我的应用程序共享？

> ID：12172462
> 
> 赞同：0
> 
> 时间：2012-08-29T07:01:34.417
> 
> 标签：facebook, facebook-graph-api

我想检查我的应用程序的用户是否在只有我许可的情况下（通过我的应用程序）发布到墙上。

有什么办法可以做到吗？

我的意思是应用程序级别（不是提要）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T09:16:02.677

只有在发布帖子后，您才能检查其隐私级别。

*只有我*发布了帖子的 Graph API 表示中的隐私字段将如下所示，

```
"privacy": {
  "description": "Only Me", 
  "value": "SELF"
} 
```

# c# - 如何从表中读取字符串值，并附加到单个字符串

> ID：12172463
> 
> 赞同：1
> 
> 时间：2012-08-29T07:01:34.540
> 
> 标签：c#, javascript, asp.net, datatable

我正在从表中读取所有字符串值并将其添加到数组中，如下所示。

```
da2.Fill(ds, "DNAiusTwitter_Table");
int counts = ds.Tables[0].Rows.Count;
for (int i = 0; i < counts; i++)
{
    names[i, 0] = ds.Tables[0].Rows[i][3].ToString();
} 
```

如何获取字符串`append = 'name1','name2','name3','name4';`如何将这些值传递给以下代码：

```
for (int i = 0; i < 1; i++)
{
    HtmlGenericControl scriptTagLinks = new HtmlGenericControl("script");
    scriptTagLinks.Attributes["type"] = "text/javascript";
    string scrip1 = "$(function () {$(\"[src='" + names[i, 0] + "']\"" + ").pinit();});";
    var scrip = "var tweetUsers=['" +append  + "'," + "'" + splitted[3]+"']";
    scriptTagLinks.InnerHtml = scrip;

    this.Controls.Add(scriptTagLinks);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T08:16:34.257

如果您稍后在代码中不需要该数组，我将使用 StringBuilder（System.Text 命名空间），如果您的表大小发生变化，它具有更好的内存分配。

```
da2.Fill(ds, "DNAiusTwitter_Table");
int counts = ds.Tables[0].Rows.Count;
StringBuilder appendString = new StringBuilder();
for (int i = 0; i < counts; i++)
{
    appendString.AppendFormat("{0},", ds.Tables[0].Rows[i][3].ToString());
} 
```

这会将所有数据添加到构建器中，然后在第二个代码片段中，执行以下操作以将构建器转换为字符串，去除末尾的附加逗号。另外，我认为您不需要第二个片段中的 for 循环（循环 1？），还是 for 循环中的 1 是错字？

```
var scrip = "var tweetUsers=['" + appendString.ToString().TrimEnd(new char[] { ',' }) + "'," + "'" + splitted[3]+"']"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:09:39.173

使用 string.join() 方法

例子

```
string.Join(your_array, ",") 
```

# c - 奇怪的枚举用法

> ID：12172465
> 
> 赞同：0
> 
> 时间：2012-08-29T07:01:47.020
> 
> 标签：c, arrays, enums

据我所知，枚举可以像

```
typedef enum
{
   true,
   false,
   undefined    
}FLAGS; 
```

`true`并且`false`可以像这样使用

```
int a = 1;
if(a == true)
   ....
else if(a == false)
   .... 
```

谈到我的问题，我遇到了一个枚举用法，例如，

```
FLAGS Options[] = {true, undefined}; 
```

即数组声明为枚举类型。我不知道。请澄清一下。

编辑:: 在提到的场景中会发生什么。

prinf("\n true:%d, false:%d, undefined:%d\n", true, false, undefined);

真：0，假：1，未定义：2

为什么？

**编辑 2::** 它与`int Options[] = {true, undefined};`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:04:25.883

该代码非常好。你可以创建一个任意类型的数组——在这里你声明了一个包含两个元素的数组，每个元素的类型都是`enum FLAGS`.

编辑：您似乎对“未定义”的含义感到困惑。从技术上讲，它*不是*未定义的值，也不是 C 中的保留关键字。在这种情况下，Thar 只是 2。

> 在上述情况下会发生什么。

```
prinf("\n true:%d, false:%d, undefined:%d\n", true, false, undefined); 
```

这将打印以下内容：

```
true:0, false:1, undefined:2 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T07:04:53.537

An`enum`就像一个整数类型，具有一堆命名文字的额外好处。没有什么能阻止你声明一个枚举值数组，它基本上只是一个整数数组。

# xpages - 部分更新...为什么我需要 2 次刷新才能看到更改？

> ID：12172467
> 
> 赞同：0
> 
> 时间：2012-08-29T07:01:57.233
> 
> 标签：xpages, xpages-ssjs

我有一个简单的问题：

我有一个 ViewPanel 和我的视图，我有 3 个按钮（操作按钮）命名

*   删除条目
*   标记为未读
*   标记阅读

每 3 个动作在 SSJS 例程之后执行我的视图的部分更新

*   删除条目：调用一个简单的 SSJS **doc.remove(true);** ，但我的 ViewPanel 在刷新此操作后显示条目（但如果您执行另一个部分刷新，则条目不会正确显示到 ViewPanel 中）
*   MARK READ：调用一个简单的SSJS **document1.getDocument().markRead();** 并在按钮事件处理程序部分刷新后正常工作！
*   MARK UNREAD：调用一个简单的SSJS **document1.getDocument().markUnread();** 但我有相同的操作 REMOVE ENTRY 问题（在事件处理程序自动部分刷新 BUTTON 后，我看不到 ViewPanel 有任何变化......我需要在之后执行另一个部分更新......我看到未读的条目）

有人建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T09:38:40.340

我遇到过类似的问题。我并不是说我找到的解决方案是好的……但至少它对我有用。

完成您在视图面板上执行的每个操作后，在事件处理程序中尝试输入以下代码：

```
<xp:this.onComplete><![CDATA[XSP.partialRefreshGet("#{id:viewPanel1}", {
    onComplete: function() {
        //
    }
});]]></xp:this.onComplete> 
```

一旦您的操作完成，这将刷新视图面板。

# macos - Cocoa WebView (MacApp) - 如何使用自定义字体？

> ID：12172470
> 
> 赞同：1
> 
> 时间：2012-08-29T07:02:06.333
> 
> 标签：macos, cocoa, webview, fonts, webkit

我在 Cocoa 应用程序 (macgap) 中有一个 WebView。

（*注意我不是在谈论 iOS 应用程序中的 UIWebView*）

在我的 CSS 文件中，有一些自定义字体声明：

```
@font-face{
    font-family:'Quivira';
    src:url("./Quivira.ttf") format("truetype");
    font-weight:normal;
    font-style:normal;
} 
```

但是，我无法加载这些内容-我相信这是某种安全问题。

有时，我可以看到控制台中出现错误“**不允许加载本地资源：Quivira.ttf** ”（虽然它并不总是显示这个）

这可能是什么原因造成的？index.html 文件是通过 file:/// 协议加载的，因此不应该存在安全问题，因为它已经是本地的，因此应该能够加载本地资源。

我认为这可能是 webkit 中的错误。

有人可以在 Cocoa WebView 中加载自定义字体吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T11:01:56.483

我尝试了两种方法来加载带有自定义字体的网页。

*   从应用程序包（使用 NSBundle）
*   从用户指定的本地路径（使用绝对路径）

在这两种情况下，我都能成功显示自定义字体。有一个 HTML 文件，旁边是一个 .ttf 字体文件。在 HTML 文件中，我在内联 CSS 中定义了 @font-face。

在第二种情况下，您可以提供本地文件系统的任何完整路径，webview 将从该路径加载（如 /Users/johndoe/Desktop/maiwebsite/index.html）。

**[代码在 Github 上](https://github.com/n9986/WebViewCustomFonts)。**

而从[另一个答案 SO](https://stackoverflow.com/questions/3885641/cocoa-webview-loding-a-local-html-page)：

1.  与其自己获取资源路径并在其上装订子路径，[不如让捆绑软件为您提供正确的路径](http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/Reference/Reference.html%23//apple_ref/occ/instm/NSBundle/pathForResource:ofType:)。
2.  根本不需要处理路径，而是[要求捆绑软件为您提供正确的 URL](http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/Reference/Reference.html%23//apple_ref/occ/instm/NSBundle/URLForResource:withExtension:)。（需要 Mac OS X 10.6 或更高版本。）

如果这没有帮助，那么您可以将您的代码放在某个地方以便我们尝试调试它吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-12-28T18:24:14.603

对于 WKWebView（现在不推荐使用 WebView），从 MacApp 包中加载自定义字体，如下所示：

```
[_webView loadHTMLString:htmlContent baseURL:[[NSBundle mainBundle] resourceURL]]; 
```

与 iOS 不同的是，需要为 bundle 资源提供所有内容：`[[NSBundle mainBundle] bundlePath]`（iOS Bundle 更扁平），对于 MacApps，资源的路径更加复杂，单独使用 bundlePath 将不起作用。上述方法确实有效。

在您的 CSS 中，只需`@font-face`像这样使用，`resourceURL`就会找到指定位置的任何字体。

```
@font-face {font-family:'myfont';src:url('myfont.ttf');} 
```

# php - jQuery 选项卡不会在其中保存我的 php

> ID：12172474
> 
> 赞同：0
> 
> 时间：2012-08-29T07:02:51.013
> 
> 标签：php, jquery, html, tabs

我不能完全弄清楚我的代码中有什么问题，但出于某种奇怪的原因，我将 PHP 代码输入到选项卡 2 中，但随后它转义了该选项卡并输入了所有其他选项卡。所以它在该选项卡以及我拥有的其他选项卡中可见。此 PHP 代码用于检索图标和文件夹。

我在把代码放在这里时遇到了麻烦，所以这里是：

[http://pastebin.com/egD4Lbc9](http://pastebin.com/egD4Lbc9)

这发生在名为“片段 2”的 div 中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T11:05:40.127

为什么片段 1 和片段 3 只有 2 li？

```
 <li><a href="#fragment-1"><span>Home</span></a></li>
 <li><a href="#fragment-3"><span>Projects</span></a></li> 
```

尝试添加第二个标签？至少隐藏

# performance - 寻找免费的可编写脚本的负载测试工具

> ID：12172477
> 
> 赞同：2
> 
> 时间：2012-08-29T07:03:10.723
> 
> 标签：performance, stress-testing, load-testing

我正在寻找一种工具，可以让我测试基于 Rails 的 JSON Web 服务。LoadRunner 可以满足我的需求，但我需要一个免费的解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:06:01.280

[JMeter](http://jmeter.apache.org/)是免费且可编写脚本的，您应该看看。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T22:16:40.230

您的虚拟用户需要什么？一些商业工具在有限的负载水平上提供免费版本，因此在满足您的需求之前，我正在寻找有关虚拟用户数量要求的更多细节。

澄清一下，您是否正在寻找可以从调度程序角度生成 ACM/IEEE 定义压力测试的工具？这将是一个测试，每 ~n~ 秒|分钟|小时以定义的时间间隔增加负载，直到系统崩溃或达到特定指标，例如响应时间超过 SLA 值 250% 达 5 分钟或 CPU 更大在 45 秒内超过 90%，等等......调度程序在工具空间的地图上到处都是，在压力方面，有些人比其他人更好，大多数人在定义的负载水平下工作得同样好。

监控如何适应您的工具模型？是否有您想要监控的特定架构组件来驱动工具？这将帮助您识别架构组件资源使用中的系统瓶颈。

你的团队技能呢？您提到了脚本，但是您期望该工具为您处理多少。一些开源工具很棒，但它们要求一个人必须是一个高技能的开发人员才能充分利用该工具。商业方面对工具的一些边缘进行了修整，但总的来说，您仍然需要精通该工具的语言。如果你需要 Python，那将带你一条路，Java 另一条路，VB 第三条，Pascal 第四条，C 第五条，等等......尝试同时学习一种新工具和一种新语言的模型很少会产生好处。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T12:06:44.300

看看[AgileLoad](http://www.agileload.com)它对小型测试是免费的，并提供记录和高级 scipting 功能。它与 JSON 服务兼容。它非常易于使用，网站上还有关于如何使用该工具的教程和视频。支持是免费的，支持团队可以帮助您编写脚本过程。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-30T21:17:45.453

我还想看看[The Grinder](http://grinder.sourceforge.net/)。它有一个很好的功能，您可以通过记录浏览器活动来创建加载脚本。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-31T12:24:54.347

有一个免费的 Load Tester 版本，并且对您可以运行的虚拟用户数量没有限制：[Load Tester LITE](http://www.webperformance.com/load-testing/free-load-tester-lite.html)。

# android - 始终在 Android ListView 中显示标题

> ID：12172485
> 
> 赞同：5
> 
> 时间：2012-08-29T07:03:49.423
> 
> 标签：android, listview, header

我需要始终显示 ListView 标题，即使 ListView 没有项目。

有可能吗？或者更好地在 ListView 中添加标题作为第一项？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-06-23T14:24:56.653

如果列表没有元素并且您没有添加适配器，只需添加以下内容：

```
mListView.setAdapter(null); 
```

并且标题将出现。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:15:24.230

在 onCreate 的活动中，您可以通过添加代码来添加标题：

```
View headerView = ((LayoutInflater)this.getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.header_view, null, false);
        getListView().addHeaderView(headerView); 
```

在大多数情况下不需要添加标题，您可以在 xml 布局中添加项目。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:09:23.967

如果您可以使用[http://viewpagerindicator.com/](http://viewpagerindicator.com/) 并设置`getListView().setEmptyView(emptyView);` // 当您的 listView 没有项目时

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-11-29T13:02:35.257

我的解决方案是手动切换空视图。

```
/**
 * Custom empty view handling because we don't want the
 * list to be hidden when the empty view is displayed,
 * since the list must always display the header.
 */
private void toggleEmptyView(Adapter adapter)
{
    final View emptyView = findViewById(R.id.empty_view);
    adapter.registerDataSetObserver(new DataSetObserver() {
        @Override
        public void onChanged() {
            emptyView.setVisibility(adapter.getCount() == 0 ? View.VISIBLE : View.GONE);
        }
    });
} 
```

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2012-08-29T07:50:45.840

无论您是否`ListView`有元素，标题都将始终可见。如果 ListView 中有元素，标题将与它们一起滚动，否则它将始终位于顶部。

关于如何将标题视图添加到 ListView，您可以参考用户提供的其他答案。

# regex - 如何避免在文件中的字符串替换期间解析注释行？

> ID：12172487
> 
> 赞同：0
> 
> 时间：2012-08-29T07:04:15.120
> 
> 标签：regex, perl

在文件中的字符串替换期间，我无法避免用于解析的注释行（以 * 开头的行）。请帮我处理我的代码。

```
`perl -pi.bak -e "$_ =~/[#.*]*/; /s/PATTERN/REPLACEMENT STRING/g" Test.txt`; 
```

我在 Eclipse、Windows XP 中使用 Perl。

我收到以下错误消息：

```
Number found where operator expected at -e line 6, near "*    LAST UPDATED 09/15"
(Might be a runaway multi-line // string starting on line 1)
(Missing operator before 15?)
Bareword found where operator expected at -e line 6, near "1994 AT"
(Missing operator before AT?) 
```

在此先感谢 Perl 新手

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:09:03.437

仅当字符串不匹配时才应进行替换：

```
perl -pi.bak -e "s/PATTERN/REPLACEMENT STRING/g unless /^#/" Test.txt 
```

此外，您似乎正在尝试从 Perl 调用 Perl。这通常比从原始程序内部处理文件要慢。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:53:06.457

我用它来跳过匹配正则表达式的行

```
perl -ne 'print unless /^\*/' filename 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:12:43.723

`next`如果匹配注释，请使用跳过以下代码：

```
perl -i.back -p -e'next if /^#/; s/PATTERN/REPLACEMENT STRING/' Test.txt 
```

**更新**：现在正如 choroba 所建议的，与其启动一个单独的 Perl 实例并不得不处理引号，您可能应该在主代码中包含整个内容：

```
my $file= 'Test.txt';
my $bak= "$file.bak";

rename $file, $bak or die "cannot rename $file into $bak: $!";;

open( my $in,  '<', $bak)  or die "cannot open $bak: $!";
open( my $out, '>', $file) or die "cannot create $file: $!";

while( <$in>)
  { if( ! /^\*/) # note the backslash here, * is a meta character
      { s/PERFORM \Q$func[5]\E\[\.\]*/# PERFORM $func[5]\.\n $hash{$func[5]}/g; }
    print {$out} $_;
  }
close $in; 
close $out; 
```

请注意，`$func[5]`可以（可能）包括元字符，所以我使用`\Q`和`\E`转义它们。

我不确定该`\[\.\]*`部分是否匹配方括号、点和 0 个或多个右方括号：`[.`、、`[.]`或`[.]]`。我怀疑这不是你想要的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:51:46.110

如果您尝试跳过任何以 '*' 开头的行作为注释，请尝试此操作：

```
perl -pi.bak -e "s/PATTERN/REPLACEMENT STRING/g unless /^\*/" Test.txt 
```

处理这样的文件时：

```
* this is a comments: AAA => BBB
AAA
AAB
ABB
BBB 
```

跑

```
perl -pi.bak -e "s/AAA/BBB/g unless /^\*/" Test.txt 
```

你会得到

```
* this is a comments: AAA => BBB
BBB
AAB
ABB
BBB 
```

只会替换正常上下文中的 AAA。

# django - 如何使用 Django 中间件

> ID：12172492
> 
> 赞同：1
> 
> 时间：2012-08-29T07:04:43.353
> 
> 标签：django, middleware

我想知道，如何使用 django 中间件，它们的用途是什么？以及没有它们我不能做的事情。

难道 django 的 HttpRequest 和 HttpResponse 不足以处理我可能需要的各种事情。

最后，当我应该开始认为我需要去 django 的中间件时。

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T07:34:49.273

简而言之：如果您希望**在每个视图之前和/或之后****总是**发生某些事情（即在请求到达您的视图之前或响应离开它们之后），请使用中间件。

 **看到[这个问题](https://stackoverflow.com/questions/6185493/django-order-of-execution/6185594#6185594)。

如果您想在所有视图之前或之后做一些不特定于视图的事情，请使用它们。例如，如果您想记录所有请求的 url，您应该使用获取 request.path 并将其写入某处的中间件。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-29T07:46:26.660

Django 中间件是一个框架功能，可帮助您为*所有*请求执行一组相同的操作。您可以将其视为一个轻量级的低级“插件”系统，用于全局更改 Django 的输入和/或输出。您可以定义任意数量的中间件，然后可以使用其中的`MIDDLEWARES`元组启用它们的任何子集`settings.py`.

更准确地说，中间件是一个具有几个函数的类：process_request、process_view、process_template_response 等，django 将在特定时间为每个进程调用它的每个函数，例如在 views.py 中的代码之前调用 process_view被执行。

因此，如果您想对所有请求执行相同的操作，您可以将中间件视为一种灵活且强大的选项。要了解有关中间件以及如何编写它们的更多信息，请参阅：[https ://docs.djangoproject.com/en/dev/topics/http/middleware/](https://docs.djangoproject.com/en/dev/topics/http/middleware/)**

# windows - Windows 中的 FindStr 用法

> ID：12172493
> 
> 赞同：0
> 
> 时间：2012-08-29T07:04:46.753
> 
> 标签：windows, batch-file, windows-xp

只是尝试在属于目录（及其所有子目录）的文件中搜索特定文本。

```
1) findstr /f:"C:\\test.txt" "TextForSearch" > "out.txt" 
```

给了我正确的答案。这里的 test.txt 包含所有要搜索的文件。它正在被重定向到 out.txt。

现在，out.txt 包含所有匹配的实例，但没有使用空格分隔。如何获取文件 out.txt 中带有空格或分隔符的所有文件名（仅文件名）的列表？

```
2) findstr /D:"C:\\" "TextForSearch" 
```

根本不搜索。它只是挂起？我在哪里错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:12:12.460

```
findstr /S /D:"C:\\" "TextForSearch" * 
```

/S recersion 在当前目录和所有子目录中搜索匹配的文件。

* 搜索所有文件

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:58:18.893

为他人，

谢谢泰德和哈利。

解决方案是

```
1) 1) findstr /m /f:"C:\\test.txt" "TextForSearch" > "out.txt" 
```

用于在 test.txt 中指定的文件中搜索特定字符串并将其重定向到名为 out.txt 的文本文件，匹配文件位于单独的行中（Demiled。感谢上帝。）

```
 findstr /S /D:"C:\\" "TextForSearch" * 
```

结帐泰德的答案！

# mysql - 使用 vb.net 将数据集值移动到标签框控件时出错

> ID：12172496
> 
> 赞同：0
> 
> 时间：2012-08-29T07:05:05.447
> 
> 标签：mysql, label, type-conversion, vb.net-2010

我在 vb.net.Backend 中使用 Web 应用程序，我正在使用 mysql。在mysql中编写程序。我在 vb.net 中调用该过程。在数据集中获得价值。但是在使用 vb.net 将值从数据集移动到标签框控件时出现错误

```
mysql (procedure)
-----------------
DELIMITER $$

CREATE  PROCEDURE pro_Datecal()
begin
SELECT DATE_ADD(CURDATE(), INTERVAL 2 DAY) as promisetopay;
end 
```

在 vb.net

* * *

```
Dim dstwo As New DataSet1TableAdapters.pro_DatecalTableAdapter
Dim dttwo As DataSet1.pro_DatecalDataTable = dstwo.GetData()
Label21.Text = CStr(dttwo("promisetopay").ToString)

in dttwo am getting value like below

promisetopay

8/31/2012 12:00:00 AM

error(Conversion from string "promisetopay" to type 'Integer' is not valid.)
-----
error in moving this value to label control 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:11:34.807

`dttwo`是一个数据集。尝试，

```
Label21.Text = dttwo("promisetopay").rows(0)(0).ToString 
```

**更新 1**

```
Label21.Text = dttwo.Rows(0).Item("promisetopay").ToString 
```

# python - 扩展 django.contrib.auth 模块

> ID：12172502
> 
> 赞同：0
> 
> 时间：2012-08-29T07:05:34.027
> 
> 标签：python, django, authentication, module

我是 django 的中级。但是，我喜欢成为这方面的专家。我将创建一个开源应用程序。首先，我计划使用 contrib.auth 模块。我想在我的应用程序中扩展身份验证模块作为用户身份验证。我对基本的事情感到震惊

*   如何在我的应用程序中包含用户身份验证表单。我的 .html 文件中是否有要打印的 {{form}}？
*   如何将我的数据库表引用到身份验证中的用户字段

我还没有设计我的桌子。但想延长它。请有人贡献你的想法来创建一个开源应用程序

-维克拉姆

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:09:21.807

你可以在这个[文档](https://docs.djangoproject.com/en/dev/topics/auth/)中找到你需要的一切。快乐阅读！

# linux - 在 linux 上安装 libs3

> ID：12172504
> 
> 赞同：0
> 
> 时间：2012-08-29T07:05:38.163
> 
> 标签：linux, linker, gnu-make, libs

有人可以给我一个在 LINUX 上安装 libs3 的详细程序吗？只需程序即可。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-29T18:21:35.233

这些是在 64 位机器上的 centos 上安装 libs3 的说明。

根据他们的 README，您应该使用 'rpmbuild -ta' 从他们的源代码中构建一个 rpm 包

1.) 首先，如果尚未安装 rpmbuild，请安装它。[我的安装位置是默认的：~/rpmbuild]

2.) 克隆 libs3。

```
git clone https://github.com/bji/libs3.git 
```

3.) 将文件夹重命名为 libs3-trunk [rpmbuild 抱怨如果它的名称不是那个，所以...]，创建一个 tar.gz，将其复制到 rpmbuild 目录内的 SOURCES 文件夹。

```
mv libs3 libs3-trunk
tar -zcvf libs3-trunk.tar.gz libs3-trunk/
mv libs3-trunk.tar.gz ~/rpmbuild/SOURCES
cd ~/rpmbuild/SOURCES 
```

4.) 构建 rpm

```
rpmbuild -ta libs3-trunk.tar.gz
cd ../RPMS/x86_64 
```

[5.) 从 [ http://rpm.pbone.net/index.php3/stat/4/idpl/21900926/dir/centos_6/com/libs3-2-](http://rpm.pbone.net/index.php3/stat/4/idpl/21900926/dir/centos_6/com/libs3-2-2.0-5.1.x86_64.rpm.html])安装依赖库 libs3-2-2.0-5.1.x86_64.rpm [2.0-5.1.x86_64.rpm.html]](http://rpm.pbone.net/index.php3/stat/4/idpl/21900926/dir/centos_6/com/libs3-2-2.0-5.1.x86_64.rpm.html])或 [ [ftp://ftp.pbone.net/mirror/ftp5.gwdg.de/pub/opensuse/repositories/home:/dalgaaf:/ceph:/extra/CentOS_CentOS-6 /x86_64/libs3-2-2.0-5.1.x86_64.rpm]](ftp://ftp.pbone.net/mirror/ftp5.gwdg.de/pub/opensuse/repositories/home:/dalgaaf:/ceph:/extra/CentOS_CentOS-6/x86_64/libs3-2-2.0-5.1.x86_64.rpm])

6.) 安装 rpm： 以 sudo 执行以下命令：

```
rpm -Uvh libs3-2-2.0-5.1.x86_64.rpm
rpm -Uvh --replacefiles libs3-trunk-1.x86_64.rpm
rpm -Uvh libs3-devel-trunk-1.x86_64.rpm 
```

7.) 如果出现以下错误，请通过 yum 安装 libcurl-devel/libxml2-devel： make: curl-config: Command not found make: xml2-config: Command not found

```
sudo yum install libcurl-devel.x86_64
sudo yum install libxml2-devel.x86_64 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-23T05:34:26.463

对于 >=14.04 的 ubuntu 版本，libs3-dev 可作为 Ubuntu 软件包使用。

所以你只需要运行：

```
sudo apt-get install libs3-dev 
```

# java - 统计HashMap/HashTable的调用次数

> ID：12172505
> 
> 赞同：2
> 
> 时间：2012-08-29T07:05:42.557
> 
> 标签：java, hashmap, hashtable

我有一个 java 程序，其中有很多 HashMap/HashTable 用于映射键值对。现在我想分析或者更确切地说计算在我的程序中调用了多少次 get() 和 put() 方法。

我采用的方法是扩展 Java HashMap/HashTable 类并引入一个名为 count 的成员，并且在 get() 和 put() 方法中，每次调用该方法时都会增加计数。这将涉及大量重构，因为我必须去删除 HashMap/HashTables 的所有实例化来实例化我的扩展类。这种方法合理还是有其他更好的方法来维持这个计数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:09:47.973

此类任务的最佳解决方案是使用 Profiler，例如[YourKit](http://www.yourkit.com/)或[JProfiler](http://www.ej-technologies.com/products/jprofiler/overview.html)。探查器对被探查的 JVM 加载的所有（或部分）类执行[“检测”](http://docs.oracle.com/javase/6/docs/api/java/lang/instrument/package-summary.html)，以准确执行您需要的操作：计数和测量所有方法调用，而无需修改一行代码。

上述两个分析器都附带试用许可证。一旦你尝试过它们，你可能会买一个，因为它们在很多情况下都非常有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:12:33.903

您可以使用分析工具来告诉您方法运行了多少次以及执行代码需要多长时间。例如，您可以在 Eclipse IDE 中执行此操作：http: [//www.eclipse.org/projects/project.php?id=tptp.performance](http://www.eclipse.org/projects/project.php?id=tptp.performance)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-11-16T19:57:24.953

您可以使用继承：[https ://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)

```
public class Main{
    public static void main(String[] args){
          HashMap<Integer,Integer> mymap = new myMap<Integer,Integer>();
          mymap.put(3,4);
          mymap.put(5,6);
          System.out.println(mymap.get(3));//this will print 4;
          System.out.println(mymap.getCountGets());//this will print 1 
          System.out.println(mymap.getCountPuts());//this will print 2
    }
}
class myMap<K,V> extends HashMap<K,V> {

public myMap(){
    countPuts = 0;
    countGets = 0;
}
private int countPuts, countGets ;

@Override
public V put(K k, V v){
    countPuts++;
    return super.put(k, v);
}
@Override
public V get(Object k){
    countGets++;
    return super.get(k);
}

public int getCountGets(){
    return countGets;
}

public int getCountPuts(){
    return countPuts;
} 
```

}

# java - 使用高级安装程序将程序固定到任务栏

> ID：12172506
> 
> 赞同：4
> 
> 时间：2012-08-29T07:05:43.107
> 
> 标签：java, advanced-installer

我正在使用[高级安装程序](http://www.advancedinstaller.com/download.html)

创建我的 java 桌面应用程序的安装程序，寻找将主应用程序快捷方式固定到窗口 7 任务栏的解决方案

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T05:35:55.707

OD 是对的，[微软不建议](http://www.codeproject.com/Articles/185512/Programmatically-PIN-shortcut-onto-Taskbar-on-Win7)在 Win 7 的任务栏中自动固定，这就是为什么该功能从未在 Advanced Installer 中实现。但是，尽可能以编程方式固定，如您在链接文章中所见。您所要做的就是在安装过程结束时将代码添加为自定义操作，以便在安装程序创建快捷方式后固定快捷方式。

# php - 在 htaccess 中设置内存限制

> ID：12172515
> 
> 赞同：41
> 
> 时间：2012-08-29T07:06:12.420
> 
> 标签：php, .htaccess

我正在研究文字出版社。我需要增加内存，所以将以下行添加到我的 htaccess 文件中

```
# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>

php_value memory_limit 64M 
```

我的示例 php 页面

但它会引发 500 内部服务器错误。这里有什么问题..

* * *

## 回答 #1

> 赞同：86
> 
> 时间：2012-08-29T07:27:41.870

在您的*.htaccess*中，您可以添加：

**PHP 5.x**

```
<IfModule mod_php5.c>
    php_value memory_limit 64M
</IfModule> 
```

**PHP 7.x**

```
<IfModule mod_php7.c>
    php_value memory_limit 64M
</IfModule> 
```

如果页面再次中断，那么您在 apache 中使用 PHP 作为 mod_php，但错误是由于其他原因造成的。

如果页面没有中断，那么您正在使用 PHP 作为 CGI 模块，因此无法使用 php 值 - 在我提供的链接中可能是解决方案，但我不确定您是否能够应用它。

阅读更多关于[http://support.tigertech.net/php-value](http://support.tigertech.net/php-value)

# wpf - 在 WPF 中检测和获取脏区域？

> ID：12172518
> 
> 赞同：2
> 
> 时间：2012-08-29T07:06:16.273
> 
> 标签：wpf, direct3d, redraw, directdraw

在 WPF 应用程序中获取重绘/脏区的任何方法？

我想让它们以编程方式进行，而不仅仅是可视化。

我的目标是了解在 WPF 应用程序中为一种远程处理应用程序重绘的时间和内容。

# javascript - 如何删除其中包含 contenteditable 跨度的整个跨度元素？

> ID：12172520
> 
> 赞同：1
> 
> 时间：2012-08-29T07:06:18.290
> 
> 标签：javascript, jquery, html, css, contenteditable

我有一个 contenteditable `div`。[在里面，关于这个链接](https://stackoverflow.com/questions/12121011/how-to-vertically-align-text-on-the-right-of-a-table-to-the-middle-of-the-table)，我放了一个“分数”跨度。这是我当前的代码（跨度中的数字只是虚拟数字）：

```
<span style="display:inline-block; vertical-align:middle;" contenteditable="false">
  <span style="display:block; min-width: 20px;border-bottom:1px solid black; text-align: center; outline: none;" contenteditable>6</span>
  <span style="display:block; min-width: 20px;text-align: center;outline: none;" contenteditable>7</span>
</span> 
```

我的问题是，当我尝试删除这个“分数”跨度（外部跨度，它应该是可删除的，因为这是一个数学所见即所得程序）时，它只是删除了两个内部 contenteditable 跨度的内容。当我尝试删除它时（显然是从外部跨度外部但在 contenteditable div 内部），我希望删除所有三个元素。我不希望外部跨度仍然挥之不去。

有什么解决办法吗？

**更新：**如果没有办法做到这一点，当用户按下大分数跨度旁边的删除键时，有没有办法选择整个跨度元素及其内容？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:19:03.650

只需为顶部跨度提供一个 id：

```
<span id="editfraction" 
      style="display:inline-block; vertical-align:middle;" 
      contenteditable="false"> 
```

并使用它来删除它：

```
$('#editfraction').remove(); 
```

如果要在用户按下删除按钮时删除跨度，请使用 ids，并结合 contentEditable 跨度上的数据属性。

```
<span ... data-ondeleteId="#editx" contenteditable>6</span> 
```

有关示例，请参[见此 jsfiddle](http://jsfiddle.net/KooiInc/JyzDb/)

# php - 用于 JQUERY/AJAX 客户端的 PHP 框架主要用于身份验证过程和数据库操作。哪一个？

> ID：12172528
> 
> 赞同：-2
> 
> 时间：2012-08-29T07:07:04.010
> 
> 标签：php, jquery, frameworks

我想就他们使用的框架向“专业”Php 开发人员提供建议，特别是对于使用“主要”php 作为与 Ajax/Jquery 客户端相关的身份验证过程、连接器和数据库数据过程的应用程序......我使用Zend 框架，但该框架是这种流程的最轻量级解决方案吗？

在我的清单中，我有：

1.  Symfony [http://symfony.com/get_started](http://symfony.com/get_started)
2.  小花[http://kohanaframework.org/](http://kohanaframework.org/)

好的，

以下是有关我需要的更多详细信息：

我正在开发一个需要这些要求的网站：

使用经典界面和社交界面（facebook、twitter）进行简单登录。当用户登录时，他可以只更改他帐户上的一些参数（伪，密码等）。然后，他唯一能做的就是创建我称之为具有不同属性的“对象”。然后可以通过图形界面与其他人共享这些“对象”。

几乎客户端的所有内容都将使用 Jquery/Ajax 显示这些对象，与 PHP 的关系...

所以，我只需要 PHP 来进行 oAuth 过程和数据操作......

我正在尝试找到关于这个小场景的最佳解决方案......

现在，我在 Zend 服务器上使用 Zend Framework，它可以工作，但似乎有点“重”.. 所以我的问题是：有没有更好的“最轻”的方式来考虑这个？

不知道我是否清楚：-/ ...

所以，提前谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T22:16:09.160

除了同意 Gordon 之外，我可以看到您只是在寻找人来提出除 zend 之外的其他建议。

我会选择 Kohana 而不是 Symfony，因为 Kohana 开箱即用更容易理解，并且不需要任何特殊设置即可使用。它足够快地为您提供我认为您在此级别所需的任何内容 - 我的意思是，如果您正在构建像 ebay 这样的企业级网站，您根本不会问这个问题。

您不需要使用 ORM 进行数据库交互，但如果您决定使用它，它很容易理解，并且会使开发过程更快，即使您不知道它的来龙去脉。

我的正式回答是同意戈登的观点。如果他发表他的评论作为答案，我会投赞成票，因为您不应该只询问社区他们使用什么，同时提供您需要的东西的小清单，地球上几乎每个网站也使用这些东西。这太模糊了。

是的，我一直在使用 Kohana。如果您想要其他选择，也可以使用 Codeigniter。

[Limonade](http://limonade-php.github.com/)是非常小的微框架的另一种选择。我不喜欢它有很多原因，但它并不难使用。

# pdf - 水晶报表打印按钮打开pdf页面

> ID：12172529
> 
> 赞同：1
> 
> 时间：2012-08-29T07:07:08.047
> 
> 标签：pdf, crystal-reports, reporting

我在一个项目的水晶报表中工作。我有一个要求，我需要以下仪表的帮助：

我的网页上有水晶报告。.net Crystal 报表查看器查看此报表。但是，当我单击水晶报表查看器上的打印按钮时，它会以 .pdf 格式导出报表。我不想一次又一次地点击。我想打开打印对话框而不是以 .pdf 格式导出。

可能吗？？？如果是的话如何？？？

帮我.....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T13:27:23.580

在我看来，这绝对是可行的。有些人还提出了自定义 JavaScript 打印对话框而不是 MS 对话框。以下是一些更传统的打印对话框的示例：

1.  这个 SO[线程](https://stackoverflow.com/questions/6362230/crystal-report-printing-default-printer)向您展示了如何使用和不使用打印对话框来执行此操作。

2.  查看此线程的底部[示例](http://www.xtremedotnettalk.com/showthread.php?t=97210)

# javascript - 删除为特定事件设置的样式

> ID：12172530
> 
> 赞同：1
> 
> 时间：2012-08-29T07:07:26.360
> 
> 标签：javascript, jquery

我正在寻找一种自动删除特定事件上设置的样式的方法。也许我忽略了它，但我在 jQuery 或 vanilla js 中没有看到这样的功能。

想法：

```
$(element).hover(function() {
    $(this).css({
        backgroundColor : 'red',
        color : 'white'
    });
}, function() {
    // remove styles set on handlerIn()
}).mousedown(function() {
    $(this).css({
        paddingTop : '+=1px',
        paddingBottom : '-=1px'
    });
}).mouseup(function() {
    // remove styles set on mousedown
}); 
```

如果我使用`$(this).removeAttr('style');`它，它不仅会删除特定事件设置的样式，还会删除所有内容 - 使用`mousedown`/`mouseup`时，将删除由`hover`.

是的，我知道我可以将这些值硬编码回默认值 - 不适合！

实现此类功能的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:20:06.257

### 已编辑

如果您可以使用数组，请查看此**解决方案**。

```
var cssArray = [
    {'background-color':'red','color':'white'},
    {'background-color':'','color':''},    
    {'paddingTop':'+=10px','paddingBottom':'+=10px'},
    {'paddingTop':'','paddingBottom':''}    
]

$('div').hover(function() {
    $(this).css(
        cssArray[0]
    );
}, function() {
    $(this).css(
        cssArray[1]
    ); 
}).mousedown(function() {
    $(this).css(
       cssArray[2]
    );
}).mouseup(function() {
    $(this).css(
       cssArray[3]
    );
});​ 
```

## [看演示](http://jsfiddle.net/akhurshid/gZGQh/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:53:00.270

您可以在您的 css 上声明多个类并添加或删除它们

```
 $(element).hover(function() {
    $(this).addClass("classHandlerIn");
 }, function() {
    $(this).removeClass("classHandlerIn").addClass("classHandlerOut")
 }).mousedown(function() {
    $(this).addClass("classMouseDown");
 }).mouseup(function() {
    $(this).removeClass("classMouseDown");
 }); 
```

希望这有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T07:09:40.143

你可以为此做一件事。为悬停和取消悬停声明类，例如：

```
.hover {padding: 5px;}
.unhover {padding: 0px;} 
```

然后你可以使用`.addClass('hover').removeClass('unhover')`和之流。顺便说一句，这仅在您具有绝对属性时才有效。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:25:39.137

首先没有`$(element)`选择器。

您可以创建类并为它们提供 css 属性，并与 jQuery`addClass()`和`removeClass()`方法一起使用以删除特定事件。

请注意，[`bind()`](http://api.jquery.com/bind/)方法比`hover()`. [这是工作的jsFiddle：](http://jsfiddle.net/dmYth/15/)

```
$('#element').bind({
    mouseenter :function() {
        $(this).css({
            'background-color': 'red',
            'color': 'white'
        });
    },
    mouseleave: function() {
       $(this).css({
        'background-color': 'white',
        'color': 'black'
       });
    },
    mousedown: function() {
        $(this).css({
            paddingTop : '+=10px'
        });
    },
    mouseup: function() {
        $(this).css({
            paddingTop : '-=10px'
        });
    }
});​ 
```

并且不要忘记使用**CSS 伪类**，如`:hover`和`:active`选择器。[这里是所有这些的链接。](http://www.w3schools.com/css/css_pseudo_classes.asp)

# css - 顶部导航列表项边距错误

> ID：12172535
> 
> 赞同：0
> 
> 时间：2012-08-29T07:07:54.153
> 
> 标签：css

我正在制作一个网站的顶部导航。菜单存在边距错误。

我已经`margin / padding : 0`为列表项以及`display: inline-block`.

查看演示：[http ://tinkerbin.com/495Qb956](http://tinkerbin.com/495Qb956)

基本上我想从列表项中删除左/右边距，并知道为什么会有这个边距。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:11:02.623

默认情况下**display:inline-block**从左边获取边距。像这样写：

```
.top-right ul {
    background:black;
    height:43px;
    font-size:0;
}
.top-right ul li {
    display:inline-block;
    border:1px solid red;
        margin:0;
        padding:0;
        font-size:13px;
} 
```

检查这个[http://tinkerbin.com/YWeV7osy](http://tinkerbin.com/YWeV7osy)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:15:13.993

你看到的那个房间是街区之间的空间。如果删除 和 之间的所有空格`</li>`，`<li>`您会看到空格消失。基本上，内联块的行为就像句子中的一个单词，并且其中两个块之间的任何空白都将折叠成 1 个空格字符。

一种解决方案是使用浮动使块粘在一起：

```
li { float: left; } 
```

您可能需要`clear`这些浮动元素之后的元素。

# php - 使用javascript后提交按钮不起作用

> ID：12172536
> 
> 赞同：-1
> 
> 时间：2012-08-29T07:07:54.370
> 
> 标签：php, javascript

我创建了一个登录页面，其中包含一个登录表单，该表单将用户名和密码提交给 loginproc.php，以检查它们的有效性并且一切正常。无论如何，在登录页面上，我编写了一个 JavaScript 函数，在用户名和密码字段为空的情况下提醒用户。完成后，JavaScript 工作正常，但是当我单击提交按钮时，绝对没有任何反应！

----------------------------------------这是JavaScript------ ----------------

```
<script type='text/javascript'>

function formValidator(){
    // Make quick references to our fields
    var username = document.getElementById('username');
    var password = document.getElementById('password');

    // Check each input in the order that it appears in the form!
    if(notEmpty(username, "The username field is empty!")){
        if(notEmpty(password, "The password is empty!")){

        }
    }

    return false;

}

function notEmpty(elem, helperMsg){
    if(elem.value.length == 0){
        alert(helperMsg);
        elem.focus(); // set the focus to this input
        return false;
    }
    return true;
}
</script> 
```

----------------------------------------这是表格------ ----------------

```
<form method="post" action="loginproc.php" onsubmit="return formValidator()" >

<tr><td colspan="3"><img src="icons/login.jpg" alt="Edugate" width="366" height="123"></td></tr>
<tr><td colspan="3" nowrap bgcolor="#990033" class="infoTitle"><div align="center"></div></td></tr>
<tr><td colspan="3" nowrap class="infoTitle"><div align="left">user login </div></td></tr>
<tr><td colspan="3" nowrap bgcolor="#990033" class="infoTitle"><div align="center"></div></td></tr>
<tr><td width="58">Username</td>
<td width="4">:</td>
<td width="297"><input type="text" id="username" name="username" size="20"></td></tr>
<tr><td>Password</td><td>:</td><td><input type="password" id="password" name="password" size="20"></td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td><input type="submit" class="BtnInTable" value="Login"></td></tr>
<?php if ($error == 1)
print "<tr><td colspan='3' class='ppos'><img src='icons/error.png' alt='error'> Icorrect usename or password...</td></tr>";?>
<tr><td colspan="3" nowrap bgcolor="#990033" class="infoTitle"><div align="center"></div></td></tr>
</form> 
```

* * *

拜托，谁能指导我。提前感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:10:02.633

你忘了`return true;`，否则它会去的`return false;`。

```
 // Check each input in the order that it appears in the form!
    if(notEmpty(username, "The username field is empty!")){
        if(notEmpty(password, "The password is empty!")){
                return true;
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:12:35.487

继承人的问题.. 这个函数只返回 FALSE。没有返回 true 声明.. 对于要提交的表单，“onsubmit”应该返回 true :)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T07:10:10.003

你formValidator()总是返回false，如果onsubmit返回false，就不会提交。如果一切都有效，请务必返回 true。

# jquery - jquery点击循环

> ID：12172537
> 
> 赞同：1
> 
> 时间：2012-08-29T07:07:57.187
> 
> 标签：jquery, loops, click

我试图制作一些延迟的简单点击循环，你能告诉我我哪里错了吗？这是我的代码：

```
 function loop(time) {
        $('.navNextSlide').delay(time).click(function() {
            loop(time);
        });
    }
    loop(1000); 
```

谢谢，米

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:26:06.470

这样的事情怎么样？它更实用：

```
var loopTime = 1000;

var interval = setInterval(loop,loopTime);

function loop() {
    $('.navNextSlide').trigger('click');
}

$('.navNextSlide').click(function() {       
   //what you want to happen when click occurs
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:11:40.523

你可以只使用`window.setInterval()`.

```
setInterval(function() {
  $('.navNextSlide').click();
}, 1000); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:12:46.623

尝试这个

```
function loop(time) {
        $('.navNextSlide').delay(time).click(function() {
            setTimeout("loop()",time);
        });
    }
    loop(1000); 
```

# javascript - 提交时使用同步确认灯箱提交表单

> ID：12172553
> 
> 赞同：1
> 
> 时间：2012-08-29T07:09:16.733
> 
> 标签：javascript, jquery, html, forms

**问题**我们需要在灯箱上提供功能以取消表单提交或提供额外信息以继续提交表单。

**详细要求**我有一个 HTML 表单。在提交表单之前，我们需要显示一个灯箱，向用户询问一些额外的信息。简而言之，我需要 Javascript 函数中的同步行为。我知道这不是预期的 JS 行为，但我也确信这是可能的，并且一定有人通过某种方式实现了它。我们怎么能这样做。

代码如下所示，希望能更好地解决问题。

```
//This is called when submit button is clicked.
$('.mbutton').bind('click', function(e){
    var subButton = e.target || e.srcElement || e.originalTarget;
    var value = subButton.id;

    //If submit button pressed.
    if (value == "Publish"){
        //custom JQuery plugin to open light box.
        $.siddlb('#puboptions',{});
        //Lightbox opens but soon form too submits and new page gets loaded. Requirements are, function must wait here until light box is closed.
    }

    //Below task should execute only if user provide required information in lightbox.
    finalize();
    try{
        if (value == "Publish"){
            var canvas = document.getElementById("imageView");
            var context = canvas.getContext("2d");
            var img     = canvas.toDataURL("image/png");
            document.getElementById("textimage").value = img;            
        }
        //$("#myaction").val(subButton.id);
        $("#myaction").val('Publish');
    }catch(e){
        $("#myaction").val("Cancel");                   
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T08:14:14.137

我猜你的发布按钮（顾名思义）是表单的提交按钮。

可能有不同的方法，但如果我是你，我会将发布按钮设置为简单的按钮

```
<button class="mbutton" id="publish">Publish</button> 
```

点击它，在灯箱中做任何你想做的事情。只需在灯箱中放置另一个按钮，例如“继续”，然后单击它，通过 javascript 提交表单。

这是非常简单直接的解决方案，可能您正在寻找其他解决方案。如果您找到其他解决方案，请告诉我。

# ios5 - iOS5 中的 3G 和 Wifi 有什么区别？

> ID：12172556
> 
> 赞同：0
> 
> 时间：2012-08-29T07:09:26.650
> 
> 标签：ios5, twitter, reachability

这里有一些问题，在我的应用程序中，我使用 Twitter API 来显示不同用户的时间线。奇怪的是，如果我的连接是 WIFI，它做得很好，但是当我切换到 3G 时，我的应用程序崩溃了......有人可以解释一下这种奇怪体验背后的原因是什么？太谢谢了 ...

崩溃日志是

```
2012-08-29 16:17:23.847 PFAv1[4044:707] array of tweets count 2 
2012-08-29 16:17:23.850 PFAv1[4044:707] -[__NSCFDictionary objectAtIndex:]: unrecognized selector sent to instance 0x21b7e0 
2012-08-29 16:17:23.854 PFAv1[4044:707] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFDictionary objectAtIndex:]: unrecognized selector sent to instance 0x21b7e0' 
```

# iphone - 创建一个视图控制器模板，以便我可以在我的 iphone 应用程序中使用它

> ID：12172561
> 
> 赞同：1
> 
> 时间：2012-08-29T07:09:40.640
> 
> 标签：iphone, xcode, uiview

我想创建一个包含以下内容的模板视图控制器：

1.  贯穿整个应用程序的导航栏
2.  在整个应用程序中使用的标题
3.  标准背景（视图控制器的背景应该在整个应用程序中相同）
4.  在整个应用程序中使用的页脚

底线是我需要一个自定义视图控制器类，它有一个导航栏、一个页眉、一个页脚和一个背景。然后，我将在界面生成器中将所有视图类替换为此类。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T08:25:51.260

好吧，是的，您将创建一个自定义视图控制器作为 UIViewController 的子类。你可能想对 UITableViewController 做同样的事情。假设您将它们命名为 myViewController 和 myTableViewController。

然后，您的界面构建器视图将分别引用此类或其子类。

**BackgroundColor：** 但是，视图控制器没有自己的背景颜色。他们的视图确实有背景颜色，并且视图控制器可以将其视图的背景颜色设置为某个常数值。确保视图层次结构中背景颜色应与一般背景相同的所有视图本身没有背景颜色。（或分别为清晰的颜色`[UIColor clearColor]`：）

然后，您可以像这样在视图控制器中设置颜色：

```
self.view.backgroundColor = [UIColor colorWithRed:0.5 green:0.5 blue:0.5]; 
```

请记住，有更聪明的编码方式，而不是在代码中的许多地方硬编码值。

**NavigationBar：** 导航栏是导航控制器的一个属性。通常应用程序中只有一个导航控制器（除非它是基于标签栏的应用程序，否则可能会有更多）。因此，没有必要为了一个通用的自定义导航栏而对所有视图控制器进行子类化。

**页眉和页脚：** 坦率地说，我不确定你的意思。您可以参考表格视图的页眉和页脚。如果是这样，那么正如已经提到的，应用程序范围的超类“myTableViewController”可能是您的选择，它在应用程序中提供通用的页眉和页脚。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:48:37.267

导航`UINavigationController`栏是您的 viewController 将被添加到的一部分，因此这将自动成为它们的标准。

至于创建自定义视图控制器，您本质上是在问“我如何进行继承”，这超出了单个答案的范围。如果您进行谷歌搜索，那里有很多很好的教程。

# java - 使用泛型时，List 如何在内部检查方法调用的类型？

> ID：12172564
> 
> 赞同：2
> 
> 时间：2012-08-29T07:10:00.800
> 
> 标签：java, generics

鉴于此`List<Employee>`：

```
List <Employee> empList=new ArrayList<Employee>(); 
```

当我尝试添加一个`Student`：

```
l.add(0,new Student(1,2,3)); 
```

列表如何解决这个问题并给我编译错误？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T07:22:32.837

实际上，它并不是专门进行`List`检查的，而是编译器（正如您所暗示的那样）。

简单地提供了`List`两条信息：

*   有一个`E`类型`List`被参数化：

    ```
    public interface List<E> extends Collection<E> 
    ```

*   该方法`add`接受一个类型的对象`E`：

    ```
    boolean add(E e); 
    ```

如果您构建 a`List<Employee>`然后*编译器*知道您不能调用`add`任何东西*，* 并且`Employee`如果您尝试这样做，则会给出编译器错误。

还应该注意的是*，运行时*没有这样的检查！因此，如果您设法“偷偷摸摸”通过编译器进行的检查（例如使用[原始类型](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it)），那么您可以对您做各种错误的事情，`List`并且运行时不会检测到问题（直到您尝试以非通用方式访问“错误”类型）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:13:38.953

```
List<Employee> empList = new ArrayList<Employee>() 
```

在上述情况下，由于您已指定 empList 仅包含`Employee`.

当您尝试添加任何其他实例类型时，编译器有责任抱怨它不是一个`Employee`或派生自它。这是因为，您已经为编译器提供了足够的信息，以便它在编译期间决定允许将哪些类型的实例添加到此列表中。因此，编译器知道该`add()`方法总是期望/或派生自`Employee`and not的实例`Student`。因此，您的情况出现错误。

使用泛型的另一个有趣结果是当您尝试`get()`从该列表中获取一个元素时。当时的编译器也知道你试图从列表中获取的元素需要是`Employee`类的。因此，如果您执行非法转换（例如*将返回的对象转换`get()`为 a`Student`*），编译器会再次抱怨。

以下文章可能有助于理解这个概念：

*   [`Generics`](http://docs.oracle.com/javase/1.5.0/docs/guide/language/generics.html)
*   [Java 编程语言中的泛型](http://java.sun.com/j2se/1.5/pdf/generics-tutorial.pdf)（*这有点旧但值得一读*）

# android - OrmLite Select inside select 使用 SelectArg 转义字符

> ID：12172568
> 
> 赞同：2
> 
> 时间：2012-08-29T07:10:12.587
> 
> 标签：android, ormlite

我正在使用 QueryBuilder 构建内部 SQL，稍后在原始 SQL 中使用该内部 SQL，以避免手动转义无效字符。

```
SelectArg friendsIN = new SelectArg(friendsUsernames);
QueryBuilder<MyObject, Integer> qb = myObjectDao.queryBuilder();
qb.selectRaw("username", "MAX(time) AS latestTime").groupBy("username").where()
    .in("username", friendsIN);
String innerSelect = pq.getStatement(); 
```

`friendsUsernames`定义为`ArrayList<String>`。

然后我使用`innerSelect`来构建外部选择：

```
String select = "SELECT w.id FROM (" + innerSelect +") AS x INNER JOIN myObject AS w on w.username = x.username AND w.time = x.latestTime";
GenericRawResults<String[]> results = myObjectDao.queryRaw(select); 
```

但是，正如预期的那样，`innerString`当`'?'`我打电话时`queryRaw`，`myObjectDao`我没有得到任何结果。我试图将friendsUsername 作为数组提供给queryRaw：

```
GenericRawResults<String[]> results =
    myObjectrDao.queryRaw(select,
         friendsUsernames.toArray(new String[friendsUsernames.size()])); 
```

但我收到以下错误：

```
android.database.sqlite.SQLiteBindOrColumnIndexOutOfRangeException:
      bind or column index out of range: handle 0x17a22e8 
```

有关如何使用 OrmLite 完成此类查询的任何建议？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T12:38:30.707

是的，那是行不通的。您的查询中只有一个`?`，但您正在尝试传入一组用户名。`?`SQL 参数的数量和传递给方法的参数数量之间必须存在一一对应的关系`queryRaw(...)`。

如果`friendsUsernames`是固定大小，那么您应该能够执行以下操作，这将生成类似于以下内容的 SQL `"in (?, ?, ?, ?)"`：

```
List<SelectArg> friendsInList = new ArrayList<SelectArg>();
for (int i = 0; i < NUM_FRIENDS; i++) {
   // it doesn't matter what the value is since you just want the ?
   fieldsInList.add(new SelectArg());
}
...in("name", friendsInList); 
```

但是，如果名称列表是动态的，那么您将不得不即时执行此操作，因为再次，数量`?`必须与传递给`queryRaw(...)`方法的参数数量完全匹配。

# java - 如何在java中动态地将字符串列表拆分为多个列表

> ID：12172570
> 
> 赞同：3
> 
> 时间：2012-08-29T07:10:18.377
> 
> 标签：java

我想使用java程序根据输入值动态地将字符串列表拆分为多个列表。

例如。如果我有以下字符串列表

```
 List<String> messages = Arrays.asList("Hello", "World!", "How", "Are", "You"); 
```

如果我输入 2 作为输入值，我必须将字符串列表拆分为多个列表，其中每个拆分列表应包含 2 个值。

注意：列表应包含多少值取决于输入值

```
 outputshould be: 
       list1 contains-> Hello,world
       list2 contains -> How,Are
       list3 contains -> you 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:12:30.377

Guava 库有[Lists#partition](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Lists.html#partition%28java.util.List,%20int%29)。

> 返回列表的连续子列表，每个子列表大小相同（最终列表可能更小）。例如，将包含 [a, b, c, d, e] 的列表分区大小为 3 会产生 [[a, b, c], [d, e]] - 一个包含两个内部列表的外部列表三和二元素，都按照原来的顺序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T08:10:25.380

正如另一个答案所暗示的那样， List.subList() 是最简单的方法。我会使用 Math.min 来覆盖最后一个分区情况。

```
int partitionSize = 2;
List<List<String>> partitions = new LinkedList<List<String>>();
for (int i = 0; i < messages.size(); i += partitionSize) {
    partitions.add(messages.subList(i,
            i + Math.min(partitionSize, messages.size() - i)));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T08:30:22.333

正如我们所知，list 每隔一个元素就会被切割，你可以这样做。

```
public class Testing {

List<String> messages = Arrays.asList("Hello", "World!", "How", "Are",
        "You");
List<List<String>> lists = new ArrayList<List<String>>();

public Testing() {
    for (int i = 0; i < messages.size(); i++) {
        lists.add(getPartOfList(i));
        i++;
    }
}

private List<String> getPartOfList(int index){
    List<String> tmp = new ArrayList<String>();
    int counter = 0;

    while(counter != 2){
        if(messages.size() > index)
            tmp.add(messages.get(index));
        index++;
        counter++;
    }

    System.out.println(tmp);
    return tmp;
}

public static void main(String[] args) {
    new Testing();
}
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:36:22.627

您可以使用 `list.subList(from, to)`计算`from`和`to`使用传递的值。

# c# - 使用 K-MVC 重定向

> ID：12172571
> 
> 赞同：3
> 
> 时间：2012-08-29T07:10:26.083
> 
> 标签：c#, asp.net-mvc-3, knockout-mvc

有一个问题。为了在我的项目中添加新的空缺，我使用 K-MVC

```
public ActionResult AddVacancy()
{
    var viewModel=new VacancyViewModel();
    viewModel.AllTechnologies = (from t in _serviceClient.GetTechnologies() select t.Name).ToList();
    return View(viewModel);
}

[HttpPost]
public ActionResult AddVacancy(VacancyViewModel viewModel)
{
     _serviceClient.AddVacancy(viewModel);
     return Json(viewModel);
} 
```

//------------------------------------------------ --------------------------------------

```
@using PerpetuumSoft.Knockout
@model Core.ViewDataModel.VacancyViewModel
@{
    var ko = Html.CreateKnockoutContext();
    ViewBag.Title = "New vacancy";
}
...............................
@using (ko.Html.Form("AddVacancy", "Vacancy", ko.Model))
{
...............................................        
<p>
            <input class="submitButton" type="submit" value="Create" />
        </p>
}
<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@ko.Apply(Model) 
```

一切正常！感谢 K-MVC！但是，如果我想在成功提交后重定向到另一个操作：

```
[HttpPost]
        public ActionResult AddVacancy(VacancyViewModel viewModel)
        {
             _serviceClient.AddVacancy(viewModel);
             return RedirectToAction("Index"); 
        } 
```

我会收到错误，因为以前的表单没有收到 Ajax.success。我该如何处理这个问题？提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:35:42.990

我仍然没有找到解决方案，但无需重定向即可使界面为用户提供更多信息

```
 @using (ko.If(m => m.SavedSuccessfully))
{
    @ko.Html.Span("NEW VACANCY SAVED TO DATABASE.")
}

@using (ko.If(m => m.SavedSuccessfully == false))
{
     using (ko.Html.Form("AddVacancy", "Vacancy", ko.Model))
     {
         <p>@Html.Label("Name: ")            @ko.Html.TextBox(m => m.Name).ValueUpdate(KnockoutValueUpdateKind.AfterKeyDown) </p>
         <p>@Html.Label("Active : ")         @ko.Html.CheckBox(m => m.IsOpen).ValueUpdate(KnockoutValueUpdateKind.Change) </p>
         <p>@Html.Label("English: ")         @ko.Html.DropDownList(m => m.AllLanguageLevels).Value(m => m.EnglishLevel) </p>
         <p>@Html.Label("German: ")          @ko.Html.DropDownList(m => m.AllLanguageLevels).Value(m => m.GermanLevel) </p>
         <p>@Html.Label("Technologies: ")    @ko.Html.ListBox(m => m.AllTechnologies).SelectedOptions(m => m.NeededTechnology) </p>
         <p>
             <input class="submitButton" type="submit" value="Submit" />
         </p>
     }
} 
```

和控制器：

```
 [HttpPost]
    public ActionResult AddVacancy(VacancyViewModel viewModel)
    {
        if(ModelState.IsValid)
        {
            _serviceClient.AddVacancy(viewModel);
            viewModel.SavedSuccessfully = true;
        }
        return Json(viewModel);
    } 
```

现在，如果成功保存空缺 - 表格隐藏和信息“新空缺已保存到数据库”。出现。

# java - GAE/J 此应用程序不存在 (app_id=u'application-id')

> ID：12172576
> 
> 赞同：1
> 
> 时间：2012-08-29T07:10:49.813
> 
> 标签：java, google-app-engine, gwt, maven-gae-plugin

我使用 maven-gae-plugin 来部署我的应用程序，它可以在我决定将其部署到不同 Google 帐户下的另一个应用程序 ID 之前找到。我遇到了“此应用程序不存在”的问题。

我发现 StackOverflow 中已经有一些答案，但是对于 python，我使用的是 GAE/J。我想我知道根本原因，我们应该删除本地的“缓存”，它存储了我以前的用户名/密码，但是这些缓存是什么？他们在哪里？

或者还有其他方法可以避免这种情况，我尝试了很多方法，但都没有奏效，太令人沮丧了。

提前致谢。我在 Window7，GAE1.6.3

编辑：python版本的答案在这里： [这个应用程序不存在（app_id=xxx）](https://stackoverflow.com/questions/7039200/this-application-does-not-exist-app-id-xxx)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-15T11:25:16.643

我正在使用 Maven 插件运行应用程序引擎。在 Windows 上，您需要删除用户主目录中的文件。文件名类似于**.appcfg_oauth2_tokens_java**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T15:15:38.050

您可以使用该工具的新选项`--no_cookies`（[在此处](https://devsite.googleplex.com/appengine/docs/java/tools/uploadinganapp#Command_Line_Arguments)记录）`appcfg.sh`来防止加载 cookie。或者您可以删除至少在 Linux 中存储在`~/.java/.userPrefs/com/google/appengine/tools/admin/prefs.xml`.

我没有使用 maven-gae-plugin 的经验，但您似乎需要修改`EngineGoalBase.java`文件以允许使用新参数。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-29T20:25:21.343

你用的是什么IDE？如果是 Eclipse，您需要确保在尝试部署之前已在 Eclipse 中登录您的 Google 帐户，否则您将收到该错误。

或者，如果您通过公司/组织获得 Google 帐户，请确保 GAE 帐户管理员和网络管理员授权您的新 Google 帐户进行部署。例如，我的学校 gmail 帐户不允许我成为 GAE 的管理员。

# android - 构造函数 ArrayAdapter 未定义

> ID：12172578
> 
> 赞同：7
> 
> 时间：2012-08-29T07:10:56.857
> 
> 标签：android, undefined, android-arrayadapter

我有一个方法，`initializeViews`它在最后一行遇到**`ArrayAdapter constructor undefined`错误**。

该方法位于`F1Fragment`，其中扩展`MainFragment`。`MainFragment`然后附加到一个`Activity`.

我们不能`Fragment`在`ArrayAdapter<string>`构造函数中给出 a 的上下文吗？我是安卓新手。请纠正我。提前致谢。

```
private void initializeViews(RelativeLayout contentLayout) {
    leaguesListView = ( ListView ) contentLayout.findViewById ( R.id.leaguesListView );
    progressLinear  =   (LinearLayout) contentLayout.findViewById ( R.id.progressLeagues );
    values= new String[] { "RedBullRacing", "McLaren", "Lotus",
      "ForceIndia", "HRT", "Ferrari" };
    adapter= new ArrayAdapter<String>(F1Fragment.this, android.R.layout.simple_list_item_1, android.R.id.text1, values);
} 
```

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-08-29T07:20:50.437

更改`F1Fragment.this`为`getActivity()`。`Fragment`不是`Context`. _

# javascript - 访问函数内的函数名

> ID：12172580
> 
> 赞同：0
> 
> 时间：2012-08-29T07:11:01.200
> 
> 标签：javascript, jquery

我不明白如何在同一个函数中任何需要的地方访问我的函数 thumbs()。

这是一个演示链接：

[http://jsfiddle.net/L7yKp/60/](http://jsfiddle.net/L7yKp/60/)

函数 thumbs()，这应该能够在同一个函数中任何需要的地方调用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:14:10.750

这是你要找的吗？

```
$('#tprev').click(function(e){
  thumbs(0,1);
}); 
```

我不确定你想要什么。我有点假设你复制粘贴了一些 JS 并试图执行代码。

这样做非常简单，就是在事件单击 id 为 #tprev 的元素时使用这些参数调用此函数。我把 0 和 1 作为纯粹的猜测。可能是你想要的。

# hibernate - 从 html 中获取选定的值：select

> ID：12172581
> 
> 赞同：0
> 
> 时间：2012-08-29T07:11:01.467
> 
> 标签：hibernate, struts

从 select 属性中获取的值为 null。

jsp的代码是..

```
<nested:select property="role.roleSID">
                    <logic:iterate name="roleList" id="roleListId">
                        <html:option
                            value="<bean:write name='roleListId'  property='roleSID'/>">
                            <bean:write name='roleListId'  property='roleName' />
                        </html:option>
                    </logic:iterate>
                </nested:select> 
```

Action 类的代码是..

```
Long roleSID = userForm.getRole().getRoleSID(); 
```

列表框已正确填充预期值。但是在获取所选值时，会返回 null。

你能告诉我哪里出错了吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T05:11:43.993

我尝试了另一种给我预期结果的方法。

jsp内容是..

```
<html:select property="roleSID">
<html:options collection="roleList" property="roleSID"
                        labelProperty="roleName" />
</html:select> 
```

动作内容是..

```
Long roleSID = userForm.getRoleSID(); 
```

UserForm 是一个表单bean，它包含具有getter 和setter 的roleSID 属性。roleList 包含 Role 对象的集合，这些对象又包含 roleName、roleSId 属性。UserForm 还包含嵌套的 Role bean。

# search - 从 Blackberry 中的 KeywordFilterField 中删除默认 ListField

> ID：12172583
> 
> 赞同：1
> 
> 时间：2012-08-29T07:11:18.997
> 
> 标签：search, blackberry, custom-lists, blackberry-editfield

我是 Black berry 开发的初学者，因为如何自定义搜索结果而不是在我的文本框中使用。

我想在我的黑莓应用程序中实现动态搜索功能，用户在文本字段中输入一个字符，匹配的内容将显示在列表下方。

现在在这里我已经实现了，但我想要的只是应该显示文本字段，而不是 KeywordFilterField 附带的内置列表字段。

当文本更改时，自定义列表会自动填充，因为我在 Fieldchanged() 事件中进行了编码，但内置列表也显示了我不想要的。![在此处输入图像描述]！[在此处输入图像描述](../Images/c09bdb06dadcb0604c1704512431dba8.png)

正如您在图像中看到的那样，我想要文本字段，我不想要默认列表字段，我想要自定义列表字段（它可以正常工作，没有问题）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T08:55:20.863

得到了解决方案或我们可以说的技巧。

首先，我们必须将 KeywordFilterField 实现到应用程序注释中，我们不能将它添加到我们的屏幕中，我们将使用 KeywordFilterfield 的功能。

现在我们需要在 fieldChanged() 事件中将 TextField 添加到屏幕中，只需为 KeywordFilterField 设置关键字。如下。

```
 public void fieldChanged(Field field, int context) {
        // TODO Auto-generated method stub

        SearchTextBox temp=(SearchTextBox)field;
        _keywordFilterField.setKeyword(temp.getText());
    } 
```

现在，一旦我们设置了关键字，就会触发 KeywordFilterField 的更改侦听器，因此我们可以编写代码来显示自定义列表字段，如下所示

_keywordFilterField.setChangeListener(new FieldChangeListener() {

```
 public void fieldChanged(Field field, int context) {

        KeywordFilterField k=(KeywordFilterField)field;

        //Use k.getResultList(); method to fetch the resulting elements.

        //Write the code here for custom list to display.   
        } 
```

});

# video-streaming - 网站上的视频聊天

> ID：12172584
> 
> 赞同：1
> 
> 时间：2012-08-29T07:11:22.357
> 
> 标签：video-streaming, html5-video, videochat

我正在考虑创建一个启用视频聊天的网站。这是一个朋友提出的一个有趣的项目。需要明确的是，我并不是要协调与 Google、Facebook 或 Skype 的视频聊天。我希望它完全通过我自己的服务器运行。

我开始四处搜索信息，但没有找到单一来源（我在这里找到了一些），但特别是一个来源我有一个问题：

远流。[http://www.freedesktop.org/wiki/Software/Farstream](http://www.freedesktop.org/wiki/Software/Farstream)

Farstream 声称是视频聊天实现领域的统一框架（除其他外）。

我想知道是否有人有在他们的服务器上实现这个框架的经验，最好是 Linux 服务器。他们如何让它与他们的网站等一起工作？

或者，如果您知道 Farstream 不是正确的答案，那么有哪些软件在您自己的服务器上运行视频聊天方面最为出色？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-08T11:49:24.903

如今，视频可以通过使用[webRTC](http://www.webrtc.org/)来完成。不需要插件。

Google I/O 的幻灯片可在[此处](http://io13webrtc.appspot.com/#2)找到。它包含一些我认为很酷的例子。

# titanium - Titanium - 无法在 Android 中实现单选按钮行为，在 iphone 中工作

> ID：12172585
> 
> 赞同：0
> 
> 时间：2012-08-29T07:11:28.880
> 
> 标签：titanium

基本上我正在尝试在 Titanium 中实现单选按钮功能，这在 iphone 中按预期工作，但在 android 中它允许我选择多个单选按钮。

这是我的代码

```
var lastRadioBtn = null;
tableViewAns.addEventListener('click', function(e) {

if(e.source.id === undefined) {
Ti.API.info("---IN IF---");
} else {
    Ti.API.info("---IN ELSE---");
    if(lastRadioBtn != null){
        Ti.API.info("---NOT NULL---");
        lastRadioBtn.image = '/images/Radio_Button_Not_Selected.png';
    }
    lastRadioBtn = e.source;
    lastRadioBtn.image = '/images/Radio_Button_Selected.png';

}

}); 
```

在这里，我创建了自定义行（1 个图像，文本），其中图像将被选中单选按钮（在表单击时）和未选中的单选按钮，当单击任何其他行时。

一切似乎都运行良好，即使在 android 中，如果取消选择图像的条件，我也可以控制内部但不知道它不起作用。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T05:37:55.090

我尝试了很多来找到它的解决方案但无法解决它，我尝试了所有可能应用的属性（使用 e.row、e.rowData、e.row.children[i]）每个案例都可以在 iPhone 上正常工作但失败了一直在安卓。我调试，条件与 android 完美配合，但不知道为什么不更改图像。

解决方案：- 我制作了一组图像。现在在表格中单击我管理此数组并使用此数组而不是表格行，并且此解决方案适用于 Android 和 Iphone。（从数组访问元素而不是获取表格行然后访问图像。）。我希望这对每个人都有帮助，并且这个错误（我在想什么）将得到解决。

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T11:28:47.777

尝试这个，

```
var lastRadioBtn = false;

tableViewAns.addEventListener('click', function(e) {

if(e.source.id === undefined) {
  Ti.API.info("---IN IF---");
 }
else {
 Ti.API.info("---IN ELSE---");
 if(lastRadioBtn == false){
     Ti.API.info("---NOT NULL---");
     lastRadioBtn.image = '../images/Radio_Button_Not_Selected.png';
    }
 lastRadioBtn = e.source;
 lastRadioBtn.image = '../images/Radio_Button_Selected.png';
 }

}); 
```

可能这对你有帮助......干杯......

# java - 将 Primefaces 从 3.2 更新到 3.4 会引发 java.lang.NoSuchFieldError: SKIP_ITERATION

> ID：12172590
> 
> 赞同：5
> 
> 时间：2012-08-29T07:11:45.227
> 
> 标签：java, jsf, jakarta-ee, jsf-2, primefaces

我已经用 primefaces-3.4 RC1 替换了 primefaces-3.2。之后，如果我打开任何页面，`java.lang.NoSuchFieldError: SKIP_ITERATION`就会引发异常。可能是什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:41:24.640

这也是与 myfaces 和某些版本的 mojarra 的兼容性问题

两周前我在 primefaces 论坛上报告了[尝试用 3.4.RC1 替换 3.2 失败](http://forum.primefaces.org/viewtopic.php?f=3&t=24145)

它已经修复，因此您可以从存储库[3.4-SNAPSHOT中获取 3.4 的最新快照版本](http://repository.primefaces.org/org/primefaces/primefaces/3.4-SNAPSHOT/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T11:20:40.133

> java.lang.NoSuchFieldError: SKIP_ITERATION

因此，您的 JSF 运行时环境中没有这样的字段。已[`VisitHint#SKIP_ITERATION`](http://docs.oracle.com/javaee/6/api/javax/faces/component/visit/VisitHint.html#SKIP_ITERATION)在 JSF 2.1 中引入。另请参阅[javadoc](http://docs.oracle.com/javaee/6/api/javax/faces/component/visit/VisitHint.html#SKIP_ITERATION)：

> ## `SKIP_ITERATION`
> 
> `public static final` [`VisitHint`](http://docs.oracle.com/javaee/6/api/javax/faces/component/visit/VisitHint.html) `SKIP_ITERATION`
> 
> 提示通常`UIData`以迭代方式多次访问子项（例如）的组件应该只访问每个子项一次。
> 
> **自**：
> 
>     2.1

这`NoSuchFieldError`表明您实际上使用的是 JSF 2.0 而不是 JSF 2.1。虽然 PrimeFaces 依赖 JSF 2.1 特定的增强功能确实是他们自己的错，而他们将自己指定为与 JSF 2.0 兼容（因此将其作为错误报告给他们；这显然已经由 Daniel 完成），但理论上你也可以解决通过将 JSF 2.0 升级到 JSF 2.1 来实现。Mojarra 和 MyFaces 2.1.x 版本是 JSF 2.1 实现。

# html - 机器人元标记是强制 性的还是我可以像 content="" 一样保留它？

> ID：12172591
> 
> 赞同：1
> 
> 时间：2012-08-29T07:11:49.360
> 
> 标签：html, meta-tags

我在不想索引、关注等的页面上使用这样的标签：

```
<meta name="robots" content="noindex, nofollow, noarchive, nosnippet" /> 
```

我的根目录中还有一个 robots.txt 文件，内容如下：

```
User-agent: *
Disallow: /admin/
Disallow: /account/ 
```

我的问题是我是否将此代码用作我的机器人元标记：

```
<meta name="robots" content="" /> 
```

我的意思是内容变量内部没有任何内容。从 SEO 的角度来看，html5 是否有效且可以？如果不是，我应该在引号内加上什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:31:44.957

让我们看看[HTML5 规范](http://www.w3.org/TR/2011/WD-html5-20110525/semantics.html#the-meta-element)

如果指定了*name*或*http-equiv*，则还必须指定*content属性。*否则，必须省略。

如果*元*元素具有*名称*属性，它会设置文档元数据。文档元数据以名称/值对的形式表示，*meta元素上的**name*属性给出名称，而同一元素上的 content 属性给出值。

 *名称*robots*不是标准元数据名称之一（参见[4.5.2.1](http://www.w3.org/TR/2011/WD-html5-20110525/semantics.html#standard-metadata-names)），这意味着它们的值没有限制，可以为空。*

# python - Python 解释器如何检测到它是使用 ZIP 存档而不是源文件调用的？

> ID：12172593
> 
> 赞同：2
> 
> 时间：2012-08-29T07:12:00.343
> 
> 标签：python, zip, software-distribution

我刚刚发现 (A) 一个 ZIP 文件可以直接作为 Python 二进制文件的`script`参数（通常`.py`会传递一个文件）传递，并且 (B) ZIP 文件可以有任何后缀，甚至`.py`可以被识别为 ZIP文件（至少在 Mac OS X 上的命令行和 Windows 上的命令行和 GUI，它似乎工作）。实现这一点的整个故事都记录在[这个问题](http://bugs.python.org/issue1739468)中。

这似乎对 Python 应用程序的分发非常有吸引力，因为安装程序不受欢迎，并且它具有与`.jar`我们的用户习惯的存档相同的使用特性（无需安装，可以通过电子邮件发送而无需进一步存档）。命名 ZIP 存档`.py`（或`.pyw`）无需在客户端机器上进行任何配置即可启用此行为，除了安装 Python。

我的问题是我只能找到我发现的 (A) 部分的文档，但不能找到 (B) 部分的文档。所以我的第一个问题是 Python 如何检测作为`script`参数传递的文件是 ZIP 存档而不是 Python 源文件？是否存在任何可能会随机中断的启发式方法，例如当 ZIP 存档包含一些特殊内容时（例如，看起来像 Python 代码的未压缩文件）？

第二个问题是当应用程序携带大量非代码数据文件（数十 MB）时，这种方法是否存在任何缺点，除了对这些文件的访问不透明这一事实。如果 ZIP 文件很大和/或包含很多文件，我正在考虑 ZIP 文件检测需要更长的时间。

**更新**

遗憾的是，到目前为止所有的答案（Joachim Sauer 的、Keith Randall 的和 Curious 的）都是错误的。Zip 规范不要求 ZIP 文件必须以特定的标头开头。Zip 文件可以在其前面添加任何数据，并且仍然是有效的 Zip 文件（这是自解压 Zip 文件的工作方式，其中文件以 Windows EXE 标头而不是任何特定于 Zip 的文件开头）。这在好奇的答案中链接的页面中进行了解释。

我猜 Python 解释器会查找 Zip 中央目录，如果有，该文件将用作 Zip 文件而不是 Python 源文件。有没有人想在他/她的答案中包含这个，以便我接受？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:15:38.040

所有 ZIP 文件（以及所有派生格式，例如 .jar 文件）都[以 ASCII 字符“PK”开头](https://en.wikipedia.org/wiki/Zip_%28file_format%29#File_headers)（以及另外两个不构成有意义的 ASCII 字符的字节）。

这些被称为[幻数](https://en.wikipedia.org/wiki/Magic_number_%28programming%29)，是在没有外部信息（文件扩展名或 mime 类型）的情况下检测文件类型的常用方法。

由于只需要读取最开始的字节，因此无论档案有多大，检测文件是否为 ZIP 文件的速度同样快。检测 ZIP 文件是否*正确*且未*损坏*是另一回事，但除非明确要求，否则通常不会这样做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:16:44.267

Zip 文件通常不通过文件扩展名识别，而是通过文件开头的[幻数](http://en.wikipedia.org/wiki/Magic_number_%28programming%29)识别。前 4 个字节始终是`0x50 0x4b 0x03 0x04`.

# php - wordpress 中页面的不同设计

> ID：12172594
> 
> 赞同：0
> 
> 时间：2012-08-29T07:12:11.443
> 
> 标签：php, wordpress

很长一段时间后，我正在处理wordpress。在我的网站中，我有许多页面，其中大多数具有不同的设计。它们都添加在页面下，但它们的设计会有所不同。

我只想知道处理它们的标准方法。是否有任何不同的模板方案来处理不同的页面设计？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T08:05:29.587

您可以简单地在页面顶部放置一个标签，比如创建一个文件`my-templated-page.php`，您可以像这样在该文件的顶部添加标签：

```
<?php
/*
*
* Template Name: My Template 1.0
*
*/
?> 
```

这将允许您进入**Pages**并选择下拉框“**模板**”并选择您的模板名称`My Template 1.0`。随心所欲的简单风格`my-templated-page.php`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:17:08.553

不，您只需为每个设计创建页眉和页脚。如果那是你想要的。

每个页面模板

```
<?php get_header('header_page1'); ?> // it points to header-header_page1.php
    //custom html for Page 1
<?php get_footer('footer_page1'); ?> // it points to header-footer_page1.php 
```

[参考这里](http://codex.wordpress.org/Function_Reference/get_header)

# tfs - Team Build 2012 是否与 Team Foundation Server 2010 兼容？

> ID：12172596
> 
> 赞同：6
> 
> 时间：2012-08-29T07:12:14.587
> 
> 标签：tfs, tfsbuild

[将Team Build](http://en.wikipedia.org/wiki/Team_Foundation_Server#Team_Build) 2012 连接到[Team Foundation Server](http://en.wikipedia.org/wiki/Team_Foundation_Server) 2010是什么体验？

我们需要再创建几个构建代理，但 Team Foundation Server 将在以后升级。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-29T06:28:58.110

确认：这不起作用。您必须将 TFS 2010 升级到 2012。我在尝试针对 TFS 2010 安装 2012 构建服务时收到错误消息：

*“Team Foundation Server [我的服务器] 不支持注册命令，因为服务器不兼容。”*

将 TFS 2010 升级到 2012 后，它安装正常。请注意，将 TFS 2010 升级到 2012 意味着备份您的数据库，卸载 2010，安装 2012，然后从配置中心选择“升级”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-29T10:24:45.327

现在可以了，因为 Update 2 于 2013 年 4 月发布 :) 请参阅 Martin Hinselwood 的帖子：[Visual Studio 2012 Update 2 support 2010 Build Servers](http://blog.hinshelwood.com/visual-studio-2012-update-2-supports-2010-build-servers/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T12:43:27.210

I don't know for certain but I'm resonably sure that this won't work. You should create new TFS 2010 build agents and then upgrade the build agents at the same time you upgrade the TFS server.

You should be able to install the 2 build agent versions "side by side" and disable the 2012 service until you've upgraded the TFS server. We've done this in the past when upgrading from TFS 2008 - 2010\. When you upgrade the TFS server you can diable the 2010 service and enable the 2012 service.

# c# - Porting a C#.NET TCP/IP sockets (and serial port) component to Mono (Raspberry Pi)

> ID：12172597
> 
> 赞同：0
> 
> 时间：2012-08-29T07:12:23.200
> 
> 标签：c#, .net, tcp, mono, serial-port

I've written a small server component in .NET 4.0 that uses the [TcpListener](http://msdn.microsoft.com/en-us/library/system.net.sockets.tcplistener.aspx), [Socket](http://msdn.microsoft.com/en-us/library/system.net.sockets.socket.aspx), [NetworkStream](http://msdn.microsoft.com/en-us/library/system.net.sockets.networkstream.aspx) and [SerialPort](http://msdn.microsoft.com/en-us/library/system.io.ports.serialport.aspx) classes, all of which are in the System.dll assembly (v4.0.30319).

It runs as a command line application, so doesn't have any UI requirements.

Its currently running in Windows and my current goal is to get it working on Linux. One way to do this would be to use the latest version of Mono. Does anyone have any hints or gotchas which I should look out for - is this feasible?

Any suggestions greatly appreciated, thanks.

**Structure of the application:**

*   Listen on a TCP port for a client connection, accept when needed.
*   Main loop :-
    *   Read data frames from the serial port.
    *   Forward the data frames to the client over TCP.
    *   Receive various commands from the client over TCP, and act on them as required.

**UPDATE:**

I've ported a stub program which only implemented the basic functions of TcpListener, Socket, NetworkStream, TcpClient and SerialPort.

It worked fine apart from the [SerialPort's DataReceived event handler, which doesn't get called by Mono](https://stackoverflow.com/questions/7393818/serialport-in-mono-in-linux-not-responding-to-datareceived-event). The solution was simply to poll the port at a regular interval. Another minor change required was to not access the 'ReceivedBytesThreshold' property of the serial port; trying to set this in mono will throw an 'Unsupported feature' exception.

**Ubuntu VM**

I installed it inside a VirtualBox VM of Ubuntu Desktop 12.04, including serial port mapping from the host (Win7) to guest OS which worked fine to map COM1 to /dev/ttyS0\. A final note, you have to run the resulting application as superuser (sudo) or else it complains about serial port permissions at runtime.

**Raspberry Pi**

I have also just got this working under Mono on a [Raspberry Pi single board computer](http://www.raspberrypi.org) with some help from our hardware engineer who created a custom extension board to talk to the RPi's onboard UART (via GPIO). The OS you need to run is the "soft float" Debian distribution, available on the [Raspberry Pi download section](http://www.raspberrypi.org/downloads). Installing Mono on it is a breeze, using the apt-get package manager. The serial port name in this case is /dev/ttyAMA0.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:55:09.483

The easiest way is to just try and build it using mono and see if it runs. Mono has a [compatibility analyzer](http://www.mono-project.com/MoMA) as well which can run through your code and see what potential compatibility issues it has.

It doesn't sound like you should have any real problems considering you're dealing with pretty standard classes.

# objective-c - runAction 在 CCNode 中不起作用

> ID：12172602
> 
> 赞同：0
> 
> 时间：2012-08-29T07:12:36.210
> 
> 标签：objective-c, cocos2d-iphone

我有一个继承自 CCNode 的类。这个类有两个 CCSprite。当 CCNode 初始化时，我希望在两个 CCSprite 上运行两个动作，但是这些动作被跳过了。

两个 CCSprite 变量是 infoPanel 和 bg。

标题：

```
 //THIS IS NOT WORKING

#import "cocos2d.h"

    @interface GamePopUp : CCSprite <CCTargetedTouchDelegate> 

    @property (strong,readwrite) CCSprite* infoPanel;
    @property (strong,readwrite) CCSprite* bg;

 +(id)PopupInfo;
 -(id)initForInfoPopup;
 -(void)onEnter;
 -(void)onExit;
 -(void) rotate;

 @end 
```

执行

```
-(id)initForInfoPopup
   { self = [super init];

  if(self)
  {
      _ourDevice = [[DimensionManager SharedDimensionManager]OurDevice];
      CGSize s = [[CCDirector sharedDirector] winSize];
      infoPanel = [CCSprite spriteWithFile:@"infoPanel.png"];

    if(_ourDevice == iPad)
    {
        infoPanel = [CCSprite spriteWithFile:@"infoPanel-hd.png"];
    }

    infoPanel.position = CGPointMake(s.width/2, s.height/2);

    bg = [CCSprite node];
    bg.color = ccBLACK;
    bg.opacity = 0;
    [bg setTextureRect:CGRectMake(0, 0, s.width, s.height)];
    bg.anchorPoint = ccp(0,0);

    [bg setTag:1];

    [self addChild:bg];
    [self addChild:infoPanel];

//These actions do not take place:
    [bg runAction:[CCFadeTo actionWithDuration:4 opacity:250]];
    [infoPanel runAction:[CCSequence actions:
                          [CCScaleTo actionWithDuration:4 scale:3],
                          [CCScaleTo actionWithDuration:4 scale:1],
                          nil]];

  }
 return self;

 } 
```

有趣的是，我在教程中找到的另一门课也有同样的效果。该类继承自 CCSprite

标题：

```
 //THIS IS WORKING
  #import "cocos2d.h"

@interface PopUp : CCSprite {
  CCSprite *window,*bg;
  CCNode *container;
}

+(id)popUpWithTitle: (NSString *)titleText description:(NSString *)description sprite:(CCNode *)sprite;
- (id)initWithTitle: (NSString *)titleText description:(NSString *)description sprite:(CCNode *)sprite;

-(void)closePopUp;

@end 
```

执行：

```
 - (id)initWithTitle: (NSString *)titleText description:(NSString *)description sprite:(CCNode *)sprite {
    self = [super init];
    if (self) {

     _ourDevice = [[DimensionManager SharedDimensionManager]OurDevice];

    CGSize s = [[CCDirector sharedDirector] winSize];
    container = sprite;
    CCLabelTTF *desc;
      int fSize = 36;

    if (_ourDevice == iPhone)
    {
    window = [CCSprite spriteWithFile:@"uglyPopup.png"];

         desc = [CCLabelTTF labelWithString:description fontName:@"TOONISH" fontSize:fSize/2];
    }else {
        window = [CCSprite spriteWithFile:@"uglyPopup-hd.png"];   
          desc = [CCLabelTTF labelWithString:description fontName:@"TOONISH" fontSize:fSize];
    }

    window.opacity = 160;
    bg = [CCSprite node];
    bg.color = ccBLACK;
    bg.opacity = 0;
    [bg setTextureRect:CGRectMake(0, 0, s.width, s.height)];
    bg.anchorPoint = ccp(0,0);
    [bg disableTouch];
    window.position = ccp(s.width/2, s.height/2);
    window.scale = 1;

    desc.position = ccp(window.position.x, window.position.y + window.contentSize.height / 2.2);
    desc.opacity = (float)255 * .75f;

    [window addChild:desc];
    [self addChild:bg z:-1 tag:tBG];
    [self addChild:window];
    [window addChild:container z:2];

    //THESE ACTIONS RUN:
    [bg runAction:[CCFadeTo actionWithDuration:ANIM_SPEED / 2 opacity:150]];
    [window runAction:[CCSequence actions:
                           [CCScaleTo actionWithDuration:ANIM_SPEED /2 scale:.9],
                           [CCScaleTo actionWithDuration:ANIM_SPEED /2 scale:.8],
                           nil]];

    }

    return self;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:19:44.217

尝试在 onEnter 函数中运行您的操作，如果您的对象的 isRunning 布尔值为 NO，则操作将不会运行

```
- (void) onEnter
{
    [super onEnter];
    //These actions do not take place:
    [bg runAction:[CCFadeTo actionWithDuration:4 opacity:250]];
    [infoPanel runAction:[CCSequence actions:
                          [CCScaleTo actionWithDuration:4 scale:3],
                          [CCScaleTo actionWithDuration:4 scale:1],
                          nil]];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-09T02:49:09.760

我有同样的问题，但事实证明不是`onEnter`问题。我的问题是我`CCSprites`嵌套了三个`CCNode`并将 runAction 发送到顶级节点。我的问题的解决方案很简单：

将`cascadeOpacityEnabled`标志设置`YES`为顶层`CCNode`：

```
buyBuildingDialog.cascadeOpacityEnabled = YES;
[buyBuildingDialog runAction:[CCActionFadeIn actionWithDuration:0.25]]; 
```

# asp.net-mvc-3 - 实体框架插件架构推荐

> ID：12172610
> 
> 赞同：4
> 
> 时间：2012-08-29T07:12:54.453
> 
> 标签：asp.net-mvc-3, entity-framework, plugins, mef, repository-pattern

我正在尝试使用区域和依赖注入构建模块化的 ASP.NET MVC 应用程序。该应用程序目前包括以下项目：

*   **Framework.Contracts**（身份验证服务、授权、日志记录的接口）
*   **框架**（身份验证服务的实现，授权，...）
*   **Framework.Web**（MVC Web 应用程序）

每个插件由一个 MVC 区域项目、合同和服务实现组成：

*   **EmployeesPlugin.Contracts**（IEmployeesService 的接口）
*   **EmployeesPlugin**（IEmployeesService 的实现）
*   **雇员插件.MVC**

我想使用实体框架数据库优先或模型优先（因为我必须连接现有数据库）。我的问题是我不知道如何松散地耦合我的实体。我不想将它们放入单个共享的 DatabaseLayer 项目中。相反，我想为框架项目定义中心实体（用户、设置、LogEntries，...），并为每个插件定义附加实体（如员工、公司）。

阅读[ORM 架构：一个或多个模型（实体框架）](https://stackoverflow.com/questions/5260200/orm-architecture-one-or-multiple-models-entity-framework)后，我想到了创建多个模型（即多个数据上下文）。其实我不喜欢有冗余代码的想法。

我考虑过创建公开每个实体属性的接口。这些接口将按插件放入一个项目中。像`IEmployee`暴露`FirstName`和`LastName`。然后我开始创建一个`IEmployeeRepository`返回和创建、编辑和删除员工。`IEmployee`但是，仅公开而没有具体课程时，创建员工不起作用。

另一个问题是实体`Employee`包含对其他项目/插件中实体的引用。假设一名员工主持了许多项目。因此，我想创建一个`IEmployee`没有对项目的引用的通用接口和一个`IEmployeeProjects`包含对项目的引用的接口。这样，我可以`Employee`在实现两者的中央数据库层项目中创建一个类`IEmployee`添加`IEmployeeProjects：

```
public class Employee : IEmployee, IEmployeeProjects
{   
    // From IEmployee interface
    public string FirstName { get; set; }
    public string LastName { get; set; }

    // From IEmployeeProject interface
    public virtual ICollection<Project> Projects { get; set; }
} 
```

问题是我不知道如何使用 Entity 框架将事物组合在一起。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:27:39.697

您通过删除它们之间的任何硬关系来创建松散的耦合。相反，只需使用 Id 来引用其他实体。这也意味着每个插件都使用自己的 DbContext。

然后使用每个插件中的存储库来加载引用的实体。这也意味着每个插件都必须在单独的程序集中定义它们的存储库接口，其他插件可以使用该程序集。

我通常还会创建一个核心对象，在其中定义核心公开的所有实体、服务和存储库。

# android - 如何在 Android 中使用 presentModalViewController？

> ID：12172612
> 
> 赞同：3
> 
> 时间：2012-08-29T07:12:55.983
> 
> 标签：android, animated, model-view

目前我在 Android 应用程序中工作，在 iphone 应用程序中使用 presentModalViewController 在屏幕上从下到上动画视图，类似地在 Android 应用程序中，如何在 Android 中使用 presentModalViewController 控件？可以添加这个吗？我参考了互联网，但我只有 MVC 模式，所以请帮助我。

提前致谢

在 iPhone 应用程序中使用 presentModalViewController：

```
 bookview *book = [[bookview alloc]init];  
    UINavigationController *navi = [[UINavigationController alloc] initWithRootViewController:book];
    [self presentModalViewController:navi animated:YES]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:16:38.397

android 中没有 NavigationController，而是将 android 活动从 Activity 堆栈中推送和弹出，由 ActivityManager 维护。

要在活动开始或停止时添加动画，请阅读动画，或通过以下答案学习：

[使用动画启动 Activity](https://stackoverflow.com/questions/2625812/start-activity-with-an-animation)

# c# - RuntimeResourceManager 中的序列化问题

> ID：12172615
> 
> 赞同：1
> 
> 时间：2012-08-29T07:13:10.690
> 
> 标签：c#, serialization, resourcemanager

帮我解决以下问题：

```
在程序集“mscorlib，版本=2.0.0.0，文化=中性，PublicKeyToken=b77a5c561934e089”中键入“System.Resources.RuntimeResourceSet”未标记为可序列化。

```

示例代码：

```
[可序列化]
    公共类 clsModelClass
    {
        私有列表 _obj1 = 新列表（）；
        私有列表 _obj2 = 新列表（）；
        公共 System.Resources.ResourceManager 资源管理器 { 获取；放; }

        公共字符串 Property1 { 获取；放; }
        公共长属性2 {获取；放; }
        公共字符串 Property3 { 获取；放; }
    }

[可序列化]
    公共类 clsTestClass
    {
        公共静态字符串 staticObj1 = "staticObj1";
        公共静态字符串 staticObj2 = "staticObj2";
        公共静态字符串 staticObj3 = "staticObj3";
    }

```

是不是因为：

```
公共 System.Resources.ResourceManager 资源管理器 { 获取；放; }

```

因为 ResourceManager 类没有被序列化。我应该使用 [nonSerialize] 之类的吗

```
[非序列化]
公共 System.Resources.ResourceManager 资源管理器 { 获取；放; }

```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:34:16.020

是的，您需要标记不可序列化的对象，这可能会有所帮助：

[非序列化属性](http://msdn.microsoft.com/en-us/library/system.nonserializedattribute.aspx)

编辑：进一步解释：

```
IFormatter formatter = new BinaryFormatter();             
IFormatter formatter = new SimpleIniFormatter();
FileStream s = new FileStream(fileName, FileMode.Create);
formatter.Serialize(s, line);` 
```

在此示例中，NonSerialized 意味着 BinaryFormatter 将忽略任何被标记为非序列化的内容。使用上面的例子来玩。创建的文件有点可读。其中行是一些标记为可序列化的对象

# java - Struts2过滤json结果/自定义结果

> ID：12172616
> 
> 赞同：2
> 
> 时间：2012-08-29T07:13:14.120
> 
> 标签：java, jquery, ajax, json, struts2

我目前正在研究将 json 结果从 struts2 发送回客户端的解决方案。

我按照这个例子：

[http://www.mkyong.com/struts2/struts-2-and-json-example/](http://www.mkyong.com/struts2/struts-2-and-json-example/)

它工作正常，但问题是，struts2 在结果 json 中发回了太多信息，因为我得到了一些不应该显示给客户的变量。

有没有办法在发回之前将我自己的 Json 发回或过滤结果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:22:09.673

您可以排除您不希望 JSON 插件为您序列化的属性

```
<result type="json">
  <param name="excludeProperties">
    login.password,
    studentList.*\.sin
  </param>
</result> 
```

有关详细信息，请参阅[JSON 插件](http://struts.apache.org/2.2.3/docs/json-plugin.html)页面

# python - 如何将不同的推荐模型拟合到系统中

> ID：12172617
> 
> 赞同：0
> 
> 时间：2012-08-29T07:13:38.080
> 
> 标签：python, algorithm, optimization, machine-learning, recommendation-engine

我正在尝试使用不同的模型集构建推荐引擎。他们有什么办法我可以将这些模型保持为即插即用类型或使这些模型依赖于其他模型。我正在寻找一种算法。

我最近读到了“梯度提升决策树”，它对我的​​情况有用吗？如果有用，我应该如何实现它？

制作推荐引擎让我的大脑变得模糊。:-)。帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T18:09:54.710

梯度树增强可以即插即用。但是你必须有一个固定的树结构并记住每个分支的分类器性能。否则，每次添加或删除分类器时，您都必须重新训练您的集成。

对于即插即用合奏，我会选择[bagging](http://en.wikipedia.org/wiki/Bootstrap_aggregating)。

# php - 使用 jQuery 和 ajax 更改浏览器地址栏 URL 而无需重新加载页面

> ID：12172620
> 
> 赞同：11
> 
> 时间：2012-08-29T07:13:47.393
> 
> 标签：php, jquery, ajax

使用 jQuery 更改浏览器地址栏 URL 而无需重新加载 例如，

```
www.mywebsite/list.php?page=1

<a href="?page=<?php $row[id] ?>" > this link </a> 
```

点击更改地址栏`?id=123`等...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T07:27:00.053

**根本不可能**更改浏览器的 url 甚至查询字符串而不重新加载只有部分你可以在不刷新的情况下更改是 url 的 #hash 部分直到 html4

但是在 html 5 中，可以通过新的**HISTORY API**进行某种 url 更改尝试一下

[http://html5demos.com/history](http://html5demos.com/history)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T07:18:02.170

你不能。例如，如果您尝试这样做：

```
document.location.search= "?i=123" 
```

它将重新加载页面。你可以做的是改变哈希

```
document.location.hash= "#123" 
```

或者

```
document.location.hash= "#i=123 
```

然后使用 split 编写一个简单的解析器来获取您需要的数据。你应该看看类似的[问题。](https://stackoverflow.com/questions/12132848/save-xhr-rendered-state-upon-browser-refresh)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-29T07:18:47.800

[`jQuery: pjax`](https://github.com/defunkt/jquery-pjax)插件可以帮助你。

# css - 为什么“Segoe UI Light”字体不会在 FireFox 13.0 中呈现

> ID：12172621
> 
> 赞同：1
> 
> 时间：2012-08-29T07:13:51.773
> 
> 标签：css, fonts

在一个网站中，我使用的是“Segoe UI Light”字体，它在 FireFox 13.0 中无法正确呈现，而在 IE9 中却可以。

我在css中做了如下更改

```
 font-family: Segoe UI;
    font-weight: lighter; 
```

但这对我不起作用。

所以请为此提供解决方案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T08:04:36.567

只用

```
font-family: Segoe UI Light; 
```

没有`font-weight`。您现在所做的在原则上是正确的，但是 Firefox、Chrome 等无法正确选择和使用 Segoe UI Light 字体。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-11-13T21:44:48.447

下面的代码对我有用，并且与所有浏览器兼容

```
 font-family: "Segoe UI Light","Segoe UI";
 font-weight: 300; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T03:41:44.483

我从微软官方网站捕获了css，这两行应该可以正常工作。放入体内

```
body {
    font-family: "wf_SegoeUILight","wf_SegoeUI","Segoe UI Light","Segoe WP Light","Segoe UI","Segoe","Segoe WP","Tahoma","Verdana","Arial","sans-serif";
    font-weight: 300;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:18:00.030

您需要引用姓氏：

```
font-family: "Segoe UI";
font-weight: lighter; 
```

# python - Python os 调用在 crontab 中不起作用

> ID：12172622
> 
> 赞同：0
> 
> 时间：2012-08-29T07:13:53.017
> 
> 标签：python, cron

我目前正在编写一个脚本来每分钟更改一次桌面背景，但是当我将输出通过管道传输到一个文件时，我得到：

```
** (process:22375): WARNING **: Command line `dbus-launch --autolaunch=134db3df26c562acad27e9cf00000009 --binary-syntax --close-stderr' exited with non-zero exit status 1: Autolaunch error: X11 initialization failed.\n 
```

python脚本如下：

```
#!/usr/bin/env python

import os, random

def main():

    files =  os.listdir("/home/benkaiser/scripts/XKCD_IMAGES");
    nameOfImg = random.choice(files)

    os.system("gsettings set org.gnome.desktop.background picture-uri file:///home/benkaiser/scripts/XKCD_IMAGES/" + nameOfImg)

    print "Finished Fine!";

    return 0

if __name__ == '__main__':
    main() 
```

crontab 命令是： * * * * * /home/benkaiser/scripts/changeDesktop.py

我已经确保该文件是可执行的，所以这不是问题。这似乎与给出错误的 os.system 调用有关

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:20:18.330

问题是`gsettings`需要知道要在哪个屏幕上运行。如果您在终端中运行它，它将在终端所在的屏幕上运行，但如果您在 crontab 中运行它，它的上下文中没有任何屏幕。

您可以通过向 gsettings 命令或环境变量添加开关来指定显示来执行此操作。这取决于是否曾经编写过 gsettings 以在无法推断显示的情况下工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:19:05.027

crontab 通常不知道 X 服务器。试试，

```
* * * * * DISPLAY=:0 /home/benkaiser/scripts/changeDesktop.py 
```

我不确定它是否会起作用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T11:44:08.883

不确定您的设置，但添加`DISPLAY=:0.0`对我有用。Ubuntu 12.04，gnome3，双显示器

在 crontab 中有这个条目

```
* * * * * DISPLAY=:0.0 /home/german/change-bg.py 
```

# html - 请解释奇怪的 HTML 表格行跨度行为

> ID：12172626
> 
> 赞同：4
> 
> 时间：2012-08-29T07:14:02.363
> 
> 标签：html, html-table

考虑以下 HTML 表定义。

```
<table>
 <tbody>
  <tr>
   <td rowspan='2'>A</td>
   <td>2</td>
   <td rowspan='2'>B</td>
  </tr>
  <tr>
   <td rowspan='2'>C</td>
  </tr>
  <tr>
   <td>1</td>
   <td>3</td>
  </tr>
 </tbody>
</table> 
```

我希望表格看起来像：

```
+---+---+---+
| A | 2 | B |
|   +---+   |
|   | C |   |
+---+   +---+
| 1 |   | 3 |
+---+---+---+ 
```

但在 Firefox、IE8 和 Chrome 中，表格呈现如下：

```
+---+---+---+
| A | 2 | B |
+---+---+---+
| 1 | C | 3 |
+---+---+---+ 
```

如果我在表中添加另一列，如下所示：

```
<table>
 <tbody>
  <tr>
   <td>a</td>
   <td rowspan='2'>A</td>
   <td>2</td>
   <td rowspan='2'>B</td>
  </tr>
  <tr>
   <td>b</td>
   <td rowspan='2'>C</td>
  </tr>
  <tr>
   <td>c</td>
   <td>1</td>
   <td>3</td>
  </tr>
 </tbody>
</table> 
```

...我得到以下内容，这更像是我想要的。

```
+---+---+---+---+
| a | A | 2 | B |
+---+   +---+   |
| b |   | C |   |
+---+---+   +---+
| c | 1 |   | 3 |
+---+---+---+---+ 
```

问题：

1.  浏览器的行为是否正确？如果是这样，为什么在上面给出的第一个 HTML 段的情况下表格会不直观地折叠？

2.  是否有任何有效的 HTML/css 会强制表格按我的意图显示？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T07:41:05.963

我认为这确实有效......您的单元格高度不是固定的，所以它似乎不起作用。但如果你这样尝试：

```
<table border="1">
<tr>
    <td height="50px" rowspan="2">A</td>
    <td>2</td>
    <td rowspan="2">B</td>
</tr>
<tr>
    <td rowspan="2">C</td>
</tr>
<tr>
    <td>1</td>>
    <td>3</td>
</tr>
</table> 
```

您会看到该表的行为如您所愿：

[![带边框的表格结果](../Images/d82a2ff6e78d8aea446648c31d168ce6.png)](https://i.stack.imgur.com/vIhS7.jpg)
[（来源：[myimg.de](http://img8.myimg.de/Bildschirmfoto148e98_thumb.jpg)）]

因此，如果您希望您的表格看起来像您解释的那样，我认为您需要做的就是在 css 中定义单元格高度或像我上面描述的那样。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-05-10T08:09:06.003

也许这会有所帮助！我遇到了同样的问题：“行跨度不起作用”。我尝试了 height 属性技巧，但没有帮助。在互联网上搜索了几个小时的另一个技巧后，我注意到我的`tr`标签没有正确关闭：`<tr>...<tr>`而不是`<tr>...</tr>`，并且我的行跨度呈现出预期的效果。

# jquery - 使用 javascript 使用 CTRL+C 获取复制数据的长度

> ID：12172628
> 
> 赞同：1
> 
> 时间：2012-08-29T07:14:08.390
> 
> 标签：jquery

我想使用 JavaScript/Jquery 找出复制数据的长度（通过按 CTRL+C）。

请尽快提供代码。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:22:39.907

正如@maerics[在 Javascript 中的拦截粘贴事件中所指出的那样](https://stackoverflow.com/questions/6035071/intercept-paste-event-in-javascript)

您可以通过附加“onpaste”处理程序来拦截粘贴事件，并通过在 IE 中使用“window.clipboardData.getData('Text')”或在“event.clipboardData.getData('text/plain')”中获取粘贴的文本其它浏览器。

例如：

```
var myElement = document.getElementById('pasteElement');
myElement.onpaste = function(e) {
  var pastedText = undefined;
  if (window.clipboardData && window.clipboardData.getData) { // IE
    pastedText = window.clipboardData.getData('Text');
  } else if (e.clipboardData && e.clipboardData.getData) {
    pastedText = e.clipboardData.getData('text/plain');
  }
  alert(pastedText); // Process and handle text...
  return false; // Prevent the default handler from running.
}; 
```

# java - Java的算术精度更高

> ID：12172630
> 
> 赞同：4
> 
> 时间：2012-08-29T07:14:12.267
> 
> 标签：java, math, floating-accuracy

我正在用 Java 构建一个 Web 应用程序，它可以进行数学运算并向用户显示步骤。在使用小数进行基本算术运算时，我经常会在准确的输出中弄得一团糟。

这是我的问题：

```
double a = 0.15;
double b = 0.01;
System.out.println(a - b);
// outputs 0.13999999999999999

float a = 0.15;
float b = 0.01;
System.out.println(a - b);
// outputs 0.14

float a = 0.16f;
float b = 0.01f;
System.out.println(a - b);
// outputs 0.14999999

double a = 0.16;
double b = 0.01;
System.out.println(a - b);
// outputs 0.15 
```

`complete`两者的准确性都不可靠。是否有更精确的数字类，或者我应该将值四舍五入？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T07:16:39.537

您可以为此使用[BigDecimal 。](http://docs.oracle.com/javase/6/docs/api/java/math/BigDecimal.html)这很丑陋，但它有效：

```
BigDecimal a = new BigDecimal("0.15");
BigDecimal b = new BigDecimal("0.01");
System.out.println(a.subtract(b)); 
```

请务必使用 String 参数或`valueOf`方法构造它们，如下所示：

```
BigDecimal x = new BigDecimal("0.15");   // This is ok
BigDecimal x = BigDecimal.valueOf(0.15); // This is also ok 
```

而不是双参数，像这样：

```
BigDecimal x = new BigDecimal(0.15); // DON'T DO THIS 
```

因为如果您传入一个双精度数，您也会将双精度数的不准确性传递到新的 BigDecimal 实例中。如果您传入一个字符串，BigDecimal 将知道™ 并做正确的事™。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T07:23:14.287

使用`double`. 如果你这样做，你可以获得 15 位数的准确度，这在大多数情况下已经足够了。

```
double a = 0.15;
double b = 0.01;
System.out.printf("%.2f%n", a - b);

double a2 = 0.16;
double b2 = 0.01;
System.out.printf("%.2f%n", a2 - b2); 
```

印刷

```
0.14
0.15 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T07:17:18.690

[BigDecimal](http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html)怎么样？

但是，并非对所有分区都完全准确（例如 1/3）。为此，您需要分数，它不是 JDK 的一部分，但[易于实现](https://stackoverflow.com/questions/5442640/is-there-a-commonly-used-rational-numbers-library-in-java)，例如作为两个整数（或 BigIntegers）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:23:31.450

```
 BigDecimal  a = new BigDecimal(".15");
  BigDecimal  b = new BigDecimal(".01"),
  BigDecimal  c = new BigDecimal(0);

  c = a.subtract(b);      
  System.out.println(c); 
```

# java - 如何通过Java程序检查Tomcat服务是否在Windows中运行或停止？

> ID：12172633
> 
> 赞同：1
> 
> 时间：2012-08-29T07:14:36.583
> 
> 标签：java, jakarta-ee, tomcat, process

> **可能重复：**
> [如何通过批处理文件检查服务是否正在运行并启动它，如果它没有运行？](https://stackoverflow.com/questions/3325081/how-to-check-if-a-service-is-running-via-batch-file-and-start-it-if-it-is-not-r)
> [使用命令提示符确定 Tomcat 是否在 Windows 中运行](https://stackoverflow.com/questions/6220196/determine-if-tomcat-is-running-in-windows-using-the-command-prompt)

有没有办法通过通过 Windows 调度程序运行的 Java 程序检查 Tomcat 服务（或与此相关的任何服务）是否在 Windows 操作系统中运行/停止？如果停止我必须启动该服务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:58:44.447

不确定tomcat进程是什么样的。如果它类似于 tomcat.exe，那么您可以使用问题中的解决方案来获取进程。[如何使用 Java 获取当前打开的窗口/进程的列表？](https://stackoverflow.com/questions/54686/how-to-get-a-list-of-current-open-windows-process-with-java)然后搜索进程名称

# osgi - 如何从 WSO2 OSGi 控制台中的文件夹自动安装和启动所有 OSGi 包 (JAR)？

> ID：12172637
> 
> 赞同：2
> 
> 时间：2012-08-29T07:14:51.253
> 
> 标签：osgi, wso2

```
osgi> install file:D:\f1\*.jar
osgi> install --start file:D:\f1\*.jar 
```

以上命令在 WSO2 OSGi 控制台中是非法的。如何从文件夹自动安装和启动所有 OSGi 包 (JAR)？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-30T06:43:04.687

看看 Apache Fileinstall ...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T11:37:59.877

您可以使用 osgi 命令安装单个捆绑文件：安装文件：<full-path-to-bundler>。
如果您需要一次安装一组包，您可以将新的包复制到 <CARBON_HOME>/repository/components/dropins 并启动服务器。

谢谢，
迪丽热巴

# linq - LINQ Query遍历treeview并获取数据

> ID：12172639
> 
> 赞同：1
> 
> 时间：2012-08-29T07:15:04.010
> 
> 标签：linq

我让 treeView 加载了自定义类集合（例如：MyClass）。我想从选中的树视图项中返回 MyClass[] 的集合并希望使用 LINQ。我在下面尝试，它工作正常。但我想编写 1 行 Linq 查询，甚至不使用 List<>。有什么帮助吗？是否可以在 1 Linq 查询中进行递归？

```
List<MyClass> items = new List<MyClass>();            
items.AddRange(from node in tvData.Nodes.OfType<TreeNode>().Where((x) => x.Checked)
               select node.Tag as MyClass);

tvData.Nodes.OfType<TreeNode>()
            .ForEach((x => items.AddRange(from item in x.Nodes.OfType<TreeNode>()
                                                        .Where((y) => y.Checked)
                                          select item.Tag as MyClass)));

return items.ToArray(); 
```

注意：treeView 具有 1 级深度。每个父节点都有一组子节点，并且只有一个级别。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T07:30:26.737

试试这个：

```
return tvData.Nodes
             .OfType<TreeNode>()
             .SelectMany(x => new[]{ x }.Concat(x.Nodes.OfType<TreeNode>()))
             .Where(x => x.Checked)
             .Select(x => x.Tag as MyClass)
             .ToArray(); 
```

一个以上级别的解决方案可能如下所示：

```
IEnumerable<TreeNode> GetNodeAndChildren(TreeNode node)
{
    return new[]{ node }.Concat(node.Nodes
                                    .OfType<TreeNode>()
                                    .SelectMany(x => GetNodeAndChildren(x)));
}

return tvData.Nodes
             .OfType<TreeNode>()
             .SelectMany(x => GetNodeAndChildren(x))
             .Where(x => x.Checked)
             .Select(x => x.Tag as MyClass)
             .ToArray(); 
```

# c# - 在 Unity3D 中创建 Android XMPP 聊天客户端的最佳方法

> ID：12172641
> 
> 赞同：7
> 
> 时间：2012-08-29T07:15:06.777
> 
> 标签：c#, android, xmpp, chat, unity3d

我正在尝试使用 Unity/C#/Mono 创建一个 iOS 和 Android XMPP 聊天客户端。我使用 Jabber.net 获得了一个适用于 iOS 的功能齐全的聊天客户端，但它不适用于 Android。那么有没有人知道与 Unity/C# for Android 一起使用的库？

这篇文章讨论了 Android 和 XMPP 解决方案，但还没有找到任何将其连接到 Unity 的方法： [Android 和 XMPP：当前可用的解决方案](https://stackoverflow.com/questions/4769020/android-and-xmpp-currently-available-solutions)

这是我与让 Jabber.net 使用 Unity 为 Android 工作有关的问题： [Jabber.net on Unity/Android 错误（在 /system/lib/libc.so 中找不到 JNI_OnLoad，跳过初始化）](https://stackoverflow.com/questions/12156312/jabber-net-on-unity-android-error-no-jni-onload-found-in-system-lib-libc-so-s)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-06T12:00:03.573

由于没有人在这里回答我是如何解决的：

1.  ASmack for Android 在 Eclipse 中的一个新的 Android 项目中
2.  使用登录、注销、发送消息等基本公共方法为 ASmack 构建自定义包装器。
3.  提取为 jar 库。
4.  将 jar 导入 Unity3D
5.  使用Unity3D的AndroidJNI方法调用jar的公共方法
6.  回调在 Java 包装器中设置并使用“UnityPlayer.UnitySendMessage()”调用（必须将 Unity 应用程序包中的 classes.jar 导入 Eclipse 项目进行编译）
7.  成功！

需要做一些工作并且需要一些时间来调试和构建，但它确实有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-12T10:28:25.687

我推荐使用[MatriX XMPP SDK](http://www.ag-software.net/matrix-xmpp-sdk/)而不是使用 ASmack 进行所有这些操作。我们将这个库用于我们的 Unity 项目。

它可以在 Win、Mac、iOS、Android 上运行，无需任何特殊操作。这个库只有 1 个问题 - 无法在 WebPlayer 中运行

# mysql - 加入多个表时出现“WHERE”问题

> ID：12172642
> 
> 赞同：2
> 
> 时间：2012-08-29T07:15:08.587
> 
> 标签：mysql, sql

我在查询时遇到了一点麻烦。

我正在建立一个电影数据库，它有 3 个表。1 代表电影 (tblmovie)，1 代表流派 (tblgenre)，1 连接这 2 个 (tblmoviegenre)。

我将这 3 部加在一起，这样如果我有 3 部电影，每部有 3 种流派，我将得到 9 行。

现在我希望能够获得包含特定类型的电影（例如 ID 为 2 和 4 的电影），这仅在我使用一种类型时才有效，因为每一行只有一种类型。有人知道解决这个问题的方法吗？

所以如果我尝试

```
SELECT tblmovie.name as moviename 
FROM tblmovie as m
LEFT JOIN tblmoviegenre as mg
on m.movieID = mg.movieID
LEFT JOIN tblgenre as g
on mg.genreID = g.genreID
WHERE mg.genreID = 2 
AND mg.genreID = 4 
```

我没有得到任何结果，因为每一行只有一种类型。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:19:02.947

尝试这样的事情，

```
SELECT  movieName
FROM    tableName a       -- of course you need to provide joins here
WHERE   genreID IN (2,4)
GROUP BY movieName
HAVING COUNT(*) = 2 
```

这里的想法是将实例数与您提供的流派总数相匹配。

**更新 1**

```
SELECT tblmovie.name as moviename 
FROM tblmovie as m
          LEFT JOIN tblmoviegenre as mg
               on m.movieID = mg.movieID
          LEFT JOIN tblgenre as g
               on mg.genreID = g.genreID
WHERE mg.genreID IN (2,4) 
GROUP BY tblmovie.name
HAVING COUNT(*) = 2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:23:45.083

使用`IN`子句代替`AND`子句：

```
SELECT tblmovie.name as moviename 
FROM tblmovie as m
     LEFT JOIN tblmoviegenre as mg
          ON m.movieID = mg.movieID
     LEFT JOIN tblgenre as g
          ON mg.genreID = g.genreID
WHERE mg.genreID IN(2,4)
GROUP BY tblmovie.name
HAVING COUNT(DISTINCT genreID) = 2; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:27:03.177

尝试在 sql 查询中给出 OR 而不是 AND。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:30:58.830

试试看：

```
SELECT tblmovie.name as moviename 
FROM tblmovie as m
LEFT JOIN tblmoviegenre as mg on m.movieID = mg.movieID
                              and mg.genreID in(2,4) 
LEFT JOIN tblgenre as g       on  mg.genreID = g.genreID 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-29T07:31:06.950

我认为以下查询将适用于这种情况。

```
SELECT tblmovie.movieName , tblgenre.genereName
FROM tblmoviegenre
WHERE tblmovie.id=tblmoviegenre.tblmovie_id AND tblgenre.id=tblmoviegenre.tblgenre_id 
```

# javascript - event.keycode 与 event.which

> ID：12172646
> 
> 赞同：19
> 
> 时间：2012-08-29T07:15:20.443
> 
> 标签：javascript, jquery, javascript-events, event-handling

我对 Firefox 的*keydown*行为感到不满，因为在没有关注特定字段的情况下按下 enter 键（实际上是任何键）不会触发*keydown*事件，它只会触发*keypress*事件。

这可能会非常令人困惑，因为*keydown*和*keyup*事件使用 JavaScript 键码，而*keypress*使用 ASCII 码。幸运的是，13（进入/返回）对两者都是通用的。

FF在这种情况下使用*按键*是否有任何已知原因？有什么好处？

一旦确定了这一点，IE8 就会抛出一个愚蠢的问题，因为它不允许*preventDefault*要求，而是`returnValue = false`来自另一篇 SO 帖子的以下片段被证明非常有用：

```
event.preventDefault ? event.preventDefault() : event.returnValue = false; 
```

在寻找解决这些问题的过程中，我一直`event.keycode`对 vs感到困惑`event.which`。也就是说，我使用类似于以下的 switch 语句做错了：

```
$("#class_Name").bind("keydown", function(event){
    // do not test input if field controls used
    switch(event.which){
       case 13:
       //enter key 
       event.preventDefault ? event.preventDefault() : event.returnValue = false;
       break;
     } 
```

以下是更好的，如果是这样，为什么？

```
$("body").keypress(function(event){
     // stop inadvertant form submission
     if (event.keycode == "13"){
       event.preventDefault ? event.preventDefault() : event.returnValue = false;
     }
}); 
```

我只是想知道，以便我知道哪个最适合申请。

非常感谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-29T07:20:08.893

有些浏览器使用`keyCode`，有些使用`which`. 但是使用 jQuery，这是*标准化*的，因此您不必考虑这一点。你可以选择你喜欢的那个。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-02-11T12:13:33.197

根据[这个评论](https://stackoverflow.com/questions/3568727/javascript-jquery-keypress-for-keyboard-navigation-event-which-doesnt-work/21701725#comment3741856_3568784)jQuery 可能是不可靠的，[这个页面](http://unixpapa.com/js/key.html)说：

`event.which``keydown`在 IE<9 on and中未定义`keyup`。

`event.keyCode``keypress`对于返回字符的键，在 Gecko（Seamonkey，Firefox）中为 0 。

`event.charCode`仅 Internet Explorer (Mac) 支持 keydown 和 keyup。

[在 JSFiddle 上试试](http://jsfiddle.net/3QM8t/1/)

# c# - 如何将 IEnumerable 与 ListBox 绑定

> ID：12172647
> 
> 赞同：1
> 
> 时间：2012-08-29T07:15:19.783
> 
> 标签：c#, wpf, listbox, model-binding

我有一个 IEnumerable，它在 pagebehind 中从 JSON 获取值：

```
 IEnumerable jsonData = default(IEnumerable);
   jsonData = GetJsonValues(URL); 
```

现在我有一个集合，其中包含：

> Title = "Some Title" and
> Thumbnail = "URI as String"

现在我有我的 XAML 包含列表框：

```
 <ListBox Width="480" Height="280" x:Name="listBoxJsonData" /> 
```

如何将 jsonData 与 listBoxJsonData 绑定。

我不想用 `listBoxJsonData.ItemsSource = jsonData;`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T08:13:58.477

创建它的属性并使用 MVVM 模式使用 DataContext 进行绑定。

这种方式（未测试）在一个新类中说`ViewModel.cs`

```
private IEnumerable jsonData;

public IEnumerable GetJSonData
{
    get
    {
        if (jsonData == null)
        {
            jsonData = GetJsonValues("http://www.viki.com/api/v2/channels.json");
        }
        return jsonData;
    }
} 
```

在 XAML 中

```
<ListBox Width="480" Height="280" x:Name="listBoxJsonData" 
         ItemSource="{Binding 
                      ElementName=Name_of_Window_where_this_listbox_is, 
                      Path=GetJSonData}" /> 
```

并在窗口构造函数中

```
this.DataContext = new ViewModel(); 
```

# java - 将 ArrayList of Points 存储到 Java for Android 中的文件

> ID：12172650
> 
> 赞同：1
> 
> 时间：2012-08-29T07:15:23.540
> 
> 标签：java, android

我无法将 ArrayList 写入文件。我正在做以下事情，正确的方法是什么？
如果我不将 'pt' 添加到 arraylist 中，则过程会正常并被保存。
os.writeObject(arr); - 在这一行之后，调试器转到 IOException。代码：

```
//holder class implements Serializable
transient ArrayList<Point> arr;
transient Point pt;
//I've tried without transient, same result 
//
arr = new ArrayList<Point>();
pt = new Point();
p.x = 10;
p.y = 20;
arr.add(pt);
//If I don't add 'pt' into arraylist, process goes fine and it gets saved.
//
String strStorageDirectory = this.getFilesDir() + "/DataFiles";
final File DataStorageDirectory = new File(strStorageDirectory);
File lfile = new File(DataStorageDirectory, "samplefile.bin");
FileOutputStream fos;
    try {
        fos = new FileOutputStream(lfile);
        ObjectOutputStream os = new ObjectOutputStream(fos);
        os.writeObject(arr);//after this line debugger goes to IOException
        //I've tried with os.writeObject((Serializable)arr), same result;
        os.flush();//I've tried removing it, same result
        os.close();
        fos.close();
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:20:39.470

要序列化`List<Point>`​​，您的`Point`类必须是可[序列化](http://java.sun.com/developer/technicalArticles/Programming/serialization/)的。

```
public class Point implements Serializable {...} 
```

我建议使用 JSON ( [gson](http://code.google.com/p/google-gson/) ) API 直接读取和写入对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:21:19.250

您可以在每个点添加两个[Integer](http://developer.android.com/reference/java/lang/Integer.html) ，而不是将[Point](http://developer.android.com/reference/android/graphics/Point.html)保留在 ArrayList 中。Integer 支持[Serializable](http://developer.android.com/reference/java/io/Serializable.html)，不支持。`Point`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T07:24:12.463

`android.graphics.Point`不是`Serializable`。

`Point` `Serializable`创建一个将复制`android.graphics.Point`到自定义`Point`类的新类

```
class Point implements Serializable
{
    private static final long serialVersionUID = 1L;

    private int x;
    private int y;

    Point(android.graphics.Point point)
    {
        this.x  = point.x;
        this.y= point.y;
    }
} 
```

# css - 如何在 twitter bootstrap 中居中？

> ID：12172651
> 
> 赞同：19
> 
> 时间：2012-08-29T07:15:24.567
> 
> 标签：css, html, twitter-bootstrap

```
<div class="container">
    <div class="row">
        <div class="span6 center">
            <form>
                <table>
                    <tbody>
                        <td>foo</td>
                    </tbody>
                </table>
            </form>
        </div>
    </div>
</div> 
```

[**JSfiddle**](http://jsfiddle.net/bha64/)

注意：我使用的是抽象层，因此无法更改`<form>`.

**如何使用 Twitter-Bootstrap 使表单居中？**

仅供参考：我也尝试过`pagination-centred`.

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2012-08-29T07:41:18.237

在 Bootstrap 中定位元素的原生方式是使用`offset`. 我将假设您使用的是 12 列布局。

## 引导程序 2

```
<div class="container">
    <div class="row">
        <div class="span6 offset3">
            <form>
                ...
            </form>
        </div>
    </div>
</div> 
```

[文档](http://getbootstrap.com/2.3.2/scaffolding.html#gridSystem)中的更多信息

## 引导程序 3

```
<div class="container">
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <form>
                ...
            </form>
        </div>
    </div>
</div> 
```

[文档](http://getbootstrap.com/css/#grid-offsetting)中的更多信息

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-08-29T11:08:55.750

发布的两个答案都是有效的并且有效，所以我赞成他们。这是我没有看到的另一种方法。

您可以通过将表单设置为`display:inline-block`并在`.center`容器内居中使用`text-align:center`. 这样，无论该容器内的宽度如何，表单都会居中：

**CSS**

```
.center {
    text-align:center;
}

.center form {
    display:inline-block;
} 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-06-03T06:40:46.213

这是我找到答案的地方。

[https://stackoverflow.com/a/15084576/1140407](https://stackoverflow.com/a/15084576/1140407)

```
<div class="container">
  <div class="row">
    <div class="span9 centred">
      This div will be centred.
    </div>
  </div>
</div> 
```

和 CSS：

```
[class*="span"].centred {
  margin-left: auto;
  margin-right: auto;
  float: none;
} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-05-08T19:09:26.683

你试过这个吗？

```
.center form {
        display: table;
        margin: 0 auto;
    } 
```

这对我来说是简单快捷的解决方案。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-08-29T07:25:05.883

没有什么比优秀的 CSS 更好的了？

```
.center > form {
  width: 300px; // some amount to prevent using 100% width
  margin: 0 auto;
} 
```

并更改`.span6`为`.span12`

Jsfiddle[在这里](http://jsfiddle.net/bha64/2/)。​</p>

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-05-29T17:45:34.997

```
<div class="container"> 
```

you coding for form

`</div>`

# parameters - LoadRunner 不替换重放中的参数

> ID：12172656
> 
> 赞同：1
> 
> 时间：2012-08-29T07:15:40.547
> 
> 标签：parameters, replace, loadrunner

我在 ASP.NET 中有一个简单的登录表单，并将 EventValidation 和 ViewState 变量保存到参数中：

```
web_reg_save_param_regexp(
    "ParamName=EventValidationParameter",
    "RegExp=id=\"__EVENTVALIDATION\"\\ value=\"(.*?)\"\\ ",
    SEARCH_FILTERS,
    "Scope=Body",
    "IgnoreRedirections=No",
    "RequestUrl=*/Login.aspx*",
    LAST);
web_reg_save_param_regexp(
    "ParamName=ViewStateParameter",
    "RegExp=id=\"__VIEWSTATE\"\\ value=\"(.*?)\"\\ ",
    SEARCH_FILTERS,
    "Scope=Body",
    "IgnoreRedirections=No",
    "RequestUrl=*/Login.aspx*",
    LAST); 
```

加载表单后，我提交了这两个参数，加上用户名和密码：

```
web_submit_data("Login.aspx_2",
    "Action=http://myurl.es/Login.aspx",
    "Method=POST",
    "RecContentType=text/html",
    "Referer=http://myurl.es/Login.aspx",
    "Snapshot=t3.inf",
    "Mode=HTML",
    ITEMDATA,
    "Name=__EVENTTARGET", "Value=", ENDITEM,
    "Name=__EVENTARGUMENT", "Value=", ENDITEM,
    "Name=__VIEWSTATE", "Value={ViewStateParameter}", ENDITEM,
    "Name=__EVENTVALIDATION", "Value={EventValidationParameter}", ENDITEM,
    "Name=logOn$UserName", "Value={UserNameParameter}", ENDITEM,
    "Name=logOn$Password", "Value={PasswordParameter}", ENDITEM,
    "Name=logOn$btnLogin", "Value=Entrar", ENDITEM,
    EXTRARES,
    "URL=/favicon.ico", ENDITEM,
    LAST); 
```

当我尝试重播脚本时出现问题，因为 LoadRunner 没有替换参数，所以它发送它们的名称而不是它们的值：

```
__EVENTTARGET=&__EVENTARGUMENT=&__VIEWSTATE=%7BViewStateParameter%7D&__EVENTVALIDATION=%7BEventValidationParameter%7D&logOn%24UserName=%7BUserNameParameter%7D&logOn%24Password=%7BPasswordParameter%7D&logOn%24btnLogin=Entrar 
```

但它们被正确存储，正如我在运行时数据中看到的那样：

```
ViewStateParameter: /wEPDwUJNTkxMzQ5ODkyZGTb80dGltreV5eu7t3Sx4tukVlYVQ==
EventValidationParameter: /wEWBAKjqI3jCgKq8IegAwK5hoWUBwKTwO3qCT0Isk6sckIUnI6YemgcYsthpZpu 
```

是什么导致参数没有被替换？

我该如何解决这个错误？

# php - 需要一种通过在 PHP 中使用 substr() 和 strpos() 来限制内容的可扩展方式

> ID：12172659
> 
> 赞同：1
> 
> 时间：2012-08-29T07:16:06.023
> 
> 标签：php, string, markdown, substr, strpos

我正在使用**Markdown**使用 PHP 在页面上呈现丰富的内容。对于简短的版本，我认为可以将内容截断到第二段，或者从技术上讲，在两段`\r\n`交叉之后。所以我使用了这段代码：

```
substr($content, 0, strpos($content, "\r\n\r\n", strpos($content, "\r\n\r\n") + 1)); 
```

由于计数`\r\n`是硬编码的，并且也是以一种奇怪的方式计算的，*（在第一个位置和东西之后使用 +1）*，有没有更好的方法可以制作一个函数，它表示`limitContent($content, $lines = 2)`并将行数传递给`$lines`参数，默认情况下，它会截断为两行？

我目前的代码是：

```
/**
 * Break down the content of Markdown upto 2 breaks. 
 * @param string Markdown String
 * @return string Markdown String upto 2 breaks
 */
function limitContent($content)
{
    return substr($content, 0, strpos($content, "\r\n\r\n", strpos($content, "\r\n\r\n") + 1));
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:41:52.947

您可以`explode()`为此使用：

```
join("\r\n", array_slice(explode("\r\n\r\n", $content, $lines + 1), 0, $lines)); 
```

或者类似地，使用`preg_split()`- 来匹配 LF 和 CRLF：

```
join("\r\n", array_slice(preg_split("/(?:\r?\n){2}/", $content, $lines), 0, $lines)); 
```

不过，上述解决方案的内存效率不是很高，因为最后一次匹配后的全部内容被复制到最后一个数组元素中。

您也可以使用`strtok()`，因为这可能更节省内存：

```
$result = '';
for ($i = 0, $tok = strtok($s, "\r\n\r\n"); false !== $tok && $i < $lines; ++$i, $tok = strtok("\r\n\r\n")) {
        $result .= $t . PHP_EOL;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T08:39:34.180

好吧，我误会了。这是你想要的吗？

```
function limitContent($content, $lines=2)
{
    $tmp=explode("\r\n\r\n", $content);
    $tmp=array_slice($tmp,0,$lines);
    return implode("\r\n", $tmp);
} 
```

[编辑] 稍微好一点的是：

```
function limitContent($content, $lines=2)
    {
        $tmp=explode("\r\n\r\n", $content, $lines+1);
        unset($tmp[$lines]);
        return implode("\r\n", $tmp);
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-01-05T11:16:01.563

[我对Nin 的回答](https://stackoverflow.com/questions/12172659/need-a-scalable-way-to-limit-content-by-using-substr-and-strpos-in-php/12173905#12173905)中两个选项之间的性能差异很感兴趣，所以我开始快速检查我手头的一些数据。我针对 2 个字符串进行了测试：一个包含许多段落的长字符串和一个包含 2 个段落的长字符串。

`Option 2`原来是`14 times faster`在第一个字符串和`6% faster`第二个字符串上。所以这对第一个字符串有很大的优势。

此外，我将[Praveen Kumar 的](https://stackoverflow.com/questions/12172659/need-a-scalable-way-to-limit-content-by-using-substr-and-strpos-in-php)最初想法变成了一个简单的基于循环的版本并对其进行了测试：

```
function limitContent($content, $lines=2) {
    $pos = -1;
    for ($i = 0; $i < $lines; $i++) {
        $pos = strpos($content, "\r\n\r\n", $pos+1);
        if ($pos === false) return $content;
    }
    return substr($content, 0, $pos);
} 
```

这个版本原来是`178 times faster`第一个字符串上的另一个版本和`25 times faster`第二个字符串上的另一个版本。虽然这些数字可能会根据数据和 php 版本对您发生很大变化，但我认为它清楚地表明转换为数组并返回很慢。如果性能不是问题，我可能仍然会使用 Nin 的想法，因为它非常易于阅读。

# spring-batch-admin - 如何将 Spring Batch Admin 集成到现有的 Maven 项目中

> ID：12172660
> 
> 赞同：4
> 
> 时间：2012-08-29T07:16:06.507
> 
> 标签：spring-batch-admin

我想将 spring batch admin 集成到我现有的 maven 项目中。另外我希望只有一个war文件应该生成我现有的maven项目的文件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-17T13:03:56.430

@Rajeev Ranjan

Spring 批处理管理 Web UI 是一个参考实现。其中大部分是可定制的，并从代码外部化为 XML 文件和 UI 模板。

有关我如何将其嵌入到自己的应用程序中的示例，请参见[https://github.com/regunathb/Trooper/tree/master/batch-core/src/main/resources/WEB-INF 。](https://github.com/regunathb/Trooper/tree/master/batch-core/src/main/resources/WEB-INF)此处提供了屏幕截图：[https ://github.com/regunathb/Trooper/wiki/Trooper-Batch-Web-Console](https://github.com/regunathb/Trooper/wiki/Trooper-Batch-Web-Console)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T16:15:55.530

实现此目的的一种方法是创建您的 maven 项目一个 Web 应用程序项目并将 spring 批处理管理示例 Web 资源（最少为 web.xml、index.jsp）复制到它。在你的 pom.xml 中添加 spring-batch-admin-manager 和 spring-batch-admin-resource 依赖项。建立你的应用程序战争，你就完成了。

# facebook - 网址中的 Facebook 页面选项卡应用程序名称

> ID：12172661
> 
> 赞同：0
> 
> 时间：2012-08-29T07:16:14.167
> 
> 标签：facebook

我可以在 url 中设置应用程序名称吗？就像我可以为页面设置它，例如 facebook.com/mypagename/myapp 而不是 facebook.com/mypagename/app_123123123 ？我知道我可以使用apps.facebook.com/myapp，但我想在页面上使用它，而不是在那里。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:46:59.357

No, unfortunately you can not.

# c++ - 将类成员存储为 RapidXML 数据类型

> ID：12172662
> 
> 赞同：0
> 
> 时间：2012-08-29T07:16:16.317
> 
> 标签：c++, rapidxml

我在存储 RapidXML 数据类型的成员变量时遇到问题。我也遇到了成员函数的返回类型的这个问题。

只有在类的文件头中我才会遇到这个问题。在函数中使用这些数据类型不会产生任何问题。

```
class Level
{
public:
    //Level();
    //~Level();
    sf::Sprite Update(Camera& _currentView);
    char* ReadFile(std::string& _level);
    xml_node<>* ParseFile(std::string _level, std::string _tileset);
    void BuildLayers(xml_node<>* _fileNode);
    void BuildClips();
    void BuildPositions();

private:
    int tileWidth, tileHeight;
    int totalWidth, totalHeight;
    std::string tilesetSource;
    sf::Texture tilesetTexture;
    int tilesetImageWidth, tilesetImageHeight;
    //int tilesetWidth, tilesetHeight;
    std::vector<std::vector<Tile*>> tilesVector;
    //std::vector<Tile*> tileVector;
}; 
```

这产生了这样的错误：

```
error C2143: syntax error : missing ';' before '<'
error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
error C2238: unexpected token(s) preceding ';' enter code here 
```

我已经尝试搜索与此问题相关的任何内容，但没有找到任何内容。因此，非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:41:43.897

它看起来像一个命名空间问题。添加`using namespace rapid_xml`或替换`xml_node`为`rapid_xml::xml_node`.

# perl - 将 2 个 pdf 文件与 PDF:API2 合并

> ID：12172663
> 
> 赞同：0
> 
> 时间：2012-08-29T07:16:30.983
> 
> 标签：perl, pdf

有没有人有使用 PDF:API2 合并 2 个 pdf 文件的脚本？我只安装了这个 perl 模块，并且我的主机不允许我访问 c 编译器以进一步安装 perl 模块。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T10:22:23.470

这是一个*一次性质量*脚本，向您展示如何使用`PDF::API2`.

```
#!/usr/bin/perl
use strict;
use warnings;

use PDF::API2;

# files to merge
my @input_files = (
    'document1.pdf',
    'document2.pdf',
    'document3.pdf',
);
my $output_file = 'new.pdf';

# the output file
my $output_pdf = PDF::API2->new(-file => $output_file);

foreach my $input_file (@input_files) {
    my $input_pdf = PDF::API2->open($input_file);
    my @numpages = (1..$input_pdf->pages());
    foreach my $numpage (@numpages) {
        # add page number $numpage from $input_file to the end of 
        # the file $output_file
        $output_pdf->importpage($input_pdf,$numpage,0);        
    }
}

$output_pdf->save(); 
```

# android - 无法解析响应代码 Android FTP 应用程序中的错误 (MalformedServerReplyException)

> ID：12172673
> 
> 赞同：0
> 
> 时间：2012-08-29T07:17:07.007
> 
> 标签：android, ftp, ftp-client

我想将文件从 android mobile 发送到 PC。我使用下面的代码来完成它。它抛出错误：

> MalformedServerReplyException：无法解析响应代码。

请建议

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
            WindowManager.LayoutParams.FLAG_FULLSCREEN);
    setContentView(R.layout.activity_main);
    FtpConnect();
}

public static void FtpConnect() {
    String userName = "usr";
    String passWord = "pwd";
    String ftpAddress = "192.100.11.10"; // this isnt the ip address I was
                                            // using...
    String retrieveFromFTPFolder = "/mnt/sdcard/DCIM/Camera/Pictures/";
    String strLine;
    DataInputStream inputStream = null; 
    BufferedReader bufferedReader = null;
    FTPClient client = null;
    FTPFile[] ftpFiles = null;
    int reply;

    try {

        client = new FTPSClient();

        Log.e("","CLIENT OBJECT OK...");
        client.setListHiddenFiles(true);
        Log.e("","CLIENT HIDDEN FILES OK...");
        client.setBufferSize(1024);

        client.setConnectTimeout(60000);

        Log.e("","set CLIENT  timeout and buf size OK...");
        client.connect(ftpAddress,22); // this right here is where it fails
        Log.e("","CONNECTION OK...");

        client.login(userName, passWord);
        Log.e("","AUthentication OK...");
        client.setFileType(FTP.BINARY_FILE_TYPE);
        Log.e("","setFIletYPE OK...");
        result=client.storeFile("/mnt/sdcard/DCIM/Camera/2012-05-10 22.14.43.jpeg",inputStream);
        Log.e("RESULT","RESULT : "+result);
        if (!client.completePendingCommand()) {
            client.logout();
            client.disconnect();
            System.err.println("File transfer failed.");
            Log.e("RESULT","RESULT : "+result);
        }

    } catch (Exception e) {
        Log.e("RESULT","Exception : "+e);
        if (client.isConnected()) {
            try {
                client.logout();
                client.disconnect();
            } catch (IOException f) {
                Log.e("RESULT",""+f);
            }
        }
    } finally {
        if (client.isConnected()) {
            try {
                client.logout();
                client.disconnect();
            } catch (IOException f) {
                Log.e("RESULT",""+f);
            }
        } 
```

它抛出的错误是

```
08-29 12:41:21.452: E/(2111): CLIENT OBJECT OK...
08-29 12:41:21.452: E/(2111): CLIENT HIDDEN FILES OK...
08-29 12:41:21.452: E/(2111): set CLIENT  timeout and buf size OK...
08-29 12:41:24.686: I/global(2111): Default buffer size used in BufferedReader constructor. It would be better to be explicit if an 8k-char buffer is required.
08-29 12:41:24.694: I/global(2111): Default buffer size used in BufferedWriter constructor. It would be better to be explicit if an 8k-char buffer is required.
08-29 12:41:24.882: E/RESULT(2111): Exception : org.apache.commons.net.MalformedServerReplyException: Could not parse response code.
08-29 12:41:24.882: E/RESULT(2111): Server Reply: SSH-2.0-OpenSSH_5.8p1 Debian-7ubuntu1
08-29 12:41:25.014: E/RESULT(2111): org.apache.commons.net.MalformedServerReplyException: Could not parse response code.
08-29 12:41:25.014: E/RESULT(2111): Server Reply: Protocol mismatch.
08-29 12:41:25.014: E/RESULT(2111): org.apache.commons.net.ftp.FTPConnectionClosedException: Connection closed without indication. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T13:58:44.533

只是因为FTP服务器没有在指定IP启动服务器，现在可以了

# sql - SQL Server - 在单行中返回多行值

> ID：12172679
> 
> 赞同：1
> 
> 时间：2012-08-29T07:17:31.433
> 
> 标签：sql, sql-server

我有这张表，其中包含 SQL Server 中 3 名员工的电子邮件地址

表结构是

```
EmployeeId, EmployeeName, Employee email address 
```

数据是这样的：

```
1   Conrad   Conrad@test.com 
```

我需要的输出是单行/一列中的电子邮件地址：

```
conrad@test.com; ali@test.com; will@test.com 
```

有人可以帮忙吗。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:27:36.097

你可以试试这个：[SQL Fiddle](http://sqlfiddle.com/#!3/b50f8/1)

```
SELECT SUBSTRING(
(SELECT ';' + e.EmailAddress
FROM Employee e
FOR XML PATH('')),2,8000) AS CSV 
```

从 SQL Server 2005 开始。[在这里查看更多](http://blog.sqlauthority.com/2009/11/25/sql-server-comma-separated-values-csv-from-table-column/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:29:34.457

`FOR XML PATH()`是 SQL Server 的好解决方案：

```
WITH x AS (
    SELECT 'x@example.com' AS mail
    UNION
    SELECT 'y@example.com'
    UNION
    SELECT 'z@example.com'
)
SELECT
    STUFF((SELECT
        mail + ','
    FROM
        x
    FOR XML PATH(''), TYPE, ROOT).value('root[1]', 'nvarchar(max)'), 1, 1, '') 
```

上面的查询返回`@example.com,y@example.com,z@example.com,`。

在您的情况下，查询看起来像（可能包含错误）：

```
SELECT
  EmployeeId, 
  EmployeeName, 
  (SELECT
        STUFF((SELECT
            [e.email address] + ','
        FROM
            employees e
        WHERE
                e.EmployeeId = EmployeeId
        FOR XML PATH(''), TYPE, ROOT).value('root[1]', 'nvarchar(max)'), 1, 1, '')) AS mails
   FROM
     employees 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T07:36:46.733

你可以试试`COALESCE`

```
DECLARE @listStr VARCHAR(MAX)

select @listStr = COALESCE(@listStr+',','') + Employee_email_address from table1 where EmployeeId = @EmployeeId
select @listStr 
```

上面的查询会返回@example.com,y@example.com,z@example.com,

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:32:14.063

您可以为此使用光标。

```
DECLARE @email VARCHAR(256) 
DECLARE @EmailCollection VARCHAR(MAX)

DECLARE db_cursor CURSOR FOR  
SELECT Email 
FROM tableName

OPEN db_cursor   
FETCH NEXT FROM db_cursor INTO @email   

WHILE @@FETCH_STATUS = 0   
BEGIN   

       SET  @EmailCollection = @EmailCollection + @email + ';'
       FETCH NEXT FROM db_cursor INTO @email   
END   

CLOSE db_cursor   
DEALLOCATE db_cursor 
```

最后你可以返回@EmailCollection

# mysql - 时间戳，日期时间作为默认值作为 current_timestamp [PARTITION]

> ID：12172681
> 
> 赞同：0
> 
> 时间：2012-08-29T07:17:37.160
> 
> 标签：mysql

我有一个名为的表列**`recorddate`**，它的时间戳数据类型为 default `CURRENT_TIMESTAMP`。现在我对维护部分有几个问题。

1.  我应该将此表分区`recorddate`为`rangekey`. 但是现在它不允许在（子）分区函数中使用与时区相关的表达式的分区键。

2.  如果我将*时间戳*数据类型更改为创建分区的*日期*`recorddate`时间，但它不允许默认`CURRENT_TIMESTAMP`数据库级别。

    2.1 . 当我看到论坛说**MySQL 5.6.5** has *datetime* datatype can have `CURRENT_TIMESTAMP`, `now()`. 它允许`rangebykey`分区吗？

[另一个萦绕在我脑海中的想法是，选择一个仍在开发中的发行版会更好]

任何建议或解决方法，我真的不喜欢`recordate`在插入时必须打开触发器的概念，如果为空。由于它每天记录近*500 万次*，峰值时间在该表上达到每秒 8 次事务。这就是落入分区的意图。

# shell - shell 脚本中的 AWK - 如何基于共享密钥（2 个公共字段）比较和合并两个文件？

> ID：12172682
> 
> 赞同：1
> 
> 时间：2012-08-29T07:17:39.267
> 
> 标签：shell, unix, awk, ksh

有人可以帮忙比较两个文件吗，我使用了以下命令，但我无法成功，

awk -F, 'NR == FNR {a[$1,$2]; next} (($1,$2) in a )' temp1.dat temp2.​​dat

这是我的需要，需要比较以下两个 dat 文件中的前两个字段，并按预期在 file3 中合并结果（第一个字段，第二个字段，temp1.dat 的 3 个字段，temp2.​​dat 的 3 个字段）

文件 1：temp1.dat

```
A, AB,100
B,BB,200
C,CC,300 
```

文件 2：temp2.​​dat

```
A,AB,10
C,CC,30
D,DF, 4 
```

文件3：输出

```
A, AB,100,10
C,CC,300,30 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T09:49:24.273

`awk -F, 'BEGIN{OFS=","}FNR==NR{a[$1$2]=$3;next}($1$2 in a && $3=$3","a[$1$2])' file2 file1`

测试如下：

```
> cat file1
A,AB,100
B,BB,200
C,CC,300
> cat file2
A,AB,10
C,CC,30
D,DF,4
> awk -F, 'BEGIN{OFS=","}FNR==NR{a[$1$2]=$3;next}($1$2 in a && $3=$3","a[$1$2])' file2 file1
A,AB,100,10
C,CC,300,30
> 
```

*   `FNR==NR{a[$1$2]=$3;next}`申请第一个文件**file2**
*   它说直到`FNR==NR`执行代码块。
*   FNR=当前文件的行号
*   NR= 两个文件的总行数。
*   所以在上面的语句之后，一个关联数组，索引为 as `$1$2`，值为`$3`。
*   现在`($1$2 in a && $3=$3","a[$1$2])` 执行 for `FNR!=NR`.where ，它检查索引 $1$2 是否作为数组中的索引存在，然后第二个条件是将 file1 的第三个字段更改为，`$3=$3","a[$1$2]`因此现在`$0`包含更改了其中第三个字段的 common( `$1$2`) 行。

也必须为四个文件编写类似的逻辑。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T15:40:39.653

尝试：

```
awk -F, '{i=$1 SUBSEP $2} NR==FNR{A[i]=$3; next} i in A{print $0,A[i]}' file2 file1 
```

# sql - 此组合预期结果的 SQL 查询 - 支点？

> ID：12172683
> 
> 赞同：0
> 
> 时间：2012-08-29T07:17:42.717
> 
> 标签：sql, database

很抱歉这个冗长的问题，但我不确定如何构建我想要的结果所需的这个 SQL 查询。我将概述我当前运行并正常工作的两个查询，并概述我需要的结果。任何帮助将不胜感激。

第一个查询：

```
SELECT c.name AS name, count(*) AS total, sum(a.views) AS total_views, sum(a.views) / count(*) as average_views
FROM table_a a
JOIN table_b b ON b.id = a.b_id
JOIN table_c c ON c.id = b.c_id
WHERE a.status = 0 AND a.type in (2, 4, 5)
GROUP BY c.name ORDER BY c.name; 
```

结果：

```
--------------------------------------------
name | total | total_views | average_views |
--------------------------------------------
aaaa |     2 |         150 |            75 |
bbbb |     1 |          75 |            75 |
dddd |     1 |          25 |            25 |
-------------------------------------------- 
```

第二个查询：

```
SELECT c.name AS name, count(*) AS total, sum(a.views) AS total_views, sum(a.views) / count(*) as average_views
FROM table_a a
JOIN table_b b ON b.id = a.b_id
JOIN table_c c ON c.id = b.c_id
WHERE a.status = 0 AND a.type in (1, 3)
GROUP BY c.name ORDER BY c.name; 
```

第二个结果：

```
--------------------------------------------
name | total | total_views | average_views |
--------------------------------------------
aaaa |     2 |         200 |           100 |
bbbb |     1 |         100 |           100 |
dddd |     1 |          25 |            25 |
-------------------------------------------- 
```

给定这些具有此数据的表：表 table_a：

```
-----------------------------------
id | b_id | views | type | status |
-----------------------------------
 1 |  100 |   100 |    2 |      0 |
 2 |  200 |    75 |    4 |      0 |
 3 |  300 |    50 |    5 |      0 |
 4 |  400 |    25 |    2 |      0 |
 5 |  500 |   100 |    1 |      0 |
 6 |  600 |   100 |    1 |      0 |
 7 |  700 |   100 |    3 |      0 |
 8 |  800 |    25 |    3 |      0 |
----------------------------------- 
```

表table_b：

```
-------------
id  | c_id  |
-------------
100 |  1000 |
200 |  2000 |
300 |  1000 |
400 |  4000 |
500 |  1000 |
600 |  2000 |
700 |  4000 |
800 |  1000 |
------------- 
```

表table_c：

```
-------------
id   | name |
-------------
1000 | aaaa |
2000 | bbbb |
3000 | cccc |
4000 | dddd |
------------- 
```

这是我真正想要的表，它只是上述两个表的串联，公共列是名称列。

```
-------------------------------------------------------------------------------------------------------------------------------
name | total_type245 | total_views_type245 | average_views_type245 | total_type13 | total_views_type13 | average_views_type13 |
-------------------------------------------------------------------------------------------------------------------------------
aaaa |             2 |                 150 |                    75 |            2 |                200 |                  100 |
bbbb |             1 |                  75 |                    75 |            1 |                100 |                  100 |
dddd |             1 |                  25 |                    25 |            1 |                 25 |                   25 |
------------------------------------------------------------------------------------------------------------------------------- 
```

这很可能是一个非常简单的查询，但我不知道该怎么做。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:27:22.600

只需将结果连接在一起；

```
SELECT ResultsA.name, 
total_type245, 
total_views_type245, 
average_views_type245,
total_type13,
total_views_type13,
average_views_type13

FROM
(
    SELECT c.name AS name, count(*) AS total_type245, sum(a.views) AS total_views_type245, sum(a.views) / count(*) as average_views_type245
    FROM table_a a
    JOIN table_b b ON b.id = a.b_id
    JOIN table_c c ON c.id = b.c_id
    WHERE a.status = 0 AND a.type in (2, 4, 5)
    GROUP BY name

) as ResultsA

JOIN 
(
    SELECT c.name AS name, count(*) AS total_type13, sum(a.views) AS total_views_type13, sum(a.views) / count(*) as average_views_type13
    FROM table_a a
    JOIN table_b b ON b.id = a.b_id
    JOIN table_c c ON c.id = b.c_id
    WHERE a.status = 0 AND a.type in (1, 3)
    GROUP BY name

) as ResultsB ON ResultsA.name = ResultsB.name

ORDER BY ResultsA.name 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T22:52:43.057

好的，所以在马特的帮助下，这个查询可以工作：

```
SELECT c.name, total_type245, total_views_type245, average_views_type245, total_type13, total_views_type13, average_views_type13
FROM table_c c
LEFT JOIN (
    SELECT c.name AS name, count(*) AS total_type245, sum(a.views) AS total_views_type245, sum(a.views) / count(*) as average_views_type245
    FROM table_a a
    JOIN table_b b ON b.id = a.b_id
    JOIN table_c c ON c.id = b.c_id
    WHERE a.status = 0 AND a.type in (2, 4, 5)
    GROUP BY name
) as ResultsA ON ResultsA.name = c.name
LEFT JOIN (
    SELECT c.name AS name, count(*) AS total_type13, sum(a.views) AS total_views_type13, sum(a.views) / count(*) as average_views_type13
    FROM table_a a
    JOIN table_b b ON b.id = a.b_id
    JOIN table_c c ON c.id = b.c_id
    WHERE a.status = 0 AND a.type in (1, 3)
    GROUP BY name
) as ResultsB ON ResultsB.name = c.name; 
```

这是对工作最有效的查询吗？似乎我重复了很多查询，唯一的变化是 a.type 值是不同的。

# javascript - d3.js - 更新 GeoJSON 元素

> ID：12172688
> 
> 赞同：3
> 
> 时间：2012-08-29T07:18:30.547
> 
> 标签：javascript, d3.js

我正在制作一张地图，其中我首先使用 GeoJSON 文件定义的路径定义状态轮廓，以及一些额外的信息，例如状态名称。加载后，我想填充状态并根据来自 csv 的数据填充工具提示，使用一些按钮和复选框（年份，不同的数据子集）。

我发现当我第二次使用 csv 而不是 json 文件在状态对象上调用 .data() 时，路径会消失，因为它们只存在于 json 中。有没有办法只能更新某些变量？有没有更好的方法将状态对象绑定到动态数据？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T18:36:43.537

我通常采用的方法以及在[choropleth map example](http://mbostock.github.com/d3/talk/20111018/choropleth.html)中设置代码的方式是分别加载这两个文件，然后在需要时加入 feature id 上的数据。如果您按顺序加载文件，这是最简单的，如下所示：

```
// make a container
var counties = svg.append("svg:g")
    .attr("id", "counties");

// load the data you're showing
d3.json("unemployment.json", function(data) {
  // load the geo data (you could reverse the order here)
  d3.json("us-counties.json", function(json) {
    // make the map
    counties.selectAll("path")
        .data(json.features)
      .enter().append("svg:path")
        .attr("d", path);
    // now join the data, maybe in a separate function
    update(data)
  });
}); 
```

在您的`update()`函数中，您获取数据并将操作（颜色等）应用于基于 id 的地图：

```
update(data) {
    // look at the loaded counties
    counties.selectAll("path")
      // update colors based on data
      .attr('fill', function(d) {
        // get the id from the joined GeoJSON
        var countyId = d.id;
        // get the data point. This assumes your data is an object; if your data is
        // a CSV, you'll need to convert it to an object keyed to the id
        var datum = data[countyId];
        // now calculate your color
        return myColorScale(datum);
      });
} 
```

# c# - Windows 8 直播到服务器？

> ID：12172693
> 
> 赞同：0
> 
> 时间：2012-08-29T07:18:54.687
> 
> 标签：c#, windows-8, microsoft-metro

如何在 Windows 8 Metro App 中进行直播（从网络摄像头）到服务器？有SDK吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T12:36:47.480

没有 SDK。请参阅实时通信示例，了解如何执行您想要的操作... [http://code.msdn.microsoft.com/windowsapps/Simple-Communication-Sample-eac73290](http://code.msdn.microsoft.com/windowsapps/Simple-Communication-Sample-eac73290)

# android - JSON解析不使用URL读取android中的json文件

> ID：12172698
> 
> 赞同：1
> 
> 时间：2012-08-29T07:19:10.670
> 
> 标签：android, json

我正在使用 url 来获取文件进行解析。现在我想读取 sdcard 中的文件进行解析。我该怎么做？这是我的代码

从 url 读取文件

```
 private static String url = "http://10.0.2.2/device1.json";
    JSONObject  json = jParser.getJSONFromUrl(url);
            devices = json.getJSONArray(TAG_DEVICES); 
```

现在我想通过读取 sdcard 中的文件来做到这一点

```
 java.io.File device = new java.io.File("/mnt/sdcard/device1.json");
    FileReader device_Fr = new FileReader(device); 
```

接下来如何传递这个文件进行解析？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:24:37.163

使用此代码

将文件中的数据读入字符串并将其传递给 JSONObject。

```
BufferedReader reader = new BufferedReader(new FileReader(filePath));
    String line, results = "";
    while( ( line = reader.readLine() ) != null)
    {
        results += line;
    }
    reader.close();

JSONObject obj = new JSONObject(results); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:24:10.133

一种方法是读取 json 并将其存储在字符串中。然后像这样解析它：

```
 String jsonStr = // read from file
    JSONObject  json = new JSONObject( jsonStr);
    // parse

　　devices = json.getJSONArray(TAG_DEVICES); 
```

# javascript - 您可以更改 javascript 确认上的按钮标题吗？

> ID：12172704
> 
> 赞同：0
> 
> 时间：2012-08-29T07:19:33.090
> 
> 标签：javascript, confirm

只是想知道是否有一种简单的方法可以更改 javascript 确认框窗口上的“是”、“取消”标题？如果没有，似乎有点限制！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:23:48.810

Yes, No, Cancel 是浏览器的基本功能，不能修改。但是您可以使用 jQuery 制作替代项，例如：[是或否确认框](https://stackoverflow.com/questions/3519861/yes-or-no-confirm-box-using-jquery)

# jquery - 动态调整分割成部分的图像大小

> ID：12172710
> 
> 赞同：1
> 
> 时间：2012-08-29T07:19:49.733
> 
> 标签：jquery, html, css, jquery-mobile

我正在使用 jquery mobile 开发移动应用程序。我正在寻找一种解决方案来完成以下任务：

大图像分为三个单独的可点击图像

![例子](../Images/fe4dd22e74cb19005fb0e4ef58232a87.png)

图像必须始终看起来像一张大图像，但必须调整大小以适应所有可用空间，同时保持宽/高比。

有没有人做过这样的事情？

我尝试使用表格并使用 jquery 移动“内容网格”但没有成功。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T08:03:03.680

我会将图像保存为一张图像，并使用以下 - 底部的工作小提琴链接。您可以更改“low_starts_here”和“right_starts_here”以满足您的需求。如果这对您更好，您也可以在 CSS 中切换到“width:auto;height:100%”。

html:

```
<img src="/myimage.jpg" id="myimage" /> 
```

CSS：

```
#myimage{
 width:100%;
 height:auto;    
} 
```

jQuery：

```
$(function() {    
    $('#myimage').on('click', function(e){
        var area = '';
        var low_starts_here = 0.6;
        var right_starts_here = 0.5;
        var x = Math.round(e.pageX - $(this).offset().left);
        var y = Math.round(e.pageY - $(this).offset().top);
        var w = $(this).width();
        var h = $(this).height();
        if(y/h > low_starts_here){
            // bottom area - do something
            alert('bottom');
        }
        else{
            if(x/w > right_starts_here){
               // top right area - do something
               alert('top right');
            }
           else{
               // top left area - do something
               alert('top left');
            }
        }

    });
}); 
```

[http://jsfiddle.net/uLHhQ/6/](http://jsfiddle.net/uLHhQ/6/)

# java - 如何将日期作为参数传递给碧玉报告

> ID：12172711
> 
> 赞同：0
> 
> 时间：2012-08-29T07:19:57.067
> 
> 标签：java, jasper-reports

我正在尝试创建以 start_date 和 end_date 作为参数的*JR*报告。

查询：

```
SELECT * FROM emp WHERE joining_date BETWEEN $P{frm_date} AND $P{to_date} 
```

编码：

```
Date from_date = dt_from_date.getDate();
Date to_date = dt_to_date.getDate();
java.sql.Date frm_dte = new java.sql.Date(from_date.getTime());
java.sql.Date to_dte = new java.sql.Date(to_date.getTime());
try {
    HashMap map = new HashMap();
    map.put("$P{frm_date}", frm_dte);
    map.put("$P{to_date}", to_dte);
    JasperPrint jp = JasperFillManager.fillReport(is, map, con);
    JRViewer jv = new JRViewer(jp);
    JFrame jf = new JFrame();
    jf.getContentPane().add(jv);
    jf.validate();
    jf.setVisible(true);
    jf.setSize(new Dimension(800, 600));
    jf.setLocation(300, 100);
    jf.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);
} catch (JRException ex) {
    ex.printStackTrace();
} 
```

我们可以将两个参数传递给表中的同一列吗？例如：

```
map.put("joining_date", frm_dte); 
map.put("joining_date", to_dte); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:33:20.630

您可以将日期作为字符串格式类型传递，如下所示，

```
if(from_date!=null)
{
      formattedEndDate=new SimpleDateFormat("yyyy-MM-dd").format(from_date);
}

if(getStartDate()!=null)
{
    formattedStartDate=new SimpleDateFormat("yyyy-MM-dd").format(to_date);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:57:54.647

你的代码是错误的。

您应该传递如下参数：

```
Map<String, Object> map = new HashMap<String, Object>();
map.put("frm_date", frm_dte);
map.put("to_date", to_dte); 
```

您不需要添加*`P${}`*到参数的名称。

* * *

*JasperReports*分发包中有很多示例。

您可以查看[此示例](http://jasperreports.sourceforge.net/sample.reference/datasource/index.html#datasources)以获取更多详细信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T08:03:20.917

```
private JasperPrint generateReport() {
    Connection conn = null;
    JasperPrint myJPrint = null;
    try {

        conn =yourconnectionName;

        // parameters to be passed to the report
        Map<String, Object> params = new HashMap();

        // Loading my jasper file
        JasperDesign jasperDesign = null;
        JasperReport jasperReport = null;

        params.put("REPORT_DIR",yourClassName.class.getClassLoader()
                        .getResource("yourJasperFileName.jrxml").toString().replace("yourJasperFileName.jrxml", ""));
        jasperDesign = JasperManager.loadXmlDesign(yourClassName.class
                .getClassLoader().getResourceAsStream("yourJasperFileName.jrxml"));
        params.put("joining_date", frm_dte);
         params.put("leaving_date", frm_dte);
        jasperReport = JasperCompileManager.compileReport(jasperDesign);

        /*
         * Filling the report with data from the database based on the
         * parameters passed.
         */
        myJPrint = JasperFillManager.fillReport(jasperReport, params, conn);
        params.clear();

    } catch (JRException ex) {
        ex.printStackTrace();
    }

    return myJPrint;

} 
```

# c# - 如何在 C# 中更改文本框焦点？

> ID：12172713
> 
> 赞同：0
> 
> 时间：2012-08-29T07:19:58.260
> 
> 标签：c#, visual-studio

我在 c# 的 Windows 窗体框架中工作，我开发了一个由两个文本框（名称和地址）组成的表单。问题是当我启动我的应用程序时，重点是地址而不是名称，我该如何更改此设置？先感谢您。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T07:23:48.823

希望这会帮助你。选择将更改为用户输入

```
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
        textBoxName.Select();
        textBoxName.Focus();

    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:21:24.057

在`Form_Load`事件调用中：

```
yourTextBox.Focus(); 
```

您可以查看msdn上的[Control.Focus()](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.focus%28v=vs.100%29.aspx)

如果您不想使用，也可以查看这篇文章来[设置 Tab 键顺序](http://www.platinumbay.com/blogs/dotneticated/archive/2007/12/10/winforms-tab-order.aspx)`Focus()`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T07:22:28.567

只需将文本框的 Tab Index 属性设置为 0。否则您可以设置在加载事件时调用焦点方法

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-29T07:22:59.093

像这样将焦点放在文本框上

```
txtbxname.Focus(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-10T10:15:53.553

我个人使用 ActiveControl 属性。到今天为止，从来没有让我失望过。

```
ActiveControl = Address; 
```

# asp.net - 将通用列表属性绑定到 Datalist 内的标签

> ID：12172719
> 
> 赞同：1
> 
> 时间：2012-08-29T07:20:13.720
> 
> 标签：asp.net

我想将 Label 绑定到 Container.DataItem 内的通用列表的属性。

在这里，我在 Container.DataItem 中收到一个列表，想要进入这个包含列表的 Container.DataItem。

aspx 代码

`<asp:Label ID="Label1" runat="server" Text='<%# Container.DataBind %>'></asp:Label>`

输出 ：

```
System.Collection.Generic.List'1[Sizes] 
```

C#代码：

```
List<List<Sizes>> Combosizes =new List<List<Sizes>>();

foreach (var i in skuIdsList)
 {
 var Sizes_list = (from item in sizes
 where item.SkuId == i.skuid
 select new Sizes
    {
     skusizeid = item.SkuSizeId,
     sizevalue = item.Sizevalue
    }).ToList();

   Combosizes.Add(Sizes_list);
 }

DataList3.DataSource = Combosizes;
DataList3.DataBind(); 
```

这是我已将 List> 绑定到 DataList3。我正在尝试将 DataList3 内的标签与 List 的第一个索引绑定。

有什么解决办法吗？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T09:38:50.057

```
List<List<Sizes>> Combosizes =new List<List<Sizes>>();

foreach (var i in skuIdsList)
{
var Sizes_list = (from item in sizes
where item.SkuId == i.skuid
select new Sizes
{
skusizeid = item.SkuSizeId,
sizevalue = item.Sizevalue,
description = item.Description
}).ToList();

Combosizes.Add(Sizes_list);
}

DataList3.DataSource = Combosizes;
DataList3.DataBind(); 
```

您可以在 datalist item databound Event 处将值绑定到标签。

```
 protected void DataList3_ItemDataBound(object sender, DataListItemEventArgs e)
{
var des = (List<Sizes>)(e.Item.DataItem);
Label lblsize = e.Item.FindControl("lblsize") as Label;
lblsize.Text = des.First().description;
} 
```

# eclipse - 使用 Maven 时是否应该将 Eclipse 设置和 .project 文件放入 SCM？

> ID：12172721
> 
> 赞同：2
> 
> 时间：2012-08-29T07:20:19.873
> 
> 标签：eclipse, svn, maven, version-control

使用 m2eclipse 插件处理 Maven 项目时`.classpath`，我应该将`.project`文件和文件放在 SCM 上吗？`.settings`从理论上讲，每个开发人员都可以获取源代码并导入 maven 项目。

根据您的经验，这样做更好还是将 Eclipse 文件也放入 SCM 更好？一些开发人员正在使用 InteliJ，所以我不希望这些项目是 Eclipse 特定的。似乎 .project 文件可能会根据已安装的插件集而更改，例如`buildCommand`从更改`org.eclipse.jdt.core.javabuilder`为`org.eclipse.wst.common.project.facet.core.builder`等。

请分享您的知识和经验。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-29T08:00:26.393

根据我的经验，您*不应*包含`.classpath`,`.project`或`.settings`. 重新导入项目所需的所有信息都在 pom 文件中，只要您使用“导入现有 maven 项目”即可。

如果你把所有这些本地的，你很可能最终对不相关的事情进行 SCM 更改，例如不同的条目顺序，某人对其项目偏好进行的本地修改等......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T12:05:15.870

As per my experience , it is safe to check-in .project file as it defines the nature and other properties which is useful for developers who will be creating new workspace. Many times, custom facets needs to be added via Eclipse and you may want to share it with other members of your team provided all others use the same IDE for example RAD. They won't have to go through the pain of again setting and changing project nature, so it might help. Even we had to share our .settings folder in most cases because ppl were facing issues with workspace setup. So all depends on the need and it might help.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-29T12:20:14.970

将 Eclipse 项目文件置于版本控制之下非常方便的一种情况是，当您拥有由插件自动生成的 Java 代码时。Eclipse 在代码生成器运行之前从其配置中删除缺少的源目录。

**更新**

随着最近的 Eclipse 版本（我会说是从 Juno 开始，当然是从 Mars 开始），情况不再如此。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-10-05T07:40:24.530

多年来，m2e 插件得到了极大的改进，现在真的不需要在 SCM 中存储项目设置，因为这些设置是从项目 POM 中正确重新创建的。这还有一个额外的好处，就是允许在同一个项目中使用不同的 Eclipse 版本。

# android - 如何在 Android 中将 Activity 打包成 jar 文件？

> ID：12172722
> 
> 赞同：0
> 
> 时间：2012-08-29T07:20:21.107
> 
> 标签：android

我想制作一个Activity的接口，以便其他人可以使用它，我的activit调用包含图像源的XML文件。我不知道如何将这个Activity打包成jar文件？谢谢。

# vb.net - 使用 VB Net 将数据/参数传递给套接字线程

> ID：12172723
> 
> 赞同：0
> 
> 时间：2012-08-29T07:20:27.913
> 
> 标签：vb.net, sockets, .net

我在我的代码中运行两个 TCP 服务器（一个在 50010 中，另一个在 10250 中）都在单独的线程中

```
 Private Sub frmMainScreen_Load(ByVal eventSender As Object, ByVal eventArgs As EventArgs) Handles MyBase.Load

    Dim Local_PortNum As String = Read_GlobalINI_File("TCP-IP CONFIGURATION", "LOCAL_PORT", "TCPIP_Config")

    Read_FileLocation()
    Dim s As New ClsAutomation_TcpClient
    Dim t As New ClsAutomation_TcpClient

    trd = New Thread(Sub() s.Main()) ' listens 55000 port
    trd1 = New Thread(Sub() t.Main())' listens 10250 port

    trd.IsBackground = True
    trd.Start()
    trd1.IsBackground = True
    trd1.Start()
    End Sub 
```

这是我的 tcpserver 类

```
Public Class ClsAutomation_TcpClient
Dim clientsList As New Hashtable
Public WithEvents status_bar1 As System.Windows.Forms.Label
Sub Main()
    Dim serverSocket As New TcpListener(IPAddress.Any, 10250)
    Dim clientSocket As TcpClient
    Dim counter As Integer
    Dim clientIPAddress As String

    serverSocket.Start()
    MsgBox("Chat Server Started ....")
    counter = 0

    While (True)
        counter += 1
        clientSocket = serverSocket.AcceptTcpClient()
        Dim bytesFrom(10024) As Byte
        Dim dataFromClient As String
        Dim networkStream As NetworkStream = clientSocket.GetStream()
        networkStream.Read(bytesFrom, 0, CInt(clientSocket.ReceiveBufferSize))
        dataFromClient = System.Text.Encoding.ASCII.GetString(bytesFrom)
        dataFromClient = dataFromClient.Substring(0, dataFromClient.IndexOf("$"))
        Dim ipend As Net.IPEndPoint = clientSocket.Client.RemoteEndPoint
        clientIPAddress = ipend.Address.ToString()
        clientsList(clientIPAddress) = clientSocket
        broadcast(clientIPAddress + " Joined ", dataFromClient, False)

        ' MsgBox(dataFromClient + " Joined chat room ")
        Dim client As New handleClinet
        client.startClient(clientSocket, dataFromClient, clientsList)
    End While
    clientSocket.Close()
    serverSocket.Stop()
    MsgBox("exit")
End Sub

Sub msg(ByVal mesg As String)
    mesg.Trim()
    MsgBox(" >> " + mesg)
End Sub

Private Sub broadcast(ByVal msg As String, ByVal uName As String, ByVal flag As Boolean)

    Dim Item As DictionaryEntry
    For Each Item In clientsList
        Dim broadcastSocket As TcpClient
        broadcastSocket = CType(Item.Value, TcpClient)
        Dim broadcastStream As NetworkStream = broadcastSocket.GetStream()
        Dim broadcastBytes As [Byte]()
        If flag = True Then
            broadcastBytes = Encoding.ASCII.GetBytes(uName + " says : " + msg)
        Else
            broadcastBytes = Encoding.ASCII.GetBytes(msg)
        End If
        broadcastStream.Write(broadcastBytes, 0, broadcastBytes.Length)
        broadcastStream.Flush()
    Next
End Sub

End Class

Public Class handleClinet
Public WithEvents status_bar1 As System.Windows.Forms.Label
Dim clientSocket As TcpClient
Dim clNo As String
Dim clientsList As Hashtable

Public Sub startClient(ByVal inClientSocket As TcpClient, ByVal clineNo As String, ByVal cList As Hashtable)
    Me.clientSocket = inClientSocket
    Me.clNo = clineNo
    Me.clientsList = cList
    Dim ctThread As Threading.Thread = New Threading.Thread(AddressOf doChat)
    ctThread.Start()
End Sub

Private Sub broadcast(ByVal msg As String, ByVal uName As String, ByVal flag As Boolean)
    'Dim Item As DictionaryEntry
    'For Each Item In clientsList
    Dim broadcastSocket As TcpClient
    'broadcastSocket = CType(Item.Value, TcpClient)
    broadcastSocket = Me.clientSocket
    Dim broadcastStream As NetworkStream = broadcastSocket.GetStream()
    Dim broadcastBytes As [Byte]()
    If flag = True Then
        broadcastBytes = Encoding.ASCII.GetBytes(uName + " says : " + msg)
    Else
        broadcastBytes = Encoding.ASCII.GetBytes(msg)
    End If
    broadcastStream.Write(broadcastBytes, 0, broadcastBytes.Length)
    broadcastStream.Flush()
    'Next
End Sub

Private Sub doChat()
    'Dim infiniteCounter As Integer
    Dim requestCount As Integer
    Dim bytesFrom(10024) As Byte
    Dim dataFromClient As String
    Dim sendBytes As [Byte]()
    Dim serverResponse As String
    Dim rCount As String
    requestCount = 0
    While (True)
        Try
            requestCount = requestCount + 1
            Dim networkStream As NetworkStream = clientSocket.GetStream()
            networkStream.Read(bytesFrom, 0, CInt(clientSocket.ReceiveBufferSize))
            dataFromClient = System.Text.Encoding.ASCII.GetString(bytesFrom)
            dataFromClient = _
            dataFromClient.Substring(0, dataFromClient.IndexOf("$"))
            'MsgBox("From client - " + clNo + " : " + dataFromClient)
            rCount = Convert.ToString(requestCount)
            broadcast(dataFromClient, clNo, True)
        Catch ex As Exception
            MsgBox(ex.ToString)
        End Try
    End While
End Sub
End Class 
```

在这里我需要做的是将数据从 btn_click 发送到 (trd) 55000 实例线程......我该怎么做

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:30:28.807

您的问题非常广泛，但简单来说：

您需要创建一个[NetworkStream](http://msdn.microsoft.com/en-us/library/system.net.sockets.networkstream)对象。

[使用TcpClient.GetStream](http://msdn.microsoft.com/en-us/library/system.net.sockets.tcpclient.getstream)方法分配它，然后调用[NetworkStream.Write](http://msdn.microsoft.com/en-us/library/system.net.sockets.networkstream.write)

像这样（未经测试）的代码：

```
Dim stream as NetworkStream
stream = clientSocket.GetStream
Dim buffer() as byte = System.Text.Encoding.ASCII.GetBytes("hello")
If stream.CanWrite Then stream.Write(buffer, 0, buffer.Length) 
```

# java - 如何在java中保护URL参数

> ID：12172729
> 
> 赞同：0
> 
> 时间：2012-08-29T07:20:42.590
> 
> 标签：java, google-app-engine

示例 URL [http://dineshlingam.appspot.com/guestbook?name=xxx&skills=zzz](http://dineshlingam.appspot.com/guestbook?name=xxx&skills=zzz)

示例代码

```
public class GuestbookServlet extends HttpServlet 
{
    public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException 
    {
        String userName = req.getParameter("name");
        String userSkills = req.getParameter("skills");
        if(userName != null && userSkills != null)
        {
            res.setContentType("text/plain");
            res.getWriter().println("Name : " + userName + ", Skills : " + userSkills);
        }
        else
            res.sendRedirect(req.getRequestURI());
    }
} 
```

我手动将此 URL 输入到 Web 浏览器。

如何确保参数值。

给我一个合适的例子。因为我不知道 java 概念和 google-app-engine 概念。

真的我不知道SSL。所以我需要用示例详细解释 SSL。

我正在使用 eclipse 来开发我的应用程序。请帮我。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:47:28.873

使用 https 无论如何都不会保护 url 参数。如果要使其安全，则必须将参数放在标题或正文中。但是，如果您为此直接从浏览器进行调用，则不能将其放在标头中，也不能放在正文中，因为它是一个 GET 请求。+1 到 nfechner 以在您的代码中突出显示 XSS 问题。

对于您的问题，这里是使用 https 的可能解决方法：

*   代替 GEt 调用使用 POST 调用，方法是将此搜索以单独的形式放在您的页面中，并在此之上使用 HTTPS。
*   如果要使用 GET 请求，则必须将参数放在 Headers 中，创建一个搜索页面，当用户点击搜索按钮时，通过使用 https 调用将其传递到 header 来对上述资源进行 ajax 调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:25:23.973

您的代码是易受 CSS（跨站点脚本）攻击的页面的经典示例。使用 HTTPS 不会缓解这种情况。相反，您需要在将任何输入添加到页面之前对其进行转义。

例如，通过使用[`StringEscapeUtils.escapeHtml()`](http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/StringEscapeUtils.html)和`StringEscapeUtils.escapeJavaScript()`来自 Apache Commons Lang 库。

# c# - 基于控制台的应用程序在某些计算机上意外结束

> ID：12172730
> 
> 赞同：0
> 
> 时间：2012-08-29T07:20:47.067
> 
> 标签：c#, .net

我有 ac#.net 4.0 程序，它使用 httpwebrequest 从网络收集数据。它在由 try/catch 包围的无限循环中运行。该程序只有一些 httpwebrequests、一些正则表达式以及与托管在远程服务器上的 Postgresql 的通信。

我的程序在我的一些计算机上意外结束，发生这种情况的系统之一是运行 Windows XP 的具有 1GB ram 的 Pentium 4 2.8 Ghz，它应该足以运行它的多个实例。我怎样才能找出为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:55:45.030

1.  在您的应用程序中进行全局尝试捕获并将您的异常记录在您的日志文件中：

    ```
    try
    {
    //all your process
    }
    catch(Exception ex)
    {
    //log exception
    } 
    ```

2.  您是否使用 MSI 安装了控制台应用程序（它允许您在将安装 Postgresql、框架 4.0 等应用程序的计算机上下载所有错过的程序集）

至于我，错误来自缺少组件或计算机在互联网上没有权限......

# php - 如何停止从 Web 应用程序自动发送钓鱼邮件？

> ID：12172731
> 
> 赞同：0
> 
> 时间：2012-08-29T07:20:47.790
> 
> 标签：php, email, web-applications, phishing

我有一些 Web 应用程序，托管在不同的域中。

但用户报告说他们收到了来自这些网站的网络钓鱼电子邮件。这背后的原因可能是什么，最重要的是，我将如何阻止这些？

HTTPS/SSL 可以帮助我吗？请帮忙。

注意：我在这里使用 PHP、MySQL。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:24:20.790

他们基本上不会收到这些域的电子邮件。可以使用您想要的任何电子邮件地址从任何域发送网络钓鱼电子邮件。

检查您的服务器是否有在您不知情的情况下插入的恶意脚本也很好。

# jsf - JSF 从一个页面重定向到另一个页面

> ID：12172734
> 
> 赞同：0
> 
> 时间：2012-08-29T07:20:57.953
> 
> 标签：jsf, navigation

我对 JSF 1.1 有疑问（恐龙，我知道）

所以有两个页面 - index.jsp 和 test.jsp 我想在单击“创建”按钮后从 index.jsp 重定向到 test.jsp

但什么也没发生：/

ps，一般来说，我如何记录那里的东西，知道甚至没有点击事件的日志！这太糟糕了

**索引.jsp**

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<%-- jsf:pagecode language="java" location="/src/pagecode/Index.java" --%><%-- /jsf:pagecode --%>
<%@page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<%@ taglib uri="http://java.sun.com/jsf/core" prefix="f"%>
<%@ taglib uri="http://java.sun.com/jsf/html" prefix="h"%>

<html>
<head>
<title>index</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="GENERATOR" content="IBM WebSphere Integration Developer 6.2">
<link rel="stylesheet" type="text/css" title="Style"
    href="theme/stylesheet.css">
</head>
<f:view>
    <body>
    <h:panelGrid columns="1" width="12%" cellpadding="10" rendered="true">

        <h:commandButton value="Create" action="#{Controller.create}" />
    </h:panelGrid>

    </body>
</f:view>
</html> 
```

**控制器.java**

```
public class Controller extends PageCodeBase {

    public String create() {
        return "success";
                 }

} 
```

**面孔-config.xml**

```
<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE faces-config PUBLIC
    "-//Sun Microsystems, Inc.//DTD JavaServer Faces Config 1.1//EN"
    "http://java.sun.com/dtd/web-facesconfig_1_1.dtd">

<faces-config>
    <managed-bean>
        <managed-bean-name>Controller</managed-bean-name>
        <managed-bean-class>pagecode.Controller</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
    </managed-bean>

    <navigation-rule>
        <display-name>index</display-name>
        <from-view-id>/index.jsp</from-view-id>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/test.jsp</to-view-id>
            <redirect />
        </navigation-case>
    </navigation-rule>
</faces-config> 
```

**web.xml**

```
<welcome-file-list>

        <welcome-file>index.jsp</welcome-file>
        <welcome-file>test.jsp</welcome-file>
</welcome-file-list> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-08T13:17:21.100

JSF`<h:commandButton>`生成一个 HTML`<input type="submit">`元素，该元素仅在嵌套在`<form>`其 JSF 等效项为`<h:form>`.

`<h:form>`但是，您的视图中没有任何位置。相应地添加它：

```
<h:form>
    <h:commandButton value="Create" action="#{Controller.create}" />
</h:form> 
```

顺便说一句，如果您的`create`方法所做的只是返回一个固定的结果，那么您也可以直接在`action`属性中指定结果：

```
<h:form>
    <h:commandButton value="Create" action="success" />
</h:form> 
```

顺便说一句#2，使用 POST 进行页面到页面导航是一种不好的做法，您应该更喜欢输出链接。

### 也可以看看：

*   [未调用 commandButton/commandLink/ajax 操作/侦听器方法或未更新输入值](https://stackoverflow.com/questions/2118656/hcommandlink-hcommandbutton-is-not-being-invoked/2120183#2120183)- 第 1 点

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-05-07T17:34:10.297

create 方法应该返回一个字符串。此字符串是您要重定向的页面的路径。代替：

```
return "success"; 
```

为了：

```
return "yourpage" 
```

# android - 我应该为我的 Android 应用程序的背景准备什么尺寸的图像？

> ID：12172736
> 
> 赞同：0
> 
> 时间：2012-08-29T07:21:13.890
> 
> 标签：android

当应用程序运行时，它将在横幅页面停留 3 秒。
所以我的问题是我应该准备什么尺寸的横幅
，一组图片可以吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:26:40.557

这取决于您的定位分辨率。为了获得更好的结果，您应该为不同的 dpi 和分辨率使用多个图像。遵循本指南：http: [//developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

# jquery - 使用 jquery 按类名查找 HTML 表行

> ID：12172742
> 
> 赞同：2
> 
> 时间：2012-08-29T07:21:37.533
> 
> 标签：jquery

在删除任何 HTML 表的行后，我正在使用以下代码来保持序列号与序列一致。

```
 $("#trid_"+a_href).remove();

 $("tr").each(function (index) {
     if(index != 0) { 
    $(this).find("td:first").html(index + ""); 
    }
}); 
```

该代码工作正常，但问题是它显示表中所有行的序列号。但我只想显示在`<tr class="products">`

我的猜测是，要解决这个问题我必须找到`class="products"`in tr，所以我尝试了以下代码，但这次代码根本不起作用。

```
$("#trid_"+a_href).remove();

 $(".products tr").each(function (index) {
     if(index != 0) { 
    $(this).find("td:first").html(index + ""); 
    }
}); 
```

你能帮我解决这个问题吗？谢谢

## 编辑

我的整个代码太大了。所以我在[这里上传了脚本](https://docs.google.com/open?id=0ByuynjwYX5xAd3BfMmpKY0dXZk0)

谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:23:55.743

正确的选择器是：

```
$("tr.products").each ... 
```

`".products tr"`选择所有 tr 元素，它们是具有“产品”类的任何节点的后代

`"tr.products"``tr`（和之间没有空格`.poducts`）选择所有具有“产品”类的 tr 节点（这就是你想要的）

`"tr .products"`将选择所有具有类“.products”的元素，它们是 tr 节点的后代

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:24:13.757

```
$("tr.products").each(function (index) {
   $(this).find("td:first").html(index); 
}); 
```

# python - 如何组织一个python模块，脚本可以作为__main__程序运行？

> ID：12172751
> 
> 赞同：0
> 
> 时间：2012-08-29T07:22:09.473
> 
> 标签：python, import, code-organization

我正在python中启动一个项目，现在的代码结构如下：

```
project/
        __init__.py
        a.py
        b.py
        mainA.py
        utilities/
                   __init__.py
                   mainB.py
                   c.py 
```

这些`__init__`文件都是空白的。

我想`utilities/mainB.py`作为一个程序运行（使用类似的东西`python main.py`），并且 mainB 需要导入`a.py`和`b.py`. 所以我尝试`from .. import a`了一些其他的方法，但都`import`失败了。错误信息是：

> ValueError：尝试在非包中进行相对导入

那么问题来了：

1.  如何修复`mainB.py`它可以作为主程序运行？
2.  `mainA.py`现在可以作为主程序运行，它还可以导入`a.py`和`b.py`（使用`import a`and `import b`）。我认为代码结构可能会变得更加复杂。说，如果`mainA.py`必须从中导入模块`project/some/directory`，我该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:28:25.427

请参阅[上一个问题](https://stackoverflow.com/questions/72852/how-to-do-relative-imports-in-python)。你有两个选择。一种是使用[PEP 366](http://python.org/dev/peps/pep-0366/)`__package__`中描述的属性来设置模块的相对名称。另一种是将脚本作为模块执行（使用解释器的标志），而不是直接将它们作为脚本运行。`-m`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:24:03.903

您可以使用 Python 的内置模块运行功能 ( `python -m <module>`)。

```
python -m project.utilities.mainB 
```

这允许您将 mainB 作为包的一部分正常编写，因此相对和绝对导入都可以正常工作。

有关此功能的深入讨论，请参阅[PEP-338](http://www.python.org/dev/peps/pep-0338/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:28:58.467

您应该在 PYTHON_PATH 中添加“项目”目录，然后在 mainB.py 中：

```
from project import a 
```

# netbeans - 如何在netbeans中将处理草图导出为pdf？

> ID：12172752
> 
> 赞同：0
> 
> 时间：2012-08-29T07:22:10.170
> 
> 标签：netbeans, processing

我的出发点是我在博客上找到的一个模板（https://gist.github.com/1330065#file_p5_main.java）：

```
<#assign licenseFirst = "/*">
<#assign licensePrefix = " * ">
<#assign licenseLast = " */">
<#include "../Licenses/license-${project.license}.txt">

<#if package?? && package != "">
package ${package};

</#if>
/**
 *
 * @author ${user}
 */

import processing.core.PApplet;

@SuppressWarnings("serial")
public class ${name} extends PApplet{

    @Override
    public void setup(){
        size(300, 300, P3D);
    }

    @Override
    public void draw(){
    }

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        PApplet.main(new String[]{ ${package}.${name}.class.getName()});
    }

} 
```

这输出到一个小程序。我尝试使用在此处（http://www.processing.org/discourse/beta/num_1246034274.html）找到的说明对其进行修改以创建 pdf，但无法使其正常工作。

注意：我在类路径上有 pdf 和 itext 库。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T10:58:30.273

回答我自己的问题，对于没有屏幕视图和单帧的导出：

```
package Processing;

import processing.core.PApplet;
import processing.pdf.*;

@SuppressWarnings("serial")
public class Controller extends PApplet {

    @Override
    public void setup() {
        size(300, 300, PDF, "filename.pdf");
    }

    @Override
    public void draw() {
        exit();
    }

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        PApplet.main(new String[]{Processing.Controller.class.getName()});
    }
} 
```

# java - 基于 URL 参数缓存 JSP

> ID：12172756
> 
> 赞同：0
> 
> 时间：2012-08-29T07:22:19.500
> 
> 标签：java, performance, jsp, caching

我有一个jsp文件pageshow.jsp和参数id，

有没有办法根据url参数在服务器端缓存jsp文件

请求页面 pageshow.jsp?id=100 从缓存获取而不是从服务器构建
请求页面 pageshow.jsp?id=200 从缓存获取而不是从服务器构建

以上两个页面应该有不同的缓存内容，因为它们的参数不同

这样可以避免在服务器端重建jsp文件，也可以减少服务器负载

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:33:46.557

您可以创建`CachingHttpFilter`仅映射到此 JSP 页面的内容，并执行以下操作：

*   检查缓存内容是否存在
*   如果存在就返回它
*   如果不存在`chain.doFilter(request, response);`将转到请求的 JSP 的调用。但是传递到那里的特殊响应（响应包装器）存储 JSP 返回的所有字节并缓存它们。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T09:37:22.270

我会看看使用`CachingHttpFilter`类似于 AlexR 提出的方法，但看看使用 HTTP 标头来控制缓存而不是将数据存储在滚动内容缓存中。

[本文](http://www.javablog.fr/javaweb-set-cache-control-in-reponse-with-http-filter-httpcachefilter.html)很好地解释了如何在`If-Modified-Since`后续请求 URL 时比较 HTTP 标头。然后由您的过滤器发回`HTTP 304`响应。

> **日期比较：**
> 
> 客户端向服务器请求特定页面：如果客户端已经读取该页面，它会向服务器发送一个请求，其中包含其缓存页面的最后修改日期（例如“If-Modified-Since: 21/07/2002格林威治标准时间 13:47:24”）；还有标题 If-Unmodified-Since；
> 
> 服务器将客户端给出的这个日期与请求页面的最后修改日期进行比较：
> 
> 如果服务器上的页面具有相同的日期，则服务器通知客户端它可以使用其缓存中的版本页面（“HTTP/1.1 304 Not Modified”）。客户端和服务器之间的交换就此停止；
> 
> 如果服务器上的页面较新，则服务器将更改通知客户端（“Last-modified: 21/06/2012 08:45:37 pm GMT”）并将此页面发送给客户端。浏览器存储页面的最后更改日期。

您还需要查看[`ETag`HTTP 标头](http://en.wikipedia.org/wiki/HTTP_ETag)。

不幸的是，缓存听起来很简单，但通常很难做到正确。调整数据库查询通常是提高应用程序性能的最佳起点。

# linux - 红帽百胜心跳

> ID：12172757
> 
> 赞同：2
> 
> 时间：2012-08-29T07:22:23.477
> 
> 标签：linux

我是 linux 的新手，我正在学习 LINUX heartbeat。我正在尝试执行“yum install heartbeat”，如下所示...

```
# 猫 /etc/问题
红帽企业 Linux 服务器 5.8 版 (Tikanga)

# yum 安装心跳
加载的插件：katello、product-id、rhnplugin、security、subscription-manager
更新基于证书的存储库。
无法读取消费者身份
设置安装过程
没有可用的包心跳。
没事做
#
```

我本地的 Centos 确实有效。谁能解释我为什么 redhat 不起作用以及我应该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T16:05:35.927

Red Hat EL 默认没有配置 EPEL。请参阅[http://fedoraproject.org/wiki/EPEL#How_can_I_use_these_extra_packages.3F](http://fedoraproject.org/wiki/EPEL#How_can_I_use_these_extra_packages.3F)。

在您的情况下，安装[http://download.fedoraproject.org/pub/epel/5/i386/repoview/epel-release.html](http://download.fedoraproject.org/pub/epel/5/i386/repoview/epel-release.html)并重复您的命令。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T08:26:06.547

[您可以从EPEL](http://fedoraproject.org/wiki/EPEL/FAQ)存储库中获取 heatbeat

对于 32 位

```
su -c 'rpm -Uvh http://dl.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm' 
```

将 i386 替换为 x86_64 以获得 64 位

# clojure - 如何美化 lisp 源代码？

> ID：12172763
> 
> 赞同：10
> 
> 时间：2012-08-29T07:22:40.500
> 
> 标签：clojure, scheme, common-lisp

我的代码是这种语言的许多长行，如下所示

```
(defn check-if-installed[x] (:exit(sh "sh" "-c" (str "command -v " x " >/dev/null 2>&1 || { echo >&2 \"\"; exit 1; }")))) 
```

或者

```
(def Open-Action (action :handler (fn [e] (choose-file :type :open :selection-mode :files-only :dir ListDir :success-fn (fn [fc file](setup-list file)))) :name "Open" :key "menu O" :tip "Open spelling list")) 
```

这太可怕了。我想像这样格式化它

```
(if (= a something)
    (if (= b otherthing)
        (foo))) 
```

如何以更好的方式美化源代码？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T15:57:23.153

真正的答案取决于您是否愿意自己插入换行符。一旦您将行拆分为行，许多系统可以以惯用的方式为您缩进。

如果您*不想*手动插入它们，Racket 提供了一个“漂亮的打印”，可以满足您的一些需求：

```
#lang racket

(require racket/pretty)

(parameterize ([pretty-print-columns 20])
  (pretty-print '(b aosentuh onethunoteh (nte huna) oehnatoe unathoe))) 
```

==>

```
'(b
  aosentuh
  onethunoteh
  (nte huna)
  oehnatoe
  unathoe) 
```

...但我会第一个承认在正确的位置插入换行符很困难，因为换行符的选择与您希望人们如何阅读您的代码有很大关系。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T08:08:01.957

我经常使用 Clojure.pprint 来使生成的代码更适合人类。它适用于报告认为它的目标是生成文本。clojure-mode emacs 包中内置的格式会生成非常漂亮的 Clojure 格式，如果您将换行符放入您自己的话。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-04-08T04:39:53.727

现在你可以用[Srefactor package](https://github.com/tuhdo/semantic-refactor)来做。

一些演示：

*   [在 Emacs Lisp 中格式化整个缓冲区演示](http://i.imgur.com/BNWSL7W.gifv)（也适用于 Common Lisp）。
*   [在一行之间转换 <--> 多行演示](http://i.imgur.com/L8D5tXv.gifv)

可用命令：

*   `srefactor-lisp-format-buffer`: 格式化整个缓冲区
*   `srefactor-lisp-format-defun`: 格式化当前 defun 光标所在的位置
*   `srefactor-lisp-format-sexp`: 格式化当前 sexp 光标所在的位置。
*   `srefactor-lisp-one-line`：将当前同级别的sexp变成一行；使用前缀参数，递归地将所有内部性别转换为一行。

Scheme 变体不像 Emacs Lisp 和 Common Lisp 那样精致，但适用于简单和小型的 sexp。如果有任何问题，请提交问题报告，我将很乐意修复它。

# eclipse - Eclipse 经典问题更新 Java EE 工具

> ID：12172765
> 
> 赞同：0
> 
> 时间：2012-08-29T07:22:49.907
> 
> 标签：eclipse, jakarta-ee

我的 PC 上安装了 Eclipse classic 4.2，我想使用 eclipse 处理 webservices 项目。我已按照以下方法更新 eclipse 经典以支持 Java EE。

我使用了安装新软件部分并添加了以下 URL

[http://download.eclipse.org/webtools/updates/](http://download.eclipse.org/webtools/updates)

然后我选择了 Web 工具平台，然后单击下一步。

然后我收到以下错误消息，我无法安装 Web 工具。

> 无法完成安装，因为找不到一项或多项所需项目。正在安装的软件：Eclipse Java EE Developer Tools 3.2.0.v201005241530-7b7GHTYFSK2W9kPaFClvz0O_NQmN (org.eclipse.jst.enterprise_ui.feature.feature.group 3.2.0.v201005241530-7b7GHTYFSK2W9kPaFClvz0O_NQmN) 缺少要求：WTP5001 插件。 .v201004280901 (org.eclipse.jst.ejb.ui 1.1.500.v201004280901) 需要 'bundle org.eclipse.emf.edit.ui [2.2.0,3.0.0)' 但找不到
> 不能满足依赖：来自：Eclipse Java EE 开发者工具 3.2.0.v201005241530-7b7GHTYFSK2W9kPaFClvz0O_NQmN (org.eclipse.jst.enterprise_ui.feature.feature.group 3.2.0.v201005241530-7b7GHTYFSK2W9kPaFClvz0O_NQmN) 到：org.eclipse1.jst.ej 500.v201004280901]

谁能指导我如何安装并开始使用我拥有的当前版本？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T20:18:08.030

使用 juno，[http://download.eclipse.org/releases/juno](http://download.eclipse.org/releases/juno)在 Eclipse 4.2 之上安装 webtools。

您在上面显示的 webtools 存储库中没有 EMF，因此您还需要添加 EMF 存储库*或*从 Juno 更新站点中提取它。

# c# - 如何在 C# 中显示不同的 url？

> ID：12172767
> 
> 赞同：0
> 
> 时间：2012-08-29T07:22:57.783
> 
> 标签：c#, asp.net, iis-7

如何在浏览器中更改“www.abc.com/welcome”之类的视图，但实际路径是“www.abc.com/welcome.aspx”。

当我输入“www.abc.com/welcome”时，将进入路径“www.abc.com/welcome.aspx”，但仍会像“www.abc.com/welcome”一样查看。

我在下面的 web.config 上尝试了此代码，但出现错误：无法识别的配置部分 urlMappings

```
<urlMappings enabled="true">
  <add url="~/welcome.aspx" mappedUrl="~/welcome" />
</urlMappings> 
```

我想知道还有其他方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T07:26:46.223

您从哪里获得有关此`urlMappings`部分的信息？IIS 或 ASP.Net 默认不支持它。

我想你可能想看看[UrlRewrite Module](http://learn.iis.net/page.aspx/460/using-the-url-rewrite-module/)。

有了这个，像你想要的那样设置 url 重写是微不足道的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:51:41.900

我建议您使用*路由* [How to: Use Routing with Web Forms](http://msdn.microsoft.com/en-us/library/cc668202%28v=vs.90%29.aspx)。

您需要注册`UrlRoutingModule`r`UrlRoutingHandle`处理程序才能使用路由功能（更多详细信息可以在上面的文章中找到）。

然后在 global.asax

```
void Application_Start(object sender, EventArgs e) 
{
    RegisterRoutes(RouteTable.Routes);
}

public static void RegisterRoutes(RouteCollection routes)
{
    routes.Add("BikeSaleRoute", new Route
    (
       "bikes/sale", 
       new CustomRouteHandler("~/Contoso/Products/Details.aspx")
    ));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:29:27.403

如果您使用的是 URL 重写模块，则需要确保您将在哪个版本的 IIS 上运行，然后才能使用“/welcome”之类的内容。默认情况下，IIS6 不支持无扩展名 URL。您需要为其运行 ISAPI 过滤器，或者您需要在 IIS7 上运行。

# mysql - 如何将 Mssql 中的查询转换为 Msql 中的查询

> ID：12172768
> 
> 赞同：0
> 
> 时间：2012-08-29T07:22:57.990
> 
> 标签：mysql, sql-server

嗨，我最近在 Mssql 上工作，在某个地方我得到了以下查询

```
query = "select dateadd(SS,1,getdate()) as 'StartTime'" 
```

这里我可以期待`getdate()`在 Mssql 中是`now()`在 Mysql

**但我想在MYSQL**中执行上述**MSSQL**查询的功能，所以任何人都可以让我知道如何在 MYSQL 中编写相同的查询

 *** * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:28:25.630

```
DATE_ADD(now(), 1, 'SECONDS') 
```

基于[此处的文档](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_date-add)

或者

```
now() + INTERVAL 1 SECOND 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:31:23.573

```
query = "SELECT DATE_ADD(now(), INTERVAL 1 SECOND) as StartTime" 
```

# [请参阅 SQLFiddle](http://sqlfiddle.com/#!2/cfab1/6)

参考[MySQL：DATE_ADD](http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_date-add)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:30:20.497

你可以使用这个：

`SELECT DATE_ADD(NOW(), INTERVAL 1 SECOND) AS starttime`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:31:05.070

尝试这个，

```
query = "SELECT DATE_ADD(NOW, INTERVAL 1 SECOND) `Start_Time`" 
```

**[DATE_ADD](http://www.w3schools.com/sql/func_date_add.asp)****

# wpf - WPF 上下文菜单绑定

> ID：12172770
> 
> 赞同：1
> 
> 时间：2012-08-29T07:23:01.923
> 
> 标签：wpf, contextmenu

似乎无法将我的上下文菜单中的菜单项绑定到我的视图模型中的命令。我知道上下文菜单不在可视树中。出于测试目的，我在一个按钮中绑定了两次相同的命令。第一个绑定有效，但我可以在上下文菜单中获得第二个绑定来绑定。我可以在输出中看到绑定错误。有人有什么想法吗？

```
<HierarchicalDataTemplate DataType="{x:Type inf:OSiteEquipment}" ItemsSource="{Binding Path=SubSystems, Converter={StaticResource subsystemConverter}}"  >
                <Button HorizontalContentAlignment="Left"
                        Command="{Binding DataContext.CommandOpenSelected, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type UserControl}}}"
                        CommandParameter="{Binding}">

                    <TextBlock Text="{Binding Path=PartData.Name}" TextTrimming="CharacterEllipsis" />
                    <Button.ContextMenu>
                        <ContextMenu>                                                                         

     <MenuItem Header="Add Category"  Command="{Binding Path=Parent.PlacementTarget.Tag.CommandOpenSelected, RelativeSource={RelativeSource AncestorType=ContextMenu}}" />
                        </ContextMenu>

                    </Button.ContextMenu>
                </Button>
            </HierarchicalDataTemplate> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T08:08:59.490

只需删除数据绑定路径中的“父级”：

```
<HierarchicalDataTemplate DataType="{x:Type inf:OSiteEquipment}" ItemsSource="{Binding Path=SubSystems, Converter={StaticResource subsystemConverter}}"  >
    <Button HorizontalContentAlignment="Left"
            Command="{Binding DataContext.CommandOpenSelected, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type UserControl}}}"
            CommandParameter="{Binding}">

        <TextBlock Text="{Binding Path=PartData.Name}" TextTrimming="CharacterEllipsis" />
        <Button.ContextMenu>
            <ContextMenu>
                <MenuItem Header="Add Category"  Command="{Binding Path=PlacementTarget.Command, RelativeSource={RelativeSource AncestorType=ContextMenu}}" />
            </ContextMenu>
        </Button.ContextMenu>
    </Button>
</HierarchicalDataTemplate> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T09:39:32.737

1.  您已经通过相对源找到了->在路径中`Parent`省略了`Parent`
2.  您甚至没有设置`Tag`( `PlacementTarget`) `Button`-> 分别设置它

# jquery - jQuery; 在模板控件的网格中选择项目？

> ID：12172777
> 
> 赞同：1
> 
> 时间：2012-08-29T07:23:33.880
> 
> 标签：jquery, asp.net, gridview, jquery-selectors

我有这个网格..

```
<tr>
  <td class="TDCaption" style="text-align: 
     <div class="DivStyleWithScroll" style="width: 100%; overflow: scroll; height: 250px;">
       <asp:GridView ID="grdReport" runat="server" AutoGenerateColumns="False" DataKeyNames="BookingNumber"
ShowFooter="True" EmptyDataText="No record found" PageSize="50" CssClass="mGRid">
        <Columns>
          <asp:TemplateField>
            <HeaderTemplate>
          <asp:CheckBox ID="chkAll" runat="server" />
            </HeaderTemplate>
            <ItemTemplate>
          <asp:CheckBox ID="chkSelect" runat="server" />
            </ItemTemplate>
          </asp:TemplateField>
          <asp:BoundField DataField="BookingDate" DataFormatString="{0:d}" HeaderText="Booking Date"
           SortExpression="BookingDate" FooterText="Total" />
          <asp:TemplateField HeaderText="Booking No.">
           <ItemTemplate>
            <asp:HyperLink ID="hypBtnShowDetails" runat="server" Text='<%# Bind("BookingNumber") %>' CssClass="grdCustName"
            Target="_blank" NavigateUrl='<%# String.Format("~/Bookings/BookingSlip.aspx?BN={0}{1}{2}",Eval("BookingNumber"),-1,Eval("DeliveryDate")) %>'
           </ItemTemplate>
          </asp:TemplateField>
          <asp:BoundField DataField="CustomerName" HeaderText="Customer Name" SortExpression="CustomerName">
    </asp:BoundField>
  </Columns>
</asp:GridView> 
```

因此，如您所见，第一个列是一个复选框，想要的是当我单击复选框时，我希望与该复选框对应的预订号（在第二个列中）存储在一个变量中。比如说，用户勾选了第三个复选框，即预订号。第三行是 29。我希望它被选中。另外，我应该再强调一点，所有这些网格视图都在一个子页面中，并且在一个内容中，就像这样..

```
<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="Server"> 
```

以防万一这可能会影响事情。我正在使用这个..

```
 $(document).ready(function () {
       $("body").delegate(":checkbox", "change", function () {

           var list = $(':checkbox:checked').size();
           alert(list); // tells correctly how many I have checked
           var list2 = $.map(':checkbox:checked', function () {
               return $(this).closest('div').find('.grdCustName').text();
           }).toString();
           alert(list2); // nothing happens
           var list3 = $.map(':checkbox:checked', function () {
               return $(this).text();
           }).get(); // nothing here too
           alert(list3);
           var list4 = $.map(':checkbox:checked', function (index) {
               return $(this).closest('div').find('.grdCustName').eq(index).text();
           }).get(); // nothing here too
           alert(list4);
       });

   }); 
```

我什至在没有传入索引的情况下尝试了所有这些，仍然一无所获。我希望我说清楚了，如果有任何疑问，请发表评论，我会澄清的！

那么，有人可以帮我做这件事吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T11:52:20.683

我建议您使用 RowDatabound 事件来获取 Javascript 中特定列的值。请查看以下代码。这可能会给您一些想法...

**在后面的代码中：-**

```
void GridView_RowDataBound(Object sender, GridViewRowEventArgs e)
  {
    DataRowView drv = (DataRowView)e.Row.DataItem; 

    if(e.Row.RowType == DataControlRowType.DataRow)
    {
            CheckBox chkSelect=(CheckBox)e.Row.Cells[0].FindControl("chkSelect");
            chkSelect.Attributes.Add("onchange","setVariableValue('"+drv["BookingNumber"].ToString()+"')")
    }

  } 
```

**在 Javascript 中：-**

```
function setVariableValue(bookNo)
{
   alert(bookNo);
} 
```

# django - 如何修改访问用户个人资料的链接？

> ID：12172778
> 
> 赞同：0
> 
> 时间：2012-08-29T07:23:38.297
> 
> 标签：django, django-models, django-views, osqa

我想修改 url 以访问用户个人资料。OSQA 使用[permalink()](https://docs.djangoproject.com/en/dev/ref/models/instances/#django.db.models.permalink)生成配置文件 url
默认链接是[http://meta.osqa.net/users/2836/nhatthinh](http://meta.osqa.net/users/2836/nhatthinh)
我想把它改成[http://meta.osqa.net/users/nhatthinh](http://meta.osqa.net/users/nhatthinh)
所以，我修改函数**get_profile_url**如下：

```
 @models.permalink
    def get_profile_url(self):
        return ('user_profile', [slugify(self.username)]) 
```

我还修改了 forum\urls.py 中的 url，如下所示：

```
url(r'^%s/(.*)/$' % _('users/'), app.users.user_profile, name='user_profile'), 
```

但结果却出乎我的意料。
OSQA 生成的链接是[http://meta.osqa.net/users//nhatthinh](http://meta.osqa.net/users//nhatthinh) 那么，我该如何解决这个问题呢？
非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:38:22.560

您可能想这样尝试：

```
url(r'^%s/(.*)/$' % _('users'), app.users.user_profile, name='user_profile'), 
```

如果您使用翻译，也不要忘记调整这些。

# android - 没有任何默认填充的 TextView

> ID：12172784
> 
> 赞同：4
> 
> 时间：2012-08-29T07:23:50.527
> 
> 标签：android, android-layout, android-widget

> **可能重复：**
> [我希望 textView 没有任何默认填充，同时增加 textView 的大小](https://stackoverflow.com/questions/12172210/i-want-textview-without-any-defalut-padding-while-increasing-size-of-textview)

我想删除 TextView 上的默认填充。当我增加 TextView 的大小时，它的填充大小会自动增加。即使我将文本视图的背景设置为“@null”。我只想显示没有任何填充的文本。我的视图看起来像第一张图片，我想显示第二张图片。

这个第一个链接显示视图正在显示。

[http://www.imageurlhost.com/images/487vskfx1aj01f9e9g40.png](http://www.imageurlhost.com/images/487vskfx1aj01f9e9g40.png)

这第二个链接显示了我想要显示的布局视图而不提供任何 -margin

[http://www.imageurlhost.com/images/ijuyxpcub1oqy1w66h.png](http://www.imageurlhost.com/images/ijuyxpcub1oqy1w66h.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T08:02:49.277

这称为字体填充。您可以使用`mTextView.setIncludeFontPadding(false);`或 xml 属性禁用它`android:includeFontPadding="false"`

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2012-08-29T07:28:04.507

`padding`您可以通过设置来从 xml 中删除填充`0dp`

尝试这样的事情：

```
<TextView
    android:padding="0dp"
 ...
 </TextView> 
```

请注意，如果您这样做，您将无法再使用`gravity`，因为它正在使用填充。

如果您只想删除顶部和底部填充，您可以设置`paddingBottom`并`paddingTop`使用`0dp`侧面填充。

干杯，阿克德

# php - 如何获取在 Doctrine ORM 中重复的特定列？

> ID：12172787
> 
> 赞同：0
> 
> 时间：2012-08-29T07:23:54.037
> 
> 标签：php, zend-framework, doctrine-query

如何通过 Doctrine ORM 获取具有重复名称的特定列？

我正在使用 Zend 制作的自定义引擎开发一个项目。问题是我在 2 个表（c_naslovi 和 c_sportovi）中有重复的列名

我可以重命名列吗？我该怎么做？我是学说新手，请回答 n00b 问题:)

```
$q = new Doctrine_RawSql();
        $q->select("{p.*}, {n.*}, {np.*}, {sp.*}")
            ->from("c_ponude p LEFT JOIN c_naslovi n ON p.NaslovID = n.NaslovID 
                LEFT JOIN c_nasloviprijevodi np ON np.NaslovID = n.NaslovID 
                LEFT JOIN c_sportovi sp ON n.SportID = sp.SportID")
            ->where("p.DatumVrijemeOdigravanja > NOW()")
            ->andWhere("(p.IndikatorPonude = 'P' OR p.IndikatorPonude = 'H')")
            ->andWhere("p.KoeficijentZbroj > 0")
            ->andWhere("p.BrojPonude = ?", array($offerId))
            ->orderby("p.RedniBrojRazrade")         
            ->addComponent("p", "cPonude p")
            ->addComponent("n", "p.cNaslovi n")
            ->addComponent("np", "n.cNasloviprijevodi np")
            ->addComponent("sp", "n.cSportovi sp");

    $offer = $q->execute(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T12:44:24.680

If I understand your question correctly, You can solve this by adding aliases, but Doctrine uses it's own aliases for the query.

So it will automatically rename the duplicate columns. Something like:

```
c_naslovi.duplicate_column as c_0 
c_sportovi.duplicate_column as s_0 
```

# python - 导入语句python3的变化

> ID：12172791
> 
> 赞同：193
> 
> 时间：2012-08-29T07:24:06.690
> 
> 标签：python, python-3.x

我不明白[pep-0404的以下内容](http://www.python.org/dev/peps/pep-0404/)

> 在 Python 3 中，包内的隐式相对导入不再可用 - 仅支持绝对导入和显式相对导入。此外，星型导入（例如 from x import *）只允许在模块级代码中使用。

什么是相对进口？在 python2 中允许在哪些其他地方进行星形导入？请举例说明。

* * *

## 回答 #1

> 赞同：295
> 
> 时间：2012-08-29T08:08:42.613

每当您导入相对于当前脚本/包的包时，就会发生相对导入。

例如，考虑以下树：

```
mypkg
├── base.py
└── derived.py 
```

现在，您`derived.py`需要来自`base.py`. 在 Python 2 中，您可以这样做（在 中`derived.py`）：

```
from base import BaseThing 
```

Python 3 不再支持这一点，因为它不明确你想要 'relative' 还是 'absolute' `base`。换句话说，如果`base`系统中安装了一个名为的 Python 包，那么您将得到错误的包。

相反，它要求您使用*显式导入*，在类似路径的基础上显式指定模块的位置。你`derived.py`会看起来像：

```
from .base import BaseThing 
```

前导`.`说“`base`从模块目录导入”；换句话说，`.base`映射到`./base.py`.

类似地，有`..`前缀会在目录层次结构中上升，例如`../`（`..mod`映射到`../mod.py`），然后`...`上升两级（`../../mod.py`），依此类推。

但是请注意，上面列出的相对路径是相对于当前模块 ( `derived.py`) 所在的目录，*而不是*当前工作目录。

* * *

*@BrenBarn*已经解释了明星进口案例。为了完整起见，我不得不说同样的话；）。

例如，您需要使用几个`math`函数，但您只在一个函数中使用它们。在 Python 2 中，你被允许是半懒惰的：

```
def sin_degrees(x):
    from math import *
    return sin(degrees(x)) 
```

请注意，它已经在 Python 2 中触发了警告：

```
a.py:1: SyntaxWarning: import * only allowed at module level
  def sin_degrees(x): 
```

在现代 Python 2 代码中，您应该这样做，而在 Python 3 中，您必须执行以下任一操作：

```
def sin_degrees(x):
    from math import sin, degrees
    return sin(degrees(x)) 
```

或者：

```
from math import *

def sin_degrees(x):
    return sin(degrees(x)) 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-08-29T07:32:12.087

有关相对导入，请参阅[文档](http://docs.python.org/tutorial/modules.html#intra-package-references)。相对导入是指从相对于该模块位置的模块导入，而不是绝对 from `sys.path`。

至于`import *`，Python 2 允许在函数中导入星号，例如：

```
>>> def f():
...     from math import *
...     print sqrt 
```

在 Python 2（至少是最新版本）中会为此发出警告。在 Python 3 中不再允许这样做，您只能在模块的顶层进行星号导入（不能在函数或类内部）。

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2015-10-20T18:16:37.850

要同时支持 Python 2 和 Python 3，请使用如下的显式相对导入。它们是相对于当前模块的。[从 2.5](https://docs.python.org/2/tutorial/modules.html#intra-package-references)开始支持它们。

```
from .sister import foo
from . import brother
from ..aunt import bar
from .. import uncle 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2018-08-09T20:27:11.347

在 Michał Górny 的回答中添加了另一个案例：

请注意，相对导入基于当前模块的名称。由于主模块的名称始终为“ `__main__`”，因此用作 Python 应用程序的主模块的模块必须始终使用绝对导入。

# android - android中的动画淡入淡出

> ID：12172792
> 
> 赞同：0
> 
> 时间：2012-08-29T07:24:07.420
> 
> 标签：android

我已经编写了代码来创建包含 alpha 动画效果的幻灯片。我已在数组中插入图像资源，并在调用特定图像时应用动画。问题是动画不适用于数组索引 1,3,5(R.drawable.b,R.drawable.d,R.drawable.f)。代码如下。Activity-Java代码---

```
public class DivyeshAnimationActivity extends Activity implements AnimationListener {

int imagearray[]={R.drawable.a,R.drawable.b,R.drawable.c,R.drawable.d,R.drawable.e,R.drawable.f};

ImageView img,img1;

Animation anim,anim1;
int counter;
int k;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    img=(ImageView)findViewById(R.id.img);
    anim=AnimationUtils.loadAnimation(DivyeshAnimationActivity.this,
            R.anim.anim);
    img.setImageResource(imagearray[counter]);
    img.startAnimation(anim);
    anim.setAnimationListener(this);
    }

public void onAnimationEnd(Animation animation) {
    if(counter==imagearray.length-1)
    {
        counter=0;
    }
    else
    {
        counter++;  
    }
        img.setImageResource(imagearray[counter]);
        img.startAnimation(anim);   
}
public void onAnimationRepeat(Animation animation) {

}
public void onAnimationStart(Animation animation) {

}} 
```

动画文件包含以下代码..

```
<alpha 
    android:fromAlpha="0"
    android:toAlpha="1"
    android:duration="2000"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T02:23:38.393

我注意到的唯一问题是变量计数器未初始化

# c# - IE 9 BHO 插件。加载外部 JS 文件时出现错误 SCRIPT1014

> ID：12172796
> 
> 赞同：3
> 
> 时间：2012-08-29T07:24:13.857
> 
> 标签：c#, javascript, internet-explorer-9, bho, add-on

我正在尝试使用 .Net 和 BHO 创建简单的 Internet Explorer 9 插件以在页面上加载外部 js 文件并执行它。

我创建了 ieInstance_DownloadComplete（我也尝试了 ieInstance_DocumentComplete，但情况更糟）事件处理程序：

```
InternetExplorer explorer = this.ieInstance;
var document = explorer.Document as IHTMLDocument2;
document.parentWindow.execScript(
@"
if (document.getElementById('KCScript') == null)
  {
      var fileref=document.createElement('script');
      fileref.setAttribute('id', 'KCScript');
      fileref.setAttribute('type','text/javascript');
      fileref.setAttribute('charset', 'UTF-8')
      fileref.setAttribute('src', 'C:/test.js');
      fileref.onload = function () { eee(); };
      if (typeof fileref!='undefined')
        document.getElementsByTagName('head')[0].appendChild(fileref);}","JavaScript");
  } 
```

加载页面后，我可以在 IE 开发人员工具中看到我的 test.js 附加到页面。但是函数eee（）没有引发，我有一个错误：“SCRIPT1014：无效字符test.js，第1行，字符1”

测试.js：

```
function eee()
{
    alert('ttt!');
}; 
```

test.js 是 UTF-8，所以没有阅读问题.. 还有别的

怎么了？有任何想法吗？提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T09:32:06.540

1.  尝试以“UTF-8 without BOM”编码重新保存 JS
2.  尝试将 JS 作为[http://example.com/test.js放置到远程服务器](http://example.com/test.js)

# javascript - 为什么我应该使用 HTML5（上下文：占位符）

> ID：12172801
> 
> 赞同：0
> 
> 时间：2012-08-29T07:24:40.827
> 
> 标签：javascript, html, internet-explorer

我是一名偶尔的 HTML/js 开发人员。并不是说我不想使用 HTML5。

这是我的情况：无论我感觉如何，业务需求都需要跨浏览器（包括 IE）的行为相同。我不能在 IE 中使用“占位符”，因为它不支持。为了克服限制，我编写了一个具有`onFocus()`等的脚本`onBlur()`。

如果不支持，我的 javascript 将检查`Browsers and Versions`并发出适当的代码。`placeholder`

`placeholder`无论如何，当我必须编写javascript（为了向后兼容）并且它使我的javascript文件更轻（1行:)时，为什么我不使用它

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:44:48.293

我会说这更像是一个主观问题，但在我看来，HTML5 肯定会成为未来。最终，事情会来来去去，使用旧版本浏览器的人会越来越少，并且要求您知道 HTML5 中的这些选项可供您使用。实现这两个选项而不忽略其他选项只是一个好习惯。

此外，虽然它在您的情况下可能不是很明显，但您可能可以在 HTML5 中做一些事情，这些事情对于更好的浏览器进行了更优化，而不是简单地坚持旧时尚的做事方式。运行速度的差异可能不足以让某人真正关心那么多，但谁知道呢？将来，它可能是您正在处理的事情。我希望这回答了你的问题。

# google-apps-script - Google 文档中的书签

> ID：12172802
> 
> 赞同：1
> 
> 时间：2012-08-29T07:24:41.713
> 
> 标签：google-apps-script

使用 Google Apps 脚本，我想在 Google 文档中创建书签（并检索到它们的链接以在其他地方使用）。通过[参考](https://developers.google.com/apps-script/defaultservices)，但找不到如何做到这一点。线索会有所帮助。谢谢。

桑杰

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:31:44.233

[现在文档服务](https://developers.google.com/apps-script/service_document)中没有实现所需的功能，但问题跟踪器中有适当的[功能请求](http://code.google.com/p/google-apps-script-issues/issues/detail?id=803)。您可以在此问题上加注星标，向 GAS 团队证明人们需要它并等待。

# spring - 为什么记录在数据库中发布两次？

> ID：12172803
> 
> 赞同：0
> 
> 时间：2012-08-29T07:24:44.133
> 
> 标签：spring, spring-mvc, spring-data-jpa

你能告诉我，为什么记录会在数据库中发布两次。我认为。发生这种情况是因为我使用了**save()**方法。但是我不应该分别保存主实体和从属实体吗？

```
Controller method:
@RequestMapping(value = "/addComment/{topicId}", method = RequestMethod.POST)
public String saveComment(@PathVariable int topicId, @ModelAttribute("newComment")Comment comment, BindingResult result, Model model){
        Topic commentedTopic = topicService.findTopicByID(topicId);
        commentedTopic.addComment(comment);

        // TODO: Add a validator here
        if (!comment.isValid() ){
            return "//";

        }
        // Go to the "Show topic" page
        commentService.saveComment(comment);

        return "redirect:../details/" + topicService.saveTopic(commentedTopic);

} 
```

服务：

```
@Service
@Transactional
public class CommentService {

    @Autowired
    private CommentRepository commentRepository;

    public int saveComment(Comment comment){
        return commentRepository.save(comment).getId();

    }   

}

@Service
@Transactional
public class TopicService {
    @Autowired
    private TopicRepository topicRepository;

    public int saveTopic(Topic topic){
        return topicRepository.save(topic).getId();

    }
} 
```

模型：

```
@Entity
@Table(name = "T_TOPIC")
public class Topic {

    @Id
    @GeneratedValue(strategy=GenerationType.AUTO)
    private int id;

    @ManyToOne
    @JoinColumn(name="USER_ID")
    private User author;

    @Enumerated(EnumType.STRING)    
    private Tag topicTag;

    private String name;
    private String text;

    @OneToMany(fetch = FetchType.EAGER, mappedBy = "topic", cascade = CascadeType.ALL)
    private Collection<Comment> comments = new LinkedHashSet<Comment>();

}

@Entity
@Table(name = "T_COMMENT")
public class Comment
{
    @Id
    @GeneratedValue(strategy=GenerationType.AUTO)
    private int id;

    @ManyToOne
    @JoinColumn(name="TOPIC_ID")
    private Topic topic;

    @ManyToOne
    @JoinColumn(name="USER_ID")
    private User author;

    private String text;
    private Date creationDate;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:57:25.363

在这种具体情况下，您不需要保存主服务器和客户端。

*   保存主服务器或客户端就足够了（使用此具体映射）

但我认为主要问题是你没有一个好的 equals 方法，`Comment`所以你的 ORM 提供者认为有两个不同的评论，因此将它们存储两次。

# mysql - 在 mysql 中将 now() 截断为仅一小时

> ID：12172805
> 
> 赞同：1
> 
> 时间：2012-08-29T07:24:57.330
> 
> 标签：mysql, sql

如何截断 now() 以在 mysql 中仅获得高达小时的精度？

在

```
select id from Run where submitTs <= now()  and submitTs >= (now()  - interval 1 hour); 
```

如果我在 1.23 PM 运行，我真的想要从 12.00 PM 到 1 PM 而不是 12.23 PM 到 1.23 PM 的记录。

那我怎么说

```
 submitTs<= truncate_to_hour(now()) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:49:03.947

试试这个查询 -

```
SELECT
  id
FROM
  Run
WHERE
  DATE(submitTs) = CURDATE() AND
  EXTRACT(HOUR FROM NOW()) = EXTRACT(HOUR FROM submitTs) 
```

此查询比第一个查询具有更好的性能 -

```
SELECT
  id
FROM
  Run
WHERE
  submitTs >= CURDATE() + INTERVAL EXTRACT(HOUR FROM NOW()) HOUR AND
  submitTs < CURDATE() + INTERVAL EXTRACT(HOUR FROM NOW()) + 1 HOUR 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:37:26.943

像这样的东西应该工作：

```
SELECT id 
FROM Run 
WHERE submitTs BETWEEN CAST(CONCAT(DATE_FORMAT(NOW(), '%Y-%m-%d %h'), ':00:00') AS DATETIME)
      AND CAST(CONCAT(DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 HOUR), '%Y-%m-%d %h'), ':00:00') AS DATETIME); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:45:37.520

我认为这样的事情可以帮助你获得现在的时间（）：

```
HOUR(TIME(NOW()) 
```

请参阅[http://dev.mysql.com/doc/refman/5.6/en/date-and-time-functions.html](http://dev.mysql.com/doc/refman/5.6/en/date-and-time-functions.html)中的参考，以在 mysql 中获取更多日期时间函数。

# silverlight - 同步音视频

> ID：12172812
> 
> 赞同：1
> 
> 时间：2012-08-29T07:25:14.260
> 
> 标签：silverlight, windows-phone-7, decode, h.264, mediastreamsource

我需要在 Windwso Phone 应用程序中使用 MediaElement 显示流视频。

我从 web 服务获取一个流，其中包含 H264 格式的帧和原始 AAC 字节（奇怪，但`ffmpeg`只能使用参数解析`-f ac3`）。

因此，如果尝试仅播放其中一个流（音频或视频），它会播放得很好。但是我在尝试两者时都有问题。

例如，如果我报告**没有**时间戳的视频样本并报告**带有**时间戳的音频，我的视频播放速度会比我需要的快 3 到 5 倍。

```
MediaStreamSample msSamp = new MediaStreamSample(
                    _videoDesc,
                    vStream,
                    0,
                    vStream.Length,
                    0,
                    _emptySampleDict);

                ReportGetSampleCompleted(msSamp); 
```

从我的网络服务中，我获得了以下格式的视频和音频帧的 DTS 和 PTS：

> 120665029179960

但是当我将它设置为样本时，我的音频流播放速度太慢并且有延迟。

时基为 90khz。

那么，有人可以告诉我如何解决它吗？也许我应该为样本计算其他时间戳？如果是这样，请给我指路。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T14:23:06.490

好的，我解决了。

所以，我需要为同步 A/V 做些什么：

使用帧率计算每个视频和音频帧的正确时间戳。

例如，对于视频，我有 90 kHz，对于音频，我有 48 kHz 和每秒 25 帧 - 我的帧增量将是：

```
_videoFrameTime = (int)TimeSpan.FromSeconds((double)0.9 / 25).Ticks;
_audioFrameTime = (int)TimeSpan.FromSeconds((double)0.48 / 25).Ticks; 
```

现在我们应该为每个样本添加这些值：

```
private void GetAudioSample()
{
... 
/* Getting sample from buffer */
MediaStreamSample msSamp = new MediaStreamSample(
                    _audioDesc,
                    audioStream,
                    0,
                    audioStream.Length,
                    _currentAudioTimeStamp,
                    _emptySampleDict);

_currentAudioTimeStamp += _audioFrameTime;

ReportGetSampleCompleted(msSamp);
} 
```

对于 gettign 视频帧方法将与 _videoFrameTime 增量相同。

希望这对某人有帮助。

罗马。

# php - PHP 帮助在变量内部声明变量

> ID：12172815
> 
> 赞同：0
> 
> 时间：2012-08-29T07:25:34.240
> 
> 标签：php

好的，所以我有一个页面可以调用 msyql 数据库中的信息列表。比如说，我有一个名为 TABLE 的表，其中包含 id、姓名、电话号码和单选按钮组（家庭、手机、工作）等。我创建了一个脚本，可以在表格中打印姓名、电话号码和“状态（不知道最好叫什么，但它是单选按钮的值）单选按钮。我想做的是让每一行，如果我为单选按钮分配一个值，它将编辑状态部分。比如说，在第 1 行，我单击主页，然后单击第 2 行、单元格和第 3 行主页……等等，然后我点击提交按钮，它将更新数据库。

因此，这是表中单选按钮部分的代码。这是在一个 php 标签下

我最终做的基本上是调用每组单选按钮，status_type1、status_type2、status_type3 ...基本上是radio name='status_type".$info['id']。"

我想做一个 if 语句来查看是否有从按钮上的任何点击中分配的值，然后提交它们以供输入。这就是我到目前为止所拥有的。

```
//Radio Button Template
  <fieldset>
<input type='radio' id='status_type_home' name='status_type".$info['id']."' value='home'  />
    <label for='status_type_home'>home</label>
<input type='radio' id='status_type_work' name='status_type".$info['id']."' value='work'  />
    <label for='status_type_work'>work</label>
<input type='radio' id='status_type_cell' name='status_type".$info['id']."' value='cell'  />
    <label for='status_type_cell'>cell</label>
</fieldset>

 </td>";

//If statement to submit radio buttons

    if ($_POST['status_type "$info['id']"']) 
{
$edit_status_sql="UPDATE status SET type = 'status_type".$info['id'] . "' WHERE id = '" . $id . "'";

$edit_status_res=mysqli_query($connection, $edit_status_sql) or die(mysqli_error($connection));
} 
```

我遇到的问题基本上是，我已将单选按钮的名称声明为 status_type [基于 id 的变量]。不幸的是，这不起作用。我想知道是否有人可以帮助我弄清楚我应该如何格式化它，或者是否可以在变量中声明一个变量。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:29:03.000

您的 PHP 代码在语法上不正确。假设它`$info`具有正确的值，它应该读取

```
if ($_POST["status_type$info[id]"]) 
```

注意：

*   该空间已被删除以匹配 HTML
*   双引号已从字符串内部删除，现在改为定界
*   删除了数组索引中*的*单引号`$info`

您也可以使用等效的`$_POST["status_type".$info['id']]`.

但是，该代码还存在许多其他问题：

*   您似乎对页面中的多个单选按钮使用了相同的 HTML id（每行都重复使用了 id）。这是不正确的；id 应该是唯一的。
*   如果未定义变量，则应该`if`防止；`E_NOTICE`即它应该读`if(isset($_POST[...]))`。
*   该代码易受[SQL 注入](https://stackoverflow.com/questions/60174/best-way-to-prevent-sql-injection-in-php)攻击。这应该立即**修复**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:30:07.480

应该

```
if ($_POST["status_type".$info['id'].""]){
    .....
} 
```

你有：

```
 if ($_POST['status_type "$info['id']"']) {
    .....
  } 
```

我也会这样做：`$statusType = "status_type".$info['id'];`并像使用它一样`$_POST["$statusType"]`

和

```
$edit_status_sql="UPDATE status SET type = '."$statusType".' WHERE id = '".$id."'"; 
```

# objective-c - 山狮中的 IKImageView 奇怪的崩溃

> ID：12172824
> 
> 赞同：2
> 
> 时间：2012-08-29T07:26:12.830
> 
> 标签：objective-c, macos, cocoa, ikimageview

我有一个`IKImageView`和`NSSlider`。我将图像拖放到`IKImageView`并用于`NSSlider`缩放图像。我在随机放大和缩小图像时发生崩溃。这是我在控制台中收到的消息。

```
ImageIO: ImageProviderReleaseInfoCallback $$$ ImageProviderReleaseInfoCallback: cookie without releaseInfo - leaking

IKImage(526,0x100587000) malloc: *** error for object 0x100653d60: pointer being freed was not allocated *** set a breakpoint in malloc_error_break to debug

(lldb) 
```

这是我的代码
**AppDelegate.h**

```
@interface AppDelegate : NSObject <NSApplicationDelegate> {

    IBOutlet IKImageView *imageView;
}
- (IBAction)sliderScliked:(id)sender; 
```

**AppDelegate.m**

```
- (IBAction)sliderScliked:(id)sender {

    [imageView setZoomFactor:[sender doubleValue]];
} 
```

**XCode 项目**

这是 xCode 项目。 [http://goo.gl/p9W3y](http://goo.gl/p9W3y)

我想在这个示例应用程序上尽快解决这个错误。
先感谢您。

IA

# sql - 循环通过没有并发 id 的表

> ID：12172825
> 
> 赞同：0
> 
> 时间：2012-08-29T07:26:13.460
> 
> 标签：sql, sql-server

我有一个包含 memberId 的表，但它们不会同时运行。

我必须如何遍历它们？

我有这个：

```
 select mm.memberid, mm.aspnetuserid, mm.email
 into #MemberIdsToDelete
   from membership.members as mm 
   left join aspnet_membership as asp
     on mm.aspnetuserid=asp.userid 
   left join trade.tradesmen as tr 
     on tr.memberid=mm.memberid  
   where asp.isapproved = 0 and tr.ImportDPN IS NOT NULL and tr.importDPN <> ''
   order by mm.memberid

 ALTER TABLE #MemberIdsToDelete ADD id int NOT NULL AUTO_INCREMENT

 DECLARE @MaxRownum int
 SET @MaxRownum = (SELECT MAX(id) FROM MemberIdsToDelete)

WHILE @Iter <= @MaxRownum
 -- do things
 SET @Iter = @Iter + 1
END 
```

以上不正确，我在更改表行上明显出错：'AUTO_INCREMENT'附近的语法不正确

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:42:52.887

`ALTER TABLE`更改实际表，而不是数据。添加数据后添加列是没有意义的，因此它可能不是您想要的。

您可以使用游标遍历任何结果集，但是关于游标有两个重要规则：

1.  当您可以进行设置操作时，切勿使用光标。
2.  您可能不需要光标来处理您正在考虑的事情，请重新考虑一段时间以确保您需要它。`CURSOR`表示您正在考虑一个 SQL 问题，就像它是一个程序代码问题一样 - 这可能是唯一的方法，但要避免它（如果您没有看到设置的方法，甚至可以做其他事情并在午餐后回来）。

在您说您需要从其他表中删除的评论中，这样做会更好：

```
delete from table1 where memberId in
(
select mm.memberid
   from membership.members as mm 
   left join aspnet_membership as asp
     on mm.aspnetuserid=asp.userid 
   left join trade.tradesmen as tr 
     on tr.memberid=mm.memberid  
   where asp.isapproved = 0 and tr.ImportDPN IS NOT NULL and tr.importDPN <> ''
)
delete from table2 where memberId in
(
select mm.memberid
   from membership.members as mm 
   left join aspnet_membership as asp
     on mm.aspnetuserid=asp.userid 
   left join trade.tradesmen as tr 
     on tr.memberid=mm.memberid  
   where asp.isapproved = 0 and tr.ImportDPN IS NOT NULL and tr.importDPN <> ''
)
delete from table3 where memberId in
(
select mm.memberid
   from membership.members as mm 
   left join aspnet_membership as asp
     on mm.aspnetuserid=asp.userid 
   left join trade.tradesmen as tr 
     on tr.memberid=mm.memberid  
   where asp.isapproved = 0 and tr.ImportDPN IS NOT NULL and tr.importDPN <> ''
) 
```

三个基于集合的操作本质上更快，是查询分析器可以更好地为您优化的工作，最重要的是，它们更易于编写。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:36:37.397

您可以使用游标循环遍历表，如下所示：

```
DECLARE db_cursor CURSOR FOR SELECT Col1, Col2, -- your select query 

OPEN db_cursor
FETCH NEXT FROM db_cursor INTO @Var1, @Var2, -- list of your variables based on select query

WHILE @@FETCH_STATUS = 0   
BEGIN

    -- do stuff

    FETCH NEXT FROM db_cursor INTO @Var1, @Var2, -- list of your variables based on select query
END   

CLOSE db_cursor   
DEALLOCATE db_cursor 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T10:18:44.610

也许 Row_Number() 是你想要的更多 + 我刚刚反映了很多对 OP 的评论：

```
 SELECT 
        IDENTITY(INT,1,1) AS ID,
        ROW_NUMBER() OVER (ORDER BY mm.memberid) AS RowN,
        mm.memberid,
        mm.aspnetuserid,
        mm.email  
    INTO #MemberIdsToDelete    
    FROM 
        membership.members  mm     
        INNER JOIN aspnet_membership  asp      
            ON mm.aspnetuserid=asp.userid     
        INNER JOIN trade.tradesmen  tr       
            ON tr.memberid=mm.memberid      
    WHERE 
        asp.isapproved <> 0 
        AND tr.importDPN <> ''    

    DECLARE @MaxRownum INT  = (SELECT MAX(RowN) FROM MemberIdsToDelete)  
    DECLARE @Iter INT = 0

    WHILE @Iter <= @MaxRownum  
       -- do things  
        SET @Iter = @Iter + 1 
    END 
```

# jquery - 将lazyload插件jquery代码合并到我自己的jquery文件中

> ID：12172826
> 
> 赞同：1
> 
> 时间：2012-08-29T07:26:13.393
> 
> 标签：jquery

希望你不会笑，但我想知道我是否可以这样做：

我有一个普通的 js 文件，它有几个函数，看起来像这样：（我只列出了一个函数以保持代码简短）

```
function traffic(){
    var ANCHOR = $("ul.trf").data('anchor'); 
    var i = 0;
    $('ul.trf li a').each(function() { 
        var $this = $(this); 
        if ($this.text() === ANCHOR) { 
            i++;
            if(i < 10){
                $this.html(''+ANCHOR+' 0'+i+''); 
            }
            else{
                $this.html(''+ANCHOR+' '+i+'');
            }
        } 
    }); 
}

jQuery(document).ready(function($){      
    noborder(); // Removes The Last li Border
    menu_border(); // Ads Borders to Menu on index.php
    gallery();
    traffic();
}); 
```

**我还有第二个带有延迟加载插件代码的 jquery 文件：**

（这是最小版本）

```
(function(a,b){var c=a(b);a.fn.lazyload=function(d){function h(){var b=0;e.each(function(){var c=a(this);if(g.skip_invisible&&!c.is(":visible"))return;if(!a.abovethetop(this,g)&&!a.leftofbegin(this,g))if(!a.belowthefold(this,g)&&!a.rightoffold(this,g))c.trigger("appear");else if(++b>g.failure_limit)return!1})}var e=this,f,g={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null};return d&&(undefined!==d.failurelimit&&(d.failure_limit=d.failurelimit,delete d.failurelimit),undefined!==d.effectspeed&&(d.effect_speed=d.effectspeed,delete d.effectspeed),a.extend(g,d)),f=g.container===undefined||g.container===b?c:a(g.container),0===g.event.indexOf("scroll")&&f.bind(g.event,function(a){return h()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,c.one("appear",function(){if(!this.loaded){if(g.appear){var d=e.length;g.appear.call(b,d,g)}a("<img />").bind("load",function(){c.hide().attr("src",c.data(g.data_attribute))[g.effect](g.effect_speed),b.loaded=!0;var d=a.grep(e,function(a){return!a.loaded});e=a(d);if(g.load){var f=e.length;g.load.call(b,f,g)}}).attr("src",c.data(g.data_attribute))}}),0!==g.event.indexOf("scroll")&&c.bind(g.event,function(a){b.loaded||c.trigger("appear")})}),c.bind("resize",function(a){h()}),h(),this},a.belowthefold=function(d,e){var f;return e.container===undefined||e.container===b?f=c.height()+c.scrollTop():f=a(e.container).offset().top+a(e.container).height(),f<=a(d).offset().top-e.threshold},a.rightoffold=function(d,e){var f;return e.container===undefined||e.container===b?f=c.width()+c.scrollLeft():f=a(e.container).offset().left+a(e.container).width(),f<=a(d).offset().left-e.threshold},a.abovethetop=function(d,e){var f;return e.container===undefined||e.container===b?f=c.scrollTop():f=a(e.container).offset().top,f>=a(d).offset().top+e.threshold+a(d).height()},a.leftofbegin=function(d,e){var f;return e.container===undefined||e.container===b?f=c.scrollLeft():f=a(e.container).offset().left,f>=a(d).offset().left+e.threshold+a(d).width()},a.inviewport=function(b,c){return!a.rightofscreen(b,c)&&!a.leftofscreen(b,c)&&!a.belowthefold(b,c)&&!a.abovethetop(b,c)},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return!a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})})(jQuery,window) 
```

有没有办法将两个文件合并为一个？

我在页脚中调用lazyload插件，如下所示：

```
$("img.lazy").show();
$(window).bind("load", function() { 
    var timeout = setTimeout(function(){$("img.lazy").lazyload({effect : "fadeIn"})}, 800);
    /*$("img.lazy").show().lazyload({effect : "fadeIn"}); */
    /*$("img.lazy").lazyload({effect : "fadeIn"})*/
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:27:57.283

您应该能够毫无问题地将一个文件的源复制到另一个文件中。

只需确保在使用之前定义了所有内容。一个好的方法是首先包含 jQuery，然后是任何插件，然后是您自己的代码。

它们是在同一个文件中还是在不同的文件中并不重要——唯一重要的是顺序。

# android - android布局xml错误

> ID：12172827
> 
> 赞同：0
> 
> 时间：2012-08-29T07:26:35.330
> 
> 标签：android, xml, layout, scrollview, android-linearlayout

--EDITED-- OMG ..我忘了看logcat。我在下面附加了日志，令人惊讶的是它内存不足。这是没有意义的，因为图像是小png的......

================================

我对下面代码的意图是在 3 x 3 矩阵中显示图像按钮。它可以很好地显示前 6 张图像，但是当我添加最后一个包含 3 张图像的线性布局时，它崩溃了。我什至无法得到错误的具体原因。

```
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent" >
<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical"
    >

<LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="150dip"
        android:orientation="horizontal"
        android:padding="10dip"
        >
        <FrameLayout
            android:layout_width="fill_parent"
            android:layout_height="150dip"
            android:layout_weight="1"
            >
            <ImageButton
                android:id="@+id/background_type0"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:src="@drawable/bg_skin0"
                android:scaleType="fitXY"
                android:layout_margin="5dip"
                android:padding="1dip"
                android:background="#FFFFFF"
                />
            <ImageView
                android:id="@+id/background_check0"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/background_check"
                android:visibility="invisible"
                />
            </FrameLayout>
        <FrameLayout
            android:layout_width="fill_parent"
            android:layout_height="150dip"
            android:layout_weight="1"
            >
            <ImageButton
                android:id="@+id/background_type1"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:src="@drawable/bg_skin1"
                android:scaleType="fitXY"
                android:layout_margin="5dip"
                android:padding="1dip"
                android:background="#FFFFFF"
                />
            <ImageView
                android:id="@+id/background_check1"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/background_check"
                android:visibility="invisible"
                />
            </FrameLayout>
        <FrameLayout
            android:layout_width="fill_parent"
            android:layout_height="150dip"
            android:layout_weight="1"
            >
            <ImageButton
                android:id="@+id/background_type2"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:src="@drawable/bg_skin2"
                android:scaleType="fitXY"
                android:layout_margin="5dip"
                android:padding="1dip"
                android:background="#FFFFFF"
                />
            <ImageView
                android:id="@+id/background_check2"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/background_check"
                android:visibility="invisible"
                />
            </FrameLayout>
        </LinearLayout>

<LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="150dip"
        android:orientation="horizontal"
        android:padding="10dip"
        >
        <FrameLayout
            android:layout_width="fill_parent"
            android:layout_height="150dip"
            android:layout_weight="1"
            >
            <ImageButton
                android:id="@+id/background_type3"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:src="@drawable/bg_skin3"
                android:scaleType="fitXY"
                android:layout_margin="5dip"
                android:padding="1dip"
                android:background="#FFFFFF"
                />
            <ImageView
                android:id="@+id/background_check3"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/background_check"
                android:visibility="invisible"
                />
            </FrameLayout>
        <FrameLayout
            android:layout_width="fill_parent"
            android:layout_height="150dip"
            android:layout_weight="1"
            >
            <ImageButton
                android:id="@+id/background_type4"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:src="@drawable/bg_skin4"
                android:scaleType="fitXY"
                android:layout_margin="5dip"
                android:padding="1dip"
                android:background="#FFFFFF"
                />
            <ImageView
                android:id="@+id/background_check4"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/background_check"
                android:visibility="invisible"
                />
            </FrameLayout>
        <FrameLayout
            android:layout_width="fill_parent"
            android:layout_height="150dip"
            android:layout_weight="1"
            >
            <ImageButton
                android:id="@+id/background_type5"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:src="@drawable/bg_skin5"
                android:scaleType="fitXY"
                android:layout_margin="5dip"
                android:padding="1dip"
                android:background="#FFFFFF"
                />
            <ImageView
                android:id="@+id/background_check5"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/background_check"
                android:visibility="invisible"
                />
            </FrameLayout>
        </LinearLayout>

<LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="150dip"
        android:orientation="horizontal"
        android:padding="10dip"
        >
        <FrameLayout
            android:layout_width="fill_parent"
            android:layout_height="150dip"
            android:layout_weight="1"
            >
            <ImageButton
                android:id="@+id/background_type6"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:src="@drawable/bg_skin4"
                android:scaleType="fitXY"
                android:layout_margin="5dip"
                android:padding="1dip"
                android:background="#FFFFFF"
                />
            <ImageView
                android:id="@+id/background_check6"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/background_check"
                android:visibility="invisible"
                />
            </FrameLayout>
        <FrameLayout
            android:layout_width="fill_parent"
            android:layout_height="150dip"
            android:layout_weight="1"
            >
            <ImageButton
                android:id="@+id/background_type7"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:src="@drawable/bg_skin4"
                android:scaleType="fitXY"
                android:layout_margin="5dip"
                android:padding="1dip"
                android:background="#FFFFFF"
                />
            <ImageView
                android:id="@+id/background_check7"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/background_check"
                android:visibility="invisible"
                />
            </FrameLayout>
        <FrameLayout
            android:layout_width="fill_parent"
            android:layout_height="150dip"
            android:layout_weight="1"
            >
            <ImageButton
                android:id="@+id/background_type8"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:src="@drawable/bg_skin4"
                android:scaleType="fitXY"
                android:layout_margin="5dip"
                android:padding="1dip"
                android:background="#FFFFFF"
                />
            <ImageView
                android:id="@+id/background_check8"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/background_check"
                android:visibility="invisible"
                />
            </FrameLayout>
        </LinearLayout>

</LinearLayout>
</ScrollView>

> 08-29 00:50:01.126: E/dalvikvm-heap(10898): Out of memory on a 5502768-byte allocation.
> 08-29 00:50:01.126: I/dalvikvm(10898): "main" prio=5 tid=1 RUNNABLE
> 08-29 00:50:01.126: I/dalvikvm(10898):   | group="main" sCount=0 dsCount=0 obj=0x40c7d460 self=0x1047b48
> 08-29 00:50:01.126: I/dalvikvm(10898):   | sysTid=10898 nice=0 sched=0/0 cgrp=default handle=1074947336
> 08-29 00:50:01.126: I/dalvikvm(10898):   | schedstat=( 4822784373 917424823 12708 ) utm=427 stm=54 core=0
> 08-29 00:50:01.126: I/dalvikvm(10898):   at android.graphics.Bitmap.nativeCreate(Native Method)
> 08-29 00:50:01.131: I/dalvikvm(10898):   at android.graphics.Bitmap.createBitmap(Bitmap.java:605)
> 08-29 00:50:01.131: I/dalvikvm(10898):   at android.graphics.Bitmap.createBitmap(Bitmap.java:551)
> 08-29 00:50:01.131: I/dalvikvm(10898):   at android.graphics.Bitmap.createScaledBitmap(Bitmap.java:437)
> 08-29 00:50:01.131: I/dalvikvm(10898):   at android.graphics.BitmapFactory.finishDecode(BitmapFactory.java:618)
> 08-29 00:50:01.131: I/dalvikvm(10898):   at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:593)
> 08-29 00:50:01.131: I/dalvikvm(10898):   at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:445)
> 08-29 00:50:01.131: I/dalvikvm(10898):   at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:775)
> 08-29 00:50:01.131: I/dalvikvm(10898):   at android.content.res.Resources.loadDrawable(Resources.java:1968)
> 08-29 00:50:01.131: I/dalvikvm(10898):   at android.content.res.TypedArray.getDrawable(TypedArray.java:601)
> 08-29 00:50:01.136: I/dalvikvm(10898):   at android.widget.ImageView.<init>(ImageView.java:119)
> 08-29 00:50:01.136: I/dalvikvm(10898):   at android.widget.ImageButton.<init>(ImageButton.java:85)
> 08-29 00:50:01.136: I/dalvikvm(10898):   at android.widget.ImageButton.<init>(ImageButton.java:81)
> 08-29 00:50:01.136: I/dalvikvm(10898):   at java.lang.reflect.Constructor.constructNative(Native Method)
> 08-29 00:50:01.136: I/dalvikvm(10898):   at java.lang.reflect.Constructor.newInstance(Constructor.java:417)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.view.LayoutInflater.createView(LayoutInflater.java:586)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.view.LayoutInflater.onCreateView(LayoutInflater.java:653)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:678)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.view.LayoutInflater.rInflate(LayoutInflater.java:739)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.view.LayoutInflater.rInflate(LayoutInflater.java:742)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.view.LayoutInflater.rInflate(LayoutInflater.java:742)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.view.LayoutInflater.rInflate(LayoutInflater.java:742)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.view.LayoutInflater.inflate(LayoutInflater.java:489)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.view.LayoutInflater.inflate(LayoutInflater.java:396)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.view.LayoutInflater.inflate(LayoutInflater.java:352)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:283)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.app.Activity.setContentView(Activity.java:1892)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at com.Soragi.AndroidClient.Settings.BackgroundSettingActivity.onCreate(BackgroundSettingActivity.java:17)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.app.Activity.performCreate(Activity.java:4533)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1053)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1934)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1995)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.app.ActivityThread.access$600(ActivityThread.java:128)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1161)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.os.Handler.dispatchMessage(Handler.java:99)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.os.Looper.loop(Looper.java:137)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at android.app.ActivityThread.main(ActivityThread.java:4514)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at java.lang.reflect.Method.invokeNative(Native Method)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at java.lang.reflect.Method.invoke(Method.java:511)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760)
> 08-29 00:50:01.141: I/dalvikvm(10898):   at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:36:05.947

在滚动视图中，您可以放置​​一个视图，因此在滚动视图中放置一个主线性布局，并在其中将您放置的整个结构直接放在滚动视图中。

# android - Android MyFirstApp + WebView 因“无法启动活动”而死

> ID：12172832
> 
> 赞同：1
> 
> 时间：2012-08-29T07:27:01.587
> 
> 标签：android, webview

我正在尝试修改 Android 教程（[http://developer.android.com/training/basics/firstapp/index.html](http://developer.android.com/training/basics/firstapp/index.html)），以便用户输入应用程序不会显示文本，而是加载他们输入的 url 并显示它在 Web 视图中。

这是我的目录...

```
 D/dalvikvm(  401): GC_CONCURRENT freed 431K, 6% free 9693K/10311K, paused 474ms+125ms, total 7912ms
    D/myfirstapp_tag( 1090): Main Line 23
    D/myfirstapp_tag( 1090): Main Line 26
    D/myfirstapp_tag( 1090): Main Line 28
    D/myfirstapp_tag( 1090): Main Line 30
    D/myfirstapp_tag( 1090): Main Line 32
    I/ActivityManager(  150): START {cmp=com.example.myfirstapp/.DisplayMessageActivity (has extras) u=0} from pid 1090
    W/WindowManager(  150): Failure taking screenshot for (246x410) to layer 21015
    I/Choreographer( 1090): Skipped 137 frames!  The application may be doing too much work on its main thread.
    D/myfirstapp_tag( 1090): Line 14
    D/myfirstapp_tag( 1090): Line 16
    D/myfirstapp_tag( 1090): Line 20
    D/myfirstapp_tag( 1090): Line 22
    D/myfirstapp_tag( 1090): Line 32
    D/myfirstapp_tag( 1090): Line 34
    D/AndroidRuntime( 1090): Shutting down VM
    W/dalvikvm( 1090): threadid=1: thread exiting with uncaught exception (group=0x40a13300)
    E/AndroidRuntime( 1090): FATAL EXCEPTION: main
    E/AndroidRuntime( 1090): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myfirstapp/com.example                                  .myfirstapp.DisplayMessageActivity}: java.lang.NullPointerException
    E/AndroidRuntime( 1090):        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)
    E/AndroidRuntime( 1090):        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
    E/AndroidRuntime( 1090):        at android.app.ActivityThread.access$600(ActivityThread.java:130)
    E/AndroidRuntime( 1090):        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
    E/AndroidRuntime( 1090):        at android.os.Handler.dispatchMessage(Handler.java:99)
    E/AndroidRuntime( 1090):        at android.os.Looper.loop(Looper.java:137)
    E/AndroidRuntime( 1090):        at android.app.ActivityThread.main(ActivityThread.java:4745)
    E/AndroidRuntime( 1090):        at java.lang.reflect.Method.invokeNative(Native Method)
    E/AndroidRuntime( 1090):        at java.lang.reflect.Method.invoke(Method.java:511)
    E/AndroidRuntime( 1090):        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
    E/AndroidRuntime( 1090):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
    E/AndroidRuntime( 1090):        at dalvik.system.NativeStart.main(Native Method)
    E/AndroidRuntime( 1090): Caused by: java.lang.NullPointerException
    E/AndroidRuntime( 1090):        at com.example.myfirstapp.DisplayMessageActivity.onCreate(DisplayMessageActivity.java:36)
    E/AndroidRuntime( 1090):        at android.app.Activity.performCreate(Activity.java:5008)
    E/AndroidRuntime( 1090):        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
    E/AndroidRuntime( 1090):        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
    E/AndroidRuntime( 1090):        ... 11 more
    W/ActivityManager(  150):   Force finishing activity com.example.myfirstapp/.DisplayMessageActivity
    W/ActivityManager(  150):   Force finishing activity com.example.myfirstapp/.MainActivity
    W/ActivityManager(  150): Activity pause timeout for ActivityRecord{415e1cc8 com.example.myfirstapp/.DisplayMessageActivity} 
```

我在 ubuntu 上以命令行方式执行此操作，所以这是我的 ./AndroidManifest.xml

```
 <?xml version="1.0" encoding="utf-8"?>
    <manifest xmlns:android="http://schemas.android.com/apk/res/android"
            package="com.example.myfirstapp"
            android:versionCode="1"
            android:versionName="1.0">
            <uses-permission android:name="android.permission.INTERNET" />
            <application android:label="@string/app_name" android:icon="@drawable/ic_launcher">
              <activity android:name="MainActivity" android:label="@string/app_name">
                <intent-filter>
                 <action android:name="android.intent.action.MAIN" />
                 <category android:name="android.intent.category.LAUNCHER" />
                </intent-filter>
              </activity>
              <activity     android:name=".DisplayMessageActivity" android:label="@string/title_activity_display_message" >
                <meta-data  android:name="android.support.PARENT_ACTIVITY" android:value="com.example.myfirstapp.MainActivity" />
              </activity>
            </application>
    </manifest> 
```

这是我的 res/layout/main.xml ...

```
 <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
            xmlns:tools="http://schemas.android.com/tools"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:orientation="horizontal">
              <EditText android:id="@+id/edit_message"
                android:layout_weight="1"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:hint="@string/edit_message" />
              <Button
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/button_send"
                android:onClick="sendMessage" />
    </LinearLayout> 
```

...和我的 res/layout/webview.xml 文件：

```
 <?xml version="1.0" encoding="utf-8"?>
    <WebView  xmlns:android="http://schemas.android.com/apk/res/android"
            android:id="@+id/webview"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
    /> 
```

我有两个源文件。这个 src/com/example/myfirstapp/MainActivity.java

```
 package com.example.myfirstapp;

    import android.app.Activity;
    import android.view.View;
    import android.content.Intent;
    import android.os.Bundle;
    import android.widget.EditText;
    import android.util.Log;

    public class MainActivity extends Activity {
            public final static String EXTRA_MESSAGE = "com.example.myfirstapp.MESSAGE";

            /** Called when the activity is first created. */
            @Override
            public void onCreate(Bundle savedInstanceState) {
    Log.d ("myfirstapp_tag", "Main Line 15" );
              super.onCreate(savedInstanceState);
    Log.d ("myfirstapp_tag", "Main Line 17" );
              setContentView(R.layout.main);
    Log.d ("myfirstapp_tag", "Main Line 19" );
            }
            /** Called when the user clicks the Send button */
            public void sendMessage(View view) {
    Log.d ("myfirstapp_tag", "Main Line 23" );
              // Do something in response to button
              Intent intent = new Intent(this, com.example.myfirstapp.DisplayMessageActivity.class);
    Log.d ("myfirstapp_tag", "Main Line 26" );
              EditText editText = (EditText) findViewById(R.id.edit_message);
    Log.d ("myfirstapp_tag", "Main Line 28" );
              String message = editText.getText().toString();
    Log.d ("myfirstapp_tag", "Main Line 30" );
              intent.putExtra(EXTRA_MESSAGE, message);
    Log.d ("myfirstapp_tag", "Main Line 32" );
              startActivity(intent);
            }
    } 
```

而这个... src/com/example/myfirstapp/DisplayMessageActivity.java

```
 package com.example.myfirstapp;
    import android.app.Activity;
    import android.content.Intent;
    import android.widget.TextView;
    import android.view.View;
    import android.webkit.WebView;
    import android.os.Bundle;
    import android.util.Log;

    public class DisplayMessageActivity extends Activity {
            @Override
            public void onCreate(Bundle savedInstanceState) {
    Log.d ("myfirstapp_tag", "Line 14" );
              super.onCreate(savedInstanceState);
    Log.d ("myfirstapp_tag", "Line 16" );

              // Get the message from the intent
              Intent intent = getIntent();
    Log.d ("myfirstapp_tag", "Line 20" );
              String message = intent.getStringExtra(com.example.myfirstapp.MainActivity.EXTRA_MESSAGE);
    Log.d ("myfirstapp_tag", "Line 22" );

              // Create the text view
    //        TextView textView = new TextView(this);
    //        textView.setTextSize(40);
    //        textView.setText(message);

              // Set the text view as the activity layout
    //        setContentView(textView);
              //WebView webView = new WebView(this); //WebView myWebView = (WebView) findViewById(R.id.webview);
    Log.d ("myfirstapp_tag", "Line 32" );
              WebView webView = (WebView) findViewById(R.id.webview); //webView = (WebView) findViewById(R.id.webview);
    Log.d ("myfirstapp_tag", "Line 34" );
              //setContentView(webView);
              webView.loadUrl(message);
    Log.d ("myfirstapp_tag", "Line 37" );
              setContentView(webView);
    Log.d ("myfirstapp_tag", "Line 39" );
            }
    } 
```

我可以从目录中看到该行...

```
 WebView webView = (WebView) findViewById(R.id.webview); 
```

...是我的应用程序正在死去的地方。我只是不明白为什么。有人可以帮我吗 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:31:24.740

你必须调用 setContentView(R.layout.xmlfile); 在调用此行之前，

```
 WebView webView = (WebView) findViewById(R.id.webview); 
```

这是因为您试图引用已在 xml 文件中分配的资源。

但是Android如果不映射到xml文件就找不到资源。

因此，只有当您使用 xml 文件调用 setContentView 时，andorid 才会尝试`WebView`使用您在`findViewByID()`. 如果不是，它肯定会返回 NPException。

或者，如果您不想使用 xml 分配的资源，请执行此操作，

```
WebView webView = new WebView(this);
 webView.loadUrl(message);
 setContentView(webView); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T07:55:25.807

你忘了打电话

```
setContentView(R.layout.webview); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T07:32:51.690

代替

```
WebView webView = (WebView) findViewById(R.id.webview); 
```

将其更改为

```
WebView webView = new WebView(this); 
```

然后打电话

```
setContentView(w); 
```

或者

在`your_layout.xml`, 应该包含 webview

在`onCreate()`这个`DisplayActivity`应该首先调用

```
setContentView(R.layout.your_layout); 
```

然后你可以打电话

```
WebView webView = (WebView) findViewById(R.id.webview); 
```

现在您可以在`WebView`对象中进行操作

# ios - 游戏中心集成延迟

> ID：12172840
> 
> 赞同：1
> 
> 时间：2012-08-29T07:27:34.950
> 
> 标签：ios, app-store-connect, game-center

据我了解：

*   GameCenter 集成需要在 iTunes Connect 上注册应用程序
*   应用注册后，必须在 3 个月内发布二进制文件（否则我无法重复使用此应用名称）

我是否应该假设必须在不到 3 个月的时间内将 GameCenter 功能集成到我的应用程序中？

有没有办法让这个开发有更多的时间？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:43:12.280

也许注册一个用于开发和添加 Game Center 的占位符应用程序，然后当您更接近比赛时，在 iTunes Connect 中创建实际应用程序并重新创建 Game Center 设置。这将为您提供更多时间并让您的应用程序名称免费使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T00:50:51.047

我注册了一个假名（真实姓名加一个零），因为我确信我不会在三个月内准备好提交应用程序。原来，给了我6个月的时间。5个月后，我收到了这封电子邮件：

/" 您尚未为您的应用程序 xxx0 上传二进制文件。我们的记录显示该应用程序是 150 多天前在 iTunes Connect 中创建的。

如果您在 2012 年 9 月 6 日（太平洋时间）之前没有为您的应用上传二进制文件，它将从 iTunes Connect 中删除。然后，该应用名称将可供其他开发人员使用。"/

我提交了一个虚拟名称很好，因为该应用程序也不会在 6 个月内准备好。现在我已经提交了真名，所以我不在乎假名何时到期。但请注意，无法将信息从一个应用程序复制到另一个应用程序。您必须重新输入有关您的应用程序的信息，游戏中心信息以及应用程序内购买信息（如果您有应用内购买）的整个繁琐耗时的过程。然后你必须弄清楚如何在 Xcode 中更改应用程序的名称。Apple 对业余/爱好开发者实施这个时间限制是可行的，但很烦人。

# postgresql - 使用 pg_pconnect (php-fpm) 有意义吗

> ID：12172842
> 
> 赞同：0
> 
> 时间：2012-08-29T07:27:36.080
> 
> 标签：postgresql, php

我在 10 台使用 php-fpm 的服务器上每秒有大约 11000 次点击。*我正在从 mysql 迁移到 postgres，所以我的问题是使用 pg_* p* *connect有意义吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T14:30:43.697

最好使用像[PgBouncer](http://wiki.postgresql.org/wiki/PgBouncer)这样的专用连接池。

性能应该与 相当`pg_pconnect`，但 PgBouncer[将允许](http://pgbouncer.projects.postgresql.org/doc/faq.html#_cleaning_prepared_statements_on_postgresql_8_3_and_newer)在 PHP 代码出错后执行清理。`pg_pconnect` [不会自动清理打开的事务、锁、准备好的语句](http://www.php.net/manual/en/features.persistent-connections.php)等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T11:20:13.710

建立与 PostgreSQL 服务器的连接预计比与 MySQL 服务器的连接要昂贵得多。这是由于这些数据库在如何处理独立连接之间的资源分配和特权分离方面的不同设计选择。

因此，对于一个网站，尽可能重用与 PostgreSQL 的连接是完全有意义的。

通常推荐的方法不是使用`pg_pconnect`，而是使用更适合此任务的外部连接池，如[pgBouncer](http://wiki.postgresql.org/wiki/PgBouncer)或[pgPoolII 。](http://wiki.postgresql.org/wiki/Pgpool-II)但是，当使用 PHP-FPM 时，您已经有了一个中间件，可以让您通过 fpm 进程管理器选项以某种方式控制打开的连接数，因此它可能已经足够好了。您可以考虑设置`pm.max_requests`为非零值，以确保以合理的频率清理连接，并避免在非高峰时间保留一堆未使用的连接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T10:41:33.570

好吧，pg_pconnect 意味着每个 PHP 后端有一个连接，所以这取决于你有多少个后端。使用传统的 Apache mod-php 设置，它不会启动，但您可能会侥幸成功。

数据库服务器可以处理数百个空闲连接，但如果它们都同时发出查询，几乎可以肯定会停止。我已经看到每个核心不超过两个连接的经验法则 - 这是假设 I/O 不会首先限制您。

常见的方法是运行一个像[pgbouncer](http://wiki.postgresql.org/wiki/PgBouncer)这样的连接池并让 php 连接每个请求。这可以减少您的连接开销，同时保持并发的合理性。

# winapi - .NET 中的多选树（在 UIA 中可见）与 win32 树视图？

> ID：12172843
> 
> 赞同：0
> 
> 时间：2012-08-29T07:27:40.727
> 
> 标签：winapi, user-interface, frameworks, automation, treeview

我需要一个支持多选的.net 中的树视图。在 wpf 或 winforms 中自己的实现（这两个没有开箱即用的多选！？）是不行的，我需要在 ms ui 自动化框架中可见的多选。

有谁知道这是否可以通过 win32 树视图实现？或者知道如何在自动化框架中也可见的 wpf/winforms 中实现多选？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T20:32:37.230

从技术上讲，即使是令人敬畏的 Infragistics 控件对 UI 自动化框架也是可见的，但我认为您需要将“核心类”与传统的 msaa 模式一起使用（这就是我对 Infragistics 和 UI 自动化所做的事情）。

至于更友好和免费的东西，我建议试试这个： http: [//www.codeproject.com/Articles/20581/Multiselect-Treeview-Implementation](http://www.codeproject.com/Articles/20581/Multiselect-Treeview-Implementation)

我使用它并且对它非常满意。我实际上并没有自动化它，而是在其他地方使用它。不过，基于查看代码，我认为它对 UI 自动化很友好。

# javascript - 显示 div 15 秒，然后显示另一个 div

> ID：12172848
> 
> 赞同：0
> 
> 时间：2012-08-29T07:28:09.140
> 
> 标签：javascript, delay, setinterval

我有一个游戏网站，我想在游戏前放一个广告。所以有人可以告诉我如何在下面显示广告 div 15 秒。“游戏将在 [time left] 秒后开始”。然后一个时间到了，它将显示保存游戏的 div。请在javascript中。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:32:56.120

我建议看一下[setTimeout](http://www.w3schools.com/jsref/met_win_settimeout.asp)。它允许你在一段时间后做某事。如果您需要更多帮助，请告诉我们。

编辑：对不起，我误读了你的问题。您应该使用的更合适的方法是[setInterval](http://www.w3schools.com/jsref/met_win_setinterval.asp)，因此在 15 秒内的每一秒，您都可以显示时间。斯佩兰斯基的回答是正确的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T07:37:25.317

演示：http: [//jsfiddle.net/myDTK/1](http://jsfiddle.net/myDTK/1)

```
var secondsLeft = 15;
var delay = 1000; // 1 second

var interval = setInterval(function () {
  if (secondsLeft > 0) {
    document.getElementById('timer').innerHTML = 'The game will start in ' + secondsLeft + ' seconds...';
    secondsLeft -= 1;
  } else {
    document.getElementById('timer').style.display = 'none';
    clearInterval(interval);
    document.getElementById('game').style.display = 'block';
  }
}, delay);​ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T07:37:31.003

```
 function doSome() {
       //do some
    }

    setTimeout(function(){
       doSome();
    }, 15000); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:33:23.447

看看 setTimeout 函数

例如。

```
setTimeout(function(){
  //code to hide the div and how game div
}, 15000); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-29T07:36:18.080

这是一个使用 jQuery的[实时示例。](http://jsfiddle.net/uNaRH/)

基本上只需创建一个添加 div 的函数，在需要时调用该函数，然后在该函数`setTimeout(removeFunction, 15000)`中调用 15 秒后的删除函数。

为了执行倒数计时器，您可以每秒调用一次函数 updateTimer（再次，`setTimeout(updateTimer, 1000)`）并让该函数简单地搜索计时器并减少计数器。

# authentication - 如何使用谷歌应用脚 本识别用户？

> ID：12172849
> 
> 赞同：2
> 
> 时间：2012-08-29T07:28:14.913
> 
> 标签：authentication, google-apps-script, web-applications, google-sites

我需要一种识别用户的方法。我有一个谷歌网站，用户可以通过他们的 gmail 帐户访问。我的网站旨在允许用户查看任何数据，但只能编辑他们自己的数据。这对我来说很好，因为我是网站的所有者和脚本的发布者，但会为其他任何人`Session.getActiveUser().getUserLoginId()`返回`null`。
请为我提供有关此问题的解决方案。任何链接/任何代码？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T07:46:42.863

I suppose, that the script is deployed with the `Execute the app as:` combobox set to `me`. Please check it and change the combobox value to `User accessing the web app`.

# asp.net - 我如何从 asp.net 归档系统启动 Joget 进程并在 API 调用期间发送额外参数

> ID：12172855
> 
> 赞同：0
> 
> 时间：2012-08-29T07:28:29.397
> 
> 标签：asp.net, json, api, rest

我正在开发一个名为 Joget 的 BPM 工具，它提供了一个 API 来从外部系统启动其业务流程。它提供的用于启动进程的 API 是`web/json/workflow/process/start/(*:processDefId).`

现在我的一个客户有一个基于 asp.net 的存档系统，该系统通常允许扫描图像、图像处理并最终将其保存到数据库中。

所以我需要将归档系统与 Joget 工作流集成，以便在归档文档后启动 Joget 工作流。我读到了允许从外部工具（在我的例子中是 asp.net 归档系统）启动进程的 API，但这在我心中提出了两个问题：-

1.  归档系统如何知道 Joget`processDefId`将其作为 API 调用的一部分发送；例如，这应该手动定义吗？
2.  如何从 Joget 工作流程中访问存档文档；例如，我是否应该在 API 调用期间发送存档文档 URL，如果是，我该怎么做，因为我只能在调用启动流程 API 时发送“（*：processDefId）”。

BR

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T08:14:29.983

1.  手动定义是一种选择。但更好的选择是将 processDefId 存储在数据库参数表中。
2.  我建议分离两个数据库，一个包含工作流变量的工作流数据库和一个存储任何其他信息的应用程序数据库。您可以在启动流程 API 期间将工作流变量发送为 web/json/workflow/process/start/(:processDefId)?var_A=value&var_B=value 其中 A 和 B 在流程定义中被定义为工作流变量。

# codeigniter - 根目录中的 Codeigniter HMVC 模块

> ID：12172856
> 
> 赞同：1
> 
> 时间：2012-08-29T07:28:39.897
> 
> 标签：codeigniter, hmvc

我是 Codeigniter HMVC 的新手。我阅读了如何安装和使用模块，看起来一切都很好。

我正在尝试使用应用程序文件夹之外的模块，但没有运气。

我正在尝试浏览到我的网址：*localhost/contacts/admin*

**应用程序/config/config.php**

```
// Modular 
$config['modules_locations'] = array(
    APPPATH.'modules/' => '../../modules/',
); 
```

**ROOT/modules/contacts/controller/contacts.php**

```
class Contacts extends MX_Controller  {
    var $ci;
    public function __construct() {
        parent::__construct(); 
        $this->ci =& get_instance();
        $this->load->helper('url');
    }
    function admin() {
        echo 'Controller: ROOT/Modules/Contacts<br />';
        $this->load->view('admin');
    }
} 
```

这里似乎一切正常 - 控制器已加载，但随后我从视图开始，有些事情变得疯狂：

我有 2 个相同的模块。1 在 ROOT 目录中，另一个在*应用程序*目录中。控制器从 ROOT 模块加载，但视图来自应用程序目录（application/modules/contacts/views/admin.php）。

然后我删除**application/modules/contacts/view**中的视图目录，得到错误：

> 无法加载请求的文件：admin.php

如果我从应用程序文件夹中删除模块目录，它会加载默认视图。

所以任何人都可以帮助弄清楚如何使用 HMVC，因为直到现在我都无法理解它是如何工作的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T22:05:19.193

关于什么 ！？：

```
$config['modules_locations'] = array(
   APPPATH.'modules/' =>  $['HTTP_HOST'].'/ROOT/modules',
); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-07T08:51:33.600

默认情况下，您的视图需要在，

```
ROOT/modules/contacts/views/ 
```

但是，如果您想要自定义 Views 文件夹，之前已经回答过了。请参考以下链接。

[使用 CodeIgniter 加载视图文件夹外的视图](https://stackoverflow.com/questions/17358535/loading-view-outside-view-folder-with-codeigniter)

# iphone - 处理 CGMutablePath 时的内存泄漏

> ID：12172857
> 
> 赞同：0
> 
> 时间：2012-08-29T07:28:40.993
> 
> 标签：iphone, ios, cocoa-touch, core-graphics

`CGMutablePath`在以下情况下使用 a 时出现内存泄漏：

```
- (CGMutablePathRef) textMutablePathForFrame:(CGRect)frame
{
    CGAffineTransform transform = CGAffineTransformMakeScale(frame.size.width / self.shapeMutablePathSize.width, frame.size.height / self.shapeMutablePathSize.height);

    return CGPathCreateMutableCopyByTransformingPath(self.shapeMutablePath, &transform);
}

- (CTFrameRef) textFrameForFrame:(CGRect)frame framesetter:(CTFramesetterRef)framesetter
{
    CGMutablePathRef textMutablePath = [self textMutablePathForFrame:frame];
    CTFrameRef textFrame = CTFramesetterCreateFrame(framesetter, CFRangeMake(0, 0), textMutablePath, NULL);
    CGPathRelease(textMutablePath);

    return textFrame;
} 
```

通过仪器分析，我在带有“ `return`”的行中`textMutablePathForFrame`发现内存泄漏，其中表示“在第 132 行分配的对象的潜在泄漏”（第 132 行是返回行本身）。

我还在`textFrameForFrame`“”行出现内存泄漏`CGPathRelease(textMutablePath);`：“调用者此时不拥有的对象的引用计数不正确递减”。

无法理解这一点，感觉我终于对 Core 中的内存管理有了一个很好的理解。

更新：看起来这可能是一个错误，要再撞一次，看看其他人是否有不同的感觉。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T14:45:50.523

@JonathanCichon 原则上是正确的，但命名约定错误。ObjC 方法的正确命名约定是`newMutablePathForFrame`. 分析仪是正确的。“创建”规则仅适用于 Core Foundation。ObjC 命名约定在[Advanced Memory Management Programming Guide](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmRules.html)中。Core Foundation 规则略有不同，包括“创建”规则，位于[Core Foundation 的内存管理编程指南中](https://developer.apple.com/library/ios/#documentation/CoreFoundation/Conceptual/CFMemoryMgmt/CFMemoryMgmt.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:31:40.180

我不认为你有内存泄漏，将你的`textMutablePathForFrame`方法名称更改为`createMutablePathForFrame`，警告应该消失。

# sql - SQL Server 空间查询优化

> ID：12172858
> 
> 赞同：4
> 
> 时间：2012-08-29T07:28:43.393
> 
> 标签：sql, sql-server, indexing, query-optimization, spatial

我有一个表（Table2），其中包含一些存储为地理数据类型的区域（多边形）。该表包含 1529 行。在另一个表（表 1）中，我有大约。22000 行，每行都有一个 X/Y，我从中创建存储在 Geography 列中的点。

我需要进行空间连接以找出每个点属于哪个区域。我在两个表上都创建了空间索引，但我认为查询太慢了。现在，连接大约需要 72 秒，如下所示：

```
SELECT ...
FROM [DatabaseA].dbo.Table1 t1 
INNER JOIN [DatabaseB].dbo.Table2 t2 ON t1.Geo.STIntersects(t2.Geo) = 1
WHERE t2.ObjectTypeId = 1 AND t2.CompanyId = 3 
```

请注意，这两个表在不同的数据库中，但在同一台服务器上。

在创建空间索引之前，查询速度要慢得多，我可以看到正在使用索引。但是，在 table2 上创建索引不会影响性能，只有 table1 上的索引会提供更好的性能。两个索引都有高级网格

当我查看执行计划时，我注意到一个过滤器部分占用了 71% 的时间：

```
CASE WHEN [Expr1015]>(2) THEN CASE WHEN [Expr1016]=[Expr1017] THEN (1) ELSE (0) END ELSE [DatabaseA].[dbo].[Table1].[Geo] as [t].[Geo].STIntersects([DatabaseB].[dbo].[Table2].[Geo] as [g].[Geo]) END=(1) 
```

所以，我的问题是：

这个查询应该花这么长时间吗？我应该使用其他网格尺寸吗？该过滤器表达式是什么意思？

有人有优化这个的提示吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-03-23T20:30:09.547

我有一个类似的问题。我有 2000 个点和 85000 个多边形。我需要将点与匹配的多边形匹配。最初该查询需要 8 个小时。

```
SELECT Item.Name, Polygons.Name
FROM dbo.Geofence AS Polygons 
JOIN dbo.ItemLocation AS Points 
ON Polygons.GeoFence.STIntersects(Points.GeoLocation) = 1 
```

问题是点表有一个非聚集索引。添加聚集索引将时间减少到 12 秒。

添加空间索引（下面的代码）将时间减少到 1 秒。我还在积分表中添加了一个。

```
CREATE SPATIAL INDEX [SpatialIndex-Polygons] ON dbo.Polygons
(
    [Geofence]
)USING  GEOGRAPHY_GRID 
WITH (GRIDS =(LEVEL_1 = MEDIUM,LEVEL_2 = HIGH,LEVEL_3 = HIGH,LEVEL_4 = MEDIUM), 
CELLS_PER_OBJECT = 16, PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF,
SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, 
ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-30T17:44:46.430

简而言之，您正在使用参数 t2.Geo 调用函数，该函数必须由函数评估 t2 中 t2.ObjecttypeId = 1 和 t2.CompanyId = 3 的所有值。在表 t2 上创建索引不会t 真的很有帮助，因为它不能使用那些预先计算的索引值。相反，它必须首先对 t2 中的所有值运行函数 t1.Geo.STIntersects(t2.Geo) - 这与预先计算的索引值几乎没有关系。

如果速度是您的目标并且您拥有存储空间，则可以创建第三个表，其中包含预先计算的 t1.Geo.STIntersects(t2.Geo) 的每个组合的结果。然后，您可以将 t1 和 t2 连接到第三个表中的预计算值，这应该能够产生几乎即时的查询结果（对于具有 1,529 和 22,000 条记录的源表）。

如果 t1 和 t2 中的数据相对静态，您可以手动重新运行查询以更新第三个表中的数据。如果它经常更改，它可以通过对 t1 和 t2 的更新、插入和删除触发器自动维护，或者您可以将更新、插入和删除包装到更新预计算表的存储过程中。

# python - django测试服务器和生产环境之间如何避免麻烦的原理？

> ID：12172859
> 
> 赞同：0
> 
> 时间：2012-08-29T07:28:48.377
> 
> 标签：python, django, mod-wsgi

我经常被 django 测试服务器和 apache/wsgi 生产环境之间的差异所困扰。在测试服务器中完美运行的代码在部署后总是失败，而且调试通常看起来非常困难。这次它甚至找不到`django.db.models`:,(

模板

```
{{one_medal_owningship.get_medal_name}} 
```

模型.py

```
from django.db import models
class MedalsManager(models.Manager):
    _cache={}

    def get_by_owningship(self,owningship):
        return self.__class__._cache[owningship.medal_id]
    ...

class Medals(models.Model):
    name=models.Charfield(max_length=50)
    objects=MedalsManager()
    ...

class MedalOwningship(models.Model):
    medal=models.ForeignKey('app.Medals')
    user=models.ForeignKey('auth.User')

    def get_medal_name(self):
        return models.get_model("app","Medal").objects.get_by_owningship(self).name #Here is ***the problem***, models is reported as None

import signal_listeners  #I put signal listeners in a separated file and register them here 
```

信号监听器.py

```
# site_settings.py is a file in the root of the project for storing some control variables, like the number of posts you can post a day
import site_settings #This is the "cause" of the problem, if I change it to myproject.site_settings then everything works. 
```

在互联网上搜索这通常会导致非常具体的案例，很难从中获得完整的图片。我想知道是否有任何关于如何避免这些麻烦的经验法则，任何阅读清单或教程？并且服务器环境的设置是否可能导致代码中不必要的错误（比如 django 和 python 版本与开发环境相同）？非常感谢！

**更新：** 我以某种方式解决了问题，但不知道原因。所以在上面的代码中，执行时会引发错误`a_medal_owningship.get_medal_name`，显然是`django.db.models`在`None`该函数的范围内。在那个 models.py 文件中，我导入了一个 signal_listener 文件。如果我将 signal_listeners 中的 site_settings（自定义常量存储）的导入方式从`import site_settings`更改为`import myproject.site_settings`，问题就解决了。

但是，如果我从项目根目录导入另一个随机文件，例如`import foobar`，就不会有任何问题。因此，必须将 site_settings 导入其他地方以及在此处导入会导致问题。

这对我来说毫无意义，因为导入自定义文件如何与 django 的默认模块冲突？`import foo`和和有什么区别`import myproject.foo`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T23:48:59.180

开发服务器和 mod_wsgi 之间的差异，以及现在针对 wsgi.py 直接运行时的 gunicorn，是一个不断重复出现的常见主题。这确实是一个难以描述的问题，当人们试图仅仅因为他们没有经历过它而将其视为一个问题时，它令人失望。这是一个真正的问题，如果你在论坛上帮助人们的时间足够长，你就会看到它。

虽然我自己不使用 Django，但我已经尝试了几次来理解这个问题，以便更好地向人们解释问题是什么，但即使这样也没有一个简单的答案。

我之前在博客中讨论过这个问题：

[http://blog.dscpl.com.au/2010/03/improved-wsgi-script-for-use-with.html](http://blog.dscpl.com.au/2010/03/improved-wsgi-script-for-use-with.html)

基本问题归结于这样一个事实，即开发服务器通过加载管理命令将预加载您的 Django 应用程序的大部分并按特定顺序执行。

在 mod_wsgi 和 gunicorn 中，当您不使用 run_gunicorn 管理命令来处理 gunicorn 案例时，事情会被延迟加载，这可能会导致问题，因为可以根据应用程序不同部分的订单请求以任何顺序加载位。

所有问题的根本原因往往是您执行模块导入的顺序，尤其是在您有循环模块导入的情况下。缺少导入也可能是一个问题。

所以存在真正的问题。很难追踪，但要特别注意模块导入。由于某种原因，与模型相关的情况似乎发生了很多。

这是否是您的问题，这是一个不同的问题，但是是的，人们确实看到了开发服务器和生产部署之间的差异。

要进一步调查，需要将实际错误消息添加到您的问题中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:41:06.820

嗯，这是一个非常普遍的问题，尽管它在很大程度上取决于您的生产环境与开发环境的不同之处。自从我的第一台服务器遇到麻烦以来，现在我以某种方式制定了自己的规则，如何轻松部署。即使当我对服务器进行初始部署（应用程序的第一次部署）时，我肯定总是会遇到一些问题。之后它变得更容易。

1.  将开发环境和生产环境的设置分开。有很多关于如何在不做太多工作的情况下做到这一点的例子。
2.  使用 Fabric（或其他自动部署）。如果您在服务器中遇到问题，大多数时候您可以修改您的 fab 脚本，以免下次再次遇到此问题。无论是某个`chmod`东西，一个`south migrate`，安装额外的依赖项等。您还可以处理不同的环境，只需先对所有内容进行本地测试。

# python - python .tell() 在文件中给出意外的位置？

> ID：12172862
> 
> 赞同：0
> 
> 时间：2012-08-29T07:29:20.073
> 
> 标签：python, file, tell

我正在尝试开发一个函数，该函数将根据用户输入更改脚本中的变量。我开始使用`.tell()`内置来确定要比较的变量，但是它写入的位置至少偏移了 10 个字节？

```
#! /usr/bin/env python
import re

class file_input:
    def __init__(self):
        count = 0
        change = raw_input('Input? ')
        with open('/home/Downloads/FILES/adobe.py','a+') as f:
            for line in f.readlines():
                if re.findall('script_data', line):
                    count += 1
                    ## i put in a count to ignore the first 'script_data' mentioned in the __init__ method ##
                    if change != line[13:] and count == 2:
                        ## if the user-input is not the same, re-write that variable ##
                        pos = f.tell()
                        f.seek(pos)
                        ## i checked the position here and its not where i would think it would be ##
                        print pos
                        print 'data not matched up, changing now...'
                        f.write(change)
                        print line[13:]
        f.close()

if __name__ == '__main__':
    file_input()

script_data = 'this is going to be some data...' 
```

当我去检查文件`script_data`时，即使输入数据不同，变量仍然存在，并且新数据将在下面一行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:50:44.347

在`readlines()`. 该实现可能会读取整个文件，它可能会使用预读缓冲区等，这会导致`tell`返回意外的位置。

我建议您执行以下操作：

1.  从文件中读取所有行 ( `lines = f.readlines()`)
2.  改变`lines`变量
3.  重写文件

# delphi - 在字符串中有名称时使用指针

> ID：12172868
> 
> 赞同：3
> 
> 时间：2012-08-29T07:30:00.067
> 
> 标签：delphi, pointers, devexpress, delphi-xe2

我有多个指针，它们的每个名称都是这样构建的`'str'+'name'`。因此，假设指针 1 的名称为`strpointer1`，指针 2 的名称`strpointer2`以此类推；

我将所有这些名称存储在某个地方，并且在某个时刻，我会将指针 1 的名称保存在一个字符串变量中，此时我需要对该指针执行一些操作。

当我只有一个字符串中的他的名字时，如何使用该指针？

***更好的解释（我希望）：***

我试图使用 devexpress 套件的本地化组件来翻译从 sql 表中生成的菜单；

例如：对于菜单的“文件”组件的标题，您在本地化程序中声明其他语言的翻译，您将获得指向这些翻译的指针（由我命名为“filecap”）。

当我在设计时绘制菜单时，我会像这样分配 File.caption：

```
File.caption := cxgetresourcestring(@filecap); 
```

**函数 cxgetresourcestring(apointer):string;**

但我正在动态地绘制菜单：我正在从 TTable 中读取我的菜单项，然后我将它们存储在一个动态数组中。所以这就是我所说的那一刻，通常我会这样做：

```
MenuItems_Array[i].caption := tbl_menu.fieldbyname('MenuItemName').asstring; 
```

但现在我想使用定位器我试过这个：

```
MenuItems_Array[i].caption := cxgetresourcestring(tbl_menu.fieldbyname('MenuItemName').asstring); 
```

这当然会返回一个错误：指针类型和字符串不匹配；

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T14:54:34.730

( `cxGetResourceString`and `cxSetResourceString`) 函数旨在获取（和设置）现成的 DevExpress 组件的翻译。

我不是 100% 确定，但我认为它只设计用于对资源字符串变量进行操作：http: [//docwiki.embarcadero.com/RADStudio/en/Resource_Strings](http://docwiki.embarcadero.com/RADStudio/en/Resource_Strings)

我认为这根本不是你想要的。你想要`gettext()`DevExpress 不提供的 C 语言。

一些解决方案的列表：

[http://delphi.about.com/od/toppicks/tp/aatplocalize.htm](http://delphi.about.com/od/toppicks/tp/aatplocalize.htm)

Delphi IDE 还内置了对翻译的支持：

[http://docwiki.embarcadero.com/RADStudio/en/Localizing_Applications_by_Using_Translation_Manager_Index](http://docwiki.embarcadero.com/RADStudio/en/Localizing_Applications_by_Using_Translation_Manager_Index)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T17:10:14.877

据我所知，没有办法枚举一个单元的资源字符串。如果可以，解决方案会容易得多。

如果您愿意维护所有字符串资源的寄存器，您仍然可以完成您想做的事情。但这需要手动完成。

我希望以下方法可行

```
var
  slResources : TStringList;
procedure RegisterResString(ResId : String; Address : Pointer);
begin
  slResources.AddObject(ResId, TObject(Address));
end;

function GetResourceAddress(ResId : string) : Pointer;
var idx : Integer;
begin
  if slREsources.Find(ResId, idx) then 
    Result := slResources.Objects[idx]
  else
    Result := nil;
end; 
```

然后你需要注册你的字符串资源。

```
resourcestring
  Filecap = 'File';

procedure RegisterUnitRes;
begin
  RegisterResString('Filecap', @Filecap);
end; 
```

然后你可以打电话：

```
MenuItems_Array[i].caption := cxgetresourcestring(GetResourceAddress(tbl_menu.fieldbyname('MenuItemName').asstring)); 
```

不过，可能有更简单的方法来实现这一点。

# ios6 - 无法读取通行证，因为它无效

> ID：12172873
> 
> 赞同：1
> 
> 时间：2012-08-29T07:30:16.903
> 
> 标签：ios6, passbook

我正在按照 Apple 的 pdf 手动创建 pkpass，我创建了一个文件夹 put icon.png、icon@2x.png、logo.png 等。我放了 pass.json 文件和 manifest.json。我仔细检查 SHA1 是否适合每个文件。我按照文档签名。但它给了我“无法读取通行证，因为它无效。” 当我尝试通过视图控制器呈现时。这里是

```
 PKPass *pass = [[PKPass alloc]  initWithData:[NSData dataWithContentsOfFile:passPath] error:&err];
 PKAddPassesViewController *vc = [[PKAddPassesViewController alloc] initWithPass:pass];
 [self presentViewController:vc animated:YES completion:nil];** 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:35:40.877

好的似乎我得到了解决方案，不知道为什么它不工作，即使它来自 Apple doc。问题线是

```
zip -r example.pass path/to/pass_package/* -x '*.DS_Store' 
```

我所做的是跟随

```
cd pass_package
zip -r ../example.pass . 
```

它奏效了，现在 example.pass 效果很好。

# javascript - Mongoose：带有通配符的布尔“或”查询

> ID：12172874
> 
> 赞同：1
> 
> 时间：2012-08-29T07:30:19.157
> 
> 标签：javascript, node.js, mongodb, mongoose, mongodb-query

我正在尝试使用 Mongoose 将全文搜索模拟到两个字段中。我大部分时间都在测试几种查询类型，但总是失败。**MongoDB shell 查询**是这样的：

```
db.feeds.item.find({lang:"en", $or:[{title: /searchexpression/}, {body: /searchexpression/}] }) 
```

在此示例中，我只想返回与**标题**或**正文**字段或两个字段中的搜索表达式（包括正则表达式）匹配的英文文档。此查询有效，但正如我所说，当尝试使用**Mongoose**调整它时，问题就开始了，:-(

我使用的一些表达方式不起作用：

```
exports.fullTextSearch = function(lang, text, callback) { 
    MyModel.find({lang:lang, $or: [{title:/text/},{body:/text/}]}).exec(callback);
    MyModel.find({lang:lang, $or: [{title: new RegExp('\/'+text+'\/')}, {body:new RegExp('\/'+text+'\/')}]}).exec(callback);
    MyModel.find({lang:lang}).or({title:/text/},{body:/text/}).exec(callback);
    MyModel.find({lang:lang}).or({title:new RegExp('\/'+text+'\/')},{body:new RegExp('\/'+text+'\/')}).exec(callback); 
```

}

非常感谢！

路易斯·卡帕。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T08:13:57.170

尚未对此进行测试，但根据文档，这应该可以：

```
MyModel.find({lang:lang}).or([{title:/text/},{body:/text/}]).exec(callback); 
```

像您的第三个示例一样，但在数组中使用“或”条件。

编辑：

要使正则表达式动态化，请使用第四个示例，但在数组中使用“或”条件：

```
MyModel.find({lang:lang}).or([{title:new RegExp(text)},{body:new RegExp(text)}]).exec(callback); 
```

或者在外面定义正则表达式：

```
var regexText = new RegExp(text)
MyModel.find({lang:lang}).or([{title:regexText},{body:regexText}]).exec(callback); 
```

# iphone - iPhone 上是否有可用的磁盘缓存？

> ID：12172876
> 
> 赞同：4
> 
> 时间：2012-08-29T07:30:25.210
> 
> 标签：iphone, ios, caching, uiwebview, nsurlcache

我找到了一个改进 iPhone 缓存策略的项目。因为他们确信：“[在 iPhone OS 上，Apple 确实出于未知原因删除了磁盘缓存支持](https://github.com/rs/SDURLCache)”

但是，我不这么认为，请参阅详细信息： [https ://github.com/rs/SDURLCache/issues/39](https://github.com/rs/SDURLCache/issues/39)

我发现 UIWebView 应用程序的文件夹“Library/Catches/com.company.appname/”上有两个 db 文件：

应用程序缓存.db、缓存.db

## 并尝试那些 sql

“select * from CacheResourceData”，打开 ApplicationCache.db 后

Cache.db 上的“从 cfurl_cache_receiver_data 中选择 *”

两者都是磁盘上的缓存文件内容

所以现在我很困惑，谁能告诉我真相和证据？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T08:16:16.573

从 iOS 5.0`NSURLCache`开始使用磁盘缓存： http: [//petersteinberger.com/blog/2012/nsurlcache-uses-a-disk-cache-as-of-ios5/](http://petersteinberger.com/blog/2012/nsurlcache-uses-a-disk-cache-as-of-ios5/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-17T05:23:45.917

**ApplicationCache.db**用于缓存 HTML5 缓存， Cache.db 与**NSURLCache**一起使用。

```
[[NSURLCache sharedURLCache] removeAllCachedResponses]; 
```

将**Cache.db**设置为 空。（在使用 iOS 模拟器时从 Finder 浏览和查看）

如果从目录中删除 ApplicationCache.db，HTML5 缓存会丢失。

# css - Html：跨度溢出问题包含图像标签

> ID：12172880
> 
> 赞同：1
> 
> 时间：2012-08-29T07:30:43.813
> 
> 标签：css, overflow, html

我有溢出的问题。我有一个设置为溢出的 div：隐藏，并且其中的所有元素都设置为绝对位置。元素本身是一个包含文本和图像标签的跨度标签。我有一个箭头来控制 div 内向前或向后的 span 标签。一切都很好，但是当我将 span 标签移向 div 标签的末尾时，它的一部分在 div 之外。span 标记中的图像自动换行到新行，而不是与文本的同一行。

有谁知道为什么会这样，如果 span 标签完全在 div 内就可以了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:41:29.577

要防止文本换行，请使用以下 CSS 定义：

```
elementstyle {
    white-space:nowrap;
} 
```

然后，要使图像漂浮在文本旁边，请使用以下命令：

```
elementstyle img {
    display:inline;
} 
```

# java - Java TA-Lib 文档

> ID：12172882
> 
> 赞同：5
> 
> 时间：2012-08-29T07:30:53.057
> 
> 标签：java, documentation

我正在寻找有关[TA-Lib](http://www.ta-lib.org/index.html)的 Java 文档。我找到了包含可用功能列表的[页面，并找到](http://www.ta-lib.org/function.html)[了这个](http://tadoc.org/).

我看到[TADOCS](http://tadoc.org/)提供了一些功能的算法。但是，我无法理解该函数所需的参数，似乎确实提到了它。有什么地方可以找到吗？

具体来说，我正在寻找更多

```
LINEARREG       Linear Regression 
```

Eclipse 将线性回归指定为：

```
linearReg(startIdx, endIdx, inReal, optInTimePeriod, outBegIdx, outNBElement, outReal) 
```

有什么地方可以参考吗？

**已编辑**

我不清楚的另一件事是如何指定的值`TA_INTEGER_DEFAULT`或者`TA_REAL_DEFAULT`如果它们不被使用？我在[c++ 文档中看到了这个](http://www.ta-lib.org/d_api/d_api.html)

`If you do not care about a particular optIn just specify TA_INTEGER_DEFAULT or TA_REAL_DEFAULT (depending of the type).`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T11:06:36.377

我能够像这样使用linearreg：

```
 double reg_result;
    MInteger begin = new MInteger();
    MInteger length = new MInteger();
    c = new Core();
    RetCode retCode = c.linearReg(0, intLRLength-1, dataset,intLRLength, begin, length, high_reg);

    if(retCode == RetCode.Success){

        console.getOut().println("reg_result"+reg_result);  

        } 
```

您还可以查看[Ta-lib c++ 文档](http://www.ta-lib.org/d_api/d_api.html)以了解这些函数是如何实现的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-27T09:31:01.487

在 VB.NET 中，我这样添加：

将 TA_INTEGER_DEFAULT 调暗为 Integer = Int32.Min 将 TA_REAL_DEFAULT 调暗为 Double = -4E37

# jquery - 如何为struts conrol设置bvalidator

> ID：12172887
> 
> 赞同：0
> 
> 时间：2012-08-29T07:31:07.657
> 
> 标签：jquery, jquery-plugins, struts2, validation

我使用 struts 框架开发 Web 应用程序，在该 Web 应用程序中，我使用 Bvalidator 进行验证。当我在简单的 HTML 中使用 Bvalidator 时，它工作正常，但是当我在 Struts 或服务器控件函数上使用相同的验证器时，它就不起作用了。我怎么能在struts上做到这一点。请有人为此提出一些想法，在此先感谢。

# c# - UI服务~主要服务认证

> ID：12172888
> 
> 赞同：0
> 
> 时间：2012-08-29T07:31:12.570
> 
> 标签：c#, .net, asp.net-mvc-3, wcf, asp.net-membership

我正在设计（是的，仍然在*设计*）一种架构，我们有一个主要的服务来做事情。验证用户、导入数据和获取结果等。我们还有一个 ASP MVC3 UI 模块与之交互。这里的关键是，将来它可能是 SharePoint 或只是使用该服务的批量导入器应用程序，因此必须注意，但现在它是 ASP MVC3。

我正在努力决定/了解的是身份验证。我更喜欢 MembershipProvider，而不是喜欢 SqlProvider。我们是一家 M$ 房子，所以我很高兴沿着这条路走下去。我想要做的是将登录到 UI 的用户的身份验证与实际服务调用的身份验证联系起来。大致有两种类型的用户“普通”和“管理员”，我无法决定最优雅的身份验证方式。

我真的很喜欢我所拥有的。WCF 服务提供的 SqlProvider 和对服务调用的访问也都与它相关联（我需要整理一下，因为目前所有服务调用都被配置锁定，而不是按服务合同锁定）。

这样做的问题是您必须通过明文传递用户名和密码，并防止您进入证书世界 - 我在这里的研究表明开发证书是坏的，真正的证书很昂贵，所以如果是真的，两者都不是一个选项。

问题是：最好的方法是什么？我想要一个服务，i）在每次调用时都进行身份验证，这样你就不能调用你不允许的东西——尽可能优雅地处理 ii）是无状态的，所以我可以扩展/集群服务。iii) 不受客户端控制，因此可以更换。

证书的替代方案我想到了对服务的登录调用，该服务返回某种令牌，随后与其他调用一起传递并使用自定义主体提供程序进行身份验证。这样做的优点是我可以在 UI 和服务之间使用 Windows 加密，并为角色传递身份验证。我想避免做的是在每个调用的参数中传递 u/n 细节，因为这看起来很难看。

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T13:30:27.750

WCF 提供了向 SOAP 标头添加自定义字段的能力，这允许将身份验证等横切关注点从消息参数中提取出来并在稍高的级别进行处理。

但这还不是全部。WCF 还允许您加密这些标头，这将防止它们以纯文本形式通过网络发送。[Steven Cheng 的这篇博](http://blogs.msdn.com/b/stcheng/archive/2009/02/18/wcf-secure-a-dynamically-added-message-header-via-behavior-extension-part-1.aspx)文很好地描述了如何实现这一点。

本质上，您将创建一个可以轻松应用于现有服务的自定义合同行为。

# cordova - Phonegap：如何调用 C 算法

> ID：12172898
> 
> 赞同：2
> 
> 时间：2012-08-29T07:31:43.790
> 
> 标签：cordova, phonegap-plugins

我有一个使用 JavaScript 和 HTML 的 PhoneGap 应用程序。我用 C 编写了一个图像处理算法，并尝试在 Phonegap 应用程序中调用该算法。但我不知道该怎么做，或者我应该为 iOS 应用程序或 android 应用程序生成什么样的库。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:35:53.040

嗯，这很容易。您唯一需要做的就是编写一个PhoneGap 插件。

[https://github.com/phonegap/phonegap-plugins](https://github.com/phonegap/phonegap-plugins)

这是 HelloWorld 演示。

[http://docs.phonegap.com/en/2.0.0/guide_plugin-development_index.md.html](http://docs.phonegap.com/en/2.0.0/guide_plugin-development_index.md.html)

之后，您可以调用 js 函数来使用该 C 算法。

# dataset - 来自父级的 IReport 数据集参数

> ID：12172900
> 
> 赞同：0
> 
> 时间：2012-08-29T07:31:52.957
> 
> 标签：dataset, jasper-reports, ireport

我正在使用 IReport 4.5.0，并且此报告有一个交叉表。此交叉表连接到带有要`WHERE`在 SQL 上使用的参数的数据集。

问题是我无法将我定义的参数的值从父级传递到数据集。尽管两者具有相同的名称，但该值未传递。如何将参数从父级传递到数据集？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T00:38:11.350

因为我在报告中只有一 (1) 个交叉表。我在选择`Main report dataset`作为交叉表的数据集时注意到，回答了我的问题。

但是当报告中涉及多个数据集时，我仍然遇到同样的问题，其中这些数据集的参数必须来自父参数。

# c# - c# linq select new class Error : Object reference not set to an instance of an object

> ID：12172901
> 
> 赞同：-1
> 
> 时间：2012-08-29T07:32:03.733
> 
> 标签：c#, asp.net, linq

i want to bind gridview with my custom entity whitch i populate from data base but i get error Object reference not set to an instance of an object i know the error is from my **gridlink** class when select new and want to set to *link* property in this行：`link = { linkName = "tyr", linkSrc = "ytr" },` 因为当我删除它时，错误停止和gridview绑定谢谢

```
 public class gridcolumns
{

    public decimal cost { get; set; }
    public Int32 count { get; set; }
    public gridlink link { get; set; }

    public gridcolumns()
    {

        // TODO: Complete member initialization
    }
}

public class gridlink
{
    public string linkName { get; set; }
    public string linkSrc { get; set; }

    public gridlink()
    {

    }
}
 protected void Page_Load(object sender, EventArgs e)
{
    Data281DataContextDataContext conx = new Data281DataContextDataContext();
    List<tbl_2_CheckReqNo_NotValid> allresult = conx.tbl_2_CheckReqNo_NotValids.ToList();
    gridcolumns lastMantWithDate = new gridcolumns();
    if (Request.QueryString.Count == 0)
    {
        var lastMantWithDaste = from pe in allresult //where allresult != null
                                orderby Convert.ToDecimal(pe.mandeh) descending
                                group pe by pe.mant into grouped
                                where grouped != null
                                select new gridcolumns
                                {
                                    link = { linkName = "tyr", linkSrc = "ytr" },
                                    cost = grouped.Sum(g => Convert.ToDecimal(g.mandeh)),
                                    count = grouped.Count(),

                                };

        GrdOstan.DataSource = lastMantWithDaste;
        GrdOstan.DataBind();
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T07:34:41.270

您应该`gridlink`像这样实例化：

```
link = new gridlink { linkName = "tyr", linkSrc = "ytr" }, 
```

考虑一下，对于您的查询产生的每个项目，您都会创建一个`gridcolumns`对象。该`link`对象的属性最初是`null`; 您应该`new gridlink`在尝试使用它之前将其设置为。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T07:34:36.620

你可能需要

```
link = new gridLink { linkName = "tyr", linkSrc = "ytr" } 
```

代替

```
link = { linkName = "tyr", linkSrc = "ytr" } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T07:36:31.923

替换这个：

```
select new gridcolumns
           {
           link = { linkName = "tyr", linkSrc = "ytr" }, 
```

和：

```
select new gridcolumns
           {
           link = new gridlink  { linkName = "tyr", linkSrc = "ytr" }, 
```

您需要`gridLink`使用`new`关键字实例化类型的新对象

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:47:37.657

在您的行中：

```
link = { linkName = "tyr", linkSrc = "ytr" } 
```

你需要“新的gridlink”，像这样：

```
link = new gridlink { linkName = "tyr", linkSrc = "ytr" } 
```

就个人而言，我认为您的代码编译是不幸的。如果我尝试：

```
List<gridlink> links = new List<gridlink>();
links.Add({ linkName = "tyr", linkSrc = "ytr" }); 
```

我会正确地得到一堆语法错误。

添加`new gridlink`应该可以解决这个问题。

# r - 在 R pdf 版本中绘制 2 轴图丢失右手轴标签

> ID：12172904
> 
> 赞同：1
> 
> 时间：2012-08-29T07:32:09.383
> 
> 标签：r, pdf, plot

屏幕绘图完美运行，但 pdf 版本丢失`'mtext' "incidence (%)"`

```
# data

hgf <- c(394,441,592,559,455,542,583,548,636,709)
incfor <- c(11.2,13.0,13.5,12.0,7.8,8.0,8.4,8.4,8.8,9.5)

par(mar=c(5,4,4,5)+.1)
index <- 1:10
period <- c("9801","9902","0003","0104","0205", "0306",
            "0407","0508","0609","0710") 
```

画面情节

```
bp <- barplot(hgf, ylim=c(0,800),cex.axis=1.0,yaxt="n")
axis(2, at=seq(0,800,200))
axis(1, at=bp,labels=period,cex.axis=1.0,las=2 )
par(new=TRUE)

plot(bp,incfor,type="l",col="blue",
  cex.axis=1.0,cex.lab=1.0,
  xaxt="n",yaxt="n",xlab="period",ylab="",ylim=c(0,16),lwd=2)
par(cex.axis=1.0)
axis(4, at=seq(0,16,2))
mtext("incidence % (line, rhs)",side=4,line=2,cex=1.0)
mtext("number (bar, lhs)",side=2,line=2,cex=1.0)
grid(nx=NULL,col="black") 
```

pdf版本

```
par(mar=c(5,4,4,5)+.1)

pdf(file="fig_hgf_for.pdf",
  useDingbats=F)

bp <- barplot(hgf, ylim=c(0,800),cex.axis=1.0,yaxt="n")
axis(2, at=seq(0,800,200))
axis(1, at=bp,labels=period,cex.axis=1.0,las=2 )
par(new=TRUE)

plot(bp,incfor,type="l",col="blue",
  cex.axis=1.0,cex.lab=1.0,
  xaxt="n",yaxt="n",xlab="period",ylab="",ylim=c(0,16),lwd=2)
par(cex.axis=1.0)
axis(4, at=seq(0,16,2))
mtext("incidence % (line, rhs)",
  side=4,line=2,cex=1)
mtext("number (bar, lhs)",side=2,line=2,cex=1)
grid(nx=NULL,col="black")

dev.off() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:39:27.713

`pdf()`使用默认设置打开一个新设备`par`，使您之前的`par(mar=...)`通话无效。

底线：运行`par(mar=...)`后`pdf(...)`，它看起来不错。

# python - 如何使用 python 将输入文本从一种语言翻译成另一种语言？

> ID：12172905
> 
> 赞同：0
> 
> 时间：2012-08-29T07:32:07.830
> 
> 标签：python, translation

> **可能重复：**
> [用 Python 翻译人类语言](https://stackoverflow.com/questions/1316386/translating-human-languages-in-python)

我正在尝试开发一个可以接受用户输入并使用 python 将输入语言翻译成另一种语言的应用程序。我曾尝试在 python 中使用替换字符串函数，但它不起作用。我也尝试过使用该`gettext`模块，但我不太确定它能否完成这项工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:36:43.330

*gettext*是一种非常标准的翻译消息、字符串等的方法，它们是您软件的一部分，但不适用于翻译用户输入。

要翻译用户输入，最好使用 3rd 方服务和 API，例如 Google Translate、Being Translator 等。它们中的大多数已经准备好运行 python 接口。其中一些是付费服务。

# facebook-graph-api - Facebook 页面见解不会返回 page_storytellers_by_country/days_28 和 page_storytellers_by_age_gender/days_28

> ID：12172909
> 
> 赞同：3
> 
> 时间：2012-08-29T07:32:14.803
> 
> 标签：facebook-graph-api, facebook-insights

嗨，我在为我的页面检索数据时遇到了麻烦。这些是用于获取数据的 URL。

```
https://graph.facebook.com/140902935963424/insights/page_storytellers_by_country/days_28&access_token=[access_token] 
```

和

```
https://graph.facebook.com/140902935963424/insights/page_storytellers_by_age_gender/days_28&access_token=[access_token] 
```

嗯得到一个空的结果。

```
 "data": [
  {
     "id": "140902935963424/insights/page_storytellers_by_age_gender/days_28",
     "name": "page_storytellers_by_age_gender",
     "period": "days_28",
     "values": [
        {
           "value": [

           ],
           "end_time": "2012-08-25T07:00:00+0000"
        },
        {
           "value": [

           ],
           "end_time": "2012-08-26T07:00:00+0000"
        },
        {
           "value": [

           ],
           "end_time": "2012-08-27T07:00:00+0000"
        }
     ],
     "title": "28 Days Demographics: People Talking About This",
     "description": "28 Days The number of People Talking About the Page by user age and gender (Unique Users)"
  } 
```

],

但是嗯获得其他网址的印象，例如

```
 https://graph.facebook.com/140902935963424/insights/page_impressions_by_city_unique/days_28&access_token=[access_token] 
```

嗯，得到所有的结果。我想知道出了什么问题。我发现这就像在说些什么。 [https://developers.facebook.com/bugs/433795983308964/](https://developers.facebook.com/bugs/433795983308964/) 他在谈论未定义的阈值限制。任何人都可以帮助。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-01T13:26:57.577

您必须获得很多喜欢才能获得此切片信息，我正在测试阈值 Matthew 评论，但它确实是随机的，我有一个页面有 500 个新的每日喜欢，没有切片的 storyteller_by 统计数据，另一个页面超过 4000喜欢有此信息可用的一周。我真的认为这并没有损害喜欢的人的隐私，但还有什么……

# winforms - 如何将 Dockpanel 选项卡文本设置为空？

> ID：12172919
> 
> 赞同：1
> 
> 时间：2012-08-29T07:33:08.960
> 
> 标签：winforms, devexpress, docking

如果我看到 tabtext 属性为 Null 或 Empty 它将 Text 属性作为 tabtext 属性，这是 Dock 面板中 TabText 的默认行为

```
 Dockpanel dck= new DockPabel()
               dck.TabText =""; 
```

如果你这样给出，它将默认文本属性作为 TabText 属性

```
 dck.TabText=" "; 
```

如果你这样给予意味着我在标签中获得了额外的空间，

我只需要显示标签图像不需要在折叠状态下显示 TabText

但我需要将其标签文本设置为“”或空

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T14:06:37.030

您可以将您的两个属性设置`DockPanel`为`String.Empty`

```
dockPanel.Text = String.Empty;
dockPanel.TabText = String.Empty; 
```

# objective-c - ios：通过只进行一次替换来替换文件中多个字符串的最佳方法是什么？

> ID：12172921
> 
> 赞同：1
> 
> 时间：2012-08-29T07:33:16.910
> 
> 标签：objective-c, ios, nsstring, replace

我有一个文件，其中存在不同位置的字符串，我想替换所有这些字符串。例如，我有“too taa tii”，我想将 [too] 替换为 [tee]，将 [tii] 替换为 [tuu]。据我所知，我需要做两次。

有没有其他我只能做一次的解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:45:11.290

我认为这些代码行是这样做的：-

```
NSString *mainString = [[NSString alloc] initWithString:@"too taa tii"];
    NSArray *stringsToReplace = [[NSArray alloc] initWithObjects:@"too",@"tii", nil];
    NSArray *stringsReplaceBy = [[NSArray alloc] initWithObjects:@"tee",@"tuu", nil];
    for (int i =0; i< [stringsReplaceBy count]; i++)
    {
        mainString = [mainString stringByReplacingOccurrencesOfString:[stringsToReplace objectAtIndex:i] withString:[stringsReplaceBy objectAtIndex:i]];
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-18T15:03:56.540

我知道这是旧的并且已回答，但另一种选择是使用 NSDictionary

```
NSDictionary *replaceDict = @{@"too":@"tee", @"tii": @"tuu"};
for (NSString *replace in replaceDict) {
    mainString = [mainString stringByReplacingOccurrencesOfString:replace withString:replaceDict[replace]];
} 
```

# jpql - 尽管我修复了@NamedQuery，但之前的错误仍然存 在，为什么？

> ID：12172927
> 
> 赞同：-1
> 
> 时间：2012-08-29T07:34:00.353
> 
> 标签：jpql, jdeveloper, named-query

我有一个 JPQL ：

```
@NamedQuery(name = "AsiErtelemeIptal.findPaketHastaAsiErtelemeIptalHastaOzlukByHastaKimlikNumarasi",
                             query = "SELECT h,p,a,ho FROM Hasta h,Paket p,AsiErtelemeIptal a,HastaOzlukBilgileri ho WHERE h.hastaKimlikNumarasi = ?1 and h.id=p.hasta.id and p.id=a.paket.id and h.id=ho.hasta.id ") 
```

错误是我在查询中`hastakimliknumarasi`而不是在查询中写的`hastaKimlikNumarasi`，但后来我修复了它，并清理并重建了很多次。但我仍然收到此错误：

```
Error compiling the query [AsiErtelemeIptal.findPaketHastaAsiErtelemeIptalHastaOzlukByHastaKimlikNumarasi: 

SELECT h,p,a,ho 

FROM Hasta h,Paket p,AsiErtelemeIptal a,HastaOzlukBilgileri ho 

WHERE h.hastakimliknumarasi = ?1 and h.id=p.hasta.id and p.id=a.paket.id and h.id=ho.hasta.id ], 

line 1, column 87: unknown state or association field [hastakimliknumarasi] of class [tr.com.surat.esaglik.model.usvs.Hasta]. 
```

我使用 Jdeveloper，是什么原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T14:47:06.417

不知道是什么导致了错误，但是当你得到只有大小写不匹配的错误时，你不应该只清理涉及的项目，而是删除整个类文件夹。JDev 有时会在 classes 文件夹中添加额外的数据，以防止编译只有大小写不匹配的类。

# android - 来自 url 的 Android 图像视图

> ID：12172928
> 
> 赞同：6
> 
> 时间：2012-08-29T07:34:07.263
> 
> 标签：android, image, url

我正在从 url 下载图像，但下载完成后图像没有更改。我在下面输入代码，有人遇到过同样的情况吗？

`Java`文件

```
public class MyImgActivity extends Activity {
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    ImageView imgView =(ImageView)findViewById(R.id.imageView1);
    Drawable drawable = LoadImageFromWebOperations("http://www.gophoto.it/view.php?i=http://1.bp.blogspot.com/-2LTvCCufBKc/T3L3KgcTj2I/AAAAAAAABbQ/Ki60e1LU9sE/s1600/Sachin%2BTendulkar.png");

    imgView.setImageDrawable(drawable);
 }
private Drawable LoadImageFromWebOperations(String url) {
    try
      {
       InputStream is = (InputStream) new URL(url).getContent();
       Drawable d = Drawable.createFromStream(is, "src name");
       return d;
      }catch (Exception e) {
       System.out.println("Exc="+e);
       return null;
      }
}
} 
```

`XML`文件

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

<ImageView 
    android:id="@+id/imageView1"
    android:layout_height="match_parent" 
    android:layout_width="match_parent"></ImageView>
</LinearLayout> 
```

`Manifest`文件

```
<uses-permission android:name="android.permission.INTERNET"/> 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-08-29T08:19:19.800

请使用以下代码将图像下载并显示到 imageview 中。

```
public class image extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        Bitmap bitmap = DownloadImage("http://www.gophoto.it/view.php?i=http://1.bp.blogspot.com/-2LTvCCufBKc/T3L3KgcTj2I/AAAAAAAABbQ/Ki60e1LU9sE/s1600/Sachin%2BTendulkar.png");
        ImageView img = (ImageView) findViewById(R.id.img);
        img.setImageBitmap(bitmap);
    }

    private InputStream OpenHttpConnection(String urlString) throws IOException {
        InputStream in = null;
        int response = -1;

        URL url = new URL(urlString);
        URLConnection conn = url.openConnection();

        if (!(conn instanceof HttpURLConnection))
            throw new IOException("Not an HTTP connection");

        try {
            HttpURLConnection httpConn = (HttpURLConnection) conn;
            httpConn.setAllowUserInteraction(false);
            httpConn.setInstanceFollowRedirects(true);
            httpConn.setRequestMethod("GET");
            httpConn.connect();
            response = httpConn.getResponseCode();
            if (response == HttpURLConnection.HTTP_OK) {
                in = httpConn.getInputStream();
            }
        } catch (Exception ex) {
            throw new IOException("Error connecting");
        }
        return in;
    }

    private Bitmap DownloadImage(String URL) {
        Bitmap bitmap = null;
        InputStream in = null;
        try {
            in = OpenHttpConnection(URL);
            bitmap = BitmapFactory.decodeStream(in);
            in.close();
        } catch (IOException e1) {
            // TODO Auto-generated catch block
            e1.printStackTrace();
        }
        return bitmap;
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T07:59:57.303

以下代码使用以下网址，但不适用于您的网址。问题在于您的图像大小。尝试使用另一个网址，它会起作用。

```
public class MyImgActivity extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        ImageView imgView =(ImageView)findViewById(R.id.imageView1);
        URL url = null;
        Bitmap bmp = null;
        try {
            url = new URL("http://www.seobook.com/images/smallfish.jpg");
            bmp = BitmapFactory.decodeStream(url.openConnection().getInputStream());
        } catch (MalformedURLException e) {

        }catch (IOException e) {

        }
       imgView.setImageBitmap(bmp); 
      }

    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T09:12:16.380

```
 try
  {

   URL murl = new URL(url)
  URLConnection ucon = murl.openConnection();
  InputStream is = ucon.getInputStream();
   Drawable d = Drawable.createFromStream(is, "src name");
   return d;
  }catch (Exception e) {
   System.out.println("Exc="+e);
   return null;
  } 
```

在您的下载方法中使用这个 cose，如果连接速度很慢，请使用线程下载和处理来发布图像......正如@Hiren 所解释的那样

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T09:00:57.103

试试下面的代码，

只需将您的网址更改为，

[网址](http://1.bp.blogspot.com/-2LTvCCufBKc/T3L3KgcTj2I/AAAAAAAABbQ/Ki60e1LU9sE/s1600/Sachin+Tendulkar.png)

创建

```
new Thread(new Runnable() {

        @Override
        public void run() {
            // TODO Auto-generated method stub
            drawable = LoadImageFromWebOperations("http://1.bp.blogspot.com/-2LTvCCufBKc/T3L3KgcTj2I/AAAAAAAABbQ/Ki60e1LU9sE/s1600/Sachin%2BTendulkar.png");
            handler.sendEmptyMessage(0);
        }
    }).start(); 
```

使用处理程序下载图像后设置图像

```
Handler handler = new Handler(){
    @Override
    public void handleMessage(android.os.Message msg) {
        imgView.setImageDrawable(drawable);
        Log.i("System out","after set the image...");
    }
}; 
```

希望能帮到你...

# windows-phone-7 - 如何在 Windows Phone 7 中向警报类添加更多铃声

> ID：12172929
> 
> 赞同：0
> 
> 时间：2012-08-29T07:34:08.477
> 
> 标签：windows-phone-7, windows-phone-7.1, alarm, ringtone

我在 windows phone 中为我的警报应用程序使用[警报类。](http://msdn.microsoft.com/en-us/library/microsoft.phone.scheduler.alarm%28v=vs.92%29.aspx)我已经包含了 5 个铃声，但现在用户想要更多...

我相信 3rd 方应用程序无法访问系统铃声，那么使用音乐库中的歌曲怎么样？

但是，在深入研究之后，我发现无法获取歌曲的 URI，我将不得不使用它们，因为 Alarm 类期望其 Sound 属性的[Uri](http://msdn.microsoft.com/en-us/library/microsoft.phone.scheduler.alarm.sound%28v=vs.92%29.aspx)类型。

那么，让我的闹钟应用程序为用户提供更多铃声的选项是不是就不可能了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T06:01:18.413

您无法访问设备上的媒体。唯一真正的方法是将铃声托管在服务器上，以便您的应用程序可以下载它们。

# mysql - MySQL 和性能：使用“IN”还是“JOIN”？

> ID：12172931
> 
> 赞同：3
> 
> 时间：2012-08-29T07:34:13.967
> 
> 标签：mysql, performance

我有一段代码可以通过它们的 ID 在数据库中查找几张 CD。这是使用“IN”条件完成的：

```
(1) SELECT * FROM album WHERE id IN (?,?,?,?,?) 
```

下一步是获取与这些专辑相关的曲目。我通过稍微修改“基本”查询来做到这一点。

```
(2) SELECT track.* FROM album 
LEFT JOIN track ON track.album_id = album.id 
WHERE album.id IN(?,?,?,?,?) 
```

现在，我有专辑和曲目。但是，我需要加载曲目的作曲家详细信息。由于几个原因，我不能与上面的查询一起做，所以我需要单独做。

我可以做的是根据我拥有的曲目查找作曲家，我将使用曲目 ID 并根据这些曲目 ID 在作曲家表中查找作曲家。或者，我可以进一步修改“基本”查询，并与作曲家表再进行一次连接。然而; 这里是否有一个一般规则（关于性能）很容易指出其中一个查询是有利的？我已经进行了一些测试，但是我已经在如此小的范围内完成了它，以至于我真的看不出任何区别......

```
(3) SELECT composer.* FROM album 
LEFT JOIN track ON track.album_id = album.id
LEFT JOIN composer ON composer.track_id = track.id
WHERE album.id IN (?,?,?,?,?) 
```

...或者...

```
[get track ids from query (2)]

(4) SELECT composer.* FROM composer
WHERE composer.track_id IN (?,...); 
```

作为记录：我已经在所有标准和连接列上建立了索引。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T07:54:06.113

没有理由`LEFT JOIN`在查询 3 中使用（你们为它们编号），因为您只关心作曲家。（通常外部连接较慢。）

您不需要在查询 3 中加入专辑表 - 只需使用`IN`on `track.album_id`。（我假设您并不担心缺少专辑的流氓曲目。）

您提到您对各种事物都有索引。但请记住，MySQL 每次查询每个表只能使用一个索引。因此，如果您要检查多项内容，则必须创建一个复合索引。

令人惊讶的是，执行连接通常比大型 IN 语句更快，这是因为 IN 中的值没有索引，因此 MySQL 无法对它们执行索引连接。但这仅适用于大量值 - 对于少数使用 IN 的值可能会更快。

就个人而言，我会使用 JOIN 方法，直到您看到此查询成为问题为止。（只有当您有一些非常复杂的条件要检查时才会发生这种情况，这样做两次可能会变慢）。连接是更简单的代码，而且很可能会非常快——所以不要在没有特定原因的情况下让事情变得更复杂。

# python - python中的方法链接

> ID：12172934
> 
> 赞同：27
> 
> 时间：2012-08-29T07:34:26.467
> 
> 标签：python, method-chaining

（不要与 itertools.chain 混淆）

我正在阅读以下内容： [http ://en.wikipedia.org/wiki/Method_chaining](http://en.wikipedia.org/wiki/Method_chaining)

我的问题是：**在 python 中实现方法链接的最佳方法是什么？**

这是我的尝试：

```
class chain():
    def __init__(self, my_object):
        self.o = my_object

    def __getattr__(self, attr):
        x = getattr(self.o, attr)
        if hasattr(x, '__call__'):
            method = x
            return lambda *args: self if method(*args) is None else method(*args)
        else:
            prop = x
            return prop

list_ = chain([1, 2, 3, 0])
print list_.extend([9, 5]).sort().reverse()

"""
C:\Python27\python.exe C:/Users/Robert/PycharmProjects/contests/sof.py
[9, 5, 3, 2, 1, 0]
""" 
```

一个问题是调用是否`method(*args)`修改`self.o`但不返回`None`。（那么我应该返回`self`还是返回返回的内容`method(*args)`）。

有没有人有更好的方法来实现链接？可能有很多方法可以做到这一点。

我是否应该假设一个方法总是返回`None`，所以我可能总是返回`self.o`？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-08-29T07:49:53.893

有一个非常方便的[`Pipe`](https://github.com/JulienPalard/Pipe)库，它可能是您问题的答案。例如：：

```
seq = fib() | take_while(lambda x: x < 1000000) \
            | where(lambda x: x % 2) \
            | select(lambda x: x * x) \
            | sum() 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2015-01-30T09:13:10.127

如果您只使用[纯函数](http://en.wikipedia.org/wiki/Pure_function)，这样方法就不会`self.data`直接修改，而是返回修改后的版本，这是可能的。您还必须返回`Chainable`实例。

这是一个使用带有列表的[集合流水线的示例：](http://martinfowler.com/articles/collection-pipeline/)

```
import itertools

try:
    import builtins
except ImportError:
    import __builtin__ as builtins

class Chainable(object):
    def __init__(self, data, method=None):
        self.data = data
        self.method = method

    def __getattr__(self, name):
        try:
            method = getattr(self.data, name)
        except AttributeError:
            try:
                method = getattr(builtins, name)
            except AttributeError:
                method = getattr(itertools, name)

        return Chainable(self.data, method)

    def __call__(self, *args, **kwargs):
        try:
            return Chainable(list(self.method(self.data, *args, **kwargs)))
        except TypeError:
            return Chainable(list(self.method(args[0], self.data, **kwargs))) 
```

像这样使用它：

```
chainable_list = Chainable([3, 1, 2, 0])
(chainable_list
    .chain([11,8,6,7,9,4,5])
    .sorted()
    .reversed()
    .ifilter(lambda x: x%2)
    .islice(3)
    .data)
>> [11, 9, 7] 
```

请注意，`.chain`指的是`itertools.chain`而不是 OP 的`chain`.

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2020-02-29T10:52:40.210

我一直在为链接函数寻找类似的东西`Class`，但没有找到好的答案，所以这就是我所做的并且认为是一种非常简单的链接方式：只需返回`self`对象。

所以这是我的设置：

```
Class Car():
    def __init__(self, name=None):
        self.name = name
        self.mode = 'init'

    def set_name(self, name):
        self.name = name
        return self

    def drive(self):
        self.mode = 'drive'
        return self 
```

现在我可以通过调用来命名汽车并将其置于驱动状态：

```
my_car = Car()
my_car.set_name('Porche').drive() 
```

**警告**：这仅适用于不打算返回任何数据的类函数。

希望这可以帮助！

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-08-29T07:40:11.563

不会有任何通用方法允许链接任何对象的任何方法，因为您无法知道该方法返回哪种值以及为什么不知道该特定方法如何工作。方法可能`None`因任何原因返回；这并不总是意味着该方法已经修改了对象。同样，确实返回值的方法仍然可能不会返回可以链接的值。没有办法链接这样的方法`list.index`:`fakeList.index(1).sort()`不能有太大的工作希望，因为它的重点`index`是它返回一个数字，这个数字意味着什么，不能仅仅链接到原始对象上而忽略它。

如果您只是摆弄 Python 的内置类型以链接某些特定方法（如排序和删除），那么您最好只显式包装这些特定方法（通过在包装类中覆盖它们），而不是尝试做一般机制与`__getattr__`。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2022-02-08T06:17:10.983

关于什么

```
def apply(data, *fns):
    return data.__class__(map(fns[-1], apply(data, *fns[:-1]))) if fns else data

>>> print(
...   apply(
...     [1,2,3], 
...     str, 
...     lambda x: {'1': 'one', '2': 'two', '3': 'three'}[x], 
...     str.upper))
['ONE', 'TWO', 'THREE']
>>> 
```

?

..甚至保留类型:)

# asp.net - 使用 asp.net 处理 jquery ajax 跨域策略

> ID：12172937
> 
> 赞同：1
> 
> 时间：2012-08-29T07:34:46.650
> 
> 标签：asp.net, jquery

我还是 ASP.Net 的新手，但我有一些问题。我知道 jQuery-ajax 跨域策略，但是当我将这个 js 文件与 ASPX 页面关联时，我可以做些什么吗？我的意思是 - 在 ASP 中我可以使用`WebClient`or `HttpWebRequest`/ `Response`（跨域），所以也许有一些解决方案可以将它与 jQuery 一起使用？

到目前为止，我只想出了：

```
WebClient wClient = new WebClient()
byte[] arr = wClient.DownloadData("http://www.google.com/");
Response.Write("<div id='placeholder' >");
Response.Write(System.Text.Encoding.UTF8.GetString(arr));
Response.Write("</div>"); 
```

然后用 jQuery

```
var c = $('#placeholder').find('#content'); //assuming that there is some tag with id=content
$('body').append(c) 
```

有更优雅的解决方案吗？你知道一些教程吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:41:51.957

您可以从您的页面中代理您的请求，但是您的服务器必须完成这项工作，这可能不是真正必要的。所以你应该尝试跨域加载数据。这篇文章可能会对你有所帮助：[jquery ajax 消费 wcf 服务时如何避免跨域策略？](https://stackoverflow.com/questions/5686059/how-to-avoid-cross-domain-policy-in-jquery-ajax-for-consuming-wcf-service)

由于上述文章的“jQuery-Part”链接是非功能性的 - 这是另一个关于 jQuery-cross-domain 的 SO-Querstion：

[jQuery AJAX 跨域](https://stackoverflow.com/questions/3506208/jquery-ajax-cross-domain)

# ajax - AJAX 上传表单？

> ID：12172940
> 
> 赞同：1
> 
> 时间：2012-08-29T07:34:50.487
> 
> 标签：ajax, upload

我想制作 AJAX 上传表单（用于图像）。我制作了表单、PHP 代码，它可以刷新，但我想用 ajax 制作。所有数据都在 $_FILE 数组（PHP）中，但我不知道如何在 javascript 中获取它。你能帮助我吗？我试图用 $.post 和 $.ajax (jQuery) 做一些事情，但我无法获取数据。:\

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T08:02:37.747

有很多用于上传文件的 javascript 插件，你可以试试这些：

[Ajax 文件上传插件](http://www.phpletter.com/Demo/AjaxFileUpload-Demo/)

[多文件上传插件](http://www.fyneworks.com/jquery/multiple-file-upload/)

[价值观](https://github.com/valums/file-uploader)

# javascript - 日期对象未返回预期年份

> ID：12172942
> 
> 赞同：0
> 
> 时间：2012-08-29T07:34:58.193
> 
> 标签：javascript, date

我正在尝试使用 JavaScript 日期对象获取今天的日期。当我这样做时，我运行以下代码：

```
var date = new Date();
date = new Date(date.getYear(), date.getMonth(), 1); 
```

我得到这个结果：

```
Mon Aug 01 112 00:00:00 GMT +0200 
```

而不是今天的日期。我以前使用过这个确切的代码，没有任何问题。难道我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:36:36.290

使用`date.getFullYear()`而不是`date.getYear()`.

> [getYear](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/getYear)不再使用，已被 getFullYear 方法取代。
> 
> getYear 方法返回年份减去 1900。

# android - BitMapFactory.decodeStream 尝试在小图像上分配超过 20 MB

> ID：12172949
> 
> 赞同：1
> 
> 时间：2012-08-29T07:35:26.860
> 
> 标签：android, image, bitmap, heap-memory

我有一个关于使用 bitmapfactory.decodestream 从互联网加载图像的问题。例如这张图片： [https ://portal.apprenticexm.nl/appportal/public/apps/1/media/807162_88149365.jpg](https://portal.apprenticexm.nl/appportal/public/apps/1/media/807162_88149365.jpg)

它的大小刚刚超过 100 KB，但是 bitmapfactory.decodestream 上的错误说我尝试分配超过 20 MB： 原因：java.lang.OutOfMemoryError：位图大小超过 VM 预算（堆大小=8007KB，已分配=3662KB，位图大小=23756KB)

我希望有人能够阐明这个问题。

最好的，彼得

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T14:26:39.720

正如 Alex Orlov 所说：“磁盘上的大小与内存中位图的大小无关。在第一种情况下，图像被压缩，另一方面，位图只是一组原始像素。” 然而，即使考虑到它被存储为原始图像，20MB 仍然太多了。如果我们考虑每像素 4B，那将是 5Mpix 图像，但您发布的图像肯定更小。

我有类似的问题：我正在加载一个具有 8MB 原始格式的图像，但是，为它分配了 32MB。后来我发现这是由 dpi 缩放引起的。如果您的图像在“drawable”文件夹中，它将根据当前屏幕 dpi 自动缩放。我有一个 XHDPI 屏幕，所以我的图像水平缩放 2 倍，垂直缩放 2 倍，这就是它占用 4 倍更多内存的原因。

您可以在此处找到有关 dpi 工作原理的更多信息：http: [//developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

如果您不想使用这个自动 android 功能并自己缩放图像，只需将“drawable”文件夹重命名为“drawable-nodpi”。“drawable”文件夹中标记为“nodpi”的所有图像都将按原样加载。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T08:32:42.217

磁盘上的大小与内存中位图的大小无关。在第一种情况下，图像被压缩，另一方面，位图只是一组原始像素。您还必须考虑诸如图像配置之类的事情。如果我没记错的话，jpg 不支持 alpha 通道，因此比 android 的默认配置 ARGB_8888 更轻量级

您可以控制如何使用 BitmapFactory.Options 加载图像

# asp.net - Page_Load 之前的页面掩码

> ID：12172950
> 
> 赞同：0
> 
> 时间：2012-08-29T07:35:33.367
> 
> 标签：asp.net

我需要对网站中的每个页面应用页面屏蔽。每个页面都将被屏蔽，直到 page_load 完成。

我试图把它放在母版页中：

```
<asp:UpdateProgress ID="updateProgress" runat="server"  DynamicLayout="false"  >
    <ProgressTemplate>
        <div id="Progress">Loading...</div>
        <div id="bgDiv"></div>
    </ProgressTemplate>
</asp:UpdateProgress> 
```

但它不会起作用。为了测试它，我延迟了 master 的 page_load。但是没有敷面膜。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:57:53.823

首先，这可以使用 javascript 和 css 来完成，而不是背后的代码。因此，这是一个示例，您可以如何做到这一点：

## 页面掩码

将使该技巧应用于页面的代码开始。假设您选择了一种使页面看起来不可点击、淡出的方式。

这可以通过 div 和 css 来完成。网上有很多这样的例子，这里有一个[全页覆盖的示例代码](http://library.creativecow.net/articles/chaffin_abraham/full-page-overlay.php)

```
<style>
#displaybox {
    z-index: 10000;
    filter: alpha(opacity=50); /*older IE*/
    filter:progid:DXImageTransform.Microsoft.Alpha(opacity=50); /* IE */
    -moz-opacity: .50; /*older Mozilla*/
    -khtml-opacity: 0.5;   /*older Safari*/
    opacity: 0.5;   /*supported by current Mozilla, Safari, and Opera*/
    background-color:#000000;
    position:fixed; top:0px; left:0px; width:100%; height:100%; color:#FFFFFF; text-align:center; vertical-align:middle;
}
</style> 
```

## 同步页面加载/或回发

您在 html 页面部分的正文之后设置淡出 div，并制作一个 flush() 以便它立即出现，如下所示：

```
<div id="FadeOutBox" ></div><%Response.Flush(); %> 
```

并在页面底部使用 javascript 将其删除，或者使用 css 样式，如下所示：

```
<script>document.getElementById('FadeOutBox').style.display = "none";</script> 
```

## 异步/UpdatePanel 调用

如果你有一个更新面板，那么你需要捕获更新面板触发的事件，并使这个 div 每次可见或不可见，如：

```
<script>
Sys.WebForms.PageRequestManager.getInstance().add_beginRequest(BeginRequestHandler);
Sys.WebForms.PageRequestManager.getInstance().add_endRequest(EndRequestHandler);

    function BeginRequestHandler(sender, args) {
        // Show the mask
        document.getElementById('FadeOutBox').style.display = "block";
    }

    function EndRequestHandler(sender, args) {
        // Hide it
        document.getElementById('FadeOutBox').style.display = "none";
    }

</script> 
```

## 在 Post Back 上立即打开页面掩码

您甚至可以在回发时、页面加载之前打开页面掩码，并在页面加载之后打开它。您可以使用后面的代码来捕获提交：

```
if (Page.EnableEventValidation)
{
    if (string.IsNullOrEmpty(Page.Form.Attributes["onsubmit"]))
    {
        Page.Form.Attributes["onsubmit"] = "return ShowWait();";
    }
} 
```

在javascript部分：

```
function ShowWait()
{
   document.getElementById('FadeOutBox').style.display = "block";
   return true; 
} 
```

# asp.net - 无法从浏览器访问 IIS 中已发布的 Asp.net 站点

> ID：12172955
> 
> 赞同：-1
> 
> 时间：2012-08-29T07:36:00.307
> 
> 标签：asp.net, .net, error-handling, publish

我开发了一个 Asp.net 网站，我可以从我的浏览器和局域网中访问它。现在我尝试发布网站并将发布的网站放在我的虚拟目录中并从我的浏览器访问它。这给了我一个错误。 ![在此处输入图像描述](../Images/6e5d25e9e899f7bf6a471ae771a7eca3.png)

> 配置错误

```
Description: An error occurred during the processing of a configuration file required to service this request.  
Please review the specific error details below and modify your configuration file appropriately. 

Parser Error Message: It is an error to use a section registered as allowDefinition='MachineToApplication' beyond application level.
This error can be caused by a virtual directory not being configured as an application in IIS. 
```

据我所知，如果站点已发布，那么当我将 URL 提供给包含站点文件的目录时，`Default.aspx`应该会自动打开该文件，但我会得到目录列表。如果我从那里打开 Default.aspx，我会收到错误消息。

所以请让我知道为什么当我通过已发布的网站访问时会出现错误，以及访问正在发布或未发布的网站有什么区别？

**更新：**我的 IIS 屏幕截图：

![在此处输入图像描述](../Images/a36c2aa21f9089d21e56b53d84579228.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T08:42:51.393

如果您使用的是 Windows server 2003，您必须通过右键单击您的站点将“Default.aspx”添加到默认页面列表，然后转到文档

要解决您的错误，请右键单击您的站点，然后转到目录安全性并取消选中集成 Windows 身份验证。

不要忘记运行 IISReset 命令

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T08:35:14.860

删除已发布的文件，然后重新发布。如果它不起作用，请删除此行并运行它。

要将 Default.aspx 设置为您的主页，请右键单击虚拟目录 -> 设置 -> 文档（选项卡） -> 添加 Default.aspx 并将其设置为第一个。

# jsf-2 - primefaces 3.3.1 是一个稳定可靠的 primefaces 版本吗？

> ID：12172957
> 
> 赞同：-3
> 
> 时间：2012-08-29T07:36:02.577
> 
> 标签：jsf-2, namespaces, primefaces

嗨，我想知道 primefaces 3.3.1 是否是稳定版本？

**编辑** 当我将命名空间 uri 从 primefaces.prime.com.tr/ui 更改为 primefaces.org/ui primefaces 组件正常工作时，我发现问题出在命名空间中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T08:16:37.677

是的。

每个版本不是以*rc*（候选版本）或*SNAPSHOT*或*M*（我认为是里程碑）为后缀的版本，例如 3.4rc1，都被认为是稳定可靠的

（当然这里和那里可能存在错误）

* * *

**顺便提一句**

当您从一个 PF 版本迁移到另一个版本时出现一些异常时，请查看[Primefaces MigrationGuide](http://code.google.com/p/primefaces/wiki/MigrationGuide)

# sql - 如何在 isqlplus 中正确设置列值

> ID：12172959
> 
> 赞同：-2
> 
> 时间：2012-08-29T07:36:09.390
> 
> 标签：sql, oracle, sqlplus

我想将我的列值设置为右对齐..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:41:22.250

尝试这个：

```
column colum_name justify right 
```

您还可以使用 lpad：

```
select lpad('AAA', 7) from dual 
```

# ruby-on-rails - Ruby on Rails 之间:text text:?

> ID：12172960
> 
> 赞同：0
> 
> 时间：2012-08-29T07:36:15.583
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3.2

在 Ruby on Rails 中，有什么区别

```
:bonus_card 
```

和

```
dependent: ? 
```

（在示例中

```
class TrainPassengers < ActiveRecord::Base
  has_one :bonus_card, dependent: :destroy
end 
```

)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:37:18.383

```
dependent: :destroy 
```

是替代语法：

```
:dependent => :destroy 
```

它是[Ruby 1.9 中的新功能](http://nuclearsquid.com/writings/ruby-1-9-what-s-new-what-s-changed/#new-stuff-in-ruby-19)。

`:dependent`,`:destroy`并且`:bonus_card`都是[符号](http://www.robertsosinski.com/2009/01/11/the-difference-between-ruby-symbols-and-strings/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:44:43.973

这是 ruby​​ 1.9 中的新语法

```
 dependent: :destroy 
```

这是这个的替代品

```
 :dependent => :destroy 
```

我认为您是 ruby​​ 的新手，因为有经验的人对此有所了解，如果您使用脚手架然后依赖: :destroy 此代码现在默认由 rails 生成。

:dependent ,:destroy 和 :bonus_card 都是符号。阅读符号这些非常有用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:45:14.910

在 Ruby 中，`:something`是一个符号。符号是保存在内存中的引用，可以快速查找，因此它是一种很好的数据类型，可用作哈希键。Ruby 哈希通常看起来像：

```
{ :some_key => "some data", :other_key => 65536, :yet_another_key => :symbol_as_data } 
```

Ruby 1.9 引入了写上面的简写符号，只要键是符号，你可以把冒号移到最后，省略粗箭头`=>`

```
{ some_key: "some data", other_key: 65536, yet_another_key: :symbol_as_data } 
```

这仅对作为散列**键**传递的符号有效（也在作为方法参数传递的散列中）。用作哈希键的其他对象仍必须使用粗箭头（`=>`），并且在其他地方使用的符号始终以冒号开头。

# sql - 使用 vba 更改的记录源中的不同列不会相应更新

> ID：12172962
> 
> 赞同：1
> 
> 时间：2012-08-29T07:36:18.900
> 
> 标签：sql, vba, ms-access

我有一个子表单，它显示已保存查询的结果。现在我想更改为另一个查询。

```
Me.SF_Results.Form.RecordSource = "NewQuery" 
```

它可以工作，但仍然显示旧查询中而不是新查询中的列并显示#Name？在每个细胞中。

如何更新新查询的列？

我在这里找到了一个解决方案，其中涉及将记录源设置为空字符串，然后设置为新查询，但它对我不起作用。他们也出于某些我不知道的原因在那里使用“Query.NewQuery”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T09:06:33.407

它们`Query.NewQuery`用于`Source Object`not the，`Record Source`因为它们在子表单控件中显示查询，而不是表单。子表单控件是一个可以显示表格和查询以及表单的容器。我不建议显示可编辑的查询，您将失去对数据的所有控制权。如果您确实必须这样做，请确保控件已锁定。

或者，谈谈您的数据，有人可能会提出不同的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T14:31:57.387

您可以有 2 个子表单，位于主表单上的相同位置，并`.Visible`为您希望他们查看的任何一个进行适当设置

```
Me.SF_Results.Form.Visible=False
Me.Other_SF_Results.Form.Visible=True 
```

# c++ - Winrt / XAML / C++：从字符串值获取颜色

> ID：12172963
> 
> 赞同：0
> 
> 时间：2012-08-29T07:36:20.307
> 
> 标签：c++, xaml, windows-8, windows-runtime, c++-cx

我目前正在`WinRT`用 C++ 编写一些组件，我需要弄清楚如何获取颜色字符串（例如 "#FF448DCA" ）并将其转换为 a`Color`以用于构造 a `SolidColorBrush`。

在`WPF`我们有`BrushConverter`，但我们似乎没有等价物`WinRT`

我可以`C#`通过拆分字符串，转换为十六进制块等来做到这一点，但这超出了我目前的`C++`技能。

在我花大量时间尝试解决之前，有没有人有一个快速的答案（我的 C++ 会改进，但我的交易线会受到影响）

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T13:08:35.087

这是一个简短的示例，如何使用正则表达式完成此操作，使用 vs 2010 express 编写。这只是解析，稍后使用 Marc 所写的 ColorHelper

```
#include <string>
#include <regex>

bool GetARGBFromS(const std::string& s, int& a, int& r, int& g, int& b) {   
    try {
        std::smatch m;
        if ( regex_search(s, m, std::regex("#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})")) ) {
            a = std::stoi(m[1].str(), 0, 16);
            r = std::stoi(m[2].str(), 0, 16);
            g = std::stoi(m[3].str(), 0, 16);
            b = std::stoi(m[4].str(), 0, 16);
        }   
        else
            return false;
    }
    catch(...){ /*should catch/report specific exceptions, but thats just example*/ return false; }
    return true;
}

int main() {

    int a,r,g,b;
    if ( GetARGBFromS("#FF448DCA", a, r, g, b) )
    {}

    return 0;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T12:50:29.080

Unfortunately you'll need to convert it to discrete byte values.

Once you have those you use the ColorHelper class (http://msdn.microsoft.com/en-us/library/windows/apps/hh747822.aspx) to convert them into a Color structure (there isn't a Color.FromArgb method in C++).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-09T15:33:12.050

这是我的做法。

```
 public static Brush ColorToBrush(string color)
    {
        color = color.Replace("#", "");
        if (color.Length == 6)
        {
            return new SolidColorBrush(ColorHelper.FromArgb(255,
                byte.Parse(color.Substring(0, 2), System.Globalization.NumberStyles.HexNumber),
                byte.Parse(color.Substring(2, 2), System.Globalization.NumberStyles.HexNumber),
                byte.Parse(color.Substring(4, 2), System.Globalization.NumberStyles.HexNumber)));
        }
        else
        {
            return null;
        }
    } 
```

致电

```
textbox1.BorderBrush = ColorToBrush("#ffff00"); 
```

# google-app-engine - Google App Engine 上的 Google 云消息传递演示

> ID：12172966
> 
> 赞同：2
> 
> 时间：2012-08-29T07:36:22.487
> 
> 标签：google-app-engine, google-cloud-messaging

我想在 Google App Engine 上部署[Google Cloud Messaging 演示服务器。](http://developer.android.com/guide/google/gcm/demo.html)我使用 Eclipse 并安装了 App Engine 插件，但我是 Web 应用程序的新手，以前从未使用过 Google App Engine。

如指南中所述，在本地 Tomcat 上部署 GCM 演示服务器非常有效。

如果有人能给我一个提示，那就太好了。

# java - 可嵌入对象集合的级联删除

> ID：12172971
> 
> 赞同：9
> 
> 时间：2012-08-29T07:36:45.690
> 
> 标签：java, hibernate, cascading-deletes

我有一个`A`具有基本类型集合的实体（例如`String`）。我使用这样的映射是因为与每个实例相关联的字符串`A`依赖于`A`的生命周期。如果我想`A`从数据库中删除一个实例，我还希望删除其关联`String`的 s。

我的映射如下：

```
@Entity
public class A {

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long id;

    @Column(name = "name", nullable = false, unique = true)
    private String name;

    @ElementCollection(fetch = FetchType.EAGER)
    @CollectionTable(name = "AStrings", joinColumns = @JoinColumn(name = "id"))
    @Column(name = "strings", nullable = false)
    private Set<String> strings;
} 
```

如果我创建一个实例`A`并为其添加一些字符串，那么我可以使用`Session.save(myInstance)`. 的实例`A`及其关联`String`的 s 都被持久化。

但是，如果我想从数据库中删除相同的实例，使用`Session.createQuery("delete A a where a.name = ?").setString(0, name).executeUpdate()`，我会得到一个外键约束错误：

> 无法删除或更新父行：外键约束失败

但是，我希望`String`在删除 ' 实例之前自动删除关联的`A`s ，但似乎并非如此。我也没有找到指定级联规则的方法。

我的配置有问题吗？

谢谢

* * *

**编辑：** 我也试过`@Cascade(CascadeType.DELETE)`在现场使用`strings`，但它仍然没有帮助。通过查看数据库，我看不到`ON DELETE`有关外键的任何策略。

有同样问题的人打开了 JIRA：[https](https://hibernate.onjira.com/browse/HHH-4301) ://hibernate.onjira.com/browse/HHH-4301 。必须存在解决方案（或解决方法），我不能是唯一使用`@ElementCollection`.

我已经解决了这个问题。我认为使用 Session.delete() 删除或使用 HQL 查询是等效的，但似乎不是。使用 HQL 查询，依赖对象不会自动删除，所以我得到一个外键约束错误。使用 Session.delete() 解决了这个问题。此外，Hibernate 似乎没有使用数据库的级联功能，因为我在生成的 DDL 中仍然没有看到任何 CASCADE 策略，它在内部处理了这个。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-15T14:40:59.210

我已经解决了这个问题。

我认为使用`Session.delete()`或使用`HQL`查询删除实体是等效的，但似乎不是。使用`HQL`查询，依赖对象不会自动删除，所以我得到一个外键约束错误，如问题中所述。

使用`Session.delete()`可以解决问题。此外，Hibernate 似乎没有使用数据库的级联功能，因为我在生成的 DDL 中仍然没有看到任何 CASCADE 策略，它在内部处理了这个。

* * *

**对于版主：**

我过去已经添加了我对问题的答案（如您所问），但由于这是解决问题的答案并且没有（来自其他用户）发布任何答案，我想我应该在这里发布它作为答案.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T09:16:11.433

*   添加`orphanRemoval`配置怎么样？

*   `A.strings().clear()`还是在删除一个A实例之前手动调用？

如果以上两个都不起作用，也许有一些错误`ElementCollection`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T09:20:15.503

测试强制删除孤儿：

```
@Cascade( { org.hibernate.annotations.CascadeType.ALL, 
    org.hibernate.annotations.CascadeType.DELETE_ORPHAN }) 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-08-29T09:03:28.700

添加“@Cascade”（org.hibernate.annotations.Cascade）

前任：

```
@Entity
public class A {

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long id;

    @ElementCollection(fetch = FetchType.EAGER)
    @CollectionTable(name = "AStrings", joinColumns = @JoinColumn(name = "id"))
    @Column(name = "strings", nullable = false)
    @Cascade(value=org.hibernate.annotations.CascadeType.ALL)
    private Set<String> strings;
} 
```

# objective-c - ShareKit - 在 Facebook 上分享仍会显示演示应用程序

> ID：12172982
> 
> 赞同：0
> 
> 时间：2012-08-29T07:37:53.483
> 
> 标签：objective-c, xcode, sharekit

我在使用共享工具包功能时遇到问题。

我有一个按钮及其 IBAction，如下所示。

但问题是当我点击按钮时，它会显示一个带有 Facebook、Twitter 和 Pocket 的 ActionSheet，我选择 Facebook，通过身份验证，然后它会将我重定向到 ShareKit 演示应用程序！

```
- (IBAction)moreSharing:(id)sender { 
{
// Create the item to share (in this example, a url)
NSURL *url = [NSURL URLWithString:@"http://www.mywebsite.com"];
SHKItem *item = [SHKItem URL:url title:@"Welcome to mywebsite"];

// Get the ShareKit action sheet
SHKActionSheet *actionSheet = [SHKActionSheet actionSheetForItem:item];

// Display the action sheet
[actionSheet showFromToolbar:navigationController.toolbar];
} 
```

我检查了我的 Xcode 项目解决方案文件，并且已经删除并删除了示例文件夹。我不知道演示应用程序来自哪里。

任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T15:14:15.640

您是否继承了 DefaultSHKConfigurator 并编辑了设置？您可以在他们的文档中了解它是如何完成的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T21:01:11.267

您似乎为您的应用使用了 ShareKit 的演示应用 Facebook URL 方案。您可以在 ShareKit-info.plist（和您的 app-info.plist）中看到它。您应该使用自己的 Facebook 应用 ID。

# android - Android线性布局与其父级不匹配

> ID：12172983
> 
> 赞同：-1
> 
> 时间：2012-08-29T07:37:54.750
> 
> 标签：android, android-layout, android-linearlayout

我正在滚动视图中创建一个列表视图，我希望列表视图与其父级匹配。滚动视图正在匹配其父级并获取完整的屏幕。但其中的线性布局与其父级不匹配并获取整个屏幕，如列表视图

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <ScrollView
        android:id="@+id/scrollView1"
        android:layout_width="match_parent"
        android:layout_height="match_parent" >

<LinearLayout
    android:id="@+id/linearlayout1"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

            <ListView
                android:id="@+id/listView"
                android:layout_width="match_parent"
                android:layout_height="match_parent" >

            </ListView>
</LinearLayout>
    </ScrollView>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-05-03T13:06:23.260

将您的代码替换为以下无需使用**ScrollView**或**LinearLayout**列表视图是默认提供滚动。

```
<?xml version="1.0" encoding="utf-8"?>
    <LinearLayout 
         xmlns:android="http://schemas.android.com/apk/res/android"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
         android:orientation="vertical">
             <ListView
                 android:id="@+id/listView"
                 android:layout_width="match_parent"
                 android:layout_height="match_parent">
             </ListView>
    </LinearLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-23T21:17:23.843

是的，正如 njzk2 所说，你不能那样做。我在滚动视图中遇到了 ListViews 的问题

我不使用列表视图。我一般只使用按钮。他们工作得更好。

# css - 一个样式表中的不同配色方案

> ID：12172987
> 
> 赞同：1
> 
> 时间：2012-08-29T07:38:11.227
> 
> 标签：css

我的主题有不同的风格（不同的配色方案）。

首先，我加载默认的 css，然后加载具有特定颜色等的 css 样式表，具体取决于我要使用的配色方案。

测试我的网站的速度，我注意到延迟，因为我需要加载两个样式表。

有没有办法将所有样式放在一个文件中而不使用两个不同的？这也必须是跨浏览器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:44:13.887

对于颜色覆盖，您可以将它们嵌套在 id 选择器中，并将该 id 赋予 body 元素以选择配色方案。这将允许您将许多主题存储在一个文件中。

例如

```
/* defaults */
h1 { color : black; }

/* light theme */
#light h1 { color : grey; } 

/* neon theme */
#neon h1 { color : pink; } 
```

然后设置body类，为

```
<body id="neon"> 
```

如果您使用 LESS，您可以轻松地将顶级样式包裹在整个配色方案中，以保持布局更整洁。例如

```
#light {
    h1 { color : grey; } 
    p { color : silver; }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:44:28.030

根据您的服务器端技术，您应该“捆绑”您的 CSS 和 JS，以便将它们作为一个文件提供给客户端。这也将使您能够压缩和缩小您的 .js 和 .css。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:39:52.603

您应该不会真正注意到加载两个样式表与加载一个样式表的巨大延迟。

但是，要回答您的问题，您可以将第二个样式表文件的所有内容复制到第一个样式表文件的末尾，您应该得到相同的结果。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T07:41:39.600

将所有样式复制到一个文件中时，可以为 body 定义两个类，并在所有样式前面加上相应的类。

所以你可以拥有`<body class="scheme1">`并且你的 CSS-Rules 就像`.scheme1 h1 {}`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-29T22:46:27.110

我在一个样式表中有各种配色方案。要演示更改配色方案，请访问[http://prettydiff.com/](http://prettydiff.com/)并将配色方案列表中的值更改为不同的值。所做的只是改变 body 标签上的 class 属性，然后引用一个 CSS 文件中的不同 CSS 属性。

样式表位于[http://prettydiff.com/diffview.css](http://prettydiff.com/diffview.css)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-29T07:52:18.903

您可以使用[更少](http://lesscss.org/)并缩小 CSS。

你应该使用多个类，例如你可以使用 thisM 或者只是缩小你的 CSS。

```
<h1 class="big-text theme-blue"></h1> 
```

然后在你的css中你使用诸如M之类的规则

```
.big-text.theme-blue 
```

# c - 在 C 中，是否可以将导出的函数名称更改为不同的名称？

> ID：12172988
> 
> 赞同：13
> 
> 时间：2012-08-29T07:38:13.450
> 
> 标签：c, linker, inline, static-linking

全部。

我想链接一个调用`malloc()`函数的库。但是，我的目标环境不同，并且 `malloc()`作为内联函数提供。

如何使库调用`malloc()`直接到我的目标环境的`malloc()`例程？

有什么方法可以更改导出的函数名称吗？如果是这样，我可以先编码`my_malloc()`并将其导出为`malloc()`并将库链接到该库：

```
#include <my_environment.h>  // malloc() is inline function declared there 
void my_malloc (void) {
   malloc (void);             
} 
```

* * *

更具体地说，该库是来自 linux 发行版的库，因此它依赖于 libc。但是我的环境是嵌入式的，没有 libc 库，并且`malloc()`, `free()`, ... 是自定义实现的。有些是内联函数，有些是库函数。

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-08-29T07:49:18.420

GNU 链接器 (ld) 支持`--wrap=functionname`参数。我将简单地引用手册页中的文档，因为它包含一个应该完全满足您需要的示例：

> --wrap=symbol 对符号使用包装函数。任何未定义的符号引用都将解析为“__wrap_symbol”。任何对“__real_symbol”的未定义引用都将被解析为符号。
> 
> 这可用于为系统函数提供包装器。包装函数应称为“__wrap_symbol”。如果它想调用系统函数，它应该调用“__real_symbol”。
> 
> 这是一个简单的例子：

```
void *
__wrap_malloc (size_t c)
{
    printf ("malloc called with %zu\n", c);
    return __real_malloc (c);
} 
```

> 如果你用这个文件链接其他代码`--wrap malloc`，那么所有对“ `malloc`”的调用都将调用该函数`"__wrap_malloc`。调用“ `__real_malloc`”中的“ `__wrap_malloc`”将调用真正的“ `malloc`”函数。
> 
> 您可能还希望提供一个 " `__real_malloc`" 函数，以便没有该`--wrap`选项的链接会成功。如果这样做，则不应将“”的定义与“ `__real_malloc`”放在同一个文件中`__wrap_malloc`；如果你这样做了，汇编器可能会在链接器有机会将它包装到“ `malloc`”之前解决调用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-29T07:41:46.837

我认为该`alias`属性可能会解决您的问题：

```
alias ("target")
    The alias attribute causes the declaration to be emitted as an alias for another symbol, which must be specified. For instance,

              void __f () { /* Do something. */; }
              void f () __attribute__ ((weak, alias ("__f")));

    defines `f' to be a weak alias for `__f'. In C++, the mangled name for the target must be used. It is an error if `__f' is not defined in the same translation unit.

    Not all target machines support this attribute. 
```

[http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html](http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-29T07:52:09.350

关于什么：

```
#define malloc my_malloc
#include <my_environment.h>
#undef malloc

int malloc(size_t sz)
{
   return my_malloc(sz);
}

#define malloc my_malloc
// use your malloc here 
```

# ruby-on-rails - 检查参数，针对方法定义的 cookie 不起作用

> ID：12172990
> 
> 赞同：0
> 
> 时间：2012-08-29T07:38:18.377
> 
> 标签：ruby-on-rails, ruby

我有以下代码，它首先根据参数分配区域设置，然后是先前设置的 cookie，然后通过请求`HTTP_ACCEPT_LANGUAGE`.

```
def set_locale
  if params[:locale] 
    I18n.locale = params[:locale]
  elsif cookies[:locale]
    I18n.locale = cookies[:locale]
  else 
    I18n.locale = sanitizeLocale(request.env["HTTP_ACCEPT_LANGUAGE"]) # e.g. "en,es;q=0.8,de-de;q=0.5,en-us;q=0.3"
  end
  cookies[:locale] = I18n.locale
end

def sanitizeLocale(locale)
  @locale, lang_weight = cookies[:locale] || begin
    if accept_lang = request.env["HTTP_ACCEPT_LANGUAGE"] # e.g. "en,es;q=0.8,de-de;q=0.5,en-us;q=0.3"
      accept_lang.to_s.split(',').collect {|l| x,y = l.split(';q='); [x.split('-').first, (y||1).to_f]}.sort_by(&:last).reverse.find {|lang, lang_weight| %w[es en it fr de].include?(lang)}
      # returns ["en", 1.0]
    end
  end || 'en' # default
  return @locale
end 
```

我的问题是如何检查`params[:locale]`给定和`cookies[:locale]`对照`sanitizeLocale`. 我很感兴趣仅根据输入获取有效值，例如`es en it fr de`或默认为 en 。

我一直试图将它的值传递给`sanitizeLocale`我正在做的类似的事情，`HTTP_ACCEPT_LANGUAGE` 由于某种原因我无法理解它不起作用，并且`en`即使`params[:locale]`给定的值是有效的，也总是默认为`it`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T19:22:13.477

首先，我们可以稍微简化一下您的 Accept-Language 解析：

```
def acceptable_langs
  extract_langs = lambda do |l|
    x, y = l.split(';q=')
    [x.split('-').first, -(y || 1).to_f] # the -1 makes sort_by nicer
  end
  known_langs = lambda { |lang| %w[es en it fr de].include?(lang.first) }
  quality = :last
  language = :first
  langs = request.env['HTTP_ACCEPT_LANGUAGE'].to_s
                 .split(',')
                 .map(&extract_langs)
                 .select(&known_langs)
                 .sort_by(&quality)
                 .collect(&:language)
  langs + ['en']
end 
```

将`to_s`照顾`nil`s 和 lambdas 和额外的变量只是为了澄清逻辑。您不必这样做，您真正需要的只是一种返回用户和您的软件都可以接受的语言代码的方法，这些代码由用户的偏好排序。

现在回到`set_locale`. 您说`'en'`无论 URL 或 cookie 必须说什么，您都需要语言来匹配 Accept-Langauge（作为后备）。这意味着无论如何您都必须解析 Accept-Language 然后检查`params[:locale]`并`cookies[:locale]`对照该列表：

```
def set_locale
  # Figure out what they're asking for with English as the
  # default. Note that `acceptable_langs` always forces English
  # to be in the list.
  asking_for = params[:locale] || cookies[:locale] || 'en'

  # acceptable_langs is always in preference order so we just
  # want the first one that matches our `lang`.
  lang = acceptable_langs.find { |lang| asking_for == lang }

  # Now we have an acceptable language in `lang` (thanks to all
  # the `'en'` fallbacks we sprinkled about).
  I18n.locale = cookies[:locale] = lang
end 
```

您还可以在 cookie 中添加一点“我已经完成了所有这些工作”标志，这样您就可以简单地信任`cookies[:locale]`是否设置了该标志；不过，可能没有理由过早优化`set_locale`。

# jquery - 检查是否存在具有特定标题的孩子

> ID：12172994
> 
> 赞同：3
> 
> 时间：2012-08-29T07:38:43.093
> 
> 标签：jquery

我想检查我父母下是否有一个具有特定标题的孩子。我已经设法检查孩子是否存在，但我想添加一个检查标题是否等于字符串“否”..

```
$(this).find('#test').children().size() === 0; 
```

如何才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T07:44:01.687

试试这个：`$('[title="No"]', this);`

解释一下，这将寻找一个带有`title="No"` *inside* `this`的元素，这将是循环中的当前元素，或者可以完全是另一个选择器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T07:45:23.417

使用[属性等于选择器](http://api.jquery.com/attribute-equals-selector/)

```
$(this).find('#test').children('[title=No]').length > 0; 
```

# windows - 如何在 Windows 中收集每个服务名称及其状态？

> ID：12172997
> 
> 赞同：8
> 
> 时间：2012-08-29T07:38:49.943
> 
> 标签：windows, windows-7

我想在不使用任何 3rd 方工具的情况下获取所有 service_name 及其状态。到目前为止，[SC](http://ss64.com/nt/sc.html)命令足以获取其中一个值，例如

```
sc query | findstr SERVICE_NAME 
```

但我也需要列出`STATUS`每个。`SERVICE_NAME`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-29T07:58:48.280

这是一个应该完成这项工作的命令：

```
for /f "tokens=2" %s in ('sc query state^= all ^| find "SERVICE_NAME"') do
    @(for /f "tokens=4" %t in ('sc query %s ^| find "STATE     "') do @echo %s is %t) 
```

这个怎么运作：

首先`sc query state= all | find "SERVICE_NAME"`是运行。此命令旨在为您提供服务名称，每行一个。插入符号`^`（我已在此处删除）对于转义要影响`sc`命令而不是`for`命令本身的特殊字符是必需的。

然后初始`for /f`解析上述输出以从每行中删除标准的“SERVICE_NAME：”前缀，为您提供纯服务名称。此时输出如下所示：

```
C:\>for /f "tokens=2" %s in ('sc query state^= all ^| find "SERVICE_NAME"') do @echo %s
AdobeFlashPlayerUpdateSvc
AeLookupSvc
ALG
AppIDSvc
Appinfo
AppMgmt
aspnet_state
AudioEndpointBuilder
AudioSrv 
```

然后将此输出馈送到下一个`for /f`运行`sc query servicename`，找到具有状态的行，并隔离第 4 个“单词”（当前状态）。

最后，每个服务的名称连同它的状态一起被打印出来（此时你可以选择做一些不同的事情，如果你愿意的话）。

**重要提示：**如果您在批处理文件中运行它，百分号（例如 at `%s`）需要加倍。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-01-04T14:12:59.447

# 尝试获取服务

PowerShell 具有[`Get-Service`](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/get-service). 它的细节比 sc.exe 少一点。

# 试试 SC.exe

```
sc.exe query state= all 
```

（**注意：** `sc query state=all`不会工作。你需要等号后的空格符号。否则你会得到这个奇怪的错误`[SC] EnumQueryServicesStatus:OpenService FAILED 1060: The specified service does not exist as an installed service.`：）

来源：[https ://ss64.com/nt/sc.html](https://ss64.com/nt/sc.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2019-05-19T12:12:08.440

顺便一提

```
sc query | findstr SERVICE_NAME 
```

将仅显示活动 (RUNNING) 服务，因此无需过滤状态 (STATE)。

尝试使用支持多个过滤项的 findstr 语法的 SC：

```
sc query state= all | findstr "SERVICE_NAME STATE" 
```

或者

```
sc query state= all | findstr "DISPLAY_NAME STATE" 
```

或两者

```
sc query state= all | findstr "SERVICE_NAME DISPLAY_NAME STATE" 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-29T07:58:34.863

ss64.com/nt/sc.html

```
sc state= active¦inactive¦all 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-04-01T14:42:18.717

感谢[@jon](https://stackoverflow.com/users/50079/jon)的帖子，这非常有帮助。我想要一个列对齐的输出，所以我抓住了你上面的例子并创建了以下批处理文件：

```
@ECHO OFF
SETLOCAL ENABLEDELAYEDEXPANSION
ECHO.Service                                                  State
ECHO.-------------------------------------------------------  -------------

FOR /F "TOKENS=2" %%S IN ('sc query state^= all ^| FIND "SERVICE_NAME" ^| FIND /I "myservice"') DO (
    @(FOR /f "TOKENS=4" %%T IN ('sc query %%S ^| FIND "STATE     "') DO (
        SET OUTPUT="%%S -------------------------------------------------------------"
        @ECHO !OUTPUT:~1,55!^> %%T
    ))
)
ENDLOCAL 
```

这会产生一个适合我正在寻找的输出，如下所示：

```
Service                                                  State
-------------------------------------------------------  -------------
MyService.Test_1 --------------------------------------> STOPPED
MyService.Test_2 --------------------------------------> RUNNING
MyService.Test_3 --------------------------------------> STOPPED 
```

以下是相关更改的细分

*   添加了额外的查找以仅过滤到我想查看的服务名称而不是整个列表，在这种情况下查找包含“myservice”的服务名称`FIND /I "myservice"`
*   因为它在一个批处理文件中，分别更改为和（`%s`我喜欢对变量使用大写）`%t``%%s``%%t`
*   添加了`OUTPUT`用于格式化的 var ( `SET OUTPUT="%%S -------------------------------------------------------------"`)，该值被引用，因为我最初打算使用空格，但切换到 dash `-`，可以将其更改为您喜欢的任何字符，我也考虑`*`过。该值设置为服务名称加上任何填充字符。
*   输出线`@ECHO !OUTPUT:~1,55!^> %%T`
    *   格式化输出：由于延迟扩展而`!OUTPUT:~1,55!`使用`!`，并从第二个字符（从零开始的索引）开始使用 55 个字符以删除前导`"`
    *   `^>`：`^`转义，`>`因此它不会尝试重定向到...某处。所有这些都是为了`>`在输出行中包含（完全没有必要）
    *   最后，`%%T`状态输出

希望这对某人有帮助！我永远记不住这些东西！

# android - Android MediaPlayer，是否支持渐进式下载音频？

> ID：12172999
> 
> 赞同：2
> 
> 时间：2012-08-29T07:38:51.863
> 
> 标签：android, download, media-player, mp4, progressive

我目前正在进行一项可行性研究，其中一个问题是关于从流媒体切换到音频渐进式下载的可能性。渐进式下载是指由标准网络服务器托管的音频文件，没有任何花哨的东西，可以通过标准的http调用下载，并在整个文件完全下载*之前播放。*

我公司与外部 Android 应用程序开发人员签订了合同，他们现在声称，虽然以上述方式进行的渐进式下载对 MP3 文件效果很好，但对于 AAC MP4 文件却不可能。我没有理由怀疑开发人员，但我喜欢第二个意见。我一直在研究这个主题（通过疯狂的谷歌搜索）并且没有发现它不起作用的原因。我还测试了 Android Market 上的一些现有播放器（例如 MX 播放器），它们可以在下载时播放文件。

所以我的问题基本上是，如果有人知道**在**Android 中使用 MediaPlayer 组件（比如说版本 2.1 到 4.1），在完全下载 AAC MP4 文件之前进行渐进式下载和播放真的有效吗？

此外，由于 AAC 编解码器和 MP4 容器比 MP3 复杂得多，在对文件进行编码时，我们是否必须对文件进行一些处理以确保使用 MediaPlayer 组件进行渐进式下载？在研究时，我发现了一些关于“快速启动”选项的信息，以及可能重要或不重要的“提示”（提示似乎是最“神奇”的主题之一......一半的文章/博客说你需要提示，但另一半说你绝对不需要提示）。由于我可以使用 MX Player 逐步播放，我猜测我们的编码已经执行了所需的任何操作，或者我在这个假设中错了吗？

干杯!

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:46:19.277

（免责声明：这是用视频文件完成的，而不是音乐文件）

我已经做到了，这是完全可行的。

MP4 的诀窍是将索引放在文件的 /beginning/ 处，而不是放在通常的结尾处。