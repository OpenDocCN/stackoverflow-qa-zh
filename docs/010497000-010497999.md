# StackOverflow 问答 10497000-10497999

# c# - 是否可以为使用 Thread 类创建的线程提供回调

> ID：10497004
> 
> 赞同：4
> 
> 时间：2012-05-08T10:40:21.000
> 
> 标签：c#, multithreading

是否可以为使用 Thread 类创建的线程提供回调（宣布活动完成）。我已经通过以下方式创建了线程，但找不到提供回调的方法。

```
Thread thread = new Thread(StartPoll);
thread.SetApartmentState(ApartmentState.STA);

thread.Start(); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-08T10:44:01.857

不是直接的。但是您总是可以执行以下操作：

```
new Thread(() => { StartPoll(); Callback(); }) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-08T12:38:38.213

将公寓状态设置为 STA 是不够的，第二个要求是您必须泵送一个消息循环。Winforms 或 WPF 中的 Application.Run()。它实际上是允许封送对特定线程的调用的消息循环。分别由 Control.Begin/Invoke 和 Dispatcher.Begin/Invoke() 实现。

然而，这更多的是 UI 实现细节。通用解决方案与 UI 线程所做的非常相似，您使用线程安全队列和“主”线程中的循环从队列中读取对象。就像您可以调用的委托一样。[生产者/消费者问题](http://en.wikipedia.org/wiki/Producer-consumer_problem)的标准解决方案。.NET 4 BlockingCollection 类使它变得容易。重写线程代码以使其循环并保持对工作人员请求的响应并不总是那么容易。

# java - 如何从图像生成 avi 视频？

> ID：10497009
> 
> 赞同：5
> 
> 时间：2012-05-08T10:40:39.017
> 
> 标签：java

我需要从文本输入创建视频。我已经成功地从文本输入中生成了图像。

现在我需要从上面创建的图像中生成一个 avi 格式的视频。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T10:46:49.343

使用 ffmpeg 它是免费的并在 cmd 行上运行。在 cmd 行上使用 ffmpeg cmd 并将图像输入为 arugemnts 并设置一些参数，它会完成你的工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T10:45:03.380

看看这里：[http ://www.randelshofer.ch/blog/2008/08/writing-avi-videos-in-pure-java/](http://www.randelshofer.ch/blog/2008/08/writing-avi-videos-in-pure-java/)

这是向 google 询问“Java create AVI”时的第二次点击。

# ssl - 有没有办法让所有浏览器都忽略自签名证书？

> ID：10497016
> 
> 赞同：-2
> 
> 时间：2012-05-08T10:41:09.173
> 
> 标签：ssl

**我们可以**让浏览器忽略自签名证书吗？

或者是否可以只向用户显示一条消息，以便当他们单击确认/批准/提交时它会存储证书异常？

注意：我正在使用 PHP 并询问有关 Facebook 应用程序的 SSL。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T10:46:01.883

不，不可能让所有浏览器都忽略自签名证书，整个系统依赖于受信任的一方来签署证书来验证它们。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-08T10:44:26.677

如果忽略你的意思是删除警告，不，你不能这样做。要求“信任链”生效是 SSL 信任的主要原则之一。

此外，这是一个与浏览器相关的问题，与您在后端使用什么语言无关。[你可以在这里](https://stackoverflow.com/questions/2618944/check-in-javascript-if-a-ssl-certificate-is-valid)获得更多信息，没有太多好消息。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-17T09:56:04.643

不，您不能让浏览器接受您的自签名证书。

但是，您可以从这两个提供商处获得免费的 SSL 证书：

*   StartSSL / StartCom
*   CACert.org

我没有使用 CAcert 的经验，但是我有一些使用 StartSSL 的经验；这是我在博客上写的使用 StartSSL 获得免费 SSL 证书的分步指南：http: [//nicolas.landier.org/2013/03/17/get-a-free-ssl-certificate-与-startssl /](http://nicolas.landier.org/2013/03/17/get-a-free-ssl-certificate-with-startssl/)

# wicket - 如何在 Wicket 1.5 中重置响应

> ID：10497019
> 
> 赞同：4
> 
> 时间：2012-05-08T10:41:14.083
> 
> 标签：wicket, wicket-1.5

在 wicket 1.4 webResponse.reset() 中清理缓冲区。但是在 wicket 1.5 中留下了某种垃圾。

回复：

```
<tr></tr>
<tr></tr> 
```

然后我的有效json如下。

```
WebResponse webResponse = (WebResponse) cycle.getResponse();
webResponse.reset();

webResponse.setContentType("application/x-json; charset=utf-8"); //$NON-NLS-1$
Url url = RequestCycle.get().getUrlRenderer().getBaseUrl();
webResponse.setHeader("Wicket-Ajax-BaseURL", url.toString()); //$NON-NLS-1$
webResponse.disableCaching();

// Write x-json content to the response.
String output = json.toString();

webResponse.write(output); 
```

# c++ - C++ printf函数中的参数化前导零

> ID：10497020
> 
> 赞同：4
> 
> 时间：2012-05-08T10:41:14.960
> 
> 标签：c++, printf

我的问题很简单。我想使用 printf 打印具有指定数量的前导零的整数。但是，前导零的数量是在运行时决定的，而不是先验的。我怎么能那样做？

如果我知道字符数（比如说 5），那就是

```
printf("%05d", number); 
```

但是不知道会不会是5

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-08T10:44:21.730

您可以使用以下方法传递宽度`*`：

```
printf("%0*d", 5, number); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-08T10:47:01.993

你也可以使用

```
cout << setw(width_) << setfill('0') << integerVariable_; 
```

where`width_`是在运行时决定的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-08T10:48:05.143

我相信星号可用于在大多数平台上实现这一目标。

```
int width = whatever();
printf("%0*d", width, number ); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-05-08T11:06:56.650

这里的标准解决方案是`printf("%.*d", precision, number)`；在`printf`家族中，在 C 中，精度格式字段指定要显示的最小位数，默认为 1。这与宽度无关，因此您可以编写如下内容：

```
printf("%6.3d", 12);    // outputs "   012"
printf("%6.0d",  0);    // outputs "      ", without any 0 
```

对于宽度或精度（或两者），您可以指定`'*'`，这将导致`printf`从参数中获取值（传递一个 `int`）：

```
printf("%6.*d", 3, 12); // outputs "   012"
printf("%*.3d", 6, 12); // outputs "   012"
printf("%*.*d", 6, 3, 12);  // outputs "   012" 
```

遗憾的是，在 中没有等效功能`ostream`：输出整数时会忽略精度。（这可能是因为精度没有依赖于类型的默认值。默认值为 6，它适用于所有尊重它的类型。）

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-05-08T11:00:30.817

使用 C++ setw 和 setfill 中可用的操纵器。

# windows - IIS 网络配置错误

> ID：10497022
> 
> 赞同：0
> 
> 时间：2012-05-08T10:41:19.127
> 
> 标签：windows, web-config, iis-7.5

我最近一直在尝试在我的 Windows 7 机器上安装 TargetProcess。

我已经在运行 IIS 和 SQLEXPRESS 实例时成功安装了它。当我将网络浏览器指向索引页面时，配置文件中出现错误。

```
Cannot add duplicate collection entry of type 'add' with unique key attribute 'name' set to 'Reroute-x32-2.0' 
```

谁能建议如何最好地进行？

谢谢

凯文

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T10:46:53.070

听起来像是站点的 web.config 文件中的错误（重复条目）。查看 web.config 或 machine.config，寻找类似的东西

```
<add name="Reroute-x32-2.0" ... 
```

不要忘记配置文件是分层的，因此您可能在一个配置中包含此条目，并且无意中将其添加到 IIS 文件夹层次结构（或 machine.config）中更高的另一个配置文件中。

# ruby-on-rails - Rails 3 ActiveRecord Time.now 问题

> ID：10497024
> 
> 赞同：1
> 
> 时间：2012-05-08T10:41:19.653
> 
> 标签：ruby-on-rails, ruby-on-rails-3, activerecord

我有
**Rails 3.0.9
Activerecord-sqlserver-adapter 3.0.15
TinyTds
MSSQL 2005**

我在使用 Time.now 时遇到问题。
这就是我在控制台中所做的：
有人可以解释这种行为吗？

```
 irb(main):026:0> row = Eclaim.where(:id => 1).first
    => #<Eclaim id: 1, id_user: 1, property: "inv", app_number: nil, patent_number:
    nil, native_number: nil, title: nil, applicants: nil, receive_date: nil, change_
    date: "2012-05-08 10:20:44">

    irb(main):027:0> row[:change_date] = Time.now
    => 2012-05-08 13:37:13 +0300

    irb(main):028:0> row.save
    => true

    irb(main):029:0> row = Eclaim.where(:id => 1).first
    => #<Eclaim id: 1, id_user: 1, property: "inv", app_number: nil, patent_number:
    nil, native_number: nil, title: nil, applicants: nil, receive_date: nil, change_
    date: "2012-05-08 10:37:13">

    irb(main):047:0> Time.zone
    => (GMT+00:00) UTC 
```

为什么我在数据库中得到日期**2012-05-08 10:37:13**而不是**2012-05-08 13:37:13 +0300**？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T11:56:40.507

我找到了解决方案：
在`application.rb`你应该写这样的设置：

```
config.time_zone = 'Riga'
config.active_record.default_timezone = :local 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T10:55:34.047

我不是日期专家，但是如果你像这样更改为 UTC 会发生什么

```
> row[:change_date] = Time.now.localtime

> row.save 
```

我认为这将给出正确的结果。至于为什么会发生这种情况（我的 2 美分）：

人们应该始终以某种标准存储日期（人们似乎对那是什么格式有所不同）。但是请注意，当存储为 utc 时间时，您需要将时间显示为本地时间（很容易做到）。在上面的示例中，rails 会自动转换为 utc 并存储它。希望能帮助到你

**编辑**

我认为 Rails 仍默认为 UTC 时间（不知道如何更改）。但是，从数据库中的UTC时间开始，您可以调用localtime。如果您调用它会发生什么

```
Eclaim.first.change_date.localtime 
```

这是我能想到的从存储在数据库中的 UTC 获取本地时间的唯一方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T10:57:53.130

ActiveRecord 以 UTC（以前称为 GMT）存储日期。当您格式化日期时，它将日期转换回本地时区。在 Eclaim.where(:id => 1).first 之后，执行 row.change_date。

```
irb(main):029:0> row = Eclaim.where(:id => 1).first
irb(main):029:0> row.change_date 
```

# c# - 按钮单击子页面后如何更改母版页标签的文本

> ID：10497027
> 
> 赞同：0
> 
> 时间：2012-05-08T10:41:49.543
> 
> 标签：c#, asp.net

我正在使用购物车图标显示购物车中的产品数量。但是当我将项目添加到购物车时，购物没有更新。所以我想知道在子页面上单击按钮后是否有任何方法可以更改母版页标签的文本。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T10:48:52.523

我建议在您的文件中提供一个公共属性`MasterPage`，您可以使用它来设置/获取标签的文本。

在你的主人（假设它的类型被称为`SiteMaster`）：

```
public String ShoppingCartNumber{ 
    get{ return LblShoppingCart.Text; }
    set{ LblShoppingCart.Text = value; }
} 
```

在按钮的单击事件处理程序中：

```
SiteMaster master = (SiteMaster)Page.Master;
master.ShoppingCartNumber = "1234"; 
```

这种方法直截了当，不易出错且易于阅读。您甚至可以更改母版中的控件而无需更改页面（如果您想用文本框替换标签）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T10:49:19.777

尝试这个

```
Label mpLabel = (Label) Master.FindControl("masterPageLabel");
if(mpLabel != null)
{
    Label1.Text = "Master page label = " + mpLabel.Text;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-18T12:49:36.007

试试这个：
在你的`masterpage.cs`文件中添加：

```
public Label lbl
    {
        get { return YourLabelId; }
        set { YourLabelId= value; }
    } 
```

在您的内容页面中添加：

```
<%@ MasterType VirtualPath="~/YourMasterPageName.Master" %> 
```

然后在您的按钮单击事件中访问内容页面：

```
string name = Master.lbl.text; 
```

# asp.net-mvc-3 - MVC 不显眼的验证仅适用于一个嵌套模型

> ID：10497035
> 
> 赞同：0
> 
> 时间：2012-05-08T10:42:28.517
> 
> 标签：asp.net-mvc-3, nested-forms, unobtrusive-validation

我有一个由嵌套模型组成的表格，如下所示：

```
foreach (var item in Model)
   {
    <h3>
        @item.StageDescription
    </h3>
    <div class="well">
        <table id="Item@(item.ID)" class="WizardOption">
            <thead>
                <tr>
                    <some headings here />
                </tr>
            </thead>
            <tbody>
                @Html.EditorFor(m => item.WizardOptions,"","WizardOptions",null)
            </tbody>
        </table>
    </div>
} 
```

WizardOption 类有一个必填字段调用显示值：

```
public class WizardOptionMetaData {
        [Required]
        public string DisplayValue { get; set; }
} 
```

这适用于第一个表，如果我将 DisplayValue 字段留空，我会收到错误消息：“DisplayValue 字段是必需的。” 并呈现以下标记：

```
<input class="description-box" data-val="true" data-val-required="The DisplayValue field is required." id="WizardOptions_0__DisplayValue" name="WizardOptions[0].DisplayValue" type="text" value=""> 
```

但是第一个表之后的任何表都没有正确呈现验证：

```
<input class="description-box" id="WizardOptions_1__DisplayValue" name="WizardOptions[1].DisplayValue" type="text" value=""> 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-09T08:46:39.823

找到了一个问题的答案，直到我发布问题后才找到：

[ASP.NET MVC 3：当 BeginForm 在布局上时生成不显眼的验证](https://stackoverflow.com/questions/4997269/asp-net-mvc-3-generate-unobtrusive-validation-when-beginform-is-on-the-layout)

```
@{
     var originalContext = ViewContext.FormContext;
     ViewContext.FormContext = new FormContext();
} 

<!-- This will generate proper HTML5 data-* validation attributes -->
@Html.TextBoxFor(x => x.Prop1)
     @Html.ValidationMessageFor(x => x.Prop1)

     @Html.TextBoxFor(x => x.Prop2)
     @Html.ValidationMessageFor(x => x.Prop2)

@{
     ViewContext.FormContext = originalContext;
 } 
```

# c - 16位的旋转哈希

> ID：10497037
> 
> 赞同：0
> 
> 时间：2012-05-08T10:42:31.587
> 
> 标签：c, hash

[该站点](http://eternallyconfuzzled.com/tuts/algorithms/jsw_tut_hashing.aspx)对旋转哈希的描述如下。

```
unsigned rot_hash ( void *key, int len )
{
    unsigned char *p = key;
    unsigned h = 0;
    int i;

    for ( i = 0; i < len; i++ )
        h = ( h << 4 ) ^ ( h >> 28 ) ^ p[i];

   return h;
} 
```

此处返回值为 32 位。但是，我想返回一个 16 位的哈希值。为此，`h`在循环中进行如下分配是否正确？考虑`h`在这里声明为 16 位整数。

```
for ( i = 0; i < len; i++ )
          h = ( h << 4 ) ^ ( h >> 12 ) ^ p[i]; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T11:39:40.440

最好保留大哈希，并且只在返回时截断，例如：

```
for ( i = 0; i < len; i++ )
    h = ( h << 4 ) ^ ( h >> 28 ) ^ p[i];

return h & 0xffff; 
```

移位常数 4 和 28 可能不是最好的（简而言之：因为它们有一个公约数）

经过一些实验，我得出了以下哈希函数，它旨在使低位具有最大熵（这样可以使用 2 的幂表大小）（这是[Wakkerbot](http://sourceforge.net/projects/wakkerbot/)中使用的）：

```
unsigned hash_mem(void *dat, size_t len)
{
unsigned char *str = (unsigned char*) dat;
unsigned val=0;
size_t idx;

for(idx=0; idx < len; idx++ )   {
        val ^= (val >> 2) ^ (val << 5) ^ (val << 13) ^ str[idx] ^ 0x80001801;
        }
return val;
} 
```

0x80001801 的额外干扰并不是严格需要的，但如果散列项具有较长的公共前缀，则会有所帮助。如果这些前缀由 0x0 值组成，也会有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-08T10:51:23.930

很难用哈希来谈论“正确”，因为任何确定性的结果都可以被认为是正确的。也许散列分布不会那么好，但无论如何这个散列似乎并不是最强的。

通过您建议的更改，您将获得的数字仍然是 32 位数字，并且高 16 位不会为零。

最简单的做法是什么都不做，并将结果转换为`unsigned short`.

# xcode - iOS Master-Detail 应用程序：定义协议、委托

> ID：10497039
> 
> 赞同：1
> 
> 时间：2012-05-08T10:42:47.440
> 
> 标签：xcode, delegates, master-detail, uistoryboard

In the master-detail application template (using ARC, storyboards) in XCode 4.3.2, I am trying to change (more specifically replace) the detail view when an item in master table view is selected. 我正在尝试为此实现委托/协议。

**我感到困惑的是 - 哪个类应该实现协议中定义的方法 - 主控还是细节？**

让详细视图实现协议方法对我来说很有意义，因为我将根据选择在详细视图中推送/弹出视图控制器（通过协议方法作为字符串从 master 传递）。

这是我尝试过的

1) 在 MasterViewController.h 中定义协议

```
@protocol MasterViewDelegate <NSObject>
- (void)masterSelectionChanged:(NSString *)selection;
@end
@interface MasterViewController:UIViewContoller
@property (nonatomic, weak) id <MasterViewDelegate> delegate 
```

2) 在 MasterViewController.m

```
@synthesize delegate;
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    [delegate masterSelectionChanged:@"Some string based on indexPath.row"];
} 
```

3) 在 DetailViewController.h

```
#import "MasterViewController.m"
@interface DetailViewController:UINavigationController <MasterViewDelegate>
@end 
```

4) 在 DetailViewController.m

```
#pragma mark - MasterViewDelegate
- (void)masterSelectionChanged:(NSString *)selection
{
    NSLog(@"the selection is: %s", selection);
    // WIll push/pop view over here, may be perform segues based on selection
} 
```

在这个过程中，在选择主表中的行时，什么都没有发生。没有崩溃，没有日志显示，构建时也没有错误。我在这里错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T10:57:10.693

您需要设置委托属性 - 目前它将为零，因此当您向其发送消息时不会发生任何事情。在 iPad 模板中，您可以在`viewDidLoad`详细视图控制器中执行以下操作：

```
[super viewDidLoad];
if (self.splitViewController) // Means this won't be called if you use this code on iPhone too.
{
    // According to comments your master controller is embedded in a nav controller
    UINavigationController *nav = (UINavigationController*)[self.splitViewController.viewControllers objectAtIndex:0];
    // I am assuming it is the root view controller
    MasterViewController *master = (MasterViewController*)nav.rootViewController;
    // Finally set the delegate
    master.delegate = self;
} 
```

# textboxlist - 获取 Json 数组的 TextboxList 问题

> ID：10497041
> 
> 赞同：0
> 
> 时间：2012-05-08T10:42:54.447
> 
> 标签：textboxlist

我目前在使用 jQuery API 时遇到问题

[文本框列表](http://www.devthought.com/wp-content/projects/jquery/textboxlist/Demo/)

我想要的是访问 Json 数组表单中的选定值，现在文档建议使用：

```
$('#form_tags_input').textboxlist(); 
```

但是当我在按钮单击的 jQuery 函数中使用它以使用 [getValues] 方法获取值时，它说未定义。

这是javascript：

```
<script type="text/javascript">

$(function () {
    // Standard initialization
    var t = new $.TextboxList('#SentTo', { unique: true, plugins: { autocomplete: { minlength: 2, onlyFromValues: true}} });
    //t.addEvent('bitBoxAdd', ContactAdded);
    //t.addEvent('bitBoxRemove', ContactRemoved);
    t.getContainer().addClass('textboxlist-loading');
    $.ajax({
        url: '/Home/GetContacts',
        dataType: 'json',
        success: function (r) {
            t.plugins['autocomplete'].setValues(r);
            t.getContainer().removeClass('textboxlist-loading');
        }
    });

});

function GetValues() {
    var tblist = $('#SentTo').textboxlist();
    alert(tblist.getValues());        
    return false;
}

function ContactAdded(e) {
    //alert(e);
    //GetValues();
    return false;
}

function ContactRemoved(e) {
    //alert(e);
} 
```

我在按钮单击时使用 GetValues() 函数来获取值。

非常感谢您的帮助。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T11:51:10.133

尝试使 TextboxLists "t" 变量成为全局变量

修改后的代码是：

```
$(function () {
    // Standard initialization
    t = new $.TextboxList('#SentTo', { unique: true, plugins: { autocomplete: { minlength: 2, onlyFromValues: true}} });
    //t.addEvent('bitBoxAdd', ContactAdded);
    //t.addEvent('bitBoxRemove', ContactRemoved);
    t.getContainer().addClass('textboxlist-loading');
    $.ajax({
        url: '/Home/GetContacts',
        dataType: 'json',
        success: function (r) {
            t.plugins['autocomplete'].setValues(r);
            t.getContainer().removeClass('textboxlist-loading');
        }
    });

});

function GetValues() {
    alert(t.getValues());        
    return false;

} 
```

# javascript - 如何格式化打包成单行的脚本？

> ID：10497044
> 
> 赞同：0
> 
> 时间：2012-05-08T10:43:13.083
> 
> 标签：javascript, html, browser

有时脚本（在网络浏览器中）被打包在一行`function a(b){if(c==1){}else{}}`中。我试图找到能以正常方式显示它的东西

```
function a(b) {
   if(c==1) {
   }
   else {
   }
} 
```

但没有找到。是否有一些代码或程序可以做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T10:45:11.230

有一个[JSBeautifier](http://jsbeautifier.org/)可以为你做这件事

```
function a(b) {
    if (c == 1) {} else {}
} 
```

JSFiddle似乎也做了同样的格式化[。](http://jsfiddle.net/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T10:45:01.170

[jsFiddle](http://jsfiddle.net/)有一个很棒的空白修复器/美化器，叫做“TidyUp”。它为您的线路返回此信息（作为 jsBeautifier 的替代解决方案，因为我几乎无法拼写它）：

```
function a(b) {
    if (c == 1) {} else {}
}​ 
```

这是完全有效的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T10:48:06.113

您可以使用 Franck Marcia 的 JS Minifier，您可以在浏览器中缩小您的 js 代码（也就是说，如果您不想要漂亮的代码，也可以像其他人所说的那样使用 jsFiddle）。激进的 Level 吐出以下代码：

```
function a(b){if(c==1){}else{}} 
```

链接： http: [//fmarcia.info/jsmin/test.html](http://fmarcia.info/jsmin/test.html)

# jsf - 如何从 JAR 文件中获取 Jetty 加载资源？

> ID：10497045
> 
> 赞同：5
> 
> 时间：2012-05-08T10:43:16.440
> 
> 标签：jsf, jar, jetty, web-content

我在 Jetty 8 上运行 JSF 应用程序。由于某种原因，我有一个带有 Web 资源 (/META-INF/resources/test.xhtml) 的 jar 文件，该资源的上下文未添加到 WebAppContext。当我使用 maven jetty 插件时，服务器会添加 Web 上下文并且可以访问文件“test.xhtml”。

如何从 JAR 文件中获取 Jetty 加载资源？

# magento - Magento：在没有自定义的 CMS 块中包含特定的产品价格

> ID：10497048
> 
> 赞同：1
> 
> 时间：2012-05-08T10:43:24.650
> 
> 标签：magento

有没有办法在不编写自己的 Magento 模块的情况下将特定产品的价格包含在静态 CMS 块中？

我试过了：

```
{{block type="catalog/product_view" product_id="1234" template="catalog/product/price.phtml"}} 
```

这使用了 Mage_Catalog_Block_Product_View 从属性加载产品的事实`product_id`。但这只有`product`在注册表中没有时才有效。所以在产品详情页上使用的是详情页的产品。

我也看过了`Mage_Catalog_Block_Product::getProduct`。这可以从产品 ID 加载，但前提是它包含在`product`字段中。

就像是

```
{{block type="catalog/product" product.product_id="1234" template="catalog/product/price.phtml"}} 
```

不起作用，因为它会设置属性`product.product_id`，而不是嵌套的东西`product->product_id`。

另一种选择是添加一个自己的模板文件，该文件从 productId 参数加载产品，但我认为这并不干净。

有什么好主意吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:54:43.973

我之前没有尝试以您上面建议的方式加载价格，但是我可以看到的直接问题是 price.phtml 文件需要一个产品对象，而不仅仅是一个 ID。

我要做的只是制作一个自定义 .phtml 文件，该文件接受来自布局的 ID 并返回所需的 HTML。然后，您可以在任何您喜欢的地方使用它，而不管注册表或其他方式加载了什么产品。

.phtml 文件的关键方法是： `$id = $this->getProductId();`从布局中加载 ID，然后`$product = Mage::getModel('catalog/product')->load($id);`获取产品对象。

现在您已经加载了产品，您可以输出您想要的任何属性和格式 - 例如`$product->getFinalPrice()`，可以为您提供产品的最终销售价格。

现在要包含您的自定义块，请将您的 XML 代码更改为`{{block type="core/template" template="path/to/your/file.phtml" name="someReferenceName" product_id="1234"}}`.

XML 中的等价物是： `<block type="core/template" template="path/to/your/file.phtml" name="someReferenceName"><action method="setProductId"><product_id>1234</product_id></action></block>`

注意：为块设置名称很重要，因为传递给块的任何参数 - 即 product_id - 都将根据此引用名称存储。如果您未能提供参考名称，至少在 XML 等效项中，您的块将不会收到传递的 ID。我还没有测试 smarty 风格的语法是否也是如此，但我希望它会如此。

希望有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-09T06:59:39.347

IcebergCommerce 有一个扩展，称为 Single product Embed Widget。这似乎具有您需要的功能，可配置为仅显示产品价格：http: [//icebergcommerce.com/software/magento-product-embed-widget.html](http://icebergcommerce.com/software/magento-product-embed-widget.html)

# windows-phone-7 - 将背景图像设置为列表框项

> ID：10497056
> 
> 赞同：1
> 
> 时间：2012-05-08T10:43:58.313
> 
> 标签：windows-phone-7, listbox, listboxitem

我可以使用背景属性将图像设置为列表框。但是如何将理想的图像设置为列表框项目的背景？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T13:15:47.387

您必须重新定义 ListBox 的 ItemTemplate 属性。如果您对 XAML 没有信心，您应该尝试使用 Expression Blend。

这是 XAML 的外观示例。我使用 Pivot Template 应用程序创建了一个新应用程序。

```
 <ListBox x:Name="FirstListBox" Margin="0,0,-12,0" ItemsSource="{Binding Items}">
            <ListBox.ItemTemplate>
                <DataTemplate>
                  <StackPanel Margin="0,0,0,17" Width="432" Height="78">
                    <StackPanel.Background>
                        <ImageBrush Stretch="Fill" ImageSource="/Koala.jpg"/>
                    </StackPanel.Background>
                      <TextBlock Text="{Binding LineOne}" TextWrapping="Wrap" Style="{StaticResource PhoneTextExtraLargeStyle}"/>
                      <TextBlock Text="{Binding LineTwo}" TextWrapping="Wrap" Margin="12,-6,12,0" Style="{StaticResource PhoneTextSubtleStyle}"/>
                  </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox> 
```

所以默认的 ItemTemplate 使用 StackPanel 作为主容器。您在这里要做的是将图像设置为该 StackPanel 的背景。这就是以下几行的含义：

```
 <StackPanel.Background>
                    <ImageBrush Stretch="Fill" ImageSource="/Koala.jpg"/>
                </StackPanel.Background> 
```

使用上面的代码，您将 ImageBrush 设置为 StackPanel 的 Background 属性。

使用该代码，每个 ListBoxItem 都会显示一只考拉。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-22T12:35:13.230

使用边框包装列表框项目并设置背景可能会有所帮助。遵循此示例

```
 <Border Width="380" Height="60" Margin="0,0,0,10" >
       <Border.Background>
          <ImageBrush ImageSource="Images/menu_bg.png" />
       </Border.Background>
       <TextBlock  Foreground="Black" FontSize="22" Text="{Binding}" HorizontalAlignment="Center" VerticalAlignment="Center"  />
   </Border> 
```

# iphone - 如何将 videoPlayer 添加为子视图？

> ID：10497057
> 
> 赞同：3
> 
> 时间：2012-05-08T10:43:59.483
> 
> 标签：iphone

您好，我遇到了与添加子视图相关的问题；我正在遵循代码：

```
 NSString *urlStr  = [NSString  stringWithFormat:@"http:x/iphone0.m3u8"];
        NSURL *videoURL   = [NSURL URLWithString:urlStr];
        MPMoviePlayerController *iVideoPlayer = [[MPMoviePlayerController alloc]initWithContentURL:videoURL];
        [self.view addSubview:iVideoPlayer.view ];  

        if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)
        {
            // The device is an iPad running iPhone 3.2 or later.
             iVideoPlayer.view.frame = CGRectMake(353,258,320,240);
        }
        else
        {
             iVideoPlayer.view.frame = CGRectMake(156,96,168,148);
        }                   
        [iVideoPlayer play]; 
```

在这段代码中，我喜欢将视频播放器添加为 subview 。我已经成功添加了videoPlayer。但是问题是在视频播放过程中，如果我点击指定区域（CGRectMake（353,258,320,240）；视频停止。我喜欢应用videoPlayer功能（下一个，暂停，音量上/下）没有完成。如何解决这个问题。？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-09T14:23:52.723

MPMoviePlayerController 实例的控件样式有一些选项。通过将 controlStyle 属性设置为以下选项之一，您可以启用某些播放器控件（如暂停、播放等）。

```
MPMovieControlStyleNone,
MPMovieControlStyleEmbedded,
MPMovieControlStyleFullscreen,
MPMovieControlStyleDefault 
```

上述样式的描述可以在这里找到：[MPMoviePlayerController 类参考](http://developer.apple.com/library/ios/#documentation/mediaplayer/reference/MPMoviePlayerController_Class/Reference/Reference.html)

以下是如何设置此属性的示例。

```
[iVideoPlayer setControlStyle:MPMovieControlStyleEmbedded] 
```

# python - 导入相关包进行测试

> ID：10497060
> 
> 赞同：1
> 
> 时间：2012-05-08T10:44:07.983
> 
> 标签：python, import, module, packages

我开发了一个具有以下结构的解决方案：

```
my_package/
my_test_data/
test.py 
```

在`test.py`我可以很容易地导入 my_package ( `from my_package import my_class`)。这在我选择的 IDE 中非常有用，我可以在其中编写测试用例、执行它们并最终在需要测试的代码中设置断点。

准备分发的精细结构更改为：

```
my_package/
tests/
    my_test_data/
    test.py 
```

如果有人想测试安装的东西是否正常工作，这没关系。测试引用已安装的 my_package 版本。问题是在开发过程中我需要`my_package`从开发文件夹中引用，以便我可以测试我正在开发的实时版本并最终进入它以进行调试。我试图用相对导入和其他组合来解决问题，`from .my_package import my_class`但`from .. my_package import my_class`我得到了这个异常：

```
ValueError: Attempted relative import in non-package 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T15:31:13.190

我假设开发结构在下面`/dev`，分布结构在`/install`.

请注意，默认情况下，[sys.path](http://docs.python.org/library/sys.html#sys.path)将脚本目录作为其第一个条目。所以，如果`test.py`有一个`import my_package`语句并且你运行`/dev/test.py`，它应该找到`my_package`，即使你`$PYTHONPATH`是空的。如果`/install`是 中的第一个条目`$PYTHONPATH`，则运行`/install/tests/test.py`应该找到`/install/my_package`for `import my_package`。

摘要：您是否尝试过使用`import my_package`in`test.py`并包含`/install`在您的`$PYTHONPATH`?

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T10:56:41.470

相对导入只允许在包内明智地使用。您不能将目录引用与包处理混淆。

对[类似问题](https://stackoverflow.com/a/9732047/1107807)提出的解决方案。

# php - 从控制器任务 joomla 调用视图方法

> ID：10497065
> 
> 赞同：2
> 
> 时间：2012-05-08T10:44:22.943
> 
> 标签：php, joomla, joomla2.5, joomla-component, joomla-task

我正在尝试通过 MVC 创建 Joomla2.5 组件。我想从入口点的 task=jump 将控制器定向到 view.xml.php 中定义的 mydisplay() 方法。谢谢。

**/ROOT/components/com_api/views/api/view.xml.php**

```
<?php
defined('_JEXEC') or die('Restricted access');

// import Joomla view library
jimport('joomla.application.component.view');

/**
 * XML View class for the Api Component
 */
class ApiViewApi extends JView
{
// Overwriting JView display method

function mydisplay($tpl = null)
{
//echo JRequest::getVar('task');

    //$this->get('Ister');
    // Assign data to the view
    $this->msg = $this->get('xCredentials');

    // Check for errors.
    if (count($errors = $this->get('Errors')))
    {
        JError::raiseError(500, implode('<br />', $errors));
        return false;
    }

    // Display the view
    parent::display($tpl);
}

}
?> 
```

**ROOT/components/com_api/api.php（入口点控制器）**

```
<?php
// No direct access to this file
defined('_JEXEC') or die('Restricted access');

// import joomla controller library
jimport('joomla.application.component.controller');

// Get an instance of the controller prefixed by Api
$controller = JController::getInstance('Api');

// Perform the Request task
$controller->execute(JRequest::getCmd('task'));

$controller->redirect();

?> 
```

**ROOT/components/com_api/controller.php（任务=跳转的控制器）**

```
<?php

// No direct access to this file
defined('_JEXEC') or die('Restricted access');

// import Joomla controller library
jimport('joomla.application.component.controller');
/**
 * Api Component Controller
 */
class ApiController extends JController
{
function jump()
  {
    //parent::display();

/* invoke mydisplay method from view.xml.php, located in views*/

  }
} 
```

执行 task=jump 后如何在 view.xml.php 中调用 mydisplay() 方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-08T10:20:25.403

Try

```
$view = $this->getView('Api', 'xml');
$view->setModel($this->getModel('Api'), true);
$view->display(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-14T00:40:43.617

您可以尝试将其放入控制器的跳转功能中

```
$view = $this->getView('API');
$view->mydisplay(); 
```

# testing - .net Web 应用程序的 Selenium 测试工具

> ID：10497067
> 
> 赞同：0
> 
> 时间：2012-05-08T10:44:24.540
> 
> 标签：testing, automation

[我从这个链接](http://code.google.com/p/selenium/downloads/detail?name=selenium-dotnet-2.21.0.zip)下载了一个硒测试工具， 但它不起作用？我不知道如何安装..

谁能建议为 .NET 下载 selenium 的步骤？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-05-04T19:02:04.407

安装 Selenium 的最佳（也是最简单的方法）是通过 Visual Studio 中的 Nuget 包管理器。

关于使用 Nuget 的信息：http: [//www.intertech.com/Blog/using-nuget-with-visual-studio-2013/](http://www.intertech.com/Blog/using-nuget-with-visual-studio-2013/)

然后，您可以搜索并安装“Selenium Webdriver”。包管理器为您创建所有相关的包引用，并将 DLL 安装在项目的相关文件夹中。

您可能还希望对 Selenium 支持执行相同的操作，因为这将为您提供页面对象的所有额外功能。

# c# - 表单打开两次

> ID：10497074
> 
> 赞同：0
> 
> 时间：2012-05-08T10:44:56.160
> 
> 标签：c#

在下面的代码中，我使用 frmContact.ShowDialog(); 打开一个表单；然后当我通过单击表单中的“确定”按钮关闭表单时，它会关闭，但它会再次打开，因为我在 if 语句中有 frmContact.ShowDialog()。这可以以其他方式完成吗？

```
 // Button add new customer
    private void btnAdd_Click(object sender, EventArgs e)
    {
        ContactForm frmContact = new ContactForm();

        frmContact.ShowDialog(); // Show the contact form window

        if (frmContact.ShowDialog() == DialogResult.OK)
        {
            MessageBox.Show("OK", "Test", MessageBoxButtons.OK, MessageBoxIcon.Exclamation);
        }
    } 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-08T10:46:46.890

只需删除第一个电话：

```
ContactForm frmContact = new ContactForm();

if (frmContact.ShowDialog() == DialogResult.OK)
{
    MessageBox.Show("OK", "Test", ...);
} 
```

另一种选择（如果显示表单的代码不在检查返回值的代码旁边，则特别有用）是使用[`Form.DialogResult`](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.dialogresult.aspx)：

```
ContactForm frmContact = new ContactForm();
frmContact.ShowDialog();

if (frmContact.DialogResult == DialogResult.OK)
{
    MessageBox.Show("OK", "Test", ...);
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-05-08T10:46:32.713

只需摆脱第一个`ShowDialog`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-08T10:47:15.690

如果像这样，请留下**第二个：**

```
private void btnAdd_Click(object sender, EventArgs e)
{
    ContactForm frmContact = new ContactForm();   

    if (frmContact.ShowDialog() == DialogResult.OK) //just one call
    {
        MessageBox.Show("OK", "Test", MessageBoxButtons.OK, MessageBoxIcon.Exclamation);
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-08T10:49:59.807

```
private void btnAdd_Click(object sender, EventArgs e)
{
    ContactForm frmContact = new ContactForm();

    frmContact.ShowDialog();
} 
```

# codenameone - 如何使用代号一构建 j2me 应用程序？

> ID：10497078
> 
> 赞同：0
> 
> 时间：2012-05-08T10:45:03.553
> 
> 标签：codenameone

我创建了一个新的 netbeans 代号一个项目，它在代号模拟器上运行，但是当我构建 broject 时，该应用程序无法在 j2me 设备上运行，因为没有 MIDlet。
有一个名为 send j2me build 的选项，但在我的国家/地区不可用，由于某些
政治原因，我什至无法注册如何解决这个问题？
感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-09T03:12:59.960

我们用于基础设施的 Google App Engine 似乎在某些国家/地区被阻止。这完全是我们无法控制的。我们正在研究替换 Google App Engine 服务器架构的可能性，但这需要一些时间。

从技术上讲，您可以像构建 LWUIT 应用程序一样构建 Codename One 应用程序，但它需要相当多的知识。

# google-maps - 加载时自动请求访问当前位置的权限

> ID：10497081
> 
> 赞同：0
> 
> 时间：2012-05-08T10:45:16.317
> 
> 标签：google-maps, geolocation

我们可以在每次谷歌地图加载时请求用户访问他们当前位置的权限吗？我想为每个请求显示共享位置权限。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T20:32:48.403

如果您尝试使用它，浏览器将请求使用它的权限，或者在不询问的情况下拒绝请求（如果用户已设置）或可能在不询问的情况下允许它（如果用户已设置）。您不能覆盖浏览器行为。

# unit-testing - NancyFX：我可以强制我的单元测试浏览器默认进行身份验证吗？

> ID：10497086
> 
> 赞同：3
> 
> 时间：2012-05-08T10:45:38.220
> 
> 标签：unit-testing, nancy

这是一个单元测试，显示我正在验证我的 Nancy 浏览器（其他代码已被剪掉）。我想知道是否有更聪明、更干燥的方法来做到这一点？

```
[Fact]
public void Login__Should_redirect_from_login_to_requested_page_if_credentials_are_correct()
{
    var browser = Fake.Browser();
    var response = browser.Post("/login", with =>
                                         {
                                           with.HttpRequest();
                                           with.FormValue("UserName", userName);
                                           with.FormValue("Password", password);
                                          });
    response.ShouldHaveRedirectedTo("/");
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T10:49:27.547

看起来您有一个返回 Browser 实例的方法：`Fake.Browser()`所以如果需要，为什么不重写它以提供经过身份验证的版本。可能是这样的：

```
public static Browser Browser(string username = null, string password = null)
{
    var browser = new Browser(new UnitTestBootstrapper());
    if (username.IsEmpty() || password.IsEmpty()) return browser;
    return browser.Post("/login", with =>
                                        {
                                            with.HttpRequest();
                                            with.FormValue("Username", username);
                                            with.FormValue("Password", password);
                                        }).Then;
} 
```

# django - Django ajax 文件上传到 request.FILES

> ID：10497088
> 
> 赞同：2
> 
> 时间：2012-05-08T10:45:54.007
> 
> 标签：django, file-upload, xmlhttprequest

我正在使用[Valumns File Uploader](http://github.com/valums/file-uploader)将文件加载到 django。这支持`XHR`现代浏览器的 ajax 上传和 IE 等旧浏览器的 iFrame 后备。

现在的问题：如果我上传大文件，只有 iFrame 上传有效，因为这里文件被映射到`request.FILES`，django 立即将它们写入磁盘而不是内存。

如果`XHR`使用上传，我必须读取 request._raw_post_data 并将其写入磁盘，但它失败并显示`MemoryError`.

这是我的文件上传器初始化：

```
var uploader = new qq.FileUploader({
    'action': uploadUrl,
    'multiple': true,
    'allowedExtensions': allowedExtensions,
    'element': selector,

    'debug': true,

    'onComplete': completeFunction,
    'onProgress': progressFunction,
    'onSubmit': submitFunction
}); 
```

在 django 端，我使用以下代码将文件内容写入磁盘：

```
# open a new file to write the contents into
new_file_name = str(uuid.uuid4())
destination = open(upload_path + new_file_name, 'wb+')

# differentiate between xhr (Chrome, FF) and pseudo form uploads (IE)
if len(request.FILES) > 0: # IE
    for chunk in request.FILES[0].chunks():
        destination.write(chunk)

else: # others
    destination.write(request._raw_post_data)
destination.close() 
```

我也尝试[了 Alex Kuhl 的这个解决方案](http://kuhlit.blogspot.de/2010/12/ajax-uploads-in-django-with-little-help.html)，但是失败了`IOError: request data read error`。

有什么方法可以将文件上传`XHR`到`request.FILES`并使用 django 内置处理？

# java - 循环不起作用，为什么会这样？

> ID：10497089
> 
> 赞同：1
> 
> 时间：2012-05-08T10:45:56.300
> 
> 标签：java, android

我无法理解这个 java 代码。我希望图像闪烁几次，但有一些延迟。图像闪烁一次，仅此而已。谁能给我一个解释会很棒！

```
private void RunAnimations(int[]melodiTakten) { 

    for (int i = 0; i < 4; i++) {  

        ImageView markeringspilen = (ImageView) findViewById(R.id.markeringspil);
        markeringspilen.setVisibility(View.VISIBLE);
        markeringspilen.postDelayed(new Runnable() {
            public void run() {
                ImageView markeringspilen = (ImageView) findViewById(R.id.markeringspil);

                markeringspilen.setVisibility(View.INVISIBLE);
            }
        }, 2000);

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T10:51:21.700

如果我理解你的想法是正确的，那么你的实现是错误的，因为它设置了延迟的动作同时发生。您可以像这样将它们隔开：

```
for (int i = 0; i < 4; i++) {
    markeringspilen.postDelayed(new Runnable() {
        public void run() {
            ImageView markeringspilen = (ImageView) findViewById(R.id.markeringspil);
            markeringspilen.setVisibility(View.VISIBLE);
        }
    }, 4000*i);
    markeringspilen.postDelayed(new Runnable() {
        public void run() {
            ImageView markeringspilen = (ImageView) findViewById(R.id.markeringspil);
            markeringspilen.setVisibility(View.INVISIBLE);
        }
    }, 4000*i+2000);
} 
```

此循环设置了八个延迟可见性更改 - 一组四对 set visible at`4000*i`后跟 set invisible at `4000*i+2000`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T10:50:03.197

循环已执行，但执行得非常快，您看不到它。您应该在循环中放置一些延迟，而不仅仅是在可运行文件中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T10:50:58.670

那是因为您`setVisibility(View.VISIBLE)` 连续调用四次，然后在 2 秒延迟后调用四次`setVisibility(View.INVISIBLE)`。

您需要做的是添加八个具有不断增加的延迟的可运行文件，从而切换可见性。

# javascript - 谷歌地图半径

> ID：10497090
> 
> 赞同：1
> 
> 时间：2012-05-08T10:45:59.170
> 
> 标签：javascript, php, google-maps

我想知道是否可以**在谷歌地图中放置半径分隔符**！？例如：我选择一个地区或一个城市，我有一个 5 英里的半径，并且分隔符增加，绘制它！

请考虑这个例子：我选择“Amsterdam”作为地点，然后添加 5km，它会返回“Amsterdam”加上 5km 半径的结果

[http://www.funda.nl/koop/amsterdam/+5km/](http://www.funda.nl/koop/amsterdam/+5km/)

我的问题是我不明白如何将 5 公里添加到“阿姆斯特丹”，因为它不能成为中心点 - 我认为我需要区域“阿姆斯特丹”的分隔符。这是否存在于 Google 地图 API 或任何其他 API 上？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:00:31.020

更新：

[地图图表](https://developers.google.com/chart/image/docs/gallery/new_map_charts?hl=nl)

根据您的要求，我认为上面的链接会对您有所帮助。

试试这个，

```
// Create marker 
var marker = new google.maps.Marker({
  map: map,
  position: new google.maps.LatLng(39.7433,-104.9872),
  title: 'Some location'
});

// Add circle overlay and bind to marker
var circle = new google.maps.Circle({
  map: map,
  radius: 8047,    // 5 miles in metres
  fillColor: '#AA0000'
});
circle.bindTo('center', marker, 'position'); 
```

参考： [http ://seriouscodage.blogspot.in/2010/11/visualizing-data-as-circles-in-google.html](http://seriouscodage.blogspot.in/2010/11/visualizing-data-as-circles-in-google.html)

# google-app-engine - 如何在 Google App Engine 中修复此编码错误

> ID：10497097
> 
> 赞同：1
> 
> 时间：2012-05-08T10:46:21.133
> 
> 标签：google-app-engine, django-forms

我是 Google App Engine 和 Django 表单的新手。当我尝试运行以下代码时出现编码错误：

```
import webapp2
from google.appengine.ext import db
from google.appengine.ext.webapp import template

from django import newforms as forms
from google.appengine.ext.db import djangoforms

import os
import re

import fix_path
import config
import static

def slugify(s):
    return re.sub('[^a-zA-Z0-9-]+', '-', s).strip('-')

def format_post_path(post, num):
    slug = slugify(post.title)
    if num > 0:
        slug += "-" + str(num)
    return config.post_path_format % {
        'slug': slug,
        'year': post.published.year,
        'month': post.published.month,
        'day': post.published.day,
    }

def render_template(template_name, template_vals=None, theme=None):
    template_path = os.path.join("themes", theme or config.theme, template_name)
    return template.render(template_path, template_vals or {})

class BlogPost(db.Model):
    # The url path to the blog post. Posts have a path if they are published.
    path = db.StringProperty()
    title = db.StringProperty(required=True, Indexed=False)
    body = db.TextProperty(required=True)
    published = db.DateTimeProperty(auto_now_add=True)
    updated = db.DateTimeProperty(auto_now=True) 

def render(self):
    template_vals = {
        'config': config,
        'post': self,
    }
    return render_template("post.html", template_vals)

def publish(self):
    rendered = self.render()
    if not self.path:
        num = 0
        content = None
        while not content:
            path = format_post_path(self, num)
            content = static.add(path, rendered, "text/html")
            num += 1
        self.path = path
        self.put()
    else:
        static.set(self.path, rendered, "text/html")

class PostForm(djangoforms.ModelForm):
    class Meta:
        model = BlogPost
        exclude = ['path', 'published', 'update']

class PostHandler(webapp2.RequestHandler)
    def render_to_response(self, template_name, template_vals=None, theme=None):
        template_name = os.path.join("admin", template_name)
        self.response.out.write(render_template(template_name, template_vals, theme))

    def render_form(self, form):
        self.render_to_response("edit.html", {'form': form})

    def get(self):
        self.render_form(PostForm())

    def post(self)
        form = PostForm(date=self.request.POST)
        if form.is_valid():
            post = form.save(commit=False)
            post.publish()
            self.render_to_response("published.html", {'post': post})
        else:
            self.render_form(form)

app = webapp2.WSGIApplication([('/admin/newpost', PostHandler)],
                              debug=True) 
```

这是追溯。

```
 ERROR    2012-05-08 10:35:03,609 cgi.py:121] Traceback (most recent call last):
      File "C:\Program Files (x86)\Google\google_appengine\google\appengine\tools\dev_appserver_import_hook.py", line 676, in Decorate
        return func(self, *args, **kwargs)
      File "C:\Program Files (x86)\Google\google_appengine\google\appengine\tools\dev_appserver_import_hook.py", line 1911, in get_code
        source_code.decode(encoding)
    UnicodeDecodeError: 'ascii' codec can't decode byte 0xef in position 0: ordinal not in range(128)

INFO     2012-05-08 10:35:03,627 dev_appserver.py:2891] "GET /admin/newpost HTTP/1.1" 500 - 
```

回溯没有给我足够的信息来解决问题。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T13:22:53.387

当我遇到 appengine 的这个问题时，我可以将所有数据清理为 unicode / utf-8，然后它就可以工作了。

您的某些数据不是 unicode / utf-8。我在 GAE 的几个场合都遇到过这个问题，它总是数据而不是源代码在某种程度上不是 unicode。

如果您检查数据和/或源格式并将所有内容设置为 utf-8 / unicode，它将起作用。您似乎已经将所有内容都设置为 utf-8，但如果您仍然收到此错误，则表示某些字符串或类似的字符集是 utf-8 以外的其他字符集。

# c# - 如何停止在其他派生类中触发的基本静态事件/动作

> ID：10497102
> 
> 赞同：0
> 
> 时间：2012-05-08T10:46:29.480
> 
> 标签：c#, events

我正在使用 WinForms 选项卡式 MDI 界面在 C# 中开发 LOB 应用程序。我有各种带有 DataGridViews 的表单，允许用户选择他们感兴趣的对象，然后他们可以在新表单中查看/编辑。

我的每个主要业务对象都继承自 Entity，其定义如下：

```
public abstract class Entity
{
    public static event Action Saved;

    internal virtual void OnSaved()
    {
        if (Saved != null)
        {
            Saved();
        }
    }
} 
```

然后我有填充网格的对象（这些实际上是从 Linq-to-SQL 自动生成的类，尽管我可以用普通类复制问题）：

```
class Class1 : Entity
{
    //Stuff
}

class Class2 : Entity
{
    //Stuff
} 
```

我想知道给定类的对象何时被修改，但我不在乎哪个实例（因此是静态操作），以便我可以刷新网格并执行其他活动。

当事件从派生类实例触发时，问题就出现了——它也会为所有其他派生类触发。例如：

```
Class1.Saved += new Action(s1);
Class2.Saved += new Action(s2);

private void TestIt()
{
    Class2 o2 = new Class2();
    o2.OnSaved();  
} 
```

这将触发 s1 和 s2，但我只希望触发特定的（即 s2）。做这个的最好方式是什么？我有很多类需要这种行为，并且希望尽可能避免向每个类添加任何代码。

## 更新：

感谢您的所有回复，他们非常有帮助。

我选择了一个稍微不同的选项，我承认这看起来很老套，但很适合我的目的。这涉及通过操作传递类型并让处理程序过滤并调用相关操作。

实体类：

```
public abstract class Entity
{
    public static event Action<Type> Saved;

    internal void OnSaved()
    {
        private Action<Type> SavedCopy = Saved;        

        if (SavedCopy != null)
            SavedCopy(this.GetType());
    }
} 
```

挂钩处理程序：

```
 Entity.Saved += new Action<Type>(Handler); 
```

示例处理程序方法（这将因表单而异）：

```
 void Handler(Type obj)
    {
       if (obj==typeof(Class1))
           UpdateGrid();
       else if (obj==typeof(Class2))
           UpdateBasicInfo();
       else if (obj == typeof(Class3))
           DoAnotherThing();
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-09T08:50:08.183

使用泛型可能是一种解决方法；每个泛型类都获得静态字段的副本。

```
public abstract class Entity<T>
{
    public static event Action Saved = delegate { };

    internal virtual void OnSaved()
    {
        Saved();
    }
}

class Class1 : Entity<Class1>
{
    //Stuff
}

class Class2 : Entity<Class2>
{
    //Stuff
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:15:09.017

您将需要每种类型都有一个事件，因为在基类型上定义事件时无法确定委托注册的类型。

```
public abstract class Entity
{
    internal abstract void OnSaved();
}

class Class1 : Entity
{
    public static event Action Saved = () => { };

    internal override void OnSaved()
    {
        this.Saved();
    }

    //Stuff
}

class Class2 : Entity
{
    public static event Action Saved = () => { };

    internal override void OnSaved()
    {
        this.Saved();
    }

    //Stuff
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T12:22:55.037

我不确定这样做是个好主意，但是您可以在订阅和保存数据时指定类型：

```
public abstract class Entity
{
    private static Dictionary<Type, Action> Subscribers
         = new Dictionary<Type, Action>();

    internal virtual void OnSaved()
    {
        OnSaved(GetType());
    }

    private OnSaved(Type type)
    {
        Action subscribed;
        Subscribers.TryGetValue(type, out subscribed);
        if (subscribed != null)
            subscribed();
    }

    public Subscribe(Type type, Action action)
    {
        Action subscribed;
        Subscribers.TryGetValue(type, out subscribed);
        Subscribers[type] = subscribed + action;
    }

    public Unsubscribe(Type type, Action action)
    {
        Action subscribed;
        Subscribers.TryGetValue(type, out subscribed);
        Subscribers[type] = subscribed - action;
    }
} 
```

请记住，此代码不是线程安全的，因此如果您想同时从不同的线程使用它，则需要添加锁定。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-08T12:32:30.103

为什么它必须是静态的？改为将其设为实例事件。

```
public event Action Saved; 
```

您必须为每个实例连接它，而不是每个类只连接一次（或者，在您当前的情况下，一次），但它会将事件分开。

# iphone - libz.1.dylib 框架的 Apple Mach-O 链接器错误

> ID：10497103
> 
> 赞同：0
> 
> 时间：2012-05-08T10:46:32.447
> 
> 标签：iphone, objective-c, ios

我正在开发一个应用程序。我正在使用 libz.1.dylib 框架。这个应用程序将在模拟器中正常工作。当我尝试归档这个应用程序时，我收到了一个错误，比如 Apple Mach-O 链接器错误。并显示错误喜欢

```
/Users/wifin/Library/Developer/Xcode/DerivedData/StudyApp-fhamcsbyepwhdebjbmkfyfbroacl/Build/Intermediates/ArchiveIntermediates/IpadExStudyApp/InstallationBuildProductsLocation/Applications/StudyApp.app/StudyApp normal armv7
cd /Users/wifin/Desktop/K.V.Naresh/SmartSvn/27-04-2012
setenv IPHONEOS_DEPLOYMENT_TARGET 3.0
setenv PATH "/Users/wifin/Desktop/software/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin:/Users/wifin/Desktop/software/Xcode.app/Contents/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin"
/Users/wifin/Desktop/software/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -arch armv7 -isysroot /Users/wifin/Desktop/software/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS5.1.sdk -L/Users/wifin/Library/Developer/Xcode/DerivedData/StudyApp-fhamcsbyepwhdebjbmkfyfbroacl/Build/Intermediates/ArchiveIntermediates/IpadExStudyApp/BuildProductsPath/Release-iphoneos -F/Users/wifin/Library/Developer/Xcode/DerivedData/StudyApp-fhamcsbyepwhdebjbmkfyfbroacl/Build/Intermediates/ArchiveIntermediates/IpadExStudyApp/BuildProductsPath/Release-iphoneos -filelist /Users/wifin/Library/Developer/Xcode/DerivedData/StudyApp-fhamcsbyepwhdebjbmkfyfbroacl/Build/Intermediates/ArchiveIntermediates/IpadExStudyApp/IntermediateBuildFilesPath/StudyApp.build/Release-iphoneos/StudyApp.build/Objects-normal/armv7/StudyApp.LinkFileList -dead_strip -fobjc-arc -miphoneos-version-min=3.0 -lz -lsqlite3.0 -framework AVFoundation -framework QuartzCore -framework UIKit -framework Foundation -framework CoreGraphics -o /Users/wifin/Library/Developer/Xcode/DerivedData/StudyApp-fhamcsbyepwhdebjbmkfyfbroacl/Build/Intermediates/ArchiveIntermediates/IpadExStudyApp/InstallationBuildProductsLocation/Applications/StudyApp.app/StudyApp 
```

ld：找不到-lz clang的库：错误：链接器命令失败，退出代码为1（使用-v查看调用）

所以请告诉我如何解决这个错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T10:57:46.403

编辑：检查您希望在构建中的每个模块和库是否实际上在构建中

请参阅[此](https://stackoverflow.com/questions/9551503/meaning-of-xcode-clang-error-not-found-in-architecture-i386)SO 答案和[此](https://stackoverflow.com/questions/5427396/whats-the-correct-way-to-configure-xcode-4-workspaces-to-build-dependencies-whe)答案，以了解更多铿锵声错误和尝试什么。

当然，您仍然应该链接到 libz：

而不是链接到 libz.1.dylib 您需要链接到 libz.dylib

从链接器设置中删除 libz.1.dylib 的条目并手动添加 libz.dylib

![在此处输入图像描述](../Images/af5c03c27627af5475d544d9ff37f69b.png)

# android - 如何解决 ActivityNotFoundException？

> ID：10497106
> 
> 赞同：0
> 
> 时间：2012-05-08T10:46:39.310
> 
> 标签：android, android-intent

我在我的 Android 应用程序中收到 ActivityNotFoundException 。这是我用来调用活动的代码片段：

```
Intent i = new Intent();
i.putExtra("NAME", username.getText().toString());
i.setClassName(getPackageName(), SecondActivity.class.getSimpleName());
startActivity(i); 
```

我的 AndroidManifest.xml 看起来像这样

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.rangde"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk android:minSdkVersion="10" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.CAMERA"/>

<application android:icon="@drawable/ic_launcher" android:label="@string/app_name" >
    <activity android:name=".firstActivity" android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity android:label="@string/app_name" android:name=".SecondActivity" />
    <activity android:label="@string/app_name" android:name=".WelcomeActivity" />
</application>

</manifest> 
```

当我按意图执行代码片段时，出现以下异常。

> E/AndroidRuntime(731): android.content.ActivityNotFoundException: 找不到明确的活动类 {com.rangde/WelcomeActivity}; 您是否在 AndroidManifest.xml 中声明了此活动？

有人可以告诉我我做错了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T10:51:38.060

```
 //set your classname here
  Intent i = new Intent(firstActivity.this, SecondActivity.class);
   i.putExtra("NAME", username.getText().toString());
startActivity(i); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T10:53:08.060

像这样调用你的 SecondActvity

```
Intent i = new Intent(this,SecondActivity.class);
i.putExtra("NAME", username.getText().toString());
startActivity(i); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T10:54:44.627

用这个

```
 String packageName = this.getPackageName();
 i.setClassName(packageName ,packageName  + "." + SecondActivity.class.getSimpleName()); 
```

代替

```
i.setClassName(getPackageName(), SecondActivity.class.getSimpleName()); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-08T11:05:29.707

而不是写

```
i.setClassName(getPackageName(), SecondActivity.class.getSimpleName()); 
```

尝试

```
i.setClassName(getPackageName(), SecondActivity.class.getName()); 
```

**SecondActivity.class.getSimpleName()**仅返回类的名称。

如果你写**SecondActivity.class.getName()**得到完全限定的类名（带有包名）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-08T11:46:39.970

```
Intent intent = new Intent().setClass(Class1.this, Class2.class);

i.putExtra("NAME", username.getText().toString());

startActivity(intent); 
```

# jquery - 如何获取作为 JSON 响应的跨度值

> ID：10497110
> 
> 赞同：0
> 
> 时间：2012-05-08T10:46:49.620
> 
> 标签：jquery

我有类似这样的 JSON 响应：

```
<span id=\"my-id-527114\">Some data here</span>\n <span id="my-differentid">something else</span> 
```

有什么办法可以得到文本“这里有一些数据”

现在我收到文字：

这是我的功能：

```
$( "#myelementid" ).autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "some remote url",
                dataType: "jsonp",
                data: {
                    term: request.term
                },
                success: function( data ) {
                    response( $.map(data, function( item ) {
                        if(item.value != " ")
                        {
                            var lbl = $(item.label);

                        return {

                                label: $(lbl).text(),
                                value: item.id
                            }
                        }
                    }));
                }
            });
        }, 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T10:49:55.347

您的响应不是 JSON。它是 HTML/字符串。

```
 success: function( data ) {
                        if(item.value != " ") {

                            ......
                            var html = $(item),
                                text = $('span#my-id-527114', html).text();

                        } else {

                            .....
                        }
                } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T10:50:11.337

如果你有一个字符串：

```
var spans = '<span id=\"my-id-527114\">Some data here</span>\n
             <span id="my-differentid">something else</span>' 
```

您可以使用 jQuery 将其转换为文档元素，并以通常的方式访问内容：

```
var text = $(spans).find('#my-id-527114').text(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:06:56.087

这个可能有帮助。

```
var html = "<span id=\"my-id-527114\">Some data here</span>\n <span id="my-differentid">something else</span>
";

html = html.replace (/\n/i, "");
html = html.replace (/<\/span.*?$/, "");
html = html.replace (/<span.*?>/i, "");

alert (html); // what you want is here 
```

# database - DB4o 数据库 DatabaseFileLockedException

> ID：10497111
> 
> 赞同：2
> 
> 时间：2012-05-08T10:46:52.273
> 
> 标签：database, parallel-processing, db4o, locked

我想从不同的程序并行访问同一个数据库文件。所有程序都在同一个虚拟机上运行。这是我使用的代码：

```
private ObjectContainer db;

public DatabaseManager(String dbName) {
    ObjectServer server = Db4oClientServer.openServer(Db4oClientServer
            .newServerConfiguration(), dbName, 0);
    try {
         db = server.openClient();

        // Do something with this client, or open more clients

    } catch(Exception ex) {
        ex.printStackTrace();
    }
} 
```

当我运行第二个程序时，我得到了 DatabaseFileLockedException。如何并行使用这个数据库？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T12:36:23.257

只有一个 db4o 实例可以同时访问数据库文件。如果您在对象容器打开时尝试重新打开它，您将收到此 DatabaseFileLockedException。

在同一个 JVM 实例中，您可以[像这样打开新的会话容器](http://community.versant.com/documentation/Reference/db4o-8.1/java/reference/Content/advanced_topics/session_containers.htm)：

```
 ObjectContainer rootContainer = // the one you've opened the file with
 ObjectContainer session = rootContainer.ext().openSession() 
```

使用您的代码，您也可以使用 .openClient() 方法来做同样的事情。但是，只要您在同一个 JVM 实例中，您实际上就不需要客户端服务器的东西。您可以将上述内容与常规嵌入式对象容器一起使用。

如果您需要从多个数据库访问同一个数据库，那么您需要一个完整的[客户端-服务器设置](http://community.versant.com/documentation/Reference/db4o-8.1/java/reference/Content/client-server.htm)。

# python - 性能监控 Openerp

> ID：10497116
> 
> 赞同：2
> 
> 时间：2012-05-08T10:46:58.657
> 
> 标签：python, openerp, newrelic

我们正在尝试在开发服务器上实现 new relic ( [http://www.newrelic.com](http://www.newrelic.com) ) 以测试 openerp 的性能。

下面newrelic的安装步骤要求我们修改WSGI应用文件。我是 openerp 的新手，我似乎无法弄清楚这一点。任何帮助将不胜感激。

> 在同一个 WSGI 应用程序文件中，您需要在实际的 WSGI 应用程序入口点周围添加一个包装器。如果 WSGI 应用程序入口点是在文件本身中声明的函数，那么您可以使用装饰器。

```
 @newrelic.agent.wsgi_application()
    def application(environ, start_response):
        ... 
```

> 如果 WSGI 应用程序入口点是从不同模块导入的函数或对象，那么您可以将其包装为预装饰器样式。

```
 import django.core.handlers.wsgi
    application = django.core.handlers.wsgi.WSGIHandler()
    application = newrelic.agent.wsgi_application()(application) 
```

> 然后，您应该重新启动用于重新加载 WSGI 脚本文件或模块的特定 WSGI 托管机制。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T18:36:31.677

当我们测试新的遗物时，修补 WSGI 处理程序（其中有几个）需要付出太多努力。但是，使用新的 relic 指令和监控在 gunicorn 下运行服务器，根本不需要更改代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T18:45:39.710

我对 WSGI 一无所知，但[这种方法`server/openerp/wsgi/core.py`](http://bazaar.launchpad.net/~openerp/openobject-server/trunk/view/4151/openerp/wsgi/core.py#L147)看起来很有希望。

```
def wsgi_xmlrpc_1(environ, start_response):
    """ The main OpenERP WSGI handler."""
    if environ['REQUEST_METHOD'] == 'POST' and environ['PATH_INFO'].startswith(
            XML_RPC_PATH_1):
        length = int(environ['CONTENT_LENGTH'])
        data = environ['wsgi.input'].read(length) 
```

您还可能会发现[有关 Gunicorn 的博客文章](http://www.openerp.com/es/node/1106)。

# java - 适合 Scala 的 GUI 框架？

> ID：10497118
> 
> 赞同：72
> 
> 时间：2012-05-08T10:47:07.343
> 
> 标签：java, scala, user-interface

合适，我的意思是：

*   成熟并广泛使用
*   渲染良好的丰富小部件集
*   惯用的斯卡拉
*   有一个所见即所得但灵活的 GUI 构建器
*   独立的 API 文档（如果是包装器，它不应该让我用另一种语言引用父项目）

没有特别的顺序。

哪些 GUI 工具包满足哪些条件？

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-05-08T13:13:39.757

Scala 有自己的 Swing 库。这将在底层使用标准的 Swing 库，但它有一些很好的补充，最值得注意的是，因为它是为 Scala 制作的，它可以以比标准 Swing 库更简洁的方式使用：

```
import swing._

object HelloWorld extends SimpleSwingApplication {
  def top = new MainFrame {
    title = "Hello, World!"
    contents = new Button {
      text = "Click Me!"
    }
  }
} 
```

看看设置小部件属性是多么的好和容易？

除了更好的语法和小的添加（如`SimpleSwingApplication`类），我认为优点和缺点与 vanilla Swing 几乎相同。

这是[Scala Swing 的概述](http://www.scala-lang.org/sid/8)。

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2014-06-13T22:02:37.570

ScalaFX 是围绕 JavaFX 2 的成熟包装器。它在某些方面与 Scala Swing 表面上相似，但有一些使其脱颖而出的特性：

*   与本机图形库的耦合——这意味着可以访问硬件加速和其他好东西，但需要在系统上安装 JavaFX 运行时。它包含在 Java 8 的大多数主要发行版中。这也意味着它在与其兼容的系统上呈现得非常好。

*   属性绑定 - 这是我的杀手锏。假设我有三个元素：`A`、`B`和`C`。`A`并且`B`是可调整大小的，并且`C`应该具有一个高度，它是所有时间的高度之`A`和`B`。在 Swing 中，这将涉及编写一组自定义事件侦听器来执行这项工作。ScalaFX 绑定让您可以通过使用属性绑定运算符简单地表达这一点：`C.height <== A.height + B.height`。除了其他特性之外，这也带来了一种非常 Scala 惯用的感觉。

*   JavaFX Scene Builder（在撰写本文时处于测试阶段）是一个所见即所得的 GUI 编辑器（不过我还没有尝试过）。

*   文档是它的弱点。作为一个包装器，它经常引用 JavaFX 文档。

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2013-10-22T23:38:28.837

我使用 Java Swing。以下是它如何满足您的要求：

*   成熟并广泛使用：是的，一吨。

*   丰富的小部件设置和渲染良好：这是值得商榷的。当您考虑使用其他库（例如 SwingX）轻松补充 Java Swing 的能力时，它至少在这方面比 Scala Swing 做得更好，尽管可能不如其他一些 Java 工具包（尽管我不能说那些） .

*   惯用的 Scala：没有你想象的那么糟糕。一些辅助函数使它变得更好：

    ```
    implicit class And[A](a: A) {
      def and(f: A => Unit): A = {
        f(a); a
      }
    } 
    ```

    这样你就可以做到

    ```
    val button = (new JButton("Press me!")
        and (_ setForeground Color.red)
        and (_ setFont new Font(null, Font.PLAIN, 12)))

    val win = (new JFrame("Hello!")
      and (_ add button)
      and (_ pack())
      and (_ setDefaultCloseOperation JFrame.EXIT_ON_CLOSE)
      and (_ setVisible(true))) 
    ```

    现在至于事件和状态，在我看来，这仍然是*所有*gui 框架中的一个粗略优势——监听器有他们的问题，事件流有他们的问题。我在使用[反应核心](https://github.com/nafg/reactive/tree/master/reactive-core)和[重做信号](https://github.com/ellbur/redo-signals)（我自己的，未记录的）增强 Swing 的事件方面取得了普遍的成功，以便更容易组织状态。

    您可以使用更多的辅助函数来提高定义侦听器的详细程度，例如

    ```
     def actionListener(f: => Unit) = new ActionListener {
        def actionPerformed(e: ActionEvent) { f }
      } 
    ```

    和

    ```
     def later(thing: => Unit) {
        SwingUtilities.invokeLater(new Runnable {
          def run() {
            thing
          }
        })
      } 
    ```

    就个人而言，我希望 Scala Swing 采取了这条路线。为现有的 Java 类编写包装器是 O(n) 程序员的时间，并且对于作者没有选择为其编写包装器的类不会得到任何东西。创建通用语法糖会让你走得更快。

*   有一个所见即所得但灵活的 GUI 构建器：我使用 IntelliJ IDEA 表单创建一个抽象类，然后使用 Scala 类对其进行子类化。组织成本只是 1 个额外的文件，而且我没有编写 Java 代码。

*   独立 API 文档：是的。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2015-06-28T20:36:23.283

现在已经过去了一段时间，值得注意的是 ScalaJS 也是一个可以考虑的选项。

根据您的要求：

*   成熟并被广泛使用——HTML/CSS/JS 是，ScalaJS 不是（但考虑到它非常好）。因此，您可能会遇到特定于 ScalaJS 的挂断，但底层技术非常强大。
*   渲染良好的丰富小部件集——是的。
*   惯用的 Scala——不：你最终会使用很多 jquery，它们大多是动态类型的。[ScalaTags](http://lihaoyi.github.io/scalatags/)在使它变得更好方面做了很多工作。
*   有一个所见即所得但灵活的 GUI 构建器——是的，很多。
*   独立的 API 文档（如果是包装器，它不应该让我用另一种语言引用父项目）——是的。

缺点是它将您的 GUI 从 JVM 转移到浏览器中，因此您不能使用所有这些 Java 库。

* * *

## 回答 #5

> 赞同：-23
> 
> 时间：2012-05-08T13:08:56.247

我会说使用.Net 成熟并广泛使用。

但 ...

我假设您需要使用 Scala。为此，我会坚持使用 Java，因为它在 IDEA 或 NetBeans 中具有更好的工具支持。您当然可以混合使用 Java 和 Scala。因此，您的 GUI 可以在调用 Scala 后端的 Java 中完成。还可以看看 JGoodies，他们有很多好东西可以在 Swing 中构建 UI。目前还没有对 Scala GUI 应用程序的工具支持（对于非 GUI，它仍然落后于 Java）。

# bash - 如何在一分钟后在linux中启动一个shell脚本？

> ID：10497120
> 
> 赞同：11
> 
> 时间：2012-05-08T10:47:14.940
> 
> 标签：bash

如何在一分钟后启动一个shell脚本？

假设有两个 bash 文件 a.sh 和 b.sh
我想在 a.sh 执行后一分钟（或几秒）执行 b.sh。
我应该在 a.sh 中编码什么？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-05-08T10:56:18.053

简单的。你想用'at'来安排你的工作。和“日期”来计算你未来的时刻。

例子：

```
echo b.sh | at now + 1 minute 
```

或者：

```
echo b.sh | at -t `date -v+60S "+%Y%m%d%H%M%S"` 
```

`-v+60S`将当前时间增加 60 秒。您可以准确控制要添加多少秒。

但通常，当人们希望一个程序在另一个程序之后启动时，他们不能 100% 确定它不会超过或少于一分钟。就是这样。`b.sh`可以在`a.sh`完成之前启动。或者`a.sh`可能比“计划”提前 30 秒完成，并且 b.sh 可能启动得更快。

我会推荐一个不同的模型。首先在哪里`b.sh`启动。 `a.sh`启动时创建一个临时文件。执行是任务并在最后删除它的临时文件。 `b.sh`注意要创建的临时文件，然后删除。并开始其任务。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-08T10:49:50.043

制作 a.sh 的最后一行：

```
sleep 60 && b.sh 
```

（如果 b.sh 不在 PATH 中的目录中，请将其设为 b.sh 的完整路径。）

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-08T10:50:39.963

你可以`sleep`：

```
a.sh
sleep 60
b.sh 
```

或者对于更复杂的情况，您可以使用以下`at`命令：

```
echo b.sh | at now + 1 minute 
```

有关更多信息，请参见`at`手册页。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-08T10:54:28.493

使用`at`命令。

看看[`man at`](http://unixhelp.ed.ac.uk/CGI/man-cgi?at)如何使用它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-08T10:51:19.340

您可以使用该命令将脚本休眠 1 分钟。

```
sleep 1m 
```

然后当你想调用第二个脚本时

```
bash a.sh 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-08T12:42:51.253

*如果您想在第一个脚本启动*几秒钟后执行第二个脚本，您可以在第一个脚本中执行此操作：

```
b.sh & 
```

这是第二个：

```
sleep 10
# more commands 
```

您可以将秒数作为参数从第一个传递到第二个。

不幸的是，`at`时间增量不会超过一分钟。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-09-13T12:02:12.157

安排两个脚本在 cron 中同时运行，并将所需的延迟放在 b.sh 中。

# asp.net - 如何将敏感数据从视图传递到控制器

> ID：10497126
> 
> 赞同：2
> 
> 时间：2012-05-08T10:47:30.680
> 
> 标签：asp.net, asp.net-mvc, sensitive-data

为了构建一个包含大量信息的实体，我需要执行一系列表单提交。每次我从控制器返回视图时，我都需要传递一些关于尚未建立实体的 id。现在我将这些信息注入隐藏字段，并在回发到服务器时继续构建实体。这种情况持续了几次。我对这种传递敏感信息的方式非常不满意，想知道是否还有其他更合适的方式。我使用授权和身份验证，但仍然担心在某些情况下，一个用户可能会破解这些 id，然后再将其发送回服务器，然后修改错误的实体。

此外，来回传递相同的数据似乎是一种艰苦的工作。我取消了使用会话的资格，因为它揭示了另一种数据中断威胁。（如果一次使用多个浏览器）。

我应该如何执行上述操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T12:11:40.333

您可以使用另一个隐藏字段中数据的安全散列来检测对值的篡改。

这是如何生成加密安全哈希的示例[http://www.bytemycode.com/snippets/snippet/379/](http://www.bytemycode.com/snippets/snippet/379/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T10:51:08.843

您可以使用多种方法保护您的数据，我在这篇文章中讨论了其中一些方法

[http://miroprocessordev.blogspot.com/2012/03/save-aspnet-mvc-application-against.html](http://miroprocessordev.blogspot.com/2012/03/save-aspnet-mvc-application-against.html)

[http://miroprocessordev.blogspot.com/2012/03/safe-aspnet-mvc-application-against.html](http://miroprocessordev.blogspot.com/2012/03/safe-aspnet-mvc-application-against.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T10:51:19.293

使用带有令牌的跨站点请求伪造来识别每次您发送信息时，它都包含在服务器端生成并从您的 html 返回的相同令牌

# c# - C# TCP 客户端错误处理异步消息

> ID：10497127
> 
> 赞同：0
> 
> 时间：2012-05-08T10:47:42.057
> 
> 标签：c#, asynchronous, tcpclient, tcplistener

我在使用 TCP Client 时遇到了一些问题，该服务连接到服务器并侦听消息，这些消息在 90% 的时间内都被接收和处理。经过一番调试，我发现在某些情况下我得到“无法读取整个数据包！” 错误。（在代码中）

我无法控制服务器发送的内容。我的想法是它没有收到完整的消息（我认为它在较长的消息上失败但由于数量而不确定）。

我能解释这一点的最佳方法是什么？或任何其他提示。我在下面有我的接收方法，这是所有操作和问题所在。

对不起，这是我第一次尝试 TCP ，所以不要害怕

```
 public void Receive(IAsyncResult ar)
        {
            if (ar != null)
            {
                try
                {

                    byte[] mLenBytes = (byte[])ar.AsyncState;
                    byte[] mDataBytes = null;
                    int bytes_read = mTcpClient.Client.EndReceive(ar);
                    if (bytes_read != 4)
                        throw new Exception("Unable to read whole header!");
                    int len = mLenBytes[3] + ((mLenBytes[2] + (mLenBytes[1] + (mLenBytes[0] << 8)) << 8) << 8);
                    mDataBytes = new byte[len];
                    bytes_read = mTcpClient.Client.Receive(mDataBytes, len, SocketFlags.None);
                    if (bytes_read != len)
                        throw new Exception("Unable to read whole packet of data!" + "Expected " + len + " Got "  + Convert.ToString(bytes_read) + "\r\n" + (System.Text.Encoding.ASCII.GetString(mDataBytes)));
                        //This is the error that is raised!. 

                    // raise an event
                    PhoneBoxEventArgs e1 = new PhoneBoxEventArgs(System.Text.Encoding.UTF8.GetString(mDataBytes));
                    Console.WriteLine("Data received is = " + e1.Data);
                    OnPassEvent(e1);

                }
                catch (Exception ex)
                {

                }

            }
            byte[] mLenBytes_new = new byte[4];
            mTcpClient.Client.BeginReceive(mLenBytes_new, 0, 4, SocketFlags.None, new AsyncCallback(Receive), mLenBytes_new);
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T10:55:16.243

您不能假设从 TCP 服务器一次读取即可获得整个“消息”。这通常是你做整个标题的原因。

标头应该是 4 个字节长，并告诉您后面有多少字节。所以你需要做的是：

1.  异步读取，直到有 4 个字节
2.  继续异步读取，直到您在标头中收到的字节数与您被告知要接收的字节数一样多

你正在做的是：

1.  假设您一次获得 4 个字节，如果没有则失败（问题：您不能假设一次接收获得 4 个字节）
2.  接收尽可能多的字节，如果没有获得足够的字节则失败（再次出现问题：您不能确保一次性接收所有字节）

我也可以从您的代码中看出您已经开始异步接收。为什么在获得标头后切换到同步接收？

# c# - 将 Flash 网站中的产品数据（图像、文本）转换为文件（excel、access、flat、csv、xml...等）

> ID：10497130
> 
> 赞同：0
> 
> 时间：2012-05-08T10:47:49.343
> 
> 标签：c#, asp.net, sql-server

我有一个 Flash 页面 (URL)，其中包含产品图片和一些文本，如颜色、类别、价格等。我想知道如何从 Flash 网站保存/下载数据（图片和与产品相关的所有数据）到一个文件（可能是 excel、access、flat、csv、xml...等）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:12:49.100

对于这样的事情，您需要一个可以读取/解析/播放 Flash 对象的组件，该组件能够从 Flash 对象中提取文本和图像。

基于 Flash 的网站通过 HTTP 传输 Flash 对象，通常是二进制对象，不能简单地解释为纯文本，因此从中提取文本/图像不是一项简单的任务。

# javascript - 在 Facebook 上抓取用户位置并附加 HTML

> ID：10497131
> 
> 赞同：0
> 
> 时间：2012-05-08T10:47:53.583
> 
> 标签：javascript, jquery, facebook, facebook-graph-api, geolocation

如何在 FB 选项卡中使用 Graph API 从 Facebook 获取用户的位置？

像这样的东西：

```
if (countryName = 'US') {
    $("#footer a h3").html("www.ok.com");
} else {
    $("#footer a h3").html("www.facebook.com");
} 
```

希望你能帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:20:08.610

您可以为此使用 geoPlugin API，这是一个示例代码，

```
function setHTML(ip) {
    var url = "http://www.geoplugin.net/json.gp?ip="+ip+"&jsoncallback=?";
    $.getJSON(url, function(data) {
        if (data.geoplugin_countryCode == 'US') {
            $("div").html("www.ok.com");
        } else {
            $("div").html("www.facebook.com");
        }         
    });
}

function changeHTML(ip) {
    var url = "http://jsonip.appspot.com/?callback=?";
    if(!ip) {
       $.getJSON(url, function(data) {
           setHTML(data.ip);
       });            
    } else {
       setHTML(ip);
    }
}

// USAGE
changeHTML("73.111.126.13"); // specific IP
changeHTML(); // Find current user IP with appspot 
```

[这是一个演示](http://jsfiddle.net/5Yfd6/1/)

# php - facebook请求阅读和user_id获取问题

> ID：10497137
> 
> 赞同：0
> 
> 时间：2012-05-08T10:48:02.073
> 
> 标签：php, javascript, facebook, facebook-graph-api, facebook-c#-sdk

嗨，我像这样发送我的请求

```
 <?php 
         $app_id = "127736900693315";

         $canvas_page = "http://apps.facebook.com/greetingz";

         $message = "Dynamic_msg";
         $data_s="Dynamic_data";

         $requests_url = "https://www.facebook.com/dialog/apprequests?app_id=" 
                . $app_id . "&redirect_uri=" . urlencode($canvas_page)
                . "&message=" . $message."&data=".$data_s;

         if (empty($_REQUEST["request_ids"])) {
            echo("<script> top.location.href='" . $requests_url . "'</script>");

         } else {

         }
?> 
```

此请求正常，但是当接收者单击通知时，我通过 request_ids 获取代码如下

```
 if(!empty($_REQUEST['request_ids'])) {

    $config = array(
        'appId' => '343704039016593',
        'secret' => '56e711bf93d4e46426aa662c8be8d5ef',
        'cookie' => true,

    );
       $facebook = new Facebook($config);
        echo  $user_id= $facebook->getUser(); //** 0 printing**
        $app_token = $facebook->getAccessToken();

            $requests = explode(',',$_REQUEST['request_ids']);
            foreach($requests as $request_id) {

        $request_content = json_decode(file_get_contents("https://graph.facebook.com/'".$request_id."_".$user_id."'?access_token=$app_token"), TRUE);
print_r($request_content);  //**nothing is printing**

$deleted = file_get_contents("https://graph.facebook.com/$request_id?access_token=$app_token&method=delete");       

            } 
```

我在尝试近 7 天的编码时不知道有什么问题，我在网上查看了大部分教程，其中大部分都是旧的，现在 API 已经更新。我什至无法获取 user_id ......我需要发送我的请求 OAuth Dialog 吗？}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:12:25.677

这对我有用

```
foreach($ids as $id) {
    //you will get your data here
    $data = $facebook - > api('/'.$user.'/apprequests?'.$access_token);

    //you will delete the request here
    $delete_url = "https://graph.facebook.com/".$id."_".$user."?".$access_token."&method=delete";
    $result = file_get_contents($delete_url);
}​ 
```

希望这可以帮助

# objective-c - CalCalendar 问题按名称检索日历

> ID：10497143
> 
> 赞同：0
> 
> 时间：2012-05-08T10:48:35.487
> 
> 标签：objective-c, macos, cocoa

我遇到了 CalCalendar 框架的问题。我想检索以前创建的日历，以便向其中添加事件。

```
NSArray *calendarArray = [[CalCalendarStore defaultCalendarStore] calendars];

NSEnumerator *arrayEnum = [calendarArray objectEnumerator];

CalCalendar *calObj = nil;

while (calObj = [arrayEnum nextObject]) {

    NSLog(@"Calendar: %@", calObj.title);

    if (calObj.title == @"Calendar" ) {

        NSLog(@"Match");
    }

} 
```

问题是这似乎与标题不匹配，这可能很简单，但我不知道。日志输出如下：

```
2012-05-08 20:38:53.976 Swish[52493:403] Calendar: Tasks
2012-05-08 20:38:53.976 Swish[52493:403] Calendar: Calendar 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:22:52.580

对于字符串比较，请`isEqualToString`改用`==`. 所以你的代码应该是这样的：

```
NSArray *calendarArray = [[CalCalendarStore defaultCalendarStore] calendars];

NSEnumerator *arrayEnum = [calendarArray objectEnumerator];

CalCalendar *calObj = nil;

while (calObj = [arrayEnum nextObject]) {

    NSLog(@"Calendar: %@", calObj.title);

    if ([calObj.title isEqualToString:@"Calendar"]) {

        NSLog(@"Match");
    }
} 
```

# java - 事件委托模型和事件继承模型有什么区别？

> ID：10497151
> 
> 赞同：3
> 
> 时间：2012-05-08T10:49:20.900
> 
> 标签：java, swing, inheritance, awt, composition

我试图寻找两者之间的差异`Event-Delegation Model`，`Event-Inheritance Model`但没有找到足够具体的答案来区分两者。

这两种模型之间的*真正区别*是什么，在什么情况下它们被认为是有效的解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T14:50:54.327

据我所知，事件继承模型让发起者将所有消息发送给所有观察者。观察者负责决定应用哪些消息。这种模型的优点是多个观察者可以处理相同的消息。这种模型的缺点是当你有很多发起者和观察者时它很快就会变得复杂。

事件委托模型要求观察者向发起者注册。如果发起者只有一种注册方法，则类似于事件继承模型。当发起者有多个注册方法时，发起者就有能力只向需要消息的观察者发送消息。当您有很多发起者和观察者时，事件委托模型可以更好地扩展。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T11:13:55.303

与事件继承模型相比，事件委托模型有两个优点。

*   它通过处理由事件或其容器生成的对象以外的对象来启用事件处理。它清楚地将组件设计及其使用分开。

*   它在生成更多事件的应用程序中表现得更好。正是因为这样的事实，该模型不需要重复处理未处理的事件，事件继承模型就是这种情况

# iphone - 如何将 UILongPressGestureRecognizer 添加到 UITextField？

> ID：10497152
> 
> 赞同：6
> 
> 时间：2012-05-08T10:49:22.353
> 
> 标签：iphone, objective-c, ios, ipad, uitextfield

我正在尝试添加`UILongPressGestureRecognizer`到页面上的 UITextField 之一，但是当长按 UiTextField 时它不会调用选择器方法。我将它添加到 UItextField 但是当我长按 TextField 但在字段上显示放大镜时它不会调用 Selector 方法。

```
[self.tfCustomerStreet addGestureRecognizer:LongPressgesture]; 
```

但是如果我将它添加到视图中，它可以正常工作并调用选择器方法。

```
[[self view] addGestureRecognizer:LongPressgesture]; 
```

ViewDidLoad 中的初始化代码

```
UILongPressGestureRecognizer *LongPressgesture = [[UILongPressGestureRecognizer alloc] initWithTarget:self action:@selector(LongPressgesture:)];
    [LongPressgesture setMinimumPressDuration:2.0]; 
```

.

```
// Long press gesture reconizer
- (void)LongPressgesture:(UILongPressGestureRecognizer *)recognizer 
{
    if (recognizer.state == UIGestureRecognizerStateEnded) {
        NSLog(@"Long press Ended .................");
    }
    else {
        NSLog(@"Long press detected .....................");
    }        
} 
```

请告诉我如何使它与 UITextField 一起使用。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-08T11:28:02.630

如果您删除`[LongPressgesture setMinimumPressDuration:2.0];`它，它将起作用..因为将调用选项卡手势来开始编辑文本字段......或者只是实现这个手势委托功能

```
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer
{
    return YES;
} 
```

向该方法返回 YES 保证允许同时识别。

享受 ：）

# android - 带有需要 nohistory=false 的 facebook sdk 登录的启动画面（我需要 nohistory=true）

> ID：10497153
> 
> 赞同：2
> 
> 时间：2012-05-08T10:49:24.100
> 
> 标签：android, facebook, single-sign-on

我有一个带有“与 Facebook 连接”登录按钮的典型初始屏幕。当用户触发 facebook auth 时，facebook 应用程序会弹出，然后返回到启动屏幕，以便在 onComplete() facebook 回调方法中调用下一个活动。

然后从这个新创建的 Activity 中，当用户按下返回时，我会返回到初始屏幕，但我不希望这样。我无法将启动画面设置为 nohistory=true 因为 facebook sdk 需要返回到此活动并调用 onActivityResult 方法...

有任何想法吗？谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-08T11:04:21.563

我猜你可以在开始下一个活动后调用 splash.finish()

# jquery-ui - 重置 JqGrid 搜索字符串

> ID：10497158
> 
> 赞同：0
> 
> 时间：2012-05-08T10:49:46.470
> 
> 标签：jquery-ui, jquery, jquery-plugins, jqgrid

执行搜索后，我需要重置搜索字符串。

我尝试更改搜索列，但搜索字符串未重置。

如何从搜索弹出窗口重置搜索字符串？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:19:19.140

我不确定我是否正确理解了您想要的内容。[使用 search option](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3asinge_searching#options)可能会解决您的`recreateFilter: true`问题。可能您需要清除（在使用 的情况下）或属性（在使用单字段搜索的情况下）：`filters``multipleSearch: true``searchString``postData``onClose`

```
$.extend($.jgrid.search, {
    multipleSearch: true,
    recreateFilter: true,
    onClose: function () {
        delete $grid.jqGrid('getGridParam', 'postData').filters;
    }
}); 
```

您可能根本不需要在搜索对话框中加载任何默认过滤器：

```
$.extend($.jgrid.search, {
    multipleSearch: true,
    recreateFilter: true,
    loadDefaults: false
}); 
```

一切都取决于您的要求。您应该尝试我上面描述的不同选项，如果搜索对话框不是您需要的，您应该更清楚地描述您的要求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-06T05:20:45.897

要重置 jqgrid 中 searchpopup 中的所有过滤器，请使用`recreateFilter: true`.

在搜索完成后关闭 jqgrid 中的 searchpopup 使用`closeAfterSearch:true`.

**jqgrid**

```
$("#loggerList").jqGrid('navGrid','#pagerDiv',{},{},{},{},
{closeAfterSearch:true, recreateFilter: true}); 
```

**HTML**

```
<div style="padding:10px;">
    <div id="gridContainer">
        <table id="loggerList"></table>
        <div id="pagerDiv"></div>
    </div>
</div> 
```

# php - 如何使用 PHP 更新 youtube 视频描述和添加注释（以及你管 api v2）

> ID：10497163
> 
> 赞同：0
> 
> 时间：2012-05-08T10:50:00.290
> 
> 标签：php, youtube

我最近几天都在尝试这样做，所以是时候寻求帮助了。

我的视频频道中有大约 1.000 个视频，我想使用 API 更改：1）每个视频描述 2）为每个视频添加注释

我准备了视频描述和注释，但我不确定如何使用 PHP 访问 youtube。列出所有视频并为每个更改这些数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:23:25.173

刚刚自己检查了 youtube API。此条[目](https://developers.google.com/youtube/2.0/developers_guide_protocol_updating_and_deleting_videos)向您展示如何更新 youtube 上的视频，包括说明。还要看看[这个](https://developers.google.com/youtube/2.0/developers_guide_protocol_authentication)，因为您必须授权才能更新视频。

您需要一个视频 ID 列表（[这](https://developers.google.com/youtube/2.0/developers_guide_php?hl=en-EN#Retrieving_Uploads)可能会对您有所帮助）。

剩下的就是构建一些 PHP 逻辑，包含新的描述。

# jquery - 获取 Fancybox 2 回调中活动项目的类

> ID：10497165
> 
> 赞同：0
> 
> 时间：2012-05-08T10:50:04.083
> 
> 标签：jquery, fancybox

我正在尝试通过 beforeLoad 回调获取当前活动的 fancybox 链接的类。

HTML 示例：

```
<a href="example.png" class="lightbox pdf-opening">Link</a>
<a href="example2.png" class="lightbox pdf-closing">Link</a> 
```

jQuery/Fancybox 代码：

```
$(document).ready(function() {

    $(".lightbox").fancybox(
        {
            beforeLoad: function(){
                var pdf_type_string = $(".lightbox").eq(this.index).attr('class').split(' ').slice(-1);
                var test = pdf_type_string.toString();
                var pdf_type = test.substr(4);
                alert(pdf_type);
            },
            title: '<a class="lightbox_link_to_tickets" href="/your-visit/booking-online/">Book your tickets here</a>',
            type: 'image'
        }
    );

}); 
```

this.index 始终返回 0，即使单击第二个链接也是如此，单击第二个链接时（理论上对我来说）应该返回 1...

非常感谢任何帮助。

保罗

**解决方案**

我的解决方案如下：

```
$(document).ready(function() {
    $(".lightbox").fancybox(
    {
        beforeLoad: function(){
            var pdf_type_object = $(this.element).attr('class').split(' ').slice(-1);
            var pdf_type_string = pdf_type_object.toString();
            var pdf_type = pdf_type_string.substr(4);
            this.title = '<a class="lightbox_link_to_tickets" href="/your-visit/booking-online/">Book your tickets here</a> - <a class="lightbox_link_to_tickets" href="/inc/images/your-visit/timetables-and-fares/'+pdf_type+'.pdf">Downloadable PDF</a>';
        },
        type: 'image'
        }
    );  
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:44:48.597

您可以访问当前元素，例如：

```
beforeLoad: function() {
    console.info( $(this.element) );
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T10:53:10.243

试试这个：

```
var pdf_type_string = $(".lightbox").eq($(this).index(this)).attr('class') 
```

# android - 在 Java 中将字符串 ISO8859-1 转换为 UTF-8

> ID：10497168
> 
> 赞同：1
> 
> 时间：2012-05-08T10:50:07.157
> 
> 标签：android, utf-8, iso-8859-1, quoted-printable

我有一个[Q 编码的](http://en.wikipedia.org/wiki/MIME#Encoded-Word)字符串变量：

```
String s = "=?ISO-8859-1?Q?Merve_G=FCl?="; 
```

我想用**真正的角色**在屏幕上写它：“Merve Gül”。

我怎样才能做到这一点？

@缺口

```
String string = "=?ISO-8859-1?Q?Merve_G=FCl?=";
QCodec q = new QCodec();
        try 
        {
            q.decode(string);
            System.out.println(q.decode(kimdenIsim));
        } catch (DecoderException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } 
```

我收到此错误：

```
05-08 11:22:39.287: W/System.err(1142): org.apache.commons.codec.DecoderException: RFC 1522 violation: malformed encoded content
05-08 11:22:40.448: W/System.err(1142):     at org.apache.commons.codec.net.RFC1522Codec.decodeText(RFC1522Codec.java:102)
05-08 11:22:40.448: W/System.err(1142):     at org.apache.commons.codec.net.QCodec.decode(QCodec.java:230)
05-08 11:22:40.457: W/System.err(1142):     at com.mobil.eposta.GoruntuleActivity.EksizPosta(GoruntuleActivity.java:138)
05-08 11:22:40.457: W/System.err(1142):     at com.mobil.eposta.GoruntuleActivity.onCreate(GoruntuleActivity.java:52)
05-08 11:22:40.477: W/System.err(1142):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
05-08 11:22:40.477: W/System.err(1142):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
05-08 11:22:40.477: W/System.err(1142):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
05-08 11:22:40.497: W/System.err(1142):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)
05-08 11:22:40.497: W/System.err(1142):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
05-08 11:22:40.507: W/System.err(1142):     at android.os.Handler.dispatchMessage(Handler.java:99)
05-08 11:22:40.517: W/System.err(1142):     at android.os.Looper.loop(Looper.java:123)
05-08 11:22:40.517: W/System.err(1142):     at android.app.ActivityThread.main(ActivityThread.java:4627)
05-08 11:22:40.517: W/System.err(1142):     at java.lang.reflect.Method.invokeNative(Native Method)
05-08 11:22:40.517: W/System.err(1142):     at java.lang.reflect.Method.invoke(Method.java:521)
05-08 11:22:40.517: W/System.err(1142):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
05-08 11:22:40.537: W/System.err(1142):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
05-08 11:22:40.537: W/System.err(1142):     at dalvik.system.NativeStart.main(Native Method) 
```

第 4 个错误行显示：q.decode(string);

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-07-30T10:56:39.840

根据[这个](https://stackoverflow.com/a/16481577/1444145)答案是否有可能这样。为此，您需要 JavaMail。我刚刚测试成功。

```
import javax.mail.internet.MimeUtility;

String s = "=?ISO-8859-1?Q?Merve_G=FCl?=";
String string = MimeUtility.decodeText(s); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:14:09.843

[Apache Commons Codec](http://commons.apache.org/codec/)有一个[QCodec](http://commons.apache.org/codec/apidocs/org/apache/commons/codec/net/QCodec.html)类来解码这种格式。只需将库添加到您的项目中。

```
//String s must start with "=?" and end with "?="
QCodec q = new QCodec();
q.decode(s); 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-05-08T10:57:24.423

试试这个代码

```
try {
    // Convert from Unicode to UTF-8
    String string = "abc\u5639\u563b";
    byte[] utf8 = string.getBytes("UTF-8");

    // Convert from UTF-8 to Unicode
    string = new String(utf8, "UTF-8");
} catch (UnsupportedEncodingException e) {
} 
```

# java - Apache Camel：CXFRS 服务器：需要路由建议

> ID：10497174
> 
> 赞同：2
> 
> 时间：2012-05-08T10:50:22.120
> 
> 标签：java, rest, apache-camel, cxfrs

我正在使用 apache cxf 和骆驼制作宁静的网络服务。我的配置是这样的：

```
<camelcxf:rsServer id="applicationserver" address="/" staticSubresourceResolution="true">
<camelcxf:serviceBeans>
<ref bean="Demo" />
<ref bean="Foo" />
<ref bean="Bar" />
</camelcxf:serviceBeans>
</camelcxf:rsServer> 
```

我将三个服务 bean 公开为服务，并映射到不同的 url，路由是这样的：

```
<camel:route id="ServerRoute">
<camel:from uri="cxfrs://bean://applicationserver" />           
<camel:process ref="camelCxfInProcessor" />
<camel:to uri="http://google" />
<camel:to uri="bean:googlereqreshandler" /> 
```

现在对于每个服务 bean，我希望有不同的路由，因为这三个都有不同的功能，但我无法确定我应该在我的

```
<from: uri="cxfrs://bean://aplicationserver..."/> 
```

标记以根据服务 bean 区分路由。或者有没有其他方法可以做到这一点？请提出一些建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T22:10:26.810

您看过[Camel CXFRS 文档](http://camel.apache.org/cxfrs.html)吗？他们在示例中采用的方法是让一条路线充当“包罗万象”，然后根据以下值采取不同的行动：

```
String operationName = exchange.getIn()
                       .getHeader(CxfConstants.OPERATION_NAME, String.class); 
```

# primefaces - 访问初始化参数

> ID：10497175
> 
> 赞同：0
> 
> 时间：2012-05-08T10:50:24.707
> 
> 标签：primefaces

如何访问 web.xml 中的 init-param 值？我需要检索我的上传文件位置。

```
<filter>
        <filter-name>PrimeFaces FileUpload Filter</filter-name>
        <filter-class>org.primefaces.webapp.filter.FileUploadFilter</filter-class> 
        <init-param>
        <param-name>dir</param-name>
        <param-value>some path</param-value>
    </init-param>
</filter>
<filter-mapping>
    <filter-name>PrimeFaces FileUpload Filter</filter-name>
    <servlet-name>Faces Servlet</servlet-name>
</filter-mapping> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-09T14:50:19.843

如果您只需要找出文件被删除的位置，您可以在您的支持 bean 上执行类似的操作。我不确定文件名是否包含目录信息：

```
public void uploadListener(FileUploadEvent upLoad){
    UploadedFile myFile = upLoad.getFile();
    String myFileName = myFile.getFileName();

    System.out.println(myFileName);
} 
```

# actionscript-3 - Flash 中透明动画的平滑边缘

> ID：10497178
> 
> 赞同：0
> 
> 时间：2012-05-08T10:50:34.770
> 
> 标签：actionscript-3, flash, psd

我目前正在使用柑橘引擎构建游戏。因此，我将我的位图作为 psd 图层导入到 flash 库中。编译后的 swf 在运行时作为游戏图形加载。

我在 Photoshop 中平滑了边缘，对于静态图片（如站立的英雄）效果很好，但我的动画看起来参差不齐。我的游戏具有缩放功能，并且在屏幕上调整图形的大小也显得参差不齐。

将我的动画帧放入 Flash 的最佳方法是什么（具有漂亮的平滑边缘）？将它们从 Photoshop 导出为网络兼容格式会更好吗？或者我可以以某种方式改善图像的闪光显示吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T13:51:48.073

这两个应该可以提高图像质量：

Catchasbitmap= true （不强制占用内存，但在 cpu 上很容易）

Smoothing = true（消耗 CPU）

[http://www.kirupa.com/forum/showthread.php?289874-AS3-bitmap-smoothing](http://www.kirupa.com/forum/showthread.php?289874-AS3-bitmap-smoothing)

# magento - 将 Magento 模板从 CE 1.3 升级到 1.7

> ID：10497189
> 
> 赞同：0
> 
> 时间：2012-05-08T10:51:05.317
> 
> 标签：magento, themes, upgrade

我正在将我的两个 magento 网站从 magento CE 1.3 升级到 1.7。我有一个全新安装的 1.7 运行两个站点并且一切正常。

1.3 中使用的主题与 1.7 中的主题不兼容，所以我想知道是否有任何方法可以导入这些主题，而不是将它们重写为 1.7

我在这里读到过，最好的方法是增量升级到 1.7 版，但我不确定哪个需要更长时间。

谢谢。

何塞

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T11:24:28.390

走向荣耀的步骤：

*   关闭所有本地和社区扩展
*   打开默认主题
*   逐个版本升级到最新版本
*   将您的主题编辑文件和布局文件与 diff 工具（如 winmerge、更改等）进行比较并迁移到最新结构
*   一个个打开扩展并调试

同时，如果它几乎不是定制的主题，那么合并它可能需要一整天的时间，所以如果从头开始制作一切是更快的方式，你必须权衡

# excel - 当 ControlSource 单元格更改时 Excel 用户窗体文本框不更新

> ID：10497192
> 
> 赞同：0
> 
> 时间：2012-05-08T10:51:14.833
> 
> 标签：excel, vba, userform

我有一个带有各种文本框的用户表单，这些文本框的 ControlSource 属性设置为 Sheet1 中的单元格。还有一个命令按钮。

单击命令按钮从 SQL Server 数据库中检索数据并填充 Sheet1。但是，除非我关闭用户表单并重新打开它，否则文本框不会刷新。我已尝试将 UserForm1.Repain 作为 CommandButton Click 事件的最后一行，但它仍然无法正常工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-09T17:23:56.350

好的，在我之前的评论的基础上，您可以执行以下操作来自动重新加载`ControlSource`表单上每个文本框的 ：

```
Dim ctl As Control

For Each ctl In Me.Controls
    If TypeOf ctl Is MSForms.TextBox Then
        ctl.ControlSource = ctl.ControlSource
    End If
Next ctl

Set ctl = Nothing 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T13:02:37.610

我不太明白...试图复制您的问题，但我没有问题。我使用了以下代码

```
Private Sub CommandBut_Click()
Dim cnn As ADODB.Connection
Dim rs As ADODB.Recordset
Dim sqls As String
Dim myRec As Integer
Set rs = New ADODB.Recordset
Set cnn = New ADODB.Connection

cnn.ConnectionString = "UID=***;PWD=***;DSN=***;"

sqls = "select data1, data2 from someRandomTable where data1 = '" & textbox1 & '" and data2 = '" & textbox2 & '"
rs.Open sqls, cnn.ConnectionString, adOpenStatic

 Dim z As Integer
z = 1
If rs.RecordCount > 0 Then
   rs.MoveFirst

  Do While Not rs.EOF
  Cells(z, 1).Value = rs.Fields(0).Value
          Cells(z, 2).Value = rs.Fields(1).Value
              z = z + 1
        End With
    rs.MoveNext
  Loop
  Else
  MsgBox "nothing found", vbCritical
End If
Set rs = Nothing
Set cnn = Nothing
End Sub 
```

我已将 TextBox1,2 的 ControlSourceProperty 设置为 sheet1!A1 和 B1。

CommandBut_Click 将读取文本框的值，然后用 SQL 覆盖它，它确实会更新 textbox1 和 2 的值。

# html - 工具提示在 IE 中无法正常显示？

> ID：10497197
> 
> 赞同：0
> 
> 时间：2012-05-08T10:51:20.340
> 
> 标签：html

我有以下代码。

```
<table>
    <tr>
        <td class="bgimg" valign="middle" width="10%" title="some title" nowrap>
            <img src="images/SomeLogo.gif"/>
        </td>
    </tr>
</table> 
```

如果我将鼠标指针放在图像上，则会显示工具提示“某个标题”。如果我快速移出徽标并返回并将指针放在徽标上，那么它也会显示。**我观察到工具提示不显示的唯一一次是将鼠标指针放在徽标上一段时间（大约 10 秒）然后工具提示会自动消失，如果我将鼠标指针放在徽标上，则不会再次显示工具提示。**如果我再次刷新浏览器，它会显示，但如果我将光标停留在徽标上几秒钟，那么同样的问题。但在 Firefox 中它运行良好。这里有什么问题？请帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T10:56:02.253

也将其设置为`img`：

```
<td class="bgimg" valign="middle" width="10%" title="some title" nowrap>
    <img src="images/SomeLogo.gif" title="some title" />
</td> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:01:18.957

有数十亿个 jQuery 插件可用于克服“工具提示”的限制`alt`和跨浏览器问题。`title`如果您已经在项目中使用 jquery，这可能是一个更好的解决方案。

这里有一些看起来很酷的例子：[30 个时尚的 jQuery 工具提示插件](http://1stwebdesigner.com/css/stylish-jquery-tooltip-plugins-webdesign/)

# git - git中的分离头

> ID：10497210
> 
> 赞同：1
> 
> 时间：2012-05-08T10:52:27.403
> 
> 标签：git

我在 git 中有一个超然的头脑。我没有兴趣进行任何提交或保存任何更改，我只想去我的分支的头部位置。我试过他的命令，但它不起作用：

```
 git checkout MyBranch 
```

有什么帮助吗？

- - 更新

当我尝试结帐时，我收到以下消息：

```
 $ git checkout -f master
 Switched to branch 'master'
 Your branch is behind 'origin/master' by 6 commits, and can be fast-forwarded. 
```

--- update 2 它说有一些变化，我怎样才能删除它们？

```
$ git merge origin/master
Updating fb5972a..28c2849
error: The following untracked working tree files would be overwritten by merge:
  ---
Please move or remove them before you can merge.
Aborting 
```

我怎样才能丢弃它们？

这些命令不起作用：

```
$ git checkout -- .

$ git stash save --keep-index
No local changes to save 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-08T11:02:39.600

这可能是因为您对分离的头部进行了更改。
尝试强制结帐，这将丢弃更改，正如您提到的那样，您不关心这些。

```
git checkout -f MyBranch 
```

从`git help checkout`手册页：

> ```
>  -f, --force
>       When switching branches, proceed even if the index or the working tree differs from HEAD. This is used to throw away local changes.
> 
>       When checking out paths from the index, do not fail upon unmerged entries; instead, unmerged entries are ignored. 
> ```

* * *

> 切换到分支'master'

所以，你现在在*master 分支*上。

> 您的分支落后于 'origin/master' 6 次提交，

这意味着远程主分支具有更新，并且您可能希望更新本地分支以匹配远程。您已经获取了 origin/master 分支，因此 git 知道您的本地分支位于远程分支之后。

> 并且可以快进。

这意味着远程分支对其进行了线性更改，并且在合并/更新本地分支时不会发生冲突。

要更新本地分支，只需将 origin/master 分支合并到它。

```
git merge origin/master 
```

* * *

> 错误：以下未跟踪的工作树文件将被合并覆盖：

这意味着您在本地有一些文件未被跟踪（从未被 git 添加和提交），新更改（合并）将添加到要监视和跟踪的文件的 git 列表中。因此，将要添加的新文件与 repo 上的本地未跟踪文件混杂在一起。

要解决此问题，请删除这些本地文件，或重命名它们，或将它们移动到另一个位置并尝试再次合并远程分支。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T17:11:39.467

你可以`stash`改变你的工作目录，相对于分离的头，干净，所以你应该能够签出你想要的分支。

一旦进入所需的分支，您就可以`stash pop`恢复这些更改。手册中有很多选项；-)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T17:46:17.190

做一个`git status`看看你是否改变了任何文件。然后`git checkout .`删除任何已更改的文件，然后您应该就可以`git checkout MyBranch`搞定了。

# javascript - 如何创建嵌套的 JSON 字符串

> ID：10497212
> 
> 赞同：-1
> 
> 时间：2012-05-08T10:52:47.763
> 
> 标签：javascript, jquery, html

我想基于 html 元素创建这个 JSON

```
 {
  "AppName": "ERP",
  "ModuleDesc": [
    {
      "Name": "Payroll",
      "AcCESSRIGHTS": [
        {
          "Create": "Y",
          "Retrive": "Y",
          "Update": "Y",
          "Delete": "Y"
        }
      ]
    },
    {
      "Name": "Reports",
      "AcCESSRIGHTS": [
        {
          "Create": "Y",
          "Retrive": "N",
          "Update": "Y",
          "Delete": "N"
        }
      ]
    },
    {
      "Name": "Forms",
      "AcCESSRIGHTS": [
        {
          "Create": "Y",
          "Retrive": "Y",
          "Update": "N",
          "Delete": "N"
        }
      ]
    }
  ]
} 
```

我的 HTML 是 :=

```
 <table>
        <tr>
            <td style="width: 200px;">APPLICATION CATEGORY :</td>
            <td>
                <input id="Text1" maxlength="35" name="ONEICAPP" style="width: 400px; text-transform: uppercase"
                    type="text" value="INTERIOR SYSTEM" />
            </td>
        </tr>
    </table>
    <table>
        <tr>
            <td style="width: 400px;"> MODULE DESCRIPTION</td>
            <td style="width: 50px;"> CREATE</td>
            <td style="width: 50px;"> RETRIVE</td>
            <td style="width: 50px;"> UPDATE</td>
            <td style="width: 50px;"> DELETE</td>
        </tr>
        </table>
<div id="ModuleDescriptions">
    <table >
        <tr>
           <td style="width: 400px;">
             <input id="ModuleName1" maxlength="35" style="width: 400px; text-transform: uppercase" type="text" value="ALL REPORTS" />
           </td><td>
           <table ><tr>
                 <td style="width: 50px;"><input id="CRT-1" type="checkbox" name="ModuleName1" value="C" />
            </td>
            <td style="width: 50px;"><input id="RTV-1" type="checkbox" name="ModuleName1" value="R"/>
            </td>
            <td style="width: 50px;"><input id="UPD-1" type="checkbox" name="ModuleName1" value="U" />
            </td>
            <td style="width: 50px;"><input id="DLT-1" type="checkbox" name="ModuleName1" value="D" />
            </td></tr></table></td>
        </tr>
        <tr>
           <td style="width: 400px;">
             <input id="ModuleName2" maxlength="35" style="width: 400px; text-transform: uppercase" type="text" value="CREATE MASTER" />
           </td><td><table><tr><td style="width: 50px;"><input id="CRT-2" class="Rights" type="checkbox" name="ModuleName2" value="C" />
            </td>
            <td style="width: 50px;"><input id="RTV-2" class="Rights" type="checkbox" name="ModuleName2" value="R"/>
            </td>
            <td style="width: 50px;"><input id="UPD-2" class="Rights" type="checkbox" name="ModuleName2" value="U" />
            </td>
            <td style="width: 50px;"><input id="DLT-2" class="Rights" type="checkbox" name="ModuleName2" value="D" />
            </td> </tr></table></td>
        </tr>
        <tr>
           <td style="width: 400px;">
             <input id="ModuleName3" maxlength="35" style="width: 400px; text-transform: uppercase" type="text" value="PROCESS" />
           </td><td><table><tr><td style="width: 50px;"><input id="CRT-3" class="Rights" type="checkbox" name="ModuleName3" value="C" />
            </td>
            <td style="width: 50px;"><input id="RTV-3" class="Rights" type="checkbox" name="ModuleName3" value="R"/>
            </td>
            <td style="width: 50px;"><input id="UPD-3" class="Rights" type="checkbox" name="ModuleName3" value="U" />
            </td>
            <td style="width: 50px;"><input id="DLT-3" class="Rights" type="checkbox" name="ModuleName3" value="D" />
            </td>
         </tr></table></td>
        </tr>
    </table> 
```

输入 ID 和相应的访问权限（复选框）名称相同我可以使用 Jquery .each 循环和动态构建 json 字符串吗？或任何其他方式..请帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-20T06:41:32.823

经过大量谷歌搜索后，我按照以下方式进行了操作，可能会对某些人有所帮助

```
 data = "{'REQTYPE':'" + Req_Type + "', 'APPNAME':'" + $('[id$=hfONEICAPPLabel]').val() + "', "
        + "'MODULEDESC': [";

                $('input[id*=ModuleName]').each(function () {
                    j++;
                    CompareName = $(this).attr('id');
                    data = data + "{'Name':'" + $(this).val() + "', "
        + "'ACCESSRIGHTS': [{";
                    $("input[name='" + CompareName + "']").each(function () {
                        if ($(this).is(':checked')) {
                            if ($(this).attr('id').substring(0, 3) === "CRT") {
                                data = data + "'Create':'Y',";
                            }
                            else if ($(this).attr('id').substring(0, 3) === "RTV") {
                                data = data + "'Retrive':'Y',";
                            }
                            else if ($(this).attr('id').substring(0, 3) === "UPD") {
                                data = data + "'Update':'Y',";
                            }
                            else if ($(this).attr('id').substring(0, 3) === "DLT") {
                                data = data + "'Delete':'Y'";
                            }
                        }
                        else {
                            if ($(this).attr('id').substring(0, 3) === "CRT") {
                                data = data + "'Create':'N',";
                            }
                            else if ($(this).attr('id').substring(0, 3) === "RTV") {
                                data = data + "'Retrive':'N',";
                            }
                            else if ($(this).attr('id').substring(0, 3) === "UPD") {
                                data = data + "'Update':'N',";
                            }
                            else if ($(this).attr('id').substring(0, 3) === "DLT") {
                                data = data + "'Delete':'N'";
                            }
                        }
                    });
                    if (i == j)
                        data = data + "}]}";
                    else
                        data = data + "}]},";
                });
                data = data + "]}"; 
```

# java - 对类中创建的多个选项卡（来自 jtabbedpane）执行一项操作

> ID：10497215
> 
> 赞同：1
> 
> 时间：2012-05-08T10:53:01.587
> 
> 标签：java, swing, tabs

我创建了一个 gui，这个 gui 使用一个 jtabbed 窗格。我有一个包含每个选项卡名称的数组。我用

```
for (String locale : langList){
    LocaleTab tab = new LocaleTab();
    tab.buildTab(locale);
    localeTabs.add(locale, tab.getTabPanel());
} 
```

在我的主类中创建选项卡。在每个选项卡上，我有一个 jtextarea 和一个 jtable 以及两个按钮，一个用于在该特定选项卡上运行操作，另一个用于清除该区域设置的表和 textarea 中的内容。这完美地工作。

我的问题是，我可以单独运行并清除每个选项卡上的所有内容，我不知道如何一次为所有选项卡执行此操作。我有一个主要的清除和运行按钮，按下该按钮将清除所有语言环境中的所有文本区域和表格数据，或一次在所有语言环境中运行操作。

我想我可以在动作监听器中为清除按钮执行以下操作：

```
for (String locale : langList){
    LocaleTab tab = new LocaleTab();
    tab.clearTab();
} 
```

但它没有用。我是否需要将对象选项卡传递给我的方法才能同时处理所有选项卡？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T11:02:17.457

您建议的解决方案不起作用，因为您`LocaleTab`在动作侦听器中创建了新对象。因此，您将清除`LocaleTab`UI 中不存在的实例选项卡（由于该变量的范围，一旦您离开该方法，这些实例将不再存在）。

相反，您的侦听器应该有权访问`LocaleTab`您最初创建的实例。

*笔记*

看到这段代码的小评论。为什么要同时为所有受支持的语言创建 UI。最终用户通常以一种语言使用应用程序，那么为什么需要额外的 UI。为什么不仅要为适当的语言创建 UI，从而绕过您当前面临的问题

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-08T12:16:02.903

@Robin (+1) 已经提到了您的代码不起作用的原因。

为了扩展@Robin的回答，我建议如下：

1.  创建一个方法，将要清除的选项卡作为其参数，将其命名为`clearTabs(List<LocaleTab> tabs)`.
2.  您可以存储对所有已创建选项卡的引用，例如在名为 eg 的全局变量（列表）中`tabs`。
3.  清除按钮上的动作监听器应该在`actionPerformed`方法中，调用清除方法，例如，如下所示。（我建议您切换到使用[Action](http://docs.oracle.com/javase/tutorial/uiswing/misc/action.html)而不是`ActionListener`）。

    ```
    Action clearAction = new AbstractAction("Clear Tabs"){
        @Override
        public void actionPerformed(ActionEvent e) {
            clearTabs(tabs);
        }
    }; 
    ```

**编辑**方法 的主体 `clearTabs`。

```
void clearTabs(List<LocaleTab> tabs){
   for (LocaleTab tab: tabs)
      tab.clearTab();
} 
```

# java - 尽管 Netbeans 添加了 Eclipselink 模块，但包 javax.persistence 不存在

> ID：10497224
> 
> 赞同：4
> 
> 时间：2012-05-08T10:53:42.617
> 
> 标签：java, jpa, netbeans, persistence, eclipselink

两部分问题：

第一部分：需要哪个 JAR？javax.persistence-2.0.0.jar 没有所需的类，特别是 javax.persistence.*？

![在此处输入图像描述](../Images/42e1655768075b48014a8ee033350222.png)

堆栈跟踪如下：

```
init:
deps-jar:
Created dir: /home/thufir/NetBeansProjects/JavaApplication12/build
Updating property file: /home/thufir/NetBeansProjects/JavaApplication12/build/built-jar.properties
Created dir: /home/thufir/NetBeansProjects/JavaApplication12/build/classes
Created dir: /home/thufir/NetBeansProjects/JavaApplication12/build/classes/META-INF
Copying 1 file to /home/thufir/NetBeansProjects/JavaApplication12/build/classes/META-INF
Created dir: /home/thufir/NetBeansProjects/JavaApplication12/build/empty
Created dir: /home/thufir/NetBeansProjects/JavaApplication12/build/generated-sources/ap-source-output
Compiling 2 source files to /home/thufir/NetBeansProjects/JavaApplication12/build/classes
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:8: error: package javax.persistence does not exist
import javax.persistence.*;
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:15: error: cannot find symbol
@Entity
  symbol: class Entity
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:16: error: cannot find symbol
@Table(name = "fud30_groups", catalog = "fudforum", schema = "")
  symbol: class Table
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:18: error: cannot find symbol
@NamedQueries({
  symbol: class NamedQueries
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:28: error: cannot find symbol
    @Id
  symbol:   class Id
  location: class Fud30Groups
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:29: error: cannot find symbol
    @GeneratedValue(strategy = GenerationType.IDENTITY)
  symbol:   class GeneratedValue
  location: class Fud30Groups
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:30: error: cannot find symbol
    @Basic(optional = false)
  symbol:   class Basic
  location: class Fud30Groups
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:31: error: cannot find symbol
    @Column(name = "id")
  symbol:   class Column
  location: class Fud30Groups
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:33: error: cannot find symbol
    @Basic(optional = false)
  symbol:   class Basic
  location: class Fud30Groups
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:34: error: cannot find symbol
    @Column(name = "name")
  symbol:   class Column
  location: class Fud30Groups
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:36: error: cannot find symbol
    @Basic(optional = false)
  symbol:   class Basic
  location: class Fud30Groups
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:37: error: cannot find symbol
    @Column(name = "inherit_id")
  symbol:   class Column
  location: class Fud30Groups
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:39: error: cannot find symbol
    @Basic(optional = false)
  symbol:   class Basic
  location: class Fud30Groups
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:40: error: cannot find symbol
    @Column(name = "forum_id")
  symbol:   class Column
  location: class Fud30Groups
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:42: error: cannot find symbol
    @Basic(optional = false)
  symbol:   class Basic
  location: class Fud30Groups
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:43: error: cannot find symbol
    @Column(name = "groups_opt")
  symbol:   class Column
  location: class Fud30Groups
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:45: error: cannot find symbol
    @Basic(optional = false)
  symbol:   class Basic
  location: class Fud30Groups
/home/thufir/NetBeansProjects/JavaApplication12/src/javaapplication12/Fud30Groups.java:46: error: cannot find symbol
    @Column(name = "groups_opti")
  symbol:   class Column
  location: class Fud30Groups
18 errors
/home/thufir/NetBeansProjects/JavaApplication12/nbproject/build-impl.xml:605: The following error occurred while executing this line:
/home/thufir/NetBeansProjects/JavaApplication12/nbproject/build-impl.xml:246: Compile failed; see the compiler error output for details.
BUILD FAILED (total time: 0 seconds) 
```

问题的第二部分是，Netbeans（可能）有什么问题？直到昨天，当从现有数据库生成 @Entity 类时，IDE 似乎会自动将所需的类添加到类路径中。在这种特殊情况下，Netbeans 确实添加了 JAR。

但是，因为它们是从外部添加到项目中的，所以没有 lib 文件夹。不幸的是，我还不够熟悉，无法真正深入了解 build.xml 以了解发生了什么，但从库管理器看来，它们是这样的：

```
thufir@dur:~$ tree netbeans-7.1.1/java/modules/ext/eclipselink/
netbeans-7.1.1/java/modules/ext/eclipselink/
├── eclipselink-2.3.0.jar
├── eclipselink-jpa-modelgen-2.3.0.jar
├── javax.persistence-2.0.jar
└── org.eclipse.persistence.jpa.jpql_1.0.0.jar

0 directories, 4 files
thufir@dur:~$ 
```

它似乎不符合我的回忆，过去需要额外的步骤，下载缺少的 JAR。Netbeans 中的设置是否错误或损坏？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-05-08T12:27:38.780

幸运数字 13，Netbeans 项目 13，与 Netbeans 项目 12 尽可能相同，构建良好（嗯，不太好，但确实构建）：

清理和构建：

```
init:
deps-clean:
Updating property file: /home/thufir/NetBeansProjects/JavaApplication13/build/built-clean.properties
Deleting directory /home/thufir/NetBeansProjects/JavaApplication13/build
clean:
init:
deps-jar:
Created dir: /home/thufir/NetBeansProjects/JavaApplication13/build
Updating property file: /home/thufir/NetBeansProjects/JavaApplication13/build/built-jar.properties
Created dir: /home/thufir/NetBeansProjects/JavaApplication13/build/classes
Created dir: /home/thufir/NetBeansProjects/JavaApplication13/build/classes/META-INF
Copying 1 file to /home/thufir/NetBeansProjects/JavaApplication13/build/classes/META-INF
Created dir: /home/thufir/NetBeansProjects/JavaApplication13/build/empty
Created dir: /home/thufir/NetBeansProjects/JavaApplication13/build/generated-sources/ap-source-output
Compiling 2 source files to /home/thufir/NetBeansProjects/JavaApplication13/build/classes
warning: Supported source version 'RELEASE_6' from annotation processor 'org.eclipse.persistence.internal.jpa.modelgen.CanonicalModelProcessor' less than -source '1.7'
Note: Creating non-static metadata factory ...
Note: Found Option : eclipselink.canonicalmodel.use_static_factory, with value: false
Note: Optional file was not found: META-INF/orm.xml continuing with generation.
Note: Optional file was not found: META-INF/eclipselink-orm.xml continuing with generation.
Note: Found Option : eclipselink.canonicalmodel.use_static_factory, with value: false
Note: Optional file was not found: META-INF/orm.xml continuing with generation.
Note: Optional file was not found: META-INF/eclipselink-orm.xml continuing with generation.
warning: The following options were not recognized by any processor: '[eclipselink.canonicalmodel.use_static_factory]'
1 warning
Copying 2 files to /home/thufir/NetBeansProjects/JavaApplication13/build/classes
compile:
BUILD SUCCESSFUL (total time: 6 seconds) 
```

两个项目：

```
thufir@dur:~/NetBeansProjects$ 
thufir@dur:~/NetBeansProjects$ tree JavaApplication12
JavaApplication12
├── build
│   ├── built-jar.properties
│   ├── classes
│   │   └── META-INF
│   │       └── persistence.xml
│   ├── empty
│   └── generated-sources
│       └── ap-source-output
├── build.xml
├── manifest.mf
├── nbproject
│   ├── build-impl.xml
│   ├── genfiles.properties
│   ├── private
│   │   └── private.properties
│   ├── project.properties
│   └── project.xml
└── src
    ├── javaapplication12
    │   ├── Fud30Groups.java
    │   └── JavaApplication12.java
    └── META-INF
        └── persistence.xml

11 directories, 12 files
thufir@dur:~/NetBeansProjects$ 
thufir@dur:~/NetBeansProjects$ tree JavaApplication13
JavaApplication13
├── build
│   ├── built-jar.properties
│   ├── classes
│   │   ├── javaapplication13
│   │   │   ├── Fud30Groups_.class
│   │   │   ├── Fud30Groups.class
│   │   │   ├── Fud30Groups.java
│   │   │   ├── JavaApplication13.class
│   │   │   └── JavaApplication13.java
│   │   └── META-INF
│   │       └── persistence.xml
│   ├── empty
│   └── generated-sources
│       └── ap-source-output
│           └── javaapplication13
│               └── Fud30Groups_.java
├── build.xml
├── lib
│   ├── CopyLibs
│   │   └── org-netbeans-modules-java-j2seproject-copylibstask.jar
│   ├── eclipselink
│   │   ├── eclipselink-2.3.0.jar
│   │   ├── javax.persistence-2.0.jar
│   │   └── org.eclipse.persistence.jpa.jpql_1.0.0.jar
│   ├── eclipselinkmodelgen
│   │   └── eclipselink-jpa-modelgen-2.3.0.jar
│   └── nblibraries.properties
├── manifest.mf
├── nbproject
│   ├── build-impl.xml
│   ├── genfiles.properties
│   ├── private
│   │   ├── config.properties
│   │   └── private.properties
│   ├── project.properties
│   └── project.xml
└── src
    ├── javaapplication13
    │   ├── Fud30Groups.java
    │   └── JavaApplication13.java
    └── META-INF
        └── persistence.xml

17 directories, 25 files
thufir@dur:~/NetBeansProjects$ 
```

区别显然是项目 13 有一个 ./lib 文件夹，而项目 12 使用的是“外部”JAR。

也许我的 Netbeans 安装已损坏，或者设置错误，或者我对项目 12 的方法有误？我想用外部 JAR 来做，就像项目 12 所做的那样，因为各种特性，比如库管理器，工作得更好。

# ruby-on-rails - 记住使用 OmniAuth 登录

> ID：10497231
> 
> 赞同：0
> 
> 时间：2012-05-08T10:54:18.870
> 
> 标签：ruby-on-rails, ruby, facebook, login, omniauth

是否有一种简单的方法可以使用 OmniAuth 实现“记住我”功能？我正在使用 Facebook、Identity 和 LinkedIn，并且正在寻找一种方法来让用户跨会话保持登录到我的网站。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T14:49:57.280

基本上，您在客户端上设置了另一个 cookie，该 cookie 保留了用户 ID。然后在后续访问中使用该用户 ID 让用户登录（或至少识别他们）。请记住 Omniauth 只是进行身份验证，而不是会话管理，因此您需要在 Omniauth 之外执行此操作。

看看 gareth-simpson 对这个问题的回答：[在 Rails 应用程序中实现“记住我”](https://stackoverflow.com/questions/438/implementation-of-remember-me-in-a-rails-application)

# windows-phone-7 - WP7：EntitySet 加载。一对多关系 - 复合主键案例

> ID：10497234
> 
> 赞同：3
> 
> 时间：2012-05-08T10:54:30.840
> 
> 标签：windows-phone-7, database-design, relational-database, windows-phone-7.1, entity-relationship

我正在为 Windows Phone 创建应用程序并遇到与数据库处理相关的问题。设计的数据库的一部分（大约）看起来像：两个表 USER { ID } - ID 是一个主键 ACCOUNT {ID, OWNERID, BALANCE} - ID 和 OWNERID - 是一个复合主键，这意味着用户帐户的 ID 是仅在用户范围内唯一。

最后一个表中的复合主键是打算使用的，因为 account.ID 应该是由用户定义的，并且多个用户定义具有相同标识的帐户的可能性很大。

所以在 C# 中它看起来像下一个：

```
[Table]
public class User
{
    [Column(IsVersion = true)]
    private Binary _version;

    public User()
    {
        _accountsRef = new EntitySet<Account>(OnAccountAdded, OnAccountRemoved);
    }

    private string _id;
    [Column(IsPrimaryKey = true, IsDbGenerated = false, CanBeNull = false, Storage = "_id")]
    public string ID { 
        get { return _id; } 
        set
        {
            if(string.Equals(value, ID, StringComparison.InvariantCultureIgnoreCase))
                return;
            RaisePropertyChanging("ID");
            _id = value;
            RaisePropertyChanged("ID");
        } 
    }

    private EntitySet<Account> _accountsRef;

    public EntitySet<Account> Accounts
    {
        get { return _accountsRef; }
    } 

    private void OnAccountAdded(Account account)
    {
        account.Owner = this;
    }

    private void OnAccountRemoved(Account account)
    {
        account.Owner = null;
    }

    ....
}

[Table]
public class Account : PropertyChangingNotificator
{
    [Column(IsVersion = true)]
    private Binary _version;

    private string _ownerId;
    [Column(IsPrimaryKey = true, CanBeNull = false)]
    public string OWNER_ID
    {
        get { return _ownerId; } 
        set
        {
            if (value == OWNER_ID)
                return;
            RaisePropertyChanging("OWNER_ID");
            _ownerId = value;
            RaisePropertyChanged("OWNER_ID");
        }
    }

    private EntityRef<User> _ownerRef;
    [Association(Name = "FK_USER_ACCOUNTS", ThisKey = "OWNER_ID", OtherKey = "ID", Storage = "_ownerRef", IsForeignKey = true)]
    public User Owner { 
        get { return _ownerRef.Entity; }
        set 
        { 
            User previousValue = _ownerRef.Entity;
            if(previousValue==value)// && !_ownerRef.HasLoadedOrAssignedValue)
            {
                return;
            }
            if(previousValue!=null)
            {
                _ownerRef.Entity = null;
                previousValue.Accounts.Remove(this);
            }
            RaisePropertyChanging("Owner");
            _ownerRef.Entity = value;
            if(value!=null)
            {
                value.Accounts.Add(this);
                OWNER_ID = value.ID;
            }
            else
            {
                OWNER_ID = string.Empty;
            }
            RaisePropertyChanged("Owner");
        }
    }
} 
```

这是询问具有给定ID的用户帐户的查询：

```
var accounts = from a in dataContext.Accounts
               where a.OWNER_ID == userName
               select a;
List<Account> accoutsList = accounts.ToList(); 
```

结果，我得到了正确的帐户列表，其中每个项目都具有适当的用户对象作为所有者属性。

但如果我试图从 datacontext 中获取用户对象，如下所示：

```
var user = (from u in dataContext.Users
              where u.ID.ToUpper() == userName.ToUpper()
              select u).
                        SingleOrDefault();

property user.Accounts has EntitySet without loaded values (also even after call user.Accounts.Load();) 
```

在调试监视帐户实体集具有下一个属性值：

```
 HasAssignedValues         == false;
   HasLoadedOrAssignedValues == false;
   HasLoadedValues           == false;
   HasSource                 == false;
   HasValues                 == true;
   IsDeffered                == false;
   IsLoaded                  == false; 
```

由于此处的内容：**[Windows Phone Mango Local Database(SQL CE): [Association] 属性](http://www.windowsphonegeek.com/tips/Windows-Phone-Mango-Local-Database-SQL-CE--Association-attribute)** 我还必须使用**[Association(Name = "FK_USER_ACCOUNTS")]**属性标记 Accounts 属性，以让 datacontext 知道它与关联**FK_USER_ACCOUNTS有关.** 但是如果我在这个关联中设置 ThisKey = " **ID** ", OtherKey = " **OWNER_ID** " - 我在数据库创建过程中遇到一个异常，这表明整个主键（**ACCOUNT.ID 和 ACCOUNT.OWNERID**）应该是关联的一部分，但不仅是主键的一部分（即 ACCOUNT.ID）。如果可以在用户端添加这样的关联——我想，问题就解决了。

你们中的任何人都可以建议如何使用已加载的 Accounts 实体集获取用户实体吗？提前致谢。德米特罗。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-21T19:47:03.240

Try to use .Include(). Like:

```
var user = (from u in dataContext.Users.Include("Accounts")
          where u.ID.ToUpper() == userName.ToUpper()
          select u).
                    SingleOrDefault(); 
```

# bash - 在 bash 中生成随机字符

> ID：10497236
> 
> 赞同：2
> 
> 时间：2012-05-08T10:54:39.090
> 
> 标签：bash, shell

我需要生成一个巨大的文本。

我正在使用 bash ，我想将整数转换`65`为 char `A`。所以我在`0`and之间使用随机值`255`（我需要所有 ASCII 表），转换为 char 并使用`>>`. 但我不能`bash`将整数解释为字符。就像`printf("%c", 65)`在 C++ 中一样。但是如果我在 bash 中尝试这个，它会返回 6。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-08T11:16:14.697

如果你需要生成一个巨大的随机字节序列，为什么不使用[/dev/urandom](http://en.wikipedia.org/wiki//dev/random)呢？

```
$ RANDOM=$( dd if=/dev/urandom bs=1024 count=1|base64 )
1+0 records in
1+0 records out
1024 bytes (1.0 kB) copied, 0.00056872 s, 1.8 MB/s
$ echo $RANDOM
r553ONKlLkU3RvMp753OxHjGDd6LiL1qSdUWJqImggHlXiZjjUuGQvbSBfjqXxlM6sSwQh29y484
KDgg/6XP31Egqwo7GCBWxbEIfABPQyy48mciljUpQLycZIeFc/bRif0aXpc3tl5Jer/W45H7VAng
[...] 
```

我通过管道输出以`base64`避免可能混淆终端的控制字符。

```
$ RANDOM=$( dd if=/dev/urandom bs=1024 count=1 ) 
```

或者

```
$ dd if=/dev/urandom of=outputfile bs=1024 count=1 
```

将创建一个包含 1kB 随机数据的文件。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-08T17:08:21.847

你需要像这样链接它

```
printf \\$(printf '%03o' $((65))) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-08T10:57:33.793

试试这个：

[如何将 ASCII 字符转换为其十进制（或十六进制）值并返回？](http://mywiki.wooledge.org/BashFAQ/071)

# android - 仍然对上下文感到困惑

> ID：10497244
> 
> 赞同：5
> 
> 时间：2012-05-08T10:55:20.973
> 
> 标签：android, android-context

我是安卓新手...

我不得不面对`context`有时让我感到困惑的课堂的最大时间。在它使用`context`的某个地方，它被 `getApplicationContext()`, `getContext()`,调用的某个地方`getBaseContext()`。

[我试图从这个网站http://www.developer.android.com/](http://www.developer.android.com/)让我了解它 ，但很难理解。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:25:02.773

在 Android 上，上下文用于许多操作，但主要用于加载和访问资源。这就是所有小部件在其构造函数中接收 Context 参数的原因。在一个普通的Android应用中，你通常有两种Context，Activity和Application。它通常是开发人员传递给需要 Context 的类和方法的第一个：

您可以通过调用 getApplicationContext()、getContext()、getBaseContext() 或 this（在活动类中时）来获取上下文。

上下文的典型用法：

1.  **创建新对象：创建新视图、适配器、监听器：**

    TextView tv = new TextView(getContext()); ListAdapter 适配器 = new SimpleCursorAdapter(getApplicationContext(), ...);

2.  **访问标准公共资源：LAYOUT_INFLATER_SERVICE、SharedPreferences 等服务：**

    context.getSystemService(LAYOUT_INFLATER_SERVICE)
    getApplicationContext().getSharedPreferences( *name* , *mode* );

3.  **隐式访问组件：关于内容提供者、广播、意图**

    getApplicationContext().getContentResolver().query(uri, ...);

使用上下文时必须小心，因为维护它会导致内存泄漏

总之，要避免与上下文相关的内存泄漏，请记住以下几点：

1.  *不要保留对上下文活动的长期引用（对活动的引用应该与活动本身具有相同的生命周期）*
2.  *尝试使用上下文应用程序而不是上下文活动*
3.  *如果您不控制它们的生命周期，请避免在活动中使用非静态内部类，使用静态内部类并对内部活动进行弱引用。这个问题的解决方案是使用一个静态内部类和一个对外部类的弱引用，例如在 ViewRoot 和它的 W 内部类中所做的那样*
4.  *垃圾收集器不是防止内存泄漏的保险*

# android - 使用phonegap的android签名捕获

> ID：10497245
> 
> 赞同：7
> 
> 时间：2012-05-08T10:55:26.390
> 
> 标签：android, cordova, signature

我想使用phonegap在android中执行一个应用程序，它捕获用户输入的签名并对其进行快照并存储，然后在他们下次登录时将签名与存储的签名进行比较，如果匹配则打开应用程序。任何人都可以帮忙我通过一些好的链接或示例来实现这一点？一些工作示例将非常有用。谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T13:28:49.000

我知道一位开发人员正在使用Binary Solutions[的 Android 签名捕获](http://www.binarysolutions.biz/2010/12/signature-capture-for-android.html)来捕获他的 PhoneGap 应用程序中的签名。基本上，您需要通过意图调用签名捕获代码，您可以通过为 PhoneGap[创建 Android 插件来实现。](http://wiki.phonegap.com/w/page/36753494/How%20to%20Create%20a%20PhoneGap%20Plugin%20for%20Android)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-19T15:32:17.453

我在这个领域做了很多研究，因为我需要一个插件来做和你一样的事情。

我目前使用的插件是这样的： [http ://willowsystems.github.com/jSignature/#/about/](http://willowsystems.github.com/jSignature/#/about/)

就我而言，必须跨平台，因为我们不仅针对 Android，还针对 iOS 和 WP。您可以使用它将签名保存为图像和其他格式。

希望它对您有用，至少对于签名捕获而言，因为签名比较是完全不同的需求。

# javascript - 它有类似于mootools icarousel 的jquery carousel 吗？

> ID：10497248
> 
> 赞同：0
> 
> 时间：2012-05-08T10:55:38.963
> 
> 标签：javascript, jquery, mootools, carousel

我正在寻找类似于[http://zendold.lojcomm.com.br/icarousel/example6.asp](http://zendold.lojcomm.com.br/icarousel/example6.asp)的 jquery 插件。

我需要像示例那样的图像幻灯片的加速效果。

它是否存在类似的东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:14:30.030

您可以使用 jQuery UI 缓动：

[演示](http://jsbin.com/enaqot/2/edit)

jQuery：

```
var galW = 500; // SET HERE THE GALLERY WIDTH

var N = $('#slider img').length;

$('#thumbs img').on('click',function(){
  N = $(this).index();
  $('#slider').stop(1).animate({left: -galW*N},{duration:700, easing:'easeOutSine'});
});

// Easings:
/*
easeInQuad
easeOutQuad
easeInOutQuad
easeInCubic
easeOutCubic
easeInOutCubic
easeInQuart
easeOutQuart
easeInOutQuart
easeInSine
easeOutSine
easeInOutSine
easeInExpo
easeOutExpo
easeInOutExpo
easeInQuint
easeOutQuint
easeInOutQuint
easeInCirc
easeOutCirc
easeInOutCirc
easeInElastic
easeOutElastic
easeInOutElastic
easeInBack
easeOutBack
easeInOutBack
easeInBounce
easeOutBounce
easeInOutBounce
*/ 
```

如果您需要在同一页面上处理多个画廊，或者您只是觉得很酷，这里是插件 v。

## *[插件版本](http://jsbin.com/epajim/edit#javascript,html,live)*

（您可以自定义 easing、slide-time 和 start-slide- *N*）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:04:54.310

像这样[http://css-tricks.com/creating-a-slick-auto-playing-featured-content-slider/](http://css-tricks.com/creating-a-slick-auto-playing-featured-content-slider/)

演示[http://css-tricks.com/examples/FeaturedContentSlider/](http://css-tricks.com/examples/FeaturedContentSlider/)

希望这是你需要的。

# asp.net-mvc - htaccess 重写语法

> ID：10497249
> 
> 赞同：0
> 
> 时间：2012-05-08T10:55:51.793
> 
> 标签：asp.net-mvc, .htaccess, iis-7, .net-3.5

我想重定向任何以结尾的网址

`../Toolbar/Promote/Default.aspx`

到

`/distributionTools`

我试过了

`RewriteRule ^/Toolbar/Promote/Default.aspx$ /distributionTools [NC,L,R=301]`

但[http://htaccess.madewithlove.be/](http://htaccess.madewithlove.be/)显示这不起作用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:11:54.450

以下`RewriteRule`似乎可以满足您的要求：

`RewriteRule ^(.*)Toolbar/Promote/Default.aspx$ /distributionTools [NC,L,R=301]`

它匹配任何以 结尾`Toolbar/Promote/Default.aspx`并重定向到 的URI `distributionTools`。

请注意这`(.*)`很重要，如果没有它，它会将 foo.com/bar/baz/Toolsbar/Promote/Default.aspx 重定向到 foo.com **/** **bar/baz** /distributionTools`，这可能不是您所期望的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:02:58.447

如果您使用的是 .net 4.0，则可以在应用程序级别执行此操作，方法是在 .net 项目的路径中使用 Global.asax 文件。

如果尚不存在，只需将以下代码添加到其中：

```
void Application_Start(object sender, EventArgs e) 
{
   // This is the new URL ROuting option in .NET 4
    RegisterRoutes(System.Web.Routing.RouteTable.Routes);
}

void RegisterRoutes(System.Web.Routing.RouteCollection routes)
{
   routes.MapPageRoute("Distribution", "/distributionTools", "~/Toolbar/Promote/Default.aspx");
} 
```

我希望这有帮助！

# ruby-on-rails - 资产：预编译 rake 失败，出现从 ASCII-8BIT 到 UTF-8 的“\xC3”错误

> ID：10497251
> 
> 赞同：1
> 
> 时间：2012-05-08T10:55:59.753
> 
> 标签：ruby-on-rails, asset-pipeline

我在为生产预编译资产时遇到问题，该错误听起来像是某种编码问题，但我不知道如何找出导致错误的文件。

这是 rake 的输出：

[http://pastebin.com/254tq8j6](http://pastebin.com/254tq8j6)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:33:35.837

我解决了这个问题：它是一个带有非标准字符的资产文件名。但是我发现了一个艰难的方法，浏览了所有资产，直到找到了罪魁祸首。

但显然这个特殊错误表明文件名有问题，所以我希望这对将来的某人有用。

# sql-server-2008 - 如何在 SQL Server 中支持特殊字符？

> ID：10497256
> 
> 赞同：1
> 
> 时间：2012-05-08T10:56:11.100
> 
> 标签：sql-server-2008

我的 SQL Server 2008 表中有 5 列：

```
id INT
name VARCHAR(100)
user address VARCHAR(200)
phone_number VARCHAR(20)
email VARCHAR(50). 
```

但是我不知道为什么特殊字符没有在表格中输入。

有什么建议吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-08T10:56:53.810

使用 NVARCHAR 而不是 VARCHAR。

> SQL Server 提供两种数据类型来存储字符信息。在大多数情况下，这两种数据类型在您在 SQL Server 中或从应用程序中使用它们的方式上是相同的。不同之处在于 nvarchar 用于存储 unicode 数据，用于在您的数据库表中存储多语言数据。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-08T10:57:40.913

您是否尝试过**"nvarchar"**。将字段/字段更改为 nvarchar 而不是 varchar 您怀疑特殊字符会出现的地方。或将表格整理为 utf8_general_ci

# r - 是否有导出当前绘图的命令？

> ID：10497261
> 
> 赞同：17
> 
> 时间：2012-05-08T10:56:40.837
> 
> 标签：r, plot, ggplot2

我正在创建一大堆图表，并希望将生成的图表导出为 PDF。当然，可以在 rstudio 的“绘图”选项卡中单击“导出”并手动选择“将绘图另存为 PDF”，我不希望将每个部分都包含在`pdf()`/中`dev.off()`。

理想情况下，我想要一个函数，它将获取 RStudio 中当前显示的图并使用我想要的参数（格式/文件名/宽度/高度）保存它。

想法？

**更新**

根据@naught101 的建议 - 对于一个 5x7（英寸！）的 pdf 文件，该文件的大小可以方便地粘贴到 A4 Word 文档中，以下操作效果很好：

```
dev.copy2pdf(file="example.pdf", width = 7, height = 5) 
```

更好的是，作为具有默认尺寸的易于调用的函数：

```
dopdf <- function(filename = "dopdf.pdf", pdf.width = 7, pdf.height = 5) {
 dev.copy2pdf(file=filename, width = pdf.width, height = pdf.height)
} 
```

虽然 using`ggplot2`可以让我节省使用该`ggsave`功能，`dev.copy2pdf`但这是一个很好的通用解决方案（回答我原来的问题）。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-03T04:23:55.310

我想你正在寻找[`dev.copy2pdf`](http://stat.ethz.ch/R-manual/R-patched/library/grDevices/html/dev2.html). 这允许您将当前设备复制到 pdf，使用与[`pdf()`](http://stat.ethz.ch/R-manual/R-patched/library/grDevices/html/pdf.html). 对于基本绘图功能和 ggplot2（以及任何其他使用标准 grDevice 绘图设备的绘图库，从外观上看）同样适用。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-05-08T11:42:05.783

如果使用`ggplot2`，则可以使用该`ggsave`功能保存当前绘图。此功能允许您选择结果图（PDF、png 或其他）的宽度、高度等。不使用`ggplot2`时，该`savePlot`功能可用于获得类似的功能，尽管手册页建议它仅适用于 cairo`X11`设备。

# android - 水平滚动视图不缩放

> ID：10497266
> 
> 赞同：0
> 
> 时间：2012-05-08T10:56:57.490
> 
> 标签：android, horizontalscrollview, pinchzoom

我必须显示一些用户可以缩放的表格。该表被包裹在一个水平滚动视图中。我正在缩放包含此水平滚动视图的布局。当缩放为 1 时，我们可以完全水平滚动。但是当缩放比例大于 1 时，右侧的表格会被剪掉。我也在尝试缩放水平滚动视图。但这不是缩放。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T11:55:35.803

我认为您正在缩放布局的画布，而此画布实际上是显示的屏幕或可见的布局，它只会缩放该画布而不是实际视图 bcoz 您的水平滚动视图未缩放 bcoz 如果滚动视图将扩展它的内部视图扩展并且它的内部视图实际上没有缩放。如果我在哪里错了，请纠正我。谢谢

# java - 按最长公共子串对字符串进行分组

> ID：10497268
> 
> 赞同：1
> 
> 时间：2012-05-08T10:56:59.617
> 
> 标签：java, collections

我有一个集合，我想用谓词拆分它，谓词在结果集合上。

我想用普通字母的字符串分割这个列表。

```
"Inky", "Blinky", "Pinky", "Pinky", "Clyde" 
```

将导致：

*   Inky,Blinky,Pinky - 相同的墨水
*   Blinky,Clyde - 相同的 l

更好的是，结果将是地图： - 1=Blinky,Clyde - 4=Inky,Blinky,Pinky

关于常用字母的数量。

给出普通字母的谓词很简单，我有。问题是创建新集合。

我想我不清楚，我想根据谓词将集合划分为等价类。字符串就是一个例子。我猜是一个可怜的人。在每个等价类中，都会有对象回答：(a,b) 使得 f(a,b) < X。在我的问题中，X 表示 a,b 之间的距离，我想将图形除以附近的顶点。

# spring-mvc - 为 Spring Portlet 获取异常“无法启动服务 jboss.module.service”

> ID：10497273
> 
> 赞同：0
> 
> 时间：2012-05-08T10:57:26.790
> 
> 标签：spring-mvc, module, jboss7.x, liferay-6

谢谢你的时间

我们正在使用 liferay 6-jboss 7 的版本，这是在尝试避免在每个 spring mvc3 portlet war 中包含包含 spring jar 的 lib 文件夹时出现的错误异常。因为同一组 spring 依赖 jar 被添加到所有 portlet 并一直在部署，它实际上增加了负载。为了摆脱这个，在模块中创建了一个文件夹 [结构类似于 jboss/modules/com/spring/main/--jar 文件--] 并添加了所有公共库。

这是module.xml

```
<module xmlns="urn:jboss:module:1.0" name="com.spring">
  <resources>
    <resource-root path="org.springframework.aop-3.1.1.RELEASE.jar"/> 
    <resource-root path="org.springframework.asm-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.aspects-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.beans-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.context-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.context.support-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.core-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.expression-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.instrument-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.instrument.tomcat-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.jdbc-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.jms-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.orm-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.oxm-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.test-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.transaction-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.web-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.web.portlet-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.web.servlet-3.1.1.RELEASE.jar"/>
    <resource-root path="org.springframework.web.struts-3.1.1.RELEASE.jar"/>
    <resource-root path="standard.jar"/>
    <resource-root path="util-java.jar"/>
    <resource-root path="util-taglib.jar"/>
    <resource-root path="util-bridges.jar"/>
    <resource-root path="commons-logging.jar"/>
    <resource-root path="ext-oneprm-liferay-portal-ext-util-bridges.jar"/>
    <resource-root path="ext-oneprm-liferay-portal-ext-util-java.jar"/>
    <resource-root path="ext-oneprm-liferay-portal-ext-util-taglib.jar"/>

  </resources>

</module> 
```

* * *

和 portlet 中的 jboss-deployement-structure.xml

```
<?xml version="1.0"?>

<jboss-deployment-structure xmlns="urn:jboss:deployment-structure:1.0">
    <deployment>
        <dependencies>
            <module name="com.liferay.portal"></module>
            <module name="org.jboss.modules"></module>
        </dependencies>
    </deployment>
</jboss-deployment-structure> 
```

这是我们现在遇到的错误.. 我在 portlet 中是否还遗漏了任何要提及的内容？任何人都可以帮助我...提前谢谢！

```
20:38:41,812 INFO  [org.jboss.as.server.controller] (DeploymentScanner-threads - 1) Deployment of "sample-spring-template-portlet.war" was rolled back with failure message {"Failed services" => {"jboss.module.service.\"deployment.sample-spring-template-portlet.war\".main" => "org.jboss.msc.service.StartException in service jboss.module.service.\"deployment.sample-spring-template-portlet.war\".main: Failed to load module: deployment.sample-spring-template-portlet.war:main"}}
20:38:42,140 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) Stopped deployment sample-spring-template-portlet.war in 323ms
20:38:42,140 ERROR [org.jboss.as.deployment] (DeploymentScanner-threads - 2) {"Composite operation failed and was rolled back. Steps that failed:" => {"Operation step-2" => {"Failed services" => {"jboss.module.service.\"deployment.sample-spring-template-portlet.war\".main" => "org.jboss.msc.service.StartException in service jboss.module.service.\"deployment.sample-spring-template-portlet.war\".main: Failed to load module: deployment.sample-spring-template-portlet.war:main"}}}}
20:51:35,192 INFO  [stdout] (com.liferay.portal.kernel.deploy.auto.AutoDeployScanner) 20:51:35,192 INFO  [AutoDeployDir:167] Processing sample-spring-template-portlet-6.1.0.1.war
20:51:35,192 INFO  [stdout] (com.liferay.portal.kernel.deploy.auto.AutoDeployScanner) 20:51:35,192 INFO  [PortletAutoDeployListener:71] Copying portlets for C:\apps\Liferay\JBOSS\Liferay-6.1.0\deploy\sample-spring-template-portlet-6.1.0.1.war
20:51:35,567 INFO  [stdout] (com.liferay.portal.kernel.deploy.auto.AutoDeployScanner)   Expanding: C:\apps\Liferay\JBOSS\Liferay-6.1.0\deploy\sample-spring-template-portlet-6.1.0.1.war into C:\DOCUME~1\SESA23~1\LOCALS~1\Temp\20120507205135567
20:51:36,302 INFO  [stdout] (com.liferay.portal.kernel.deploy.auto.AutoDeployScanner)   Copying 1 file to C:\DOCUME~1\SESA23~1\LOCALS~1\Temp\20120507205135567\WEB-INF
20:51:36,958 INFO  [stdout] (com.liferay.portal.kernel.deploy.auto.AutoDeployScanner)   Copying 1 file to C:\DOCUME~1\SESA23~1\LOCALS~1\Temp\20120507205135567\WEB-INF\classes
20:51:36,958 INFO  [stdout] (com.liferay.portal.kernel.deploy.auto.AutoDeployScanner)   Copying 1 file to C:\DOCUME~1\SESA23~1\LOCALS~1\Temp\20120507205135567\WEB-INF\classes
20:51:37,552 INFO  [stdout] (com.liferay.portal.kernel.deploy.auto.AutoDeployScanner)   Copying 1 file to C:\DOCUME~1\SESA23~1\LOCALS~1\Temp\20120507205135567\WEB-INF\jsp
20:51:38,223 INFO  [stdout] (com.liferay.portal.kernel.deploy.auto.AutoDeployScanner)   Copying 16 files to C:\apps\Liferay\JBOSS\Liferay-6.1.0\jboss-7.0.2\standalone\deployments\sample-spring-template-portlet.war
20:51:38,411 INFO  [stdout] (com.liferay.portal.kernel.deploy.auto.AutoDeployScanner)   Copying 1 file to C:\apps\Liferay\JBOSS\Liferay-6.1.0\jboss-7.0.2\standalone\deployments\sample-spring-template-portlet.war
20:51:38,427 INFO  [stdout] (com.liferay.portal.kernel.deploy.auto.AutoDeployScanner)   Deleting directory C:\DOCUME~1\SESA23~1\LOCALS~1\Temp\20120507205135567
20:51:38,489 INFO  [stdout] (com.liferay.portal.kernel.deploy.auto.AutoDeployScanner) 20:51:38,489 INFO  [PortletAutoDeployListener:81] Portlets for C:\apps\Liferay\JBOSS\Liferay-6.1.0\deploy\sample-spring-template-portlet-6.1.0.1.war copied successfully. Deployment will start in a few seconds.
20:51:38,630 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) Starting deployment of "sample-spring-template-portlet.war"
20:51:39,192 INFO  [org.jboss.as.jpa] (MSC service thread 1-3) added javax.persistence.api dependency to sample-spring-template-portlet.war
20:51:39,677 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC00001: Failed to start service jboss.deployment.unit."sample-spring-template-portlet.war".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit."sample-spring-template-portlet.war".INSTALL: Failed to process phase INSTALL of deployment "sample-spring-template-portlet.war"
        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:121)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1824)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1759)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) [:1.7.0_03]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) [:1.7.0_03]
        at java.lang.Thread.run(Thread.java:722) [:1.7.0_03]
Caused by: java.lang.RuntimeException: Failed to load class org.springframework.web.servlet.ViewRendererServlet
        at org.jboss.as.ee.component.deployers.EEClassConfigurationProcessor$1.compute(EEClassConfigurationProcessor.java:141)
        at org.jboss.as.ee.component.deployers.EEClassConfigurationProcessor$1.compute(EEClassConfigurationProcessor.java:122)
        at org.jboss.as.ee.component.LazyValue.get(LazyValue.java:40)
        at org.jboss.as.ee.component.EEApplicationDescription.getClassConfiguration(EEApplicationDescription.java:183)
        at org.jboss.as.ee.component.ComponentDescription.createConfiguration(ComponentDescription.java:153)
        at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:70)
        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:115)
        ... 5 more
Caused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.ViewRendererServlet from [Module "deployment.sample-spring-template-portlet.war:main" from Service Module Loader]
        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:191)
        at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:361)
        at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:333)
        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:310)
        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:103)
        at java.lang.Class.forName0(Native Method) [:1.7.0_03]
        at java.lang.Class.forName(Class.java:264) [:1.7.0_03]
        at org.jboss.as.ee.component.deployers.EEClassConfigurationProcessor$1.compute(EEClassConfigurationProcessor.java:139)
        ... 11 more

20:51:39,958 INFO  [org.jboss.as.server.controller] (DeploymentScanner-threads - 1) Deployment of "sample-spring-template-portlet.war" was rolled back with failure message {"Failed services" => {"jboss.deployment.unit.\"sample-spring-template-portlet.war\".INSTALL" => "org.jboss.msc.service.StartException in service jboss.deployment.unit.\"sample-spring-template-portlet.war\".INSTALL: Failed to process phase INSTALL of deployment \"sample-spring-template-portlet.war\""},"Services with missing/unavailable dependencies" => ["jboss.naming.context.java.module.sample-spring-template-portlet.sample-spring-template-portlet.ValidatorFactory missing [ jboss.naming.context.java.module.sample-spring-template-portlet.sample-spring-template-portlet ]","jboss.naming.context.java.module.sample-spring-template-portlet.sample-spring-template-portlet.Validator missing [ jboss.naming.context.java.module.sample-spring-template-portlet.sample-spring-template-portlet ]"]}
20:51:40,349 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) Stopped deployment sample-spring-template-portlet.war in 398ms
20:51:40,364 ERROR [org.jboss.as.deployment] (DeploymentScanner-threads - 2) {"Composite operation failed and was rolled back. Steps that failed:" => {"Operation step-2" => {"Failed services" => {"jboss.deployment.unit.\"sample-spring-template-portlet.war\".INSTALL" => "org.jboss.msc.service.StartException in service jboss.deployment.unit.\"sample-spring-template-portlet.war\".INSTALL: Failed to process phase INSTALL of deployment \"sample-spring-template-portlet.war\""},"Services with missing/unavailable dependencies" => ["jboss.naming.context.java.module.sample-spring-template-portlet.sample-spring-template-portlet.ValidatorFactory missing [ jboss.naming.context.java.module.sample-spring-template-portlet.sample-spring-template-portlet ]","jboss.naming.context.java.module.sample-spring-template-portlet.sample-spring-template-portlet.Validator missing [ jboss.naming.context.java.module.sample-spring-template-portlet.sample-spring-template-portlet ]"]}}} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T16:57:00.013

你的`jboss-deployment-structure.xml`我认为不正确。尝试删除您拥有的两个模块并为`com.spring`.

```
<?xml version="1.0"?>

<jboss-deployment-structure xmlns="urn:jboss:deployment-structure:1.0">
    <deployment>
        <dependencies>
            <module name="com.spring"/>
        </dependencies>
    </deployment>
</jboss-deployment-structure> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-07T10:11:00.573

删除这两个模块名称

```
<module name="com.liferay.portal"></module>
<module name="org.jboss.modules"></module> 
```

...并替换为

```
<module name="com.spring"/> 
```

# jakarta-ee - 在我的 webApp 中使用来自 jar 的源文件

> ID：10497277
> 
> 赞同：1
> 
> 时间：2012-05-08T10:57:41.407
> 
> 标签：jakarta-ee, jar

我需要我的 webapp 来使用我生成的 jar 中的类文件，而不是目录 /classes。
如果我将我的 jar 添加到 lib 目录，我的应用程序是否会运行而无需向我的 web.xml 添加映射？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:00:16.980

源代码适用于人类，而不是 webapps。您需要编译这些类，将它们打包成一个 jar 文件并将其放入`WEB-INF/lib`.

**编辑：**

如果您将 jar 文件放在`WEB-INF/lib`目录中，webapp 将自动拾取它。无需向`web.xml`.

# java - 如何使用 Struts2 禁用后退按钮

> ID：10497281
> 
> 赞同：2
> 
> 时间：2012-05-08T10:58:05.303
> 
> 标签：java, struts2

我正在使用`struts.serve.static=true`and `struts.serve.static.browserCache=false`，但即使在注销后后退按钮也可以使用。当我单击后退按钮时，它将转到上一个屏幕。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:45:35.203

S2 将使用上述常量告诉浏览器是否需要缓存静态内容。

```
struts.serve.static=true 
```

以上属性由`FilterDispatcher`

*   如果为 true，则 Struts 从其 jar 中提供静态内容。
*   如果为 false，则静态内容必须在 /struts 中可用

也`struts.serve.static.browserCache=true`被使用`FilterDispatcher`并且仅在`struts.serve.static=true`.

*   如果为 true -> Struts 将写出静态内容的标头，这样它们将被 Web 浏览器缓存（使用 Date、Cache-Content、Pragma、Expires 标头）。
*   如果为 false -> Struts 将写出静态内容的标头，这样它们就不会被 Web 浏览器缓存（使用 Cache-Content、Pragma、Expires 标头）简而言之，这两个常量都是告诉浏览器是否需要缓存的一种方式静态内容是否由 S2 提供。

关于浏览器后退按钮，我们不能禁用浏览器后退按钮作为浏览器 API 的一部分，并且当您点击后退按钮时，浏览器会从其缓存中提供内容而无需访问服务器。

您可以通过使用缓存控制标头来要求浏览器不要缓存内容，但浏览器是否尊重它们。在您的 JSP 中使用以下代码

```
response.setHeader("Pragma", "no-cache");
response.setHeader("Cache-Control", "no-cache");
response.setHeader("Expires", "0"); 
```

或者，您可以创建一个拦截器并使用所需的操作对其进行配置，以便可以设置标头。请通过以下线程了解有关如何控制 S2 中的缓存的更多详细信息

*   [Struts2 中的处理浏览器后退前进按钮](http://struts.1045723.n5.nabble.com/Handling-Browser-Back-Forward-Button-in-Struts2-td3491225.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T19:52:07.183

创建自定义拦截器以将标头添加到每个 JSP`response`比添加`response.setHeader`到每个 jsp 更简单（如果您使用的是 Struts2）。

请检查[此链接](http://nickcoblentz.blogspot.in/2008/10/http-caching-headers-in-struts-2.html)以获取可以正常工作的漂亮示例。

# javascript - 使用嵌套内容对 div 进行排序

> ID：10497282
> 
> 赞同：2
> 
> 时间：2012-05-08T10:58:11.123
> 
> 标签：javascript, jquery, sorting, html

在我的应用程序中，我动态地将图像并排呈现给客户端。作为用户，可以给图像打分，我希望可以通过单击按钮对图像进行排序，首先按最高点降序排列。

我在 Stack 上看到了一些关于排序 div 的示例，但在我的示例中，图像应该排序的内容位于一些嵌套的 div 内（见下文）。什么是根据这个参数（点）对图像进行排序的好方法，有什么想法吗？

```
<div class="image">
    <div class="post">
        // other code here
            <img src="img/image1.png" />
        <div class="postDesc">
            // other code here
            <p class="postDescContent">Points: 20</p>
        </div
    </div>
</div>

<div class="image">
    <div class="post">
        // other code here
            <img src="img/image2.png" />
        <div class="postDesc">
            // other code here
            <p class="postDescContent">Points: 10</p>
        </div
    </div>
</div>

// and so on... 
```

编辑：我看到你们中的许多人已经指出我对两个图像使用相同的 id 的事实。我的错，我知道这一点，我只是在创建我的例子时忘记了它。它现在改为类。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T11:09:47.177

**注意：** ***注意避免 id 重复***

**HTML**

```
<div id="container">
<div id="image1">
    <div class="post">
            <img src="img/image1.png" />
        <div class="postDesc">
            <p class="postDescContent">Points: 20</p>
        </div>
    </div>
</div>

<div id="image3">
    <div class="post">
            <img src="img/image2.png" />
        <div class="postDesc">
            <p class="postDescContent">Points: 30</p>
        </div>
    </div>
</div>

<div id="image2">
    <div class="post">
            <img src="img/image2.png" />
        <div class="postDesc">
            <p class="postDescContent">Points: 10</p>
        </div>
    </div>
</div>
</div> 
```

**jQuery：**

```
var contents = $('div#container div[id^="image"]');
contents.sort(function(a, b) {
    var p1= parseInt($('p.postDescContent', $(a)).text().replace(/Points: /,'').trim()),
        p2 = parseInt($('p.postDescContent', $(b)).text().replace(/Points: /,'').trim());
       return p2  - p1;
});

$('#container').empty().append(contents); 
```

**[演示](http://jsfiddle.net/3bXH9/1/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:03:14.640

排序算法与其他排序方法没有区别。他们每个人都需要从 DOM 元素中提取要排序的值，您只需要更改该提取功能。在您的情况下，它将类似于

```
parseInt($element.find(".postDescContent").text().replace(/Points: /,"")); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-08T11:04:23.033

[除了相关讨论之外，此处](https://stackoverflow.com/a/1604046/1372494)和[此处](https://stackoverflow.com/a/929607/1372494)的这两个答案可能会让您特别感兴趣。

# xml - XSL 值检测 URL 中的字符串

> ID：10497283
> 
> 赞同：2
> 
> 时间：2012-05-08T10:58:11.473
> 
> 标签：xml, string, url, xslt

我有一个多语言网站，其 url 结构如下：`www.mysite/en/home.htm`或`www.mysite/es/home.htm`（对于英语和西班牙语版本）。

在这个 home.htm 中，我有一个来自 xml 文件的表数据。此表的标头 ,`<th>`位于 xsl 文件中。

我想根据我`/es/`在 URL 中检测到的语言动态地更改这些值。

*   如果 URL = www.mysite/en/home.htm 那么
*   描述
*   游戏类型
*   ……

*   如果 URL = www.mysite/es/home.htm 比

*   描述
*   游戏提示
*   ……

有谁能够帮我？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T12:23:50.637

**This transformation**:

```
<xsl:stylesheet version="1.0"
 xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
 xmlns:my="my:my" exclude-result-prefixes="my">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:param name="pUrl" select="'www.mysite/es/home.htm '"/>

 <my:headings>
  <h lang="en">
    <description>Description</description>
    <gameType>Game Type</gameType>
  </h>
  <h lang="es">
    <description>Descripción</description>
    <gameType>Tipo De Juego</gameType>
  </h>
 </my:headings>

 <xsl:variable name="vHeadings" select="document('')/*/my:headings/*"/>

 <xsl:template match="/">

  <xsl:variable name="vLang" select=
    "substring-before(substring-after($pUrl, '/'), '/')"/>

     <table>
       <thead>
         <td><xsl:value-of select="$vHeadings[@lang=$vLang]/description"/></td>
         <td><xsl:value-of select="$vHeadings[@lang=$vLang]/gameType"/></td>
       </thead>
     </table>
 </xsl:template>
</xsl:stylesheet> 
```

**when applied on any XML document (not used), produces the wanted headings**:

```
<table>
   <thead>
      <td>Descripción</td>
      <td>Tipo De Juego</td>
   </thead>
</table> 
```

**Note**: In a real-world app you may want to put the language-specific data in a separate XML file (or even in files -- one per language) -- in such a case you only need to slightly change the call to the `document()` function in this code.

**UPDATE**:

The OP has indicated in a comment that the use of `document()` is forbidden in his environment.

**Here is the same solution with a slight modification to work without using `document()`:**

```
<xsl:stylesheet version="1.0"
 xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
 xmlns:ext="http://exslt.org/common" exclude-result-prefixes="ext">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:param name="pUrl" select="'www.mysite/es/home.htm '"/>

 <xsl:variable name="vrtfHeadings">
  <h lang="en">
    <description>Description</description>
    <gameType>Game Type</gameType>
  </h>
  <h lang="es">
    <description>Descripción</description>
    <gameType>Tipo De Juego</gameType>
  </h>
 </xsl:variable>

 <xsl:variable name="vHeadings" select="ext:node-set($vrtfHeadings)/*"/>

 <xsl:template match="/">

  <xsl:variable name="vLang" select=
    "substring-before(substring-after($pUrl, '/'), '/')"/>

     <table>
       <thead>
         <td><xsl:value-of select="$vHeadings[@lang=$vLang]/description"/></td>
         <td><xsl:value-of select="$vHeadings[@lang=$vLang]/gameType"/></td>
       </thead>
     </table>
 </xsl:template>
</xsl:stylesheet> 
```

# python - 保存 Tweepy 对象

> ID：10497284
> 
> 赞同：0
> 
> 时间：2012-05-08T10:58:12.147
> 
> 标签：python, django

我想将 tweepy 对象（用户状态）保存到我的数据库中，输入以下代码后，它只保存具有特定用户名的用户而不是保存所有用户对象。如何让它保存我列表中的所有用户对象？

意见：

```
consumer_key=""
consumer_secret=""
access_token=""
access_token_secret=""
auth=tweepy.OAuthHandler(consumer_key, consumer_secret)
auth.set_access_token(access_token, access_token_secret)
api=tweepy.API(auth)
db=MySQLdb.connect("localhost","","","")
cur=db.cursor()

def tweetstream(request):
    statuses=Cursor(api.list_timeline, owner=request.user, slug='Testy').items(20)
    for status in statuses:

        print "%s\t%s\t%s\t%s" % (status.text,
                                  status.author.screen_name,
                                  status.created_at,
                                  status.source,)

        cur.execute("INSERT INTO tweets VALUES (%s, %s, %s, %s)", (status.text,
                                                                   status.author.screen_name,
                                                                   status.created_at,
                                                                   status.source))

        return render_to_response('dashboard.html',{'statuses': statuses},context_instance=RequestContext(request)) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:54:17.973

您必须将`return`语句排除在外`for`！这就是为什么一个插入完成..

```
for status in statuses:

    print "%s\t%s\t%s\t%s" % (status.text,
                              status.author.screen_name,
                              status.created_at,
                              status.source,)

    cur.execute("INSERT INTO tweets VALUES (%s, %s, %s, %s)", (status.text,
                                                               status.author.screen_name,
                                                               status.created_at,
                                                               status.source))

return render_to_response('dashboard.html',{'statuses': statuses},context_instance=RequestContext(request)) 
```

# javascript - Jquery - ajax 回调的上下文不遵守提供的上下文参数

> ID：10497285
> 
> 赞同：1
> 
> 时间：2012-05-08T10:58:20.630
> 
> 标签：javascript, jquery

我有一个 jquery 插件，我用它来包装我所有的 ajax 调用。它旨在对输入/输出数据进行一些通用的前/后处理。

```
(function ($) {
    $.ajaxCall = function () {

        var myCall = this;
        myCall.settings = {};

        myCall.ExecuteService = function (caller) {
            var ajax = $.ajax({
                type: 'POST',
                url: '../myWebservice',
                dataType: "json",
                context: caller,
                success: myCall.settings.onSuccess
            });
        };
    };
} (jQuery)); 
```

我的问题是当我尝试将 onSuccess 事件修改为不仅仅是传入函数时。我有以下使用插件的代码。

```
this.foo = 'fooStr';
function myOnSuccess(result) {
    alert(this.foo);
}

var newCall = new $.ajaxCall();
newCall.settings.onSuccess = myOnSuccess;
newCall.ExecuteService(this);

function myProto() {
    this.foo = 'otherFooStr';
}

myProto.prototype.success = function(result){
    alert(this.foo);
}

myProto.prototype.makeCall = function(){
    var newCall = new $.ajaxCall();
    newCall.settings.onSuccess = this.success;
    newCall.ExecuteService(this);
}

var proto = new myProto();
proto.makeCall(); 
```

这将显示“fooStr”和“otherFooStr”，并且似乎工作正常。但是，如果我尝试修改我的插件以在成功回调中做更多事情，我就会遇到上下文问题。

```
myCall.ExecuteService = function (caller) {
    var ajax = $.ajax({
        type: 'POST',
        url: '../myWebservice',
        dataType: "json",
        context: caller,
    });
    ajax.success(function(result,status,xhr){
        //*Do some processing to find condition*
        if (condition) {
        //myCall.settings.onSuccess(result); //shows 'undefined' & 'undefined'
        //eval(myCall.settings.onSuccess)(result); //shows 'fooStr' & 'fooStr'
        //this.eval(myCall.settings.onSuccess)(result); //shows 'fooStr' & throws an object exception
        }
    });
}; 
```

成功回调的上下文是正确的，但是一旦调用 onSuccess 函数，它似乎就会丢失它。我会以正确的方式解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:37:07.073

您需要使用`call()`将正确的上下文传递给`onSuccess`函数，例如

```
myCall.settings.onSuccess.call(<your context, e.g. this>, result) 
```

[https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/call](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/call)

# javascript - 计算表格

> ID：10497287
> 
> 赞同：0
> 
> 时间：2012-05-08T10:58:25.413
> 
> 标签：javascript, html, forms

我有这个计算表格对我的客户非常有效，有人将其放入百分比框 0.93 并显示错误的金额。

在网站上：10 x 10 x 15 x 0.93 = 13.95

必须是：10 x 10 x 15 x 0.93 = 1.395

我不知道要在 javascript 中进行什么更改才能在正确的位置获得句号

这是脚本。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<title></title>
<script type="text/javascript">
function calculate() {
    var fields = [], i = 1, el, val, whole, total;
    for (i; i < 5; ++i) {
        el = document.getElementById('el' + i); val = el.value;
        if((whole = i < 3) && /\./.test(val) || isNaN(Number(val))) {
            alert("Please enter only " + (whole? 'whole ' : '') +    "numbers\nfor " + (el.value = el.defaultValue));
            el.focus();
            el.select();
            return;
        }
        fields.push(val);
    }
    total = (fields[0] * fields[1] * fields[2])*fields[3]/100;
    document.getElementById('calculate').innerHTML = "Total: " + total;
}
</script></head>

<body>
<form action="#" onSubmit="calculate(); return false;">
    <label>Days: <input type="text" id="el1" value="10"></label>
    <label>Taxis: <input type="text" id="el2"  value="10"></label>
    <label>Perdiem: <input type="text" id="el3" value="15"></label>
    <label>Discount: <input type="text" id="el4" value="93"></label>
    <div id="calculate">Total:</div>
    <br />
    <br />
    <input type="submit" value="Calculate">
</form>
</body>

</html> 
```

我将不胜感激这方面的任何帮助。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:03:08.587

您是否尝试过使用：

`total = (fields[0] * fields[1] * fields[2])*fields[3]/1000`

代替：

`total = (fields[0] * fields[1] * fields[2])*fields[3]/100`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:03:32.547

尝试这个：

```
function getFormattedNumber(number, decimals) {
    return number.toFixed(decimals);
} 
```

它返回一个数字字符串，固定为您指定的小数位。

这就是它要做的事情：

```
For 2dp: getFormattedNumber(number, 2):
number:              return:
13.435345345         13.44
10.3435345           10.34

For 3dp: getFormattedNumber(number, 3):
number:
9.556622             9.557 
```

等等

因此，您可以使用正确的数字，并使用它来修复小数位。

# java - 如何在不同时区以秒为单位查找两个日期之间的差异

> ID：10497292
> 
> 赞同：3
> 
> 时间：2012-05-08T10:58:51.007
> 
> 标签：java, date, time, calendar, timezone

我有一段代码可以找到两个日期之间的差异（格式为 yyyy-MM-dd hh:mm:ss）。此代码在全球的多个服务器中运行。两个日期之一是运行代码的特定时区的当前时间（服务器时间），另一个是从数据库中获取的时间。如果这两个时间之间的差异大于 86400 秒（1 天），那么它应该打印“invalid”，否则，它应该打印“valid”。我面临的代码问题是当我在本地运行它时，它工作正常，但是当我将它部署到美国的服务器上时，它考虑的是 GMT 时间而不是本地时间。无论代码在哪里运行，我都想要当前时间和从数据库中获取的时间之间的差异，如果它大于 86400 秒，我想打印无效。如何在java中实现这一点？PS：我尝试使用 Date 对象，但它只在任何地方考虑 GMT。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-08T11:06:38.507

我会在任何地方使用 GMT，并且只转换为当地时间以进行显示。

要找出差异，请将两个时间都转换为相同的时区（例如 GMT）并计算差异。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-08T11:13:31.563

您可以通过以下示例代码来完成。

```
Date date = new Date();

DateFormat formatter = new SimpleDateFormat("dd MMM yyyy HH:mm:ss z");
formatter.setTimeZone(TimeZone.getTimeZone("CET"));

Date date1 = dateformat.parse(formatter.format(date));

// Set the formatter to use a different timezone
formatter.setTimeZone(TimeZone.getTimeZone("IST"));

Date date2 = dateformat.parse(formatter.format(date)); 
// Prints the date in the IST timezone
//    System.out.println(formatter.format(date)); 
```

**现在比较 date1 和 date2**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:17:12.497

首先，我同意 Peter Lawrey 的回答。将所有时间存储在单个区域的数据库中通常是一种很好的做法，并根据用户的区域设置为用户提供偏移量。

要找出差异，请使用该方法`getTime()`从每个日期的纪元获取时间（以毫秒为单位）。1 天的差值计算为 86400 * 1000 毫秒。或者，也许，将时间以毫秒为单位存储在数据库中，并在检索时使用 DB 过程/函数。

希望这可以帮助。

# sharepoint - 获取 sharepoint 2007 Author (created by) 字段的值

> ID：10497296
> 
> 赞同：0
> 
> 时间：2012-05-08T10:59:28.097
> 
> 标签：sharepoint, sharepoint-2007

我正在尝试设置一个直通 URL 过滤器，以便可以查看我们的公告页面，显示仅来自一个人的结果。

我正在寻找如下构建一个 URL：

```
http://teamspace.intranet.group/sites/XXX/Lists/Announcements/AllItems.aspx?
&FieldName1=Author
&FieldValue1=???????? 
```

我正在努力寻找合适的 VALUE 放置在 URL 中。试过域/用户ID，活动目录用户名/描述，“名字姓氏”，“姓氏，名字”（都区分大小写和url编码）无济于事！

我没有 infopath 或任何 Web 开发产品/特殊的共享点连接。 **如何确定特定用户的内部作者字段的值？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T12:37:46.250

假设这是 SharePoint 2010，当您使用过滤器时，您需要通过：

?View= **VIEWID** &FilterField1=作者&FilterValue1= **FULLNAME**

您可以在**名称字段中访问**[http://site/_layouts/userdisp.aspx?Force=True](http://site/_layouts/userdisp.aspx?Force=True)查看您的全名。

 **您可以通过转到其设置来获取视图 ID。

奇怪的是，您可以在过滤器 UI 中导航。

编辑：

在网上找到了一个 2007 年开放的网站，在这里：

[https://portal.wusm.wustl.edu/mscits/tipjar/Lists/Team%20Discussion/AllItems.aspx?View=](https://portal.wusm.wustl.edu/mscits/tipjar/Lists/Team%20Discussion/AllItems.aspx?View=) **{4534CB53-DB3F-46C3-8C8E-D6449EF15201}** &FilterField1=Author&FilterValue1= **Capkovic%2C%20Kathy%20 %28MSCITS%29**

Capkovic%2C%20Kathy%20%28MSCITS%29 参数实际上只是**Capkovic, Kathy (MSCITS)**的 URL 编码值，您可以使用 javascript 对其进行解码，如下所示：

`decodeURIComponent("Capkovic%2C%20Kathy%20%28MSCITS%29")`**

# c - flex 的远程版本误解了我的规则

> ID：10497301
> 
> 赞同：4
> 
> 时间：2012-05-08T11:00:02.457
> 
> 标签：c, linux, lex, flex-lexer

我使用 flex 和 bison 编写了一个小汇编程序，它可以在我的机器（ubuntu 10.10）上构建并运行良好。其他人现在正试图在 Arch linux 上构建它，他们安装的 flex 会产生一个不同的 lex.yy.c，它是不匹配的规则。两个版本都报告了相同的`lex 2.5.35`版本，但我已经看到我的和 Mac OSX 上的另一个 flex 之间的差异，它没有 grok`(?i`模式，所以我不太相信那个版本字符串。

我无权访问远程机器，所以我正在查看远程用户生成的一些 lex --debug 输出。

我的汇编器的完整源代码[在 github 上](https://github.com/jonpovey/das)。

这是我的规则的一个片段：

```
letter      [A-Za-z]
digit       [0-9]
hexdigit    [0-9a-fA-F]
symbolchar  {letter}|[\.$_]
symbol      {symbolchar}({symbolchar}|{digit})*
gpreg       [ABCXYZIJabcxyzij]
xreg        SP|PC|EX|POP|PEEK|PUSH|PICK|sp|pc|ex|pop|peek|push|pick
op2         SET|ADD|SUB|MUL|MLI|DIV|DVI|MOD|MDI|AND|[BX]OR|SH[LR]|ASR|IF[BCENGALU]|ADX|SBX|ST[ID]
op2_lc      set|add|sub|mul|mli|div|dvi|mod|mdi|and|[bx]or|sh[lr]|asr|if[bcengalu]|adx|sbx|st[id]
op1         JSR|HCF|INT|RFI|IA[GSQ]|HW[NQI]
op1_lc      jsr|hcf|int|rfi|ia[gsq]|hw[nqi]

%%

\.set|\.equ         return EQU;
:{symbol}           { yylval.string = yytext + 1; return LABEL; }
{symbol}:           {
                        yylval.string = yytext;
                        yytext[strlen(yytext) - 1] = 0;
                        return LABEL;
                    }
0x{hexdigit}+       return get_constant();
{digit}+            return get_constant();
{gpreg}|{xreg}      { yylval.integer = str2reg(yytext); return REG; }
{op2}|{op2_lc}      { yylval.integer = str2opcode(yytext); return OP2; }
{op1}|{op1_lc}      { yylval.integer = str2opcode(yytext); return OP1; }
DAT|dat             { return DAT; }
{symbol}            { yylval.string = yytext; return SYMBOL; } 
```

这是一个示例输入行：

```
 SET A, 0x30              ; 7c01 0030 
```

远程词法分析器正在匹配`{symbol}:`A 而不是`{gpreg}|{xreg}`. 这可能是因为我的`*`定义中有通配符`symbol`吗？为什么这适用于我的 flex 而不是远程的？

我本地（良好）构建的 --debug 输出：

```
--accepting rule at line 52 ("            ")
--accepting rule at line 42 ("SET")
--accepting rule at line 52 (" ")
--accepting rule at line 41 ("A")
--accepting rule at line 50 (",")
--accepting rule at line 52 (" ")
--accepting rule at line 39 ("0x30")
--accepting rule at line 52 ("              ")
--accepting rule at line 53 ("; 7c01 0030")
--accepting rule at line 50 ("
") 
```

以及来自有问题的远程构建的调试输出（包括 yacc 投诉）。**请注意与 'A' 匹配的不同规则**：

```
--accepting rule at line 52 ("            ")
--accepting rule at line 42 ("SET")
--accepting rule at line 52 (" ")
--accepting rule at line 34 ("A")
line 4: syntax error
line 3: parse error: bad instruction 
line 3: parse error: bad instruction 
--accepting rule at line 50 (",")
line 3: parse error: bad instruction 
--accepting rule at line 52 (" ")
--accepting rule at line 39 ("0x30")
line 3: parse error: bad instruction 
--accepting rule at line 52 ("              ")
--accepting rule at line 53 ("; 7c01 0030")
--accepting rule at line 50 ("
") 
```

我应该如何解决这个问题，我可以期待不同的 flex 版本有什么类似的陷阱吗？

# .net - 如何使vs2010在文件末尾自动生成方法存根

> ID：10497302
> 
> 赞同：6
> 
> 时间：2012-05-08T11:00:03.027
> 
> 标签：.net, visual-studio-2010, stubs

我尝试使用 Visual Studio 的 View.ShowSmartTag 功能自动生成方法存根 ![在此处输入图像描述](../Images/32f632987443fafb7d383de5b31341df.png)

当我选择此选项时，*Method8*将放在 Method2 之后，*但*我想将它放在所有方法之后，在本例中为*Method7 。*
有没有这方面的设置？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-13T06:25:49.863

经过研究，我发现我不能这样做

# hibernate - NoClassDefFoundError: org/dom4j/Element

> ID：10497318
> 
> 赞同：1
> 
> 时间：2012-05-08T11:00:34.670
> 
> 标签：hibernate, integration-testing, spring-roo, classnotfoundexception, dom4j

我使用 spring STS 2.9.1.RELEASE、spring roo 1.2.1.RELEASE、hibernate 3.6.9.Final 来构建网站，当我运行 roo 生成的测试时，我总是收到以下错误。

```
-------------------------------------------------------------------------------
Test set: com.test.roo.CarIntegrationTest
-------------------------------------------------------------------------------
Tests run: 9, Failures: 0, Errors: 9, Skipped: 0, Time elapsed: 2.087 sec <<< FAILURE!
testMarkerMethod(com.test.roo.CarIntegrationTest)  Time elapsed: 0.96 sec  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
    at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:157)
    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:109)
    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:75)
    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:321)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:211)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:288)
    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:290)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
    at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
    at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:172)
    at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:104)
    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'testTransactionManager' defined in file [/Users/charlesli/Workspace/J2EE/Test_Roo/target/classes/META-INF/spring/applicationContext.xml]: Cannot resolve reference to bean 'entityManagerFactory' while setting bean property 'entityManagerFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in file [/Users/charlesli/Workspace/J2EE/Test_Roo/target/classes/META-INF/spring/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/dom4j/Element
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1360)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1118)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)
    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:103)
    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:1)
    at org.springframework.test.context.support.DelegatingSmartContextLoader.loadContext(DelegatingSmartContextLoader.java:228)
    at org.springframework.test.context.TestContext.loadApplicationContext(TestContext.java:124)
    at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:148)
    ... 30 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in file [/Users/charlesli/Workspace/J2EE/Test_Roo/target/classes/META-INF/spring/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/dom4j/Element
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)
    ... 47 more
Caused by: java.lang.NoClassDefFoundError: org/dom4j/Element
    at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:72)
    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:257)
    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)
    ... 54 more
Caused by: java.lang.ClassNotFoundException: org.dom4j.Element
    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
    ... 59 more 
```

我把 dom4j.1.6.1 放在 pom 中，我就是不能让 maven 找到它。

请帮我。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-09T05:13:33.950

我终于找到了解决方案，但我无法解释。

以前是用maven来获取依赖的，但是为了解决这个问题，我下载了hibernate的副本。我使用hibernate提供的dom4j.1.6.1.jar手动替换为maven得到的jar。并更新项目依赖，然后再次运行测试，一切正常。

我不知道这两个罐子之间的区别。但似乎hibernate只能使用自己的jar。

如果有人有更好的解决方案，请在此处发布。

干杯。

# iphone - 如何在关闭模型视图时从呈现的模式视图控制器调用 rootviewcontroller 中的方法

> ID：10497319
> 
> 赞同：0
> 
> 时间：2012-05-08T11:00:44.983
> 
> 标签：iphone, objective-c, ios, methods, uiviewcontroller

我有一个主视图控制器，它在应用程序启动时显示，它包含一个带有中心凸起按钮的标签栏，用于捕获图像。我已经展示了一个带有 UIimagepicker 控制器的模型视图控制器，上传图像后我需要关闭模型并在主视图控制器中调用 (UIimagepicker) 的方法

为此，我编写了这样的代码 .h 文件

```
ViewController *viewController;
@property (retain) ViewController *viewController; 
```

.m 文件

```
 - (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex
{

    if(buttonIndex == 0)
    {

        [self dismissModalViewControllerAnimated:YES];
        [viewController btnTap];

        NSLog(@"uploaded");
    }
    else{
         [self dismissModalViewControllerAnimated:YES];
    }

} 
```

在视图控制器.m

```
-(void)btnTap{

         [self.actForImage  showFromTabBar:tabBarController.tabBar];
        // act for image is the action sheet
        // this method will be called when click on the center button of tabbar
 } 
```

我保留了一个断点并检查了 -(void)btnTap 方法没有被调用。有没有其他方法可以调用主视图控制器中的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:07:25.640

代表们给出答案！

你需要做的是在你的 ModalViewController 中设置一个协议。而不是直接在您的 modalViewController 中关闭它，您应该在委托方法中关闭它。

看看这个答案：

[点击按钮时无法关闭模式视图](https://stackoverflow.com/questions/7764347/cant-dismiss-modal-view-when-tap-a-button/7764511#7764511)

这是在委托类中关闭 modalviewcontroller 的方法。在 ViewController 类中将其关闭后，您可以调用您喜欢的任何其他方法。

编辑：更广泛的答案写在评论中。

# android - 在edittext中插入unicode符号

> ID：10497322
> 
> 赞同：6
> 
> 时间：2012-05-08T11:00:52.653
> 
> 标签：android, unicode, android-edittext

如何插入 Unicode 符号来编辑文本？在 iOS 中，我们可以通过指定代码来做到这一点，即`\U0001F68A`android 呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-25T02:17:24.060

```
editText.setText("\u00A9 2013 by John Smith"); 
```

将版权符号后跟“John Smith 的 2013”​​放入 EditText 编辑文本中。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-06T10:49:10.987

```
editText.getText().append("\uD83D\uDE0A"); 
```

# regex - 为什么这些正则表达式的行为不同

> ID：10497325
> 
> 赞同：1
> 
> 时间：2012-05-08T11:01:00.873
> 
> 标签：regex, ms-access

我正在使用 Access VBA（VBScript 正则表达式 5.5）中的正则表达式，并且有一些我不明白的行为。这是正常的正则表达式行为吗？为什么？

输入是

```
some html ... id="devices_internal_table">Some interestingText</a>
< more html 
```

我需要在这里找到不同的东西，但我坚持这一点：

```
pregexp.Pattern ="devices_table_internal([.]*?)\n<"  REM (A1)
pregexp.Pattern ="devices_table_internal([.\n]*?)<"  REM (A2)

pregexp.Pattern ="devices_table_internal(.*?)\n<"       REM (B1)
pregexp.Pattern ="devices_table_internal([.""<>\n]*?)<" REM (B2)
pregexp.Pattern ="devices_table_internal([.""<>]*?)\n<" REM (B3)
pregexp.Pattern ="devices_table_internal((.*\n)*?)<"    REM (B4) 
```

模式 A 不给出任何结果，而模式 B 给出。

*   A1 不等于 B1 吗？
*   B1 建议， <>and" 是 . 的一部分，但为什么 A2 不起作用（但 B2 起作用）？
*   B4/A2 也是如此：多行后跟 < 有效，但多个 [字符或换行符] 后跟 < 不是吗？

因为我需要一些不同的正则表达式，所以我更感兴趣的是对这三个奇怪的事情的解释，而不是关于如何找到“有趣的文本”的解决方案；）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:14:10.043

`[.]`是一个仅由句点组成的字符类。`.`本身匹配任何字符。

`[.]*`因此，匹配任意数量的句点（通常写成`\.*`），而`.*`匹配任意数量的字符。

此外，请参阅stackoverflow 上[最受好评的答案](https://stackoverflow.com/a/1732454/110707)，了解为什么您不应该尝试使用正则表达式解析 HTML。

# objective-c - Objective C NSAutoreleasePool 和发布

> ID：10497328
> 
> 赞同：0
> 
> 时间：2012-05-08T11:01:11.723
> 
> 标签：objective-c, release, nsautoreleasepool

我是 Xcode 4 的新手。

最近我正在调试一个Objective C程序。我写了一个这样的函数：

```
-(void) func{
    NSAutoreleasePool *pool=[[NSAutoreleasePool alloc] init];
    Product *product=(Product *)[appDelegate.productData objectAtIndex:0];
    NSLog(product.Name);
    [product release];
    [pool release];
} 
```

好笑的是我已经添加了产品发布（因为我在早期调试时没有意识到池发布代码......）

当我运行程序时，它被 EXC_BAD_ACCESS 停止。
删除产品版本后，它可以正常运行。
我真的不知道产品对象是否最终发布。
而且我不确定这是创建 EXC_BAD_ACCESS 的要点。
所以我想问这个问题以确保一切。那会产生错误吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T11:15:33.433

在Objective C - 内存处理概念非常简单 - 对象所有权。如果我要分配一个对象，即将其保留计数增加 1，那么我有责任减少该计数。

现在在这里您没有为产品对象分配任何新内存，您只是在引用现有内存。所以你不需要释放它。

您可以在自动释放池和发布中获得更多信息 - [http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/MemoryMgmt.html%23//apple_ref/doc/uid/10000011 -SW1](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/MemoryMgmt.html%23//apple_ref/doc/uid/10000011-SW1)和[https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmAutoreleasePools.html](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmAutoreleasePools.html)

# android - 使用相机时屏幕关闭 (Android)

> ID：10497335
> 
> 赞同：0
> 
> 时间：2012-05-08T11:01:28.723
> 
> 标签：android

当我预览相机时，有什么方法可以让屏幕保持清醒（不希望它关闭）？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:09:22.030

```
 getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN | 
    WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON,
                     WindowManager.LayoutParams.FLAG_FULLSCREEN | WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON); 
```

使用它对我有用！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:08:57.337

最简单的方法是使用[WakeLock](http://www.vogella.com/blog/2011/02/07/android-wakelock/)

```
PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);
PowerManager.WakeLock wakeLock = pm.newWakeLock(
        pm.SCREEN_DIM_WAKE_LOCK, "My wakelook");
// This will make the screen and power stay on
// This will release the wakelook after 1000 ms
wakeLock.acquire(1000);

// Alternative you can request and / or  release the wakelook via:
// wakeLock.acquire(); wakeLock.release(); 
```

# javascript - 苦苦挣扎于 json 数组

> ID：10497336
> 
> 赞同：0
> 
> 时间：2012-05-08T11:01:32.470
> 
> 标签：javascript, jquery, arrays, json

我已经更改了从 api 接收的 json 对象，并使用 $.makeArray 将其更改为数组，现在我正在努力从该数组中获取值。我想要天气描述中的 temp_c 和值。数组的打印结果如下。

```
[
Object
data: Object
current_condition: Array[1]
0: Object
cloudcover: "50"
humidity: "72"
observation_time: "10:25 AM"
precipMM: "0.1"
pressure: "1005"
temp_C: "13"
temp_F: "55"
visibility: "10"
weatherCode: "122"
 weatherDesc: Array[1]
 0: Object
  value: "Overcast"
__proto__: Object
length: 1
__proto__: Array[0]
weatherIconUrl: Array[1]
winddir16Point: "SSW"
winddirDegree: "210"
windspeedKmph: "19"
windspeedMiles: "12"
__proto__: Object
length: 1
__proto__: Array[0]
request: Array[1]
__proto__: Object
__proto__: Object 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:39:43.687

JSON 的全部意义在于它已经是一个 Javascript 对象，因此您不需要任何复杂的解析逻辑来获取数据。试试下面的代码，你会发现从 JSON Web 服务获取数据是多么容易。

```
$.getJSON('your JSON URL here', function(data) {

  $.each(data.current_condition, function() {
    alert(this.temp_C + "C " + this.weatherDesc[0].value);
  });

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:06:10.877

你可以试试：

`alert(yourObject.temp_C);`

和

`alert(yourObject.weatherDesc.value);`

您不需要将其转换为数组:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:07:34.230

您不需要将对象转换为数组，只需访问您需要的属性：

```
var o = object_retrieved_from_api;
o.temp_c;
o.weatherDesc[0].value; 
```

如果将其转换为数组，只需索引数组中的第一个对象：

```
var a = $.makeArray(object_retrieved_from_api);
a[0].temp_c;
a[0].weatherDesc[0].value; 
```

# scala - 在案例类列表中使用 reduceLeft/foldLeft 的更好方法

> ID：10497337
> 
> 赞同：2
> 
> 时间：2012-05-08T11:01:44.213
> 
> 标签：scala

我的意图很简单：从用户对象列表中获取电子邮件的逗号分隔值。我在 Java 中使用 for 循环和 if else 条件完成了此操作。

现在我想在 Scala 中做到这一点，所以我尝试了这个。

```
case class User(name: String, email: String)

val userList = List(User("aaa", "aaa@aaa.com"),
                    User("bbb", "bbb@bbb.com"),
                    User("ccc", "ccc@ccc.com")) 
```

现在

```
val mailIds = userList.foldLeft(""){(a: String, b: User) => ( b.email+","+a) } 
```

给

```
ccc@ccc.com,bbb@bbb.com,aaa@aaa.com, 
```

（注意最后的逗号。）

和

```
val mailids = userList.map(x => x.email).reduceLeft(_+","+_) 
```

给

```
aaa@aaa.com,bbb@bbb.com,ccc@ccc.com 
```

我试过只`reduceLeft`这样 使用

```
val emailids = userList.reduceLeft((emails: String, user: User) => emails+", "+user.email) 
```

但它会引发编译错误

```
type mismatch;  found   : (String, User) => java.lang.String  required: (java.io.Serializable, User) => java.io.Serializable 
```

那么，在上述情况下是否有**更好**的使用方法？`reduceLeft``map`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:32:13.550

不，累加器`reduceLeft`是`foldLeft`集合的第一个元素。在您的情况下，第一个元素是 a`User`并且您必须为迭代的下一步传递相同类型的参数。这就是你得到类型不匹配的原因。
您可以在惰性集合中执行映射并像下面这样减少它：

```
val mailIds = userList.view map (_.email) reduceLeft (_ + "," + _) 
```

这将使您`aaa@aaa.com,bbb@bbb.com,ccc@ccc.com`无需创建第二个集合。Jessie Eichar 为此写了一个非常好的[教程](http://daily-scala.blogspot.de/2009/11/non-strict-lazy-collections.html)。

**编辑**

没有惰性集合的方法是通过以下方式删除最后一个逗号：

```
val rawMailIds = userList.foldLeft("")((acc, elem) => acc + elem.email + ",")
val mailIds = rawMailIds.substring(0, rawMailIds.length - 1) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:13:50.717

为什么不坚持 map 和 reduce 的结合呢？无论如何，您的问题是您`reduceLeft`唯一的版本需要有一个字符串作为其初始值。

# api - 您如何从 ISBNdb.com 获取书籍的类别信息？

> ID：10497338
> 
> 赞同：2
> 
> 时间：2012-05-08T11:01:48.797
> 
> 标签：api, isbn

我可以轻松获取书籍信息：

```
http://isbndb.com/api/books.xml?access_key=THEKEY&results=details&index1=isbn&value1=9781849152990 
```

我可以轻松查找类别：

```
http://isbndb.com/api/categories.xml?access_key=Z&index1=category_id&value1=science.mathematics.geometry 
```

但是你如何获得某一本书的类别呢？我想提供 ISBN 代码，作为回报，我想获得类别？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-10T21:15:40.200

查看[他们的 API 文档](http://isbndb.com/docs/api/)并进行一些尝试，似乎您能做的最好的事情就是获取本书主题的列表，然后获取这些主题的类别。

因此，以他们为例，给定 ISBN 为 0061031321，您首先调用

> [http://isbndb.com/api/books.xml?access_key=](http://isbndb.com/api/books.xml?access_key=) $Z&results=subjects&index1=isbn&value1= **0061031321**

返回

```
<BookData book_id="thief_of_time" isbn="0061031321" isbn13="9780061031328">
<Title>Thief of time</Title>
<TitleLong>Thief of time: a novel of Discworld</TitleLong>
<AuthorsText>Terry Pratchett</AuthorsText>
<PublisherText publisher_id="harpertorch">New York, N.Y. : HarperTorch, [2002], c2001.</PublisherText>
<Subjects>
<Subject subject_id="discworld_imaginary_place_fiction">Discworld (Imaginary place) -- Fiction</Subject>
<Subject subject_id="fantasy_fiction_aaaa0">Fantasy fiction</Subject>
</Subjects>
</BookData> 
```

然后遍历主题，获取它们的类别：

> [http://isbndb.com/api/subjects.xml?access_key=](http://isbndb.com/api/subjects.xml?access_key=) $Z&results=categories&index1=subject_id&value1= **discworld_imaginary_place_fiction**

```
<...snip...>
<Categories>
<Category category_id="imaginary_places">Imaginary Places</Category>
<Category category_id="imaginary_places.discworld">Discworld</Category>
</Categories>
<...snip...> 
```

> [http://isbndb.com/api/subjects.xml?access_key=](http://isbndb.com/api/subjects.xml?access_key=) $Z&results=categories&index1=subject_id&value1= **Fantasy_fiction_aaaa0**

```
<...snip...>
<Categories>
<Category category_id="genres.fantasy">Fantasy</Category>
</Categories>
<...snip...> 
```

所以 ISBN 0061031321 的类别是：

*   虚构的地方
*   唱片世界
*   幻想

`categories.xml`如果您想获取整个类别层次结构，可以通过 api 跟踪这些。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T09:15:49.620

我想这也可能对某人有帮助：

```
http://isbndb.com/api/books.xml?access_key=XXXXX&results=subjects,details,texts,prices&index1=isbn&value1=9780230749016 
```

请注意我如何使用逗号分隔键的“结果”？奇迹般有效...

# blackberry - 黑莓支持多屏

> ID：10497340
> 
> 赞同：0
> 
> 时间：2012-05-08T11:02:01.170
> 
> 标签：blackberry, screen-resolution

我为屏幕分辨率 320x240 开发了我的 BlackBerry 应用程序。现在我需要它来支持多种分辨率的屏幕。我在哪里存储不同分辨率的图像并通过代码相应地访问它们，而无需为每个屏幕分辨率单独构建？

如果可能，请向我提供需要移植的 BlackBerry 可用的各种屏幕尺寸。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:13:26.713

不同的屏幕分辨率是 -

```
240 x 240  7730
240 x 320  8220 8230 
320 x 240  8520 9300 9330 8310 8530 8830 8320 8330 8700c 8820 8800 8300 8707v 8330 8500 
curve3G 9220
360 x 400  9670 9105 9100 pearl3G
360 x 480  9800 9500 9370 9350 9780 9520 9550 9530 9670 
480 x 320  9000
480 x 360  9650 9700 9630 8900 9360 
480 x 800  9860 9850 storm3 volt
640 x 480  Bold 9900

int device_h = Display.getHeight();
int device_w = Display.getWidth();

 if(device_h==240  &&  device_w== 320 ){
 //select image of that size
  }
 else  if(device_h==480 &&  device_w== 360){
 //select image of that size
 } and so on..... 
```

将不同的图像存储在项目的 res 文件夹中的单独文件夹中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-09T12:17:55.617

是的，这不会增加项目的规模吗？我发现你可以使用以下代码存储分辨率良好的图像并根据设备尺寸缩放它们

```
int barW = Fixed32.div(Fixed32.toFP(bitmap.getWidth()), Fixed32.toFP(scaleW));
int barH = Fixed32.div( Fixed32.toFP(bitmap.getHeight()), Fixed32.toFP(scaleH)); 
Bitmap scaledBitmap = 
  EncodedImage.getEncodedImageResource(img).scaleImage32(barW, barH).getBitmap(); 
```

这似乎也可以正常工作:)

# python - Python/Plone：获取所有唯一关键字（主题）

> ID：10497342
> 
> 赞同：4
> 
> 时间：2012-05-08T11:02:09.507
> 
> 标签：python, plone, keyword, subject

有没有办法通过查询目录来获取所有唯一关键字索引，即 Plone 中的主题？

我一直[以此](http://collective-docs.readthedocs.org/en/latest/searching_and_indexing/query.html)为指导，但尚未成功。

这是我到目前为止所拥有的

```
def search_content_by_keywords(self):
    """
    Attempting to search the catalog
    """
    catalog = self.context.portal_catalog
    query = {}
    query['Subject'] = 'Someval'        

    results = catalog.searchResults(query)
    return results 
```

我不想传递关键字，而是要获取所有关键字

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-08T11:28:09.943

```
catalog = self.context.portal_catalog
my_keys = catalog.uniqueValuesFor('Subject') 
```

参考：[http ://docs.plone.org/develop/plone/searching_and_indexing/query.html#unique-values](http://docs.plone.org/develop/plone/searching_and_indexing/query.html#unique-values)

# xml - 无法在 Servlet 中使用 FileOutputStream 创建新文件

> ID：10497343
> 
> 赞同：0
> 
> 时间：2012-05-08T11:02:13.963
> 
> 标签：xml, servlets, file-io, stax

我正在使用下面的代码在我的一个项目中使用 Stax Parser 创建 XML 文件。我之前在普通的 Java 应用程序中使用过这段代码，它在那里运行良好。但是当我为 Servlet 实现这个时，我不知道它为什么不运行。我没有收到任何错误，但没有生成**XML文件。**

```
private static ServletContext sc;

    public void init(ServletConfig config) throws ServletException {
        // TODO Auto-generated method stub
        sc = config.getServletContext();
    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

    String path = sc.getRealPath("/WEB-INF/xml");
    System.out.println("Path ==>" + path);

    XMLOutputFactory factory = XMLOutputFactory.newInstance();
    File f = new File(path+"/atms.xml");
    XMLStreamWriter writer = factory.createXMLStreamWriter(new FileOutputStream(f));

    //Some more code
        writer.writeStartDocument();
        writer.writeStartElement("xxx");

        writer.writeStartElement("yyy");
        writer.writeStartElement("id");
        writer.writeCharacters("1");
        writer.writeStartElement("name");
        writer.writeCharacters("Table");
        writer.writeStartElement("price");
        writer.writeCharacters("110");

        writer.writeEndElement();       
        writer.close();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:14:17.300

我认为您需要添加以下内容：

```
writer.writeEndElement();

writer.writeEndDocument();

writer.flush();
writer.close(); 
```

# c# - LINQ / EF - 使用 GroupBy 将值返回到视图

> ID：10497347
> 
> 赞同：1
> 
> 时间：2012-05-08T11:02:17.520
> 
> 标签：c#, asp.net-mvc-3, linq, entity-framework

在我的 MVC 3 应用程序中，我使用以下查询：

```
var items = context.QuoteLines.Include("DaybookVehicles").Where(x => x.EnquiryID == id).GroupBy(x=>x.VehicleID).ToList();
return View(items); 
```

然后在我看来，我在顶部有这个：

```
@model IEnumerable<myApp.Areas.DayBook.Models.DayBookQuoteLines> 
```

但这会引发错误：

```
The model item passed into the dictionary is of type
'System.Collections.Generic.List`1[System.Linq.IGrouping`2[System.Int32,myApp.Areas.DayBook
.Models.DayBookQuoteLines]]', but this dictionary requires a model item of type 
'System.Collections.Generic.IEnumerable`1[myapp.Areas.DayBook.Models.DayBookQuoteLines]'. 
```

在这种情况下如何使用 group by？因为我想将我的每个人分组`QuoteLines`到他们的匹配项`VehicleID`

# 编辑

报价线模型：

```
public class DayBookQuoteLines
{
    [Key]
    public int QuoteLineID { get; set; }

    public int EnquiryID { get; set; }

    public virtual int VehicleID { get; set; }

    public virtual DaybookVehicles Vehicle { get; set; }

    [Required(ErrorMessage = "This field is required.")]
    [Display(Name = "Item Number:")]
    [MaxLength(50)]
    public string ItemNumber { get; set; }

    public string ItemDescription { get; set; }
} 
```

车辆型号：

```
public class DaybookVehicles
{
    [Key]
    public int VehicleID { get; set; }

    public int EnquiryID { get; set; }

    public virtual ICollection<DayBookQuoteLines> QuoteLines { get; set; }

    public string vrm { get; set; }

    public string make { get; set; }

    public string model { get; set; }

    public string engine_size { get; set; }

    public string fuel { get; set; }
} 
```

我想我的设置是正确的，但是每辆车都可以有一组 QuoteLines 附加到它上面！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T11:12:37.347

模型类型与函数返回的类型不同。我认为该视图的合适模型是

```
@model IEnumerable<IGrouping<int, DayBookQuoteLines>> 
```

并且查询中不需要 ToList

# node.js - 为什么 Passport.js 给我一个中间件错误？

> ID：10497349
> 
> 赞同：13
> 
> 时间：2012-05-08T11:02:39.597
> 
> 标签：node.js, passport.js

我正在尝试这里描述的解决方法

[https://github.com/jaredhanson/passport/issues/14](https://github.com/jaredhanson/passport/issues/14)

```
app.use(passport.initialize());
app.use(passport.session());  
app.use(app.router);
app.use(express.static(__dirname + '/public')); 
```

工作正常

```
app.use(app.router);
app.use(express.static(__dirname + '/public'));
app.use(passport.initialize());
app.use(passport.session()); 
```

给

```
DEBUG: Error: passport.initialize() middleware not in use
    at IncomingMessage.<anonymous> (/.../node_modules/passport/lib/passport/http/request.js:30:30)
    at Context.<anonymous> (/.../node_modules/passport/lib/passport/middleware/authenticate.js:92:11)
    at Context.<anonymous> (/.../core/node_modules/passport/lib/passport/context/http/actions.js:21:25)
    at Strategy.success (native) 
```

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-05-08T13:14:02.763

您仍然需要`app.use(app.router)`在 Passport 之后。否则，您的路线将在任何 Passport 代码之前运行，这就是您看到错误的原因。这应该有效：

```
app.use(express.static(__dirname + '/public'));
app.use(passport.initialize());
app.use(passport.session()); 
app.use(app.router); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-02T20:19:26.690

可能会帮助某人，我有同样的问题。我的应用配置看起来像这样。这导致了错误。

```
app.configure(function() {
  ....
app.use(app.router);    
app.use(passport.initialize());
app.use(passport.session());
app.use(express.static(path.join(__dirname, 'public')));

}); 
```

我必须按如下方式重新排序才能正常工作。

```
app.configure(function() {
  ....
app.use(passport.initialize());
app.use(passport.session());
app.use(app.router);    
app.use(express.static(path.join(__dirname, 'public')));

}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-04-30T23:05:47.773

对我有用的是：

```
app.use(passport.initialize());
app.use(passport.session()); 
```

在任何其他之前`app.use`。

# objective-c - 在没有 doubleClick 的情况下为 IKImageView 调用 IKImageEditPanel 非常慢

> ID：10497351
> 
> 赞同：1
> 
> 时间：2012-05-08T11:02:41.343
> 
> 标签：objective-c, macos, cocoa

我想在`IKImageEditPanel`没有双击的情况下调用`IKImageView`. 所以我这样调用。

```
- (IBAction)imageProperties:(id)sender  { 
    IKImageEditPanel *editor = [IKImageEditPanel sharedImageEditPanel];
    [editor setFrameOrigin:NSMakePoint(400,200)];
    [editor setDataSource:self]; // I have set the DataSource.
    [editor makeKeyAndOrderFront:nil];
} 
```

这是我的 DataSource 方法..

```
- (CGImageRef)image {   
    return imageView.image;    // imageView is my IKImageView
}

- (void)setImage: (CGImageRef)image imageProperties: (NSDictionary *)metaData {
    [imageView setImage:image imageProperties:metaData];
} 
```

这可以正常工作，但与默认设置相比非常慢`IKImageEditPanel`（使用双击调用）。访问的正确方法是`IKImageEditPanel`什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:55:19.130

只需删除 DataSource 方法并使用此方法调用`IKImageEditPanel`。

```
- (IBAction)editPanel:(id)sender {
    IKImageEditPanel *editor = [IKImageEditPanel sharedImageEditPanel];
    [editor setFrameOrigin:NSMakePoint(400,200)];
    [editor setDataSource:imageView]; // Here imageView is your IKImageView.
    [editor makeKeyAndOrderFront:nil];
} 
```

我不知道这是如何工作的，但确实如此。这也得到了 Appstore 的批准。所以你可以使用这个方法。

# mysql - Cloudfoundry中的MySql数据库部署

> ID：10497354
> 
> 赞同：0
> 
> 时间：2012-05-08T11:02:49.910
> 
> 标签：mysql, deployment, spring-security, cloud-foundry, vmc

我使用 JSP、Spring Security、MySql 开发了一个应用程序。我将它部署在 Cloudfoundry 上。但只是war文件和我绑定了mysql服务。但是我还必须配置由两个表组成的 MySQL 数据库，新用户和它都在我自己的数据库中。当我在 localhost 上测试我的应用程序时，我准备了在 MySQL 命令窗口中运行手动脚本的数据库。问题：如何在 CloudFoundry 中进行相同的配置？我可以以同样的方式手动运行所有命令和脚本或以某种方式导出数据库吗？如果是，如何做到这一点。现在在这里写什么而不是本地主机？

```
 <property name="driverClassName" value="com.mysql.jdbc.Driver" />
<property name="url" value="jdbc:mysql://localhost:3306/security_filter" /> 
```

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T19:15:43.393

Caldecott（vmc 隧道）是访问您的 cloudoundry 数据库的正确方法（对我来说它有效，我使用的是 ruby​​ 1.8）：[http ://docs.cloudfoundry.com/tools/vmc/caldecott.html](http://docs.cloudfoundry.com/tools/vmc/caldecott.html)

如果这对你不起作用，你将不得不手动做一些事情（更难）：

*   创建一个连接到 mysql 数据库的示例 jsp/servlet 应用程序（检索连接字符串、用户名和密码作为来自用户的输入）。然后它将只对数据库运行 sql 语句（sql 语句也将由用户输入）
*   将此应用程序捆绑在您的战争中
*   现在您必须检索数据库连接字符串/用户名和密码。您可以从环境变量[VCAP_SERVICES](http://docs.cloudfoundry.com/services/mysql/mysql.html)中检索它们。只需将其记录在启动侦听器中（例如 ServletContextListener）
*   部署您的战争并从服务器获取日志（vmc 日志应用程序名称）。获取连接字符串、用户名和密码
*   登录到您的应用程序并使用您在上一步中收集的数据库信息使用您的数据库应用程序访问数据库

请注意，这是非常危险的方法。只需确保保护此数据库应用程序或在初始导入后将其从您的战争中删除并重新部署应用程序

作为最后一点，您可以检查这样的数据库控制台应用程序是否已经存在，这样您就不必创建自己的（例如 grails 有一个很好的应用程序用于此[http://grails.org/plugin/dbconsole](http://grails.org/plugin/dbconsole)。也许存在一些东西jsp/servlet)

如果您对红宝石问题不满意，希望对您有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-09T19:27:17.813

您需要创建数据库的 mysqldump。一旦你有了 mysqldump 文件，你就可以使用 caldecott 并执行 vmc 隧道到你的 MySQL 服务。在 Cloud Foundry 上与 MySQL 服务建立连接后，您需要使用 mysql 命令手动将 mysqldump 文件导入到您的服务中。

有关如何使用 vmc 隧道，请访问文档站点：[http ://docs.cloudfoundry.com/tools/vmc/caldecott.html](http://docs.cloudfoundry.com/tools/vmc/caldecott.html)

# xml - 从 XSD 生成 Web 表单

> ID：10497355
> 
> 赞同：7
> 
> 时间：2012-05-08T11:02:56.330
> 
> 标签：xml, xsd

我想创建一个基于 XSD 的 Web 表单，并以 XML 格式查看/保存/加载用户输入（类似于 xml 编辑器）。有什么*快速*的方法可以做到这一点吗？

我的 XSD 可能包含一些问题并且非常庞大。我不在乎表格是否也会变得很大！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-18T16:00:10.703

[XSDForm](https://ilerian.com/xsd-web-form-overview)可以解决您的问题。它可以将您的 XML Schema 转换为您网站上的 Web 表单（XSD 到 Web 表单）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-08T19:23:51.247

这是[SO 上的一个线程，](https://stackoverflow.com/questions/8274615/get-html-form-from-xsd)与您的问题相同；从那以后，有人添加了一个关于我没有探索过的新产品的答案......

[Microsoft 论坛上的另一个主题](http://social.msdn.microsoft.com/Forums/sv/asmxandxml/thread/d7afe538-8a56-452e-b4fa-6d49e558660a)也处理相同的问题；另一种方法是通过数据库映射内容，因为处理网络表单和数据库的软件似乎更容易获得。

如果我不得不总结一下，简短的回答是“不是真的”或“肯定不是直截了当”。它还有助于了解您打算使用什么技术：PHP、.NET、基于 Java？

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-12-14T01:30:45.817

自插入：[xsd-forms](http://github.com/davidmoten/xsd-forms)已发布，并且适用于有限的 xsd 类型子集，没有服务器端耦合。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-11-18T10:38:59.917

我建议的路径是将您的 xsd 转换为 json 架构，然后从您的新 json 架构生成表单。最后将生成的 json 对象翻译回 xml。

## xsd -> json 模式

[https://github.com/highsource/jsonix-schema-compiler](https://github.com/highsource/jsonix-schema-compiler)
基于[jsonix](https://github.com/highsource/jsonix)的工具，可以从 xsd 生成 json schema，涵盖了大多数 xsd 案例。

## json chema -> html 表单

[http://alpacajs.org/](http://alpacajs.org/)
优秀且易于使用的工具，可以采用任何 json 模式并创建 html 表单。您甚至可以自定义表单的外观和行为方式。

## json -> xml

[https://github.com/highsource/jsonix](https://github.com/highsource/jsonix)
我上面也提到过。它可以轻松地将您的 json 转换为 xml。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-04-20T14:42:56.783

我知道这是一个老问题，但我自己遇到了这个问题，找不到令人满意的开源解决方案。我最终编写了自己的实现[XSD2HTML2XML](https://github.com/MichielCM/xsd2html2xml)。据我所知，它是最完整的工具。它支持很多主题启动者要求的内容（以及更多:)）：

*   从 XSD 自动生成 HTML 表单
*   包括元素、属性、组、扩展和限制
*   允许将 XML 文档中的数据加载到生成的表单中

如果您更喜欢开箱即用的解决方案而不是自己编写解决方案，请参阅我的实现[XML Schema Form Generator](http://www.michielmeulendijk.nl/xml-schema-form-generator/)。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-28T18:17:41.413

我正在开发自己的名为 XsdFormEditor 的项目。应用程序将能够在 WinForms（完成 95%）、Web（使用 Asp.Net MVC，完成 0%）、WPF（完成 0%）中将任何 XSD 显示为表单。想法是加载任何 XSD 文件，将其作为表单显示给用户，让用户输入一些数据并将数据保存为 XML。用户还可以从 XML 文件加载默认值以形成表单。你可以在这里找到它：[https ://github.com/janstafa/XsdFormEditor](https://github.com/janstafa/XsdFormEditor)

# xslt - XSLT 子节点 从父节点复制

> ID：10497358
> 
> 赞同：0
> 
> 时间：2012-05-08T11:03:13.280
> 
> 标签：xslt, xslt-1.0, xslt-2.0, xslt-grouping

我想将节点从父节点复制到子节点。我不确定如何实现这一点。

我的源xml

```
<Root1>
    <Family1>
      <Childrens>
        <Child>
          <ChildFirstName>Robin1</ChildFirstName>
          <ChildLastName>Jackman1</ChildLastName>
          <Address>
            <Street1>Street1</Street1>
            <State>State</State>
            <Country>Country</Country>
          </Address>
          <Activities>
            <Sports>
              <Cricket>
                <ParticipentNames>

                </ParticipentNames>
              </Cricket>
            </Sports>
          </Activities>
        </Child>
        <Child>
          <ChildFirstName>Robin2</ChildFirstName>
          <ChildLastName>Jackman2</ChildLastName>
          <Address>
            <Street1>Street1</Street1>
            <State>State</State>
            <Country>Country</Country>
          </Address>
          <Activities>
            <Sports>
              <Cricket>
                <ParticipentNames>

                </ParticipentNames>
              </Cricket>
            </Sports>
          </Activities>
        </Child>
        <Child>
          <ChildFirstName>Robin3</ChildFirstName>
          <ChildLastName>Jackman3</ChildLastName>
          <Address>
            <Street1>Street1</Street1>
            <State>State</State>
            <Country>Country</Country>
          </Address>
          <Activities>
            <Sports>
              <Cricket>
                <ParticipentNames>

                </ParticipentNames>
              </Cricket>
            </Sports>
          </Activities>
        </Child>
      </Childrens>
    </Family1>
  </Root1> 
```

我想得到输出

```
<Root1>
    <Family1>
      <Childrens>
        <Child>
          <ChildFirstName>Robin1</ChildFirstName>
          <ChildLastName>Jackman1</ChildLastName>
          <Address>
            <Street1>Street1</Street1>
            <State>State</State>
            <Country>Country</Country>
          </Address>
          <Activities>
            <Sports>
              <Cricket>
                <ParticipentNames>
                  <ChildFirstName>Robin1</ChildFirstName>
                  <ChildLastName>Jackman1</ChildLastName>
                  <Address>
                    <Street1>Street1</Street1>
                    <State>State</State>
                    <Country>Country</Country>
                  </Address>
                </ParticipentNames>
              </Cricket>
            </Sports>
          </Activities>
        </Child>
        <Child>
          <ChildFirstName>Robin2</ChildFirstName>
          <ChildLastName>Jackman2</ChildLastName>
          <Address>
            <Street1>Street1</Street1>
            <State>State</State>
            <Country>Country</Country>
          </Address>
          <Activities>
            <Sports>
              <Cricket>
                <ParticipentNames>
                  <ChildFirstName>Robin2</ChildFirstName>
                  <ChildLastName>Jackman2</ChildLastName>
                  <Address>
                    <Street1>Street1</Street1>
                    <State>State</State>
                    <Country>Country</Country>
                  </Address>
                </ParticipentNames>
              </Cricket>
            </Sports>
          </Activities>
        </Child>
        <Child>
          <ChildFirstName>Robin3</ChildFirstName>
          <ChildLastName>Jackman3</ChildLastName>
          <Address>
            <Street1>Street1</Street1>
            <State>State</State>
            <Country>Country</Country>
          </Address>
          <Activities>
            <Sports>
              <Cricket>
                <ParticipentNames>
                  <ChildFirstName>Robin3</ChildFirstName>
                  <ChildLastName>Jackman3</ChildLastName>
                  <Address>
                    <Street1>Street1</Street1>
                    <State>State</State>
                    <Country>Country</Country>
                  </Address>
                </ParticipentNames>
              </Cricket>
            </Sports>
          </Activities>
        </Child>
      </Childrens>
    </Family1>
  </Root1> 
```

我想要 XSLT 1.0 中的解决方案。

我想将这些节点复制到子节点

```
 <ChildFirstName>Robin3</ChildFirstName>
                  <ChildLastName>Jackman3</ChildLastName>
                  <Address>
                    <Street1>Street1</Street1>
                    <State>State</State>
                    <Country>Country</Country>
                  </Address> 
```

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:39:11.573

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">

<xsl:template match="@* | node()">
  <xsl:copy>
    <xsl:apply-templates select="@* | node()"/>
  </xsl:copy>
</xsl:template>

<xsl:template match="ParticipentNames">
  <xsl:copy>
    <xsl:apply-templates select="ancestor::Child/ChildFirstName | ancestor::Child/ChildLastName | ancestor::Child/Address"/>
  </xsl:copy>
</xsl:template>

</xsl:stylesheet> 
```

应该足够了（可能想要添加`<xsl:output indent="yes"/>`并`<xsl:strip-space elements="*"/>`获得更好的格式）。

# ruby-on-rails - 制作动态表单的 Rails 方式是什么？（JQuery 是唯一的选择吗？）

> ID：10497361
> 
> 赞同：1
> 
> 时间：2012-05-08T11:03:20.480
> 
> 标签：ruby-on-rails, dynamic-forms

我要制作这样的表格：

1.  向用户显示消息（文本、对象描述）

2.  显示按钮列表。比如“评论”、“重新路由”和“关闭”。

3.1 如果用户点击'comment'，显示text_area 供输入。输入不是来自模型的属性，它必须稍后附加到“日志”字段。

3.2 如果用户点击'reroute'，显示collection_select 来选择重新路由给谁。

3.3 如果用户点击“关闭”，则显示 text_area 以供输入。输入必须稍后保存到模型的“解决方案”字段中。

这样做的rails方法是什么？我应该开始学习 JQuery 还是有一些宝石来代替它？或者也许我不需要什么特别的东西，这样的事情可以单独用 Rails 完成？

# delphi - 聚合 TClientDataset 中的计算字段

> ID：10497364
> 
> 赞同：6
> 
> 时间：2012-05-08T11:03:29.460
> 
> 标签：delphi, aggregate-functions, c++builder, vcl, tclientdataset

是否可以在计算字段上添加聚合字段？

假设有一个包含以下字段的 cd：

*   ID（自增）
*   名称（字符串）
*   价格（浮动）
*   数量（整数）
*   总计（整数） - 计算字段 - 价格 * 数量

我想添加一个聚合来获得 Total 列的总和。可能吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-08T11:34:14.267

是的，如果您将计算字段更改为 InternalCalc 字段，这是可能的。计算仍然在 OnCalcFields 事件中完成，但是当您为该字段进行计算时，您必须检查 InternalCalc 的状态。

# zend-framework - Zend 框架：下载？

> ID：10497366
> 
> 赞同：0
> 
> 时间：2012-05-08T11:03:38.710
> 
> 标签：zend-framework, download

我是zend的新手。从 zend 站点下载了 zend 框架。现在我如何生成 zend 文件夹结构，如应用程序、bin、公共文件夹！？生成文件夹结构的最佳方法是什么？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T11:16:57.503

考虑一下你的应用结构，如果你想做一个有前端和后端（两个模块）甚至更多的应用，你最好试试 Zend 框架中的模块。我为此写了一篇文章，但没有详细说明。[http://www.bang58.co.cc/blog/zend-framework-module-website-structure/](http://www.bang58.co.cc/blog/zend-framework-module-website-structure/)

我想你可以查看这个以了解 Zend 框架的基本应用结构 - [http://framework.zend.com/manual/en/learning.quickstart.intro.html](http://framework.zend.com/manual/en/learning.quickstart.intro.html)

然后，您可以检查它以了解如何在您的应用程序中使用模块 - [http://framework.zend.com/manual/en/zend.controller.modular.html](http://framework.zend.com/manual/en/zend.controller.modular.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-14T13:45:59.477

这真的取决于你的需求。正如 Tom 所写，当您的应用程序将比某些感觉控制器更复杂时，模块是一种方式。

我已经基于模块为我的项目创建了一个默认结构。这个想法是将基本控制器集中在默认模块中，并将其他所有控制器集中在特定模块中，考虑重用。

一些例子：

我的目录结构：

```
application
|--configs
   | config.ini
|--modules
| bootstrap.php
lib
|--MyLib
   |--locales
|--Zend
public
|--js
|--css
|--etc ... 
```

非常喜欢汤姆的文章。config.ini 中有一些差异：

```
#My locales are in the MyLib dir
resources.translate.data = LIB_PATH "/Agana/locales"
resources.translate.scan = "directory"

#My default module has another name
resources.frontController.controllerDirectory = APPLICATION_PATH "/modules/aganacore/controllers"
resources.frontController.moduleDirectory = APPLICATION_PATH "/modules"
resources.frontController.prefixDefaultModule = true 
resources.frontController.defaultModule = aganacore

#My IndexController from default module redirect to this config variable
myproject.defaulturl = "dashboard" 
```

在我的 IndexController 中，这是我的 indexAction：

```
public function indexAction() {
    // this call gets the myproject option in config.ini, please search how to get bootstrap options
    $options = Mylib_Util_Bootstrap::getOption('myproject');

    if (isset($options['defaulturl'])) {
        if (trim($options['defaulturl']) != '') {
            $this->_redirect($options['defaulturl']);
        }
    }
} 
```

嗯，这是整个结构的一部分，但我相信它足以帮助你开始。

最好的祝福。

# mvvm-light - mvvm-light：普通属性或 DependencyProperty

> ID：10497367
> 
> 赞同：0
> 
> 时间：2012-05-08T11:03:49.580
> 
> 标签：mvvm-light

在 mvvm-light 中，它带有两个属性创建片段： mvvminpc 用于创建“普通”属性；和 mvvmpropa 创建附加属性（也称为依赖属性）。我只想知道在选择使用哪一个时是否有任何指导？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-16T01:19:24.410

我也一直在寻找 MVVM light 的这些属性主题。以下是我对 MVVM light 中提供的属性片段的理解。实际上没有任何情况下您会使用其中一种，因为它们用于不同的目的。

**可绑定属性**- 在您的 ViewModel 中创建可绑定属性以公开您的视图将显示的数据。

示例包括：显示员工集合或选定的员工信息。

**依赖属性**- 特定于代码片段的视图。这些属性可以设置为常量值或使用数据绑定进行更改，*具体取决于*视图模型数据。

示例包括： 文本块控件的“文本”属性是依赖属性。“高度”和“宽度”属性也是依赖属性。

**附加属性**- 也更具体地用于用户控件。此属性被添加到父控件。子控件使用这些属性在父控件中以某种方式运行。

示例包括：Dockpanel 有一个 Dockpanel 本身不使用的“Dock”（附加属性名称）。它被包含在其中的孩子使用，孩子们现在可以设置属性：DockPanel.Dock="Top"。

```
 <DockPanel>
        <TextBlock Text="{Binding EmployeeName}" DockPanel.Dock="Top" />
        <Button Content="Click Here" DockPanel.Dock="Bottom" />
    </DockPanel> 
```

在上面的示例代码中：

可**绑定属性**是 EmployeeName，它将是视图模型代码中的公共属性。

**依赖属性**是文本块的Text="" 属性和按钮的 Content="" 属性。

**附加属性**是文本块和按钮中使用的DockPanel.Dock 属性，但实际上是由 Dockpanel 本身公开的。请注意，Dockpanel 不包含任何 .Dock 代码，只有子级包含。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:10:45.283

在创建 UI 组件（控件等）时建议使用依赖属性：它们具有更好的绑定时间性能。

如果您有业务对象或没有/创建 UI 控件，则使用普通属性。

# delphi - Delphi XE TValue.From(True) 不产生 TValue 布尔值

> ID：10497372
> 
> 赞同：0
> 
> 时间：2012-05-08T11:04:51.177
> 
> 标签：delphi, delphi-xe, rtti, setvalue

我有一个布尔字段，我想使用`MyField.SetValue(Self, MyValue)`. 无论我尝试什么，我都会不断收到类型转换错误。

问题是 MyValue 总是包含一个序数并且不被识别为包含一个布尔值。我知道布尔值是一个枚举，它是一个序数，但仍然可以使用 TValue 设置布尔字段和属性。

`MyValue.IsOrdinal = True`我尝试了以下方法来启动 MyValue但每次都`MyValue.IsBoolean = False`：

1.  `MyValue := TValue.From(True);`
2.  `MyValue := TValue.From<Boolean>(True);`
3.  `MyBool := True; MyValue := MyValue.From(MyBool);`
4.  `MyBool := True; MyValue := MyValue.From<Boolean>(MyBool);`
5.  `MyValue := True;`
6.  `MyBool := True; MyValue := MyBool;`
7.  `MyBool := True; TValue.Make(@MyBool, TypeInfo(Boolean), MyValue);`

有没有办法让 TValue 接受它包含一个布尔型 iso 序数以便`MyField.SetValue(Self, MyValue)`成功？

提前致谢，

德科拉曼

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T16:02:03.627

[TValue](http://docwiki.embarcadero.com/Libraries/XE2/en/System.Rtti.TValue)适用于布尔值。

检查此示例代码

```
{$APPTYPE CONSOLE}

uses
  Rtti,
  SysUtils;

Type
  TAnyClass=class
   AField : Boolean;
  end;

Var
 Ctx       : TRttiContext;
 MyValue   : TValue;
 A         : TAnyClass;
 MyField   : TRttiField;
begin
  try
    Ctx:=TRttiContext.Create;
    A:=TAnyClass.Create;
    try
      MyField:=Ctx.GetType(TAnyClass).GetField('AField');

      MyValue:= MyValue.From(False);
      MyField.SetValue(A, MyValue);
      Writeln('The Value of AField Is '+BoolToStr(A.AField, True));

      MyValue:= MyValue.From(True);
      MyField.SetValue(A, MyValue);
      Writeln('The Value of AField Is '+BoolToStr(A.AField, True));
    finally
      A.Free;
      Ctx.Free;
    end;
  except
    on E: Exception do
      Writeln(E.ClassName, ': ', E.Message);
  end;
  Readln;
end. 
```

# asp.net-mvc - Html.ActionLink 给出错误：无法解析操作

> ID：10497377
> 
> 赞同：5
> 
> 时间：2012-05-08T11:05:08.690
> 
> 标签：asp.net-mvc, asp.net-mvc-3, razor

我在我的 jquery 中使用 Html.ActionLink 但是当我输入我的操作名称时出现错误，请检查我的更新。

为什么我会得到这个？我真的需要在这里使用 ActionLink。

这是jquery代码：

```
result.forEach(function (goalcard) {
    $("#GoalcardSearchResult tbody").append(
            $('<tr/>', {
                click: function () {
                    id = goalcard.Id;
                    var url = '@Url.Action("AnswerForm", "AnswerNKI", new { id = "__id__"})';
                    window.location.href = url.replace('__id__', id);

                },
                // steg Create a row for each result 
                html: "<td>" + goalcard.Name +
                "</td><td>" + goalcard.Customer +
                "</td><td>" + goalcard.PlannedDate +
                "</td><td>" + goalcard.CompletedDate + 
                "</td><td>" + '@(Html.ActionLink("Ändra", "Edit","Admin")) | @(Html.ActionLink("Skapa Mall", "Inactive","Admin", new { @class = "deleteLink" })) | @(Html.ActionLink("Genomför","AnswerForm","AnswerNKI"))' + "</td>"
            }));
    });
    $('#GoalcardSearchResult tbody').trigger("update");
    $("#GoalcardSearchResult").tablesorter({
        headers: { 4: { sorter: false } }
    });
}); 
```

更新：

发现问题，我的操作方法有 int ID 作为参数。我需要做以下事情：

```
@(Html.ActionLink("Genomför", "AnswerForm", "AnswerNKI", new {id = goalcard.id}, null)) 
```

goalcard.id 带有 ID，但以某种奇怪的方式出现了一个新错误：

无法解析符号“goalcard”

任何形式的帮助表示赞赏！

提前致谢！

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2012-05-08T11:15:11.440

错误来自哪个链接？还是全部？我发现使用 T4MVC 消除了许多围绕魔术字符串的问题，例如您在 JSON 中的问题。

[http://t4mvc.codeplex.com/](http://t4mvc.codeplex.com/)

可能值得从您的控制器复制方法签名以帮助我们回答问题。

另一个可能的问题可能是其中一个控制器操作具有 [HttpPost] 属性。

# delphi - Delphi 中的异步文件 I/O

> ID：10497380
> 
> 赞同：4
> 
> 时间：2012-05-08T11:05:16.257
> 
> 标签：delphi, asynchronous, io

在[本文中](http://www.delphibasics.co.uk/Method.asp?NameSpace=System.IO&Class=FileStream&Type=Class&Method=BeginRead) delphi.net(prism) 支持异步文件 io。Delphi(Native/VCL) 也有异步文件 IO 类？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T11:09:17.210

RTL/VCL 没有内置任何东西为文件提供异步 I/O。顺便说一句，Delphi Prism 中的支持取决于 .net 框架，而不是基于语言。

您可以直接针对 Win32 API 编写代码（这不是很有趣），也可以四处寻找该 API 的 Delphi 包装器。在我的脑海中，我不知道异步文件 I/O 的任何 Delphi 包装器，但它们必须存在。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-08T12:39:58.243

你见过这段代码吗？[http://pastebin.com/A2EERtyW](http://pastebin.com/A2EERtyW)

这是异步文件 I/O 的良好开端，但我个人会围绕标准`TStream`类编写一个包装器以保持与 VCL/RTL 的兼容性。

**编辑2**：这个看起来也不错。[http://www.torry.net/vcl/filedrv/other/dstreams.zip](http://www.torry.net/vcl/filedrv/other/dstreams.zip)

我把它贴在这里，以防它从 Pastebin 中消失：

```
unit xfile;

{$I cubix.inc}

interface

uses
  Windows,
  Messages,
  WinSock,
  SysUtils,
  Classes;

const
  MAX_BUFFER = 1024 * 32;

type
  TFileReadEvent = procedure(Sender: TObject; const Buffer; Count: Integer) of object;

  TAsyncFile = class
  private
    FHandle: THandle;
    FPosition: Cardinal;
    FReadPending: Boolean;
    FOverlapped: TOverlapped;
    FBuffer: Pointer;
    FBufferSize: Integer;
    FOnRead: TFileReadEvent;
    FEof: Boolean;
    FSize: Integer;
    function ProcessIo: Boolean;
    procedure DoOnRead(Count: Integer);
    function GetOpen: Boolean;
  public
    constructor Create(Filename: string; BufferSize: Integer = MAX_BUFFER);
    destructor Destroy; override;
    procedure BeginRead;
    procedure Seek(Position: Integer);
    procedure Close;
    property OnRead: TFileReadEvent read FOnRead write FOnRead;
    property Eof: Boolean read FEof;
    property IsOpen: Boolean read GetOpen;
    property Size: Integer read FSize;
  end;

function ProcessFiles: Boolean;

implementation

var
  Files: TList;

function ProcessFiles: Boolean;
var
  i: Integer;
  AsyncFile: TAsyncFile;
begin
  Result := False;
  for i := Files.Count - 1 downto 0 do
  begin
    AsyncFile := TAsyncFile(Files[i]);
    Result := AsyncFile.ProcessIo or Result;
  end;
end;

procedure Cleanup;
var
  i: Integer;
  AsyncFile: TAsyncFile;
begin
  for i := Files.Count - 1 downto 0 do
  begin
    AsyncFile := TAsyncFile(Files[i]);
    AsyncFile.Free;
  end;
  Files.Free;
end;

{ TAsyncFile }

constructor TAsyncFile.Create(Filename: string; BufferSize: Integer);
begin
  Files.Add(Self);
  FReadPending := False;
  FBufferSize := BufferSize;
  GetMem(FBuffer, FBufferSize);
  FillMemory(@FOverlapped, SizeOf(FOverlapped), 0);

  Cardinal(FHandle) := CreateFile(
                  PChar(Filename),         // file to open
                  GENERIC_READ,            // open for reading
                  0,                       // do not share
                  nil,                     // default security
                  OPEN_EXISTING,           // open existing
                  FILE_ATTRIBUTE_NORMAL, //or // normal file
                  //FILE_FLAG_OVERLAPPED,    // asynchronous I/O
                  0);                      // no attr. template

  FSize := FileSeek(FHandle, 0, soFromEnd);
  FileSeek(FHandle, 0, soFromBeginning);
  FPosition := 0;
end;

destructor TAsyncFile.Destroy;
begin
  Files.Remove(Self);
  CloseHandle(FHandle);
  FreeMem(FBuffer);
  inherited;
end;

function TAsyncFile.ProcessIo: Boolean;
var
  ReadCount: Cardinal;
begin  
  Result := False;  Exit;
  if not FReadPending then
  begin
    Exit;
  end;

  if GetOverlappedResult(FHandle, FOverlapped, ReadCount, False) then
  begin
    FReadPending := False;
    DoOnRead(ReadCount);
  end
  else
  begin
    case GetLastError() of
      ERROR_HANDLE_EOF:
      begin
        FReadPending := False;
        FEof := True;
      end;
      ERROR_IO_PENDING:
      begin
        FReadPending := True;
      end;
      0:
      begin
        Result := True; 
      end;
    end;
  end;
end;

procedure TAsyncFile.BeginRead;
var
  ReadResult: Boolean;
  ReadCount: Cardinal;
begin
  ReadCount := 0;
  Seek(FPosition);
  ReadResult := ReadFile(FHandle, FBuffer^, FBufferSize, ReadCount, nil);//@FOverlapped);
  if ReadResult then
  begin
    FEof := False;
    FReadPending := False;
    FPosition := FPosition + ReadCount;
    DoOnRead(ReadCount);
  end
  else
  begin
    case GetLastError() of
      ERROR_HANDLE_EOF:
      begin
        FReadPending := False;
        FEof := True;
      end;
      ERROR_IO_PENDING:
      begin
        FReadPending := True;
      end;
    end;
  end;
end;

procedure TAsyncFile.DoOnRead(Count: Integer);
begin
  if Assigned(FOnRead) then
  begin
    FOnRead(Self, FBuffer^, Count);
  end;
end;

function TAsyncFile.GetOpen: Boolean;
begin
  Result := Integer(FHandle) >= 0;
end;

procedure TAsyncFile.Close;
begin
  FileClose(FHandle);
end;

procedure TAsyncFile.Seek(Position: Integer);
begin
  FPosition := Position;
  FileSeek(FHandle, Position, soFromBeginning);
end;

initialization
  Files := Tlist.Create;

finalization
  Cleanup;

end. 
```

# c# - 字典中的第一项

> ID：10497383
> 
> 赞同：0
> 
> 时间：2012-05-08T11:05:27.817
> 
> 标签：c#, c#-4.0

我有一个按降序排序的字典。每个字符串（键）是一个术语，而 int（值）是它的计数。我如何获得第一个计数？因为它指的是最大计数（频率）.......提前谢谢。

```
Just to inform some of whom commented that the dictionary<string,int> will change its
rank. Be sure, if you are grouping  the dictionary by its count, there is no problem  
with the order . Always the dictionary will come with highest count at first. 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-08T11:07:02.920

“按降序排序的字典”是什么意思？A`Dictionary<TKey,TValue>`根据定义是未排序的！你的意思是`SortedDictionary<TKey,TValue>`？如果是这样，您可以使用：

```
var firstCount = sortedDictionary.First().Value; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:08:22.530

您不能依靠 a`Dictionary`来保持有序（[`OrderedDictionary`](http://msdn.microsoft.com/en-us/library/system.collections.specialized.ordereddictionary.aspx)当然，除非它是 a）。如果您使用的是`OrderedDictionary`，则可以使用它的索引器：

```
var maximumCount = myDictionary[0]; 
```

或者

```
var maximumCount = myDictionary.First().Value; 
```

编辑：如果你想要整个字典中的最高计数，你也可以使用这个：

```
var maximumCount = myDictionary.Max(entry => entry.Value); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:10:38.693

我相信您使用了错误类型的字典。改用一个`OrderedDictionary<>`。它将为您提供有保证的订单和索引器。

```
OrderedDictionary list = new OrderedDictionary();

// add a bunch of items

int firstValue = (int)list[0]; 
```

OrderedDictionary 的唯一缺点是它不是通用的，但这里是如何使它通用的方法。 [http://www.codeproject.com/Articles/18615/OrderedDictionary-TA-generic-implementation-of-IO](http://www.codeproject.com/Articles/18615/OrderedDictionary-T-A-generic-implementation-of-IO)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-08T11:07:29.287

下面的呢

```
yourDictionary.First().Value 
```

请记住，当您添加更多值时，它很可能会改变顺序

MSDN对此发出警告

[http://msdn.microsoft.com/en-us/library/ekcfxy3x(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/ekcfxy3x(v=vs.100).aspx)

# shell - 在参数中拆分字符串（使用 sed/awk）

> ID：10497391
> 
> 赞同：-1
> 
> 时间：2012-05-08T11:06:18.363
> 
> 标签：shell, unix, scripting, ksh, tokenize

环境：KornShell (ksh)

我想分隔下面的字符串：

```
-ssRMDFXXRT -rtETL -ltDAILY -sD20120203 -lfRS -UP"EffTimeStamp=20110203-210000#InputCtxNm=Forigen Exchange Today#RunType=EOD" -QqDESKTOP -Ln9999 -XmXMLBLOCK 
```

并且输出应该是（-UP 之后的字符串应该保留为一个标记）：

```
-ssRMDFXXRT 
-rtETL 
-ltDAILY 
-sD20120203 
-lfRS 
-UP"EffTimeStamp=20110203-210000#InputCtxNm=Forigen Exchange Today#RunType=EOD" 
-QqDESKTOP 
-Ln9999 
-XmXMLBLOCK 
```

我尝试了很多但无法获得预期的输出，但现在我想我需要一些帮助。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:14:58.303

```
for arg in "$@"; do printf '<%s>\n' "$arg"; done 
```

这会迭代所有参数，并且不会在空格处破坏参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T14:00:34.227

您必须使用 eval 让 shell 尊重引用的参数

```
$ str='-ssRMDFXXRT -rtETL -ltDAILY -sD20120203 -lfRS -UP"EffTimeStamp=20110203-210000#InputCtxNm=Forigen Exchange Today#RunType=EOD" -QqDESKTOP -Ln9999 -XmXMLBLOCK'
$ arr=($str); echo ${#arr[@]}
11
$ arr=("$str"); echo ${#arr[@]}
1
$ eval arr=($str); echo ${#arr[@]}
9 
```

然后按行显示：`printf "%s\n" "${arr[@]}"`
您会注意到双引号已从“复杂”参数中消失。

但是，你的初始字符串`"$*"`不对？如果是，请`"$@"`改用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T12:53:30.213

```
krithika.542> echo "-ssRMDFXXRT -rtETL -ltDAILY -sD20120203 -lfRS -UP"EffTimeStamp=20110203-210000#InputCtxNm=Forigen Exchange Today#RunType=EOD" -QqDESKTOP -Ln9999 -XmXMLBLOCK" | perl -pe 's/ /\n/g'
-ssRMDFXXRT
-rtETL
-ltDAILY
-sD20120203
-lfRS
-UPEffTimeStamp=20110203-210000#InputCtxNm=Forigen
Exchange
Today#RunType=EOD
-QqDESKTOP
-Ln9999
-XmXMLBLOCK
krithika[ncm_o12.0_int.cctcsvibh].543> 
```

# .net - MSChart：饼图标签重叠问题

> ID：10497392
> 
> 赞同：5
> 
> 时间：2012-05-08T11:06:21.553
> 
> 标签：.net, vb.net, visual-studio, mschart

我`MSChart Control`在我的一个`VB.NET`项目中使用过。我决定在饼图中显示下表所示的数据。

![在此处输入图像描述](../Images/da27f36ed6ab9bf95877b56f087223e9.png)

但是标签相互重叠以摆脱它我尝试了“<strong>智能标签”属性，如下所示。

```
Chart1.Series("Default").SmartLabelStyle.Enabled = True
Chart1.Series("Default").SmartLabelStyle.AllowOutsidePlotArea = LabelOutsidePlotAreaStyle.No

Chart1.Series("Default").SmartLabelStyle.CalloutLineAnchorCapStyle = LineAnchorCapStyle.None

Chart1.Series("Default").SmartLabelStyle.CalloutLineColor = Color.Red

Chart1.Series("Default").SmartLabelStyle.CalloutLineWidth = 1
Chart1.Series("Default").SmartLabelStyle.CalloutStyle = LabelCalloutStyle.None 
```

但这**对我没有帮助**……尽管它根据以下屏幕截图向我显示了输出。 ![在此处输入图像描述](../Images/7f1937e1200059a05663d08aeb2fdec6.png)

**我必须使用哪些属性来摆脱它？**……

**编辑：**

如果我确实设置了自定义属性`PieLabelStyle=Outside`，它没有任何区别，正如您在下面的屏幕截图中看到的那样。

![在此处输入图像描述](../Images/2578bd53da1934055fd21d977f6328d0.png)

请帮我..

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-05-08T13:23:25.767

将 PieLabelStyle 自定义设置更改为外部。这应该将所有标签放在图表周围，线条指向相关部分。

用于 VB

```
Chart1.Series(0)("PieLabelStyle") = "Outside"
Chart1.ChartAreas(0).Area3DStyle.Enable3D = true
Chart1.ChartAreas(0).Area3DStyle.Inclination = 10 
```

对于 C#

```
Chart1.Series[0]["PieLabelStyle"] = "Outside";
Chart1.ChartAreas[0].Area3DStyle.Enable3D = true;
Chart1.ChartAreas[0].Area3DStyle.Inclination = 10; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-16T21:32:18.987

我尝试使用 Visual Studio 设计器以及在代码中设置上述说明。它没有用。

在 Visual Studio 设计器中，转到 Series1->CustomProperties。您可以展开 CustomProperties 并根据图表类型设置各个属性。但是在 CustomProperties 的第一行中，在各个字段中设置了 CustomProperties 的文本表示。由于我的图表是从其他 ChartType 转换而来的，因此它在第一行包含自定义属性，但这些属性不适用于 Pie。这就是未能尊重 CustomProperties 设置的原因。 **我手动删除了第一行 CustomProperties 和 ...**

> PieLabelStyle=外部

开始工作了！所有标签都变得可读。我将此视为图表设计器的错误。更改 ChartType 后，它应该会自动清理旧的 CustomProperties。

# google-app-engine - 地图通话可以持续多长时间？

> ID：10497393
> 
> 赞同：0
> 
> 时间：2012-05-08T11:06:22.187
> 
> 标签：google-app-engine, mapreduce

我想在映射器的 map() 调用中做一些繁重的处理。我正在浏览源文件 MapReduceServlet.java：

```
// Amount of time to spend on actual map() calls per task execution.
public static final int PROCESSING_TIME_PER_TASK_MS = 10000; 
```

这是否意味着，地图调用只能持续 10 秒。10秒后会发生什么？我可以将其增加到 1 分钟或 10 分钟之类的大数字吗？

-阿斯瓦特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-09T01:10:59.363

MapReduce 操作是在使用[Push Queues](https://developers.google.com/appengine/docs/java/taskqueue/overview-push#Quotas_and_Limits_for_Push_Queues)的任务中执行的，并且如[文档](https://developers.google.com/appengine/docs/java/taskqueue/overview-push#Task_Execution)中所述，任务截止日期当前为 10 分钟（之后您将获得一个限制`DeadlineExceededException`）。

如果任务执行失败，默认情况下 App Engine 会重试，直到成功。如果您需要 10 分钟更长的截止日期，您可以使用[Backend](https://developers.google.com/appengine/docs/java/taskqueue/overview-push#Push_Queues_and_Backends)来执行您的任务。

[查看Worker.java](http://code.google.com/searchframe#XwsseYUY0Ps/trunk/java/src/com/google/appengine/tools/mapreduce/v2/impl/handlers/Worker.java&q=PROCESSING_TIME_PER_TASK_MS%20package%3ahttp://appengine-mapreduce%5C.googlecode%5C.com&l=108)中 PROCESSING_TIME_PER_TASK_MS 的实际使用情况，该值用于限制单个任务中完成的 map 调用次数。

`map`如果自任务开始以来已超过 10 秒，则在执行每个调用后，它将生成一个新任务来处理其余的地图调用。

1.  [`Worker.scheduleWorker`](http://code.google.com/searchframe#XwsseYUY0Ps/trunk/java/src/com/google/appengine/tools/mapreduce/v2/impl/handlers/Worker.java&q=PROCESSING_TIME_PER_TASK_MS%20package%3ahttp://appengine-mapreduce%5C.googlecode%5C.com&l=51)为每个给定的分片生成一个新任务
2.  每个任务都会调用[`Worker.processMapper`](http://code.google.com/searchframe#XwsseYUY0Ps/trunk/java/src/com/google/appengine/tools/mapreduce/v2/impl/handlers/Worker.java&q=PROCESSING_TIME_PER_TASK_MS%20package%3ahttp://appengine-mapreduce%5C.googlecode%5C.com&l=81)
3.  `processMapper`执行 1`map`次通话
4.  如果自 2 以来经过的时间少于 PROCESSING_TIME_PER_TASK_MS。请返回 3。
5.  否则，如果处理未完成，则[重新安排新的工作任务](http://code.google.com/searchframe#XwsseYUY0Ps/trunk/java/src/com/google/appengine/tools/mapreduce/v2/impl/handlers/Worker.java&q=PROCESSING_TIME_PER_TASK_MS%20package%3ahttp://appengine-mapreduce%5C.googlecode%5C.com&l=303)

在最坏的情况下，默认任务请求截止日期（10 分钟）应适用于您的每个单独的地图调用。

# c# - 如何在 WPF 中使用窗口作为启动画面？

> ID：10497395
> 
> 赞同：1
> 
> 时间：2012-05-08T11:06:33.700
> 
> 标签：c#, .net, wpf, splash-screen

我想使用常规窗口作为初始屏幕，所以没有 PNG 初始屏幕，而是一个可以在其中添加一些位图的普通窗口。

最好的方法是什么：在 app.xaml 中保留主屏幕的加载并将启动屏幕放在构造函数中或事件处理程序中的某个位置？

启动画面本身非常简单，只有一些标签、一个链接、几张图片，然后在关闭前等待几秒钟，等待期间无需执行任何操作。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T11:09:44.477

[特别是对于初始屏幕，为此目的](http://msdn.microsoft.com/en-us/library/cc656886.aspx)利用 .NET 3.5 中引入的功能非常重要。如果您只是使用 vanilla `Window`，则 WPF 堆栈可能需要相当长的时间来初始化，并且在此期间，用户不会看到任何关于“启动应用程序”操作的反馈。

当然，这不满足问题的要求（“使用常规窗口”），但如果它不可接受，我建议完全使用与 WPF 不同的技术，因为上面提到的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-08T11:24:05.373

我自己设计了我的 WPF 应用程序动态启动画面，其中有一个动画，每个软件都会更改的动态软件编号，每 1/2 毫秒更新一次的标签以显示软件目录中的一些随机文件名。

坦率地说，我用这个链接来创建我的

[http://www.codeproject.com/Articles/38291/Implement-Splash-Screen-with-WPF](http://www.codeproject.com/Articles/38291/Implement-Splash-Screen-with-WPF)

还有其他链接我可以提供给你

[http://www.codeproject.com/Articles/116875/WPF-Loading-Splash-Screen](http://www.codeproject.com/Articles/116875/WPF-Loading-Splash-Screen) [http://www.olsonsoft.com/blogs/stefanolson/post/A-better-WPF-splash-screen.aspx](http://www.olsonsoft.com/blogs/stefanolson/post/A-better-WPF-splash-screen.aspx)

# core-animation - 从 CATransform3D 到 CGAffineTransform

> ID：10497397
> 
> 赞同：6
> 
> 时间：2012-05-08T11:06:45.697
> 
> 标签：core-animation, core-graphics

我正在使用以下函数将脉冲效果应用于视图

```
- (void)pulse {

    CATransform3D trasform = CATransform3DScale(self.layer.transform, 1.15, 1.15, 1);
    trasform = CATransform3DRotate(trasform, angle, 0, 0, 0);

    CABasicAnimation *animation = [CABasicAnimation animationWithKeyPath:@"transform"];
    animation.toValue = [NSValue valueWithCATransform3D:trasform];
    animation.autoreverses = YES;
    animation.duration = 0.3;
    animation.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut];
    animation.repeatCount = 2;
    [self.layer addAnimation:animation forKey:@"pulseAnimation"];

} 
```

**我想使用 CGAffineTransform self.transform 而不是 CATransform3D self.layer.transform 获得相同的结果。**这可能吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-08-26T15:32:08.270

可以将 a 转换`CATransform3D`为 a `CGAffineTransform`，但您将失去一些功能。我发现将图层及其祖先的聚合变换转换为 a 很有用，`CGAffineTransform`因此我可以使用 Core Graphics 渲染它。约束是：

*   您的输入将被视为 XY 平面中的平面
*   您的输出在 XY 平面上也将被视为平坦的
*   透视/透视`.m34`将被中和

如果这对于您的目的来说听起来不错：

```
 // m13, m23, m33, m43 are not important since the destination is a flat XY plane.
    // m31, m32 are not important since they would multiply with z = 0.
    // m34 is zeroed here, so that neutralizes foreshortening. We can't avoid that.
    // m44 is implicitly 1 as CGAffineTransform's m33.
    CATransform3D fullTransform = <your 3D transform>
    CGAffineTransform affine = CGAffineTransformMake(fullTransform.m11, fullTransform.m12, fullTransform.m21, fullTransform.m22, fullTransform.m41, fullTransform.m42); 
```

您将希望首先在 3D 转换中完成所有工作，例如从您的超层连接，然后最后将聚合转换`CATransform3D`为`CGAffineTransform`. 鉴于图层一开始是平坦的并渲染到平坦的目标上，我发现这非常合适，因为我的 3D 旋转变成了 2D 剪切。我还发现牺牲透视是可以接受的。没有办法解决这个问题，因为仿射变换必须保留平行线。

例如，要使用 Core Graphics 渲染 3D 变换层，您可以连接变换（考虑锚点！），然后转换为仿射，最后：

```
 CGContextSaveGState(context);
    CGContextConcatCTM(context, affine);
    [layer renderInContext:context];
    CGContextRestoreGState(context); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-08T17:24:52.307

当然。如果您在 Xcode 文档中搜索 CGAffineTransform，您会找到标题为“CGAffineTransform Reference”的一章。在那一章中有一节叫做“功能”。它包括等效于 CATransform3DScale (CGAffineTransformScale) 和 CATransform3DRotate (CGAffineTransformRotate) 的函数。

请注意，您对 CATransform3DRotate 的调用实际上没有任何意义。您需要围绕一个轴旋转，并且您为所有 3 个轴传递 0。通常，您希望使用 CATransform3DRotate(trasform, angle, 0, 0, **1.0** ) 围绕 Z 轴旋转。引用文档：

> 如果向量的长度为零，则行为未定义。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-03-23T11:32:34.570

您可以使用**CATransform3DGetAffineTransform**将 CATransform3d 转换为 CGAffineTransform。

```
let scaleTransform = CATransform3DMakeScale( 0.8, 0.8, 1)
imageview.transform = CATransform3DGetAffineTransform(scaleTransform) 
```

# android - 返回的朋友/事件的图形 API 限制

> ID：10497402
> 
> 赞同：0
> 
> 时间：2012-05-08T11:06:57.570
> 
> 标签：android, facebook-graph-api

我正在使用以下内容通过我的 Android 应用程序结交朋友

```
Bundle params = new Bundle();
params.putString("fields", "id,name,birthday");
Utility.mAsyncRunner.request("me/friends", params, new EventsRequestListener()); 
```

我一直在查看文档，但找不到有关将返回多少朋友的任何详细信息。我可以传入一个限制参数，例如 500 吗？还是所有api调用的这个标准？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:36:17.087

您可以使用 `https://graph.facebook.com/me/friends?limit=5`或

```
Utility.mAsyncRunner.request("me/friends?limit=5", params, new EventsRequestListener()); 
```

您可以使用 Graph Explorer 检查您的好友限制：

[图形浏览器](https://developers.facebook.com/tools)

单击**Graph API**，然后在 Edit Text 中添加您的查询，您应该将 Access token 传递给 this ，因此通过单击**GetAccess Token**按钮获取 Access token 。它将要求选择**Friends Data Permission**选项，然后您将获得访问令牌，然后添加您的查询以检查您的结果。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-19T15:17:25.440

I ran into the same problem as the OP with the accepted answer. The way to get around the API adding the ? is to set the limit as one of your parameters.

```
Bundle params = new Bundle();
params.putString("limit", "10");
Utility.mAsyncRunner.request("me/friends", params, new EventsRequestListener())); 
```

When it creates the URL it will add the "&limit=10" correctly after the access token

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:13:31.843

是的，您可以通过添加 ?limit=5 来通过限制：

```
Utility.mAsyncRunner.request("me/friends?limit=5", params, new EventsRequestListener()); 
```

有关更多详细信息，请参阅[Graph API](http://developers.facebook.com/docs/reference/api/)

# python - 指定多个数据库时，Django syncdb 尝试插入重复行

> ID：10497418
> 
> 赞同：1
> 
> 时间：2012-05-08T11:08:02.577
> 
> 标签：python, mysql, django, django-syncdb, django-orm

我正在为多个数据库配置我的 Django 应用程序，作为权宜之计，我在我的 settings.py 中使用以下配置：

```
READ_DATABASE = {
    'ENGINE': 'django.db.backends.mysql',
    'NAME': 'thedatabase',
    'USER': 'read_only',
    'PASSWORD': '',
    'OPTIONS': {
        'init_command': 'SET storage_engine=INNODB'
    }
}

WRITE_DATABASE = {
    'ENGINE': 'django.db.backends.mysql',
    'NAME': 'thedatabase',
    'USER': 'root',
    'PASSWORD': '',
    'OPTIONS': {
        'init_command': 'SET storage_engine=INNODB'
    }
}

DATABASES = {'default': WRITE_DATABASE,
             'read': READ_DATABASE} 
```

它们指向同一个数据库，以模拟主从对。正如您可能猜到的`read_only`那样，用户只有读取权限。

我的数据库路由器如下所示：

```
from django.conf import settings 

class MasterSlaveRouter(object):

    def db_for_read(self, model, **hints):
        return 'read' 

    def db_for_write(self, model, **hints):
        return 'default' 

    def allow_relation(self, db1, db2, **hints):
        return True

    def allow_syncdb(self, db, model):
        return db in ('default',) 
```

运行 syncdb 时，它现在在设置超级用户后立即崩溃，并出现错误：

```
django.db.utils.IntegrityError: (1062, "Duplicate entry 'auth-permission' for key 'app_label'") 
```

未能执行的有问题的 SQL 是：

```
INSERT INTO `django_content_type` (`name`, `app_label`, `model`) VALUES (permission, auth, permission) 
```

此错误**仅**在 my 中指定第二个读取数据库时发生`settings.py`，当仅存在`default`数据库时，syncdb 命令成功完成。

有什么建议可能导致这种情况吗？

**编辑：** Django 版本是 1.2.3

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-10T14:26:48.970

经过几个小时的修修补补，我推断发生这种情况的原因是因为某些 Django 模型（在这种情况下`django.contrib.contenttype.models.ContentType`也是如此`django.contrib.site.models.Site`）具有自己的[内置缓存机制](https://docs.djangoproject.com/en/dev/ref/contrib/contenttypes/#the-contenttypemanager)。

由于我已经为同一个数据库设置了两个不同的连接，这导致了一个问题，因为`contenttype`只读连接的缓存没有因`ContentType`写入连接上的模型而失效。

解决这个问题的方法是将我的`db_for_read`方法更改为这样的：

```
    def db_for_read（自我，模型，**提示）：
        if model._meta.app_label in ('contenttypes', 'sites'):
            返回'写'
        别的：
            返回“阅读”

```

# eclipse - 如何在 Eclipse 插件开发中从欢迎介绍页面打开任何 Eclipse 向导

> ID：10497423
> 
> 赞同：1
> 
> 时间：2012-05-08T11:08:37.633
> 
> 标签：eclipse, eclipse-plugin

我在 Eclipse 中创建了我的介绍页面。我的 introSite 包含一个浏览器和一个静态 html 页面。现在只点击 html 中的链接，我想打开 Eclipse 向导，所以我使用了这些 - [http://org.eclipse.ui.intro/runAction?pluginId=org.eclipse.ui.ide&class=org.eclipse.ui.actions .QuickStartAction&standby=false](http://org.eclipse.ui.intro/runAction?pluginId=org.eclipse.ui.ide&class=org.eclipse.ui.actions.QuickStartAction&standby=false)

我声明了一个插件和类。我在课堂上实现了 IAction，但是在打开超链接的欢迎和按下后，我什么也没得到。我还需要注意什么才能达到同样的效果。

# arrays - 是否可以在 bash 中使用 $array=() ？

> ID：10497425
> 
> 赞同：10
> 
> 时间：2012-05-08T11:08:39.307
> 
> 标签：arrays, bash

两件事，首先这是我在这个论坛上的第一个问题，如果格式化到处都是，我深表歉意。其次，我没有编写那么多 bash 脚本，而且我编写的脚本之间的时间往往很长。

也就是说，这是我的问题。

是否可以在 bash 中做这样的事情（清除数组 $array 包含）：
`$array=()`

基本上这就是我想做的。我有一个带有数组变量名的变量：

```
array1=()  
array2=()  
arrayList="array1 array2"  

# In a function far far away
for array in $arrayList
do  
    eval arr=("\"\${$array[@]\"")  

    for index in ${!arr[@]}
    do
        echo "${arr[$index]}"
    done
    # Here is the big "?", I like to clear the array that $array refers to.
    $array=()  
done 
```

我的数组包含包含“ `”（空格）的字符串，这就是我使用该`eval`语句的原因。不确定它是否需要，但至少它正在工作。该脚本或多或少也可以按照我的意愿工作，但是我需要清除 . 中的数组`$arrayList`，并且我宁愿不在某处对其进行硬编码，即使这很容易。`

 `* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-05-08T11:16:10.340

可能最简单的事情就是`unset`他们。在大多数情况下，未设置的变量与空数组的行为相同，并且`unset $array`应该可以正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:19:30.920

`$foo=bar` *你永远*做不到——这不是 bash 中间接赋值的工作方式。不幸的是，虽然能够进行间接数组赋值是 ksh93 中的一个可用特性，但它不是 bash 中正式记录的可用特性。

引用[BashFAQ #6](http://mywiki.wooledge.org/BashFAQ/006)（如果您有兴趣了解更多关于一般使用间接变量的信息，则应完整阅读）：

> 我们不知道任何可以在 POSIX 或 Bourne shell 中复制该功能的技巧（缺少使用[eval](http://mywiki.wooledge.org/BashFAQ/048)，这很难安全地执行）。Bash 几乎可以做到——一些间接数组技巧有效，而另一些则无效，而且我们不知道所涉及的语法在未来的版本中是否会保持稳定。因此，请考虑这是一种使用风险自负的黑客攻击。
> 
> ```
> # Bash -- trick #1\.  Seems to work in bash 2 and up.
> realarray=(...) ref=realarray; index=2
> tmp="$ref[$index]"
> echo "${!tmp}"            # gives array element [2]
> 
> # Bash -- trick #2\.  Seems to work in bash 3 and up.
> # Does NOT work in bash 2.05b.
> tmp="$ref[@]"
> printf "<%s> " "${!tmp}"; echo    # Iterate whole array. 
> ```

但是，清除更简单，`unset $array`可以正常工作。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-08-01T08:20:16.910

```
array=() 
```

它清除数组。我想这就是你想要的..`

# android - Android 地图活动崩溃，我无法安装 APK

> ID：10497427
> 
> 赞同：0
> 
> 时间：2012-05-08T11:08:52.547
> 
> 标签：android, map

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.onsite"
    android:versionCode="1"
    android:versionName="@string/app_version" >

    <uses-sdk android:minSdkVersion="8" />

    <supports-screens
        android:anyDensity="true"
        android:largeScreens="true"
        android:normalScreens="true"
        android:resizeable="true"
        android:smallScreens="true" >
    </supports-screens>

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
    <uses-permission android:name="android.permission.SEND_SMS" />

    <application
        android:icon="@drawable/icon"
        android:label="@string/app_name"
        android:name="MainApplication" >
        <uses-library android:name="com.google.android.maps" />

        <activity
            android:label="@string/app_name"
            android:name=".Startup"
            android:theme="@style/SVSSplashTheme"
            android:windowSoftInputMode="stateHidden" >
            <intent-filter >
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
 </application>

</manifest> 
```

这是我的清单。如果我删除 `<uses-library android:name="com.google.android.maps" />`，我可以安装导出 APK 并将其安装在设备中，但我的 android 地图活动崩溃。如果我添加此行，我将无法安装 APK。我没有安装应用程序。谁能告诉我我做错了什么？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T13:40:33.660

请检查您的控制台是否出现错误，例如缺少共享库，然后使用 android Google API 2.2 或您正在使用的任何操作系统启动一个新的模拟器，然后您的地图应用程序就可以完美运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:25:23.317

只是没有看到 logcat 的猜测，但可能您正在尝试安装到缺少实现 maps api 的库的设备上。

如果这是一个物理设备，那么您就不走运了 - 您的供应商没有从 Google 获得此专有组件的许可。（您可以查看 Android 上对开放街道地图的支持程度如何？）

如果是模拟器，则需要切换到基于“Google API”图像之一的 AVD。

# android - 为什么我的电脑上的安卓模拟器很慢

> ID：10497431
> 
> 赞同：-1
> 
> 时间：2012-05-08T11:09:11.517
> 
> 标签：android

> **可能重复：**
> [慢速安卓模拟器](https://stackoverflow.com/questions/1554099/slow-android-emulator)

是我电脑的硬件限制吗？它有 1024 兆字节的 ram 2200 x 2 双核 amd cpu 我无法开发任何 android。模拟器很重，我该怎么办？我下载了旧的sdk和更新的sdk，但它仍然是一样的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:11:41.177

您可以尝试使用 x86 (Atom) 系统映像，它比 arm 映像快

有关更多信息，请参阅此[链接](http://software.intel.com/en-us/articles/installing-the-intel-atom-tm-android-x86-emulator-image-add-on-from-the-android-sdk-manager/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:17:16.087

我的 PC 比你好得多，甚至在模拟我为 android 开发的一些 OpenGL ES 应用程序时也遇到了困难。您必须了解，模拟与当前架构不同的 CPU 是非常困难的，因此很难做到非常优化。在 x86 上为 ARM 运行机器代码必须在运行时带来一些延迟。来回转换和重新包装。

我宁愿尝试使用您自己的 Android 设备进行测试和调试，而不是模拟器。它实时运行，如果您不想升级 CPU 和 RAM，它会更好。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-05-08T11:20:46.720

1 GB 的内存是不够的。仅 Eclipse 将占用其中的三分之二（我的占用 900mb - 在 eclipse.ini 中进行了调整），而 HomeScreen 上的 2.2 模拟器将占用大约 200mb。除非您在编码时不打开其他任何东西——firefox、chrome（浏览器的 ram 吸盘）、邮件客户端、聊天客户端等，否则您只是低于限制的一小部分。

除了升级内存之外，您可以做的最好的事情是在 QVGA 中运行模拟器（在 AVD 管理器中，单击您的虚拟设备，单击编辑，在皮肤下，将内置更改为 QVGA。但它只会做这么多 - 你需要至少 4 gig 在所有其他应用程序打开的情况下顺利进行。

# php - 如何使用 API V3 在页面中显示多个 Google 地图

> ID：10497436
> 
> 赞同：0
> 
> 时间：2012-05-08T11:09:22.030
> 
> 标签：php, zend-framework, google-maps-api-3

我正在使用谷歌地图 API v3，但我遇到了问题。

我从数据库中获取坐标，我需要用不止一张地图显示它们，而且我不知道地图的数量。

这里的代码php代码：

```
<div id="view-content">
            <?php foreach ($this->tag as $tag) : ?>

                <div id="list">
                    <div id="left">
                        <div id="map_canvas" style=" margin-left: 5px; width: 136px; height: 136px;"></div>
                    </div>
                    <div id="right">
                        <div id="listtitre">
                            <a href="<?php echo $this->url(array('action' => 'maptag', 'controller' => 'maptag', 'module' => 'agent', 'idtag' => $tag['idtag'])); ?>"> 
                                <?php echo $tag['name']; ?>
                            </a>
                        </div>
                        <div id="tagdisctitle">
                            <font>Address: </font><br/>
                            <font>Latitude: </font><br/>
                            <font>Longitude: </font><br/>
                        </div>
                        <div id="taglistdisc">
                            <?php
                            if (strlen($tag["address"]) > 52)
                                echo substr($tag["address"], 0, 52) . "...";
                            else
                                echo substr($tag["address"], 0, 52) . ".";
                            ?> <br/>
                            <?php echo $tag['latitude']; ?><br/>
                            <?php echo $tag['longitude']; ?><br/>
                        </div>
                    </div> 
                </div>
            <?php endforeach; ?>
        </div> 
```

JS代码：

```
function initialize() {
    var myOptions = {
        center: new google.maps.LatLng(36.6464862, 9.9565553 ),
        zoom: 7,
        mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("map_canvas"),
        myOptions);
    google.maps.event.addListener(map, 'click', function(event) {
        placeMarker(event.latLng);
    });

    var marker;
    function placeMarker(location) {
        if(marker){ //on vérifie si le marqueur existe
            marker.setPosition(location); //on change sa position
        }else{
            marker = new google.maps.Marker({ //on créé le marqueur
                position: location, 
                map: map,
                icon : "/images/mapgo.png"
            });
        }
        latitude.value=location.lat();
        longitude.value=location.lng();
    }

} 
```

谢谢你的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T11:17:33.757

ID 在页面上必须是唯一的。由于您在循环中输出 HTML，因此您正在创建重复的 ID，包括 map_canvas div。您需要同时修改 HTML 和 javascript，以便在每次迭代时创建一个唯一 ID。最简单的方法是保持一个在每次迭代中递增的运行计数器，然后将此计数器包含在 ID 中：

```
<div id="map_canvas<?=$counter?>"> [...] </div> 
```

然后，您还需要更改您的 JS 以使用它。

# asp.net - 我可以从 Chrome 或 Firefox 窗口打开 IE 窗口吗

> ID：10497438
> 
> 赞同：-1
> 
> 时间：2012-05-08T11:09:29.410
> 
> 标签：asp.net, internet-explorer

我想从 chrome 或 firefox 浏览器打开一个 IE 窗口。我该怎么做？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:13:18.053

如果您的每个用户都没有为 IE、firefox/chrome 中的一个或两个安装插件/扩展，您就不能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:25:13.160

尝试这个

```
https://addons.mozilla.org/en-US/firefox/addon/ie-tab-2-ff-36/?src=api 
```

# php - 检查日期是在同一个月的某个日期之前还是之后

> ID：10497446
> 
> 赞同：-2
> 
> 时间：2012-05-08T11:09:54.247
> 
> 标签：php

我正在使用 PHP (Codeigniter) 开发一个 Web 应用程序。当用户在应用程序中请求某个资源时，我需要检查今天的日期是在本月 25 日之前还是之后。我怎样才能做到这一点？我不知道怎么做。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T11:12:13.047

这个应该做...

```
if ( date('j') < 25 ) {
    // date before 25th
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-08T11:13:04.260

您可以使用具有格式类型的`date`函数`j`

```
if (date('j') > 25) {
    // It is after the 25th
} elseif (date('j') < 25) {
    // It is before the 25th
} else {
    // It is the 25th
} 
```

有关详细信息，请参阅[http://php.net/manual/en/function.date.php](http://php.net/manual/en/function.date.php)

# azure-blob-storage - 从 Azure Blob 下载文件

> ID：10497449
> 
> 赞同：0
> 
> 时间：2012-05-08T11:10:08.177
> 
> 标签：azure-blob-storage

下面的代码用于从 azure blob 下载文件。我对 .docx、.xlsx 文件有问题，而且仅在部署后也有问题，这意味着在本地机器上它工作正常。

问题是在下载 .xlsx 或 .docx 后，当我打开该文件时显示文件损坏的弹出窗口。

```
public void DownloadBlob(string blobName)
{
    //You have to get values for below items from azure
    string accountName = "MyAccName";
    string accountPrimaryKey = "MyKey";
    string blobContainer = "ContainerName";
    CloudStorageAccount account = new CloudStorageAccount(new StorageCredentialsAccountAndKey(accountName, accountPrimaryKey), false);
    CloudBlobClient blobClient = account.CreateCloudBlobClient();
    CloudBlobContainer container = blobClient.GetContainerReference(blobContainer);
    CloudBlob blob = container.GetBlobReference(blobName);
    MemoryStream memStream = new MemoryStream();
    blob.DownloadToStream(memStream);

    Response.ContentType = blob.Properties.ContentType;
    Response.AddHeader("Content-Disposition", "Attachment; filename=" + blobName.ToString());
    Response.AddHeader("Content-Length", (blob.Properties.Length - 1).ToString());
    Response.BinaryWrite(memStream.ToArray());
    Response.End();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T17:10:20.643

我确信您的代码有问题，正如史蒂夫建议的那样，您设置的长度不正确。

我去年某个时候处理过类似的问题，并在我的博客中记录了解决方案，如下所示：

[http://blogs.msdn.com/b/avkashchauhan/archive/2011/04/05/downloading-word-and-excel-files-from-windows-azure-storage-in-a-asp-net-web-角色.aspx](http://blogs.msdn.com/b/avkashchauhan/archive/2011/04/05/downloading-word-and-excel-files-from-windows-azure-storage-in-a-asp-net-web-role.aspx)

# php - 谷歌结帐，数据库更新失败

> ID：10497452
> 
> 赞同：1
> 
> 时间：2012-05-08T11:10:27.287
> 
> 标签：php, google-checkout

我是从谷歌帮助下载并编辑谷歌结帐的代码。在这里我在我的网站中指定了 murchent 计算 url。但该功能在我的网站中不起作用。这是我的代码函数 UseCase3() { //创建一个新的购物车对象$merchant_id = "xxxxxxxxxxxxx"; // 您的商户 ID $merchant_key = "xxxxxxxxxxxxx"; $server_type = "沙盒"; $货币=“美元”；$cart = new GoogleCart($merchant_id, $merchant_key, $server_type, $currency);

```
// Add items to the cart
$item = new GoogleItem("MegaSound 2GB MP3 Player", 
    "Portable MP3 player - stores 500 songs", 1, 175.49);
$item->SetMerchantPrivateItemData("<color>blue</color><weight>3.2</weight>");
$cart->AddItem($item);

// Add merchant calculations options
$cart->SetMerchantCalculations(
    "https://mysite.com/google2/demo/responsehandlerdemo.php",
    "false", // merchant-calculated tax
    "true", // accept-merchant-coupons
    "true"); // accept-merchant-gift-certificates

// Add merchant-calculated-shipping option
$ship = new GoogleMerchantCalculatedShipping("2nd Day Air", // Shippping method
                                             10.00); // Default, fallback price
$restriction = new GoogleShippingFilters();
$restriction->AddAllowedPostalArea("GB");
$restriction->AddAllowedPostalArea("US");
$restriction->SetAllowUsPoBox(false);
$ship->AddShippingRestrictions($restriction);

$address_filter = new GoogleShippingFilters();
$address_filter->AddAllowedPostalArea("GB");
$address_filter->AddAllowedPostalArea("US");
$address_filter->SetAllowUsPoBox(false);
$ship->AddAddressFilters($address_filter);

$cart->AddShipping($ship);

// Set default tax options
$tax_rule = new GoogleDefaultTaxRule(0.15);
$tax_rule->SetWorldArea(true);
$cart->AddDefaultTaxRules($tax_rule);

$cart->AddRoundingPolicy("UP", "TOTAL");
  // Specify <edit-cart-url>
$cart->SetEditCartUrl("https://mysite.com/google/demo/cartdemo.php");

// Specify "Return to xyz" link
$cart->SetContinueShoppingUrl("https://mysite.com");
// Display XML data
// echo "<pre>";
// echo htmlentities($cart->GetXML());
// echo "</pre>";

// Display a disabled, small button
echo $cart->CheckoutButtonCode("SMALL"); 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T14:47:44.110

说明：

1.  Merchant Calculations URL - 顾名思义，是 Google 将用于发送运费和税金、促销计算的回调请求的 URL。这就是[Merchant Calculations API](https://developers.google.com/checkout/developer/Google_Checkout_XML_API_Merchant_Calculations_API)中记录的目的。它是**结帐阶段**的一部分（向 Google 发送信息以进行结帐）。
2.  API 回调 URL -**在您的帐户**（集成设置）中设置，**不会**在任何请求中发送（与商家计算 URL 不同），并且是 Google 将通知发送到的 URL，如[Notification API](https://developers.google.com/checkout/developer/Google_Checkout_XML_API_Notification_API)中所述。这是您需要实现的 API，以便**从 Google 获取数据**（从 Google 获取信息 - 例如**在结帐后**）

所以这些 urls/APIs 服务于不同的目的。

根据您的评论：

> 用户通过 Google 结帐付款后，我需要执行一个 php 文件

您需要实现通知 API（商家计算 url/api*不是*您需要的）。

# javascript - jQuery替换鼠标光标

> ID：10497453
> 
> 赞同：0
> 
> 时间：2012-05-08T11:10:29.423
> 
> 标签：javascript, jquery, html, css, javascript-events

我正在尝试用图像替换鼠标光标。

我有以下html：

```
<div id="content-bg">
   <img src="path"/>
</div>
<div id="mouse"></div> 
```

CSS：

```
#content-bg{
    background:url(../img/frontend/content-bg.png) top left no-repeat;
    width: 968px;
    height: 552px;
    position:relative;
}

#mouse {
     cursor: none;
     width: 75px;
     height: 76px;
     background: url("../img/frontend/cross.png") no-repeat center;
     position: absolute;
    display:none;
     top: 0;
     left: 0;
     z-index: 10000;
} 
```

javascript:

```
$(document).ready(function(){
     $('#content-bg').mouseout(function(){
          $('#mouse').hide();
          $(this).css("cursor","none");
          return false;
     });
     $('#content-bg').mouseenter(function(){
          $('#mouse').show();
          return false;
     });
     $('#content-bg').mousemove(function(e){
          var x = e.clientX - $(document).scrollLeft() - 37.5;
          var y = e.clientY + $(document).scrollTop() - 38;
          $('#mouse').css('left', x).css('top',y);
     });
}); 
```

鼠标图像在正确的位置，但似乎在闪烁和浮华。过渡并不像我想要的那样平滑。不知何故，每次我在 content-bg div 内移动鼠标时，似乎都会触发 mouseout 和 mouseenter 事件。

知道如何解决这个问题吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:20:42.677

正如评论中所指出的，`mouseout`当您的鼠标突然悬停时，您会发生这种情况`#mouse`。

您需要手动取消这些事件：

```
 $('#content-bg').mouseout(function(e){
      if($(e.relatedTarget).is('#mouse')) { return false; }
      $('#mouse').hide();
      $(this).css("cursor","none");
      return false;
 });

 $('#content-bg').mouseenter(function(e){
      if($(e.fromElement).is('#mouse')) { return false; }
      $('#mouse').show();
      return false;
 }); 
```

# javascript - 我应该将我的 Jasmine 文件存储在 Symfony 项目中的什么位置？

> ID：10497454
> 
> 赞同：4
> 
> 时间：2012-05-08T11:10:38.520
> 
> 标签：javascript, symfony, jasmine

将 Jasmine 文件（libs、specs、SpecRunner.html）
放在 symfony 项目中的最佳位置是什么？

我会这样：

茉莉花库`web/vendor/js`

规范文件在`src/myProject/WebBundle/Resources/public/js`

我`SpecRunner.html`不知道。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-09T10:01:58.560

由于 Jasmine 仅用于测试您的 JavaScript 代码，因此我认为将库和规范文件公开不是一个好主意。

我会把它们放进去`src/myProject/WebBundle/Resources/`

```
src/myProject/WebBundle/Resources/js/lib/jasmine
src/myProject/WebBundle/Resources/js/spec 
```

# javascript - 定义数组对象属性

> ID：10497457
> 
> 赞同：1
> 
> 时间：2012-05-08T11:10:50.703
> 
> 标签：javascript, class, object, click

我有一个创建对象的类。然后将其中十个对象通过`for()`循环放置在一个数组中。类中有一个`if()`语句定义点击移动以及用户是点击一个对象还是空白区域：

```
if (distance < this.properties.radius) {
    removeEnabled = true;
    this.manageClick();
} else {
    removeEnabled = false;
    this.properties.alpha = 0;
} 
```

我必须使用什么代码来发现数组中的某个项目是否具有`removeEnabled = true`或是否具有 removeEnabled = false？然后执行单独的函数来判断它是否为真或是否为假？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:17:57.457

您可以将该`removeEnabled`属性添加到您的对象中：

```
obj.removeEnabled = true/false; 
```

然后您可以从数组中读取 obj 并检查其`removeEnabled`属性

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:18:13.297

如果你设置

```
removeEnabled = true 
```

至

```
this.removeEnabled = true 
```

它被设置为对象的属性，然后在您的 forloop 中您只需执行以下操作：

```
for (var i = 0; i < objects.length; i++) {
   if (objects[i].removeEnabled) {
       // enter required code
   }
} 
```

# iphone - 使用 xcode 将 sample.db 文件从应用程序的文档目录复制到本地 safari/da tabases 目录

> ID：10497460
> 
> 赞同：0
> 
> 时间：2012-05-08T11:11:07.363
> 
> 标签：iphone, xcode, ios5

我在我的应用程序中开发 uiwebview。此 UIWebView 显示 HTML5 页面并具有访问本地数据库并显示菜单列表的 javascript。

问题是我需要从应用程序的文档目录中复制这个数据库并将其粘贴到 safari/da​​tabases 文件夹..以便我的 javascript 文件可以访问这个数据库并显示文件列表。

但是，将文件从文档文件夹复制到 safari/Databases 文件夹没有成功，这是我的代码：

```
 NSString *databasepath=[NSString stringWithFormat:@"~/Library/%@/%@",@"safari",@"databases"];

    NSFileManager *fileManager = [NSFileManager defaultManager];
    NSError *error;

NSString *resourcePath = [[NSBundle mainBundle] pathForResource:@"sfa.db" ofType:nil];
[fileManager copyItemAtPath:resourcePath toPath:databasepath error:&error]; 
```

任何帮助将不胜感激。提前致谢。

* * *

感谢您的所有回复。虽然它不能解决我的问题..

1) 我希望 javascript 与位于我的应用程序文档目录中的现有 sqlite3 数据库连接。2) 但是 OpenDatabase() 方法总是指向 safari/da​​tabases 目录

3）要么我有一种方法可以在 OpenDatabase() 方法中指向**文档目录**，要么有其他方法可以将我的 sqlite3 数据库的副本从我的应用程序的**文档目录**保存到 Safari/Databases

或任何其他解决此问题的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:20:13.927

您在应用程序的沙箱之外没有写入权限。虽然这可能适用于模拟器，但它不适用于设备。

您将需要找到不同的解决方案。一种方法可能是从 ViewController 调用 webview 中的 javascript 函数来复制数据：`-(void) stringByEvaluatingJavaScriptFromString`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-09T07:16:07.613

我使用函数 stringByEvaluatingJavaScriptFromString 解决了我的问题，这是我的代码：

在我的模型中：

```
-(void)webViewDidFinishLoad:(UIWebView *)webView {
//getMenuItems is fetches items from database
    [self getMenuItems];
//array items converted to string seperated by ","
     NSString *string = [[arr valueForKey:@"description"] componentsJoinedByString:@","];

//load is javascript function
    NSString *str=[NSString stringWithFormat:@"load('%@');",string];

[web stringByEvaluatingJavaScriptFromString:str]; 
} 
```

在我的 html

```
 function load(example_array){
        var example_array=example_array.split(",");
    var select = document.getElementById("ddlMenu");

        for(i=0;i<=example_array.length-1;i++) {
        select.options[select.options.length] = new Option(example_array[i], i);
    }

    } 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-05-08T12:00:42.570

```
NSString * returnValue = [WebView stringByEvaluatingJavaScriptFromString:@"SOME JAVASCRIPT"]; 
```

你可以试试这个。

# c# - 从excel表中读取数字值

> ID：10497462
> 
> 赞同：0
> 
> 时间：2012-05-08T11:11:12.187
> 
> 标签：c#

在我的 excel 表中，我有一列包含数字。喜欢：

```
 500

  10,973.14

  12,456.23 
```

当我阅读时，我得到如下值：

500

10,973.141

12,456.2345

让我知道如何读取 excel 表中出现的值。

输出 ：

500

10,973.14

12,456.23

我使用了 oledbconnect。类似的代码;`

```
 for (i = 0; i < accountcopytab.Rows.Count-2; i++)
                  {
                       currentRow = accountcopytab.Rows[i];
                       if (currentRow["Credit"].ToString().Length > 0)
                      {    
                          Creditvalue = Convert.ToDecimal(currentRow["Credit"]);
                           -------------
                           --------------``
                      }
                } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:15:04.743

Excel 中的实际值是否可能是 12,456.2345 并且 Excel 正在截断/舍入？换句话说，您的程序正在读取并显示 Excel 中的实际内容。

如果是这种情况并且您想要截断 C# 输出，则可以使用以下模式：`"#,#.##"`

# c# - 如何使这段代码更快？

> ID：10497464
> 
> 赞同：1
> 
> 时间：2012-05-08T11:11:24.027
> 
> 标签：c#, performance, data-mining

我有一个功能对我的任务来说非常慢（它必须快 10-100 倍）

这是代码

```
public long Support(List<string[]> sequences, string[] words)
{

            var count = 0;
            foreach (var sequence in sequences)
            {
                for (int i = 0; i < sequence.Length - words.Length + 1; i++)
                {
                    bool foundSeq = true;
                    for (int j = 0; j < words.Length; j++)
                    {
                        foundSeq = foundSeq && sequence[i + j] == words[j];
                    }
                    if (foundSeq)
                    {
                        count++;
                        break;
                    }
                }
            }

            return count;
}

public void Support(List<string[]> sequences, List<SequenceInfo> sequenceInfoCollection)
{
    System.Threading.Tasks.Parallel.ForEach(sequenceInfoCollection.Where(x => x.Support==null),sequenceInfo =>
    {
        sequenceInfo.Support = Support(sequences, sequenceInfo.Sequence);
    });

} 
```

where`List<string[]> sequences`是一个单词数组。该数组通常包含 250k+ 行。每行大约4-7个单词。 `string[] words`是我们试图计算的单词数组（所有单词至少包含一次序列）。

问题是`foundSeq = foundSeq && sequence[i + j] == words[j];`。此代码占用大部分执行时间（Enumerable.MoveNext 排在第二位）。我想对数组中的所有单词进行哈希处理。数字比字符串更快，对吧？我认为它可以帮助我获得 30%-80% 的性能。但我需要10倍！我能做什么？如果你想知道它是先验算法的一部分。

* * *

Support function check if the words sequence is a part any sequence in the sequences list and count how much times.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T16:05:24.920

Knuth–Morris–Pratt algorithm

In computer science, the Knuth–Morris–Pratt string searching algorithm (or KMP algorithm) searches for occurrences of a "word" W within a main "text string" S by employing the observation that when a mismatch occurs, the word itself embodies sufficient information to determine where the next match could begin, thus bypassing re-examination of previously matched characters.

The algorithm was conceived in 1974 by Donald Knuth and Vaughan Pratt, and independently by James H. Morris. The three published it jointly in 1977.

* * *

From Wikipedia: [https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm](https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm)

This is one of the improvements that you should make. With a small difference: a "word" in your code is a "characters" in the terminology of the algorithm; your "words" array is what is a word in KMP.

The idea is that when you search for "abc def ghi jkl", and have matched "abc def ghi" already, but the next word does not match, you can jump three positions.

```
Search:   abc def ghi jkl
Text:     abc def ghi klm abc def ghi jkl
i=0:      abc def ghi jkl?
skip 2:       XXX XXX  <--- you save two iterations here, i += 2
i=2:                  abc?
i=3:                      abc? ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:41:05.433

The first optimisation I would make is an early-fail. Your inner loop continues through the whole sequence even if you know it's failed, and you're doing an unnecessary bit of boolean logic. Your code is this:

```
 for (int j = 0; j < words.Length; j++)
    {
        foundSeq = foundSeq && sequence[i + j] == words[j];
    } 
```

Instead, just do this (or equivalent):

```
 for (int j = 0; j < words.Length; j++)
    {
        if (sequence[i + j] != words[j])
        {
            foundSeq = false;
            break;
        }
    } 
```

This will save you the majority of your comparisons (you will drop out at the first word if it doesn't match, instead of continuing to compare when you know the result is false). It could even make the tenfold difference you're looking for if you expect the occurrence of the individual words in each sequence to be low (if, say, you are finding sentences in a page of English text).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:43:48.770

Theoretically, you could concatenate each sequence and using substring matching. I don't have a compiler at hand now, so I can't test whether it will actually improve performance, but this is the general idea:

```
List<string> sentences = sequences.Select(seq => String.Join(" ", seq));
string toMatch = String.Join(" ", words);

return sentences.Count(sentence => sentence.Contains(toMatch)); 
```

# php - 如何在不使用外连接或不使用任何连接的情况下检索数据？

> ID：10497468
> 
> 赞同：1
> 
> 时间：2012-05-08T11:11:41.267
> 
> 标签：php, mysql, join

我们如何在不使用 mysql 中的“LEFT JOIN”或“RIGHT JOIN”的情况下从多个表中检索数据？或者是否可以使用 PHP/Mysql？

在某些情况下，我可以检索数据。例如当我们使用“两个表”或没有复杂的“WHERE”条件时。

但是当我使用 5,6,7----15 表时，我不可能检索数据。

请任何人帮助我。谢谢提前。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:18:17.033

*   在第一张桌子上进行搜索，
*   在第二张桌子上做一个`SELECT * FROM table_2 WHERE table_2.fk_table_1 IN ($pks_from_table_one)`

继续...但这意味着您将进行`n`查询，`n`往返于数据库-我听说有些公司禁止使用`JOIN`s，有时确实更好-但我还没有这样做，也不推荐它要么。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:18:48.523

假设你有食物和人。你想得到人们喜欢的食物。

食物：id,food_name

人：id,name,food_id

这里的food_id 是指foods 表中的id 字段。

只需这样做： SELECT people.name,food.food_name FROM people,foods WHERE people.food_id=foods.id

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:31:09.943

您可以通过在不使用任何 JOIN 语句的情况下添加子查询来实现这一点，在我给您的示例中，三个表用于**提取作为我们客户的用户并且他们的安装量小于或等于 999**，检查一下。

```
Select TUsers.names TCustomers.names 
FROM TUsers, TCustomers
Where TUsers.id = TCustomer.id AND TCustomers.id IN
(Select TCustomer.id
FROM TCustomer
WHERE TCustomer.amount >= 999) 
```

评价是否有帮助:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-08T11:40:14.057

您可以使用“别名”而不是“加入”。

假设你有 4 张桌子。

句法：

```
Select * from Table1 A, Table2 B, Table3 C, Table4 D
where A.id= B.id and A.city=C.city and B.subject=D.subject 
```

# java - 在android上从java调用ffmpeg

> ID：10497475
> 
> 赞同：2
> 
> 时间：2012-05-08T11:12:11.453
> 
> 标签：java, android, ffmpeg

> **可能重复：**
> [Android 上的 FFMPEG](https://stackoverflow.com/questions/4725773/ffmpeg-on-android)

目前我有一个使用参数调用 ffmpeg 进程的 java 应用程序。这在 Windows 下运行良好，因为我只是运行另一个进程。我想在android os下的ffmpeg api中调用相同的方法。

我应该怎么做才能对代码进行最小的更改并将相同的东西转换为 android？

如何使用java调用android os下ffmpeg api中的特定方法。

谢谢你！

# javascript - 图片下的html5视频

> ID：10497484
> 
> 赞同：0
> 
> 时间：2012-05-08T11:13:03.477
> 
> 标签：javascript, html, video

我有一个位于 png 图像下方的视频，该图像具有透明部分供视频显示。

```
<div id="Layer2" style="position:absolute; z-index:2; left: 0px; top: 0px; width: 960px; height: 640px; visibility: visible">
<div align="left"><img src="http://www.mysite.com/wp-content/uploads/picture.png" width="960" height="640" /></div>
</div>
<div id="Layer1" style="position:absolute; z-index:1; left: 251px; top: 91px; width: 640px; height: 360px; overflow: hidden; visibility: visible; ">
<div align="left" >[FMP poster="http://www.mysite.com/wp-content/uploads/thumb.jpg" width="640" height="360"]http://www.mysite.com/wp-content/uploads/movie.webm[/FMP]</div>
</div> 
```

如何使视频可点击，以便人们可以访问视频控件？

我查看了 CSS pointer-events:none 属性，这有效，但仅在 Firefox 和 Safari 浏览器中有效。我知道我可以制作自己的视频控制按钮并将它们放在具有更高 z-index 的图像上方，但我更喜欢使用浏览器的原生视频控件。有一个更好的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T13:02:01.323

[对 CSS3 指针事件属性](http://caniuse.com/pointer-events)的支持相当不完整。

为了在不必重新实现播放器控件的情况下实现您想要的，我认为您有两种选择：

1.  查看一些可用的 HTML5 视频库。我确信其中之一将允许您将控件样式设置为您需要的级别。

2.  将您的蒙版图像分解为顶部、右侧、底部和左侧的切片，并使用它们来框住您的元素，并在必要时将其覆盖。只要没有任何框架元素覆盖视频控件，您就可以了

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T13:42:20.287

不幸的是，您唯一的选择（除了分解图像以使其不妨碍之外）是制作您自己的控件并将它们放置在透明图像上。

```
<video controls="false" id="myVid">
    ...
</video>
...
<img src="play.png" id="playButton" onclick="togglePlay()" /> 
```

在哪里`togglePlay`：

```
function togglePlay() {
    var vid = document.getElementById("myVid");
    var button = document.getElementById("playButton"); 
    if(vid.paused) {
        vid.play();
        playButton.src = "pause.png";
    } else {
        vid.pause();
        playButton.src = "play.png"; 
    }
} 
```

您可以根据自己的喜好设置按钮的样式，例如，将它们直接放在视频上，给它们比透明图像更高的 z-index，使它们在鼠标移出时消失（或使用使它们消失的脚本） /y 边界）等。

# r - 从R中的更大列表中减去名称列表

> ID：10497491
> 
> 赞同：3
> 
> 时间：2012-05-08T11:13:26.397
> 
> 标签：r

我有 2 个数据集。

A = 3085 行，1 列。B = 527 行，1000 列。

这两个数据集中的所有值都是 shapefile 的名称。

我想创建一个 A - B[,1] 的新列表。Aka 我想从 A 中删除 B 的第一列中出现的任何值。

我最终将对所有 1000 列进行循环。

如果有人可以提供帮助，将不胜感激。

问候，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T11:20:11.133

如果`A`和`B`是`data.frames`或者`matrices`你可以使用这样的程序

```
A[!(A[,1] %in% B[,1]), 1] 
```

我刚刚完全意识到你的问题。要在所有列上循环，`B`您可以使用`apply`家庭功能。`B`此调用将迭代作为参数的每一列，`x`并将返回长度等于 的列数的`B`列表，列表的每个元素将是`A`对应列的不匹配元素的向量`B`。

```
apply(B, 2, function(x) A[!(A[,1] %in% x), 1]) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-08T11:53:09.933

一些简单的（但未经测试）：

```
x <- A[, 1]
keep <- seq_along(x)
for(i in seq_along(B))
    keep <- setdiff(keep, which(x[keep] %in% B[, i]))
A[keep, ] 
```

# php - PHP下如何生成.htpasswd

> ID：10497493
> 
> 赞同：2
> 
> 时间：2012-05-08T11:13:31.330
> 
> 标签：php, apache, .htpasswd

我试图用很多用户（100+）生成长 htpasswd 文件。

我在 Linux 服务器上的 DirectAdmin 面板生成 htpasswd 文件，其中密码哈希以 $1$ 开头。

我试过这样的事情：

```
function random_salt($length = 9) // 9 characters and $1$ = 12 characters
{      
    $chars = 'bcdfghjklmnprstvwxzaeiou';

    for ($p = 0; $p < $length; $p++)
    {
        $result .= ($p%2) ? $chars[mt_rand(19, 23)] : $chars[mt_rand(0, 18)];
    }

    return $result;
}

echo crypt($myplainpassword, "$1$".random_salt()); 
```

它产生以 $1$ 开头的哈希，但服务器不让我进入。我的密码是在 excel 中生成的 4 位随机“pin 码”。例子：

1215 5325 6261

我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-09-10T23:34:09.313

这就是我生成 .htpasswd 密码的方式...

```
$new_password = password_hash($old_password, PASSWORD_BCRYPT); 
```

> password_hash() 使用强大的单向散列算法创建一个新的密码散列。password_hash() 与 crypt() 兼容。因此，由 crypt() 创建的密码哈希可以与 password_hash() 一起使用。
> 
> 当前支持以下算法：
> 
> PASSWORD_BCRYPT - 使用 CRYPT_BLOWFISH 算法创建散列。这将使用“$2y$”标识符生成标准 crypt() 兼容哈希。结果将始终是 60 个字符的字符串，或者失败时为 FALSE。支持的选项：

[http://php.net/manual/en/function.password-hash.php](http://php.net/manual/en/function.password-hash.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:19:04.100

我建议研究如何生成哈希的确切方式。如果您使用您的方法创建哈希，它看起来是否与 DirectAdmin 生成的相同？

一般来说，我以前用[它](http://www.htaccesstools.com/articles/create-password-for-htpasswd-file-using-php/)来生成条目。

# c# - 查询字符串中的 %2c 等字符串

> ID：10497497
> 
> 赞同：0
> 
> 时间：2012-05-08T11:13:32.870
> 
> 标签：c#, query-string

我记录页面的查询字符串。它与`C#`.

如何`%2c%20`在代码中将字符串转换为普通字符串`C#`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:14:41.533

[HttpUtility.UrlDecode](http://msdn.microsoft.com/en-us/library/system.web.httputility.urldecode.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:16:09.630

如果字符串在当前请求的 url 参数中，您可以使用[`Request.QueryString`](http://msdn.microsoft.com/en-us/library/system.web.httprequest.querystring.aspx)它来访问它，从而隐式解码它。否则使用[`HttpUtility.UrlDecode`](http://msdn.microsoft.com/en-us/library/system.web.httputility.urldecode.aspx).

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-08T11:16:40.380

HttpUtility.UrlDecode 会做。检查这个[MSDN 链接](http://msdn.microsoft.com/en-us/library/6196h3wt.aspx)

# c# - 如何格式化和读取 CSV 文件？

> ID：10497498
> 
> 赞同：0
> 
> 时间：2012-05-08T11:13:46.883
> 
> 标签：c#, csv

这只是我需要格式化的数据的一个示例。

第一列很简单，第二列的问题。

1.  在一列中格式化多个数据字段的最佳方法是什么？
2.  如何解析这些数据？

重要*：第二列需要包含多个值，如下例所示

```
Name       Details

Alex       Age:25
           Height:6
           Hair:Brown
           Eyes:Hazel 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T12:07:59.270

一个 csv 应该看起来像这样：

```
Name,Age,Height,Hair,Eyes
Alex,25,6,Brown,Hazel 
```

每个单元格与其相邻单元格之间应恰好用一个逗号分隔。

您可以使用简单的正则表达式重新格式化它，用逗号替换某些换行符和非换行符空格（您可以轻松找到每个块，因为它在两列中都有值）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:38:59.957

CSV 文件通常使用逗号作为字段分隔符和 CR 作为行分隔符来定义。您在第二列中使用 CR，这会导致问题。您需要重新格式化第二列以在多个值之间使用其他形式的分隔符。一个常见的备用分隔符是 | （管道）字符。

您的格式将如下所示：Alex,Age:25|Height:6|Hair:Brown|Eyes:Hazel

在您的解析中，您将首先解析逗号分隔的字段（这将返回两个值），然后将第二个字段解析为管道分隔。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T12:19:43.480

This is an interesting one - it can be quite difficult to parse specific format files which is why people often write specific classes to deal with them. More conventional file formats like CSV, or other delimited formats are [more] easy to read because they are formatted in a similar way.

A problem like the above can be addressed in the following way:

1) What should the output look like?

In your instance, and this is just a guess, but I believe you are aiming for the following:

```
Name, Age, Height, Hair, Eyes
Alex, 25, 6, Brown, Hazel 
```

In which case, you have to parse out this information based on the structure above. If it's repeated blocks of text like the above then we can say the following:

a. Every person is in a block starting with Name Details

b. The name value is the first text after Details, with the other columns being delimited in the format Column:Value

However, you might also have sections with addtional attributes, or attributes that are missing if the original input was optional, so tracking the column and ordinal would be useful too.

So one approach might look like the following:

```
public void ParseFile(){

        String currentLine;

        bool newSection = false;

        //Store the column names and ordinal position here.
        List<String> nameOrdinals = new List<String>();
        nameOrdinals.Add("Name"); //IndexOf == 0

        Dictionary<Int32, List<String>> nameValues = new Dictionary<Int32 ,List<string>>(); //Use this to store each person's details

        Int32 rowNumber = 0;

        using (TextReader reader = File.OpenText("D:\\temp\\test.txt"))
        {

            while ((currentLine = reader.ReadLine()) != null) //This will read the file one row at a time until there are no more rows to read
            {

                string[] lineSegments = currentLine.Split(new[] { " " }, StringSplitOptions.RemoveEmptyEntries);

                if (lineSegments.Length == 2 && String.Compare(lineSegments[0], "Name", StringComparison.InvariantCultureIgnoreCase) == 0
                    && String.Compare(lineSegments[1], "Details", StringComparison.InvariantCultureIgnoreCase) == 0) //Looking for a Name  Details Line - Start of a new section
                {
                    rowNumber++;
                    newSection = true;
                    continue;
                }

                if (newSection && lineSegments.Length > 1) //We can start adding a new person's details - we know that 
                {
                    nameValues.Add(rowNumber, new List<String>());
                    nameValues[rowNumber].Insert(nameOrdinals.IndexOf("Name"), lineSegments[0]);

                    //Get the first column:value item
                    ParseColonSeparatedItem(lineSegments[1], nameOrdinals, nameValues, rowNumber);

                    newSection = false;
                    continue;
                }

                if (lineSegments.Length > 0 && lineSegments[0] != String.Empty) //Ignore empty lines
                {
                    ParseColonSeparatedItem(lineSegments[0], nameOrdinals, nameValues, rowNumber);
                }

            }
        }

        //At this point we should have collected a big list of items. We can then write out the CSV. We can use a StringBuilder for now, although your requirements will
        //be dependent upon how big the source files are.

        //Write out the columns

        StringBuilder builder = new StringBuilder();

        for (int i = 0; i < nameOrdinals.Count; i++)
        {
            if(i == nameOrdinals.Count - 1)
            {
                builder.Append(nameOrdinals[i]);
            }
            else
            {
                builder.AppendFormat("{0},", nameOrdinals[i]);
            }
        }

        builder.Append(Environment.NewLine);

        foreach (int key in nameValues.Keys)
        {
            List<String> values = nameValues[key];

            for (int i = 0; i < values.Count; i++)
            {
                if (i == values.Count - 1)
                {
                    builder.Append(values[i]);
                }
                else
                {
                    builder.AppendFormat("{0},", values[i]);
                }
            }

            builder.Append(Environment.NewLine);

        }

        //At this point you now have a StringBuilder containing the CSV data you can write to a file or similar

    }

    private void ParseColonSeparatedItem(string textToSeparate, List<String> columns, Dictionary<Int32, List<String>> outputStorage, int outputKey)
    {

        if (String.IsNullOrWhiteSpace(textToSeparate)) { return; }

        string[] colVals = textToSeparate.Split(new[] { ":" }, StringSplitOptions.RemoveEmptyEntries);

        List<String> outputValues = outputStorage[outputKey];

        if (!columns.Contains(colVals[0]))
        {
            //Add the column to the list of expected columns. The index of the column determines it's index in the output
            columns.Add(colVals[0]);

        }

        if (outputValues.Count < columns.Count)
        {
            outputValues.Add(colVals[1]);
        }
        else
        {
            outputStorage[outputKey].Insert(columns.IndexOf(colVals[0]), colVals[1]); //We append the value to the list at the place where the column index expects it to be. That way we can miss values in certain sections yet still have the expected output
        }
    } 
```

After running this against your file, the string builder contains:

```
"Name,Age,Height,Hair,Eyes\r\nAlex,25,6,Brown,Hazel\r\n" 
```

Which matches the above (\r\n is effectively the Windows new line marker)

This approach demonstrates how a custom parser might work - it's purposefully over verbose as there is plenty of refactoring that could take place here, and is just an example.

Improvements would include:

1) This function assumes there are no spaces in the actual text items themselves. This is a pretty big assumption and, if wrong, would require a different approach to parsing out the line segments. However, this only needs to change in one place - as you read a line at a time, you could apply a reg ex, or just read in characters and assume that everything after the first "column:" section is a value, for example.

2) No exception handling

3) Text output is not quoted. You could test each value to see if it's a date or number - if not, wrap it in quotes as then other programs (like Excel) will attempt to preserve the underlying datatypes more effectively.

4) Assumes no column names are repeated. If they are, then you have to check if a column item has already been added, and then create an ColName2 column in the parsing section.

# ios - 为什么 UIPageViewController 在翻页后调整其 UIViewControllers 视图的大小？

> ID：10497499
> 
> 赞同：3
> 
> 时间：2012-05-08T11:13:49.100
> 
> 标签：ios, ipad, ios5, uiviewcontroller, uipageviewcontroller

在 pageViewController:viewControllerAfterViewController: 方法中，就在 return 语句之前，即将作为下一页返回的视图具有正确的视图框架大小。

然而，在调用 pageViewController:didFinishAnimating:previousViewControllers:transitionCompleted: 方法后，我检查了新引入的视图控制器 ([pageViewController2.viewControllers objectAtIndex:0];) 的帧大小，发现它调整了大小。

请注意，对于新创建的 ViewController，我已将 [self.pageViewController.view setAutoresizesSubviews:NO] 和自动调整大小掩码设置为 None。

有什么想法是在哪一步调整新 ViewController 的大小？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-10-13T22:03:48.363

我认为这个问题本质上与 UIPageViewController 的性质有关。它是从 UIScrollView 构建的。我不完全知道为什么会出现奇怪的调整大小行为，但是当构成页面的视图控制器使用自动布局时，这种行为似乎特别明显。看起来，将页面视图控制器中的约束锁定到超级视图会使元素在转换后调整大小，因为超级视图本身在所述转换之后会调整大小。

这很糟糕，因为苹果基本上是在推动我们所有人采用自动布局。自动布局很棒，我建议大家从现在开始使用它，但是当你将它与 UIPageViewController 一起使用时，它真的很糟糕。他们真的应该要么废弃那个类，要么为开发人员构建一些更容易的东西，可以直接拖到故事板中的东西。

有几点需要考虑。

1.) 不要将任何内容锁定在“顶部布局指南”或“底部布局指南”上。还要确保在任何旨在拥抱屏幕两侧的视图上禁用“限制到边距”。

2.) 如果您在单个页面/内容视图控制器中使用标签，请确保将其绑定/约束到超级视图以外的其他内容。我想在 UIImageView 上放置一个标签，因此我将标签与图像视图的前边缘和上边缘对齐（仅使用 AutoLayout 约束），创建一个偏移量来为标签提供一些边距。

3.) 以下将是一个很好的教程。但是，它有点过时了。我下载了该项目并基本上对其进行了修改，以获得一个有效的 UIPageViewController 实现。这个项目的唯一问题是它不使用 AutoLayout。我目前正在写一篇博文，更清楚地讨论如何一起使用 UIPageViewController 和 Autolayout。

[http://www.appcoda.com/uipageviewcontroller-storyboard-tutorial/](http://www.appcoda.com/uipageviewcontroller-storyboard-tutorial/)

# php - TYPO3 & real url：typolink 从子目录中添加 url 部分，应该跳过

> ID：10497505
> 
> 赞同：0
> 
> 时间：2012-05-08T11:14:14.867
> 
> 标签：php, url, typo3, realurl

我有一个typo3所在的子目录。它被称为“网站”。DNS 指向此子目录。现在我生成当前站点的 URL：

```
$typolink_conf = array(
            "title" => $this->site['page_title'],
            "ATagParams" =>'',
            "no_cache" => 0,
            "parameter" => $this->site['id'],
            "useCacheHash" => 1
        );

$this->site['url'] = $this->cObj->typolink($this->site['page_title'], $typolink_conf); 
```

在起始页上，我`www.domain.com/website`从这个错字链接中获得。我清除了缓存（Typo3，Real Url），但始终生成“网站”部分。我还设置了基本 URL

```
config {
        baseURL = http://www.domain.com/
        simulateStaticDocuments = 0
        tx_realurl_enable = 1
} 
```

有人能告诉我这个 URL 部分是从哪里来的吗？我正在使用 Typo3 4.6.3 和 RealURL 1.12.1。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T12:00:05.700

最实用的解决方案是将每个 TYPO3 项目放在子域中，因为它们几乎可以在所有托管服务提供商处免费且无限制地使用。我建议您这样做，因为这绝对是最快的方法，并且您不需要在每次创建新的 TYPO3 实例时都记住该问题。

如果您不能使用子域，请编辑您`.htaccess`的 ，您应该更改一行：

```
# Change this path, if your TYPO3 installation is located in a subdirectory of the website root.
#RewriteBase / 
```

# android - 在android中创建登录页面

> ID：10497510
> 
> 赞同：0
> 
> 时间：2012-05-08T11:14:39.000
> 
> 标签：android

```
EditText txtUserName;
 EditText txtPassword;
 Button btnLogin;
 Button btnCancel;

    /** Called when the activity is first created. */
 @Override
 public void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     setContentView(R.layout.main);

     txtUserName=(EditText)this.findViewById(R.id.txtUname);
     txtPassword=(EditText)this.findViewById(R.id.txtPwd);
     btnLogin=(Button)this.findViewById(R.id.btnLogin);
         btnLogin.setOnClickListener(new OnClickListener() {

             @Override
             public void onClick(View v) {            
                     Intent myIntent = new Intent(v.getContext(), AddName.class);
                     startActivityForResult(myIntent, 0);
                 if((txtUserName.getText().toString()).equals(txtPassword.getText().toString())){
                     Toast.makeText(LoginappActivity.this, "Login Successful",Toast.LENGTH_LONG).show();
                    } else{
                     Toast.makeText(LoginappActivity.this, "Invalid Login",Toast.LENGTH_LONG).show(); 
                     }
                       }
                          });

 }           
       } 
```

我为我的应用创建了一个登录页面。当我在模拟器中运行时，如果密码和用户名匹配，它应该进入下一个屏幕，但是在运行时如果用户名和密码错误，应用程序将进入第二页，任何人都可以建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T13:34:07.233

```
package com.app.NewProjectHttpDemo;

import java.io.InputStream;
import java.net.URL;
import java.util.ArrayList;

import android.content.Context;
import android.graphics.drawable.Drawable;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.ImageView;
import android.widget.TextView;

EditText txtUserName;
 EditText txtPassword;
 Button btnLogin;
 Button btnCancel;

    /** Called when the activity is first created. */
 @Override
 public void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     setContentView(R.layout.main);

     txtUserName=(EditText)this.findViewById(R.id.txtUname);
     txtPassword=(EditText)this.findViewById(R.id.txtPwd);
     btnLogin=(Button)this.findViewById(R.id.btnLogin);
         btnLogin.setOnClickListener(new OnClickListener() {

             @Override
             public void onClick(View v) {            

                 if((txtUserName.getText().toString()).equals(txtPassword.getText().toString())){
 Intent myIntent = new Intent(v.getContext(), AddName.class);
                     startActivityForResult(myIntent, 1);
                     Toast.makeText(LoginappActivity.this, "Login Successful",Toast.LENGTH_LONG).show();
                    } else{
                     Toast.makeText(LoginappActivity.this, "Invalid Login",Toast.LENGTH_LONG).show(); 
                     }
                       }
                          });

 }           
       } 
```

用您的代码替换此代码，这将完美地工作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:54:33.850

```
 EditText txtUserName;
 EditText txtPassword;
 Button btnLogin;
 Button btnCancel;

    /** Called when the activity is first created. */
 @Override
 public void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     setContentView(R.layout.main);

     txtUserName=(EditText)this.findViewById(R.id.txtUname);
     txtPassword=(EditText)this.findViewById(R.id.txtPwd);
     btnLogin=(Button)this.findViewById(R.id.btnLogin);

     btnLogin.setOnClickListener(new OnClickListener() {

         @Override
         public void onClick(View v) {            

             if((txtUserName.getText().toString()).equals(txtPassword.getText().toString())){
                 Intent firstIntent = new Intent(v.getContext(), SecondActivity.class);
                 startActivity(firstIntent);

                } else{
                        Intent secondtIntent = new Intent(v.getContext(),SecondActivity.class);
                 startActivity(secondIntent);
                 }
                   }
                      }); 
```

}
}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T12:02:18.837

```
 btnLogin=(Button)this.findViewById(R.id.btnLogin);
         btnLogin.setOnClickListener(new OnClickListener() {

             @Override
             public void onClick(View v) {                                 
                 if((txtUserName.getText().toString()).equals(txtPassword.getText().toString())){
                     Toast.makeText(LoginappActivity.this, "Login Successful",Toast.LENGTH_LONG).show();

                     Intent myIntent = new Intent(v.getContext(), AddName.class);
                     startActivity(myIntent);

                    } else{
                     Toast.makeText(LoginappActivity.this, "Invalid Login",Toast.LENGTH_LONG).show(); 
                     }
                   }
               }); 
```

# c# - C# 自动更改方法中的某些部分代码（以编程方式？）

> ID：10497513
> 
> 赞同：0
> 
> 时间：2012-05-08T11:14:49.653
> 
> 标签：c#, visual-studio-2010, c#-4.0

我使用这个方法`SearchConsequences`来迭代`List<ValuesEO>`对象并执行一些任务，以根据应用的规则获取特定字段的值。我想以某种方式简化这段代码。

我想在代码中的任何地方切换（替换）整个代码块中`ValuesEO[i].powerR`其他的表达式。`ValuesEO[i].otherField`

目前，我只是通过阻止应对和手动更改来做到这一点。所以可以说，最后，我**在这个方法中有 5 个非常相似的代码块**。`ValuesEO[i].otherField`唯一的区别在于`ValuesEO[i].otherField2` `ValuesEO[i].otherField3`...等等。

我不喜欢那种块应对。

```
public Dictionary<Consequence,Cause> SearchConsequences(List<ResultsCatcher> smallTable, int n, ConnectHYSYS obj, int keyP, int keyR)//for one stream for one parameter
    {
        double threshold = 0.005;

        Dictionary<Consequence,Cause> collection = new Dictionary<Consequence,Cause>();

        //search in ValesE for each energy stream, for powerR
        for (int i = 0; i < smallTable[n].ValuesE.Count; i++)
        {
            //sort the smallTable
            smallTable.Sort((x, y) => x.ValuesE[i].powerR.CompareTo(y.ValuesE[i].powerR));

            //get the index of first occurrence of powerR >= threshold, if there is nothing bigger than threshold, index is null
            var tagged = smallTable.Select((item, ii) => new { Item = item, Index = (int?)ii });
            int? index = (from pair in tagged
                          where pair.Item.ValuesE[i].powerR >= threshold
                          select pair.Index).FirstOrDefault();

            //get needed information
            if (index != null)
            {
                int id = Convert.ToInt16(index);

                double newValue = smallTable[id].ValuesE[i].power;
                double newValueR = smallTable[id].ValuesE[i].powerR;
                TypeOfValue kindOf = TypeOfValue.power;
                Consequence oneConsequence = new Consequence(obj.EnergyStreamsList[i], newValue, newValueR, kindOf);

                Cause oneCause = new Cause();
                oneCause.GetTableHeader(smallTable[id]);

                collection.Add(oneConsequence,oneCause);
            }
        }
    } 
```

也许很容易做到这一点，并且在某个地方讨论了这个问题。但我真的什至不知道如何谷歌它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:29:44.503

这是一个现成的程序，演示如何将您的标准/属性选择移到您的考试功能之外。看看字段标准是如何匹配的。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Management;

namespace Test
{
    class Program
    {
        public class PowerValues
        {
            public double power;
            public double powerR;
            public double lightbulbs;
            public double lightbulbsR;
        }

        public static void DoSomething(IEnumerable<PowerValues> powerValues, Func<PowerValues, double> criteria, double treshhold)
        {
            var flaggedElements = powerValues.Where(e => criteria(e) > treshhold);
            foreach (var flagged in flaggedElements)
            {
                Console.WriteLine("Value flagged: {0}", criteria(flagged));
            }
        }

        public static void Main(string[] args)
        {
            List<PowerValues> powerValues = new List<PowerValues>();

            powerValues.Add(new PowerValues(){power=10, powerR=0.002, lightbulbs = 2, lightbulbsR = 2.006});
            powerValues.Add(new PowerValues(){power=5, powerR=0.004, lightbulbs = 4, lightbulbsR = 2.09});
            powerValues.Add(new PowerValues(){power=6, powerR=0.003, lightbulbs = 3, lightbulbsR = 2.016});

            Console.WriteLine("Power matching criteria . . . ");
            DoSomething(powerValues, (e) => e.powerR, 0.003);
            Console.WriteLine("Lightbulbs matching criteria . . . ");
            DoSomething(powerValues, (e) => e.lightbulbs, 3);

            Console.Write("Press any key to continue . . . ");
            Console.ReadKey(true);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-05-08T11:22:25.313

1.  将您使用两次的代码提取到一种方法中。
2.  为您想要的值创建一个枚举（例如 PowerR、OtherField）
3.  将枚举作为参数添加到您的方法中
4.  将方法中的 switch 语句添加到代码更改的地方

# objective-c - 静态分析器 - 内存泄漏

> ID：10497514
> 
> 赞同：0
> 
> 时间：2012-05-08T11:14:50.077
> 
> 标签：objective-c, ios, memory-management, static-analysis

在 Xcode 中，通过像 [self.object release] 一样在 dealloc 方法中释放对象时，此行使用静态代码分析器显示为内存泄漏，但在运行仪器时不显示为泄漏。

我的问题是BWN有什么不同`[self.object release]`，只是`[object release]`

请澄清这一点，

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T11:19:05.757

`self.object`实际上调用getter方法（`[self object]`），它返回实例变量`object`（或取决于如何合成），但实例变量实际上保存了保留的对象，所以你必须这样做`[object release]`。将属性与以下内容合成是一种很好的做法：`@synthesize object = _object`因此您不会混淆属性和实例变量 - 您的属性将是`self.object`，但实例变量将是`_object`并且您将调用`[_object release];`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-08T11:21:49.513

而不是做 -

```
[self.object release] 
```

你需要做 -

```
self.object = nil; or [object release]; 
```

[self.object release] 将释放调用发送到由属性获取器返回的对象。结果将取决于属性是否定义为分配/复制/保留。

# apache-flex - 如何将 publisherID 放入 flex 4 桌面应用程序中

> ID：10497517
> 
> 赞同：0
> 
> 时间：2012-05-08T11:15:05.087
> 
> 标签：apache-flex, air, flex4, flexbuilder

当我将 publisherID 放入 flex 4 桌面应用程序时，应用程序描述符文件如

> lc.in.demo2012

当我调试我的应用程序时，它显示“ [http://i45.tinypic.com/ekp3de.png ”上方的错误。](http://i45.tinypic.com/ekp3de.png)

如果我没有在描述符文件中的 publisherID 中添加任何内容，它工作正常。

我需要输入该 publisherID，因为我想在我的桌面应用程序中实现浏览器调用功能 [ [URL ]。](http://pastebin.com/AAWBs7bR)

更多信息，但它可以提供帮助：编辑器：Flash Builder SDK：4.1

谢谢

# windows - IE9 中的向后兼容性

> ID：10497518
> 
> 赞同：1
> 
> 时间：2012-05-08T11:15:05.100
> 
> 标签：windows, internet-explorer

我使用的是 IE9 自带的 windows7。我的公司网站使用 IE6 和 IE7。我试图在 windows7 中安装 IE7，但 windows 不允许我。

我怎样才能在IE9中打开这样的网站？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:24:41.383

点击右上角的“工具”，然后选择开发者工具或直接在网站上按 F12。您会看到一个名为“浏览器模式：IE9”的选项，分别单击并更改它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:20:56.793

您的意思是要在旧版本的 IE 中查看您的网站吗？如果是这样，最简单的方法是使用 IE Tester，它允许您查看所有 IE 版本（可追溯到 V5.5）的网站。[您可以在 IE Tester 网站上](http://www.my-debugbar.com/wiki/IETester/HomePage)阅读有关该工具的更多信息

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:23:38.890

在 IE 9 中，您可以使用开发人员工具更改浏览器模式和标准，以查看 IE 7 和 8 中的呈现和行为。对于 IE 6，您需要使用 Windows XP 的虚拟化版本。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-08T11:23:49.803

您不能在现代版本的 Windows 上安装 IE 7，但您没有理由这样做，因为您可以告诉 IE 9 像 IE 7 一样呈现页面。为此：

1.  在 IE 9 中打开所需的网站。

2.  从“设置”（齿轮）菜单中，选择“F12 开发人员工具”选项（或按`F12`）。

    ![](../Images/d5104ae9038aa109822b6bf549d9f8bc.png)

3.  在出现的新窗格中，单击“浏览器模式”菜单，然后选择“Internet Explorer 7”。

    ![](../Images/0862e8ea5f900bedb976c482c0ee5d0d.png)

# android - 防止图像叠加层拉伸

> ID：10497521
> 
> 赞同：0
> 
> 时间：2012-05-08T11:15:19.610
> 
> 标签：android, android-imageview

我的 ImageView 有一个图像叠加文件，但不幸的是，当图像显示为叠加时，它会被拉伸。

这是我的叠加图像 xml 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content" >

    <item android:drawable="@drawable/btn_play" />
</layer-list> 
```

这就是我如何实现对 ImageView 的覆盖

```
ImageView imageView = new ImageView(this);
        try {
            imageView.setBackgroundDrawable(drawable_from_url(thumbnail_url,
                    thumbnail_url));
        } catch (MalformedURLException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        imageView.setImageDrawable(getResources().getDrawable(R.layout.video_layer)); 
```

有谁知道如何防止覆盖图像拉伸？

# java - 泽西岛 Java Web 服务 XML

> ID：10497528
> 
> 赞同：0
> 
> 时间：2012-05-08T11:15:34.373
> 
> 标签：java, web-services, xml-serialization, jersey

我已经使用 Jersey 用 Ja​​va 构建了一个 Web 服务。Web 服务使用 XML 并将 POJO (CoResponse) 作为 MethodParameters。

IE

```
 @PUT
    @Consumes(MediaType.APPLICATION_XML)
    public CoResponse test(CoResponse obj){
        //...do something....
        return obj;
    } 
```

在客户端，我会做一个像这样的放置请求......

```
CoResponse rO = service.path("path")
                .type(MediaType.APPLICATION_XML_TYPE)
                .accept(MediaType.APPLICATION_XML)
                .put(CoResponse.class, new CoResponse()); 
```

实际上，在我们的环境中一切正常。但现在我想知道发送到服务器的 xml 字符串是什么样的。原因是通过创建与我们的球衣网络服务兼容的自定义序列化器/反序列化器（即用于 windows mobile），在其他环境中也使用网络服务。

有没有办法查看 put 方法以查看最终的 xmlstring？还是其他一些可能性？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:36:07.650

使用[LoggingFilter](http://jersey.java.net/nonav/apidocs/latest/jersey/com/sun/jersey/api/client/filter/LoggingFilter.html)。只需将其添加到您的客户端：

```
client.add(new LoggingFilter(System.out)); 
```

# ajax - jsf中表格格式的ajax建议

> ID：10497530
> 
> 赞同：0
> 
> 时间：2012-05-08T11:15:49.687
> 
> 标签：ajax, jsf-2

我有一个简单的 jsf 表单，其中包含名字、姓氏和保存按钮。

现在，当用户输入他的名字时，他应该从现有记录（来自数据库）中获得建议（ajax）。

更重要的是建议框应​​该是表格格式，如图所示，如果用户会点击任何建议。 ![在此处输入图像描述](../Images/58616086a682cf7c997b3c47d50c4693.png) 怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:23:15.220

去 primefaces 自动完成

看看展示柜

[自动完成 - Pojo](http://www.primefaces.org/showcase/ui/autoCompletePojo.jsf)

刚开始在第二个自动完成框中输入梅西（大写）

在该示例中，有两列....

# c# - 使用当天和接下来三天的 XML 值填充列表框？

> ID：10497531
> 
> 赞同：0
> 
> 时间：2012-05-08T11:15:56.980
> 
> 标签：c#, xml, linq, windows-phone-7, linq-to-xml

> **可能重复：**
> [根据日期，从 XML 获取今天和接下来两天的值？](https://stackoverflow.com/questions/10505103/based-on-date-get-todays-and-the-next-two-days-values-from-xml)

我之前问过一些问题，感谢 stackoverflow 的出色帮助，我已经解决了很多主要问题。谢谢你们！如果我的问题很愚蠢，我感到非常抱歉，但在 stackoverflow 上提问之前，我已经尽可能多地使用谷歌搜索。

我还有一个工作页面，我可以在其中获取特定的祈祷时间并填充文本块。请参阅此链接和我标记的问题以及解决方案。我在课堂上使用公共时间跨度和 var 查询：

[如何根据当前时间制作 if 语句以显示 xml 属性](https://stackoverflow.com/questions/10485767/how-to-make-an-if-statement-to-show-xml-attribute-based-on-current-time)

我仍在开发穆斯林祈祷时间应用程序，并希望用今天+接下来的 3 天祈祷时间填充列表框。

```
 DateTime myDay = DateTime.Now;
    XDocument loadedCustomData = XDocument.Load("WimPrayerTime.xml");
    var filteredData = from c in loadedCustomData.Descendants("PrayerTime")
                       where c.Attribute("Day").Value == myDay.Day.ToString()
                       && c.Attribute("Month").Value == myDay.Month.ToString()

                       select new PrayerTime()
                       {
                           Fajr = c.Attribute("Fajr").Value,
                           Soloppgang = c.Attribute("Soloppgang").Value,
                           Zohr = c.Attribute("Zohr").Value,
                       };

    listBox1.ItemsSource = filteredData; 
```

我的班级是：

```
public class Prayertime
{

   public string Fajr { get; set; }
   public string Sunrise { get; set; }
   public string Zohr { get; set; }

} 
```

我的本地 XML 文件（始终包含在它自己的应用程序中）

```
<PrayerTime
    Day ="30" 
    Month="4" 
    Fajr="07:00" 
    Sunrise="09:00"
    Zuhr="14:00"
/>
<PrayerTime
    Day ="1" 
    Month="5" 
    Fajr="07:05" 
    Sunrise="09:05"
    Zuhr="14:05"
/>
<PrayerTime
    Day ="2" 
    Month="5" 
    Fajr="07:10" 
    Sunrise="09:10"
    Zuhr="14:10"
/> 
```

首先，如何更改此代码以显示今天加上接下来三天的列表？

```
where c.Attribute("Day").Value == myDay.Day.ToString() 
```

或者我应该每天做一个查询， `DateTime NextDay = DateTime.Now.AddDays(1)`等等？我如何用三个或四个这样的不同查询填充同一个列表框？我可以重复一下吗：

```
listBox1.ItemsSource = filteredData1;
listBox1.ItemsSource = filteredData2;
listBox1.ItemsSource = filteredData3; 
```

另外，当月份变化时该怎么办？例如，如果日期为 30，月份为 4，那么第二天的值为 1，月份应显示为 5？

最后但并非最不重要的......当显示我希望列表框显示的信息时，如下所示：

```
Monday 30.04.2012
Fajr        07:00
Sunrise     09:00
Zuhr        14:00

Tuesday 01.05.2012
Fajr        07:05
Sunrise     09:10
Zuhr        14:10 
```

我在属性名称和值以及上面的日期/日期之间有一个固定的间距。

非常感谢所有花时间阅读的人，也非常感谢所有回答的人：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:56:58.520

试试这个：

```
where int.Parse(c.Attribute("Day").Value) >= myDay.Day && int.Parse(c.Attribute("Day").Value) < (myDay.Day + 3) 
```

# javascript - 键入时的 Asp.net 数字分组

> ID：10497533
> 
> 赞同：0
> 
> 时间：2012-05-08T11:16:00.780
> 
> 标签：javascript, asp.net

在 asp.net 项目中，我想在输入文本框时对数字进行分组。示例：123456123456 123.456.123.456

我的目标不是对 IP 地址进行分组。我希望它轻松读取数字。例如：12.000.152.156.123.156

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:26:25.283

这称为**掩蔽**，有几种方法可以实现。

如果您是 ASP.NET 的新手，您可能会开始使用

> [ASP.NET Ajax 控制工具包](http://www.asp.net/ajaxlibrary/AjaxControlToolkitSampleSite/)

并利用他们的[蒙面编辑](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/MaskedEdit/MaskedEdit.aspx)

如果您是 jQuery 的粉丝，您可以轻松使用遮罩插件。有几个，但这里是[JsBin中使用的一个](http://jsbin.com/ivevim/edit#javascript,html)[**活生生的例子**](http://jsbin.com/ivevim/edit#javascript,html)：

> [屏蔽输入 jQuery 插件](http://digitalbush.com/projects/masked-input-plugin/)

如果它是 IP 地址，这里是[JsBin中使用的一个](http://jsbin.com/ivevim/5/edit#javascript,html)[**活生生的例子**](http://jsbin.com/ivevim/5/edit#javascript,html)：

> [IP 地址 jQuery 插件](http://mlntn.com/2009/12/30/jquery-ip-address-plugin/)

* * *

**从评论**中我可以看到您只想对数字进行分组以提高可读性，因为您可以检查[**JsBin**](http://jsbin.com/apevag/edit)女巫中的实时示例是使用以下方法制作的：

> [蒂姆·施梅尔特答案](https://stackoverflow.com/a/10497708/28004)代码

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:27:24.033

**编辑**：如果您想在服务器端执行此操作（不要标记 javascript，人们花了很多时间为您提供客户端解决方案）：

```
double number = 123456123456;
String numeric = String.Format("{0:#,0}", number); // "123.456.123.456" 
```

[http://msdn.microsoft.com/en-us/library/dwhawy9k.aspx](http://msdn.microsoft.com/en-us/library/dwhawy9k.aspx)

* * *

*由[balexandre添加](https://stackoverflow.com/users/28004/balexandre)*

你可以随时添加一些简单的验证

```
using System.Net;

IPAddress ip = new System.Net.IPAddress(); 
if(IPAddress.TryParse(numeric, out ip))
    // you get a valid IP Address in the ip variable
else
    // IP Address not valid, go back and ask again... 
```

* * *

如果要将千位分隔符添加到数字字符串值，可以使用此函数：

```
<script type="text/javascript">
    function groupDigit(strDigit, separator) {
        if (separator == null || separator.length == 0) separator = ".";
        strDigit += '';
        x = strDigit.split('.');
        x1 = x[0];
        x2 = x.length > 1 ? '.' + x[1] : '';
        var rgx = /(\d+)(\d{3})/;
        while (rgx.test(x1)) {
            x1 = x1.replace(rgx, '$1' + separator + '$2');
        }
        return x1 + x2;
    }
</script> 
```

测试：

```
alert(groupDigit("123456123456", ".")); // 123.456.123.456 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:19:37.660

你可以使用这个 Jquery 插件[http://webdeveloperplus.com/jquery/how-to-mask-input-with-jquery/](http://webdeveloperplus.com/jquery/how-to-mask-input-with-jquery/)

这样做的好处是它将准确地向用户显示格式的外观

# osgi - 动态设置 OSGi 导入版本限制？

> ID：10497535
> 
> 赞同：1
> 
> 时间：2012-05-08T11:16:03.117
> 
> 标签：osgi, bundle, equinox

我正在构建一个基于 OSGi 的 Web 应用程序，目前只包含两个包。在其中之一中，我正在从流程引擎加载流程实例。每个流程实例都应该与最初分配给它的另一个捆绑包的特定版本相对应。

例如，我想在 Bundle A 中加载一个流程实例，并使用 1.0 版中的 bundle B 中的包来处理它。之后，我将获取另一个流程实例，并使用 2.0 版中捆绑包 B 中的包来处理它。

你有什么方法可以实现这个功能吗？

非常感谢您！约翰内斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T22:17:32.220

Bundle A 在任何给定点只能暴露给一个包的单个版本。因此，除了可能仅使用反射之外，Bundle A 不能使用由不同版本的 Bundle B 导出的同一包的 2 个版本。

或者，您的意思是 Bundle B 的 2 个版本以不同方式实现相同的包。然后 Bundle A 可以从 Bundle B 的 2 个版本中看到不同的实现对象，因为它们似乎与 Bundle A 的接口类型相同。如果是这种情况，那么 OSGi 服务是 Bundle B 为 Bundle 发布这些对象的最佳方式A 使用。

# jquery - 我无法选择上一个元素

> ID：10497536
> 
> 赞同：0
> 
> 时间：2012-05-08T11:16:06.423
> 
> 标签：jquery

我使用以下代码

```
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script>
//Document ready
$(document).ready(function(){   

    //Show info
    $('a.getinfo').live("click", function(event){
        event.preventDefault();
                $(this).css("display","none");
                $(this).next('.info').css("display","block");
        }
    );
    $('a.getback').live("click", function(event){
        event.preventDefault();
                $(this).css("display","none");
                $(this).prev('a.getinfo').css("display","block");
        }
    );

});
</script>
<style>
.info {
    display: none   
}
</style>
<ul>
    <li>
        <a href="#" class="getinfo">
            <img src="http://s13.postimage.org/7xkjh8991/image.jpg">
            <span class="sticker opacity">get info</span>
        </a>
        <div class="info">
        <a href="#" class="getback">
            some info
            <span class="sticker-back opacity">back</span>
        </a>
        </div>
    </li>
    <li>
        <a href="#" class="getinfo">
            <img src="http://s13.postimage.org/7xkjh8991/image.jpg">
            <span class="sticker opacity">get info</span>
        </a>
        <div class="info">
        <a href="#" class="getback">
            some info
            <span class="sticker-back opacity">back</span>
        </a>
        </div>
    </li>
    <li>
        <a href="#" class="getinfo">
            <img src="http://s13.postimage.org/7xkjh8991/image.jpg">
            <span class="sticker opacity">get info</span>
        </a>
        <div class="info">
        <a href="#" class="getback">
            some info
            <span class="sticker-back opacity">back</span>
        </a>
        </div>
    </li>
</ul> 
```

它应该做什么：

*   当您单击图像时，图像将隐藏并显示文本“返回一些信息”。
*   现在，当我单击文本“返回一些信息”时，我应该得到以前的图像

问题：

*   我无法显示图像。可能我不知道如何正确选择类'.getinfo'

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:25:49.383

你没有做正确的选择。这是您的代码的修改版本，可以正常工作：http: [//jsfiddle.net/ertaD/4/](http://jsfiddle.net/ertaD/4/)

我已经修改了选择以获取最接近的 li 并且在该 li 中我找到了所需的元素。您正在隐藏 .getback，并显示 .info（信息的内容仍然隐藏）

这是代码：

```
$('a.getinfo').live("click", function(event){
    event.preventDefault();
            $(this).css("display","none");
            $(this).closest('li').find('.info').css("display","block");
    }
);
$('a.getback').live("click", function(event){
    event.preventDefault();
            $(this).parent().css("display","none");       
            $(this).closest('li').find('.getinfo').css("display","block");
    }
); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:26:34.083

不要使用`Prev`选择器，因为它不会搜索所有以前的 div。试试`parent`and`children`选择器：

```
$('a.getinfo').live("click", function(event){
    event.preventDefault();
            $(this).hide();
            $(this).parent().children('.info').show();
    }
);
$('a.getback').live("click", function(event){
    event.preventDefault();
            $(this).parent().hide();
            $(this).parent().parent().children('.getinfo').show();
    }
);​ 
```

注意我还使用了`Show`and`Hide`方法让事情变得比设置 css 属性更容易

[这是一个工作示例](http://jsfiddle.net/e98Hu/)

* * *

由于我缺少使用双亲的需要，因此在这种情况下使用选择器来查找与给定选择器查询匹配的第一个父级`.parent().parent()`会更合适，如下所示：`closest`

```
$(this).closest("li").children('.getinfo').show(); 
```

# wcf - 具有高兼容性的安全 WCF Webservice

> ID：10497541
> 
> 赞同：1
> 
> 时间：2012-05-08T11:16:19.097
> 
> 标签：wcf, security, windows-phone-7

我知道，关于 WCF 和安全性的话题有 1000 倍——似乎是一个热门话题。我仍然想得到一些关于这个的最新意见。

我正在创建一个 Web 服务（免费使用），客户端可以在我的网站上注册，获取安全令牌，并可以使用此令牌使用 Web 服务。使用 Web 服务必须非常简单，与客户端使用的语言（PHP、Java、.NET）无关。

我还需要公开一个 webservice-call 以在 Windows Phone 7.1、Android、iOS 中使用。

我目前使用 wsHttpBinding 和 TransportWithMessageCredential 安全性在 WCF 中实现了服务。现在我已经在尝试使用 WP7 时遇到了兼容性问题...

在您看来，什么是最能满足我需求的 Web 服务/安全框架？* REST * SOAP（使用 SoapHeaderAuthentication） * 等等...

任何反馈都非常感谢！谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:37:44.137

如果它必须被不同的框架和设备轻松使用​​，我会构建一个 Rest 服务。看看[ASP.NET Web API](http://www.asp.net/web-api)。

您可以使用 Web Api 返回 Json，它可以很容易地被 Windows Phone 7 应用程序、Java、php 等使用。您可以实现 https 和身份验证。

请记住，它仍处于 Beta 阶段，跨域访问它时会遇到一些问题，但这是一个可以克服的问题。我想这会在它到达 RTM 之前变得容易。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T12:43:39.627

互操作性使休息更容易。如果您确实使用soap，那么basicHttpBinding 比wsHttpBinding 好得多，因为后者有一些专有协议。

# iphone - 如何在 Xcode 中配置独立的运行时设置集

> ID：10497552
> 
> 赞同：58
> 
> 时间：2012-05-08T11:17:08.923
> 
> 标签：iphone, ios, xcode, configuration, runtime

我的 iPhone 应用程序连接到三个不同的服务器，例如：**production**、**staging**和**testing**。应用程序使用的配置值取决于它连接到的服务器，例如 Facebook 应用程序 ID、TestFlight 团队密钥等。

我想拥有 GIT 中的所有设置，并且只选择应用程序在编译或发布时应该使用的配置。For example, when **testing** is selected, *Product -> Run* in Xcode runs the debug version of the app connecting to **testing** , and *Product -> Archive* creates the IPA file with the release version that also connects to **testing** .

我不想创建比调试和发布更多的构建配置（因为这意味着构建配置/运行时配置的 6 种不同组合）。在我看来，理想的解决方案是我有三个方案：**production**、**testing**和**staging**，每个方案选择三个 Info.plist 文件之一与应用程序一起使用。这将使我不仅可以定义不同的运行时设置，还可以根据后端服务器定义不同的应用程序版本或捆绑标识符。但除了选择不同的构建配置之外，我似乎无法以任何其他方式配置存档操作。有什么想法可以以任何方式实现吗？

**编辑：**为了更清楚一点，**生产/登台/测试**是后端服务器，而不是 iOS 应用程序的版本。iOS 应用程序有两个版本：**调试/发布**。换句话说，我可能想要运行连接到**生产服务器的应用程序的****调试**版本，例如调试从该服务器返回的 JSON 导致的崩溃。为了清楚起见，我可以将服务器命名为 A、B 和 C。

 *** * *

## 回答 #1

> 赞同：112
> 
> 时间：2012-05-08T12:09:29.553

一个很好的方法是使用构建配置和 C 宏。这避免了必须为每个配置创建单独的目标，这并不是真正正确使用目标。

首先，您要在项目级别设置配置：

![在此处输入图像描述](../Images/d1c260c818739ce3dc51b74101f9aa4b.png)

您可以为调试、企业分发和您想要的任何其他类型的特殊构建创建不同的配置。

接下来，您可以为将传递给编译器的每个配置定义一些宏标志。然后，您可以在编译时检查这些标志。在目标级别找到“预处理器标志”构建设置：

![在此处输入图像描述](../Images/dea6b7e24f6d2da5026fae6c025086d2.png)

如果您扩展三角形，您可以为每个配置定义不同的值。您可以在此处定义`KEY=VALUE`或仅定义`KEY`宏。

![在此处输入图像描述](../Images/5037f1654c9fb7351fa25826efe7302d.png)

在您的代码中，您可以检查这些宏是否存在，或者它们的值（如果有的话）。例如：

```
#ifdef DISABLE_FEATURE_X
    featureXButton.hidden = YES;
#endif

// ...

#if FOOBAR_VISIBLE == 0
    foobarView.hidden = YES;
#elif FOOBAR_VISIBLE == 1
    foorbarView.hidden = NO;
#else
    #error Invalid value for FOOBAR_VISIBLE
#endif 
```

您也可以传入字符串值，这些值必须在构建设置中用单引号括起来，例如`DEFAULT_LOCALIZATION_NAME='@"en"'`.

您还可以使用方案编辑器配置在调试和存档期间使用的配置。如果您在方案编辑器中选择“运行”或“存档”，您可以选择适当的配置。

![在此处输入图像描述](../Images/fd0b6e70d83f6ee7009d7ade836f5fcb.png)

如果您需要参数化 Info.plist 文件中的条目，您可以使用自定义构建设置来定义它们的值。为您的目标添加自定义构建设置：

![在此处输入图像描述](../Images/79942b4116e2fd560e82dd8bd9b67d9d.png)

然后为您的不同配置赋予适当的值：

![在此处输入图像描述](../Images/7f0d16af5d9943830c92400dc6fc8e11.png)

然后在 Info.plist 文件中，您可以引用此设置：

![在此处输入图像描述](../Images/f066320de22a5e0810e077e61a91088a.png)

请注意，此方法的一个限制是您无法更改以下项目：

*   Settings.bundle

此外，在不支持资产目录的旧版本 Xcode 中，您无法更改以下项目：

*   图标.png
*   默认.png

这些不能在 Info.plist 文件或其他任何地方明确定义，这意味着您需要不同的目标来更改它们。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-05-08T11:28:23.550

我建议为每个环境使用不同的构建目标。我之前成功使用过这个模型。在您的项目设置中，您可以复制当前目标并根据需要更改构建设置。有一个`Info.plist File`属性可以让您更改该目标的默认 plist。

之后，您可以为将使用相应目标的每个环境创建一个方案。

您可以更进一步，为每个目标和不同的名称使用不同的捆绑包 ID。例如，这将允许您在同一设备上安装暂存版本和生产版本。

唯一的缺点是，当您想要更新配置文件时，您需要做更多的工作。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-04-17T06:42:31.527

如果相关库允许在代码中设置键，这是一个更简单的解决方案，这意味着您可以在 plist 文件中拥有生产价值，但在 AppDelegate（或它们首先使用的任何文件）中更改它们。

目前适用于 facebook、twitter 和 google sdk。

前任：

```
#ifdef DEBUG
  // Facebook
  [FBSettings setDefaultAppID:@"SandboxID"];
  // Fabric / TwitterKit - must be called above [Fabric with:@[TwitterKit]];
  [[Twitter sharedInstance] startWithConsumerKey:@"SandboxKey" consumerSecret:@"SandboxIDSecret"];
#endif 
```

在 Swift 中也是如此，只需使用 #if 而不是 #ifdef。

**关于 Facebook 的注意事项**这适用于他们的 SDK 的第 3 版，我不确定是否可以使用更高版本。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-02-27T18:34:15.300

这可能是非常低的技术，但我只有一个调用的方法`apiURL()`，它返回我想要的 API 的 URL。我有 localhost、stage 和 production，我只是取消注释我想要的那个。到目前为止，它对我来说效果很好。我只是忘记了几次切换回来。哎呀。**

# java - Com4j 和 Proguard 混淆

> ID：10497556
> 
> 赞同：0
> 
> 时间：2012-05-08T11:17:30.313
> 
> 标签：java, proguard, com4j

Com4j 集成在我的 Java 应用程序中运行良好，但在使用 Proguard 混淆（其他选项已关闭）时不行。我可能做错了什么？

程序挂在 C 处`OM4J.createInstance(...)`。我之前看到过这段代码停在同一个位置，即当 Com4j 库找不到底层的 com4j.dll 本机文件时。然而，这段代码确实在没有 Proguard 的情况下工作。

```
package mypackage;

public abstract class ClassFactory {
  private ClassFactory() {}

  public static MyInterface createMyComObjectInstance() {      
      return COM4J.createInstance(MyInterface.class, ComObject_idString );    
  }
} 
```

接口是这样定义的： public interface MyInterface extends Com4jObject {....}

同上 ProGuard 配置文件（尝试了几种变体）。

```
-libraryjars myPath\com4j.jar

-keep public class mypackage.** {*;}

-keep public interface MyInterface {*;}

-keep public abstract class mypackage.ClassFactory {
   public static MyInterface createMyComObjectInstance();

//also tried this
    *;
} 
```

另请注意，Proguard 在其余代码上工作得很好，包括一些 JNI/native 模块。

# android - ListView 在滚动时更改记录

> ID：10497559
> 
> 赞同：1
> 
> 时间：2012-05-08T11:17:42.440
> 
> 标签：android, android-listview, records

这就是我在页面加载时看到我的屏幕的方式。但是当我开始滚动列表时，我所有的记录都开始发生变化，这变得非常奇怪。我真的不知道为什么，有什么建议吗？

![原来的](../Images/1488b9a08f8e8fb5613d55d62d41b735.png)

这是我上下滚动后的屏幕`ListView`。 ![滚动列表后](../Images/1449e1f9fec215655908d8f7bd910ce7.png)

适配器：

```
private class TechnicalDocumentationAdapter extends
        ArrayAdapter<TechnicalDocumentation> {

    private ArrayList<TechnicalDocumentation> items;

    public TechnicalDocumentationAdapter(Context context,
            int textViewResourceId, ArrayList<TechnicalDocumentation> items) {
        super(context, textViewResourceId, items);
        this.items = items;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        View v = convertView;
        if (v == null) {
            LayoutInflater vi = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            v = vi.inflate(R.layout.technicaldocumentationrow, null);
        }
        TechnicalDocumentation technicalDocumentation = items.get(position);
        if (technicalDocumentation != null) {
            TextView tt = (TextView) v.findViewById(R.id.TDRdate);
            TextView bt = (TextView) v.findViewById(R.id.TDRobjectTypeCode);
            TextView ct = (TextView) v
                    .findViewById(R.id.TDRperformedAction);
            TextView at = (TextView) v.findViewById(R.id.TDRobjectName);

            tt.setText(tt.getText() + "\n " + technicalDocumentation.date);
            bt.setText(bt.getText() + "\n "
                    + technicalDocumentation.objectTypeCode);
            ct.setText(ct.getText() + "\n "
                    + technicalDocumentation.performedAction);
            at.setText(at.getText() + "\n "
                    + technicalDocumentation.objectName);

        }
        return v;
    }
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-05T15:27:08.877

对我有用的是：

```
View row = convertView;
ComponentsHolder holder = null;
**row = null;** // Added this line to fix the problem. 

if (row == null) {...} 
```

但是这种解决方案使导航速度变慢了。

编辑

这不是正确的解决方案。

要走的路是在分配新值之前清理所有视图。

```
if (row == null) {

LayoutInflater inflater = ((Activity) context).getLayoutInflater();
row = inflater.inflate(layoutResourceId, parent, false);
holder = new ComponentsHolder();
holder.id = (TextView) row.findViewById(R.id.id);
holder.name = (TextView) row.findViewById(R.id.name);
holder.description = (TextView) row.findViewById(R.id.description);
holder.price = (TextView) row.findViewById(R.id.price);
holder.photo = (ImageView) row.findViewById(R.id.photo);
holder.add = (Button) row.findViewById(R.id.btnAddDish);
row.setTag(holder);
} else {
holder = (ComponentsHolder) row.getTag();
holder.id.setText("");
holder.name.setText("");
holder.description.setText("");
holder.price.setText("");
holder.photo.setVisibility(View.GONE); //This was the real problem, if the image was not empty or gone, the view gone crazy
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-08T11:22:51.307

Android ListView 回收视图。目前的问题是您的适配器总是将新数据附加到 TextViews。现在，每次显示新行时，您都将新行中的数据附加到旧数据中。

要解决此问题，如果您使用 convertView 参数，则应从旧数据中清除 TextView。

# java - Http Post 和网络延迟

> ID：10497560
> 
> 赞同：1
> 
> 时间：2012-05-08T11:17:54.800
> 
> 标签：java, android, http

我需要在应用程序启动时对不同的 Web 服务 (php) 进行大约 15 次调用。

我正在为帖子使用以下代码

```
public static String post(String url, List<BasicNameValuePair> 
           postvalues, HttpClient httpclient) {
    try {
        if (httpclient == null) {
            httpclient = new DefaultHttpClient();
        }
        HttpPost httppost = new HttpPost(url);

        if ((postvalues == null)) {
            postvalues = new ArrayList<BasicNameValuePair>();
        }
        httppost.setEntity(new UrlEncodedFormEntity(postvalues, "UTF-8"));

        // Execute HTTP Post Request
        HttpResponse response = httpclient.execute(httppost);
        return requestToString(response);
    } catch (Exception e) {
        e.printStackTrace();
        return null;
    }

}

private static String requestToString(HttpResponse response) {
    String result = "";
    try {
        InputStream in = response.getEntity().getContent();
        BufferedReader reader = new BufferedReader(new InputStreamReader(in));
        StringBuilder str = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            str.append(line + "\n");
        }
        in.close();
        result = str.toString();
    } catch (Exception ex) {
        result = "Error";
    }
    return result;
} 
```

问题是某些请求必须按给定顺序请求，每个请求大约需要 1-2 秒，因此“加载启动”大约需要 10 秒。

所以我的问题是：由于所有连接都到同一台服务器，我该如何改善这种延迟？是否有某种方法可以打开连接并通过该“隧道”发送所有请愿书以减少延迟？

注意：我测试了代码，并且请求在每个连接中使用新的 httpclient 重用 httpclient 的时间相同

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T12:12:05.930

您想到的是重用 TCP 连接的 HTTP 持久连接。

关于这个话题，Stackoverflow 上已经有一个很好的问题和答案：

[Android 上的持久 HttpURLConnections](https://stackoverflow.com/questions/5917818/persistent-httpurlconnections-on-android)

# android - 提供定时提前和 AOA 的 Android 应用程序

> ID：10497562
> 
> 赞同：-1
> 
> 时间：2012-05-08T11:18:03.960
> 
> 标签：android

我想知道Android上是否有任何应用程序可以提前提供时间，也许还有到达的角度。

如果没有，也许一种方法会非常有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-29T06:40:55.947

@peter 我也在寻找相同的概念。我研究了我们可以使用传播时间计算时间提前..它应该导致 3.69 (mu s) 单位从中我们可以计算 BS 和 MS 之间的距离 ... 300 * 3.69/2 = 大约 553 m.. 但是如果你有一些想法与我分享，我们需要找到**传播时间。**我没有 50 代表所以我不能发表评论.. 所以我把这个作为答案发布。对不起

# c# - 使用 NUnit 作为可部署的测试套件

> ID：10497565
> 
> 赞同：2
> 
> 时间：2012-05-08T11:18:15.380
> 
> 标签：c#, testing, nunit

我在基于开发人员的测试的单元测试场景中使用了很多 NUnit，但我希望利用 GUI 和测试功能为我的 QA 团队提供一个测试套件，他们可以为所有组件或部分组件等运行，因为GUI 非常适合这一点。

但是我一直在努力解决的是如何在我的解决方案中对其进行建模，我需要部署什么，如何部署 NUnit 等等。

我打算有一个用于测试的类库，一个由 QA 团队运行的控制台应用程序，他们可以传递参数以自动运行测试子集，这将产生 NUnit 控制台并运行这些测试，或者它们只是在没有参数的情况下运行我的控制台应用程序，它会加载 NUnit GUI，他们可以浏览他们喜欢的任何测试。

但是由于 NUnit 被部署为一个大型二进制项目，需要由 Process.Start 运行，我不确定如何部署它，因为 NUnit 有一个很大的目录结构，我不确定如何将它包含在我的项目构建中，它在哪里将是等

有没有人做过类似的事情并对如何最好地做到这一点有任何建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T22:06:08.530

部署 nunit 二进制文件的一种方法是使用 NuGet - 有一个 NUnit.Runner nuget 包，其中包含所有二进制文件、gui 等 - 您只需要提供可测试的二进制文件。

所以 - 在您的 CI/构建过程中创建一个步骤，该步骤将创建一个仅包含您的测试和支持程序集的 nuget 包。在 .nuspec 文件中，使“NUnit.Runner”成为一个依赖包。现在你有一个 nuget 包，其中包含你所有的东西和你需要的所有 NUnit .exe 的链接……下一个挑战是把这个包放到你的测试人员桌面上。最好的方法是使用您自己的私有 NuGet 提要/服务器或 NaaS...myget.org。

在这一点上，我会说我创建了以下解决方案 - 我认为还有其他可用的解决方案，例如 Chocolatey 也是如此。

我构建了一个名为“sidewinder”（sidewinder.codeplex.com）的nuget包 - 这个包包含“sidewinder.exe” - 这个exe将从任何nuget feed（官方，myget，自定义）下载一个nuget包，然后解压缩的内容打包并将文件复制到您选择的任何文件夹。因此，如果您的 CI 过程为您的测试程序集创建了一个新的包版本，sidewinder.exe，一旦安装在您的测试机器上，将能够检测到新版本，下载、解包和部署它。您甚至可以在包中包含一个批处理文件，该文件运行正确的命令行来启动 gui 或控制台运行程序。

对于奖励积分，有一个自动版本 - wolfpack (http://wolfpack.codeplex.com) 有一个插件 (http://wolfpackcontrib.codeplex.com/wikipage?title=Wolfpack.Contrib.Deployment) 可以监控特定包的新版本的 nuget 提要，并自动为您下载、解包和运行 nunit 测试——它将根据测试结果创建通知。

高温高压

# symfony - 如何从控制器运行 symfony 2 运行命令

> ID：10497567
> 
> 赞同：45
> 
> 时间：2012-05-08T11:18:24.663
> 
> 标签：symfony, controller, command

我想知道如何从浏览器查询或控制器运行**Symfony 2命令。**

这是因为我没有任何可能在托管上运行它，并且每个 cron 作业都是由管理员设置的。

我什至没有启用`exec()`功能，所以当我想测试它时，我必须将所有内容从命令复制到某个测试控制器，这不是最好的解决方案。

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2013-08-07T11:29:43.653

有关较新版本的 Symfony，请参阅有关此问题的[官方文档](https://symfony.com/doc/current/console/command_in_controller.html)

* * *

您不需要从控制器执行命令的服务，我认为最好通过`run`方法而不是通过控制台字符串输入调用命令，但是[官方文档](http://symfony.com/doc/current/components/console/introduction.html#calling-an-existing-command)建议您通过它的别名调用命令。另外，请参阅[此答案](https://stackoverflow.com/a/11755640/541961)。在 Symfony 2.1-2.6 上测试。

您的命令类必须扩展`ContainerAwareCommand`

```
// Your command

use Symfony\Bundle\FrameworkBundle\Command\ContainerAwareCommand;

class MyCommand extends ContainerAwareCommand {
    // …
}

// Your controller

use Symfony\Component\Console\Input\ArrayInput;
use Symfony\Component\Console\Output\NullOutput;

class SomeController extends Controller {

    // …

    public function myAction()
    {
        $command = new MyCommand();
        $command->setContainer($this->container);
        $input = new ArrayInput(array('some-param' => 10, '--some-option' => true));
        $output = new NullOutput();
        $resultCode = $command->run($input, $output);
    }
} 
```

在大多数情况下，您不需要`BufferedOutput`（来自**Jbm 的**回答）并且检查一下就足够了`$resultCode is 0`，否则会出现错误。

* * *

## 回答 #2

> 赞同：57
> 
> 时间：2012-05-08T12:58:19.010

将您的命令注册为服务，不要忘记调用`setContainer`

```
MyCommandService:
    class: MyBundle\Command\MyCommand
    calls:
        - [setContainer, ["@service_container"] ] 
```

在您的控制器中，您只需要获取此服务，并使用权限参数调用执行方法

使用方法设置输入`setArgument`：

```
$input = new Symfony\Component\Console\Input\ArgvInput([]);
$input->setArgument('arg1', 'value');
$output = new Symfony\Component\Console\Output\ConsoleOutput(); 
```

调用`run`命令的方法：

```
$command = $this->get('MyCommandService');
$command->run($input, $output); 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-12-13T09:38:54.407

在我的环境（ Symony 2.1 ）中，我必须对@Reuven 解决方案进行一些修改才能使其正常工作。他们来了：

服务定义 - 没有变化。

在控制器中：

```
use Symfony\Component\Console\Input\ArgvInput;
use Symfony\Component\Console\Output\ConsoleOutput;

...

public function myAction() {
    $command = $this->get('MyCommandService');

    $input = new ArgvInput(array('arg1'=> 'value'));
    $output = new ConsoleOutput();

    $command->run($input, $output);
} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-12-20T14:04:59.757

您可以简单地创建一个命令实例并运行它：

```
/**
 * @Route("/run-command")
 */
public function someAction()
{
    // Running the command
    $command = new YourCommand();
    $command->setContainer($this->container);

    $input = new ArrayInput(['--your_argument' => true]);
    $output = new ConsoleOutput();

    $command->run($input, $output);

    return new Response();
} 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-03-29T21:45:10.920

这是一种替代方法，可让您以与在控制台上相同的方式将命令作为字符串执行（无需使用此定义服务）。

您可以检查[此捆绑包的控制器](https://github.com/CoreSphere/ConsoleBundle/blob/master/Controller/ConsoleController.php)以了解它是如何处理所有详细信息的。在这里，我将对其进行总结，省略某些细节（例如处理环境，因此这里所有命令都将在它们被调用的同一环境中运行）。

如果您只想从浏览器运行命令，则可以按原样使用该捆绑包，但如果您想从任意控制器运行命令，请执行以下操作：

在你的控制器中定义一个这样的函数：

```
use Symfony\Bundle\FrameworkBundle\Console\Application;
use Symfony\Component\Console\Input\StringInput;

private function execute($command)
{
    $app = new Application($this->get('kernel'));
    $app->setAutoExit(false);

    $input = new StringInput($command);
    $output = new BufferedOutput();

    $error = $app->run($input, $output);

    if($error != 0)
        $msg = "Error: $error";
    else
        $msg = $output->getBuffer();
    return $msg;
} 
```

然后你可以从这样的动作中调用它：

```
public function dumpassetsAction()
{
    $output = $this->execute('assetic:dump');

    return new Response($output);
} 
```

此外，您需要定义一个类作为输出缓冲区，因为框架没有提供：

```
use Symfony\Component\Console\Output\Output;

class BufferedOutput extends Output
{
    public function doWrite($message, $newline)
    {
        $this->buffer .= $message. ($newline? PHP_EOL: '');
    }

    public function getBuffer()
    {
        return $this->buffer;
    }
} 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-12-18T23:23:48.447

与@malloc 相同，但

```
use Symfony\Component\Console\Input\ArgvInput;
use Symfony\Component\Console\Output\ConsoleOutput;

...

public function myAction() {
  $command = $this->get('MyCommandService');

  // $input[0] : command name
  // $input[1] : argument1
  $input = new ArgvInput(array('my:command', 'arg1'));
  $output = new ConsoleOutput();

  $command->run($input, $output);
} 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-11-06T21:09:48.627

如果您必须传递参数（和/或选项），那么在 v2.0.12 中（可能适用于更高版本），您需要在实例化输入对象之前先指定 InputDefinition。

```
use // you will need the following
    Symfony\Component\Console\Input\InputOption,
    Symfony\Component\Console\Input\InputArgument,
    Symfony\Component\Console\Input\InputDefinition,
    Symfony\Component\Console\Input\ArgvInput,
    Symfony\Component\Console\Output\NullOutput;

// tell symfony what to expect in the input
$inputDefinition = new InputDefinition(array(
    new InputArgument('myArg1', InputArgument::REQUIRED),
    new InputArgument('myArg2', InputArgument::REQUIRED),
    new InputOption('debug', '0', InputOption::VALUE_OPTIONAL),
));

// then pass the values for arguments to constructor, however make sure 
// first param is dummy value (there is an array_shift() in ArgvInput's constructor)
$input = new ArgvInput(
                        array(
                                'dummySoInputValidates' => 'dummy', 
                                'myArg2' => 'myValue1', 
                                'myArg2' => 'myValue2'), 
                        $inputDefinition);
$output = new NullOutput(); 
```

附带说明一下，如果您在命令中使用 getContainer()，则以下函数可能对您的 command.php 很方便：

```
/**
 * Inject a dependency injection container, this is used when using the 
 * command as a service
 * 
 */
function setContainer(\Symfony\Component\DependencyInjection\ContainerInterface $container = null)
{
    $this->container = $container;
}

/**
 * Since we are using command as a service, getContainer() is not available
 * hence we need to pass the container (via services.yml) and use this function to switch
 * between conatiners..
 *
 */
public function getcontainer()
{
    if (is_object($this->container))
        return $this->container;

    return parent::getcontainer();
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-04-30T20:11:41.443

您可以使用此捆绑包从控制器（http 请求）运行 Symfony2 命令并在 URL 中传递选项/参数。

[https://github.com/mrafalko/CommandRunnerBundle](https://github.com/mrafalko/CommandRunnerBundle)

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-04-16T15:15:03.093

如果您运行需要`env`类似选项的命令`assetic:dump`

```
$stdout->writeln(sprintf('Dumping all <comment>%s</comment> assets.', $input->getOption('env'))); 
```

您必须像这样创建`Symfony\Component\Console\Application`并设置定义：

```
use Symfony\Component\Console\Application;
use Symfony\Component\Console\Input\ArgvInput;
use Symfony\Component\Console\Input\InputDefinition;
use Symfony\Component\Console\Input\InputOption;
use Symfony\Component\Console\Output\NullOuput;

// Create and run the command of assetic
$app = new Application();
$app->setDefinition(new InputDefinition([
    new InputOption('env', '', InputOption::VALUE_OPTIONAL, '', 'prod')
]));
$app->add(new DumpCommand());

/** @var DumpCommand $command */
$command = $app->find('assetic:dump');
$command->setContainer($this->container);
$input = new ArgvInput([
    'command' => 'assetic:dump',
    'write_to' => $this->assetsDir
]);
$output = new NullOutput();
$command->run($input, $output); 
```

您无法将选项设置`env`为命令，因为它不在其定义中。

# c# - TextReader 上的 Read() 和 ReadBlock() 调用有什么区别？

> ID：10497575
> 
> 赞同：5
> 
> 时间：2012-05-08T11:19:10.623
> 
> 标签：c#, stream, streamreader, textreader

标题或多或少说明了一切。通话记录在案：

[Here](http://msdn.microsoft.com/en-us/library/97e90x91.aspx) for`TextReader.Read Method (Char[], Int32, Int32)` 和
[Here](http://msdn.microsoft.com/en-us/library/system.io.textreader.readblock.aspx) for`TextReader.ReadBlock()`具有相同的参数类型。

我想提取一个字节数组的一部分，为此我组成了一个`MemoryStream`我打算用`StreamReader`这样的方式读取的内容：

```
 StreamReader r = new StreamReader(new MemoryStream(rawData, 0, 184, false, false));
    r.Read..... 
```

**我应该使用哪一个？其中一个更快还是更好？**

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-09T05:54:00.143

如果你可以对部分结果做一些有用的事情，然后调用 Read() 并处理你得到的东西。特别是如果您正在循环并处理每个 Read() 的结果，那么请执行此操作而不是使用 ReadBlock()。

ReadBlock 中的“块”一词是指阻塞的动作，而不是指下一个“块”字节。所以它将强制停止进一步的执行，直到它完成。

如果您使用 Reflector 查看 StreamReader.ReadBlock（继承自 TextReader.ReadBlock）的实现，它所做的只是多次调用“Read”方法，直到“Read”方法返回 0 或我们读为请求的许多字节。这是必需的，因为“读取”方法不一定会返回您要求的那么多字节。

# firefox - 如何使 Firefox 扩展密码受到保护？

> ID：10497584
> 
> 赞同：0
> 
> 时间：2012-05-08T11:19:32.053
> 
> 标签：firefox, firefox-addon, installation

例如，当我安装一个附加组件并重新启动 Firefox 时，它应该接受密码（仅在第一次安装时）。而当用户想要禁用或删除插件时，它只会在输入相同的密码时才符合？代码将保存在哪个部分？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T12:21:10.763

You cannot. Even if you disable add-on uninstall - the user can always close the browser and remove the extension manually (removing the directory on disk will do).

That said, the secure way of storing passwords is the [login manager](https://developer.mozilla.org/en/Using_nsILoginManager). They will be stored encrypted on disk if the user defines a master password. Of course, the user himself can always see the stored passwords (under Options / Security / Saved Passwords). So you probably want to store a salted [hash](https://developer.mozilla.org/en/XPCOM_Interface_Reference/nsICryptoHash) of the password rather than the password itself.

You can also use [AddonManager.addAddonListener()](https://developer.mozilla.org/en/Addons/Add-on_Manager/AddonManager#addAddonListener%28%29) to get notified whenever an add-on is being disabled or uninstalled. You can cancel the action by calling [addon.cancelUninstall()](https://developer.mozilla.org/en/Addons/Add-on_Manager/Addon#cancelUninstall%28%29) or setting `addon.userDisabled = false`.

The above is merely for reference - it won't really help you achieve your goal.

# sql - 调用存储过程时没有返回行，尽管在那个 SP 中运行代码返回行

> ID：10497585
> 
> 赞同：0
> 
> 时间：2012-05-08T11:19:36.173
> 
> 标签：sql, permissions, procedure, enterprise

每当我调用包含多个选择语句的存储过程时，我在结果集中没有任何行，尽管在 SP 之外运行相同的代码会返回预期的结果。在开发服务器上安装生产环境中的数据库备份时，这种情况已经开始发生。

以下示例在 Enterprise Manager 2008 中运行时不返回任何行：

```
exec dbo.USP_S_CustomerLimit '00000053-0000-1148-5300-000000000000' 
```

但是，如果我自己执行该过程中的所有代码（例如选择它并按“运行”），我会得到预期的结果行数量：

```
SELECT * FROM CustomerLimit WHERE Department =
(SELECT Department FROM Customer WHERE CustomerID = CONVERT(BINARY(16), CONVERT(UNIQUEIDENTIFIER, '00000053-0000-1148-5300-000000000000'))) 
```

我也尝试过这种代码变体，不幸的是它的行为方式完全相同：

```
SELECT CustomerLimit.* FROM CustomerLimit
JOIN Customer ON Customer.Department = CustomerLimit.Department
WHERE Customer.CustomerID = CONVERT(BINARY(16), CONVERT(UNIQUEIDENTIFIER, '00000053-0000-1148-5300-000000000000')) 
```

我觉得这是某种正确的问题，但我不知道在哪里检查。我是服务器上的 db_owner，我也属于相关数据库中的 db_owner 组。这个问题的原因可能是什么？如果我只用一个选择创建一个测试过程，fe`Select * from Customer`那么我在执行该过程时会得到正确的结果，但是如果我写 fe`Select * from Customer where CustomerID in (select CustomerID from Customer)`那么我没有得到任何行.. :(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:34:25.433

检查您是否拥有所有这三个表的权限/权限。检查 sys.objects 以获取这些表的列表。

# java - Java Swing OSX 窗口菜单复选标记

> ID：10497587
> 
> 赞同：2
> 
> 时间：2012-05-08T11:19:41.213
> 
> 标签：java, macos, swing, menu

将复选标记（勾选）添加到窗口菜单上活动窗口的 MenuItem 的最佳方法是什么？

是否有执行此操作的标准图标（以及最小化窗口的菱形）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-21T14:20:51.613

这里有一篇关于获取 OS X 系统特定图标的好文章：

[http://nadeausoftware.com/articles/2008/12/mac_java_tip_how_access_mac_specific_nsimage_icons](http://nadeausoftware.com/articles/2008/12/mac_java_tip_how_access_mac_specific_nsimage_icons)

您想要的图标是“复选标记”，您可以通过以下方式获得它：

```
final Icon checkmarkIcon = new ImageIcon(Toolkit.getDefaultToolkit().createImage( "NSImage://NSMenuOnStateTemplate" )); 
```

然后，您想将该图标添加为您的 JMenuItem 中的 selectedIcon：

```
JMenuItem myOSXMenuItem = new JMenuItem("My Menu Item");
myOSXMenuItem.setSelectedIcon(checkmarkIcon); 
```

当您在应用程序中打开新窗口时，您可以手动维护此菜单和复选标记状态，方法是在窗口菜单中添加/删除项目，并使用菜单项上的 setSelected() 方法设置当前窗口。

# nhibernate - nHibernate、join & ICriteria 和限制问题

> ID：10497588
> 
> 赞同：2
> 
> 时间：2012-05-08T11:19:44.893
> 
> 标签：nhibernate, nhibernate-mapping

我有以下表结构

**表 1 用户**

*   用户身份
*   姓名
*   公司
*   电子邮件

**表 2 位置**

*   用户名(fkey)
*   代码
*   地点
*   状态id(fkey)

**用户名+代码+位置=唯一键**

**表 3 状态**

*   状态id
*   状态描述

*   对于表 1。Hbn是之前写的。

*   它在名称和公司+其他方面也有复杂的搜索条件（为了清楚起见，我在这里没有提及）
*   使用 ICriteria & Restrictions 的用户已经开始搜索用户。

*   现在我们有了引入 table2 和 table3 的新功能。

*   我们还必须从 table1 + 位置和状态返回用户信息。我们希望通过将 userid 和 statusid 与父表映射并匹配代码和位置（从 UI 传递）来重用现有的搜索逻辑 + 这些新条件

• 不知道该怎么做。我已经为这两个表定义了简单的 hbns，但没有任何连接。

如何使用连接指定新的 hbn，以便我可以从 db 中选择特定的列（如果可能）

其次，如何为新表指定新标准。

# jakarta-ee - 应用服务器使用什么 java 运行时环境？

> ID：10497591
> 
> 赞同：0
> 
> 时间：2012-05-08T11:19:52.647
> 
> 标签：jakarta-ee, migration, java, application-server

我从事 Java SE 多年，有两件事 JRE 和 SDK 来运行 Java 应用程序。现在我正在转向 Java EE。我开始知道除了上述两个元素（即 SDK 和 JRE）之外，我还需要一个应用程序服务器。但是，当我访问 Java EE 的下载页面时，它们只提供 SDK 和 Application Server。此外，在互联网上我读到我只需要按照 Java EE 规范安装应用程序服务器？Java EE 只是应用服务器实现的规范吗？其次，JRE 在哪里，是在应用服务器内部还是标准版的 JRE 将用于运行分布式组件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:38:54.107

Java EE 是一组规范，是的。它们往往由 Java EE 服务器实现，但有许多框架实现了完整 EE 规范的一部分。

企业服务器是 Java 应用程序。他们需要一个 Java 运行时环境来运行。他们通常还需要访问 javac（Java 编译器）来编译 JSP 之类的东西。这就是为什么您最好在 Java 开发工具包（Java 的 SDK）上运行它们。服务器通常会在其运行的平台上的通常安装位置中查找运行时。它还经常使用环境变量 JAVA_HOME 来定位 JDK。

如果您只使用 Java EE 的特定子集，那么看看您是否可以找到该部分的独立实现可能会很有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:29:53.410

> Java EE 只是应用服务器实现的规范吗？

是的

> 其次，JRE 在哪里，是在应用服务器内部还是标准版的 JRE 将用于运行分布式组件？

不，大多数服务器通常使用 SDK，而不是 JRE

# jquery - 点击获取元素的ID

> ID：10497593
> 
> 赞同：2
> 
> 时间：2012-05-08T11:19:53.867
> 
> 标签：jquery, html

我的代码中有一些可折叠的段，我使用 jQuery 实现了这些段。

像这样：

```
<h2 class="expand">Link1</h2>
                <div class="collapse">
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore 
                    et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip 
                    ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore 
                    eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa 
                    qui officia deserunt mollit anim id est laborum.</p>                
                    <p class="top"><a href="#content">Top of page</a></p>
                </div> 
```

还有一些与上面的代码相同的部分。

当我单击它时，我想获取每个标题的 ID。比如说，当我单击“Link1”时，我希望它的 ID 弹出。

我已经定义了在弹出窗口中显示 id 的函数。这里是 ：

```
 $(document).ready(function () {
        $("a").click(function (event) {
          alert(event.target.id);
        });
  }); 
```

每当我运行应用程序并单击（比如说）“Link1”时，我都会得到一个空白输出。为所有链接声明单独的类似乎是一种选择，但我想这样做。任何人都可以建议任何替代方法来获取这些元素的 Id 吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-08T11:24:56.140

您提供的标记表明您没有为这些元素提供 id。尝试给他们一个 ID，如下所示：

```
<a id="contentLink" href="#content">Top of page</a> 
```

然后你可以这样做：

```
 $(document).ready(function () {
    $("a").click(function (event) {
        alert($(this).attr("id"));
    });
 }); 
```

**编辑：或者当你说“ID”时，你实际上是指 href （因为你的标记有 href 属性），那么你可以这样做：**

```
$(document).ready(function () {
    $("a").click(function (event) {
        alert($(this).attr("href"));
    });
 }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-08T11:28:26.717

首先，`this`如果您指的是绑定处理程序的元素，则应该使用。考虑一下：

```
<a href="#content" id="a"><span id="b">foo</span></a> 
```

`a`如果元素上绑定了处理程序，`this.id`则将是`a`while`event.target.id`将是`b`。除非你的*意思是* `event.target`，使用`this`.

其次，id 值不是继承的（事实上，因为它们必须是唯一的，所以如果它们是唯一的，那就没有意义了）。您要么需要给`a`元素一个`id`值，要么需要遍历文档并找到相关元素以获取其`id`.

您可以使用如下代码执行此操作：

```
$(this).closest('div').prev().attr('id') 
```

*但是*，您的`h2` 标签实际上没有`id`，因此您需要给它一个。如果要获取该标签的文本，请使用`text`：

```
$(this).closest('div').prev().text() 
```

# wpf - WPF：文本块字体大小应该是即使它的大小改变

> ID：10497597
> 
> 赞同：2
> 
> 时间：2012-05-08T11:20:06.940
> 
> 标签：wpf, textblock, font-size

我在我的应用程序中创建了一个自定义按钮，如下所示

```
<Button x:Class="MyApp.ButtonMainMenuSubCat"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="100" d:DesignWidth="536">
    <Button.Template>
        <ControlTemplate TargetType="{x:Type Button}">
            <Grid>
                <Grid Name="gridParent">
                    <Image Name="imgTransparent" Source="/MyApp;component/Resources/LeftCategoryTransparent.png" Stretch="Fill" Margin="0,0,0,0"  />
                    <Image Name="Part_Pressed" Source="/MyApp;component/Resources/PressedMainScreenSubMenu.png" Stretch="Fill" Margin="0,0,0,4"  Visibility="Hidden"/>
                    <Image Name="Focused" Source="/MyApp;component/Resources/MainSubMenuFocus.png" Margin="-3,0,-3,3"   Stretch="Fill" Visibility="Hidden" />
                    <Image Name="Seperator" Source="/MyApp;component/Resources/MainSubMenuSeperator.png" Margin="5,0,5,-1"   Stretch="Uniform" VerticalAlignment="Bottom"/>

                    <TextBlock Name="lblTitle" Text="{TemplateBinding Content}" HorizontalAlignment="Left"  Foreground="Gray" FontWeight="{TemplateBinding FontWeight}"   FontSize="24"  Margin="10" VerticalAlignment="Center" TextWrapping="WrapWithOverflow" TextAlignment="Left"/>
                </Grid>
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="IsPressed" Value="True">
                    <!--<Setter TargetName="Pressed" Property="Visibility" Value="Visible"/>-->

                </Trigger>
                <Trigger Property="IsFocused" Value="True">
                    <Setter TargetName="Focused" Property="Visibility" Value="Visible"/>
                    <Setter TargetName="lblTitle" Property="Foreground" Value="#f8cb1c" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
    </Button.Template>
</Button> 
```

在我的应用程序中，我调用 Web 服务，根据项目的数量，我为每个项目创建按钮，最后在 StackPanel 中添加这些按钮。它运作良好。Stakpanel 布局在屏幕截图的左侧。现在的问题是，当我在具有不同屏幕分辨率（如 1920 * 1200）的不同机器上运行此应用程序时，字体大小似乎太小了。所以我想在容器大小改变时调整字体大小。一种选择是使用**ViewBox**，但在 ViewBox 的情况下，所有按钮似乎都有不同的字体大小，并且 TextWrapping 是不可能的。

所以我的实际要求是使用 TextWrapping 增加/减少文本块的字体大小，并且所有按钮的字体大小必须均匀。

![在此处输入图像描述](../Images/a2188666cb967cfd15261cd4148f0997.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T06:33:20.363

您可以使用基于屏幕分辨率的 LayoutTransform，您可以放大堆栈面板或根据分辨率放大整个窗口。

对于堆栈面板：

```
<StackPanel>
    <StackPanel.LayoutTransform>
        <ScaleTransform  x:Name="ScaleTransform" />
    </StackPanel.LayoutTransform>
    <Button>A</Button>
    <Button>B</Button>
    <Button>C</Button>
    <Button>D</Button>
</StackPanel> 
```

然后将 ScaleX 和 ScaleY 绑定到基于分辨率的公式。一个例子：

```
double scale = System.Windows.SystemParameters.PrimaryScreenHeight / 720;
//using 720p as the base screen height.

this.ScaleTransform.ScaleX = scale;
this.ScaleTransform.ScaleY = scale; 
```

如果您使用 MVVM，您可能希望在带有一些数据绑定的 ViewModel 中执行此操作。

# php - PHP HTML 地理位置坐标

> ID：10497601
> 
> 赞同：-1
> 
> 时间：2012-05-08T11:20:17.593
> 
> 标签：php, javascript, html

如何在 html 字段中获取坐标，以便**使用 HTML5 的地理定位功能进行回发并保存数据？**

我使用 php 作为后端语言。此外，我对 javascript 的使用非常陌生，一些婴儿步骤将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:33:13.190

您可以使用[getElementByItd](http://www.tizag.com/javascriptT/javascript-getelementbyid.php)函数从 javascript 中设置字段的值。

像这样的东西：

```
document.getElementById('ID_OF_HTML_FIELD').value = THE_VALUE_YOU_WANT_TO_SET 
```

编辑：如果您需要帮助，[这里还有一个关于使用 html5 进行地理定位的教程。](http://www.netmagazine.com/tutorials/getting-started-html5-geolocation)

# session - 从经典 ASP 中的会话 cookie 获取会话 ID

> ID：10497604
> 
> 赞同：2
> 
> 时间：2012-05-08T11:20:38.107
> 
> 标签：session, asp-classic

我正在尝试在我的 PHP 站点和 ASP 站点之间共享会话数据，因为我可以访问 ASP 站点的 MSSQL 数据库，并且一些 ASP 会话数据似乎在数据库表中，我希望我可以获取会话 ID从会话 cookie 并从那里开始。我对 ASP 了解不多，但从我读过的内容来看，它需要会话 id，对其进行加密并生成会话 cookie 名称/值。有谁知道我如何解密该cookie并取回会话ID？

或者有没有更好的方法来做到这一点，尽管我有数据库访问权限，但我并不能真正进行代码更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T01:05:15.687

您可以通过 Session 对象访问 sessionID

```
<%
Response.Write(Session.SessionID)
%> 
```

请注意，会话 ID 仅对用户的当前会话有效，并且不是持久的。即，如果 20 分钟内没有活动，则如果用户返回，则会为用户创建一个新会话。我自己会使用普通的cookies并传递一个哈希值。

# rest - 更新资源时，更新成功返回什么HTTP状态码？

> ID：10497609
> 
> 赞同：12
> 
> 时间：2012-05-08T11:21:11.300
> 
> 标签：rest, http-post, http-status-codes, http-put

所以我有一个接受`HTTP-PUT`特定资源的网站，例如。`/contact`这将允许消费者更新联系人，假设他们已通过验证。

所以我更新了记录，一切都很好..现在我需要向消费者退还一些东西。

我应该返回什么 HTTP 状态码？

如果这是一个`HTTP-POST`（即创建一个 -new- 资源），那么我将返回一个`201 Created`并添加一个`Location`标头属性。

但是..我找不到任何关于如何进行更新的线索。

干杯:)

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-05-08T17:27:12.527

[如果您要返回操作的表示形式，则 200 尤其合适（尽管在200 OK 的描述中](https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-p2-semantics-19#section-7.2.1)奇怪地没有提到 PUT ）。

如果您没有返回任何类型的表示，请使用[204 No Content](https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-p2-semantics-19#section-7.2.5)向客户端指示它不需要更改其当前的“文档视图”。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-05-08T11:26:24.110

200 是适当的状态代码，假设 PUT 只进行了更新并且没有创建资源。

# java - Pervasive 连接器

> ID：10497613
> 
> 赞同：0
> 
> 时间：2012-05-08T11:21:19.310
> 
> 标签：java, jdbc, pervasive, pervasive-sql

> **可能的重复：**
> [为普及创建 Java 连接器](https://stackoverflow.com/questions/10477378/creating-java-connector-for-pervasive)

我对无孔不入很陌生。我的要求是为 Java 中的 Pervasive 创建一个连接器。我无法找出我需要做什么。

我是否需要编写一个与 pervasive 交互的连接类，或者我需要创建一个类来连接 pervasive。

如果我需要创建一个连接器来连接到 pervasive，那么我应该从哪里开始呢？

谁能帮我知道我到底需要做什么以及如何在java中创建连接器

# c# - 网络数据图谷歌趋势 ui 样式

> ID：10497614
> 
> 赞同：0
> 
> 时间：2012-05-08T11:21:19.633
> 
> 标签：c#, javascript, jquery, gwt, user-interface

我想创建一个显示 csv 数据的网站。
我真的很希望它看起来像谷歌趋势/金融。

可选：允许用户标记数据中的峰值并描述它们是什么

您将如何实施？

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T12:34:24.660

你检查[过谷歌图表](https://developers.google.com/chart/)吗？

这是[游乐场](http://code.google.com/apis/ajax/playground/?type=visualization)，可以检查它的外观。

希望这可以帮助！

# javascript - Animate 在 Chrome 和 Firefox 中的行为很奇怪（在 IE 中可以）

> ID：10497622
> 
> 赞同：5
> 
> 时间：2012-05-08T11:22:14.130
> 
> 标签：javascript, jquery, html, css

我使用这段代码：

```
$("img.cloudcarousel").each(function(i, e){
  coords[i] = $(e).offset();
}); 
```

保存图像的位置（并且有效）。然后我为它们设置动画并移动它们。然后我使用这段代码：

```
 $("img.cloudcarousel").each(function(i, e){
   $(e).animate({top:coords[i].top, left:coords[i].left}, 1000);
 }); 
```

让他们回到他们所属的地方。在 IE（至少 8 个）中它工作正常，但在 Chrome 和 Firefox 中，它向左和向下动画 40-50 像素太多（就像它的过度动画一样）。

**不要问我是怎么发现的：**当我在它们上面使用鼠标滚轮时，它们会转到它们所属的地方！

我想这与动画队列的建立有某种关系，但是我只使用了四个图像，并且在 x 时间后它不会自行修复，只能在鼠标滚轮的东西上。

编辑：添加到 jsfiddle.net

我不太确定该网站是如何工作的，但我在其中添加了我的 HTML 和 JS：

[http://jsfiddle.net/3wqYg/](http://jsfiddle.net/3wqYg/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T17:31:17.873

$(e).offset() 没有返回您的小提琴中当前定义的值。我没有查找偏移量的定义，但是如果您输出坐标，您会发现它与代码中的不一样

编辑：我看到了问题，请参见 offset() [http://api.jquery.com/offset/](http://api.jquery.com/offset/)它返回相对于文档的 x，y，但是当您将其动画返回时，它是相对于父元素的（默认行为）。所以在文档中提到了使用 position()。这是相对于父元素的，我没有尝试过，但如果你使用它应该可以工作。

最终编辑：是的，位置很好，请参见[http://jsfiddle.net/3wqYg/1/](http://jsfiddle.net/3wqYg/1/)您必须将其复制到测试页面中，因为它在小提琴上没有动画

# c# - 为 Visual Studio 安装项目中的每个用户将注册表项添加到 HKCU RunOnce

> ID：10497627
> 
> 赞同：2
> 
> 时间：2012-05-08T11:22:29.967
> 
> 标签：c#, registry, windows-installer

我需要安装一个应用程序，该应用程序将为任何登录且在 Windows 安装上有配置文件的用户运行一次。我不需要它来为新用户运行。我正在使用 Visual Studio 2010 安装项目来创建 MSI，如果 MSI 注册表内容不够灵活，我很高兴在 C# 中使用自定义操作来调整注册表。

我知道如何使用 MSI 将注册表值添加到 HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\RunOnce，但这只会为运行安装程序的用户启动应用程序。我可以将值添加到 HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\RunOnce 但它只会在用户下次登录时运行，而不是为每个用户运行。

那么，首先它是否有可能（使用 VS Setup Project 或 C#），如果可以，怎么做？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:51:19.330

我认为 Active Setup 是您所需要的：[http ://www.sepago.de/helge/2010/04/22/active-setup-explained/](http://www.sepago.de/helge/2010/04/22/active-setup-explained/)

通常宣传的快捷方式用于在安装软件包后触发每个用户的操作，但这不适合您的场景。

# mysql - 如何编写为给定用户返回最新消息的内部查询？

> ID：10497635
> 
> 赞同：0
> 
> 时间：2012-05-08T11:23:10.287
> 
> 标签：mysql

我有一些这样的表：

```
USERS TABLE:
| id | created | active | fname | lname |

MESSAGES TABLE:
| id | userId| active | date | content | 
```

我正在尝试返回一些用户信息，以及给定用户最近添加的消息。以下是我想要实现的结果的结构：

```
| userId | userCreated | latestMessageDate| latestMessageContent | 
```

以下查询返回用户信息：

```
SELECT 
user.id, 
user.created
FROM user
WHERE user.active = 1 
```

...但是我现在如何附上最新消息的日期以及实际的最新消息？

我相信使用内部查询是一种这样的方法，但是您如何编写这样的查询呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:27:05.717

```
SELECT u.fname, u.lname, m.id, m.userID, m.datem, m.content
FROM USERS AS u
LEFT JOIN ( SELECT id, userID, date, content
            FROM MESSAGES
            WHERE active
            ORDER BY date DESC) AS m
ON u.id = m.userId
WHERE u.active
    # AND u.id = {$int_user_id}
GROUP BY u.id 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:39:56.580

也许是这样的：

```
SELECT
    Users.id AS userId,
    Users.created AS userCreated,
    LatestMessage.LatestMessageDate,
    MESSAGES.content AS latestMessageContent 
FROM
    Users
    LEFT JOIN
    (
        SELECT
            MAX(date) AS LatestMessageDate,
            MESSAGES.userId
        FROM
            MESSAGES
        GROUP BY
            MESSAGES.userId
    ) AS LatestMessage
    ON Users.id=LatestMessage.userId
    LEFT JOIN MESSAGES
        ON LatestMessage.LatestMessageDate=MESSAGES.date
        AND LatestMessage.userId=MESSAGES.userId 
```

# c++ - 如何从 Google 代码库调试源代码

> ID：10497636
> 
> 赞同：4
> 
> 时间：2012-05-08T11:23:10.803
> 
> 标签：c++, c, visual-studio-2010, netbeans

我想从谷歌代码库调试以下源代码，

```
http://code.google.com/p/rx/ 
```

我的问题是，我找不到合适的 ide 可以将源代码中的所有子文件夹视为一个完整的项目。我尝试过 netbeans C++、codeblocks、eclipse C++ 等。在打开项目时，他们所有人的问题是他们将主项目中的所有子文件夹视为不同的项目。

是否有任何 ide 可用于调试来自谷歌代码存储库的源代码。或者有什么方法可以调试这些项目？

操作系统：Ubuntu或Windows

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T12:10:24.823

您可以创建一个虚拟 makefile ：

```
all:
        g++ code_dir/*/*.?pp -o fake 
```

然后使用 Makefiles 导入项目。这对于 kdevelop 和 eclipse 是可能的（对于其他 IDE 不确定）。

`*.?pp`请注意，上面的 makefile从 code_dir 目录中的所有目录中导入所有带有模板的文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:56:49.383

您可以使用您喜欢的 IDE 创建一个新项目，然后手动导入源代码。

您也可以考虑使用像样的编辑器。就个人而言，我更喜欢 vim，并且没有看到任何吸引人的理由来使用 10 倍于实际项目大小的编辑器。

# apache - 使用传入端口作为 RewriteCond 启用 HTTPS

> ID：10497637
> 
> 赞同：0
> 
> 时间：2012-05-08T11:23:12.647
> 
> 标签：apache, mod-rewrite, https

我尝试在点击特定 URL 时使用 HTTPS 重新发送请求。这是我的规则，但它不会导致请求被重新发送。有什么想法有什么问题吗？

RewriteCond %{SERVER_PORT} 15000

RewriteCond %{REQUEST_URI} ^/securePage$

重写规则 ^(.*)$ [https://%](https://%) {SERVER_NAME}%{REQUEST_URI} [NC,R=301,L]

securePage 值是一个虚 URL，它应该在使用新协议第二次发送请求时被重写

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T13:30:27.483

更改我正在监听的端口解决了这个问题

# RewriteCond %{SERVER_PORT} 80

# javascript - 在Firefox中输入按键问题

> ID：10497642
> 
> 赞同：1
> 
> 时间：2012-05-08T11:23:18.903
> 
> 标签：javascript, asp.net, enter

在表单中，我们有一个文本框和一个链接按钮。在此文本上的输入键将不得不触发链接按钮单击。

我添加了这样的js代码。

JS：

```
$(".SearchClass").keyup(function(event) {
        if (event.keyCode == 13) {
            eval($('.SearchButtonClass').attr('href'));
        }
    }); 
```

aspx：

```
<asp:LinkButton ID="lnkBtnSearch" runat="server" OnClick="lnkBtnSearch_Click" CssClass="SearchButtonClass"></asp:LinkButton>
<asp:TextBox ID="txtSearch" CssClass="SearchClass" runat="server"></asp:TextBox> 
```

这在 IE 中按预期工作，但在 Firefox 中不起作用。在 firefox on 按钮单击它只是重新加载页面。

编辑：在使用 firebug 脚本调试器进行调试时，在 enter 按键时，它没有进入 keyup 功能

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:37:19.020

在 FireFox 中，回车键触发表单提交。您需要防止这种情况发生 - 例如：

```
$($(".SearchClass").get(0).form).submit(function(evt) {
  evt.preventDefault();
}); 
```

但是，如果您有其他提交表单的方式（如提交按钮），那么您还必须以编程方式从这些元素提交表单，因为此代码将阻止所有其他表单提交方法。

同样对于您的链接点击事件，只需尝试以下操作：

```
$(".SearchClass").keyup(function(event) {
    if (event.keyCode == 13) {
        location.href = $('.SearchButtonClass').attr('href');
    }
}); 
```

# django - Django多用户登录 - 最好的方法？

> ID：10497645
> 
> 赞同：6
> 
> 时间：2012-05-08T11:23:40.230
> 
> 标签：django, django-models, django-authentication, database-relations

我目前正在开发一个 Django 站点，其中用户可以拥有多个“帐户”，以便他们在通过该站点进行交互时可以在不同的公共配置文件之间无缝切换。我正在设计的内容可能会吸引每人多次注册（并且不会气馁），我只是想以这样一种方式提供此功能，即用户可以将个人资料捆绑在一起，轻松切换并且只需要登录一次。

到目前为止，我想到的两种方法包括：

*   每人一对（`User`模型 +`SiteProfile`模型）和多个模型。设置为指向模型。问题是我不能轻易使用每个对象的权限：这些权限将设置在对象上而不是公共配置文件上，因此当用户伪装成时也将应用查看“PublicProfileA”页面的权限“公共档案 B”。`PublicProfile``AUTH_PROFILE_MODULE``SiteProfile``User`

*   每人一个`Account`模型和多个（`User`模型 +模型）对。设置为指向模型。这将具有按预期工作的权限的额外好处，并且我可以简单地拥有一个自定义后端，如果他们当前作为具有与外键相同对象的另一个用户登录，它将通过验证用户来切换用户。但是，通过读取对象上的字段来进行身份验证，这意味着每个对象上的字段都将被浪费。`UserProfile``AUTH_PROFILE_MODULE``UserProfile``Account``Account``password``User`

*   如上所述，`Account`但从`User`. 我被强烈建议不要这样做（原因不明）。

有什么陷阱或更好的方法吗？最终，我应该使用内置`User`模型作为识别一组面向公众的配置文件（其中这些配置文件具有返回`User`对象的 FK）的个人模型，还是将其用作配置文件本身，链接回给`Account`每个人一个对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T18:54:56.923

是的，我认为最好的方法是每个人只有一个 User 和几个可以在它们之间“切换”的 PublicProfile 对象。这给他们带来了只有一个用户名/密码的好处，并且似乎对 Django 的身份验证通常如何工作最有意义。

# grails - Grails/Groovy 向现有 Java 类添加属性，在尝试使用 JSON 转换器进行序列化时丢失它们？

> ID：10497646
> 
> 赞同：0
> 
> 时间：2012-05-08T11:23:42.507
> 
> 标签：grails, dynamic, groovy

我想知道在向 java 类添加动态属性并尝试使用 JSON 转换器呈现该类时缺少什么。我有一个纯 java pojo，我正在使用以下方法向它添加一个动态属性：

```
// adding property
ResetRequest.metaClass.targetIp = "192.168.0.1"
// creating object
ResetRequest obj = new ResetRequest()
// printing the properties
println obj.properties 
```

打印属性时，该对象有一个名为“targetIp”的附加属性，所以一切看起来都不错，但是当我尝试将对象呈现为 JSON 时，添加的属性不在 JSON 字符串中。

任何建议我缺少什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T13:41:34.730

我认为 grails 中的 JSON 转换不会获取动态添加的属性。

也许您应该为相关类注册自己的对象编组器？

在引导程序中：

```
 def init = {servletContext ->
        JSON.registerObjectMarshaller(ResetRequest) {req->
            [
                targetIp:req.targetIp
                //etc 
            ]
    } 
```

**更新** 此链接显示如何从默认 Marshaller 继承并将您自己的逻辑添加到编组特定字段：

[http://grails4you.com/2012/04/restful-api-for-grails-domains/](http://grails4you.com/2012/04/restful-api-for-grails-domains/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T10:33:11.070

您应该在 Bootstrap 中注册自定义属性，例如

```
def init = { servletContext ->
  ResetRequest.metaClass.targetIp = {req ->
    return "192.168.0.1";   
  } 
} 
```

# android - 在旋转 android 应用程序崩溃

> ID：10497647
> 
> 赞同：0
> 
> 时间：2012-05-08T11:23:45.177
> 
> 标签：android, android-layout

我有一个应用程序，它在纵向和横向中使用两种布局。为了在初始加载时从 web 加载内容，我使用了 AsyncTask 和进度条。

我检查了[这个](https://stackoverflow.com/questions/2071396/android-screen-orientation-shake-cellphone-crashes-the-application)。由于我有两种布局，这不是解决方案。

下面给出了例外情况。

```
> 05-08 16:44:43.483: E/WindowManager(20138): Activity com.news.one has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@482b0130 that was originally added here
05-08 16:44:43.483: E/WindowManager(20138): android.view.WindowLeaked: Activity com.news.one has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@482b0130 that was originally added here
05-08 16:44:43.483: E/WindowManager(20138):     at android.view.ViewRoot.<init>(ViewRoot.java:247)
05-08 16:44:43.483: E/WindowManager(20138):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:181)
05-08 16:44:43.483: E/WindowManager(20138):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:124)
05-08 16:44:43.483: E/WindowManager(20138):     at android.view.Window$LocalWindowManager.addView(Window.java:424)
05-08 16:44:43.483: E/WindowManager(20138):     at android.app.Dialog.show(Dialog.java:241)
05-08 16:44:43.483: E/WindowManager(20138):     at com.news.one$DownloadNews.onPreExecute(AdaDeranaTabActivity.java:365)
05-08 16:44:43.483: E/WindowManager(20138):     at android.os.AsyncTask.execute(AsyncTask.java:391)
05-08 16:44:43.483: E/WindowManager(20138):     at com.news.one.onCreate(AdaDeranaTabActivity.java:201)
05-08 16:44:43.483: E/WindowManager(20138):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
05-08 16:44:43.483: E/WindowManager(20138):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
05-08 16:44:43.483: E/WindowManager(20138):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
05-08 16:44:43.483: E/WindowManager(20138):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)
05-08 16:44:43.483: E/WindowManager(20138):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
05-08 16:44:43.483: E/WindowManager(20138):     at android.os.Handler.dispatchMessage(Handler.java:99)
05-08 16:44:43.483: E/WindowManager(20138):     at android.os.Looper.loop(Looper.java:123)
05-08 16:44:43.483: E/WindowManager(20138):     at android.app.ActivityThread.main(ActivityThread.java:4627)
05-08 16:44:43.483: E/WindowManager(20138):     at java.lang.reflect.Method.invokeNative(Native Method)
05-08 16:44:43.483: E/WindowManager(20138):     at java.lang.reflect.Method.invoke(Method.java:521)
05-08 16:44:43.483: E/WindowManager(20138):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:858)
05-08 16:44:43.483: E/WindowManager(20138):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
05-08 16:44:43.483: E/WindowManager(20138):     at dalvik.system.NativeStart.main(Native Method)
05-08 16:44:54.065: E/AndroidRuntime(20138): FATAL EXCEPTION: main
05-08 16:44:54.065: E/AndroidRuntime(20138): java.lang.IllegalArgumentException: View not attached to window manager
05-08 16:44:54.065: E/AndroidRuntime(20138):    at android.view.WindowManagerImpl.findViewLocked(WindowManagerImpl.java:388)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at android.view.WindowManagerImpl.removeView(WindowManagerImpl.java:233)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at android.view.Window$LocalWindowManager.removeView(Window.java:432)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at android.app.Dialog.dismissDialog(Dialog.java:278)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at android.app.Dialog.access$000(Dialog.java:71)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at android.app.Dialog$1.run(Dialog.java:111)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at android.app.Dialog.dismiss(Dialog.java:268)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at com.news.one$DownloadNews.onPostExecute(AdaDeranaTabActivity.java:376)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at com.news.one$DownloadNews.onPostExecute(AdaDeranaTabActivity.java:1)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at android.os.AsyncTask.finish(AsyncTask.java:417)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at android.os.AsyncTask.access$300(AsyncTask.java:127)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at android.os.Handler.dispatchMessage(Handler.java:99)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at android.os.Looper.loop(Looper.java:123)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at android.app.ActivityThread.main(ActivityThread.java:4627)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at java.lang.reflect.Method.invokeNative(Native Method)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at java.lang.reflect.Method.invoke(Method.java:521)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:858)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
05-08 16:44:54.065: E/AndroidRuntime(20138):    at dalvik.system.NativeStart.main(Native Method) 
```

有没有一种方法可以锁定旋转变化，直到应用程序自行加载？

或者和其他想法？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T01:31:12.097

当您切换方向时，Android 将创建一个新视图。您可能会崩溃，因为您的后台线程正在尝试更改旧线程的状态。（它也可能有问题，因为您的后台线程不在 UI 线程上）。这些是解决方案：

[进度对话框和后台线程处于活动状态时如何处理屏幕方向更改？](https://stackoverflow.com/questions/1111980/how-to-handle-screen-orientation-change-when-progress-dialog-and-background-thre)

[旋转Android上的活动重启](https://stackoverflow.com/questions/456211/activity-restart-on-rotation-android)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-09T08:02:57.803

`progressDialog.dismiss()`我在方法中调用了`onDestroy()`。

在方向改变期间，活动重新开始。所以在重启之前我们必须销毁当前的progressDialog。这可以解决问题。:D

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-05-08T12:20:44.740

You are getting WindowLeak Exception, this exception occur when any dialog/progressBar uses the reference of context and context reference lost due to orientation change.

So put below code for all activity tag in manifest file.

```
android:configChanges="orientation|keyboard" 
```

example:

```
<activity
            android:name=".InviteActivity" android:configChanges="orientation|keyboard"/> 
```

and use below code in activity

```
 @Override
    public void onConfigurationChanged(Configuration newConfig)
    {
        setContentView(R.layout.YOUR_LAYOUT);
        super.onConfigurationChanged(newConfig);
    } 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-05-09T05:21:07.037

我遇到了同样的问题并解决了这个问题，我在开始同步之前锁定了方向并在同步后将其设置回来：

```
// before
setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_NOSENSOR);

// after synchronisation: 
setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR); 
```

# php - 在多次运行说“无法建立连接”或“连接（）超时”后，CURL 失败

> ID：10497648
> 
> 赞同：3
> 
> 时间：2012-05-08T11:23:49.510
> 
> 标签：php, curl, timeout, remote-server

我正在尝试索引数百个网页。

# 简而言之

1.  使用 CRON 作业调用 PHP 脚本
2.  获取一些（仅大约 15 个）最近最少更新的 URL
3.  使用 CURL 查询这些 URL

# 问题

在开发中一切都很顺利。但是当我开始索引更多的测试页时，CURL 在一些运行后拒绝工作。它不会从远程服务器获取任何数据。

# 错误信息

这些错误 CURL 已打印出来（当然不是一次）

1.  无法连接到主机
2.  操作在 60000 毫秒后超时，收到 0 个字节

我正在使用 V-Server 并尝试使用 Firefox 或 wget 连接到远程服务器。也没什么。但是当从我的本地机器连接到远程服务器时，一切正常。

等待几个小时，它又可以运行一些。

对我来说，这似乎是远程服务器或 DDOS 保护或类似的问题，你们怎么看？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-09T07:18:41.377

当您发送太多请求时，您应该使用代理，因为您的 IP 可能会被站点的 DDOS 保护或类似设置阻止。

这里有几点需要注意：（我用来抓取网站数据的）

1.使用代理。

2.使用随机用户代理

3.随机推荐人

4.crons中的随机延迟。

5.请求之间的随机延迟。

我要做的是让脚本永远运行并在两者之间添加睡眠。

```
ignore_user_abort(1);
set_time_limit(0); 
```

只需访问 url 几秒钟即可触发它，它将永远运行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:35:48.540

脚本多久运行一次？它真的可以触发一些类似 DOS 的保护。我建议实施一些随机延迟，使请求看起来延迟一段时间，使它们看起来更“自然”

# php - Simplexml_load_string 确实适用于指向 XML 文件的直接链接，但不适用于 file_get_contents('php://input')

> ID：10497651
> 
> 赞同：0
> 
> 时间：2012-05-08T11:24:00.147
> 
> 标签：php, xml, post, simplexml

在 StackOverflow 和 Google 上搜索了很多，但似乎无法找到针对这种特定情况的答案

我正在使用一个通过 PHP POST 向我发送 XML 文件的客户端，这是我使用的代码：

```
$xml = file_get_contents('php://input');
$xmlStripped = stripslashes($xml);
$xmlContent = simplexml_load_string($xmlStripped);
print_r($xmlContent); 
```

为了进行测试，我还将 XML 文件直接上传到我的服务器，并这样做：

```
$xml = file_get_contents('http://www.site.com/linktoxml.xml');
$xmlStripped = stripslashes($xml);
$xmlContent = simplexml_load_string($xmlStripped);
print_r($xmlContent); 
```

然后它工作正常，它将 XML 作为一个对象打印出来。

我用来上传的表格是这样的：

```
<form action="http://app.site.com/upload" method="POST">
<input type="file" name="file" id="file ">
<input type="submit" value="upload">
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:28:14.580

尝试使用来自的实际文件

```
$_FILES['userfile']['tmp_name'] 
```

而不是

```
"php://input" 
```

如果你坚持使用 php://input，试试这个[hack](http://www.php.net/manual/en/features.file-upload.php#85247)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:28:59.137

`file_get_contents('php://input');`通常会给你原始的[RFC 1867](http://www.ietf.org/rfc/rfc1867.txt)数据，而不是文件本身。文件数据被封装在这个请求数据中。在您的情况下，它会给出一个空字符串，因为 PHP 在处理这些数据后会丢弃这些数据以节省内存。

然而，PHP 会自动处理和解码 RFC 1867 数据。你要做的是（除了验证`$_FILES['file']['tmp_name']`存在并且是一个字符串）：

```
$xml = file_get_contents($_FILES['file']['tmp_name']); 
```

# performance - Flash、Internet Explorer 和 60fps 速度

> ID：10497653
> 
> 赞同：2
> 
> 时间：2012-05-08T11:24:03.457
> 
> 标签：performance, actionscript-3, flash, internet-explorer, frame-rate

我创建了一个以**每秒 60 帧**的速度播放的 Flash 游戏。它在除 Internet Explorer 8 和 9 之外的所有浏览器中都能正常播放；在这些情况下，它似乎是预期帧速率的一半（或不到一半）。

我什至尝试使用 Flash Authoring Tool 自己的 html 代码以及 swfobject 方法来嵌入它，但无济于事。在所有情况下，都会启用**GPU 加速。**

这也不是 CPU 性能的问题，因为它是在同一台计算机上测试的，所有其他应用程序都关闭了。问题只出现在 IE 中。

最后一个要考虑的特性：我已经加载了 FRAPS 来计算实际的渲染帧速率，它显示它是**60 fps**（在 IE 中），尽管很明显这不是达到的实际速度。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T12:12:57.007

听起来你的 IE 浏览器上没有正确安装 flash

尝试以下操作（假设您安装了 Adob​​e Flash Player v10.2）：

• 重启你的电脑。

• 打开 Internet 选项（位于控制面板中）。

• 单击高级选项卡。

• 单击重置按钮，勾选删除个人设置旁边，然后单击重置。

• 启动 IE9 和 Adob​​e Flash Player 将正确启用。

然后再试一次

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T21:32:22.973

GPU 加速并不总是最好的解决方案。这取决于您编写应用程序的方式。

尝试另一个[wmode](http://helpx.adobe.com/flash/kb/flash-object-embed-tag-attributes.html#main_Using_Window_Mode__wmode__values_)值。

# c# - 在 ASP.Net 2008 或更高版本中创建复合和自定义网格控件

> ID：10497658
> 
> 赞同：-1
> 
> 时间：2012-05-08T11:24:31.350
> 
> 标签：c#, asp.net, .net, vb.net

请建议我如何创建复合网格。即，我需要Framework 3.5 及更高版本中gridview 的所有功能，但还需要在该grid 中包含一些其他功能。请建议我该怎么做。如果可能，请分享示例代码。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T11:27:39.620

您需要扩展当前的 GridView。例子：

```
public class MySuperGridView : GridView
{

    public void CoolMethod()
    {
    }

    public string CoolProperty 
   {
       get{return ViewState["CoolProperty"]==null?null:(string)ViewState["CoolProperty"];}
       set {ViewState ["CoolProperty"]=value;}
   }
    //add more coolness here
} 
```

现在您可以开始使用您的自定义 Gridview 而不是标准的 asp.net GridView

# solr - Solr Spellcheck 索引未复制到从站

> ID：10497659
> 
> 赞同：1
> 
> 时间：2012-05-08T11:24:33.770
> 
> 标签：solr, replication, spell-checking

我正在使用 apache-solr-1.4.1。我有一个主人和一个奴隶。当我在主服务器上执行“完全导入”时，索引会复制到从服务器，但拼写检查索引不会。在主人我有：

```
<str name="confFiles">solrconfig_slave.xml:solrconfig.xml,schema.xml,stopwords.txt,elevate.xml,protwords.txt,synonyms.txt</str>` 
```

在 solrconfig.xml 和 solrconfig_slave.xml 文件中，我有以下设置：

```
<searchComponent name="spellcheck" class="solr.SpellCheckComponent">

<str name="queryAnalyzerFieldType">textSpell</str>

<lst name="spellchecker">

  <str name="name">default</str>

  <str name="field">didYouMean</str>

  <str name="spellcheckIndexDir">./spellchecker</str>

  <str name="buildOnCommit">true</str>

 </lst>

</searchComponent> 
```

如果我使用“&spellcheck.build=true”查询从属设备，则构建索引。请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T13:08:13.633

Solr 目前不支持复制拼写检查数据。根据 JIRA 问题：[SOLR-866 - 支持使用 java 复制复制任意索引和文件，](https://issues.apache.org/jira/browse/SOLR-866)这是目前未解决的问题，已被推送到 Solr 4.0 版，但在该版本中仍可能无法解决，因为我没有看到任何问题上的活动。

我建议您在[Solr 讨论列表](http://lucene.apache.org/solr/discussion.html)之一上询问此问题的状态，以了解有关何时可以解决此问题的更多信息。

# android - 如何修复 Android 中的 NoClassFoundError

> ID：10497668
> 
> 赞同：1
> 
> 时间：2012-05-08T11:25:08.540
> 
> 标签：android, noclassdeffounderror

我在不同的项目中有两个课程。

我正在导入具有我需要的类的项目。现在，我没有错误。

该项目知道那个类，我什至从那个类中制作了一个对象，但是当我尝试运行它时，它与`"NoClassFoundError"`.

我该如何解决？

```
import com.dmg.pixelservice.core.*;
import android.app.Activity; 
import android.os.Bundle;
public class show extends Activity {
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    Pixel pixel = new Pixel();
    pixel.doIt(this,"fd7ccf36-3f85-11e1-8671-40409e0f44a1",true);
    setContentView(R.layout.main);
}
} 
```

当我调试时，我可以看到当我尝试执行 Pixel pixel = new Pixel(); 时它崩溃了

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:40:47.897

在您的应用程序中创建新的 libs 文件夹。名称必须相同。并将您的 jar 文件放在此文件夹中。然后转到 java Build Path -> Configure Build Path -> Add jars

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:51:45.910

看起来包含 Pixel 类的 jar 文件没有打包到 APK 中。

为此，您似乎需要将 jar 复制到 Android 项目的 libs 文件夹中。

请参阅此问题：
[修复 NoClassDefFoundError 的方法？](https://stackoverflow.com/questions/2456562/approach-for-fixing-noclassdeffounderror)

Android 开发者指南：http:
[//developer.android.com/guide/developing/projects](http://developer.android.com/guide/developing/projects)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:36:55.013

如果您发送 Pixel 类的 src 代码，很容易找到错误。

# iphone - 在哪个比例的 UIImageView 上添加 UIPinchgesture 或在 UIImageView 包含的 UIView 上添加 UIPinchgesture？

> ID：10497670
> 
> 赞同：1
> 
> 时间：2012-05-08T11:25:10.120
> 
> 标签：iphone, uiimageview, uipinchgesturerecognizer

专家！！请帮助我！！！！在我的项目中，我以编程方式创建多个 UIImageview。我想在每个 ImageView.i 上添加捏手势我的代码在下面......

```
-(IBAction)addSymbols:(UIButton *)sender{
if (sender.tag ==1) {
CGRect frame =sender.frame;
[self.imgView setFrame:frame];
self.imgView.userInteractionEnabled = YES;
[imgView setImage:[sender imageForState:UIControlStateNormal]];
[self.view addSubview:imgView];
[self addGestureRecognizersToPiece:imgView];} 
```

像这样，我添加了 5 个 imageViews。现在 [self addGestureRecognizersToPiece:imgView] 的代码

```
- (void)addGestureRecognizersToPiece:(UIView *)piece{
UIPinchGestureRecognizer *pinchGesture = [[UIPinchGestureRecognizer alloc] initWithTarget:self action:@selector(scalePiece:)];
[piece  addGestureRecognizer:pinchGesture];

//In above add gesture on UIImageView directly its not working..
//if replace this line by [self.view addGestureRecognizer:pinchGesture]; it's working..
//but while pinch whole UIview scale

[pinchGesture setDelegate:self]; } 
```

另一个错误是 UIPinchgesture 不能单独在多个 UIImageViews 上正确工作。所以请帮助我..尽快回复我..

```
- (void) scalePiece:(UIPinchGestureRecognizer*)paramSender{ 

if (paramSender.state == UIGestureRecognizerStateEnded) { 
self.currentScale = paramSender.scale;
} 
else if (paramSender.state == UIGestureRecognizerStateBegan && self.currentScale != 0.0f){ 

paramSender.scale = self.currentScale; }
 if (paramSender.scale != NAN && paramSender.scale != 0.0){ 
[paramSender view].transform= CGAffineTransformMakeScale(paramSender.scale, paramSender.scale); 
} 
```

正如你告诉我的，我为每个 UIImageView 添加了 userInteractionEnabled = YES。我也在我的代码中提到

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:27:22.567

您应该`userInteractionEnabled`在 UIImageViews 上启用。默认情况下禁用此功能。

如果您需要更多帮助，请向我们展示您的`scalePiece:`代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:50:11.357

将 imageViews 添加为 ScrollView 的子视图。

然后设置scrollView的scrollView zoomScale。还要实现 scrollView 的委托方法，尤其是下面的委托方法。

```
- (UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView 
```

返回要缩放的 imageView 对象。

参考这些 [UIScrollView](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIScrollView_Class/Reference/UIScrollView.html)

[UIScrollViewDelegate](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIScrollViewDelegate_Protocol/Reference/UIScrollViewDelegate.html)

# ruby-on-rails - 活动资 源 after_create

> ID：10497675
> 
> 赞同：0
> 
> 时间：2012-05-08T11:25:33.957
> 
> 标签：ruby-on-rails, activeresource

我正在使用活动资源版本 3.2.1，我需要一个像 after_create 这样的生命周期方法，我可以在其中做一些初始化后的工作。

我知道这将在下一个版本的活动资源中出现，想知道人们现在如何用旧版本解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:58:51.070

```
after_filter :some_method, :only => :create 
```

# algorithm - 计算 N×N 网格中每条路径的算法，不重复

> ID：10497679
> 
> 赞同：-3
> 
> 时间：2012-05-08T11:25:50.663
> 
> 标签：algorithm, graph, matrix, graph-algorithm

我有一个 NxN 单元格的网格（想想一个二维数组，定义如下 Array[N][N]）。

哪个算法将计算从每个单元格 a[i][j] 到每个单元格 a[k][l] 的**每条路径，其中：**

1.  没有单元格在单个路径中包含两次。
2.  只有**相邻**的对角线、水平和垂直移动都是合法的。
3.  平均而言，该算法是最快的。
4.  使用最少的内存。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:30:05.700

广度优先搜索将完全符合您的要求。生成所有路径时没有最快的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T12:15:58.830

我假设您想要实际路径，而不仅仅是它们的数量。

您可以通过使用在同一路径中探索的顶点上维护集合的 DFS 来实现它**，**并避免[**探索**](http://en.wikipedia.org/wiki/Depth-first_search)已经在同一路径中发现的顶点。`visited`

 ****伪代码：**

```
DFS(v,target,visited):
   if (v == target):
      print path to v from the initial sorce
      return
   visited.add(v)
   for each vertex u such that u is a neighbor of v:
      if (u is not in visited):
          u.parent <- v
          DFS(u,target,visited)
   visited.remove(v) 
```

调用`with DFS(source,target,{})`[其中`{}`是一个空`visited`集]。**

# c# - BeginInvoke 会阻塞 UI，而 Invoke 不会。！

> ID：10497690
> 
> 赞同：6
> 
> 时间：2012-05-08T11:26:30.180
> 
> 标签：c#, winforms, multithreading, begininvoke, invokerequired

我对跨线程访问遇到的场景感到困惑。这是我正在尝试做的事情：

主 UI 线程 - 菜单项单击我创建了一个后台工作程序并异步运行它

```
private void actionSubMenuItem_Click(object sender, EventArgs e)
{
       ToolStripMenuItem itemSelected = (ToolStripMenuItem)sender;
       ExecuteTheActionSelected(itemSelected.Text);
} 
```

方法`ExecuteTheActionSelected`如下：

```
private void ExecuteTheActionSelected(string actionSelected)
{
      BackgroundWorker localBackgroundWorker = new BackgroundWorker();
      localBackgroundWorker.DoWork += new DoWorkEventHandler(localBackgroundWorker_DoWork);
      localBackgroundWorker.RunWorkerAsync(SynchronizationContext.Current);
} 
```

有`localBackgroundWorker_DoWork`：

```
 ActionExecutionHelper actionExecutioner = new ActionExecutionHelper()
 actionExecutioner.Execute(); 
```

`Execute`该类中的方法具有方法调用程序，该方法调用程序实际上调用 UI 线程中的事件处理程序：

```
 public void Execute()
 {
      // ---- CODE -----
      new MethodInvoker(ReadStdOut).BeginInvoke(null, null);
 }

 protected virtual void ReadStdOut()
 {
      string str;
      while ((str = executionProcess.StandardOutput.ReadLine()) != null)
      {
          object sender = new object();
          DataReceivedEventArgs e = new DataReceivedEventArgs(str);
          outputDataReceived.Invoke(sender, e); 
          //This delegate invokes UI event handler
      }
 } 
```

UI 事件处理程序如下：

```
private void executionProcess_OutputDataReceived(object sender, DataReceivedEventArgs e)
{
    if (_dwExecuteAction != null)
    {
        _dwExecuteAction.ShowDataInExecutionWindow(e.Text);
    }
} 
```

**现在出现了跨线程问题**：

```
public void ShowDataInExecutionWindow(string message)
{
     if (rchtxtExecutionResults.InvokeRequired)
     {
            rchtxtExecutionResults.Invoke(new ShowDataExecutionDelegate(ShowDataInExecutionWindow), message);
     }
     else
     {
            this.rchtxtExecutionResults.AppendText(message + Environment.NewLine);
     }
} 
```

这里**Invoke 不会阻塞 UI，因为 BeginInvoke 会阻塞**。请帮助我理解这种情况，因为我很困惑。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-08T12:22:20.933

是的，这很正常。从 Invoke() 中获得的好处是它*阻塞*了工作线程。当您使用 BeginInvoke() 时，线程会继续运行并以高于 UI 线程可以处理的速率发出调用请求。这取决于您要求 UI 线程做什么，但它开始成为每秒约 1000 次调用的问题。

在这种情况下，UI 线程停止响应，它在泵送消息循环时不断地寻找另一个调用请求，并且不再执行其常规职责。不再处理输入和绘制请求。

问题的明确根源是从流程中检索到的*每一行输出的调用请求。*它只是太快地生成它们。您需要通过降低调用速率来解决此问题。有一个简单的规则，你只是试图让一个人保持忙碌，每秒调用超过 25 次转动你产生的任何东西，但眼睛会模糊。所以缓冲这些行并测量自上次调用以来经过的时间量。

另请注意，使用 Invoke() 是一种简单的解决方法，但不能完全保证它可以工作。这是一场*竞赛*，工作线程可能总是比主线程重新进入消息循环并读取下一条消息早一点调用下一个 Invoke()。在这种情况下，您仍然会遇到完全相同的问题。

# mysql - Codeigniter - 如何从一个字段值大于另一个字段值的数据库中获取记录？

> ID：10497691
> 
> 赞同：2
> 
> 时间：2012-05-08T11:26:33.410
> 
> 标签：mysql, codeigniter, activerecord

在我的数据库中，我有两列名为“amount_raised”和“funding_goal”。

我想从我的数据库中获取“amount_raised”等于或大于“funding_goal”的所有记录。

我正在使用 Codeigniters 活动记录。这是我到目前为止所拥有的：

```
 function get_recently_successful($limit, $offset){

        $data = '';

        $this->db->order_by('date','desc');
        $this->db->where('published', '1'); 
        $this->db->where('amount_raised >=', 'funding_goal'); 
        $query = $this->db->limit($limit, $offset)->get('projects'); 

        foreach ($query->result() as $row) {
            $data[] = array(
                'id' => $row->id,
                'date' => $row->date,
                'project_title' => $row->project_title,

            );
        }

        return $data;

    } 
```

上面的代码只返回数据库中的所有值。不是我在哪里指定的。我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T11:44:49.563

试试这个。

```
$this->db->where('amount_raised >= funding_goal'); 
```

现在，您通过查询发送值“funding_goal”，从而使其：
`WHERE amount_raised >= 'funding_goal'`

您希望它与列而不是字符串进行比较：
`WHERE amount_raised >= funding_goal`

您始终可以通过插入以下内容对查询进行故障排除：

```
echo $this->db->last_query(); 
```

排后`$query =`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-29T04:51:47.077

如果您在数组中使用多个条件，您也可以尝试以下操作：

> $this->db->where(array('status' => 'Active', 'category' => $catId));

您也可以像这样使用另一个条件：

> $this->db->where('amount_raised >=funding_goal');

您可以使用 last_query() 来查看 sql 查询以及理解它。

# jquery - jQuery 在 MVC 3 中克隆输入和验证

> ID：10497693
> 
> 赞同：6
> 
> 时间：2012-05-08T11:26:36.390
> 
> 标签：jquery, asp.net-mvc, asp.net-mvc-3, validation, unobtrusive-validation

我使用 MVC3 模型 Validation 和 Unobtrusive 进行显示验证，并尝试找到一些方法来克隆元素和验证。

这是我的查看代码：

```
<div id="d1" class="Addable">
@Html.EditorFor(model => model.CellPhone)
@Html.ValidationMessageFor(model => model.CellPhone)
</div>
<input type"button" class="AddE" /> 
```

HTML Dom 是：

```
<div class="Addable" id="d1">
  <input type="text" value="" name="CellPhone" id="CellPhone" data-val-required="Req."
   data-val-regex-pattern="^04[1234][0-9]{6}$" data-val-regex="notValid" data-val="true"
   class="text-box single-line valid">

 <span data-valmsg-replace="true" data-valmsg-for="CellPhone" 
  class="invalid-side-note field-validation-valid"></span>
</div> 
```

因此，我使用以下脚本克隆新的脚本，并更改​​名称，如数组名称：

```
//Add new Addable div
$('.AddNewE').click(function () {

    var Target = $('.Addable:first');
    var TargetId = $(Target).attr('id');
    var Count = $('.Addable#' + TargetId).size();
    var CloneTarget = $(Target).clone();
    CloneTarget.find('input').val('');
    CloneTarget.insertAfter('.Addable:last');
    var TargetName = $(Target).find('input').attr('name');

    if (Count == 1) {

        var CloneName = TargetName + '[1]';
        TargetName = TargetName + '[0]';

        $(Target).find('input').attr('name', TargetName);
        $(Target).find('span[class|="field-validation"]').attr('data-valmsg-for', TargetName);

        $(CloneTarget).find('input').attr('name', CloneName);
        $(CloneTarget).find('span[class|="field-validation"]').attr('data-valmsg-for', CloneName);

    } else {

        var indx = TargetName.length - 3;
        var CloneTargetName = TargetName.substring(0, indx);
        CloneTargetName = CloneTargetName + '[' + Count + ']';
        $(CloneTarget).find('input').attr('name', CloneTargetName);
        $(CloneTarget).find('span[class|="field-validation"]').attr('data-valmsg-for', CloneTargetName);
    }

}); 
```

第一次克隆后，Dom 是：

```
<div class="Addable" id="d1">
  <input type="text" value="" name="CellPhone[0]" id="CellPhone" data-val-required="Req."
   data-val-regex-pattern="^04[1234][0-9]{6}$" data-val-regex="notValid" data-val="true"
   class="text-box single-line valid">

 <span data-valmsg-replace="true" data-valmsg-for="CellPhone[0]" 
  class="invalid-side-note field-validation-valid"></span>
</div>

<div class="Addable" id="d1">
  <input type="text" value="" name="CellPhone[1]" id="CellPhone" data-val-required="Req."
   data-val-regex-pattern="^04[1234][0-9]{6}$" data-val-regex="notValid" data-val="true"
   class="text-box single-line valid">

 <span data-valmsg-replace="true" data-valmsg-for="CellPhone[1]" 
  class="invalid-side-note field-validation-valid"></span>
</div> 
```

我更改了验证范围和输入，因为每个输入都有自己的验证。但克隆后验证根本不起作用。哪里有问题？你的建议是什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-08T12:06:33.407

这行帮助我：

```
 $('form').removeData('validator');
        $('form').removeData('unobtrusiveValidation');
        $.validator.unobtrusive.parse('form'); 
```

# iphone - CFURLCreateStringByAddingPercentEscapes 返回 NULL

> ID：10497698
> 
> 赞同：2
> 
> 时间：2012-05-08T11:27:03.190
> 
> 标签：iphone, objective-c, ios

我在使用用于百分比转义非法符号的类别方法时遇到问题。

这是我用于该任务的代码：

```
@implementation NSString (URLEncoding)
-(NSString *)urlEncodeUsingEncoding:(NSStringEncoding)encoding {
    NSString *s = (NSString *)CFURLCreateStringByAddingPercentEscapes(NULL, (CFStringRef)self, NULL, (CFStringRef)@"!*'\"();:@&=+$,/?%#[]% ",CFStringConvertNSStringEncodingToEncoding(encoding));
    NSLog(@"S: %@, Self: %@", s, self);
    return [s autorelease];
}
@end 
```

当我在没有在上述匹配字符串中找到任何符号的字符串上运行此方法时，该方法运行良好并且相同的字符串返回给我。

例如，如果我有一个这样的字符串`@"test"`，它将输出：

> S：测试，自我：测试

但是，如果我改为使用类似`@"test&symbols"`它将输出的字符串：

> S: null, Self: 测试&符号

因此，使用 CFURLCreateStringByAddingPercentEscapes 似乎有些问题。

现在我想转义诸如 & 之类的符号，因为它们可能出现在用作查询字符串中的值的字符串中，这会导致查询字符串被误解。

关于这里可能是什么问题的任何想法？

先感谢您！/ 马格纳斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-09T08:03:47.053

在发现我的大错误之后。
我被告知要自己回答这个问题。

我做错了什么，我没有将`NSStringEncoding`值传递给该方法，`NSUTF8StringEncoding`但我没有传递一个 CF 值，例如`kCFStringEncodingUTF8`.

该值通过转换器传递以使其成为导致错误的 CF 值，并且它已经具有正确的类型。

任何不便敬请谅解。

-马格纳斯

# sql - 公式电话计算

> ID：10497699
> 
> 赞同：0
> 
> 时间：2012-05-08T11:27:05.687
> 
> 标签：sql, plsql

我正在使用以下语句来确定正确的前缀：

```
select *  
from [lcsCDR].[dbo].[Phones] c  
inner join [CallAnalysisDatabase].[dbo].[CallRates$] r  
    on r.Prefix COLLATE Latin1_General_CI_AI = SUBSTRING(c.PhoneUri,1,LEN(r.Prefix))  
left join [CallAnalysisDatabase].[dbo].[CallRates$] r_anti  
    on r_anti.Prefix COLLATE Latin1_General_CI_AI = SUBSTRING(c.PhoneUri,1,LEN(r_anti.Prefix))  
    and LEN(r_anti.Prefix) > LEN(r.Prefix)  
where r_anti.Prefix is null 
```

你能给我一个例子来添加一个集成在这个语句中的公式吗？

“费率”表包含 2 个计算字段：

*   开始率
*   rate_per_minute

表 'VoipDetails' 和 SessionDetails 包含以下内容：

```
DATEDIFF(s, VoipDetails.SessionIdTime, SessionDetails.SessionEndTime) 
```

如果找到正确的前缀，则使用以下公式：

```
DATEDIFF(s, VoipDetails.SessionIdTime, SessionDetails.SessionEndTime))/60)*r.rate_per_minute)+start_rate) 
```

你能给我一个pl/sql ms sql server management studio的例子吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T12:05:50.410

如果我正确理解了您的问题，那么您需要 T-SQL 中的标量函数。

看一下这个：

[创建函数 T-SQL 参考](http://msdn.microsoft.com/en-us/library/ms186755%28v=sql.105%29.aspx)

# vba - 如何使用 vba 将多个图表从 excel 导出到单个 pdf？

> ID：10497713
> 
> 赞同：2
> 
> 时间：2012-05-08T11:27:49.743
> 
> 标签：vba, excel, excel-2010

我对 VBA 完全陌生，需要使用 vba 将多个图表从 excel 工作簿导出到单个 pdf。我知道可以将图形导出为单独的 pdf 或 jpg，但是是否可以使用 vba 将工作簿中的所有图形放入一个 pdf 中？任何建议将不胜感激，因为我似乎无法在其他地方找到我正在寻找的东西。

到目前为止，我的代码将每个图表打印到 pdf，但每个图表在下一次打印时都会被覆盖。我的代码如下：

```
Sub exportGraphs()
Dim Ws As Worksheet
Dim Filename As String
Filename = Application.InputBox("Enter the pdf file name", Type:=2)
Sheets("Status and SLA trends").Select
ActiveSheet.ChartObjects("Chart 4").Activate
ActiveChart.ExportAsFixedFormat xlTypePDF, Filename, xlQualityStandard
ActiveSheet.ChartObjects("Chart 1").Activate
ActiveChart.ExportAsFixedFormat xlTypePDF, Filename, xlQualityStandard

Sheets("Current Issue Status").Select
ActiveSheet.ChartObjects("Chart 2").Activate
ActiveChart.ExportAsFixedFormat xlTypePDF, Filename, xlQualityStandard
ActiveSheet.ChartObjects("Chart 5").Activate
ActiveChart.ExportAsFixedFormat xlTypePDF, Filename, xlQualityStandard
ActiveSheet.ChartObjects("Chart 8").Activate
ActiveChart.ExportAsFixedFormat xlTypePDF, Filename, xlQualityStandard
End Sub 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-10T11:45:28.433

最后，我只是将一组工作表导出为 pdf，因为多个图表位于单独的工作表上，我不需要更改它们的格式。我使用以下代码片段完成了它

```
Sheets(Array("Current Issue Status", "Status and SLA trends")).Select
Dim saveLocation As String
saveLocation = Application.GetSaveAsFilename( _
fileFilter:="PDF Files (*.pdf), *.pdf")
If saveLocation <> "False" Then
ActiveSheet.ExportAsFixedFormat xlTypePDF, saveLocation, xlQualityStandard
End If 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-08T15:52:03.107

这是你正在尝试的吗？

**逻辑**：将所有图表复制到临时表，然后使用 Excel 的内置工具创建 pdf。制作pdf后，删除临时表。这将使用 vba 将多个图形导出`Sheets("Status and SLA trends")`为单个 pdf。

**代码（经过试验和测试）**：

```
Option Explicit

Sub Sample()
    Dim ws As Worksheet, wsTemp As Worksheet
    Dim chrt As Shape
    Dim tp As Long
    Dim NewFileName As String

    On Error GoTo Whoa

    Application.ScreenUpdating = False

    NewFileName = "C:\Charts.Pdf"

    Set ws = Sheets("Status and SLA trends")
    Set wsTemp = Sheets.Add

    tp = 10

    With wsTemp
        For Each chrt In ws.Shapes
            chrt.Copy
            wsTemp.Range("A1").PasteSpecial
            Selection.Top = tp
            Selection.Left = 5
            tp = tp + Selection.Height + 50
        Next
    End With

    wsTemp.ExportAsFixedFormat Type:=xlTypePDF, Filename:=NewFileName, Quality:=xlQualityStandard, _
           IncludeDocProperties:=True, IgnorePrintAreas:=False, OpenAfterPublish:=True

    Application.DisplayAlerts = False
    wsTemp.Delete

LetsContinue:
    With Application
        .ScreenUpdating = True
        .DisplayAlerts = True
    End With
    Exit Sub
Whoa:
    MsgBox Err.Description
    Resume LetsContinue
End Sub 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-10-15T19:04:25.417

[将所有图表导出到一个 PDF] 这对我有用：我从[这里](https://peltiertech.com/Excel/ChartsHowTo/ResizeAndMoveAChart.html)扩展了示例。它将所有图表复制到临时工作表，然后更改页面设置（字母/横向）并调整每个图表的大小/重新定位以适合单独的页面边框。最后一步是将此表打印为 pdf doc 并删除临时表。

```
Sub kartinka()
Dim i As Long, j As Long, k As Long
Dim adH As Long
Dim Rng As Range
Dim FilePath As String: FilePath = ThisWorkbook.Path & "\"
Dim sht As Worksheet, shtSource As Worksheet, wk As Worksheet
'===================================================================
'===================================================================
Sheets.Add After:=ThisWorkbook.Sheets(ThisWorkbook.Sheets.Count)
ActiveSheet.Name = "ALL"
Set sht = ActiveSheet
'===================================================================
Application.ScreenUpdating = False
'===================================================================
'Excluding ALL tab, copying all charts from all tabs to ALL
For Each wk In Worksheets
    If wk.Name <> "ALL" Then
        Application.DisplayAlerts = False
            j = wk.ChartObjects.Count
                For i = 1 To j
                    wk.ChartObjects(i).Activate
                    ActiveChart.ChartArea.Copy
                    sht.Select
                    ActiveSheet.Paste
                    sht.Range("A" & 1 + i & "").Select
                 Next i
        Application.DisplayAlerts = True
    End If
Next
'===================================================================
'===================================================================
'To set the constant cell vertical increment for separate pages
adH = 40
k = 0
j = sht.ChartObjects.Count
'===================================================================
Application.PrintCommunication = True 'this will allow page settings to update
'To set page margins, adding some info about the file location, tab name and date
With ActiveSheet.PageSetup
        .LeftMargin = Application.InchesToPoints(0.7)
        .RightMargin = Application.InchesToPoints(0.7)
        .TopMargin = Application.InchesToPoints(0.75)
        .BottomMargin = Application.InchesToPoints(0.75)
        .HeaderMargin = Application.InchesToPoints(0.3)
        .FooterMargin = Application.InchesToPoints(0.3)
        .Orientation = xlLandscape
        .LeftHeader = "Date generated : " & Now
        .CenterHeader = ""
        .RightHeader = "File name : " & ActiveWorkbook.Name
        .LeftFooter = "File location : " & FilePath & ThisWorkbook.Name
        .CenterFooter = ""
        .RightFooter = ""
        .FitToPagesWide = 1
End With
'===================================================================
'adjusting page layout borders
sht.VPageBreaks.Add sht.[N1]
For i = 40 To j * 40 Step 40
sht.HPageBreaks.Add Before:=sht.Cells(i + 1, 1)
Next i
Columns("A:A").EntireRow.RowHeight = 12.75
Rows("1:1").EntireColumn.ColumnWidth = 8.43
'===================================================================
For i = 1 To j
Set Rng = ActiveSheet.Range("A" & (1 + k * adH) & " :M" & (40 + k * adH) & "")
    With ActiveSheet.ChartObjects(i)
        .Height = Rng.Height
        .Width = Rng.Width
        .Top = Rng.Top
        .Left = Rng.Left
    End With
    ActiveSheet.PageSetup.PrintArea = "$A$1:$M" & (40 + k * adH) & ""
 k = k + 1
Next i
'===================================================================
ActiveSheet.ExportAsFixedFormat Type:=xlTypePDF, Filename:=FilePath & ActiveWorkbook.Name & "." & ActiveSheet.Name, Quality:=xlQualityMinimum, _
IncludeDocProperties:=True, IgnorePrintAreas:=False, OpenAfterPublish:=False
'===================================================================
Application.DisplayAlerts = False
ThisWorkbook.Sheets("ALL").Delete
Application.DisplayAlerts = True

Application.ScreenUpdating = True

End Sub 
```

# windows-phone-7 - 如何在 Cocos2dx for Windows XNA 中显示警报？

> ID：10497715
> 
> 赞同：2
> 
> 时间：2012-05-08T11:27:52.083
> 
> 标签：windows-phone-7, xna, cocos2d-x

目前我正在为 Windows XNA 使用 cocos2d-x。我在显示警报或消息框时遇到问题。任何人都可以在这方面帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-06T21:29:07.887

如果您添加参考 System.Windows，您可以使用：

```
System.Windows.MessageBox.Show("Hello!"); 
```

# c# - PrincipalPermission 仅适用于某些 AD 组

> ID：10497716
> 
> 赞同：3
> 
> 时间：2012-05-08T11:27:55.640
> 
> 标签：c#, wcf, active-directory, iis-7.5, principalpermission

以下工作完美（`DOMAIN\DEVELOPERS`）：

```
[PrincipalPermission(SecurityAction.Demand,Role="DEVELOPERS")]
public string Test()
{
   return "Works..";
} 
```

运行的用户是该组的成员，因此“当然”它可以工作。我有另一个组，用于名为 的 WCF 服务`AdvisoryWcfUsers`，它包含几个用户和组（在 AD 中；所以`DOMAIN\AdvisoryWcfUsers`）。我 100% 确定我是这个小组的成员，但无论如何，我得到：

> System.ServiceModel.Security.SecurityAccessDeniedException：访问被拒绝

这不是一个错字，只是似乎 IIS 没有权限查找这个新组。该`DEVELOPERS`组是一个“旧”组，而`AdvisoryWcfUsers`今天是为此目的而创建的。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T13:59:49.890

在创建群组并成为群组成员后，您是否再次登录？Windows 组是所谓的“子权限”，在登录时附加到您的安全令牌。因此，只有在登录后才能检测到组成员身份的任何更改（必须是域登录，而不是缓存的登录！）。

# java - 多个正则表达式

> ID：10497718
> 
> 赞同：0
> 
> 时间：2012-05-08T11:28:09.307
> 
> 标签：java, regex

我不习惯它们，并且对 java 语法“匹配”有问题。

我有两个文件一个是`111.123.399.555.xml`另一个是`Conf.xml.`

现在我只想用正则表达式获取第一个文件。

```
string.matches("[1-9[xml[.]]]"); 
```

不工作。

这该怎么做？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-08T12:19:42.557

使用`string.matches("[1-9[xml[.]]]");`将不起作用，因为`[]`将创建一个字符类组，而不是一个捕获组。

这意味着，对于 java，您的表达式是在说`"match any of: [1-to-9 [or x, or m, or l [or *any*]]]"`（*any* 这里是因为您没有转义`.`，并且它会创建`a match any character`命令）

* * *

重要的：

"\" 被 java 识别为文字转义字符，并且为了将其作为实际匹配器的转义字符（也是 "\"，但以字符串形式）发送到匹配器，它本身需要被转义，因此，当你的意思是在匹配器上使用“\”，你必须实际使用“\\”。

当您不习惯时，这有点令人困惑，但总结一下，要发送一个实际的**“\”以匹配**匹配器，您**可能必须使用“\\\\”**！第一个“\\”将成为匹配器的“\”，因此是一个转义字符，第二个“\\”被第一个转义，将成为实际的“\”字符串！

* * *

`###.###.###.###.xml`与“#”始终为数字的模式匹配的正确模式字符串是`string.matches("(\\d{3}\\.){4}xml")`，其工作原理如下：

*   =将`\\d`匹配单个数字字符。它与 using 相同`[0-9]`，只是更简单。
*   指定匹配前一个的`{3}`“恰好 3 次” `\\d`。从而匹配`###`。
*   `\\.`匹配单个点字符。
*   附上前面的`()`代码对匹配器说“这是一个捕获组”。它被 next 使用`{4}`，因此创建了一个“完全匹配整个`###.`组 4 次”，从而创建了“匹配`###.###.###.###.`”。
*   最后，`xml`模式字符串结束之前的将完全匹配“xml”，与前面的项目一起，完全匹配该模式：“ `###.###.###.###.xml`”。

如需进一步学习，请阅读[Java 的 Pattern 文档。](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:29:40.053

```
string.matches("[1-9.]+\\.xml") 
```

应该这样做。

*   `[1-9.]+`匹配 1 到 9 和/或句点之间的一位或多位数字。（`+`意思是“一个或多个”，`*`意思是“零个或多个”，`?`意思是“零个或一个”）。
*   `\.xml`匹配`.xml`。由于`.`在正则表达式中表示“任何字符”，因此如果您希望它表示文字句`\.`点，则需要对其进行转义：（并且由于这是在 Java 字符串中，反斜杠本身需要通过加倍进行转义）。

# git - 我不应该在“htdocs”中放置一个 git 存储库吗？

> ID：10497721
> 
> 赞同：5
> 
> 时间：2012-05-08T11:28:20.473
> 
> 标签：git, security, shared-hosting

我越来越喜欢 Git 并且必须理顺这一点，

我在某处读到，将 .git 存储库放在可以通过网络访问的文件夹中是不好的安全做法（听起来很合理！）。

我的问题是，除了它是否正确之外，最好的解决方案是什么？当然，如果您在 Web 开发时在远程主机上工作，则会出现此问题。

例如，如果我在 domain.com/project 上工作，其中“项目”是存储库，我能做什么？

是否可以将 .git 文件夹移动到 htdocs 之外的某个位置并链接到它？或者我可以为其添加一些保护层吗？

我主要在共享主机上开发，所以我可以安装和设置的内容有限。

我读过你可以将整个存储库/文件夹隐藏在服务器上的某个地方，然后设置一个脚本以在推送到它时复制内容。

但是在“实时”服务器上开发时，我希望能够在两次提交之间实时测试我的代码。

我清楚了吗？

帮助表示赞赏！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T11:36:44.233

在过去，我这样做过：

```
project/
  .git/
  README,etc
  public/
    index.html 
```

然后让 public/ 子目录世界可见，但隐藏父项目/ 目录。您可以使用符号链接或正确的 .htaccess 咒语来做到这一点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-08T11:44:50.497

是的，您可以移动`.git`目录并使用`GIT_DIR`环境变量指向它。

```
GIT_DIR

    If the GIT_DIR environment variable is set then it specifies a path to use instead of the
    default .git for the base of the repository. 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-08T11:46:02.837

我的回答假设您在 debian 上使用 apache，但它适用于其他发行版和服务器。

你有两种可能：

**1：创建一个符号链接到您的存储库**

您现在可以创建一个从您的 public_html 文件夹到您的工作副本的符号链接。例如，假设您的虚拟主机配置将 DocumentRoot 放在“/var/www/site/public_html”中，您可以将其符号链接到您的 git 工作副本：

```
ln -s /var/git/site/html /var/www/site/public_html 
```

或者，如果您只想使子文件夹可访问：

```
ln -s /var/git/site/feature/ /var/www/site/public_html/feature 
```

这仍然会使一些 .git 文件可以访问，因此您必须修改 .htaccess 或 vhost 文件以使其不可用

**2：导出您的存储库**

在我看来，更好的选择是创建一个（裸）存储库并导出（存档）您想要的版本：您通常不想在每次推送后更新您的站点，而是导出一个特定的标签，分支或承诺。

```
git archive master | tar -x -C /var/www/site/public_html 
```

在这里，您可以用任何公认的树状结构（例如分支、提交或标签）替换 master

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-08T11:43:38.503

我看到您的问题的两个主要解决方案仍然足够简单（与复制脚本相反）。

首先是将您的可访问目录`http://example.com/`放在类似`/var/www/example-com/`的位置，并将您的 git 目录放在`/var/www/.git`. 仅当您的主机仅`example-com`在`/var/www/`目录中时才有效（或者至少其他 v-server 都不需要 git 存储库。如果您可以告诉管理员将根目录移动到 ，那么您可以解决这个问题，`/var/www/example-com/site`这样文件就可以直接在`/var/www/example-com`是无法访问的。

另一种是通过 拒绝访问`.git`目录，`.htaccess`或者如果不可用，则通过不同的用户。如果服务器`www-data`以主组运行`www-data`并且*您的*用户名是`me`，您可以让您的根目录属于`me:www-data`并将组权限设置为`r-S`意味着组成员可以读取所有内容`www-data`，可以执行目录（并且只有目录），并且设置了 group-sticky 位。然后让您的`.git`目录简单地成为`rwx------`或分配给您自己的组。

# algorithm - 代码片段的运行时间复杂度

> ID：10497726
> 
> 赞同：0
> 
> 时间：2012-05-08T11:28:37.073
> 
> 标签：algorithm, analysis

这是片段：

```
sum1=0;
    for(i=1;i<=n;i++)
      for(j=1;j<=n;j++)
        sum1++
sum2=0
    for(k=1;k<=n;k*=2)
      for(j=1;j<=k;j++)
        sum2++ 
```

以下是答案：

2 个赋值语句 – 每个第一个嵌套循环 O(1) – O(n2) 第二个嵌套循环 – O(n) 代码片段的运行时间复杂度 = O(1) + O(n^2) + O(1) + O (n) = O(n2)

但这是我的解决方法：

2 个作业：- O(1)。第一个嵌套循环：O(n*n)=O(n^2) 第二个嵌套循环：

外循环运行 n 次。现在内循环将被执行 (1+2+3+.....+(n-1)+n) 次，得到 n(n+1)/2 =O(n ^2)

总运行时间 = O(n^2)+O(n^2)+O(1)=O(n^2)

是的，我做了一些研究，发现了以下内容：

在循环中，如果索引在每次迭代中跳跃量增加，则序列的复杂度为 log n。

在那种情况下，我想第二个循环将具有复杂性 (n-1)/2*logn...这将等于 O(n*log n)。

我真的对第二个循环感到困惑，它应该是 O(n)..O(n^2) 还是 O(nlogn)..

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:38:16.677

由于你 k 每次增加一倍。你的计算不正确。它应该是 (1+2+4+....n/2+n)

```
 for(k=1;k<=n;k*=2) 
```

所以，O(nlogn) 是对的。

# c# - 从字符串中获取矩形边界

> ID：10497727
> 
> 赞同：1
> 
> 时间：2012-05-08T11:28:42.583
> 
> 标签：c#, .net, string

我想将窗口的边界保存在注册表中，为此我使用代码：

```
dialogView.Save("WindowPosition", this.DesktopBounds.ToString()); 
```

dialogView 是我要保存它们的路径。它可以保存一切正常示例：

```
{X=54,Y=153,Width=723,Height=555} 
```

但是获取它们的最佳方法是什么，因为我可以从注册表中获取的类型可以是字符串示例：

```
dialogView.Load("WindowPosition",string.Empty,out position); 
```

但是如何将字符串转换为矩形到初始化设置到窗口我不知道？有人可以提出一些建议吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-08T11:38:50.713

尝试[RectangeConverter](http://msdn.microsoft.com/en-us/library/system.drawing.rectangleconverter.aspx)：

```
RectangleConverter r = new RectangleConverter();

var rectangleAsString= r.ConvertToString(this.DesktopBounds);

var rectangle = (Rectangle)r.ConvertFromString(rectangleAsString); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-08T11:34:19.693

使用正则表达式模式：

```
{X=(\d+),\s*Y=(\d+),\s*Width=(\d+),Height=(\d+)} 
```

[在此处](http://rubular.com/r/eCVoSYnu0A)查看**演示** 。

```
Match groups:
1\.  54
2\.  153
3\.  723
4\.  555 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:33:23.627

```
var matches = Regex.Match("{X=54,Y=153,Width=723,Height=555}",
                           @"\D*(\d+)\D*(\d+)\D*(\d+)\D*(\d+)");

var rect = new Rectangle(int.Parse(matches.Groups[1].Value),
                         int.Parse(matches.Groups[2].Value),
                         int.Parse(matches.Groups[3].Value),
                         int.Parse(matches.Groups[4].Value)); 
```

# spring - Weblogic 10.3 找不到外部属性文件

> ID：10497728
> 
> 赞同：0
> 
> 时间：2012-05-08T11:28:49.557
> 
> 标签：spring, weblogic, classpath

在其他示例中，我尝试过[在 WebLogic Admin Server 11g 上未找到 DeploymentException 和类](https://stackoverflow.com/questions/6551464/deploymentexception-class-not-found-on-weblogic-admin-server-11g)，但我无法让 Spring 读取外部属性文件。

我有这段代码，它读取一个属性文件。将文件（PROPERTIES_FILES）放在 src/main/resources 中，我部署的应用程序很好。将其移动到文件系统中的外部文件夹，无法部署。

我尝试[http://www.mkyong.com/java/how-to-print-out-the-current-project-classpath/](http://www.mkyong.com/java/how-to-print-out-the-current-project-classpath/)来打印类路径并获得：

```
/C:/Oracle/Middleware/patch_wls1034/profiles/default/sys_manifest_classpath/weblogic_patch.jar
/C:/Oracle/Middleware/patch_oepe1040/profiles/default/sys_manifest_classpath/weblogic_patch.jar     /C:/Oracle/Middleware/patch_ocp360/profiles/default/sys_manifest_classpath/weblogic_patch.jar
/C:/Oracle/Middleware/jdk160_21/lib/tools.jar
/C:/Oracle/Middleware/wlserver_10.3/server/lib/weblogic_sp.jar
/C:/Oracle/Middleware/wlserver_10.3/server/lib/weblogic.jar
/C:/Oracle/Middleware/modules/features/weblogic.server.modules_10.3.4.0.jar
/C:/Oracle/Middleware/wlserver_10.3/server/lib/webservices.jar
/C:/Oracle/Middleware/modules/org.apache.ant_1.7.1/lib/ant-all.jar
/C:/Oracle/Middleware/modules/net.sf.antcontrib_1.1.0.0_1-0b2/lib/ant-contrib.jar
/C:/Oracle/Middleware/wlserver_10.3/common/derby/lib/derbyclient.jar
/C:/Oracle/Middleware/wlserver_10.3/server/lib/xqrl.jar

Trying to read test.properties
Found false
Could not find properties file: test.properties 
```

我的实现如下所示：

```
 ClassLoader cl = ClassLoader.getSystemClassLoader();

    URL[] urls = ((URLClassLoader)cl).getURLs();

    for(URL url: urls){
        logger.debug(url.getFile());
    }

    logger.debug("Trying to read {}", PROPERTIES_FILES);
    Resource resource = new ClassPathResource(PROPERTIES_FILES);
    logger.debug("Found {}", resource.exists());
    try {
        props = PropertiesLoaderUtils.loadProperties(resource);
    } catch (IOException e) {
        logger.error("Could not find properties file: " + PROPERTIES_FILES, e);
    } 
```

我从 servlet-dispatcher 中移动另一个属性文件时遇到同样的问题：

```
<context:property-placeholder location="classpath*:test.properties"/> 
```

但我想这是同样的问题。我在 Windows 上。

有谁能够帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:40:40.640

是否重新启动了完整的系统并且它起作用了。

# ios - 从源代码中卸载（删除）iOS 应用程序？

> ID：10497733
> 
> 赞同：3
> 
> 时间：2012-05-08T11:29:08.853
> 
> 标签：ios

在 iOS 设备上，要卸载应用程序，用户长按应用程序图标，直到它开始摆动，左上角有 (X) 符号。按下 (X) 后，它会显示“删除应用程序”警报视图。如果按下删除按钮，它会从设备中卸载应用程序。

我想编写一个实用程序来删除其他不需要的应用程序。这将是自动化的，因此我不需要手动删除它们。

有什么建议或提示吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-08T11:31:29.370

没有越狱设备是不可能的。无法访问设备上实际存在哪些应用程序，更不用说删除它们的选项了。

# iphone - 如何在 iPhone 收到推送通知后立即更新值？

> ID：10497734
> 
> 赞同：0
> 
> 时间：2012-05-08T11:29:26.807
> 
> 标签：iphone, apple-push-notifications

我在我的应用程序中使用了推送通知，当通知到达时，我将在有效负载中获得一些值，我需要更新我的应用程序中的值。我在所有视图中都有金额标签，所以我需要在收到通知后更新金额。但问题是，该值不会立即更新，当我导航到任何视图之后它会更新。我想立即更新值，那我该怎么做？

```
-(void) application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo{

            NSString *getAmt =[[userInfo valueForKey:@"aps"] valueForKey:@"Amount"];
            float totalAmt = [getAmt floatValue] + [amt floatValue];
            NSString *finalAmount = [NSString stringWithFormat:@"%.02f",totalAmt];
            [[NSUserDefaults standardUserDefaults] setObject:finalAmount forKey:@"amount"];
            [self.viewController.view setNeedsDisplay];
} 
```

我使用 Nsuserdefault 值在金额标签中显示金额。现在值已更改，当我导航到任何视图时，它将更新。但是我想在收到通知后立即在我的应用程序中更新该值。所以请帮帮我。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:34:29.367

使用 NSNotication 并针对实现方法的类的方法添加通知，当您收到推送通知时，发布该通知并在方法中更新值

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:37:36.367

好吧，您可以`NSNotificationCenter`用于此目的..

像这样注册您想要`UIViewController`的`NSNotificationCenter`：`@"NotificaitonRecivied"`

```
[[NSNotificationCenter defaultCenter] addObserver:self 
                                                 selector: @selector(updateAmount:)
                                                     name: @"NotificaitonRecivied" 
                                                   object: nil]; 
```

现在，每当您收到任何更新的金额时，只需广播如下通知：

```
[[NSNotificationCenter defaultCenter] postNotificationName:@"NotificaitonRecivied" object:nil]; 
```

`updateAmount:`amount 将是一种读取您的金额`NSUserDefaults`以将其设置在任何`View`

# django - django 项目的 Apache 安装

> ID：10497744
> 
> 赞同：0
> 
> 时间：2012-05-08T11:30:00.087
> 
> 标签：django, apache, configuration

我正在尝试为 python 2.7 安装和配置 apache 以开发 django 应用程序。wsgi 模块已配置。我做了以下设置

编辑 httpd 配置文件

别名 /media/ 'D:/myProjects/mysite/site_media/'

命令拒绝，允许所有人允许

WSGIScriptAlias / 'D:\myProjects\mysite\apache\django.wsgi'

命令拒绝，允许所有人允许

在我的站点中创建一个文件夹 apache，比如 D:\myProjects\mysite\apache

创建名为 'django.wsgi' 的 wsgi 脚本

import os import sys sys.path.append('D:\myProjects') os.environ['DJANGO_SETTINGS_MODULE'] = 'mysite.settings'

导入 django.core.handlers.wsgi 应用程序 = django.core.handlers.wsgi.WSGIHandler()

在我的站点文件夹中创建一个名为“site_media”的新文件夹

在此处复制所有图像、css、javascript

使用 css 和图像的路径编辑模板，如下所示

href="/media/style.css"

![](../Images/04e3c7249cf4cc96587a8d181e6c6765.png)

但是当在浏览器中输入“http://127.0.0.1”时，浏览器正在加载.....但没有连接到我的网站

在错误日志中检查时

错误是

[2012 年 5 月 8 日星期二 16:59:41] [通知] 父级：子进程以状态 1 退出 - 正在重新启动。

[2012 年 5 月 8 日星期二 16:59:41] [警告] mod_wsgi：为 Python/2.7 编译。

[2012 年 5 月 8 日星期二 16:59:41] [警告] mod_wsgi：运行时使用 Python/2.7.3。

[Tue May 08 16:59:41 2012] [notice] Apache/2.2.21 (Win32) mod_wsgi/3.3 Python/2.7.3 已配置 -- 恢复正常操作

[Tue May 08 16:59:41 2012] [notice] 服务器搭建：Sep 9 2011 10:26:10

[Tue May 08 16:59:41 2012] [notice] Parent: Created child process 2408

[2012 年 5 月 8 日星期二 16:59:41] [警告] mod_wsgi：为 Python/2.7 编译。

[2012 年 5 月 8 日星期二 16:59:41] [警告] mod_wsgi：运行时使用 Python/2.7.3。

[Tue May 08 16:59:41 2012] [notice] Child 2408: Child process is running

ImportError：没有名为站点的模块

请帮我 ..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T12:07:54.467

如果您使用的是 apache2，则必须进行配置`/etc/apache2/sites-enabled/000-default`，因为它不使用您提到的 httpd.config...

# javascript - JqPlot 绘图到图像不正确（延迟）

> ID：10497745
> 
> 赞同：0
> 
> 时间：2012-05-08T11:30:05.220
> 
> 标签：javascript, jquery

我将向您展示我的 jqplot 折线图

![在此处输入图像描述](../Images/4bd5ecdc6858ea90ad0b7d54f094c35c.png)

并绘制图像

![在此处输入图像描述](../Images/70474a8795c8379dbc4166eff465f54d.png)

我怎么看底部的标签号码被delyed作为他的标签。

我的 JQuery PlotToImage 函数

```
if (!$.jqplot.use_excanvas) {
         $('div.jqplot-target').each(function () {
            var outerDiv = $(document.createElement('div'));
            var header = $(document.createElement('div'));
            var div = $(document.createElement('div'));

            outerDiv.append(header);
            outerDiv.append(div);

            outerDiv.addClass('jqplot-image-container');
            header.addClass('jqplot-image-container-header');
            div.addClass('jqplot-image-container-content');

            header.html('Right Click to Save Image As...');

            var close = $(document.createElement('a'));
            close.addClass('jqplot-image-container-close');
            close.html('Close');
            close.attr('href', '#');
            close.click(function () {
               $(this).parents('div.jqplot-image-container').hide(500);
               return false;
            })
            header.append(close);

            $(this).after(outerDiv);
            outerDiv.hide();

            outerDiv = header = div = close = null;

            if (!$.jqplot._noToImageButton) {
               var btn = $(document.createElement('button'));
               btn.text('View Plot Image');
               btn.addClass('jqplot-image-button');
               btn.on('click', { chart: $(this) }, function (evt) {
                  var imgelem = evt.data.chart.jqplotToImageElem();
                  var div = $(this).nextAll('div.jqplot-image-container').first();
                  div.children('div.jqplot-image-container-content').empty();
                  div.children('div.jqplot-image-container-content').append(imgelem);
                  div.show(500);
                  div = null;
               });

               $(this).after(btn);
               btn.after('<br />');
               btn = null;
            }
         });
      } 
```

和 CSS：

```
div.jqplot-image-container {
    display: none;
    background-color: #fff;
    border: 1px solid #999;
    display: inline-block;
    margin-top: 25px;
    clear: both;
}

div.jqplot-image-container-header {
    font-size: 1.0em;
    font-weight: bold;
    padding: 5px 15px;
    background-color: #eee;
}

div.jqplot-image-container-content {
    padding: 15px;
}

a.jqplot-image-container-close {
    float: right;
} 
```

是什么导致我的标签编号延迟？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-09T06:05:36.940

**解决了**

尝试将 CSS 应用于`chart1`div （使用`var plot1 = $.jqplot('chart1', [arrays], options);`）：

```
<div style='align: left'>
   <div id="chart1"></div>
   ....
</div> 
```

和

```
#chart1
{
   width: 800px;
   height: 500px;
   margin:0;
} 
```

# c# - 如何确定谷歌翻译网页的新语言？

> ID：10497748
> 
> 赞同：1
> 
> 时间：2012-05-08T11:30:16.123
> 
> 标签：c#, javascript, asp.net, google-translate

如果我的网页用户选择使用 Google 翻译进行翻译，我需要显示免责声明。如何确定页面是否已翻译以及翻译成什么语言？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-08T11:33:21.927

您可以通过查看 URL 来检测它。如果页面被翻译，则 URL 将以请求参数开头，`http://translate.googleusercontent.com/`语言由`tl`请求参数指定。

另一种选择是检查 URL 是否与预期的 URL（您的网站）不同，如果是，则显示免责声明。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-08T11:36:03.310

您可以从 Google 翻译域中查找对您的页面的请求，这很好地暗示了有人正在使用 Google 翻译。但是你必须跟上他们使用的所有可能的域，并且他们可能会改变。

然后你可能还想担心人们使用 Bing Translate 或任何其他服务......

为所有用户提供通用免责声明可能更容易，无论他们是否使用翻译器？这会有点痛苦，但是如果您出于某种原因绝对必须出示免责声明，那么这是保证始终显示免责声明的唯一方法，

# javascript - Javascript 类 - 无法设置属性

> ID：10497749
> 
> 赞同：0
> 
> 时间：2012-05-08T11:30:20.537
> 
> 标签：javascript, jquery

我有下面的代码在javascript中创建一个类....现在我只会传递“网站”的ID，然后通过ajax调用我将从数据库中获取其余信息（JSON ENCODED）。

现在我唯一的问题是，当我在最后看到对象中的内容时，它只显示 id。

ajax 调用工作正常，因为如果我在成功（ajax）后提醒 this.address，它会显示结果。

我认为我无法使用 ajax 请求设置属性......你能帮忙吗？

```
function website(id) {
     this.id = id; //id

     $.ajax({  //website_information
      type: "GET",
      url: '/proc.php?proc=website_name&id=' + this.id + '',
      success: function(data){
      var tmp = $.parseJSON(data);
     this.address = tmp.website_address;

     this.name = tmp.website_name;
      }
    });

    }

    var obj = new website('20');
    obj.alertwebsite();
    console.log(obj); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-08T11:35:12.920

这里有两个问题。第一个`$.ajax`是异步的。这意味着它在请求完成*之前返回。*该`success`函数在请求完成时运行，但`obj.alertwebsite()`会在之前运行。

第二个问题是`this`AJAX 回调中的值。在回调中，`this`设置为包含 AJAX 调用的所有设置的对象。这意味着您正在此对象上设置`address`和`name`属性。有两种方法可以解决这个问题。第一个`that = this`与其他答案一样。更好的方法是使用`context`AJAX 调用中的设置：

```
function website(id) {
    this.id = id; //id

    $.ajax({ //website_information
        type: "GET",
        url: '/proc.php?proc=website_name&id=' + this.id + '',
        context: this,
        success: function (data) {
            var tmp = $.parseJSON(data);
            this.address = tmp.website_address;

            this.name = tmp.website_name;
        }
    });
} 
```

这允许您自定义`this`回调内部的含义。这记录在[jQuery AJAX 文档](http://api.jquery.com/jQuery.ajax/)中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-08T11:33:44.500

`this`AJAX 回调内部可能不是指您的构造函数正在制作的“对象” 。`this`相反，我们通过将它放在另一个变量中来从外部保留它，比如 say `that`。然后我们`that`在 AJAX 回调中使用来引用我们的对象。

```
function website(id) {
    var that = this; //preserve "this"
    this.id = id;
    $.ajax({
        type: "GET",
        url: '/proc.php?proc=website_name&id=' + this.id + '',
        success: function(data){
            var tmp = $.parseJSON(data);
            that.address = tmp.website_address;  //using "that"
            that.name = tmp.website_name;        //using "that"
       }
    });
} 
```

另外，您是在盲目地打电话，`obj.alertwebsite()`因为您不知道您的网站信息（`that.address`和`that.name`）是否已加载。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-08T11:33:37.163

```
function website(id) {
    // you need to save "this"
    var self = this;
     this.id = id; //id

     $.ajax({  //website_information
      type: "GET",
      url: '/proc.php?proc=website_name&id=' + this.id + '',
      //async: false, // optionally, if you want to get it back syncronously, so the console.log after the function call will already have the data
      success: function(data){
      var tmp = $.parseJSON(data);
     // you need to use the saved "this"
     self.address = tmp.website_address;

     self.name = tmp.website_name;
      }
    });
} 
```

# java - jasper 报告 - 如何在条形码数字输出中添加星号？

> ID：10497752
> 
> 赞同：0
> 
> 时间：2012-05-08T11:30:30.693
> 
> 标签：java, xml, jasper-reports, ireport, barcode4j

我是`jrxml`使用创建`iReport`和生成条形码的`barcode4j`。

**目标：**

**输出带有星号**的数值的条形码。

看起来像下面这样。

```
||||||||||
*123456* 
```

**jrxml的条形码部分：**

```
<componentElement>
    <reportElement x="29" y="4" width="209" height="32"/>
    <jr:Code39 xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" textPosition="bottom">
        <jr:codeExpression>
            <![CDATA["*" + $P{barCode} + "*"]]>
        </jr:codeExpression>
    </jr:Code39>
</componentElement> 
```

上面的代码运行良好，除了输出条形码没有星号。

所以它看起来像：

```
|||||||||
123456 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T22:39:38.443

### 有关有效答案，请参阅 **UPDATE** 部分。

诀窍是将**extendedCharSetEnabled 属性设置为true。**

我从以下网站得到了这个想法：

[http://jasperforge.org/uploads/publish/jasperreportswebsite/trunk/components.schema.reference.html#_extendedCharSetEnabled](http://jasperforge.org/uploads/publish/jasperreportswebsite/trunk/components.schema.reference.html#_extendedCharSetEnabled)

[http://barcode4j.sourceforge.net/2.1/symbol-code39.html](http://barcode4j.sourceforge.net/2.1/symbol-code39.html)

所以整个条形码 xml 部分看起来像这样：

```
<componentElement>
   <reportElement x="29" y="4" width="209" height="32"/>
   <jr:Code39 xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components"              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" 
textPosition="bottom"
extendedCharSetEnabled="true">

       <jr:codeExpression>
           <![CDATA["*" + $P{barCode} + "*"]]>
       </jr:codeExpression>
   </jr:Code39>
</componentElement> 
```

**更新：**

由于上述解决方案将在扫描时输出包含星号的条形码。

真正的解决方案是使用**displayStartStop 属性并将其设置为 true**。并从 CDATA 区域中删除星号连接。

```
<componentElement>
       <reportElement x="29" y="4" width="209" height="32"/>
       <jr:Code39 xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components"              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" 
    textPosition="bottom"
    displayStartStop="true">

           <jr:codeExpression>
               <![CDATA[$P{barCode}]]>
           </jr:codeExpression>
       </jr:Code39>
    </componentElement> 
```

笔记：

不要将 extendedCharSetEnabled 属性与 displayStartStop 一起使用，因为不会显示星号。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T16:00:37.093

代替

```
 <![CDATA["*" + $P{barCode} + "*"]]> 
```

尝试使用

```
 <![CDATA['*'+$P{barCode}+'*']]> 
```

# php - 如何在 FOSUserBundle 中添加和管理 ROLES？

> ID：10497753
> 
> 赞同：6
> 
> 时间：2012-05-08T11:30:38.213
> 
> 标签：php, symfony, fosuserbundle

我安装了 FOSUserBundle，我想添加任何其他角色，例如 ROLE_NEW。在 sfGuardUser 中只需要做

```
$this->getUser()->addCredential('new'); 
```

在行动中，在这里？

此外，我如何（管理员）管理所有（首先管理角色）用户？在 sfGuardUser 我已经生成了默认的管理页面，这里呢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-08T16:52:40.950

默认情况下，FOSUserBundle 将角色管理为数组，但您可以为此目的使用“组”的概念。

阅读文档[https://github.com/FriendsOfSymfony/FOSUserBundle/blob/master/Resources/doc/groups.md](https://github.com/FriendsOfSymfony/FOSUserBundle/blob/master/Resources/doc/groups.md)

并阅读一些关于 FOS 捆绑包优缺点 的讨论[- 如何选择具有特定角色的用户？](https://stackoverflow.com/questions/9016914/symfony-2-fos-bundle-how-to-select-users-with-a-specific-role)

# validation - 查看助手验证

> ID：10497754
> 
> 赞同：3
> 
> 时间：2012-05-08T11:30:45.140
> 
> 标签：validation, zend-framework, view-helpers

[ZF 视图助手手册](http://framework.zend.com/manual/en/zend.view.helpers.html)

根据上面的链接，我可以像这样在视图中创建一个表单元素

```
echo $this->formText($name, $value, $attribs); 
```

但是，我将如何应用验证，或者这需要在控制器中使用验证器组件来完成吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T11:50:19.360

如果你这样做： -

```
<form action='/login'>
echo $this->formText($name, $value, $attribs);
echo $this->formSubmit($name, $value, $attribs);
</form> 
```

[然后，您将使用Zend Validate](http://framework.zend.com/manual/en/zend.validate.html)中可用的验证器在登录控制器的 indexAction 中执行验证。

使用这种方法你可能不会有一个表单对象，我不会真的推荐使用它，除非你真的不喜欢 Zend Form。

所以，基本上这只是说“是的，这需要使用验证器组件在控制器中完成”的冗长方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-14T16:09:03.440

更好的解决方案是使用完整的 Zend_Form 类来创建表单并对其进行验证。

# ruby-on-rails - 如何在设计中配置 remember_me？

> ID：10497757
> 
> 赞同：1
> 
> 时间：2012-05-08T11:31:09.557
> 
> 标签：ruby-on-rails, ruby-on-rails-3, devise

我在 Web 开发中非常新...请告诉我记住我的功能是什么我正在使用 Devise gem 进行用户身份验证，并告诉我当我检查记住我选项时已经采取了什么效果...以及如何配置记住使用设计身份验证的 me 选项

# android - 如何在任何屏幕尺寸下以不同的方式将 TextView 添加到 ScrollView 中？

> ID：10497764
> 
> 赞同：0
> 
> 时间：2012-05-08T11:31:33.827
> 
> 标签：android

我正在将 TextView 添加到 ScrollView 中。

文本视图之间的空间应该是可伸缩的。

我的意思是，如果设备很小，那么空间应该比设备更大的空间更小。

也许我应该根据它查看 ScrollView 大小蚂蚁比例 TextView 吗？

或者有一些方法是怎么做的？我正在以编程方式创建我的 TextView。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:38:00.723

您不能在滚动视图中添加多个子视图。Scrollview 不支持多个孩子。按照这个：

[http://developer.android.com/reference/android/widget/ScrollView.html](http://developer.android.com/reference/android/widget/ScrollView.html)

和

[http://developer.android.com/resources/tutorials/views/index.html](http://developer.android.com/resources/tutorials/views/index.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:50:52.013

在创建将在滚动视图中使用的所有布局内容时，您应该使用 STYLES.XML。如果您已经在样式中配置了布局的所有配置，则可以修改样式以适应不同的屏幕尺寸（好吧，每个屏幕尺寸都有一个 styles.xml 文件）。

您需要为您使用/需要的每个屏幕尺寸创建一个 values 文件夹，并将其放入带有个性化配置的 styles.xml 文件中：

```
 values  //default .In this case, it'll be used instead of the normal-size
 values-small
 values-large
 values-xlarge 
```

如果您需要更多屏幕尺寸，请查看[https://stackoverflow.com/a/10426483/1140648](https://stackoverflow.com/a/10426483/1140648)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T13:11:31.350

```
Use this code in your manifest.xml file.

This will work

<supports-screens
        android:anyDensity="true"
        android:largeScreens="true"
        android:normalScreens="true"
        android:resizeable="true"
        android:smallScreens="true" /> 
```

# haskell - 如何从haskell中的IOError中获取errno？

> ID：10497765
> 
> 赞同：4
> 
> 时间：2012-05-08T11:31:43.300
> 
> 标签：haskell, io, ghc, errno

我在 Haskell 平台上，GHC 6.12.1 作为 apt-get 安装在 Debian Squeeze 上。鉴于我需要它在与最初引发它的位置不同的线程上，我如何从 IOError 中获取底层 errno？

我需要这个的原因是因为我正在实现一个网络协议，该协议在网络上公开了实际的 errno 值。我需要重建它吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-08T11:36:22.913

`errno`在 GHC 中是[线程本地的。](http://www.haskell.org/ghc/docs/6.12.2/html/libraries/base-4.2.0.1/Foreign-C-Error.html#v%3agetErrno)您需要将 errno 捕获在一个线程中；然后将值发送`Chan`到您的侦听线程或其他通信抽象。

[值本身](http://hackage.haskell.org/trac/ghc/browser/includes/rts/storage/TSO.h?rev=9d26519c20194abc3832578a55fbe31327519eeb#L130)存储在线程[TSO 结构](http://research.microsoft.com/en-us/um/people/simonpj/papers/parallel/multicore-ghc.pdf#4.1)中。

# jquery - 隐藏孩子时触发.hide（）事件的附加函数，jQuery

> ID：10497768
> 
> 赞同：1
> 
> 时间：2012-05-08T11:31:54.140
> 
> 标签：jquery, html, tabs, hide, decorator

我像这样修改了 jQuery .hide() 函数：

```
/*
 *This chunk will help us attach other functions to the hide events
 */
var _old = $.fn.hide;
$.fn.hide = function(){
    var self = this;
    _old.apply(this,arguments).promise().done(function(){
        self.trigger("hide");
    });
    return this;
}; 
```

`.trigger('hide')`我这样做是为了在将方法附加到隐藏事件时不必使用。`.hide()`我遇到了一个小问题：如果您将方法附加到父元素的函数，那么每次隐藏子元素时似乎都会触发这些方法。请参阅此 jsfiddle 示例：http: [//jsfiddle.net/LQg7W/286/](http://jsfiddle.net/LQg7W/286/)。

我希望警报仅在我们隐藏主 div 时显示，这可以通过单击“隐藏主 div”按钮来完成。但是，如您所见，当您切换主 div 内的选项卡时会显示警报。

有谁知道我如何保持附加的方法（弹出警报）仅在隐藏（`$('#main_div')`）中的指定选择器而不是任何其他元素时触发？

非常感谢！

更新：

我对函数做了一个小过滤，以`.on('hide'..`确保触发的 ID`hide()`是我们想要的。仍然不是我正在寻找的确切解决方案（即让包装脚本做到这一点），但越来越接近：http: [//jsfiddle.net/LQg7W/296/](http://jsfiddle.net/LQg7W/296/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T12:01:54.097

这是你想要的？我避免在触发“tabMe”隐藏事件时传播事件，但在隐藏大 div 时允许传播。

[http://jsfiddle.net/LQg7W/294/](http://jsfiddle.net/LQg7W/294/)

# c# - 在 C# 中获取文件修改日期

> ID：10497769
> 
> 赞同：19
> 
> 时间：2012-05-08T11:32:03.520
> 
> 标签：c#, file

如何在 C# 中读取文件的修改日期？

我可以使用以下代码读取文件的创建日期：

```
ModifyDate = File.GetCreationTime(FilePath) 
```

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2012-05-08T11:34:36.183

[File.GetLastWriteTime](http://msdn.microsoft.com/en-us/library/system.io.file.getlastwritetime.aspx)将完成这项工作

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-05-08T11:34:44.563

我相信您正在寻找[GetLastWriteTime](http://msdn.microsoft.com/en-us/library/system.io.file.getlastwritetime.aspx)

# iphone - 仅在特定行中删除 contentview 对象？

> ID：10497772
> 
> 赞同：0
> 
> 时间：2012-05-08T11:32:20.443
> 
> 标签：iphone, ios

当我在 UItablevewcell 中添加标签时，如果它在单元格的内容视图中为 nil。如果它不是 nil，我将通过标签获取该标签而不分配。这是重用单元格的正确程序。但是当我不想要第二行中的标签时，我必须隐藏它。如何才能在不隐藏的情况下仅删除第二行中的标签。我需要在第一行中使用它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:34:51.770

例如，您可以在出列并创建它们时使用不同的单元格标识符。例如@“带标签的单元格”和@“不带标签的单元格”。

或者您可以标记此标签`label.tag = MY_INT_TAG`并搜索它`UILabel *label = [cell viewWithTag:MY_INT_TAG]`以将其从第二行的超级视图中删除。当您不想继承 UITableViewCell 时，它可以工作。

```
if (indexPath.row == 0) {
  UILabel *label = [[UILabel alloc] init];
  label.tag = TAG;
  [cell.contentView addSubview:label];
} else if (indexPath.row == 1) {
  UILabel *label = [cell.contentView viewWithTag:TAG];
  [label removeFromSuperView];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:37:08.413

当您重用没有公共元素的单元格时，最佳做法是在重用之前清除单元格子视图（所有添加的元素）。

这样您就可以根据需要每次添加元素...

你可以这样做：

```
 for(UIView *view in cell.contentView.subviews){
        [view removeFromSuperview];
    } 
```

或者如果你想更花哨：

```
 [cell.contentView.subviews makeObjectsPerformSelector:@selector(removeFromSuperview)]; 
```

当然，如果您只想清除特定行中的 1 个特定元素，则必须在将元素添加到单元格的内容视图时为其分配一个唯一标签，然后通过其标签值访问它来删除它：

将其添加到单元格中：

```
UIImageView *rightArrow = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"arrow.png"]];
rightArrow.tag = 111;
rightArrow.frame = CGRectMake(290, 16, 4, 8);
[cell.contentView addSubview:rightArrow]; 
```

从第 2 行的视图中删除它：

```
if (indexpath.row == 2) {
    UIImageView *rightArrow = (UIImageView *)[cell.contentView viewWithTag:111];
    if (rightArrow)
      [rightArrow removeFromSuperView]; 
```

}

# android - 使用 Jenkins 构建 Android 应用

> ID：10497775
> 
> 赞同：1
> 
> 时间：2012-05-08T11:32:33.363
> 
> 标签：android, ant, jenkins, keystore

最近我设置了一个 Jenkins 实例来构建移动应用程序，iOS 构建工作正常，但是 ATM，我仍然遇到 Android 配置问题。

詹金斯告诉我：

```
java.io.FileNotFoundException: /var/root/.android/debug.keystore (Permission denied)" 
```

我的计划是将 debug.keystore 复制到 Jenkins 可以读取它的其他位置，但我不确定我可以在哪里设置目录（Jenkins，build.xml）？

谢谢和问候， 萨沙

# java - java.library.path 错误

> ID：10497781
> 
> 赞同：0
> 
> 时间：2012-05-08T11:32:50.817
> 
> 标签：java, ocr

请帮助我：使用 j4lOCR 时出现错误：

```
 `A fatal error has been detected by the Java Runtime Environment:

  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x1006dc21, pid=3488, tid=2576

 JRE version: 7.0_02-b13
 Java VM: Java HotSpot(TM) Client VM (22.0-b10 mixed mode, sharing windows-x86 )
 Problematic frame:
 C  [tess3Wrapper.dll+0x6dc21]

 Failed to write core dump. Minidumps are not enabled by default on client versions of Windows

 An error report file with more information is saved as:
 C:\Azaz-2012\OCR\hs_err_pid3488.log

 If you would like to submit a bug report, please visit:
   http://bugreport.sun.com/bugreport/crash.jsp
 The crash happened outside the Java Virtual Machine in native code.
 See problematic frame for where to report the bug.
'
actual_tessdata_num_entries_ <= TESSDATA_NUM_ENTRIES:Error:Assert failed:in file .\tessdatamanager.cpp, line 55
Java Result: 1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:48:37.627

发生错误是因为 C++ 代码引发了异常。Java 不能“包装”那些。

抛出异常是因为违反了以下断言：

```
actual_tessdata_num_entries_ <= TESSDATA_NUM_ENTRIES 
```

该常量在[tessdatamanager.h](https://code.google.com/p/tesseract-ocr/source/browse/tags/release-3.01/ccutil/tessdatamanager.h)中定义。它与您需要的数据文件有关。确保您使用的数据文件与您的 tesseract 版本匹配。

# c# - C# 从目录结构构建菜单

> ID：10497796
> 
> 赞同：1
> 
> 时间：2012-05-08T11:34:01.243
> 
> 标签：c#, winforms

我目前有以下问题。我有一个像这样的目录结构

```
根
 - 1级
   - 1.1级
     - 1.2级
 - 2级
   - 2.1级
 - 3级
 - 4级
   - 4.1级

```

从这里我想建立一个菜单。所以 root 将是要单击的菜单项，并且需要所有级别来深入了解您想要获取的信息。

由于我对 C# 很陌生（不是编程），所以我想知道 .NET 是否对这项任务有任何帮助。我不想开始摆弄已经存在的代码......

感谢您的任何意见！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:56:39.153

您可以使用[DirectoryInfo](http://msdn.microsoft.com/en-us/library/system.io.directoryinfo.aspx)类来获取给定根文件夹的所有子目录的列表。您应该对子目录执行递归搜索并使用该数据构建菜单。

下面是一些可以为您完成这项工作的代码，它假设您已经有一个名为 menuStrip1 的 MenuStrip：

```
public void BuildMenu()
{
    //first we get the DirectoryInfo for your root folder, this will be used to find the first set of sub-directories
    DirectoryInfo dir = new DirectoryInfo(@"C:\MyRootFolder\");//Change this

    //next we create the first MenuItem to represent the root folder, this is created using the GetMenuItem function
    ToolStripMenuItem root = GetMenuItem(dir);

    //we add our new root MenuItem to our MenuStrip control, at this point all sub-menu items will have been added using our recursive function
    menuStrip1.Items.Add(root);
}

public ToolStripMenuItem GetMenuItem(DirectoryInfo directory)
{
    //first we create the MenuItem that will be return for this directory
    ToolStripMenuItem item = new ToolStripMenuItem(directory.Name);

    //next we loop all sub-directory of the current to build all child menu items
    foreach (DirectoryInfo dir in directory.GetDirectories())
    {
        item.DropDownItems.Add(GetMenuItem(dir));
    }

    //finally we return the populated menu item
    return item;
} 
```

不要忘记更改根文件夹路径！

* * *

**注意**：Yorye Nathan 对快捷文件夹提出了很好的观点。如果您的任何文件夹是到父文件夹的快捷方式，这将导致无限循环。解决此问题的最简单方法是确保您的结构不包含任何快捷方式。假设您为此应用程序专门构建了结构，这对您来说可能是一个简单的选择。但是，如果您在用户定义的根文件夹上运行它，您将需要检查这些。

假设 .Net 3.5 或更高版本（LINQ + 可选参数），您可以如下修改`GetMenuItem`函数以解决此问题：

```
public ToolStripMenuItem GetMenuItem(DirectoryInfo directory, List<DirectoryInfo> currentFolders = null)
{
    if (currentFolders == null)
        currentFolders = new List<DirectoryInfo>();

    currentFolders.Add(directory);

    ToolStripMenuItem item = new ToolStripMenuItem(directory.Name);

    foreach (DirectoryInfo dir in directory.GetDirectories())
    {
        if (!currentFolders.Any(x => x.FullName == dir.FullName))//check to see if we already processed this folder (i.e. a unwanted shortcut)
        {
            item.DropDownItems.Add(GetMenuItem(dir, currentFolders));
        }
    }

    return item;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T12:06:42.097

**已编辑**现在支持递归文件夹（忽略以防止无限循环）

```
public static MenuStrip CreateMenu(string rootDirectoryPath)
{
    var dir = new DirectoryInfo(rootDirectoryPath);

    var menu = new MenuStrip();
    var root = new ToolStripMenuItem(dir.Name);

    var includedDirs = new List<string> {dir};

    menu.Items.Add(root);

    AddItems(root, dir, includedDirs);

    return menu;
}

private static void AddItems(ToolStripDropDownItem parent, DirectoryInfo dir, ICollection<string> includedDirs)
{
    foreach (var subDir in dir.GetDirectories().Where(subDir => !includedDirs.Contains(subDir.FullName)))
    {
        includedDirs.Add(subDir.FullName);
        AddItems((ToolStripMenuItem)parent.DropDownItems.Add(subDir.Name), subDir, includedDirs);
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:59:19.960

[http://msdn.microsoft.com/en-us/library/bb513869.aspx](http://msdn.microsoft.com/en-us/library/bb513869.aspx)

[http://www.stillhq.com/dotnet/000003.html](http://www.stillhq.com/dotnet/000003.html)

[http://www.codeproject.com/Articles/11599/Recursive-function-to-read-a-directory-structure](http://www.codeproject.com/Articles/11599/Recursive-function-to-read-a-directory-structure)

# c# - 我可以在 C# 中动态生成 linq 表达式吗？

> ID：10497801
> 
> 赞同：2
> 
> 时间：2012-05-08T11:34:14.717
> 
> 标签：c#, linq, lambda

我目前有一块看起来像这样的 Linq；

```
List<dynamic> childrenToBeRemoved = this.ItemsSource.Where(o => o.ParentID == "1234").ToList(); 
```

其中 ItemsSource 是动态的 ObservableCollection。

这很好用，但我遇到的问题是 ParentID 是一个可以变化的属性。例如，它可以命名为 ParentPkey 或 ParentKey 等。

我可以创建一个表达式来指定我想在比较中使用的属性吗？

我尝试过使用动态 linq，但它不能使用动态集合，但可以很好地与 pocos 集合一起使用。

谢谢...

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-08T11:44:07.817

为什么要使实现本身动态化？您可以简单地进行动态调用！

```
IEnumerable<MyItem> result;
if (condition1)
{
    result = this.Items.Where(arg => arg.ProductId == "123");
}
else if (condition2)
{
    result = this.Items.Where(arg => arg.ProductPK == "123");
} 
```

或者

```
Func<Item, bool> predicate;
if (condition1)
{
    predicate = item => item.ProductId == "123";
}
else if (condition2)
{
    predicate = item => item.ProductPK == "123";
}
var result = this.Items.Where(predicate); 
```

Sooo ...我相信您应该告诉我们更多有关您的实际问题的信息-我认为当前不需要实施某事-所以，我相信您的要求定义不明确！

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-05-08T11:52:28.780

查询是否为动态 linq 无关紧要

```
Expression<Func<Entity, int>> predicate = x => x.Id == myvalue;
from entity in _context.Entities.Where(predicate)
select entity; 
```

查看 LinkKit 的 PredicateBuilder @ [http://www.albahari.com/nutshell/linqkit.aspx](http://www.albahari.com/nutshell/linqkit.aspx) 那里也有足够的例子

将表达式转换为相应 sql 的责任在于 linq 提供程序，因此请确保您使用的提供程序支持相关方面

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:41:28.530

如果您知道物品的类型，则可以使用反射：

```
PropertyInfo parentProp = itemType.GetProperty("ParentKey or whatever");
List<dynamic> childrenToBeRemoved = this.ItemsSource.Where(o => Equals("1234", parentProp.GetValue(o, null))).ToList(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-08T11:36:43.203

将您的 linq 表达式放入函数中，并将此属性作为参数传入。

# android - 如何控制 ImageSwitcher Android 中的过渡持续时间

> ID：10497809
> 
> 赞同：2
> 
> 时间：2012-05-08T11:34:53.797
> 
> 标签：android, timer, slideshow, android-image, imageswitcher

我有一个 ImageSwitcher，我正在使用它来创建幻灯片。我可以控制图像显示的持续时间，但如何控制图像之间过渡的持续时间。我想增加该持续时间，因为上一张图像的 outAnimation 和下一张图像的 inAnimation 看起来像是合并了，看起来不太好。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T11:59:01.680

为 ImageSwitcher 定义自定义进出动画：

```
ImageSwitcher imageSwitcher = (ImageSwitcher) findViewById(R.id.ImageSwitcher);
imageSwitcher.setInAnimation(AnimationUtils.loadAnimation(this,
    R.anim.custom_fade_in));
imageSwitcher.setOutAnimation(AnimationUtils.loadAnimation(this,
    R.anim.custom_fade_out)); 
```

并在您的动画 xmls 中设置您的持续时间：

```
<?xml version="1.0" encoding="UTF-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android">
    <translate
    ....
    android:duration="1000"/>
</set> 
```

# iphone - 无法将数据插入到我的 sqlite3 数据库中。（IPhone）

> ID：10497813
> 
> 赞同：0
> 
> 时间：2012-05-08T11:35:00.833
> 
> 标签：iphone, database, sqlite, insert

我在将一些数据写入我的 sqlite3 数据库时遇到问题。问题是，在应用程序在模拟器上运行期间，在 INSERT 之后，我通过 SELECT 对其进行检查，并且能够在数据库中看到我的新数据。但是在切换应用程序后，我丢失了我的数据。我认为我没有法律可以在此文件上写下数据，但我检查了它并且我拥有它。

当我在我的设备上工作时，我可以看到我的数据库中的数据，但是当我使用 INSERT 时没有任何反应。

有没有人有同样的问题？有人可以帮我解决这个问题吗？

听到的是 INSERT 的代码

```
NSString *insertStatement = [NSString stringWithFormat:@"INSERT INTO person (uniqueId, idn, heartP, sugar, data) VALUES (\"%i\", \"%@\", \"%@\", \"%@\", \"%@\");", uniqueIds, idns, heartPs, sugars, datas];

if(sqlite3_exec(database, [insertStatement UTF8String],NULL ,NULL ,nil)==SQLITE_OK){

    NSLog(@"well done");
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T20:22:19.480

即使您对该文件具有写入权限，您也无法写入您的应用程序包。您需要将文件移动到 Library、Documents 或 tmp 目录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:30:06.100

尝试这个，

```
sqlite3_stmt    *statement;
NSString *insertStatement = [NSString stringWithFormat:@"INSERT INTO person (uniqueId, idn, heartP, sugar, data) VALUES (\"%i\", \"%@\", \"%@\", \"%@\", \"%@\");", uniqueIds, idns, heartPs, sugars, datas];

sqlite3_prepare_v2(database, [insertStatement UTF8String],-1, &selectstmt, NULL);

       if(sqlite3_step(selectstmt)==SQLITE_DONE)
        {
            NSLog(@"insert successfully");
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:49:29.657

我认为您的数据库没有复制到文档目录中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-08T11:57:05.790

请检查此代码并检查您犯了什么错误。我正在使用此代码，只有这对我有用。

```
sqlite3_stmt    *statement;

const char *dbpath = [databasePath UTF8String];

if (sqlite3_open(dbpath, &adddata) == SQLITE_OK)
{
    // NSLog(@"open");
    NSString *insertSQL = [NSString stringWithFormat: @"INSERT INTO contacts(FirstName,LastName,Company,Mobile,Home,Url,Street,City,State,Zip,Prefix,Suffix,Middle,JobTitle,Birthday,Note) VALUES (\"%@\",\"%@\",\"%@\",\"%@\",\"%@\",\"%@\",\"%@\",\"%@\",\"%@\",\"%@\",\"%@\",\"%@\",\"%@\",\"%@\",\"%@\",\"%@\")", firstName.text,lastName.text,companyName.text,mobileNumber.text,homeNumber.text,homeUrl.text,street.text,city.text,state.text,zip.text,prefix.text,suffix.text,middle.text,jobTitle.text,birthday.text,note.text];

    const char *insert_stmt = [insertSQL UTF8String];

    int c=sqlite3_prepare_v2(adddata, insert_stmt, -1, &statement, NULL);
    NSLog(@"%d",c);
    if (sqlite3_step(statement)==SQLITE_DONE)
    {
        alert=[[UIAlertView alloc]initWithTitle:@"alert" message:@"Data is added" delegate:self cancelButtonTitle:@"cancel" otherButtonTitles:@"ok", nil];
        [alert show];
        NSLog(@"%@",insertSQL);
        firstName.text = @"";

    } 
    else 
    {
        alert=[[UIAlertView alloc]initWithTitle:@"alert" message:@"Data is not added" delegate:self cancelButtonTitle:@"cancel" otherButtonTitles:@"ok", nil];
        [alert show];                 
    }
    sqlite3_finalize(statement);
    sqlite3_close(adddata);
} 
```

# c# - 在项目中使用 C# 中的用户控件

> ID：10497820
> 
> 赞同：0
> 
> 时间：2012-05-08T11:35:29.880
> 
> 标签：c#

我有一个表单应用程序，我确实想要一个单独的项目用于我的一个自定义控件，我需要在我的应用程序的 2 个不同位置使用它。

我在同一个项目中创建了一个用户控件，但我不知道如何在程序中使用它。即使我拖动它，它也不会显示在工具箱中，它会显示放置光标，但随后什么也没有发生。我必须手动使用它吗？或者，还有更好的方法。

请帮忙。

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T11:39:00.533

在**Tools -> Options**的“Windows 窗体设计器”部分下，确保**AutoToolboxPopulate**是`True`- 然后工具箱应自动填充当前解决方案中所有项目的所有用户控件。

# php - 画廊 图片 想法

> ID：10497821
> 
> 赞同：0
> 
> 时间：2012-05-08T11:35:33.810
> 
> 标签：php, http, seo

由于多个请求会减慢站点的加载速度，因此我在想，在画廊的情况下，包含所有缩略图的大图像会比加载单个缩略图更好吗？

然后，大图像将使用 PHP 来“切碎”缩略图并将它们放置在页面上的相关位置。

我主要担心的是这会对 SEO 产生负面影响吗？因为 Google 只会看到一个大图像文件，而不是许多较小的图像文件。解决这个问题的方法是将所有缩略图的 src 设置为重定向到处理缩略图生成的脚本，其中图像文件名是指该图像的一组特定坐标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T12:04:51.800

根据经验；对于使用图像精灵的按钮/图标/东西（一张大图像组合所有图像，使用 css 仅显示特定坐标之间的一部分），对于“真实”内容图像，只需使用单独的图像。

这有几个原因；图标、按钮等是有时出现在您网站的每个页面上并且经常在同一页面上多次出现的图像。因此，将它们组合起来非常有用，例如 ie。启动一个新的http连接来下载一个1kb（或更少）的图标确实效率很低，想象一下如果你使用数百会发生什么。此外，这种类型的图像对于您的 seo 排名根本不重要，只对您网站的外观（但谷歌不在乎您的网站是丑陋的地狱还是美丽的公主）

但另一方面，“内容”图像，例如缩略图、假期或棒球比赛的照片，通常大到足以排除效率部分。正如您在 chrome 开发人员工具或 firebug 中看到的，浏览器将同时开始下载所有图像。所以下载一张图片和下载一百张图片一样快。但是如果你合并一百张图片，下载会比较慢，因为你必须在一张图片中下载更多的数据。相比下; 通过一根软管推动 2 加仑水比通过 10 根软管推动相同的 2 加仑水需要更长的时间。（当然这个比喻有它的漏洞，但它说明了我的观点）。但更重要的是；google 读取 img 标签并使用文件名（src），标题和（不太重要的）alt 属性来确定您的图像应该如何与您的 seo 排名相关联。图片确实对您的 seo 排名有相关影响！但谷歌也知道它是否是*显示相同*的图像，或显示不同的图像，因此精灵在这里对您没有帮助。一个脚本，带有参数说明必须加载图像的哪一部分根本不会帮助您，我相信如果您仔细考虑一下，您可以找出原因；）

所以不要为合并缩略图之类的东西而烦恼。如果您想提高速度，请将注意力转移到缓存和加速传输上。一些非常简单的改进可以通过使用例如 gzip 压缩（google .htaccess gzip）、适当的缓存头等来实现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:49:02.843

你说得对，下载一张大图像并从那里获取所有图像总是更好，我猜你的意思是 javascript 与切掉的东西，因为你必须在客户端这样做。这在性能方面是一个非常好的主意，很多网站都这样做。另一个想法是使用较小的图像并在客户端调整它们的大小。请注意调整大小不会影响图像的分辨率。

我不太确定这对 SEO 是否有负面影响，据我所知，谷歌不执行任何 javascript 函数，因此可以解决，我认为它不会起作用。但老实说，我对此不太确定，在我上一份工作中，我们从未将图像视为对 SEO 的重大影响。

# android - Facebook API 是否可以返回每个朋友注册的应用程序集（通过 Facebook Connect 连接）

> ID：10497824
> 
> 赞同：2
> 
> 时间：2012-05-08T11:36:02.143
> 
> 标签：android, facebook

哪个 Facebook API 可以返回每个朋友注册的应用程序/游戏集？（通过 Facebook Connect 连接。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:45:35.537

除非您是您感兴趣的每个应用程序的管理员，否则无法获取该信息。

如果您是管理员，您可以使用一些 FQL 来检查用户是否已连接到该应用程序

编辑 - 这是 fql "SELECT is_app_user FROM user WHERE uid=$fbu"

# php - 在查询中分隔 CSV 导入字段

> ID：10497828
> 
> 赞同：0
> 
> 时间：2012-05-08T11:36:12.030
> 
> 标签：php, mysql, csv

我会将 csv 加载到 MySQL 并管理单个字段。原始代码自动上传内容`VALUES('','$linemysql');`。如何分隔字段？我会这样的查询：

```
$sql = "INSERT IGNORE INTO `database`.`table` (`field1`,field2`, `field3`, `field4`, `field5`) VALUES(`csvfield1`,csvfield2`, `csvfield3`, `csvfield4`, `csvfield5`);"; 
```

这是因为我可以管理将包含哪一行

```
$lines = 0;
$queries = "";
$linearray = array();

$allLines = split($lineseparator,$csvcontent);
array_shift($allLines); // removes the 1st element

foreach($allLines as $line) {

$lines++;

$line = trim($line," \t");

$line = str_replace("\r","",$line);

/************************************
This line escapes the special character. remove it if entries are already escaped in the csv file
************************************/
$line = str_replace("'","\'",$line);
/*************************************/

$linearray = explode($fieldseparator,$line);

$linemysql = implode("','",$linearray);

if($addauto)

/* Change This query VALUES('','$linemysql'); */

    $query = "INSERT IGNORE INTO `database`.`table` (`field1`,field2`, `field3`, `field4`, `field5`) VALUES('','$linemysql');";

else
    $query = "insert into $databasetable values('$linemysql');";

$queries .= $query . "\n"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:37:48.723

使用 PHP 的内置 CSV 功能，包括[`fgetcsv()`](http://us3.php.net/manual/en/function.fgetcsv.php). 从文档：

```
<?php
$row = 1;
if (($handle = fopen("test.csv", "r")) !== FALSE) {
    while (($data = fgetcsv($handle, 1000, ",")) !== FALSE) {
        $num = count($data);
        echo "<p> $num fields in line $row: <br /></p>\n";
        $row++;
        for ($c=0; $c < $num; $c++) {
            echo $data[$c] . "<br />\n";
        }
    }
    fclose($handle);
}
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:40:51.487

您可以像这样修改您的查询

```
$query = "INSERT IGNORE INTO `database`.`table` (`field1`,field2`, `field3`, `field4`, `field5`) VALUES("'.$linemysql[0].'","'.$linemysql[1].'","'.$linemysql[2].'","'.$linemysql[3].'","'.$linemysql[4].'");"; 
```

谢谢

# xcode - 如何像这样的 InterfaceBuilder 设置自动调整标签大小？

> ID：10497834
> 
> 赞同：2
> 
> 时间：2012-05-08T11:36:30.957
> 
> 标签：xcode, interface-builder, width, uilabel, autosize

我想以编程方式设置 uilabel 的自动大小设置。
我想要与我设置的界面生成器设置完全相同的设置，请参见此处：

[http://imageshack.us/photo/my-images/545/bildschirmfoto20120508u.png/](http://imageshack.us/photo/my-images/545/bildschirmfoto20120508u.png/)

那么如何以编程方式设置它？我想要全宽。

我试过了：

```
titleLabel.autoresizingMask = UIViewAutoresizingFlexibleWidth; 
```

但是当我使用它时，我的标签很奇怪（在纵向模式下是宽度 0，在横向模式下大约是 100）。

那怎么办？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-08T11:53:28.450

从我看到你想要全宽但灵活的底部，所以你应该使用这个自动调整掩码值：

```
titleLabel.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleRightMargin | UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleTopMargin; 
```

# c++ - 在 Eclipse 中为“链接”命令添加引号

> ID：10497838
> 
> 赞同：0
> 
> 时间：2012-05-08T11:36:54.583
> 
> 标签：c++, eclipse, linker

我一直在使用 VS10 来构建一个 dll，但我想证明它也可以在 Eclipse 中完成。

Eclipse 中的明显症状是链接器失败并出现以下问题：

```
LINK : fatal error LNK1104: cannot open file 'C:\Program.obj' 
```

这大概是因为有些东西没有保护 C:\Program Files(x86)... 参数中的空格，我有几个。

我可以通过将命令复制到 CMD 提示符并手动在包含空格的参数周围加上引号来运行命令，所以我 99.9% 确定问题是 Eclipse 没有在这些参数周围加上引号。*工作*命令是：

```
link /DLL /debug /nologo /OUT:PIDExternalController.dll main.obj C:\Opt\Bladed\Main\Test\Code\ExternalController\Debug\ExternalControllerApi.lib "C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\lib\delayimp.lib" "C:\Program Files (x86)\Microsoft SDKs\Windows\v7.0A\Lib\Kernel32.Lib" "C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\lib\oldnames.lib" "C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\lib\msvcrt.lib" 
```

Eclipse 的命令回显是相同的，但没有引号（尽管这不一定证明什么，因为编译器回显没有显示它实际上使用的引号）。

我找不到任何选项或合法机制来让 Eclipse 在其对链接器的调用周围加上引号 - 但这*必须*是一个常见的要求。我错过了什么明显的东西吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-23T15:37:10.180

在 Eclipse > Project > Properties > Paths and Symbols > Libraries 选项卡中，将库的路径括在单引号中：

```
'C:\Program Files (x86)\Microsoft SDKs\Windows\v7.0A\Lib\Kernel32.Lib' 
```

会有一条警告说该路径不存在，但在您重建项目后它应该会消失。

# amazon-ec2 - 是否可以更改 AWS 控制台中显示的 EC2 实例密钥名称？

> ID：10497842
> 
> 赞同：3
> 
> 时间：2012-05-08T11:37:14.300
> 
> 标签：amazon-ec2, amazon-web-services

我通过从控制台创建一个新密钥更改了用于 SSH 访问 EC2 实例的 AWS 密钥，然后将公钥值添加到 authorized_key 文件中，该文件按预期工作。

但是，在 AWS 控制台中，它仍将旧密钥名称显示为该实例的密钥。无论如何，从长远来看会是问题吗？如何将旧密钥名称更改为新创建的密钥名称？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T12:31:44.190

您无法更改[Amazon EC2](http://aws.amazon.com/ec2/)实例的初始密钥名称，如[AWS 管理控制台](http://aws.amazon.com/console/)中所示。

但是，正如您已经探索过的，为日常使用添加另一个密钥不是问题，从长远来看也不会成为问题；实际上，您也可以通过 AWS 管理控制台删除以前的密钥对，而对您已经创建的实例的影响为零，有关该主题的更多详细信息，请参阅 Eric Hammond[对删除密钥对在 ec2 实例上的后果的回答。](https://serverfault.com/a/382137/10305)

# php - 如何使用 php 删除 Facebook 应用程序请求

> ID：10497846
> 
> 赞同：-1
> 
> 时间：2012-05-08T11:37:29.013
> 
> 标签：php, facebook, facebook-graph-api, facebook-php-sdk

我们如何使用 php 删除 facebook 应用程序请求？

目前我正在使用以下代码：

```
$facebook->api("/$req_id", "DELETE"); 
```

但我收到以下异常：

OAuthException (#803) 找不到指定的对象

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T12:15:59.033

根据[请求文档的](http://developers.facebook.com/docs/requests)[删除请求](http://developers.facebook.com/docs/requests/#deleting)部分，您应该执行以下操作：

```
$facebook->api("/$REQID_USERID", "DELETE"); 
```

请注意，发送的 id 具有请求 id 的形式，然后是“_”，然后是用户 id。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T13:10:30.457

你也可以这样做

```
$ids = explode(",",$_REQUEST['request_ids']);

foreach ($ids as $id) {
    $delete_url = "https://graph.facebook.com/" . $id . "_" . $user . "?" . $access_token . "&method=delete";
    $result = file_get_contents($delete_url); 
} 
```

希望这可以帮助

# android - 将图像保存到 Web 服务器（字节数组）

> ID：10497847
> 
> 赞同：0
> 
> 时间：2012-05-08T11:37:32.757
> 
> 标签：android, android-image

我想以字节数组的形式将图像上传到服务器。这里我使用表面视图和“拍照”按钮，当用户单击拍照按钮时，然后

```
 TakePicture.setOnClickListener(new OnClickListener() {

    public void onClick(View v) {
        // TODO Auto-generated method stub
        camera.takePicture(null, null, callback);
    }
}); 
```

和图片回调是：

```
 PictureCallback callback = new PictureCallback(){

 public void onPictureTaken(**byte[] data**, Camera camera) {
  // TODO Auto-generated method stub

     try {
            //async task for storing the photo
         Log.i("Picture Taken.", "Picture Taken.");

            new SavePhotoTask(CameraPreviewActivity.this, data).execute();
        } catch (final Exception e) {
            //some exceptionhandling
            Log.i("Save Photo exception",e.getMessage());
        } 
```

}}; 现在我在这里使用这个字节数组“数据”

我想以字节 [] 的形式将此图像发送到网络服务器..

我该怎么办？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:41:44.007

将字节数组转换为base64

```
String encodedImage = Base64.encodeToString(byteArrayImage, Base64.DEFAULT); 
```

也看到[这个链接](http://androidcodemonkey.blogspot.com/2010/03/how-to-base64-encode-decode-android.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:42:56.133

1）发送相机意图

```
public void onCameraClick(View view) {
    Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
    imageFile = FileUtil.newFile();
    intent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(imageFile));
    startActivityForResult(intent, CAPTURE_IMAGE_ACTIVITY_REQUEST_CODE);
} 
```

2）当图片准备好时获取文件路径，从文件中读取字节并将字节发送到服务器。

```
 @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    if (requestCode == CAPTURE_IMAGE_ACTIVITY_REQUEST_CODE && resultCode == RESULT_OK){
            if (resultCode == RESULT_OK) {
                final String path = imageFile.getAbsolutePath();
// get file from path and send bytes to server
            }
        }
    } 
```

# c# - 使用 HttpWebRequest.BeginGetResponse 的最佳超时方法

> ID：10497853
> 
> 赞同：4
> 
> 时间：2012-05-08T11:37:56.137
> 
> 标签：c#, asynchronous, httpwebrequest, timeout, waithandle

HttpWebRequest.BeginGetResponse 不尊重 HttpWebRequest（Timeout 或 ReadWriteTimeout）中的任何 Timeout 属性。

我阅读了一些方法来获得相同的结果，但我不知道这是否是最好的方法，我是否应该使用几个调用或者我可以在循环内缩放它（我正在做一个网络爬虫）。

重要的是，最初我的代码不是异步的，我只需要异步，因为我的方法应该接受 CancellationToken。

我关心的是 WaitHandles 和 ThreadPool.RegisterWaitForSingleObject。这不是日常代码，那么我不知道在不久的将来我是否会遇到问题。

```
private static void HandleCancellation(HttpWebRequest request, IAsyncResult getResponseResult, CancellationToken cancellationToken)
{
    using (WaitHandle requestHandle = getResponseResult.AsyncWaitHandle)
    {
        ThreadPool.RegisterWaitForSingleObject(requestHandle, TimeoutCallback, request, request.Timeout, true);

        //If request finish or cancellation is called
        WaitHandle.WaitAny(new[] {requestHandle, cancellationToken.WaitHandle});
    }

    //If cancellation was called
    if (cancellationToken.IsCancellationRequested)
    {
        request.Abort();
        cancellationToken.ThrowIfCancellationRequested();
    }
} 
```

调用（同样，它不是异步的）

```
IAsyncResult getResponseResult = request.BeginGetResponse(null, null);

HandleCancellation(request, getResponseResult, cancellationToken);

return (HttpWebResponse)request.EndGetResponse(getResponseResult); 
```

参考：[管理多个 WebRequest 的更好方法](https://stackoverflow.com/questions/6720113/better-approach-in-management-of-multiple-webrequest)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-10T03:51:56.833

[BeginGetResponse](http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.begingetresponse.aspx)的 MSDN 文档有一个很好的示例来说明如何处理超时。它在我的网络爬虫中对我来说非常有效。

# android - 只有创建视图层次结构的原始线程才能接触其视图

> ID：10497854
> 
> 赞同：0
> 
> 时间：2012-05-08T11:37:57.900
> 
> 标签：android, progressdialog

我在某些活动中添加进度对话框。但我在标题中提到异常。如何解决它。

```
dialog = ProgressDialog.show(Notification.this, "loading please wait",                
"Loading. Please wait...", true);

new Thread() {
 public void run() {
   try{
     performBackgroundProcess1();
     //sleep(3000,000);
   } catch (Exception e) {
     Log.e("tag", e.getMessage());
 }

 // dismiss the progress dialog
     dialog.dismiss();
  }
}.start(); 
```

this.all 的任何问题都在 performbackgroundprocess 方法中执行后台进程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:39:36.143

你不能打电话 dialog.dismiss(); 在后台线程中。您可以让线程在完成后向处理程序发送消息，并且在处理程序中您可以关闭对话框。处理程序在 ui 线程中工作

有一个关于它的[教程](http://www.helloandroid.com/tutorials/using-threads-and-progressdialog)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T12:02:06.390

使用 runOnUiThread 作为：

```
 new Thread() {
     public void run() {
       try{
         performBackgroundProcess1();
         //sleep(3000,000);
       } catch (Exception e) {
         Log.e("tag", e.getMessage());
     }

// dismiss the progress dialog
      CurrentActivity.this.runOnUiThread(new Runnable(){  
    @Override  
    public void run() {  
    // TODO Auto-generated method stub  
    dialog.dismiss();  
    }  
    });    
      }
    }.start(); 
```

# maven - Maven java.io.FileNotFoundException

> ID：10497856
> 
> 赞同：0
> 
> 时间：2012-05-08T11:38:04.823
> 
> 标签：maven, filenotfoundexception

我正在用 Maven 开发一个项目。在发送电子邮件的类中，在运行和开发模式下，我收到以下错误：Caused by: java.io.FileNotFoundException: jQuery/images/logo.png (Ficheiro ou directory inexistente) ==> translation = File or找不到目录。

我尝试了很多路径，例如“./jQuery/images/logo.png”、“/jQuery/images/logo.png”等。完整的相对路径是：“src/main/webapp/jQuery/images/logo.png”。

在“target”文件夹中，路径是“project-1.0-SNAPSHOT/jQuery/images/logo.png”。里面的war文件，是“jQuery/images/logo.png”。

我认为这并不重要，但我使用 NetBeans 7.1.1 作为 IDE。

发现运行时返回的绝对路径是“/home/user/apache-tomcat-7.0.22/bin/jQuery/images/logo.png”！...不是项目路径！

如何在 Maven 项目中获取 webapp 文件夹中的文件和 Java 类的后代？

代码是：

```
MimeBodyPart attachmentPart = null;
        FileDataSource fileDataSource = null;
        for (File a : attachments) {
            System.out.println(a.getAbsolutePath());

            attachmentPart = new MimeBodyPart();
            fileDataSource = new FileDataSource(a) {

                @Override
                public String getContentType() {
                    return "application/octet-stream";
                }
            };
            attachmentPart.setDataHandler(new DataHandler(fileDataSource));
            attachmentPart.setFileName(fileDataSource.getName());

            multipart.addBodyPart(attachmentPart);
        }

        msg.setContent(multipart);
        msg.saveChanges();

        Transport transport = session.getTransport("smtp");
        transport.connect(host, from, "password");
        transport.sendMessage(msg, msg.getAllRecipients()); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T12:10:10.707

这条路`.../apache-tomcat-7.0.22/bin/jQuery/...`真的很奇怪。`bin`包含 Tomcat 的脚本，它不应包含任何代码或与您的应用程序相关的任何资源。即使您在上下文中部署您的应用程序`/bin`，资源最终也会在``.../apache-tomcat-7.0.22/webapps/bin/...`

这看起来像是在早期部署中犯的一个错误。

现在回到你的问题。要获取 Web 应用程序的资源路径，请使用以下代码：

```
String absolutePath = getServletContext().getRealPath("/jQuery/images/logo.png"); 
```

（[文档](http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html#getRealPath%28java.lang.String%29)）

# objective-c - 指定初始化器和传递参数

> ID：10497876
> 
> 赞同：0
> 
> 时间：2012-05-08T11:39:19.833
> 
> 标签：objective-c, ios, designated-initializer

我有这个层次结构：

```
CreateAnObjectClass : NSObject

MySecondClass : MyBaseClass
    MyBaseClass : NSObject 
```

在 CreateAnObjectClass 中，我想创建一个 MySecondClass 方法的实例，并且我想将 a 传递`@property (strong,nonatomic) NSDictionary* myTemplate`给 myBaseClass。

例如：

```
CreateAnObjectClass *testObj = [[MySecondClass alloc] initWithTemplate:myTemplate]; 
```

而且我知道从 MyBaseClass 和 MySecondClass 调用这两个初始化程序。

```
(id)initWithTemplate:(NSDictionary*)myTemplate
{
  self = [super init]

  return self;
} 
```

我的问题是我应该如何将 myTamplate 的初始化程序设计为 MyBaseClass 的属性？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:51:56.410

像这样：

```
- (id)initWithTemplate:(NSDictionary*)aTemplate
{
  self = [super init]
  if (self){
    self.myTemplate=aTemplate;
  }
  return self;
} 
```

**编辑1：**

请记住以下内容，称之为：

```
 self = [super init]; 
```

上会`MySecondClass` **调用init方法**`MyBaseClass`

# php - “创建于和更新于”数据库属性的定义

> ID：10497877
> 
> 赞同：2
> 
> 时间：2012-05-08T11:39:22.593
> 
> 标签：php, mysql, magento

我试图弄清楚在自定义 Magento 数据库表中定义 Created At 和 Updated At 字段的最佳方法是什么。

我想要以下功能。

当插入新行时，“Created At”属性自动赋予 CURRENT_TIMESTAMP 值，“Updated at”属性被分配 NULL。

更新行时，“创建时间”属性不会更改，并且“更新时间”属性会自动更新为 CURRENT_TIMESTAMP。

到目前为止，我有：

```
CREATE TABLE `instances` (
`instance_id` int(11) unsigned NOT NULL auto_increment,
`created_at` timestamp NOT NULL default CURRENT_TIMESTAMP,
`updated_at` timestamp NULL on update CURRENT_TIMESTAMP,
PRIMARY KEY  (`instance_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 
```

失败：#1293 - 表定义不正确；在 DEFAULT 或 ON UPDATE 子句中只能有一个带有 CURRENT_TIMESTAMP 的 TIMESTAMP 列

我试图在[这里](http://dev.mysql.com/doc/refman/5.1/en/timestamp-initialization.html)对这篇文章进行正面和反面，但只会越来越困惑。在这里澄清将不胜感激！

多谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-12T14:54:14.660

此限制已在 MySQL (5.6.5) 的最新版本中删除，[请参阅其他 stackoverflow 线程和答案。](https://stackoverflow.com/a/17498167/296812)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T12:24:28.123

1.  只有 1 个带有 DEFAULT CURRENT_TIMESTAMP 的条目。这是 MySql 的事情。
2.  Magento 以其他方式设置这些字段：通过在保存几个模型之前设置这些属性。所以看看那些：

```
Mage_Eav_Model_Entity_Attribute_Backend_Time_Updated
Mage_Eav_Model_Entity_Attribute_Backend_Time_Created
Mage_Eav_Model_Entity_Attribute

```

# c++ - 做一个#include 仅对自己的库可见

> ID：10497879
> 
> 赞同：3
> 
> 时间：2012-05-08T11:39:30.250
> 
> 标签：c++, include

是否可以隐藏一个

```
#include <header.h>  //from library B 
```

来自使用库 A 的项目？

我需要将包含保留在那里，因为否则我的库 A 将无法编译，但是由于该标头来自其他库 B 对主项目不可见，因此主程序尝试找到该 header.h 并且编译失败.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:42:45.150

只有在编译库 A 时，您才可以将其放在 an 中`#ifdef`并定义符号：

```
#ifdef INCLUDE_FROM_LIBRARY_B
#include <header.h>  //from library B
#endif //INCLUDE_FROM_LIBRARY_B 
```

**更新**：但可能最好的选择是上面@Robinson 的建议：不要将它包含在任何头文件中，仅在需要时包含在 .cpp 文件中。

# objective-c - Objective-c：初始化实例变量

> ID：10497889
> 
> 赞同：0
> 
> 时间：2012-05-08T11:40:06.267
> 
> 标签：objective-c

我是objective-c的新手。我的对象报告时间在 init 方法中为零。我做错了什么？如何初始化 reportingTime 并设置 firstweekday ？

我有以下接口和实现

我的接口文件Calculation.h

```
@interface Calculate : NSObject {

NSCalendar *reportingTime;
....
....
}
@property NSCalendar *reportingTime;

@end 
```

还有我的实现文件Calculate.m

```
#import "Calculate.h"

@implementation Calculate

@synthesize reportingTime;

- (id)init
{
    if(self = [super init]) {
        reportingTime = [[NSCalendar alloc] init];
        [reportingTime setFirstWeekday:1];

        // reportingTime is nil ??????
    }
    return self;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:49:03.530

利用

```
- (id)initWithCalendarIdentifier:(NSString *)string 
```

而不是标准的初始化方法。查看更多：[https ://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSCalendar_Class/Reference/NSCalendar.html](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSCalendar_Class/Reference/NSCalendar.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:47:18.923

代替

```
reportingTime = [[NSCalendar alloc] init]; 
```

利用：

```
reportingTime = [[NSCalendar currentCalendar] retain]; 
```

保留，因为这是对 @property ivar 的直接分配，并且`[NSCalendar currentCalendar]`是返回自动释放 var 的便捷方法。如果您使用 ARC，则不需要保留。

# sql - 如何开始创建和使用数据库？

> ID：10497890
> 
> 赞同：1
> 
> 时间：2012-05-08T11:40:13.117
> 
> 标签：sql, database, sql-server-2008

我需要一个用于 Web 项目（以及离线项目）的数据库。问题是我不知道从哪里开始，谷歌搜索会返回更高级的东西。我从哪里开始？

我已经安装了 Visual Studio 2010 和 Visual Web Developer 2010（两者都 - 快速版本）。我不确定我是否拥有 SQL 所需的东西（如果我错了，请纠正我，这就是我需要数据库的东西）。在我的开始按钮中，我有两个名为“Microsoft SQL Server 2008”的文件夹（其中一个以“R2”结尾）。但我的电脑不是服务器，只是一台 PC。我应该在我的电脑上安装一些东西吗？如果是这样——两者中的哪一个？（带“R2”或不带“R2”的那个）

我所需要的只是创建一个简单的数据库，这样我就可以轻松地存储和检索信息，而不是读取文本文件......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:50:14.320

好吧，您需要安装 SQL Server。尝试在您的计算机上搜索它，您可能已经安装了它。最简单的方法是运行 services.msc 并查找 SQL Server。

看到这里，我安装了 3 个实例，但只有一个正在运行（INSTANCE2008 是我给它起的名字，你可能有 SQLEXPRESS 或 MSSQLSERVER）：

![在此处输入图像描述](../Images/901888fe9d51151996b46dc7ed9ad5be.png)

如果已安装，您将需要 SQL Server Management Studio 来创建数据库。您可能会在以下位置拥有它： ![在此处输入图像描述](../Images/27e1c475c1958c6e60bcd995c1610a40.png)

一旦您访问它，只需连接到您的服务器（通常称为 localhost），右键单击数据库文件夹并选择“新数据库”

![在此处输入图像描述](../Images/fb2d848fca5f829e2eedeed17ab78c9f.png)

从此，创建数据库真的很容易，只需按照步骤操作

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:50:43.837

听起来您拥有入门所需的所有工具，但您可能还需要 SQL Management Studio。

但是“如何开始创建和使用数据库？” 是一个广泛的问题。如果您的问题真的是关于应用程序设计的，那么您将在定义模型后开始“创建数据库”。定义模型后，您就可以开始创建数据库了。

如果您的问题确实是关于创建和使用数据库，SQL Management Studio 应该让您走上正轨。这是一种创建数据库、表、存储过程等的点击方式。

使用数据库...嗯。最简单的方法是集成 Microsoft 的 Enterprise Library 5。同样，在 web.config（或 app.config）和大量示例中单击界面来设置连接。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-08T11:53:57.677

您可以在应用程序中导入 System.Data 和 System.Data.SqlClient 库，例如

```
using System.Data;
using System.Data.SqlClient; 
```

并研究[SqlConnection](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlconnection.aspx)类。

关于 SQL Statements，[W3Schools](http://www.w3schools.com/sql/default.asp)有很好的参考。

具有连接的简单方法示例

```
protected void connection()
{
  using(SqlConnection conex = new SqlConnection("your_connection_string"))
  {
    SqlCommand comand = new SqlCommand();
    comand.CommandText = "SELECT * FROM Table";
    comand.CommandType = CommandType.Text;
    comand.Connection = conex;
    conex.Open();
    comand.ExecuteNonQuery();
    SqlDataAdapter da = new SqlDataAdapter(comand);
    DataTable dt = new DataTable();
    da.fill(dt);
  }  
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-08T11:46:07.550

您将在您的服务器上拥有您的数据库。您只需在 web.config 中稍作配置即可直接连接到该数据库。

或者

如果您在 **Microsoft SQL Server 2008 R2**中找到“SQL Server Management Studio”，请单击它并登录到 sql server/sql server 的 express 实例。

在那里创建数据库。

# hibernate - 如何让 ShingleFilterFactory 与 Hibernate Search 一起工作？

> ID：10497892
> 
> 赞同：0
> 
> 时间：2012-05-08T11:40:17.723
> 
> 标签：hibernate, search, solr, lucene, hibernate-search

```
@AnalyzerDef(
        name = "tags",
        tokenizer = 
            @TokenizerDef(factory = PatternTokenizerFactory.class, 
                params = {
                    @Parameter(name = "pattern", value=",")
                }
            ),
        filters = {
            @TokenFilterDef(factory = StandardFilterFactory.class),
            @TokenFilterDef(factory = LowerCaseFilterFactory.class),
            @TokenFilterDef(
                factory = StopFilterFactory.class,
                params = {
                    @Parameter(name = "words", value = "data/ignorewords.txt"),
                    @Parameter(name = "ignoreCase", value = "true")
                }
            ),
            @TokenFilterDef(
                factory = SynonymFilterFactory.class,
                params = {
                    @Parameter(name = "ignoreCase", value="true"),
                    @Parameter(name = "expand", value="false"),
                    @Parameter(name = "synonyms", value="data/synonyms.txt")
                }
            ),
            @TokenFilterDef(
                factory = SnowballPorterFilterFactory.class,
                params = {
                    @Parameter(name = "language", value="English")
                }
            ),
            @TokenFilterDef(
                factory = ShingleFilterFactory.class,
                params = { 
                    @Parameter(name = "minShingleSize", value="2"),
                    @Parameter(name = "maxShingleSize", value="3"),
                    @Parameter(name = "outputUnigrams", value="true"),
                    @Parameter(name = "outputUnigramsIfNoShingles", value="false")
                }
            ),
            @TokenFilterDef(
                factory = PositionFilterFactory.class,
                params = {
                    @Parameter(name = "positionIncrement", value = "100")
                }
            ),
            @TokenFilterDef(
                factory = PhoneticFilterFactory.class,
                params = { 
                    @Parameter(name = "encoder", value="RefinedSoundex"),
                    @Parameter(name = "inject", value="true")
                }
            )
        }
),
@AnalyzerDef(
    name = "querytime",
    tokenizer = 
        @TokenizerDef(factory = StandardTokenizerFactory.class),
    filters = {
        @TokenFilterDef(factory = StandardFilterFactory.class),
        @TokenFilterDef(factory = LowerCaseFilterFactory.class),
        @TokenFilterDef(factory = StopFilterFactory.class,
            params = {
                @Parameter(name = "words", value = "data/ignorewords.txt"),
                @Parameter(name = "ignoreCase", value = "true")
            }
        ),
        @TokenFilterDef(
            factory = SnowballPorterFilterFactory.class,
            params = { 
                @Parameter(name = "language", value="English")
            }
        ),
        @TokenFilterDef(
            factory = ShingleFilterFactory.class,
            params = { 
                @Parameter(name = "minShingleSize", value="2"),
                @Parameter(name = "maxShingleSize", value="3"),
                @Parameter(name = "outputUnigrams", value="true"),
                @Parameter(name = "outputUnigramsIfNoShingles", value="false")
            }
        ),
        @TokenFilterDef(
            factory = PositionFilterFactory.class,
            params = {
                @Parameter(name = "positionIncrement", value = "100")
            }
        ),
        @TokenFilterDef(
            factory = PhoneticFilterFactory.class,
            params = { 
                @Parameter(name = "encoder", value="RefinedSoundex"),
                @Parameter(name = "inject", value="true")
            }
        )
    }
)
}) 
```

以上是我的分析器定义，我在索引时使用**PatternTokenizerFactory**来索引具有多个单词的短语。另一个使用**StandardTokenizerFactory**和**ShingleFilterFactory**将在查询时使用，但是我无法从我的搜索查询中接收令牌组合。我所期待的是：当搜索查询是**我的搜索查询**时，它应该是**我的搜索**和**搜索查询**，但我得到的是**我**的**搜索**和**查询**

下面是我的功能

```
FullTextSession fullTextSession = Search.getFullTextSession(session);
            Transaction tx = fullTextSession.beginTransaction();
            // create native Lucene query
            org.apache.lucene.search.Query luceneQuery = null;
            String[] fields = new String[] {"tags"}; 
            MultiFieldQueryParser parser = new MultiFieldQueryParser(
                    Version.LUCENE_31, fields, fullTextSession.getSearchFactory().getAnalyzer("querytime"));
            try {
                luceneQuery = parser.parse(searchQuery);
            } catch (ParseException e) {
                e.printStackTrace();
            }

            // wrap Lucene query in a org.hibernate.Query
            org.hibernate.Query hibQuery = fullTextSession.createFullTextQuery(luceneQuery, CityArea.class);

            // execute search
            List result = hibQuery.list();

            tx.commit();
            session.close();
            return result; 
```

问题是我的索引标记是 ex：说**Word A**，**Word B**并且我正在搜索**单词 a 的位置**（以便它显示**Word A 的**记录）但没有结果。这是因为在搜索查询包含被索引的短语之前，我不想显示任何结果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-14T06:45:57.830

没有任何人的回答导致我自己深入研究问题并自己找到了答案。因为它可能对其他人有帮助，所以我在这里写它并且解决方案非常简单，只需将 searchQuery 包含在引号中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-27T13:44:49.093

我使用了：

```
@TokenizerDef(factory = StandardTokenizerFactory.class), 
```

在您的标签分析器中，您的代码运行良好。

现在我想知道为什么您使用不同的标记器一个用于查询而另一个用于存储？

# asp.net - 附加到进程在 Windows 7 的 Visual Studio 2008 中不起作用

> ID：10497894
> 
> 赞同：2
> 
> 时间：2012-05-08T11:40:21.440
> 
> 标签：asp.net, debugging, visual-studio-2008, iis

今天我遇到了在安装了 IIS7 的 Windows 7 32 位机器上运行的 Visual Studio 2008 SP1 的有线问题。我正在开发一个网络应用程序。我已经在 IIS（IIS 7.0）的本地主机中设置了默认网站来运行该网站，当我按 F5 时它工作正常，进程运行并显示断点位置。但是，当我尝试通过从调试菜单中选择附加到进程并选择浏览器进程（IE8 或 Mozilla）来调试该站点时，什么也没有发生，并且该进程没有达到断点。我究竟做错了什么？

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T12:29:19.073

您应该附加到 IIS 工作进程 (w3wp.exe)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:43:24.557

检查您是否在调试模式下构建了进程，并且 pdb 文件是使用 dll 部署的。

转到项目属性>构建选项卡>单击高级按钮>现在将调试信息设置为“完整”。

在 Web.config 文件中，更改读取的行

`<compilation debug="false"/> to <compilation debug="true"/>.`

[如何：附加到正在运行的进程，VS Express Edition 不允许附加进程进行调试](http://msdn.microsoft.com/en-us/library/c6wf8e4z.aspx)

# oracle - 检查数据库链接是否实际上指向正确的服务器

> ID：10497897
> 
> 赞同：2
> 
> 时间：2012-05-08T11:40:31.500
> 
> 标签：oracle

我目前正在尝试验证 Oracle db_link 实际上指向正确的服务器。当我查询 db_links 时，我得到了引用 TNSNames 的 DB_link 的定义：

```
select * from all_db_links; 
```

给我以下结果：

所有者：user1
DB_LINK：DBL_xxx.world
用户名：User2
主机：tnsEntry1
创建时间：2012 年 5 月 3 日

当我测试 DB_link 时，一切正常：

```
select * from dual@"DBL_xxx.world"; 
```

> 假人：X

但是，由于我无权访问服务器，我无法确保 tns 条目 tnsEntry1 指向正确的服务器。

在本地，我可以运行：

```
select sys_context ( 'USERENV', 'DB_NAME' ) db_name,
 sys_context ( 'USERENV', 'SESSION_USER' ) user_name,
 sys_context ( 'USERENV', 'SERVER_HOST' ) db_host
 from dual; 
```

我尝试远程运行相同的命令：

```
select sys_context ( 'USERENV', 'DB_NAME' ) db_name,
 sys_context ( 'USERENV', 'SESSION_USER' ) user_name,
 sys_context ( 'USERENV', 'SERVER_HOST' ) db_host
 from dual@DBL_xxx.world; 
```

但它只返回本地数据。

有没有办法查看远程信息？或者从 sql 查询中检查 tnsnames？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T11:52:24.117

这将为您提供数据库链接另一端的数据库的数据库名称：

```
select property_value 
from database_properties@<database_link> 
where property_name='GLOBAL_DB_NAME' 
```

# iphone - 5.0 Base SDK 应用程序无法安装在具有 5.1 操作系统的 iPad 上

> ID：10497900
> 
> 赞同：3
> 
> 时间：2012-05-08T11:40:46.240
> 
> 标签：iphone, objective-c, ios, xcode

我有一个 5.1 操作系统的 ipad 设备，并试图在此设备上运行 5.0 基础 SDK 应用程序。

这是我的错误：

![无法在选定的设备上运行错误：](../Images/f33a1296039721ef406a5fc3b617b773.png)

谢谢你的帮助。

![来自主办方](../Images/f3c102a4f5ca2d8ec287f722ee8e2628.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T11:53:56.563

我相信从您的屏幕截图中您正在运行带有 iOS 5.0 SDK 的 Xcode 4.2，为了部署到运行 iOS 5.1 的设备，您需要升级到具有 iOS 5.1 SDK 的最新版本的 Xcode (4.3.2) 并将允许您将构建部署到 5.1 设备。此升级需要 OS X 10.7 Lion。即使你的目标是你的 Xcode 版本支持的 iOS 版本，你也不能部署到运行比你的 SDK 支持的更新版本的 iOS 的设备上。

（Lion 升级替代方案[https://stackoverflow.com/a/9621226/716216](https://stackoverflow.com/a/9621226/716216)）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-08T11:45:23.323

您的设备 UDID 未添加到您当前使用的开发者资料中。转到开发人员门户，将设备添加到您的帐户，将其添加到您的开发配置文件中，再次下载配置文件，安装它并使用新配置文件来测试构建。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-08T11:44:25.850

我 thnk 您已选择设备作为目标，并且您的 ipad 未正确连接到它。如果已连接，xcode 将显示 ipad 的名称

而且。确保将设备添加到您正在使用的配置文件中

# actionscript-3 - 如何从外部资产更改影片剪辑内的图像？

> ID：10497904
> 
> 赞同：0
> 
> 时间：2012-05-08T11:40:57.753
> 
> 标签：actionscript-3, flash

我有 2 个 SWF 文件。

一个用于资产，包含一些导出到 ActionScript 的 PNG 文件（实际上是我的应用程序的皮肤）。

第二个用于主应用程序，它加载第一个 SWF（使用 Loader）并使用其 PNG 文件（使用 getClassDefinition 获取文件）。

我在舞台上有一些影片剪辑和按钮，其中包含不止一个简单的帧（例如；静音按钮，在静音影片剪辑的 2 个不同帧中具有“播放”状态和“静音”状态）。

当我更改帧中的图像然后调用 gotoAndStop （移动到影片剪辑内部的另一个帧）时，图像将返回到原始图像。另外，我不知道如何交换按钮内的图像。

请注意，我不想加载外部影片剪辑（来自第一个 SWF），而只是加载 PNG。

任何想法？

# java - Java应用的典型构建流程

> ID：10497905
> 
> 赞同：5
> 
> 时间：2012-05-08T11:41:03.997
> 
> 标签：java

作为 Java 新手，我无法理解从源代码到硬件特定二进制文件的完整构建过程。基本上我正在使用 Eclipse for java 并且想知道从源代码（.java）到二进制文件的所有转换，使用一些链接器、预处理器等链接的所有文件。

如果您能指出一些链接，提供有关 java 完整构建过程的详细信息，将不胜感激。我已经搜索过这个论坛，但没有得到详细信息。

谢谢

**编辑：**

所以更准确地说，我正在寻找相当于 C 中以下构建过程的 java：我搜索了很多但没有收获！像下面这样的图不是必须的（尽管是首选），但是如果您可以编写完整的 Java 构建过程中涉及的“n”个顺序/并行步骤，那将非常感激。尽管@Tom Anderson 提供的大部分信息对我来说非常有用。

![在此处输入图像描述](../Images/062b3c1b1c9142fd4cf62480e14afae6.png)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-08T12:25:11.173

首先要欣赏的是您的问题包含错误的假设。您询问“从源代码到特定于硬件的二进制文件的完整构建过程”——但正常的 Java 构建过程从不生成特定于体系结构的二进制文件。它到达与架构无关的字节码，然后停止。确实，在大多数情况下，字节码会被翻译成本地代码来执行，但是这个步骤发生在运行时，在 JVM 内部，完全在内存中，并且不涉及二进制文件的生成——它*不是*构建过程。

也有例外 - [GCJ](http://gcc.gnu.org/java/)等编译器可以生成本地二进制文件，但很少这样做。

因此，作为构建过程的一部分发生的唯一实质性步骤是编译。编译器读入源代码，执行通常的解析和解析步骤，并发出字节码。没有以任何方式指定该过程；像往常一样，[语言规范](http://docs.oracle.com/javase/specs/jls/se7/html/index.html)定义了语言的元素是什么，以及它们的含义，但没有定义如何编译它们。[输出格式中指定的内容：字节码以类文件](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html)的形式打包，每个类一个，而这些文件又可以组合在[jar 文件](http://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html)中以便于分发。

当类文件开始执行时，在执行之前还需要进一步的步骤。这些在 JVM 规范中关于[加载、链接和初始化](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html)的章节中得到了很好的说明。但是，正如我所说，这些并不是构建过程的真正组成部分。

在构建过程中可能会发生一些其他步骤，通常在编译之前：可能会解析和下载依赖项，可能会复制资源并在字符集之间转换，并且可能会生成代码。但这些都不是标准的，都是各种构建工具添加到编译核心过程中的所有东西。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-08T11:44:21.777

如果您想知道“幕后”发生了什么，可以查看一些很酷的文章。

[http://www.codeproject.com/Articles/30422/How-the-Java-Virtual-Machine-JVM-Works](http://www.codeproject.com/Articles/30422/How-the-Java-Virtual-Machine-JVM-Works)

这是其中之一，它很好地解释了所有部分如何交互以运行您的代码。

主要思想是从您的 Java 文件创建字节码以在虚拟机中运行，从而使您的 Java 代码（或多或少...）独立于您运行它的操作系统和平台。

然后，特定于该环境的 JVM 负责将该字节码转换为您运行代码的特定架构的实际指令。

这是 Java 所拥有的“一次编写，到处运行”口头禅的基础。虽然咒语并不总是成立……但总的来说，它仍然是正确的。

# javascript - 我想克隆一个 javascript 类。将方法添加到克隆属性而不实际覆盖现有方法？

> ID：10497906
> 
> 赞同：0
> 
> 时间：2012-05-08T11:41:04.927
> 
> 标签：javascript, oop, inheritance, prototypejs

我正在尝试将方法添加到克隆的原型类属性。我已经粘贴了下面的代码。

在我向这段代码添加方法时，它会覆盖超类中定义的内容。

```
<script src="http://ajax.googleapis.com/ajax/libs/prototype/1.6.0.3/prototype.js" type="text/javascript"></script>
<script type="text/javascript">
var Animal = Class.create({
    initialize: function(name, sound) {
    this.name  = name;
    this.sound = sound;
    },

    speak: function() {
    alert(this.name + " says: " + this.sound + "!");
    }
});

Animal.movement = {
    move: function(direction){
        alert('moving: ' + direction)
    }
}

var AnimalClone = { }
Object.extend(AnimalClone, Animal);

//Now i want to add 'jump' to this list of methods 
//without over writing the inherited 'move' method
AnimalClone.movement = {
    jump: function(height){
        alert('jumped:' + height)
    }
}
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:45:01.153

您需要*扩展*对象，而`movement`不是覆盖它：

```
Object.extend(AnimalClone.movement, {
    jump: function(height){
        alert('jumped:' + height)
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T12:03:27.793

作为`movement`一个对象，您还必须通过使用原型访问它来扩展它

```
var Animal = Class.create({
    initialize: function(name, sound) {
        this.name = name;
        this.sound = sound;
    },
    movement: {
        move: function(direction) {
            alert('moving: ' + direction);
        }
    }
});

var AnimalClone = Class.create({});
AnimalClone.prototype = Object.extend(new Animal(),{});

AnimalClone.prototype.movement = Object.extend(AnimalClone.prototype.movement, {
        jump: function(height) {
            alert('jumped:' + height);
        }
});

var animalClone = new AnimalClone;
animalClone.movement.move("up");
animalClone.movement.jump("10mts"); 
```

# java - 使类受保护时出错

> ID：10497911
> 
> 赞同：-4
> 
> 时间：2012-05-08T11:41:38.303
> 
> 标签：java

`protected`当我在类 Zoo 上使用关键字时，我收到错误“删除无效修饰符” 。

```
protected class Zoo {
   int  x=5;
 String  coolMethod() {
return "Wow baby";
}

 static Test t=new Test();
}
public class Test {

public static void main(String args[]) {
    Test zoo=new Test();
    //System.out.println(zoo.coolMethod()); 
    //System.out.println(x);

    //t.useMyCoolMethod();
    //Testing v=new Testing();
    //System.out.println(v.getValue());
    } 
```

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:46:36.023

该`protected`修饰符仅在内部类或嵌套类中有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:46:50.467

顶级（非内部）类不能是`protected`、 only`public`或 package （默认）访问。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T11:46:22.057

课程只能是公开的。内部类可以被保护

# django - Oracle-Django 中的 Inspectdb 获取 OCI-22061：格式文本无效 [T

> ID：10497912
> 
> 赞同：0
> 
> 时间：2012-05-08T11:41:38.753
> 
> 标签：django, django-models, oracle-xe, cx-oracle, inspectdb

我正在使用`Oracle Database 10g xe universal Rel.10.2.0.1.0 against cx_Oracle-5.0.4-10g-unicode-py26-1.x86_64 on a django project on Ubuntu 10.04`

我的数据库由`Oracle 10gr2 enterprise edition`（在 Windows XP 上，导入完成`US7ASCII character set and AL16UTF16 NCHAR character set`，导入服务器使用`AL32UTF8 character set`，导出客户端使用`EL8MSWIN1253 character set`）生成

当我尝试时`django-admin.py inspectdb`，出现以下错误：

> .......“indexes = connection.introspection.get_indexes(cursor, table_name) 文件“/usr/lib/pymodules/python2.6/django/db/backends/oracle/introspection.py”，第 116 行，在cursor.fetchall() 中的行的 get_indexes：文件“/usr/lib/pymodules/python2.6/django/db/backends/oracle/base.py”，第 483 行，在 self.cursor.fetchall( )]) cx_Oracle.DatabaseError: OCI-22061: 无效的格式文本 [T"。

我知道，`"inspectdb works with PostgreSQL, MySQL and SQLite"`但正如我从其他帖子中了解到的那样，它也以某种方式与 Oracle 一起工作。

有谁知道我为什么会收到此错误或如何修复它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:56:39.067

你可以尝试更新 cx_Oracle 5.1.1 包，然后试试这个：

```
python manage.py inspectdb --database dbname 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-07T07:53:20.947

您可以下载 cx_Oracle-5.1.2 并使用以下命令修复问题。

**$ wget -c [http://prdownloads.sourceforge.net/cx-oracle/cx_Oracle-5.1.2-11g-py27-1.x86_64.rpm](http://prdownloads.sourceforge.net/cx-oracle/cx_Oracle-5.1.2-11g-py27-1.x86_64.rpm)**

rpm安装命令

**$ sudo yum install cx_Oracle-5.0.4-11g-unicode-py27-1.x86_64.rpm**

同时下载 Oracle Instantclient **[http://download.oracle.com/otn/linux/instantclient/11101/basic-11.1.0.6.0-linux-x86_64.zip](http://download.oracle.com/otn/linux/instantclient/11101/basic-11.1.0.6.0-linux-x86_64.zip)**和**[http://download.oracle.com/otn/linux/即时客户端/11101/sdk-11.1.0.6.0-linux-x86_64.zip](http://download.oracle.com/otn/linux/instantclient/11101/sdk-11.1.0.6.0-linux-x86_64.zip)**

解压上面下载的 zip 文件。从**sdk-11.1.0.6.0-linux-x86_64**复制**包含**文件夹并粘贴到**basic-11.1.0.6.0-linux-x86_64在****.bashrc**文件 中设置以下路径

 *********导出 $LD_LIBRARY_PATH = $LD_LIBRARY_PATH:/oracle_lib/oracle_instantclient_11_1***

***导出 $ORACLE_HOME = /oracle_lib/oracle_instantclient_11_1***

*$ **ls /oracle_lib/oracle_instantclient_11_1***

您应该找到*包含*文件列表的包含文件夹

然后使用 $ **source ~/.bashrc执行 .bashrc 文件**

我已经测试过了。******

# android - 如何创建两个以上的可扩展列表视图

> ID：10497913
> 
> 赞同：1
> 
> 时间：2012-05-08T11:41:42.740
> 
> 标签：android, listview

我想创建一个具有两个以上级别的可扩展列表视图，并且数据来自数据库，该数据库具有 id,name,parentid ，但是可扩展列表视图组件的默认布局是两个级别，所以我该怎么做

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T12:47:59.347

您无法使用 Android 中内置的 Expandalble List 来做到这一点。

您必须编写自己的适配器。人们已经做到了。我见过几种具有多层可扩展列表的文件浏览器实现。有些甚至可能有可用的代码，所以如果你自己不知道如何做，你可以看看它是如何完成的。

**编辑**

找到了一些代码。其中之一应该为您解决问题。

[tree-view-list-android](http://code.google.com/p/tree-view-list-android/)扩展 baseadapter

[所以回答](https://stackoverflow.com/a/5645596/1105376)使用修改后的 BaseExpandableListViewAdapter 的代码链接。

# java - 使用 iText 裁剪 PDF（java PDF 库）

> ID：10497917
> 
> 赞同：3
> 
> 时间：2012-05-08T11:42:17.177
> 
> 标签：java, pdf, itext

我需要使用此[代码](http://itextpdf.com/examples/iia.php?id=280)裁剪 PDF 文件。`cb`将输出裁剪所需的坐标。

如何有效地为 PDF 文件中的每一页执行此操作？

是否有此代码，但不适用于每个 pdf 输入：

```
public class CropPages {

public static final String PREFACE = "input.pdf";
public static final String RESULT = "cropped.pdf";

public void addMarginRectangle(String src, String dest)
    throws IOException, DocumentException {
    PdfReader reader = new PdfReader(src);
    PdfReaderContentParser parser = new PdfReaderContentParser(reader);
    PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(RESULT));
    TextMarginFinder finder;
    PdfDictionary pageDict;
    for (int i = 1; i <= reader.getNumberOfPages(); i++) {
        finder = parser.processContent(i, new TextMarginFinder());
        //PdfContentByte cb = stamper.getOverContent(i);
        PdfRectangle rect = new PdfRectangle((finder.getLlx()-5), (finder.getLly()-5), (finder.getUrx()+5), (finder.getUry()+5));
        if (i <= 10){
                 System.out.println(rect);
                 }
        pageDict = reader.getPageN(i);
        pageDict.put(PdfName.CROPBOX, rect);
     }
    stamper.close();
}

public static void main(String[] args) throws IOException, DocumentException {
    new CropPages().addMarginRectangle(PREFACE, RESULT);
} 
```

}

# javascript - ibooks 中的 event.preventDefault()：谁能解释为什么这不起作用？

> ID：10497919
> 
> 赞同：0
> 
> 时间：2012-05-08T11:42:30.763
> 
> 标签：javascript, ios, preventdefault, ibooks

我正在尝试将 preventDefault 应用于 iBooks 中的 div 以创建一个区域，在该区域中没有用于翻页的触摸/拖动事件。到目前为止，我只尝试阻止触摸事件，但它不起作用。我在这里的实现可能完全错了：

```
var area = document.getElementById('area');
function touchStart(event) {
    event.preventDefault();
}
function touchMove(event) {
    event.preventDefault();
}
function touchEnd(event) {
    event.preventDefault();
}
function touchCancel(event) {
    event.preventDefault();
}

area.addEventListener("touchstart", touchStart, false);
area.addEventListener("touchmove", touchMove, false);
area.addEventListener("touchend", touchEnd, false);
area.addEventListener("touchcancel", touchCancel, false); 
```

任何关于为什么这不会阻止触摸事件的提示将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-24T17:58:07.280

我遇到了同样的问题。不知道为什么`addEventListener`不为我工作，但`bind`做了。

```
var events = 'click touchmove touchstart touchend touchcancel';
$('#area').bind(events, function(e) {
    e.preventDefault();
} 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-05-08T21:59:33.487

你很近。为了将事件传递给函数，您实际上必须使用匿名函数。

我认为您也不应该担心创建多个函数，而只需调用匿名函数中的一行。

```
var area = document.getElementById('area');

area.addEventListener("touchstart", function(event) {event.preventDefault()}, false);
area.addEventListener("touchmove", function(event) {event.preventDefault()}, false);
area.addEventListener("touchend", function(event) {event.preventDefault()}, false);
area.addEventListener("touchcancel", function(event) {event.preventDefault()}, false); 
```

如果您仍然想要让事件侦听器调用您的函数，它看起来像这样：

```
var area = document.getElementById('area');

function myTouchStart(myEvent) {
    myEvent.preventDefault();
}

area.addEventListener("touchstart", function(event) {myTouchStart(event)}, false); 
```

这个想法是事件监听器有一个匿名函数，你可以通过它调用你的函数。使用匿名函数，您可以声明要传递给匿名函数并传递给您自己的事件对象。

# android - 取消选中 RadioButtonGroup 中的所有 RadioButton

> ID：10497921
> 
> 赞同：42
> 
> 时间：2012-05-08T11:42:40.503
> 
> 标签：android, android-radiobutton

我想要实现的是：在活动开始后，我希望没有选择/选中 RadioButton。

我的问题是：当活动开始时，第一个 RadioButton 总是被选中/选中。

我在单选按钮初始化后立即尝试`radioButton1.setChecked(false)`（在 onCreate 内），但是当活动开始时，我无法手动检查/选择第一个单选按钮。直到我选择了第二个或第三个单选按钮，我现在可以选择/检查第一个单选按钮。

* * *

## 回答 #1

> 赞同：113
> 
> 时间：2012-05-08T11:44:29.203

```
RadioGroup radioGroup = (RadioGroup)findViewById(R.id.radiogroup);
radioGroup.clearCheck(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-08T11:50:27.067

当活动开始或恢复时，使用 clearCheck() 清除所有选中的单选按钮

```
 @Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
 RadioGroup rg=(RadioGroup)findViewById(R.id.RG);
rg.clearCheck();
}
@Override
protected void onResume() {  
RadioGroup rg=(RadioGroup)findViewById(R.id.RG);
rg.clearCheck();  
super.onResume();  
    } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-01-16T13:24:20.630

用这个

```
RadioButton spec1=findViewById(yourRadioGroup.getCheckedRadioButtonId());
        if (spec1.isChecked())
        {
            spec1.setChecked(false);
        } 
```

# redirect - 如何专门为一个目录重定向？

> ID：10497926
> 
> 赞同：0
> 
> 时间：2012-05-08T11:43:19.370
> 
> 标签：redirect, directory

我正在尝试重定向我网站上的论坛链接

example.com/forum 到 example.net/forum

大多数代码要么用于页面，要么用于整个站点。我正在尝试弄清楚如何专门针对 ONE 目录执行此操作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T15:18:41.863

您想指示您的论坛已移动的浏览器。这是一个“301 重定向”。

假设您的服务器是 Apache，最好使用 .htaccess 文件：

[http://kb.mediatemple.net/questions/242/How+do+I+redirect+my+site+using+a+.htaccess+file%3F](http://kb.mediatemple.net/questions/242/How+do+I+redirect+my+site+using+a+.htaccess+file%3F)

以下是执行相同操作的其他方法的列表：

[http://www.webconfs.com/how-to-redirect-a-webpage.php](http://www.webconfs.com/how-to-redirect-a-webpage.php)

# php - 使用jquery从动态内部文本中求和

> ID：10497927
> 
> 赞同：1
> 
> 时间：2012-05-08T11:43:19.503
> 
> 标签：php, javascript, jquery

我想获得具有类addition1::: 的值的总和

HTML 代码是

```
<tr >
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td class="heading">Total Inr</td>
  <td align="right" class="heading"><?php if($inr!='')echo co($inr);else echo "0.00";?>     </td>
  <td>&nbsp;</td>
  <td class="heading">ROE</td>
  <td  class="heading" ><span class="addition1"><?php if($inr!='')echo co($inr);else echo "0.00";?> </span>   </td>
  <td>&nbsp;</td>
</tr>

<tr>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td class="heading">Total Usd</td>
  <td align="right" class="heading"><?php if($usd!='')echo co($usd);else echo "0.00";?> </td>
  <td>&nbsp;</td>
  <td><input name="roe1" id="roe11" type="text" class="heading" value="1" style="width:50px" /></td>
  <td class="heading1"  style="font-family: Arial,Helvetica,sans-serif; font-size: 14px; font-variant: small-caps; font-weight: bold;">
    <span class="addition1">
            <?php if($usd!='')echo co($usd);else echo "0.00";?>  </span>  
  </td>
  <td>&nbsp;</td>
</tr>
<tr>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td class="heading">Total Gbp</td>
  <td align="right" class="heading"><?php if($gbp!='')echo co($gbp);else echo "0.00";?></td>
  <td>&nbsp;</td>
  <td><input name="roe1" id="roe12" type="text" class="heading" value="1" style="width:50px" /></td>
  <td class="heading2" style="font-family: Arial,Helvetica,sans-serif; font-size: 14px; font-variant: small-caps; font-weight: bold;">
    <span class="addition1"><?php if($gbp!='')echo co($gbp);else echo "0.00";?></span>
  </td>
  <td>&nbsp;</td>
</tr>
<tr>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td class="heading">Total Eur</td>
  <td align="right" class="heading"><?php if($eur!='')echo co($eur); else echo "0.00";?></td>
  <td>&nbsp;</td>
  <td><input name="roe1" id="roe13"  type="text" class="heading" value="1" style="width:50px" /></td>
  <td  class="heading3" style="font-family: Arial,Helvetica,sans-serif; font-size: 14px; font-variant: small-caps; font-weight: bold;">
   <span class="addition1"> <?php if($eur!='')echo co($eur); else echo "0.00";?></span>
  </td>
  <td>&nbsp;</td>
</tr>
<tr>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td class="heading">Total Other</td>
  <td align="right" class="heading"><?php if($other!='')echo co($other);else echo "0.00";?></td>
  <td>&nbsp;</td>
  <td><input name="roe1" id="roe14" type="text" class="heading" value="1" style="width:50px" /></td>
  <td class="heading4" style="font-family: Arial,Helvetica,sans-serif; font-size: 14px; font-variant: small-caps; font-weight: bold;">
    <span class="addition1"><?php if($other!='')echo (co($other));else echo "0.00";?>    </span>
  </td>
  <td>&nbsp;</td>
</tr> 
```

jQuery代码是

```
 $(document).ready(function() {
    $('#tables tbody>tr>td>input.heading#roe13').change(function() {
        var k = $('#roe13').val(); 
         $('#tables tbody>tr>td.heading3').text(function(i,v) {
            v= v.replace(/,/g, ''),
            asANumber = +v;
            x=Math.round(parseFloat(v*k)*100) / 100;
            return x.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g, ",");

        });
    });

$('#tables tbody>tr>td>input.heading#roe11').change(function() {
        var k = $('#roe11').val(); 
        $('#tables tbody>tr>td.heading1').text(function(i,v) {
            v= v.replace(/,/g, ''),
            asANumber = +v;                 
            x1=Math.round(parseFloat(v*k)*100) / 100;
            return x1.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g, ",");
        });
    });

$('#tables tbody>tr>td>input.heading#roe12').change(function() {
        var k = $('#roe12').val(); 
        $('#tables tbody>tr>td.heading2').text(function(i,v) {
            v= v.replace(/,/g, ''),
            asANumber = +v;                 
            x2=Math.round(parseFloat(v*k)*100) / 100;
            return x2.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g, ",");
        });
    });

$('#tables tbody>tr>td>input.heading#roe14').change(function() {
        var k = $('#roe14').val(); 
        $('#tables tbody>tr>td.heading4').text(function(i,v) {
            v= v.replace(/,/g, ''),
            asANumber = +v;                 
            x3=Math.round(parseFloat(v*k)*100) / 100;
            return x3.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g, ",");
        });
    });

$('#tables tbody>tr').change(function() {
        var sum = 0;
        var regex = /\((\d+)\)/g;
        $('span.addition1').each(function() {       
            matches = $(this).text().replace(/,/g, ''); alert(matches);
            if( !isNaN( matches ) ){        
                sum += parseFloat(matches);
            }           
        });
    }); 
}); 
```

td 中的类名不能更改。我正在尝试获得具有类addition1的值的总和。在运行此代码时，将跳过 1 个值，例如，如果我更改一个值，例如 x1，那么由于 x1 生成的结果将被另外跳过。请帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T12:05:30.270

如果您希望 match 的第一个值使用，则 jquery 中的数组是从 0 开始的`matches[0]`。

不要把 div 直接放在 tr 里面。我建议`span class="addition1"`在每个 td 内部使用一个，并且只围绕您希望添加的浮点数。

这样，您可以`parsefloat()`先执行 NaN 检查，然后再删除所有正则表达式内容：

td代码：

```
<td>..(<span class="addition1">1,230.0</span>)..</td> 
```

jquery循环代码：

```
$('span.addition1').each(function() {
 var floatVal = parseFloat($(this).text().replace(/,/g,""));
 if(!isNaN(floatVal)) {        
  sum += floatVal;
 }         
}); 
```

`$(this).text()`不使用`.val()`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T11:54:51.000

$(this).val() 指的是 div.addition1 的值，它没有值。

您正在尝试将 td 嵌套在不允许的 div 中。如果您无法编辑 TD 以给他们一个类别，您将不得不使用其他方式来选择它们，例如每 8 个 TD 或类似的东西。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-05-08T11:53:04.880

HTML：

```
<tr >
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td class="heading">Total Inr</td>
  <td align="right" class="heading"><?php echo $inr!=''?co($inr):"0.00";?>     </td>
  <td>&nbsp;</td>
  <td class="heading">ROE</td><div class="addition1">
  <td  class="heading" ><?php echo $inr!=''?co($inr):"0.00";?>    </td></div>
  <td>&nbsp;</td>
</tr>

<tr>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td class="heading">Total Usd</td>
  <td align="right" class="heading"><?php echo $usd!=''?co($usd):"0.00";?> </td>
  <td>&nbsp;</td>
  <td><input name="roe1" id="roe11" type="text" class="heading" value="1" style="width:50px" /></td>
  <td class="heading1"  style="font-family: Arial,Helvetica,sans-serif; font-size: 14px; font-variant: small-caps; font-weight: bold;">
    <?php echo $usd!=''?co($usd):"0.00";?>    
  </td>
  <td>&nbsp;</td>
</tr>
<tr>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td class="heading">Total Gbp</td>
  <td align="right" class="heading"><?php echo $gbp!=''?co($gbp):"0.00";?></td>
  <td>&nbsp;</td>
  <td><input name="roe1" id="roe12" type="text" class="heading" value="1" style="width:50px" /></td>
  <td class="heading2" style="font-family: Arial,Helvetica,sans-serif; font-size: 14px; font-variant: small-caps; font-weight: bold;">
    <?php echo $gbp!=''?co($gbp):"0.00";?>
  </td>
  <td>&nbsp;</td>
</tr>
<tr>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td class="heading">Total Eur</td>
  <td align="right" class="heading"><?php echo $eur!=''?co($eur):"0.00";?></td>
  <td>&nbsp;</td>
  <td><input name="roe1" id="roe13"  type="text" class="heading" value="1" style="width:50px" /></td>
  <td  class="heading3" style="font-family: Arial,Helvetica,sans-serif; font-size: 14px; font-variant: small-caps; font-weight: bold;">
    <?php echo $eur!=''?co($eur):"0.00";?>
  </td>
  <td>&nbsp;</td>
</tr>
<tr>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
  <td class="heading">Total Other</td>
  <td align="right" class="heading"><?php echo $other!=''?co($other):"0.00";?></td>
  <td>&nbsp;</td>
  <td><input name="roe1" id="roe14" type="text" class="heading" value="1" style="width:50px" /></td>
  <td class="heading4" style="font-family: Arial,Helvetica,sans-serif; font-size: 14px; font-variant: small-caps; font-weight: bold;">
    <?php echo $other!=''?co($other):"0.00";?>    
  </td>
  <td>&nbsp;</td>
</tr> 
```

脚本：

```
$('table tr').change(function() {
    var sum = 0;
    $.each($('tr td input'), function() {
        var nextCol = $(this).parent().next("td").text();
        if( nextCol && ! isNaN( nextCol ) ){        
            sum += parseFloat(nextCol, 10);
        }         
    });
    alert(sum);
}); 
```

只是加法：

```
$('table tr').change(function() {
    var sum = 0;
    $.each($('addition1'), function() {
        var nextCol = $(this).text();
        if( nextCol && ! isNaN( nextCol ) ){        
            sum += parseFloat(nextCol, 10);
        }         
    });
    alert(sum);
}); 
```

# linux - 在 linux 上运行 GUI 应用程序，而不显示 gui？

> ID：10497928
> 
> 赞同：5
> 
> 时间：2012-05-08T11:43:22.153
> 
> 标签：linux, user-interface, x11

我正在使用需要启动应用程序的 api，该应用程序在 linux 上运行 GUI。

我需要输入一些登录信息，然后隐藏应用程序。

有没有办法让机器启动 GUI，然后隐藏它，注销，让其他用户登录而不显示 GUI，但仍然运行应用程序？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-08T11:52:25.067

你可以看看 Xvfb [http://en.wikipedia.org/wiki/Xvfb](http://en.wikipedia.org/wiki/Xvfb)

它是 X 的帧缓冲版本。它将启动 X11 服务器而不显示它（例如对 selenium 有用）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-08T12:11:12.720

xdotool 可以向anyb xwindow 发送输入，包括xvfb

# php - PHP：如何将时间字符串与日期（'H：i'）进行比较？

> ID：10497929
> 
> 赞同：10
> 
> 时间：2012-05-08T11:43:21.950
> 
> 标签：php, datetime, comparison

我将时间保存在数据库中，例如晚上 7:30 作为 varchar 字段。我想检查这个时间是否大于现在的时间。

我将 DB 时间字符串转换为“19:30”，现在我想做这样的事情：

```
$my_time = '19:30';

if($my_time  > date('H:i'))
{
    do something ...
} 
```

问题是如果 $my_time 是非空字符串，上述将始终返回 true。

做`strtotime($my_time)`也无济于事。

`strtotime('H:i',$my_time)`使它成为 00:00 。

当实际时间为 17:09 时， doing`(int)date('H:i')`将给出 1700，因此删除冒号然后比较也行不通....

在这种情况下，更改数据库时间数据是没有问题的。

请帮忙。如果我陈述了一些错误的事实，请纠正我。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-05-08T11:47:44.993

你可以使用这个：

```
$myTime = '19:30';
if (date('H:i') == date('H:i', strtotime($myTime))) {
    // do something
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-08T11:48:39.593

您可以构造一个新的[DateTime](http://nl.php.net/manual/en/class.datetime.php)对象，将时间设置为随机日期。比比较这两个对象。例如：

```
$my_time = new DateTime('January 1th 1970 19:30');
$comparable_time = new DateTime('January 1th 1970 '. date('H:i'));
if($my_time < $comparable_time) {
    // do something
} else {
    // do something else
} 
```

请注意变更日志；

```
Version 5.2.2    DateTime object comparison with the comparison operators changed to work as expected. Previously, all DateTime objects were considered equal (using ==). 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-08T11:45:41.903

您不能将比较运算符与这样的字符串一起使用，因为当您这样做时，字符串[首先会转换为数字](http://php.net/manual/en/language.operators.comparison.php)。

对于单线解决方案，您可以使用[`strcmp`](http://php.net/manual/en/function.strcmp.php)：

```
if(strcmp($my_time, date('H:i')) == 1)
{
    do something ...
} 
```

上面的条件在语义上等同于“如果 $my_time 大于当前时间”，*但前提是字符串的格式保持一致！* 如果由于某种原因 的格式与模式不直接对应，则**很容易在此代码中引入错误**。`$my_time``H:i`

将值简化为字符串通常不是使用日期和时间的方式。更合适的解决方案是使用 PHP 5.2.0 中引入的原生类（John Conde 在[他的回答](https://stackoverflow.com/a/10497966/50079)[`DateTime`](http://php.net/manual/en/class.datetime.php)中已经给出了一个例子）。

然而，将时间视为愚蠢的标量值还有一个可能的优势：结果与人类的看法一致，即 01:00 总是晚于 00:00。`DateTime`方法取决于当地时区和日期，可能并不总是给您预期的结果。例子：

```
// assume we are in London
date_default_timezone_set('Europe/London');

// assume that today is March 25, 2012
$date1 = new DateTime("2012-03-25 01:00:00");
$date2 = new DateTime("2012-03-25 02:00:00");

// and...
if ($date1 == $date2) {
    echo "WTF?!? Equal???";
} 
```

**[看到它在行动](http://ideone.com/Qm83s)**。

此测试的结果与比较“01:00”和“02:00”的一些标量表示不同，因此最好考虑比较的正确语义是什么。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-08T11:46:16.347

```
$date1 = DateTime::createFromFormat('H:i', $my_time1);
$date2 = new DateTime();
if ($date1 > $date2)
{
     // do something   
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-12-10T19:20:44.567

不要比较代表时间戳的字符串。相反，使用`strtotime()`将任何此类字符串转换为只是数字的 Unix 时间戳，然后比较它们。您可以使用以下命令获取当前时间的 Unix 时间戳`time()`：

```
$my_time = '19:30';

if (strtotime($my_time) > time()) {
    // do something ...
} 
```

# delphi - 通过 TDisAsm 实例的入口点、指针和反汇编

> ID：10497932
> 
> 赞同：2
> 
> 时间：2012-05-08T11:43:45.383
> 
> 标签：delphi, exe, disassembly, portable-executable, entry-point

使用Russell Libby 的[DisAsm32](http://www.kbasm.com/download/disasm32.zip)，反汇编过程/函数/方法只需将（一致的）指针传递给`procedure TDisAsm.Disassemble(Address: Pointer; Size: Cardinal = 0);`.

到目前为止，我已经设法反汇编任何任意过程/方法，即使是从加载的外部模块（BPL/DLL），只要它们被适当地导出。

从当前进程（由 windows loader 加载的 EXE 图像），我想获得一个**指向 entrypoint 的有效指针**。

我想提出类似于[IDR](http://kpnc.org/idr32/en/index.htm)（交互式 Delphi 编译器）通过它的代码查看器选项卡提供的东西，但来自运行的 Exe 实例本身。

![在此处输入图像描述](../Images/f80c05947a2fef2dd5df7e6a0ac9ae99.png)

怎么做到呢？暂时我对 PE 结构不太满意（但我正在努力，相信我）并且想知道它们是否与目的相关。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-09T16:27:17.667

**我自己的回答：**

我想出了如下的工作解决方案

```
function TForm1.GetEntryPoint: Pointer;
var
  DosHeader: PImageDosHeader;
  NtHeaders : PImageNtHeaders;
  OptionalHeader: PImageOptionalHeader;
begin
  DosHeader := PImageDosHeader(HInstance + 0);
  NtHeaders := PImageNtHeaders(HInstance + Cardinal(DosHeader^._lfanew));
  OptionalHeader := PImageOptionalHeader(Cardinal(NtHeaders) + SizeOf(DWORD) + IMAGE_SIZEOF_FILE_HEADER);
  //
  Result := Pointer(HInstance + OptionalHeader^.AddressOfEntryPoint);
end; 
```

**边注：**

`SysInit.HInstance`与以下相同`System.MainInstance`：我更喜欢它，因为它听起来更像 C/C++ 并且发现它对这种情况更有意义。

[DisAsm32](http://www.kbasm.com/download/disasm32.zip)从EntryPoint反汇编时超越`call @Halt0`指令：它旨在反汇编函数/过程/方法，并将`ret`指令视为结束。

**它的寓意：**

我将寻找其他更具吸引力的反汇编程序，例如[BeaEngine](http://www.beaengine.org/)，并继续保持下去。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:58:54.363

PE结构读/写可以看一下开源JEDI库JCL，例如： [http ://www.koders.com/delphi/fid38455E3CFDAF1F38C48DA3A295034E7015A4D01E.aspx?s=zip#L1810](http://www.koders.com/delphi/fid38455E3CFDAF1F38C48DA3A295034E7015A4D01E.aspx?s=zip#L1810)

运行实例的入口点是“System.MainInstance”？

# ruby-on-rails-3 - 没有要加载的文件——FasterCSV

> ID：10497933
> 
> 赞同：0
> 
> 时间：2012-05-08T11:43:47.130
> 
> 标签：ruby-on-rails-3, passenger, web-deployment, fastercsv

这个问题已经困扰了我好几个小时了。我正在共享托管站点中部署 Rails3 应用程序。我已经能够在本地 Ubuntu 上运行该站点。它运作良好。但是当我尝试在线部署它时，它并不能很好地工作。所以我认为这可能与版本有关。另外，我没有在我的任何模块中使用这个 gem。错误信息如下：

```
A source file that the application requires, is missing.
It is possible that you didn't upload your application files correctly. Please check whether all your application files are uploaded.
A required library may not installed. Please install all libraries that this application requires.
Further information about the error may have been written to the application's log file. Please check it in order to analyse the problem.

Error message:
No such file to load -- FasterCSV
Exception class:
LoadError 
```

回溯：

```
#   File    Line    Location
0   /home/dev/project/vendor/bundle/ruby/1.8/gems/activesupport-3.1.4/lib/active_support/dependencies.rb    306 in `depend_on'
1   /home/dev/project/vendor/bundle/ruby/1.8/gems/activesupport-3.1.4/lib/active_support/dependencies.rb    214 in `require_dependency'
2   /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/engine.rb    417 in `eager_load!'
3   /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/engine.rb    416 in `each'
4   /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/engine.rb    416 in `eager_load!'
5   /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/engine.rb    414 in `each'
6   /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/engine.rb    414 in `eager_load!'
7   /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/application/finisher.rb  51  
8   /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/initializable.rb 30  in `instance_exec'
9   /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/initializable.rb 30  in `run'
10  /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/initializable.rb 55  in `run_initializers'
11  /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/initializable.rb 54  in `each'
12  /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/initializable.rb 54  in `run_initializers'
13  /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/application.rb   96  in `initialize!'
14  /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/railtie/configurable.rb  30  in `send'
15  /home/dev/project/vendor/bundle/ruby/1.8/gems/railties-3.1.4/lib/rails/railtie/configurable.rb  30  in `method_missing'
16  /home/dev/project/config/environment.rb 15  
17  config.ru   3   in `require'
18  config.ru   3   
19  /home/dev/project/vendor/bundle/ruby/1.8/gems/rack-1.3.6/lib/rack/builder.rb    51  in `instance_eval'
20  /home/dev/project/vendor/bundle/ruby/1.8/gems/rack-1.3.6/lib/rack/builder.rb    51  in `initialize'
21  config.ru   1   in `new'
22  config.ru   1 
```

Ruby -v 返回

```
ruby 1.8.7 (2011-02-18 patchlevel 334) [x86_64-linux] 
```

Rails -v 返回

```
Rails 3.1.4 
```

我正在使用 Phusion Passenger 部署应用程序。

任何帮助都可以。提前致谢。

**更新：**

这是config.ru

```
require ::File.expand_path('../config/environment',  __FILE__)
run project::Application 
```

环境.rb

```
# Load the rails application

#require 'will_paginate'
require 'rubygems'
require 'composite_primary_keys'
require 'logger'
require 'json'
#require 'composite_primary_keys'
require File.expand_path('../application', __FILE__)

# Initialize the rails application
Dealmap::Application.initialize!
Rails.logger = Logger.new(STDOUT) 
```

宝石文件：

```
source 'http://rubygems.org'

gem 'rails'
# Bundle edge Rails instead:
# gem 'rails', :git => 'git://github.com/rails/rails.git'

gem 'mysql2', '0.3.11'
#gem 'typus'
gem 'nokogiri'
gem 'geokit'
gem 'composite_primary_keys'
gem "rake", "0.8.7"
gem 'geocoder'
gem 'htmlentities'
gem 'json'
gem 'execjs'
gem 'therubyracer'
gem 'activeadmin'
gem "meta_search",    '>= 1.1.0.pre'
gem "nifty-generators", :group => :development
gem 'fastercsv'

gem 'gmaps4rails'

# Gems used only for assets and not required
# in production environments by default.
group :assets do
  gem 'sass-rails',   '~> 3.1.5'
  gem 'coffee-rails', '~> 3.1.1'
  gem 'uglifier', '>= 1.0.3'
end

gem 'jquery-rails'

# To use ActiveModel has_secure_password
# gem 'bcrypt-ruby', '~> 3.0.0'

# To use Jbuilder templates for JSON
# gem 'jbuilder'

# Use unicorn as the web server
# gem 'unicorn'

# Deploy with Capistrano
# gem 'capistrano'

# To use debugger
# gem 'ruby-debug19', :require => 'ruby-debug'

gem "mocha", :group => :test 
```

注意：我明确地将项目名称更改为“项目”。另外，我最近`gem 'fastercsv'`在显示错误后在 Gemfile 中添加了该行。

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-30T08:03:03.517

我向支持人员寻求帮助。似乎错误是我在.htaccess 中指向了错误的应用程序版本。

问题解决了。

# c# - 如何通过列名在 Excel 中获取列号

> ID：10497937
> 
> 赞同：2
> 
> 时间：2012-05-08T11:44:03.167
> 
> 标签：c#, wpf, excel, mvvm

我使用 C# 和 MVVM 模型创建了一个 Excel 应用程序。在那个 excel 文件中，我创建了一些列作为**模板列**。例如，我有一些列，如**Unit**、**Cost**和**Quantity**。现在我想找到“**数量**”的确切列号。

如何获得该特定列（数量）编号？

请问谁能告诉我一些方法来实现这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T12:29:34.907

执行 Select 语句并填充数据集。现在遍历表中的列并找到列“数量”的索引。

在数据集中加载 excel 文件的示例代码：

公共静态数据集exceldata（字符串文件位置）{

```
 DataSet ds = new DataSet();

    OleDbCommand excelCommand = new OleDbCommand(); OleDbDataAdapter excelDataAdapter = new OleDbDataAdapter();

    string excelConnStr = "Provider=Microsoft.Jet.OLEDB.4.0; Data Source=" + filelocation + "; Extended Properties =Excel 8.0;Hdr=Yes";

    OleDbConnection excelConn = new OleDbConnection(excelConnStr);

    excelConn.Open();

    DataTable dtPatterns = new DataTable(); excelCommand = new OleDbCommand("SELECT `PATTERN` as PATTERN, `PLAN` as PLAN FROM [PATTERNS$] where 1=0", excelConn);

    excelDataAdapter.SelectCommand = excelCommand;

    excelDataAdapter.Fill(dtPatterns);

    "dtPatterns.TableName = Patterns";

    ds.Tables.Add(dtPatterns);

    return ds;

} 
```

通过使用此方法，您已经在数据集中加载了表模式。现在，您可以将列名和索引存储在任何集合变量中，并使用该集合中的键列名获取列索引。

# android - 我的应用程序名称仅显示在其图标下方的一半

> ID：10497944
> 
> 赞同：0
> 
> 时间：2012-05-08T11:44:28.377
> 
> 标签：android

有没有办法让我的应用名称完全显示在其图标下？名字是（国民和约尔吉的）。但它只显示国民。如何让全名显示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T11:55:20.247

我在单词之间给出了双倍空格，它工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T13:03:32.787

正如您所提到的，您的应用名称是 Nationals and Yorgey's。您应该在 values/string.xml 中使用 Nationals 和 Yorgeys（Nationals 和 Yorgeys）

希望这会奏效。

# java - 从 IEEE 754 单精度（32 位）浮点列表创建字节流

> ID：10497946
> 
> 赞同：0
> 
> 时间：2012-05-08T11:44:36.380
> 
> 标签：java, algorithm

有没有办法转换 IEEE 单精度（32 位）列表：

```
String result = getdata();
String[] floats = result.split(",");
List<String> floatList = Arrays.asList(floats); 
```

浮点数据最终来自另一个`IEEE 754 single-precision (32-bit) floating-point number`从字节流生成的模块。

现在我正在尝试将浮点值编译回 Java 中的字节流。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T12:05:50.163

如果浮点值存储为字符串中的文本，您可以简单地将它们逐个数字地转换：

```
float[] floatValues = new float[floats.length]
for (int i=0; i< floats.length; i++) {
  floatValues[i] = Float.parseFloat(floats[i]);
} 
```

# zend-framework - 如何在 Zend Framework 中使用 GMail URL Hash 获取 GMail 消息

> ID：10497950
> 
> 赞同：2
> 
> 时间：2012-05-08T11:44:58.043
> 
> 标签：zend-framework, imap, gmail-imap

我正在使用 Zend Framework 来获取 GMail 消息。我已经能够使用以下代码使用 zend 框架对所有消息进行身份验证和获取：

```
$storage = new Zend_Mail_Storage_Imap($imap);

for ($i = 1; $i <= $storage->countMessages() && $i <=10; $i++ ){ 
    echo htmlentities($storage->getMessage($i)->subject);
    echo $storage->getMessage($i)->getContent();
} 
```

但是我想使用我们阅读邮件时通常出现在 GMail URL 中的哈希来获取邮件。例如在以下 URL 中：

[https://mail.google.com/mail/?shva=1#inbox/137261701dcae0a6](https://mail.google.com/mail/?shva=1#inbox/137261701dcae0a6) 最后一个斜杠之后的部分是我认为是十六进制的哈希**（137261701dcae0a6） 。**如何使用 Zend Framework 使用此哈希来获取消息？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-09T17:47:37.850

您提供的 Google 链接（[https://mail.google.com/mail/?shva=1#inbox/137261701dcae0a6](https://mail.google.com/mail/?shva=1#inbox/137261701dcae0a6)）指向整个对话（整个线程）。

137261701dcae0a6 是 Gmail 的十六进制线程 ID。

可以使用 X-GM-THRID Gmail 的 IMAP 扩展来搜索此线程中的邮件。

我不了解 Zend，所以无法帮你写代码，但是 IMAP 通信看起来如下：

```
C: 20eeec4bb07a44be UID SEARCH X-GM-THRID 1401511523692802395
S: * SEARCH 13622
S: 20eeec4bb07a44be OK SEARCH completed (Success) 
```

# django - django 在 webfaction 和 apache 内存负载中

> ID：10497952
> 
> 赞同：1
> 
> 时间：2012-05-08T11:45:09.813
> 
> 标签：django, apache, memory-management

我正在开发一个新的应用程序。我还处于发展阶段。但是，每当我重新启动 apache 时，我的应用程序都会获得**140MB**的内存上限。而我的其他（更旧和更复杂的）应用程序获得了**40MB**的. 这导致 webfaction 向我发送有关内存使用情况的消息。默认情况下，Apache 以 2 个进程启动，导致内存使用量超过 300MB。我将其更改为 1 个过程，如下所示：

```
MaxSpareThreads 3
MinSpareThreads 1
ServerLimit 1
SetEnvIf X-Forwarded-SSL on HTTPS=1
ThreadsPerChild 5
WSGIDaemonProcess tipleaders processes=1 threads=6 python-path=/home/<<USERNAME>>/webapps/<<WEBSITE>>:/home/<<USERNAME>>/webapps/<<WEBSITE>>/lib/python2.7:/home/<<USERNAME>>/webapps/<<WEBSITE>>/<<WEBSITE>> maximum-requests=10 
```

内存使用量不会随着每个请求而增加（所以我猜这不是内存泄漏问题）。

它只是从一个非常高的内存上限（~150MB）开始。

有什么想法我该怎么办？

PS：这是我在`views.py` [http://dpaste.com/744785/](http://dpaste.com/744785/)中的主要进口， 其他进口在这里：[http](http://dpaste.com/744786/) `models.py` ://dpaste.com/744786/ ，在这里：[http ://dpaste.com/744787/](http://dpaste.com/744787/)`urls.py``settings.py`

编辑 PS2：我的整个网站都在使用 SSL

根据要求进行编辑，该项目不与媒体打交道。没有图片，没有视频。这是一个简单的网站，它解析 2 个带有匹配项（事件和结果）的 xml 文件并将它们显示给用户。该网站没有广告（只有一个来自联属公司）。没有什么大图。处于开发阶段的站点只有10个用户，已插入数据库的体育赛事不超过5000个。

编辑：我安装了 django-devserver (https://github.com/dcramer/django-devserver)

这就是我得到的：

```
>python manage.py runserver
    [profile] heap size is 7.9 MB
    [profile] heap size is 7.9 MB

    [sql] (219ms) 2 queries with 0 duplicates
    [profile] Total time to render was 0.14s
    [profile] 5.3 MB allocated, 13.0 KB deallocated, heap size is 13.3 MB
    [sql] (219ms) 2 queries with 0 duplicates
    [profile] Total time to render was 1.08s
    [profile] 404.8 KB allocated, 18.6 KB deallocated, heap size is 13.7 MB
[12/May/2012 12:42:38] "GET / HTTP/1.1" 200 146587 (time: 6.93s; sql: 219ms (2q) 
```

我仍然对为什么 Apache 开始为我的应用程序分配 140MB 感到困惑。

# java - 给定一个单例：需要静态方法和变量吗？

> ID：10497961
> 
> 赞同：3
> 
> 时间：2012-05-08T11:46:08.970
> 
> 标签：java, static, singleton, instances

为了寻求更多意见，我重写了这个问题（我正在学习如何提问，英语不是我的母语）......

将所有方法和全局变量保持为静态是多余的还是最佳实践？（我的意思是本身只有一个实例）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T11:49:44.693

如果这些方法都不依赖于类的状态（实例属性），那么您不需要单例，只需将它们全部声明为`static`- 然后您将拥有一个实用程序类（这是问题中提出的第二种方法）。

另一方面，如果方法*确实*依赖于类的状态，并且您必须确保在任何时候都只存在一个类的实例，那么请使用单例（这是问题中建议的第一种方法）。

请注意，第二种方法实际上并不被视为单例，根据[定义](http://en.wikipedia.org/wiki/Singleton_pattern)，单例是一种“用于实现单例的数学概念，通过**将类的实例化限制为一个对象**”的模式，并且具有所有方法的类`static`不会根本*不需要*实例化。

**编辑 ：**

关于在单例类中调用静态方法，在对象实例上调用静态方法被认为是不好的风格，不管它是否是单例。这已在以前的[帖子](https://stackoverflow.com/questions/610458/why-isnt-calling-a-static-method-by-way-of-an-instance-an-error-for-the-java-co)中广泛讨论过。因此，为了保持一致性，我认为最好将单例中的所有方法声明为 non- `static`，即使它们不依赖于实例属性，并通过单例访问所有方法（您问题中的第一种方法） .

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T11:58:25.113

如果一个类使用任何资源或者初始化一个单例的成本很高，通常是值得的。

1.  单例将使您更好地控制对象的生命周期。保证在访问任何静态方法之前调用静态构造函数，但是没有办法强制静态构造函数再次运行。

2.  单例对象更容易测试，没有办法在静态方法上拥有接口。

3.  单例可以很容易地转换为另一种实现模式，可能是资源池而不是单个对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-08T11:59:23.610

具有实例方法的单例相对于具有静态方法的类的优点是它可以

*   扩展另一个类
*   实现一个接口
*   作为参数传递给方法

这有很大的不同，特别是如果你想根据这个单例对方法进行单元测试：你可以传递另一个实现相同接口的单例模拟实例。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-08T11:49:31.883

我认为这是一个“哲学问题”。

如果它只是我经常调用的一种方法，并且没有对单例的其他调用，我更喜欢第二种方式。

```
MyClass.doSomethingElse() 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-08T11:56:35.350

如果您可以使用静态方法解决问题，那么就这样做。由于您不需要获取单例实例，因此编写起来更简单、更短。但是，这些是您需要 Singleton 的典型情况：

*   延迟初始化；
*   多态性（动态调度——在运行时决定你想要哪种行为，实现现有接口，模拟测试，......）；
*   与单例的全局不同的范围（可能基于每个线程）。

要点是，如果您需要任何这些或类似的东西，您就会知道为什么静态实用程序类不适用。然后升级到单例。

# gwt - GWT UIBinder 的 XML 模式

> ID：10497965
> 
> 赞同：3
> 
> 时间：2012-05-08T11:46:16.083
> 
> 标签：gwt, uibinder

我想知道谷歌是否准备好发布（或者至少有任何机会“生产”）GWT UIBinder 的完整正式 xml 模式。

我搜索了最新的整个 GWT-SDK-2.4 发行版，但一无所获。GWT 是否只是查找 java 源代码或反映小部件的类来验证 UIBinder xml 对应项，假设 xml 模式实际上从未被预定义，因此被采用来管理验证？

**@编辑**

根据来自的答案`@Ganesh Kumar`，我已经调查`ui.xsd (r6836)`并发现了一些东西，例如第 496-499 行：

```
 <!--
        A complex type that contains both text and elements. There is no schema
        for the elements, they can be any elements.
    --> 
```

还有其他类似的事件表明`no schema for the elements`类似。似乎谷歌还没有`fully`定义甚至同意 UIBinder xml 实例的 xml 架构，不是吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T13:11:40.473

是的，Google 正在将 UiBinder 的 XSD 作为 GWT 源代码的一部分发布。您可以从[http://google-web-toolkit.googlecode.com/svn/trunk/](http://google-web-toolkit.googlecode.com/svn/trunk/)获得最新的 GWT 源代码。[您可以在此处](http://code.google.com/p/google-web-toolkit/source/browse/trunk/user/src/com/google/gwt/uibinder/resources/UiBinder.xsd?r=6836)查看 XSD

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-10T16:49:13.067

AFAIK，XSD 只是为了帮助 Google Plugin for Eclipse doe 自动完成。

本身没有*模式*`addStyleNames`，UiBinder 生成器直接将元素与类匹配，将属性与设置器匹配（有一些例外，例如，这在[`UIObject`javadoc](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/user/client/ui/UIObject.html)中有记录）。有一堆特定于某些小部件的*元素解析器*（使用一个小部件的每个小部件在其 javadoc 中都有一些特定的文档），并且有*属性解析器*将属性值解组为 Java 对象以传递给设置器。

# haskell - 给定它的主体函数，创建一个类型类的实例（或解决方法）

> ID：10497967
> 
> 赞同：1
> 
> 时间：2012-05-08T11:46:22.030
> 
> 标签：haskell, typeclass

我想要一个状态单子，我在其中保存一个模式列表。

```
data State = S { 
      modes :: [Mode]
} 
```

但是，我有两个要求：

1.  模式需要使用类型进行参数化。
2.  模式可以建立在运行时。

以下是我试图说服 GHC 的方法：

**尝试 1**，使用数据类型

```
data Mode a = Mode { 
      complF :: String -> IO [String]
      action :: State -> String -> X a
}

data State a = S { 
      modes :: [Mode a]
}

initState :: (String -> IO [String]) -> (State -> String -> X a) -> State a
initState c a = {
      modes = [buildMode c a]
}

buildMode :: (String -> IO [String]) -> (State -> String -> X a) -> Mode a
buildMode c a = {
       complF = c
     , action = a
} 
```

好.. 但是，这对我没有用，因为每个模式都必须`Mode a`是`State a`. 这意味着没有`Mode String`并且`Mode ()`可以在一个国家内共存。

**尝试 2** :, 类型类

```
class Mode a where
       complF :: String -> IO [String] 
       action :: State -> String -> X a

data State = S {
       modes :: (Mode a) => [a]
} 
```

但是，现在我不知道如何在给定的运行时构建模式`complF`和`action`. 似乎类型类的实例必须在编译时定义。

```
instance Mode DefaultMode where
       complF :: .. 
       action :: .. 
```

有解决方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T11:53:39.690

如果模式支持固定的 API，您可以使用[存在类型](http://hackage.haskell.org/trac/haskell-prime/wiki/ExistentialQuantification)来隐藏它们的表示类型。例如

```
data State = S { 
  modes :: forall a . ModeLike a => [Mode a]
} 
```

然后实现一个`ModeLike`只有类型支持的操作的`Mode`类。您的第二次尝试接近此。

由于类型类实例是打开的，因此您无需更改代码即可添加新实例。

然而，如果你有一个完全动态的系统——即你不能枚举可能模式的类型——你将不得不使用动态类型作为实例之一。

# encryption - phpbb 论坛在没有 SSL 的域上使用什么加密？

> ID：10497970
> 
> 赞同：1
> 
> 时间：2012-05-08T11:46:31.807
> 
> 标签：encryption, ssl, phpbb

我在我的一个域上建立了一个 phpbb 论坛，据我所知，该站点没有 SSL 加密（我不愿意购买，该站点也没有自签名证书，因为当我访问它我没有收到安全警告）。请问那个phpbb系统是用什么加密的，不加密运行这个论坛软件安全吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:57:12.803

phpbb（或其他任何事情）的危险不在于您是否使用 SSL 运行该站点 您管理用户输入的方式更有可能危及您的站点。

SSL 仅用于保护客户端和服务器之间的用户信息，并证明服务器是您所期望的。

攻击者可以利用 phpbb 中的错误或设计错误来控制您的站点，这是您应该担心的。SSL 无法保护您免受此影响。

phpbb 的密码应该在数据库中加盐和散列，以防网站被入侵。这将使攻击者更难获得对其他用户数据的访问权限。

我相信博客文章没有在数据库中加密，因此如果攻击成功就会被披露。

# android - 当他进入android中的电影院时如何通知用户？

> ID：10497977
> 
> 赞同：4
> 
> 时间：2012-05-08T11:47:08.363
> 
> 标签：android, google-maps, geofencing

在我的 android 应用程序中，我有地图视图和当前位置，现在显示最近的剧院我想在用户进入剧院（如地理围栏）时通知用户我在 NET 上搜索并尝试找到任何支持地理围栏的 Android api 请帮助如何做到这一点?

注意：我试过[http://geofence.locationlabs.com/](http://geofence.locationlabs.com/) 但不工作意味着 API 密钥不是 comig。任何示例代码都非常有用 在此先感谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-09T06:47:08.917

嘿，我找到了解决方案试试这个，

我们必须实现 PendingIntent & Location Manager。位置管理器获取用户的当前位置，当用户进入某个区域时，它将触发一个未决意图，一些代码片段如下：

```
//---use the LocationManager class to obtain locations data---
lm = (LocationManager)
getSystemService(Context.LOCATION_SERVICE);
//---PendingIntent to launch activity if the user is within some locations---
PendingIntent pendIntent = PendingIntent.getActivity(
this, 0, new
Intent(android.content.Intent.ACTION_VIEW,
Uri.parse("http://www.amazon.com")), 0);
lm.addProximityAlert(37.422006, -122.084095, 5, -1, pendIntent); 
```

addProximityAlert 方法，我们可以在其中设置区域（用户跟踪的半径） [这里](http://developer.android.com/reference/android/location/LocationManager.html#addProximityAlert%28double,%20double,%20float,%20long,%20android.app.PendingIntent%29)是 addProximityAlert 方法的更多细节。

# asp.net-mvc-3 - 保存网格布局数据

> ID：10497979
> 
> 赞同：1
> 
> 时间：2012-05-08T11:47:15.290
> 
> 标签：asp.net-mvc-3, devexpress

我在网格设置中有这个：

```
 var gridLayoutRepository = new GridLayoutRepository();

    settings.ClientLayout = (s, e) =>
    {
        Debug.Write(e.LayoutData);

        if (e.LayoutMode == ClientLayoutMode.Loading)
        {
            e.LayoutData = gridLayoutRepository.Load();
        }
        else
        {
            gridLayoutRepository.Save(e.LayoutData);
        }
    }; 
```

我想要一个按钮用于在数据库中保存网格状态，一个按钮用于重置它。你能帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T12:33:19.720

这种方式是可能的。在网格设置中必须保存网格状态：

```
settings.ClientLayout = (s, e) =>
    {
        if (e.LayoutMode == ClientLayoutMode.Loading)
        {
            if (Session["myGridState"] != null)
                e.LayoutData = (string)Session["myGridState"];
        }
        else
            Session["myGridState"] = e.LayoutData;
    }; 
```

然后在单击按钮时，您应该像这样保存网格状态：

```
<script type="text/javascript">
function SaveLayoutData() {
    $.getJSON("@Url.Action("SaveLayoutData", "MyController" })", null,
        function (result) {
            if(result == 'success') {
                alert("Layout save success");
            }
        });
}
</script> 
```

在控制器中：

```
 public JsonResult SaveLayoutData()
    {
       _gridStateRepository.Save(Session["myGridState"]);
       return Json("success", JsonRequestBehavior.AllowGet);
    } 
```

当您加载网格时，您应该从数据库中加载网格状态并将其写入 Session["myGridState"]

# php - getJSON + json_encode + 查询 php

> ID：10497980
> 
> 赞同：0
> 
> 时间：2012-05-08T11:47:16.817
> 
> 标签：php, getjson, json

好的，我像这样更改脚本！为什么它不起作用？！？

演示.php

```
while($row = mysql_fetch_array($result)){   
    $array[] = array(
        'var1' => $row['var1'],
        'var2' => $row['var2'],
        'var3' => $row['var3'],
        'var4' => $row['var4'],
    );
}
print json_encode($array); 
```

演示.js

```
$.getJSON("demo.php",function(result){
    $.each(result, function(i, obj){
    $(obj.var1).appendTo('div id="var1"');
    $(obj.var2).appendTo('div id="var2"');
    $(obj.var3).appendTo('div id="var3"');
    $(obj.var4).appendTo('div id="var4"');
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T12:30:14.847

首先，PHP：

`"`如前所述，数据库连接中的变量不需要引号 ( )，这是没有意义的。

您还需要在 JSON 编码之前获取所有行。改变：

```
echo json_encode(mysql_fetch_assoc($result)); 
```

至

```
$return = array();
while ($row = mysql_fetch_assoc($result))
{
    $return[] = $row;
}
echo json_encode($return); 
```

以便返回数据库中的所有行，而不仅仅是第一行。

接下来为您的 jQuery：

尝试更改：更改`$('div').html(obj.attribute1+" "+obj.attribute2 ecc...);`

为：`$(obj.attribute1+" "+obj.attribute2 ecc...).appendTo('div');`

或者：`$('<div>' + obj.attribute1+" "+obj.attribute2 ecc... + '</div>').appendTo('body');`如果您希望每个对象都在它自己的容器中。

您当前执行此操作的方式只会为每次迭代覆盖页面上每个 div 的 HTML，以便 div 元素最终仅包含集合中最后一个对象的详细信息。

编辑：

```
$.getJSON("demo.php",function(result){
    var $id = 0;
    $.each(result, function(i, obj){
        $id ++;
        $('<div id="obj' + $id + '"/>').appendTo('body');
        $('<span class="var1">' + obj.var1 + '</span>').appendTo('div#obj' + $id);
        $('<span class="var2">' + obj.var2 + '</span>').appendTo('div#obj' + $id);
        $('<span class="var3">' + obj.var3 + '</span>').appendTo('div#obj' + $id);
        $('<span class="var4">' + obj.var4 + '</span>').appendTo('div#obj' + $id);
    });
}); 
```

编辑2：

如果您试图将所有元素中的每个 'varX' 放入一个 div 中，则只需定义四个 div ( `<div id="var1"/>`, `<div id="var2"/>`, `...`)，并使用以下代码：

```
$.getJSON("demo.php",function(result){
    $.each(result, function(i, obj){
        $(obj.var1).appendTo('div#var1');
        $(obj.var2).appendTo('div#var2');
        $(obj.var3).appendTo('div#var3');
        $(obj.var4).appendTo('div#var4');
    });
}); 
```

# math - 检查矩形中的点

> ID：10497985
> 
> 赞同：1
> 
> 时间：2012-05-08T11:47:44.023
> 
> 标签：math, geometry

我有：

1.  轴对齐矩形*R* ;
2.  非垂直线*A*（由两点指定）；
3.  垂直线*B*（由 x 坐标指定）。

上面的所有对象都由**整数坐标**指定。

我需要检查***A*****和*****B*****交叉的结果是否在*R*中。*****但我不能只计算交叉*A*和*B*的结果，因为它在整数坐标中可能无法呈现。我也无法将其转换为双精度数，因为我需要获得绝对准确的结果而没有任何不准确之处。***

 **那么，我该如何检查呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T12:23:25.593

如果线是用整数坐标指定的，那么它们的交叉点就有有理坐标，可以用绝对精度来比较。

让A经过点（ax0，ay0）和（ax1，ay1），B在X0坐标。那么交叉点Y坐标为(ay0*(ax1-ax0)+(X0-ax0)*(ay1-ay0))/(ax1-ax0) = p/q，其中p和q为整数，q为正（如果需要，否定提名人）。

然后 p 可以与 R.Top*q 和 R.Bottom*q 进行比较

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T13:05:56.263

[让我们忽略 B 不与 R 相交时不感兴趣的情况]

R 从 B 中切出一条线段，我们称其为 S。当且仅当 A 与 S 相交时，B 和 A 的交点位于 R 内部。

找到 S 的点是微不足道的。

要检查一条线是否穿过一条线段，您应该检查 S 的末端是否位于 A 的不同侧 - 这可以通过符号角来检查。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-10T20:28:52.700

假设 A 上的 2 个点是`(x0, y0)`和`(x1, y1)`，其中 'x0 < x1'。

矩形由 x 坐标`xR`和 y 坐标确定`yR`

B线由x坐标确定`xB`

您要寻找的重点是，仅通过操纵整数来确定`(xB, yB)`何处：`yB`

所以首先，你需要检查

1.  if `xB * xR >= 0`(x 坐标的同一侧)
2.  if `abs(xB) <= abs(xR)`(B 线切割矩形)

如果没问题，那么你需要检查这个整数（等于（x1-x0）yB）

```
Y = (y1-y0)(xB-x0)+(x1-x0)y0 
```

验证

1.  `Y * yR >=0`（y坐标的同一侧）
2.  `abs(Y) <= (x1-x0) * abs(yR)`（这意味着你的交点在 R 区域关于它的 y 坐标）

当且仅当 4 个条件为真时，您的观点在 R 之内。希望能帮助到你。**

# amazon-s3 - 是否可以有效地将 S3 文件夹复制到新名称

> ID：10497986
> 
> 赞同：1
> 
> 时间：2012-05-08T11:47:44.770
> 
> 标签：amazon-s3, copy-paste

在 S3 控制面板中，我可以复制/粘贴一个文件夹，但是在复制它时没有重命名文件夹的选项，因此它会覆盖它的源。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-09T13:15:37.087

S3 不提供重命名选项。如果您是开发人员，则必须删除该文件夹并重新上传。如果您是非开发人员，那么您可以尝试任何工具，例如[Bucket Explorer](http://www.bucketexplorer.com/)。它提供重命名功能。

**披露**：我是 Bucket Explorer 的开发者之一

# javascript - jquery便签插件

> ID：10497993
> 
> 赞同：2
> 
> 时间：2012-05-08T11:48:15.257
> 
> 标签：javascript, jquery, json, jquery-plugins

我使用 jQuery Sticky Notes 插件[http://www.jquery-sticky-notes.com/](http://www.jquery-sticky-notes.com/) 我使用 asp.net Web 服务和 ajax 将它与数据库连接以创建笔记并编辑和删除，然后我使用 json 数组从数据库中获取笔记. 问题是：我无法使用数据库中的注释填充此插件，它使用选项数组

```
jQuery(document).ready(function() {
            var options = {
                notes:[{"id":1,
                      "text":"Test Internet Explorer",
                      "pos_x": 50,
                      "pos_y": 50,  
                      "width": 200,                         
                      "height": 200,                                                    
                    }]
                ,resizable: true
                ,controls: true 
                ,editCallback: edited
                ,createCallback: created
                ,deleteCallback: deleted
                ,moveCallback: moved                    
                ,resizeCallback: resized                    

            };
            jQuery("#notes").stickyNotes(options);
        }); 
```

如果现在有一个注释，则注释包含注释属性：- 我如何使用这一系列选项从数据库中的注释填充此插件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T12:54:34.600

尝试下面的代码并根据代码中的注释填充`Note`数组，从第 3 行开始（您需要放置一个`For`循环或其他东西）。然后将数组分配给`option.notes`倒数第二行。

```
jQuery(document).ready(function() {
            var note= new Object();
            ///////Populate the Notes array here
            note=[{"id":1,
                          "text":"Sticky Text1",
                          "pos_x": 20,
                          "pos_y": 50,  
                          "width": 200,                         
                          "height": 200,                                                    
                        },{"id":1,
                          "text":"Sticky Text 2",
                          "pos_x": 50,
                          "pos_y": 50,  
                          "width": 200,                         
                          "height": 200,                                                    
                        }];
                ///////Populate the Notes array here

                var options = {
                    notes:null
                    ,resizable: true
                    ,controls: true 
                    ,editCallback: edited
                    ,createCallback: created
                    ,deleteCallback: deleted
                    ,moveCallback: moved                    
                    ,resizeCallback: resized                    

                };
                options.notes=note;
                jQuery("#notes").stickyNotes(options); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T13:28:04.880

```
 $(documet).ready(function () {
            //calling for edit text      
            var edited = function (note) {
                alert("Edited note with id " + note.id + ", new text is: " + note.text);
            };
            // calling:create new note to add it to database
            var created = function (note) {
                alert("Created note with id " + note.id + ", text is: " + note.text);
            };

            //calling to delete note from database
            var deleted = function (note) {
                alert("Deleted note with id " + note.id + ", text is: " + note.text);
            };

            //calling to update location
            var moved = function (note) {
                alert("Moved note with id " + note.id + ", text is: " + note.text);
            };

            //calling to update size
            var resized = function (note) {
                alert("Resized note with id " + note.id + ", text is: " + note.text);
            };

            $.ajax({
                type: "POST",
                url: "../../Services/sticky_notes.asmx/getnotes",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function suc(data, status) {
                    var Jnotes = $.parseJSON(data);

                    //i have json now how can i use it to populate option
                    var options = {
                        notes: Jnotes,
                        resizable: true,
                        controls: true,
                        editCallback: edited,
                        createCallback: created,
                        deleteCallback: deleted,
                        moveCallback: moved,
                        resizeCallback: resized
                    };

                    $("#notes").stickyNotes(options);
                },
                error: function error(request, status, error) {
                    csscody.alert(request.statusText);
                }
            });
        }); 
```

# ios - 如何在我的背景上显示媒体播放器？

> ID：10497994
> 
> 赞同：1
> 
> 时间：2012-05-08T11:48:23.620
> 
> 标签：ios, media-player

我在背景上显示媒体播放器时遇到问题。

我正在使用这段代码：

```
NSMutableArray *layout = [ LayoutEpisodes layoutEpisodes];   
NSMutableArray *videoSplat = [ VideoUrls videoEpisodes];

NSLog(@" %@", videoSplat);

NSArray* nibView1 = [[NSBundle mainBundle] loadNibNamed:@"SeasonPreview" owner:self options:nil]; 
NSArray* nibView2 = [[NSBundle mainBundle] loadNibNamed:@"SeasonPreview" owner:self options:nil];
NSArray* nibView3 = [[NSBundle mainBundle] loadNibNamed:@"SeasonPreview" owner:self options:nil];
NSArray* nibView4 = [[NSBundle mainBundle] loadNibNamed:@"SeasonPreview" owner:self options:nil];

NSArray* nibVideoView = [[NSBundle mainBundle] loadNibNamed:@"SeasonPreview" owner:self options:nil];
[[VideoPreview alloc]init];
[[SeasonsPreview alloc]init];

SeasonsPreview *firstView =  [nibView1  objectAtIndex:0];
SeasonsPreview *secondView = [nibView2  objectAtIndex:0];
SeasonsPreview *thirdView =  [nibView3  objectAtIndex:0];
SeasonsPreview *fourthView = [nibView4  objectAtIndex:0];

SeasonsPreview *splatterVideo = [nibVideoView objectAtIndex:0];

int i=0, j=0;
for(i=0;i<([layout count]);i++,j++)
{

    NSString *titleViewImage = [layout objectAtIndex:i];
    i++;
    NSString *logoViewImage =[layout objectAtIndex:i];
    i++;
    NSString *backgroundViewImage =[layout objectAtIndex:i];

    NSURL *urlTitle = [NSURL URLWithString:titleViewImage];  
    UIImage *titleImage = [UIImage imageWithData:[NSData dataWithContentsOfURL:urlTitle]]; 

    NSURL *urlLogo = [NSURL URLWithString:logoViewImage];  
    UIImage *logoImage = [UIImage imageWithData:[NSData dataWithContentsOfURL:urlLogo]]; 

    UIColor *backgroundUIcolor =[UIColor colorWithHexString:backgroundViewImage];

    if(i>=0 && i<=3){
    firstView.titleView.image = titleImage;
    firstView.logoView.image = logoImage;
    firstView.backgroundView.backgroundColor = backgroundUIcolor;
    firstView.center = CGPointMake(385,150);} 
```

（注意：这不是所有代码，因为它太长了。）

引用`FirstView`是我为创建视图的新实例而调用的对象。这个对象允许我显示背景、标题和一张小图片。

我必须添加媒体播放器：我可以使用与 FirstView 相同的过程吗？

# python - python Google App Engine：Webapp2：身份验证

> ID：10497997
> 
> 赞同：3
> 
> 时间：2012-05-08T11:48:28.140
> 
> 标签：python, google-app-engine, authentication, webapp2

我正在为我的一个项目使用自定义用户帐户，并且正在使用 webapp2 提供的用户模型和身份验证。一切运行完美，但我被困在身份验证不成功的部分。

例如：

```
#imports
from webapp2_extras.appengine.auth.models import User

class LoginHandler(SomeBaseRequestHandler):
  def get(self):
  '''self code goes in here'''

  def post(self):
    auth_id = 'authentication:id'
    password = 'somepassword'

    user = User.get_by_auth_password(authid, password)
    if user:
      # code to set a session and redirect to homepage
    else:
      # append error list and render a template 
```

我可以登录用户，但是如果用户提供了错误的用户名或密码，就会出现问题。如果用户提供任何错误的凭据，则会引发服务器端错误。

```
Traceback (most recent call last):
File "/opt/google_appengine_1.6.4/lib/webapp2/webapp2.py", line 1536, in __call__
rv = self.handle_exception(request, response, e)
File "/opt/google_appengine_1.6.4/lib/webapp2/webapp2.py", line 1530, in __call__
rv = self.router.dispatch(request, response)
File "/opt/google_appengine_1.6.4/lib/webapp2/webapp2.py", line 1278, in default_dispatcher
return route.handler_adapter(request, response)
File "/opt/google_appengine_1.6.4/lib/webapp2/webapp2.py", line 1102, in __call__
return handler.dispatch()
File "/home/tigerstyle/orbit/orbit/orbit/handlers.py", line 36, in dispatch
webapp2.RequestHandler.dispatch(self)
File "/opt/google_appengine_1.6.4/lib/webapp2/webapp2.py", line 572, in dispatch
return self.handle_exception(e, self.app.debug)
File "/opt/google_appengine_1.6.4/lib/webapp2/webapp2.py", line 570, in dispatch
return method(*args, **kwargs)
File "/home/tigerstyle/orbit/orbit/orbit/handlers.py", line 239, in post
user = User.get_by_auth_password(auth_id, password)
File "/opt/google_appengine_1.6.4/lib/webapp2/webapp2_extras/appengine/auth/models.py",    line 301, in get_by_auth_password
raise auth.InvalidPasswordError()
InvalidPasswordError 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-08T13:18:51.830

您可以使用 try / except 来控制您的登录流程：

```
def post(self):
  """
  username: Get the username from POST dict
  password: Get the password from POST dict
  """
  username = self.request.POST.get('username')
  password = self.request.POST.get('password')
  # Try to login user with password
  # Raises InvalidAuthIdError if user is not found
  # Raises InvalidPasswordError if provided password doesn't match with specified user
  try:
    self.auth.get_user_by_password(username, password)
    self.redirect('/secure')
  except (InvalidAuthIdError, InvalidPasswordError), e:
    # Returns error message to self.response.write in the BaseHandler.dispatcher
    # Currently no message is attached to the exceptions
    return e 
```