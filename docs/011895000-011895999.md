# StackOverflow 问答 11895000-11895999

# java - 将 portletSession 值从 Java 传递到 Javascript

> ID：11895000
> 
> 赞同：0
> 
> 时间：2012-08-10T03:16:48.233
> 
> 标签：java, javascript, jsp, websphere

我想将一个值从我的 Java 类传递给 Javascript。我已将值设置为`portletSession`. 我不知道如何从`portletSession`Javascript 中获取值。

这是我用来在 portletSession 中设置值的代码。

```
 PortletSession portletSession = request.getPortletSession();
 portletSession.setAttribute("noExist", noExist); 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T03:23:24.110

不要使用 portletSession，而是使用 Cookie。您可以使用 javascript 从 cookie 访问`document.cookies`

但是还有另一种方法：只需将变量打印到脚本块中，javascript 就可以读取它。

```
var variableFromJSP = <% print variable here %>; 
```

希望这有帮助

# php - PHP中的全局变量不起作用

> ID：11895006
> 
> 赞同：1
> 
> 时间：2012-08-10T03:18:13.543
> 
> 标签：php, variables, scope, global-variables

我需要`$layers`从函数内部访问`isOk($layer)`，但是我尝试外部函数变量`$layers`的一切都可以，但是在函数内部，即使使用全局也是返回 null。

这是代码：

```
$layers = array();
foreach($pcb['PcbFile'] as $file){
    if(!empty($file['layer'])){
        $layers[$file['layer']] = 'ok';
    }
}
// Prints OK!
var_dump($layers);

function isOk($layer){
    global $layers;
// Not OK! prints NULL
    var_dump($layers);
    if(array_key_exists($layer, $layers))
        return ' ok';
    return '';
}
// NOT OK
echo isOk('MD'); 
```

我总是使用面向对象，但这太简单了，我用一个简单的函数做了……为什么`$layers`在函数内部没有被正确地“接收”？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-10T03:48:12.370

看这个...

HalfAssedFramework.php

```
<?php
class HalfAssedFramework {
    public static function run($path) {
        include $path;
    }
}

HalfAssedFramework::run('example.php'); 
```

例子.php

```
<?php

$layers = array();
foreach($pcb['PcbFile'] as $file){
    if(!empty($file['layer'])){
        $layers[$file['layer']] = 'ok';
    }
}
// Prints OK!
var_dump($layers);

function isOk($layer){
    global $layers;
// Not OK! prints NULL
    var_dump($layers);
    if(array_key_exists($layer, $layers))
        return ' ok';
    return '';
}
// NOT OK
echo isOk('MD'); 
```

直接运行`example.php`，它应该可以工作。运行`HalfAssedFramework.php`，它不会。

问题是范围。当`example.php`被包含在`run`函数中时，它里面的所有代码都继承了函数的作用域。在该范围内，`$layers`默认情况下不是全局的。

要解决此问题，您有几个选择：

*   如果你知道`example.php`永远不会直接运行，你可以`global $layers;`在文件的开头说。不过，如果脚本直接运行，我不确定这是否会起作用。
*   随处替换`$layers`。`$GLOBALS['layers']`
*   `$layers`作为参数添加到`isOk`.
*   [按照Geoffrey](https://stackoverflow.com/a/11895137/319403)的建议，将此代码放在一个类中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T03:38:56.190

没有完全回答这个问题，但是您是否考虑过*不*使用全局变量？全局变量确实不是那么酷：它们使您的代码更难阅读、更难理解，因此也更难维护。

考虑这样的事情：

```
<?php

class LayerCollection
{
    private $layers;

    public function __construct($layers)
    {
        $this->layers = $layers;
    }

    public static function fromPcbFile($data)
    {
        $layers = array();

        foreach ($data['PcbFile'] as $layer) {
            if (!empty($layer)) {
                $layers[$layer] = true;
            }
        }

        return new self($layers);
    }

    public function hasLayer($layer)
    {
        return array_key_exists($layer, $this->layers);
    }
}

$layers = LayerCollection::fromPcbFile($pcb);
var_dump($layers->hasLayer('MD')); 
```

不是更好看吗？然后，您可以继续丰富`LayerCollection`，因为您需要更多与图层交互的方式。这并不完美，因为有`still`一个静态方法存在（使测试更难，工厂更适合该工作），但这是重构的良好开端。

更多关于为什么全局变量是邪恶的：[https ://softwareengineering.stackexchange.com/questions/148108/why-is-global-state-so-evil](https://softwareengineering.stackexchange.com/questions/148108/why-is-global-state-so-evil)

# php - 如何比较 2 个用户在单选按钮上的输入

> ID：11895008
> 
> 赞同：0
> 
> 时间：2012-08-10T03:18:45.127
> 
> 标签：php, mysql, statistics

任何人都可以提供有关对集合的相似性进行排名的方法的指导吗？

我有 2 个用户通过勾选 3 个是、否和可能的单选按钮来回答问题。

任何人都可以建议一种算法来单独和作为一组比较受访者对每个问题的答案的相似性吗？我必须在 PHP/MySQL 平台上实现它。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T04:16:15.800

您似乎想要计算相关强度。

对于每个响应对，通过测量两个答案之间的距离来计算相似度。将 No、Maybe、Yes 视为 0、1、2（如果更适合 PHP，则为 1、2、3）并简单地从响应 B 中减去响应 A。

因此，对于受访者 A 和 B，我们计算距离*d*：

```
A  B                d
0  0   Abs(0 - 0) = 0
0  1   Abs(1 - 0) = 1
0  2   Abs(2 - 0) = 2

1  0   Abs(0 - 1) = 1
1  1   Abs(1 - 1) = 0
1  2   Abs(2 - 1) = 1

2  0   Abs(0 - 2) = 2
2  1   Abs(1 - 2) = 1
2  2   Abs(2 - 2) = 0 
```

这会为您提供问题的相似度分数。现在，要确定对一组问题的回答的相似性，您需要做的就是将分数相加，并将其表示为最大可能分数的一小部分。MaxScore 就是最大距离乘以问题的数量（例如，100 个问题的最高分数是 200）

如果每个问题有五个可能的答案范围，则 100 个问题的最高分数为 400。

# html-select - 具有多个值的选项的 HtmlDropdownlist

> ID：11895009
> 
> 赞同：1
> 
> 时间：2012-08-10T03:18:47.037
> 
> 标签：html-select

我想创建 MVC razor HtmlDropdownlist，它具有多个值的选项，例如选项具有学生的名称和班级这两个属性。

当我想选择下拉列表时，两个属性同时出现。

## 美国广播公司 123

东风456

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-15T10:14:45.107

如果您要从数据库中提取这些值，您可以将两个字段连接为一个并将其提取到列表中。最后将列表显示到下拉列表中。

# javascript - JQuery DataPicker 添加上

> ID：11895013
> 
> 赞同：0
> 
> 时间：2012-08-10T03:19:23.540
> 
> 标签：javascript, jquery

我想把 datepicker 放在我的 Application 上。你们能帮帮我吗？我对 JQuery 了解不多。我需要为此添加任何额外的插件还是只输入编码？？这是我使用的编码。

```
 <html xmlns="http://www.w3.org/1999/xhtml">
    <%@include file="header.jsp"%>
    <head>
     <script type="text/javascript" src="http://jqueryjs.googlecode.com/files/jquery-1.3.2.min.js"></script>
    <script type="text/javascript">
    $('#example6').datetimepicker({
    showSecond: true,
    timeFormat: 'hh:mm:ss',
    stepHour: 2,
    stepMinute: 10,
    stepSecond: 10
});
    </script>
    </head>
    <div id="templatemo_content_right">
     <h1>Login Form</h1>
        <center>
            <form action="LoginServlet" method="POST" id="theform" name="theform">
                <table cellspacing="20" cellpading="10">
                    <tr>
                        <td>Department Id:</td>
                        <td><input type="text" name="departmentId" id="userName"/></td>
                    </tr>
                    <tr>
                        <td>Department Name:</td>
                        <td><input type="password" name="departmentName" id="password"/></td>
                    </tr>
                      <tr>
                        <td>Department Name:</td>
                        <td><input type="password" name="departmentName" id="password"/></td>
                    </tr>
                     <tr>
                        <td>Appointed Date:</td>
                        <td><input id="example6" type="text"></td>
                    </tr>
                    <tr>
                        <td><input type="submit" value="Login"/></td>
                    </tr>

                </table>

            </form>
        </center>

        <div class="cleaner_with_height">&nbsp;</div>

    </div> <!-- end of content right -->
    <%@include file="footer.jsp" %>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T03:23:58.750

您需要添加 jQuery UI 脚本：

```
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js"></script> 
```

在 jQuery 脚本标签之后添加它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T03:24:48.557

在加载 jQuery 和您的脚本之间，您需要加载插件。或者我错过了什么。另外，为了将来参考，如果你遇到困难，请创建一个[jsfiddle](http://jsfiddle.net/)

# android - Android，如何在可扩展列表视图中获取视图并应用我们的更改？

> ID：11895014
> 
> 赞同：0
> 
> 时间：2012-08-10T03:19:29.097
> 
> 标签：android, expandablelistview

在我的可扩展列表视图中，当用户单击一个孩子时，我想要将文本视图的文本更改为其他内容。怎么可能？

我有这个代码可以让孩子点击：

```
expListView = (ExpandableListView) findViewById(R.id.elv);
        expListView.setOnChildClickListener(new OnChildClickListener() {
            @Override
            public boolean onChildClick(ExpandableListView parent, View v, int groupPosition, int childPosition, long id) {
                Log.i(TAG, "item " + childPosition + " of group " + groupPosition + " clicked.");

                return false;
            }
        }); 
```

但是我怎样才能访问它的文本视图呢？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:46:30.333

我发现，解决方案是使用 set tag 和 get tag。

# php - PHP_Count 给定文件夹下所有文件的总行数

> ID：11895015
> 
> 赞同：0
> 
> 时间：2012-08-10T03:19:59.170
> 
> 标签：php

只是想计算文件夹中所有文件的总行数。以下 php 函数可帮助我仅计算特定文件的行数。只是想知道从文件夹中控制总行数的方法是什么。

```
$lines = COUNT(FILE($file)); 
```

谢谢。！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T03:31:43.077

您可以迭代目录并计算每个文件并将它们全部汇总。而且您正在使用`file()`函数，它将整个内容加载到内存中，如果文件非常大，您的 php 脚本将达到配置的内存限制。

如果您可以使用外部命令，则可以使用一行来解决。（如果您使用的是 Windows，请忽略它。）

```
$total = system("find $dir_path -type f -exec wc -l {} \; | awk '{total += $1} END{print total}'"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T03:31:17.693

可能是这样的：

```
<?php

$line_count = 0;
if ($handle = opendir('some/dir/path')) {
    while (false !== ($entry = readdir($handle))) {
        if (is_file($entry)) {
            $line_count += count(file($entry));
        }
    }
    closedir($handle);
}

var_dump($line_count);

?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T03:37:51.107

查看 DirectoryIterator 的标准 PHP 库（又名 SPL）：

```
$dir = new DirectoryIterator('/path/to/dir');
foreach($dir as $file ){
  $x += (isImage($file)) ? 1 : 0;
} 
```

（仅供参考，有一个名为 iterator_count() 的未记录函数，但我想现在最好不要依赖它。而且你需要过滤掉看不见的东西，比如 . 和 .. 无论如何。）

**或试试这个：--**

见网址：- [http://www.brightcherry.co.uk/scribbles/php-count-files-in-a-directory/](http://www.brightcherry.co.uk/scribbles/php-count-files-in-a-directory/)

```
$directory = "../images/team/harry/";
if (glob($directory . "*.jpg") != false)
{
 $filecount = count(glob($directory . "*.jpg"));
 echo $filecount;
}
else
{
 echo 0;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T18:52:24.660

计算行数的一个非常基本的示例可能如下所示，它给出的数字与[xdazz 的答案](https://stackoverflow.com/a/11895087/113938)相同。

```
<?php

$files = new RecursiveIteratorIterator(new RecursiveDirectoryIterator(__DIR__));

$lines = $files = 0;
foreach ($files as $fileinfo) {
    if (!$fileinfo->isFile()) {
        continue;
    }
    $files++;
    $read = $fileinfo->openFile();
    $read->setFlags(SplFileObject::READ_AHEAD);
    $lines += iterator_count($read) - 1; // -1 gives the same number as "wc -l"
}

printf("Found %d lines in %d files.", $lines, $files); 
```

也可以看看

*   [`RecursiveDirectoryIterator`](http://php.net/recursivedirectoryiterator)
*   [`SplFileInfo`](http://php.net/splfileinfo)
*   [`SplFileObject`](http://php.net/splfileobject)
*   [`RecursiveIteratorIterator`](http://php.net/recursiveiteratoriterator)
*   [`iterator_count()`](http://php.net/iterator_count)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-12-01T01:51:06.627

与上面的相同（salathe 的答案），除了这个打印行数（现在在 php7 中）而不是一堆错误消息。

```
$files = new RecursiveIteratorIterator(new 
RecursiveDirectoryIterator(__DIR__));

$lines = 0;
foreach ($files as $fileinfo) {
    if (!$fileinfo->isFile()) {
        continue;
    }
    $read = $fileinfo->openFile();
    $read->setFlags(SplFileObject::READ_AHEAD);
    $lines += iterator_count($read) - 1; // -1 gives the same number as "wc -l"
}

echo ("Found :$lines"); 
```

# java - android - 如何将 java swing 转换为 android？

> ID：11895016
> 
> 赞同：0
> 
> 时间：2012-08-10T03:19:58.283
> 
> 标签：java, android, swing, user-interface, layout

我对 android 完全是个菜鸟，真的很难理解一些概念。我对java swing也有一点了解。我对使用 spring mvc 的 java web 应用程序有点了解。我正在使用日食靛蓝

这就是发生的事情：

在我成功创建名为的 android 应用程序后，`AndroidExer`我创建了一个包`com.swing.demo`并放置了已经运行的 swing 源代码`JTextAreaDemo.java`（源代码来自教程。这是在纯 java 中工作的）。似乎android无法识别swing包（我不知道我是否理解正确，请帮助我）因为我遇到了很多错误，其中大多数说`<Class name> cannot be resolved to a type.`当我检查建议时，eclipse不包含任何建议关于导入这让我觉得android不承认swing。

我尝试了一些研究，发现android无法运行swing。 [我们可以在 android 上运行 java swing 和 applet](https://stackoverflow.com/questions/5621015/can-we-run-java-swing-and-applet-on-android)

我的问题是如何将简单的摇摆演示转换为 android。我不知道从哪里以及如何开始。我真的需要帮助。顺便说一句，代码`JTextAreaDemo.java`如下：

**`JTextAreaDemo.java`**

```
package com.swing.demo;

import java.awt.Container;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

import javax.swing.JFrame;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;

public class JTextAreaDemo extends JFrame implements ActionListener {

   /**
 * 
 */
private static final long serialVersionUID = 5416184196156296457L;
JTextField jtfInput;
JTextArea jtAreaOutput;
String newline = "\n";
public JTextAreaDemo() {
    createGui();
}
public void createGui() {
    jtfInput = new JTextField(20);
    jtfInput.addActionListener(this);
    jtAreaOutput = new JTextArea(5, 20);
    jtAreaOutput.setCaretPosition(jtAreaOutput.getDocument()
            .getLength());
    jtAreaOutput.setEditable(false);
    JScrollPane scrollPane = new JScrollPane(jtAreaOutput,
            JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,
            JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);
    GridBagLayout gridBag = new GridBagLayout();
    Container contentPane = getContentPane();
    contentPane.setLayout(gridBag);
    GridBagConstraints gridCons1 = new GridBagConstraints();
    gridCons1.gridwidth = GridBagConstraints.REMAINDER;
    gridCons1.fill = GridBagConstraints.HORIZONTAL;
    contentPane.add(jtfInput, gridCons1);
    GridBagConstraints gridCons2 = new GridBagConstraints();
    gridCons2.weightx = 1.0;
    gridCons2.weighty = 1.0;
    contentPane.add(scrollPane, gridCons2);
}
public void actionPerformed(ActionEvent evt) {
    String text = jtfInput.getText();
    jtAreaOutput.append(text + newline);
    jtfInput.selectAll();
}
public static void main(String[] args) {
    JTextAreaDemo jtfTfDemo = new JTextAreaDemo();
    jtfTfDemo.pack();
    jtfTfDemo.addWindowListener(new WindowAdapter() {

        public void windowClosing(WindowEvent e) {
            System.exit(0);
        }
    });
    jtfTfDemo.setVisible(true);
}
} 
```

我真的需要你的帮助。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T03:22:00.397

我不认为你可以把这两者混为一谈。如果你想要安卓原生应用，你需要使用 Android API 而不是 Swing。这是安卓[文档](http://developer.android.com/guide/components/index.html)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T03:33:37.787

从简单开始。您首先构建接口。然后开始添加一些“管道”。

把这个过程分解成小步骤，你会弄明白的。当您遇到困难时，您会更容易获得帮助。

恐怕你能希望的最好的就是重用你的 swig 应用程序将使用的业务逻辑。除此之外，您必须从头开始创建事物。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T03:33:17.757

据我所知，没有程序可以直接将它们转换为android布局，但事实上android和java非常相似。如果您使用的是 eclipse，那么构建 UI 不会那么难。你也可以使用android开发者提供的这些[布局教程](http://developer.android.com/guide/topics/ui/declaring-layout.html)、[事件教程](http://developer.android.com/guide/topics/ui/ui-events.html)和[控件教程](http://developer.android.com/guide/topics/ui/controls.html)开始学习。

# android - 如何重新加载视图？

> ID：11895017
> 
> 赞同：0
> 
> 时间：2012-08-10T03:20:09.013
> 
> 标签：android, android-view

我发现“无效”无法重新加载视图的样式，并且想知道如何制作“视图”来重新加载自己的样式。

我需要一种像“setContentView”这样的方法，但不重新加载所有视图。

例如，在“padphone”中，当手机推入pad并通过使用代码从“xlarge”文件夹中获取值时，显示会发生变化。但是视图不会从 xlarge 文件夹重新加载样式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T03:39:39.560

如果您想要在此视图的大小更改时刷新视图，[requestLayout](https://developer.android.com/reference/android/view/View.html#requestLayout%28%29) 可以完成这项工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-28T02:07:38.307

哦！我知道我做不到。

实际上，android 正在使用“Reflection”加载 Xml 转换为属性。比如“膨胀”。

所以，所以我只能“setContentView”。

# java - PlayN 对设计师的友好程度如何？我应该知道哪些库对设计师更友好？

> ID：11895018
> 
> 赞同：1
> 
> 时间：2012-08-10T03:20:18.750
> 
> 标签：java, android, xml, user-interface, playn

我在一个小型战术游戏开发团队中，我们只有一个程序员，我正在尝试协助编程。我们都在学习 PlayN（独立团队），我想知道是否有任何可视化或数据驱动的工具，或者可以帮助主要组件（菜单系统、故事）的更多数据（HTML/XML/电子表格）驱动方法的库/cutscene 系统（也可能用于单位百科全书和赢/输屏幕），主游戏（瓷砖/单位/UI/库存）），这样我们就可以有一个快速/迭代的开发周期。

对于进入 Android/移动开发的开发人员来说，PlayN 是多平台（关键平台 Android）游戏的最佳引擎，还是我们应该看看不同的引擎？

我一直在做我的研究——我已经对 SimpleTMX 和 TriplePlay 有所了解，但正在寻找更多工具来加速开发。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T21:32:08.850

As far as I know, Google PlayN does not have any editor or something else. The first step would be to even write a level loader. I don't have any ideas wheater PlayN can load files like XML. It's just a library for code.

For creating 2d multiplatform games you should take a look at Gamemaker Studio. Just google it. It has lots of things like collisions and physics built in bit it's expensive. For 3d games you could take a look at Unreal Engine, Unity, Delta Engine or Cryengine but they're also very expensive.

# ios - 贝宝 MPL iOS 错误

> ID：11895028
> 
> 赞同：6
> 
> 时间：2012-08-10T03:22:05.827
> 
> 标签：ios, paypal

我正在尝试将 PayPal MPL 库集成到 iOS 应用程序中。我有一个 UIViewController 正在创建 PayPal 按钮，如下所示：

```
- (void)viewDidLoad
{
    [PayPal initializeWithAppID:SANDBOX_API_KEY
             forEnvironment:ENV_SANDBOX];

    UIButton* paypalButton = [[PayPal getPayPalInst] getPayButtonWithTarget:self andAction:@selector(checkoutPayment) andButtonType:BUTTON_294x43];
    [self.view addSubview:paypalButton];

    [super viewDidLoad];
} 
```

应用程序在打开 ViewController 后一秒左右将以下错误消息打印到控制台。

```
Checking Error********************
Posting Error: 2147483647
DEVELOPER ERROR: This app isn’t using a supported version of the PayPal library. 
```

我在 Google 上找不到有关此错误的任何信息，所以我在这里。关于如何解决它的任何想法？

我正在使用 xcode 4.5 和 iOS 6 beta 进行测试，以及 MPL 库的 1_5_5_070_iPhone_DevelopersPackage 版本（网站上的最新版本）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-10-20T11:02:18.433

我还注意到您的 info.plist 中必须有“捆绑显示名称”如果没有它，您也会收到发布错误

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-10-14T09:00:49.190

我知道这已经很老了，但是还有一个要求。我花了一段时间才知道。它不能是一个很大的整数。我有一个版本字符串，类似于 20141014122113（或 YMdHms），这也将其关闭。将其缩短为 20141014 后，一切都开始工作了。所以这些似乎是规则：

1.  您必须有一个捆绑显示名称
2.  只有内部版本号中的数字
3.  内部版本号不能太长

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T04:39:43.293

问题是 Info.plist 中的 Bundle 版本使用了字母数字字符。似乎 PayPal 库读取了它并希望它是一个数字。

# c++ - 安装opencv时出错，我使用的是lion和xcode4.4

> ID：11895030
> 
> 赞同：2
> 
> 时间：2012-08-10T03:22:42.963
> 
> 标签：c++, xcode, opencv

我点击了这个[链接](http://sadeepj.blogspot.com/2012/03/installing-and-configuring-opencv-to.html)，在我输入 make 之后，它变成了这样：

```
[ 38%] Built target lib tiff <br>
[ 38%] Built target opencv_core <br>
[ 38%] Built target opencv_imgproc <br>
[ 38%] Built target lib jasper <br>
[ 38%] Built target libjpeg <br> 
[ 38%] Built target opencv_highgui <br>
[ 38%] Building CXX object modules/flann/CMakeFiles/opencv_flann.dir/src/flann.o <br>
In file included from /Users/indrawinarta/Downloads/OpenCV- 2.3.1/modules/flann/src/flann.cpp:29: <br>
In file included from /Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/src/precomp.hpp:17:<br>
In file included from /Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/include/opencv2/flann/all_indices.h:42: 
/Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/include/opencv2/flann/lsh_index.h:89:81: error: 
      no matching constructor for initialization of 'cvflann::LshIndexParams'
  ...input_data, const IndexParams& params = LshIndexParams(),<br>
                                             ^
/Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/include/opencv2/flann/lsh_index.h:59:5: note: 
      candidate constructor not viable: requires 3 arguments, but 0 were
      provided
    LshIndexParams(unsigned int table_number, unsigned int key_size, ...
    ^
/Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/include/opencv2/flann/lsh_index.h:57:8: note: 
      candidate constructor (the implicit copy constructor) not viable: requires
      1 argument, but 0 were provided
struct LshIndexParams : public IndexParams <br>
       ^
In file included from /Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/src/flann.cpp:29: <br>
In file included from /Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/src/precomp.hpp:10: <br>
In file included from /Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/include/opencv2/flann/index_testing.h:39: <br>
In file included from /Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/include/opencv2/flann/nn_index.h:39: <br>
In file included from /Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/include/opencv2/flann/params.h:33: <br>
/Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/include/opencv2/flann/any.h:88:67: error: 
      call to function 'operator<<' that is neither visible in the template
      definition nor found by argument-dependent lookup
    virtual void print(std::ostream& out, void* const* src) { out << ... <br>
                                                                  ^
/Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/include/opencv2/flann/any.h:136:44: note:  <br>
      in instantiation of member function <br>
      'cdiggins::anyimpl::big_any_policy<cdiggins::anyimpl::empty_any>::print' <br>
      requested here <br>
    static typename choose_policy<T>::type policy; <br>
                                           ^
/Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/include/opencv2/flann/any.h:159:18: note:  <br>
      in instantiation of function template specialization <br>
      'cdiggins::anyimpl::get_policy<cdiggins::anyimpl::empty_any>' requested <br>
      here <br>
        : policy(anyimpl::get_policy<anyimpl::empty_any>()), object(NULL) <br>
                 ^
/Users/indrawinarta/Downloads/OpenCV-2.3.1/modules/flann/include/opencv2/flann/any.h:276:22: note:  <br>
      'operator<<' should be declared prior to the call site or in namespace <br>
      'cdiggins::anyimpl' <br>
inline std::ostream& operator <<(std::ostream& out, const any& any_val) <br><br>
                     ^
2 errors generated. <br>
make[2]: *** [modules/flann/CMakeFiles/opencv_flann.dir/src/flann.o] Error 1 <br>
make[1]: *** [modules/flann/CMakeFiles/opencv_flann.dir/all] Error 2 <br>
make: *** [all] Error 2 <br> 
```

如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-07T18:44:58.557

这个补丁为我修复了编译：http: [//opencv-users.1802565.n2.nabble.com/Compiler-errors-on-Mac-Lion-10-7-3-td7459126.html](http://opencv-users.1802565.n2.nabble.com/Compiler-errors-on-Mac-Lion-10-7-3-td7459126.html)

# api - 彭博API服务器？

> ID：11895032
> 
> 赞同：3
> 
> 时间：2012-08-10T03:23:04.323
> 
> 标签：api, bloomberg

查看bloomberg api [http://www.openbloomberg.com/](http://www.openbloomberg.com/) 和下载的示例代码，看起来我们需要一些服务器来获取数据？

```
private void run(String[] args) throws Exception
{
    String serverHost = "127.0.0.1";
    int serverPort = 8194;
    String serviceName = "//blp/mktdata";

    SessionOptions sessionOptions = new SessionOptions();
    sessionOptions.setServerHost(serverHost);
    sessionOptions.setServerPort(serverPort); 
```

服务器是免费提供的还是我们需要购买？

如果没有，这意味着我们仍然没有开放的免费数据（实时的还是历史的？）

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:31:50.023

`127.0.0.1"`是您的本地计算机，您需要打开彭博终端并登录（=> 您需要成为订阅者，这是收费的）。

唯一“免费”的是 API，它已经开源。但数据仍然是专有的，无论是实时的还是历史的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-05T15:57:20.970

[此](https://stackoverflow.com/questions/9097382/bloomberg-open-api)SO 帖子中有相关信息。特别[是 user2023861](https://stackoverflow.com/users/2023861/user2023861)提供了一个项目[Bloomberg API Emulator](http://bemu.codeplex.com/)，您可能会发现它很有用。我没试过。彭博社在回答发送至 open-tech@bloomberg.net 的问题时宣布了一项计划，计划在本月晚些时候发布他们自己的模拟器。在对问题 7 的答复中提到[了](http://www.openbloomberg.com/faq/)这样做的意图。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-09T08:26:53.270

您可以从彭博网站访问一些数据，例如投资基金的历史数据。它不是一个正式发布的 API，所以我将来会改变，但现在它正在工作。[在这里，您可以找到下载年度时间序列的简单示例。](http://freeconnection.blogspot.hu/2013/09/correlation-of-investment-founds-python.html)

# android - 将 imageSwitcher 与 imageLoader 一起使用

> ID：11895033
> 
> 赞同：4
> 
> 时间：2012-08-10T03:23:16.870
> 
> 标签：android, imageswitcher, image-load

我是android平台的初学者。我想在我的 ListAdapter 中使用 ImageLoader 和 ImageSwitch。

这样做的方法是什么？谢谢

# iphone - 报亭应用程序需要推送通知吗？

> ID：11895035
> 
> 赞同：2
> 
> 时间：2012-08-10T03:23:33.513
> 
> 标签：iphone, ipad, apple-push-notifications, newsstand-kit

如果我提交一个不使用推送通知的报亭应用程序，而是在每次用户启动应用程序时向我的服务器查询新内容，苹果会拒绝我的应用程序吗？即用户是否希望推送所有报亭应用程序？

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-10T03:28:53.013

不，Apple 的指导方针不强制使用推送通知，您的应用不应该因为不使用而被拒绝。但是，如果您实施推送通知，它可能会为您的用户提供更好的体验。否则，用户知道更新可用的唯一方法是手动运行您的应用程序并检查。

请注意，报亭应用的官方[审核指南](https://developer.apple.com/app-store/review/guidelines/)与任何其他应用的审核指南完全相同。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T08:19:39.603

Aroth 已经正确回答了这个问题，但我想根据我的个人经验为报亭应用添加一些需要牢记的要点。

1.  Apple 将拒绝任何未订阅的 Newsstand 应用程序。如果您的所有内容都是免费的，您仍然必须创建免费订阅。
2.  内容必须是杂志/报纸/时事通讯。报亭中没有目录等。
3.  新内容必须以最多四分之一的频率出现。

要回答这个问题

> 用户是否希望推送所有报亭应用程序？

是的，他们会的，因为它是 NS 应用程序最重要的功能之一，并且是默认假设的。App Store 中的每个 NS 应用程序都有它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-12T09:16:11.843

虽然技术上的答案是“否”，但实现推送通知是一个非常好的观点。最终用户期望在没有实际交互的情况下在报亭应用程序中看到“神奇地出现”的新鲜内容。要使此功能起作用，您需要对新问题、数据等实施后台下载，当您有一个 APNS 服务器通知（并唤醒）您的应用程序有关新内容时，这是可能的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-05T16:56:13.630

我可以确认，具有应用内购买免费订阅但没有自动内容推送的方法的报亭应用不会被拒绝。

Apple 刚刚批准了一个我一直在开发的应用程序，它只有一个虚拟“功能”来订阅免费订阅。用户点击“立即免费订阅”，通过应用程序购买，仅此而已 - 没有任何变化。该按钮的唯一目的是让应用程序获得批准。

顺便提一句。我只因为这个线程而实现了那个按钮。谢谢！

# jquery - setInverval 不适用于 jQuery attr 选择

> ID：11895039
> 
> 赞同：0
> 
> 时间：2012-08-10T03:23:53.813
> 
> 标签：jquery, setinterval

如果我将数据记录到控制台，则此代码工作正常，但由于某种原因，jQuery 选择器将无法工作，尽管它不在 setInterval 中时它确实工作。

```
 var refreshId = setInterval(function() {
        if ($('body').width()<=979) {
            console.log('small');
            $('.switch-type').attr('data-type', 'vertical');
        } else {
            $('.switch-type').attr('data-type', 'horizonal');
            console.log('big');
        }
    }, 1000); 
```

**更新：**

代码工作正常，只是 jQuery mobile 在执行时已经完成了它的想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T03:31:51.390

您可以尝试登录到控制台

```
console.log($('.switch-type')); 
```

通过这种方式，您可以在尝试访问 DOM 元素时知道它是否存在。我最近遇到了这样的问题，然后我在尝试使用它时意识到该元素不在 DOM 中。

# c# - 是否已弃用 Microsoft UIP（.NET 的用户界面进程应用程序块）？

> ID：11895046
> 
> 赞同：0
> 
> 时间：2012-08-10T03:25:01.893
> 
> 标签：c#, .net, winforms, webforms

我正在尝试为我的公司做一些关于 Microsoft UIP 的研究。基本上，我的任务是了解使用 UIP 的风险。如果我[在 MSDN](http://msdn.microsoft.com/en-us/library/ee817680.aspx)上看到的任何迹象表明，Microsoft 不再支持 UIP：

> **已停用的内容**
> 此内容已过时，不再维护。它是为仍在使用这些技术的个人提供的。此页面可能包含最初发布时有效的 URL，但现在链接到不再存在的站点或页面。

我意识到“已停用的内容”指的是文档本身，但我在 MSDN 上找不到有关 UIP 的更新文档。

那么，有没有人看到任何迹象表明微软不再支持 UIP？如果它仍然在技术上得到支持，我们是否知道微软是否在积极开发它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T03:37:58.300

该链接的日期为 2003 年！！！可以肯定地说，它已经过时，被更新的技术所取代。

[http://bytes.com/topic/asp-net/answers/817259-uip-user-interface-process](http://bytes.com/topic/asp-net/answers/817259-uip-user-interface-process)

> UIP 已经死了好几年了。我相信你仍然可以得到源。企业块有一个 Web 客户端软件工厂，它是新的 MVC 块。您还可以切换到 asp.net 扩展 MVC 库。

# html - 如何防止 Httrack 再次下载相同的文件？

> ID：11895047
> 
> 赞同：4
> 
> 时间：2012-08-10T03:25:07.397
> 
> 标签：html, css, scripting, download

我正在使用 httrack 下载这个网站：http: [//4minutearticles.com/](http://4minutearticles.com/)

但是，问题是作者在其网站的每个页面上都有返回主页的链接

例如[http://4minutearticles.com/ext/](http://4minutearticles.com/ext/)

父目录链接重定向到主页，软件再次开始下载

如何防止这种循环发生？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:00:32.637

在下面提供的链接上阅读问题的答案：

“我有重复的文件！这是怎么回事？”

链接：[http ://www.httrack.com/html/faq.html#Q1b11](http://www.httrack.com/html/faq.html#Q1b11)

还可以查看以下链接上的“过滤器：高级”：

[http://www.httrack.com/html/filters.html](http://www.httrack.com/html/filters.html)

它可以帮助您解决您的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T05:43:10.373

您可以使用过滤器来阻止 HTTRACK 下载相同的文件或文件夹。您可以通过单击“首选项和镜像选项”标签前面的“设置选项”按钮，然后打开“扫描规则”选项卡，然后单击“排除链接”按钮来设置您想要的规则。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-30T15:51:00.737

> 这通常是顶级索引（index.html 和 index-2.html）的情况。
> 
> 这是一个普遍的问题，但不能轻易避免！
> 
> 例如，[http://www.foobar.com/](http://www.foobar.com/)和 [http://www.foobar.com/index.html](http://www.foobar.com/index.html)可能是相同的页面。但是如果网站中的链接同时引用[http://www.foobar.com/](http://www.foobar.com/)和 [http://www.foobar.com/index.html](http://www.foobar.com/index.html)，这两个页面就会被捕获。而且因为[http://www.foobar.com/](http://www.foobar.com/)必须有一个名称，因为您可能想在本地浏览网站（/ 会给出目录列表，而不是索引本身！），HTTrack 必须找到一个。因此，将生成两个 index.html，一个带有 -2 表示必须重命名文件。
> 
> 考虑到[http://www.foobar.com/](http://www.foobar.com/)和 [http://www.foobar.com/index.html](http://www.foobar.com/index.html)是相同的链接以避免重复文件可能是个好主意，不是吗？不，因为顶部索引 (/) 可以引用任何文件名，如果 index.html 通常是默认名称，则可以选择 index.htm，或者 index.php3、mydog.jpg 或任何您可以想象的名称。（有些站长真的疯了）
> 
> 注意：在极少数情况下，当网站重定向到另一个文件时，可能会发现重复的数据文件。这个问题应该很少见，并且可以使用过滤器来避免。

另请参阅：[更新项目](http://httrack.kauler.com/help/Updating_a_project)

# c# - 如何使用实体框架将字节 [0] 添加到图像数据字段中

> ID：11895051
> 
> 赞同：1
> 
> 时间：2012-08-10T03:26:03.077
> 
> 标签：c#, entity-framework-4

如果未提供图像，我将图像对象分配为零字节：

```
byte[] image = new byte[0]; 
```

但是如何使用实体框架将其保存到数据库中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T04:07:40.437

既然没有分配图像，为什么不让它为空值呢？只需在数据库中插入新项目并将图像字段保留为空。

# android - 使用 JavaMail API 在 Android 中发送电子邮件出现错误

> ID：11895052
> 
> 赞同：3
> 
> 时间：2012-08-10T03:26:07.793
> 
> 标签：android, email

我正在按照[本](http://www.jondev.net/articles/Sending_Emails_without_User_Intervention_%28no_Intents%29_in_Android)教程从我的应用程序发送电子邮件。

当我尝试在我的模拟器中运行它时，它会出现错误

```
08-10 08:40:47.839: W/System.err(526): javax.mail.MessagingException: Could not connect to SMTP host: smtp.gmail.com, port: 465;
08-10 08:40:47.849: W/System.err(526):   nested exception is:
08-10 08:40:47.849: W/System.err(526):  java.net.SocketException: Host is unresolved: smtp.gmail.com
08-10 08:40:47.859: W/System.err(526):  at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
08-10 08:40:47.859: W/System.err(526):  at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
08-1 08:40:47.859: W/System.err(526):   at javax.mail.Service.connect(Service.java:310)
08-10 08:40:47.859: W/System.err(526):  at javax.mail.Service.connect(Service.java:169)
08-10 08:40:47.859: W/System.err(526):  at javax.mail.Service.connect(Service.java:118)
08-10 08:40:47.859: W/System.err(526):  at javax.mail.Transport.send0(Transport.java:188)
08-10 08:40:47.859: W/System.err(526):  at javax.mail.Transport.send(Transport.java:118)
08-10 08:40:47.859: W/System.err(526):  at com.mythrii.punchclockpro.Mails.send(Mails.java:107)
08-10 08:40:47.869: W/System.err(526):  at com.mythrii.punchclockpro.login$DownloadImageTask.doInBackground(login.java:277)
08-10 08:40:47.869: W/System.err(526):  at com.mythrii.punchclockpro.login$DownloadImageTask.doInBackground(login.java:1)
08-10 08:40:47.869: W/System.err(526):  at android.os.AsyncTask$2.call(AsyncTask.java:185)
08-10 08:40:47.869: W/System.err(526):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
08-10 08:40:47.869: W/System.err(526):  at java.util.concurrent.FutureTask.run(FutureTask.java:138)
08-10 08:40:47.869: W/System.err(526):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
08-10 08:40:47.869: W/System.err(526):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
08-10 08:40:47.869: W/System.err(526):  at java.lang.Thread.run(Thread.java:1019)
08-10 08:40:47.869: W/System.err(526): Caused by: java.net.SocketException: Host is unresolved: smtp.gmail.com
08-10 08:40:47.869: W/System.err(526):  at java.net.Socket.connect(Socket.java:966)
08-10 08:40:47.880: W/System.err(526):  at java.net.Socket.connect(Socket.java:926)
08-10 08:40:47.880: W/System.err(526):  at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
08-10 08:40:47.880: W/System.err(526):  at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:163)
08-10 08:40:47.880: W/System.err(526):  at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
08-10 08:40:47.880: W/System.err(526):  ... 15 more 
```

我也给了所有的权限。

我很想知道同一个项目在我的朋友系统中运行时没有任何错误。我的系统中是否有任何外部设置`sending mails`。

有什么建议么？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T04:08:57.983

尝试 ping`smtp.gmail.com`并确保您得到响应（能够访问）。通常，您的连接可能会被您的防火墙或代理阻止。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-06T08:14:04.613

检查您的设备是否已连接到互联网（wifi）。如果没有，请连接到 wifi 或打开连接，然后尝试再次模拟应用程序的发送功能。

# java - 如何使用 java apache FTPClient 将文件从一个 Amazon EC2 实例下载到另一个 EC2 实例

> ID：11895053
> 
> 赞同：2
> 
> 时间：2012-08-10T03:26:08.097
> 
> 标签：java, ftp, amazon-ec2, ftp-client, apache-commons-net

我已经在一个亚马逊 EC2 实例中设置了一个 ftp 服务器，并且可以使用 apache ftp 库在我的本地机器上从该服务器下载文件。现在我试图在另一个 Amazon EC2 实例中运行相同的 ftpclient 程序，但它不工作。以下是从 ftpsever 下载文件的示例代码：

```
FTPClient ftp = new FTPClient();
String loc = "/home/ubuntu/test/";
String remote = "/home/ftp";
try
{
  ftp.connect("ec2-xx-xx-xx-xxx.compute-1.amazonaws.com", 21);
  ftp.login("username", "xxx");
  System.out.println("connected..");
  ftp.setFileType(FTP.BINARY_FILE_TYPE);

  OutputStream output;
  output = new FileOutputStream(loc+"file_name");
  ftp.retrieveFile(remote+"/filen_name", output);
  output.close();
  ftp.disconnect();
}
catch(Exception ex)
{
   ex.printStackTrace();
} 
```

下面的代码可以列出远程目录的所有文件名：

```
for(FTPFile f: ftp.listFiles(remote))
{
  System.out.println(f.getName());

} 
```

这两个代码在我的本地机器上都可以正常工作，但在亚马逊机器上却不行。它连接但无法列出文件名或下载文件。并且它没有显示任何错误消息。

提前致谢 -

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T12:07:17.793

我刚刚找到了一个可能的答案，因为我已经有一段时间遇到同样的问题了。它解决了我的问题。

您必须将此行添加到您的代码中： ftp.enterLocalPassiveMode();

在 connect() 之后和 login() 之前。

这是链接： [http ://bartling.blogspot.dk/2012/04/using-apache-commons-net-ftpclient-on.html](http://bartling.blogspot.dk/2012/04/using-apache-commons-net-ftpclient-on.html)

# ruby - 将 Nokogiri 节点复制到自定义子类

> ID：11895054
> 
> 赞同：0
> 
> 时间：2012-08-10T03:26:13.853
> 
> 标签：ruby, xml, nokogiri

我有一个 XML 文档，我正在使用 ::parse 进行解析，并且在文档的根节点内我想创建副本的后代元素很少，但作为 Nokogiri::XML::Element 的自定义子类.

这好像是

```
MyElement.new('myElement', existingElement) 
```

应该这样做，但新对象最终是空的，除了名称。我希望有一种更好的方法来做到这一点，而不仅仅是迭代所有属性，然后手动将子项、命名空间等分配给新对象。

有没有类似于#dup 的类方法，它采用现有元素？或者其他一些处理方式？

# python - 使用 python 启动和停止 mac 应用程序

> ID：11895055
> 
> 赞同：0
> 
> 时间：2012-08-10T03:26:13.963
> 
> 标签：python

```
os.system("open /Applications/Mail.app") 
```

我可以使用上述语句打开 mac 应用程序（尽管无法打开名称中包含空格的应用程序。例如 Photo Booth）。

但我找不到关闭应用程序的方法。我该怎么做？谷歌搜索了很多，但提到的所有解决方案都是针对 Windows 的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T03:28:57.897

关于使用空格打开应用程序，您可能会发现您可以执行以下操作：

```
os.system("open \"/Applications/Photo Booth.app\"") 
```

或者：

```
os.system('open "/Applications/Photo Booth.app"') 
```

可能没有等效`close`命令的原因是它不平衡。

打开具有相同参数的两个应用程序很容易，您只需创建两个单独的进程。但是，当您想关闭一个时，会被击中吗？他们都有相同的名字。

`kill`一旦你建立了你试图摆脱的进程的进程 ID，你就可以考虑使用，或者你可以使用它`osascript`来告诉应用程序退出：

```
osascript -e 'tell application "PaxsDodgyApp" to quit' 
```

# java - 读取文件时出现 Java EOFException

> ID：11895057
> 
> 赞同：0
> 
> 时间：2012-08-10T03:26:36.227
> 
> 标签：java, io, stream, datainputstream

我正在使用此代码读取 Java 文件

```
import java.io.*;

public class IOReadDataStreams {
    public static void main(String[] args)throws IOException{
        DataInputStream in = null;

        try{
            in =  new DataInputStream(
                    new BufferedInputStream(new FileInputStream("invoicedata")));
            int unit;
            double price;
            String desc;
            while(true){
                unit = in.readInt();
                price = in.readDouble();
                desc = in.readUTF();
                System.out.println(unit+" " + price +" "+ desc);
            }
        }catch(EOFException e){
            e.printStackTrace();
        }
        finally{
            if(in != null)
                in.close();
        }
    }
} 
```

我试图阅读的文件是由这段代码制作的

```
import java.io.IOException;
import java.io.DataOutputStream;
import java.io.FileOutputStream;
import java.io.BufferedOutputStream;
import java.io.DataInputStream;

public class IODataStreams {
    static final  String  dataFile = "invoicedata";
    static final double[] prices = new double[]{19.99, 9.99,15.99,3.99,4.99};
    static final int[] unitCount = new int[]{12,8,13,29,50};
    static final String[] desc = new String[]{
        "Java T Shirt",
        "C# T Shirt",
        "PHP T Shirt",
        "Ruby T Shirt",
        "Go! T Shirt"
    };

    public static void main(String[] args) throws IOException{
        DataOutputStream out = null;
        DataInputStream in = null;  
        try{
            out = new DataOutputStream(new BufferedOutputStream(new FileOutputStream("invoicedata")));
            for(int i = 0 ; i < prices.length; i++){
                out.writeUTF(desc[i]);
                out.writeInt(unitCount[i]);
                out.writeDouble(prices[i]);
            }
        }finally{
            if(out != null)
                out.close();
        }

    }

} 
```

现在我想知道为什么我的第一个代码（读取文件的那个）没有打印价格、描述和单位。它继续返回 EOFException

错误专门在这一行

```
desc = in.readUTF(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T03:34:51.263

您正在按以下顺序写入数据：

```
 out.writeUTF(desc[i]);
            out.writeInt(unitCount[i]);
            out.writeDouble(prices[i]); 
```

但是以错误的顺序读取数据：

```
 unit = in.readInt();
            price = in.readDouble();
            desc = in.readUTF(); 
```

您需要以相同的顺序读取和写入数据，特别是`UTF`位，因为这不会转换为数字。

当我切换这些行以使读取和写入的顺序相同时，`IOReadDataStreams`输出如下：

```
12 19.99 Java T Shirt
8 9.99 C# T Shirt
13 15.99 PHP T Shirt
29 3.99 Ruby T Shirt
50 4.99 Go! T Shirt 
```

在到达文件的 EOF 并抛出（就像它应该的那样）EOFException 之前。

# c# - certEnroll.createFilePFX 中的灾难性故障（HRESULT 异常：0x8000FFFF (E_UNEXPECTED)）

> ID：11895059
> 
> 赞同：1
> 
> 时间：2012-08-10T03:27:43.293
> 
> 标签：c#, .net, com, cryptography

我正在尝试创建 CSR 并使用 Winxp/2003 中可用的 XEnroll COM 组件由 CA 服务器对其进行签名。

我正在使用的代码是：

```
XENROLLLib.CEnroll certEnroll = new XENROLLLib.CEnroll();
certEnroll.createFilePFX("Hello", @"D:\testCSR.txt");      //<-- Error here 
```

当我执行 createFilePFX 我得到这个异常：

> 灾难性故障（HRESULT 异常：0x8000FFFF (E_UNEXPECTED)）

这可能是什么原因造成的？

# javascript - 使用 jquery 进行 ajax 调用

> ID：11895060
> 
> 赞同：0
> 
> 时间：2012-08-10T03:27:49.440
> 
> 标签：javascript, jquery

我想每 1 分钟后进行一次 ajax 调用，但只有在前面的 ajax 调用完成后才能进行后续调用。例如，ajax 调用 2 应仅在 ajax 调用 1 完成后进行。我知道如何使用 setInterval 使函数每 1 分钟执行一次。提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T03:34:02.450

尝试这样的事情：

```
(function repeatAjaxCall() {
    $.ajax({
        url: "example-url.com",
        complete: function() {
            setTimeout(repeatAjaxCall, 60000)
        }
    });
})(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T03:35:08.223

你看过 Underscore js debounce 功能吗？

[http://underscorejs.org/#debounce](http://underscorejs.org/#debounce)

基本上，这些允许您调用函数的“去抖动”版本，直到自上次调用以来的 x 毫秒数后才会调用该函数。

这将允许您执行以下操作：

```
var update = _.debounce(function() {
    // do some ajax stuff here
}, 300);
setTimeout(update, 1000); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T03:37:32.980

```
function ajaxCall(){
   setTimeout(function(){
      $.get( url, function(data){
         // do stuff
         ajaxCall();
      })
   }, 60000)
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-10T03:54:27.333

正如你所说。如果下一个调用将在前一个调用完成时触发。而前一个可以延迟1分钟以上。假设，2分钟。所以下一个将至少在 2 分钟延迟内被调用。所以知道了。没关系，它永远不会一分钟一分钟地工作，对吧？

那么为什么不在最后一个完成时调用下一个 ajax，而不是一分钟又一分钟地触发它呢？使用完整的方法：

```
$.ajax({
  url: 'file',
  type: 'POST',
  data: {},
  complete: function(xhr, textStatus) {

    //CALL HERE THE NEXT AJAX

}, 
```

或者如果想在上一个完成后给出 1 分钟的时间：

```
$.ajax({
  url: 'file',
  type: 'POST',
  data: {},
  complete: function(xhr, textStatus) {

    setTimeout(function(){
       //CALL HERE THE NEXT AJAX
    }, 1000)

}, 
```

# php - 无法使用 jQuery.load() 内容中的 PHP 值

> ID：11895063
> 
> 赞同：0
> 
> 时间：2012-08-10T03:27:56.947
> 
> 标签：php, jquery, html

我正在开发一个使用 jQuery 模式的项目，该模式在单击按钮时动态加载其内容。

我像往常一样使用这个加载的内容时遇到问题。

这是我的问题的一个例子

```
<script type="text/javascript>
    click function{
        load modal{
            open: $('#modalID').load('phpfile.php?id=<?php echo $id ?>');
    }
</script> 
```

一切正常，但是当尝试在“phpfile.php”中使用 jQuery 时，问题就出在哪里

```
<?php
$id = $_GET['id'];
$db = USE ID TO GET DATABASE INFO; //works fine here
?>
//ECHO SOME HTML HERE
<script type="text/javascript">
    $('#buttonID').on('click', function(){
        alert('test <?php echo $id ?>');
    });
</script> 
```

当我单击该按钮时，我会收到警报，但它只是说测试并且我没有像我应该的那样获得 ID。

提前感谢您对此的帮助和建议！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T03:44:35.457

请检查您的浏览器控制台中是否有任何错误。上面的代码应该可以工作。可能性就像您没有获得 $_GET['id'] 或任何脚本错误都会阻止您的代码执行。

我创建了一个运行良好的示例 php 文件。

```
 <?php
  $id = rand();
 ?>
<button id="buttonID"> Click </button>
//ECHO SOME HTML HERE
<script type="text/javascript">
  $('#buttonID').on('click', function(){
    alert('test <?php echo $id ?>');
  });
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T03:46:38.027

您粘贴了伪代码，因此很难说出您的代码有什么问题。

以下应该工作，试一试：

文件 1。

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<?
$id = "10";
?>
<script>
    $(document).ready(
    function(){
    $('#modalID').load('phpfile.php?id=<?php echo $id ?>');
    });
</script>

<div id = 'modalID'></div> 
```

和 phpfile.php：

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<?php
$id = $_GET['id'];
?>
<script>
    $('#buttonID').on('click', function(){
        alert('test <?php echo $id ?>');
    });
</script>

<input type="button" id = "buttonID" value="click me"> 
```

# regex - SOLR 过滤器查询 (fq) 不适用于包含冒号 [ : ] 或斜杠 [ / ] 的字符串？

> ID：11895064
> 
> 赞同：2
> 
> 时间：2012-08-10T03:27:58.037
> 
> 标签：regex, solr, filter, colon

在 Solr (3.6) 中，我可以`fq`用于每个字段，但不能用于包含`Colon [:]`或`Slash [/]`内部的字段，例如普通`url`字段。

让我们假设一些记录看起来像：

```
{
    "title":"Innovation Life and Strategy",
    "url":"http://www.example.com/innovation_life_strategy",
},
{
    "title":"Simple Life",
    "url":"http://www.example.com/simple_life",
},
.. 
```

我可以简单地使用这里**不包含**或不喜欢“标题”`fq`的简单字段： **`Colon [:]``Slash [/]`**

 **```
fq=title:(Strategy) 
```

是的，它返回第一条记录。
但是，它**不会返回`url`包含冒号 [:] 或斜杠 [/] 的字段**：

```
fq=url:(life) 
```

不，它永远不会返回任何记录。

*   我不知道为什么，但我认为这显然是因为`Colon [:]` 或`Slash [/]`内部。

我怎样才能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T14:24:00.010

看起来您需要在 schema.xml 中使用 LetterTokenizer 索引 url 字段。看看[http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters](http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters)**

# java - 如何在python中制作PKCS8 RSA签名

> ID：11895065
> 
> 赞同：1
> 
> 时间：2012-08-10T03:28:04.187
> 
> 标签：java, python, encryption, openssl, rsa

我有 pkcs8_rsa_private_key 文件，它由 openssl 从 rsa_private_key.pem 文件生成。

我需要用python中的私钥做一个签名，用下面的java代码做同样的签名。

```
public static final String SIGN_ALGORITHMS = "SHA1WithRSA";

public static String sign(String content, String privateKey) {
    String charset = "utf-8";
    try {
        PKCS8EncodedKeySpec priPKCS8 = new PKCS8EncodedKeySpec(
                Base64.decode(privateKey));
        KeyFactory keyf = KeyFactory.getInstance("RSA");
        PrivateKey priKey = keyf.generatePrivate(priPKCS8);

        java.security.Signature signature = java.security.Signature
                .getInstance(SIGN_ALGORITHMS);

        signature.initSign(priKey);
        signature.update(content.getBytes(charset));

        byte[] signed = signature.sign();

        return Base64.encode(signed);
    } catch (Exception e) {
        e.printStackTrace();
    }

    return null;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:23:24.100

PKCS#8 定义了一种编码和传输密钥的方法，它并不特定于 OpenSSL；PKCS#1 定义了一种使用 RSA 密钥（无论它是如何加载到您的应用程序中，无论是否使用 PKCS#8）来执行和验证数据数字签名的方法。

您拥有的这段代码做了三件事：

1.  它将 Base64 解码为 PKCS#8
2.  它将 PKCS#8 解码为内存中的实际密钥（请注意，您可能需要在此处提供密码）
3.  它使用 SHA-1 使用所述密钥执行 PKCS#1 v1.5 签名
4.  它使用 Base64 对签名进行编码

[PyCrypto API 中的 PKCS#1 v1.5 签名示例](https://www.dlitz.net/software/pycrypto/api/current/Crypto.Signature.PKCS1_v1_5-module.html)完全执行步骤 #2 和 #3。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-17T06:39:32.830

```
from Crypto.Signature import PKCS1_v1_5 as pk
from Crypto.Hash import SHA
class Crypt(object):
    pkcs8_private_key = RSA.importKey(open('pkcs8_rsa_private_key.pem', 'r').read())
    def rsa_sign(cls, des_reqdata):
        """
            @:param reqdata: request reqData
        """
        h = SHA.new(des_reqdata)
        signer = pk.new(cls.pkcs8_private_key)
        signature = signer.sign(h)

        return base64.b64encode(signature) 
```

# php - 检查流量是否来自特定 URL？

> ID：11895066
> 
> 赞同：3
> 
> 时间：2012-08-10T03:28:06.493
> 
> 标签：php

我想统计从推荐网站访问我的网站的次数。我知道有很多程序，例如谷歌分析，但会告诉你我的 taffic 来自 www.facebook.com。我想检查流量是否来自我指定的某些特定网址，例如 www.facebook.com/myfanpage。

在我考虑 php 之前，我尝试了几种使用 javascript 的方法，但它们似乎并没有按照我想要的方式运行。对于我的 php 搜索，我只找到了这个函数。有任何想法吗 ？

```
$_SERVER['HTTP_REFERER'] 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-10T03:35:31.857

`$_SERVER['HTTP_REFERER']`会做你需要的。

```
if (strstr($_SERVER['HTTP_REFERER'], 'facebook.com') !== false) {
    // Facebook brought me to this page.
}

elseif (strstr($_SERVER['HTTP_REFERER'], 'google.com') !== false ) {
    // Google brought me to this page.
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-28T11:29:28.110

抱歉，我知道这已经晚了 6 个月，但如果 url 是[http://mydomain.com/?p=facebook.com](http://mydomain.com/?p=facebook.com)那么这也是真的吗？更好的方法是根据 / 分解引荐来源网址，然后提取第 4 部分，即

```
$refererUrl = $_SERVER['HTTP_REFERER'];
$Exploded_URL = explode("/",$refererUrl);
$urlToCheck = $Exploded_URL[3].'.'.$Exploded_URL[4];
if($urlToCheck == 'facebook.com'){
/* From Facebook */
} elseif ($urlToCheck == 'google.com'){
/* From Google */
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T03:33:31.060

`$_SERVER['HTTP_REFERER']`应包含用户从其访问您的页面的 URL。这不是一个函数。它只是一个值。因此，您可以将其用于此目的。

但是请注意，该值很容易被欺骗。（它取自 HTTP 请求标头，用户可以发送他们想要的任何内容。）如果您只是为了自己的兴趣或其他原因收集统计信息，它应该是可以接受的。但是，如果您尝试使用它来保护页面（例如，仅当访问者来自某个 URL 时才显示某些内容），请忘记它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T03:34:41.983

您将只能检查 HTTP 请求是否`referer`可以在 PHP 中使用`HTTP_REFERER`. 因此，它由推荐网站全权负责。

[使用 PHP 获取原始 URL 引用？](https://stackoverflow.com/questions/1864583/get-original-url-referer-with-php)

上面的帖子也会对你有所帮助。

# mercurial - hg 命令未知错误

> ID：11895067
> 
> 赞同：0
> 
> 时间：2012-08-10T03:28:20.923
> 
> 标签：mercurial

> 最近我遇到了一个问题，我什至无法检查修改文件的状态。我得到如下错误：

```
sokmesa@sokmesa-laptop:/var/www/my_project$ hg st

Traceback (most recent call last):
 File "/usr/lib/python2.7/site.py", line 562, in <module>
   main()
 File "/usr/lib/python2.7/site.py", line 544, in main
   known_paths = addusersitepackages(known_paths)
  File "/usr/lib/python2.7/site.py", line 271, in addusersitepackages
    user_site = getusersitepackages()
  File "/usr/lib/python2.7/site.py", line 246, in getusersitepackages
    user_base = getuserbase() # this will also set USER_BASE
  File "/usr/lib/python2.7/site.py", line 236, in getuserbase
    USER_BASE = get_config_var('userbase')
  File "/usr/lib/python2.7/sysconfig.py", line 558, in get_config_var
    return get_config_vars().get(name)
  File "/usr/lib/python2.7/sysconfig.py", line 438, in get_config_vars
    import re
  File "/usr/lib/python2.7/re.py", line 105, in <module>
    import sre_compile
  File "/usr/lib/python2.7/sre_compile.py", line 14, in <module>
    import sre_parse
  ValueError: bad marshal data (unknown type code) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T13:57:39.813

运行 dpkg-reconfigure 对我不起作用，所以我删除了 .pyc 文件：

```
find /usr/lib/python2.7 -name \*.pyc -exec rm {} \; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T03:53:53.617

刚刚找到解决方案`sudo dpkg-reconfigure update-manager-core`

# php - 正则表达式在 RegExr 中工作，在 PHP 中不起作用

> ID：11895069
> 
> 赞同：0
> 
> 时间：2012-08-10T03:28:31.730
> 
> 标签：php, regex

我在 RegExr 中编写了一个正则表达式来处理以下字符串：

```
<?php _on*/4353452f43f43f46 xx46 _off*/ ?> 
```

这是正则表达式代码：

```
(.*<?php.*)(.*_on.*)(.*_off.*)(.*?>) 
```

在这里工作正常：

[http://regexr.com?31ptt](http://regexr.com?31ptt)

但它不适用于 PHP，我收到奇怪的错误，例如：“未知修饰符 '<'”等。

我需要做什么才能将其转换为与 PHP 一起使用？

这是我的 php 代码：

```
$virusstring = '(.*/<?php.*)(.*_on.*)(.*_off.*)(.*?>)';    
if(preg_match($virusstring,$myfile)) {
    $fixed = preg_replace($virusstring,'',$myfile);
    $blah = file_put_contents($item, $fixed);
} 
```

$myfile 只是从正在扫描的受感染文件中获取的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T03:31:39.490

您的正则表达式缺少分隔符。您需要添加分隔符，否则 PHP 会假定您的开头`(`是分隔符：

```
/(.*<\?php.*)(.*_on.*)(.*_off.*)(.*\?>)/ 
```

此外，`?`是一个量词，匹配前一个字符的 0 或 1。你需要逃避它：

```
(.*<\?php.*)(.*_on.*)(.*_off.*)(.*\?>) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T03:36:48.673

这似乎工作正常

```
preg_match("/(.*<\\?php.*)(.*_on.*)(.*_off.*)(.*\\?>)/us", $searchText) 
```

# apache-flex - Flex 写入流时文件损坏

> ID：11895077
> 
> 赞同：0
> 
> 时间：2012-08-10T03:29:17.273
> 
> 标签：apache-flex, download

我在主机上获取文件内容并通过以下函数保存文件：

```
protected function fileDownload(fileName:String):void
{
    var loader:URLLoader = new URLLoader();
    loader.addEventListener(Event.COMPLETE, onCompleteFileDownload);
    loader.load(new URLRequest("http://samed.us/"+fileName));
}
private function onCompleteFileDownload(e:Event):void
{
    saveFile("test.jpg",URLLoader(e.target).data);
}
private var Depo:File = File.documentsDirectory.resolvePath("testFiles");
private function saveFile(fileName:String, content:String):void
{
    var file:* = Depo.resolvePath(fileName);
    var stream:FileStream = new FileStream()
    stream.open(file, FileMode.WRITE);
    stream.writeUTFBytes(content);
    stream.close();
} 
```

例如，可以显示[此图像。](http://samed.us/bg2.jpg)但是功能是通过中断下载和写入。

怎么修？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T09:54:39.950

我发现了问题。修复功能：

```
protected function fileDownload(fileName:String):void
{
    var loader:URLLoader = new URLLoader();
    loader.addEventListener(Event.COMPLETE, onCompleteFileDownload);
    loader.dataFormat=URLLoaderDataFormat.BINARY;
    loader.load(new URLRequest("http://samed.us/"+fileName));
}
private function onCompleteFileDownload(e:Event):void
{
    saveFile("test.jpg",(e.target).data);
}

private var Depo:File = File.documentsDirectory.resolvePath("testFiles");
private function saveFile(fileName:String, content:*):void
{
    var file:* = Depo.resolvePath(fileName);
    var stream:FileStream = new FileStream()
    stream.open(file, FileMode.WRITE);
    stream.writeBytes(content);
    stream.close();
} 
```

问题的根源：UTF & Binary。

# smtp - 如何为 smtp 设置 localhost 以发送 javax.emails？

> ID：11895081
> 
> 赞同：0
> 
> 时间：2012-08-10T03:30:35.023
> 
> 标签：smtp, localhost, jakarta-mail

现在我正在使用 gmail 作为主机，如何制作它以便我可以使用我的本地主机？

我试图将 localhost 作为主机，但我总是得到“在 localhost 端口 25 上拒绝连接”或类似的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:57:59.187

您需要在您的机器上安装邮件传输代理 (MTA)（需要进行所有维护）。流行的是`sendmail`或`postfix`。尝试[http://superuser.com](http://superuser.com)解决与管理相关（非编程）的问题。

# mercurial - 配置 Hudson/Jenkins 以构建所有 mercurial 分支

> ID：11895083
> 
> 赞同：11
> 
> 时间：2012-08-10T03:31:16.480
> 
> 标签：mercurial, hudson, jenkins, branch

如何配置 Hudson/Jenkins（我们仍在使用 Hudson）以使用 mercurial 插件构建所有分支？我已经看到我们可以为特定的分支创建单独的作业/等，但是我们经常分支，所以只构建所有分支就很好了。

我能想到的唯一方法（我还没有尝试过）是让我们的构建脚本[由 Hudson 在从服务器上执行] 以某种方式找出哪个分支是最新提交，然后 hg update -r 本身，而不是mercurial 插件做它。

我很想找到一种更优雅/正确的方法来做到这一点！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-13T10:50:01.693

我也一直在 Jenkins Mercurial 插件中寻找这种支持（部分原因是它的 Git 插件支持它），但以下 Jenkins 票证似乎表明这尚未实现：

*   [https://issues.jenkins-ci.org/browse/JENKINS-11102](https://issues.jenkins-ci.org/browse/JENKINS-11102)
*   [https://issues.jenkins-ci.org/browse/JENKINS-10558](https://issues.jenkins-ci.org/browse/JENKINS-10558)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T02:07:25.223

如果您有经常使用的分支（即，为里程碑或开发人员命名的分支），一种选择是创建您的主构建副本并将其简单地指向该分支。

例如，在我团队的构建服务器上，我们有生产（'default' 分支）和开发（'dev' 分支）。我们的构建是通过将分支名称作为参数提供给构建脚本来运行的（因此这是一个简单的主作业副本的单字段更改）。

显然，这不会超出少数几个分支，但它可能足以满足您的需求。

# c# - 像快捷方式一样停靠

> ID：11895086
> 
> 赞同：0
> 
> 时间：2012-08-10T03:31:40.020
> 
> 标签：c#

我正在寻找开发一个程序，允许用户将他们的桌面快捷方式拖到桌面上的停靠栏/滑出栏上。我怎样才能将“桌面快捷方式”拖到 Dock 上以在那里创建快捷方式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T04:20:10.043

进入放置目标（组件或表单）的属性编辑器并设置`AllowDrop`为`true`. 然后为 DragEnter 和 DragDrop 事件创建事件处理程序：

```
private void Form1_DragEnter(object sender, DragEventArgs e)
{
    e.Effect = DragDropEffects.All;
}

private void Form1_DragDrop(object sender, DragEventArgs e)
{
    string[] asFormats = e.Data.GetFormats();
    string[] asFileNames = (string[])e.Data.GetData("FileName");
} 
```

这将为您提供放置在目标上的文件名。从那里解析 .LNK 文件由您决定。

# css - 我怎样才能“斑马条纹”CSS 列？

> ID：11895088
> 
> 赞同：2
> 
> 时间：2012-08-10T03:31:48.270
> 
> 标签：css, multiple-columns, zebra-striping

假设我有以下标记：

```
<ul class="mycolumns">
    <li>Text</li>
    <li>Text</li>
    <li>Text</li>
    ...
    <li>Text</li>
    <li>Text</li>
</ul> 
```

以及以下 CSS（假设前缀）：

```
.mycolumns {
    column-count: 3;
    column-gap: 10px;
} 
```

我怎样才能“斑马条纹”奇数**列**？这是我认为正确的[小提琴](http://jsfiddle.net/edelman/DV875/)（注意我使用 SCSS 作为我的 CSS）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T03:55:25.560

如果你不能用 CSS 做，jQuery 总是可以帮助你。

您可以使用[jQuery Columnizer 插件](https://github.com/adamwulf/Columnizer-jQuery-Plugin/)来执行相同的任务，但由于它将列包装在实际元素中，您可以通过 CSS 定位各个列：

```
.column:nth-child(odd) {
  background-color: rgb(255, 200, 200);
} 
```

# windows - 适用于 Windows 的 API 文档管理器和浏览器

> ID：11895095
> 
> 赞同：9
> 
> 时间：2012-08-10T03:32:28.097
> 
> 标签：windows, macos

前几天我发现了一个很酷的实用程序：Dash – Snippet Manager, Documentation Browser

该实用程序是流行框架的文档集合。

[http://kapeli.com/dash/](http://kapeli.com/dash/)

但是，这仅适用于 Mac OS X。是否也有一些适用于 Windows 的工具/实用程序？

PS 必须有适用于 Mac 男孩的实用程序....

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-06-06T11:45:13.850

我只知道 Zeal，但这个看起来不像 Dash 那样先进。无论如何它可能很有用：**[Zealdocs.org](http://zealdocs.org/)**

# java - 有没有办法在候选人列表中测试枚举值？（爪哇）

> ID：11895098
> 
> 赞同：1
> 
> 时间：2012-08-10T03:33:21.377
> 
> 标签：java

这是一个简化的例子。我有这个枚举声明如下：

```
public enum ELogLevel {
    None,
    Debug,
    Info,
    Error
} 
```

我在另一个类中有这段代码：

```
if ((CLog._logLevel == ELogLevel.Info) || (CLog._logLevel == ELogLevel.Debug) || (CLog._logLevel == ELogLevel.Error)) {
    System.out.println(formatMessage(message));
} 
```

我的问题是是否有办法缩短考试时间。理想情况下，我想要一些调子（这是从 Pascal/Delphi 借来的）：

```
if (CLog._logLevel in [ELogLevel.Info, ELogLevel.Debug, ELogLevel.Error]) 
```

而不是一长串的比较。Java中是否有这样的东西，或者可能有一种方法来实现它？我正在使用一个简单的示例，我的目的是找出是否存在模式，以便我可以使用更多元素的枚举值列表进行这些类型的测试。

**编辑：**看起来 EnumSet 是最接近我想要的东西。实现它的朴素方式是通过以下方式：

```
if (EnumSet.of(ELogLevel.Info, ELogLevel.Debug, ELogLevel.Error).contains(CLog._logLevel)) 
```

但是在基准测试下，这比长 if/then 语句慢两个数量级，我猜是因为 EnumSet 每次运行时都会被实例化。这仅对于经常运行的代码来说是一个问题，即使这样它也是一个非常小的问题，因为超过 100M 的迭代我们在我的盒子上谈论的是 7ms 和 450ms；无论哪种方式，时间都很短。

对于经常运行的代码，我选择的是在静态变量中预先实例化 EnumSet，并在循环中使用该实例，这会将运行时间缩短到 100M 迭代中更可口的 9ms。

所以看起来我们有一个赢家！谢谢你们的快速回复。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T03:38:52.450

你想要的是一个枚举集

[http://docs.oracle.com/javase/1.5.0/docs/api/java/util/EnumSet.html](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/EnumSet.html)

将要测试的元素放入集合中，然后使用 Set 方法 contains()。

```
import java.util.EnumSet;

public class EnumSetExample
{
  enum Level { NONE, DEBUG, INFO, ERROR };

  public static void main(String[] args)
  {
    EnumSet<Level> subset = EnumSet.of(Level.DEBUG, Level.INFO);

    for(Level currentLevel : EnumSet.allOf(Level.class))
    {
      if (subset.contains(currentLevel))
      {
        System.out.println("we have " + currentLevel.toString());
      }
      else
      {
        System.out.println("we don't have " + currentLevel.toString());
      }
    }
  }

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T03:39:14.007

在 Java 中没有办法简洁地做到这一点。最接近的方法是将值转储到集合中并调用 contains()。EnumSet 在您的情况下可能是最有效的。您可以使用双括号习惯用法稍微缩短集合初始化，尽管这样做的缺点是每次使用它时都会创建一个新的内部类，因此会稍微增加内存使用量。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T03:39:57.093

通常，日志记录级别以整数形式实现：

```
public static int LEVEL_NONE  = 0;
public static int LEVEL_DEBUG = 1;
public static int LEVEL_INFO  = 2;
public static int LEVEL_ERROR = 3; 
```

然后您可以使用简单的比较来测试严重性：

```
if (Clog._loglevel >= LEVEL_DEBUG) {
    // log
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-10T03:40:34.210

您可以使用所需级别的列表，即：

```
List<ELogLevel> levels = Lists.newArrayList(ELogLevel.Info,
        ELogLevel.Debug, ELogLevel.Error);
if (levels.contains(CLog._logLevel)) {
    //
} 
```

# android - 为什么我不能在 SQLiteDatabase 浏览器中将多个表插入到一个数据库中

> ID：11895099
> 
> 赞同：0
> 
> 时间：2012-08-10T03:33:27.380
> 
> 标签：android, database, sqlite, store

我似乎无法将多个表插入一个数据库。另外，我[在 Android 中遵循了这个示例多表 SQLite DB 适配器？](https://stackoverflow.com/questions/4063510/multiple-table-sqlite-db-adapters-in-android).

我不确定要在 Cars.java、Cycles.java 和 Boats.java 类中编码什么。我也不确定在这 3 个类中声明哪个 DBAdapter。我已经设法为 3 个表创建数据库。但是没有创建表。

这是 CarsDBAdapter 类，类似于 BoatsDBAdapter 和 CyclesDBAdapter 类。

```
public class CarsDBAdapter
{
    public static final String ROW_ID = "_id";
    public static final String NAME = "name";
    public static final String MODEL = "model";
    public static final String YEAR = "year";

    private static final String DATABASE_TABLE = "cars";

    private DatabaseHelper mDbHelper;
    private SQLiteDatabase mDb;

    private final Context mCtx;

    private static class DatabaseHelper extends SQLiteOpenHelper
    {
        DatabaseHelper(Context context)
        {
            super(context, DBAdapter.DATABASE_NAME, null, DBAdapter.DATABASE_VERSION);          
        }

        @Override
        public void onCreate(SQLiteDatabase db)
        {           
        }

        @Override
        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion)
        {           
        }
    }// end DatabaseHelper class

    public CarsDBAdapter(Context ctx)
    {
        this.mCtx = ctx;
    }

    public CarsDBAdapter open() throws SQLException
    {
        this.mDbHelper = new DatabaseHelper(this.mCtx);
        this.mDb = this.mDbHelper.getWritableDatabase();
        return this;
    }

    public void close()
    {
        this.mDbHelper.close();
    }

    /*public long insertCars(String name, String model, String year)
    {
        ContentValues initialValues = new ContentValues();
        initialValues.put(NAME, name);
        initialValues.put(MODEL, model);
        initialValues.put(YEAR, year);
        return mDb.insert(DATABASE_TABLE, null, initialValues);
    }*/

    public long create(String name, String model, String year)
    {
        ContentValues initialValues = new ContentValues();

        initialValues.put(NAME, name);
        initialValues.put(MODEL, model);
        initialValues.put(YEAR, year);
        return this.mDb.insert(DATABASE_TABLE, null, initialValues); 
    }

    public boolean deleteCar(long rowId) 
    {          
        return this.mDb.delete(DATABASE_TABLE, ROW_ID + "=" + rowId, null) > 0; //$NON-NLS-1$     
    }

     public Cursor getAllCars() 
     {          
         return this.mDb.query(DATABASE_TABLE, new String[] { ROW_ID, NAME, MODEL, YEAR }, null, null, null, null, null);       
     }

     public Cursor getCar(long rowId) throws SQLException
     {
         Cursor mCursor = this.mDb.query(true, DATABASE_TABLE, new String[] {ROW_ID, NAME, MODEL, YEAR}, ROW_ID + "=" + rowId,
                 null, null, null, null, null);

         if(mCursor != null)
         {
             mCursor.moveToFirst();
         }

         return mCursor;
     }

     public boolean updateCar(long rowId, String name, String model, String year)
     {
         ContentValues args = new ContentValues();

         args.put(NAME, name);
         args.put(MODEL, model);
         args.put(YEAR, year);
         return this.mDb.update(DATABASE_TABLE, args, ROW_ID + "=" + rowId, null) >0;  
     }

}//end CarsDBAdapter class 
```

这是我创建 3 个表的 DBAdapter：

```
public class DBAdapter
{
    public static final String DATABASE_NAME = "stuffIOwn";
    public static final int DATABASE_VERSION = 2;

    private static final String CREATE_TABLE_CARS = "create table cars(_id integer primary key autoincrement, " //$NON-NLS-1$
            +CarsDBAdapter.NAME+ " TEXT," //$NON-NLS-1$
            +CarsDBAdapter.MODEL+ " TEXT," //$NON-NLS-1$
            +CarsDBAdapter.YEAR+ " TEXT" +");"; //$NON-NLS-1$

    private static final String CREATE_TABLE_BOATS = "create table boats(_id integer primary key autoincrement, " //$NON-NLS-1$
            +BoatsDBAdapter.NAME+ " TEXT," //$NON-NLS-1$
            +BoatsDBAdapter.MODEL+ " TEXT," //$NON-NLS-1$
            +BoatsDBAdapter.YEAR+ " TEXT" +");"; //$NON-NLS-1$

    private static final String CREATE_TABLE_CYCLES = "create table cycles(_id integer primary key autoincrement, " //$NON-NLS-1$
            +CyclesDBAdapter.NAME+ " TEXT," //$NON-NLS-1$
            +CyclesDBAdapter.MODEL+ " TEXT," //$NON-NLS-1$
            +CyclesDBAdapter.YEAR+ " TEXT" +");"; //$NON-NLS-1$

    private final Context context;
    private DatabaseHelper DBHelper;
    private SQLiteDatabase db;

    public DBAdapter(Context ctx)     
    {         
        this.context = ctx;         
        this.DBHelper = new DatabaseHelper(this.context);     
    }

    private static class DatabaseHelper extends SQLiteOpenHelper      
    {         
        DatabaseHelper(Context context)          
        {             
            super(context, DATABASE_NAME, null, DATABASE_VERSION);         
            }          
        @Override         
        public void onCreate(SQLiteDatabase db)          
        {             
            db.execSQL(CREATE_TABLE_CARS);             
            db.execSQL(CREATE_TABLE_BOATS);             
            db.execSQL(CREATE_TABLE_CYCLES);                   
        }          
        @Override         
        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion)          
        {                            
            // Adding any table mods to this guy here         
        }     
    }//end DatabaseHelper class

    public DBAdapter open() throws SQLException      
    {         
    this.db = this.DBHelper.getWritableDatabase();         
    return this;     
    }      
    /**      
     * close the db 
     *return type: void      
     */    
    public void close()      
    {        
        this.DBHelper.close();     
    } 
```

这是 Cars.java 类，它类似于 Cycles.java 和 Boats.java 类。

```
public class Cars extends Activity
{
    final Context context = this;

     /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.cars);

        CarsDBAdapter carsDB = new CarsDBAdapter(this);

        //DBAdapter dbA = new DBAdapter(this);

        /*carsDB.open();
        long id;
        id = carsDB.insertCars("Mercedes", "MERCDS", "2000");
        id = carsDB.insertCars("BMW", "BMWTO", "1999");
        carsDB.close();*/

        carsDB.open();

        Cursor c = carsDB.getAllCars();
        if (c.moveToFirst())
        {
            do
            {
                DisplayContact(c);
            } while (c.moveToNext());
        }

        carsDB.close();

        Button btnMenu = (Button) findViewById(R.id.btnMenu);
        btnMenu.setOnClickListener(new View.OnClickListener()
            {

                @Override
                public void onClick(View v)
                {
                    Intent menuIntent = new Intent(context, VehiclesMenu.class);
                    startActivity(menuIntent);

                }
            });
    }//end onCreate()

    public void DisplayContact(Cursor c)
    {
        Toast.makeText(
                this,
                "id: " + c.getString(0) + "\n" + "Name: " + c.getString(1)
                        + "\n" + "Model:  " + c.getString(2) + "\n" + "Year: " + c.getString(3),  Toast.LENGTH_LONG)
                .show();
    } 
```

我真的需要帮助。任何帮助将不胜感激。

**更新**

我已经添加了代码，但您可以查看上面的链接。它链接到我遵循的示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T04:25:02.317

如果您想在一个 dbHelper 中创建多个表，请在 onCreate 方法中执行此操作。

```
 @Override
    public void onCreate(SQLiteDatabase db) {
  db.execSQL("CREATE TABLE Abc(_id INTEGER ,Category text ,Category_Name,Date text);");

        db.execSQL("CREATE TABLE Xyz(_id INTEGER ,Name text not null);");
    } 
```

您可以编写任意数量的 db.execSql() 来创建表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:24:24.443

尝试这个：

```
package com.example.sample;

import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.widget.Toast;

public class DatabaseHelper extends SQLiteOpenHelper {
    private static String sqlTable1 = "CREATE TABLE TEST (ID INTEGER PRIMARY KEY,NAME TEXT);";
    private static String sqlTable2 = "CREATE TABLE TEST2 (ID INTEGER PRIMARY KEY,NAME TEXT);";
    private Context context;

    public DatabaseHelper(Context context) {
        super(context, "MYDB", null, 1);
        this.context = context;
    }

    @Override
    public void onCreate(SQLiteDatabase db) {
        Toast.makeText(context, "Hello", Toast.LENGTH_SHORT).show();
        db.execSQL(sqlTable1);
        db.execSQL(sqlTable2);
    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    }

    public void initialInsert() {
        String sql = "INSERT INTO TEST(NAME) VALUES('YOUR NAME')";
        String sql2 = "INSERT INTO TEST2(NAME) VALUES('YOUR NAME')";
        getWritableDatabase().execSQL(sql);
        getWritableDatabase().execSQL(sql2);
    }
} 
```

从您的活动中创建助手类的对象，例如：

```
DatabaseHelper helper = new DatabaseHelper(this);
//FOR INSERTING INITIAL VALUES      
helper.initialInsert(); 
```

# ruby-on-rails - “路线匹配”的Rails问题

> ID：11895113
> 
> 赞同：0
> 
> 时间：2012-08-10T03:35:26.133
> 
> 标签：ruby-on-rails, ruby

加载此 URL 时出现以下错误：localhost:3000/groups/5/post/new

> 没有路线匹配 [GET] "/groups/5/post/new"

我正在尝试为特定组创建一个新的“帖子”。这是我的 Post 控制器“新”操作：

```
 def new
    @group = Group.find(params[:group_id])
    @post = Post.new

    respond_to do |format|
      format.html # new.html.erb
      format.json { render json: @post }
    end
  end 
```

我的路线是这样组织的：

```
resources :groups do
  resources :posts do
    resources :comments
  end
end 
```

有没有人看到任何可能导致这种情况的东西？

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T03:40:49.657

```
localhost:3000/groups/5/post/new 
```

应该

```
localhost:3000/groups/5/posts/new 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T03:41:17.940

使用该嵌套资源，路径不应该是？：/groups/5/posts/new（注意复数帖子）

# nservicebus - 链接事件/命令？

> ID：11895115
> 
> 赞同：2
> 
> 时间：2012-08-10T03:35:32.513
> 
> 标签：nservicebus

我有一个正在尝试使用 NServiceBus 实现的功能，但不确定要在此处使用的模式。（我对 NServiceBus 还很陌生）

我将尝试解释我的不确定性来自哪里：

用户交互触发 MVC 控制器发送命令以执行域操作。此命令引发事件以通知其他人发生了这种情况。

订阅此事件的处理程序确定是否应该发生另一个域操作。

这是我不清楚要遵循的正确模式的地方。此时事件处理程序应该：

*   只需进行所需的更改？
*   发送一个新的命令来做呢？如果是这样，将其发送回原始服务/进程？
*   另外一个选项？

我的一部分想知道我是否应该使用进程内域事件来处理这个问题，但我认为第一个命令不应该在第二个命令返回之前等待。事实上，它可能会在很久以后发生。这就是为什么我选择使用总线来异步处理它的原因。此外，一旦第二次操作完成，将需要生成一封电子邮件。是否应该从另一个事件/命令触发？

任何和所有的指导表示赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T10:47:51.860

如果不需要等待第二个动作，那么是的，它应该异步完成，所以第一个命令的处理应该发布一个 NServiceBus 事件。该事件的处理程序将（可能）托管在一个单独的端点中，然后该端点将完成工作 - 无需在那里发送另一个命令。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T13:02:53.107

为了补充 Udi 的答案，如果原始端点处的服务确实应该负责该命令的行为，我只会转身并将命令发送回原始服务。否则，接收事件的服务（端点）应该只做它需要做的事情来响应事件（这听起来像你的情况）。

# python - 如何阅读 RSS 提要中的所有文章？

> ID：11895116
> 
> 赞同：7
> 
> 时间：2012-08-10T03:35:45.023
> 
> 标签：python, rss, feed, feedparser, rss-reader

我正在使用 Python feedparser 从 RSS 提要中读取文章。但是，只能阅读文章的第一页。是否有任何其他 lib/package 可以阅读 RSS 提要的所有文章？

类似问题@ SO：[Feedparser - 从 Google Reader 检索旧消息](https://stackoverflow.com/questions/1676223/feedparser-retrieve-old-messages-from-google-reader)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-10T04:58:57.013

RSS 本身可能只有第一页数据。您可以从 RSS 项目中的“链接”属性访问原始数据（至少在 feedparser 中是这样）。就像是：

```
feed = feedparser.parse('http://reddit.com/.rss')
for entry in feed['entries']:
    content = urlopen(entry['link']).read()
    # Do something with content 
```

# jquery - 对已从 Localstorage 添加的表行进行排序

> ID：11895118
> 
> 赞同：0
> 
> 时间：2012-08-10T03:35:58.177
> 
> 标签：jquery, local-storage, tablesorter

我正在将 localstorage 用于项目，并尝试使用 tablesorter2 jquery 插件对表进行排序。我不断收到以下错误：

未捕获的类型错误：无法读取未定义的属性“行”

我有一个在提交按钮单击时运行的函数，它从我友好的 javascript 控制台认为不存在的本地存储中添加这些行。

有没有办法调用从本地存储而不是原始标记中添加的行？

这是添加表格行的代码：

```
$(document).ready(function(){

    $.extend($.fn, {
        storeitem: function() {

            //add a new id for each array
            $newTeam = $('#team');

            //set up unique ids for each array
            var i = Number(localStorage.getItem('team-counter')) + 1;

            // create condition to add or loop through new entry
            if ($newTeam.val() !== "") {
                // Take the value of the input field and save it to localStorage
                localStorage.setItem("team-" + i, $newTeam.val());

                // Set the to-do max counter so on page refresh it keeps going up instead of reset
                localStorage.setItem('team-counter', i);
            }

            //use serializeArray to simplify array creation
            //  var teaminfo = $("#newTeamForm").serializeArray();

            var teaminfo = {};
            var givemethat = $.each($('#newTeamForm').serializeArray(), function() {
                teaminfo[this.name] = this.value;
            });
            //alert(teaminfo.teamname);
            //$('div.second').replaceWith('<h2>New heading</h2>');
            $("#standings tr:last-child").after('<tbody><tr><td>' + teaminfo.teamname + '</td> <td></td><td></td> <td></td></tr></tbody>' );
            $("#standings").tablesorter();
            //$("#standings > tbody:last").after("<tr>" +  + "</tr>");
            //store data in key value pair and stringify
            localStorage.setItem("team-" + i, JSON.stringify(teaminfo));

            //  var neat = localStorage.setItem('teamname')

            var teamName = JSON.parse(localStorage.getItem("team-" + i));

        }//storeitem

    });//extend

});//doc ready 
```

为了运行排序功能，我运行了：

```
$('#standings').tablesorter(); 
```

当我手动将表行添加到我的标记中时，该函数起作用，但是当它们是使用上面的函数从本地存储中添加时。

请让我知道这是否有意义。我是新开发人员，所以请原谅含糊不清。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T23:49:28.443

我看到的最明显的问题是代码为`tbody`它添加的每一行添加一个新的：

```
$("#standings tr:last-child").after('<tbody><tr><td>' + teaminfo.teamname + '</td> <td></td><td></td> <td></td></tr></tbody>' ); 
```

这应该看起来像这样：

```
$("#standings tr:last-child").after('<tr><td>' + teaminfo.teamname + '</td> <td></td><td></td> <td></td></tr>' ); 
```

虽然，我看不到您如何循环并将新数据添加到空表格单元格中。

缺少的部分是，一旦您添加了所有行，您将需要更新 tablesorter - 请参阅[此演示](http://tablesorter.com/docs/example-empty-table.html)。

```
$("table").trigger("update"); 
```

# android - 如何强制列表视图刷新其视图？

> ID：11895121
> 
> 赞同：2
> 
> 时间：2012-08-10T03:36:20.393
> 
> 标签：android, android-layout

其实我试过以下方法：

```
checkbox_visable=true;
fileList.notifyDataSetChanged();
listview.invalidate(); 
```

但它就是不记得我`getview()`为每一行指定的适配器方法：

```
@Override
public View getView(int position, View convertView, ViewGroup parent) {
    // TODO Auto-generated method stub
    convertView=super.getView(position, convertView, parent);
    CheckBox cb=(CheckBox) convertView.findViewById(R.id.item_cb);
    if(checkbox_visable)
    cb.setVisibility(View.INVISIBLE);
    return convertView;
} 
```

那么，我有什么想法可以动态更改 UI`ListView`吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:51:15.303

当您向下滚动列表视图时，会自动调用 getview。

您的视图将自动刷新

在您的代码中放置一个 else 条件，如果条件为 false，它将设置复选框的状态

```
if(checkbox_visable)
            cb.setVisibility(View.INVISIBLE);
else
//what you want the state of the checkbox to be 
```

我认为这会奏效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:01:54.857

好的，然后试试这个

```
listview.setAdapter(new FileList(this, R.layout.row, your data));

And in your FileList class make the construstor of your adapter like.  

public FileList(Context context, int textViewResourceId,   String[] objects) {
            super(context, textViewResourceId, objects);
        } 
```

希望这会有所帮助

# java - 自动缩放 JPanel --swing 窗口调整大小

> ID：11895123
> 
> 赞同：2
> 
> 时间：2012-08-10T03:36:47.050
> 
> 标签：java, swing, layout, jpanel, scale

我使用空布局。

在调整摆动窗口大小时，JPanel 不会根据新的摆动窗口大小调整大小以适应。

建议任何功能或其他方式来避免。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T08:56:19.250

我实际上做过一次

我的方法是这样的

我首先设置了一个较小的窗口，然后设置了空布局，然后设置了组件的大小，比如说一个 JButton。然后我得到我电脑的屏幕尺寸

```
Dimension screensize = Toolkit.getDefaultToolkit().getScreenSize(); 
```

然后我计算我的较小 jframe 与我的计算机的全屏大小的比率一个宽度和另一个高度的比率所以如果我的全屏 1000x800 和我的较小尺寸 jframe 是 500x400 我知道 ratiow 和 ratioh 是 1/2 所以当窗口调整大小设置 jbutton size 大 1/2 倍（在paint方法中完成所有比例的计算和设置尺寸）（当屏幕调整大小时，它会自动调用paint()）或者你可以调用repaint()

抱歉，我没有旧代码，无法在此处发布。我的最后一个硬盘坏了。

# grails - 如何使用 AOP 或其他方式拦截域对象的动态方法？

> ID：11895127
> 
> 赞同：3
> 
> 时间：2012-08-10T03:36:58.470
> 
> 标签：grails, grails-orm, grails-plugin, grails-domain-class

我想用 Around 建议（可能使用 Spring AOP）包装 Domain 类的动态方法，如 save() get*()。这个想法是拦截这些方法并决定是否应用它们。作为其中的一部分，我还想保存返回值以防执行该方法。

此逻辑需要作为插件的一部分执行，以免影响现有源代码。感谢您在这方面的任何帮助。

# php - 使用 PHP curl 登录到另一个域

> ID：11895140
> 
> 赞同：0
> 
> 时间：2012-08-10T03:39:15.600
> 
> 标签：php, curl

我在两个域中有两个文件

```
 http://example1.com/remote_login.php 
```

和

```
 http://example2.com/login.php 
```

当用户访问`http://example1.com/remote_login.php`时，我想在 remote_login.php 中进行一些验证，之后我想发布`username`and`password`到 `http://example2.com/login.php`如果结果成功，用户应该被重定向到`http://example2.com/index.php`（我也在检查会话`http://example2.com/index.php`）

任何的想法

`Sorry for my bad english`

我已经尝试使用它`curl`，但它不起作用它会登录，但不会设置会话。所以用户无法重定向到`index.php`

```
$cookie="cookie.txt"; 
$data = array();
$data['global_id'] = "raj";
$data['global_password'] = "raj";

foreach ($data as $key => $value){
    $post_items[] = $key . '=' . $value;
}

//create the final string to be posted using implode()
$post_string = implode ('&', $post_items);

$curl_connection = curl_init('http://example2.com/login.php');
curl_setopt($curl_connection, CURLOPT_CONNECTTIMEOUT, 30);

curl_setopt($curl_connection, CURLOPT_USERAGENT,"Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:14.0) Gecko/20100101 Firefox/14.0.1");

curl_setopt($curl_connection, CURLOPT_RETURNTRANSFER, TRUE);
curl_setopt($curl_connection, CURLOPT_FAILONERROR, TRUE);
curl_setopt($curl_connection, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($curl_connection, CURLOPT_FOLLOWLOCATION, 1);
curl_setopt($curl_connection, CURLOPT_REFERER, 'http://example2.com/login.php');
curl_setopt($curl_connection, CURLOPT_POST, true);
curl_setopt($curl_connection, CURLOPT_POSTFIELDS, $data);
curl_setopt($curl_connection, CURLOPT_HEADER, FALSE);
curl_setopt($curl_connection, CURLOPT_COOKIEJAR, $cookie);
curl_setopt($curl_connection, CURLOPT_COOKIEFILE, $cookie);
curl_setopt($curl_connection, CURLOPT_SSLVERSION, 3); // OpenSSL issue
curl_setopt($curl_connection, CURLOPT_SSL_VERIFYPEER, 0);  // Wildcard certificate
curl_setopt($curl_connection, CURLOPT_SSL_VERIFYHOST, 2);
$result = curl_exec($curl_connection);

if($result){
    header("Location: http://example2.com/index.php");

}
else{
    echo "Login failed";
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T04:05:47.117

这是一个相当大的任务。用户未登录的原因是会话不会设置在他们的机器上，而是设置在服务器上（如果它接受 cookie）。所以你现在做的很没用。

话虽如此，您可以设置某种系统，在该系统中，每次远程登录都会触发某种“验证 ID”，然后可以将其返回给该特定用户，然后将用户重定向到链接（`validateSession.php`？），传递特定 ID 以确认身份，所有会话都在那里设置...

这是一项艰巨的任务。

另请注意：这不是 100% 安全的，除非您使用 SSL 来防止中间人攻击。中间人攻击是指一些邪恶的怪物监听从客户端发送到服务器的内容，反之亦然。所以如果有人拿到了那个ID，你就有麻烦了。或者更糟糕的是，如果他们掌握了用户的用户名并通过了……哦，天哪……

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:49:11.040

把你的代码按原样

在 if($result) 中更改您的代码

```
if($result){

<form id="myform" action="http://example2.com/index.php" method="post">
<input type="hidden" name="username" value=$username>
<input type="hidden" name="password" value=$password>
</form>

<script type="text/javascript">    // java script
function submitform()               // this is function send from data useing post method 
{
document.forms["myform"].submit();
alert("Value is sumitted");
}
function submitform();  //  calling function on page load
</script>

} 
```

# ruby-on-rails-3 - 使用 rspec、devise、guard 和 spork 时无法在 factory girl 中创建用户工厂

> ID：11895143
> 
> 赞同：1
> 
> 时间：2012-08-10T03:39:36.847
> 
> 标签：ruby-on-rails-3, devise, factory-bot, rspec2

我已经在几个地方看到过这个问题，但似乎没有一个解决方案有效。

我有一个 Rails 3.1 应用程序，其中包含最新版本的 guard、spork、factory girl、rspec 和 devise。

每当我尝试创建用户工厂（用户模型是设计模型）时，我都会收到此错误：

```
Could not find a valid mapping for #<User...model attributes...> 
```

我不确定问题是什么。

我跑了`rake db:test:prepare`。我遵循了这个stackoverflow问题中的说明：[“找不到#<User ...>的有效映射”仅在第二次和后续测试中](https://stackoverflow.com/questions/6363471/could-not-find-a-valid-mapping-for-user-only-on-second-and-successive-t)

另外，我在 google groups 的这个答案中尝试了解决方案：

[https://groups.google.com/forum/?fromgroups#!topic/plataformatec-devise/StpbEsDCec0[1-25]](https://groups.google.com/forum/?fromgroups#!topic/plataformatec-devise/StpbEsDCec0[1-25])

而且，这是所有相关代码：

保护文件

 `````
 # A sample Guardfile
# More info at https://github.com/guard/guard#readme
require 'capybara/rspec'
guard 'spork', :cucumber_env => { 'RAILS_ENV' => 'test' }, :rspec_env => { 'RAILS_ENV' => 'test' } do
  watch('config/application.rb')
  watch('config/environment.rb')
  watch('config/environments/test.rb')
  watch(%r{^config/initializers/.+\.rb$})
  watch('Gemfile')
  watch('Gemfile.lock')
  watch('spec/spec_helper.rb') { :rspec }
  watch('test/test_helper.rb') { :test_unit }
  watch(%r{features/support/}) { :cucumber }
end

guard 'rspec', :version => 2, :cli => '--drb' do
  watch(%r{^spec/.+_spec\.rb$})
  watch(%r{^lib/(.+)\.rb$})     { |m| "spec/lib/#{m[1]}_spec.rb" }
  watch('spec/spec_helper.rb')  { "spec" }

  # Rails example
  watch(%r{^app/(.+)\.rb$})                           { |m| "spec/#{m[1]}_spec.rb" }
  watch(%r{^app/(.*)(\.erb|\.haml)$})                 { |m| "spec/#{m[1]}#{m[2]}_spec.rb" }
  watch(%r{^app/controllers/(.+)_(controller)\.rb$})  { |m| ["spec/routing/#{m[1]}_routing_spec.rb", "spec/#{m[2]}s/#{m[1]}_#{m[2]}_spec.rb", "spec/acceptance/#{m[1]}_spec.rb"] }
  watch(%r{^spec/support/(.+)\.rb$})                  { "spec" }
  watch('config/routes.rb')                           { "spec/routing" }
  watch('app/controllers/application_controller.rb')  { "spec/controllers" }

  # Capybara request specs
  watch(%r{^app/views/(.+)/.*\.(erb|haml)$})          { |m| "spec/requests/#{m[1]}_spec.rb" }

  # Turnip features and steps
  watch(%r{^spec/acceptance/(.+)\.feature$})
  watch(%r{^spec/acceptance/steps/(.+)_steps\.rb$})   { |m| Dir[File.join("**/#{m[1]}.feature")][0] || 'spec/acceptance' }
end
</code> 
```

This is in my spec/factories.rb

```
FactoryGirl.define do   
 load "#{Rails.root}/app/models/user.rb"  
 factory :user, class: User do |user|
    email 'owner@example.com'
     password '12345678'
    password_confirmation '12345678'
     companyid 'example_company'   
  end 
end 
```

This is my spec/controllers/api_controller_spec.rb

```
require 'spec_helper'

describe ApiController do
  it 'verifies company_id through POST to api/company_id' do
    load "#{Rails.root}/app/models/user.rb"
    debugger
    user = FactoryGirl.create(:user)
    post(:get_company_id, {:company_id => 'example_company'})
    response.body.should include('true')
  end
end 
```

And I have this at the end of my config/application.rb

```
 ActionDispatch::Callbacks.after do
  # Reload the factories
  return unless (Rails.env.development? || Rails.env.test?)

  unless FactoryGirl.factories.blank? # first init will load factories, this should only run on subsequent reloads
    FactoryGirl.factories.clear
    FactoryGirl.find_definitions
  end
end 
```

I'm really desperate for an answer here because otherwise I won't be able to test my User model (which is the most important model I have).

Feel free to comment and ask any questions.

EDIT: code looked funny in places, so I edited it for clarity

UPDATE:

So I tried simplifying everything to get to the core of the problem, and I'm pretty sure that devise and factory girl don't "like" each other. I'm still getting the exact same error whenever I try and create a user factory.

This is my new setup (I reverted to a previous git commit and I no longer have guard or spork).

My factories.rb is exactly the same as Michael Durant's except I have an extra line:

```
companyid 'example' 
```

That's just a requirement for my app.

My spec_helper.rb requires rubygems and capybara/rspec and that's it.

And this is my spec/models/user_spec.rb

```
require 'spec_helper'
  describe 'User associations' do

    it 'tests creation of user' do
      debugger
      user = FactoryGirl.create(:user)
      User.count.should be(1)

    end
  end 
```

Also, this is interesting: When I hit that debugger statement and type in

```
 eval User 
```

It shows the mapping of a valid User.

UPDATE:

So, it's not factory girl that's the problem. It's devise.

This is the new api_controller_spec.rb file and it comes up with the same error of not having a valid mapping of the user.

require 'spec_helper'` 

```
describe ApiController do
  it 'verifies company_id through POST to api/company_id' do
    load "#{Rails.root}/app/models/user.rb"
    debugger
    user = User.new
    user.email = 'owner@example.com'
    user.password = '12345678'
    user.password_confirmation = '12345678'
    user.company_id = 'company'
    user.save
    post(:get_company_id, {:company_id => 'example_company'})
    response.body.should include('true')
  end
end 
```

任何其他环境都没有问题，因为我可以通过控制台创建用户，而本地服务器正在运行，或者代码被推送到 Heroku。它可能是 rspec 或其他东西，但我现在不确定。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T17:18:31.400

我建议您简化事情以找到问题。目前我觉得你有太多的事情/太多的可变因素。

我会推荐以下内容：

1 新建一个分支。我假设您正在使用 git，如果不使用它（git init）并创建一个 fork。

2 拆下所有的叉子和护板。它们有助于加快您的测试并在 CI（持续集成）中运行测试，但它们肯定不是“需要的”，删除它们将有助于发现真正的问题。

3 正确设置您的用户工厂。我们使用这个：

```
FactoryGirl.define do
  sequence :email do |n| 
    "email#{n}@factory.com"
  end 

  factory :user do
    email 
    first_name            { 'First' }
    last_name             { 'Last' }
    password              { "password" }
    password_confirmation { "password" }
    association           :area
    role                  { 'super_user' }
  end 

end 
```

4 正确设置您的 spec_help。我们在 spec_helper.rb 中使用这些需求：

```
require 'rubygems'
require 'capybara/rspec' 
```

5 尝试使用 spec/models/user_spec.rb 让一个用户测试通过，例如：

```
require 'spec_helper'
describe 'User associations' do
subject { User.new }
it { should validate_presence_of :area }
... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T02:11:35.400

因此，答案与guard、spork、rspec 或 factory_girl 无关。

问题是我的`devise_for :users`路线被注释掉了，因为我一直在对我的 rails 应用程序进行大修。

总是很简单的事情>.<`

# python - Python 类属性没有正确接受参数

> ID：11895147
> 
> 赞同：0
> 
> 时间：2012-08-10T03:39:42.040
> 
> 标签：python, class, properties

这个类应该接受`Keys`属性的参数，但是当我尝试时`MyUserInstance.Keys('foo')`，它不起作用。相反，它说`TypeError: Keys() takes exactly 2 arguments (1 given)`。怎么错了？

```
# User
class User:
    def __init__(self,
            Username = 'New User',
            **kwargs):
        self.Username = Username
        self.__dict__.update(kwargs)

    @property
    def Keys(self,collection):
        try:
            return {k:1 for k in db.UserPreferences.find_one({
                'Type':'VisibleKeys',
                'UserID':self._id,
                'CollectionName':collection})['Keys']}
        except:
            return None

    def __repr__(self):
        return '<User: "%s">' % self.Username 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T03:43:31.770

Keys 是类实例的绑定属性。这意味着您必须首先拥有一个实例。

```
user = User()
user.Keys = "foo" 
```

还要摆脱集合 arg。那是吸气剂。您只能在 setter 上定义 arg。

看起来它真的应该只是一种方法。所以实际上，摆脱属性装饰器并使用： user.keys("foo")

您可以在此处阅读有关如何定义 getter、setter 和 deleter 的信息：http: [//docs.python.org/library/functions.html#property](http://docs.python.org/library/functions.html#property)

此外，python 约定通常会为类名保留大写字母。这将是 User.keys

# sql - 使用 ADD TABLE 向其添加列后的 t-SQL UPDATE 表

> ID：11895154
> 
> 赞同：3
> 
> 时间：2012-08-10T03:40:23.637
> 
> 标签：sql, sql-server, tsql, alter-table

我必须在表中添加几列，然后在 SQL Server 2008 中更新它们。表定义归结为：

```
CREATE TABLE tbl (id INT PRIMARY KEY, 
                  dvt NVARCHAR(32), 
                  dd NVARCHAR(32));
INSERT INTO tbl (id, dvt, dd) 
 VALUES(1, '1', NULL);
INSERT INTO tbl (id, dvt, dd) 
 VALUES(2, '', NULL);
INSERT INTO tbl (id, dvt, dd) 
 VALUES(3, '2,5', NULL);
INSERT INTO tbl (id, dvt, dd) 
 VALUES(4, '13, 34, 45, 5', NULL);
INSERT INTO tbl (id, dvt, dd) 
 VALUES(5, '-1, 8, 10', NULL);
INSERT INTO tbl (id, dvt, dd) 
 VALUES(6, '-2, -10', NULL); 
```

如何在创建表的同一事务中向表中添加数据？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T03:50:29.977

尝试类似的东西

```
SET XACT_ABORT ON     
**--BEGIN TRANSACTION** 

ALTER TABLE tbl ADD d0 SMALLINT NULL 
ALTER TABLE tbl ADD d1 SMALLINT NULL 
ALTER TABLE tbl ADD d2 SMALLINT NULL 

GO

UPDATE tbl 
 SET 
 d0 = 1, 
 d1 = 2, 
 d2 = 3 

**--COMMIT TRANSACTION** 
SET XACT_ABORT OFF 

SELECT * FROm tbl 
```

没有交易

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-01-08T23:23:10.113

更新语句必须包含在`EXEC()`块中。

```
SET XACT_ABORT ON     
BEGIN TRANSACTION

IF 1=1 BEGIN  --used for simplicity to illustrate condition

ALTER TABLE tbl ADD d0 SMALLINT NULL 
ALTER TABLE tbl ADD d1 SMALLINT NULL 
ALTER TABLE tbl ADD d2 SMALLINT NULL 

EXEC('UPDATE tbl SET d0 = 1, d1 = 2, d2 = 3')

END

COMMIT TRANSACTION
SET XACT_ABORT OFF 

SELECT * FROm tbl 
```

（这个答案实际上是 ahmd0 的答案，因此将其发布为社区 wiki。但是，他将他的答案放在他的问题中使得像我这样的谷歌用户很难识别（并支持）我们喜欢的答案。）

# php - PHP $_SESSION 数据没有从一个页面保存到另一个页面

> ID：11895156
> 
> 赞同：0
> 
> 时间：2012-08-10T03:40:41.777
> 
> 标签：php, session, cookies

我现在正在用头撞墙。我一直在摆弄这个几个小时，我似乎无法弄清楚。

当我从一个页面导航到另一个页面时，我的会话数据没有保存。我已经在 WAMP 中设置了这个，顺便说一句。

cookie 正在保存，并且会话数据仅在我在每个脚本的开头重置它时才有效。我不太确定在这里做什么。这可能是非常愚蠢的事情，但非常感谢任何输入。

我的登录脚本：

```
<?php 

include('../partials/_header.php');
include('includes/connectvars.php');

if(!isset($_SESSION['id'])) { //logged in?

if(isset($_POST['submit'])) {       // form submitted?

if(!empty($_POST['email']) && !empty($_POST['password'])) { /* Check to make sure post isn't empty in case of JS override/disable */

        $email = mysqli_real_escape_string($dbc, trim($_POST['email']));
        $password = sha1(mysqli_real_escape_string($dbc, trim($_POST['password'])));
        /* query DB */
        $query = "SELECT * FROM users WHERE email = '$email' AND password = '$password'";
        $result = mysqli_query($dbc, $query) or die ("There was an error with your mySQL query:" . mysqli_error($dbc));

        if(mysqli_num_rows($result)==1) { /* Check that matching row exists in users for login */

                $row = mysqli_fetch_array($result);
                $_SESSION['id'] = $row['id']; // set the session info
                $_SESSION['type'] = $row['type'];
                $_SESSION['name'] = $row['f_name'];

                setcookie('id', $row['id'], time()+ (60*60*24*30));
                setcookie('type', $row['type'], time()+ (60*60*24*30));
                setcookie('name', $row['f_name'], time()+ (60*60*24*30));
                $home_url = '/'; //redirect not working with $_SERVER variable in WAMP. keep an eye for the future
                header('Location: '.$home_url);
                mysqli_close($dbc);

        } else { /* if no match in database ask to resubmit login info or register */?> 
                <script type="text/javascript" src="../js/jquery.validate.js"></script>
                        <script>
                            $(document).ready(function(){
                                  $("#login_form").validate();
                                 });
                        </script>
                        <div class="span-24 colborder">
                            <form id="login_form" action="<?php $_SERVER['PHP_SELF'] ?>" method="post">
                                <label class="error">Your email and/or password are incorrect. </label><br />
                                <label class="error">If you haven't already signed up, feel free to <a href="user_registration.php" > register</a> </label><br /> 
                                <input type="text" name="email" id="email" value="" class="email required" placeholder="example@example.com"/> <br />
                                <input type="password" name="password" id="password" class="required" value="" /> <br />
                                <input type="submit" name="submit" value="Login" /> 
                            </form>
                        </div>

    <?php

        }/* end conditional to check $rows array for username pw match */
    } /* end conditional to check that form isn't blank */ 
    else { /* If form is blank ask to resubmit or register */?> 
                        <script type="text/javascript" src="../js/jquery.validate.js"></script>
                        <script>
                            $(document).ready(function(){
                                  $("#login_form").validate();
                                 });
                        </script>
        <div class="span-24 colborder">
            <form id="login_form" action="<?php $_SERVER['PHP_SELF'] ?>" method="post">
                <label class="error">You must enter your email and password if you wish to continue.</label><br />
                <input type="text" name="email" id="email" value="" class="email required" placeholder="example@example.com"/> <br />
                <input type="password" name="password" id="password" class="required" value="" /> <br />
                <input type="submit" name="submit" value="Login" /> 
            </form>
        </div>

    <?php

    } // end else to resubmit in case of blank form
    } /* end check if form has been submitted */ else{ /* prompt for login if page visited but login form not submitted */ ?>
        <script type="text/javascript" src="../js/jquery.validate.js"></script>
                        <script>
                            $(document).ready(function(){
                                  $("#login_form").validate();
                                 });
                        </script>
        <div class="span-24 colborder">
            <form id="login_form" action="<?php $_SERVER['PHP_SELF'] ?>" method="post">
                <label class="error">You must be logged in to do that!.</label><br />
                <input type="text" name="email" id="email" value="" class="email required" placeholder="example@example.com"/> <br />
                <input type="password" name="password" id="password" class="required" value="" /> <br />
                <input type="submit" name="submit" value="Login" /> 
            </form>
        </div>  

                                                                    <?php

                                                                    }

    } /* end check if cookie isset */ else { //redirect if cookies & session is already set
                                                    $home_url = '/'; 
                                                    header('Location: '.$home_url);
                                                        }

?>

<?php include('partials/_footer.php'); ?> 
```

这是我的标题（如果 cookie isset 则包括设置的会话变量）

```
<?php //set session if isset cookie but not session
                session_start();
if(!isset($_SESSION['id'])) {

        if(isset($_COOKIE['id']) && isset($_COOKIE['name']) && isset($_COOKIE['type'])) {
                $_SESSION['id'] = $_COOKIE['id'];
                $_SESSION['name'] = $_COOKIE['name'];
                $_SESSION['type'] = $_COOKIE['type'];
            }       
    }   //end if !isset session verify

?> 
```

以及取决于其会话 ID 的菜单输出示例：

```
 <?php 
        if(isset($_SESSION['type']) && $_SESSION['type'] == "rnr") { //start special runner menu options
    ?> 
            <ul class="main_menu">
            <li id="how_it_works" class="main_menu"><a class="main_menu" href="/user/bid_task.php">Bid on a task</a></li>
            <li id="our_runners" class="main_menu"><a class="main_menu" href="/our_runners.php">Our Runners</a></li>
            <li id="login" class="main_menu"><a class="main_menu" href="/user/my_account.php">My account</a></li>
            <li id="register" class="main_menu"><a class="main_menu" href="/user/logout.php">Logout</a></li>
        </ul>       

    <?php } /* end runner menu */ ?> 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T03:56:08.003

头文件包含在登录脚本中调用 setcookie 函数之前。根据我所见，在您进行此条件检查时未设置 cookie：

```
if(isset($_COOKIE['id']) && isset($_COOKIE['name']) && isset($_COOKIE['type'])) 
```

因此，它永远不会进入条件语句，并且以下行不会在头文件中执行：

```
$_SESSION['id'] = $_COOKIE['id'];
$_SESSION['name'] = $_COOKIE['name'];
$_SESSION['type'] = $_COOKIE['type']; 
```

# c++ - 存储基类指针的 C++ 向量

> ID：11895163
> 
> 赞同：2
> 
> 时间：2012-08-10T03:42:22.677
> 
> 标签：c++, pointers, stl, vector

好的，情况：我正在使用一个我无法控制的库，它有一个方法 createSomeObject()。这个方法返回一个指向具有纯虚函数的抽象基类的指针，它没有复制构造函数，所以我不能自己实例化它也不能复制它（显然）。

我需要在一个向量中存储一些数字（比如 10 个），所以我尝试执行以下操作：

```
vector<AbstractBaseClass*> v(10);

for(int i = 0; i < 10; i++)
{
    v.push_back(library->createSomeObject());
} 
```

一旦这个循环结束，向量就会被损坏的指针填充。

我尝试了以下方法：

```
vector<AbstractBaseClass*> v(10);

for(int i = 0; i < 10; i++)
{
    AbstractBaseClass* abc = library->createSomeObject();
    v.push_back(abc);
} 
```

无济于事。我一定是疯了，或者在这里做错了什么。我环顾四周，但答案总是使用 boost::shared_ptr。可能是一个很好的解决方案，但我不能保证它会在构建它的机器上，所以我想避免用代码打包 Boost。

有什么我想念的吗？我觉得好像我只是忘记了一些简单的事情，因为我想不出其中一个不起作用的原因。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-10T03:45:51.087

当你这样做时：

```
vector<AbstractBaseClass*> v(10); 
```

您已经创建了一个包含 10 个（NULL）指针的向量。因此，在您调用 后`push_back`，您将拥有一个包含 20 个指针的向量，其中前 10 个指针无效。

如果您事先知道尺寸：

```
vector<AbstractBaseClass*> v(10);
for(int i = 0; i < 10; i++)
{
    v[i] = library->createSomeObject();
} 
```

或者，或者，`reserve`在创建一个空向量后调用。

# mysql - MySQL：三个散文同时（INSERT、SELECT、INSERT）可以吗？

> ID：11895164
> 
> 赞同：1
> 
> 时间：2012-08-10T03:42:31.243
> 
> 标签：mysql, sql-order-by, simultaneous

我有表`Context`并且`Criteria`具有多对多关系，所以我创建`DetailsContext`了存储每个表的 ID 的表。

然后，`Context`表是空的，`Criteria`是主表

我有插入上下文的表单，首先我插入`Context`表以获取 ID（自动增量），而不是选择 ID 表`Context`并按`Criteria`顺序 ID DESC 获取最新 ID。然后我插入到`DetailsContext`表中。

`SELECT ID FROM CONTEXT ORDER BY ID DESC`我只是用来获取最新的ID不行吗？恐怕很多用户一起访问时它不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T03:49:56.427

If I understand your question correctly, then according to [MySQL documentation](http://dev.mysql.com/doc/refman/5.0/en/getting-unique-id.html), you can get the last ID that was inserted into the table with `SELECT LAST_INSERT_ID()` as long as the id is autogenerated and you are inserting one row per `INSERT` statement.

# objective-c - UIPageViewControllerSpineLocation 委托方法未触发

> ID：11895167
> 
> 赞同：0
> 
> 时间：2012-08-10T03:42:49.153
> 
> 标签：objective-c, ios5, uiinterfaceorientation, uipageviewcontroller

整天都在这个令人头疼的主要问题:-(

我有一个 UIPageViewController 的实例，它似乎没有触发委托方法：

```
-(UIPageViewControllerSpineLocation)pageViewController:(UIPageViewController *)pageViewController
                  spineLocationForInterfaceOrientation:(UIInterfaceOrientation)orientation 
```

我已经尝试了各种显示 UIPageViewController 的方法，并且已经确定了一种似乎可以正常工作的编程方法（而不是 Storyboard 方法），但有一个例外......当将 iPad 旋转为横向时，脊柱不会出现在中间点如预期。我根本无法找出为什么没有调用委托方法。

**代码说明（例如简化）**

考虑如下三个类：

*   RootViewController - 应用启动时加载
*   PageViewController - 在用户启动时由 RootViewController 加载
*   PageContentViewController - 需要页面时由 PageViewController 加载

相当不言自明。RootViewController 由应用程序在启动时加载。当用户在此视图控制器的视图中点击图像时（想想杂志封面打开杂志），它会启动 PageViewController，如下所示：

```
PageViewController *pvc = [[PageViewController alloc] initWithNibName:@"PageView" 
                                           bundle:[NSBundle mainBundle]];
pvc.view.frame = self.view.bounds;
[self.view addSubview:pvc.view]; 
```

在实际的应用程序中，有动画等使过渡效果很好，但本质上是 PageViewController 的视图已加载并采用全屏显示。

**页面视图控制器**

这是主力（仅显示相关方法）。我尝试了来自 Google 无限世界的各种示例，并直接从 Apple 文档中编写...

```
@interface PageViewController : UIViewController <UIPageViewControllerDelegate, UIPageViewControllerDataSource>

@property (nonatomic, strong) UIPageViewController *pageViewController;
@property (nonatomic, strong) NSMutableArray *modelArray;

@end

@implementation TXCategoryController

-(void)viewDidLoad 
{

    [super viewDidLoad];

    // Simple model for demo
    self.modelArray = [NSMutableArray alloc] init];

    for (int i=1; i<=20; i++)
        [self.modelArray addObject:[NSString stringWithFormat:@"Page: %d", i]];

    self.pageViewController = [[UIPageViewController alloc] 
               initWithTransitionStyle:UIPageViewControllerTransitionStylePageCurl
                 navigationOrientation:UIPageViewControllerNavigationOrientationHorizontal options:nil];

    self.pageViewController.delegate = self;
    self.pageViewController.dataSource = self;

    PageContentViewController *startupVC = [[PageContentViewController alloc] initWithNibName:@"PageContent" bundle:nil];

    startupVC.pageLabel = [self.modelArray objectAtIndex:0];

    [self.pageViewController setViewControllers:[NSArray arrayWithObject:startupVC]
                                      direction:UIPageViewControllerNavigationDirectionForward
                                       animated:NO
                                     completion:nil];

    [self addChildViewController:self.pageViewController];
    [self.view addSubview:self.pageViewController.view];
    [self.pageViewController didMoveToParentViewController:self];
    self.pageViewController.view.frame = self.view.bounds;
    self.view.gestureRecognizers = self.pageViewController.gestureRecognizers;

}

-(UIViewController *)pageViewController:(UIPageViewController *)pageViewController
  viewControllerBeforeViewController:(UIViewController *)viewController
{
    // Relevant code to add another view...
}

-(UIViewController *)pageViewController:(UIPageViewController *)pageViewController
   viewControllerAfterViewController:(UIViewController *)viewController
{
    // Relevant code to add another view...
}

-(UIPageViewControllerSpineLocation)pageViewController:(UIPageViewController *)pageViewController
                  spineLocationForInterfaceOrientation:(UIInterfaceOrientation)orientation

{
    // Setting a break point in here - never gets called

    if (UIInterfaceOrientationIsPortrait(orientation))
    {
        // Relevant code to create view...
        return UIPageViewControllerSpineLocationMin;
    }

    // Relevant code to create 2 views for side-by-side display and
    // set those views using self.pageViewController setViewControllers:

    return UIPageViewControllerSpineLocationMid
}

@end 
```

正如我之前提到的，这一切都很好。PageViewController 的视图被显示出来。我可以纵向和横向左右滑动页面，并显示相应的页码。但是，我从来没有在横向视图中看到两个页面并排。在 spinLocationForInterfaceOrientation 委托方法中设置断点永远不会被调用。

这是一个令人头疼的问题，我已经耗尽了关于如何调试/解决问题的想法。它的行为几乎就像 UIPageViewController 没有响应设备的方向变化，因此没有触发委托方法。但是，视图会正确调整大小（但这可能只是处理该更改的 UIView 自动调整大小掩码）。

如果我只用这段代码（和适当的 XIb 等）创建一个全新的项目，它工作得非常好。所以我实际项目中的某个地方导致了这种情况。我不知道在哪里继续寻找。

像往常一样，非常感谢任何和所有帮助。

**边注**

我想添加标签“uipageviewcontrollerspinelocation”但不能，因为它太长而且我没有足够的声誉（需要 1500）。我认为这是 Apple 为避免 Stackoverflow 中的某些标签而采取的一种狡猾的策略...... ;-)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T21:20:57.987

终于发现问题了。它的症状有点像红鲱鱼，但同样相关。

在方法中放置一个断点`shouldAutorotateToInterfaceOrientation:`是一个自然的测试，以查看 UIViewController 是否甚至收到旋转通知。这并不是让我对这个问题进行苹果技术问答的原因：http: [//developer.apple.com/library/ios/#qa/qa1688/_index.html](http://developer.apple.com/library/ios/#qa/qa1688/_index.html)

其中最相关的一点是：

```
The view controller's UIView property is embedded inside UIWindow but alongside an additional view controller. 
```

不幸的是，Apple 以其传统的文档风格并没有提供答案，只是确认了问题。但是 Stack Overflow 上的一个回答得出了下一个线索：

[在不使用导航控制器堆栈、子视图或模态控制器的情况下动画视图控制器的变化？](https://stackoverflow.com/questions/8146253/animate-change-of-view-controllers-without-using-navigation-controller-stack-su)

尽管我的 RootViewController 正在加载 PageViewController，但我将其作为主视图的子视图。这意味着我有两个 UIViewController，只有父级会响应更改。

让 PageViewController 监听方向变化（从而触发相关的脊椎委托方法）的解决方案是`addSubview:`从 RootViewController 中移除并呈现视图控制器：

```
[self presentViewController:pac animated:YES completion:NULL]; 
```

一旦完成，方向变化就会被拾取，并且 PageViewController 正在触发脊椎位置的委托方法。只有一个小细节需要考虑。如果视图以横向启动，则视图仍显示纵向，直到旋转为纵向并返回横向。

这很容易通过编辑 viewDidLoad 进行调整，如下所示：

```
PageContentViewController *page1 = [[PageContentViewController alloc] initWithNibName:@"PageContent" bundle:nil];

NSDictionary *pageViewOptions = nil;
NSMutableArray *pagesArray = [NSMutableArray array];

if (IS_IPAD && UIInterfaceOrientationIsLandscape(self.interfaceOrientation))
{
    pageViewOptions = [NSDictionary dictionaryWithObject:[NSNumber numberWithInt:UIPageViewControllerSpineLocationMid]
                                                  forKey:UIPageViewControllerOptionSpineLocationKey];

    PageContentViewController *page2 = [[PageContentViewController alloc] initWithNibName:@"PageContent" bundle:nil];

    [pagesArray addObject:page1];
    [pagesArray addObject:page2];
}
else
{
    [pagesArray addObject:page1];
}

self.pageViewController = [[UIPageViewController alloc] initWithTransitionStyle:UIPageViewControllerTransitionStylePageCurl
                                                          navigationOrientation:UIPageViewControllerNavigationOrientationHorizontal
                                                                        options:pageViewOptions];
self.pageViewController.delegate = self;

[self.pageViewController setViewControllers:pagesArray
                                  direction:UIPageViewControllerNavigationDirectionForward
                                   animated:NO
                                 completion:NULL]; 
```

工作完成，问题解决。

# macos - 我可以从终端快速搜索/替换多个 .txt 文件吗？

> ID：11895169
> 
> 赞同：13
> 
> 时间：2012-08-10T03:43:25.153
> 
> 标签：macos, bash, terminal, replace

我有大约 100 个包含纯文本的 .txt 文件。不知何故，某些数据已损坏，需要查找/替换。

我需要搜索字符“--”并将其替换为长破折号：“--”。

有没有办法用终端中的命令快速做到这一点？

我的目录中的.txt文件的名称是按顺序编号的：1.txt、2.txt等。

谢谢！

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-08-10T03:48:57.400

**GNU `sed`：**

```
sed -i 's/--/—/g' *.txt 
```

**OSX BSD `sed`：**

您需要指定备份文件扩展名。创建带有扩展名的备份文件`.txt.bak`：

```
sed -i '.bak' 's/--/—/g' *.txt 
```

要完全替换文件，请指定一个空扩展名：

```
sed -i '' 's/--/—/g' *.txt 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-10T03:48:41.513

`sed -i 's/--/–/g' *.txt`应该工作。使其就地作用于文件的`-i`标志，替代的代表，以及使其替换同一行上多次出现的模式。查看的文档以获取更多信息。`sed``s``g``sed`

**编辑：**这适用于 GNU/Linux；事实证明，OSX 上的语法略有不同（请参阅评论和接受的答案）。

# php - 跳过具有多个条件的 foreach

> ID：11895171
> 
> 赞同：0
> 
> 时间：2012-08-10T03:43:34.903
> 
> 标签：php

我试图让我的 foreach 根据其中一个孩子的价值观跳过 xml 中的某些孩子。第一个代码仅用于跳过 1，但我想跳过很多。第二个代码不会跳过任何一个。

```
<?php
$gamespage = simplexml_load_file("http://gamepage.com/games?xml=1");
    foreach($gamespage->games->game as $game)
    {
    $gid = $game->appID;
    if ($gid != 65920) { 
} } 
```

第二个代码（不跳过任何代码）：

```
<?php
$gamespage = simplexml_load_file("http://gamepage.com/games?xml=1");
    foreach($gamespage->games->game as $game)
    {
    $gid = $game->appID;
    if ($gid != 65920 || $gid != 40940 || $gid != 50110 || $gid != 8990) {
} } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T03:44:20.290

您需要使用`&&`而不是`||`

甚至更好

```
if (!in_array($gid, array(65920, 40940, ...))) 
```

# perl - 对“和”关键字感到困惑

> ID：11895172
> 
> 赞同：2
> 
> 时间：2012-08-10T03:43:38.360
> 
> 标签：perl

为什么这两段代码会产生不同的输出？

```
 $a = 3;
    ($a == 4) and print "But I wanted apple, cherry, or blueberry!\n" ; 
```

给出没有程序输出但是

```
 $a = 3;
    print "But I wanted apple, cherry, or blueberry!\n" and ($a == 4); 
```

给出：但我想要苹果、樱桃或蓝莓！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-10T03:49:27.120

因为`and`是所谓的[“短路”算子](http://perldoc.perl.org/perlop.html)。这意味着如果您有`condition1 and condition2`，则评估第一个条件，并且仅当第一个条件返回 true 时才评估第二个条件。

所以，在

```
$a = 3;
($a == 4) and print "But I wanted apple, cherry, or blueberry!\n" ; 
```

条件`$a==4`为假，因此`print`不评估该语句。

然而，在

```
$a = 3;
print "But I wanted apple, cherry, or blueberry!\n" and ($a == 4); 
```

该`print`语句做它的事情并[返回`true`](http://perldoc.perl.org/functions/print.html)。评估第二个条件（显然是`false`），但打印已经完成。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-10T04:08:09.817

AND 和 OR 的真值表是

```
p  q  p AND q  p OR q
-  -  -------  ------
F  F     F       F
F  T     F       T
T  F     F       T
T  T     T       T 
```

或者如果我们分组，

```
p  q  p AND q         p  q  p OR q
-  -  -------         -  -  ------
F  *     F            F  F    F
T  F     F            F  T    T
T  T     T            T  *    T 
```

换句话说，并不总是需要评估两个操作数才能知道最终结果。

Perl（以及其他语言）将其作为一个特性结合起来：它将通过尽快返回来“短路”布尔运算符的评估。它不仅是一个很好的优化，而且非常有用。它允许这些构造有意义：

```
 func(...)
    or die;

 condition(...)
    and next; 
```

没有短路，`die`将`next`无条件评估。

如果要评估两个操作数，则需要临时变量

```
 my $f = f();  # f() has side-effects!
 my $g = g();  # g() has side-effects!
 if ($f && $g) {
    ...
 } 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-08-10T03:51:06.607

在 Perl 中，`and`是一个短路运算符。

[PerlMonks](http://www.perlmonks.org/?node_id=301355)很好地解释了短路运算符：

> **为什么是“短路”？**
> 
> Camel II 告诉我们，术语“短路”指的是它们“通过评估尽可能少的操作数来确定语句的真实性”。因此，基本上这些运算符会尽早停止表达式的评估链。这是它们价值的另一个关键。

基本上，如果语句的左侧`and`为假，则根本不评估右侧。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-10T07:30:51.360

如果您不确定优先级（哪些运算符首先运行，哪些运算符最后运行），您总是可以让 Perl 解析您的代码，然后在启用括号的最大使用时再次对其进行反解析：

```
perl -MO=Deparse,-p -e '($a == 4) and print "But I wanted apple, cherry, or blueberry!\n" ;' 
```

哪个输出：

```
(($a == 4) and print("But I wanted apple, cherry, or blueberry!\n")); 
```

# java - Java 程序在调用特定类的任何方法时冻结

> ID：11895174
> 
> 赞同：1
> 
> 时间：2012-08-10T03:44:12.287
> 
> 标签：java, class, methods, static, static-methods

我有一个我正在处理的应用程序决定以一种非常无法解释的方式停止工作。经过一些调试和错误跟踪，我发现问题出在我的代码中对特定方法的调用中。

```
public static void main(String[] args) throws FileNotFoundException {
    System.out.println("Print ");
    InternalPanel.init();
}

IN INTERNAL PANEL

public static void init() {
    System.out.println("Line");
} 
```

只是为了澄清，从其他类调用**任何其他**方法都有效。从这个特定的类调用**任何**方法都不起作用。

此外，这个类（和其中的方法）一直有效。

当它停止工作时，我正在对程序中完全不相关的东西进行微小的更改（如在单独的线程中，对相关类没有影响）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T03:54:11.223

尝试查看 InternalPanel 类的其余部分。其静态初始化中的某些内容可能会对其他内容产生影响。例如：

```
public class InternalPanel
{
    private static SomeOtherThing thing = new SomeOtherThing();
    ...
} 
```

在上面的代码中，如果实例化 SomeOtherThing 最终导致一连串事件最终产生无限循环或堆栈溢出，则会产生您所看到的效果。它实际上不是对`init`函数的调用，而是 InternalPanel 类的静态初始化。

（您可以通过让您的测试程序在类上调用其他一些虚拟方法来轻松检查这是否是静态初始化问题`InternalPanel`。）

在调试模式下，您可能只想尝试在程序似乎被冻结时随机暂停执行，并查看正在运行的代码以及堆栈跟踪的样子。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T03:51:56.883

上面的代码对我来说非常适合这两个基类。这是意料之中的，因为它并没有真正做那么多。

我会：

1.  在您的 IDE 中执行干净的构建（mvn clean、Eclipse->(Menu)->Clean 等）
2.  跟踪（尽管您说了什么，我还是建议这样做）以查看是否达到了 init() 。
3.  检查您在任何其他类中都没有`static { }` “构造函数”方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T04:08:35.337

正如其他人已经暗示的那样：发生的情况是，InternalPanel 类通过 ClassLoader 加载，如果之前没有使用过的话。该类可能依赖于其他类，这些类可能会被加载并递归直到加载所有必需的类。

对于所有加载的类，都会调用静态初始化程序。在其中一个静态初始化程序中，可能会发生某种锁定，导致您的应用程序挂起。

尝试设置[类加载断点](http://www.vogella.com/articles/EclipseDebugging/article.html#advanced_class)以查看是否加载类可能是问题。

# php - PHP中更宽容的array_intersect

> ID：11895181
> 
> 赞同：0
> 
> 时间：2012-08-10T03:45:09.390
> 
> 标签：php, arrays, algorithm, function

`array_intersect`接受两个数组并查找匹配`===`的值并返回结果。但是，数组中的值必须逐个字符匹配。是否有用于比较两个数组并查找**包含**相似字符串而不是**相等**相似字符串的值的函数或方法。类似于 stripos 但带有`array_intersect`.

```
$array1 = array("howdyhorse", "monkeyjoe", "bill", "donkeymonkey", "carrothorse")
$array2 = array("bill", "horse", "monkeybunk", "apple", "panda")

function($array1, $array2);

Returns an array = array("bill", "horse", "monkeyjoe") 
```

顺序没有特别的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T03:53:22.880

您可以使用`array_uintersect`和[similar_text](http://www.php.net/manual/en/function.similar-text.php)。`similar_text`是`O(N**3)`，所以如果你比较相似的逻辑更简单，你需要编写自己的函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:02:54.437

正在通过类似的方式运行每个数组的所有值

```
foreach( $array as $slice )
    $slice = trim( preg_replace( $pattern, $replacement ) ) ; 
```

使所有内容都小写并删除空格和特殊字符，然后执行 array_intersect 选项？

# mongodb - 将条件应用于MongoDB中同一字段的多个文档

> ID：11895182
> 
> 赞同：3
> 
> 时间：2012-08-10T03:45:10.403
> 
> 标签：mongodb

我有一个具有以下结构的文件：

```
user {id: 123,  tag:"tag1"}
user {id: 123,  tag:"tag2"}
user {id: 123,  tag:"tag3"}
user {id: 456,  tag:"tag1"} 
```

给定用户 ID，我想查找该用户是否具有所有 3 个标签（AND 操作数）的记录。如果用户有 "tag1" AND "Tag2" AND "tag3" 的记录，则返回 true

SQL 等效项如下所示：

```
SELECT * FROM users WHERE 
  EXISTS (SELECT * FROM tags WHERE user_id = users.id AND name ='tag1') AND
  EXISTS (SELECT * FROM tags WHERE user_id = users.id AND name ='tag2') AND 
  user_id=123 
```

如何在 MongoDB 中表达类似的东西？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T06:03:31.473

因为 MongoDB 没有连接的概念，所以您需要通过将输入减少到单个文档来解决这个问题。

如果您更改文档结构以便存储标签数组，如下所示：

```
{id: 123,  tag:["tag1","tag2","tag3"]}
{id: 456,  tag:["tag1"]} 
```

您可以执行如下查询：

```
db.user.find({$and:[{tag:"tag1"},{tag:"tag2"},{tag:"tag3"}]}) 
```

如果需要，您可以编写一个 map-reduce 来为用户 ID 发出一组标签，这样您就可以对其进行上述查询。

**编辑 - 包括一个简单的 map-reduce**

`find`这是一个非常简单的 map-reduce，用于将初始输入转换为对上面给出的查询有用的格式。

```
var map = function() {emit(this.id, {tag:[this.tag]});}
var reduce = function(key, values){
   var result_array=[];
   values.forEach(function(v1){             
       v1.tag.forEach(function(v2){
        result_array.push(v2);
        });
    });
return {"tag":result_array};}

var op = db.user.mapReduce(map, reduce, {out:"mr_results"}) 
```

然后您可以查询 map-reduce 输出集合，如下所示：

```
db.mr_results.find({$and:[{"value.tag":"tag1"},{"value.tag":"tag2"}, {"value.tag":"tag3"}]}) 
```

# xml - XSLT：添加了前缀和命名空间

> ID：11895183
> 
> 赞同：4
> 
> 时间：2012-08-10T03:45:16.933
> 
> 标签：xml, xslt, xslt-1.0, prefix

我正在使用 XSLT 从一个 XML 转换为另一个 XML。通过应用论坛中给出的答案，我能够实现所需输出的所有要求，但唯一的问题是在输出中，一个额外的前缀`ns0`会在两个位置自动添加，并且命名空间`xmlns="http://www.imsglobal.org/xsd/imscp_v1p1"`会在每个节点的开头添加.

**输入文件**

```
<?xml version="1.0" encoding="UTF-8"?>
            <manifest identifier="eXescorm_quiz4823c6301f3d3afc1c1f" 
            xmlns="http://www.imsglobal.org/xsd/imscp_v1p1"
            xmlns:adlcp="http://www.adlnet.org/xsd/adlcp_rootv1p2" 
            xmlns:imsmd="http://www.imsglobal.org/xsd/imsmd_v1p2" 
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
            xsi:schemaLocation="http://www.imsglobal.org/xsd/imscp_v1p1 imscp_v1p1.xsd http://www.imsglobal.org/xsd/imsmd_v1p2 imsmd_v1p2p2.xsd"> 

    <resources>
         <resource identifier="RES22" type="webcontent" href="index.html"> 
                 <file href="index.html"/>
                 <file href="common.js"/>
         </resource>
    </resources>
</manifest> 
```

**期望的输出：**

```
<?xml version="1.0" encoding="UTF-8"?>
    <manifest xmlns="http://www.imsglobal.org/xsd/imscp_v1p1" 
              identifier="eXeorm_sample4823c6301f29a89a4c1f" 
              xmlns:adlcp="http://www.adlnet.org/xsd/adlcp_rootv1p2" 
              xmlns:imsmd="http://www.imsglobal.org/xsd/imsmd_v1p2" 
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
              xsi:schemalocation="http://www.imsproject.org/xsd/imscp_v1p1 imscp_v1p1.xsd http://www.imsglobal.org/xsd/imsmd_v1p2 imsmd_v1p2p2.xsd http://www.adlnet.org/xsd/adlcp_rootv1p2 adlcp_rootv1p2.xsd">

    <resources>
         <resource identifier="RES22" type="webcontent" href="index.html" adlcp:scormtype="sco"> 
                 <file href="index.html"/>
                 <file href="common.js"/>
                 <file href="new1.js"/>
                 <file href="new2.js"/>
         </resource>
    </resources>   
</manifest> 
```

**我的 XSLT：**

```
<xsl:stylesheet version="1.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:ims="http://www.imsglobal.org/xsd/imscp_v1p1"
  xmlns:adlcp="http://www.adlnet.org/xsd/adlcp_rootv1p2"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  exclude-result-prefixes="xsl ims adlcp xsi">
<xsl:output method="xml" indent="yes" />
<xsl:strip-space elements="*" />

<xsl:template match="@*|node()">
 <xsl:copy>
  <xsl:apply-templates select="@*|node()"/>
 </xsl:copy>
</xsl:template>

 <xsl:template match="/*">
  <xsl:element name="{name()}" namespace="{namespace-uri()}">
  <xsl:copy-of select="namespace::*[name()]"/>
   <xsl:apply-templates select="@*"/>
   <xsl:attribute name="xsi:schemaLocation">
    <xsl:value-of select=
    "'http://www.imsproject.org/xsd/imscp_v1p1 imscp_v1p1.xsd http://www.imsglobal.org/xsd/imsmd_v1p2 imsmd_v1p2p2.xsd http://www.adlnet.org/xsd/adlcp_rootv1p2 adlcp_rootv1p2.xsd'"
    />
   </xsl:attribute>
   <xsl:apply-templates select="node()"/>
  </xsl:element>
 </xsl:template>

<xsl:template match="ims:resource" xmlns="http://www.imsglobal.org/xsd/imscp_v1p1">
 <xsl:copy>
  <xsl:apply-templates select="@*"/>
  <xsl:attribute name="adlcp:scormtype">sco</xsl:attribute>
  <xsl:apply-templates select="node()"/>
  <file href="new1.js"/>
  <file href="new2.js"/>   
 </xsl:copy>
</xsl:template>
</xsl:stylesheet> 
```

**我得到的输出：** 而不是

```
<manifest xmlns="http://www.imsglobal.org/xsd/imscp_v1p1"> 
```

我明白了

```
<ns0:manifest xmlns:ns0="http://www.imsglobal.org/xsd/imscp_v1p1" > 
```

而不是

```
<resources> 
```

我明白了

```
<resources xmlns="http://www.imsglobal.org/xsd/imscp_v1p1">` 
```

（并且这个 xmlns 也被添加到其他一些节点的开头），而其余的一切都很好。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T04:10:38.860

**无法重现问题！**

我使用计算机上的所有 11 个 XSLT 处理器在提供的 XML 文档上运行提供的转换，并且都产生了相同的、想要的、正确的结果。

**无论如何，你为什么不试试这个稍微修改过的转换**，它也会产生想要的结果？：

```
<xsl:stylesheet version="1.0"
      xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
      xmlns:ims="http://www.imsglobal.org/xsd/imscp_v1p1"
      xmlns:adlcp="http://www.adlnet.org/xsd/adlcp_rootv1p2"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns="http://www.imsglobal.org/xsd/imscp_v1p1"
      exclude-result-prefixes="xsl ims adlcp xsi">
    <xsl:output method="xml" indent="yes" />
    <xsl:strip-space elements="*" />

    <xsl:template match="@*|node()">
     <xsl:copy>
      <xsl:apply-templates select="@*|node()"/>
     </xsl:copy>
    </xsl:template>

     <xsl:template match="/*">
      <xsl:element name="{name()}" namespace="{namespace-uri()}">
      <xsl:copy-of select="namespace::*[name()]"/>
       <xsl:apply-templates select="@*"/>
       <xsl:attribute name="xsi:schemaLocation">
        <xsl:value-of select=
        "'http://www.imsproject.org/xsd/imscp_v1p1 imscp_v1p1.xsd http://www.imsglobal.org/xsd/imsmd_v1p2 imsmd_v1p2p2.xsd http://www.adlnet.org/xsd/adlcp_rootv1p2 adlcp_rootv1p2.xsd'"
        />
       </xsl:attribute>
       <xsl:apply-templates select="node()"/>
      </xsl:element>
     </xsl:template>

    <xsl:template match="ims:resource">
     <xsl:copy>
      <xsl:apply-templates select="@*"/>
      <xsl:attribute name="adlcp:scormtype">sco</xsl:attribute>
      <xsl:apply-templates select="node()"/>
      <file href="new1.js" xmlns="http://www.imsglobal.org/xsd/imscp_v1p1"/>
      <file href="new2.js" xmlns="http://www.imsglobal.org/xsd/imscp_v1p1"/>
     </xsl:copy>
    </xsl:template>
</xsl:stylesheet> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T04:10:40.017

只需做这个小改动：

*   将样式表的默认命名空间设置为...

    ```
    xmlns="http://www.imsglobal.org/xsd/imscp_v1p1" 
    ```

# android - 在android sdk中的两个位置之间的地图中获取问题绘图线

> ID：11895184
> 
> 赞同：1
> 
> 时间：2012-08-10T03:45:34.557
> 
> 标签：android, google-maps, android-layout, android-intent, android-emulator

```
package com.hands;

import java.net.HttpURLConnection;
import java.net.URL;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;

import org.w3c.dom.Document;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;

import android.os.Bundle;
import android.util.Log;

import com.google.android.maps.GeoPoint;
import com.google.android.maps.MapActivity;
import com.google.android.maps.MapController;
import com.google.android.maps.MapView;

public class DrawlineActivity extends MapActivity {
     MapView myMapView = null;
     MapController myMC = null;
     GeoPoint geoPoint = null;
     @Override
     public void onCreate(Bundle savedInstanceState) {
      super.onCreate(savedInstanceState);

      setContentView(R.layout.main);
      myMapView = (MapView) findViewById(R.id.mapview);

      geoPoint = null;
      myMapView.setSatellite(false);
      double fromLat = 12.303534;
      double fromLong = 76.64611;
      double toLat = 12.9715987;
      double toLong = 77.5945627;

      String sourceLat = Double.toString(fromLat);
      String sourceLong = Double.toString(fromLong);
      String destinationLat = Double.toString(toLat);
      String destinationLong = Double.toString(toLong);

  String pairs[] = getDirectionData(sourceLat,sourceLong, destinationLat, destinationLong );
//The above line pairs[] retrieving null value. Showing as NULL POINTER EXCEPTION
      String[] lngLat = pairs[0].split(",");

      // STARTING POINT
      GeoPoint startGP = new GeoPoint((int) (Double.parseDouble(lngLat[1]) * 1E6), (int) (Double.parseDouble(lngLat[0]) * 1E6));

      myMC = myMapView.getController();
      geoPoint = startGP;
      myMC.setCenter(geoPoint);
      myMC.setZoom(10);
      myMapView.getOverlays().add(new DirectionPathOverlay(startGP, startGP));

      // NAVIGATE THE PATH

      GeoPoint gp1;
      GeoPoint gp2 = startGP;

      for (int i = 1; i < pairs.length; i++) {
       lngLat = pairs[i].split(",");
       gp1 = gp2;
       // watch out! For GeoPoint, first:latitude, second:longitude

       gp2 = new GeoPoint((int) (Double.parseDouble(lngLat[1]) * 1E6),(int) (Double.parseDouble(lngLat[0]) * 1E6));
       myMapView.getOverlays().add(new DirectionPathOverlay(gp1, gp2));
       Log.d("xxx", "pair:" + pairs[i]);
      }

      // END POINT
      myMapView.getOverlays().add(new DirectionPathOverlay(gp2, gp2));

      myMapView.getController().animateTo(startGP);
      myMapView.setBuiltInZoomControls(true);
      myMapView.displayZoomControls(true);

     }

     @Override
     protected boolean isRouteDisplayed() {
      // TODO Auto-generated method stub
      return false;
     } 
```

布局

```
<TextView
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="@string/hello" />

   <com.google.android.maps.MapView
           android:id="@+id/mapview"
             android:layout_width="fill_parent"
             android:layout_height="fill_parent"
             android:apiKey="034BXAeVNYe1Ob063cZUpablCB_0y7xjEGD3RhQ"
             /> 
```

Logcat 详细信息

```
08-10 09:03:20.216: W/dalvikvm(305): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
08-10 09:03:20.246: E/AndroidRuntime(305): FATAL EXCEPTION: main
08-10 09:03:20.246: E/AndroidRuntime(305): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.hands/com.hands.DrawlineActivity}: java.lang.NullPointerException
08-10 09:03:20.246: E/AndroidRuntime(305):       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
08-10 09:03:20.246: E/AndroidRuntime(305):       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
08-10 09:03:20.246: E/AndroidRuntime(305):       at android.app.ActivityThread.access$2300(ActivityThread.java:125)
08-10 09:03:20.246: E/AndroidRuntime(305):       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
08-10 09:03:20.246: E/AndroidRuntime(305):       at android.os.Handler.dispatchMessage(Handler.java:99)
08-10 09:03:20.246: E/AndroidRuntime(305):       at android.os.Looper.loop(Looper.java:123)
08-10 09:03:20.246: E/AndroidRuntime(305):       at android.app.ActivityThread.main(ActivityThread.java:4627)
08-10 09:03:20.246: E/AndroidRuntime(305):       at java.lang.reflect.Method.invokeNative(Native Method)
08-10 09:03:20.246: E/AndroidRuntime(305):       at java.lang.reflect.Method.invoke(Method.java:521)
08-10 09:03:20.246: E/AndroidRuntime(305):       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
08-10 09:03:20.246: E/AndroidRuntime(305):       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
08-10 09:03:20.246: E/AndroidRuntime(305):       at dalvik.system.NativeStart.main(Native Method)
08-10 09:03:20.246: E/AndroidRuntime(305): Caused by: java.lang.NullPointerException
08-10 09:03:20.246: E/AndroidRuntime(305):       at com.hands.DrawlineActivity.getDirectionData(DrawlineActivity.java:111)
08-10 09:03:20.246: E/AndroidRuntime(305):       at com.hands.DrawlineActivity.onCreate(DrawlineActivity.java:44)
08-10 09:03:20.246: E/AndroidRuntime(305):       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
08-10 09:03:20.246: E/AndroidRuntime(305):       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
08-10 09:03:20.246: E/AndroidRuntime(305):       ... 11 more 
```

更新了 getDirection 方法代码

包 com.hands;

导入 java.net.HttpURLConnection；导入 java.net.URL；

导入 javax.xml.parsers.DocumentBuilder；导入 javax.xml.parsers.DocumentBuilderFactory；

导入 org.w3c.dom.Document；导入 org.w3c.dom.Node；导入 org.w3c.dom.NodeList；

导入android.os.Bundle；导入android.util.Log；

导入 com.google.android.maps.GeoPoint；导入 com.google.android.maps.MapActivity；导入 com.google.android.maps.MapController；导入 com.google.android.maps.MapView；

公共类 DrawlineActivity 扩展 MapActivity { MapView myMapView = null; 地图控制器 myMC = null; 地理点 geoPoint = null; @Override public void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState);

```
 setContentView(R.layout.main);
  myMapView = (MapView) findViewById(R.id.mapview);

  geoPoint = null;
  myMapView.setSatellite(false);
  double fromLat = 12.303534;
  double fromLong = 76.64611;
  double toLat = 12.9715987;
  double toLong = 77.5945627;

  String sourceLat = Double.toString(fromLat);
  String sourceLong = Double.toString(fromLong);
  String destinationLat = Double.toString(toLat);
  String destinationLong = Double.toString(toLong);

  String pairs[] = getDirectionData(sourceLat,sourceLong, destinationLat, destinationLong );
  String[] lngLat = pairs[0].split(",");

  // STARTING POINT
  GeoPoint startGP = new GeoPoint((int) (Double.parseDouble(lngLat[1]) * 1E6), (int) (Double.parseDouble(lngLat[0]) * 1E6));

  myMC = myMapView.getController();
  geoPoint = startGP;
  myMC.setCenter(geoPoint);
  myMC.setZoom(10);
  myMapView.getOverlays().add(new DirectionPathOverlay(startGP, startGP));

  // NAVIGATE THE PATH

  GeoPoint gp1;
  GeoPoint gp2 = startGP;

  for (int i = 1; i < pairs.length; i++) {
   lngLat = pairs[i].split(",");
   gp1 = gp2;
   // watch out! For GeoPoint, first:latitude, second:longitude

   gp2 = new GeoPoint((int) (Double.parseDouble(lngLat[1]) * 1E6),(int) (Double.parseDouble(lngLat[0]) * 1E6));
   myMapView.getOverlays().add(new DirectionPathOverlay(gp1, gp2));
   Log.d("xxx", "pair:" + pairs[i]);
  }

  // END POINT
  myMapView.getOverlays().add(new DirectionPathOverlay(gp2, gp2));

  myMapView.getController().animateTo(startGP);
  myMapView.setBuiltInZoomControls(true);
  myMapView.displayZoomControls(true);

 }

 @Override
 protected boolean isRouteDisplayed() {
  // TODO Auto-generated method stub
  return false;
 }

 private String[] getDirectionData(String sourceLat, String sourceLong, String destinationLat, String destinationLong) {

  String urlString = "http://maps.google.com/maps?f=d&hl=en&" +"saddr="+sourceLat+","+sourceLong+"&daddr="+destinationLat+","+destinationLong + "&ie=UTF8&0&om=0&output=kml";
  Log.d("URL", urlString);
  Document doc = null;
  HttpURLConnection urlConnection = null;
  URL url = null;
  String pathConent = "";

  try {

   url = new URL(urlString.toString());
   urlConnection = (HttpURLConnection) url.openConnection();
   urlConnection.setRequestMethod("GET");
   urlConnection.setDoOutput(true);
   urlConnection.setDoInput(true);
   urlConnection.connect();
   DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
   DocumentBuilder db = dbf.newDocumentBuilder();
   doc = db.parse(urlConnection.getInputStream());

  } catch (Exception e) {
  }

  NodeList nl = doc.getElementsByTagName("LineString");
  for (int s = 0; s < nl.getLength(); s++) {
   Node rootNode = nl.item(s);
   NodeList configItems = rootNode.getChildNodes();
   for (int x = 0; x < configItems.getLength(); x++) {
    Node lineStringNode = configItems.item(x);
    NodeList path = lineStringNode.getChildNodes();
    pathConent = path.item(0).getNodeValue();
   }
  }
  String[] tempContent = pathConent.split(" ");
  return tempContent;
 }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T18:54:18.830

正如 logcat 所解释的，当您调用方法 getDirectionData() 时，您会收到 NullPointerException。上面的代码中没有显示此方法。您可以添加此方法以便我们查看问题所在吗？

**编辑：**感谢您添加 getDirectionData() 方法。它仍然不清楚问题出在哪里，但一个问题是您有一个空的 catch 块 - 这将吞下异常，然后您继续处理代码。例如，如果行

```
doc = db.parse(urlConnection.getInputStream()); 
```

抛出异常或返回空值，然后您尝试从空对象获取 NodeList - 这会给您空指针异常。我建议在此方法的开头放置一个断点并单步执行它，同时检查变量。这将确定问题的根源。

# python - mezzanine 部署 Apache2 wsgi 时遇到的错误

> ID：11895185
> 
> 赞同：2
> 
> 时间：2012-08-10T03:45:38.100
> 
> 标签：python, django, apache2

我尝试了夹层，并为此感到兴奋。将其部署到 ubuntu 服务器 + apache2 + mod_wsgi。但我无法插入图像，看不到浏览窗口。当我尝试访问 /gallery/ 时，总是发生错误。我是新手，很绝望，请帮忙。

*WSGI.PY*

```
import os, sys, site
sys.stdout = sys.stderr

# Add the virtual Python environment site-packages directory to the path
ve_path = '/home/webapp/richardeng/lib/python2.7/site-packages'
site.addsitedir(ve_path)

# put the Django project on sys.path
sys.path.insert(0, ve_path)
sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), "..")))
sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), ".")))

# Avoid ``[Errno 13] Permission denied: '/var/www/.python-eggs'`` messages
os.environ['PYTHON_EGG_CACHE'] = '/tmp'
os.environ['DJANGO_SETTINGS_MODULE'] = 'settings'

from django.core.handlers.wsgi import WSGIHandler 
```

*HTTPD配置文件*

```
WSGIScriptAlias / /home/webapp/richardeng/project/wsgi.py
WSGIPythonPath /home/webapp/richardeng/lib/python2.7/site-packages

Alias /static/ /home/webapp/richardeng/project/static/

<Directory /home/webapp/richardeng/project/static>
Order deny,allow
Allow from all
</Directory>

<Directory /home/webapp/richardeng/project>
<Files wsgi.py>
Order deny,allow
Allow from all
</Files>
</Directory> 
```

我使用了以下面料：

```
FABRIC = {
     "SSH_USER": "vagrant",  # SSH username
     "SSH_PASS":  "vagrant", # SSH password (consider key-based authentication)
     "SSH_KEY_PATH":  "", # Local path to SSH key file, for key-based auth
     "HOSTS": ["192.168.124.12", ], # List of hosts to deploy to
     "VIRTUALENV_HOME":  "/home/vagrant", # Absolute remote path for virtualenvs
     "PROJECT_NAME": "mymezz", # Unique identifier for project
     "REQUIREMENTS_PATH": "requirements/project.txt", # Path to pip requirements, relative to project
     "GUNICORN_PORT": 8000, # Port gunicorn will listen on
     "LOCALE": "en_US.UTF-8", # Should end with ".UTF-8"
     "LIVE_HOSTNAME": "192.168.124.12", # Host for public site.
     "REPO_URL": "git://github.com/nimbis/mezzanine-project.git", # Git or Mercurial remote repo URL for the project
     "DB_PASS": "password", # Live database password
     "ADMIN_PASS": "default", # Live admin user password
 } 
```

我失败的测试网站：[http](http://www.globalunicom.com) : //www.globalunicom.com admin/@richard

我尝试直接在服务器上安装夹层。运行 apache2 服务器和 mysql。httpd.conf 和 wsgi.py 保持不变。不幸的是 /gallery 和 admin 无法上传图片。只是这一次，得到了另一个问题，如下所示。好像我不能使用一个缩略图

我是这个地区的新手。我非常感谢您所做的所有努力。非常感谢！我希望我能采取下一步行动，请指导我详细说明您将要提到的所有内容（一步一步）。提前致谢。

**Firefox 浏览器** FileSystemEncodingChanged 在 /gallery/

尝试访问路径中包含 unicode 字符的文件，但不知何故，当前语言环境不支持 utf-8。您可能需要将“LC_ALL”设置为正确的值，例如：“en_US.UTF-8”。

请求方法：GET 请求 URL： [http](http://www.globalunicom.com/gallery/) ://www.globalunicom.com/gallery/ Django 版本：1.4.1 异常类型：FileSystemEncodingChanged 异常值：

尝试访问路径中包含 unicode 字符的文件，但不知何故，当前语言环境不支持 utf-8。您可能需要将“LC_ALL”设置为正确的值，例如：“en_US.UTF-8”。

异常位置：/home/webapp/test5/lib/python2.7/site-packages/mezzanine/core/templatetags/mezzanine_tags.py 在缩略图中，第 244 行 Python 可执行文件：/usr/bin/python Python 版本：2.7.3 Python小路：

['/home/webapp/test5/test5', '/home/webapp/test5', '/home/webapp/test5/lib/python2.7/site-packages/setuptools-0.6c11-py2.7.egg' , '/home/webapp/test5/lib/python2.7/site-packages/pip-1.1-py2.7.egg', '/home/webapp/test5/lib/python2.7/site-packages', ' /usr/local/lib/python2.7/dist-packages/pip-1.1-py2.7.egg', '/usr/lib/python2.7', '/usr/lib/python2.7/plat-linux2 '、'/usr/lib/python2.7/lib-tk'、'/usr/lib/python2.7/lib-old'、'/usr/lib/python2.7/lib-dynload'、'/usr /local/lib/python2.7/dist-packages'，'/usr/lib/python2.7/dist-packages'，'/usr/lib/pymodules/python2.7']

服务器时间：2012 年 8 月 12 日星期日 23:33:21 +0800

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-12T03:15:56.540

尝试将此添加到您的 http.conf

```
Alias /gallery /your/route/to/gallery/in/your/file/system

<Directory /your/route/to/gallery/in/your/file/system
Order deny,allow
Allow from all
</Directory> 
```

# jquery - jQuery UI - 如何正确触发 sortupdate 事件？

> ID：11895186
> 
> 赞同：1
> 
> 时间：2012-08-10T03:45:41.790
> 
> 标签：jquery, jquery-ui

我正在使用 jQuery v1.8.0 和 jQuery UI v1.8.22。

文档说您可以通过以下方式触发 sortupdate：

```
 $(".selector").bind("sortupdate", function (event, ui) {
     // do something here
 });

 $(".selector").trigger("sortupdate"); 
```

但这似乎并非如此，因为`ui`未定义。有没有其他方法可以使这项工作/在 sortupdate 上触发事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T03:54:58.640

`sortupdate`一旦排序停止并且 DOM 发生更改，就会触发。它应该自动发生，并且不打算以任何其他方式“触发”。这并不是说你不能触发事件，但是，如果你不传递它'ui'，那么它将是未定义的。

当 sortable 触发事件时，ui 不会是 undefined。

# c# - RegEx 根据字符串长度匹配不同的子字符串

> ID：11895194
> 
> 赞同：1
> 
> 时间：2012-08-10T03:47:23.647
> 
> 标签：c#, regex

我正在寻找一个正则表达式来匹配一个字母数字字符串。如果字符串长度为 32 个字符，则匹配字符 17 到 28。如果字符串长度为 34 个字符，则匹配最后 12 个字符。

[正则表达式匹配条件 http://s12.postimage.org/ghathiz2l/Screen_shot_2012_08_09_at_11_52_22_PM.png](http://s12.postimage.org/ghathiz2l/Screen_shot_2012_08_09_at_11_52_22_PM.png)

我有两个单独的表达式来获取两个不同条件的匹配项。

```
.(?<match>[0-9]{16}) and .(?<match>[0-9]{12}) 
```

在代码中，我从右到左读取表达式，处理“if”并在原始字符串为 32 个字符时截断匹配的最后 4 个字符，但希望能够从单个 RegEx 中执行此操作。

**编辑**

在这种情况下，我确实更愿意取消 RegEx，但我不是该应用程序的原作者。字符串解析条件可能会随着时间而改变，因此在配置文件中维护 RegEx 比在这种情况下发布新版本更简单。另外，这也是老板想要的……

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T03:54:07.677

试试这个：

```
^(.{22}(.{12}))|(.{16}(.{12}).{4})$ 
```

`$1`是第一种情况的整个匹配项（34 个字符长）；`$2`是匹配的 12 个字符。

`$3`是第二种情况的完整匹配项（32 个字符长）；`$4`是匹配的 12 个字符。

简单的！

另一种可以说更简单的方法是查看入站字符串并根据字符串长度分配正确的正则表达式实例：

```
private static Regex rx34 =  ... ;
private static Regex rx32 = ... ;
string foo( string s )
{
  Regex rx ;

  switch ( s.Length )
  {
  case 34 : rx = rx34 ; break ;
  case 32 : rx = rx32 ; break ;
  default : throw new ArgumentOutOfRangeException("s") ;
  }
  Match m = rx.Match(s) ;
  if ( !m.Success ) throw new InvalidOperationException() ;

  ... // return the appropriate part of the string.

} 
```

或者，为什么要使用正则表达式？这对于正则表达式来说不是问题。

```
string foo( string s )
{
  string s12 ;
  switch (( s ?? "" ).Length)
  {
  case 34 : return s12 = s.Substring( 34 - 12 ) ;
  case 32 : return s12 = s.Substring( 16 , 12 ) ;
  default : throw new ArgumentOutOfRangeException("s");
  }
  return s12 ;
} 
```

因为生活太难了，不能让事情变得比现在更难。

# git - 如何使用空目录克隆 CVS 存储库

> ID：11895197
> 
> 赞同：6
> 
> 时间：2012-08-10T03:47:56.073
> 
> 标签：git, cvs, git-clone, cvsimport

我使用以下命令将 CVS 存储库转换为 Git 存储库：

```
$ git cvsimport -vaikd :pserver:thillaiselvan@192.168.1.11:2401/ -C IVR-GUI GIT 
```

但是，Git 会忽略 CVS 存储库中的空目录。但我希望克隆存储库，包括那些空存储库。我怎样才能让 Git 做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T03:51:54.923

Git 无法跟踪空目录，因此它们不会在 CVS-Git 转换中被引入。来自[Git FAQ](https://git.wiki.kernel.org/index.php/GitFaq#Can_I_add_empty_directories.3F)：“在目录中添加文件时会自动添加目录。” 您的目录不会出现，因为 Git 没有跟踪其中的任何内容。

### 如何在 Git 中跟踪空存储库

跟踪空目录的一种解决方法是放置一个空文件，就像`.gitkeep`在每个空目录中一样（`.gitkeep`按惯例使用，但您可以随意命名该文件）。跟踪文件，然后您将能够克隆空目录。还有其他几种方法可以[将空目录添加到 Git 存储库](https://stackoverflow.com/questions/115983/how-do-i-add-an-empty-directory-to-a-git-repository)。

### 从预先存在的 CVS 存储库中手动复制空文件

以下命令会将 cvs 存储库中的所有空目录复制到 Git 存储库（替换虚拟目录路径）

```
$ find ~/cvs_repo -type d -empty -exec cp -r {} ~/git_repo/ \; 
```

然后，您可以使用您选择的解决方法将这些空目录添加到您的项目中，并跟进类似`$git commit -m "Add empty directories to repository"`.

### 使用`cvsimport`?

现在，我假设这`cvsimport`将弥补 VCS 中的这种差异（CVS 允许您跟踪空目录，Git 没有）。我对该工具一无所知，但也许您可以通过一个选项让它自动处理添加空目录。

# activemq - JMSXGroupID/correlation-id 在 stomp 客户端上排队消息似乎不起作用

> ID：11895200
> 
> 赞同：2
> 
> 时间：2012-08-10T03:48:15.430
> 
> 标签：activemq, stomp

我试图在节点服务器上使用 stomp-js 将消息排队到同一消费者。

制片人：

```
producer.send({'JMSXGroupID':JMSXGroupID, 'destination':confMgr.getConfig("jmsqueue.destination"), 'body':JSON.stringify(msg), 'persistent':'true'}, false); 
```

消费者：

```
client.on('message', function(message) {
    client.ack(message.headers['message-id']);
}) 
```

我使用相同的 JMSXGroupID 发送两条消息，似乎客户端并行处理这两条消息，而不是处理 message1 并确认它，然后继续处理 message2，然后确认 message2。我尝试使用'correlation-id'，但它似乎也不起作用。任何人都可以提出更好的方法吗？提前谢谢你，钱德拉。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T21:27:45.583

我猜你正在使用这个 stomp-js 库（如果我错了，请纠正我）：[https ://github.com/benjaminws/stomp-js](https://github.com/benjaminws/stomp-js)

ActiveMQ 使用 Stomp 支持消息组，因此您很可能按顺序获取消息。按顺序处理它们需要您以某种方式在客户端同步处理每条消息，当您可以控制侦听器将在多少线程中运行时，这相当简单。这对于 java 脚本可能不那么容易。这不是

从我所见，您使用的 lib 不是最有据可查的，您可以调整的唯一设置（我没有尝试过！）是将预取大小更改为 1。

```
var headers = {
  destination: '/queue/test_stomp',
  ack: 'client',
  'activemq.prefetchSize': '1'
}; 
```

可能这个库仍然急切地直接开始获取下一条消息，但您可能想要测试它。

另一方面，您可能还想将应用程序重新设计为与序列无关，因为您正在运行 node.js 和 java 脚本。消息传递具有序列独立性总是更好，因为您可以更好地优化性能并且可以避免同步行为。

我不知道您尝试使用相关 ID 来实现什么，但该标头用于将请求与回复相关联，这里不是这种情况。

# debugging - 是否可以在程序中跟踪特定数据？

> ID：11895204
> 
> 赞同：0
> 
> 时间：2012-08-10T03:48:42.567
> 
> 标签：debugging, testing

我用于调试的几乎所有语言工具都支持断点和步进模式，因此我可以一次查看范围内的特定数据。但是当我错过了程序中某些组件的神秘路径中的数据时，我仍然感到痛苦，尤其是当它在具有多个入口和出口的某些组件中蒸发时。

如果有一个工具可以“标记”一个数据并跟随它，以报告哪些功能（或其他基本计算单元）已经吞噬并转换了它，那么这种痛苦可能会被消除。这应该就像一些医学测试，给病人喂一颗辐射药丸，医生可以在外面追踪它。我知道回溯几乎是我需要的，但它仍然是一种在每一帧之间追踪基准的痛苦方式。

根据我（糟糕的）编程经验，最近的工具/语言是 Haskell 中的 Arrow 机制，它使用类型系统和组合来表示程序 IPO 路径的全貌。但它要求你的程序遵循它所倡导的方式，我不知道这是否是实现这个想法的最佳方式。尤其是你不能像其他语言那样轻松地编程，比如 C、C++、Ruby、Java 和 JavaScript。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T09:39:32.670

这是一项相当棘手的任务。您可以尝试使用面向方面的编程 (AOP) 来实现这一点，但我想说，找到对特定对象的*所有*访问（至少在 Java 中）并对其进行检测几乎是不可能的。

你能得到的最接近的可能是 AOP 中所谓的[`dflow`-pointcut](http://www.springerlink.com/content/0xrycbx8edpd5d6x/?MUD=MP)，唉，据我所知，它还没有在任何地方实现。

您最好的选择是在您的数据所在的特定地址范围上设置一个带有触发器的调试器断点（您需要首先弄清楚）。

# java - Hibernate 4 注释配置

> ID：11895205
> 
> 赞同：7
> 
> 时间：2012-08-10T03:48:50.600
> 
> 标签：java, hibernate, hibernate-annotations, hibernate-4.x, hibernate.cfg.xml

我正在尝试仅使用带有注释的 Hibernate 4 和一个`hibernate.cfg.xml`文件。我已经做了自己的注释，并正在使用反射将其添加到配置中。我能够以这种方式很好地使用 Hibernate 4，但我的配置是使用不推荐的方法构建的。

```
final Configuration configuration = new Configuration();
final Reflections reflections = new Reflections(Item.class.getPackage().getName());
final Set<Class<?>> classes = reflections.getTypesAnnotatedWith(Entity.class);
for (final Class<?> clazz : classes) {
    configuration.addAnnotatedClass(clazz);
}
return configuration.configure().buildSessionFactory(); 
```

（不推荐使用的代码：）`buildSessionFactory();`。

甚至 hibernate 4 文档也显示以这种方式构建配置。

如果我尝试使用新方法 ( `buildSessionFactory(ServiceRegistry)`，我不会得到相同的结果，而且似乎有很多不必要的代码来完全按照不推荐使用的方法做。但是，我不想继续使用这种风格，因为无论如何我都不喜欢使用已弃用的代码。

*我的问题是：*如何以上述方式仅从配置文件正确配置 Hibernate 4？我似乎只是造成错误并面临不必要的困难。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-23T07:26:12.223

修改后的代码如下所示：-

```
 final Configuration configuration = new Configuration();
    final Reflections reflections = new Reflections(Item.class.getPackage().getName());
    final Set<Class<?>> classes = reflections.getTypesAnnotatedWith(Entity.class);
    for (final Class<?> clazz : classes) {
        configuration.addAnnotatedClass(clazz);
    }
            ServiceRegistry serviceRegistry=new ServiceRegistryBuilder().applySettings
(configuration.getProperties()).buildServiceRegistry();        

    return configuration.buildSessionFactory(serviceRegistry); 
```

您可以查看以下链接以获取信息：[HHH-6183](https://hibernate.onjira.com/browse/HHH-6183)和[HHH-2578](https://hibernate.onjira.com/browse/HHH-2578)。

# python - Mongolab 拒绝连接

> ID：11895208
> 
> 赞同：1
> 
> 时间：2012-08-10T03:49:10.960
> 
> 标签：python, mongodb, mlab

我正在开发一个向 Mongolab 提交数据的 Python 程序，我遇到了一个奇怪的异常：

```
mongoengine.connection.ConnectionError: Cannot connect to database mongodb://<user>:
<password>@ds035617.mongolab.com:35617/<mydatabase>:
could not connect to localhost:27017: [Errno 10061] No connection could be made
because the target machine actively refused it 
```

这是有问题的代码：

```
from mongoengine import *
connect('tablename', "mongodb://<user>:<password>@ds035617.mongolab.com:35617/<mydatabase>") 
```

任何人对什么是错的有任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T07:07:44.857

我会检查几件事：

(1) 为什么报错信息说系统正在尝试连接localhost:27017...？

（2）为什么你的mongodb URI有“用户”和“密码”，真正的用户名和密码应该是？

我的猜测是问题是（2），除非您为了发帖而隐藏用户名和密码。

如果您仍然遇到问题，请发送电子邮件至 support@mongolab.com，我们可以与您一起深入挖掘。

-将要

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T20:28:32.947

我通常认为回答自己的问题是一种糟糕的形式，但我想出了（相当简单的）答案，并想记录下来以确保其他人也能得到它。

问题不是`host=`在函数中指定为关键字参数`connect`。正确的函数调用是：

```
from mongoengine import *
connect('tablename', host="mongodb://<user>:<password>@ds035617.mongolab.com:35617/<mydatabase>") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T20:02:34.123

看起来您正在使用[MongoDB URI](http://www.mongodb.org/display/DOCS/Connections)进行连接，但驱动程序将字符串解释为数据库名称并尝试连接到默认 localhost:27017。根据[mongoengine 文档](http://mongoengine-odm.readthedocs.org/en/latest/guide/connecting.html)，您希望将该 URI 作为主机参数传递：

* * *

只要您包含数据库名称，也支持 Uri 样式连接 - 只需将 uri 作为主机提供给 connect()：

```
connect('project1', host='mongodb://localhost/database_name') 
```

# windows - 如何从重定向窗口检索 oAuth Accees 令牌

> ID：11895213
> 
> 赞同：1
> 
> 时间：2012-08-10T03:49:36.990
> 
> 标签：windows, api, oauth-2.0, windows-live

我正在开发一个与 Windows API 通信的应用程序。我正在使用 oAuth 2.0。

完整的代码仅使用 JS/HTML5 完成。但是我面临一个问题，

每当我请求访问令牌时，它都会打开一个新窗口，其中包含我的重定向 URL，并附加了访问令牌和其他参数。但是令牌不会发送回我的代码。我必须手动复制代码，因此它违背了我的应用程序的目的。有什么办法，当我单击按钮（调用我的 oAuth 调用）时，会出现一个新的弹出窗口并使用访问令牌重定向回我调用的 url？

这是我到目前为止所做的：

```
 var APPLICATION_CLIENT_ID = 'SOME_NUMBERS',
            REDIRECT_URL = "http://www.myweb.com";

    WL.Event.subscribe("auth.login", onLogin);
    WL.init({
        client_id: APPLICATION_CLIENT_ID,
        redirect_uri: REDIRECT_URL,
        scope: 'wl.skydrive_update',
        response_type: "token"
    });
    WL.ui({
        name: "signin",
        element: "signInButton",
        brand: "hotmail",
        type: "connect"
    });
    function greetUser(session) {
        var strGreeting = "";
        WL.api(
                {
                    path: "me",
                    method: "GET"
                },
                function (response) {
                    if (!response.error) {
                        strGreeting = "Hi, " + response.first_name + "!"
                        document.getElementById("greeting").innerHTML = strGreeting;
                    }
                });
    }

    function onLogin() {
        var session = WL.getSession();
        if (session) {
            greetUser(session);
        }
    }

    var tokenAuth = //Adding Manually// 

    var apiURL = "https://apis.live.net/v5.0/me/";
    var tokenAuthParam = "?access_token=" + tokenAuth; 
```

这就是我卡住的地方。任何人都可以帮忙。GreetUser 功能也不起作用。我希望它只使用 js/html 作为客户端。`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T10:14:09.710

不确定您要使用 tokenAuth 做什么。得到这个工作应该可以帮助你的问候部分：

```
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>JScript Win 8 example</title>

    <!-- WinJS references -->
    <link href="//Microsoft.WinJS.1.0.RC/css/ui-dark.css" rel="stylesheet" />
    <script src="//Microsoft.WinJS.1.0.RC/js/base.js"></script>
    <script src="//Microsoft.WinJS.1.0.RC/js/ui.js"></script>

    <script type="text/javascript" src="/LiveSDKHTML/js/wl.js"></script>

    <link href="/css/default.css" rel="stylesheet" />
    <script src="/js/default.js"></script>
</head>
<body>
    <div id="signin"></div>
    <br />
    <label id="infoLabel"></label>
    <br />
    id: <label id="id"></label><br />
    firstname: <label id="first_name"></label><br />
    lastname: <label id="last_name"></label><br />
    fullname: <label id="name"></label><br />
    gender: <label id="gender"></label><br />
    locale: <label id="locale"></label><br />
    <script>
        WL.Event.subscribe("auth.login", onLogin);
        WL.init({
            scope: "wl.signin",            
        });
        WL.ui({
            name: "signin",
            element: "signin"
        });

        function onLogin(session) {
            var session = WL.getSession();
            if (session.error) {
                document.getElementById("infoLabel").innerText = "Error signing in: " + session.error;
            }
            else {
                document.getElementById("infoLabel").innerText = "Signed in.";

                WL.api(
                    "/me", "GET",
                    function (response) {
                        if (!response.error) {
                        document.getElementById("id").innerText = response.id;
                        document.getElementById("first_name").innerText = response.first_name;
                        document.getElementById("last_name").innerText = response.last_name;
                        document.getElementById("name").innerText = response.name;
                        document.getElementById("gender").innerText = response.gender;
                        document.getElementById("locale").innerText = response.locale
                        }
                        else {
                        document.getElementById("infoLabel").innerText = "API call failed: " + JSON.stringify(response.error).replace(/,/g, "\n");
                        }
                    }
                );
            }
        }

    </script>  

</body>
</html> 
```

# php - PHPExcel将多张xlsx转换为csv

> ID：11895216
> 
> 赞同：1
> 
> 时间：2012-08-10T03:49:59.290
> 
> 标签：php, phpexcel

我使用这几行来转换一个 xlsx，其中包含要转换为 .csv 的 4sheets。但它只转换 xlsx 文件的第一张纸。我怎样才能让它转换 xlsx 中的每张纸。这是代码，

```
 error_reporting(E_ALL);
    date_default_timezone_set($this->vendor_timezone);

    /** PHPExcel_IOFactory */

    require_once sfConfig::get('sf_root_dir').'/lib/PHPExcel/IOFactory.php';

    $file=sfConfig::get("sf_upload_dir").DIRECTORY_SEPARATOR."temp".DIRECTORY_SEPARATOR."1344500254_MyExcel.xlsx"; 

    // Check prerequisites
    //print sfConfig::get("sf_upload_dir").DIRECTORY_SEPARATOR."temp".DIRECTORY_SEPARATOR; exit;
    if (!file_exists($file)) {
        exit($file."Please run 06largescale.php first.\n");
    }

    $objReader = PHPExcel_IOFactory::createReader('Excel2007');

    $objPHPExcel = $objReader->load($file);

    $objWriter = PHPExcel_IOFactory::createWriter($objPHPExcel, 'CSV');

    $objWriter->save(str_replace('.xlsx', '.csv',$file));
    return "success"; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-08-11T14:29:34.453

请查看此处的教程，其中包含逐步代码来实现此目的

```
<?php
require_once 'PHPExcel/PHPExcel/IOFactory.php';
$excel = PHPExcel_IOFactory::load("test123.xlsx");
$writer = PHPExcel_IOFactory::createWriter($excel, 'CSV');
$writer->setDelimiter(";");
$writer->setEnclosure("");
$writer->save("test123.csv");
?> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-06-17T02:00:22.927

要转换所有工作表，您必须遍历所有工作表并将其设置为活动工作表，然后将其写入文件。

```
$inFile = 'fileWithMultipleWorksheet.xlsx';
$objReader = PHPExcel_IOFactory::createReader('Excel2007');
$objPHPExcel = $objReader->load($inFile);

$objWriter = PHPExcel_IOFactory::createWriter($objPHPExcel, 'CSV');    

$index = 0;
foreach ($objPHPExcel->getWorksheetIterator() as $worksheet) {

    $objPHPExcel->setActiveSheetIndex($index);

    // write out each worksheet to it's name with CSV extension
    $outFile = str_replace(array("-"," "), "_", $worksheet->getTitle()) .".csv";

    $objWriter->setSheetIndex($index);
    $objWriter->save($outFile);

    $index++;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T06:28:02.537

将每个工作表依次写入不同的文件，然后将这些文件连接成一个：PHPExcel 不提供将多个工作表写入单个 CSV 文件的选项。

# android - Android 开发：如何添加来自互联网的图片库

> ID：11895219
> 
> 赞同：0
> 
> 时间：2012-08-10T03:50:11.223
> 
> 标签：android, gallery, swipe

我想做的是一个类似于 iFunny 的应用程序或任何有趣的图片应用程序。我希望能够从互联网上获取直接图像链接的列表，然后在画廊中一张一张地显示图像。用户可以滑动查看下一张图片。我应该添加什么才能做到这一点。我以前从未与画廊合作过。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T04:26:55.997

您可以`Uri`直接设置到`ImageView`图库。如下...

```
Uri myUrl=Uri.parse(ImageUrlArray[Position]);
imageView.setImageURI(myUrl); 
```

按照您使用的`getView`方法进行`ImageAdapter`。

# php - 我不希望 Enter 键触发器提交

> ID：11895223
> 
> 赞同：0
> 
> 时间：2012-08-10T03:51:04.303
> 
> 标签：php, html

我有一个像

```
<input type="text" name="test" value="">
<input type="submit" name="submit" value="Send"> 
```

当我按下 Enter 按钮时，我希望它在文本框 (br) 中创建一个新行，但 Enter 键会触发提交并立即提交值。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T03:54:13.550

你想要的可能是`<textarea>`元素而不是`<input>`. 语法略有不同，主要区别在于没有`type`属性，而是“值”位于开始标签和结束标签之间：

```
<textarea name="test" rows="1">value here</textarea>
<input type="submit" name="submit" value="Send"> 
```

请注意，这`rows="1"`只是为了模仿`<text>`. 如果您想允许换行，您可能应该为该属性使用更高的值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T03:56:08.627

尝试输入文本区域

```
<textarea name="test"></textarea> 
```

# php - 在特定时间创建通知/警报

> ID：11895226
> 
> 赞同：1
> 
> 时间：2012-08-10T03:51:18.843
> 
> 标签：php, jquery, timer, alarm

我创建了一个计时器，当计时器恰好到达下午 5:00/17:00 时，用作警报的参考。你有什么想法我该怎么做？我会不时查看时间吗？

这是我创建计时器的方法。

```
 <script language="JavaScript">
    var tick;

    function stop() {
        clearTimeout(tick);
    }

    function usnotime() {
        var datetoday = document.getElementById("datenow")
        var currentDate = new Date()
        var day = currentDate.getDate()
        var month = currentDate.getMonth() + 1
        var year = currentDate.getFullYear()
        datetoday.val("" + month + "/" + day + "/" + year + "");

        var txt = document.getElementById("timeticker")

        var ut = new Date();
        var h, m, s;
        var time = "      ";
        h = ut.getHours();
        m = ut.getMinutes();
        s = ut.getSeconds();
        if (s <= 9) s = "0" + s;
        if (m <= 9) m = "0" + m;
        if (h <= 9) h = "0" + h;
        time += h + ":" + m + ":" + s;
        txt.innerHTML = time;
        tick = setTimeout("usnotime()", 1000);
    }
    //--> document.rclock.rtime.value=time;   tick=setTimeout("usnotime()",1000);    }  //-->
</script>

<tr>
    <td class="tdlabel">Current Time:</td>
    <td>
        <div id="timeticker" name="rtime" size="22"></div>
    </td>
</tr> 
```

而且似乎我的计时器没有显示。有任何想法吗？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T04:02:21.523

你有一个错误，你混合了javascript和jquery。

```
 datetoday.val("" + month + "/" + day + "/" + year + ""); 
```

应该是（假设 datetoday 是一个文本字段。如果 div 使用 innerHTML 而不是值）

```
datetoday.value="" + month + "/" + day + "/" + year + ""; 
```

并在结束脚本标记之前添加

```
window.onload=function(){
    usnotime();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T03:57:10.700

不确定这是否是确切的答案；它可能有助于发布更多代码。

1.  我不明白你是如何开始这个方法的。您可能需要添加一个按钮执行/页面加载调用`usnotime()`。
2.  你有所有这些变量的真实对象吗？（即计时器，datenow）。
3.  检查浏览器中的 JavaScript 错误日志。如果没有更多代码，我很难看到有什么问题，所以要么包含更多代码，要么使用调试器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T03:57:34.700

使用`setTimeout()`你可以做的，参考[这个](https://stackoverflow.com/questions/4854753/how-do-i-trigger-a-function-when-the-time-reaches-a-specific-time)它可能对你有用

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-19T07:20:42.473

这可能会帮助你......

```
<html>
<head>
<title>(Type a title for your page here)</title>
<script type="text/javascript"> 
function display_c(){
var refresh=1000; // Refresh rate in milli seconds
mytime=setTimeout('display_ct()',refresh)
}

function display_ct() {
var strcount
var x 
var x1
var currentTime = new Date()
var month = currentTime.getMonth() + 1
var day = currentTime.getDate()
var year = currentTime.getFullYear()
var hours = currentTime.getHours()
var minutes = currentTime.getMinutes()
var seconds= currentTime.getSeconds()
 x=month + "/" + day + "/" + year
if (minutes < 10){
minutes = "0" + minutes
}
x=x+"  "+hours + ":" + minutes +":"+seconds+ " "
x1=hours + ":" + minutes + ":"+seconds+" "
if(hours > 11){
x=x+"PM"
x1=x1+"PM"
if(x1=="5:30:0 PM"){alert(x1);}
} else {
x=x+"AM"
x1=x1+"AM"
if(x1=="8:16:0 AM"){alert(x1);}
}

document.getElementById('ct').innerHTML = x;
tt=display_c();
 }
</script>
</head>

<body onload=display_ct();>
<span id='ct' ></span>

</body>
</html> 
```

# excel - 将月份名称转换为数字

> ID：11895228
> 
> 赞同：11
> 
> 时间：2012-08-10T03:51:39.797
> 
> 标签：excel, date, vba

我有几个月填充的下拉框。选择一个月后，我想将其转换为月份编号，是否有可以执行此操作的功能？

例如。九月 = 9

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-08-10T04:07:25.647

其他方式

**Excel公式**

```
=MONTH(1&A1) 
```

**VBA**

```
Sub Sample()
    Dim MonthNm As String
    MonthNm = "September"
    Debug.Print Month(DateValue("01 " & MonthNm & " 2012"))
End Sub 
```

或者

```
Sub Sample()
    Dim MonthNm As String
    MonthNm = "September"
    Debug.Print Application.Evaluate("=MONTH(1&" & Chr(34) & MonthNm & Chr(34) & ")")
End Sub 
```

代替

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-10T03:59:59.843

试试这个...

```
 =MONTH(DATEVALUE(A1&"1")) 
```

其中`A1`单元格包含月份名称。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-12T00:17:34.887

```
Sub month()

Dim monthh As Integer

monthh = month(Date)

MsgBox monthh

End Sub 
```

试试这个。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-02-29T16:20:55.593

另一个excel公式在哪里`A1`是带有月份名称的单元格ID：

```
=TEXT(DATEVALUE(A1&" 1"), "m") 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-01-05T09:55:56.387

这个解决方案对我不起作用（Excel 2010），我不得不将月份名称缩短为 3 个字符，并在缩短的字符串前面添加天数。

```
=MONTH(1&LEFT(A1;3)) 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2019-02-06T20:45:22.703

**另一个 VBA 解决方案**

除了 Siddharth 的有效答案之外，为了艺术的缘故:-)

```
Sub SampleTM()
  Dim MonthNm$: MonthNm = "September"
  Debug.Print MonthNm2Num(MonthNm)
End Sub

Function MonthNm2Num(ByVal MonthNm) As Long
    MonthNm2Num = Format(CDate(MonthNm & "/1 0"), "m") * 1&
End Function 
```

# python - Pythonpath 仍然被忽略，无法使用 pip 在本地安装

> ID：11895233
> 
> 赞同：1
> 
> 时间：2012-08-10T03:52:14.343
> 
> 标签：python, numpy, pip, setuptools, distutils

我发现我的 pythonpath 环境变量被忽略了。我在 ubuntu 上使用 python 2.6。我有`.bashrc`以下内容：

`export PTYHONPATH=/my/home/mylibs/lib/python2.6/site-packages/:$PYTHONPATH`

然后我安装一个新版本的`numpy`使用：

`python setup.py install --prefix=/my/home/mylibs/`

并在本地正确安装。但是，当我尝试安装`setup.py`依赖于新版本 numpy 的其他包（也使用 ）时，他们找不到它，因为默认情况下加载的 numpy`/usr/llib`是`PYTHONPATH`. 我`PYTHONPATH`的设置正确，但系统范围的目录仍然推翻它。

如何解决这个问题？我只想`numpy`在我这样做时访问我的本地版本`import numpy`。我看到了与 python 2.4 相关的其他帖子，但据我所知，它从未得到解决。另外，我现在想在不安装 pip 或 virtualenv 的情况下执行此操作。似乎应该可以使用`--prefix`or`--home`传递给`setup.py`然后更改的选项，`PYTHONPATH`但这对我不起作用......`lib`首先读取系统范围的目录。

*编辑*：我尝试遵循建议并使用`pip`. 我在系统范围内安装了一个`pip`无法识别的旧`--user`版本（0.3 版）。我尝试自行升级`pip`，`pip`但当然失败了，因为我无法在本地安装它，所以`pip install pip --upgrade --user`不是一个选项。我下载了一个新版本并在本地安装在我的主目录中，但是当我在提示符下`pip`键入时，系统范围内的旧版本仍在使用。`pip`我查看了`pip`包，发现`runner.py`所以我尝试使用它来安装包：

```
runner.py install --user numpy --upgrade 
```

这仍然失败，权限被拒绝：

```
OSError: [Errno 13] Permission denied: '/usr/bin/f2py2.6' 
```

它看起来像`--user`坏了。我也不确定这将如何解决系统范围的python使用系统范围的包的事实`/usr/lib`......有解决方案吗？现在似乎几乎不可能在 python 中安装本地包。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T13:10:40.657

好的，Python 将使用它找到的第一个包。PYTHONPATH 在系统路径之后附加到 sys.path。所以它通常会首先找到系统。但是“官方”的每用户包目录似乎放在了这之前。因此，创建您的个人站点包目录：

```
mkdir -p $HOME/.local/lib64/python2.7/site-packages
mkdir $HOME/bin 
```

（您可能必须将“lib64”更改为“lib32”或只是“lib”）

这个目录放在我系统上的系统之前。但是您应该通过打印出 sys.path 来验证它。

然后将您的软件包安装到那里。但是，`--user`最新`pip`版本中的选项应该已经将其放置在那里。

作为列表手段，您可以操纵`sys.path`. 您可以将您的目录插入到系统站点包之前的 sys.path 中，然后导入 numpy。

您从脚本安装中获得权限错误，试图将其放在系统位置。您可以传递其他选项以在 $HOME/bin 目录中安装脚本。

像这样安装：

```
pip install --user --install-option="--install-scripts=$HOME/bin" 
```

# c# - 如何通过 Tab 及时启用 WinForm 按钮以接收焦点

> ID：11895235
> 
> 赞同：5
> 
> 时间：2012-08-10T03:52:13.877
> 
> 标签：c#, winforms, events, windows-controls

视觉工作室 2010，C#

我有一个`ComboBox`带有一个`DropDown`，`AutoComplete`设置为`SuggestAppend`和`AutoCompleteSource`来自的`ListItems`。用户将数据键入其中，直到输入正确为止。在数据与列表项之一匹配之前，组合框旁边的按钮被禁用。

如果用户点击 tab 键，自动完成功能会接受当前的建议。它还移动到启用的选项卡序列中的下一个控件。当然，因为我希望它转到禁用按钮，所以我需要在验证条目后立即启用它。

问题是我尝试过的所有事件`PreviewKeyDown`,`LostFocus`都`SelectedIndexChanged`不允许我及时启用按钮以使其被处理并获得焦点。它总是按选项卡顺序转到下一个按钮，该按钮始终处于启用状态。

我准备好让按钮保持启用状态，如果过早按下它会给出错误，但我不想那样做。我也不想使用特殊模式标志来跟踪这些控件何时获得焦点。验证似乎是一件正常的事情，但我被困住了。

如果在`SelectedIndexChanged`用户进行匹配时起作用，这将很容易。当框清除或找到键入的匹配项时，它不会触发。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T04:29:04.453

您可以创建自己的 ComboBox 类来封装此行为。像这样的东西：

```
using System;
using System.Windows.Forms;

namespace WindowsFormsApplication1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();

            this.myComboBox1.TheButton = this.button1;

            this.myComboBox1.Items.AddRange( new string[] {
                "Monday",
                "Tuesday",
                "Wednesday",
                "Thursday",
                "Friday",
                "Saturday",
                "Sunday"
            } );

            button1.Enabled = false;
        }
    }

    public class MyComboBox : ComboBox
    {
        public Control TheButton { get; set; }

        public MyComboBox()
        {
        }

        bool IsValidItemSelected
        {
            get { return null != this.SelectedItem; }
        }

        protected override void OnValidated( EventArgs e )
        {
            if ( null != TheButton )
            {
                TheButton.Enabled = this.IsValidItemSelected;
                TheButton.Focus();
            }

            base.OnValidated( e );
        }

        protected override void OnTextChanged( EventArgs e )
        {
            if ( null != TheButton )
            {
                TheButton.Enabled = this.IsValidItemSelected;
            }

            base.OnTextChanged( e );
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:13:19.747

```
try this : 
```

key_press 事件：

```
if (e.KeyData == Keys.Enter)
        {
            button2.Enabled = true;
            button2.Focus();
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T04:13:31.047

而不是您提到的事件处理程序，（LostFocus、SelectedIndexChanged 和 PreviewKeyDown）使用组合框的“Validated”事件来设置按钮的启用状态。

您可能还需要手动关注按钮以强制焦点移动到它。

例如

```
 private void comboBox1_Validated(object sender, EventArgs e)
    {
        button1.Enabled = true;
        button1.Focus();
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T14:22:20.353

考虑到这里的其他答案，我想出了一个不使用*AutoComplete*就可以工作的部分场景。副作用是 PreviewKeyDown 事件被第二次调用，因此验证被调用了两次。我想知道为什么......也许我应该问另一个问题。

```
 private void comboBox1_PreviewKeyDown(object sender, PreviewKeyDownEventArgs e) {
      if (e.KeyData == Keys.Tab) {
        if (ValidationRoutine()) {
          e.IsInputKey = true;  //If Validated, signals KeyDown to examine this key
        } //Side effect - This event is called twice when IsInputKey is set to true
      }          
    }

    private void comboBox1_KeyDown(object sender, KeyEventArgs e) {
      if (e.KeyData == Keys.Tab) {
          e.SuppressKeyPress = true; //Stops further processing of the TAB key
          btnEdit.Enabled = true;
          btnEdit.Focus();
      }
    } 
```

`AutoCompleteMode`一旦您使用除 以外的任何设置打开`None`，该`KeyDown`事件就不会再触发，`Tab`因为密钥会被静默吃掉。

# php - PHP Memcached 即插即用

> ID：11895236
> 
> 赞同：0
> 
> 时间：2012-08-10T03:52:16.260
> 
> 标签：php, memcached

我正在搜索谷歌，似乎我找不到确切的答案。

我已经完成了 PHP Memcached 的安装，我可以在 phpinfo() 中查看它，并且能够按照 php.net 手册测试连接。

我的问题很简单。我是否需要重新编码所有 PHP 文件才能利用 memcached 或其即插即用类型？有没有办法检查 PHP 是否真的在使用 memcached 而不是从数据库中汇集相同的数据/报告？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T17:16:00.150

Memcached（从 PECL 安装）是一个共享库。如果启用，您应该能够立即*在*您的应用程序中开始使用它。

### 检查是否启用

```
shell~> php -m | grep memcached 
```

### 我是否需要重新编码所有 PHP 文件才能利用 memcached？

是的。Memcached 将 memcache 协议/API 扩展为 PHP 对象。您必须确定在您的应用程序中缓存了什么。对于对象，这很容易通过扩展 Memcached 来完成。

```
 class MyCacheObject extends Memcached 
```

### 有没有办法检查 PHP 是否真的在使用 memcached？

您可以直接[telnet](/questions/tagged/telnet "显示标记为“telnet”的问题")到 Memcached 服务器，查看存储的内容

```
shell ~> telnet localhost 11211
telnet~> stats items 
```

### 而不是从数据库中汇集相同的数据/报告？

随你（由你决定。有些人会使用 Memcache 来存储来自数据库、PHP 对象或索引/查询的结果以从数据库中查找其他数据。这归结为您想要缓存的内容。我更喜欢存储数据库中的结果；这样，重复的 DB 调用就会减少。

# c# - 与图像文件交互的网络服务

> ID：11895237
> 
> 赞同：0
> 
> 时间：2012-08-10T03:52:18.283
> 
> 标签：c#, web-services

我正在制作一个 iOS 游戏，它将从数据库中的线索存储库中选择一个随机线索（文本）和图像（线索和图像一组，1 行）。我有一个带有 webMethods 和功能的 Web 服务，允许我将数据库行拉出。（已测试线索）我一直在 Google 上搜索有关如何将图像从 db 导入 iOS 的文章，但无济于事。

如何通过 Web 服务从数据库导入图像（使用 c# 构建）？谁能指导我正确的方向？我希望它存储在 mutableArray 中，以便在播放器完成播放后，线索和图像将从临时数组中擦除。（我不想将图像放在应用程序中，因为这会使应用程序变得非常大，并且用户能够上传自己的线索和图像，因此来自数据库的实时提要是理想的方法。

现在我在导入图像时被困在网络服务方面。我目前正在使用 List 来存储线索，但不知道用什么来存储图像。我正在考虑使用 ArrayList 来存储对象，但不知道如何在 iOS 端将其转换为图像。正如我上面提到的，我似乎找不到任何通过网络服务将图像导入 iOS 应用程序的教程或示例。（或者我使用了错误的搜索词）

如果any1可以帮助我，或者提供能够实时更新图像和线索的替代解决方案，将会很有帮助。

编辑 - 我找到了 ImageList() 和 List。我现在应该使用哪一个？还发现制作图像文件只是->图像测试文件；

```
EDIT2 - problem I'm facing
-dealing with image file (image? imagelist?
-when drawing datarow from DB in  webservice, how do i deal with the image file. (guessing ImageList or List<image> (after some luck on research)
-assuming 2nd point works fine, i should be able to solve the client side
(sorry, noobie at webservice, ) 
```

.

```
what I have
-webservice that draw datarow from database for clue(string) (tested and working fine with my function)
-iOS client side with RESTful architecture 
```

.

```
what I need
-webservice that draw datarow from database for picture(image (format not so important yet)) (code should be similar to drawing clue, only which function to store it in. (using List<string> for clues) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-11T04:27:01.960

听起来你可能有点超前了。尝试一次只解决一个问题；你会取得更大的进步。

首先，您知道如何将图像下载到您的 iOS 应用程序吗？尝试下载一个非常简单的公开图像，例如 Google 涂鸦： `https://www.google.com/logos/2012/gymnastics-2012-hp.jpg`。无论您使用什么 IOS 应用程序工具包，都应该有一个关于如何下载图像并通过 HTTP 呈现它的演练。

其次，您知道如何在您的网络服务器上托管图像文件吗？尝试自己下载随机的 JPG 或 PNG 图像并将其作为静态文件托管在您的服务器上。然后将您的 IOS 应用程序指向该静态文件并像使用 Google doodle 一样下载它。

如果这两个步骤都有效，那么您就可以开始在您的服务器上托管动态图像。创建一个页面（如果您使用 ASP.NET）或控制器路径（如果您使用 MVC）并让您的 C# 代码用于`Response.TransmitFile`将图像上传到点击流。再次，将该图像下载到您的 IOS 应用程序以验证它是否有效。

最后，修改您的服务器应用程序以获取参数 - 通过查询字符串（例如：）`myhost.com/mypage.aspx?image_id=1`或通过 MVC 路径（例如：）`myhost.com/images/1`。使用该 ID 号从数据库中检索图像信息。然后将图像传输给客户端。如果一切顺利，您应该能够在您的 IOS 应用程序中检索此图像。

我希望这可以帮助您更接近您的项目！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T05:37:19.443

我没有在 iOS 上编程的经验，但我认为最简单的方法是为此准备 RESTful api。考虑到 REST 准则，您最终得到的是一个定义资源的 Web 服务，而您的客户端只需要请求一个特定的文件（我假设客户端以某种方式知道图像的 id/名称是什么）。这有一个很大的优势——很容易开发（在任何平台上）——服务器端。

对于客户端： 1\. 使用`WebRequest`对象创建一个http get请求 2\. 等待数据下载（你可以使用后台worker或只是另一个线程，这样你的应用程序就不会被阻塞） 3\. 当请求被完成，您将获得响应对象 - 阅读发送的内容。这将是二进制图像。4\. 使用二进制数据（图像）并将其显示在您的应用程序中。

我在不同的 SO 线程中提供了如何使用`WebRequest`对象的示例：[https ://stackoverflow.com/a/11891240/165751](https://stackoverflow.com/a/11891240/165751)

注意：我假设您知道如何从服务器端的数据库（或任何类型的存储）中检索图像，以便您的 Web 服务可以读取它并将其作为 Web 响应返回。

在服务器端技术方面有很多可能性，但如果您想继续使用 .Net 技术堆栈 - 我建议看看[WCF REST Service Template 40(CS)](http://visualstudiogallery.msdn.microsoft.com/fbc7e5c1-a0d2-41bd-9d7b-e54c845394cd/) - 我过去一直在使用它（而且我的服务也返回了图像 :) 我对此非常满意。

# php - 获取会话帖子中的所有信息并获取

> ID：11895240
> 
> 赞同：-1
> 
> 时间：2012-08-10T03:52:53.597
> 
> 标签：php

我想在页面中显示我的页面 ( ) 的所有`session`, `post`,`get`信息。我怎样才能做到这一点？`php``.php`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T03:54:56.363

```
<?php print_r($_SESSION);  ?>

<?php print_r($_POST); ?>

<?php  print_r($_GET); ?> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-17T21:19:35.203

好的，每个人都说很明显，但他们没有提到每个解决方案中嵌入的安全风险。

我不敢苟同，这是我的选择：

```
echo "<pre>";
echo htmlspecialchars(var_export($_POST, true), ENT_QUOTES);
echo htmlspecialchars(var_export($_GET, true), ENT_QUOTES);
echo htmlspecialchars(var_export($_SESSION, true), ENT_QUOTES);
echo "</pre>"; 
```

您可能不会想到攻击者会将恶意代码放入您的会话中，但您永远不知道。

换一种说法：

```
header("Content-type: text/plain");
var_export($_POST);
var_export($_GET);
var_export($_SESSION); 
```

同样可以正常工作，但要注意试图嗅探内容的浏览器。

另一种可以很好地打印三分之二内容的方法：

```
phpinfo(INFO_VARIABLES); 
```

最后：试试`<plaintext>`标签。出于显而易见的原因，它没有结束标记，因为它会结束浏览器中对 HTML 的解释，但在发送之后，您只需要关心打印纯文本即可。

```
echo "<plaintext>";
var_export($_POST);
var_export($_GET);
var_export($_SESSION); 
```

`var_export`具有上述优势：它打印能够重新创建变量的有效 PHP 代码`var_dump`。`print_r`对于除对象以外的任何类型，这都是 100% 正确的。对象必须实现神奇的静态方法`__set_state`才能重新创建。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-10T03:54:57.463

使用下面的代码来`print`/`var_dump`信息

会话如下

```
<?php var_dump($_SESSION);  ?> 
```

帖子在下面

```
<?php var_dump($_POST);  ?> 
```

获取在下方

```
<?php var_dump($_GET);  ?> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-17T13:19:29.933

**尝试这个 ：**

## *邮政*

```
foreach ($_POST as $key => $value) {
  $postData = "POST Field " . htmlspecialchars($key) . " is " . htmlspecialchars($value) . "<br>";
} 
```

## *得到*

```
foreach ($_GET as $key => $value) {
  $postData = "GET Field " . htmlspecialchars($key) . " is " . htmlspecialchars($value) . "<br>";
} 
```

## *会议*

```
foreach ($_SESSION as $key => $value) {
  $postData = "SESSION Field " . htmlspecialchars($key) . " is " . htmlspecialchars($value) . "<br>";
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-17T21:01:21.090

我更喜欢 var_dump() 而不是 print_r()，因为它也处理对象。我也喜欢`<pre>`在我的转储周围输出标签，这样在浏览器中更容易阅读，所以

```
echo "<pre>";
var_dump($_SESSION);
var_dump($_POST);
var_dump($_GET);
echo "</pre>"; 
```

# python - Python 使用 urllib2 来转义图像？

> ID：11895266
> 
> 赞同：0
> 
> 时间：2012-08-10T03:55:27.387
> 
> 标签：python, screen-scraping, jpeg

我正在抓取[http://apod.nasa.gov/](http://apod.nasa.gov/)以获取其当天的形象。到目前为止，我已经能够返回我认为是图像源标签的内容。

```
#!/usr/bin/env python
from urllib2 import urlopen
from BeautifulSoup import BeautifulSoup

class Apod:
    def apod_wallpaper(self):
        self.soup = BeautifulSoup(urlopen('http://apod.nasa.gov/').read())
        self.pic = self.soup.find('img')
        return self.pic

print Apod().apod_wallpaper()

>>> ./apod.py

>>> <img src="image/1208/Ma2011-2Tezel900.jpg" name="imagename1" alt="See Explanation.
Moving the cursor over the image will bring up an annotated version.
Clicking on the image will bring up the highest resolution version
available." /> 
```

我不确定如何从这里下载实际的**.jpg**？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T04:00:01.330

第 1 步：阅读 HTML 文件。

第 2 步：从您找到的图像中提取`src`属性。将域`http://apod.nasa.gov/`与`src`值`image/1208/Ma2011-2Tezel900.jpg`连接起来以提供用于获取图像的 URL。

第 3 步：`urlopen(...).read()`在其上运行，并将其写入文件

* * *

例如：

```
data = urlopen('http://apod.nasa.gov/image/1208/Ma2011-2Tezel900.jpg').read()
open('mypic.jpg', 'wb').write(data) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-10T04:00:37.913

你想要[`urlparse.urljoin()`](http://docs.python.org/library/urlparse.html#urlparse.urljoin)。

```
>>> urlparse.urljoin('http://apod.nasa.gov/', 'image/1208/Ma2011-2Tezel900.jpg')
'http://apod.nasa.gov/image/1208/Ma2011-2Tezel900.jpg' 
```

# php - 相同键的值的数组总和

> ID：11895267
> 
> 赞同：0
> 
> 时间：2012-08-10T03:55:28.960
> 
> 标签：php, arrays

```
Array (
[0] => Array ( [SiteID] => 147 [Amount] => 500.00 [TransactionType] => Deposit )

[1] => Array ( [SiteID] => 147 [Amount] => 500.00 [TransactionType] => Redemption)

[2] => Array ( [SiteID] => 147 [Amount] => 1500.00[TransactionType] => Deposit )

[3] => Array ( [SiteID] => 147 [Amount] => 200.00 [TransactionType] => Reload )

[4] => Array ( [SiteID] => 150 [Amount] => 100.00 [TransactionType] => Deposit )

[5] => Array ( [SiteID] => 3   [Amount] => 500.00 [TransactionType] => Redemption )

[6] => Array ( [SiteID] => 150 [Amount] => 200.00 [TransactionType] => Redemption )

[7] => Array ( [SiteID] => 3   [Amount] => 500.00 [TransactionType] => Deposit )

[8] => Array ( [SiteID] => 3   [Amount] => 200.00 [TransactionType] => Deposit )

[9] => Array ( [SiteID] => 3   [Amount] => 200.00 [TransactionType] => Reload )

[10] => Array ( [SiteID] =>147 [Amount] => 500.00 [TransactionType] => Redemption ))
) 
```

如何根据相同的“SiteID”和“TransactionType”对“金额”求和。我的数据将显示如下：

```
array ([147]=>array([Deposit] => "total amount", [Reload]=> "total amount" [Redemption]=> "total amount"))

array ([150]=>array([Deposit] => "total amount", [Reload]=> "total amount" [Redemption]=> "total amount"))

array ([3]=>array  ([Deposit] => "total amount", [Reload]=> "total amount" [Redemption]=> "total amount")) 
```

谢谢。请回复。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:04:33.337

请在将来提供一个工作数组片段。

```
$transactions = array (
    array( 'SiteID' => 147, 'Amount' => '500.00', 'TransactionType' => 'Deposit' ),
    array( 'SiteID' => 147, 'Amount' => '500.00', 'TransactionType' => 'Redemption'),
    array( 'SiteID' => 147, 'Amount' => '1500.00', 'TransactionType' => 'Deposit' ),
    array( 'SiteID' => 147, 'Amount' => '200.00', 'TransactionType' => 'Reload' ),
    array( 'SiteID' => 150, 'Amount' => '100.00', 'TransactionType' => 'Deposit' ),
    array( 'SiteID' => 3,   'Amount' => '500.00', 'TransactionType' => 'Redemption' ),
    array( 'SiteID' => 150, 'Amount' => '200.00', 'TransactionType' => 'Redemption' ),
    array( 'SiteID' => 3,   'Amount' => '500.00', 'TransactionType' => 'Deposit' ),
    array( 'SiteID' => 3,   'Amount' => '200.00', 'TransactionType' => 'Deposit' ),
    array( 'SiteID' => 3,   'Amount' => '200.00', 'TransactionType' => 'Reload' ),
    array( 'SiteID' =>147, 'Amount' => '500.00', 'TransactionType' => 'Redemption' )
);

$totals = null;

foreach ($transactions as $t){
    $amount = (float) $t['Amount'];
    if (isset($totals[ $t['SiteID'] ][ $t['TransactionType'] ])){
        $totals[ $t['SiteID'] ][ $t['TransactionType'] ] += (float) $amount;
    } else {
        $totals[ $t['SiteID'] ][ $t['TransactionType'] ] = (float) $amount;
    }
}

print_r ($totals); 
```

这将产生如下结果：

```
大批
(
    [147] => 数组
        (
            [存款] => 2000
            [赎回] => 1000
            [重新加载] => 200
        )

    [150] => 数组
        (
            [存款] => 100
            [兑换] => 200
        )

    [3] => 数组
        (
            [兑换] => 500
            [存款] => 700
            [重新加载] => 200
        )

)

```

如果您可以处理 php 通知警告，则可以将循环缩短为：

```
foreach ($transactions as $t){
    $totals[ $t['SiteID'] ][ $t['TransactionType'] ] += (float) $t['Amount'];
} 
```

# php - 当用户将鼠标悬停在 div 上时 Jquery 停止功能

> ID：11895274
> 
> 赞同：0
> 
> 时间：2012-08-10T03:56:35.577
> 
> 标签：php, jquery, html, ajax

我有一个 jquery ajax 函数：

```
function posts()
{
 pfunc = $.ajax({
         url: 'backend/posts.php',
         success: function(data) {
            $('#posts').html(data);
            $('#posts').fadeIn(2000);
            setTimeout(posts,2000);
        }
        });
}
posts(); 
```

我想在用户悬停在 div 'Posts' 上时停止该功能，并在用户停止悬停在该 div 上时恢复。有什么办法我可以做到这一点。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T04:16:40.263

干得好 ：）

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script>
function posts()
{
 pfunc = $.ajax({
         url: 'backend/posts.php',
         success: function(data) {
            $('#posts').html(data);
            $('#posts').fadeIn(2000);
            timer = setTimeout(posts,2000);

        }
        });
}
posts();
$(document).ready(function(){
$('#posts').hover(function(){clearTimeout(timer);}, function(){setTimeout(posts,2000);});
});
</script>
<div id = 'posts'></div> 
```

基本上，我在#post div 中添加了一个 mouser-over 和 mouse-out 事件处理程序，它们将分别清除和重置超时。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:01:55.200

你可能想阻止 ajax 函数运行你正在寻找的东西被称为

```
 var pfunc = $.ajax({
             url: 'backend/posts.php',
             success: function(data) {
                $('#posts').html(data);
                $('#posts').fadeIn(2000);
                setTimeout(posts,2000);
            }
        }); 
```

更多关于悬停事件

```
$("idofyourdiv").hover(
  function () {
   pfunc.abort();
  },
  function () {
    pfunc();
  }
); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T04:09:32.617

首先，我会像这样构建您的基本代码：

```
var timer = null;
var request = null;

function posts() {
 request = $.ajax({
   url: 'backend/posts.php',
   success: function(data) {
     $('#posts').html(data).fadeIn(2000);
     timer = setTimeout(posts, 2000);
   }
 });
}

posts(); 
```

接下来，要清除计时器，`clearTimeout()`请在`timer`对象上运行。`timer`存储你的超时函数的 id，当你尝试清除它时它可能不存在，所以像这样安全地清除它：

```
if (timer !== null) {
  clearTimeout(timer);
} 
```

最后，您应该中止 AJAX 请求，所以只需添加它：

```
if ((timer !== null) && (request !== null)) {
  clearTimeout(timer);
  request.abort();
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T04:14:11.000

这将检查您的 div 是否被悬停。如果是真的，ajax 调用将被取消。

尽量不要修改太多代码：

```
function posts()
{
 pfunc = $.ajax({
         url: 'backend/posts.php',
         beforeSend: function(){
             if($("#posts").is(":hover")){
                return false;
             }
         },
         success: function(data) {
            $('#posts').html(data);
            $('#posts').fadeIn(2000);
            setTimeout(posts,2000);
        }
        });
}
posts(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-10T04:27:29.397

javascript 不是多线程的，所以你不能阻止一段代码运行。如其他答案所述，您可以在 ajax 请求上调用 abort ，但这不会停止任何代码，它只是中止请求。而且我什至不确定在用户停止悬停时再次发出请求时中止请求是否明智。我会让请求通过并检查响应中的悬停状态。如果悬停状态与您的条件不匹配，则缓冲响应并等待用户停止悬停，然后继续执行。类似于以下内容...

```
var hovering = false;
var onResponse = null;

$('.Posts').mouseover(function() {
    hovering = true;
});

$('.Posts').mouseout(function() {
    hovering = false;
    onResponse && onResponse();
});

function posts() {
 pfunc = $.ajax({
         url: 'backend/posts.php',
         success: function(data) {
                        onResponse = function() {
                            if(hovering) return;
                            $('#posts').html(data);
                            $('#posts').fadeIn(2000);
                            setTimeout(posts, 2000);
                            onResponse = null;
                        };
                        onResponse();
        }
        });
}

posts(); 
```

# java - 重复集合角色映射实体Hibernate，不知道怎么回事

> ID：11895275
> 
> 赞同：0
> 
> 时间：2012-08-10T03:56:37.033
> 
> 标签：java, hibernate, collections, mapping, duplicates

当我在 Eclipse 中对我的项目运行休眠工具模式导出时，我收到以下错误，似乎它说我正在映射同一个集合，但我不是。对此有什么解决方案，是否有任何我应该使用的注释，或者在配置文件中指定集合不同的任何方式？对于如何解决此问题的任何建议或建议，我将不胜感激。以下是错误的代码和堆栈跟踪。如果您需要更多信息，请告诉我。

```
org.hibernate.DuplicateMappingException: Duplicate collection role mapping entity.AssignedTeams.assignedTeams
at org.hibernate.cfg.Configuration$MappingsImpl.addCollection(Configuration.java:2439)
at org.hibernate.cfg.annotations.CollectionBinder.bind(CollectionBinder.java:511)
at org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:1906)
at org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:769)
at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:733)
at org.hibernate.cfg.AnnotationConfiguration.processArtifactsOfType(AnnotationConfiguration.java:636)
at org.hibernate.cfg.AnnotationConfiguration.secondPassCompile(AnnotationConfiguration.java:359)
at org.hibernate.cfg.Configuration.generateDropSchemaScript(Configuration.java:838)
at org.hibernate.tool.hbm2ddl.SchemaExport.<init>(SchemaExport.java:128)
at org.hibernate.tool.hbm2ddl.SchemaExport.<init>(SchemaExport.java:91)
at org.hibernate.eclipse.console.views.SchemaExportAction$1.execute(SchemaExportAction.java:104)
at org.hibernate.console.execution.DefaultExecutionContext.execute(DefaultExecutionContext.java:63)
at org.hibernate.console.ConsoleConfiguration.execute(ConsoleConfiguration.java:107)
at org.hibernate.eclipse.console.views.SchemaExportAction.doRun(SchemaExportAction.java:91)
at org.hibernate.eclipse.console.actions.ConsoleConfigurationBasedAction.run(ConsoleConfigurationBasedAction.java:65)
at org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent(BaseSelectionListenerAction.java:168)
at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4165)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3754)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2696)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2660)
at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2494)
at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:674)
at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:667)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:123)
at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622)
at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577)
at org.eclipse.equinox.launcher.Main.run(Main.java:1410)
at org.eclipse.equinox.launcher.Main.main(Main.java:1386) 
```

配置文件

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-configuration PUBLIC
"-//Hibernate/Hibernate Configuration DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">
<hibernate-configuration>
<session-factory name="">
<!-- Database connection settings -->
<property name="connection.driver_class">org.apache.derby.jdbc.ClientDriver</property>
<property name="connection.url">jdbc:derby://localhost:1527/jtracker</property>
<property name="connection.username">root</property>
<property name="connection.password">root</property>
<!-- JDBC connection pool (use the built-in) -->
 <property name="connection.pool_size">1</property>
<!-- SQL dialect -->
<property name="dialect">org.hibernate.dialect.DerbyDialect</property>
<!-- Enable Hibernate's current session context -->
<property name="current_session_context_class">thread</property>
<!-- Disable the second-level cache -->
<!-- <property        
name="cache.provider_class">org.hibernate.cache.NoCacheProvider</property> -->

<!-- Enable the second-level cache -->
<property name="cache.use_second_level_cache">true</property>
<property name="cache.use_query_cache">true</property>
<property name="cache.provider_class">org.hibernate.cache.EhCacheProvider</property>

<!-- Echo all executed SQL to stdout -->
<property name="show_sql">true</property>
<!-- Drop and re-create the database schema on startup -->
<property name="hbm2ddl.auto">update</property>
<!-- Import the mapping resources -->

<mapping class="entity.AssignedTeams" />
<mapping class="entity.AssignedPersonnel" />
<mapping class="entity.Comments" />
<mapping class="entity.Created" />
<mapping class="entity.Modified" />
<mapping class="entity.Priority" />
<mapping class="entity.RelatedTickets" />
<mapping class="entity.Request" />
<mapping class="entity.Ticket" />
<mapping class="entity.TicketDescription" />
<mapping class="entity.TicketName" />
<mapping class="entity.User" />

</session-factory>
</hibernate-configuration> 
```

课程：

* * *

```
package abstract_classes;

import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.Inheritance;
import javax.persistence.InheritanceType;
import javax.persistence.MappedSuperclass;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@MappedSuperclass
@Inheritance(strategy=InheritanceType.JOINED)
public abstract class Field {

private int id;

public abstract int getSize();

public abstract void update(HttpServletRequest request, HttpServletResponse response);

/**
* @return the id
*/
@Id
@GeneratedValue
public int getId() {
    return id;
}

/**
* @param id the id to set
*/
public void setId(int id) {
    this.id = id;
} 
```

## }

```
package entity;

import java.util.ArrayList;
import java.util.List;

import abstract_classes.Field;

import javax.persistence.Cacheable;
import javax.persistence.ElementCollection;
import javax.persistence.Entity;
import javax.persistence.FetchType;
import javax.persistence.JoinColumn;
import javax.persistence.JoinTable;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.hibernate.annotations.Cache;
import org.hibernate.annotations.CacheConcurrencyStrategy;

@Entity
@Cacheable
@Cache(usage=CacheConcurrencyStrategy.READ_WRITE)
public class AssignedPersonnel extends Field{

private List<AssignedPersonnelElement> assignedPersonnel;

public AssignedPersonnel(){
assignedPersonnel = new ArrayList<AssignedPersonnelElement>();
}

public void addPersonnel(AssignedPersonnelElement personnel){
assignedPersonnel.add(personnel);
}

public void removePersonnel(AssignedPersonnelElement personnel){
assignedPersonnel.remove(personnel);
}

@Override
public int getSize() {
return assignedPersonnel.size();
}
@ElementCollection(fetch= FetchType.LAZY )
@JoinTable (name="ASGN_PERSNL_LIST",joinColumns=@JoinColumn(name="ASGN_PERSNL_ID"))
public List<AssignedPersonnelElement> getAssignedPersonnel() {
return assignedPersonnel;
}

public void setAssignedPersonnel(List<AssignedPersonnelElement> assignedPersonnel) {
this.assignedPersonnel = assignedPersonnel;
}

/* (non-Javadoc)
* @see java.lang.Object#toString()
*/
@Override
public String toString() {
return "AssignedPersonnel [assignedPersonnel=" + assignedPersonnel
+ "]";
}

@Override
public void update(HttpServletRequest request,
HttpServletResponse response) {

String[] assignedPersonnel = request.getParameterValues("assignedPersonnel");

for (int i = 0; i < assignedPersonnel.length; i++){
if(!(this.assignedPersonnel.contains(new AssignedPersonnelElement(assignedPersonnel[i])))){
this.assignedPersonnel.add(new AssignedPersonnelElement(assignedPersonnel[i]));
}
}

}

} 
```

* * *

```
package entity;

import java.util.ArrayList;
import java.util.List;

import abstract_classes.Field;

import javax.persistence.Cacheable;
import javax.persistence.ElementCollection;
import javax.persistence.Entity;
import javax.persistence.FetchType;
import javax.persistence.JoinColumn;
import javax.persistence.JoinTable;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.hibernate.annotations.Cache;
import org.hibernate.annotations.CacheConcurrencyStrategy;

@Entity
@Cacheable
@Cache(usage=CacheConcurrencyStrategy.READ_WRITE)
public class AssignedTeams extends Field{

private List<AssignedTeamElement> assignedTeams;

public AssignedTeams(){
assignedTeams = new ArrayList<AssignedTeamElement>();
}

public void addTeam(AssignedTeamElement team){
assignedTeams.add(team);
}

public void removeTeam(AssignedTeamElement team){
assignedTeams.remove(team);
}

@Override
public int getSize() {
return assignedTeams.size();
}
@ElementCollection(fetch= FetchType.LAZY)
@JoinTable (name="ASGN_TEAM_LIST",joinColumns=@JoinColumn(name="ASGN_TEAM_ID"))
public List<AssignedTeamElement> getAssignedTeams() {
return assignedTeams;
}

public void setAssignedTeams(List<AssignedTeamElement> assignedTeams) {
this.assignedTeams = assignedTeams;
}

/* (non-Javadoc)
* @see java.lang.Object#toString()
*/
@Override
public String toString() {
return "AssignedTeams [assignedTeams=" + assignedTeams + "]";
}

@Override
public void update(HttpServletRequest request,
HttpServletResponse response) {

String[] assignedTeams = request.getParameterValues("assignedTeams");

for (int i = 0; i < assignedTeams.length; i++){
if(!(this.assignedTeams.contains(new AssignedTeamElement(assignedTeams[i])))){
this.assignedTeams.add(new AssignedTeamElement(assignedTeams[i]));
}
}

}

} 
```

* * *

```
package entity;

import java.util.ArrayList;
import java.util.List;

import abstract_classes.Field;

import javax.persistence.Cacheable;
import javax.persistence.ElementCollection;
import javax.persistence.Entity;
import javax.persistence.FetchType;
import javax.persistence.JoinColumn;
import javax.persistence.JoinTable;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.hibernate.annotations.Cache;
import org.hibernate.annotations.CacheConcurrencyStrategy;

@Entity
@Cacheable
@Cache(usage=CacheConcurrencyStrategy.READ_WRITE)
public class RelatedTickets extends Field{

private List<RelatedTicketElement> relatedTickets;

public RelatedTickets() {
relatedTickets = new ArrayList<RelatedTicketElement>();
}

public void addRelatedTicket(RelatedTicketElement ticket){
relatedTickets.add(ticket);
}

public void removeRelatedTicket(RelatedTicketElement ticket){
relatedTickets.remove(ticket);
}

@Override
public int getSize() {
// TODO Auto-generated method stub
return relatedTickets.size();
}
@ElementCollection(fetch= FetchType.LAZY)
@JoinTable (name="REL_TICKT_LIST",joinColumns=@JoinColumn(name="REL_TICKT_ID"))
public List<RelatedTicketElement> getRelatedTickets() {
return relatedTickets;
}

public void setRelatedTickets(List<RelatedTicketElement> relatedTickets) {
this.relatedTickets = relatedTickets;
}

/* (non-Javadoc)
* @see java.lang.Object#toString()
*/
@Override
public String toString() {
return "RelatedTickets [relatedTickets=" + relatedTickets + "]";
}

@Override
public void update(HttpServletRequest request,
HttpServletResponse response) {

String[] relatedTickets = request.getParameterValues("relatedTickets");

for (int i = 0; i < relatedTickets.length; i++){
if(!(this.relatedTickets.contains(new RelatedTicketElement(relatedTickets[i])))){
this.relatedTickets.add(new RelatedTicketElement(relatedTickets[i]));
}
}

}
} 
```

* * *

```
package entity;

import javax.persistence.Embeddable;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;

@Embeddable
public class AssignedPersonnelElement {

private String assignedPersonnel;
private int id;

public AssignedPersonnelElement() {}

public AssignedPersonnelElement(String assignedPersonnel) {
super();
this.assignedPersonnel = assignedPersonnel;
}

public String getAssignedPersonnel() {
return assignedPersonnel;
}

public void setAssignedPersonnel(String assignedPersonnel) {
this.assignedPersonnel = assignedPersonnel;
}

@Id
@GeneratedValue
public int getId() {
    return id;
}

/**
* @param id the id to set
*/
public void setId(int id) {
    this.id = id;
}

/* (non-Javadoc)
* @see java.lang.Object#hashCode()
*/
@Override
public int hashCode() {
final int prime = 31;
int result = 1;
result = prime
* result
+ ((assignedPersonnel == null) ? 0 : assignedPersonnel
.hashCode());
return result;
}

/* (non-Javadoc)
* @see java.lang.Object#equals(java.lang.Object)
*/
@Override
public boolean equals(Object obj) {
if (this == obj)
return true;
if (obj == null)
return false;
if (!(obj instanceof AssignedPersonnelElement))
return false;
AssignedPersonnelElement other = (AssignedPersonnelElement) obj;
if (assignedPersonnel == null) {
if (other.assignedPersonnel != null)
return false;
} else if (!assignedPersonnel.equals(other.assignedPersonnel))
return false;
return true;
}

/* (non-Javadoc)
* @see java.lang.Object#toString()
*/
@Override
public String toString() {
return "AssignedPersonnelElement [assignedPersonnel="
+ assignedPersonnel + "]";
}

} 
```

* * *

```
package entity;

import javax.persistence.Embeddable;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;

@Embeddable
public class AssignedTeamElement {

private String assignedTeam;
private int id;

public AssignedTeamElement() {
}

public AssignedTeamElement(String assignedTeam) {
this.assignedTeam = assignedTeam;
}

public String getAssignedTeam() {
return assignedTeam;
}

public void setAssignedTeam(String assignedTeam) {
this.assignedTeam = assignedTeam;
}

@Id
@GeneratedValue
public int getId() {
    return id;
}

/**
* @param id the id to set
*/
public void setId(int id) {
    this.id = id;
}

/*
* (non-Javadoc)
*
* @see java.lang.Object#hashCode()
*/
@Override
public int hashCode() {
final int prime = 31;
int result = 1;
result = prime * result
+ ((assignedTeam == null) ? 0 : assignedTeam.hashCode());
return result;
}

/*
* (non-Javadoc)
*
* @see java.lang.Object#equals(java.lang.Object)
*/
@Override
public boolean equals(Object obj) {
if (this == obj)
return true;
if (obj == null)
return false;
if (!(obj instanceof AssignedTeamElement))
return false;
AssignedTeamElement other = (AssignedTeamElement) obj;
if (assignedTeam == null) {
if (other.assignedTeam != null)
return false;
} else if (!assignedTeam.equals(other.assignedTeam))
return false;
return true;
}

/* (non-Javadoc)
* @see java.lang.Object#toString()
*/
@Override
public String toString() {
return "AssignedTeamElement [assignedTeam=" + assignedTeam + "]";
}
} 
```

* * *

```
package entity;

import javax.persistence.Embeddable;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;

@Embeddable
public class RelatedTicketElement {

private String relatedTicket;
private int id;

public RelatedTicketElement() {}

public RelatedTicketElement(String relatedTicket) {
super();
this.relatedTicket = relatedTicket;
}

public String getRelatedTicket() {
return relatedTicket;
}

public void setRelatedTicket(String relatedTicket) {
this.relatedTicket = relatedTicket;
}

@Id
@GeneratedValue
public int getId() {
    return id;
}

/**
* @param id the id to set
*/
public void setId(int id) {
    this.id = id;
}

/* (non-Javadoc)
* @see java.lang.Object#hashCode()
*/
@Override
public int hashCode() {
final int prime = 31;
int result = 1;
result = prime * result
+ ((relatedTicket == null) ? 0 : relatedTicket.hashCode());
return result;
}

/* (non-Javadoc)
* @see java.lang.Object#equals(java.lang.Object)
*/
@Override
public boolean equals(Object obj) {
if (this == obj)
return true;
if (obj == null)
return false;
if (!(obj instanceof RelatedTicketElement))
return false;
RelatedTicketElement other = (RelatedTicketElement) obj;
if (relatedTicket == null) {
if (other.relatedTicket != null)
return false;
} else if (!relatedTicket.equals(other.relatedTicket))
return false;
return true;
}

/* (non-Javadoc)
* @see java.lang.Object#toString()
*/
@Override
public String toString() {
return "RelatedTicketElement [relatedTicket=" + relatedTicket + "]";
}
} 
```

* * *

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T05:05:42.443

问题是你忘记`<generator class="increment"/>`了`id`在你的`Field`课堂上。

所以试试这个：

```
@Id
@GenericGenerator(name="gen",strategy="increment")
@GeneratedValue(generator="gen")
@Column(name = "ID", unique = true, nullable = false, precision = 15, scale = 0)
private Long id; 
```

# postgresql - PostgreSQL 在 RAISE NOTICE 上抛出错误 || 操作员

> ID：11895279
> 
> 赞同：11
> 
> 时间：2012-08-10T03:57:55.577
> 
> 标签：postgresql, plpgsql

使用以下代码行出现以下错误：

```
RAISE NOTICE '*** Rolling back job run id ' || CONVERT(varchar, v_job_run_id)
             || ' for table ' || v_table_name || '***'; 
```

错误：

> 错误：“|”处或附近的语法错误 LINE 43: RAISE NOTICE ' ***
> 回滚作业运行 id ' || 转换（变量...

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-08-10T04:21:07.917

[RAISE](http://www.postgresql.org/docs/current/static/plpgsql-errors-and-messages.html) XXXX 语句中的消息字符串应该是文字常量 - 在那里不允许表达。它类似于 printf 函数中的格式字符串。

```
RAISE NOTICE 'my table has name %', tablename; 
```

第二个问题应该是“CONVERT”，在 Pg 中不支持 - 使用[CAST](http://www.postgresql.org/docs/current/static/sql-expressions.html#SQL-SYNTAX-TYPE-CASTS)代替或不使用任何参数，RAISE 语句的任何参数都会自动转换为文本。

# metadata - 如何将 EFv5 的 dbGeography 空间数据类型与 WCF RIA 域服务类一起使用

> ID：11895283
> 
> 赞同：3
> 
> 时间：2012-08-10T03:58:19.807
> 
> 标签：metadata, wcf-ria-services, entity-framework-5, sqlgeography, domain-service-class

我正在使用现在具有地理数据类型的 EFv5。所以我有一个名为 Place 的实体，它有一个名为 geoLocation 的属性，它属于地理类型。VS 2012 已自动为该实体创建代码，并且该地理类型的属性类型已声明为 System.Data.Spatial.DbGeography。所以一切正常。

但是，当我添加域服务类并勾选包含我的地点实体时，解决方案将停止编译，因为 domainservice.metaData.cs 文件似乎无法为地理类型创建属性。我收到“实体‘SilverlightApplication1.Web.Place’的属性‘GeoLocation’的类型不受支持”错误消息。

那么如何在我的域服务类中包含这个地理数据类型呢？

我试图手动将属性添加到创建的元数据文件中，但我仍然收到相同的错误消息。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-01-28T18:10:56.537

我在 MVC 项目的域类中成功使用了 DbGeography 类型。

我将我的域类定义如下。

```
using System.Data.Spatial;

namespace MyApp.DomainClasses
{
    public class Address
    {
        public int Id { get; set; }
        public string StreetAddress { get; set; }
        public string InternalMailCode { get; set; }
        public string City { get; set; }
        public string Country { get; set; }
        public string PostalCode { get; set; }
        public string StateProvince { get; set; }
        public DbGeography Location { get; set; }

    }
} 
```

然后我可以用这样的东西查询。

```
var myLocation = DbGeography.FromText(gpsLocation);

var addresses= (from a in context.Addresses
               orderby a.Location.Distance(myLocation)
               select a).Take(10); 
```

# objective-c - performSelector ARC 警告

> ID：11895287
> 
> 赞同：8
> 
> 时间：2012-08-10T03:58:37.690
> 
> 标签：objective-c, ios, xcode, automatic-ref-counting

> **可能重复：**
> [performSelector 可能会导致泄漏，因为它的选择器未知](https://stackoverflow.com/questions/7017281/performselector-may-cause-a-leak-because-its-selector-is-unknown)

我在非 ARC 中有此代码，可以正常工作而不会出现错误或警告：

```
- (void)addTarget:(id)target action:(SEL)action forControlEvents:(UIControlEvents)controlEvents
{
    // Only care about value changed controlEvent
    _target = target;
    _action = action;
}

- (void)setValue:(float)value
{
    if (value > _maximumValue)
    {
        value = _maximumValue;
    } else if (value < _minimumValue){
        value = _minimumValue;
    }

    // Check range
    if (value <= _maximumValue & value >= _minimumValue)
    {
        _value = value;
        // Rotate knob to proper angle
        rotation = [self calculateAngleForValue:_value];
        // Rotate image
        thumbImageView.transform = CGAffineTransformMakeRotation(rotation);
    }
    if (continuous)
    {
        [_target performSelector:_action withObject:self]; //warning here
    }
} 
```

但是，在我将项目转换为 ARC 后，我收到以下警告：

“执行选择器可能会导致泄漏，因为它的选择器是未知的。”

我将不胜感激有关如何相应地修改我的代码的想法..

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2012-08-10T04:33:46.597

我发现避免警告的唯一方法是抑制它。你可以在你的构建设置中禁用它，但我更喜欢在我知道它是虚假的地方使用编译指示来禁用它。

```
#       pragma clang diagnostic push
#       pragma clang diagnostic ignored "-Warc-performSelector-leaks"
            [_target performSelector:_action withObject:self];
#       pragma clang diagnostic pop 
```

如果您在多个地方遇到错误，您可以定义一个宏来更容易地抑制警告：

```
#define SuppressPerformSelectorLeakWarning(Stuff) \
    do { \
        _Pragma("clang diagnostic push") \
        _Pragma("clang diagnostic ignored \"-Warc-performSelector-leaks\"") \
        Stuff; \
        _Pragma("clang diagnostic pop") \
    } while (0) 
```

您可以像这样使用宏：

```
SuppressPerformSelectorLeakWarning([_target performSelector:_action withObject:self]); 
```

# sql-server - 当我们在兼容模式 80 下运行 SQL Server 2008 R2 时，我们获得了哪些特性？

> ID：11895288
> 
> 赞同：1
> 
> 时间：2012-08-10T03:59:18.553
> 
> 标签：sql-server, sql-server-2008-r2, sql-server-2000, compatibility-mode, dmv

我们在兼容模式 80 (2000) 下运行 SQL Server 2008 R2，因为我们使用了许多已停用的功能。最初我以为我只能使用 2000 的功能，但令人惊喜的是，我展示了 CTE 工作，我认为这是超集案例。我们可以访问 2000、2005、2008 和 R2 的所有功能，但最近当我在玩 DMV/DMF 时，我尝试将 sql_handle 传递给 sys.dm_exec_sql_text，但它不起作用。一些 googe/hit and run 告诉我我需要更改兼容模式，因为这在兼容模式 80 下不起作用。那么当我们在兼容模式 80 (2000) 下使用 2008 r2 时，我们可以访问哪些功能？

这种兼容模式也适用于 SSIS 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T06:44:50.357

从评论中我意识到这是部分向后兼容性，所以在我的场景中，我得到了 2000 和 2008 的所有功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-07-17T17:27:23.647

将在给定兼容模式下工作的确切语言功能集取决于托管服务器级别。例如，在 SQL Server 2005 上运行的数据库的兼容级别 80 可能与在 SS 2008R2 上运行的同级别数据库存在一些差异。

底层查询计划器和数据库引擎的其他方面不会因更改兼容性级别而改变，但一些未记录的默认情况可能会有所不同。例如，即使是一个错误的选择，一些开发人员仍依赖 SQL Server 2000 数据库中行的默认顺序，但该默认顺序未记录在案，在 2005 年的某些情况下发生了变化，导致该数据库在 2005 年运行时出现问题兼容模式 80。当然，取决于默认顺序是一个巨大的禁忌，但这是一个底层引擎发生变化的例子，而实际执行的代码没有。

您需要完全回答这个问题的是，对于每个 SQL Server 版本，列出它在兼容模式下支持的所有后级版本，以及对于该 SQL Server 版本支持的每个级别，所有语言的完整列表在该特定级别的服务器上，该兼容性级别中支持的功能和所有不允许的功能（可能在更高级别中允许）。

虽然我发现了一些在较低级别中允许使用后续功能的示例（例如 2008R2 允许在兼容性 80 数据库中抛出/捕获），但我没有找到任何接近确定列表的东西，这将是有帮助的。

# c++ - C++ 和 DirectX 我可以看穿模型和世界，就好像一切都是透明的？

> ID：11895289
> 
> 赞同：1
> 
> 时间：2012-08-10T03:59:19.357
> 
> 标签：c++, directx

问题是我可以看穿模型和世界，看到另一边的东西。当我查看地形时，我可以看到对面的一座山是否有任何东西等等。这以前发生过，但我修复了它，不记得如何了。有任何解决这个问题的方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T04:29:05.197

您可能需要修复顶点的[缠绕方向](http://msdn.microsoft.com/en-us/library/windows/desktop/bb205124%28v=vs.85%29.aspx#Winding_Direction_and_Leading_Vertex_Positions)。如果您不小心将它们反转并且启用了背面剔除，那么您将看穿这些三角形。缠绕方向`BOOL`在[D3D11_RASTERIZER_DESC](http://msdn.microsoft.com/en-us/library/windows/desktop/ff476198%28v=vs.85%29.aspx)的`FrontCounterClockwise`成员中设置为 a，并在其`CullMode`( [`D3D11_CULL_MODE`](http://msdn.microsoft.com/en-us/library/windows/desktop/ff476108%28v=vs.85%29.aspx)) 成员中剔除

***更新：***您可能还禁用了深度测试（如果禁用，将要求您首先绘制最远的对象，否则进一步的项目将覆盖已渲染的较近的对象（“画家算法”））。[确保在创建深度模板状态 (](http://msdn.microsoft.com/en-us/library/windows/desktop/ff476506%28v=vs.85%29.aspx) [D3D11_DEPTH_STENCIL_DESC](http://msdn.microsoft.com/en-us/library/windows/desktop/ff476110%28v=vs.85%29.aspx) ) 时启用了深度测试。

# iphone - 如何从邮件编辑器获取电子邮件地址

> ID：11895290
> 
> 赞同：0
> 
> 时间：2012-08-10T03:59:24.147
> 
> 标签：iphone, objective-c, ios, ipad

您如何获得邮件撰写者发送到的电子邮件地址？

我试着看看这个代表：

```
- (void)mailComposeController:(MFMailComposeViewController *)controller
          didFinishWithResult:(MFMailComposeResult)result
                        error:(NSError *)error
{

} 
```

但似乎没有办法获取电子邮件地址

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T04:27:33.193

你不能。该界面的设计使您看不到用户输入的内容。

如果您告诉我们您要完成的工作，我们可能会建议替代 API 或解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:43:58.520

您无法从邮件编辑器获取电子邮件地址。

一个建议：如果您知道预期收件人的姓名，您可以从通讯录中获取电子邮件地址。请注意，您需要通知您的用户应用程序的操作，最好是让他们选择继续或取消操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T17:34:24.377

请通过我同样的问题，最后我得出的结论是没有官方的Apple API来获取电子邮件地址......

[在 iPhone 的应用内检索电子邮件](https://stackoverflow.com/questions/7712481/retrieve-e-mail-in-in-app-in-iphone/11153848#11153848)

# python - python / pygame中自定义数组类中运算符重载的一些问题

> ID：11895291
> 
> 赞同：1
> 
> 时间：2012-08-10T03:59:31.477
> 
> 标签：python, operator-overloading, pygame, typeerror

您好，感谢您查看此问题。对于我正在制作的基于图块的基本游戏，我创建了自己的容器类，其中包含代表世界地图的项目/值矩阵。为此，我了解了运算符重载的方法。在大多数情况下，一切似乎都很好，但我得到了一些令我困惑的结果。

```
class mapArray(object):

    def __init__(self, mapdata = None, (width,height) = None, fillnumber = 0):
        #If you are already given a map array, then you can just provide
        # that first, otherwise leave it as none. Fill number is used to change the entire 
        # map array so that the map will be a different tile type. 0 is most likely just grass.
        print "horses"
        if (mapdata == None) and (width, height) == None:
            self.mapdata = []

        elif mapdata is not None:
            self.mapdata = mapdata

        elif (width,height) is not None:
            self.mapdata = [[fillnumber] * width] * height

    def __setitem__(self, (x,y), value):
        #Allows you to assign values more intuitively with the array
        self.mapdata[y][x] = value

    def __getitem__(self, (x,y)):
        #Just reverses it so it works intuitively and the array is 
        # indexed simply like map[x,y] instead of map[y][x]
        return mapArray(self.mapdata[y][x])

    def __str__(self):
        return str(self.mapdata)

    def __repr__(self):
        return str(self.mapdata)

    def __len__(self):
        return len(self.mapdata) 
```

**getitem**工作正常。我将构造函数设置为接收给定的列表列表，或者提供一个长度和宽度来生成该大小的数组。这是我为数组提供大小而不是给它自己的值时得到的结果。

```
testlist1 = mapArray(None, (3,3), 4)
print testlist1
testlist1[0,1] = 5
print testlist1 
```

这给了我这些结果：

```
[[4,4,4],[4,4,4],[4,4,4]]
[[5,4,4],[5,4,4],[5,4,4]] 
```

第一个结果是有道理的，但第二个结果似乎表明我覆盖的**setitem**方法存在问题。为什么它会替换每个列表的第一个索引？

让我感到困惑的是，当我提供自己的列表列表来替换 mapdata 参数时会发生什么。

```
randommap = [[1,2,3,4,5],[6,7,8,9,10],[11,12,13,14,15]]
testlist2 = mapArray(randommap)
print testlist2 
```

该代码给了我这个TypeError：

```
def __init__(self, mapdata = None, (width,height) = None, fillnumber = 0):
TypeError: 'NoneType' object is not iterable 
```

对我来说，这似乎是在说 mapdata 设置为 None 时不可迭代，但我提供的 randommap 列表不应该替换 mapdata 吗？也许我设置的条件语句存在问题，因此它永远不会被替换。我似乎无法缩小问题的范围。任何帮助将不胜感激！

我是运算符重载的新手，所以如果有更有效的方法可以让我知道。我知道 numpy 的存在可以为我完成大部分工作，但我想自己做这件事。再次感谢！瑞安

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T04:03:51.187

问题出在`__init__()`. 特别是这一行：

```
self.mapdata = [[fillnumber] * width] * height 
```

这会创建`height`对同一列表的引用。修复方法是：

```
self.mapdata = [[fillnumber] * width for x in xrange(height)] 
```

# jquery - jqplot - 画布覆盖在蜡烛棒图中不起作用

> ID：11895292
> 
> 赞同：0
> 
> 时间：2012-08-10T03:59:39.623
> 
> 标签：jquery, canvas, overlay, jqplot, candlestick-chart

我正在尝试使用画布叠加在烛台图表上绘制一条水平线，但出现错误：对象不支持属性或方法“series_u2p”错误？

知道可能是什么原因吗？

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<script type="text/javascript" src="http://www.jqplot.com/src/jquery.min.js"></script>
<script type="text/javascript" src="http://www.jqplot.com/src/jquery.jqplot.min.js"></script>
<script type="text/javascript" src="http://www.jqplot.com/deploy/dist/examples/syntaxhighlighter/scripts/shCore.min.js"></script>
<script type="text/javascript" src="http://www.jqplot.com/deploy/dist/examples/syntaxhighlighter/scripts/shBrushJScript.min.js"></script>
<script type="text/javascript" src="http://www.jqplot.com/deploy/dist/examples/syntaxhighlighter/scripts/shBrushXml.min.js"></script>
<script type="text/javascript" src="http://www.jqplot.com/src/plugins/jqplot.dateAxisRenderer.js"></script>
<script type="text/javascript" src="http://www.jqplot.com/src/plugins/jqplot.ohlcRenderer.js"></script>
<script type="text/javascript" src="http://www.jqplot.com/src/plugins/jqplot.highlighter.js"></script>
<script type="text/javascript" src="http://www.jqplot.com/src/plugins/jqplot.canvasOverlay.js"></script>
<script type="text/javascript" src="http://www.jqplot.com/src/plugins/jqplot.cursor.js"></script>
<script type="text/javascript" src="http://www.jqplot.com/deploy/dist/plugins/jqplot.categoryAxisRenderer.min.js"></script>
<script type="text/javascript" src="http://www.jqplot.com/deploy/dist/plugins/jqplot.canvasTextRenderer.min.js"></script>
<script type="text/javascript" src="http://www.jqplot.com/deploy/dist/plugins/jqplot.canvasAxisTickRenderer.min.js"></script>
<script type="text/javascript" src="http://www.jqplot.com/deploy/dist/plugins/jqplot.canvasOverlay.min.js"></script>
</head>

<body>
<div id="chart" style="height: 250px; width: 600px;"></div>

    <script type="text/javascript">
    var plot;
    $(document).ready(function () {
     $.jqplot.config.enablePlugins = true;
     plot = $.jqplot('chart', [ohlc], {
         seriesDefaults: {
             yaxis: 'y2axis'
         },
         axes: {
             xaxis: {
                 renderer: $.jqplot.DateAxisRenderer,
                 tickOptions: {
                     formatString: '%b %e'
                 },
                 min: "09-01-2008",
                 max: "06-22-2009",
                 tickInterval: "6 weeks",
             },
             y2axis: {
                 tickOptions: {
                     formatString: '$%d'
                 }
             }
         },
         series: [{
             renderer: $.jqplot.OHLCRenderer,
             rendererOptions: {
                 candleStick: true
             }
         }],
         cursor: {
             zoom: true,
             show: true
         },
         canvasOverlay: {
             show: true,
             objects: [{
                 horizontalLine: {
                     name: 'lineOne',
                     show: true,
                     y: 1,
                     lineWidth: 6,
                     color: 'rgb(100, 55, 124)',
                     shadow: false
                 }
             }]
         },
         highlighter: {
             show: true,
             showMarker: false,
             tooltipAxes: 'xy',
             yvalues: 4,
             formatString: '<table class="jqplot-highlighter"> \
    <tr><td>date:</td><td>%s</td></tr> \
    <tr><td>open:</td><td>%s</td></tr> \
    <tr><td>hi:</td><td>%s</td></tr> \
    <tr><td>low:</td><td>%s</td></tr> \
    <tr><td>close:</td><td>%s</td></tr></table>'
         }
     });

 });
    </script>
<script class="code" language="javascript" type="text/javascript">
ohlc = [
['06/15/2009 16:00:00', 136.01, 139.5, 134.53, 139.48],
['06/08/2009 16:00:00', 143.82, 144.56, 136.04, 136.97],
['06/01/2009 16:00:00', 136.47, 146.4, 136, 144.67],
['05/26/2009 16:00:00', 124.76, 135.9, 124.55, 135.81],
['05/18/2009 16:00:00', 123.73, 129.31, 121.57, 122.5],
['05/11/2009 16:00:00', 127.37, 130.96, 119.38, 122.42],
['05/04/2009 16:00:00', 128.24, 133.5, 126.26, 129.19],
['04/27/2009 16:00:00', 122.9, 127.95, 122.66, 127.24],
['04/20/2009 16:00:00', 121.73, 127.2, 118.6, 123.9],
['04/13/2009 16:00:00', 120.01, 124.25, 115.76, 123.42],
['04/06/2009 16:00:00', 114.94, 120, 113.28, 119.57],
['03/30/2009 16:00:00', 104.51, 116.13, 102.61, 115.99],
['03/23/2009 16:00:00', 102.71, 109.98, 101.75, 106.85],
['03/16/2009 16:00:00', 96.53, 103.48, 94.18, 101.59],
['03/09/2009 16:00:00', 84.18, 97.2, 82.57, 95.93],
['03/02/2009 16:00:00', 88.12, 92.77, 82.33, 85.3],
['02/23/2009 16:00:00', 91.65, 92.92, 86.51, 89.31],
['02/17/2009 16:00:00', 96.87, 97.04, 89, 91.2],
['02/09/2009 16:00:00', 100, 103, 95.77, 99.16],
['02/02/2009 16:00:00', 89.1, 100, 88.9, 99.72],
['01/26/2009 16:00:00', 88.86, 95, 88.3, 90.13],
['01/20/2009 16:00:00', 81.93, 90, 78.2, 88.36],
['01/12/2009 16:00:00', 90.46, 90.99, 80.05, 82.33],
['01/05/2009 16:00:00', 93.17, 97.17, 90.04, 90.58],
['12/29/2008 16:00:00', 86.52, 91.04, 84.72, 90.75],
['12/22/2008 16:00:00', 90.02, 90.03, 84.55, 85.81],
['12/15/2008 16:00:00', 95.99, 96.48, 88.02, 90],
['12/08/2008 16:00:00', 97.28, 103.6, 92.53, 98.27],
['12/01/2008 16:00:00', 91.3, 96.23, 86.5, 94],
['11/24/2008 16:00:00', 85.21, 95.25, 84.84, 92.67],
['11/17/2008 16:00:00', 88.48, 91.58, 79.14, 82.58],
['11/10/2008 16:00:00', 100.17, 100.4, 86.02, 90.24],
['11/03/2008 16:00:00', 105.93, 111.79, 95.72, 98.24],
['10/27/2008 16:00:00', 95.07, 112.19, 91.86, 107.59],
['10/20/2008 16:00:00', 99.78, 101.25, 90.11, 96.38],
['10/13/2008 16:00:00', 104.55, 116.4, 85.89, 97.4],
['10/06/2008 16:00:00', 91.96, 101.5, 85, 96.8],
['09/29/2008 16:00:00', 119.62, 119.68, 94.65, 97.07],
['09/22/2008 16:00:00', 139.94, 140.25, 123, 128.24],
['09/15/2008 16:00:00', 142.03, 147.69, 120.68, 140.91]
];
</script>

 <script type="text/javascript">
    function lineup() {
     var co = plot.plugins.canvasOverlay;
     var line = co.get('lineOne');
     line.options.y += 1;
     co.draw(plot);
 }
    </script>
    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-01-15T15:56:02.080

我对块图也有同样的问题，但看起来它不依赖于图表类型。

如果轴已设置为

```
seriesDefaults: {
  yaxis: 'y2axis'
} 
```

要让覆盖工作，您还需要为覆盖对象指定此项，例如：

```
canvasOverlay: {
  show: true,
  objects: [
    {verticalLine: {
      yaxis: 'y2axis', // <--- specify axis
      x: 0,
      lineWidth: 1,
      color: 'rgb(255, 0, 0)',
      shadow: false
    }}
  ]
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T22:28:17.313

我对条形图也有同样的问题。

问题似乎来自以下选项

```
seriesDefaults: {
   yaxis: 'y2axis'
} 
```

尝试评论它，看看会发生什么。

无论如何，我不知道如何实际解决这个问题。jqplot 库中可能存在故障。

希望这可以帮助！

# android - 在首选项屏幕中隐藏标题栏（android）

> ID：11895293
> 
> 赞同：0
> 
> 时间：2012-08-10T03:59:47.070
> 
> 标签：android

我试图在我的首选项屏幕上隐藏标题栏，但通常`requestWindowFeature(Window.FEATURE_NO_TITLE);`

打不开，有什么建议吗？

我的代码是：

对于我的清单：

```
<activity
            android:name=".prefs"
            android:label="@string/app_name" 
            android:theme="@android:style/Theme.NoTitleBar">
            <intent-filter>
                <action android:name="com.mittereder.rockpaper.PREFS" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity> 
```

爪哇：

```
protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        addPreferencesFromResource(R.xml.prefs);
        requestWindowFeature(Window.FEATURE_NO_TITLE); 
```

日志猫：

```
08-10 00:08:07.502: E/AndroidRuntime(24457): FATAL EXCEPTION: main
08-10 00:08:07.502: E/AndroidRuntime(24457): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.mittereder.rockpaper/com.mittereder.rockpaper.prefs}: android.util.AndroidRuntimeException: requestFeature() must be called before adding content
08-10 00:08:07.502: E/AndroidRuntime(24457):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2194)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2229)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at android.app.ActivityThread.access$600(ActivityThread.java:139)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1261)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at android.os.Handler.dispatchMessage(Handler.java:99)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at android.os.Looper.loop(Looper.java:154)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at android.app.ActivityThread.main(ActivityThread.java:4945)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at java.lang.reflect.Method.invokeNative(Native Method)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at java.lang.reflect.Method.invoke(Method.java:511)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at dalvik.system.NativeStart.main(Native Method)
08-10 00:08:07.502: E/AndroidRuntime(24457): Caused by: android.util.AndroidRuntimeException: requestFeature() must be called before adding content
08-10 00:08:07.502: E/AndroidRuntime(24457):    at com.android.internal.policy.impl.PhoneWindow.requestFeature(PhoneWindow.java:228)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at android.app.Activity.requestWindowFeature(Activity.java:3144)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at com.mittereder.rockpaper.prefs.onCreate(prefs.java:22)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at android.app.Activity.performCreate(Activity.java:4531)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1071)
08-10 00:08:07.502: E/AndroidRuntime(24457):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2150)
08-10 00:08:07.502: E/AndroidRuntime(24457):    ... 11 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T04:02:53.113

您已在 android 清单中为您的活动设置主题，如下所示...

```
<activity android:name=".Login" android:theme="@android:style/Theme.NoTitleBar" /> 
```

请在编辑后验证您的活动标签。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:04:08.527

试试这个：

```
@Override  
    public void onCreate(Bundle savedInstanceState) {  
        super.onCreate(savedInstanceState);  
        requestWindowFeature(Window.FEATURE_NO_TITLE);  
        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,   
                WindowManager.LayoutParams.FLAG_FULLSCREEN);  
        addPreferencesFromResource(R.xml.myPreferences);

    } 
```

在清单中：

```
<activity android:name=".MyPreferencesActivity"  
                  android:label="@string/app_name"  
                  android:theme="@android:style/Theme.Light.NoTitleBar"> 
```

# javascript - Javascript：如何声明非全局静态方法？

> ID：11895296
> 
> 赞同：0
> 
> 时间：2012-08-10T03:59:58.833
> 
> 标签：javascript

如何在 js 中声明非全局静态方法？

```
foo.bar = function() {
  function testing{
    console.log("statckoverlow rocks!");
  }
  function testing2{
    console.log("testing2 funtction");
  }
} 
```

如何调用测试功能？我是JS的新手。

感谢帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T04:03:31.033

你可能想要一个对象。

```
foo.bar = {
  testing: function() {
    console.log("statckoverlow rocks!");
  },
  testing2: function() {
    console.log("testing2 funtction");
  }
}; 
```

然后，`foo.bar.testing()`例如调用 。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T04:03:13.247

你可以这样做：

```
foo.bar = (function() {
  var testing = function () {
    console.log("statckoverlow rocks!");
  };
  var testing2 = function () {
    console.log("testing2 funtction");
  };
  return {
    testing: testing,
    testing2: testing2
  };
}());

// call them
foo.bar.testing();
foo.bar.testing2(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T04:03:37.030

你的意思：

```
var foo = {
    bar: {
        testing: function()
        {
            console.log("statckoverlow rocks!");
        },
        testing2: function()
        {
            console.log("testing2 funtction");
        }
    }
};

foo.bar.testing();
foo.bar.testing2(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T04:04:25.720

```
// Constructor
function Foo() {
  var myvar = 'hey'; // private
  this.property = myvar;
  this.method = function() { ... };
}
Foo.prototype = {
  staticMethod: function() {
    console.log( this.property );
  }
}
var foo = new Foo();
foo.staticMethod(); //=> hey 
```

# python - 我们如何使用 Python 通过网络传输大量数据？

> ID：11895298
> 
> 赞同：1
> 
> 时间：2012-08-10T04:00:07.493
> 
> 标签：python, networking, file-transfer

我正在执行一项任务，将大约 100 Gb 的数据（包括目录中的一千个文件和子文件夹）备份（复制）到另一台服务器。通常，对于较小的规模，我可以使用 scp 或 rsync 代替。但是，由于另一台服务器不在同一个 LAN 网络上，因此很容易需要数小时甚至数天才能完成任务。我不能在终端运行的情况下将计算机留在那里。我不认为这是最好的选择，而且我还有另一个使用 Python 的好理由 :)

是否有任何图书馆或最佳实践可供我开始？因为，它只是针对内部项目，我们不需要任何花哨的功能，只需要一些基本的东西，比如日志记录、容错等。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T04:06:26.963

我认为您最好的选择是在屏幕内使用 scp 或 rsync 。这样您就可以分离屏幕会话并注销，并且传输将继续进行。

`man screen`

# php - 如何将资产版本添加到 css 和 js？

> ID：11895299
> 
> 赞同：2
> 
> 时间：2012-08-10T04:00:32.647
> 
> 标签：php, caching, symfony, twig, assetic

我希望assetic将压缩的js和css输出到这样的东西： `v2.3.1/css/whatever.css`

目前，这就是我转储我的 css 和 js 以进行生产的方式：`$ php app/console assetic:dump --env=prod --no-debug`. 但是他们被转储到 css/ 和 js/ 中，没有版本。

我读过[这个](http://symfony.com/doc/master/reference/configuration/framework.html#assets-version)，但它似乎只指图像，而不是 css/js。

这样做的一个重要原因是缓存破坏/无效。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:44:24.713

是的，已知问题......在我们的生产工作流程中，我们最终在`bin/vendors`脚本中使用了这样的块：

```
if (in_array('--env=dev', $argv)) {
    system(sprintf('%s %s assets:install --symlink %s', $interpreter, escapeshellarg($rootDir . '/app/console'), escapeshellarg($rootDir . '/web/')));
    system(sprintf('%s %s assetic:dump --env=dev', $interpreter, escapeshellarg($rootDir . '/app/console')));
    system(sprintf('%s %s myVendor:assets:install --symlink ', $interpreter, escapeshellarg($rootDir . '/app/console')));
} else {
    system(sprintf('%s %s assets:install %s', $interpreter, escapeshellarg($rootDir . '/app/console'), escapeshellarg($rootDir . '/web/')));
    system(sprintf('%s %s assetic:dump --env=prod --no-debug', $interpreter, escapeshellarg($rootDir . '/app/console')));
    system(sprintf('%s %s myVendor:assets:install ', $interpreter, escapeshellarg($rootDir . '/app/console')));
} 
```

如您所见，我们定义了控制台命令，它在安装和转储 Symfony 的资产后将资产安装到 web 文件夹中。在`MyVendorCommand`脚本中，我们执行以下操作：

```
$version = $this->getContainer()->getParameter('your_version_parameter');
$assetsInstallCommand = $this->getApplication()->find('assets:install');

$commandOptions = $input->getOptions();

$assetsInstallArguments = array(
    'command' => 'assets:install',
    'target' => 'web/version-' . $version,
    '--symlink' => $commandOptions['symlink']
);

$assetsInstallInput = new ArrayInput($assetsInstallArguments);
$returnCode = $assetsInstallCommand->run($assetsInstallInput, $output); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-11T10:51:24.030

嗬，这是一个很大的 Symfony2 错误！我不确定是否有人举报！

我的解决方案是在 Nginx 配置中添加一个别名，但你的是 def。更干净，更好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-26T16:29:48.080

我的解决方法是在 .htaccess 文件中创建一个 rewriteRule 以提供真实文件，但接受带有版本号的完整 url。像这样的东西...

# 应用程序/配置/config.yml

```
[...]
engines: ['twig']
assets_version: 20140523  # numeric version
assets_version_format: "assets-%%2$s/%%1$s"
[...] 
```

# 网页/.htaccess

```
[...]
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteRule ^assets-([0-9]*)/(.*)$ ./$2 [L]
[...] 
```

# vaadin - 带有 cron 作业的 Vaadin 通知

> ID：11895303
> 
> 赞同：0
> 
> 时间：2012-08-10T04:01:18.747
> 
> 标签：vaadin

在我的应用程序中，我想根据 cronjob（定期）向用户显示通知，在 vaadin 我们可以为此使用 Notification 和 PopView，但似乎它没有按我预期的那样工作（它不显示通知或弹出窗口根据 cronjob，用户必须单击 UI 才能显示通知），我还有另一个要求。通知应该显示，直到用户单击通知，当使用单击通知时，系统应该弹出带有通知信息的窗口，是否有任何组件可以在 Vaadin 中使用

谢谢

干杯

乌德西卡

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T04:24:53.423

HTTP 协议缺少服务器端推送。因此，当您在后台线程中创建通知时，Vaadin 仍然需要来自客户端浏览器的请求以显示通知
所以，我假设您需要：

*   后台线程检查 cron 作业并在必要时显示通知。
*   将定期轮询服务器以获取更新的客户端组件。你有几个选择：
    *   [ProgressIndicator](https://vaadin.com/api/com/vaadin/ui/ProgressIndicator.html)具有轮询功能。将此组件添加到窗口并使用`setPollingInterval`方法设置更新间隔。
    *   尝试使用[Refresher](https://vaadin.com/forum/-/message_boards/view_message/77099)插件。

[从另一个线程更新 UI](https://vaadin.com/forum/-/message_boards/view_message/231271) - vaadin.com 上的相关讨论

# c# - Twitterizer Streaming API 公共流

> ID：11895304
> 
> 赞同：1
> 
> 时间：2012-08-10T04:01:20.307
> 
> 标签：c#, twitterizer

我一直在尝试使用 Twitterizer 流 API 获取公共状态消息，但无法执行。我使用了下面的代码，但它不起作用。示例代码仅提供用户流方法有效，但不适用于公共流。我的代码如下： -

```
stream.StartPublicStream(streamErrorCallBack, tweetCreated, deletedCallBack, eventCallBack); 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-23T05:50:30.543

不确定您要达到的目标，但如果您查看[http://thewayofcode.wordpress.com/tag/json/](http://thewayofcode.wordpress.com/tag/json/)，您会发现一个完整的公共流示例。

# ruby-on-rails - Twitter Bootstrap & rails - 居中内容并修复最小宽度

> ID：11895309
> 
> 赞同：3
> 
> 时间：2012-08-10T04:02:13.757
> 
> 标签：ruby-on-rails, twitter-bootstrap, responsive-design, twitter-bootstrap-rails

在我的 html 中，内容应该以屏幕为中心，并且他的宽度不应该大于 950 像素。

由于我希望在移动设备和桌面设备上显示相同的 html，因此我使用 twitter bootstrap 来使布局具有响应性。

问题是：我似乎无法使内容 div 居中并且最大宽度为 950px。

当我在浏览器上打开 css 有这个媒体查询：

```
@media (min-width: 1200px) 
```

这使我的 div 始终适合整个屏幕。

我怎样才能解决这个问题？

基本上我想做的是这样的：

![架构](../Images/201ede829c53b2dace7e37160192bd62.png)

橙色线是容器（或主体），蓝色线是行

谢谢你的帮助。

**编辑**

只是我发现可能会帮助某人帮助我的东西

如果我注释掉这一行：

```
@import "twitter/bootstrap/responsive"; 
```

我`div.content`保持 950px 宽度，但我的 html 失去了响应行为，这是我不想要的

**编辑 2**

html标记：

```
<html>
  <body>
    <div class="container">
      <div class="row">
        <div class="span12">
          <%= Content goes here %>
        </div>
      </div>
    </div>
  </body>
</html> 
```

但在浏览器上它会创建这些东西：

```
body = 100% width, on chrome 1280px
.container = width 1170px
.row = width 1200px
.span12 = width 1170px 
```

澄清一下，这在 twitter bootstrap 上不是问题，这是[twitter-bootstrap-rails上的问题](https://github.com/seyhunak/twitter-bootstrap-rails)

我发现在开发中修复它的方法是使用[gem-open打开](https://github.com/fnando/gem-open)[twitter-bootstrap-rails](https://github.com/seyhunak/twitter-bootstrap-rails) gem并更改文件：注释掉这些行：`/vendor/toolkit/twitter/bootstrap/responsive.less`

```
// LARGE DESKTOP & UP
// ------------------

@media (min-width: 1200px) {

  // Fixed grid
  #grid > .core(70px, 30px);

  // Fluid grid
  #grid > .fluid(5.982905983%, 2.564102564%);

  // Input grid
  #grid > .input(70px, 30px);

  // Thumbnails
  .thumbnails {
    margin-left: -30px;
  }
  .thumbnails > li {
    margin-left: 30px;
  }

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T05:39:46.760

您可以使用包装器，这将为您提供 940 像素的默认大小。

```
<body>
  <div class="container">
    ...
  </div>
</body> 
```

但是，如果您正在寻找自定义宽度，则应在*application.css*中添加一些 css，如下所示：

```
body .container{
  width:980px;
} 
```

在这里查看：[Bootstrap - 布局](http://twitter.github.com/bootstrap/scaffolding.html#gridSystem)

一个不错的布局教程：[使用引导程序填充布局](http://ruby.railstutorial.org/chapters/filling-in-the-layout#top)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T19:00:05.753

在您的响应式媒体查询开始时（在其中任何一个之前），将您的元素设置为具有“最大宽度”

```
body{max-width:1200px;margin:0px auto;} 
```

当您减小浏览器宽度时，您的网站仍会响应，但如果您打开大于 1200 像素（许多不错的宽屏显示器），那么它将保持为 1200 像素的容器。

为了让它在超过 1200 像素时保持居中，请将以下内容添加到同一个容器中

```
body{max-width:1200px;margin:0px auto;} 
```

上面在元素的左侧和右侧添加了“自动”边距，这意味着它变得居中......（0px 只是意味着顶部和底部没有边距，如果你想要/需要，你可以添加一些。

请注意，您不必将所有这些都添加到正文中，但这只是意味着它可以在较高级别上将其排除在外....

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T05:26:35.163

确保用 包裹你的布局`<div class="container">`，这将创建一个居中的固定布局。如果这不起作用，那么您的布局可能有其他问题。如果是这种情况，请使用您的布局 HTML 更新您的问题。

文档：http: [//twitter.github.com/bootstrap/scaffolding.html#layouts](http://twitter.github.com/bootstrap/scaffolding.html#layouts)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T13:57:24.760

显然这是我使用的 twitter-bootstrap gem 版本中的一个错误。

我放弃了那个项目，所以我不能再在那个环境中测试了，在一些我再次尝试 twitter-bootstrap 并且没有再次看到这个错误的新项目中。

所以我猜它已经关闭了。谢谢大家

# ruby-on-rails - 在 Capistrano 部署中，Rails 模型未更新

> ID：11895312
> 
> 赞同：1
> 
> 时间：2012-08-10T04:02:28.960
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, capistrano

好吧，所以我花了相当多的时间来解决这个问题，但仍然无法找出问题所在。

这是怎么回事：我有一个模型reward.rb，它的方法X是这样的：

```
class Reward < ActiveRecord::Base
  def x
    puts "foo" # Method does something...
  end
end 
```

rails 应用程序现在处于生产环境中，正在开发中，如果您这样做的话

```
rails c 
```

接着

```
>> r = Reward.new
>> r.x
"foo" # I.e it works... 
```

现在，如果您进入服务器并执行

```
rails c 
```

接着

```
>> r = Reward.new
>> r.x
NoMethodError: undefined method `x' for #<Reward:0x0000000561fa08> 
```

如果您在同一台服务器中检查reward.rb，您会看到该方法在那里，实际上它是文件中的第一个方法......所以，正如我所见，Rails 在加载控制台时没有加载模型的最新代码...

我认为这可能与 Rails 的缓存有关，但 production.rb 说：

```
MyApp::Application.configure do
  config.cache_classes = false     
  config.action_controller.consider_all_requests_local = false
  config.action_controller.perform_caching             = false
  # SMTP settings and other stuff.. not related to caching...
end 
```

和环境.rb：

```
# Load the rails application
require File.expand_path('../application', __FILE__)

# Initialize the rails application
MyApp::Application.initialize! 
```

和application.rb：

```
module MyApp
  class Application < Rails::Application    
    config.encoding = "utf-8"    
    config.filter_parameters += [:password]
  end
end 
```

所以我的想法已经用完了......该应用程序是使用 capistrano 部署的，我使用的是 Rails 3.0.10。

**更新**

好吧，所以我发现了问题，说实话很傻，app / 中有一个models.bak文件夹，有人创建，在生产中，模型是从那个文件夹中提取的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-15T17:45:14.390

您必须这样做`rails c production`才能运行生产环境。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:29:04.280

您是否在部署服务器上运行过数据库迁移？

您可能需要设置一个 capistrano 配方来执行此操作。我相信过时的数据库架构可能会导致此错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T22:58:24.713

尝试重新启动独角兽或您手动拥有的任何东西。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T10:00:31.783

一个愚蠢的问题：你检查过服务器上的*reward.rb*文件吗？它是正确的（新）版本吗？

# c# - 仅显示 1 个数据的更改标题名称时出现 Gridview 错误

> ID：11895313
> 
> 赞同：0
> 
> 时间：2012-08-10T04:02:29.400
> 
> 标签：c#, asp.net, visual-studio-2008

从上面的标题来看，我的代码在第一次page_load时没有问题，它显示正确，但是在我单击按钮更改语言后，它就消失了（只显示标题）。我花了大约一周的时间来找出答案，但仍然找不到发生了什么。如果可见数据大于 1，则其工作正常。

编辑：忘了把我的页面加载方法

```
 protected void Page_Load(object sender, EventArgs e)
    {
        NoResult.Visible = false;
        Get_Data();
    }

    protected void Get_Data()
    {

        DBCAD.Service1 myCADDB = new DBCAD.Service1();
        myCADDB.UseDefaultCredentials = true;
        string result = "";
        //set web service proxy
        if (!GlobalVariable_CCCNS.filterOrNot)
        {
            //invoke web service method
            result = myCADDB.CallCardStatus_Filter_CCCNSEMBILAN_ALL();
        }
        else
        {
            GlobalVariable_CCCNS.FilterDC = DropDownList1.SelectedValue;
            //invoke web service method
            if (GlobalVariable_CCCNS.FilterDC == "CCC NS ALL")
            {
                result = myCADDB.CallCardStatus_Filter_CCCNSEMBILAN_ALL();
             }
            else
            {                  
                result = myCADDB.CallCardStatus_Filter(GlobalVariable_CCCNS.FilterDC);
            }
        }

        //read the response data and put in xml document
        XmlDocument xmlDoc = new XmlDocument();
        xmlDoc.LoadXml(result);
        string mypath = Server.MapPath(@"Data.xml");

        //XmlTextReader reader = new XmlTextReader ("DBCAD.xml");
        xmlDoc.Save(mypath);

        //set the data set
        DataSet ds = new DataSet();

        ds.ReadXml(mypath);

        //Open hidden column
        CallCardStatus.Columns[0].Visible = true;

        if (ds.Tables.Count > 0)
        {
            //list out the result to Data Grid
            CallCardStatus.DataSource = ds;
            CallCardStatus.DataBind();
        }
        else
        {
            NoResult.Visible = true;
        }

        //Clear Unwanted Column
        CallCardStatus.Columns[0].Visible = false;
  } 
```

这是我的 RowDataBound

```
 string lastRow = "";
    protected void CallCardStatus_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        //Many item with same id but different status, I just want to visible and get the first row for each id.
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            var thisRow = e.Row;

            if (thisRow.Cells[0].Text == lastRow)
            {
                e.Row.Visible = false;
            }
            lastRow = thisRow.Cells[0].Text;
        }
    } 
```

这是我的马来语和英语单选按钮

```
 protected void RadioButtonList1_SelectedIndexChanged(object sender, EventArgs e)
    {
        GlobalVariable_CCCNS.cultureName = RadioButtonList1.SelectedValue.ToString();

        Page.Culture = GlobalVariable_CCCNS.cultureName;
        Page.UICulture = GlobalVariable_CCCNS.cultureName;
        if (GlobalVariable_CCCNS.cultureName == "ms-MY")
        {
            Label2.Visible = false;
            Label2.Text = "Kawalan Status Kad Panggilan";
            Label2.Visible = true;
        }
        else
        {
            Label2.Visible = false;
            Label2.Text = "CallCard Status Monitoring";
            Label2.Visible = true;
        }

        Page_Render();
    }

    protected void Page_Render()
    {
        Page.Culture = GlobalVariable_CCCNS.cultureName;
        Page.UICulture = GlobalVariable_CCCNS.cultureName;
        ALL.Text = GetLocalResourceObject("ALLResource1.Text").ToString();
        Label1.Text = GetLocalResourceObject("Label1Resource1.Text").ToString();
        NoResult.Text = GetLocalResourceObject("NoResultResource1.Text").ToString();

        DBCAD.Service1 myCADDB = new DBCAD.Service1();
        myCADDB.UseDefaultCredentials = true;
        string result = "";
        //set web service proxy
        if (!GlobalVariable_CCCNS.filterOrNot)
        {
            //invoke web service method
            result = myCADDB.CallCardStatus_Filter_CCCNSEMBILAN_ALL();
        }
        else
        {
            GlobalVariable_CCCNS.FilterDC = DropDownList1.SelectedValue;
            //invoke web service method

            if (GlobalVariable_CCCNS.FilterDC == "CCC NS ALL"){
                    result = myCADDB.CallCardStatus_Filter_CCCNSEMBILAN_ALL();
            }else{
                    //invoke web service method
                    result = myCADDB.CallCardStatus_Filter(GlobalVariable_CCCNS.FilterDC);
            }
        }

        //read the response data and put in xml document
        XmlDocument xmlDoc = new XmlDocument();
        xmlDoc.LoadXml(result);
        string mypath = Server.MapPath(@"Data.xml");

        //XmlTextReader reader = new XmlTextReader ("DBCAD.xml");
        xmlDoc.Save(mypath);

        //set the data set
        DataSet ds = new DataSet();

        ds.ReadXml(mypath);
        // CallCardStatus.DataSource = ds;
        //CallCardStatus.DataBind();

        //Open hidden column
        CallCardStatus.Columns[0].Visible = true;

        if (ds.Tables.Count > 0)
        {
            //list out the result to Data Grid
            CallCardStatus.DataSource = ds;
            CallCardStatus.Columns[2].HeaderText = GetLocalResourceObject("ButtonFieldResource1.Text").ToString();
            CallCardStatus.Columns[3].HeaderText = GetLocalResourceObject("BoundFieldResource3.HeaderText").ToString();
            CallCardStatus.Columns[4].HeaderText = GetLocalResourceObject("BoundFieldResource4.HeaderText").ToString();
            CallCardStatus.Columns[5].HeaderText = GetLocalResourceObject("BoundFieldResource5.HeaderText").ToString();
            CallCardStatus.Columns[6].HeaderText = GetLocalResourceObject("BoundFieldResource6.HeaderText").ToString();
            CallCardStatus.Columns[7].HeaderText = GetLocalResourceObject("BoundFieldResource7.HeaderText").ToString();
            CallCardStatus.Columns[8].HeaderText = GetLocalResourceObject("BoundFieldResource8.HeaderText").ToString();
            CallCardStatus.Columns[9].HeaderText = GetLocalResourceObject("BoundFieldResource9.HeaderText").ToString();
            CallCardStatus.DataBind();
        }
        else
        {
            NoResult.Visible = true;
        }

        //Clear Unwanted Column
        CallCardStatus.Columns[0].Visible = false;
     } 
```

任何人都可以帮忙吗？谢谢..Siti..:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:03:45.310

为了稍微清理您的遗留代码，我建议您执行以下操作：（清理代码将帮助您更轻松地发现错误）

### 绑定你的`GridView`

绑定数据绑定控件的最佳实践是在`Page_Load`事件内部：

```
protected void Page_Load(object sender, EventArgs e)
{
     if (!this.IsPostBack)
     {
         // in this method u will bind your GridView
         this.BindGrid();
     }
} 
```

除非我遗漏了什么，否则方法中的代码`Page_Render`用于呈现您的`GridView`，并且该代码在方法中重复`Get_Data`。`GridView`您可以将特定的代码放置在一个方法中以绑定您的内部。

现在您只需要在其内容发生更改时重新绑定您`GridView`的内容，例如，如果您允许您的用户编辑您的`GridView`记录。否则，您不应重新绑定它。（这是真的，只要你的页面有`EnableViewState="true"`）

可以将用于本地化`GridView`列的代码移至`GridVew.DataBound`事件中。或者更好的是，将视图本地化的逻辑委托给您的标记，为此，您可以在`GridView`.

例子：

```
 <asp:GridView runat="server" DataSourceID="lds" ID="gv"
        AutoGenerateColumns="false"
    >
        <Columns>
            <asp:TemplateField>
                <HeaderTemplate>
                    <asp:Label Text="<%$ Resources: your_resource_file_name_without_extension, your resource_key %>" runat="server" />
                </HeaderTemplate>
                <ItemTemplate>
                    <asp:Label ID="a_meaningfull_name" Text='<%# Eval("your_field_name") %>' runat="server" />
                </ItemTemplate>
            </asp:TemplateField>
        </Columns>
    </asp:GridView> 
```

* * *

### 设置页面语言覆盖`Page.InitializeCulture`方法：

注意你只需要在这个方法里面设置`this.UICulture = culture;`和`this.Culture = culture;`

```
protected override void InitializeCulture()
{
    // you have to call Request.Form, because at this point in the page life cycle, the page viewstate has not been loaded yet
    var culture = this.Request.Form["RadioButtonList1"];

    if (!string.IsNullOrWhiteSpace(culture))
    {
        // if the values of your list are culture specific (ie. en-US, es-MX, etc) you can uncomment the following line
        // this.Culture = culture;
        this.UICulture = culture;
        base.InitializeCulture();
    }
} 
```

使用这种方法，您**不需要该`RadioButtonList1_SelectedIndexChanged`事件。**您在此事件中放置的代码将不是必需的。

这段代码：

```
 if (GlobalVariable_CCCNS.cultureName == "ms-MY")
    {
        Label2.Visible = false;
        Label2.Text = "Kawalan Status Kad Panggilan";
        Label2.Visible = true;
    }
    else
    {
        Label2.Visible = false;
        Label2.Text = "CallCard Status Monitoring";
        Label2.Visible = true;
    } 
```

可以使用标记轻松消除：（请注意，您需要为要在应用程序中使用的每种语言创建一个资源文件，[要了解有关 ASP.Net 全球化的更多信息，请单击此处](http://msdn.microsoft.com/en-us/library/c6zyy3s9.aspx)）

**使用全球资源**

```
<!-- Assuming global resources -->
<asp:Label runat="server" ID="Label2" Text="<%$ Resources: your_resource_file_name_without_extension, your_resource_key %>"  /> 
```

您的全局资源文件如下所示：

```
 <data name="your_resource_key" xml:space="preserve">
    <value>your text</value>
  </data> 
```

**使用本地资源**

```
<!-- Assuming local implicit resources -->
<asp:Label runat="server" ID="Label2" meta:resourcekey="base_name_of_your_resource_key" Text="default value used to render the control at design time in VS" /> 
```

在这种情况下，您的本地资源文件如下所示：

```
 <data name="base_name_of_your_resource_key.Text" xml:space="preserve">
    <value>your text</value>
  </data> 
```

**您无需`Page_Render();`在`RadioButtonList1_SelectedIndexChanged`活动中致电**

# android - 在 Android 中找到的 GPS 坐标的准确性

> ID：11895314
> 
> 赞同：1
> 
> 时间：2012-08-10T04:02:39.433
> 
> 标签：android, gps, android-location

我正在开发一个需要不断更新我的 android 手机位置的项目。它工作正常，但是非常不准确。在室内，我获取的位置精度（通过 getAccuracy()）大约为 60（据我所知以米为单位），而我希望精度为（最大）2-3 米。首先，不可能不断地获得（2-3米）的精度吗？如果是，如何？

Follow 是我用来获取用户位置的代码片段。

```
 public boolean getLocation(Context context, LocationResult result)
{
    //I use LocationResult callback class to pass location value from MyLocation to user code.
        locationResult = result;

    if(lm==null)
        lm = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);

    //exceptions will be thrown if provider is not permitted.
    try{gps_enabled=lm.isProviderEnabled(LocationManager.GPS_PROVIDER);}catch(Exception ex){}
    try{network_enabled=lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER);}catch(Exception ex){}

    //don't start listeners if no provider is enabled
    if(!gps_enabled && !network_enabled)
        return false;

    if(gps_enabled)
        lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListenerGps);
    if(network_enabled)
        lm.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListenerNetwork);
    timer1=new Timer();
    timer1.schedule(new GetLastLocation(), 10000);
    return true;
} 
```

我还遇到了另一个问题，我的设备一直放置在静态位置，获取的两个连续 GPS 位置之间的距离非常不可靠，它从 0.0 米变为 16 米，这意味着我的设备一直在移动。

如果你们中的任何人对此有任何想法，最好如何达到准确性，请帮助我。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T04:12:39.017

除了使用 mintime 和 mindistance 之外，您还可以通过传入 Criteria 对象来获得更好的结果

```
ACCURACY_FINE
POWER_HIGH 
```

您的个人电话和物理环境显然会影响读数。您可能会总体上获得更好的结果，允许系统通过不使用以下调用和标准指定确切的位置提供者来为您完成一些工作。

[http://developer.android.com/reference/android/location/LocationManager.html#requestLocationUpdates(long](http://developer.android.com/reference/android/location/LocationManager.html#requestLocationUpdates(long) , float, android.location.Criteria, android.location.LocationListener, android.os.Looper)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T04:41:24.950

在 Pork 的回答的基础上，如果您对更新频率很灵活，则可以在上面介绍的情况下（具有可变精度的样本）稍微减少方差。假设您将所需的频率定义为 0.1 hz（每 10 秒更新一次），然后您可以通过仅对最近 10 秒的样本集中的“最佳”位置进行操作来过滤您的位置更新。确定“最佳”的一种简单方法可能是从具有最高准确度等级的集合中返回样本。如果有多个具有相同准确度等级的样本，则返回最新的。您可以做的另一件事是将给定集合中的所有样本平均在一起，或者仅以相同的精度对所有样本进行平均。由于 GPS 误差的几何性质，这不会提高整体精度，但会减少方差；您将通过增加最小错误来减少最大错误。在设备移动的情况下，您还会引入一些滞后效应，这可能会或可能不会成为问题，具体取决于您的应用程序。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T04:53:23.350

在室内使用 GPS 基本上不可能得到 2-3m 的精度。

GPS 需要一条相当清晰的卫星站点线，因此在室内越远，它的准确度就越低。

为了确定您在室内的位置，Android 将尝试使用 GPS，然后使用周围 WIFI 接入点的已知位置进行三角测量，然后进行蜂窝塔三角测量。它可能结合了这 3 个以提供更准确的猜测。

要真正准确地确定室内位置，您需要在 Google 已知的位置拥有相当多的 WIFI 接入点。我很确定这就是他们做室内购物中心导航的方式。

您可以用来提高准确性（或排除不准确读数）的其他技巧可能是从加速度计（或陀螺仪等）读取数据，并使用这些读数来尝试确定设备何时不移动或速率它正朝着某个方向发展。任何使用这些技术的东西都可能很难实现。

# ruby-on-rails - ruby on rails中的after_save错误

> ID：11895315
> 
> 赞同：2
> 
> 时间：2012-08-10T04:02:39.037
> 
> 标签：ruby-on-rails, ruby-on-rails-3, activerecord, model

我有两个相互链接的模型，我正在尝试进行 after_save，在模型中创建，代码如下。

```
class CustomerBill < ActiveRecord::Base
  after_save :updating_and_creating_ledger_items
  has_many :customer_ledgers, :dependent => :destroy

  def updating_and_creating_ledger_items
    CustomerLedger.create(:date => self.date, :customer_id => self.customer_id, :user_id => self.user_id)
  end
end 
```

客户账本模型

```
class CustomerLedger < ActiveRecord::Base
  belongs_to :customer_bill,  :foreign_key => "customer_bill_id"
end 
```

现在的问题是程序执行完美，但值没有放入数据库中。如果我检查客户分类帐，它仍然是空的。

这些值没有被存储。似乎是什么问题？对此事的指导会有所帮助。

提前致谢。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T04:41:02.200

添加

```
 validates_associated :customer_ledgers 
```

在 customer_bill.rb 中

尝试

```
ledger = customer_ledgers.build(:date => self.date, :customer_id => self.customer_id, :user_id => self.user_id)
ledger.save 
```

编辑以避免验证，使用

```
ledger = customer_ledgers.build(:date => self.date, :customer_id => self.customer_id, :user_id => self.user_id)
ledger.save(:validate => false) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T14:19:47.653

`CustomerLedger`可能未通过验证检查。代替：

```
def updating_and_creating_ledger_items
  CustomerLedger.create(:date => self.date, :customer_id => self.customer_id, :user_id => self.user_id)
end 
```

和：

```
def updating_and_creating_ledger_items
  ledger = customer_ledgers.build(:date => self.date, :customer_id => self.customer_id, :user_id => self.user_id)
  ledger.save(:validate => false)
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T04:13:41.217

您没有将 ,`customer_bill_id`中的设置`create`更改`create`为`build`：

```
customer_ledger.build(:date => self.date, :customer_id => self.customer_id, :user_id => self.user_id) 
```

# system.reactive - 检查 AsyncSubject 是否未触发

> ID：11895319
> 
> 赞同：0
> 
> 时间：2012-08-10T04:03:11.780
> 
> 标签：system.reactive

```
AsycSubject<Unit>() sub;
// stuff
if(!sub.HasFired())
  // Do stuff 
```

目前最好的尝试是：

```
public static bool HasFired<T>(this AsyncSubject<T> sub)
{
    AsyncSubject<bool> ret = new AsyncSubject<bool>();
    sub.Timeout(TimeSpan.FromMilliseconds(20))
        .Subscribe(_ =>
            {
                ret.OnNext(true);
                ret.OnCompleted();
            },
            ex => 
            {
                ret.OnNext(false);
                ret.OnCompleted();
            });
    return ret.First();
} 
```

但是感觉很丑很长。我怀疑我错过了一些简单的东西。有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T06:49:38.313

环绕现有`AsyncSubject`状态并添加所需状态更容易。

```
public class AsyncSubjectEx<T> : ISubject<T>, IDisposable
{
    AsyncSubject<T> Subject = new AsyncSubject<T>();

    public bool HasValue { get; protected set; }

    public object Gate = new object();

    public void OnCompleted()
    {
        Subject.OnCompleted();
    }

    public void OnError(Exception error)
    {
        Subject.OnError(error);
    }

    public void OnNext(T value)
    {
        lock (Gate)
        {
            Subject.OnNext(value);
            HasValue = true;
        }
    }

    public IDisposable Subscribe(IObserver<T> observer)
    {
        lock (Gate)
            return Subject.Subscribe(observer);
    }

    public void Dispose()
    {
        Subject.Dispose();
    }
} 
```

具有讽刺意味的是，原件`AsyncSubject`经过反思表明有一个`hasValue`场，但它并没有被暴露出来。考虑将此报告给 Rx 团队 - 有时可能会有用。

# multithreading - 测试多线程 UDP 服务器 (Java)

> ID：11895322
> 
> 赞同：0
> 
> 时间：2012-08-10T04:03:27.137
> 
> 标签：multithreading, testing, udp

我正在实现一个多线程 UDP 客户端-服务器字典。我想我已经正确实现了它，但我不知道如何正确测试它。如果有人有时间，您能快速看一下我的代码吗？

*这就是我通常运行程序的方式：*

```
java DictServer <port> <dictionary file name>
java DictClient localhost <port> <word to search> 
```

*这是服务器的输出（客户端在这里运行了 3 次）：*

```
Server Started
Number of threads active: 1
Number of threads active: 2
Number of threads active: 3
Number of threads active: 4
Number of threads active: 5
Thread-0 just run.
Number of threads active: 5
Thread-1 just run.
Number of threads active: 5
Thread-3 just run.
Number of threads active: 5 
```

如您所见，输出看起来不错。我将线程数保持在最大值 (5)，因为它是一个“工作池模型”。然而，在 UDP 中，没有“活动连接”，只有发送和接收的数据包。一旦客户端得到它的数据包，线程就关闭了。这发生得非常快，所以我实际上无法同时测试多个客户端连接。有什么建议么？

我还使用 setter 来更新线程数。但是我使用
“DictServer.decNumThreads()”调用它，这很糟糕吗？

*我的代码：*

服务器类：

```
public class DictServer {

private static int threads = 0;

public static void main(String args[]) throws IOException {

    // Connection Parameters
    DatagramSocket socket = null;
    int maxThreads = 5;             // Max threads at any time

    // Retrieve user input
    int serverPort = Integer.parseInt(args[0]);     // Convert string to int
    String dictionaryFile = args[1];

    try {
        // Setup socket
        socket = new DatagramSocket(serverPort);
        System.out.println("Server Started");

        while(true) {
            if(threads < maxThreads) {
                ServerThread server = new ServerThread(socket, dictionaryFile);
                new Thread(server).start();
                threads++;
                System.out.println("Number of threads active: " + threads);
            }               
        }
    }
    catch (Exception e) {
        System.out.println("Error: " + e.getMessage());
    }
    finally {
        if(socket != null) 
            socket.close();
    }
}

// Setter for number of active threads
public static void decNumThreads() {
    threads--;
}
} 
```

线程类：

```
public class ServerThread implements Runnable {

private DatagramSocket socket = null;
private String dictionaryFile;

// Constructor
public ServerThread(DatagramSocket socket, String dictionaryFile) {
    this.socket = socket;
    this.dictionaryFile = dictionaryFile;
}

@Override
public void run() { 

    byte[] word = new byte[1000];
    byte[] definition = new byte[1000];

    try {
        // Get client request
        DatagramPacket request = new DatagramPacket(word, word.length);
        socket.receive(request);

        // Retrieve definition from dictionary file
        if(word != null) 
            definition = getDefinition(new String(word), dictionaryFile);

        // Put reply into packet, send packet to client
        DatagramPacket reply = new DatagramPacket(definition, definition.length, request.getAddress(), request.getPort());
        socket.send(reply);

    }
    catch (Exception e) {
        System.out.println("Error: " + e.getMessage());
    }

    System.out.println(Thread.currentThread().getName() + " just run.");
    DictServer.decNumThreads();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T10:04:06.207

您`while (true)`创建线程的第一个循环是徒劳的。一旦达到启动的最大线程数，它就会以 100% 的使用率坐在那里燃烧 CPU。

# javascript - 如何使用javascript的正则表达式匹配第二个数字？

> ID：11895325
> 
> 赞同：0
> 
> 时间：2012-08-10T04:03:42.240
> 
> 标签：javascript, regex

这是我的字符串。

```
var id = "timesheet_entries_attributes_0_entry_overtimes_attributes_0_code_id" 
```

问题是我想用另一个数字替换最后一个零。

零的位置总是变化的。但是字符串中只有两个零。而且他们不能在一起。

如 ：

变数=“2”；("timesheet_entries_attributes_0_entry_overtimes_attributes_0_code_id").replace(/\d/,num);

但它总是替换第一个零。

所以！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T04:54:27.450

```
id.replace (/(\d+)(?=\D+$)/, '2') 
```

此版本替换字符串中的最后一个数字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:08:20.303

只是另一种解决方法：

```
var id = "timesheet_entries_attributes_0_entry_overtimes_attributes_0_code_id",
    matchIndex = 1,
    replace = 300,
    count = -1;

id = id.replace(/\d+/g, function(number) {
    count++;
    return (count == matchIndex) ? replace : number;
}); 
```

[**演示**](http://jsfiddle.net/ricardolohmann/eMgy6/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T04:08:51.640

```
var id = "timesheet_entries_attributes_0_entry_overtimes_attributes_0_code_id";
var num_replace = 5;
id = id.replace(/(\d+.*)\d+/, "$1"+num_replace); 
```

# android - Android 我们可以在一项活动中检查视图的可见性吗

> ID：11895327
> 
> 赞同：0
> 
> 时间：2012-08-10T04:03:51.133
> 
> 标签：android

> **可能重复：**
> [如何检查视图在 Android 中是否可见？](https://stackoverflow.com/questions/3791607/how-can-i-check-if-a-view-is-visible-or-not-in-android)

我们可以将可见性设置`VISIBLE`为`GONE`和`INVISIBLE`。
但是，我们是否可以检查此类活动中的可见性，以便我们可以知道哪个视图已消失或哪个视图可见？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T04:07:52.700

```
you're looking for:

if (myImageView.getVisibility() == View.VISIBLE) 
{
    // Its visible
} 
else 
{
    // Either gone or invisible
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T04:06:38.393

你可以检查使用`yourView.getVisibility();`你也可以使用`isShown();`

一个区别是，`isShown();`如果此视图及其所有祖先都存在，则返回 true，`VISIBLE`并`getVisibility();`返回 VISIBLE、INVISIBLE 或 GONE 之一。

希望有帮助。

[安卓参考](http://developer.android.com/reference/android/view/View.html#getVisibility%28%29)。

# objective-c - 在终端应用程序中，我无法获取要捕获的 QTCaptureSession

> ID：11895328
> 
> 赞同：0
> 
> 时间：2012-08-10T04:03:54.557
> 
> 标签：objective-c, macos, qtkit

我有一个终端应用程序需要拍摄网络摄像头照片，然后对其进行一些处理。我无法让它初始化。[在使用 QTKit 的 Apple 文档中有一个名为MyRecorder](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/QTKitApplicationTutorial/BuildingaSimpleQTKitCaptureApplication/BuildingaSimpleQTKitCaptureApplication.html)的应用程序的相当完整的演示，我能够使其正常工作。我还能够对其进行修改以获取单个帧而不是流。

当我将其移至终端应用程序时，`startRunning`QTCaptureSession 命令根本不执行任何操作。没有错误，一切都报告为成功，但我的网络摄像头没有亮起，也没有捕获任何帧。

知道这里发生了什么吗？是否有任何类型的安全限制或其他类型的限制会阻止 QTCaptureSession 工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T12:59:25.717

所以切换到 AVFoundation 解决了我的问题。我仍然不确定问题是什么，但现在使用 AVFoundation 似乎是可行的方法，因为它旨在取代 QtKit。

# android - 在 Android ContentProvider 中加入表格和通知 ContentObserver 的最佳实践

> ID：11895329
> 
> 赞同：15
> 
> 时间：2012-08-10T04:04:02.353
> 
> 标签：android, sqlite, android-contentprovider

我有一个 ContentProvider 来处理与我的应用程序相关的所有数据插入和检索，我遵循 Virgil Dobjanschi 在 Google I/O 上建议的模式。我正在使用第一种模式。

我的问题是我有一个由数据库中的多个表表示的逻辑实体。

例如，我有一个 Articles 表和一个 ArticleExtras 表。Articles 代表文章本身，而 ArticleExtras 代表有关特定文章的附加信息，例如评论数。

我在 UI 中使用 CursorAdapter 在 ListView 的一行中显示文章标题和该文章的评论数。

为了实现这一点，我`left outer join ArticleExtras on`在我的 ContentProvider 查询方法中为 Article 表添加了一条语句，以便 CursorAdapter 获取 ArticleExtras 以及 Article 本身。

当从 Web 获取新文章时，我通​​过 ContentProvider 将其插入数据库，然后通知 CursorAdapter 并更新 UI，这部分按预期工作。

但是当我获取评论的数量 (ArticleExtras) 时，我希望同样的 CursorAdapter 也`content://com.myapp.content/Articles`收到通知，它正在监视 , 中的变化，因此我可以更新我在 ListView 中的行。

我当前的实现是这样的：在将 ArticleExtras 插入数据库之后，我开始一个新的查询来检查 Articles 表是否有任何与我刚刚插入的 ArticleExtras 相关的行。如果是这样，我将为那篇文章创建一个新的 uri（例如：） `content://com.myapp.cotent/Articles/123`，然后调用`getContext().getContentResolver().notifyChange(uri, null)`，因此正在监视这篇文章的更改的相应 CursorAdapter 将得到通知。

该方法是否正确，还是有更好的方法来实现我想要的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-04-21T14:56:24.407

签出[ContactsProvider2](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android-apps/4.0.1_r1/com/android/providers/contacts/ContactsProvider2.java)，他们在`AUTHORITY_URI`其中将通知 uri 设置为似乎是提供程序中其他 URI 的全部内容。我有同样的问题，我自己尝试过这个提供多个表并在这些表上连接的提供者，它工作正常。

# solr - 在远程主机中执行 Solr 需要哪些文件以及如何配置安全性（权限等）？

> ID：11895331
> 
> 赞同：0
> 
> 时间：2012-08-10T04:04:07.940
> 
> 标签：solr

我在本地主机上有一个数据库（mysql）。我使用 Solr 进行索引和查询，效果很好。现在我想将 Solr 索引放在远程主机上。我知道我必须拥有运行 java 和 ssh 访问权限。但我必须承认，即使我可以让 Solr 工作，我也不能很好地理解 Solr 的每个文件。所以我想知道的是哪些文件是使 Solr 索引工作以进行查询所必需的？数据文件？是的，但还有什么？我应该如何配置权限？只读？执行？还有……我想我必须注意另一个安全项目。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:56:40.810

通常您必须至少安装一个 web 容器（例如 Tomcat 或 Jetty）并将 solr-[version].war 文件部署到它上面。出于安全原因，您可以在此 Web 容器的配置中通过 Web 界面限制对服务器的访问。

在 solr 之下需要一个主目录，Solr 在其中存储其索引和配置。我认为这必须具有 rw 权限，因为 Solr 在导入时更改索引并维护索引使用信息。

# mustache - 如何使用 mustache 模板创建 html 页面？

> ID：11895335
> 
> 赞同：0
> 
> 时间：2012-08-10T04:04:47.140
> 
> 标签：mustache

我对使用 mustache 做模板很感兴趣。我读过这个： http: [//mustache.github.com/mustache.5.html](http://mustache.github.com/mustache.5.html)。

有一个小胡子模板和一个哈希码，我的问题是：

1.  我们是否在两个不同的文件上编写代码？如果是，在哈希码上，我们使用什么扩展文件来保存？
2.  如何生成 .html 文件？我的意思是输出应该在 .html 文件上，那么我怎样才能产生输出呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T04:30:38.647

您可以这样做，将所有内容保存在一个 html 文件中是迄今为止最简单的，因为您没有使用 ajax，或者需要将文件带入，mustache 本身没有任何实用程序可以从 html 中读取数据文件它只接受一个字符串并吐出该字符串的渲染版本，但是如果您使用使用 mustache 模板语法的[icanhazjs](http://icanhazjs.com/)，它将允许您在包含模板的 html 中创建脚本标签，然后您可以像这样调用它们`ich.my_template(obj)`（网站上的更多信息），默认情况下它将返回一个 jquery 或 zepto 对象，或者返回一个字符串。

希望这可以帮助。如果您需要更多帮助，请随时问我！

# java - 从 mysql 数据库中加载下拉列表中的值

> ID：11895337
> 
> 赞同：0
> 
> 时间：2012-08-10T04:05:29.217
> 
> 标签：java, jsp

我正在尝试在 jsp 的下拉列表中加载 mysql 数据库中的值。运行时我遇到了一些异常。谁能帮我解决这个问题。我使用 Department bean 和 adddepartment.jsp 文件作为演示层。

```
<form action="LoginServlet" method="POST" id="theform" name="theform">
                    <table cellspacing="20" cellpading="10">
                        <tr>
                            <td>Department Id:</td>
                            <td><input type="text" name="departmentId" id="userName"/></td>
                        </tr>
                        <tr>
                            <td>Department Name:</td>
                            <td><input type="password" name="departmentName" id="password"/></td>
                        </tr>
                        <tr>
                            <td>Department Name:</td>
                            <td><input type="password" name="departmentName" id="password"/></td>
                        </tr>
                        <tr>
                            <td>Department Head ID:</td>
                            <td><select name="departmentHeadId" style="width: 158px"> <option value="0">Select Department Head</option>
                                    <%
                            //if(request.getParameter("btnvew")!=null)

                         {
                           String val="";
                            Department dp=new Department();
                            ResultSet rs=dp.addHeadId();
                            while(rs.next())
                                {
                                 val=rs.getString(1);
                                %>

                                  <option value="<%= val%>"><%= val%></option>
                                  <%
                                }
                            }
                           %>

                        </select></td>
                        </tr>
                        <tr>
                            <td>Appointed Date:</td>
                            <td><input id="example6" type="text"></td>
                        </tr>
                        <tr>
                            <td><input type="submit" value="Login"/></td>
                        </tr>

                    </table> 
```

```
org.apache.jasper.JasperException: An exception occurred processing JSP page /AddDepartment.jsp at line 52

49:                        String val="";
50:                         Department dp=new Department();
51:                         ResultSet rs=dp.addHeadId();
52:                         while(rs.next())
53:                             {
54:                              val=rs.getString(1);
55:  
Stacktrace:] with root cause
java.lang.NullPointerException
    at org.apache.jsp.AddDepartment_jsp._jspService(AddDepartment_jsp.java:170)
    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:565)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722) 
```

* * *

```
public class Department {

    private Connection con;

    public ResultSet addHeadId() throws SQLException {

        ResultSet rs;
        String query = "select * from department_heads";
        Statement stmt = con.createStatement();
        rs = stmt.executeQuery(query);

        return rs;

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T04:18:39.370

您的 Department#addHeadId() 似乎返回 'null' 作为结果，因为发生 NullPointerException 的行是

```
while(rs.next()) 
```

请尝试调试 addHeadId() 方法。Acutally Statement#executeQuery(String) 被明确指定为永远不会返回'null'，所以错误看起来很奇怪。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:57:52.327

在您的 addHeadId() 方法中，未创建连接实例。试试这个样本；

```
 public ResultSet addHeadId() throws SQLException {

     try {
        Connection con = DriverManager.getConnection(url,username,password);
        ResultSet rs;
        String query = "select * from department_heads";
        Statement stmt = con.createStatement();
        rs = stmt.executeQuery(query);
     } catch (Exception e) {
         e.printStackTrace();
     }
     return rs;

} 
```

不要忘记实例化 url、用户名和密码。

# javascript - JSLint 错误 - XML 序列化程序

> ID：11895348
> 
> 赞同：0
> 
> 时间：2012-08-10T04:06:40.593
> 
> 标签：javascript, xmlserializer, jslint

该代码工作正常，但是当我使用 JSLint 进行验证时，它给了我以下错误

```
var serializer = new XMLSerializer(); 
```

JSLint 错误：在定义之前使用了 XMLSerializer。

```
var serializer = window.XMLSerializer(); 
```

上面的代码在 IE 和 Firefox 中运行良好，并且不会抛出 JSLint 错误。但它在 Chrome 中不起作用。功能如下：

```
this.XMLtoString = function (elem) {

        var serialized;
        try { 
            var serializer = window.XMLSerializer();
            serialized = serializer.serializeToString(elem);
        }
        catch (e) {
            //Internet Explorer has a different approach to serializing XML
            serialized = elem.xml;
        }

        return serialized;
    }; 
```

我还尝试在函数上方添加以下行。它没有帮助 /* global XMLSerializer */

请帮助编写一个使用 XMLSerializer 且没有 JSLint 错误且适用于所有浏览器的函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:06:27.897

如果您使用，它在 Chrome 中对我有用：

```
var serializer = window.XMLSerializer(); 
```

或者，您可以使用原始`new XMLSerializer();`代码，然后将此指令放在文件顶部：

```
/*global XMLSerializer */ 
```

和之间不能有*空格*（人们说 JSLint 很挑剔，这不是在开玩笑！）。`/*``global`

# java - Oauth：在哪里获取 AuthorizationCodeFlow 的 userId。createAndStoreCredential?

> ID：11895349
> 
> 赞同：2
> 
> 时间：2012-08-10T04:06:40.760
> 
> 标签：java, google-app-engine, oauth-2.0, credentials

我在谷歌应用程序项目上工作，并且在使用 java oauth 库（1.10.1-beta）时遇到了一些困难。

我密切关注：[http ://code.google.com/p/google-oauth-java-client/wiki/OAuth2#Authorization_code_flow](http://code.google.com/p/google-oauth-java-client/wiki/OAuth2#Authorization_code_flow)

问题是我不知道应该从哪里获取 userId 或 userEmail。我知道有 userinfo API，但我实际上是在尝试创建凭据，所以我无法访问 userinfo API AFIAK。

我的应用程序在 localhost 上运行良好（因为 test@example.com 用户总是在那里），但在 google 引擎环境中部署时失败了（NullPointerException user.getUserId()）。

```
// we ask for token because we got authCode
GoogleTokenResponse gTokenResponse = userUtils.getFlow().newTokenRequest(authCode).setRedirectUri(userUtils.getRedirectUri()).execute();

//trying to search for user email / id /  whatever
User user = UserServiceFactory.getUserService().getCurrentUser();

//user is null -> nullPointerException is thrown 
userUtils.getFlow().createAndStoreCredential(gTokenResponse, user.getUserId()); 
```

您能否指出我的用例中的一个缺陷或给我一个提示？我在 SDK 示例、Stackoverflow 和这里搜索了很多，但实现的并不多。

PS：在[AuthorizationCodeFlow.createAndStoreCredential](http://code.google.com/p/google-oauth-java-client/source/browse/google-oauth-client/src/main/java/com/google/api/client/auth/oauth2/AuthorizationCodeFlow.java?name=1.10.1-beta) (...) 方法中，只有当您为凭据使用持久存储并且是的我正在使用它时，userId 才是强制性的，所以在我的情况下，userId 不能为空。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T09:23:09.807

在识别用户（身份验证）之前，您正在执行 OAUTH（授权）。当他未登录时，您必须将用户重定向到登录页面：

```
UserServiceFactory.getUserService().getCurrentUser() == null 
```

您可以通过将用户重定向到 loginUrl 来做到这一点：

```
String loginUrl = userService.createLoginURL(request.getOriginalRef().toString()); 
```

下次用户到达您的应用时，他将登录，您可以询问 userId。

# android - 如何在 Android 的子活动中获取服务引用

> ID：11895350
> 
> 赞同：1
> 
> 时间：2012-08-10T04:06:52.707
> 
> 标签：android, binding, service, android-intent

如何在子活动中获取服务参考。

基本上我在activity1中启动了一个名为“A”的服务，我将意图传递给activity2并启动了activity2。如何在活动 2 中获取我的服务“A”的引用。

Activity1 中的代码：

```
getApplicationContext().bindService(new Intent (this, AndroidUpnpServiceImpl.class), serviceConnection, Context.BIND_AUTO_CREATE); 
```

它将启动服务并将服务绑定到 serviceConnection

现在我想在activity2中引用相同的服务

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-25T07:37:09.563

看起来你可以简单地在你的activity2中调用bindService；服务是单例，因此不会产生另一个服务对象，但您将连接到现有的服务对象。

检查有关此主题的[讨论。](https://groups.google.com/forum/?fromgroups=#!topic/android-developers/qv-z0HM5afo)

# ajax - 使用带有自动请求的jquery ajax有什么效果？

> ID：11895358
> 
> 赞同：0
> 
> 时间：2012-08-10T04:08:19.067
> 
> 标签：ajax, http, jquery, httprequest

我有使用 jquery ajax 的自动请求，我正在使用这个功能来检测新的聊天消息和通知案例。有时我又在想如果客户端自动请求没有完成会有什么影响，

我担心我的服务器已关闭，因为我认为这就像 DDOS HTTP 限制。

这是我的代码

```
 $(function(){
         initChat();
    });

    /* 
     * initialize chat system
     */
    function initChat() {
        setTimeout("notifChat()" ,2000);    
    }

    function notifChat() {
        $.ajax({
            url: '/url',
            type:"GET",
            data: {id:$("#id").val()},
            success:function (data,msg) {
                //to do success

            }
        });
        setTimeout("notifChat()" ,2000);
    } 
```

我的问题是

1.  是否可以关闭服务器或使服务器挂起？
2.  如果不是更好的主意，有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:39:09.977

注意：这不是生产就绪代码，我没有测试过。

这段代码的几个星期：

它不处理两个http连接限制

强项：

它可以判断服务器是否返回错误（如服务器错误 404,403,402 ....）

```
var failed_requests = 0;
var max = 15;

$(function(){

     initChat();
});

/* 
 * initialize chat system
 */
function initChat()
{
     setTimeout(
             function() 
             {
                notifChat(); 
             }, 2000)
}

function notifChat() {
    $.ajax({
        url: '/url',
        type:"GET",
        data: {id:$("#id").val()},
        success:function (data,msg) 
        {
            //to do success

        },
        complete: function()
        {

            // either call the function again, or do whatever else you want.

        },
        error: function(XMLHttpRequest, textStatus, errorThrown)
        {   
            failed_requests = failed_requests + 1;

            if(failed_requests  < max)
            {
                setTimeout(
                         function() 
                         {
                            notifChat();
                         }, 2000)
            }
            else
            {  
                alert('We messed up');
            }

        }

    });

} 
```

# asp.net-mvc - 错误：键不能为空。参数名称：key

> ID：11895360
> 
> 赞同：0
> 
> 时间：2012-08-10T04:08:19.963
> 
> 标签：asp.net-mvc, asp.net-mvc-3, web-config

**已解决**：该方法`public override string[] GetRolesForUser(string username)`错误地将 null 作为数组的第一项返回。现在一切都好。

我正在尝试为我的应用程序实现自定义角色和成员资格提供程序，但对角色提供程序没有运气。在我的控制器的一种方法中，如果我有`[Authorize]`指令，它工作正常，但是当我想通过添加`[Authorize(Roles = "Admin")]`它来获得基于角色的授权时，会给出一个错误，提示*“密钥不能为空。参数名称：key'* 。

我认为**web.config**文件中的整体有问题，但找不到它是什么。web.config 文件中修改后的条目如下所示

```
<membership defaultProvider="CustomMembershipProvider">
      <providers>
        <clear />
        <add name="CustomMembershipProvider" type="eLibrary.Models.CustomMembershipProvider" connectionStringName="AppDb" enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false" maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10" applicationName="/" />
      </providers>
    </membership>
    <roleManager defaultProvider="CustomRoleProvider" enabled="true" cacheRolesInCookie="true" >
      <providers>
        <clear/>
        <add name="CustomRoleProvider" type="eLibrary.Models.CustomRoleProvider" />
      </providers>
    </roleManager> 
```

如果有人能点亮一些灯，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-27T05:27:27.943

**已解决**：方法 public override string[] GetRolesForUser(string username) 错误地返回 null 作为数组的第一项。现在一切都好。

# c++ - 模板中的依赖名称和非依赖名称

> ID：11895361
> 
> 赞同：1
> 
> 时间：2012-08-10T04:08:34.963
> 
> 标签：c++, templates, gcc

**代码：**

```
template <class T>
void f(){
T::iterator a; // will work using Gcc if we add typename
//...
} 
```

上面的代码使用 MSVC++ 可以工作，使用 gcc 不能工作，因为 MSVC++ 会延迟解析。
我知道模板定义时的编译器只会对非依赖名称执行查找，并且由于`T::iterator`显然依赖于 T，为什么查找发生在模板定义时？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T04:16:15.673

它没有。在实例化时查找从属名称。在定义时，它只检查依赖名称的语法错误等。typename 关键字用于帮助编译器解析表达式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:31:58.457

关键字的目的`typename`是允许编译器延迟查找。因此，它仅在模板定义时*不发生查找的上下文中使用。*

查找将解析名称是类型还是对象，这是检查模板定义的语法所必需的。`typename`明确指定这一点。如果没有`typename`关键字，则出于语法目的，编译器假定它是一个对象。

当且仅当`typename`应用于从属名称时，实例化时的查找必须找到一个类型。

# javascript - 动画路径问题

> ID：11895365
> 
> 赞同：0
> 
> 时间：2012-08-10T04:08:58.987
> 
> 标签：javascript, raphael

如何让我的对象到达动画路径的末尾？我正在做一个基本的乒乓球比赛，但如果球错过了球拍，球会提前停止，它应该到达路径的尽头。这是我的代码：

```
 <!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf8">
    <title> Rapahel test </title>

    <script type="text/javascript" src="raphael.js">
    </script>
</head>

<body>
     <script type="text/javascript">
     //create the canvas, which all the shapes are on
     var paper = Raphael(0,0,500,500);

     ballpath = '';
     ballNum = 0;

     //the paths the ball will follow, one at a time, starting from 0\. which is the first in an array.
     paths = ["M480, 180L35, 180", "M35, 180L480, 325", "M480, 325L35, 110", "M35, 110L480, 50", "M480, 50L35, 340",  "M35, 340L480, 340", "M480, 340L35, 200", "M35, 200L35, 200"];
     Raphael(function () {

            ballpath = paper.path(paths[ballNum]).attr({stroke: "#0000ff", opacity: .3, "stroke-width": 1});
            var ball = paper.circle(0, 0, 5).attr("fill", "rgba(255, 0, 0, 1)");

            //the length variable (and arribute)
            var len = ballpath.getTotalLength();

            ball.onAnimation(function () {
                var t = this.attr("transform");
            });

            paper.customAttributes.along = function (v) {
                var point = ballpath.getPointAtLength(v * len);
                return {
                    transform: "t" + [point.x, point.y] + "r" + point.alpha
                };
            };

            ball.attr({along: 0});

            //the variable rotateAlongThePath is true
            var rotateAlongThePath = true;

            //th function that actually makes the ball move
            function run() {
                //the path which the wall will follow
                wallpath = paper.path("M480, 180L480, 380, M480, 380L480, 60, M480, 60L480, 340").attr({stroke: "#0000ff", opacity: .3, "stroke-width": 1});
                    //create a rectangle
                   var wall2 = paper.rect(0 - 50, 0 - 9, 100, 20).attr("fill", "rgba(0, 0, 255, 1)");

                  //the length variable (and arribute)
                  var wallLen = wallpath.getTotalLength();
                  //not sure aout these commands, they are to do with animation paths
                  wall2.onAnimation(function () {
                    var t = this.attr("transform");
                });

                paper.customAttributes.along2 = function (v2) {
                    var point2 = wallpath.getPointAtLength(v2 * wallLen);
                    return {
                        transform: "t" + [point2.x, point2.y] + "r" + point2.alpha
                    };
                };
                    //set the wall's movemnt to 0
                    wall2.attr({along2: 0});

                    var collision = function(){

                        //find the paddle's height and width, the ball's center point, and AI Paddle's x position
                        var paddleheight = Math.round(paddle.getBBox().y + paddle.getBBox().height / 2);
                        var paddleWidth = Math.round(paddle.getBBox().x + paddle.getBBox().width / 2);
                        var ballcenterpoint = Math.round(ball.getBBox().y + ball.getBBox().height / 2);
                        var AIpaddle = Math.round(wall2.getBBox().x + wall2.getBBox().width / 2);

                        //the height from the center point of the paddle to the edge (heigh variance), finding the height of the  top edge of the boundingbox (where the ball will colide with) by adding the centerpoint and height variance. finding the bottom edge by subtracting the centerpoint from the bounding box. 
                        var heightvariance = pHeight;
                        var heightPlusboundingbox = paddleheight + heightvariance;
                        var heightMinusboundingbox = paddleheight - heightvariance;

                        //if the edge of the box is less than or equal to the center of the ball.

                        var balledge = Math.round(ball.getBBox().x + (ball.getBBox().width / 2) + 22);

                        //continue ballbounce is used for the if below; it equals: if the ball center is largerthan or equal to the height of the paddle minus its bounding box AND the center point is equal to or less than the height of the paddle plus the bounding box AND the center is equal to or greater than the width (extending the detected edge ofthe box by a few pixels so as to fix some collision problems) the if below will work. 

                        console.log('Ball X: ', balledge);
                        console.log('AI X: ', AIpaddle);

                        console.log(balledge);
                        console.log(AIpaddle);

                        //the if
                        if(ballcenterpoint >= heightMinusboundingbox && ballcenterpoint <= heightPlusboundingbox || balledge >= AIpaddle){
                                //if the ball number is less than or equal to 6 it will increase theball number by one an change the ballpath to one in the array called paths[ballNum], the ball will then begin at the beginning of that path and be animated along it
                                if(ballNum <= 6){
                                    ballNum++
                                    ballpath = paper.path(paths[ballNum]).attr({stroke: "#0000ff", opacity: .3, "stroke-width": 1});
                                    ball.attr({along: 0});
                                    ball.animate({along: 1}, 2500, onanimationdone);
                                }
                                //if the ballNum is greater than 6 it will remove the ball (fixin the error of an infinite loop of theball just sitting the corner acting all boring and doing nothing)
                        }
                        else {
                           // ball.remove(); //- YOU LOSE
                        };
                    };

                    //animates the wall
                    wall2.animate({along2: 1}, 16200,  function () {
                });

                    //loops through all the ball paths
                    var onanimationdone = function () {
                            collision();
                    };

                    ball.animate({along: 1}, 2500, onanimationdone);
                    ball.attr({along: 0});
            };

            //create a rectangles
            var pHeight = 100;
            var pWidth = 20;
            var paddle = paper.rect(10, 130, pWidth, pHeight);
            paddle.attr("fill", "rgba(0, 0, 255, 1)");

            var start = function () {
                // storing original coordinates
                this.originalY = this.attr("y");
                this.attr({opacity: 0.9});
            },
            move = function (dx, dy) {
                // moves the object up and down, when clicked and dragged
                this.attr({y: this.originalY + dy});
            },
            up = function () {
                // restoring state
                this.attr({opacity: 1.0});
            };
            //runs the functions
            paddle.drag(move, start, up);
            run();
        });

     </script>
</body
</html> 
```

我是 JavaScript 新手，如果我的代码有点难以理解，我深表歉意（这是我做 JavaScript 的第四天）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:17:55.373

使用 raphael 对渲染图形是有效的，但我建议对球的运动使用路径数组不是。如果您实际上正在尝试制作游戏，那么最好让球存储它的当前位置和速度，并通过一些计时器每帧更新这些。

# css - 整页底部的滚动条

> ID：11895367
> 
> 赞同：0
> 
> 时间：2012-08-10T04:09:19.670
> 
> 标签：css

我试图弄清楚为什么我的 CSS 会导致整页出现滚动条。

这是我的旧 div 布局（没有滚动条问题）：

```
Container 100% (width)
  wrapper 80%
    navMenu 100% 
    centerDoc 100% 
```

我最近不得不添加另一个菜单项（它是一个水平菜单，所以新项目添加到右侧）。添加新菜单项后，我发现当我调整页面大小（使其更小）时，新菜单项会折叠到左下角（第一个菜单项下方）。

为了解决这个问题，我将布局更改为以下内容：

```
 Container 100% (width)
   navMenu 100%      <-- moved navMenu out of wrapper
   wrapper 80%
     centerDoc 100% 
```

这解决了崩溃问题。但是现在整页的页面底部有一个滚动条。我似乎无法弄清楚如何摆脱它：/

HTML 片段：

```
<div id="conainer">
    <?php require_once 'includes/header.php';
          require_once 'includes/nav.php'; ?>

     <div id="wrapper">

     <p>this is the wrapper</p>

        <div id="centerDoc">
        <p>this is the centerDoc</p>    

    </div>  <!--centerDoc !-->
     </div> <!-- wrapper !-->           
       </div> <!--container !--> 
```

注意：nav.php 包括 navMenu div

CSS 片段：

```
#container {
   margin:auto;
   width: 100%;  
}

 #wrapper{

    width:80%;
}

#navMenu{

    /*font-family: 'Tenor sans', Calibri, Times, Times, serif;*/
    margin-left:2px;
    width:100%;
    font-weight:normal;
    font-size:15px;

    /*this keeps the drop down menu on top*/
    position:relative;
    z-index:50;
}

#centerDoc {

   margin-top:2.8%;
   margin-left:10px;
   float:left;
   width: 100%;
} 
```

我知道这很长，但我只是在寻找解决问题的方向。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T04:19:41.353

尝试`overflow: hidden;`在`container`课堂上添加，这应该隐藏滚动。

它应该是这样的：

```
#container {
   margin:auto;
   width: 100%;  
   overflow: hidden;
} 
```

希望能帮助到你！

# yii - CCaptcha 显示没有图像 yii

> ID：11895376
> 
> 赞同：6
> 
> 时间：2012-08-10T04:10:26.550
> 
> 标签：yii, captcha

我有一个用户注册表单，我在其中尝试使用 Yii 小部件 CCaptcha 显示验证码图像，但是我的图像链接似乎已损坏，控制器文件：

```
public function actions()
    {
        return array(
            // captcha action renders the CAPTCHA image displayed on the contact page
            'captcha'=>array(
                'class'=>'CCaptchaAction',
                'backColor'=>0xFFFFFF,
            ),
        );
    } 
```

模型文件：

```
public function rules()
 {
    return array( array('verifyCode','captcha','allowEmpty'=>!CCaptcha::checkRequirements(),'on'=>'insert'), 
);
} 
```

并查看文件：

```
<?php if(CCaptcha::checkRequirements()): ?>
    <div class="row">
        <?php echo $form->labelEx($model,'verifyCode'); ?>
        <div>
        <?php $this->widget('CCaptcha'); ?>
        <?php echo $form->textField($model,'verifyCode'); ?>
        </div>
        <div class="hint">Please enter the letters as shown.
        <br/>Letters are not case-sensitive.</div>
        <?php echo $form->error($model,'verifyCode'); ?>
    </div>
    <?php endif; ?> 
```

作为某处提供的答案，我还尝试在我的控制器文件中给出访问规则

```
public function accessRules()
{
    return array(
        array('allow',
         'actions' => array('captcha'), 
         'users' => array('*'),
         ),
    );
} 
```

但似乎没有任何效果。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-15T15:08:10.340

问题出在控制器文件上，应该是，

```
public function accessRules()
    {
        return array(
            array('allow', 
                'actions'=>array('create', 'captcha'),
                'users'=>array('*'),
            ),
    } 
```

而我在最后提到了验证码的动作，我发现这在 Yii 中是不允许的。* 的所有允许操作应该在一起。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-04-26T07:57:20.353

Yii 验证码将创建一个 png 图像。损坏的图像链接的可能解释是缺少 GD 扩展名或 imagick 扩展名，可以通过您的 中存在以下文本来识别`error.log`：

> 调用未定义的函数 imagecreatetruecolor

有关详细信息和修复，请参阅[PHP 和 pChart 中的“调用未定义函数 imagecreatetruecolor”错误](https://stackoverflow.com/questions/4560996/call-to-undefined-function-imagecreatetruecolor-error-in-php-pchart)

# php - 将表单输入分配给变量

> ID：11895381
> 
> 赞同：-3
> 
> 时间：2012-08-10T04:11:01.513
> 
> 标签：php, input, concatenation

我有两个输入

```
<input  id=view-title >
<textarea1 id=textarea1 ></textarea> 
```

他们都因此而获得了价值

```
<script language="JavaScript">
    document.getElementById("view-title").value = "variable value";
    document.getElementById("textarea1").innerHTML = "variable value";
 </script> 
```

是否可以将这两个输入放在一个变量上？

我试过了，但显示时出错

```
$variable = '<input  id=view-title >'.'<textarea1 id=textarea1 ></textarea>'; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T04:15:20.980

是的你可以。

你的代码

```
<textarea1 ... 
```

不正确，使用

```
<textarea .. 
```

.

**正确的**

```
$variable = "<input  id='view-title' name='view-title' /><textarea id='textarea1' name='textarea1'></textarea>";
echo $variable; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:17:32.073

您也可以为输入命名；

```
$variable = '<input id="view-title" name="view-title" /><textarea id="textarea1" name="textarea1"></textarea>';
echo $variable; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-10T04:12:21.417

是的，但你需要`echo $variable;`

# .net - .Net DateTime 到 DOS 日期 32 位转换

> ID：11895382
> 
> 赞同：4
> 
> 时间：2012-08-10T04:11:22.523
> 
> 标签：.net, datetime, type-conversion, dos, bit-manipulation

我需要从 32 位 Dos Date 转换为 .NET System.DateTime 并再次转换回来。我正在使用下面的两个例程，但是当我来回转换它们时，它们会出现几秒钟。谁能明白为什么？

```
public static DateTime ToDateTime(this int dosDateTime)
{
    var date = (dosDateTime & 0xFFFF0000) >> 16;
    var time = (dosDateTime & 0x0000FFFF);

    var year = (date >> 9) + 1980;
    var month = (date & 0x01e0) >> 5;
    var day =  date & 0x1F;
    var hour = time >> 11;
    var minute = (time & 0x07e0) >> 5;
    var second = (time & 0x1F) * 2;

    return new DateTime((int)year, (int)month, (int)day, (int)hour, (int)minute, (int)second);
}

public static int ToDOSDate(this DateTime dateTime)
{
    var years = dateTime.Year - 1980;
    var months = dateTime.Month;
    var days = dateTime.Day;
    var hours = dateTime.Hour;
    var minutes = dateTime.Minute;
    var seconds = dateTime.Second;

    var date = (years << 9) | (months << 5) | days;
    var time = (hours << 11) | (minutes << 5) | (seconds << 1);

    return (date << 16) | time;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T05:52:22.943

在`ToDOSDate`中，秒数需要除以 2 才能存储到`time`变量中。 `(seconds << 1)`左移，乘以`seconds`2。将其更改为右移 ( `(seconds >> 1)`) 以除以二。

请注意，`ToDOSDate`当`dateTime`. 除以二的右位移位`seconds`将始终丢弃最低有效位。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-01-28T12:34:56.833

[你可以看一个例子](http://i.stack.imgur.com/sNFpO.png)

日期值：2016-01-25 17:33:04

DOS值：1211730978

二进制：0100100 0001 11001 10001 100001 00010

但是，我发现当第二个值为 01 时，我们会将 DOS 值转换为 0

# ios - 如何使用 AirPrint 打印锁定的 pdf 文件

> ID：11895385
> 
> 赞同：1
> 
> 时间：2012-08-10T04:11:29.140
> 
> 标签：ios, pdf, passwords, core-graphics

我知道用于`CGPDFDocumentUnlockWithPassword`解锁 pdf，但它返回 a `CGPDFDocumentRef`，如果我想使用 AirPrint 打印它，它应该是 a`NSData`或 url，但我不知道如何将 a 转换`CGPDFDocumentRef`为`NSData`对象或将其另存为文件 。有没有人有解决这个案子的想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T08:04:33.367

只需将源 pdf 的每一页打印到新创建`CGPDFContext`的文件中并将生成的 pdf 保存到单独的文件中即可。原则上，它应该如下所示：

```
// create PDFContext
NSURL* dstPath = [NSURL fileURLWithPath:pathInCachesFolder]
CGRect pageRect = CGRectMake(0,0,1024,1024); // example, use real page size of src document here
CGContextRef pdfContext = CGPDFContextCreateWithURL(dstPath, &pageRect, nil);

// use for loop here to repeat following stuff for each pdf page from the src pdf
CGPDFContextBeginPage(pdfContext, NULL);
CGContextDrawPDFPage(pdfContext, sourcePDFpageRef);
CGPDFContextEndPage(pdfContext);

// close pdfContext, saves dst file
CGPDFContextClose(pdfContext);
CGContextRelease (pdfContext); 
```

这段代码只是将一个页面从源 pdf 打印到新创建的 pdf 并将 pdf 保存到 dst 路径。当然，您需要为源文档中的每一页重复绘制部分。之后，您应该能够通过 AirPrint 毫无问题地打印 pdf。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-09-07T08:57:41.317

我已经解决了这个问题。你可以在这里获得信息：

[使用 AirPrint 打印锁定的 pdf 时如何将密码传递给 UIPrintInteractionController？](https://stackoverflow.com/questions/12031929/how-to-pass-a-password-to-uiprintinteractioncontroller-when-using-airprint-to-pr)

# ssis - 从 2005 年到 2008 年的 SSIS 迁移？只是在 BIDS 2008 中打开（它将进行转换），然后在 2008 年环境工作中部署？

> ID：11895386
> 
> 赞同：1
> 
> 时间：2012-08-10T04:11:33.977
> 
> 标签：ssis, vsta, ssis-2005

[我的任务是将 2005 包迁移到 2008，我在http://technet.microsoft.com/en-us/library/bb500429(v=sql.100).aspx](http://technet.microsoft.com/en-us/library/bb500429(v=sql.100).aspx) 上寻找 SSIS 2008 停止使用的功能似乎 VSA 已停产并由 VSTA 取代。当我第一次做这样的工作时，我只想检查打开包 BIDS 2008，然后在 2008 环境中部署它们就可以了，还是我还需要其他一些东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T10:25:40.807

对我来说，您刚才提到的 VSA -> VSTA 更改仅仅意味着现在我们可以用 C# 进行编码：D

总的来说，要进行迁移，您只需要在 BIDS 2008 上打开软件包，但您需要注意一些事项。例如，我想到的是查找任务的行为发生了一些变化（处理不匹配行的方式），并且从配置文件加载的顺序变量也发生了变化。我的意思是，只需运行和调试你的包，你就应该能够测试这些东西

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-16T17:20:31.297

只需打开包就可以很好地完成迁移，甚至代码更改。

几个问题是： 1\. 如果您的配置中有 ConnectionString，则必须将提供程序从 SQLNCLI.1 更改为 `Provider=SQLNCLI10.1;` （或将旧提供程序添加到新的 SSIS 2008 生产服务器。2\. 我有一个空间进入的情况那里给我一个错误。我通过删除空格来修复 Connection connectionString 属性。在 BIDS 中很难看到。 `Provider= SQLNCLI10.1;`

# php - 出租汽车的猴子 - 集成到第三方网站，

> ID：11895387
> 
> 赞同：1
> 
> 时间：2012-08-10T04:11:45.893
> 
> 标签：php, jquery

所以，

我经营一家租车公司，我想将我的服务整合到第三方网站——人们可以直接在第三方网站上租车。如何有效地将我的服务整合到第三方网站上？我认为 iframe 可能是最好的方式或某种 javascript 调用......但我需要最好的方式来集成我的服务，以便第三方网站必须尽可能少地编码。

如果人们想租车，我希望人们在第三方网站上选中一个框，然后弹出一个表格，询问客户他们的付款细节，然后该信息被发送到我的网站，我的网站处理该信息并确认付款。

所以基本上，我在设想，

1.  人点击第三方网站上的复选框
2.  第三方网站将有关此人的信息发送到我的网站
3.  我使用该信息发回带有价格详细信息的付款箱
4.  人在第三方网站上提交付款信息
5.  我的网站获取付款信息​​并处理信息
6.  我的网站向第三方网站发回状态响应。

问题是，如果客户是回头客，我希望第三方网站向我发送有关客户的识别信息，这将使我能够辨别她是回头客，从而向她收费，而无需她的信用付款框中的卡详细信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T13:56:01.230

如果您要实施安全措施，以便黑客无法使用虚假订单使您的数据库陷入困境，请使用共享密钥，您可以使用共享密钥将发布的数据加密为哈希，然后在您这边进行比较。

例如

```
$data = "color=blue|type=mazda|days=3|clientID=john@doe.com|etc=somedata";
$secretkey = "213098snxlkds_ljlsk3545";
$hash = hash('sha256',$data.$secretkey);

echo '<form target="someiframe" target="http://www.domain.com/bla/die/bla">
<input type="hidden" value="'.$data.'" name="data">
<input type="hidden" value="'.$hash.'" name="hash">
<input type="submit" value="Order the car Now!">'; 
```

然后在您收到使用此代码的数据的地方

```
$secretkey = "213098snxlkds_ljlsk3545";
if(hash('sha256',$_POST['data'].$secretkey) === $_POST['hash'])
    {
    $process = explode('|',$_POST['data']);
    foreach($process as $piece)
        {
        $vars = explode('=',$piece);
        $Data[$vars[0]] = $vars[1];
        }
    } 
```

这样，如果只有您和您的零售商拥有哈希值，您就可以始终验证零售商是合法的，而不是一些试图让您陷入困境的便宜货。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T04:32:07.587

在这种情况下，构建与您的主要产品在同一服务上托管的产品的白标版本会更实惠，有时甚至更有效。这样，所有的功能基本上都是一样的，除了你在上面贴上别人的名字并说它是由你的公司在某个地方提供支持的。

我建议这样做的一个关键原因是站点到站点的交易会留下许多可通过恶意手段绊倒的移动部件。

以贝宝为例，当您使用贝宝付款时，会发生什么？您单击第三方网站上的贝宝按钮，它会将您重定向到贝宝网站本身。你可以做类似的事情，你告诉你的第 3 方提交一份表格，就像他们在任何其他网站上一样，并且发布的数据很少，因为你希望它在你身边得到确认，所以它让门更关防止某人只是改变价格或其他东西。无论如何，您将发布的数据通过您的过滤器运行它，将其与您允许您的第 3 方执行的任何提供进行比较，然后在您身边处理它。然后当一切都完成后，你转身并重定向回那里的网站和一个感谢页面。

只是思考的食物

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T04:31:38.787

在第三方网站上提供您的服务意味着这些网站将不得不与您的应用程序/网站进行通信。最重要的是，您希望用户也能够在第三方网站上付款，因此您将来回发送敏感数据。出于这个原因，我建议您首先获取/集成 SSL。

完成后，您需要设置自己的 API。我知道这听起来可能是一项艰巨的任务，但如果您不需要太多数据和验证（返回大量错误代码和内容），实际上并非如此。

一个简单的例子：

假设我有一个人们可以登录/注册的网站。但我希望用户能够在第三方网站上注册到我的网站（就像您希望用户从您的网站购买商品一样）。

我在这里做的是：

创建一个基本脚本，用于侦听第三方站点将调用的任何请求。我们称之为`api.php`：

```
//so we listen for POST params to be sent. These params will have users details stored in them

//so first check if all required params were sent:
if ( !isset($_POST['firstName']) || !isset($_POST['lastName']) || !isset($_POST['email']) )
{

exit();//because some/all of the required data is missing, we're going to stop right here xD

}//end of required data missing

//so if we get to this point, we know that the correct params have arrived

//so now you can do your registration stuff

//validate data (check if email is correct, if its been used before, ect ect)

//throw the data in the DB

//and if you need to, return some JSON status code
echo json_encode(array('status'=>'OK')); 
```

那就是有一个API。非常基本但仍然是一个 API。所以现在你只需告诉第三方网站发布他们的信息`"https://yousite.com/api.php"`，它就会返回一个状态码，注册就完成了。

我知道这不是一个很好的例子，但我希望你能理解这一点。

实际上，大多数网站无论如何都会这样做。即使不使用第三方网站。当用户注册到网站时，他们的数据会被发布到某个页面。所以我想你可以将数据发布到你原来的注册/购买/登录页面..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T04:44:10.413

有很多不同的方法可以解决这个问题，但我认为最简单的方法可能是拥有一个简单的 JavaScript API，第三方集成商可以在他们的网站上使用。您的 JavaScript 可以设置复选框（例如，附加到`div`或`form`集成商指定的）并安装它，以便当用户选中该框时，它会打开一个指向您网站的弹出窗口。然后，您可以在“弹出窗口”中处理您的交易。

这与基本的 Paypal 集成的工作方式相当，用户将 Paypal 按钮扔到他们的网站上，然后当单击该按钮时，它会打开一个直接指向 Paypal 网站的新窗口（因为作为一般规则，他们不能直接从第三方网站收集/接受付款或身份信息）并传递一些描述交易的参数（付款金额、收件人、项目详细信息等）。

因此，例如，第三方可能会通过首先包含您的 JavaScript 文件来与您的服务集成，例如：

```
<script type="text/javascript" src="http://carmonkey.com/api/v1/MonkeyCar.js" /> 
```

...然后他们可能会添加一些样板代码来将 API 连接到他们网站的所需部分：

```
<script type="text/javascript">
    var options = {"container": "#someDivId", "userFirstName": "John", 
                   "userLastName": "Smith", "rentalDate":"8/8/12", "duration":"7"};
    MonkeyCar.drive(options);
</script> 
```

然后，您的脚本需要采用这些选项并使用它们将您的复选框添加到目标容器元素，并配置复选框，以便当用户单击它时，会打开一个弹出窗口，指向您网站上的相应 URL。所以你可以添加类似的东西：

```
<input type="checkbox" name="_monkeyCar" value="true" 
       onchange="if (this.checked) {MonkeyCar.open('http://carmonkey.com/reserve?fname=John&lname=smith&...');}" />  
Book a Rental Car 
```

然后，一旦发生这种情况，用户就可以正常完成租车预订，因为弹出窗口只是与您的标准网站运行正常的浏览器会话。

如果您想变得花哨，您还可以添加一个反馈循环，以便在第三方页面上运行的 JavaScript API 可以获取有关交易状态的更新，并检测交易何时完成/取消，并使用地位。

# c++ - 如何在 QHeaderView 中实现委托

> ID：11895388
> 
> 赞同：0
> 
> 时间：2012-08-10T04:11:46.880
> 
> 标签：c++, qt, qt4.7

我使用 QTableview 和 QAbstractTableModel 创建了一个表。我使用 QHeaderView 添加了一些垂直标题。在一个标题单元格中，我想使用委托 ..

我正在使用委托，但它没有任何影响..

我在哪里做错了吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:56:02.933

自己有这个问题。[Qt 文档](http://doc.qt.nokia.com/4.7-snapshot/qheaderview.html)的答案很简单，也很烦人：

> 注意：每个标头都为每个部分本身呈现数据，并且不依赖于委托。因此，调用标头的 setItemDelegate() 函数将不起作用。

换句话说，您不能将委托与 QHeaderView 一起使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-06-06T14:10:15.533

作为记录，如果您想设置 QHeaderView 部分的样式，则必须通过标头数据模型（更改 Qt::FontRole 等）或派生您自己的 QHeaderView（不要忘记将其传递给用“setVerticalHeader()”) 覆盖你的表并覆盖它的paintSection() 函数。IE：

```
void YourCustomHeaderView::paintSection(QPainter* in_p_painter, const QRect& in_rect, int in_section) const
{
    if (nullptr == in_p_painter)
        return;

    // Paint default sections
    in_p_painter->save();
    QHeaderView::paintSection(in_p_painter, in_rect, in_section);
    in_p_painter->restore();

    // Paint your custom section content OVER a specific, finished
    // default section (identified by index in this case)
    if (m_your_custom_section_index == in_section)
    {
        QPen pen = in_p_painter->pen();
        pen.setWidthF(5.5);
        pen.setColor(QColor(m_separator_color));

        in_p_painter->setPen(pen);
        in_p_painter->drawLine(in_rect.right(), in_rect.top(), in_rect.right(), in_rect.bottom());
    }
} 
```

这个简化的示例当然可以通过样式表轻松完成，但理论上你可以使用这种方法绘制任何你喜欢的东西。

# validation - Node.js、Express 和 Jade - 表单

> ID：11895392
> 
> 赞同：5
> 
> 时间：2012-08-10T04:13:05.320
> 
> 标签：validation, node.js, express, pug

我正在使用 Node.js、Express 和 Jade，我正在尝试弄清楚如何发布、验证和处理表单数据。

在我的玉文件中，我创建了一个联系表：

```
div#contact-area
    form(method='post',action='')
        label(for='name') Name:
        input(type='text',name='name',id='name')        
        label(for='email') Email:
        input(type='text',name='email',id='email')  
        input(type='submit',name='submit',value='Submit').submit-button 
```

然后我使用模块“express-validator”来验证表单，如下所示：

```
var express = require('express')
    ,routes = require('./routes')
    ,http = require('http')
    ,path = require('path')
    ,expressValidator = require('express-validator')
;

var app = express.createServer();

app.configure(function(){
    app.set('views', __dirname + '/views');
    app.set('view engine', 'jade'); //not needed if we provide explicit file extension on template references e.g. res.render('index.jade');
    app.use(express.bodyParser());
    app.use(expressValidator);
    app.use(express.methodOverride());
    app.use(app.router);
});

//display the page for the first time
app.get('/mypage', function(req,res){
    res.render('mypage', { 
        title: 'My Page'        
    });            
});
//handle form submission
app.post('/mypage', function(req,res){
    req.assert('name', 'Please enter a name').notEmpty();
    req.assert('email', 'Please enter a valid email').len(6,64).isEmail();

    var errors = req.validationErrors();
    if( !errors){   
        sendEmail(function(){
            res.render('mypage', { 
                title: 'My Page',
                success: true
            });
        });
    }
    else {
        res.render('mypage', { 
            title: 'My Page',
            errors: errors
        });
    }
 }); 
```

因此，我的页面呈现三种情况，并且每种情况都可以访问不同的局部变量：

1.  第一次加载页面时（errors=undefined,success=undefined）
2.  表单提交时出现错误（errors=array,success=undefined）
3.  当表单提交并且没有错误时（errors=undefined,success=true）

所以我的主要问题是：

1.  当我的 Jade 页面加载时，当我尝试访问一个不存在的变量时似乎会抛出一个错误。例如，我想查看是否设置了变量“成功”，如果是，我想隐藏表单并显示“谢谢”消息。有没有一种简单的方法来处理 Jade 中未定义或值的变量？
2.  当表单已提交并且存在验证错误时，我想显示一条错误消息（这不是问题），但还要使用先前提交的变量填充表单（例如，如果用户提供了名称但没有电子邮件，错误应引用空白电子邮件，但表单应保留其名称）。目前显示错误消息，但我的表单已重置。有没有一种简单的方法可以将字段的输入值设置为发布数据中的值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T16:58:46.817

1.  你可以通过使用 locals.variable 而不是变量来解决这个问题。你也可以在jade中使用javascript。

    -locals.form_model = locals.form_data || {};

2.  我用了两种方法来解决这个问题。第一个是重新渲染视图，并将 req.body 作为本地传递。我有一个约定，我的表单使用 form_model.value 作为其字段值。这种方法适用于简单的表单，但当您的表单依赖数据时，它开始有点崩溃。

    第二种方法是将您的 req.body 传递给会话，然后重定向到呈现表单的路由。让该路由查找某个会话变量并在您的表单中使用这些值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-01-25T07:02:37.340

在您的玉文件中添加错误消息，然后运行您的代码。
只需使用以下代码更新您的玉代码：

```
div#contact-area
  ul.errors
        if errors
                each error, i in errors
                    li.alert.alert-danger #{error.msg}
    form(method='post',action='')
        label(for='name') Name:
        input(type='text',name='name',id='name')        
        label(for='email') Email:
        input(type='text',name='email',id='email')  
        input(type='submit',name='submit',value='Submit').submit-button 
```

# import - Sqlite 在导入表格文件时添加双引号？

> ID：11895398
> 
> 赞同：1
> 
> 时间：2012-08-10T04:13:32.123
> 
> 标签：import, sqlite

烦人的是，sqlite3 将引号添加到列表文本文件中的条目中，其中条目中存在逗号、句点或括号。我使用的代码是：

.mode 选项卡 .import ./file.txt TableForFile

这给了我，作为下面的例子，第一个条目是文本文件中的内容

*   自然 --> 自然

*   科学（纽约，纽约）-->“科学（纽约，纽约）”

这使我无法在我的数据库中正确地进行连接

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T04:41:27.030

Excel 实际上是通过添加引号来导出电子表格的，因此这不是 sqlite3 中的导入问题。我将不得不通过并编辑带引号的文件然后导入，它应该可以正常工作。

# c - 如何在 Sublime Text 2 中运行 C 程序

> ID：11895400
> 
> 赞同：2
> 
> 时间：2012-08-10T04:14:06.160
> 
> 标签：c, sublimetext2

在这个问题中，我学习了如何使用 Sublime Text 2 编译 C 程序：

[如何使用 Sublime Text 2 编译和运行一个简单的 C 程序？](https://stackoverflow.com/questions/10059511/how-to-compile-and-run-a-simple-c-program-with-sublime-text-2)

如何让程序在 Sublime Text 2 中运行？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T15:52:24.577

编辑您的构建文件以添加运行程序的命令。`ctrl`您可以通过点击+在 ST 控制台中查看程序的输出`~`。

```
 {
      "cmd" : ["gcc", "$file_name", "-o", "${file_base_name}.exe", "&&", "${file_base_name}.exe"],
      "selector" : "source.c",
      "shell" : true,
      "working_dir" : "$file_path"
    } 
```

作为替代方案，您可以制作一个 shell 脚本或 Makefile 来编译和运行该文件，然后从 ST 构建命令调用该脚本或 make。

# sql - 如何使用 Codeigniter Datamapper 进行汇总和计数？

> ID：11895410
> 
> 赞同：1
> 
> 时间：2012-08-10T04:15:34.583
> 
> 标签：sql, codeigniter, count, sum, codeigniter-datamapper

我想用 Codeigniter Wanwizard Datamapper 做这样的事情。

```
SELECT COUNT(amount), SUM(amount) FROM mytable 
```

基本上我想同时提取总量和单个查询中包含的行数。[但是我在http://datamapper.wanwizard.eu/](http://datamapper.wanwizard.eu/)的文档页面中找不到方法，因为 SUM 函数有 select_sum()，但 COUNT 没有 select_count()。有没有办法像我的情况一样做到这一点？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-11-16T13:45:41.540

```
$this->db->select("COUNT(ratting) as v_count, SUM(ratting) as v_sum");
$this->db->where('user_id', $user_id);
$row = $this->db->get('user')->row(); 
```

输出

```
stdClass Object
(
    [v_count] => 3
    [v_sum] => 7.5
) 
```

希望能帮到你。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-06-03T15:23:04.057

尝试这个

```
$p = new Film();
$p->select('COUNT(amount), SUM(amount)')->get(); 
```

# adsense - Google Adsense 帐户未获批准

> ID：11895416
> 
> 赞同：0
> 
> 时间：2012-08-10T04:16:35.003
> 
> 标签：adsense

我创建了一个门户网站[bugnull.com](http://bugnull.com)并申请了 Adsense 帐户，但我的 Adsense 帐户未获批准，因为我收到了我的网站不符合 Google 指南的电子邮件。请查看我的网站并告诉我我的网站有什么问题网站以及我应该进行什么样的改进才能获得批准的 Adsense 帐户。

请告诉我，因为我对 Google 的拒绝感到非常沮丧。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-10T07:15:05.200

您需要在您的网站上有隐私政策。[您可以在http://www.serprank.com/privacy-policy-generator/](http://www.serprank.com/privacy-policy-generator/)生成一个

您还应该将问题发布到官方 Adsense 论坛：[http ://productforums.google.com/forum/#!forum/adsense](http://productforums.google.com/forum/#!forum/adsense)

# vb.net - access数据库中的时间列平均值

> ID：11895417
> 
> 赞同：-1
> 
> 时间：2012-08-10T04:16:36.907
> 
> 标签：vb.net, ms-access-2010

我有一个访问数据库，一个表有时间列，显示从（结束时间 - 开始时间）开始的总时间我需要平均该列（hh：mm）ss不需要。我需要将此平均值存储到另一个表中，然后能够在文本框中显示它。在某些时间范围内，就颜色而言，具有条件格式。我将需要在每日范围和每月范围内执行此操作，只是想知道完成此操作的最佳方法是什么。每次表中添加记录时，该月度和日平均值都需要更新。

我对此的想法是将每日时间放入一个数组中，然后对数组进行平均，并将该平均值存储在另一个表中。然后使用每日平均表与条件格式一起显示在文本框中。然后每月平均时间也是如此。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T09:10:55.997

从查询中获取这些信息并不难，时间只是数字的小数部分。

```
 SELECT Format(Avg(CDbl([Atime2])-CDbl([ATime1])),"hh:mm:ss") AS Diff
 FROM Table; 
```

或者

```
 SELECT Sum(DateDiff("n",[ATime1],[ATime2])) AS SumMins,
        Count([ATime1]) AS CountRecs, 
        Avg(DateDiff("n",[ATime1],[ATime2])) AS AvgMins
 FROM Table; 
```

此外，MS Access 2010 具有数据宏和计算列，即使在 Access 之外也很好。

最后，通常不建议您存储一个在每次编辑时都变得无效的值，因为该值可以很容易地计算出来。

# javascript - 维加斯滑块预载

> ID：11895419
> 
> 赞同：-3
> 
> 时间：2012-08-10T04:16:40.573
> 
> 标签：javascript, background, slider

我想在这里为这个 vegas 滑块设置预加载选项

[http://vegas.jaysalvat.com/documentation/slideshow](http://vegas.jaysalvat.com/documentation/slideshow)

但是我对javascript一无所知，请有人帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T04:27:49.317

根据[右侧的文档](http://vegas.jaysalvat.com/documentation/slideshow/ "右侧的文档")：

```
OPTION: PRELOAD
Preload all the images of the Slideshow. 
```

听起来你必须使用`preload`参数：

```
$.vegas('slideshow', {
  preload: true,
  backgrounds:[
    { src:'/img/background1.jpg' },
    { src:'/img/background2.jpg' },
    { src:'/img/background3.jpg' }
  ]
})('overlay'); 
```

# playframework - 玩 2 morphia 插件 - NoSuchMethodError: MorphiaLoggerFactory.reset()

> ID：11895420
> 
> 赞同：0
> 
> 时间：2012-08-10T04:17:19.387
> 
> 标签：playframework, playframework-2.0, morphia

我正在尝试使用 MorphiaPlugin (https://github.com/leodagdag/play2-morphia-plugin)。在初始化时，MorphiaPlugin 尝试这样做（第 45 行）：

```
MorphiaLoggerFactory.reset(); 
```

这引发了以下异常：

```
java.lang.NoSuchMethodError: com.google.code.morphia.logging.MorphiaLoggerFactory.reset()V
 leodagdag.play2morphia.MorphiaPlugin.onStart(MorphiaPlugin.java:45)
 play.api.Play$$anonfun$start$1.apply(Play.scala:60)
 play.api.Play$$anonfun$start$1.apply(Play.scala:60)
 scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
 scala.collection.immutable.List.foreach(List.scala:45)
 play.api.Play$.start(Play.scala:60) 
```

该插件与具有重置方法的 Morphia-1.00-snapshot（通过播放依赖项验证）链接。任何人都知道为什么它没有找到方法？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T04:25:29.840

我是个白痴，原因是我在 lib/ 中有 morphia-0.99，它覆盖了插件中的那个。

对于那些遇到类路径问题的人，以下命令非常方便：

```
play classpath 
```

# ios - App Store 审核指南澄清

> ID：11895425
> 
> 赞同：7
> 
> 时间：2012-08-10T04:17:52.590
> 
> 标签：ios, app-store, appstore-approval

对于这两条规则：

11.1 使用 App Store 以外的机制解锁或启用附加特性或功能的应用程序将被拒绝

11.2 应用程序使用除应用内购买 API (IAP) 以外的系统来购买应用程序中的内容、功能或服务的应用程序将被拒绝。

如果特性/功能 (11.1) 或内容购买 (11.2) 的启用/禁用实际上并未在设备上的应用程序中发生，这些规则的适用性是否会降低/删除。

例如，您编写了一个需要免费注册的应用程序，但如果您访问该应用程序之外的网站（并且未链接到该应用程序）以“升级”您的注册（通过付费），该应用程序接下来会获得更多功能或内容你使用它的时间。

想法？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-18T12:00:44.557

我的想法：你会违反指南，但你的应用程序当然可以得到批准。付款确实不会发生在应用程序内部，但应用程序“使用”这样一个系统（非常广泛）因此是违规的。

这让我想起了之前进行的报亭/订阅讨论。基本上，如果您在应用程序之外提供某些东西，您必须在应用程序内部提供相同（或更好）的服务（通过 IAP 订阅）。也许这也适用于您的情况。虽然，根据 11.3，如果通过 IAP 购买，您可能不会在您的应用程序之外提供服务（因此您也可能无法解锁例如网站上的功能。）

您还可以尝试提供免费应用程序。一旦用户（以某种方式）升级他们的帐户，他们就可以访问仅限会员的应用程序，一个新的、独立的应用程序。但是批准仍然存在问题，这使我进入了最后一部分：

“我们将拒绝任何我们认为超出界限的内容或行为的应用程序。你问什么界限？好吧，正如最高法院大法官曾经说过的那样，“当我看到它时我会知道它。我们认为你越过它也会知道的。” — [https://developer.apple.com/app-store/review/guidelines/](https://developer.apple.com/app-store/review/guidelines/)

简而言之：提交、祈祷并找出答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T04:28:32.717

您所描述的情况听起来类似于导致使用 Dropbox 的应用程序被拒绝（[链接](http://arstechnica.com/apple/2012/05/ios-dropbox-app-kerfuffle-has-ended-but-highlights-confusion-about-guidelines/)）的情况。苹果认为，由于使用 Dropbox 功能的应用程序要求用户访问 Dropbox 网站进行注册，因此这些应用程序违反了这些规则，因此被拒绝。

# cuda - 稠密非对称矩阵的迭代法

> ID：11895426
> 
> 赞同：0
> 
> 时间：2012-08-10T04:18:24.427
> 
> 标签：cuda, iteration

有人可以推荐一种可以用来解决密集非对称线性系统的好的迭代方法吗？

据我了解，双共轭梯度法收敛不规则且不稳定。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T19:41:59.380

也许试试[GMRES](http://en.wikipedia.org/wiki/Generalized_minimal_residual_method)。它需要存储中间残差并对它们进行正交化，因此存储随着迭代而增长。这样就避免了CG在迭代中累积数值误差的问题。

# silverlight - 列表框子计数为 0

> ID：11895429
> 
> 赞同：0
> 
> 时间：2012-08-10T04:18:49.870
> 
> 标签：silverlight, windows-phone-7

我正在尝试将我在 WPF 中编写的控件转换为适用于 Windows Phone 的 Silverlight。我学到了很多东西，并通过对两个版本的改进对其进行了相当多的调整，但我似乎无法将 ScrollViewer 从 Silverlight 版本的 ListBox 中取出。从一开始它似乎很简单：

```
ScrollViewer s = VisualTreeHelper.GetChild(List, 0) as ScrollViewer; 
```

然而，当我到达这条线时，我得到一个 IndexOutOfRangeException——显然，根据 VisualTreeHelper，我的 ListBox 没有可视子项。

因为我觉得这是一个特殊情况，所以这是我的 ListBox 的 XAML 声明：

```
<ListBox x:Name="List" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
             ItemsSource="{Binding ItemsSource, ElementName=SnapListControl}"
             ScrollViewer.HorizontalScrollBarVisibility="Disabled">
        <ListBox.Style>
            <Style TargetType="ListBox">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ListBox">
                            <ScrollViewer HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden">
                                <VirtualizingStackPanel Orientation="Horizontal" IsItemsHost="True"
                                        Margin="{Binding ActualWidth, ElementName=LayoutRoot, Converter={StaticResource Hc}}">                                                                                
                                </VirtualizingStackPanel>
                            </ScrollViewer>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </ListBox.Style>
        <ListBox.ItemContainerStyle>
            <Style TargetType="ListBoxItem">
                <Setter Property="RenderTransformOrigin">
                    <Setter.Value>
                        <Point X="0.5" Y="0.5"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="Padding" Value="0"/>
                <!--<Setter Property="ContentTemplate" Value="{Binding ItemContentTemplate, ElementName=SnapListControl}"/>-->
            </Style>
        </ListBox.ItemContainerStyle>
    </ListBox> 
```

我不得不注释掉 ContentTemplate 绑定，因为显然这是 Silverlight 中的只读属性？当我完成清理时，我将不得不对此进行更多调查。

我从谷歌搜索中找不到太多，大多数其他人似乎都使用上面的方法取得了一些成功。它当然适用于 WPF。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:34:55.530

如果您的目标只是隐藏 ScrollViewer，那么您已经成功了一半。您只需在 ListBox 上使用以下附加属性

```
<ListBox ScrollViewer.VerticalScrollBarVisibility="Hidden"
        ScrollViewer.HorizontalScrollBarVisibility="Hidden" >
... 
```

至于你的其他问题：

1.  由于您的 ScrollViewer 没有名称，因此未应用 ControlTemplate。它必须命名为“ScrollViewer”。

2.  您也不能在 ControlTemplate 中显式设置您的 ItemsPanel。相反，您必须提供一个 ItemsPresenter，然后设置 ListBox 的 ItemsPanel 属性。

3.  若要为您的内容设置 DataTemplate，您必须在 ListBox 上设置 ItemTemplate 属性。

    ```
     <ListBox Height="100" Margin="200,195,156,0" 
                VerticalAlignment="Top" 
                ScrollViewer.VerticalScrollBarVisibility="Hidden"
                ScrollViewer.HorizontalScrollBarVisibility="Hidden"
                ItemContainerStyle="{StaticResource ListBoxItemStyle1}">
            <ListBox.Style>
                <Style TargetType="ListBox">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="ListBox">
                                <ScrollViewer x:Name="ScrollViewer" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Foreground="{TemplateBinding Foreground}" Padding="{TemplateBinding Padding}">
                                    <ItemsPresenter/>
                                </ScrollViewer>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </ListBox.Style>
            <ListBox.ItemsPanel>
                <ItemsPanelTemplate>
                    <VirtualizingStackPanel Orientation="Horizontal" 
                                    Margin="{Binding ActualWidth, ElementName=LayoutRoot, Converter={StaticResource Hc}}">                                                                                
                    </VirtualizingStackPanel>
                </ItemsPanelTemplate>
            </ListBox.ItemsPanel>
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border Width="100" Height="100" Background="White">
                        ...
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox> 
    ```

# php - 打开数据库时的sqlite和php

> ID：11895430
> 
> 赞同：0
> 
> 时间：2012-08-10T04:19:00.400
> 
> 标签：php, sqlite

现在，我正在尝试使用 php 和 sqlite 编写程序，但我遇到了问题。浏览器向我显示错误，你能帮我纠正我的程序吗？这是源代码

```
<?php
$user_id = $_POST["user_id"];
$pass_id = $_POST["pass_id"];

$database = sqlite_open("database_support/user_acces...");
$result = sqlite_query($database, "select * from user_table where user_id like     '$user_id' and pass_id like '$pass_id'");

if($result){
$_SESSION["user_id"] = $user_id;
$_SESSION["pass_id"] = $pass_id;
$_SESSION["time_id"] = time() + 10;
echo ($_SESSION["time_id"]);
}
else{
header("location:index.php");   
}   
?> 
```

chrome浏览器的结果：

```
警告：sqlite_open() [function.sqlite-open]：无法打开数据库：C:\xampp\htdocs\aptana\gsy\document_supp… 在 C:\xampp\htdocs\aptana\gsy\document_supp… 在第 5 行

警告：sqlite_query() 期望参数 1 是资源，在第 6 行 C:\xampp\htdocs\aptana\gsy\document_supp... 中给出的字符串

警告：无法修改标头信息 - 标头已由（输出开始于 C:\xampp\htdocs\aptana\gsy\document_supp... in C:\xampp\htdocs\aptana\gsy\document_supp... 第 15 行

```

有谁能够帮我，？谢谢4你的时间，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T04:24:12.393

确保文件是有效`sqlite`文件。也需要这样做，`session_start`因为您正在尝试访问`$_SESSION`此文件。此外`location`，更改之前不应出现任何其他 html 内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:29:30.167

你的 sqllite_open 应该像下面的代码。在您的代码中似乎缺少一些东西。如果你想在任何文件中使用会话，那么你必须在使用它之前启动会话所以你的代码必须像这个示例代码。

```
<?php 
session_start();

$dbhandle = sqlite_open('db/test.db', 0666, $error);

if (!$dbhandle) die ($error);

$query = "SELECT Name, Sex FROM Friends";
$result = sqlite_query($dbhandle, $query);
if (!$result) die("Cannot execute query.");
?> 
```

# java - GImage 找不到我的图片

> ID：11895431
> 
> 赞同：1
> 
> 时间：2012-08-10T04:19:16.857
> 
> 标签：java, image, acm-java-libraries

我正在尝试 acm 库，当我尝试使用 GImage 时，它​​找不到我的图像。我试着把它放在任何地方，仍然找不到它。GImage 在哪里寻找图像（请具体说明）谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:14:16.050

根据[文档。](http://jtf.acm.org/javadoc/student/acm/graphics/GImage.html#GImage%28String%29)它具体包括以下步骤：

> 1.  检查是否已经定义了具有该名称的图像。如果是，则返回该图像。
> 2.  检查是否存在具有该名称的可用资源，其内容可以作为图像读取。如果是这样，请从资源文件中读取图像。
> 3.  从相对于应用程序目录或小程序代码库的具有指定名称的文件中加载图像。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-21T01:06:29.853

我也有同样的问题。我使用了完整路径并且它有效，例如：

```
GImage img = new GImage("/Users/abc/java/programming/abc.jpg");
add(img); 
```

另外，我刚刚注意到，如果您使用的是 Eclipse，您可以将图像保存在 bin 子目录中，然后您可以使用文件名：

```
GImage img = new GImage("abc.jpg");
add(img); 
```

要使上述工作正常，您的图像应位于：/Users/abc/java/programming/bin/abc.jpg"

# r - 在数据框中的每个位置更改具有多个元素的数据框

> ID：11895432
> 
> 赞同：0
> 
> 时间：2012-08-10T04:19:25.227
> 
> 标签：r, dataframe, plyr

这实际上是上一个问题的延续：

[数据框中多个因子的样条](https://stackoverflow.com/questions/11352604/spline-on-multiple-factors-in-data-frame)

很抱歉再次经历第一部分。相信我，我试图解决自己！

所以一些样本数据：

```
mydf<- data.frame(c("a","a","b","b","c","c"),c("e","e","e","e","e","e")
                 ,as.numeric(c(1,2,3,10,20,30)),
                 as.numeric(c(5,10,20,20,15,10))) 
```

给一些名字：

```
colnames(mydf)<-c("Model", "Class","Seconds", "Speed") 
```

这使：

```
> mydf
  Model Class Seconds Speed
1     a     e       1     5
2     a     e       2    10
3     b     e       3    20
4     b     e      10    20
5     c     e      20    15
6     c     e      30    10 
```

现在最初我需要对这些数据进行样条化，答案如下：

```
library("plyr")
ddply(mydf, .(Model), summarise, Spline = spline(x = Seconds, y = Speed)) 
```

这导致：

```
 Model                        Spline
1     a  1.0, 1.2, 1.4, 1.6, 1.8, 2.0
2     a             5, 6, 7, 8, 9, 10
3     b 3.0, 4.4, 5.8, 7.2, 8.6, 10.0
4     b        20, 20, 20, 20, 20, 20
5     c        20, 22, 24, 26, 28, 30
6     c        15, 14, 13, 12, 11, 10 
```

顺便说一句，我什至无法在 R 中手动创建这个确切的结构，以便提供一个示例，即使是手动！

所以回到这个问题。我需要更改结果，使它们看起来像这样：

```
Model   Seconds Speed
a       1.0     5
a       1.2     6
a       1.4     7
a       1.6     8
a       1.8     9
a       2.0     10
b       3.0     20
b       4.4     20
b       5.8     20
b       7.2     20
b       8.6     20
b       10.0    20
c       20      15
c       22      14
c       24      13
c       26      12
c       28      11
c       30      10 
```

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T04:38:42.967

你的意思是这样的：

```
foo <- function(x){ 
    Spline <- spline(x = x$Seconds, y = x$Speed)
    data.frame(Seconds = Spline$x,Speed = Spline$y) 
}
out <- ddply(mydf, .(Model),foo ) 
```

现在，您可能会问自己，“joran 是如何解决这个问题的？” 因为在我读到这个问题之前，我并没有最模糊的概念是什么`spline`回来了。

所以我的第一站是`?spline`，然后我跳到**价值**部分，在那里我发现：

> spline 返回一个包含分量 x 和 y 的列表，其中给出了插值发生的坐标和插值值。

啊哈！因此，对于发送到我们尚未编写的函数的每一块数据`ddply`，它需要获取两个组件的列表并将它们简单地转换为数据框，以便`ddply`可以轻松地将它们重新组合在一起。

因此，我编写了一个函数，该函数通过简单地拟合`spline`模型开始：

```
Spline <- spline(x = x$Seconds, y = x$Speed) 
```

然后获取结果并将其打包到数据框中：

```
data.frame(Seconds = Spline$x,Speed = Spline$y) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T05:05:44.487

这可能应该是一个评论，但它太大了，所以（如今天在 r-help 上关于列表作为列中的元素的早期问题中所示）我正在回答关于如何“手动”创建该结构的子问题：

```
 x <- data.frame(Model = rep(letters[1:3] , each=2) )
 x$Spline <- list(  list( 1.0, 1.2, 1.4, 1.6, 1.8, 2.0), 
                    list( 5, 6, 7, 8, 9, 10), 
                    list( 3.0, 4.4, 5.8, 7.2, 8.6, 10.0), 
                    list( 20, 20, 20, 20, 20, 20), 
                     list( 15, 14, 13, 12, 11, 10) )
x
#------------------
  Model                        Spline
1     a  1.0, 1.2, 1.4, 1.6, 1.8, 2.0
2     a             5, 6, 7, 8, 9, 10
3     b 3.0, 4.4, 5.8, 7.2, 8.6, 10.0
4     b        20, 20, 20, 20, 20, 20
5     c        20, 22, 24, 26, 28, 30
6     c        15, 14, 13, 12, 11, 10 
```

# elasticsearch - Pyes：将对象类型选择性分配给 JSON

> ID：11895433
> 
> 赞同：0
> 
> 时间：2012-08-10T04:19:33.430
> 
> 标签：elasticsearch, pyes

当我在对象类型上找到这个片段时，我试图理解并通过弹性搜索来处理 PyES 的一些示例用法： [http ://packages.python.org/pyes/guide/reference/mapping/object-type.html](http://packages.python.org/pyes/guide/reference/mapping/object-type.html)

在示例 JSON 中：

```
{
    "tweet" : {
        "person" : {
            "name" : {
                "first_name" : "Shay",
                "last_name" : "Banon"
            },
            "sid" : "12345"
        },
        "message" : "This is a tweet!"
    }
} 
```

“tweet”、“person”和“name”都是词典。 **为什么在他的对象类型的示例映射中，他没有添加`"type": "object"`到`"name"`or`"tweet"`字典中，如下图**：

```
{
    "tweet" : {
        "properties" : {
            "person" : {
                "type" : "object",
                "properties" : {
                    "name" : {
                        "properties" : {
                            "first_name" : {"type" : "string"},
                            "last_name" : {"type" : "string"}
                        }
                    },
                    "sid" : {"type" : "string", "index" : "not_analyzed"}
                }
            }
            "message" : {"type" : "string"}
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T16:07:50.327

示例下的段落指出：“为了标记类型对象的映射，请将类型设置为对象。这是一个可选步骤，因为如果为它定义了属性，它将自动识别为对象映射。” 所以，我认为这个例子只是表明这`"type" : "object"`是可选的。

# sql - Liferay DynamicQuery - xPath 和数组比较

> ID：11895434
> 
> 赞同：0
> 
> 时间：2012-08-10T04:19:33.833
> 
> 标签：sql, xpath, liferay, liferay-6, dynamicquery

我的最终目标是我想获得可以显示我的文章（或任何类型的条目，如果可能的话）的 plid 和 portletId。

我有 sql 查询返回任何可用于显示我的文章的 portlet。但是当我必须使用 dynamicQuery 来获得相同的结果时，我遇到了 xPath 和数组比较的问题，请帮忙！

```
SELECT * FROM portletpreferences pr
WHERE pr.preferences != '<portlet-preferences />' AND pr.ownerid = 0 AND pr.portletid ilike '%_INSTANCE_%' AND pr.plid IN(
    SELECT layout.plid FROM layout 
          WHERE layout.type_ = 'portlet' AND layout.groupid = 19 AND layout.hidden_ is false)
AND pr.portletpreferencesid IN (
        SELECT pr.portletpreferencesid FROM portletpreferences pr
          WHERE 'true' = ANY(xpath('//preference[name="anyAssetType"]/value/text()', XMLPARSE(DOCUMENT pr.preferences))::text[])
               OR (SELECT (array(SELECT id_ FROM journalstructure))::text[]) &&  xpath('//preference[name="classTypeIds"]/value/text()', XMLPARSE(DOCUMENT pr.preferences))::text[] ) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:39:09.103

如果您一心想要使用相同的查询，那么`Custom-SQL`通过创建自定义查找器而不是使用`DynamicQuery`. 这将为您直接使用任何类型的 SQL 查询提供很大的灵活性。

我不认为这个查询可以转换`DynamicQuery`成

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-20T13:53:08.553

DynamicQuery 非常强大，请参阅我的回答如何查找具有特定 JournalArticles 的布局。我认为您的要求与此类似： [Liferay: How to find all Layouts with the specific JournalArticle in AssetPublisher portlet？](https://stackoverflow.com/questions/11986218/liferay-how-to-find-all-layouts-with-the-specific-journalarticle-in-assetpublis/12038652#12038652)

# c# - Windows Phone 7 上的 XNA 中出现横向图形故障

> ID：11895437
> 
> 赞同：3
> 
> 时间：2012-08-10T04:19:52.693
> 
> 标签：c#, windows-phone-7, graphics, xna, visual-glitch

几个月来，我一直在研究跨平台框架/抽象层，基于 WP7 的 XNA 框架和 Android 和 iOS 的 Mono。在获得了适用于 Android 的大部分功能后，我最近回到了 WP7，以便让一个简单的游戏在两个平台上都能运行。

麻烦的是，我遇到了一个非常奇怪的图形错误。该错误不会出现在基于 Windows 的 XNA 游戏中，并且仅在方向为横向（默认或指定）时出现在 WP7 上。故障出现在模拟器上，但不在物理设备上。出于测试目的，我在红色背景上显示单个图像。

**视窗 XNA**

[视窗 http://www.genius-i.com/images/Windows.png](http://www.genius-i.com/images/Windows.png)

**Windows Phone 7（纵向）**

[肖像 http://www.genius-i.com/images/Portrait.png](http://www.genius-i.com/images/Portrait.png)

**Windows Phone 7（横向）**

[景观 http://www.genius-i.com/images/Landscape.png](http://www.genius-i.com/images/Landscape.png)

显然，风景图像并没有像预期的那样出现。虽然这一切都是通过抽象层处理的，但 XNA 平台文件是相同的，Windows 和 WP7 版本之间的唯一区别是目标平台/框架。

同样，对图形设备和渲染器的调用是相同的。

**在构建期间**（从各种类和函数中提取）

```
device = new Microsoft.Xna.Framework.GraphicsDeviceManager(game);
device.PreferredBackBufferHeight = 480;
device.PreferredBackBufferWidth = 800;
Backend.SupportedOrientations = DisplayOrientation.LandscapeLeft | DisplayOrientation.LandscapeRight;
// Whether or not I set the orientation, the glitchoccurs. 
```

**初始化期间**（从各种类和函数中提取）

```
renderer = new SpriteBatch(device.GraphicsDevice); 
```

**绘图期间**

```
device.Clear(Color.Red);
renderer.Begin();
renderer.Draw(ZNGTexture, new Rectangle(10, 400, 145, 66), null, Color.White, 0f, Vector.Zero, SpriteEffects.none, 0f);
renderer.End() 
```

是否有人对可能导致图形故障的原因有任何见解，例如我所描述的故障？

感谢您提供的任何帮助，并且很抱歉在几天内打扰了第二个问题。

**完整代码**

为了帮助识别问题，我提供了大量的实际代码。我最初排除它是因为它有点长，而且这些类是 XNA 大部分功能的简单包装器。

**游戏课**

```
public class Game : Microsoft.Xna.Framework.Game, IGame
{
    #region Data: Fields

    private GraphicsBackendXNA graphics;
    private Renderer2DXNA renderer;
    ContentLoaderXNA content;

    #endregion

    #region Data: Properties

    public GraphicsBackend Backend { get { return graphics; } }
    public Renderer2D Renderer { get { return renderer; } }
    public ContentLoader Loader { get { return content; } }

    #endregion

    #region Methods: Construction

    public Game()
    {
        graphics = new GraphicsBackendXNA(this);
        content = new ContentLoaderXNA(this.Services, "Content");
        FinaliseConstruction();
    }

    protected virtual void FinaliseConstruction() { }

    #endregion

    #region Methods: Initialisation

    protected override void Initialize()
    {
        Core.Console.Initialise(); // Initialised once for error logging.
        base.Initialize();
        renderer = new RendererXNA(graphics);
        Core.Console.Initialise(renderer); // Initialised a second time for graphics services.

        Transform.ScreenSize = new Vector2(Backend.ScreenWidth, Backend.ScreenHeight);

        Core.Audio.MediaPlayer.Initialise(new Audio.MediaHandler());
        Core.Audio.SoundEffect.Initialise(Audio.SoundEffectXNA.SetVolume);

        Core.Input.Input.Set(new KeyboardReaderXNA(), new MouseReaderXNA(), new GamePadReaderXNA(), new Input.Touch.TouchPanelXNA(), new GamePadOutputXNA());
        Core.Input.InputManager.Initialise();
    }

    #endregion

    #region Methods: Loading and Unloading Content

    protected override void UnloadContent()
    {
        content.Unload();
        base.UnloadContent();
    }

    #endregion

    #region Methods: Drawing

    protected override void EndDraw()
    {
        Camera2D.AllOff();
        base.EndDraw();
    }

    #endregion 
```

**图形后端类**

图形后端 (XNA) 类是一个简单的包装类。它扩展了 GraphicsBackend 类，该类是抽象的并且不包含任何功能。

```
public class GraphicsBackendXNA : GraphicsBackend
{
    #region Data: Fields

    private Microsoft.Xna.Framework.GraphicsDeviceManager device;

    #endregion

    #region Data: Properties

    public override Display Display { get { return device.GraphicsDevice.PresentationParameters.ToHeron(); } }
    public override Core.Graphics.Viewport Viewport { get { return device.GraphicsDevice.Viewport.ToHeron(); } }

    public override int ScreenWidth { get { return device.PreferredBackBufferWidth; } set { device.PreferredBackBufferWidth = value; } }
    public override int ScreenHeight { get { return device.PreferredBackBufferHeight; } set { device.PreferredBackBufferHeight = value; } }

    public override bool IsFullScreen { get { return device.IsFullScreen; } set { device.IsFullScreen = value; } }
    public override Core.DisplayOrientation SupportedOrientations
    {
        get { return ((Core.DisplayOrientation)((int)device.SupportedOrientations); }
        set { device.SupportedOrientations = (Microsoft.Xna.Framework.DisplayOrientation)((int)value); }
    }

    #endregion

    #region Methods: Construction

    public GraphicsBackendXNA(Microsoft.Xna.Framework.Game game)
    {
        device = new Microsoft.Xna.Framework.GraphicsDeviceManager(game);
    }

    #endregion

    #region Methods: Settings

    public override void ApplyChanges()
    {
        device.ApplyChanges();
    }

    #endregion

    #region Methods: Rendering

    public override void Clear(Colour colour)
    {
        device.GraphicsDevice.Clear(new Microsoft.Xna.Framework.Color(colour.R, colour.G, colour.B, colour.A));
    }

    #endregion

    #region Methods: Renderer

    public override Renderer2D CreateRenderer() { return new Renderer2DXNA(this); }

    #endregion 
```

**渲染器 2D XNA 类**

Renderer 2D XNA 类是另一个简单的包装器。它继承自 Renderer2D 基类，该基类实现了大量用于绘制内容的抽象方法。它有一些非常基本的功能，我将首先详细介绍，但我不会费心包括所有空白方法。

```
public class Renderer2D : IDisposable
{
    private GraphicsBackend backend;
    private Matrix currentMatrix;

    public virtual GraphicsBackend Backend { get { return backend; } protected set { backend = value; } }
    public Matrix CurrentMatrix { get { return currentMatrix; } set { currentMatrix = value; } }

    public Renderer2D(GraphicsBackend backend) { this.backend = backend; CurrentMatrix = Matrix.Identity; }
}

public class Renderer2DXNA : Renderer2D
{
    #region Static: 1 Pixel Texture

    private static Texture2D filler;
    private static bool Initialised { get { return filler != null; } }

    public static void Initialise(GraphicsBackendXNA backend)
    {
        filler = CreateFiller(backend)
    }

    private static Texture2D CreateFiller(GraphicsBackendXNA backend)
    {
        Texture2D rt = new Texture2D(backend.Device.GraphicsDevice, 1, 1);
        rt.SetData<Microsoft.Xna.Framework.Color>(new Microsoft.Xna.Framework.Color[] { Microsoft.Xna.Framework.Color.White });
        return rt;
    }

    #endregion

    #region Data: Fields

    private SpriteBatch renderer;

    #endregion

    #region Methods: Construction

    public Renderer2DXNA(GraphicsBackendXNA backend) : base(backend)
    {
        if (!Initialised)
            Initialise(backend);

        renderer = new SpriteBatch(backend.Device.GraphicsDevice);
    }

    #endregion

    #region Methods: Begin and End

    public override void Begin(Core.Graphics.SpriteSortMode sortMode, BlendMode blendMode, Core.Matrix transformMatrix)
    {
        renderer.Begin(); // Obviously not fully implemented, but simple for now.
    }

    public override void End() { renderer.End(); }

    #endregion

    #region Methods: Draw Image

    public override void Draw(Image Image, Core.Rectangle Boundary, Core.Rectangle? Source, Colour DrawColour, float RotationRadians, Core.Vector2 Origin, Core.SpriteEffects Effects, float Layer)
    {
        if (!(Image is ImageXNA))
            return;

        ImageXNA realImage = Image as ImageXNA;
        Microsoft.Xna.Framework.Rectangle finalSource = 
            Source.HasValue ? Source.Value.ToXNARectangle()
            : new Microsoft.Xna.Framework.Rectangle(0, 0, realImage.Width, realImage.Height);

        renderer.Draw(
            realImage.Texture,
            Boundary.ToXNARectangle(),
            finalSource,
            new Microsoft.Xna.Framework.Color(DrawColour.R, DrawColour.G, DrawColour.B, DrawColour.A),
            RotationRadians,
            Origin.ToXNAVector2(),
            (SpriteEffects)((int)Effects),
            Layer);
    }         

    #endregion

}
// I'll leave off string and shape drawing, considering they're not being used here. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-15T14:53:21.470

添加**device.IsFullScreen = true;** 在构造函数中为我解决了类似的问题。每当我尝试绘制任何东西时，我都会看到对角线的图案。

```
 public Game1()
    {
        graphics = new GraphicsDeviceManager(this);
        Content.RootDirectory = "Content";

        graphics.PreferredBackBufferWidth = 480;
        graphics.PreferredBackBufferHeight = 800;
        graphics.IsFullScreen = true;

        // Frame rate is 30 fps by default for Windows Phone.
        TargetElapsedTime = TimeSpan.FromTicks(333333);

        // Extend battery life under lock.
        InactiveSleepTime = TimeSpan.FromSeconds(1);
    } 
```

[这是我的故障的样子](http://i.stack.imgur.com/Pqnuk.png "这是我的故障的样子")

# ruby-on-rails - Rails 路由重定向到内部 url

> ID：11895438
> 
> 赞同：3
> 
> 时间：2012-08-10T04:19:53.347
> 
> 标签：ruby-on-rails, routes

我已经在我的 rails 项目中将 url 从 /tours/* 更改为 /tours/peru/ *。它工作正常，但谷歌已经索引 /tours/* url，所以我想编写一个将 URL 重定向到新版本 URL 的路由

我的代码是这样的：

```
 resources :tours, path: '/tours/peru' do
    resources :reviews
    resources :images
    resources :quotes
  end 

  match "/tours/:id" => redirect("/tours/peru/:id") 
```

所以我确定谁来编写重定向以使其工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T04:25:46.623

我认为正确的语法是：

```
match "/tours/:id" => redirect("/tours/peru/%{id}") 
```

有关更多信息，请参阅[文档](http://guides.rubyonrails.org/routing.html#redirection)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-13T19:29:01.707

如果您正在寻找 GET 重定向，我会提出类似的建议：

```
get '/tours/:id', to: redirect('/tours/peru/%{id}') 
```

更多 ruby​​ 1.9+ 语法。不要太挑剔。:)

# java - 在数组java上存储字符串

> ID：11895447
> 
> 赞同：4
> 
> 时间：2012-08-10T04:21:25.397
> 
> 标签：java, android

我想知道是否可以在字符串数组上存储字符串变量？我不能很好地解释它，但这是我所做的：

```
 String st1 = "",st2 = "",st3 = "",st4 = "";
 String[] str = {st1,st2,st3,st4}; 
```

不幸的是，当我使用 for 循环时，str 得到 st1 和 st2 和 st3 ans st4 的值，而不是它自己的变量。

这就是我想做的事情。例如，每当有一个字符串数组时：

```
String[] containsValue = { "hi", "hello", "there" };

String strHi, strHello, strThere;
String[] getContainsValue = { strHi, strHello, strThere };

for (int x = 0; x < getContainsValue.length; x++) {
    getContainsValue[x] = containsValue[x];
}

The value of:
strHi = "hi"
strHello = "hello"
strThere = "there"; 
```

基本上我想将 containsValue[] 的值传输到 3 个字符串，即存储在 getContainsValue[] 中的 strHi、strHello、strThere。然后使用 for 循环为它们分配来自 containsValue[] 的值。这可能吗？如果是这样，那么你能给我一些格式怎么做吗？谢谢..

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-10T04:24:45.317

您可以使用`Map<K,V>`.

```
Map<String,String> map=new HashMap<String,String>();
map.put("strHi","hi");
map.put("strHello","hello");
map.put("strThere","there");

System.out.println(map.get("strHello")); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-10T07:03:37.633

您可以使用枚举类作为所需的数组：

```
public enum EnumModifE {
    str1("1"), str2("2"), str3("3");
    String value;
    EnumModifE(final String s) {
        this.value = s;
    }
    public void setValue(final String s) {
        this.value = s;
    }
}
public class EnumModifM {
    public static void main(final String[] args) {
        for (final EnumModifE eme : EnumModifE.values()) {
            System.out.println(eme + "\t" + eme.value);
        }
        EnumModifE.str1.setValue("Hello");
        EnumModifE.str2.setValue("all");
        EnumModifE.str3.setValue("[wo]men");

        for (final EnumModifE eme : EnumModifE.values()) {
            System.out.println(eme + "\t" + eme.value);
        }
    }
} 
```

输出

```
str1    1
str2    2
str3    3
str1    Hello
str2    all
str3    [wo]men 
```

请参阅[有效的 Java](http://rabieramadan.org/classes/2012/Advpro/Lectures/Prentice.Hall.Effective.Java.2nd.Edition.May.2008.pdf)使用枚举

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-10T05:16:46.417

您正在寻找的概念是“左值”。简而言之，当您使用变量时，您是在使用变量中包含的值，还是在谈论变量本身以便您可以在其中存储其他内容？您希望您调用的数组具有、和`getContainsValue`的左值。不幸的是，在 Java 中没有办法做到这一点。用、和初始化，并使用这些变量的**值**，而不是它们的**l-values**。`strHi``strHello``strThere``getContainsValue``strHi``strHello``strThere`

 ****让我们退后一步，多谈谈左值与值（有时是右值）。考虑以下代码片段：

```
int i = 17;
i = i + 1; 
```

第二行显然不是一个等式。那将是荒谬的。相反，它是一个**任务**。赋值左边和右边的**i**的含义是不同的。在右侧，**i**表示使用该变量的值，在本例中为 17。在左侧，**i**表示变量本身，作为存储值的目的地。尽管它们看起来相同，但在右侧使用**i是为了它的值（更具体地说，是它的****r-value**），而在左侧使用**i是为了它的****l-value**。

在 Java 中，无法在数组初始值设定项中表达变量的左值，因此您尝试执行的操作不起作用。正如其他人指出的那样，在 C 等其他语言中，通过使用 & （地址）运算符，这是可能的。

由于 Java 表达左值的方式有限，通常“存放东西的地方”的概念是通过**对对象的引用来**表达的。然后可以使用此引用来存储该对象的**字段**或调用该对象的**方法**。

假设我们有一个这样的类：

```
class MyContainer {
    String str;
    void setString(String s) { str = s; }
    String getString() { return str; }
} 
```

然后，我们可以重写您的代码以执行以下操作：

```
String[] containsValue = { "hi", "hello", "there" };

MyContainer hiCont = new MyContainer();
MyContainer helloCont = new MyContainer();
MyContainer thereCont = new MyContainer();

MyContainer[] getContainsValue = { hiCont, helloCont, thereCont };

for (int x = 0; x < getContainsValue.length; x++) {
    getContainsValue[x].setString(containsValue[x]);
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-10T05:32:10.193

那么你可以使用这个。

```
Map<String,String> map = new HashMap<String,String>();
String[] str = {"hi","hello","there"};

for(int x = 0; x < str.lenght;x++){
map.put(str[x],"something you want to store");

} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-10T04:28:32.067

最好的事情可能是使用 Map 并存储为键值对。

```
Map<String,String> myKVMap=new HashMap<String,String>();
myKVMap.put("strHi","value1");
myKVMap.put("strHello","value2");
myKVMap.put("strThere","value3"); 
```

这样您就可以消除所有变量名称和值的问题。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-08-10T04:47:40.113

我认为你应该使用`Collection`like `Map`。

Map用于以`Key-Value`Pairs的形式存储数据。

**假设在您的情况下，键是字符串，值也是字符串。**

```
Map<String, String> mp = new Map<String, String>();

mp.put("str1","Hi");
mp.put("str2","Hello");

You can iterate over it like the below.

for(Map.Entry<String, String> ar : mp.entrySet()){

      System.out.println("Key: "+ar.getKey()+" :: "+"Value: "+ar.getValue());

 } 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-08-10T04:51:02.863

使用地图是个好主意。另一种方法是实例化类变量，然后分配值将起作用。

```
public void testTransfer() {
    String containsValue[] = { "hi", "hello", "there" };
    Data strHi = new Data();
    Data strHello = new Data();
    Data strThere = new Data();
    Data[] getContainsValue = { strHi, strHello, strThere };
    for (int x = 0; x < getContainsValue.length; x++) {
        getContainsValue[x].value = containsValue[x];
    }
    // print out
    System.out.println(strHi.value);
    System.out.println(strHello.value);
    System.out.println(strThere.value);
}

class Data {
    private String value;
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-08-10T04:34:45.823

如果我理解您的问题，您希望能够通过首先在数组中查找它然后进行分配来分配一个常规的 String 变量。

我同意其他响应者的观点，如果您认为这种方法是必要的，那可能是不明智的。但本着纯问答的精神，方法如下：

```
interface StringAssigner {
    void assign( String strValue );
}

// ...

String strHi, strHello, strThere;

StringAssigner[] asaGetContainsValue = {
    new StringAssigner() { @Override public void assign( String strValue ) { strHi = strValue; } },
    new StringAssigner() { @Override public void assign( String strValue ) { strHello = strValue; } },
    new StringAssigner() { @Override public void assign( String strValue ) { strThere = strValue; } }
};

// ...

for (int x = 0; x < asaGetContainsValue.length; x++) {
    asaGetContainsValue[x].assign( containsValue[x] );
} 
```

拒绝吧。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-08-10T04:34:55.053

我确实同意这里的其他答案，这感觉像是某种解决方法，但在不知道那是什么的情况下，我无法提出更好的建议。

但是，要回答这个问题：但是，您可以将字符串包装在简单的类中，并将该类的对象引用存储在您的数组中和`strHi`、、`strHello`和`strThere`。这样，即使您更改了类中的字符串属性，类对象本身也不会改变，因此您将看到您正在寻找的行为。

* * *

或者，您可以按照其他人的建议使用 HashMap。在您的情况下，如果您仍想使用`getContainsValue`数组，您可以存储密钥：

```
Map<String,String> map = new HashMap<String,String>();
map.put("strHi","");
map.put("strHello","");
map.put("strThere","");

String[] containsValue = { "hi", "hello", "there" };
String[] getContainsValue = { "strHi", "strHello", "strThere" };

for (int x = 0; x < getContainsValue.length; x++) {
    map.put(getContainsValue[x], containsValue[x]);
} 
```

然后，`map.get("strHi")`会`"hi"`如您所愿返回。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2012-08-10T04:36:13.047

没有简单的方法可以在 Java 中完成您想做的事情。您需要的是相当于 C / C++ 地址运算符 ( `&`) ... 或者 Perl 使用字符串作为变量名的能力。Java 中都不支持这些。

理论上，如果变量所在的实例变量，你*可以*使用反射来访问和更新它们。但是执行此操作的代码混乱、低效且脆弱。它不适用于局部变量。

* * *

您最好为问题寻找不同的解决方案；例如，正如其他答案所建议的那样，使用地图。

或者只是满足于一些使用开关或一系列`if else if`测试和原始变量的笨重（但健壮且相当高效）的代码。****

# python - PyQt 和 Threads：多线程查询

> ID：11895450
> 
> 赞同：1
> 
> 时间：2012-08-10T04:22:40.657
> 
> 标签：python, multithreading, pyqt, methodology

# 情况

我正在使用`python 2.7`. 我正在开发一个具有 GUI 的应用程序，使用`PyQt4`.

我在小部件中有一个按钮，当您单击它时，它将请求用户指定的一系列 ID。用户可以指定程序应该为“作业”分配多少线程。

## 我最初的想法

该按钮生成一个作业线程并将 ID 范围和线程数传递给它。然后，作业线程可以创建子线程并根据需要从该范围内向它们传递 ID。

获取所有 ID 后，作业线程可以停止其所有工作线程，然后自行停止。

当工作中的工作线程获取数据时，我将利用信号/插槽来更新 GUI 元素。

我正在使用线程，因此 GUI 在获取过程中仍然可以交互。

## 问题

当我试图从一个线程中生成一个线程时，发生了“可怕的 PyQt 多线程问题”。

```
QObject: Cannot create children for a parent that is in a different thread. 
```

## 我的解决方法

我只是从包含按钮的小部件中生成了作业线程和工作线程，因此不会从线程内生成任何线程，然后将工作线程“连接”到作业线程。

其中aJob`aThread = ScrapeThread(self, aJob)`是主作业线程。

这似乎可行，但感觉更像是一种解决方法，而不是正确的方法。

## 问题

我所做的似乎是一种解决方法，而不是在 PyQt 中进行多线程的正确方法。

有什么建议吗？

# sql - SSIS字符串可变大小

> ID：11895454
> 
> 赞同：3
> 
> 时间：2012-08-10T04:23:59.697
> 
> 标签：sql, ssis

我想知道 SSIS 字符串变量的大小限制是多少。我有一个 OLE DB 数据源，它查询一列（字母数字 10 位）值并将结果集提供给脚本任务，然后脚本任务创建一个基于集合的删除 sql 语句（即 DELETE FROM Table Where ID IN("所有 id 都到这里”）并将 sql 语句分配给一个字符串变量，第三个任务（执行 sql）然后从该变量执行 sql。我想知道我是否在 IN 子句中获得 10,000 个值会导致任何问题字符串变量？请指教

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T04:41:27.057

字符串变量大小没有限制。SSIS 数据类型派生自 . `net`子系统，因此如果您确实有一个非常非常大的字符串值，那么您可能会耗尽内存

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-10-23T06:43:04.800

一种可能的解决方案是将 ID 放在目标数据库的临时表中，然后您可以执行 DELETE 语句，并在临时表和要从中删除的表之间建立连接。

或者，您可以重写您的语句：DELETE FROM Table WHERE ID IN (SELECT ID FROM TempTable)

# android - 渲染小数点后三位

> ID：11895461
> 
> 赞同：1
> 
> 时间：2012-08-10T04:24:42.287
> 
> 标签：android

我正在尝试编写一个程序。将十进制数字四舍五入（23.4353353 到 23.435）。它对我来说很好用。

问题：-

如果我只输入 23 位数字，没有小数点，它只显示 23.0。

如果十进制值为 3：-

我想要任何像 23,40,56 这样的值。他们应该显示 ilke 23.000 ,40.000

```
public class ProjectDecimalActivity extends Activity {
public static EditText et1;
Button btn;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    et1 =(EditText)findViewById(R.id.textView1);
    btn =(Button)findViewById(R.id.btn1);

}
public void onclick(View v)
{  
    String value = et1.getText().toString();
    int decimalvalue = 3;

    et1.setText(getValue(value, decimalPlaces).toString());
}
public static Float getValue(String value, int decimalvalue)
{
    Float retVal = null;

    try
    {
        float floatValue = Float.parseFloat(value);

        //look for decimal point
        int index = value.indexOf('.'); 
        if (index >= 0)
        {
            String fractional = value.substring(index);

            //do the round off only when the fraction length
            //is greater than decimal places
            if (fractional.length() > decimalvalue)
            {
                floatValue = roundOff(floatValue, decimalPlaces);
            }
        }
        returnvalvalue = new Float(floatValue);
    }
    catch(NumberFormatException nfe) 
    {
        //do nothing
    }

    return retVal;
}

public static float roundOff(float value, int decimalPlaces)
{
    float returnvalvalue = value;

    float factor = 1;
    for (int i = 0; i < decimalPlaces; i++)
    {
        factor *= 10;
    }

    float roundFactor = 5/(factor*10);
    int intFactor = (int) ((value + roundFactor) * (factor));
    returnvalvalue = (float) intFactor/(factor);

    return returnvalvalue ;
}} 
```

我的 xml 代码是：-

```
<EditText
    android:id="@+id/textView1"
    android:layout_width="200dp"
    android:layout_height="wrap_content"
    android:layout_gravity="center_horizontal"
    android:inputType="numberDecimal" />

<Button
    android:id="@+id/btn1"
    android:layout_gravity="center_horizontal"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:onClick="onclick"
    android:text="click" /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T04:29:14.547

使用[`DecimalFormat`](http://developer.android.com/reference/java/text/DecimalFormat.html).

```
DecimalFormat threeZeroes = new DecimalFormat("#0.000");
double x = 505.0;
String result = threeZeroes.format(x);
Log.i("RESULT", result); // Prints "505.000" 
```

Example Depot 有很多关于这个主题[的例子。](http://www.exampledepot.com/egs/java.text/FormatNum.html)

像这样实现它：

```
double decimalValue = Double.parseDouble(value);
String result = threeZeroes.format(decimalValue);
et1.setText(result); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T04:35:45.730

```
et1.setText(String.format("%.3f", getValue(value, decimalPlaces))); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T04:38:54.970

`DecimalFormat`从`java.text`包装中使用。

```
DecimalFormat df = new DecimalFormat("#.000");
double d = 45;
System.out.println(df.format(d)); 
```

# php - 自动完成问题

> ID：11895468
> 
> 赞同：2
> 
> 时间：2012-08-10T04:25:17.120
> 
> 标签：php, javascript, jquery, mysql

我正在编写一个新网站来学习 PHP 和编码，并且正在制作一个由两个 mysql 表填充的自动建议。

这是我的代码（是的，我正在使用 mysql，但是一旦找到解决方案，我将在 mysqli 中重写它！）：

建议.php：

```
require("./config.php");

$q = $_GET['q'];

$names = '';

$result = mysql_query("SELECT name FROM company WHERE name LIKE '$q%' UNION SELECT cat FROM cat WHERE cat LIKE '$q%' UNION SELECT subcat FROM subcat WHERE subcat LIKE '$q%' LIMIT 10"");

while ($row = mysql_fetch_array($result)) { $names .= $row[name]."\n"; }

echo $names;
?> 
```

index.php（搜索框所在的位置）

```
<form class="form-search span8 offset6">
   <input type="text" id='search' name='q' class="input-medium search-query">
   <button type="submit" class="btn btn-warning">GO!</button>
</form> 
```

稍后在 index.php 中（我之前调用 jquery.js）：

```
 <script src="public/js/jquery-ui-1.8.22.custom.min.js" type="text/javascript"
charset="utf-8"></script>
<script>
    $(function () {
        $(document).ready(function () {
            $("#search").autocomplete("./suggest.php");
        });
    });
</script> 
```

我试图填充我的自动建议的行是 subcat 表中的**subcat****行**、**company**表中的**name**表和**cat**表中的**cat**。

 ******自动提示没有出现？怎么了？

感谢大家的帮助！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T04:31:04.357

尝试从 php 发送 JSON 格式的数据，例如：

```
$names = array();
while ($row = mysql_fetch_array($result)) { 
    $names[] = $row['name']; 
}
echo json_encode($names);//format the array into json data 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T04:29:15.747

[http://jqueryui.com/demos/autocomplete/](http://jqueryui.com/demos/autocomplete/)

> 预期的数据格式 来自本地数据、url 或回调的数据可以有两种变体：
> 
> ```
> An Array of Strings:
> [ "Choice1", "Choice2" ]
> An Array of Objects with label and value properties:
> [ { label: "Choice1", value: "value1" }, ... ] 
> ```

您只是返回由换行符分隔的选定名称

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T04:32:11.853

来自 jquery autocomplete 的文档

[http://jqueryui.com/demos/autocomplete/](http://jqueryui.com/demos/autocomplete/)

来自本地数据、url 或回调的数据可以有两种变体：

```
An Array of Strings:
[ "Choice1", "Choice2" ]
An Array of Objects with label and value properties:
[ { label: "Choice1", value: "value1" }, ... ] 
```

尝试相应地传递您的数据。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-10T04:32:56.353

阅读jquery ui 自动完成的[文档](http://jqueryui.com/demos/autocomplete/#remote)

### 预期数据格式

来自本地数据、url 或回调的数据可以有两种变体：

*   字符串数组：
    `[ "Choice1", "Choice2" ]`

*   具有标签和值属性的对象数组：
    `[ { label: "Choice1", value: "value1" }, ... ]`

> 标签属性显示在建议菜单中。用户从菜单中选择某些内容后，该值将插入到输入元素中。如果只指定了一个属性，它将同时用于这两个属性，例如。如果您仅提供值属性，则该值也将用作标签。******

# javascript - 将新项目添加到 scrollabe div 的底部

> ID：11895470
> 
> 赞同：0
> 
> 时间：2012-08-10T04:25:32.983
> 
> 标签：javascript, html, css

我正在尝试通过单击 javascript 中的按钮将 div 附加到另一个 div 的底部，但是一旦达到外部容器的高度，插入后它就不再将列表滚动到底部。

请在[此处查看小提琴](http://jsfiddle.net/MrvcB/1/)

如果单击红色添加按钮，直到列表中出现大约 13 个项目，则 scrollTop 函数似乎出现问题，并且它不再正常运行（在同一位置徘徊）。

我对此很迷茫，并为容器和侧面 div 尝试了一堆不同的 css 设置组合。请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T04:41:16.967

采用

```
list.scrollTop(list.get(0).scrollHeight); 
```

而不是

```
list.scrollTop($(".active").offset().top); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T04:42:22.923

我已将您的代码重新格式化为更具 jQuery 风格。然而，主要的变化是改变`list.scrollTop()`函数，使它只滚动到底部`list`：

```
$(document).ready(function() {
    var list = $("#q-d-list");

    $(document).on('click', '#add', function() {
        $('.active', list).removeClass("active");

        var count = list.children().length + 1;
        var active = $('<div />', {
            'data-qid': count,
            'class': 'mli active'
        }).text('q' + count).appendTo(list);

        list.scrollTop(list[0].scrollHeight);
    });
});​ 
```

**演示：http: [//jsfiddle.net/MrvcB/19/](http://jsfiddle.net/MrvcB/19/)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T04:48:23.153

尝试：

```
$(document).ready(function () {
var count = 2;

    $("#add").live("click", function () {
        var list= $("#q-d-list");

        // remove the active class from the old item
        var $clone = $(list.find("div:last-child").removeClass("active").clone());
        count+=1;

        var str_count = "q"+count.toString();
        $clone.addClass("active").attr("data-qid",str_count).text(str_count);
        list.append($clone);
        list.scrollTop(list.get(0).scrollHeight);        
    });
}); 
```

[http://jsfiddle.net/H4Kb3/](http://jsfiddle.net/H4Kb3/)

# android - 我已上传 apk 以供发布。如何上传其他带有图片的文件？

> ID：11895472
> 
> 赞同：1
> 
> 时间：2012-08-10T04:25:41.520
> 
> 标签：android, publishing, google-play

我在 IntelliJ IDEA 11 中创建了我的 Android 应用程序的签名和保护发布 apk。我将它上传到了 Google Play。但只有apk。我应该如何上传项目图片（我猜它们在 test.apk.res、classes.dex、test.apk.analigned 中）。我找不到将其他文件上传到 Google Play 的方法。

还是所有图像都应该在唯一的发布 apk 文件中？但它太小，无法包含图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T04:30:27.603

> APK 包含该程序的所有代码（例如 .dex 文件）、资源（项目中使用的图像和布局）、资产、证书和清单文件。与许多文件格式一样，APK 文件可以有任何所需的名称，但必须以四个字符、三个字母扩展名 .apk 结尾。

# css - 引导元素 100% 宽度

> ID：11895476
> 
> 赞同：106
> 
> 时间：2012-08-10T04:26:45.300
> 
> 标签：css, twitter-bootstrap, width

我想创建交替的 100% 彩色块。一个“理想”的情况被说明为一个附件，以及当前的情况。

所需设置：

![http://i.imgur.com/aiEMJ.jpg](../Images/8c4afd6a3794a85eaa7c2064c9054120.png)

目前：

![http://i.imgur.com/3Sl27.jpg](../Images/53ed532e2e894207d62e09688464f9c4.png)

我的第一个想法是创建一个 div 类，给它一个背景颜色，并给它 100% 的宽度。

```
.block {
    width: 100%;
    background: #fff;
} 
```

但是，您可以看到这显然不起作用。它仅限于容器区域。我试图关闭容器，但也没有用。

* * *

## 回答 #1

> 赞同：87
> 
> 时间：2013-08-06T01:53:13.820

该类`container`故意不是 100% 宽度。它是不同的固定宽度，具体取决于视口的宽度。

如果要使用屏幕的整个宽度，请使用`.container-fluid`：

**引导程序 3：**

```
<body>
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-6"></div>
      <div class="col-lg-6"></div>
    </div>
    <div class="row">
      <div class="col-lg-8"></div>
      <div class="col-lg-4"></div>
    </div>
    <div class="row">
      <div class="col-lg-12"></div>
    </div>
  </div>
</body> 
```

**引导程序 2：**

```
<body>
  <div class="row">
    <div class="span6"></div>
    <div class="span6"></div>
  </div>
  <div class="row">
    <div class="span8"></div>
    <div class="span4"></div>
  </div>
  <div class="row">
    <div class="span12"></div>
  </div>
</body> 
```

* * *

## 回答 #2

> 赞同：32
> 
> 时间：2016-04-16T21:44:38.543

# 快速回答

1.  使用多个**NOT NESTED** `.container` s
2.  `.container`将那些你想拥有全角背景的 s包裹在一个`div`
3.  将 CSS 背景添加到包装 div

**小提琴：**简单：[https](https://jsfiddle.net/vLhc35k4/) ://jsfiddle.net/vLhc35k4/ ，容器边框：[https ://jsfiddle.net/vLhc35k4/1/](https://jsfiddle.net/vLhc35k4/1/)
**HTML：**

```
<div class="container">
  <h2>Section 1</h2>
</div>
<div class="specialBackground">
  <div class="container">
    <h2>Section 2</h2>
  </div>
</div> 
```

**CSS：** `.specialBackground{ background-color: gold; /*replace with own background settings*/ }`

# 更多信息

## 不要使用嵌套容器

许多人会（**错误地**）建议您应该使用嵌套容器。
好吧，你不**应该**。
它们不是嵌套的。（请参阅文档中的“[容器”部分）](http://getbootstrap.com/css/#overview-container)

## 这个怎么运作

`div`是一个块元素，默认情况下跨越文档正文的全宽 - 有全宽功能。它还具有其内容的高度（如果您未另行指定）。

引导容器不需要是 body 的直接子级，它们只是具有一些填充和可能一些屏幕宽度可变的固定宽度的容器。

如果基本网格`.container`有一些固定宽度，它也会自动水平居中。
因此，您是否将其视为：

1.  身体的直接子代
2.  **基本** 的直接`div`子代，即主体的直接子代。

“基本”`div`是`div`指没有 CSS 改变他的边框、填充、尺寸、位置或内容大小。实际上只是一个带有`display: block;`CSS 和可能背景的 HTML 元素。
但是当然设置垂直的CSS（高度，填充顶部，...）不应该破坏引导网格:-)

### Bootstrap 本身使用相同的方法

...遍布它自己的[网站](http://getbootstrap.com/)，并在它的“JUMBOTRON”示例中：http:
[//getbootstrap.com/examples/jumbotron/](http://getbootstrap.com/examples/jumbotron/)

* * *

## 回答 #3

> 赞同：29
> 
> 时间：2014-04-18T14:39:14.573

这是您如何使用**Bootstrap 3**实现所需设置的方法：

```
<div class="container-fluid">
    <div class="row"> <!-- Give this div your desired background color -->
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    ... your content here ...
                </div>
            </div>
        </div>
    </div>
</div> 
```

该`container-fluid`部分确保您可以在整个宽度上更改背景。该`container`部分确保您的内容仍以固定宽度包裹。

这种方法有效，但我个人不喜欢所有的嵌套。但是，到目前为止，我还没有找到更好的解决方案。

* * *

## 回答 #4

> 赞同：24
> 
> 时间：2016-06-09T14:53:30.567

有一个使用 vw 的解决方法。当您无法创建新的流体容器时很有用。这在经典的“容器”div 中将是全尺寸的。

```
.row-full{
 width: 100vw;
 position: relative;
 margin-left: -50vw;
 left: 50%;
} 
```

在此之后有侧边栏问题（感谢@Typhlosaurus），用这个js函数解决，在文档加载和调整大小时调用它：

```
function full_row_resize(){
    var body_width = $('body').width();
    $('.row-full').css('width', (body_width));
    $('.row-full').css('margin-left', ('-'+(body_width/2)+'px'));
    return false;
} 
```

* * *

## 回答 #5

> 赞同：21
> 
> 时间：2018-11-27T10:29:28.367

在引导程序 4 中，您可以使用“w-100”类（w 为宽度，100 为 100%）

您可以在此处找到文档： [https ://getbootstrap.com/docs/4.0/utilities/sizing/](https://getbootstrap.com/docs/4.0/utilities/sizing/)

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2016-10-14T08:20:24.287

如果您无法更改 HTML 布局：

```
.full-width {
    width: 100vw;
    margin-left: -50vw;
    left: 50%;
} 
```

```
<div class="container">
  <div class="row">
    <div class="col-xs-12">a</div>
    <div class="col-xs-12">b</div>
    <div class="col-xs-12 full-width">c</div>
    <div class="col-xs-12">d</div>
  </div>
</div> 
```

演示： http: [//www.bootply.com/tVkNyWJxA6](http://www.bootply.com/tVkNyWJxA6)

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2019-12-11T11:16:08.537

有时无法关闭内容容器。我们使用的解决方案有点不同，但由于 Firefox 滚动条的大小而防止溢出！

```
.full-width {
 margin-top: 15px;
 margin-bottom: 15px;
 position: relative;
 width: calc(100vw - 10px);
 margin-left: calc(-50vw + 5px);
 left: 50%;
} 
```

这是一个例子：[https ://jsfiddle.net/RubbelDeKatz/wvt9253q](https://jsfiddle.net/RubbelDeKatz/wvt9253q)

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2017-12-05T05:40:36.163

代替

```
style="width:100%" 
```

尝试使用

```
class="col-xs-12" 
```

它将为您节省 1 个字符 :)

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2012-08-10T18:38:07.637

对不起，应该也要求你的CSS。照原样，基本上你需要看的是给你的容器 div`.container { width: 100%; }`在你的 css 中的样式，然后只要你不给它们自己的宽度，封闭的 div 就会继承它。您还缺少一些结束标记，并且在没有打开的情况下`</center>`关闭 a ，至少在这部分代码中是这样。`<center>`我不确定您是否想要包含您的内容的同一 div 中的图像或单独的图像，所以我创建了两个示例。我将 img 的宽度更改为 100px 仅仅是因为 jsfiddle 提供了一个小的查看区域。让我知道它是否不是您要找的东西。

内容和图像分开：http: [//jsfiddle.net/QvqKS/2/](http://jsfiddle.net/QvqKS/2/)

同一 div 中的内容和图像（img 向左浮动）：http: [//jsfiddle.net/QvqKS/3/](http://jsfiddle.net/QvqKS/3/)

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2020-06-04T14:22:51.367

我将使用两个单独的“容器”div，如下所示：

```
<div class="container">
   /* normal*/
</div>
<div class="container-fluid">
   /*full width container*/
</div> 
```

请记住，container-fluid 不会跟随您的断点，它是一个全宽容器。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-01-03T10:59:24.343

尽管人们提到在这种情况下您将需要使用 .container-fluid ，但您还必须从引导程序中删除填充。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-11-19T07:38:24.927

这必须有效（手机和桌面屏幕）：

`class: alignfull`并且`class: img-fluid`会施展魔法。

```
 <div class="alignfull">

         <img class="img-fluid" style="background-size: cover;
                                       background-position: center ; 
                                       background-repeat: no-repeat;
                                       height: auto;
                                       min-width: 100%; 
                                       width: -moz-available; " 
         src="{{ $image->image }}" alt="An image">

   </div> 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2015-10-29T01:55:56.020

我想知道为什么有人会尝试“覆盖”容器宽度，因为它的目的**是**用一些填充来保留它的内容，**但我有类似的情况**（这就是为什么我想分享我的解决方案，即使有答案）。

在我的情况下，我希望将所有内容*（所有页面）*呈现在一个容器中，所以这是我的 _Layout.cshtml 中的一段代码：

```
<div id="body">

    @RenderSection("featured", required: false)

    <section class="content-wrapper main-content clear-fix">
        <div class="container">
            @RenderBody()
        </div>
    </section>
</div> 
```

在我的主页索引页面中，我有一个背景标题图像，我想**填充整个屏幕宽度**，所以解决方案是让 Index.cshtml 像这样：

```
@section featured {
<!-- This content will be rendered outside the "container div" -->
<div class="intro-header">
    <div class="container">SOME CONTENT WITH A NICE BACKGROUND</div>
</div>
}

<!-- The content below will be rendered INSIDE the "container div" -->
<div class="content-section-b">
    <div class="container">
        <div class="row">
          MORE CONTENT
        </div>
    </div>
</div> 
```

我认为这比尝试解决方法要好，因为创建部分的目的是允许（或强制）视图动态替换布局中的某些内容。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2016-07-29T17:39:19.873

以下答案无论如何都不是最佳的，但我需要一些东西来保持它在容器内的位置，同时它会完全拉伸内部 div。

[https://jsfiddle.net/fah5axm5/](https://jsfiddle.net/fah5axm5/)

```
$(function() {
    $(window).on('load resize', ppaFullWidth);

    function ppaFullWidth() {
        var $elements = $('[data-ppa-full-width="true"]');
        $.each( $elements, function( key, item ) {
            var $el = $(this);
            var $container = $el.closest('.container');
            var margin = parseInt($container.css('margin-left'), 10);
            var padding = parseInt($container.css('padding-left'), 10)
            var offset = margin + padding;

            $el.css({
                position: "relative",
                left: -offset,
                "box-sizing": "border-box",
                width: $(window).width(),
                "padding-left": offset + "px",
                "padding-right": offset + "px"
            });
        });
    }
}); 
```

# api - 什么是 Bugzilla REST API URL？

> ID：11895485
> 
> 赞同：0
> 
> 时间：2012-08-10T04:27:53.620
> 
> 标签：api, url, rest, bugzilla

我在办公室的服务器上安装了一个 Mozilla Bugzilla，我想访问 REST API [https://wiki.mozilla.org/Bugzilla:REST_API](https://wiki.mozilla.org/Bugzilla:REST_API)以便我可以从我制作的一个小项目管理工具中查询 Bugzilla 错误。问题是我一生都无法弄清楚 API url 应该是什么。

[假设我在http://bugzilla.mydomain.com/](http://bugzilla.mydomain.com/)上安装了 bugzilla ，我想查询 bug 35 信息，我认为 url 应该看起来像这样。[http://bugzilla.mydomain.com/latest/bug/35](http://bugzilla.mydomain.com/latest/bug/35)

可以向我解释一下 URL 应该是什么样子的吗？我是否需要告诉管理员以不同的方式配置 bugzilla，以便我可以访问 API？

任何帮助/提示将不胜感激。

使用 Bugzilla 版本 4.0.1

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T23:19:55.537

“最新”只是 REST_API 团队选择部署各种版本的方式的一部分。

您必须在它自己的端点上安装 REST_API，例如[http://bugzilla-api.mydomain.com/](http://bugzilla-api.mydomain.com/)并将其配置为使用您的 Bugzilla。请参阅 REST_API 附带的安装文件。

# cakephp - Cakephp 重定向会话后在 Live 服务器中不起作用

> ID：11895487
> 
> 赞同：3
> 
> 时间：2012-08-10T04:28:18.493
> 
> 标签：cakephp, cakephp-2.0, cakephp-2.1

我在我的用户控制器中使用 cakephp 2.0 我正在使用**登录**操作设置会话

> $this->Session->write('Users',$value);

一旦会话设置，它将重定向到名为**home**的下一个操作。在登录操作中，我记录并检查了该值，但是在重定向之后，我通过在**主页**操作中使用以下内容读取了会话值

> $this->log($this->Session->read('Users'));

什么都没有显示。但它在本地服务器上工作正常。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:24:46.033

请在您的服务器上检查以下内容。

*   检查您的 php.ini 文件是否启用了会话。
*   session.cookie.domain 是否设置为您的服务器。
*   检查您的 php 文件是否有任何空行，`?>`如果有，请删除。

然后尝试。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T04:43:36.573

我的理解是：您正在将会话值写入日志文件。该值不会显示在屏幕上，而是您可以在`app/tmp/logs/error.log`文件中找到该值。

[此链接](http://book.cakephp.org/2.0/en/core-libraries/logging.html#using-the-default-filelog-class)将帮助您了解该概念。

显示会话值使用`pr($this->Session->read('Users'));`

请询问它是否不适合您。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T04:49:30.463

用户 cakephp`debug toolkit`检查会话值。通过使用它，您将能够监控许多事情，例如

*   请求历史。
*   会议。
*   Sql 日志。
*   计时器。
*   日志（您在问题中使用的日志）。
*   变量设置为您的视图。

[https://github.com/cakephp/debug_kit/](https://github.com/cakephp/debug_kit/)不同版本的Cake 可以使用不同版本的调试工具包。

# php - 标准化 CSV 文件类型

> ID：11895490
> 
> 赞同：3
> 
> 时间：2012-08-10T04:28:33.547
> 
> 标签：php, excel, csv

我正在使用 csv 解析器类 (http://code.google.com/p/php-csv-parser/) 来解析和提取 csv 文件中的数据。我遇到的问题是它仅适用于某些 csv 文件类型。（Mac、Ms-Dos 和 Windows 似乎都有 csv 类型。）

如果我使用使用 csv - windows 选项保存在 mac（在 excel 中）上的 csv 文件，则该代码有效。但是，如果我将 Windows 机器上的文件简单地保存为 csv，那是行不通的。（你会认为这与在 mac 上保存 csv-windows 的格式相同。）如果我将它保存为 csv-MSDOS 文件，它确实可以在 Windows 机器上工作。这似乎有点荒谬。

有没有办法标准化这三种文件类型，以便我的代码可以读取上传的任何类型的 csv？

我想它会是这样的：

```
$standardizedCSV = preg_replace_all('/\r[^\n]/', '\r\n', $csvContent); 
```

我知道这与每种文件类型如何处理行尾有关，但我有点想弄清楚这些差异。如果有人有任何建议，请告诉我。

谢谢。

更新：这是我正在使用的 csv 解析器中的相关代码，它逐行提取数据：

```
$c = 0;
$d = $this->settings['delimiter'];
$e = $this->settings['escape'];
$l = $this->settings['length'];

$res = fopen($this->_filename, 'r');

while ($keys = fgetcsv($res, $l, $d, $e)) {

if ($c == 0) {
   $this->headers = $keys;
} else {
   array_push($this->rows, $keys);
}

$c ++;
} 
```

我想我需要了解 fgetcsv 如何处理 eol，以便我可以确保以相同的方式处理任何格式的 csv 文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-14T02:13:58.387

这似乎可以解决问题：

```
 ini_set("auto_detect_line_endings", true); 
```

问题在于行尾，但我不需要创建自己的 EOL 解析器。这个运行时设置为我做了。请参阅[http://us.php.net/manual/en/filesystem.configuration.php#ini.auto-detect-line-endings](http://us.php.net/manual/en/filesystem.configuration.php#ini.auto-detect-line-endings)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T05:22:27.907

我认为行尾不是问题。CSV 的问题在于它只是一个“逗号分隔值”文件，除此之外没有标准化。所以有些系统使用逗号分隔值，有些使用分号 ( `;`)。我确信有些变体甚至使用了其他值分隔符。

此外，CSV 文件之间的转义字符（通常是反斜杠`\`）可能不同，并且某些 CSV 文件还在每个值周围使用引号 ( `"`)。

CSV 文件可以使用上述之间的任何变化。例如，我相当肯定 Microsoft Excel 导出的 CSV 文件使用分号分隔值，并且值周围没有任何引号。

我确信有一些方法可以自动检测如何解析 CSV 文件，但最好的方法是让用户自行决定。这就是 Excel 所做的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T05:57:45.753

如果您使用 CSV 文件，您必须就许多未正确标准化的细节达成一致：

*   行尾（Unix 0x0a、Macintosh 0x0d、DOS 0x0d 0x0a）
*   字段分隔符（逗号、分号等）
*   字段引用（引用所有字段，仅字符串字段，仅包含字段和行分隔符的字符串字段）
*   在字符串字段中转义双引号（双引号加倍、双引号前的反斜杠字符等）
*   多行字符串字段（是否允许）
*   文件编码（ISO-8859-1、UTF-8 等）

如果您创建 CSV 阅读器，您可以自动处理行尾和字段引用的不同变化。但是其余的必须事先让 CSV 解析器知道。

事实标准是 Excel 生成的 CSV 格式。但是，Excel 使用不同的格式变体：

*   通常是 DOS 行尾（但我从来没有用 Excel for Macintosh 尝试过）
*   字段分隔符取决于语言环境。如果逗号用于对长数字中的数字进行分组，Excel 使用分号作为字段分隔符。否则逗号。
*   如果需要，Excel 会使用双引号。
*   Excel 将字符串字段中的双引号加倍。
*   Excel 支持多行字符串字段。
*   文件编码似乎是当前语言环境的文件编码。所以它会有所不同。

# html - IE-7 z-index 问题 - 下拉区域在横幅下，其内容未显示在 IE-7 中

> ID：11895511
> 
> 赞同：0
> 
> 时间：2012-08-10T04:30:59.940
> 
> 标签：html, css, internet-explorer, cross-browser

我在这里创建了一个测试用例[http://testcases.site44.com/](http://testcases.site44.com/)在 IE-7 下拉菜单中没有出现横幅图像。在 Firefox 和 chrome 中很好。

请帮助查找问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:29:00.000

尝试将你的元素**id="footer"**设置为比**id="main"更高的 z-index**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:01:20.107

消除

`z-index:1`从 div id="banner" 仅对 ie-7 进行此更改

事实上仅`z-index:1`影响 ie-7

![在此处输入图像描述](../Images/da1d17142cc4b6e14223eb8a91554afc.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T07:17:07.047

IE 在理解 z-index 方面有不同的方法。除了上述链接中非常令人讨厌的 HTML 方法外，您还应该执行以下操作：

如果您有 2 个 div，并且在第一个 div 中，有一些内容应该覆盖第二个中的内容，那么您需要在这两个 div 上设置 z-index，并为具有该内容的那个设置更高的值在另一个之上。

例子：

```
<div id="wrapper">
 <ul id="flyout">
 //
 </ul>
</div>
<div id="content">
 //
</div> 
```

CSS：

```
#wrapper {position:relative;z-index:2;}
#flyout {position:relative;z-index:3;}
#content {position:relative;z-index:1;} 
```

IE 现在明白第一个 div 中的内容应该超过第二个 div 中的内容。

# c# - 以编程方式允许摄像头和麦克风设置

> ID：11895513
> 
> 赞同：0
> 
> 时间：2012-08-10T04:31:09.130
> 
> 标签：c#, java, flash

Flash 播放器在 Flash Player 设置管理器> 摄像头和麦克风 > 摄像头和麦克风设置 > 站点的摄像头和麦克风设置 > 中有一个选项

单击此按钮时，会显示“网站”和“相机和麦克风访问”，我们可以在此处手动添加网站和访问权限。

是否可以进行程序化？

如果是这样……怎么办？

我更喜欢用 C# 或 Java 编写代码

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T04:38:02.273

这是不可能的。

对麦克风的访问是通过 Flash 本身中基于权限的系统完成的。类似于 Google、Facebook 和 LinkedIn 等，它是在用户批准的基础上完成的。

[请阅读闪存文档以获取更多信息](http://www.macromedia.com/support/documentation/en/flashplayer/help/help03.html)。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-12T13:09:53.163

谢谢大家，我通过编辑sol文件实现了它。尽管这是一项乏味的任务，因为没有可用的文档，但通过读取 sol 文件中的每个字符并将我的站点内容添加到其中来实现它。

# qt - QWebView，如何访问https协议的网页？

> ID：11895522
> 
> 赞同：1
> 
> 时间：2012-08-10T04:32:46.143
> 
> 标签：qt, openssl, qwebview

我的平台：win32、QtSDK 2.4.1、MingW32、qt 4.7。我想通过 Https 协议网页访问`QWebView`，我该怎么做，我已经下载了`openssl`二进制文件并设置了它，但是 QWebView 也不起作用，这是怎么回事？我需要编译 Qt 源代码并配置 -openssl？

```
#include<QApplication>
#include<QtWebKit/QWebView>
#include<QUrl>

int main(int argc, char* argv[])
{
    QApplication app(argc, argv);

    QWebView view;
    view.setUrl(QUrl("https://webim.feixin.10086.cn/"));
    view.show();

    return app.exec();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T09:11:20.530

如果 Qt 是在没有参考 openssl 的情况下构建的，它将无法访问任何 https 站点，这取决于 Qt 最初是如何安装在您的计算机上的。

你可以在你的程序中检查 ssl 支持：[QSslSocket::supportsSsl](http://doc.qt.nokia.com/4.7/qsslsocket.html#supportsSsl)，很可能没有它就可以构建。确保 Qt 配置过程知道 ssl 库的位置并从那里重新构建它。

# java - 如何使用java创建简单的NFC程序？

> ID：11895523
> 
> 赞同：27
> 
> 时间：2012-08-10T04:32:51.033
> 
> 标签：java, nfc, open-nfc

我是一个学习java和nfc的新手。其实我真的需要一些关于我的作业“NFC编程”的帮助。我尝试本教程[http://open-nfc.org/wp/editions/sdk-edition/creating-a-java-example/](http://open-nfc.org/wp/editions/sdk-edition/creating-a-java-example/)我仍然收到此错误消息：

```
Start failed !
NfcException : Error while starting the NFC Manager - Caused by NFC error DRIVER
at org.opennfc.NfcManager.start(Unknown Source)
at org.opennfc.NfcManager.getInstance(Unknown Source)
at example.Example.main(Example.java:26)
Exception in thread "main" java.lang.IllegalStateException
at org.opennfc.NfcManager.stop(Unknown Source)
at example.Example.main(Example.java:36) 
```

实际上，我想要运行的是 open-nfc 的这个示例代码

```
NfcManager mgt = NfcManager.getInstance(null);
try {
  System.out.println(mgt.getProperty("open_nfc.version"));
  System.out.println(mgt.getProperty("nfcc.firmware_version"));
} finally {
  try {
    mgt.stop();
  } catch(NfcException e) {
    System.out.println("Error :" + e.getMessage());
  }
} 
```

我已经启动了连接中心、nfc 模拟器和服务器移植。我有一个设备 QPROX QP3000，已经连接到我的 PC。我正在使用 Eclipse Juno 和 Windows 7。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-22T13:44:46.887

线路呼叫`NfcManager.getInstance(null)`失败。您确定 NfcManager.getInstance() 需要`null`参数吗？

之后，调用`mgt.stop()`再次失败`java.lang.IllegalStateException` ，可能是因为它没有开始。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-15T07:22:48.183

我在[这里](http://code.tutsplus.com/tutorials/reading-nfc-tags-with-android--mobile-17278)找到了一篇很棒的文章（[http://code.tutsplus.com/tutorials/reading-nfc-tags-with-android--mobile-17278](http://code.tutsplus.com/tutorials/reading-nfc-tags-with-android--mobile-17278)），通过它我学会了如何通过 NFC 芯片进行通信和付款。通过这个，我希望它能解决你的问题。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-07T08:12:10.290

NfcManager [http://developer.android.com/reference/android/nfc/NfcManager.html](http://developer.android.com/reference/android/nfc/NfcManager.html)的文档提到调用 getSystemService(NFC_SERVICE) 来创建 NfcManager。也是早期堆栈溢出问题的答案[How to check if NFC is enabled or not in android?](https://stackoverflow.com/questions/7618657/how-to-check-whether-nfc-is-enabled-or-not-in-android) 给出了一个简单的示例代码片段。希望这可以帮助。

# javascript - ExpressJS - 在我的翡翠布局上减少编译错误

> ID：11895524
> 
> 赞同：1
> 
> 时间：2012-08-10T04:32:53.633
> 
> 标签：javascript, node.js, express, less, pug

我已经在 Express 的服务器端设置了编译 LESS，它在 Jade 中正常工作，而没有减少布局。

**我的终端：**

```
if(err) throw err;
                ^
Error: ENOENT, open '/Users/lijung/Documents/Project/clubond/public/stylesheets/left_navigator.less' 
```

**应用程序.js：**

```
/**
 * Module dependencies.
 */

var express = require('express')
    , path = require('path')
    , club = require('./routes/club')
    , less = require('less')
    , fs = require('fs');

var app = module.exports = express.createServer();

// Configuration

app.configure(function(){
    var RedisStore = require('connect-redis')(express);
    app.use(express.cookieParser());
    app.use(express.session({ secret: "william", store: new RedisStore }));
    app.use(express.logger());
    app.set('views', __dirname + '/views');
    app.set('view engine', 'jade');
    app.use(express.bodyParser());
    app.use(express.methodOverride());
    app.use(app.router);
    app.set('view options', { layout: false });
    app.use(express.static(path.join(__dirname, 'public')));
});

app.configure('development', function(){
    app.use(express.errorHandler({ dumpExceptions: true, showStack: true }));
});

app.configure('production', function(){
    app.use(express.errorHandler()); 
});

// Routes
//index-in-layout
app.get('/club/:id', club.chkExist, club.getDataById, site.clubPage);

//compile less
app.get("*.less", function(req, res) {
    var path = __dirname + req.url;
    fs.readFile(path, "utf8", function(err, data) {
        if(err) throw err;
        less.render(data, function(err, css) {
    if (err) throw err;
        res.header("Content-type", "text/css");
        res.send(css);
     });
   });
}); 

app.listen(3000);
console.log("Express server listening on port %d in %s mode", app.address().port, app.settings.env); 
```

我将布局放在名为**index_in_layout**的视图中：

```
!!! 5
html
head
    title= title
    script(src='/javascripts/jquery.min.js')
    link(rel="stylesheet", href="/stylesheets/index.css")
    link(rel="stylesheet",type='text/css', href="/public/stylesheets/left_navigator.less")
    script(src='/javascripts/index_in.js')
    block script
body 
```

**index.jade:**

```
extends ./index_in_layout

block script

    script(src='/javascripts/new_club.js')
    script(src='/javascripts/new_bond.js')
    script(src='/javascripts/new_event.js')
    script(src='/javascripts/popup.js')
    script(src='/javascripts/list_clubs.js')
    script(src='/javascripts/list_bonds.js')
    script(src='/javascripts/list_events.js')
    link(rel='stylesheet', type='text/css', href='/public/stylesheets/test.less')

block body 
```

终端一直告诉我`Error: ENOENT`，我的**left_navigator.less**无法打开。我把 test.less 和 navigator.less 放在同一个目录下，没有意义。

服务器端的 LESS 让我发疯。有人可以帮帮我吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T08:00:02.187

除非我遗漏了什么，否则你真的不需要通过这些英雄事迹来减少工作:-) 通常你只需要在你的 app.configure 调用中添加一行，如下所示：

```
app.configure(function() {
    app.set('views', __dirname + '/views');
    ...
    app.use(express.compiler({ src: __dirname + '/public', enable: ['less'] }));
    app.use(connect.static(__dirname + '/public'));
    app.use(app.router);
}); 
```

如果您这样做，则不需要 *.less 文件的特殊路径。您只需在公用文件夹中请求具有相同名称的 *.css，它就会自动生成。如果一个例子有帮助，我在这里使用带有翡翠和 LESS 的主/子布局：

[https://github.com/JustinBeckwith/ExpressStarter](https://github.com/JustinBeckwith/ExpressStarter)

快乐编码！

# php - php & MySQL 只显示第一个单词

> ID：11895526
> 
> 赞同：0
> 
> 时间：2012-08-10T04:33:06.643
> 
> 标签：php, mysql, textbox, echo

我正在使用 PHP 从我的数据库中获取字段我正在使用以下代码：

```
$result = mysql_query("SELECT * FROM product_form WHERE id=1");
while($row = mysql_fetch_array($result))
   {
   $ProductName = $row['ProductName'];
   $ProductName1 = $row['ProductName1'];
   $ProductName2 = $row['ProductName2'];
   $ProductName3 = $row['ProductName3'];
   $ProductName4 = $row['ProductName4'];
   $ProductName5 = $row['ProductName5'];
   } 
```

然后我在页面上显示该文件，如下所示：

```
<? echo("<input type='text' name = 'product_name' size='29' value='$ProductName'/>");?>
<? echo("<input type='text' name = 'product_name1' size='29' value='$ProductName1'/>");?>
<? echo("<input type='text' name = 'product_name2' size='29' value='$ProductName2'/>");?>
<? echo("<input type='text' name = 'product_name3' size='29' value='$ProductName3'/>");?>
<? echo("<input type='text' name = 'product_name4' size='29' value='$ProductName4'/>");?>
<? echo("<input type='text' name = 'product_name5' size='29' value='$ProductName5'/>");?> 
```

我面临的问题是 ProductName 和 ProductName1 显示正确，但 ProductName2、ProductName3、ProductName4、ProductName5 只显示数据库中的第一个单词。

但是，当我在 phpMyAdmin 中查看它时，该字段显示的单词不止一个。

我似乎能够在页面上回显并显示它，但无法在文本框中回显/显示整个字段，在文本框中显示时，它似乎会在“空格”之后删除所有内容，但它确实有效只是在页面上而不是在文本框中显示它。

有人知道我哪里出错了吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:25:15.740

创建新的 test.php 并将以下代码粘贴到其中并运行。

```
 $con = mysql_connect("localhost","root","");   //check mysql login credentials
 mysql_select_db("test",$con);   // change database name here
 $query = "SELECT * from product_form WHERE id = 1;";
 $rs = mysql_query($query);
 $row = mysql_fetch_array($rs);
 print_r($row);     // as you are using one record. no need of while loop

 echo "<Input type='text' name = 'product_name' value=".$row[ProductName].">";
 echo "<Input type='text' name = 'product_name1' value=".$row[ProductName1].">";
 echo "<Input type='text' name = 'product_name2' value=".$row[ProductName2].">";
 echo "<Input type='text' name = 'product_name3' value=".$row[ProductName3].">";
 echo "<Input type='text' name = 'product_name4' value=".$row[ProductName4].">";
 echo "<Input type='text' name = 'product_name5' value=".$row[ProductName5].">"; 
```

现在看看结果如何。

# android - 游标适配器中的 NullPointerException

> ID：11895527
> 
> 赞同：0
> 
> 时间：2012-08-10T04:33:26.287
> 
> 标签：android, fragment

我的`bindView()`方法中有这个错误。我之前写过很多适配器，但现在我不明白这个问题的原因。所以，我在一个屏幕上有一个视图寻呼机和一个 ListFragment。此列表通过 ResourceCursorAdapter 从内容提供者填充。编码：

```
public class CityFragment extends ListFragment implements LoaderCallbacks<Cursor>{

public final static int CITIES_LIST = 0;

CityAdapter adapter;

public static CityFragment newInstance() {
    CityFragment cityFragment = new CityFragment();
    return cityFragment;
}

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    View view = inflater.inflate(R.layout.city_layout, container, false);
    return view;
}

@Override
public void onActivityCreated(Bundle savedInstanceState) {
    super.onActivityCreated(savedInstanceState);
    adapter = new CityAdapter(getActivity(), 
            R.layout.city_row, 
            null, 
            CursorAdapter.FLAG_AUTO_REQUERY);
//      adapter = new SimpleCursorAdapter(getActivity().getApplicationContext(),
//              android.R.layout.simple_list_item_2,
//              null, 
//              new String[] {Schema.Cities.name,
Schema.Cities.activeCamerasCount}, 
//              new int[] {android.R.id.text1, android.R.id.text2});
    setListAdapter(adapter);

    getLoaderManager().initLoader(CITIES_LIST, null, this);
}

@Override
public Loader<Cursor> onCreateLoader(int id, Bundle arg1) {
    return new CursorLoader(getActivity(), 
            CustomContentProvider.CITIES_URI, 
            new String[] { Schema.Cities._id, Schema.Cities.name, Schema.Cities.activeCamerasCount }, 
            null, 
            null,
            null);
}

@Override
public void onLoadFinished(Loader<Cursor> arg0, Cursor cursor) {
    adapter.changeCursor(cursor);
}

@Override
public void onLoaderReset(Loader<Cursor> arg0) {
    adapter.changeCursor(null);
}
}

public class CityAdapter extends ResourceCursorAdapter {

private int cityIdx;
private int cameraIdx;

public CityAdapter(Context context, int layout, Cursor c, int flags) {
    super(context, layout, c, flags);
    initColumns(c);
}

@Override
public void changeCursor(Cursor cursor) {
    super.changeCursor(cursor);
    initColumns(cursor);
}

@Override
public void bindView(View v, Context ctx, Cursor c) {
    ViewHolder holder = (ViewHolder) v.getTag();
    holder.city.setText(c.getString(cityIdx));
    holder.camera.setText(c.getString(cameraIdx));
}

@Override
public View newView(Context context, Cursor cursor, ViewGroup parent) {
    View view = super.newView(context, cursor, parent);
//      LayoutInflater inflater = LayoutInflater.from(context);
//      View view = inflater.inflate(R.layout.city_row, parent, false);
    view.setTag(new ViewHolder(
            (TextView) view.findViewById(R.id.city), 
            (TextView) view.findViewById(R.id.cameras_count)));
    return view;
}

private void initColumns(final Cursor c) {
    if (c != null) {
        cityIdx = c.getColumnIndex(Schema.Cities.name);
        cameraIdx = c.getColumnIndex(Schema.Cities.camerasCount);
    }
}

private class ViewHolder {

    final TextView city;
    final TextView camera;

    public ViewHolder(final TextView city, final TextView camera) {
        this.city = city;
        this.camera = camera;
    }

}
}

    08-10 21:21:19.641: E/AndroidRuntime(414): java.lang.NullPointerException
08-10 21:21:19.641: E/AndroidRuntime(414):  at ru.viewcity.ui.CityAdapter.bindView(CityAdapter.java:34)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.support.v4.widget.CursorAdapter.getView(CursorAdapter.java:256)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.AbsListView.obtainView(AbsListView.java:1430)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.ListView.makeAndAddView(ListView.java:1745)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.ListView.fillDown(ListView.java:670)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.ListView.fillFromTop(ListView.java:727)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.ListView.layoutChildren(ListView.java:1598)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.AbsListView.onLayout(AbsListView.java:1260)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.view.View.layout(View.java:7175)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1254)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1130)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.LinearLayout.onLayout(LinearLayout.java:1047)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.view.View.layout(View.java:7175)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.FrameLayout.onLayout(FrameLayout.java:338)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.view.View.layout(View.java:7175)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.support.v4.view.ViewPager.onLayout(ViewPager.java:1141)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.view.View.layout(View.java:7175)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1254)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1130)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.LinearLayout.onLayout(LinearLayout.java:1047)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.view.View.layout(View.java:7175)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.FrameLayout.onLayout(FrameLayout.java:338)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.view.View.layout(View.java:7175)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1254)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1130)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.LinearLayout.onLayout(LinearLayout.java:1047)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.view.View.layout(View.java:7175)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.widget.FrameLayout.onLayout(FrameLayout.java:338)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.view.View.layout(View.java:7175)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.view.ViewRoot.performTraversals(ViewRoot.java:1140)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.view.ViewRoot.handleMessage(ViewRoot.java:1859)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.os.Handler.dispatchMessage(Handler.java:99)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.os.Looper.loop(Looper.java:123)
08-10 21:21:19.641: E/AndroidRuntime(414):  at android.app.ActivityThread.main(ActivityThread.java:3683)
08-10 21:21:19.641: E/AndroidRuntime(414):  at java.lang.reflect.Method.invokeNative(Native Method)
08-10 21:21:19.641: E/AndroidRuntime(414):  at java.lang.reflect.Method.invoke(Method.java:507)
08-10 21:21:19.641: E/AndroidRuntime(414):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
08-10 21:21:19.641: E/AndroidRuntime(414):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
08-10 21:21:19.641: E/AndroidRuntime(414):  at dalvik.system.NativeStart.main(Native Method) 
```

在代码中，您可以看到我也尝试使用 SimpleCursorAdapter - 它运行良好。在调试模式下，我看到在 newView() 方法中所有 TextView 都已正确设置，但在 bindView() 中，这些 TextViews 不存在 - 它们为空。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:10:50.043

只需调试并检查运行流程可能是您在找到它之前尝试 setText() 的 TextView (finViewById) 可能这就是您获得 null text view 的原因。

# visual-studio-2008 - Visual Studio 2008 中 Crystal 报表中的 floor() 函数？

> ID：11895528
> 
> 赞同：0
> 
> 时间：2012-08-10T04:33:28.443
> 
> 标签：visual-studio-2008, crystal-reports

嗨，我在水晶报告中有一个字段将 1.90 显示为 1，是否有任何功能可以做到这一点。以前我使用 round(1.90,0) 我得到了 2。但我想要 1。请建议我实现它的方法.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T04:40:35.580

使用 truncate 函数从数字中删除小数点

```
truncate(1.90) 
```

结果：

```
1 
```

# protocols - NNTP 中的标准标头是什么？

> ID：11895531
> 
> 赞同：3
> 
> 时间：2012-08-10T04:34:12.127
> 
> 标签：protocols, nntp

在查看了[NNTP 标准](http://www.ietf.org/rfc/rfc2822.txt)之后，我弄清楚了如何从消息中提取标题、如何折叠标题以及如何将标题标签与标题文本分开。我找不到的是标准 NNTP 标头的官方列表。标准列表`Subject, From, Date, Message-id, Reference`但不是`Groups`我知道需要在那里。

是否有所有官方 NNTP 标头的官方列表？对于加分，是否有常用的非官方标题列表？

**编辑**

我找到了[标准标题列表](https://www.rfc-editor.org/rfc/rfc1036)。是否有类似的非标准但常见的标头列表？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-14T12:00:07.087

您没有查看您链接到的正确 RFC 是一般消息格式。

[Netnews 在Netnews 文章格式 RFC 5536](https://www.rfc-editor.org/rfc/rfc5536)中明确指出，其中列出了标题（以及定义它们的 RFC 的页码）为

```
 3.1\. Mandatory Header Fields ...................................10
           3.1.1\. Date ...............................................11
           3.1.2\. From ...............................................11
           3.1.3\. Message-ID .........................................11
           3.1.4\. Newsgroups .........................................13
           3.1.5\. Path ...............................................14
           3.1.6\. Subject ............................................16
      3.2\. Optional Header Fields ....................................16
           3.2.1\. Approved ...........................................17
           3.2.2\. Archive ............................................17
           3.2.3\. Control ............................................17
           3.2.4\. Distribution .......................................18
           3.2.5\. Expires ............................................19
           3.2.6\. Followup-To ........................................19
           3.2.7\. Injection-Date .....................................20
           3.2.8\. Injection-Info .....................................20
           3.2.9\. Organization .......................................22
           3.2.10\. References ........................................22
           3.2.11\. Summary ...........................................23
           3.2.12\. Supersedes ........................................23
           3.2.13\. User-Agent ........................................23
           3.2.14\. Xref ..............................................24
      3.3\. Obsolete Header Fields ....................................25
           3.3.1\. Lines ..............................................25 
```

# actionscript-3 - 如何将变量分配给实例名称？

> ID：11895532
> 
> 赞同：0
> 
> 时间：2012-08-10T04:34:25.163
> 
> 标签：actionscript-3

我在 AS3 中有一个完美运行的代码，但是我有许多重复的方法和函数，它们是相同的但使用不同的实例名称，所以我想用一个变量替换实例名称以避免重写太多代码。

这是我的代码的一部分：

```
urb_mc.urb.select(0);

trace("Urb: " + urb_mc.urb.selectedIndex); 
```

在这种情况下，我想用一个变量替换“urb”，所以我尝试了这个：

```
var estado = currentLabel;
trace("este es mi estado " + estado);// this is ok = "urb"

//now I need to inset the variable in my code:

String(estado)+_mc.String(estado).select(0);//thi is so wrong!

trace("Urb: " + String(estado)+_mc.String(estado).selectedIndex);//thi is so wrong! 
```

任何的想法？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T04:45:13.197

尝试使用：

```
this[estado+"_mc"][estado].select(0);
trace(this[estado+"_mc"][estado].selectedIndex); 
```

对不起所有的编辑！

感谢挑战！我了解到对象的多维数组运算符之类的东西。

**第2部分**

试试这个：

var tweenNameArray:Array = ["Name1", "Name2", "Name3"]

```
for (var i:int = 0; i > tweenNameArray.length(); i++){
  var myTween:Tween = new Tween();
  myTween.name = String("myTween_" + estado + "_in"); // You may want to try .toString();
} 
```

然后引用补间应该像这样工作：

```
Tween(MovieClip(this.stage.getChildByName("myTween_" + estado + "_in")).whateverMethod(); // Try with and without the MovieClip(). 
```

我现在就说，不建议这样做。

# php - 如何在学说 symfony 中清除或清空数组集合

> ID：11895533
> 
> 赞同：9
> 
> 时间：2012-08-10T04:34:27.313
> 
> 标签：php, symfony, doctrine-orm

我有这样的对象数组集合

```
Class User
{
    private $tasks;
} 
```

一旦用户从数据库加载，我如何清空或清除集合。

当我查询用户时，Doctrine 将延迟加载用户对象中的任务，但我想先清除这些任务

就像是

`$user->getTasks().empty()`

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-08-10T05:33:47.387

首先，我想你的 User 实体的构造函数看起来像这样：

```
class User
{
    public function __construct()
    {
        ...
        $this->tasks = new \Doctrine\Common\Collections\ArrayCollection();
        ...
    }
} 
```

如果到目前为止还不正确，请停止阅读，并在评论中纠正我:)

请注意，ArrayCollection 类是由 Doctrine 创建的。Symfony 和它的大部分组件都非常适合记录类。当您查找该课程时，您会发现：

[https://www.doctrine-project.org/api/collections/latest/Doctrine/Common/Collections/ArrayCollection.html](https://www.doctrine-project.org/api/collections/latest/Doctrine/Common/Collections/ArrayCollection.html)

（当然，请确保您使用的是同一版本；否则，请尝试查找您的版本的文档）

该文档列出了 ArrayCollection 对象可用的所有方法。其中：`clear()`.

也就是说，向 User 类添加一个新方法应该可以工作：

```
class User
{
    public function clearTasks()
    {
        $this->getTasks()->clear();
    }
} 
```

然后，在 User 对象上，只需调用：

```
$user->clearTasks(); 
```

（并且不要忘记持久化到数据库！）

# android - 使用 sqlite3 通过 adb 删除锁屏 pin

> ID：11895537
> 
> 赞同：0
> 
> 时间：2012-08-10T04:35:04.573
> 
> 标签：android, sqlite, locking, adb

这是我看到的原帖

[http://forum.xda-developers.com/showthread.php?t=1409304](http://forum.xda-developers.com/showthread.php?t=1409304)

首先我输入：

```
sqlite3 /data/data/com.android.providers.settings/databases/settings.db 
```

但是，尽管他说了什么， sqlite>in 命令提示符没有出现。

相反，我得到

> /system/bin/sh: sqlite3: 未找到

我如何设置 sqlite 工作？

我无法从 adb shell 启动 sqlite3

我可以从文件夹中手动启动 sqlite，但不能在 cmd 中启动

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-26T06:31:24.160

您需要为 root [https://play.google.com/store/apps/details?id=ptSoft.util.sqlite3forroot&hl=en安装 sqlite3](https://play.google.com/store/apps/details?id=ptSoft.util.sqlite3forroot&hl=en)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-25T10:25:32.510

你可以启动到恢复？如果是这样，在 Recovery 中，进入“Mounts and Storage Menu”并确保所有内容都已安装。

# objective-c - 在 MKMapview 中设置区域关闭了 1.6 倍

> ID：11895538
> 
> 赞同：0
> 
> 时间：2012-08-10T04:35:06.223
> 
> 标签：objective-c, xcode4, mkmapview

```
-(void) setTheMapViewRegionBasedonCurrentAnchorandDistance
{
    //PD([BNUtilitiesQuick MaxDistanceOnSearch]);
    //self.theMapView.centerCoordinate = [cachedProperties singleton].currentAnchor.coordinate;
    //self.theMapView.region.span.longitudeDelta=[BNUtilitiesQuick MaxDistanceOnSearch]*safetyMarginForMap; 
    double ratio = self.theMapView.frame.size.height/self.theMapView.frame.size.width;
    //double ratio = self.theMapView.visibleMapRect.size.height/self.theMapView.visibleMapRect.size.width;
    PD([BNUtilitiesQuick MaxDistanceOnSearch]);
    double distanceFromEastAndWestShyouldBe = [BNUtilitiesQuick MaxDistanceOnSearch]*ratioBetweenEastWestToDistanceFilter;
    PD(distanceFromEastAndWestShyouldBe);
    self.theMapView.region = MKCoordinateRegionMakeWithDistance([cachedProperties singleton].mapCenterLocation.coordinate,distanceFromEastAndWestShyouldBe, distanceFromEastAndWestShyouldBe);
    PD(self.DistanceBetweenWestandEast);
    PD(ratio);
} 
```

看看那个代码。我将 MKMapview 区域设置为 distanceFromEastAndWestShyouldBe 的数量。输出是：

```
 2012-08-10 11:30:13.789 BadgerNew[15438:17003] <0x874d0b0 GoogleMap.m:(394)> [BNUtilitiesQuick MaxDistanceOnSearch]: 193.690170
2012-08-10 11:30:13.789 BadgerNew[15438:17003] <0x874d0b0 GoogleMap.m:(396)> distanceFromEastAndWestShyouldBe: 464.856409
2012-08-10 11:30:13.790 BadgerNew[15438:17003] <0x874d0b0 GoogleMap.m:(398)> self.DistanceBetweenWestandEast: 761.369705
2012-08-10 11:30:21.329 BadgerNew[15438:17003] <0x874d0b0 GoogleMap.m:(399)> ratio: 1.437500 
```

基本上我将地图设置为 464 m 宽度，而地图宽度为 761 m。

MKMapview 的高宽比为 1.43。这并不重要，因为我对纬度和经度都使用较小的数字。

在 MKMapview 中计算东西方实际差异的代码是：

```
-(double)DistanceBetweenWestandEast     
{
    CLLocationDegrees longitudeDelta=self.theMapView.region.span.longitudeDelta;
    double distanceeastwest = longitudeDelta * MetersIn1DegreeofEarth;
    return distanceeastwest;    
} 
```

和

```
#define MetersIn1DegreeofEarth 110882.5 
```

在别处定义

解决方法是在更改地图视图区域之前简单地除以 1.6。但是，我想知道为什么它首先关闭。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T16:33:47.003

经线之间的距离随纬度而变化。在赤道，经度一度约为 111 公里，但向北或南纬 75 度，经度一度约为 29 公里。您对东西距离的计算假设视图位于赤道上。尝试使用 CLLocation 的 distanceFromLocation 将纬度考虑在内。你需要两分。center-longitudeDelta/2 和 center+longitudeDelta/2

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:44:19.673

我发现了问题所在：

我写了这段代码：

```
 for (int i=100;i<10000;i=i*1.1)
    {
        distanceWereInputing = i;
        self.theMapView.region = MKCoordinateRegionMakeWithDistance([cachedProperties singleton].mapCenterLocation.coordinate,distanceWereInputing, distanceWereInputing);
        PD(distanceWereInputing);
        PD(self.DistanceBetweenWestandEast);
        PD(self.DistanceBetweenWestandEast/distanceWereInputing);
    } 
```

这是结果：

```
2012-08-10 12:33:33.935 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(394)> [BNUtilitiesQuick MaxDistanceOnSearch]: 193.690170
2012-08-10 12:33:33.935 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(396)> distanceFromEastAndWestShyouldBe: 464.856409
2012-08-10 12:33:50.500 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 100.000000
2012-08-10 12:33:51.740 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 95.171213
2012-08-10 12:33:54.042 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 0.951712
2012-08-10 12:34:02.613 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 110.000000
2012-08-10 12:34:02.613 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 190.342426
2012-08-10 12:34:02.614 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.730386
2012-08-10 12:34:02.614 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 121.000000
2012-08-10 12:34:02.614 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 190.342426
2012-08-10 12:34:02.614 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.573078
2012-08-10 12:34:02.615 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 133.000000
2012-08-10 12:34:02.615 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 190.342426
2012-08-10 12:34:02.615 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.431146
2012-08-10 12:34:02.616 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 146.000000
2012-08-10 12:34:02.620 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 190.342426
2012-08-10 12:34:02.620 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.303715
2012-08-10 12:34:02.621 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 160.000000
2012-08-10 12:34:02.621 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 190.342426
2012-08-10 12:34:02.621 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.189640
2012-08-10 12:34:02.622 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 176.000000
2012-08-10 12:34:02.622 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 190.342426
2012-08-10 12:34:02.633 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.081491
2012-08-10 12:34:02.635 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 193.000000
2012-08-10 12:34:02.635 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 190.342426
2012-08-10 12:34:02.635 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 0.986230
2012-08-10 12:34:02.636 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 212.000000
2012-08-10 12:34:02.636 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 380.684853
2012-08-10 12:34:02.636 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.795683
2012-08-10 12:34:02.636 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 233.000000
2012-08-10 12:34:02.667 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 380.684853
2012-08-10 12:34:02.667 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.633841
2012-08-10 12:34:02.668 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 256.000000
2012-08-10 12:34:02.668 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 380.684853
2012-08-10 12:34:02.668 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.487050
2012-08-10 12:34:02.668 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 281.000000
2012-08-10 12:34:02.669 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 380.684853
2012-08-10 12:34:02.669 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.354750
2012-08-10 12:34:02.669 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 309.000000
2012-08-10 12:34:02.670 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 380.684853
2012-08-10 12:34:02.670 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.231990
2012-08-10 12:34:02.671 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 339.000000
2012-08-10 12:34:02.671 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 380.684853
2012-08-10 12:34:02.685 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.122964
2012-08-10 12:34:02.686 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 372.000000
2012-08-10 12:34:02.686 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 380.684853
2012-08-10 12:34:02.686 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.023346
2012-08-10 12:34:02.687 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 409.000000
2012-08-10 12:34:02.687 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 761.369705
2012-08-10 12:34:02.687 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.861540
2012-08-10 12:34:02.687 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 449.000000
2012-08-10 12:34:02.688 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 761.369705
2012-08-10 12:34:02.688 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.695701
2012-08-10 12:34:02.688 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 493.000000
2012-08-10 12:34:02.688 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 761.369705
2012-08-10 12:34:02.689 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.544360
2012-08-10 12:34:02.689 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 542.000000
2012-08-10 12:34:02.689 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 761.369705
2012-08-10 12:34:02.689 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.404741
2012-08-10 12:34:02.690 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 596.000000
2012-08-10 12:34:02.690 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 761.369705
2012-08-10 12:34:02.690 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.277466
2012-08-10 12:34:02.691 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 655.000000
2012-08-10 12:34:02.691 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 761.369705
2012-08-10 12:34:02.691 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.162396
2012-08-10 12:34:02.692 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 720.000000
2012-08-10 12:34:02.692 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 761.369705
2012-08-10 12:34:02.692 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.057458
2012-08-10 12:34:02.692 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 792.000000
2012-08-10 12:34:02.693 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 1522.739410
2012-08-10 12:34:02.693 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.922651
2012-08-10 12:34:02.693 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 871.000000
2012-08-10 12:34:02.693 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 1522.739410
2012-08-10 12:34:02.694 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.748266
2012-08-10 12:34:02.694 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 958.000000
2012-08-10 12:34:02.694 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 1522.739410
2012-08-10 12:34:02.694 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.589498
2012-08-10 12:34:02.695 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 1053.000000
2012-08-10 12:34:02.695 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 1522.739410
2012-08-10 12:34:02.695 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.446096
2012-08-10 12:34:02.695 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 1158.000000
2012-08-10 12:34:02.703 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 1522.739410
2012-08-10 12:34:02.703 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.314974
2012-08-10 12:34:02.704 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 1273.000000
2012-08-10 12:34:02.704 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 1522.739410
2012-08-10 12:34:02.704 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.196182
2012-08-10 12:34:02.705 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 1400.000000
2012-08-10 12:34:02.705 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 1522.739410
2012-08-10 12:34:02.705 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.087671
2012-08-10 12:34:02.706 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 1540.000000
2012-08-10 12:34:02.706 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 3045.478821
2012-08-10 12:34:02.706 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.977584
2012-08-10 12:34:02.707 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 1694.000000
2012-08-10 12:34:02.707 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 3045.478821
2012-08-10 12:34:02.707 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.797803
2012-08-10 12:34:02.707 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 1863.000000
2012-08-10 12:34:02.708 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 3045.478821
2012-08-10 12:34:02.708 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.634718
2012-08-10 12:34:02.708 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 2049.000000
2012-08-10 12:34:02.708 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 3045.478821
2012-08-10 12:34:02.709 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.486324
2012-08-10 12:34:02.709 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 2253.000000
2012-08-10 12:34:02.709 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 3045.478821
2012-08-10 12:34:02.710 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.351744
2012-08-10 12:34:02.710 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 2478.000000
2012-08-10 12:34:02.710 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 3045.478821
2012-08-10 12:34:02.710 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.229007
2012-08-10 12:34:02.711 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 2725.000000
2012-08-10 12:34:02.711 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 3045.478821
2012-08-10 12:34:02.711 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.117607
2012-08-10 12:34:02.712 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 2997.000000
2012-08-10 12:34:02.712 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 3045.478821
2012-08-10 12:34:02.712 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.016176
2012-08-10 12:34:02.713 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 3296.000000
2012-08-10 12:34:02.713 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 6090.957642
2012-08-10 12:34:02.713 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.847985
2012-08-10 12:34:02.714 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 3625.000000
2012-08-10 12:34:02.714 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 6090.957642
2012-08-10 12:34:02.714 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.680264
2012-08-10 12:34:02.714 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 3987.000000
2012-08-10 12:34:02.715 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 6090.957642
2012-08-10 12:34:02.715 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.527704
2012-08-10 12:34:02.715 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 4385.000000
2012-08-10 12:34:02.715 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 6090.957642
2012-08-10 12:34:02.716 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.389044
2012-08-10 12:34:02.716 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 4823.000000
2012-08-10 12:34:02.716 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 6090.957642
2012-08-10 12:34:02.716 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.262898
2012-08-10 12:34:02.717 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 5305.000000
2012-08-10 12:34:02.717 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 6090.957642
2012-08-10 12:34:02.717 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.148154
2012-08-10 12:34:02.718 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 5835.000000
2012-08-10 12:34:02.718 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 6090.957642
2012-08-10 12:34:02.718 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.043866
2012-08-10 12:34:02.719 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 6418.000000
2012-08-10 12:34:02.719 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 12181.915283
2012-08-10 12:34:02.719 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.898086
2012-08-10 12:34:02.719 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 7059.000000
2012-08-10 12:34:02.720 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 12181.915283
2012-08-10 12:34:02.720 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.725728
2012-08-10 12:34:02.720 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 7764.000000
2012-08-10 12:34:02.720 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 12181.915283
2012-08-10 12:34:02.721 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.569026
2012-08-10 12:34:02.721 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 8540.000000
2012-08-10 12:34:02.721 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 12181.915283
2012-08-10 12:34:02.721 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.426454
2012-08-10 12:34:02.722 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(403)> distanceWereInputing: 9394.000000
2012-08-10 12:34:02.722 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(404)> self.DistanceBetweenWestandEast: 12181.915283
2012-08-10 12:34:02.722 BadgerNew[16754:17003] <0x88b79b0 GoogleMap.m:(405)> self.DistanceBetweenWestandEast/distanceWereInputing: 1.296776 
```

所以看起来谷歌缩放级别只能取一定的值。这就是为什么我们输入的内容与实际东西距离之间的比率在 1.7 到 0.95 之间变化的原因。

所以我只取平均 1.3 并在更改 MKMapview 大小时使用它。

# jquery - 更好的 jQuery 选择器

> ID：11895540
> 
> 赞同：-1
> 
> 时间：2012-08-10T04:35:37.560
> 
> 标签：jquery

让我明确一下，这行代码现在可以工作。我只是觉得它写得很愚蠢。你知道写这个的更简洁的方法：

```
 $('#'+this.wrapper.id+' .nub').foo(); 
```

我通过 jspref.com 运行了答案，结果如下：http: [//jsperf.com/jquery-selector-context-test](http://jsperf.com/jquery-selector-context-test)

看起来`.find`是赢家。至少镀铬。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T04:41:33.720

```
$('.nub', this.wrapper).foo(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T04:43:00.500

您可以`this.wrapper`用作选择器的上下文。

```
$('.nub', this.wrapper).foo(); 
```

或者

```
$(this.wrapper).find('.nub').foo(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T04:38:17.693

实际上并没有那么糟糕。如果你愿意，你可以将选择器字符串放入它自己的变量中，不过：

```
var selectorString = "#" + this.wrapper.id + " .nub";
$(selectorString).foo(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-10T04:43:03.530

```
 $(this.wrapper).find('.nub').bar(); 
```

# html - 无法为 html 页面播放视频 Microsoft 媒体播放器

> ID：11895543
> 
> 赞同：7
> 
> 时间：2012-08-10T04:35:57.250
> 
> 标签：html, video, media-player, wmv

我正在尝试在我的网站上播放视频。它在生产中工作。在域播放器上发布站点后不播放视频。相反，它在媒体播放器栏上显示消息，例如“准备连接”、“正在连接...”和“准备就绪”，显示黑屏。

这是我的视频代码。

```
<SPAN id="music1"> 
<OBJECT  style="width:560px; height:300px" id=mediaPlayer
codeBase=http://activex.microsoft.com/activex/controls/mplayer/
en/nsmp2inf.cab#Version=5,1,52,701 type=application/x-oleobject
standby="Loading Microsoft Windows Media Player components..."
style="margin-left: 0px" classid=CLSID:22d6f312-b0f6-11d0-94ab-0080c74c7e95>
<embed type="application/x-mplayer2" pluginspage="http://microsoft.com/windows
/mediaplayer/en/download/" bgcolor="darkblue" showcontrols="true" 
showpositioncontrols="true" showstatusbar="tue" showgotobar="true"
src="videos/1.wmv" autostart="true" designtimesp="5311"
loop="true" height="600" width="470">
</OBJECT></SPAN> 
```

请让我知道，我在哪里做错了，或者它的域问题？提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-28T10:23:40.230

试试这个简单的：

```
<embed src="videos/1.wmv" width="600" height="470" type="video/x-ms-wmv"></embed> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-28T10:15:02.050

您的对象似乎没有指定视频的来源。嵌入有，但没有对象

```
<SPAN id="music1"> 
<OBJECT  style="width:560px; height:300px; margin-left: 0px" id="mediaPlayer"
codeBase="http://activex.microsoft.com/activex/controls/mplayer/
en/nsmp2inf.cab#Version=5,1,52,701" type="application/x-oleobject"
standby="Loading Microsoft Windows Media Player components..."
classid="CLSID:22d6f312-b0f6-11d0-94ab-0080c74c7e95">
    <PARAM NAME="URL" VALUE="videos/1.wmv">

<embed type="application/x-mplayer2" pluginspage="http://microsoft.com/windows
/mediaplayer/en/download/" bgcolor="darkblue" showcontrols="true" 
showpositioncontrols="true" showstatusbar="tue" showgotobar="true"
src="videos/1.wmv" autostart="true" designtimesp="5311"
loop="true" height="600" width="470" />

</OBJECT>
</SPAN> 
```

您也可以尝试完全放开对象并仅依赖嵌入。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T09:46:35.103

尝试使用

```
<video width="320" height="240" controls="controls">
  <source src="movie.mp4" type="video/mp4" />
  <source src="movie.ogg" type="video/ogg" />
  Your browser does not support the video tag.
</video> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-08T00:58:49.710

你可以试试这个： `classid=CLSID:clsid:6BF52A52-394A-11D3-B153-00C04F79FAA6`

# android - 媒体播放器完成后如何清除表面支架？

> ID：11895547
> 
> 赞同：14
> 
> 时间：2012-08-10T04:36:33.170
> 
> 标签：android, surfaceview

我用surfaceview和mediaplayer制作了一个视频播放器。我有 10 个视频和 10 个按钮。如果点击每个按钮，每个视频都在播放。

这是我的代码..

```
//onCreate   
holder = surfaceview.getHolder();
holder.addCallback(this);
holder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);

//Button1
if(mp == null)mp = new MediaPlayer();

mp.setDataSource(mediaplay_path);
mp.setDisplay(holder);
mp.setScreenOnWhilePlaying(true);
mp.setAudioStreamType(AudioManager.STREAM_MUSIC);
mp.prepare();
mp.start();

//Button2
if(mp != null){
    mp.stop();
    mp.reset();
}

mp.setDataSource(mediaplay_path2);
mp.setDisplay(holder);
mp.setScreenOnWhilePlaying(true);
mp.setAudioStreamType(AudioManager.STREAM_MUSIC);
mp.prepare();
mp.start();

//Button3~Button10 is same as Button2.. 
```

一切安好。我的自定义视频视图工作正常。但是当视频转到下一个视频时，上一个视频的最后一个场景会保留一段时间，然后转到下一个视频场景。

我认为这是因为在播放下一个视频之前应该清楚之前的表面视图。但我不知道如何清除表面视图或表面支架。

我已经搜索过了，但只能找到如何播放视频，而不是如何清除设置为从媒体播放器显示的表面视图。

请帮帮我~~！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-09-19T23:36:18.337

我花了两个星期才弄清楚这一点。通过将 surfaceholder 设置为 TRANSPARENT，Android 将破坏表面。然后将其设置回 OPAQUE 会创建一个“清除”表面的新表面。注意surfacecreate 和surfacedestroy 事件将会触发，所以如果你有代码，请小心。我将图像视图设置为黑色以使其具有黑色背景。也许有更好的方法。

```
private void playVideoA() { 
     imageViewBlack.bringToFront();
     surfaceHolder.setFormat(PixelFormat.TRANSPARENT);
     surfaceHolder.setFormat(PixelFormat.OPAQUE);
     surfaceView.bringToFront();
     mediaPlayerA.setDisplay(surfaceHolder);
     //surfaceView.setAlpha((float) 0.01);
     mediaPlayerA.start();
};
private void prepareVideoA(String url) {
     try {
        mediaPlayerA = new MediaPlayer();
        mediaPlayerA.setDataSource(url);
        mediaPlayerA.prepareAsync();
        mediaPlayerA.setOnPreparedListener(this);
        mediaPlayerA.setOnCompletionListener(this);
        mediaPlayerA.setOnBufferingUpdateListener(this);
        mediaPlayerA.setOnInfoListener(this);
    } catch (IllegalArgumentException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (SecurityException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IllegalStateException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
};
@Override
public void onPrepared(MediaPlayer mp) {
     playVideoA()
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-11-20T04:14:49.783

```
video.getHolder().setFormat(PixelFormat.TRANSPARENT);
video.getHolder().setFormat(PixelFormat.OPAQUE);
video.setVideoURI(Uri.parse(temp));
video.setOnPreparedListener(new OnPreparedListener() {
@Override
public void onPrepared(MediaPlayer mp) {
      mp.start();
   }
}); 
```

它对我有用

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-21T09:13:44.710

可能您可以使用 removeView 删除旧的自定义视频视图，然后添加新视图

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-09-20T02:07:55.497

具有允许您直接绘制`SurfaceHolder`到. 使用 的方法将其填充为黑色。`lockCanvas``Surface``drawColor``Canvas`

也就是说，最好删除`SurfaceView`（如smile2you建议的那样），因为这应该`Surface`完全破坏并释放未使用的资源。并且一定要确保你在他们完成播放后调用`release`s `MediaPlayer`。持有过多的视频资源会使您的应用程序崩溃。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-05-22T05:54:27.220

surfaceview.setVisibility(View.GONE);

# symfony - 将自定义变量传递给表单验证

> ID：11895548
> 
> 赞同：1
> 
> 时间：2012-08-10T04:36:34.887
> 
> 标签：symfony

我尝试将我的变量传递给表单验证器中的约束，但不能。我正在这样做：

```
$payForm = $this->createForm(new CableTVPayType(), null, array('balance' => $balance)); 
```

在 CableTVPayType 中：

```
public function getDefaultOptions(array $options)
{
    $maxSumm = $options['balance'] - 100;
    [...] 
```

它工作正常，我的 maxSumm 是我想要的，但 Symfiony 会检查 $options 数组。'balance' 不是默认选项，并抱怨这一点：

```
The option "balance" does not exist 
```

是否有另一种更正确的方法将自定义变量传递给验证？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:48:45.190

**将构造函数用于一个类型的所有**实例要使用的东西。例如，您的类型可能需要实体管理器才能工作。它将在所有表单实例中重复使用。

例如特定的东西使用选项。如果您将构造函数用于实例特定的东西，所有实例都将获得您传递给第一个实例的构造函数的值。

```
/**
 * @FormType
 */
class PayType extends AbstractType {

    private $someService;

    /**
     * @InjectParams
     */
    public function __construct(SomeService $someService)
    {
        $this->someService = $someService;
    }

    public function getDefaultOptions(array $options)
    {
        return array(
            'balance' => 0
        );
    }

    public function getName() 
    {
        return 'pay';
    }
} 
```

```
$form = $this->createForm('pay', null, array('balance' => $balance)); 
```

请注意，`@FormType`注释将类型注册为服务。它允许您使用类型的名称而不是手动创建实例。当一个类型需要注入服务时，它会变得更加方便。你只使用名字——`pay`在这种情况下——而不是这样的：

```
$form = $this->createForm(new PayType($this->get('some_service')), null, array(
    'balance' => $balance
)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:02:21.613

完成了！

类的 Crate 变量，并通过构造方法将值传递给它

```
class CableTVPayType extends AbstractType {

    private $maxSumm;

    public function __construct($maxSumm) {
        $this->maxSumm = $maxSumm;
    } 
```

使用参数创建表单

```
$payForm = $this->createForm(new CableTVPayType($someValue)); 
```

现在我可以在我的表单中随意使用这个变量了。

# php - 如何在 PHP 中将数组声明为全局数组？

> ID：11895550
> 
> 赞同：4
> 
> 时间：2012-08-10T04:36:44.987
> 
> 标签：php, file, array-push

每次加载页面时，我都需要将数组的内容写入文件...我在 index.php 中创建了数组并将内容推送到另一个 ajax 页面中的数组..但我无法访问全局数组..它显示错误为“未定义的变量$arr”..

这是我的代码..

```
Index.php page...

<?php
    $arr = array();

    $ourFileName = "saved_data.txt";
    $ourFileHandle = fopen($ourFileName, 'w') or die("can't open file");
    fwrite($ourFileHandle, "");

?> 
```

阿贾克斯页面......

```
<?php
    $name_full = $_GET['name_full'];
    $arr = $_GET['$arr'];

    array_push($arr,$name_full);
    /*------------To create a file-----------------*/
    $ourFileName = "saved_data.txt";
    $ourFileHandle = fopen($ourFileName, 'w') or die("can't open file");
    /*---------To save data in the file------------*/
    foreach($arr as $key => $value)
    {
        fwrite($ourFileHandle, $value);
    }
    fwrite($ourFileHandle, ',');
    fclose($ourFileHandle);
    echo $name_full;
?> 
```

我还应该怎么做才能使这个数组成为全局...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T04:42:44.263

在 ajax 页面中声明 $arr 为，`global $arr;`看看这是否有效，但我怀疑这不起作用，因为每次加载页面时，数组都会重置，你为什么不使用 session 呢？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T04:42:55.757

是的，每个页面加载后变量都会“过期”。如果您需要在请求之间保留一些数据，您有几个选择：

*   将数据传递给客户端（可能在隐藏的表单字段中），然后让他们重新提交（可通过 GET/POST 访问）。这很糟糕，因为用户很容易在客户端操作此数据
*   将变量存储在 $_SESSION 中，这将为用户保留。这很糟糕，因为如果您有多个服务器，则无法在其他服务器上访问数据（除非您进行一些花哨的负载平衡以确保客户端每次都访问同一台服务器）
*   使用可供所有服务器使用的“临时”存储（memcache、redis）
*   用户的“持久”存储（mySQL，mongo）可用于所有服务器

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T04:50:36.797

您是否在 ajax.php 中包含 index.php？如果您包含 index.php，则按照“Sabin”的说明进行操作。我不明白你想做什么。记住每次调用 php 文件时，它与以前的 php 文件无关。如果你想在你的站点中使用全局变量，使用 db 会更好

# vba - 在 VBA 中扩展范围

> ID：11895552
> 
> 赞同：1
> 
> 时间：2012-08-10T04:37:06.017
> 
> 标签：vba, ms-word

我正在整理一个 Word 宏（如下），它解析一个 Word 文档中的首字母缩略词表，并​​突出显示这些首字母缩略词在另一个 Word 文档中的每次出现。这似乎是功能性的。

但是，我还想让宏将括号中的首字母缩写词与括号中的首字母缩写词区分开来。例如，

这名士兵被认为是擅离职守（AWOL）。擅离职守人员会被逮捕。

似乎可以评估定义找到的首字母缩写词的范围“oRange”，如果它首先在 Do-While 循环中使用以下代码进行扩展：

oRange.SetRange 开始：=oRange.Start - 1，结束：=oRange.End + 1

但是，我编写解决方案的任何尝试似乎都不起作用（它们将宏放入无限循环或导致错误消息）。我对 VBA 编程相当陌生，并且显然缺少有关循环如何运行的一些信息。

我的问题是：有没有办法复制“oRange”范围以进行后续操作，或者我应该使用其他一些方法吗？

感谢您提供的任何帮助！

* * *

```
Sub HighlightAcronyms()
Dim wdDoc As Object
Dim wdFileName As Variant
Dim TableNo As Integer 'table number in Word
Dim oRow As Row
Dim oCell As Cell
Dim sCellText As String

Dim oDoc_Source As Document
Dim strListSep As String
Dim oRange As Range
Dim n As Long
Dim sCellExpanded As String

    'Application.ScreenUpdating = False
    strListSep = Application.International(wdListSeparator)

'*** Select acronym file and check that it contains one table

wdFileName = WordApplicationGetOpenFileName("*.docx", True, True)
If wdFileName = False Then Exit Sub '(user cancelled import file browser)
Set wdDoc = GetObject(wdFileName) 'open Word file
With wdDoc
    TableNo = wdDoc.Tables.Count
    If TableNo = 0 Then
        MsgBox "The file """ & wdFileName & """ contains no tables.", _
        vbExclamation, "Import Word Table"

        ElseIf TableNo > 1 Then
             MsgBox "The file """ & wdFileName & """ contains multiple tables.", _
            vbExclamation, "Import Word Table"
    End If
End With

'*** steps through acronym column

wdDoc.Tables(1).Cell(1, 1).Select
Selection.SelectColumn
For Each oCell In Selection.Cells
    ' Remove table cell markers from the text.
    sCellText = Left$(oCell.Range, Len(oCell.Range) - 2)
    sCellExpanded = "(" & sCellText & ")"
    n = 1
    'need to find foolproof method to select document for highlighting
    Documents(2).Activate
    Set oDoc_Source = ActiveDocument

    With oDoc_Source
        Set oRange = .Range
        With oRange.Find
            .Text = sCellText
            .Forward = True
            .Wrap = wdFindStop
            .Format = False
            .MatchCase = True
            .MatchWildcards = False
            Do While .Execute
                If n = 1 Then
                    oRange.HighlightColorIndex = wdGreen
                Else
                    oRange.HighlightColorIndex = wdYellow
                End If
       'trying to add code here to expand oRange and compare it to sCellExpanded
                n = n + 1
            Loop
        End With
    End With
Next oCell

Set wdDoc = Nothing
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:11:48.740

尝试这个

1.  定义两个范围而不是合并`oRange`.

请参阅此示例代码（**TRIED AND TESTED**）

```
Sub Sample()
    Dim strSearch As String, sCellExpanded As String
    Dim oRange As Range, newRange As Range

    strSearch = "AWOL"
    sCellExpanded = "(" & strSearch & ")"

    Set oRange = ActiveDocument.Range

    With oRange.Find
        .ClearFormatting
        .Text = strSearch
        .Replacement.Text = ""
        .Forward = True
        .Wrap = wdFindStop
        .Format = False
        .MatchCase = False
        .MatchWholeWord = False
        .MatchWildcards = False
        .MatchSoundsLike = False
        .MatchAllWordForms = False

         Do While .Execute
            If n = 1 Then
                oRange.HighlightColorIndex = wdGreen
            Else
                oRange.HighlightColorIndex = wdYellow
            End If

            '~~> To check if the found word is not the 1st word.
            If oRange.Start <> 0 Then
                Set newRange = ActiveDocument.Range(Start:=oRange.Start - 1, End:=oRange.End + 1)
                If newRange.Text = sCellExpanded Then
                    '
                    '~~> Your code here
                    '
                    newRange.Underline = wdUnderlineDouble
                End If
            End If
            n = n + 1
         Loop
    End With
End Sub 
```

**快照**

暂时无法上传图片。imgur 服务器目前已关闭。

你可能会看到这个链接

[http://wikisend.com/download/141816/untitled.png](http://wikisend.com/download/141816/untitled.png)

# android - 如何在 Android 中闪避和取消隐藏 Mediaplayer 输出

> ID：11895555
> 
> 赞同：1
> 
> 时间：2012-08-10T04:37:32.750
> 
> 标签：android, android-mediaplayer

我正在实现一个新的应用程序，它使用媒体播放器播放两首歌曲。我需要做的是，当第二个玩家输出进入图片时，我需要避开第一个玩家输出。并且需要在第二个玩家完成时解开第一个玩家。这可能吗？

我的代码如下：

```
public class SampleMediaPlayerActivity extends Activity implements OnClickListener, OnPreparedListener {
/** Called when the activity is first created. */
Button playSong;
MediaPlayer player1;
MediaPlayer player2;
@Override
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    playSong = (Button) findViewById(R.id.playSongButton);
    playSong.setOnClickListener(this);
    player1 = MediaPlayer.create(SampleMediaPlayerActivity.this, R.raw.song);
    player1.setVolume(100.0f, 100.0f);
    player1.setOnPreparedListener(this);
}
@Override
public void onClick(View v) 
{
    // TODO Auto-generated method stub
    System.out.println("Play song");
    //player1.setVolume(0.5, rightVolume)
    player2 = MediaPlayer.create(SampleMediaPlayerActivity.this, R.raw.song);
    player2.setVolume(100.0f, 100.0f);
    //player.
    player2.start();
}
@Override
public void onPrepared(MediaPlayer mp) 
{
    // TODO Auto-generated method stub
    player1.start();

}
} 
```

# php - 防盗链的PHP代码

> ID：11895557
> 
> 赞同：4
> 
> 时间：2012-08-10T04:38:11.080
> 
> 标签：php

在我们的网站中，我们正在做一个图像保护部分。因此，作为图像保护的一部分，我们需要为图像提供防盗链。在我们的网站中，我们使用生成的 url 显示图像。

例如，在我们的网站中，图像源如下：`image_file.php?type=image&w=10&h=10&i=12`

（这只是一个假网址，例如）。

所以使用这个url我们需要在我们的网站上显示图片，同时又想防止它被热链接，有什么办法可以防止热链接吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-10T04:59:01.087

如果您可以使用 .htaccess 方法，那就太好了，另外，正如我在评论中所说，100% 万无一失的方法是使用 base64 编码。显示图像时，可以使用以下代码将它们转换为 base64：

```
<?php
$imagedata = file_get_contents("/path/to/image.png");
$base64 = base64_encode($imagedata);
?>
<img src="data:image/jpeg;base64,<?= $base64; ?>" /> 
```

此外，如果您想获得真正的创意，您可以通过使用您的 .htaccess 文件显示替代图像来“RAT”热链接“小偷”...这样做：

```
RewriteEngine on
RewriteCond %{HTTP_REFERER} !^$
RewriteCond %{HTTP_REFERER} !^http://(www\.)?mydomain.com/.*$ [NC]
RewriteRule \.(gif|jpg|png)$ http://www.mydomain.com/dontstealmystuff.png [R,L] 
```

只需确保 dontstealmystuff.png 在服务器上可用

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-10T04:47:10.670

基本的 .htaccess 示例

```
RewriteEngine on
RewriteCond %{HTTP_REFERER} !^$
RewriteCond %{HTTP_REFERER} !^http(s)?://(www\.)?yourdomain.com [NC]
RewriteRule \.(jpg|jpeg|png|gif)$ - [NC,F,L] 
```

上面允许一个空白的REFERER（像我一样）。

这不会：

```
RewriteEngine on
RewriteCond %{HTTP_REFERER} !^http(s)?://(www\.)?yourdomain.com [NC]
RewriteRule \.(jpg|jpeg|png|gif)$ - [NC,F,L] 
```

您可以找到很多变体，可能需要尝试一下才能找到最适合您的变体。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-10T06:51:37.187

图片盗链通常由referer检测到，但在以下情况下不起作用：

*   用户在他的浏览器中关闭了推荐人发送（出于隐私目的，我有这个）
*   页面通过 HTTPS 查看（浏览器不应发送引用数据）。

您将阻止实际用户查看图像。

**在处理这个问题时考虑使用会话/cookies。然后，您必须通过 php 脚本传递每个图像。**

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-10T04:52:03.897

一般来说，执行此操作的正确方法是使用 .htaccess 文件之类的命令，例如：

```
RewriteEngine On
RewriteCond %{HTTP_REFERER} !^http://(.+\.)?somesite\.com/ [NC]
RewriteCond %{HTTP_REFERER} !^$
RewriteRule .*\.(jpe?g|gif|bmp|png)$ http://i.imgur.com/aNbhd.jpg [L] 
```

但是，在 PHP 中执行此操作基本相同。您所做的只是验证 $_SERVER['HTTP_REFERER'] 是否以页面的 URL 开头。然而，有可能欺骗 HTTP_REFERER，所以它不会是 100%。然而，用户必须这样做（一个漂亮的外部网站（主要是......）很多都不能欺骗这个），所以它会阻止其他网站嵌入您的图像，而不会将您的网站放置在 iframe 或其他一些 hoopla 中。

另一种方法，可能是最安全的，尽管它在服务器上最难，是使用 $_SESSION 变量传递一个令牌/标志，然后检查令牌。

```
session_start();
$_SESSION["allow_images"] = true; 
```

然后在为他们获取图像的 PHP 页面上：

```
if($_SESSION["allow_images"])
{ 
     //Send some pics! 
} 
```

但是，这仅适用于用户最近访问您的站点的时间不足以使他们自己的会话仍然处于活动状态。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-10T04:42:55.890

您可以尝试`$_SERVER['HTTP_REFERER']`根据已知值检查 的值，但正如[文档](http://php.net/manual/en/reserved.variables.server.php)所述，这可能会被欺骗。不过，这可能有助于应对常见情况。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-10T04:45:47.447

在 image_file.php 中使用 http_referer。

```
$ref = isset($_SERVER['HTTP_REFERER'])? $_SERVER['HTTP_REFERER']: "";
if ($ref != "" && strpos($ref,'http://www.yourdomain.com/')===0)
{
   //the request for this image is coming from some other domain, so take appropriate action
}
else
{
  //do whatever logic you are currently using to show the images
} 
```

在这里找到一个完整的解决方案：http: [//safalra.com/programming/php/prevent-hotlinking/](http://safalra.com/programming/php/prevent-hotlinking/)

# jquery - CSS 溢出和水平滚动条

> ID：11895558
> 
> 赞同：1
> 
> 时间：2012-08-10T04:38:12.640
> 
> 标签：jquery, css

我正在尝试在网站上构建一个简单的 jQuery 面板滑块（实际上是两个）。我不是 JS/Javascript 方面的专家，出于某种原因，我无法删除我网站上的水平滚动条。

[http://www.visioncreativegroup.com.au/demos/dd/](http://www.visioncreativegroup.com.au/demos/dd/)

滑块区域位于画廊和特色项目部分。

我已经尝试添加溢出：隐藏到幻灯片包装 div，但它似乎没有工作。

有什么建议吗？

:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T04:49:56.820

将 CSS 属性**"overflow-x: hidden"**添加到**"BODY"**。不适用于 IE8-

这将起作用，但将是一个黑客。您的结构出现问题，无法获得水平滚动，不幸的是我目前无法进一步检查。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T05:01:01.713

蒂姆，在你的 style.css 中，类中有两个奇怪的宽度：

```
#gallery .panels {
    -moz-transition: margin-left 0.8s ease 0s;
    margin-left: 0;
    overflow: hidden;
    width: 4320px;
} 
```

和

```
#project .panels {
    overflow: hidden;
    width: 2880px;
} 
```

他们正在导致滚动条。

删除它们，或者，如果您想保留它们，请应用其他人建议的方法：

`overflow-x:hidden`对身体

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T04:52:11.040

在你的 style.css

替换此代码

```
body {
    font-family: 'Yanone Kaffeesatz';
    font-size: 21px;
    font-weight: 400;
    overflow-x: hidden;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T05:10:40.577

不是黑客！我通过申请解决了你的问题

```
.wrap {
  position: relative;
} 
```

始终作为标准应用在预轧网格系统中。事实证明，这就是您的浏览器需要注意的溢出：隐藏在该元素上。

# netbeans - 崇高文本源文件夹到另一个位置？

> ID：11895560
> 
> 赞同：0
> 
> 时间：2012-08-10T04:38:20.057
> 
> 标签：netbeans, ide, sublimetext2

我来自 Netbeans，我喜欢的一个功能是将源文件夹复制到另一个位置。这使我可以在与我的 wamp/lamp/mamp 服务器文件分开的指定 repo 文件中处理本地存储库文件。完成后我可以提交并推送到 github。

使用 Sublime Text 2，是否有一个选项/包允许我将项目的源文件夹复制到另一个文件夹，就像我刚才描述的那样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T19:03:48.793

我有类似的问题。我没有找到任何 sublime 包，所以我使用了 AutoVer 应用程序，它监视一些文件夹并将其内容备份到另一个位置。我使用此解决方案将 html 文件复制到 Web 根目录。希望能帮助到你。

# css - css中box-pack和box-align的区别

> ID：11895565
> 
> 赞同：3
> 
> 时间：2012-08-10T04:39:07.023
> 
> 标签：css

任何人请指出 box-align 和 box-pack 之间的区别

以下是我的代码。它适用于 box-align 和 box-pack。

```
 div
    {
   width:100px;
   height:100px;
   background:orange;
   display:-webkit-box;
   -webkit-box-align:start;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T04:50:39.790

[**-webkit-box-pack**](http://css-infos.net/property/-webkit-box-pack)

指定当前元素内的子元素在方向方向上的对齐方式。

> 对于子元素水平对齐的元素，包装值 start 表示左对齐，右侧有额外空间，end 值表示右对齐，左侧有额外空间，center 值表示中心对齐，额外空间均匀分割justify 值表示外部元素应该左右对齐，元素之间均匀添加空间。

**句法**

```
-webkit-box-pack: <alignment>; 
```

**价值观：**

`<alignment>` **子元素的对齐方式。**

**center：**子元素对齐到元素的中心。

**end：**子元素对齐到元素的末尾。

**justify：**子元素与元素的开始和结束都对齐。

**start：**子元素与元素的开头对齐。

[**-webkit-box-align**](http://css-infos.net/property/-webkit-box-align)

指定外部灵活框元素内嵌套元素的对齐方式。

> 如果盒子方向是垂直的，则此属性指定水平对齐方式，反之亦然。此属性仅适用于灵活的框布局。有关灵活框的更多信息，请参阅[http://www.w3.org/TR/css3-layout/](http://www.w3.org/TR/css3-layout/)。

**句法**

```
-webkit-box-align: baseline | center | end | start | stretch; 
```

**价值观：**

**基线：**元素与框的基线对齐。

**center：**元素与框的中心对齐。

**end：**元素与框的末端对齐。

**start：**元素与框的开头对齐。

**拉伸：**元素被拉伸以填充框。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-20T09:07:58.893

***BOX-PACK***用于水平包装内容物。box-pack 的值是

**开始**- 向左对齐，并在右侧留下任何空间。

**中心**- 对齐中心，在两侧平均划分空间。

**结束**- 右对齐...

**Justify** - 在子元素之间平均分配空间。

***BOX ALIGN***用于简单的垂直调整。

框对齐：开始 | 中心 | 结束 | 基线 | 拉伸 /* 指定 */

# diff - 区分项目的多个版本

> ID：11895570
> 
> 赞同：1
> 
> 时间：2012-08-10T04:39:45.227
> 
> 标签：diff

我最近开始了一份新工作，负责开发现有系统。该系统（如果重要的话是 PHP 站点）设置了三个实例。

*   现场直播（由员工和客户使用）
*   测试站点（主要用于向工作人员演示功能请求）
*   开发站点（由以前的开发人员使用）

这似乎是一件合理的事情（他们没有 SVN 服务器设置）。但是现在我已经加入了几个星期，我注意到代码（和数据库模式）在所有三个站点中都不同。我预计 dev 和 live 之间会有差异，但 live 具有 dev 没有的功能。

我已经运行[了 CLOC](http://cloc.sourceforge.net/)，我正在查看不同版本之间的大约 180 个修改文件和 110 个新文件。是否有任何软件或更简单的方法可以比较所有版本的代码，而不仅仅是逐个文件执行差异？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T04:42:17.477

[`meld`](http://www.google.com.au/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&ved=0CGcQFjAA&url=http://meldmerge.org/&ei=HpEkUJrqGauTiQfS_YDwBw&usg=AFQjCNGxYTH5-hiiYkrAouLnanmiJOthZA)非常适合以向下钻取的方式递归地比较整个文件夹（和文件）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T17:53:36.453

公然插头：如果您有兴趣将*所有三个*站点相互比较（而不是一次比较两个站点），您可能会对[我的`difdef`实用程序](https://github.com/Quuxplusone/difdef)感兴趣。它可以产生 N 个目录的合并 à la`diff -r -D`但与传统不同`diff`，它适用于 N>2 以及 N=2。（与它不同`diff3`的是，它不假设版本之间有任何特定的家谱关系。）

例如你可以做

```
difdef -r -DSITE={LIVE,TEST,DEV} {live,test,dev} -o merged
grep -lr 'SITE==' merged | xargs $EDITOR 
```

在任何两个版本之间不同的每个文件上打开一个编辑器窗口。

`difdef`没有比传统实用程序更好的 UI，但它*确实**具有*同时区分 2 个以上版本的出色能力。开源、C++、MIT 许可证。`diff`

# database - 如何维护magento 1.4.1.1数据库到magento 1.7.0.2

> ID：11895572
> 
> 赞同：0
> 
> 时间：2012-08-10T04:39:57.903
> 
> 标签：database, magento

我有两个域：

```
1.main domain  : which have magento 1.4.1.1 site
2.sub domain   : which have magento 1.7.0.2 site(this site is upgraded from magento 1.4.1.1) 
```

这意味着在我的子域中，它与过去的主域一样具有 magento1.4.1.1 magento。

然后我将magento站点升级到子域中的1.7.0.2。

客户端现在使用主域，他们使用旧数据库。

在我的子域中，我有新数据库并导入了数据库备份。但是这个备份是在两个月之前进行的。这意味着数据库备份已经两个月了。因此，在主域中，客户端将新数据输入到旧数据库中。在子域中导入数据库后，我将站点升级到 1.7.0.2

所以我想把旧数据库中的所有更改都放到新数据库中。

```
The old database have 329 tables and new database have 367 tables 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:25:19.187

在您的情况下的最佳选择：

1.  获取旧数据库的转储。
2.  在另一个子域上设置新代码库的副本。
3.  将转储加载到新数据库并将新创建的子域代码库指向它。
4.  Magento 会自动更新数据库的结构。
5.  如果在旧数据库升级到新数据库过程中出现任何错误，您可以在不让旧网站宕机的情况下修复它（单独的数据库，单独的实例）。如果没有发现错误，您可以关闭旧网站，升级 db，并上传新的代码库。

# javascript - 在传播期间修改事件属性

> ID：11895579
> 
> 赞同：0
> 
> 时间：2012-08-10T04:41:06.280
> 
> 标签：javascript, css, google-maps-api-3

## 问题

基本上，我想知道是否可以更改后续处理程序将拾取的事件的属性。

小提琴示例：http: [//jsfiddle.net/9QZ2a/](http://jsfiddle.net/9QZ2a/)（需要打开调试控制台）

我正在尝试`clientX`在容器的捕获阶段修改事件的属性，并将我的更改反映在目标元素的冒泡阶段触发的事件中。

## 返回故事

我在 iOS 上的缩放叠加层中有一个谷歌地图元素（它被缩放，因此无论您处于什么缩放级别，我的叠加层总是“看起来”相同的大小 - 因为它是需要这个的广告）。

地图在 100% 缩放下完美运行，但是一旦您放大页面，覆盖层（包含地图）就会被缩放 - 使用 CSS3 `scale`。这会导致事件在与地图交互时偏离位置，例如，如果您尝试捏缩放地图的中心，它实际上会放大到左上角。

我相信我可以通过在事件被地图 API 捕获之前缩放事件坐标来解决这个问题。

由于我无法更改 Google Maps API，因此我只能尝试在我的容器代码中找到解决方案。

谢谢！

**编辑：**我试图解决的根本问题实际上是 Google Maps API 中的一个错误 :( [http://code.google.com/p/gmaps-api-issues/issues/detail?id=4046](http://code.google.com/p/gmaps-api-issues/issues/detail?id=4046)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T08:01:42.223

恐怕你不能这样做，事件属性是只读的：[MDN 中的 MouseEvent](https://developer.mozilla.org/en-US/docs/DOM/MouseEvent)。

您是否尝试过使用 CSS3[`transform`](https://developer.mozilla.org/en-US/docs/CSS/Using_CSS_transforms)和设置来解决问题`transform-origin`？

# c# - 表单接受块多行文本框输入键事件

> ID：11895581
> 
> 赞同：0
> 
> 时间：2012-08-10T04:41:12.653
> 
> 标签：c#, winforms, user-interface, textbox

我的所有控件都继承自一个基类，该基类创建 OnAccept 和 OnCancel 并将其分配给 Enter 和 ESC 键。

```
private readonly Button _accept, _cancel;

public ViewUserControl()
{
    _accept = new Button();
    _cancel = new Button();

    _accept.Click += (o, e) => OnAccept();
    _cancel.Click += (o, e) => OnCancel();
}

// the base function depends on the child functions to implement a accept/cancel function, if it doesn't then those events will fire to the
// new button and not be used for anything
public virtual IButtonControl GetAcceptButton()
{
    return _accept;
}
public virtual IButtonControl GetCancelButton()
{
    return _cancel;
}

protected virtual void OnAccept() { }
protected virtual void OnCancel()
{
    this.ClosingEvent();
} 
```

但是，当用户在多行文本框中时，回车键会启动表单的 OnAccept，而不是在文本框中添加新行（这是预期的行为）。

目前，为了解决这个问题，我必须找到表单的焦点控件，如果它是文本框，则手动放入换行符。但是，当我这样做时，光标会重置到文本框的开头。

```
protected override void OnAccept()
{
    var focused = FindFocusedControl(this);
    if (focused is TextBox)
    {
        focused.Text += Environment.NewLine;
    }
    else
    {
        base.OnAccept();
    }
}

public static Control FindFocusedControl(Control control)
{
    var container = control as ContainerControl;
    while (container != null)
    {
        control = container.ActiveControl;
        container = control as ContainerControl;
    }
    return control;
} 
```

我的问题是：

有没有办法绕过 OnAccept 事件，以便文本框识别输入事件？

有没有办法手动调用文本框的输入事件？

~~手动换行后如何将光标设置到文本框的末尾？~~

对这些问题中的任何一个的回答都将达到我所追求的结果，优先于解决方案。

更新：

我确实找到了一种将插入符号（不是我在原始问题中称为光标）移动到最后的方法`RichTextBox.SelectionStart`，但是，我更喜欢更优雅的解决方案。

更新 2：

对于其他有同样问题的人，这就是我现在要做的：

从子控件：

```
txtDetails.GotFocus += (o,e) => AcceptButtonStatus(false);
txtDetails.LostFocus += (o, e) => AcceptButtonStatus(true); 
```

从基本控制：

```
protected void AcceptButtonStatus(bool enabled)
{
    this.ParentForm.AcceptButton = enabled?_accept:null;
} 
```

因此，每当文本框获得焦点时，我都会从表单中删除接受按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:48:22.230

这是一篇关于如何从外部调用组件事件的帖子。

[如何以编程方式在 C# 中生成按键事件？](https://stackoverflow.com/questions/1645815/how-can-i-programmatically-generate-keypress-events-in-c)

至于 Accept 事件，您的对话框会在控件看到它之前拦截它。唯一可行的方法是添加一个监视焦点更改的表单事件，如果焦点是多行文本控件，`AcceptButton`则将表单的控件设置为 null（假设您正在使用`AcceptButton`并`CancelButton`生成 Accept/Cancel 事件） .

# c# - 绑定到实体框架中存储过程的 ComplexType 结果（WPF C#）

> ID：11895591
> 
> 赞同：0
> 
> 时间：2012-08-10T04:42:08.190
> 
> 标签：c#, entity-framework, entity-framework-4, complextype

> **可能的重复：**
> [如何在对象为复杂类型的实体框架中正确调用将 SProc 映射到 ObservableCollection 的函数](https://stackoverflow.com/questions/11871714/how-to-correctly-invoke-a-function-that-maps-a-sproc-to-observablecollection-in)

我需要将存储过程的输出（我相信它正确映射到复杂类型）放入 ObservableCollection 中，以便我可以使用 CollectionViewSource 将其绑定到 ListBox。我不知道还能尝试什么。

我的代码现在看起来完全像这样：

```
 private void Window_Loaded(object sender, RoutedEventArgs e)
    {
          CollectionViewSource GetParts_ResultViewSource = ((CollectionViewSource)(this.FindResource("getParts_ResultViewSource");

          GetPart_ResultViewSource.Source = this.selectedPnsCollection;
     }

     private ObservableCollection<GetParts_Result> selectedPnsCollection = new ObservableCollection<GetParts_Result>();

     private void shapeAttributeLBox_SelectionChanged(object sender, SelectionChangedEventArgs e)
     {
          AttributeView selectedPartShape = this.shapeAttributeLBox.SelectedValue as AttributeView;
           if (shapeAttributeLBox.SelectedValue != null)
           {
                 selectedPnsCollection.Clear();
                 foreach (GetParts_Result result in 
                      this.myEntities.GetParts(selectedPartShape.attributeID, null));
                      {
                          selectedPnsCollection.Add(result);
                      }
              }
       }
      } 
```

但是，我得到了一个内部异常，指出

```
 "{"Procedure or function 'GetParts' expects parameter '@@partShape', which was not supplied."}" 
```

但它是提供的......或者我认为......并且作为一个 int，这是我的存储过程所期望的。

* * *

好吧，我在这里尝试的是使用 selectedPartShape.attributeID 和 null 参数来测试我的函数映射，因为我的 SProc 采用两个输入值，其中所有值都可以为空。

最后，我将使用另一个 listbox.SelectedValue 属性作为第二个输入参数。

我想我也可以手动提供一些相同的整数类型 ID（例如：this.myEntities.GetParts(5,161) 以返回每个具有这些 ID 属性的零件号列表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:52:10.260

假设`this.myEntities.GetParts(selectedPartShape.attributeID, null)`映射到存储过程，我最好的猜测是因为 null 参数而导致错误。是**AttributeView**。*attributeId*是**Nullable<int>**还是**int？**场地？

# iphone - 从多个变量类型中创建一个对象

> ID：11895594
> 
> 赞同：0
> 
> 时间：2012-08-10T04:42:23.963
> 
> 标签：iphone, ios, nsdictionary, nsobject

我有一个 NSDictionary，我将它传递给一个 NSObject 类，在其中我将所有值从字典中提取出来并将它们传递给它们的正确类型。

例如 NSInteger、BOOL、NSString、char 是我从 NSDictionary 中提取并放入它们唯一变量的值类型。

我的问题是将这些值变成一个可以放入数组的大对象的最佳方法是什么？

我听说我可以将类本身用作对象。但我不确定如何做到这一点。

还是我可以将它们放回 NSDictionary 中？...但是如果是这种情况，NSDictionaries 是否允许多种值类型？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T04:53:34.130

事实上，你走在正确的道路上。这基本上是[MVC 架构](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller)方式。所以你在质疑 M = Model。

此处示例中的模型是定义所有变量的类。切入点，这是你应该做的：

-> 创建一个包含您的变量的类，`@property`名称`@synthesize`为：ClassA。

然后您可以将对象 ClassA 设置为字典。

```
ClassA *myClass = [[ClassA alloc] init];
myClass.myString = @"test String";
myClass.myBoolean = True;

[dictionary setObject:myClass forKey:@"myObject"];
[myClass release]; //we no longer need the object because already retain in dictionary. 
```

然后通过以下方式检索它：

```
ClassA *myClass = (ClassA*)[dictionary objectForKey:@"myObject"];
NSLog(@"this is value of myString : %@ & boolean : %i",myClass.myString,myClass.myBoolean); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:57:41.617

您可以将值的集合放在 NSDictionary、NSArray、NSMutableArray 等任何集合类型中。或者，如果您有固定数量的值/类型，您可以创建一个类，该类具有每个值/类型的数据成员并将其放入其中。类解决方案将无需进行大量转换，但它也仅在存在固定数量的值/类型时才有效。

这是[关于集合的 AppleDoc](http://developer.apple.com/library/mac/#documentation/cocoa/Conceptual/Collections/Collections.html#//apple_ref/doc/uid/10000034i)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T05:14:02.980

是的，您可以使用这些作为**属性**的不同值来创建一个**类**本身。一旦您将此对象传递给任何类，您就可以通过**obj.propertyName**访问这些值。由此 Lead 执行以在**MVC**模式中创建模态。如果有疑问，请告诉我。

 ******```
 Test *object = [[Test alloc] init];
object.testBool=true;
object.testString=@"Test";
NSDictionary *passData = [[NSDictionary alloc] initWithObjectsAndKeys:object,@"testObject", nil];
Test *getObject = (Test*)[passData objectForKey:@"testObject"];
NSLog(@"%d",getObject.testBool);
NSLog(@"%@",getObject.testString); 
```

您可以自定义测试类的**init**方法。******

# java - executeQuery() 中的 Java MYSQL 异常

> ID：11895601
> 
> 赞同：1
> 
> 时间：2012-08-10T04:43:23.743
> 
> 标签：java, mysql, exception, executequery

我得到一个 Java MySQL 异常

```
@Override

public ResultSet executeQuery (String query, ArrayList<Argument> arguments) throws SQLException
{
    final PreparedStatement pstmt = getPstmt(query, arguments);
    final ResultSet retrievedData = pstmt.executeQuery();
    return retrievedData;
}

//getpstmt()

private PreparedStatement getPstmt (String query, ArrayList<Argument> arguments) throws SQLException
    {
        PreparedStatement pstmt = null;
        try {
            pstmt = connection.prepareStatement(query);

            if (arguments != null) {
                int argPosition = 1;
                for (final Argument arg : arguments) {
                    if (arg.getType() == ARGUMENT_TYPE.INTEGER) {
                        pstmt.setInt(argPosition++, arg.getInt());
                    }
                    else {
                        pstmt.setString(argPosition++, arg.getString());
                    }
                }
            }
        }
        catch (final Exception ex) {
            NmsLogger.writeDebugLog(ex);
            return null;
        }

        return pstmt;

    }

// One instance of calling executeQuery

public String getProperty(String propertyName) 
    {

        try 
        {
            ArrayList<Argument> arguments = new ArrayList<Argument>();
            arguments.add(new Argument(propertyName));

            final java.sql.ResultSet resultset = Application.getDBHandler().executeQuery(SQLQueries.GET_PROPERTY, null);
            Application.getDBHandler().executeQuery(SQLQueries.GET_PROPERTY, arguments);
            if(resultset.next())
            {
                resultset.getString(1);

            }
            return resultset.toString();
        }
        catch (SQLException e)
        {
            NmsLogger.writeDebugLog(e);
            e.printStackTrace();
        }

        return null;
    } 
```

**调试以下代码时出现以下错误：**

**java.sql.SQLException：没有为参数 1 指定值**

有人确实建议了一种解决方法..为什么我会遇到这样的异常？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:10:59.810

您传递`null`给 executeQuery 而不是这里的参数列表：

```
Application.getDBHandler().executeQuery(SQLQueries.GET_PROPERTY, null); 
```

`?`因此，在 query的地方没有值`"Select * from app_config where Property = ?"`，因此是例外。

希望这可以帮助。

# java - 检测类中的事件

> ID：11895604
> 
> 赞同：0
> 
> 时间：2012-08-10T04:43:42.347
> 
> 标签：java, android, class

> **可能重复：**
> [从自定义 View 到它所在的 Activity 进行通信的正确方法是什么？](https://stackoverflow.com/questions/10776764/what-is-the-right-way-to-communicate-from-a-custom-view-to-the-activity-in-which)

我对 Java 还是很陌生。

我想做一个滑块类。我希望这个类处理所有的滑动机制，并且可以抽象出在滑块中完成的动作。

主要代码：

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentLayout(R.layout.slider_page);
    slide = (Slider) findViewById(R.id.slider);
    slide.addSlide(R.drawable.slide_blue);
    slide.addSlide(R.drawable.slide_green);

    /* I want to implement the following three functions */
        slide.touched () {
            text.setText("Slider touched")
            // Do stuff
        }

        slide.onSwipeRight() {
            text.setText("Swipe right detected");
            // do more stuff
        }

        slide.touchReleased() {
            text.setText("Slider released");
            // more stuff
        }

} 
```

滑块.java：

```
public class Slider extends ViewFlipper implements OnTouchListener {
private int SWIPE_MIN_DISTANCE = 100;
private int DOWNTIME_MAX = 300;
private int SWIPETIME_MAX = 870;
private Context mContext;
private float xDownPos;

public Slider(Context context, AttributeSet attrs) {
    super(context, attrs);
    mContext = context;
    this.setOnTouchListener((OnTouchListener) mContext);
}

public void addSlide (int resId) {
    ImageView iv = new ImageView(mContext);
    iv.setImageResource(resId);
    this.addView(iv);
}

public boolean onTouch(View v, MotionEvent event) {
    switch (event.getAction())
    {
        case MotionEvent.ACTION_DOWN:
        {
            // store the X value when the user's finger was pressed down
            xDownPos = event.getX();
            /* How do I get this to return to touched () in the main code? */
            break;
        }

        case MotionEvent.ACTION_UP:
        {
            // Get the X value when the user released his/her finger
            float currentX = event.getX();
            float horizontalMovement = currentX - xDownPos;
            long timePressed = event.getEventTime() - event.getDownTime();

            // Left to Right
            if (horizontalMovement > SWIPE_MIN_DISTANCE && timePressed < SWIPETIME_MAX)
            {
                /* How do I return this to onSwipeRight() in main code? */
            }

            /* How do I return this to touchReleased() in main code? */

            break;
        }
    }
} 
```

因此，基本上，我想在 main 中实现代码的 touch()、onSwipeRight() 和 touchReleased() 段，并尝试让 Slider.java 向 main 发送某种信号来执行此操作。

# android - Android：DatePicker 和 DatePicker 对话框

> ID：11895606
> 
> 赞同：10
> 
> 时间：2012-08-10T04:43:47.347
> 
> 标签：android, android-datepicker

我在选项菜单上有这个代码

```
Dialog dialog = new Dialog(ScheduleActivity.this);
dialog.setTitle("Add Event");
dialog.setContentView(R.layout.add_even_on);
Button datePicker = (Button) dialog.findViewById(R.id.datePicker);
final DialogFragment dateFrag = new MyDatePicker();
    datePicker.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {
                dateFrag.show(getSupportFragmentManager(), "datePicker");               
            }
        });
dialog.show(); 
```

当单击选项菜单上的“添加事件”时，会出现一个对话框，其中有一个显示**DatePickerDialog**的按钮，旁边是一个**TextView ，它反映了****DatePickerDialog**中选择的日期，这是我从 Androids Developer 获得的类如何使用 DatePickerDialog。

```
class MyDatePicker extends DialogFragment implements DatePickerDialog.OnDateSetListener {
 int pYear;
 int pDay;
 int pMonth;

@Override
  public Dialog onCreateDialog(Bundle savedInstanceState) {
    // Use the current date as the default date in the picker
    final Calendar c = Calendar.getInstance();
    int year = c.get(Calendar.YEAR);
    int month = c.get(Calendar.MONTH);
    int day = c.get(Calendar.DAY_OF_MONTH);

    // Create a new instance of DatePickerDialog and return it
    return new DatePickerDialog(getActivity(), this, year, month, day);
  }

  public void onDateSet(DatePicker view, int year, int month, int day) {
    pYear = year;
    pDay = day;
    pMonth = month;
  }
} 
```

所以我的问题是，当我在 DatePickerDialog 上单击“设置”时，我如何以毫秒为单位获取值，这又会自动关闭它，并返回到我的对话框，其中包含打开 DatePickerDialog 的按钮和一个反映水日期的 Textview 是选择了 DatePickerDialog... 我不会显示我在 DatePickerDialog 中选择的那个...

这是我的意思的图片，

因此，当我单击“选择日期”按钮时，会出现一个 DatePickerDialog 框，如下图所示 ![在此处输入图像描述](../Images/7f7c5cdaf136dd03b19bac662a4fa5bb.png)

![在此处输入图像描述](../Images/a89a00035bb9cf7c6209ef20d94b9d5e.png)

当我单击设置时，我想考虑该 DatePickerDialog 中以毫秒为单位的值

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-05-07T22:05:12.503

旧对话框已弃用。实现片段：

将您的活动迁移到片段活动：

```
public class YourActivity extends FragmentActivity 
```

创建片段对话框：

```
public class TimePickerFragment extends DialogFragment {

    private OnDateSetListener listener;

    public TimePickerFragment(OnDateSetListener listener) {
        this.listener=listener;
    }

    @Override
    public Dialog onCreateDialog(Bundle savedInstanceState) {
        // Use the current time as the default values for the picker
        final Calendar c = Calendar.getInstance();
        int year = c.get(Calendar.YEAR);
        int month = c.get(Calendar.MONTH);
        int day = c.get(Calendar.DAY_OF_MONTH);

        // Create a new instance of TimePickerDialog and return it
        return new DatePickerDialog(getActivity(), listener, year,month,day);
    }

} 
```

实现接口（包：import android.app.DatePickerDialog.OnDateSetListener）：

```
public class YourActivity extends FragmentActivity implements OnDateSetListener{

    @Override
    public void onDateSet(DatePicker view, int year, int monthOfYear,int dayOfMonth) {

    }

} 
```

添加 showDialog 函数：

```
public class YourActivity extends FragmentActivity implements OnDateSetListener{

    showDateDialog(){

        FragmentManager fm = getSupportFragmentManager();
        TimePickerFragment newFragment = new TimePickerFragment(this);
        newFragment.show(fm, "date_picker");

    }

    @Override
    public void onDateSet(DatePicker view, int year, int monthOfYear,int dayOfMonth) {

    }

} 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-08-10T05:01:23.313

在这里我提供一些代码希望它可以帮助你..

```
public class NewReminder extends Activity {
private static final int DATE_DIALOG_ID = 1;
private int year;
private int month;
private int day;
EditText editTextDate;
private String currentDate;
private Context context;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.addnewreminder);
    initialize();
    context = getApplicationContext();
    OnClickListener listenerDate = new OnClickListener() {

        @Override
        public void onClick(View arg0) {

            final Calendar c = Calendar.getInstance();
            year = c.get(Calendar.YEAR);
            month = c.get(Calendar.MONTH);
            day = c.get(Calendar.DAY_OF_MONTH);
            showDialog(DATE_DIALOG_ID);
        }
    };
    editTextDate.setOnClickListener(listenerDate);

}

private void initialize() {
    // TODO Auto-generated method stub

    editTextDate = (EditText) findViewById(R.id.editTextDate);

}

private void updateDisplay() {
    currentDate = new StringBuilder().append(day).append(".")
            .append(month + 1).append(".").append(year).toString();

    Log.i("DATE", currentDate);
}

OnDateSetListener myDateSetListener = new OnDateSetListener() {

    @Override
    public void onDateSet(DatePicker datePicker, int i, int j, int k) {

        year = i;
        month = j;
        day = k;
        updateDisplay();
        editTextDate.setText(currentDate);
    }
};

@Override
protected Dialog onCreateDialog(int id) {
    switch (id) {
    case DATE_DIALOG_ID:
        return new DatePickerDialog(this, myDateSetListener, year, month,
                day);
    }
    return null;
}
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-05-26T09:06:32.097

在 XML 中添加一个 TextView 和一个 Button

```
<TextView
    android:id="@+id/searchText"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="TextView" />

<Button
    android:id="@+id/search"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Search" /> 
```

在java文件中添加以下代码

```
public class DatePickerDialogExample extends Activity {

    TextView txtDate;
    private int mYear, mMonth, mDay, mHour, mMinute;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        txtDate = (TextView) findViewById(R.id.searchText);
        Button search = (Button) findViewById(R.id.search);
        search.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // Process to get Current Date
            final Calendar c = Calendar.getInstance();
            mYear = c.get(Calendar.YEAR);
            mMonth = c.get(Calendar.MONTH);
            mDay = c.get(Calendar.DAY_OF_MONTH);

            // Launch Date Picker Dialog
            DatePickerDialog dpd = new DatePickerDialog(PrayTimeActivity.this,
                    new DatePickerDialog.OnDateSetListener() {

                        @Override
                        public void onDateSet(DatePicker view, int year,
                                int monthOfYear, int dayOfMonth) {
                            // Display Selected date in textbox
                            txtDate.setText(dayOfMonth + "-"
                                    + (monthOfYear + 1) + "-" + year);

                        }
                    }, mYear, mMonth, mDay);
                dpd.show();
            }
        });

    }

} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-01-06T21:19:50.393

你可以试试这个代码..它肯定会对你有帮助..毫无疑问！

```
 protected Dialog onCreateDialog(int id) {

    Calendar c=Calendar.getInstance();
    int Sysday=c.get(Calendar.DAY_OF_MONTH);
    int Sysmonth=c.get(Calendar.MONTH);
    int Sysyear=c.get(Calendar.YEAR);

    int Sysmin=c.get(Calendar.MINUTE);
    int Syshour=c.get(Calendar.HOUR);

    switch (id) {
    case TIME_DIALOG:

        return new TimePickerDialog(this, myTimePicker , Syshour, Sysmin, false);

    case DATE_DIALOG:
        return new DatePickerDialog(this, myDatePicker, Sysyear, Sysmonth, Sysday);
    }
    return null;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-04-08T15:43:21.323

这是我的辅助函数，它获取上下文和 TextView 作为参数，并在用户选择日期时在该文本视图上设置日期：

```
 public static void showDate(final Context context, final TextView textView) {

    if (textView != null) {
        final Calendar myCalendar = Calendar.getInstance();
        DatePickerDialog.OnDateSetListener date = new DatePickerDialog.OnDateSetListener() {
            @Override
            public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {
                // TODO Auto-generated method stub
                myCalendar.set(Calendar.YEAR, year);
                myCalendar.set(Calendar.MONTH, monthOfYear);
                myCalendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);
                String myFormat = "MM/dd/yy"; // In which you need put here
                SimpleDateFormat sdf = new SimpleDateFormat(myFormat, Locale.US);
                //UIHelper.showLongToastInCenter(context, sdf.format(myCalendar.getTime()));
                textView.setText(sdf.format(myCalendar.getTime()));
            }

        };
        new DatePickerDialog(context, date, myCalendar.get(Calendar.YEAR), myCalendar.get(Calendar.MONTH), myCalendar.get(Calendar.DAY_OF_MONTH)).show();
    } else {
        UIHelper.showLongToastInCenter(context, "Unable to show Date picker");
    }
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-07-01T04:50:35.023

试试这段代码，它肯定可以工作：

```
 final Calendar c = Calendar.getInstance();
            mYear = c.get(Calendar.YEAR);
            mMonth = c.get(Calendar.MONTH);
            mDay = c.get(Calendar.DAY_OF_MONTH);

            DatePickerDialog dpd = new DatePickerDialog(getActivity(),
                    new DatePickerDialog.OnDateSetListener() {

                        @Override
                        public void onDateSet(DatePicker view, int year,
                                int monthOfYear, int dayOfMonth) {

                            birth_Date.setText(dayOfMonth + "-"
                                    + (monthOfYear + 1) + "-" + year);
                        }
                    }, mYear, mMonth, mDay);
            dpd.show(); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-05-06T19:37:56.370

```
Calendar c1 = Calendar.getInstance();    
int year = c1.get(Calendar.YEAR);
int month = c1.get(Calendar.MONTH);
int day = c1.get(Calendar.DAY_OF_MONTH);
DatePickerDialog.OnDateSetListener myDateListener  = new DatePickerDialog.OnDateSetListener() {

       public void onDateSet(DatePicker arg0, int arg1, int arg2, int arg3) {
                   if(arg0.isShown()){

                                     //do further code here

                              }
                            }

                          };
        DatePickerDialog dp = new DatePickerDialog(YourActivity.this, myDateListener, year, month, day);
        dp.show(); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-12-11T09:20:25.410

在 Koltin 中这样使用它

```
DatePickerDialog(this as Activity, DatePickerDialog.OnDateSetListener { p0, y, m, _ -> func.invoke(y, m + 1) }, c.get(Calendar.YEAR),
        c.get(Calendar.MONTH),
        c.get(Calendar.DAY_OF_MONTH))
        .show() 
```

在任何地方使用它

```
tvDateFrom.click {
        showDatePicker(c) { y, m ->
            Utils.debugger("DATE FROM ", " y + $y m $m")
            tvDateFrom.text = "$m-$y".toDate()
        }
    } 
```

# c# - 双击列表视图中的项目C#

> ID：11895609
> 
> 赞同：1
> 
> 时间：2012-08-10T04:44:12.597
> 
> 标签：c#, listview, double-click

我仍然无法理解如何使列表视图中的项目可点击并出现消息框。

这是我的代码。

```
private void button6_Click(object sender, EventArgs e)
    {
        ListViewItem listviewitem;

        listviewitem = new ListViewItem("John");
        listviewitem.SubItems.Add("Smith");
        listviewitem.SubItems.Add("kaya");
        listviewitem.SubItems.Add("bun");
        this.listView1.Items.Add(listviewitem);
        listView1.FullRowSelect = true; 
```

//显示标题 listView1.View = View.Details;

```
 // Loop through and size each column header to fit the column header text.
        foreach (ColumnHeader ch in this.listView1.Columns)
        {
            ch.Width = -2;
        } 
```

}

我已阅读 itemActive 并尝试过此操作。我补充说`listView1.SelectedItems[0].Text`

```
 private void button6_Click(object sender, EventArgs e)
        {
            ListViewItem listviewitem;

            listviewitem = new ListViewItem("John");
            listviewitem.SubItems.Add("Smith");
            listviewitem.SubItems.Add("kaya");
            listviewitem.SubItems.Add("bun");
            this.listView1.Items.Add(listviewitem);
            listView1.FullRowSelect = true;

            MessageBox.Show("You clicked " + listView1.SelectedItems[0].Text);
} 
```

此打印输出错误

> 参数超出范围。“0”不是有效的索引数。

请帮我解决一下这个。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-10T04:53:38.107

仅`button6_Click()`添加新创建`listviewitem`的`listView1`

```
private void button6_Click(object sender, EventArgs e)
{
    ListViewItem listviewitem;

    listviewitem = new ListViewItem("John");
    listviewitem.SubItems.Add("Smith");
    listviewitem.SubItems.Add("kaya");
    listviewitem.SubItems.Add("bun");
    this.listView1.Items.Add(listviewitem);
    listView1.FullRowSelect = true;

    //MessageBox.Show("You clicked " + listView1.SelectedItems[0].Text);
} 
```

注册`Click`事件`listView1`

```
this.listView1.Click += new System.EventHandler(this.listView1_Click); 
```

在它的事件处理程序中检查`listView1.SelectedItems[0]`

```
private void listView1_Click(object sender, EventArgs e)
{
     if(listView1.SelectedItems.Count > 0)
             MessageBox.Show("You clicked " + listView1.SelectedItems[0].Text);
} 
```

有关文档，[请查看 MSDN](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.click)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T04:55:14.580

您实际上还没有选择一个项目，那就是当您收到错误时：

**InvalidArgument=“0”的值对“索引”无效。**

设置一些保护来检查一个项目是否被选中：

```
if (listView1.SelectedItems.Count > 0)
{
    MessageBox.Show("You clicked " + listView1.SelectedItems[0].Text);
}
else
{
     MessageBox.Show("Please select an item");
} 
```

或者选择代码中的项目：

```
private void button6_Click(object sender, EventArgs e)
    {
        ListViewItem listviewitem;

        listviewitem = new ListViewItem("John");
        listviewitem.SubItems.Add("Smith");
        listviewitem.SubItems.Add("kaya");
        listviewitem.SubItems.Add("bun");
        this.listView1.Items.Add(listviewitem);
        //listView1.FullRowSelect = true;
        listView1.Items[0].Selected = true;
        MessageBox.Show("You clicked " + listView1.SelectedItems[0].Text);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T04:48:30.740

你确定有一个活跃的项目？可能是因为您没有选择列表中的任何项目。检查所选项目，

```
 string msg = (listView1.SelectedItems.Count >0) ? "You Clicked " + 
listView1.SelectedItems[0].Text  : "Please select an item.";

MessageBox.Show(msg); 
```

# java - 为 https 运行 Tomcat7

> ID：11895615
> 
> 赞同：6
> 
> 时间：2012-08-10T04:45:29.270
> 
> 标签：java, https, tomcat7

当我在 tomcat 7.0 的 server.xml 中更改 https 以进行安全连接时

```
<Connector 
  clientAuth="false" port="8443" minSpareThreads="5" maxSpareThreads="75"
  enableLookups="true" disableUploadTimeout="true"
  acceptCount="100" maxThreads="200"
  scheme="https" secure="true" SSLEnabled="true"
  SSLCertificateFile="test.cer"
  SSLCertificateKeyFile="test.key" 
  SSLCACertificateFile="CertPath.txt"
  SSLVerifyClient="require" SSLEngine="on" SSLVerifyDepth="2" sslProtocol="TLS"
/> 
```

从 IDE 运行 tomcat 时出现错误

*原因：java.io.FileNotFoundException: C:\Documents and Settings\User.keystore (系统找不到指定的文件) at java.io.FileInputStream.open(Native Method)*

但是运行tomcat 7.0/bin/tomcat7.exe没有错误。

**这两个有什么问题？**请给我解释一下！谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T05:04:46.517

我认为您需要一个 .key-store 文件。

```
<Connector port=”443” maxHttpHeaderSize=”8192″
         maxThreads=”150″ minSpareThreads=”25″ maxSpareThreads=”75″
         enableLookups=”false” disableUploadTimeout=”true”
         acceptCount=”100″ scheme=”https” secure=”true”
         **keystoreFile=”/home/Raja/Desktop/Tomcat5/mycert.jks”**
         clientAuth=”false” sslProtocol=”TLS> 
```

检查您的 server.xml 文件并参考此[链接](http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html#SSL_and_Tomcat)可能对您有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T08:35:11.570

我认为您需要创建一个新的密钥存储文件，并且可以通过执行此命令来生成该文件。

%JAVA_HOME%\bin>keytool.exe -genkey -alias tomcat -keyalg RSA

为了更清楚，请参阅此链接[Tomcat SSL issues](http://tomcat.10.n6.nabble.com/ssl-problems-td1999892.html)。我认为这可以帮助您更好地了解您的问题。

# sencha-touch - 如何动态设置面板导航栏的标题

> ID：11895616
> 
> 赞同：1
> 
> 时间：2012-08-10T04:45:33.267
> 
> 标签：sencha-touch, extjs, sencha-touch-2, sencha-touch-theming

我已经在**sencha touch中实现了我的应用程序**

在我的面板中，我有一个导航栏，我想在面板标题上动态设置标题

![在此处输入图像描述](../Images/37965081b6580ecda0c18fb2151e01ac.png)

```
 Ext.define('FleetSyncApp.view.WSMachineTypes', {

        extend: 'Ext.Panel',
        alias: 'widget.wsmachinetypes',
          id: 'myPanel',

    config: {
        layout: {
                   type: 'vbox'
                },

        items: [

            {
                title: 'Contact information',
                xtype: 'list',

----
----
-----

    }
],
    listeners: [
                {
                    fn: 'initComponent',
                    event: 'initialize'
                }
                ]
}, 
```

并在 initcomponent 方法中实现代码来获取这样的组件

```
 initComponent: function(component, options, wstitle) {

           var bar = Ext.getCmp('myPanel');
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-10T04:55:34.020

这应该工作

```
bar.getParent().getNavigationBar().setTitle('Your Title'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-11T08:13:52.533

Sencha Touch 将隐藏视图的标题存储在`backButtonStack`导航栏组件的数组中。您可以像这样在导航视图中更改某个索引处的标题：

```
navView.getNavigationBar().backButtonStack[index] = newTitle; 
```

[我制作了一个 Gist](https://gist.github.com/vote539/8351170)，其中包含一个处理内部结构的功能。

# html - 如何创建一个完全兼容设备的网站

> ID：11895620
> 
> 赞同：0
> 
> 时间：2012-08-10T04:45:57.107
> 
> 标签：html, css, media-queries

基本上我想为多种设备（台式机、iphone、ipad 和其他有浏览器的智能手机）创建网页。我刚刚开始学习 css3，学习 css3 媒体查询非常混乱。

我阅读了一些教程，下面的代码就是我想出的。有人可以让我知道我这样做是否正确，或者是否应该进行任何更正？

```
<!DOCTYPE html>
<html lang="en-US">
  <head>

    <!-- META -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="robots" content="noodp" />
    <title>Home</title>

    <!-- CSS RESET -->
    <link rel="stylesheet" type="text/css" href="reset.css" media="all" />

    <!-- TARGET SMARTPHONES -->
    <link rel="stylesheet" type="text/css" href="" media="only screen and (min-device-width: 320px) and (max-device-width: 480px)" />
    <link rel="stylesheet" type="text/css" href="" media="only screen and (min-width: 321px)" />
    <link rel="stylesheet" type="text/css" href="" media="only screen and (max-width: 320px)" />

    <!-- IPADS -->
    <link rel="stylesheet" type="text/css" href="" media="only screen and (min-device-width: 768px) and (max-device-width: 1024px)" />
    <link rel="stylesheet" type="text/css" href="" media="only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape)" />
    <link rel="stylesheet" type="text/css" href="" media="only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait)" />

    <!-- DESKTOP & LAPTOPS -->
    <link rel="stylesheet" type="text/css" href="" media="only screen and (min-width: 1224px)" />

    <!-- LARGE SCREEN -->
    <link rel="stylesheet" type="text/css" href="" media="only screen and (min-width: 1824px)" />

    <link rel="stylesheet" type="text/css" href="" media="only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min-device-pixel-ratio: 1.5)" />

  </head>
<body>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:19:30.020

您应该添加以下行，让浏览器知道它应该如何在设备屏幕上显示其内容。

```
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
```

来自[html5rocks](http://www.html5rocks.com/en/mobile/mobifying/)的这篇文章一定会对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:25:57.317

拥有如此多的样式表链接并不是一个好习惯。对于一个小型项目网站，您*最多*需要2 个，但实际上您应该只有一个。设计一个 CSS 样式以适应页面的宽度。随着页面变小，隐藏一些块元素，一旦它变得足够小到可以考虑手机宽度，那么可能会有一个移动样式表。谷歌响应式设计，你会得到很好的例子。拿起你的鼠标，改变屏幕的宽度，看看页面是如何反应的，使用开发者工具看看哪些元素被隐藏了，然后尝试自己复制它。我不得不说，您选择了一个学习的好时机，随着所有工具的出现，Web 开发变得越来越容易。

# macos - emacs 守护程序服务器未在 os x 启动时启动

> ID：11895621
> 
> 赞同：0
> 
> 时间：2012-08-10T04:46:03.903
> 
> 标签：macos, emacs

我写了一个“emacsinit”文件，比如

```
/usr/local/Cellar/emacs/24.1/Emacs.app/Contents/MacOS/Emacs --daemon 
```

并将文件“emacsinit”拖到“登录项”中。但这似乎不起作用。系统启动后服务器不启动。我该如何处理？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T18:43:48.490

登录项方案可能期望启动的应用程序是完整的应用程序包，而不仅仅是单独的 shell 脚本。

一个名为[Platypus](http://sveinbjorn.org/platypus/)的工具可以用来将你的 shell 脚本打包成一个完整的应用程序。

另一种选择是为 Emacs 创建一个 OS X per-user 启动项，如果您使用名为[Lingon](http://www.peterborgapps.com/lingon/index.html)的应用程序，这很容易。（较旧的 Lingon 版本是免费的，也可以解决问题。）

对于它的价值，通过启动常规 Emacs 应用程序然后使用以下代码激活服务器，我可以用更少的工作获得所有相同的优势：

```
(require 'server)
(unless (server-running-p)
  (server-start)) 
```

之后，我可以使用`emacsclient`.

# node.js - npm 在 linux 出现分段错误

> ID：11895623
> 
> 赞同：1
> 
> 时间：2012-08-10T04:46:14.083
> 
> 标签：node.js, npm

*   **linux版本：**

> ```
> [root@etone231 download]# lsb_release -a
> LSB Version:    :core-3.1-amd64:core-3.1-ia32:core-3.1-noarch:graphics-3.1-amd64:graphics-3.1-ia32:graphics-3.1-noarch
> Distributor ID: RedHatEnterpriseServer
> Description:    Red Hat Enterprise Linux Server release 5.1 (Tikanga)
> Release:        5.1
> Codename:       Tikanga 
> ```

*   **节点.js：**

> ```
> git clone https://github.com/joyent/node.git
> cd node
> ./configure
> make
> sudo make install 
> ```

*   **npm 失败：**

> ```
> [root@etone231 download]# node -e "console.log('a')"
> a
> 
> [root@etone231 download]# node -v
> v0.8.6
> 
> [root@etone231 download]# python -V
> Python 2.7.3
> 
> [root@etone231 download]# gmake -v
> GNU Make 3.81
> Copyright (C) 2006  Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.
> There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
> PARTICULAR PURPOSE.
> 
> This program built for x86_64-redhat-linux-gnu
> 
> [root@etone231 download]# npm -v
> 1.1.48
> 
> [root@etone231 download]# npm list
> Segmentation fault 
> ```

# php - 通过 mktime 查找所有月份

> ID：11895626
> 
> 赞同：1
> 
> 时间：2012-08-10T04:47:05.030
> 
> 标签：php, mysql, date, mktime

我可以使用从数据库中选择最近一个月的所有记录，

```
$month = (mktime(0,0,0,date('n'),1)); 
$q="SELECT * FROM table WHERE timestamp>$month"; 
```

此查询将生成八月（最近一个月）的记录。我必须选择每个月的所有记录（一月/二月../七月）。

如何选择所有其他月份的详细信息？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T04:55:56.810

**安全提示：**更改列名 bcoz**时间戳**是 mySQL 保留关键字，会导致混淆，否则总是```与列名一起使用。

我假设 dateColumn 数据类型是**datetime**

```
<select name ="month" >
 <option value="1"> January </option>
 ...
</select> 
```

现在获取所选月份的值

```
$month = $_POST['month']; // means integer value of month ( 1,2,3..12) 
```

然后尝试使用 mySQL [MONTH()](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_month)

```
SELECT * FROM tableName WHERE MONTH(`dateColumn` ) = $month 
```

## 编辑

如果您将**时间戳**值存储在 dateColumn 中，则使用它

```
SELECT * FROM tableName WHERE MONTH(FROM_UNIXTIME(`dateColumn`)) = $month 
```

# ember.js - 从 Ember Data 支持的 ArrayController 添加/删除项目

> ID：11895629
> 
> 赞同：7
> 
> 时间：2012-08-10T04:47:35.733
> 
> 标签：ember.js, ember-data

我在我的应用程序中使用了一个 ArrayController，它是通过应用程序的路由器从 Ember Data REST 调用提供的：

```
postsController.connectOutlet('comment', App.Comment.find({post_id: post_id})); 
```

对于 Post UI，我可以添加/删除评论。当我这样做时，我希望能够通过删除或添加相同的元素来更新 postsController 的 contentArray 以向用户提供视觉反馈，但 Ember Data 并不好玩：

```
Uncaught Error: The result of a server query (on App.Comment) is immutable. 
```

根据下面sly7_7的评论，我刚刚注意到没有查询（App.Comment.find（））时结果确实是DS.RecordArray，但是在有查询的情况下（App.Comment.find（{post_id： post_id})，返回一个 DS.AdapterPopulatedRecordArray。

我是否必须 .observes('contentArray') 并创建一个可变副本？或者有没有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-13T16:35:23.513

这是我最终实施以解决此问题的方法。正如问题中提出的那样，我知道的唯一解决方案是创建我通过添加和删除维护的内容的可变副本：

```
contentChanged: function() {
    var mutableComments = [];

    this.get('content').forEach(function(comment) {
        mutableComments.pushObject(comment);
    });

    this.set('currentComments', mutableComments);
}.observes('content', 'content.isLoaded'),

addComment: function(comment) {
    var i;
    var currentComments = this.get('currentComments');
    for (i = 0; i < this.get('currentComments.length'); i++) {
        if (currentComments[i].get('date') < comment.get('date')) {
            this.get('currentComments').insertAt(i, comment);
            return;
        }
    }

    // fell through --> add it to the end.
    this.get('currentComments').pushObject(comment);
},

removeComment: function(comment) {
    this.get('currentComments').forEach(function(item, i, currentComments) {
        if (item.get('id') == comment.get('id')) {
            currentComments.removeAt(i, 1);
        }
    });
} 
```

然后在模板中，绑定到 this 计算属性：

```
{{#each comment in currentComments}}
    ...
{{/each}} 
```

我对这个解决方案不满意——如果有更好的方法，我很想听听。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T19:16:43.103

评论会太长...

我不知道您如何尝试添加记录，但您可以尝试这样做：App.Comment.createRecord({})。如果一切顺利，它将自动更新您的控制器内容。（我认为 App.Comment.find() 的结果是一个“实时”数组，创建记录时会自动更新）以下是我们在应用程序中执行此操作的方法：

```
App.ProjectsRoute = Ember.Route.extend({
  route: 'projects',

  collection: Ember.Route.extend({
    route: '/',

    connectOutlets: function (router) {
      router.get('applicationController').connectOutlet({
        name: 'projects',
        context: App.Project.find()
      });
    }
 }) 
```

然后，创建项目的处理程序（在路由器中）：

```
createProject: function (router) {
  App.Project.createRecord({
    name: 'new project name'.loc()
  });
  router.get('store').commit();
}, 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-17T16:28:30.700

仅作记录：截至今天（使用 Ember Data 1.0.0-beta），该库已将这种情况考虑在内。当数组中的记录被删除时，数组将被更新。

如果您尝试手动删除该数组上的元素，例如在包含控制器的模型（它是一个 ArrayController，因此它的模型是一个记录数组）上使用 .removeObject(object_you_just_deleted)，您将收到类似的错误：

“服务器查询的结果（在 XXXXX - 您尝试手动更新的模型）是不可变的”。

所以不再需要手动编码从它所属的数组中删除记录。这是个好消息，因为我一直喜欢使用 ED 并一直在使用它...... :)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-14T18:01:35.567

**前言**

我有一个类似的问题，并找到了一个有点棘手的解决方案。运行 Ember-Data 源代码和 API 文档为我清除了 AdapterPopulatedRecordArray 从查询的查找请求返回的事实。手册上是这么说的：

> AdapterPopulatedRecordArray 表示记录的有序列表，其顺序和成员资格由适配器确定。例如，发送到适配器的查询可能会触发服务器上的搜索，其结果将加载到 AdapterPopulatedRecordArray 的实例中。

所以不变性的一个很好的理由是这些数据是由服务器控制的。但如果我不需要它怎么办？例如，我有一个包含许多任务的任务列表模型，我在任务列表控制器中以类似的方式找到它们

```
this.get('store').find('task',{tasklist_id: this.get('model').get('id')}) 
```

而且我还有一个大红色按钮“添加任务”，它必须创建并保存新记录，但我不想向服务器发出新的查找请求以重绘我的模板并显示新任务。对我来说，好的做法是

```
var task = this.store.createRecord('task', {
    id: Utils.generateGUID(),
    name: 'Lorem ipsum'
});
this.get('tasks').pushObject(task); 
```

在那种情况下，我得到了宣布的错误。但是，嘿，我想酒后驾车！

**解决方案**

```
DS.AdapterPopulatedRecordArray.reopen({
    replace: DS.RecordArray.replace
}) 
```

就是这样了。一点“我自己”的余烬灵活性黑客。

# c# - 与linux中的本机库互操作

> ID：11895630
> 
> 赞同：9
> 
> 时间：2012-08-10T04:47:36.363
> 
> 标签：c#, mono, dllimport

我正在用 C# 编写一个跨平台的应用程序。它`DllImport`用于几个不同的库。它也是 x32 和 x64。它似乎适用于我自己编译的 .dll/.so。我将 x32 共享库放在 x32 子文件夹中，将 x64 共享库放在 x64 子文件夹中。

在通过 .net 框架的 Windows 上，我`SetDllDirectory("x32" or "x64")`根据当前运行时调用。在单声道上，通过 windows、linux 或 mac，我`DllMap`在 RandomLibrary.dll.config 中使用 ,。它适用于位于 x32 或 x64 目录中的文件。

但是，我也`DllImport`用于我没有编写的库，例如 FreeType2。在 Windows 上，我只是将构建的库放在两个子文件夹中。但是在 linux 上，我宁愿使用可以通过友好的本地包管理器安装的 libfreetype6 库。我可以将 DllMap 链接硬编码到`/usr/lib/x86_64-linux-gnu/libfreetype`.so.6，但我假设 freetype 文件会根据您使用的发行版而改变。

有没有什么简单的方法可以找到 libfreetype.so 而不管我使用的是什么发行版？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T08:08:09.800

在 Linux 上使用 DllImport("libfreetype.so.6") 就足够了，因为系统应该配置为正确处理它。确保您安装了正确的软件包。如果它不起作用，则可能是系统配置错误：发布您得到的错误、LD_LIBRARY_PATH env var 值、/etc/ld.so.conf 的内容和 /etc/ld.so.conf.d 中的文件/。的输出

> /sbin/ldconfig -p |grep 自由类型

也会很有用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T06:59:09.227

Mono 有一个专门为此而设计的东西/程序，它被称为[DllMap](http://www.mono-project.com/Config_DllMap)。您可以指定在哪个平台上加载哪个非托管 libaray。例如：

```
<configuration>
    <dllmap dll="foobar" os="linux" wordsize="64" target="linux/amd64/libfoobar.so" />
    <dllmap dll="foobar" os="linux" wordsize="32" target="linux/i386/libfoobar.so" />
</configuration> 
```

我自己没有尝试过上述方法 - dllmap 文档似乎暗示目标值不是路径，但我不能确定。

另一种方法是使用简单的 shellscript 或批处理文件。`arch`在 linux 上，shell 脚本可以通过调用和相应的设置来轻松地计算出架构`LD_LIBRARY_PATH`。我通常更喜欢我的单声道程序的外壳包装器（`MyProgram.exe`在控制台上看到感觉很难看）

最后，如果您使用[dlopen](http://pubs.opengroup.org/onlinepubs/009695399/functions/dlopen.html)或[LoadLibarary](http://msdn.microsoft.com/en-us/library/windows/desktop/ms684175%28v=vs.85%29.aspx)预加载您的共享库，您可能会获得更多*乐趣。*

当您的托管应用程序启动时，您决定您是什么架构，然后`dlopen()`在 linux 或`LoadLibaray()`Windows 上使用。

# perl - 即使套接字是非阻塞的，Perl 上的 recv 也会阻塞

> ID：11895632
> 
> 赞同：4
> 
> 时间：2012-08-10T04:48:05.973
> 
> 标签：perl, sockets

我在守护进程的 perl 中创建了一个这样的套接字

```
IO::Socket::INET->new(LocalPort => $port,
                      Proto => 'udp',Blocking => '0') or die "socket: $@"; 
```

在 Linux 机器上

在 recv 调用期间，套接字的行为与预期的非阻塞套接字一样 `$sock->recv($message, 128);`。

但是，我一直观察到，当 eth0 上的 VIF 在守护程序运行并接收数据时重新配置时，recv 调用开始阻塞。

这是一个非常令人困惑的问题。我做到`$sock->recv($message, 128, MSG_DONTWAIT);`了，recv 调用变得非阻塞。

我用谷歌搜索但看不到使用 UDP 非阻塞套接字的建议方法是什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-12T18:50:16.973

首先，字面上的答案：

```
# Portable turn-off-blocking code, stolen from POE::Wheel::SocketFactory.
sub _stop_blocking {
    my $socket_handle = shift;

    # Do it the Win32 way.
    if ($^O eq 'MSWin32') {
        my $set_it = "1";
        # 126 is FIONBIO (some docs say 0x7F << 16)
        # (0x5421 on my Linux 2.4.25 ?!)
        ioctl($socket_handle,0x80000000 | (4 << 16) | (ord('f') << 8) | 126,$set_it) or die "can't ioctl(): $!\n";
    }

    # Do it the way everyone else does.
    else {
        my $flags = fcntl($socket_handle, F_GETFL, 0) or die "can't getfl(): $!\n";
        $flags = fcntl($socket_handle, F_SETFL, $flags | O_NONBLOCK) or die "can't setfl(): $!\n";
    }
} 
```

但是，我强烈建议您使用[AnyEvent::Handle](https://metacpan.org/module/AnyEvent%3a%3aHandle)！

# php - 使用子域访问 codeigniter 的模块

> ID：11895639
> 
> 赞同：0
> 
> 时间：2012-08-10T04:48:49.853
> 
> 标签：php, .htaccess, codeigniter

我有一个基于 codeigniter 的销售脚本，效果很好

我为它构建了一个 api，并通过以下方式使用它：[http://www.mysite/api/getdata](http://www.mysite/api/getdata)

所以我现在想通过子域访问这个 api，比如： [http://www.api.mysite/getdata](http://www.api.mysite/getdata)

因为我认为解决方案是：将所有 *.mysite.com 重定向到 mysite.com，然后修改 .htaccess，但我不知道这是真的吗？

**- - - - - - - - - - - - - - - - - - - - 更新 - - - - - -------------------------------------------**

我当前的 .htaccess 文件

```
<IfModule mod_rewrite.c>
# Check if mod_rewrite module loaded and we can work with SEO urls
SetEnv HTTP_MOD_REWRITE On

RewriteEngine on

# To redirect all users to access the site WITH the 'www.' prefix,
# (http://example.com/... will be redirected to http://www.example.com/...)
# adapt and uncomment the following:
# RewriteCond %{HTTP_HOST} ^yoursite\.com$ [NC]
# RewriteRule ^(.*)$ http://www.yoursite.com/$1 [L,R=301]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !=/favicon.ico
#RewriteRule ^(.*)$ index.php/$1 [L]
RewriteRule ^(.*)$ ./index.php [L] 

</IfModule> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T04:55:41.240

如果您正在使用某种托管服务来创建子域并将其指向文档根目录，您可以尝试创建一个`www.api.mysite`域并将文档根目录设置为 mysite 的 /api 目录所在的位置。这将解决使用 htaccess 文件的需要。或者，如果您有权访问您的虚拟主机配置，您也可以执行相同的操作，创建一个虚拟主机`www.api.mysite`并将文档根目录指向 /api 目录。

如果您无法控制这些内容，则需要将***.mysite.com**设置为指向与 www.mysite 相同的站点并使用 htaccess 文件。文档根目录中的 htaccess 文件中的类似内容应该可以解决问题：

```
RewriteEngine On
RewriteCond %{HTTP_HOST} (www\.)?api.mysite [NC]
RewriteCond %{REQUEST_URI} !^/api/
RewriteRule ^(.*)$ /api/$1 [L] 
```

# ruby - 以编程方式获取某个 .ttf 字体文件支持的字符列表

> ID：11895641
> 
> 赞同：4
> 
> 时间：2012-08-10T04:49:16.767
> 
> 标签：ruby, file, bash, fonts, font-face

`.ttf`有没有办法使用 Ruby 和/或 Bash以编程方式获取文件支持的字符列表。我正在尝试将支持的字符代码通过管道传输到文本文件中以供以后处理。

（我宁愿不使用 Font Forge。）

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-10T16:34:09.203

找到了一个 Ruby gem `ttfunk`，可以在[这里](https://github.com/prawnpdf/ttfunk/)找到。

在 a 之后`gem install ttfunk`，您可以通过运行以下脚本来获取所有 unicode 字符：

```
require 'ttfunk'

file = TTFunk::File.open("path/to/font.ttf")
cmap = file.cmap

chars = {}
unicode_chars = []

cmap.tables.each do |subtable|
  next if !subtable.unicode?
  chars = chars.merge( subtable.code_map )
end

unicode_chars = chars.keys.map{ |dec| dec.to_s(16) }

puts "\n -- Found #{unicode_chars.length} characters in this font \n\n"
p unicode_chars 
```

这将输出如下内容：

```
- Found 2815 characters in this font 
["20", "21", "22", "23", ... , "fef8", "fef9", "fefa", "fefb", "fefc", "fffc", "ffff"] 
```

# python - 如何创建“知道”它是什么类别的 django 数据库模型？

> ID：11895643
> 
> 赞同：0
> 
> 时间：2012-08-10T04:49:30.647
> 
> 标签：python, django, django-models

在 Django 中，我有以下 models.py

```
class Product(RandomPrimaryIdModel):
  title = models.CharField(max_length=20, blank=True, null=True)
  price = models.CharField(max_length=20, blank=True, null=True)
  condition = models.CharField(max_length=20, blank=True, null=True)

class Mattress(Product):
  length = models.CharField(max_length=50)
  size = models.CharField(max_length=5)

class Pillow(Product):
  shape= models.CharField(max_length=50)
  comfort= models.CharField(max_length=5) 
```

这个想法是有一个“产品”模型和几个“产品类型”模型。我正在尝试创建一个将两者关联起来的数据库方案。最终目标是，当我授予对 product_type 未知的对象的主 ID 的访问权限时，我可以简单地查询/过滤该对象以找出该对象的 product_type 是什么。

我知道这听起来有点令人困惑，但我将如何实施正确的方法？我认为当前的方案（上述方案）不是正确的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:07:50.940

根据[关于多表继承的文档，](https://docs.djangoproject.com/en/1.3/topics/db/models/#multi-table-inheritance)您可以引用模型的小写名称。在您的情况下，要找出“产品类型”，您可以执行以下操作：

```
product = Product.objects.get(id=12)
try:
    mattress = product.mattress
    is_mattress = True
except Mattress.DoesNotExist:
    is_mattress = False 
```

您可以将其抽象为一个辅助方法，该方法将为您进行测试并将类型作为字符串或某种枚举返回。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T16:25:49.140

如果你有一个对象的引用，你不能使用类似的东西：

```
p = Product.objects.get(id=1)

class_of_p = str(p.__class__) 
```

然后解析结果字符串

```
"<class 'whatever.models.Pillow'>" 
```

找到你需要的东西？抱歉，如果我遗漏了什么。

# android - 如何从列表视图（Android）中添加/删除数据？

> ID：11895645
> 
> 赞同：0
> 
> 时间：2012-08-10T04:50:10.340
> 
> 标签：android, arrays, listview, android-arrayadapter

我正在使用列表视图来替换名称。用户需要能够将名称添加到列表视图的底部并能够删除其中的名称。名称使用 SharedPreferences 保存并加载到原始字符串数组中，然后我将其加载到 ArrayAdapter。这种方法的问题在于，除非我填满整个字符串数组，否则我会得到 ArrayAdapter 的 NPE。所以我的解决方案是将字符串数组设置为仅与名称的数量一样大。然而，这意味着我无法在列表中添加名称，因为列表只有这么长。

能够从列表视图中添加和删除字符串并且仍然能够分辨它们是什么的最佳方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T04:52:05.347

更改`listview`数据值后，请输入代码

```
notifyDataSetChanged(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:54:24.503

对构造函数使用`List<T>`重载而不是静态数组`ArrayAdapter`。`List<T>`然后，您可以在完成后向您的和调用的项目添加或删除项目`notifyDataSetChanged()`。使用像 a 这样的动态数据结构`List<T>`将避免任何 NPE。

# java - 尝试运行简单的 Java 代码时出现 UnsupportedClassVersion 错误

> ID：11895646
> 
> 赞同：1
> 
> 时间：2012-08-10T04:50:27.343
> 
> 标签：java

我正在尝试使用 Windows 7 上的命令提示符编译我的程序。我在编译时遇到了问题。我创建了一个测试程序：

```
class test
{
    public static void main (String args[])
    {
        System.out.println("this is working!!!!!!");
    }
} 
```

我从命令行使用以下指令：

```
cd \ 
cd summer
Javac test.java 
java test 
```

我什至尝试过使用 javaw 并收到相同的消息，但在弹出框中

> 找不到主类，程序将退出。

![图片](../Images/6937edcb003df3734fcb2788278e40af.png)

有什么建议么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T04:56:30.477

您的 JDK 和 JVM 似乎有不同的版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:08:48.027

您正在使用不同版本的 JDK。检查您的 javac 与 java 上的版本。这个错误告诉你你的 java 和编译的类不是同一个版本。检查您的配置路径，在dos中键入“set”以查看详细信息。

示例：如果您使用 javac（版本 7）编译您的类并使用 java（版本 6）执行它

# for-loop - 未定义的偏移量？？？附上我的PHP代码

> ID：11895647
> 
> 赞同：1
> 
> 时间：2012-08-10T04:50:29.187
> 
> 标签：for-loop, php

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T04:57:42.740

请参阅第二个数组的 print_r 部分，它以索引 1 开头，您的 $var 分配给 0。现在，您正在尝试访问第 0 个索引。这就是您收到此错误的原因。

尝试使用`foreach`

```
foreach($ranksection as $key => $value ) {
  if ($ranksection[$key] !=  null) {
    $sequence[$seqnum] = $ranksection[$key];
    $seqnum++;
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T04:56:37.717

您将超出数组的末尾，因为：

```
$sortvar = count($ranksection); // This is 4 
```

数组索引从 0 开始，但 count 返回数字，其中 1 是第一项，而不是 0。这样做可以修复它：

```
$sortvar = count($ranksection) - 1; 
```

或将 <= 更改为 <

```
for ($var = 0; $var < $sortvar; $var++) {   
    if ($ranksection[$var] !=  null) {   
          $sequence[$seqnum] = $ranksection[$var];   
          $seqnum++;   
    }   
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T04:53:57.967

将此作为`for`循环的条件：

```
for ($var = 0; $var <= $sortvar - 1; $var++) { 
```

这`-1`很重要，因为数组从 0 开始，然后是数组的长度减一。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T04:54:19.573

你应该`count()-1`在你的`for`循环中使用：

```
$sortvar = count($ranksection) -1;
$seqnum = 0;

for ($var = 0; $var <= $sortvar; $var++) { 
```

或者，使用小于（不小于等于）作为运算符：

```
for ($var = 0; $var < $sortvar; $var++) { 
```

# ios - 如何在多个视图控制器中制作 iAd 横幅的单个共享实例？

> ID：11895661
> 
> 赞同：1
> 
> 时间：2012-08-10T04:52:25.453
> 
> 标签：ios, singleton, iad, shared, viewcontroller

我曾尝试在我的应用程序委托中使用单例类，但我无法让它工作。我还查看了 iAdSuite 示例（尤其是 containerBanner 示例，因为它似乎是最相关的），但我无法弄清楚。如果有更好的方法可以在不使用单例类的情况下完成此任务，并且您可以为我指明正确的方向，我将不胜感激。我的一些单例类代码如下。谢谢！

```
@interface App Delegate

@property (assign) iAdController *iadc;
+ (AppDelegate*) sharedApplication;
- (iAdController*)sharedAd;
@end

@implementation AppDelegate

@synthesize iadc;

+ (AppDelegate*) sharedApplication
{
return [[UIApplication sharedApplication] delegate];
}

-(iAdController*)sharedAd
{
    if(iadc==nil){
        iadc=[iAdController new];
    }
    return iadc;
}

@interface ViewController

iAdController*iadc=[[AppDelegate sharedApplication] sharedAd];
//here i get an error saying, "initializer element is not a compile-time constant. 
```

一切都正确导入。如果还有什么我应该发布的，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:37:26.997

尝试将您的单例创建更改为：

```
+ (LocationManagerSingleton*)sharedInstance {

    static LocationManagerSingleton *_sharedInstance;
    if(!_sharedInstance) {
        static dispatch_once_t oncePredicate;
        dispatch_once(&oncePredicate, ^{
            _sharedInstance = [[super allocWithZone:nil] init];
        });
    }

    return _sharedInstance;
}

+ (id)allocWithZone:(NSZone *)zone {    

    return [self sharedInstance];
}

- (id)copyWithZone:(NSZone *)zone {
    return self;    
}

- (id)init
{
    self = [super init];
    if (self != nil) 
    {
        // PERFORM any custom initialization here
    }
    return self;
} 
```

显然改变了类的名称。

每当您想在任何视图控制器中使用单例时，只需像这样调用它：

```
locationManager = [LocationManagerSingleton sharedInstance]; 
```

不要忘记添加

```
+ (LocationManagerSingleton*) sharedInstance; 
```

在标题上。

**编辑**

好吧，看来我误解了您的代码（忘记我的回答，您只是希望能够从任何地方访问您的 iAdController。所以只需放置

在 ViewController 的 .m 中添加

```
@interface ViewController()
{
    iAdController *iadc; 
} 
```

而在里面

```
-(void)viewDidLoad
{
    iadc=[[AppDelegate sharedApplication] sharedAd];
} 
```

但是在您想要使用它的任何视图控制器上导入应用程序 delegate.h。

```
#import "AppDelegate.h" 
```

@interface 上的 AppDelegate 中也不应该有空格

# ios - 应用程序再次启动时恢复 Web 服务方法

> ID：11895662
> 
> 赞同：-1
> 
> 时间：2012-08-10T04:52:41.287
> 
> 标签：ios

我正在开发一个 iOS 应用程序，我在其中从 Web 服务更新我的数据库内容。

但是当用户杀死应用程序并再次启动它时，我想恢复我的网络服务方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:24:33.990

正如我所想，您想在应用程序再次启动时更新您的数据库。

然后你可以使用 `- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions`

AppDelegate 的

每次应用程序启动时都会调用它。如果您希望它用于某些特定的 viewController，您可以在 viewWillAppear 块中添加该方法

# backbone.js - 在主干中实现分页

> ID：11895663
> 
> 赞同：0
> 
> 时间：2012-08-10T04:52:48.497
> 
> 标签：backbone.js, pagination

我正在尝试使用主干实现非常基本的分页和过滤支持

到目前为止，我的 Collection.url() 函数上有这样的东西：

```
url: function() {
  var url = 'http://localhost:9000/wines';
  var query = '';

  if (this.filter)  query += '&filter=' + this.filter;
  if (this.order)   query += '&order='  + this.order;
  if (this.page)    query += '&page='   + this.page.toString();
  if (this.len)     query += '&len='    + this.len.toString();

  if (query) url += '?' + query.substring(1);

  return url;
}, 
```

你明白了

问题是当我尝试创建（POST）或更新（PUT）一个项目时，查询字符串也会发送到浏览器......

有没有办法在 url 函数中检测我发出的操作并仅在获取（GET）数据时添加查询字符串参数？

或者你会推荐另一种方法吗？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:23:42.837

我找到了以下方法

我只是覆盖了 fetch 方法，如下所示：

```
initialize: function(options) {

  this._fetch = this.fetch;

  this.fetch = function() {
    options = {};
    options.url = 'http://localhost:9000/wines'

    data = {};
    if (this.filter) data.filter = this.filter;
    if (this.order) data.order = this.order;
    if (this.page) data.page = this.page;
    if (this.len) data.len = this.len;

    options.data = data;

    return this._fetch(options);
  }
}, 
```

我找不到避免保存 _fetch 变量的方法，我尝试使用

返回 Backbone.Collection.fetch(options); 返回 Backbone.Collection.prototype.fetch(options);

返回 Wines.fetch(options); 返回 Wines.prototype.fetch(options);

但他们似乎都没有工作......

- 编辑

在主干页面上找到它：

返回 Backbone.Collection.prototype.fetch.call(this, options);

# jquery - 单击时将 div 图像数组移动到特定位置

> ID：11895664
> 
> 赞同：0
> 
> 时间：2012-08-10T04:52:49.637
> 
> 标签：jquery, html, css

我有一组包含在 DIV 中的图像

代码

```
<div id='brand'>
   <a href='#brand'><img src='brand.jpg' /> </a>
</div> 

<div id='fashion'>
   <a href='#fashion'><img src='fashion.jpg' /> </a>
</div> 

<div id='trend'>
   <a href='#trend'><img src='trend.jpg' /> </a>
</div> 

<div id='latest'>
   <a href='#latest'><img src='latest.jpg' /> </a>
</div> 
```

**//显示会像**

* * *

```
 BrandImage      FashionImage      trendImage     latestImage 
```

* * *

如果我点击任何一张图片

## 我想要特定的布局（例如：trendImage clicked）

```
 BrandImage     FashionImage     latestImage

 trendImage      Text About Image Clicked 
```

* * *

我真的从 Jquery 开始，所以我真的不知道如何将点击的图像动画到起始位置并根据该图像显示文本并移动上面的另一个图像。

--**更新**

我已经更新了我的代码并创建为 JSFIDDLE

[JSFIDDLE](http://jsfiddle.net/F3L78/1/)

现在我可以先点击 div 但我需要对其进行动画处理并将其他潜水移到上方并根据点击的链接显示文本

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:07:43.040

试试这个小提琴：http: [//jsfiddle.net/KjveG/](http://jsfiddle.net/KjveG/)

# c# - MSI 设置安装和卸载问题

> ID：11895665
> 
> 赞同：0
> 
> 时间：2012-08-10T04:52:54.753
> 
> 标签：c#, installation, windows-installer, setup-project

我有一个 MSI 安装程序，它有我的自定义安装程序项目输出，我添加了一个 exe 文件以在安装时运行。

所以我的 MSI 安装文件将从源位置复制或删除文件，我的自定义 GUI 将安装我的窗口服务器调用一些服务器 api 并更新其登录凭据等。

复制和删除文件由 MSI 控制，因为它添加为 MSI 项目的输出。如果我正在安装它将复制文件或者如果我卸载它将删除文件。

现在我有以下问题 -

1) 现在，如果我去控制面板并尝试卸载我的应用程序，然后如果我中止它，我的 GUI 将中止，但 MSI 将清除所有文件。

2) 如果我将选择卸载并进一步从 GUI 中选择修复。它仍然会删除文件。

所以我的安装程序不是真正的自定义安装程序，它只是同名的安装程序。

现在我怎样才能快速修复以上两个选项？有没有更好的方法来完成这项任务->我的原始问题[创建应用程序自定义安装程序的单击 msi 文件](https://stackoverflow.com/questions/10793356/create-single-click-msi-file-of-custom-installer-of-an-application)？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T09:43:08.373

听起来你正试图在错误的时间做事。在任何安装系统中，您都应该预先收集所有用户输入，然后一旦安装本身开始，则在一切完成之前应该不再需要用户输入。

确保完整性的最简单方法是只让用户在 UI 收集阶段而不是安装阶段取消。如果您确实想让用户在安装阶段取消，则必须将其传递给底层引擎，以便它知道取消和回滚迄今为止所做的任何更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-23T16:54:26.813

在我看来，您需要为您的操作设置适当的条件，例如启动您的 exe 文件执行的操作。尝试设置“未安装”之类的设置，以便它仅在初始安装期间发生，而不是在删除/修复或升级期间发生。

# actionscript-3 - Flex 4 滚轮调节速度

> ID：11895666
> 
> 赞同：0
> 
> 时间：2012-08-10T04:52:56.233
> 
> 标签：actionscript-3, apache-flex, actionscript, flex4, scroll

我有一个`<s:Scroller>`包含整个应用程序的组件。我的客户提到滚动条在某些时候滚动太快，而在其他时候滚动太慢。

以下是您可以滚动的四种最常见的方式，以下`<s:Scroller>`是我的客户对每种方式的看法：

1.  使用鼠标滚轮：速度不错
2.  拖动拇指：速度取决于用户（显然）
3.  反复点击向上/向下箭头：速度会变慢（整天坐着点击）
4.  按住向上/向下箭头：速度很快（很难停在你想要的地方）

如您所见，我控制了鼠标滚轮。我不确定如何调整第 3 项和第 4 项中提到的速度。我该怎么做？

作为旁注，第 4 项中提到的速度似乎随着拇指变小而减慢。如果拇指真的很大，它喜欢将速度（请原谅对星际迷航的疲倦参考）包裹在顶部或底部。

感谢您的时间。

# asp.net - ASP.NET mailto：功能错误

> ID：11895667
> 
> 赞同：0
> 
> 时间：2012-08-10T04:53:14.457
> 
> 标签：asp.net, hyperlink, mailto

我有一个 HyperLink 设置来使用 mailto，但它似乎在根文件夹中调用。 *~/Admin/mailto:email@stackoverflow.com*

```
<asp:HyperLink runat="server" NavigateUrl='<%#Eval("Email", "mailto:{0}")%>'
               Text='<%#Eval("Email")%>' ID="emailLink" /> 
```

任何想法为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:04:17.377

尝试

```
<asp:HyperLink NavigateUrl='<%#Bind("Email", "mailto:{0}") %>' Text='<%#Bind("Email") %>' runat="server" ID="emailLink"></asp:HyperLink> 
```

祝你好运！

# javascript - jQuery 如果 url 散列，单击事件/激活 javascript

> ID：11895681
> 
> 赞同：6
> 
> 时间：2012-08-10T04:54:42.147
> 
> 标签：javascript, jquery, url

所以从主页，我有一个链接到产品列表页面。产品页面有展开/折叠 div。

我需要适当的 div 来扩展，具体取决于 url# 是什么。

所以主页上的链接是

```
<a href="/out-products.php#healthysnacks">healthy snacks</a> 
```

当我点击上面的链接时，我试图在产品页面上激活它：

```
<a href="javascript:ReverseDisplay('products4')" id="healthysnacks"> Healthy Snacks</a> 
```

我已经尝试了一些其他代码，我发现通过检查哈希标签来触发点击，但它们都没有正常工作，我认为这是因为 ReverseDisplay js。请任何见解都会有所帮助。

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-10T05:00:47.027

您可以在产品页面的文档就绪功能中进行以下更改：

**简单修复：**由于 jQuery id-selector 是`#elementId`，您可以简单地使用该`window.location.hash`值作为您的 id 选择器，并使用它来定位所需的元素。

```
if ( window.location.hash ) {
    $(window.location.hash).click(); //clicks on element specified by hash
} 
```

**更好：**除上述之外，将 js 从您的标记中取出。

```
$('#healthysnacks').click(function(e) {
    e.preventDefault();
    ReverseDisplay('products4');
}); 
```

然后，*在这样做之后*，使用`$(window.location.hash).click()`上面的代码。另外，将您的链接更改为：

```
<a href="#" id="healthysnacks"> Healthy Snacks</a> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-18T22:01:40.303

The answers suggested here are valid, but...

Be extremely careful when using the window.location.hash as it is in a jQuery selector because this could lead to a XSS vulnerability. $() can also create an HTML element and with a carefully constructed hash value, someone could execute arbitrary JavaScript code.

For example

`http://my-website.com/about#'><img src=x onerror=alert(/XSSed/)>`

If my-websites.com/about page uses the window.location.hash inside a jQuery selector, that onerror code would end up getting executed.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-10T04:59:40.177

您可以使用对象的`hash`属性`Location`，尝试以下操作：

```
$(document).ready(function(){
   var id = window.location.hash;
   $(id).trigger('click')
}) 
```

当您使用 jQuery 而不是使用`javascript:`协议时，您可以使用 jQuery`click`方法：

```
$('#healthysnacks').click(function() {
   // do something here
}) 
```

# javascript - d3.js 强制有向图中是否有点击和双击事件

> ID：11895682
> 
> 赞同：13
> 
> 时间：2012-08-10T04:54:47.683
> 
> 标签：javascript, jquery, jquery-mobile, d3.js, force-layout

我正在使用 d3.js 研究力有向图。我需要处理移动设备节点上的点击和双击事件。鼠标悬停和单击功能需要在 d3.js 中复制为点击和双击。我设法使触摸事件正常工作，但不知道如何在移动设备中捕获双击事件。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-06-05T12:01:09.193

D3 有 [touches 事件](https://github.com/mbostock/d3/wiki/Selections#wiki-d3_touches)，使用它您可以从事件处理程序内部获取触摸位置坐标，但这不会为您提供任何特殊处理或帮助识别长按和双击。您可以自己添加对长按和双击的支持。对于长按，看看这个例子：

[JavaScript中的长按？](https://stackoverflow.com/questions/2625210/long-press-in-javascript)

如果您使用的是 jQuery，则有类似这样的 doubletap 插件：

[jQuery双击插件](http://appcropolis.com/implementing-doubletap-on-iphones-and-ipads)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-30T23:17:50.300

不幸的是，d3 中没有双击，因此如前所述，您必须使用 touchstart。[这是如何](http://bl.ocks.org/jczaplew/7018691)

# php - 如何以正确的方式编写此字符串

> ID：11895683
> 
> 赞同：1
> 
> 时间：2012-08-10T04:54:50.087
> 
> 标签：php, string, syntax-error

我想先将一个 javascript onclick 函数代码存储到一个字符串中，然后我需要将它传递给一个单选按钮。

我的 sting 变量是：

```
$jsFunc = "onclick=\"javascript:showHide(this.value, \'$arrFlipEntities[$field_id]\');\""; 
```

我想使用这个变量，如 dis：

```
$strCode .= "<input {$jsFunc} type=\"radio\" name=\"{$field_name}\" id=\"{$option}\" value=\"{$option}\" checked=\"checked\"/><label for=\"{$option}\">{$option}</label>"; 
```

但是当我查看源代码时，它给出了这个输出：

```
<input onclick="javascript:showHide(this.value, \'bas_link\');" type="radio" name="bas_type" id="Yes" value="Yes" checked="checked"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:00:42.290

尝试：

```
$jsFunc = "onclick=\"javascript:showHide(this.value, '".$arrFlipEntities[$field_id]."');\"";

$strCode .= "<input {$jsFunc} type=\"radio\" name=\"{$field_name}\" id=\"{$option}\" value=\"{$option}\" checked=\"checked\"/><label for=\"{$option}\">{$option}</label>"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T05:01:34.920

当'在两个“中时，它不需要\

```
$jsFunc = "onclick=\"javascript:showHide(this.value, '$arrFlipEntities[$field_id]')\"";
$strCode .= "<input {$jsFunc} type=\"radio\" name=\"{$field_name}\" id=\"{$option}\" value=\"{$option}\" checked=\"checked\"/><label for=\"{$option}\">{$option}</label>"; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T05:06:05.650

我更喜欢这样的单引号方法：

```
$jsFunc = 'onClick="javascript:showHide(this.value, '.$arrFlipEntities[$field_id].');"';

$strCode .= '<input '.$jsFunc.' type="radio" name="'.$field_name.'" id="'.$option.'" value="'.$option.'" checked="checked"/><label for="'.$option.'">'.$option.'</label>'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T05:00:25.560

```
$jsFunc = "onclick=\"javascript:showHide(this.value, \'$arrFlipEntities[$field_id]\');\""; 
```

应该：

```
$jsFunc = "onclick=\"javascript:showHide(this.value, '".$arrFlipEntities[$field_id]."');\""; 
```

单引号和双引号在被另一个包裹时不会被转义。此外，您不能在双引号内访问这样的数组，仅适用于 $var = "$myVar"; 这样的变量。

# c - atof() 在 symbian 中没有获取全部价值

> ID：11895686
> 
> 赞同：2
> 
> 时间：2012-08-10T04:55:14.143
> 
> 标签：c, char, symbian, printf

当我尝试将 char 转换为 float 时，我正在使用 atof 并且它没有返回整个值，&**如何纠正这个问题** *还有其他方法可以做到这一点吗？*

如果我给出这个长度（700.898）的值，它会返回正确的值。如果我给出的数字超过 3 个，那么只会遇到问题。如果我问错了什么，对不起。

```
float flt = 71237.898;
char myfloat[50];
sprintf (myfloat, "%f", flt);  //myfloat = 71 237.8984380
float f = atof(myfloat); //f = 71.0000 
```

删除空格：

```
int myfllen = strlen(myfloat);
    for(int b=0;b<strlen(myfloat);b++)
        {
        if(myfloat[b] == ' ')
            {
            int c = b;
            while(c<=myfllen)
                {
                myfloat[c] = myfloat[c+1]; 
                c++;
                }
            }
        } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T04:57:08.447

正如您在评论中发布的那样，您真的在`71`和`237`之后有那个空间吗？`sprintf`如果是这样，那么这很可能是`atof`导致停止解析字符串 after 的原因`71`。您实际上可以切换到`strtod`（总是比 更好的主意`atof`）并要求它为您提供导致它停止解析的字符位置。

显然，您的语言环境设置`sprintf`使用空间作为数字组分隔符。同时`atof`不支持区域设置。语言规范不要求`atof`( `strtod`) 识别区域设置以外的`"C"`区域设置的特定于区域设置的数字格式。

`setlocale(LC_ALL, "C")`以前做`sprintf`，它应该有望摆脱那个空间。或者手动清理这些空间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:06:58.777

我已经使用了你的代码并制作了小程序

```
#include<stdio.h>
#include<stdlib.h>
int main()
{
double flt = 71237.898;
char myfloat[50];
sprintf (myfloat, "%f", flt);  
double f = atof(myfloat); 
printf("answer is %f",f);
return 0;
} 
```

这给出了输出

```
answer is 71237.898000 
```

见[http://codepad.org/GMWScwqK](http://codepad.org/GMWScwqK)

**我认为你会因为使用 float 作为返回值而遇到问题....但实际上 atof 返回 double 值...**

# python - 在 Django 应用程序中为内部和远程使用设计 API

> ID：11895688
> 
> 赞同：0
> 
> 时间：2012-08-10T04:55:14.220
> 
> 标签：python, django, algorithm, api

我正在启动 Web 项目，该项目应该非常灵活和模块化，并且将来肯定会增长很多。当我们计划向其他开发人员提供 api 时，我开始认为将所有方法实现为 api 并提供远程和内部使用它们的功能可能是一个好主意。

例如，假设我们要提取所有注册用户。所以我们在 api 中设计方法，比如 get_all_users，它可以通过 REST 或内部调用获得。问题是我无法弄清楚如何区分访问与内部使用和远程使用，因为我还应该考虑内部调用的速度、代码重用和检查用户权限（用于 api 访问的密钥等）。最佳实践是什么？如何组织这样的 API？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T13:39:58.843

所以要构建 API、[Tastypie](http://tastypieapi.org)或[Piston](https://bitbucket.org/jespern/django-piston/wiki/Home)。这些让你可以编写“资源”（基本上是视图的 API 版本）——而不是返回 httpresponses，你只需返回将活塞/tastypie 转换为 json 或 xml 或 yaml 或任何你最喜欢的数据语言的对象。

**保护访问**：考虑使用 @login_required 或 @staff_member_required 装饰器适当地装饰任何包含机密信息的资源。

您甚至可能想更进一步，编写一个装饰器来检查员工用户是否使用 https（而您可能允许普通用户使用任何连接类型）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T08:33:34.163

如果你还没有考虑过，我推荐使用[Tastypie](http://tastypieapi.org)来设置一个 django 的 API。为了区分您的内部和远程使用，也许您可​​以简单地设计一个不同的 URL 方案。

# javascript - 使用 javascript 和 CSS 显示图像

> ID：11895692
> 
> 赞同：1
> 
> 时间：2012-08-10T04:55:51.100
> 
> 标签：javascript

我必须创建一个 javascript 代码，该代码在单击图像按钮时调用不同的图像。我已将图像命名为 product1、product2、product3。我是 JavaScript 新手。

```
var count;
document.getElementById("divProduct").style.backgroundImage="url('images/product'+count)"; 
```

我正在尝试上面的代码，但它不起作用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T04:59:26.110

如果您查看语法突出显示，`+ count`则被视为字符串。

你把它放在单引号之外（有点），但你仍然需要把它放在双引号之外，这是你真正用来分隔字符串的引号：

```
document.getElementById("divProduct").style.backgroundImage="url('images/product" + count + "')"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:14:44.723

我想一定是这样的；

```
var count;
document.getElementById("divProduct").style.backgroundImage="url('images/product" + count + ".jpg')"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T05:11:31.943

您的代码应该像 Blender 所说的那样，如果它不起作用，请在您的 div 示例中添加：

```
<div id="divProduct">&nbsp;</div> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T05:12:05.063

您还缺少图像扩展名。它应该是 .png 或 .jpg 或其他内容，具体取决于您的图像是什么类型。

另外我想知道您是否在控制台上遇到任何错误。

编辑：对于那些正在寻找这个问题的答案的人，还请查看下面我的搅拌机的回复。

# java - Hibernate Docs 矛盾：SQL 规范化与多个表上的实体映射

> ID：11895693
> 
> 赞同：0
> 
> 时间：2012-08-10T04:55:56.173
> 
> 标签：java, mysql, hibernate, normalization

Hibernate 文档说明了以下内容：

> 5.1.6.5。将一个实体映射到多个表
> 
> 虽然不推荐用于新模式，但某些遗留数据库会强制您的 [原文如此] 将单个实体映射到多个表上。

我已经阅读了大量有关数据库规范化的内容，但我并不真正了解如何既规范化数据库又不将实体映射到多个数据库表上，除非您映射多个不同的实体并手动执行奇怪的连接语句。或者，您映射 7 个不同的实体并将它们传输到一个 POJO。是否有地方展示了如何开发一个“新模式”，它既是规范化的，又需要一个实体来从数据库数据转换为 java 对象？

另外，我知道在当今廉价存储的世界中完全规范化不是必需的，但我发现这个声明与我读过的所有其他内容不一致。我正在寻找规范化到非规范化的平衡，但没有找到使用 Java Persistence API 的简单方法。

**编辑：**

例子：

如果我有一个具有以下内容的用户实体：

```
@Entity
public class User {
    long id;        
    String name;
    String email;

    int countryCode;

    List<Images> uploadedImages;
} 
```

我不会将用户的国家名称和图像集合存储在同一张桌子上，而是将国家放在一张桌子上：

```
Table Countries    Country_Code    Country_Name
                   AF              Afghanistan etc.... 
```

使用国家代码和国家名称，然后打开，并将图像上传到带有用户 ID 的单独表格中，

```
Table UploadedImages    User_Id      Image_Name    Image_Url
                        1            Hello.jpg     Amazon S3
                        1            Goodbye.jpg   Photobucket 
```

那么我如何只用一个实体来做到这一点呢？或者我是否使用来自第一个实体的信息从数据库中获取三个单独的实体？如您所知，我对基本架构有点困惑，如何将上面的数据转换为 java 对象？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T14:07:55.763

鉴于你的例子

```
@Entity
public class User {
    long id;        
    String name;
    String email;

    int countryCode;

    List<Images> uploadedImages;
} 
```

在这里，您有 3 个实体 - 一个 User、一个 Country 和一个 Image 实体，每个实体可能映射到 3 个表 - 每个表一个实体和一个用于图像列表的连接表。

所以你的用户类然后变成

```
@Entity
public class User {

    long id;        

    String name;

    String email;

    Country country

    List<Images> uploadedImages;
}

@Entity
public class Country {

    long id;        

    String name;

}

@Entity
public class Image{

    long id;        

    String name;

    String url;

} 
```

并且您将添加注释以将属性映射到正确的表和列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:50:48.423

文档所说的与数据规范化无关。这与数据分区/表优化有关。因此，如果您有一个包含大二进制列的表，您可能不希望它与主数据位于同一个表中。这在过去更为常见，因为当时的衡量标准认为小数据在当时被认为是“大”数据。

另一方面，规范化在 OOP（和 Hibernate）中非常受欢迎。一切都是为了让事情保持原状，以[尽量减少冗余和依赖](http://en.wikipedia.org/wiki/Database_normalization)

# symfony - 在 Symfony2 中的供应商中创建捆绑包

> ID：11895696
> 
> 赞同：1
> 
> 时间：2012-08-10T04:56:06.737
> 
> 标签：symfony, bundle, hwioauthbundle

我正在尝试在 Symfony2 的供应商中创建一个捆绑包。

MyBundle(MineUserBundle) 需要继承 vendor`FOSUserBundle`和`HWIOAuthBundle`.

如何在 Mybundle 中继承捆绑包属性、模板等？

```
vendors
   FOSUserBundle 
   HWIOAuthBundle
   MineUserBundle 
```

这里`MineUserBundle`需要具备其他两个捆绑包的所有功能。

如何让流程工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:52:14.237

由于您使用的是命名空间，因此您将把 Bundle 部署到哪个文件夹中并不重要。只需在你的包中包含你需要的 use 语句：

```
use Path\To\FOS\UserBundle;
use Path\ToHWIO\AuthBundle; 
```

你可以扩展任何你需要的东西。

但是如果你真的想将你的包安装到`vendor`目录，那么你必须在你的`deps`文件中配置定义它。

```
[YourVendorYouBundle]
    git=git@github.com:yourRepository/YourVendorYouBundle.git
    target=/bundles/YourVendor/YouBundle 
```

# android - 使用线性布局在 ListView 的末尾显示按钮

> ID：11895700
> 
> 赞同：0
> 
> 时间：2012-08-10T04:57:27.590
> 
> 标签：android, button, android-linearlayout

我是android应用程序开发的新手。我遇到了关于在列表视图末尾显示按钮的问题。我正在使用线性布局。应用程序可以显示所有列表但不能显示按钮。我还在这里粘贴了我的 XML 代码。在这方面的任何帮助，将不胜感激。

莫汉

主要的.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout
xmlns:android="http://schemas.android.com/apk/res/android"        
android:layout_width="fill_parent"
android:layout_height="fill_parent"
>

<ImageView 
    android:id="@+id/contact_image"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" />

<Button
    android:id="@+id/btn_New"
    android:width="170dp"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerInParent="true"
    android:layout_alignParentBottom="true"
    android:layout_marginBottom="20dp"
    android:text="Click"

     />

<TextView  
    android:id="@+id/textView"
    android:layout_width="fill_parent" 
    android:layout_height="wrap_content" 
    android:layout_above="@id/btn_New"
    android:text="@string/hello"
    />

<ListView 
    android:id="@+id/contactList"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_above="@id/textView"
    />

</RelativeLayout> 
```

联系人列表项.xml

```
 <?xml version="1.0" encoding="utf-8"?>
<LinearLayout

  xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="match_parent"
  android:layout_height="match_parent" android:orientation="horizontal" android:weightSum="1">

    <TextView
        android:id="@+id/txtDisplayName"
        android:layout_width="250dp"
        android:layout_height="wrap_content"
        android:text="TextView"
        android:textAppearance="?android:attr/textAppearanceMedium" >
</TextView>

    <ImageView android:id="@+id/contact_image"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" />

    <TextView android:textAppearance="?android:attr/textAppearanceLarge" 
    android:id="@+id/textView1" 
    android:layout_height="wrap_content" 
    android:layout_width="wrap_content"></TextView>

</LinearLayout> 
```

ContactListActivity.java

```
package com.contactlist;

import android.app.Activity;
import android.graphics.BitmapFactory;
import android.app.ListActivity;
import android.content.ContentResolver;
import android.database.Cursor;
import android.graphics.Bitmap;
import android.net.Uri;
import android.os.Bundle;
import android.provider.ContactsContract;
import android.view.View;
import android.widget.ListView;
import android.widget.ArrayAdapter;
import android.widget.Toast;
import android.provider.ContactsContract.CommonDataKinds.Photo;
import android.provider.ContactsContract.Data;

public class ContactListActivity extends ListActivity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        ContactList contactList=this.getContacts();
        ArrayAdapter<Contact> adapter=new ContactAdapter(this,contactList.getContacts());
        setListAdapter(adapter);

    }

    @Override
    protected void onListItemClick(ListView l, View v, int position, long id)
    {
        super.onListItemClick(l, v, position, id);
        Object o=this.getListAdapter().getItem(position);
        Contact c=(Contact)o;
        Toast.makeText(this, c.getDisplayName(), Toast.LENGTH_SHORT).show();
        Toast.makeText(this, c.getId(), Toast.LENGTH_SHORT).show();
    }

    private ContactList getContacts()
    {
        ContactList contactList=new ContactList();
        Uri uri=ContactsContract.Contacts.CONTENT_URI;
        ContentResolver cr=getContentResolver();
        String sortOrder = ContactsContract.Contacts.DISPLAY_NAME + " COLLATE LOCALIZED ASC";
        Cursor cur=cr.query(uri, null, null, null, sortOrder);

        if(cur.getCount() >0)
        {
            String id;
            String img;
            String name;
            while(cur.moveToNext())
            {
                Contact c =new Contact();
                id = cur.getString(cur.getColumnIndex(ContactsContract.Contacts._ID));
                img= cur.getString(cur.getColumnIndex(ContactsContract.Contacts.PHOTO_ID));
                name=cur.getString(cur.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
                final Bitmap photo;
                if(img != null) {
                    photo = queryContactBitmap(img);

                } else {
                    photo = null;
                }

                c.setId(id);

                c.setImage(photo);
                c.setDisplayName(name);
                contactList.addContact(c);

            }
        }
    //  cur.close();
        return contactList;
    }
    private Bitmap queryContactBitmap(String photoId) {
        final Cursor photo = managedQuery(
                Data.CONTENT_URI,
                new String[] {Photo.PHOTO},     // column where the blob is stored
                Data._ID + "=?",                // select row by id
                new String[]{photoId},          // filter by the given photoId
                null);

        final Bitmap photoBitmap;
        if(photo.moveToFirst()) {
            byte[] photoBlob = photo.getBlob(
                    photo.getColumnIndex(Photo.PHOTO));
            photoBitmap = BitmapFactory.decodeByteArray(
                    photoBlob, 0, photoBlob.length);
        } else {
            photoBitmap = null;
        }
        photo.close();

        return photoBitmap;

    }
} 
```

联系人列表.java

```
package com.contactlist;

import java.util.ArrayList;
import java.util.List;

public class ContactList {
    private List<Contact> _contacts=new ArrayList<Contact>();
    public List<Contact> getContacts(){return _contacts;}

    public void addContact(Contact contact){ this._contacts.add(contact);}

} 
```

ContactAdapter.java

```
package com.contactlist;

import java.util.List;

import android.app.Activity;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.ImageView;
import android.widget.TextView;

public class ContactAdapter extends ArrayAdapter<Contact> {

    private final List<Contact> _contacts;
    private final Activity _context;

    public ContactAdapter(Activity context, List<Contact> contacts)
    {
        super(context,R.layout.main,contacts);
        this._contacts=contacts;
        this._context=context;
    }
    static class ViewHolder {
        protected TextView text;
        private Contact  _contact;
        public ImageView imageview;
        protected void setContact(Contact contact)
        {
            text.setText(contact.getDisplayName());
            imageview.setImageBitmap(contact.getImage());
            _contact=contact;
        }
        protected Contact getContact() {return _contact;}
    }
    @Override
    public Contact getItem(int position)
    {
        return _contacts.get(position);
    }
    @Override
    public View getView(final int position, View convertView, ViewGroup parent)
    {

        View view=null;

        if(convertView==null)
        {
            LayoutInflater inflater=_context.getLayoutInflater();
            view=inflater.inflate(R.layout.contactlistitem, null);
            final ViewHolder viewHolder=new ViewHolder();
            viewHolder.text=(TextView)view.findViewById(R.id.txtDisplayName);
            viewHolder.imageview =(ImageView)view.findViewById(R.id.contact_image);
            viewHolder.setContact(_contacts.get(position));
            view.setTag(viewHolder);

        }

        else 
        {
            view = convertView;
        }

        return view;
    }
} 
```

联系方式.java

```
package com.contactlist;

import java.util.ArrayList;

import android.R.string;
import android.graphics.Bitmap;

public class Contact {
    private String _id;
    private String _displayName;
    private Bitmap _img;

    public String getId(){return _id;}
    public String getDisplayName(){return _displayName;}
    public Bitmap getImage(){return _img;}
    public void setId(String id){_id=id;}
    public void setDisplayName(String displayName){_displayName=displayName;}
    public void setImage(Bitmap img){_img=img;}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T05:08:17.520

试试这个，看看它是否有效：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout
xmlns:android="http://schemas.android.com/apk/res/android"        
android:layout_width="fill_parent"
android:layout_height="fill_parent"
>

<ImageView 
    android:id="@+id/contact_image"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" />

<Button
    android:id="@+id/btn_New"
    android:width="170dp"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerInParent="true"
    android:layout_alignParentBottom="true"
    android:layout_marginBottom="20dp"
    android:text="Click"

     />

<TextView  
    android:id="@+id/textView"
    android:layout_width="fill_parent" 
    android:layout_height="wrap_content" 
    android:layout_above="@id/btn_New"
    android:text="@string/hello"
    />

<ListView 
    android:id="@+id/contactList"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_above="@id/textView"
    />

</RelativeLayout> 
```

MainActivity 类：

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);       
    setContentView(R.layout.main);

    ListView listView = (ListView) findViewById(R.id.contactList);

    String[] values = new String[] { "Android", "iPhone", "WindowsMobile",
              "Blackberry", "WebOS", "Ubuntu", "Windows7", "Max OS X",
              "Linux", "OS/2" };

    // First parameter - Context
    // Second parameter - Layout for the row
    // Third parameter - ID of the TextView to which the data is written
    // Forth - the Array of data
    ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
            android.R.layout.simple_list_item_1, android.R.id.text1, values);

    // Assign adapter to ListView
    listView.setAdapter(adapter);
  } 
```

![在此处输入图像描述](../Images/b038c40a96c337285a3fcadc2bfc9439.png)

现在当你把东西放在里面时，`listView`它不应该“按下”按钮或`textView`向下。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:14:51.113

首先，您必须在主要相对布局中设置线性布局并设置其重力底部

```
<RelativeLayout
android:width = "fill..."
android....>

<LinearLayout
android:gravity="bottom"
android:id="@+id/linear1"  
android:layout_alignParentBottom="true">
<Button/>

</LinearLayout>

<ListView
android:layout_above="@id/linear"/> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T05:15:42.910

安卓：layout_weight="1"

删除它。

如果您没有在包含某些组件的级别上表达 'android:layout_weightSum' 表达 'android:layout_weight' 但包含 'android:layout_weight="1"' 代码的组件正好将大小更改为全屏。

（对不起，我英语说得不太好......）

1.  android:layout_weight="1" 是错误的
2.  android:layout_weight="1" 删除它
3.  或者先使用 android:layout_weightSum 。

# javascript - jquery insert-before 到同一个 DOM 中的文本

> ID：11895701
> 
> 赞同：0
> 
> 时间：2012-08-10T04:57:31.927
> 
> 标签：javascript, jquery

嗨，我正在向这个 DOM 插入文本，但我的尝试没有像我预期的那样工作。

```
 <p class="doing">Peter are <a href="mysite.com">here</a></p>
<script>$("p.doing").before("I and ");</script> 
```

我期待有结果：

```
<p class="doing">I and Peter are <a href="mysite.com">here</a></p> 
```

但它是：

```
I and 
<p class="doing">Peter are <a href="mysite.com">here</a></p> 
```

请告知如何解决这个问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T05:02:53.703

请改用**前置**。

```
$("p.doing").prepend("I and "); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:02:18.697

```
$(".doing").html('I and '+$(".doing").html()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T05:03:23.453

使用 jQuery [prepend()](http://api.jquery.com/prepend/)方法：

```
<p class="doing">Peter are <a href="mysite.com">here</a></p>
<script>$(".doing").prepend("I and ");</script> 
```

[**演示**](http://jsfiddle.net/Snowsickle/5havq/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T05:06:13.203

而不是之前，您应该使用 prepend，因为之前会将文本插入到 p 标签中，并带有一个类。

```
<!DOCTYPE html>
<html>
<head>

</head>
<body>
  <p class="doing">Peter are <a href="mysite.com">here</a></p>
<script>$(".doing").prepend("I and");</script>
</body>
</html>​ 
```

# c# - 尝试在 WPF 中构建查询生成器控件

> ID：11895703
> 
> 赞同：3
> 
> 时间：2012-08-10T04:57:39.213
> 
> 标签：c#, wpf, user-controls, treeview, telerik

请耐心等待这个问题的长度，我试图尽可能地描述。我是 WPF 编程的新手。我基本上是在尝试构建[RadDataFilter 控件](http://www.telerik.com/help/silverlight/raddatafilter-visual-structure.html)：

RadDataFilter 用于通过构建查询表达式来过滤集合。该控件*通常*通过从数据库中获取所有数据然后对其进行过滤来使用。

但是，我正在尝试使用它来构建 SQL 查询表达式*，然后*查询数据库以检索数据。我们公司有 Telerik 产品的许可证，所以我不得不尝试使用该控件。不幸的是，该控件不灵活，以至于我想[自定义左下拉](http://www.telerik.com/community/forums/wpf/data-filter/categorize-customize-members-dropdown.aspx#2214445)菜单（RadComboBox）。

由于我们有几个用户可以过滤的项目，因此为他们提供单个 dropdpwn 是不可行的。我想要一个自定义控件而不是下拉菜单。

对于这个问题，我有以下解决方法：

*   提取该控件的模板并在我的 XAML 中覆盖它，如此处[所述](http://www.telerik.com/community/forums/silverlight/data-filter/change-members-dropdown-in-datafilter.aspx)。但是，尽管这样做，我无法更改控件。我认为这是由于我对 WPF 的了解不足。

*   尝试更改 Telerik 的源代码（我们也有代码的许可证）。然而，使用这种方法，我们需要在每次升级时不断进行更改，这对团队来说是高维护成本。

*   尝试构建自定义控件。

我正在寻找第三种方法。如果有一种简单的方法（使用前两种方法）或任何其他解决方案来实现这一点，请告诉我，我会尝试的。

为了实现第三种方法，我正在考虑使用一个 TreeView，每个节点使用一个 ControlTemplate（包含我的自定义控件）。我将覆盖`ToString()`给我一个查询条件的自定义控件的方法。完成后，我将遍历根节点的子节点以构建最终的查询表达式。

However as I notice, we need 2 different ControlTemplates (one which allows creating a filter expression and the other with the operator, similar to RadDataFilter). I do not know how to set multiple templates like this.

This may sound simple to some of the developers out there, but I am really new to C# and WPF programming and would need time and experience to be comfortable with it.

Please let me know if you know any other solution that I can try to solve this problem. If you feel it is better to create a custom control, please guide me on whats the best way to implement this. Also comment on my approach to create the custom control.

Thanks!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-16T16:56:10.017

I resolved it. Took the first approach:

"Extract the Template for that control and override it in my XAML as described [here](http://www.telerik.com/community/forums/silverlight/data-filter/change-members-dropdown-in-datafilter.aspx).."

# selenium - 在分页栏中定位元素

> ID：11895704
> 
> 赞同：0
> 
> 时间：2012-08-10T04:57:40.023
> 
> 标签：selenium

代码“AS PDF”、“As excel”中的按钮被包裹在按钮导出中，导出按钮嵌入在分页工具栏中

我无法在 webdriver 中找到此元素

试过“//span[text()='As PDF']”

我仍然看到错误无法找到元素

```
<li class="leaf">
<button id="export" class="button capsule mutton up last over">
<span class="wrap">
Export
<span class="icon"/>
<span class="indicator"/>
</span>
</button>
</li>

ul id="menuList">
<li id="menuList_simpleAction.Report.exportReport" class="leaf">
<p class="wrap button">
<span class="icon"/>
<!--Item text goes here-->
As PDF
</p>
</li>
<li id="menuList_simpleAction.Report.exportReport" class="leaf">
<p class="wrap button">
<span class="icon"/>
<!--Item text goes here-->
As Excel
</p> 
```

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T08:30:01.357

如果您使用的是 java 代码，那么您可以使用

```
driver.findElement(By.linkText("As PDF")); 
```

或者您可以使用

```
List<WebElement> list = driver.findElements(By.xpath("//span[@class='icon']"));
for(WebElement ele: list){
    if(ele.getText().equals("As PDF")){
        ele.click();
     }
} 
```

希望这对您有所帮助。

# python - ndb 有没有 list 属性

> ID：11895710
> 
> 赞同：18
> 
> 时间：2012-08-10T04:58:20.287
> 
> 标签：python, google-app-engine, list, google-cloud-datastore

我想存储一个字符串列表，而不是单个 StringProperty()

```
class BlogPost(ndb.Model):
    s1 = ndb.StringProperty(required=True)
    s2 = ndb.StringProperty(required=True)
    s3 = ndb.StringProperty(required=True) 
```

我宁愿去

```
class BlogPost(ndb.Model):
    my_strings = ndb.StringListProperty() # does this exist? 
```

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-08-10T04:58:20.287

是的，使用重复的属性：

> 具有重复=True 的任何属性都将成为重复属性。该属性采用基础类型的值列表，而不是单个值。例如，使用 IntegerProperty(repeated=True) 定义的属性的值是一个整数列表。

请参阅文档：[重复属性](https://developers.google.com/appengine/docs/python/ndb/properties#repeated)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-23T15:32:50.540

此外，如果您只对列表进行操作并且不需要索引，则可以使用`ndb.JsonProperty`将解析具有非空**有效**Json 对象的列表。通过这种方式，您**也可以压缩**数据，但如果您不将其作为 arg 启用，则会丢失索引，因为它存储为 Blob。

# git - git - 是否可以从“git push”中排除文件，但将它们保存在本地存储库中？

> ID：11895712
> 
> 赞同：36
> 
> 时间：2012-08-10T04:58:43.083
> 
> 标签：git, version-control, repository

在我的主目录中，我在本地 git 存储库中有文件，因为我想在版本控制下跟踪它们。

这些文件中的大多数我想推送到远程存储库，但有一些我只想保留*在本地存储库中*（它们包含轻度敏感信息）。

我怎样才能用 git 做到这一点？我可以配置一个“ `.gitignore-for-push`”文件吗？我不能使用本地`.gitignore`文件，因为它会将这些文件完全排除在跟踪之外。

ps：我知道问题[Is there an exclude file-equivalent...](https://stackoverflow.com/questions/4293536/is-there-an-exclude-file-equivalent-for-pushing-in-git)，但答案是`.gitignore`我无法使用的路径。另一个问题[Exclude specific files when push...](https://stackoverflow.com/questions/2479162/exclude-specific-files-when-pushing-to-a-specific-git-repository)仅回答 git+heroku 的特定情况，而不是单独的 git。

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-08-10T05:06:00.627

您可以继续实际跟踪这些文件（不包含敏感信息），然后使用：

`git update-index --assume-unchanged <file>`

在每个文件上。然后您可以继续将敏感信息添加到每个文件，但 Git 不会看到文件已更改，并且不会尝试提交（并因此推送）该敏感信息。

要让 Git 再次更新信息，您可以使用：

`git update-index --no-assume-unchanged <file>`

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-08-10T05:03:47.137

这是不可能的。如果你已经提交了一个文件，那么它将被推送。推送操作仅对提交起作用，而不是基于文件。

但是你可以为你的敏感数据使用一个子模块，并将这个子模块保存在你的本地机器上，同时你将常规的 git 存储库推送到远程机器上。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-08-18T15:01:03.963

我最终解决该问题的方法如下：将敏感信息放在具有自己的 git 存储库的子目录中，并将文件符号链接回旧位置。

E.g. in your home folder (`~`) lives the file `.creds` which you do *not* want in the public repository. Move this file in a sub folder called, say `protected` and create a symlink from `~` to `protected/.creds.` Of course, do not include this folder in your `~` repository , but create a *new* repository in the folder `protected` just to keep track of `.creds`. If you do not push this repository publicly at all, you are set.

I know this solution is kind of a cop out: My questions states that the file resides in the same directory, but the symlinking works for me.

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2015-08-20T13:28:53.337

Here git-update-index - Register file contents in the working tree to the index.

```
git update-index --assume-unchanged <PATH_OF_THE_FILE> 
```

Example:-

```
git update-index --assume-unchanged somelocation/pom.xml 
```

[for more details.](http://git-scm.com/docs/git-update-index)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-10T05:04:36.010

只是不要提交要排除的文件。

例如，如果您有两个文件`a`并且`b`在本地存储库中，但您只想提交其中一个，请使用： `git add a`添加其中一个文件。然后提交`git commit`（不包括`-a`标志）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-12-24T07:40:33.060

git update-index --skip-worktree directory/fileName.js

This would modify the index or directory cache. Each file mentioned is updated into the index and any unmerged or needs updating state is cleared. For more reference, you can go through the following URL. [https://git-scm.com/docs/git-update-index](https://git-scm.com/docs/git-update-index)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2022-02-22T17:31:25.377

Might it be simplest to create a local branch, delete the sensitive files from that branch, then only ever push that branch to the remote repo? If they rarely change, when you merge locally they should stay deleted in the new branch without asking you to confirm. Plus having a branch specifically used for that remote push gives you a clear inventory of what you are pushing simply by looking at the file system contents without worry about whether a given file or folder is really a link or submodule etc.

# ruby-on-rails-3 - 生产 Rails 应用程序 - 奇怪的重定向到外部站点

> ID：11895717
> 
> 赞同：2
> 
> 时间：2012-08-10T04:59:06.563
> 
> 标签：ruby-on-rails-3, redirect, production-environment

我刚刚在生产服务器上启动了我的第一个 Rails 3.2.6 应用程序。当有人进入主页时，这由我的 IndexController 处理，根据登录用户的类型，它可能会将其发送到另一个 URL。

我所拥有的稍微简化的代码示例是这样的：

```
def index
  path = new_user_session_url    #default path
  if current_user
    path = users_admin_index_path    #admin path
  end
  redirect_to path, :notice => flash[:notice], :alert => flash[:alert]
end 
```

我感到困惑的是，我一直在监视日志中的问题，并且似乎重定向将针对两个 IP 地址转到巴西的随机站点。这是我应该担心的事情吗？任何有关帮助我了解这里发生的事情的信息将不胜感激。

请参阅下面的日志摘录，在“重定向到”URL 中，域正在从我的站点更改为 www.bradesco.com.br、www.bb.com.br 或 www.itau.com.br。

没有人在网站上报告任何问题，但我只是想尝试更好地理解这一点。

# 日志提取

```
Started GET "/" for 65.111.177.188 at 2012-08-10 00:20:10 -0400
Processing by Home::IndexController#index as HTML
Redirected to http://www.itau.com.br/home
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)

Started GET "/" for 65.111.177.188 at 2012-08-10 00:20:10 -0400
Processing by Home::IndexController#index as HTML
Redirected to http://www.bradesco.com.br/home
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)

Started GET "/" for 65.111.177.188 at 2012-08-10 00:20:10 -0400
Processing by Home::IndexController#index as HTML
Redirected to http://www.bb.com.br/home
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)

Started GET "/" for 64.251.28.71 at 2012-08-09 22:00:20 -0400
Processing by Home::IndexController#index as HTML
Redirected to http://www.bradesco.com.br/home
Completed 302 Found in 1ms (ActiveRecord: 0.0ms) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T15:29:44.467

我在我的一台 Rails 登台服务器上看到了同样的情况。我认为问题在于您需要拒绝所有不属于预期域的流量。

在你的 nginx 设置中是这样的（如果你使用的是 nginx）：

[http://nginx.org/en/docs/http/server_names.html](http://nginx.org/en/docs/http/server_names.html)

```
server {
    listen       80  default_server;
    server_name  _;
    return       444;
} 
```

不知道这个流量的意义何在？使用其他人的 Rails 应用程序作为网络钓鱼站点的某种迂回新方法，同时嗅探网络流量？似乎有太多变数，无法成为一种有效的技术。

# php - jQuery 在 IE8 中根本不起作用

> ID：11895721
> 
> 赞同：-5
> 
> 时间：2012-08-10T04:59:32.473
> 
> 标签：php, jquery, css, jquery-ui, internet-explorer

我已经阅读了很多关于这个主题的帖子......我已经尝试了每一个“解决方案”，更改为**type="text/javascript"**，将其升级到最新版本，包括这个标题`<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />`，但似乎没有任何效果。

该站点是[testing.quierodecomer.com](http://testing.quierodecomer.com/)
**注意：**我`<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" />`在头部写了测试问题。

```
<?php
    session_start();
?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" />
<title>Quiero de comer!</title>
<link href="favicon.png" type="image/png" rel="icon">
<style>
    .ui-autocomplete-loading { background: white url('jquery-ui-1.8.21.custom/css/ui-lightness/images/ui-anim_basic_16x16.gif') right center no-repeat;
    }
</style>
<link rel="stylesheet" type="text/css" href="jquery-ui-1.8.21.custom/css/ui-lightness/jquery-ui-1.8.21.custom.css" />
<link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
<link rel="stylesheet" type="text/css" href="css/fonts.css" />
<link rel="stylesheet" type="text/css" href="css/jquery.imageZoom.css" />
<style type="text/css">
    body {
        padding: 0px;
        vertical-align:bottom;    
    }

    #container {
        position: absolute;
        margin: 0px;
        padding: 0px;
        width: 100%;
        height: 360px;
        overflow: hidden;
        text-align:center;  
    }

    .box {
        position: absolute;
        width: 400px;
        height: 200px;
        line-height: 40px;
        font-size: 30px;
        font-weight:bold;
        color:black;
        text-align: center;
        border: 3px solid grey;
        left: 50%;
        top: 100px;
        -webkit-border-radius:60px;
        -moz-border-radius:60px;
        border-radius:60px;
        margin-top:-70px;
        margin-left: -200px;
    }

    #box1 {
        background-color:#FFF;
    }

    #box2 {
        background-color:#FFF;
        left: 150%;
    }

    #box3 {
        background-color:#FFF;
        left: 150%;
    }
    .btn1, .coloniaButton{
        background:#ff5d35;
        border:none;
        -webkit-border-radius:10px;
        -moz-border-radius:10px;
        border-radius:10px;
        vertical-align:middle;
        cursor:pointer;
        color:#fff;
        font-weight:bold;
        font-size:20px;
        padding:5px 10px;
        margin-right:-225px;
        border: 1px solid #000;
    }
    .btn1:hover, .coloniaButton:hover{
        background:#3f3f3f;
    }
    #tags, #tipoDeComida, #tags2, #city {
        padding:.8em;
        -moz-border-radius: 10px 10px 10px 10px;
        -webkit-border-radius: 10px 10px 10px 10px;
        border-radius: 10px 10px 10px 10px;
        border:none;
        width:350px;
        margin-bottom:5px;
        border: 2px solid grey;
    }
    .titulo{
        margin-top: 23px;
    }
    .caja{
        margin-top: 20px;
    }
    .servicios{
        font-size:15px;
        font-weight:bold;
    }
    #ciudadBreadcrumb, #coloniaBreadcrumb{
        font-size: 15px;
    }
    #footer{
        text-align: center;
        background-color: black;
        width: 99.2%;
        padding: 5px;
        color: white;
        position: absolute;
        bottom: 0px;
    }
</style>
<link rel="stylesheet" href="css/supersized.css" type="text/css" media="screen" />
<link rel="stylesheet" href="theme/supersized.shutter.css" type="text/css" media="screen" />
<link rel="stylesheet" href="css/flexslider.css" type="text/css">

<script type="text/javascript" src="jquery-ui-1.8.21.custom/js/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="jquery-ui-1.8.21.custom/js/jquery-ui-1.8.21.custom.min.js"></script>
<script type="text/javascript" src="jquery-ui-1.8.21.custom/js/jquery.paginatetable.js"></script>
<script type="text/javascript" src="jquery-ui-1.8.21.custom/js/md5.js"></script>

<script type="text/javascript" src="js/jquery.flexslider.js"></script>        
<script type="text/javascript" src="js/jquery.easing.min.js"></script>
<script type="text/javascript" src="js/supersized.3.2.6.min.js"></script>
<script type="text/javascript" src="theme/supersized.shutter.min.js"></script>
<script type="text/javascript" src="js/jquery.imageZoom.js"></script>
<?php 
include("conecta.php");
$result = mysql_query("SELECT * FROM fondo WHERE id = 1");
while($row = @mysql_fetch_array($result)){
    $fondo = $row['imgFondo'];
}
?>
<script type="text/javascript">         
    jQuery(function($){
        $.supersized({
            // Functionality
            slide_interval          :   3000,       // Length between transitions
            transition              :   1,          // 0-None, 1-Fade, 2-Slide Top, 3-Slide Right, 4-Slide Bottom, 5-Slide Left, 6-Carousel Right, 7-Carousel Left
            transition_speed        :   700,        // Speed of transition

            // Components                           
            slide_links             :   'blank',    // Individual links for each slide (Options: false, 'num', 'name', 'blank')
            slides                  :   [           // Slideshow Images
                    {image : 'admin/uploads/fondos/<?php echo $fondo; ?>', title : '', thumb : '', url : ''}
                                        ]                   
                });
            });     
</script>

<script type="text/javascript">
$(document).ready(function(){
    $("#colonia").hide();
     $('.btn1').click(function() {
        $('.box').each( function() {
            if ($(this).offset().left < 0) {
                $(this).css("left", "150%");
            }
        });

        $(this.parentNode).animate({
             left: '-50%'
         }, 500);

         if ($(this.parentNode).next().size() > 0) {
             $(this.parentNode).next().animate({
                 left: '50%'
             }, 500);
         } else {
             $(this.parentNode).prevAll().last().animate({
                 left: '50%'
             }, 500);
         }
    });

     $('#domicilio').click(function() {
        $('.box').each( function() {
            if ($(this).offset().left < 0) {
                $(this).css("left", "150%");
            }
        });

        $(this.parentNode.parentNode).animate({
             left: '-50%'
         }, 500);

         if ($(this.parentNode.parentNode).next().size() > 0) {
             $(this.parentNode.parentNode).next().animate({
                 left: '50%'
             }, 500);
         } else {
             $(this.parentNode.parentNode).prevAll().last().animate({
                 left: '50%'
             }, 500);
         }
    });

    $('#colonia').click(function() {
        setCookie("domicilio", "tipoDeServicio");
    });
    $('#ciudad').click(function() {
        var e = document.getElementById("city");
        var city = e.options[e.selectedIndex].value;
        setCookie(city, "puraCiudad");
    });
    jQuery(document.body).imageZoom();

    $('#pager').hide();
    clienteBar();
    $("#crossCiudad").hide();
    $("#crossColonia").hide();
    loadBreadcrumbs();
    getTipoDeComida();
    getCiudades();

    $("#enviarSignUp").button();

    $( "#logInContainer" ).dialog({
            autoOpen: false,
            height: 420,
            width: 750,
            modal: true,
            buttons: {              
                "Regresar": function() {
                    $( this ).dialog( "close" );
                }
            },
    });

    $("#afiliarte").dialog({
        autoOpen: false,
            height: 350,
            width: 450,
            modal: true,
            buttons: {              
                "Enviar": function() {
                    //function
                },
                "Regresar": function() {
                    $( this ).dialog( "close" );
                }
            },        
    });

    $("#contactanos").dialog({
        autoOpen: false,
            height: 350,
            width: 450,
            modal: true,
            buttons: {              
                "Enviar": function() {
                    //function
                },
                "Regresar": function() {
                    $( this ).dialog( "close" );
                }
            },        
    });

    $( "#sugerirRestaurantes" ).dialog({
            autoOpen: false,
            height: 350,
            width: 450,
            modal: true,
            buttons: {              
                "Enviar": function() {
                    //function
                },
                "Regresar": function() {
                    $( this ).dialog( "close" );
                }
            },
    }); 

    $( "#terminosCondiciones" ).dialog({
            autoOpen: false,
            height: 350,
            width: 450,
            modal: true,
    }); 

    $( "#signUpContainer" ).dialog({
            autoOpen: false,
            height: 320,
            width: 480,
            modal: true,
            buttons: {
                "Enviar": function() {
                    signUp();
                },
                "Regresar": function() {
                    document.getElementById("notificationCC").value = "";
                    $( this ).dialog( "close" );
                }
            },
    })  

});

function logInDialog(){
    $( "#logInContainer" ).dialog( "open" );    
}

function sugerirRestaurantesDialog(){
    $( "#sugerirRestaurantes" ).dialog( "open" );   
}

function terminosCondicionesDialog(){
    $( "#terminosCondiciones" ).dialog( "open" );   
}

function afiliarteDialog(){
    $( "#afiliarte" ).dialog( "open" ); 
}

function contactanosDialog(){
    $( "#contactanos" ).dialog( "open" );   
}

function signUpDialog(){
    $( "#signUpContainer" ).dialog( "open" );   
}

function send(str, flag){       
    if (window.XMLHttpRequest){
      xmlhttp = new XMLHttpRequest();
      }
    else{
      xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
      }
    xmlhttp.onreadystatechange=function(){
        if (xmlhttp.readyState==4 && xmlhttp.status==200){            
            //callback      
            //xmlhttp.responseText
            switch(flag){
                case "setCookie":       setCookieCallback(xmlhttp.responseText);break;  
                case "deleteCookie":    deleteCookieCallback(xmlhttp.responseText); break;
                case "loadBreadcrumbs": loadBreadcrumbsCallback(xmlhttp.responseText);break;
                case "getRestaurantes": getRestaurantesCallback(xmlhttp.responseText);break;
                case "logIn":           logInCallback(xmlhttp.responseText);break;
                case "signUp":          signUpCallback(xmlhttp.responseText);break;
                case "logOut":          logOutCallback(xmlhttp.responseText);break;
            }
        }       
    }
    xmlhttp.open("GET",str,true);
    xmlhttp.send();        
}

function loadBreadcrumbs(){
    //Checkboxes
    if(document.getElementById('domicilioBreadcrumb').value == "set"){
        document.getElementById('domicilio').checked = true;
    }
    if(document.getElementById('recogerBreadcrumb').value == "set"){
        document.getElementById('recoger').checked = true;  
    }
    if(document.getElementById('reservacionBreadcrumb').value == "set"){
        document.getElementById('reservacion').checked = true;  
    }

    var str = "printCookie.php";
    send(str, "loadBreadcrumbs");
}

function loadBreadcrumbsCallback(response){
    var arr = response.split("/");
    //alert(response);
    var colonia = arr[0].split("=");
    var ciudad = arr[1].split("=");
    var estado = arr[2].split("=");
    var tipoDeComida = arr[3].split("=");

    if(colonia[1] != ""){   
        document.getElementById("coloniaBreadcrumb").innerHTML = colonia[1]+"<br />";   
        $("#colonia").show();
    }

    if(ciudad[1] != ""){    
        document.getElementById("ciudadBreadcrumb").innerHTML = ciudad[1] + ", " + estado[1]+"<br />";  
    }
    //document.getElementById("tipoDeComidaBreadcrumb").innerHTML = tipoDeComida[1];

    if(document.getElementById('ciudadBreadcrumb').innerHTML == ""){
        $("#crossCiudad").hide();
    } else {
        $("#city").hide();
        $("#crossCiudad").show();
    }

    if(document.getElementById('coloniaBreadcrumb').innerHTML == ""){
        $("#crossColonia").hide();
    } else {
        $("#tags2").hide();
        $("#crossColonia").show();
    }
    //alert(colonia[1]+", "+ciudad[1]+", "+tipoDeComida[1]);
    //getRestaurantes(colonia[1], ciudad[1], tipoDeComida[1]);
}
function handleSearch(event, ui){
    term = document.getElementById("tags").value;
    $.ajax({
      url: 'loadCiudades.php?term='+term,
      success: function(data) {
        if(data == '[]'){
            restaurantes = document.getElementById("content-background");
            imagen = document.getElementById("proximamente");
            restaurantes.style.display = "none";
            imagen.style.display = "block";
        }else{
            restaurantes = document.getElementById("content-background");
            imagen = document.getElementById("proximamente");
            restaurantes.style.display = "block";
            imagen.style.display = "none";
        }
      }
    });
}

function getCiudades(){
    ciudad = "<?php echo $_COOKIE['ciudad']; ?>";
    $( "#tags2" ).autocomplete({
        source: "loadCiudades.php?ciudad="+ciudad,
        select: function(event, ui) { 
            setCookie(ui.item.value, "ciudad");
        },
        search: function(event, ui){ handleSearch(event,ui); }
    }); 
}

function getTipoDeComida(){
    $("#tipoDeComida").autocomplete({
        source: "loadTipoDeComida.php",
        select: function(event, ui) { 
            setCookie(ui.item.value, "tipoDeComida");
        }
    });
}

function setCookie(cookieValue, cookieType){
    var str = "setCookie.php?cookieValue=" + cookieValue + "&cookieType=" + cookieType;
    send(str, "setCookie");
}

function setCookieCallback(response){
    switch(response){
        case "puraCiudad":      document.getElementById("tags").value = "";  
                                $("#crossCiudad").show(); 
                                $("#city").hide();
                                break;
        case "tipoDeComida":    document.getElementById("tipoDeComida").value = ""; 
                                $("#crossComida").show(); 
                                $("#tipoDeComida").hide();
                                break;
        case "ciudad":          document.getElementById("tags2").value = ""; 
                                $("#crossColonia").show(); 
                                $("#tags2").hide();
                                $("#colonia").hide();
                                break;
        case "tipoDeServicio":  parent.location='index2.php';
                                break;
    }

    loadBreadcrumbs();      
}

function getRestaurantes(colonia2, ciudad2, tipo2){
    var direccion = document.getElementById('tags').value;
    //var colonia = direccion.split(',')[0];
    //var ciudad = direccion.split(',')[1];
    var colonia = trim(colonia2);
    var ciudad = trim(ciudad2);
    var tipoComida = trim(tipo2);

    var str = "getRestaurantes.php?colonia=" + colonia + "&ciudad=" + ciudad + "&tipoComida=" + tipoComida; 
    send(str, "getRestaurantes");
}

function getRestaurantesCallback(response){
    if(response == "empty"){
        document.getElementById('paging').innerHTML = "";
        $('#pager').hide();
    } else {
        var arr = response.split("|");
        var restaurantes = arr[0];
        var promociones = arr[1];
        var numPag = arr[2]/4;

        document.getElementById("promocionesContainer").innerHTML = promociones;

        $('#pager').show();
        document.getElementById('paging').innerHTML = restaurantes;
        $('#myTable').paginateTable({ rowsPerPage: numPag }); 

        if(document.getElementById('totalPages').innerHTML == ""){
            document.getElementById('pager').style.display = "none";
        } else {
            document.getElementById('pager').style.display = "block";
        }
   }
}

function stripVowelAccent(str)
{
 var rExps=[
 {re:/[\xC0-\xC6]/g, ch:'A'},
 {re:/[\xE0-\xE6]/g, ch:'a'},
 {re:/[\xC8-\xCB]/g, ch:'E'},
 {re:/[\xE8-\xEB]/g, ch:'e'},
 {re:/[\xCC-\xCF]/g, ch:'I'},
 {re:/[\xEC-\xEF]/g, ch:'i'},
 {re:/[\xD2-\xD6]/g, ch:'O'},
 {re:/[\xF2-\xF6]/g, ch:'o'},
 {re:/[\xD9-\xDC]/g, ch:'U'},
 {re:/[\xF9-\xFC]/g, ch:'u'},
 {re:/[\xD1]/g, ch:'N'},
 {re:/[\xF1]/g, ch:'n'} ];

 for(var i=0, len=rExps.length; i<len; i++)
  str=str.replace(rExps[i].re, rExps[i].ch);

 return str;
}

function deleteCookie(cookieType){
    var str = "deleteCookie.php?cookieType=" + cookieType;
    send(str, "deleteCookie");
}

function deleteCookieCallback(response){    
    //Borra el breadcrumb
    switch(response){
        case "puraCiudad":      document.getElementById("ciudadBreadcrumb").innerHTML = ""; 
                                $("#crossCiudad").hide(); 
                                $("#city").show();
                                break;              
        case "tipoDeComida":    document.getElementById("tipoDeComidaBreadcrumb").innerHTML = ""; 
                                $("#crossComida").hide(); 
                                $("#tipoDeComida").show();
                                break;              
        case "ciudad":          document.getElementById("coloniaBreadcrumb").innerHTML = ""; 
                                $("#crossColonia").hide(); 
                                $("#tags2").show(); 
                                $("#colonia").hide();
                                break;      
    }

    getRestaurantes();
}

function setCookieCheck(check, cookieType){
    if(check.checked){
        setCookie(1, cookieType);
    } else {
        deleteCookie(cookieType);
    }
}   

function logIn(){
    var email =  document.getElementById("email").value;
    var password =  document.getElementById("password").value;

    if(email == "" || password == ""){
        document.getElementById("notification").innerHTML = "Ingresa tu email y contrase&ntilde;a";
    } else {
        password = hex_md5(password);
        var str = "logIn.php?password=" + password + "&email=" + email;
        send(str, "logIn");     
    }   
}

function logInCallback(response){
    if(response == "not_logged/0"){
        document.getElementById("notification").innerHTML = "Las credenciales no son v&aacute;lidas";
    } else {
        document.getElementById("notification").innerHTML = "";
        $("#logInBar").hide();
        $("#logInBarMenu").hide();
        $("#signUpBar").hide();
        $("#clienteBar").show();

        arr = response.split("/");      
        document.getElementById("usuarioIDnombre").innerHTML = arr[1];
        $("#logInContainer").dialog("close");   

        loadColonia();
    }
}

function loadColonia(){
    var str = "getColonia.php";
    send(str, "colonia");   
}

function loadColoniaCallback(response){

}

function clienteBar(){
    if(document.getElementById('usuarioID').value == 0){
        $("#clienteBar").hide();
    } else {
        $("#logInBar").hide();
        $("#signUpBar").hide();     
    }
}

function signUp(){
    var valido = validateSignUp();
    if(valido == true){
        var nombre = document.getElementById("nombreCC").value;
        var direccion = document.getElementById("direccionCC").value;
        var email = document.getElementById("emailCC").value;
        var password1 = document.getElementById("password1").value;
        var nacimiento = document.getElementById("dia").value + "/" + document.getElementById("mes").value + "/" + document.getElementById("anio").value;
        var sexo = document.getElementById("sexo").value;
        var telefono = document.getElementById("telefono").value;

        var str = "signUp.php?nombre=" + nombre + "&direccion=" + direccion + "&email=" + email + "&password=" + password1 + "&nacimiento=" + nacimiento + "&sexo=" + sexo + "&telefono=" + telefono;
        send(str, "signUp");
    }   
}

function signUpCallback(response){
    if(response == "existingEmail"){
        document.getElementById("notificationCC").innerHTML = "Esa dirección de correo ya ha sido utilizada";
    } else {
        document.getElementById("notificationCC").innerHTML = "Ingresa a tu email para dar de alta tu cuenta";
        document.getElementById("nombreCC").value = "";
        document.getElementById("emailCC").value = "";
        password1 = document.getElementById("password1").value = "";
        password1 = document.getElementById("password2").value = "";
    }
}

function validateSignUp(){
    var nombre = document.getElementById("nombreCC").value;
    var direccion = document.getElementById("direccionCC").value;
    var email = document.getElementById("emailCC").value;
    var password1 = document.getElementById("password1").value;
    var password2 = document.getElementById("password2").value; 
    var dia = document.getElementById("dia").value;
    var mes = document.getElementById("mes").value;
    var anio = document.getElementById("anio").value;
    var sexo = document.getElementById("sexo").value;
    var telefono = document.getElementById("telefono").value;       
    var mydate=new Date()
    var year=mydate.getYear();
    if (year < 1000){
        year+=1900
    }
    var month = mydate.getMonth();
    month = month + 1;
    var day = mydate.getDate();

    if(day > 31 || mes > 12 || anio >= year){
        document.getElementById("notificationCC").innerHTML = "La fecha de nacimiento no es válida";
        return false;
    } else{ 
        //Valida que todos los campos esten llenos
        if(nombre == "" || email == "" || password1 == "" || password2 == "" || telefono == "" || direccion == ""){
            document.getElementById("notificationCC").innerHTML = "Por favor llena todos los campos";
            return false;
        } else {    
            //Passwords iguales
            if(password1 != password2){
                document.getElementById("notificationCC").innerHTML = "Las contraseñas no coinciden";
                return false;
            } else {        
                //Longitud del password
                if(password1.length < 6){
                    document.getElementById("notificationCC").innerHTML = "La contraseña debe ser de al menos 6 caracteres de largo";
                    return false;
                } else {
                    if(comparaFecha(dia, mes, anio, day, month, year) == false){
                        document.getElementById("notificationCC").innerHTML = "La fecha no es correcta";
                        return false;   
                    }
                    else{
                        if(telefono.length < 10){
                            document.getElementById("notificationCC").innerHTML = "El telefono no es correcto";
                            return false;
                        } else {                            
                            return true;
                        }
                    }
                }
            }
        }
    }
}

function trim(value) {
   var temp = value;
   var obj = /^(\s*)([\W\w]*)(\b\s*$)/;
   if (obj.test(temp)) { temp = temp.replace(obj, '$2');}
   var obj = /  /g;
   while (temp.match(obj)) { temp = temp.replace(obj, " ");}
   return temp;
}

function comparaFecha(dia, mes, anio, day, month, year){

    if(anio > (year-18)){
        return false;
    } 
    else
    {
        if(anio == (year-18))
        {
            if(mes > month){
                return false;   
            }
            else
            {
                if(mes == month)
                {
                    if(dia > day){
                        return false;
                    }
                    else
                    {
                        return true;
                    }
                }
            }
        }
        else
        {
            return true;
        }
    }
}

function logOut(){
    var str = "logOut.php";
    send(str, "logOut");
}

function logOutCallback(response){
    if(response == "success"){
        $("#clienteBar").hide();
        $("#logInBar").show();
        $("#logInBarMenu").show();  
        $("#signUpBar").show(); 
        document.getElementById("usuarioID").value = 0;
    }
}

function setServicio(tipo){
    setCookie("check", tipo);
}

function redirect(element){
    window.location = element.title;

}
</script>
</head>
<?php
include("indexBackend.php");
?>
<body>
<?php
    //Carga la session
    if(isset($_SESSION['usuarioID'])){
        echo ("<input type='hidden' id='usuarioID' value='".$_SESSION['usuarioID']."' />");
        $nombre = $_SESSION['nombre'];
    } else {
        echo ("<input type='hidden' id='usuarioID' value='0' />");
        $nombre = "";
    }

?>
<?php 
include("getPublicidad.php");
?>
<?php

    //Domicilio
    if($_COOKIE['domicilio'] == 1){
        echo("<input type='hidden' id='domicilioBreadcrumb' value='set'/>");
    } else {
        echo("<input type='hidden' id='domicilioBreadcrumb' value='not_set'/>");
    }

    //Recoger
    if($_COOKIE['recoger'] == 1){
        echo("<input type='hidden' id='recogerBreadcrumb' value='set'/>");
    } else {
        echo("<input type='hidden' id='recogerBreadcrumb' value='not_set'/>");
    }

    //Reservacion
    if($_COOKIE['reservacion'] == 1){
        echo("<input type='hidden' id='reservacionBreadcrumb' value='set'/>");
    } else {
        echo("<input type='hidden' id='reservacionBreadcrumb' value='not_set'/>");
    }   

?>
<div style="width:100%; text-align:center;"><img src="images/logoadmin.png" alt="" align="middle" /></div>

<div id="container">

    <div id="box1" class="box">
        <div class="titulo">Selecciona tu Ciudad:</div> 
        <div class="caja">
            <select id="city">
                <option value="San Pedro Garza Garc&iacute;a, Nuevo Leon">San Pedro Garza Garc&iacute;a</option>
                <option value="Monterrey, Nuevo Leon">Monterrey</option>
            </select><input id="tags" style="display:none" />
        </div>
        <img id="crossCiudad" src="images/cross2.gif" style="cursor:pointer" onclick="deleteCookie('puraCiudad')"/>&nbsp;<span id="ciudadBreadcrumb"></span>
        <span class="btn1" id="ciudad">Continuar</span>
    </div>
    <div id="box2" class="box">
        <div class="titulo">Selecciona el Tipo de Servicio:</div> 
        <div class="caja">
            <input type="radio" id="domicilio" name="tipo" value="domicilio" class="selec"/><span class="servicios">A Domicilio</span>
            <input type="radio" name="tipo" value="recoger" class="selec" onClick="setCookie('recoger', 'tipoDeServicio')"/><span class="servicios">Pasar a Recoger</span>
            <input type="radio" name="tipo" value="reservar" class="selec" onClick="setCookie('reservar', 'tipoDeServicio')"/><span class="servicios">Reservar</span>
        </div>
    </div>
    <div id="box3" class="box">
        <div class="titulo">Selecciona tu Colonia:</div> 
        <div class="caja"><input id="tags2" value="Escribe tu colonia: Ej. Del Valle" onblur="if(this.value=='') this.value='Escribe tu colonia: Ej. Del Valle'" onfocus="if(this.value =='Escribe tu colonia: Ej. Del Valle' ) this.value=''" /></div>
        <img id="crossColonia" src="images/cross2.gif" style="cursor:pointer" onclick="deleteCookie('ciudad')"/>&nbsp;<span id="coloniaBreadcrumb"></span>
        <span class="coloniaButton" id="colonia">Continuar</span>
    </div>

</div>
<div id="footer">
    <span style="float: left;">Derechos Reservados Quierodecomer.com</span>
    <span onclick="terminosCondicionesDialog()" style="cursor:pointer; text-decoration: underline;">El uso de este sitio web implica la aceptaci&oacute;n de los t&eacute;rminos y condiciones de quierodecomer.com</span>
    <span style="float: right;"><a href="admin" style="color: white; text-decoration: underline">Login Restaurantes</a></span>
</div>
<div id="terminosCondiciones" title="TÃ©rminos y Condiciones">
    <?php echo $terminos; ?>

</div>
<script type="text/javascript">
    /* Bookmark */
    jQuery(document).ready(function(){
        // add a "rel" attrib if Opera 7+
        if(window.opera) {
            if (jQuery("A.linkBookmark").attr("rel") != ""){ // don't overwrite the rel attrib if already set
                jQuery("A.linkBookmark").attr("rel","sidebar");
            }
        }

        jQuery("A.linkBookmark").click(function(event){
            event.preventDefault(); // prevent the anchor tag from sending the user off to the link
            var url = this.href;
            var title = this.title;
            if (window.sidebar) { // Mozilla Firefox Bookmark
                window.sidebar.addPanel(title, url,"");
            } else if( window.external ) { // IE Favorite
                window.external.AddFavorite( url, title);
            } else if(window.opera) { // Opera 7+
                return false; // do nothing - the rel="sidebar" should do the trick
            } else { // for Safari, Konq etc - browsers who do not support bookmarking scripts (that i could find anyway)
                alert('Desafortunadamente, este navegador no soporta la petición ' + ' por favor, agrega esta página manualmente.');
            }
        });

        $('.flexslider').flexslider();
    });
</script>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:30:29.740

我在 IE7 模式下检查了你的 JS 控制台，我得到了以下错误：

```
SCRIPT1028: Expected identifier, string or number 
testing.quierodecomer.com, line 215 character 2 
```

因此，请尝试删除函数的最后一个逗号：

```
$( "#terminosCondiciones" ).dialog({
        autoOpen: false,
        height: 350,
        width: 450,
        modal: true,
}); 
```

# http - 如何在组合/用于创建 ClientRequest 后访问选项对象

> ID：11895722
> 
> 赞同：0
> 
> 时间：2012-08-10T04:59:37.420
> 
> 标签：http, node.js

浏览 nodejs 文档，我看到传递*选项*对象以配置`http`库中的功能。但是，事后，我看不到访问在[http.request(options, callback)](http://nodejs.org/api/http.html#http_http_request_options_callback)调用中用于构造对象的原始*选项的快速方法。*原始选项是否可以通过请求对象获得并且不被视为私有，或者我应该保留自己对原始选项的引用以防我以后想使用它们？`http.ClientRequest`

我假设这些选项是在 http.ClientRequest 对象中合成的，但这可能是错误的。

我可能会尝试使用任何一种方式（挖掘复合信息，或传递对它的外部引用），但对于 nodejs 来说足够新，我首先需要一些明智的建议，以找出如果选项对象的我*应*该做什么可用，并使用最佳实践。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T12:53:50.263

您应该始终保留自己的参考。大多数情况下，在将对象传递给构造函数后，您无法知道该对象会发生什么。几乎每个人都不管它，但一些库/模块可能会对它产生副作用。例如，您可能会看到源代码在执行以下操作：

```
options.foo = options.foo || 'bar'; 
```

...修改你的对象。因此，如果您想保留对它的引用，您甚至可能必须在将对象传递给构造函数之前对其进行克隆。

特别是`ClientRequest`，它不持有对选项对象的公共引用，但它具有与某些选项相匹配的属性，例如`req.path`or `req.port`。

# php - PHP mysql 左连接输出

> ID：11895724
> 
> 赞同：0
> 
> 时间：2012-08-10T04:59:45.903
> 
> 标签：php, mysql, left-join

我在 apache 上运行 php-script。每次用户访问特定 URL 时，他/她都会得到 csv 文件。

列名是这样获取的（感谢 Daniel Figueroa :)

```
$csv_output .= "\n";
// get the column name from the first DB (ins.data)
mysql_select_db($db, $link) or die("Can not connect to DB1.");
$result = mysql_query("SHOW COLUMNS FROM ".$table." WHERE Field NOT IN
('ID','Key','Text')");
$i = 0;
if (mysql_num_rows($result) > 0) {
while ($row = mysql_fetch_assoc($result)) {
$csv_output .= $row['Field']."; ";
$i++;
}
}

// get the column names from the second DB (Cu.data)
mysql_select_db($db2, $link) or die("Can not connect to DB2.");
$result = mysql_query("SHOW COLUMNS FROM ".$table2." ");
 ;
$i = 0;
if (mysql_num_rows($result) > 0) {
while ($row = mysql_fetch_assoc($result)) {
    $csv_output .= $row['Field']."; ";
    $i++;
}
}
$csv_output .= "\n"; 
```

PHP脚本的实际查询是这样的：

```
$values = mysql_query(" SELECT ins.data.`Date`,  ins.data.`Number`, 
 ins.data.`Email`, ins.data.`TargetId`, ins.data.`CSW`,
 ins.data.`TSW`, ins.data.`CType`,
 Cu.data.`Cus`, Cu.data.`Co`,Cu.data.`Ci`,
 Cu.data.`SID`, Cu.data.`SType` 
 FROM ins.data
 LEFT JOIN  Cu.data ON (ins.data.TargetId = Cu.data.TargetID)
 ORDER BY ins.data.ID DESC"); 
```

'desc' 的输出：

```
mysql> desc ins.data;
+-------------------+------------------+------+-----+---------------------+----------------+
| Field             | Type             | Null | Key | Default             | Extra          |
+-------------------+------------------+------+-----+---------------------+----------------+
| ID                | int(10) unsigned | NO   | PRI | NULL                | auto_increment |
| Date              | timestamp        | NO   |     | 0000-00-00 00:00:00 |                |
| Number            | text             | NO   |     | NULL                |                |
| Text              | text             | NO   |     | NULL                |                |
| Email             | text             | NO   |     | NULL                |                |
| TargetId          | varchar(20)      | NO   |     | NULL                |                |
| CSW               | text             | NO   |     | NULL                |                |
| TSW               | text             | NO   |     | NULL                |                |
| Key               | text             | NO   |     | NULL                |                |
| CType             | text             | NO   |     | NULL                |                |
+-------------------+------------------+------+-----+---------------------+----------------+
10 rows in set (0.00 sec)

mysql> desc Cu.data;
+----------+---------------+------+-----+---------+-------+
| Field    | Type          | Null | Key | Default | Extra |
+----------+---------------+------+-----+---------+-------+
| Title    | decimal(15,0) | NO   |     | NULL    |       |
| Cu       | text          | NO   |     | NULL    |       |
| Co       | text          | NO   |     | NULL    |       |
| Ci       | text          | NO   |     | NULL    |       |
| SID      | text          | NO   |     | NULL    |       |
| TargetID | varchar(20)   | NO   | MUL | NULL    |       |
| SType    | text          | NO   |     | NULL    |       |
| empty1   | int(11)       | NO   |     | NULL    |       |
| empty2   | int(11)       | NO   |     | NULL    |       |
| empty3   | int(11)       | NO   |     | NULL    |       |
| empty4   | int(11)       | NO   |     | NULL    |       |
| empty5   | int(11)       | NO   |     | NULL    |       |
| empty6   | int(11)       | NO   |     | NULL    |       |
| empty7   | int(11)       | NO   |     | NULL    |       |
+----------+---------------+------+-----+---------+-------+
12 rows in set (0.00 sec) 
```

更新 3：

这不再是自然左连接问题。替换为 LEFT JOIN。

将字段 empty1-5 添加到 ins.data 以将数据获取到 csv 文件。没有字段 empty1-5，只有来自第一个 db (ins.data) 的数据在 csv.file 上。

现在我有所有字段的数据，但 csv 上的字段（或 excel 上的列名）名称顺序错误，不需要的字段（列）像 Title 和 empty1-5 一样可见。

任何想法如何解决这一问题？在没有“SHOW COLUMNS”的情况下将字段名称获取到 csv 文件的其他方法？

我可以在我想要的 csv 文件值的开头写上“echo”。即“日期；编号；电子邮件；TargetID，CSW；TSW；CType；Cu；SID；Co；Ci；SType；” 但我是 PHP 新手，我不知道怎么做 :(

另一个问题是，如果字段 ID 是 excel 的第一列，则 excel 无法处理它，它必须从 SHOW COLUMNS 输出中排除。

UPDATE4：向 DB2 (Cu.data) 添加了更多空字段并重新排序了 SQL 查询，现在所有值都可见且顺序正确。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T09:19:16.930

尝试将别名放在表名上。它也会使查询更具可读性：

```
SELECT 
    i.`Date`, i.Number, i.Email, i.TID, i.CSW, i.TSW, i.CType, 
    c.Cu, c.Co, c.Ci, c.SID, c.TID, c.SType  
FROM 
    ins.data AS i
  LEFT JOIN 
    Cu.data AS c
      ON i.TID =  c.TID 
ORDER BY 
    i.ID DESC ; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:20:33.360

## 编辑

首先，您的表命名模式很奇怪且不寻常......但假设我理解正确，那么这个查询应该可以工作（如果它没有重命名您的表而不使用点（句点）以减少混乱：

```
mysql_query('SELECT ins.data.Date, ins.data.Number, ins.data.Email, ins.data.TID, ins.data.CSW, ins.data.TSW, ins.data.CType, CU.data.SID, cu.data.SType, cu.data.CU, cu.data.CO, cu.data.Ci, FROM ins.data, cu.data ORDER BY ins.data.ID DESC'); 
```

* * *

根据 mysql_query 函数参考，在 PHP 中使用 mysql_query 时，数据不应该以分号结尾......我从来没有把分号放在那里，所以我从来没有遇到过问题，这就是我最初注意到你的脚本（如我说我从未尝试过，所以我不知道这是否是问题）。应该：

```
$values = mysql_query("SELECT Date, Number, Email, TID, CSW, TSW, CType, SID, SType, Cu, Co, Ci FROM ins.data NATURAL LEFT JOIN Cu.data ORDER BY ID DESC"); 
```

此外，在进行 JOINS 时，通常您指定哪个列属于哪个表......就像在标准 mysql 示例中一样：

```
<?php
// Make a MySQL Connection
// Construct our join query
$query = "SELECT family.Position, food.Meal ".
 "FROM family LEFT JOIN food ".
    "ON family.Position = food.Position"; 

$result = mysql_query($query) or die(mysql_error());

// Print out the contents of each row into a table 
while($row = mysql_fetch_array($result)){
    echo $row['Position']. " - ". $row['Meal'];
    echo "<br />";
}
?> 
```

我也不总是使用 JOIN 命令...您可以使用如下替代语法：

```
mysql_query('SELECT ... FROM t1, t2, t3 WHERE t1.b = t2.b AND t2.c = t3.c AND t1.a = t3.a'); 
```

# android - 列表视图动画

> ID：11895725
> 
> 赞同：0
> 
> 时间：2012-08-10T04:59:53.610
> 
> 标签：android

我有一个带有自定义适配器的列表视图。当单击列表中的项目时，我正在尝试执行以下操作，仅扩展该项目并显示一些信息。再次单击它时，它会返回到第一个状态。任何人都可以提出一种方法来实现这一目标。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:06:51.677

使用 ExpandableListView。

它可以帮助你。

ExpandableListView 可以展开并回到第一个状态。

此外，您可以自定义内部布局。（一些信息）

请使用它。

# xml - XML 中的 QueryString 需要正则表达式帮助

> ID：11895736
> 
> 赞同：0
> 
> 时间：2012-08-10T05:01:24.450
> 
> 标签：xml, regex

我正在努力在 XML 中实现正则表达式模式，我面临的问题是在检查 XML 中的 & 符号时。有没有更干净的方法可以做到这一点，参数可以有不同的顺序。

```
request_id=123&application_id=876734&cat_id=1234&rept_id=12123&req_type=Schedule&lookid=GH123366HJ123&access_key=ABCD12345&requested_date=2012-02-05 04:50:17&run_date=2012-02-05 04:50:17&schedule_id=1123 
```

相应的正则表达式是

```
<filter regex="request_id=([^&amp;]+)&amp;application_id=([^&amp;]+)&amp;cat_id=    ([^&amp;]+)&amp;rept_id=([^&amp;]+)&amp;req_type=([^&amp;]+)&amp;lookid=([^&amp;]+)&amp;access_key=([^&amp;]+)&amp;requested_date=([^&amp;]+)&amp;run_date=([^&amp;]+)&amp;schedule_id=([^&amp;]+)" source="get-property('To')"/> 
```

我的应用程序（*我无法控制它的工作方式*）将从 XML 中读取正则表达式模式并验证查询字符串。

**注意：现在它没有按预期工作。**

我发现的替代解决方案是

```
([^?=&amp;]+)(=([^&amp;].*)) 
```

但是它并没有解决我的目的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:33:04.593

考虑到要替换 = 和 & 之间的内容，这里是 c# 中的代码

```
string s="request_id=123&application_id=87....................";
Regex r=new Regex(@"(?<=\=).*?(?=(\&)|\z)");
r.Replace(s,"([^&amp;]+)&amp;"); 
```

然后，您可以将`<filter regex=`和添加`source="get-property('To')"/>`到新的替换字符串！

# oracle - 在 Oracle 报告中编辑列的值

> ID：11895739
> 
> 赞同：0
> 
> 时间：2012-08-10T05:02:01.863
> 
> 标签：oracle, report, oraclereports

我有一个 oracle 报告，它显示一组值，它可以生成为 pdf 和 csv 格式。我必须确保这些值始终显示最多 3 位小数。那是：

```
0.1  --> 0.100
0.01 --> 0.010
0    --> 0.000 
```

Excel 不考虑训练零点，因此我使用以下代码使 excel 显示所有 3 位小数：

```
select '="'||to_char(value,'90.999')||'"' from table1; 
--The column is declared as NUMBER(10,3) in the table 
```

现在该数字根据需要显示在 excel 中，但在 pdf 格式中显示为：=“0.000”

谁能告诉我如何使它在 pdf 和 csv 格式中保持一致？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T10:31:43.430

您可以在运行时评估报告的格式参数，并使用 DECODE 语句或 CASE 语句来确定列的输出格式/值。

我认为这将实现您的目标，即。对 csv 或 pdf 输出使用相同查询的单个结构化报告。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2015-08-21T05:03:47.087

在我的项目中，我尝试了以下方式，

```
 IF :DESFORMAT='SPREADSHEET' THEN
                   :CP_2:= '="'||:cmdt_grp_cd||'"';
           ELSE
                   :CP_2:=:cmdt_grp_cd;
           END IF; 
```

# ruby-on-rails - 如何在编辑表单中对 has_many :through 进行排序？

> ID：11895743
> 
> 赞同：1
> 
> 时间：2012-08-10T05:02:28.743
> 
> 标签：ruby-on-rails, forms, sorting, has-many-through

给定以下模型、关系和编辑表格

```
class User < ActiveRecord::Base

  has_many :relationships, foreign_key: "follower_id", dependent: :destroy
  has_many :followed_users, through: :relationships, source: :followed
  has_many :reverse_relationships, foreign_key: "followed_id",
                               class_name: "Relationship",
                               dependent: :destroy
  has_many :followers, through: :reverse_relationships, source: :follower

end 
```

* * *

```
<%= form_for(@topic) do |f| %>
<%= render 'shared/error_messages', object: f.object %>

    <%= f.label :name %>
    <%= f.text_field :name %>

    <%= f.label :Followers %>
    <%= f.fields_for :relationships do |builder| %>
        <%= f.collection_select :follower_id, User.all( order: "name"), :id, :name, include_blank: true %>
    <% end %>

    <%= f.submit "Save Changes" %></div>
<% end %> 
```

* * *

```
class Relationship < ActiveRecord::Base
  attr_accessible :followed_id

  belongs_to :follower, class_name: "User"
  belongs_to :followed, class_name: "User"

  validates :follower_id, presence: true
  validates :followed_id, presence: true
end 
```

* * *

在这种情况下，关系字段出现在给定用户的编辑表单中。因此，他们可以管理所有的追随者。但问题是，在编辑页面上，用户按添加顺序显示。尽管 :relationships 关联只有一个 id，但有没有办法对它们进行排序，使它们按名称的字母顺序显示？

# jquery - $.post() error Origin null is not allowed by Access-Control-Allow-Origin

> ID：11895748
> 
> 赞同：0
> 
> 时间：2012-08-10T05:02:54.783
> 
> 标签：jquery

这段代码：

```
$(function(){
     $.get("test.html", function(data){
      $(".msgs").text(data)
     })
}) 
```

给我这个控制台错误：

```
XMLHttpRequest cannot load file:///C:/wamp/www/JQuery%20lab/check.php?username=&password=.
Origin null is not allowed by Access-Control-Allow-Origin 
```

我能做些什么来解决这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:05:08.547

您正在直接从 webserver 服务目录查看您的 HTML 文件，而不是从`http://localhost/`，因此浏览器阻止了`GET`请求。

由于安全策略，Web 浏览器会阻止某些类型的 JavaScript 请求，从本地文件发送请求似乎就是其中之一。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-24T12:59:31.853

另一种选择是将其添加到您的 php 脚本中：

```
header('Access-Control-Allow-Origin: null');
header('Access-Control-Allow-Credentials: true'); 
```

# hibernate - 休眠标准orderby

> ID：11895758
> 
> 赞同：0
> 
> 时间：2012-08-10T05:04:32.750
> 
> 标签：hibernate, criteria

```
 Criteria crit=hbSession.createCriteria(S1.class)
.add(Restrictions.between("s1Docdt",startDate, endDate))
.add(Restrictions.eq("s1BranchCode",branchCode))    
.add(Restrictions.eq("s1AccountingYear",year));
 crit.addOrder(Order.asc("s1Docdt","s1Dcno","s1Tc"); 
```

我创建了一个会话并尝试添加限制并收到错误，因此任何人都可以帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T10:47:50.457

根据 Hibernate Javadoc [Order.asc(String)](http://docs.jboss.org/hibernate/core/3.6/javadocs/org/hibernate/criterion/Order.html#asc%28java.lang.String%29)方法，您的代码对我来说似乎是错误的。试试这个：

```
Criteria crit = hbSession.createCriteria(S1.class)
    .add(Restrictions.between("s1Docdt",startDate, endDate))
    .add(Restrictions.eq("s1BranchCode",branchCode))    
    .add(Restrictions.eq("s1AccountingYear",year));
crit.addOrder(Order.asc("s1Docdt"));
crit.addOrder(Order.asc("s1Dcno"));
crit.addOrder(Order.asc("s1Tc")); 
```

希望这可以帮助。

# javascript - 使用 JavaScript/Node.js 实现插件架构

> ID：11895760
> 
> 赞同：6
> 
> 时间：2012-08-10T05:04:33.250
> 
> 标签：javascript, node.js, design-patterns, plugins, express

下面是一个使用 express 的简单 node.js

```
var express = require('express');
var app = express();

app.get('/', function(req, res){
  res.send('Hello World');
});

app.listen(3000); 
```

我想实现一个插件式的架构，比如默认有一个叫 的文件夹`plugins`，在node.js启动的时候自己注册，我不需要修改main`server.js`

一个`foo`插件的例子，例如

```
PluginManager.register("init, function(app) {
    app.get('/foo', function(req, res){
        res.send('Hello from foo plugin');
    });
}); 
```

然后在我的`server.js`，我会有类似的东西

```
// TODO: Scan all scripts under the folder `plugins`
// TODO: Execute all the `init` hook before the app.listen
app.listen(3000); 
```

我的问题是我的插件代码都是异步的，没有办法在之前阻塞`app.listen()`，你有更好的插件架构实现的想法吗？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:13:25.927

似乎加载插件的任何东西都会像其他任何东西一样引发回调。

```
PluginManager.loadPlugins(function() { app.listen(3000); }); 
```

这样，应用程序在插件全部加载之前不会开始监听。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T13:00:51.170

你应该阻止。它只会影响应用程序的“启动时间”，而不是“运行时间”。

*   用于`fs.readdirSync`获取`plugins`目录下的所有文件
*   将它们写成模块并且`require()`它们全部（`require`是同步的）
*   将它们插入您的`Server`

# javascript - Ember.js 和 ember-data 与外部（另一个域）API 一起工作

> ID：11895762
> 
> 赞同：0
> 
> 时间：2012-08-10T05:04:45.697
> 
> 标签：javascript, ember.js, same-origin-policy, ember-data

开始使用**Ember.js**和 ember-data。我按照本[教程](http://www.adobe.com/devnet/html5/articles/flame-on-a-beginners-guide-to-emberjs.html)指导您创建 Twitter 时间线节目。它非常简洁，但不使用 ember-data，在我看来，这似乎是处理 REST API 的好方法。

在我的操场上，我创造了这样的东西：

```
EmberTwitter.Tweet = DS.Model.extend({
  avatar: null,
  screen_name: null,
  text: null,
  date: null,
  url: "http://api.twitter.com/1/statuses/user_timeline.json?screen_name=naoj_gior"
});

var tweets = EmberTwitter.store.findAll(EmberTwitter.Tweet); 
```

我想知道 ember-data 是否准备好与外部 API 一起使用（以及它如何处理**同源策略**......），因为在我看来，在查看文档之后，事实并非如此。我在控制台中看到以下错误：

```
Resource failed to load: file:///tweets 
```

使用 ember.js 获取外部 API 的好方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:07:23.700

你是对的——因为它在你的浏览器中运行，它受制于与所有其他库/普通 JS 相同的规则。您将不得不使用某种服务器代理来传递您的请求（PHP 脚本等）。

您可以在此处查看此类代理的示例（用 PHP 编写）： [http ://www.daniweb.com/web-development/php/code/216729/php-proxy-solution-for-cross-domain-ajax -脚本](http://www.daniweb.com/web-development/php/code/216729/php-proxy-solution-for-cross-domain-ajax-scripting)

一般的想法是，您只需使用您的服务器代表 Javascript 发出请求并将其回显。

看起来有人使用 IFrame 来实现相同的目的。以下示例也是 Ember.js，因此它可能对您有用： [http ://eng.netwallet.com/2012/04/17/simple-cross-domain-ajax-with-a-wormhole-5/](http://eng.netwallet.com/2012/04/17/simple-cross-domain-ajax-with-a-wormhole-5/)

# c++ - 直观地解释指针及其意义？

> ID：11895766
> 
> 赞同：4
> 
> 时间：2012-08-10T05:05:08.850
> 
> 标签：c++, c, pointers, function-pointers, indirection

我很难理解指针，尤其是函数指针，我希望有人能给我一个关于它们到底是什么以及如何在程序中使用它们的概要。C++ 中的代码块将特别受到赞赏。

谢谢你。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-10T05:43:54.740

理解[间接](http://en.wikipedia.org/wiki/Indirection)的概念很重要。

在这里，我们通过值传递（请注意，创建和操作的是本地副本，而不是原始版本）通过`increment(x)`：

![按值传递](../Images/20fb5fed4548ccabeed0454c41462da4.png)

在这里，通过指针（内存地址）`increment(&x)`：

![通过指针](../Images/8d4d62a6aec2652873117311733aea2d.png)

请注意，引用的工作方式类似于指针，除了语法类似于值副本 ( `obj.member`) 并且指针可以指向`0`（“空”指针），而引用必须指向非零内存地址。

另一方面，函数指针让您可以在运行时动态地更改代码的行为，方法是方便地传递和处理函数，就像传递变量一样。[函](http://en.wikipedia.org/wiki/Function_object)子通常是首选（尤其是[STL](http://en.wikipedia.org/wiki/Standard_Template_Library)），因为它们的语法更简洁，并且它们允许您将本地状态与函数实例相关联（阅读[回调](http://en.wikipedia.org/wiki/Callbacks)和[闭包](http://en.wikipedia.org/wiki/Closure_%28computer_science%29)，两者都是有用的计算机科学概念）。对于简单的函数指针/回调，由于其紧凑和就地语法，经常使用[lambdas （](http://en.wikipedia.org/wiki/Anonymous_function#C.2B.2B) [C++11中的新功能）。](http://en.wikipedia.org/wiki/C++11)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-10T05:24:49.223

指针指向该点，是一个整数值，具有该点的地址。指针可以指向其他指针。然后你可以以更间接的方式获得值。

**引用运算符 (&)：** 您可以将指针等同于变量或指针的引用。

**解引用运算符（*）：** 您可以获取指针所指向的单元格的值。

**当通过非**引用传递给函数时，数组会衰减为指针。

**函数指针**没有内联，使程序更具功能性。回调就是一个例子。

* * *

![在此处输入图像描述](../Images/47b802562047c5fa8862d49fa9520332.png)

* * *

![在此处输入图像描述](../Images/ca58a53ed470ef3c46297edc6524bbcc.png)

* * *

![在此处输入图像描述](../Images/5cd2c35a607c7fbbcc1585ea430145a5.png)

* * *

![在此处输入图像描述](../Images/ac41742149a4cb837d6d76e63add7ee5.png)

* * *

![在此处输入图像描述](../Images/7f611ec4ab99dfe0b31807f45828bba5.png)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-10T05:45:57.907

打个比方，把计算机中的内存想象成一张 Excel 表格。在 C/C++ 程序中为变量赋值的等价物是在 Excel 工作表上的单元格中写入一些内容。从变量中读取就像查看单元格的内容一样。

现在，如果您有一个内容为“B8”的单元格（例如 C3），您可以将该内容解释为对另一个单元格的引用。如果你以这种方式处理单元格 C3，C3 就会变成一个指针。（在 Excel 中，您实际上可以通过输入`=B8`C3 来实现此行为）。

在这种情况下，您基本上声明您感兴趣的值的单元格在 C3 中被引用。在 C++ 中，这可能类似于：

```
int  B8 =  42;
int* C3 = &B8; 
```

您现在有两个占用内存的变量。现在，如果您想知道 C3 指向什么，您将使用

```
int my_value = *C3; 
```

至于*函数指针*：这些变量就像普通指针一样，但它们指向的地址（单元格）不仅仅是一个值，而是一个你可以调用的函数。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-10T05:39:36.213

在这里您可以找到函数指针的一些示例用法： [http ://www.cprogramming.com/tutorial/function-pointers.html](http://www.cprogramming.com/tutorial/function-pointers.html)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-10T05:56:19.480

为了理解指针，需要对硬件和内存布局有所了解。

计算机内存可以看作是一个带抽屉的橱柜。当您“取消引用”您在抽屉内查看的指针时，指针可以指向任意抽屉，即存储在“抽屉”中的值：

* * *

```
e.g. ten numbers stored after one another

short a[] = {9,2,3,4,5,6,7,8,1,-1] ; 

in memory the values that consist the array 'a' are stored sequentially

   +---+---+---+---+---+---+---+---+---+---+
a->| 9 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 1 | -1|
   +---+---+---+---+---+---+---+---+---+---+

the 'a' array above is a pointer and is the start address where the
values are stored in memory.

short* ptr = 0; // a pointer not pointing to anything (NULL)

ptr = a + 5; // the pointer is now pointing to the 6th value in the array
// the + 5 is an offset on the starting address of a and since the type of
// a is short int array the compiler calculates the correct byte offset based
// on that type. in the above example 5 is 5 short ints since ptr is of type 
// short*

*ptr has the value 6 i.e. we are looking at what the ptr is pointing to. 
```

* * *

每个“抽屉”的大小取决于存储的数据类型在上面的示例中存储了 10 个短整数，每个短整数占用 2 个字节，因此整个数组占用 20 个字节的内存（sizeof(a)）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-05-15T22:25:10.263

变量存储值。指针也存储值。唯一的区别是它们是内存地址。它们仍然是数字。这里没有什么复杂的。您可以将所有指针存储在 int 或 long 变量中：

> ```
>  int p = 43567854;
>   char *p1 = (char *) p; 
> ```

但是将它们存储在指针变量中的好处是您可以描述在指针指向的地址处保存的变量类型。

指针的复杂之处在于您必须使用它们的神秘语法。语法很隐秘，因此输入起来很短。像：

> ```
>  &p = return address of variable
>   *p = return the value of first member of array that is stored at the address 
> ```

通过使用上面的两个规则，我们可以编写这个神秘的代码：

> ```
>  &(*++t) 
> ```

翻译成人类语言的时间很长：将 t 的值增加 1。这现在指向值指针指向的数组的第二个成员。然后获取第二个成员（*）的值，然后获取该值的地址。如果我们打印这个指针，它将打印除第一个字符之外的整个字符串。

你应该做一个“指针语法备忘单.txt”，你很好。并打开“指针测试”项目来测试你不清楚的一切。

指针在某种程度上类似于正则表达式。

# sql - 在存储过程中加入 SQL 查询结果

> ID：11895767
> 
> 赞同：-1
> 
> 时间：2012-08-10T05:05:17.640
> 
> 标签：sql, sql-server-2008

我需要在存储过程中加入结果集，我尝试了这个查询，但它不正确。

```
SELECT * FROM (SELECT Field1, Field2 FROM Table1 WHERE Field4='val1') A
INNER JOIN 
SELECT * FROM (SELECT Field1, Field3 FROM Table1 WHERE Field4='val2') b
ON A.Field1 = B. Fileld1 
```

如何在存储过程中加入结果表？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:25:25.023

尝试这个：

您不必使用 SELECT * FROM 两次..

```
SELECT * FROM 
(SELECT Field1, Field2 FROM Table1 WHERE Field4='val1') A
INNER JOIN 
(SELECT Field1, Field3 FROM Table1 WHERE Field4='val2') b
ON A.Field1 = B. Fileld1 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T09:54:44.693

您正在这样做（仅作为示例）：

```
SELECT * FROM Table1 A 
INNER JOIN 
SELECT * FROM Table2 B 
ON A.FIELD1 = B.FIELD2 
```

这是错误的。因为你不需要写`SELECT * FROM`两次。正确的一种是：

```
SELECT * FROM Table1 A 
INNER JOIN 
Table2 B 
ON A.FIELD1 = B.FIELD2 
```

所以你的查询应该是（包括创建过程）：

```
CREATE PROCEDURE testJoining 
AS 
    SELECT * FROM 
        (SELECT FIELD1, Field2 FROM Table1 WHERE Field4='VAL1') A
    INNER JOIN 
        (SELECT FIELD1, Field3 FROM Table1 WHERE Field4='VAL2') B
    ON A.FIELD1 = B.FIELD1
GO 
```

[看到这个小提琴。](http://sqlfiddle.com/#!3/aab88/7)
从同一个表中选择数据的其他方法是：

```
SELECT A.Field1,A.Field2,B.Field3 FROM Table1 A 
INNER JOIN 
Table1 B 
ON A.FIELD1 = B.FIELD1
WHERE A.Field4='VAL1'
AND B.Field4='VAL2' 
```

[看到这个小提琴](http://sqlfiddle.com/#!3/aab88/16)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T06:04:21.860

也许这会有所帮助

```
With cte_sample AS ( SELECT Field1, Field2 FROM Table1 
WHERE Field4='val1' )
SELECT Field1, Field3 FROM Table1 AS a
INNER JOIN cte_sample ON a.Field1 = cte_sample.Field1 AND
WHERE a.Field4='val2' 
```

# python - Python：字符串到列表列表

> ID：11895768
> 
> 赞同：8
> 
> 时间：2012-08-10T05:05:18.720
> 
> 标签：python, string, list, split

我是 python 新手，对将字符串转换为列表感到困惑。我不确定如何在列表中创建列表以完成以下操作：

前任。

```
string = '2,4,6,8|10,12,14,16|18,20,22,24' 
```

我正在尝试使用 split() 创建一个数据结构 my_data，这样当我输入

```
print my_data[1][2] #it should return 14 
```

卡住：这是我一开始做的：

```
new_list = string.split('|')  #['2,4,6,8', '10,12,14,16,', '18,20,22,24'] 
```

而且我知道您不能拆分列表，因此我`split()`首先使用字符串，但我不知道如何将新列表中的字符串转换为列表以便我获得正确的输出。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-08-10T05:06:37.633

```
>>> text = '2,4,6,8|10,12,14,16|18,20,22,24'
>>> my_data = [x.split(',') for x in text.split('|')]
>>> my_data
[['2', '4', '6', '8'], ['10', '12', '14', '16'], ['18', '20', '22', '24']]
>>> print my_data[1][2]
14 
```

也许您还想将每个数字（仍然是字符串）转换为`int`，在这种情况下，我会这样做：

```
>>> [[int(y) for y in x.split(',')] for x in text.split('|')]
[[2, 4, 6, 8], [10, 12, 14, 16], [18, 20, 22, 24]] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T05:17:58.043

```
>>> strs = '2,4,6,8|10,12,14,16|18,20,22,24'
>>> strs1=strs.split('|')
>>> [map(int,x.split(',')) for x in strs1] 
[[2, 4, 6, 8], [10, 12, 14, 16], [18, 20, 22, 24]] 
```

**注意：**对于 python 3.x use `list(map(int,x.split(',')))`， as`map()`在 python 3.x 中返回一个地图对象

# javascript - 我想添加时间？

> ID：11895770
> 
> 赞同：1
> 
> 时间：2012-08-10T05:05:39.847
> 
> 标签：javascript, dom, xpath, document.evaluate

我有一个自动提交或`Click`（按钮）代码，我想在此代码中添加 2 秒的时间延迟？

**代码在这里：**

```
document.evaluate("//input[@value='Submit Now' and @type='submit' and contains(@class, 'button')]", document, null, 9, 
null).singleNodeValue.click(); 
```

请帮忙，谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:09:40.423

这看起来像一个 javascript 问题，您标记为“java”和“脚本”。

要在 javascript 中延迟这一点，您可以将其传递给 setTimeout 函数，如下所示：

```
setTimeout(function() {
    document.evaluate("//input[@value='Submit Now' and @type='submit' and contains(@class, 'button')]", document, null, 9, null).singleNodeValue.click();
}, 2000); 
```

那应该这样做。

# php - 在 codeigniter 中显示错误页面

> ID：11895771
> 
> 赞同：0
> 
> 时间：2012-08-10T05:05:41.293
> 
> 标签：php, codeigniter, custom-error-pages

如何在 codeigniter 中显示自定义错误页面。

例如：数据库有一些问题，我想显示一个定制的错误页面而不是默认页面。

我不想在发生错误时使用某些代码，我需要默认设置。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:10:05.510

**APPLICATION_PATH/application/errors**在这里您可以找到所有错误页面，您可以根据需要对其进行编辑。

# actionscript-3 - 删除外部 swf 文件 as3

> ID：11895782
> 
> 赞同：1
> 
> 时间：2012-08-10T05:07:14.097
> 
> 标签：actionscript-3, flash

我已经加载了一个外部 swf 文件，它在加载 swf 时默认播放一个 flv 文件。现在的问题是如何从内存中删除 swf 文件。我的代码：

```
var myLoader:Loader = new Loader();                     
var url:URLRequest = new URLRequest("ExternalSWF.swf");  
myLoader.load(url);                                     
detailMovieClip.movieHolder.addChild(myLoader); 
```

我尝试了许多 removeChild、unload 和 unloadAndStop 的组合，但没有一个有效。我认为这一切都与没有正确引用有关。

更新：

我接受了 Jegan 的回答，但它仅在我在一个只有 1 个 numChildren 的虚拟项目中进行测试时才有效，但是在现实世界的代码示例中 numChildren 报告了 22 个，所以我不确定这是否会成为问题。这是真实世界的代码：

```
var myImageLoader:Loader;
var myImageRequest:URLRequest;
var theImagePath:String;

//part from xml processor function

theImagePath = "flash/"+myXML..item_video_link[n];
loadTheMovie(theImagePath);

function loadTheMovie(theImagePath):void{

myImageLoader = new Loader();
myImageRequest= new URLRequest(theImagePath);
myImageLoader.contentLoaderInfo.addEventListener(Event.COMPLETE,showMeTheVideo);
myImageLoader.load(myImageRequest);

}

function showMeTheVideo(evt:Event):void{

 detailsMovieClip_mc.details_video_holder.dynamicVideoHolder.addChild(myImageLoader);

}

stopVideo(sectionname):viod{

if(detailsMovieClip_mc.details_video_holder.dynamicVideoHolder.numChildren !=0){  

trace("what is the number of children: "+numChildren);

 myImageLoader.unloadAndStop();

 detailsMovieClip_mc.details_video_holder.
 dynamicVideoHolder.removeChild(myImageLoader);

}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:33:07.463

```
stage.addEventListener(MouseEvent.CLICK, removeSWF);
function removeSWF (e:MouseEvent):void 
{
    if(detailMovieClip.movieHolder.numChildren !=0){        
        myLoader.unloadAndStop();

        detailMovieClip.movieHolder.removeChild(myLoader);// empty the movieClip memory
    }
} 
```

或命名您的`Loader`实例，然后使用搜索`getChildByName`

```
myLoader.name = "myloader";

function removeSWF (e:MouseEvent):void 
    {
        if(detailMovieClip.movieHolder.numChildren !=0){        
            Loader(detailMovieClip.movieHolder.getChildByName("myloader")).unloadAndStop();
        detailMovieClip.movieHolder.removeChild(detailMovieClip.movieHolder.getChildByName("myloader"));// empty the movieClip memory
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T14:27:06.043

我猜这是因为您将加载程序添加到场景中。

要么你想保持这种行为，在这种情况下有一个快速修复，通过使用 removeChild() 从 MovieClip 中删除加载器，然后将引用设置为 null，或者使用 delete 关键字。

要么您想正确执行此操作，在这种情况下，请侦听 LOADED 事件，将 loader.content 包含的 MovieClip 添加到目标 MovieClip。然后，当您要卸载它时，使用 removeChild() 将剪辑从容器中删除，然后使用 loader.unload()。

# sql - SQL获取与另一个表中的值描述相关联的最后日期和值

> ID：11895784
> 
> 赞同：2
> 
> 时间：2012-08-10T05:07:27.700
> 
> 标签：sql, sql-server-2008

我有两个不同的表，我的第一个表包含授予其他请求的权限。它具有以下列：

### 授权表

```
| authorization_date | role_id | request_id |
|--------------------|---------|------------|
| 2011-08-02         |    1    | 168        |
| 2011-08-10         |    2    | 168        |
| 2011-08-20         |    6    | 168        |
| 2011-08-03         |    2    | 169        |
| 2011-08-24         |    6    | 169        |
| 2011-08-05         |    3    | 170        |
| 2011-08-09         |    5    | 170        | 
```

如您所见，不同的人有不同的角色，也可以授予一定级别的授权。角色越高，处理的请求就越高。现在，我想做的是显示与 role_id 关联的描述（在另一个表中）并且仅显示最后一次授权。因为我有它的日期，所以我已经知道哪一个是最新的。但是我不知道如何执行此操作，因为我尝试通过获取日期的最大值来对查询进行分组，当我将它链接到仅包含 role_id 描述的第二个表时，我得到重复，我只是可以'想不出办法做到这一点，我对查询有点陌生，因为我一直在自己学习，所以我不知道很多事情。有任何想法吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:11:02.433

我在这里猜了一点，但我认为你想要：

```
SELECT Authorizations.*, anotherTable.description
FROM 
(
    SELECT MAX(authorization_date) AS max_date, request_id
    FROM Authorizations
    GROUP BY request_id
) last_auths
INNER JOIN Authorizations ON last_auths.max_date = Authorizations.authorization_date
    AND last_auths.request_id = Authorizations.request_id
INNER JOIN anotherTable ON anotherTable.role_id = Authorizations.role_id 
```

派生表将获得每个请求的最大授权日期。然后您可以加入以获取该请求的 role_id 并再次加入以获取描述。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:13:58.593

```
SELECT d.role_desc, a.role_id, MAX(a.authorization_date)
FROM Authorizations a
INNER JOIN Description d ON a.role_id = d.role_id
GROUP BY a.role_id, d.role_desc, d.role_id 
```

试试这个查询并确保你得到预期的结果。

# php - Joomla 和 WHMCS 自动登录

> ID：11895786
> 
> 赞同：0
> 
> 时间：2012-08-10T05:07:31.543
> 
> 标签：php, api, joomla, whmcs

我正在将自动登录系统与 joomla 和 WHMCS 集成。

我想要的是 joomla 和 WHMCS 的单一登录。当我登录 joomla 时，我需要自动登录我的 WHMCS 系统，反之亦然。我已经通过了 WHMCS API，它使用 'dologin.php' 文件进行了 AuthAuto 登录。但是在我登录我的 joomla 后，它需要重定向到我的 WHMCS，我不需要。

即使我在我的 api 调用中使用了“验证登录”操作。我还挂上了“ClientLogin”并给我发了一封电子邮件。当我通过 joomla 登录时，这个钩子被调用了。但是当我刷新时我的 WHMCS 没有登录。

```
$url = "http://myjoomlasiteurl/includes/api.php"; 
$username = "xxxxxx"; 
$password = "xxxxxxxxxx";
$postfields= array();
$postfields["username"] = $username;
$postfields["password"] = md5($password);       
$postfields["accesskey"] = "xxxxx";

$postfields["action"] = "validatelogin";
$postfields["email"] = "user@domain.com";
$postfields["password2"] = "xxxxx"; 

$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_HEADER, false);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_TIMEOUT, 100);
curl_setopt($ch, CURLOPT_POSTFIELDS, $postfields);
if (($result= curl_exec($ch)) !== false) {
 $data= format_result($result);

 $_SESSION['uid'] = $data['userid'];
 $_SESSION['upw'] = $data['passwordhash'];

} 
curl_close($ch); 
```

在我的 WHMCS 钩子中。我已将代码编写为：

```
function hook_client_logint($vars) {

     ob_start();
     var_dump($_SESSION);
     $content= ob_get_contents();
     @mail('myemailid,'User Login',$content);
     ob_end_clean();
     # Here i ma getting email after i logged in to my Joomla site. 
     session  variable 'uid' and 'upw' are  being set.

 }

 add_hook("ClientLogin",1,"hook_client_login"); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T01:24:04.943

不要使用重定向登录，只需通过访问`CURL`，获取页面检查HTTP响应为`200`。

您需要 2 个 Joomla 插件 ( `authenticate,user`)

你需要一个钩子 3 动作：

*   添加客户端
*   创建 Joomla 用户
*   ClientLogin - 调用登录 Joomla 用户
*   ClientLogout - 调用注销 Joomla 用户
*   ClientChangePassword - 调用以更新 Joomla 用户的密码

`CURL`由于令牌，实际上不能轻易地通过调用 Joomla 。

但是您可以创建一个组件视图，然后您可以在那里提交一个带有信息的 POST 请求，在这种情况下是电子邮件和密码

这可能会有所帮助

# sql - 加入多个结果集

> ID：11895787
> 
> 赞同：-1
> 
> 时间：2012-08-10T05:07:35.023
> 
> 标签：sql

我对四个不同的表有四个 Select 查询，每个表只提取一条记录。例如：

```
Select * from table where col1 = 'something' 
```

给出具有 3 列的一行.

第二个选择查询还给出了一条具有两列（字段）的记录。第三和第四个选择查询相同。

我想将所有四个结果集组合成一个有一行的结果集。这怎么可能？

我会为你写查询

第一个

```
Select Top 1 column1,column2 from table 1 where column 1 = 'something' 
and col1 = (Select max(col1) where column 1 = 'something') 
```

第二次查询

```
Select Top 1 column1 , column3 from table 2 where column 1 = 'something' 
and column3 = (Select max(column3) where column 1 = 'something') 
```

第三个查询使用从查询 2 获得的结果

```
Select column4 ,column3 from table 3 
where column3 = (obtained from 2nd query) (there is only one row) 
```

第 4 名

```
Select column5 from table 4 
where column3 = (obtained from 2nd query) (there is only one row) 
```

这意味着我必须加入 2nd ,3rd ,4th 查询然后结果集 int 1st

我不能使用联合，因为列不同

所以唯一的问题是加入结果集

我希望它能解释

结果集Sql查询1

列 1 列 2

啊啊啊啊啊啊

sql查询2

列 1 列 3

啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊

sql查询3

列 3 列 4

cccc dddd

sql查询4

列 3 列 5

cccc eeee

结果集

列 1 列 2 列 3 列 4 列 5

aaa bbb cccc dddd eeee

希望结果集能解释一切

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:27:41.227

通过添加列使所有查询的列号和类型相同（即使您不需要它们）：

```
Select column4, column3 from table 3 
where column3 = ...

Select column5, column3 from table 4 
where column3 = ... 
```

顺便说一句，您的查询似乎可以大大简化。目前非常混乱。

也许您应该重新表述您的问题，用英语解释您正在尝试做什么以及您的表架构是什么，并让*我们*建议*整个*查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:01:56.050

```
create table table1(c1 varchar(10), c2 varchar(10), c3 varchar(10), c4 varchar(10), c5 varchar(10));

create table table2(c1 varchar(10), c2 varchar(10), c3 varchar(10), c4 varchar(10), c5 varchar(10));

create table table3(c1 varchar(10), c2 varchar(10), c3 varchar(10), c4 varchar(10), c5 varchar(10));

create table table4(c1 varchar(10), c2 varchar(10), c3 varchar(10), c4 varchar(10), c5 varchar(10));

insert into table1 values (1,2,3,4,5);

insert into table2 values (1,5,3,7,8);

insert into table3 values (1,15,3,17,18);

insert into table4 values (1,22,3,24,25);

  with max3 as
  (select c1, max(c3) c3 from table2 where table2.c1 = 1 group by c1)
  select table1.c1, table1.c2, max3.c3, table3.c4, table4.c5
    from table1
    join max3
      on max3.c1 = table1.c1
    join table3
      on table3.c3 = max3.c3
    join table4
      on table4.c3 = max3.c3
   where table1.c1 = 1; 
```

*输出*

```
c1 c2 c3 c4 c5 
 1  2  3 17 25 
```

# sorting - Raven DB 中空间索引的错误排序结果

> ID：11895790
> 
> 赞同：2
> 
> 时间：2012-08-10T05:07:56.070
> 
> 标签：sorting, indexing, ravendb, spatial-query

当我尝试从我的索引中获取 10 个最新结果（按日期顺序排列）时，我收到了旧文档。看起来查询需要 10 个过时的项目并对其进行排序。当查询有很多结果可供使用时，我遇到了这个问题。

这是我的索引定义：

```
public class Home_ByCategoryTagAndLocation : AbstractIndexCreationTask<Home>
{
    public Home_ByCategoryTagAndLocation()
    {
        Map = home => from n in home                          
            from t in n.Source.CategoryTag
            from c in n.Locations
            select new { CategoryTag = t, n.DatePublished, _ = SpatialIndex.Generate(c.Latitude, c.Longitude) };
    }
} 
```

我使用以下代码调用我的索引：

```
public static List<Home> GetLatestHomeNear(IDocumentStore store, CityLocation location, int maxResults = 15)
{
    if (location != null)
    {
        using (IDocumentSession session = store.OpenSession())
        {
            return session.Advanced.LuceneQuery<Home>("Home/ByCategoryTagAndLocation")                            
                .WithinRadiusOf(radius: location.DefaultRadius, latitude: location.Latitude, longitude: location.Longitude)
                .OrderByDescending(n => n.DatePublished)
                .Take(maxResults)
                .ToList();
        }
    }

    return new List<Home>();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T23:54:09.097

这篇文章似乎在描述[陈旧索引](http://ravendb.net/docs/client-api/querying/stale-indexes)的正常行为。

这与空间索引完全无关。那恰好是过时的索引。

# sql - SRSS 生成用户定义查询的报告

> ID：11895791
> 
> 赞同：0
> 
> 时间：2012-08-10T05:08:01.110
> 
> 标签：sql, sql-server-2008-r2, ssrs-2008

我想在 SSRS 中创建一个报告，它接受来自用户的 SQL 查询（可能是字符串），然后执行它并显示结果。我尝试使用以下查询创建报告

```
SELECT @select
FROM @from
WHERE @ where 
```

并计划向用户显示 3 个文本框以获取每个输入。但这在创建报告本身时给了我错误。
有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T22:43:26.240

您可以将数据集设置为使用表达式而不是硬编码查询，但您需要使用嵌入式数据源而不是共享数据源。使用嵌入式数据源时，单击 fx 按钮（表达式按钮）以放入解析为 SQL 查询的表达式。您可以在如下表达式中使用从用户那里捕获的三个参数：

```
="select " + @select + " from " + @from + " where " + @where 
```

这种方法的问题在于 Reporting Services 将查询解析为一组字段，然后在报表布局中定义这些字段。如果您可以保证每次查询执行中的字段数量相同，并且如果您可以使用别名（column_1、column_2 等）将列名转换为通用列名，那么您可以创建一个报表布局，它将显示查询结果。我非常怀疑要在 Select 参数中输入列名的人是否想要输入（或知道输入）columnA 作为column_1，columnB 作为column_2，等等，但我可能是错的。更大的问题是您无法验证每次使用的列数是否正确。我想您可以在报告中编写自定义函数并在需要时填写额外的列。

您在验证每个参数中的用户输入时也会遇到问题 - 但您也可以编写一个自定义函数来处理这个问题。底线是它不是微不足道的，也不是 SSRRS 的预期使用方式。但是如果你投入足够的工作，可能有一种方法可以让它做你想做的事。

# objective-c - MapView 上的平滑用户位置更新

> ID：11895793
> 
> 赞同：0
> 
> 时间：2012-08-10T05:08:10.310
> 
> 标签：objective-c, ios, mkmapview

在我的 didUpdateToLocation 方法中，我正在获取位置更新，但我当前位置的移动有些生涩。

这是接收位置更新的委托：

```
-(void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation   *)newLoc fromLocation:(CLLocation *)oldLoc
{
    MKCoordinateRegion region;
    region.center.latitude = newLoc.coordinate.latitude; 
    region.center.longitude = newLoc.coordinate.longitude;
    region.span.latitudeDelta = 0.1;
    region.span.longitudeDelta = 0.1;
    [self.mapView setRegion:region animated:YES];
} 
```

你能帮我确定如何获得平滑的位置更新吗？我在网上搜索，发现我们可以在ios5中使用跟踪模式来获得平滑的位置更新。如果是这种情况，那么我应该在我当前的代码中进行哪些更改。

如果我设置 [self.mapView setUserTrackingMode:MKUserTrackingModeFollow animated:YES]; 鉴于确实加载了，那么我是否需要在位置更新中再次设置该区域？或者它会自动设置，因为我使用了用户跟踪模式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:22:09.333

尽管它会更快地耗尽电池电量（因此除非需要，否则不应使用它），但如果使用不同的`desiredAccuracy`.

如果您参考 Apples list of [Accuracy Constants](http://developer.apple.com/library/ios/#DOCUMENTATION/CoreLocation/Reference/CoreLocationConstantsRef/Reference/reference.html#//apple_ref/c/data/kCLLocationAccuracyBestForNavigation)，您可能会找到`kCLLocationAccuracyBestForNavigation`更好`kCLLocationAccuracyBest`的选择。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T16:14:48.953

设置跟踪模式后，您无需进行任何手动区域/视图设置。

# string - R分离字符串并将它们链接到另一列

> ID：11895796
> 
> 赞同：1
> 
> 时间：2012-08-10T05:08:47.500
> 
> 标签：string, r

我的数据如下所示：

```
DocID             Impact
CCRB-9-569  114;Adaptation - Strategic
CCRB-9-531  173;Nutrient trading
CCRB-9-886  
CCRB-9-989  
CCRB-9-530  71;Change in Temperature;65;Extreme weather events;96;Lower Rainfall
CCRB-9-671  106;Adaptation Responses;98;Climate Change
CCRB-9-570  114;Adaptation - Strategic
CCRB-9-990  
CCRB-9-526  98;Climate Change 
```

理想情况下，我想结束：

```
DocID             Impact
CCRB-9-569  Adaptation - Strategic
CCRB-9-531  Nutrient trading
CCRB-9-886  
CCRB-9-989  
CCRB-9-530  Change in Temperature
CCRB-9-530  Extreme weather events
CCRB-9-530  Lower Rainfall
CCRB-9-671  Adaptation Responses
CCRB-9-671  Climate Change
CCRB-9-570  Adaptation - Strategic
CCRB-9-990  
CCRB-9-526  Climate Change 
```

我开始尝试

```
test1=lapply(unlist(strsplit(test$Impact,"\\;")),as.character) 
```

但是没有能力链接回 DocID 并且没有输入的行没有任何空格。我一直在尝试省略 unlist，尝试重新列出，使用 cbind.fill 函数，合并等，但我错过了一些东西。如果影响列中的数字（114、173 等）最终出现在输出文件中，那很好，只要为它们分配了正确的 DocID 编号。谢谢你的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:34:35.013

类似的 `data.table`解决方案

```
# some dummy data
.data <- data.frame(id = letters[1:5], text = c('12;a-b;34','','a-c','a-c;12;12',''))
# make both columns character, not factor, and make it a data.table
.data <- as.data.table(lapply(.data, as.character))
# for each id, split and return (returning '' if nothing)

.data[, { value = unlist(strsplit(text,split = '\\;')) 
          if (length(value) == 0) text else value },
        by = id] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T05:54:46.510

我无法让@csgillespie 的功能`strsplit`正确执行，所以我自己制作了：

```
 foo <- function(x){  ivec <-                   
  unlist(    # needed to convert the list from strsplit to a vector.
  # The regex split pattern can be read as 
     #---- "find any sections possibly but not necessarily starting with a space or ";"
     # --- "followed necessarily by one or more digits and a ";"
  # strsplit will split and remove these segments.

     strsplit( as.character(x), split= "\\s?;?[[:digit:]]+;" ))   

   #Need to remove length zero items except for the DocID's that don't have any   

     if( any(nchar(ivec))>0){ ivec[nchar(ivec) >0 ] }else{""}
    } # end of function.

 out <- ddply(dta, .(DocID), summarise, Impact=foo(Impact) )
 out
#--------------
         DocID                 Impact
1  CCRB-9-526          Climate Change
2  CCRB-9-530   Change in Temperature
3  CCRB-9-530  Extreme weather events
4  CCRB-9-530          Lower Rainfall
5  CCRB-9-531        Nutrient trading
6  CCRB-9-569  Adaptation - Strategic
7  CCRB-9-570  Adaptation - Strategic
8  CCRB-9-671    Adaptation Responses
9  CCRB-9-671          Climate Change
10 CCRB-9-886                        
11 CCRB-9-989                        
12 CCRB-9-990 
```

测试用例的构建（需要使用非空白分隔符）：

```
dta <- read.table(text="DocID     |        Impact
 CCRB-9-569 | 114;Adaptation - Strategic
 CCRB-9-531 | 173;Nutrient trading
 CCRB-9-886 | 
 CCRB-9-989 | 
 CCRB-9-530 | 71;Change in Temperature;65;Extreme weather events;96;Lower Rainfall
 CCRB-9-671 | 106;Adaptation Responses;98;Climate Change
 CCRB-9-570 | 114;Adaptation - Strategic
 CCRB-9-990 | 
 CCRB-9-526 | 98;Climate Change", header=TRUE, sep="|") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T05:20:29.233

您可以使用该`plyr`软件包相当轻松地做到这一点。首先，创建一些虚拟数据并加载包：

```
dd = data.frame(DocID = c("CCRB-9-569", "CCRB-9-530", "CCRB-9-886"),
                 Impact=c("114;Adaptation - Strategic", 
     "71;Change in Temperature;65;Extreme weather events;96;Lower Rainfall",
                          ""), stringsAsFactors=FALSE)
library(plyr) 
```

接下来，我们创建一个适用于`Impact`列的函数：

```
f = function(i) { 
    l = unlist(strsplit(as.character(i),";"))
    ##Need to determine if the string was empty
    if(length(l)> 1) l = l[seq(2, length(l), by=2)]
    return(l) 
```

}

然后我们使用`ddply`：

```
ddply(dd, "DocID", summarise, Impact = f(Impact)) 
```

在这里，我们`dd`将输入作为输入，通过 DocID 分离出来，并将函数`f`应用于 out Impact 块。

* * *

请注意，我的函数`f`假设您想将字符串拆分为`;`

**功能逻辑**

该`plyr`函数根据其值“创建”较小的数据帧`DocID`。然后我假设对于特定`DocID`值具有以下格式：

```
 Number;string;Number;string;Number;string 
```

当我们基于 分割时`;`，我们得到向量：

```
Number, string, Number, string, Number, string 
```

所以我们只需要选择偶数元素，即

```
l[seq(2, length(l), 2)] 
```

# matlab - Matlab中三点相关函数的矢量化计算？

> ID：11895799
> 
> 赞同：0
> 
> 时间：2012-08-10T05:08:55.453
> 
> 标签：matlab, multidimensional-array, cross-correlation

我想通过向量元素的适当直方图（长度 system_size 的 num_samples 个样本）和相应的聚类函数 T2、T3 来计算向量样本的 2 点和 3 点相关函数 R2、R3。为简单起见，我正在考虑跨统一箱进行直方图。

什么是矢量化和/或加速以下代码的好方法？

```
n = length(mesh);
R2 = zeros(n, n);
R3 = zeros(n, n, n);
for sample_id=1:num_samples 
    s = samples(:, sample_id);
    d = mesh(2) - mesh(1);
    % Which bin does the ith sample s belong to?
    bins = ceil((s - mesh(1))/d);

    % Compute two-point correlation function
    for i = 1:system_size
        for j = 1:system_size
            if i ~= j
                R2(bins(i), bins(j))=R2(bins(i), bins(j))+1;
            end
        end
    end

    % Compute three-point correlation function
    for i = 1:system_size
        for j = 1:system_size
            if i ~= j
                for k = 1:system_size
                    if k ~= j && k ~= i
                        R3(bins(i), bins(j), bins(k))=R3(bins(i), bins(j), bins(k))+1;
                        T3(x1, x2, x3) = R3(x1,x2,x3)-R1(x1)*R2(x2,x3)-R1(x2)*R2(x1,x3)...
                             -R1(x3)*R2(x1,x2)+2*R1(x1)*R1(x2)*R1(x3);
                    end
                end
            end
        end
    end
end
R2 = R2/sum(R2(:));
R3 = R3/sum(R3(:));

T3 = zeros(n, n, n);
% Compute three-point cluster function
for i = 1:n
    for j = 1:n
        if i ~= j
            for k = 1:n
                if k ~= j && k ~= i
                    T3(x1, x2, x3) = R3(x1,x2,x3)-R1(x1)*R2(x2,x3)-R1(x2)*R2(x1,x3)...
                         -R1(x3)*R2(x1,x2)+2*R1(x1)*R1(x2)*R1(x3);
                end
            end
        end
    end
end 
```

我天真地认为 hist3(bins, bins...) 或 crosstab(bins, bins) 几乎可以做我想要的，即寻找向量元素的相关出现，但事实并非如此。

* * *

例子：

如果我在最外层循环中的输入是

```
s = [1.2 3.1 4.6 4.7 5.1]
mesh = 0:0.5:6 
```

那么量化的数据应该是

```
bins = [3 7 10 10 11] 
```

和 R2 应该是

```
>> R2

R2 =

     0     0     0     0     0     0     0     0     0     0     0     0
     0     0     0     0     0     0     0     0     0     0     0     0
     0     0     0     0     0     0     1     0     0     2     1     0
     0     0     0     0     0     0     0     0     0     0     0     0
     0     0     0     0     0     0     0     0     0     0     0     0
     0     0     0     0     0     0     0     0     0     0     0     0
     0     0     1     0     0     0     0     0     0     2     1     0
     0     0     0     0     0     0     0     0     0     0     0     0
     0     0     0     0     0     0     0     0     0     0     0     0
     0     0     2     0     0     0     2     0     0     2     2     0
     0     0     1     0     0     0     1     0     0     2     0     0
     0     0     0     0     0     0     0     0     0     0     0     0 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:37:46.670

“R2 `and`R3”很简单：

```
R2 = R2 + 1 - diag(ones(size(R2, 1), 1); % you can replace the loop with this
eye3 = zeros(n, n, n);
eye3(linspace(1, numel(eye3), n)) = 1;
R3 = R3 + 1 - eye3; % can move R3 computation outside the loop 
```

对于`T3`：

```
temp = repmat(R2, [1 1 n]).*permute(repmat(R1, [n, 1, n]), [1, 3, 2]);
T3 = R3 - temp - permute(temp, [2 3 1]) - permute(temp, [3 1 2]);
temp2 = repmat(R1'*R1, [1 1 n]).*permute(repmat(R1, [n, 1, n]), [1, 3, 2]);
T3 = T3 + temp2; 
```

假设`R1`是一个行向量。

您可能需要稍微尝试一下，因为您的代码中仍有一些不清楚的地方，但这应该非常接近您最终需要的内容。

**澄清后**编辑：****

 **对于`R2`：

```
ubins = unique(bins);
bincounts = histc(bins, ubins);
for i=1:max(bincounts)
    indices = find(bincounts == i);
    R2(indices, indices) = R2(indices, indices) + i
end 
```

这仅对大型向量和数组有用。实际上，您正在向量化矩阵块的计算，而不是整个矩阵（因为 中的潜在重复`bins`）。

您可以为`R3`. `T3`应该仍然与我之前的答案相似。**

# java - 在 GWT 中做一个控件

> ID：11895800
> 
> 赞同：0
> 
> 时间：2012-08-10T05:08:59.037
> 
> 标签：java

我是 java 新手，我想知道天气我们将能够在 GWT 中创建一个新控件。或者是否可以在 GWT 中自定义控件。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:23:16.790

这是可能的，但开发和调试很痛苦 - 您需要能够弄清楚如何在旧版本的 IE 中调试和支持它。...您也许可以在大多数浏览器中使用 Firebug 和类似工具，但整个过程对我来说似乎违反直觉，特别是如果您是 Java 新手。你会发现自己在想“我想要的是一个和一个内的 - 我如何让 GWT 给我那个？”

...为什么不从 HTML 和 javascript 开始（和结束）？

使用 jquery，您将能够比在 GWT 中更快地启动和运行一个简单的 Web 应用程序。Google 的大多数网络应用程序甚至都不使用 GWT，它们使用具有 Java 很多优点的[Closure ，但它是纯 javascript。](https://developers.google.com/closure/)

# java - 对所有组件使用单个 ActionListener 的缺点？

> ID：11895802
> 
> 赞同：4
> 
> 时间：2012-08-10T05:09:13.020
> 
> 标签：java, swing, model-view-controller, actionlistener

对于路由操作请求，我想为所有组件使用单个 ActionListener 实例。可以使用 setActionCommand 区分对 actionPerformed 的调用。

这是建议吗？在 MVC 上下文中这种方法是否有任何潜在的缺点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-10T05:32:30.973

MVC 只要求拆分 M、V 和 C。但它并不要求关系具有某种基数。所以你可以自由了。

如果事件处理方法中的切换逻辑变得过于复杂（比如多于几行），您可能需要考虑将一个巨大的类拆分为多个类。提供更好的概览和维护。相信我：如果你回到一个简单的 Listener 来改变它，你会非常高兴。这将是一次[重构](http://www.refactoring.com/catalog/replaceConditionalWithPolymorphism.html)；您的 IDE 可能会提供相应的支持。

所以我的建议是：KISS——先做简单的事情，然后把你的东西放在一个 Listener 中。如果它变得太复杂：再次使其简单并重构为多个侦听器（这将是 KISS 的另一个应用程序）。

只要记住保持代码简单，不要懒惰地创建类。创建一个类比让你回到复杂的代码更简单。永远记住：创建软件是 20%，维护是 80%。现在让代码简单易懂，以后维护也很简单。反之亦然。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-10T05:20:19.677

“*这是建议吗？* ”我想不会，但很大程度上取决于您项目的规模。

我认为“一个篮子里的所有鸡蛋”这句话浮现在脑海中。

当您向其添加新的操作分支时，语句的大小`if`可能会变得难以想象。随着您的项目复杂性增加，您的操作处理程序也会增加。

调试潜在问题也可能成为头疼的问题。

代码的维护会变得乏味且容易产生误解，并导致逻辑中不断出现新的错误。

您打破了责任隔离规则（您应该尝试将管理操作/事件的责任隔离在它自己的对象/类中）

如果您正在寻找一种重用操作处理程序的方法，请查看[操作](http://docs.oracle.com/javase/7/docs/api/javax/swing/Action.html)API。如果你真的很渴望，你可以使用工厂在你的代码中产生众所周知的动作。这将允许重用，同时保持责任隔离。

就个人而言，在过去的 3 年中，不得不花费过去 3 年的时间来解开一个没有经验的毕业生的烂摊子，他为我们的系统编写了核心库并喜欢这样编码，请不要这样做。它很容易破解，很难阅读，而且只是一团糟。

恕我直言，它谈到缺乏/或无法设计。

这只是我个人的看法，基于我的经验

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-10T07:55:32.207

*   最复杂的方法是添加[EventHandler](http://docs.oracle.com/javase/7/docs/api/java/beans/EventHandler.html)，触发事件，这个/这些事件[可以在字符串值中进行比较](https://stackoverflow.com/questions/9007259/giving-jmenuitems-name-to-its-actionlistener/9007348#9007348)

*   优势我不知道任何方式（忘记了`Reflection`）如何将`String`值作为参数传递`Java Classes`

*   缺点（我的观点）需要最深入的知识，与`Reflection`

*   可以提到下一个最佳选择`Swing Action`，很棒且可扩展，必须检查方法以`isXxx`

*   [对于 MVC 来说，使用ProprertyChangeXxx](https://stackoverflow.com/questions/8169964/is-mvc-in-swing-thread-safe)通过 Swing 方法构建代码和分发事件是更好和正确的方法

*   使用`JTextComponents`而`TextAction`不是`ProprertyChangeXxx`（也许我错了，也许是错误的概念，没有什么给我更好的选择）

# html5-canvas - 为什么我不能在我的 HTML5 画布中绘制两条不同颜色的线？

> ID：11895807
> 
> 赞同：22
> 
> 时间：2012-08-10T05:10:25.753
> 
> 标签：html5-canvas

我正在尝试使用 HTML5 画布在绿线的左侧绘制一条红线。这是我的javascript：

```
var canvas = document.createElement('canvas');
canvas.height = 150;
canvas.width = 150;
var canvasContext = canvas.getContext('2d');
canvasContext.beginPath();

// Draw the red line.
canvasContext.strokeStyle = '#f00';
canvasContext.moveTo(10, 0);
canvasContext.lineTo(10, 100);
canvasContext.stroke();

// Draw the green line.
canvasContext.moveTo(50, 0);
canvasContext.strokeStyle = '#0f0';
canvasContext.lineTo(50, 100);
canvasContext.stroke();

document.body.appendChild(canvas);​ 
```

但是，在 Google Chrome 中，我在浅绿色线的左侧看到了一条深绿色线。为什么？我叫了stroke两次对吧？因此，为什么我的第一次中风会影响我的第二次？

[这](http://jsfiddle.net/AhdJr/)是一个 JSFiddle，它说明了我的意思。

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-08-10T05:20:14.307

`canvasContext.beginPath();`当您开始绘制第二条线时，您没有打电话。

为了使绘图部分更加独立，我添加了空格：

```
var canvas = document.createElement('canvas');
canvas.height = 150;
canvas.width = 150;

var canvasContext = canvas.getContext('2d');

// Draw the red line.
canvasContext.beginPath();
canvasContext.strokeStyle = '#f00';
canvasContext.moveTo(10, 0);
canvasContext.lineTo(10, 100);
canvasContext.stroke();

// Draw the green line.
canvasContext.beginPath();
canvasContext.moveTo(50, 0);
canvasContext.strokeStyle = '#0f0';
canvasContext.lineTo(50, 100);
canvasContext.stroke();

document.body.appendChild(canvas); 
```

**演示：http: [//jsfiddle.net/AhdJr/2/](http://jsfiddle.net/AhdJr/2/)**

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-10T05:20:13.313

就我所知，webgl 或 opengl 的工作方式非常有趣，就像一个大型状态机，您可以在其中定义状态，绘制，再次更新状态绘制，等等......

虽然我不确定画布是否遵循相同的原则，即使它只是用于简单的 2d 渲染。

我设法让它工作，只是开始了一条新的道路。

```
var canvas = document.createElement('canvas');
canvas.height = 150;
canvas.width = 150;
var canvasContext = canvas.getContext('2d');
canvasContext.beginPath();

// Draw the red line.

canvasContext.moveTo(10, 0);
canvasContext.lineTo(10, 100);
canvasContext.strokeStyle = '#FF0000';
canvasContext.stroke();

canvasContext.beginPath(); // begin new path
// Draw the green line.
canvasContext.moveTo(50, 0);
canvasContext.strokeStyle = '#00FF00';
canvasContext.lineTo(50, 100);
canvasContext.stroke();

document.body.appendChild(canvas);​ 
```

我对 webgl 的经验有限，所以如果我弄错了，请纠正我。

# ipad - MKMapView 没有调用委托方法

> ID：11895810
> 
> 赞同：0
> 
> 时间：2012-08-10T05:10:55.257
> 
> 标签：ipad, annotations, mkmapview

我正在尝试在地图上放置图钉，但它没有调用委托方法

> *   (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id)annotation{

我的应用程序是通用的，所以当我使用 iPhone 时，它​​会正确调用委托方法，但是当我使用 iPad 时，不会调用委托方法。代码如下：

> *   (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id)annotation{
>     
>     
>     
>     静态 NSString *identifier = @"MachineLocation";
>     if ([annotation isKindOfClass:[MachineLocation class]]) {
>     
>     
>     
>     ```
>     MKPinAnnotationView *annotationView = (MKPinAnnotationView *) [self.mapView dequeueReusableAnnotationViewWithIdentifier:identifier];
>     if (annotationView == nil) {
>         annotationView = [[MKPinAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:identifier];
>     } else {
>         annotationView.annotation = annotation;
>     }
>     
>     annotationView.enabled = YES;
>     annotationView.canShowCallout = YES; //        
>     if (isWeatherOn) {
>         if (imageFlag == 0) {
>             annotationView.image=[UIImage imageNamed:@"Clouds.png"];
>         }
>         if (imageFlag == 1) {
>             annotationView.image=[UIImage imageNamed:@"Sun + Clouds.png"];
>         }
>         if (imageFlag == 2) {
>             annotationView.image=[UIImage imageNamed:@"Sun.png"];
>         }
>         imageFlag++;
>     }
>     else
>     {
>         annotationView.image=[UIImage imageNamed:@"arrest.png"];
>         NSLog(@"annotation");
>     }
>     
>     annotationView.rightCalloutAccessoryView = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];
>     
>     return annotationView; 
>     ```
>     
>     
>     
>     }
>     
>     
>     
>     返回零；}

viewWillApear 下的代码是这个

```
NSString *tempString;
            for(NSMutableArray *array in appDelegate.globalVehicleInfoArray) { 
                for (VehicleInfo *vehicleInfo in array) {
                    for (WeatherCondition *weather in appDelegate.globalWeatherConditionArray) {
                        if ([weather.weatherID isEqualToString:[vehicleInfo vehicleID]]) {
                            tempString = [weather weatherTempC];
                            //                            NSLog(@"weather id matched");
                        }
                    }
                    NSString *name = [vehicleInfo vehicleName];
                    NSString *machineDescription = [NSString stringWithFormat:@"%@     %@ C", [vehicleInfo vehicleLastUpdate], tempString];
                    MKPointAnnotation *annotation = [[MKPointAnnotation alloc] init];
                    CLLocationCoordinate2D coordinate;
                    coordinate.latitude = [[vehicleInfo vehicleLastPositionY] doubleValue]; 
                    coordinate.longitude = [[vehicleInfo vehicleLastPositionX] doubleValue];
                    NSLog(@"%f , %f", coordinate.latitude, coordinate.longitude);
                    MachineLocation *location = [[MachineLocation alloc] initWithId:[vehicleInfo vehicleID] :name description:machineDescription coordinate:coordinate];
//                    annotation.coordinate = coordinate;
                    [self.mapView addAnnotation:location];
                }

            } 
```

# android - Android 的 TextViews 部分消失

> ID：11895811
> 
> 赞同：5
> 
> 时间：2012-08-10T05:10:55.603
> 
> 标签：android, textview

我在表格布局中有一些文本视图。当我单击布局中的按钮时，文本视图的部分消失了。我曾尝试重新启动 eclipse 和模拟器几次，但没有任何改变。这过去没有发生过。我完全被难住了。关于为什么会发生这种情况的任何建议？

点击前

![](../Images/65d160a4406e87cab501faadeb6cb390.png)

点击后

![在此处输入图像描述](../Images/26a0181aa6bcff3491eff93e3c0c1022.png)

XML 代码的部分...

```
 <TableLayout
                android:id="@+id/tableLayout1"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_below="@id/tv_rank"
                android:stretchColumns="1" >

             <TextView
                    android:id="@+id/textView4"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="5dp"
                    android:background="#acacac"
                    android:text="Public"
                    android:textColor="#000000" />

                <TableRow
                    android:id="@+id/tableRow2"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:background="#acacac"
                    android:paddingTop="5dp" >

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginLeft="10dp"
                        android:layout_weight="1.35"
                        android:text="Parties Thrown:"
                        android:textColor="#000000"
                        android:textSize="12dp" />

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1" >

                        <TextView
                            android:id="@+id/tv_PublicPartyAmount"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="0"
                            android:textColor="#000000"
                            android:textSize="12dp"
                            android:textStyle="bold" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text=" parties"
                            android:textColor="#000000"
                            android:textSize="8dp" />
                    </LinearLayout>

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1.35"
                        android:text="Average Score:"
                        android:textColor="#000000"
                        android:textSize="12dp" />

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1" >

                        <TextView
                            android:id="@+id/tv_PublicAverageScore"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="0"
                            android:textColor="#000000"
                            android:textSize="12dp"
                            android:textStyle="bold" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text=" points"
                            android:textColor="#000000"
                            android:textSize="8dp" />
                    </LinearLayout>
                </TableRow>

                <TableRow
                    android:id="@+id/tableRow3"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:background="#acacac"
                    android:paddingBottom="5dp"
                    android:paddingTop="5dp" >

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginLeft="10dp"
                        android:layout_weight="1.35"
                        android:text="Biggest Party:"
                        android:textColor="#000000"
                        android:textSize="12dp" />

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1" >

                        <TextView
                            android:id="@+id/tv_PublicBiggestParty"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="0"
                            android:textColor="#000000"
                            android:textSize="12dp"
                            android:textStyle="bold" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text=" guests"
                            android:textColor="#000000"
                            android:textSize="8dp" />
                    </LinearLayout>

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1.35"
                        android:text="Highest Score:"
                        android:textColor="#000000"
                        android:textSize="12dp" />

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1" >

                        <TextView
                            android:id="@+id/tv_PublicHighestScore"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="0"
                            android:textColor="#000000"
                            android:textSize="12dp"
                            android:textStyle="bold" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text=" points"
                            android:textColor="#000000"
                            android:textSize="8dp" />
                    </LinearLayout>
                </TableRow>

                <LinearLayout
                    android:layout_width="fill_parent"
                    android:layout_height="5dp" >
                </LinearLayout>

                <TextView
                    android:id="@+id/textView13"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:background="#acacac"
                    android:text="Private"
                    android:textColor="#000000" />

                <TableRow
                    android:id="@+id/tableRow4"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:background="#acacac"
                    android:paddingTop="5dp" >

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginLeft="10dp"
                        android:layout_weight="1.35"
                        android:text="Parties Thrown:"
                        android:textColor="#000000"
                        android:textSize="12dp" />

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1" >

                        <TextView
                            android:id="@+id/tv_PrivatePartyAmount"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="0"
                            android:textColor="#000000"
                            android:textSize="12dp"
                            android:textStyle="bold" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text=" parties"
                            android:textColor="#000000"
                            android:textSize="8dp" />
                    </LinearLayout>

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1.35"
                        android:text="Average Score:"
                        android:textColor="#000000"
                        android:textSize="12dp" />

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1" >

                        <TextView
                            android:id="@+id/tv_PrivateAverageScore"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="0"
                            android:textColor="#000000"
                            android:textSize="12dp"
                            android:textStyle="bold" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text=" points"
                            android:textColor="#000000"
                            android:textSize="8dp" />
                    </LinearLayout>
                </TableRow>

                <TableRow
                    android:id="@+id/tableRow5"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:background="#acacac"
                    android:paddingBottom="5dp"
                    android:paddingTop="5dp" >

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginLeft="10dp"
                        android:layout_weight="1.35"
                        android:text="Biggest Party:"
                        android:textColor="#000000"
                        android:textSize="12dp" />

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1" >

                        <TextView
                            android:id="@+id/tv_PrivateBiggestParty"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="0"
                            android:textColor="#000000"
                            android:textSize="12dp"
                            android:textStyle="bold" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text=" guests"
                            android:textColor="#000000"
                            android:textSize="8dp" />
                    </LinearLayout>

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1.35"
                        android:text="Highest Score:"
                        android:textColor="#000000"
                        android:textSize="12dp" />

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1" >

                        <TextView
                            android:id="@+id/tv_PrivateHighestScore"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="0"
                            android:textColor="#000000"
                            android:textSize="12dp"
                            android:textStyle="bold" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text=" guests"
                            android:textColor="#000000"
                            android:textSize="8dp" />
                    </LinearLayout>
                </TableRow>
            </TableLayout> 
```

# tridion - 默认 UGC tbb 代码

> ID：11895812
> 
> 赞同：2
> 
> 时间：2012-08-10T05:10:56.413
> 
> 标签：tridion, ugc

我们可以在哪里找到用户生成评论项目的默认 .net tbb**代码**。如果有人可以提供任何其他示例代码，那就太好了。

提前致谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-10T07:36:48.770

要插入 UGC 注释，您需要添加 TCDL 标记、JSP 标记库标记或 ASP.NET 服务器控件，它们将在内容交付端解析。

*   ASP.NET 服务器控件`<ugc:Comments runat="server">`
*   JSP 自定义标签 `<ugc:Comments>`
*   TCDL 标签 `<tcdl:Comments>`

我建议您查看[带有 2011 文档的 sdllivecontent 门户](http://sdllivecontent.sdl.com/LiveContent/content/en-US/SDL_Tridion_2011_SPONE/concept_19A5CE40135D4A30AA8F7FFE31366FD1)（需要登录）。您将在那里找到所有 UGC 命令的列表。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-22T02:20:18.353

默认UGC TBB代码，希望对你有用。

```
namespace Tridion.Ugc.Templating.DefaultTemplates
{
    using System;
    using Tridion.ContentManager;
    using Tridion.ContentManager.Templating;

    public static class Helper
    {
        public static ApplicationData GetApplicationData(Engine engine, Package package)
        {
            IdentifiableObject obj2 = engine.GetObject(package.GetByType(engine.PublishingContext.ResolvedItem.IsComponentPresentation ? ContentType.Component : ContentType.Page));
            ApplicationData data = obj2.LoadApplicationData("ugc:ComponentAndPage");
            if (data == null)
            {
                TemplatingLogger.GetLogger(typeof(EnableUgcProcessing)).Warning(string.Format("No UGC application data for {0} found, UGC output will be disabled", obj2.Id));
            }
            return data;
        }
    }
}

namespace Tridion.Ugc.Templating.DefaultTemplates
{
    using System;
    using System.Text;
    using System.Xml;
    using Tridion.ContentManager;
    using Tridion.ContentManager.Templating;
    using Tridion.ContentManager.Templating.Assembly;

    [TcmTemplateTitle("Enable User Generated Content Processing")]
    public class EnableUgcProcessing : ITemplate
    {
        public void Transform(Engine engine, Package package)
        {
            ApplicationData applicationData = Helper.GetApplicationData(engine, package);
            bool flag = false;
            bool flag2 = false;
            bool flag3 = false;
            bool flag4 = false;
            string innerText = null;
            string str2 = null;
            if (applicationData != null)
            {
                XmlDocument document = new XmlDocument();
                document.LoadXml(Encoding.Unicode.GetString(applicationData.Data));
                XmlNode node = document.SelectSingleNode("*/allowtocomment");
                if (node != null)
                {
                    flag = XmlConvert.ToBoolean(node.InnerText);
                }
                node = document.SelectSingleNode("*/showcomments");
                if (node != null)
                {
                    flag2 = XmlConvert.ToBoolean(node.InnerText);
                }
                node = document.SelectSingleNode("*/allowtorate");
                if (node != null)
                {
                    flag3 = XmlConvert.ToBoolean(node.InnerText);
                }
                node = document.SelectSingleNode("*/showunmoderatedcomments");
                if (node != null)
                {
                    flag4 = XmlConvert.ToBoolean(node.InnerText);
                }
                node = document.SelectSingleNode("*/sortcomments/field");
                if (node != null)
                {
                    innerText = node.InnerText;
                }
                node = document.SelectSingleNode("*/sortcomments/direction");
                if (node != null)
                {
                    str2 = node.InnerText;
                }
            }
            Tridion.ContentManager.Templating.Item item = package.CreateStringItem(ContentType.Text, flag.ToString());
            package.PushItem("allowtocomment", item);
            item = package.CreateStringItem(ContentType.Text, flag2.ToString());
            package.PushItem("showcomments", item);
            item = package.CreateStringItem(ContentType.Text, flag3.ToString());
            package.PushItem("allowtorate", item);
            item = package.CreateStringItem(ContentType.Text, flag4.ToString());
            package.PushItem("showunmoderatedcomments", item);
            if (innerText != null)
            {
                item = package.CreateStringItem(ContentType.Text, innerText);
                package.PushItem("sortcommentsby", item);
            }
            if (str2 != null)
            {
                item = package.CreateStringItem(ContentType.Text, str2);
                package.PushItem("sortdirection", item);
            }
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T12:26:22.177

您在服务器上安装 Tridion 时是否安装了用户生成的内容？

# svg - iOS 上的 SVG 形状渲染

> ID：11895813
> 
> 赞同：1
> 
> 时间：2012-08-10T05:10:57.533
> 
> 标签：svg, mobile-safari, antialiasing

我在 iOS 上的形状渲染遇到了麻烦。

这就是我的 SVG 的样子（PC，形状渲染：crispEdges）：![Chrome 21，形状渲染：crispEdges](../Images/9ec438df9b686113a4e8f78a8089ecda.png)

这是它在 iOS 上的外观： ![Safari，iOS 5.1.1，形状渲染：crispEdges](../Images/496fb21ef73572e1ddfe4807d39f4c50.png)

如果我将“crispEdges”更改为“crisp-edges”会更好，但仍然有些模糊： ![Safari，iOS 5.1.1，形状渲染：清晰边缘](../Images/6331cd2f2c89a74677bde65ab1744c4a.png)

关于如何在没有任何抗锯齿的情况下让我的 SVG 显示非常清晰的任何建议？

# wpf - 边框内容更改时自动调整大小

> ID：11895814
> 
> 赞同：1
> 
> 时间：2012-08-10T05:10:58.020
> 
> 标签：wpf

我有一个应用程序，我在其中编写了自己的导航窗口（由于各种原因），并且内容托管在边框内。当我换出内容时，我需要一种机制，在内容呈现后立即通知我，以便我可以自动调整整个窗口的大小。

我需要一种将窗口大小调整为内容或给定最大大小的行为。自动调整大小后，用户应该以任何方式调整窗口大小。

我在用：

```
this.MaxHeight = 700;
this.MaxWidth = 800;
this.SizeToContent = System.Windows.SizeToContent.WidthAndHeight;
this.SizeToContent = System.Windows.SizeToContent.Manual;
this.MaxWidth = double.PositiveInfinity;
this.MaxHeight = double.PositiveInfinity; 
```

但由于渲染并不总是完成，这并不总是有效。

编辑：我写了这个示例来显示渲染的内容只被触发一次：

```
<Window x:Class="WpfApplication2.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow"
        Width="525"
        Height="350"
        ContentRendered="Window_ContentRendered">
    <StackPanel>
        <Border x:Name="border"
                Width="200"
                Height="200"
                BorderBrush="Cornsilk"
                BorderThickness="1">
            <Ellipse Width="40"
                     Height="20"
                     Fill="AliceBlue"
                     Stroke="Black" />
        </Border>
        <Button x:Name="btn"
                Click="btn_Click"
                Content="ClickMe" />
        <TextBlock x:Name="txtRender" />
    </StackPanel>
</Window> 
```

代码背后：

```
using System;
using System.Windows;
using System.Windows.Media;
using System.Windows.Shapes;

namespace WpfApplication2
{
    /// <summary>
    /// Interaction logic for MainWindow.xaml
    /// </summary>
    public partial class MainWindow : Window
    {
        int rendercount = 0;
        Random rnd = new Random();

        public MainWindow()
        {
            InitializeComponent();
        }

        private void Window_ContentRendered(object sender, EventArgs e)
        {
            rendercount++;
            txtRender.Text = rendercount.ToString();
        }

        private void btn_Click(object sender, RoutedEventArgs e)
        {
            Ellipse ell = new Ellipse();
            ell.Width = rnd.Next(50, 100);
            ell.Height = rnd.Next(10, 100);
            ell.Stroke = Brushes.Black;
            ell.StrokeThickness = 2;
            border.Child = ell;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-15T11:32:57.790

去掉边框上的大小，只设置`this.SizeToContent = System.Windows.SizeToContent.WidthAndHeight;`后`InitializeComponent();`

工作 XAML：

```
<Window x:Class="WpfApplication2.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="350" Width="525"
        ContentRendered="Window_ContentRendered">
    <StackPanel>
        <Border x:Name="border"
                BorderBrush="Cornsilk"
                BorderThickness="1">
            <Ellipse Width="40"
                     Height="20"
                     Fill="AliceBlue"
                     Stroke="Black" />
        </Border>
        <Button x:Name="btn"
                Click="btn_Click"
                Content="ClickMe" />
        <TextBlock x:Name="txtRender" />
    </StackPanel>
</Window> 
```

和后面的代码

```
public partial class MainWindow : Window
{
    int rendercount = 0;
    Random rnd = new Random();

    public MainWindow()
    {
        InitializeComponent();

        this.SizeToContent = System.Windows.SizeToContent.WidthAndHeight;
    }

    private void Window_ContentRendered(object sender, EventArgs e)
    {
        rendercount++;
        txtRender.Text = rendercount.ToString();
    }

    private void btn_Click(object sender, RoutedEventArgs e)
    {
        Ellipse ell = new Ellipse();
        ell.Width = rnd.Next(50, 100);
        ell.Height = rnd.Next(10, 100);
        ell.Stroke = Brushes.Black;
        ell.StrokeThickness = 2;
        border.Child = ell;
    }
} 
```

# uitableview - UIButton 点击 后从 UITextfield 捕获文本

> ID：11895819
> 
> 赞同：0
> 
> 时间：2012-08-10T05:12:04.210
> 
> 标签：uitableview, ios5, uibutton, uitextfield

我在 UITableView 中嵌入了一些 UITextField，并且我的 UIViewController 类也设置为 UITextFieldDelegate。我没有直接引用 ViewController 类中的 UITextField，它们只能通过访问给定 NSIndexPath 处的特定 UITableView 的单元格来访问。

每当 UIButton 的动作目标由于用户点击而被调用时，' `-(void)textFieldDidEndEditing:(UITextField *)textField`. 对于最后一个活动字段尚未调用。如何捕获最后一个活动字段中的文本？

我尝试设置标志来记录编辑的开始和结束以及其他一些解决方案，但这些似乎都不正确..

在我的 onButtonTap 动作处理程序中，如果我有这个：

```
[self.view endEditing:YES]; 
// would the call to 'textFieldDidEndEditing' happen synchronously and then return
// to this line or would they be async?
[self doActionLogic]; // 
```

谁能提出一个好的技术来做到这一点？似乎这将是一个标准问题，但我在找出答案方面有点慢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:56:27.830

如果您只需要文本字段的输入，您可以在方法中将测试设置为 ivar 并返回是。

```
- (BOOL)textFieldShouldEndEditing:(UITextField *)textField 
```

textFieldDidEndEditing 可以在按钮操作之后调用，但是由于您已经在 ivar 中拥有它，所以不会有问题。但是最好的方法是，您可以检查文本字段的输入并启用按钮

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string 
```

因此，只要您在 uitexfield.shouldChangeCharactersInRange 中有一个有效的输入，就启用您的取消按钮，因为您输入了一些内容并且在将输入插入到 uitextfield 之前。

# java - 禁用单个 JComboBox 项

> ID：11895822
> 
> 赞同：4
> 
> 时间：2012-08-10T05:12:18.837
> 
> 标签：java, swing, jcombobox, jlist

这是一个相当普遍的问题，我使用的解决方案与[我](https://startpage.com/do/search?q=JCombobox+disable+items)后来搜索和发现的类似。一个实现 a `ListCellRenderer`，`JLabel`它根据当前选定的索引启用或禁用自身：

```
public Component getListCellRendererComponent(JList list, Object value,
        int index, boolean isSelected, boolean cellHasFocus) {
    setText(value.toString());
    UIDefaults defaults = UIManager.getDefaults();
    Color fc;
    if (index == 1) {
        setEnabled(false);
        fc = defaults.getColor("Label.disabledForeground");
        setFocusable(false);
    } else {
        // fc = defaults.getColor("Label.foreground");
        fc = list.getForeground();
        setEnabled(list.isEnabled());
        setFocusable(true);
    }
    setForeground(fc);
    setBackground(isSelected ? list.getSelectionBackground() : list
            .getBackground());
    return this;
} 
```

问题是即使列表项在视觉上显示为禁用，尽管`setFocusable`调用它仍然可以选择。我如何真正禁用它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:34:31.253

您需要一些方法来阻止`ComboBox`无法设置无法选择的项目。

我能想到的最简单的方法是在模型本身中捕获选择的变化。

```
public class MyComboBoxModel extends DefaultComboBoxModel {

    public MyComboBoxModel() {

        addElement("Select me");
        addElement("I can be selected");
        addElement("Leave me alone");
        addElement("Hit me!!");

    }

    @Override
    public void setSelectedItem(Object anObject) {

        if (anObject != null) {

            if (!anObject.toString().equals("Leave me alone")) {

                super.setSelectedItem(anObject);

            }

        } else {

            super.setSelectedItem(anObject);

        }

    }

} 
```

现在这是一个快速破解来证明这一点。您真正需要的是以某种方式将某些标记`items`为不可选择。我能想到的最简单的方法是在 中提供一个属性`item`，`isSelectable`例如。

如果做不到这一点，您可以构建一个特殊`ComboBoxModel`的维护一个单独的内部模型，该模型包含对所有 unselectable 的引用`items`，以便`model.contains(item)`可以使用快速来确定该项目是否可选。

# for-loop - for 循环 ++ 用于 c 中 1 以外的内容

> ID：11895823
> 
> 赞同：0
> 
> 时间：2012-08-10T05:12:21.733
> 
> 标签：for-loop

假设我想在 c 中使用以下 for 循环：

```
for(int i=0; i<10; i+3)
    {
    } 
```

它不会让我。然而，它会让我这样做：

```
for(int i=0; i<10; i++)
    {
    } 
```

如何将索引增加 3 而不仅仅是 1？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T05:13:39.513

递增/递减表达式（如果使用）需要分配给`i`，而不仅仅是生成一个值。

```
for(int i=0; i<10; i+=3)
{} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T10:39:50.847

```
for(int i=0; i<10; i=i+3){

} 
```

# c++ - C++ 常量错误

> ID：11895824
> 
> 赞同：0
> 
> 时间：2012-08-10T05:12:46.750
> 
> 标签：c++, constants

```
 bool check_integrity( int pos ) const
    {
        if (( pos <= 0 ) || ( pos > max_seq ) || ( pos  >= _length + _beg_pos ))
        {
             cerr << "!! invalid position: " << pos
                  << " Cannot honor request\n";
             return false;
        }

        if ( _isa == ns_unset ) 
        {
             cerr << "!! object is not set to a sequence."
                  << " Please set_sequence() and try again!\n";
             return false;
        }

        if ( pos > _elem->size()){
             cout << "check_integrity: calculating "
                  << pos - _elem->size() << " additional elements\n";
             ( this->*_pmf )( pos );
        }

        return true;
    }

    public:
        typedef void (num_sequence::*PtrType)( int );
    private:
        PtrType    _pmf; 
```

> 上面的代码片段是“num_sequence”类的一部分。我收到以下行的错误：

```
( this->*_pmf )( pos ); 
```

> 错误是：'const num_sequence *const this' 错误：对象具有与成员函数不兼容的类型限定符

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T05:19:19.867

`check_integrity`是一个`const`函数，所以它调用的函数也必须是`const`，因此调用一个`PtrType`函数也必须是`const`。

试试这个：

```
typedef void (num_sequence::*PtrType)( int ) const; 
```

注意：我没有编译这个 :) 只是大声思考。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-10T05:43:34.157

您正在尝试`_pmf`为常量 object调用指向的非常量成员函数`*this`。这违反了 const 正确性规则。

要么声明你`PtrType`的

```
typedef void (num_sequence::*PtrType)( int ) const; 
```

或`const`从您的`check_integrity`功能中删除

```
bool check_integrity( int pos )
{
   ... 
```

不管是这个还是那个。您没有为其他人提供足够的信息来决定在这种情况下哪个是正确的做法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T05:21:53.170

你需要改变

```
typedef void (num_sequence::*PtrType)( int ); 
```

到

```
typedef void (num_sequence::*PtrType)( int ) const; 
```

因为您是从函数调用`const`函数

# ruby-on-rails - 在 Rails 中上传文件给出 String 文件名而不是 File 或 StringIO 对象

> ID：11895829
> 
> 赞同：12
> 
> 时间：2012-08-10T05:13:53.807
> 
> 标签：ruby-on-rails, forms, file-upload

导轨 3，JRuby 1.6.7.2

我一直在尝试一些“基本”的东西，只是通过表单上传一个文本文件以便在我的应用程序中处理。我看到的问题是，我得到的只是一个文件名字符串，而不是 StringIO 或 File。

这是表单代码

```
= form_tag(:controller => "api/#{CURRENT_API_VERSION}/api", :action => 'file', :method=> :post, :multipart => true) do
    = label_tag "file"
    = file_field_tag "upload[file]"
    = submit_tag 'Analyze!' 
```

控制器代码只是给我@upload 作为包含文件名的字符串。

```
def file
        @upload = params[:upload][:file]
        render :template => 'api/file.html.haml'
      end 
```

在控制器中运行调试器会给我@upload.class = String，它不会响应任何文件或 StringIO 方法，例如读取。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-08-10T05:13:53.807

在这里找到了答案。原来我只是搞砸了 form_tag 方法调用。您需要将用于“url_for”的选项和其他选项分开，特别是多部分选项。

所以表单的正确代码是：

```
= form_tag({:controller => "api/#{CURRENT_API_VERSION}/api", :action => 'file', :method=> :post}, {:multipart => true}) do
    = label_tag "file"
    = file_field_tag "upload[file]"
    = submit_tag 'Analyze!' 
```

感谢 Rob Biedenharn 五年前在 ruby​​-forum 上回答这个问题！ [http://www.ruby-forum.com/topic/125637](http://www.ruby-forum.com/topic/125637)

# c# - 保证代码在 C# 终结器中运行

> ID：11895833
> 
> 赞同：1
> 
> 时间：2012-08-10T05:13:56.403
> 
> 标签：c#, serial-port, destructor, finalizer, ascom

我正在编写一个 ASCOM 望远镜驱动程序，当客户端应用程序无法正确断开连接或崩溃时，我需要保证向示波器发送一些串行端口命令以阻止示波器移动。

我尝试添加一个看起来像这样的终结器

```
~Telescope()
{
    Common.AbortSlew();
    Common.SetTracking(false);
} 
```

它进入了 SendSerialPortCommand() 方法，然后退出而不实际将字节发送到线路上，并且似乎在锁定语句之前退出。

回购可以在这里查看

[http://code.google.com/p/ascom-nexstar-telescope/source/browse/NexStar/](http://code.google.com/p/ascom-nexstar-telescope/source/browse/NexStar/)

终结器在 driver.cs 中调用的方法在静态类 Common

有没有更好或更可靠的方法来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T05:19:04.593

实现[IDisposable](http://msdn.microsoft.com/en-us/library/system.idisposable.aspx)接口并在 Dispose 方法中完成您的工作。

您应该看到 Greg Beech 的这篇文章：[实现和使用 IDisposable 接口](http://gregbeech.com/blog/implementing-and-using-the-idisposable-interface)

> .NET 没有析构函数，而是通过覆盖定义在基 Object 类上的 Finalize 方法来实现终结器（尽管 C# 使用 C++ 析构函数语法 ~Object 有点令人困惑）。如果一个对象覆盖了 Finalize 方法，而不是在超出范围时被 GC 收集，GC 会将其放在终结器队列中。在下一个 GC 周期中，队列中的所有终结器都将运行（在当前实现中的单个线程上），并且从终结对象中回收内存。从这里可以很明显地看出为什么你不想在终结器中进行清理：收集对象需要两个 GC 周期而不是一个，并且有一个线程，所有终结器都在运行，而其他所有线程都被挂起，所以这会损害性能。
> 
> 因此，如果您没有析构函数，并且您不想将清理工作留给终结器，那么唯一的选择就是手动、确定地清理对象。输入 IDisposable 接口，该接口提供了支持此功能的标准并定义了一个方法 Dispose，您可以在其中放入对象的清理逻辑。当在 finally 块中使用时，此接口提供与析构函数等效的功能。finally 代码中阻塞的原因主​​要是为了支持 IDisposable 接口；这就是为什么 C++ 只使用 try/except 的原因，因为不需要带有析构函数的 finally 块。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T05:21:23.303

您可以编写一个服务来监视您的应用程序，并在它退出或崩溃时重新启动。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T22:43:02.450

好的，问题是我的托管 C# ASCOM 驱动程序正被一个非托管 C++ 应用程序使用，该应用程序无法通过将 Connected 属性设置为 false 然后退出来正确断开与驱动程序的连接，所以我试图使用 C# 终结器来捕捉这种情况并停止可能在关闭代码中引用托管对象的不起作用的范围。

解决方法是在终结器/析构函数运行之前使用 appdomain.currentdomain.processexit 事件来运行我的关闭代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T05:59:16.003

实现 IDisposable 对您的 API 来说是一个非常好的主意。
我还会考虑在您的驱动程序和 ASCON 之间编写一个代理服务。
通过任务管理器进行的不安全停止仍然会导致错误停止。

# python - Python mod json + urllib2

> ID：11895836
> 
> 赞同：1
> 
> 时间：2012-08-10T05:14:11.807
> 
> 标签：python

这是python中的代码，不起作用且动机未知。

```
import json, urllib2
url = 'http://twitter.com/#!/search/PAROusuariosSUBTE'
server = urllib2.urlopen(url)
js = json.load(server)
res = js['results']
for espDeRes in res:
        espDeRes['from_user']
        espDeRes['text'] 
```

这是控制台中的错误。

```
Traceback (most recent call last):
  File "pro.py", line 4, in <module>
    js = json.load(server) 
  File "/usr/lib/python2.6/json/__init__.py", line 267, in load
    parse_constant=parse_constant, **kw)
  File "/usr/lib/python2.6/json/__init__.py", line 307, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python2.6/json/decoder.py", line 319, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python2.6/json/decoder.py", line 338, in raw_decode
    raise ValueError("No JSON object could be decoded")
ValueError: No JSON object could be decoded 
```

任何的想法？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:20:52.080

我想，你的网址应该是`http://search.twitter.com/search.json?q=PAROusuariosSUBTE`，它应该工作？

# android - 修复 Android SDK 目录的权限

> ID：11895838
> 
> 赞同：1
> 
> 时间：2012-08-10T05:14:15.850
> 
> 标签：android, sdk, permissions

我刚刚从一台 Ubuntu 机器转换到另一台机器。我不想重新下载 Android SDK，所以我将我的`~/android-sdks`目录从旧机器复制到新机器。我相信权限可能在复制过程中被弄乱了，例如`platform-tools/abd`没有被复制为可执行文件。我认为这让我现在在 Eclipse 中感到更加悲痛（参见[https://stackoverflow.com/a/886494](https://stackoverflow.com/a/886494)），因为其他文件没有他们需要做的事情所需的权限。有没有一种简单的方法可以修复`~/android-sdks`目录的权限，而无需再次重新下载/手动尝试查找哪些文件需要更改权限？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-02T14:17:39.753

我刚刚在新 Mac 上安装 sdk 时遇到了类似的问题。我猜解决方案是相似的。

作为一名长期的 java 开发人员，我经常使用 java "jar" 实用程序来管理 zip 文件。我在下面...

```
$ java xf ~/Downloads/adt-bundle-max-x86_64-20130522.zip 
```

...所有文件都已正确提取，但未设置执行位。我把目录吹走并用解压缩重新提取...

```
$ rm -rf adt-bundle-max-x86_64-20130522
$ unzip ~/Downloads/adt-bundle-max-x86_64-20130522.zip 
```

...现在保留了执行位。

# c++ - 如何在构造函数中使用 try catch？

> ID：11895843
> 
> 赞同：-1
> 
> 时间：2012-08-10T05:14:52.913
> 
> 标签：c++, constructor, try-catch

我看到了很多例子，但我无法理解，如何通过简单的构造函数使用 try catch，我编写了一个示例程序：

```
class A
 {
   public:
    try {
       A()
        { cout << "in costr\n"; throw 10;}
    }//try closed
   catch (int a)
{ cout << "caught 1 \n"; }

 };

main()
 {
   A *ptr = new A;
   } 
```

1.  这个程序给出了编译错误
2.  如果捕获到异常，对象会发生什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-10T05:20:24.567

`try/catch`代码应该是*在一起的，*你不能没有另一个。像这样的东西就是你所追求的：

```
A *ptr;
try {
    ptr = new A();
} catch (int a) {
    cout << "caught 1\n";
} 
```

有关完整的工作示例，请参见以下程序：

```
#include <iostream>

class A {
    private:
        int a;
    public:
        A() { a = 7; throw 42; }
        int getA() { return a; }
};

int main (void) {
    A *ptr;
    try {
        ptr = new A();
    } catch (int b) {
        std::cout << "Exception: " << b << '\n';
        return -1;
    }
    std::cout << "Value: " << ptr->getA() << '\n';
    return 0;
} 
```

有了`throw 42`里面，你会看到：

```
Exception: 42 
```

这意味着`main`已经捕获了来自构造函数的异常。没有`throw`，你会看到：

```
Value: 7 
```

因为一切都奏效了。

* * *

您的代码的主要问题似乎是：

*   你有一个`try`不应该出现的声明。`Try/catch`块通常应该*在*函数或方法中，紧跟在`public`关键字之后。

*   如果您从构造函数中抛出异常，则不会在构造函数中捕获它。相反，您在*调用*构造函数的代码中捕获它（`main`在本例中）。

*   如前所述`try`，`catch`它们不是独立的实体。

* * *

如果您*尝试*在构造函数中`throw`，`catch`则仍然需要将其*放在*构造函数本身中，例如：

```
#include <iostream>

class A {
    private:
        int a;
    public:
        A() {
            try {
                a = 7;
                throw 42;
            } catch (int b) {
                std::cout << "Exception A: " << b << '\n';
                throw;
            }
        }
        int getA() {return a;}
};

int main(void) {
    A *ptr;
    try {
        ptr = new A();
    } catch (int b) {
        std::cout << "Exception B: " << b << '\n';
        return -1;
    }
    std::cout << "Value: " << ptr->getA() << '\n';
    return 0;
} 
```

这给了你：

```
Exception A: 42
Exception B: 42 
```

请*特别*注意该`try/catch`块是如何完成的并且*在*构造函数中。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-10T05:39:51.753

构造函数期间引发的异常问题由[函数 try 块](http://www.drdobbs.com/introduction-to-function-try-blocks/184401297)解决：

```
class A
 {
   public:
       A()
       try 
         { cout << "in costr\n"; throw 10;}
      catch(...)
        { cout << "exception caught"; throw;}
 }; 
```

但是他们正在解决的场景与您的示例不同。当类构造函数分配需要回收的资源时，需要函数 try 块。由于如果构造函数抛出类的析构函数不会运行（没有什么可以破坏，类没有从构造开始），解决问题的一种方法是在构造函数上使用函数 try 块。注意构造函数 try 块必须重新抛出异常或原来的异常，它们不能沉默捕获的异常。

有关您所问问题的更详细讨论（在构造函数期间存在异常的对象的范围/生命周期是多少），请参阅[GOTW#66](http://www.gotw.ca/gotw/066.htm)。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-08-10T05:40:25.683

如果您要做的是处理构造函数中抛出的异常而不重新抛出它，那么您必须将 try-catch 块*放置*在构造函数中，或围绕构造函数初始化列表：

```
class A
 {
  public:
   A() {
     try {
       // some code that could throw int
       cout << "in costr\n"; throw 10;}
     }//try closed
     catch (int a) {
       cout << "caught 1 \n";
     }
   }
   explicit A(int i) try : functionThatCanThow(i) catch (int)
   { }

 };

main()
{
   A *ptr = new A;
   A* ptr2 = new A(5);
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-10T05:22:52.933

你的意思是这样的：

```
#include <iostream>

class A
{
    public:
        A() 
        {   
            std::cout << "in costr\n";

            // An exception
            // of type `int`
            throw int(10); 
        }   
};

int main()
{
    // A try block were something may go wrong.
    try 
    {   
        A *ptr = new A;
    }   
    // A try is followed by one or more catch blocks
    // that can be activated if an exception is thrown
    catch (int a)
    {   
        std::cout << "caught 1 \n";
    }   
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-10T05:20:58.157

你必须把try和catch放在一起......

```
class A
{
  public:
    A() { cout << "in costr\n"; throw 10; }
};

int main()
{
    try
    {
        A* ptr = new A;
    }
    catch (int a)
    {
        cout << "caught " << a << '\n';
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-12-22T06:34:56.127

为了增加答案，如果您想在对象构造过程中检查异常，您可以考虑这样的构造：

```
#include <iostream>

using std::cout;

struct Base {
    Base() { 
        cout << "Inside Base()\n";
        throw 1;
    }

private: 
    int i_;
};

struct Member {
    Member(int i) : i_(i) { 
        cout << "Inside Member()\n";
        throw 2;
    }

private: 
    int i_;
};

struct Derived : Base {
    Derived(int) try : member_(55) { cout << "Inside try{}\n"; } catch(int) { cout << "Inside catch()\n"; }

private: 
  Member member_;
};

int main() {
    Derived d(0);
    return 0;
} 
```

在这里，看看在任何进一步的构造尝试之前如何捕获从基础抛出的，这会导致对象构造失败，同时提供足够的信息。在这种情况下，这是一个简单的例子。在实际场景中，您可能希望将异常传播到调用堆栈而不是吞下它。

# android - 进度对话框出现错误

> ID：11895846
> 
> 赞同：0
> 
> 时间：2012-08-10T05:15:13.750
> 
> 标签：android, android-asynctask, progressdialog

我已经检查了这个链接并实现了以下但我仍然收到错误 [ProgressDialog ：如何防止泄漏窗口](https://stackoverflow.com/questions/6614692/progressdialog-how-to-prevent-leaked-window)

这是我的代码

```
public class MyClass extends AsyncTask<Void , Void , Void>
{       

    private ProgressDialog progress;
    public MyClass(ProgressDialog progress)
    {
        this.progress = progress;
    }
    public void onPreExecute()
    {

        progress.show();
    }
    protected Void doInBackground(Void... params) {
        try {               
            /**
             * Create a new instance of the SAX parser
             **/
            SAXParserFactory saxPF = SAXParserFactory.newInstance();
            SAXParser saxP = saxPF.newSAXParser();
            XMLReader xmlR = saxP.getXMLReader();
            URL url = new URL("http://zaggle.foostor.in/xml/get_product_by_id/"+((MyApplication) getApplicationContext()).categoryid); // URL of the XML        
            /** 
             * Create the Handler to handle each of the XML tags. 
             **/
            XMLHandlerforDetailsofproduct myXMLHandler = new XMLHandlerforDetailsofproduct();
            xmlR.setContentHandler(myXMLHandler);
            xmlR.parse(new InputSource(url.openStream()));              
        } catch (Exception e) {
            System.out.println(e);
        }
        data = XMLHandlerforDetailsofproduct.data;
        for (int i = 0; i < data.getdenominationsvalue().size(); i++) {

            denomvalue.add(data.getdenominationsvalue().get(i));
            denomid.add(data.getdenominationsid().get(i));
            disc.add(data.getdiscount().get(i));
            stock.add(data.getstock().get(i));

        }           

        return null;            
    }

    public void onPostExecute(Void unused)
    {

        this.progress.dismiss();
        this.progress = null;

    }       

}

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.store_denomination);
    spin1 = (Spinner)findViewById(R.id.spin);   
    ProgressDialog progress = new ProgressDialog(this);
    progress.setMessage("Loading......");
    new MyClass(progress).execute();
            ---------------------------------

and the code continues
} 
```

这是我的日志：

```
08-10 10:36:19.500: E/WindowManager(835): Activity com.androidhive.xmlparsing.Detailsofproduct has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@44f15250 that was originally added here
08-10 10:36:19.500: E/WindowManager(835): android.view.WindowLeaked: Activity com.androidhive.xmlparsing.Detailsofproduct has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@44f15250 that was originally added here
08-10 10:36:19.500: E/WindowManager(835):   at android.view.ViewRoot.<init>(ViewRoot.java:247)
08-10 10:36:19.500: E/WindowManager(835):   at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:148)
08-10 10:36:19.500: E/WindowManager(835):   at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:91)
08-10 10:36:19.500: E/WindowManager(835):   at android.view.Window$LocalWindowManager.addView(Window.java:424)
08-10 10:36:19.500: E/WindowManager(835):   at android.app.Dialog.show(Dialog.java:241)
08-10 10:36:19.500: E/WindowManager(835):   at com.androidhive.xmlparsing.Detailsofproduct$MyClass.onPreExecute(Detailsofproduct.java:75)
08-10 10:36:19.500: E/WindowManager(835):   at android.os.AsyncTask.execute(AsyncTask.java:391)
08-10 10:36:19.500: E/WindowManager(835):   at com.androidhive.xmlparsing.Detailsofproduct.onCreate(Detailsofproduct.java:127)
08-10 10:36:19.500: E/WindowManager(835):   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
08-10 10:36:19.500: E/WindowManager(835):   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
08-10 10:36:19.500: E/WindowManager(835):   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
08-10 10:36:19.500: E/WindowManager(835):   at android.app.ActivityThread.access$2300(ActivityThread.java:125)
08-10 10:36:19.500: E/WindowManager(835):   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
08-10 10:36:19.500: E/WindowManager(835):   at android.os.Handler.dispatchMessage(Handler.java:99)
08-10 10:36:19.500: E/WindowManager(835):   at android.os.Looper.loop(Looper.java:123)
08-10 10:36:19.500: E/WindowManager(835):   at android.app.ActivityThread.main(ActivityThread.java:4627)
08-10 10:36:19.500: E/WindowManager(835):   at java.lang.reflect.Method.invokeNative(Native Method)
08-10 10:36:19.500: E/WindowManager(835):   at java.lang.reflect.Method.invoke(Method.java:521)
08-10 10:36:19.500: E/WindowManager(835):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
08-10 10:36:19.500: E/WindowManager(835):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
08-10 10:36:19.500: E/WindowManager(835):   at dalvik.system.NativeStart.main(Native Method) 
```

谁能建议在哪里做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:21:46.980

我认为这可能是您的解决方案

首先像这样删除在 preExcecute 方法中创建的构造函数和进度对话框实例

```
protected void onPreExecute() {
                dialog=new ProgressDialog(Activity.this);
                dialog.show();
                super.onPreExecute();
            } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:31:29.443

啊……

以我的经验，ProgressDialog 是在 Myclass 中创建的。

如果您在 onreate 中创建 ProgressDialog 并且 Myclass(extends AnsyncTask) 从自己的构造函数中获取 ProgressDialog，则可能会引发错误。

```
public class MyClass extends AsyncTask {
private ProgressDialog progress = new ProgressDialog(getparent());

/* public MyClass(ProgressDialog progress)
{
    this.progress = progress;
} */

public void onPreExecute()
{

    progress.show();
}
protected Void doInBackground(Void... params) {
    try {               
        /**
         * Create a new instance of the SAX parser
         **/ 
```

……

像这样使用。

我的代码已成功执行。

# php - Phpmyadmin 未使用 PHP 在 xampp 中连接

> ID：11895850
> 
> 赞同：0
> 
> 时间：2012-08-10T05:15:49.407
> 
> 标签：php, phpmyadmin

我尝试使用公共 ip 访问 phpmyadmin。但无法连接。它显示如下错误

> “用户'root'@'u15306256.onlinehome-server.com'的访问被拒绝（使用密码：否）”。

最近我更改了phpmyadmin版本。我不知道它是否创建问题。

任何人都可以帮助我。在此先感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:53:31.690

检查 phpMyAdmin/config.inc.php 从

```
server configurations 
```

要让 phpmyadmin 从远程主机正常工作，您还需要确保在 phpmyadmin 配置文件中使用您的外部 IP 地址（不是 127.0.0.1 或 'localhost'）

但要记住！XAMPP 仅用于本地开发！如果你向公众开放它，你可能会被黑客入侵。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:22:38.513

尝试：

```
grant all on *.* to root@u15306256 
```

# visual-studio-2012 - Visual Studio 2012 解决方案资源管理器扩展

> ID：11895853
> 
> 赞同：0
> 
> 时间：2012-08-10T05:16:09.173
> 
> 标签：visual-studio-2012, visual-studio-addins, solution-explorer

我需要一点 VS 2012 解决方案资源管理器扩展，需要您的帮助。我已经为 VS 做了一个扩展，但从来没有为解决方案资源管理器做一个扩展。

我需要的只是，我想...

我在文件夹“a”中有一个名为“test.cs”的类，现在我将文件“test.abc”添加到文件夹“a”中，我想要将“.abc”文件“隐藏”在“ .cs”文件并在类文件旁边放置一个加号按钮，我可以单击它，然后它折叠起来，我看到了“.abc”文件。

VS 2012 对 global.asax 或 web.config 文件执行完全相同的操作。

有人能帮我吗？

此致

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T08:18:31.957

您可以通过定义一个带有实现`Microsoft.VisualStudio.TemplateWizard.IWizard`. 在您的程序集中，您将创建任何其他文件以嵌套在模板文件中。

这是一个关于如何将它们组合在一起的很好的教程：

[http://www.codeproject.com/Articles/23182/Create-Item-Templates-Which-Have-Nested-Items](http://www.codeproject.com/Articles/23182/Create-Item-Templates-Which-Have-Nested-Items)

# php - 获取多个复选框值作为非数组

> ID：11895855
> 
> 赞同：-1
> 
> 时间：2012-08-10T05:16:39.983
> 
> 标签：php, javascript, html

我试图找到一种从多个复选框中获取值而不将它们命名为数组的方法。即我想为此获得同名的价值。

```
<input type="checkbox" name="name" >
<input type="checkbox" name="name" >
<input type="checkbox" name="name" >
<input type="checkbox" name="name" > 
```

受此启发。

```
<input type="checkbox" name="name[]" >
<input type="checkbox" name="name[]" >
<input type="checkbox" name="name[]" >
<input type="checkbox" name="name[]" > 
```

我知道这可以在[CNET](http://www.cnet.com/)使用它时完成。

我想我必须通过这样的方式将此名称值转换为服务器端的数组。

```
$search= ($_GET['name']);
$array = array();
$array[] = $search;
$a= $arrry;
echo "$a"; 
```

这肯定行不通。

谁能告诉我怎么做。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:49:44.613

`[]`当然，如果没有in`name`属性，它在 PHP 中是不可能的。但是，如果您想`name`为所有复选框保持相同的名称，那么您必须使用 javascript/ [jquery](http://jquery.com/)获取选定复选框的值。然后将该逗号分隔的值字符串发送到您的 php 页面。

```
 // This is how you will get the values of selected checkboxes
   var csv = '';    
   $('input:checkbox:checked').each(function (i) {
       csv+= this.value + ',';
   });
   alert(csv); // alerts 1,2,3,4, 
```

演示：http: [//jsfiddle.net/codef0rmer/nssQZ/](http://jsfiddle.net/codef0rmer/nssQZ/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:21:52.720

您可以跟踪*onSubmit*事件。

当它被触发时（对于托管输入的表单），将每个输入的名称更改为唯一的名称（例如 name-1、name-2）或只是 name[]。

您将在服务器端获得的内容将很容易处理。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T07:23:11.393

您需要处理 QUERY_STRING(或 $HTTP_RAW_POST_DATA) 而不是访问 $_GET(或 $_POST)

示例（您需要对其进行改进，因为您不能相信数据字符串的正确格式）：

```
 $__POST=array();
 $__GET=array();
 foreach(array('POST'=>file_get_contents("php://input"),
               'GET'=>$_SERVER['QUERY_STRING']) as $k=>$v)
 {
   $vv=explode('&',$v);
   foreach($vv as $value)
   { 
    parse_str($value,$var);
    if(!isset(${'__'.$k}[key($var)]))
     {
      ${'__'.$k}[key($var)]=array(reset($var));
     }
     else
     {
      ${'__'.$k}[key($var)][]=reset($var);
     }
   }
 }
print_r(array($__GET,$__POST)); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-10T05:21:03.277

不可能。

如果您设置相同的名称（这通常是无效的标记 TOO），则只会检索最后检查的值。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-08-10T05:21:35.920

$_GET['name'] 是数组，所以如果使用想要在其中引用值，您可以使用

```
$_GET['name'][0] // return the first value 
```

或者如果您想将其转换为字符串

```
$getValue = implode(',',$_GET['name']); // return "value1,value2,value3,value4,value5" 
```

将获取**字符串格式的值**

# java - 在小数点后添加 n 个零

> ID：11895863
> 
> 赞同：3
> 
> 时间：2012-08-10T05:17:36.613
> 
> 标签：java, android

我需要将用户输入的数字精确到几位数。就像如果用户输入一些随机值并给出他想要的精度直到三位数字，那么我需要将数字四舍五入到小数点后三位。所以我做了这样的事情

```
 int index = value.indexOf('.'); 
            if (index >= 0)
            {
                String fractional = value.substring(index);

                if (fractional.length() > decimalPlaces)
                {
                    floatValue = roundOffDecimals(floatValue, decimalPlaces);
                }
            }
            retVal = new Float(floatValue); 
```

但是当用户输入一些值但不输入任何值作为小数时，我需要将其显示为带有零作为小数位数的惨淡值。就像 15 是他的号码，3 是他的准确度，那么我需要将数字显示为 15.000

当它总是改变时，我无法在小数点后显示零。请帮忙。我试过 DeciamlFormat df = new DecimalFormat("",#.##); 但取静态值。而且我的准确性一直在变化。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T05:25:25.987

您确实可以使用 NumberFormat 来执行此操作

```
double amount = 15;
NumberFormat formatter = new DecimalFormat("#0.000");
System.out.println("The Decimal Value is:"+formatter.format(amount)); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-10T05:30:48.663

您可以创建一个返回精确小数格式的方法。这是一个例子：

```
public String formatNumber(int decimals, double number) {
    StringBuilder sb = new StringBuilder(decimals + 2);
    sb.append("#.");
    for(int i = 0; i < decimals; i++) {
        sb.append("0");
    }
    return new DecimalFormat(sb.toString()).format(number);
} 
```

如果您不需要`decimals`经常更改值，则可以将方法更改为：

```
public DecimalFormat getDecimalFormat(int decimals) {
    StringBuilder sb = new StringBuilder(decimals + 2);
    sb.append("#.");
    for(int i = 0; i < decimals; i++) {
        sb.append("0");
    }
    return new DecimalFormat(sb.toString());
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-01-31T04:04:16.657

您可以使用字符串格式：

双面积 = 6

String ar = String.format("%.3f", area); ar = 6.000

# html - 无法从容器中取出页脚

> ID：11895864
> 
> 赞同：0
> 
> 时间：2012-08-10T05:17:38.417
> 
> 标签：html, wordpress, css, wordpress-theming

我正在使用星座主题 wordpress，我无法将页脚从正文中取出

即使我将代码放在正文之外，它仍将其视为正文中的代码，如何解决此类问题

存在问题的网站是[http://design3web.in/law-firm/](http://design3web.in/law-firm/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:39:09.270

这是由于您的身体标签上的填充物

```
body {
padding: 14px 36px 64px;
width: 698px;
margin:20px auto;
font-size:1.4em 
```

}

对填充进行一些调整，我觉得结构完全错误，您应该使用一些包装器并在该包装器上应用 css 而不是 body 标签。您需要从 body 标签中取出所有 css 并使用包装器并应用相同的 CSS，之后您的页脚将从该容器中出来。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:40:05.170

你不能，因为**绿色边框容器**是`body`页面的。而且您不能在正文之外显示任何 HTML 元素。你需要调整你的标记来实现这一点。

注意：您的整个 HTML 结构有问题。尽量按照**[w3c标准制作](http://www.w3.org/standards/)**

**编辑：**

**快速提示：**

`<div>`之后添加一个包装器`<body>`并将所有类的**主体**应用`home page page-id-23 page-template-default`到包装器上，如下所示：

```
<div id="wrapper" class="home page page-id-23 page-template-default"> 
```

还可以在包装器 css 上应用一些 css 规则，如下所示：

```
#wrapper {
    padding: 14px 48px 64px;
    width: 1122px;
    margin: 20px auto;
    border: 10px solid #3C8A3D;
    border-radius: 60px 60px 60px 60px;
} 
```

并将其余的 css 规则保留在正文中。

然后给你的**页脚** `<div>`一个**css规则** `position:absolute;`并相应地将它放在**包装器** `<div>`之外。

# .net - CanWrite=False 上的流正在修改缓冲区？

> ID：11895865
> 
> 赞同：1
> 
> 时间：2012-08-10T05:17:38.890
> 
> 标签：.net, encryption, stream, memorystream

我正在玩加密，我发现这会修改我的缓冲区。我没想到会这样。

如果您使用 aesbuf 查看 MemoryStream，您可以清楚地看到我将 CanWrite 设置为 false。然而 aesbuf 被修改了。我知道，因为 b1 是真的，但 b2 是假的。

哇！？这是怎么回事？

```
byte[] unencrypted_array;
var a1 = (byte[])aesbuf.Clone();
var b1 = a1.ArraysEqual(aesbuf);

using (MemoryStream ms2 = new MemoryStream(aesbuf))
using (var aes = new RijndaelManaged())
{
    using (var dec = aes.CreateDecryptor(aeskey, aesiv))
    using (MemoryStream ms = new MemoryStream(aesbuf, false))
    using (CryptoStream sr = new CryptoStream(ms, dec, CryptoStreamMode.Read))
    {
        byte[] buf = new byte[1024 * 4];
        int l;
        while ((l = sr.Read(buf, 0, buf.Length)) != 0)
        {
            ms2.Write(buf, 0, l);
        }
    }
    ms2.Flush();
    unencrypted_array = ms2.ToArray();
}
var b2 = a1.ArraysEqual(aesbuf); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:31:28.543

你有：

```
using (MemoryStream ms2 = new MemoryStream(aesbuf)) 
```

和：

```
ms2.Write(buf, 0, l); 
```

所以...您自己的代码写入用作底层缓冲区的可写`MemoryStream`对象。`aesbuf`自作自受。

# android - 读取时数据库被锁定[Android][SQLite]

> ID：11895866
> 
> 赞同：0
> 
> 时间：2012-08-10T05:17:46.490
> 
> 标签：android, sqlite

我正在尝试解决数据库锁定问题。我的应用程序在启动时下载数据并将它们写入数据库。我让一个线程在事务中进行写作。但是，当数据量很大时，写入不会那么快完成，在此期间，读取同一张表的数据会导致数据库锁定错误。有人有想法解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:25:07.507

使用同步方法可以避免 DB Locked 错误

我更喜欢你在这里使用[ContentProvider](http://developer.android.com/reference/android/content/ContentProvider.html)。

尽管它的主要目的是在应用程序之间共享，但它可以在我们的单个应用程序中使用。

如果我们使用内容提供者，就不用担心数据库的关闭和锁定。

请参阅[简单内容提供程序以进行数据库操作](http://myandroidnote.blogspot.com/2011/11/at-last-i-concluded-it-is.html)

# mfc - LoadLibrary("MSVCR90D.dll") Fail

> ID：11895870
> 
> 赞同：0
> 
> 时间：2012-08-10T05:18:39.390
> 
> 标签：mfc, dialog, loadlibrary

Oh, I don't know what's the matter with this loadlibrary("MSVCR90d.dll").

It always return 0x00000000.

Here is code.

HModule hMod = LoadLibrary("MSVCR90D.dll");

Please tell me the reason.

< I simply made MFC Application Program. >

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T10:25:23.753

Do a call to `GetLastError()` after the failure to get a little more info. It's either that your app can't find it or that a dependency of the DLL itself is not found.

Install [Dependency Walker](http://www.dependencywalker.com/) and right-click on MSVCR90D.dll to 'View Dependencies' to see if that DLL itself can load ok.

# windows-phone-7 - 如何在 Windows Phone 中获取网络浏览器的网站内容？

> ID：11895871
> 
> 赞同：0
> 
> 时间：2012-08-10T05:18:45.137
> 
> 标签：windows-phone-7, mobile, browser, windows-phone

我正在开发一个 Windows Phone 7 应用程序。我在我的应用程序中使用 webbrowser 控件。我想获取在 webbrowser 控件中加载的内容的 HTML 代码。我需要解析 HTML 内容以执行其他功能。那么如何获取在 webbrowser 控件中显示的内容的 HTML 代码？请帮忙。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-06-02T05:30:30.957

您可以使用该`SaveToString()`方法。

假设我们`WebBrowser`命名为`webBrowser1`.

```
string htmlContent=webBrowser1.SaveToString(); 
```

谢谢

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-20T11:56:44.407

您可以在 WebBrowser 控件上使用 SaveAsString() 方法，这将为您提供当前设置为源的页面的 HTML。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T07:23:18.887

您也许可以通过获取 webbrowser.Source 属性来获取 webbrowser 控件的来源。

然后，当您拥有它（源代码，网址）时，您可以使用 WebClient 下载它

有关使用 WebClient 下载 HTML 的示例，请参见此处

[如何在 C# 中下载 HTML 源代码](https://stackoverflow.com/questions/599275/how-can-i-download-html-source-in-c-sharp)

# vb.net - ComboBox SelectedValueChanged 不识别值没有改变

> ID：11895872
> 
> 赞同：1
> 
> 时间：2012-08-10T05:18:59.373
> 
> 标签：vb.net

我正在开发一个 Windows 窗体应用程序。我有一个带有 DropDownList 的 DropDownStyle 的 ComboBox。我还有一个 ListBox，它首先在表单加载时填充，然后根据选择的是前面提到的 ComboBox 使用 ComboBox 的 SelectedValueChanged 事件。我遇到的问题是，如果我连续两次在 ComboBox 中选择相同的项目，则 ListBox 中的项目正在改变。期望的结果是 ListBox 中的项目在这种情况下保持不变。我该如何解决这个问题？

```
Option Strict On
Option Explicit On
Option Infer Off

Public Class frmGameScreen

    Private Sub btnQuit_Click(sender As System.Object, e As System.EventArgs) Handles btnQuit.Click

        Me.Close()

    End Sub

    Private Sub frmGameScreen_Load(sender As Object, e As System.EventArgs) Handles Me.Load

        Dim intAstrometricProbes As Integer
        Dim intCasesOfMedicalSupplies As Integer
        Dim intCommunicationsArrays As Integer
        Dim intProvisions As Integer
        Dim intSelfSealingStemBolts As Integer
        Dim intShieldGenerators As Integer
        Dim intWarpCoils As Integer

        cboPlanets.SelectedItem = "Ferenginar"
        lblItemPrice.Text = ""

        PopulateItemList()

    End Sub

    Private Sub lstItems_SelectedValueChanged(sender As Object, e As System.EventArgs) Handles lstItems.SelectedValueChanged

        'lblItemPrice.Text = lstItems.Text
        lblItemPrice.Text = CStr(cboPlanets.SelectedIndex)

    End Sub

    Private Sub cboPlanets_SelectedValueChanged(sender As Object, e As System.EventArgs) Handles cboPlanets.SelectedValueChanged

        PopulateItemList()

    End Sub

    Sub PopulateItemList()

        Dim rndRandomNum As New Random
        Dim intDisplay As Integer

        lstItems.Items.Clear()

        intDisplay = rndRandomNum.Next(1, 11)
        If intDisplay > 5 Then
            lstItems.Items.Add("Astrometric Probes")
        End If

        intDisplay = rndRandomNum.Next(1, 11)
        If intDisplay > 5 Then
            lstItems.Items.Add("Cases of Medical Supplies")
        End If

        intDisplay = rndRandomNum.Next(1, 11)
        If intDisplay > 5 Then
            lstItems.Items.Add("Communications Arrays")
        End If

        intDisplay = rndRandomNum.Next(1, 11)
        If intDisplay > 5 Then
            lstItems.Items.Add("Provisions")
        End If

        intDisplay = rndRandomNum.Next(1, 11)
        If intDisplay > 5 Then
            lstItems.Items.Add("Self-Sealing Stem Bolts")
        End If

        intDisplay = rndRandomNum.Next(1, 11)
        If intDisplay > 5 Then
            lstItems.Items.Add("Shield Generators")
        End If

        intDisplay = rndRandomNum.Next(1, 11)
        If intDisplay > 5 Then
            lstItems.Items.Add("Warp Coils")
        End If

    End Sub

End Class 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T08:00:17.757

将当前值保存在组合框中，如果值相同则不调用 PopulateItemList

```
Private Sub cboPlanets_SelectedValueChanged(sender As Object, ......

    Dim idx As Integer = cboPlanets.SelectedIndex
    if idx <> currentItemIndex Then
         currentItemIndex = idx
         PopulateItemList() 
    End If
End Sub 
```

其中 currentItemIndex 在全局表单级别声明为

```
Dim currentItemIndex as Integer = -1 
```

# javascript - 如何在加载时清除 div 元素

> ID：11895875
> 
> 赞同：0
> 
> 时间：2012-08-10T05:19:10.093
> 
> 标签：javascript, html

我想在功能区上添加一个超链接。我能够将超链接添加到现有的 div。由于我执行的每个操作都会刷新功能区，因此超链接正在增加。

我怎样才能清除 div 并只使一个链接可用。

我正在使用以下代码：

```
var mydiv = document.getElementById("myDiv");
var aTag = document.createElement('a'); 
aTag.setAttribute('href',"yourlink.htm");  
aTag.innerHTML = "link text";
mydiv.appendChild(aTag); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:25:55.347

jQuery 有[empty()](http://api.jquery.com/empty/)函数。如果你只是使用纯 JS，你总是可以在添加标签`mydiv.innerhtml = ""`之前添加该行。`<a>`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T05:26:26.500

这可能对你有用：

```
var mydiv = document.getElementById("myDiv");
var aTag = document.createElement('a'); 
aTag.setAttribute('href',"yourlink.htm");  
aTag.innerHTML = "link text";
mydiv.innerHTML="";
mydiv.innerHTML=aTag; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T05:42:07.117

尝试这个

```
var aTag = "<a href='yourlink.htm' > </a>";
document.getElementById("myDiv").innerHtml = aTag ; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T05:23:53.123

假设**功能区**是**“myDiv”**

```
mydiv.innerHTML = "" 
```

前

```
mydiv.appendChild(aTag); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-10T05:34:45.793

```
var mydiv = document.getElementById("myDiv");
var aTag = document.createElement('a');

aTag.setAttribute('href',"yourlink.htm");
aTag.innerHTML = "link text";

if( mydiv.firstChild ){
  mydiv.replaceChild(aTag, mydiv.firstChild);
}else{
  mydiv.appendChild(aTag);
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-10T05:37:03.640

此方法不仅删除子（和其他后代）元素，还删除匹配元素集中的任何文本。这是因为，根据 DOM 规范，元素中的任何文本字符串都被视为该元素的子节点。考虑以下 HTML：

```
<div class="container">
  <div class="hello">Hello</div>
  <div class="goodbye">Goodbye</div>
</div> 
```

我们可以针对任何要删除的元素：

```
$('.hello').empty(); 
```

这将导致删除 Hello 文本的 DOM 结构：

```
<div class="container">
  <div class="hello"></div>
  <div class="goodbye">Goodbye</div>
</div> 
```

# xamarin.ios - 覆盖 SizeThatFits() 时自定义 UINavigationBar 消失 - MonoTouch

> ID：11895876
> 
> 赞同：1
> 
> 时间：2012-08-10T05:19:12.280
> 
> 标签：xamarin.ios, uinavigationbar

我正在尝试继承 UINavigationBar，并通过在 Interface Builder 中设置导航栏的类在我的 UINavigationController 中使用它。（类似于这个答案：[https](https://stackoverflow.com/a/10007896/139388) ://stackoverflow.com/a/10007896/139388 ）

当我覆盖 SizeThatFits() 时，导航栏不再出现在我的应用程序中。如果我注释掉覆盖并重新运行应用程序，导航栏会正确显示。

```
[Register ("MyNavigationBar")]
public partial class MyNavigationBar : UINavigationBar
{
    public MyNavigationBar (IntPtr handle) : base (handle)
    {
    }

    // If I comment out this method, the navigation bar appears properly
    public override SizeF SizeThatFits (SizeF size)
    {
        return base.SizeThatFits (size);
    }
} 
```

现在，我希望覆盖仅返回基本实现的方法不会修改类的行为，但我对 iOS 和 MonoTouch 不够熟悉，无法理解这是否是预期/未定义的行为，以及我能做什么关于它。

我注意到的一些事情：

*   如果我在 SizeThatFits() 上设置断点，则“size”参数为空（Width=Height=0）。

*   如果我重写 LayoutSubviews() 并在其上设置断点，那么只要 SizeThatFits() 方法被重写，Bounds 和 Frame 属性就会有有趣的高度（例如 9.035957E-33），但是当 SizeThatFits() 不是时高度是正常的（44）被覆盖。

我正在使用 MonoTouch，我的应用程序在 Xcode 中构建为 Storyboard。

任何帮助表示赞赏，谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-14T03:52:48.807

显式设置宽度对我来说失败了，但是使用超级视图的宽度值有效：

```
- (CGSize)sizeThatFits:(CGSize)size {
    return CGSizeMake(self.superview.bounds.size.width, 60.0f); 
} 
```

由于我们对 UINavigationBar 的框架或自动调整掩码没有太大影响，因此我对查询超级视图的详细信息感觉不那么粗暴——但如果有人有更好的解决方案，请分享。

# iphone - 如何在标签栏和另一个视图中添加相同的视图。可能吗

> ID：11895881
> 
> 赞同：1
> 
> 时间：2012-08-10T05:19:27.777
> 
> 标签：iphone, objective-c, ios, xcode

我正在尝试在标签栏控制器中添加两个视图。像这样..

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    UIViewController *con_view_ctrlr = [[ofi_vc_blocked_list alloc] initWithNibName:@"ofi_vc_blocked_list" bundle:nil];   // This is adding fine.
    UINavigationController *con_view_navig = [[UINavigationController alloc] initWithRootViewController:con_view_ctrlr];

    UIViewController *ab = [[ofi_vc_address_book alloc] initWithNibName:@"ofi_vc_address_book" bundle:nil];
    UINavigationController *ab_navig = [[UINavigationController alloc] initWithRootViewController:ab];

    ab_tab_bar = [[UITabBarController alloc] init];
    ab_tab_bar.viewControllers = [NSArray arrayWithObjects:ab_navig, con_view_navig, nil];
} 
```

我还没有呈现标签栏。因为我不希望标签栏最初显示。

我希望 ofi_vc_address_book 视图* ***（作为标签栏的一部分添加）* ***最初显示为另一个视图的一部分。我只在特定情况下需要那个标签栏。当我的情况出现时，我想展示ModalViewController ab_navig(ofi_vc_address_book) 与标签栏以及我之前添加的其他视图一起显示。但是我无法通过不一致的层次结构来实现它的崩溃。如何在标签栏中和其他视图的子视图中使用相同的视图？可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:45:33.590

presentModalViewController ab_tab_bar 而不是 ab_navig 如果你想展示一个带有导航视图的标签栏视图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:40:08.883

您不能将同一个视图关联到多个视图控制器。这样做的方法是复制 IB 中的视图并将其连接到第二个视图控制器，或者在代码中创建视图的另一个实例并将其设置在视图控制器上。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T08:01:24.843

标签栏控制器必须是根视图控制器。没有办法以另一种方式使用标签栏视图控制器。我只为您看到一种方式 - 在不需要标签栏的视图控制器中，您可以隐藏它。但更好的方法是查看您的应用架构。我相信你可以找到另一种更好的方法来实现你想要的。

# window - 如何在不使用动态表单或任何其他表单组件的情况下实现具有两个文本项字段和一个按钮项的智能 gwt 窗口

> ID：11895883
> 
> 赞同：1
> 
> 时间：2012-08-10T05:19:44.147
> 
> 标签：window, smartgwt, dynamicform

我正在使用智能 gwt 2.4 版。

我必须实现一个包含两个 TextItem(Smart GWT) 字段和一个 ButtonItem 的窗口（智能 GWT）。有没有一种方法可以将这些项目添加到窗口中**，而**不必为此使用动态表单或任何表单组件？在不使用表单的情况下添加这些组件似乎是不可能的。是否有可能的解决方法。如果我必须使用表单，这对我来说是一个巨大的解决方法。请帮帮我。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:12:45.170

FormItem 是用于组成表单的组件。您不能直接将它们添加为布局的成员。你为什么说“这对我来说是一个巨大的工作......”。您声明一个 DynamicForm objetc 添加到它您的 TextItem 和 ButtonItem 并将您的表单添加到您的布局就是这样。

# javascript - 如何在 Linux 中安装 node-gyp？

> ID：11895884
> 
> 赞同：15
> 
> 时间：2012-08-10T05:20:05.160
> 
> 标签：javascript, node.js

```
user@user-VirtualBox:~/express$ npm install -g node-gyp
npm http GET https://registry.npmjs.org/node-gyp
npm http 200 https://registry.npmjs.org/node-gyp
npm http GET https://registry.npmjs.org/node-gyp/-/node-gyp-0.6.3.tgz
npm http 200 https://registry.npmjs.org/node-gyp/-/node-gyp-0.6.3.tgz
npm ERR! Could not create /usr/local/lib/node_modules/___node-gyp.npm
npm ERR! error installing node-gyp@0.6.3

npm ERR! Error: EACCES, permission denied '/usr/local/lib/node_modules'
npm ERR! 
npm ERR! Please try running this command again as root/Administrator.
npm ERR! 
npm ERR! System Linux 3.2.0-23-generic
npm ERR! command "node" "/usr/bin/npm" "install" "-g" "node-gyp"
npm ERR! cwd /home/user/express
npm ERR! node -v v0.6.12
npm ERR! npm -v 1.1.4
npm ERR! path /usr/local/lib/node_modules
npm ERR! code EACCES
npm ERR! message EACCES, permission denied '/usr/local/lib/node_modules'
npm ERR! errno {}
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /home/user/express/npm-debug.log
npm not ok
user@user-VirtualBox:~/express$ 
```

我正在尝试在系统上安装 Node-gyp。我尝试在具有 linux 12.04 ubuntu 操作系统的系统上安装。

有人知道如何设置安装 node-gyp 的权限。

感谢帮助。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-01-11T08:47:39.523

`npm install -g`为所有用户安装一个包。因此，您需要管理员权限才能安装它。尝试

```
sudo npm install -g node-gyp 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-06-09T21:26:27.323

您需要管理员权限才能安装它

尝试

```
sudo -i

npm install -g node-gyp 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-05-17T06:45:45.137

你可以试试这个

```
sudo npm install -g node-gyp --allow-root --unsafe-perm 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2018-06-09T21:13:19.810

我有幸切换到 root 用户（`sudo su`, --> 密码），然后运行： `sudo npm install -g node-gyp` 然后你可以按 Ctrl+D 回到普通用户（即你）。

这可能会有所帮助。

[[编辑]]：Node-Gyp 不支持 Python 3： [https ://github.com/nodejs/node-gyp/issues/1337](https://github.com/nodejs/node-gyp/issues/1337)

我不知道为什么，因为 Python 3.0.0 大约在 10 年前发布。

# javascript - Jasmine Maven 插件，包括我使用文件协议的脚本

> ID：11895892
> 
> 赞同：5
> 
> 时间：2012-08-10T05:20:43.197
> 
> 标签：javascript, jasmine, jasmine-maven-plugin

我正在尝试将 javascript 单元测试添加到我们的项目中，并发现了[Jasmine Maven Plugin](http://searls.github.com/jasmine-maven-plugin/)。我按照指示在我的 pom.xml 中结束了这个：

```
<plugin>
    <groupId>com.github.searls</groupId>
    <artifactId>jasmine-maven-plugin</artifactId>
    <version>1.2.0.0</version>
    <extensions>true</extensions>
    <executions>
        <execution>
            <goals>
                <goal>test</goal>
            </goals>
        </execution>
    </executions>
    <configuration>
        <jsSrcDir>${project.basedir}/src/main/webapp/resources/js</jsSrcDir>
        <jsTestSrcDir>${project.basedir}/src/test/javascript</jsTestSrcDir>
    </configuration>
</plugin> 
```

我运行`mvn jasmine:bdd`并获得预期的输出。然后我去，`http://localhost:8234`我得到的只是一个空白屏幕。我查看控制台并查看我的每个 js 文件：

```
Not allowed to load local resource: file:///absolute/path/to/the/js/src/main/webapp/resources/js/myJS.js 
```

该页面的 HTML 包括我的脚本，如下所示：

```
<script type="text/javascript" src="file:/absolute/path/to/the/js/src/main/webapp/resources/js/myJS.js"></script> 
```

所以我的问题是，为什么插件使用文件协议来包含 js？这是它通常的工作方式吗？如果是这样，我如何让我的浏览器允许本地资源？有没有办法阻止它这样做？

以防万一，我在 Firefox 和 Chrome 上都试过了，我使用的是 OS X。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T15:42:07.007

我最近遇到了这个问题，问题是我的项目位于一个有空格的目录中。

这是在 Windows 上，但在 OSX 上可能是一样的，所以值得一试。

因此，例如我的项目位于这样的目录中：

`C:\directory with spaces\myproject`

将其更改为以下固定`jasmine:bdd`命令：

`C:\directorywithoutspaces\myproject`

祝你好运！

# jquery - Jquery Tablesorter插件不起作用

> ID：11895904
> 
> 赞同：0
> 
> 时间：2012-08-10T05:21:39.320
> 
> 标签：jquery

我在我的应用程序中使用 jquery tablesorter 插件对列表进行排序。我也在使用 jquery 进行验证和弹出窗口。当我使用 jquery tablesorter 时，我无法排序，并且其他一些 jquery 函数不起作用。

我收到一个错误`$("myTable").tablesorter() is not a function`。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:24:53.923

可能是冲突问题
使用 noconflict 方法

[http://api.jquery.com/jQuery.noConflict/](http://api.jquery.com/jQuery.noConflict/)

# html - 黑莓上的 HTML5 视频标签支持

> ID：11895905
> 
> 赞同：2
> 
> 时间：2012-08-10T05:21:41.353
> 
> 标签：html, html5-video

我正在为 blackberry os 7+ 设备开发一个 HTML5 应用程序，它是一个类似于 youtube 的应用程序。这里我使用 .mp4 在视频标签中播放视频，但大多数时候视频不能在设备上播放。我是使用像字幕这样的硬字幕视频已经嵌入到视频中。谁能告诉我为什么大多数视频不在设备上播放而是在 PC 上播放。

提前致谢！萨钦

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T17:06:50.573

查看这篇博文，了解有关 Blackberry 的编码建议。

[http://blog.zencoder.com/2010/09/30/how-to-encode-video-for-mobile-use/](http://blog.zencoder.com/2010/09/30/how-to-encode-video-for-mobile-use/)

# mysql - 选定 mysql 数据库的备份授予权限

> ID：11895910
> 
> 赞同：2
> 
> 时间：2012-08-10T05:22:19.410
> 
> 标签：mysql, mysqldump, database-backups, grant

我已经从托管在同一台服务器上的一堆数据库中备份了 mysql 数据库 db1。现在只需要备份具有访问 db1 权限的选定用户，以便我可以在 db1 还原之前将这些特权用户还原到我的新服务器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T01:46:39.847

StackOverflow 上已经发布了类似的问题：[Backup MySQL users](https://stackoverflow.com/questions/597732/backup-mysql-users)

要查找只能访问给定数据库的用户，请使用此查询（假设您对`INFORMATION_SCHEMA`and`mysql`数据库具有足够的权限）：

```
SELECT * FROM INFORMATION_SCHEMA.SCHEMA_PRIVILEGES WHERE TABLE_SCHEMA = 'db1'; 
```

或者

```
SELECT * FROM mysql.db WHERE db = 'db1'; 
```

此外，您可以查看用户的特定于表的权限：

```
SELECT * FROM INFORMATION_SCHEMA.TABLE_PRIVILEGES WHERE TABLE_SCHEMA = 'db1'; 
```

或者

```
SELECT * FROM mysql.tables_priv WHERE db = 'db1'; 
```

# windows-runtime - 将 WinRT toast 事件发送到 UI 线程需要手动调度吗？

> ID：11895911
> 
> 赞同：1
> 
> 时间：2012-08-10T05:22:22.903
> 
> 标签：windows-runtime, c++-cx

我有一个本机桌面应用程序（没有使用 /ZW）和一个用 /ZW 构建的 DLL。DLL 用于通过`ToastNotificationManager`.

我在 DLL 中有一个 C++/CX 类，它接收 toast 点击事件。这一切都很好；但是，这些事件是在工作线程上发生的。不知何故，我需要调用主线程。实现这一目标的最佳方法是什么？

我试过设置属性

```
[Threading(ThreadingModel::STA)]
[MarshalingBehavior(MarshalingType::Standard)] 
```

对于我的 C++/CX 类，但仍然在工作线程上调用事件。我尝试`[Platform::STAThread]`在桌面应用程序中添加到我的主要方法。我`::RoInitialize(RO_INIT_SINGLETHREADED);`在应用程序开始时尝试过。

我在这里走错路了吗？我是否需要使用类似的东西：

```
var dispatcher = Windows.UI.Core.CoreWindow.GetForCurrentThread().Dispatcher; // from UI thread
dispatcher.RunAsync // from worker thread? 
```

除了 C++/CX？

编辑：当我在我的 UI 线程上查询它时，Windows.UI.Core.CoreWindow.GetForCurrentThread() 返回 null。UI 线程是基于 MFC 的。

edit2：我一直在玩 Platform::Agile。我在主线程上设置了一个敏捷指针，指向我的 C++/CX 类，然后尝试在工作线程的事件处理程序中调用它。在 Agile.cpp 中，它看起来像是在尝试获取代理，但由于 hresult REGDB_E_IIDNOTREG 接口未注册而失败。好像我很接近了；不知何故，我需要注册我的 C++/CX 类。在普通的 COM 中，我相信这将与全局接口表有关。不知道这对 C++/CX 是如何工作的.. 它不是自动的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T14:02:22.133

您将无法从桌面应用程序使用 CoreDispatcher，它需要 CoreWindow 并且没有为桌面应用程序启用 CoreWindow。

Why not simply post a custom window message from your event handler to get back to the UI thread? Under the covers, that's all that CoreDispatcher is doing (it's also what COM does to get back to an STA window).

If you absolutely must get COM cross apartment marshaling working for your classes, you're going to have to register proxy/stub DLLs for all your interfaces. That means you need to use the WINMDIDL tool to generate an IDL file from the winmd file that's associated with your C++/CX component. You then need to run that IDL file through the MIDL tool with the /winrt command line switch. That will create a proxy/stub DLL, you can then register that proxy/stub DLL just like you'd register any other COM proxy/stub DLL.

# c# - 将选定的列表视图项与字体样式进行比较

> ID：11895916
> 
> 赞同：0
> 
> 时间：2012-08-10T05:23:02.757
> 
> 标签：c#, listview, fonts, sms

我有一个类似于收件箱的列表视图。未读消息以粗体显示，已读消息以常规字体显示。我能够以这种方式显示，但是当用户单击未读消息时，字体应更改为常规字体，因为它现在已被阅读。我正在尝试这样做，但不起作用。

```
 private void lvwMessages_MouseDoubleClick_1(object sender, MouseEventArgs e)
    {
            ListViewItem item = lvwMessages.SelectedItems;
            if(item.Font = Font.Bold)

                {
                    item.Font = new Font(item.Font, FontStyle.Regular);
                }
    } 
```

请正确程序

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:55:50.890

感谢IC。这是解决方案：

```
 ListViewItem item = lvwMessages.SelectedItems[0];
            if(item.Font.Bold)

                {
                    lvwMessages.SelectedItems[0].Font = new Font(lvwMessages.Font, FontStyle.Regular);
                } 
```

# dynamics-crm-2011 - 使用 Google 地理编码网络服务进行地理编码

> ID：11895918
> 
> 赞同：0
> 
> 时间：2012-08-10T05:23:17.650
> 
> 标签：dynamics-crm-2011, google-geocoder

我正在尝试使用 Javascript 对来自 Microsoft Dynamics CRM 2011 的地址进行地理编码。我不想显示地图，只需执行地理编码并将 Lat / Long 值存储在数据库中。我不断收到一条错误消息说

> “result.0 为空或不是对象”

```
var url = 'http://maps.googleapis.com/maps/api/geocode/json?address=39 George Street, Belmont, WA, 6104, Australia&sensor=false'

var lat = url.results[0].geometry.location.lat();

alert(lat) 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T08:13:25.473

我从您的问题中假设这是一个完整的代码片段。在这种假设下，您的代码是不完整的。您的代码创建了一个名为`url`. 然后，您尝试访问该字符串中的集合，称为`results`（不存在 - 因此该集合中的位置 0 不存在）。基本上，您的代码不执行任何操作。

您需要好好阅读 Google Geocode API，因为我很抱歉地说，您甚至还没有接近让这个工作...... [https://developers.google.com/maps/documentation/javascript/地理编码](https://developers.google.com/maps/documentation/javascript/geocoding)

编辑：为了更有帮助 - 这里也是一个演练：http: [//www.wikihow.com/Geocode-an-Address-in-Google-Maps-Javascript](http://www.wikihow.com/Geocode-an-Address-in-Google-Maps-Javascript)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T13:59:22.593

我不得不不同意 Greg ......你的请求 URL 似乎非常接近。查看[谷歌地理编码指南](https://developers.google.com/maps/documentation/geocoding/#GeocodingRequests)了解详情。您将得到一个 JSON 字符串，因此您应该使用[jQuery 之类的东西将字符串解析为 object](http://api.jquery.com/jQuery.parseJSON/)。

如果您没有设置使用 JSON，那么像这样的简单脚本也会返回 Lat/Lng（改编自[Google 示例](https://developers.google.com/maps/documentation/javascript/geocoding#GeocodingStatusCodes)）：

```
<script src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
<script>
  var geocoder;

  function initialize() {
    geocoder = new google.maps.Geocoder();
  }

  function codeAddress() {
    var address = document.getElementById("address").value;
    geocoder.geocode( { 'address': address}, function(results, status) {
      if (status == google.maps.GeocoderStatus.OK) {
        var addressLocation = results[0].geometry.location;
        alert("Lat: " + addressLocation.lat() + " Lon: " + addressLocation.lng());
      } else {
        alert("Geocode was not successful for the following reason: " + status);
      }
    });
  }

</script> 
```

# c# - 必应地图控件挂起后退导航

> ID：11895925
> 
> 赞同：2
> 
> 时间：2012-08-10T05:24:29.067
> 
> 标签：c#, windows-phone-7, bing-maps

我最近在 Bing 地图控制中遇到了奇怪的错误。简而言之，如果连接不佳并且您在地图仍在加载某些图块时按下地图页面上的硬件后退按钮，则导航过程会挂起（有时长达 10 秒甚至更多秒）。如果时间超过 3 秒，应用程序会“有点”不友好，不符合技术认证要求（5.1.3）。

要重复该错误，您可以创建具有两个页面的应用程序。第一个带有按钮导航到第二页。而第二页只有具有高 ZoomLevel 的地图控件（例如 14 以上）。应用程序启动后，您导航到第二页并将地图移动到某个未加载的区域，然后（无需等待下载完成）按下硬件返回按钮。而且您还必须以某种方式“创建不良”连接（在我的情况下，只需断开设备与计算机的连接就足够了）。

有没有人知道为什么会发生这种情况以及如何解决它？

**编辑**：在 wp7 的 Foursquare 应用程序中可以观察到相同的错误 - 如果您转到该地点在地图上全屏显示的页面，然后将地图滑入未加载的区域并按下硬件按钮返回。

似乎问题出在必应地图控件中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-09T12:22:51.520

在导航出页面之前，首先使用可见性隐藏地图控件。这样，控件将变为非活动状态，并且页面的内存消耗将减少，从而允许更快地切换页面。

# ruby-on-rails - 用斜杠将 Ruby 数组拆分为子数组

> ID：11895939
> 
> 赞同：2
> 
> 时间：2012-08-10T05:25:56.457
> 
> 标签：ruby-on-rails, ruby, arrays

我有一个数组：

```
a = [[676, "/"], [679, "/", 680, "/"], [4, "3.7", "111.55", "/"], [668, "/"], [681, "/", 682, "/"]] 
```

想要有这样的输出：

```
a = [[676], [679], [680], [4, "3.7", "111.55"], [668], [681], [682]] 
```

尝试过这样的事情：

```
a.flatten.join(",").split("/") 
```

这给出了这样的东西：

```
["676,", ",679,", ",680,", ",4,3.7,111.55,", ",668,", ",681,", ",682,"] 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T06:44:58.340

这是您需要的：

```
a.flatten.chunk { |x| x != '/' }.select(&:first).map(&:last)  
#=> [[676], [679], [680], [4, "3.7", "111.55"], [668], [681], [682]] 
```

或者：

```
a.flatten.chunk { |x| x != '/' }.map { |bool, arr| arr if bool }.compact 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T06:18:43.277

这有点乱（正如 smathy 所说的那样，这是一个令人讨厌的问题），并且可能不是很灵活地改变，但是：

```
 arr = [[676­, "/"],­ [679,­ "/", 680, "/"],­ [4, "3.7"­, "111.­55", "/"],­ [668,­ "/"],­ [681,­ "/", 682, "/"]]­
arr.i­nject([]) do |res,­ el|
  tmp = []
  el.ea­ch do |inne­r_el|
    if inner­_el == "/"
      res << tmp
      tmp = []
    else
      tmp << inner­_el
    end
  end
  res
end 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T06:35:57.113

原始数组似乎无关紧要，因此我们可以使用它`flatten`来简化`inject`：

```
a.flatten
 .inject([[]]) { |m, e| e == '/' ? m.push([]) : m.last.push(e); m }
 .reject(&:empty?) 
```

final`reject`需要从 final 中删除杂散的空数组`"/"`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-10T06:55:36.567

尝试使用

```
a.map!{|x| x.reject{|x| x=='/'}} 
```

这将工作..

# python - 为什么 DictWriter 不在我的代码中工作？

> ID：11895943
> 
> 赞同：2
> 
> 时间：2012-08-10T05:26:14.277
> 
> 标签：python, csv

借助互联网的一些帮助，我构建了一个通用函数，该函数从 csv 文件中提取特定列并将其读取到由输入**键**指定的字典中。

```
import csv
def dict_filter(it, keys):
    for d in it:
        yield dict((k, d[k]) for k in keys) 
```

`DictReader`然后我稍后调用此方法以使用and将这些列写入另一个 CSV 文件`DictWriter`：

```
fieldnames = ["_STATE", "HEIGHT", "WEIGHT", "_BMI", "AGE", "CTYCODE", "IYEAR"]
source = open("data88.csv", 'r')
reader = csv.DictReader(source) 
result = open("aggregate_data.csv", 'w') 
writer = csv.DictWriter(result, fieldnames, extrasaction='ignore') 
for d in dict_filter(reader, fieldnames):
    if d['_STATE'] == "17" : 
         writer.writerow(str(d)) 
```

这是我在终端中遇到的错误：

```
AttributeError: 'str' object has no attribute 'get' 
```

在 TextWrangler 中：

```
Traceback (most recent call last): writer.writerow(str(d)) 
```

我在整个互联网上都查看了，并没有找到任何缓解。为什么`writerow`不在我的 DictWriter 实例上工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:36:10.630

换行

```
writer.writerow(str(d)) 
```

到

```
writer.writerow(d) 
```

# c++ - 在两个不同的类中使用 Boost 互斥锁

> ID：11895947
> 
> 赞同：1
> 
> 时间：2012-08-10T05:26:34.017
> 
> 标签：c++, boost-thread, boost-mutex

我在以下方法中使用 MessageQueue 类中的 boost mutex 作为私有成员

```
 void MessageQueue::Dequeuee()
    {
Request rq(messageWareHouse.front().reqID,messageWareHouse.front().seq,
                                                        messageWareHouse.front().sMessage);
        while(true)
        {
            boost::unique_lock<boost::mutex> lock(qMutex);
            qCond.wait(lock);

    **reqCollection**.find(messageWareHouse.front().reqID)->second.addSegments(messageWareHouse.front().seq,
                messageWareHouse.front().sMessage );
                    }
    .... 
```

reqCollection 是一张地图

```
map<size_t, Request> reqCollection; 
```

当我尝试初始化互斥锁时，内部请求出现以下错误

```
class Request
{

private:

    size_t RequestID;

public:
    boost::mutex qMutex;
    Request(size_t requestID,size_t seq, std::string sMessage);
    void addSegments(size_t seq, std::string sMessage);

}; 
```

据我在谷歌[here](https://stackoverflow.com/questions/9284352/boost-mutex-strange-error-with-private-member)中搜索此错误，该问题的解决方案表示为

> 为互斥锁或包含互斥锁的类放置（智能）指针

但这是否意味着我只能通过传递指针在整个项目中使用一个互斥变量？为什么 boost 正在保护互斥锁

错误是

> 错误 7 错误 C2248：“boost::mutex::mutex”：无法访问在类“boost::mutex”中声明的私有成员

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:15:49.830

互斥体不能被复制，它是一个系统资源，所以如果你在某个被复制的类中有它，编译器生成的复制构造函数被调用，编译器生成的复制构造函数试图复制互斥体，但它的复制构造函数是私人的。因此错误。

如果您不想要资源的副本，您可能会喜欢不同的互斥体，因此您需要编写自己的复制构造函数。如果您不想复制的对象共享互斥锁，您可以使用 shared_ptr。

或者，您可能根本不想复制对象，`std::map< size_t, std::unique_ptr< Request > >`如果没有 std::unique_ptr 则可以使用 shared_ptr

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:16:01.717

如果您发布了出现此编译错误的行，那就太好了。但我强烈怀疑您正在尝试调用 boost::mutex 类的复制构造函数，该类（构造函数）是私有的。

# php - 单击按钮提交输入字段值

> ID：11895949
> 
> 赞同：4
> 
> 时间：2012-08-10T05:26:48.033
> 
> 标签：php, javascript, jquery, ajax

我正在使用一个 ajax 表单，它应该通过单击按钮提交。我见过类似的项目，但我遇到了死胡同。我遇到的问题是输入字段值在选项卡 2 中没有得到回显。我设置了一个参数`var currentTab`来指示和比较何时单击下一个选项卡。

*   单击后如何显示输入字段的值？
*   （附加）如果将来我有多个带有输入字段的选项卡并且最后一个选项卡将是值得到 php 回显的地方，那么如何调整代码？

谢谢

**AJAX/JS 函数**

```
<script>  
var currentTab = 0;
        $(function() {
            var $tabs = $('#tabs').tabs({
                disabled: [0, 1]
                , select: function() {
                    if (currentTab == 0) {
                        $.ajax({
                            type: "POST",
                            url: "tabs.php",
                            data: { "textarea": $("#textarea_input").html(),
                "title": $("#title_input").html()   
                  },
            success: function(result) {
              $("#tab-2").html(result);
            }

                    });

        }
                }
                , show: function(event, ui) {
                    currentTab = ui.index;
                }
            });

$(".ui-tabs-panel").each(function(i) {
  var totalSize = $(".ui-tabs-panel").size() - 1;
       if (i != totalSize) {
              next = i + 2;
               $(this).append("<a href='#' class='next-tab mover' rel='" + next + "'>Next Page &#187;</a>");
                }
        if (i != 0) {
              prev = i;
              $(this).append("<a href='#' class='prev-tab mover' rel='" + prev + "'>&#171; Prev Page</a>");
              }
});

$('.next-tab, .prev-tab').click(function() {
    var tabIndex = $(this).attr("rel");
    $tabs.tabs('enable', tabIndex)
    .tabs('select', tabIndex)
    .tabs("option","disabled", [0, 1]);
    return false;
            });
});
 </script> 
```

**PHP**

```
<?
if (isset($_POST['title'])){
    $title = $_POST['title']; 
    echo ('<div id="title_result"><span class="resultval"><h2>Title Echo result:</h2>'.$title.'</span></div>');
            }

if (isset($_POST['textarea'])){
    $textarea = $_POST['textarea']; 
    echo ('<div id="textarea_result"><span class="resultval"><h2>Textarea Echo result:</h2>'.$textarea.'</span></div>');
            }

?> 
```

**HTML** Tab2 是结果应该是 php 回显的地方

```
<div id="tab-1" class="ui-tabs-panel ui-tabs-hide">
        <label for="title">Title</label>
     <input type="text" id="title_input" name="title_input" size="60" autocomplete="off" value="<?=$title?>"/><br>
     <label for="textarea_input">Textarea</label>
     <textarea id="textarea_input" name="textarea_input"><?=$textarea?></textarea> 
</div>

<div id="tab-2" class="ui-tabs-panel ui-tabs-hide"> 
    <div id="title_result" style="padding:20px;"></div>
    <div id="textarea_result" style="padding:20px;"></div>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:32:23.767

几点评论：

您应该首先从 PHP 添加回显的 html，然后才能使用 $("#resultval") 从 jquery 访问它

我会解释 - 看看你的“成功”处理程序

```
 success: function(result) {
                    $('#textarea_result').html( $('#resultval', result).html());
                    $('#title_result').html( $('#resultval', result).html());
                    } 
```

代码应该是

```
 success: function(result) {
                    $('#textarea_result').html( result);
                    $('#title_result').html( result);
                    } 
```

如果有的话..但我不认为这就是你的意思。

如果你想问我 - 在 PHP 中渲染整个下一个选项卡并执行类似的操作`$("#tab2").html(result);`

评论 #2 您有 2 个相同的 ID - resultval..

评论 #3 - 您在 Ajax 中发送“textarea”和“title”，但指的是 $_POST["textarea_input"] 和 $_POST["title-input"]

注释 #4 - 您`$("#textarea-input").html()`用于获取值而不是`$("#textarea-input").val()`. 与“title_input”相同

这是我的工作版本（只需删除“头”的东西）。

这是我的 main.php -

```
<html>
<head>
    <link rel="stylesheet" type="text/css" href="/stackoverflow/public/jquery-ui-1.8.22.custom.css" media="screen" />
    <script src="/stackoverflow/public/jquery-1.7.2.min.js"></script>
    <script src="/stackoverflow/public/jquery-ui-1.8.22.custom.min.js"></script>
</head>

<body>
<div id="page-wrap">
        <div id="tabs">

            <ul>
                <li><a href="#tab-1"> TAB1</a></li>
                <li><a href="#tab-2"> TAB2</a></li>

           </ul>

<div id="tab-1" class="ui-tabs-panel ui-tabs-hide">
        <label for="title_input">Title</label>
     <input type="text" id="title_input" name="title_input" size="60" autocomplete="off" value="my title"/><br>
     <label for="textarea-input">Textarea</label>
     <textarea id="textarea-input" name="textarea-input"></textarea> 
</div>

<div id="tab-2" class="ui-tabs-panel ui-tabs-hide"> 

</div>          

        </div>

 </div>

<script>  
var currentTab = 0;
        $(function() {
            var $tabs = $('#tabs').tabs({
                disabled: [0, 1]
                , select: function() {
                    console.log("selecting a new tab " + currentTab);
                    if (currentTab == 0) {
                        $.ajax({
                            type: "POST",
                            url: "tabs.php",
                            data: { "textarea": $("#textarea-input").val(),
                    "title": $("#title_input").val()
                   },
                success: function(result) {
                        $("#tab-2").html(result);

                    }       
                        });

        }
                }
                , show: function(event, ui) {
                    currentTab = ui.index;
                }
            });

$(".ui-tabs-panel").each(function(i) {
  var totalSize = $(".ui-tabs-panel").size() - 1;
       if (i != totalSize) {
              next = i + 2;
               $(this).append("<a href='#' class='next-tab mover' rel='" + next + "'>Next Page &#187;</a>");
                }
        if (i != 0) {
              prev = i;
              $(this).append("<a href='#' class='prev-tab mover' rel='" + prev + "'>&#171; Prev Page</a>");
              }
});

$('.next-tab, .prev-tab').click(function() {
    var tabIndex = $(this).attr("rel");
    $tabs.tabs('enable', tabIndex)
    .tabs('select', tabIndex)
    .tabs("option","disabled", [0, 1]);
    return false;
            });
});
 </script>

 </body>
 </html> 
```

这是我的“tabs.php”

我的工作示例可以在[我的网站上找到](http://www.mograbi.info/stackoverflow/main.html)

```
<?php
    echo "This is the result are you ready?";
if (isset($_POST['title'])){
    $title = $_POST['title']; 
    echo ('<div id="title_result"><span id="resultval"><h2>Title Echo result:</h2>'.$title.'</span></div>');
            }
            else{
                echo "title_input is not defined!";
            }

if (isset($_POST['textarea'])){
    $textarea = $_POST['textarea']; 
    echo ('<div id="textarea_result"><span id="resultval"><h2>Textarea Echo result:</h2>'.$textarea.'</span></div>');
                       }
?> 
```

让我知道是否还有其他事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T05:36:21.427

您可能希望首先清理您的 HTML 并正确使用 PHP……您的 HTML 选项卡 2 应该是：

```
<div id="tab-1" class="ui-tabs-panel ui-tabs-hide">
        <label for="title">Title</label>
     <input type="text" id="title_input" name="title_input" size="60" autocomplete="off" value="<?=$title?>"/><br>
     <label for="textarea-input">Textarea</label>
     <textarea id="textarea-input" name="textarea-input"><?=$textarea?></textarea> 
</div>

<div id="tab-2" class="ui-tabs-panel ui-tabs-hide"> 
    <div id="title_result" style="padding:20px;"></div>
    <div id="textarea_result" style="padding:20px;"></div>
</div> 
```

您在 title_input 名称之后有一个额外的引号，并且当您想吐出 PHP 代码而没有回显时，请像这样使用它：

```
<?=$title?> 
```

顺便说一句，你的 php 中有额外的脏代码......这个：

```
if (isset($_POST['title_input"'])){
    $title = $_POST['title_input"']; 
    echo ('<div id="title_result"><span id="resultval"><h2>Title Echo result:</h2>'.$title.'</span></div>');
} 
```

应该：

```
if (isset($_POST['title_input'])){
    $title = $_POST['title_input"']; 
    echo ('<div id="title_result"><span id="resultval"><h2>Title Echo result:</h2>'.$title.'</span></div>');
} 
```

你在这里的 php 中有一个额外的报价：

```
$_POST['title_input"'] 
```

通过并清理您的代码

# android - 使用以 URL 结尾的意图打开浏览器 .jhtml 强制关闭

> ID：11895950
> 
> 赞同：0
> 
> 时间：2012-08-10T05:27:01.257
> 
> 标签：android, android-intent

我一直在强制关闭以 .jhtml 结尾的打开 URL 示例 URL： [http ://www.mtv.com/news/articles/1691428/beck-hansens-song-reader-sheet-music-album.jhtml](http://www.mtv.com/news/articles/1691428/beck-hansens-song-reader-sheet-music-album.jhtml)

错误：0android.content.ActivityNotFoundException：未找到处理 Intent { act=android.intent.action.VIEW dat= 的活动

我想不出一个体面的解决方法。有什么建议么？

干杯，Zed

-edit- 这是代码：

```
getContext().startActivity(new Intent(Intent.ACTION_VIEW, uri)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:41:41.270

使用此代码在我的模拟器上工作正常。

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    String url = "http://www.mtv.com/news/articles/1691428/beck-hansens-song-reader-sheet-music-album.jhtml";
    Intent i = new Intent(Intent.ACTION_VIEW);
    i.setData(Uri.parse(url));
    startActivity(i);
} 
```

有截图 -

![截屏](../Images/0aea73fdcce6d5a08df9475675189155.png)

而且，不要忘记包含权限

```
<uses-permission android:name="android.permission.INTERNET"/> 
```

试试上面的步骤。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:08:09.697

试试这个

```
Uri uri = Uri.parse("http://www.mtv.com/news/articles/1691428/beck-hansens-song-reader-sheet-music-album.jhtml");
Intent intent = new Intent(Intent.ACTION_VIEW, uri);
startActivity(intent); 
```

希望帮助

# database - 无法在 App Harbor 上部署数据库

> ID：11895953
> 
> 赞同：1
> 
> 时间：2012-08-10T05:27:15.623
> 
> 标签：database, deployment, appharbor

我正在尝试部署一个在 App Harbor 上出现以下构建错误的实例

```
Build FAILED.

"D:\temp\gcp22bmp.ggi\input\src\ShareBill.sln" (default target) (1) ->
"D:\temp\gcp22bmp.ggi\input\src\Sharebill.Database\Sharebill.Database.dbproj" (default target) (5) ->
  D:\temp\gcp22bmp.ggi\input\src\packages\TeamData\Microsoft.Data.Schema.SqlTasks.targets(5,3): error MSB4019: The imported project "C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v10.0\TeamData\Microsoft.Data.Schema.TSqlTasks.targets" was not found. Confirm that the path in the <Import> declaration is correct, and that the file exists on disk. [D:\temp\gcp22bmp.ggi\input\src\Sharebill.Database\Sharebill.Database.dbproj]

    0 Warning(s)
    1 Error(s) 
```

我知道这是因为这里通常存在的 sql 目标 - C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v10.0\TeamData

部署服务器上不存在。

我现在应该如何部署数据库？有没有其他方法来部署数据库。我没有在 EF 中首先使用代码，但我仍然希望自动应用数据库迁移。

我假设如果我让 db 项目运行，它会自动找到架构差异并将更改应用于数据库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-15T19:07:33.547

我在 AppHarbor 上托管了一个项目，并使用[FluentMigrator](https://github.com/schambers/fluentmigrator)来部署我的数据库更改。

实现起来真的很容易，只要按照[文档](https://github.com/schambers/fluentmigrator/wiki)就可以使用他们的流利的接口，甚至只是用它来执行sql。

例如，我从 Global.asax.cs 的 Application_Start 运行以下命令 - 只需将迁移放在与 NOP MigrationMarker 类相同的程序集中：

```
 const string connectionString = @"Data Source=localhost, 1433;Initial Catalog=testdb;Integrated Security=SSPI;";
        Announcer announcer = new TextWriterAnnouncer(s => System.Diagnostics.Debug.WriteLine(s));
        announcer.ShowSql = true;

        var assembly = Assembly.GetAssembly(typeof(MigrationMarker));
        var migrationContext = new RunnerContext(announcer);

        var options = new ProcessorOptions
                          {
                              PreviewOnly = false, // set to true to see the SQL
                              Timeout = 60
                          };

        var factory = new SqlServer2008ProcessorFactory();
        var processor = factory.Create(connectionString, announcer, options);
        var runner = new MigrationRunner(assembly, migrationContext, processor);

        runner.MigrateUp(true); 
```

# iphone - 阻止视图消失

> ID：11895956
> 
> 赞同：4
> 
> 时间：2012-08-10T05:27:39.850
> 
> 标签：iphone, ios, cocoa, ios5, xcode4.3

我通过在其表视图单元格上的推送从另一个视图控制器启动一个视图控制器。现在在第二个视图控制器上，我有一大堆控件，主要是测试字段。我想使用第二个视图控制器中提供的默认后退按钮，因此它将成为第一个视图控制器的标题并记住就像我说的默认一样，所以我不想创建自己的后退按钮在第二个视图控制器上。所以想检测第二个视图控制器是否正在退出或消失或将消失，并根据某些条件阻止它返回到原始调用者视图控制器。我最初认为它可以在这里完成：

```
-(void) viewWillDisappear:(BOOL)animated {
    if ([self.navigationController.viewControllers indexOfObject:self]==NSNotFound) 
    {
        // So back button was pressed on the second view controller, so how do I stop it
        // here from going back to the original view controller. 
    }
} 
```

或者我该怎么做？我似乎找不到视图控制器返回类型的 BOOL 方法来调用和停止它。

谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-10T05:33:59.617

请注意，该方法称为 viewWillDisappear，而不是 viewShouldDisappear，因此 Apple 不会让您阻止视图在此时消失。从用户的角度来看，按下后退按钮确实应该让他们回来。相反，您可以考虑在不允许的情况下隐藏后退按钮。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-23T13:28:51.933

您不能阻止视图控制器关闭，但是您可以模拟它。

此行将用调用自制函数的按钮替换关闭按钮

```
self.navigationItem.leftBarButtonItem = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemCancel target:self action:@selector(closeBtn)]; 
```

因此，您可以根据需要关闭视图：

```
- (void) closeBtn
{
    bool shouldClose=true;
    // Your conditions here
    if (shouldClose) [self dismissViewControllerAnimated:YES completion:nil];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T05:57:02.750

制作一个自定义后退按钮并使用`self.navigationItem.hidesBackButton=YES` 将目标添加到您的自定义后退按钮并根据需要使用它。当您想移动视图时，您可以使用`[self.navigationController popViewcontroller]`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T05:35:55.777

对不起，我的英文不好，所以阅读这么长的文字对我来说有点困难。我只能得到你想在没有按钮的情况下返回。我知道 navigationController 有一种方法可以返回到前一个视图。

# jquery - 播放后淡出html5视频对象

> ID：11895958
> 
> 赞同：7
> 
> 时间：2012-08-10T05:27:49.770
> 
> 标签：jquery, html, video, html5-video

我有一个登录页面，我想做的就是在对象播放完毕后淡出对象以显示下面的背景。使用 jQuery 或任何其他方法淡出 the`<video>`或标签都可以。`<div>`

```
<div id="video">
<video width="100%" height="auto" autoplay="autoplay">
  <source src="monarch.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
  <source src="monarch.ogv" type='video/ogg; codecs="theora, vorbis"'>
</video>
</div> 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-10T05:30:39.027

尝试以下操作：

```
$('#video video').bind('ended', function(){
   $(this).parent().fadeOut()
}) 
```

# c# - 在 x64 中使用“新 oracleConnection”时出现 NullReferenceException？

> ID：11895960
> 
> 赞同：0
> 
> 时间：2012-08-10T05:28:47.340
> 
> 标签：c#, oracle, nullreferenceexception

我用的是vs2008 .NET framework3.5 Oracle10g

获取该行的此错误

```
conn=new oracleConnection(oraString); 
```

相同的代码适用于 WinXp 和 win7（32 位）不适用于 win7（64 位）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:36:47.527

转到菜单**项目**> yourProject**属性**>**构建**> 将**平台**目标更改为 x64

也许它有效；

# ads - 广告和应用程序自动显示在主屏幕上或作为消息指示器

> ID：11895963
> 
> 赞同：0
> 
> 时间：2012-08-10T05:29:08.273
> 
> 标签：ads

为什么我的主屏幕上时不时会弹出诸如 badoo 或随机游戏和应用程序之类的程序？

为什么有时我的绿色指示灯会显示一些添加的绿色加号？

我是否无意中同意了这一点？

我怎样才能永久停止它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:49:51.727

什么主屏幕？iPhone、Android、PC、浏览器、特定网站？

# javascript - Ext JS 网格中的分页

> ID：11895964
> 
> 赞同：0
> 
> 时间：2012-08-10T05:29:13.520
> 
> 标签：javascript, extjs, extjs3

我必须创建一个带有分页的网格。存储所需的 json 数据将进入 ajax 调用。在这里，我创建了 store，它加载了从 ajax 调用返回的数据。但是显示所有数据的网格返回。我必须将每页限制为 5 个。

我尝试了以下代码，

```
 var store= new Ext.data.JsonStore({
        autoLoad    : {params: {start: 0, limit: 5}},
        totalProperty   : recordCount,
        sortInfo    : { field: "POS", direction: "ASC" },
        idProperty  : 'POS',
        data        : {},
        fields      : [
                        {'name' : 'POS'},
                        {'name' : 'NUM'}, 
                        {'name' : 'TIT'},
                        {'name' : 'MEN'},
                        {'name' : 'EIH'},
                        {'name' : 'WAE'},
                        {'name' : 'PRI'},
                        {'name' : 'LIF'}], 

    });

    var adrConn = $.getJSON('ajax.cfm', $.extend(test, {
        }), function(r) {   
            activeData = r.DATA;
            store.loadData(activeData);
            }
    );

    var grid = new Ext.grid.GridPanel({
          title         : '&raquo; test',
          applyTo       : 'panel',
          width         : 1000,
          loadMask      : false,
          autoHeight    : true,
          viewConfig    : {
                emptyText   : 'No data to display'
          },             
          tbar          : mainGridToolbar,
          bbar          : new Ext.PagingToolbar({
                  store         : store,
                  displayInfo   : true  
          }),
          store         : store,
          columns: [
                {header: "1", width : 50, dataIndex: 'POS', sortable: true},
                {header: "2", dataIndex: 'NUM', sortable: true},
                {header: "3", dataIndex: 'TIT', sortable: true},
                {header: "4", dataIndex: 'MEN', sortable: true},
                {header: "5", dataIndex: 'EIH', sortable: true},
                {header: "6", dataIndex: 'WAE', sortable: true},
                {header: "7", dataIndex: 'PRI', sortable: true},
                {header: "8", dataIndex: 'LIF', sortable: true}
          ]
      }); 
```

任何帮助都必须感谢...谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-17T14:06:39.673

通过使用 PagingToolbar ，您可以将网格大小限制为 5 在该工具栏中，您可以像这样声明网格

```
 pageSize: 5, 
```

PagingToolbar 的示例在[这里](http://dev.sencha.com/deploy/ext-3.4.0/examples/grid/paging.html)！

希望这可以帮助你......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:19:53.800

您还需要在后端处理分页。这可能就是你得到所有记录的原因。ExtJS 只是将参数发送到您的后端并期望它会返回正确的记录。

在 MySQL 中（offset = start，limit = limit，您的页面将在此处为 1）：

```
SELECT column FROM table
OFFSET 0 LIMIT 5 
```

# ios - 为什么在单独的线程中使用异步 HTTP 请求而不是同步 HTTP？

> ID：11895965
> 
> 赞同：8
> 
> 时间：2012-08-10T05:29:13.547
> 
> 标签：ios, concurrency, nsurlconnection, grand-central-dispatch

**我知道每个工作方式之间的区别，但我想从性能角度了解（iphone 内的资源）。**

假设我发送了一个异步请求并等待调用委托。这不会锁定我的执行线程。但是这样做与在另一个线程中使用 GCD 发送同步请求有什么区别。

像这样：

```
dispatch_queue_t findPicsQueue;

findPicsQueue = dispatch_queue_create("FindPicsQueue", NULL);

dispatch_async(findPicsQueue, ^{

    NSData *theResponse = [NSURLConnection sendSynchronousRequest:theRequest
                                                        returningResponse:&response
                                                                    error:&error];

    NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse*)response;

    if (error) {
       NSLog(@"Error: %@",error)
    }

    if (httpResponse.statusCode == 200) 
    {
        [self parseXMLFile:theResponse]; // Parses Data and modifies picturesFound

        for (PictureData *tmp in picturesFound) {
            NSLog(@"%@",tmp);
        }          
    }  
} 
```

它不会锁定我的界面，因为它没有在主线程中执行，但它会锁定这个特定的线程。而且我还认为 GCD 会同时运行队列。

提前致谢。我真的很想澄清这个问题。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T05:41:32.577

如果使用`NSURLConnection`with `sendAsynchronousRequest`，那么几乎所有处理都在主线程上进行，特别是 XML 解析将在主线程上完成。但是，您的代码示例使用不同的线程进行处理。

如果您的 iPhone 或 iPad 处理器具有两个内核，则这种差异是相关的。然后 XML 解析可以与主线程上的一些 UI 活动并行运行（在您的示例中）。`sendAsynchronousRequest`因此与在主线程上运行所有内容（方法）相比，它可以更早地完成。

对于只有一个内核的旧设备，一次只能运行一个线程，这两种方法的行为应该几乎相同。

# java - getnumberinstance 无法解析为类型

> ID：11895967
> 
> 赞同：0
> 
> 时间：2012-08-10T05:29:21.363
> 
> 标签：java, decimal

我有一个程序，我尝试更改我的双精度数的小数位数。我有一本书告诉我做 import java.text.* 然后这个：

```
NumberFormat nf = new NumberFormat.getNumberInstance();
nf.setMaximumFractionDigits(1); 
```

但在第一行我收到错误“NumberFormat.getNumberInstance() 无法解析为类型”。为什么我做不到？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:36:32.237

你的问题在这里：`NumberFormat nf = new NumberFormat.getNumberInstance();`。您需要`new`从那里删除关键字才能得到这个：`NumberFormat nf = NumberFormat.getNumberInstance();`。您正在访问一个`static`方法，您不需要`new`这里。

# java - android - 为什么我的editText 不显示？

> ID：11895968
> 
> 赞同：1
> 
> 时间：2012-08-10T05:29:36.410
> 
> 标签：java, android, xml

大家好，这里需要帮助。

我不明白为什么我的 editText 没有出现。令我感到困惑的是，我可以在我的日食中看到 editText 的轮廓。

这是我的代码：

**`activity_main.xml`**

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" 
android:orientation="horizontal" >

<Button
    android:id="@+id/buttonTESTER1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="@string/btnTester1_text" 
/>

<EditText
    android:id="@+id/editTextTESTER1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:hint="@string/editTextHINT1"
    android:inputType="text"
/>

</LinearLayout> 
```

**`strings.xml`**

```
<resources>

<string name="app_name">Android Tutorial</string>
<string name="hello_world">Hello world!</string>
<string name="menu_settings">Settings</string>
<string name="title_activity_main">MainActivity</string>
<string name="btnTester1_text">BUTTON TESTER</string>
<string name="editTextTester1_text">BUTTON TESTER</string>
<string name="editTextHINT1">Test</string>

</resources> 
```

我是 android 的绝对菜鸟，所以请耐心等待。请指出我做错了什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T05:31:55.827

因为您已经传入 `android:layout_width="fill_parent"`了按钮，并且它占据了屏幕的整个宽度。要么将`android:orientation="horizontal"`属性更改`LinearLayout`为垂直，要么更改`android:layout_width="fill_parent"`为`wrap_content`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:45:28.753

让我想想你到底想做什么？

```
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" 
    android:orientation="vertical" >

    <LinearLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content" 
    android:orientation="horizontal" >
    <Button
        android:id="@+id/buttonTESTER1"
        android:layout_width="100dp"
        android:layout_height="wrap_content"
        android:text="@string/btnTester1_text" 
    />

    <EditText
        android:id="@+id/editTextTESTER1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:hint="@string/editTextHINT1"
        android:inputType="text"
    />

    </LinearLayout>
    </LinearLayout> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T05:32:05.670

尝试这个。

将 LinearLayout 的方向更改为“垂直”。然后它们将垂直对齐。发生这种情况是因为您在 Button 中设置 layout_width="fill_parent" 将填充整个父级，因此不会显示您的 EditText 框。

# jsf-2 - @RolesAllowed、@DenyAll 在 Web 层中的使用？

> ID：11895970
> 
> 赞同：3
> 
> 时间：2012-08-10T05:29:53.910
> 
> 标签：jsf-2, java-ee-6, jsr250

我正在查看 Java EE 6 规范部分 EE.6.25，它表明 Web 容器必须支持以下注释：@PermitAll、@DenyAll、@RolesAllowed、@DeclareRoles 和 @RunAs。

**EE.6.25 Java™ 平台 1.1 要求的通用注释**

*Common Annotations 规范定义了被其他几个规范（包括本规范）使用的 Java 语言注释。使用这些注解的规范完全定义了这些注解的要求。小程序容器不需要支持任何这些注释。所有其他容器必须为所有这些注解提供定义，并且必须支持这些注解的语义，如相应规范中所述并总结在下表中。*

**表 EE.6-5 容器支持的常用注解**

```

注释应用程序客户端 Web EJB

资源 YYY
资源 YYY
PostConstruct YYY
预销毁 YYY
生成的NNN
RunAs NYY
DeclareRoles NYY
RolesAllowed NYY
允许所有纽约年
拒绝所有纽约

```

在规范中再往下一点，它说，*“......现在需要 Web 容器支持 RolesAllowed、PermitAll 和 DenyAll 注释。Servlet 规范和 JAX-RS 规范包含详细信息。”*

它没有提到 JSF 规范，所以我假设这些注释不能用于托管 bean。为什么不？

除了在 web.xml 中使用页面级声明性安全性之外，如何在 Web 层对非 servlet 或过滤器的对象实施诸如授权之类的横切关注点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-11T21:47:27.047

...答案是... EJB 是 CDI 托管 bean。要在托管 bean 上使用 @RolesAllowed，只需将其转换为 EJB 即可。这是一个用作支持 bean 的 EJB[示例！](http://www.adam-bien.com/roller/abien/entry/ejb_3_1_killed_the "EJB 3.1 杀死了支持 Bean 或 JSF 2、EJB 3.1、JSR-330 - 完美的协同作用")

# c# - 将委托实例添加到 Component.Events (EventHandlerList) 有什么好处？

> ID：11895971
> 
> 赞同：8
> 
> 时间：2012-08-10T05:30:05.690
> 
> 标签：c#, winforms

在从组件派生的类中，我有时会看到声明如下的事件：

```
private static readonly object LoadEvent = new object();
public event EventHandler<MyEventArgs> Load
{
    add { Events.AddHandler(LoadEvent, value); }
    remove { Events.RemoveHandler(LoadEvent, value); }
}

protected virtual void OnLoad(MyEventArg e)
{
    var evnt = (EventHandler<MyEventArg>)Events[LoadEvent];
    if (evnt != null) 
        evnt(this, e);
} 
```

而不仅仅是：

```
public event EventHandler<MyEventArgs> Load;

protected virtual void OnLoad(MyEvent e)
{
   if (Load != null)
       Load(this, e);
} 
```

我很想重构以使用更短的方法，但如果使用我缺少的 Component EventHanderList 有一些优势，我会犹豫不决。

我目前能想到的唯一优点是：

*   当组件被释放时，EventHandlerList 中的所有项目都会被移除，从而有效地自动解除事件处理程序的挂钩。
*   由于所有附加的委托都进入了单个 EventHandlerList，因此内存碎片可能更少。

还有别的事吗？

（这**不是**关于在事件上显式添加 + 删除的一般使用的问题。）

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-10T05:35:38.710

这适用于**稀疏**事件。UI 控件往往有几十个（有时超过 100 个）事件。如果每个事件都使用类似字段的事件，那么**每个事件都**需要一个参考支持字段。对于 100 个事件，即 x86 上的 400 字节或 x64 上的 800 字节，***即使没有订阅单个事件***。

例如，**在您添加**`System.Windows.Forms.Form`任何. 每个实例*至少有*69 个。**`Control`**

 ***所以; 带有一些标签、输入框和按钮的 Windows 表单很容易有额外的 2000 个参考字段（x86 上为 16k）*，其中大部分是什么都不做*。

这`EventHandlerList`本质上是一个键/值查找，这意味着如果只订阅 3 个事件（我在想“点击”，也许还有其他几个），那么只需要名义上的内存量。***

# android - 我们可以在 Android 中为 mapView.region.span.latitudeDelta 使用什么？

> ID：11895972
> 
> 赞同：0
> 
> 时间：2012-08-10T05:30:09.943
> 
> 标签：android

我们可以在 Android 中为 mapView.region.span.latitudeDelta 使用什么？它在 ios 中使用，我必须在 Android 中使用它的等价物。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:46:41.537

mapView.getLatitudeSpan() 以十进制度数乘以一百万返回当前纬度范围（从地图的顶部边缘到底部边缘）。

[https://developers.google.com/maps/documentation/android/reference/](https://developers.google.com/maps/documentation/android/reference/)

# ruby - 使用机械化单击图像

> ID：11895973
> 
> 赞同：0
> 
> 时间：2012-08-10T05:30:11.860
> 
> 标签：ruby, ruby-on-rails-3, screen-scraping, mechanize

用 mechainze点击文本`agent.click(page.link_with(:text => 'some_text')`是小菜一碟。如何使用机械化单击图像？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T08:10:01.497

单击纯 HTML 图像通常不会产生任何影响。如果图像有`onclick`处理程序，您将无法使用 Mechanize 单击它，因为它不支持 javascript。

您可能希望将 Capybara 之类的东西与 Webkit、PhantomJS 或 Selenium 驱动程序一起使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T11:43:08.410

这是相当相似的。您只需要获取图像的属性之一。看看下面..：

`agent.click(page.image_with(:alt=> 'your image')`

# ruby - 如何在 svn_wc 中使用 ruby 访问 svn repo

> ID：11895975
> 
> 赞同：0
> 
> 时间：2012-08-10T05:30:28.557
> 
> 标签：ruby, svn, rubygems

我正在使用 svn_wc。它给出了错误，因为没有加载这样的文件——svn/core (LoadError) 怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-07-10T00:59:40.463

上面的答案是仅链接的答案，当链接失效时可能会变得无用。在这里转储链接内容 -

Windows 上的 SVN 1.5.1 / Ruby 绑定而不是搞乱编译 swig 绑定等：

```
Download the ruby bindings from the svn site: (http://subversion.tigris.org/files/documents/15/43245/svn-win32-1.5.1_rb.zip)

From the zip - copy ruby\lib\svn into c:\ruby\lib\ruby\site_ruby\1.8\svn

From the zip – copy ruby\ext\svn\ext into c:\ruby\lib\ruby\site_ruby\1.8\svn\ext

copy libeay32.dll and ssleay32.dll from your subversion 1.5 directory into c:\ruby\bin

run irb and test with: require ‘svn/core’ 
```

> 我在哪里可以找到更新的二进制文件？我在 Subversion 网站上四处查看，但似乎没有链接。
> 
> 它们在 subversion 站点上可用：svn-win32-1.5.5_rb.zip 如果您转到 subversion 站点并选择 apache 2.2 的 windows 二进制文件，您将看到列表。
> 
> 我只是重写了我的 ruby​​ 1.8.6 安装附带的两个 DLL 文件（libeay32 和 ssleay32）以及我的 svn 1.5.5 安装附带的两个文件。（是的，我保存了原件。）这是通过“require 'svn/core'”测试所必需的，但这可能会破坏 ruby​​ 中的某些内容吗？
> 
> 嘿 Ramon，我希望不会，但你永远不知道 :) dll 是 OpenSSL 库，所以如果你在 ruby​​ 中使用任何与 ssl 相关的功能时看到任何奇怪的行为，那可能是罪魁祸首

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T13:37:48.753

Ruby 在您的安装中找不到 svn/core，如果您查看[svn_wc](https://github.com/dvwright/svn_wc)的 github 页面，要求列出如下：

> 需要安装 Subversion (SWIG) Ruby 绑定

这在 Linux 和 OSX 上比在[Windows上容易得多](http://danintouch.blogspot.com/2008/08/svn-151-ruby-bindings-on-windows.html)

# wpf - ContextMenu 未绑定到 datagrid WPF

> ID：11895980
> 
> 赞同：0
> 
> 时间：2012-08-10T05:30:54.190
> 
> 标签：wpf

> 我有一个绑定到视图模型的数据网格，在数据网格上我有一个上下文菜单，我试图做出一个不起作用的命令行为。

```
<DataGrid Margin="5,0,0,0">
<DataGrid.Resources>
    <Style TargetType="{x:Type DataGridColumnHeader}">
       <Setter Property="ContextMenu">
         <Setter.Value>
            <ContextMenu>
                <MenuItem Header="Column1"></MenuItem>
                <MenuItem Header="Column2" Command="{Binding ShowEditColumnWindow}"></MenuItem>
            </ContextMenu>
      </Setter.Value>
      </Setter> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:35:03.080

尝试使用此代码，添加路径

```
 <MenuItem Header="Column2" Command="{Binding Path=ShowEditColumnWindow}"/> 
```

# java - 如何在 doxygen 文档中获取 \s\p？

> ID：11895981
> 
> 赞同：0
> 
> 时间：2012-08-10T05:31:25.297
> 
> 标签：java, doxygen

我想包含`\s\p`在 doxygen 生成的最终文档中。下面是来自 Java 文件的示例注释块：

```
/**
 * @section Sample sample
 * Need to use \s\p in the file.
 *
 */ 
```

并且生成的文档应该为`Need to use \s\p in the file.`但是，当我运行 doxygen 时，它替换了`\s\p`with`<computeruotput/>`并且 doxygen XML 输出中的结果是`Need to use <computeruotput/> in the file.`如何获得`\s\p`最终输出而不是`<computeruotput/>`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:22:57.640

这是因为反斜杠`\`表示[doxygen 中的特殊命令](http://www.doxygen.nl/manual/commands.html)。`\p`例如用于使用打字机字体格式化文本。要进入`\s\p`您的输出，请尝试使用，即用两个.`\\s\\p`替换单个反斜杠。是 doxygen 中的一个特殊命令，它只打印一个.`\``\\`[`\\`](http://www.doxygen.nl/manual/commands.html#cmdbackslash)`\`

# c++ - C++：比较可变参数 unsigned int 模板参数的助手

> ID：11895984
> 
> 赞同：0
> 
> 时间：2012-08-10T05:31:29.327
> 
> 标签：c++, c++11, helpers, variadic-templates

在一个混合了 CRTP、可变参数模板、元编程和运算符重载的类中，我想比较两个可变参数 unsigned int 模板参数以进行一些静态断言。我认为辅助结构将是做到这一点的好方法，但我不知道该怎么做。我想到了一些形式：

```
template<unsigned int... TDIM, unsigned int... TDIM0> struct HelperCheckDimensions
{
    static const bool ok = /* SOMETHING */
}; 
```

where`TDIM`和`TDIM0`是我要比较的两个参数。它允许我输入：

```
static_assert(HelperCheckDimensions<TDIM..., TDIM0...>::ok, "ERROR : Dimensions are different !"); 
```

我希望结果只有在`sizeof...(TDIM)==sizeof...(TDIM0)`AND时才为真`TDIM[0] == TDIM0[0], TDIM[1] == TDIM0[1], ..., TDIM[n] == TDIM0[n]`。

怎么做 ？

非常感谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T05:52:31.070

我会说这种形式的类 variadic-template 没有意义：

```
template<unsigned int... TDIM, unsigned int... TDIM0> 
struct HelperCheckDimensions
{
    //..
}; 
```

这没有意义，因为如果我写这个：

```
HelperCheckDimensions<1,2,3,4,5,6> z; 
```

那么应该是什么`TDIM`？`TDIM0`编译器应该如何对参数进行分区？

它是否正确：

```
TDIM = (1,2)
TDIM0 = (3,4,5,6) 
```

或者这是正确的：

```
TDIM = (1)
TDIM0 = (2,3,4,5,6) 
```

或这个：

```
TDIM = (1,2,3,4)
TDIM0 = (5,6) 
```

希望这有助于为什么它没有意义。

* * *

从您的评论中：

> 很好的一点！但我的问题仍然悬而未决......也许某种形式的东西`template<unsigned int... TDIM, typename TFAKE, unsigned int... TDIM0>`会起作用？什么是最好的解决方案？

那么标准不允许此表单的模板定义：

```
template<unsigned int... TDIM, typename TFAKE, unsigned int... TDIM0> 
```

我不知道标准为什么不允许它，即使它对我来说是有意义的，至少在这种情况下（也许它给语言增加了不值得的复杂性）。根据标准，*模板参数包*必须是模板定义的*最后一个*参数。

如果您在 GCC 中编译上述代码，则会出现以下错误：

> 错误：参数包“TDIM”必须位于模板参数列表的末尾

希望有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:10:35.840

初级类模板不能有两个参数包，你需要使用一些包包装器

```
template<unsigned int...T> struct intPack;
template<typename T, typename Y> struct HelperCheckDimensions;

template<unsigned int lhs, unsigned int...T, unsigned int rhs, unsigned int...Y> struct HelperCheckDimensions<intPack<lhs,T...>, intPack<rhs, Y...>>
{
static const bool value = lhs==rhs && HelperCheckDimensions<intPack<T...>, intPack<Y...>>::value;
};
template<unsigned int lhs, unsigned int rhs> struct HelperCheckDimensions<intPack<lhs>, intPack<rhs>>
{
static const bool value = lhs==rhs;
}; 
```

测试： http: [//liveworkspace.org/code/200e10548f3fc589f39401ca0b22e7c8](http://liveworkspace.org/code/200e10548f3fc589f39401ca0b22e7c8)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T06:13:17.917

假设您的主模板如下所示：

```
template <int ...> struct Foo; 
```

您现在可以制作一个`Foo`比较器：

```
template <typename, typename> struct FooCmp : std::false_type { };

template <int A, int B, int ...As, int ...Bs>
struct FooCmp<Foo<A, As...>, Foo<B, Bs...>>
: std::integral_constant<bool, A == B && FooCmp<Foo<As...>, Foo<Bs...>>::value>
{ };

template <> struct FooCmp<Foo<>, Foo<>> : std::true_type { }; 
```

用法：

```
typedef Foo<1, 3, 4> F1;
typedef Foo<9, 5, 1> F2;

template <typename S, typename T>
std::enable_if<FooCmp<S, T>::value> do_magic(S s, T t) { /* ... */ }

do_magic(F1{}, F2{}); 
```

# javascript - 如何在 QML 中创建一个文本框来接受表情符号？

> ID：11895985
> 
> 赞同：0
> 
> 时间：2012-08-10T05:31:33.973
> 
> 标签：javascript, qml

我正在尝试创建一个文本框，它将接受表情符号图像作为其文本的一部分。

有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T00:34:06.253

告诉您的文本框您希望它显示富文本。当您编写文本时，将您的表情符号替换为`<img>`指向表情符号图片的 HTML 标记。

**编辑：**带有笑脸示例的示例（`:-)`）

在您的文本框中，您想`:-)`用这张图片替换笑脸：![笑脸 - 谷歌](../Images/dad51fa5b00241db22e13035519d065e.png)。假设图片在名为“smile.jpg”的文件中。编写文本时，替换`:-)`为`<img src="my/path/to/smile.jpg" alt=":-)"/>`. 当您编写退格键以擦除笑脸时，您可以将整个 HTML`<img>`标记替换为`:-`(`:-)`不带 final `)`)

# c# - 如何在打印输出中获取此 UI 输出？

> ID：11895994
> 
> 赞同：0
> 
> 时间：2012-08-10T05:32:45.543
> 
> 标签：c#, wpf, user-controls

我正在开发 WPF 应用程序。在这里我必须处理一些打印格式。为了解决打印的分页问题，​​我使用以下代码：

```
 private void Button_Click(object sender, RoutedEventArgs e)
    {
        // Create a PrintDialog
        PrintDialog printDlg = new PrintDialog();

        // Create a FlowDocument dynamically.
        FlowDocument doc = CreateFlowDocument();
        doc.Name = "FlowDoc";
        doc.PageHeight = printDlg.PrintableAreaHeight;
        doc.PageWidth = printDlg.PrintableAreaWidth;
        // Create IDocumentPaginatorSource from FlowDocument
        IDocumentPaginatorSource idpSource = doc;
        // Call PrintDocument method to send document to printer
        printDlg.PrintDocument(idpSource.DocumentPaginator, "Hello WPF Printing."); 

    } 
```

和

```
private FlowDocument CreateFlowDocument()
    {

        // Create a FlowDocument
        FlowDocument doc = new FlowDocument();
        int i = 0;
        while (i <2)
        {
            // Create first Paragraph
            Paragraph p1 = new Paragraph();
            MyUserControl comp = new MyUserControl ();
            p1.BorderBrush = new SolidColorBrush(Color.FromRgb(79, 129, 189));
            p1.BorderThickness = new Thickness(3);
            p1.Inlines.Add(comp); 
            // Add Paragraph to Section
            doc.Blocks.Add(p1);
            // Add Section to FlowDocument
            //doc.Blocks.Add(sec);
            i++;
        }

        return doc;

    } 
```

这段代码对我来说很好。

**问题 ：**

我只是在使用此代码时遇到了 UI 问题。

这是我现在在纸上得到的印刷品：

![在此处输入图像描述](../Images/e25459848118a2698b1fd55bfaabcde8.png)

这是我需要在纸上打印的：

![在此处输入图像描述](../Images/544eacdee2fc0eefe4d5e2c4fc74c02c.png)

请提供一些想法和代码，以便我可以解决这个问题。

提前致谢。

# python - python脚本不适用于rails迁移的Mysql表

> ID：11895995
> 
> 赞同：1
> 
> 时间：2012-08-10T05:33:02.767
> 
> 标签：python, mysql, ruby-on-rails

我编写了一个用于解析 CSV 并将这些值插入 MySQL 表的 Python 脚本。解析csv和插入部分如下：

```
csv_data = csv.reader(open(file_path, "rb"))
data_list = []
count = 0
##Loop for inserting data to table in baches
for row in csv_data:
    data_row = []
    data_row.append(row[0])
    data_row.append(row[1])
    data_row.append(row[2])
    ##removing the fist row
    if count == 0:
        count += 1
        continue
    else:
        data_row.insert(0,keyword_type)
        sql_command = "insert into "+ table_name +"(keyword_type,old_keyword_id,old_keyword_name,master_keyword_name) values (\"" +data_row[0]+"\"," + data_row[1]+ ",\"" +data_row[2]+"\",\"" +data_row[3]+"\")"
        cursor.execute(sql_command) 
```

如果我们在 MySQL 中使用 create table 命令手动创建表，它是完美的。

但是我需要将它集成到 Rails 环境中，并将数据插入到使用迁移创建的表中。但运行程序后，程序执行成功，没有显示任何错误。但是数据没有进入表格。这就是问题。

感谢和问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T21:48:46.220

对您手动创建的表和创建的一个轨道运行“describe [table_name]”，然后比较结果。您很可能会发现架构有所不同。如果不清楚之后该做什么，请在此处发布结果。

# c# - 为 protobuf-net 生成序列化程序集失败

> ID：11895998
> 
> 赞同：2
> 
> 时间：2012-08-10T05:33:17.017
> 
> 标签：c#, serialization, protobuf-net, precompile

我正在尝试使用该`precompile.exe`工具生成可在 Windows Phone 7 程序中使用的序列化程序集。我拥有的数据模型使用继承 - 并且作为 .NET 4.0 程序运行得很好（序列化有效）。但是，在尝试生成序列化程序集时，出现错误：

```
Adding Program.Serialization.MessagePeer...
A type can only participate in one inheritance hierarchy
at ProtoBuf.Meta.MetaType.SetBaseType(MetaType baseType) in c:\Dev\protobuf-net\protobuf-net\Meta\MetaType.cs:line 138
at ProtoBuf.Meta.MetaType.AddSubType(Int32 fieldNumber, Type derivedType, DataFormat dataFormat) in c:\Dev\protobuf-net\protobuf-net\Meta\MetaType.cs:line 125
at ProtoBuf.Meta.MetaType.ApplyDefaultBehaviour() in c:\Dev\protobuf-net\protobuf-net\Meta\MetaType.cs:line 553
at ProtoBuf.Meta.RuntimeTypeModel.Add(Type type, Boolean applyDefaultBehaviour) in C:\Dev\protobuf-net\protobuf-net\Meta\RuntimeTypeModel.cs:line 494
at ProtoBuf.Precompile.PreCompileContext.Execute() in c:\Dev\protobuf-net\precompile\Program.cs:line 340
at ProtoBuf.Precompile.Program.Main(String[] args) in c:\Dev\protobuf-net\precompile\Program.cs:line 33 
```

我已经能够使用更简单的数据模型重现该问题：

```
[ProtoContract]
[ProtoInclude(2, typeof(Bar))]
public abstract class Foo
{
    [ProtoMember(1)]
    public int Value { get; set; }
}

[ProtoContract]
public class Bar : Foo
{
    [ProtoMember(2)]
    public string Name { get; set; }
} 
```

[我已经尝试使用来自http://code.google.com/p/protobuf-net/](http://code.google.com/p/protobuf-net/)的 protobuf 的 r284 和 2485 版本。

命令行也`precompile.exe`很简单：

```
D:\Projects\Program\Precompile>precompile
   "..\SerializerGen\bin\Debug\SerializerGen.dll"
   -o:MySerialization.dll
   -t:MyProgram.Serialization.PeerMessageSerializer 
```

**这是 protobuf-net 中的一个已知问题，还是我做错了什么？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:14:54.527

嗯；System.Reflection 和 IKVM.Reflection 报告继承属性的方式略有不同，即预编译器（使用 IKVM.Reflection）看到了**继承** `ProtoIncludeAttribute`的，加上 2（而不是 1）`ProtoContractAttribute`s。

这在 r571 中已修复