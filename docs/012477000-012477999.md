# StackOverflow 问答 12477000-12477999

# c# - 渲染没有 html、body 标签的 .aspx 页面

> ID：12477001
> 
> 赞同：1
> 
> 时间：2012-09-18T12:25:45.570
> 
> 标签：c#, asp.net

我有一个测试页**Test.aspx**，下面是我在 Page_Load 函数中的代码。

```
Response.Write("test"); 
```

当我执行此页面时，我可以看到 html 输出“test”以及其中的 html、body 标记。

我应该怎么做才能使输出只有文本“test”，没有body、html标签？

请建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T12:31:27.033

您可以尝试使用此代码 - 基于`ContentType = "text/plain";`

```
Response.Clear();
Response.ContentType = "text/plain";
Response.Write("Only text is printed");
Response.End(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T12:29:04.413

试试这个

```
Response.Clear();
Response.ContentType = "text/plain";
Response.Write("Test");
Response.End(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T16:37:39.747

当您遇到一个您不会只写一些单词或其他内容的空页面的情况时，最好使用处理程序 .ashx

默认情况下，该处理程序不添加任何内容，就像 .aspx 页面一样，无需清除任何内容并且您不花时间渲染，然后像使用 aspx 页面一样清除。

所以正确的方法，是创建一个handler。

# php - 当我对数组使用排序时，foreach 不起作用

> ID：12477012
> 
> 赞同：1
> 
> 时间：2012-09-18T12:26:36.163
> 
> 标签：php, arrays, sorting

我正在使用 sort 按字母顺序对数组进行排序，如下所示：

```
$Consumer[] = "Norman";
$Consumer[] = "Food";
$Consumer[] = "Clothes";
$Consumer[] = "Chips"; 
```

但是当我使用这段代码输出数组时，它就不起作用了。

```
$cat = sort($Consumer);
foreach ($cat as $value) 
{
   echo '<option value="'.$value.'">'.$value.'</option>';
} 
```

如果我删除排序，它会起作用。我在这里做错了什么，如何正确设置？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T12:27:36.053

[`sort`](http://php.net/sort)函数返回布尔值，因此您正在覆盖数据。`$Consumer`它通过引用修改您的变量。

尝试：

```
sort($Consumer);
foreach ($Consumer as $value) 
{
   echo '<option value="'.$value.'">'.$value.'</option>';
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T12:27:18.820

## 按引用排序行为

如[文档](http://es.php.net/manual/en/function.sort.php)中所示，排序按引用执行并返回布尔值

> 布尔排序（数组 &$array [, int $sort_flags = SORT_REGULAR]）

布尔值也是如此`$cat`（真或假）。

以下是您的代码的工作示例：

```
$Consumer[] = "Norman";
$Consumer[] = "Food";
$Consumer[] = "Clothes";
$Consumer[] = "Chips";

sort($Consumer);
foreach ($Consumer as $value) 
{
   echo '<option value="'.$value.'">'.$value.'</option>';
} 
```

# django - 在 Django 视图中显示 ajax 数据

> ID：12477018
> 
> 赞同：0
> 
> 时间：2012-09-18T12:26:58.330
> 
> 标签：django, jquery, django-views

我通过 ajax 获得一些表单值并将它们发布到预览页面。但我无法在我的模板文件中获得这些值。这是我的代码：

我的ajax函数：

```
$('#preview').click(function() {

        var title = $('#id_title').val(); // form input1
        var body = $('#id_body').val(); // forminput2

     var ajaxOptions = {
         type:'post',
         url : '/admin/post/preview/',//preview page's url which defined in urls.py
         data : {
             'title_preview' : title,
             'body_preview'  : body
         },
         success: function(){
             window.open("/admin/post/preview"); // to see preview of post in a new window
         },
         error: function(){
            alert('olmadı');
         }
     };

        $.ajax(ajaxOptions); 
```

我的观点：

```
@require_POST
def preview(request):

    title_preview = request.POST.get('title_preview')
    body_preview = request.POST.get('body_preview')
    query = Post(titlePreview = title_preview,bodyPreview = body_preview,owner = request.user)
    query.save()

    return render_to_response('preview.html',{'post':query},context_instance=RequestContext(request)) 
```

但它不起作用。它似乎是空白页。我不知道出了什么问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T12:48:07.813

您正在发布到您的预览视图，然后当它成功返回时，您将尝试通过再次调用相同的 URL 打开一个单独的窗口。但是第二次调用没有任何POST数据，自然就不行了。您的`success`函数应该对已经传递的数据做一些事情，而不是尝试打开一个新的 URL。

# plugins - Gradle：重新初始化/重新加载 settings.gradle

> ID：12477019
> 
> 赞同：1
> 
> 时间：2012-09-18T12:27:02.043
> 
> 标签：plugins, gradle

我开发了一个插件并将其放入 buildSrc 中。此外，buildSrc 的 build.gradle 正在为父文件夹生成一个 settings.gradle（递归运行以发现所有 gradle 项目）并且它已正确完成。

但是当 buildSrc/build.gradle 结束时（它编译了插件，并运行 gradle 任务以生成 settings.gradle）并且 gradle 跳转到父目录上的主构建，我发现新的 settings.gradle它生成的不是重要的，而是在 buildSrc 之前读取的。

有什么办法刷新和重新加载它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T15:29:37.423

我不知道重新加载的方法`settings.gradle`，它当然不是受支持的功能。通常这样做的方式是编写脚本`settings.gradle`而不是生成它。如果需要，您还可以访问`buildSrc`来自`settings.gradle.`

# android - 如何理解android完成了绘制视图？

> ID：12477026
> 
> 赞同：4
> 
> 时间：2012-09-18T12:27:17.927
> 
> 标签：android, android-view

> **可能重复：**
> [Activity 何时完成绘制本身？](https://stackoverflow.com/questions/3171216/when-has-the-activity-finished-drawing-itself)

我想知道视图何时完成绘制，这可能吗？我怎么知道android是否完成了绘制视图？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-18T12:30:22.993

向它添加一个 ViewTreeObserver。

样本，

```
 TextView pagerView1=new TextView(this);
   ViewTreeObserver textViewTreeObserver=pagerView1.getViewTreeObserver();
        textViewTreeObserver.addOnGlobalLayoutListener(new OnGlobalLayoutListener() {

            public void onGlobalLayout() {

                           //Do your operations here. 

                    pagerView1.removeGlobalOnLayoutListener(this);

            }
        }); 
```

这是一个侦听器，一旦该特定被完全绘制，就会被调用。所以我把它用于TextView。同样，您可以使用您所做的任何视图。在 onGlobalLayout() 里面你可以做你的代码。

# azure - 在 Windows Azure 中创建网站时设置失败

> ID：12477028
> 
> 赞同：5
> 
> 时间：2012-09-18T12:27:18.727
> 
> 标签：azure

我已经在 windowsazure.com 上创建了一个免费试用帐户，并且到目前为止我一直在尝试部署一个网站（特别是 wordpress 类型），但没有任何运气。我什至尝试过使用“快速创建”类型相同结果。

唯一可能感兴趣的是用于登录 Windows 帐户的电子邮件地址（无论是 Live ID），即使它用作所有 MS 服务的 ID 作为电子邮件也不是因为它很旧并停用。在我的 Windows azure 帐户的配置文件中，它应该是活动帐户。在错误消息的底部，它指定了我用于登录 ID 的旧电子邮件。不知道有没有什么关系，我就提一下。

如何解决？

> 配置失败。
> 
> 再试一次。如果问题仍然存在，请联系支持人员。
> 
> 浏览器：5.0（兼容；MSIE 9.0；Windows NT 6.1；Trident/5.0；SLCC2；.NET CLR 2.0.50727；.NET CLR 3.5.30729；.NET CLR 3.0.30729；.NET CLR 1.1.4322；InfoPath.3 ；平板电脑 2.0；.NET4.0C；媒体中心 PC 6.0；MS-RTC LM 8；.NET4.0E；Zune 4.7；69690224903；Library1.08088）
> 
> 用户语言：en-gb
> 
> 门户版本：6.0.6002.18488 (rd_auxportal_stable.120913-1406)
> 
> 订阅：fe59543f-a824-44e7-8565-3e3d4e4569ec
> 
> 用户电子邮件地址：*“这里是我的旧电子邮件地址，即 Live ID”*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T20:34:00.277

首先，上述订阅是有效且有效的订阅，同时 Windows Azure 网站也已启用。我还可以验证只有一个电子邮件帐户与上述订阅相关联。与此帐户关联的您的电子邮件 (orgID - *.gr) 具有服务级别和管理级别功能。

您尝试登录旧门户并添加另一个 Live ID（hotmail、live 或 Outlook.com）作为共同管理员，然后使用该电子邮件 ID 再次登录门户，然后创建网站。这应该可以解决上述问题。

如果您仍有问题，最好的选择是直接从[此处](http://social.msdn.microsoft.com/Forums/en-US/windowsazurewebsitespreview/threads)的专用论坛联系 Windows Azure 网站团队。

# android - Android 来电去电录音

> ID：12477030
> 
> 赞同：3
> 
> 时间：2012-09-18T12:27:31.113
> 
> 标签：android, android-sensors, android-mediarecorder

我正在使用以下代码在 android 手机中记录来电和去电对话，但此代码仅在麦克风或扬声器打开且用户禁用扬声器电话时有效，我的代码将无法记录来电。
我想在不激活电话扬声器的情况下记录来电和去电通话。

```
 class MyPhoneStateListener extends PhoneStateListener implements SensorEventListener {
            Context context;
            AudioManager audioManager;
            MediaRecorder recorder;
            private SensorManager mSensorManager;
            private Sensor myLightSensor;
            private boolean CallState;
            private float sensorState;

            public MyPhoneStateListener(Context context) {
                this.context = context;
                mSensorManager = (SensorManager) this.context.getSystemService(Context.SENSOR_SERVICE);
                myLightSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_PROXIMITY);
                audioManager = (AudioManager) this.context.getSystemService(Context.AUDIO_SERVICE);
                if (myLightSensor == null){
                    Log.i("On Receive", "Not Support");
                }else{
                    mSensorManager.registerListener(this,myLightSensor,SensorManager.SENSOR_DELAY_NORMAL);
                }
            }

            public void onCallStateChanged(int state, String incomingNumber) {
                switch (state) {
                case TelephonyManager.CALL_STATE_IDLE:
                    System.out.println("My Call IDLE");
                    CallState = false;
                    StartAudioSpeacker();
                    StopRecording();
                    System.out.println("Is phone speaker : "+ audioManager.isSpeakerphoneOn());
                    if (audioManager.isSpeakerphoneOn()) {
                        audioManager.setSpeakerphoneOn(false);
                        mSensorManager.unregisterListener(this);
                    }
                    break;
                case TelephonyManager.CALL_STATE_OFFHOOK:
                    System.out.println("My Call OFFHOOK");
                    CallState = true;
                    StartAudioSpeacker();
                    StartRecording();
                    System.out.println("Is phone speaker : "+ audioManager.isSpeakerphoneOn());
                    break;
                case TelephonyManager.CALL_STATE_RINGING:
                    System.out.println("My Call RINGING");
                    break;
                }
            }

            @Override
            public void onAccuracyChanged(Sensor sensor, int accuracy) {
                if (sensor.getType() == Sensor.TYPE_PROXIMITY) {
                    Log.i("Sensor Changed", "Accuracy :" + accuracy);
                }
            }

            public void onSensorChanged(SensorEvent event) {
                if (event.sensor.getType() == Sensor.TYPE_PROXIMITY) {
                    Log.i("Sensor Changed", "onSensor Change :" + event.values[0]);
                    sensorState = event.values[0];
                    StartAudioSpeacker();
                }
            }

            public void StartAudioSpeacker(){
                if (CallState && sensorState == 1.0) {
                    audioManager = (AudioManager) this.context.getSystemService(Context.AUDIO_SERVICE);
                    audioManager.setSpeakerphoneOn(true);
                    audioManager.adjustStreamVolume(AudioManager.STREAM_MUSIC,AudioManager.ADJUST_RAISE, AudioManager.FLAG_SHOW_UI);
                    audioManager.setStreamVolume(AudioManager.MODE_IN_CALL, audioManager.getStreamMaxVolume(AudioManager.MODE_IN_CALL), 1);
                    System.out.println("Is phone speaker : "+ audioManager.isSpeakerphoneOn());
                }else{
                    audioManager = (AudioManager) this.context.getSystemService(Context.AUDIO_SERVICE);
                    audioManager.setSpeakerphoneOn(false);
                    audioManager.setStreamVolume(AudioManager.MODE_IN_CALL, audioManager.getStreamMaxVolume(AudioManager.MODE_IN_CALL), 1);
                    System.out.println("Speaker Volume :"+ audioManager.getStreamMaxVolume(AudioManager.MODE_IN_CALL));
                    System.out.println("Is phone speaker : "+ audioManager.isSpeakerphoneOn());
                }
            }
            public void StartRecording(){
                 recorder = new MediaRecorder();
                 recorder.setAudioSource(MediaRecorder.AudioSource.VOICE_CALL);
                 recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);
                 recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);
                 recorder.setOutputFile(this.getFullSdPath());
                 try {
                    recorder.prepare();
                } catch (IllegalStateException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                recorder.start();   // Recording is now started
                Log.i(this.getClass().getName(), "Start Recording");
            }

            public void StopRecording(){
                 recorder.stop();
                 recorder.reset();   
                 recorder.release();
                 Log.i(this.getClass().getName(), "Stop Recording");
            }

            public String getFullSdPath(){
                File sdCard = new File(Environment.getExternalStorageDirectory()    + "/RecordMyVoice");
                if (!sdCard.exists()) {
                    sdCard.mkdir();
                }
                File file = new File(Environment.getExternalStorageDirectory()+"/RecordMyVoice/",new Date().getTime()+".3gp");
                System.out.println("Full path of record sound is : "+file.getAbsolutePath());
                return file.getAbsolutePath();
            }
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T12:43:23.810

> 我想在不激活电话扬声器的情况下记录来电和去电通话。

抱歉，Android 通常不支持此功能。

# php - 如何确保 JPEG 图像有效并且可以由 PHP 处理？

> ID：12477035
> 
> 赞同：2
> 
> 时间：2012-09-18T12:28:01.083
> 
> 标签：php, apache, imagemagick, gd, laravel

我有这个 JPEG，它给我正在使用`imagesx($this->image)`的[Resizer 库中的函数带来了问题。](http://bundles.laravel.com/bundle/resizer)我可以使用浏览器查看图像，并且在尝试调整大小时出现错误：

```
imagesx() expects parameter 1 to be resource, boolean given 
```

如果它会引发错误，我可以不处理这个文件。如何使用 PHP 来检查这个图像是否可以被 PHP 的图像函数正确处理？

* * *

**调用库的代码**

```
// Download the photo
$img_content = file_get_contents($url);
if($img_content !== FALSE) {
    file_put_contents($img_documentroot . $img_subpath . $img_filename . '_tmp.jpg',
     $img_content);
}

echo $url . '<br>';
echo $img_documentroot . $img_subpath . $img_filename . '_tmp.jpg<br>';
ob_flush();
flush();

// Resize photo
Resizer::open( $img_documentroot . $img_subpath . $img_filename . '_tmp.jpg' )
->resize(300, 300, 'landscape' )
->save($img_documentroot . $img_subpath . $img_filename . '.jpg' , 90 );

// Thumbnail photo
Resizer::open( $img_documentroot . $img_subpath . $img_filename . '_tmp.jpg' )
->resize(100, 100, 'crop' )
->save($img_documentroot . $img_subpath . $img_filename . '.jpg' , 90 ); 
```

* * *

**输出**

我还呼应了正在调整大小的图像的完整路径。

```
http://www.ApartmentsInAllstonMA.com/Images/Apts/132847_kn1.jpg
/home/photos/public_html/2012/0917/2516539_7_tmp.jpg
resource(127) of type (gd)
resource(130) of type (gd)
http://www.ApartmentsInMedford.com/Images/Apts/132847_lv2.jpg
/home/photos/public_html/2012/0917/2516539_11_tmp.jpg
resource(163) of type (gd)
resource(166) of type (gd)
http://www.AllstonApartmentX.com/images/agents/61.jpg
/home/photos/public_html/2012/0917/2516539_12_tmp.jpg
bool(false) 
```

* * *

## 更新

这是导致库返回`false`值的代码片段。

```
private function open_image( $file )
{

    // If $file isn't an array, we'll turn it into one
    if ( !is_array($file) ) {
        $file = array(
            'type'      => File::mime( strtolower(File::extension($file)) ),
            'tmp_name'  => $file
        );
    }

    $mime = $file['type'];
    $file_path = $file['tmp_name'];

    switch ( $mime )
    {
        case 'image/pjpeg': // IE6
        case File::mime('jpg'): $img = @imagecreatefromjpeg( $file_path );  break;
        case File::mime('gif'): $img = @imagecreatefromgif( $file_path );   break;
        case File::mime('png'): $img = @imagecreatefrompng( $file_path );   break;
        default:                $img = false;                               break;
    }

    return $img;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T12:33:11.167

检查mime类型是保证JPEG图像有效性的一个很好的方法。这是您如何做到这一点的方法。

```
$finfo = finfo_open(FILEINFO_MIME_TYPE); // return mime type
$type = finfo_file($finfo, $filename) . "\n";  
if($type == "image/jpeg") { 
     //Valid JPEG Image
}
finfo_close($finfo); 
```

根据您的错误，您*发送的是**boolean** value 而不是 image resource*。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T13:43:20.437

该文件可能具有 .JPG 扩展名，但这并不一定意味着它是正确的文件类型。我之前曾看到用户使用 .PNG 文件并将其重命名为 .JPG，认为他们可以通过这种方式在格式之间进行转换。

它也可能是使用 CMYK 颜色空间而不是 RGB 颜色空间的有效 JPEG 文件。每隔一段时间，我就会看到其中一个——通常来自印刷设计师。我通常通过在 Photoshop 中打开它们并在图像 -> 模式下查看它是否显示 RGB 或 CMYK 来检查它们。在 Windows 中，您也可以通过右键单击、选择属性，然后查看高级选项卡来确定色彩空间。

# tridion - Tridion 高级搜索无法正常工作

> ID：12477042
> 
> 赞同：2
> 
> 时间：2012-09-18T12:28:30.513
> 
> 标签：tridion

我正在通过出版物中的高级搜索选项搜索已发布的组件，

我选择了一个文件夹并搜索已发布的组件。

它搜索已发布的组件，但不搜索已在出版物中本地化并已发布的组件，

我们是否有任何选项也可以搜索本地化的已发布组件，或者我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:47:30.867

它也应该显示本地化组件，但无论如何都不确定它可能与搜索有关。

您可以使用以下步骤找到具有特定模板的已发布组件列表。

事实上，您可以重新发布已由动态组件模板发布的所有动态组件。在同一个发布屏幕中，您可以找到已发布的组件。

1.  在出版物中定位到动态 CT
2.  选择发布选项，将打开一个发布对话框
3.  选择目标
4.  单击“**查看要发布的项目...** ”
5.  您将获得随该 CT 发布的组件列表。

希望它可以帮助你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T12:36:50.947

是的，对于本地化组件，您可以在“搜索框”中选择特定的出版物。通过这种方式，您的搜索将在所选出版物内进行。

# titanium - 在 Titanium 移动应用程序中添加计时器

> ID：12477043
> 
> 赞同：3
> 
> 时间：2012-09-18T12:28:37.573
> 
> 标签：titanium, appcelerator, titanium-mobile, appcelerator-mobile

我想为我正在使用 Titanium 框架开发的移动应用程序添加一个计时器。我在文档中没有找到任何相关的东西。任何人都可以为这个问题提出解决方案。

谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-18T12:38:02.927

如果您的意思是稍后执行代码的计时器，只需使用 javascript`setTimeout`或`setInterval`.

```
setTimeout(function(){
   toDoLater();
}, 1000); 
```

不同之处在于`setInterval`重复并`setTimeout`执行一次。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-21T11:59:18.047

```
var win = Titanium.UI.createWindow({
    title:"Setting Timers",
    backgroundColor:"#FFFFFF"
});

var setTimeoutLabel = Titanium.UI.createLabel({
    text:"Tap Below",
    width:120,
    height:48,
    top:64,
    left:12,
    textAlign:"left",
});

var setTimeoutButton = Titanium.UI.createButton({
    title:"setTimeout",
    height:48,
    width:120,
    bottom:12,
    left:12 
});

var setIntervalLabel = Titanium.UI.createLabel({
    text:"Tap Below",
    width:120,
    height:48,
    top:64,
    right:12,
    textAlign:"right"
});

var setIntervalSwitch = Titanium.UI.createSwitch({
    bottom:24,
    right:12,
    value:false
});

setTimeoutButton.addEventListener("click",function(e){
    if(!this.fired){//Prevent multiple fires of the timeout
        var t = setTimeout(function(){
            setTimeoutLabel.text = "Fired!";
            clearInterval(t);
            t = null;
        },2000);
        this.fired = true;
    }
});

setIntervalSwitch.addEventListener("change",function(e){
    if(e.value){
        var i = 0;
        this.timer = setInterval(function(){
            if(i%2){
                setIntervalLabel.text = "";
            }else{
                setIntervalLabel.text = "Bang!";
            }
            i++;
        },500);
    }else{
        clearInterval(this.timer);
        this.timer = null;
        i=0;
        setIntervalLabel.text = "Stopped";
    }
});

win.add(setTimeoutLabel);
win.add(setTimeoutButton);
win.add(setIntervalSwitch);
win.add(setIntervalLabel);

win.open(); 
```

# xades4j - Xades4J 验证签名时出错：属性“SigningCertificate”的验证失败：属性包含太多证书

> ID：12477044
> 
> 赞同：0
> 
> 时间：2012-09-18T12:28:45.257
> 
> 标签：xades4j

当我验证在使用相同密钥库（和 XA）之前创建的签名时，会出现以下异常：

> 属性“SigningCertificate”的验证失败：SigningCertificate 属性包含一个或多个不属于证书路径的证书。

我正在使用以下证书链：

1.  根 CA (globalsign),
2.  中级证书
3.  公司证书
4.  项目证书

所有证书都存储在使用的密钥库中。

但是，当使用自签名证书尝试相同的事情时，只有它有效，我只需要将证书也放入 certs-and-crls-directory 中。

**键控数据提供者：**

```
new FileSystemKeyStoreKeyingDataProvider(KeyStore.getDefaultType(),
    "D:\...\signing.keystore", 
    new FirstCertificateSelector(),
    new DirectStorePasswordProvider("pass"),
    new DirectKeyPasswordProvider("pass"), true); 
```

**证书验证提供者：**

```
FileSystemDirectoryCertStore certStore = new FileSystemDirectoryCertStore("D:\...\certs");
CertificateValidationProvider certValidator = new PKIXCertificateValidationProvider(
        loadKeystore(), 
        false, // should be true, when validation works.
        certStore.getStore());

private KeyStore loadKeystore() {
    // deleted exception handling for readability, here
    KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());
    FileInputStream keystoreInStream = new FileInputStream("D:\...\verification.keystore");
    keyStore.load(keystoreInStream, "pass".toCharArray());
    return keyStore;
} 
```

**对密钥库的反馈**

签名密钥库包含所有 4 个证书。验证密钥库仅包含根证书 (globalsign-root-ca)。certs 目录包含除根 (globalsign-root-ca) 之外的所有证书。然后我收到以下错误：

> 原因：sun.security.provider.certpath.SunCertPathBuilderException：无法找到请求目标的有效证书路径

当使用与签名相同的密钥库（文件系统副本）时，我收到错误：

> 原因：xades4j.verification.SigningCertificateCertsNotInCertPathException：属性“SigningCertificate”的验证失败：SigningCertificate 属性包含一个或多个不属于证书路径的证书。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T08:33:01.357

我终于想通了（即一位同事帮助我）。我用来签署我自己创建的密钥对（#4）的证书/密钥（#3）不允许签署其他证书。尽管可以创建签名而没有任何错误，但我`unable to find valid certification path to requested target`在验证签名时收到了错误消息，这非常具有误导性。

作为“解决方案”，我只使用证书#1-3，并使用#3 的私钥来创建签名。

@lgoncalves 感谢您的持久帮助。

PS：当我配置 CRL 启用但不提供所有 CRL 时，我在工作设置中收到相同的错误消息（即，在验证使用 #3 生成的签名时，一个 CRL 由 #2 发出，一个 CRL 由 #1 发出） .

# jquery - 自定义 JQuery Slider 灵敏度

> ID：12477045
> 
> 赞同：1
> 
> 时间：2012-09-18T12:28:50.963
> 
> 标签：jquery, jquery-ui-slider

在我的 ASP.Net MVC 项目中，我使用了 JQuery 滑块来允许用户选择大范围的值。范围是从 0 到 100000。不幸的是，我无法为滑块提供足够的空间，因为我的应用程序大小和 UI 要求都受到限制。因此，滑块的宽度仅为大约 1 - 2 英寸。

问题是，当用户在屏幕上移动此滑块时，对齐文本框中的值会跳得非常快（以千计）。并且用户无法选择较小的值，例如 400 或 500 等。这很明显，因为小空间和高范围组合。我同意。

但是，客户还没有准备好接受这一点，并以某种方式希望我降低滑块的灵敏度，以便在滑动时显示 100 秒内的值。

有没有办法使用 Jquery 滑块的公开事件和属性来实现这一点？

为此，我正在使用 JQuery-1.6.2.js。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-01T20:55:09.450

以步长 100 初始化滑块。然后可以以较低的灵敏度移动滑块。

```
$( ".selector" ).slider({ step: 100 }); 
```

# c# - 从 XML 文件读取时出错

> ID：12477052
> 
> 赞同：0
> 
> 时间：2012-09-18T12:29:46.970
> 
> 标签：c#, xml

我有一个这样的 XML 文件

```
 <?xml version="1.0" encoding="utf-8" ?> 
 <conStr>
  <server>192.168.1.25;</server> 
  <initial_catalog>chargdb;</initial_catalog> 
  <uid>sa;</uid> 
  <pwd>1;</pwd> 
  </conStr> 
```

我正在使用此代码从该文件中获取数据：

```
 XmlDocument xd = new XmlDocument();
        xd.Load(Application.StartupPath + @"\cng.xml");
        string conStr = string.Empty;
        conStr += "server=";
        conStr +=xd.DocumentElement.ChildNodes[0].Attributes["server"].Value;
        conStr += "initial catalog=";
        conStr += xd.DocumentElement.ChildNodes[0].Attributes["initial_catalog"].Value;
        conStr += "uid=";
        conStr += xd.DocumentElement.ChildNodes[0].Attributes["uid"].Value;
        conStr += "pwd=";
        conStr += xd.DocumentElement.ChildNodes[0].Attributes["pwd"].Value;
        MessageBox.Show(conStr); 
```

但每次我给出这样的错误消息：“对象引用未设置为对象的实例。” 请帮助我，我该怎么做才能阅读我的文件？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T12:51:39.660

您现有的代码正在寻找元素中的*属性。*`<server>`那是行不通的，因为您应该在根元素中寻找元素*。*

我会做两个改变：

*   使用 LINQ to XML 获取值
*   `SqlConnectionStringBuilder`使用而不是作为字符串构建连接字符串

所以是这样的：

```
XDocument doc = XDocument.Load(...);
var root = doc.Root;
var builder = new SqlConnectionStringBuilder
{
    DataSource = root.Element("server").Value,
    InitialCatalog = root.Element("initial_catalog").Value,
    UserID = root.Element("uid").Value,
    Password = root.Element("pwd").Value
};
var connectionString = builder.ToString(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T12:31:07.287

`xd.DocumentElement.ChildNodes[0]`指`<conStr>`元素。你需要看看它的孩子。

考虑使用[XPath](http://msdn.microsoft.com/en-us/library/ms256086.aspx)来导航文档。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T12:43:15.760

为了正确回答您的问题，这就是 Jakub 的意思：

```
 string conStr = string.Empty; 
        conStr += "server=";
        conStr += xd.DocumentElement.SelectSingleNode("./server").InnerText;
        conStr += "initial catalog=";
        conStr += xd.DocumentElement.SelectSingleNode("./initial_catalog").InnerText;
        conStr += "uid=";
        conStr += xd.DocumentElement.SelectSingleNode("./uid").InnerText; 
        conStr += "pwd=";
        conStr += xd.DocumentElement.SelectSingleNode("./pwd").InnerText; 

        MessageBox.Show(conStr); 
```

对于 Jakub 的记录，xd.DocumentElement.ChildNodes[0] 是根元素（'conStr'）......

# php - 如何在搜索引擎中使用关键字

> ID：12477069
> 
> 赞同：2
> 
> 时间：2012-09-18T12:30:35.900
> 
> 标签：php, html, loops, mysqli, search-engine

你好，我坐在这里思考以下问题：

我有一个自动建议搜索引擎，它通过如下表格运行：

```
zipcode    city       sum

12345      town       5 
```

我确实通过使用 javascript 来实现搜索，该 javascript 在将输入的每个字母上运行一个循环。到目前为止，我只能寻找一个可以是城市名称或邮政编码的关键字。

现在我想将这两者结合起来，这样我就不再将用户限制为这两者之一，即使在输入城市和邮政编码时也会找到它。

因此，我想使用以下方法分隔每个关键字：

```
preg_split('/[\s]+/', $keywords); 
```

这是目前的问题。使用这种方法，每个关键字都将被插入到一个数组中。这个怎么运作：

在 html 中我有一个输入字段。下面我有一个无序列表 div。在那个 div 中，javascript 会自动添加我的 search.php 文件中的结果。看起来像：

```
include('../scripts/db_connect.php');

if (isset($_POST['search_term']) == true && empty($_POST['search_term']) == false) {

$search_term = $db->real_escape_string(htmlentities(trim($_POST['search_term'])));

$search_term_query = "SELECT * FROM `a` WHERE `b` LIKE '$search_term%'";

if ($result_query = $db->query($search_term_query)) {

    while ($row = $result_query->fetch_assoc()) {

    echo '<li>', 
          $row["a"], 
          ' ', 
          $row["b"],  
          ' ',
          '( ',
          $row["c"],
          ' )', 
          ' </li>';
    }

}

} 
```

我的 javascript 只处理一个关键字：

```
$(document).ready(function() {
    $('.searchfield').keyup(function() {
        var search_term = $(this).attr('value');
        $.post('ajax/search.php', {search_term:search_term}, function(data) {
            $('.result').html(data);

            $('.result li').click(function() {
                var result_value = $(this).text();
                $('.searchfield').attr('value', result_value);
                $('.result').html('');
            });
        });
    });
}); 
```

所以目前我不知道如何解决这个问题。如果有人可以帮助我，我真的很感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T15:55:45.913

只需保持原样并通过 post 调用将整个字符串发送到您的 php 文件。在您的 search.php 中，您可以尝试以下操作：

```
function split_search_term($val) {
    $val = explode(" ", $val);
    $search_term_query = "SELECT * FROM `a` WHERE ";
    foreach($val as $val_row) {
        $search_term_query .= "(`zipcode` LIKE '" . $search_term . "%' OR `city`  LIKE '" . $search_term . "%') OR ";
    }
    if(count($val) > 0) {
        // The IF statement is used to make sure that the foreach loop has been fired at least once,
        // or else it would just chop off the 'WHERE ' part and you'll get something like:
        // "SELECT * FROM `a` WH" and this will give you an error
        $search_term_query = substr($search_term_query, 0, -4); // To cut off the last remaining ' OR ' in the query
    } else {
        $search_term_query .= "0"; // To finish the query so it doesn't return anything we don't want
    }

    return $search_term_query;
} 
```

从这里您可以继续获取结果。我希望它有效。

# c++ - 按值返回对象？

> ID：12477071
> 
> 赞同：-1
> 
> 时间：2012-09-18T12:30:54.013
> 
> 标签：c++, oop, return-value

我试图从一个函数返回一个本地对象

我有这个问题

如果我返回本地创建的对象，它返回 null

```
DString DString :: operator + (const char* param)
{
    // Variable definition
    int nSize = ( this->GetLength() + (strlen(param)));
// Create a new char array in the opropriate size
char* cstrNewString = new char[nSize + 1];

// Append data
strcpy(cstrNewString, this->_cstrString);
strcat(cstrNewString, (char*)param);
cstrNewString[nSize] = '\0';

// Create a new DString to return
DString dstNewData(cstrNewString);

// Clean up
delete[] cstrNewString;

// Return data
return (dstNewData); // Null! 
```

如果我做同样的事情只在返回行中创建一个新对象，例如：

```
DString DString :: operator + (const char* param)
{
    // Variable definition

int nSize = ( this->GetLength() + (strlen(param)));

// Create a new char array in the opropriate size
char* cstrNewString = new char[nSize + 1];

// Append data
strcpy(cstrNewString, this->_cstrString);
strcat(cstrNewString, (char*)param);
cstrNewString[nSize] = '\0';

// Create a new DString to return
DString dstNewData(cstrNewString);

// Clean up
delete[] cstrNewString;

// Return data
return (DString(dstNewData.ToCharArray())); // Not null, returns correctly! 
```

它正确返回..为什么要这样做，我该如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:16:36.917

您的复制构造函数是如何定义的？在第一种情况下，调用了复制构造函数；在第二个没有。您没有向我们展示 的任何基本代码`DString`，但考虑到明显的语义，几乎可以肯定编译器生成的复制构造函数*不会* 做正确的事情。如果您`DString`包含在析构函数中删除的动态分配的指针（我看不出它会如何），则复制构造函数必须进行深层复制。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T12:46:29.957

在第一种情况下，您通过值传递，隐式使用（默认）构造函数（如果您没有定义它，`DString::DString(char*)`。在第二种情况下，您显式调用构造函数，但可能是一个不同的构造函数（也许`DString::DString(char const *)`，取决于`dstNewData.ToCharArray()`的常量） . 另外请看一下[Return Value Optimization (wikipedia)](http://en.wikipedia.org/wiki/Return_value_optimization)和 Scott Meyers Effective C++ item 21 (at the end), 因为它可能会由于优化而增加额外的混乱。定义（并向我们展示）你的构造函数和行为应该更多受控。

这是一个疯狂的猜测，没有真正看到你的构造函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T12:47:38.860

几点评论： 1) 您复制到 cstrNewString 的字符串有多大，您如何知道它们适合 cstrNewString？

2) 优先使用 strncpy() 而不是 strcpy() -- 使用 strcpy，可以超过数组的大小。

3）当你在几行之后删除它时，你为什么要使用 new ？我会将它分配在免费释放的堆栈上。（字符串会更好）

4) cstrNewString[nSize] --> 你怎么知道 null 被放在了字符串的末尾？中间有空隙吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T12:58:40.877

我认为第一个函数不会返回 NULL，但是当您在返回的对象上调用 ToCharArray() 时它会返回 NULL。

这可能与您可能没有实现 Copy 构造函数有关，您应该将 char 缓冲区从参数对象复制到*this*对象

# jsp - Sublime Text 2、jsp隐藏评论快捷方式

> ID：12477074
> 
> 赞同：5
> 
> 时间：2012-09-18T12:30:57.907
> 
> 标签：jsp, comments, package, keyboard-shortcuts, sublimetext2

在 jsp 文件中，每当我点击*`CTRL+/`*快捷方式（在 Windows 上）时，该行都会用“输出注释”进行注释，这意味着在生成的 html 中可见注释：

```
<!-- Output comment --> 
```

相反，我想将此快捷方式与“隐藏评论”的生成绑定，这些评论不会出现在输出中：

```
<%-- Hidden comment --%> 
```

我试图找到定义此快捷方式的位置，但我没有运气。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-27T21:58:37.733

单击`Preferences -> Browse Packages...`菜单以查找配置文件。

快捷方式在*HTML/Comments.tmPreferences*中定义。您可以更改此文件以修改**所有 jsp 和 html 文件**的注释。

要仅修改 jsp 注释，请在**Packages/Java**文件夹中创建一个名为**JavaServerPagesComments.tmPreferences**的文件，其中包含以下内容：

 **```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>name</key>
    <string>Comments</string>
    <key>scope</key>
    <string>text.html.jsp</string>
    <key>settings</key>
    <dict>
        <key>shellVariables</key>
        <array>
            <dict>
                <key>name</key>
                <string>TM_COMMENT_START</string>
                <key>value</key>
                <string>&lt;&#37;-- </string>
            </dict>
            <dict>
                <key>name</key>
                <string>TM_COMMENT_END</string>
                <key>value</key>
                <string> --&#37;&gt;</string>
            </dict>
        </array>
    </dict>
    <key>uuid</key>
    <string>54444C7B-54D2-41F6-A817-AEE243C3D45A</string>
</dict>
</plist> 
```**

# asp.net - Asp.net 接受链接到一组根 CA 的客户端证书

> ID：12477075
> 
> 赞同：1
> 
> 时间：2012-09-18T12:30:58.890
> 
> 标签：asp.net, security, pki

我想让 Asp.net 接受链接到一组根 CA 的客户端证书。我该怎么做？在我在 Visual Studio 的 iis express 上的开发机器上运行的示例 asp.net mvc 应用程序中，我对 iis config applicationhost.config 进行了以下更改：

```
<location path="MusicStore/Store">
    <system.webServer>
      <security>
        <access sslFlags="SslNegotiateCert, SslRequireCert" />
      </security>
    </system.webServer>
</location> 
```

现在，在没有任何选项选择证书的情况下访问 MusicStore/Store 位置时出现 HTTP 403.7 错误。我希望用户从浏览器中选择一个证书，可以吗？

# objective-c - 在自定义控件上正确实现自定义绑定

> ID：12477081
> 
> 赞同：2
> 
> 时间：2012-09-18T12:31:19.700
> 
> 标签：objective-c, macos, cocoa-bindings, foundation

由于所有这些日历样式`NSDatePicker`占用大量空间，我决定将它们放在视图控制器中，使用按钮显示日期本身，并在单击时使用 an`NSPopover`在弹出窗口中显示日历。

然后我使用绑定将`NSButton`子类的`date`属性与`NSArrayController`当前选择的`NSDate`类型属性链接起来。然后传播到日历样式的日期选择器中，反之亦然。对于“其他方式”，我没有使用 KVO，而是简单地实现了自定义设置器，所以如果有人`date`在按钮或日历视图控制器上设置值（也许绑定到数组控制器设置按钮的值，所以按钮设置日历视图控制器的值；也许日历上的更改设置视图控制器的值；谁知道）——然后我传播更改。

一切都很好地结束了……除了一件事。

多选。

您会看到，在用户执行多项选择后，系统立即正确地决定告诉我的按钮选择现在`nil`。为了传播更改，我告诉所有绑定的观察者该值已更改为`nil`. 这些绑定的观察者之一是`NSArrayController`，它当前选择了多个项目。

有什么问题？将当前选择的绑定键路径设置为`nil`导致将选择中的所有日期设置为`nil`……将更改传播到数据库中。并且用户甚至没有将值设置为`nil`- 它是由于简单地进行多项选择而不是进行任何选择而传播的，并且它应该仅用于显示此值的目的。

谢天谢地，现在我不需要支持这些日历的多项选择。我只是`NSMultipleSelectionMarker`通过使用 ) 比较观察对象的观察到的关键路径的值来检测`isEqual:`。如果完成多项选择，我会将该值应用于 ivar，但我不会“双向”通知其他绑定对象的更改。

但是——如果我想支持用户选择多个文档，然后一次更改所有发布日期（因为用户可以使用标准等中完成的绑定实现`NSDatePicker`）`NSTextField`——我将如何去做这样做没有创建多个选择的操作也会传播错误的更改，例如设置`nil`到所有选定的对象？

*（注意：虽然写这个问题是为了反映我当前重用标准控件的需求：按钮、弹出框、日期选择器——它不限于这种重用。我可能希望明天实现一个完全自定义的函数图小部件，需要双向 Cocoa 绑定。）*

以下是一些相关代码`IRDatePopoverEditorButton`：

```
+ (void)initialize
{
    [super initialize];

    [self exposeBinding:@"date"];
    [self exposeBinding:@"minDate"];
    [self exposeBinding:@"maxDate"];
}
- (void)awakeFromNib
{
    [super awakeFromNib];

    // …        
    [self establishBindings];

}

- (void)establishBindings
{
    NSArray *keys = [NSArray arrayWithObjects:@"date", @"minDate", @"maxDate", nil];

    NSDictionary * options = [NSDictionary dictionaryWithObjectsAndKeys:
                              [NSNumber numberWithBool:YES], NSContinuouslyUpdatesValueBindingOption,
                              [NSNumber numberWithBool:YES], NSConditionallySetsEnabledBindingOption,
                              [NSNumber numberWithBool:YES], NSValidatesImmediatelyBindingOption,
                              [NSNumber numberWithBool:NO], NSRaisesForNotApplicableKeysBindingOption,
                              [NSNumber numberWithBool:NO], NSAllowsEditingMultipleValuesSelectionBindingOption, 
                              nil];

    // This code allows creation of bindings via interface builder without actual
    // support for custom bindings in IB. I hijack the 'user defined runtime attributes'
    // and define binding keypath there, and I use an IBOutlet to define a binding
    // target.
    for(NSString *key in keys)
    {
        id bindingTarget = [self valueForKey:[key stringByAppendingString:@"BindingTarget"]];;
        id bindingKeyPath = [self valueForKey:[key stringByAppendingString:@"BindingKeyPath"]];;
        if (!bindingTarget || !bindingKeyPath)
            continue;

        [bindingTarget valueForKeyPath:bindingKeyPath];

        [self bind:key
          toObject:[self valueForKey:[key stringByAppendingString:@"BindingTarget"]]
       withKeyPath:[self valueForKey:[key stringByAppendingString:@"BindingKeyPath"]]
           options:options];

    }
}

// one of the custom setters
- (void)setDate:(NSDate *)date
{
    if(_date == date)
        return;

    [self willChangeValueForKey:@"date"];
    [date retain];
    [_date release];
    _date = date;
    [self didChangeValueForKey:@"date"];

    NSDictionary * infoForBinding = [self infoForBinding:@"date"];
    if(infoForBinding && [infoForBinding objectForKey:NSObservedObjectKey])
    {
        id observedObject = [infoForBinding objectForKey:NSObservedObjectKey];
        NSString * observedKeyPath = [infoForBinding objectForKey:NSObservedKeyPathKey];

        if([[observedObject valueForKeyPath:observedKeyPath] isEqual:NSMultipleValuesMarker])
        {
            // This is needed because, when performing multiple selection,
            // we get called with setDate:nil. Then we blindly apply this to
            // the entire selection.
            // For our needs, it's enough to block applying values to multiple
            // selection. But it's not a correct solution.

            // FIXME: we currently block editing of multiple selection.
            NSLog(@"Not applying value for keypath %@ to %@; currently multiple items are selected", observedKeyPath, observedObject);
        }
        else
        {
            [observedObject setValue:date forKeyPath:observedKeyPath];
        }
    }

    if(self.date)
        if(self.formatter)
            [self setTitle:[self.formatter stringForObjectValue:date]];
        else
            [self setTitle:[date description]];
    else
        [self setTitle:@"-"];
} 
```

# qt - 根据缩放级别渲染 QGraphicsScene

> ID：12477082
> 
> 赞同：2
> 
> 时间：2012-09-18T12:31:21.563
> 
> 标签：qt, zooming, qgraphicsview, qgraphicsscene

是否有（快速？）根据视图缩放级别仅渲染 GraphicsScene 项目子集的方法？我有一个有许多网格线的大场景，我想隐藏/显示其中一些，当缩放改变以避免“网格完全填充场景”效果时。

使用 GraphicsScene 的 addLine 方法绘制网格线。

PS也许，最简单的方法是在其他地方绘制网格（在视图或类似的地方），因为从逻辑上讲它们不是我场景的一部分，它们只是指导线？但我不知道哪种方法更有效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:49:43.587

不建议这样创建网格，因为您将制作许多会影响场景 BSP 树的对象，因此它会很快变慢。它还会使您描述的 LOD 缩放变得更加困难。

我会覆盖`QGraphicsView::drawBackground(QPainter* painter, const QRectF& rect)`，并使用场景坐标中的视图边界来计算您想要多少条网格线以及它们在哪里。然后就像正常的绘画操作一样绘画。

您必须将更新模式设置为，`QGraphicsView::FullViewportUpdate`否则您将在网格渲染中获得人工制品。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:50:08.210

对于网格线，我相信最常见的方法是在`QGraphicsScene::drawBackground()`方法中绘制它们。因此，您必须继承 QGraphicsScene 并覆盖该方法。这就是我在我的一个应用程序中所做的，它运行得非常好。

我也有一些变量`zoomX`，并且`zoomY`在我的 QGraphicsScene 子类中。每当视图的比例发生变化时，我都会设置它们。然后在我的`drawBackground()`方法中检查缩放是否合适，如果是，我画线，否则我不画。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T13:44:35.053

您肯定需要对股票 QGraphicsItem 子类进行子类化（从而放弃 的便利性`addLine()`）。

在`paint()`QGraphicsLineItem 子类的方法中，您可以尝试将线坐标转换为视图的坐标系（使用`QPainter`给定实例中的变换`paint()`）。然后您可以估计线条的物理长度（物理如：视图上的像素长度），如果线条太短则中止绘制。

请注意，尽管进行如此多的坐标计算可能会使一切变得非常缓慢。

编辑：更好的方法可能是实现一个全新的 QGraphicsItem 一次绘制网格。与维护数百个行项目相比，这在 QGraphicsScene 级别上节省了相当多的开销。

# javascript - 如何在 Sharepoint 上使用 JavaScript 显示内容

> ID：12477084
> 
> 赞同：0
> 
> 时间：2012-09-18T12:31:25.740
> 
> 标签：javascript, jquery, sharepoint, web

我正在写一个页面，它将显示服务器运行的最小和最大时间，这些信息存储在一个列表中，我写了一些 JavaScript，但不知道如何显示

样例：

```
min time: XX:XX
max time: xx:xx 
```

它们不能添加为`onClick()`or `MouseOver()`，它们只是常规内容。

那我该怎么办，谁能给我一些好主意？

提前谢谢了！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T19:15:55.883

听起来像页面上的 Web 部件可以解决问题。

**添加 Web 部件**

编辑页面并添加 Web 部件 - 内容编辑器 (CEWP)

**编辑 CEWP**

通过 Editing Tools>Format Text Html>Edit HTML Source 将脚本粘贴到 CEWP

**更好的是！**

如果您在 .js 文件中有代码，请编辑 CEWP 并在 sharepoint 上添加文件位置

# android - “ActivityObject”还是很多对象？

> ID：12477087
> 
> 赞同：1
> 
> 时间：2012-09-18T12:31:31.887
> 
> 标签：android, android-xml

我的问题是：我正在制作一些活动屏幕，需要使用所有 3 个 Xml 文件中的部分信息。解析 xml 后，问题就来了，我不知道用什么样的对象来存储它们，以减少在 android 手机上运行时的性能损失，因为我希望支持回到 2.2。（请参阅下面的 XML） 更复杂的是，“a”可以有很多“b”，而“b”又可以有很多“c”。这导致每个 a 大约 12b，每个 b 大约 20c。

我可以为每个活动创建一个对象，该对象能够存储一个活动所需的所有内容，仅将活动所需的 XML 信息的必要部分存储在数组和二维数组中（如有必要）。这样，创建的对象会更少，但在活动之间移动时会花费更多时间重新解析。

我还可以创建一个由解析器填充的必要对象数组（a、b 或 c。可能是 3 个 a、b 和 c 数组）。这实际上更容易编码，因为它更直接。我想也更容易维护。但是，我预测性能会受到影响，我可能会......不喜欢。

所以事情就是这样，性能受到的影响是否足够小，可以放弃为每个活动创建专门对象的必要性？尤其是性能方面，在加载时间和内存使用方面。（因为我们在这里是移动设备！）

意见，有人吗？

XML 的使用是固定的，它们的格式也是固定的。他们是本地人。
使用 XMLPullParser 检索他们的信息。

我的 Xml（我有 3 个；a、b 和 c）：

```
<aType>
   <aRecord>
      <a1>SomeText</a1>
      <a2>SomeText</a2>    
   </aRecord>
   ...
</aType> 
```

# android - 在android中发送电子邮件时不创建列

> ID：12477089
> 
> 赞同：1
> 
> 时间：2012-09-18T12:31:40.873
> 
> 标签：android, html, email

我使用我的**html 替换了所有标签，以便在 android 中作为电子邮件发送**。我的 html 显示在这里。

```
<!DOCTYPE html>
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Title</title>
<style>
body {
    background: #FFFFFF;
    margin: auto;
    font-family: Helvetica;
    color: #808080;
}
a {
    color: #3A41A1;
}
#wrapper {
    width: 537px;
    margin: auto;
}
#header {
    width: 100%;
    color: #000000;
    margin-bottom: 15px;
}
#content {
    width: 100%;
    background: #DAFFF5;
    margin-top: 10px;
    border-collapse: collapse;
    font-size: 14px;
    display: table;
}
.row {
    display: table-row;
    padding: 8px;
    border: 1px solid black;
}
.cell-header {
    padding: 8px;
    display: table-cell;
}
.cell-left {
    display: table-cell;
    padding: 8px;
    border: 1px solid black;
    color: #006BF2;
    width: 90px;
}
.cell-right {
    display: table-cell;
    padding: 8px;
    border: 1px solid black;
    color: #000000;
    text-align: left;
}
</style>
</head>
<body>
    <div id="wrapper">
        <div id="header">
            ##HEADER## &nbsp; <a href="#">##TEXT1##</a>, <a href="#">##TEXT2##</a>, <a href="#">##TEXT3##</a>
        </div>

        <div id="content">
            <div class="row">
                <div class="cell-header" style="color:#FF6A00; font-weight:bold; text-transform:capitalize; text-align: left;">##NAME##</div>
                <div class="cell-header" style="text-align: right;"><a href="#" style="color:#006BF2;">##LINK##</a></div>
            </div>
            <div class="row">
               <div class="cell-left">
                   ##TITLE##
               </div>
               <div class="cell-right">
                   ##VALUE##
               </div>
            </div>
            <div class="row">
               <div class="cell-left">
                   ##TITLE##
               </div>
               <div class="cell-right">
                   ##VALUE##
               </div>
            </div>
            <div class="row">
               <div class="cell-left">
                   ##TITLE##
               </div>
               <div class="cell-right">
                   ##VALUE##
               </div>
            </div>
        </div>
    </div></body></html> 
```

但是在邮件中没有对齐。显示为

```
##TITLE##
##VALUE## 
```

**我有意使用 Html.fromHtml() 。Html.fromHtml() 支持`<div>`. 那么问题是什么？我该如何解决这个问题？**

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T12:59:31.363

根据这篇[博文](http://commonsware.com/blog/Android/2010/05/26/html-tags-supported-by-textview.html)和该类的一些[源代码](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.1_r2/android/text/Html.java#443)，它看起来`<style>`不是受支持的标签……但又一次`<html>`，`<head>`,`<body>`也不是……所以这让我有点困惑。

这个 StackOverflow[答案](https://stackoverflow.com/a/4964313/945456)表明仅支持通过 HTML 进行的基本格式设置，因此进行更复杂的基于 CSS 的布局可能效果不佳。但是，正如 refhat 所建议的，内联 CSS 可能会起作用。（您可能会查看上面链接的源代码，但简短的初始搜索没有返回任何“样式”结果，因此您甚至可能无法进行内联 CSS。）

另外，假设您正在使用`Intent`它来执行此操作...[听起来](http://blog.iangclifton.com/2010/05/17/sending-html-email-with-android-intent/)并非所有电子邮件应用程序都支持 HTML，如果运行该程序的用户没有支持此功能的电子邮件客户端，从长远来看，这可能是一个糟糕的设计决策.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T12:33:16.097

您需要在表格布局中构建它并提供内联 CSS

# php - 可以通过命令行连接，但不能通过 PHP 脚本

> ID：12477093
> 
> 赞同：1
> 
> 时间：2012-09-18T12:31:49.147
> 
> 标签：php, amazon-rds

我们升级了 Amazon RDS 实例，应用程序无法连接到新实例。我们尝试通过 SSH 连接到应用服务器，然后通过命令行正常连接。我们制作了一个简单的单行 php 脚本，它使用相同的凭据连接，并且从 web 服务器和 PHP 客户端它只是挂起，然后给出了无法连接的错误。我们确信主机名从应用服务器解析了正确的 IP 地址，并且我们已经删除了所有安全组。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:49:07.780

您是否使用 RSA 安全密钥来访问服务器？请记住，以 apache 用户身份运行的 php 应用程序将有一个不同的 RSA 密钥供用户运行命令行 - 您还需要将该密钥添加到远程服务器。

# java - 在 Android 编程中，如何在不使用 XML 的情况下用 Java 制作 GridView？

> ID：12477094
> 
> 赞同：2
> 
> 时间：2012-09-18T12:32:02.153
> 
> 标签：java, android, gridview

我想在 java 中制作一个**GridView**，我不想使用 XML。下面的示例是一个作为布局的 XML。它显示 3 列。我想仅使用 Java 来实现该设置。

在我的活动中，而不是`GridView gv = (GridView) findViewById (R.id.gridview);`

我用`GridView gv = new GridView (this);`.

现在我唯一的**问题**是**它只有 1 列**。

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" 
android:orientation="vertical">

<GridView
    android:id="@+id/gridview"
    android:layout_width="fill_parent" 
    android:layout_height="fill_parent"
    android:columnWidth="90dp"
    android:numColumns="auto_fit"
    android:verticalSpacing="10dp"
    android:horizontalSpacing="10dp"
    android:stretchMode="columnWidth"
    android:gravity="center"/>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T12:37:27.307

等效于的代码`android:numColumns`是`setNumColumns(int)`。对于像 id 这样的事情，您需要返回查看文档。宽度和高度将使用 LayoutParams 设置。

Android Developer.Com 上的[GridView 文档](http://developer.android.com/reference/android/widget/GridView.html#attr_android%3acolumnWidth)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T13:04:36.813

试试这个。

```
GridView gv = new GridView(context);
gv.setId(999999);
gv.setLayoutParams(new    
GridView.LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.FILL_PARENT));
gv.setBackgroundColor(Color.GREEN);
gv.setNumColumns(3);
gv.setColumnWidth(GridView.AUTO_FIT);
gv.setVerticalSpacing(5);
gv.setHorizontalSpacing(5);
gv.setStretchMode(GridView.STRETCH_COLUMN_WIDTH);
gv.setGravity(Gravity.CENTER); 
```

# php - PHP is_null：只有布尔真假，甚至没有null？

> ID：12477095
> 
> 赞同：2
> 
> 时间：2012-09-18T12:32:10.213
> 
> 标签：php, boolean, isnull

跟进这个[问题和答案](https://stackoverflow.com/questions/12461146/php-filter-var-how-to-make-sure-the-user-provides-correct-data-types-true-or)，我决定只接受布尔值 true 和 false，甚至**不**`null`接受其他开发人员/用户的输入。

```
$default = array(
    "category_id"   =>  null,
    "category"      =>  false,
    "randomise"     =>  false
);

$config = array(
    "category_id"   =>  17,
    "randomise"     =>  false, 
    "category"      =>  null
);

function process_array($default,$config)
{
    # Set empty arrays for error & items.
    $error = array();
    $items = array();

    # Loop the array.
    foreach($default as $key => $value)
    {
        if (is_bool($default[$key]) && isset($config[$key])) 
        {
            if ($config[$key] === null) $error[] = '"'. $key.'" cannot be null.';

            # Make sure that the value of the key is a boolean.
            if (!is_bool($config[$key])) 
            {
                $error[] = '"'. $key.'" can be boolean only.';
            }

        }

            if(isset($config[$key]) && !is_array($value))
            {
                $items[$key] = $config[$key];
            }
            elseif(isset($config[$key]) && is_array($value))
            {
                $items[$key] = array_merge($default[$key], $config[$key]);
            }
            else
            {
                $items[$key] = $value;
            }
        }

        # Give a key to the error array.
        $error = array("error" => $error);

        # Merge the processed array with error array.
        # Return the result.
        return array_merge($items,$error);
}

print_r(process_array($default,$config)); 
```

但我得到的结果是，

```
Array
(
    [category_id] => 17
    [category] => 
    [randomise] => 
    [error] => Array
        (
        )

) 
```

我追求的结果，

```
Array
(
    [category_id] => 17
    [category] => 
    [randomise] => 
    [error] => Array
        (
         [0] => "category" cannot be null.
        )

) 
```

所以我认为下面的这条线应该可以工作，但我不明白为什么它不起作用。我尝试使用`is_null`但仍然无法正常工作。知道我做错了什么，我该如何解决这个问题？

```
if ($config[$key] === null) $error[] = '"'. $key.'" cannot be null.'; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T12:41:02.797

我相信一个`null`值不会通过`isset()`测试`if (is_bool($default[$key]) && isset($config[$key]))`，所以它会跳过整个块。

我认为你需要进行一些重构来解决这个问题。也许从 if 中取出 isset 并将其移至 null 测试？

`if (!isset($config[$key]) || is_null($config[$key])) $error[] = '"'. $key.'" cannot be null.';`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T12:44:19.453

`isset($config[$key])`如果值为 null，则返回 false。改用`array_key_exists`（[http://php.net/manual/function.array-key-exists.php](http://php.net/manual/function.array-key-exists.php)）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T12:44:43.937

`null`也不会通过`is_bool`检查......据我所知 - 说到`if statements`- 最好尽可能简单：

```
if (is_null($default[$key]))
{
  $error[] = '"'. $key.'" cannot be null.';
}
else if (!is_bool($default[$key])) 
{
  $error[] = '"'. $key.'" can be boolean only.';
} 
```

正如另一张海报所说，最好将上述内容包装起来`array_key_exists`以避免非法偏移警告。Tbh，为了简单起见，您真的需要这两项检查吗？指定`key`只能是布尔值就足够了。

# mysql - MYSQL Join之谜：同时inner和left join

> ID：12477102
> 
> 赞同：3
> 
> 时间：2012-09-18T12:32:58.467
> 
> 标签：mysql, join

我有以下表格：

```
Schools
Teachers
Courses
XRefSchoolsTeachers
XRefCoursesTeachers 
```

现在我正在尝试获取提供该课程的大学所有教师的名单，这些教师不教授该课程。到目前为止，我有：

```
SELECT *
FROM Courses
INNER JOIN XRefSchoolsTeachers
    ON Courses.SchoolID = XRefSchoolsTeachers.SchoolID 
```

这给了我提供该课程的学校所有教师的 ID，但现在我需要删除所有不反对该课程 ID 的教师 ID `XRefCoursesTeachers`。我在[这里查看了另一个](https://stackoverflow.com/questions/354002/mysql-select-where-not-in-table)关于如何删除不在另一个列表中的东西的问题，我需要一个左连接。但我觉得我也需要一个内部加入，这样我才能得到那所学校的老师，他们已经不在名单上><

例如

```
SELECT *
FROM Courses
INNER JOIN XRefSchoolsTeachers
    ON Courses.SchoolID = XRefSchoolsTeachers.SchoolID
LEFT JOIN XRefCoursesTeachers
    ON (XRefCoursesTeachers.TeacherID = XRefSchoolsTeachers.TeacherID
     AND XRefCoursesTeachers.CourseID = Courses.ID)
WHERE Courses.ID = ? AND XRefSchoolsTeachers.TeacherID IS NULL 
```

会给我任何其他学校任何其他课程的所有老师——不是我想要的。我想要所有可以教*这*门课但不能教的老师。

就像我需要在 上进行内部连接`XRefCourseTeachers.CourseID = Courses.ID`，然后在同一个`XRefCourseTeachers`using实例上进行左连接，`TeacherID`以便我可以挑选出`NULL`结果。但我不知道如何做到这一点。

这怎么可能？我采取了正确的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:02:06.543

```
SELECT *
FROM Courses
INNER JOIN XRefSchoolsTeachers
    ON Courses.SchoolID = XRefSchoolsTeachers.SchoolID
left join XRefCoursesTeachers
    on XRefCoursesTeachers.TeacherID = XRefSchoolsTeachers.TeacherID
where 
    XRefCoursesTeachers.TeacherID is null
    and
    Cousers.ID = ? 
```

或者

```
SELECT *
FROM Courses
INNER JOIN XRefSchoolsTeachers
    ON Courses.SchoolID = XRefSchoolsTeachers.SchoolID
where 
    XRefCoursesTeachers.TeacherID not in (
        select TeacherID
        from XRefCoursesTeachers
        where XRefCoursesTeachers.CourseID = Courses.ID
    )
    and
    Courses.ID = ? 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-19T12:28:07.783

找到了解决方案：

```
SELECT *
FROM Courses
INNER JOIN XRefSchoolsTeachers
    ON Courses.SchoolID = XRefSchoolsTeachers.SchoolID
LEFT JOIN XRefCoursesTeachers
    ON (XRefCoursesTeachers.TeacherID = XRefSchoolsTeachers.TeacherID AND XRefCoursesTeachers.CourseID = Courses.ID)
WHERE 
        XRefCoursesTeachers.TeacherID IS NULL
    AND
        Cousers.ID = ? 
```

# replace - str_replace 替换它刚刚替换的文本？

> ID：12477107
> 
> 赞同：0
> 
> 时间：2012-09-18T12:33:12.150
> 
> 标签：replace, str-replace

弄乱代码。它应该这样做吗？我可以阻止它影响已经替换的文本吗？我试图将匹配的单词变成一个在悬停时显示定义的链接。一切都好，除了我认为定义中的文字也被替换了。

所以文字是... *成为总理的机会使您能够了解预算并分享您对预算和青年预算的看法！我们收集所有参与“成为总理的机会”的人的预算选择，并将其发布在青年预算中，让您——未来的纳税人和选民——在 2013 年预算中发表意见。*

链接[http://www.payingforit.org.uk/chance-to-be-chancellor/youth-budget-2012/46037/](http://www.payingforit.org.uk/chance-to-be-chancellor/youth-budget-2012/46037/)

代码

```
ob_start();
the_content();
$content = ob_get_clean();  
$new_content = str_ireplace($match_term,$match_term_replacement,$content); 
```

数组是

```
matches = Array (
    [0] =>  Youth Budget 
    [1] =>  Welfare system  
    [2] =>  Tax 
    [3] =>  Recession 
    [4] =>  Public spending   
    [5] =>  Public protection 
    [6] =>  PSHEe 
    [7] =>  Pfeg Quality Mark  
    [8] =>  Pension 
    [9] =>  National debt  
    [10] =>  Key Stage 4 
    [11] =>  Income Tax 
    [12] =>  HM Treasury 
    [13] =>  Global financial crisis 
    [14] =>  Gilts 
    [15] =>  Economic awareness 
    [16] =>  Deficit 
    [17] =>  Credit crunch 
    [18] =>  Chancellor 
    [19] =>  Citizenship  
    [20] =>  Budget 
    )

     replace with Array
        (
            [0] =>  <a class="matched_term" href="/about/glossary/#youth-budget"><span class="term">Youth Budget</span><span class="definition">A report from the Citizenship Foundation on the results of all those who take part in Chance to be Chancellor and share their opinions on the Budget of that year.</span></a> 
            [1] =>  <a class="matched_term" href="/about/glossary/#welfare-system"><span class="term">Welfare system </span><span class="definition">A social system where by the Government provides assistance to those individuals and families in need of assistance.</span></a> 
            [2] =>  <a class="matched_term" href="/about/glossary/#tax"><span class="term">Tax</span><span class="definition">A compulsory money contribution to the Government and taken from the producing and selling of goods and services, the earning of income and ownership of property etc.</span></a> 
            [3] =>  <a class="matched_term" href="/about/glossary/#recession"><span class="term">Recession</span><span class="definition">Period of general economic decline defined usually as a lack of economic growth for six months or longer and marked by high unemployment and a drop in retail sales.</span></a> 
            [4] =>  <a class="matched_term" href="/about/glossary/#public-spending"><span class="term">Public spending  </span><span class="definition">Money spent by a government to pay for public services and public infrastructure which is supported by taxation.</span></a> 
            [5] =>  <a class="matched_term" href="/about/glossary/#public-protection"><span class="term">Public protection</span><span class="definition">Is the part of the UK Budget which funds the police, courts and prison system along with emergency services.</span></a> 
            [6] =>  <a class="matched_term" href="/about/glossary/#pshee"><span class="term">PSHEe</span><span class="definition">Personal, social, health and economic education (PSHEe) is a planned programme of learning opportunities and experiences to equip young people with the knowledge, understanding, attitudes and practical skills to live healthily, safely, productively and responsibly.</span></a> 
            [7] =>  <a class="matched_term" href="/about/glossary/#pfeg-quality-mark"><span class="term">Pfeg Quality Mark </span><span class="definition">An accreditation system on financial and economic educational resources from pfeg (Personal Finance Education Group) – an independent charity providing knowledge, resources and support for teaching children about money.</span></a> 
            [8] =>  <a class="matched_term" href="/about/glossary/#pension"><span class="term">Pension</span><span class="definition">A pension is a benefit received by people after they have retired. There are three main types: personal where individuals pay regular amounts to a pension provider, company which are set up by employers and state paid by the Government.</span></a> 
            [9] =>  <a class="matched_term" href="/about/glossary/#national-debt"><span class="term">National debt </span><span class="definition">The sum of all previously incurred annual deficits. Since deficits are financed by government borrowing, national debt is equal to all outstanding government debt.</span></a> 
            [10] =>  <a class="matched_term" href="/about/glossary/#key-stage-4"><span class="term">Key Stage 4</span><span class="definition">The National Curriculum is organised into four 'key stages’. Key Stage 4 is aimed towards pupils in Years 10 and 11 (S3 and S4 in Scotland) usually between the ages of 14 and 16 years old.</span></a> 
            [11] =>  <a class="matched_term" href="/about/glossary/#income-tax"><span class="term">Income Tax</span><span class="definition">A tax paid on income earned by individuals working in the UK.</span></a> 
            [12] =>  <a class="matched_term" href="/about/glossary/#hm-treasury"><span class="term">HM Treasury</span><span class="definition">The UK Government department responsible for public finances and the country’s economic policy.</span></a> 
            [13] =>  <a class="matched_term" href="/about/glossary/#global-financial-crisis"><span class="term">Global financial crisis</span><span class="definition">A situation where the value of financial institutions (e.g. banks) and/or financial products (e.g. mortgages) drops rapidly due to a collapse in confidence in them.</span></a> 
            [14] =>  <a class="matched_term" href="/about/glossary/#gilts"><span class="term">Gilts</span><span class="definition">An investment opportunity issued by the UK Government to borrow money from investors for a defined period of time at a fixed interest rate in order to finance public spending.</span></a> 
            [15] =>  <a class="matched_term" href="/about/glossary/#economic-awareness"><span class="term">Economic awareness</span><span class="definition">Describes individuals’ knowledge and understanding of the economy, particularly how individuals, business and governments shape it and how the economy shapes society.</span></a> 
            [16] =>  <a class="matched_term" href="/about/glossary/#deficit"><span class="term">Deficit</span><span class="definition">A situation in which government spending exceeds the income it is able to collect from taxation.</span></a> 
            [17] =>  <a class="matched_term" href="/about/glossary/#credit-crunch"><span class="term">Credit crunch</span><span class="definition">An economic condition when credit becomes more difficult to obtain due to banks and financial companies becoming more wary of lending money to businesses and individuals.</span></a> 
            [18] =>  <a class="matched_term" href="/about/glossary/#chancellor"><span class="term">Chancellor</span><span class="definition">British Government minister in charge of the HM Treasury department and responsible for economic and financial matters.</span></a> 
            [19] =>  <a class="matched_term" href="/about/glossary/#citizenship"><span class="term">Citizenship </span><span class="definition">A statutory subject in the National Curriculum taught to all pupils aged 11–16 years old in maintained schools in England. Citizenship explores concepts of democracy, justice, rights and responsibilities, identities and diversity.</span></a> 
            [20] =>  <a class="matched_term" href="/about/glossary/#budget"><span class="term">Budget</span><span class="definition">A statement made every year by the government on how it’s going to get the money it needs to spend on the country.</span></a> 
        ) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T14:14:02.413

好的 - 所以首先用唯一的 ID 替换它，然后再次替换。

```
$args = array('post_type'=>'glossary-term','posts_per_page'=>-1);

$terms = get_posts($args);

ob_start();
the_content();
$content = ob_get_clean();  

foreach ($terms as $term) {
    $match_id[]=' gloss_id_'.$term->ID.' ';
    $match_term[]=' '.$term->post_title.' ';
    $match_term_replacement[] = ' <a class="matched_term" href="/about/glossary/#'.$term->post_name.'"><span class="term">'.$term->post_title.'</span><span class="definition">'.$term->post_content.'</span></a>'.' ';
    $match_term_id_replacement[] = ' gloss_id_'.$term->ID.' ';
}       

$new_content = str_ireplace($match_term,$match_term_id_replacement,$content);
$new_contentb = str_ireplace($match_id,$match_term_replacement,$new_content);

echo $new_contentb; 
```

# java - 如何为 XDomain 设置标题 Access-Control-Allow-Origin

> ID：12477110
> 
> 赞同：1
> 
> 时间：2012-09-18T12:33:33.197
> 
> 标签：java, javascript

如何为 XDomain 设置标题 Access-Control-Allow-Origin

我正在尝试通过 java 代码或脚本代码来做到这一点。

请给我一些建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:50:05.370

[以下是](http://enable-cors.org/)启用 CORS 所需的所有信息。

最简单的方法是`.htaccess`在目录中创建一个文件，该文件与此行的标题一起提供：

> 标头集 Access-Control-Allow-Origin *

在上面的链接中，您可以找到许多其他方法。我相信其中一些应该适合你。

# jquery - 从 iframe 中选择 iframe 父级

> ID：12477111
> 
> 赞同：8
> 
> 时间：2012-09-18T12:33:34.007
> 
> 标签：jquery, iframe

我有一个 iframe，它可以上传图片，给人一种 Ajax 上传的错误感觉。

这个 iframe 的内容有 javascript 检查各种事情并发送状态。几乎把它看作是一份进度报告。无论如何，包含 iframe 的页面是显示数据的页面，而不是显示数据的页面，所以我想从 iframe 中更改父页面上的数据。这是我的代码：

```
<div id="iframe_response"></div>
<iframe style="border:none" src="someurl" width="100%" height="350px" id="iframe"></iframe> 
```

这是我在 iframe 中的 jQuery：

```
$('#iframe_response', "#iframe").append('this should go there but it\'s not...'); 
```

但是，它不会向该 div 写入任何内容。我已经在 document.ready 上调用了它，但是唉......

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2015-01-01T15:22:18.373

使用`parent.document`而不是`window.parent.document`

```
$(parent.document).find('#whatever') 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-18T12:40:40.913

这就是答案！刚开始有点混乱，但真的很容易！

假设[同源策略](http://en.wikipedia.org/wiki/Same_origin_policy)没有问题，您可以使用 parent.document 来访问元素并操作它们。

演示：[这里](http://jsfiddle.net/shannonhochkins/4PJcR/show/)
iframe 外部：[这里](http://jsfiddle.net/shannonhochkins/4PJcR/)
iframe 内部：[这里](http://jsfiddle.net/shannonhochkins/KwFxH/)

希望这会有所帮助，我花了相当多的时间为您解决这个问题，所以我很乐意支持我的答案！

干杯，香农

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-06-30T08:43:01.373

我遇到了同样的问题，上述解决方案（jquery）都没有为我工作。

经过一些试验和错误，这对我有用：

（但请注意，这仅在父级也支持 Jquery 时才有效）

```
window.parent.$('#iframe_response').html('this should go there but it\'s not...'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T12:38:10.243

你应该试试这个

```
$(window.parent).find('#iframe_response').html('this should go there but it\'s not...'); 
```

# ruby-on-rails-3 - rails 3：配置设计电子邮件以向我发送额外的邮件

> ID：12477114
> 
> 赞同：0
> 
> 时间：2012-09-18T12:33:42.773
> 
> 标签：ruby-on-rails-3, devise

每当用户帐户被确认、锁定等时，我想向我发送一封电子邮件（不同于发送给用户的电子邮件）。我如何配置设计以发送这些额外的邮件，例如在确认时，向我发送电子邮件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T10:13:20.170

您可以覆盖特定的方法来实现它。

检查 [确认！](http://send_unlock_instructionsrubydoc.info/github/plataformatec/devise/master/Devise/Models/Confirmable#confirm!-instance_method), [send_unlock_instructions](http://rubydoc.info/github/plataformatec/devise/master/Devise/Models/Lockable#send_unlock_instructions-instance_method)等

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-19T11:36:15.563

这个要点完全符合我的要求：[https](https://gist.github.com/982181) ://gist.github.com/982181 （昨天无法回答，对此感到抱歉）

# javascript - `arguments.callee` 如何引用匿名函数？

> ID：12477115
> 
> 赞同：1
> 
> 时间：2012-09-18T12:33:44.847
> 
> 标签：javascript, recursion, anonymous-function

需要一个脚本来快速告诉我页面上有多少 html 评论以及它们的内容是什么。使用匿名函数进行递归 DOM 遍历似乎是合适的：

```
var comments = []; //set up an array where comment contents will be copied to

(function(D) {
  if (8===D.nodeType) comments.push(D.nodeValue); //check if node is a comment
  D=D.firstChild;
  while (D) {
    arguments.callee(D); //recursively look for comments...
    D=D.nextSibling; //...and remember to iterate over all children of any node
  }
})(document);

console.log(comments.join("\r\n")); //list all comments 
```

[小提琴](http://jsfiddle.net/ovfiddle/HbThh/)按预期工作，但我很好奇它是否真的*是一遍又一遍地调用同一个*函数，或者是否有多个对调用的原始函数的引用，或者是否有多个相同的函数被调用......毕竟，没有命名做了参考，那么随着遍历的深入，它将如何工作？我想我可以通过将[以下代码](http://jsfiddle.net/ovfiddle/HbThh/1/)添加到`while (D) {...}`

```
//tmpCallee has been declared
if (tmpCallee) {
  console.warn(arguments.callee === tmpCallee);//true
  /*great, means these should be both pointing to the same function*/
  console.log(arguments.callee === arguments.caller);//false
  /*wait, what? didn't we just establish above that 
    all of our functions called recursively would be the same?*/
  console.log(arguments.caller);//undefined... but it was called recursively!
  console.log(arguments.callee);//prints our function code verbatim as it should
}
tmpCallee = arguments.callee; 
```

我很困惑。1）我*真的*一遍又一遍地调用同一个函数，还是调用了多个相同的函数，或者还有其他东西在起作用？2）为什么不`arguments.caller` *指向*我们的函数？它显然是由它调用的——这就是递归的工作原理，不是吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:11:29.060

> 我真的一遍又一遍地调用同一个函数，还是调用了多个相同的函数，或者还有其他东西在起作用？

是的，你只有一个函数实例，你一直引用它。但是，您正在设置一个调用堆栈，其中`D`将为每次调用保存局部变量（在您的情况下为参数）。

> 为什么 arguments.caller 不指向我们的函数？

对象上没有`caller`属性`arguments`，它已被[删除](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Functions_and_function_scope/arguments/caller)。您可能指的是函数对象的[`caller`属性](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/caller)，它是非标准的但仍然可用（尽管在严格模式和[`argments.callee`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Functions_and_function_scope/arguments/callee).

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T14:12:33.193

这里只涉及一个函数实例。该函数递归调用自身。您可以通过为代码中的函数表达式指定名称来轻松检查这一点：

```
(function fn (D) { 
```

然后，在体内：

```
fn === arguments.callee // => true 
```

上述对于*每次*调用都是正确的，表明在此过程中只创建和调用了一个函数。

另外，这个：

```
arguments.callee === arguments.callee.caller // => true, except first time 
```

向您展示该函数调用自身，即调用者是被调用者。上述表达式对于除第一个调用之外的每个调用都是正确的，因为第一次调用发生在全局代码中。

**现场演示：http:** [//jsfiddle.net/HbThh/2/](http://jsfiddle.net/HbThh/2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T12:56:37.757

没有你应该用来获取的`caller`属性。`arguments``arguments.callee.caller``caller`

# php - 未设置复选框时避免显示 javascript 确认

> ID：12477117
> 
> 赞同：1
> 
> 时间：2012-09-18T12:33:53.443
> 
> 标签：php, javascript

就像标题说的那样，我对复选框验证有疑问。所以，我的 php 文件中有这行显示用户。

```
<a href='#' onclick='if(confirm("Are you sure?"))checkbox.submit()' class='bt_red'><span class='bt_red_lft'></span><strong>Delete items</strong><span class='bt_red_r'></span></a> 
```

在我的 delete_items.php 文件中，我写了以下内容：

```
$checkbox = $_REQUEST['checkbox'];
if(!isset($checkbox)) {
//diplay an error message :"No user selected"
} else {
if(isset($checkbox)) {
// deleting users script
}
} 
```

在这两种情况下，当单击“删除项目”时，我收到了 javascript 确认消息，当没有设置复选框时我不想显示该消息（if(!isset($checkbox)) 语句）。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:40:42.037

首先，您的代码中有很多模棱两可的行。同样的事情可以这样做

```
if(!isset($_REQUEST['checkbox'])) {
  //diplay an error message :"No user selected"
} else  {
  //delete user's script
} 
```

如果您不想要确认消息（如果没有`checkbox`设置），那么您可以这样做：

```
<?php if(isset($_REQUEST['checkbox'])) {
        echo '<a href="#" onclick="if(confirm(\"Are you sure?\"))checkbox.submit()" class="bt_red">';
     } else {
        echo '<a href="#" class="bt_red">';
     }
?>
    <span class='bt_red_lft'></span>
    <strong>Delete items</strong>
    <span class='bt_red_r'></span>
</a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:04:21.817

您可能希望使链接 onclick 语句中的 javascript 代码知道已单击了多少复选框。这很容易。如果您使用 Jquery，您可以像这样查询它们：

```
$("input[type=checkbox]:checked").size(); 
```

这只是评估页面上任何地方检查了多少复选框，因此您必须使用父元素或类或其他东西缩小查询范围。

当您选中复选框的数量时，它只是一些 AND 和 OR 的问题，如下所示：

```
$("input[type=checkbox]:checked").size() > 0 && (confirm("do you really want to do this?")); 
```

如果有选中的复选框，则第一个表达式的计算结果为 true，因此第二个表达式被计算，否则不计算。

希望这可以帮助

编辑：您也可以使用 if 而不是 or。也许这有点熟悉

# oracle - 将更新级联添加到 oracle 中已经存在的主键

> ID：12477121
> 
> 赞同：1
> 
> 时间：2012-09-18T12:34:07.593
> 
> 标签：oracle, database

我已经有一个使用主键创建的表，但是我忘记向它添加一个更新级联函数，有没有办法改变 oracle 中的主键，所以它会这样做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:04:21.453

Oracle中[没有 UPDATE CASCADE](http://asktom.oracle.com/pls/apex/f?p=100:11:0::::P11_QUESTION_ID:5773459616034)。物理主键应该是[稳定](https://softwareengineering.stackexchange.com/questions/8187/should-a-primary-key-be-immutable)的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-21T09:50:21.747

要从表中删除约束，您必须使用以下语法：

```
ALTER TABLE TABLE_NAME
DROP CONSTRAINT CONSTRAINT_NAME 
```

如果你没有给你的约束命名，你可以在你的`USER_CONSTRAINTS`模式 中找到它`SELECT Constraint_Name, Constraint_Type, Table_name FROM USER_CONSTRAINTS;`

默认情况下，约束以格式保存 `Coni`，其中 i 是整数，其值始终递增

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T12:35:35.067

不，没有 ALTER 语句可以做到这一点。

您需要删除并重新创建约束。

要删除未命名的主键约束，只需使用：

```
ALTER TABLE foobar DROP PRIMARY KEY; 
```

# android - 如何暂停或恢复网络通话（即文件下载）

> ID：12477126
> 
> 赞同：0
> 
> 时间：2012-09-18T12:34:48.757
> 
> 标签：android, web-services, android-asynctask

我的应用程序有暂停或恢复我们调用的要求（下载文件）。在我的应用程序中，我需要按顺序或并行调用一组 URL，并且我必须花时间来完成调用。它具有在调用 url 时暂停和恢复的选项。我怎样才能实现它。我尝试了异步任务，但它没有暂停和恢复选项。如果有人有想法，请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:45:39.507

您不能暂停/恢复一个 Web 服务调用：HTTP 协议根本不支持它。您可以尝试使用 HTTP/1.1 keep-alive 连接，但这可能会很痛苦，我强烈建议您不要这样做。相反，您应该在 URL 调用之间暂停。也就是说，拨打一个电话，检索数据，然后转到下一个或在转到下一个之前暂停。

您可以简单地使用`AsyncTask`. 在你的类中声明一个`boolean`变量来保持运行状态（暂停/运行）和一个`indicator`类型的成员变量`Object`——你需要它来通知。

然后在您的`doInBackground`方法中循环遍历您的 URL 依次调用每一个。完成一次通话后，检查该变量。如果它设置为`false`（`pause`即已被调用），则等到它设置为 true - 使用如下内容：

```
for(each url in your list) {
    //make the call and retrieve the data
    ....
    if(!this.runState) { //pause has been called
        // the below code blocks until notified
        synchronized(indicator) {
            try {
                runState.wait();
            } catch (InterruptedException e) {
                // Nothing needs to be done here
            }
        }
    }
} 
```

最后，您将需要停止/恢复方法：

```
public synchronized void pause() {
    runState = false;
}

public synchronized void resume() {
    runState = true;
    //this code notifies the process (in the loop) to stop waiting
    synchronized(syncObject) {
        indicator.notify();
    }
} 
```

**更新**

如果您想使用 HTTP 停止和恢复文件下载，那么您需要做两件事。

1.  手动处理来自连接的 InputStream，例如一次读取 1024 个字节。跟踪您总共阅读了多少。每次阅读后，检查是否没有调用“暂停”。如果有，则等到“恢复”被调用。

2.  调用 resume 后，尝试继续读取流。如果流已被服务器端关闭，则重新建立连接并使用`Range`HTTP 头指定偏移量，例如`Range: bytes=4096-`将请求服务器从流的 4096 字节开始继续传输。请注意，并非所有服务器都支持此标头。如果您的特定服务器没有，那么您就不走运了。

实际的暂停/恢复/检查逻辑将与上述相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T15:03:49.567

自从我查看 HTTP 协议* 以来已经有一段时间了，但是 iirc 您可以设置一个参数来指示输出流中的偏移量。这将让您从之前停止的位置“恢复”下载。显然，这需要服务器支持该功能。

*我也有可能与 FTP 协议混淆。

# pdf - 在 C++/CLI 中创建 PDF 文件

> ID：12477133
> 
> 赞同：0
> 
> 时间：2012-09-18T12:35:17.063
> 
> 标签：pdf, c++-cli

如何使用 C++/CLI 创建 PDF 文件并在其上写入一些数据？我需要外部库吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T16:09:26.507

是的，您确实需要一个外部库。尝试搜索“从 C# 编写 PDF”，然后从 C++/CLI 使用它。这是我发现的一个问题：[在 c# 中在运行时创建 pdf 文件](https://stackoverflow.com/questions/465433/creating-pdf-files-at-runtime-in-c-sharp)。

# c# - ORA-08103 过程错误

> ID：12477134
> 
> 赞同：5
> 
> 时间：2012-09-18T12:35:17.950
> 
> 标签：c#, oracle, stored-procedures, odp.net

如果我使用以下代码从 SQL Developer 调用它，我在 Oracle 上有一个程序可以正常工作：

```
VARIABLE x REFCURSOR
exec MY_PROCEDURE('par1', 'par2', 'par3', 'par4' ,:x);
PRINT x; 
```

如果我尝试从我的 .Net 应用程序（使用 ODP.NET）中调用它，我会收到错误消息：

```
Oracle.DataAccess.Client.OracleException ORA-08103: object no longer exists 
```

这是我用来调用它的代码：

```
OracleConnection con = new OracleConnection();
con.ConnectionString = dbConnectionString; //string with the connectio. It is fine because I can connect

OracleCommand cmd = new OracleCommand("MY_PROCEDURE", con);
cmd.CommandType = CommandType.StoredProcedure;
cmd.Connection = con;

cmd.Parameters.Add(new OracleParameter("par1", OracleDbType.Varchar2)).Value = var1;
cmd.Parameters.Add(new OracleParameter("par2", OracleDbType.Varchar2)).Value = var2;
cmd.Parameters.Add(new OracleParameter("par3", OracleDbType.Varchar2)).Value = var3;
cmd.Parameters.Add(new OracleParameter("par4", OracleDbType.Varchar2)).Value = var4;

OracleParameter ref_cursor = new OracleParameter();
ref_cursor.OracleDbType = OracleDbType.RefCursor;
ref_cursor.Direction = ParameterDirection.Output;
cmd.Parameters.Add(ref_cursor);

con.Open();

OracleDataReader dr = cmd.ExecuteReader();

while (dr.Read())
{  ...   } 
```

cmd.ExecuteReader 命令实际上“有效”，应用程序异常被抛出，`dr.read`但如果我检查`dr`对象，`hasRows`我可以在属性上看到`ORA-08103: object no longer exists`错误。

有什么问题？一个细节是我有一个类似的过程，它遵循几乎相同的逻辑（返回游标）并且工作正常。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-18T13:01:17.533

返回游标的查询是否涉及临时表？如果您使用 ON COMMIT DELETE ROWS 选项返回涉及临时表的游标，然后在检索游标数据之前提交事务，您可能会自责。

COMMIT 很容易发生，因为默认情况下 OD​​P.NET 在*自动提交*模式下工作。

要解决这个问题，

*   要么关闭*自动提交*，
*   或使用带有 ON COMMIT PRESERVE ROWS 选项的临时表（而不是 ON COMMIT DELETE ROWS），
*   或使用常规表格。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-17T18:36:31.353

您还可以为您的连接创建一个事务，并在 OracleCommand 对象中设置事务。

在您检索所有数据之前，它还将防止提交发生。

# xaml - 使用停靠面板平等地拉伸所有孩子

> ID：12477137
> 
> 赞同：4
> 
> 时间：2012-09-18T12:35:26.447
> 
> 标签：xaml

我想做的是创建一个带有 4 个按钮的停靠面板，并让按钮大小相同。

但是，当我现在这样做时，它会格式化前 3 个按钮以填充按钮的内容，最后一个按钮填充剩余空间。

有没有办法让我可以放入 4 个按钮并使它们大小相等。我已经看到了 StackPanel 的问题，并且从阅读中我认为 dockpanel 会为我解决这个问题。

我知道我可以使用设置网格来解决这个问题，但我试图找到另一种解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T07:22:40.403

I don't know which grid you know how to use, but I found the easiest solution is to use a UniformGrid with 1 row. That should fill all the buttons equally.

# java - 为什么 MouseEvent.getButton() 会返回 NO_BUTTON？

> ID：12477151
> 
> 赞同：2
> 
> 时间：2012-09-18T12:36:24.707
> 
> 标签：java, swing, mouseevent, mouselistener

我有类似于以下的代码：

```
JComponent component = ...
component.addMouseListener(new MouseAdapter() {
    @Override
    public void mouseClicked(MouseEvent e) {
        final int button = e.getButton();
        System.out.println("button = " + button);
    }
}); 
```

我今天收到了一个崩溃报告，这是因为 e.getButton() 返回 0，即 NO_BUTTON。可能是什么原因？鼠标点击怎么可能没有按钮？

这发生在 Mac OS X 10.5.8 上的 Java 1.5.0_30 上。

有问题的代码已经投入生产 4 年，每天有数千名用户，这是该错误第一次出现在崩溃报告中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T12:57:41.453

1.  `Java6 and newer version`只支持`Hardware`带三个按钮的鼠标 ( )，有带 5 个按钮的鼠标（两侧，但从未尝试或使用过）

2.  for `MouseEvent`s (from `keyboard`too) 使用在[ButtonModel](http://docs.oracle.com/javase/7/docs/api/javax/swing/ButtonModel.html)中实现的方法`JButtons JComponents`

3.  `JButton`（可能并非对所有人都有效`JButtons JComponents`）已`Mouse event`在 API 中正确实现，没有理由将这些事件乘以 add `MouseListener`，可能存在并发性，或者从附加的 endles 循环`Listeners`

4.  我认为`NO_BUTTON`可以返回`AbstractButton`，不知道没有`SSCCE`

5.  请问还有别的吗`This happened on Java 1.5.0_30 on Mac OS X 10.5.8.`

# lua - 包含文件及其内容

> ID：12477155
> 
> 赞同：1
> 
> 时间：2012-09-18T12:36:32.257
> 
> 标签：lua, include-path

如何将文件导入或包含到 Lua 代码中。我想获取包含在函数中的文件内容。

Lua 文件加载时会加载哪些函数。

任何帮助将不胜感激

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T12:54:18.130

您通常使用[`require`](http://www.lua.org/manual/5.2/manual.html#pdf-require)或[`dofile`](http://www.lua.org/manual/5.2/manual.html#pdf-dofile)，具体取决于您的情况。[`loadfile`](http://www.lua.org/manual/5.2/manual.html#pdf-loadfile)如果[`load`](http://www.lua.org/manual/5.2/manual.html#pdf-load)您需要更大的灵活性，也可以调用较低级别的函数。

*   [`require`](http://www.lua.org/manual/5.2/manual.html#pdf-require)用于加载库模块。参数是模块的名称，然后 Lua 在`package.path`路径中搜索文件。它还维护已加载模块的缓存，因此第二次调用`require`相同名称时，它只会返回缓存的值。
*   [`dofile`](http://www.lua.org/manual/5.2/manual.html#pdf-dofile)更简单。它只是将文件路径作为参数。每次调用时它都会加载并执行代码。

# objective-c - 在 iOS 中使用 drawRect 和 drawLayerInContext 渲染 PDF

> ID：12477156
> 
> 赞同：0
> 
> 时间：2012-09-18T12:36:33.287
> 
> 标签：objective-c, ios, pdf, uiview, core-graphics

我正在创建一个自定义视图，将 PDF 呈现为其边界矩形。
我已经粘贴了下面的代码：

```
CGContextSetRGBFillColor(context, 1.0,1.0,1.0,1.0);
CGContextFillRect(context, self.bounds);

CGRect pageRect = CGPDFPageGetBoxRect(page, kCGPDFMediaBox);
CGFloat scale = MIN(self.bounds.size.width / pageRect.size.width, self.bounds.size.height / pageRect.size.height);
CGContextSaveGState(context);
CGContextTranslateCTM(context, 0.0, self.bounds.size.height);
CGContextScaleCTM(context, 1.0, -1.0);
CGContextScaleCTM(context, scale, scale);    
CGContextDrawPDFPage(context, self.page);
CGContextRestoreGState(context); 
```

我的问题是，如果我在 drawRect 方法中使用上面的代码，它只会给我一个黑色矩形。如果我在 drawLayer: inContext: 方法中使用它，它工作正常。可能是什么原因 ？

PS：当使用它 drawRect 我使用方法 UIGraphicsGetCurrentContext() 来获取当前的图形上下文。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:11:19.090

这段代码实际上对我来说很好.. 添加断点并检查它是否命中 -drawrect 方法

```
 CGContextRef context = UIGraphicsGetCurrentContext();
NSString *filePath = [[NSBundle mainBundle]
                      pathForResource:@"Trial" ofType:@"pdf"];
NSURL *url = [[NSURL alloc] initFileURLWithPath:filePath];
CGPDFDocumentRef document = [self openDocument:(CFURLRef)url];
[url release];

CGPDFPageRef docPageRef =CGPDFDocumentGetPage(document, 1);

CGContextSetRGBFillColor(context, 1.0,1.0,1.0,1.0);
CGContextFillRect(context, self.bounds);

CGRect pageRect = CGPDFPageGetBoxRect(docPageRef, kCGPDFMediaBox);
CGFloat scale = MIN(self.bounds.size.width / pageRect.size.width, self.bounds.size.height / pageRect.size.height);
CGContextSaveGState(context);
CGContextTranslateCTM(context, 0.0, self.bounds.size.height);
CGContextScaleCTM(context, 1.0, -1.0);
CGContextScaleCTM(context, scale, scale);
CGContextDrawPDFPage(context, docPageRef);
CGContextRestoreGState(context); 
```

我在我的drawrect中使用了它并且效果很好。

检查所有引用是否获得了您提供给drawrect的值 [检查这个](https://stackoverflow.com/questions/7699617/ios-5-uiview-drawrect-override-not-working-on-device)

# c# - 动态设置ajax Modal Popup的高度

> ID：12477161
> 
> 赞同：0
> 
> 时间：2012-09-18T12:36:46.050
> 
> 标签：c#, asp.net, ajaxcontroltoolkit

我正在创建一个 asp.net c# web 应用程序。其中我有一个 ajax 模态弹出窗口，其中包含一个 GridView。ModalPopUp 的高度是根据 GridView 的高度自动设置的（这取决于 GridView 内部的数据）。现在我想要的是，当 Popup 的高度变得大于其父页面时，那时我想重置 PopUp 的高度（小于父页面）并在其上设置一个滚动条。所有这一切我想动态地做客户端。为此，我使用以下代码

```
 function ShowPopUp_AllPrices() {          
    $find('popupAllPrices').show();       
    return false;   
    }

<asp:LinkButton ID="lnkProduct" runat="server"></asp:LinkButton>
<ajaxToolkit:ModalPopupExtender ID="ModalPopupProduct" runat="server" BehaviorID="popupProduct"
    TargetControlID="lnkProduct" PopupControlID="pnlAddProduct"    BackgroundCssClass="modalBackground" />
<asp:Panel ID="pnlAddProduct" runat="server" Style="display: none; width: 80%; font-size: 8pt;">

 <div>
        <asp:LinkButton ID="lnkAllPrices" runat="server"></asp:LinkButton>
        <ajaxToolkit:ModalPopupExtender ID="ModalPopupAllPrices" runat="server" BehaviorID="popupAllPrices"
            TargetControlID="lnkAllPrices" PopupControlID="pnlAllPrices" BackgroundCssClass="modalBackground"  />
        <asp:Panel ID="pnlAllPrices" runat="server" Style="display: none; width: 30%; font-size: 8pt; ">
      <div class="art-blockcontent">
                        <div class="art-BlockContent-body">
                            <%--<div style="overflow: auto; width: 100%; height: 200px;">--%>
                            <table width="100%">
                                <tr>
                                    <td align="center">
                                        <div style="overflow: auto; width: 100%; "><%--height: 200px;--%>
                                            <asp:GridView ID="grvPriceTypes2" runat="server" AutoGenerateColumns="False"      AllowSorting="true"
                                                EmptyDataText="No Data Found." Width="90%" CssClass="cssGrid" BackColor="WhiteSmoke"
                                                PagerStyle-HorizontalAlign="Center" OnRowCommand="grvPriceTypes2_OnRowCommand"
                                                Enabled="false">
                                                <Columns>
                                                    <asp:BoundField DataField="StartDate" HeaderText="Start Date"      DataFormatString="{0:MM/dd/yyyy}"
                                                        ItemStyle-HorizontalAlign="Center" ItemStyle-Width="25%" />
                                                    <asp:BoundField DataField="EndDate" HeaderText="End Date"     DataFormatString="{0:MM/dd/yyyy}"
                                                        ItemStyle-HorizontalAlign="Center" ItemStyle-Width="20%" />
                                                    <asp:BoundField DataField="PriceType" HeaderText="Type"      ItemStyle-HorizontalAlign="Center"
                                                        ItemStyle-Width="15%" />
                                                    <asp:BoundField DataField="Price" HeaderText="Price"      ItemStyle-HorizontalAlign="right"
                                                        ItemStyle-Width="20%" />
                                                </Columns>
                                            </asp:GridView>
                                        </div>
                                    </td>
                                </tr>
                            </table>                                                            
                        </div>
                    </div>
  </asp:Panel>
    </div>
 </asp:Panel> 
```

请告诉我我应该在 ShowPopUp_AllPrices() 函数中编写什么代码来设置该模态弹出窗口的高度和滚动条。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T06:04:51.743

我的问题解决了。我刚刚设置了 div 标签的“最大高度”样式属性，它位于我的 Grid.Like 上方：

```
<div style="overflow: auto;max-height:400px; width: 100%;" > 
```

通过在 style 属性下给出“max-height”，当 pop 的高度增加超过 400px 时，它会自动在该 popup 内给出滚动条。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T14:21:12.690

```
divWindow.dialog({
    autoOpen: true,                                   
    title: "Menu Items",
    draggable: true,
    resizable: false,
    modal: true,
    width:($(window).width() * .9),
    height: ($(window).height() * .9),
    dialogClass: 'dialogFixed',
    open: function(event, ui) 
}); 
```

# objective-c - NinjaMyApp：重复符号

> ID：12477176
> 
> 赞同：0
> 
> 时间：2012-09-18T12:37:48.030
> 
> 标签：objective-c, ios, xcode

我正在开发一个运行良好的应用程序，但是当我尝试包含 NinjaMyApp 文件夹（使用拖放）时，出现重复符号错误。

```
ld: duplicate symbol _OBJC_CLASS_$_InfoView in /Users/xyzpath/NinjaMyApp-v0.32/NinjaMyApp-v0.32/4mnow-1.32/4mnowLaunchPad/4mnowLaunchPad.a(InfoView.o) and /Users/xyzpath/NinjaMyApp-v0.32/NinjaMyApp-v0.32/4mnow-1.32/4mnowBasic/4mnowBasic.a(InfoView.o) for architecture i386 
```

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T12:43:28.830

我对您正在使用的静态库一无所知，但显然其中两个在其中的类有重复的名称：LaunchPad.a 和 Basic.a。也许它们不应该一起使用？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-29T05:58:42.000

不要#include 或#import .m 文件。只需将这些 .m 文件添加到 Target | 构建阶段。不要将 .h 文件添加到构建阶段，而是将 #import .h 文件添加到您需要这些功能的任何地方。

编译器知道它只是一个“仅供参考”的头文件，并且当它编译 .m 文件并将它们全部放入 1 个可执行文件时，函数的主体将可用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T12:44:37.303

似乎您两次包含类 InfoView：在项目中搜索重复文件并将其删除。您可以通过在项目导航搜索栏中搜索名称来做到这一点：

![Xcode 项目导航搜索栏](../Images/1b5b84d3ab955149b48ef53fc8aa15b4.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T12:44:48.940

看起来您已导入 InfoView.m 而不是 .h

# knockout.js - 使用 knockoutjs 在 href 点击时触发 bindingHandler

> ID：12477180
> 
> 赞同：0
> 
> 时间：2012-09-18T12:37:53.863
> 
> 标签：knockout.js, knockout-2.0

我正在使用 KnockoutJS，并为它创建了一个自定义处理程序。

```
ko.bindingHandlers.customHandler = {
    init: function(element, valueAccessor) {
        // init code
    },
    update: function (element, valueAccessor, allBindingsAccessor) {
        // Also called when first loaded...
        // Also called when clicked
    }
}; 
```

当我将它绑定到输入元素时，这一切都有效：

```
<input type="checkbox" data-bind="customHandler: true" /> 
```

但不是当我将它添加到超链接时

```
<a href="javascript:;" data-bind="customHandler: true" /> 
```

有没有办法轻松地将我的自定义处理程序绑定到一个`a href`？

# jquery - Fancybox 没有在一个页面上加载，而是在另一个页面上

> ID：12477189
> 
> 赞同：0
> 
> 时间：2012-09-18T12:38:31.807
> 
> 标签：jquery, fancybox

我已经在我的图像上设置了 Fancybox

```
<a class="fancybox fancybox.iframe" href="products.php?prod_id=36">
    <div class="prod-img">
        <img src="images/products/Apples_Red_Delicious.jpg" style="max-height:114px; max-width: 114px;" alt="Apples Red delicious  ($3.99kg)"/>
    </div>
</a> 
```

我已经准备好文件准备好的脚本

```
$(document).ready(function() {
    $('.fancybox').fancybox({
        width: 560,
        autoHeight: true,
        scrolling: 'no'
    });
}); 
```

（`type: 'iframe'`已从脚本中删除，因为不需要并且没有任何区别）

但它只是不会为我加载 Fancybox 中的页面！

我从字面上复制并粘贴了同一文件夹中另一个文档的代码，它在那里工作，但不是在这里。

我尝试将链接移动到仅环绕标准文本，但仍然没有运气

[您可以在http://www.dpdesignz.co.nz/homefresh/shop.php?prod=1](http://www.dpdesignz.co.nz/homefresh/shop.php?prod=1)预览页面。谁能看到它可能有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T12:47:18.073

尝试将 iframe 放在引号中，如下所示：

```
 type: 'iframe' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:22:56.387

尽管上面所说的都是真的，但您页面的真正问题是验证器插件

删除它并尝试

```
<script type="text/javascript" src="js/jquery.validate.js"></script> 
```

似乎有冲突。

顺便说一句，我建议您使用验证引擎插件。 [http://www.position-relative.net/creation/formValidator/index.html](http://www.position-relative.net/creation/formValidator/index.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T12:54:14.060

使用`type:iframe`不带引号的 '' 会导致错误。因此，只需尝试通过向 iframe 类型添加单引号来用下面的代码替换您的花哨的框调用。

```
$('.fancybox').fancybox({
        width: 550,
        height: 590,
        type: 'iframe'
    }); 
```

希望对你有帮助

# html - 向左浮动右侧的div，使其出现在下方

> ID：12477196
> 
> 赞同：0
> 
> 时间：2012-09-18T12:38:55.897
> 
> 标签：html, css

我有以下 HTML：

```
<div style="float:left; background-color:#0CC;">Floating Left</div>
<div style="background-color:#03C; color:#FFF;">Not floating</div> 
```

在浏览器中显示如下：

![浮动 div](../Images/19e6434c65aacf0c18c8551d828bfb7a.png)

如何使“不浮动”的 div 出现在浮动的下方？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T12:41:24.160

只需将`clear: both;`非浮动元素添加到您的 CSS 中：

```
<div style="background-color:#03C; color:#FFF; clear: both;">Not floating</div> 
```

[http://jsfiddle.net/Kyle_Sevenoaks/SnAc9/](http://jsfiddle.net/Kyle_Sevenoaks/SnAc9/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T12:40:45.890

你需要清除浮动

```
clear:left 
```

因为感觉`float:left`是向左浮动到其余内容，直到您清除浮动。

如果我误解了您，并且您希望第二个 div 让它的内容被浮动 div 覆盖（“出现在浮动的下方”），您需要绝对定位而不是浮动 div。

此外，建议使用单独的 css-rules 而不是 inline-styles。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T12:46:38.557

你的意思是你想让左边的div被插入？

[http://jsfiddle.net/2xhGC/2/](http://jsfiddle.net/2xhGC/2/)

## HTML

```
<div class="inset">Inset div that is wrapped by the other content.</div>
<div class="article"><!-- start slipsum code -->

<h1>I gotta go</h1>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus non justo ante, at auctor odio. Phasellus suscipit facilisis ligula eu dignissim. Praesent eget odio nisi. Sed in hendrerit massa. Aliquam laoreet fermentum sapien, vitae placerat velit pellentesque vel. Aliquam lectus nibh, porttitor non laoreet eget, varius ac enim. Vestibulum feugiat metus rhoncus libero rhoncus commodo. Phasellus id auctor nisi. Sed hendrerit eleifend egestas. Praesent et tristique nunc. Aliquam id velit tortor.</p>

<h1>Uuummmm, this is a tasty burger!</h1>
<p>Nullam tempus mauris id velit lobortis varius. Mauris tempor aliquet diam, eu egestas augue ultricies id. In cursus ullamcorper velit quis viverra. Maecenas non nisi erat. In hac habitasse platea dictumst. Ut ipsum turpis, consequat sit amet aliquet a, rutrum at erat. Vestibulum auctor, risus quis elementum accumsan, elit sem ultrices est, ut interdum sem erat id leo. Aliquam adipiscing ultricies justo, sed facilisis ipsum congue eget. Duis sem elit, faucibus non aliquam eu, pulvinar nec elit.</p>

<h1>Uuummmm, this is a tasty burger!</h1>
<p>Suspendisse venenatis iaculis est in malesuada. Nunc sit amet arcu eleifend felis bibendum rhoncus eget eu ante. Maecenas molestie, purus eget bibendum rhoncus, ipsum orci lobortis enim, sit amet congue nisl urna vitae arcu. Nullam eget ipsum sapien, ac accumsan augue. Suspendisse consequat aliquet commodo. Morbi vel arcu non risus tristique fermentum. Morbi viverra nisl nec dui iaculis pretium. Morbi id viverra erat. Donec molestie euismod ipsum, id commodo purus lacinia at. Ut auctor turpis sit amet erat ullamcorper eu gravida neque iaculis. Sed augue purus, aliquam sit amet faucibus quis, dapibus vitae odio. Nulla mollis faucibus pharetra. Phasellus eleifend sodales nisi id suscipit.</p>

<h1>I can do that</h1>
<p>Curabitur ac sem metus, in ornare lacus. Duis auctor hendrerit viverra. Morbi posuere fermentum laoreet. Suspendisse potenti. Phasellus auctor lacinia tristique. Mauris interdum turpis et libero fringilla a consectetur ligula malesuada. Suspendisse urna neque, sagittis nec suscipit eleifend, imperdiet in arcu. Cras sit amet arcu metus. Curabitur cursus, justo sed tempor volutpat, felis justo dapibus risus, non porta sapien lectus tempor arcu. Nunc vel enim lectus, et iaculis urna.</p>

<!-- please do not remove this line -->

<div style="display:none;">
<a href="http://slipsum.com">lorem ipsum</a></div>

    <!-- end slipsum code --></div> 
```

## CSS

```
.inset{
    margin:1em;
    padding:1em;
    background-color:#ff0000;
    float:left;
    width:75px;
}

.article{
    padding:1em;
    background-color:#ccffcc;
}

.article p{
    line-height:1.4em;
    margin-bottom:.6em;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T13:04:22.370

您应该使用`clear: left`which 表示该元素不会接受其自身左侧的浮动元素，因此会跳到其下方。

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2012-09-18T12:41:06.077

您必须“清除：正确”第一个 div ...

# linux - 在 Linux 主目录中创建并执行 shell 脚本

> ID：12477206
> 
> 赞同：1
> 
> 时间：2012-09-18T12:39:58.367
> 
> 标签：linux, shell

我想在我的主目录 (/home/user) 中创建（并执行）一个 shell 脚本。

尝试了以下方法：

```
printf "cd /mypath\n" > myShortcut.sh
chmod +x myShortcut.sh
sh myShortcut.sh 
```

我哪里错了？

（我正在尝试设置一个快捷方式来导航到不同的目录）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T12:43:23.627

这里到底出了什么问题？脚本执行后你还在 /home/user 中吗？那是因为执行脚本会创建一个子 shell，一旦脚本结束，它就会返回到父 shell。因此，您的 cd 在您当前的 shell 中没有任何效果。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T13:05:58.663

如果要在**当前 shell**中执行脚本（而不是在*subshel​​l*中），请使用`source`（或`.`）命令：

```
 source myShortcut.sh 
```

这应该会按预期更改目录。

此外，source 还允许您在当前 shell 中设置和更改环境变量——这本身就是一个非常常见的问题 :-)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-18T12:45:37.593

由于其他答案的内容，这将不起作用。该脚本在子 shell 中运行。

对于这样的快捷方式，您可以设置一个别名，编辑主目录中的 .bashrc 文件并添加一行

别名快捷方式='cd /mypath'

将“快捷方式”替换为您想要命名的任何内容，并将 mypath 替换为您想要的路径。重新启动 shell（关闭终端并重新打开或 w/e），这应该可以按您的意愿工作。然后，您可以在 shell 中的任何位置使用“快捷方式”。

# json - 对于特定域，如何在本地缓存其 JSON 响应？

> ID：12477208
> 
> 赞同：0
> 
> 时间：2012-09-17T19:49:36.387
> 
> 标签：json, caching, reverse-proxy, breeze

我正在编写一个 Web 应用程序的前端，该应用程序使用 XHR 从第三方获取 JSON 数据。

3rd 方服务很慢，而且由于它的 API 设计，我们每次刷新页面时都需要发出大量 API 请求来测试一些新代码。它使开发循环变得痛苦。

这些请求是 GET、POST 和 PUT，尽管我很确定没有一个请求正在改变状态。

我想去 localhost 获取 JSON 而不是这个 3rd 方 API - 只是为了让我的开发过程更快。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T19:58:35.440

看起来很基础，使用 AmplifyJS、BreezeJS 之类的库或用于缓存的内置 jQuery 选项。

# java - WebView 不应在浏览器中打开链接

> ID：12477214
> 
> 赞同：0
> 
> 时间：2012-09-18T12:40:17.817
> 
> 标签：java, android

如何让 WebView 在 WebView 本身而不是浏览器中打开链接？

这是我的代码：

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_dsaif);
    runDialog(5);
    WebView engine = (WebView) findViewById(R.id.web_engine);
    engine.loadUrl("http://android.dsaif.tk/store/");
} 
```

请提供完整的代码和修复，因为我对 Android 开发非常陌生。谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T12:44:40.313

试试这样...

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_dsaif);
    runDialog(5);
    WebView engine = (WebView) findViewById(R.id.web_engine);
    engine.loadUrl("http://android.dsaif.tk/store/");
    engine.setWebViewClient( new HelloWebViewClient() );
} 

  private class HelloWebViewClient extends WebViewClient {

      @Override
      public boolean shouldOverrideUrlLoading( WebView view, String url ) {                 

         return false;
      }
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T12:50:31.770

试试这段代码…………

```
 public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.share_email);
    webE = (WebView)viewToLoad.findViewById(R.id.webE);
        webE.loadUrl("http://some url");
        webE.setWebViewClient(new HelloWebViewClient());
 }

 class HelloWebViewClient extends WebViewClient {
    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url)
    {

        view.loadUrl(url);
        return true;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T13:22:10.653

我们在项目中也遇到了这个问题。我们通过在项目的 web 端使用 jQuery Mobile 解决了这个问题。如果你正在编写项目的网页端，我可以建议你使用 jQuery Mobile。

# linq - 如何通过使用 Linq to xml 中的属性获取元素值？

> ID：12477224
> 
> 赞同：0
> 
> 时间：2012-09-18T12:40:48.710
> 
> 标签：linq, linq-to-sql, linq-to-xml

> **可能重复：**
> [LINQ to XML。如何得到一些字符串？](https://stackoverflow.com/questions/12413670/linq-to-xml-how-to-get-some-string)

我的 XML 响应看起来像这样。

```
 <Items>
   <Item>
     <ImageSets>
       <ImageSet Category="Primary">
          <SwatchImage>
             <URL>http://xxx.com/img1.jpg</URL>
             <Height Units="pixels">30</Height>
           </SwatchImage>
           </ImageSet>

          <ImageSet Category="Variant">
           <SwatchImage>
             <URL>http://xxx.com/img2.jpg</URL>
             <Height Units="pixels">30</Height>
           </SwatchImage>
           </ImageSet>

          <ImageSet Category="Variant">
           <SwatchImage>
             <URL>http://xxx.com/img3.jpg</URL>
             <Height Units="pixels">30</Height>
           </SwatchImage>
          </ImageSet>

          </ImageSets>
          </Item>
          </Items> 
```

现在，如果类别名称为“Variant”，我如何获取 SwatchImage 元素的值（URL）？如果您需要更多信息，请与我们联系。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T14:22:34.937

使用我上面提到的链接中提供的代码示例，只获取特定`<ImageSet>`节点的 URL 值应该相当简单：

```
XDocument xdoc = XDocument.Load("file.xml");

string[] urls = xdoc
   .XPathSelectElements("//ImageSet[@Category='Variant']/SwatchImage/URL")
   .Select(n => n.Value)
   .ToArray(); 
```

# testing - 如何在 RFT 中重用测试对象图

> ID：12477226
> 
> 赞同：0
> 
> 时间：2012-09-18T12:40:51.303
> 
> 标签：testing, rft

我已经为客户端 1 和客户端 2 使用对象映射和验证点记录了一个脚本，我正在使用相同的应用程序，但我不想重新记录应用程序，只有验证点单独更改。使用了相同的对象。

注意：如果我单独复制并粘贴代码，则脚本会显示没有对象映射的错误。那么如何重用Object map

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T06:18:52.173

您是否尝试将脚本从一个 client1 导出到 client2 ？当您导出脚本时..然后所有相关文件..即。对象映射/脚本助手/验证点等也被导出。

利用

```
 File  > Export > FunctionalTest > Functional Test Project Items 
```

如果您创建了一个共享对象映射（即一个将在一个项目中的不同脚本之间共享的对象映射），那么您也可以从一个项目中导出该对象映射并将其导入另一个项目。

```
 File  > Import > FunctionalTest > Functional Test Project Items 
```

希望有帮助。

# jquery - 使用 jquery 访问 Limesurvey API - 错误 631：无法解析请求

> ID：12477228
> 
> 赞同：2
> 
> 时间：2012-09-18T12:40:58.247
> 
> 标签：jquery, api, xmlhttprequest, limesurvey

我想将 Limesurvey API 与 jquery 一起使用。当我尝试使用以下代码获取会话密钥时，我收到错误消息 631: failed to parse request, when I enable the xml rpc. 启用 json-rpc 时没有响应。

```
 $.post("url_to_survey/index.php/admin/remotecontrol",{
                username : "foo", password : "bar"
                },
                function(data) {
                   alert('sessionKey: ' + data);
                }
    ); 
```

有人可以发布示例查询吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:04:10.523

尝试将`dataType`参数强制为您的请求，如下所示：

```
$.post("url_to_survey/index.php/admin/remotecontrol",
  {method : 'get_session_key', username : "foo", password : "bar" },
  function(data) {
      alert('sessionKey: ' + data);
  }, 
  'json'
); 
```

`dataType: "json"`如果您启用`json-rpc`等，请使用。

编辑：只需添加方法名称

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:30:34.573

它通过使用启用了 xmp-rpc 的模拟库来工作。

```
var method = "get_session_key";  
var request = new XmlRpcRequest(input, method);  
request.addParam("your_username");  
request.addParam("your_password");  
var response = request.send();  
alert(response.parseXML()); 
```

# java - 如何在 JDK 1.6 中使 JFrame 透明？

> ID：12477235
> 
> 赞同：0
> 
> 时间：2012-09-18T12:41:12.907
> 
> 标签：java, swing, java-6

在 JDK 1.7 中，我使用`setUndecorated(true);`and`setBackground(new Color(0, 0, 0, 0));`使我的框架透明。

这非常有效，但是当我将项目更改为 1.6 时，相同的代码只会使框架变成原来的蓝色。我不想让我的表单不透明度降低，因为 alpha 透明。我想让它更像一个闪屏，其中 GD 绘制 SOLID 非不透明线条，但周围完全是可点击且透明的。

1.6 中的代码是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T12:44:50.610

**请参阅本教程以了解如何使 JFrame 透明**

[http://blogofjavacrazy.blogspot.in/2007/03/transparent-window-in-java.html](http://blogofjavacrazy.blogspot.in/2007/03/transparent-window-in-java.html)

**/////编辑部分//////**

我偶然发现了一个简洁的小技巧，它实际上不是透明的，而是截取屏幕截图并将那个小片段添加为背景。

**看到这个链接：**

[http://onjava.com/pub/a/onjava/excerpt/swinghks_hack41/index.html](http://onjava.com/pub/a/onjava/excerpt/swinghks_hack41/index.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T13:01:06.473

> 在 jdk 1.6 我使用 setUndecorated(true); setBackground(新颜色(0, 0, 0, 0)); 使我的框架透明。这非常有效，但是当我将项目更改为 1.6 时，相同的代码只会使框架变成原来的蓝色。

可能存在这个问题[从 Java 平台标准版 6 (Java SE 6) Update 10 版本开始，您可以将半透明和形状的窗口添加到您的 Swing 应用程序中。](http://docs.oracle.com/javase/tutorial/uiswing/misc/trans_shaped_windows.html)

# asp.net - iTextSharp 嵌套表，内表不是 100% 宽度？

> ID：12477236
> 
> 赞同：3
> 
> 时间：2012-09-18T12:41:16.247
> 
> 标签：asp.net, itext

我在它自己的类库中使用带有 iTextSharp 的 asp.net 4.0。从属性，运行时版本 v2.0.50727，版本 5.3.0.0。

当我嵌套两个表时，内表有一个我无法控制的自动边距或填充。如何让两个表都是 100%？

//已编辑

```
public PdfPTable GetHeaderInnerTable(Rectangle pageSize)
{
// create 2 table cell
// left cell for Report Header text
// right cell for microsoft internal only image
int columnCount = 2;

PdfPTable table = new PdfPTable(columnCount);
table.TotalWidth = 792;
//table.WidthPercentage = 100; // 80 is default - THIS IS THE ANSWER TO MAKE INNER TABLE 100%
float[] widthColumns = new float[] { 652, 140 }; //left edge of second column is where image should be
table.SetTotalWidth(widthColumns);

// Left Cell
PdfPCell leftCell = new PdfPCell();
leftCell.Border = 0;

Font font = fontHeaderSegoeUIRegular;
font.Color = BaseColor.WHITE;
Phrase phrase = new Phrase(0, this.PdfModel.CompanyName + Data.Strings_DataResource.PdfTitlePostpend, font);
leftCell.AddElement(phrase);
leftCell.PaddingLeft = 40; // where to start the report name text from the left
leftCell.PaddingTop = 30; // where to start the report name text from the bottom

// Right Cell
PdfPCell rightCell = new PdfPCell();
rightCell.Border = 0;
Image image = Image.GetInstance(this.PdfModel.ImageAssets.Get("HeaderBarRightMicrosoftInternalImageLocation"));

rightCell.FixedHeight = 90; // total height of red bar
rightCell.AddElement(image);
rightCell.Padding = 0;
rightCell.PaddingBottom = 10; // push image up off the red bar
rightCell.BorderWidthRight = 0;
rightCell.PaddingTop = 20; // push image down off the red bar

//// add cells to table
table.AddCell(leftCell);
table.AddCell(rightCell);

return table;
}

public PdfPTable GetHeader(Rectangle pageSize)
{
int columnCount = 1;

PdfPTable table = new PdfPTable(columnCount);
table.DefaultCell.VerticalAlignment = Element.ALIGN_TOP;
table.TotalWidth = pageSize.Width; //792  

PdfPCell headerLeftCell = new PdfPCell();
headerLeftCell.Colspan = 1;
float getleft = headerLeftCell.GetLeft(0);
float leading = headerLeftCell.Leading;

headerLeftCell.Padding = 0;
headerLeftCell.PaddingBottom = 0;
headerLeftCell.BorderWidthRight = 0;
headerLeftCell.PaddingTop = 0; // how far donw to print the phrase
headerLeftCell.PaddingLeft = 0; // how far in to print the phrase
headerLeftCell.FixedHeight = this.PixelsToPoints(90); // cell controls height of table
headerLeftCell.Border = 0;
headerLeftCell.Indent = 0;

Image backgroundHeaderImage = iTextSharp.text.Image.GetInstance(this.PdfModel.ImageAssets.Get("HeaderBarImageLocation"));  

// assign background Image to cell - 60 instead of 54 because it was gett squashed - probably the padding somehow            
headerLeftCell.CellEvent = new BackgroundImageCellEvent(backgroundHeaderImage, 60, 792);

headerLeftCell.AddElement(this.GetHeaderInnerTable(pageSize));

table.AddCell(headerLeftCell);

return table;
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-18T12:42:33.310

一个答案是将内部 WidthPercentage 设为 100，如果未设置该值，则默认为 80。

# php - Drupal 6 Feeds：admin/build/feeds 空导入器

> ID：12477237
> 
> 赞同：2
> 
> 时间：2012-09-18T12:41:21.003
> 
> 标签：php, drupal, import, feed

我在 ec2 专用服务器上设置了 Drupal 生产站点。

以下是主要设置：

Drupal：6.16 MySQL：5.1.57 PHP：5.3.2-1ubuntu4.17 内存限制：256M Web 服务器：Apache/2.2.14 (Ubuntu) jQuery UI：1.8 jQuery 更新：1.3.2

ctools：6.x-1.9

提要：6.x-1.0-beta12 提要管理 UI：6.x-1.0-beta12 提要快速新闻：6.x-1.0-beta12 提要导入：6.x-1.0-beta12 提要新闻：6.x-1.0- β12

问题是如果我去 admin/build/feeds，进口商列表是空的。当我刷新缓存（admin_menu/flush-cache）时，列表重新出现，但是在导航不同的站点页面后，当我重新访问 admin/build/feeds 时，导入器列表再次为空。

提要节点页面上的“导入”选项卡也是如此（我使用提要作为源内容类型）。

我尝试了以下方法：

*   使用 Drupal 的缓存函数显式清除缓存
*   修改 feeds_importer_load_all 函数以设置所需的 ctools 静态变量。
*   将 PHP 内存限制增加到 512MB
*   完全禁用缓存。
*   使用 $GLOBALS['conf']['cache'] = FALSE 显式禁用缓存；在 hook_init
*   还有其他一些补丁

$cache = &ctools_static(**函数**); $cached_database = &ctools_static('ctools_export_load_object_all');

在函数 ctools_export_load_object 中始终为空并返回空白模式。

以上都没有解决问题。

有没有人经历过类似的情况或知道它可能有什么问题？感谢在这件事上的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T06:34:51.170

我找到了解决方案：

问题出在 drupal_get_schema 函数上。我从线程[http://drupal.org/node/402896](http://drupal.org/node/402896)应用了 drupal 6 补丁[http://drupal.org/files/issues/schema_cache_402896_D6.patch](http://drupal.org/files/issues/schema_cache_402896_D6.patch)并且它有效。

明显的问题似乎在于 drupal_get_schema 正在加载完整的模式缓存。即使指定了特定的表，它也不能在资源相对有限的特定环境中工作。

谢谢。

# android - 访问已创建的 phonegap 数据库

> ID：12477238
> 
> 赞同：0
> 
> 时间：2012-09-18T12:41:20.923
> 
> 标签：android, cordova

根据 phonegap 的 API 文档，

> window.openDatabase 返回一个新的 Database 对象。
> 
> 此方法将创建一个新的 SQL Lite 数据库并返回一个数据库对象。使用数据库对象来操作数据。

但是，我不明白当您关闭应用程序并重新打开它时会发生什么。我们创建的数据库会发生什么。它不是持久存在的吗？如果是这样，我们如何检索它以便对其执行其他操作？任何援助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:56:28.317

是的，数据库是持久化的。您需要做的就是为 window.openDatabase 提供相同的“名称”以打开您之前创建的数据库。

# processing - 为什么圆圈会从屏幕上消失？

> ID：12477240
> 
> 赞同：0
> 
> 时间：2012-09-18T12:41:30.177
> 
> 标签：processing, boundary

处理代码如下，一个快速的问题：为什么当我的鼠标在玩圆圈时，圆圈会从屏幕上消失？我已经添加了边界检查，但它似乎不起作用。为什么？？？

```
int maxCircle = 200;
float minDistance=30;
float distance1;
float distance2;
Circle [] circles= new Circle[maxCircle];

void setup() {
  size(800,800);
  smooth();
  for(int i=0;i<maxCircle;i++){
    circles[i] = new Circle(random(width),random(height),random(2,20));
  }
}

void draw() {
  background(255,255);
  for(int i=0;i<maxCircle;i++) {
    circles[i].update(width,height);

    for (int j=0; j<maxCircle; j++) {
      distance1 = dist(circles[i].x,circles[i].y,circles[j].x,circles[j].y);
      if ( distance1 < minDistance ) {
        stroke(0,10);
        noFill();
        line(circles[i].x,circles[i].y,circles[j].x,circles[j].y);
       }
    }
    circles[i].display();
  }
}

void mouseMoved() {
  for(int i = 0; i<maxCircle;i++) {
    distance2 = dist(mouseX,mouseY,circles[i].x,circles[i].y);

    circles[i].x-=(mouseX-circles[i].x)/distance2;
    circles[i].y-=(mouseX-circles[i].y)/distance2;

    if(circles[i].x<circles[i].r || circles[i].x>width-circles[i].r) {
      circles[i].vx*=-1;
    };
    if(circles[i].y<circles[i].r || circles[i].y> height-circles[i].r) {
      circles[i].vy*=-1;
    }
  }
}    

class Circle {
  float x,y,vx,vy,r,speed;

  Circle(float tempx, float tempy, float tempr) {  
    x=tempx;
    y=tempy;
    vx=random(-1,1);
    vy=random(-1,1);
    r=tempr;
   }

  void update(int w,int h) {
    x+=vx;
    y+=vy;

    if(x<r || x>w-r) {
      vx*=-1;
    }
    if(y<r || y>h-r) {
      vy*=-1;
    }
   }

  void display() {
    fill(0,50);
    noStroke();
    ellipse(x,y,r,r);
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T03:56:13.790

哦，我找到了解决方案：

```
 int maxCircle = 200;
   float minDistance = 20;
     Circle [] circles = new Circle[maxCircle];

void setup() {
size(800, 800);
smooth();
for (int i = 0; i < maxCircle; i++) {
  circles[i] = new Circle();
 }
}

  void draw() {
  background(255, 255);
     for (int i = 0; i < maxCircle; i++) {
circles[i].update(); 

noFill();
for (int j = 0; j < maxCircle; j++) {
  if (i == j)
    continue;

  float distance = dist(circles[i].x, circles[i].y, circles[j].x, circles[j].y);
  if (distance < minDistance) {
    stroke(0, 20);
    line(circles[i].x, circles[i].y, circles[j].x, circles[j].y);
  }
}

         circles[i].display();
    }
      }

 void mouseMoved() {
  for (int i = 0; i < maxCircle; i++) {
 float distance = dist(mouseX, mouseY, circles[i].x, circles[i].y);

circles[i].x -= (mouseX - circles[i].x) / distance;
circles[i].y -= (mouseX - circles[i].y) / distance;

circles[i].checkBounds();
      }
    }
     class Circle {
   float x, y, vx, vy, r, speed;

       Circle() {  
        vx = random(-1, 1);
         vy = random(-1, 1);
         r = random(1, 10); // See below
         x = random(r, width - r);
         y = random(r, height - r);  
     }

        void checkBounds() {
         if (x < r || x > width - r) {
           vx *= -1;
          if (x < r) {
           x = r;
           } else {
             x = width - r;
           }
           }
           if (y <= r || y >= height - r) {
           vy *= -1;
              if (y < r) {
                y = r;
             } else {
              y = width - r;
               }
            }
              }

        void update() {
x += vx;
y += vy;
checkBounds();
 }

   void display() {
     fill(0, 50);
      noStroke();

       ellipse(x, y, r * 2, r * 2);
      }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-06T19:06:28.193

在您的 update() 方法中，当您使用矢量计算新坐标时，您可能会在屏幕外设置坐标。我添加了 4 个条件语句，如果超过它，它们会将值重置为屏幕的边界。

```
 void update(int w,int h) {
    x+=vx;
    y+=vy;

    if(x<r || x>w-r) {
      vx*=-1;
      if (x>w-r) x = w-r;
      if (x<r) x = r;
    }
    if(y<r || y>h-r) {
      vy*=-1;
      if (y>h-r) y = h-r;
      if (y<r) y = r;
    }
   } 
```

# javascript - HTML 元素大小（以字节为单位）Javascript

> ID：12477241
> 
> 赞同：2
> 
> 时间：2012-09-18T12:41:32.060
> 
> 标签：javascript, jquery, google-chrome, html-lists

如何使用 javascript 以字节为单位获取 HTML 元素的大小？

我有一个代表对话的列表

```
<ul>
  <li>hello</li>
  <li>how are you?</li>
  <li>fine thanks</li>
  <li>nice to meet you</li>
  <li>nice to mmet you too</li>
</ul> 
```

我想将该对话保存到 localStorage，但在 chrome 中 localStorage 限制为 5MB，因此我需要知道列表的大小（以字节为单位）以进行一些验证。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T12:49:43.983

如果您尝试将元素转换为 HTML，那么您可以提供`<ul>`一个 ID，然后使用

```
var el = document.getElementById("convo");
var html = el.innerHTML;
window.alert(html.length); 
```

或者，如果有很多标记并且您只想获取文本，则可以循环遍历`li`元素并仅提取文本并将其放入数组中。 `JSON.stringify`结果并得到它的长度。

编辑：

Javascript 使用`UCS-2`or`UTF-16`内部，两者都是 16 位编码。假设拉丁文，`<string>.length *2`应该是一个相当准确的估计。

# spring - Spring JMS 作为 JAR 项目运行

> ID：12477243
> 
> 赞同：3
> 
> 时间：2012-09-18T12:41:42.407
> 
> 标签：spring, jar, project

我有一个 Spring JMS 应用程序。事实上没有用户界面。只是 Spring 配置（JMS 侦听器），Spring 配置由 web.xml 加载。所以当我在服务器中部署时，监听器开始工作。

但我不想要 Web 部件，因为没有 UI，它只是一个监听队列并进行处理的项目。所以我认为它应该是 JAR 并且它应该独立运行（或者当我在服务器中部署时）如何创建这样的项目/ JAR 在服务器中部署时它会自动开始运行。我不想每次更新 JAR 时都运行一个主类。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T16:31:55.840

我之前使用过一个可执行的 jar 来启动一个 JMS 队列。您只需要确保您可以访问 Spring 和 JMS 的所有 jar 依赖项，这很多。这可以通过将类路径设置为指向依赖 jar 或创建一个 Uberjar 并将所有依赖 jar 打包到可执行 jar 中来完成。

这是一个示例类，当您将其设置为 jar 清单中的主类时，它将从 Jar 启动[ActiveMQ 。](http://activemq.apache.org/spring-support.html)将使用进程的进程 ID 创建一个*jms.pid 。*您必须在[ConfigurableApplicationContext](http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/context/support/ClassPathXmlApplicationContext.html)中为 JMS 设置 Spring 上下文的路径。

```
public class Server {

    public static void main(String[] args) throws Exception {

        // Define Spring contexts required for JMS to run
        List<String> contexts = Arrays.asList( "classpath:applicationContext.xml", "classpath:spring/jmsContext.xml" );
        ConfigurableApplicationContext applicationContext = new ClassPathXmlApplicationContext(contexts);

        // Get activeMQ from JMS context
        BrokerService broker = applicationContext.getBean( "broker" );

        // Start up activeMQ
        broker.start();

        // Get pid for this process
        String sysId = ManagementFactory.getRuntimeMXBean().getName();
        String pid = sysId.substring(0, sysId.indexOf("@"));

        // Write PID file
        File file = new File("jms.pid");
        DataOutputStream outs = new DataOutputStream(new FileOutputStream(file, false));
        outs.write(pid.getBytes());
        outs.close();

    }

} 
```

用于访问[BrokerService的示例 Spring 配置](http://activemq.apache.org/maven/5.5.0/activemq-core/apidocs/org/apache/activemq/xbean/BrokerFactoryBean.html)

```
<bean id="broker" class="org.apache.activemq.xbean.BrokerFactoryBean">
    <property name="config" value="classpath:org/activemq/xbean/activemq.xml" />
    <property name="start" value="true" />
</bean> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T16:48:05.960

我通常看到 JMS 应用程序作为 Windows 服务或 Unix 守护程序运行。这些为您提供了可以配置的功能，例如在服务器重新启动时重新启动 JMS 应用程序等。

有一些商业 Java EE 容器（如 Weblogic）提供[了启动](http://docs.oracle.com/cd/E13222_01/wls/docs100/ConsoleHelp/taskhelp/startup_shutdown/ConfigureStartupAndShutdownClasses.html)类，您可以使用这些类在集群中的节点启动时启动 JMS 应用程序。这提供了对 JMS 应用程序/服务器的控制台控制。不过，在您的情况下，这听起来不是一个选择。

# c# - SharePoint 功能区中用于访问 Silverlight 功能的按钮

> ID：12477244
> 
> 赞同：0
> 
> 时间：2012-09-18T12:41:56.713
> 
> 标签：c#, javascript, silverlight, sharepoint, ribbon

我将构建一个 Silverlight 应用程序，该应用程序托管在一个空 SharePoint 项目的自定义 Web 部件中。我正在使用 SharePoint 2010 Silverlight 4 和 .net 3.5 。

我的任务和问题是在 SharePoint 网站上制作自定义功能区。此功能区中有一个按钮，可访问 Silverlight 方法。我已经制作了丝带和按钮，但现在我不能再进一步了。

在我的经典 C# Web 部件中，我有以下代码：

```
"<div id='silverlightControlHost' style='width:100%;height:100%;'>" +
                            "<object id='SLP' data='data:application/x-silverlight-2,' type='application/x-silverlight-2' width='100%' height='600'>" +
                                "<param name='source' value='Silverlight_File/BMS_C_M_Silverlight.xap' />" +
                                "<param name='initParams' value='<%= InitParameters %>' />" +
                                "<param name='background' value='white' />" +
                                "<param name='minRuntimeVersion' value='4.0.50401.0' />" +
                                "<param name='autoUpgrade' value='true' />" +
                                "<a href='http://go.microsoft.com/fwlink/?LinkID=149156&v=4.0.50401.0' style='text-decoration:none'>" +
                                "<img src='http://go.microsoft.com/fwlink/?LinkId=161376' alt='Get Microsoft Silverlight' style='border-style:none'/>" +
                                "</a>" +
                            "</object>" 
```

在 Mail 方法中的 MainPage.xaml.cs 中：

```
HtmlPage.RegisterScriptableObject("CallSilverlightCode", this); 
```

在同一个文件中：

```
[ScriptableMember]
        public void ShowAlertPopup()
        {

            MessageBox.Show("Message From JavaScript");

        } 
```

在功能区的 elements.xml 中：

```
<CommandUIHandler
          Command="CallSilverlight"
          CommandAction="javascript:var SLPlugin = document.getElementById('SLP'); SLPlugin.Content.CallSilverlightCode.ShowAlertPopup();"/>
        </CommandUIHandlers> 
```

有了所有这些东西，功能区中的按钮应该从 Silverlight 应用程序中调用“ShowAlertPopup”方法，但我不这样做。

我搜索所有应该有帮助的东西，但我什么也没找到。我通过部署IE调试器等查看了IE调试器中的许多东西......

任何人都可以帮忙吗？看到问题或错误？

感谢您的回答

比利卜

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T11:38:55.657

我有一个解决方案。我做了一个新项目作为沙盒解决方案，将 Silverlight 应用程序插入 aspx 站点并按照本教程的步骤操作

[教程](http://msdn.microsoft.com/en-us/sharepointandsilverlighttrainingcourse_enhancingclientsidecapabilitieslab_topic2.aspx)

它不是自定义功能区选项卡，但我可以访问 Silverlight 应用程序。

# c# - 在 c# lib 中手动读取 app.settings 的问题

> ID：12477246
> 
> 赞同：0
> 
> 时间：2012-09-18T12:42:02.550
> 
> 标签：c#, configuration, app-config

我在 c# lib 中手动读取应用程序设置时遇到问题。我必须从 dll app.config 的 appsettings 部分检索 LDAPUser 附上代码示例：

```
[ConfigurationProperty("LDAPUser")]
private string LDAPUser
{
    get
    {
        Configuration config = null;
        string exeConfigPath = this.GetType().Assembly.Location;
        try
        {
            config = ConfigurationManager.OpenExeConfiguration(exeConfigPath);
        }
        catch (Exception ex)
        {
            Console.WriteLine(ex.ToString());
            return string.Empty;
        }
        if (config != null)
        {
            string myValue = GetAppSetting(config, "LDAPUser");
            return myValue;
        }
        return string.Empty;
    }

}

string GetAppSetting(Configuration config, string key)
{
    KeyValueConfigurationElement element = config.AppSettings.Settings[key];
    if (element != null)
    {
        string value = element.Value;
        if (!string.IsNullOrEmpty(value))
            return value;
    }
    return string.Empty;
} 
```

# java - Android / Java 创建 SOAP 信封

> ID：12477250
> 
> 赞同：0
> 
> 时间：2012-09-18T12:42:06.660
> 
> 标签：java, soap

我有一个 .NET 服务器配置为接收带有 WSHTTPBinding 的soap 1.2 信封。

我想从运行在 Android 设备上的客户端应用程序向服务器发送 SOAP 请求。

我不知道请求是否需要发送 X509 证书或其组件，如 IssuerDN 。序列号等

我找到了以下链接：http: [//blogs.msdn.com/b/distributedservices/archive/2010/06/14/wcf-interoperability-guidelines-1-reference-style-of-a-primary-signing-token-内部响应.aspx](http://blogs.msdn.com/b/distributedservices/archive/2010/06/14/wcf-interoperability-guidelines-1-reference-style-of-a-primary-signing-token-inside-a-response.aspx)

它为 SOAP 响应提供了信封结构，但我想要请求部分的结构。

我有一个 .p12 格式的有效证书，其中包含

1) 私钥

2）CA证书

3) 客户证书

我想将此证书用于客户端身份验证。

# iphone - 以下在 iPhone 上显示登录屏幕的方法是否安全？

> ID：12477251
> 
> 赞同：0
> 
> 时间：2012-09-18T12:42:11.450
> 
> 标签：iphone, ios, security, login

我有一个应用程序，用户必须登录才能查看存储在服务器中的数据。我有一个`UIWebView`实例，我`rootViewController`在其中显示检索到的数据。`viewWillAppear`我在对用户进行身份验证的调用中有以下代码`rootViewController`...

```
- (void)viewWillAppear:(BOOL)animated
{

    if(![self isUserLoggedin]) {

         if( loginViewController == nil ) {
            loginViewController = [[LoginViewController alloc] init];
            loginViewController.delegate = self;
        }

        [self.navigationController pushViewController:loginViewController animated:YES];
    }
} 
```

如果用户输入正确的密码，我会弹出 loginViewController 并获取数据并显示在 webView 中。

我想知道这是否是一种安全的方式，还是有任何安全问题？有没有标准的方式来显示登录屏幕？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:55:20.843

只要您安全地***接受***、***使用***和***保存***登录凭据，是否推送`LoginViewController`.

然而，在成功时提出`LoginViewController`并`self.navigationController`驳回它会是一种更好的方法。这又与安全无关。但我更喜欢这个，因为

1.  将避免对导航堆栈进行不必要的添加。
2.  将其呈现为模态可以为用户提供更好的体验；）

# c# - API 函数 GetSystemMetrics 的挂钩

> ID：12477252
> 
> 赞同：2
> 
> 时间：2012-09-18T12:42:12.453
> 
> 标签：c#, windows, api, compact-framework, windows-ce

请帮我为 API.I 函数 GetSystemMetrics 创建钩子。我希望当某些应用程序（例如 calc.exe）调用 GetSystemMetrics 时，它们会收到我的值（例如 500x500），而其他应用程序会获得正确的屏幕尺寸。如果有人能告诉我如何使用 C# 和 .net CF 2.0 做到这一点，我会非常高兴。

感谢并希望对您有所帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T14:02:26.873

即使在本机代码中，您也无法做到这一点（至少在没有丑陋、坏主意、vtable/内核内存黑客可能会或可能不会继续跨操作系统版本工作的情况下）。GetSystemMetrics 调用操作系统以获取有关平台的信息。除了重新编译操作系统并更改这些值之外，您无法“覆盖”这些值并让操作系统报告其他数字（当然，除非操作系统已经以这些数字来自的方式构建你的应用可以修改的地方——比如注册表）。

**编辑**

根据您的评论，您的实际问题是您正在尝试创建某种形式的“任务栏”类型的应用程序，并且您希望不受您控制的其他应用程序在最大化时不会覆盖您的任务栏。这正是现有资源管理器任务栏的工作方式，所以我的建议是查看默认的 shell 源代码，看看它是如何完成的。

最终结果很可能是您将克隆现有的 shell 代码并修改现有的任务栏以满足您的需要，或者您将创建一个具有您想要的行为的全新 shell 应用程序，但您几乎肯定会去必须更换外壳，而这只能用本机代码来完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T14:22:51.927

我认为不编写任何本机代码就不可能在 C#/.NET 中进行。然而，好消息是有一个很棒的库，叫做 madCodeHook，它真的很容易使用。看看[http://madshi.net/](http://madshi.net/)

# wordpress - 即使使用 do_shortcode() 函数，WordPress 嵌套的简码也不起作用

> ID：12477253
> 
> 赞同：1
> 
> 时间：2012-09-18T12:42:14.030
> 
> 标签：wordpress, nested, shortcode

所以另一个嵌套的短代码问题。我有两个简码：[slide] 和 [prg]。它们都包含短代码。[prg] 嵌套在 [slide] 中。但是 [prg] 没有被解释。这两个简码分别工作得很好。我知道 do_shortcode() 函数，但它似乎不起作用，我不知道为什么。

这是我写的代码：

```
add_action( 'init', 'register_shortcodes');

function make_slide($atts, $content = null) {
    extract(shortcode_atts(array(
      'num' => 1,
   ), $atts));

    $post_title = get_the_title($post->ID);
    $wrap = '<div class="slide slide-'.$num.'"><h1 class="h2-like projet_title">'.$post_title.'</h1>'.$content.'</div>';
    return $wrap;
}

function wrap_paragraph($atts, $content = null)
{
    $content = do_shortcode($content); //I've tried several solutions but none've worked.
    return '<p>'.$content.'</p>';
}

function register_shortcodes(){
    add_shortcode('slide', 'make_slide');
    add_shortcode('prg', 'wrap_paragraph');
} 
```

这是我在 html 编辑器中的帖子（自定义帖子类型）的内容：

```
[slide num="1"]<img title="4a6c2a605946a_1080x733" src="http://localhost:8888/labs/noway/wordpress_1/wp-content/uploads/2012/09/4a6c2a605946a_1080x733-460x312.jpg" alt="4a6c2a605946a_1080x733" width="460" height="312" />

[prg]Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nam cursus. Morbi ut mi. Nullam enim leo, egestas id, condimentum at, laoreet mattis, massa.[/prg][/slide] 
```

我已经阅读了该站点上的几篇文章以及其他文章，例如 sitepoint.com 和 speckyboy.com，以及[wordpress codex](http://codex.wordpress.org/Shortcode_API#Nested_Shortcodes)，但答案对我不起作用。也许只是因为我没有在我的 function.php 文件中以正确的方式实现短代码？

如果有人可以帮助我吗？我真的很想了解是什么让它不起作用。提前非常感谢。对不起我的英语不好，我希望我可以理解。

**编辑** *我在完成之前愚蠢地验证了我的评论，所以它是：*

嗨@maiorano，非常感谢您的帮助，它工作得很好。但是，即使您的代码非常好，我也不能按原样使用它，因为我需要直接从媒体库中获取图片，并且尽可能少地在 MCE 编辑器中进行人为干预。但它让我学会了一条神路。

我还测试了在顶级简码中使用 do_shortcode，但它产生了一个奇怪的结果：我的 < p > 被驱逐出 < div > 所以我很困惑。

因此，阻止我的似乎是顶级 do_shortcode-ish 的组合，也许是我的 add_shortcode() 在短代码之后声明的事实。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:25:07.930

问题是您的顶级短代码“[幻灯片]”没有`do_shortcode()`在其内容上执行。几点建议：

我建议将您的图像属性包含为简码属性，因为它可以减少标记量并为您提供定义默认值的能力。

您也不需要在“init”回调中定义您的简码。它可以在全局范围内完成：

```
add_shortcode('slide', 'make_slide');
add_shortcode('prg', 'wrap_paragraph');
function make_slide($atts, $content = null)
{
    extract(shortcode_atts(array(
      'num' => 1,
      'title' => false,
      'src' => get_bloginfo('stylesheet_directory').'/images/notfound.jpg', //Default image if none provided
      'alt' => false,
      'width' => false,
      'height' => false,
   ), $atts));

    $title = $title ? " title=\"$title\"" : '';
    $alt = $alt ? " alt=\"$alt\"" : '';
    $width = $width ? " width=\"$width\"" : '';
    $height = $height ? " height=\"$height\"" : '';

    $img = "<img src=\"$src\"".$title.$alt.$width.$height." />";

    $post_title = get_the_title($post->ID);
    $wrap = '<div class="slide slide-'.$num.'"><h1 class="h2-like projet_title">'.$post_title.'</h1>'.$img.do_shortcode($content).'</div>';
    return $wrap;
}

function wrap_paragraph($atts, $content = null)
{
    $content = do_shortcode($content); //This is fine if you plan on nesting shortcode within this callback
    return '<p>'.$content.'</p>';
} 
```

使用它，我能够添加内容：

```
[slide num="1" title="4a6c2a605946a_1080x733" src="http://localhost:8888/labs/noway/wordpress_1/wp-content/uploads/2012/09/4a6c2a605946a_1080x733-460x312.jpg" alt="4a6c2a605946a_1080x733" width="460" height="312"][prg]Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nam cursus. Morbi ut mi. Nullam enim leo, egestas id, condimentum at, laoreet mattis, massa.[/prg][/slide] 
```

并得到：

```
<div class="slide slide-1"><h1 class="h2-like projet_title">Hello world!</h1><img width="460" height="312" alt="4a6c2a605946a_1080x733" title="4a6c2a605946a_1080x733" src="http://localhost:8888/labs/noway/wordpress_1/wp-content/uploads/2012/09/4a6c2a605946a_1080x733-460x312.jpg"><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nam cursus. Morbi ut mi. Nullam enim leo, egestas id, condimentum at, laoreet mattis, massa.</p></div> 
```

# java - 如果 Java 的 http 代理关闭，它会恢复为非代理

> ID：12477256
> 
> 赞同：0
> 
> 时间：2012-09-18T12:42:22.670
> 
> 标签：java, networking, javafx, javafx-2

这真是出乎意料的行为。我正在使用 JavaFX [WebView](http://docs.oracle.com/javafx/2/api/javafx/scene/web/WebView.html)编写一个简单的网络浏览器。为了使 Web 请求通过本地代理，我编写了类似这样的代码：

```
System.setProperty("http.proxyHost", "localhost");
System.setProperty("http.proxyPort", "8080"); 
```

如果代理正在运行，它似乎工作正常。但是，如果不是，Java 会默默地恢复为根本不使用代理！如果代理不可用，如何强制 Java 失败？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:13:44.927

您可以使用`ProxySelector`仅允许您的代理且不提供`Proxy.NO_PROXY`替代方案的自定义来执行此操作：

```
import java.net.*;
import java.util.*;

public class AlwaysProxySelector implements ProxySelector {
  private List<Proxy> proxies = Arrays.asList(new Proxy[] {
        new Proxy(Proxy.Type.HTTP, new InetSocketAddress("localhost", 8080))
      });

  public List<Proxy> select(URI u) { return proxies; }
  public void connectFailed(URI u, SocketAddress a, IOException e) {}
} 
```

您使用安装此选择器`ProxySelector.setDefault(new AlwaysProxySelector());`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T19:51:24.903

Vasily 是 WebView 开发人员之一，提供了一些[示例代码来跟踪](https://forums.oracle.com/forums/thread.jspa?threadID=2342472)使用代理时的加载操作状态。不确定它是否会有所帮助，但你可以看看它。

瓦西里，还[指出](https://forums.oracle.com/forums/thread.jspa?threadID=2342472)：

> 目前，WebEngine 没有为代理或更一般的 HTTP 身份验证提供特殊支持，但依赖于 java.net.* 堆栈在该领域提供的功能。

如果您使用[JavaFX 打包任务](http://docs.oracle.com/javafx/2/deployment/packaging.htm#BABFECGG)捆绑您的应用程序：

> 主应用程序 JAR 文件将包含一个启动程序，该程序负责引导启动... 为您的应用程序设置系统代理

此外，请确保您使用的是最新版本的 JavaFX，因为早期版本在某些代理处理方面存在错误。

有一个[代理指南](http://docs.oracle.com/javase/7/docs/technotes/guides/net/proxies.html)，其中提到 https 有它自己的代理处理程序：（https.proxyHost 和 https.proxyPort），因此如果您的浏览器将建立 https 连接，这也是需要注意的。

# php - 将自定义订单应用于多维数组

> ID：12477260
> 
> 赞同：1
> 
> 时间：2012-09-18T12:42:45.057
> 
> 标签：php

我有这个数组

```
$arr = array(
    'one' => array(
    'slidertitle' => 'lorem ipsum',
    'sliderlocation' => 'http://localhost/images/1.jpg',
    'sliderdescription' => 'this is a good lorem ipsum image',
    'sliderposition' => 1
    ),
    'two' => array(
    'slidertitle' => 'second slider',
    'sliderlocation' => 'http://localhost/images/2.jpg',
    'sliderdescription' => 'this space was reserved for a link source code here',
    'sliderposition' => 2
    ),
    'six' => array(
    'slidertitle' => 'sixth slider',
    'sliderlocation' => 'http://localhost/images/6.jpg',
    'sliderdescription' => 'this is the sixth slider,like,really!',
    'sliderposition' => 6
    )
); 
```

我需要看起来像这样

```
$arr = array(

     'two' => array(
    'slidertitle' => 'second slider',
    'sliderlocation' => 'http://localhost/images/2.jpg',
    'sliderdescription' => 'this space was reserved for a link source code here',
    'sliderposition' => 2
    ),

    'six' => array(
    'slidertitle' => 'sixth slider',
    'sliderlocation' => 'http://localhost/images/6.jpg',
    'sliderdescription' => 'this is the sixth slider,like,really!',
    'sliderposition' => 6
    ),
      'one' => array(
    'slidertitle' => 'lorem ipsum',
    'sliderlocation' => 'http://localhost/images/1.jpg',
    'sliderdescription' => 'this is a good lorem ipsum image',
    'sliderposition' => 1
    )
); 
```

我试图通过定义预期的数组结构并引入一个虚拟数组来做到这一点。然后我将数组分块并将每个块合并到数组格式中，我计划最终取消设置虚拟对象，我只剩下我想要的数组了我想要的顺序。

```
$arrayFormat = array(
   'dummy' => array(
    'slidertitle' => 'xxxx',
    'sliderlocation' => 'xxxxxxx',
    'sliderdescription' => 'xxxxxx',
    'sliderposition' => 0
    )
);
$arrayLength = count($arr);
$afterChunk = array_chunk($arr,$arrayLength);
$one = $afterChunk[0][0];
$two = $afterChunk[0][1];
$mergedArray = array_merge($arrayFormat,$one);
$secondMergedArray = array_merge($mergedArray,$two);
echo '<pre>';
print_r($secondMergedArray);
echo '</pre>'; 
```

问题是`array_chunk()`不包括数组的键，所以我得到

```
Array (
    [dummy] => Array
        (
            [slidertitle] => xxxx
            [sliderlocation] => xxxxxxx
            [sliderdescription] => xxxxxx
            [sliderposition] => 0
        )

    [slidertitle] => second slider
    [sliderlocation] => http://localhost/images/2.jpg
    [sliderdescription] => this space was reserved for a link source code here
    [sliderposition] => 2 ) 
```

什么时候我`print_r($secondMergedArray);`可以做些什么`array_chunk()`来包含数组键，或者是否有任何其他数组函数可以帮助我获得包含键的单个数组？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T16:37:01.260

就如何对元素进行排序而言，很难说出您想要什么。你这个问题不是很清楚。数组中必须有一些你知道它需要什么顺序的东西。

在没有任何线索的情况下，我将假设您想要手动指定数组键的顺序。

因此，当前数组是`array('one'=>... , 'two'=>... , 'six'=>... )`并且您希望按照您想要手动指定的顺序对这些键进行排序。

解决方案是使用该`uksort()`函数以及指定排序顺序的单独数组：

```
$arr = ... //input array as specified in the question
$sortOrder = array('two','one','six');

uksort($arr, function ($a, $b) use ($sortOrder) {
    $sortMe = array_flip($sortOrder);
    if ($sortMe[$a] == $sortMe[$b]) { return 0; }
    return ($sortMe[$a] < $sortMe[$b]) ? -1 : 1;
});

print_r($arr); 
```

以“二”、“一”、“六”的顺序输出您的数组。根据需要更改`$sortOrder`阵列。

希望有帮助。

**注意：**我上面提供的语法仅适用于 PHP 5.3 及更高版本。（如果您使用的是旧版本，则需要升级）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:00:04.913

用于`uksort()`多维数组的自定义顺序

[http://php.net/manual/en/function.uksort.php](http://php.net/manual/en/function.uksort.php)

# css - 选择递归 :last-child。可能的？

> ID：12477272
> 
> 赞同：11
> 
> 时间：2012-09-18T12:43:31.210
> 
> 标签：css, css-selectors

在 CSS 中，是否可以从正文中递归选择所有 :last-child？

鉴于此标记：

```
<body>
  <div id="_1">
    <div id="_2"></div>
  </div>
  <div id="_3">
    <div id="_4">
      <div id="_5"></div>
      <div id="_6"></div>
    </div>
  </div>
</body> 
```

我正在寻找 div 号。3、4 和 6

另一种说法是：

```
body > :last-child,
body > :last-child > :last-child,
body > :last-child > :last-child > :last-child,
body > :last-child > :last-child > :last-child > :last-child {
  /* My stuff here */
} 
```

但显然这不是一个好方法。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T13:03:23.900

不，不幸的是，这只是不修改 HTML 的唯一方法。

[至少有一个请求](http://lists.w3.org/Archives/Public/www-style/2012Mar/0531.html)需要递归版本的`:first-child`和`:last-child`伪类，但它似乎并没有获得太多的青睐。请注意，它建议以与您的问题相同的方式嵌套和重复伪类：

> 目前，AFAIK，我们只能将子级匹配到预先知道的某个*确切的*嵌套级别（下例中的 3）：
> 
> ```
> .container > :first-child,
> .container > :first-child > :first-child,
> .container > :first-child > :first-child > :first-child {} 
> ```
> 
> 我们不能只使用 :first-child 上下文选择器，因为它也会选择块本身不是第一个孩子的第一个孩子。
> 
> 所以我们需要一种*递归*选择器，它不仅匹配最后一个子元素的第一个，而且递归地匹配所有第一个和最后一个元素，而不管它们的嵌套级别如何。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-03-12T14:58:51.210

```
body :last-child {
    color:red;
}
body :not(:last-child) :last-child {
    color:initial;
} 
```

任何不是最后一个子元素的后代的最后一个子元素都将反转更改。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T12:46:17.760

**无需一路上链。**就像这样

```
div:last-child {
   /* Your GREAT css */
} 
```

### [演示](http://jsfiddle.net/7EyCq/)

**更新：**在这种情况下，给出`div2`一个典型的类并用于`:not()`推出选择

```
div:last-child:not(.nolist) {
    border: 1px solid red;
} 
```

[演示](http://jsfiddle.net/HHKc7/1/)

# jquery - jquery中带有样式属性的输入选择器

> ID：12477275
> 
> 赞同：0
> 
> 时间：2012-09-18T12:43:49.413
> 
> 标签：jquery

我在某些条件下使用 jQuery 选择输入类型

```
var inputs = $(this).parents('form').find(
      ':input[type="text"]:enabled:visible:not("disabled"),textarea'); 
```

出于某种原因，我对输入类型使用了样式属性。

```
<input type="text" style=" visibility:hidden"/> 
```

我怎么能忽略风格`visibility:hidden`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:47:58.753

一种解决方案是使用“过滤器”功能

```
inputs = inputs.filter(function(){
    return (!$(this).attr('style')); // if you want to exclude elements having style attribute set
}); 
```

# c# - RegEx 在不被引号包围时使用空格分割字符串在 refiddle 中有效，但在 C# 中无效

> ID：12477280
> 
> 赞同：1
> 
> 时间：2012-09-18T12:44:17.213
> 
> 标签：c#, regex

我正在使用在[这个类似问题](https://stackoverflow.com/questions/554013/regular-expression-to-split-on-spaces-unless-in-quotes)中找到的以下正则表达式： `/[^\s"]+|"[^"]*"/g`

我想用空格分割字符串，除非字符串用双引号引起来。引号必须包含在结果中。

这是我的 C# 代码：

```
MatchCollection conditions = Regex.Matches(strCondition, @"/[^\s""]+|""[^""]*""/g"); 
```

conditions.Count 始终为零！当我在[http://refiddle.com/](http://refiddle.com/)测试正则表达式时，它可以工作！

示例输入：

```
"0" MATCHES NOCASE "Den Bosch"  OR "0" MATCHES NOCASE "'s Hertogenbosch"

"0" MATCHES "1" AND "1" MATCHES "2" AND "2" MATCHES "3" AND "3" MATCHES "4" AND "4" MATCHES "5" 
```

我究竟做错了什么？我浪费了几个小时，不再有任何线索。

这个：`(?<=")\w[\w\s]*(?=")|\w+|"[\w\s]*"`在我的情况下确实给出了结果，但没有给出预期的结果，因为它在单引号上失败。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T12:57:38.660

.NET 中的正则表达式不使用`/`分隔符，因此：

```
MatchCollection conditions = Regex.Matches(strCondition, @"[^\s""]+|""[^""]*"""); 
```

# android - 共享图像和文本根本不起作用

> ID：12477281
> 
> 赞同：0
> 
> 时间：2012-09-18T12:44:18.240
> 
> 标签：android, image, text, android-intent, share

我正在与资源中的图像共享一些信息。这是我正在使用的代码：

```
case R.id.menu_share: 
            //create the send intent  
            Intent shareIntent =  new Intent(android.content.Intent.ACTION_SEND);  

            //set the type  
            shareIntent.setType("image/png");  

            //add a subject  
            shareIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,   
             "CAR EXAMPLE");  

            //build the body of the message to be shared  
            String shareMessage = "An app...";  

            //add the message  
            shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, shareMessage);  

            //add the img
            shareIntent.putExtra(Intent.EXTRA_STREAM, Uri.parse("android.resource://com.car.pack/drawable/" + Integer.toString(R.drawable.log)));               

            //start the chooser for sharing  
            startActivity(Intent.createChooser(shareIntent,"Share"));  
        break; 
```

问题是，在我的示例中，我试图从资源中共享 TEXT+IMAGE。因此，当我与 GMAIL 应用程序共享时，应用程序完美运行，但与其他应用程序出现在意图中时：

*   Whatsapp：只发送图片，不发送文字。
*   短信：不出现文字和图片。
*   来自移动设备的电子邮件应用程序（索尼爱立信 Arc S）：破坏应用程序
*   Facebook：只分享图片，文字没有。
*   蓝牙：我还没有测试

所以我认为问题出在文本上......或者我不知道，是否有人可以帮助我......

谢谢！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:51:23.217

使用`shareIntent.setType("*/*");`.

还可以尝试更改`ACTION_SEND`为`ACTION_SEND_MULTIPLE`专门用于交付多个数据。

[在这里](http://developer.android.com/training/sharing/send.html)查看更多详情。

# php - PHP正则表达式（或函数）转换字符串

> ID：12477286
> 
> 赞同：-5
> 
> 时间：2012-09-18T12:44:31.060
> 
> 标签：php, regex

我希望能够将电视剧的剧集`#7.11`从`S07E11`

例如，我有字符串`Monk #7.11`or`Family Guy #5.6` 并且我想应用正则表达式/函数并接收`Monk S07E11`or `Family Guy S05E06`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T12:52:02.827

使用[`preg_replace_callback`](http://php.net/manual/en/function.preg-replace-callback.php)：

```
function convert($matches) {
  $season = str_pad($matches[1], 2, "0", STR_PAD_LEFT);
  $episode = str_pad($matches[2], 2, "0", STR_PAD_LEFT);
  return "S" . $season . "E" . $episode;
}

echo preg_replace_callback("/#(\d+)\.(\d+)/", "convert", "Monk #7.11");
// Monk S07E11  
echo preg_replace_callback("/#(\d+)\.(\d+)/", "convert", "Family Guy #5.6");
// Family Guy S05E06 
```

它允许您提供用于转换输入的函数回调。

**[演示](http://ideone.com/JyKzf)**。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T13:05:35.213

```
<?php

$regex="/^([^#]+?) *#([0-9]+)\.([0-9]+)$/";
$fmt="%s S%02dE%02d\n";

$items=array(
    "Family Guy #5.6",
    "Monk #7.11",
);

foreach ($items as $one) {
    preg_match($regex, $one, $matches);
    printf($fmt, $matches[1], $matches[2], $matches[3]);
} 
```

回报：

```
Family Guy S05E06
Monk S07E11 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T13:16:00.903

PHP代码：

```
$s = 'Monk #7.11';
$p = '/^([^#]+\s)#(\d+)\.(\d+)$/e';
$r = 'sprintf("%sS%02dE%02d", "$1", "$2", "$3")';
echo preg_replace($p, $r, $s); 
```

输出：

```
Monk S07E11 
```

[在此处](http://ideone.com/RwR5i)测试此代码。

# jquery - 固定位置 div 在调整大小时飞行

> ID：12477287
> 
> 赞同：0
> 
> 时间：2012-09-18T12:44:33.610
> 
> 标签：jquery, jquery-ui, css

我正在使用 jquery ui 来调整 div 的大小，但我的固定位置 div 在调整大小时移动到顶部。

[这是小提琴](http://jsfiddle.net/kongaraju/bMHDS/)

尝试调整它飞到顶部的 div 的大小。

jQuery 用户界面

```
$('.chatwnd').resizable({
            maxHeight: 550,
            maxWidth: 700,
            minHeight: 350,
            minWidth: 300,
            handles: "n, e"
        });​ 
```

css

```
.chatwnd{
    position:fixed;
    bottom:0px;
    left:50px;
    height: 350px;
    width:auto;
    min-width:300px;
    max-width:700px;
    border:1px solid #ccc;
    box-shadow:0px 0px 1px #777;
    border-radius: 5px;
    background:#ffffff;
    overflow:hidden;
    box-sizing:border-box;
    -webkit-transition:height 1s;
}​ 
```

html

```
<div class="chatwnd" > </div>​ 
```

我该如何调整它的大小？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:55:56.413

显然`position: fixed;`不支持可调整大小（[JQuery UI resizable 不支持位置：固定；有什么建议吗？](https://stackoverflow.com/questions/4819518/jquery-ui-resizable-does-not-support-position-fixed-any-recommendations)）。

查看上面帖子中接受的答案，我认为他们找到了解决方案！

# html - getBaseTag() 和 在 Plone 中的目的

> ID：12477293
> 
> 赞同：2
> 
> 时间：2012-09-18T12:44:48.617
> 
> 标签：html, plone

Plone`main_template`包含`<base>`由 `parts/omelette/Products/CMFDefault/skins/zpt_content/getBaseTag.pt 生成的标签。

它指向当前内容项的绝对 URL。如果内容项具有封面（默认内容项），则它指向此处。

将基本标记设置为不同于当前 Windows 位置 URL 会破坏一些`<a href="#fragment">`内页导航行为：设置/单击片段会导致从`<base>`URL 重新加载页面。

*   Plone设置`<base>`标签的原因是什么？

*   摆脱它是否安全？什么可能会破坏？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T12:52:27.553

因为 Plone 项目不是磁盘上的文件，而且我们可以在 Plone 中使用获取，所以任何 HTML 片段都可以通过不同的 URL 呈现。例如，通过获取，它几乎可以是任何东西，但是可以呈现带有或不带有斜杠的文件夹项目。

浏览器将页面内的相对 URL 基于当前页面 URL，除非存在`<base />`标记，在这种情况下，页面上的任何相对 URL 都相对于该 URL 是绝对相对的。

移除标签后果自负；*总是*有比您希望消除的更多的相对 URL 来应对。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:05:56.940

我记得@davisagli 曾经提到`<base />`密码重置页面验证需要该标签。

# symfony - 多对多关系 Symfony2

> ID：12477295
> 
> 赞同：0
> 
> 时间：2012-09-18T12:44:48.787
> 
> 标签：symfony, doctrine-orm

我在我的 symfony2 项目中使用了多对多关系，我已经成功地创建了两个实体“用户”，`Groups`并且我还成功地保存了将数据插入到表和表中的`users`数据`groups``users_groups`

```
$user = new User();
$user->getGroups()->add($group); 
```

现在我想编辑还应该编辑 users_groups 记录的用户。

我搜索了很多但没有运气。任何帮助将不胜感激......

控制器

```
 public function editAction()
  {
  if($this->getRequest()->query->get("id")){
        $id = $this->getRequest()->query->get("id");
        $request = $this->getRequest();

        $em = $this->getDoctrine()->getEntityManager();

        $entity = $em->getRepository('DesignAppBundle:Users')->find($id);

        $editForm = $this->createForm(new UserType());

        if ($this->getRequest()->getMethod() == 'POST') {
        $editForm->bindRequest($request);
        if ($editForm->isValid()) {

                           $postData = $request->request->get('users'); 

                            $repository = $this->getDoctrine()
                            ->getRepository('Bundle:groups');
                            $group = $repository->findOneById($postData['group']);

                            $entity->addGroups($group );

                            $em->flush();

                            return $this->redirect($this->generateUrl('index'));            
            }

        }

        return $this->render('User.html.twig',array(
            'entity'      => $entity,
            'edit_form'   => $editForm->createView(),
        ));
    }       
  } 
```

形式

```
<?php

use and include .....

class UserType extends AbstractType
{
    public function buildForm(FormBuilder $builder, array $options)
    {
    $request = Request::createFromGlobals();

         $builder->add('group', 'entity', array(
         'class' => 'Bundle:Groups',
         'property' => 'name',
         'empty_value' => 'All',
         'required' => true,
             'multiple'=>true,
         'data' => $request->get('group_id')
        ));

    }

    public function getDefaultOptions(array $options)
    {

        return array(
            'validation_groups' => array('users'),
            'csrf_protection' => false,

        );
    }

    public function getName()
    {
        return 'users';
    }

} 
```

用户

```
 /**
     * @ORM\ManyToMany(targetEntity="Groups", inversedBy="users")
     * @ORM\JoinTable(name="users_groups",
     *      joinColumns={@ORM\JoinColumn(name="user_id", referencedColumnName="id")},
     *      inverseJoinColumns={@ORM\JoinColumn(name="group_id", referencedColumnName="id")}
     *      )
     **/  
    protected $group;

 public function __construct()
{
    $this->group= new ArrayCollection();        

}

  public function addgroups(\Design\AppBundle\Entity\Categories $group)
    {
        $this->group[] = $group;
    } 
```

团体

```
/**
     * @ORM\ManyToMany(targetEntity="Users", mappedBy="group")
     */
    protected $users;

    public function __construct()
    {
        $this->users= new ArrayCollection();
    }

    /**
     * Add users
     *
     * @param Bundle\Entity\Users $users
     */
    public function addUsers(Bundle\Users $users)
    {
        $this->users[] = $users;
    }

    /**
     * Get users
     *
     * @return Doctrine\Common\Collections\Collection 
     */
    public function getUsers()
    {
        return $this->users;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T14:34:46.607

您不应该添加 group_id，您应该添加 groups 属性

```
 $builder->add('groups'); 
```

group_id 列由 Doctrine 自动处理，您不应该直接自己处理它。你有 group_id 属性吗？如果你这样做，你应该删除它。

集团实体应该是：

```
/**
 * @ORM\ManyToMany(targetEntity="Users", mappedBy="group")
 */
protected $users;

public function __construct()
{
    $this->users= new ArrayCollection();
}

/**
 * Add users
 *
 * @param Bundle\Entity\User $user
 */
public function addUsers(Bundle\User $users)
{
    $this->users[] = $users;
}

/**
 * Get users
 *
 * @return Doctrine\Common\Collections\Collection 
 */
public function getUsers()
{
    return $this->users;
} 
```

**编辑**

你的控制器应该是这样的：

```
public function editAction($request)
{
    $id = $this->getRequest()->query->get("id");

    $em = $this->getDoctrine()->getEntityManager();

    $entity = $em->getRepository('DesignAppBundle:Users')->find($id);

    $editForm = $this->createForm(new UserType(),$entity);

    if ($this->getRequest()->getMethod() == 'POST') {
        $editForm->bindRequest($request);
        if ($editForm->isValid()) {
             $em->persits($entity);

             $em->flush();

             return $this->redirect($this->generateUrl('index'));            
        }

    }

    return $this->render('User.html.twig',array(
        'entity'      => $entity,
        'edit_form'   => $editForm->createView(),
    ));
} 
```

这就是你的 UserType 应该是这样的：

```
class UserType extends AbstractType
{
    public function buildForm(FormBuilder $builder, array $options)
    {

         $builder->add('group', 'entity', array(
         'class' => 'Bundle:Groups',
         'property' => 'name',
         'empty_value' => 'All',
         'required' => true,
          'multiple'=>true,
        ));

    }

    public function getDefaultOptions(array $options)
    {

        return array(
            'validation_groups' => array('users'),
            'csrf_protection' => false,

        );
    }

    public function getName()
    {
        return 'users';
    }

} 
```

# java - 即使在appengine中生成密钥的字符串相同，为什么生成的密钥总是不同的？

> ID：12477298
> 
> 赞同：4
> 
> 时间：2012-09-18T12:44:59.697
> 
> 标签：java, google-app-engine

我是 google-app-engine 的新手，在开发测试应用程序的过程中遇到了一个问题。我正在使用用户的电子邮件 ID 生成密钥以保存用户实体。

```
Key key = KeyFactory.createKey("email",email ); 
```

现在看到数据存储查看器的大部分密钥是相同的，即使我提供相同的电子邮件 ID 来生成密钥，密钥的最后几个字母也会更改。

实际上，我希望使用代码通过密钥获取用户实体。

```
Entity user = datastore.get(key); 
```

但是由于密钥与以前的密钥不同，我得到**noEntityFoundException**

**我想问的是为什么当输入相同时生成的密钥每次都不同。**

**另外，如果每次都不同，我怎样才能让它每次都生成相同的密钥，以便我可以直接通过该密钥获取实体？**

更多说明：这里是[代码](https://github.com/sioLabs/tambola.git) index.jsp 是欢迎文件。我创建了一个具有电子邮件 ID 的用户，例如：abc@example.com。这会将表单详细信息发送到

```
com.siolabs.tambola.Createuser.java 
```

**Createuser** servlet 检查电子邮件 ID 是否存在。如果没有，则将信息保存到数据存储区。

[在此处创建用户代码](https://gist.github.com/3744326)

然后登录我在 index.jsp 页面上提交信息。它将请求转发到 com.siolabs.tambola.Login.java **登录 Servlet**检查电子邮件 ID 是否存在，如果存在则将请求转发到**home.jsp**页面。

[登录 servlet 代码](https://gist.github.com/3744347)

问题是**登录**servlet 在更改时永远找不到电子邮件 ID。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T15:36:19.613

createKey 函数接受两个字符串。

```
Key key = KeyFactory.createKey("email",email); 
```

您确定第二个电子邮件参数是字符串吗？很可能是其他类型被错误地转换为字符串。

# c# - IEnumerable 生成的消费序列

> ID：12477300
> 
> 赞同：2
> 
> 时间：2012-09-18T12:45:02.857
> 
> 标签：c#, yield-return

我想使用 an`IEnumerable`来生成一系列值——特别是类似 Excel 的列标题列表。

```
private IEnumerable<string> EnumerateSymbolNames()
{
  foreach (var sym in _symbols)
  {
    yield return sym;
  }

  foreach (var sym1 in _symbols)
  {
    foreach (var sym2 in _symbols)
    {
      yield return sym1 + sym2;
    }
  }

  yield break;
}
private readonly string[] _symbols = new string[] { "A", "B", "C", ...}; 
```

如果我从`foreach`循环中获取值，这可以正常工作。但我想要的是使用迭代器块作为状态机并获取下一个可用的列标题以响应用户操作。而这——消耗生成的值——是我遇到麻烦的地方。

到目前为止我已经尝试过

```
return EnumerateSymbolNames().Take(1).FirstOrDefault();

return EnumerateSymbolNames().Take(1).SingleOrDefault();

return EnumerateSymbolNames().FirstOrDefault();

var enumerator = EnumerateSymbolNames().GetEnumerator();
enumerator.MoveNext();
return enumerator.Current; 
```

...但这些都没有奏效。（所有都重复返回“A”。）基于对[这个问题](https://stackoverflow.com/questions/2248985/using-ienumerable-without-foreach-loop)的回答，我想知道我想要的甚至是可能的——尽管对该帖子的一些回复提出了与我上一个类似的技术。

不，这*不是*家庭作业:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T12:49:47.740

使用 时`GetEnumerator`，每次迭代都需要使用相同的枚举器。如果您第二次调用 GetEnumerator，它将在集合的开头重新开始。

如果要使用`Take`，则必须首先`Skip`确定已处理的记录数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:18:55.080

这段代码对我有用......

```
var states = EnumerateSymbolNames();
var stateMachine = states.GetEnumerator();

do
{
  //something
} while (stateMachine.MoveNext()); 
```

在该循环中打印结果时，它成功生成了以下输出：

```
A
B
C
...
AA
AB
AC
...
BA
BB
... 
```

这就是我认为你的意图......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-29T16:14:14.037

正如@cadrell0 的回答和@Mr Steak 的评论所指出的那样，我需要做的是保留对`EnumerateSymbolNames().GetEnumerator()`.

当您处于`foreach`循环中时，这是为您隐式完成的：迭代器变量包装了一个枚举器，它（我假设）在循环的本地范围内。所以 - 这是关键部分 - 当迭代器块（相当于）

```
enumerator.MoveNext();
return enumerator.Current; 
```

...您总是使用*相同*的枚举器。而我所做的是每次都创建/获取一个*不同的（新的）枚举器。*可以预见的是，它总是从序列中的第一个位置开始。除了我之外，这对所有人来说可能都很明显；事后看来，这对我来说也很明显。（我认为枚举器是序列的一种单例属性，假设我每次都会得到相同的枚举器。）

以下是我想要的：

```
public class SymbolGenerator
{
    private readonly string[] _symbols = { "A", "B", "C", ... };

    private readonly IEnumerator<string> _enumerator;

    public SymbolGenerator()
    {
        _enumerator = EnumerateSymbols().GetEnumerator();
    }

    public string GetNextSymbol()
    {
        _enumerator.MoveNext();
        return _enumerator.Current;
    }

    private IEnumerable<string> EnumerateSymbols()
    {
        // (unchanged)
    }
} 
```

# android - 如何在调用片段中显示被调用的活动，因为现在它隐藏了主要活动

> ID：12477303
> 
> 赞同：3
> 
> 时间：2012-09-18T12:45:18.367
> 
> 标签：android, android-intent, android-widget

我想在片段中显示地图视图，我通过使用 startActivity(Intent) 来实现这一点，地图活动正在启动，但我的主要活动在后台。但我想在我的调用片段中显示该地图活动。如何做到这一点。请尽快提供帮助。我卡住了。。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T16:08:59.580

> 我想在片段中显示地图视图

这是可能的，但只能在 API 级别 11 及更高级别上使用本机片段，并且只能将其`MapView`放入实际中`Fragment`：[https ://github.com/commonsguy/cw-omnibus/tree/master/Maps/NooYawkFragments](https://github.com/commonsguy/cw-omnibus/tree/master/Maps/NooYawkFragments)

> 我通过使用 startActivity(Intent) 来实现这一点

`startActivity()`与把东西放在碎片中没什么关系。

# haskell - 为新数据类型实例化 Show 类

> ID：12477310
> 
> 赞同：1
> 
> 时间：2012-09-18T12:45:31.130
> 
> 标签：haskell, show

我定义了这些数据类型：

```
data Term = Symbol [Char] | Number [Int] 
data Exp = Fun (String, Term) | Exp (String, [Exp]) 
```

然后我写了一些显示规则：

```
instance Show Term where
  show (Symbol [x])     = [x]
  show (Symbol (x:xs))  = [x]++", "++(show (Symbol xs))

  show (Number [x])     = (show x)
  show (Number (x:xs))  = (show x)++", "++(show (Number xs))

instance Show Exp where
  show (Fun (name, args)) = name++"("++(show args)++")"
  show (Exp (name, args)) = name++"("++(show args)++")" 
```

现在，如果我让：

```
bt = Exp("z", [Fun("f", Number [1,2,3]), Fun("g", Symbol ['a', 'b', 'c'])]) 
```

显示它我得到：

```
z([f(1, 2, 3),g(a, b, c)]) 
```

我希望有这种表示：

```
z(f(1, 2, 3),g(a, b, c)) 
```

即里面没有方括号。

有人能帮我吗？

我试图添加这些语句：

```
instance Show [Exp] where
  show [x]    = show x
  show (x:xs) = (show x)++(show xs) 
```

但`ghci`声称这是注意法律法规。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T12:56:41.670

你可以简单地改变这一行：

```
 show (Exp (name, args)) = name++"("++(show args)++")" 
```

...所以它说：

```
 show (Exp (name, args)) = name++"("++(intercalate ", " . map show $ args)++")" 
```

该函数[`intercalate`](http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-List.html#v%3aintercalate)来自[`Data.List`](http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-List.html).

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-18T13:47:38.927

您可以`showList`在`Show`实例中为`Exp`.

```
instance Show Exp where
  show (Fun (name, args)) = name++"("++(show args)++")"
  show (Exp (name, args)) = name++"("++(show args)++")"
  showList [] _ = ""
  showList [x] _ = show x
  showList (x:xs) _ = show x ++ "," ++ show xs 
```

# c# - 来自 XNA GamerService 的无效跨线程访问

> ID：12477311
> 
> 赞同：2
> 
> 时间：2012-09-18T12:45:32.867
> 
> 标签：c#, multithreading, windows-phone-7, xna

我根据 XNA GamerService 对话框询问我的应用程序用户，他是否真的想删除特定产品。

如果他按下是，这将采取行动：

```
private void OnMessageBoxAction(IAsyncResult ar)
        {
            int? selectedButton = Guide.EndShowMessageBox(ar);
            switch (selectedButton)
            {
                case 0:
                    WebClient cweight = new WebClient();
                    cweight.Encoding = System.Text.Encoding.GetEncoding("ISO-8859-1");

                    cweight.Credentials = new NetworkCredential(op.username, op.userpass);
                    cweight.DownloadStringCompleted += new DownloadStringCompletedEventHandler(deleted);
                    cweight.DownloadStringAsync(new Uri("http://mydomain.com"));
                    break;

                case 1:
                    Debug.WriteLine("1 pressed");
                    break;

                default:
                    Debug.WriteLine("default pressed");
                    break;
            }
        } 
```

下载完成后，我调用登录方法：

```
private void deleted(object sender, DownloadStringCompletedEventArgs e)
        {
            Debug.WriteLine("\n[#] deleted");

            if (e.Error != null)
            {
                Debug.WriteLine("Delete problem");
            }

            Debug.WriteLine("Delete successful");
            login(null, null);
        } 
```

后来在`login`我得到了无效的跨线程访问，`globalprogress.Visibility = System.Windows.Visibility.Visible;`我很确定，这个错误会通过整个登录方法发生。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-03T16:49:23.510

实用类：

```
public class SmartDispatcher
{
    public static void BeginInvoke(Action action)
    {
        if (Deployment.Current.Dispatcher.CheckAccess()
            || DesignerProperties.IsInDesignTool)
        {
            action();
        }
        else
        {
            Deployment.Current.Dispatcher.BeginInvoke(action);
        }
    }
} 
```

# matlab - 如何使用 textread 获取每 n 行

> ID：12477313
> 
> 赞同：1
> 
> 时间：2012-09-18T12:45:38.400
> 
> 标签：matlab

我有一个庞大的数据，有 7 列和 20000 行。我让 Matlab 读取 mydata：

```
[tdata zdata kdata ldata mdata ndata pdata]=textread('mydata.txt') 
```

但我需要的是别的东西。我想让 Matlab 收集每 1000 行的数据。帮助 textread 对第 n 个数据进行解释：

```
[tdata zdata kdata ldata mdata ndata pdata]=textread('mydata.txt',n). 
```

有什么办法可以通过对 textread 格式的微小变化来做到这一点？或者我应该写一个 for 循环？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:12:51.180

如果您读取所有数据，然后裁剪掉不需要的数据，这可能是最简单的：

```
[tdata zdata kdata ldata mdata ndata pdata] = textread('mydata.txt')

tdata = tdata(1:1000:end);
zdata = zdata(1:1000:end);
kdata = kdata(1:1000:end);
ldata = ldata(1:1000:end);
mdata = mdata(1:1000:end);
ndata = ndata(1:1000:end);
pdata = pdata(1:1000:end); 
```

如果内存开销太大，或者您认为这是不可接受的，您将不得不编写一个带有 的循环`fgetl`，类似于以下内容：

```
fid = fopen('mydata.txt', 'r');
i = 0;
while (~feof(fid))
    i = i + 1;
    line = fgetl(fid);

    if mod(i, 1000) == 0
        parsed = textscan(line, '%f%f%f%f%f%f');
        %# etc.

    end
end 
```

# c# - 我可以在十进制类型上重载 + 运算符吗？

> ID：12477314
> 
> 赞同：1
> 
> 时间：2012-09-18T12:45:41.833
> 
> 标签：c#, operator-overloading

使用小数时存在舍入错误，因为它从另一个系统读取另一个数据类型。所以我想知道是否可以在十进制类型上重载 + 运算符？我看到的所有例子都是关于新定义的结构。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T12:51:51.157

No`decimal`是一个[值类型](http://msdn.microsoft.com/en-us/library/s1ax56ch.aspx)，因此不能被继承。您可能必须通过扩展方法来纠正此之外的舍入，例如

```
public static decimal Add(this decimal value, ...)
{
    ... do manual calculation & rounding
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T12:52:18.630

您只能在该类/结构的定义中为该类/结构重载运算符，因此您无法覆盖该类型的默认`+`行为`decimal`。

理想情况下，您会编写某种包装器来纠正源处的舍入误差。

# javascript - jquery addClass 不起作用

> ID：12477315
> 
> 赞同：0
> 
> 时间：2012-09-18T12:45:49.343
> 
> 标签：javascript, jquery

jQuery

```
$(document).on('click', '#fun', function (e) {
    var $this = $(this);
    var request = $.ajax({
      url: "example.php",
      type: "POST",
      data: {bla: blabla},
      dataType: "html"
    });

    request.done(function(msg) {
        if(msg)
        {
            $this.addClass("btn btn-info btn-small marked");
            $("#isMarked", $this).val(msg)
        }
        else if(!msg)
        {
            $this.addClass("btn btn-small unmarked");
            $("#isMarked", $this).val(msg);
        }
    }); 
```

和按钮

```
<a id='fun' class='btn btn-info btn-small marked' href='#'>fun</a> 
```

example.php 将返回一个值 0 或 1（表示真或假），因此 msg 将为 0 或 1

else if(!msg) 中的 addClass 不起作用。我找不到问题。任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T12:59:02.467

`msg`将是一个字符串，因此您在 if 中比较一个字符串，因此它应该始终为真，因为字符串是一个真实值。

```
​var str1 = "0";
var str2 = "1";

var x = str1 ? "true" : "false";
var y = str2 ? "true" : "false";

​alert(x+"\n"+y);​​​​ 
```

# qt - 如何使桌面应用程序使用嵌入特定 JRE 的 QTWebkit

> ID：12477317
> 
> 赞同：2
> 
> 时间：2012-09-18T12:45:57.063
> 
> 标签：qt, java, qtwebkit

我必须使用 QtWebKit 使桌面应用程序运行 java 小程序。

如何在我的 qt 桌面应用程序中嵌入特定的 JRE 和自定义 JRE 路径？

# c# - 获取 ffmpeg.dll 无法在我的 c# 视频应用程序中加载消息？

> ID：12477319
> 
> 赞同：0
> 
> 时间：2012-09-18T12:46:00.670
> 
> 标签：c#, winforms

我开发了一个 Winform 应用程序，它有一个面板作为主屏幕，每侧有两个其他面板用于上一个和下一个视频。和两个按钮，帮助应用程序遍历不同的视频并将其设置到主面板。我现在有 21 个视频......这是我的代码......

```
public void loadvideo2(int a)
    {

            int width = viewscreen.Width;
            int height = viewscreen.Height;
            int width1 = nxtpnl.Width;
            int height1 = nxtpnl.Height;
            int width2 = prepnl.Width;
            int height2 = prepnl.Height;

            video = new Video(vpath[a]);
            video.Owner = viewscreen;
            video.Stop();
            viewscreen.Size = new Size(width, height);

            video1 = new Video(vpath[a + 1]);
            video1.Owner = nxtpnl;
            video1.Stop();
            nxtpnl.Size = new Size(width1, height1);

            video2 = new Video(vpath[a - 1]);
            video2.Owner = prepnl;
            video2.Stop();
            prepnl.Size = new Size(width2, height2);

            plystpBtn.BackgroundImage = Video_Project.Properties.Resources.Style_Play_icon__1_;
            plystpBtn.BackgroundImageLayout = ImageLayout.Stretch;

            trckstatus.Minimum = Convert.ToInt32(video.CurrentPosition);
            trckstatus.Maximum = Convert.ToInt32(video.Duration);

            duration = CalculateTime(video.Duration);
            playposition = "0:00:00";
            posdurtrclbl.Text = playposition + "/" + duration;

            b = a;
            vlbl.Text = "Video" + Convert.ToString(b);
        } 

 private void preBtn_Click(object sender, EventArgs e)
    {
        videono += 1;
        if (videono <= vcount-1)
        {
            loadvideo2(videono);
        }
        else
            MessageBox.Show("File Not Found!!!");
    }

 private void nxtBtn_Click(object sender, EventArgs e)
    {
            videono -= 1;
            if (videono >= 0)
            {
                loadvideo2(videono);
            }
            else
                MessageBox.Show("FIle Not Found!!!");
    } 
```

现在，当我通过按下按钮遍历视频时，它工作正常，直到第 16 个视频，我收到一条错误消息

```
ffmpeg.dll failed to load 
```

谁能帮我解决这个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T10:40:18.873

解决了。这可能是一个内存消耗问题。

```
public void loadvideo2(int a)
    {

            int width = viewscreen.Width;
            int height = viewscreen.Height;
            int width1 = nxtpnl.Width;
            int height1 = nxtpnl.Height;
            int width2 = prepnl.Width;
            int height2 = prepnl.Height;

            video.Dispose();

            video = new Video(vpath[a]);
            video.Owner = viewscreen;
            video.Stop();
            viewscreen.Size = new Size(width, height);

            video1 = new Video(vpath[a + 1]);
            video1.Owner = nxtpnl;
            video1.Stop();
            nxtpnl.Size = new Size(width1, height1);

            video2 = new Video(vpath[a - 1]);
            video2.Owner = prepnl;
            video2.Stop();
            prepnl.Size = new Size(width2, height2);

            plystpBtn.BackgroundImage = Video_Project.Properties.Resources.Style_Play_icon__1_;
            plystpBtn.BackgroundImageLayout = ImageLayout.Stretch;

            trckstatus.Minimum = Convert.ToInt32(video.CurrentPosition);
            trckstatus.Maximum = Convert.ToInt32(video.Duration);

            duration = CalculateTime(video.Duration);
            playposition = "0:00:00";
            posdurtrclbl.Text = playposition + "/" + duration;

            b = a;
            vlbl.Text = "Video" + Convert.ToString(b);
            video1.Dispose();
            video2.Dispose();
        } 
```

# javascript - 使用 javascript 进行域查找

> ID：12477322
> 
> 赞同：1
> 
> 时间：2012-09-18T12:46:05.790
> 
> 标签：javascript, jquery

我们有两个域（xyz.com 和 zxy.com）。并使用 jquery ajax 调用从一个域中获取数据。

如果第一个失败，我如何使用 javascript 检查并重定向到另一个域。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T12:56:31.313

你不能只`window.location.host`用来找出用户当前所在的域吗？

这样您就可以从一开始就进行正确的 ajax 调用。没有理由向错误的域发出请求，等待它失败然后再发出另一个请求。

* * *

但是，如果您确实希望实际发出`AJAX`请求并等待它失败，然后发出不同的请求，如下所示（这个答案故意非常冗长）：

```
var firstRequest = $.ajax({
  url: 'http://xyz.com',
  timeout: 5000
});

firstRequest.done(function (data) {

});

firstRequest.fail(function () {

  var anotherRequest = $.ajax({
    url: 'http://xzy.com',
    timeout: 5000
  });

  anotherRequest.done(function (data) {

  });

  anotherRequest.fail(function () {

  });

}); 
```

# django - Django 日期字段查询

> ID：12477324
> 
> 赞同：0
> 
> 时间：2012-09-18T12:46:09.477
> 
> 标签：django, datetime

我是 Django (1.4.1) 的新手，我有一个这样的模型：

```
class Expediente(models.Model):
    numero_expediente = models.IntegerField()
    ano_expediente = models.IntegerField()
    data_expediente = models.DateField(blank=False, null=False)
    urgencia = models.IntegerField()
    complexidade = models.IntegerField(null=True)
    numero_copia = models.IntegerField()
    posse = models.IntegerField()
    grupo = models.IntegerField(null=True) 
```

我正在尝试使用日期范围进行查询：

```
now = datetime.now()
lista_expedientes = Expediente.objects.all().order_by('ano_expediente'

data_inicio = datetime.combine(now+timedelta(-30), now.timetz())
data_fim = datetime.combine(now, now.timetz())

exp_antiguidade[0] = lista_expedientes.filter(data_expediente__range=(data_inicio,  data_fim)) 
```

我已经尝试过查询`__gte` `__range`和其他人，但最后我总是有一个错误：

> 异常类型：TypeError
> 
> 异常值：需要整数

我认为我需要将日期时间转换为整数......

有什么解决办法吗？

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T12:58:13.747

`data_expediente`是 a `DateField`，所以它需要一个有效的`Date`对象，但你给的是一个`Datetime`对象。您必须修复以下问题：

```
from datetime import datetime, timedelta

now = datetime.today().date() # get a Date object
data_inicio = now + timedelta(days=30) 
```

# c++ - 自动矢量化感兴趣区域（裁剪）

> ID：12477337
> 
> 赞同：1
> 
> 时间：2012-09-18T12:46:45.690
> 
> 标签：c++, gcc, crop, vectorization, roi

我有一个库，其中包含一些图像处理算法，包括感兴趣区域（裁剪）算法。使用 GCC 编译时，自动矢量化器会加速很多代码，但会降低 Crop 算法的性能。有没有办法标记某个循环被矢量化器忽略，或者有没有更好的方法来构造代码以获得更好的性能？

```
for (RowIndex=0;RowIndex<Destination.GetRows();++RowIndex)
{
    rowOffsetS = ((OriginY + RowIndex) * SizeX) + OriginX;
    rowOffsetD = (RowIndex * Destination.GetColumns());
    for (ColumnIndex=0;ColumnIndex<Destination.GetColumns();++ColumnIndex)
    {
        BufferSPtr=BufferS + rowOffsetS + ColumnIndex;
        BufferDPtr=BufferD + rowOffsetD + ColumnIndex;
        *BufferDPtr=*BufferSPtr;
    }
} 
```

哪里 `SizeX`是源的宽度 `OriginX`是感兴趣区域的左边是感兴趣区域 `OriginY`的顶部

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:44:11.070

我还没有找到任何关于更改循环优化标志的信息，但是根据文档，您可以在函数上使用属性`optimize`（查看[此处](http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html)和[此处](http://www.acsu.buffalo.edu/~charngda/cc.html)）来覆盖该函数的优化设置，有点像这样：

```
void foo() __attribute__((optimize("O2", "inline-functions"))) 
```

如果您想为多个功能更改它，您可以使用`#pragma GCC optimize`为以下所有功能设置它（[看这里](http://gcc.gnu.org/onlinedocs/gcc/Function-Specific-Option-Pragmas.html#Function-Specific-Option-Pragmas)）。

因此，您应该能够使用一组不同的优化标志编译包含裁剪的函数，省略自动矢量化。这具有硬编码该函数的编译标志的缺点，但这是我发现的最好的。

关于重组以获得更好的性能，我在评论中已经提到的两点浮现在脑海中（假设范围不能重叠）：

*   将指针声明为`__restrict`告诉编译器它们没有别名（一个指针指向的区域不会被函数内的任何其他方式访问）。指针别名的可能性是优化器的主要绊脚石，因为如果它不知道写入是否`BufferD`会更改`BufferS`.

*   用复制调用替换内部循环：

    ```
    std::copy(BufferS + rowOffsetS, BufferS + rowOffsetS + Destination.GetColumns(), BufferD + rowOffsetD); 
    ```

    该`copy`函数可能已经得到了很好的优化（可能会将参数转发到`memmove`），因此这可能会使您的代码更快，同时也使您的代码更短（总是一个加号）。

# algorithm - 查找给定单词的字谜

> ID：12477339
> 
> 赞同：47
> 
> 时间：2012-09-18T12:46:53.413
> 
> 标签：algorithm, data-structures, language-agnostic, anagram

如果其中一个词与另一个词的字符完全相同，则两个词是字谜。

示例：`Anagram`&`Nagaram`是字谜（不区分大小写）。

现在有很多类似的问题。找出两个字符串是否是字谜的几种方法是：

**1）** `Sort`字符串并比较它们。

**2）**为这些字符串创建一个`frequency map`并检查它们是否相同。

但是在这种情况下，我们给出了一个单词（为了简单起见，我们假设只有一个单词，并且它只有一个单词字谜），我们需要为此找到字谜。

我想到的解决方案是，我们可以**生成单词的所有排列**并检查**字典中存在哪些单词** 。但显然，这是非常低效的。是的，词典也有。

那么我们有什么选择呢？

我还在一个类似的线程中读到，可以使用某些东西来完成，`Tries`但该人没有解释算法是什么以及我们为什么首先使用 Trie，只是在 Python 或 Ruby 中也提供了一个实现。所以这并没有真正的帮助，这就是我创建这个新线程的原因。如果有人想分享他们的实现（C、C++ 或 Java 除外），也请解释一下。

* * *

## 回答 #1

> 赞同：76
> 
> 时间：2012-09-18T13:25:12.557

示例算法：

```
Open dictionary
Create empty hashmap H
For each word in dictionary:
  Create a key that is the word's letters sorted alphabetically (and forced to one case)
  Add the word to the list of words accessed by the hash key in H 
```

要检查给定单词的所有字谜：

```
Create a key that is the letters of the word, sorted (and forced to one case)
Look up that key in H
You now have a list of all anagrams 
```

构建速度相对较快，查找速度极快。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2015-03-09T18:13:32.763

我想出了一个新的解决方案。它使用算术基本定理。所以这个想法是使用前 26 个素数的数组。然后对于输入单词中的每个字母，我们得到相应的素数 A = 2、B = 3、C = 5、D = 7 ……然后我们计算输入单词的乘积。接下来，我们对字典中的每个单词执行此操作，如果一个单词与我们的输入单词匹配，那么我们将其添加到结果列表中。所有字谜将具有相同的签名，因为

> 任何大于 1 的整数要么是素数，要么可以写成素数的唯一乘积（忽略顺序）。

这是代码。我将单词转换为大写，65 是 A 的位置，对应于我的第一个素数：

```
private int[] PRIMES = new int[] { 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31,
        37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103,
        107, 109, 113 }; 
```

这是方法：

```
 private long calculateProduct(char[] letters) {
    long result = 1L;
    for (char c : letters) {
        if (c < 65) {
            return -1;
        }
        int pos = c - 65;
        result *= PRIMES[pos];
    }
    return result;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-18T13:20:42.550

我们知道，如果两个词的长度不同，它们就不是字谜。因此，您可以将字典划分为相同长度的单词组。

现在我们只关注其中一个组，基本上所有单词在这个较小的宇宙中都具有完全相同的长度。

如果每个字母位置都是一个维度，并且该维度中的值基于字母（比如 ASCII 码）。然后就可以计算词向量的长度了。

例如，说'A'=65，'B'=66，然后`length("AB") = sqrt(65*65 + 66*66)`。显然，`length("AB") = length("BA")`。

显然，如果两个词是字谜，那么它们的向量具有相同的长度。下一个问题是，如果两个单词（具有相同数量的字母）向量具有相同的长度，它们是字谜吗？直觉上，我会说不，因为所有具有该长度的向量都形成一个球体，所以有很多。不确定，因为在这种情况下我们在整数空间中，实际上有多少。

但至少它允许您进一步划分您的字典。对于字典中的每个单词，计算向量的距离： `for(each letter c) { distance += c*c }; distance = sqrt(distance);`

然后为所有长度的单词创建一个映射`n`，并用距离作为键，值是`n`产生特定距离的长度单词列表。

您将为每个距离创建一张地图。

然后您的查找变成以下算法：

1.  根据单词的长度使用正确的字典图
2.  计算单词向量的长度
3.  查找与该长度匹配的单词列表
4.  浏览列表并使用朴素算法挑选字谜现在候选列表大大减少

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-04-27T11:07:22.593

*   将单词减少为 - 说 - 小写 ( `clojure.string/lower-case`)。
*   `group-by`按字母频率图 ( ) 对它们进行分类( `frequencies`)。
*   删除频率图，
*   ...离开字谜的集合。

( `These`) 是 Lisp 方言 Clojure 中的对应函数。

整个函数可以这样表示：

```
(defn anagrams [dict]
  (->> dict
       (map clojure.string/lower-case)
       (group-by frequencies)
       vals)) 
```

例如，

```
(anagrams ["Salt" "last" "one" "eon" "plod"])
;(["salt" "last"] ["one" "eon"] ["plod"]) 
```

将每个事物映射到其集合的索引函数是

```
(defn index [xss]
  (into {} (for [xs xss, x xs] [x xs]))) 
```

因此，例如，

```
((comp index anagrams) ["Salt" "last" "one" "eon" "plod"])
;{"salt" ["salt" "last"], "last" ["salt" "last"], "one" ["one" "eon"], "eon" ["one" "eon"], "plod" ["plod"]} 
```

...`comp`函数组合运算符在哪里。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-18T13:04:57.453

Well Tries 可以更容易地检查单词是否存在。因此，如果您将整个字典放在一个 trie 中：

[http://en.wikipedia.org/wiki/Trie](http://en.wikipedia.org/wiki/Trie)

然后你可以相信你的话并通过获取一个字符并递归地检查我们是否可以通过其余字符的任何组合（一次添加一个字符）沿着Trie“走”来进行简单的回溯。当递归分支中使用了所有字符并且 Trie 中存在有效路径时，则该单词存在。

Trie 有帮助，因为它是一个很好的停止条件：我们可以检查字符串的一部分，例如“Anag”是否是 trie 中的有效路径，如果不是，我们可以打破那个特定的递归分支。这意味着我们不必检查字符的每一个排列。

在伪代码中

```
checkAllChars(currentPositionInTrie, currentlyUsedChars, restOfWord)
    if (restOfWord == 0)
    {
         AddWord(currentlyUsedChar)
    }
    else 
    {
        foreach (char in restOfWord)
        {
            nextPositionInTrie = Trie.Walk(currentPositionInTrie, char)
            if (nextPositionInTrie != Positions.NOT_POSSIBLE)
            {
                checkAllChars(nextPositionInTrie, currentlyUsedChars.With(char), restOfWord.Without(char))
            }
        }   
    } 
```

显然，您需要一个不错的 Trie 数据结构，它允许您逐步“走”下树并检查每个节点是否存在具有给定字符的路径到任何下一个节点......

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-05-27T13:00:47.940

```
static void Main(string[] args)
{

    string str1 = "Tom Marvolo Riddle";
    string str2 = "I am Lord Voldemort";

    str2=  str2.Replace(" ", string.Empty);
    str1 = str1.Replace(" ", string.Empty);
    if (str1.Length != str2.Length)
        Console.WriteLine("Strings are not anagram");
    else
    {
        str1 = str1.ToUpper();
        str2 = str2.ToUpper();
        int countStr1 = 0;
        int countStr2 = 0;
        for (int i = 0; i < str1.Length; i++)
        {
            countStr1 += str1[i];
            countStr2 += str2[i];

        }
        if(countStr2!=countStr1)
            Console.WriteLine("Strings are not anagram");
        else Console.WriteLine("Strings are  anagram");

    }
    Console.Read();
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-18T13:05:21.137

生成所有排列很容易，我猜你担心在字典中检查它们的存在是“非常低效”的部分。但这实际上取决于您用于字典的数据结构：当然，单词列表对于您的用例来说效率低下。说到[Tries](http://en.wikipedia.org/wiki/Trie)，它们可能是一个理想的表示，而且也非常有效。

另一种可能性是对您的字典进行一些预处理，例如构建一个哈希表，其中键是单词的字母排序，值是单词列表。您甚至可以序列化此哈希表，以便将其写入文件并稍后快速重新加载。然后查找字谜，您只需对给定的单词进行排序并在哈希表中查找相应的条目。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-09-18T13:17:13.927

这取决于您如何存储字典。如果它是一个简单的单词数组，那么没有算法会比线性更快。

如果它已排序，那么这是一种可能有效的方法。我刚刚发明了它，但我猜它比线性方法更快。

1.  将您的字典表示为 D，当前前缀为 S。S = 0；
2.  您为您的单词创建频率图。让我们用 F 来表示它。
3.  使用二进制搜索查找指向字典中每个字母开头的指针。让我们用 P 来表示这个指针数组。
4.  对于从 A 到 Z 的每个字符 c，如果 F[c] == 0，则跳过它，否则
    *   S += c;
    *   F[c] --;
    *   P <- 对于每个字符 i P[i] = 指向以 S+i 开头的第一个单词的指针。
    *   递归调用第 4 步，直到找到与您的单词匹配或直到您发现不存在这样的匹配。

无论如何，我会这样做。应该有一种更传统的方法，但这比线性方法更快。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-12-22T20:57:22.710

试图实现 hashmap 解决方案

```
public class Dictionary {

    public static void main(String[] args){

    String[] Dictionary=new String[]{"dog","god","tool","loot","rose","sore"};

    HashMap<String,String> h=new HashMap<String, String>();

    QuickSort q=new QuickSort();

    for(int i=0;i<Dictionary.length;i++){

        String temp =new String();

        temp= q.quickSort(Dictionary[i]);//sorted word e.g dgo for dog

        if(!h.containsKey(temp)){
           h.put(temp,Dictionary[i]);
        }

        else
        {
           String s=h.get(temp);
           h.put(temp,s + " , "+ Dictionary[i]);
        }
    }

    String word=new String(){"tolo"};

    String sortedword = q.quickSort(word);

    if(h.containsKey(sortedword.toLowerCase())){ //used lowercase to make the words case sensitive

        System.out.println("anagrams from Dictionary   :  " + h.get(sortedword.toLowerCase()));
    }

} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-03-08T06:21:24.417

*   计算字典中每个单词的频率计数向量，一个字母列表长度的向量。
*   生成字母列表长度的随机高斯向量
*   在这个随机方向上投影每个字典单词的计数向量并存储值（插入以便对值数组进行排序）。

*   给定一个新的测试词，将其投射到与字典词相同的随机方向上。

*   执行二进制搜索以查找映射到相同值的单词列表。
*   验证如上获得的每个单词是否确实是一个真正的字谜。如果没有，请将其从列表中删除。
*   返回列表的剩余元素。

PS：上述过程是质数过程的概括，可能会导致大数（以及因此计算精度问题）

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-01-12T07:10:01.773

```
# list of words
words = ["ROOPA","TABU","OOPAR","BUTA","BUAT" , "PAROO","Soudipta",
        "Kheyali Park", "Tollygaunge", "AROOP","Love","AOORP",
         "Protijayi","Paikpara","dipSouta","Shyambazaar",
        "jayiProti", "North Calcutta", "Sovabazaar"]

#Method 1
A = [''.join(sorted(word)) for word in words]

dict ={}

for indexofsamewords,samewords in enumerate(A):
    dict.setdefault(samewords, []).append(indexofsamewords)

print(dict)
#{'AOOPR': [0, 2, 5, 9, 11], 'ABTU': [1, 3, 4], 'Sadioptu': [6, 14], ' KPaaehiklry': [7], 'Taeggllnouy': [8], 'Leov': [10], 'Paiijorty': [12, 16], 'Paaaikpr': [13], 'Saaaabhmryz': [15], ' CNaachlortttu': [17], 'Saaaaborvz': [18]}

for index in dict.values(): 
    print( [words[i] for i in index ] ) 
```

输出 ：

```
['ROOPA', 'OOPAR', 'PAROO', 'AROOP', 'AOORP']
['TABU', 'BUTA', 'BUAT']
['Soudipta', 'dipSouta']
['Kheyali Park']
['Tollygaunge']
['Love']
['Protijayi', 'jayiProti']
['Paikpara']
['Shyambazaar']
['North Calcutta']
['Sovabazaar'] 
```

* * *

## 回答 #12

> 赞同：-3
> 
> 时间：2015-07-16T18:39:09.093

一种解决方案是 - 将素数映射到字母字符并乘以素数

```
For ex - 

    a -> 2
    b -> 3
    ......
    .......
    ......
    z -> 101 
```

所以

```
'ab' -> 6
'ba' -> 6
'bab' -> 18
'abba' -> 36
'baba' -> 36 
```

获取给定单词的 MUL_number。返回字典中与给定单词具有相同 MUL_number 的所有单词

* * *

## 回答 #13

> 赞同：-3
> 
> 时间：2016-09-28T17:18:50.300

首先检查字符串的长度是否相同。然后检查两个字符串中字符的总和是否相同（即ascii代码总和）然后这些单词是字谜，否则不是字谜

# java - 在 JSONObject 中解析 simple-JSONObject

> ID：12477340
> 
> 赞同：0
> 
> 时间：2012-09-18T12:46:56.783
> 
> 标签：java, android, json

我想简单地将其解析为 jsonObject 。最重要的方式是我只想管理对象的顺序

```
 try {
        { JSONParser parser = new JSONParser();                 
  ContainerFactory containerFactory = new ContainerFactory(){
    public List creatArrayContainer() {                       
return new LinkedList();   }
       public Map createObjectContainer() {             
          return new LinkedHashMap();    }    };
   json = (JSONObject)parser.parse(responce, containerFactory); 
```

这是我的问题[是](http://code.google.com/p/json-simple/issues/detail?id=78) 我使用简单 jsonObject的链接

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:49:05.160

更好地使用`Jackson`来简化您的工作......

**请参阅此链接：**

[http://jackson.codehaus.org/](http://jackson.codehaus.org/)

# c++ - 有没有办法禁用全局变量？

> ID：12477341
> 
> 赞同：2
> 
> 时间：2012-09-18T12:46:59.263
> 
> 标签：c++, debugging, global-variables

我有一个相当长的遗留代码功能。有没有办法检查它是否正在使用任何全局变量或禁用对任何变量的访问？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:58:38.737

在 Linux 上，像往常一样编译可执行文件，然后运行：

```
nm your-program | egrep " (b|B) " 
```

这将列出[BSS](http://en.wikipedia.org/wiki/.bss)中的符号。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T12:59:53.277

我会检查生成的目标文件中的数据符号：`nm -po file.o | grep ' D '`编译器生成几个符号，您可能想检查几个其他类型的符号，例如`B`小写版本。

# c# - 我可以从 Web 应用程序向 MvcContrib.Bus 上的便携式区域发送消息吗

> ID：12477344
> 
> 赞同：0
> 
> 时间：2012-09-18T12:47:07.120
> 
> 标签：c#, model-view-controller, mvccontrib, portable-areas

在我陷入困境之前，我想知道是否有人这样做过。

我看到的所有 MvcContrib.Bus 示例都显示了便携式区域向主机发送的消息。我希望能够将消息从主机发送回便携式区域，并想知道这是否可能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T14:34:34.857

是的你可以 ：）

该区域可以接收和发送总线消息。

# android - webview 中的斯洛文尼亚语字符

> ID：12477346
> 
> 赞同：0
> 
> 时间：2012-09-18T12:47:28.497
> 
> 标签：android, html, webview

所以我有一个 webview，我想在其中显示一些 html ...如果我像这样从 web 加载 html：

```
wv.loadUrl("http://www.somepage.com/somehtml.html"); 
```

它显示了所有应有的字符。然后我下载了该代码并将其保存到资产文件夹中，现在它会加载但它没有正确显示像š，ž，č这样的字符。我这样加载

```
wv.loadUrl("file:///android_asset/samehtml.html"); 
```

在 html 的头部，我已将 charset 设置为 utf-8。我的 html 的开头看起来像...

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1138.32">
</head> 
```

# java - 在实现类方法上放置注释并使用带反射的代理

> ID：12477348
> 
> 赞同：0
> 
> 时间：2012-09-18T12:47:41.270
> 
> 标签：java, reflection, proxy, annotations

我正在使用 java 中的代理反射注释概念。我用 Proxy.getInstance 方法创建了一个代理。我观察到的是这个方法只接受接口作为参数。所以在使用注解时，我只能在接口中的方法名称上添加注解，但我想在这些接口的实现中的方法上添加注解。

那么我怎样才能做到这一点。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T11:08:08.680

我了解到，通过实现代理接口时使用 JDKProxy，通过继承（子类扩展超类）代理使用 CBLIB 代理。

# java - Spring ws org.springframework.ws.soap.saaj.SaajSoapEnvelopeException XSD？

> ID：12477349
> 
> 赞同：1
> 
> 时间：2012-09-18T12:47:44.070
> 
> 标签：java, xml, spring, marshalling

我总是得到错误

`HTTP Status 500 - Request processing failed; nested exception is org.springframework.ws.soap.saaj.SaajSoapEnvelopeException: Could not access envelope: Unable to create envelope from given source: ; nested exception is com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Unable to create envelope from given source:`

当我尝试运行具有两种复杂类型的soapRequest时，例如：

```
<xs:element name="blub">
    <xs:complexType>
        <xs:sequence>
            <xs:element name="mainheader" type="header" />
            <xs:element name="mainbody" type="body" />
        </xs:sequence>
    </xs:complexType>
</xs:element> 
```

我使用 org.springframework.oxm.jaxb.Jaxb2Marshaller 作为 Marshaller，使用 org.springframework.xml.xsd.commons.CommonsXsdSchemaCollection 作为 xsd。

有人有想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T00:30:20.410

您可能会错过`soap:Envelope`：

```
<?xml version="1.0"?>
<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
  <soap:Header>
  </soap:Header>
  <soap:Body>
    <m:GetStockPrice xmlns:m="http://www.example.org/stock">
      <m:StockName>IBM</m:StockName>
    </m:GetStockPrice>
  </soap:Body>
</soap:Envelope> 
```

# xaml - Windows 8 Metro 应用程序设计多分辨率

> ID：12477357
> 
> 赞同：1
> 
> 时间：2012-09-18T12:47:53.150
> 
> 标签：xaml, windows-8, microsoft-metro, expression-blend, resolution

我正在设计一个简单的音乐应用程序，用户可以在其中演奏乐器，即鼓，而我面临的问题是分辨率。

鼓是图像，我已将它们转换为按钮。在我设计的状态下，一切看起来都很棒。

![正常状态](../Images/645f650a49494ff3f673c8b8662f7099.png)

但是，当我切换到其他分辨率状态时，按钮（图像）会变形，例如歪斜、缩放，并且看起来很糟糕。

![在差异分辨率下失真](../Images/e3dd955eac6c78c894d6beb4c1f5ecd8.png)

我曾尝试通过选择“启用状态记录”来设计或排列它们，但没有保存该状态的特定设计。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T15:30:39.377

您是否尝试过这里讨论的方法？[http://msdn.microsoft.com/en-us/library/windows/apps/hh465362.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh465362.aspx) 对于实际的按钮大小，请确保您没有使用像素值来固定宽度/高度。使用 * 加权行和列来布局您的网格，并让按钮自动调整大小以填充网格中的给定单元格。然后根据文章匹配适当的图像资源。

网格非常适合划分可用空间，但它们无法解释纵横比的变化。如果您的项目仍设置为拉伸（或填充），那么它们最终可能会超出纵横比。另一种选择是将整个布局设计为固定大小（例如 1024 x 768 或 1366 x 768）并将整个布局包裹在 ViewBox 中。ViewBox 将平等地缩放所有元素并保持纵横比，必要时在侧面/顶部和底部添加信箱（或空白空间）。对于架子鼓来说，这可能是更好的方法。

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T15:48:57.577

重新设计了整个项目。

这一次，我把图像放在一个特定的网格中，这让事情变得更好了。:)

# jquery - 使用javascript在图像上画一条线

> ID：12477364
> 
> 赞同：3
> 
> 时间：2012-09-18T12:48:22.937
> 
> 标签：jquery, html, javascript

我在 html img 标签中有一张图片。我的要求是，当用户单击图像时，它会在拖动鼠标时标记一个点并绘制一条线。然后，当用户完成拖动并单击图像时，它应该显示线条并以毫米/厘米为单位显示线条的尺寸。即，用户必须在图像上绘制一条线并显示他绘制的线的距离/长度（以毫米/厘米为单位）。

如何在 Web 应用程序中实现此功能？谁能帮我实现这个功能？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-18T12:55:27.257

使用 html5 canvas 元素，将图像设置为 canvas 元素的 css 背景（使绘制线条更容易，因为您不必重新绘制图像）并在画布上绘制线条：

1) On `mousedown`，记录鼠标位置并注册一个`mousemove`围绕这些起始位置关闭的处理程序，并注册一个`mouseup`处理程序以删除`mousemove`处理程序。

2）在`mousemove`处理程序中，找到当前鼠标位置和鼠标起始位置之间的偏移量，将此偏移量添加到起始行位置，然后使用此新位置重绘画布。

您不能用物理距离标记线条，因为这取决于显示您的作品的屏幕。您可以做的最好的事情是确定图像的比例/打印分辨率（以 dpi 为单位，例如每英寸 300 像素）并据此计算线条的长度。确切的实现取决于您希望如何使用结果。

**更新：示例**

[演示 JSFIDDLE](http://jsfiddle.net/Jj9QW/3/)

**HTML**

```
<canvas id="canvas" width="200" height="200">
    Your browser doesn't support canvas
</canvas> 
```

**CSS**

```
canvas{
    background-image: url("image.jpg");
    background-position: center;
    background-size: 100% 100%;
} 
```

**JS**

```
$(document).ready(function(){

    var imageDpi = 300;

    var can = document.getElementById('canvas');
    var ctx = can.getContext('2d');
    var startX, startY;

    $("canvas").mousedown(function(event){
        startX = event.pageX;
        startY= event.pageY;

        $(this).bind('mousemove', function(e){
            drawLine(startX, startY, e.pageX, e.pageY);
        });
    }).mouseup(function(){
        $(this).unbind('mousemove');
    });

    function drawLine(x, y, stopX, stopY){
        ctx.clearRect (0, 0, can.width, can.height);
        ctx.beginPath();
        ctx.moveTo(x, y);
        ctx.lineTo(stopX, stopY);
        ctx.closePath();
        ctx.stroke();

        // calculate length   
        var pixelLength = Math.sqrt(Math.pow((stopX - x),2) + Math.pow((stopY-y),2));
        var physicalLength = pixelLength / imageDpi;
        console.log("line length = " + physicalLength + 
                    " inches (image at " + imageDpi + " dpi)");
    }
}); 
```

**更新 2：线长**

我更新了我的例子。它定义图像的物理分辨率并根据该假设计算线的长度。

# c++ - GetDlgItem 的问题

> ID：12477368
> 
> 赞同：0
> 
> 时间：2012-09-18T12:48:36.550
> 
> 标签：c++, visual-c++, mfc

我正在尝试执行以下操作：

```
CComboBox *pComboBox;
CString newString;  
int iNewSelection = -1;

pComboBox = (CComboBox*)(this->GetDlgItem(IDC_METHOD));

NewMethod = pComboBox->GetCurSel();

if(NewMethod != CB_ERR)
{
    pComboBox->GetLBText(NewMethod, newString);
} 
```

在上面的 NewMethod 是一个整数。

它工作正常（有点）。问题如下：

当我通过上面的代码进行调试时，停在 IF 条件并将鼠标光标放在 NewMethod 上，我得到一些随机值，但它确实通过了 IF 条件，我可以在 newString 中看到正确的值。

我的问题是：为什么我在 NewMethod 中看不到正确的整数值？

非常感谢。

此致

钦坦

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T09:38:03.400

看起来您的源代码和二进制文件不同步，即。您正在调试已使用不同版本的源代码编译的 DLL/EXE。

在调试期间，激活 Debug->Windows->Modules 窗口并检查您正在调试的 DLL/EXE 是否与您使用源代码编译的相同（检查日期/时间、符号文件等）。

# openstreetmap - 绘制路线openstreet地图

> ID：12477369
> 
> 赞同：0
> 
> 时间：2012-09-18T12:48:38.600
> 
> 标签：openstreetmap

我有几个地理点，我想用 openstreet 地图绘制路线。我可以从哪里开始 这张地图有任何文档吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T15:08:25.163

有几种方法可以在 OSM 上绘制路线。如果您使用 java 进行编码并且应该允许您做任何您想做的事情，JXMapViewer 就很好。

[http://wiki.openstreetmap.org/wiki/JXMapViewer2](http://wiki.openstreetmap.org/wiki/JXMapViewer2)

# symfony1 - 如何将 POST 数据绑定到对象可以保存到 Doctrine

> ID：12477385
> 
> 赞同：1
> 
> 时间：2012-09-18T12:49:31.443
> 
> 标签：symfony1, doctrine

如何将 POST 数据绑定到对象可以保存或编辑到 Doctrine。

我将 Doctrine 与注释实体一起使用。我不知道将数组数据绑定到实体。

我也读到了 Symfony 的独立组件。

例子 ：

```
$_POST # form data , array

# this is how doctrine save object
$product = new Product();
$product->setName('product1');
$entityManager->persist($product);
$entityManager->flush(); 
```

我想 `$product = $helper->convert($_POST, ...) # return product object` 然后我可以将 $product 持久化到 $entityManager。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:24:24.317

这将帮助您如何处理表单： [http ://symfony.com/doc/current/book/forms.html](http://symfony.com/doc/current/book/forms.html)

将数据放在实体用户的设置器上。

```
$entity->setName('Mitchel'); 
```

如果要在实体上发布帖子，则必须创建如下函数：

```
 public function setAttributes( array $values )
    {
        foreach( $values as $attribute => $value ) {
            $dateEng = "/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/";
            $dateNl  = "/^([0-9]{2})-([0-9]{2})-([0-9]{4})$/";
            if( preg_match ($dateEng, $value) OR preg_match ($dateNl, $value) ){
                $value = date_create( $value );
            }

            if(is_string( $value )){
                if(preg_match( '/^\d+$/', $value )){
                    $value = (int) $value;
                }
            }

            $this->{'set' . ucfirst( $attribute )}( $value );
        }

        return $this;
    } 
```

这对我有用 =) 如果我发现一个不起作用的案例，我只需添加一些代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T22:53:22.953

如果您决定采用这种方式，则应首先使用**ClassMetadata**类来确定字段名称，否则当用户发布额外数据时，您将收到“PHP 致命错误：调用未定义方法...”。

像这样的东西：

```
<?php 
function setAttributes($values) {
$cm = new ClassMetadata(__CLASS__);
foreach ($cm->getFieldNames() as $field) { 
  if (array_key_exists($values, $field))
    $this->{'set' . ucfirst( $attribute )}( $value );
// ... 
```

**但我强烈建议你学习表单组件**。我只花了一天的时间就开始制作复杂的表格，大约花了一周的时间。

# asp.net - jsRender 将行转为列 - 在列中显示数据

> ID：12477387
> 
> 赞同：0
> 
> 时间：2012-09-18T12:49:42.297
> 
> 标签：asp.net, pivot, jsrender, jsviews

我正在使用 jsRender，我想将我的数据显示为列，而不是我返回的行。我想旋转数据 - 这是可以用 jsRender 完成的吗？我无法在 SQL 中获取数据，所以我唯一的选择是自己做。

这基本上就是我所追求的。我想自己写列名。

* * *

页眉 | 第 1 行 | 第 2 行 | 第 3 行 |

* * *

列布拉| 行数据 | 行数据 | 行数据

* * *

更多废话 | 行数据 | 行数据 | 行数据

* * *

我曾尝试对表格单元格使用 {{for}} 循环，但我只是不知道从哪里开始。

**更新：** 在鲍里斯的建议之后，我尝试了建议的代码。尽管我的格式不正确，但我已将其包含在此处。

这是我的 JSON 源代码的摘录：

```
{
  "Layers": {
    "Layer": [
      {
    "@LayerID": "1",
    "RiskRef": {
      "@ColVal": "Contract/Section Number",
      "#text": "PUSNA11000392/1"
    },
    "ContractStatus": {
      "@ColVal": "New, Renewal or NTU?",
      "#text": "New"
    },
    "AdjustRate": {
      "@ColVal": "Adjustable Rate",
      "#text": "0.53%"
    }, 
```

我的 jsRender javaScript 代码是：

```
<script id="xolDetailsTemplate" type="text/x-jsrender">
            {{for Layers}}
                {{for >#data["Layer"]}}
                <td>{{>#data["@LayerID"]}}</td>
                {{/for}}
            {{/for}}
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T17:36:56.603

如果您的数据是 `model = { people: [{firstName: "Jo", lastName: "Colby"}, ...] }`

您可以使用以下模板来呈现人员数组，将行转换为列：

```
<tbody>
    <tr><td>First Name</td>{{for people}}<td>{{>firstName}}</td>{{/for}}</tr>
    <tr><td>Last Name</td>{{for people}}<td>{{>lastName}}</td>{{/for}}</tr>
</tbody> 
```

在下面的评论中，您说您的数据具有像“@foo”这样的字段名称。让我们考虑这个例子： `model = { "people": [{"@firstName": "Jo", "@lastName": "Colby"}}, ...] }`.

您可以使用模板呈现它，如下所示：

```
<tbody>
    <tr><td>First Name</td>{{for people}}<td>{{>#data["@firstName"]}}</td>{{/for}}</tr>
    <tr><td>Last Name</td>{{for people}}<td>{{>#data["@lastName"]}}</td>{{/for}}</tr>
</tbody> 
```

如果字段名称包含非 JavaScript 名称字符，例如“@”，则需要使用该语法`#data["@xxx"]`。

# c# - NAudio - WaveHeaderUnprepared 调用 waveOutWrite

> ID：12477390
> 
> 赞同：-2
> 
> 时间：2012-09-18T12:50:04.730
> 
> 标签：c#, naudio

这是什么意思？哪里有问题？它出现在我关闭我的应用程序时。当然，我称之为 dispose 等。它并不总是发生，而是有时发生。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T12:49:37.350

waveOutWrite 是 NAudio 正在调用的 Windows API，WaveHeaderUnprepared 是它可以返回的错误代码之一。在您关闭应用程序之前，您的 WAV 播放可能还没有完成。您使用的是哪种回调模型？

# java - 将 org.w3c.dom.Document 中的 XML 美化为文件

> ID：12477392
> 
> 赞同：0
> 
> 时间：2012-09-18T12:50:15.463
> 
> 标签：java, xml, pretty-print

**摘要：我想保存一个`org.w3c.dom.Document`带有漂亮缩进的文件（漂亮地打印它）。以下带有 a 的代码`Transformer`在某些情况下可以完成这项工作，但并非在所有情况下都可以（参见示例）。你能帮我解决这个问题吗？**

我有一个`org.w3c.dom.Document`(not `org.jdom.Document`) 并且想自动很好地格式化它并将其打印到一个文件中。我怎样才能做到这一点？我试过这个，但如果文档中有额外的换行符，它就不起作用：

```
import java.io.ByteArrayInputStream;

import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.transform.OutputKeys;
import javax.xml.transform.Transformer;
import javax.xml.transform.TransformerFactory;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamResult;

import org.w3c.dom.Document;

public class Main {
    public static void main(String[] args) {
        try {
            String input = "<asdf>\n\n<a>text</a></asdf>";
            Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(new ByteArrayInputStream(input.getBytes()));

            System.out.println("-- input -------------------\n" + input + "\n----------------------------");
            System.out.println("-- output ------------------");
            prettify(doc);
            System.out.println("----------------------------");

        } catch (Exception e) {}
    }

    public static void prettify(Document doc) {
        try {
            TransformerFactory transformerFactory = TransformerFactory.newInstance();
            Transformer transformer = transformerFactory.newTransformer();
            transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, "no");
            transformer.setOutputProperty(OutputKeys.METHOD, "xml");
            transformer.setOutputProperty(OutputKeys.INDENT, "yes");
            transformer.setOutputProperty(OutputKeys.ENCODING, "UTF-8");
            transformer.setOutputProperty("{http://xml.apache.org/xslt}indent-amount", "2");
            transformer.transform(new DOMSource(doc), new StreamResult(System.out));
        } catch (Exception e) {}
    }
} 
```

我已将输出定向到，`System.out`以便您可以在任何需要的地方轻松运行它（例如[在 Ideone.com 上](http://ideone.com/gUK7K)）。你可以看到，输出**并不**漂亮。如果我`\n\n`从输入字符串中删除，一切都很好。而且文档通常不是来自字符串，而是来自文件，并且在我想要美化它之前会被大量修改。

这个变形金刚似乎是正确的方法，但我错过了一些东西。你能告诉我，我做错了什么吗？

SSCCE 输出：

```
-- input -------------------
<asdf>

<a>text</a></asdf>
----------------------------
-- output ------------------
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<asdf>

<a>text</a>
</asdf>
---------------------------- 
```

预期输出：

```
-- input -------------------
<asdf>

<a>text</a></asdf>
----------------------------
-- output ------------------
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<asdf>    
  <a>text</a>
</asdf>
---------------------------- 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T13:04:30.970

试试这个：

它需要`org.apache.xml.serialize.XMLSerializer`和`org.apache.xml.serialize.OutputFormat`；

```
OutputFormat format = new OutputFormat(document); //document is an instance of org.w3c.dom.Document
format.setLineWidth(65);
format.setIndenting(true);
format.setIndent(2);
Writer out = new StringWriter();
XMLSerializer serializer = new XMLSerializer(out, format);
serializer.serialize(document);

String formattedXML = out.toString(); 
```

# android - Android列表视图增值

> ID：12477399
> 
> 赞同：0
> 
> 时间：2012-09-18T12:50:40.470
> 
> 标签：android, android-layout, android-intent, android-emulator

在 Android 列表视图中，我们可以像在 Web 编程中那样为每一行设置一些值吗

```
<td id="123">Display</td> 
```

这如何在android中完成。我使用以下代码进行列表视图显示

```
ArrayList<String> filelist = new ArrayList<String>();
final ListView mainlist   = (ListView)findViewById(R.id.list);
....
....
for (int l=0;l<lines.length;l++)
{
     filelist.addAll( Arrays.asList(lines[l].toString())) ; 
}
ArrayAdapter adp = new ArrayAdapter(this, android.R.layout.simple_list_item_1, filelist);
mainlist.setAdapter(adp);
mainlist.setTextFilterEnabled(true); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:08:42.677

你可以试试这个：

**自定义适配器类：**

```
public class CustomAdapter extends ArrayAdapter<String>{

    Context mContext;
    String[] list;
    LayoutInflater mInflater;
    public static HashMap<Integer, Integer> hashkeys=new HashMap<Integer,Integer>();

    public CustomAdapter(Context context, int textViewResourceId,
            String[] objects) {
        super(context, textViewResourceId, objects);
        list=objects;
        mInflater = LayoutInflater.from(context);
        mContext=context;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
         final ViewHolder holder;

         if(convertView==null)
         {
              convertView = mInflater.inflate(R.layout.custom_item, null);
                 holder = new ViewHolder();

                 holder.tv=(TextView)convertView.findViewById(R.id.textview);                
                 convertView.setTag(holder);
         }
         else
         {   
            holder=(ViewHolder)convertView.getTag();
         }
         int value=0;
         switch(position){
             case 0:
                value=1;
                break;
             case 1:
                value=2; 
                break;
             case 3:
                value=3;
                break;                  
         }
         hashkeys.put(position,value);         

         return convertView;
    }
    static class ViewHolder
    {
            TextView tv;            
    }
} 
```

现在在你的活动中，

```
CustomAdapter adp = new CustomAdapter(this, R.layout.custom_item, filelist);
mainlist.setAdapter(adp);
mainlist.setTextFilterEnabled(true);

mainlist.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> arg0, View view, int position,
                        long id) {

            String unique_value=CustomAdapter.hashkeys.get(position);//get value on click of item

        }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:15:39.513

```
private void setList(int viewId, String[] title_list) {
    ListView listView = (ListView) findViewById(viewId);
    ArrayAdapter<String> titlesAdaptor = new ArrayAdapter<String>(
            getApplicationContext(), android.R.layout.simple_list_item_1,
            title_list);

    listView.setAdapter(titlesAdaptor);

    listView.setOnItemClickListener(new OnItemClickListener() {
        @Override
        public void onItemClick(AdapterView<?> arg0, View view,
                int position, long id) {
            listOnClicked(view, position, id);
        }
    });

}// end of setList

public void onItemClick(AdapterView<?> parent, View view, int position, long id)
{
    //handle click events here
} 
```

# javascript - 防止多选一个div

> ID：12477401
> 
> 赞同：0
> 
> 时间：2012-09-18T12:50:43.387
> 
> 标签：javascript, jquery

我的页面上有多个 div。我只想将选定的文本从 div1 复制到 div2。不应复制 div2、div3、div4 上的选择。如果按下 ctrl+A 或一次选择多个 div，则不应发生复制。

```
//Validation for including text only from specified div

$('#DocumentText').mouseup(function (e) {
    debugger;
    isSelected = true;
    flaginclude = 1;

    // e.stopPropagation();
});

$(document).mouseup(function (e) {
    debugger;

    if (flaginclude != 1) {
        e.stopImmediatePropagation();
        isSelected = false;
    }
    flaginclude = 0;
});

myfunction()
{
 if(isSelected)
 {
   //logic to append selected text on div2
 }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T12:56:36.897

没有可靠的方法来确保这一点。然而，在现代浏览器上使用`no-select`.

```
#div1, #div2 {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
} 
```

*[[资源]](https://stackoverflow.com/questions/826782/css-rule-to-disable-text-selection-highlighting)*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:10:51.133

您可以提供自己的键盘侦听器来尝试阻止复制/粘贴键盘快捷键，并阻止鼠标右键以阻止用户使用 hte 上下文菜单 - 但从 UE 的角度来看，这将是非常讨厌的。

我面前没有要检查的代码，但是 iirc 您可以改为在 Div2 上侦听“onchange”（或类似）事件，并且每次触发时检查内容（并检查它们是否与 Div1 中的内容匹配） . 使用隐藏元素作为历史缓冲区将允许您回滚任何不是来自 Div1 的内容（以及识别新内容）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T13:22:23.820

您可以在事件之后更改选择以仅限于特定元素。这是一个如何在特定元素中仅选择文本的示例：

[https://stackoverflow.com/a/5801903/96100](https://stackoverflow.com/a/5801903/96100)

[这是一个使用我的Rangy](http://code.google.com/p/rangy)库来限制选择的示例函数：

现场演示：http: [//jsfiddle.net/nm3FM/](http://jsfiddle.net/nm3FM/)

代码：

```
function limitSelectionToElement(el) {
    var selectedRange = null;
    var sel = rangy.getSelection();
    var elRange = rangy.createRange();
    elRange.selectNodeContents(el);
    if (sel.rangeCount) {
        selectedRange = sel.getRangeAt(0).intersection(elRange);
    }
    elRange.detach();
    sel.setSingleRange(selectedRange);
} 
```

# wpf - 根据数据网格中的值设置数据网格行颜色

> ID：12477402
> 
> 赞同：0
> 
> 时间：2012-09-18T12:50:46.000
> 
> 标签：wpf, wpf-controls, wpfdatagrid

Datagrid`dgColor`包含两个字段：

*   `columnA`显示名称如 a、b、c。
*   `columnB` 是一个隐藏字段，其中包含颜色代码值，例如`(#ffffff, #ff1211, #1111, #1222)`.

根据中的值填充数据网格行颜色`columnB`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T17:54:39.060

由于您已经获得了每行所需的颜色，因此您可以在 LoadingRow 事件中轻松设置每行的颜色。我无法测试我现在所在的代码，因此您可能需要对其进行一些调整，但您可以尝试以下操作：

```
private void dataGrid_LoadingRow(object sender, System.Windows.Controls.DataGridRowEventArgs e)
{
    MyObject myObject = e.Row.Item as MyObject;
    if (myObject != null)
    {
        byte r = byte.Parse(myObject.Color.Substring(1, 2), NumberStyles.HexNumber);
        byte g = byte.Parse(myObject.Color.Substring(3, 2), NumberStyles.HexNumber);
        byte b = byte.Parse(myObject.Color.Substring(5, 2), NumberStyles.HexNumber);

        e.Row.Background = new SolidColorBrush(Color.FromRgb(r,g,b));
    }

} 
```

**编辑：** 尝试编辑的代码。它应该完成这项工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:23:15.400

试试这个，但我没有用数据测试它

```
 <DataGrid Name="dataGrid1" Margin="12,12,0,0">
        <DataGrid.RowStyle>
            <Style TargetType="DataGridRow">
                <Setter Property="Background" Value="{Binding Path=colorCol}" />
            </Style>
        </DataGrid.RowStyle>
    </DataGrid> 
```

# inno-setup - 在 inno 设置中使用 wpInfoAfter 创建的向导页面未显示取消按钮

> ID：12477403
> 
> 赞同：3
> 
> 时间：2012-09-18T12:50:56.667
> 
> 标签：inno-setup

我在 inno 中创建了一个自定义向导页面，需要在将文件安装到 {app} 文件夹后显示该页面。这是通过提供 wpInfoAfter 来实现的。问题是，它只显示“下一步”按钮，没有取消/返回按钮，右上角的对话框关闭按钮也被禁用。我知道不需要后退按钮，因为它需要删除已安装的文件。无论如何可以显示“取消”按钮吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-19T08:29:47.333

该`Cancel`按钮在安装后阶段没有任何功能，因为 InnoSetup 不希望在安装过程完成后执行需要取消的进一步操作。因此，即使您针对该事实显示按钮，您也会得到一个没有任何操作的按钮。

就个人而言，我更愿意在安装开始之前收集设置数据库所需的信息，因为考虑到用户安装应用程序的情况并简单地取消安装后向导（很容易发生这种情况）。之前这样做，您将能够强制您的用户在他们实际访问应用程序本身之前填写您需要的内容。但是，如果您在安装后仍想这样做，这里有一个解决该丢失取消按钮的方法。

作为一种解决方法，您可以创建自己的自定义按钮，该按钮将位于具有相同功能的相同位置。这是一个示例脚本，模拟取消按钮并仅在安装过程后放置的自定义页面上显示它。这只是一种解决方法，因为您至少需要解决此问题：

*   启用向导窗体的关闭十字（安装阶段完成后禁用）
*   以某种方式处理`ESC`快捷键（它也会调用退出提示对话框，但我找不到解决此问题的方法）

```
[Setup]
AppName=My Program
AppVersion=1.5
DefaultDirName={pf}\My Program

[Code]
procedure ExitProcess(uExitCode: UINT);
  external 'ExitProcess@kernel32.dll stdcall';

var
  CustomPage: TWizardPage;
  CancelButton: TNewButton;

procedure OnCancelButtonClick(Sender: TObject);
begin
  // confirmation "Exit setup ?" message, if user accept, then... 
  if ExitSetupMsgBox then
  begin
    // stop and rollback actions you did from your after install
    // process and kill the setup process itself
    ExitProcess(0);
  end;  
end;

procedure InitializeWizard;
begin
  // create a custom page
  CustomPage := CreateCustomPage(wpInfoAfter, 'Caption', 'Description');
  // create a cancel button, set its parent, hide it, setup the bounds
  // and caption by the original and assign the click event
  CancelButton := TNewButton.Create(WizardForm);
  CancelButton.Parent := WizardForm;
  CancelButton.Visible := False;
  CancelButton.SetBounds(
    WizardForm.CancelButton.Left, 
    WizardForm.CancelButton.Top, 
    WizardForm.CancelButton.Width,
    WizardForm.CancelButton.Height
  );  
  CancelButton.Caption := SetupMessage(msgButtonCancel);  
  CancelButton.OnClick := @OnCancelButtonClick;
end;

procedure CurPageChanged(CurPageID: Integer);
begin
  // show your fake Cancel button only when you're on some of your after
  // install pages; if you have more pages use something like this
  // CancelButton.Visible := (CurPageID >= FirstPage.ID) and 
  //   (CurPageID <= LastPage.ID);
  // if you have just one page, use the following instead
  CancelButton.Visible := CurPageID = CustomPage.ID;
end; 
```

# visual-c++ - 如何使用日期字段访问注册表？

> ID：12477405
> 
> 赞同：1
> 
> 时间：2012-09-18T12:51:04.690
> 
> 标签：visual-c++

我是 MFC VC++ 的初学者。我正在开发一个试用版的项目。它应该在系统上运行 60 天的试用期。我必须使用系统注册表来创建具有安装日期的密钥。每次用户运行该软件时，我都必须将安装日期与当前日期相匹配，并显示该软件可以使用的剩余天数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T04:37:44.360

抱歉，但我不明白您为什么要将“Install_date”存储在新密钥中。它已经存储在注册表中。

> HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall{......}\

从这里你可以使用这些注册表............

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:03:27.983

您将需要使用 windows API 函数从注册表中读取/写入：

[http://msdn.microsoft.com/en-us/library/windows/desktop/ms724875(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724875(v=vs.85).aspx)

特别是您将需要[RegCreateKeyEx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724844%28v=vs.85%29.aspx)、[RegSetValueEx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724923%28v=vs.85%29.aspx)和[RegGetValue](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724868%28v=vs.85%29.aspx)

话虽如此。我会认真考虑使用第三方的、久经考验的许可解决方案，而不是自己动手。如果您只是编写注册表项并在其中设置日期，那么破解您的软件将非常容易。所有需要做的就是监视注册表以找到正在写入的值，然后更改它们。您还需要考虑有人倒计时以获得更多时间。一个快速的谷歌搜索产生了几个选项。我没有可以推荐的，只是想建议您考虑一下。

# javascript - 强制 IE8 缓存行为的脚本

> ID：12477414
> 
> 赞同：1
> 
> 时间：2012-09-18T12:51:33.813
> 
> 标签：javascript, caching, internet-explorer-8, ie-developer-tools

在 IE8 中，缓存开发工具中有一个选项，称为“始终从服务器刷新”。是否有可能有一些 javascript 或类似的东西来强制这种行为，或者我必须总是手动执行？

我试过了

```
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
```

但是我的应用程序中的刷新问题似乎只能通过在缓存选项面板上选中“始终从服务器刷新”来解决。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:16:38.893

如果你使用 jQuery，你可以这样做：

> $.ajaxSetup({ 缓存: false });

在使用 jquery + ajax 时，它为我解决了许多 IE8 缓存问题。

否则，您可以通过将唯一编号附加到 .js uri 的末尾来使用“缓存破坏器”。像这样：

> [http://mysite.com/myscript.js?=_11232131231323](http://mysite.com/myscript.js?=_11232131231323)

当然，唯一的 # 可以是在每个页面请求上唯一的 DateTime()。

# magento - Magento 1.7：使用过滤器过滤产品并更改 URL？

> ID：12477421
> 
> 赞同：0
> 
> 时间：2012-09-18T12:51:57.583
> 
> 标签：magento, filter

查看[zalando 商店](http://www.zalando.de/)，您可以点击产品类别和颜色。结果是这样的 URL：例如[http://www.zalando.de/sports-damen-shirts-funktion/_schwarz.pink.lila/](http://www.zalando.de/sports-damen-shirts-funktion/_schwarz.pink.lila/)。

因此，查看 URL 可以清楚地看到点击了哪些内容，颜色为淡紫色、粉红色和 schwarz 的女士运动衫（颜色为德语）。这是 Magento 企业版的一个功能，还是社区版也支持这个功能？我真的不知道要搜索什么，因为我缺少此功能的名称。

谁能告诉我如何调用该功能，以及它是否由店主实现，或者它是否是内置功能？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:25:29.957

他们正在使用一些自定义模块进行分层导航。因为在原生 Magento 过滤链接中包含成对的`attribute_code = attribute_value`.
您可以在 Google 中查看有关[Magento SEO 分层导航](https://www.google.com.ua/search?aq=f&sugexp=chrome,mod=4&sourceid=chrome&ie=UTF-8&q=magento%20seo%20layered%20navigation)的更多信息。

# c# - 如何使用返回的 linq 变量？

> ID：12477422
> 
> 赞同：7
> 
> 时间：2012-09-18T12:51:57.277
> 
> 标签：c#, .net, linq

我决定快速浏览一下 LINQ 方面的内容，而不是仅仅使用直接的 foreach 循环，但是我在让它工作时遇到了一些麻烦，主要是由于我相信的数据类型。

所以到目前为止，我已经得到了这个；

```
var selectedSiteType = from sites in siteTypeList
                                   where sites.SiteTypeID == temp
                                   select sites; 
```

siteTypeList 是 SiteType 的列表。我正在尝试找到一个特定的（我已经用变量“temp”谴责了它。

然后我如何使用这个选定的站点类型作为站点类型？当我尝试将“selectedSiteType”传递给另一个函数时，就像这样；

```
mSiteTypeSub.EditSitetype(selectedSiteType); 
```

注意：我尝试提供索引，好像 selectedSiteType 是一个列表/数组，但这也不起作用，我收到以下错误：

```
Argument 1: cannot convert from 
'System.Collections.Generic.IEnumerable<DeviceManager_take_2.SiteType>' to 
'DeviceManager_take_2.SiteType' 
```

我错过了什么吗？也许是某种类型的演员？就像我说的那样，我对此很陌生，并且正在努力解决这个问题。很有可能我把整个概念都弄错了，而且 bingbangbosh 我自欺欺人了！

提前喝彩。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-18T12:53:52.157

使用[First](http://msdn.microsoft.com/en-us/library/bb348657.aspx) / [FirstOrDefault](http://msdn.microsoft.com/en-us/library/bb340482.aspx) / [Single](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.single.aspx) / [SingleOrDefault](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.singleordefault.aspx)从集合中获取特定类型的项目。

```
 var value = selectedSiteType.First(); 
   // returns the first item of the collection

   var value = selectedSiteType.FirstOrDefault(); 
   // returns the first item of the collection or null if none exists

   var value = selectedSiteType.Single(); 
   // returns the only one item of the collection, exception is thrown if more then one exists

   var value = selectedSiteType.SingleOrDefault(); 
   // returns the only item from the collection or null, if none exists. If the collection contains more than one item, an exception is thrown. 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-18T12:53:08.070

如果您的返回类型是单一的：

```
 var selectedSiteType = (from sites in siteTypeList
                                       where sites.SiteTypeID == temp
                                       select sites).SingleOrDefault(); 
```

如果是一个列表（可能不止一项）：

```
 var selectedSiteType = (from sites in siteTypeList
                                       where sites.SiteTypeID == temp
                                       select sites).ToList(); 
```

这是您的查询中缺少的 SingleOrDefault / ToList 。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-18T13:12:41.223

谢恩，

我不会改进以前的答案。他们都是正确的。我将尝试向您解释一下，以便您将来更好地理解它。

当您编写如下代码时会发生什么：

```
var selectedSiteType = from sites in siteTypeList
                               where sites.SiteTypeID == temp
                               select sites; 
```

您没有将答案放入 var (selectedSiteType)，而是创建一个表达式树，仅在您实际使用它时（在 foreach 中或通过调用其中一种方法（如 .First() 、.ToList()、SingleOrDefault() 等）。

from 语句的默认返回类型是 IEnumerable<>，但如果您调用 .First() 或 .SingleOrDefault() （等），您将深入了解该 IEnumerable<> 并获取特定项目。

我希望这可以帮助您更好地了解正在发生的事情。

让我知道我是否可以添加任何内容，或者我是否有任何问题。

干杯，

最大限度

# qt - 如何在 QML 中定义带有子占位符的“模板”？

> ID：12477425
> 
> 赞同：30
> 
> 时间：2012-09-18T12:52:06.133
> 
> 标签：qt, qml, qt-quick

我真的很喜欢 QML。我喜欢如何定义组件（类似于类）及其属性，并从其他地方实例化它们（类似于对象）。

我可以定义，比如说，一个按钮，有一些外观和感觉，以及一个标签文本。例如，可以使用此组件定义 ( `Button.qml`) 来完成此操作：

```
Item {
    id: button
    property string label

    anchors.fill: parent

    Rectangle {
        anchors.fill: parent
        radius: 10
        color: "gray"

        Text {
            anchors.centerIn: parent
            font.pixelSize: 20
            text: button.label
            color: "white"
        }
    }
} 
```

并在此主文件 ( ) 中实例化`main.qml`：

```
Rectangle {
    width: 300
    height: 200

    Button {
        anchors.centerIn: parent
        anchors.margins: 50
        label: "Hello button!"
    }
} 
```

但是我看到了以下限制：我只能定义一个*带有一些属性*的按钮模板，而不是一些*占位符*。实例中定义的所有孩子都将是直接孩子，至少在默认情况下，我想改变这种行为。

假设我想在按钮中放置一个项目（假设是一个图像，但我不想告诉`Button`它将是一个图像的定义）。我想象这样的事情：

```
Item {
    id: button
    property Item contents   <-- the client can set the placeholder content here

    anchors.fill: parent

    Rectangle {
        anchors.fill: parent
        radius: 10
        color: "gray"

        Item {
            id: placeholder     <-- where the placeholder should be inserted
        }
    }

    Component.onCompleted: {
        // move the contents into the placeholder...
    }
} 
```

我怎样才能做到这一点？我不知道使用`Component.onCompleted`是否正确。但是请注意，在我的情况下，内容之后永远不会改变（至少在我当前的应用程序设计中......）。

另外，我希望锚定在占位符内工作。例如，如果我将内容定义为 Text 元素，以它的父元素为中心（首先是模板本身）。然后我的代码将此 Text 实例移动到占位符中，然后父锚点应该是占位符项的那些，而不是模板项。

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-10-07T20:43:51.693

[我在 Qt Developer Days 2011 "Qt Quick Best Practices and Design Patterns"](https://www.youtube.com/watch?v=HN9mwHWH9DU&feature=youtu.be&t=31m17s)的演示文稿中找到了这个问题的更好答案。

它们用于`default property alias ...`将子项*别名*为任何项的任何属性。如果您不想给*孩子*起别名但给 alias 属性命名，只需删除`default`. （文字子项是每个 QML 定义的默认属性的值。）

```
Item {
    id: button
    default property alias contents: placeholder.children

    anchors.fill: parent

    Rectangle {
        anchors.fill: parent
        radius: 10
        color: "gray"

        Item {
            id: placeholder     <-- where the placeholder should be inserted
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2016-01-06T15:59:22.540

死灵回答，以防其他人像我一样在这里结束。

在 Qt5 中的某个地方，默认属性变成了“[数据](http://doc.qt.io/qt-5/qml-qtquick-item.html#data-prop)”而不是“孩子”。这使得添加“项目”以外的其他对象类型成为可能。例如，也可以添加连接（回答我自己的问题）

所以在Qt5中你应该这样做：

```
Item {
    id: button
    default property alias contents: placeholder.data

    anchors.fill: parent

    Rectangle {
        anchors.fill: parent
        radius: 10
        color: "gray"

        Item {
            id: placeholder     <-- where the placeholder should be inserted
        }
    }
} 
```

请注意： `placeholder.data`而不是`placeholder.children` 另请注意，您不必使用别名`contents`- 这可以是您喜欢的任何名称。一个例子：

```
Item {
    id: button
    default property alias foo: placeholder.data
    ...

} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-18T13:32:50.237

实际上，我所听到的正确答案是使用[QML Loader](http://doc.qt.io/qt-5/qml-qtquick-loader.html)来完成您想要的。

[话虽如此; 我还没有真正尝试过，但它在我的近期尝试清单上，看起来相当简单]

此外，在 stackoverflow 中搜索其他[“QML Loader”](https://stackoverflow.com/search?q=QML+Loader)问题，因为有一个数字可以帮助您入门。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-07T20:10:35.767

简而言之（展示这个想法）：

```
import QtQuick 1.1

Item {
    width: 200
    height: 100

    //<-- the client can set the placeholder content here
    property Item contents: Rectangle {
        anchors.fill: parent
        anchors.margins: 25
        color: "red"
    }

    Rectangle {
        id: container

        anchors.fill: parent
        radius: 10
        color: "gray"

        //<-- where the placeholder should be inserted
    }

    Component.onCompleted: {
        contents.parent = container
    }
} 
```

稍长的版本（支持内容重新分配）：

```
import QtQuick 1.1

Item {
    width: 200
    height: 100

    //<-- the client can set the placeholder content here
    property Item contents: Rectangle {
        //anchors can be "presupplied", or set within the insertion code
        //anchors.fill: parent
        //anchors.margins: 25
        color: "red"
    }

    Rectangle {
        id: container

        anchors.fill: parent
        radius: 10
        color: "gray"

        //<-- where the placeholder should be inserted
        //Item {
        //    id: placeholder
        //}
    }

    //"__" means private by QML convention
    function __insertContents() {
        // move the contents into the placeholder...
        contents.parent = container
        contents.anchors.fill = container
        contents.anchors.margins = 25
    }

    onContentsChanged: {
        if (contents !== null)
            __insertContents()
    }

    Component.onCompleted: {
        __insertContents()
    }
} 
```

希望这可以帮助 ：）

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-18T13:33:24.540

您可以使用以下代码移动项目（如果您想在占位符中支持多个项目）：

```
property list<Item> contents

Component.onCompleted: {
    var contentItems = [];
    for(var i = 0; i < contents.length; ++i)
        contentItems.push(contents[i]);
    placeholder.children = contentItems;
} 
```

请注意，您不必为内容属性提供项目列表，因为 QML 引擎也将接受单个值用于列表属性。

# css - datepicker beforeShowDay vs. selected

> ID：12477426
> 
> 赞同：2
> 
> 时间：2012-09-18T12:52:16.763
> 
> 标签：css, jquery-ui, datepicker

我有一个使用 beforeShowDay 有一个特殊亮点的日期选择器。但是，突出显示样式会阻止选定的（“ui-btn-active”）样式，该样式会在单击单元格时自动应用。将所选样式放在首位的最佳方法是什么？

```
<div id="datepicker"></div>

.Highlighted a{
background: none !important;
background-color: #990066 !important;
}

        $('#datepicker').datepicker({
            beforeShowDay: function (date) {
                return [true, SelectedDates[date] ? 'Highlighted' : ''];
            }
        }); 
```

添加这个没有效果：

```
.Highlighted ui-btn-active a{
background: none !important;
background-color: white !important;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:05:31.680

在您的 beforeShowDay 代码中，将 ui-btn-active 类添加到选定的元素中，然后将它们添加到 Highlighted 类。

记住元素可以有多个类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-19T11:06:03.213

```
 beforeShowDay: function (date) {
                var selected = $("#datepicker").datepicker('getDate');
                if (date.getDate() != selected.getDate()) return [true, SelectedDates[date] ? 'Highlighted' : ''];
                else return [true, '']
            } 
```

# android - Android：如何从命令提示符运行 monkeyrunner 脚本

> ID：12477427
> 
> 赞同：2
> 
> 时间：2012-09-18T12:52:15.760
> 
> 标签：android, monkeyrunner

如何从命令提示符运行脚本我试图按照以下语法打开文件，但出现错误。

命令：

```
android-sdk\tools>monkeyrunner test.py 
```

错误：

```
Can't open specified script file Usage: monkeyrunner [options] SCRIPT_FILE -s MonkeyServer IP Address. -p MonkeyServer TCP Port. -v MonkeyServer Logging level (ALL, FINEST, FINER, FINE, CONFIG, INFO, WARNING, SEVERE, OFF) – 
```

谁能告诉我，我将如何运行一个 monkeyrunner 脚本？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T13:05:00.853

查看错误消息，它找不到“test.py” - 它是否在您运行 monkeyrunner 的文件夹中，该文件夹是否在路径上，您是否设置了读取权限？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T18:17:37.513

MonkeyRunner 查找自身本地的脚本

尝试：

> 猴子跑者测试.py

# php - $_SERVER['PHP_SELF'] 错误链接，双链接

> ID：12477430
> 
> 赞同：1
> 
> 时间：2012-09-18T12:52:23.683
> 
> 标签：php, self

`$_SERVER['PHP_SELF']`提供了错误的链接，因此某些脚本无法正常工作

例如，我将以下代码放入文件中`test.php`：

```
<?
echo $_SERVER[PHP_SELF];
echo "<br>" ;
echo $_SERVER['PHP_SELF'];
?> 
```

在根文件夹中，例如`www.site.ru/test.php`，我看到：

```
/test.php/test.php
/test.php/test.php 
```

必须只是/test.php ...为什么会发生这种情况？

php版本：

```
php.i686 0:5.3.16-9
php-cli.i686 0:5.3.16-9 
php-common.i686 0:5.3.16-9
php-devel.i686 0:5.3.16-9
php-fpm.i686 0:5.3.16-9
php-pdo.i686 0:5.3.16-9
php-sqlite.i686 0:5.3.16-9
php-xml.i686 0:5.3.16-9
php-mysql.i686 0:5.3.16-9
php-mcrypt.i686 0:5.3.16-9
php-mbstring.i686 0:5.3.16-9
php-intl.i686 0:5.3.16-9
php-gd.i686 0:5.3.16-9 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-01-13T09:43:45.317

**cgi.fix-pathinfo**

我也有同样的问题，经过大量搜索找到解决我的问题的方法，你也确定了

我使用 nginx/1.10.2 和 PHP 5.6.29 和 PHP-FPM

`var_dump($_SERVER["PHP_SELF"]); = 'string(32)"/test/index3.php/test/index3.php"'`

要修复，编辑 php.ini cgi.fix_pathinfo 确保其等于 0

cgi.fix_pathinfo 为 CGI 提供*真正的*PATH_INFO/PATH_TRANSLATED 支持。PHP 以前的行为是将 PATH_TRANSLATED 设置为 SCRIPT_FILENAME，并且不了解 PATH_INFO 是什么。有关 PATH_INFO 的更多信息，请参阅 cgi 规范。将此设置为 1 将导致 PHP CGI 修复其路径以符合规范。设置为零会导致 PHP 像以前一样运行。默认值为 1。您应该修复脚本以使用 SCRIPT_FILENAME 而不是 PATH_TRANSLATED。 [http://php.net/cgi.fix-pathinfo](http://php.net/cgi.fix-pathinfo)

`cgi.fix_pathinfo=0`

解决问题后

应该重启 nginx 和 php-fpm

`var_dump($_SERVER["PHP_SELF"]); = 'string(16) "/test/index3.php"'`

# linux - 在 ubuntu 上，窗口出现在屏幕外

> ID：12477435
> 
> 赞同：275
> 
> 时间：2012-09-18T12:52:35.477
> 
> 标签：linux, ubuntu, ubuntu-12.04, multiple-monitors

我有一个双显示器设置，我使用的是 Ubuntu 12.04 LTS 我已经多次更改显示器的位置，现在由于某种原因，一些窗口在屏幕外（两个屏幕之外）打开，更新管理器，用于实例。如何将窗口定位在我的一个屏幕上？

* * *

## 回答 #1

> 赞同：524
> 
> 时间：2012-11-09T07:33:50.377

您可以使用以下方法将窗口重新显示在屏幕上

**`ALT + spacebar`**

这将向您显示最大化/最小化/ ...选项。单击最大化，它将占据您的屏幕。

您也可以点击“移动”，然后点击鼠标或箭头键将窗口移动到当前窗口。

* * *

## 回答 #2

> 赞同：174
> 
> 时间：2014-02-18T18:17:09.943

确保选择了屏幕外窗口（例如使用 Alt-Tab 或 Super-W）。然后**按住 Alt+F7 并使用光标键移动窗口，**直到它出现在视口中。

当这种情况发生在我身上时，隐藏的窗口通常位于屏幕下方（我偶尔会使用两个屏幕，一个在另一个之上，这种设置与桌上的笔记本电脑非常吻合）。如果您使用 Super-W 选择窗口，您可以通过查看动画来猜测它在哪里。按住 Alt+F7+Up 可以让我看到窗口。

干杯。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2015-05-25T19:43:39.100

我做了一个小脚本来修复我在 ubuntu 15.04 中的一个类似错误，有两个屏幕：[https ://github.com/mezga0153/offscreen-window-restore](https://github.com/mezga0153/offscreen-window-restore)

该脚本使用 wmctrl 命令行工具来查找屏幕外窗口，然后使用 wmctrl 将每个窗口放回可见区域。

# python - sqlalchemy/sql：跨模型关系，从“表亲”模型中获取信息

> ID：12477437
> 
> 赞同：1
> 
> 时间：2012-09-18T12:52:36.837
> 
> 标签：python, sql, orm, sqlalchemy, datamodel

我的数据模型中有一些我需要的东西，但我不确定我需要做什么。我需要一些输入来帮助我思考这个问题。

首先是一般情况。我有四个模型 A、B、C、D。A 与其余模型之间存在一对多关系（A 可以有任意数量的 B、C、D）。B、C、D 每一个后继都有一个一对多（B 可以有任意数量的 C，等等）。这允许构建各种层次结构，例如，A 实例可以有任意数量的 B，每个 B 和任意数量的 C，每个 C 和任意数量的 D，或者 A 实例可以只由任意数量的 D 元素构成，而没有中间的 B 或 C。

使用具体术语，我有可以包含部分、字段和元素的调查。调查可能由具有自己的字段的部分构成，每个字段具有许多元素，或者只是具有一堆元素的调查或具有元素字段的调查。

所以，我的主要问题是当有任意数量的干预 B 或 C 时如何为 A 列出 D。如何通过干预模型访问？即使关系不是直接的，我也需要获取 D 元素。默认情况下，A.Bs.Cs.Ds 在 sqlalchemy 中不是一个有效的东西（我可以确定），所以我需要设置“某事”来做到这一点，但我现在不知道这个“某事”是什么.

编辑：

我可以做一个列表理解

```
[x.Ds for x in A.Cs] 
```

这是一个开始，但要视情况而定。无论中间关系如何，我都想将其设置为在 A 上返回 Ds。

我在每个模型中都建立了一个方法，我可以在需要时将 D 元素传递给 A，所以我现在已经解决了它，但不是最佳解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T12:28:46.070

不是通过 python 关联获取 Ds 对象，而是要求 SQLAlchemy 在数据库中查询这些对象。

如果您在 D 模型中有 3 个外键（到 C、B 和 A）——这就是我从你的帖子中推断出来的——那么你可以使用连接获得与 A 相关的 D 对象：

**包含部分、字段和元素的调查的 Ds**：

```
ds1 = session.query(D).join(C, D.c_id == C.id).join(B, C.b_id == B.id).join(A, B.a_id == A.id).filter(A.id = some_a_id).all() 
```

**带有字段和元素的调查的 Ds**：

```
ds2 = session.query(D).join(C, D.c_id == C.id).join(A, C.a_id == A.id).filter(A.id = some_a_id).all() 
```

**仅包含元素的调查的 Ds**：

```
ds3 = session.query(D).join(A).filter(A.id = some_a_id).all() 
```

在这些查询中`a_id`，`b_id`和`c_id`是将模型链接在一起的外键的名称。并且`some_a_id`只是您感兴趣的调查的 id。

如果您想知道A 的*所有*D 与是否有中间模型无关，您可以将三个列表附加在一起：

**所有 D**

```
ds = ds1 + ds2 + ds3 
```

# javascript - jQuery UI 可调整大小被分离

> ID：12477440
> 
> 赞同：0
> 
> 时间：2012-09-18T12:52:57.460
> 
> 标签：javascript, jquery, jquery-ui

流动：

1.  我的代码在按钮单击时添加了一个具有可调整大小和可排序功能的 div。
2.  我在文本字段中输入文本，然后在单击时将该文本添加到该特定 div。

面临的问题：

*   一切顺利，但在插入文本后无法调整大小。我不知道为什么。我也得到了解决方案，就像在附加文本之前我正在破坏该特定 div 的可调整大小功能并在附加结束后附加，我认为这不是正确的解决方案。谁能说出为什么会这样。

# php - 具有 N:M 关系的重复表（包括关系）

> ID：12477444
> 
> 赞同：4
> 
> 时间：2012-09-18T12:53:12.300
> 
> 标签：php, mysql, database, duplication, database-relations

在现有的 web 应用程序（PHP/MySQL）上工作，我来到了这一点：我有 2 个存储名称和类型 id 的表。它们之间的关系是 N<---->NI 之间还有另一个表。（见图）

![表名和列已被简化，但差不多就是这样](../Images/b8dc0bf60c47dd25d9771662088eb38c.png)

我有一个名为“类别”的最后一张桌子，没有图片。我要做的是：将具有 id_category=1 的合同和客户复制到具有相同值、具有 id_category=3 的合同和客户。以及**复制他们之间的关系**。

到目前为止，我已经成功地复制了所有合同和客户，使用：

```
INSERT INTO contract (t_name, id_category) SELECT t_name,'3' WHERE id_category=2
INSERT INTO customer (t_name, id_category) SELECT t_name,'3' WHERE id_category=2 
```

（“id”字段自动递增，一切正常）。

但是关于复制关系，我不知道**如何**解决这个问题。

**附加信息：**

*   使用临时表很好，但我不能修改表的现有结构。
*   合同可能有 0 到 N 个客户。客户可能有 0 到 N 个合同。
*   我可以使用严格的 MySQL 或 PHP。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:35:12.013

你说你不能改变表结构。如果可以的话，我可能会建议根据您在做什么，不要对这些表进行非规范化（行的重复）。

我也有点困惑，因为你说你必须复制行和关系`id_category = 1`to `id_category = 3`，但是你的示例查询有`id_category = 2`.

不过，无论如何，这个答案都应该适用。我会使用 PHP 和 PDO。

```
$pdo = new PDO('mysql:host=?', $user, $passwd);
$stmtCustomers = $pdo->prepare("INSERT INTO customer (t_name, id_category)
   VALUES (t_name, ?) WHERE id_category = ?");
$stmtContracts = $pdo->prepare("INSERT INTO contract (t_name, id_category)
   VALUES (t_name, ?) WHERE id_category = ?");
$stmtRelation = $pdo->prepare("INSERT INTO customer_has_contract VALUES (?, ?)");

//Perform in a loop if needed
$pdo->beginTransaction();
$stmtCustomers->execute($target_cat_id, $origin_cat_id);
$cus_id = $pdo->lastInsertId();
$stmtContracts->execute($target_cat_id, $origin_cat_id);
$con_id = $pdo->lastInsertId();
$stmtRelation->execute($con_id, $cus_id);
$pdo->commit(); 
```

# ruby-on-rails - Rails 通过 cookie 防止双重投票？

> ID：12477447
> 
> 赞同：0
> 
> 时间：2012-09-18T12:53:19.600
> 
> 标签：ruby-on-rails, ruby-on-rails-3, devise

这里是相对较新的 Rails 程序员，所以请多多包涵。

我有一个应用程序，注册用户可以在其中创建投票，但任何人都可以回答投票。

我正在使用设计进行身份验证。我希望未经身份验证的用户能够回答投票，但我想防止双重投票。

我认为这应该使用持久（非会话）cookie 来完成，但我不确定。因此，当用户进入网站时，我在设计中创建了一个用户，并在用户模型和 cookie 中存储了一些随机值，并且我检查用户在尝试加载我之前是否没有回答过这个问题“回答”页面？

有人可以就这是否是正确的方法给我一些建议和/或将我指向一个资源来帮助我开始吗？

我发现关于如何在 Rails 中管理持久 cookie 的信息相对较少。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T15:06:16.637

您无法可靠地阻止人们在不登录的情况下多次投票。这是不可能的。我想人们也可以创建多个用户帐户来投票，所以没有万无一失的方法。某些流行的清洁工通常会自动清除 Cookie，除非您只允许人们对他们购买的产品进行投票，否则我认为您正在打一场失败的战斗。

堆栈溢出通过确保在被允许投票之前已达到一定水平来限制投票能力，但我想这并不真正适用于您的场景。

这与会话和 cookie 无关，更多的是关于设置数据库以记录投票，包括选民 ID。

在允许用户投票的视图中，我建议您根据当前登录的用户是否投票，在投票图标和现在投票链接之间切换。

要确定用户是否已投票，请在 question_vote 外部参照表中包含当前登录用户的用户 ID。

对于防止在浏览器中滥用 html 的安全带和大括号方法，请将检查添加到 question_vote 记录的验证中。

我会通过添加一个 can_vote 来做到这一点？接受问题 id 作为参数的用户模型的方法，然后您可以使用 question_id 加上用户 id 在 question_vote 表中查找匹配记录 如果找到 reordx 返回 false 否则返回 true

# amazon-ec2 - 重启后无法访问 Amazon EC2 实例

> ID：12477448
> 
> 赞同：1
> 
> 时间：2012-09-18T12:53:24.593
> 
> 标签：amazon-ec2

我重新启动了我的 EC2 实例，但现在我无法 ping 它、ssh 或在浏览器上打开它。但是，在我的管理控制台中，我可以看到该实例已启动并且没有问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-24T20:18:03.247

Amazon 实例有时会在重启之间更改名称，仔细检查您正在使用的公共 dns 名称，很可能它已更改。

如果它没有改变（仔细检查，如果可能的话复制粘贴）然后仔细检查防火墙设置，我已经看到重新启动后防火墙设置被弄乱的情况（非常罕见） - 只需添加到防火墙配置就可以了诡计。

# asp.net - 无法使用 id 在页面之间传递值

> ID：12477455
> 
> 赞同：0
> 
> 时间：2012-09-18T12:53:58.727
> 
> 标签：asp.net

我有图像，我使用 href 导航到下一页：-

```
<a class="ajaxcolorbox" href="User.aspx" id="abc">
<a class="ajaxcolorbox" href="User.aspx" id="xyz"> 
```

现在我想传递一些值，以便我可以根据用户单击的图像显示一些信息。

```
 var id = Request.QueryString["id"];

    if (id == Request.QueryString["abc"])
    {
        Label1.Text = "abc";
    }

    if (id == Request.QueryString["xyz"])
    {
        Label1.Text = "xyz";
    } 
```

但没有得到预期的结果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T12:55:43.213

在查询字符串上传递那些

```
<a class="ajaxcolorbox" href="User.aspx?id=abc" id="abc">
<a class="ajaxcolorbox" href="User.aspx?id=xyz" id="xyz"> 
```

你的 if 条件对我来说似乎有点不对劲。做这个

```
var id = Request.QueryString["id"];
if (id == "abc")
{
    Label1.Text = "abc";
}
else if (id == "xyz")
{
    Label1.Text = "xyz";
} 
```

或者，如果您只是显示查询字符串中的任何内容，您可以这样做

```
var id = Request.QueryString["id"];
Label1.Text =id; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T12:56:36.960

您的`href`属性需要包含查询字符串，例如：

```
<a class="ajaxcolorbox" href="User.aspx?abc=something" id="abc">text</a> 
```

# sql - 程序解释计划是否有替代方案？

> ID：12477456
> 
> 赞同：1
> 
> 时间：2012-09-18T12:54:07.617
> 
> 标签：sql, oracle10g, toad, database-administration

如果我没记错的话，在 Toad 和 Oracle 10g 中不可能有过程解释计划。如果这是真的，我是否可以看到我的手术费用？当我对 ProcedureX 调用的函数之一进行小改动时，ProcedureX 的执行时间会急剧增加。我尝试运行存在于 ProcedureX 中的每个查询，但由于通过它们传递的调用和参数数量巨大，这几乎是不可能的。

你有什么主意吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T20:27:30.507

DBMS_PROFILER 可能是您正在寻找的。

**DBMS_PROFILER 包提供了一个接口来分析现有的 PL/SQL 应用程序并识别性能瓶颈。然后，您可以收集并永久存储 PL/SQL 分析器数据。**

它生成的最终 HTML 报告在对不同的函数调用进行分组时非常有用，因此您可以看到您的过程大部分时间都花在了哪里（前提是您使用足够的数据运行它）。

看看这个链接，看看它是否有帮助。

[http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_profil.htm](http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_profil.htm)

# matplotlib - 如何绘制包含多个条形图的条形图？

> ID：12477465
> 
> 赞同：0
> 
> 时间：2012-09-18T12:54:28.897
> 
> 标签：matplotlib

我想以这样的方式绘制我的数据，将条形分组？像这样：

![例子](../Images/06b36a70abaac9f96cd967c2441f5e54.png)

到目前为止，我的代码如下所示：

```
data = NP.genfromtxt('newfile',unpack=True,names=True,dtype=None)
for i in sample:
 mask = data['name'==sample]
 ax2.bar(pos-0.5,(data['data']*100,label="samples", color="lightblue") 
```

不过，这创建了几个图表，而不是一个组合图表。我如何将其转换为看起来像我上面介绍的图形？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T15:58:16.200

在没有列出所有代码的情况下，我不得不对数据和你想要的东西做出一些假设。因此，我没有用实际数据测试过这段代码。我试图在下面的代码中仔细记录我的假设。如果您对我发布的内容有疑问，也许您可​​以发布代码第一行中提到的文本文件。

```
# Assume data is a record array
data = NP.genfromtxt('newfile',unpack=True,names=True,dtype=None)

# Assume 'sample' is a column in the data
sample = NP.unique(data['name'])
num_items = len(sample)
ind = NP.arange(sample)

# The margin can be increased to add more space between the groups of data
margin = 0.05
width = (1.-2.*margin)/num_items

# This list will make each sample data set a different color
# It must be AT LEAST as long as the number of samples
# If not, the extra data won't be plotted
colorList = ['red', 'blue', 'black']
if len(colorList) < num_items:
    print 'Warning: the number of samples exceeds the length of the color list.'

f = plt.figure()

# Assumed the color was supposed to vary with each data set, so I added a list
for s, color in zip(enumerate(sample), colorList):
    num, i = s
    print "plotting: ", i
    # Assumed you want to plot a separate set of bars for each sample, so I changed the mask to 'name'==i
    mask = data['name'==i]
    # The position of the xdata must be calculated for each of the sample data series
    xdata = ind+margin+(num*width)
    # Assumed you wanted to plot the 'data' column where mask is true and then multiply by 100
    # Also assumed the label and color were supposed to vary with each data set
    plt.bar(xdata, data['data'][mask]*100, width, label=i, color=color) 
```

# android - Roboguice 创建自己的 Application 类实例

> ID：12477471
> 
> 赞同：3
> 
> 时间：2012-09-18T12:54:59.363
> 
> 标签：android, roboguice

我在我的项目中使用 Roboguice 进行 DI。根据 android 文档，只能存在一个应用程序实例。但是由 OS 和 Roboguice 创建的实例是不同的。

如何强制 Roboguice 注入操作系统创建的应用程序并禁用新实例的创建？

一些说明以下情况的代码

```
public class MyApplication extends Application {

    public static MyApplication getInstance() {
        if (instance == null) {
            throw new IllegalStateException("Application isn't initialized yet!");
        }
        return instance;
    }

    @Override
    public void onCreate() {
        super.onCreate();
        instance = this;
    }
}

public class MyActivity extends RoboActivity {

    // roboApp and osApp two different objects but expected that roboApp the same as osApp        

    @Inject
    private MyApplication roboApp;

    private MyApplication osApp = MyApplication.getInstance();

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-02T21:42:21.047

RoboGuice 不会调用`MyApplication.getInstance()`，而是会调用`new MyApplication()`

您可以编写一个调用`MyApplication.getInstance()`来代替的 Provider。这看起来像：

```
 public MyAppProvider implements Provider<MyApplication> {
     @Override
     public MyApplication get() {
         return MyApplication.getInstance();
     }
 } 
```

然后，您可以将其绑定到您的模块中，例如：`bind(MyApplication.class).toProvider(MyAppProvider.class);`

# php - 使用 php 在 angularjs 中编辑

> ID：12477472
> 
> 赞同：2
> 
> 时间：2012-09-18T12:55:00.517
> 
> 标签：php, angularjs

我希望在文本框中获取要编辑的值，即第一个文本框将为空，然后当用户单击编辑链接时，应在文本框中填写值。用户可以更改值，单击保存按钮，新值将被更新。以下是代码：

html代码：保存

控制器：

```
$scope.fetch = function(id) {
            var elem = angular.element($element);
            var dt = $(elem).serialize();
            dt = dt+"&id="+id;
            dt = dt+"&action=fetch";
            alert(dt);
            console.log($(elem).serialize());
            $http({
                method: 'POST',
                url: 'php/products.php',
                data: dt,
                headers: {'Content-Type': 'application/x-www-form-urlencoded'}
            }).success(function(data, status) {
                //~ $scope.status = status;
                //~ $scope.data = data;
                $scope.rs = data;
                console.log($scope.rs); // Show result from server in our <pre></pre> element
            }).error(function(data, status) {
                $scope.data = data || "Request failed";
                $scope.status = status;
            });
        }; 
```

产品.php：

```
if($action == 'fetch') {
$query = '
SELECT 
    * 
FROM 
    product
WHERE 
    `product_id` ="' . $_POST['id'] . '"
';
$result = mysql_query($query) OR die(mysql_error()); 
$data = array();
$row = mysql_fetch_assoc($result); 
echo json_encode($row);
//print_r($row); 
```

}

此代码不起作用-当用户单击任何用户的编辑链接时，文本框将填充值对象对象。如果 ti 打印该值，则它会被打印，但是当我尝试将其分配给文本框时，它会被 Object 对象填充。我哪里错了？我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T17:29:29.740

如果您使用 Angular，请不要再使用 jQuery 来获取/设置字段。

```
<input type="text" ng-model="field1"> 
```

控制器：

```
//set
$scope.field1 = obj.field1;

//get
var f1 = $scope.field1; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-09T11:32:31.530

`angular.fromJson`收到回复时忘记使用该功能

```
.success(function(json, status) {
                data=angular.fromJson(json);
                //~ $scope.status = status;
                //~ $scope.data = data;
                $scope.rs = data;
                console.log($scope.rs); // Show result from server in our <pre></pre> element
            }) 
```

您可能想看看[AngularPHP](https://github.com/urigoren/angularphp)并节省一些时间，

# c# - 从类生成 c# .cs 文件

> ID：12477474
> 
> 赞同：0
> 
> 时间：2012-09-18T12:55:10.330
> 
> 标签：c#

我正在开发一个需要动态构建 .cs 文件实例的项目。

我使用接口来构造数据，就像这样（它们确实有所不同）

```
public interface IMetaClass
{
    string ParentName { get; set; }
    string Namespace { get; set; }
    string ClassName { get; set; }
    string FriendlyName { get; set; }
    string Description { get; set; }
} 
```

我也有从这些接口继承的类

```
public class XavierMetaClass : IMetaClass
{
    public string ParentName { get; set; }
    // ...
} 
```

**构造和填充**示例****

 **```
var cell = new XavierMetaClass
{
    ParentName = mc.Parent.Name,
    Namespace = mc.Namespace,
    ClassName = mc.Name,
    FriendlyName = mc.FriendlyName,
    Description = mc.Description + "test"
}; 
```

![在此处输入图像描述](../Images/150a0650b1f4fdc13a3fdc364e510434.png)

**我想要做**的是使用它并构造一个新的 .cs 文件，其中的数据存储在上面的变量中，结果看起来像这样。

```
public class CellPhone : IMetaClass
{
    public string ParentName { get { return "CatalogEntry"; } }
    public string Namespace { get { return "Mediachase.Commerce.Catalog.User"; } }
    public string ClassName { get { return "CellPhone"; } }
    public string FriendlyName { get { return "Cell sPhone"; } }
    public string Description { get { return "Contains meta data about phone test"; } }

    private readonly IMetaClass _metaClass;

    public CellPhone()
    {
        // Noop 
    }

    public CellPhone(IMetaClass metaClass)
    {
        _metaClass = metaClass;
    }
} 
```

是否有任何已知的方法框架来帮助我实现这一目标？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:01:41.543

简而言之，您有几个选择。

1.  [CodeDom（来自 Microsoft的](http://msdn.microsoft.com/en-us/library/650ax5cx.aspx)链接和文档的良好列表）
2.  T4 模板
3.  自定义模板（这就像用小片段构建文本文件，然后将文件与发出这些小片段的类树拼凑在一起）

我已经完成了所有三个，我会推荐 T4 模板，这里有一个关于如何使用它的详尽示例。

[http://www.codeproject.com/Articles/269362/Using-T4-Templates-to-generate-custom-strongly-typ](http://www.codeproject.com/Articles/269362/Using-T4-Templates-to-generate-custom-strongly-typ)

但是您需要愿意深入研究并学习它，因为有很多东西要掌握。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-18T12:57:48.673

你考虑过使用[CodeDom](http://msdn.microsoft.com/en-us/library/y2k85ax6.aspx)吗？**

# cakephp - CakePHP：递归查询的分页无法按预期工作

> ID：12477475
> 
> 赞同：1
> 
> 时间：2012-09-18T12:55:16.073
> 
> 标签：cakephp, pagination, recursive-query

我得到了这个模型：

```
class CompanyRestaurantRequest extends AppModel
{
    public $name = "CompanyRestaurantRequest";      
    //public $actsAs = array('Containable');        
    public $hasMany = array(
        "UserRestaurantRequestFeed" => array(
            'dependent' => true
        )
    );
}

class UserRestaurantRequestFeed extends AppModel{
    public $name = "UserRestaurantRequestFeed";         
    public $belongsTo = array("CompanyRestaurantRequest");
    public $hasMany = array("UserRestaurantRequestFeedResponse");
}

class UserRestaurantRequestFeedResponse extends AppModel{
    public $name = "UserRestaurantRequestFeedResponse";

    public $belongsTo = array("UserRestaurantRequestFeed");

} 
```

我正在尝试像这样对 CompanyRestaurantRequest 进行分页：

```
$this->CompanyRestaurantRequest->recursive = 5;
$this->CompanyRestaurantRequestFeed->recursive = 5;
$this->paginate = array(
    'limit' => 10,
    'order' => array(
             'CompanyRestaurantRequest.id' => 'desc'
    )
);
$this->set('requests', $this->paginate("CompanyRestaurantRequest")); 
```

问题是我没有得到 CompanyRestaurantRequestFeedResponse。

我尝试将 ContainableBehavior 附加到 CompanyRestaurantRequest 模型，并在分页设置中使用了**包含键，如下所示：**

```
'contain' => array('CompanyRestaurantRequestFeedResponse'); 
```

无论我尝试什么，我都无法获得与 CompanyRestaurantRequestFeeds 相关的那些 CompanyRestaurantRequestFeedResponses。

我怎样才能让它工作？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:37:51.683

代替行：

```
$this->paginate = array(
  'limit' => 10,
  'order' => array(
         'CompanyRestaurantRequest.id' => 'desc'
  )
); 
```

在声明所有 var 的 Controller 顶部添加：

```
public $paginate = array(
  'CompanyRestaurantRequest' => array(
    'limit' => 10,
    'order' => array(
      'CompanyRestaurantRequest.id' => 'desc'
    )
  )
); 
```

这应该解决它...

# html - 出现在页面伪 CSS3/HTML5 中堆叠的文本

> ID：12477483
> 
> 赞同：-2
> 
> 时间：2012-09-18T12:55:38.050
> 
> 标签：html, css

我正在为一个慈善机构制作一个网页，页面上的文字在我无意中出现堆叠。我决定尝试使用 CSS3 和 HTML5（非常糟糕），因此它不会完全兼容。

我已经尝试搜索并查看了一些关于如何与 css3 堆叠的文章，但似乎我并不是偶然意外地实现了这些。它出现在 PHP 中只是为了使用“包含”，并且因为我计划扩展它，所以您可以在页面上看到的所有 html 和 css 就是正在发生的事情。

页脚出现在正文的后面。

[http://aberystwythslsc.org/activities.php](http://aberystwythslsc.org/activities.php)

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:58:22.017

你`<section>`有一个固定的高度。只需将其删除即可。

# ajax - 保护（ssl）nodejs/express web 服务并使用 $.ajax() 跨域调用它

> ID：12477484
> 
> 赞同：3
> 
> 时间：2012-09-18T12:55:40.657
> 
> 标签：ajax, node.js, ssl, https, express

我已经设置了一个这样的 nodejs 应用程序：

```
var express =   require('./../../../Library/node_modules/express'); 
var https = require('https');
var app = express();

httpsOptions = {
  key: fs.readFileSync('privatekey.pem'), 
  cert: fs.readFileSync('certificate.pem')  // SELF-SIGNED CERTIFICATE
}

var server = https.createServer(httpsOptions);
app.get('/myservice', function(req, res) {
...
}
server.listen(8443); 
```

我已经在我的服务器中为入站请求打开了 8443 端口。从浏览器中，如果我打开，`https://mydomain/myservice:8443`我会收到来自浏览器的不受信任的连接警告，这似乎是合乎逻辑的。

然后从我在本地计算机上运行的 test.html（测试跨域问题）中，我执行以下操作：

```
function testService(){
   var data =  { some JSON };

    $.ajax({
            url: 'https://myserver:8443/myservice',
            dataType: "jsonp",
            data: data,   
            jsonpCallback: "_mycallback",
            cache: false,
            timeout: 5000,
            success: function(data) {
                alert(data);
            },
            error: function(jqXHR, textStatus, errorThrown) {
                alert('Error: ' + textStatus + " " + errorThrown);
            }
        });
} 
```

我的问题是这个请求超时了，我认为它甚至没有到达服务。

1.  知道为什么吗？

2.  每当我将此请求发送到服务器时，希望感谢您的友好响应，浏览器警告不受信任的证书会发生什么？这会停止`$.ajax()`静默调用服务器并接收响应吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T04:07:57.127

客户的 JSONP 请求超时的原因几乎可以是任何原因。由于 JSONP 的工作方式，您只能知道请求是失败还是成功，而当它失败时，总是因为超时。也就是说，如果您没有在客户端上保存服务器自签名证书，它几乎肯定会失败。为此，请确保您告诉浏览器始终信任服务器的证书。在 Firefox 中，您还可以转到 Preferences->Encryption->View Certificates->Your Certificates->Import... 将证书添加到 Firefox。其他浏览器应该有类似的界面。

要解决潜在的跨域问题，请尝试将以下内容添加到您的`app.get('/myservice')`:

```
res.header("Access-Control-Allow-Origin:", "*");
res.header("Access-Control-Allow-Methods:", "GET"); 
```

此外，不同的浏览器处理这些事情的方式也不同。根据我的经验，Firefox 有时比 Chrome 更宽松，但我肯定会在两者中进行测试。

要测试 HTTPS 问题，首先我会尝试设置一个常规 expressjs 服务器（无加密），而不是在您的请求中使用 https://。如果请求成功，您就知道问题出在 SSL 上。如果是这样，请确保当您的浏览器发出安全警告时，您启用任何允许您将该站点永久添加到受信任主机的选项。

另外，我相信这条线：

```
var server = https.createServer(httpsOptions); 
```

应该：

```
var server = https.createServer(httpsOptions, app); 
```

（来自：[http](http://expressjs.com/api.html#app.listen) ://expressjs.com/api.html#app.listen ）

您可能还想在下面添加以下代码`var server = https.createServer(httpsOptions);`进行调试（以便您可以轻松查看您的服务器是否收到请求）：

```
app.get('*', function(req, res, next) {
    // You *should* also be able to add the response headers here, although I haven't tried.
    console.log('Request received', req, res);
    next();
}) 
```

希望这会有所帮助！

# processing - 如何使用 jogl 2.0 设置四边形缓冲

> ID：12477491
> 
> 赞同：0
> 
> 时间：2012-09-18T12:56:03.780
> 
> 标签：processing, jogl

我正在尝试为立体视觉创建一个 3d 渲染器，并使用 Processing/Java 进行四重缓冲。我正在使用的硬件已经为此做好了准备，所以这不是问题。我在 jogl 1.0 中有一个用于 Processing 1.5 的 stereo.jar 库，但现在我必须使用 Processing 2.0 和 jogl 2.0，因此我必须调整该库。

Jogl 和 Processing 的源代码中的某些内容发生了变化，我很难弄清楚如何告诉 Processing 我想使用四重缓冲。

这是之前的代码：

```
public class Theatre extends PGraphicsOpenGL{
protected void allocate()
  {
    if (context == null)
    {
      // If OpenGL 2X or 4X smoothing is enabled, setup caps object for them
      GLCapabilities capabilities = new GLCapabilities();
      // Starting in release 0158, OpenGL smoothing is always enabled
      if (!hints[DISABLE_OPENGL_2X_SMOOTH])
      {
        capabilities.setSampleBuffers(true);
        capabilities.setNumSamples(2);
      }
      else if (hints[ENABLE_OPENGL_4X_SMOOTH])
      {
        capabilities.setSampleBuffers(true);
        capabilities.setNumSamples(4);
      }

      capabilities.setStereo(true);

      // get a rendering surface and a context for this canvas
      GLDrawableFactory factory = GLDrawableFactory.getFactory();

      drawable = factory.getGLDrawable(parent, capabilities, null);

      context = drawable.createContext(null);
      // need to get proper opengl context since will be needed below
      gl = context.getGL();
      // Flag defaults to be reset on the next trip into beginDraw().
      settingsInited = false;

    }
    else
    {
      // The following three lines are a fix for Bug #1176
      // http://dev.processing.org/bugs/show_bug.cgi?id=1176
      context.destroy();
      context = drawable.createContext(null);
      gl = context.getGL();
      reapplySettings();
    }
  }
} 
```

这是旧图书馆的渲染器。为了使用它，我需要做 size(100, 100, "stereo.Theatre")。现在我正在尝试直接在我的处理草图中制作立体声。这是我正在尝试的：

```
PGraphicsOpenGL pg = ((PGraphicsOpenGL)g);
pgl = pg.beginPGL();
gl = pgl.gl;
glu = pg.pgl.glu;
gl2 = pgl.gl.getGL2();

GLProfile profile = GLProfile.get(GLProfile.GL2);
GLCapabilities capabilities = new GLCapabilities(profile);

capabilities.setSampleBuffers(true);
capabilities.setNumSamples(4);
capabilities.setStereo(true);

GLDrawableFactory factory = GLDrawableFactory.getFactory(profile); 
```

如果我继续，我应该做这样的事情：

```
drawable = factory.getGLDrawable(parent, capabilities, null); 
```

但可绘制不再是一个领域，我找不到办法做到这一点。如何设置四重缓冲？

如果我试试这个：

```
gl2.glDrawBuffer(GL.GL_BACK_RIGHT); 
```

它显然不起作用：/

谢谢。

# distributed-computing - Zookeeper 优先级队列

> ID：12477496
> 
> 赞同：2
> 
> 时间：2012-09-18T12:56:26.540
> 
> 标签：distributed-computing, web-crawler, priority-queue, apache-zookeeper

我的问题描述如下：我有 n 个基于状态的数据库*无限*爬虫：目前它是如何发生的：

*   我们使用单机爬行。
*   我们有三层优先级队列。高、中和低。
*   在启动时，所有数据库作业都被放入较低级别的队列中。
*   Worker 从队列中读取作业并执行操作。
*   完成工作后，它会延迟 5 分钟重新安排它。

我找到的解决方案

对于优先队列，我可以使用：

- [http://zookeeper.apache.org/doc/r3.2.2/recipes.html#sc_recipes_priorityQueues](http://zookeeper.apache.org/doc/r3.2.2/recipes.html#sc_recipes_priorityQueues)

我仍在寻找的问题解决方案是：

1.  如何使用未来的计划时间重新安排队列中的作业。有没有办法在 zookeeper 中做到这一点？
2.  取消已开始的作业。假设用户更改了他的数据库身份验证详细信息。我想停止已经为该数据库运行的作业并使用新的详细信息重新启动。我的想法是在启动工作人员时它会订阅它的 znode 更改，如果发生某些事情，它将停止该工作并重新安排它。
3.  无限队列 我认为完成后它将从队列中删除并在未来的调度时间内读取它。（它的实现取决于第 1 点）

这是执行此任务无限任务的正确方法吗？

# jquery - Jquery 仅在 Chrome 中工作？

> ID：12477506
> 
> 赞同：0
> 
> 时间：2012-09-18T12:56:43.277
> 
> 标签：jquery, css, browser, cross-browser

CSS：

```
.right_man
{
    width: 50%;
    height: 100%; 
    overflow: hidden;         
} 
```

JS：

```
jQuery(document).ready(function () {
    $(this).mousemove(function (e) {
        var page = $(document).width();
        if (page / 2 > e.pageX) {
            $('.right_man').width(page - e.pageX);
        }else {
            $('.right_man').width(page - (e.pageX - (page / 2)) - (page / 2));
        }
    });
}); 
```

为什么代码仅适用于 Chrome ？

IE、Mozilla、Opera 忽略了下摆。

我将 $(this).mousemove 更改为 $(window).mousemove。

固定

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T12:59:39.923

尝试更改`$(this).mousemove`为`$(window).mousemove`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:06:30.247

尝试使用[jquery css](http://api.jquery.com/css/)

```
jQuery(document).ready(function () {
    $(this).mousemove(function (e) {
        var page = $(document).width();
        if (page / 2 > e.pageX) {
            $('.right_man').css("width", page - e.pageX);
        }else {
            $('.right_man').css("width", page - (e.pageX - (page / 2)) - (page / 2));
        }
    });
}); 
```

让我知道问题是否仍然存在。

# c# - Office 365 个人资料头像图片

> ID：12477513
> 
> 赞同：14
> 
> 时间：2012-09-18T12:57:00.267
> 
> 标签：c#, asp.net-mvc, office365, gravatar

我们有一个系统将在某些方面与 Office 365 集成，我们希望使用用户在 Office 365 系统中设置的个人资料图片，而不是自己存储此图像/参考。但是，我找不到从 Office 365 外部访问此图像的任何方式（例如通过电子邮件地址）。

换句话说，Office 365 是否能够以类似于[Gravatar](http://gravatar.com)的方式提供用户的个人资料图片？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-11-04T13:55:58.197

您还可以使用 Office365 统一 API（预览版）[https://msdn.microsoft.com/office/office365/APi/photo-rest-operations](https://msdn.microsoft.com/office/office365/APi/photo-rest-operations)

并用作 Base64 编码图像。请注意自上次更新以来更改的 API。

这是我的代码：

```
 HttpClient client = new HttpClient();
 HttpRequestMessage request = new HttpRequestMessage(HttpMethod.Get,
       "https://outlook.office.com/api/beta/me/photos('96x96')/$value");
        request.Headers.Add("ACCEPT", "image/*");
        request.Headers.Authorization = new AuthenticationHeaderValue("Bearer", authResult.AccessToken);
        HttpResponseMessage response = await client.SendAsync(request);
        byte[] byteArray = await response.Content.ReadAsByteArrayAsync();

        string base64ImageRepresentation = Convert.ToBase64String(byteArray);

        if (!response.IsSuccessStatusCode && response.StatusCode >= HttpStatusCode.BadRequest)
        {
            return string.Empty;
        }

        return base64ImageRepresentation; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-25T08:49:07.227

您可以使用 Graph API 来获取 User Entity 记录，其中包含个人资料图片

[http://msdn.microsoft.com/en-us/library/hh974483.aspx](http://msdn.microsoft.com/en-us/library/hh974483.aspx) - 请参阅 thumbnailPhoto 字段。

对于 REST API 信息：http: [//msdn.microsoft.com/en-us/library/hh974478.aspx](http://msdn.microsoft.com/en-us/library/hh974478.aspx)

# windows-phone-7 - VieModel collection not saved during State Save/Tombstone

> ID：12477517
> 
> 赞同：0
> 
> 时间：2012-09-18T12:57:21.157
> 
> 标签：windows-phone-7, windows-phone-7.1, viewmodel, lockscreen, tombstoning

If I lock my phone while running my application and unlock it say after 30 minutes or 60 minutes, my screen appears blank. All my data (its a huge list compare it to a user's twitter feed) which was in an `Observable collection` in my `ViewModel` has disappeared. When I refresh I get `NullReferenceException`. Note that I am not handling any `state save` while locking and unlocking the phone. Is that the reason for the loss of my data? How can I handle it? Since there is a limit on the state data which can be saved of 4Mb Max, will it affect the functioning of my application even if I do implement it?

[Update]

I have tried the following things:
1) [http://www.scottlogic.co.uk/blog/colin/2011/05/a-simple-windows-phone-7-mvvm-tombstoning-example/](http://www.scottlogic.co.uk/blog/colin/2011/05/a-simple-windows-phone-7-mvvm-tombstoning-example/)
2) [http://www.scottlogic.co.uk/blog/colin/2011/10/a-windows-phone-7-1-mango-mvvm-tombstoning-example/](http://www.scottlogic.co.uk/blog/colin/2011/10/a-windows-phone-7-1-mango-mvvm-tombstoning-example/)
and many more.

The problem which I now face is that my application's viewModel contains an `observable collection` which I have binded to the UI. This observable collection is a collection of my user-defined class which contains `complex data members`. One of them is a `dictionary`. When i try to save my viewModel using `XMLSerialization` it throws an error as XML serialization doesn't support Dictionary.

I have also tried to write my viewmodel after `Data contract serialization` onto the IS during App_Deactivated and retrieve it on App_Activated. But my collection is null on resume. On opening the IS file it shows that the collection was not written onto the file. Am I missing some `key ingredient` in-order to solve this problem?

Note: I need my list. I cannot refresh data.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T15:20:43.100

I'd suggest that this is the wrong approach.

Tombstoning is designed to allow you to save your state, not your data. You want to store the following:

1.  The page you're currently on
2.  The parameters, if any, that were used to get your list of data that you are currently showing
3.  Any selection state (has the user selected a row, etc)
4.  Any page state (is it in edit-mode, etc)

Not all of these things will apply, but it should provide you with an idea of what you should be storing.

This will be a significantly smaller set of data using simple data types rather than large chains of complex objects.

So:

1.  Store the properties/parameters that you use to get your data
2.  When the app resumes go get your data again using the params. If this take a while give the user some form of progress notification. If you can't accurately do this then display activity on the screen until the load finishes so the user knows that something is happening.

# velocity - 以速度输出字符串的一部分

> ID：12477518
> 
> 赞同：12
> 
> 时间：2012-09-18T12:57:22.467
> 
> 标签：velocity, vtl

如果我胡说八道或胡言乱语，我深表歉意，但我对速度和这些论坛不熟悉！

我需要检查某个字符的字符串内容，如果出现则输出文本的第二部分。例如：

```
set ($string = "This is a long string *** but I only want to output this on my email"). 
```

我想在 3 个星号之后输出所有文本。我已经搜索了论坛，但找不到任何可以完全帮助我的东西。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-09-19T01:05:49.260

Velocity 只是真实 Java 对象的一个​​外观，因此您可以访问[该类的所有](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html)[公共方法`String`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html)，包括[`indexOf`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#indexOf%28java.lang.String%29)和[`substring`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#substring%28int%29)。所以尝试类似：

```
#set ($string = "This is a long string *** but I only want to output this on my email")
#set ($index = $string.indexOf('***'))
#set ($index = $index + 3)
#set ($end = $string.substring($index)) 
```

如果您对放入上下文中的对象有更多控制权，则可以添加一个实例[`StringUtils`](http://commons.apache.org/lang/api/org/apache/commons/lang3/StringUtils.html)作为辅助工具，然后[`substringAfter`](http://commons.apache.org/lang/api/org/apache/commons/lang3/StringUtils.html#substringAfter%28java.lang.String,%20java.lang.String%29)直接使用。

# c# - 跨多个页面请求共享复杂对象 - C# MVC

> ID：12477521
> 
> 赞同：0
> 
> 时间：2012-09-18T12:57:29.627
> 
> 标签：c#, asp.net, asp.net-mvc-3

我有一个搜索功能，完成后将数据存储在通用列表 ( `List<ViewModel>`) 中。到目前为止，我一直将 viewmodel 值分配给一个静态变量，以允许我在用户可能使用的任何页面请求上重新使用数据。

不过，经过今天的阅读，似乎静态变量值可以跨线程共享，这意味着如果我正在查看该站点，则包含我的搜索数据的静态变量可能会被其他用户修改。

在我的阅读过程中，我看到了诸如向`[ThreadStatic]`变量添加属性之类的解决方案，尽管这不仅不起作用，而且被我的进一步阅读完全驳回为不正确的解决方案。

其他人谈到在 中存储变量`HttpContext.Current.Items`，但我对此的理解是它只持续一个请求。

所以，我不确定这里的最佳解决方案 - 理想情况下，我宁愿不对我的应用程序进行太多根本性的更改，但总之我希望能够在许多请求中共享复杂的对象？这样做的最佳方法是什么？

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:06:37.057

您可以将应该为每个用户单独保存在内存中的对象存储在会话 (HttpContext.Session) 对象中。您的部署当然必须支持会话。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:01:22.013

你不能只使用[OutputCacheAttribute](http://msdn.microsoft.com/en-us/library/system.web.mvc.outputcacheattribute%28v=vs.108%29.aspx)吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T13:36:33.117

静态变量是一个糟糕的选择。您可以使用会话或 ViewState。至于我 - 第一个更好。例如

```
 if (Session["tmp"] == null) Session["tmp"]=new DataSet();
    DataSet ds = (DataSet)Session["tmp"];
    {
      ...Do something with ds
    }       
    Session["tmp"] = ds; 
```

您可以在页面或处理程序之间传递此数据集，但您必须注意会话的生命周期

# java - JFrame 到图像而不显示 JFrame

> ID：12477522
> 
> 赞同：5
> 
> 时间：2012-09-18T12:57:31.220
> 
> 标签：java, swing, jframe, bufferedimage

我正在尝试将 JFrame 渲染到图像而不显示 JFrame 本身（类似于[这个](https://stackoverflow.com/questions/9279330/saving-jframe-to-image)问题所问的）。我试过使用这段代码：

```
private static BufferedImage getScreenShot(Component component)
{
    BufferedImage image = new BufferedImage(component.getWidth(), component.getHeight(), BufferedImage.TYPE_INT_RGB);
    // call the Component's paint method, using
    // the Graphics object of the image.
    component.paint(image.getGraphics());
    return image;
} 
```

但是，这仅在设置了`JFrame`'s时才有效`setVisible(true)`。这将导致图像显示在屏幕上，这不是我想要的。我也尝试过创建类似的东西：

```
public class MyFrame extends JFrame
{
    private BufferedImage bi;

    public MyFrame(String name, BufferedImage bi)
    { 
         this.bi = bi;
         super(name);
    }

    @Override
    public void paint(Graphics g)
    {
         g.drawImage(this.bufferedImage, 0, 0, null);
    }
} 
```

但是，这会显示黑色图像（如上面的代码）。我很确定我所追求的是可能的，问题是我真的找不到方法。我对自定义 Swing 组件的经验非常有限，因此我们将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-18T13:36:39.983

这是一个应该可以解决问题的片段：

```
Component c; // the component you would like to print to a BufferedImage
JFrame frame = new JFrame();
frame.setBackground(Color.WHITE);
frame.setUndecorated(true);
frame.getContentPane().add(c);
frame.pack();
BufferedImage bi = new BufferedImage(c.getWidth(), c.getHeight(), BufferedImage.TYPE_INT_ARGB);
Graphics2D graphics = bi.createGraphics();
c.print(graphics);
graphics.dispose();
frame.dispose(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T15:14:42.947

这种方法可能会奏效：

```
public BufferedImage getImage(Component c) {
    BufferedImage bi = null;
    try {
        bi = new BufferedImage(c.getWidth(),c.getHeight(), BufferedImage.TYPE_INT_RGB);
        Graphics2D g2d =bi.createGraphics();
        c.print(g2d);
        g2d.dispose();
    } catch (Exception e) {
        e.printStackTrace();
        return null;
    }
    return bi;
} 
```

然后你会做类似的事情：

```
JFrame frame=...;
...
BufferedImage bImg=new ClassName().getImage(frame);
//bImg is now a screen shot of your frame 
```

# clojure - 用 Clojure 画线

> ID：12477527
> 
> 赞同：-2
> 
> 时间：2012-09-18T12:57:43.603
> 
> 标签：clojure

> **可能重复：**
> [使用抗锯齿画线](https://stackoverflow.com/questions/12475380/draw-line-with-anti-aliasing)

我想用 Clojure 在屏幕上画线和圆，怎么做？有人可以在这里粘贴一些示例代码吗？

另一个问题，我定义了一个地图：

```
 (def {:a 4, :b 5, :c 6}, i try to change it to be {:a 1, :b 99, :c 3}, 
```

怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T18:15:57.993

查看 seesaw 库，它为多种类型的 GUI（包括形状）提供了一个很好的 Clojure 友好模型。

[https://gist.github.com/1441520](https://gist.github.com/1441520)

# asp.net - ASP 更新面板停止工作

> ID：12477530
> 
> 赞同：0
> 
> 时间：2012-09-18T12:57:57.847
> 
> 标签：asp.net, ajax

语言：C#
编译器：Visual Studio 2012
操作系统：Windows 7 Home Premium

我已经`UpdatePanel`在我的**内容**页面上使用了一段时间，根据文本框中的文本更新图像。
到目前为止，这一切都奏效了。目前，页面会完全重新加载以显示图像，而不是部分回发。

**.aspx 代码**

```
<asp:UpdatePanel ID="UpdatePanel2" runat="server">
            <ContentTemplate>
                <asp:Image ID="imgProfilePicture" runat="server" />
                <br />
                <asp:TextBox ID="txtImageLocation" runat="server" AutoPostBack="True" MaxLength="1000" CssClass="styleTextBoxCenter" Width="170px" OnTextChanged="txtImageLocation_TextChanged"></asp:TextBox><br />
                <div style="padding-left: 4px;">
                    <asp:Label ID="lblImageUrl" runat="server" Text="Image URL" CssClass="styleLabelWatermark"></asp:Label>
                </div>
            </ContentTemplate>

            <Triggers>
                <asp:AsyncPostBackTrigger ControlID="txtImageLocation" EventName="TextChanged" />
            </Triggers>
        </asp:UpdatePanel> 
```

**.cs 代码**

```
protected void txtImageLocation_TextChanged(object sender, EventArgs e)
    {
        if(string.IsNullOrEmpty(txtImageLocation.Text))
        {
            imgProfilePicture.ImageUrl = RemoteReaderPlugin.Current.CreateSignedUrl("http://i.minus.com/iNQ7wK2opRJT1.gif",
                                                                                    new ResizeSettings(
                                                                                        "width=183&format=png"));
            lblImageUrl.Text = "Image URL";
            return;
        }
        if (!@txtImageLocation.Text.StartsWith("http://"))
        {
            @txtImageLocation.Text = "http://" + @txtImageLocation.Text;
        }
        WebRequest request = WebRequest.Create(@txtImageLocation.Text);

        try
        {
            request.GetResponse();
            imgProfilePicture.ImageUrl = RemoteReaderPlugin.Current.CreateSignedUrl(@txtImageLocation.Text,
                                                                                    new ResizeSettings(
                                                                                        "width=183&s.roundcorners=10"));
            lblImageUrl.Text = "Image Verified";
            lblImageUrl.ForeColor = System.Drawing.Color.Green;
        }
        catch (Exception)
        {
            imgProfilePicture.ImageUrl =
                RemoteReaderPlugin.Current.CreateSignedUrl(
                    "http://i.minus.com/ibwhXZ9wLo1mOz.jpg",
                    new ResizeSettings("width=183&s.roundcorners=10"));
            lblImageUrl.Text = "Invalid URL";
            lblImageUrl.ForeColor = System.Drawing.Color.Red;
            txtImageLocation.Focus();
        }
    } 
```

我想不出我改变了什么，而**母**版页仍然有一个`ScriptManager`打开。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:12:14.430

事实证明，`UpdatePanel`如果您在`Global.asax`.

当我添加`routes.MapPageRoute("", "{address}", "~/{address}.aspx");`.

删除后，ajax 面板工作。

# ip-address - 在 NAT 下访问不同的 Web 资源会改变公共 IP 地址吗？

> ID：12477535
> 
> 赞同：0
> 
> 时间：2012-09-18T12:58:13.387
> 
> 标签：ip-address, p2p, nat

我的目的是做一个P2P软件。首先我做一些测试。

通过pppoe连接网络后，我访问了不同网站的phpinfo()页面，但是_SERVER["REMOTE_PORT"]的结果不同。

包括[www.whatismyip.com](http://www.whatismyip.com)、[www.apnic.net](http://www.apnic.net)等一些 ip 地址查找站点和 gmail 的 ip 位置查找列表都是不同的。为什么？

这些不同的IP地址是由ISP在不同的网络资源上分配的吗？到不同网络资源的私有路由是否改变了？

也许原因是我的 ISP 或网站的 CDN？如果原因是ISP在不同的web资源上分配的ip地址，网站访问者的ip地址可能不真实。

我的 ISP 的 ip 地址很少，所以我在 NAT 下。即使在 NAT 下，公共 ip 地址也不应该随着不同的网络资源而改变。

但是我可以使用一些p2p软件，为什么？如果ip地址随着访问不同的web资源而变化，P2P软件的NAT穿越可能会非常困难。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-21T15:08:54.897

如果您的 ISP 没有静态 IP，您可以预期“您的”公共传出 IP 在您访问 Internet 上的不同资源时会发生变化；您的 ISP 可能会使用各种公共 IP 进行出站连接，您最终会选择其中一个，具体取决于其内部路由的工作方式。

您的 P2P 软件可以工作，因为它从不接收入站连接：它建立（同步->HTTP 或全双工->websockets 等.....）到中央服务器或中继的*出站连接，并在**返回*通道上接收入站数据.

# visual-studio - 从 SSRS (MDX) 中过滤掉一个成员

> ID：12477542
> 
> 赞同：0
> 
> 时间：2012-09-18T12:58:52.200
> 
> 标签：visual-studio, tsql, reporting-services, ssas, mdx

好的，所以我有一个名为的暗淡，`Employee`我试图从报告表中过滤掉。`Employee_ID``ID``&[12345]`

我将如何从我的报告表中过滤掉该员工 ID 的记录？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:49:06.287

您可以使用[除外](http://msdn.microsoft.com/en-us/library/ms144900)功能：

```
Except('a set that contains employees', {'the employee you want to exclude'}) 
```

# java - HttpResponse 中的阿拉伯语格式错误

> ID：12477543
> 
> 赞同：1
> 
> 时间：2012-09-18T12:58:54.697
> 
> 标签：java, android, xml, utf-8, httprequest

> **可能重复：**
> [解析 UTF-8 编码的 XML 文件](https://stackoverflow.com/questions/12472999/parsing-an-utf-8-encodded-xml-file)

我正在解析一个包含一些阿拉伯字符的 UTF-8 编码 XML 文件，除了不显示阿拉伯字符外，其他一切都正常工作，一些奇怪的字符显示如下：

```
ÙØ±ÙÙ 
```

这是解析中的 XML“ [http://212.12.165.44:7201/UniNews121.xml ”文件的链接](http://212.12.165.44:7201/UniNews121.xml)

下面是代码

```
 public String getXmlFromUrl(String url) {

        try {
            return new AsyncTask<String, Void, String>() {
                @Override
                protected String doInBackground(String... params) {
                    //String xml = null;
                    try {

                        DefaultHttpClient httpClient = new DefaultHttpClient();
                        httpClient.getParams().setParameter(CoreProtocolPNames.HTTP_CONTENT_CHARSET,"UTF-8");
                        HttpGet httpPost = new HttpGet(params[0]);
                        HttpResponse httpResponse = httpClient.execute(httpPost);
                        HttpEntity httpEntity = httpResponse.getEntity();
                        xml = new String(EntityUtils.toString(httpEntity).getBytes(),"UTF-8");

                    } catch (Exception e) {
                        e.printStackTrace();
                    }

                                    //just to remove the BOM Element    
                    xml=xml.substring(3);

            //Here am printing the xml and the arabic chars are malformed                                                       
                                    Log.i("DEMO", xml);
                    return xml;

                }
            }.execute(url).get();
        } catch (InterruptedException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (ExecutionException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        return xml;
    } 
```

请注意，没有发生错误，一切正常，只是阿拉伯字符格式错误。

**感谢您的帮助，但请在您的回答中具体说明**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:16:15.903

这

```
xml = new String(EntityUtils.toString(httpEntity).getBytes(),"UTF-8"); 
```

不做你想做的事。`EntityUtils.toString()`使用默认字符集，然后调用 getBytes()，它在未指定编码时也使用平台编码，然后调用 new String，它尝试将此字节 [] 作为 UTF-8 字符串字节 [] 读取。

你只需要打电话

```
xml = EntityUtils.toString(httpEntity, "UTF-8"); 
```

# entity-framework-4 - EF 4.1 CodeFirst GetValidationErrors

> ID：12477544
> 
> 赞同：0
> 
> 时间：2012-09-18T12:58:58.223
> 
> 标签：entity-framework-4, ef-code-first, dbcontext

如果我在地图文件中定义了下一个（单元和机器之间的一对多关系）：

```
this.HasRequired(t => t.Unit)
    .WithMany(t => t.Machines)
    .HasForeignKey(d => d.UnitId); 
```

当我添加新实体 Machine.UnitOfMeasurement = null, sp 时，为什么 DbContext 在调用 GetValidationErrors 时没有返回验证问题，我该怎么做才能检测到它们。如果我允许 EF 尝试更新，它将向用户返回无意义的消息，例如外键引用错误，而我可以从 DbEntityValidationResult（发出验证错误的前属性名称）中提取有意义的信息给用户。

我将 IDataErrorInfo 用于验证规则，而不是属性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:34:41.393

EF 验证不验证导航属性。这样做的原因是导航属性可能为 null 不是因为相关实体不存在，而是因为启用了延迟加载并且相关实体没有加载。此外，即使导航属性为空，您也可能设置了相应的外键属性，这基本上意味着关系存在但导航属性尚未更新。另请注意，强制加载相关实体意味着验证会将您的整个数据库带入内存（加载相关实体后，它们将被验证这将导致加载新加载实体的相关实体等等） - 您不希望这种情况发生（EF 实际上在验证期间关闭了延迟加载以防止这种情况发生）。

# iphone - 使用 xcode 链接错误

> ID：12477545
> 
> 赞同：-6
> 
> 时间：2012-09-18T12:59:01.657
> 
> 标签：iphone, xcode, linker

**嘿伙计们，我正在尝试构建我的应用程序，但链接时它并没有停止？奇怪的错误是日志**

ld /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Products/Debug-iphonesimulator/SearchPRO.app/SearchPRO normal i386 cd /Users/alyjamy/Downloads/SearchPRO setenv MACOSX_DEPLOYMENT_TARGET 10.6 setenv PATH "/Applications /Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/ sbin" /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -arch i386 -dynamiclib -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/ SDKs/iPhoneSimulator5.1。sdk -L/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Products/Debug-iphonesimulator -F/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Products/ Debug-iphonesimulator -filelist /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/SearchPRO.LinkFileList -mmacosx-版本-min = 10。6 -Xlinker -objc_abi_version -Xlinker 2 -fobjc-link-runtime -Xlinker -no_implicit_dylibs -D__IPHONE_OS_VERSION_MIN_REQUIRED=50100 -lxml2 -lz -framework MobileCoreServices -framework SystemConfiguration -framework CoreGraphics -framework CFNetwork -framework UIKit -framework Foundation -o /Users/alyjamy /Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Products/Debug-iphonesimulator/SearchPRO.app/SearchPRO

重复符号 _OBJC_IVAR_$_Google_SearchView.refParentViewController 在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Google_SearchView- F440D65BB38D9558.o /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Google_SearchView-41A2B8A23D2A1652.o 重复符号_OBJC $_Google_SearchView 在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Google_SearchView-F440D65BB38D9558。o /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Google_SearchView-41A2B8A23D2A1652.o 重复符号_OBJC_METACLASS_$_Google_SearchView在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Google_SearchView-F440D65BB38D9558.o /Users/alyjamy /Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Google_SearchView-41A2B8A23D2A1652.o重复符号_OBJC_IVAR_$_HomeView.refParentViewController：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/HomeView-5DC4F3DA47F5C55B.o /Users/alyjamy/Library /Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/HomeView-B126BFA53128822A.o 重复符号_OBJC_CLASS_$_HomeView 在：/Users/alyjamy/ Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/HomeView-5DC4F3DA47F5C55B.o /Users/alyjamy/Library/Developer/Xcode/ DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO。build/Objects-normal/i386/HomeView-B126BFA53128822A.o 重复符号 _OBJC_METACLASS_$_HomeView 在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO .build/Objects-normal/i386/HomeView-5DC4F3DA47F5C55B.o /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal /i386/HomeView-B126BFA53128822A.o 重复符号_main 在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/ i386/main-90B20DF7C3920B56.o 重复符号 _OBJC_IVAR_$_iSearchProAppDelegate.navigationController 在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/iSearchProAppDelegate-FC941BF9786A1D61.o /Users/alyjamy/Library /Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/iSearchProAppDelegate-5039F6A504D7A3A.o 重复符号 _OBJC_IVAR_$_iSearchProAppDelegate.window 在：/Users/ alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/iSearchProAppDelegate-FC941BF9786A1D61。o /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/iSearchProAppDelegate-5039F6A504D7A3A.o 重复符号_OBJC_CLASS_$_iSearchProAppDelegate在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/iSearchProAppDelegate-FC941BF9786A1D61.o /Users/alyjamy /Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/iSearchProAppDelegate-5039F6A504D7A3A.o 重复符号_OBJC_METACLASS_$_iSearchProAppDelegate 在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/iSearchProAppDelegate-FC941BF9786A1D61.o /Users/alyjamy/Library /Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/iSearchProAppDelegate-5039F6A504D7A3A.o 重复符号 _OBJC_IVAR_$_Twitter_SearchView.refParentViewController 在：/Users/ alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Twitter_SearchView-3920747535A2AD6A。o /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Twitter_SearchView-F6065DBEB33D9A3C.o 重复符号_OBJC_CLASS_$_Twitter_SearchView在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Twitter_SearchView-3920747535A2AD6A.o /Users/alyjamy /Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Twitter_SearchView-F6065DBEB33D9A3C.o 重复符号_OBJC_METACLASS_$_Twitter_SearchView 在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Twitter_SearchView-3920747535A2AD6A.o /Users/alyjamy/Library /Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Twitter_SearchView-F6065DBEB33D9A3C.o重复符号_OBJC_CLASS_$_Twitter_SearchViewController在：/Users/alyjamy/库/开发人员/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Twitter_SearchViewController-2A2332C99892CD6C。o /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Twitter_SearchViewController-E7091C13162DBA3E.o 重复符号_OBJC_METACLASS_$_Twitter_SearchViewController在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Twitter_SearchViewController-2A2332C99892CD6C.o /Users/alyjamy /Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Twitter_SearchViewController-E7091C13162DBA3E.o 重复符号_OBJC_IVAR_$_Youtube_SearchView.refParentViewController 在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Youtube_SearchView-1B25F11DFB82ED6E.o /Users/alyjamy/Library /Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Youtube_SearchView-FE4CD6F8B0DC7B2A.o 重复符号_OBJC_CLASS_$_Youtube_SearchView 在：/Users/alyjamy/ Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Youtube_SearchView-1B25F11DFB82ED6E.o /Users/alyjamy/Library/Developer/Xcode/ DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO。build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Youtube_SearchView-FE4CD6F8B0DC7B2A.o 重复符号 _OBJC_METACLASS_$_Youtube_SearchView 在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO .build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Youtube_SearchView-1B25F11DFB82ED6E.o /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator /SearchPRO.build/Objects-normal/i386/Youtube_SearchView-FE4CD6F8B0DC7B2A.o 重复符号 _OBJC_CLASS_$_Youtube_SearchViewController 在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug- iphonesimulator/SearchPRO。build/Objects-normal/i386/Youtube_SearchViewController-3269AC039631AE5A.o /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/ i386/Youtube_SearchViewController-EF4F954D13CC9B2C.o 重复符号 _OBJC_METACLASS_$_Youtube_SearchViewController 在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal /i386/Youtube_SearchViewController-3269AC039631AE5A.o /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Youtube_SearchViewController-EF4F954D13CC9B2C 。老的：架构 i386 clang 的 21 个重复符号：错误：链接器命令失败，退出代码为 1（使用 -v 查看调用）

**你能帮我吗**

**当我删除重复项时解决了这个错误现在我有了它**

ld /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Products/Debug-iphonesimulator/SearchPRO.app/SearchPRO normal i386 cd /Users/alyjamy/Downloads/SearchPRO setenv MACOSX_DEPLOYMENT_TARGET 10.6 setenv PATH "/Applications /Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/ sbin" /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -arch i386 -dynamiclib -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/ SDKs/iPhoneSimulator5.1。sdk -L/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Products/Debug-iphonesimulator -F/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Products/ Debug-iphonesimulator -filelist /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/SearchPRO.LinkFileList -Xlinker - -no-demangle -mmacosx-version-min=10。6 -Xlinker -objc_abi_version -Xlinker 2 -fobjc-link-runtime -Xlinker -no_implicit_dylibs -D__IPHONE_OS_VERSION_MIN_REQUIRED=50100 -lxml2 -lz -framework MobileCoreServices -framework SystemConfiguration -framework CoreGraphics -framework CFNetwork -framework UIKit -framework Foundation -o /Users/alyjamy /Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Products/Debug-iphonesimulator/SearchPRO.app/SearchPRO

重复符号_main在：/Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/main-AC1E3FF737776656.o ld ：架构 i386 clang 的 1 个重复符号：错误：链接器命令失败，退出代码为 1（使用 -v 查看调用）

**??**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:09:15.157

您`Youtube_SearchViewController.m`和其他`Youtube_SearchView.m`文件在“编译源”构建阶段列出了两次。

在左侧的 Project Navigator 中选择您的项目，然后在目标列表中选择您的目标，转到“Build Phases”选项卡，然后删除每个重复文件（这样每个 .m 文件只列出一次）。

* * *

有关如何解释构建日志的详细信息*（重点添加和重新格式化）*：

> **重复符号**_OBJC_IVAR_$_ **Google_SearchView.refParentViewController**在：
> 
> *   /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Google_SearchView-F440D65BB38D9558.o **_**
> *   /Users/alyjamy/Library/Developer/Xcode/DerivedData/SearchPRO-byuygadvkgrdzqgiethjtvoscvzp/Build/Intermediates/SearchPRO.build/Debug-iphonesimulator/SearchPRO.build/Objects-normal/i386/Google_SearchView-41A2B8A23D2A1652.o **_**

在上面的摘录中，`Google_searchView.m`被编译了两次，同时产生了`Google_SearchView-F440D65BB38D9558.o`和`Google_SearchView-41A2B8A23D2A1652.o`

# asp.net - 不正确的日期格式和日期生成

> ID：12477547
> 
> 赞同：1
> 
> 时间：2012-09-18T12:59:04.210
> 
> 标签：asp.net, visual-studio-2010, c#-4.0, datetime

我有一个类型的变量`DateTime objApplicationSummaryInfo.AdmissionDate`。我正在尝试分配一个值，例如

```
objApplicationSummaryInfo.AdmissionDate = DateTime.ParseExact(
       TextBox3.Text.ToString(), "dd/mm/yyyy", null); 
```

但是当我给 a 赋值时`27/09/2012`，`textbox3`变量`objApplicationSummaryInfo.AdmissionDate`取一个值`1/27/2012 12:00:09`。格式和日期返回不正确。

我缺少哪些可能的代码以及可以替代的解决方案。感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:04:43.953

`mm`是分钟。

`MM`是几个月

[自定义日期和时间格式字符串](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)

您的代码应该是：

```
objApplicationSummaryInfo.AdmissionDate = DateTime.ParseExact(
   TextBox3.Text.ToString(), "dd/MM/yyyy", null); 
```

您还需要设置文化：

```
CultureInfo provider = CultureInfo.InvariantCulture;

objApplicationSummaryInfo.AdmissionDate = DateTime.ParseExact(
   TextBox3.Text.ToString(), "dd/MM/yyyy", culture); 
```

否则它将使用运行代码的机器的文化。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:06:09.530

`"dd/mm/yyyy"`应该是`"dd/MM/yyyy"`

*   `mm`- 是几分钟
*   `MM`- 几个月

* * *

```
objApplicationSummaryInfo.AdmissionDate = DateTime.ParseExact(
       TextBox3.Text.ToString(), "dd/MM/yyyy", null); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T13:09:42.553

你可以试试 - dd/MM/yyyy

```
DateTime.ParseExact(TextBox3.Text.ToString(), "dd/MM/yyyy", CultureInfo.InvariantCulture); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T13:23:29.157

嘿，你在 localHost 上测试吗？在服务器上试试，我将在服务器上工作，但不在 localhots 上工作

# ipad - 悬停时滚动 3D 立方体，在平板电脑上工作

> ID：12477548
> 
> 赞同：0
> 
> 时间：2012-09-18T12:59:06.927
> 
> 标签：ipad, html, css, 3d, cube

我唯一想知道的是这是否可能，如果您用手指在平板电脑屏幕上移动，我想要一个（水平）滚动的 3d 立方体。我想使用 HTML5 + CSS3 为此，我只是不确定这是否可能。

需要在 iPad、iPhone、Galaxy 标签等上工作。

如果您对此有更多了解，我会向您寻求帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:04:42.243

既然你问这是否可能，答案是***肯定****的，可以做到*。
这是一个至少可以为您指明正确方向的演示：http: [//www.paulrhayes.com/experiments/cube-3d/touch.html](http://www.paulrhayes.com/experiments/cube-3d/touch.html)

# html - CSS使文本出现在图片下方

> ID：12477550
> 
> 赞同：0
> 
> 时间：2012-09-18T12:59:20.250
> 
> 标签：html, css, web

98.214.131.200/index.php

```
<html>
<head>
    <title>Peoria Triathlon Club</title>
    <meta  charset=iso-8859-1" />
    <link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<ul id="nav">
    <li><a href="http://tri-peoria.org">Home</a></li>
    <li><a href="/forum">Forum</a></li>
    <li><a href="/join">Join</a></li>
    <li><a href="/members">Members</a></li>
    <li><a href="/events">Events</a></li>
    <li><a href="/training">Training</a></li>
    <li><a href="https://www.facebook.com/groups/tripeoria/">Facebook</a></li>
    <ab><a href="/about">Peoria Triathlon Club</a></ab>
</ul>
<ul id=main>
<p>Main</p>
</ul>
</body>
</html> 
```

98.214.131.200/style.css

```
body {
    background:#000 url(bg.jpg) center top no-repeat;
    background-size: cover;
    color: #c1c1c1;
    font-family: Arial, Verdana, Helvetica, sans-serif;
    margin:0;
}

#nav {
width: 100%;
float: left;
margin: 0 0 3em 0;
padding: 0;
list-style: none;
background-color: #f2f2f2;
border-bottom: 1px solid #ccc; 
border-top: 1px solid #ccc;
}

#main{
    display:inline-block;
    float:left;
} 
```

如何使主 div 中的内容显示在背景图片下方，并且顶部仍然有导航栏？当前代码可见 http://98.214.131.200

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T14:03:12.677

1.  将您的“主要”容器更改为 a`div`而不是 a `ul`（除非您有令人信服的理由将其设置为 a `ul`...您始终可以`ul`在 main中使用 a `div`）。

2.  将`margin-top`属性添加到您的`#main`css 以将其从导航栏向下移动适量。

所以在 index.php 中：

```
<div id="main">
<p>Main</p>
</div> 
```

在 style.css 中：

```
#main {
    margin-top: 240px; /* Adjust as needed */
} 
```

您可以从主 css 中转储，根据您的后续意图`display: inline-block`，您可能不需要任何一个。`float:left`

您可能还需要`background-size: cover`从身体的 css 中删除 ，否则图像可能会增长到覆盖您的主 div 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:22:22.050

我无法确切地看到您想要实现的目标，但您可以在您的身体上添加一个等于背景图像高度的“填充顶部”。

身体{填充顶部：50px；} //假设你的 bg.jpg 是 50px 高度

并检查您是否真的需要 #main 上的浮动。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T14:02:56.593

尝试这个

```
body {
background-color: #000000;
    background-image: url("bg.jpg");
background-position: center top;
    background-repeat: no-repeat;
color: #C1C1C1;
    font-family: Arial,Verdana,Helvetica,sans-serif;
    margin: 0;
}

#main {
    margin-top: 370px;
} 
```

# javafx-2 - 在 TabPane 中调用 selectionModel().select() 时的 NPE

> ID：12477551
> 
> 赞同：1
> 
> 时间：2012-09-18T12:59:22.713
> 
> 标签：javafx-2

这是我的代码：

```
public class TabApp implements Initializable {

    @FXML
    Button newButton;
    @FXML
    TabPane tabPane = new TabPane();
    public Tab newTab;
    private SingleSelectionModel<Tab> selectionModel;
    public int zQueryTabCount = 2;

    @FXML
    public void handleNewButton(ActionEvent event) {
        System.out.println("new button is pressed");

        newTab = new Tab();

        selectionModel.select(newTab);

        newTab.setId("Query " + zQueryTabCount);

        newTab.setText("Query " + zQueryTabCount);

        tabPane.getTabs().add(tabPane.getTabs().size(), newTab);

        tabPane.getTabs().get(0).setClosable(false);

        newTab.setClosable(true);

        if (zQueryTabCount < 2) {

            tabPane.getTabs().get(0).setClosable(false);

        }

        zQueryTabCount++;

    }
} 
```

我正在`NullPointerException`排队`selectionModel.select(newTab);`

我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T15:28:01.123

Your `selectionModel` variable is not initialized nor attached to TabPane.

Use next call instead:

```
[...]
tabPane.getTabs().add(tabPane.getTabs().size(), newTab);

// should be called after tab has been added to TabPane
tabPane.getSelectionModel().select(newTab); 
```

# php - 在 Magento 中创建新页面时如何添加 css？

> ID：12477558
> 
> 赞同：0
> 
> 时间：2012-09-18T12:59:45.083
> 
> 标签：php, magento

我在 CMS blocks > pages 中创建了新页面。但我需要将新类“css”添加到新页面，如何从 Magneto 管理它，如果我想添加访问 Magneto 的新用户以及如何授予他们访问目录、系统等菜单的权限...等等，他们没有访问其他人我该怎么做。谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T09:35:41.547

仅将样式添加到特定 CMS 页面的最简洁和最有效的方法是使用该页面的“设计”选项卡中的“布局更新 XML”输入区域。我在下面包含了一个屏幕截图，向您展示了我的意思，在这种情况下，它添加了一些 JS。

![Magento - 将样式 / js 添加到一个特定的 CMS 页面](../Images/85f8149cae8e854eee8aca97bcb65bd9.png)

要添加 CSS，您只需创建 CSS 文件并将其上传到活动主题的 CSS 目录。您将在布局更新 XML 输入区域中使用以下代码；

```
<reference name="head">
   <action method="addCss"><stylesheet>css/pagestyles.css</stylesheet></action>
</reference> 
```

# sql-server-2008 - COALESCE 截断连接输出

> ID：12477559
> 
> 赞同：0
> 
> 时间：2012-09-18T12:59:47.843
> 
> 标签：sql-server-2008, sql-server-2008-r2

在最近的一篇文章[中，Sql server rtrim 不适合我，有什么建议吗？](https://stackoverflow.com/questions/12452403/sql-server-rtrim-not-working-for-me-suggestions)，我得到了一些很好的帮助，可以从选择查询中获取 csv 字符串。虽然它的行为出乎意料，但我找不到任何类似的示例或文档。该查询返回 802 条记录，但没有使用 coalesce 语句，作为普通选择。通过合并，我只返回 81。如果我输出到文本或输出到文件，我会得到相同的结果。此查询返回 800 多行：

```
declare @maxDate date = (select MAX(TradeDate) from tblDailyPricingAndVol)

select p.Symbol, ','
from tblDailyPricingAndVol p
where p.Volume > 1000000 and p.Clse <= 40 and p.TradeDate = @maxDate
order by p.Symbol 
```

但是当我尝试连接这些值时，很多都丢失了：

```
declare @maxDate date = (select MAX(TradeDate) from tblDailyPricingAndVol)

declare @str VARCHAR(MAX)

SELECT @str = COALESCE(@str+',' ,'') + LTRIM(RTRIM((p.Symbol)))
FROM tblDailyPricingAndVol p
WHERE p.Volume > 1000000 and p.Clse <= 40 and p.TradeDate = @maxDate
ORDER by p.Symbol
SELECT @str 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:10:39.547

这应该可以正常工作，但是我会这样做：

```
DECLARE @str VARCHAR(MAX) = '';

SELECT @str += ',' + LTRIM(RTRIM(Symbol))
FROM dbo.tblDailyPricingAndVol
WHERE Volume > 1000000 AND Clse <= 40 AND radeDate = @maxDate
ORDER by Symbol;

SET @str = STUFF(@str, 1, 1, ''); 
```

要确定字符串是否完整，请停止查看 Management Studio 中的输出。如果超过 Management Studio 将显示的字符数，这将*始终被截断。*您可以运行几个测试来检查变量，而无需对其进行全面检查：

A. 将各个部分的数据长度与结果的数据长度进行比较。

```
SELECT SUM(DATALENGTH(LTRIM(RTRIM(Symbol)))) FROM dbo.tblDailyPricingAndVol
  WHERE ...

-- concatenation query here

SELECT DATALENGTH(@str);

-- these should be equal or off by one. 
```

B. 将变量的结尾与集合中的最后一个元素进行比较。

```
SELECT TOP 1 Symbol FROM dbo.tblDailyPricingAndVol
  WHERE ...
  ORDER BY Symbol DESC;

-- concatenation query here

SELECT RIGHT(@str, 20);

-- is the last element in the set represented at the end of the string? 
```

# c# - 在 .NET 中使用 PayPal 沙箱的“安全标头无效”

> ID：12477560
> 
> 赞同：7
> 
> 时间：2012-09-18T12:59:48.470
> 
> 标签：c#, paypal-sandbox

我在 ASP.Net C# 4.0 中使用 PayPal 沙箱。我添加了以下网络参考：

```
https://www.sandbox.paypal.com/wsdl/PayPalSvc.wsdl
https://www.paypalobjects.com/wsdl/PayPalSvc.wsdl 
```

当我运行此代码时：

```
PayPalAPIHelper.PayPalSandboxWS.SetExpressCheckoutReq req = new PayPalAPIHelper.PayPalSandboxWS.SetExpressCheckoutReq()
        {
            SetExpressCheckoutRequest = new PayPalAPIHelper.PayPalSandboxWS.SetExpressCheckoutRequestType()
            {
                Version = Version,
                SetExpressCheckoutRequestDetails = reqDetails
            }
        };

        // query PayPal and get token
        PayPalAPIHelper.PayPalSandboxWS.SetExpressCheckoutResponseType resp = BuildPayPalSandboxWebservice().SetExpressCheckout(req); 
```

在我的 resp 对象中，错误消息说：

安全标头无效

我被告知要给它正确的 API 凭据。我在 developer.paypal.com 上注册，并假设我使用的电子邮件地址和密码是我的有效凭据。我如何以及在哪里向它提供我的 API 凭据？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T13:18:44.233

您是否检查了 web.config 文件中的端点地址

这些应该参考以下网址

> 对于 API 证书 => SOAP [https://api.sandbox.paypal.com/2.0/](https://api.sandbox.paypal.com/2.0/)
> 
> 对于 API 签名 => SOAP [https://api-3t.sandbox.paypal.com/2.0/](https://api-3t.sandbox.paypal.com/2.0/)

如果您使用的是签名，请使用以下代码

```
CustomSecurityHeaderType type = new CustomSecurityHeaderType();
            type.Credentials = new UserIdPasswordType()
            {
                Username = ConfigurationManager.AppSettings["PayPalUserName"], //Not paypal login username
                Password = ConfigurationManager.AppSettings["PayPalPassword"], //not login password
                Signature = ConfigurationManager.AppSettings["PayPalSignature"]
            }; 
```

要获得 Paypal 签名，请点击[链接](http://help.wildapricot.com/display/DOC/Requesting+PayPal+API+Signature)

更多信息[请点击这里](https://cms.paypal.com/us/cgi-bin/?cmd=_render-content&content_ID=developer/howto_api_endpoints)

## 更新：

请检查以下代码对我有用

```
CustomSecurityHeaderType type = new CustomSecurityHeaderType();
            type.Credentials = new UserIdPasswordType()
            {
                Username = ConfigurationManager.AppSettings["PayPalUserName"],
                Password = ConfigurationManager.AppSettings["PayPalPassword"],
                Signature = ConfigurationManager.AppSettings["PayPalSignature"]
            };

            PaymentDetailsItemType[] pdItem = new PaymentDetailsItemType[1];
            pdItem[0] = new PaymentDetailsItemType() 
            { 
                Amount = new BasicAmountType(){currencyID = CurrencyCodeType.USD,Value = ItemPrice},
                Name = ItemName,
                Number = ItemNumber,
                Description = ItemDescription, 
                ItemURL = ItemUrl
            };

            SetExpressCheckoutRequestDetailsType sdt = new SetExpressCheckoutRequestDetailsType();
            sdt.NoShipping = "1";
            PaymentDetailsType pdt = new PaymentDetailsType()
            {
                OrderDescription = OrderDesc,
                PaymentDetailsItem = pdItem,
                OrderTotal = new BasicAmountType()
                {                    
                    currencyID = CurrencyCodeType.USD,
                    Value = ItemPrice
                }
            };

            sdt.PaymentDetails = new PaymentDetailsType[] { pdt };
            sdt.CancelURL = "http://localhost:62744/PaymentGateway/PaymentFailure.aspx";
            sdt.ReturnURL = "http://localhost:62744/PaymentGateway/ExpressCheckoutSuccess.aspx";

            SetExpressCheckoutReq req = new SetExpressCheckoutReq()
            {
                SetExpressCheckoutRequest = new SetExpressCheckoutRequestType()
                {
                    SetExpressCheckoutRequestDetails = sdt,
                    Version = "92.0"
                }
            };
            var paypalAAInt = new PayPalAPIAAInterfaceClient();
            var resp = paypalAAInt.SetExpressCheckout(ref type, req);
            if (resp.Errors != null && resp.Errors.Length > 0)
            {
                // errors occured
                throw new Exception("Exception(s) occured when calling PayPal. First exception: " +
                    resp.Errors[0].LongMessage);
            }

            Response.Redirect(string.Format("{0}?cmd=_express-checkout&token={1}",
                ConfigurationManager.AppSettings["PayPalOriginalUrl"], resp.Token)); 
```

# gwt - 在 SplitLayoutPanel 中调整子项的大小

> ID：12477561
> 
> 赞同：1
> 
> 时间：2012-09-18T12:59:50.843
> 
> 标签：gwt

我在调整 SplitLayoutPanel 内的子小部件大小时遇到​​问题。我在布局的南部区域有一张桌子。当我拖动拆分器以增加表格的大小时，表格不会调整大小。它保持在固定高度，这会导致桌子下方出现空白。当我缩小南面板时，表格似乎“隐藏”在我在窗口底部的页脚 div 图像后面。随着面板大小的增加/减小，有没有办法调整表格的大小？

我的南面板是如何布置的。“南”面板是真实的，只是中心面板填充了其余的空间。该中心面板有一个 SimplePanel。附加到 SimplePanel 的是 LayoutPanel。我使用它是因为表格上方有一个按钮栏，而 SimplePanel 只需要一个小部件，所以我不得不将小部件嵌套在其他东西中。LayoutPanel 的高度和宽度设置为 100% 我猜需要发生的是布局面板高度需要调整。我不确定。如果需要，我可以发布代码。我也在使用 MVP/Activity/Places 方法

**更新**

拆分布局面板用户界面：

```
<g:SplitLayoutPanel>
   <g:north size='250'>
    . . .
   </g:north size='250'>
   <g:center>
     <g:SimplePanel ui:field="south"/>
   </g:center>
</g:SplitLayoutPanel> 
```

表布局：

```
<g:LayoutPanel width="100%" height="100%">
  <g:layer top='0px' height='125px'>
     ButtonBar is here
  </g:layer>
  <g:layer top='30px' bottom='5px'>
    <g:HorizontalPanel width="100%" height="100%">
       <table:CustomTable height="500"/>
    </g:HorizontalPanel>
  </g:layer>
</g:LayoutPanel> 
```

表格小部件放置在 SplitLayoutPanel 的中心面板中。

# java - 如果激活多个配置文件，如何解决冲突的属性

> ID：12477562
> 
> 赞同：15
> 
> 时间：2012-09-18T12:59:49.770
> 
> 标签：java, maven, build

[Maven 配置文件文档](http://maven.apache.org/guides/introduction/introduction-to-profiles.html)没有提到这一点，这可能是构建过程设计不佳的标志，但是如果多个配置文件处于活动状态并且它们都定义了相同的属性，是否有解决冲突属性的规则？

我很确定本地声明（在 中`pom.xml`）会覆盖中的声明，`settings.xml`对于 colocal 配置文件不太确定

*   文件中的声明顺序重要吗？
*   是否有明确的激活顺序可能很重要？
*   如果通过 CLI ( ) 手动激活，订单是否重要`-Pprofile1,profile2`？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-26T06:00:43.467

没有解决冲突发生 - 只有压倒一切。Afaik 的顺序是设置，pom，然后是命令行。对于 pom 和设置文件中的多个配置文件，文件中的顺序也很重要，除此之外，事情会因 Maven 版本而异。

我强烈建议您减少对配置文件的使用，这样您就不必担心这些复杂性，并且肯定会安装帮助插件。

您还可以在 POM 编辑器的 M2Eclipse 插件中看到 Eclipse 中有效的 pom。同时，这应该对您有所帮助。

并回答您的问题：

是的

是的

是的

所有订单都很重要并且可能导致，有时我们只是说“令人惊讶”的结果。

# assembly - 在汇编程序中更改文本闪烁率

> ID：12477566
> 
> 赞同：0
> 
> 时间：2012-09-18T12:59:59.740
> 
> 标签：assembly, x86

可以改变眨眼的频率吗？我用于属性的代码如下。

```
mov ah, 09h
mov al, a
mov bl, b
mov cx, c
int 10h 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:20:06.993

不，你不能改变眨眼率。

在标准 VGA 适配器上，闪烁属性每 16 帧在打开和关闭之间切换，因此 60 帧/秒您得到大约 1.8 次闪烁/秒。

大多数 VGA 适配器都有对标准 VGA 接口的扩展，可能允许也可能不允许更改闪烁率。如果您的适配器支持它并且您能够获得芯片文档，您可以使用它，但它不适用于其他适配器并且不便携。

# java - 条件语句超出范围错误

> ID：12477567
> 
> 赞同：0
> 
> 时间：2012-09-18T13:00:01.497
> 
> 标签：java

我不明白为什么当我使用下面的代码时会引发以下异常：线程“main”中的异常 java.lang.ArrayIndexOutOfBoundsException: 1 at java4.main(java4.java:11)

```
 import java.util.Scanner;

public class java4{
public static void main (String[] args) {
Scanner console = new Scanner(System.in);

System.out.println("Enter start time");
String startTime = console.nextLine();
String [] tokens = startTime.split(":");
double starttimeHours = Double.parseDouble(tokens[0]);
double startMinutes = Double.parseDouble(tokens[1]);
if (starttimeHours >=6 && starttimeHours <=9 );
int wage = 2;

System.out.println("Enter estimated hours work:");
String esthourswork = console.nextLine();

double wagedoubleNumber = Double.parseDouble(esthourswork);
if (starttimeHours >=06.0 && starttimeHours <=09.0 );
double totalPay = 2 * wage;
double totalPay1 = (Math.round(totalPay *100))/100.0;

 System.out.println("Total fare:$   "   + totalPay1); 
```

}}

因为我认为是针对这段代码的：

```
 if (starttimeHours >=06 && starttimeHours <=9 ); 
```

在本节中，当我将 <=9 更改为 <=09 时，它会出现红十字并说： int 类型的文字 09 超出范围。但我认为 int 范围是从 250 万到 0 的任何一种方式。我尝试将 <=9 更改为 <=09.0，这不会给我一个红十字，但在我运行它时仍然会引发相同的运行时错误。有谁知道如何解决这个问题？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:03:24.490

您`String [] tokens = startTime.split(":");`在显式使用索引 0 和 1 处的标记之前使用。也就是说，您假设用户输入的任何内容肯定包含至少一个冒号。

拆分输入的字符串后，请确保验证数组的长度，并确保验证每个单独的标记是否代表您想要的值（您正在使用`parseDouble`- 所以请确保每个标记都包含一个双精度值。最简单的方法将只是用`try/catch`和 catch包围你的转换`NumberFormatException`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:05:12.573

你需要`:`像`startTime`这样逃跑`startTime.split("\\:");`

```
// error may lie here, you will get exception when user enters string which does not contain :
String [] tokens = startTime.split(":");     
double starttimeHours = Double.parseDouble(tokens[0]); 
// exception is thrwon from following line as tokens[] contain only one element
double startMinutes = Double.parseDouble(tokens[1]); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T13:01:07.330

问题可能就在这里

```
double starttimeHours = Double.parseDouble(tokens[0]);
double startMinutes = Double.parseDouble(tokens[1]); 
```

确保您的长度`tokens`为 2。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T13:05:45.317

```
String [] tokens = startTime.split(":");
if(tokens.length>2) {
double starttimeHours = Double.parseDouble(tokens[0]);
double startMinutes = Double.parseDouble(tokens[1]); 
```

当**标记的长度小于 2**时，您的代码会**抛出 indexoutofbound**。

 *** * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-18T13:23:14.933

`06`是 Java 中的[八进制文字](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)，这就是`09`错误的原因。`09.0`是双倍的，但由于这不是你得到的原因`ArrayIndexOutOfBoundsException`，当然你仍然会得到它。请参阅其他答案。**

# sql - 计算 SQL 结果

> ID：12477569
> 
> 赞同：0
> 
> 时间：2012-09-18T13:00:05.583
> 
> 标签：sql, select, group-by

我选择数据`group by`

```
select rkey from asset group by rkey 
```

这会给我：

```
 ADATUM 
 BEZ1
 KLASSE
 AWERT
 ANLNR
 LOCATION
 BEZ2
 BKRS
 UNR 
```

现在，我如何计算结果，以便得到 (9)。如果它有效，在一个 SELECT 语句中。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T13:00:52.667

```
SELECT COUNT(rkey)
FROM
(
  select rkey from asset group by rkey
) t 
```

或者，您可以摆脱`GROUP BY`并`DISTINCT`改用，因为内部查询`select rkey from asset group by rkey`的行为类似于`DISTINCT`. 因此，您可以在一个查询中完成：

```
SELECT COUNT(DISTINCT rkey) 
FROM asset 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:03:48.450

你可以尝试使用`distinct`

```
select count(distinct rkey) 
from asset 
```

# objective-c - 对象为零，除非我添加另一行“随机”代码

> ID：12477570
> 
> 赞同：0
> 
> 时间：2012-09-18T13:00:09.797
> 
> 标签：objective-c, ios, xcode, core-data, null

我想我可能要疯了。在以下方法中，返回值 _persistentStoreCoordinator 为 nil **，除非**我添加另一行代码。检查`_persistentStoreCoordinator == nil`足以确保它不是。（NSLog 语句也可以解决问题。）

如果我不添加另一行，则 _persistentStoreCoordinator 在方法的最后一行中为零，即使使用断点检查它时`psc`始终为非零。

最奇怪（或者也许最有帮助？）的事情是当问题开始时我没有对这个类做任何改变。

非常感谢任何帮助或解释！

```
- (NSPersistentStoreCoordinator *)persistentStoreCoordinator {
    if (_persistentStoreCoordinator == nil) {
        NSLog(@"SQLITE STORE PATH: %@", [self pathToLocalStore]);
        NSURL *storeURL = [NSURL fileURLWithPath:[self pathToLocalStore]];
        NSPersistentStoreCoordinator *psc = [[NSPersistentStoreCoordinator alloc]
                                             initWithManagedObjectModel:[self managedObjectModel]];
        NSDictionary *options = [NSDictionary dictionaryWithObjectsAndKeys:
                                 [NSNumber numberWithBool:YES], NSMigratePersistentStoresAutomaticallyOption,
                                 [NSNumber numberWithBool:YES], NSInferMappingModelAutomaticallyOption, nil];
        NSError *e = nil;
        if (![psc addPersistentStoreWithType:NSSQLiteStoreType
                               configuration:nil
                                         URL:storeURL
                                     options:options
                                       error:&e]) {
            NSDictionary *userInfo = [NSDictionary dictionaryWithObject:e forKey:NSUnderlyingErrorKey];
            NSString *reason = @"Could not create persistent store.";
            NSException *exc = [NSException exceptionWithName:NSInternalInconsistencyException
                                                       reason:reason
                                                     userInfo:userInfo];
            @throw exc;
        }

        _persistentStoreCoordinator = psc;
        if (_persistentStoreCoordinator == nil)
        {
            NSLog(@"We never reach here.");
        }
    }

    return _persistentStoreCoordinator;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T00:58:07.640

在重新检查我的 .h 文件后，我发现我正在维护对 _persistantStoreCoordinator 的弱引用。

```
@property (weak, nonatomic, readonly) NSPersistentStoreCoordinator *persistentStoreCoordinator; 
```

果然，改引用强固定的东西。

# sharepoint - 在 Sharepoint 上打开 PowerPivot 工作簿时出现“发生错误”

> ID：12477571
> 
> 赞同：1
> 
> 时间：2012-09-18T13:00:11.917
> 
> 标签：sharepoint, excel-2010, powerpivot

一开始我想说我是 Sharepoint 和 PowerPivot 的新手。我创建了 powerPivot 工作簿并上传到 Sharepoint PowerPivot Gallery。我还创建了数据刷新计划。但是当我尝试打开上传的工作簿时出现错误：

*发生了错误。请稍后再试。*

当我检查刷新计划状态时，有“成功”但我无法打开工作簿。有谁知道问题的原因是什么以及如何解决？

先感谢您。康拉德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T20:09:59.917

当一个或多个页面上的计算遇到错误时，可能会发生这种情况。尝试查看每个页面，包括隐藏页面，以查看数据透视表中是否存在任何计算错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T13:59:54.340

我在管理中心创建了 PowerPivot 库站点，但我无权在 CA 上使用 excel 应用程序服务。这就是为什么我无法打开工作簿的原因。

# linux - 安装了 G++ 的 Linux 发行版

> ID：12477573
> 
> 赞同：2
> 
> 时间：2012-09-18T13:00:13.913
> 
> 标签：linux, ubuntu, compiler-construction, g++, offline

我在离线机器上运行 Ubuntu 发行版时有点噩梦。任何人都可以建议使用 G++（或构建基本 ubuntu 包的内容）作为标准的 Linux 发行版吗？

尝试单独下载所有依赖项绝对是一场噩梦，而且我根本无法使用 Keryx。许多人已经注意到 Ubuntu 安装 CD 上提供了 build-essential 软件包，但我在 12.04 安装 CD 上找不到它，使用

`sudo apt-get install build-essential`

对于那些试图结束这个问题的人：这是与编程相关的，我试图掌握 g++ - 属于工具。

# jsf-2 - 获取JSF2复合组件父级的clientId

> ID：12477578
> 
> 赞同：1
> 
> 时间：2012-09-18T13:00:28.220
> 
> 标签：jsf-2, composite-component

我有以下代码：

```
<h:dataTable id="dt" value="#{somelist}" var="entry">
    <h:column>
        #{entry.title}
    </h:column>
    <h:column>
        <h:commandLink id="lnk">
           <mycomp:doSomething id="dummy" />
        </h:commandLink>
    </h:column>
</h:dataTable> 
```

我的复合组件 (mycomp:doSomething) 如下所示：

```
<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:composite="http://java.sun.com/jsf/composite">

    <composite:interface>
    </composite:interface>

    <composite:implementation >     
        <script type="text/javascript">
            // #{component.parent.clientId}
        </script>        
    </composite:implementation>
</html> 
```

我希望输出 ( `#{component.parent.clientId}`) 与此类似：`dt:0:lnk`但它返回`dt:0:dummy`的是复合组件的客户端 ID。

如何获取真实父标签的 ID？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T17:18:33.487

请改用 #{cc.parent.clientId}。Composite:implementation 中的所有内容都在 UIPanel 中，该 UIPanel 位于复合组件基础实例（通常是 NamingContainer）内的 facelet 上。

**更新：**检查代码， cc.parent 解析父复合组件而不是直接父级。这似乎是一个旧的实现细节，但规范中没有提到。此答案中提出的解决方案不起作用:(。

见[http://lists.jboss.org/pipermail/jsr-314-open-mirror/2010-February/002474.html](http://lists.jboss.org/pipermail/jsr-314-open-mirror/2010-February/002474.html)

您可以绕过 cc.parent 的解析，提供自定义组件类扩展 UINamingContainer 并添加以下内容：

```
<composite:interface componentType="my.custom.ComponentBaseClass"> 
```

然后添加一个像

```
public UIComponent getImmediateParent()
{
     return getParent();
} 
```

最后使用#{cc.immediateParent.clientId}。它应该以这种方式工作。

# java - 使用 swing 组件在框架中打开文本文件

> ID：12477579
> 
> 赞同：1
> 
> 时间：2012-09-18T13:00:34.977
> 
> 标签：java, swing, user-interface

我想使用摆动组件在框架中打开一个文本文件，最好使用突出显示功能。我在第一帧的文本文件中获取文本文件的名称，并想在第二帧中打开文本文件。我的代码是

* * *

```
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class FirstGUI extends JFrame {

private JLabel label;
private JTextField textfield;
private JButton button;

public FirstGUI() {
    setLayout(new FlowLayout());

    label = new JLabel("Enter the file path:");
    add(label);

    textfield = new JTextField();
    add(textfield);

    button = new JButton("Open");
    add(button);

    AnyClass ob = new AnyClass();
    button.addActionListener(ob);
}

public class AnyClass implements ActionListener {
    public void actionPerformed(ActionEvent obj) {
        //SecondGUI s =new SecondGUI();
        //s.setVisible(true);
    }
}

public static void main(String[] args) {

    FirstGUI obj= new FirstGUI();
    obj.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    obj.setSize(600,600);
    obj.setLocation(100,100);
    obj.setVisible(true);
}
} 
```

* * *

我应该在第二帧中使用什么摆动组件来打开其中的文本文件？如果可能，请提供代码大纲！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T15:35:47.133

扩展 mKorbel 和 Dans 的答案：

那么你可以使用`JTextArea`这样的：

![在此处输入图像描述](../Images/ebc0018a0e360bc43208575676eeeeb5.png)

```
import java.awt.BorderLayout;
import java.awt.Color;
import java.lang.reflect.InvocationTargetException;
import javax.swing.JFrame;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.SwingUtilities;
import javax.swing.text.*;

public class LineHighlightPainter {

    String revisedText = "Hello, World! ";
    String token = "Hello";

    public static void main(String args[]) {
        try {
            SwingUtilities.invokeAndWait(new Runnable() {

                @Override
                public void run() {
                    new LineHighlightPainter().createAndShowGUI();
                }
            });
        } catch (InterruptedException | InvocationTargetException ex) {
            ex.printStackTrace();
        }
    }

    public void createAndShowGUI() {
        JFrame frame = new JFrame("LineHighlightPainter demo");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        JTextArea area = new JTextArea(9, 45);
        area.setLineWrap(true);
        area.setWrapStyleWord(true);
        area.setText(revisedText);

        // Highlighting part of the text in the instance of JTextArea
        // based on token.
        highlight(area, token);

        frame.getContentPane().add(new JScrollPane(area), BorderLayout.CENTER);
        frame.pack();
        frame.setVisible(true);
    }

    // Creates highlights around all occurrences of pattern in textComp
    public void highlight(JTextComponent textComp, String pattern) {
        // First remove all old highlights
        removeHighlights(textComp);

        try {
            Highlighter hilite = textComp.getHighlighter();
            Document doc = textComp.getDocument();
            String text = doc.getText(0, doc.getLength());

            int pos = 0;
            // Search for pattern
            while ((pos = text.indexOf(pattern, pos)) >= 0) {
                // Create highlighter using private painter and apply around pattern
                hilite.addHighlight(pos, pos + pattern.length(), myHighlightPainter);
                pos += pattern.length();
            }

        } catch (BadLocationException e) {
            e.printStackTrace();
        }
    }

    // Removes only our private highlights
    public void removeHighlights(JTextComponent textComp) {
        Highlighter hilite = textComp.getHighlighter();
        Highlighter.Highlight[] hilites = hilite.getHighlights();

        for (int i = 0; i < hilites.length; i++) {
            if (hilites[i].getPainter() instanceof MyHighlightPainter) {
                hilite.removeHighlight(hilites[i]);
            }
        }
    }
    // An instance of the private subclass of the default highlight painter
    Highlighter.HighlightPainter myHighlightPainter = new MyHighlightPainter(Color.red);

    // A private subclass of the default highlight painter
    class MyHighlightPainter
            extends DefaultHighlighter.DefaultHighlightPainter {

        public MyHighlightPainter(Color color) {
            super(color);
        }
    }
} 
```

或者使用 a[`JTextPane`](http://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html)并且可以通过以下方式突出显示文本：

1) 在文档级别更改任意文本部分的任何样式属性，例如：

```
SimpleAttributeSet sas = new SimpleAttributeSet();
StyleConstants.setForeground(sas, Color.YELLOW);
doc.setCharacterAttributes(start, length, sas, false); 
```

2）通过文本窗格级别的荧光笔突出显示：

```
DefaultHighlighter.DefaultHighlightPainter highlightPainter = new DefaultHighlighter.DefaultHighlightPainter(Color.YELLOW);
textPane.getHighlighter().addHighlight(startPos, endPos,highlightPainter); 
```

**参考：**

*   [在java中突出显示文本](https://stackoverflow.com/questions/6530105/highlighting-text-in-java)
*   [JTextPane 突出显示文本](https://stackoverflow.com/questions/5674128/jtextpane-highlight-text)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T13:02:59.467

最简单的选择是`JTextArea`.

另一个更好的选择是`JEditorPane`.

您可以查看[此文](http://docs.oracle.com/javase/tutorial/uiswing/components/text.html)本组件教程，以更好地理解它们并选择您需要的最佳组件。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-18T13:03:23.757

看看

*   [JFileChooser](http://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html)

*   [JTextComponent#read()](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-18T13:04:17.440

JtextArea 文本

文件输入流 myFIS；

objectInputStream myOIS(myFIS);

数据 = myOIS.read();

text.setText(数据);

这应该给你一些想法去哪里。不要忘记使用文件位置设置文件输入流，以便它知道要打开哪个文件。然后 ObjectInputStream 将获取数据并将信息保存到一个名为 Data 的字段中。然后将 textArea 设置为使用 Data 作为信息来“设置”要显示的 textArea。

注意：ObjectInputStream 不是唯一可用的输入流。您将不得不使用与您的文件相关的输入流。

# c# - 从pdf读取证书

> ID：12477580
> 
> 赞同：4
> 
> 时间：2012-09-18T13:00:39.860
> 
> 标签：c#, pdf, itextsharp, x509certificate

我正在使用 ITextSharp 从数字签名的 pdf 文档中读取证书信息。

该类`ITextSharp.Text.Pdf.PdfPKCS7`公开了三个属性：

*   `Certificates`（作为列表）
*   `SignCertificate`（作为单个对象）
*   `SignCertificateChain`（作为列表）

如何结合这三个属性以获取有关单个证书的所有信息？

我将能够显示所有证书路径（所有嵌套证书）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T14:32:11.857

`Certificates`不按特定顺序为您提供列表，包括未用于主签名的证书。

`SignCertificate`为您提供实际签名者的证书。

`SignCertificateChain`为您提供列表，其中第一个 Certificate 是 SignCertificate，下一个是颁发 SignCertificate 的实例的证书，下一个是颁发前一个证书的实例的证书，依此类推。这可以返回比 更少的证书`Certificates`，因为只会返回用于主签名的证书。

所以你不需要“组合”属性来显示证书路径，你只需要 SignCertificateChain。请注意，您的问题并不完全清楚：

> *'关于单个*证书的所有信息'

有点矛盾

> '显示*所有*证书路径（所有嵌套证书）'

如果要可视化生成签名证书的链，则需要查看多个证书（除非证书是自签名的，在这种情况下，链中只有一个元素）。

# redis - ServiceStack中RedisClient的Eval/Lua操作的使用？

> ID：12477586
> 
> 赞同：2
> 
> 时间：2012-09-18T13:01:02.993
> 
> 标签：redis, servicestack

我有一个实体

> 公共课本
> 
> {
> 
> 公共长 ID { 获取；放; }
> 
> 公共字符串书名 { 获取；放; }
> 
> 公共 int ISBN { 获取；放; }
> 
> 公共字符串作者 { 获取；放; }
> 
> }

我想根据非关键字段*作者*过滤记录，例如：

select * from Book where Author = 'Jones'

我不想通过“GetAll”函数获取所有记录，然后对该列表执行过滤。

我听说 IRedisClient 接口中的 Eval/Lua 操作名为，

**string GetEvalStr(string body, int numOfArgs, params string[] args);**

**int GetEvalInt(string body, int numOfArgs, params string[] args);**

**List GetEvalMultiData(string body, int numOfArgs, params string[] args);**

但我不知道如何在我的情况下使用这些功能。

谁能帮我？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T22:09:45.093

Eval 无济于事，您仍然必须获取所有记录并遍历它们（只是使用不同的语言）。在您的情况下，我会说几乎没有选择：如果您需要按作者查找书籍，则应该为每个作者维护一个包含其书籍 ID 的集合。

这确实意味着数据将被复制，但这是在非关系数据存储中建立关系的唯一方法。

# xpath - 是否可以通过 xpath 获取锚值？

> ID：12477587
> 
> 赞同：0
> 
> 时间：2012-09-18T13:01:04.073
> 
> 标签：xpath, http-unit

在我的锚标签中，我没有任何 id。但是我需要在 Httpunit 中获取该值才能单击。

这是锚标记：

```
<a href="#">Continue</a> 
```

请让我清楚地知道。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T23:08:09.740

您会在 WebResponse.getLinks ... 提供的链接中找到锚点。

WebResponse page=wc.getResponse( ... .. page.getLinks() ...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:46:11.227

你实际上可以得到这个

```
//a[contains(.,'Continue')]

//a[starts-with(.,'Continue')]

//a[not(@id)]

//a[contains(@href,'#')] 
```

随你喜欢

我建议你看看[w3schools](http://www.w3schools.com/)

在问一些非常基本的问题之前谷歌一下。

# matlab - 更改 Matlab 方法属性

> ID：12477598
> 
> 赞同：1
> 
> 时间：2012-09-18T13:01:49.997
> 
> 标签：matlab, methods, attributes, metaclass

我正在尝试创建一个 Matlab 类，其中方法属性在类构造函数中进行了更改。这样做的目的是隐藏/使某些方法可见，具体取决于类输入。

例如：

```
classdef  (HandleCompatible) myClass < dynamicprops & handle % & hgsetget
properties (Hidden)
    myProp
end
methods (Hidden)
    function obj = myClass(input)
        %class constructor
        %add some dynamic properties
        switch input
            case 1
                %unknown code:
                %make myMethod1 visible
            case 2

                %unknown code:
                %make myMethod2 visible
            otherwise
                %unknown code:
                %make myMethod1 visible
                %make myMethod2 visible
        end
    end
end

methods (Hidden)
    function myMethod1 (obj, input)
        %function...
    end
    function output = myMethod2(obj, input)
        %function...
    end
end
end 
```

我尝试使用以下内容：

```
mco = metaclass(obj);
mlist = mco.MethodList;
mlist(myMethod1Index).Hidden = false; 
```

，但我收到以下错误：

> 不允许设置“meta.method”类的“隐藏”属性。

* * *

感谢你的回复。

如果我需要在类构造函数中选择性地访问我的方法，这可能是一个解决方案。不过，我需要在我的程序中使用这些方法，并在选项卡完成时让它们可见或不可见：

```
%Obj1
myObj1 = myClass (inputs, '-1');
myObj1.myMethod1(arg);
%myObj1.myMethod2 - hidden

%Obj2
myObj2 = myClass (inputs, '1');
%myObj2.myMethod1 - hidden
value1 = myObj2.myMethod2(arg);

%Obj3
myObj3 = myClass (inputs, '0');
myObj3.myMethod1(arg);
value2 = myObj3.myMethod2(arg); 
%here i want to be able to access both methods 
```

也许可以在类构造函数期间选择方法属性并更改属性。但这必须在不使用元类的情况下完成

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T15:22:50.647

Why not expose only a factory method and build instances of different classes depending on the input? You can use access qualifiers to lock things down like so:

```
% a.m
classdef a
    properties, a_thing, end
    methods ( Access = ?factory )
        function obj = a()
        end
    end
end

% b.m
classdef b
    properties, b_thing, end
    methods ( Access = ?factory )
        function obj = b()
        end
    end
end

% factory.m
classdef factory
    methods ( Static )
        function val = build(arg)
            if isequal(arg, 'a')
                val = a;
            else
                val = b;
            end
        end
    end
 end 
```

# uitableview - 核心数据多线程问题

> ID：12477603
> 
> 赞同：1
> 
> 时间：2012-09-18T13:02:04.600
> 
> 标签：uitableview, core-data, nsfetchedresultscontroller

我在核心数据方面遇到了一些问题，我想我遗漏了一些东西，我需要一些帮助。

我已经实现了一个简单的表视图，它使用获取的结果控制器从核心数据中加载一些对象。我启用了“编辑”方法来删除一行，并且成功地删除了核心数据中的相关对象。问题是：如果我退出表格视图，然后再次加载（在模拟器中）3-4 秒，删除的行仍然存在。如果在 3-4 秒后加载表格视图，则项目列表是正确的。

这对我来说意味着核心数据在保存前等待 3-4 秒，如果我在这段时间内获取数据，我会得到错误的结果。这可能吗？

# php - Phar 归档和存根文件的使用

> ID：12477608
> 
> 赞同：4
> 
> 时间：2012-09-18T13:02:21.230
> 
> 标签：php, deployment, stub, phar

我尝试根据命令定义部署过程：

```
php <phar_file_deployed_on_server>.phar 
```

此命令在 phar 存档外部生成一个 index.php 文件。

index.php 文件将充当 phar 存档中 N-file.php 的“瘦”调度程序。

生成的 index.php 文件示例：

```
<?

$requiredFile = "phar://<phar_file_deployed_on_server>.phar";

/**
 * For example index.php can check $_GET array and dispatch 
 * to file inside Phar archive.
 **/
if (array_key_exists("getParameter", $_GET))
    $requiredFile = $requiredFile . "/" . $_GET['getParameter'] . ".php";
else
    <handling_of_else_condition>;

require_once $requiredFile;

__HALT_COMPILER();

?> 
```

**上述不屑一顾的规则就是一个例子。**

我的想法是针对简单的部署过程。该示例提供了检查 $_GET 数组，但在部署期间可能会生成更复杂的规则（例如，通过命令行参数）。

> 我创建了一个 PHP Web 应用程序并将其压缩为 Phar 格式以便于部署。
> 
> 该应用程序可以在生产机器上执行而无需解压缩，因为我已经计划了一个`index.php`链接到 Phar 存档中的应用程序的文件。
> 
> 要在部署期间生成`index.php`文件，需要在生产机器 shell 中启动以下命令：
> 
> ```
> php <just_deployed_phar_file> 
> ```
> 
> 存根文件中的代码`index.php`以引用刚刚安装的 Phar 存档的方式生成文件。
> 
> 这是使用存根文件的正确方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T06:24:11.980

您可以使用存根文件来做任何您想做的事情。当执行 phar 时（使用 php xxx.phar） 如果我的问题是正确的，那么您计划将您的 phar 文件用作整个应用程序的安装程序。它安装 index.php，然后使用 phar 加载您的应用程序。这会做它的工作，但有一个更好的方法：

我认为您正在搜索[webPhar](http://php.net/manual/en/phar.webphar.php)，它就像您的应用程序的前端控制器。如果您在 phar 的存根中使用 webPhar()，则来自您的网络服务器的请求将被路由到您的 phar。

# c# - 找不到类型“Track_Attack.TAGeneric”的构造函数。C# Winforms

> ID：12477615
> 
> 赞同：4
> 
> 时间：2012-09-18T13:03:06.380
> 
> 标签：c#, winforms, visual-studio-2010

我在 Visual Studio 2010 中收到一条警告消息（标题中的那个）

基本上，我已经制作了一个具有一堆变量、虚函数的通用表单。

它将我创建的类作为参数并将其分配给局部变量（然后使用 getter 和 setter 作为属性）

然后我制作了另一个继承自这个表单的表单。一切都很好，它可以运行，但是当我尝试查看它的设计者时，我收到了该错误消息。

```
 public TAGeneric(TAManager iManager)
    {
        ControlHelper.SuspendDrawing(this);

        mManager = iManager;

        SetStyle(ControlStyles.OptimizedDoubleBuffer |
            ControlStyles.UserPaint |
            ControlStyles.AllPaintingInWmPaint, true);

        InitializeComponent();
        SetupCommandBar();
        ControlHelper.ResumeDrawing(this);
    } 
```

那是父母。

```
 public TAAddInterval(TAManager iManager) : base(iManager)
    {
        InitializeComponent();
    } 
```

这是一个孩子。忘记我正在使用“经理”这一事实，当它被皱眉时。有人对这个问题有所了解吗？从字面上看，运行良好，但是当试图在设计器中编辑图形端时，它不会加载它。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-18T13:04:56.300

我怀疑您需要提供一个无参数的构造函数供设计师使用：

```
public TAAddInterval(TAManager iManager) : base(iManager)
{
    InitializeComponent();
}

[Obsolete("This constructor only exists for the benefit of the designer...")]
public TAAddInterval() : this(null)
{
} 
```

如果你有某种假货，你可以提供，如果设计师碰巧碰到了一些使用管理器的代码`TAManager`，那可能会避免被抛出。`NullReferenceException`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T13:05:41.557

您可能只需要一个无参数的构造函数，设计器就可以正常工作。

# c# - 为什么 .NET 不能在这段代码中“序列化”我的 javascript？

> ID：12477625
> 
> 赞同：0
> 
> 时间：2012-09-18T13:03:55.073
> 
> 标签：c#, .net

我将这个 Javascript 对象发送到网络服务：

```
list [Object { id="6605", ordine=1 }, Object { id="6602", ordine=2}] 
```

在网络服务上，我尝试浏览此列表：

```
[WebMethod(EnableSession = true)]
public string UpdateOrdineFoto(MyObjects[] list)
{
    string tmp = "";
    foreach (MyObject obj in list)
    {
        tmp += obj.IDFoto + " - " + obj.OrdineFoto + " - ";
    }

    return tmp;
} 
```

但在客户端，当我打印字符串时，它写道：`0 - 0 - 0 - 0 -`

我哪里错了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:09:50.883

我想你需要

```
tmp += obj.id+ " - " + obj.ordine+ " - "; 
```

# apache - mod_fcgid：ap_pass_brigade 在 handle_request 函数中失败

> ID：12477627
> 
> 赞同：6
> 
> 时间：2012-09-18T13:04:00.543
> 
> 标签：apache, fastcgi

我不断在错误日志中收到警告：

```
(103)Software caused connection abort: mod_fcgid: ap_pass_brigade failed in handle_request function 
```

这是我的 fcgid.conf

```
<IfModule mod_fcgid.c>
SocketPath /var/lib/httpd/fcgid/sock
IdleTimeout 200
IdleScanInterval 200
ProcessLifeTime 1000
MaxProcessCount 1000
DefaultMinClassProcessCount 3
DefaultMaxClassProcessCount 100
IPCConnectTimeout 8
IPCCommTimeout 200
BusyTimeout 300
</IfModule> 
```

服务器偶尔会出现 500 错误，然后会很快出现一段时间，然后再出现 500 错误……有没有办法阻止这种情况发生？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-02T07:39:50.373

默认情况下，FastCGI 进程在 500 个请求后退出。您可以提高 PHP_FCGI_MAX_REQUESTS（在包装器中）或将 FcgidMaxRequestsPerProcess 限制为 500。

请参阅[http://httpd.apache.org/mod_fcgid/mod/mod_fcgid.html#examples“PHP](http://httpd.apache.org/mod_fcgid/mod/mod_fcgid.html#examples)特殊注意事项”

# triggers - 您如何识别与 informix 数据库中的表关联的触发器？

> ID：12477628
> 
> 赞同：4
> 
> 时间：2012-09-18T13:03:59.763
> 
> 标签：triggers, informix

我们如何识别与 Informix 数据库中的表关联的触发器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-25T08:23:51.697

```
 select tabname,a.* from systriggers a, systables b
where a.tabid=b.tabid and tabname="TableName" 
```

或者

```
dbschema -d db -t tablename 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T14:47:50.657

信息位于`SysTriggers`和`SysTrigBody`系统目录表中 — 主要是`SysTriggers`. 您可以在 Informix Guide to SQL: Reference 手册中找到这些（以及所有其他系统目录表）的描述。您可以在[Informix 11.70 信息中心](https://www.ibm.com/support/knowledgecenter/SSGU8G_11.70.0/com.ibm.welcome.doc/welcome.htm)找到它。特别是，`tabid`（来自 SysTables）标识`SysTriggers`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-19T06:18:03.930

正如乔纳森回答的那样，您可以使用`systriggers`其他系统目录表。我在我的模式报告实用程序中使用了它们：http: [//code.activestate.com/recipes/576621-dump-informix-schema-to-text/](http://code.activestate.com/recipes/576621-dump-informix-schema-to-text/)

此实用程序可以与 Python 和 ODBC 或 Jython 和 JDBC 一起使用。它显示有关每个表的触发器的信息，例如：

```
--- triggers ---
defbookacc  defbookacc_dtrg D
defbookacc  defbookacc_itrg I
defbookacc  defbookacc_utrg U
mc_loadman  loadman_del D 
```

然后显示每个触发器的主体。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-22T14:28:44.607

```
--OBTIENE LOS TRIGGERS DE LA TABLA:
SELECT T.tabid, TRIM(T.owner) owner, T.tabname, TR.trigid, TRIM(TR.owner) tr_owner, TR.trigname, TR.event, TR.old, TR.new, TR.mode, TRIM(TR.collation) collation,
TB.datakey, TB.seqno, TB.data
FROM systables T, systriggers TR, systrigbody TB
WHERE T.tabname = 'table_name' AND TR.tabid = T.tabid AND TB.trigid = TR.trigid AND TB.datakey IN ('D', 'A')
ORDER BY TB.trigid, TB.datakey DESC, TB.seqno ASC; 
```

--Event：触发事件的类型：D = 删除触发器，I = 插入触发器，U = 更新触发器，S = 选择触发器，d = INSTEAD OF 删除触发器，i = INSTEAD OF 插入触发器，u = INSTEAD OF 更新触发器（身份识别系统）

--Old：更新前的值的名称。

--New：更新后的值的名称。

--DataKey：指定数据类型的代码：A = 正文的 ASCII 文本，触发操作，B = 正文的线性化代码，D = 标题的英文文本，触发器定义，H = 标题的线性化代码，S = 符号表的线性化代码。

# c - 如何根据传感器读数动态打印字符串

> ID：12477629
> 
> 赞同：-3
> 
> 时间：2012-09-18T13:04:06.300
> 
> 标签：c, string, io, char

在我的程序中，我只是从传感器读取风向。我无法打印出英文版的方向。基本算法是这样的：

（值以度为单位，从结构中读取）

```
string direction;  (I know you have to create a char array, just not sure how)

if(sensor.windir > 11 && sensor.windspeed < 34)
 {
 direction = "NNE";
 }

  if(sensor.windir > 34 && sensor.windspeed < 57)
 {
 direction = "NE";
 }

  .....

 printf(" Current windir is %s\n", direction); 
```

我对 C 语言生疏了，需要复习一下如何根据“if”语句中定义的值范围来打印风向字符串。我的字符串中不需要超过 3 个字符。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T13:08:58.527

首先，您应该包括`string.h`使用该`strcpy`功能：

`#include <string.h>`

您可以像这样声明 char 数组：

```
char direction[4]; //4 char array (4th is the NULL string terminator) 
```

而不是`direction = "NE";`你`direction = "NNE";`应该使用`strcpy`：

```
strcpy(direction, "NE");
strcpy(direction, "NNE"); 
```

所以你的程序看起来像这样：

```
#include <string.h>

char direction[4];

if(sensor.windspeed > 11 && sensor.windspeed < 34)
{
    strcpy(direction, "NNE");
}

if(sensor.windspeed > 34 && sensor.windspeed < 57)
{
     strcpy(direction, "NE");
}
printf("%s", direction); 
```

如果你想潜在地节省一个字节的内存，你可以动态地做到这一点：

```
#include <string.h>

char *direction;

if(sensor.windspeed > 11 && sensor.windspeed < 34)
{
    if(!(direction = malloc(4)))  //4 for NULL string terminator
    {
        /*allocation failed*/
    }
    strcpy(direction, "NNE");
}

if(sensor.windspeed > 34 && sensor.windspeed < 57)
{
     if(!(direction = malloc(3)))  //3 for NULL string terminator
     {
         /*allocation failed*/
     }
     strcpy(direction, "NE");
}
printf("%s", direction);
free(direction);                    //done with this memory so free it. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T14:49:20.167

很难理解你在问什么，而且你的逻辑在数学/地理上似乎并不准确。先决条件似乎是：

*   你有一个从传感器读取的*角度，0-360 度。*
*   你想打印这个角度的方向，直东是角度 0。
*   [指南针](http://en.wikipedia.org/wiki/File%3aCompass_Rose_English_East.svg)的方向是（逆时针）E、ENE、NE、NNE、N 等。
*   总而言之，罗盘上有 16 个这样的方向。因此，我们需要将 360 度分成 16 个不同的方向。不幸的是，360/16 = 22.5，不是偶数。
*   由于 360/16 不是偶数，我们要么必须使用浮点类型，要么在 CPU 受限的低端嵌入式系统的情况下，很可能是这里的情况，将所有整数乘以 10。

如果上述假设是正确的，那么您可以执行以下操作：

```
const char* DIRECTION [16] =
{
  "E",
  "ENE",
  "NE",
  "NNE",
  "N",
  "NNW",
  "NW",
  "WNW",
  "W",
  "WSW",
  "SW",
  "SSW",
  "S",
  "SSE",
  "SE",
  "ESE"
};

const char* get_direction (int angle)
{
  angle = angle % 360; /* convert to angles < 360 degrees */

  /* Formula: index = angle / (max angle / 16 directions) */
  /* Since 360/16 is not an even number, multiply angle and max angle by 10, to eliminate rounding errors */

  int index = angle*10 / (3600/16);

  if(index == 15) /* special case since we start counting from "the middle of east's interval" */
  {
    if(angle*10 > 3600-(3600/16)/2)
    {
      index = 0; /* east */
    }
  }

  return DIRECTION [index];
}

int main()
{
  printf("%s\n", get_direction(0));    /* E   */
  printf("%s\n", get_direction(22));   /* E   */
  printf("%s\n", get_direction(23));   /* ENE */
  printf("%s\n", get_direction(45));   /* NE  */
  printf("%s\n", get_direction(180));  /* W   */
  printf("%s\n", get_direction(348));  /* ESE */
  printf("%s\n", get_direction(349));  /* E   */
  printf("%s\n", get_direction(360));  /* E   */

  getchar();
} 
```

与检查每个间隔相比，这样做的优点是执行时间是确定的，并且与巨大的 switch-case 相比，分支预测更少。

**请注意**，浮点数将使代码更具可读性，如果您有该选项，则应使用该选项。但我假设这是一个低端嵌入式系统，即 8 位或 16 位 MCU 应用程序。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T13:20:18.233

对于您手头的问题，以下将做：

```
char const * s = "[error]";

if (speed => 1 && speed < 13)       { s = "NW"; }
else if (speed >= 13 && speed < 27) { s = "NE"; }
else if (speed >= 27 && speed < 39) { s = "NS"; }

printf("The direction is %s.\n", s); 
```

这仅适用于编译时常量字符串文字。

如果您需要创建动态字符串，则需要创建一个`char`数组（如`char buf[1024];`）并使用类似的东西`snprintf`用字符串填充它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-18T13:21:17.430

您必须添加到您的代码中：

```
#include <string.h> 
```

...

```
char direction[4]; 
```

...

```
strcpy (direction, "NNE"); 
```

# microsoft-metro - 呼叫连接时提醒用户（跟踪） - Win8 Metro 风格

> ID：12477632
> 
> 赞同：-1
> 
> 时间：2012-09-18T13:04:17.313
> 
> 标签：microsoft-metro, windows-runtime

我刚刚开始使用**Win 8 Metro 风格的应用程序**开发。

有没有办法跟踪拨出电话何时连接？

**一旦建立连接，**我想提醒用户（可能是手机振动） 。

请给我一些提示来完成同样的事情。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T15:31:19.440

如果您谈论的是简单的电话，那么没有。所有与通话相关的活动都由系统处理，您的应用无法控制它，因此不需要通知它。如果您从您的应用程序发起呼叫任务，应用程序将进入后台，并由系统接管处理呼叫。这与以前的 Windows Phone 版本中的行为相同。

# jquery - flexigrid - 如何更改 colmodel

> ID：12477643
> 
> 赞同：1
> 
> 时间：2012-09-18T13:04:33.870
> 
> 标签：jquery, ajax, json, flexigrid

我正在使用 flexigrid 通过 ajax 显示来自服务器的一些数据。问题是我无法事先知道要显示哪些列。

如何根据检索到的数据设置 colModel？

在 ajax 文件中，我向 json 添加了一个“cols”键，用于枚举 row.cell 键中的列：

```
{
    "page": "1",
    "total": 1,
    "rows": [
        {
            "id": "1",
            "cell": {
                "id": "1",
                "name": "Some data"
            }
        }
    ],
    "cols": [
        "id",
        "name"
    ]
} 
```

在 populate() 我这样做：

```
//ajax success
p.colModel = {};
var colModelItem = new Array();
for(var col in data.cols)
{
        colModelItem.push({
                "display": data.cols[col],
                "name": data.cols[col],
                "width": 80,
                "sortable": true,
                "align": "center"
                });
}
p.colModel = colModelItem;

//g.addData(data); 
```

之后，我尝试使用创建标头的功能，但没有成功。

有任何想法吗？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T23:10:38.107

我遇到了同样的问题，动态列，我用一种解决方法解决了：

创建一个包装器 div，如下所示：

```
 $("#searchResults").empty();
    $("#searchResults").append($("<div>").attr("id", "flexiGridHack")); 
```

而不是使用原来的 Div，而是使用新的 Div。

带着敬意，

# cassandra - 当集群中很少有 cassandra 服务器关闭时，phpcassa 出现问题

> ID：12477644
> 
> 赞同：1
> 
> 时间：2012-09-18T13:04:35.007
> 
> 标签：cassandra, phpcassa

当集群中的一些 cassandra 服务器关闭时，phpcassa 需要花费大量时间来响应。

从逻辑上讲，phpcassa 应该连接到正在运行的节点并获取数据，而不是尝试连接到关闭的节点。

有人知道 phpcassa 是如何工作的吗？它在下节点情况下的行为是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-19T11:12:48.760

检查`make_conn`函数[here和](https://github.com/thobbs/phpcassa/blob/master/lib/phpcassa/Connection/ConnectionPool.php#L116)[构造](https://github.com/thobbs/phpcassa/blob/master/lib/phpcassa/Connection/ConnectionPool.php#L109)函数的最后几行`ConnectionPool`

因此，首先 PHPCassa 随机打乱您的服务器列表，然后它尝试在一个周期内连接到列表中的每个服务器两次，只有在第一个周期 [ `make_conn`] 之后队列长度为零时，它才会返回第一次成功的那一刻联系

还要记住，您的`make_conn`函数不是从构造函数中调用的。需要时会调用它。源代码非常简单，您可以通过它来获得更多意义

检查此[代码](https://github.com/thobbs/phpcassa/blob/master/lib/phpcassa/Connection/ConnectionPool.php#L223)[以](https://github.com/thobbs/phpcassa/blob/master/lib/phpcassa/Connection/ConnectionPool.php#L285)查看如何处理连接失败，并了解连接失败的原因

# css - 如何对齐 到一个中心 ?

> ID：12477649
> 
> 赞同：-2
> 
> 时间：2012-09-18T13:04:39.400
> 
> 标签：css, html

我正在使用 HTML/CSS 制作网站，在我的主页上我有一些`<div>`标签内的`<div>`标签。我似乎无法让内部`<div>`标签与外部标签的中心对齐`<div>`。这是我正在使用的 HTML 代码（旁边有星号的是我要对齐的那个）；

```
 <div id="container">
<div align="center" id="box" style="background-color:black;width:375px;height:400px;border:0px solid #003300;">
<h1 id="heading"></h1>
<h2 id="otherheading"></h2>
**<div align="center" id="box" style="background-color:white;width:275px;height:225px;border:0px solid #003300;">**
<ul class="list-tick">
    <li></li>
    <hr>
    <li></li>
    <hr>
    <li></li>
    <hr>
    <li></li>
    <hr>
    <li></li>
</ul>
</div> 
```

这是我的 CSS：

```
#container {
  margin: auto;
  width: 1125px;
}

#container div {
  float: left;
  height: 400px;
  width: 375px;
} 
```

任何帮助将不胜感激。如果您对该问题还有其他疑问，我将尝试更详细地解释。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:10:05.487

删除浮动，并添加这些

```
#container div {
  margin: 0 auto; /* Center Horizontally */
  height: 400px;
  width: 375px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:19:02.580

在 css 中没有完美的方法来居中对齐内容。但是，您可以使用一个小技巧来解决此问题。

你可以在这里看到我的解决方案：http: [//jsfiddle.net/kh7UT/](http://jsfiddle.net/kh7UT/)

Ofc，你不应该有边界，它们在那里很容易展示技巧。这不是最漂亮的标记，但它有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T13:07:02.750

写这个：

```
#box
{
margin-left: auto;
margin-right: auto;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T13:28:52.873

尝试

```
div#box
{
margin-left: auto;
margin-right: auto;
width:275px;
} 
```

将margin-left、margin-right 设置为'auto' 将自动为容器调整左右，即使其居中。

# javascript - 由于 ipad 中的多个框架而导致的性能

> ID：12477652
> 
> 赞同：0
> 
> 时间：2012-09-18T13:04:53.360
> 
> 标签：javascript, iphone, html, performance, ipad

我在我的网络应用程序中添加了 jquery、jquerymobile、less.js、raphel.js 和 google maps api。当用户在 ipads / iphone 中使用它时，它会导致任何性能缺陷吗？

他们不会占用更多的内存吗？

# jquery - Coffeescript 实时切换

> ID：12477656
> 
> 赞同：1
> 
> 时间：2012-09-18T13:05:05.393
> 
> 标签：jquery, coffeescript

如何将其变成实时 jquery 切换（coffeescript）？

```
$('.link').toggle(
  -> $(this).text('less'); $('.entry').css('height', 'auto'),
  -> $(this).text('more'); $('.entry').css('height', '300px')
) 
```

我已经尝试将它包装在一个实时函数中，但它只会触发第一个事件，并且不会切换回来。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:22:27.157

您是否尝试过使用 .on，我假设 .link 是动态插入到 DOM 中的，对吗？

```
var hasToggle = false

$('body').on('click', '.link', (e) ->
  unless hasToggle
    $(@).toggle(
      -> 
        $(@).text('less')
        $('.entry').css('height', 'auto')
      ->
        $(@).text('more')
        $('.entry').css('height', '300px')
    )
  hasToggle = true
) 
```

我认为它不起作用的原因是因为每次您使用 .on 或 .live 单击 .link 时，它都会重新初始化一个新的 .toggle 事件，因此您总是会调用 .toggle 中的第一个函数。如果您为 .toggle 设置一次用户第一次点击它的事件，这可能会解决您的问题。

# ios - 是否有构建 Xcode 4 插件的文档？

> ID：12477660
> 
> 赞同：12
> 
> 时间：2012-09-18T13:05:21.623
> 
> 标签：ios, xcode, cocoa, xcode4

最近我注意到[github](http://github.com)上的几个项目通过插件扩展了 Xcode 4 的功能。

[@olemoritz](http://twitter.com/olemoritz)的两个项目作为示例：

*   [MiniXcode](https://github.com/omz/MiniXcode)更改了主工具栏。
*   [ColorSense](https://github.com/omz/ColorSense-for-Xcode)提供叠加层来帮助挑选颜色。

这两个项目都安装到`~/Library/Application Support/Developer/Shared/Xcode/Plug-ins`Xcode 中，然后将它们拾取。

是否有任何关于扩展 Xcode 的文档来源（官方的或用户生成的）？

**编辑：** [ping @olemortiz](https://twitter.com/sirjec/status/248045497963655168) ;)

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-09-18T13:55:25.863

当我写你提到的那些插件时，这里有一些提示：

*   Apple 没有官方文档，所以虽然 Xcode 确实有一个插件基础设施，但它是完全私有的 API。（但是，嘿，没有人愿意向 App Store 提交 Xcode 插件，对吧？;)） – 通常的警告适用：您应该非常防御性地编码，并且 Xcode 更新可能会破坏事情。任何插件都可以完全关闭 Xcode，所以要小心。

*   [在这里](https://github.com/phausler/XcodeAPI/wiki)记录插件界面似乎已经放弃了。

*   有一些开源项目可以让您查看加载插件所需的内容，例如我的，还有[CLITool-Infoplist](https://github.com/0xced/CLITool-InfoPlist)（我认为这是我从中获得基本结构的地方，但我不记得了，因为我'已经这样做了很长一段时间没有发布任何东西）。

*   您可以使用[class-dump](https://github.com/nygard/class-dump)从 Xcode 的私有框架生成头文件，例如 IDEKit 和 IDEFoundation (in `Xcode.app/Contents/Frameworks`)。阅读这些内容可以让您了解很多关于 Xcode 内部结构的信息。DVTKit 和 DVTFoundation（在 中`Xcode.app/Contents/SharedFrameworks`）对于类转储也很有用。

*   您可以通过注册观察者来观察在 Xcode 中发送的所有通知`nil`。我最初只是记录了所有这些通知，以了解我可以连接到哪里。

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-12T06:27:07.130

没有正式的 API 或文档。

话虽如此，几乎所有社区插件都是开源的，使用[http://alcatraz.io](http://alcatraz.io)发现新插件，然后按照他们的 github 源代码了解人们是如何实现它们的。

以下是一些有用的资源：

*   使用[https://github.com/edwardaux/XcodeExplorer](https://github.com/edwardaux/XcodeExplorer)发现您需要探索的 API 挂钩点。
*   查看[http://www.blackdogfoundry.com/blog/creating-an-xcode4-plugin/](http://www.blackdogfoundry.com/blog/creating-an-xcode4-plugin/)了解有关构建 Xcode 插件的一系列帖子。
*   检查[https://github.com/kattrali/Xcode-Plugin-Template](https://github.com/kattrali/Xcode-Plugin-Template)以获取用于创建新插件的 Xcode 6+ 模板。
*   看看[https://github.com/zats/AdjustFontSize-Xcode-Plugin](https://github.com/zats/AdjustFontSize-Xcode-Plugin)作为一个很好的 Xcode 7.1+ 起点
*   有关调试帮助，请参见[http://www.blackdogfoundry.com/blog/debugging-your-xcode-plugin/](http://www.blackdogfoundry.com/blog/debugging-your-xcode-plugin/)

# java - 获取动态生成的组件 ID 和值

> ID：12477661
> 
> 赞同：0
> 
> 时间：2012-09-18T13:05:25.817
> 
> 标签：java, jsf, jsf-2, facelets, dynamic-forms

我有一个问卷表格，其中组件（问题）都是在我的支持 bean 中以编程方式生成的。

在表单提交事件中，我需要收集所有用户输入并将它们存储在数据库中。

但是 JSF 不能识别动态生成的组件，只能找到我的 Facelets 页面中的组件，它们是我的面板网格和提交按钮。这是我的 submit() 方法。

```
 public boolean submit() {
        UIViewRoot viewRoot = FacesContext.getCurrentInstance().getViewRoot();
        UIComponent formComponent = viewRoot.findComponent("mainForm");  //form id
        HtmlForm form = (HtmlForm)formComponent;
        List<UIComponent> componentList = form.getChildren();
        for(int p=0; p<componentList.size(); p++) {
            UIComponent component = componentList.get(p);
                System.out.println("The Component ID is:"+component.getId());
        }
        return true;
} 
```

那么除了上述方法之外，有谁知道我可以在哪里寻找我的组件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T14:09:18.140

这不是收集提交值的正确方法。

相反，您应该将组件的 value 属性绑定到 bean 属性。例如

```
UIInput input = new HtmlInputText();
input.setId("input1");
input.setValueExpression("value", createValueExpression("#{bean.input1}", String.class));
form.getChildren().add(input); 
```

这样，JSF 只会以通常的方式更新 bean 属性。

```
private String input1; // +getter+setter

public void submit() {
    System.out.println(input1); // Look, JSF has already set it.
} 
```

您可以利用`Map<String, Object>`属性来带来更多动态。

### 也可以看看：

*   [如何创建动态 JSF 表单域](https://stackoverflow.com/questions/3510614/how-to-create-dynamic-jsf-1-2-form-fields/3522489#3522489)

# iphone - 如何确保 iPhone 应用程序无法寻找互联网或 wifi 连接？

> ID：12477663
> 
> 赞同：0
> 
> 时间：2012-09-18T13:05:29.257
> 
> 标签：iphone, html, ios5

我有一个客户政策（医院），出于安全原因，应用程序**不能**寻找互联网或 wifi 连接。

我正在使用 HTML5 和 jQuery。我将在本地文件夹中有 jQuery。

是否有**禁止**（或阻止）iPhone 或应用程序寻找互联网或 wifi 连接的代码？

有没有办法让应用程序用户在 iPhone 打开时从应用程序发送反馈，我假设在医院外面？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:28:32.880

应用程序永远不会自动检查互联网连接的可用性。**仅当我们**（开发人员）强制应用程序执行需要互联网连接的代码时，应用程序才会检查互联网可用性，从而强制它检查互联网连接。

简而言之，如果您创建的应用程序显示带有文本“Hello World”的标签。这将永远不需要互联网，因此它不会检查互联网。

**另一种方法是要求用户从设置中关闭 wifi 和数据使用**

# callback - 如何让 Shopify 重定向到应用程序 URL 的子域？

> ID：12477668
> 
> 赞同：0
> 
> 时间：2012-09-18T13:05:35.860
> 
> 标签：callback, shopify

我开始开发 Shopify 集成。我尝试集成的应用程序的每个用户帐户都有不同的子域，因此需要为每个 oauth 连接请求重定向到不同的回调域。到目前为止，我正在重定向到 Shopify 授权 URL，以允许用户授予对其帐户的访问权限。但是，我收到以下错误响应：

```
{"error":"invalid_request",
 "error_description":"The redirect_uri and application url must have matching hosts"} 
```

URL 的格式为：

```
https://SHOP_NAME.myshopify.com/admin/oauth/authorize?client_id=MY_CLIENT_ID&scope=read_order&redirect_uri=SUBDOMAIN.MYAPP.com 
```

我尝试将应用程序 URL（在 Shopify 的管理页面中设置）设置为所有这些并收到相同的错误：

```
http://MYAPP.com
http://.MYAPP.com
http://*.MYAPP.com 
```

但是，我可以使用它：

```
http://SUBDOMAIN.MYAPP.com 
```

我可以创建一个仅从查询字符串中获取信息并重定向到子域的端点，例如：

```
callback.MYAPP.com?subdomain=SUBDOMAIN 
```

这可以解决这个问题，但我宁愿 Shopify API 支持子域，因为我还想在 Shopify 页面中创建链接到我的应用程序，并且不想继续构建这些间接级别。（虽然，查看应用程序链接的管理页面，看起来我也必须在那里做同样的事情。）

我正在使用非标准 TLD（因为目前正在开发中）。所以我放 MYAPP.com 的地方确实是 oh.dev，但是我尝试通过编辑我的主机文件来使用 .com，结果相同。

有谁知道如何让 Shopify 接受子域作为 callback_url？我错过了什么明显的东西吗？

这是一些 Clojure 代码：

```
(require '[com.twinql.clojure.http :as http] '[clojure.contrib.logging :as log])

(defn consumer []
  {:key "1234567890"
   :secret "1234567890abcde"})

(defn shopify-config [shop-name]
  {:request-token-url (str "https://" shop-name ".myshopify.com/admin/oauth/authorize")
   :authorise-url (str "https://" shop-name ".myshopify.com/admin/oauth/authorize")
   :access-token-url (str "https://" shop-name ".myshopify.com/admin/oauth/access_token")
   :api-endpoint-url (str "https://" shop-name ".myshopify.com")})

(defn get-redirect-url [shop-name callback-url]
  (let [{consumer-token :key consumer-token-secret :secret} (consumer)]
    (str (-> shop-name shopify-config :request-token-url)
         "?client_id=" consumer-token
         "&scope=read_orders,read_products,read_customers"
         "&redirect_uri=" callback-url)))

(defn get-access-credentials [verifier shop-name]
  (let [{:keys [key secret]} (consumer)
        response (http/post (-> shop-name shopify-config :access-token-url)
                            :as :json
                            :query {"client_id" key
                                    "client_secret" secret
                                    "code" verifier})]
    (log/debug (str "response from getting access credentials from shopify : " response))
    {:access-token (-> response :content :access_token)
     :consumer-key key
     :consumer-secret secret}))

(def methods {:get http/get
              :post http/post
              :delete http/delete
              :put http/put})

(defn- make-request [method shop-name url token params]
  (let [response (method (str (-> shop-name shopify-config :api-endpoint-url) url)
                         :as :json
                         :query params
                         :headers {"X-Shopify-Access-Token" token})]
    (if (-> response :code (= 200))
      (:content response)
      (do
        (log/error (str "Error in shopify request : " response))
        (throw (Err. {:handle :shopify-request-error
                      :response response}))))))

(defn get-products [shop-name token page]
  (make-request (:get methods) shop-name "/admin/products.json" token {:page page :limit 200})) 
```

此外，还有一些代码可以从用户那里获取商店名称等信息，并将其存储在数据库中等等。所以我们基本上调用 get-redirect-url 将用户重定向到 shopify，并让他们批准权限。我们传递给 Shopify 的回调 URL 类似于：

```
http://customer1.oh.dev/integrations/shopify/1/callback 
```

然后获取提供的代码并调用 get-access-credentials。周围的代码存储我们返回的访问令牌等。在检索到令牌和商店名称之后，还有另一个用户操作将调用 get-products。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T11:38:23.310

如果您将应用程序 URL 设置为[http://myapp.com](http://myapp.com)，您应该能够指定 redirect_uri=http://domain.myapp.com，这是您在做什么吗？您可以发布用于发出 oauth 请求的代码吗？

# special-characters - 有没有办法使用有效的“？”运行插入语句 在里面？

> ID：12477671
> 
> 赞同：2
> 
> 时间：2012-09-18T13:05:37.780
> 
> 标签：special-characters, teradata, insert-into

我正在尝试构建一个插入语句，该语句将包含一个具有有效“？”的 URL 字符串。在里面。我正在使用 Teradata SQL Assistant (Windows XP)，它正在尝试将其转换为参数。

有没有办法覆盖它并将其视为字符值？

示例 URL： [https ://www.location.com/livelink.exe?func=ll](https://www.location.com/livelink.exe?func=ll)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T14:41:42.293

转到页面上的**查询**选项卡`Tools -> Options...`并取消选中标有“允许在查询中使用命名参数”的框。以下是我使用的设置：

![屏幕截图](../Images/b8ab8bc50e4fc61ed6513d69e54a24d9.png)

这将防止问号被视为提示并处理如下插入语句：

```
insert into yourdb.yourtable
  (url)
  values ('https://www.location.com/livelink.exe?func=ll') 
```

# asp.net - 具有复杂Ajax关系的.net页面设计

> ID：12477677
> 
> 赞同：1
> 
> 时间：2012-09-18T13:05:47.017
> 
> 标签：asp.net, ajax, web

我正在用 c# 创建一个 .net 网站。

母版页包含一个固定的页脚栏，您可以从中显示“书签”。我还为每个书签提供了删除功能。

一些 aspx 页面上可能有添加书签/删除书签功能（按钮控件）。

我始终使用更新面板，因此按钮控件始终被一个封装。

如果我从 aspx 页面添加/删除书签，我可以触发对固定页脚面板的更新。在 aspx 页面中触发了一个委托事件，该事件调用母版页上的一个方法来更新固定的页脚面板，因此所有内容都是动态同步的。

反过来似乎不可能做同样的事情。如果我从固定页脚中删除书签，我需要知道当前的 aspx 页面是否正在显示书签控件。我想几乎不可能，但我愿意接受建议。

考虑到这一点，问题真的是有没有人有他们用来处理这些场景的技术，例如调用整页更新或类似的东西，或者在下一页加载/回发之前什么都不做？

提前致谢。

# msp430 - CC1120 和 STM32

> ID：12477678
> 
> 赞同：0
> 
> 时间：2012-09-18T13:05:53.907
> 
> 标签：msp430

我目前正在使用`TrxEB`基于`msp430`和`RF module`基于`CC1120`.

我想用`STM32`微处理器代替我现在的`msp430`.

是否可以将`MCU`in更改`Smart Rf`为`CC1120 SPI connection`. 如果不是，为什么不可能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T15:49:10.310

好吧，检查 smartFr 数据表表明它要求您使用的 CCxxxx 芯片连接到支持的 cpu。我怀疑 STmicro 的 stm32 就是其中之一。因此很难在该配置中使用 smartRf。

# facebook - 标签应用程序 (FB) 不会在 Facebook iPhone 应用程序上显示

> ID：12477683
> 
> 赞同：1
> 
> 时间：2012-09-18T13:06:04.940
> 
> 标签：facebook, facebook-graph-api, facebook-javascript-sdk

我创建了一个 facebook 并将其放在我的 facebook 品牌页面上，我还在该页面的墙上创建了一个带有应用程序链接的帖子。

一切正常，直到人们开始打电话给我说使用 FB iPhone 应用程序访问时，它会重定向到错误页面“找不到您请求的页面”

我尝试在 FB Developer App 中将链接（同一页面）添加到我的应用程序的“移动网络”链接。

它仍然不起作用..

我需要人们访问应用程序页面来获取一些内容..我知道这是可能的，但找不到如何..

感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-06T03:30:11.153

应用程序或移动网站不支持选项卡。您可以做的最好的事情是添加查询参数“ref=ts”以防止页面切换到移动设备。它对浏览器有帮助，但对应用程序本身没有帮助。

因此，将 ?ref=ts 添加到您的应用程序 url 的末尾，至少移动用户可以在他们的浏览器中看到它。

[http://facebook.stackoverflow.com/a/10833366/461119](http://facebook.stackoverflow.com/a/10833366/461119)

# c# - 无法将字符串 [] 转换为字节 []

> ID：12477686
> 
> 赞同：0
> 
> 时间：2012-09-18T13:06:23.003
> 
> 标签：c#, directory, byte, converter

我正在做的是这样的：

```
ArrayList files = new ArrayList();
byte[] tempFile;
string image;

foreach (string file in files)
{
    image = "/Images/Gallery/" + album.Substring(94) + "/" + file;

    tempFile = Directory.GetFiles(image);
} 
```

我无法将 string[] Directory.GetFiles(image) 转换为 byte[] tempFile。如何才能做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T13:08:16.297

请试试这个：

...

```
{
    image = Path.Combine("Images", "Gallery", album.Substring(94), file);
    tempFile = File.ReadAllBytes(image);
} 
```

# c++ - Squid：由于 ssl 导致 squid-3.HEAD 的编译错误

> ID：12477689
> 
> 赞同：0
> 
> 时间：2012-09-18T13:06:33.873
> 
> 标签：c++, proxy, openssl, fedora, squid

我正在尝试在 Fedora 13 上构建 squid-3.HEAD，但出现以下编译错误。

```
/bin/bash ../../libtool --tag=CXX   --mode=compile g++ -DHAVE_CONFIG_H -  I../..../../include -I../../lib -I../../src -I../../include
-I../../libltdl   -Wall -Wpointer-arith -Wwrite-strings -Wcomments
 -Werror -pipe -D_REENTRANT -g -O2 -std=c++0x -MT Acl.lo -MD -MP -MF
 .deps/Acl.Tpo -c -o Acl.lo Acl.cc

libtool: compile:  g++ -DHAVE_CONFIG_H -I../.. -I../../include
-I../../lib -I../../src -I../../include -I../../libltdl -Wall
-Wpointer-arith -Wwrite-strings -Wcomments -Werror -pipe -D_REENTRANT
-g -O2 -std=c++0x -MT Acl.lo -MD -MP -MF .deps/Acl.Tpo -c Acl.cc
-fPIC -DPIC -o .libs/Acl.o

In file included from ../../src/ProtoPort.h:12:0,
             from Acl.cc:40:

/src/ssl/gadgets.h:57:1: error: variable or field 'TXT_DB_free_cpp'
declared void
../../src/ssl/gadgets.h:57:1: error: 'TXT_DB' was not declared in this scope
../../src/ssl/gadgets.h:57:1: error: 'a' was not declared in this scope
../../src/ssl/gadgets.h:58:21: error: 'TXT_DB' was not declared in this scope
../../src/ssl/gadgets.h:58:29: error: 'TXT_DB_free_cpp' was not
declared in this scope
../../src/ssl/gadgets.h:58:44: error: template argument 1 is invalid
../../src/ssl/gadgets.h:58:44: error: template argument 2 is invalid
../../src/ssl/gadgets.h:58:60: error: invalid type in declaration
before ';' token 
```

Openssl 和 openssl-devel 已安装并具有最新版本

Gcc(g++) 版本 = 4.4.5 OpenSSL 版本 = 1.0.0d-1.fc13.i686

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-21T07:54:26.923

在 voyage/Debian 上遇到了同样的问题。在我读过的某个地方，您应该尝试使用旧版本。

# php - 从坐标计算半径并在表格中查找半径内的所有匹配项

> ID：12477692
> 
> 赞同：3
> 
> 时间：2012-09-18T13:06:37.667
> 
> 标签：php, mysql, math

> **可能重复：**
> [SQL：确定一个坐标是否在另一个坐标的半径内](https://stackoverflow.com/questions/1896213/sql-determine-if-one-coordinate-is-in-radius-of-another)

在一张表中，我存储了纬度和经度（作为浮点数）。现在我想查询我的表以查找在给定半径内具有坐标的所有行（可以是 2 公里、5 公里、10 公里等）。我真的不知道如何实现这一点，所以任何帮助将不胜感激。我不确定如何查询，因为我认为结果将是一组无限的坐标，代表半径的“边界”，我必须以某种方式告诉我的表格在该“边界”内搜索结果。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T13:23:21.280

您需要熟悉[Haversine forumla](https://stackoverflow.com/questions/574691/mysql-great-circle-distance-haversine-formula)这将按照您的预期通过 mysql 计算从 lat 和 lon 的距离

# sql - 具有多个连接的 SQL 唯一记录

> ID：12477694
> 
> 赞同：1
> 
> 时间：2012-09-18T13:06:54.737
> 
> 标签：sql, sql-server, left-join, unique, distinct

我需要加入三张桌子。前两个很容易并且基于相同的键。一个简单的外连接就可以了。第三个是棘手的。它有一个相似的键，但必须匹配一个键的左 14。这会产生我不想要的重复项。本质上，我想要与 ID 正确匹配的 TOP 1 FROM Table3。

使用 T-SQL。

这些表又大又复杂，所以我在下面概述了一个包含示例数据的表的简单示例以及我现在正在运行的查询。

表格1

```
ID1          ID2                 Field1    Field2    Field3    Field4
0000000000   00000000000000a     Info1     Info2     Info3     Info4
2222222222   11111111111111b     Info1     Info2     Info3     Info4
1111111111   22222222222222c     Info1     Info2     Info3     Info4 
```

表2

```
ID1          ID2                 Field1    Field2  
0000000000   00000000000000a     Info5     Info6  
2222222222   11111111111111b     Info5     Info6  
1111111111   22222222222222c     Info5     Info6 
```

桌子

```
ID1          ID2                 Field1    
0000000000   00000000000000a     Info7 
0000000000   00000000000000b     Info7  
0000000000   00000000000000c     Info7  
2222222222   11111111111111b     Info7  
2222222222   11111111111111d     Info7  
1111111111   22222222222222c     Info7 
```

询问

```
SELECT
Table1.ID1,
Table1.ID2,
Table1.Field1,
Table1.Field2,
Table1.Field3,
Table1.Field4,
Table2.Field1,
Table2.Field2,
Table3.Field1
FROM Table1
LEFT JOIN Table2
ON Table1.ID1=Table2.ID2 AND Table1.ID2=Table2.ID2
LEFT JOIN Table3
ON Table1.ID1=Table3.ID2 AND LEFT(Table1.ID2,14)=LEFT(Table3.ID2,14) 
```

我得到的回应是

```
0000000000 00000000000000a Info1 Info2 Info3 Info4 Info5 Info6 Info7
0000000000 00000000000000a Info1 Info2 Info3 Info4 Info5 Info6 Info7
0000000000 00000000000000a Info1 Info2 Info3 Info4 Info5 Info6 Info7
2222222222 11111111111111b Info1 Info2 Info3 Info4 Info5 Info6 Info7
2222222222 11111111111111b Info1 Info2 Info3 Info4 Info5 Info6 Info7
1111111111 22222222222222c Info1 Info2 Info3 Info4 Info5 Info6 Info7 
```

我想要的是

```
0000000000 00000000000000a Info1 Info2 Info3 Info4 Info5 Info6 Info7
2222222222 11111111111111b Info1 Info2 Info3 Info4 Info5 Info6 Info7
1111111111 22222222222222c Info1 Info2 Info3 Info4 Info5 Info6 Info7 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:34:28.003

我会猜测并说您使用 mssql，（使用顶部和其他东西）所以如果您使用 2005+，这将正常工作

```
SELECT
  Table1.ID1,
  Table1.ID2,
  Table1.Field1,
  Table1.Field2,
  Table1.Field3,
  Table1.Field4,
  Table2.Field1,
  Table2.Field2,
  t3.Field1
FROM Table1
LEFT JOIN Table2
  ON Table1.ID1=Table2.ID2 AND Table1.ID2=Table2.ID2
outer apply (select top 1 * from table3 where LEFT(Table1.ID2,14)=LEFT(Table3.ID2,14)) t3 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T14:00:44.017

除非我在要求中遗漏了某些内容，否则如果您只想为每个记录返回一条记录`ID1`，`Table3`您应该能够执行以下操作：

```
SELECT
    t1.ID1,
    t1.ID2,
    t1.Field1,
    t1.Field2,
    t1.Field3,
    t1.Field4,
    t2.Field1,
    t2.Field2,
    tb3.Field1
FROM Table1 t1
LEFT JOIN Table2 t2
    ON t1.ID1=t2.ID1 
    AND t1.ID2=t2.ID2
LEFT JOIN
(
    select min(id2) minid2, id1
    from Table3
    group by id1
) t3
    ON t1.ID1=t3.id1 
    AND LEFT(t1.ID2,14)=LEFT(t3.minid2,14)
left join table3 tb3
    on t3.minid2 = tb3.id2
    and t3.id1 = tb3.id1 
```

# java - Java - 根据节点的属性编辑节点的元素

> ID：12477695
> 
> 赞同：1
> 
> 时间：2012-09-18T13:06:57.967
> 
> 标签：java, xml, dom

我有这个 XML 文件：

```
<Credentials>
   <WebsiteApplication id="test">
      <Username>ADMIN</Username>
      <Password>ADMIN</Password>
   </WebsiteApplication>
</Credentials>
<Credentials>
   <WebsiteApplication id="test2">
      <Username>ADMIN2</Username>
      <Password>ADMIN2</Password>
   </WebsiteApplication>
</Credentials> 
```

而且我想编辑“WebsiteApplication”节点的用户名（或密码），前提是它的 id 与 a 给出的输入相同。

我尝试了一些东西，但它不起作用......

```
 System.out.println("Insert the id:....");
    BufferedReader websiteIn = new BufferedReader(new InputStreamReader(System.in));
    String Editid = websiteIn.readLine().toString();

    Document doc = SecondaryFuncts.FindXML();

    Element root = doc.getDocumentElement();
    NodeList rootlist = root.getChildNodes();
    for(int i=0; i<rootlist.getLength(); i++) 
    {

//THERE IS NO PROBLEM UNTILL NOW... 
//And now i trying to take the id and check if matches
//with my input and them change nodes elements...

        Element Applications = (Element)rootlist.item(i);
        NamedNodeMap id = Applications.getAttributes();
        for(int ids = 0 ; ids <id.getLength(); ids++)
        {

I tried a lot in this loop but nothing worked.. what can i do here? 
Lets assume that i want username and password to change both as "test"

        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:28:21.057

使用 XPath 来完成这样的任务。您将直接选择正确的`WebsiteApplication`元素，然后您可以修改其`Username`和`Password`子元素。

使用以下 XPath 选择正确的元素，`/Credentials/WebsiteApplication[@id="XXX"]`其中`XXX`是用户提供的输入。

然后只需检索该元素的子元素并更改用户名/密码内容。

```
String inputId = "test1";
String xpathStr = "//Credentials/WebsiteApplication[@id='" + inputId + "']";
XPath xpath = XPathFactory.newInstance().newXPath();
XPathExpression expr = xpath.compile(xpathStr);
Node node = (Node)expr.evaluate(doc, XPathConstants.NODE);
// node is the correct <WebsiteApplication> element
// do what you have to do with its children using node.getChildNodes()

// or you can even access directly the two elements
expr = xpath.compile(xpathStr + "/Username");
Node username = (Node)expr.evaluate(doc, XPathConstants.NODE);
// and set their values using the setTextContent() method
username.setTextContent("test-username");

expr = xpath.compile(xpathStr + "/Password");
Node password = (Node)expr.evaluate(doc, XPathConstants.NODE);
password.setTextContent("test-password"); 
```

请参阅此完整示例：

```
import java.io.*;
import javax.xml.parsers.*;
import javax.xml.transform.*;
import javax.xml.transform.dom.*;
import javax.xml.transform.stream.*;
import javax.xml.xpath.*;
import org.w3c.dom.*;
import org.xml.sax.*;

public class SO12477695 {
    public static void main(String[] args) throws Exception {
        DocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();
        Document doc = db.parse(new InputSource(new StringReader("<root>\r\n" + //
                "<Credentials>\r\n" + //
                "   <WebsiteApplication id=\"test\">\r\n" + //
                "      <Username>ADMIN</Username>\r\n" + //
                "      <Password>ADMIN</Password>\r\n" + //
                "   </WebsiteApplication>\r\n" + //
                "</Credentials>\r\n" + //
                "<Credentials>\r\n" + //
                "   <WebsiteApplication id=\"test2\">\r\n" + //
                "      <Username>ADMIN2</Username>\r\n" + //
                "      <Password>ADMIN2</Password>\r\n" + //
                "   </WebsiteApplication>\r\n" + //
                "</Credentials>\r\n" + //
                "</root>")));
        String inputId = "test2";
        String xpathStr = "//Credentials/WebsiteApplication[@id='" + inputId + "']";
        // retrieve elements and change their content
        XPath xpath = XPathFactory.newInstance().newXPath();
        XPathExpression expr = xpath.compile(xpathStr + "/Username");
        Node username = (Node) expr.evaluate(doc, XPathConstants.NODE);
        username.setTextContent("test-username");
        expr = xpath.compile(xpathStr + "/Password");
        Node password = (Node) expr.evaluate(doc, XPathConstants.NODE);
        password.setTextContent("test-password");
        // output the document
        Transformer transformer = TransformerFactory.newInstance().newTransformer();
        StringWriter writer = new StringWriter();
        transformer.transform(new DOMSource(doc), new StreamResult(writer));
        System.out.println(writer.toString());

        // the document is now saved, you may want to save it in a file.
    }
} 
```

哪个输出：

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<root>
   <Credentials>
      <WebsiteApplication id="test">
         <Username>ADMIN</Username>
         <Password>ADMIN</Password>
      </WebsiteApplication>
   </Credentials>
   <Credentials>
      <WebsiteApplication id="test2">
         <Username>test-username</Username>
         <Password>test-password</Password>
      </WebsiteApplication>
   </Credentials>
</root> 
```

# java - 在 Swing 组合框中出现问题

> ID：12477697
> 
> 赞同：0
> 
> 时间：2012-09-18T13:06:59.100
> 
> 标签：java, swing

我有一个文本框和一个组合框，在组合框中我存储命令列表。当我在文本框中键入带有相关命令的首字母的命令时，它会在组合框中显示匹配的命令，但它不会显示在组合框的顶部。它显示在中间，最后一个命令存在于组合框中的位置。所以请建议我一个示例代码。当我输入命令时，它应该在组合框顶部显示选定的命令。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:23:01.793

看起来您正在寻找`JComboBox`具有自动完成功能的可编辑。[本文](http://today.java.net/pub/a/today/2007/07/19/adding-auto-completion-to-swing-comboboxes.html)讨论了如何使用一些流行的 Swing 3th 方库来实现这一点 + 或多或少地解释了自动完成的工作原理

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:31:11.370

如果您想在 JComboBox 中显示相关命令（当它未展开时），也许您正在寻找 yourComboBox.setSelectedIndex(int)。

# android - 如何计算经过的总天数

> ID：12477698
> 
> 赞同：0
> 
> 时间：2012-09-18T13:06:59.520
> 
> 标签：android

> **可能重复：**
> [在java中计算日期/时间差](https://stackoverflow.com/questions/5351483/calculate-date-time-difference-in-java)

我为用户提供了使用日期选择器选择日期的选项。是否有任何内置方法可以用来计算用户选择日期和今天日期的持续时间（以天为单位）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:10:11.457

我不喜欢回答这个问题，因为*有数百万*这样的问题（在发布问题之前使用搜索选项）。使用[乔达时间](http://joda-time.sourceforge.net/)。有一[`Period`](http://joda-time.sourceforge.net/apidocs/org/joda/time/Period.html)堂课，对你有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:12:13.897

```
Date today = new Date(); // the date of today
Date target = new Date(); // the date of when the user picks

long todayEpoch = today.getTime(); // or can use = System.currentTimeMillis();
long targetEpoch = target.getTime();

long daysInMs = targetEpoch - todayEpoch; //days in MS's

//the # of days
float days = (daysInMs/1000/60/60/12); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T13:11:31.117

以毫秒为单位获取两次之间的差异。你可以通过 Java 的 Calendar 类获得 Days。

# wordpress - 跨 Wordpress 中所有子域的单用户身份验证

> ID：12477704
> 
> 赞同：0
> 
> 时间：2012-09-18T13:07:33.863
> 
> 标签：wordpress

我有

www.abc.com Sub1.abc.com Sub2.abc.com Sub3.abc.com

等等...

如何让用户在任何站点上通过身份验证后也可以在所有站点上进行身份验证

很像谷歌服务，例如：地图、gmail、文档等……一旦通过身份验证，就会自动在所有服务上进行身份验证。

我有哪些选择？莫里石？如何？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T03:06:57.413

[https://wordpress.stackexchange.com/questions/23449/single-user-registration-to-access-all-sites-in-wordpress-multisite-network](https://wordpress.stackexchange.com/questions/23449/single-user-registration-to-access-all-sites-in-wordpress-multisite-network)

多站点用户管理

[http://wordpress.org/extend/plugins/multisite-user-management/](http://wordpress.org/extend/plugins/multisite-user-management/)

# c - 变量的硬编码，混淆 C 语法

> ID：12477705
> 
> 赞同：2
> 
> 时间：2012-09-18T13:07:36.417
> 
> 标签：c, porting

当我被困在这段代码上时，我正在浏览一些 C 代码。

```
void someFunction(Int32 someVariable)
{
    /* someVariable is hard coded to 2 */
    (void)someVariable;

    //some processing that has nothing to do with someVariable.
} 
```

作者的评论是什么意思，“ **someVariable is hardcoded to 2** ”？到底发生了`someVariable`什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T13:10:19.793

很可能这样做（将函数参数转换为`void`）是为了关闭编译器，否则编译器会因为未使用的参数而发出警告或错误。该值是否在某处“硬编码”与呈现的代码无关。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-18T13:10:09.180

该声明

```
(void)someVariable; 
```

`someVariable`将禁用该参数在函数中未使用的任何编译器警告。

如果您查看随后的代码，您可能会发现它可以使用 的值`someVariable`但被硬编码为假设它是 的地方`2`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-18T13:29:00.980

这意味着过去的代码看起来像这样，例如：

```
// Somewhere else in the source:
…someFunction(2)…
…
…x = 2;…
…someFunction(x)…
…
// Et cetera, the point being that whenever someFunction is called, its argument always has the value 2.

// The definition of someFunction:
void someFunction(Int32 someVariable)
{
    foo(someVariable*3);
    y = someVariable*7 - 4;
    bar(y);
    …
} 
```

作者将其更改为：

```
// The definition of someFunction:
void someFunction(Int32 someVariable)
{
    (void) someVariable;
    foo(6);
    y = 10;
    bar(y);
    …
} 
```

所以，发生的事情是：

*   在“someFunction”中出现“someVariable”的所有地方，作者都将其替换为“2”。
*   然后作者减少了表达式，让“someVariable*3”变成了“2*3”，然后变成了“6”。这解释了为什么在 someFunction 中看不到“someVariable”以及为什么在 someFunction 中看不到“2”。

换句话说，someFunction 的代码现在的行为方式与原始代码在 someVariable 为 2 时的行为方式相同。您将 someFunction 的主体描述为“与 someVariable 无关的某些处理”，但实际上，它是使用2 对于 someVariable 的变量。someVariable 在函数中扮演的任何角色都已因编辑而丢失，但是，只要 someVariable 为 2，该代码的行为可能与旧代码一样。

# cocoa - 如何在 Cocoa for OSX 中通过 SQLite 以编程方式创建新数据库？

> ID：12477707
> 
> 赞同：1
> 
> 时间：2012-09-18T13:07:47.913
> 
> 标签：cocoa, sqlite, nstask

在程序中，我需要让用户将数据保存到 SQLite 数据库（“另存为”选项）。我通过使用 NSTask 发送一个命令来做到这一点：“sqlite3 ./mydatbase.db”作为终端命令。它在我自己的 Mac 上运行良好，但在其他没有安装 Xcode 的 Mac 上运行良好（因为 SQLite 与 Xcode 一起安装）。问题是：有没有办法为没有 SQLite 的系统以编程方式创建一个新的数据库（而不是新的表）？任何答案表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T17:43:54.580

当您尝试打开一个不存在的数据库文件时，SQLite 会自动创建它。

# jquery - 无法从另一个域获取 JSON 数据

> ID：12477708
> 
> 赞同：1
> 
> 时间：2012-09-18T13:07:50.550
> 
> 标签：jquery, json, getjson

```
$.getJSON("http://pipes.yahoo.com/pipes/pipe.run?_id=UtVVPkx83hGZ2wKUKX1_0w&_render=json&_callback=?",
    function(data) {
        $.each(data.value.items, function(Id,item) {
        $("<div/>").text(item.title).appendTo("#data");
    });
});
$.getJSON("http://api.anywayanyday.com/api/NewRequest/?Route=2406MOWLON&AD=1&CN=0&CS=E&Partner=testapic&_Serialize=JSON&jsoncallback=?",
    function(data) {
        $.each(data.value.items, function(Id,item) {
        $("<div/>").text(item.id).appendTo("#data2");
    });
}); 
```

第一个 json 工作正常，但无论如何都没有，可能是什么问题？谢谢大家的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:09:34.530

使用`callback`代替`jsoncallback`（回调的参数取决于您访问的服务）。此外，看起来数据看起来像这样：

> {"Id":"9G8jJaYr39Qh18","错误":null}

并且不在集合中。以下代码适用于我：

```
$.getJSON("http://api.anywayanyday.com/api/NewRequest/?Route=2406MOWLON&AD=1&CN=0&CS=E&Partner=testapic&_Serialize=JSON&callback=?", function(data) {
    $("#data2").text(data.Id);
}); 
```

**示例：http:** [//jsfiddle.net/WtxS3/](http://jsfiddle.net/WtxS3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:13:06.513

好吧，它可以工作，但是您没有正确处理数据。把`http://api.anywayanyday.com/api/NewRequest/?Route=2406MOWLON&AD=1&CN=0&CS=E&Partner=testapic&_Serialize=JSON&jsoncallback=?`你的浏览器，你得到你的回应。

也`$.each(data.Id)`需要使用，不是`$.each(data.value.items)`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T13:11:02.270

您必须`jsonp`在 URL 中用作类型和回调。然而，并不是所有的服务都支持它。服务器的响应必须如下所示：

```
callback(JSON here) 
```

干杯!

# titanium - Tibar 钛检测条码

> ID：12477711
> 
> 赞同：0
> 
> 时间：2012-09-18T13:08:04.643
> 
> 标签：titanium, barcode, titanium-mobile, barcode-scanner

我已经完成了这个链接的步骤，用于在 Titanium 中检测 Iphone 中的条形码。 [http://code.google.com/p/tibar/](http://code.google.com/p/tibar/) 在行配置中，我完成了该链接，但它仅在 Iphone 中显示相册。我再次配置如下：

```
configure: {
        classType: "ZBarReaderController",
        sourceType: "Camera",
        cameraMode: "Default",
        symbol:{
            "QR-Code":true,
        }
    } 
```

它显示屏幕用相机检测条形码。但是当点击扫描按钮时，相机无法检测到条形码。扫描的图像条形码非常清晰。如果你完成了这项工作，你能帮我吗..谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T22:47:16.127

你把 QR-code 设置为 true，当然不应该是这样：

```
configure: {
        classType: "ZBarReaderController",
        sourceType: "Camera",
        cameraMode: "Default",
        symbol:{
            "EAN-13":true
        }
} 
```

直接取自您提供给我们的文档。

# c++ - 共享内存中的 STL 容器 (Windows)

> ID：12477713
> 
> 赞同：3
> 
> 时间：2012-09-18T13:08:08.030
> 
> 标签：c++, winapi, stl, boost-interprocess

我正在开发一个由 2 个必须共享一些数据结构的进程组成的应用程序。这些类被组织在不同的库中，并且这些库用于不同的应用程序。

*   我的第一次尝试是在 Win32 中使用[命名共享内存](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366551%28v=vs.85%29.aspx)，但这里的问题是我不能使用 STL 容器。
*   在寻找解决方案时，我找到了[Boost Interprocess](https://stackoverflow.com/questions/4278627/c-boostinterprocess-simple-application/)，如果我理解的话，我必须将我的类中的所有 STL 容器更改为“STL”Boost Interprocess 容器。

那么，有没有其他方法可以使用 STL（在 Windows 中）共享类或结构？目标是不要在我们的库中对 Boost 产生过多的依赖。

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T13:17:40.477

Boost.Interprocess 拥有自己的容器类的原因是大多数当前的实现并不完全支持分配器方面的标准。

Boost.Interprocess 容器类是标准容器的完全兼容实现，因此您可以将它们用作标准容器的直接替代品，并在它们被修复以支持标准分配器协议时切换到供应商提供的容器。

我不确定我是否能比[文档](http://www.boost.org/doc/libs/1_44_0/doc/html/interprocess/allocators_containers.html#interprocess.allocators_containers.containers_explained.stl_container_requirements)更好地解释它，但最大的问题是共享内存被映射到不同虚拟地址的不同进程，因此容器内使用的任何指针都*必须*是*相对*指针（例如来自段的开头）。标准分配器模型支持这一点，但容器也必须通过使用`Allocator::pointer`而不是来支持这一点`T *`。当所有实现都被修复以支持这一点时，将不再需要 Boost.Interprocess 容器。

或者，您*可以*在每个进程中将内存映射到[相同的虚拟地址](http://www.boost.org/doc/libs/1_48_0/doc/html/interprocess/sharedmemorybetweenprocesses.html#interprocess.sharedmemorybetweenprocesses.mapped_region.mapped_region_fixed_address_mapping)；如果您这样做，那么您可以使用现有实现的容器，因为原始指针将正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:22:05.963

就个人而言，我会避免使用共享结构方法。另一种方法是将结构的所有权授予两个过程之一。另一个进程将通过向第一个进程发送消息来访问它。

如果您完全决定使用共享内存，那么您当然可以将它与 STL 一起使用。首先，您必须为您的容器创建一个自定义分配器。分配器将从共享内存块中分配内存。此外，由于 STL 容器不是线程安全的，因此您必须使用命名互斥锁为容器编写同步包装器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-07-30T23:23:29.420

将符合标准的 STL 集合与 boost::interprocess 一起使用的真正问题是，该标准明确允许集合假定相同类型的分配器是等价的，分配器不需要任何存储状态，并且可以忽略指针类型并且可以使用 T* 代替。

boost::interprocess 文档比我更好地解释了这一点，但我的总结是：

*   C++ 标准允许无状态或有状态分配器
*   即使分配器指定了另一种类型，C++ 标准也允许将 T* 用于指针
*   boost::interprocess 需要有状态分配器支持（因此拥有的内存段可以在所有分配中使用）
*   对于大多数用途，boost::interprocess 使用替代指针类型 - 对于非平凡的应用程序，这将是 offset_ptr
*   boost::interprocess 集合 - map/vector/etc -（这些是当前 boost::container 类型的 typedef）提供了 boost::interprocess 所需的所有这些可选实现细节

因此，即使您当前的 STL 集合支持 boost::interprocess 的要求，而且它们可能不支持，C++ 标准也不能保证它们将来会继续提供这些要求。对于 boost::interprocess 应用程序中使用的集合，唯一明智的方法是使用保证符合 boost:interprocess 要求的 boost 集合——来自 boost::container 或 boost:interprocess:collections

# javascript - three.js - 禁用的文本框

> ID：12477715
> 
> 赞同：1
> 
> 时间：2012-09-18T13:08:26.103
> 
> 标签：javascript, html, three.js

禁用 HTML 文本框进行输入。“渲染”按钮工作正常，onClick 显示定义的几何图形。我尝试将 render.domElement 更改为页面上的不同元素，例如容器、信息、父级和场景。但找不到文本框被禁用的原因？

```
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>3d Model using HTML5 and three.js</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <style>
            body {
                font-family: Monospace;
                background-color: #f0f0f0;
                margin: 0px;
                overflow: hidden;
            }
        </style>
    </head>
    <body>      

        <script src="three.min.js" type="text/javascript"></script>
        <script src="Curve.js" type="text/javascript"></script>
        <script src="TubeGeometry.js" type="text/javascript"></script>      
        <script src="Stats.js" type="text/javascript"></script>
        <script src="Detector.js" type="text/javascript"></script>

        <script>
        // variables
        var container, stats;

        var camera, scene, renderer, splineCamera, cameraHelper, cameraEye;

        var text, plane, tube, tubeMesh, parent;

        var targetRotation = 0;
        var targetRotationOnMouseDown = 0;

        var mouseX = 0;
        var mouseXOnMouseDown = 0;

        var windowHalfX = window.innerWidth / 2;
        var windowHalfY = window.innerHeight / 2;

        var binormal = new THREE.Vector3();
        var normal = new THREE.Vector3();

        var materials = [];var points = []; 

        init();                     
        //animate();

        function init(){

            // HTML form
            form = document.createElement( 'div' );
            form.innerHTML = 'X: <input type="text" id="txtX" />&nbsp;Y: <input type="text" id="txtY" />&nbsp;Z: <input type="text" id="txtZ" />&nbsp;';
            form.innerHTML += '<input type="button" value="plot" onClick="draw(txtX.value,txtY.value,txtZ.value);" />';
            form.innerHTML += '<input type="button" value="render" onClick="animate();" />';
            document.body.appendChild( form );

            // container
            container = document.createElement( 'div' );
            document.body.appendChild( container );

            // info div
            info = document.createElement( 'div' );
            info.style.position = 'absolute';
            info.style.top = '10px';
            info.style.width = '100%';
            info.style.textAlign = 'center';                    
            container.appendChild( info );

            // camera
            camera = new THREE.PerspectiveCamera( 60, window.innerWidth / window.innerHeight, 1, 10000 );
            camera.position.set(30,10,10);
            //camera.up = new THREE.Vector3( 0, 1, 1 );

            // scene            
            scene = new THREE.Scene();
            camera.lookAt(scene.position);

            // light            
            scene.add( new THREE.AmbientLight( 0x404040 ) );
            light = new THREE.DirectionalLight( 0xffffff );
            light.position.set( 0, 1, 0 );
            scene.add( light );                 

            // Grid
            geometry = new THREE.Geometry();
            geometry.vertices.push( new THREE.Vector3( - 500, 0, 0 ) );
            geometry.vertices.push( new THREE.Vector3( 500, 0, 0 ) );

            for ( var i = 0; i <= 20; i ++ ) {

                line = new THREE.Line( geometry, new THREE.LineBasicMaterial( { color: 0x000000, opacity: 0.2 } ) );
                line.position.z = ( i * 50 ) - 500;
                scene.add( line );

                line = new THREE.Line( geometry, new THREE.LineBasicMaterial( { color: 0x000000, opacity: 0.2 } ) );
                line.position.x = ( i * 50 ) - 500;
                line.rotation.y = 90 * Math.PI / 180;
                scene.add( line );
            }

            // extrudePath, Helix Curve
            /*var cords = new Array();
            cords[0] = new Array(0, 10, 10);
            cords[1] = new Array(10, 0, 10);
            cords[2] = new Array(10, 0, 0);*/

            //extrudePath = new THREE.SplineCurve3([new THREE.Vector3(cords[0]),new THREE.Vector3(cords[1])]);

            /*extrudePath = new THREE.SplineCurve3([
                                                new THREE.Vector3(0, 10, 10),
                                                new THREE.Vector3(10, 0, 10),
                                                new THREE.Vector3(10, 0, 0)
                                            ]);*/

            draw(0,10,10);
            draw(10,0,10);
            draw(10,0,0);               

            extrudePath = new THREE.SplineCurve3(points);
            console.log(extrudePath); 

            // Tube Geometry
            var segments = 50;
            var closed = false;
            var debug = true;
            var radiusSegments = 12;

            //alert('hello');                       
            var tube = new THREE.TubeGeometry(extrudePath, segments, 2, radiusSegments, closed, debug);

            // Tube Mesh
            /*tubeMesh = THREE.SceneUtils.createMultiMaterialObject( tube, [
                new THREE.MeshLambertMaterial({
                    color: 0xff00ff,
                    opacity: tube.debug ? 0.2 : 0.8,
                    transparent: true
                }),
                new THREE.MeshBasicMaterial({
                    color: 0x000000,
                    opacity: 0.5,
                    wireframe: true
            })]);*/

            /*for ( var i = 0; i < 6; i ++ ) {
                materials.push( new THREE.MeshBasicMaterial( { color: Math.random() * 0xffffff } ) );
            }
            tube.materials = materials;*/

            tubeMesh = new THREE.Mesh(tube ,new THREE.MeshBasicMaterial({
                                    color: 0x000000,side: THREE.DoubleSide,
                                    opacity: 0.5,transparent: true,
                                    wireframe: true}));

            //tubeMesh = new THREE.Mesh( tube, new THREE.MeshFaceMaterial() );
            //THREE.ColorUtils.adjustHSV( tubeMesh.material.color, 0.1, -0.1, 0 );

            parent = new THREE.Object3D();
            parent.position.y = 100;

            if ( tube.debug ) tubeMesh.add( tube.debug );
            parent.add( tubeMesh );                 
            scene.add( tubeMesh );

            // projector
            projector = new THREE.Projector();

            // renderer
            //renderer = new THREE.CanvasRenderer();
            renderer = new THREE.WebGLRenderer( { antialias: true } ); 
            renderer.setSize( window.innerWidth, window.innerHeight );
            container.appendChild( renderer.domElement );

            // CONTROLS
            console.log(renderer.domElement);
            controls = new THREE.TrackballControls( this.camera, info );            

            // stats
            stats = new Stats();
            stats.domElement.style.position = 'absolute';
            stats.domElement.style.top = '0px';
            container.appendChild( stats.domElement );

            document.addEventListener( 'mousedown', onDocumentMouseDown, false );
            document.addEventListener( 'mouseover', onDocumentMouseOver, false );
            document.addEventListener( 'touchstart', onDocumentTouchStart, false );
            document.addEventListener( 'touchmove', onDocumentTouchMove, false );               

            window.addEventListener( 'resize', onWindowResize, false );

        }
        function draw(x,y,z)
        {
            points.push( new THREE.Vector3(x,y,z));             
        }

        function onWindowResize() {

            camera.left = window.innerWidth / - 2;
            camera.right = window.innerWidth / 2;
            camera.top = window.innerHeight / 2;
            camera.bottom = window.innerHeight / - 2;
            camera.aspect = window.innerWidth / window.innerHeight;
            //camera.updateProjectionMatrix();
            renderer.setSize( window.innerWidth, window.innerHeight );

        }

        function onDocumentMouseDown( event ) {
            event.preventDefault();

            document.addEventListener( 'mousemove', onDocumentMouseMove, false );
            document.addEventListener( 'mouseup', onDocumentMouseUp, false );
            document.addEventListener( 'mouseout', onDocumentMouseOut, false );

            mouseXOnMouseDown = event.clientX - windowHalfX;
            targetRotationOnMouseDown = targetRotation;         
        }

        function onDocumentMouseMove( event ) {

            mouseX = event.clientX - windowHalfX;

            targetRotation = targetRotationOnMouseDown + ( mouseX - mouseXOnMouseDown ) * 0.02;

        }

        function onDocumentMouseUp( event ) {

            document.removeEventListener( 'mousemove', onDocumentMouseMove, false );
            document.removeEventListener( 'mouseup', onDocumentMouseUp, false );
            document.removeEventListener( 'mouseout', onDocumentMouseOut, false );

        }

        function onDocumentMouseOut( event ) {

            document.removeEventListener( 'mousemove', onDocumentMouseMove, false );
            document.removeEventListener( 'mouseup', onDocumentMouseUp, false );
            document.removeEventListener( 'mouseout', onDocumentMouseOut, false );

        }

        function onDocumentMouseOver( event ) {

            document.removeEventListener( 'mousemove', onDocumentMouseMove, false );
            document.removeEventListener( 'mouseup', onDocumentMouseUp, false );
            document.removeEventListener( 'mouseout', onDocumentMouseOut, false );

        }

        function onDocumentTouchStart( event ) {

            if ( event.touches.length === 1 ) {

                event.preventDefault();

                mouseXOnMouseDown = event.touches[ 0 ].pageX - windowHalfX;
                targetRotationOnMouseDown = targetRotation;

            }

        }

        function onDocumentTouchMove( event ) {
            if ( event.touches.length === 1 ) {
                event.preventDefault();
                mouseX = event.touches[ 0 ].pageX - windowHalfX;
                targetRotation = targetRotationOnMouseDown + ( mouseX - mouseXOnMouseDown ) * 0.05;
            }
        }

        function animate() {
            tubeMesh.rotation.y += ( targetRotation - tubeMesh.rotation.y ) * 0.15;         
            camera.updateMatrixWorld();
            renderer.render( scene, camera );
            requestAnimationFrame( animate );
            //render();
            update();
        }

        function update()
        {
            controls.update();
            stats.update();
        }

        function render() {             
            tubeMesh.rotation.y += ( targetRotation - tubeMesh.rotation.y ) * 0.15;         
            camera.updateMatrixWorld();
            renderer.render( scene, camera );
        }           

        </script>       
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T14:12:52.927

由于轨迹球控件，它阻止了每个鼠标输入的默认操作。

这是 [Three.JS 的可能副本——与场景中的文本框冲突的相机控件](https://stackoverflow.com/questions/12457487/three-js-conflict-camera-controls-with-a-textbox-in-a-scene)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-10-26T10:29:17.860

晚了，但这对我有用。您应该启用 mousedown 侦听器：

**从：**

```
 document.addEventListener( 'mousedown', onDocumentMouseDown, false); 
```

**至：**

```
 document.addEventListener( 'mousedown', onDocumentMouseDown, true); 
```

# javascript - javascript 上的导航菜单。DOM

> ID：12477716
> 
> 赞同：-3
> 
> 时间：2012-09-18T13:08:38.427
> 
> 标签：javascript, jquery, dom, navigation

我有问题，我怎么知道是否包含`<li>`孩子`<ul>`？谢谢大家！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:10:43.050

尝试以下操作：

```
document.querySelectorAll("li > ul").length 
```

或`querySelector`检查`null`

```
if (!document.querySelector("li > ul")) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T13:11:41.417

如果你想检查一个`<ul>`元素是否包含任何`<li>`元素，你只需要使用一个选择器 -

```
var elements = $('ul#selector').find('li');
if (elements.length){
  // the <ul> has child <li> elements
}else{
  // no <li> elements found
} 
```

这当然可以写在一个条件语句中——

```
var childElements =  $('ul#selector > li').length; 
```

# c# - 在 Razor 中向 URL.Action 添加参数

> ID：12477717
> 
> 赞同：2
> 
> 时间：2012-09-18T13:08:38.950
> 
> 标签：c#, javascript, razor, actionresult

大家好 目前我有一个网站，有一个按钮和一些创建加载外观的 javascript，然后运行这个 actionresult。我想向 actionresult 添加参数，但不知道该怎么做。谢谢！这是我的代码控制器：

```
 [HttpPost]
    public ActionResult PostMethod(string MyText)
    {
        System.Threading.Thread.Sleep(5000);

        return Json("And were done");
    } 
```

看法：

```
<input type="text"  name="MyTextBlock"/>
<p id="PID">
Default message from declarative syntax.
</p>
<div id="divLoading" style="margin: 0px; padding: 0px; position: fixed; right: 0px;
top: 0px; width: 100%; height: 100%; background-color: #666666; z-index: 30001;
opacity: .8; filter: alpha(opacity=70);display:none" >
<p style="position: absolute; top: 30%; left: 45%; color: White;" align="center">
    <img src="../../Content/themes/base/images/ajax-loading.gif"><br />
    Loading, please wait...
</p>
</div>

<button onclick="JavascriptFunction();">HTTPPost Button</button>

<script type="text/javascript" language="javascript">
function JavascriptFunction() {
    var url = '@Url.Action("PostMethod", "MyTextBlock", new { MyText = "john" })';
    $("#divLoading").show();
    $.post(url, null,
            function (data) {
                $("#PID")[0].innerHTML = data;
                $("#divLoading").hide();
            });
}
</script> 
```

我想要做的是将 MyTextBox 传递给 PostMethod 以将其用作 MyText。我在希望它来自文本框的值中看到硬编码的其他一些示例。任何帮助是极大的赞赏。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:14:58.700

Razor 是在页面加载之前生成的，所以如果你想在页面加载后有一个文本框，你需要使用 javascript（也就是说，如果最终用户将更改值`MyTextBox`并且你想使用 AJAX 传递这个新值） .

`null`而不是作为您的数据参数传递`$.post`，这是您将获取的值`MyTextBox`并将其传递给操作的地方。例如：

```
var url = '@Url.Action("PostMethod")';
var data = $('input[name="MyTextBox"]').serialize();
$.post(url, data, function(data){

}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T13:31:57.847

似乎您正在尝试编写很多 MVC 已经为您处理的代码。试试这个...

首先，为您的视图创建一个模型。你可以随意调用它。将您想要作为参数的属性放在您的操作方法中。

**你的模型.cs**

```
public class YourModel
{
    public string MyText { get;set; }
} 
```

对于您的控制器，您必须更改两件事。页面的 GET 操作需要传递给它的模型，如下所示。

对于 POST 操作，将您的`string MyText`参数更改为`YourModel model`. 这将允许 MVC 将视图上的输入绑定到模型。

**动作方法**

```
public class YourController
{
    [HttpGet]
    public ActionResult PostMethod()
    {
        YourModel model = new YourModel();
        return View(model);
    }

    [HttpPost]
    public ActionResult PostMethod(YourModel model)
    {
        //Do something with model.MyText;
        System.Threading.Thread.Sleep(5000);
        return Json("And We're Done");
    }
} 
```

**PostMethod.cshtml**

```
//THIS LINE HERE IS THE MOST IMPORTANT
@model YourNamespace.YourModel
//Ajax will handle most of the calling and showing of your elements if you tell it what to do!
@using(Ajax.BeginForm(new AjaxOptions(){ LoadingElementId="divloading", OnSuccess="OnSuccessFunction" }))
{
    <input type="text"  name="MyText"/>
    //Quick note: If you decide to hand code your html, make sure your <input/> name attributes match the property names on your model object.
    //Or here you could do @Html.TextBoxFor(m => m.MyText)
    <p id="PID">
    Default message from declarative syntax.
    </p>
    <div id="divLoading" style="margin: 0px; padding: 0px; position: fixed; right: 0px;
    top: 0px; width: 100%; height: 100%; background-color: #666666; z-index: 30001;
    opacity: .8; filter: alpha(opacity=70);display:none" >
    <p style="position: absolute; top: 30%; left: 45%; color: White;" align="center">
        <img src="../../Content/themes/base/images/ajax-loading.gif"><br />
        Loading, please wait...
    </p>
    </div>

    <input type="submit" name="Submit" value="HTTPPost Button"/>

    <script type="text/javascript" language="javascript">
    function OnSuccessFunction(data, textStatus, jqXHR){
         $("#PID")[0].innerHtml = data;
     }
    </script>
} 
```

这样做的一些好处是，如果您向模型添加更多属性，现在您的 JS 不必更改。您只需使用 HtmlHelper 将另一个输入添加到您的视图中，或者使用与模型上的属性名称相同的 name 属性手动编码输入名称。MVC 将处理其余部分。

# python - 更新文本文件python的多行

> ID：12477721
> 
> 赞同：1
> 
> 时间：2012-09-18T13:08:59.057
> 
> 标签：python

有没有办法使用python更新文本文件的多行。我想删除两行之间的数据我的文本文件如下

```
Project
Post
<cmd> ---Some statements--
  ---Some statements---
Mycommand "Sourcepath" "DestPath"
</cmd>
Post
Lib
TargetMachine=MachineX86
Lib
Project
Post
<cmd> ---Some statements---
  ---Some statements---
Mycommand "Sourcepath" "DestPath"
</cmd>
Post
Lib
TargetMachine=MachineX64
Lib 
```

我想删除 cmd 标记之间的所有内容。因此生成的文本文件应如下所示

```
Project
Post
<cmd>
</cmd>
Post
Lib
TargetMachine=MachineX86
Lib
Project
Post
<cmd>
</cmd>
Post
Lib
TargetMachine=MachineX64
Lib 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T13:12:29.460

假设您可以一次将整个文件读入内存，我建议

```
import re
with open("input.txt") as infile, open("output.txt", "w") as outfile:
    outfile.write(re.sub(r"(?s)<cmd>.*?</cmd>", "<cmd>\n</cmd>", infile.read())) 
```

要仅匹配其中包含`xcopy`的标签，您需要稍微扩展正则表达式：

```
import re
with open("input.txt") as infile, open("output.txt", "w") as outfile:
    outfile.write(re.sub(
        r"""(?sx)<cmd>      # Match <cmd>.
        (?:                 # Match...
         (?!</cmd>)         #  (unless we're at the closing tag)
         .                  #  any character
        )*                  # any number of times.
        \bxcopy\b           # Match "xcopy" as a whole word
        (?:(?!</cmd>).)*    # (Same as above)
        </cmd>              # Match </cmd>""", 
        "<cmd>\n</cmd>", infile.read()) 
```

# jquery - 自动滚动到页面底部然后顶部并重复

> ID：12477722
> 
> 赞同：4
> 
> 时间：2012-09-18T13:09:01.270
> 
> 标签：jquery, autoscroll

我创建了一个显示所有行的仪表板，但我想要一个自动滚动，它会慢慢向下滚动页面底部，然后慢慢滚动回顶部并重复。我已经用谷歌搜索了这个并且无法获得工作代码。我一直在寻找 jQuery 代码，但什么都可以。

因为页面会一直调整它不能有固定的高度滚动。

不确定您是否需要更多信息，但如果需要，我会更新这个问题。

问候开局

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-18T13:16:29.990

你可以使用这样的东西。

```
//run instantly and then goes after (setTimeout interval)

    $("html, body").animate({ scrollTop: $(document).height() }, 4000);
    setTimeout(function() {
       $('html, body').animate({scrollTop:0}, 4000); 
    },4000);
  var scrolltopbottom =  setInterval(function(){
         // 4000 - it will take 4 secound in total from the top of the page to the bottom
    $("html, body").animate({ scrollTop: $(document).height() }, 4000);
    setTimeout(function() {
       $('html, body').animate({scrollTop:0}, 4000); 
    },4000);

    },8000);

​//Use this to stop the scroller -> clearInterval(scrolltopbottom); 
```

示例：http: [//jsfiddle.net/NaP8D/11/](http://jsfiddle.net/NaP8D/11/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-04-12T08:51:31.260

你应该试试这个以获得更好的结果

```
//run instantly and then goes after (setTimeout interval)

$("html, body").animate({ scrollTop: $(document).height() }, 4000);

setTimeout(function() {
   $('html, body').animate({scrollTop:0}, 4000); 
},4000);

setInterval(function(){
     // 4000 - it will take 4 secound in total from the top of the page to the bottom
$("html, body").animate({ scrollTop: $(document).height() }, 4000);
setTimeout(function() {
   $('html, body').animate({scrollTop:0}, 4000); 
},4000);

},8000);

$('html, body').mouseover(function(e) {
$(this).stop(true);

    }).mouseout(function() {
         $(this).stop(false);
    }); 
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<div style="height:2000px; float:left; width:100%;">
Text text
Text text
    Text text

    Text text
    Text text
    Text text
    Text text

    Text text
    Text textv
    Text text
    Text text

    Text text
    Text textText text
     Text textText text Text textText text
      Text textText text Text textText text Text textText text Text textText text Text textText text
       <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p>Text textText text
     <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p>
        <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p> <p>
             Text textText text Text textText text Text textText text Text textText text Text textText text
       </p>

</div>
```

[http://jsfiddle.net/neelu/gvvnd0tt/8/](http://jsfiddle.net/neelu/gvvnd0tt/8/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T13:28:30.430

在这里，这应该很好用，只需将 5000 更改为以 ms 为单位的时间即可调整速度。

[http://jsfiddle.net/BDc6S/3/](http://jsfiddle.net/BDc6S/3/)

```
function scrollDown(el) {
    el.animate({
        scrollTop: el[0].scrollHeight
    }, 5000, function() {
        scrollUp(el)
    });
};

function scrollUp(el) {
    el.animate({
        scrollTop: 0
    }, 5000, function() {
        scrollDown(el);
    });
};

scrollDown($("html,body"));​ 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-12-10T16:58:53.917

```
function doSomething() {
  $(document).scrollTop($(document).height());
}
setInterval(doSomething, 5000); 
```

这将每 5 秒滚动到页面底部。如果您有像 facebook 这样基于用户滚动的自动加载内容，这将很有用。

# django - Django：原子 DateTimeField 读写

> ID：12477731
> 
> 赞同：0
> 
> 时间：2012-09-18T13:09:54.907
> 
> 标签：django, datetime, atomic

我有一个`User`带有 field的 Django 模型`balance`，并用它维护一个`balance_last_updated` `DateTimeField`。

为了免费更新余额竞争条件，我需要原子地读取然后`balance_last_updated`在我的 Django 视图中设置。这样，任何更新余额的线程都会在不同的时间段内这样做（对吗？）。

我该怎么做呢？请注意，我使用的是 MySQL MyISAM 表，它[似乎不支持](https://stackoverflow.com/a/1214406/199754)Django[事务](https://docs.djangoproject.com/en/dev/topics/db/transactions)。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:20:10.303

如果您使用的是 Django 1.4，则可以使用[`select_for_update`](https://docs.djangoproject.com/en/dev/ref/models/querysets/#select-for-update)来实现此目的。但**前提**是您的数据库后端支持事务。MyISAM 没有，所以如果原子性（或一般的 ACID）对您的项目很重要，我建议切换到 InnoDB 引擎或 PostgreSQL。

# r - 如何通过添加列将多个 csv 文件合并到 R 中的单个 csv 文件？

> ID：12477733
> 
> 赞同：0
> 
> 时间：2012-09-18T13:10:06.297
> 
> 标签：r, csv, export

我有一系列`.csv`文件被创建为 R 中`for`循环的输出（基于不断变化的变量`STOCKNAME`）。每个`csv`文件都被命名为 for 循环中使用的名称`XXXX.csv`。`XXXX`每个`csv`文件都有三列，但行的大小不同。我想创建一个包含所有不同列的 csv 文件。

```
if csv files 1 is like C1 C2 
and 
csv file 2 is C3 C4 
```

我希望我的最终输出是一个 csv 文件，例如`C1 C2 C3 C4`.

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:36:53.837

如果文件不是太大，即很容易放入内存，您可以使用 cbind 和 lapply 的组合创建一个大的 data.frame，可以使用 write.csv 保存。看起来像：

```
fnames = list.files()
big_list = lapply(fnames, read.csv)
big_data = do.call("cbind", big_list)
write.csv(big_data, file = "big.csv") 
```

为了解决行数不同的问题，您追加 NA 直到行长度相等。在将单个文件合并为一个大对象之前，您必须这样做。查找最大的对象，即大多数行，是使用类似的方法完成的：

```
max_nrow = max(sapply(big_list, nrow)) 
```

# eclipse - 如何在 Eclipse 中禁用 Ctrl Alt M？

> ID：12477738
> 
> 赞同：3
> 
> 时间：2012-09-18T13:10:19.917
> 
> 标签：eclipse, key-bindings

在 Eclipse 中的 Java 编辑器中，按`Ctrl`++会插入一个新行（如按 Enter 键）`Alt`。`M`我怎样才能禁用它？**我在Preferences** > **General** > **Keys**中没有找到任何相应的条目。

如果我按`Alt Gr`+也会发生同样的情况`M`（通常，在许多情况下`Alt Gr`似乎与`Ctrl`+相同）。`Alt`

是否有其他地方可以在 Eclipse（或插件？）中查看/禁用/更改快捷键？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:22:59.063

@msa，转到：窗口->首选项->常规->键。现在在搜索框中输入`Ctrl`++ 。您会在“取消绑定命令”下方找到一个名为“添加内存块”的命令和一个选项。选择命令并按下按钮。现在单击“应用”按钮，您就完成了。`Alt``M`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T14:51:47.803

如 RAS 所述，您可以通过 eclipse **preferences** -> **General** -> **Keys**取消绑定组合键功能。这是一个屏幕截图，方便参考。

![在此处输入图像描述](../Images/87560c6a9f1fdc86ac60aeb318c6f139.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-03-28T08:11:20.283

就我而言，在 Windows 中将其绑定到另一个命令（例如，maven install）时，它会取消绑定。

# python - 比较python中的多个文件

> ID：12477740
> 
> 赞同：1
> 
> 时间：2012-09-18T13:10:32.177
> 
> 标签：python, python-2.7

我有一组包含`n`许多文件的目录，我需要比较每个文件（在一个目录中）并找出它们是否有任何区别。我试过了`filecmp`，`difflib`但它们只支持两个文件。

我还能做些什么来比较/区分文件吗？

此文件包含主机名

```
--------------------------------
Example :- Dir -> Server.1
                    |-> file1
                    |-> file2
                    |-> file3

file1 <- host1 
         host2
         host3

file2 <- host1 
         host2 
         host3 
         host4

file3 <- host1 
         host2 
         host3 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-12T23:13:19.183

我想我会分享将 md5 哈希比较与 os.path.walk() 相结合如何帮助您找出目录树中的所有重复项。目录和文件的数量越大，首先按大小对文件进行排序以排除任何由于大小不同而无法重复的文件可能会更有帮助。希望这可以帮助。

```
import os, sys
from hashlib import md5

nonDirFiles = []

def crawler(arg, dirname, fnames):
    '''Crawls directory 'dirname' and creates global 
    list of paths (nonDirFiles) that are files, not directories'''
    d = os.getcwd()
    os.chdir(dirname)

    global nonDirFiles
    for f in fnames:
        if not os.path.isfile(f):

            continue
        else:       
            nonDirFiles.append(os.path.join(dirname, f))
    os.chdir(d)

def startCrawl():
    x = raw_input("Enter Dir: ")
    print 'Scanning directory "%s"....' %x
    os.path.walk(x, crawler, nonDirFiles)

def findDupes():
    dupes = []
    outFiles = []
    hashes = {}
    for fileName in nonDirFiles:
        print 'Scanning file "%s"...' % fileName
        f = file(fileName, 'r')
        hasher = md5()
        data = f.read()
        hasher.update(data)
        hashValue = hasher.digest()

        if hashes.has_key(hashValue):

            dupes.append(fileName)
        else:
            hashes[hashValue] = fileName

    return dupes

if __name__ == "__main__":
    startCrawl()
    dupes = findDupes()
    print "These files are duplicates:"
    for d in dupes:print d 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:58:38.337

您的问题没有指定您是否需要确定差异或仅查找哪些文件相同/不同 - 所以我将专注于将文件分组在一起。

您可以使用散列将相同的文件组合在一起：

```
from hashlib import md5
from pprint import pprint

def get_filenames():
    return ('file1', 'file2', 'file3')

hashes = {}
for f in get_filenames():
    hd = md5(open(f).read()).hexdigest()
    hashes[hd] = hashes.get(hd, []) + [f]

pprint(hashes)
{'420248eb2e8226ac441cb7516fb7ff23': ['file2'],
 '4f2d7139dc1aa23235e7fad418a5bd10': ['file1', 'file3']} 
```

鉴于您的文件包含主机名列表，您可能希望事先对文件进行排序，例如，

```
file1 <- host1 
         host2
         host3 
```

和

```
file3 <- host3 
         host2
         host1 
```

被认为是等效的。

# sql - 简化存储过程代码

> ID：12477751
> 
> 赞同：1
> 
> 时间：2012-09-18T13:11:08.997
> 
> 标签：sql, sql-server, sql-server-2008, stored-procedures

谁能建议我，以简单的方式编写以下存储过程的替代方法是什么

如果您在所有插入语句中观察 WHERE 条件正在变化
**请参见下面的 where 条件**

```
WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,1,@lCurrentDateTime )  
WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,2,@lCurrentDateTime )  
WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,3,@lCurrentDateTime )  
WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,4,@lCurrentDateTime )  
WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,5,@lCurrentDateTime )  
WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,6,@lCurrentDateTime )  
WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,7,@lCurrentDateTime ) 
```

**请找到以下我必须简化的存储过程**

```
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*------------------------------------------------------------------------------
END MAINTENANCE WRAPPER.
===============================================================================*/
CREATE   PROCEDURE [dbo].[FamilyDates]
(
    @pErrorMessage      VARCHAR(500) = NULL OUT      
)
AS   
BEGIN   

    SET NOCOUNT ON  

    BEGIN TRY

    DECLARE @lCurrentDateTime DATETIME  
    SET @lCurrentDateTime = CONVERT(VARCHAR(10), GETDATE(), 101)

            IF OBJECT_ID('tempdb..#tempSlotsAvailabityForNextTwoDays') IS NOT NULL  
            DROP TABLE #tempSlotsAvailabityForNextTwoDays
            SELECT  ClientId,ClientName, OpenSlotsForNextTwoDays 'OpenSlotsForNextTwoDays'
            INTO    #tempSlotsAvailabityForNextTwoDays
            FROM    Table1  TCS
            WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,1,@lCurrentDateTime )

            IF OBJECT_ID('tempdb..#tempSlotsAvailabityForNextThreeDays') IS NOT NULL  
            DROP TABLE #tempSlotsAvailabityForNextThreeDays
            SELECT  ClientId,ClientName, OpenSlotsForNextTwoDays  'OpenSlotsForNextThreeDays' 
            INTO    #tempSlotsAvailabityForNextThreeDays
            FROM    Table1  TCS
            WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,2,@lCurrentDateTime )

            IF OBJECT_ID('tempdb..#tempSlotsAvailabityForNextFourDays') IS NOT NULL  
            DROP TABLE #tempSlotsAvailabityForNextFourDays
            SELECT  ClientId,ClientName, OpenSlotsForNextTwoDays  'OpenSlotsForNextFourDays'
            INTO    #tempSlotsAvailabityForNextFourDays
            FROM    Table1  TCS
            WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,3,@lCurrentDateTime )

            IF OBJECT_ID('tempdb..#tempSlotsAvailabityForNextFiveDays') IS NOT NULL  
            DROP TABLE #tempSlotsAvailabityForNextFiveDays
            SELECT  ClientId,ClientName, OpenSlotsForNextTwoDays 'OpenSlotsForNextFiveDays'
            INTO    #tempSlotsAvailabityForNextFiveDays
            FROM    Table1  TCS
            WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,4,@lCurrentDateTime )

            IF OBJECT_ID('tempdb..#tempSlotsAvailabityForNextSixDays') IS NOT NULL  
            DROP TABLE #tempSlotsAvailabityForNextSixDays
            SELECT  ClientId,ClientName, OpenSlotsForNextTwoDays 'OpenSlotsForNextSixDays'
            INTO    #tempSlotsAvailabityForNextSixDays
            FROM    Table1  TCS
            WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,5,@lCurrentDateTime )

            IF OBJECT_ID('tempdb..#tempSlotsAvailabityForNextSevenDays') IS NOT NULL  
            DROP TABLE #tempSlotsAvailabityForNextSevenDays
            SELECT  ClientId,ClientName, OpenSlotsForNextTwoDays 'OpenSlotsForNextSevenDays'
            INTO    #tempSlotsAvailabityForNextSevenDays
            FROM    Table1  TCS
            WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,6,@lCurrentDateTime )

            IF OBJECT_ID('tempdb..#tempSlotsAvailabityForEightDays') IS NOT NULL  
            DROP TABLE #tempSlotsAvailabityForEightDays
            SELECT  ClientId,ClientName, OpenSlotsForNextTwoDays 'OpenSlotsForNextEightDays'
            INTO    #tempSlotsAvailabityForEightDays
            FROM    Table1  TCS
            WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,7,@lCurrentDateTime )

            SELECT  SATwoWeeks.EquipmentCode, SATwoWeeks.TestTypeCode, 
                    ISNULL(SAThreeDays.OpenSlotsForNextThreeDays, '0') 'OpenSlots ForNextTwoDays',
                    ISNULL(SAFourDays.OpenSlotsForNextFourDays, '0') 'OpenSlots ForNextThreeDays',
                    ISNULL(SAFiveDays.OpenSlotsForNextFiveDays,'0') 'OpenSlots ForNextFourDays',
                    ISNULL(SASixDays.OpenSlotsForNextSixDays,'0') 'OpenSlots ForNextFiveDays',
                    ISNULL(SASevenDays.OpenSlotsForNextSevenDays, '0') 'OpenSlots ForNextSixDays',
                    ISNULL(SAEightDays.OpenSlotsForNextEightDays,'0') 'OpenSlots ForNextSevenDays',
                    ISNULL(SANineDays.OpenSlotsForNextEightDays,'0') 'OpenSlots ForNextEightDays'
            FROM    #tempSlotsAvailabityForNextTwoDays SATwoWeeks 
                    LEFT    JOIN #tempSlotsAvailabityForNextThreeDays SAThreeDays ON (SAThreeDays.ClientId = SATwoWeeks.ClientId )
                    LEFT    JOIN #tempSlotsAvailabityForNextFourDays SAFourDays ON (SAFourDays.ClientId = SATwoWeeks.ClientId  )
                    LEFT    JOIN #tempSlotsAvailabityForNextFiveDays SAFiveDays ON (SAFiveDays.ClientId = SATwoWeeks.ClientId )
                    LEFT    JOIN #tempSlotsAvailabityForNextSixDays SASixDays ON (SASixDays.ClientId = SATwoWeeks.ClientId )
                    LEFT    JOIN #tempSlotsAvailabityForNextSevenDays SASevenDays ON (SASevenDays.ClientId = SATwoWeeks.ClientId )
                    LEFT    JOIN #tempSlotsAvailabityForEightDays SAEightDays ON (SAEightDays.ClientId = SATwoWeeks.ClientId )

        END TRY 
        BEGIN CATCH 
            SET @pErrorMessage = CONVERT(VARCHAR(10),ERROR_NUMBER()) + ': ' + ERROR_MESSAGE()
        END CATCH
        END 

GO 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:39:28.670

你可以尝试这样的事情：

```
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*------------------------------------------------------------------------------
END MAINTENANCE WRAPPER.
===============================================================================*/
CREATE   PROCEDURE [dbo].[FamilyDates]
(
    @pErrorMessage      VARCHAR(500) = NULL OUT      
)
AS   
BEGIN   

    SET NOCOUNT ON  

    BEGIN TRY

    DECLARE @lCurrentDateTime DATETIME  
    SET @lCurrentDateTime = CONVERT(VARCHAR(10), GETDATE(), 101)

            IF OBJECT_ID('tempdb..#tempSlotsAvailabityForNextTwoDays') IS NOT NULL  
            DROP TABLE #tempSlotsAvailabityForNextDays
            SELECT  ClientId,ClientName, OpenSlotsForNextDays, 
DATEDIFF(day, @lCurrentDateTime, ChamberAvailaBilityDate) AS DayNumber
            INTO    #tempSlotsAvailabityForNextTwoDays
            FROM    Table1  TCS
            WHERE   TCS.ChamberAvailaBilityDate  BETWEEN
DATEADD(DAY,1,@lCurrentDateTime ) 
AND DATEADD(DAY,8,@lCurrentDateTime )

            SELECT  DayNumber,
                    [1], [2], [3], [4], [5], [6], [7]
            FROM (
            SELECT  DayNumber,   OpenSlotsForNextDays     
            FROM    #tempSlotsAvailabityForNextDays SANextDays) AS SourceTable
            PIVOT
            (
             MIN(OpenSlotsForNextDays)
             FOR DayNumber IN ([1], [2], [3], [4], [5], [6], [7])
             ) AS PivotTable

        END TRY 
        BEGIN CATCH 
            SET @pErrorMessage = CONVERT(VARCHAR(10),ERROR_NUMBER()) + ': ' + ERROR_MESSAGE()
        END CATCH
        END 

GO 
```

（*注意：我无法测试它，但一般的解决方案是 PIVOT 并且只有一个临时表*）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:53:47.663

从哪儿开始....

首先从日期中删除时间使用日期函数，而不是 varchar 转换，尽管在这种情况下它不是那么有害，这是一个很好的做法：

```
DECLARE @lCurrentDateTime DATE = CAST(GETDATE() AS DATE) 
```

接下来，您选择`SATwoWeeks.EquipmentCode`AND `SATwoWeeks.TestTypeCode`， from `#tempSlotsAvailabityForNextTwoDays SATwoWeeks`，但是当您创建时`#tempSlotsAvailabityForNextTwoDays`，这些列均未定义：

```
IF OBJECT_ID('tempdb..#tempSlotsAvailabityForNextTwoDays') IS NOT NULL  
DROP TABLE #tempSlotsAvailabityForNextTwoDays
SELECT  ClientId,ClientName, OpenSlotsForNextTwoDays 'OpenSlotsForNextTwoDays'
INTO    #tempSlotsAvailabityForNextTwoDays
FROM    Table1  TCS
WHERE   TCS.ChamberAvailaBilityDate  = DATEADD(DAY,1,@lCurrentDateTime ) 
```

`EquipmentCode`鉴于我不知道从哪里来，很难推断出你想要做什么`TestTypeCode`，但是我建议完全废弃使用临时表，因为你没有重用你的数据，如果你只是使用它们来制作SQL 更清晰可考虑使用公用表表达式。例如

```
;WITH NextTwoDays AS
(   SELECT  ClientId,ClientName, OpenSlotsForNextTwoDays AS OpenSlots
    FROM    Table1  TCS
    WHERE   TCS.ChamberAvailaBilityDate = DATEADD(DAY, 1, @lCurrentDateTime)    
), NextThreeDays AS
(   SELECT  ClientId,ClientName, OpenSlotsForNextTwoDays AS OpenSlots
    FROM    Table1  TCS
    WHERE   TCS.ChamberAvailaBilityDate = DATEADD(DAY, 2, @lCurrentDateTime)
), NextFourDays AS
(   ...
)
SELECT  NextTwoDays.ClientID, 
        NextTwoDays.OpenSlots AS NextTwoDays,
        COALESCE(NextThreeDays.OpenSlots, 0) AS NextThreeDays,
        COALESCE(NextFourDays.OpenSlots, 0) AS NextFourDays
FROM    NextTwoDays
        LEFT JOIN NextThreeDays
            ON NextTwoDays.ClientID = NextThreeDays.ClientID
        LEFT JOIN NextFourDays
            ON NextTwoDays.ClientID = NextFourDays.ClientID 
```

或者，如果`Table1`足够大以保证在加入之前提取数据，请考虑使用单个临时表：

```
CREATE TABLE #Temp 
(       DayNumber       INT NOT NULL,
        ClientID        INT NOT NULL,
        ClientName      VARCHAR(255) NOT NULL,
        OpenSlots       INT NOT NULL
)
INSERT INTO #Temp
SELECT  DATEDIFF(DAY, @lCurrentDateTime, TCS.ChamberAvailaBilityDate),
        ClientID,
        ClientName,
        OpenSlotsForNextTwoDays
FROM    Table1
WHERE   TCS.ChamberAvailaBilityDate BETWEEN DATEADD(DAY, 1, @lCurrentDateTime) AND DATEADD(DAY, 7, @lCurrentDateTime) 

SELECT  two.ClientID, 
        two.OpenSlots AS NextTwoDays,
        COALESCE(three.OpenSlots, 0) AS NextThreeDays,
        COALESCE(four.OpenSlots, 0) AS NextFourDays
FROM    #Temp two
        LEFT JOIN #Temp three
            ON two.ClientID = three.ClientID
            AND three.DayNumber = 2
        LEFT JOIN #Temp four
            ON two.ClientID = four.ClientID
            AND four.DayNumber = 2
WHERE   two.dayNumber = 1 
```

或者，如果您希望按天汇总数据，您可以使用“PIVOT”

```
;WITH Data AS
(   SELECT  DATEDIFF(DAY, @lCurrentDateTime, TCS.ChamberAvailaBilityDate) AS DayNum,
            ClientID,
            ClientName,
            OpenSlotsForNextTwoDays
    FROM    Table1
    WHERE   TCS.ChamberAvailaBilityDate BETWEEN DATEADD(DAY, 1, @lCurrentDateTime) AND DATEADD(DAY, 7, @lCurrentDateTime) 
)
SELECT  ClientID,
        [1] AS NextTwoDays,
        [2] AS NextThreeDays,
        [3] AS NextFourDays,
        [4] AS NextFiveDays,
        [5] AS NextSixDays,
        [6] AS NextSevenDays,
        [7] AS NextEightDays
FROM    Data
        PIVOT
        (   SUM(OpenSlots)
            FOR DayNum IN ([1], [2], [3], [4], [5], [6], [7])
        ) pvt 
```

最后，您是否考虑过可能在 中`NextThreeDays`但不在 中的记录`Nexttwodays`，这些将永远不会出现，因为`NextTwoDays`是您从中选择的表。您可能需要创建另一个包含所有日期的记录的表，或者使用`FULL JOIN`s

最终，我认为需要更多信息才能完全回答您的问题。

# .net - 使用 ILMerge 但保留命名空间

> ID：12477752
> 
> 赞同：0
> 
> 时间：2012-09-18T13:11:13.257
> 
> 标签：.net, dll, ilmerge

是否可以通过 ILMerge 合并几个程序集并保留所有库的初始命名空间？

感谢您的任何反馈。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:15:59.960

当然。只需使用 ILMerge。它不会更改任何名称空间。
它所做的只是从每个程序集中加载单个[模块](https://stackoverflow.com/questions/645728/what-is-a-module-in-net)并将所有模块放入一个程序集中。

# c++ - 这是一个什么样的模板？

> ID：12477755
> 
> 赞同：1
> 
> 时间：2012-09-18T13:11:20.863
> 
> 标签：c++, templates

> **可能重复：**
> [我必须在哪里以及为什么要放置“模板”和“类型名称”关键字？](https://stackoverflow.com/questions/610245/where-and-why-do-i-have-to-put-the-template-and-typename-keywords)

这是片段代码：

```
template <typename alloc_t>
int Protocol_v2<alloc_t>::create(..., alloc_t *alloc, ...) {
    Protocol_v2<alloc_t> * pack = alloc->template malloc<Protocol_v2<alloc_t> >(); 
```

Protocol_v2 是一个模板类，如下：

```
 template <typename alloc_t>
class Protocol_v2  { ...} 
```

alloc_t 是一个类，如下：

```
class reverse_allocator { 
...
template<typename T>
    inline T * malloc() {}
...
} 
```

困扰我的是这一行：

```
Protocol_v2<alloc_t> * pack = alloc->template malloc<Protocol_v2<alloc_t> >(); 
```

那什么意识？到目前为止，我还没有在 c++ 入门中看到这一点。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:37:46.923

听起来你被显示在行中间的“模板”关键字吓跑了，特别是调用

```
alloc->template malloc<Protocol_v2<alloc_t> >(); 
```

关键是你想这样做：

```
alloc->malloc<Protocol_v2<alloc_t> >(); 
```

...但是解析器不知道 alloc_t 的 malloc 成员应该是一个模板，所以它会出错。添加模板关键字为其提供了足够的信息以继续。

在对原始问题的评论中发布的链接 Flexo 中对此进行了更广泛的解释。

# javascript - Javascript错误1

> ID：12477756
> 
> 赞同：-7
> 
> 时间：2012-09-18T13:11:21.570
> 
> 标签：javascript

我正在使用 javascript 进行必填字段验证，我使用了警报框，在警报框中单击确定后，控件也转到服务器端代码以进行保存单击

```
function IsFieldEmpty() {
    var txtAgent_Name = document.getElementById("<%=txtAgent_Name.ClientID %>");

    if (txtAgent_Name.value == "") {
        alert('Please Enter Agent Name');
        txtAgent_Name.focus();
        return false;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:13:03.023

如果问题是某些事件处理程序在显示`alert`验证错误通知后仍在提交数据，则您可能需要`false`在显示 后使事件处理程序函数返回`alert`，以防止进一步处理该事件。

正如@Bergi 在他的评论中指出的那样，如果您使用的是 JQuery 或其他框架，您可能需要使用`stopPropagation()`或等效。看

*   [如何在复选框单击时停止事件冒泡](https://stackoverflow.com/q/1164213/851811)
*   [event.preventDefault() 与 return false](https://stackoverflow.com/q/1357118/851811)。

**更新**

看到发布的代码，重要的`return false`是要注意在函数内部完成`IsFieldEmpty`。这意味着这`false`是 的返回值`IsFieldEmpty`。请注意，如果您以与此类似的方式提交数据：

```
<input type="submit" onclick="IsFieldEmpty()"> 
```

`IsFieldEmpty`将返回 false 但事件处理程序不会。如果是这种情况，您应该将其更改为：

```
<input type="submit" onclick="return IsFieldEmpty()"> 
```

并在通过验证时`IsFieldEmpty`返回。`true`

```
function IsFieldEmpty() {
    var txtAgent_Name = document.getElementById("<%=txtAgent_Name.ClientID %>");

    if (txtAgent_Name.value == "") {
        alert('Please Enter Agent Name');
        txtAgent_Name.focus();
        return false;
    }
    return true;
} 
```

# matlab - matlab确定曲线

> ID：12477761
> 
> 赞同：0
> 
> 时间：2012-09-18T13:11:34.407
> 
> 标签：matlab

我有一个带有许多曲线循环的图，它们都相似但彼此不同。我的目标是从所有这些曲线中找到平均曲线。我不能说每条曲线的起点或终点在哪里，因为每个周期都是不同的。我所拥有的只是一个包含两列的 excel 文件，一列带有 x 坐标，另一列带有 y 坐标。

任何帮助不胜感激！非常非常感谢你！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:25:28.540

尝试绘制不同颜色的图。对感知会更好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:17:34.093

由于您在 excel 中仍然有这个，您可以只构建一个 y 坐标向量（中值）并绘制这个。

# symfony - Behat 我的定义未加载

> ID：12477762
> 
> 赞同：0
> 
> 时间：2012-09-18T13:11:37.853
> 
> 标签：symfony, behat

我已经把一个巨大的列表定义放在我的`FeatureContext`唯一的问题是当我这样做时：`bin/behat -c app/config/behat.yml -dl`它们没有显示在列表中

这是我的`behat.yml`配置：

```
default:
    paths:
        features: features
    context:
        parameters:
            class: BundleMyBundle\Features\Context\FeatureContext
    extensions:
        Behat\Symfony2Extension\Extension:
            kernel:
                env: test
                debug: true

        Behat\MinkExtension\Extension:
            default_session: sahi
            javascript_session: sahi
            sahi: ~
            browser_name: firefox
            base_url:   http://myapp.dev/ 
```

`ContextClass`itslef 是在我运行命令时生成的`--init`，我只是在其中添加了定义。

我错过了什么 ？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:27:09.900

类配置完全错误:)

使用`extensions > Behat\Symfony2Extension\Extension > bundle`：

```
default:
    paths:
        features: features
    extensions:
        Behat\Symfony2Extension\Extension:
            kernel:
                env: test
                debug: true
            bundle: BundleMyBundle

        Behat\MinkExtension\Extension:
            default_session: sahi
            javascript_session: sahi
            sahi: ~
            browser_name: firefox
            base_url:   http://myapp.dev/ 
```

# r - 使用 `$` 命名数据框列向量

> ID：12477763
> 
> 赞同：2
> 
> 时间：2012-09-18T13:11:39.827
> 
> 标签：r, dataframe

有人可以解释为什么在下面的示例中，即使它被明确命名并且可以这样调用但对于该列而言，列名`why`似乎仍然存在？`x``why``zz`

```
df<-data.frame(x=1:5,y=1:5)
df$z<-"a"
df$zz<-df$x*df$y
df$why<-df[1]*df[2]

df

df["why"] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T13:20:03.170

因为您实际上是将数据框存储到为什么 - 而不是向量中。

```
> str(df)
'data.frame':   5 obs. of  4 variables:
 $ x  : int  1 2 3 4 5
 $ y  : int  1 2 3 4 5
 $ z  : chr  "a" "a" "a" "a" ...
 $ why:'data.frame':    5 obs. of  1 variable:
  ..$ x: int  1 4 9 16 25
> str(df[1]*df[2])
'data.frame':   5 obs. of  1 variable:
 $ x: int  1 4 9 16 25
> str(df[,1] * df[,2])
 int [1:5] 1 4 9 16 25  
> df$why2 <- df[,1]*df[,2]
> df
  x y z  x why2
1 1 1 a  1    1
2 2 2 a  4    4
3 3 3 a  9    9
4 4 4 a 16   16
5 5 5 a 25   25 
```

`df[1]`返回 df 的第一个元素作为子列表。数据框是一种特殊类型的列表，这就是为什么您可以使用这种类型的索引来抓取列的原因。但是，仅使用单括号告诉它返回包含感兴趣元素的子列表（而不仅仅是感兴趣的元素）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:16:09.247

可能是您的问题是索引，试试这个：

```
df$zz<-df$x*df$y       # this should replace df$zz<-x*y
df$why<-df[,1]*df[,2]  # this repaces df$why<-df[1]*df[2]

df
  x y z zz why
1 1 1 a  1   1
2 2 2 a  4   4
3 3 3 a  9   9
4 4 4 a 16  16
5 5 5 a 25  25

df["why"]
  why
1   1
2   4
3   9
4  16
5  25 
```

# android - 如何告诉android永远不要修改指定视图

> ID：12477770
> 
> 赞同：0
> 
> 时间：2012-09-18T13:12:07.280
> 
> 标签：android, view

我正在通过代码创建我的表格布局，因为我从 db 获取值，包括列名。我想告诉android，一旦我将它添加到我的表格布局中，它就永远不能修改列名的行。我可以做吗？

先感谢您 ：）

# android - navigator.notification.alert() 在 cordova-2.0.0.js 中不起作用？

> ID：12477772
> 
> 赞同：0
> 
> 时间：2012-09-18T13:12:11.487
> 
> 标签：android, cordova, cordova-2.0.0

我是 phonegap 的新手。在我的应用程序中，我想显示警报。为此，我使用了以下代码，

```
navigator.notification.alert("PhoneGap is working"); 
```

但它不起作用。我的总 html 代码是，

```
 <html>
  <head> 
  <script type="text/javascript" charset="utf-8" src="js/cordova-2.0.0.js"></script>
    <script>   

       function inti()
    {
     alert("inti");
     document.addEventListener("deviceready", onDeviceReady, true);

    }
     function onDeviceReady() {
          alert("on device ready!!!!");
     navigator.notification.alert("PhoneGap is working");
    } 
    </script>
  </head>
  <body onload="inti()">
    <p id="demo">System date</p>
    <input type="button" onclick="noti()" value="Date" />
  </body>
</html> 
```

我得到了`Cannot call method 'alert' of undefined i got this error`。任何人都可以指导我解决这个问题。提前致谢 .....

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T13:13:32.877

您忘记添加 cordova.js 。尝试添加这个。

`<script type="text/javascript" charset="utf-8" src="js/cordova-2.0.0.js"></script>`

还添加

`document.addEventListener("deviceready", onDeviceReady, true);`以上`onDeviceReady()`功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-12T11:29:44.013

检查您的 Cordova Jar 文件版本，您已写入`<script>`. 可能会有所不同。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-05-31T13:37:46.140

navigator.notification.alert( "Yes", callBackFunctionB, // 指定要调用的函数 'Heading', "OK" );

# vb.net - 静默运行 CMD

> ID：12477776
> 
> 赞同：3
> 
> 时间：2012-09-18T13:12:15.763
> 
> 标签：vb.net, cmd, silent

我正在尝试以静默方式运行 CMD，但每次都出现错误。有人可以告诉我哪里出错了吗？

```
Dim myProcess As Process 
myProcess.StartInfo.WindowStyle = ProcessWindowStyle.Hidden 
myProcess.StartInfo.CreateNoWindow = True 
myProcess.StartInfo.FileName = ("cmd.exe" & CmdStr) 
myProcess.Start() 
```

CmdStr 已经是一个字符串，可以在应用程序中执行我想要的某些事情。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-18T13:16:13.190

我想你的 cmdStr 是一个带有 CMD 参数的字符串。
如果是这样，您需要使用 StartInfo 的 Arguments 属性。
您会在 myProcess 变量上获得 Null 异常，因为它永远不会被 new 实例化。您可以创建一个 ProcessStartInfo var 以与静态 Process.Start 方法一起使用并将 UseShellExecute 设置为 False

```
Dim startInfo As New ProcessStartInfo("CMD.EXE")
startInfo.WindowStyle = ProcessWindowStyle.Hidden     
startInfo.CreateNoWindow = True 
startInfo.UseShellExecute = False
startInfo.Arguments = CmdStr
Process.Start(startInfo) 
```

或编辑您的代码以添加

```
myProcess = new Process() 
```

在使用 var myProcess 之前

# c# - Metro 菜单使用 viewport3D 如何放置和调整项目大小

> ID：12477777
> 
> 赞同：1
> 
> 时间：2012-09-18T13:12:16.047
> 
> 标签：c#, 3d, winrt-xaml, windows-store-apps

我正在尝试创建一个类似**Windows 8 开始菜单（地铁）的菜单**

创建按钮并不难（我的意思是那些你们都看到的带有图像和描述文本的 Metro 风格的特殊按钮）并为它们做一些动画，比如当鼠标悬停在文本更改并显示完整描述时。我创造那些并不难，但是......

如果您仔细查看 win 8 开始菜单，您会在单击按钮后看到一个 3DRotation 动画，该动画围绕 Y 轴旋转按钮并将其缩放到大（缩放动画）。按钮出现在前面并全屏显示，然后页面加载和页面元素淡入页面。

经过 1 天的搜索，我明白我必须使用 3d 工作，而我不能用 2d 动画和变换来做到这一点。

现在我创建了一个 viewport3D 并将我的视觉对象放在其中（4 个按钮（UserControl）），然后单击它旋转动画工作。我使用 Viewport2DVisual3D 在 3d viewport3D 中显示我的按钮。

**问题在这里：**

**1-**如何将我的元素调整为全屏窗口（我缩放它，但它不是完全全屏，其他元素仍然在这个大屏幕的后面，如果用户调整窗口缩放失败！）

**2-**在做动画之后如何从窗口中删除其他菜单按钮（如关闭和最小化）。（我有一个具有 viewport3D 的网格和两个按钮关闭并在缩放按钮后最小化它们仍然存在（我必须设置那些viewport3D 中也有 2 个按钮**？**因为我不需要它们的 3d 效果））

**3-**当你最大化窗口 3d 元素错过了真实的地方我怎么能像在 viewport3D 中放置网格一样。（不要忘记我不能把我的按钮放在网格中，因为我需要动画视觉然后如果我把它们放在网格中视觉将是完整的grid ，所有网格都会得到动画）

我在 VS2010 中使用 wpf，目标 pc 和 xp 和 7 windows **；**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-21T09:48:00.700

在 viewport3d 中，有 scalex、scaley 和 scalez 等属性。你可以给每个轴缩放，我也想，你必须调整 fov，近平面距离。缩放时。

请参考此链接[https://social.msdn.microsoft.com/Forums/vstudio/en-US/642253a6-e7a5-4ce2-bc08-e91f2634605b/disable-autoresize-autoscale-in-viewport3d?forum=wpf](https://social.msdn.microsoft.com/Forums/vstudio/en-US/642253a6-e7a5-4ce2-bc08-e91f2634605b/disable-autoresize-autoscale-in-viewport3d?forum=wpf)

# actionscript-3 - Flex：复杂的拖放

> ID：12477779
> 
> 赞同：0
> 
> 时间：2012-09-18T13:12:24.457
> 
> 标签：actionscript-3, flash, flex4

我有一个带有可折叠面板的 GUI 项目，然后在这些面板中，您可以将项目拖放到“舞台”区域，并将媒体元素添加到舞台。我正在使用这个可折叠面板代码：[http ://www.iwobanas.com/2009/09/creating-collapsible-panel-in-flex-4/](http://www.iwobanas.com/2009/09/creating-collapsible-panel-in-flex-4/)

但是，我还需要这个 GUI 是可更改的，以便用户可以将面板移动到他们想要的任何地方。

我尝试在面板上做一个简单的拖放系统，但有两个主要问题

1.  添加拖动事件删除了折叠面板的能力（因为两者都是鼠标事件）

2.  将面板拖到“舞台”上将其视为媒体元素，并且会抛出空对象引用，因为它显然不是媒体元素。

所以我想我会添加一个 if 语句来忽略任何不是媒体元素的东西。这也没用，我查了资料，

```
var itemTL:TileList = event.dragInitiator as TileList;
trace("This is the Dragged init " + itemTL.selectedItem.appListElement); 
```

但是，媒体元素和面板本身都可以追踪到类似的信息，而我可以从中提取出很多信息来构建 if 语句。

所以我有点想知道如何制作一个可以在舞台上移动的可折叠面板，但实际上并没有像面板本身的信息那样添加到舞台上。

# javascript - Ext.log 函数为空函数

> ID：12477781
> 
> 赞同：4
> 
> 时间：2012-09-18T13:12:31.007
> 
> 标签：javascript, extjs

我尝试使用[Ext.log](http://docs.sencha.com/ext-js/4-1/#!/api/Ext-method-log)，但`Ext.log`返回一个空函数 ( `function () {}`)

我用`./ext-4.1.1/ext-all-debug.js`. 我认为只有生产版本删除了日志记录功能。

我想念什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T14:14:33.600

使用`ext-all-dev.js`代替`ext-all-debug.js`并`Ext.log`像这样使用：

```
Ext.log({level:'debug'}, 'debug message'); 
```

# testcomplete - TestComplete 卡在未知物体上

> ID：12477783
> 
> 赞同：0
> 
> 时间：2012-09-18T13:12:38.697
> 
> 标签：testcomplete

我有一个关于 TestComplete 的问题。我的自动化测试有时会跳到被测应用程序的不同窗口中，然后就卡在那里了。这是由指定测试的未知控件引起的（它正在搜索窗口上不存在的 fe 组合框）。如果有某种方法可以避免这种情况并跳到另一个测试，我在徘徊吗？问题是 TC 一直在寻找不存在的对象的无限循环。

提前感谢您的回复。约瑟夫

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-19T11:16:50.957

您需要使用测试项目来组织测试。在这种情况下，您将能够为测试项的**Stop on error属性指定****Test Item**值，如果在当前测试执行期间发生错误，TestComplete 将开始执行下一个测试。您可以在[测试和测试项目](http://support.smartbear.com/viewarticle/29699/)以及[停止错误和异常测试](http://support.smartbear.com/viewarticle/28751/)帮助主题中找到更多信息。

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-19T08:41:21.833

它不会单独跳到那里，是吗？确保按下正确的按钮。如果 2 个窗口相似，并且在一个窗口中有要测试的 ComboBox，而在另一个窗口中没有，那么我会选择这样的东西：

```
if(Aliases.GenericWindow.WaitAliasChild("ComboBoxInQuestion", customTimeoutInMilliseconds).Exists)
  Log.Message("Do something with ComboBox"); 
```

可以在 WaitAliasChild 函数中设置超时。这将等待 customTimeoutInMilliseconds，如果没有找到 ComboBox，它只会跳过为 ComboBox 进行的测试。**

# android - 如何为 onItemClick 设置行 ID

> ID：12477784
> 
> 赞同：1
> 
> 时间：2012-09-18T13:12:39.073
> 
> 标签：android, android-arrayadapter, onitemclicklistener

我有 onItemClick 侦听器，我想使用 id 值。但它与位置具有相同的价值。

```
public void onItemClick(AdapterView<?> a, View view, int position, long id) {
    DBh.something(id);
} 
```

我使用自定义的 ArrayAdapter 类似于那个： [onItemClickListener with custom adapter and listview](https://stackoverflow.com/questions/11265743/onitemclicklistener-with-custom-adapter-and-listview)

我尝试使用 row.setId() 但它的 int 不长。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T13:24:56.030

我不是在问你*为什么*要这样做（你可能有你的理由），所以只会解释*如何*去做。由于您已经在实现自定义适配器，因此您需要做的就是覆盖该`getItemId`方法：

```
@Override
public long getItemId(int position) {
    //return ID based on the position
    return ...;
} 
```

然后这个值将被传递给其他接收项目 ID 的方法。请注意，如果您知道如何从该位置获取 ID，那么您可以直接在 中进行操作`onItemClickListener`，因为该位置已传递给它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:24:12.723

你到底想达到什么目的？在您的适配器中，您可以覆盖“getItemId(int position)”，并使其返回您要为项目提供的任何 ID。但是为什么使用 id 值，为什么不简单地使用位置呢？

# android - BU.MP sdk：向频道/用户发送消息

> ID：12477790
> 
> 赞同：0
> 
> 时间：2012-09-18T13:13:02.923
> 
> 标签：android, bump

首先..两者有什么区别？多个用户可以订阅同一个频道吗？其次，我可以通过定义 BroadcastReceiver 的代码向我遇到的另一部手机发送消息

```
else if (action.equals(BumpAPIIntents.CHANNEL_CONFIRMED)) {
                long channelID = intent.getLongExtra("channelID", 0);
                Log.i("Bump Test", "Channel confirmed with " + api.userIDForChannelID(channelID));
                Toast.makeText(getBaseContext(), "Channel confirmed with " + api.userIDForChannelID(channelID), Toast.LENGTH_SHORT).show();
                api.send(channelID, "Hello, world!".getBytes()); 
```

AFAIK 会话然后保持打开状态，我可以发送后续消息。我不知道该怎么做。我真的希望凹凸 api 有（更好的）文档 :(

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T02:05:41.560

我不确定您的问题“两者有什么区别”？

关于多个用户是否可以在同一个频道上订阅，根据我的个人经验，我认为这是不可能的。

是的，您可以在收到 CHANNEL_CONFIRMED 广播后开始调用 api.send()。

# erlang - {'EXIT',"invalid hostname"} 启动 Ejabberd 时

> ID：12477800
> 
> 赞同：0
> 
> 时间：2012-09-18T13:13:53.893
> 
> 标签：erlang, ejabberd

我使用 OTP/r15b02 在我的 Lion 上安装了 Ejabberd。

启动 Ejabberd 时，日志中有一个错误

```
=CRASH REPORT==== 18-Sep-2012::21:05:54 ===
  crasher:
    initial call: application_master:init/4
    pid: <0.176.0>
    registered_name: []
    exception exit: {bad_return,{{ejabberd_app,start,[normal,[]]},
                                 {'EXIT',"invalid hostname"}}}
      in function  application_master:init/4 (application_master.erl, line 138)
    ancestors: [<0.175.0>]
    messages: [{'EXIT',<0.177.0>,normal}]
    links: [<0.175.0>,<0.147.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 24
    reductions: 151
  neighbours: 
```

谁能告诉我原因，谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T07:18:06.943

跟踪 ejabberd 代码，我发现如果 ejabber 配置文件中的主机（或主机）定义不正确，您应该有此返回。

exmpp_stringprep:nodeprep(Host) 为您定义的主机名之一引发错误。我想你可以在shell中检查它。

另一个可能的原因是 exmpp 尚未启动，但我猜 ejabber 正在处理这个问题。

在我看来，ejabber 不应该重新定义来自 exmpp_stringprep:nodeprep 的错误消息，因为它可以帮助调试：{error, invalid_string | exmpp_not_started} 提供比 {exit,invalid hostname} 更多的信息，或者更好的是，它不应该捕获它，因为它无论如何都会失败。

# wordpress - 按月获取用户帖子的存档 Wordpress

> ID：12477801
> 
> 赞同：0
> 
> 时间：2012-09-18T13:13:59.847
> 
> 标签：wordpress, archive, author

我正在开发一个有多个作者的网站，到目前为止，我已经成功地创建了一个显示特定作者帖子的作者模板。

接下来我想做的是在侧边栏中按月份显示该特定作者的档案。它的工作方式与 wp_get_archives() 相同，但只会返回作者的帖子，而不是曾经发布的每个帖子。

是否有任何内置的 WP 功能可以帮助我？

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T23:07:48.357

所以我终于想出了一个解决方案。这可能不是最有效的方法，但我很想知道是否有人有更好的方法。:)

我基本上发现 WP 能够通过[http://mysite.com/?author=2](http://mysite.com/?author=2)之类的 url 检索用户帖子的存档。

从那里开始，只需弄清楚如何让作者的 ID 附加到 url 上。

```
<?php $curauth = (isset($_GET['author_name'])) ? get_user_by('slug', $author_name) : get_userdata(intval($author)); ?>

    <?php
    if(is_author()){ ?>
        <h3>ARCHIVES</h3>
        <ul>
        <?php
        $archives = wp_get_archives('type=monthly&echo=0');
        $archives = explode('</li>',$archives);
        $links = array();
        foreach($archives as $archive){
            $url = preg_replace("/<a href='(.+)' title='(.+)'>/", "<a href='$1&author={$curauth->ID}' title='$2'>", $archive);
            echo $url.'</li>';
        }
        ?>
        </ul>
    <?php } ?> 
```

无论如何，如果有更好的方法，请随意挑选。

# jquery - 如何调用多日期选择器 jquery

> ID：12477807
> 
> 赞同：1
> 
> 时间：2012-09-18T13:14:22.413
> 
> 标签：jquery, jquery-ui, jquery-plugins

我`MultiDatesPicker v1.6.1 for jQuery UI`在我的项目中使用，但出现错误。

我`<input type='text'>`动态地做我的

```
 icones = "<input type='text' id='datacurso_" + drv["Usuario_Id"].ToString() + "' onclick='javascript:chamaData(this.id)'  />"; 
```

**渲染**

```
<input id="datacurso_3636" onclick="javascript:chamaData(this.id)" type="text"/> 
```

在我`<script>`的函数中，我调用了名为`chamaData`传递 id 的函数。

```
function chamaData(id) {
        $("#" + id).multiDatesPicker({  maxPicks: 2 });
} 
```

但是当我点击我的`<input type='text'>`

**错误**

```
Microsoft JScript: Conversion from "string" format not allowed on jQuery.multiDatesPicker 
```

有人可以帮助我吗？

这个想法是当我点击我`<input type='text'>`的日期选择器显示

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-01T18:24:35.353

我的项目也面临一个错误，但它看起来像一个冲突。检查这个**[http://jsbin.com/ahebuy/1/watch](http://jsbin.com/ahebuy/1/watch)** - 这是一个图书馆数量最少的例子

就我而言，这是与 jquery.tablesorter.js 的冲突

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-20T12:22:24.347

我发现问题不来自`multiDatesPicker`. 我们必须看一下之前的js代码的一部分`multiDatePicker`。我有一个`Array.prototype`就在什么造成错误之前......然后做睾丸并注释掉之前运行的js代码`multiDatesPicker`。

现在一切都对我有用。

# wcf - Metro 应用程序中的服务引用而不是 Web 引用

> ID：12477809
> 
> 赞同：2
> 
> 时间：2012-09-18T13:14:32.950
> 
> 标签：wcf, soap, service, windows-8

我正在寻找一种从 NET 4.0 应用程序使用此 Web 服务的方法：

[http://resultsservice.lottery.ie/ResultsService.asmx](http://resultsservice.lottery.ie/ResultsService.asmx)

像往常一样，我将服务引用添加到服务中，显然代理已创建，一切看起来都很正常，但是调用“GetResults”方法会引发异常：

```
var service = new LotteryResultsServiceSoapClient("LotteryResultsServiceSoap");
var results = service.GetResults(DrawType.EuroMillions, 1); 
```

你调用的对象是空的。

这很少见，因为该服务的其他方法 (GetProjectedJackpot) 运行良好。我尝试添加 Web 引用而不是服务引用，但令人惊讶的是……它工作正常。所以，也许我做错了什么。

问题是我无法使用 Web 引用，因为我想将此应用程序移植到 WindowsRT，而 Metro 应用程序不支持 Web 引用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T15:27:29.120

Web Reference generated proxies include a User-Agent value in the header of the outgoing HTTP message. Service Reference generated proxies do not add this value by default. Luckily, this behavior is pretty well documented.

It appears that the null object exception is resulting from the missing User-Agent value in the Service Reference proxy. The value being populated by the Web Reference is Mozilla/4.0 (compatible; MSIE 6.0; MS Web Services Client Protocol 4.0.30319.269). Using Charles Proxy I was able to verify that adding this value to all out-going HTTP messages generated by the Service Reference will solve your problem.

WCF provides several possible ways to modify outgoing soap messages and HTTP requests. [Here](http://msmvps.com/blogs/paulomorgado/archive/2007/04/27/wcf-building-an-http-user-agent-message-inspector.aspx) is a really great article that discusses a couple of these solutions and contains some good code samples.

# javascript - Javascript try...catch - 2 个相同的调用，只有一个有效

> ID：12477810
> 
> 赞同：0
> 
> 时间：2012-09-18T13:14:33.097
> 
> 标签：javascript

我正在重新设计菜单/子菜单 - 只需将子菜单从页面底部的某处移动到相应的菜单项下。现在，在页面中发现了两次相同的子菜单（操作），只有一次它在鼠标悬停时被 jQuery 隐藏和显示。在这两个菜单中，我都有一个选项指向带有 try...catch 块的函数。

这就是问题所在，当使用 jQuery 显示的操作时，Javascript 在 try 块中崩溃（“某事”是未定义的 - 经典），就像“尝试”这个词甚至不存在一样。我使用了 firebug 调试器，在使用其他子菜单时也会出现同样的错误，但这只是被跳过并执行了内部 catch 中的代码。

我只是不明白这是怎么可能的，因为这两个选项都调用了相同的函数，而不是 2 个“相同”的函数......

有什么想法吗？谢谢 ：）

**编辑我：**

```
function export_pdf() {
            try {
                ReportType=document.forms["down"].elements["ReportType"].value;
            }
            catch (e) {
                ReportType='TDR_Report';
            }

            //other code...
} 
```

错误是“document.forms.down.elements.ReportType is undefined”...

谢谢！

**编辑二：**

调用函数：

```
onclick="export_pdf();" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:50:02.750

在这种情况下，我会尽量避免 try .. 捕获并测试 ReportType。如果 ReportType 未定义，请手动设置该值。

```
function export_pdf() {

    if (document.forms["down"].elements["ReportType"] === undefined){
        ReportType = 'TDR_Report';
    } else {
        ReportType = document.forms["down"].elements["ReportType"].value;
    }

    //other code...
} 
```

# android - MapView 中的 OutOfMemoryError

> ID：12477813
> 
> 赞同：0
> 
> 时间：2012-09-18T13:14:38.927
> 
> 标签：android, google-maps, android-mapview, google-maps-mobile

我在我的应用程序中遇到了 OutOfMemoryError，但在我的代码中却没有，我会看到如何处理/捕获它。任何想法如何预防/解决？

```
java.lang.OutOfMemoryError
at android.graphics.Bitmap.nativeCreate(Native Method)
at android.graphics.Bitmap.createBitmap(Bitmap.java:605)
at android.graphics.Bitmap.createBitmap(Bitmap.java:585)
at com.google.android.maps.ZoomHelper.createSnapshot(ZoomHelper.java:444)
at com.google.android.maps.ZoomHelper.beginZoom(ZoomHelper.java:194)
at com.google.android.maps.MapView$2.onScaleBegin(MapView.java:380)
at android.view.ScaleGestureDetector.onTouchEvent(ScaleGestureDetector.java:261)
at com.google.android.maps.MapView.onTouchEvent(MapView.java:682)
at android.view.View.dispatchTouchEvent(View.java:5552)
at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1951)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1712)
at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1957)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1726)
at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1957)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1726)
at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1957)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1726)
at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1957)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1726)
at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1957)
at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1726)
at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1928)
at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1376)
at android.app.Activity.dispatchTouchEvent(Activity.java:2364)
at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1876)
at android.view.View.dispatchPointerEvent(View.java:5736)
at android.view.ViewRootImpl.deliverPointerEvent(ViewRootImpl.java:2920)
at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2473)
at android.view.ViewRootImpl.processInputEvents(ViewRootImpl.java:847)
at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2482)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4424)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:558) 
```

发生在装有 Android 4.0.3 的 ThinkPad 平板电脑上

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:23:30.533

您无法捕获 OutofMemory 错误。
谷歌一下，有几十个 Pages 报道和讨论了 Android 中的 OoM。最常见的原因是巨大的静态变量或未回收的位图。以下是一些建议：[BitmapFactory OOM 让我抓狂](https://stackoverflow.com/questions/1955410/bitmapfactory-oom-driving-me-nuts)

# google-chrome - 谷歌浏览器信息栏

> ID：12477820
> 
> 赞同：2
> 
> 时间：2012-09-18T13:15:13.643
> 
> 标签：google-chrome

我在 Chrome 中添加了一个额外的参数“--disable-web-security”。添加后，“同源策略”被禁用，这正是我想要的。问题是，当我启动 Chrome 时，顶部会出现一个黄色信息栏并显示：“您正在使用和不受支持的命令行标志：--disable-web-security。稳定性和安全性将受到影响。” 奇怪的是，当我在有和没有它的情况下测试 Chrome 时，似乎支持该标志。

我的问题是：可以用另一个标志或任何其他方式禁用该信息栏吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:21:05.590

尝试转到地址栏中的 about:flags 并禁用 Native Client ..

# android - Android MediaCodec dequeOutputBuffer 总是返回 -1

> ID：12477822
> 
> 赞同：2
> 
> 时间：2012-09-18T13:15:19.303
> 
> 标签：android, android-4.2-jelly-bean, deque, decoder, android-mediacodec

我正在使用新`MediaCodec API`的 on`Jelly Bean`解码一个`h264 stream`. 使用开发人员页面中的代码片段，按名称（取自 media_codec.xml）实例化解码器，传递表面并配置编解码器。

我面临的问题是，**dequeOutputBuffer 总是返回 -1**。
尝试使用负超时无限等待，但没有运气。
每当我得到 -1 时，使用 getOutputBuffers 刷新缓冲区。

请注意，当使用自定义应用程序解析来自媒体源的数据并提供给解码器时，会出现同样的问题。

上述任何输入都会有所帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-05-17T13:36:10.457

I had faced same problem. Incrementing `presentationTimeUs` parameter of `queueInputBuffer()` on each call solved the issue.

For example, `codec.queueInputBuffer(inputBufferIndex, 0, data.size, time, 0) time += 66 //incrementing by 1 works too`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-25T07:46:29.063

-1 是`INFO_TRY_AGAIN_LATER`，表示输出缓冲区队列仍在准备中，您只需要`dequeueOutputBuffer`再次调用。

尝试使用一个调用`dequeueOutputBuffer`类似于[ExoPlayer](https://github.com/google/ExoPlayer/blob/master/library/src/main/java/com/google/android/exoplayer/MediaCodecTrackRenderer.java#L448)的循环的工作循环：

> ```
>  while (drainOutputBuffer(positionUs, elapsedRealtimeUs)) {}
>     if (feedInputBuffer(true)) {
>       while (feedInputBuffer(false)) {}
>     } 
> ```

其中 drainOutputBuffer 是一个调用`dequeueOutputBuffer`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-09T16:13:54.850

在获取输出缓冲区中的数据之前，可能需要馈送多个输入缓冲区。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-15T08:56:49.807

如果其他人在使用**MediaCodec时遇到这个问题（***就像我今天所做的那样*），请确保在完成它们后释放输出编解码器：

 **```
mediaCodec.releaseOutputBuffer(index, render); 
```

否则编解码器很快就会用完可用的缓冲区。**

# python - 在 Python 中调用单独文件中的函数

> ID：12477823
> 
> 赞同：47
> 
> 时间：2012-09-18T13:15:25.963
> 
> 标签：python, function

我已阅读以下帖子：

[导入模块或从模块导入](https://stackoverflow.com/questions/710551/import-module-or-from-module-import)

[从文件.py 导入 *](https://stackoverflow.com/questions/12450930/from-import-from-module)

我只是想知道如何知道何时将我的代码分解为多个文件而不是将多个函数放在一个文件中？我的具体问题是我有一个 100 行的函数，我想在另一个函数的 for 循环中调用它。另外，什么时候执行脚本？当您导入它们时，或者当您调用它们时？

**注意：下面的答案已经完全解决了这个问题。谢谢！**

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2012-09-18T13:19:43.440

假设函数和你的程序文件在同一目录`useful_function`下的一个文件`foreign_code.py`中，只要把

```
from foreign_code import useful_function 
```

在程序的顶部。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-18T13:20:26.827

根据其他文件的性质，导入它可能是一个很好的解决方案。

```
from otherfile import big_function

for something something:
    big_function() 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-18T13:18:48.697

您需要`import`另一个文件（或仅该文件中的函数名称）。查看[有关模块的教程以](http://docs.python.org/tutorial/modules.html)供参考。不要忘记导入脚本时会执行脚本。

# excel - 将变量传递给子

> ID：12477826
> 
> 赞同：0
> 
> 时间：2012-09-18T13:15:38.467
> 
> 标签：excel, vba

当我对 Test1 子的最后一行进行编码时出现错误。它说“期待=”。有任何想法吗？

```
Sub selectByUsedRows(usedCol As String, selectCol As String)
n = Range(usedCol).End(xlDown).Row
Range(selectCol & "1:" & selectCol & n).Select
End Sub

Sub Test1()
Dim a As String, b As String
a = "A"
b = "B"
selectByUsedRows (a, b)
End Sub 
```

**来自评论的更正代码，谢谢！**

```
Sub selectByUsedRows(usedCol As String, selectCol As String)
n = Range(usedCol & "1").End(xlDown).Row
Range(selectCol & "1:" & selectCol & n).Select
End Sub

Sub Test1()
Dim a As String, b As String
a = "A"
b = "B"
selectByUsedRows a, b
End Sub 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:17:50.350

你打电话`selectByUsedRows`就像你在调用一个函数。调用子例程时不需要括号：

```
selectByUsedRows a, b 
```

# amazon-web-services - 在 Elastic Beanstalk 上部署 WordPress？

> ID：12477828
> 
> 赞同：8
> 
> 时间：2012-09-18T13:15:47.170
> 
> 标签：amazon-web-services, amazon-elastic-beanstalk

假设我在 Wordpress 中创建了一个站点，该站点在 Elastic Beanstalk 上运行。现在，在正在运行的应用程序上，我将创建帖子/页面，上传图片等。也就是说，数据库中的一些数据、视频、文件和记录将被添加到正在运行的应用程序中。

3个问题：

1.  如果 WordPress 在 Elastic Beanstalk 上运行，并且多个 Amazon EC2 实例实际运行我的 WordPress 安装，那么这些文件会自动传播到所有正在运行的实例吗？如果启动一个新的 EC2 实例——例如，为了处理增加的负载，这也会发生吗？

2.  从我在 AWS 控制台中看到的情况来看，我可以部署不同版本的应用程序——但根据上述情况，如果我部署新版本，我会不会丢失所有直接上传到正在运行的应用程序中的文件（即文件和数据库记录）？如何保留这些并同时部署我的应用程序的新版本？

3.  WordPress 团队不断发布升级。我可以通过 Web 界面直接升级正在运行的 WordPress 安装吗？还是我必须先升级本地版本的 WordPress，然后将新版本的应用程序上传到 Beanstalk？如果我必须升级我的本地版本然后上传，那么我又回到第 1 点，即用户直接对运行应用程序的旧版本所做的更改。我如何保留这些更改？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-27T13:58:49.643

我也一直在研究这个问题，并且在这里学到了一些相关的东西——你关于上传的问题一直在我脑海中：

(1) 在我看来，处理上传的最佳方式是按照您的建议走 NFS/NAS 路线，但比这更好的方法是使用 WordPress 的 Amazon S3 插件，以便任何上传自动复制到 S3 并且您的 WordPress 媒体库中的 URL 反映了您的存储桶的 FQDN，而不是您的特定站点。这样一来，您的 Beanstalk 中可以有一个或十个 WP 节点，并且媒体/图像独立于这些服务器中的任何一个。

(2) 您绝对应该在这里使用 RDS。很少有东西像多可用区保留 MySQL RDS 实例那样更容易使用和无压力。要么是那个，要么是你自己的 EC2 运行独立于 Beanstalk 的 MySQL，但是当 RDS 更容易时，为什么还要运行它呢？

(3) 是的，您必须首先提交对 Git 存储库或本地文件的更改（新插件、主题更改、WP 升级），然后上传/安装作为 Beanstalk 代码的修订版*。*否则，您通过 Web 界面对一个节点所做的所有更改将永远不会出现在新节点的新负载中——事实上，您将拥有一个升级的数据库，但 Beanstalk 应用程序中有一组旧代码，所以很可能制造某种错误。

我参加了 AWS 架构课程，他们对 EC2 和 Beanstalk 的建议是开始将服务器实例视为一次性的——因此您应该尝试考虑让您的盒子在引导过程中自行配置的简单方法，并采取在一个盒子上没有任何宝贵资源的情况下为彼此过度工作。所以丢失一个实例永远不会是什么大不了的事。（这绝对不是我们在物理服务器世界中的想法，我们对所有东西都进行了“恰到好处”的调整。）

祝你好运！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-30T15:16:48.883

好吧，我不是专家，但由于没有人回答，我会尽力而为。

1.  你是绝对正确的——有点。虽然每个 EC2 实例都有一些本地存储，但*它*会随着每个新实例而被销毁和重置。正因为如此，亚马逊拥有弹性块存储和用于持久文件的 S3 之类的东西。我不知道如何配置 WP 来利用它，但这可能是解决方案。

2.  我认为这个问题可以通过我对#1 的回答来解决。至于数据库，您的所有 EC2 实例都应该从同一个 RDS 位置提取。同样，虽然您可以在每个 EC2 实例上运行 MySQL，但为了持久性，拥有一个单独的数据库更有意义。

3.  你，再一次，一切都是正确的。本地开发应始终先于实时部署。在本地升级然后推送到实时服务器将确保您的所有实例保持相同。

说实话，我也还在学习这一切的过程中，正如我所说，我不是专家。希望其他人会出现并给出更明智的答案。**然而**，这里的关键概念障碍是弹性可伸缩性的概念——这个概念的重点是在弹性/可伸缩/一次性和持久性之间分离元素。

希望这会有所帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-04-13T18:52:43.577

我在 EB、S3 和 RDS 上部署了一个小型 Wordpress 站点。S3 保存所有静态数据，例如媒体上传。这通过插件工作。RDS 保存数据库。EB 拥有最新部署的应用程序。该应用程序是从我的开发环境中部署的，带有一个构建脚本。这样，我只需按一个按钮即可重新部署。

我在这里写了一篇关于它的文章：http: [//www.cortexcode.com/wordpress-to-aws-code-example/](http://www.cortexcode.com/wordpress-to-aws-code-example/)

虽然起初使用起来很烦人，但 AWS 的速度很好，现在比以往任何时候都容易。以前我必须通过 FTP 上传一堆文件，这样效率更高。:-)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-12-17T11:43:37.563

作为所有出色答案的补充：

1) 对于媒体文件，我强烈推荐 EFS，但也推荐 S3，因此它们是从高可用性区域*与 cloudfront 结合提供的*。对于 Wordpress，有一个[插件可以真正加快速度](https://deliciousbrains.com/wp-offload-s3/)（不附属于它们，就像插件一样）。还有一个资产插件，如果你想从 S3 提供 JS、CSS 文件。对于 EFS 解决方案，请查看 git 上的[AWSlabs 文档](https://github.com/awslabs/eb-php-wordpress)，特别是[该文件](https://github.com/awslabs/eb-php-wordpress/blob/master/.ebextensions/efs-mount.config)，了解他们如何挂载上传文件。

In general, EBS is really great for Wordpress, but you'll need to think in a different mindset as compared to other hosting solutions ( shared hosting, managed hosting ).

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-30T16:41:15.820

好的，我对这个特定问题进行了很多研究，这就是我学到的——

(1) 如果 wordpress 用户上传了一些文件，那么他的文件将只上传到当时实际服务于他的请求的虚拟机。例如，如果当前 wordpress 站点是云部署的并且正在使用 5 个虚拟机，那么现在当用户提出请求时，他将被定向到一个虚拟机——那个时候负载最低的那个......他的上传只存储在那个服务器。当前的平台即服务解决方案（如 Amazon Elastic Beanstalk 和 App Fog）无法将更改传播到所有正在运行的实例。要么（将更改传播到所有服务器）要么由所有正在运行的实例使用公共存储——这是解决此问题的唯一两种解决方案。（例如，公共存储将是所有 5 个使用网络附加存储 (NAS) 运行的虚拟机......）

(2) 参考目前可用的平台，例如 Amazon Elastic Beanstalk 和 App Fog，即使用户直接对正在运行的应用程序进行了更改——这些平台依赖于本地版本的代码（管理员最初将其部署到云）——并且无法使用用户对正在运行的应用程序所做的更改来更新本地版本的代码（在管理员的 PC 上） - 因此这些更改即文件丢失 - 同样，用户对正在运行的应用程序的数据库更改也是丢失 - 除非管理员为他的本地应用程序使用完全相同的数据库（他部署到云）

(3) 对正在运行的应用程序的任何更改都必须首先在管理员的 PC 上对本地应用程序进行，然后再推送到云端。

我正在开发一个解决所有这些问题的云 PaaS——即可以对正在运行的应用程序进行更新，对正在运行的应用程序所做的代码更改也会在用户可访问的代码存储库中更新……概念证明已经准备就绪，希望它会和我希望的一样好:)——目前唯一实际存在的就是网站（anyacloudpanel.com）——设计工作正在进行中:)

如果有一些规则我不应该提及我的网站（Anya Cloud Panel）——那么我很抱歉——请随时从我的答案中编辑和删除我的网站 URL :)

谢谢，阿文德。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-11-06T12:14:08.487

将 WordPress 部署到 AWS Elastic Beanstalk 确实需要对正常的 WordPress 部署进行一些更改，如此处所述几次。为了回答您的问题，这里有一个很棒的教程，解释了无状态应用程序以及如何部署到 Elastic Beanstalk：

[通过 ElasticBeanstalk 将 WordPress 部署到 Amazon Web Services AWS EC2 和 RDS](http://www.otreva.com/deploying-wordpress-amazon-web-services-aws-ec2-rds-via-elasticbeanstalk/#comment-1110340571)

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-10-15T13:13:21.667

例如，如果您使用来自 themeforest 的主题，请小心。其中一些与 wordpress S3 插件不兼容。然后你就搞砸了，你不能在云上部署你的 wordpress。

# php - YII 后端实现

> ID：12477833
> 
> 赞同：1
> 
> 时间：2012-09-18T13:16:14.250
> 
> 标签：php, configuration, yii, directory-structure, yii-modules

[我在http://www.yiiframework.com/wiki/33/](http://www.yiiframework.com/wiki/33/)之后创建了前端-后端 结构，所以我的结构是

```
wwwroot/
    index.php
    backend.php
    assets/
    images/
    js/
    protected/
        config/
            main.php
        components/
        controllers/
        models/
        modules/
        views/
        runtime/
        backend/
            config/
                main.php
            components/
            controllers/
            models/
            modules/
            views/
            runtime/ 
```

我的后端配置是

```
$backend = dirname(dirname(__FILE__));
$frontend = dirname($backend);
yii::setPathOfAlias('backend',$backend);
return array(
    'basePath' => $frontend,
    'controllerPath' => $backend.'/controllers',
    'viewPath' => $backend.'/views',
...
    'import'=>array(
    'backend.modules.rights.*',
    'backend.modules.rights.components.*',
    'backend.models.*',
    'backend.components.*',
    'application.modules.user.models.*',
    'application.modules.user.components.*',
),... 
```

现在我需要从**backend.php/discussion** 等前端访问后端的控制器、模型和视图，讨论在 protected/controllers/DiscussionController 中，现在只能从**index.php/discussion访问**

一种解决方案是设置**'controllerPath'=>$frontend.'/controllers'** 但现在我松开了后端控制器。那么，当我调用控制器时，有没有办法首先在后端控制器中查找，然后在前端控制器中查找（以防在后端控制器中找不到）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T15:01:38.087

就个人而言，我喜欢将后端（使用安全登录）与前端完全分开，即：完全不同的项目。通过这种方式，可以使用隐藏的子域访问您的后端，例如 hidden-admin.my-domain.com

如果您想共享代码，那么如上所述，请使用组件或小部件。

# python - Python 生成器对象：__sizeof__()

> ID：12477835
> 
> 赞同：19
> 
> 时间：2012-09-18T13:16:24.223
> 
> 标签：python, generator, internals

这可能是一个愚蠢的问题，但无论如何我都会问。我有一个生成器对象：

```
>>> def gen():
...     for i in range(10):
...         yield i
...         
>>> obj=gen() 
```

我可以测量它的大小：

```
>>> obj.__sizeof__()
24 
```

据说生成器被消耗：

```
>>> for i in obj:
...     print i
...     
0
1
2
3
4
5
6
7
8
9
>>> obj.__sizeof__()
24 
```

...但`obj.__sizeof__()`保持不变。

使用字符串它可以按我的预期工作：

```
>>> 'longstring'.__sizeof__()
34
>>> 'str'.__sizeof__()
27 
```

如果有人能启发我，我将不胜感激。

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-09-18T13:17:47.047

`__sizeof__()`不做你认为它做的事。该方法返回给定对象的内部大小（以字节为单位），而不是生成器将返回的项目数。

Python 无法事先知道生成器的大小。以下面的无限生成器为例（例如，有更好的方法来创建计数器）：

```
def count():
    count = 0
    while True:
        yield count
        count += 1 
```

那个发电机是无穷无尽的；没有可分配的大小。然而生成器对象本身需要内存：

```
>>> count.__sizeof__()
88 
```

您通常不会`__sizeof__()`将其留给[`sys.getsizeof()`function](http://docs.python.org/library/sys.html#sys.getsizeof)，这也会增加垃圾收集器的开销。

如果您*知道*生成器将是有限的并且您*必须*知道它返回多少项，请使用：

```
sum(1 for item in generator) 
```

但请注意，这会*耗尽*发电机。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-18T13:41:59.480

正如其他答案中所说，`__sizeof__`返回不同的东西。

只有一些迭代器具有返回未返回元素数量的方法。比如`listiterator`有对应的`__length_hint__`方法：

```
>>> L = [1,2,3,4,5]
>>> it = iter(L)
>>> it
<listiterator object at 0x00E65350>
>>> it.__length_hint__()
5
>>> help(it.__length_hint__)
Help on built-in function __length_hint__:

__length_hint__(...)
    Private method returning an estimate of len(list(it)).

>>> it.next()
1
>>> it.__length_hint__()
4 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T13:19:06.200

`__sizeof__`返回对象的内存大小（以字节为单位），而不是生成器的长度，这是不可能预先确定的，因为生成器可以无限增长。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T13:21:40.190

如果您确定您创建的生成器是“有限的”（具有可数数量的元素）并且您不介意等待一段时间，您可以使用以下内容来获得您想要的：

```
len(list(gen())) 
```

正如其他海报所说`__sizeof__()`，是衡量某物占用多少内存（一个您可能很少需要的低级概念），而不是它的长度（这不是生成器的特性，因为不能保证它们具有可数长度） .

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2018-10-08T06:53:55.577

@Martijn Pieters您也可以覆盖**sizeof** () 函数，我们可以实现我们在这里尝试做的事情。但它不适用于某些数据类型，如 int 或 float。

```
class GetLen():
    def __sizeof__(self, x):
        return len(x) 
```

所以这里对于int或float，如果类型是int或float，我们也可以放置一些转义函数。

# ios - 在 Azure 中公开半静态信息的最有效方式

> ID：12477836
> 
> 赞同：0
> 
> 时间：2012-09-18T13:16:24.643
> 
> 标签：ios, azure, azure-storage, azure-blob-storage

我正在构建一个社交游戏，它需要在服务器上存储有关玩家、游戏和棋盘的状态信息。**状态信息可以很容易地编码在字节数组**中以提高效率，并且可以**由单个 id**（例如，用户 id、游戏 id）引用。我预计**reads 比 writes 多得多**，并且 writes 不必非常有效。

使用**Windows Azure**，我想找到最有效的方式来存储和公开这些信息，我的意思是有效的方式（按重要性排序）：

*   **最快的响应时间**，和
*   最低的运营成本。

我最初的想法是**使用 blob 存储**来公开这些字节 blob（使用 web 角色在需要时更新它们）。但**性能是最好的吗？**或者，我可以将状态信息存储在**SQL Azure 数据库中并通过****Web API**公开它（即时构建响应）。

从 iOS 设备访问 blob 信息时是否有任何问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:35:45.273

根据给出的信息，我认为 Blob 存储更有可能满足您的这两个要求，如果您拥有大量分散的受众，则更是如此。由于延迟似乎是个问题，使用 SQL Azure 可能需要部署到多个数据中心以支持“全球受众”，然后您需要在实例之间引入某种数据同步层。

使用 blob 存储，每个字节的存储成本肯定更便宜，并且您可以利用 CDN 获得额外（但仍可管理）的成本，以减少全球受众的延迟。听起来您无论如何都不需要 SQL Azure 的关系功能。

正如我在上面的评论中提到的，密切关注[Windows Azure Mobile Services](http://www.windowsazure.com/en-us/develop/mobile/)。*它今天*可能无法满足您的需求，但已经宣布了额外的平台支持，并且使用这些服务（目前来自 Windows 8）非常简单。顺便说一句，它确实使用 SQL Azure 作为后端，这是一个成本考虑（尽管服务本身在预览模式下是免费的）。对于它的价值，我确实找到[了这个关于在 iOS 中使用 Windows Azure 移动服务的博客](http://chrisrisner.com/Windows-Azure-Mobile-Services-and-iOS)——正如你所期望的那样，使用开放标准和接口，一切皆有可能 :)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:50:24.407

您最初使用 blob 存储的方法是一个很好的起点。假设您想在您的应用程序中显示一些高分（假设这是您谈论的半静态）。

Worker Role 可以每 4 小时计算前 100 名用户，并将此列表存储在 blob 中（作为 JSON 字符串）。现在您需要确定 Blob 存储的性能是否足以满足您的应用程序？看看[可扩展性目标](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/05/10/windows-azure-storage-abstractions-and-their-scalability-targets.aspx)：

*   单个 blob 高达 60 MBytes/sec
*   事务：每秒最多 5,000 个实体/消息/blob（每个存储帐户）

如果您有大量用户，交易限制可能是瓶颈。在这种情况下，您可以[使用 CDN](http://www.windowsazure.com/en-us/develop/net/common-tasks/cdn/)来提高性能。通过 CDN，您的内容将被复制到[24 个国家](http://msdn.microsoft.com/en-us/library/windowsazure/gg680302.aspx)的 CDN 节点上。这意味着您的最终用户将从被判断为“更接近”/更快的节点下载 blob，而与托管您的应用程序的数据中心无关，并且您不会受限于之前提到的可扩展性目标。

您还需要考虑到可能存在您想要引用此半静态数据的场景（可能是每次用户完成游戏时），而不必实时执行此操作（您不想阻止如果这是一个长时间运行的过程，则用户）。[使用Queues、Topics 和 Subscriptions](http://msdn.microsoft.com/en-us/library/windowsazure/hh367516.aspx)可以轻松解决此类场景。这允许您在用户完成游戏时将消息放入队列（或主题）中，并让一个或多个后台“工作人员”（可能在其他角色/VM/...）处理该消息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T18:09:18.917

就我个人而言，我非常喜欢在 Windows Azure 云服务的“本地存储”区域中缓存半静态内容。当请求进来时，如果您已经拥有该文件，您只需将文件流引用返回给请求者即可。此方法可防止您将 Blob 存储帐户直接暴露给消费客户端，还有助于降低任何交易成本。允许您拥有的处理请求的服务将任何业务逻辑引入流中也有潜在的好处，例如 ACS 样式行为。

当然，这确实需要权衡取舍，因为您需要管理缓存，并且云服务可用的带宽现在必须帮助提供请求响应，而不是让 Windows Azure 存储为您完成。

# php - 在 localhost 上启用 ZipArchive

> ID：12477837
> 
> 赞同：13
> 
> 时间：2012-09-18T13:16:26.523
> 
> 标签：php, localhost, ziparchive

我需要在我的 ZipArchive php 类上`localhost`启用，我该如何启用它！？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-18T13:20:51.053

如果您已经安装了它，请添加`extension=zip.so`到您的`php.ini`（不确定您使用的是什么操作系统）

Linux：`pecl install zip`

编辑 php.ini 后重新启动 Web 服务器。

# html - 在 NME 3.2.0 中以不正确的深度渲染的 DisplayObject。定位 html5 时

> ID：12477845
> 
> 赞同：0
> 
> 时间：2012-09-18T13:16:48.667
> 
> 标签：html, haxe, nme

以 html5 为目标时，显示对象的绘制顺序有问题。请注意，如果我为 flash 编译它会按预期工作。这个问题太基本了，我很难相信这是 NME 的问题，而是我错过了一些关键的问题。

假设 NME 的工作方式与 Flash 类似，那么下面的代码应该会生成一个红色矩形，上面有一个较小的蓝色矩形。但是当我为 html5 构建时，红色矩形被绘制在顶部！

```
package;

import nme.display.Bitmap;
import nme.display.Shape;
import nme.display.Sprite;
import nme.display.StageAlign;
import nme.display.StageScaleMode;
import nme.events.Event;
import nme.Lib;

class Main extends Sprite 
{
    public function new() {
        super();
        addEventListener(Event.ADDED_TO_STAGE, init);
    }

    private function init(e) {
        var redContainer : Sprite = new Sprite();

        var redBox : Shape = new Shape();
        redBox.graphics.beginFill(0xaa0000);
        redBox.graphics.drawRect(0, 0, 100, 100);

        var blueBox : Shape = new Shape();
        blueBox.graphics.beginFill(0x0000aa);
        blueBox.graphics.drawRect(0, 0, 50, 50);

        // Add the sprite container 
        this.addChild(redContainer);

        // Add a blue box, which should appear on top of the (empty) container
        this.addChild(blueBox);

        // Add a red box to the container.
        // It should appear *below* the blue box since the container is below
        // the blue box, but the red box is drawn on top of the blue box!
        redContainer.addChild(redBox);
    }

    static public function main() {
        Lib.current.addChild(new Main());
    }
} 
```

我在 Chrome、Firefox 和 IE9 中得到相同的行为。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T05:11:58.970

当我构建你的代码时它工作正常： [我的 html5 build](http://www.stojce.com/_files/redBlueBox.rar)。尝试重新安装最新版本的 NME（使用最新的 Haxe）。

在 Jeash，Haxe Javascript 库中仍然存在 DisplayObjects 排序的问题，但现在仅当您想稍后重新排序对象时：

```
this.addChild(redBox);

this.addChild(blueBox);

this.swapChildren(blueBox, redBox); 
```

我试图删除并再次添加显示对象，但这不起作用。setChildIndex 也不起作用（https://bugs.launchpad.net/jeash/+bug/1005791）。

# excel - Excel 2010 宏突出显示活动单元格的行

> ID：12477853
> 
> 赞同：1
> 
> 时间：2012-09-18T13:17:24.720
> 
> 标签：excel, vba

我正在尝试使用以下宏，但它甚至没有将其识别为宏，因此我无法运行宏。如果我将第一个喜欢更改为“私有/公共子测试（）”，它将运行，但是它说我的目标对象未定义。

```
Private Sub Worksheet_SelectionChange(ByVal Target As Range)
If Target.Cells.Count > 1 Then Exit Sub
Application.ScreenUpdating = False
' Clear the color of all the cells
Cells.Interior.ColorIndex = 0
With Target
    ' Highlight the entire row and column that contain the active cell
    .EntireRow.Interior.ColorIndex = 8
    .EntireColumn.Interior.ColorIndex = 8
End With
Application.ScreenUpdating = True
End Sub 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T13:31:23.633

您必须将宏放在工作表本身的代码中，而不是放在单独的模块中。

你在那里做的是**事件**编程，它必须与你试图做出的反应相匹配。

它不是你习惯的宏。事件会对发生的事情做出反应，并且无法正常运行。当您选择另一个单元格时（例如，将选择从 A1 更改为 B2），您拥有的代码会对所选单元格的更改做出反应。

`Private Sub Worksheet_SelectionChange(ByVal Target As Range)`
选择更改时做出反应如果选择了
`If Target.Cells.Count > 1 Then Exit Sub`
多个单元格，则不要运行其余代码
`Application.ScreenUpdating = False`
关闭屏幕，因此在我们完成之前您无法看到所有更改 选择的单元格， 并且现在所有的着色都完成了，重新打开她的屏幕，这样我们的工作结果就可以看到了。
`' Clear the color of all the cells
Cells.Interior.ColorIndex = 0
With Target`

`' Highlight the entire row and column that contain the active cell
.EntireRow.Interior.ColorIndex = 8
.EntireColumn.Interior.ColorIndex = 8
End With
Application.ScreenUpdating = True`

`End Sub`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T18:50:26.087

此答案基于您希望代码在用户更改选定单元格后作为事件运行的假设

如果您希望此代码仅在 1 个工作表中运行，请将其放在 WORKSHEET OBJECT ![在此处输入图像描述](../Images/9000b03a138af5a1cef64efd9f36ff99.png)

```
Option Explicit

Private Sub Worksheet_SelectionChange(ByVal Target As Range)
    If Target.Cells.Count > 1 Then Exit Sub

    Application.ScreenUpdating = False
    ' Clear the color of all the cells
    Target.Parent.Cells.Interior.ColorIndex = 0
    With Target
        ' Highlight the entire row and column that contain the active cell
        .EntireRow.Interior.ColorIndex = 8
        .EntireColumn.Interior.ColorIndex = 8
    End With
    Application.ScreenUpdating = True
End Sub 
```

如果您希望它在所有工作表中运行，则将其放在 THISWORKBOOK OBJECT 中（如果您想省略/包含工作表，您可以在 sh 上进行过滤）

![在此处输入图像描述](../Images/86b43e91f336ac117a964c7a97492453.png)

选项显式

```
Private Sub Workbook_SheetSelectionChange(ByVal Sh As Object, ByVal Target As Range)

    If Target.Cells.Count > 1 Then Exit Sub

    Application.ScreenUpdating = False
    ' Clear the color of all the cells
    Sh.Cells.Interior.ColorIndex = 0
    With Target
        ' Highlight the entire row and column that contain the active cell
        .EntireRow.Interior.ColorIndex = 8
        .EntireColumn.Interior.ColorIndex = 8
    End With
    Application.ScreenUpdating = True

End Sub 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T14:17:46.703

在模块中尝试此代码，将其称为宏：

```
Public Sub Highlight()
  Application.ScreenUpdating = False
  ' Clear the color of all the cells
  ActiveSheet.Cells.Interior.ColorIndex = 0
  With ActiveCell
      ' Highlight the entire row and column that contain the active cell
      .EntireRow.Interior.ColorIndex = 8
      .EntireColumn.Interior.ColorIndex = 8
  End With
  Application.ScreenUpdating = True
End Sub 
```

你必须使用`Public`，所以这个子在你的 excel 宏菜单中可用。在那里你可以“传统地”使用它——据我所知，为它分配一个按钮或快捷键。

# jquery - sharepoint webpart 问题中的 jquery：对象不支持 javascript 中的此属性或方法

> ID：12477856
> 
> 赞同：0
> 
> 时间：2012-09-18T13:17:42.247
> 
> 标签：jquery, sharepoint-2010, web-parts

我在 sharepoint webpart 中运行此 jquery 代码，并在运行时在网页上收到此错误`object doesn't support this property or method in javascript`

我已经正确添加了对 js 文件的引用。

```
 <script src="../../Style Library/Styles/jquery-1.7.1.js" type="text/javascript"></script>
    <script type="text/javascript" src="../../Style Library/Styles/jquery.imagemapster.min.js"></script>
<script>
     $(document).ready(function () {
            var image = $("#ImageMap1");
            image.mapster({
                fillOpacity: 0.4,
                fillColor: "d42e16",
                stroke: true,
                strokeColor: "3320FF",
                strokeOpacity: 0.8,
                strokeWidth: 4,
                singleSelect: true,
                mapKey: 'shape',
                listKey: 'shape'
            });
</script> 
```

我认为这是因为控件的 id 被渲染，我试图传递客户端 id 但我仍然遇到同样的问题并且它不起作用。如果在普通的 asp.net 应用程序上使用，上面的 jquery 可以正常工作

任何人都可以帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:23:10.457

尝试像这样包装你的脚本：

```
ExecuteOrDelayUntilScriptLoaded(
    function() {
        $(document).ready(function () {
            var image = $("#ImageMap1");
            image.mapster({
                fillOpacity: 0.4,
                fillColor: "d42e16",
                stroke: true,
                strokeColor: "3320FF",
                strokeOpacity: 0.8,
                strokeWidth: 4,
                singleSelect: true,
                mapKey: 'shape',
                listKey: 'shape'
            });
    }

, "sp.js"); 
```

这将等待加载和执行SharePoint javascript~~混乱的东西~~

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T15:59:10.693

在此处检查功能：http: [//msdn.microsoft.com/en-us/library/ff411788.aspx](http://msdn.microsoft.com/en-us/library/ff411788.aspx)

如果您使用上述方法，我认为您不需要 ready() 函数。问候，KS

# java - 最后一个 Solr 请求需要很长时间

> ID：12477859
> 
> 赞同：0
> 
> 时间：2012-09-18T13:17:49.663
> 
> 标签：java, solr, solrj

我在使用 Solr 4.0 BETA 时遇到问题。

由于`solrj`我的 Solr 服务器，我有一个应用程序发送一些并行请求。一切都很好，响应时间也很好，但*有时*，一个请求需要很长时间。

大多数结果都缓存在 Solr 中，因此在我的应用程序中观察经过时间和实际 Solr 响应时间时，我看到：

```
resquest1: solr: 1ms, elapsed: 150ms
resquest2: solr: 0ms, elapsed: 160ms
resquest3: solr: 3ms, elapsed: 100ms
resquest4: solr: 12ms, elapsed: 20ms
resquest5: solr: 3ms, elapsed: 50000ms 
```

问题是该`50000ms`请求减慢了我所有的应用程序！它实际上甚至比 Solr 在未缓存时计算搜索所需的时间还要慢。它通常发生在最后一个请求上，就好像某个缓冲区正在等待刷新一样。

这是一个普遍的问题吗？它来自哪里？我能做些什么来避免这样的陷阱？

谢谢你的帮助！

# c# - 从 DataGrid 中删除数据而不删除绑定？

> ID：12477862
> 
> 赞同：0
> 
> 时间：2012-09-18T13:18:00.163
> 
> 标签：c#, wpf, datagrid

我有一个绑定到一个类的数据网格。我的要求是删除数据网格的所有行而不删除与类的绑定。

简而言之，我只想将我的数据网格重置为其原始状态。

```
 trialCollection = new ObservableCollection<trialClass>();
        trialCollection.Add(new trialClass());
        trialGrid.DataContext = trialCollection; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:19:01.747

从绑定源中删除它们（其中的行，而不是绑定）。如果您`BindingMode`设置为，`TwoWay`那么它应该可以工作。

您说您的 DataGrid 绑定到一个类，并且您想重置它的内容而不是绑定，然后，转到您的类，如果它是一个集合应用该`Clear()`方法 - 否则，手动清除它。现在，一旦你这样做了，你的 DataGrid 将被更新为相同的绑定，但现在它是空的，所以它会变成一个空的 DataGrid，如你所愿。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:56:13.057

您是否使用 DataBindings 属性或 DataSource 属性将您的 datagridview 绑定到数据源？

如果您使用的是 DataBindings 属性，请尝试以下操作：

this.dataGridView2.DataBindings.Clear();

或者

this.dataGridView2.DataBindings.Remove(dataBind);

如果您使用 DataSource 属性，将 DataGridView.DataSource 设置为 null 似乎很好。由于您尝试过此操作，但在以编程方式添加新行时出现错误，您能否提供一些示例代码？

# axapta - Dynamics AX 是否本机缓解缓冲区溢出？

> ID：12477863
> 
> 赞同：1
> 
> 时间：2012-09-18T13:18:03.033
> 
> 标签：axapta

托管 C# 代码在运行之前被编译成 CLR 并检查是否存在任何潜在的攻击，因此本机保护它免受缓冲区溢出攻击。

Microsoft Dynamics AX，特别是 4.0，是否有任何类似的缓解技术？

如果是这样，您能否指点我一份概述此内容的白皮书，最好是来自 Microsoft 的白皮书？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T15:10:44.987

.Net 在执行前验证 CIL 代码（除非声明`unsafe`）。

Dynamics AX 在执行 p 代码时不会。在 AX 2012 中，所有 AX 类也保存为 CIL，在[某些情况下](http://msdn.microsoft.com/en-us/library/gg839855.aspx)执行。此代码照常由 .Net 验证。

也就是说，AX 对所有数组引用、字符串子字符串等进行运行时检查。您将无法制作使 AX 运行时崩溃的程序（除非您知道弱点）。

某些被认为不安全的 API 也受到[Code Access Security](http://msdn.microsoft.com/en-us/library/bb190039.aspx)的保护。

# c# - 无需调用 session.Insert 或 session.Save 即可获取 HiLo 号码

> ID：12477866
> 
> 赞同：3
> 
> 时间：2012-09-18T13:18:31.320
> 
> 标签：c#, nhibernate, fluent-nhibernate

我需要使用 NHibernate 对 SQLite 数据库进行批量插入。对象的 PK 是 HiLo int32。我尝试使用带有 session.insert 的 NH 无状态会话，它工作正常。但是，我发现使用准备好的命令会快 30-40%，所以我正在尝试使用它。

目前我正在努力分配 id（即 NH HiLo）。我在 stackoverflow 上找到了一个解决方案（[NHibernate HiLo ID Generator。在保存之前生成一个 ID](https://stackoverflow.com/a/3302799/1212534)） - 请参阅方法 GenerateIdentifier()，但它会在每次调用时查询和更新数据库，所以这不是一个好的选择。

有什么方法可以让它按预期工作 - 当 id 生成器达到高值时，它只需要与服务器进行 1 次往返以获得新的低值和高值吗？

```
public static Int64 TestNHSQLiteBulk(bool newDB)
        {
            int ProjectCount = 1000000;

            var factory = Database.CreateSQLiteSessionFactory(newDB);

            Int64 objectCount = 0;

            using (var session = factory.OpenStatelessSession())
            {
                var connection = session.Connection;
                using (var transaction = session.BeginTransaction(System.Data.IsolationLevel.ReadCommitted))
                {

                    // this should be removed when proper HiLo will be implemented.
                    var nextProject = session.CreateCriteria<Project>().SetProjection(Projections.Max<Project>(p => p.ProjectId)).UniqueResult();
                    int startId = (nextProject == null) ? 0 : (int)nextProject + 1;

                    var command = connection.CreateCommand();
                    command.CommandText = "Insert INTO Project (ProjectId, ProjectName) Values(?,?)";

                    var projectIdParameter = command.CreateParameter();
                    projectIdParameter.ParameterName = "ProjectId";
                    projectIdParameter.DbType = System.Data.DbType.Int32;

                    var projectNameParameter = command.CreateParameter();
                    projectNameParameter.ParameterName = "ProjectName";
                    projectNameParameter.DbType = System.Data.DbType.String;

                    command.Parameters.Add(projectIdParameter);
                    command.Parameters.Add(projectNameParameter);
                    command.Prepare();

                    for (int p = startId; p < startId + ProjectCount; p++)
                    {

                        var project = new Project()
                        {
                            ProjectName = "Project " + p
                        };

                        //found on stackoverflow, but is results a roundtrip to server on each call.
                        GenerateIdentifier(project, Database.savedConfig, session);

                        //session.Insert(project);

                        //using prepared command is almost 2x faster!
                        projectIdParameter.Value = project.ProjectId;
                        projectNameParameter.Value = project.ProjectName;
                        command.ExecuteNonQuery();

                        objectCount++;
                    }

                    transaction.Commit();
                }

            }

            return objectCount;
        }

    //this will get the value and update the hi-lo value repository in the datastore
    public static void GenerateIdentifier(object target, NHibernate.Cfg.Configuration conf, IStatelessSession session)
    {
        var targetType = target.GetType();

        var classMapping = conf.GetClassMapping(targetType);
        var impl = session.GetSessionImplementation();

        var newId = classMapping.Identifier.CreateIdentifierGenerator(impl.Factory.Dialect, classMapping.Table.Catalog, classMapping.Table.Schema,
                                                                classMapping.RootClazz).Generate(impl, target);
        classMapping.IdentifierProperty.GetSetter(targetType).Set(target, newId);
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-19T12:26:16.133

您正在为每个实体创建一个新的 HiLogerator 而不是使用给定的。此外，生成器通常会将自身初始化为数据库中的值，因此不必手动查询：

```
public static Int64 TestNHSQLiteBulk(bool newDB)
{
    int ProjectCount = 1000000;

    var factory = Database.CreateSQLiteSessionFactory(newDB);

    var classMapping = (SingleTableEntityPersister)factory.GetClassMetadata(typeof(Project));
    var generator = classMapping.IdentifierGenerator;

    Int64 objectCount = 0;

    using (var session = factory.OpenStatelessSession())
    {
        var connection = session.Connection;
        using (var transaction = session.BeginTransaction(System.Data.IsolationLevel.ReadCommitted))
        {
            var command = connection.CreateCommand();
            command.CommandText = "Insert INTO Project (ProjectId, ProjectName) Values(?,?)";

            var projectIdParameter = command.CreateParameter();
            projectIdParameter.ParameterName = "ProjectId";
            projectIdParameter.DbType = System.Data.DbType.Int32;

            var projectNameParameter = command.CreateParameter();
            projectNameParameter.ParameterName = "ProjectName";
            projectNameParameter.DbType = System.Data.DbType.String;

            command.Parameters.Add(projectIdParameter);
            command.Parameters.Add(projectNameParameter);
            command.Prepare();

            for (int p = 0; p < ProjectCount; p++)
            {
                var projectId = (long)generator.Generate(session.GetSessionImplementation(), null);

                //using prepared command is almost 2x faster!
                projectIdParameter.Value = projectId;
                projectNameParameter.Value = "Project" + projectId;
                command.ExecuteNonQuery();

                objectCount++;
            }

            transaction.Commit();
        }
    }

    return objectCount;
} 
```

# iphone - 如何合并 3d 转换后的图像？

> ID：12477868
> 
> 赞同：0
> 
> 时间：2012-09-18T13:18:42.863
> 
> 标签：iphone

> **可能重复：**
> [如何合并透视图像（3D 变换）？](https://stackoverflow.com/questions/12457047/how-to-merge-the-perspective-image3d-transform)

如何将 3D 转换后的图像与背景图像合并？我正在使用下面的代码。

```
UIGraphicsBeginImageContext(backgroundImageView.frame.size);
[backgroundImageView.layer  renderInContext:UIGraphicsGetCurrentContext()]; //bacgroundImageView here
overlappedImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext(); 
```

它工作正常，但我将 3D 变换更改为该图像（猫图像![在此处输入图像描述](../Images/230a8c1ebc0ba540bd4bba98cb3115ba.png)）它不起作用。请看附图。第一张图像是转换图像，第二张图像是合并图像（这是问题）。请帮帮我。我在这个问题上浪费了更多时间。我希望有人能帮助我。提前致谢。

# apache - 无法连接到托管在 VM 上的服务器？

> ID：12477877
> 
> 赞同：-2
> 
> 时间：2012-09-18T13:19:01.403
> 
> 标签：apache, webserver, tomcat6, virtualbox, virtualhost

编辑：我已经解决了这个问题。没关系 ：）

我会尽量提供尽可能多的信息，非常感谢任何帮助。

我有这台 Windows 7 机器，我正在使用 VirtualBox 在其上运行 Fedora 17 虚拟机。在虚拟机中，我托管了一个 apache-tomcat6 服务器。我需要与主机位于同一网络上的其他计算机才能连接到此 apache-tomcat6 服务器。

我已经为虚拟机分配了一个静态 IP。在虚拟机中，如果我导航到“ [https://129.83.174.205:8443/HisPortal](https://129.83.174.205:8443/HisPortal) ”，它可以工作！网站加载。但是，如果我导航到另一台计算机（连接到同一网络）上的同一 URL，我会收到“此网页不可用”。

当我打开虚拟机时，我所做的就是运行“service tomcat6 start”和“service mysqld start”

如果我从网络上的另一台计算机 ping 129.83.174.205（VM 的静态 IP），我会收到很好的响应。

以下是我认为可能相关/有用的所有图片：

virtualbox上的网络设置：http: [//imageshack.us/a/img222/690/networksettings.png](http://imageshack.us/a/img222/690/networksettings.png)

tomcat中的server.xml文件：http: [//imageshack.us/a/img854/9895/serverxml.png](http://imageshack.us/a/img854/9895/serverxml.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:39:48.390

嗯，这很尴尬。

我所要做的就是禁用 VM 上的防火墙。

大家加油。

# objective-c - XCode 4.5（仅）加载了笔尖，但未设置视图出口

> ID：12477880
> 
> 赞同：0
> 
> 时间：2012-09-18T13:19:07.087
> 
> 标签：objective-c, ios, xcode, ios6, xcode4.5

下载了 Xcode 4.5/iOS 6 的 GM 种子，当我尝试访问我的`UITableViewController`.

在 XCode 4.3.2（我安装的主版本）中，XIB 的“自定义类”是`UITableView`并且 File's Owner 视图设置为 parent `UITableView`。

在 XCode 4.5 GM 种子中，XIB 的“自定义类”是`UIView`并且文件的所有者视图未设置。

当我设置 File's Owner 视图并将视图的类更改回 XCode 4.3.2 中的类时，我的`UITableView`显示不正确。没有错误，但没有`UITableView`正确填充上的字段。

之前与此相关的问题已被忽略，因为“4.5/iOS 6 处于测试阶段。稍后再试”，但现在 iOS 6 即将发布，我们需要确保我们的应用程序可以使用它。

建议？

* * *

**编辑：**

所以实际上正在做的是：

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    self.view.backgroundColor = [UIColor lighterBlue];     

    // show an indicator that we're loading info from the service
    [self presentLoadingView];

    // calls out to web service
    [[WebServiceManager sharedWebServiceManager] fetchInformationFromServiceWithString:string withSuccessBlock:^(NSDictionary *response)
    {
        NSDictionary *response = [response valueForKeyPath:@"PathName"];
        [variableThatPopulatesTable = [response valueForKey:[[response allKeys]objectAtIndex:0]]retain];

        // ignore this line
        [self buildArrays];

        // this is where it should be (and was, before iOS 6) populating the table
        [[self tableView] reloadData];
    }
    andCompletionBlock:^(NSDictionary *response)
    {
        [self dismissLoadingView];
    }];

} 
```

在 中`UITableView`，有标签（正确显示），然后是另一个方法 ( `populateUI`) 填充的字段，它从该`variableThatPopulatesTable`实例变量中填充。但是 中的所有字段`UITableView`都是空的。

# ruby-on-rails - Rails 应用部署在 ubuntu 服务器上...如何安全访问系统文件

> ID：12477882
> 
> 赞同：0
> 
> 时间：2012-09-18T13:19:26.723
> 
> 标签：ruby-on-rails, permissions, ubuntu-12.04

1.  在 ubuntu 12.04 服务器上运行的 Rails 应用程序
2.  服务器有多个用户，他们将文件存储在服务器上的用户帐户中
3.  我想允许这些用户的文件通过 rails 应用程序下载

...有没有一种安全的方法来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:59:36.860

查看[载波](https://github.com/jnicklas/carrierwave)，IMO 最重要的问题是确保您的 rails 应用程序没有以特权用户身份运行，因此用户无法传递导致他们访问您想要保留的文件的创意路径。

至于访问其他用户帐户，您需要确保文件被任何人或所有用户所属的组标记为可读。

# c# - 打印页面并关闭它

> ID：12477887
> 
> 赞同：3
> 
> 时间：2012-09-18T13:19:44.037
> 
> 标签：c#, javascript

如何打印页面并自动关闭？

我通过单击按钮打开一个新窗口/页面：

```
protected void ASPxButton_GenerOrd_Click(object sender, EventArgs e)
{
         string AdrUrl = "Print_Ordo.aspx?SoinId=" + Soin_Id + "&SelId=" + TempId;
        ClientScript.RegisterStartupScript(this.GetType(), "newWindow", String.Format("<script>window.open('{0}');</script>", AdrUrl));
    } 
```

我的 Print_Ordo.aspx ：

```
<head runat="server">
    <title></title>
     <script>         window.print(); window.close();</script>
</head>
<body>
    <form id="form1" runat="server">
    <div>
        <dx:ReportViewer ID="ReportViewer_Ordo" runat="server">
        </dx:ReportViewer>
    </div>
    </form>
</body>
</html> 
```

和我的 Print_Ordo.aspx.cs：

```
public partial class Print_Ordo : System.Web.UI.Page
{

    string Soin_ID = "", SelectedID = ""; 
    protected void Page_Load(object sender, EventArgs e)
    {
        Soin_ID = Request.QueryString["SoinId"];
        SelectedID = Request.QueryString["SelId"];
        //ReportViewer_Ordo.Report = new XtraReport_Ordo(Convert.ToInt32(Soin_ID), SelectedID);
        //ReportViewer_Ordo.PageByPage = false;

        var xtraReport_Pricipal = new XtraReport_Ordo(Convert.ToInt32(Soin_ID), SelectedID);

        using (MemoryStream ms = new MemoryStream())
        {
            try
            {
                PdfExportOptions opts = new PdfExportOptions();
                opts.ShowPrintDialogOnOpen = true;
                xtraReport_Pricipal.ExportToPdf(ms, opts);
                ms.Seek(0, SeekOrigin.Begin);
                byte[] report = ms.ToArray();
                Page.Response.ContentType = "application/pdf";
                Page.Response.Clear();
                Page.Response.OutputStream.Write(report, 0, report.Length);
                HttpContext.Current.ApplicationInstance.CompleteRequest();
            }
            finally
            {
                ms.Close();
            }
        }

    }
} 
```

问题是它不会自动关闭。我试过：

```
self.close();
window.close();
top.close(); 
```

这些都不起作用。有任何想法吗？

PS：当我通过 Firebug 看它时：

```
<embed width="100%" height="100%" name="plugin" src="http://172.18.1.253:4001/source/Print_Ordo.aspx?SoinId=4&amp;SelId=9" type="application/pdf"> 
```

我想因为这个进程插件，我不能关闭这个窗口。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:50:29.773

你可以试试这个 -`Focus`在关闭之前添加窗口

```
<script type="text/javascript">
    window.print();
    window.onfocus = function() { window.close(); }
</script> 
```

# c++ - 动态声明数组后面的静态声明

> ID：12477893
> 
> 赞同：1
> 
> 时间：2012-09-18T13:20:01.417
> 
> 标签：c++, static, new-operator

我想在一个函数中有一个数组，当我退出函数时保留它的值，例如 -

```
 int func(int x)
 {
  static int arr[5];
 } 
```

但问题是我事先不知道数组的大小（即它取决于x）。所以，我必须使用'new'声明一个数组。

可以这样做吗？

```
 static int *arr=new int[x]; 
```

还是我必须这样做：

```
 static int *static arr = new int[x] 
```

如果没有，那该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:29:09.693

`static int *arr = new int[x];`没关系。但是，您需要担心内存泄漏，因为`delete [] arr;`.

如注释中所述，`static std::vector<int> arr;`首选局部变量，因为它的析构函数在程序结束时自动调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:28:16.643

我不认为那是合法的。您可以使用变量在函数范围内“动态”调整数组大小的原因是 AFAIK，因为数组被放入堆栈：

```
void foo(int x)
{
   int bar[x]; // this is legal
} // but goes out-of-scope here :-( 
```

声明数组`static`会破坏它。可以这样想：链接器没有机会知道数组的大小，因此无法定位“超出”数组的任何内容（显然是不可取的）。

所以基本上你需要通过`new`和使用堆`delete`。或者更好地`std::vector<>`按照已经建议的方式使用（在内部使用堆）。

# git - Git 提交一条提交信息，仅此而已？

> ID：12477894
> 
> 赞同：6
> 
> 时间：2012-09-18T13:20:01.440
> 
> 标签：git, github, commit

在 GitHub 上处理拉取请求时，我经常想合并来自分支的提交而不做任何更改。但是，我想在合并后提交一些东西。我不想这样做，`git commit --amend`因为这会改变我引入的提交，所以跟踪更改变得更加复杂。

除了一条消息，有没有什么办法`git commit`？原因是因为我可能想在拉取请求中提及一些东西——指向测试用例的 URL，或者提及其他拉取请求，这样我就可以使用提交钩子`Closes #123`，就像原始拉取请求一样。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-18T13:21:11.627

要提交空提交，请使用`git commit --allow-empty`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T14:11:23.710

您可以`git merge --no-commit branch`用来进行合并但不能自动提交。您现在可以像合并失败一样调整实际提交，包括更改提交消息。

此外，您可以通过 输入一条消息`git merge -m "message" branch`，该消息将添加到合并提交中。

# websphere - 关于 webpshere 会话内存到内存复制的担忧

> ID：12477898
> 
> 赞同：0
> 
> 时间：2012-09-18T13:20:08.507
> 
> 标签：websphere, websphere-7, websphere-6.1

我有一个 WAS 环境，其拓扑如下所示：（这里有一个错字，“IH”应该是“IHS”）

来自最终用户的请求通过 IHS 并到达 WAS1，然后来自 WAS1 的应用程序将从其后端 WAS2 CLUSTER 调用应用程序服务，F5 设备负责负载平衡工作。

我的问题是关于**WAS2**集群的会话跟踪机制。启用`Memory-to-memory replication`后，我可以在此处使用`cookies`或使用其中一个`URL rewriting`吗？如果是这样，我需要进行任何手动配置吗？如果没有，我可以使用哪种跟踪方式？哪个不能？为什么？

请帮助解释尽可能详细！

提前致谢

![在此处输入图像描述](../Images/f2a5bc440c0b0d1ed707b51cc75ff469.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T01:28:26.103

Cookie 或 URL 重写与 Session 复制无关。它们是客户端将会话 ID 发送回服务器的工具。默认情况下支持 Cookie，您需要选中一个框以启用 URL 重写。

我有几个问题要问你。

(1) 为什么 WAS 1 没有集群？（或者你不想在这张照片中展示它）。

（2）它起什么作用？可以通过简单的 IHS 实现该功能吗？

(3) 为什么在 WAS 1 和 WAS 集群之间使用 F5？我不明白 F5 负载均衡器的工作原理。通常 IHS 使用 WAS 生成的克隆 ID 来了解将请求路由到哪个 WAS 服务器。这就是在 IHS+WAS 中实现会话亲和性的方式。F5 可能会也可能不会做到这一点。

 *除了启用 URL 重写并确保应用程序代码中的所有链接都使用编码的 URL 之外，上述结构中不需要任何配置。我宁愿坚持使用 Cookie，因为这是默认方法，事实上，如果关闭 cookie，WAS 将无法工作（因为用于安全性（auth/auth）的 LTPAToken 作为 cookie 发送回客户端） .

除了一个“未编码的 URL 链接”可能会丢失用户的会话这一事实之外，使用 URL 重写没有任何害处。

高温高压*

# trigger.io - 如何（如果有的话）在 Trigger.io 中禁用设备睡眠？

> ID：12477902
> 
> 赞同：4
> 
> 时间：2012-09-18T13:20:19.560
> 
> 标签：trigger.io

我正在尝试决定是否应该使用 PhoneGap 或 Trigger.io 来开发我即将构建的移动应用程序。“必备”之一是禁用显示睡眠的能力。我已经看到了各种针对 PhoneGap ( `idleTimerDisabled`) 的 hack，甚至还有一个可以让您直接从 JS 控制它的插件，但是我还没有在 Trigger.io 中找到关于这个主题的任何内容。

那么，有可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T08:02:31.223

您应该能够为 Android 和 iOS 编写本机插件来禁用设备睡眠。以下是有用的链接，可以帮助您走上正确的道路：

[Trigger.io 原生插件](http://docs.trigger.io/en/latest/modules/native/index.html)

[iOS：如何停止设备待机计时器？](https://stackoverflow.com/questions/5064332/ios-how-to-stop-the-device-standby-timer)

[停止 android 设备休眠](https://stackoverflow.com/questions/6075125/stop-android-device-from-sleeping)

# html - 将 imageData从 Firefox 拖到桌面

> ID：12477905
> 
> 赞同：2
> 
> 时间：2012-09-18T13:20:48.107
> 
> 标签：html, firefox, drag-and-drop, html5-canvas

我想将一个“ `imageData image`”（使用创建的`canvas.toDataURL()`）从浏览器拖到我的桌面。

这适用于 webkit（Chrome 21 和 Safari 6），但**不适**用于 Firefox 13 和 15（我没有检查其他的）。

[你可以在这里试试](http://jeremy.gabriele.free.fr/StackOverflow/index.html)。

我怎样才能做到这一点？

# java - 文件上传richfaces IndexOutOfBoundsException Buffer.checkBounds

> ID：12477907
> 
> 赞同：0
> 
> 时间：2012-09-18T13:20:53.227
> 
> 标签：java, jsf, unix, file-upload, richfaces

再会，

我正在使用richfaces 组件上传文件（FileUpload [FileUpload](http://livedemo.exadel.com/richfaces-demo/richfaces/fileUpload.jsf?c=fileUpload)）。问题是它给我一个错误，只有当软件在 unix 服务器上使用时。当我在我的机器上测试时，在 Eclipse 上，文件的“添加”工作正常。

```
WARNING [javax.enterprise.resource.webcontainer.jsf.lifecycle] 
JSF1053: (Listener: org.richfaces.component.FileUploadPhaselistener.beforePhase(), Phase ID: RESTORE_VIEW 1,  View ID: ) Exception thrown during phase-listener execution: java.lang.IndexOutOfBoundsException
WARNING [javax.enterprise.resource.webcontainer.jsf.lifecycle]
java.nio.Buffer.checkBounds(Buffer.java:530)
java.nio.DirectByteBuffer.get(DirectByteBuffer.java:215)
org.apache.coyote.ajp.AjpAprProcessor.readMessage(AjpAprProcessor.java:1174)
org.apache.coyote.ajp.AjpAprProcessor.receive(AjpAprProcessor.java:1099)
org.apache.coyote.ajp.AjpAprProcessor$SocketInputBuffer.doRead(AjpAprProcessor.java:1239)
org.apache.coyote.Request.doRead(Request.java:428)
org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:332)
org.apache.tomcat.util.buf.ByteChunk.substract(ByteChunk.java:420)
org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:364)
org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:162)
org.ajax4jsf.request.MultipartRequest.fillBuffer(MultipartRequest.java:415)
org.ajax4jsf.request.MultipartRequest.initialize(MultipartRequest.java:583)
org.ajax4jsf.request.MultipartRequest.parseRequest(MultipartRequest.java:616)
org.richfaces.component.FileUploadPhaselistener.beforePhase(FileUploadPhaselistener.java:63)
com.sun.faces.lifecycle.Phase.handleBeforePhase(Phase.java:214)
com.sun.faces.lifecycle.Phase.doPhase(Phase.java:96)
com.sun.faces.lifecycle.RestoreViewPhase.doPhase(RestoreViewPhase.java:102)
com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
javax.faces.webapp.FacesServlet.service(FacesServlet.java:265)

.......
.......
.......

org.jboss.web.tomcat.security.SecurityContextEstablishmentValve.process(SecurityContextEstablishmentValve.java:126)
org.jboss.web.tomcat.security.SecurityContextEstablishmentValve.invoke(SecurityContextEstablishmentValve.java:70)
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:158)
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:330)
org.apache.coyote.ajp.AjpAprProcessor.process(AjpAprProcessor.java:419)
org.apache.coyote.ajp.AjpAprProtocol$AjpConnectionHandler.process(AjpAprProtocol.java:402)
org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:2036)
java.lang.Thread.run(Thread.java:619) 
```

没有原因...有什么建议吗？

# c# - 在 wp7 xmpp 客户端中获取用户存在

> ID：12477909
> 
> 赞同：0
> 
> 时间：2012-09-18T13:21:01.017
> 
> 标签：c#, windows-phone-7, xmpp, user-presence, agsxmpp

我正在使用来自[xmedianet codeplex的 XMPPClient 用于 wp7](http://xmedianet.codeplex.com/)

我能够在 wp7 上连接 xmpp 客户端并获取名册，但我无法获得名册的存在，就像我列表中的一些朋友在线或离线一样。我找不到任何与可以通知用户存在相关的事件。如果有人用过，请建议。

# php - 使用 cURL 进行 php 验证

> ID：12477912
> 
> 赞同：1
> 
> 时间：2012-09-18T13:21:07.310
> 
> 标签：php, curl

我正在尝试使用 php 验证表单，因为它有一个需要验证的文件输入。

基本上，我的表单操作将其发送到 validate.php，它验证表单字段并使用 cURL 中的 POST 将无效数据发送回表单：

```
$data = array(
    'nameError' => $nameError,
    'name' => $name,
    'description' => $desc,
    'descError' => $descError,
    'spriceError' => $spriceError,
    'sprice' => $sprice,
    'iprice' => $iprice,
    'incprice' => $incprice,
    'incprice' => $incprice,
    'durError' => $durError,
    'location' => $location,
    'img' => $imgError
);

foreach($data as $key=>$value){
    $field_string .= $key.'='.$value.'&';

}
rtrim($field_string, '&');

$ch = curl_init();

curl_setopt($ch, CURLOPT_URL, 'sellanitem.php');
curl_setopt($ch, CURLOPT_POST, count($data));
curl_setopt($ch, CURLOPT_POSTFIELDS, $field_string);

curl_exec($ch);

curl_close($ch);
header("Location: sellanitem.php"); 
```

在我的表单页面中，我检查是否设置了帖子数据：

```
if(isset($_POST['name'])){
    $name = $_POST['name'];

}else{
    $name = "";
}

if(isset($_POST['nameError'])){
    $nameError = $_POST['nameError'];
}else{
    $nameError = "";
}

if(isset($_POST['durError'])){
    $durError = $_POST['durError'];

}else{
    $durError = "";
}

if(isset($_POST['description'])){
    $desc = $_POST['description'];

}else{
    $desc = "";
} 
```

等等

然后我根据变量的值显示消息：

```
 <td>
                <textarea id="name" name="name" title="name" rows="2" cols ="60" style="resize:none; float:right; font-family: Arial;" value=""><?php echo $name;?></textarea>
<?php
if($nameError != ""){
    echo $nameError;
} 
```

在谷歌中查找“自动提交表单 php”后，我来到了这个方法。我的想法是，如果我可以自动提交表单，我可以简单地将错误消息作为数据字段包含在我的 sellanitem.php 中。我不知道怎么想，这个 cURL 的东西让我很困惑，到目前为止，我提交了带有无效输入的表单字段来测试它，它只是加载了一个空白页面。我也尝试放置标题（“位置：selleritem.php”），但没有显示错误消息。

什么可能是错误的/可以达到相同结果的替代方法的建议？

干杯，邦迪

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:33:01.500

如果要解析 cURL 请求的返回，则需要：

```
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); 
```

此外

```
$output = curl_exec($ch); 
```

但是，这似乎是一个本地文件......为什么你不能直接`include 'sellanitem.php'`而不是通过 cURL 传递帖子数据？

还值得注意的是`Location`标题应该使用[`Absolute URI`](http://en.wikipedia.org/wiki/Uniform_resource_identifier#Examples_of_absolute_URIs)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:25:54.157

您没有设置输出缓冲区，因此您需要将 exec 分配给变量：

```
$data = curl_exec($ch); 
```

数据就是它返回的东西。如果您发回一个 json 错误字符串等，那么您就是金子。

# regex - 文件中的bash字符串替换

> ID：12477913
> 
> 赞同：1
> 
> 时间：2012-09-18T13:21:07.900
> 
> 标签：regex, bash, sed, wildcard

我正在尝试替换文件 replacetest.xml 中的一些文本

这是我要修改的文件的一部分。

`<class name="replace_after_this_string">randomtext</class>`

我想`randomtext`用数组索引处的文本更改文本

```
orgs=( item1 item2 ) 
```

并用这些修改覆盖文件。

我的主要问题是通配符和`sed`命令。所以这就是我尝试过的

```
orgs=( item1 item2 )

SRC="name="'"replace_after_this_string"'">"
#need some sort of wildcard here

for i in "${orgs[@]}"
do
:
    # do whatever on $i
    DST=$SRC$i

    sed -e 's/$SRC/$DST/g' -i replacetest.xml

done 
```

1）我需要一个通配符来指定我想`randomtext`在确定变量中的内容后替换`$SRC`

2）我的 sed 语句除了逐字打印到命令行之外什么都不做，根本不修改我的文件，即使在打印到命令行的内容中也是如此

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:40:52.490

我认为 sed 是一个错误的工具，因为它不理解 XML 文件的结构，因此，即使你可以让它工作，你的脚本最终也会变得相当脆弱。正如[Brian Agnew](https://stackoverflow.com/a/12477998/223092)在他的回答中所建议的那样，[xmlstarlet](http://xmlstar.sourceforge.net/)是用于操作 XML 文件的有用工具。例如，如果您的文件（`12477913.xml`例如）如下：

```
<?xml version="1.0"?>
<foo>
  <class name="replace_after_this_string">randomtext</class>
  <class name="not_for_replacing">some other text</class>
</foo> 
```

...然后这个命令：

```
xmlstarlet ed -u './/class[@name="replace_after_this_string"]' \
    -v 'REPLACED HERE' 12477913.xml 
```

...将产生以下输出：

```
<?xml version="1.0"?>
<foo>
  <class name="replace_after_this_string">REPLACED HERE</class>
  <class name="not_for_replacing">some other text</class>
</foo> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T13:26:59.823

我知道它不会直接回答您的问题，但我会使用一些支持 XML 的东西来修改 XML 文件。这样你就可以避免实体和字符编码的问题，并保持良好的格式。

值得一试的是[XMLStarlet](http://xmlstar.sourceforge.net/)作为命令行 XML 工具包。

# jquery - 使用 jQuery 在 Chrome 中检测 iframe（相同域/子域）内的点击

> ID：12477917
> 
> 赞同：0
> 
> 时间：2012-09-18T13:21:17.607
> 
> 标签：jquery, html, iframe

这个问题被问了很多，答案通常是相似的。

基本上，我需要一个函数来在点击 iframe 的内容时执行。

出于本演示的目的，我有[http://mydomain.com/iframe.html](http://mydomain.com/iframe.html)，其中包含一个 ID 为“iframeID”的 iframe 和一个[http://mydomain.com](http://mydomain.com)的来源。

此代码有效：

```
jQuery(document).ready(function(){
    $('#iframeID').contents().click(function(event) {
        console.log('Clicked! ' + event.pageX + ' - ' + event.pageY);
    });
}); 
```

但是，此代码仅适用于 Internet Explorer。我需要一个适用于所有浏览器的解决方案。

好消息是，这都在同一个域上，所以如果我需要在 iframe 源或 iframe.html 中添加额外的代码，那很好。我只需要它来跨浏览器工作。

需要注意的另一点是，我希望它能够跨子域工作。

我知道它不适用于不同的域，但据我了解，子域应该没问题吗？需要任何额外的步骤才能工作吗？

任何帮助都感激不尽！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T14:38:54.500

这是我放在 jsFiddle 上的一个示例，它演示了使用 XDM 的一种方法： [这是演示](http://jsfiddle.net/quant/HfKQz/)，它包含[这个小提琴作为子 iframe](http://jsfiddle.net/quant/G2uq6/)

HTML（父）：

```
<h1>Parent window</h1>
<input id="message-for-child" type="text" value="" placeholder="(message for child)">
<button id="parent-to-child-button">Send to child</button>
<br>
<p id="parent-message"></p>
<br>
<iframe id="child" src="http://fiddle.jshell.net/quant/G2uq6/show/"></iframe> 
```

JavaScript（父）：

```
// parent_on_message(e) will handle the reception of postMessages (a.k.a. cross-document messaging or XDM).
function parent_on_message(e) {
    console.log("parent_on_message event fired: ", e);
    // You really should check origin for security reasons
    // https://developer.mozilla.org/en-US/docs/DOM/window.postMessage#Security_concerns
    if (e.origin.search(/^http[s]?:\/\/.*\.jshell\.net/) != -1
        && !($.browser.msie && $.browser.version <= 7)) {
        var returned_pair = e.data.split('=');
        if (returned_pair.length != 2)
            return;
        if (returned_pair[0] === 'message-for-parent') {
            $("p#parent-message").html(returned_pair[1]);
        }
        else
            console.log("Parent received invalid message");
    }
}

jQuery(document).ready(function($) {
    // Setup XDM listener (except for IE < 8)
    if (!($.browser.msie && $.browser.version <= 7)) {
        // Connect the parent_on_message(e) handler function to the receive postMessage event
        if (window.addEventListener)
            window.addEventListener("message", parent_on_message, false);
        else
            window.attachEvent("onmessage", parent_on_message);
    }

    $("button#parent-to-child-button").on("click", function(e) {
        console.log("Sending: " + $("input#message-for-child").attr("value"));
        $("iframe#child").get(0).contentWindow.postMessage('message-for-child=' + $("input#message-for-child").attr("value"), '*');

    });

}); 
```

HTML（儿童）：

```
<h1>Child</h1>
<input id="message-for-parent" type="text" value="" placeholder="(message for parent)">
<button id="child-to-parent-button">Send to parent</button>
<br>
<p id="child-message"></p> 
```

JavaScript（儿童）：

```
// child_on_message(e) will handle the reception of postMessages (a.k.a. cross-document messaging or XDM).
function child_on_message(e) {
    console.log("child_on_message event fired: ", e);
    // You really should check origin for security reasons
    // https://developer.mozilla.org/en-US/docs/DOM/window.postMessage#Security_concerns
    if (e.origin.search(/^http[s]?:\/\/.*\.jshell\.net/) != -1
        && !($.browser.msie && $.browser.version <= 7)) {
        var returned_pair = e.data.split('=');
        if (returned_pair.length != 2)
            return;
        if (returned_pair[0] === 'message-for-child') {
            $("p#child-message").html(returned_pair[1]);
        }
        else
            console.log("Child received invalid message");
    }
}

jQuery(document).ready(function($) {
    // Setup XDM listener (except for IE < 8)
    if (!($.browser.msie && $.browser.version <= 7)) {
        // Connect the child_on_message (e) handler function to the receive postMessage event
        if (window.addEventListener)
            window.addEventListener("message", child_on_message , false);
        else
            window.attachEvent("onmessage", child_on_message );
    }

    $("button#child-to-parent-button").on("click", function(e) {
        console.log("Sending: " + $("input#message-for-parent").attr("value"));
        parent.window.postMessage('message-for-parent=' + $("input#message-for-parent").attr("value"), '*');

    });

}); 
```

进一步阅读：

*   [XDM 教程](http://javascript.info/tutorial/cross-window-messaging-with-postmessage)
*   [XDM 信息](http://ejohn.org/blog/cross-window-messaging/)
*   [XDM 安全 #1](https://developer.mozilla.org/en-US/docs/DOM/window.postMessage#Security_concerns)
*   [XDM 安全 #2](http://my.opera.com/hallvors/blog/2010/07/20/postmessage-s-targetorigin-and-security)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T20:34:22.910

如果您只想让 iframe 中的链接在顶部窗口而不是 iframe 内部打开，请查看[如何强制 iframe 中的链接在父窗口中打开](https://stackoverflow.com/questions/1037839/how-to-force-link-from-iframe-to-be-opened-in-the-parent-window)

只需将其放在 iframe HTML 的头部：

```
<base target="_parent" /> 
```

# javascript - 将一个json数组拆分成JS变量

> ID：12477918
> 
> 赞同：0
> 
> 时间：2012-09-18T13:21:18.493
> 
> 标签：javascript, arrays, json, api, variables

我有一个从 API 输出的 JSON 数组。该数组与此类似： [http](http://pastebin.com/pHH977Uj)
://pastebin.com/pHH977Uj 在我的 javascript 中挑选各种价格的最微妙方法是什么？我希望它们是变量或数组。我对 web 的 html/php 之外的编程相当陌生，所以请耐心等待 D：
我已经为这个问题烦恼了大约一个星期。
编辑：
感谢您的快速回复！我正在寻找的基本上是一种将每个价格变成类似于可乐美元、百事可乐或咸味欧元的变量的方法。我不一定需要其他任何东西，因为我只想以两种不同的货币挑选每种产品的价格。此外，JSON 就是这样，我从外部网站上得到它，所以我对结构无能为力：

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:27:29.160

首先，该链接显示了一个 json 对象，而不是一个数组。其次，您应该始终使用

`var obj = JSON.parse(jsonString);`

从那里，您可以照常访问属性

`var sodas = obj.soda.usd; // obj, soda, and usd are all objects`

然后你可以得到每个键值对。

```
 // sodas is an object too, its values are arrays
for (var soda in sodas) {
   console.log (soda, prices.soda[0]);
} 
```

# regex - sed 正则表达式替换太多字符？

> ID：12477921
> 
> 赞同：0
> 
> 时间：2012-09-18T13:21:22.793
> 
> 标签：regex, sed

我将以下命令与 sed 一起使用：`sed s/1[^\.]/2/g test`

我想用 2 替换每个 1，除了后面跟一个点的那个。它工作正常。

但是在我的文件中，我有一个`{{1e}}`替换为`{{2}}`.

为什么 sed 删除`e`?

PS：我是正则表达式的初学者，所以这可能是一个明显的错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:32:06.707

在之后捕获字符`1`并在之后再次插入`2`：

```
sed 's/1\([^.]\)/2\1/g' test 
```

唯一的问题是`1`在行尾。您可以将其替换`2`为

```
s/1$/2/ 
```

# ack - 确认不识别资源文件设置

> ID：12477922
> 
> 赞同：3
> 
> 时间：2012-09-18T13:21:25.563
> 
> 标签：ack

我`ack`用来搜索所有源文件，包括,`.c`和另一种专有格式（让我们称之为），我发现以下工作正常：`.cpp``.h``.abc`

```
ack --type-add cc=abc text_to_look_for 
```

它允许`ack`将`.abc`文件视为 C/C++ 样式。`.ackrc`但是，我认为将此设置添加到我的主目录中的资源文件中会很好：

```
$ cat ~/.ackrc
--type-add cc=abc 
```

据我所知，这一切似乎都是合理的，并且符合手册页中所写的内容。但是，当我不这样做时

```
ack text_to_look_for 
```

我收到以下错误消息，这意味着我正在使用的选项不受支持。

```
$ ack text_to_look_for
Unknown option: type-add cc
ack: See ack --help or ack --man for options. 
```

谁能看到我在这里做错了什么？我在 Solaris 10 上使用 ack 版本 1.84。不幸的是，升级不是一种选择，但很高兴知道这是一个错误还是我做错了什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-19T02:11:41.487

它必须是`--type-add=cc=abc`。这是我的 .ackrc 的摘录

```
# Handle .md files
--type-set=md=.mkd
--type-add=md=.md
# Handle .textile files
--type-set=textile=.textile 
```

# apache - 什么会在 apache camel 中导致此异常

> ID：12477927
> 
> 赞同：0
> 
> 时间：2012-09-18T13:21:46.843
> 
> 标签：apache, apache-camel, catalina

我在运行时收到此异常：

```
 org.apache.camel.RuntimeCamelException: java.lang.IllegalArgumentException: connectionFactory must be specified
    at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1280)
    at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:120)
    at org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:280)
    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:97)
    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:303)
    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:911)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:428)
    at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)
    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)
    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4206)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4705)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:799)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:601)
    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:943)
    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:778)
    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:504)
    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1317)
    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:324)
    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1065)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)
    at org.apache.catalina.core.StandardService.start(StandardService.java:525)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)
Caused by: java.lang.IllegalArgumentException: connectionFactory must be specified
    at org.apache.camel.util.ObjectHelper.notNull(ObjectHelper.java:290)
    at org.apache.camel.component.jms.JmsConfiguration.createConnectionFactory(JmsConfiguration.java:1040)
    at org.apache.camel.component.jms.JmsConfiguration.getConnectionFactory(JmsConfiguration.java:403)
    at org.apache.camel.component.jms.JmsConfiguration.createListenerConnectionFactory(JmsConfiguration.java:1049)
    at org.apache.camel.component.jms.JmsConfiguration.getListenerConnectionFactory(JmsConfiguration.java:422)
    at org.apache.camel.component.jms.JmsConfiguration.configureMessageListenerContainer(JmsConfiguration.java:876)
    at org.apache.camel.component.jms.JmsConfiguration.createMessageListenerContainer(JmsConfiguration.java:375)
    at org.apache.camel.component.jms.JmsEndpoint.createMessageListenerContainer(JmsEndpoint.java:171)
    at org.apache.camel.component.jms.JmsEndpoint.createConsumer(JmsEndpoint.java:158)
    at org.apache.camel.component.jms.JmsEndpoint.createConsumer(JmsEndpoint.java:67)
    at org.apache.camel.impl.EventDrivenConsumerRoute.addServices(EventDrivenConsumerRoute.java:65)
    at org.apache.camel.impl.DefaultRoute.onStartingServices(DefaultRoute.java:80)
    at org.apache.camel.impl.RouteService.warmUp(RouteService.java:133)
    at org.apache.camel.impl.DefaultCamelContext.doWarmUpRoutes(DefaultCamelContext.java:1941)
    at org.apache.camel.impl.DefaultCamelContext.safelyStartRouteServices(DefaultCamelContext.java:1869)
    at org.apache.camel.impl.DefaultCamelContext.doStartOrResumeRoutes(DefaultCamelContext.java:1662)
    at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:1550)
    at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:1427)
    at org.apache.camel.spring.SpringCamelContext.doStart(SpringCamelContext.java:179)
    at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:60)
    at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:1395)
    at org.apache.camel.spring.SpringCamelContext.maybeStart(SpringCamelContext.java:228)
    at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:118)
    ... 32 more 
```

然后是堆栈跟踪的其余部分。

什么会导致这个异常，知道它以前工作过？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T17:16:51.510

`java.lang.IllegalArgumentException: connectionFactory must be specified`

您应该检查连接工厂是否设置为正确的工厂的骆驼 JMS 组件配置。

# html - apache中目录列表的自动样式

> ID：12477930
> 
> 赞同：0
> 
> 时间：2012-09-18T13:21:59.990
> 
> 标签：html, css, apache

美好的一天，我正在设计 apache 目录列表的样式。我已成功将 css 样式添加到我当前的目录列表中（使用 header.html、footer.html 和 autoindex.css），但我的问题是，如何配置我的 apache，以便每次在我的服务器上上传新目录时，我的 CSS 样式会自动对其起作用。提前致谢

问候，诺伯特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T14:06:10.327

如果你添加

```
Options +Indexes 
```

对于 .htaccess 文件，Apache 将为 .htaccess 文件所在的目录以及任何子目录生成一个索引文件。如果您希望为其生成索引的其他目录不是子目录，则每个目录中都需要另一个 .htaccess 文件。

# asp.net-mvc-4 - 如何处理自定义分页系统将Get和模型信息同时传递给控制器

> ID：12477932
> 
> 赞同：0
> 
> 时间：2012-09-18T13:22:06.407
> 
> 标签：asp.net-mvc-4

我有一张表，上面有条目，每页有 10 个条目，总页数约为 130。

如何在同一视图上处理操作，同时仍保留内存中的分页...

```
@using (Html.BeginForm())
        {
        <label>All Logs since :</label> <input id="startDate" name="startDate" class="datepicker" type="text" value="@Model.option.startDate.Value.ToString("dddd, dd MMMM yyyy")" />

<input type="submit" />
        } 
```

提交后，我希望表格根据开始日期进行过滤。但是如果用户点击一个页面链接，我需要这个研究结果来覆盖我视图中的默认设置。这是我的控制器中的操作：

```
[HttpGet]
    public ActionResult Index(int? id)
    {
            MainViewModel model = new MainViewModel();

                model.option = new LogOption();
                model.option.numberOfResultPerPage = 10;
                model.option.startDate = (method to set default date)
                model.option.startPageIndex = id ?? 1;

                *** call to service with the model.options as filter and set my table's column info  and retreive the logs total in a custom class ( model.listing ) *** 

                model.totalPage = model.listing.TotalPages;

            return View(model); 
```

现在当用户提交一个新的日期时，我会做同样的事情，但有一点不同，即将默认日期设置为类似的东西：

```
[HttpPost]
    public ActionResult Index(LogOption mod)
    {

        model.option.startDate = mod.startDate;
     } 
```

问题是，如果在修改 startDate 过滤器之后，如果用户单击以从我的表中更改页面，则再次调用 get 操作，我不知道如何处理对原始默认设置的覆盖。我可以以更清洁的方式做到这一点而不必在会话中设置信息吗？

我想我需要将模型与获取信息一起传递，但我无法做到。

```
 [HttpPOST]
    public ActionResult Index(MainViewModel mod, int? id)
    {
     } 
```

但是当我这样做时，我的 MainViewModel 总是为空，所以除了在会话中保存它之外，我不知道如何获取这两个信息，但我被告知要避免这种情况，并且可以以其他方式进行

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-30T20:32:13.107

您面临的问题类型是*状态持久性问题*。有很多方法可以解决这个问题（因为 HTTP 在设计上是无状态的），但最简单的是：

*   使用 cookie 保存 startDate
*   使用会话（在大多数情况下将使用 cookie）
*   在您的实体周围使用包含过滤信息的包装器模型

我将展示后者：

```
class DateWrapper 
{
    public Date StartDate {get;set;}
    public MainViewModel Model {get;set;}
} 
```

在您的视图中，您可以检查`null == StartDate`并根据结果生成包含过滤信息的链接（作为 GET 参数或通过其他路由）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T18:02:18.370

我只是意识到我正试图将我的 GET 信息保存到 POST 操作中......这有点愚蠢的逻辑

# json - Netbeans Restful Web 服务

> ID：12477934
> 
> 赞同：0
> 
> 时间：2012-09-18T13:22:11.737
> 
> 标签：json, web-services, rest, netbeans

我正在尝试使用 Netbeans 从数据库中创建一个简单的 Restful WebService。一切顺利。我遵循了可以在[此处找到的 Netbeans 教程。](http://netbeans.org/kb/docs/websvc/rest.html)

但是当我尝试获取 json 结果时，我发现 int 值（例如 id）被视为字符串：

```
{"task":[
        {"id":"1","label":"get dressed"},
        {"id":"2","label":"make breakfast"}
        ]} 
```

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T17:45:20.553

检查这篇[文章](https://stackoverflow.com/questions/11737597/how-to-return-a-long-property-as-json-string-value-with-jaxb)。这与您的要求相反，但相同的解决方案应该适合您。`@XmlSchemaType`注释应该有所帮助。

我假设在您的`@XmlRootElement`班级中，属性类型是`int`.

# c - stat 返回 ENOENT

> ID：12477936
> 
> 赞同：0
> 
> 时间：2012-09-18T13:22:23.247
> 
> 标签：c, linux, stat

我正在运行以下程序，它检查文件是否存在或不使用`stat()`. 但是，当我通过一条路径说时，它会因错误`$HOME/file.sh`而失败。`ENOENT`但是当我通过扩展路径时，即`/root/file.sh`返回`stat()`成功，即退出代码 0。

```
int main ()
{
    struct stat statbuf;
    char path [1024];
    strcpy(path,"$HOME/file.sh");

    int rc = stat(path,&statbuf);

    if (rc == -1 )
    {
        printf ("File not found !!\n");
    }
    else
        printf("Found it !!\n");

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T13:24:47.757

`strcpy()`不会将环境变量扩展`$HOME`为其值，但会按指定复制提取字符串文字。您可以获得`$HOME`using的值[`getenv()`](http://linux.die.net/man/3/getenv)。

将您的失败消息更改为：

```
printf("File not found: %s\n", path); 
```

确认。

# javascript - 如何在单击时停止旋转画廊

> ID：12477939
> 
> 赞同：0
> 
> 时间：2012-09-18T13:22:36.490
> 
> 标签：javascript, jquery, html, css, onclick

我无法修改此小部件以在单击后停止旋转。有谁知道如何添加此功能？任何帮助将不胜感激。

提前致谢。

*   麦克风

这是小部件的链接：

[http://stromasys.29kdev.com/jcoverflip/](http://stromasys.29kdev.com/jcoverflip/)

这是Javascript：

```
 <script>

    jQuery( document ).ready( function(){
        jQuery( '#flip' ).jcoverflip({
          current: 2,

          beforeCss: function( el, container, offset ){
            return [
              $.jcoverflip.animationElement( el, { left: ( container.width( )/2 - 210 - 110*offset -10*offset )+'px', bottom: '20px' }, { } ),
              $.jcoverflip.animationElement( el.find( 'img' ), { width: Math.max(20,100-20*offset*offset) + 'px' }, {} )
            ];
          },
          afterCss: function( el, container, offset ){
            return [
              $.jcoverflip.animationElement( el, { left: ( container.width( )/2 + 110 + 110*offset + 10*offset)+'px', bottom: '20px' }, { } ),
              $.jcoverflip.animationElement( el.find( 'img' ), { width: Math.max(20,100-20*offset*offset) + 'px' }, {} )
            ];
          },
          currentCss: function( el, container ){
        jQuery('#flip>li.selected').removeClass('selected');
        el.addClass('selected');
            return [
              $.jcoverflip.animationElement( el, { left: ( container.width( )/2 - 75 )+'px', bottom: 0 }, { } ),
              $.jcoverflip.animationElement( el.find( 'img' ), { width: '150px' }, { } )
            ];
          },
          change: function(event, ui){
            jQuery('#scrollbar').slider('value', ui.to*25);
          }
        });

        jQuery('#scrollbar').slider({
          value: 50,
          stop: function(event, ui) {
            if(event.originalEvent) {
              var newVal = Math.round(ui.value/25);
              jQuery( '#flip' ).jcoverflip( 'current', newVal );
              jQuery('#scrollbar').slider('value', newVal*25);
            }
          }
        });
      });

var timer=setInterval(next,5000);

function next(){
    var $next=$('#flip>li.selected').next('li');
    if(!$next.length){$next=$('#flip>li:first-child');}
    $next.click();
}

    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:27:09.097

只需将事件处理程序附加到任何 DOM 元素：

```
$("a.stop").click(function(){
    clearInterval(timer);
    return false;
}); 
```

同样的**HTML**是：

```
<a href="#" class="stop">Stop</a> 
```

如果你想附加到图像，那么这是代码：

```
$(".ui-jcoverflip--item img").click(function(){
    clearInterval(timer);
    return false;
}); 
```

# osgi - Equinox 在 30 秒不活动后关闭

> ID：12477941
> 
> 赞同：1
> 
> 时间：2012-09-18T13:22:53.473
> 
> 标签：osgi, shutdown, equinox

我有一个在 Equinox osgi 容器中运行的“应用程序”（不是 Eclipse 应用程序，因此是下面的 noShutdown 和 ignoreApp 参数）。它是一种服务器，如果没有收到任何传入消息，它会在大约 30 秒后关闭。肯定不是socket的错，我已经查过了。
另外，如果我使用`-console`参数启动应用程序，框架不会关闭，但是这样放置对生产来说不是一个好主意......
当我从 Eclipse 运行程序时没有发生这种现象也很奇怪。
这些是我使用的标准参数：

```
-consoleLog
-clean
-vmargs
-Declipse.ignoreApp=true
-Dosgi.noShutdown=true
-XX:+UnlockDiagnosticVMOptions
-XX:+UnsyncloadClass 
```

尽管（我认为）有正确的论点，什么可能导致这种自动关闭？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T14:16:24.303

感谢 Thomas Watson 在 eclipse 论坛上的帖子，问题现在已经解决，我引用他的话：

> 这看起来是错误 310426。您使用的是什么版本的 Equinox。如果它早于 3.7，则尝试设置以下属性：
> 
> osgi.framework.activeThreadType=正常
> 
> 高温高压
> 
> 汤姆

再次感谢！（我们使用的是 3.5.1）

# c++ - 在资源文件中查找控件

> ID：12477946
> 
> 赞同：1
> 
> 时间：2012-09-18T13:23:02.383
> 
> 标签：c++, visual-studio, mfc

我是 C++ 和 MFC 的新手。我正在处理一个大型项目，我需要找到表单上控件的资源定义。我很难找到合适的资源。

我可以在运行时使用 spy++ 识别控件，但我没有在属性中找到任何可以引导我找到正确资源定义的内容。如果我知道如何在运行时找到它，有哪些好的技术可以在代码中跟踪控件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:42:18.637

1.  在“属性”中查找 ControlID 值
2.  将十六进制值转换为十进制
3.  在 resource.h 文件中搜索这个值你会看到类似 #define IDC_YOUR_CONTROL 205

IDC_YOUR_CONTROL 是您所需要的。

当然，此解决方案仅适用于资源 .rc 控件中定义的静态。控件是动态创建的，您必须手动调查源代码（通常是 MFC 对话框的 CDialog::OnInitialize() 方法）

# jquery - 手动设置初始事件

> ID：12477951
> 
> 赞同：0
> 
> 时间：2012-09-18T13:23:16.990
> 
> 标签：jquery, fullcalendar

我有一个完整的日历，我不想在“构造函数”中设置初始事件，而是从代码中其他地方的调用函数。问题是即使函数运行，renderEvents 函数也不会被调用，直到它第二次运行。

```
 function reloadEvents(events) {
        $("#calendar").fullCalendar('removeEvents');

        $("#calendar").fullCalendar('addEventSource', function (start, end, callback) { callback(events); });
} 
```

这是函数，它在页面加载时运行。但是我需要与 UI 交互并再次运行它，以便让 fullcalendar 呈现事件。

有任何想法吗？refreshEvents 没有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T07:44:42.037

该行为是由于当我尝试向其中添加带有事件的事件源时日历甚至不存在。当我移动确保日历确实为活动做好准备的东西时，一切正常。

# python - SqlProxyRow 中 long 类型的结果结果为字符串

> ID：12477956
> 
> 赞同：0
> 
> 时间：2012-09-18T13:23:29.987
> 
> 标签：python, sqlalchemy

我无法将结果中的数据读取为正确的类型，例如：

```
result = engine.execute("SELECT id FROM table WHERE SetId = 5).fetchall() 
```

MySQL DB 中的列**id**是 Long 类型

```
print result
[(1L,), (2L,), (3L,), (4L,), (5L,), (6L,)]

for row in result:
   print row

(1L,) etc..

print type(row)
 <class 'sqlalchemy.engine.base.RowProxy'> 
```

将这些值读取为正确类型 Long 的最佳方法是什么？我真的不知道如何正确读取 RowProxy 类中的值

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:34:35.147

SQLAlchemy[`RowProxy`实例](http://docs.sqlalchemy.org/en/latest/core/connections.html#sqlalchemy.engine.RowProxy)不是字符串，而是打印时具有字符串表示的对象。

它们的作用类似于列表和映射；如果您只需要长值，只需遍历该行：

```
for row in result:
    for value in row:
        print value 
```

或通过索引处理行中的每一列：

```
for row in result:
    print row[0] 
```

您的查询要求 column `id`，因此它现在是该行上的一个键：

```
for row in result:
    print row['id'] 
```

# postgresql - 在 postgresql 9.2 的 tztsrange 中使用 now() 作为默认值

> ID：12477957
> 
> 赞同：5
> 
> 时间：2012-09-18T13:23:30.593
> 
> 标签：postgresql, postgresql-9.2

是否可以定义为postgresql 9.2 中引入`now()`的数据类型的起始值？`tztsrange`我试着用这个

```
ALTER TABLE test_table ALTER COLUMN tstz_range SET DEFAULT '[now,infinity]'::tstzrange; 
```

但是在这样的表达式`now()`中，通过更改表来评估当前时间戳，尽管默认值总是相同的：

```
'["2012-09-18 15:00:47.334196+02",infinity]'::tstzrange; 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-18T15:35:28.967

如[文档中](http://www.postgresql.org/docs/devel/static/rangetypes.html)所述，您可以使用相应的功能定义范围：

```
SELECT tstzrange(now(), 'infinity', '[)');
┌────────────────────────────────────────────┐
│                 tstzrange                  │
├────────────────────────────────────────────┤
│ ["2012-09-18 15:33:50.186351+00",infinity) │
└────────────────────────────────────────────┘ 
```

因此，您可以使用以下函数轻松创建默认值：

```
CREATE TABLE plop (
  id serial PRIMARY KEY, 
  some_range tstzrange DEFAULT tstzrange(now(), 'infinity', '[)')
); 
```

# iphone - 按下锁定按钮时 AVAudioRecorder 停止

> ID：12477958
> 
> 赞同：1
> 
> 时间：2012-09-18T13:23:35.487
> 
> 标签：iphone, objective-c, ios, xcode, avaudiorecorder

> **可能重复：**
> [屏幕锁定时 AVAudioRecorder 不录制](https://stackoverflow.com/questions/9918761/avaudiorecorder-doesnt-record-while-screen-is-locked)

我试图让我的录音机继续工作，即使 iphone 像苹果的语音备忘录应用程序一样被锁定。目前，锁定按钮似乎要求我的录音机停止。

即使屏幕被锁定直到用户实际手动停止它，我该怎么做才能保持录音机开启？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T20:40:47.993

您需要配置 AVAudioSession 类别。

```
NSError *sessionError = nil;
[[AVAudioSession sharedInstance] setDelegate:self]; 
[[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryRecord error:&sessionError]; 
```

[你可以在这里](https://developer.apple.com/library/ios/#documentation/Audio/Conceptual/AudioSessionProgrammingGuide/Configuration/Configuration.html#//apple_ref/doc/uid/TP40007875-CH3-SW1)找到更多信息

# java - 调用 showOpenDialog() 时出现 JFileChooser 异常

> ID：12477959
> 
> 赞同：0
> 
> 时间：2012-09-18T13:23:52.780
> 
> 标签：java, swing, exception, jfilechooser

我有一个按钮，如果单击它，应该打开一个文件选择器......但我总是得到这个 NullPointerException。

我读到了一些可能是因为我在事件 dis 之外启动对话框。线程，但是这个调用 EventQueue.invokeLater 无论如何都会调用 EDT，对吧？

这是源代码（else if 在 ActionListener 扩展类中 - 在 actionPerformed 方法中）：

```
else if(buttonID.equals(Definition.BTN_LOAD_DF_NAME))
        {
            EventQueue.invokeLater(new Runnable()
            {
                @Override
                public void run()
                {
                    JFileChooser fc = new JFileChooser();
                    fc.setFileFilter(new FileFilter()
                    {
                        @Override
                        public String getDescription(){
                            return "XML-File";
                        }

                        @Override
                        public boolean accept(File f){
                            return f.isDirectory() || f.getName().endsWith(".xml") || f.getName().endsWith(".XML");
                        }
                    });

                    int state = fc.showOpenDialog(null);
                    if(state == JFileChooser.APPROVE_OPTION)
                    {
                        try{
                            app.loadDF(fc.getSelectedFile());
                        }
                        catch(Exception ex){
                            ex.printStackTrace();
                        }
                    }                   
                }
            });
        } 
```

这里是堆栈跟踪：

```
Exception occurred during event dispatching:
java.lang.NullPointerException
    at sun.swing.plaf.synth.SynthFileChooserUI.update(Unknown Source)
    at javax.swing.JComponent.paintComponent(Unknown Source)
    at javax.swing.JComponent.paint(Unknown Source)
    at javax.swing.JComponent.paintChildren(Unknown Source)
    at javax.swing.JComponent.paint(Unknown Source)
    at javax.swing.JComponent.paintChildren(Unknown Source)
    at javax.swing.JComponent.paint(Unknown Source)
    at javax.swing.JLayeredPane.paint(Unknown Source)
    at javax.swing.JComponent.paintChildren(Unknown Source)
    at javax.swing.JComponent.paintToOffscreen(Unknown Source)
    at javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(Unknown Source)
    at javax.swing.RepaintManager$PaintManager.paint(Unknown Source)
    at javax.swing.RepaintManager.paint(Unknown Source)
    at javax.swing.JComponent.paint(Unknown Source)
    at java.awt.GraphicsCallback$PaintCallback.run(Unknown Source)
    at sun.awt.SunGraphicsCallback.runOneComponent(Unknown Source)
    at sun.awt.SunGraphicsCallback.runComponents(Unknown Source)
    at java.awt.Container.paint(Unknown Source)
    at java.awt.Window.paint(Unknown Source)
    at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)
    at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source)
    at javax.swing.RepaintManager.seqPaintDirtyRegions(Unknown Source)
    at javax.swing.SystemEventQueueUtilities$ComponentWorkRequest.run(Unknown Source)
    at java.awt.event.InvocationEvent.dispatch(Unknown Source)
    at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
    at java.awt.EventQueue.access$000(Unknown Source)
    at java.awt.EventQueue$1.run(Unknown Source)
    at java.awt.EventQueue$1.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.AccessControlContext$1.doIntersectionPrivilege(Unknown Source)
    at java.awt.EventQueue.dispatchEvent(Unknown Source)
    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
    at java.awt.Dialog$1.run(Unknown Source)
    at java.awt.Dialog$3.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.awt.Dialog.show(Unknown Source)
    at javax.swing.JFileChooser.showDialog(Unknown Source)
    at javax.swing.JFileChooser.showOpenDialog(Unknown Source)
    at logic.FuncActionListener$1.run(FuncActionListener.java:120)
    at java.awt.event.InvocationEvent.dispatch(Unknown Source)
    at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
    at java.awt.EventQueue.access$000(Unknown Source)
    at java.awt.EventQueue$1.run(Unknown Source)
    at java.awt.EventQueue$1.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.AccessControlContext$1.doIntersectionPrivilege(Unknown Source)
    at java.awt.EventQueue.dispatchEvent(Unknown Source)
    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
    at java.awt.EventDispatchThread.run(Unknown Source) 
```

感谢您的每一个帮助！

ps：观感（必用）：

```
<?xml version="1.0" encoding="UTF-8"?>
<synth>
    <style id="backingStyle">
        <opaque value="FALSE" />
    </style>
    <bind style="backingStyle" type="region" key="Panel" />
    <style id="button">
        <!-- Shift the text one pixel when pressed -->
        <property key="Button.textShiftOffset" type="integer" value="2" />
        <state>
            <imagePainter method="buttonBackground" path="images/button_normal.png" sourceInsets="10 10 10 10" />
            <font name="Dialog" size="12" />
        </state>
        <state value="PRESSED">
            <imagePainter method="buttonBackground" path="images/button_normal_pressed.png" sourceInsets="10 10 10 10" />
        </state>
    </style>
    <bind style="button" type="region" key="Button" />
    <style id="wndBG">
        <imagePainter methode="wndBackground" path="images/cdu_bg.png" sourceInsets="1 1 1 1"></imagePainter>
    </style>
    <bind style="wndBG" type="name" key="root"></bind>
</synth> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:50:25.437

`SwingUtilities.invokeLater(Runnable r)`而是尝试测试它是否有效。如果它修复了 NPE，这将是事件调度的问题。如果不是，那将是`showOpenDialog`父参数为空的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:50:26.153

根据stacktrace，您使用的外观（合成器）似乎有问题。我会先尝试不同的 LaF。并且建议始终将父窗口（或任何父组件）传递给 JFileChooser.showOpenDialog()。否则在某些系统和环境中有时可能会发生奇怪的事情（例如，对话框显示在主窗口的后面、不同的显示器上，甚至在桌面区域之外）。

# google-apps-script - 使用 UserManager.getAllUsers() 和 CacheService 的 Google Apps 域

> ID：12477966
> 
> 赞同：0
> 
> 时间：2012-09-18T13:24:26.353
> 
> 标签：google-apps-script

在我学院的 Google Apps 域中，有成千上万的用户，但我需要遍历所有用户以将它们分配给正确的组。显然，这将超过五分钟的时间限制，所以我试图利用 CacheService 来处理这个问题。问题是要存储对象数组，我需要在函数重新启动时对其进行 jsonStringify 和 jsonParse 处理。但是 jsonParse 的对象失败了，因为对象方法 getUserLoginId 不再存在。我还能如何存储对象数组以便它工作？我错过了一些明显的东西吗？

```
function functname() {
  var users_all = check_cache('cachename');
  var num_done = 0;
  for(u in users_all) {
     Logger.log(users_all[u].getUserLoginId());
     users_all.shift();
     store_cache('cachename',users_all);
     Utilities.sleep(1000);
     num_done++;
     if(num_done > 100) //prevent timeout
     {
        break;
     }
  }
}

function check_cache(cacheKey) {
  var cache = CacheService.getPublicCache();
  var cachedString = cache.get(cacheKey);
  var lstData;
  if (cachedString == null) {
    lstData = UserManager.getAllUsers();
    cache.put(cacheKey, Utilities.jsonStringify(lstData));
    Logger.log('Cash NOT used');
  }
  else {
    lstData = Utilities.jsonParse(cachedString);
    Logger.log('Cash used' + lstData);
  }
  return lstData;
}

function store_cache(cacheKey, lstData) {
  var cache = CacheService.getPublicCache();
  var cachedString = cache.get(cacheKey);
  cache.put(cacheKey, Utilities.jsonStringify(lstData));
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T23:19:03.263

无法对函数进行字符串化，只能对数据进行字符串化。相反，您应该从 DomainUser 中的数据创建一个自定义对象，然后对其进行字符串化和解析。

# objective-c - 如何以编程方式刷新 NSPopupButton 的菜单？

> ID：12477967
> 
> 赞同：3
> 
> 时间：2012-09-18T13:24:38.943
> 
> 标签：objective-c, cocoa, nspopupbutton

这是一个由多个视图组成的 Core Data 应用程序，每个视图都包含在自己的 Xib 中。在整个应用程序中，我有几个 NSPopupButton 显示来自各种核心数据实体的数据，绑定在界面生成器中以传统方式完成，并且一切正常。

除了两个弹出按钮，我必须以编程方式填充而不是绑定，因为数据需要一些处理才能显示在弹出窗口上。一个与我需要使用@distinctUNionOfObjects 的实体有关。另一个涉及十进制数字的实体，需要进行自定义数字格式，以便它们显示为百分比（带有百分号）。

为了填充这两个弹出窗口，我在 awakeFromNib 中为相关视图生成了数据数组。这是代码：

```
- (id)init {
    self = [super initWithNibName:@"xib_name" bundle:nil];
    if (!self) {
        return nil;
    }
    [self setTitle:@"view_title"];
    return self;
}

- (void)awakeFromNib {
    // fetch request on entity
    // data treatment and creation of an array with the result
    [popupButton addItemsWithTitles:array];
} 
```

很好，但是当我向这些提供弹出窗口的实体添加数据时（通过应用程序的其他视图上的表格或文本字段），然后返回带有弹出窗口的视图，按钮不会使用新内容更新。我理解，这是因为内容是在 awakeFromNib 中创建的，并且再次显示相关视图不会重新唤醒 Nib。但是，当源实体被修改或接收到新数据时，如何使这些弹出按钮自动更新？我只有在重新启动应用程序后才能看到更改。

或者，也许我错过了一些东西，并且首先可以通过界面构建​​器中的绑定来完成所有这些工作？

感谢您的建议。

=== 编辑以指定 [控制器重新排列对象] 无效。

# .net - 延迟加载、更改跟踪、虚拟关键字和主键属性

> ID：12477968
> 
> 赞同：0
> 
> 时间：2012-09-18T13:24:42.233
> 
> 标签：.net, entity-framework

我应该将 virtual 关键字添加到我的主键属性中吗？

在阅读了延迟加载、更改跟踪和虚拟关键字之后，我意识到我几乎应该将所有属性都标记为虚拟。不过，我不太确定我的 ID 属性，因为加载没有 ID 的实体是没有意义的，它只会用于更有效的更改跟踪。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:37:34.223

您想要更改跟踪代理吗？如果是这样，您的所有属性都必须有 virtual 关键字。

*   类必须是公开的而不是密封的。
*   **所有属性都必须具有公共/受保护的虚拟 getter 和 setter。**
*   集合导航属性必须声明为 ICollection。它们不能是 IList、List、HashSet 等。

[请参阅EF 团队成员的](http://blog.oneunicorn.com/2011/12/05/should-you-use-entity-framework-change-tracking-proxies/)这篇博文

# solr - 按 id 搜索太阳黑子

> ID：12477970
> 
> 赞同：4
> 
> 时间：2012-09-18T13:24:48.817
> 
> 标签：solr, sunspot

有没有办法通过 id 和 subspot 搜索实体

像这样：

```
Content.search do
  with(:ids, [1,2,3])
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-15T12:54:25.167

不幸的是，实现这一目标的唯一方法是索引该`id`字段：

```
class YourModel < ActiveRecord::Base
  searchable do
    integer :id
    # ...
  end
end 
```

# saleslogix - SalesLogix 空值

> ID：12477974
> 
> 赞同：0
> 
> 时间：2012-09-18T13:25:09.947
> 
> 标签：saleslogix

我正在努力`SalesLogix 7.5 C#`。

我有一个 aspx 页面，它有一个文本框作为控件，这是一个必填字段。当我输入一些数据并保存时，它被保存了。现在，当我编辑该记录并将该文本框设为空白时，它会给我一条错误消息，指出这是一个必填字段，请输入一些值。

现在，当我输入与编辑前相同的值时，它仍将文本框显示为空白。

例子：

1.  我将“James”放在文本框中并保存。
2.  编辑时：我将其设为空白（收到错误消息）。
3.  我再次输入：“James”（得到相同的错误消息）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T15:43:57.530

抱歉，无法对原始问题添加评论，但需要更多信息。

您是通过 App Architect 还是在 SalesLogix 之外的 ASP.NET 中执行此操作？您是作为 QuickForm 还是自定义 SmartPart 执行此操作？您能否提供无效字段的标记以及 .aspx.cs 中 OnAddEntityBindings 函数的相关行？您是否已通过 Visual Studio 调试器逐步检查您的 btnSave_Click 代码以检查它是否正确保存？

# mysql - 在 JSP 中将一个非常大的 ResultSet 渲染到屏幕上

> ID：12477977
> 
> 赞同：1
> 
> 时间：2012-09-18T13:25:14.417
> 
> 标签：mysql, jsp, resultset, outputstream, bufferedwriter

我是初学者，请耐心等待！;-)

`MySQL`我需要以表格的形式在屏幕上的查询中显示一个非常大的 ResultSet（超过 15.000 行）`HTML`。我正在使用`JSP`页面来尝试完成此操作。

查询本身在我的服务器上大约需要 0.25`MySQL`秒（命令行，通过终端），但在浏览器上呈现最少的`HTML`.

如果我使用类似的东西将结果写入文件`new BufferedWriter(new OutputStreamWriter(new FileOutputStream(filename),"ISO-8859-1"))`，它也非常快（1.2s），但这不是客户想要的。

所以我想我的问题是：有什么方法可以使用 将`OutputStreamWriter`结果打印到屏幕上，而不是将它们写入文件？我假设这`out.print`就是造成巨大延误的原因。

非常感谢！

# android - 确定对象是否在同一方向或不是android

> ID：12477978
> 
> 赞同：0
> 
> 时间：2012-09-18T13:25:17.200
> 
> 标签：android, geolocation, gps, compass-geolocation

我想开发一个应用程序，首先，提交一个“有方向”的对象位置，以便以后在这条街上“同方向”再次移动时，我可以检测到并告诉用户你在同一个方向那个物体，你是 xyz 米远。

对象位置和距离将使用位置提供服务天气检测，它是 GPS 或另一个。

我现在的问题是方向，如何提交对象方向，以便以后我可以知道我在街道的同一方向。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T14:55:02.760

要查找两点之间的方向，您可以使用以下方法之一：

1-如果使用 Location 对象：

```
Location initialPoint = new Location("");
initialPoint.setLatitude(initialLatitude);
initialPoint.setLongitude(initialLongitude);

Location finalPoint = new Location("");
finalPoint .setLatitude(finalLatitude);
finalPoint .setLongitude(finalLongitude);

float direction = initialPoint.bearingTo(finalPoint); 
```

2-使用静态定位方法

```
private float results2[] = new float[2];
Location.distanceBetween(initialLatitude, initialLongitude, finalLatitude, finalLongitude, results);
float direction = reasults[1]; 
```

问候

# wpf - 为长时间运行的方法实现 WPF 进度条

> ID：12477980
> 
> 赞同：1
> 
> 时间：2012-09-18T13:25:20.273
> 
> 标签：wpf, progress-bar

我们有一个 3 层架构（UI、BL、DAL）的 WPF 应用程序。我需要处理加载大量行的 WPF 和 DevExpress 数据网格。BL 方法将返回要绑定到 WPF 数据网格的可观察对象集合。如果记录的数量非常大，那么 UI 将变得无响应。因此，我们需要实现一个解决方案，以便在 BL 方法执行查询和处理数据时显示一个进度条，其中包含已完成工作的百分比。在这里，我需要在执行查询时立即获取记录总数，并且在处理完每一行之后，我需要在标签中显示项目处理的当前索引，例如“处理 1/2000 个文档”。

实现上述功能的最佳方法是什么。我们正在使用 MVVM 模式。我是否需要更改我们在 BL 中获取和处理记录的方式（当前是 BL 方法中的 fectch 和处理（将值从数据读取器映射到自定义对象））。或者，当用户滚动数据网格时，我正在寻找以分页方式加载数据网格中的行。

任何样品链接表示赞赏。

编辑：@Big Daddy 您的解决方案 1）向视图模型添加新属性以获得 TotalCount 和 PercentComplete。2) 将视图模型传递给 Search 方法。3)使用BGW更新属性。

以上似乎是一个可行的解决方案。但我很想知道是否有任何其他方法可以在不依赖视图模型的情况下解决这个问题。任何可用于此类操作的设计模式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T14:15:50.220

您可以使用 BackgroundWorker 来处理此问题。它不会在获取您的数据时阻止 UI，并且会保持 UI 响应用户。BackgroundWorker 有一个 ProgressChanged 事件，它与 ProgressBars 配合得非常好。

在我从事的项目中，我在客户端服务/存储库中实现了 BW。您的视图模型可以调用此类。这里的方法将实例化 BW、完成工作、报告进度并返回数据。您需要在 UI 上报告进度，因此在视图模型中设置一个属性并将 ProgressBar 的值绑定到它，如下所示：

**视图模型**

```
private int _percentCompleted;
    [DefaultValue(0)]
    public int PercentCompleted
    {
        get { return _percentCompleted; }
        set
        {
            _percentCompleted = value;
            RaisePropertyChanged(() => this.PercentCompleted);
        }
    } 
```

**看法**

```
<ProgressBar x:Name="SourceBatchUploadProgressBar"
                         Style="{StaticResource GreenProgressBar}" Grid.Column="1"  Grid.Row="1" 
                         Value="{Binding PercentCompleted, UpdateSourceTrigger=PropertyChanged}" 
                         Height="25" Width="200" Margin="5,0,10,5"/> 
```

您需要让 BW 的 ReportProgress 事件更新 PercentCompleted 属性才能使其正常工作。像这样的东西：

```
BackgroundWorker.RunWorkerCompleted += (o, e) =>
        {
            ...Update progress
        }; 
```

如果您想了解更多详细信息，请告诉我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:45:21.863

所以你有所有的行。你指的是什么处理？渲染？渲染的显示状态将始终为 100%，因为它在完成渲染之前不会渲染。

UI 需要很长时间才能呈现 2000 行。有很多格式化和调整大小。

将 UI 分解为每页显示 40 行，并带有下一页和上一页按钮。

如果 DevExpress 数据网格不支持虚拟化，那么请寻找支持的网格。为了速度，我喜欢 ListView GridView。

哇支票。你在听。我给你更多。

因此，如果速度很快（并且您可以获得总计数），请立即获取整个 ID 列表。然后按需创建 40 个对象。如果您想花哨，请在 BackGroundWorker 上创建下一个 40。启动 BackGroundWorker 时禁用 Next 按钮并在 Complete 中启用它。

# java - 确定 Android 上的可用内存

> ID：12477983
> 
> 赞同：10
> 
> 时间：2012-09-18T13:25:32.517
> 
> 标签：java, android, memory-management, android-ndk

因此，Android 面临的挑战之一是各种设备规格（尤其是设备内存）。

我已经编写了我的模型对象`SoftReferences`，以便以延迟加载的方式广泛使用 Java，因此 VM 可以自由修剪数据模型中当前未使用的部分，因为它认为合适，它们只是根据需要重新构建。

然而，在实践中面临的一个挑战`SoftReferences`是它们往往会在被弱引用后的几秒钟内被清除，而不是一直徘徊直到 VM 内存不足，因此它们在允许模型修剪方面工作良好，但它们效果不佳，因为它通常意味着内存中没有任何内容。理想情况下，在具有大量内存的设备上，您会让用户受益于将对象保存在内存中。

因此，通常`SoftReferences`与 LRU 机制结合使用，其中 LRU 保留指向最近引用对象的硬指针。这当然不是理想的，因为它假设您有足够的内存来存储所有这些几乎没有引用的对象。

了解什么是 LRU 的良好默认设置也带来了挑战。

在一个完美的世界中，Android 会使用它的低内存回调作为提示（所以我可以从一个小的 LRU 开始，并定期将其提升，直到低内存回调开始发生，然后将其退回以*找到*设备的良好价值） ，但根据我的经验，这个回调似乎与实际的 VM 内存压力不一致。

有没有人遇到过一种合理的方法来检测您的数据模型在特定设备上使用了过多的内存？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-04T11:08:26.427

如果你想确定 android 中的可用内存，那么你可以检查或进入透视图 - >ddms 2）第二件事是你可以使用内存分析器工具检查已用和未使用的内存，你还可以检查内存的可用性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-26T17:12:06.223

如果您使用 Android NDK：

```
 ```
#include <unistd.h>

size_t getTotalSystemMemory()
{
    long pages = sysconf(_SC_PHYS_PAGES);
    long page_size = sysconf(_SC_PAGE_SIZE);
    return pages * page_size;
}

size_t getFreeSystemMemory()
{
    long pages = sysconf(_SC_AVPHYS_PAGES);
    long page_size = sysconf(_SC_PAGE_SIZE);
    return pages * page_size;
} 
``` 
            回答 #3

赞同：0

时间：2012-10-02T19:44:08.900

这行得通吗？

```
MemoryInfo mi = new MemoryInfo();
ActivityManager activityManager = (ActivityManager) getSystemService(ACTIVITY_SERVICE);
activityManager.getMemoryInfo(mi);
long availableMegs = mi.availMem / 1048576L; 
```

            回答 #4

赞同：0

时间：2018-07-13T15:17:48.257

Here's a more detailed NDK answer: 

Looking at the [Bionic LibC source for sysconf](https://android.googlesource.com/platform/bionic/+/a186b2e/libc/bionic/sysconf.cpp) reveals that `_SC_PHYS_PAGES` and `_SC_AVPHYS_PAGES` are implemented by reading `/proc/meminfo`, which is maintained by the Linux kernel. The first few lines of that file on the Lenovo Android 7.0.1 device with 4GB RAM I'm using look like this:

```
MemTotal:        3721064 kB
MemFree:          208108 kB
MemAvailable:    2543032 kB 
```

*   `sysconf( _SC_PHYS_PAGES)` gives you the `MemTotal` value, in units of the page size. This seems to be the total memory available to Android for code, data, and so on. It's about 300MB less than the claimed physical RAM on the device I'm using, which may be accounted for by the screen buffer and so on. 
*   `sysconf( _SC_AVPHYS_PAGES)` gives you the `MemFree` value, in the same units. This appears to be the memory that isn't in use for anything at all. On my 4GB device, it's only about 200MB. 

Sadly, there is no sysconf parameter for the far more useful `MemAvailable` value, which is the RAM that can be made available if required. Apparently this is because `MemAvailable` was only added to the Linux kernel in early 2014, while the sysconf() support seems rather older than that. `MemAvailable` is not in a Samsung Android 5.0, but is in Amazon FireOS 5.6 (based on Android 5.1), and a Motorola Android 7.1; I don't know about 6.x. 

What I'm planning to do for an NDK test harness (not a app that will be distributed), having got to the bottom of this, is use `MemAvailable` if it is there, and otherwise use half the physical RAM size. Since I will have to read `/proc/meminfo` to find out if `MemAvailable` is there, there's no point in having Bionic LibC read it again if I call  sysconf(). 

```

# android - VirtualBox中的Android USB调试

> ID：12477987
> 
> 赞同：26
> 
> 时间：2012-09-18T13:26:16.107
> 
> 标签：android, usb, xamarin.android, adb, virtualbox

我正在尝试在 virtualbox 上的 Windows 7 虚拟机中使用适用于 android 的 mono（又名 monodroid），但我遇到了与手机的 adb 连接问题。当我运行“adb devices”来列出存在的设备时，它显示没有问题，但是当我尝试运行“adb install”、logcat 或 push 时它会挂起。目前virtualbox中有一个适用于此的错误，但我希望比我更有知识的人有一个解决方法。

[https://www.virtualbox.org/ticket/6620](https://www.virtualbox.org/ticket/6620)

如果 Xamarin 发布了他们产品的 linux 端口或者我熟悉 Java，那么这将是一个问题，但我认为这些问题略有不同。

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-09-24T01:33:35.920

Brian，您可能会考虑的一种解决方法是让您的 VM 主机也成为 ADB 主机。然后，您可以通过 TCP/IP 将您的 VM 客户端连接到它。这是该设置的总体思路：

1.  在主机上安装 Android SDK。您应该只需要包含`adb`.
2.  不要让您的 VM 客户端拥有 Android 设备的所有权，因此请禁用您拥有的任何 VirtualBox USB 过滤器规则，然后分离和重新连接设备也不会受到伤害。
3.  从您的 VM 客户端，运行`adb kill-server`. 让它成为一个`tskill adb`确定的。如果您有任何正在运行的 Eclipse 实例，您需要先关闭这些实例，因为它实际上会`adb`在后台启动。不要跳过这一步。
4.  从主机，执行`adb devices`. 如果一切顺利（并且应该），您将看到您的设备已列出。它应该看起来像这样（请注意端口号，并为损坏感到抱歉）：

    ```
    * daemon not running. starting it now on port 5037 *
    * daemon started successfully *
    List of devices attached
    015d2994ed200409    device 
    ```

此时，您的主机应该在端口 5037 上运行 ADB 服务器。您可以通过运行从 VM 客户端检查这一点`telnet 10.0.2.2 5037`，其中`10.0.2.2`是 VirtualBox 主机的默认 IP，并且`5037`是上面提到的默认 ADB 端口。

1.  现在您必须将端口从您的主机转发到您的 VM 客户端，或者将 ADB 直接连接到您的主机 IP:port。如果您像我一样，您会发现 ADBHOST 和 ANDROID_ADB_SERVER_PORT 变量的文档记录很差，而且很容易搞砸。出于这个原因，考虑从 VM 客户端进行简单的端口转发`ssh`（可能通过 Cygwin）：

    ```
    autossh -nNL5037:localhost:5037 -oExitOnForwardFailure=yes 10.0.2.2 
    ```

2.  最后，`adb devices`从您的 VM 客户端运行。如果您看到“守护程序未运行”，则意味着您的端口转发被搞砸了。否则，您应该会看到您的设备并能够整天登录。值得注意的一点是，您的 VM 客户端上不会`adb`运行守护程序，当然，除非您实际使用调试桥接器。

我使用了类似的机制来调试通过网络连接到远程机器的设备，并且效果很好。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2017-03-18T11:18:48.600

不确定自问题发布以来 VirtualBox 发生了什么变化，但从 VirtualBox 菜单**Devices -> USB -> DeviceName**中选择 USB 设备可以无缝工作。我正在使用 VirtualBox 5.1.2 r108956。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2019-01-25T01:43:25.513

我也遇到了在 VM 上运行 ADB 的问题。我有一个 Windows 10 主机和一个 Ubuntu 14.04 客户端。该`autossh`方法对我不起作用。我从另一个[StackOverflow 问题](https://stackoverflow.com/questions/2604727/how-can-i-connect-to-android-with-adb-over-tcp)中找到了一个更简单的解决方案。它要求您的 PC 和您的设备都在同一个 WiFi 网络上。

1.  在您的 VM 客户端上运行以下命令：`adb tcpip 5555`

    设备将与 VM 断开连接，因为 ADB 现在处于 TCP 模式而不是 USB。

2.  对于下一部分，您需要设备的 IP 地址。要找到它，只需运行`adb shell ip -f inet addr show wlan0`

3.  现在您可以连接到您的设备了。在您的 VM 客户端上，运行：

    `adb connect <Device IP>:5555`

从这里开始，我所有的 adb shell、logcat 和 monkey 会话都可以不间断地运行！

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2020-04-07T21:40:23.260

我在这里为与我的设置类似的人发布此信息：

*   主机操作系统：OSX (10.15.4 Catalina)
*   客户端操作系统：Windows 10 企业版（v1903 build 18362.752）
*   VirtualBox v6.1.4
*   安卓工作室 v3.6.2

要允许客户端操作系统 (Windows) 中的 Android Studio 通过 USB 连接到 Android 手机（使用 adb）：

1.  更新到最新版本的 VirtualBox（当前为 6.1.4）
2.  [从这里](https://www.virtualbox.org/wiki/Downloads)安装 VirtualBox 扩展包
3.  关闭VM**后**，转到设置 > 端口 > USB 并确保 USB 3.0 (xHCI) 控制器已启用，然后单击“确定”
4.  从**主机操作系统**（即 OSX）打开一个终端并启动`adb`并通过运行确认手机已连接`adb devices`
5.  启动 VM，然后从 VirtualBox 菜单中选择 Devices > USB > [YOUR PHONE] 将主机操作系统 USB 端口连接到 VM
6.  在客户端操作系统 (Windows) 上打开终端并运行`adb devices`以确认 adb 服务器正在运行并且可以找到您的手机。您可能需要将 Android 平台工具添加到您的 PATH（我的路径是 C:\Users\Username\AppData\Local\Android\Sdk\platform-tools）。这一步可能是可选的——我怀疑 Android Studio 可能会`adb`自行启动。
7.  在客户端操作系统 (Windows) 中启动 Android Studio，然后转到文件 > 设置 > 外观和行为 > 系统设置 > Android SDK > SDK 工具并确保已安装 Google USB 驱动程序（[请参见此处的屏幕截图](https://developer.android.com/studio/run/win-usb)）

完成这些操作后，Android Studio 能够检测到我的手机并使用该设备运行/调试应用程序。

希望这可以帮助！

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2014-04-10T19:03:22.723

我遇到了同样的问题，这让我搜索了大约 2 个小时。我尝试了几种方法，包括上述所有解决方案，但都没有奏效

**我的情况**

我的主机是archlinux，来宾是windows 8.1我在windows中运行flash builder但是usb调试不起作用而且我连接的设备是nexus 5所以我按照这些步骤

1.  从 virtualbox 菜单 Machine-->settings-->usb 启用 USB 控制器并启用 USB 2.0 (EHCI) 控制器然后添加您的设备（单击右侧的 + 按钮）然后启动您的虚拟机
2.  [现在你应该从这里](http://developer.android.com/sdk/win-usb.html)下载最新的 google usb 驱动并解压
3.  转到控制面板设备管理器右键单击您的设备转到驱动程序选项卡并单击更新驱动程序应该有两个选项一个自动搜索...另一个浏览我的计算机选择第二个并提供提取的文件路径（检查包含子文件夹选项）在此之后，您的设备应被 Windows 识别，并且您的 android 设备中将显示一条消息，允许访问您的设备

在我的情况下，我也应该将驱动程序复制到 flashbuilder android 驱动程序路径，但对于您的情况，这可能不是必需的

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-03-16T11:33:22.767

我对 VirtualBox 5.0.14 有同样的问题，Stephen Niedzielski 提供的解决方案对我不起作用。如果有人仍然感兴趣，可以尝试这个解决方案。

我的环境是：

*   主机操作系统：Mac OS 10.11
*   VirtualBox 中的客户操作系统：Ubuntu 14.04
*   设备：运行 Cyanomodgen 12.1 的 Galaxy S5

在主机操作系统中启动一个 wifi 热点并在那里连接 android 设备，或者在路由器中连接两者。在 virtualbox 中，将访客操作系统的网络模式设置为“桥接适配器”，然后选择 Wifi 适配器的名称。这样主机操作系统和安卓设备就在同一个网络中。

然后，在 android 设备中激活“开发者模式”并启用由 Cyanomodgen 提供的“ADB over network”。（对于具有原始版本的 android 的设备，如果可能，谷歌如何通过网络使用 ADV）在主机操作系统中运行“adb kill-server”并确保没有 ADB 实例正在运行。然后运行命令'adb connect 192.168.2.12'，android设备的ip。

恭喜 :) 现在您可以将 ADB 与 android 设备一起使用来获取 logcat 或拉取和推送文件。

# jqgrid - 加载时在 jqGrid 上加载动画

> ID：12477988
> 
> 赞同：1
> 
> 时间：2012-09-18T13:26:18.997
> 
> 标签：jqgrid, onpreinit

至少可以说，我有一张相对不美观的桌子。

我正在寻找在包含表格的 div 上加载动画的方法，因为这就是问题，在它加载之前，但我不确定 jqgrid 是否有适当的事件。我正在寻找诸如预加载或预初始化之类的东西，然后准备好取消阻止或结束动画。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T18:48:04.333

如果您使用 AJAX 填充网格，则可以[`$(yourgrid).ajaxStart(handler)`](http://api.jquery.com/ajaxStart/)在加载数据时附加事件并[`$(yourgrid).ajaxStop(handler)`](http://api.jquery.com/ajaxStop/)隐藏它。JQGrid 有一个选项可以设置为不显示加载消息，`loadui`.

# c++ - 布局内的派生小部件

> ID：12477989
> 
> 赞同：-1
> 
> 时间：2012-09-18T13:26:24.513
> 
> 标签：c++, qt, qwidget

我有一个派生自`QWidget`. 如果我说它`object->show()`工作得很好，但我想将该对象插入到`gridLayout`另一个类的 a 中，该类也派生自`QWidget`. 我试图`addWidget(*widget)`像常规`pushButton`（例如）一样添加它会起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:40:13.840

我会大胆猜测：检查你的小部件的`sizePolicy()`and `sizeHint()`。可能是您的小部件在布局内，但已调整为 0x0。

尝试`setMinimumSize()`；如果我的猜测是正确的，那么您的小部件可能会出现。

# jquery - IE8 不适用于 CSS3 动画，有什么 jQuery 替代品？

> ID：12477990
> 
> 赞同：0
> 
> 时间：2012-09-18T13:26:27.887
> 
> 标签：jquery, css, internet-explorer-8, css-transitions

我知道 ie8 与 css3 的很多内容不兼容。对于这个动画，是否有办法让 ie8 中的动画仍然有效？比如一个额外的jQuery片段？

[http://webapps.easy2.com/ce/ext1104/messages/iris_messages.html](http://webapps.easy2.com/ce/ext1104/messages/iris_messages.html)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:33:10.560

你可以很好地使用 jQuery 的[`.animate()`](http://api.jquery.com/animate/)方法。

```
$('#clickme').click(function() {
  $('#book').animate({
    opacity: 0.25,
    left: '+=50',
    height: 'toggle'
  }, 5000, function() {
    // Animation complete.
  });
}); 
```

# java - Java：Singleton、IODH 习语和反射攻击

> ID：12477992
> 
> 赞同：3
> 
> 时间：2012-09-18T13:26:42.890
> 
> 标签：java, reflection, singleton

免责声明：这是一个作为智力练习的问题，因此我不想在这里使用 Enum。

参考我之前的问题： [Java：延迟加载Singleton和反射攻击？](https://stackoverflow.com/questions/10138222/java-lazy-loading-singleton-and-reflection-attack)

以下是我提出的防止 IODH 惯用语反射攻击的解决方案。你能请。评论解决方案并提出其他方法？（我知道“许可”方法：[https](https://stackoverflow.com/a/8112238/266103) ://stackoverflow.com/a/8112238/266103 ）

同样，*这段代码严格来说是一种智力练习，我永远不会在现实生活中使用这样的东西*。

另外 1) 此代码创建两个实例，但如果实例是通过构造函数反射而不是调用创建的，则保留第二个实例，`getInstance()`并且 2) 它不太可能是线程安全的。

```
public class Singleton 
{
    private volatile static boolean isCreated = false;

    private static class Holder
    {
        private static Singleton instance = new Singleton();
    }

    private Singleton()
    {               
        if(isCreated)
        {
            throw new RuntimeException("Singleton Multiple Instantiation");
        }       
        Holder.instance = this;
        isCreated = true;
    }

    public static Singleton getInstance()
    {
        return Holder.instance;
    }
} 
```

# sql - 如何查询前 10 行，下一次从表中查询其他 10 行

> ID：12477994
> 
> 赞同：29
> 
> 时间：2012-09-18T13:26:46.327
> 
> 标签：sql, postgresql

我的数据库表中有超过 500 行具有特定日期。

查询具有特定日期的行。

```
select * from msgtable where cdate='18/07/2012' 
```

这将返回 500 行。

如何逐步查询这 500 行 10 行。查询前 10 行并在浏览器中显示，然后查询后 10 行并在浏览器中显示？

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2012-09-18T13:29:01.717

只需使用该`LIMIT`子句。

```
SELECT * FROM `msgtable` WHERE `cdate`='18/07/2012' LIMIT 10 
```

从下一个电话开始，您可以这样做：

```
SELECT * FROM `msgtable` WHERE `cdate`='18/07/2012' LIMIT 10 OFFSET 10 
```

关于`OFFSET`和[的](https://www.postgresql.org/docs/8.0/static/queries-limit.html)更多信息。`LIMIT`[`LIMIT``OFFSET`](https://www.postgresql.org/docs/8.0/static/queries-limit.html)

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-09-18T13:55:05.060

`**LIMIT *limit* OFFSET *offset***`将工作。

但是您需要一个**stable`ORDER BY`子句**，否则下一次调用的值可能会以不同的顺序排列（例如，在对表进行任何写入之后）。

```
SELECT *
FROM   msgtable
WHERE  cdate = '2012-07-18'
**ORDER  BY msgtable_id**  -- or whatever is stable 
LIMIT  10
**OFFSET 50**;  -- to skip to page 6
```

使用符合标准的日期样式（[在我的示例中为 ISO 8601](http://www.postgresql.org/docs/current/interactive/datatype-datetime.html#DATATYPE-DATETIME-INPUT)），无论您的区域设置如何，它都有效。

如果在相关列中插入、删除或更改涉及的行，分页仍将发生变化。它必须。

为了避免这种转变或使用大表获得更好的性能，请使用**更智能的分页策略**：

*   [在大表上使用 OFFSET 优化查询](https://stackoverflow.com/questions/34110504/optimize-query-with-offset-on-large-table/34291099#34291099)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-18T13:30:00.233

```
SET @rownum = 0; 
SELECT sub.*, sub.rank as Rank
FROM
(
   SELECT *,  (@rownum := @rownum + 1) as rank
   FROM msgtable 
   WHERE cdate = '18/07/2012'
) sub
WHERE rank BETWEEN ((@PageNum - 1) * @PageSize + 1)
  AND (@PageNum * @PageSize) 
```

每次传递参数`@PageNum`并`@PageSize`获取所需的特定页面。例如，前 10 行将是`@PageNum = 1 and @PageSize = 10`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-07-11T10:30:19.203

```
<html>
<head>
    <title>Pagination</title>
</head>
<body>
<?php 

    $conn = mysqli_connect('localhost','root','','northwind');
    $data_per_page = 10;
    $select = "SELECT * FROM `customers`";  
    $select_run = mysqli_query($conn, $select);
    $records = mysqli_num_rows($select_run);
    // while ($result = mysqli_fetch_array($select_run)) {      
    //     echo $result['CompanyName'] . '<br>';        
    // }
    // $records;
    echo "<br>";
    $no_of_page = ceil($records / $data_per_page);
    if(!isset($_GET['page'])){
        $page = 1;
    }else{
        $page = $_GET['page'];
    }
    $page_limit_data = ($page - 1) * 10;
    $select = "SELECT * FROM customers LIMIT " . $page_limit_data . ',' . $data_per_page ;
    $select_run = mysqli_query($conn, $select);
    while ($row_select = mysqli_fetch_array($select_run)){
        echo $row_select['CompanyName'] . '<br>' ;
    }
    for($page=1; $page<= $no_of_page; $page++){ 
        echo "<a href='pagination.php?page=$page'> $page" . ', ';   
    }
?>
<br>
<h1> Testing Limit Functions Here  </h1>
<?php 
$limit = "SELECT CompanyName From customers LIMIT 10 OFFSET 5";
$limit_run = mysqli_query($conn , $limit);
while($limit_result = mysqli_fetch_array($limit_run)){
    echo $limit_result['CompanyName'] . '<br>';
}
?>
</body>
</html> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-03-27T11:13:31.320

对于前 10 行...

```
SELECT * FROM msgtable WHERE cdate='18/07/2012' LIMIT 0,10 
```

接下来的 10 行

```
SELECT * FROM msgtable WHERE cdate='18/07/2012' LIMIT 10,10 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-18T13:30:36.193

您可以使用[postgresql 游标](http://www.postgresql.org/docs/8.1/static/plpgsql-cursors.html "Postgresql 游标")

```
BEGIN;
DECLARE C CURSOR FOR where * FROM msgtable where cdate='18/07/2012'; 
```

然后使用

```
FETCH 10 FROM C; 
```

获取 10 行。

芬兰语

```
COMMIT; 
```

关闭光标。

但是，如果您需要在不同的进程中进行查询，@Praveen Kumar 建议的 LIMIT 和 OFFSET 会更好

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-05-23T08:42:13.347

行。所以我认为你只需要实现分页。

```
$perPage = 10;

$pageNo = $_GET['page']; 
```

现在在数据库中查找总行数。

```
$totalRows = Get By applying sql query;

$pages = ceil($totalRows/$perPage);    

$offset = ($pageNo - 1) * $perPage + 1

$sql = "SELECT * FROM msgtable WHERE cdate='18/07/2012' LIMIT ".$offset." ,".$perPage 
```

# c# - 带有 mysql 结果的 C# 操作构造

> ID：12477995
> 
> 赞同：2
> 
> 时间：2012-09-18T13:26:48.643
> 
> 标签：c#, mysql

我有一个 mysql 数据库，其中包含用户名、日期和共享路径等数据。

该应用程序可以向具有到期日期的特定用户授予共享路径的读/写许可，并且所有这些数据都插入到 mysql 中。

我希望能够像一段时间一样逐行读取，让每个循环读取每一行，如果找到具有 exp date = today 的行，则获取用户并共享路径并删除许可。

```
try
{
    string MyConString =
        "SERVER=localhost;" +
        "DATABASE=permdata;" +
        "UID=user;" +
        "PASSWORD=pass;";

    string sql = "SELECT expDate, user, sfolder FROM  permuser";

    MySqlConnection connection = new MySqlConnection(MyConString);
    MySqlCommand cmdSel = new MySqlCommand(sql, connection);
    MySqlDataAdapter da = new MySqlDataAdapter(cmdSel);
    MySqlDataReader dr = cmdSel.ExecuteReader();

    while  (dr.Read())
    {
        foreach ( *row that exp. date = today)
        {
            *get user and share path
            *myDirectorySecurity.RemoveAccessRule (user/share path)
        }
    }

    connection.Close();
    connection.Dispose();
}

catch (MySqlException ex)
{
    MessageBox.Show(ex.Message);
    Close();
} 
```

任何想法都会很棒，谢谢

我最终这样做了，谢谢迈克尔..1

```
try
        {
string MyConString =
    "SERVER=localhost;" +
    "DATABASE=permdata;" +
    "UID=user;" +
    "PASSWORD=pass;";

DataSet dataSet = new DataSet(); 
string sql = "SELECT key, fdate, user, perm, sfolder FROM  permuser WHERE fdate=CURDATE()";

MySqlConnection connection = new MySqlConnection(MyConString);
MySqlCommand cmdSel = new MySqlCommand(sql, connection);
new MySqlDataAdapter(cmdSel).Fill(dataSet, "permuser");

foreach (DataRow row in dataSet.Tables["permuser"].Rows)
    {
         string fuser = row["user"].ToString();
         string pathtxt = row["sfolder"].ToString();

        DirectoryInfo myDirectoryInfo = new DirectoryInfo(pathtxt);
        DirectorySecurity myDirectorySecurity = myDirectoryInfo.GetAccessControl();
        string User = System.Environment.UserDomainName + "\\" + fuser;

                myDirectorySecurity.RemoveAccessRule(new FileSystemAccessRule(User, FileSystemRights.Write | FileSystemRights.Read, InheritanceFlags.ContainerInherit | InheritanceFlags.ObjectInherit,
     PropagationFlags.None, AccessControlType.Allow));

                myDirectoryInfo.SetAccessControl(myDirectorySecurity);
    }

connection.Close();
connection.Dispose();
}

catch (MySqlException ex)
{
    Console.WriteLine(ex.Message);
   Environment.Exit(0);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:40:50.213

重新编写查询以获取这样的特定行

```
"SELECT expDate, user, sfolder FROM  permuser WHERE expDate=GetDate()"; 
```

我已经获取了您的代码并在下面重新调整了它。

```
try
{
    string MyConString =
        "SERVER=localhost;" +
        "DATABASE=permdata;" +
        "UID=user;" +
        "PASSWORD=pass;";

    DataSet dataSet = new DataSet(); // Set a new DataSet instance
    string sql = "SELECT expDate, user, sfolder FROM  permuser WHERE expDate=GetDate()"

    MySqlConnection connection = new MySqlConnection(MyConString);
    MySqlCommand cmdSel = new MySqlCommand(sql, connection);
    new SqlDataAdapter(cmdSel).Fill(dataSet, "permuser"); // passing the command into the DataAdapter

    foreach (DataRow row in dataSet.Tables["permuser"].Rows)
        {
            //*get user and share path
            row["user"]; //User rows
             row["sfolder"]; //sfolder rows
            *myDirectorySecurity.RemoveAccessRule (user/share path)
        }

    connection.Close();
    connection.Dispose();
}

catch (MySqlException ex)
{
    MessageBox.Show(ex.Message);
    Close();
} 
```

仔细查看上面的代码，您会发现我使用了 DataSet 并删除了 SqlReader，因为我发现 DataSet 更简单、更安全。