# StackOverflow 问答 10910000-10910999

# objective-c - Xcode 崩溃 - 但仅针对特定项目（已要求目标“MyApp”提供其构建上下文，但它不属于项目）

> ID：10910005
> 
> 赞同：3
> 
> 时间：2012-06-06T07:34:41.617
> 
> 标签：objective-c, xcode, xcodebuild

每当我尝试从 Xcode 运行特定项目/应用程序时，它都会崩溃，并显示回溯中的详细信息（请参见下文）。

在 Xcode 中运行它会发生各种有趣的事情。

首先，从 iPad 模拟器中删除应用程序然后第一次运行它似乎 90% 的时间都在工作。但随后在 iPad 模拟器上运行的第二次或第三次尝试再次崩溃。

尝试在 iPad 设备上运行它总是会崩溃，根本不是运气。

我注意到的另一件有趣的事情是，每当我设法让它在 iPad 模拟器上第二次运行时，我在应用程序委托中定义的所有外观代码（颜色等）都消失了......

我可以从回溯中收集到的唯一线索是：已向目标“MyApp”询问其构建上下文，但它不属于项目

所以，我不确定这是否与 Xcode 相关，或者可能与工作区/项目文件有关，因为它只会在这个非常特定的项目上崩溃。如果我的工作区或项目文件有问题，有人知道如何解决吗？

我感谢您的帮助。

**回溯详细信息：**

```
Application Specific Information:
ProductBuildVersion: 4E2002
ASSERTION FAILURE in /SourceCache/IDEXcode3ProjectSupport/IDEXcode3ProjectSupport-    1197/Xcode3Sources/XcodeIDE/Frameworks/DevToolsBase/pbxcore/Target.subproj/PBXTarget.m:4006
Details:  target 'MyApp' has been asked for its build context but it does not     belong to a project
Object:   <PBXNativeTarget: 0x409f3d8c0>
Method:   -targetBuildContext
Thread:   <NSThread: 0x40a7d8a80>{name = (null), num = 51}
Hints:   None
Backtrace:
0  0x000000010bbbbb9f -[IDEAssertionHandler  handleFailureInMethod:object:fileName:lineNumber:messageFormat:arguments:] (in IDEKit)
1  0x000000010b070635 _DVTAssertionFailureHandler (in DVTFoundation)
2  0x000000010e18c505 -[PBXTarget targetBuildContext] (in DevToolsCore)
3  0x000000010e18fec4 -[PBXTarget(XCBuildables) buildDidFinishWithBuildLogRecorder:] (in   DevToolsCore)
4  0x000000010e2fefe2 -[Xcode3TargetBuildableSnapshot buildForBuilderDidFinish:] (in   DevToolsCore)
5  0x000000010b6bb668 -[IDEBuildableSnapshot performBuildForBuilder:buildCommand:buildOnlyTheseFiles:] (in IDEFoundation)
6  0x000000010b6bada6 -[IDEBuilder main] (in IDEFoundation)
7  0x00007fff95e8b6b4 -[__NSOperationInternal start] (in Foundation)
8  0x00007fff95e9e912 ____NSOQSchedule_block_invoke_2 (in Foundation)
9  0x00007fff96d6da86 _dispatch_call_block_and_release (in libdispatch.dylib)
10  0x00007fff96d6e965 _dispatch_worker_thread2 (in libdispatch.dylib)
11  0x00007fff8f67c3da _pthread_wqthread (in libsystem_c.dylib)
12  0x00007fff8f67db85 start_wqthread (in libsystem_c.dylib)

objc[31243]: garbage collection is ON
abort() called 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-27T08:23:38.983

所以我终于弄清楚了问题所在。

我使用的构建脚本在每次构建后都会增加我的构建号（CFBundleShortVersionString）。

Xcode 似乎不喜欢 plist 文件在它下面被更改的事实。

我能想到的唯一“解决方法”是删除包含我的版本碰撞脚本的构建步骤，该脚本在每次构建时都会更改该 plist 文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-10T07:07:57.807

已经遇到了大约一个小时，我还没有自动增加内部版本号脚本。如果您尝试通过右键单击删除目标，请确保此目标已关闭，即使在您要删除的选项卡上也是如此。选择另一个并右键单击以删除所需的目标。

希望能帮助到你

# drop-down-menu - 如何使CSS菜单以向上方向而不是默认向下方向打开菜单

> ID：10910010
> 
> 赞同：2
> 
> 时间：2012-06-06T07:34:55.900
> 
> 标签：drop-down-menu, css

我有类似的 CSS 基本菜单，默认情况下会弹出，我不确定要更改哪个属性，以便菜单向上弹出。更像是一个下拉菜单我放了一些 jsFiddle 的代码

[http://jsfiddle.net/EAE4m/](http://jsfiddle.net/EAE4m/)

我会很感激这方面的帮助。我一直在寻找类似的示例，但找不到适合我的场景的示例。

**更新**：解决方案[http://jsfiddle.net/EAE4m/45/](http://jsfiddle.net/EAE4m/45/)

```
li ul {
display: none;
position: absolute;
width:100px;
bottom: 18px;
left: 0;
margin-left:-1px;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:42:46.973

改变

```
top: 18px; 
```

到

```
bottom: 18px; 
```

# c# - 在 C# WPF 中渲染大格式表

> ID：10910013
> 
> 赞同：1
> 
> 时间：2012-06-06T07:35:20.230
> 
> 标签：c#, wpf, flowdocument, data-virtualization

我目前正在做一个 C# WPF 应用程序，它会生成一个比较报告的表。表格很大，有格式化的背景、前景等。

我尝试在 FlowDocument 中使用 Table，但处理速度很慢，几乎无法滚动。有什么办法可以解决这个问题吗？

我查看了数据虚拟化，但在 FlowDocument 中找不到与表相关的任何内容。仅供参考，FlowDocument 只是由一个带有许多格式化行的大表组成，它是使用`XamlReader.Load()`.

任何优化性能的建议都将受到欢迎。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T03:16:56.067

在探索了不同的替代方案之后，我发现将流文档重写为 HTML 是一个更好的选择。加载时间更短，滚动没有问题。

# android - Android：Webview 不会在旋转时调整大小（ICS）

> ID：10910025
> 
> 赞同：0
> 
> 时间：2012-06-06T07:35:58.347
> 
> 标签：android, android-webview, screen-rotation

我的布局中有一个简单的 WebView，具有以下设置

```
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/rootView"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="@drawable/baserepeat"
    android:gravity="top|center_horizontal"
    android:orientation="vertical"
    android:paddingBottom="20dp"
    android:paddingLeft="20dp"
    android:paddingRight="20dp" >
 <WebView
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/productDetailContentWebview"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="top"
        android:background="@drawable/baserepeat" />
//other items... 
```

在我的清单中，我将包含活动设置为

```
 <activity
        android:name=".Products.ProductDetailActivity"
        android:configChanges="keyboardHidden|orientation|screenSize"
        android:screenOrientation="sensor"
        android:theme="@style/Theme.CPS" >
    </activity> 
```

我的 Webview 在设备上填充了一个简单的 HTML 文件，效果很好。问题是，当我将设备从纵向旋转到横向时，webview 会变得更高，在我的布局中将其下方的任何内容推到更下方。内容的数量不会改变 - 它全部在 OnCreate() 中设置。

我正在使用 Webview 使用它自己的特殊样式表来呈现内容，并且它必须保留在 ScrollView 中。

如果需要，我可以提供更多信息:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-07T04:26:37.187

我在处理 2.3/4.0 时遇到了类似的问题...

我尝试了几件事，但帮助我摆脱核心问题的解决方案是：

*`screenSize`从`android:configChanges`里面移除`AndroidManifest.xml`*

希望能帮助到你 ！！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:57:23.750

尝试将您的 webview 包含在 FrameLayout 中。

```
<LinearLayout>
   <FrameLayout>  
   <WebView
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/productDetailContentWebview"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_gravity="top"
    android:background="@drawable/baserepeat" />
   </FrameLayout> 
```

# java - Struts2 日期时间选择器显示格式问题

> ID：10910026
> 
> 赞同：1
> 
> 时间：2012-06-06T07:35:58.863
> 
> 标签：java, tomcat, struts2, datepicker, ognl

我在使用 struts2.0.14 的日期时间选择器标签时遇到的问题

> 问题是 struts2 datetimepicker displayformat 属性必须始终设置为 tomcat 服务器日期时间格式的格式，否则提交的值为空。

**在 Win 7 中更改日期时间设置：**

1.  右键单击右下角日期。
2.  单击更改日期和时间设置
3.  更改日历设置
4.  更改区域设置
5.  设置格式为英语（印度）

**复制步骤**

1.  如上所述更改区域设置并重新启动 tomcat 服务器。
2.  现在不要在日期时间选择器中使用任何显示格式或使用除“dd/mm/yyyy”以外的显示格式
3.  提交日期为 21/12/2012 的 struts2 表单
4.  In Action 提交日期设置为空
5.  现在将区域设置更改为英语（美国），不要使用任何显示格式并重新启动服务器。
6.  实际值设置为通过表单提交。

**预期结果**

1.  无论系统日期时间格式是什么，都必须相应地解析日期并使其可用。

**环境：**

Java 6、Struts2.0.14、Firefix 12、tomcat 6。

通过属性或其他什么解决方法或修复？

**注意：如果答案是使用 jquery 或其他一些 js lib 或升级，请不要回答。*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-07T08:08:30.887

您需要使用自定义的 DateTime 转换器。

在您的`xwork-conversion.properties`（如果没有则创建）文件中放入以下行：

> java.util.Date = org.yourproject.common.StringToDateTimeConverter

在你的`StringToDateTimeConverter`，有这样的代码

```
import java.util.*
import java.text.DateFormat.*;

    public class StringToDateTimeConverter extends StrutsTypeConverter{

        public Object convertFromString(Map context, String[] strings, Class toClass) {     

            DateFormat DATETIME_FORMAT = getDateInstance(SHORT, Locale.getDefault());

            if (strings == null || strings.length == 0 || strings[0].trim().length() == 0) {
                return null;
            }

            try
            {
                DATETIME_FORMAT.setLenient(false);
                return DATETIME_FORMAT.parseObject(strings[0]);

            } catch (ParseException e) {
                //throw new TypeConversionException(); <-- if you want to catch conversion error
                return null;
            }
        }

        public String convertToString(Map context, Object date) {
            DateFormat DATETIME_FORMAT = getDateInstance(SHORT, Locale.getDefault());
            if (date != null && date instanceof Date) {
                return DATETIME_FORMAT.format(date);
            } else {
                return null;
            }
        }
    } 
```

参考：

[语言环境的 Java 日期格式](https://stackoverflow.com/questions/1339351/java-date-format-for-locale)

[http://www.roseindia.net/java/java-get-example/java-get-default-locale.shtml](http://www.roseindia.net/java/java-get-example/java-get-default-locale.shtml)

# 3d - 3d 图形：光栅化三角形

> ID：10910028
> 
> 赞同：1
> 
> 时间：2012-06-06T07:36:08.657
> 
> 标签：3d, theory

这主要是一个理论问题。

假设我想在屏幕上绘制一个三角形。如果我在 3d 中为顶点着色器提供 3 个点，它会将它们转换为 2d、窗口坐标或屏幕坐标中的 3 个点。基本上是显示器或显示器上的 3 个像素坐标。

从这里开始，图形管道如何根据这三个点填充这个三角形？我的猜测是这样的：

1.  通过确定 x 和 y 的上限和下限来将三角形与框绑定，如下所示： ![在此处输入图像描述](../Images/de53400bbf59c4ff0c6a6b74d0426d11.png)

2.  使用[Bresenham 的线算法](http://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm)用 3 种不同颜色绘制三角形的 3 条边。您不能在此步骤中使用常规颜色缓冲区。

3.  对框中的每一行像素执行此操作：从最左边的像素开始（在您存储步骤 2 的结果的任何位置），向右移动直到碰到边缘。现在，继续往前走，在（运行片段着色器）中为像素着色，并写入常规颜色缓冲区，直到找到不同的行（在存储步骤 2 的结果的任何地方点击不同颜色的像素）。然后停下来，去下一行。

4.  在常规颜色缓冲区中使用片段着色器绘制边缘。

这似乎是一个复杂且低效的解决方案。它实际上是如何完成的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:49:57.300

看看[扫描线算法](http://en.wikipedia.org/wiki/Scanline_algorithm)。它基本上是从上到下移动一条水平线，计算这条扫描线与三角形的两个交点，然后在这两个点之间画一条线。

# jquery - 根据div是展开还是折叠切换span元素的文本

> ID：10910029
> 
> 赞同：0
> 
> 时间：2012-06-06T07:36:10.033
> 
> 标签：jquery, html

我试图拥有三个 div，最初都是关闭的。当 div 关闭时，会显示一个向右的跨度，这是一个指向右侧的箭头，当我单击任何 div 时，我希望相应的跨度箭头向下并再次指向那个 div 折叠了它应该指向正确。这是我的[小提琴](http://jsfiddle.net/SzR6h/)。我想我错过了一些东西，任何人都可以帮我解决这个问题。此外，如果有人可以让知道完成这项任务的更好方法（整个崩溃，扩展），将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:55:23.353

这是一个**演示**

我在一个测试过的项目中使用它:)

但**请注意**，您只需将图像向下添加并**在您的机器上留下****URL**目录

[jsfiddle 演示菜单下拉菜单](http://jsfiddle.net/sssonline2/2LucD/)

我使用了这段`JQuery`代码`CSS`，当然还有一些`HTML`

```
 $(document).ready(function()
    {
        //slides the element with class "menu_head" when paragraph with class "menu_head" is clicked
        $("#firstpane p.menu_head").click(function()
        {
            $(this).css({backgroundImage:"url(images/menu/down.png)"}).next("div.menu_body").slideToggle(300).siblings("div.menu_body").slideUp("slow");
            $(this).siblings().css({backgroundImage:"url(images/menu/left.png)"});
        });

    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:44:12.540

您正在使用切换外观的 slideToggle() 但您只分配 $('#sp2').html("▼"); 每次点击，这意味着每当点击 div 时，span 都会得到这个值。您必须检查 div 是否正在展开或折叠，并使用适当的代码来设置跨度。HTML ▶ jQuery

```
$('#one').click(function() {
        $('.sub1').slideToggle("slow");
        if ($("#sp1").hasClass("expand")) {
            $('#sp1').html("&#9660;").removeClass("expand");
        }
        else {
            $('#sp1').html("&#9654;").addClass("expand");
        }

        $('.sub2').slideUp("slow");
        $('.sub3').slideUp("slow");

    }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T07:44:39.577

我对您的代码进行了一些修改，包括使用类对元素进行分组。您的代码最初设置为选定的箭头，因此您需要在完成单击的操作之前将所有 div 更改回其默认状态。

尝试这个：

```
$('.main').click(function() {
    var $el = $(this);

    if (!$el.next(".sub").is(":visible")) {   
        // reset all
        $('.sub').slideUp("slow");
        $('.arrow').html("&#9654;");

        // set current
        $el.next('.sub').slideDown("slow");
        $('.arrow', $el).html("&#9660;");
    }
}); 
```

```
<div class="main">
    <span class="arrow">&#9654;</span>
</div>
<div class="sub">
    <p>Here there are many images</p>
    <p>Here there are many images</p>
    <p>Here there are many images</p>
    <p>Here there are many images</p>
    <p>Here there are many images</p>
    <p>Here there are many images</p>
</div> 
```

[**示例小提琴**](http://jsfiddle.net/RoryMcCrossan/SzR6h/29/)

# actionscript-3 - 如何在同一个 mxml 中从一个脚本访问函数到另一个脚本

> ID：10910030
> 
> 赞同：0
> 
> 时间：2012-06-06T07:36:18.183
> 
> 标签：actionscript-3, apache-flex

这是 my.mxml 中的一个脚本

```
 <fx:Script>
    <![CDATA[
        import mx.collections.ArrayCollection;
        public function __changeSel():void{

        }
    ]]>
  </fx:Script> 
```

同一 my.mxml 中组件标记中的另一个脚本

```
<fx:Component>
                                        <s:ComboBox change="changeSel(event)">  
                                            <s:id>selID</s:id>
                                            <s:dataProvider>
                                                    <s:ArrayCollection>
                                                        <fx:String>Less Than</fx:String>
                                                    </s:ArrayCollection>                                                    
                                            </s:dataProvider>
                                            <fx:Script>
                                                <![CDATA[
                                                    public function changeSel(even:Event):void{
                                                         __changeSel();
                                                    }
                                                ]]>
                                            </fx:Script>
                                        </s:ComboBox>
                                    </fx:Component> 
```

但是当我调用 __changeSel(); 它无法识别此功能。有什么办法可以解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:39:55.707

您不应该使用内联组件。这导致范围转移。编写一个适当的自包含组件并在显示列表上调度事件，因此复合根可以在冒泡事件上设置侦听器。

否则尝试在内联渲染器中使用 outerDocument 来调用该方法。

# android - 在 flink 动作上更改图像

> ID：10910035
> 
> 赞同：0
> 
> 时间：2012-06-06T07:36:29.667
> 
> 标签：android, android-imageview

我已经从 sd 卡中检索了所有图像并显示在我的网格视图中。点击网格中的一个图像图标，它会进入第二个活动并在图像视图中显示单击的图像。

但是现在我想实现，当我们从第二个活动中闪烁/交换图像时，图像应该更改为下一个/上一个。

请给我解决方案。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:47:05.580

您正在寻找的是带有[GestureDetector的](http://developer.android.com/reference/android/widget/ViewFlipper.html)[ViewFlipper](http://developer.android.com/reference/android/view/GestureDetector.html)。这里有几个链接可以帮助您入门。

[http://android-er.blogspot.in/2012/02/implement-swiping-page-effect-using.html](http://android-er.blogspot.in/2012/02/implement-swiping-page-effect-using.html)

[一旦你理解了这个概念，就在这里](https://stackoverflow.com/a/8908962/603744)使用 answer 。

手势检测器用于检测投掷事件并查看翻转器以翻转到下一个元素。

# objective-c - Objective-c 不能使用 IF 语句

> ID：10910043
> 
> 赞同：-1
> 
> 时间：2012-06-06T07:36:59.610
> 
> 标签：objective-c

我有当前的代码：

```
if ([fetchedObjects count] == 0){
    Timetable *info = nil;
} else {
    Timetable *info = [fetchedObjects objectAtIndex:0];
}
// Return Data
return info; 
```

在我的一个课程中的一个方法中。此代码应该运行，但 xcode 给了我错误：

```
Use of undeclared identifier 'info' 
```

退货信息和

```
Unused variable 'info' 
```

对于时间表*信息部分。

我不知道为什么会发生这种情况，如果我因此尝试运行它，应用程序确实会崩溃。如果我要在没有这样的 if 语句的情况下设置 timtable，它将起作用：

```
Timetable *info = [fetchedObjects objectAtIndex:0]; 
```

有人可以告诉我我做错了什么吗？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:39:20.483

您`info`在两个不同的地方声明变量，在`if`or内`else`。`info`在块外不可见。（这是基本的 C 语言内容。）

这读起来好一点：

```
Timetable* info = nil;
if ([fetchedObjects count] > 0)
{
   info = [fetchedObjects objectAtIndex:0];
}
return info; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T07:39:05.727

变量的范围`Timetable *info`仅在`if(){}else{}`块内。如果您想稍后返回它，您需要在 if 语句之外声明它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T07:39:43.650

**的**范围`info`只是if 语句。在它外面声明它，这样它就可以在外面看到。

 *** * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T07:39:56.013

因为您在 if..else.. 块内的本地范围内定义了信息。

```
Timetable *info = nil;
if ([fetchedObjects count] != 0){
  info = [fetchedObjects objectAtIndex:0];
}

return info; 
```

改为这样做**

# php - 如何使用 javascript、php、shell 脚本从 xml 颠覆日志文件中获取每天的提交次数？

> ID：10910044
> 
> 赞同：0
> 
> 时间：2012-06-06T07:37:06.350
> 
> 标签：php, javascript, svn, shell, xml-parsing

拥有 XML Subversion 提交日志：

```
<?xml version="1.0"?>
<log>
<logentry
   revision="2">
<author>20070299</author>
<date>2012-06-06T05:23:21.999470Z</date>
<msg>add part</msg>
</logentry>
<logentry
   revision="1">
<author>20070299</author>
<date>2012-05-22T08:35:55.663875Z</date>
<msg></msg>
</logentry>
</log> 
```

我想要一个按日期和每天在我的网站 php-javascript 上提交的数量分组的数组。类似于这个：

```
date[0]=2012-05-22
value[0]=1
date[1]=2012-05-23
value[1]=0
...
date[15]=2012-06-06
value[15]=1 
```

有解决办法吗？

我查阅了这个[链接](http://fabien.potencier.org/article/7/getting-information-from-svn-with-php)

但它不起作用，非结果非错误日志（apache，php），我不知道如何将 $number[] 从 PHP 代码发送到 javascript 代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T17:08:21.897

我意识到您正在寻求 Linux 解决方案，但由于您没有在这里提供任何方法，因此可以使用 PowerShell（因此仅限 Windows）实现您的目标。也许通过展示这个算法，另一个贡献者可以为你将它映射到 Linux shell 命令。

```
([xml](svn log -v --xml)).log.logentry |
Select-Object -Property `
        Author, `
        @{n='Revision'; e={([int]$_.Revision)}}, `
        @{n='Date';     e={Get-Date $_.Date  }}, `
        Paths | 
Group-Object {$_.Date.ToString("yyyy-MM-dd")} | 
Sort-Object name -Descending | 
Select-Object @{n='Date'; e={$_.Name}}, Count | 
Format-Table -AutoSize 
```

即使不熟练使用 PowerShell，您也可以推测代码在做什么，但这里是关键点的摘要：

*   第一行设置了一个通过所有 log/logentry 节点的隐式循环。
*   第一`Select-Object`条语句（5 行）提取 XML 元素和属性，将它们转换为 PowerShell 对象的字段；修订和日期被按摩成适当的类型，使它们比字符串数据更有用。
*   该`Group-Object`语句将现在真正的日期对象转换为适合排序的格式。
*   第二条`Select-Object`语句只是将默认组名称（名称和计数）修改为更相关的名称（日期和计数）。
*   最终`Format-Table`使生成的列尺寸紧凑。

这是我系统的一部分输出：

```
Date       Count
----       -----
2012-06-29     4
2012-06-28     6
2012-06-27     8
2012-06-26    16
2012-06-25     1
2012-06-24     1
2012-06-22     5
2012-06-21     8
2012-06-20     8 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T09:18:09.517

你可以玩 XPath ：

```
$ xmllint --shell foo.xml

/ > cat //log/*[@revision]/@revision
 -------
 revision="2"
 -------
 revision="1"
/ > cat //log/*[@revision]/date/text()
 -------
2012-06-06T05:23:21.999470Z
 -------
2012-05-22T08:35:55.663875Z
/ > 
```

这是在 shell 中，但是您可以使用您喜欢的任何语言来迭代 XPath 表达式。

**！**如果这里有人知道如何告诉 XPath 只获取数字`revision="2"`，请告诉我们 =)

# c# - 如何在 C# 中创建自定义 JSON，返回值应该是什么？

> ID：10910047
> 
> 赞同：2
> 
> 时间：2012-06-06T07:37:29.330
> 
> 标签：c#, iphone, asp.net, ios, json

我想从 mssql 2008 结果创建一个自定义 json 数据，以便我的 iPhone 可以使用它。

我可以毫无问题地使用这样的 json 网站： [json link](http://www.colourlovers.com/api/colors?format=json)

格式可能如下所示：

```
Place: New York
       Hotel: Widget Hotel
       Telephone: 0305525253 
```

我应该返回哪种格式在 iPhone 上使用它？一个数组一个字符串，字典？我不知道

编辑：这是我的代码：

```
 namespace WebService1
{
    public class LandHelper
    {
        internal static string[] Land()
        {
            List<string> landObject = new List<string>();

            using (SqlConnection con = new SqlConnection(@"Data Source=Localhost\SQLEXPRESS;Initial Catalog=BOOK-IT-V2;Integrated Security=true;"))
            using (SqlCommand cmd = new SqlCommand(@"SELECT BEZEICHNUNG FROM LAND", con))
            {
                con.Open();
                using (SqlDataReader rdr = cmd.ExecuteReader())
                {
                    while (rdr.Read())
                    {
                        if (rdr["BEZEICHNUNG"] != DBNull.Value)
                        {
                            landObject.Add(rdr["BEZEICHNUNG"].ToString());
                        }
                    }
                }
            }
            return landObject.ToArray();
        }
    }
} 
```

我试过这个，但我不知道如何为我从数据库获得的值添加一个键。我认为创建自定义 json 格式会更容易。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:05:22.013

*好的，如果我正确理解了这一点，您正在尝试将对象集合字符串化为 JSON，然后在您的 iPhone 应用程序中读取它们。我假设您正在询问如何从 转换`object-to-JSON`，并且您已经涵盖了`JSON-to-object`. 我会`object-to-JSON`在这里介绍。*

您需要做的是创建一个包含 JSON 文件中所需的所有信息的类，如下所示。

```
public class Location
{
    public string Place { get; set; }
    public string Hotel { get; set; }
    public string Telephone { get; set; }
} 
```

现在，在您的数据库阅读器语句中，您将要构造一个`List<Location>`，然后将每个添加`Location`到此列表中。完成此操作后，您将能够使用[JSON.NET](http://json.codeplex.com/)框架轻松地将集合转换为 JSON……这使得将对象转换为 JSON 变得如此简单：

```
// "locations" is the name of the collection
JsonConvert.SerializeObject(locations); 
```

[JSON .NET 文档](http://james.newtonking.com/projects/json/help/)

希望这可以帮助。:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-13T07:57:53.413

只需返回一个列表

```
 [ScriptMethod(ResponseFormat = ResponseFormat.Json)]
    [WebMethod]
    public List<StandortHelper.REGION> LAND()
    {
        return StandortHelper.LAND();
    } 
```

您可以轻松返回 JSON-FORMAT

# java - FindViewById 和不同屏幕密度的多种布局 (Android)

> ID：10910050
> 
> 赞同：3
> 
> 时间：2012-06-06T07:37:41.037
> 
> 标签：java, android, android-layout

我的问题与在 Android 平台上为不同的屏幕密度使用不同的布局有关。

假设我有四个 main.xml 文件（每个文件在它们各自的文件夹中对应的屏幕密度：ldpi、mdpi、hdpi 和 xhdpi），假设它们一开始都是相同的。但是假设我想摆脱一些用于 ldpi 布局的 UI 元素。当 Java 端尝试在 ldpi 手机上的 ldpi 布局中查找该视图时，我该如何处理以避免出现空指针异常？我应该检查一下 findviewbyid 是否返回 null 并从那里继续吗？

我意识到你应该在你的应用程序中保持统一，但有时似乎只是摆脱一个方便但不必要的 UI 元素会更有意义。我喜欢在这些新手机上拥有额外的空间，但是如果/当需要进行 ldpi 布局时，我宁愿不要把所有东西都塞进去，因为它看起来更好，只是为了摆脱一些东西，如果那有意义的话！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:41:53.173

这是一个很好的问题。空值检查可能是解决方案之一。另一种解决方案是检查屏幕属性。看这个例子：

```
public static boolean isTabletPC(Context context) {
        boolean isHoneycomb = Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB;
        boolean hasLargeScreen = (context.getResources().getConfiguration().screenLayout & Configuration.SCREENLAYOUT_SIZE_MASK)
                >= Configuration.SCREENLAYOUT_SIZE_LARGE;
        return isHoneycomb & hasLargeScreen;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:51:53.157

从 api lvl 11 开始，您可能希望为此使用[片段](http://developer.android.com/guide/topics/fundamentals/fragments.html)。这样，您的 Java 代码始终处理肯定存在的视图，并且您的布局可以显示（或不显示）某些处理自己业务的片段。

我建议不要乱扔代码，检查你有什么样的屏幕，并检查屏幕中是否有某个视图。

如果您查看链接页面上的图一，您会看到我的意思的一个清晰示例：

![不同设备上的片段](../Images/60cba7bc5ac202e6d98ffcfb037bb955.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T07:44:45.357

这与处理任何可选元素的方式相同。检查它是否存在（不为空）并进行相应处理。如果不存在`View`, `findViewById`将返回 null 并且您可以在块`View`内部进一步操作，`if(null != view){}`或者如果有多个可以分组的可选元素，您可以使用实例变量。

[HoneycombGallery](http://developer.android.com/resources/samples/HoneycombGallery/index.html)演示提供了如何使用布局检测设备属性的想法（尽管在演示中，它是针对片段完成的，它可以应用于任何视图）

# android - Phonegap：在 Phonegap 应用程序中预填充数据库以从 Phonegap 中的 sqlite 检索数据之后，接下来的步骤是什么，

> ID：10910051
> 
> 赞同：0
> 
> 时间：2012-06-06T07:37:42.683
> 
> 标签：android, iphone, sqlite, jquery-mobile, cordova

我已经使用***jQuery mobile*****为 iPhone实现了一个****Phonegap**应用程序。我已经使用**sqlite**创建了一个数据库。

 *****我用一些表列表创建了自己的数据库 0000000001.db。

将其添加到 xcode proj 的资源文件夹中，

并将此数据库**预加载到***WebKit*文件夹中的应用程序中。

当我使用 sqlite 管理它时，它会显示我所有的数据库表和表中的内容。但我想在列表视图（表格视图）中显示该内容

[我按照Gaurav S Tomar™ 教程链接](http://gauravstomar.blogspot.ca/2011/08/prepopulate-sqlite-in-phonegap.html?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3a%20GauravSTomarBootstrappingIntelligence%20%28Gaurav%20S%20Tomar%20%3a%20Bootstrapping%20Intelligence)对数据库进行了预加载。

我不知道**`what are the next steps for data driven from the sqlite data base`**

现在我**想从数据库表中检索数据并将其填充到列表视图**（表视图）中。

*`i was very new to the phone gap applications`*,

我不知道**`were (in wich files) we implement the code to retrieve data from data base from my sqlite file 000001.db`**

和**`how to display /populate that retrieved data base in list views`**

请问有什么***`detailed`***建议/教程吗？提前致谢..

* * *

我已经在其中添加了一个 .js 文件 main.js

```
function queryDB(sql) {
    dbmanager.connect_database();
    dbmanager.db.transaction(function(tx){
                             tx.executeSql(sql,[],getResult,dbmanager.errorCB);
                             },dbmanager.errorCB);
}

function getResult(tx,results)
{ 

     for(var i=0;i<results.rows.length;i++){
    console.log(results.rows);
     console.log(results.rows.item[i]);
     }

}

$(document).ready(function()
                  {

                  $('#OneView').click(function() 
                                       {
                                       queryDB('select * from table');
                                       });

                  }); 
```

在那个 **console.log(results.rows);** 像这样打印： `{"length":3}`

**控制台.log(results.rows.item[i]);** 印刷`TypeError: Result of expression 'message' [undefined] is not an object.`

***但不是我在表中添加的列值***

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:35:24.420

```
function queryDB(tx) {
    tx.executeSql('SELECT * FROM DEMO', [], querySuccess, errorCB);
}

// Query the success callback
//
function querySuccess(tx, results) {
  //console.log("Returned rows = " + results.rows.length);
// this will be true since it was a select statement and so rowsAffected was 0
if (!resultSet.rowsAffected) {
console.log('No rows affected!');
return false;
else
{
  //your list view code should be here.
}
} 
```

使用[http://docs.phonegap.com/en/1.7.0/cordova_storage_storage.md.html#SQLResultSet](http://docs.phonegap.com/en/1.7.0/cordova_storage_storage.md.html#SQLResultSet)*****

# linux - 以 MB 显示 cat 结果

> ID：10910052
> 
> 赞同：0
> 
> 时间：2012-06-06T07:37:43.177
> 
> 标签：linux, ubuntu, terminal

有没有办法以`cat /sys/class/net/wlan0/statistics/rx_bytes`MB（兆字节）而不是字节显示返回的结果。

感谢您的任何建议；

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:49:55.900

您可以使用以下命令`expr`：

```
# expr $(cat /sys/class/net/wlan0/statistics/rx_bytes) / 1024 / 1024 
```

编辑：由于`expr`仅适用于整数，因此您可以将`bc`其用于浮点数，如下所示：

```
# echo "$(cat /sys/class/net/wlan0/statistics/rx_bytes) / 1024 / 1024" | bc -l 
```

# qtp - QTP——本质上是动态的

> ID：10910053
> 
> 赞同：1
> 
> 时间：2012-06-06T07:37:45.937
> 
> 标签：qtp

我们有一个对象，其中该对象不断变化（本质上是动态的），例如 webedit ，下一次 web button 。你将如何处理这种情况。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T10:58:16.183

你在这个元素上做了什么动作？你可以用 a`WebEdit`和 a做的交集`WebButton`几乎是`WebElement`.

尝试将测试对象更改为`WebElement`，看看这是否符合您的需求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-19T15:42:12.350

您可以尝试使用**“setTOProperty”**，因为您可以将属性更改为所需的属性。

```
obj.setTOProperty("micClass","WebEdit") 
```

希望这能解决问题陈述。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-29T12:15:20.843

如果它有效，首先尝试使用测试对象。它很好

否则，您需要使用描述性编程，检查子元素。它是 WebEdit 或 WebButton，并根据需要使用 If..Else 块编写代码。

# ios - 故事板实例化视图控制器，崩溃

> ID：10910054
> 
> 赞同：2
> 
> 时间：2012-06-06T07:37:56.410
> 
> 标签：ios, ios5, uistoryboard

我在 iOS5 中创建了一个带有情节提要的项目。我将 UIViewController 拖到画布上，设置标识符和自定义类。当我尝试使用此方法时，代码在此行崩溃。我无法弄清楚，为什么？

```
[self.storyboard instantiateViewControllerWithIdentifier:@"Contacts"]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:45:17.350

> 在故事板文件中唯一标识视图控制器的标识符字符串。在配置故事板文件时，您可以在 Interface Builder 中设置给定视图控制器的标识符。此标识符不是视图控制器对象本身的属性，仅由情节提要文件用于定位视图控制器。
> 
> **如果指定的标识符在情节提要文件中不存在（或为零），则此方法引发异常。**

你确定标识符是一样的吗？

编辑：

这样做的结构应该是这样的

```
UIViewController *temp = [[self storyboard] instantiateViewControllerWithIdentifier:@"ImagePickerViewController"];

[self presentModalViewController:temp animated:YES]; 
```

对于情节提要上的视图控制器，在显示属性检查器 -> 视图控制器 -> 标识符 -> “ImagePickerViewController”下

# c - 我正在查看几何代码，但我不知道 p1[X] 代码

> ID：10910062
> 
> 赞同：0
> 
> 时间：2012-06-06T07:38:42.723
> 
> 标签：c, struct, geometry, typedef, point

```
typedef struct {
   double a; // coefficient for x
   double b; // coefficient for y
   double c; // constant term
} line;

points_to_line(point p1, point p2, line *l)
{
   if (p1[X] == p2[X]) {
      l->a = 1;
      l->b = 0;
      l->c = -p1[X];
} else {
      l->b = 1;
      l->a = -(p1[Y]-p2[Y])/(p1[X]-p2[X]);
      l->c = -(l->a * p1[X]) - (l->b * p1[Y]);
} 
```

我正在阅读（Steven S. Skiena 和 Miguel Revilla）的《编程挑战》一书，也许有人应该读过这本书。

p1[X]是点p1的X值，[Y]是Y值。

该函数生成线性方程线。( `line *l`) First If 句子使到`x + C (p1[X]) = 0`l。

我不知道的是：

*   在 C 语言中，我该如何表示`p1[X]`??

*   是`p1`一维数组吗？那么，`X`又`Y`是常量宏吗？？

*   或者，使用 C++，这是一个重载的 operator[] 吗？那么，点类型已经重载了运算符[]？？？

*   还是C中有点类型？我搜索了谷歌“point type C”，但一无所获。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:49:55.493

假设它是 C 代码，`p1`使用运算符访问`[]`，我的猜测是`point`类型很可能是`typedef`数组。

```
#define X  0
#define Y  1
typedef double point[2]; 
```

我认为这是`double`因为`(p1[Y]-p2[Y])/(p1[X]-p2[X])`表达式是在没有`double`演员表的情况下编写的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:34:03.250

如前所述，这很可能是 C 并且标头包含：

```
typedef double point[2];
enum { X, Y }; 
```

或者不是枚举，它可能是

```
#define X 0
#define Y 1 
```

但是，这不是最好的代码。2点线方程是

(x - x1) / (y - y1) = (x2 - x1) / (y2 - y1)

交叉乘法：

(x - x1) (y2 - y1) = (y - y1) (x2 - x1)

x (y2 - y1) - y (x2 - x1) - x1 (y2 - y1) + y1 (x2 - x1) = 0

所以我们可以使用

a = y2 - y1, b = x1 - x2, c = - x1 a - y1 b

或在代码中

```
l->a = p2[Y] - p1[Y];
l->b = p1[X] - p2[X];
l->c = - p1[X] * l->a - p1[Y] * l->b; 
```

这样就不需要检查零。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:58:03.667

`point`需要定义结构，类似于`typedef`定义`line`。我会这样设置：

```
typedef struct {
  double X; 
  double Y; 
} point; 
```

使用该结构，您可以访问as `X`。`p1``p1.X`

[ouah 的回答](https://stackoverflow.com/a/10910175/22114)中给出了另一个选项，他只是将一个点定义为一个大小为 2 的数组，在这种情况下，您将访问`X`as `p1[0]`，并且`Y`as `p1[1]`-**如果 x 是第一个值，而 y 是数组中的第二个值。这在代码中没有明确说明！**当你真正想要的是访问时，很容易混淆和编写`p1[1]`（访问） 。我认为数组方法更容易导致代码错误，这就是为什么我**总是**花时间再写两行，就像我在上面所做的那样。`Y``X`**`typedef`**

 **在我的示例中，您使用点运算符来访问结构的特定变量。在 ouah 的示例中，您使用 [] （这是一个运算符吗？可能，但我不确定）来访问数组中的元素。请注意，在 C & Co 中，第一个元素用索引 0 寻址，第二个用 1 寻址，第三个用 2 等。**

# iphone - 在 Objective-C 中，在每个类中导入相同的头文件会使编译时间更长？

> ID：10910065
> 
> 赞同：10
> 
> 时间：2012-06-06T07:39:08.353
> 
> 标签：iphone, objective-c, ios, header

我是 Objective-C/iOS 编程的初学者。

我想制作一个包含我在项目中使用的所有类头文件的头文件。
并在每个类头文件中导入头文件。

像这样的问题：
[在同一个头文件中包含多个类](https://stackoverflow.com/questions/1517146/)

但是这种方法会增加编译时间吗？
或者还有其他什么缺点吗？

请告诉我导入标头的好方法。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-06T07:43:50.860

一般来说，新生成的 iOS 项目都带有这个功能，称为*预编译头文件*或*前缀头*文件，是一个扩展名为`.pch`.

你可以把所有你想要的头文件放在那里，Xcode 会在它构建其他任何东西之前预编译它，并使用它来编译你项目中的其他编译单元（例如`.m`文件）。

使用预编译头文件可能会也可能不会增加编译时间；一般来说，只要你有很多通用的头文件和/或很多源文件，它就会减少编译时间。

但是，将预编译的头文件视为大垃圾场并不一定是好的做法，因为当您可能想要强制组件之间的松散耦合时，您的编译单元可以对各种东西形成隐式依赖关系。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-06T07:46:39.900

一个头文件中的所有类的问题是，每次更改类头文件时，包括它在内的所有文件都需要重新编译，而如果您只导入所需的类并在可以使用 @class 时只直接使用该类的文件需要重新编译。因此，在第一种情况下将有比后者更多的编译。这是我建议开始的方式。

但是，当您的代码变得更加稳定并且类不会更改时，将它们全部放在一个头文件中可以缩短编译时间，因为预编译的头文件将包含每个文件的相同信息。我要做的是当代码没有太大变化时，将成熟的类放入框架中，框架头将包含所有这些类。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-06-06T07:43:45.353

您可以在项目 prefix_pch 文件中导入该头文件。然后您可以在 Your classes 中使用它。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-06-06T07:48:39.473

如果你想全局导入标题，你应该在`YourProject-Prefix.pch`文件中这样做。它应该看起来像这样..

```
#import <Availability.h>

#ifndef __IPHONE_4_0
#warning "This project uses features only available in iOS SDK 4.0 and later."
#endif

   #ifdef __OBJC__
   #import <UIKit/UIKit.h>
   #import <Foundation/Foundation.h>
   #import "YourGlobalHeader.h"
#endif 
```

现在，您的所有课程都已`YourGlobalHeader.h`自动导入。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T07:42:57.020

在某些情况下，将所有标头放在一个文件中可能会提高构建性能，但您可能不会注意到差异。

出于组织的目的，最好将类标题保存在不同的文件中。此外，如果您只在源文件中包含您需要的标头，那么您的构建时间将会减少，尽管如果您使用的是体面的构建机器，这同样不会明显。

# java - 在一个类中休眠多个一对多关系

> ID：10910075
> 
> 赞同：1
> 
> 时间：2012-06-06T07:39:39.763
> 
> 标签：java, hibernate

我有三个实体，主要（用户）实体与其他两个实体相关，我如何使用休眠在一个查询中从数据库中检索三个实体的列表

```
package hib.test;

import java.util.HashSet;
import java.util.Set;

public class Country {
    private Integer id;
    private String country;
    private Set<User> userList = new HashSet<User>();

    public Country() {
        super();
        // TODO Auto-generated constructor stub
    }

    public Integer getId() {
        return id;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    public String getCountry() {
        return country;
    }

    public void setCountry(String country) {
        this.country = country;
    }

    public Set<User> getUserList() {
        return userList;
    }

    public void setUserList(Set<User> userList) {
        this.userList = userList;
    }

} 
```

用户.java

```
package hib.test;

public class User {
    private Integer id;
    private UserType userType;
    private Country country;

    public User() {
        super();
        // TODO Auto-generated constructor stub
    }

    public Integer getId() {
        return id;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    public UserType getUserType() {
        return userType;
    }

    public void setUserType(UserType userType) {
        this.userType = userType;
    }

    public Country getCountry() {
        return country;
    }

    public void setCountry(Country country) {
        this.country = country;
    }

} 
```

用户类型.java

```
package hib.test;

import java.util.HashSet;
import java.util.Set;

public class UserType {
    private Integer id;
    private String userType;
    private Set<User> userList = new HashSet<User>();

    public UserType() {
        super();
        // TODO Auto-generated constructor stub
    }

    public Integer getId() {
        return id;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    public String getUserType() {
        return userType;
    }

    public void setUserType(String userType) {
        this.userType = userType;
    }

    public Set<User> getUserList() {
        return userList;
    }

    public void setUserList(Set<User> userList) {
        this.userList = userList;
    }

} 
```

国家.hbm.xml

```
<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated Jun 6, 2012 1:12:01 PM by Hibernate Tools 3.4.0.CR1 -->
<hibernate-mapping>
    <class name="hib.test.Country" table="COUNTRY">
        <id name="id" type="java.lang.Integer">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <property name="country" type="java.lang.String">
            <column name="COUNTRY" />
        </property>
        <set name="userList" table="USER" inverse="false" lazy="true">
            <key>
                <column name="ID" />
            </key>
            <one-to-many class="hib.test.User" />
        </set>
    </class>
</hibernate-mapping> 
```

用户.hbm.xml

```
<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated Jun 6, 2012 1:12:01 PM by Hibernate Tools 3.4.0.CR1 -->
<hibernate-mapping>
    <class name="hib.test.User" table="USER">
        <id name="id" type="java.lang.Integer">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <many-to-one name="userType" class="hib.test.UserType" fetch="join">
            <column name="USERTYPE" />
        </many-to-one>
        <many-to-one name="country" class="hib.test.Country" fetch="join">
            <column name="COUNTRY" />
        </many-to-one>
    </class>
</hibernate-mapping> 
```

用户类型.hbm.xml

```
<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated Jun 6, 2012 1:12:01 PM by Hibernate Tools 3.4.0.CR1 -->
<hibernate-mapping>
    <class name="hib.test.UserType" table="USERTYPE">
        <id name="id" type="java.lang.Integer">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <property name="userType" type="java.lang.String">
            <column name="USERTYPE" />
        </property>
        <set name="userList" table="USER" inverse="false" lazy="true">
            <key>
                <column name="ID" />
            </key>
            <one-to-many class="hib.test.User" />
        </set>
    </class>
</hibernate-mapping> 
```

我怎样才能检索`List<User>`，`List<Country>`并`List<UserType>`通过一个查询

编辑

```
public static List<UserType> getUserTypeList() {
    Session session = HibernateUtil.getSessionFactory().openSession();
    Transaction transaction = null;
    List<UserType> list = null;
    try {
        transaction = session.beginTransaction();
        list = session.createQuery("from UserType as u").list();
        if (list != null) {
            for (UserType uType : list)
                Hibernate.initialize(uType.getUserList());
        }
        transaction.commit();
    } catch (Exception e) {
        if (transaction != null)
            transaction.rollback();
        e.printStackTrace();
    } finally {
        session.close();
    }
    return list;
} 
```

实际上，我有 1 个 JTable 和两个用于 UserType 和 Country 的组合框因此，当我在组合框中选择任何数据时，JTable 数据应根据所选值进行过滤，并在内存中保存所选的 UserType 和 Country 对象。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:45:05.057

您需要三个查询来做到这一点：

```
select u from User u;
select ut from UserType ut;
select c from Country c; 
```

编辑：

如果你真正想要的是所有用户类型的列表，每个用户类型的用户，每个用户类型的每个用户的国家，所有这些都加载在一个查询中，那么你需要获取连接，如中所述[休眠](http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html_single/#queryhql-joins)文档：

```
select userType from UserType userType
left join fetch userType.users user
left join fetch user.country 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:49:55.597

如果您想要一次关系数据并且内存不是问题，请执行`lazy="false"`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T07:50:42.903

尝试在您的用户映射上将获取类型定义为 EAGER，这样当您加载用户时，它将加载国家和用户类型。

# grails - 如何重复 Spock 测试？

> ID：10910080
> 
> 赞同：10
> 
> 时间：2012-06-06T07:39:50.357
> 
> 标签：grails, spock

如此处所述[，](http://code.google.com/p/spock/wiki/SpringExtension) `@Repeat`目前不支持注释。如何将 spock 测试标记为重复 n 次？

假设我有 spock 测试：

```
def "testing somthing"() {
    expect:
    assert myService.getResult(x) == y

    where:
    x | y
    5 | 7
    10 | 12
} 
```

如何将其标记为重复 n 次？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-06T07:48:55.113

您可以`@Unroll`像这样使用注释：

```
@Unroll("test repeated #i time")
def "test repeated"() {
    expect:
        println i
    where:
        i << (1..10)
} 
```

它将为您创建 10 个单独的测试。

编辑您的问题后编辑，使用最简单的方法来实现这一点：

```
def "testing somthing"() {
    expect:
        assert myService.getResult(x) == y

    where:
        x | y
        5 | 7
        5 | 7
        5 | 7
        5 | 7
        5 | 7
        10 | 12
        10 | 12
        10 | 12
        10 | 12
        10 | 12 
```

}

这是目前在 spock 中执行此操作的唯一方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T11:54:14.680

您可以使用 where-block，如上面的答案所示。目前没有办法重复已经有 where 块的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T12:26:35.383

我在[这里找到了可行的解决方案（ru）](http://habrahabr.ru/post/137561/)

```
import java.lang.annotation.Retention
import java.lang.annotation.RetentionPolicy
import java.lang.annotation.ElementType
import java.lang.annotation.Target
import org.spockframework.runtime.extension.ExtensionAnnotation
import org.spockframework.runtime.extension.AbstractAnnotationDrivenExtension
import org.spockframework.runtime.model.FeatureInfo
import org.spockframework.runtime.extension.AbstractMethodInterceptor
import org.spockframework.runtime.extension.IMethodInvocation

@Retention(RetentionPolicy.RUNTIME)
@Target([ElementType.METHOD, ElementType.TYPE])
@ExtensionAnnotation(RepeatExtension.class)
public @interface Repeat {
    int value() default 1;
}

public class RepeatExtension extends AbstractAnnotationDrivenExtension<Repeat> {

    @Override
    public void visitFeatureAnnotation(Repeat annotation, FeatureInfo feature) {
        feature.addInterceptor(new RepeatInterceptor(annotation.value()));
    }
}

private class RepeatInterceptor extends AbstractMethodInterceptor{
    private final int count;

    public RepeatInterceptor(int count) {
        this.count = count;
    }

    @Override
    public void interceptFeatureExecution(IMethodInvocation invocation) throws Throwable {
        for (int i = 0; i < count; i++) {
            invocation.proceed();
        }
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-16T11:34:24.650

使用下面的代码片段为一组值迭代 Spock 测试

```
def "testing somthing"() {
    expect:
    assert myService.getResult(x) == y

    where:
    x >> [3,5,7]
    y >> [5,10,12]
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-12-28T16:24:15.487

我找到了一种将其组合在一起的简单方法。Spock 允许您将方法的返回通过管道传递到 where 子句中定义的变量中，因此使用它您可以定义一个简单地循环多次数据然后返回组合列表的方法。

```
def "testing somthing"() {
    expect:
    assert myService.getResult(x) == y

    where:
    [x,y] << getMap()
}

public  ArrayList<Integer[]> getMap(){
    ArrayList<Integer[]> toReturn = new ArrayList<Integer[]>();
    for(int i = 0; i < 5; i ++){
        toReturn.add({5, 7})
        toReturn.add({10, 12})
    }
    return toReturn;
} 
```

# eclipse - 应用转换时出错 - 当安全处理功能设置为 true 时，不允许使用扩展元素“重定向”

> ID：10910092
> 
> 赞同：0
> 
> 时间：2012-06-06T07:41:39.910
> 
> 标签：eclipse, testing, ant, junit

请帮助我解决此错误和警告：

41：警告：'includeantruntime' 未设置，默认为 build.sysclasspath=last；为可重复构建设置为 false

79：应用转换时出错：javax.xml.transform.TransformerException：java.lang.RuntimeException：当安全处理功能设置为 true 时，不允许使用扩展元素“redirect”。

总时间：31秒

这是我的 build.xml

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- WARNING: Eclipse auto-generated file.
          Any modifications will be overwritten.
          To include a user specific buildfile here, simply create one in the same
          directory with the processing instruction <?eclipse.ant.import?>
          as the first entry and export the buildfile again. -->
<project basedir="." default="build" name="Login">
<property environment="env"/>
<property name="ECLIPSE_HOME" value="../../../../opt/eclipse"/>
<property name="junit.output.dir" value="junit"/>
<property name="debuglevel" value="source,lines,vars"/>
<property name="target" value="1.6"/>
<property name="source" value="1.6"/>
<path id="Login.classpath">
    <pathelement location="bin"/>
    <pathelement location="../../Downloads/JAR/junit-4.10.jar"/>
    <pathelement location="../../Downloads/JAR/poi-3.2-FINAL.jar"/>
    <pathelement location="../../Downloads/JAR/selenium-java-2.21.0.jar"/>
    <pathelement location="../../Downloads/JAR/selenium-java-2.21.0.zip"/>
    <pathelement location="../../Downloads/JAR/selenium-java-2.21.0-srcs.jar"/>
    <pathelement location="../../Downloads/JAR/selenium-server-standalone-2.21.0.jar"/>
    <pathelement location="../../Downloads/JAR/testng-6.5.1.zip"/>
</path>
<target name="init">
    <mkdir dir="bin"/>
    <copy includeemptydirs="false" todir="bin">
        <fileset dir="src">
            <exclude name="**/*.launch"/>
            <exclude name="**/*.java"/>
        </fileset>
    </copy>
</target>
<target name="clean">
    <delete dir="bin"/>
</target>
<target depends="clean" name="cleanall"/>
<target depends="build-subprojects,build-project" name="build"/>
<target name="build-subprojects"/>
<target depends="init" name="build-project">
    <echo message="${ant.project.name}: ${ant.file}"/>
    <javac debug="true" debuglevel="${debuglevel}" destdir="bin" source="${source}" target="${target}">

        <src path="src"/>
        <classpath refid="Login.classpath"/>
    </javac>
</target>
<target description="Build all projects which reference this project. Useful to propagate changes." name="build-refprojects"/>
<target description="copy Eclipse compiler jars to ant lib directory" name="init-eclipse-compiler">
    <copy todir="${ant.library.dir}">
        <fileset dir="${ECLIPSE_HOME}/plugins" includes="org.eclipse.jdt.core_*.jar"/>
    </copy>
    <unzip dest="${ant.library.dir}">
        <patternset includes="jdtCompilerAdapter.jar"/>
        <fileset dir="${ECLIPSE_HOME}/plugins" includes="org.eclipse.jdt.core_*.jar"/>
    </unzip>
</target>
<target description="compile project with Eclipse compiler" name="build-eclipse-compiler">
    <property name="build.compiler" value="org.eclipse.jdt.core.JDTCompilerAdapter"/>
    <antcall target="build"/>
</target>
<target name="login.testLogin">
    <mkdir dir="${junit.output.dir}"/>
    <junit fork="yes" printsummary="withOutAndErr">
        <formatter type="xml"/>
        <test name="login" todir="${junit.output.dir}"/>
        <classpath refid="Login.classpath"/>
    </junit>
</target>
<target name="login">
    <mkdir dir="${junit.output.dir}"/>
    <junit fork="yes" printsummary="withOutAndErr">
        <formatter type="xml"/>
        <test name="login" todir="${junit.output.dir}"/>
        <classpath refid="Login.classpath"/>
    </junit>
</target>

<target name="junitreport">
    <junitreport todir="${junit.output.dir}">
        <fileset dir="${junit.output.dir}">
            <include name="TEST-*.xml"/>
        </fileset>
        <report format="frames" todir="${junit.output.dir}"/>
    </junitreport>
</target>

<target name="compile">
    <mkdir dir="${classes.dir}"/>
    <javac srcdir="${src.dir}" destdir="${classes.dir}" includeantruntime="false">
        <classpath>
            <path id="application" location="${jar.dir}/${ant.project.name}.jar"/>
            <path id="junit" location="${lib.dir}/junit-4.9b2.jar"/>
        </classpath>
    </javac>
</target>
</project> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-07T20:55:52.800

对于警告，请将 includeantruntime 添加到 javac 目标。请点击以下链接了解更多信息。 [蚂蚁警告：“'includeantruntime' 未设置”](https://stackoverflow.com/questions/5103384/ant-warning-includeantruntime-was-not-set)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T11:08:38.243

你的 Ant 版本是多少？

此[链接](https://issues.apache.org/bugzilla/show_bug.cgi?id=51668)讨论 1.8.3 中的修复

# linux - 数组中的 Bash 值

> ID：10910093
> 
> 赞同：1
> 
> 时间：2012-06-06T07:41:41.877
> 
> 标签：linux, bash

我有以下

```
#!/bin/bash
aprograms=`pgrep a`
echo $aprograms 
```

输出：

```
alejandro@ubuntu:~$ bash test.sh 
2 6 7 8 12 13 16 17 20 27 ... 
```

我想控制 $aprograms 中是否有值。我尝试了以下方法（我不知道它是否有效）：

```
if [ $value in $aprograms ];then
    echo "found" 
```

但不起作用。是否有正确的方法来控制 $aprograms 中是否有值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:51:05.237

```
#!/bin/bash

function foo () {
  echo 2 6 7 8 12 13 16 17 20 27
}

function search_value () { 
  for i in $2; do {
    if [ $i -eq $1 ]; then {
      echo "found"
    } fi
  } done
}

search_value 13 "$( foo )" 
```

只需更改`foo`您的输入程序：

```
search_value 13 "$( pgrep a )" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:55:41.497

你可以使用 bash 的[参数扩展](http://wiki.bash-hackers.org/syntax/pe)。

```
shopt -s extglob
var="2 6 7 8 12 13 16 17 20 27"
if [ "${var/17?( )/}" != "$var" ] ; then echo "match"; fi 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:42:11.420

```
if [[ " $aprograms " =~ \ $value\  ]] ; then
    echo "found"
fi 
```

此外，与`grep`

```
if pgrep a | grep -q -w "$value" ; then
    echo "found:
fi 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T07:51:23.393

```
-eq 
```

等于

```
if [ "$a" -eq "$b" ] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T11:06:57.520

由于`pgrep`每行输出一个 PID，因此您可以使用它`grep`来找到您正在寻找的那个。

```
#!/bin/bash
aprograms=$(pgrep a)
echo "$aprograms"
if grep -Fxqs "$value" <<< "$aprograms"
then
    echo "found"
fi 
```

在扩展变量时始终引用变量以保留空格。

将模式用作固定字符串而不是正则表达式的`-F`选项。`grep`该`-x`选项匹配整行，因此较小的字符串或数字不匹配较大的部分。选项`-q`和`-s`抑制输出和错误输出。如果您的版本`grep`没有这些，请使用：

```
if grep -Fx "$value" <<< "$aprograms" > /dev/null >&2 
```

# linux - 在 mac 或 linux 中获取组名的 groupid 的命令是什么？

> ID：10910096
> 
> 赞同：15
> 
> 时间：2012-06-06T07:41:54.217
> 
> 标签：linux, macos, macros

如何在 mac os 或 linux 中获取组的组 ID？

即，Command GroupName ==> 应该返回 groupid

例如：

```
Command staff   ==>   20 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-06T07:50:12.070

在 Linux 上，您可以使用[getent(1)](http://www.linuxmanpages.com/man1/getent.1.php)：

```
$ getent group staff
staff:x:20: 
```

如果你只想要 20：

```
$ getent group staff | cut -d: -f3
20 
```

在 OS X 上，您可以使用[dscl(1)](https://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man1/dscl.1.html)：

```
$ dscl . -read /Groups/staff | awk '($1 == "PrimaryGroupID:") { print $2 }'
20 
```

使用这个简单的 python 命令（使用[grp 库](http://docs.python.org/library/grp.html)）可以更容易地在两个平台上获得相同的结果：

```
$ python -c 'import grp; print grp.getgrnam("staff").gr_gid'
20 
```

# magento - Magento：将修改后的 header.phtml 添加到自定义模块的 empty.phtml 文件的副本中

> ID：10910101
> 
> 赞同：0
> 
> 时间：2012-06-06T07:42:24.357
> 
> 标签：magento

在默认客户登录后，我为登录页面创建了一个自定义模块，我使用的是空白模板页面：empty.phtml;

我现在想将页脚和 header.phtml 的编辑版本添加到“empty.phtml”，而不编辑该文件的原始版本。

我怎样才能做到这一点 ？？

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T10:27:24.417

尝试将其放到您的布局文件中的着陆页部分：

```
<?xml version="1.0" encoding="UTF-8"?>
<layout version="0.1.0">
  <your_landing_page>
    <reference name="header">
      <action method="setTemplate"><template>your_module/header_file.phtml</template></action>
    </reference>
... 
```

# mysql - 如何将查询写为连续的值？

> ID：10910107
> 
> 赞同：1
> 
> 时间：2012-06-06T07:42:56.637
> 
> 标签：mysql, sql, phpmyadmin

我在 MySQL 上有两个表（使用 phpMyAdmin），如下所示： 表 1：

```
Country    Total Minutes
USA        100
USA        90
Canada     60
Mexico     80
UK         90
France     70
France     10
Germany    10 
```

在表 2 中，我需要做的是：

```
Region           Total Minutes
North America    USA+USA+Canada+Mexico Mins
Europe           UK+France+France+Germany Mins 
```

有没有办法让一行成为查询的结果？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:51:20.987

您要么需要表 1 中的区域列：

```
SELECT region, SUM(`Total Minutes`)
FROM timespent
GROUP BY region; 
```

或单独的`region <-> country`表：

```
SELECT region, SUM(`Total Minutes`)
FROM myregions r
INNER JOIN timespent t USING (country)
GROUP BY r.region; 
```

区域表如下所示：

```
region        | country
--------------+--------
North America | USA
North America | Mexico 
```

如果您无法更改数据库中的任何内容，请查看 Andomar 的解决方案 :)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T07:50:26.250

您可以在子查询中将国家/地区翻译为地区。然后外部查询可以`group by`在区域上：

```
select  Region
,       sum(TotalMinutes) as TotalMinutes
from    (
        select  case country
                when 'USA' then 'North America'
                when 'France' then 'Europe'
                end as Region
        ,       TotalMinutes
        from    YourTable
        ) as SubQueryAlias
group by
        Region 
```

# css - 如何改变风格 依赖属性打开？

> ID：10910111
> 
> 赞同：0
> 
> 时间：2012-06-06T07:43:25.803
> 
> 标签：css, jakarta-ee, richfaces, jsf-1.2

我想根据其“opened”属性的值设置我的依赖样式。更具体地说：如果opened==false的值我想在打印输出上隐藏simpleTogglePanel（即设置样式为显示：无）。

所以像这样（伪代码）：

```
<rich:simpleTogglePanel opened="false" styleClass="#{ if opened then regular else hidePrint}" /> 
```

这可能吗？如何？我正在使用 Richfaces 3.3.2。！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:52:42.190

使用组件的渲染属性。

`<rich:simpleTogglePanel rendered=#{bean.boolean} />`

**编辑**

您的托管 bean 中应该有一个布尔属性，因此您将知道它是否打开了您的 togglePanel。所以像

```
@ManagedBean
@RequestScoped
public class Bean {
    private boolean opened;
    //setters and getters
} 
```

然后在您的页面上像这样更改您的 togglePanel

```
<rich:simpleTogglePanel opened="#{bean.opened}" rendered="#{bean.opened}"> 
```

将 bean 中的属性设置为 true 或 false，具体取决于您是否要默认隐藏 togglePanel。或者您可以在每次使用 Ajax 切换时隐藏它，将此行放在 simpleTogglePanel 标记中

```
 <p:ajax listener="#{bean.hidePanel}" update=":panel" /> 
```

将您的面板的 id 设置为面板并将方法 hidePanel 添加到您的面板，这只是将打开的布尔值设置为 false。编辑 - 它也应该在没有那个监听器的情况下工作

# c# - XML 到 SQL SERVER 记录插入

> ID：10910115
> 
> 赞同：0
> 
> 时间：2012-06-06T07:43:50.333
> 
> 标签：c#, asp.net, linq, linq-to-sql

我有 XML 文件，我正在使用此代码读取所有 Xml。但意思是，当我想将 XML 记录插入 sql 表时，无论我读过什么。我没有找到任何解决方案。XMl 包含行数以及如何以正确的方式插入。

```
 if (File.Exists(xmlpath))
          {
             try
              {
                XDocument xmlDoc = XDocument.Load(xmlpath);
                var vrresult = from a in xmlDoc.XPathSelectElements("/Parts/Part")
                               select new
                               {
                                  S  = a.Element("Section").Value,
                                   M = a.Element("Mark").Value,
                                   Q = a.Element("Qty").Value,
                                   W = a.Element("Weight").Value,
                                   RD = a.Element("databaseUpdateMark").Value

                               };
                GridView1.DataSource = vrresult;
                GridView1.DataBind();

            }
            catch (Exception ex)
            {
                Lbmsg.Text = ex.Message;
            }
            finally
            {

            }
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:48:59.957

这是一个如何使用 OPENXML 函数的示例

[使用 C# DataTable 和 SQL server OpenXML 函数批量插入数据](http://pranayamr.blogspot.ca/2011/12/bulk-insertion-of-data-using-c.html)

* * *

利用功能：在 sql server 中可用的[OPENXML (Transact-SQL)](http://msdn.microsoft.com/en-us/library/ms186918.aspx)允许您在服务器中插入数据....

另请阅读：[使用 OPENXML 插入 XML 字符串中的值](http://www.planet-source-code.com/vb/scripts/ShowCode.asp?txtCodeId=499&lngWId=5)

**例子 ：**

```
--Use OPENXML to pull records from an XML string and insert them into a database

DECLARE @idoc int
DECLARE @doc varchar (1000)

--XML document

SET @doc ='
<ROOT>
    <Employee>
        <FirstName>Tom</FirstName>
        <LastName>Jones</LastName>
    </Employee>
    <Employee>
        <FirstName>Gus</FirstName>
        <LastName>Johnson</LastName>
    </Employee>
</ROOT>'

--Create an internal representation of the XML document
--the idoc variable is set as the document handler, so we can refer to it later

EXEC sp_xml_preparedocument @idoc OUTPUT, @doc

-- Use the OPENXML rowset provider with an Insert
-- @idoc lets us know which internal representation of an xml doc to use
-- '/ROOT/Employee' shows us which node in the xml tree to work on
-- the 2 denotes we want to use elemenet centric mapping for the values, as oppsed to attributes or a combination of both
-- in the 'With' we specify how the output rowset will look

INSERT INTO Employees (FirstName, LastName)
SELECT *
FROM OPENXML (@idoc, '/ROOT/Employee',2) 
WITH (FirstName varchar(10),
LastName varchar(20)
)

-- Clear the XML document from memory

EXEC sp_xml_removedocument @idoc 
```

# paypal - Paypal 订阅付款想要 3 选项？

> ID：10910117
> 
> 赞同：0
> 
> 时间：2012-06-06T07:43:53.797
> 
> 标签：paypal, payment, subscription

当用户点击贝宝的订阅按钮时，它会重定向到贝宝网站，之后它会显示2个选项，它们是：

1：使用贝宝登录 2：我需要创建一个贝宝账户，下面显示信用卡表格

我的要求是显示 3 个选项。

1：使用Paypal账号登录。2：如果没有paypal账户，则创建paypal账户。3：不需要paypal账户，然后通过信用卡支付

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:10:07.990

如果您想让您的用户订阅（也称为定期付款），他们*必须*有一个 PayPal 帐户。

资料来源：[https ://www.paypal-community.com/t5/How-to-use-PayPal/Subscriptions-is-a-PayPal-account-required/td-p/44420](https://www.paypal-community.com/t5/How-to-use-PayPal/Subscriptions-is-a-PayPal-account-required/td-p/44420)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-07T23:56:38.937

是的，您无需用户拥有 PayPal 帐户即可创建订阅。
但是，它不适用于常规网站付款标准；您需要购买名为“[增强型定期付款](https://merchant.paypal.com/us/cgi-bin/?cmd=_render-content&content_ID=merchant/erp_overview)”（美国）或“[高级服务](https://www.paypal-business.co.uk/premiumservices/index.htm)”（英国）的附加服务。

我相信——从我的脑海中——它可以在美国、英国、加拿大和澳大利亚使用。但是，您需要使用 PayPal Sales 仔细检查最后两个。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-04T08:26:59.463

对于定期付款，您可以尝试使用[ChargeBee](https://www.chargebee.com)、[Recurly](https://recurly.com/)、Chargify。这些提供信用卡数据可移植性。必须有经常性支付业务的要求。

# linux - 加密不解密

> ID：10910127
> 
> 赞同：4
> 
> 时间：2012-06-06T07:44:51.843
> 
> 标签：linux, encryption

我遇到了一个问题，因为我有一些私人数据。我需要将数据提供给需要对提供的加密数据应用一些逻辑的人。这里的目标是他们不需要能够解密和应用逻辑。有什么办法可以做到这一点。任何想法都受到高度赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T10:02:08.013

也许数据的匿名化就足够了？例如，如果数字代表交易，您可以将承包商、人员、公司、分支机构等的所有名称更改为 GUIDS，发送数据进行分析，并将 GUIDS 与您这边的传入结果中的名称连接 - 当然具有行业知识的人可以或多或少地猜测出发生了什么，但至少您不会暴露主题的数据。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T07:58:50.950

You are probably looking for [http://en.wikipedia.org/wiki/Homomorphic_encryption](http://en.wikipedia.org/wiki/Homomorphic_encryption)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-06T07:55:55.747

如果您将加密密钥留给自己，其他人将无法解密数据。

# ajax - 使用 Ajax 和 Symfony2 插入和更新记录

> ID：10910128
> 
> 赞同：0
> 
> 时间：2012-06-06T07:44:53.727
> 
> 标签：ajax, jquery, symfony, symfony-forms

我正在尝试使用 Symfony2 在 AJAX 中插入/更新记录。我正在使用 JQuery 提交我的表单。这是我的控制器：

```
public function myEntitysAction(){

    $em = $this->getDoctrine()->getEntityManager();
    $request = $this->getRequest(); 
    $AJAXresponse = array();

    $myEntity = new myEntity();       
    $form = $this->createForm(new myEntityType(), $myEntity);

    if ($request->getMethod() == 'POST') {

        $form->bindRequest($this->getRequest());

        if ($form->isValid()) {
            $AJAXResponse['code'] = 'OK';
            $em->persist($myEntity);        
            $em->flush();
        }else{          
            $AJAXResponse['code'] = 'ERR';  
        }

        if ($request->isXmlHttpRequest() == true) {
            $response = new Response(json_encode($AJAXResponse));
            $response->headers->set('Content-Type', 'application/json');
            return $response;
        }

    } 

} 
```

问题是这段代码插入得很好，但我无法更新数据；它继续插入。我是否必须通过将新 ID 发送回响应来实现自己的更新方式，或者 Symfony 有没有办法自动处理它？

非常感谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-19T13:11:03.763

你可以试试这样的

```
//Firt, update your route (p. ex)
site_add:
    pattern:  /edit/add
    defaults: { _controller: YOURBUNDLE:YOURCONTROLLER:myEntitys }

site_update:
    pattern:  /edit/{id}
    defaults: { _controller: YOURBUNDLE:YOURCONTROLLER:myEntitys }

//Then in your controller

//...
public function myEntitysAction($id = null){

$em = $this->getDoctrine()->getEntityManager();
$request = $this->getRequest();
$AJAXresponse = array();

//To modify
if(isset($id)){
    $myEntity = $em->find('YOURBUNDLE:YOURENTITY', $id);
}
//To create
else{
    $myEntity = new myEntity();
}
//Both return an objet

//Form will be render depeding on objet.
$form = $this->createForm(new myEntityType(), $myEntity);

if ($request->getMethod() == 'POST') {

    $form->bindRequest($this->getRequest());

    if ($form->isValid()) {
        $AJAXResponse['code'] = 'OK';
        $em->persist($myEntity);
        $em->flush();
    }else{
        $AJAXResponse['code'] = 'ERR';
    }

    if ($request->isXmlHttpRequest() == true) {
        $response = new Response(json_encode($AJAXResponse));
        $response->headers->set('Content-Type', 'application/json');
        return $response;
    }

} 
```

}

# eclipse-indigo - Ubuntu 11.04 上的 Eclipse Indigo 版本 - (Natty Narwhal) 使用客户端 JVM

> ID：10910133
> 
> 赞同：0
> 
> 时间：2012-06-06T07:45:10.610
> 
> 标签：eclipse-indigo

配置细节：

IDE：面向 Web 开发人员的 Eclipse Indigo Java EE IDE。操作系统：Ubuntu Linux 11.04 Java：java 版本“1.6.0_30” Java(TM) SE 运行时环境（内部版本 1.6.0_30-b12） Java HotSpot(TM) 服务器 VM（内部版本 20.5-b03，混合模式）

当我使用 jconsole 检查 Eclipse 进程的 JVM 详细信息时，它显示它使用客户端 JVM 和 JIT。我试过以下：

在 eclipse.ini 中：

-vmargs ... -服务器

但它不起作用。

请帮忙。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T12:27:01.947

首先通过“ps -eaf|grep -i Catalina”检查命令行，它会显示如下内容：

```
adahar    5933  5552  0 Aug28 ?        00:11:45 /opt/jdk1.5.0_22/bin/java
-agentlib:jdwp=transport=dt_socket,suspend=y,address=localhost:53946 
-Dcatalina.base=/home/adahar/workspace-indigo/.metadata/.plugins 
```

/org.eclipse.wst.server.core/tmp2 -Dcatalina.home=/home/adahar/soa/model-eclipse -Dwtp.deploy=/home/adahar/workspace-indigo/.metadata/.plugins/org.eclipse .wst.server.core/tmp2/wtpwebapps -Djava.endorsed.dirs=/home/adahar/soa/model-eclipse/endorsed -Xmx2g -XX:MaxPermSize=192m -Dfile.encoding=UTF-8 -classpath /home/ adahar/soa/model-eclipse/bin/bootstrap.jar：/opt/jdk1.5.0_22/lib/tools.jar org.apache.catalina.startup.Bootstrap start

如果它们已成功放入命令行，您可以在那里看到这些选项。

如果它仍然无法正常工作，那么这是一个 java 问题。我的猜测是 Eclipse 不是服务器应用程序，即它有一个 GUI，所以 java 默认为客户端模式。

# javascript - 我的 nodejs 游戏的好端口？

> ID：10910142
> 
> 赞同：0
> 
> 时间：2012-06-06T07:45:55.260
> 
> 标签：javascript, node.js, port

我正在制作一个nodejs游戏。我尝试了很多端口（25565、12100、2754、6112、1337 和其他随机端口）。它们都在服务器端工作，但是客户端它们有时会被防火墙阻止，或者（我最担心的是）被其他东西使用，这会增加很多延迟。所以我需要一个端口（如果可能的话）大部分是开放的，并且使用它不会干扰我的游戏连接。对好的端口有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:53:29.970

你应该看看 Socket.IO 的人所做的关于 WebSockets 和防火墙的研究：

[https://github.com/LearnBoost/socket.io/wiki/Socket.IO-and-firewall-software](https://github.com/LearnBoost/socket.io/wiki/Socket.IO-and-firewall-software)

# php - 使用 PHP 从 Excel 文件 (xlsx) 中提取图像

> ID：10910144
> 
> 赞同：3
> 
> 时间：2012-06-06T07:46:05.150
> 
> 标签：php, phpexcel

如何使用 PHPExcel 从 excel 文件中读取图像并将图像保存在服务器中并显示它们？文件的扩展名为 .xlsx。

我的代码：

```
$objPHPExcel = PHPExcel_IOFactory::load($path);

foreach ($objPHPExcel->getActiveSheet()->getDrawingCollection() as $drawing) {
    if ($drawing instanceof PHPExcel_Worksheet_MemoryDrawing) {
        ob_start();
        call_user_func(
            $drawing->getRenderingFunction(),
            $drawing->getImageResource()
        );
        $imageContents = ob_get_contents();

        ob_end_clean();
    }

} 
```

谢谢！！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T07:51:23.210

```
$objPHPExcel->getActiveSheet()->getDrawingCollection() 
```

将返回活动工作表中所有图像对象的 ArrayObject。

这些对象将是 PHPExcel_Worksheet_Drawing 或 PHPExcel_Worksheet_MemoryDrawing 对象：您可以使用 [is_a()][1] 来识别哪个。然后，您可以使用适合该类的方法（如 API 中所述）从文件（对于 PHPExcel_Worksheet_Drawing 对象）或直接从 PHPExcel_Worksheet_MemoryDrawing 对象本身读取图像数据。getName() 和 getDescription() 方法可用于从图像对象中检索相关值。

请注意，也可以将图像对象与打印标题关联：

```
$objPHPExcel->getActiveSheet()->getHeaderFooter()->getImages() 
```

可用于从页眉/页脚检索图像。这是一个 PHPExcel_Worksheet_HeaderFooterDrawing 对象数组。所有 PHPExcel_Worksheet_Drawing 方法都可用于从这些对象中提取图像文件。

**编辑**

喂食时间。

这将从当前活动的工作表中提取所有图像，并将它们写入服务器上的文件。

```
$objPHPExcel = PHPExcel_IOFactory::load($path);

$i = 0;
foreach ($objPHPExcel->getActiveSheet()->getDrawingCollection() as $drawing) {
    if ($drawing instanceof PHPExcel_Worksheet_MemoryDrawing) {
        ob_start();
        call_user_func(
            $drawing->getRenderingFunction(),
            $drawing->getImageResource()
        );
        $imageContents = ob_get_contents();
        ob_end_clean();
        switch ($drawing->getMimeType()) {
            case PHPExcel_Worksheet_MemoryDrawing::MIMETYPE_PNG :
                    $extension = 'png'; break;
            case PHPExcel_Worksheet_MemoryDrawing::MIMETYPE_GIF:
                    $extension = 'gif'; break;
            case PHPExcel_Worksheet_MemoryDrawing::MIMETYPE_JPEG :
                    $extension = 'jpg'; break;
        }
    } else {
        $zipReader = fopen($drawing->getPath(),'r');
        $imageContents = '';
        while (!feof($zipReader)) {
            $imageContents .= fread($zipReader,1024);
        }
        fclose($zipReader);
        $extension = $drawing->getExtension();
    }
    $myFileName = '00_Image_'.++$i.'.'.$extension;
    file_put_contents($myFileName,$imageContents);
} 
```

文件被命名

```
00_Image_n.extension 
```

其中 n 是从 1 开始的数字，extension 是图像类型的适当扩展名（png、jpg、gif 等）。

# php - php-clamav - 被加载到 *each* Apache 进程中

> ID：10910150
> 
> 赞同：0
> 
> 时间：2012-06-06T07:47:17.223
> 
> 标签：php, performance, security, optimization, antivirus

php-clamav 是一个 PHP5 扩展，允许将病毒扫描功能合并到 PHP5 脚本中。

在[http://sourceforge.net/projects/php-clamav/reviews/?sort=usefulness&filter=all#reviews-n-ratings](http://sourceforge.net/projects/php-clamav/reviews/?sort=usefulness&filter=all#reviews-n-ratings)中提到：

> “问题是 clamav 病毒数据库被加载到*每个* Apache 进程中。这意味着每个进程的内存使用量已从 ~16MB 跃升至 ~170MB！完全不可接受。但是，我认为如果可以制作该项目，可以推荐”生产“准备就绪”。

有没有办法来解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:46:38.437

一个明显的解决方案是[不在每个 php 实例中加载扩展](http://php.net/manual/en/function.dl.php)。

或者只是通过 popen/exec/...etc 运行扫描仪

在没有详细查看项目的情况下，听起来好像它使用的是独立扫描仪而不是扫描守护进程+轻量级客户端——独立扫描仪在这种情况下没有多大意义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T10:10:26.737

您可以让 clamav 仅在一个 PHP 实例中运行。然后，您可以使用 SysV queue / exec / tcp / http 将要扫描的内容发送到一个实例并返回结果。这样，您还可以跳过加载 clamav 库的初始化惩罚。

# overlay - 如何根据内容调整面板

> ID：10910153
> 
> 赞同：0
> 
> 时间：2012-06-06T07:47:36.690
> 
> 标签：overlay, panel, sencha-touch-2

我正在创建一个包含一些 HTML 内容的面板。我想根据我放在那里的内容来增加面板的大小。我尝试使用`floating:true and overflow:true` ，但没有奏效。

知道如何实现吗？

*这是我的代码：*

```
Ext.define("InfoImage.common.view.actionItems.CommonOverlay",{
    extend : 'Ext.form.Panel',
    requires : [
        // 'InfoImage.view.workItemPanel',
        'Ext.TitleBar', 'Ext.Button' ],
    xtype : 'commonOverlay',
    id : 'commonOverlay',

    config : {
        id : 'aboutPanel',
        layout : 'fit',
        modal : true,
        //floating: true,
        overflow: false,
        hideOnMaskTap : false,
        scrollable : false,
        showAnimation:{
            type:'slide',
            direction:'down',
            duration:250,
            easing:'ease-out'
        },
        hideAnimation:{
            type:'slide',
            direction:'up',
            duration:250,
            easing:'ease-out',
            out:true
        },
        centered : true,
        width : 490,
        height : 100,
        styleHtmlContent : true,
        margin: '-20 -20 -20 -20 ',
        style : 'background-color:#FFF; margin-left:-50px;',
        items : [{
            layout:{
                   type:'vbox'
            },
            items:[
                {
                    xtype : 'panel',
                    scrollable:true,
                    id:'message',
                    style:'background-color:#FFFFFF',
                    height : 250,
                    html : ''
                }, {
                    xtype : 'button',
                    text : 'Continue',
                    id : 'aboutcontbtn',
                    ui : 'action',
                    width : '25%',
                    top: 190,
                    left: 330
                   // centered : true
                   // margin : '130 40 0 0'
                }]
        }]

    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T17:34:37.480

您已经为面板设置了高度：

```
height : 100, 
```

因此，它显然不会根据其内容调整自身大小。

此外，您设置了一个具有适合布局的面板，其中只有一个项目是另一个具有 vbox 布局的面板。不妨将第一个面板的布局设置为 vbox。

希望这可以帮助

# cocos2d-iphone - Cocos2D 父子无交互

> ID：10910155
> 
> 赞同：0
> 
> 时间：2012-06-06T07:48:01.040
> 
> 标签：cocos2d-iphone, parent

我有一个有两个孩子的父母，我想彼此交流。由于某种原因，它不起作用。这是我所拥有的：

家长

```
 GameplayLayer *gameplaylayer = [GameplayLayer node]; // 1
    [self addChild:gameplaylayer z:2 tag:1];

    GameplayLayer2 *gameplaylayer2 = [GameplayLayer2 node]; // 1
    [self addChild:gameplaylayer2 z:20 tag:2]; 
```

孩子

。H

```
#import "GameplayLayer2.h"

@interface GameplayLayer : CCLayer { 
GameplayLayer2* game;
} 
```

.m

```
 game = (GameplayLayer2*)[[self parent] getChildByTag:2]; 
```

但是当我尝试运行一个函数时，`game`它`[game runfun]`不会运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T15:31:55.167

如果这条线...

```
game = (GameplayLayer2*)[[self parent] getChildByTag:2]; 
```

在`GameplayLayer1`的 init 函数中运行，那么它运行得太早了，因为那时你甚至还没有设置你的实例`GameplayLayer2`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T11:52:02.127

检查调试器，在此调用之后

```
game = (GameplayLayer2*)[[self parent] getChildByTag:2]; 
```

游戏实例不是`nil`

# ruby - 压缩文件（使用 Zippy）已损坏

> ID：10910156
> 
> 赞同：0
> 
> 时间：2012-06-06T07:48:15.377
> 
> 标签：ruby, zip

我编写了一个函数来列出特定文件夹中的 PDF 并将它们压缩，但由于某种原因，zip 内容已损坏。

该脚本基本上执行以下操作： a) 创建一个名为 的 zip`$batch_id`文件`$target_dir`。b) 将一个以 命名的 XML 添加`$batch_id(.xml)`到 zip 根目录。c) 将文件夹中找到的所有 PDF 添加`$target_dir/pdf/`到`/pdf/`zip 文件夹中。

结果：zip 已成功创建，可以提取 XML，但 PDF 似乎已损坏（文件非常小，无法打开）。

```
def zip_batch
  puts "Zipping batch..."
  require 'zippy'

  Zippy.create("#{$target_dir}"+"\\"+"#{$batch_id}"+".zip") do |zip|
    zip ["#{$batch_id}"+".xml"] = File.open("#{$target_dir}"+"\\"+"#{$batch_id}"+".xml")
    Dir.glob("#{$target_dir}"+"/pdf/*.pdf").each do |filename|
      puts "   -> Adding "+ filename.gsub("#{$target_dir}"+"/","")
      puts filename
      zip[filename.gsub("#{$target_dir}"+"/","")] = File.open(filename)
    end
  end
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T16:46:04.577

我发现问题是文件没有以二进制模式读取。

这解决了问题：

```
 zip[filename.gsub("#{$target_dir}"+"/","")] = File.open(filename,'rb') 
```

# sqlite - 在 SQLite 3 中启用查询日志记录

> ID：10910157
> 
> 赞同：32
> 
> 时间：2012-06-06T07:48:16.650
> 
> 标签：sqlite, logging

是否有任何内置函数可以在 SQLite 中启用查询日志。

我熟悉[Trace](http://www.sqlite.org/c3ref/profile.html) API，但我想知道是否有任何预定义的函数。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-06-12T17:01:52.897

没有像 MySQL 那样简单的方法来做到这一点，但有一些选择：

**一：**

一些包装库内置了类似的东西。但是要找到一个包装库，您可能首先需要识别目标语言。Perl DBI？Python？C++？

**二：**

我**不会**（以任何方式）推荐以下“生产级”解决方案，但如果您主要是在试验和/或调试，那么您可以尝试在每个事务结束之前检查回滚日志。 [请参阅此处有关回滚日志的信息：http://www.sqlite.org/tempfiles.html](http://www.sqlite.org/tempfiles.html) 如何检测“每个事务的结束”取决于您的代码和/或调试器中的断点。

我必须再次强调：*我刚才提到的完全是 hack-around*，即使提到它我也觉得很脏。

**三：**

您可以在（非常活跃和亲切的）[sqlite 邮件列表中](http://sqlite.org:8080/cgi-bin/mailman/listinfo/sqlite-users)询问，但他们可能只会再次强调 sqlite3_trace。

**...其他随机的事情：**

在有点（几乎没有？）相关的注释中，当您启动“./sqlite3”命令提示符会话时，您可以键入：

```
.explain 
```

这为在提示符处执行的每个查询启用了有趣且有指导意义的详细输出。

**我刚刚找到的更多信息：**

[可以传递给“sqlite3_config()”的标志之一是 SQLITE_CONFIG_LOG。](http://www.sqlite.org/c3ref/c_config_getmalloc.html) 这是另一种方式（除了跟踪 API）设置回调并定期从 sqlite 库接收状态信息。我认为它主要用于错误日志消息。

# c# - 重新定义一个类以添加新功能或找到解决方法

> ID：10910158
> 
> 赞同：2
> 
> 时间：2012-06-06T07:48:31.017
> 
> 标签：c#, wpf, kinect

我想重新定义一个核心wpf API（UIElement）的类，我不想继承一个类。

在 MS Kinect 上的一个项目中，我重新实现了与用户骨骼手部映射的光标。我已经实现了与鼠标抬起的事件类似的事件（输入一个元素，离开一个元素......）。我希望从 UIElement 继承的所有元素都可以获得一些附加属性：

```
 KinectCursorEnter, KinectCursorMove... 
```

和一些属性：

```
 public bool IsKinectLeftCursorOver { get; set; }
    public bool IsKinectLeftCursorDirectlyOver { get; set; }
    public bool IsKinectRightCursorOver { get; set; }
    public bool IsKinectRightCursorDirectlyOver { get; set; }
    public bool IsKinectLeftCursorCaptured { get; set; }
        ... 
```

我知道如果我改变这样的一个类，有很多方法会把事情搞砸，但在这个级别上，我想添加这些属性。（`UIElement`已经实现了诸如...之类的东西`MouseEnter`）`StylusEnter`。Kinect 与其他任何输入设备（鼠标、触控笔、键盘......）一样是一种输入设备

我试过了：

*   要继承 UIElement 并添加功能，但我必须重新实现所有类。

我看了一下：

*   如果有像 Ruby 的开放课程这样的东西
*   如果我可以使用扩展名（[链接](http://msdn.microsoft.com/en-us/library/bb383977.aspx)）
*   如果我可以以任何方式使用适配器模式

到目前为止，我正在使用：

*   一个接口，我重新定义了所有元素：我有一个`KinectButton`继承自`Button`并实现的接口，`IKinectInputElement`但我不能为某些类`sealed`（矩形，椭圆......）

我想我几个月（几年？）MSFT 将在 Wpf API 中实现那些属性和方法。但现在我需要一个方法。

PS：我不想用用户的一只手来控制鼠标。有一只鼠标，我想要两个光标。我有诸如：KinectLeftCursorEnter、KinectRightCursorEnter 等事件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T07:53:58.113

您可以使用[扩展方法](http://msdn.microsoft.com/en-us/library/bb383977.aspx)来扩展类。

# java - 源文件夹不在 Java 构建类路径上，创建 Java 包

> ID：10910160
> 
> 赞同：6
> 
> 时间：2012-06-06T07:48:35.070
> 
> 标签：java, eclipse, class, classpath, package

我正在尝试在排序下创建一个包合并，但它说：

> 源文件夹不在 Java 构建类路径上

![在此处输入图像描述](../Images/a8eed2ede094a5f68bfeacaa14c1d2ff.png)

所以我右键单击排序文件夹，并尝试将其添加到 Java 构建类路径中。但唯一的选项是排除，所以这意味着它应该已经包含在类路径中。 ![在此处输入图像描述](../Images/a0afca098b0ffd11aa21eedbe09ca024.png)

**那么如何在排序下创建包呢？**

编辑：

添加 .classpath ：

```
<?xml version="1.0" encoding="UTF-8"?>
<classpath>
    <classpathentry kind="src" path="src"/>
    <classpathentry kind="con" path="org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.6"/>
    <classpathentry kind="output" path="bin"/>
</classpath> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-06T17:33:11.473

从“src”文件夹本身的上下文菜单中执行此操作。“源文件夹”的**字面**意思是在 Java 构建路径中指定的源文件夹，而不仅仅是恰好包含源的某个文件夹。Name 字段需要实际的、正确的“这是其中的 .java 文件将声明的内容”的限定包名称。如果您只是想在其中创建一个新文件夹然后创建一些新的 .java 文件，您可以使用新建文件夹向导。

编辑：另外，请记住，项目和包资源管理器视图之间的包演示设置（从视图的本地菜单设置 - 倒三角形）可能不同。如果事情看起来与您想要的相反，请根据您的需要进行调整。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-05-27T12:26:33.490

只需右键单击文件夹**src -> 构建路径 -> 使用源文件夹**就是这样

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T09:45:00.440

您是否已经创建了合并包。也许您可以选择 eclipse 不显示空包。如果已创建，只需右键单击 MergeSort.java 文件 > Refactor > Move 并选择排序下的新合并包。这会将文件移动到那里，eclipse 将显示该包。

或者，如果您尚未创建合并包，请执行以下操作：创建一个文件夹（不是包）Algorithms/src/sort/merge。然后在eclipse树中找到它>右键单击它>构建路径>用作源文件夹

顺便提一句。您只在排序包上排除，因为它已经在构建路径上（至少在屏幕截图中）

干杯

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-06T07:55:12.297

只需在您的默认源文件夹中创建一个包并为其命名`sort.merge`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-05-19T05:04:35.453

右键项目->属性->java构建路径->添加需要的源到构建路径

[![在此处输入图像描述](../Images/8f623802021955b7c497adb7373f9c53.png)](https://i.stack.imgur.com/GhRU8.png)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-06T10:02:08.650

Java 包名称约定定义句`.`点标记子文件夹。因此`lorem.ipsum.dolor.sit.amet`将创建一个文件夹结构，如`lorem/ipsum/dolor/sit/amet`. Eclipse 支持这种格式。因此，要创建“子包”，您需要`sort.merge`在您的案例中命名的源文件夹中创建一个包。这将自动创建所需的文件夹结构。

但是你是对的，我从来不明白为什么 Eclipse 不以反映底层文件夹结构的方式显示包结构。也许有人可以阐明该设计决策？

# c - 了解 gcc 优化

> ID：10910164
> 
> 赞同：-2
> 
> 时间：2012-06-06T07:48:46.960
> 
> 标签：c, linux, gcc

我看到了一个我试图理解的令人费解的行为......

示例代码..**请忽略我返回局部变量地址的事实..**

**编辑：我只是以这段代码为例来了解 gcc 的优化行为。我认为此示例代码中的未定义行为不会改变 gcc 的优化逻辑。如果你认为是，请解释。**

```
 #include<stdio.h>
    char *foo() {
        char arr[] = "hello world is here..\n";
        return arr;
    }

    int main() {
        char *ptr;

        ptr = foo();
        printf("0x%x \n", ptr);
        printf("%s", ptr);
    } 
```

在 linux/x86 机器上运行它， main() 中的第一个 printf 确实打印了一个地址。但第二个 printf 不打印任何东西。看起来 gcc 以某种方式优化了数组初始化。

如果我像下面这样更改 foo() ，那么字符串会被正确打印。我知道它是一个未定义的行为。但我只对了解这里的 gcc 优化感兴趣。

```
 char *foo() {
        char arr[] = "hello\n";
        printf("0x%x\n", arr);
        return arr;
    } 
```

在原始代码中， foo 怎么可能返回一个地址，但初始化被优化了？这是汇编代码..我对 x86 汇编不太熟悉.. gcc 在这两种情况下到底在做什么？

```
 .LC0:
                    .string "hello\n"
                    .text
            .globl foo
                    .type   foo, @function
            foo:
            .LFB2:
                    pushq   %rbp
            .LCFI0:
                    movq    %rsp, %rbp
            .LCFI1:
                    movl    .LC0(%rip), %eax
                    movl    %eax, -16(%rbp)
                    movzwl  .LC0+4(%rip), %eax
                    movw    %ax, -12(%rbp)
                    movzbl  .LC0+6(%rip), %eax
                    movb    %al, -10(%rbp)
                    leaq    -16(%rbp), %rax
                    leave
                    ret
            .LFE2: 
```

和 foo() 的汇编代码以及附加的 printf..

```
 .LC0:
                    .string "hello\n"
            .LC1:
                    .string "0x%x\n"
                    .text
            .globl foo
                    .type   foo, @function
            foo:
            .LFB2:
                    pushq   %rbp
            .LCFI0:
                    movq    %rsp, %rbp
            .LCFI1:
                    subq    $16, %rsp
            .LCFI2:
                    movl    .LC0(%rip), %eax
                    movl    %eax, -16(%rbp)
                    movzwl  .LC0+4(%rip), %eax
                    movw    %ax, -12(%rbp)
                    movzbl  .LC0+6(%rip), %eax
                    movb    %al, -10(%rbp)
                    leaq    -16(%rbp), %rsi
                    movl    $.LC1, %edi
                    movl    $0, %eax
                    call    printf
                    leaq    -16(%rbp), %rax
                    leave
                    ret 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T07:53:34.273

`Please ignore that fact that I am returning a local variable address..`

好吧，由于您也在使用函数返回的值，我们不能忽略这一点。C 说你的程序调用了未定义的行为，并且实现有权做任何它想做的事情。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-06T08:17:40.403

发生的事情很容易解释：您告诉编译器将一些数据放入堆栈，返回此地址并再次释放它。所以你有地址，但你没有关于内容的证据。

从函数返回后，您调用`printf()`了两次。首先是输出给定地址的任务，然后是它包含的内容。

在您到达输出点之前，堆栈内容可能（并且显然会）与其他内容混淆。我可以想象`printf()`内部需要一定数量的堆栈并使用它（=写入它），从而破坏您的原始内容。

尽管其他人完全正确地指出上述行为是未定义的，但想知道为什么编译器会以它的行为方式运行并没有什么坏处。

* * *

编辑：在这种情况下，仅查看汇编代码 fpr 是不够的`foo()`。优化还意味着函数调用可以被函数包含的代码替换。自己编译了代码后，这里好像是这样的。foo 的代码仍然包含在目标文件中，但也内联在`main()`. 这使得所述数组成为本地的，`main()`并且一直分配到最后。但正如所说，这只是巧合，没有什么可以依靠的。

汇编代码如下所示：

```
.LC1:
    .string "0x%x \n"
.LC2:
    .string "%s"
    .text
    .p2align 4,,15
.globl main
    .type   main, @function
main:
    pushl   %ebp
    movl    %esp, %ebp
    andl    $-16, %esp
    pushl   %ebx
    subl    $60, %esp
    leal    26(%esp), %ebx
    movl    %ebx, 4(%esp)
    movl    $1819043176, 26(%esp)
    movl    $1952784495, 30(%esp)
    movl    $1696607843, 34(%esp)
    movl    $539911028, 38(%esp)
    movl    $778269797, 42(%esp)
    movw    $10, 46(%esp)
    movl    $.LC0, (%esp)
    call    printf
    movl    %ebx, 4(%esp)
    movl    $.LC1, (%esp)
    call    printf
    movl    %ebx, 4(%esp)
    movl    $.LC2, (%esp)
    call    printf
    addl    $60, %esp
    popl    %ebx
    movl    %ebp, %esp
    popl    %ebp
    ret 
```

`call`在这里你看 -你没有`foo()`; 数据以 4 个字节的块写入堆栈并立即提供给`printf`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:10:30.447

“未定义的行为”意味着编译器维护者不必为这种情况而烦恼。即，编译器在这种情况下所做的完全没有意义。**除了你永远**不应该调用未定义的行为之外，没有什么可以“理解”的。

如果您希望任何人将时间花在您的问题上，请创建一个定义明确的示例。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T09:43:07.000

您如何检查给定代码中的优化。
`return arr`将返回数组的基地址。当这个地址到达 时`main`，所指向的内存`arr`被破坏。在此之后任何事情都可能发生，您可能会遇到段错误，您的程序可能会崩溃。使用未初始化指针时发生的任何事情都可能发生。此代码绝不是检查优化。它可以帮助您理解您在帖子中已经知道的未定义行为！！！！

# c# - 如何管理不同浏览器的自动化 UI 测试代码？

> ID：10910169
> 
> 赞同：0
> 
> 时间：2012-06-06T07:49:00.713
> 
> 标签：c#, selenium, webdriver, automated-tests, selenium-webdriver

我们正在尝试使用 Selenium 进行一些自动化 UI 测试。到目前为止，对于一项功能，我们为 IE、FF、Chrome 编写了至少 3 个测试。

例如，我们为函数编写了 3 个测试： `LoginTestFF`, `LoginTestIE`, 。这样，我们可以在 VS 测试视图中看到 3 个项目，并且可以选择其中一项或全部运行。`LoginTestChrome``login`

感谢 Selenium，每个浏览器的测试代码几乎相同。所以我们不想再重复一遍。

是否可以在 VS 测试视图中看到测试，例如：

```
LoginTestFF
LoginTestIE
LoginTestChrome 
```

但是使用一组测试代码？

我发现 xUnit 中的 [Browser] 属性[应该是 OK](http://www.simple-talk.com/community/blogs/benadderson/archive/2009/09/02/74619.aspx)。

如何为 Visual Studio 测试开发这样的属性？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T09:36:15.770

如果你还想看这三个都是 VS 测试视图，你可以试试这个。（但是如果你有十个不同的浏览器呢？）

```
[TestMethod]
public void LoginTestFF() {
    ExecuteLoginTest();
}

[TestMethod]
public void LoginTestIE() {
    ExecuteLoginTest();
}

[TestMethod]
public void LoginTestChrome() {
    ExecuteLoginTest();
}

public void ExecuteLoginTest() {
    //real test steps
} 
```

如果您只想为所有浏览器重用代码，您可以在 App.config 中定义您想要的浏览器，然后使用 switch case 进行选择。

```
<add key="Browser" value="Chrome"/> 
```

```
IWebDriver driver;
string browser = ConfigurationManager.AppSettings["Browser"];
switch (browser) {
    case "Firefox":
        driver = new FirefoxDriver();
        break;
    case "IE":
        driver = new InterntExplorerDriver();
        break;
    case "Chrome":
        driver = new ChromeDriver();
        break;
    default:
        break;
} 
```

```
// if this test can only be run against FF and Chrome, add test category to it
[TestMethod, TestCategory("Firefox"), TestCategory("Chrome")]
public void LoginTestTest() {
    //real test steps
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T09:09:58.490

我不确定VS的方式。

使用 NUnit，使用参数化测试，这就是将参数传递到测试用例中的想法。因此，您无需使用 LoginFF、LoginIE、LoginChrome，而是使用类似于以下内容的内容：

```
[TestCase(Browser.IE)]
[TestCase(Browser.Firefox)]
[TestCase(Browser.Chrome)]
public void TestLogin(Browser browser)
{
    // test stuff
} 
```

这样就可以为您提供的每个测试用例源属性重复测试 - 这比为每种浏览器类型复制/粘贴您的测试方法要好。

在我的示例中，结合 Resharper、JustCode 或任何 NUnit 测试运行程序，它将在 VS 中显示 3 次测试。

# math - Calculate new position of player

> ID：10910172
> 
> 赞同：1
> 
> 时间：2012-06-06T07:49:17.143
> 
> 标签：math, position

Edit: I will summerize my question since it is very long (Thanks Len for pointing it out)

What I'm trying to find out is to get a new position of a player after an X amount of time. The following variables are known: - Speed - Length between the 2 points - Source position (X, Y) - Destination position (X, Y)

How can I calculate a position between the source and destion with these variables given?

For example:

source: 0, 0 destination: 10, 0 speed: 1

so after 1 second the players position would be 1, 0

The code below works but it's quite long so I'm looking for something shorter/more logical

======================================================================

I'm having a hard time figuring out how to calculate a new position of a player ingame.

This code is server sided used to track a player(It's a emulator so I don't have access to the clients code).

The collision detection of the server works fine I'm using bresenham's line algorithm and a raycast to determine at which point a collision happens.

Once I deteremined the collision I calculate the length of the path the player is about to walk and also the total time.

I would like to know the new position of a player each second.

This is the code I'm currently using. It's in C++ but I am porting the server to C# and I haven't written the code in C# yet.

```
 // Difference between the source X - destination X 
        //and source y - destionation Y
        float xDiff, yDiff;

        xDiff = xDes - xSrc;
        yDiff = yDes - ySrc;

        float walkingLength = 0.00F;

        float NewX = xDiff * xDiff;
        float NewY = yDiff * yDiff;

        walkingLength = NewX + NewY;

        walkingLength = sqrt(walkingLength);

        const float PI = 3.14159265F;
        float Angle = 0.00F;

        if(xDes >= xSrc && yDes >= ySrc)
        {
            Angle = atanf((yDiff / xDiff));
            Angle = Angle * 180 / PI;
        }
        else if(xDes < xSrc && yDes >= ySrc)
        {
            Angle = atanf((-xDiff / yDiff));
            Angle = Angle * 180 / PI;
            Angle += 90.00F;
        }
        else if(xDes < xSrc && yDes < ySrc)
        {
            Angle = atanf((yDiff / xDiff));
            Angle = Angle * 180 / PI;
            Angle += 180.00F;
        }
        else if(xDes >= xSrc && yDes < ySrc)
        {
            Angle = atanf((xDiff / -yDiff));
            Angle = Angle * 180 / PI;
            Angle += 270.00F;
        }

        float WalkingTime = (float)walkingLength / (float)speed;

        bool Done = false;
        float i = 0;
        while(i < walkingLength)
        {
            if(Done == true)
            {
                break;
            }
            if(WalkingTime >= 1000)
            {
                Sleep(1000);
                i += speed;
                WalkTime -= 1000;
            }
            else
            {
                Sleep(WalkTime);
                i += speed * WalkTime;
                WalkTime -= 1000;
                Done = true;
            }

            if(Angle >= 0 && Angle < 90)
            {
                float xNew = cosf(Angle * PI / 180) * i;
                float yNew = sinf(Angle * PI / 180) * i;

                float NewCharacterX = xSrc + xNew;
                float NewCharacterY = ySrc + yNew;
            } 
```

I have cut the last part of the loop since it's just 3 other else if statements with 3 other angle conditions and the only change is the sin and cos.

The given speed parameter is the speed/second.

The code above works but as you can see it's quite long so I'm looking for a new way to calculate this.

btw, don't mind the while loop to calculate each new position I'm going to use a timer in C#

Thank you very much

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T22:35:53.530

Forget the angles. Trigonometry are both code- and time-intensive. You should use vectors instead.

Here is an rewrite of your code:

```
float xDiff = xDes - xSrc;
float yDiff = yDes - ySrc;

// Euclidean distance from source to destination
float walkingLength = sqrt(xDiff * xDiff + yDiff * yDiff);

float WalkingTime = walkingLength / speed;

bool Done = false;
float i = 0;
while(i < walkingLength && !Done)
{
    if(WalkingTime >= 1f)
    {
        Sleep(1000);
        i += speed;
        WalkingTime -= 1f;
    }
    else
    {
        Sleep((int) (WalkingTime * 1000f));
        i += speed * WalkingTime;
        WalkingTime -= 1f;
        Done = true;
    }

    float xNew = xDiff / walkingLength * i;
    float yNew = yDiff / walkingLength * i;

    float NewCharacterX = xSrc + xNew;
    float NewCharacterY = ySrc + yNew;
} 
```

`xDiff / walkingLength` will be the same as `cosf(Angle * PI / 180)` in your code.

# sql - 使用 CTE 时执行 CRUD 操作时对象名称“表”无效

> ID：10910181
> 
> 赞同：3
> 
> 时间：2012-06-06T07:50:12.727
> 
> 标签：sql, sql-server, tsql, crud, common-table-expression

嗨，我目前正在创建 My SP，它根据我的 select 语句给出的结果插入和检测记录。

这是我的示例代码：

```
DECLARE @PickListBatchName varchar(200),
@PartNumber varchar(50),
@QTY int;

SET @PickListBatchName='TEST1';
SET @PartNumber='PN1';
SET @QTY=1;

      --STEP 1 Add Result to TempTable
      With SN as
      (
        SELECT TOP (@QTY) 
           pb.PickListBatchId
           ,pt.PickListTRANId
           ,pt.SerialNumber
           ,pt.Createdby
           ,pt.CreatedDT
FROM PickListTRAN pt 
            LEFT JOIN PickListBatchDetail pdb ON pdb.PickListBatchDetailId=pt.PickListBatchDetailId
            LEFT JOIN PickListBatch pb ON pdb.PickListBatchId=pb.PickListBatchId
where  pb.PickListBatchName=@PickListBatchName AND pdb.PartNumber=@PartNumber
      )

    --STEP 2: INSERT SN TO PicklistTranCancel
    INSERT INTO PickListTRANCancel
   (
   PickListBatchId
   ,SerialNumber
   ,CreatedBy
   ,CreatedDT
   ) 
   (SELECT  
           PickListBatchId,
           SerialNumber,
           Createdby,
           CreatedDT
    FROM SN);

    --STEP 3: DELETE Records on PicklistTran

    DELETE FROM PicklistTran where picklistTranId IN (SELECT PickListTRANId FROM SN) 
```

结果：

```
(1 row(s) affected)
Msg 208, Level 16, State 1, Line 49
Invalid object name 'SN'.  --error on delete statement 
```

在第 3 步，delete 语句无法读取 SN 表。也许我在那部分遗漏了一些东西。

感谢问候

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T07:56:09.670

在您的代码中，CTE 只能在插入语句之前访问。如果您需要访问 CTE 表，请尝试将 CTE 数据填充到 @TempTable 中，然后在您的删除语句中访问它。您可以修改代码以将值存储到临时表中

```
 INSERT INTO PickListTRANCancel

  (
  PickListBatchId
  ,SerialNumber
  ,CreatedBy
  ,CreatedDT
  ) 
Output   Inserted.PickListBatchId,Inserted.SerialNumber,Inserted.CreatedBy,
Inserted.CreatedDT into @TempTable
  (SELECT  
       PickListBatchId,
       SerialNumber,
       Createdby,
       CreatedDT
FROM SN);

   DELETE FROM PicklistTran where picklistTranId IN
   (SELECT PickListTRANId FROM @TempTable) 
```

我还没有验证代码，但是这样你就可以构建你的查询。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T07:56:48.383

CTE 是在单个 SELECT、INSERT、UPDATE、DELETE、MERGE 或 CREATE VIEW 语句的执行范围内定义的临时结果集。- [http://msdn.microsoft.com/en-us/library/ms190766(v=sql.105).aspx](http://msdn.microsoft.com/en-us/library/ms190766(v=sql.105).aspx)

如上所述，CTE 在第二个语句中不再可用，它们仅适用于一个语句。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:17:37.767

感谢@benni_mac_b 和@praveen，这是我尝试过的。我只是用来创建 TempTable 而不是使用 WITH。

```
DECLARE @PickListBatchName varchar(200),
@PartNumber varchar(50),
@QTY int;

SET @PickListBatchName='TEST1';
SET @PartNumber='PN1';
SET @QTY=1;

Declare @MyTable table 
(
     PickListBatchId int,
     PickListTRANId int,
    SerialNumber varchar(50),
    Createdby varchar(50),
    CreatedDT datetime
);

 --STEP 1: insert to temptable 
 INSERT INTO @MyTable
                    (
           PickListBatchId,
           PickListTRANId,
           SerialNumber,
           Createdby,
           CreatedDT
                    )
SELECT TOP (@QTY) 
           pb.PickListBatchId
           ,pt.PickListTRANId
           ,pt.SerialNumber
           ,pt.Createdby
           ,pt.CreatedDT
FROM PickListTRAN pt 
            LEFT JOIN PickListBatchDetail pdb ON pdb.PickListBatchDetailId=pt.PickListBatchDetailId
            LEFT JOIN PickListBatch pb ON pdb.PickListBatchId=pb.PickListBatchId
where  pb.PickListBatchName=@PickListBatchName AND pdb.PartNumber=@PartNumber

    --STEP 2: INSERT SN TO PicklistTranCancel
    INSERT INTO PickListTRANCancel
   (
   PickListBatchId
   ,SerialNumber
   ,CreatedBy
   ,CreatedDT
   ) 
   SELECT  
   PickListBatchId,
   SerialNumber,
   Createdby,
   CreatedDT
   FROM @MyTable

   --STEP 3: DELETE
   DELETE FROM PicklistTran where picklistTranId IN (SELECT PickListTRANId FROM @MyTable) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T09:07:09.697

CTE 范围仅适用于一个语句，您不能使用它两次。您可以使用临时表来存储 CTE 的值

# c# - 点击消息框是否会影响程序输出顺序

> ID：10910182
> 
> 赞同：0
> 
> 时间：2012-06-06T07:50:22.187
> 
> 标签：c#

我正在尝试为记忆游戏编写 C# 代码。我想首先向查看者展示矩阵（包含 3 个元素），然后是每个元素的多个选项，一次突出显示该单元格。用户必须从答案面板中选择正确的元素。显示答案矩阵（定义为任务）执行此操作。如果我在显示答案任务的 for 循环中放置一个消息框，则输出序列（首先显示的每个元素的显示矩阵、显示答案等）工作正常。我在每个答案显示后单击并等待下一个。它工作正常。但是如果我删除消息框（所以不需要点击），程序在答案显示后停止（对于第一个元素）。有人可以帮我吗？相关的代码部分是：

```
Mainform{
......declare number of textboxes and lables...for matrix display
}
 In the Buttonclick from the main form:
{
var firstTask = new Task(() => invokedisplaymatrix(MatrixInfoValues));

var secondTask = firstTask.ContinueWith((t) => invokedisplayblankmatrix(MatrixInfoValues));

var thirdTask = secondTask.ContinueWith((t) =>invokedisplayanswermatrix(MatrixInfoValues));

var fourthTask = thirdTask.ContinueWith((t) => invokedDoselection(MatrixInfoValues));

            firstTask.Start();
}
  private void invokedisplaymatrix(object Minfo1)
        {
            lock (this)
            {
                Invoke(new displaymatrixdelegate(displaymatrix), new object[] { Minfo1 });
                Thread.Sleep(2000);
            }

        }

        private void invokedisplayblankmatrix(object Minfo2)
        {
            lock (this)
            {
                Invoke(new displayblankmatrixdelegate(displayblankmatrix), new object[] { Minfo2 });
            }

        }

        private void invokedisplayanswermatrix(object Minfo3)
        {

            lock (this)
            {
                Invoke(new displayanswermatrixdelegate(displayanswermatrix), new object[] { Minfo3 });
                // Invoke(new displaymatrixdelegate(displaymatrix),new object[] {indx});
            }
        }
..Then in the display answer matrix function:

 public void displayanswermatrix(int[] Minfo3)

        {
 foreach (int ind in FilledTextBoxID2)

            {
                foreach (Control c in splitContainer1.Panel1.Controls)
                {
                    if (c is TextBox && c != null)
                    {
                        if ((boxindexL + 1) == FilledTextBoxID2[j])
                        {
                            c.BackColor = Color.OrangeRed;

                        }
                        else
                        {
                            c.BackColor = Color.MediumSpringGreen;
                        }
                       boxindexL = boxindexL + 1;
                    }

                }

                int AnswerLocation = RandomNumber(1, 5);
                int[] answeroptions=excludenumberfromarray(MatrixValues2[j]); //write a function to make random numbers between 1 and 9 excluding MatrixValues2[j]

                foreach (Control c in splitContainer1.Panel2.Controls)
                {
                    if (c is TextBox)
                    {

                        //c.Text = Convert.ToString(boxindexR);
                            //answeroptions[boxindexR]);
                        if ((boxindexR + 1) == AnswerLocation)
                        {
                            c.Text = Convert.ToString(MatrixValues2[j]); //boxindexR = boxindexR - 1;
                        }
                        else
                        {
                            c.Text = Convert.ToString(answeroptions[boxindexR]);
                        }
                       //
                       //}//placing the required number in the randomly selected box
                       boxindexR = boxindexR + 1;
                    }
                 }

                Thread.Sleep(2000);
               MessageBox.Show("hello after one number");
 j = j + 1;
                boxindexR = 0; boxindexL = 0;
            }//end of first foreach

        }//display answer matrix end 
```

如果我评论消息框，界面会在第一个元素显示后休眠。我可以知道这个错误是怎么来的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T06:20:43.680

在 UI 线程上休眠**绝不**是一个好主意 - 这只是将程序标记为无响应。在您的方法完成之前，UI 无法使自己能够为诸如绘制请求之类的事情提供服务 - 但您的方法（通过反复休眠 2 秒）*不允许这样做*。我怀疑这种`MessageBox`用法是在代码消息循环之外强制重绘，所以：工作，但出于错误的原因工作。

基本上，如果你有延迟和暂停，你不应该用`Sleep`- 你应该使用某种形式的`Timer`. 这将允许您在 2 秒内*获得回调*，而不是休眠 2 秒，但（重要的是）让应用程序在此期间实际响应消息队列 - 即让它自己绘制。

然而！如果您只是切换到 a `Timer`，则无法将这些事情作为延续来执行，因为最初的“开始做事”调用在设置第一张图像时只会持续几毫秒。

`Task`结论：当你只需要一个`Timer`和一个回调 ( `Tick`/ `Elapsed`)时，你已经使用了很多花哨的东西让自己变得聪明：

```
- is there any more of X to do? 
  - yes: do (a single) X
  - no: is there any more of Y to do? 
    - yes: do (a single) Y
    - no: is there any more of Z to do?
      - yes: do (a single) Z
      - no: stop timer 
```

# gwt - 从 GWT 客户端进行跨站点异步 HTTP 发布

> ID：10910185
> 
> 赞同：2
> 
> 时间：2012-06-06T07:50:28.577
> 
> 标签：gwt, asynchronous, httprequest, cross-site

我在一个基于 GWT 的项目中工作，我习惯于单独发出 RPC 请求。我尝试使用 RequestBuilder 创建一个新项目并使用 GWT 客户端发出跨站点请求，但我无法让它工作。

我不太擅长 GWT。所以请谁能告诉我如何创建一个新项目及其设置以及从 GWT 客户端发出跨站点请求的代码（完全删除 RPC 调用）..？

我已经浏览了 google 和 stackoverflow，但没有关于这个主题的完整内容。这对我希望的每一个人都非常有帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:05:07.680

如果您打算只支持[支持 CORS 的浏览器](http://caniuse.com/#feat=cors)（您会注意到，不包括 IE，至少在 IE10 发布之前），那么您可以`RequestBuilder`像往常一样简单地使用 GWT-RPC。
如果您曾经使用自定义请求标头，那么服务器将必须允许客户端应用程序执行这些跨域请求，方法是发送回适当的`Access-Control-Allow-Origin`标头以响应请求（在 CORS 中`OPTIONS`称为*预检请求）。*

如果您想要/需要支持 IE，并且您必须发出`POST`请求，那么您别无选择，只能使用 a`FormPanel`并使用一些技巧将响应传递回客户端（最简单的方法是重定向到同一页面origin 作为 GWT 应用程序，在查询字符串中传递结果）。

如果您可以使用`GET`s 而不是`POST`s，那么您可以使用`JsonpRequestBuilder`（当然也可以调整您的服务器代码以使用 JavaScript 响应）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-19T10:15:54.787

我们可以通过在响应头中设置“访问控制允许来源[http://myexample.com ”来进行跨站点请求。](http://myexample.com)它将使浏览器可以访问响应。更多信息 [https://developer.mozilla.org/en/http_access_control](https://developer.mozilla.org/en/http_access_control)

# django - GAE + Django，上传大文件

> ID：10910186
> 
> 赞同：0
> 
> 时间：2012-06-06T07:50:34.003
> 
> 标签：django, google-app-engine, file-upload

我使用 GAE + Django 1.3 + Cloud SQL。

我以前从未在 GAE 上编写过代码，但我需要部署一个用 Django 编写的已完成项目。为了处理 Django 模型 ( `FileField`, `ImageField`) 中的文件，我使用[https://github.com/fhahn/django-gae-blobstorage](https://github.com/fhahn/django-gae-blobstorage)。

存在一个问题：自定义编辑器（以及 Django 管理员）无法加载大于 ~ 30MB 的文件。快速搜索显示有必要使用 Blobstore ( [https://developers.google.com/appengine/docs/python/blobstore/overview](https://developers.google.com/appengine/docs/python/blobstore/overview) )。

一切看起来都很简单，但要协调 Blobstore 和 Django 模型是不可能的。

我找到了[http://pypi.python.org/pypi/django-rocket-engine](http://pypi.python.org/pypi/django-rocket-engine)。它有解决这个问题的想法，但结果是一样的：`413 Request Entity Too Large`.

PS 我必须使用 GAE，因此不能更改托管服务提供商。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-31T17:24:34.413

[django-rocket-engine 正在使用基于内存的上传，因此您可以在 django settings.py https://docs.djangoproject.com/en/dev/ref/settings/#file-upload-max-memory-](https://docs.djangoproject.com/en/dev/ref/settings/#file-upload-max-memory-size)中尝试使用此设置 [尺寸](https://docs.djangoproject.com/en/dev/ref/settings/#file-upload-max-memory-size)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T14:46:23.623

[django-filetransfers](http://www.allbuttonspressed.com/projects/django-filetransfers)应该允许您将 App Engine blobstore 定位为应用程序文件上传。

# php - 如何在 symfony 1.0.6 中访问当前模块中的其他模块功能？

> ID：10910191
> 
> 赞同：0
> 
> 时间：2012-06-06T07:50:52.600
> 
> 标签：php, function, symfony1, module

我正在使用 symfony 1.0.6，我的目录结构如下：

> 应用程序/前端/模块/新闻/动作/action.class
> 
> 应用程序/jobseeker/module/profile/action/action.class

在求职者应用程序的新闻模块中，我有一个名为函数的函数`Docx2text() { }`，我想在求职者应用程序的配置文件模块中使用它。

如何在不将函数重定位到 Utils 或任何其他静态函数的情况下做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:17:08.837

它们是在同一个应用程序上还是不同的？因为首先你说他们在求职者和前端，然后两者都在求职者中？

我认为在模型操作上使用全局函数不是一个好主意。为什么不能使用静态或将其移动到 Utils 类？

# linux - 如何使用没有 root 权限的 PAM 验证用户名/密码

> ID：10910193
> 
> 赞同：6
> 
> 时间：2012-06-06T07:51:00.587
> 
> 标签：linux, authentication, pam

我有用 C 编写的程序。它需要 2 个参数用户名/密码并尝试使用 PAM 验证该用户。当我是 root 时它工作正常。当我是“普通”用户时，它适用于该用户，但不适用于另一个用户。我认为，这是由于使用影子密码..

作为我正在使用的服务：

```
retval = pam_start("test", username, &local_conversation, &local_auth_handle); 
```

我将此添加到 /etc/pam.d/test

```
#%PAM-1.0
auth    required    pam_unix.so shadow nullok
account required    pam_unix.so
session required    pam_unix.so 
```

请问你能帮帮我吗？非常感谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-14T10:58:37.873

应用程序需要能够读取`/etc/shadow`.

有关执行此操作的一种方法，请参阅[我的帖子](http://vkrejcirik.info/2012/06/09/authentication-in-c-through-pam-in-linux/)。

编辑：从上面的链接添加帖子，以防链接中断

> 我用 C++ 编写了身份验证模块，它允许通过 Linux 中的 PAM 检查用户名/密码（我使用的是 Fedora Linux）。我想和你分享我所做的:-)。所以，我们走吧:-)
> 
> 先决条件：
> 
> ```
> Install package pam-devel
> (This step is necessary when you use shadow password) Create new Linux user and group. Set this group as default for this user. Then 
> ```
> 
> 请按照以下步骤操作：转到 /etc 以 root 身份登录 (su) 将组更改为文件影子的新组 (chgrp new_group shadow) 为该组设置“读取”权限 (chmod 0440 shadow)
> 
> 写下这段代码： (authModule.c) view plaincopy to clipboardprint?
> 
> ```
> #include <stdio.h>  
> #include <security/pam_appl.h>  
> #include <unistd.h>  
> #include <stdlib.h>  
> #include <string.h>  
> 
> struct pam_response *reply;  
> 
> // //function used to get user input  
> int function_conversation(int num_msg, const struct pam_message **msg, struct pam_response **resp, void *appdata_ptr)  
> {  
>     *resp = reply;  
>         return PAM_SUCCESS;  
> }  
> 
> int authenticate_system(const char *username, const char *password)   
> {  
>     const struct pam_conv local_conversation = { function_conversation, NULL };  
>     pam_handle_t *local_auth_handle = NULL; // this gets set by pam_start  
> 
>     int retval;  
>     retval = pam_start("su", username, &local_conversation, &local_auth_handle);  
> 
>     if (retval != PAM_SUCCESS)  
>     {  
>             printf("pam_start returned: %d\n ", retval);  
>             return 0;  
>     }  
> 
>     reply = (struct pam_response *)malloc(sizeof(struct pam_response));  
> 
>     reply[0].resp = strdup(password);  
>     reply[0].resp_retcode = 0;  
>     retval = pam_authenticate(local_auth_handle, 0);  
> 
>     if (retval != PAM_SUCCESS)  
>     {  
>             if (retval == PAM_AUTH_ERR)  
>             {  
>                     printf("Authentication failure.\n");  
>             }  
>             else  
>             {  
>                 printf("pam_authenticate returned %d\n", retval);  
>             }  
>             return 0;  
>     }  
> 
>     printf("Authenticated.\n");  
>     retval = pam_end(local_auth_handle, retval);  
> 
>     if (retval != PAM_SUCCESS)  
>     {  
>             printf("pam_end returned\n");  
>             return 0;  
>     }  
> 
>     return 1;  
> }  
> 
> int main(int argc, char** argv)  
> {  
>     char* login;  
>     char* password;  
> 
>     printf("Authentication module\n");  
> 
>     if (argc != 3)  
>     {  
>         printf("Invalid count of arguments %d.\n", argc);  
>         printf("./authModule <username> <password>");  
>         return 1;  
>     }  
> 
>     login = argv[1];  
>     password = argv[2];  
> 
>     if (authenticate_system(login, password) == 1)  
>     {  
>         printf("Authenticate with %s - %s through system\n", login, password);  
>         return 0;  
>     }     
> 
>     printf("Authentication failed!\n");  
>     return 1;  
> } 
> ```
> 
> 编译代码：
> 
> ```
> gcc -o authModule authModule.c -lpam 
> ```
> 
> 运行代码（作为新用户！）：
> 
> ```
> ./authModule user password 
> ```
> 
> 就这样！！：-） 希望能帮助到你！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-19T13:48:15.337

由于代表太低，我还不能评论 Vladislav 的帖子，但我必须对他的代码说些什么。

**仅**当您不以 root 用户身份运行此代码时，这才有效。当您以 root 身份运行它时，已知用户的**每个**密码都被接受。

有谁知道如何解决这一问题？

**编辑：** 要解决这个问题，你应该使用`sudo`pam 服务而不是`su`服务`pam_start()`

# iphone - Unity3d for I phone 和 iPad 使用什么屏幕尺寸

> ID：10910198
> 
> 赞同：6
> 
> 时间：2012-06-06T07:51:22.927
> 
> 标签：iphone, unity3d

我正在尝试在 unity3d 中为 iPhone、iPad 和 Android 创建游戏。相机从上往下看。我创建了一个具有地面纹理的平面。现在我想放置相机，使游戏区域在 iPhone 上获得全屏。假设 iphone 屏幕的尺寸是 320x480，我将如何计算在 Unity 3d 环境中放置相机和飞机的位置。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-08T03:37:17.300

[将项目构建到 iPhone 后，游戏视图](http://unity3d.com/support/documentation/Manual/Learning%20the%20Interface.html)控制栏的纵横比下拉列表会根据您的构建设置而变化。例如，如果将 iOS 设置为目标，您会发现*iPhone Wide*、*iPhone Tall*等条目。

# java - 为什么调用类的静态变量时会抛出 NoClassDefFoundError？

> ID：10910203
> 
> 赞同：1
> 
> 时间：2012-06-06T07:51:45.873
> 
> 标签：java, noclassdeffounderror, classnotfoundexception

```
try {
  MyClass[] myClass = cProxy.getMyClass();
  return "" + myClass[0];
} catch (Exception e) {
  // nothing to do
}
return "" + MyClass.UNKNOWN; <-- NoClassDefFoundError thrown 
```

我从其他对象获得了 MyClass 对象，我只是想知道为什么而不是 line

```
MyClass[] myClass = cProxy.getMyClass(); 
```

调用 MyClass 类的静态变量“MyClass.UNKNOWN”时是否抛出异常？

NoClassDefFoundError 和 ClassNotFoundException 的深层含义是什么？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:01:18.530

以下是关于这两个异常的 java Docs 的摘录。

**`NoClassDefFoundError:`** 如果 Java 虚拟机或 ClassLoader 实例尝试加载类的定义（作为正常方法调用的一部分或作为使用 new 表达式创建新实例的一部分）并且找不到类的定义，则抛出此异常。搜索到的类定义在编译当前执行的类时已经存在，但无法再找到该定义。

**`ClassNotFoundException :`** 当应用程序尝试使用以下字符串名称加载类时抛出： • Class 类中的 forName 方法。• ClassLoader 类中的 findSystemClass 方法。• ClassLoader 类中的loadClass 方法。但找不到具有指定名称的类的定义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:00:10.363

您在 try catch 块中捕获所有异常。删除try catch，或者在catch中打印异常，使用cProxy.getMyClass()时会看到同样的异常；

捕获所有异常不是一个好习惯！

# objective-c - 如何从根进程监视所有登录用户的进程状态

> ID：10910206
> 
> 赞同：1
> 
> 时间：2012-06-06T07:51:55.063
> 
> 标签：objective-c, cocoa, macos-carbon

我在根进程（守护进程）中使用 Carbon 事件管理器来监视用户进程（我的应用程序）的状态。但我`kEventAppLaunched` 只为用户进程（我的应用程序）获取午餐根进程（守护进程）。如何获取`kEventAppLaunched`所有登录用户中的用户进程。

```
static OSStatus CarbonEventHandler(
                                   EventHandlerCallRef inHandlerCallRef, 
                                   EventRef            inEvent, 
                                   void *              inUserData
                                   )
{
    ProcessSerialNumber psn;
    CFStringRef processName = NULL ;

id lUserData;
if (inUserData) {
    lUserData= (id)inUserData;
}

OSStatus status; 
(void) GetEventParameter(
                         inEvent, 
                         kEventParamProcessID, 
                         typeProcessSerialNumber, 
                         NULL, 
                         sizeof(psn), 
                         NULL, 
                         &psn
                         );
switch ( GetEventKind(inEvent) ) {
    case kEventAppLaunched:

        status =    CopyProcessName(&psn , &processName);
        if (processName != NULL) {

            if([(NSString *)processName isEqualToString:@"myApp"])
            {
                //initialize application

            }

            CFRelease(processName); 
        }

            break;

        default:
            break;
    }
    return noErr;
}
- (void)InstallCarbonEventsForMonitor
{

    static EventHandlerRef sCarbonEventsRef = NULL;
    static const EventTypeSpec kEvents[] = {
        { kEventClassApplication, kEventAppLaunched },
        { kEventClassApplication, kEventAppTerminated }
    };

    if (sCarbonEventsRef == NULL) {
        (void) InstallEventHandler( GetApplicationEventTarget(), (EventHandlerUPP) CarbonEventHandler,
                                   GetEventTypeCount(kEvents),
                                   kEvents,
                                   self,
                                   &sCarbonEventsRef
                                   );

    }

} 
```

# javascript - 如何使用jquery检测div子内容何时更改

> ID：10910210
> 
> 赞同：2
> 
> 时间：2012-06-06T07:52:16.453
> 
> 标签：javascript, jquery, html

我有一些如下代码：

```
<html>
    <body>
        <div id="product_descriptioncontent">
            <input type="text" id="a" />
            <textarea id="b" />
        </div>
    </body>
<html> 
```

这意味着，我的 div 包含输入、文本区域或图像。但我的问题是如何检测 div 中任何子值发生变化时的变化？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:12:01.023

该`onchange`事件仅在元素失去焦点时触发，也就是说，当它`blur`的 s 与`value`它获得时不同`focus`。

我不知道有任何本地侦听器会实时提供此类功能，但您可以尝试使用 jQuery 的[`.data()`](http://api.jquery.com/data/)方法来存储当前值并在标准键盘事件中对其进行检查，例如`keyup`：

```
$('#product_descriptioncontent').children().each(function() {
    $(this).on('keyup', function() {
        if ($(this).data('c_val') != $(this).val()) {
            alert('value changed!');
            //do other stuff
        }
        $(this).data('c_val', $(this).val());
    }).data('c_val', $(this).val());
});​​ 
```

[***JSFiddle***](http://jsfiddle.net/ult_combo/MT4Sb/1/)

请注意，您还可以将 重新映射`keyup`到多个事件以进行额外检查：

```
$(this).on('keyup mouseup blur', function(){ 
```

如果您需要在没有用户输入任何内容的情况下调用它，那么简单地调用`$('#element').keyup()`将触发该元素的函数。`on`=]

请注意，[`.on()`](http://api.jquery.com/on/)jQuery 方法仅在 jQuery 1.7+ 中受支持，对于旧版本，您应该使用[`.live()`](http://api.jquery.com/live/).

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T07:58:33.790

You can do something like this:

```
$('#a, #b').on('change', function() {
   $('#product_descriptioncontent').css('border', '1px solid green')
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:27:42.610

您也可以通过`input`为子元素绑定 HTML5 事件来实现。这对于低于 9 的 IE 版本不起作用，但在这些情况下，您可以使用该`propertychange`事件。下面的代码两者都做，因为 IE9 可以处理两者，我们`propertychange`在 IE9 的情况下取消绑定事件，因为更好地使用标准`input`事件。

```
$(document).ready(function() {
    var propertyChangeUnbound = false;
    $("#product_descriptioncontent").children().bind("propertychange", function(e) {
        if (e.originalEvent.propertyName == "value") {
            alert("Value changed!");
            //do other stuff
        }
    });

    $("#product_descriptioncontent").children().bind("input", function() {
        if (!propertyChangeUnbound) {
            $("#product_descriptioncontent").unbind("propertychange");
            propertyChangeUnbound = true;
        }
        alert("Value changed!");
        //do other stuff
    });
}); 
```

这是一个 jsfiddle 链接：http: [//jsfiddle.net/yNxaW/](http://jsfiddle.net/yNxaW/)

这部分是基于对另一个 stackoverflow 问题的回答：[仅捕获更改输入的按键？](https://stackoverflow.com/questions/6488171/catch-only-keypresses-that-change-input/6490241#6490241)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T07:58:09.653

You can add an `onchange` event listener.

```
<html>
    <body>
        <div id="product_descriptioncontent">
            <input onchange="somefunction(this)" type="text" id="a" />
            <textarea onchange="somefunction(this)" id="b" />
        </div>
    </body>
<html> 
```

# c - 类型 long 与类型 long int

> ID：10910213
> 
> 赞同：4
> 
> 时间：2012-06-06T07:52:26.060
> 
> 标签：c

typedef 之后的含义是什么，为什么需要它

```
typedef unsigned long int ULONG; 
```

有什么不同

```
typedef unsigned long ULONG; 
```

对于 gcc sizeof int = 4、sizeof long = 8 和 sizeof ULONG = 8。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-06T07:54:29.507

他们是一样的。因为默认`long`是an的修饰符，所以可以省略。和、和等也是如此。`int``int``short``short int``unsigned``unsigned int`

这里要理解的基本内容是`long`,`short`和`unsigned`是*类型修饰符*，而不是类型本身，与`int`, `char`,`double`等不同。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T07:54:20.663

根本没有区别。是`long`同义词`long int`（就像）。`short``short int`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-30T17:21:39.057

实际上，`unsigned long`在 C++ 标准 ISO/IEC 14882 中没有定义，因此，如果它对您有用，那只是因为您的编译器`unsigned long int`将`unsigned long`.

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-06T07:56:08.057

long的大小与gcc无关，与os有关

# java - play2 框架我的模板没有看到。: 包views.html 不存在

> ID：10910215
> 
> 赞同：10
> 
> 时间：2012-06-06T07:52:35.773
> 
> 标签：java, model-view-controller, templates, scala, playframework

问题是控制器看不到我要使用的模板：

> [etl_admin] $ compile [info] 将 3 个 Scala 源代码和 4 个 Java 源代码编译到 D:\ECLIPSE_WORKSPACES\play2_apps\etl_admin\target\scala-2.9.1\classes... [错误] D:\ECLIPSE_WORKSPACES\play2_apps\etl_admin\ app\controllers\EtlWorkflowSeqNodeController.java:7: 错误：包views.html.etlworkflowseqnode 不存在[错误] import views.html.etlworkflowseqnode.list; [错误]
> ^ [错误] D:\ECLIPSE_WORKSPACES\play2_apps\etl_admin\app\controllers\EtlWorkflowSeqNodeController.java:14：错误：找不到符号
> 
> [错误] list.render(EtlWorkflowSeqNode.findTree(jobId)) [错误] ^ [错误] 符号：变量列表 [错误]
> 位置：类 EtlWorkflowSeqNodeController [错误] 2 个错误 [错误] {file:/D:/ECLIPSE_WORKSPACES/play2_apps /etl_admin/}etl_admin/compile:compile: javac 返回非零退出代码 [错误] 总时间：7 s，完成 05.06.2012 17:14:44

这是控制器代码：

```
package controllers;

import play.mvc.Controller;
import play.mvc.Result;
import models.EtlWorkflowSeqNode;
import play.db.jpa.Transactional;
import views.html.etlworkflowseqnode.list; /*LINE #7, Eclipse really tells that there is no such package*/

public class EtlWorkflowSeqNodeController  extends Controller {

    @Transactional
    public static Result list(Integer jobId) {
        return ok(
            list.render(EtlWorkflowSeqNode.findTree(jobId))
        );
    }
} 
```

我在我的项目树中附加了一张图片。有这样的包，有一个名为“列表”的模板。 ![我的日食](../Images/1d8cb45aaf1db6f0214db0236c9de897.png) 我做错了什么

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-06T08:12:55.670

天哪，问题太简单了！*classes_managed*（此文件夹保存已编译的 scala 模板）未使用新添加的模板进行更新。我昨天确实尝试调用**play compile**，但没​​有帮助。新包中的新模板未编译。今天早上我打电话给**play clean compile** aaand ......万岁！我确实得到了编译模板和丢失包的问题（不要忘记刷新 Eclipse 项目，强制它从文件系统更新现有项目结构。它喜欢缓存所有内容。）

抱歉打扰了，好像我在阅读文档时没有专心:(

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-08T00:09:39.463

问题是 Eclipse 没有看到 src_managed 文件夹，该文件夹由播放框架动态更新。

转到项目→属性→java构建路径→库（这是一个选项卡）→添加外部类文件夹

然后选择 src_managed 文件夹，它应该在与您的项目相同的目录中的文件夹 target->scala-xxx 中。

这会将 src_managed 添加到您的构建路径中，Eclipse 现在将了解这些模板是有效的。

您可能需要在 play framework 控制台中运行“play clean compile”然后您可能需要在 eclipse 中运行 project -> clean

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-01-15T13:49:46.553

在 Play 2.5 中，我能够通过以下方式解决此问题：

导入视图：

```
import views.html.index; 
```

然后在控制器内部：

```
return ok(index.render("Hello")); 
```

像这样没有复杂问题的东西，奇怪的`return ok(views.html.index.render("Hello")))`是在导入时使用它不起作用然后使用它工作得很好。

当然，这里的所有答案也很有帮助，有时问题只是清理然后编译，但即使这也不是一直真正解决问题，无论您使用的是什么 IDE，我都在使用 CLI 并且也`cannot find symbol`出现错误。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-05-20T10:57:06.737

要解决“包views.html 不存在”：

运行“sbt compile”或“sbt clean compile”。这应该在您的项目中创建一个文件夹结构作为 target\scala xx\twirl\main\views.html

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T08:06:46.133

据我所知，您还没有包名 etlworkflowseqnode！导入列表模板的正确方法应该是这样的：

```
import views.html.list; 
```

或者，如果您要拥有多个视图，则可以使用通配符导入将它们全部导入。

```
import views.html.*; 
```

# asp.net-mvc - 在 MVC 网格视图中显示局部变量

> ID：10910217
> 
> 赞同：0
> 
> 时间：2012-06-06T07:52:45.757
> 
> 标签：asp.net-mvc, gridview, datagridview, grid

我想在不更改模型类的情况下计算视图类中的年龄。

我已经计算了年龄。但它没有显示在网络网格中所以问题是如何在网格中显示变量

```
<%    var age=(DateTime.Today.Year - item.BirthDay.Value.Year);

           @Html.DisplayTextFor(model => age);

      %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-07T06:59:40.623

我没有找到正确的答案。终于想出了解决方案

```
 <%    var age=(DateTime.Today.Year - item.BirthDay.Value.Year);              

      %>
      <%=age  %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:03:17.343

`(model => age)`

这样对吗？年龄不是模型的属性。你应该试试

`@Html.TextBox("tbAge", age);`

问候。

# android - startActivityForResult() 在内存不足的情况下

> ID：10910227
> 
> 赞同：4
> 
> 时间：2012-06-06T07:53:41.643
> 
> 标签：android, memory, cordova, callback, android-camera-intent

我正在开发一个使用相机的 phonegap 应用程序。在内存不足的情况下，当相机启动时，我的应用程序被系统杀死，有时没有调用 onDestroy() 方法（现在我知道只有 onPause() 是有保证的）。

我可以覆盖 onPause() 方法（在 javascript 或 java 中）来存储应用程序状态，并在应用程序重新启动时恢复它。问题是图片文件uri丢失了，我的应用程序无法获取。

当相机返回图片uri并且我的应用程序被杀死时，你知道Android中有什么方法可以调用我的回调函数吗？任何解决方法？

我认为这个问题对于所有使用 startActivityForResult() 的 android 开发都是常见的，但我还没有找到任何解决方案。

提前致谢 ;-）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-14T16:57:16.227

在 startActivity 之前，尝试在已保存的意图上设置一个标志以显示它，而不是杀死并重新启动它：

```
intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); 
```

在这里查看我的帖子：[https ://stackoverflow.com/a/29630548/2782404](https://stackoverflow.com/a/29630548/2782404)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-05T06:25:51.540

我的解决方案是将文件 uri 保存在 SharedPreferences 中并在 onResume 中恢复它。

我遇到了同样的情况：我有一个照片列表，在照片列表中按一个相框会调用android原生相机应用拍照。有时（如 2% 的使用率）从 android 原生相机应用程序返回时，图片并未按预期显示在相框内。我很困惑，无法弄清楚发生了什么。直到我的一位同事在“开发者选项”中设置了“不保留活动”，并且一直遇到该错误，然后我才知道这是活动被杀死的问题。

下面是一些代码来演示我的解决方案：

```
public static class PhotoOnClickListener implements OnClickListener {
            ...
            intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
            activity.fileUri[index] = getOutputMediaFileUri(MEDIA_TYPE_IMAGE, "xxxxxx");
            activity.saveKeyValue("game_photo_list_file_uri_" + index, activity.fileUri[index].toString());
            intent.putExtra(MediaStore.EXTRA_OUTPUT, activity.fileUri[index]);
            activity.startActivityForResult(intent, CAPTURE_IMAGE_ACTIVITY_REQUEST_CODE);
            ...
    }

private void tryRecoverFromBeingKilledOfLowMemory() {
    String s;
    for (int i = 0; i < fileUri.length; i++) {
        s = readKey("game_photo_list_file_uri_" + i);
        if (s != null) {
            fileUri[i] = Uri.parse(s);
            updatePhoto(i);
        }
    }
}

@Override
protected void onResume() {
    super.onResume();

    if (readKey("from_game_main") != null) {
        removeKeysPrefixedBy("game_photo_list");
        removeKey("from_game_main");
        removeKey("uploader_id");
    }

    tryRecoverFromBeingKilledOfLowMemory();
} 
```

在代码中：

1.  readKey、saveKeyValue、removeKey、removeKeysPrefixedBy 继承自 CommonActivity，充当 SharedPrefeneces 的通用操作。
2.  from_game_main 键表示当前恢复正常，应以空照片列表开头。密钥 from_game_main 保存在 GameMainActivity 中的 startActivity 之前。否则，当前的恢复是从被低内存杀死的恢复。

希望能帮助到你。

# php - PHP登录验证在同一页面上？

> ID：10910228
> 
> 赞同：-1
> 
> 时间：2012-06-06T07:53:51.997
> 
> 标签：php, html

谁能解释我如何在同一页面中检查和注册用户名和密码？

如何在表单中回显“错误的用户名和密码”消息？

提前致谢。

**检查登录**

```
$result=mysql_query($sql);
$count=mysql_num_rows($result);

// If result matched $myusername and $mypassword, table row must be 1 row
if($count==1){
  // Register $myusername, $mypassword and redirect to file "login_success.php"
  session_register("myusername");
  session_register("mypassword");
  header("location:login_success.php");
}
else {
  echo "Wrong Username or Password"; 
```

**形式**

```
<form class="clearfix" name="form1" method="POST" action=""> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:00:36.137

将表单操作设置为当前的 .php 文件。在脚本中，检查您是否已经提交了表单（例如提交按钮有一个值`$_POST`）

如果有答案，请继续使用登录代码。如果否，则创建一个新变量，例如`$errorMessage`. 在表单的某处回显此错误消息。（如果这是用户第一次加载脚本，此变量中将没有任何内容，因此它不会显示任何内容。）

如果您将 $errorMessage 的回显放在带有 some `<div>`s 或您想用于此任务的任何内容的 if 语句中，那会更加优雅。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:58:38.040

真正的基础

```
 if(isset($_POST["submit"])){
     // user have submitted the form , proceed checking username/password and then start session
    }else{
     // display login form
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T07:58:48.143

要显示错误，请创建一个变量`$error = "Wrong Username or Password";`

然后在表格底部写下：

```
if(isset($error)) {
    echo $error;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T08:04:07.000

使用`isset`和`isempty`检查返回的数据。

```
if(isset($_POST["formvariable"]))
{ } 
```

也在表单字段中将操作更改为`"currentfilename.php"`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T11:02:09.613

我建议使用 Ajax 方法。最终结果更干净。

# c# - Unity Container：注册两个单例，实现两个接口，其中一个是通用的

> ID：10910237
> 
> 赞同：1
> 
> 时间：2012-06-06T07:54:29.293
> 
> 标签：c#, .net, unity-container, resolve, service-locator

我不知道如何使用 UnityContainer 进行跟踪。

```
interface A { }
interface B { }
interface X { }
class ConcreteAX : A, X { }
class ConcreteBX : B, X { } 
```

我需要注册两个具体类，以便`ServiceLocator.ResolveAll<X>`返回两个实例。在同一时间`Resolve<A>`，`Resolve<B>`也应该工作。此外，**我在注册服务时不能自己实例化它们。**

如果我使用命名注册`X`来进行`ResolveAll`工作，则会创建每个具体类的两个实例。如果我对所有接口使用命名注册，那么`Resolve<A>`并且`Resolve<B>`不起作用。如果我使用[这种](https://stackoverflow.com/questions/1394650/unity-register-two-interfaces-as-one-singleton)方法，那么`ResolveAll`什么都不返回。

如何使用 UnityContainer 解决问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T09:19:52.167

使用`ExternallyControlledLifetimeManager`和`InjectionFactory`解析默认注册进行第二次（命名）注册。例如：

```
unity.RegisterType<A, ConcreteAX>(new ContainerControlledLifetimeManager());
unity.RegisterType<B, ConcreteBX>(new ContainerControlledLifetimeManager());
unity.RegisterType<X, ConcreteAX>("AX", 
    new ExternallyControlledLifetimeManager(), 
    new InjectionFactory(u => u.Resolve<A>()));
unity.RegisterType<X, ConcreteBX>("BX", 
    new ExternallyControlledLifetimeManager(), 
    new InjectionFactory(u => u.Resolve<B>())); 
```

# android - sqliteDatabase.delete 实现

> ID：10910244
> 
> 赞同：0
> 
> 时间：2012-06-06T07:54:54.697
> 
> 标签：android, sqlite, sql-delete

如何“翻译”以下 SQL 语句以使用`sqliteDatabase.delete(...)`-

```
DELETE FROM EVENTS_TB WHERE event_time < some_time 
```

其中长和`event_time`是根据用户的选择计算时间。`some_time``some_time`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:57:30.023

您应该使用实例`delete()`方法。`SQLiteDatabase`

```
sq.delete("<tablename>", "event_time < ?", new String {String.valueOf(some_time)}); 
```

或更清洁的是，当您声明数据库列之类`static final`的字段时

```
static final String KEY_EVENT_TIME = "event_time";
static final String TABLE_NAME = "EVENTS_TB";

sq.delete(TABLE_NAME , KEY_EVENT_TIME + " < ?", new String {String.valueOf(some_time)}); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-06T08:43:24.330

他们来了。它会起作用的

```
public void deleteAdById(int some_time) {
    final SQLiteDatabase db = getWritableDatabase();
    final String whereClause = event_time  + "<?";
    final String[] whereArgs = new String[] { String.valueOf(some_time) };
    db.delete(EVENTS_TB, whereClause, whereArgs);
    db.close();
} 
```

# python - python中用"""..."""代替"..."或'...'有什么用，尤其是在MySQLdb cursor.execute

> ID：10910246
> 
> 赞同：1
> 
> 时间：2012-06-06T07:55:03.033
> 
> 标签：python, sql, string, mysql-python

如果我在 cusror.execute 的 sql 中使用 """..""" 会有区别吗？即使有任何细微的差异，请告诉

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-06T08:07:45.613

它用于将查询拆分为多行以很好地格式化它：

```
db.query("""
    SELECT *
    FROM employee, department 
    WHERE employee.DepartmentID = department.DepartmentID;
""") 
```

在字符串周围使用也`"""..."""`可以让您不转义`"`并`'`进入该字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:56:45.090

不，除了字符串可以包含换行符。

# javascript - 如何强制停止 JavaScript 图像预加载序列（Ariel Flesler 的预加载器）？

> ID：10910254
> 
> 赞同：1
> 
> 时间：2012-06-06T07:55:46.950
> 
> 标签：javascript, jquery, html, image-preloader

假设我在网页上有一个按钮。每当单击该按钮时，某些内容（可以达到 5MB 的完整图像文件列表）会异步预加载，并在加载完成后添加到网页中。

但是，只有在第一个预加载过程完成之前再次单击该按钮，然后再启动第二个，才有意义。我怎样才能实现这种强制停止？

顺便说一句，我正在使用[Ariel Flesler 的基于 jQuery 的图像预加载器](http://flesler.blogspot.ro/2008/01/jquerypreload.html)。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T13:45:20.723

这是奇怪的代码，有 2 个地方图像保持`img`变量和`$preload.cache`数组。

你可以添加这个

```
settings.control(function() {
    imgs = null;
    $preload.cache = [];
}); 
```

它可以在这条线之后

```
 var imgs = $(Array(settings.threshold+1).join('<img/>'))
         .load(handler).error(handler).bind('abort',handler).each(fetch); 
```

你可以将函数传递给 abort

```
var _abort = null;
$('<your button>').click(function() {
    if (_abort) {
        _abort();
    }
    $.preload( '#images img', {
            placeholder:'placeholder.jpg',
            notFound:'notfound.jpg'
            control: function(abort) {
                    _abort = abort;
            }
    });
}); 
```

它应该可以工作，但我不确定它是否会。

# jquery - jQuery 移动页面过渡

> ID：10910261
> 
> 赞同：0
> 
> 时间：2012-06-06T07:56:15.013
> 
> 标签：jquery, html, mobile, jquery-mobile, transition

我在我的应用程序（HTML5 移动应用程序）中使用 jQuery 移动页面转换功能：

```
<a href="test.html" data-transition="slide">abc</a> 
```

页面转换工作正常（幻灯片动画）：

```
<a onclick="document.location.href = 'test.html';" data-transition="slide">abc</a> 
```

页面转换不起作用，它只是导航它不滑动。

我希望页面转换与第二个选项一起使用。
请帮忙

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-07T16:18:26.650

原因是在第一种情况下，JQM 会更改页面。在第二种情况下，您通过更改位置来手动更改页面。使用 ajax 由 jquery 更改的页面获取页面转换。
要将过渡更改为幻灯片，您可以配置默认设置`$.mobile.defaultPageTransition = "slide";`。
使用`$.mobile.changePage()`功能来改变页面。`changePage()`功能将为您进行页面转换。

```
<!-- html -->
<a class="testLink" data-transition="slide">abc</a> 
```

//js

```
$(document).off('pagechange');
$(document).on('pagechange', function (e, ui) {
    // generally written in pagechange event.
    $('.testLink').off();
    $('.testLink').on('click', function (e) {
        $.mobile.changePage('test.html', {
            changeHash: true,
            dataUrl: "test",    //the url fragment that will be displayed for the test.html page
            transition: "slide"  //if not specified used the default one or the one defined in the default settings
        });
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-07T15:35:40.803

文档对象没有位置属性，而窗口对象有。参考： [文档对象](http://www.w3schools.com/jsref/dom_obj_document.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-07T15:36:51.760

这可能是因为 jQuery Mobile`preventDefault()`在跟随链接时使用该方法来启用页面转换。由于您使用的是`onclick`，因此这不是元素的默认操作，而是`click`事件的绑定。

本质上，浏览器在 jQuery 有机会拦截它并制作动画之前被重定向......

正如@Th0mdike 所说，您可以从两个选项中得到完全相同的结果，并且鉴于您可以使用 动态更改`href`锚点的属性`$('a').attr('href', 'new.html')`，我认为后者没有任何好处......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-21T06:50:05.893

添加属性

```
rel="external" 
```

[文档链接](http://jquerymobile.com/demos/1.1.1/docs/pages/page-links.html)

> 这将允许加载外部页面

# c# - 获取 C# 类名称列表？

> ID：10910262
> 
> 赞同：3
> 
> 时间：2012-06-06T07:56:17.153
> 
> 标签：c#, winforms

我正在使用 C# windows 窗体实现语法荧光笔，并想获取所有名称的列表，我知道这应该手动完成，添加关键字和名称，但我想知道 C# 中是否有可以帮助我的函数做这个。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:05:31.203

使用反射。

```
Assembly.GetAssembly(typeof(MyClass)).GetTypes() 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T07:57:59.733

您将不得不使用[反射](http://msdn.microsoft.com/en-us/library/ms173183%28v=vs.80%29.aspx)来获取 dll 中类的名称。

```
// Using Reflection to get information from an Assembly:
System.Reflection.Assembly o = System.Reflection.Assembly.Load("mscorlib.dll");
var types = o.GetTypes(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T09:53:52.930

```
 Assembly asm = Assembly.GetExecutingAssembly();
  List<string> namespaceList = new List<string>();
  List<string> returnList = new List<string>();
  foreach (Type type in asm.GetTypes())
{
    if (type.Namespace == nameSpace)
        namespaceList.Add(type.Name);
}
    foreach (String className in namespaceList)
    returnList.Add(className);
    return returnList; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-06T08:03:19.057

您可以使用反射获取 C#.NET 中所有程序集的列表。

例子 ：

```
Assembly mscorlib = typeof(string).Assembly;
foreach (Type type in mscorlib.GetTypes())
{
    Console.WriteLine(type.FullName);
} 
```

# c# - c# Crystal Reports 13 (2010) 这些将参数传递给报表文档的方法有什么区别

> ID：10910264
> 
> 赞同：0
> 
> 时间：2012-06-06T07:56:32.737
> 
> 标签：c#, methods, parameters, crystal-reports-2010

我一直在使用这种方法将参数传递给 Reports（继承代码）：

```
ParameterValues param0 = new ParameterValues();
param0.AddValue("1");
report.DataDefinition.ParameterFields[0].ApplyCurrentValues(param0); 
```

但是修改代码我看到你可以这样：

```
report.SetParameterValue(0, "1"); 
```

这样我就不必定义 ParameterValues 了……有没有后备方案？这两种方法有什么区别？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T12:56:53.110

我们已经使用第二种方法一段时间了，它似乎不会影响功能或性能......所以我们从现在开始使用它，因为它更短......

# git - gitignore file not working properly

> ID：10910270
> 
> 赞同：2
> 
> 时间：2012-06-06T07:56:51.683
> 
> 标签：git, version-control

I am trying to ignore the .pyc files in my folder and do not want to add them to my repository and i already created the gitignore file.

My gitignore file looks like this:

```
#python specific
*.pyc

##generic files to ignore
*~
*.lock
*.DS_Store
*.swp
*.out 
```

Besides the .pyc file i want to ignore some other basic generic files. But when i type `git add .`, it still adds the .pyc files.

How do i solve this problem?Need some help...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T14:57:49.267

git expects the file to be named `.gitignore`, not `gitignore` (note the period at the start of the file name).

# web-services - Unix Time since Epoch, related to System Time?

> ID：10910275
> 
> 赞同：0
> 
> 时间：2012-06-06T07:57:19.040
> 
> 标签：web-services, security, timestamp

I would like to use the **[Unix Time](http://en.wikipedia.org/wiki/Unix_time)** to avoid replay attacks to my web service. I would like the clients to add this value with the request amongst other security tokens. Then my server would also compute this value and accept what the client sent to me within a given error margin.

Now, my question is this: If i tell my clients that i will accept an error margin of around 200\. Less or greater than.

But can it really ever be greater than ?
Also, does it depend on the system date-time settings of the client sending me the request ?
Also, how do i decide an appropriate error margin so that i do not refuse genuine requests ?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:13:58.953

*但它真的可以大于吗？*

是的！您对客户端时钟一无所知。可能是几分钟或几小时的错误！无论如何，您都不能信任客户端时钟，因此我建议您在服务器端的某种会话中记录时间，然后据此进行计算。

*此外，它是否取决于向我发送请求的客户端的系统日期时间设置？*

是的。您可以使用`Date.getUTCxxx()`JS 中的函数在同一时区获取所有内容，但您不能相信客户端有正确设置的时钟。

*另外，我如何确定适当的误差范围，以便我不会拒绝真正的请求？*

这取决于您的服务。您期望立即得到答复吗？用户应该做一些工作吗？用户是否有可能加载一个页面，然后离开计算机为自己和他的同事冲泡一些美味的全烤咖啡？

# wcf - Improving scalability with WCF services

> ID：10910278
> 
> 赞同：0
> 
> 时间：2012-06-06T07:57:48.663
> 
> 标签：wcf, performance, architecture, scalability

We are thinking about splitting our app into a UI app, and a WCF service layer (which will encompass all other layers; service/data etc...) to allow for various WCF layers to be deployed to improve performance, and scalability.

We are looking to create an application that will scale successfully to around 600-800 users successfully (Constant use) without hampering performance. We ideally would like to be able to deploy a new business layer to increase performance.

Does anyone have any proven scenarios of this working? Or could anyone offer any advice on how I should approach this?

Thanks,

# mysql - Hive count(*) shows one row more than in actual SQL table

> ID：10910294
> 
> 赞同：1
> 
> 时间：2012-06-06T07:59:21.847
> 
> 标签：mysql, hadoop, hive, sqoop

I imported a table from sql using sqoop import using the command sqoop import. On doing a select count(*) from Hive, I'm getting the row count as

231743

But the actual SQL table has 231742 rows.

Why am I getting one row extra for this table?

I imported 2 other similar tables have large amounts of data and am getting the exact count. But this particular table gives me an extra row in hive. Why is that? :-o

PS: I included --hive-drop-import-delims with the sqoop import command

Thanks in advance :)

UPDATE: Seems like I have duplicate entries in the table. It got generated during the import. Anyone has any idea why? :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T05:08:03.537

好的..我已经解决了。

在 sqoop 导入命令中，我没有使用 --table 表名，而是使用了 --query `SELECT * FROM table-name WHERE $CONDITIONS`。那解决了它。

感谢您的意见。

# mysql - MySQL - It is possible to call functions to execute trigger operations?

> ID：10910296
> 
> 赞同：1
> 
> 时间：2012-06-06T07:59:27.790
> 
> 标签：mysql, function, triggers

In my schema I have many tables with common fields that I need to fill. This are basicaly control fields like this ones:

```
id_db_user
date_creation
date_last_update 
```

I have done two triggers to fill this fields:

```
-- Trigger DDL Statements
delimiter |
CREATE TRIGGER control_insert BEFORE INSERT ON EZT_SOCIETIES

  FOR EACH ROW BEGIN

    SET NEW.id_db_user    = current_user;

    SET NEW.date_creation = current_timestamp;

  END;
| delimiter ;

delimiter |
CREATE TRIGGER control_update BEFORE UPDATE ON EZT_SOCIETIES

  FOR EACH ROW BEGIN

    SET NEW.date_last_update = current_timestamp;

  END;
| delimiter ; 
```

My question is: Can I write some function to call the operations inside the trigger? Something like this:

```
function fn_control_insert
    SET NEW.id_db_user    = current_user;
    SET NEW.date_creation = current_timestamp; 
```

and then call this function in the trigger like:

```
delimiter |
CREATE TRIGGER control_insert BEFORE INSERT ON EZT_SOCIETIES

  FOR EACH ROW BEGIN

    call fn_control_insert;

  END;
| delimiter ; 
```

This is possible to do in MySQL?

Best Regards,

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:25:24.227

不，这是不可能的，不幸的是，你也不能将 NEW 和 OLD 作为参数传递，函数参数也不能是 OUT 或 INOUT（即可写），所以简短的回答是否定的。

您可以从触发器调用函数（前提是该函数不违反任何 MySQL 触发器限制，例如修改触发器附加到的表），但您必须将函数传递给每个单独的 NEW 或 OLD 字段需要读取，并且函数将无法写入它们 - 您可以从函数中做的所有事情就是返回一个值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:49:33.030

*   `date_creation`使用“ON UPDATE CURRENT_TIMESTAMP”子句将字段声明为 TIMESTAMP。该字段将使用 INSERT 或 UPDATE 语句中的 CURRENT_TIMESTAMP 值自动更新。更多信息 - [TIMESTAMP 的自动初始化和更新](http://dev.mysql.com/doc/refman/5.5/en/timestamp-initialization.html)。

*   在触发器中设置 NEW.id_db_user 值`control_insert`- `SET NEW.id_db_user = current_user;`。

*   移除`control_update`触发器。

# css - How add "cover"/"shadow" on div?

> ID：10910297
> 
> 赞同：1
> 
> 时间：2012-06-06T07:59:29.023
> 
> 标签：css

I want add "shadow"/"cover" (I'm not sure how to name it) to my div, with css.

cover on:

[http://imageshack.us/photo/my-images/842/shadowon.png/](http://imageshack.us/photo/my-images/842/shadowon.png/)

cover off:

[http://imageshack.us/photo/my-images/502/shadowoff.png/](http://imageshack.us/photo/my-images/502/shadowoff.png/)

I can do it with an additional div using the `background-image` property where a png file with a small opacity is used. But I want solve this issue with css.

It is possible?

Any help would be appreciated.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:10:26.420

我会建议这样的事情：

```
​&lt;div class="image">
    <img src="http://desmond.imageshack.us/Himg502/scaled.php?server=502&filename=shadowoff.png&res=landing">
</div>​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​ 
```

和

```
 .image {background: #000; width: 145px; height: 104px;}
    .image img {-webkit-transition: all 1s;}
    .image:hover img {opacity: 0.8;} 
```

您可以添加一些 CSS3 过渡确实使动画平滑:) [http://jsfiddle.net/pRbfT/1/](http://jsfiddle.net/pRbfT/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:14:58.697

它接缝它是纯色的，因此您可以将透明 div 放在图像顶部。

```
<div class="image_wrapper">
   <div class="cover"/>
   <img src="someimage.png"/>
</div> 
```

并使用这个 CSS

```
.image_wrapper {
   position: relative;
   float: left;
}
.image_wrapper .cover {
   display: none;
   position: absolute;
   width: 100%;
   height: 100%;
   opacity: 0.2;
   background-color: #000;
}
.image_wrapper:hover .cover {
   display: block;
} 
```

在旧 IE 中，将鼠标悬停在非`a`标记上将不起作用，因此您可以使用`a`而不是`div`for`image_wrapper` 如果您想要跨浏览器不透明度，您可以使用它

```
 -khtml-opacity:.20;
  -moz-opacity:.20;
  -ms-filter:”alpha(opacity=20)”;
  filter:alpha(opacity=20);
  filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0.2);
  opacity:.20; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:03:15.607

您可以使用css3属性，即渐变，来实现效果。为了使事情更简单，您可以使用像这样的 css3 生成器：http: [//www.colorzilla.com/gradient-editor/](http://www.colorzilla.com/gradient-editor/) 您还可以使用带有内阴影设置的 box-shadow 来增强效果。

请记住，旧浏览器不支持该功能。

# r - 关于 ChIPpeakAnno 和 makeVennDiagrams

> ID：10910301
> 
> 赞同：0
> 
> 时间：2012-06-06T07:59:52.243
> 
> 标签：r, venn-diagram

我正在使用 ChIPpeakAnno 库中的函数 vennDiagrams，我收到一条奇怪的错误消息...

```
venn=makeVennDiagram(RangedDataList (anna, Anna_TSS),NameOfPeaks = c("peaks","TSS"),maxgap = 100, totalTest = 1000)
Warning message:
In findOverlappingPeaks(Peaks[[1]], Peaks[[2]], NameOfPeaks1 = NameOfPeaks[1],  :
Please use select instead of multiple! 
```

我猜 findOverlappingPeaks 函数在 venndiagrams 的后台运行，但我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-24T19:12:49.637

您可以放心地忽略警告消息。或者，您可以下载最新版本。此外，您可能有兴趣阅读[这篇文章](https://stat.ethz.ch/pipermail/bioconductor/2010-November/036540.html)（用于设置适当的 totalTest）。

# java - 无论我尝试什么，Vaadin Table 都不会更新

> ID：10910302
> 
> 赞同：2
> 
> 时间：2012-06-06T07:59:55.417
> 
> 标签：java, gwt, vaadin

我使用 Vaadin (6.7.4)，这个表**（它在模式窗口上）**不会更新视图。

首先它是用生成的列创建的，但我读到它有表更新问题，所以我切换回普通表，但仍然没有刷新。

Updatedata 由面板上的按钮单击事件调用

```
final Table table = new Table();
final IndexedContainer ic=new IndexedContainer();

public createTable(){
    table.setImmediate(true);   
    table.setEnabled(true); 
    ic.addContainerProperty("Name", String.class,  null);
    ic.addContainerProperty("Edit", Button.class, null);
    ic.addContainerProperty("Delete", Button.class,  null);
    table.setContainerDataSource(ic);
}

public void addItems(Table table) {
    for (String s : createdNames) {
        ic.addItem(s);
        ic.getItem(s).getItemProperty("Name").setValue(s);
        ic.getItem(s).getItemProperty("Edit").setValue("Edit");
        ic.getItem(s).getItemProperty("Delete").setValue("Delete");
    }

}

public void updateData() {      
    IndexedContainer c=(IndexedContainer) table.getContainerDataSource();
    c.removeAllItems();
    c.addItem("myname");
    c.getContainerProperty("myname", "Name").setValue("Mr.X");
    table.setContainerDataSource(c);
    table.refreshRowCache();
    table.requestRepaint();
    System.out.println("see the output but no update on table");
} 
```

编辑：原来问题不在于这段代码，而是这个类被实例化了 2 次，所以我有不同的实例；我正在更新的那个和我看到的那个。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T09:45:53.410

这是一个完整的 Vaadin 应用程序：

```
public class TableTest extends Application {
final Table table = new Table();
final IndexedContainer ic = new IndexedContainer();

@Override
public void init() {
    setMainWindow(new Window("Window"));
    createTable();
    getMainWindow().addComponent(table);
    getMainWindow().addComponent(
            new Button("Click me", new Button.ClickListener() {
                public void buttonClick(ClickEvent event) {
                    updateData();
                }
            }));
}

public void createTable() {
    table.setImmediate(true);
    table.setEnabled(true);
    ic.addContainerProperty("Name", String.class, null);
    ic.addContainerProperty("Edit", Button.class, null);
    ic.addContainerProperty("Delete", Button.class, null);
    table.setContainerDataSource(ic);
}

public void updateData() {
    ic.removeAllItems();
    ic.addItem("myname");
    ic.getContainerProperty("myname", "Name").setValue("Mr.X");
    System.out.println("see the output but no update on table");
}
} 
```

似乎问题出在您的代码中的其他地方。顺便说一句，将来您应该从头开始创建一个全新的应用程序来隔离问题并验证它是否在您认为的位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-11T07:55:22.430

尝试将主窗口更改为静态：

```
public static Window win = new Window("Window");
setMainWindow(win); 
```

这应该会有所帮助。

# iphone - 如何在 UIButton 中实现 addTarget 属性

> ID：10910306
> 
> 赞同：7
> 
> 时间：2012-06-06T08:00:07.837
> 
> 标签：iphone, objective-c, ios, xcode

我有一个函数（例如**function1**），其中有一个按钮和一个名为 auxiliarStruct 的对象，我有那一行：

```
[btn addTarget:self action:@selector(userSelected:) forControlEvents:UIControlEventTouchUpInside]; 
```

但是在@selector(userSelected) 中，我需要将该函数所需的对象作为参数传递，但我不知道如何实现它。我在这里声明了那个对象：

```
//UsersController.h
#import <UIKit/UIKit.h>

@interface UsersController : NSObject{
    NSInteger *prof_id;
    NSString *createTime;
    NSString *fullName;
    NSString *thumb;
}

@property (nonatomic) NSInteger *prof_id;
@property (nonatomic, retain) IBOutlet NSString *createTime;
@property (nonatomic, retain) IBOutlet NSString *fullName;
@property (nonatomic, retain) IBOutlet NSString *thumb;

@end 
```

我有这样声明的被调用函数：

```
-(void)userSelected:(id)sender{
  //CODE
} 
```

我有一个此类的对象，称为 auxiliarStruct ，这就是我需要的。我试过了

```
[btn addTarget:self action:@selector(**userSelected:auxiliarStruct**)forControlEvents:UIControlEventTouchUpInside]; 
```

但它不起作用有人可以帮助我吗？谢谢。

ps：对不起我的英语，我知道这很糟糕

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-06-06T08:11:14.167

您只能将`(UIButton*)`对象作为参数传递给`addTarget @selector`方法。您可以设置 UIButton 标记并将其用于被调用的函数。您可能想找出发送字符串值的任何替代方法。

使用以下代码传递带有按钮的标签：

```
 btn_.tag = 10; 
    [btn_ addTarget:self action:@selector(functionName:) forControlEvents:UIControlEventTouchUpInside]; 
```

按钮操作应如下所示：

```
- (void) functionName:(UIButton *) sender {

    NSLog(@"Tag : %d", sender.tag);

} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T08:48:55.323

不知道能不能给按钮的action加参数，我没遇到过这样的方法。

我们所做的最接近的事情是为按钮选择不同的标签，并根据标签区分操作。

无论如何，这不完全是您问题的答案，但我建议作为替代使用类属性而不是发送参数。例如：

*   您单击按钮，并且要将值“test”发送到您的选择器。而不是发送“测试”，而是将该类属性设置为“测试”，然后在选择器中从那里读取它。我不知道它是否 100% 满足您的需求，但我认为这是一种选择。

你提出了一个有趣的问题。我会尝试调查它以防我有时也需要它，如果我发现任何东西，我会更新我的答案

[编辑] 显然你不是唯一一个问这个问题的人：[如何将参数传递给这个函数？](https://stackoverflow.com/q/450222/855738)在这种情况下，也没有标准解决方案，并且使用了标签。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:14:33.353

该事件将按钮作为参数发送，因此：

```
 -(void)userSelected:(id)sender {

           UIButton *button = sender;
           ...
    } 
```

# android - 如何在 Android 中跟踪消息？

> ID：10910308
> 
> 赞同：6
> 
> 时间：2012-06-06T08:00:12.400
> 
> 标签：android, sms, telephonymanager

我想开发一个跟踪发送/接收短信的应用程序。我的意思是，当用户从其设备发送消息时，应将消息详细信息保存到我提供的表格中。同样，当设备收到任何短信时，也应该将其保存到我提供的表格中。

**请注意，**用户使用 Android 的默认消息应用程序发送消息。我的意思是我没有将我的应用程序与默认消息应用程序集成。我只需要跟踪从该应用程序发送的所有消息，因为 Android 会跟踪其**Message app的****Sent Message**文件夹中的所有已发送消息。

 **我该怎么做？请帮我。我不需要答案，但我需要一些线索来做到这一点。

请不要建议阅读收件箱和发件箱等中的消息。因为我想在用户发送/接收消息时保存消息。不是在发送或接收之后。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-06T08:27:20.000

这很容易通过在您的清单中写入广播接收器来完成：

> 编辑：似乎只适用于 SMS_RECEIVED 看到这个[线程](https://stackoverflow.com/questions/990558/android-broadcast-receiver-for-sent-sms-messages)

```
<receiver android:name=".SMSReceiver"  android:enabled="true">
 <intent-filter android:priority="1000">
      <action android:name="android.provider.Telephony.SMS_RECEIVED"/>
      <action android:name="android.provider.Telephony.SMS_SENT"/>
 </intent-filter>
</receiver> 
```

和许可：

```
<uses-permission android:name="android.permission.RECEIVE_SMS" /> 
```

然后像这样创建接收器：

```
public class SMSReceiver extends BroadcastReceiver {
  @Override
  public void onReceive(Context context, Intent intent) {
       if (intent.getAction().equals("android.provider.Telephony.SMS_RECEIVED")){
    //do something with the received sms        
       }else  if(intent.getAction().equals("android.provider.Telephony.SMS_SENT")){
            //do something with the sended sms
     }
  }
} 
```

处理传入的短信可能如下所示：

```
Bundle extras = intent.getExtras();
Object[] pdus = (Object[]) extras.get("pdus");
for (Object pdu : pdus) {
        SmsMessage msg = SmsMessage.createFromPdu((byte[]) pdu);
        String origin = msg.getOriginatingAddress();
        String body = msg.getMessageBody();
....
} 
```

如果您想防止在 commen InBox 中推送短信，您可以通过以下方式实现：

```
abortBroadcast(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-17T08:56:05.790

请**不要调用**abortBroadcast() 会阻止其他应用接收 SMS_RECEIVED 有序广播。这是不好的行为，这不是 android 的目的。我不明白为什么谷歌甚至让开发人员中止系统意图的广播，如短信。**

# ios - 我怎么能在像 Path 这样的 UIView 中嵌入视频？

> ID：10910309
> 
> 赞同：4
> 
> 时间：2012-06-06T08:00:17.137
> 
> 标签：ios, video, path

[![在此处输入图像描述](../Images/9b61c3831a89464c9859833f7ddb58ce.png)](https://i.stack.imgur.com/qWFOvm.png)

图片是从 Path App 截取的，你可以看到，在表格视图中，有一个视频剪辑，当我点击播放按钮时，视频播放而不会变成全屏。

似乎视频嵌入在表格视图中？

这该怎么做？你能举个例子吗？谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-06T08:12:57.903

取自我的一个项目，只需调整它以满足您的需求：

```
 NSURL *movieUrl = [NSURL fileURLWithPath:moviePath];

    MPMoviePlayerController *player = [[MPMoviePlayerController alloc] initWithContentURL:movieUrl];

    player.view.frame = CGRectMake(0, 0, 690, 370);

    // Here is where you set the control Style like fullscreen or embedded
    player.controlStyle = MPMovieControlStyleDefault;
    //player.controlStyle = MPMovieControlStyleEmbedded;
    //player.controlStyle = MPMovieControlStyleDefault;
    //player.controlStyle = MPMovieControlStyleFullscreen;

    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(movieFinished) name:MPMoviePlayerPlaybackDidFinishNotification object:player];

    UIView *movieBox = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 600, 400)];
    [movieBox setBackgroundColor:[UIColor blackColor]];

    [movieBox addSubview:player.view];
    [self.view addSubview:movieBox];
    player.scalingMode = MPMovieScalingModeAspectFit;

    player.contentURL = movieUrl; 

    [player play]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T09:00:05.233

用于视频播放`HTML5`，`UIWebView`因为初始是海报图像，点击视频根据您的要求开始。

请参阅[此](https://stackoverflow.com/a/17922148/1106035)链接以在 webView 中播放视频。

希望它有帮助！

# java - 将嵌套的 ArrayList 转换为 List Java

> ID：10910312
> 
> 赞同：3
> 
> 时间：2012-06-06T08:00:20.877
> 
> 标签：java, arraylist

我有这个方法

```
public List<List<Stat>> ConvertReportCases (ArrayList<ArrayList<Stat>> stats) 
```

它是一个接口实现，返回类型是 a `List<List<Stat>>`。一般来说，如何从嵌套的 ArrayList 转换为 Java 中的 List？

谢谢

**编辑** 感谢您的建议，我可以让我的参数作为 List 传递，但是由于调用者必须将它作为 List 传递，所以这是错误的，而在我的特定情况下，我可以有不同的版本（多态性）来检查这个问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:32:03.953

## 真的，不需要转换。

如果您无法触摸列表的声明，则应将方法签名更改为此。它使用[通配符](http://docs.oracle.com/javase/tutorial/java/generics/wildcards.html)。

```
public List<? extends List<Stat>> convertReportCases(List<? extends List<Stat>> stats); 
```

* * *

但是，最干净的方法是将方法签名更改为

```
public List<List<Stat>> convertReportCases(List<List<Stat>> stats); 
```

并将列表声明为

```
List<List<Stat>> list = new ArrayList<List<Stat>>();
for (List<Stat> sublist : list) {
    sublist = new ArrayList<Stat>();
} 
```

如果你使用`List`方法，你会没事的，不需要转换。而且由于`ArrayList`is-a`List`并且实际上仅对其`List`方法有用，因此您应该没问题！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:07:16.663

```
public List<List<Stat>> ConvertReportCases (ArrayList<ArrayList<Stat>> stats) {
   List<List<Stat>> newList = new ArrayList<List<Stat>>(stats.size());
   for (ArrayList<Stat> arrayList : stats) {
      newList.add(arrayList);
   }
   return newList;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:07:21.060

您必须遍历第一个列表并转换每个列表。就像是：

```
public List<List<Stat>> ConvertReportCases (ArrayList<ArrayList<Stat>> stats) {
    List<List<Stat>> list = new ArrayList<List<Stat>>();
    for (List<Stat> l : stats) {
        list.add(l);
    }
    return list;
} 
```

由于通用协方差，问题出现了。你可以在[这里](http://www.ibm.com/developerworks/java/library/j-jtp01255/index.html)找到更多。

# asp.net-mvc - 如何在 nop 商务中添加新视图？

> ID：10910314
> 
> 赞同：1
> 
> 时间：2012-06-06T08:00:21.993
> 
> 标签：asp.net-mvc, razor, nopcommerce

我正在进行我的第一个 nopcommerce（2.50 版）应用程序开发。我想在我网站的标题部分列出产品。所以我决定从它的 div 中删除菜单并在该部分中添加产品列表。所以我在 vies 文件夹中创建了一个名为 test 的新视图并像这样调用它

```
<div class="headermenu">
@Html.Action("Test", "Tester")
    </div> 
```

但是当我运行代码时，它会返回一个错误，例如

：System.Web.HttpException：找不到路径“/”的控制器或未实现 IController。

好的，我的问题是这样的

1.  这个错误是因为我没有为我的新视图创建控制器吗？
2.  如果我必须创建一个控制器，我需要使用“带源”包还是不带源包？
3.  如果它没有源，我可以把我的控制器放在哪里？

nopcommerce 网站上没有好的文档，尤其是对于像我这样不熟悉 nopcommerce 和 MVC 的人。任何有关这方面的帮助都会非常有用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T13:34:56.110

已经有插件免费提供。检查[这个](http://www.nopcommerce.com/p/306/nop-categories-header-menu.aspx)

不要浪费时间重新发明轮子，只需修改此插件附带的 javascript。

# android - Android 应用安装后不读取默认设置

> ID：10910319
> 
> 赞同：1
> 
> 时间：2012-06-06T08:00:53.250
> 
> 标签：android, sharedpreferences

我开发了一个具有默认首选项的设置显示的 android 应用程序。像这样的东西：

```
<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">
    <PreferenceCategory
        android:title="Voice settings">
        <CheckBoxPreference
                android:title="Voice"
                android:defaultValue="true"
                android:summary="Enable / disable voice in application"
                android:key="settings_voice" />
    </PreferenceCategory>
</PreferenceScreen> 
```

我从一个活动中使用它：

```
SharedPreferences SP = PreferenceManager.getDefaultSharedPreferences(getBaseContext());
if (SP.getBoolean("settings_voice", true)) {...} 
```

它工作正常，在我去设置显示至少一次之后。 **但是**！**在第一次将应用程序安装到设备后，只要我去（一次）设置显示，这个参数总是得到“假”值。** 完成后，它按预期工作，即使我退出并重新启动程序。它将正确的值存储在首选项中。

对我有什么想法，为什么它的工作如此奇怪？谢谢！！

# android - 启动 Netflix Android 应用程序

> ID：10910321
> 
> 赞同：2
> 
> 时间：2012-06-06T08:01:07.057
> 
> 标签：android, netflix

我正在寻找一种方法来启动 Netflix 应用程序并将其转到 Android 上的特定电影。我有完整的 URL，我什至可以获取电影 ID，但我不确定如何启动 Netflix 应用程序并提供此信息。

对于 iOS 应用程序，有“nflx://www.netflix.com” URL 方案。有人为Android应用做过类似的事情吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-08-11T17:27:22.440

大多数 Netflix 客户端支持各种基于操作的 URL，例如：www.netflix.com/watch/videoId（例如[www.netflix.com/watch/70300800](http://www.netflix.com/watch/70300800)）www.netflix.com/title/videoId（例如 www.netflix.com/title/videoId） [。 netflix.com/title/70300800](http://www.netflix.com/title/70300800)）

Android 应用程序中提供了对这些链接的支持。

但是，这不是官方或公共规范，因此可能会发生变化。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-06T08:12:50.900

你有没有尝试过

```
nflx://www.netflix.com/WiPlayer?movieid=___trkid=___&episodeid=___ 
```

[但请注意，正如一位开发人员所说（ http://developer.netflix.com/forum/read/70098），Netflix](http://developer.netflix.com/forum/read/70098)实际上并不支持外部启动点：

> 目前，我们并未正式支持 Netflix iPad 应用程序的任何外部启动点。如果你自己找出并使用它们，危险在于它们最终可能会消失。

# css - 警告 404 - 获取 /detectfiles/sc/skins/standard/images/blank.gif

> ID：10910324
> 
> 赞同：0
> 
> 时间：2012-06-06T08:01:14.887
> 
> 标签：css, image, smartgwt

我正在使用 gwt-2.4 和 smart-gwt 2.4，我已经从我的 gwt.xml 中注释掉了 standard.css 文件的标签，我没有使用任何主题。

我一直在尝试以编程方式禁用 DynamicForm 中的项目。当我在 Internet Explorer 8 中将任何 TextItem 字段设置为禁用时，项目上方会出现一个小红叉。它似乎正在寻找文件 \sc\skins\standard\images\blank.gif。

在我的控制台上显示以下错误。[警告] 404 - 获取 /detectfiles/sc/skins/standard/images/blank.gif (127.0.0.1) 1432 字节

我的 gwt xml 文件如下：

```
<inherits name='com.google.gwt.user.User'/>
<inherits name='com.google.gwt.widgetideas.WidgetIdeas' /> 
<inherits name='com.google.gwt.libideas.LibIdeas' />
<inherits name="com.smartgwt.SmartGwt"/>  
<inherits name='com.renault.commonparts.commonparts' />
<entry-point class='foo.bar.myentrypointclassname'/> 
```

我的html文件如下：

```
 <!doctype html>
  <html>
      <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <link type="text/css" rel="stylesheet" href="css\detectfiles.css">
       <link type="text/css" rel="stylesheet" href="css\corp.css">
       <link rel="stylesheet" type="text/css" href="css\print.css" media="print" />

       <title>Detect Files</title>

             <script type="text/javascript" language="javascript" src="detectfiles/detectfiles.nocache.js"></script>
         </head>

          <body>

       <iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1'     style="position:absolute;width:0;height:0;border:0"></iframe>

        <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color:   red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
           Your web browser must have JavaScript enabled
            in order for this application to display correctly.
          </div>
         </noscript>

 <table width="100%"><tbody><tr><td>

    <!-- Page Header -->
        <div>somecode</div>
    <!-- /Page Header -->

<div>
<table align="center" class="table" border="0">
 <tr>
     <td>

       <table>
        <tr></tr><tr></tr>
        <tr>
          <td id="dfPage">
          </td>
        </tr>
      </table>
     </td>
    </tr>
          </table>
       <br/>

       </div>
   </td>
     </tr>
    </tbody>
        </table>
  </body>
</html> 
```

在我的代码中，我有以下行：

```
final DynamicForm startForm = new DynamicForm();
startForm.disable(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T13:41:57.917

好的。当我想禁用我通常使用的 SmartGWT 元素时（无法判断与 disable 是否有区别：

```
startForm.setDisabled(true); 
```

不知道这是否重要，但您应该小心使用 HTML 标记（不要忘记结尾的斜杠）。

```
<link type="text/css" rel="stylesheet" href="css\detectfiles.css" />
<link type="text/css" rel="stylesheet" href="css\corp.css" /> 
```

# android - 模拟类属性 Java/Android

> ID：10910331
> 
> 赞同：0
> 
> 时间：2012-06-06T08:02:06.137
> 
> 标签：android, unit-testing, mocking

我有一个由某人编写的类，它将其属性公开为没有 getter/setter。

现在我想使用 Android Mocking 框架来模拟这个类。我不想修改 class_under_test（除非需要）。我知道这是一种不好的编程习惯，但是有没有办法模拟像这样的属性

```
AndroidMock.expect(myMockClass.name).andReturn('Scott'); 
```

运行测试用例时出现异常：

```
java.lang.IllegalStateException: no last call on a mock available
at org.easymock.EasyMock.getControlForLastCall(EasyMock.java:174)
at org.easymock.EasyMock.expect(EasyMock.java:156)
at com.google.android.testing.mocking.AndroidMock.expect(AndroidMock.java:264)
at com.akshat.test.TestPerson.testGetName(TestPerson.java:41)
at java.lang.reflect.Method.invokeNative(Native Method)
at android.test.InstrumentationTestCase.runMethod(InstrumentationTestCase.java:204)
at android.test.InstrumentationTestCase.runTest(InstrumentationTestCase.java:194)
at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:169)
at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:154)
at android.test.InstrumentationTestRunner.onStart(InstrumentationTestRunner.java:529)
at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1448) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-04T18:32:13.397

为类创建一个模拟对象并为属性变量赋值。

```
Mock mock = Mock.create(ClassName.class);
mock.property = value; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T16:43:01.980

Why do you want to mock this class at all? If the only behavior is trivial (i.e. fields), then you can use the class's fields just as they are.

E.g., if setting this up as a stub, do this in your test setup:

```
DependedOnClass dependedOnObject = new DependedOnClass();
dependedOnObject.name = "Scott";
objectUnderTest.dependedOnObject = dependedOnObject;    // inject the depended on object 
```

or if setting this up as a mock, then do this in your assertions:

```
assertEquals("Scott", dependedOnObject.name); 
```

# php - 是否可以使用来自 mssql 和 mysql 的数据创建一个 php 数组？

> ID：10910333
> 
> 赞同：3
> 
> 时间：2012-06-06T08:02:09.753
> 
> 标签：php, mysql, sql-server, sql-server-2008

几乎按照标题 - 我有一个脚本，目前，从最初在 MSSQL 中的 MySQL 中提取数据（另一个脚本从 MSSQL 数据库中提取信息并在 MySQL 中填充一个保存表）

这在某种程度上可以正常工作，但是我现在已经到了可以直接从 MSSQL 数据库和 MySQL 数据库中提取一些信息的阶段。

有没有办法让 PHP 查询 MySQL 和 MSSQL 并在单个数组中返回信息？

例如，如果我关于 10 家苹果商店销售的所有信息都保存在 MySQL 中，而我关于橙子的信息都保存在 MSSQL 中，我可以运行一个数组以显示上个月每家商店售出的苹果和橙子数量吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:05:58.207

是的，但你不会免费得到任何东西。您需要自己编写代码。例如：

```
$all_data = array();

query mysql
while(fetching mysql rows) {
  $all_data[] = the mysql row;
}

query mssql
while(fetching mssql rows) {
  $all_data[] = the mssql row;
} 
```

然后只需通过数组获取数据即可。有多种结构化数据的方法，因此您需要构建一个符合您需求的数组。

PHP 库中有一些用于处理数组的有用工具。我最喜欢的是[array_map](http://php.net/array_map)、[array_filter](http://php.net/array_filter)和[usort](http://php.net/usort)。将此与[匿名函数](http://php.net/manual/en/functions.anonymous.php)结合起来，您就有了构建自己的过滤和排序的坚实基础。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T08:05:04.953

没有什么能阻止您启动两个连接，对每个连接运行查询，然后将结果融合在一起。

当然，您不能执行连接，因为两台服务器无法相互通信以提供最终结果；全取决于你 ：）

此外，总查询执行时间将是两个查询加在一起的时间，除非您使用`mysqli`运行异步查询的闪亮新功能。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T08:08:07.240

首先，建立与 mssql 和 mysql 的连接。获取 mssql 和 mysql 的结果。然后使用`array_combine`合并两个数组得到一个数组。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T08:13:44.117

您可以考虑的一种解决方案是使用[分布式查询](http://msdn.microsoft.com/en-us/library/ms188721%28v=sql.105%29.aspx)。您可以设置从 SQL Server 到 MySQL的[链接服务器](http://msdn.microsoft.com/en-us/library/ms188313%28v=sql.105%29.aspx)[`OPENQUERY()`](http://msdn.microsoft.com/en-us/library/ms188427.aspx)，并使用或类似的方法一起查询两个服务器。通过这样做，您可以在一个查询中直接连接 MySQL 和 MSSQL 表（在 MSSQL 上执行），甚至可以`UPDATE`从 MSSQL 连接 MySQL 表。

但是，链接服务器可能难以配置，并且性能并不总是可预测的，因此您必须仔细测试它是否 a) 性能对您来说足够好并且 b) 与您自己的 PHP 代码相比，维护的工作量更少。

# cassandra - Cassandra 批量插入解决方案

> ID：10910334
> 
> 赞同：5
> 
> 时间：2012-06-06T08:02:13.747
> 
> 标签：cassandra, hector

我有一个作为服务运行的 java 程序，该程序必须插入 50k 行/秒（1 行有 25 列）到 cassandra 集群。

我的集群包含 3 个节点，1 个节点有 4 个 cpu 核心（核心 i5 2.4 ghz），4 GB 内存。

我使用了 Hector api、多线程、批量插入，但性能太低了（大约 25k 行/秒）。

任何人都为此提出了另一种解决方案。是否有 cassandra 支持内部批量插入（不使用 Thrift）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T15:12:01.160

将数据批量插入 Cassandra 的最快方法是**sstableloader**，这是 Cassandra 在 0.8 及更高版本中提供的实用程序。为此，您必须首先创建 sstables，这可以使用**SSTableSimpleUnsortedWriter 进行**更多关于此的描述[here](http://shareitexploreit.blogspot.in/2012/02/cassandra-bulk-loader.html)

另一种更快的方法是用于 hadoop 的 Cassandras BulkoutputFormat。有了它，我们可以编写 Hadoop 作业来将数据加载到 cassandra。查看更多关于这个[bulkload to cassandra with hadoo](http://shareitexploreit.blogspot.in/2012/03/bulkloadto-cassandra-with-hadoop.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T14:28:38.830

我很幸运地创建了 sstables 并直接加载它们。发行版中包含一个**sstableloader** 工具以及一个 JMX 接口。您可以使用*SSTableSimpleUnsortedWriter*类创建 sstables。

详情[在这里](http://www.datastax.com/dev/blog/bulk-loading)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:12:46.037

Astyanax 是 Apache Cassandra 的高级 Java 客户端。Apache Cassandra 是一个高度可用的面向列的数据库。Astyanax 目前在 Netflix 使用。问题通常会尽快修复，并且经常发布。

[https://github.com/Netflix/astyanax](https://github.com/Netflix/astyanax)

# msdeploy - vs 2012中的一键发布：如何删除_ConnectionStringsToInsert？

> ID：10910336
> 
> 赞同：12
> 
> 时间：2012-06-06T08:02:16.337
> 
> 标签：msdeploy, webdeploy, visual-studio-2012, one-click-web-publishing

我通常将我的连接字符串放到一个单独的文件中，在 web.config 中添加类似这样的内容：

```
<connectionStrings configSource="WebConnection.config" /> 
```

我刚刚安装了 VS 2012，它会自动获取我现有的发布设置。但是，当我进行 webpublish 时，它现在自己添加了两个连接字符串，所以我在部署目标上的 web.config 现在看起来像这样：

```
 <connectionStrings configSource="WebConnection.config">
    <add name="EF.Model.DbContext" connectionString="EF.Model.DbContext_ConnectionString" providerName="System.Data.SqlClient" />
    <add name="Migrations.Db.MigrationDb" connectionString="Migrations.Db.MigrationDb_ConnectionString" providerName="System.Data.SqlClient" />
  </connectionStrings> 
```

当然，这会产生错误（使用时节点内容必须为空`configSource`）。我注意到，在新生成的 .pubxml 文件（现在存储发布设置的位置）中有以下几行：

```
 <ItemGroup>
    <_ConnectionStringsToInsert Include="EF.Model.DbContext" />
    <_ConnectionStringsToInsert Include="Migrations.Db.MigrationDb" />
  </ItemGroup> 
```

我怎样才能删除它们？:) 如果我从文件中删除它们，网络发布对话框会在我编辑发布设置时添加它们。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-08T09:22:02.300

我突然通过转到项目属性“打包/发布 Web”并选中标记“包括在 P/P SQL 选项卡中配置的所有数据库”（并且我没有在那里配置任何数据库:)）解决了这个问题。

完成此操作并从 .pubxml 中删除上述行后，一切正常。

看起来像一个黑客，但它是我的一种方式:)

@Sayed，感谢您确认这是一个错误，希望它会得到解决！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-03-17T21:37:34.143

我想出了一个（可能）不那么棘手的解决方案来绕过发布中的错误，该错误强制发现实体框架代码首先数据库上下文具有连接字符串。这仍然是我在 VS 2013 中遇到的问题。

在您的 web.config 中，添加连接字符串的虚拟版本：

```
<add name="DbContextName" connectionString="This is a dummy connection string to bi-pass publish bug." providerName="System.Data.SqlClient" /> 
```

现在，为要为其创建发布包的配置设置转换。[在此处](http://msdn.microsoft.com/en-us/library/dd465318%28v=vs.100%29.aspx)阅读更多相关信息。

在您的 web.config.{configuration} 文件中，使用以下转换删除连接字符串：

```
<connectionStrings>
  <add name="DbContextName" xdt:Transform="Remove" xdt:Locator="Match(name)"/>
</connectionStrings> 
```

此转换在您的 pubxml 中的发布转换运行之后运行，因此它清除了不需要的连接字符串。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T15:23:49.437

在发布配置文件的设置选项卡上，清除**在运行时使用此连接字符串**复选框和**应用代码优先迁移**复选框。确保已启用迁移，否则**使用此连接字符串**框不会保持清除状态，即使如此，您每次打开配置文件时可能都必须再次清除它。

# iphone - 哪个 SDK 适合使用 Twitter Streaming API？

> ID：10910341
> 
> 赞同：1
> 
> 时间：2012-06-06T08:02:46.413
> 
> 标签：iphone, objective-c, api, twitter, streaming

我正在使用 Objective-C 开发 iphone 应用程序。但是，我不知道哪个 SDK 可以提供 Twitter 的流 API（比如从时间轴接收新推文，通知有人喜欢我的推文等）和 OAuth 功能。

有没有这方面的SDK？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:49:05.823

您可以根据您的要求自动执行您的请求。要集成`Twitter`到您的应用程序中，请参阅以下链接：

**概述：**
[iOS Twitter 框架](https://dev.twitter.com/docs/ios)

**集成 Twitter 的第一步：**
[添加 Twitter 框架](https://dev.twitter.com/docs/ios/how-add-twitter-framework-your-ios-project)

**Apple Twitter 框架文档：**
[Twitter 框架参考](http://developer.apple.com/library/ios/ipad/#documentation/Twitter/Reference/TwitterFrameworkReference/_index.html)

**Apple 示例代码：**
[Tweeting](http://developer.apple.com/library/ios/ipad/#samplecode/Tweeting/Introduction/Intro.html#//apple_ref/doc/uid/DTS40011191-Intro-DontLinkElementID_2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T18:04:23.330

您真的在寻找 SDK 吗？您想要类似 Objective-C 类的东西在 Twitter 流 API 中包装数据吗？

它是一种 Web 服务，您实际上并不需要 SDK。阅读[https://dev.twitter.com/docs/streaming-apis](https://dev.twitter.com/docs/streaming-apis)上的文档并相应地发送请求。

熟悉 Cocoa 的网络部分，例如查看本教程：[http ://cocoawithlove.com/2008/09/cocoa-application-driven-by-http-data.html](http://cocoawithlove.com/2008/09/cocoa-application-driven-by-http-data.html)

要解析从 Twitter 的 API 获得的 JSON 数据，您可以使用像 SBJson 这样的解析器：http: [//stig.github.com/json-framework/](http://stig.github.com/json-framework/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T15:57:01.307

一个非常好的适用于 iOS 5 的 Twitter 流媒体框架，带有 TWRequest：

[https ://github.com/stuartkhall/TwitterStreams](https://github.com/stuartkhall/TwitterStreams)

# git - 获取任何合并分支的 git diff

> ID：10910344
> 
> 赞同：12
> 
> 时间：2012-06-06T08:03:00.153
> 
> 标签：git, version-control, merge, branch, diff

对于代码中的每个缺陷，我创建单独的分支。修复缺陷后，我将此分支合并到 master 中，因此我有如下图所示的历史记录（我们看到两个带有修复的分支）：

```
 defect1 fix         defect2 fix
         a---b---c---d           e---f
        /             \         /     \
---o---1---x---y---z---2---o---3---w---4---o--- 
```

问题是如何在任何时间点获取fix1（分支开始（1）和分支结束（2）之间）或fix2（（3）和（4）之间的差异）的差异（例如，对于过去的任何封闭缺陷） .

更新：实际问题是如何计算`a`和`d`或的 SHA 总和`e`并`f`执行下一个明显的 diff 命令`diff <commit> <commit>`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-06T08:05:25.930

答案很简单：

```
git diff 1..d 
```

`defect1 fix`这显示了分支的分支点(ie `1`) 和它的结束 (ie )之间的差异`d`。

为了找到`defect1 fix`分支的开始，使用

```
git merge-base master defect1-fix-branch 
```

如本答案所示：[https](https://stackoverflow.com/a/2458173/520162) ://stackoverflow.com/a/2458173/520162 。
这将`1`根据[`git merge-base`](http://linux.die.net/man/1/git-merge-base).

分支的末端`defect1 fix`仅由其名称标识。所以，找到所有引入的差异`defect1 fix`，你需要做

```
git diff 1..defect1-fix-branch 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-20T13:07:24.463

[注意：这是等价的，如“无法想到不同](https://stackoverflow.com/questions/2539040/not-able-to-think-of-a-case-where-git-diff-master-lab-and-git-diff-master-lab)[的情况`git diff master..lab``git diff master...lab`](https://stackoverflow.com/questions/2539040/not-able-to-think-of-a-case-where-git-diff-master-lab-and-git-diff-master-lab)”中详述的[那样](https://stackoverflow.com/questions/2539040/not-able-to-think-of-a-case-where-git-diff-master-lab-and-git-diff-master-lab)：

```
 git diff master...defect1-fix-branch 
```

> `git diff A...B`相当于`git diff $(git merge-base A B) B`

![git diff 点](../Images/ff7b784dac904df6acb7f3eceba9fe03.png)

（来自“ [git diff 显示不够](https://stackoverflow.com/a/5257065/6309)”）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:05:36.157

关于什么：

```
git diff <commit> <commit> 
```

其中提交参数是实际提交的 SHA 校验和。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-06T09:15:39.337

如果您想查看功能分支引入了哪些更改，在合并后，您只需运行：

```
git diff HEAD^..HEAD 
```

在`master` 树枝上。这显示了 HEAD（合并提交）的第一个父级和 HEAD 之间的差异，有效地显示了整个功能分支合并到主分支中的差异。

无需让事情变得复杂:)

# mysql - 导入时不遵守默认数据库排序规则

> ID：10910350
> 
> 赞同：2
> 
> 时间：2012-06-06T08:04:03.557
> 
> 标签：mysql, phpmyadmin, collation

在我的数据库中，排序规则最初是**utf8_general_ci**。但是，我注意到**utf8_unicode_ci**是必要的，因为它具有更好的排序精度。

因此，我使用 phpmyadmin 导出了所有数据库，并检查了导出的 sql 文件中是否没有出现“COLLATION”一词（在一个设置为二进制的表中只有 2 次除外），所以通常这个脚本与排序规则无关，不应该暗示导入时的任何特定排序规则，但使用数据库默认值。

删除所有表后，数据库排序规则更改为**utf8_unicode_ci**，然后从 phpmyadmin 运行导入脚本。但结果，所有表和所有列都使用**utf8_general_ci**排序规则再次显示（并且排序不正确）。为什么？？以及如何改变它？

PS 导出/导入脚本在开头包含注释行：

```
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */; 
```

不知道导入的时候有没有影响，但是打开mysql控制台后，命令`show variables like 'collation_connection'`显示 COLLATION_CONNECTION 为**cp852_general_ci**。但是，在 phpmyadmin->variables 中，变量 'collat​​ion_connection' 设置为**utf8_general_ci**。但是没有办法改变它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:21:57.537

发生这种情况是因为数据库导出正在为每个表设置字符集，并且这样的子句带有一个默认排序规则，该排序规则取决于字符集，而不是连接的排序规则。utf8_general_ci 是 utf8 的默认排序规则。

如果可以负担得起，您将不得不使用类似的东西转换您的表`ALTER TABLE tablename CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;`或编辑您的数据库导出。

至于 MySQL 控制台：命令行客户端在 Windows 上几乎被破坏了。它永远不会支持、显示或读取 Unicode，并且您将获得该客户端的**每个连接**排序规则，该排序规则与您的区域设置的 Windows 所谓的 OEM 字符集相匹配。这是 Windows 的一个错误功能，在便携式软件中很难解决。PHPMyAdmin 使用网络服务器，不会遇到这个问题。我建议您在任何情况下都使用类似 UNIX 的操作系统（如 GNU/Linux）来进行任何严肃的工作，而不仅仅是因为这个原因。作为一个额外的好处，MySQL、Apache 和您的整个应用程序堆栈在 Linux 上的性能更好。

# sql-server - 在 sql 查询和表名中使用带有重音符号的字符

> ID：10910354
> 
> 赞同：1
> 
> 时间：2012-06-06T08:04:21.640
> 
> 标签：sql-server, odbc, diacritics

我在数据库中使用重音符号（é、è、à）在表名、列名和字段中执行一些 php 和 SQL Server 2005。不幸的是，我不是这个数据库的所有者/创建者，但我同意所有者必须被扇耳光:)。

我使用 ODBC 驱动程序连接到 SQL Server `odbc_connect($dsn,$user,$password)`。

我的问题是每个带有口音的字段都无法识别。例如：尽管有 7000 个名为“Réseau”的字段

```
$query="Select * from dbo.Table where col1= 'Réseau'" 
```

给出 0 个结果 `No rows found`

同样的事情：

```
$query="Select * from [dbo].[Tablé] 
```

给出一个sql错误：

```
Warning: odbc_exec() [function.odbc-exec]: SQL error: [Microsoft][ODBC SQL Server Driver][SQL Server]Object name 'dbo.TablÃ©' not valid., SQL state S0002 in SQLExecDirect in... 
```

而且，可悲的是，我在网上找到的任何提示都没有帮助，例如：

'Réseau' , `Réseau`, [Réseau] , COLLATE SQL_Latin1_General_Cp437_CI_AI/French_CI_AS ...

有关更多信息，我使用的是字符集 UTF-8，我的数据库整理是 French_CI_AS。以上所有查询都可以在 Access 或 Query Tools (Using ODBC) 上完美运行。

*   ****编辑澄清更多****

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-02T08:27:19.290

尝试在您的页面中设置您的语言环境，我发现设置我的语言对所有特殊字符都有帮助：

```
setlocale (LC_ALL, 'nl_BE'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:25:58.550

尝试

```
$q="Select * from DatabaseTable where col1= N'Réseau'" 
```

# smarty - 如何为每个 smarty 模板添加相同的前缀

> ID：10910357
> 
> 赞同：2
> 
> 时间：2012-06-06T08:04:30.017
> 
> 标签：smarty

每次包含 tpl 文件时，系统首先查找文件的特定于站点的版本，如果特定于站点的版本不存在，则回退到标准版本。所以我放的perahps包括“customer/main/test1.tpl”。如果我们的网站是 google，系统将首先查找“customer/main/google_test1.tpl”，如果该文件不存在，则回退到“customer/main/test1.tpl”。

注意：Smarty 2.6.x

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:47:05.780

你知道内置的模板目录级联吗？[addTemplateDir](http://www.smarty.net/docs/en/api.add.template.dir.tpl)和[setTemplateDir](http://www.smarty.net/docs/en/api.set.template.dir.tpl)允许您指定多个目录：

```
$smarty->setTemplateDir(array(
  'google' => 'my-templates/google/',
  'default' => 'my-templates/default/',
));

$smarty->display('foobar.tpl'); 
```

Smarty 会先尝试查找`my-templates/google/foobar.tpl`，如果没有找到再尝试`my-templates/default/foobar.tpl`。使用它，您可以构建完整的模板级联。

* * *

如果您在同一级联级别上有很多元素，那将不会有太大帮助。假设除了 default.tpl 之外，您还有针对 google、yahoo 和 bing 的特定模板。解决方案可能涉及[默认模板处理函数](http://www.smarty.net/docs/en/variable.default.template.handler.func.tpl)。每当 Smarty 遇到它找不到的模板时，作为最后手段执行此回调。它允许您指定一个模板文件（或模板资源）以用作后备。

所以你可以 {include}, {extend}, ->fetch(), ->display() `site_google.tpl`。如果文件存在，一切都很好。如果没有，您的回调可以替换`_google`为`_default`回退到默认模板。

* * *

如果 template_dir 级联和默认模板处理函数似乎都不适用，您将需要深入研究[自定义模板资源](http://www.smarty.net/docs/en/resources.custom.tpl)。

# android - soap 1.2 android 请提供一个有效的肥皂动作

> ID：10910359
> 
> 赞同：5
> 
> 时间：2012-06-06T08:04:46.727
> 
> 标签：android, web-services, soap, ksoap2

我的 .net 网络服务显然正在运行 soap 1.2（通过检查 .wsdl）并且我一直在尝试访问 helloworld 网络服务进行测试，但我遇到了错误。顺便说一句，我试图通过模拟器来做到这一点。

因此，当我使用soap 1.2 版本时，我收到错误消息“无法在没有有效操作参数的情况下处理请求。请提供有效的soap”我想知道我缺少什么以及我应该怎么做。

谢谢！

我已经做过的事情：

*   添加android使用互联网的权限
*   从 Soap 版本 1.1 和 1.2 更改
*   从 SoapObject 更改为 Object（对于 soap 1.1 和 1.2）
*   模拟器使用 10.0.2.2
*   检查地址和方法名称中的拼写错误

我的代码：

```
 private static final String NAMESPACE = "http://localhost/WebService/";
 private static final String URL = "http://10.0.2.2:1672/Eventurous/WsEventurousMobile.asmx";
 private static final String HelloWorld_SOAP_ACTION = "http://localhost/WebService/HelloWorld";
 private static final String METHOD_NAME1 = "HelloWorld";

...
...

public static String GetHelloWorld() {

  SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME1);
  SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(
     SoapEnvelope.VER12);
  envelope.dotNet = true;
  envelope.setOutputSoapObject(request);
  HttpTransportSE androidHttpTransport = new HttpTransportSE(URL,60000);

  try {
   androidHttpTransport.setXmlVersionTag("<?xml version=\"1.0\" encoding=\"utf-8\"?>");
    androidHttpTransport.call(HelloWorld_SOAP_ACTION, envelope);

   SoapObject response = (SoapObject)envelope.getResponse(); 
   String result = response.getProperty(0).toString(); 

   return result;
   } catch (Exception e) {
   return e.toString();
  }

 } 
```

肥皂版本 1.2 的错误

```
Code: soap:Sender, Reason: System.Web.Services.Protocols.SoapException: Unable to handle request without a valid action parameter. Please supply a valid soap action.

 at System.Web.Services.Protocols.Soap12ServerProtocolHelper.RouteRequest()

at System.Web.Services.Protocols.SoapServerProtocol.RouteRequest(SoapServerMessage message)

at System.Web.Services.Protocols.SoapServerProtocol.Initialize()

at System.Web.Services.Protocols.ServerProtocolFactory.Create(Type type, HttpContext context, HttpRequest request, HttpResponse response, Boolean 
```

肥皂版本 1.1 的错误

```
SoapFault - faultcode: 'soap:Client' faultstring: 'System.Web.Services.Protocols.SoapException: Server did not recognize the value of HTTP Header SOAPAction: http://localhost/WebService/HelloWorld.

 at System.Web.Services.Protocols.Soap11ServerProtocolHelper.RouteRequest()

at System.Web.Services.Protocols.SoapServerProtocol.RouteRequest(SoapServerMessage message)

at System.Web.Services.Protocols.SoapServerProtocol.Initialize()

at System.Web.Services.Protocols.ServerProtocolFactory.Create(Type type, HttpContext context, HttpRequest request, HttpResponse response, Boolean& abortProcessing)' faultactor: 'null' detail: org.kxml2.kdom.Node@413c9098 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-12T10:49:47.657

利用 `SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);`

代替

```
SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(
     SoapEnvelope.VER12); 
```

并删除此行`androidHttpTransport.setXmlVersionTag("<?xml version=\"1.0\" encoding=\"utf-8\"?>");`

而不是`SoapObject response = (SoapObject)envelope.getResponse();`

利用`SoapObject response = (SoapObject)envelope.bodyIn;`

它会帮助你。如果仍然出错，请写信给我。

# asp.net - 经典asp中带有实体数据源的aspx页面

> ID：10910360
> 
> 赞同：0
> 
> 时间：2012-06-06T08:04:54.013
> 
> 标签：asp.net, asp-classic

我们在经典的 asp 应用程序中托管了一些 aspx 页面。这些 aspx 页面使用手动代码来构建数据源。有没有办法为此使用 ObjectDataSource ？

尝试它会出现错误：

```
Description: An error occurred during the processing of a configuration file required to service this request. Please review the specific error details below and modify your configuration file appropriately. 

Parser Error Message: The element 'buildProviders' cannot be defined below the application level. 
```

请注意，asp 经典站点作为 IIS 下的虚拟目录托管。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:30:47.100

您收到此消息是因为您没有将目录设置为网络应用程序。

您必须了解asp和asp.net是两种不同的想法。

如果你同时设置两者可以一起工作，如果你只设置一个，另一个不起作用，所以要运行 asp.net，你需要将它分配为 web 应用程序，给一个池，并拥有所有需要的文件和目录来启动.

# objective-c - Apple 的 obj-c 编程指南中关于“id”的混淆

> ID：10910361
> 
> 赞同：0
> 
> 时间：2012-06-06T08:04:58.847
> 
> 标签：objective-c, ios

**id** 在 Objective-C 中，对象标识符是一种不同的数据类型：id。这种类型是任何类型的对象的通用类型，无论类如何，并且可以用于类的实例和类对象本身。

```
id anObject; 
```

到这里它简单明了

* * *

对于 Objective-C 的面向对象构造，例如方法返回值，id 替换 int 作为默认数据类型。（对于严格的 C 构造，例如函数返回值，int 仍然是默认类型。）

不明白它所说的 id 取代 int 是什么？并且在最后一个括号内的 int 仍然是默认值？

* * *

关键字nil被定义为一个空对象，一个值为0的id。id、nil以及Objective-C的其他基本类型在头文件objc/objc.h中定义。

id 被定义为指向对象数据结构的指针：

```
typedef struct objc_object {
    Class isa;
} *id; 
```

以上不是 obj-c 语法它是什么以及它在解释什么？

* * *

因此，每个对象都有一个 isa 变量，告诉它它是什么类的实例。由于 Class 类型本身定义为指针：

```
￼typedef struct objc_class *Class; 
```

isa 变量通常被称为“isa 指针”。</p>

最后一段也没看懂。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:15:53.890

> 对于 Objective-C 的面向对象构造，例如方法返回值，id 替换 int 作为默认数据类型。（对于严格的 C 构造，例如函数返回值，int 仍然是默认类型。）

你的书在这里有点混乱。它只是说，如果您正在使用对象并且您不想变得更具体，那么这`id`是一种很好的数据类型。

> id 被定义为指向对象数据结构的指针：

```
typedef struct objc_object {
    Class isa;
} *id; 
```

> 以上不是 obj-c 语法它是什么以及它在解释什么？

那是对象的内部表示。你的书试图证明一个客观的 C 对象不是魔法：在表面之下它只是一个结构。数据类型`id`是指向这种结构的指针。

> 因此，每个对象都有一个 isa 变量，告诉它它是什么类的实例。由于 Class 类型本身定义为指针：
> 
> `typedef struct objc_class *Class;`
> 
> isa 变量通常被称为“isa 指针”。</p>

在其内部数据结构中，每个对象都有一个指向另一个表示其类的对象的指针。

如果你只是对 Objective-C 编程感兴趣（至少在你学习的时候不需要），你不需要知道这些东西。如果您正在做一些高级的事情，例如当您直接与 Objective-C 运行时交互时，它确实会派上用场。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:09:16.670

> 不明白它所说的 id 取代 int 是什么？

Objective-C 是 C 的超集。

在 C 中，函数必须有返回值。如果未指定返回值，则函数`int`默认返回。

Objective-C 会覆盖 C 的这种默认行为，并`id`从任何未指定其返回值的类方法作为默认值返回。但同时保持其他（C-）函数的默认行为相同（即`int`仍然是其他所有函数的默认返回值）

# asp.net - 从外键表中获取值

> ID：10910370
> 
> 赞同：1
> 
> 时间：2012-06-06T08:05:23.200
> 
> 标签：asp.net, entity-framework

我正在使用实体框架将数据库与我的 asp.net 应用程序连接起来。在这里，我有一个`Foreign key table`有两列的`StaffId and SectionId`. 这里`StaffId`是表的主键，是`Staff`表`SectionId`的主键`Sections`。我在此表中有值，例如

```
StaffId     SectionId
-------     ---------
  1            1
  2            5
  5            8
  1            5
  1            8 
```

在这里我知道`StaffId`并且我需要`SectionIds`为这个相应的员工获取所有信息（例如，这里的员工 1 为 1,5 和 8）。

如果我想通过`First`已知的 StaffId 了解方法的详细信息，我可以这样做，

```
DataObject.Entities dataEntities=new DataObject.Entities();

DataObject.Section section = dataEntities.Sections.First(s=>s.Staffs
                                  .Select(ss=>ss.StaffId).Contains(staffId)); 
```

有了这个我可以得到关于`first section`匹配的信息`StaffId`。（例如：关于 sectionid=1 的信息在这里）

以同样的方式，我试图获取特定人员的所有 sectionId，例如，

```
List<int> sectionIds = dataEntities.Sections.Where(s => s.Staffs.Where
                       (ss => ss.StaffId == staffId)).Select(sec=>sec.SectionId); 
```

但它不起作用，任何人都可以在这里帮助我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T11:56:08.873

> 在这里，我知道 StaffId，我需要获取此相应 Staffid 的所有 SectionId

```
List<int> sectionIds = dataEntities.Sections
    .Where(se => se.Staffs.Any(st => st.StaffId == staffId))
    .Select(se => se.SectionId)
    .ToList(); 
```

# java - 如何使用 Maven 在 Mac OS X 10.7.4 64 位上构建 32 位

> ID：10910374
> 
> 赞同：0
> 
> 时间：2012-06-06T08:05:36.747
> 
> 标签：java, macos, maven

我刚得到一个带有 os OS X Lion 的 Mac BookPro，它预装了 maven 版本

```
#mvn --version
Apache Maven 3.0.3 (r1075438; 2011-02-28 19:31:09+0200)
Maven home: /usr/share/maven
Java version: 1.6.0_31, vendor: Apple Inc.
Java home: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home
Default locale: tr_TR, platform encoding: MacTurkish
OS name: "mac os x", version: "10.7.4", arch: "x86_64", family: "mac" 
```

当我运行一个

```
mvn clean install 
```

maven 以某种方式无法编译。失败的原因之一是：找不到java.lang。

当我检查 java 设置时，我看到有 64 位和 32 位 java 版本。谢谢。

在 Java 属性中：

有两个 Java 实例

Java SE Apple Inc. 64 位 1.6.0_31-b04-415

Java SE Apple Inc. 64 位 1.6.0_31-b04-415

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:09:12.497

首先尝试`HelloWord.java`使用命令行编写和编译它`javac HelloWord.java`。

如果它有效，请转向 Maven。`JAVA_HOME`检查maven 用于查找 java 的环境变量。我相信它指向“错误”的java版本。修复此问题并重试。我希望这会奏效。

# amazon-ec2 - AWS 自动缩放如何工作？（缺少的部分）

> ID：10910375
> 
> 赞同：0
> 
> 时间：2012-06-06T08:05:39.543
> 
> 标签：amazon-ec2, amazon-web-services, autoscaling

当您将实例设置为自动缩放并设置最小和最大限制时，它是否会缩放到最大值，或者是否检查 as 创建的每个实例的阈值，然后生成？

如中，1 个实例触发 90% cpu 使用率的警报 -> AutoScale 再创建 1 个实例（共 2 个）-> *`does it check for 90% cpu usage on both the instances & THEN create new instances or does it create new instances anyway after the cooldown time`*？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-09T07:12:03.997

Auto Scaling 将观察每个实例的平均 CPU 使用率，然后决定是否需要新实例或关闭现有实例。这将确保您只使用（并支付）您需要的东西。

# java - 在服务器中实现长轮询

> ID：10910376
> 
> 赞同：3
> 
> 时间：2012-06-06T08:05:43.327
> 
> 标签：java, javascript, restlet, long-polling

我正在尝试在我的 javascript 客户端和管理 http 请求的服务器上开发一个长轮询。在服务器中，我有一个 restlet 监听请求并处理它们，在客户端我有一个 javascript api，它使用 xmlhttprequest 对象进行 http 调用。

现在我在 js 中有一个延迟 3 秒的 setTimeOut 来轮询服务器，在大多数请求中我什么都没有收到，我想实现一个长轮询。我的问题是，如果我必须在我的服务器中实现长轮询的逻辑，我的 reslet 使用码头，我会实现类似“Thread.sleep”的东西，直到我有任何东西要发送给客户端？或者我在 java 或 restlet 中有本机方法，允许我不需要长时间的实现。

我很感激你的回答！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T11:07:03.607

实际上，我已经使用 java 并发实现了长轮询：java 对象的 wait() 和 notify() 系统。

# lucene - XQuery 全文搜索：元素附近的文本？

> ID：10910377
> 
> 赞同：1
> 
> 时间：2012-06-06T08:05:46.330
> 
> 标签：lucene, full-text-search, xquery, exist-db

我正在使用 Lucene 的 eXist 实现。例如，是否有一个查询可以让我找到`<span>A</span> B`文档中所有出现的 ？即，所有`B`s 出现在 1 个单词内`<span>A</span>`，但没有包含在它们自己的元素中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T12:04:32.290

这个 XPath 应该可以解决问题：

```
//span[. = 'A'][following-sibling::node()[1] = ' B'] 
```

这并没有使用 eXist 的基于 Lucene 的全文索引，但是您还没有说您是否在此处对 span 元素应用了索引。如果挑战还有其他方面，请告诉我。

# android - GridView (+BaseAdapter) 在触摸模式下调用位置 0

> ID：10910378
> 
> 赞同：2
> 
> 时间：2012-06-06T08:05:48.253
> 
> 标签：android, gridview, baseadapter

您好，我用来填充 GridView 的 BaseAdapter 有问题。它经常在每次滚动时调用位置 0。这是 LogCat：

```
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 1
I/GridListAdapter(29826): 2
I/GridListAdapter(29826): 3
I/GridListAdapter(29826): 4
I/GridListAdapter(29826): 5
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 6
I/GridListAdapter(29826): 7
I/GridListAdapter(29826): 8
I/GridListAdapter(29826): 9
I/GridListAdapter(29826): 10
I/GridListAdapter(29826): 11
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 12
I/GridListAdapter(29826): 13
I/GridListAdapter(29826): 14
I/GridListAdapter(29826): 15
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 16
I/GridListAdapter(29826): 17
I/GridListAdapter(29826): 18
I/GridListAdapter(29826): 19
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 20
I/GridListAdapter(29826): 21
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 22
I/GridListAdapter(29826): 23
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 24
I/GridListAdapter(29826): 25
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 26
I/GridListAdapter(29826): 27
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 28
I/GridListAdapter(29826): 29
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 30
I/GridListAdapter(29826): 31
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 32
I/GridListAdapter(29826): 33
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 34
I/GridListAdapter(29826): 35
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 36
I/GridListAdapter(29826): 37
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 38
I/GridListAdapter(29826): 39
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 40
I/GridListAdapter(29826): 41
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 42
I/GridListAdapter(29826): 43
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 44
I/GridListAdapter(29826): 45
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 46
I/GridListAdapter(29826): 47
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 48
I/GridListAdapter(29826): 49
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 50
I/GridListAdapter(29826): 51
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 52
I/GridListAdapter(29826): 53
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 54
I/GridListAdapter(29826): 55
I/GridListAdapter(29826): 56
I/GridListAdapter(29826): 57
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 58
I/GridListAdapter(29826): 59
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 60
I/GridListAdapter(29826): 61
I/GridListAdapter(29826): 62
I/GridListAdapter(29826): 63
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 64
I/GridListAdapter(29826): 65
I/GridListAdapter(29826): 66
I/GridListAdapter(29826): 67
I/GridListAdapter(29826): 68
I/GridListAdapter(29826): 69
I/GridListAdapter(29826): 70
I/GridListAdapter(29826): 71
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 72
I/GridListAdapter(29826): 73
I/GridListAdapter(29826): 74
I/GridListAdapter(29826): 75
I/GridListAdapter(29826): 76
I/GridListAdapter(29826): 77
I/GridListAdapter(29826): 78
I/GridListAdapter(29826): 79
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 80
I/GridListAdapter(29826): 81
I/GridListAdapter(29826): 82
I/GridListAdapter(29826): 83
I/GridListAdapter(29826): 84
I/GridListAdapter(29826): 85
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 86
I/GridListAdapter(29826): 87
I/GridListAdapter(29826): 88
I/GridListAdapter(29826): 89
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 90
I/GridListAdapter(29826): 91
I/GridListAdapter(29826): 92
I/GridListAdapter(29826): 93
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 94
I/GridListAdapter(29826): 95
I/GridListAdapter(29826): 96
I/GridListAdapter(29826): 97
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 98
I/GridListAdapter(29826): 99
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 100
I/GridListAdapter(29826): 0
I/GridListAdapter(29826): 0 
```

我在 getView 方法中使用 ViewHolderPattern ..

非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T09:17:40.310

GridView 很可能会重新测量布局。每次执行此操作时，它将获得第 0 个视图作为废品。发生这种情况的一个常见原因是 GridView 中有 ImageView。更新图像将导致重新计算布局。

# objective-c - 带有复选标记的 UITableViewCell 不可见

> ID：10910387
> 
> 赞同：6
> 
> 时间：2012-06-06T08:06:35.493
> 
> 标签：objective-c, ios, uitableview

我在 PopoverController 中的 UITableView 有问题。当我触摸单元格时，会调用 didSelectRowAtIndexPath 函数，并更改单元格附件类型。简化示例：

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
    UITableViewCell *cell = [self.listItems objectAtIndex:indexPath.row];
    cell.accessoryType = UITableViewCellAccessoryCheckmark;
    [self.tableView reloadData];
    [self.popoverController dismissPopoverAnimated:YES];
} 
```

它正在工作，已检查单元格，但它在我的 tableview 上不可见：我看不到蓝色复选标记。但是，在单元格的触摸状态下，复选标记显示为白色（单元格背景为灰色）。但在默认状态下不可见。

您知道为什么我的复选标记在默认状态下不可见吗？

谢谢，

编辑：添加屏幕截图，用于单元格`accessoryType = UITableViewCellAccessoryCheckmark`

![在此处输入图像描述](../Images/86c053ae0f69f9d7d3da78f9c660a0de.png)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2014-01-08T01:47:10.807

当我将全局色调更改为白色时，这发生在我身上。一旦我意识到，我进入 UITableView 并在本地更改此表的色调颜色。固定的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-22T06:19:49.223

我试过答案 Jacky Boy - 没有帮助。但是在取消选择中有些东西......

因此，我尝试在添加复选标记附件之前取消选择 didSelectRowAtIndexPath: 中的单元格：

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {

   [tableView deselectRowAtIndexPath:indexPath animated:YES];
   UITableViewCell* selectedCell = [tableView cellForRowAtIndexPath:indexPath];

   if (row != _selectedRow) {

       if (selectedCell.accessoryType == UITableViewCellAccessoryNone) {

          selectedCell.accessoryType = UITableViewCellAccessoryCheckmark;
          _selectedRow = row;

       } else if (selectedCell.accessoryType == UITableViewCellAccessoryCheckmark) {

          selectedCell.accessoryType = UITableViewCellAccessoryNone;
       }
       [tableView reloadData];
   } 
```

}

对我来说，它终于奏效了——漂亮的深色复选标记现在在单元格上清晰可见！

当然 cellForRowAtIndexPath: 中有一部分类似于 arexx 的答案中描述的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-21T16:01:02.137

我有一个类似的问题，在重新加载带有复选标记设置为附件的行后，复选标记将不可见（但在选择该行时会以白色显示）。在围绕该问题进行测试时，我发现复选标记始终存在于单元格中，它只是白底白字。

我对这个问题的理解是，当我要求重新加载单元格时（以便我可以用复选标记显示它），现有单元格被放在重用队列中，但当时处于选中状态（因为用户刚刚选择了它）。当单元格从重用队列中返回并且您在 tableView:cellForRowAtIndexPath 中重新配置它时，它仍处于选定状态，并且因为它已被选中，所以附件设置为白色而不是可见颜色。

为了解决这个问题，我在 tableView:cellForRowAtIndexPath 中添加了一行来强制不选择单元格。现在，当显示新单元格时，配件始终可见。

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    // Get a reusable cell - this only works with Storyboard prototype cells 
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"MyCell"];

    // THE MAGIC BIT
    // Force the cell to not be in a selected state.    
    cell.selected = NO;
    // END MAGIC BIT

    if (indexPathIsPathOfSelectedRow) {
         // This is the selected cell, so show the checkmark accessory.
         cell.accessoryType = UITableViewCellAccessoryCheckmark;
    } else {
         // In case we're reusing a cell that previously showed a checkmark, clear it.
         cell.accessoryType = UITableViewCellAccessoryNone;
    }

    return cell;
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-04-07T04:57:43.637

我的理由是最愚蠢的。我在情节提要中创建了一个表格视图，其视图控制器大小为 5.5 英寸，**但忘记应用布局约束**。

然后我在一个 4 英寸的手机上启动，一切看起来都很好，除了附件视图不可见，因为 tableviews 的宽度大于手机屏幕的宽度。我花了 3 个小时才发现我的错误。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-12-19T16:45:30.343

```
-(UIImageView *)checkmarkImg{
    UIImage *image = [[UIImage imageNamed:@"ic_check_black_24dp.png"] changeColor:CLR_BUY];
    UIImageView *checkmark = [[UIImageView alloc] initWithImage:image];
    return  checkmark;
}

        cell.accessoryView = [self checkmarkImg]; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-10-02T07:10:38.720

如果您想重新加载数据，那么您应该将选定的 Id 存储在某个变量中以进行单个选择，例如 rowIndex，然后在

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    //check index
    if (rowIndex==indexPath.row)
        {cell.accessoryType = UITableViewCellAccessoryCheckmark;
        }
        else{
            cell.accessoryType = UITableViewCellAccessoryNone;
        }
} 
```

谢谢。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-06T08:20:06.343

您正在重新加载，`UITableView`因此理论上会重新创建单元格，这次没有复选标记。请执行下列操作：

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
    UITableViewCell *cell = [self.listItems objectAtIndex:indexPath.row];
    cell.accessoryType = UITableViewCellAccessoryCheckmark;
    [self.popoverController dismissPopoverAnimated:YES];
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-05-28T17:28:39.293

在 iOS 6.1 下运行，我看到的行为是一个几乎白色背景上带有白色复选标记的单元格。这似乎正在发生，因为绘制复选标记附件的代码认为单元格处于突出显示状态，因此不是以正常的蓝色绘制复选标记，而是以白色绘制。

设置单元格的选定状态对我不起作用，但在设置附件类型之前立即设置突出显示状态。有了以下内容，我总是得到一个深蓝色的复选标记。

```
cell.highlighted = NO;
if (checked)
    self.accessoryType = UITableViewCellAccessoryCheckmark;
else
    self.accessoryType = UITableViewCellAccessoryNone; 
```

# c# - NHibernate 一对多查询

> ID：10910388
> 
> 赞同：0
> 
> 时间：2012-06-06T08:06:36.967
> 
> 标签：c#, nhibernate, hql

我有一个与 n 个网络域帐户相关的客户实体。

```
Client:
IList<DomainInfo> domainInfo;

DomainInfo:
string domain;
string username; 
```

Client.hbm.xml 的映射包含：

```
<bag name="domainInfo" cascade="all" lazy="false">
  <key column="client"/>
  <one-to-many class="Kardex.CMS.Domain.Model.Client.DomainInfo"/>
</bag> 
```

DomainInfo.hbm.xml 的 mappinf 不包含到客户端的多对一映射。

当我将带有域信息元素的客户端实体插入数据库时​​，一切正常。每个域信息条目都包含映射到正确客户端的“客户端”列。

现在我想查询具有特定网络域和用户名的用户：

```
clients = session.CreateQuery("from Client c where c.domainInfo.username = :winuser and c.domainInfo.domain = :windomain")
    .SetParameter("winuser", "john_doe")
    .SetParameter("windomain", "domain123")
    .List<Client>(); 
```

但我得到一个例外：

```
illegal attempt to dereference collection [client0_.id.domainInfo] with element 
property reference [username] 
```

我也尝试了 INNER JOIN，但后来又遇到了另一个异常：

```
from Client c inner join c.domainInfo d where d.username = :winuser and d.domain = :windomain 
```

投掷

```
Could not execute query[SQL: SQL not available] 
```

我猜这应该是一个简单的任务？这里有什么问题？

先感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T09:18:09.600

修复：

```
select c from Client c left join c.domainInfo d where d.username = :winuser and d.domain = :windomain 
```

# objective-c - 自定义类与字典与结构

> ID：10910393
> 
> 赞同：0
> 
> 时间：2012-06-06T08:06:57.827
> 
> 标签：objective-c, performance

我的程序应该保存、检索和操作大量数据。（大约 200,000 个条目，它们都有大约 20 个条目。）

我想知道我应该如何实现数据：创建自己的类、使用结构或使用 NSDictionary。

整个数据将保存在一个数组中（用于遍历整个数据）。但由于性能很重要（尤其是搜索部分），我想选择最快和最节省的方式。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:10:31.453

具有 sqlite 存储类型的 CoreData 是一种方式。您可以获取部分数据，而无需一次将整个数据读入内存。`NSManagedObject`如果您需要对象的每个实例的自定义行为，这样您就可以生成自定义子类。

# java - 来自源的 Java Parse 类名

> ID：10910400
> 
> 赞同：1
> 
> 时间：2012-06-06T08:07:18.480
> 
> 标签：java, class, parsing

我正在尝试解析类名：

```
public class Script {

} 
```

我现在正在使用正则表达式，但它的效果不如我，我的正则表达式

```
class\s+(.*?)\W 
```

但是，当诸如扩展和实现之类的东西出现时，它就会自我破坏。

我正在制作一个从 pastebin 下载源并自动保存的脚本。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:10:30.460

这可以解决问题：

搜索除空格或括号之外的所有字符 `class\s+([^\s{]+)\s*`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:16:23.640

尝试使用`class\s+(\w*)\s*`

这也将处理类名`class Classname{`后没有空格的情况

# c# - 将“/”更改为“\”[C#]

> ID：10910401
> 
> 赞同：1
> 
> 时间：2012-06-06T08:07:20.113
> 
> 标签：c#

我已经看到了相反的方向。但是这个我抓不到。我正在尝试获取 web resourcePath 的一部分并将其与本地路径结合起来。让我再解释一下。

```
public string GetLocalPath(string URI, string webResourcePath, string folderWatchPath) // get the folderwatcher path to work in the local folder
    {
        string changedPath = webResourcePath.Replace(URI, "");
        string localPathTemp = folderWatchPath + changedPath;
        string localPath = localPathTemp.Replace(@"/",@"\");
        return localPath;
    } 
```

但是，当我这样做时，结果就像

```
C:\\Users 
```

但我想要的是

```
C:\Users 
```

不是“\\”，但我的调试显示它像`C:\\Users`但在控制台中它显示它正如我所期望的那样。想知道原因。。谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-06T08:08:44.470

因为`\\`是转义序列`\`

```
string str  = "C:\\Users"; 
```

和

```
string str  = @"C:\Users"; 
```

后来的一个被称为逐字字符串文字。

对于在代码中组合路径，最好使用[`Path.Combine`](http://msdn.microsoft.com/en-us/library/dd991142.aspx)而不是手动添加`"/"`

你的代码应该像

```
public string GetLocalPath(string URI, string webResourcePath, 
                           string folderWatchPath)
{
    return Path.Combine(folderWatchPath, webResourcePath.Replace(URI, ""));
} 
```

无需替换`/`为，`\`因为 Windows 中的路径名都支持。所以`C:\Users`是一样的`C:/Users`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T08:10:48.993

在 C# 中，在-delimited 字符串`\`中是特殊的。`""`为了获得`\`字符串中的文字，您将其加倍。在字符串`\`中并不特殊，所以and , or and意思完全一样。在您的情况下，调试器显然使用了第二种样式。`@""``@"\"``"\\"``@"C:\Users"``"C:\\Users"`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:10:35.407

我相信调试会显示带有转义字符的字符串，并且要在`\`非逐字（不以.`@``\\`

# visual-studio-2010 - Visual Studio 2010 启动时出现未知错误

> ID：10910406
> 
> 赞同：10
> 
> 时间：2012-06-06T08:07:34.400
> 
> 标签：visual-studio-2010, startup

我正在尝试从我的桌面启动 Visual Studio 2010，但我只是弹出这个错误框，上面写着“未知错误”...

任何人都知道为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-06T08:54:25.510

我刚刚修复了它，我卸载并重新安装了我的 .NET Framework (v4.0) 版本。然后当我再次尝试启动 Visual Studio 时，它启动时没有任何问题。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-06T08:12:17.823

您可以检查以下几点：

*   暂时[停用所有插件](http://msdn.microsoft.com/en-us/library/ms228765%28v=vs.100%29.aspx)
*   暂时[禁用所有扩展](http://msdn.microsoft.com/en-us/library/dd293640.aspx)
*   检查[事件日志是否有任何错误](http://www.devtopics.com/how-to-check-the-application-event-log-for-errors/)
*   [重置您的设置](http://msdn.microsoft.com/en-us/library/ms247075%28v=vs.90%29.aspx)
*   [从 /ResetSkipPkgs 开始](http://msdn.microsoft.com/en-us/library/ms241276%28v=vs.100%29.aspx)

根据您在下面的评论，如果您在打开 VIsual Studio 命令提示符时找不到 DevEnv.exe，我建议您重新安装 Visual Studio，因为它表明您的安装（路径）处于错误状态。

以下是您可能要检查的其他一些事项：
[VS 2010 启动时崩溃并出现“未知错误”](http://connect.microsoft.com/VisualStudio/feedback/details/573132/vs-2010-crashes-on-startup-with-unknown-error)
[Visual Studio 2010 退出工作...现在在启动 Visual Studio 2010 时给我一个“未知错误”对话框](http://connect.microsoft.com/VisualStudio/feedback/details/560858/visual-studio-2010-quit-working-now-gives-me-an-unknown-error-dialogue-when-launched)
[启动错误](http://social.msdn.microsoft.com/Forums/en/vssetup/thread/148afc2e-1468-4b49-8e96-b471b74d9e90)
[Visual Studio 2010 崩溃安装 SP1 后启动时](http://www.blakepell.com/Blog/?p=172)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T08:15:55.050

以管理员权限打开 Visual Studio 命令提示符并键入以下内容，

```
devenv /ResetSkipPkgs 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-08-01T23:29:19.263

这个问题的解决方法很简单。

在另一台机器上安装 VS 2010 并将 HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\VisualStudio\10.0 导出到文件。将文件复制到目标机器并将上面的路径重命名为“.old”，然后双击导出的 reg 文件并等待一段时间......

在此之后，我的 Visual Studio 正常启动。

人们发布的另一种解决方案在我的情况下不起作用。

我希望这会帮助一些身体。

享受

斯文

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-09-05T02:04:47.360

我遇到了同样的问题。我没有完全卸载 .net 框架，而是从我的 Windows 7 Ultimate 电脑的控制面板中提供的修复/卸载选项修复了 .net 框架。最后我得到另一个错误，Visual Studio 无法在我的系统中创建 AppData 文件夹。然后，我右键单击 Visual Studio 图标并选择以管理员身份运行。这对我有用！现在，Visual Studio 2010 正在我的电脑上运行！！如果你想试试这个..

# c++ - iOS：在 Objective-C++ 中定义和使用 C++

> ID：10910408
> 
> 赞同：0
> 
> 时间：2012-06-06T08:07:43.433
> 
> 标签：c++, objective-c, ios, poco-libraries

谁能告诉我如何在 iOS 5.x -> Objective-C++ 中定义和使用[BinaryWriter](https://github.com/openframeworks/openFrameworks/blob/master/libs/poco/include/Poco/BinaryWriter.h)和[BinaryReader](https://github.com/openframeworks/openFrameworks/blob/master/libs/poco/include/Poco/BinaryReader.h)（[来自 GitHub 上的 OpenFrameworks 项目](https://github.com/openframeworks/openFrameworks)）C++ 类？

我所做的：

AppDelegate.h

```
#import <UIKit/UIKit.h>
#import "Poco/BinaryWriter.h"

@interface AppDelegate : UIResponder <UIApplicationDelegate>{
    Poco::BinaryWriter *_myBinaryWriter;
}

@property (strong, nonatomic) UIWindow *window;

@end 
```

AppDelegate.mm

```
#import "AppDelegate.h"

@implementation AppDelegate

@synthesize window = _window;

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];

    _myBinaryWriter = new Poco::BinaryWriter(NULL, NULL);

    [self.window makeKeyAndVisible];
    return YES;
}

@end 
```

但在 mm 文件中我有编译错误：

> 'Poco::BinaryWriter' 的初始化没有匹配的构造函数

什么是错的，怎么办？

在项目设置中配置了 OpenFrameworks 标头的 ps 路径，链接器可以看到 Poco 类。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:11:39.853

您只需将 .m 设置为 .mm 即可使用 c++。

所以，从

*   类.h
*   类.m

至

*   类.h
*   类.mm

这条线

```
_myBinaryWriter = new Poco::BinaryWriter(NULL, NULL); 
```

创建你的 poco::binarywriter。错误

> 'Poco::BinaryWriter' 的初始化没有匹配的构造函数

说您没有正确创建它。

您必须按照以下准则正确创建它：

```
BinaryWriter(std::ostream& ostr, StreamByteOrder byteOrder = NATIVE_BYTE_ORDER);
/// Creates the BinaryWriter.

BinaryWriter(std::ostream& ostr, TextEncoding& encoding, StreamByteOrder byteOrder = NATIVE_BYTE_ORDER);
/// Creates the BinaryWriter using the given TextEncoding.
///
/// Strings will be converted from the currently set global encoding
/// (see Poco::TextEncoding::global()) to the specified encoding. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T09:19:42.830

Poco::BinaryWriter(NULL, NULL) there are no constructors with that signature in BinaryWriter.h, and you cannot convert from NULL to std::ostream&.

To test the BinaryWriter with the standard output (std::cout):

```
#import "AppDelegate.h"
#include <iostream>

@implementation AppDelegate

@synthesize window = _window;

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];

    // Only for testing
    _myBinaryWriter = new Poco::BinaryWriter(std::cout);
    (*_myBinaryWriter) << 1 << 3.14f;

    [self.window makeKeyAndVisible];
    return YES;
}

@end 
```

Once you confirm that this is indeed working you can move on to actually using other std::ostream derived classes such as std::ofstream (output file stream).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T09:29:26.897

这不是对您具体问题的回答，而是一般性建议。

使用最新版本的 LLVM 编译器（即 Xcode 4.x），您可以将实例变量放在实现中，而不是在接口中。IE

```
@interface AppDelegate : UIResponder <UIApplicationDelegate>

@property (strong, nonatomic) UIWindow *window;

@end

@implementation AppDelegate
{
    Poco::BinaryWriter *_myBinaryWriter;
}

// etc

@end 
```

这意味着您的实例变量现在从导入标头的文件中隐藏，并且标头现在不包含 C++ 代码，因此您可以将其导入其他 Objective-C 文件而无需使其成为 Objective-C++

# header - GPL 许可证中毒和内核头文件（Linux 内核列表）

> ID：10910412
> 
> 赞同：1
> 
> 时间：2012-06-06T08:08:06.787
> 
> 标签：header, linux-kernel, gpl

我使用 Linux Kernel Lists 编写了我的库。我使用了来自 Linux 源的 list.h 头文件。

它是否会使用 GPL 毒害我的库，还是我仍然可以在 BSD（2 条款）上发布它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T09:12:04.263

我不是一个许可专家，但我认为**使用** `list.h`. **抄袭**是个问题。

如果您的产品包含 的副本`list.h`，那么它包含 GPL 代码并且应该在 GPL 下发布。关于应该发布的确切内容，这里可能有一些要点。

如果您的产品包含`list.h`，并且期望编译它的平台能够提供它，那么 GPL 就不是问题。

# c# - System.Reflection - 如何判断 MethodInfo 对象是方法还是属性访问器？

> ID：10910415
> 
> 赞同：5
> 
> 时间：2012-06-06T08:08:13.557
> 
> 标签：c#, reflection

我有两个相似（不相同）的 dll，其中一个实际上是另一个的一部分。我正在尝试查看是否仍然存在兼容性（即，较小的是否仍然完全包含在较大的中）。

我通过迭代较小的 dll 中的所有类型并检查其中的每个**方法**是否也存在于较大的 dll 中（名称和参数列表）来做到这一点。

问题是 Assembly.GetMethods() 返回方法和**属性 getters/setters**，我猜，是的，是一种方法，但在这种情况下这对我不利。

所以，我的问题是，如何判断 MethodInfo 对象是存储属性还是*真实*方法？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-06T08:19:29.420

`specialname`属性访问器由编译器标记为。你可以用 来检查这个[`MethodBase.IsSpecialName`](http://msdn.microsoft.com/en-us/library/system.reflection.methodbase.isspecialname.aspx)，你可以检查你的`MethodInfo`对象。此属性也适用于其他特殊方法，例如运算符重载。

排除属性 getter 和 setter 的另一种可能性是这个查询：

```
from m in typeof(SomeType).GetMethods()
where !typeof(SomeType).GetProperties().Any(p => p.GetGetMethod() == m || p.GetSetMethod() == m)
select m; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T08:16:10.037

属性访问器*是*一种方法。属性只不过是 get/set 访问器的语法简写。

```
class A
{
    public int P { get { return 0; } }
} 
```

如果 C# 的定义不同，本可以写成

```
class A
{
    public int get_P() { return 0; }
    public int P { get: get_P }
} 
```

如果您理解这一点，您可能会发现 a`MethodInfo`无法告诉您您正在寻找的答案。相反，您必须采取相反的路径：查看是否有任何*属性*（也可能还有事件）将该*方法*用作访问器。你可以使用`Type.GetProperties()`一个简单的`foreach`循环。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:13:38.763

没有尝试，但这应该会有所帮助：

```
var isMethod = (yourMethodInfo.MemberType & MemberTypes.Method) == MemberTypes.Method; 
```

更多信息：[MemberTypes 枚举](http://msdn.microsoft.com/en-us/library/system.reflection.membertypes.aspx)和[MethodInfo.MemberType 属性](http://msdn.microsoft.com/en-us/library/system.reflection.methodinfo.membertype.aspx)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-06T08:12:02.757

试试下面的，

```
methodInfo.IsDefined(typeof(System.Runtime.CompilerServices.CompilerGeneratedAttribute), false);
methodinfo.MemberType == MemberTypes.Property 
```

# jquery - jQuery UI Selectable 不适用于 div（可调整大小和可拖动）

> ID：10910419
> 
> 赞同：1
> 
> 时间：2012-06-06T08:08:22.917
> 
> 标签：jquery, jquery-ui, jquery-ui-draggable

我有一些 div 并对其应用了可调整大小和可拖动的方法。但是当我应用可选方法时，它不会将“ui-selected”发送到 DIV 的类中。

请建议解决此问题的方法。

以下是代码：-

```
<script src="jquery-1.7.2.min.js" type="text/javascript"></script>
<script src="jquery-ui-1.8.20.custom.min.js" type="text/javascript"></script>
<link href="development-bundle/themes/base/jquery.ui.resizable.css" rel="stylesheet" type="text/css" />
<link href="development-bundle/themes/base/jquery.ui.theme.css" rel="stylesheet" type="text/css" />

<style type="text/css">
    .dragClass {
            font-family: Tahoma, sans;
            color: black;
            background: orange;
            border: 1px solid orange;
            width: 10em;
            height:auto;
            padding: 0.5em;
        }

    textarea {
            font-family: inherit;
            color: inherit;
            background: transparent;
            border: 0;
            width: 100%;
            height: 100%;
            resize: none;
        }
</style>

<script type="text/javascript" language="javascript">
    $(function () {
        $(".dragImgClass").draggable({ delay: 100, containment: "#ParentDIV", scroll: false });
        $(".dragClass").draggable({ delay: 100, containment: "#ParentDIV", scroll: false });
        $(".dragClass").resizable();
        $(".dragClass").selectable();

        $(".dragClass").on("click", function (event) {
            // Don't do anything if already editing                
            if ($(this).find("textarea").length) return;

            var $this = $(this); //get current obj.

            // Replace paragraph with textarea
            var $p = $this.find("p");
            var $txtar = $('<textarea/>').val($p.text());
            $p.replaceWith($txtar);
            $txtar.focus();                
        });

        $(".dragClass").on("blur", "textarea", function () {
            // Replace textarea with paragraph
            var $txtar = $(this);
            var $p = $('<p/>').text($txtar.val());
            $txtar.replaceWith($p);
        });

    });  //End of DOM Ready

    function getHTML() {
        var dv = $('#ParentDIV');
        var dvCont = $('#dvHtml');
        dvCont.css('border','2px solid red').text(dv.html());
    }

</script> 
```

以下是 HTML 内容：-

```
<input id="Btn1" type="button" onclick="getHTML();" value="Extract HTML" />
<div id="dvHtml"></div>
<br /><br />
   <div id="ParentDIV" style="margin-left:200px; width:800px; height:500px; background:lightgray;">                    
       <div class="dragClass"><p>Drag me around!</p></div>
       <br /><br />
       <div class="dragClass"><p>Drag me around! also</p></div>        
       <br /><br />
       <img class="dragImgClass" src="logo3.JPG" />
       <br /><br />
       <img class="dragImgClass" src="logo4.JPG" />        
   </div> 
```

[这](http://jsfiddle.net/yyzRu/1/)是我的问题的jsFiddle

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:21:51.040

我可以在 firebug 中看到您的 Selectable div 发出正确的 css 像这样`"dragClass ui-draggable ui-resizable ui-selectable"`在 firebug/IE 开发人员工具或任何其他工具中检查它是一个解决您的问题的[jsfiddle](http://jsfiddle.net/yyzRu/1/)我可以在 firebug 中清楚地看到应用于 div 的可选类。

**编辑**

要禁用可拖动和调整大小，您可以这样做

```
$('.dragclass').draggable( 'disable' );
$('.dragclass').resizable( 'disable' ); 
```

# android - 为 Android 构建 Dropbear dbclient 二进制文件

> ID：10910422
> 
> 赞同：5
> 
> 时间：2012-06-06T08:08:45.780
> 
> 标签：android, c, ssh, linker, arm

我想在必须的时候在 Android 终端模拟器中使用 ssh 客户端来连接到远程系统。

还有其他几种方法可以做到这一点——使用单独的 Java 应用程序、*购买*单独的基于 Java 的应用程序等。

真的，我只想构建和部署一个静态链接的 dbclient 二进制文件，它可以进行 libnss 主机名查找。（“哇！高阶。”）

有很多关于如何为 Android 构建 Dropbear 的文档。许多人专注于非客户端垃圾箱，但并非全部：

*   [在 Android 上运行 dropbear...](http://cri.ch/sven/doku.php/blog/running-dropbear-on-android)
*   [如何交叉编译dropbear...](http://roycormier.net/2010/11/02/cross-compiling-dropbear-sshd-for-android/)
*   [如何构建/编译 dropbearmulti](http://code.google.com/p/droidsshd/wiki/BuildingDropbear)

动态链接构建不会在我的目标上执行，而且我没有 strace 或 ldd 来帮助排除故障。

静态链接构建运行，但由于缺少运行时支持而无法获取主机名。好的，所以修补它 - 仍然不起作用。它只是挂起。再说一次，我不知道为什么。

busybox 样式的 dropbearmulti 表现出相同的行为。

所以，百万美元的问题：有没有人真的让这个工作？你有你的经历的文件吗？

我的目标是在三星 Infuse 4G（通用 armeabi）上构建一个根深蒂固的 2.3.7 Gingerbread。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-13T09:02:23.293

我只制作 Android-NDK 动态 ssh-dropbear-ssh-client。请参阅 [ftp://ftp.simtreas.ru/pub/my/dropbear/dropbear-ssh-only.tgz](ftp://ftp.simtreas.ru/pub/my/dropbear/dropbear-ssh-only.tgz) 源和[ftp://ftp.simtreas.ru/pub/my/dropbear/ssh](ftp://ftp.simtreas.ru/pub/my/dropbear/ssh)二进制

# php - 如何选择mysql数据库中所有表中字符串共有的所有字段？

> ID：10910425
> 
> 赞同：-2
> 
> 时间：2012-06-06T08:09:05.740
> 
> 标签：php, mysql

我有一个 mysql 数据库，其中有 3 个表“小组赛”、“四分之一决赛”、“半决赛”。所有这些表都有一个名为“日期”的列。现在我想写一个查询，我可以从这些表中获取具有特定日期的所有字段？我应该用php写什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:12:57.900

为了得到你想要的，你可以编写一个查询来连接 3 个表，例如：

```
SELECT *
FROM groupstage, quarterfinal, semifinal
WHERE groupstage.date = quarterfinal.date AND quarterfinal.date = semifinal.date
AND date = "YOUR DATE" 
```

在 php 中，您应该只创建一个 var $query = "My query above"

# sql - 并排连接两个查询

> ID：10910430
> 
> 赞同：3
> 
> 时间：2012-06-06T08:09:20.680
> 
> 标签：sql, oracle, oracle11g

我需要帮助来加入下面的两个查询。我是甲骨文的新手。我浏览了这里的帖子，但提到的连接是用于简单查询。请帮助我并排显示以下两个查询的结果。

```
(select Branch, count(*) as "No of Accounts Opened"
      from (SELECT A.CUST_AC_NO,
                   A.CCY,
                   A.branch_code Branch,
                   A.ACY_CURR_BALANCE,
                   A.AC_OPEN_DATE,
                   B.CUSTOMER_NAME1,
                   C.LIMIT_AMOUNT,
                   D.ACCOUNT_CLASS,
                   D.DESCRIPTION
              FROM STTM_CUST_ACCOUNT  A,
                   STTM_CUSTOMER      B,
                   getm_facility      C,
                   STTM_ACCOUNT_CLASS D,
                   getm_liab_cust     e
             WHERE B.CUSTOMER_NO = A.CUST_NO
               AND A.ACCOUNT_CLASS = D.ACCOUNT_CLASS
               and c.liab_id = e.liab_id
               and e.customer_no = b.customer_no
               and e.customer_no = a.cust_no
               AND B.LIABILITY_NO = e.customer_no
               AND RTRIM(C.LINE_CoDe) || LTRIM(TO_CHAR(C.LINE_SERIAL)) =
                   RTRIM(A.LINE_ID)
               AND A.RECORD_STAT = 'O'
               and c.record_stat = 'O'
               and e.record_stat = 'O'
                  --AND to_char(A.AC_OPEN_DATE,'YYYY')=:Year
                  --AND trim(to_char(A.AC_OPEN_DATE,'Month'))=:Month
                  --AND a.BRANCH_CODE ='001'
               AND A.CCY <> 'ZWD'
            UNION
            SELECT A.CUST_AC_NO,
                   A.CCY,
                   Branch_code Branch,
                   A.ACY_CURR_BALANCE,
                   A.AC_OPEN_DATE,
                   B.CUSTOMER_NAME1,
                   NULL LIMIT_AMOUNT,
                   D.ACCOUNT_CLASS,
                   D.DESCRIPTION
              FROM STTM_CUST_ACCOUNT  A,
                   STTM_CUSTOMER      B,
                   STTM_ACCOUNT_CLASS D
             WHERE B.CUSTOMER_NO = A.CUST_NO
               AND A.ACCOUNT_CLASS = D.ACCOUNT_CLASS
               AND A.RECORD_STAT = 'O'
                  --AND to_char(A.AC_OPEN_DATE,'YYYY')=:Year
                  --AND trim(to_char(A.AC_OPEN_DATE,'Month'))=:Month
                  --AND BRANCH_CODE ='001'
               AND A.CCY <> 'ZWD')
     group by Branch
     order by Branch) A 
```

第二个查询是

```
(select Branch,count(*) as "No of Accounts Closed"  from(SELECT
    a.branch_code Branch,
    A.CUST_AC_NO,
    A.CCY,
    A.ACY_CURR_BALANCE,
    a.maker_id,
    a.maker_dt_stamp,
    a.checker_id,
    A.CHECKER_DT_STAMP,
    B.CUSTOMER_NAME1,
    C.ACCOUNT_CLASS,
    C.DESCRIPTION
    FROM
    STTMS_CUST_ACCOUNT A,
    STTMS_CUSTOMER B,
    STTMS_ACCOUNT_CLASS C
    WHERE
    B.CUSTOMER_NO = A.CUST_NO
    AND A.ACCOUNT_CLASS = C.ACCOUNT_CLASS
    AND A.RECORD_STAT = 'C'
    ---AND A.BRANCH_CODE ='001'- :brn
    --AND trunc(to_char(A.CHECKER_DT_STAMP,'YYYY'))=:Year
    --AND trim(to_char(A.CHECKER_DT_STAMP,'Month'))=:Month
    ORDER BY
    CUSTOMER_NAME1)group by Branch order by Branch) B 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T08:44:16.617

这些查询之间唯一的共同列是`branch`，我将假设您想要每个分支机构关闭和打开的帐户数量。

首先，这些查询有很多无关信息；[只选择你需要的](https://stackoverflow.com/questions/321299/what-is-the-reason-not-to-use-select)。其次，您应该真正使用显式连接。它们更加清晰，消除了可能发生错误的明显点，并且作为 SQL 标准已经存在了几十年。

对您的问题的简单快速的回答是：

```
select a.*, b.*
  from query1 a
  full outer join query2 b
    on a.branch = b.branch 
```

我使用`full outer join`它是因为不能保证一个查询中的分支存在于另一个查询中。当我可以详细介绍时，我不喜欢快速和简单......

*最好*的办法是将您的 where 条件删除到`sum(case when...)`您的`select`. 这使您可以只扫描您的表两次而不是三次，然后避免`full outer join`像现在必须做的那样做。

如果我把这些连接弄错了，请原谅我；将它们转换为显式连接语法可能会出错。我已经删除了你的一些 where 条件来加入，因为它们应该在那里。

顺便说一句，您不必担心查询“复杂”。本质上，无论您的查询多长时间，您都可以将其视为最简单的；请注意您认为应该返回哪些数据，并准备好调查它是否看起来有误。

```
select branch
     , sum(opened) as "number of accounts opened"
     , sum(closed) as "number of accounts closed"
   from ( select branch
               , sum(case when a.record_stat = 'C' then 1 
                          else 0 end) as closed
               , sum(case when a.record_stat = 'O' and a.ccy <> 'zwd' then 1 
                          else 0 end ) as opened
            from STTMS_CUST_ACCOUNT A
            join STTMS_CUSTOMER B
              on B.CUSTOMER_NO = A.CUST_NO
            join STTMS_ACCOUNT_CLASS C
              on A.ACCOUNT_CLASS = C.ACCOUNT_CLASS
              -- include where condition to use indexes (if possible)
           where a.record_stat in ('C','O')
           group by branch
              -- union would imply a distinct, which we don-t want.
           union all
          select branch
               , count(*) as opened
               , 0 as closed
            from STTM_CUST_ACCOUNT A
            join STTM_CUSTOMER  B
              on B.CUSTOMER_NO = A.CUST_NO
            join getm_facility C
              on rtrim(C.LINE_CoDe) || ltrim(to_char(C.LINE_SERIAL)) 
                 = rtrim(A.LINE_ID)
              -- moved from where as this is a join condition
             and a.record_stat = c.record_stat
            join STTM_ACCOUNT_CLASS D
              on A.ACCOUNT_CLASS = D.ACCOUNT_CLASS
            join getm_liab_cust e
              on c.liab_id = e.liab_id
             and e.customer_no = b.customer_no
             and e.customer_no = a.cust_no
             and b.liability_no = e.customer_no
              -- moved from where as this is a join condition
             and a.record_stat = e.record_stat
              -- only want one number returned so conditions in the where clause
           where A.RECORD_STAT = 'O'
             and A.CCY <> 'ZWD'
           group by branch
                 )
 group by branch 
```

抱歉，我懒得用类似的方式处理所有事情。

### 延伸阅读：

*   [加入 (SQL)](http://en.wikipedia.org/wiki/Join_(SQL)) - 维基百科
*   [SQL 连接的可视化解释](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)- 编码恐怖
*   [在功能](http://www.techonthenet.com/sql/in.php)- 网络技术

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:25:24.020

```
select 
    branches.branch_code,
    first_query."No of Accounts Opened",
    second_query."No of Accounts Closed"
from
   (select distinct branch_code from STTMS_CUST_ACCOUNT) branches
   left outer join (
       -- first query here
   ) first_query on branches.branch_code = first_query.Branch
   left outer join (
       -- second query here
   ) second_query on branches.branch_code = second_query.Branch 
```

因为您没有为分支提供单独的表，所以我们必须`select distinct`在第一个别名中执行。如果您有另一个表仅包含此信息，则最好使用它。

我应该补充一点，您的查询似乎可以简化（看起来您并没有使用您获取的所有字段）。

# xslt - 使用文档（''）ServiceMix 模块时，获取包含 href 为空错误

> ID：10910435
> 
> 赞同：1
> 
> 时间：2012-06-06T08:09:59.713
> 
> 标签：xslt, apache-servicemix

我正在尝试在我的 ServiceMix 模块中使用 XLST 中的数组。

这是我的数组定义

```
<attr:Data>
    <Item1/>
    <Item2/>
    .
    .
    .
</attr:Data> 
```

这就是我调用数组的方式

```
<xsl:for-each select="document('')/*/attr:Data/*">
...
</xsl:for-each> 
```

它在 Eclipse 中运行良好，但是当我在 ServiceMix 中部署它时，我得到一个 include href 是空的 TransformerException。我尝试了 net.sf.saxon.trans.XPathException 和 org.apache.xalan.processor.TransformerFactoryImpl 处理器，我得到了同样的错误。我使用的 ServiceMix 版本是 4.4.1-fuse-01-13。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T11:17:23.683

我不知道 ServiceMix，但它看起来好像没有设置样式表的基本 URI，这意味着 document('') 不起作用。如果您无法更改 ServiceMix 调用转换的方式，那么您最好的选择可能是将数据放入全局变量中：

```
<xsl:variable name="data">
<attr:Data>
    <Item1/>
    <Item2/>
    .
    .
    .
</attr:Data>
</xsl:variable> 
```

and access it as `select="$data/attr:Data/*"` if using Saxon (XSLT 2.0) or as `select="xx:node-set($data)/attr:Data/*"` if using Xalan (XSLT 1.0)

# css - div 高度：100%；不适用于显示：表格单元格；

> ID：10910438
> 
> 赞同：14
> 
> 时间：2012-06-06T08:10:23.433
> 
> 标签：css, html

我的代码在工作时

```
<!DOCTYPE html>
<html>
<body style="position:fixed; top:0px; left:0px;bottom:0px; right:0px;  margin:0px;">
<div style="height:100%; width:100%; border:solid;"></div>
</body>
</html> 
```

但是当我添加 display:table-cell; 时不起作用 用于使用垂直对齐的 div

```
<!DOCTYPE html>
<html>
<body style="position:fixed; top:0px; left:0px;bottom:0px; right:0px;  margin:0px;">
<div style="height:100%; width:100%; border:solid; display:table-cell;vertical-align:middle;"></div>
</body>
</html> 
```

我希望 div 覆盖身体中的整个空白区域

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-06-06T08:36:42.610

您的代码现在应该可以工作了。

```
<html>
<body style="position:fixed; top:0px; left:0px;bottom:0px; right:0px;  margin:0px;">
    <div style='display : table; width : 100%; height : 100%'>
    <div style='display : table-row;'>
        <div style="border:solid; display : table-cell;">
        </div>
    </div>
    </div>
</body>
</html> 
```

**[例子](http://jsfiddle.net/UuFSg/)**

* * *

**经验法则**：无论何时，总是有一个适当的标记`display : table-cell`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:12:54.703

您必须将所有父元素的高度设置为 100%，然后...

```
html, body {
    height: 100%
} 
```

试一试，它对我有用。并且最好删除您之前为 body-element 设置的所有 CSS 属性。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-12-18T07:39:49.343

具有容器高度的 div.table > div.table-row > table.table-cell 有点棘手。最简单的方法之一是您可以添加

```
.table {
    position: absolute;
} 
```

在这种情况下，如果您要添加

```
.table {
    height: 100%;
} 
```

这将适合其父身高。

# iphone - 如何在iphone的文档目录中创建子文件夹

> ID：10910439
> 
> 赞同：4
> 
> 时间：2012-06-06T08:10:23.487
> 
> 标签：iphone, objective-c

如何在文档目录中创建另一个文件夹，然后。我想在该文件夹中传递一些文件，该文件是在文档目录中创建的，然后我想将此文件夹设为 zip 文件

请帮我解决这个问题

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T08:27:21.637

尝试这个

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); 
NSString *documentsDirectory = [paths objectAtIndex:0]; 
NSString *dataPath = [documentsDirectory stringByAppendingPathComponent:@"/yourFolderName"];

if (![[NSFileManager defaultManager] fileExistsAtPath:dataPath])
[[NSFileManager defaultManager] createDirectoryAtPath:dataPath withIntermediateDirectories:NO attributes:nil error:&error]; 
```

# reporting-services - 等待来自 ReportServer 服务的事务响应时达到超时（30000 毫秒）

> ID：10910453
> 
> 赞同：1
> 
> 时间：2012-06-06T08:11:11.233
> 
> 标签：reporting-services

我在 EventViewer 中收到以下错误 在等待来自 ReportServer 服务的事务响应时达到超时（30000 毫秒）。

其他人是否收到此错误？产生什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T07:55:13.150

我们不时有这个。[如果这对您来说是一个反复出现的问题，下面的链接](http://geekswithblogs.net/ssrs/archive/2009/10/30/steps-to-resolve-ssrs-timeout-issues.aspx)有一些很好的步骤可以帮助纠正这个问题。

万一此链接在未来一直处于非活动状态并且有人正在寻找此内容：

> **1) 在报表服务器上将 HttpRuntime ExecutionTimeout 值设置为更大的值**（即 3 小时）
> 
> 你怎么做到这一点？简单的！
> 
> 一个。转到开始 -> 管理工具 -> Internet 信息服务，打开 ReportServer 的 Web.config 文件。湾。从那里展开网站 -> 默认网站，然后单击 ReportServer。在右侧窗格中，右键单击“Web.Config”并选择“打开”。C。找到 HttpRuntime 参数。如果它不存在，则必须在该部分中创建它。d。将 executionTimeout 值设置为“10800”（3 小时），如下所示：
> 
> **2) 增加报表服务器上的脚本超时时间**
> 
> 1.  进入您的报告服务器并打开 Internet 信息服务；右键单击 ReportServer 并选择属性。
> 2.  转到选项选项卡，并将 ASP 脚本超时设置为 300 秒，如下所示。
> 
> **3) 将报告设置为在服务器上永不超时**
> 
> 1.  在服务器上打开 Web 浏览器并转到 localhost/Reports
> 2.  导航到报告位置并单击问题报告。
> 3.  在左侧窗格中，单击属性。
> 4.  在“报告执行超时”中单击“不要使报告执行超时”。

# iphone - 如何在 Ipad 中播放来自 URL 的视频？

> ID：10910458
> 
> 赞同：0
> 
> 时间：2012-06-06T08:11:27.207
> 
> 标签：iphone, ios, ipad, uitableview, mpmovieplayercontroller

在我的应用程序中，我从 UITableview 中的服务器获取视频链接。所有这些链接都存储在 Textfile 中的服务器上，我从服务器中获取所有这些链接，并将每个链接分配给 UITableview 中的单元格。所有这些我都成功完成但我想要当我单击 UITableview 中的任何单元格时，它会在下一个视图中播放视频。这是我的代码。

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
     nextview *dvController = [[nextview alloc] initWithNibName:@"nextview" bundle:nil];
     [self presentModalViewController:dvController animated:YES];
     strFile = [Listdata objectAtIndex:indexPath.row];
     NSLog(@"test=%@",strFile);
     [dvController release];
  } 
```

在下一个视图中，我将存储在“strFile”中的链接分配给 MPMoviePlayerController，这是我的代码。

```
-(void)viewDidAppear:(BOOL)animated
 {
 NSLog(@"mytest=%@",strFile);
 NSURL *url = [NSURL URLWithString:strFile];
 NSLog(@"myurl=%@",url);
 myplayer = [[MPMoviePlayerController alloc] initWithContentURL:url];
 myplayer.view.frame = CGRectMake(0, 0,900, 700);  
 [self.view addSubview:myplayer.view];
 [myplayer play];
 } 
```

在 NSlog 中，我看到了链接，但它没有在 MPMoviePlayerController 中播放。任何人都可以提前指导我犯了什么错误。thanx。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:37:47.367

@prince：你能告诉我你在 NSLog 中得到了什么网址吗？我认为你在获取 url 时弄错了。

我们可以通过

`url = [NSURL fileURLWithPath:strUrl];`

别的

`url = [NSURL URLWithString:strUrl];`

试一试。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:37:50.697

您可能不应该设置框架并添加到子视图中，您可能会对`MPMoviePlayerViewController`. 试试这个...

```
-(void)viewDidAppear:(BOOL)animated {
 NSLog(@"mytest=%@",strFile);
 NSURL *url = [NSURL URLWithString:strFile];
 NSLog(@"myurl=%@",url);
 myplayer = [[MPMoviePlayerController alloc] initWithContentURL:url];
 myplayer.scalingMode = MPMovieScalingModeAspectFill;
 [myplayer play];
 } 
```

**编辑**忽略我的代码，您不能直接在 MPMoviePlayerController 中播放 YouTube 视频。检查这篇文章，而不是[使用 MPMoviePlayerController 而不是 UIWebView 播放 YouTube 视频](https://stackoverflow.com/questions/1779511/play-youtube-videos-with-mpmovieplayercontroller-instead-of-uiwebview)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T09:31:36.117

在应用程序内播放 youtube 视频是使用 Youtube 的 embed 标签创建一个 UIWebView，用于您想要作为 UIWebView 的内容播放的电影。UIWebView 将检测到嵌入的对象是一个 Youtube 链接，并且 web 视图的内容将是视频的 youtube 预览。当您的用户单击预览时，视频将显示在 MPMoviePlayerController 中。试试这个链接：

> `http://iphoneincubator.com/blog/audio-video/how-to-play-youtube-videos-within-an-application`

不幸的是，无法使用 MPMoviePlayerController 直接播放 youtube 视频，因为 youtube 不会公开指向视频文件的直接链接。

# ruby-on-rails-3 - Rails 3：如何将新主题与论坛相关联

> ID：10910462
> 
> 赞同：0
> 
> 时间：2012-06-06T08:11:44.033
> 
> 标签：ruby-on-rails-3, associations

我正在尝试使用 Ruby on Rails 编写一个论坛。

在模型方面，我完成了主题和论坛之间的关联

```
# forum.rb
class Forum < ActiveRecord::Base
  has_many :topics

  attr_accessible :name, :description
end

# topic.rb
class Topic < ActiveRecord::Base
  has_many :posts
  belongs_to :forum
end 
```

论坛控制器

```
# forums_controller.rb
class ForumsController < ApplicationController
  def new
    @forum = Forum.new
  end

  def create
    @forum = Forum.new(params[:forum])
    if @forum.save
      flash[:success] = "Success!"
      redirect_to @forum
    else
      render 'new'
    end
  end

  def index
    @forums = Forum.all
  end

  def show
    @forum = Forum.find(params[:id])
  end
end 
```

主题控制器

```
class TopicsController < ApplicationController
  def new
    @topic = current_forum???.topics.build
  end

  def create
    @topic = Topic.new(params[:topic])
    if @topic.save
      flash[:success] = "Success!"
      redirect_to @topic
    else
      render 'new'
    end
  end

  def index
    @topics = Topic.all
  end

  def show
    @topic = Topic.find(params[:id])
  end
end 
```

如何更改主题控制器以确保主题是为**当前**`new`论坛而不是其他论坛创建的？`create`

 **例如，如果我从一个 id=1 的论坛创建一个新主题，我如何确保创建的新主题的 forum_id=1？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:23:04.930

使用[嵌套资源](http://guides.rubyonrails.org/routing.html#nested-resources)

```
resources :forums do
  resources :topics
end 
```

你会有一条像

```
/forums/:forum_id/topics/new 
```

然后在你的`TopicsController`

```
def new
  @forum = Forum.find(params[:forum_id])
  @topic = @forum.topics.build
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:18:23.990

```
class TopicsController < ApplicationController
  def new
    @forum = Forum.find(params[:id])
    @topic = @forum.topics.build
  end 
```**

# css - CSS - 如何按 ID 和类别使用

> ID：10910463
> 
> 赞同：1
> 
> 时间：2012-06-06T08:11:45.553
> 
> 标签：css

```
<body>
  <div id="header">
    <div id="header_center">
      <div class="logo"></div>
    </div> 
```

我想使用以下 CSS：

```
#header#header_center.logo {
  float:left;
  background-image: url(images/logo.png);
  background-repeat: no-repeat; 
  width: 297px;
  height: 85px;
} 
```

...但它不起作用。如果我只使用“.logo”，那么它就可以了。为什么我不能使用“#header#header_center.logo”？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-06T08:13:35.830

您发布的 CSS 将选择如下所示的元素：

```
<div id="header header_center" class="logo"></div> 
```

您需要做的是在选择器之间添加空格，以便选择嵌套元素。

```
#header #header_center .logo { ... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T08:13:43.837

在 class 和 id 之间插入空格并关闭你的一个 div 标签

```
#header #header_center .logo {
    float:left;
    background-image: url(images/logo.png);
    background-repeat: no-repeat; 
    width: 297px;
    height: 85px;
} 
```

你的 html 应该是

```
<div id="header">
        <div id="header_center">          
            <div class="logo"></div></div></div> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:14:14.210

您需要在 ids/ 类之间留一个空格，如下所示：

```
#header #header_center .logo {
    ...
} 
```

不留空格将为具有所有这些属性的单个元素指定一个 css 挂钩（显然是错误的，因为每个元素上不能有多个 id 属性）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-06T08:14:45.780

尝试`#header #header_center .logo`

# linux - 如何在 linux 上提交 R 作业？

> ID：10910472
> 
> 赞同：0
> 
> 时间：2012-06-06T08:12:22.513
> 
> 标签：linux, r, simulation, coupling

我是 R 的工程师新手，并且有一个必须在 linux 上运行的脚本，我进行了很多搜索，但找不到在 linux 上运行脚本的简单命令。我必须将我的工程软件与 R 结合起来，所以我也需要在 linux 上运行它。

```
My script name is  myscipt.R and I want to use 2 cpus to run that script. 
```

请帮助我启动。

最好的祝福。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:31:55.583

这对我有用：

```
R CMD BATCH myscript.R 
```

例如，以下应生成随机生成矩阵的 .csv 文件。我一直用“.R”扩展名来命名这个脚本，但我不确定这是必要的。

要调用的脚本（名为“testscript.R”）包含以下代码行：

```
set.seed(1)
M<-matrix(runif(20),5,4)
write.csv(M, file="M.csv") 
```

然后在您的控制台中调用此脚本，如上图所示：

```
R CMD BATCH testscript.R 
```

在我的机器上，这会生成“M.csv”文档，如下所示：

```
 "","V1","V2","V3","V4"
"1",0.2655086631421,0.898389684967697,0.205974574899301,0.497699242085218
"2",0.37212389963679,0.944675268605351,0.176556752528995,0.717618508264422
"3",0.572853363351896,0.660797792486846,0.687022846657783,0.991906094830483
"4",0.908207789994776,0.62911404389888,0.384103718213737,0.380035179434344
"5",0.201681931037456,0.0617862704675645,0.769841419998556,0.777445221319795 
```

此外，还会生成一个“testscript.Rout”文件，提供 R 控制台输出：

```
R version 2.14.0 (2011-10-31)
Copyright (C) 2011 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: i386-pc-solaris2.10 (32-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

[Previously saved workspace restored]

> set.seed(1)
> M<-matrix(runif(20),5,4)
> write.csv(M, file="M.csv")
> 
> proc.time()
   user  system elapsed 
  9.075   0.257   9.362 
```

希望能更好地解释它。

# visual-studio-2010 - msbuild 编译器 %PATH%

> ID：10910477
> 
> 赞同：0
> 
> 时间：2012-06-06T08:12:51.303
> 
> 标签：visual-studio-2010, visual-c++, msbuild

我希望通过更改 PATH 环境变量来使用替代工具集（cl.exe、link.exe 等...）构建我的解决方案。

当我使用“devenv MySolution.sln”构建解决方案时，它正确使用了替代工具集（调用替代 cl.exe 而不是 Visual C++ cl.exe）。当我使用 MSBuild 构建它时，它仍然使用 Visual C++ 编译器，而忽略了我的 PATH 设置。

这个问题有什么解决办法吗？有谁知道如何让 MSBuild 通过解析 %PATH% 来调用编译器（当然，无需修改我的所有项目和解决方案文件）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:28:05.803

根据[VCBuild Task Reference](http://msdn.microsoft.com/en-us/library/8xcy2245%28v=vs.90%29.aspx)，您应该能够将`ToolPath`参数设置为替代工具集的所需路径。

*诚然，这不如设置 PATH 环境变量那么舒服，而且我没有尝试过，因为我现在手头没有 VC++。**

# jquery - 仅当项目尚未在某个元素内时才包装项目

> ID：10910482
> 
> 赞同：1
> 
> 时间：2012-06-06T08:12:59.170
> 
> 标签：jquery, dom, jquery-selectors

jquery dom jquery-selectors 简单的问题，但我无法确定。我正在通过操作一个简单的**列表元素。**

 **我的菜单结构如下所示：

```
<ul>
    <li>
        <a href="#">Something</a>
        <ul>
            <li>
                <a href="#">Some Sub Menu Item</a>
            </li>
        </ul>
    </li>
</ul> 
```

悬停时我有一个简单的规则：找到所有**二级** `<li>`元素并将它们包装在一个带有类的**.subMenuContainer**

因此，在悬停时，上述内容转换为：

```
<ul>
    <li>
        <a href="#">Something</a>
        <ul>
            <div class="subMenuContainer">
                <li>
                    <a href="#">Some Sub Menu Item</a>
                </li>
            </div>
        </ul>
    </li>
</ul> 
```

简而言之，子菜单项被包裹在一个 div 中，因此它们可以被专门定位。

这在第一次悬停时效果很好，但在第二次悬停时 subMenuContainer 再次被包裹，所以对于“X”个悬停我最终得到了“X”个 subMenuContainer 元素。

我包装这些的 jQuery 规则

*   要素如下：

    ```
    $('ul.someClass li').bind('mouseover', function(){
        $(this).find('ul').not(':contains(div.subMenuContainer)').find('li').wrapAll('<div class="subMenuContainer" />');
    }); 
    ```

    当然，通过使用上面的代码，如果在 ?

    我错过了什么吗？

    问候，西蒙

    [编辑] - 请参阅下面选择的答案，解决方案只是在搜索元素时使用**>**`$('ul > li')` ，例如：这只会导致找到（而不是在 div 中）`<li>`的直接子项的项目。`<ul>`谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:40:50.220

发生这种情况是因为 :contains 用于文本，而不是元素。试试这个：

```
$(this).find('ul > li').wrapAll('<div class="subMenuContainer" />'); 
```

或者

```
$(this).find('ul').children('li').wrapAll('<div class="subMenuContainer" />'); 
```

现在只有 li 是 ul 的直接子代。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:15:05.330

尝试使用`.one()`代替`hover()`or `bind()`。

```
$('ul.someClass li').one('mouseover', function(){
    $(this).find('ul').find('li').wrapAll('<div class="subMenuContainer" />');
}); 
```**

# playframework - 如何在play framework 1.2.4的内置服务器上运行多个应用程序？

> ID：10910485
> 
> 赞同：0
> 
> 时间：2012-06-06T08:13:24.337
> 
> 标签：playframework, netty

如果我们要运行示例应用程序“booking”，我们需要运行以下命令：

```
play run booking 
```

然后你可以像这样访问这个酒店预订应用程序：[http://localhost:9000/hotels]

但是如果你想同时运行“yabe”和“booking”样本，我不知道怎么做。虽然 tomcat 可以做到这一点，但只需将它们放在“webapp”文件夹中即可。

由于play官方网站似乎没有提到这一点，有人知道如何在play框架（1.2.4版）的内置服务器上运行多个应用程序吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:25:58.107

您应该在可以使用[application.conf配置的不同端口上运行它](http://www.playframework.org/documentation/1.2.4/ids)

对于现场制作，您需要额外使用一些[前端 HTTP](http://www.playframework.org/documentation/1.2.4/production#server)服务器以允许在不同端口上共存许多应用程序，但在端口 80 上的不同域中工作 - 请参阅 Apache 示例和`ProxyPass`vhost 部分的设置

# c# - 在 Silverlight 中下载电子邮件附件

> ID：10910486
> 
> 赞同：2
> 
> 时间：2012-06-06T08:13:25.050
> 
> 标签：c#, file-io, silverlight-4.0

我正在使用 VS2010、C# 开发基于 Web 的（浏览器内）Silverlight 4 应用程序，我正在使用 IMAP 阅读电子邮件（当前为 gmail），我在 Silverlight 中使用 WCF 来访问 gmail 数据。一切正常，但我在下载附件时遇到问题，我可以在字节数组中获取电子邮件附件，使用 Response.Stream 或 File.WriteAllBytes（在 ASP.NET 页面中）保存这些字节没有问题。但是当我想将它们保存在我的 SL 应用程序中时，我遇到了两个问题：似乎我不能在我的 WCF 中使用 Response，而且 File.WriteAllBytes 也给了我这个错误：不允许文件操作，拒绝访问 myfilename。在我的 SL 应用程序中下载附件的选项有哪些？我应该将我的文件数据作为 byte[] 返回到 SL 应用程序还是应该将它们直接保存在 WCF 中？

我应该使用什么方法？回复？文件？或者别的，谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T09:27:40.907

这是`byte[]`在 SL4 中保存到文件的方式：

```
 private void SaveFile(byte[] bytes)
    {
        SaveFileDialog saveDialog = new SaveFileDialog();
        saveDialog.DefaultExt = ".stuff";
        saveDialog.Filter = "Funky Stuff File|*.stuff|All Files|*.*";
        saveDialog.FilterIndex = 1;
        bool? dialogResult = saveDialog.ShowDialog();
        if (dialogResult == true)
        {
            using (Stream ms = (Stream)saveDialog.OpenFile())
            {
                ms.Write(bytes, 0, bytes.Length);
                ms.Close();
            }
        }
    } 
```

# filesystems - 现代文件系统为每个块组保留多少？

> ID：10910487
> 
> 赞同：7
> 
> 时间：2012-06-06T08:13:26.753
> 
> 标签：filesystems, operating-system

在阅读 Unix FFS 时，我读到保留了 10% 的磁盘空间，以便确保文件的数据块位于同一个柱面组中。对于像 ext2/ext3 这样的文件系统，这仍然是正确的吗，是否保留了空间以便文件的数据块都可以在同一个块组中？也是10%吗？还是有所不同？此外，日志文件系统也是如此吗？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T14:30:43.507

首先，我认为 ext 文件系统实现了相同的柱面组概念，他们只是将其称为块组。要了解它，您可以`fdisk`分区找到您的实际块数和块/组数。然后`number of block groups = block count / (block/group)`。它们的使用方式与 FFS cgs 完全相同（以加快访问时间）。现在日记 IMO 与此操作无关，只是它实际上会浪费磁盘上的更多空间:)。据我了解，软更新是 BSD 对日志在典型 ext 文件系统中解决的问题的解决方案，不需要额外的空间，但实现和添加新功能（如调整大小）非常复杂。有趣的阅​​读：

[ext3 开销公开第 1 部分](http://www.lisnichenko.com/articles/ext3-file-system-overhead-disclosed-part-1.html)

干杯！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-26T13:56:23.543

我的新 ext2 图像数据是：

```
Size   Block size  Bl/Gr    Total bytes    Free bytes      Ratio
1MB    1024        8192        1048576         1009664     0.03710     
10MB   1024        8192       10485760        10054656     0.04111             
100MB  1024        8192      104857600        99942400     0.04688
512M   4096        32768     536870912       528019456     0.01649
1G     4096        32768    1073741824      1055543296     0.01695
10G    4096        32768   10737418240     10545336320     0.01789 
```

因此，由于上述答案中描述的布局，Ext2 文件系统的空间效率取决于块大小，这是完全可以预见的：文件系统是一组块组，对于每个组，其大小由块数确定，可以描述为1 块位图 => 对于 4096 字节块，有 8 * 4096 个块。

**结论**：对于 ext2/ext3 系列文件系统，平均默认空间消耗取决于块大小： **对于 4096 字节块，~ 1.6 - 1.8 %，对于 1024 字节块，~ 4 %**

# iphone - NSDate 到 NSString 的转换给出不同的输出

> ID：10910498
> 
> 赞同：1
> 
> 时间：2012-06-06T08:14:04.210
> 
> 标签：iphone, objective-c, ios, nsdate, nsdateformatter

这可以重复一次，但我无法找到正确的解决方案。

```
NSDateFormatter *dateFormat = [[[NSDateFormatter alloc] init] autorelease];
[dateFormat setDateFormat:@"YYYY-MM-dd"];
 NSString *dateString = [dateFormat stringFromDate:receiveddate];
 NSLog(@"Date: %@", dateString); 
```

receiveddate 是 NSDate 并且它的值是**2012-06-11 00:00:00 +0000** 我只想将上面的日期转换成 NSString 值应该只是**2012-06-11**

但是当我检查它时，它给了我不同的输出，即**2012-00-11 00:00:00**。真奇怪。我怎样才能摆脱这个问题。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T08:28:46.270

你可以使用这个：

`[formatter setDateStyle:NSDateFormatterShortStyle];`

`[formatter setTimeStyle:NSDateFormatterNoStyle];`

`[formatter setDateFormat:@"yyyy-MM-dd"];`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:40:23.730

嗨，我正在使用您发布的相同代码，它为我提供了您想要的正确输出。所以我认为你收到的日期格式有问题。这是我使用的代码

```
 NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init] ;
    [dateFormat setDateFormat:@"YYYY-MM-dd"];
    NSString *dateString = [dateFormat stringFromDate:[NSDate date]];
    NSLog(@"Date: %@", dateString);

OUTPUT:Date: 2012-06-06 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:17:36.970

用这个

```
[dateFormat setDateFormat:@"YYYY-MM-dd"];
dateFormat.dateStyle = kCFDateFormatterShortStyle; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T08:23:38.327

我发现的问题是**2012-06-11 00:00:00 +0000**不是有效的 NSDate。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T09:59:54.447

也许问题是您使用的是`YYYY` 而不是 `yyyy` ？

至少我是这样使用它的： `[mDateFormatter setDateFormat:@"yyyy-M-dd"];`获取`2012-6-5`.

# c# - 使用 c# 将用户与角色匹配

> ID：10910499
> 
> 赞同：0
> 
> 时间：2012-06-06T08:14:06.833
> 
> 标签：c#, csv

我对此有一个小问题。

我有一个 csv 文件，第一列是用户，第二列是用户权利。

这是该文件的示例：

```
 USER,           ENTITLEMENTS
 ACC_EXTRACT,   SBL/All Ins Apps
 ACC_EXTRACT,   SBL/PRC
 ACC_RECON, SBL/AccountingAdmin
 ACC_RECON, SBL/All Ins Apps 
```

我要做的是检查哪些用户具有我可以分配角色的特定权利。例如，用户 ACC_EXTRACT 有两个权利：SBL/All Ins Apps 和 SBL/PRC，我想为他分配角色 x。我如何阅读文件并检查哪些权利分配给了哪个用户？

这是我到目前为止的代码，但我不确定它是否有效或是否有效。

```
 while ((line = sr.ReadLine()) != null)
        {
            users = sr.ReadLine();
            string[] split = users.Split(',');

            if (split[1].Contains("SBL/FO/Rpt") | split[1].Contains("SBL/Live Ins                Apps") | split[1].Contains("SBL/Port_Grp") | split[1].Contains("SBL/Prices") | split[1].Contains("SBL/SalesPerson"))
            {
                Console.WriteLine(split[1] + " " + split[0]);
                sw.WriteLine(split[0] + " , " + "Front Office - SalesPerson");
                sw.Flush();
        }
       } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:29:25.280

首先，您的代码至少包含两个错误：

您在一个循环中读取该行两次
您使用按位 OR (|) 运算符而不是逻辑运算符 (||)

```
while ((users = sr.ReadLine()) != null)
{
    string[] split = users.Split(',');
    if (split[1].Contains("SBL/FO/Rpt") ||
        split[1].Contains("SBL/Live Ins Apps") || 
        split[1].Contains("SBL/Port_Grp") || 
        split[1].Contains("SBL/Prices") || 
        split[1].Contains("SBL/SalesPerson"))
    {
        Console.WriteLine(split[1] + " " + split[0]);
        sw.WriteLine(split[0] + " , " + "Front Office - SalesPerson");
        sw.Flush();
    }
} 
```

我还将向字符串类添加一个扩展方法，如下所示：

```
 public static bool ContainsAny(this string s, params string[] values)
   {
        return values.Any(x => x.Equals(s));
   } 
```

以这种方式简化 if 测试

```
 if (split[1].ContainsAny("SBL/FO/Rpt", "SBL/Live Ins Apps","SBL/Port_Grp",
                             "SBL/Prices","SBL/SalesPerson"))
    {
        .....
    } 
```

# iphone - 如何将接收到的音频转换为 udp 数据包？

> ID：10910503
> 
> 赞同：1
> 
> 时间：2012-06-06T08:14:20.697
> 
> 标签：iphone, ios, udp

```
NSMutableDictionary *dictionary=[[NSMutableDictionary alloc]init];
[dictionary setValue:[NSNumber numberWithInt:kAudioFormatAppleIMA4] forKey:AVFormatIDKey];
[dictionary setValue:[NSNumber numberWithFloat:44100.0] forKey:AVSampleRateKey]; 
[dictionary setValue:[NSNumber numberWithInt: 2] forKey:AVNumberOfChannelsKey]; 
```

我使用`AVAudioRecorder`对象输入，我需要将其转换为 udp 数据包。怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:52:29.133

[CocoaAsyncSocket](https://github.com/robbiehanson/CocoaAsyncSocket)是一个不错的库，它包含一个名为 AsyncUdpSocket 的类，它是一个围绕低级套接字 API 的 Obj-C 包装器。

包含 AsyncUdpSocket 后，只需将其添加到标题中：

```
AsyncUdpSocket *socket; 
```

主要是：

```
NSData *data  = [NSData dataWithContentsOfURL:YourURL];//Convert Recieved Audio into NSData
[socket sendData:data toHost:@"192.168.x.x" port:5002 withTimeout:-1 tag:1]; 
```

测试时不要忘记在您的服务器防火墙上允许 UDP 通信！

# ios - “未找到有效的代码签名身份”错误

> ID：10910505
> 
> 赞同：3
> 
> 时间：2012-06-06T08:14:25.880
> 
> 标签：ios, certificate, distribution, profile, xcode4.3

我知道这是在鞭打一匹死马，相信我，我已经解决了这里的每一个问题，并尝试了所建议的一切。没有豆子。我错过了我的大脑无法看到的东西。

所以，我的应用程序已准备好发布版本 1（顺便说一句，感谢所有帮助），我正在经历上传它以供 Apple 拒绝的痛苦；）我在另一台机器上启动了应用程序，所以我导出了我的私钥和将其导入我的新系统。然后我创建了一个分发配置文件并安装了它，只是为了从 Xcode 获得仇恨信息。经过 8 小时的大喊，我决定吊销我的证书，删除我所有的个人资料，然后上床睡觉。今天早上，我在我的新系统上创建了一个新的开发人员证书，创建了一个新的配置文件，并安装了所有东西。我可以在我的设备上运行我的应用程序，一切都很好（事实上，总比好，一些警告消失了）。

但是，它来了，当我创建分发配置文件时，我仍然收到“没有有效的代码签名”错误。

我看过几个 Youtube 视频，据他们说我没有做错任何事。我阅读了 Apple 的文档（老实说是一团糟），我做了它告诉我的一切，但它太模糊了，我可能错过了一些东西。我通读了在这里找到的所有内容，但无济于事。

是否有，某处，任何地方（请）一步一步地走过，这是最新的？我发现的每一个都是 Xcode 3 或开发中心的屏幕截图不匹配。

如果伦敦有人想和我一起大喊苹果把这件事弄得一团糟，我就会去酒吧。

如果有帮助，请截屏？

![钥匙串访问很开心](../Images/ed879efc1b520739804b9061058ef8db.png)

![XCode 脾气暴躁](../Images/472ca624301f1e4795b4b77bbec8b157.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:19:44.287

我发现[这个 Ray 教程](http://www.raywenderlich.com/8003/how-to-submit-your-app-to-apple-from-no-account-to-app-store-part-1)做得很好。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T09:06:03.507

好的，我把这个留给那些偶然发现这个噩梦并且像我一样有点愚蠢/疲倦/缺乏咖啡因的人。

在撤销并重新创建我的开发者证书后，我没有撤销并重新创建我的经销商证书。我以为我有，日期匹配（今天），但实际上我没有。我重新创建了它，一切都很好。这可能是一个错误，也可能是我，或者两者兼而有之。但是在重新创建开发人员证书后重新创建分销商证书修复了它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-18T18:59:26.737

如果升级到 iOS8 / xcode6 后出现此错误，则需要使用您的 appleID 手动登录会员中心并直接下载证书。然后将它们添加到您的钥匙串中，您将再次参加比赛。

# asp-classic - 在本地计算机上运行asp

> ID：10910507
> 
> 赞同：1
> 
> 时间：2012-06-06T08:14:27.500
> 
> 标签：asp-classic

我试图运行以下用 html 文件编写的 asp 代码

```
<!DOCTYPE html>
<html>
<body>
<%
response.write("hello world ");
%>
</body>
</html> 
```

但是当我运行它时，得到了关注

```
<% response.write("hello world "); %> 
```

所以我猜，没有正在运行的服务器或类似的东西，那我该怎么办？我已经安装了 apache，mysql 服务器，我还需要什么？对不起，如果我的问题不是那么专业，因为我是 asp 新手语言，我从这个网站上拿了这个例子

[http://w3schools.com/asp/showasp.asp?filename=demo_text](http://w3schools.com/asp/showasp.asp?filename=demo_text)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:44:39.017

在较新版本的 IIS（如 Win7 上的 7.5）中，默认情况下不安装 ASP DLL。甚至 IIS 也可能不会默认安装。您可以使用`appwiz.cpl`（系统设置 >> 添加/删除软件 >> Windows 组件）添加它们。请参阅[在 IIS 7.0 和 IIS 7.5 上运行经典 ASP 应用程序以](http://go.microsoft.com/fwlink/?LinkID=82731)获取参考。

然后，您绝对希望为开发启用另外一点，那就是[在](http://learn.iis.net/page.aspx/564/classic-asp-script-error-messages-no-longer-shown-in-web-browser-by-default/)[(IIS manager)中](http://learn.iis.net/page.aspx/564/classic-asp-script-error-messages-no-longer-shown-in-web-browser-by-default/)[设置`scriptErrorSentToBrowser = true``inetmgr`](http://learn.iis.net/page.aspx/564/classic-asp-script-error-messages-no-longer-shown-in-web-browser-by-default/)。或者，您可以启用[Failed Request Tracing](http://learn.iis.net/page.aspx/565/using-failed-request-tracing-to-troubleshoot-classic-asp-errors/)，~~我还没有尝试过~~我刚刚尝试[遵循这个 MSDN 文档（启用失败请求的跟踪日志记录（IIS 7））](http://technet.microsoft.com/en-us/library/cc725786%28WS.10%29.aspx)，启用它真的很值得！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T00:12:26.757

如果您安装了 IIS，当您说：

> 我试图运行以下用 html 文件编写的 asp 代码

`.html`将您的文件更改为`.asp`

`.asp`除非在文件中，否则 ASP 代码不会执行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-27T08:34:15.787

Html可以在浏览器上运行。但是要运行asp代码，您需要一个服务器。因此您必须将代码编写为.asp扩展文件，而不是html，并且必须安装IIS。

转到链接[http://www.w3schools.com/asp/asp_install.asp](http://www.w3schools.com/asp/asp_install.asp)安装 IIS。

在 C:\Inetpub\wwwroot 中创建一个文件夹假设您的文件夹名称是 xxx 将您的 .asp 文件放在那里转到您创建的文件夹属性（xxx 文件夹）。单击安全选项。然后单击编辑并允许在那里完全控制。

在浏览器中将文件夹作为 localhost/xxx/yourfilename.asp 运行

# java - 获取Java包内的类文件数组

> ID：10910510
> 
> 赞同：10
> 
> 时间：2012-06-06T08:14:36.153
> 
> 标签：java, class

我需要一个包含在我的 Java 源包之一中的所有类文件的 Class[]。

我找不到一个标准的方法来一次性完成。如果有人可以编写一个函数来获取该列表将非常有帮助。

```
Class[] myClasses = yourfunction();  // Return a list of class inside a source package in the currently working project in java 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-12T10:05:08.033

我可以使用普通的文件 I/O 和搜索机制来解决这个问题。您可以查看此处发布的答案。

```
private static List<Class> getClassesForPackage(Package pkg) {
    String pkgname = pkg.getName();

    List<Class> classes = new ArrayList<Class>();

    // Get a File object for the package
    File directory = null;
    String fullPath;
    String relPath = pkgname.replace('.', '/');

    //System.out.println("ClassDiscovery: Package: " + pkgname + " becomes Path:" + relPath);

    URL resource = ClassLoader.getSystemClassLoader().getResource(relPath);

    //System.out.println("ClassDiscovery: Resource = " + resource);
    if (resource == null) {
        throw new RuntimeException("No resource for " + relPath);
    }
    fullPath = resource.getFile();
    //System.out.println("ClassDiscovery: FullPath = " + resource);

    try {
        directory = new File(resource.toURI());
    } catch (URISyntaxException e) {
        throw new RuntimeException(pkgname + " (" + resource + ") does not appear to be a valid URL / URI.  Strange, since we got it from the system...", e);
    } catch (IllegalArgumentException e) {
        directory = null;
    }
    //System.out.println("ClassDiscovery: Directory = " + directory);

    if (directory != null && directory.exists()) {

        // Get the list of the files contained in the package
        String[] files = directory.list();
        for (int i = 0; i < files.length; i++) {

            // we are only interested in .class files
            if (files[i].endsWith(".class")) {

                // removes the .class extension
                String className = pkgname + '.' + files[i].substring(0, files[i].length() - 6);

                //System.out.println("ClassDiscovery: className = " + className);

                try {
                    classes.add(Class.forName(className));
                } catch (ClassNotFoundException e) {
                    throw new RuntimeException("ClassNotFoundException loading " + className);
                }
            }
        }
    } else {
        try {
            String jarPath = fullPath.replaceFirst("[.]jar[!].*", ".jar").replaceFirst("file:", "");
            JarFile jarFile = new JarFile(jarPath);
            Enumeration<JarEntry> entries = jarFile.entries();
            while (entries.hasMoreElements()) {
                JarEntry entry = entries.nextElement();
                String entryName = entry.getName();
                if (entryName.startsWith(relPath) && entryName.length() > (relPath.length() + "/".length())) {

                    //System.out.println("ClassDiscovery: JarEntry: " + entryName);
                    String className = entryName.replace('/', '.').replace('\\', '.').replace(".class", "");

                    //System.out.println("ClassDiscovery: className = " + className);
                    try {
                        classes.add(Class.forName(className));
                    } catch (ClassNotFoundException e) {
                        throw new RuntimeException("ClassNotFoundException loading " + className);
                    }
                }
            }
        } catch (IOException e) {
            throw new RuntimeException(pkgname + " (" + directory + ") does not appear to be a valid package", e);
        }
    }
    return classes;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-05-10T07:59:02.367

没有在所有 VM 上尝试此操作，但在最近的 Oracle VM 上，有一种更短的方法：

```
Enumeration<URL> resources = Thread.currentThread().getContextClassLoader().getResources("package/name/with/slashes/instead/dots");
    while (resources.hasMoreElements()) {
        URL url = resources.nextElement();
        System.out.println(url);
        System.out.println(new Scanner((InputStream) url.getContent()).useDelimiter("\\A").next());
    } 
```

这将打印出包中资源的名称，以便您可以`getResource(...)`在它们上使用。该调用`url.getContent()`将返回一个实例，`sun.net.www.content.text.PlainTextInputStream`该实例是一个特定于 VM 的类。

# php - 连接两个包含 csv 的不同表格并将它们显示在网页上

> ID：10910511
> 
> 赞同：0
> 
> 时间：2012-06-06T08:14:42.493
> 
> 标签：php, mysql, arrays, join, csv

我一直遇到一个问题，我是 mysql 和 php 的新手，这里是代码，所以我可以详细解释：

```
$metros = array(1,263);
foreach($metros as $metro_id) {
    $sql = "SELECT cuisine_id, cuisine_name_en FROM poi_restaurant_cuisines";
    $result = mysql_query($sql);
    $cuisine_id = array();
    $cusine_name = array();
    while($row = mysql_fetch_assoc($result)) {
        $cuisine_id[] = $row['cuisine_id'];
        $cuisine_name[] = $row['cuisine_name_en'];
    }

    foreach ($cuisine_id as $cuisine) {
        $sql = "
            SELECT COUNT(*) 
            FROM poi AS p 
                LEFT JOIN poi_restaurant AS pr USING (poi_id)
            WHERE p.poi_address_prefecture_id = '$metro_id' 
                AND pr.poi_restaurant_cuisine_id_array 
                AND  find_in_set('$cuisine', poi_restaurant_cuisine_id_array) 
                AND p.poi_status = 1";

        $result = mysql_query($sql);
        $count_cuisine = array();

        while($row = mysql_fetch_array($result)) {
            $count_cuisine[$metro_id][$cuisine] = $row['COUNT(*)'];
        }

        echo "<table border = 1 cellpadding= 5 cellspacing= 5 width= 100>";
        echo "<tr><th>CuisineID</th><th>Count</th></tr>";
        echo "<tr><td>";
        echo $cuisine;
        echo "</td><td>";
        echo $count_cuisine[$metro_id][$cuisine];
        echo "</td><td>";
        echo "</tr>";
        echo "</table>";
    }
} 
```

`poi_restaurant_cuisine_id_array`包含 csv 值。我能够在网页上生成计数和美食 ID。我想用美食名称替换美食 ID。因为我是初学者，所以我不太擅长 sql 或 PHP。我希望我说得足够清楚。任何帮助都非常感谢......谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T10:29:07.817

试试这个：

```
echo '<table border="1" cellpadding="5" cellspacing="5" width="100">';
echo "<tr><th>Cuisine</th><th>Count</th></tr>";

$metros = array(1,263);
foreach($metros as $metro_id) {
    $sql = "SELECT cuisine_id, cuisine_name_en FROM poi_restaurant_cuisines";
    $result = mysql_query($sql);
    $cuisines = array();
    while($row = mysql_fetch_assoc($result)) {
        $cuisines[] = array(
            'id'    => $row['cuisine_id'],
            'name'  => $row['cuisine_name_en'],
        );
    }

    foreach ($cuisines as $cuisine) {
        $sql = "
            SELECT COUNT(*) 
            FROM poi AS p 
                LEFT JOIN poi_restaurant AS pr USING (poi_id)
            WHERE p.poi_address_prefecture_id = '$metro_id' 
                AND pr.poi_restaurant_cuisine_id_array 
                AND  find_in_set('{$cuisine['id']}', poi_restaurant_cuisine_id_array) 
                AND p.poi_status = 1";

        $result = mysql_query($sql);
        $count_cuisine = array();

        while($row = mysql_fetch_array($result)) {
            $count_cuisine[$metro_id][$cuisine['id']] = $row['COUNT(*)'];
        }

        echo "<tr>
            <td>{$cuisine['name']}</td>
            <td>{$count_cuisine[$metro_id][$cuisine['id']]}</td>";
        </tr>";
    }
}

echo "</table>"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T12:04:16.100

假设 food_id 是一个唯一标识符，那么只需将其用作数组索引....

```
while($row = mysql_fetch_assoc($result)) {
    $cuisines[$row['cuisine_id']] = $row['cuisine_name_en'];
}
....
foreach ($cuisines as $cuisine_id=>$cuisine_name_en) { 
```

但是，在单个列中存储多个值是一个*非常*糟糕的主意。

在循环中生成和运行查询是另一个*非常*糟糕的主意。

可以将其简化为单个查询，在内循环外部声明和调用，但由于您的数据没有规范化，这相当复杂。

# svn - 如何在“svn ci”期间获得颠覆以显示差异？

> ID：10910514
> 
> 赞同：2
> 
> 时间：2012-06-06T08:14:47.653
> 
> 标签：svn

基本上[这个问题](https://stackoverflow.com/questions/2683226/how-do-i-get-mercurial-to-show-the-diff-during-hg-com)，但为了颠覆。

我厌倦了丢失文件或添加太多更改。

我怀疑这很重要，但我使用 Emacs 作为我的编辑器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T20:50:33.750

subversion 包包含 elisp 模块*psvn* - emacs 的 subversion 接口。你可以用`M-x` `svn-status`. 用 标记要提交的文件`m`并用 开始提交`c`。

如果您想在输入提交消息时看到完整的差异，请将 emacs 变量设置`svn-log-edit-show-diff-for-commit`为`t`.

# java - java-如何获取/存储具有不同字符集的字符串变量

> ID：10910515
> 
> 赞同：0
> 
> 时间：2012-06-06T08:14:49.413
> 
> 标签：java, character-encoding

我在 List 类型的变量中有一些数据。列表中的不同元素以不同的字符集编码。我知道每个元素对应的字符集。

我想知道：如何在其各自的字符集中提取每个字符串？

此外，如果我有一些文本被用户（连同其字符集）输入到我的 Java 应用程序中，那么如何将每个值存储在列表变量中？以及如何在字符串变量中存储/检索这样的值？

并且在存储/检索数据之后，字符集的更改是否意味着现在不再使用默认字符集（UTF-8）？如果是这种情况，我该如何恢复默认字符集？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:24:12.507

标准做法是将字符串保存在 UTF-16 中，并在进行输入/输出时转换为/从。您有未正确转换的字符串。现在正确转换它们可能很棘手。返回创建字符串时的位置，并修复输入过程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:20:44.677

字符串始终存储（内部）为 UNICODE。如果将字节数组转换为字符串或将字符串转换为字节数组，则只需要处理字符集。

有关示例，请参见：[http ://docs.oracle.com/javase/tutorial/i18n/text/string.html。](http://docs.oracle.com/javase/tutorial/i18n/text/string.html)

# php - Jquery PHP - 如何在同一页面上处理登录回调？

> ID：10910520
> 
> 赞同：0
> 
> 时间：2012-06-06T08:15:09.490
> 
> 标签：php, jquery, login

简单地说，我的网站允许用户登录。

```
$('#login').click(function() {
    var user = $('#username').val();
    var pass = $('#password').val();
    $.post('authorize.php', { username: user, password: pass }, function(data) {
        //??
    });
}); 
```

`authorize.php`验证凭据以确保正确登录。但现在呢？我是使用 Jquery 来隐藏对象，还是使用or`$.show`从 PHP 页面加载新内容？我对使用感到不安，因为无论是否正确登录，元素都会被加载到 DOM 中。所有这些都发生在同一页面上。这两个选项中哪个是更好的做法？或者还有别的吗？`$.get``$.load``$.show`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:18:48.273

让 authorize.php 在成功登录的情况下将隐藏对象作为数据发送，然后在任何你想要的地方显示数据。由于您上面提到的原因，$.show 不是一个好习惯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:22:29.590

使用 ajax 请求登录不是一个好习惯。无论如何，有三种方法：

1.  您可以在没有名字、姓氏和其他动态或重要信息的情况下将一些“空白”对象添加到 DOM 中，并在用户登录后立即填充并显示。
2.  发送 dom 对象作为来自 authrize.php 的响应
3.  不要使用ajax登录:)

# oracle - Oracle Hibernate 配置解决连接被拒绝错误

> ID：10910523
> 
> 赞同：2
> 
> 时间：2012-06-06T08:15:26.713
> 
> 标签：oracle, hibernate

尝试为 oracle 使用休眠并最终出现连接被拒绝错误。
甲骨文 -12516

尝试了以下选项：

1.  设置连接池
2.  使用 c3p0 第三方建立连接池。
3.  更改了 ora 设置以增加作业队列进程。

有没有更好的分析或解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T06:13:46.400

将作业队列进程更改为 500 后，问题得到解决。每次应用运行时，它都会变为 45，这导致了问题。

# python - 如何在谷歌应用引擎中识别具有损坏参考属性的对象

> ID：10910534
> 
> 赞同：3
> 
> 时间：2012-06-06T08:16:15.380
> 
> 标签：python, google-app-engine, object, dereference

您如何正确检查谷歌应用引擎中损坏的参考属性？

例子：

```
class User (db.Model):
    userName = db.StringProperty(multiline=False)
class Foo (db.Model):
    user = db.ReferenceProperty(User, collection_name="user_foo") 
```

1.  创建了一个用户对象。
2.  创建了一个 Foo 对象。
3.  然后删除 User 中相应的引用属性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:31:02.677

正如丹尼尔罗斯曼在评论中所建议的那样：

“遍历所有 Foos 并访问 item.user，并 [检查] 是否引发了 ResolveError”

```
from google.appengine.api import datastore_errors

all_foo = Foo.all()
for bar in all_foo:
    try:
        user_refProperty = bar.user
    except datastore_errors.Error, e:
        if e.args[0][0:40] == "ReferenceProperty failed to be resolved:":
            bar.delete()
            self.response.out.write('deleted due to bad reference property')
        else: raise 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:26:02.900

您可以在`user`字段上查询：

```
referenced_users = Foo.all().filter('user', deleted_user_key) 
```

# jquery - 如何在单击时在弹出窗口中显示图像

> ID：10910537
> 
> 赞同：3
> 
> 时间：2012-06-06T08:16:20.920
> 
> 标签：jquery, html

我有一个简单的手风琴，它有三个 div 第一类，第二类，第三类。所有三个 div 都有一些图像，我想要实现的是，当我点击手风琴中的任何图像时，该图像应该显示在一个高度宽度增加的弹出窗口。任何人都可以帮助我。非常感谢任何帮助。谢谢。

[示例小提琴](http://jsfiddle.net/SzR6h/6/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:36:28.840

这是一个没有任何插件帮助的小提琴：http: [//jsfiddle.net/SzR6h/25/](http://jsfiddle.net/SzR6h/25/)

**回答您的评论**

假设您的较大图像具有完全不同的名称，我会将该名称放在图像标签中的 data-*-Attribute 中，例如

```
<img src="http://0.s3.envato.com/files/19320511/Scenery%2080x80%20Avatar.png"
data-image-big="url_to_image_big"/> 
```

在您的 JavaScript 中，您可以通过以下方式获取图像 URL：

```
var urlBigImage = $img.data('image-big'); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T08:21:04.760

您正在寻找的东西称为灯箱。“Fancybox”是一个 jQuery Lightbox 插件。

你可以在这里找到那个插件：http: [//fancybox.net](http://fancybox.net)

也有很多关于它的好文档，而且使用起来非常简单：http: [//fancybox.net/howto](http://fancybox.net/howto)

* * *

**例子：**

您只需包含所有 .js 和 .css 文件并稍微修改您的 HTML：

```
<a class="my_images" href="bigimage.jpg">
    <img src="thumbnail.jpg" alt=""/>
</a> 
```

然后添加 Fancybox：

```
$("a.my_images").fancybox(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:20:00.153

您可以使用一些灯箱插件，例如： http: [//leandrovieira.com/projects/jquery/lightbox/](http://leandrovieira.com/projects/jquery/lightbox/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T08:25:13.667

您可以使用任何灯箱插件。他们中的许多都在那里可用，这是一个使用[http://www.jacklmoore.com/colorbox的演示](http://www.jacklmoore.com/colorbox)

[工作演示](http://jsfiddle.net/joycse06/SzR6h/12/)

`href`在of 中添加大图像的 url`a`并添加一个类`colorbox`，然后包含必要的文件并初始化颜色框，如

**HTML**

```
<a class="colorbox" href="http://placekitten.com/200/300">
   <img src="http://0.s3.envato.com/files/19320511/Scenery%2080x80%20Avatar.png"/>
</a> 
```

**jQuery：**

```
$('a.colorbox').colorbox({photo:true}); 
```

# java - 从 doc 文件中的图表中提取数据

> ID：10910539
> 
> 赞同：0
> 
> 时间：2012-06-06T08:16:28.093
> 
> 标签：java, ms-word, extract

我一直在从事一个需要提取图表数据的项目，即使用 Java 从 doc 文件中提取给定图表的 X 和 Y 值，您能提出一些建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:54:20.040

- 如果您的文件是 XML 文件之类的结构化文件，则可以使用 java XML 解析器，这是一个[链接](http://docs.oracle.com/javase/tutorial/jaxp/TOC.html) - 如果是 JSON 文件，请使用 java JSON 解析器。- 如果您的文件不是结构化的，您需要使用[java chars I/O 库](http://docs.oracle.com/javase/tutorial/essential/io/charstreams.html)读取您的文件 并解析它以获得您想要的值。

检查我所做的这个[项目，看看我如何使用 sax 解析器和使用 DOM 解析器解析结构化 XML 文件。](https://github.com/Adio183/adelin_clouway_course/tree/xml/src/com/clouway/xml)

# php - 是否始终定义 HTTP_HOST 服务器变量？

> ID：10910541
> 
> 赞同：9
> 
> 时间：2012-06-06T08:16:47.493
> 
> 标签：php, apache, iis

是否始终为所有服务器定义服务器变量`HTTP_HOST`，或者例如在 IIS 中以其他名称定义，甚至根本没有定义？

另外，那个值总是被定义的？还是一些他们没有定义该值的主机？有没有其他方法可以检索该值？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-06T08:24:55.333

引用手册

HTTP_HOST 是

```
主机内容：当前请求的标头（如果有）。
```

HTTP_HOST 是客户端 HTTP 请求的一部分，并指定请求将被定向到哪个主机名。如果未设置 HTTP_HOST，则客户端要么非常非常旧（HTTP 1.0 不支持 HTTP_HOST），要么直接向您的网站 IP 发出请求。

我认为 Host HTTP Header 自 HTTP 1.1 以来是强制性的

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T08:21:43.223

`HTTP_HOST`不是由服务器定义的，它是

> 主机内容：当前请求的标头（如果有）。

因此，这取决于您的请求的标头信息是否包含`Host`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-04-03T19:47:36.990

它并不总是被定义。

如上所述，只有在有http请求时才定义。如果您从 CLI 运行 php 脚本（例如 php filename.php），`HTTP_HOST`则不会设置密钥。

此外，您应该注意它`HTTP_HOST`是由客户端定义的，因此很容易伪造它并且它不可靠。你应该依赖类似的东西`SERVER_NAME`。

如果您使用的是 PHP >= 5.3.0，那么您应该使用

```
gethostname(); 
```

您可以[在此处](http://www.php.net/manual/en/function.gethostname.php)查看文档。

如果您使用的是 PHP >= 4.2.0 & PHP < 5.3.0 那么

```
php_uname('n'); 
```

会做同样的工作。

# actionscript-3 - 如何计算数值轴的主要单位

> ID：10910546
> 
> 赞同：3
> 
> 时间：2012-06-06T08:17:17.073
> 
> 标签：actionscript-3, charts, rounding

我想在 y 轴上显示三个标签`min`：`middle`和`max`。最大值 - 最小值 = 9572。找到中间值的最简单方法是 9572 / 2 = 4786。这些值不太好，因此 Excel 可能会将间隔增加到 1000 并设置`middle`为 500。

`min`当和被给定时，我如何为我的 y 轴计算好的值`max`？ `min`和/或`max`可能是负面的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T10:08:21.893

好问题！最近我最近解决了类似的问题，我做了什么：

1.  创建一个可能的步骤数组，例如 [1, 2, 5, 10, 20, 25, 50, 75, 100, 200, 250, 500, 750, 1000, 2000, 2500, 5000, 7500, 10000]
2.  确定你需要多少个标签——我猜是 3 个
3.  从数组中选择步长。9572 / (3 - 1) = 4786，最近的步长是 5000。您可以比较下一步和上一步的距离，并在此处进行自定义舍入，例如，如果未舍入的步长比下一步少 20%，则选择下一步，否则上一个。
4.  为最小标签选择好看的起点。取您的实际最小值，除以所选步长 (5000)。将结果四舍五入（您可以使用`floor`最小值和`ceil`最大值）并将其乘以所选步长。例如，如果 min = -3400 且 max = 2700：

    scaleMin = floor(-3400 / 5000) * 5000 = -5000
    scaleMax = ceil(2700 / 5000) * 5000 = 5000

这将给出三个标签：-5000、0 和 5000。如果您可以容忍 y 轴上的最后一个标记*低于*图形最大值，请不要只使用 ceil（或 floor）。计算图表最大值偏离标记的百分比，如果太多则添加一个步骤。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-31T17:16:19.817

可能有助于在 C# 中提供实现。我的样本可能不适用于负 y 轴值。希望它可以帮助某人！

```
private double GetMajorStep(double yAxisMax)
    {
        int[] stepArray = {1, 2, 5, 10, 20, 25, 50, 75, 100, 200, 250, 500, 750, 1000, 2000, 2500, 5000, 7500, 10000, 20000, 50000,100000, 500000,1000000};
        const int numLabels = 2;
        var stepSize = (int) (yAxisMax/(numLabels - 1));
        var possibleSteps = stepArray.Where(p => p < stepSize).ToList();
        if (!possibleSteps.Any()) return stepSize;

        var nearest = possibleSteps.OrderBy(x => Math.Abs((long)x - stepSize)).First();
        return nearest;
    } 
```

# asp.net - ASP.NET MVC3 @Html.EditorFor 复选框禁用启用

> ID：10910548
> 
> 赞同：5
> 
> 时间：2012-06-06T08:17:30.097
> 
> 标签：asp.net, asp.net-mvc-3, razor

我正在使用 Razor 在 ASP.NET MVC3 中工作。我有一种情况，我想启用禁用基于布尔属性的复选框。我的模型类有 2 个属性，例如：

```
public bool IsInstructor { get; set; }
public bool MoreInstructorsAllowed { get; set; } 
```

现在在我的 cshtml 文件中，我将复选框显示为：

```
@Html.EditorFor(model => model.IsInstructor) 
```

我希望此复选框根据 MoreInstructorsAllowed 属性启用禁用。提前感谢您的解决方案。:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:54:36.250

扩展方法将`EditorFor`您的模型连接到位于 EditorTemplates 文件中的 PartialView，该文件对应于模型的类型（因此在这种情况下，它需要是`Boolean.cshtml`）。

您可以通过向编辑器模板添加条件逻辑来实现您的目标。您还需要为部分提供一种了解`MoreInstructorsAllowed`属性具有什么值的方法，并且可以使用`EditorFor`带参数的重载`additionalViewData`来传递此信息。

老实说，更改处理布尔值的默认功能似乎对于您正在尝试做的事情有点多。如果这两个字段从根本上联系在一起，那么将两个字段组合起来并将部分视图连接到组合而不是布尔值本身会更有意义。我的意思是：

```
public class InstructorProperty { 
    public bool IsInstructor { get; set; }
    public bool MoreInstructorsAllowed { get; set; }
} 
```

并在*/Shared/EditorTemplates/InstructorProperty.cshtml*

```
@model InstructorProperty

//  ...  Your view logic w/ the @if(MoreInstructorsClause) here. 
```

唯一的问题是，现在您又回到了必须使用该`CheckboxFor`方法才能应用“禁用”属性的问题，因为这些`EditorFor`方法不接受临时 html 属性。有一个已知的解决方法涉及覆盖您`ModelMetadataProvider`的属性并使用您在 ModelMetadataProvider 中提供处理的属性来装饰属性。此技术的工作示例可在以下网址获得：[http](http://aspadvice.com/blogs/kiran/archive/2009/11/29/Adding-html-attributes-support-for-Templates-_2D00_-ASP.Net-MVC-2.0-Beta_2D00_1.aspx) [: *//aspadvice.com/blogs/kiran/archive/2009/11/29/Adding-html-attributes-support-for-Templates-2D00-ASP.Net-MVC-* 2.0-Beta_2D00_1.aspx](http://aspadvice.com/blogs/kiran/archive/2009/11/29/Adding-html-attributes-support-for-Templates-_2D00_-ASP.Net-MVC-2.0-Beta_2D00_1.aspx)。但是，这仍然涉及：(1) 覆盖布尔视图并硬编码 html 或在其中使用 CheckboxFor，(2)`CheckboxFor`使用`InstructorProperty`视图，或 (3) 将 html 硬编码到`InstructorProperty`视图中。我认为为这样一件微不足道的事情过度复杂的设计是没有意义的，所以我的解决方案是使用这个`InstructorProperty`视图并添加：

```
@Html.CheckboxFor(_=>_.IsInstructor, 
    htmlAttributes: (Model.MoreInstructorsAllowed ? null : new { disabled = "disabled"} ).ToString().ToLowerInvariant() }); 
```

但我知道每个人都有不同的风格......另一个旁注。如果您对使用 Checkbox 方法的反感与生成的命名方案有关，那么 Mvc 框架访问此功能的方式涉及`html.ViewContext.ViewData.TemplateInfo.GetFullHtmlFieldName(htmlFieldName)`

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2021-09-07T23:00:17.223

```
@if (Model.MoreInstructorsAllowed)
  {
    @Html.EditorFor(model => model.IsInstructor)
  }
  else
  {
    @Html.EditorFor(model => model.IsInstructor, new { htmlAttributes = new { @disabled = "disabled" } })
  } 
```

# jquery - 如何在 JavaScript 中检测 OS X 的 Command-Shift-Click？

> ID：10910554
> 
> 赞同：3
> 
> 时间：2012-06-06T08:17:48.107
> 
> 标签：jquery, macos, backbone.js, pushstate

通常，此组合会在 Chrome、Firefox 和 Mac 版 Safari 中将链接作为新选项卡打开。有没有办法检测到这一点？我知道 jquery 的`event.which`，但它给出了 的值`1`，这与简单的左键单击没有区别。

用例是 Backbone HTML5 pushstate，我想在其中附加一个`'click'`事件处理程序，该处理程序不会触发页面加载以进行正常导航，但仍允许用户通过 ⌘-⇧-click 在新选项卡中打开链接。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T09:02:45.193

您可以使用事件的`metaKey`和`shiftKey`属性：

```
$(window).click(function(e) {
  if(e.metaKey && e.shiftKey) {
    console.log("Command+Shift+Click");
  } else {
    console.log("Other click");
  }
}); 
```

因此，例如，如果您正在执行`#!`路由而不是实际跟踪 url，并且希望 command 或 command+shift 执行正常行为（在新选项卡中打开），您将有类似

```
function followLink(e) {
  if(!e.metaKey) e.preventDefault();
  yourApp.navigate('/link');
} 
```

# c - 编写一个动态分配内存的函数，如 malloc

> ID：10910557
> 
> 赞同：1
> 
> 时间：2012-06-06T08:18:08.450
> 
> 标签：c, linux, memory-management, malloc

如何`malloc`在 Linux 平台上实现？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T08:35:36.963

在 Linux 中，`malloc`基于两个函数：

1.  `brk`- 改变堆的大小。一旦你增加了大小，就由你来管理堆。**注意**：如果你管理堆，正常的`malloc`一定不能这样做。所以这种方式需要禁用所有调用`malloc`（包括隐式调用，如`strdup`）。

2.  `mmap`- 从内核分配一个或多个页面（也可用于文件 I/O）。当您有内存页面时，您可以以某种方式管理它们并将较小的部分返回给调用者。您可以并行执行此操作`malloc`- 它将管理它获得的页面，您将管理您获得的页面。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T16:29:51.877

该`sbrk()`功能可能是您正在寻找的。它通过您指定的字节数增加堆的大小。

一旦你获得了这块新的内存，你就可以选择如何管理分配的和空闲的字节。我个人认为二进制伙伴系统是一个很好的算法开始 - 谷歌搜索会给你一些可靠的解释。还有第一次拟合、最后一次拟合、最佳拟合和最差拟合算法等。当然，与其他任何事情一样，每个人都有其优点和缺点。

就 go 的简单实现`malloc()/free()`而言，K&R C 有一个很好的实现。

# jquery - jQuery 发光动画：如何改进？

> ID：10910563
> 
> 赞同：1
> 
> 时间：2012-06-06T08:18:37.313
> 
> 标签：jquery, html, jquery-ui, css

我一直在使用 CSS 和 jQuery（简单的 CSS 样式更改，请参阅[此处](https://stackoverflow.com/questions/7061420/how-do-i-animate-a-glowing-effect-on-text)）让事物焕发光彩，现在我想知道如何使这些动画变得更好。

目前，我只是在无框阴影和框阴影之间进行过渡，这看起来不错。但我试图找到如何让它看起来更好，就像它是某种雾一样：基本上，不是有固定长度的盒子阴影，而是让它在这里更长，那里更短（不规则的阴影，所以说话）。

现在我不希望 CSS3 的 box-shadow 可以做到这一点（但也许我错了），所以我想知道如何产生我正在使用 jQuery 搜索的效果。有没有办法用 jQuery 生成一些图层？或者也许创建一个幻影文本并使用它的文本阴影？

我在这里接受各种解决方案。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:40:55.283

看到这个[http://www.css3.info/preview/text-shadow/](http://www.css3.info/preview/text-shadow/)

这可能会有所帮助

这个[http://jsfiddle.net/zenjJ/102/的例子](http://jsfiddle.net/zenjJ/102/)

采用

```
text-shadow: 0 0 4px white, 0 -5px 4px #FFFF33, 2px -10px 6px #FFDD33, -2px -15px 11px #FF8800, 2px -25px 18px #FF2200; 
```

实现不规则阴影效果

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T09:45:43.750

首先，如果我们的建议“更好”，看看您必须比较的内容可能会有所帮助。

我会告诉你，当谈到发光时，对比真的是你的朋友。我在这里写了一些简单的例子来展示一些不同的想法。我在这里使用了 text-shadow 作为发光效果，您可以将它们堆叠起来以更改发光效果（例如，参见第 3 个选项）。如果你想让它“动画化”，你可以把它放在一个 setinterval 上以在类之间切换（见第一个选项）。

我使用 jquery 和 jquery UI 进行类切换，但也有其他选择。

**演示：http:** [//jsfiddle.net/mikecruz/zjbXa](http://jsfiddle.net/mikecruz/zjbXa)

# gwt - 服务器端的 GWT Canvas 绘画？

> ID：10910565
> 
> 赞同：0
> 
> 时间：2012-06-06T08:18:41.633
> 
> 标签：gwt, canvas, png

对于我的 GWT 应用程序，我将数据传输到使用数据在画布上绘制的客户端。问题是这些数据的传输消耗了太多的带宽。

我的问题是：我可以在服务器上以类似的方式创建一个 png 文件并将其发送给客户端吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T11:16:43.970

是的，应该没问题。有两种方法可以解决它。

1.  如果您只想显示图像：创建一个`IMG`小部件并将 src 设置为生成 PNG 的服务器 url。(`<img src="http://myHost/loadImage?id=12">`

2.  如果要处理图像：用于`RequestBuilder`将 PNG 传输到客户端。有关更多详细信息，请参见[此处](https://stackoverflow.com/questions/3071884/gwt-base64-image)和[此处](https://stackoverflow.com/questions/4553316/gwt-image-from-database)。

**更新**：对于后端也有不同的解决方案：

1.  [服务器端节点画布](https://www.learnboost.com/blog/introducing-node-canvas-server-side-html5-canvas-api/)
2.  使用 JAVA 库生成 PNG（请参阅[此处](http://www.javaworld.com/jw-05-2000/jw-0505-servlets.html)了解更多详细信息）

# ios - 如何删除刚刚添加的一个注释？

> ID：10910568
> 
> 赞同：0
> 
> 时间：2012-06-06T08:18:44.320
> 
> 标签：ios, xcode, annotations

我在 mapView 和用户位置点上有很多注释。然后，如果用户点击 2 秒。在地图上，我添加了一个带有选项的额外注释。我需要通过按下按钮从地图中删除最后添加的注释。如何在不删除任何其他注释的情况下将其删除？

```
- (void)addPin:(UILongPressGestureRecognizer*)recognizer { 
    if(UIGestureRecognizerStateBegan == recognizer.state) {

        CGPoint tappedPoint = [recognizer locationInView:mapView];

        CLLocationCoordinate2D locCoord= [mapView convertPoint:tappedPoint toCoordinateFromView:mapView];

        MKPointAnnotation *annot = [[MKPointAnnotation alloc] init];
        annot.coordinate = locCoord;
        [self.mapView addAnnotation:annot];

    }

    if(UIGestureRecognizerStateChanged == recognizer.state) {
        // Do repeated work here (repeats continuously) while finger is down
    }

    if(UIGestureRecognizerStateEnded == recognizer.state) {
        // Do end work here when finger is lifted
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-06-05T15:39:45.397

要从地图视图中删除所有注释：

```
[vwMap removeAnnotations:vwMap.annotations]; 
```

PS：vwMap是MKMap视图对象

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T08:30:36.030

请执行下列操作，

如果您有注释对象

```
[self.mapView removeAnnotation:annot]; 
```

如果你有对象的索引

```
[self.mapView removeAnnotation:self.mapView.annotations.lastObject]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-07T01:12:21.980

我设法删除了通过执行以下操作触及的注释对象，我知道这不是问题，但它可能会帮助某人

将 mapView 设置为委托

```
- (void)mapView:(MKMapView *)thisMapView didSelectAnnotationView:(MKAnnotationView *)view {

MKPointAnnotation *thisTouchedAnnotation = view.annotation;

uint8_t annotationCount = thisMapView.annotations.count;

for(int i =0; i<annotationCount; i++)
{
    if ([thisMapView.annotations objectAtIndex:i]==thisTouchedAnnotation){
        [thisMapView removeAnnotation:[mapView.annotations objectAtIndex:i]];
        break;
    }

   }
} 
```

不是完美的代码，但它可以指导你:-)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T08:41:38.007

执行此操作以删除您在删除操作中添加的最后一个注释：

```
[self.mapView removeAnnotation:[self.mapView.annotations lastObject]]; 
```

希望有帮助

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-02-03T10:36:13.673

使用此代码！

```
NSArray *array=self.mapview.annotations;
for (MKPointAnnotation *anno in array)
{
    if(anno==[array lastObject])
    {
        [self.mapview removeAnnotation:anno];
    }
} 
```

# android - Android：列表视图末尾或屏幕底部的按钮

> ID：10910574
> 
> 赞同：4
> 
> 时间：2012-06-06T08:19:24.503
> 
> 标签：android, listview, button, screen

我对我的 android 应用程序有一个要求，即按钮位于列表的底部。这是故意这样做的，因此用户必须滚动浏览整个列表（并且可能会看到更多答案）。因此，我将按钮添加为列表视图页脚。

这一切都很好，但在某些情况下，列表太短（其中只有 3-4 个项目），所以按钮最终会出现在屏幕中间。我想要的是该按钮位于列表视图的末尾（因此，如果列表中有足够的项目，用户只能在向下滚动时看到该按钮）但是当列表视图仅包含几个项目时，该按钮将自行修复到屏幕底部。

给出我想要的想法：

```
onCreate() {
   if (button.getyposition() > screen.getyposition()) { // example methodnames!
      // Button at the bottom of the listview (many items)
   }
   else {
      // Button at the bottom of the screen (few items in listview)
   }
} 
```

关键是，我不知道这是否可能以及从哪里开始。谁能给我一些在哪里查看甚至更好的示例代码的指示？提前致谢！

**编辑：**

我添加了一张图片来澄清我的问题。我希望这更有意义！

[图片在屏幕中显示按钮的一半 http://niles11.dyndns.org/example.png](http://niles11.dyndns.org/example.png)

如您所见，将按钮放在屏幕一半时看起来很奇怪。我希望按钮位于屏幕底部但（！）当列表视图包含更多项目时我希望它出现在列表视图的底部（所以首先，不在屏幕上）

希望这张图有帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:32:55.697

我明白你的问题。我有一个理想：你应该`inflate`最后一个 item(position = array.size) 作为按钮而不是普通的视图项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T09:27:19.813

设置`ListView` `height`为`fill_parent`并添加一个`Button`作为页脚使用`addFooterView()`

如果您要求仅`Button`在列表滚动到末尾时显示，那么您可以查看这篇文章并使用逻辑来显示/隐藏页脚视图（即，`View.GONE`在页脚上设置以隐藏它，`View.VISIBLE`并展示下）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T09:09:28.933

如果我没记错的话，你希望你的列表视图在整个屏幕上，下面有一个按钮。使 listview 的高度 match_parent 和 android:layout_margingBottom="somedp" 和按钮 marginTop="-somedp" somedp 在两个地方都应该相同...

# php - Javascript 无法在 Internet Explorer 上运行

> ID：10910577
> 
> 赞同：0
> 
> 时间：2012-06-06T08:19:54.210
> 
> 标签：php, javascript, html, ajax, internet-explorer

我正在为我的第一个自由客户建立一个网站，他在测试时遇到了 Internet Explorer (barf) 的问题，我在 Windows 计算机和我的 Mac 上的虚拟机上进行了尝试，在这两种情况下它都有效.

这是要发生的事情：

1.  用户填写表格
2.  用户点击提交
3.  Ajax 使用 php 脚本进行验证
4.  如果验证正常 - 使用另一个 php 脚本发送电子邮件，否则显示错误
5.  当验证成功并发送电子邮件时，显示成功消息。

这一切对我来说都按预期工作，但对于客户来说，提交按钮没有做任何事情。

此外，在常见问题解答页面（顶部菜单中的第二个链接）上，单击一个问题没有任何效果，但它应该会显示一个答案（就像它对我一样！）。

网站在[这里](http://adamjwaite.co.uk/sacv3/HTML/)

为什么它应该适用于我的 IE 版本而不是他的版本？是不是他有什么东西阻止了Javascript？我对此感到茫然，其他人可以重现错误还是只有他？

值得一提的是，该站点在所有其他浏览器上都能正常运行。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T08:26:37.157

好，我知道了。在我打开 IE 脚本控制台 (F12) 之前，它对我也不起作用。

所以，问题是在你的 Javascript 中你在**`console.log('something')`**某处使用过。请记住，在完成调试内容后**始终删除**对此方法的调用，因为`console`在隐藏控制台之前在 IE 中未定义（并且它始终隐藏在非开发计算机上）。它未定义的事实会在方法调用上引发错误，`log()`从而破坏整个脚本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-16T19:52:57.553

对我有用的另一种修复方法是使用以下内容修补`console.log`对象：

```
if ( !console ) var console = { log: function() { } }; 
```

然后您可以将控制台排除在消息之外以进行调试。

# c++ - 逐一组装类型的编译时列表（C++）

> ID：10910584
> 
> 赞同：4
> 
> 时间：2012-06-06T08:20:44.543
> 
> 标签：c++

我想在编译时通过一个接一个地添加类型来组装一个类型列表（实际上是：一组）。像这样的东西：

```
struct HeadOfList;

struct Item1;
[ addToList<Item1, HeadOfList> ]

struct Item2;
[ addToList<Item2, HeadOfList> ] 
```

我不在乎列表是如何存储的。我想到了这样的事情：

```
template<typename T> struct NextInList { typedef void type; };
template<> struct NextInList<HeadOfList> { typedef Item1 type; };
template<> struct NextInList<Item1> { typedef Item2 type; };
template<> struct NextInList<Item2> { typedef Item3 type; }; 
```

但 a`boost::mpl::list`也一样好。类型的顺序也无关紧要，我只想能够遍历它们并向它们添加新元素。

我对此有一种不好的感觉，因为这样的构造意味着例如`LastElementOf<MyList>::type`会在源文件的不同点（添加新元素之前和之后）编译为不同的类型，这对我来说似乎是假的。尽管如此，这正是我现在想要的。

你认为有可能吗？允许使用 C++11。

**更新：**我只想补充一点，在添加新元素时我不知道添加到列表中的最后一个元素，但我知道列表本身（例如列表的头部）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-17T20:32:49.990

在咨询了 comp.lang.c++.moderated 之后，我想出了下面详述的代码。`PushBack()`宏用于向列表中添加新项目，可以通过使用宏迭代项目，`Next()`并且可以通过其“下一项”本身来识别最后一项。所以一个非常基本的示例代码：

```
struct A {}; 

namespace NS1 { 
    struct B {}; 
    struct C {}; 
    struct D {}; 

    // building up the compile-time list 
    struct Head; 

    PushBack(Head, A); 
    PushBack(Head, B); 
} 

PushBack(NS1::Head, NS1::C); 

namespace NS1 { 
    PushBack(Head, D); 
} 

// iterate through the list
namespace NS2 { 

    // end of the list reached (recognized from PrevItem == Item)
    template <class ListId, class Item> 
    void print(Wrapper<Item>, Wrapper<Item>) {} 

    // process Item and advance to the next element
    template <class ListId, class PrevItem, class Item> 
    void print(Wrapper<PrevItem>, Wrapper<Item>) 
    { 
        cout << typeid(Item).name() << endl; 
        print<ListId>(Wrapper<Item>(), Wrapper< Next(ListId, Item) >()); 
    } 
} 
```

可以在[此处](http://ideone.com/UNDDA)或[此处](http://dl.dropbox.com/u/3095355/CompileTimeList.cpp)找到更详细的示例，其中还包含一个迭代器以简化列表的使用。

“图书馆”最重要的部分：

```
/// Helper class to wrap incomplete types and avoid instantiation of T 
template<class T> struct Wrapper {}; 

namespace CTList { 
    /// The front of compile-time lists 
    struct Nil {}; 
} 

/// Compile-time list helper 
template< typename ListId, typename Item > 
Item NextInListHelper( ::Wrapper<ListId>, ::Wrapper<Item> ); 

/// The last element of the list
#define Back(ListId) \ 
    decltype( NextInListHelper( ::Wrapper<ListId>(), ::Wrapper<\ 
    decltype( NextInListHelper( ::Wrapper<ListId>(), ::Wrapper<\ 
    decltype( NextInListHelper( ::Wrapper<ListId>(), ::Wrapper<\ 
    decltype( NextInListHelper( ::Wrapper<ListId>(), ::Wrapper<\ 
    decltype( NextInListHelper( ::Wrapper<ListId>(), ::Wrapper<\ 
    decltype( NextInListHelper( ::Wrapper<ListId>(), ::Wrapper<\ 
    decltype( NextInListHelper( ::Wrapper<ListId>(), ::Wrapper<\ 
    decltype( NextInListHelper( ::Wrapper<ListId>(), ::Wrapper<\ 
    decltype( NextInListHelper( ::Wrapper<ListId>(), ::Wrapper<\ 
    decltype( NextInListHelper( ::Wrapper<ListId>(), ::Wrapper<\ 
                             CTList::Nil \ 
     >())) \ 
     >())) \ 
     >())) \ 
     >())) \ 
     >())) \ 
     >())) \ 
     >())) \ 
     >())) \ 
     >())) \ 
     >())) 

/// Add a new element (type) to the list 
#define PushBack( ListId, item) \ 
    item NextInListHelper( ::Wrapper< ListId >, ::Wrapper< Back(ListId) > ) 

/// The next element in the ('ListId') list after 'item' 
#define Next(ListId, item) decltype(NextInListHelper(::Wrapper<ListId>(), ::Wrapper<item>() )) 
```

它使用`NextInListHelper`函数声明和 Argument Dependent (Name)Look-up 来记录列表。可以使用`Back`宏引用列表的最后一个元素。

列表的第一个元素可以访问为：`Next(ListId, CTList::Nil)`，列表的最后一个元素可以识别为它与它的下一个元素相同（`LastItem == Next(ListId, LastItem)`）。

我仅使用 gcc 4.6.3 对其进行了测试，但它旨在完全符合 C++11。

关于解决方案的几句话：

*   在这种形式中，它可以处理最多 10 个元素的类型列表，但是可以通过向`Back()`宏添加额外的行来扩展
*   “列表”只能包含一次类型
*   声明中使用的附加`ListId`类型`NextInListHelper`允许类型同时包含在多个列表中
*   `Wrapper`用于避免列表元素类型的实际实例化并支持不完整的类型作为 ListId
*   `PushBack()`'calls' 必须在`ListId`( `NS1`) 或`Wrapper`（全局范围）的命名空间中
*   列表的处理可以放在任何命名空间( `NS2`)

# c# - Windows应用程序C#中不同级别用户的访问权限

> ID：10910587
> 
> 赞同：1
> 
> 时间：2012-06-06T08:20:57.320
> 
> 标签：c#, .net, winforms, visual-studio-2010

我正在开发一个大学管理软件，其中有不同级别的用户，如管理员、校长、教师。每个用户都有不同级别的权限。因此，并非所有用户都可以使用所有功能。用户将拥有他们的登录信息。

所以我的问题是我如何根据他们的权限级别设置对每个功能的访问......？？？

现在我通过在登录时检查权限级别并设置功能菜单项可见或不可见来做到这一点。

他们有没有其他最好的方法来实现这个......？？？？

提前谢谢你.... :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:24:01.697

您可以将显示/隐藏项目委托给自定义控件，该控件将封装执行此操作的逻辑。

# sql-server - 将列值从一个表复制到另一个表

> ID：10910590
> 
> 赞同：2
> 
> 时间：2012-06-06T08:21:10.550
> 
> 标签：sql-server, tsql, copy

我正在尝试创建一个 T-SQL 查询几个小时。谷歌和论坛搜索没有帮助，所以我希望有人可以帮助我。

有两个表，`Change`和`Journal`。中的每一行`Change`都有 5 个相关的行`Journal`。

我想要做的是将`CreatedDateTime`特定相关行的`Journal`列值 ()`AuthorizationDate`从`Change`. 这应该对`Change`.

这是我到目前为止所取得的成就：

```
UPDATE Change 
SET Change.ap_ITSM_MDP_AuthorizationDate = 
    ( SELECT Journal.CreatedDateTime 
      FROM Journal 
        JOIN Change 
          ON Journal.Parentlink_RecID = Change.RecID 
      WHERE ITSM_ChangeNotes_Subject = 'Status changed to: Authorized' 
        AND Change.RecID = Journal.ParentLink_RecID
    ) 
```

不幸的是，我收到以下错误消息：

> 消息 512，级别 16，状态 1，第 1 行子查询返回超过 1 个值。当子查询跟随 =、!=、<、<=、>、>= 或子查询用作表达式时，这是不允许的。该语句已终止。

我以为我确实通过 WHERE 子句 ( `ChangeNotes_Subject = '...'`) 将结果限制为一个。我做错什么了？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T08:26:44.570

我认为这会起作用：

```
UPDATE Change 
SET Change.ap_ITSM_MDP_AuthorizationDate = 
    ( SELECT Journal.CreatedDateTime 
      FROM Journal 
      WHERE ITSM_ChangeNotes_Subject = 'Status changed to: Authorized' 
        AND Change.RecID = Journal.ParentLink_RecID
    ) ; 
```

但使用`JOIN`更好 - 以避免任何不需要的更新。就是这样：

```
UPDATE Change 
SET Change.ap_ITSM_MDP_AuthorizationDate = Journal.CreatedDateTime 
FROM Journal 
  JOIN Change 
    ON Change.RecID = Journal.ParentLink_RecID
WHERE ITSM_ChangeNotes_Subject = 'Status changed to: Authorized' ; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:25:36.427

正如您所说，您的日记有五个条目用于更改的条目...在您的子查询中使用 top 1 或 max 来证明您可以完成这项工作。然后，您必须考虑从哪些日记条目中获取日期时间，并更改您的子选择以仅选择该条目。

哦，你的“where”子句重复了你的加入，丢弃那部分。此外，哪个表位于“ITSM_ChangeNotes_Subject”中，如果它在 Change 中，这可能是您在返回的 Journal 行中看到重复项的原因。

使用示例更改 ID 运行子查询，以查看您是否确实为搜索字符串获取了重复的行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T09:26:10.510

```
UPDATE Change 
SET Change.ap_ITSM_MDP_AuthorizationDate = 
    ( SELECT TOP 1 Journal.CreatedDateTime 
      FROM Journal 
        JOIN Change 
          ON Journal.Parentlink_RecID = Change.RecID 
      WHERE ITSM_ChangeNotes_Subject = 'Status changed to: Authorized' 
        AND Change.RecID = Journal.ParentLink_RecID
    ) 
```

注意：小心使用此查询，因为子查询将仅返回您是否期望的一行，我对此表示怀疑。

# google-app-engine - 将 GAE 应用程序从 python 2.5 迁移到 2.7

> ID：10910591
> 
> 赞同：3
> 
> 时间：2012-06-06T08:21:13.827
> 
> 标签：google-app-engine, python-2.7

我正在尝试迁移我的应用程序并且一切正常，直到我将 app.yaml 从**threadsafe: false**更改为**threadsafe: true**。

我收到的错误是：

**无法使用 CGI 处理程序启用线程安全：a/b/xyz.app**

经过一番谷歌搜索后，我发现：

只有顶级目录中的脚本才能作为处理程序，因此如果您在子目录中有任何脚本，则需要移动它们，并且脚本引用相应更改：

**- url: /whatever**
# 这不起作用 ...
#脚本：lib/some_library/handler.app
**# ... 这确实有效
脚本：handler.app**

**是否有任何解决方法**（如果上述研究有效），因为我不想改变我的项目层次结构？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T10:23:17.147

只要它是有效的 python 导入路径，您就可以在任何地方使用您的处理程序。

我的 app.yaml 充满了像这样的条目

```
- url: /_ah/queue/deferred
  script: google.appengine.ext.deferred.application
  login: admin 
```

文件夹`__init__.py`中需要它们以使它们作为模块工作，但您通常可以将任何文件夹替换`/`为`.`

或者按照 Daniel 的建议进行操作，并注意您可能必须先修改`sys.path`第一个以包含`lib`dir，然后再导入处理程序。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T08:29:34.037

将主文件放在顶级目录中并在那里导入所有处理程序，然后通过该文件引用它们

# php - 从 Javascript 调用 PHP 函数并返回一个数组

> ID：10910592
> 
> 赞同：-1
> 
> 时间：2012-06-06T08:21:23.870
> 
> 标签：php, javascript, ajax, arrays

我在 JAVASCRIPT 中有这个，a.php -

```
function gettemplate(realnam) { 
```

警报（realnam）}

我想将 func_a.php 中的所有 a[] 数组传递给第一个文件 a.php.. 以在 javascript 中使用该数组。我该怎么做？多谢

编辑——它的作品！，如果有人需要——

```
$a= json_encode($a);
    echo "<SCRIPT LANGUAGE='javascript'> gettemplate('$a');</SCRIPT>\n"; 
```

:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:26:09.120

您需要序列化和解析数组，因为 XMLHttpRequests 只能包含 XML 或原始文本。选择的格式是[JSON](http://json.org/)，得到广泛支持，包括 PHP 和 JavaScript。

服务器端您将使用 json_encode。不要忘记使用有效的 MIME 类型来提供 JSON。您还应该将错误消息编码为有效的 JSON。

客户端，即在回调函数中，您将在 xmlhttp.responseText 上使用 JSON.parse。

你也会在网上找到很多这方面的信息，你只需要搜索。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:27:58.687

您可以在 func_a.php 中返回（回显）一个 json 字符串[http://de.php.net/manual/en/function.json-encode.php](http://de.php.net/manual/en/function.json-encode.php)并在 javascript 中解析它

```
echo json_encode($a); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:31:08.173

阅读[JSON](http://php.net/manual/en/book.json.php)特别是[json_encode](http://php.net/manual/ru/function.json-encode.php)。func_a.php 必须返回如下内容：

```
header('Content-type: application/json');
echo json_encode($a); 
```

要在 javascript 中获取对象，请使用以下命令：

```
var myResponseObject = JSON.parse(xmlhttp.responseText); 
```

# php - (MySQL)需要从多个表中获取匹配分数，并按它们的分数总和排序

> ID：10910593
> 
> 赞同：1
> 
> 时间：2012-06-06T08:21:28.833
> 
> 标签：php, mysql

我需要使用一个公共键从多个表中获取 MATCH AGAINST 分数并将它们的总和组合起来。最终的目标是创建一个搜索算法，该算法将返回具有匹配 group_ID 的行。我已经构建了一个 mysql 查询，该查询尚未运行且没有错误。

如果您想知道，这是特定的错误：

> 警告：mysql_fetch_array()：提供的参数不是有效的 MySQL 结果资源

这些是我要搜索的表：

* * *

## 表：jn_groups

> group_ID，名称

* * *

## 表：jn_chat

> 聊天 ID、群组 ID、姓名

* * *

## 表：jn_events

> event_ID、group_ID、标题、描述

* * *

我当前的查询如下所示：

```
SELECT 
    g.group_ID AS group_ID,
    g.name AS name,
    SUM(gscore + cscore + escore) AS score,
    MATCH(g.name) AGAINST (" . $query . "') AS gscore,
    MATCH(c.name) AGAINST (" . $query . "') AS cscore,
    MATCH(e.title,e.description) AGAINST (" . $query . "') AS escore 
FROM jn_groups g 
LEFT JOIN jn_chat c ON g.group_ID = c.group_ID 
LEFT JOIN jn_events e ON g.group_ID = e.group_ID 
WHERE 
    MATCH(g.name) AGAINST (" . $query . "') 
    OR MATCH(c.name) AGAINST (" . $query . "')
    OR MATCH(e.title,e.description) AGAINST (" . $query . "') 
ORDER BY score 
```

任何帮助进行类似于该运行的查询将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:46:30.067

有两件事可能是打破此查询的原因：

**多变的`$query`**

您所有的 AGAINST 运算符都以 结尾**`"'`**，但仅以 开头**`"`**。确保`$query`包含

*   有效数据和
*   以**`'`**.

**总结部分结果**

你`SUM`不会工作，因为它不知道`gscore`,`cscore`和`escore`. 它将寻找字段名称。您可以像这样更改语句的这一部分（ofc 替换*`hello world`*为您想要的搜索词）：

```
....
SUM(
    (MATCH(g.name) AGAINST ('hello world'))
    + (MATCH(c.name) AGAINST ('hello world'))
    + (MATCH(e.title,e.description) AGAINST ('hello world'))
) AS score,
.... 
```

两个建议：

*   尝试首先使用 SQL 工具（pe SQLyog、MySQL Workbench、phpMyAdmin 或类似工具）对您的数据库运行查询，以查看它是否按您希望的方式工作。还有其他几种方法可以解决这个问题（pe no 或错误的全文索引定义，错误的字段名称等），因此您可以更好地控制发生了什么问题。
*   `NAME`使用保留变量（如字段名称）时要小心。要么正确地逃避它们，要么 - 在我看来更好 - 避免它们。

# javascript - fancybox2 的问题 - $.fancybox.resize 不是函数 - 错误

> ID：10910601
> 
> 赞同：4
> 
> 时间：2012-06-06T08:22:08.160
> 
> 标签：javascript, jquery, html, fancybox

Javascript

```
/*Corner by Arthur Wulf White
jquery,  jquery ui and jeditable required
*/
$(document).ready(function()
{
    $("a.magicInput").click(function(e){
        e.preventDefault();
        $("ol.addItems").append('<li>Something</li>');
        $.fancybox.resize();
    });
    $("a.fancy").fancybox(       
    {
        'scrolling' : 'no',
        'autoScale' : true,
        'autoDimensions' : true

    });
    return false;
}); 
```

html

```
<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8 />
        <title>
            studyWise - Log in
        </title>
        <script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
        <script type="text/javascript" src="js/jquery-ui-1.8.20.custom.min.js"></script>
    <script type="text/javascript" src="js/fancy/jquery.fancybox.js"></script>
    <script type="text/javascript" src="js/fancy.js"></script>

        <link rel="stylesheet" type="text/css" media="screen" href="css/reset.css" />
        <link rel="stylesheet" type="text/css" media="screen" href="css/style.css" />
        <link rel="stylesheet" href="js/fancy/jquery.fancybox.css" type="text/css" media="screen" />    

    </head>
    <body>
        <div id="wrap">
<div id="menu">
    <a class="fancy" href="#fancybox">Open</a>
</div>
<div id="main">
    <div class="secret">
        <div id="fancybox">
            <a class="magicInput" href="">Ok</a>
            <ol class="addItems">

            </ol>
        </div>
    </div>
</div>
</html> 
```

结果：

```
$.fancybox.resize is not a function
[Break On This Error]   

$.fancybox.resize();

fancy.js (line 9)
$.fancybox.resize is not a function
[Break On This Error]   

$.fancybox.resize();

fancy.js (line 9)
$.fancybox.resize is not a function
[Break On This Error]   

$.fancybox.resize();

fancy.js (line 9)
$.fancybox.resize is not a function
[Break On This Error]   

$.fancybox.resize(); 
```

我想要的只是一个工作示例，其中fancybox 扩展/拉伸以适应其中的整个列表。谢谢 - 它应该只是 jsfiddle 中的一两行，请帮助，因为我不知道它为什么不工作。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-06T16:59:52.700

您正在使用 fancybox **v2.x**。此版本的选项是新的，与以前的版本 (1.3.x) 不兼容。

`$.fancybox.resize()` **不是**fancybox v2.x 的有效方法，请`$.fancybox.update()`改用。`autoScale`和的情况相同`autoDimensions`，它们是 v1.3.x 的选项

Check [http://fancyapps.com/fancybox/#docs](http://fancyapps.com/fancybox/#docs) for the right set of options for the version you are using.

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-06-06T09:25:36.323

[你如何在运行时调整 Fancybox 的大小？](https://stackoverflow.com/questions/994876/jquery-fancybox-resize)

[FancyBox 调整宽度](https://stackoverflow.com/questions/2398420/fancybox-resize-width)

我想这会对你有所帮助。从这些错误中可以清楚地看出缺少任何 JS 文件。

# linux - 如何消除运行“setsid scp”时出现的对话框？

> ID：10910607
> 
> 赞同：0
> 
> 时间：2012-06-06T08:22:53.607
> 
> 标签：linux, scp, dialog

由于某种原因，我必须使用“setsid”来运行我的所有命令。

但是，当运行“setsid scp ~/aaa user1@10.170.3.17:/tmp/”时，出现了一个要求输入密码的对话框。通常，提示出现在命令行中。

它是由 ssh 中的某些配置引起的吗？我想消除盒子。如何实现？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-28T14:06:02.427

该`setsid`命令的效果之一是通过 setsid(1) 启动的进程与其控制终端分离。在没有控制终端的情况下，`scp`不能仅仅因为它没有“看到”任何东西而在启动它的终端上询问密码。但是，它“看到”的是环境变量，它告诉它有一个 X11 窗口会话，它可以在其中显示一个图形实用程序来询问您解锁私有 SSH 密钥所需的密码或密码短语，该密钥将用于验证远程系统。

即使您取消设置它“看到”的环境变量并使用它来将对话路由到`x11-ssh-askpass`您的屏幕（`DISPLAY`

我在这里推荐的解决方案之一是设置“无密码”登录（如果适用于给定的安全环境），使用 ssh-keygen(1) 生成不受密码保护的“身份密钥”。

您可能会探索其他可能性，例如在文件中或命令行选项中提供密码，任何*对您更有效的方法*。请查看 ssh(1) 联机帮助页的 ENVIRONMENT 部分。

# wpf - View 和 ViewModel 变得太大

> ID：10910609
> 
> 赞同：9
> 
> 时间：2012-06-06T08:22:59.027
> 
> 标签：wpf, mvvm

在为我的应用程序的主视图添加额外功能时，我意识到代码量很快就会成为问题（目前我的视图模型中有大约 600 行代码，我还有很多要添加的内容）。

我一直在寻找有关如何将视图拆分/设计为更小的组件的文章，但我还没有找到令人满意的解决方案。一个人建议使用子视图模型，但这会带来其他问题（视图模型之间的依赖关系）。

我曾考虑过使用用户控件，但我在其他视图上使用的视图上没有任何内容，因此它有点违背用户控件的目的。

在这种情况下正确的方法是什么？

谢谢，阿德里安

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:28:00.670

如果要将视图拆分为组件部分，则需要进行视图合成。如果你正在构建一个 MVVM 应用程序，那么[你真的应该使用 MVVM 框架](http://www.lhotka.net/weblog/UsingTheMVVMPatternRequiresAFramework.aspx)。像[Caliburn.Micro](https://github.com/Caliburn-Micro)这样的东西使视图合成变得非常容易。

视图模型之间不一定必须存在依赖关系，它们应该只知道生成视图所需的内容。这可能是父视图模型包含的业务对象的子集。由于父视图模型将引用所有子视图模型，因此它可以在构建时将业务对象的相关部分传递给它们。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-11-17T22:33:28.327

我同意使用 Caliburn Micro。

但是，要扮演魔鬼的拥护者，您可以将 ViewModel 文件拆分为单独的文件（相同的类名）并在`partial`关键字之前使用`class`关键字。它通常更整洁，并且从分解为单独的类只需一步（非破坏前体）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:40:20.237

我也同意 Caliburn.Micro 是一个很好的解决方案，可以将您的应用程序拆分为更小的组件。

在 Caliburn.Micro 中，视图模型之间的通信基于[事件聚合器](http://caliburnmicro.codeplex.com/wikipage?title=The%20Event%20Aggregator)模式。

这使得视图模型之间的松散耦合

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-18T12:59:17.123

分道扬镳并不理想。

看起来好像 Caliburn 工具包专注于事件，而我的应用程序主要依赖于 ICommand 实现。

对我来说，第一次接触 Caliburn.Micro 并不令人满意。该设置似乎是为 VS2010 量身定制的——这对我来说听起来很有希望——因为我确实有 VS2010 pro。但是我迷失了 Silverlight 的设置。与 Prism 等工具包相比，它缺乏启动的便利性。现在切换需要很长时间。我使用我自己的 MVVM 范式，它没有 Caliburn 抽象，它在任何地方都集成了多语言支持，而且由于 Binding/DataContext 范式的性质，它只面临一个可接受的问题，即某些源变得太大。对于这个问题，我接受“部分类”是一个解决方案——即使我知道有一个更优雅的解决方案可用。

在我工作的热度中，我无法更改为另一个工具包。

因此，我轻轻地等待 Microsoft 允许围绕该 Binding/DataContext 范例提供更大的灵活性。

可能是 Caliburn 在将视图模型分配给某个项目时表现出更多的智能。可以 ？（我认为确实如此。）

另一种选择可能是定义一个自定义（xaml 可用）对象，该对象触发一个自定义分配器，将哪个控件分配给哪个视图模型。那个怎么样 ？

# java - 如何使用 openDJ LDAP SDK (Java) 在 openDJ LDAP 的组中添加成员？

> ID：10910614
> 
> 赞同：0
> 
> 时间：2012-06-06T08:23:07.217
> 
> 标签：java, ldap, opendj

这是我想使用 openDJ LDAP SDK 添加更多成员的组详细信息。

```
objectClass: groupofuniquenames (structural)
objectClass: top (abstract)
cn: Directory Administrators
ou: Groups
uniqueMember: uid=hmiller, ou=People, dc=example,dc=com
uniqueMember: uid=kvaughan, ou=People, dc=example,dc=com 
```

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T13:24:05.593

不确定您是否仍在寻找答案，但 OpenDJ SDK 示例中已添加了一个示例，并已记录在开发人员指南中：http: [//opendj.forgerock.org/doc/dev-guide/index .html#update-static-groups](http://opendj.forgerock.org/doc/dev-guide/index.html#updating-static-groups)

亲切的问候，

卢多维奇

# c++ - C ++随机将枚举类型分配给变量

> ID：10910615
> 
> 赞同：2
> 
> 时间：2012-06-06T08:23:08.190
> 
> 标签：c++, random, enums

> **可能重复：**
> [生成随机枚举](https://stackoverflow.com/questions/2999012/generating-random-enums)

可以说我有以下内容：

```
enum Color {        
    RED, GREEN, BLUE 
};
Color foo; 
```

我想要做的是将 foo 随机分配给一种颜色。天真的方法是：

```
int r = rand() % 3;
if (r == 0)
{
    foo = RED;
}
else if (r == 1)
{
    foo = GREEN;
}
else
{ 
    foo = BLUE;
} 
```

我想知道是否有更清洁的方法来做到这一点。我已经尝试（但失败了）以下内容：

```
foo = rand() % 3; //Compiler doesn't like this because foo should be a Color not an int
foo = Color[rand() % 3] //I thought this was worth a shot. Clearly didn't work. 
```

如果你们知道不涉及 3 个 if 语句的更好方法，请告诉我。谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-06T08:24:47.753

您可以将 int 强制转换为枚举，例如

```
Color foo = static_cast<Color>(rand() % 3); 
```

作为风格问题，您可能希望使代码更加健壮/可读，例如

```
enum Color {        
    RED,
    GREEN,
    BLUE,
    NUM_COLORS
};

Color foo = static_cast<Color>(rand() % NUM_COLORS); 
```

这样，如果您`Color`在将来的某个时间向/从中添加或删除颜色，代码仍然可以工作，并且阅读您的代码的人不必挠头并想知道文字常量`3`的来源。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:25:21.200

您只需要一个演员表：

```
foo = (Color) (rand() % 3); 
```

# powershell - 使用 PowerShell 安装多个 ServerRole

> ID：10910616
> 
> 赞同：2
> 
> 时间：2012-06-06T08:23:11.610
> 
> 标签：powershell, roles

我为 Server 2008 R2 编写了一个 PowerShell 脚本，以检查是否安装了某些角色和功能以及是否安装它们（当然我首先导入了 ServerManager 模块），即：

```
if ((Get-WindowsFeature AS-NET-Framework).Installed -eq 0)
{$InstallFeatures += "AS-NET-Framework,"
Write-Host "AS-NET-Framework will be added"}

if ((Get-WindowsFeature GPMC).Installed -eq 0)
{$InstallFeatures += "GPMC,"
 Write-Host "GPMC will be added"} 
```

但是当我调用

```
Add-WindowsFeature $InstallFeatures 
```

它给出了一个找不到名称的错误。不知何故 PS 不接受逗号作为字符串中的分隔符。

但是如果你输入

```
Add-WindowsFeature AS-NET-Framwork,GPMC 
```

在控制台中它工作得很好。

有什么方法可以`Add-WindowsFeature`在一行中调用我需要的所有参数，而无需为每次检查创建一个新变量，因为这样我只需要重新启动所有缺少的角色和功能？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:34:07.867

尝试声明：

```
 [string[]]$InstallFeatures = @() 
```

在你的代码之前。

```
if ((Get-WindowsFeature AS-NET-Framework).Installed -eq 0)
{$InstallFeatures += "AS-NET-Framework"
Write-Host "AS-NET-Framework will be added"}
if ((Get-WindowsFeature GPMC).Installed -eq 0)
{$InstallFeatures += "GPMC"
 Write-Host "GPMC will be added"} 
```

的签名`Get-WindowsFeature`是：

```
Get-WindowsFeature [[-Name] <string[]>] [-logPath <string>] [<CommonParameters>] 
```

参数名称接受 a`string array`而不是 a `string`。在您的代码中，您需要删除我上面写的逗号。

# android - 在可扩展列表视图中设置对父母可见的图像

> ID：10910617
> 
> 赞同：0
> 
> 时间：2012-06-06T08:23:28.643
> 
> 标签：android, expandablelistview

我有一个带有我自己的适配器的可扩展列表视图，在父行中我有 3 个不可见的图像和 3 个文本视图。

在活动中，我有一个带有数据的 String[][]。根据我想将图像设置为可见的数据。

我试着这样做：

```
@Override
    public View getGroupView(int groupPosition, boolean isExpanded,
            View convertView, ViewGroup parentView) {
        View v;
        if (convertView == null) {
            v = newGroupView(isExpanded, parentView);
        } else {
            v = convertView;
        }
        ponIconos();
        return v;
    }

    private void ponIconos() {

        ImageView drCandado = (ImageView) findViewById(R.id.icono_candado);
        ImageView drOjos = (ImageView) findViewById(R.id.icono_ojo);
        ImageView drUrgente = (ImageView) findViewById(R.id.icono_urgente);

        for(int i =0; i<ArrayServicios.size();i++){
            if (sIconos[i][0] != "null")
                drUrgente.setVisibility(View.VISIBLE);
            if (sIconos[i][1] != "null")
                drCandado.setVisibility(View.VISIBLE);
            if (sIconos[i][2] != "null")
                drOjos.setVisibility(View.VISIBLE);     
        }
    } 
```

但它会崩溃 nullpo .. Logcat：

```
06-06 08:44:01.066: E/AndroidRuntime(879): FATAL EXCEPTION: main
06-06 08:44:01.066: E/AndroidRuntime(879): java.lang.NullPointerException
06-06 08:44:01.066: E/AndroidRuntime(879):  at com.reparalia.movilidad.ListadoServicios$adaptadorLista.ponIconos(ListadoServicios.java:532)
06-06 08:44:01.066: E/AndroidRuntime(879):  at com.reparalia.movilidad.ListadoServicios$adaptadorLista.getGroupView(ListadoServicios.java:520)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.ExpandableListConnector.getView(ExpandableListConnector.java:445)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.AbsListView.obtainView(AbsListView.java:2033)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.ListView.makeAndAddView(ListView.java:1772)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.ListView.fillDown(ListView.java:672)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.ListView.fillFromTop(ListView.java:732)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.ListView.layoutChildren(ListView.java:1625)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.AbsListView.onLayout(AbsListView.java:1863)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.View.layout(View.java:11278)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.ViewGroup.layout(ViewGroup.java:4224)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1628)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.LinearLayout.layoutHorizontal(LinearLayout.java:1617)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.LinearLayout.onLayout(LinearLayout.java:1401)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.View.layout(View.java:11278)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.ViewGroup.layout(ViewGroup.java:4224)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.ScrollView.onLayout(ScrollView.java:1405)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.View.layout(View.java:11278)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.ViewGroup.layout(ViewGroup.java:4224)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.RelativeLayout.onLayout(RelativeLayout.java:925)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.View.layout(View.java:11278)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.ViewGroup.layout(ViewGroup.java:4224)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.View.layout(View.java:11278)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.ViewGroup.layout(ViewGroup.java:4224)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1628)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1486)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.LinearLayout.onLayout(LinearLayout.java:1399)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.View.layout(View.java:11278)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.ViewGroup.layout(ViewGroup.java:4224)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.widget.FrameLayout.onLayout(FrameLayout.java:431)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.View.layout(View.java:11278)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.ViewGroup.layout(ViewGroup.java:4224)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1489)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2442)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.os.Handler.dispatchMessage(Handler.java:99)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.os.Looper.loop(Looper.java:137)
06-06 08:44:01.066: E/AndroidRuntime(879):  at android.app.ActivityThread.main(ActivityThread.java:4424)
06-06 08:44:01.066: E/AndroidRuntime(879):  at java.lang.reflect.Method.invokeNative(Native Method)
06-06 08:44:01.066: E/AndroidRuntime(879):  at java.lang.reflect.Method.invoke(Method.java:511)
06-06 08:44:01.066: E/AndroidRuntime(879):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
06-06 08:44:01.066: E/AndroidRuntime(879):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
06-06 08:44:01.066: E/AndroidRuntime(879):  at dalvik.system.NativeStart.main(Native Method) 
```

还有什么办法吗？

**解决方案**

```
/************************************************************************/
        /********************* Metodo que GENERA LA VISTA DE LOS PADRES ****************/
        @Override
        public View getGroupView(final int groupPosition,
                final boolean isExpanded, final View convertView,
                final ViewGroup parent) {
            View v;
            if (convertView == null) {
                v = newGroupView(isExpanded, parent);
            } else **{
                v = convertView;
            }
            llenaPadre(v, padreDesde.get(groupPosition), padreDesde,
                    padreHasta, groupPosition);
            return v;
        }
        /********************* Metodo que rellena las filas padres ****************/
        private void llenaPadre(View v, Map<String, ?> map,
                List<? extends Map<String, ?>> datosPadres, int[] padreHasta2,
                int groupPosition) {
            ImageView drCandado = (ImageView) v
                    .findViewById(R.id.icono_candado);
            ImageView drOjos = (ImageView) v.findViewById(R.id.icono_ojo);
            ImageView drUrgente = (ImageView) v
                    .findViewById(R.id.icono_urgente);
            int len = padreHasta2.length - 1;
            for (int i = 0; i < len; i++) {
                TextView tv = (TextView) v.findViewById(padreHasta2[i]);
                if (v != null) {
                    String texto = (String) map.get(cabecerasPadres[i]);
                    tv.setText(texto);
                    if (sIconos[0][groupPosition] != null)
                        if (drUrgente != null)
                            drUrgente.setVisibility(View.VISIBLE);
                    if (sIconos[1][groupPosition] != null)
                        if (drCandado != null)
                            drCandado.setVisibility(View.VISIBLE);
                    if (sIconos[2][groupPosition] != null)
                        if (drOjos != null)
                            drOjos.setVisibility(View.VISIBLE);
                }
            }**
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:55:41.927

我认为问题是，您在这里缺少视图参考。当您通过 Id 进行查找视图时，您必须在适配器中根据您已膨胀的视图引用该项目。在你的情况下，“convertView”。像这样尝试，通过 ponIcons() 传递 convertView objetc 并在那里引用您的小部件。

```
@Override
    public View getGroupView(int groupPosition, boolean isExpanded,
            View convertView, ViewGroup parentView) {
        View v;
        if (convertView == null) {
            v = newGroupView(isExpanded, parentView);
        } else {
            v = convertView;
        }
        ponIconos(convertView);
        return v;
    }

    private void ponIconos(View convertView) {

        ImageView drCandado = (ImageView)convertView.findViewById(R.id.icono_candado);
        ImageView drOjos = (ImageView)convertView. findViewById(R.id.icono_ojo);
        ImageView drUrgente = (ImageView)convertView. findViewById(R.id.icono_urgente);

        for(int i =0; i<ArrayServicios.size();i++){
            if (sIconos[i][0] != "null")
                if(drUrgente!=null)
                drUrgente.setVisibility(View.VISIBLE);
            if (sIconos[i][1] != "null")
                if(drCandado!=null)
                drCandado.setVisibility(View.VISIBLE);
            if (sIconos[i][2] != "null")
                if(drOjos!=null)
                drOjos.setVisibility(View.VISIBLE);     
        }
    } 
```

# php - 在所有项目文件或所有 php 文件中包含一个 php 文件

> ID：10910620
> 
> 赞同：0
> 
> 时间：2012-06-06T08:23:44.383
> 
> 标签：php, include

我有重要的变量，我想将它们包含在项目的所有 php 文件中，并且我希望它自动完成。我该怎么做呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:33:44.723

通过在文件中使用`require()`或`include()` 存储所有重要变量（ec. start）示例，在每个页面上包含此文件：

```
<?php require 'start.php'; ?> 
```

笔记：

1.  *如果您想确保`start.php` **在执行任何其他操作之前必须阅读**它，那么您应该使用 require。*

2.  *如果您只想加载一个“不那么重要”的模板标题，那么您可以使用 include 函数。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:28:57.317

一个好方法是使用 UrlRewriting。

您使用 get 参数重定向每个请求`index.php`，此文件将加载适当的内容。然后你就可以集中一些设置。例如，您只需将您的包含在文件`index.php`中，每个页面都会有它。

# c# - Dns.GetHostEntry Method(String) 实际上做了什么？

> ID：10910622
> 
> 赞同：8
> 
> 时间：2012-06-06T08:23:57.937
> 
> 标签：c#, .net, dns, host, system.net

我在文档中找不到任何适当的描述来说明这实际上是做什么的。

它是否检查是否存在 A 记录或 CNAME 记录或两者都存在？

我的理解是，在 .NET 4 中，如果主机不存在，则会引发 SocketException，这已通过我的测试得到证实。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-06T08:58:24.080

`Dns.GetHostEntry`构建在 Windows API 之上，不直接使用 DNS 协议。如果启用 IPv6，它将调用[`getaddrinfo`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms738520%28v=vs.8%29.aspx). 否则它会调用[`gethostbyaddr`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms738521%28v=vs.8%29.aspx). 这些函数可以使用本地`%SystemRoot%\System32\drivers\etc\hosts`文件、DNS 甚至 NETBIOS 将主机名解析为 IP 地址。使用 DNS 将主机名解析为 IP 地址将使用 CNAME 记录来查找 A 记录。

您可以通过解决`www.google.com`至少现在有一个 CNAME 记录指向`www.l.google.com`. Using`Dns.GetHostEntry`将返回 A 记录中的 IP 地址`www.l.google.com`。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-06-06T08:41:55.210

这是由返回的地址列表

```
var ips = System.Net.Dns.GetHostEntry("microsoft.com").AddressList;
foreach (var ip in ips)
    Console.WriteLine(ip);

// output
64.4.11.37
65.55.58.201 
```

这些是从 network-tools.com，DNS 查询中提取的 A 记录。

```
Answer records
microsoft.com       A   64.4.11.37  
microsoft.com       A   65.55.58.201 
```

所以我会说它确实拉了A记录。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-12-26T16:08:32.927

在这里要明确地说，Martin Liversage 的答案是最正确的答案。该 api 将首先尝试定位正在解析的域的 CNAME 记录。如果找到 CNAME 记录，则 api 将尝试解析从 CNAME 记录返回的域的 A 记录。如果正在解析的域没有 CNAME 记录，那么它将尝试解析域本身的 A 记录。

要检测 CNAME 记录何时存在，可以根据输入主机名检查解析的主机名。例子：

```
IPHostEntry iphostEntry = Dns.GetHostEntry(inputHostname);
if (iphostEntry.Hostname != inputHostname) {
    Console.WriteLine("CNAME record exists pointing {0} to {1}", inputHostname, iphostEntry.Hostname);
    Console.WriteLine("iphostEntry.AddressList values are the A record values of {0}", iphostEntry.Hostname);
} else {
    Console.WriteLine("CNAME record does NOT exist for {0}", inputHostname);
    Console.WriteLine("iphostEntry.AddressList values are the A record values of {0}", inputHostname);
} 
```

# android - 什么是最适合与移动应用程序一起使用的数据库

> ID：10910626
> 
> 赞同：0
> 
> 时间：2012-06-06T08:24:10.423
> 
> 标签：android

我正在用java开发一个android移动应用程序。尽管我已经阅读了 SQLite 以及您应该如何选择要使用的数据库。我不确定它是否适合用于我的应用程序的数据库。我需要存储和检索用户的登录详细信息、天气信息、用户位置等。SQLite 是最合适的数据库吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:29:14.700

在 android 中，对于持久存储，您有 3 个选项（您可以将其保存在网络中，但我只考虑保存在移动设备本身）。

*   共享偏好
*   文件（内部和外部）
*   SQLite 数据库

共享偏好主要用于节省小键值存储。对于大量数据，您将不得不使用 SQLite 数据库，这是比文件更好的选择。请参阅有关该主题的android[文档](http://developer.android.com/guide/topics/data/data-storage.html)

# 关于其他数据库

Android 原生支持仅适用于 SQLite 数据库。如果您想使用其他数据库方案，您可能必须依赖专门为 android 构建的任何其他 3rd 方库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:47:47.330

您应该从 SQLite 开始，并在将来转移到您认为可行的任何数据库/数据中心。

我建议为 Android 应用程序使用基于云的数据中心。

# perl - 如何为 Selenium Grid 2（Perl 绑定）设置 Chrome 驱动程序？

> ID：10910629
> 
> 赞同：2
> 
> 时间：2012-06-06T08:24:18.347
> 
> 标签：perl, google-chrome, selenium-grid, selenium-chromedriver

我正在尝试设置 Selenium Grid 2（Ubuntu 主机用于集线器和 Perl 安装，Windows 主机用于各种浏览器（Firefox、IE、Chrome、Opera））。一切正常，我可以开始对 IE、FF、Opera 进行简短的示例测试，看看浏览器是如何打开的，页面是如何加载的。这是测试：

```
#!/usr/bin/perl
use Selenium::Remote::Driver;
use Test::More tests=>4;

my $driver = Selenium::Remote::Driver -> new(
    'browser_name'  => 'internet explorer'
);
$driver->get("http://www.google.com");
$driver->quit(); 
```

但我无法让 Chrome 正常工作。**我在Windows 主机**上使用自定义驱动程序选项启动了 Selenium-server （这是正确的吗？）

```
java -jar selenium-server-standalone-2.22.0.jar -role node -hub http://my-ubuntu-host:4444/grid/register -browser "browserName=chrome,version=19" -Dwebdriver.chrome.driver="c:\selenium-2-22-0\chromedriver.exe" 
```

当我尝试在**Ubuntu 主机**上运行测试时`'browser_name' => 'chrome'`，它只报告简短的错误消息：

```
caligula@my-ubuntu-host:~/www$ ./test.pl 
1..4
Could not create new session at ./test.pl line 5.
# Looks like your test exited with 255 before it could output anything. 
```

有人可以帮助我吗？有很多示例，但它们都是用 Java 编写的，我无法将它们中的任何一个用于 Perl 代码。

我还注意到 chrome 驱动程序存档被命名为**chromedriver_win_20.0.1133.0.zip**。它与**selenium server 2.22**兼容吗？我曾尝试使用 selenium server 2.20，但没有任何效果：FF 和 IE 都没有。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-08T18:40:34.567

必需的参数`'proxy' => {HASH}`未传递给构造函数。只有 chrome-driver 会抛出异常，而当您调用 FF 或 IE 时，一切都很好。

控制台出现短消息：

```
org.openqa.selenium.WebDriverException: proxy must be of type dictionary, not null.
Received: null 
```

`Selenium::Remote::Driver`通过以下方式创建实例解决了这个问题：

```
 my $driver = new Selenium::Remote::Driver(
        'browser_name' => 'chrome',
        'proxy' => {
            'proxyType' => 'system'
        }
    ); 
```

# c# - 锁定windows手机模拟器

> ID：10910630
> 
> 赞同：2
> 
> 时间：2012-06-06T08:24:21.653
> 
> 标签：c#, windows-phone-7, screen, windows-phone-7-emulator

我正在为 Windows 手机制作一个应用程序。我使用 Visual Studio 2010 和包含 windows phone 模拟器的 windows phone sdk。当我锁定手机屏幕（实际设备）时，我的程序崩溃了。所以我决定解决这个问题。但现在我发现无法调试它，因为无法锁定模拟器屏幕。

有没有办法锁定（屏幕）窗口电话模拟器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-27T09:55:30.983

**按 F12**

这就是 msdn 所说的

> 使用键盘在模拟器中锁定屏幕 打开模拟器后，按计算机键盘上的 F12 两次。F12 键模拟手机上的电源按钮。第一次按键关闭显示。第二次按键将再次打开显示屏，同时锁定屏幕。您可以使用鼠标向上滑动锁定屏幕来解锁屏幕。

我希望它也适用于 Windows Phone 7。但不确定

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T00:48:54.430

在 Visual Studio 2012 for Windows Phone 8 中，您可以通过 Visual Studio 的“工具”菜单下的“模拟仪表板”来模拟锁定屏幕。

[http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj206951(v=vs.105).aspx#BKMK_lockoptions](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj206951(v=vs.105).aspx#BKMK_lockoptions)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:54:54.650

有一些聪明的开发人员创建/破解了替换模拟器 ROM，例如[http://www.howtogeek.com/howto/13488/test-all-features-of-windows-phone-7-on-your-pc/](http://www.howtogeek.com/howto/13488/test-all-features-of-windows-phone-7-on-your-pc/)

它们启用了 MS 选择在基本模拟器中关闭的附加功能，包括屏幕锁定/解锁。

最好在尝试之前找到这些替换 ROMS 的最新、评价最高的版本。

## 另请注意，他们在那篇文章中重复：

*这个修改后的模拟器图像不是官方的，也没有得到微软的认可。选择下载和使用模拟器时请自行判断*

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-12-04T00:26:48.547

对于 Windows 8 模拟器，您还可以使用鼠标按下电源按钮：

[![在此处输入图像描述](../Images/309850a1e7a49dc0b83050afb54f6463.png)](https://i.stack.imgur.com/GVv0A.png)

# string - 如何计算字符串变量使用的实际内存？

> ID：10910631
> 
> 赞同：17
> 
> 时间：2012-06-06T08:24:24.087
> 
> 标签：string, delphi, memory

Delphi 中的字符串位于动态内存中。

如何计算`string`变量使用的实际内存（以字节为单位）？

我知道字符串必须存储一些附加信息，至少是引用计数和长度，但是除了字符之外它使用了多少字节？

```
var
  S: string; 
```

*Delphi 2010, XE, XE2 使用*

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-06T08:43:04.387

取自 Embarcadero 官方文档的 32 位 UNICODE DELPHI 的布局如下：

![UNICODE 德尔福](../Images/deb366f95b700f27ba3f85bd12401be4.png)

请注意，在 64 位版本中有一个额外的 longint 字段，用于 16 字节对齐。'system.pas' 中的`StrRec`记录如下所示：

```
StrRec = packed record
{$IF defined(CPUX64)}
  _Padding: LongInt; // Make 16 byte align for payload..
{$IFEND}
  codePage: Word;
  elemSize: Word;
  refCnt: Longint;
  length: Longint;
end; 
```

有效载荷的大小始终为 2*(Length+1)。对于 32 位或 64 位目标，开销为 12 或 16 个字节。请注意，实际内存块可能比内存管理器确定的需要大。

最后，这个问题有很多错误信息。在 64 位目标上，字符串仍由 32 位有符号整数索引。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-06T20:09:51.800

具体来说`String`，您可以使用`SysUtils.ByteLength()`获取字符数据的字节长度，如果不为零，则将结果递增`SizeOf(System.StrRec)`（即字符数据前面的标头）和`SizeOf(Char)`（对于不包含在长度），例如：

```
var 
  S: string;
  len: Integer;
begin
  S := ...;
  len := ByteLength(s);
  if len > 0 then Inc(len, SizeOf(StrRec) + SizeOf(Char));
end; 
```

另一方面，如果要计算其他字符串类型的字节大小，如`AnsiString`, `AnsiString(N)`（如`UTF8String`）`RawByteString`, 等，则需要改为使用`System.StringElementSize()`，例如：

```
var 
  S: SomeStringType;
  len: Integer;
begin
  S := ...;
  len := Length(S) * StringElementSize(S);
  if len > 0 then Inc(len, SizeOf(StrRec) + StringElementSize(s));
end; 
```

在任何一种情况下，如果字符串中有字符，您只增加长度的原因是因为空字符串根本不占用任何内存，它们是`nil`指针。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T08:51:58.823

要回答这个问题：

> 如何计算字符串变量使用的实际内存（以字节为单位）？

```
MemSize = Overhead + CharSize * (Length + 1)

CharSize = 1    // for Ansi strings
CharSize = 2    // for Unicode strings
Overhead = 8    // for 32 bit strings
Overhead = 16   // for 64 bit strings 
```

# r - 两个参数的函数只给出一个参数

> ID：10910633
> 
> 赞同：1
> 
> 时间：2012-06-06T08:24:38.160
> 
> 标签：r

假设我有一个功能

> test <- function(s,t) {
> ..
> } 需要两个参数。

我怎样才能使它也需要一个参数，即`test(t)`返回`test(t,t)`？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:32:36.123

因为 R 使用惰性求值，您可以将第二个参数的默认值设置为等于第一个参数...

```
foo <- function(s,t=s) {
   s+t
 }
> foo(4)
[1] 8
> foo(4,5)
[1] 9 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T16:13:24.830

为参数设置默认值是最简单的，但您也可以在`missing`函数内部（在`if`语句中）使用函数来检查是否向函数提供了参数，并在此基础上做一些不同的事情。

# visual-studio-lightswitch - Visual Studio LightSwitch 的高级筛选器控件在哪里存储已保存的筛选器？

> ID：10910635
> 
> 赞同：0
> 
> 时间：2012-06-06T08:24:51.153
> 
> 标签：visual-studio-lightswitch

刚刚花了很多时间寻找微软为 Lightswitch 推出的过滤器周围问题的答案。

在解决了很多人出现的错误问题后，它仍然没有保存过滤器。过滤器似乎可以正确保存。过滤器名称出现在下拉列表中，但是当我打开和关闭应用程序时，它们都消失了。

我想知道是不是因为我没有本地数据库，而只有一个远程 sql server 数据库。

这是我正在谈论的控件： http: [//code.msdn.microsoft.com/silverlight/Filter-Control-for-Visual-90fb8e93](http://code.msdn.microsoft.com/silverlight/Filter-Control-for-Visual-90fb8e93)

起初它在保存时抛出以下错误，但我通过公开一个方法来解决这个问题。

```
error in FilterControl:            the data contract type      "lightswitchfilter.Client.FilterControls.Clause" cannot be serialized because the member "_clauseType" is not public. 
```

[http://social.msdn.microsoft.com/Forums/en-US/lsextensibility/thread/322b0220-04a4-4c2d-bc7d-5fee9b14ab2f](http://social.msdn.microsoft.com/Forums/en-US/lsextensibility/thread/322b0220-04a4-4c2d-bc7d-5fee9b14ab2f)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T06:46:42.507

IT 存储在隔离存储中

# android - Android：从 url 播放 flv 视频流

> ID：10910637
> 
> 赞同：4
> 
> 时间：2012-06-06T08:24:58.030
> 
> 标签：android, video-streaming, streaming-flv-video

我目前有一个应用程序可以录制视频并将其上传到我的服务器。上传视频后，应用程序会收到一个响应，其中包含指向文件的 flv 流的 URL。

当我尝试在 android 默认视频播放器（视频）中打开流时，没有任何反应，但是当我使用不同的应用程序（BSPlayer）时，它完美地播放了视频。但是，没有办法强制从`Intent.ACTION_VIEW`. 这是从服务器接收响应的函数的代码：

```
@Override
protected void onResponseReceived(int requestType, int status, Object resp) {
    switch (requestType) {
    case CLIP_DETAILS: {
        if (status == RESPONSE_OK) {
            String token1 = ((ResponseObject_ClipDetails) resp).m_token1;
            String token2 = ((ResponseObject_ClipDetails) resp).m_token2;
            String url = getClipURL(token1, token2);

            Intent i = new Intent(Intent.ACTION_VIEW);
            i.setData(Uri.parse(url));
            i.setType("video/flv");
            startActivity(i);
        }

    }
        break;
    }
} 
```

有没有办法在我的 android 应用中显示 .flv 视频？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-26T09:02:40.740

您可以使用[维生素](http://vov.io/vitamio/)。

> **媒体格式**
> 
> 除了 Android 平台内置的默认媒体格式外，许多音频和视频编解码器都被打包到 Vitamio 中，下面列出了其中的一些。
> 
> *   divx/xvid
> *   wmv
> *   flv
> *   ts
> *   rmvb
> *   MKV
> *   移动
> *   m4v
> *   avi
> *   mp4
> *   3gp
> 
> **适用于 Android 开发者的 Vitamio SDK**
> 
> 您可以在此处下载 jar 文件以用于您的项目。(Vitamio-SDK.7z)
> 
> **对于安卓开发者**
> 
> 这是一个使用 vitamio.jar 的演示项目。(Vitamio-Demo.7z)
> 
> Vitamio 提供与 Android 默认 MediaPlayer 框架类似的接口。如果您在项目中使用 android.media.MediaPlayer，只需从上面获取 vitamio.jar，然后将其添加到项目的库中，并将 android.media.MediaPlayer 的导入替换为 io.vov.vitamio.MediaPlayer。
> 
> 除了 Android MediaPlayer 的默认接口外，Vitamio 还提供了更多的 API，请参考库中的 javadoc。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-26T08:00:06.027

实际上，有一种方法可以强制打开特定的应用程序。

这个答案显示了如何做到这一点。 [https://stackoverflow.com/a/10035789/375929](https://stackoverflow.com/a/10035789/375929)

只需找出 BSPlayer 的包名称并使用它来过滤应用程序以打开您的视频。当然，您还需要处理没有安装 BSPlayer 的情况。我建议使用[queryIntentActivities()](http://developer.android.com/reference/android/content/pm/PackageManager.html#queryIntentActivities%28android.content.Intent,%20int%29) - 如果它返回一个空列表，告诉用户他们需要安装 BSPlayer 并启动相应的播放商店链接。

除了要求用户安装 3rd 方应用程序之外，您还可以通过 WebView 实现自己的 flv 播放器，尽管您仍然需要用户拥有 flash 播放器（但这有点不同，每个人都知道 flash 播放器是什么，所以应该要求用户安装它不是问题）

我找到了两个关于如何做到这一点的教程： [Problem to load flv video in webview](https://stackoverflow.com/questions/6596243/problem-to-load-flv-video-in-webview/6855609#6855609) 和[http://www.synesthesia.it/playing-flash-flv-videos-in-android-applications](http://www.synesthesia.it/playing-flash-flv-videos-in-android-applications)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:33:55.913

就这么简单

用这个

```
Intent intent = new Intent(Intent.ACTION_VIEW);
intent.setDataAndType(Uri.parse(PATH_OF_FILE), "video/flv");
startActivity(intent); 
```

愿它有帮助...

# android - 如何从适配器访问 ListView

> ID：10910638
> 
> 赞同：31
> 
> 时间：2012-06-06T08:25:05.970
> 
> 标签：android, android-listview, android-adapter

`ListView`我有自己的适配器的习惯。我正在处理对`Button`我 `ListView`的项目中的 a 的点击，我希望`ListView`在这次点击中变得不可见。

我不知道如何`ListView`从适配器访问。

```
public class ScheduleArrayAdapter extends ArrayAdapter<ScheduleListItem> {

    /*...*/
    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        View v = convertView;
        if (v == null) {
            LayoutInflater vi = (LayoutInflater)c.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            v = vi.inflate(id, null);
        }
        final ScheduleListItem o = items.get(position);
        if (o != null) {

        /*...*/         

            Button details=(Button)v.findViewById(R.id.btn_details);
            details.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                    //HOW TO MAKE (R.id.lv_schedule) TO BECOME INVISIBLE HERE?
                }
            });
        }
        return v;
    }
} 
```

* * *

## 回答 #1

> 赞同：70
> 
> 时间：2012-06-06T08:33:04.697

`ViewGroup parent``View`保存对返回的父级的引用`getView()`，在您的情况下是您的自定义列表视图。

```
@Override
public View getView(int position, View convertView, final ViewGroup parent) {
    ...
    details.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            parent.setVisibility(View.INVISIBLE); // or View.GONE
        }
    });
    ...
    return v;
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-10-16T10:20:13.163

取而代之的是，您可以通过适配器的构造函数传递 Listview 的引用并将其存储在本地 Listview 变量中。您可以使用它来访问您的 Listviews 方法。像这样

```
public ViewPackagesAdapter(Activity mActivity, ListView cmgListView) {
        this.mActivity = mActivity;
        this.mListView=cmgListView;
    } 
```

现在通过mListView访问Activity的Listview..

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-06-09T12:52:49.193

就我而言，GridItemClickListner 出于某种原因没有工作。我使用这个**从适配器类访问 Gridview**

```
public View getView(final int position, View convertView, ViewGroup parent) {
        convertView.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
          ((ClockGridView) v.getParent()).performItemClick(v, position, v.getId());
                         (OR)
           ((ClockGridView)parent).performItemClick(v, position, v.getId());
   }
 });
} 
```

扩展“GridView”类的“ClockGridView”。

# ruby-on-rails - Rails 3.2 - 如何重定向到命名空间？

> ID：10910649
> 
> 赞同：5
> 
> 时间：2012-06-06T08:25:46.343
> 
> 标签：ruby-on-rails, mobile, routing

在我正在做的 Rails 3.2 应用程序中，我想创建一些特定于移动设备的视图（和动作处理）。所以我创建了一个名为 mobile 的命名空间。

```
 namespace :mobile do
    resources :sessions
    resources :areas
  end 
```

例如，如果用户使用手机进入登录页面，我想使用我为该命名空间创建的控制器和视图。

所以现在我有两种不同的登录方式：

```
new_mobile_session GET    /mobile/sessions/new(.:format)      mobile/sessions#new 
```

和

```
new_session GET    /sessions/new(.:format)             sessions#new 
```

但是，当请求来自移动设备时，我如何将“移动”命名空间添加到请求中？

即改变 /sessions/new 成 /mobile/sessions/new

我正在使用 Rack::MobileDetect 但我不知道如何将 redirect_to 用于此目的。

```
config.middleware.use Rack::MobileDetect, :redirect_to => '/mobile' 
```

还是我应该使用不同的方法？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-24T07:05:48.313

您可以为此使用约束。Rails 路由约束要么是响应匹配的类吗？或一个 lambda。

将约束应用于路由时，仅当约束评估为 true 时才会考虑该路由。

考虑这个类

```
class MobileContraint
  def matches? request
     request.user_agent =~ /Mobile|webOS/
  end
end 
```

您现在可以在这样的路线中使用此类：

```
resources :sessions
resources :sessions, :controller=> 'mobile/sessions', :constraints => MobileConstraint.new 
```

# mercurial - Mercurial 分布式存储库

> ID：10910651
> 
> 赞同：2
> 
> 时间：2012-06-06T08:25:48.113
> 
> 标签：mercurial, continuous-integration, teamcity

自己找到了构建工程师和系统人员的角色，我必须学习最终弄清楚一些事情——即如何设置我们的基础设施。在我上船之前，他们没有。考虑到这一点，如果我问任何应该很明显的问题，请原谅我。

我们目前有 3 级分布式 mercurial 存储库：每台开发人员机器上的第一级，中央（主干）服务器上的第二级 - 只能从本地网络访问，第三层在 BitBucket 上。工作流程如下：

1.  本地开发：开发人员从本地网络服务器中提取变更集。解决合并冲突后，开发人员提交到本地并推送到我们的本地服务器。一个预定的脚本在一夜之间将所有内容备份到 BitBucket。

2.  在家工作：开发人员从 BitBucket 中提取变更集。开发人员提交到他们的本地 repo 并推送到 BitBucket。

3.  TeamCity 为每个项目从本地网络服务器获取 repo 更改，并运行构建/自动部署到测试环境。

我遇到的问题是场景 2：目前，如果有人将某些东西推送到 bitbucket，那么他们有责任在他们回到办公室时将其合并回来。如果它可以自动化，那就有点浪费时间了。

如果您想知道，我们在本地网络上有一个中央存储库的原因是因为运行 BitBucket 存储库的 TeamCity 构建会很慢。没有测试，所以这只是一个有根据的猜测。

无论如何，计划并从本地网络上的中央存储库推送所有更改的脚本只是为每个存储库运行“hg push”。它必须事先进行拉/合并。我该怎么做？

这是 pull 必须使用开关的： - pull 后更新 - 如果发生合并冲突，总是采用更新的文件 - 如果出现错误，向系统管理员发送电子邮件 - 有什么额外的吗？

请随时分享您自己的设置，只要它与所描述的没有太大不同。

更新：根据最近的答案，如果需要澄清预期的方法，我觉得一个重要方面。这个想法不是在我们的本地网络中央存储库上强制合并。相反，它应该解决合并冲突，就像在开发人员机器上使用 HgWorkbench 一样使用 post pull：更新 + 合并。默认情况下，所有开发人员都启用此功能，因此应该没问题。

因此服务器上的脚本/批处理文件将执行以下操作：

1.  从 BitBucket 拉取
2.  更新+自动合并
3.  任何合并自动冲突？

    3.1 是 -> 发邮件给管理员手动合并 -> 中断

    3.2 否 -> 继续

4.  获取传出变更集。push会创建多个head吗？（由于拉/更新，这可能是多余的）

    4.1 是 -> 提示管理员。休息。

    4.2 否 -> 推送更改

希望这能澄清一点。现在，这可以单独使用 hg 命令来完成 - 批处理 - 还是我必须编写脚本？具体可以发邮件吗？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:55:48.153

所以你所有的工作都可以在 BitBucket 上找到，对吧？为什么不将 BitBucket（可在任何地方使用）作为主要的 repo 源并删除您的本地服务器？您可以使用 TeamCity 从 BitBucket 中为您的夜间构建和开发人员提取更改，他们将始终使用 BitBucket 的当前存储库并自行解决所有合并问题，因此您不会有任何后续合并。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T08:57:55.233

如果它们有冲突，我不会尝试自动合并更改，这只会导致损坏和不一致的版本以及“丢失”的更改，从而导致混乱和混乱。如果不清楚合并应该是什么样子，请不要自动合并它。

一个更好的选择是只保留两个头并推/拉它们而不合并。这样，每个人仍然可以从工作/家中获取他正在处理的数据版本。必须进行手动合并，但这也可以在工作中或在家中完成，使开发人员能够从任何地方解决问题。在这种情况下，您还可以发送电子邮件以确保每个人都知道该问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:34:43.880

我想您可以使用脚本自动执行此操作，如果我是您，我会尝试使用 PowerShell。但是，有时这可能需要在发生冲突时手动合并更改（因为当开发人员同时提交对 BB 和本地存储库的更改时，这些更改可能会发生冲突）。

# javascript - 最新 Selenium 不支持的“加载对话框”的解决方法？

> ID：10910652
> 
> 赞同：1
> 
> 时间：2012-06-06T08:25:54.587
> 
> 标签：javascript, testing, selenium, selenium-rc

Selenium 参考[文档](http://release.seleniumhq.org/selenium-core/0.8.0/reference.html)说“Selenium 不支持在页面的 onload() 事件处理程序中生成的 JavaScript 警报。在这种情况下，将生成一个可见的对话框并且 Selenium 将挂起，直到有人手动单击 OK。”

但是生活是怎样的——我碰巧有一个使用加载对话框的应用程序。我知道以前版本的“browserbot”解决方法，但这些都不适用于 Selenium Webdrivers...

有没有人已经解决了这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T11:23:26.273

1.  该限制仅适用于 Selenium RC（已被正式弃用一年）。`WebDriver`如果可以的话，使用 Selenium 。它不受此限制的影响。如果你使用`WebDriver`, 那么[`driver.switchTo().alert()`](http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/Alert.html)应该像往常一样工作。
2.  在 Java 中，可以使用[“机器人”](http://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html)进行`Enter`盲按。这样，我无法阅读对话框的消息，但至少可以摆脱它。
3.  在 C# 中，有[`SendKeys`](http://msdn.microsoft.com/en-us/library/system.windows.forms.sendkeys.aspx)相同的类。
4.  我认为你不能用纯 JavaScript 做任何事情。

# wpf - 多个视图模型相互交互

> ID：10910655
> 
> 赞同：1
> 
> 时间：2012-06-06T08:25:59.480
> 
> 标签：wpf, mvvm, mvvm-light, view-model-pattern

我正在开发一个 Surface WPF 项目，我们尝试在其中实现 MVVM 模式。在这个项目中，我们正在构建一些我们绑定到不同视图模型的自定义控件。

例如，我们有一个设置控件，它有一个设置视图模型，我们有一个主视图模型，它是“整体”视图模型。

在我们的 surfacewindows.xaml 页面中，我们使用 mvvm-light 中的视图模型定位器将数据上下文设置为主视图模型。此外，在我们的 surfacewindow.xaml 中，我们添加了设置控件，并在控件上将 datacontext 设置为设置视图模型。

现在我们需要两个视图模型相互交互：当前的情况是我们需要设置设置控件的可见性。我们在主视图模型上有一个属性，它是一个布尔值 (IsSettingsControlVisible)，它通过使用转换器将布尔值转换为可见性对象来绑定到控件的 Visibility 属性。

当我们需要通过单击设置控件上的关闭按钮将可见性设置为不可见时，现在出现了问题。因为我们已经将控件上的数据上下文设置为设置视图模型，所以我们无法访问主视图模型。

到目前为止，我们所想到的是将设置视图模型作为属性添加到主视图模型中，并从设置控件中删除数据上下文。在设置控件中，我们将使用绑定作为 SettingsProperty.Property。比我们也可以从设置控件访问主视图模型。那有意义吗？有没有更好的方法来进行这种互动？

我真的很想听听你关于如何让这些互动发生的想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:01:23.073

我倾向于使用使用 Castle Windsor 构建的视图模型图。顶层视图模型使用构造函数注入来接收它需要的下一层视图模型。在视图中，我将内容呈现器绑定到视图模型上的属性以创建相应的视图图。

这样做，父子视图模型很容易通信，但兄弟或更远的视图模型通信有点困难。

在这些情况下，我倾向于使用事件聚合器或 Messenger 来允许视图模型进行通信。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T09:26:17.547

由于您已经在使用 MVVMLight，我建议您使用 MVVM Light 工具包 Messenger 系统。它用于 ViewModel 之间的消息交换。背后的概念是`Mediator pattern`不同对象在彼此不认识的情况下交换信息。

这是一个例子：

在 SettingsViewModel 中注册一个告诉显示设置对话框的事件

```
public SettingsViewModel()
{
  Messenger.Default.Register<ShowSettingsMessage>(this, ShowSettingsDialog);
}

private void ShowSettingsDialog(ShowSettingsMessage showSettingsMessage)
{
  // Set the visibility:
  this.IsVisible = showSettingsMessage.Content;
} 
```

在您的 MainViewModel 中，您发送通知，包裹在一条消息中：

```
// make the settings visible, e.g. the button click command:    
Messenger.Default.Send(new ShowSettingsMessage(true)); 
```

这是消息：

```
// the message:
public class ShowSettingsMessage : GenericMessage<bool>
   {
     public ShowSettingsMessage(bool isVisible)
       : base(isVisible)
     {  }
   } 
```

我不建议创建`SettingsViewModel`a 的属性，`Mainviewmodel`因为您失去了`SettingsViewModel`在不同上下文中使用的可能性，甚至删除/交换它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T09:00:37.263

尝试在名为 IsSettingControlVisible 的 Settings 控件上创建一个依赖属性，并将其与父 viewModel 绑定。

编辑：

```
public partial class UserControl1 : UserControl
    {
        public UserControl1()
        {
            InitializeComponent();
        }

        public int MyProperty
        {
            get { return (int)GetValue(MyPropertyProperty); }
            set { SetValue(MyPropertyProperty, value); }
        }

        // Using a DependencyProperty as the backing store for MyProperty.  This enables animation, styling, binding, etc...
        public static readonly DependencyProperty MyPropertyProperty =
            DependencyProperty.Register("MyProperty", typeof(int), typeof(UserControl1), new UIPropertyMetadata(0));
    } 
```

并像这样使用它...

```
 <Window x:Class="WpfApplication1.MainWindow"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:local="clr-namespace:WpfApplication1"
            Title="MainWindow" Height="350" Width="525">
        <Grid>
            <local:UserControl1 MyProperty="{Binding Path=ParentViewModelProperty, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}" />
        </Grid>
    </Window> 
```

# java - 在浏览器上实现视频聊天的最佳方式

> ID：10910660
> 
> 赞同：3
> 
> 时间：2012-06-06T08:26:10.287
> 
> 标签：java, apache-flex, javafx-2, video-conferencing, bigbluebutton

我在最近的一个项目中使用了[bigbluebutton](http://www.bigbluebutton.org/)来构建一个网络会议平台。我对服务质量不满意，并注意到语音和视频之间存在延迟。

从技术上讲，bigbluebutton 使用与[red5](http://www.red5.org/)服务器集成的 Flex，该服务器将语音发送到 Asterisk 进行语音混合（Konference），并通过在 java 中实现编解码器在本地处理视频。

Bigbluebutton 做得很好，源代码写得很好。据我了解，Flex 它自身仅限于媒体服务器实现的选择，例如无法实现 UDP 套接字等。

所以我的问题是，在浏览器中实现视频聊天应用程序的另一种方式是 Flex。JavaFX 是一个好的解决方案吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-07T05:08:09.910

我是 BigBlueButton 的开发者之一。在最新版本的 BigBlueButton (0.8) 中，我们将 Asterisk 替换为 FreeSWITCH 并移至 speex 协议。

我并不是说 BigBlueButton 对您的应用程序来说足够好，但我建议您尝试最新版本，因为您会注意到 0.8 中的音频延迟比 0.71a 中要少得多。

看

[http://code.google.com/p/bigbluebutton/wiki/ReleaseNotes](http://code.google.com/p/bigbluebutton/wiki/ReleaseNotes)

## 问候，... 弗雷德

BigBlueButton 开发人员

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T09:22:27.300

> JavaFX 是一个好的解决方案吗？

不。也许在未来（例如明年的JavaFX 3.0），但不是现在。

JavaFX 目前没有内置的摄像头或麦克风支持。

要自己构建此类支持，您需要依赖非 JavaFX 库（例如[lti-civil](http://lti-civil.org)），然后将其连接到 JavaFX 应用程序中。由于 JavaFX 只是 Java 并且 JavaFX 应用程序控件可以嵌入到 Swing 小程序中，所以这一切都是可能的，所以你可以考虑一下。要获得具有 BigBlueButton 的所有功能的端到端解决方案，需要大量的工作。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-05-28T11:16:33.177

您必须超越 JavaFX API 并进入 Java API 本身。

我认为纯 Java 小程序可以在 90 年代甚至还没有 Flash 时做麦克风和网络摄像头的事情。

您只需要使用 JMF、JNI、JNDI 等核心 Java 类

例如[http://blog.boehme.me/2011/05/jmf-video-chat-explained-local-webcam.html](http://blog.boehme.me/2011/05/jmf-video-chat-explained-local-webcam.html)

[http://www.oracle.com/technetwork/java/javase/tech/index-jsp-140239.html](http://www.oracle.com/technetwork/java/javase/tech/index-jsp-140239.html)

# android - 无需在android中按任何键即可获得编辑文本值？

> ID：10910661
> 
> 赞同：-1
> 
> 时间：2012-06-06T08:26:33.117
> 
> 标签：android, android-edittext

我的要求如下：我需要从多个文本框（`EditText`）中获取数据，并且需要计算并显示在另一个 文本框中`EditText`。怎么可能？正如我提到的，没有按钮可以自动按下，它需要出现在总框中。

我[提到了这个](https://stackoverflow.com/questions/6242661/enter-data-in-edittext-and-respond-without-pressing-enter)，但是在循环之后我没有得到我全局声明变量的值，但也没有得到文本框的值。

```
EditText et1, et2, etTot;
int x, y, tot;
et1 = (EditText) findViewbyId(R.id.edittext1);
et2 = (EditText) findViewbyId(R.id.edittext2);
etTot = (EditText) findViewbyId(R.id.edittextTot);

et1.addTextChangedListener(new TextWatcher() {

    public void onTextChanged(CharSequence s, int start, int before,
                              int count) {
        x = Integer.parseInt(et1.getText().toString().trim());
        System.out
                .println("AMOUNT IS " + et1.getText().toString());

    }

    public void beforeTextChanged(CharSequence s, int start, int count,
                                  int after) {

    }

    public void afterTextChanged(Editable s) {

    }
});

//same as for et2......

tot = x + y;

etTot.setText(tot.toString()); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:33:26.563

您可以使用实现 TextWatcher 的类并覆盖以下方法：

```
 @Override
        public void afterTextChanged(final Editable editable) {
            // check if user has filled some value in all editTexts
        }

        @Override
        public void beforeTextChanged(final CharSequence string,
                final int start, final int count, final int after) {
        }

        @Override
        public void onTextChanged(final CharSequence string, final int start,
                final int before, final int count) {
        } 
```

最后使用上面的代码`editText`，并检查是否所有都`editTexts`包含一些值，即它们的值不为 "" 或`null`. 如果是，则从中检索所有文本`editTexts`并计算您想要的内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:46:10.247

```
//global variable
EditText et1,et2,etTot;
int x,y,tot;

// in 0nCreat()
et1 = (EditText)findViewbyId(R.id.edittext1);
et2 = (EditText)findViewbyId(R.id.edittext2);
etTot = (EditText)findViewbyId(R.id.edittextTot);

et1.addTextChangedListener(new TextWatcher() {

    public void onTextChanged(CharSequence s, int start, int before,
    int count) {
        <Activity_NAME>.this.updateValue();
    }

    public void beforeTextChanged(CharSequence s, int start, int count,
    int after) {
    }

    public void afterTextChanged(Editable s) {
    }
    });

et2.addTextChangedListener(new TextWatcher() {

    public void onTextChanged(CharSequence s, int start, int before,
    int count) {
        <Activity_NAME>.this.updateValue();

    }

    public void beforeTextChanged(CharSequence s, int start, int count,
    int after) {

    }

    public void afterTextChanged(Editable s) {

    }
    });

//in class       
private void updateValue(){
    String str1 = et1.getText().toString();
    String str2 = et2.getText().toString();

    if(null!=str1 && str1.lenght()>0 && null!=str2 && str2.lenght()>0)                  
    {
        try{
            x= Integer.parseInt(str1.trim());
            y= Integer.parseInt(str1.trim());

            tot = x + y; 
            if(null!=etTot)
                etTot.setText(tot+"");
            else 
                Toast.makeText(this,"etTot is null ",Toast.LENGHT_SHORT).show();
            }catch (NumberFormatExcption nfe){}
        }

    } 
```

# c# - 在单声道中为 Android 模拟 cpu 使用情况

> ID：10910663
> 
> 赞同：1
> 
> 时间：2012-06-06T08:26:37.003
> 
> 标签：c#, xamarin.android

我需要为 android(Android+c#.net) 编写一个单声道应用程序来模拟稳定的 cpu 使用一段时间（例如：30%、50%、70%）2 秒。我参考了下面的链接 [模拟稳定的 CPU 负载和峰值](https://stackoverflow.com/questions/2514544/simulate-steady-cpu-load-and-spikes) 在这里我可以稳定系统 cpu，但在 Android 操作系统中无法执行相同的操作。任何帮助都会有所帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T16:13:09.890

我制作了一个示例项目，它似乎在我的三星 Galaxy S2 和模拟器上运行良好。

[https://github.com/Cheesebaron/MonoDroid.CPULoader](https://github.com/Cheesebaron/MonoDroid.CPULoader)

它只使用您链接到的资源。

# entity-framework - 创建数据库映射工具的理念是什么？

> ID：10910665
> 
> 赞同：1
> 
> 时间：2012-06-06T08:26:39.963
> 
> 标签：entity-framework, nhibernate, orm, mapping, entity-relationship

我是使用对象关系映射工具的新手，我想知道是什么导致了编程工具的创建。使用数据库和映射工具对我们来说有什么好处？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:54:59.597

ORM 用于缩小面向对象模型（应用程序）和关系模型（数据库）之间的差距。该映射有几个困难，例如继承和对象识别，仅举几例（例如，查看[http://www.cit.dk/cot/reports/reports/Case4/05-v1.1/cot- 4-05-1.1.pdf](http://www.cit.dk/cot/reports/reports/Case4/05-v1.1/cot-4-05-1.1.pdf)在这里继续）。有许多 ORM 实现/框架使用不同的概念来实现映射，它们提供不同的“功能”。

您可能知道也有面向对象的数据库系统，但由于实际问题，关系模型仍然受到青睐。对于您的应用程序，您可以自己映射数据模型，或者（如果可用并且符合您的需要）使用 ORM。

# javascript - 屏幕键盘在 Internet Explorer 中不起作用

> ID：10910668
> 
> 赞同：0
> 
> 时间：2012-06-06T08:26:47.857
> 
> 标签：javascript, html, internet-explorer

我必须实现一个简单的屏幕键盘，用户必须首先单击 10 个输入框之一（使其获得焦点），然后使用屏幕键盘将字母添加到焦点输入。

我遇到的问题是，在 IE（7、8 和 9）中，字母每次都被添加到第 5 个输入框中，无论哪个输入框试图获得焦点。

谁能澄清为什么会这样？

下面我提供了在 Chrome 和 Firefox 中完美运行的代码。

```
<img onClick='addIt("q")' src = 'images/alphabet/q.png' style='width:50px;height:50px;cursor:pointer'></div> 
```

当点击图片时，它会调用下面定义的 JS 函数“addIt('q')”：

```
function addIt(key){
  selectedElement = (document.forms["foo"].elements["focusedField"].value!='')?document.forms["foo"].elements["focusedField"].value:"bar";
  d = document.forms["foo"].elements[selectedElement];
  d.value =  d.value + key;
} 
```

在单击输入框时分配focusedField，该输入框是所需功能的密码类型（用户不应看到他正在输入的内容）。

```
<input type='password' name='4_1' id = '4_1' onFocus='document.forms["foo"].elements["focusedField"].value = this.name'/> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:47:41.933

那是因为您正在使用以数字开头的字段名称。

当您使用 时`document.forms["foo"].elements["4_1"]`，Internet Explorer 会将其解释为`document.forms["foo"].elements[4]`并为您提供表单中的第五个元素。

只需使字段名称以字母开头，例如：

```
<input type='password' name='x4_1' id='x4_1' ... 
```

# android - ViewPager 不支持 layout_height = wrap_content

> ID：10910669
> 
> 赞同：12
> 
> 时间：2012-06-06T08:26:50.037
> 
> 标签：android, android-viewpager

我正在构建一个具有以下布局的 android 应用程序。![应用程序布局](../Images/590a1e94035aed12379cc5f4abeb1e37.png)

众所周知，这`layout_height="wrap_content"`不适用于 ViewPager。

我的问题是如何动态更改它。ViewPager 的内容是从两个 xml 布局膨胀而来的，`vp_statistics.xml and vp_campaigns.xml.`

这是 ViewPager 的 xml

```
<LinearLayout
            android:id="@+id/topcontent_wrapper"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="10dp"
            android:orientation="vertical" >
</LinearLayout>

<LinearLayout
            android:id="@+id/viewpager_wrapper"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="10dp"
            android:orientation="vertical" >

            <android.support.v4.view.ViewPager
                android:id="@+id/viewpager"
                android:layout_width="match_parent"
                android:layout_height="wrap_content" />
</LinearLayout> 
```

这是我的 PagerAdapter 的代码

```
class MyPagerAdapter extends PagerAdapter{

@Override
public int getCount() {
    // TODO Auto-generated method stub
    return 2;
}

public Object instantiateItem(View collection, int pos){
    LayoutInflater inflater =     (LayoutInflater)collection.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);

    int resId = 0;
    switch(pos){
    case 0:
        resId = R.layout.vp_statistics;
        break;
    case 1:
        resId = R.layout.vp_campaigns;
        break;
    }

    View view = inflater.inflate(resId, null);

    ((ViewPager)collection).addView(view, 0);

    return view;
}

@Override
public void destroyItem(ViewGroup container, int position, Object object) {
    // TODO Auto-generated method stub
    ((ViewPager)container).removeView((View)object);
}

@Override
public boolean isViewFromObject(View arg0, Object arg1) {
    // TODO Auto-generated method stub
    return arg0 == ((View)arg1);
}

@Override
public Parcelable saveState() {
    // TODO Auto-generated method stub
    return null;
}

} 
```

在我的 Activity 类的 onCreate() 方法中：

```
MyPagerAdapter adapter = new MyPagerAdapter();
ViewPager viewPager = (ViewPager)findViewById(R.id.viewpager);
viewPager.setAdapter(adapter);
viewPager.setCurrentItem(0); 
```

有没有办法获取`vp_statistics.xml`和布局的高度并在每次调用对象时`vp_campaigns.xml`动态分配它？`ViewPager (@id/viewpager)``instantiateItem()`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-17T06:26:48.150

1.  `weightSum=2`向父级添加一个属性`LinearLayout`，并设置`orientation=vertical`.
2.  设置顶部子 LinearLayout 的`layout_weight=1`. 另外，设置`layout_height=0dip`
3.  `LinearLayout`用`layout_weight=1`and将 ViewPager 包装成另一个`layout_height=0dip`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-10T23:34:37.847

[我在这里](https://stackoverflow.com/a/18167273/590947)回答了一个类似的问题。

该解决方案**扩展**ViewPager 以覆盖`onMeasure()`以使其`wrap_content`仅适用于高度。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:50:54.780

使用`0dp`而不是`wrap_content`, 并动态更改

```
pager = new ViewPager(this);
        pager.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT)); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-06T09:26:14.867

为了为每个线性布局分配不同的屏幕空间，请尝试使用该`layout_weight`参数。您可以重新分配此代码以实现此“动态”权重更改。[此处](http://developer.android.com/guide/topics/ui/layout-objects.html#linearlayout)概述了如何在代码中实现权重布局的大量 Google 示例...

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2013-07-14T14:01:33.357

使用**相对布局**：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <LinearLayout 
        android:id="@+id/layout"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

    </LinearLayout>

    <android.support.v4.view.ViewPager
        android:id="@+id/pager"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_below="@+id/layout" >

    </android.support.v4.view.ViewPager>

</RelativeLayout> 
```

# javascript - 使用 Raphaël JS 和 SVG 调整扇区路径大小的更优雅的方法？

> ID：10910671
> 
> 赞同：15
> 
> 时间：2012-06-06T08:27:00.357
> 
> 标签：javascript, svg, raphael, trigonometry

我第一次使用[Raphaël](http://raphaeljs.com/)，几乎没有 svg 经验，我需要真正了解这两个方面的人来帮助我。

我创建了一个带有动态扇区的饼图。可以通过拖动圆形按钮来调整扇区的大小。看到[这个小提琴](http://jsfiddle.net/tangibleJ/Jmy4k/7/)。我只在 Chrome 和 Safari 中进行了测试，它们是唯一需要的浏览器。

饼图尚未完成。**扇区可以重叠。请暂时忽略这一点。**

当扇区的起始角度大于结束角度时，我遇到了问题。当结束角度超过 0/360° 标记时就是这种情况。为了解决这个问题，我使用了路径**旋转**参数。我在将角度向后移动的同时将扇区向前移动，直到结束角度为 360。您可以在此函数的小提琴中看到这一点：

```
function sector_update(cx, cy, r, startAngle, endAngle, sec) {
    var x1 = cx + r * Math.cos(-startAngle * rad),
        x2 = cx + r * Math.cos(-endAngle * rad),
        y1 = cy + r * Math.sin(-startAngle * rad),
        y2 = cy + r * Math.sin(-endAngle * rad);

    var rotation = 0;

    // This is the part that I have the feeling could be improved.
    // Remove the entire if-clause and let "rotation" equal 0 to see what happens
    if (startAngle > endAngle) {
        rotation = endAngle;
        startAngle = startAngle - endAngle;
        endAngle = 360;
    }

    sec.attr('path', ["M", cx, cy, "L", x1, y1, "A", r, r, rotation, 
    +(endAngle - startAngle > 180), 0, x2, y2, "z"]);
} 
```

虽然效果很好，但我有点怀疑。这可以在不旋转路径的情况下解决吗？我感谢任何帮助或指示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-22T03:19:49.773

`Can this be solved without the rotation of the path?`

**答：**是的，可以。您根本不必更改路径的旋转。除非我遗漏了某些东西，否则以下代码似乎与您在小提琴中的代码相同：

```
function sector_update(cx, cy, r, startAngle, endAngle, sec) {
    var x1 = cx + r * Math.cos(-startAngle * rad),
        x2 = cx + r * Math.cos(-endAngle * rad),
        y1 = cy + r * Math.sin(-startAngle * rad),
        y2 = cy + r * Math.sin(-endAngle * rad);

    //notice there is no "roation" variable
    if (startAngle > endAngle) {
        startAngle -= endAngle;
        endAngle = 360;
    }

    sec.attr('path', ["M", cx, cy, "L", x1, y1, "A", r, r, 0, 
    +(endAngle - startAngle > 180), 0, x2, y2, "z"]);
} 
```

**说明：** 为了我的解释，我将使用 [W3 Spec](http://www.w3.org/TR/SVG/paths.html#PathDataEllipticalArcCommands)和[Raphael Reference Library](http://raphaeljs.com/reference.html#Paper.path)中的 SVG 术语。也就是说，当您使用`cx`、`cy`和`rotation`时，它们分别使用`rx`、`ry`和`x-axis-rotation`。

**简而言之，无论何时`rx`equals `ry`， then`x-axis-rotation`都是没有意义的。**

看看[这个 SVG](http://www.w3.org/TR/SVG/images/paths/arcs01.svg)。使用浏览器的开发工具，或将 SVG 保存到您的计算机并使用文件编辑器进行编辑。具体来说，查看最后一个`path`元素，其中有四个弧。尝试修改`x-axis-rotation`每个弧上的值。您会注意到，当您更新值时，第一个弧（其中`rx`和`ry`都是“25”）永远不会改变。`x-axis-rotation`

**为什么？** 这是因为你有一个圆弧。无论你旋转一个圆圈多少，它仍然是同一个圆圈。例如，在您面前举起一个玻璃杯，使玻璃杯与地面水平，并且您正直视玻璃杯。现在用手腕旋转/扭转玻璃。你看到你看到的圆形是如何保持在同一个圆形的吗？现在将玻璃杯正常放在桌子上（因此它是垂直的并且可以容纳液体）。现在把玻璃翻过来。可以看到明显的视角变化；它本来是朝上的，但现在它是平躺的。就是`x-axis-rotation`这样。

也许一个更好的例子是只玩前面提到的 SVG 文件。在最后一个元素`x-axis-rotation`的弧上玩。`path`您将看到圆弧正在旋转。就是`x-axis-rotation`这样。

**回到您的代码：** 因为您只处理圆形对象，`x-axis-rotation`所以最终输出没有任何区别。只要您*只*处理循环对象，您就可以将其值硬编码为零而无需担心。您真正需要做的就是修改您正确完成的角度。

**性能：** 我尝试使用 JavaScript 在`sector_update`修改和不修改`x-axis-rotation`变量的情况下为您的函数计时。结果？我没有看到性能上的差异。大部分时间花在实际绘制 SVG 上，而不是在确定其值的数学上。事实上，您在 JavaScript 中真正所做的只是更新代码以设置`path`元素中的值。在那个时间点，浏览器接管它的渲染引擎来实际绘制 SVG 对象。我想这是每个浏览器的问题，因为每个浏览器都有不同的渲染性能。但至于该`x-axis-rotation`值是否有任何影响，我的猜测是否定的。如果*有*性能下降（因为浏览器可能必须执行额外的浮点操作），因为绝大多数时间都花在绘制对象上，而不是计算它的值，所以它非常没有实际意义。所以我想说不要担心。

我希望这会有所帮助，如果我遗漏了什么或解释得不够好，请告诉我。

# java - 如何使用 JKS 文件创建 pem 文件

> ID：10910672
> 
> 赞同：1
> 
> 时间：2012-06-06T08:27:09.247
> 
> 标签：java, ssl, openssl, pem

我想创建两个`.pem`文件，一个用于`client`，另一个用于`server`，根据我的理解`client pem file`将拥有`servers public key + clients private key`和`server pem file`将拥有`client public key + servers private key`。我从[http://yellowcat1.free.fr/keytool_iui.html](http://yellowcat1.free.fr/keytool_iui.html)`jks`创建了文件

实现所需的步骤是什么`pem files`，这些`.pem`文件应该是`password enabled`.

# ssl - 错误 Axis2 客户端从 Websphere6.1 中的 J2EE 应用程序调用 SSL 服务

> ID：10910677
> 
> 赞同：1
> 
> 时间：2012-06-06T08:27:29.277
> 
> 标签：ssl, client, websphere, axis2

我被困在我的基于axis2的客户端从websphere 6.1调用ssl服务并抛出以下异常以及顶部的消息的问题。我已按照[单击此处](http://www.ibm.com/developerworks/wikis/download/attachments/116424904/basic_ssl_cert_exchange_1109.pdf?version=1)的步骤在默认信任库中使用 IBM websphere 管理控制台安装 ssl 证书。请注意，此客户端在 APACHE Tomcat 上运行良好。在这方面的任何帮助将非常感谢。

```
setting up default SSLSocketFactory

class com.ibm.websphere.ssl.protocol.SSLSocketFactory is loaded

SSLSocketFactory instantiation failed: java.lang.ClassCastException: 
com.ibm.websphere.ssl.protocol.SSLSocketFactory incompatible with         javax.net.ssl.SSLSocketFactory

{HttpMethodDirector:439} - I/O exception (java.net.SocketException) caught when     processing request: java.lang.ClassCastException:     com.ibm.websphere.ssl.protocol.SSLSocketFactory 
incompatible with javax.net.ssl.SSLSocketFactory

{HttpMethodDirector:445} - Retrying request

{HttpMethodDirector:439} - I/O exception (java.net.SocketException) caught when     processing request: java.lang.ClassCastException:     com.ibm.websphere.ssl.protocol.SSLSocketFactory incompatible with     javax.net.ssl.SSLSocketFactory

{HttpMethodDirector:445} - Retrying request

{HttpMethodDirector:439} - I/O exception (java.net.SocketException) caught when     processing request: java.lang.ClassCastException: com.ibm.websphere.ssl.protocol.SSLSocketFactory incompatible with javax.net.ssl.SSLSocketFactory

{HttpMethodDirector:445} - Retrying request

{HTTPSender:202} - Unable to sendViaPost to url[https://sma/CBDSMS/api/GetDue.svc]
java.net.SocketException: java.lang.ClassCastException:     com.ibm.websphere.ssl.protocol.SSLSocketFactory incompatible with     javax.net.ssl.SSLSocketFactory
at javax.net.ssl.DefaultSSLSocketFactory.throwException(Unknown Source)
at javax.net.ssl.DefaultSSLSocketFactory.createSocket(Unknown Source)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:615)
at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:116)
at org.apache.commons.httpclient.protocol.SSLProtocolSocketFactory.createSocket(SSLProtocolSocketFactory.java:130)
at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:346)
at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:560)
at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:199)
at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:76)
at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:400)
at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:225)
at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:438)
at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:402)
at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T11:39:00.867

请在此 Web 应用程序的类加载器中使用“最后一个父级”设置。有关详细信息，请参见[此处](http://websphereapplicationservernotes.wordpress.com/2012/03/21/classnotfound-a-close-look-at-class-loader-in-websphere-application-server/)。

# sitecore - 面向营销人员的 Sitecore WebFoms 模块

> ID：10910678
> 
> 赞同：1
> 
> 时间：2012-06-06T08:27:41.573
> 
> 标签：sitecore, web-forms-for-marketers

我想问您如何更好地实施：使用 Sitecore WebForms for Marketingers 模块或标准 .ascx 子布局。

![表单示例](../Images/684e17aa2fe184c7480e827c5cc4355e.png)

所以我需要用动态下拉菜单、日期选择器、复选框、单选按钮等来实现巨大的表单。这个表单还包含动态添加新控件（参见上面附件中的描述）。那么是否可以在 Sitecore WebForms for Marketingers 模块中创建此表单，或者在 ascx 中将其编写为标准表单会更容易。

此表单将保存到 sitecore 数据库。

请回答是否有人已经这样做了。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T17:12:17.173

据我所知，使用 Sitecore 中的 WFFM*开箱即*用是不可能做到这一点的。

我想第一个要问的问题是：*您或您的客户是否希望/需要能够在没有开发人员交互的情况下自己管理表单？*

如果这个问题的答案是肯定的，那么您可以尝试使用 WFFM 来实现它，否则将其作为普通子布局来实现可能会更容易。

**编辑**

您还可以做的另一件事是创建一个表单，然后使用“导出到 ascx”功能。您可以查看生成的代码以了解数据是如何写入 WFFM 数据库的 - 这样您就可以拥有自定义表单功能，但仍然可以利用 Sitecore 客户端中的报告功能。如果您有一些类似决策树的逻辑来显示不同的字段，您也可以从 Sitecore 内容项中驱动它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-23T15:59:08.007

据我所知，您可以在营销人员的 Web 表单的帮助下创建此表单，但在这种情况下，您需要创建一些自定义字段并根据您的要求更新这些字段。要创建自定义字段，请在 /sitecore/system/Modules/Web 表单下为营销人员/设置/字段类型/自定义位置创建字段，并在自定义字段中定义您创建的自定义类和程序集。

您可以通过应用自定义 css 类来更新设计。

您可以在 /sitecore/system/Modules/Web Forms for Marketers/Settings/Meta data/Css Classes 位置下创建类，并在特定控件上应用类。

# html - Django - 缩短在 html 模板中检索到的文本内容

> ID：10910681
> 
> 赞同：1
> 
> 时间：2012-06-06T08:27:49.937
> 
> 标签：html, django

我想知道如何缩短检索到的文本内容以获得预览，而不是在 html 模板中获取文本块

来自: 啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊

到：

啊啊啊啊啊啊啊啊啊啊啊啊……

用于检索内容的代码是：

```
 <a class="list_content" href="/qna/view" onclick="document.forms['q_title_{{ q.id }}'].submit(); return false" title="{{ q.content }}">{{ q.content }} </a><br/> 
```

非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:35:56.883

如果您使用的是 Django 1.4，则[truncatechars](https://docs.djangoproject.com/en/dev/ref/templates/builtins/#truncatechars)过滤器将是最好的选择：

```
{{ q.content|truncatechars:25 }} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:32:32.277

假设“q.content”是一个字符串，您可以使用[slice](https://docs.djangoproject.com/en/1.2/ref/templates/builtins/#slice)命令：

```
{{ q.content|slice:":255" }} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:35:37.187

[django 1.4 的truncatechars](https://docs.djangoproject.com/en/dev/ref/templates/builtins/#truncatechars)模板过滤器

# r - 将千字节、兆字节等转换为 R 中的字节

> ID：10910688
> 
> 赞同：9
> 
> 时间：2012-06-06T08:28:08.977
> 
> 标签：r, byte

R中是否有标准函数来转换表示字节数的字符串，例如

*   11855276K
*   113M
*   2.40G

到整数字节？

我在 gdata 包中遇到过`humanReadable`，但这会反过来进行转换。我知道我可以解析字符串然后自己做数学，但我想知道是否已经存在某些东西。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-06T09:40:03.333

一个简单的功能来做到这一点：

```
x <- c("11855276K", "113M", "2.40G", "1234")

convb <- function(x){
  ptn <- "(\\d*(.\\d+)*)(.*)"
  num  <- as.numeric(sub(ptn, "\\1", x))
  unit <- sub(ptn, "\\3", x)             
  unit[unit==""] <- "1" 

  mult <- c("1"=1, "K"=1024, "M"=1024^2, "G"=1024^3)
  num * unname(mult[unit])
}

convb(x)
[1] 12139802624   118489088  2576980378        1234 
```

* * *

您可能想要添加额外的单位和转换，例如 TB。

# android - Android 客户端使用 SFTP 发送文件

> ID：10910693
> 
> 赞同：3
> 
> 时间：2012-06-06T08:28:24.617
> 
> 标签：android, file, ftp, sftp

所有，
我是 FTP 和 SFTP 协议的新手。我需要从 android 客户端将文件发送到 SFTP 服务器。

1) android 是否有内置的 SFTP 支持 SDK ？

2）如果没有，我如何在Android中完成同样的事情？

3）任何有用的链接或库或应用程序都会帮助我

提前致谢

尼茨

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T09:20:09.087

There's no built-in SFTP support in Android SDK, but there exists a fair number of Java classes for SSH/SFTP capable of doing FTP and SFTP including our [SecureBlackbox](http://www.eldos.com/sbb/java-secure-file-transfer.php) (Java edition), [JSch](http://www.jcraft.com/jsch/) (SFTP only, no FTP/FTPS) and some others mentioned in [this question](https://stackoverflow.com/questions/2251247/sftp-in-android).

NOTE: [SFTP and FTP are completely different protocols](http://www.eldos.com/sbb/sftp-ftps.net/ftps-vs-sftp.php).

# iphone - 我的移动网站右侧有额外的空白

> ID：10910694
> 
> 赞同：2
> 
> 时间：2012-06-06T08:28:32.557
> 
> 标签：iphone, mobile, web, space, extra

我的移动网站[http://hoagfrm.orangegrids.com/index.php?id=51](http://hoagfrm.orangegrids.com/index.php?id=51)是用 320px 大小开发的。我仍然可以在 iPhone 的右侧看到一个额外的空白区域。有人可以解决这个问题吗

# events - 使用 FQL 查询过去的事件

> ID：10910697
> 
> 赞同：1
> 
> 时间：2012-06-06T08:28:50.390
> 
> 标签：events, facebook-fql

我正在尝试访问给定用户的过去事件。我正在使用以下 FQL 查询：（`SELECT eid, name, pic_square, start_time, end_time, location FROM event WHERE eid IN (SELECT eid FROM event_member WHERE uid = me() AND rsvp_status != 'declined') AND start_time < 1338974650 ORDER BY start_time DESC LIMIT 0,20`应该`1338974650`是当前的 UNIX 时间戳）。这工作正常。然而，在我的例子中，facebook 只返回一组 4 个事件，而 facebook.com 显示*更多*。这是为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T11:55:32.350

是的。Facebook 严格限制 API 调用返回的过去项目的数量。当我访问我的一个页面时，我看到过去的事件页面上列出了超过 75 个事件。当我使用 FQL 或 Graph API 查询页面的事件时，我只得到 2 个事件。我的猜测是 Facebook 有一个单独的表，用于存储无法通过 API 获得的过去事件。

顺便说一句，您可以通过将时间戳替换为`now()`.

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-06-06T08:33:31.053

如果您通过传递 uid 来查询 event_member 表，您将获得用户创建的所有事件。如果您通过传递一个 eid 来查询表，它会为您提供事件的成员及其 rsvp 状态。

[编辑：尝试按照此处](https://developers.facebook.com/blog/post/486/)所述设置 start_date > 0它应该向您显示所有事件。

# r - 关于 R 中的 set.seed() 的问题

> ID：10910698
> 
> 赞同：21
> 
> 时间：2012-06-06T08:28:51.583
> 
> 标签：r, random

我了解`set.seed()`它的作用以及何时可以使用它，但我仍然对该功能有很多疑问。这里有几个：

1.  如果您在会话中早些时候打电话，是否可以“重置”`set.seed()`为“更随机”的东西？`set.seed()`这甚至有必要吗？
2.  是否可以查看 R 当前使用的种子？
3.  有没有办法`set.seed()`允许字母数字种子，可以在[random.org](http://www.random.org/sequences/?mode=advanced)输入它们的方式（确保您处于高级模式，并查看表格的“第 3 部分”以了解我的意思）？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-06-06T11:29:57.237

只是为了好玩：

```
set.seed.alpha <- function(x) {
  require("digest")
  hexval <- paste0("0x",digest(x,"crc32"))
  intval <- type.convert(hexval) %% .Machine$integer.max
  set.seed(intval)
} 
```

所以你可以这样做：

```
set.seed.alpha("hello world") 
```

（实际上`x`可以是任何 R 对象，而不仅仅是字母数字字符串）

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-06-06T08:47:19.710

这是可能的，如果你将种子设置为你的时间纪元的最后数字，但这真的没有必要。PRNG 的预期用途是您在会话开始时设置一次种子，并使用由此生成的连续变量。以不同的方式做事，您将无法享受 R RNG 所具有的各种良好的理论和经验特性。

但我不确定你是否真的理解 set.seed 的目的。获得“更多随机”数字并不是真正的存在。如果您正在执行某种 R PRNG 不足的应用程序（例如，如果您需要加密随机性），您不妨通过某种替代方法生成所有随机数并直接使用它们。set.seed 的真正目的是使用 RNG 在结果中产生可重复性。如果您使用相同的随机数生成序列开始相同的分析，并将种子设置为相同的值，您将始终得到相同的结果。这有助于调试以及其他人查看您的结果。

要使用纪元时间，请执行以下操作

```
t <- as.numeric(Sys.time())
seed <- 1e8 * (t - floor(t))
set.seed(seed); print(seed) 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-06-06T16:28:09.957

对于您的问题 3，包中有一个`char2seed`函数`TeachingDemos`，它将接受一个字符串（alhpa 数字）并将其转换为整数，默认情况下使用它来设置新种子。这个想法是学生可以使用他们的名字（或名字的一些组合/子集）作为种子，这样每个学生都会得到一个不同的数据集，但是教师可以复制每个学生的数据集。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-05-31T21:05:50.640

有关 2 的答案，请先查看帮助页面`?RNGkind`。

要查找正在使用的 RNG 类型：

```
RNGkind()
# [1] "Mersenne-Twister" "Inversion" 
```

Mersenne Twister 是默认设置。

从帮助页面：

> '“Mersenne-Twister”：'来自松本和西村（1998 年）。一个扭曲的 GFSR，周期为 2^19937 - 1，在 623 个连续维度（在整个周期内）均等分布。“种子”是一个 624 维的 32 位整数集合加上该集合中的当前位置。

要查找当前正在使用的种子，您需要首先调用随机数生成器。

```
runif(1, 0, 1)                                                                                                                                                  
# [1] 0.9834062                                                                                                                                                      
.Random.seed
# [Gives a 626 length vector] 
```

如果您使用相同的 ,调用`set.seed(some_integer)`后跟`.Random.seed`, 将始终给出相同的 626 长度向量`some_integer`。换句话说，626 长度的向量完全由 确定`some_integer`，当然，假设使用的是 Mersenne Twister。

此外，当然，运行`set.seed`到某个固定值将为您调用跟随它的随机数例程提供相同的值。这是它在实践中的主要用途，以提供可重复性。例如

```
set.seed(1)
runif(5, 0, 1)
# [1] 0.2655087 0.3721239 0.5728534 0.9082078 0.2016819
rnorm(1, 0, 1)
# [1] 1.272429
set.seed(1)
runif(5, 0, 1)
# [1] 0.2655087 0.3721239 0.5728534 0.9082078 0.2016819
rnorm(1, 0, 1)
# [1] 1.272429 
```

R 中的所有基本数字生成器代码都在源代码中的文件[src/main/RNG.c](https://github.com/wch/r-source/blob/trunk/src/main/RNG.c)中。

它是用 C 语言编写的，但很容易理解。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-02-17T20:44:14.533

我有与问题 1 相同的问题。然后我想我可以通过以下方式简单地在循环中重置种子：

```
set.seed(123)
x<- rnorm(10,1,1)
set.seed(null) 
```

这样，在每个循环结束时，种子就被删除了。它对我有用。

# c# - 在组合类设计中，如何在内部类中访问外部类的属性？

> ID：10910699
> 
> 赞同：1
> 
> 时间：2012-06-06T08:28:52.783
> 
> 标签：c#, c#-4.0, composition

我完全无法访问内部类中的外部类属性......即使我在内部类中创建外部类的对象* *，这在组合设计中毫无意义** ..即使那样我也无法访问它们..是有一种方法可以访问这些外部类属性吗？

情景是有一些跑车，只有在有想要购买的客户存在的情况下才会建造！..

```
namespace composition{
public class CustomCar
{
    #region Attributes
    private string name;
    private string plateno;
    private double cost;
    private CarCustomer _customer = new CarCustomer();

    #endregion

    #region properties

    public string Name
    {
        get { return name; }
        set { name = value; }
    }

    public double Cost
    {
        get { return cost; }
        set { cost = value; }
    }

    public string PlateNo
    {
        get { return plateno; }
        set { plateno = value; }
    }

    public CarCustomer Customer
    {
        get { return _customer; }
        set { _customer = value; }
    }

    #endregion

    #region methods

    public CustomCar()
    {
        Console.WriteLine("I am in custom car");
    }

    public CustomCar(string s1, string pno, double c, string s2, double n, double bc)
    {
        this.Name = s1;
        this.PlateNo = pno;
        this.Cost = c;
        this.Customer.Name1 = s2;
        this.Customer.Nic1 = n;
        this.Customer.BargainCost = bc;
    }

    public double finalCost()
    {
        if (this.Customer.BargainCost < 10000)
        {
            double FinalCost = (this.Cost - this.Customer.BargainCost);
            return FinalCost;
        }
        else
        {
            return this.Cost;
        }

    }

    public void show()
    {
        Console.WriteLine(this.name + this.PlateNo + this.Customer.Name1 + this.Customer.Nic1);
    }

    #endregion

    public class CarCustomer
    {
        private string name1;
        private double Nic;
        private double bargainCost;

        public double BargainCost
        {
            get { return bargainCost; }
            set { bargainCost = value; }
        }

        public double Nic1
        {
            get { return Nic; }
            set { Nic = value; }
        }

        public string Name1
        {
            get { return name1; }
            set { name1 = value; }
        }

        public CarCustomer()
        {
            Console.WriteLine("I have a customer");
        }

        public CarCustomer(string n1, double i1, double bc)
        {
            this.Name1 = n1;
            this.Nic = i1;
            this.BargainCost = bc;
        }

        public void showCustomer()
        {
            Console.WriteLine("Customer name:   " + Name1);
            Console.WriteLine("Customer NIC:    " + Nic1);
        }
    }
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T10:13:59.583

没有什么可以阻止您在 CarCustomer 中引用 CustomCar 对象。然后，这将为您提供对象之间的一对一引用。您是否在 CustomCar 的构造函数中创建此对象取决于您

```
public CustomCar(arguments)
{
    this.Customer.CustomCar = this;
} 
```

或者您可以将其设置在属性访问器的集合中，由您决定。尝试这个

```
public class CustomCar
{
    private string name;
    private string plateno;
    private double cost;
    private CarCustomer _customer = new CarCustomer();

    public string Name
    {
        get { return name; }
        set { name = value; }
    }

    public double Cost
    {
        get { return cost; }
        set { cost = value; }
    }

    public string PlateNo
    {
        get { return plateno; }
        set { plateno = value; }
    }

    public CarCustomer Customer
    {
        get { return _customer; }
        set { _customer = value; }
    }

    public CustomCar()
    {
        Console.WriteLine("I am in custom car");
    }

    public CustomCar(string name, string pno, double c, string customerName, double n, double bc)
    {
        this.Name = name;
        this.PlateNo = pno;
        this.Cost = c;
        this.Customer.Name1 = customerName;
        this.Customer.Nic1 = n;
        this.Customer.BargainCost = bc;
        this.Customer.Car = this;
    }

    public double finalCost()
    {
        if (this.Customer.BargainCost < 10000)
        {
            double FinalCost = (this.Cost - this.Customer.BargainCost);
            return FinalCost;
        }
        else
        {
            return this.Cost;
        }

    }

    public void show()
    {
        Console.WriteLine(this.name + this.PlateNo + this.Customer.Name1 + this.Customer.Nic1);
    }
}

    public class CarCustomer
    {
        private string name1;
        private double Nic;
        private double bargainCost;
        private CustomCar customer;

        public double BargainCost
        {
            get { return bargainCost; }
            set { bargainCost = value; }
        }

        public double Nic1
        {
            get { return Nic; }
            set { Nic = value; }
        }       

        public string Name1
        {
            get { return name1; }
            set { name1 = value; }
        }

        public CustomCar Car
        {
            get{return customer;}
            set{customer = value;}
        }

        public CarCustomer()
        {
            Console.WriteLine("I have a customer");
        }

        public CarCustomer(string n1, double i1, double bc)
        {
            this.Name1 = n1;
            this.Nic = i1;
            this.BargainCost = bc;                  
        }

        public void showCustomer()
        {
            Console.WriteLine("Customer name:   " + Name1);
            Console.WriteLine("Customer NIC:    " + Nic1);
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T10:25:31.777

当然你不能访问它们。您已将其保护级别设置为`private`。为了从外部资源获取它们，它们的保护级别必须与所需的访问级别一致。在这种情况下，您应该能够将修饰符更改为`protected`并能够访问它们。

但是，看看你的类设计，我认为使用自动 getter/setter 语法会更好。你没有在你的属性定义中做任何特别的事情，所以摆脱私有变量并将你的属性更改为这样是有意义的：

```
public string Name { get; set; }
public double Cost { get; set; }
public string PlateNo { get; set; }
public CarCustomer Customer  { get; set; } 
```

您仍然可以通过属性公开访问变量，并且不会有额外变量的所有混乱。

# wcf - EntityPropertyMappingAttribute 错误

> ID：10910703
> 
> 赞同：1
> 
> 时间：2012-06-06T08:29:09.273
> 
> 标签：wcf

我正在使用这个 LOC

```
[EntityPropertyMappingAttribute("FieldName", SyndicationItemProperty.Summary,         SyndicationTextContentKind.Plaintext, true)] 
```

但我收到类似“找不到类型或命名空间名称 EntityPropertyMappingAttribute 的错误，您是否缺少 ass、bly 参考......并且还包括在内

```
using System;
using System.Collections.Generic;
using System.Data.Services;
using System.Data.Services.Common;
using System.Text;
using System.Runtime.Serialization;
using FluorineFx;
using System.Data;
using System.Linq; 
```

提到命名空间..

请帮忙解决这个问题

# macos - 通过 Cocoa 复杂地使用地址簿搜索元素

> ID：10910705
> 
> 赞同：2
> 
> 时间：2012-06-06T08:29:22.807
> 
> 标签：macos, cocoa, addressbook, abaddressbook, abperson

我正在尝试使用该`ABPerson`方法`searchElementForProperty:...`创建一个中等复杂的搜索。特别是，我想找到具有以“ `foo.com`”结尾的电子邮件地址并且不属于预填充组“ `My workunit`”的一组人。

仅匹配电子邮件地址似乎很简单。创建与组成员关系（的倒数）的合取似乎是不可能的。

是的，我可以通过自己进行明显的明确交叉检查来做到这一点，但是如果直接在地址簿中具有搜索功能的目的是优化性能，那么搜索工具是否足够完整以能够去做这个？

在此先感谢，托尼

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T12:22:44.103

You could potentially copy all the data from the address book into a Core Data store and use predicates to work with that data. Predicates tend to be very useful when building complex queries.

[Predicate Programming Guide](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Predicates/Articles/pUsing.html)

In this case you would have to get all contacts (`[[AddressBook sharedAddressBook] people]`) and also have a Core Data entity called `Contact` (or something similar) that would save names, emails, addresses and other properties from the `ABPerson` object.

Having this you can probably create an `NSPredicate` to filter with the conditions you want.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-04T21:20:54.517

组根据 recordId 引用其成员。我发现执行这种操作的唯一方法是：[如何找到一个人的父组](https://stackoverflow.com/questions/13427161/how-to-find-out-the-parent-groups-of-a-person)。这不是我们想要的简单的事情。苹果似乎并不关心非常有用的组搜索。

# iphone - Foursquare iPhone API 附近的地方

> ID：10910710
> 
> 赞同：3
> 
> 时间：2012-06-06T08:29:39.947
> 
> 标签：iphone, ios, api, foursquare, currentlocation

我是 Foursquare API 的新手，在给定当前位置的情况下，我不知道如何获取附近的地方？我看了很多关于这个的样本，但我无法让它发挥作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T09:02:44.400

看到这个链接[https://github.com/Constantine-Fry/Foursquare-API-v2/tree/master/Foursquare2-iOS](https://github.com/Constantine-Fry/Foursquare-API-v2/tree/master/Foursquare2-iOS)。为 iPhone 集成foursquare API 很容易。我用过这个。

例如：地点搜索

```
[Foursquare2 searchVenuesNearByLatitude:@"40.763" longitude:@"-73.990" accuracyLL:nil altitude:nil accuracyAlt:nil query:@"" limit:@"15" intent:@"" callback:^(BOOL success, id result){
            if (success) {
             //parse here
             tableData = [[FoursquareParser parseSearchVenuesResultsDictionary:(NSDictionary*)result] retain];
            [mTableView reloadData];
           }
        }]; 
```

//搜索场地解析器

```
 +(NSMutableArray*)parseSearchVenuesResultsDictionary:(NSDictionary*)result{
    NSArray *groupsArray = [[result objectForKey:@"response"] objectForKey:@"venues"];
    if([groupsArray count] > 0){

            NSMutableArray *resultArray = [NSMutableArray array];
    //Get Stats details
                NSDictionary *stats = [[groupsArray objectAtIndex:i] objectForKey:@"stats"];
                [resultDictionary setObject:[stats objectForKey:@"checkinsCount"] forKey:@"checkinsCount"];
                [resultDictionary setObject:[stats objectForKey:@"tipCount"] forKey:@"tipCount"];
                [resultDictionary setObject:[stats objectForKey:@"usersCount"] forKey:@"usersCount"];

                [resultArray addObject:resultDictionary];
                return resultArray;
        }
        return [NSMutableArray array];
    } 
```

# linux - Perl 将文件中的行放入单个文件中

> ID：10910714
> 
> 赞同：3
> 
> 时间：2012-06-06T08:29:58.750
> 
> 标签：linux, perl

我有一个名为 mail.txt 的文件，其中的行如下所示，我想将所有这些行放在一行中

谢谢

* * *

这是输入

```
q2VDWKkY010407 2221878 Sat Mar 31 19:37 <Mailer-daemon>
                     （主机映射：查找（my.local.domain）：延迟）
                                             <yagyavalkbhatt@yahoo.com>
                                             <ygyalkatt@yahoo.com>
q2VDWKkY010407 2221878 Sat Mar 31 19:37 <Mailer-daemon>
                     （主机映射：查找（my.local.domain）：延迟）
                                             <yagyavalkbhatt@yahoo.com>
                                             <yagyav@yahoo.com>
```

这是输出

```
q2VDWKkY010407 2221878 Sat Mar 31 19:37 <Mailer-daemon>,(host map:lookup (my.local.domain): deferred),<yagyavalkbhatt@yahoo.com>,<ygyalkatt@yahoo.com>

q2VDWKkY010407 2221878 Sat Mar 31 19:37 <Mailer-daemon>,(host map: lookup (my.local.domain): deferred), <yagyavalkbhatt@yahoo.com>,<yagyav@yahoo.com>
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:32:49.487

那你为什么不做呢？

```
open(my $fh, "<", $input_filename);

my @lines = map { chomp; $_} <$fh>; #1

close $fh;

open(my $out, ">", $output_filename);

print $out join "", @lines; # or maybe a different separator, like ","

close $out;

#that's it 
```

注意：如果要去掉输入行开头和结尾的多余空格，可以将 line 替换`#1`为

```
my @lines = map { s/\s+$//; s/^\s+//; $_} <$fh>; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T11:18:06.430

您似乎想在记录之间的连接行和空白行之间引入逗号分隔符。

下面的代码将带有前导空格的行视为续行。我们去除前导和尾随空格并将记录粘合在一起。

```
#! /usr/bin/env perl

use strict;
use warnings;

*ARGV = *DATA;  # for demo only

my $line;
while (<>) {
  s/\s+$//;

  if (s/^\s+//) {
    $line .= "," . $_;
    next;
  }
  else {
    print $line, "\n\n" if defined $line;
    $line = $_;
  }
}

print $line, "\n" if defined $line;

__DATA__
q2VDWKkY010407  2221878 Sat Mar 31 19:37 <Mailer-daemon>
                     (host map: lookup (my.local.domain): deferred)
                                             <yagyavalkbhatt@yahoo.com>
                                             <ygyalkatt@yahoo.com>
q2VDWKkY010407  2221878 Sat Mar 31 19:37 <Mailer-daemon>
                     (host map: lookup (my.local.domain): deferred)
                                             <yagyavalkbhatt@yahoo.com>
                                             <yagyav@yahoo.com> 
```

输出：

```
q2VDWKkY010407 2221878 Sat Mar 31 19:37 <Mailer-daemon>,(host map:lookup (my.local.domain): deferred),<yagyavalkbhatt@yahoo.com>,<ygyalkatt@yahoo.com>

q2VDWKkY010407 2221878 Sat Mar 31 19:37 <Mailer-daemon>,(host map:lookup (my.local.domain): deferred),<yagyavalkbhatt@yahoo.com>,<yagyav@yahoo.com>
```

上面的代码包含它自己的输入。要在真实数据上使用它，请使用`# for demo only`注释和整个`__DATA__`部分远程处理该行。然后你可以运行它

```
$ 加入行邮件日志
```

甚至

```
$ join-lines mail-log1 mail-log2 mail-log3
```

要将标准输出重定向到文件`oneline.log`，请将其运行为

```
$ join-lines mail-log >oneline.log
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T13:47:41.170

如果假设以空格开头的行是续行是安全的，则可以通过在全局字符串变量中累积每个复合记录来非常简单地做到这一点。

该程序执行所需的操作。该`s/^\s+//`语句既删除了前导空格，又确定了该行是否为续行。

```
use strict;
use warnings;

my $line = '';

while (<DATA>) {
  s/\s+\z//;
  if (s/^\s+//) {
    $line .= ','.$_;
  }
  else {
    print $line, "\n" if $line;
    $line = $_;
  }
}
print $line, "\n";

__DATA__
q2VDWKkY010407  2221878 Sat Mar 31 19:37 <Mailer-daemon>
                     (host map: lookup (my.local.domain): deferred)
                                             <yagyavalkbhatt@yahoo.com>
                                             <ygyalkatt@yahoo.com>
q2VDWKkY010407  2221878 Sat Mar 31 19:37 <Mailer-daemon>
                     (host map: lookup (my.local.domain): deferred)
                                             <yagyavalkbhatt@yahoo.com>
                                             <yagyav@yahoo.com> 
```

**输出**

```
q2VDWKkY010407  2221878 Sat Mar 31 19:37 <Mailer-daemon>,(host map: lookup (my.local.domain): deferred),<yagyavalkbhatt@yahoo.com>,<ygyalkatt@yahoo.com>
q2VDWKkY010407  2221878 Sat Mar 31 19:37 <Mailer-daemon>,(host map: lookup (my.local.domain): deferred),<yagyavalkbhatt@yahoo.com>,<yagyav@yahoo.com> 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-06T18:01:58.487

我想出了这个：

```
#!usr/bin/perl
my $line;
my $i = 0;
open (FILE1, "<input.txt") or die "Can't find file";       
open (FILE2, ">output.txt") or die $!;

while($line = <FILE1>){

    if ($line =~ /<Mailer-daemon>/) 
    {
        #If it contains <Mailer-daemon> it retains its normal formatting./\

        print FILE2 substr($line, 0 , $line.length()-1); #chops off newline character
        $i++;
    }
    else
    {
        $line =~ s/\s//g; #this regex kills all whitespace...not sutiable for mailer daemon lines.
        print FILE2 $line;
        $i++;
    }

    if ($i == 4)
    {
        #Every 4th line you want two newline characters as per sample output
         print FILE2 "\n\n";
         $i = 0;
    }
    else
    {
        #comma seperator between non fourth-line parts
         print FILE2 ", "
    }
}

close FILE1;
close FILE2; 
```

这对于类似于您提供的输入和输出非常具体。如果格式稍有改变，我就不会运行它。

# magento - 向报价项目（购物车中的产品）添加自定义选项？

> ID：10910717
> 
> 赞同：10
> 
> 时间：2012-06-06T08:30:03.947
> 
> 标签：magento, option, product, quote

我正在运行 Magento 1.7。

我正在尝试在 sales_flat_quote_item_option 中添加一个报价项目选项，一个自定义选项。

我尝试过使用 addOption 和 addCustomOption 函数，但似乎没有向数据库发起查询。

这是我现在的代码（在自定义模块助手中）：

```
public function assignDocumentToQuoteItem(Mage_Sales_Model_Quote_Item $quoteItem, $documentid)
{
    if (is_numeric($documentid) && $documentid > 0) {
        /** @var Mage_Catalog_Model_Product */
        $product = $quoteItem->getProduct();

        $quoteItem->addOption(array(
            'product_id' => $product->getId(),
            'product'    => $product,
            'code'       => 'documentid',
            'value'      => $documentid
        ));
        $quoteItem->save();
        return true;
    }

    throw new Exception(__METHOD__.' - Document id has to be a numeric value.');
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T02:50:11.470

是的，这是可能的，您需要使用观察者

我一直在订单中添加每个产品的交货日期

因此，您可以将其更改为要添加到每个产品左右的选项。

```
 <controller_action_predispatch_checkout>
            <observers>
                <options_observer>
                    <class>YOUR_CLASS_NAME</class>
                    <method>setProductInfo</method>
                </options_observer>
            </observers>
        </controller_action_predispatch_checkout> 
```

* * *

```
public function setProductInfo($observer)
{
    if ('checkout_cart_add' != $observer->getEvent()->getControllerAction()->getFullActionName()) {
        return;
    }
    $request = Mage::app()->getRequest();
    $prId = $request->getParams();
    $product = Mage::getModel('catalog/product')->load($prId['product']);
    // fixed spelling of cofigurable/configurable
    if ($product->getTypeId() == 'configurable') {
        return $this;
    }

    if (!$product->getHasOptions()) {
        $optionID = $this->saveProductOption($product);
    } else {
        $options = $product->getOptions();
        if ($options) {
            foreach ($options as $option) {
                if ($option->getTitle() == 'Delivery Date') {
                    $optionID = $option->getOptionId();
                }
            }
        }
        if (empty($optionID)) {
            $optionID = $this->saveProductOption($product);
        }
    }

    $deliveryDate = $prId['delivery_date'];
    if (!empty($deliveryDate)) {
        $opt['options'] = array($optionID => $deliveryDate);
        $request->setParams($opt);
    }

    return $this;
}

function saveProductOption($product)
{

    $store = Mage::app()->getStore()->getId();
    $opt = Mage::getModel('catalog/product_option');
    $opt->setProduct($product);
    $option = array(
        'is_delete' => 0,
        'is_require' => false,
        'previous_group' => 'text',
        'title' => 'Delivery Date',
        'type' => 'field',
        'price_type' => 'fixed',
        'price' => '0.0000'
    );
    $opt->addOption($option);
    $opt->saveOptions();
    Mage::app()->setCurrentStore(Mage::getModel('core/store')->load(Mage_Core_Model_App::ADMIN_STORE_ID));
    $product->setHasOptions(1);
    $product->save();

    $options = $product->getOptions();
    if ($options) {
        foreach ($options as $option) {
            if ($option->getTitle() == 'Delivery Date') {
                $optionID = $option->getOptionId();
            }
        }
    }
    Mage::app()->setCurrentStore(Mage::getModel('core/store')->load($store));
    return $optionID;
} 
```

# events - BlackBerry Manager 上的事件处理

> ID：10910718
> 
> 赞同：1
> 
> 时间：2012-06-06T08:30:13.743
> 
> 标签：events, blackberry, user-interface, java-me

我在[Screen上添加了一个](http://www.blackberry.com/developers/docs/6.0.0api/net/rim/device/api/ui/Screen.html)[VerticalFieldManager](http://www.blackberry.com/developers/docs/6.0.0api/net/rim/device/api/ui/container/VerticalFieldManager.html)。我想以这样一种方式处理该管理器上的事件，即它应该设置相对于该管理器首选高度的特定变量值。以下是我的代码片段，请检查。

```
VerticalFieldManager leftVfm = new VerticalFieldManager(Manager.VERTICAL_SCROLL){

    protected void sublayout(int width, int height) {
        super.sublayout(screenWidth - 150, INFO_HEADER_HEIGHT);
        setExtent(screenWidth - 150, INFO_HEADER_HEIGHT);
    }

    protected boolean touchEvent(TouchEvent message) {
        int eventCode = message.getEvent();
        if (eventCode == TouchEvent.DOWN) {
            // leftheight should be leftVfm.getPreferredHeight();
            INFO_HEADER_HEIGHT = leftheight;
        }
        return true;
    }
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T16:48:53.290

您的代码中的注释说：

`// leftheight should be leftVfm.getPreferredHeight();`

因为你想改变高度，使用像 INFO_HEADER_HEIGHT 这样的变量名有点误导，因为全大写的名称表示一个常量，即`static final`这意味着值不会改变。

一旦你改变了你的高度变量，你只需要强制经理重新布局。最直接的方法是调用 Screen.invalidateLayout()

# javascript - 有效地从 DOM 中删除文本节点

> ID：10910719
> 
> 赞同：7
> 
> 时间：2012-06-06T08:30:16.717
> 
> 标签：javascript, dom

在不涉及太多细节的情况下，我正在使用 javascript 清理表格内的空白。我需要删除大量的文本节点。当涉及到 IE9 时，这似乎是我的脚本中的瓶颈。

以下所有方法都可以完成这项工作，但它们会导致极大的减速。

```
domNode.removeNode(true);
domNode.nodeValue = "";
domNode.parentNode.removeChild(domNode); 
```

有没有办法进行批量删除或将它们隐藏在 dom 等中。只是更快的东西。

我也在文本节点上试过这个：

```
domNode.innerHTML = ''; 
```

虽然它执行得很快，但 textnodes 似乎没有被它分阶段。

此外，我需要保留事件绑定，因此整个表上的 .innerHTML 替换似乎并不是一个选项。尽管它的运行速度确实快了大约 5 倍。

**更新：** 建议解决方案的粗略基准：

```
//around 480ms
stripWhitespaceTextNodes(domNode);

//around 640ms
parent.removeChild(domNode);
stripWhitespaceTextNodes(domNode);
parent.insertBefore(domNode, nextNode);

//around 700ms
tables[i].style.visibility = 'hidden';
stripWhitespaceTextNodes(domNode);
tables[i].style.visibility = 'visible';

//around 1140ms
tables[i].style.display = 'none';
stripWhitespaceTextNodes(domNode);
tables[i].style.display = 'block'; 
```

这是在 4 张桌子上完成的，其中一张桌子有 1500 行。

stripWhitespaceTextNodes() 函数的关键是删除文本节点，这似乎是瓶颈，这是我的各种尝试。

```
domNode.parentNode.removeChild(domNode);
domNode.removeNode(true);
domNode.nodeValue = ""; // <-- CURRENTLY THIS ONE IS THE TOP RUNNER
domNode.replaceWholeText('');
domNode.deleteData(0, domNode.length);

var txtNode = document.createTextNode("");
domNode.parentNode.replaceChild(txtNode, domNode);
parent.insertBefore(domNode, nextNode);

//fast but doesn't work
domNode.innerHTML = ''; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T08:34:44.270

通常的技巧是在进行重大更改之前从 DOM 中删除执行这些操作的容器，然后在完成后将其放回原处。

所以在你的情况下，这可能是：

```
var table = /* ...get a reference to the table...*/;
var nextNode = table.nextSibling; // May be null, that's fine
var parent = table.parentNode;
parent.removeChild(table);
/* ...clean up the text nodes... */
parent.insertBefore(table, nextNode); 
```

即使树与页面的 DOM 分离，事件处理程序仍保持连接状态，因此当树被放回时它们将在那里。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:34:43.200

一种方法是克隆整个表并“异地”进行操作。这意味着对克隆不在 DOM 上的克隆进行操作。然后，用修改后的克隆对整个表进行一次替换。这样，运营就不会陷入困境。

[这是一个答案](https://stackoverflow.com/a/9319353/575527)，它引用了几种“克隆” DOM 并为 DOM 之外的操作创建“容器元素”的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:34:54.980

您可以尝试从文档中分离您的表格（表格 DOM 元素），在它上面走过并像您一样删除空白文本节点，然后将表格重新插入到原始位置。从理论上讲，您应该提高速度 - 渲染树不需要在每次通过时更新，这对于文档中的表格来说代价高昂。

# c# - 开机自动登录

> ID：10910725
> 
> 赞同：2
> 
> 时间：2012-06-06T08:31:22.860
> 
> 标签：c#, c++, c, visual-studio-2010, visual-c++

我想知道我该怎么做

```
1\. power on a remote computer 
2\. automatically log in (that client does have username and password to log in) with a given pair of username and password 
```

我完成了第一个，想知道第二个是否可能？任何帮助表示赞赏。十分感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:35:50.973

您可以使用注册表自动登录计算机。您需要的关键是：

`HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon`

更改`AutoAdminLogon`为`1`。

设置`DefaultUserName`和`DefaultPassword`到帐户的用户名和密码。

如果这些值不存在，只需创建它们。通常`AutoAdminLogon`并且`DefaultUserName`已经存在，但您可能必须创建`DefaultPassword`.

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:36:09.703

我认为您无法打开已关闭的系统。您可能需要它处于待机状态或类似状态。如果它被关闭，您将需要一个硬件部分来打开它。如果要远程登录系统，则取决于该系统的操作系统。它是什么 ？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:50:10.663

如果用户登录时需要 alt-ctrl-del，我认为它不能自动化。它需要人的存在。

# android - 横向和纵向模式问题

> ID：10910726
> 
> 赞同：4
> 
> 时间：2012-06-06T08:31:23.190
> 
> 标签：android, orientation-changes

我正在运行一个应用程序，在该应用程序中单击图像时正在运行音频，而正在播放音频并且我将模式从横向更改为纵向或从纵向更改为横向并单击图像，它会播放另一个音频剪辑。

*例子：*

现在正在播放 2 个音频。但在相同模式下单击图像不会出现此问题。

当模式改变时，有什么方法可以停止以前的活动？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T10:57:02.840

要播放音频文件，只需使用**Service**不要在 Activity 内播放，这样您就可以停止 Service 以便停止歌曲。然后你应该专注于你将如何处理你的方向

1.  再创活动
2.  处理方向改变自己。

我最好的建议是你应该自己处理。为此你应该使用两件事：

1.  添加
    `<activity android:name=".CurrentActivity android:configChanges="keyboardHidden|orientation"> </activity>`

2.呼叫

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
super.onConfigurationChanged(newConfig);
  if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {
          Toast.makeText(this, "landscape", Toast.LENGTH_SHORT).show();
   } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){
        Toast.makeText(this, "portrait", Toast.LENGTH_SHORT).show();
     }
} 
```

如果方向改变，您应该根据需要处理服务。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-07T07:38:57.457

我已经尝试过@venky 的回答，但我的布局被打乱了:( ![在此处输入图像描述](../Images/bb0074e7ef8ac87a34d8849f0905b53d.png)

![在此处输入图像描述](../Images/6b5059a3047b2ff4b2bff46e37c95b23.png)

对于肖像，当方向改变时，按钮也不起作用:(

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@drawable/bg_prt"
android:orientation="vertical" >

<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="48dp"
    android:orientation="vertical" >

</LinearLayout>

<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="28dp"
    android:orientation="horizontal" >

    <ImageView
        android:id="@+id/pause1"
        android:layout_width="30dp"
        android:layout_height="wrap_content"
        android:layout_marginLeft="10dp"
        android:src="@drawable/pause" />

    <ImageView
        android:id="@+id/play1"
        android:layout_width="30dp"
        android:layout_height="wrap_content"
        android:layout_marginLeft="40dp"
        android:src="@drawable/play" />

    <ImageView
        android:id="@+id/home1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginLeft="165dp"
        android:src="@drawable/home" />

</LinearLayout>

<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="315dp"
    android:orientation="vertical" >

    <ImageView
        android:id="@+id/kalma1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_alignParentRight="true"
        android:layout_marginLeft="40dp"
        android:layout_marginTop="20dp"
        android:src="@drawable/kalma1" />

</LinearLayout>

<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="40dp"
    android:orientation="horizontal" >

    <ImageView
        android:id="@+id/next1"
        android:layout_width="30dp"
        android:layout_height="wrap_content"
        android:layout_marginLeft="10dp"
        android:src="@drawable/forward" />

</LinearLayout> 
```

是我的肖像和xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@drawable/bg_lndscp"
android:orientation="vertical" >

<ImageView
    android:id="@+id/kalma1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_centerVertical="true"
    android:layout_marginRight="33dp"
    android:src="@drawable/kalma1" />

<ImageView
    android:id="@+id/next1"
    android:layout_width="30dp"
    android:layout_height="20dp"
    android:layout_alignParentBottom="true"
    android:layout_alignParentLeft="true"
    android:layout_marginBottom="3dp"
    android:layout_marginLeft="10dp"
    android:src="@drawable/forward" />

<ImageView
    android:id="@+id/play1"
    android:layout_width="30dp"
    android:layout_height="20dp"
    android:layout_marginLeft="65dp"
    android:layout_marginTop="41dp"
    android:src="@drawable/play" />

<ImageView
    android:id="@+id/pause1"
    android:layout_width="30dp"
    android:layout_height="20dp"
    android:layout_marginLeft="10dp"
    android:layout_marginTop="41dp"
    android:src="@drawable/pause" />

<ImageView
    android:id="@+id/home1"
    android:layout_width="30dp"
    android:layout_height="20dp"
    android:layout_alignBottom="@+id/play1"
    android:layout_alignRight="@+id/kalma1"
    android:src="@drawable/home" />

</RelativeLayout> 
```

景观

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:39:23.287

**在AndroidManifest**中添加此代码与您面临问题的当前活动，但这将在您更改方向时停止您的应用程序可绘制对象更改，它将使用当前方向作为两种模式的静态，但仍然尝试让我知道。

```
<activity android:name=".CurrentActivity
 android:configChanges="keyboardHidden|orientation">
        </activity> 
```

# javascript - 如何在日期选择器上获取日期？

> ID：10910727
> 
> 赞同：0
> 
> 时间：2012-06-06T08:31:44.330
> 
> 标签：javascript, grails, groovy, datepicker

我对 javascript 和 jquery 真的很陌生。我想通过 datepicker 获取用户选择的日期的值，并在我的 javascript 中使用该值。我的日期选择器的名称是birthDate。这是我的日期选择器的 html 代码：

```
 <guis:datePicker required="true" label="Birthdate"
           bean="${accountInfo}" field="birthDate"
           value="${accountInfo?.birthDate?:"none"}"
           noSelection="${['null':'']}"/> 
```

我的 javascript 是：

```
 <script type="text/javascript">                      
                function isOfLegalAge() {    
                  var currDate = new Date();
                  var birthDate = $("#datepicker").val();  
                  var diff = currDate - birthDate
                  alert (currDate);
                  alert(birthDate);                      
                      if(diff >= 18){
                          return true;                              
                      }else {                         
                          alert("You must be atleast 18 years old to register!");
                          document.location.href = '/user';
                          return false;                          
                      }
                      return true;
                }
           </script> 
```

日期选择器返回的值采用以下格式：

1990 年 6 月 13 日星期三 00:00:00 PHT

..而新的日期是：

2012 年 6 月 6 日星期三 17:08:52 GMT+0800 (PHT)

请帮忙！

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:37:54.337

正如你所说，你得到了格式的日期`dd/mm/yyyy`试试这个，

```
var myDate = "06/06/2012";
var currentDate = new Date();
var compareDate = currentDate.getDate() + "/" + currentDate.getMonth() + "/" + currentDate.getFullYear();
if (myDate == compareDate)
    alert("Both dates are equal!");
else
    alert("Dates mismatch!"); 
```

如果你也在使用 jQuery，你可以这样做：

```
var date = '06/06/2012';
var arrDate = date.split("/");
var today = new Date();
useDate = new Date(arrDate[2], arrDate[1] -1, arrDate[0]);

if (useDate == today)
    alert("Both dates are equal!");
else
    alert("Dates mismatch!"); 
```

希望这对你有帮助！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T08:35:32.110

如果你在`#datepicker`id 元素中有它，你可以使用 val 来获取值并将其转换为 Date ，如下所示：

```
new Date( $('#datepicker').val() ) 
```

这会给你回来`Wed Jun 20 2012 00:00:00 GMT+0100 (BST)`:)

干杯!

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-04T12:29:56.320

尝试这个

```
<form:input cssStyle="background-image:url('../images/DateCal.png'); 
                               background-repeat:no-repeat; background-position: right;" 
                               path="requirementDate" id="datepicker1" 
                               />

  $(document).ready(function() {
      var dates= $( "#datepicker1" ).datepicker({
            changeMonth: true,
            changeYear: true,
            yearRange: '2012:2022'

        });

  }); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-04T16:13:57.027

尝试这个：

```
var date = $('#datepicker').datepicker({ dateFormat: 'dd-mm-yy' }).val(); 
```

# hibernate - 我可以使 ORM 一对多关系成为一个明确的类吗？

> ID：10910729
> 
> 赞同：1
> 
> 时间：2012-06-06T08:31:50.020
> 
> 标签：hibernate, orm

我有一个用户和一个特权类。用户可以拥有许多特权。到现在为止还挺好。

我与用户类有一些类似的关系。但我不想用所有这些东西把用户弄得乱七八糟。

所以我认为明确用户和特权之间的关系是个好主意。我想获得一个与用户一对一关系和与特权一对多关系的类 UserPrivilges。

如果可能的话，很高兴得到一些反馈。

谢谢每

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:58:17.607

如果我理解正确，您只想将几个 OneToMany 关联分组到一个单独的类中，并在 User.xml 中有一个此类的实例。但在语义上，这些关联是用户与其他实体之间的关联。

如果是这样，您应该保持数据库架构不变，并简单地使用 User 内的嵌入式对象对您的关联进行分组：

```
@Embeddable
public class UserPrivileges
    @OneToMany
    private Set<Privilege> somePrivileges;

    @OneToMany
    private Set<Privilege> someOtherPrivileges;

    @OneToMany
    private Set<Privilege> yetOtherPrivileges;
}

@Entity
public class User {

    @Embedded
    private UserPrivileges privileges;
} 
```

有关更多详细信息，请参阅[文档](http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html_single/#mapping-declaration-component)。

# android-camera - 如何结合使用android相机方法和原生相机功能

> ID：10910731
> 
> 赞同：1
> 
> 时间：2012-06-06T08:31:55.813
> 
> 标签：android-camera

我正在实现面部识别和眨眼以验证用户身份。但我想知道您是否可以使用 android 功能捕获图像并将其传递给共享对象，在此过程中，眨眼功能应捕获眼睛并监控实时闪烁的帧。我的问题是我可以捕获图像并使用opencv-2.3.1捕获功能同时捕获帧以进行模板匹配。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:29:16.203

您可以将处理（使用 openCV）卸载到工作线程，然后相机预览回调将正常继续。如果您使用更快的[`setPreviewCallbackWithBuffer()`](https://stackoverflow.com/questions/7790566/how-to-get-raw-preview-data-from-camera-object-at-least-15-frames-per-second-in)方法，那么您应该注意尽快释放缓冲区以供相机重复使用 - 可能在图像识别完成之前。

# ios - 无法从詹金斯运行脚本

> ID：10910733
> 
> 赞同：3
> 
> 时间：2012-06-06T08:32:07.083
> 
> 标签：ios, jenkins, sikuli

我们在 MAC OSX 10.7.3 上使用 sikuli 工具进行移动自动化我已经编写了一个 shell 脚本来打开模拟器并在模拟器上运行脚本：

```
SikuliScript.sh 
/Users/ezprintsqa/Downloads/FoneMonkey/bin/iphonesim launch /Users/ezprintsqa/Documents/Xcode/DerivedData/SnapCards-btmjdowsgmixpvdyfxfvhxtoihab/Build/Products/Debug-iphonesimulator/SnapCardsFoneMonkey.app&

/Users/ezprintsqa/Downloads/Sikuli-IDE.app/sikuli-ide.sh -r /Users/ezprintsqa/Downloads/SikuliWorkSpace/SnapcardsTestSuite1.sikuli 
```

当我从命令行执行时，我可以看到模拟器打开并且脚本在模拟器上执行。但是当我从 Jenkins 运行时，我收到以下错误：

```
[JavaAppLauncher Error] CFBundleCopyResourceURL() failed loading MRJApp.properties file
[DEBUG] Could not start simulator session: Error Domain=DTiPhoneSimulatorErrorDomain     Code=5 "Operation failed with underlying error 4294956486." UserInfo=0x100305c70    {NSLocalizedDescription=Operation failed with underlying error 4294956486.,    NSUnderlyingError=0x100300610 "The operation couldn‚Äôt be completed. (OSStatus error     -10810.)"}
[LaunchRunner Error] No main class specified
[JavaAppLauncher Error] CallStaticVoidMethod() threw an exception
Exception in thread "main" java.lang.NullPointerException
at apple.launcher.LaunchRunner.run(LaunchRunner.java:113)
at apple.launcher.LaunchRunner.callMain(LaunchRunner.java:51)
at apple.launcher.JavaApplicationLauncher.main(JavaApplicationLauncher.java:61) 
```

任何建议都会非常有帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-06T22:41:56.810

它绝对看起来像一个权限问题。Mac 的官方 Jenkins 安装程序将 Jenkins 设置为作为用户“daemon”或用户“jenkins”运行。您需要使 Jenkins 所需的工具对该用户可读和可执行。此外，它们需要位于该用户可读和可执行的目录中。

但是，即使您修复了权限，您的测试运行也可能会遇到更多问题。Mac 的官方 Jenkins 安装程序将 Jenkins 设置为作为启动守护程序运行。它们在系统上下文中运行，它们无法访问任何桌面或 GUI 会话，这意味着无法在屏幕上绘制窗口 => 任何显示窗口的工具，如 iPhone Simulator 或 Sikuli 都会失败。

你可以试试我的非官方 Jenkins.app，它应该可以解决你的问题。它可在[https://github.com/stisti/jenkins-app](https://github.com/stisti/jenkins-app)获得（在“下载”选项卡下下载。）

# android - Android：在屏幕上渲染 YUV 图像/缓冲区

> ID：10910734
> 
> 赞同：3
> 
> 时间：2012-06-06T08:32:11.377
> 
> 标签：android, android-imageview, yuv, android-image

我们的应用程序与显示从另一端接收的实时视频数据有关，我们需要以 40 毫秒的间隔显示实时提要，

数据将以 YUV 格式接收，似乎 android 没有任何内置支持来显示 YUV 数据，

下面是管理数据并将数据显示到屏幕的代码，

```
 // convert the data to RGB 
                            feedProcess.decode(yuvBuffer,
                                    yuvBuffer.length, imgInfo, imgRaw, ref,
                                    webMIndex);

                            currentTime=new Date().getTime();
                            System.out
                            .println("took "+(currentTime-lastTime) +" ms to decode the buffer " );
                            imgQ.add(imgRaw);

In Another thread i will receiving data and converting it into the Bitmap 

            public void run() {
                // TODO Auto-generated method stub
                while(myThreadRun){
                    if(!imgQ.isEmpty()){
                        try{
                        byte[] arry=imgQ.poll();
                        Bitmap b=createImgae(arry, imgInfo[0], imgInfo[1], 1,width,height);
                        myThreadSurfaceView.setBitmap(b);

                        try {
// draw the image 
                            c = myThreadSurfaceHolder.lockCanvas(null);
                            synchronized (myThreadSurfaceHolder) {
                                                                myThreadSurfaceView.onDraw(c);

                            }
                        } finally {
                            if (c != null) {
                                myThreadSurfaceHolder
                                        .unlockCanvasAndPost(c);
                            }
                        }
                        }catch(NoSuchElementException ex){
                        }
                    }
                }
            } 
```

这个整个逻辑需要大约 100 毫秒来用新图像刷新屏幕，还有其他我可以尝试的方法吗？

解码函数 uncompress 需要 10-15 ms + 将 YUV 转换为 RGB (20-30)ms，这是在 JNI 代码中完成的，

我的理解是，如果可以直接显示 YUV 数据，那么我们可以从这里节省一些时间，

请说说你的看法

# php - PHP 暂时

> ID：10910738
> 
> 赞同：-4
> 
> 时间：2012-06-06T08:32:32.247
> 
> 标签：php, loops, for-loop, while-loop

大家好，我遇到了php问题

我想将 for 语句更改为 while

这是代码：

```
<?php
$i=1;
$uitkomst = 0;
$getal = 5;
echo "Het getal is $getal<br><br>";
echo "Het totaal van $i tot en met $getal is <br>";
echo "0";
for ($i = 1;$i <= $getal;$i++){
$uitkomst = $uitkomst + $i ;
echo "+ $i";
}
echo "= $uitkomst"
?> 
```

我需要改变什么？

***编辑：我通过查看您的示例来修复它。***

***我需要它来完成一项任务。***

***谢谢和***

***问候，***

***达伦布朗***

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:34:34.073

改变这个

```
for ($i = 1;$i <= $getal;$i++){
  $uitkomst = $uitkomst + $i ;
  echo "+ $i";
} 
```

对此：

```
$i=1;
while($i <= $getal) {
  $uitkomst = $uitkomst + $i ;
  echo "+ $i";
  $i++;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:34:10.753

```
for ($i = 1;$i <= $getal;$i++){ 
```

等于

```
$i = 1;
while  ($i <= $getal) {
    ...
    $i++;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:34:31.190

这是while循环的代码。

```
$i = 1;
while($i++ <= $getal){
    $uitkomst = $uitkomst + $i ;
    echo "+ $i";
} 
```

但是为什么你需要它作为一个while循环呢？

# java - 将 HTML 嵌入到电子邮件中

> ID：10910743
> 
> 赞同：0
> 
> 时间：2012-06-06T08:32:55.483
> 
> 标签：java, email, blackberry, html-email

> **可能重复：**
> [多部分电子邮件](https://stackoverflow.com/questions/1721220/multipart-email-message)

我想在电子邮件正文中嵌入 HTML 内容。我试图搜索但没有得到任何解决方案。

这个怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T09:45:34.140

电子邮件中“Content-Type”的默认值设置为“text/plain”

您必须将此值设置为“text/html”，以便将电子邮件的内容视为 HTML。

无论您使用什么语言/平台发送电子邮件，这都适用。

在 Java Mail API 中，它看起来像这样：

```
String content= "<html><body><b>Hello!</b></body></html>"    // html content

Properties props = new Properties();
// put properties

Session mailSession = Session.getDefaultInstance(props);
Transport transport = mailSession.getTransport();

MimeMessage message = new MimeMessage(mailSession);
message.setContent(content, "text/html");    // sets the content type to HTML 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:35:27.843

我猜你到目前为止没有搜索过。

用 JavaMail API 试试吧，这里有一个简单有效的教程：[http ://www.tutorialspoint.com/java/java_sending_email.htm](http://www.tutorialspoint.com/java/java_sending_email.htm)

# php - Yii 框架 ChildrenRequiredValidator 扩展

> ID：10910747
> 
> 赞同：0
> 
> 时间：2012-06-06T08:33:18.617
> 
> 标签：php, yii

我在`ChildrenRequiredValidator`我的项目中使用了 yii 扩展，效果很好。

扩展网址：[http ://www.yiiframework.com/extension/childrenrequiredvalidator/](http://www.yiiframework.com/extension/childrenrequiredvalidator/)

我只有一个问题，例如：

我有两个字段`min_age`和`max_age`（`min_age`并且`max_age`不是必填字段）。现在，当用户填写`min_age`then`max_age`成为强制性的（通过使用此扩展程序完成）并且它的工作正常。但是`max_filed`默认情况下向我显示 yii 必需的标记（max_age *）。有什么办法可以去掉这个要求标记。有没有人使用过这个并面临同样的问题。

谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:53:34.370

而不是使用`echo $form->labelEx($model,'max_age');`使用`echo $form->label($model,'max_age');`

上面的答案是基于您使用来自 gii 的默认 crud 生成代码的假设。

# c# - base64'ing一个sha1

> ID：10910751
> 
> 赞同：0
> 
> 时间：2012-06-06T08:33:27.403
> 
> 标签：c#, base64

为什么 C# 的 tobase64string 将“a46fb104c5ea2fd65df3909f4c6ba4191c2eb4e5”转换为 56 个字符的字符串，而以下站点：[http](http://tomeko.net/online_tools/hex_to_base64.php?lang=en) ://tomeko.net/online_tools/hex_to_base64.php?lang=en生成了我想要实现的 base64 编码字符串？这让我快疯了！哈哈。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:41:48.813

您必须先将其转换为字节数组。

# android - TabWidget 背景颜色变化

> ID：10910755
> 
> 赞同：1
> 
> 时间：2012-06-06T08:33:42.670
> 
> 标签：android, xml, colors, android-tabhost, tabwidget

我想更改 TabWidget 的背景颜色。我有一张我不想更改的选项卡图片，我只想更改该图片的背景颜色而不用另一个图片替换它，这是我的代码。

```
<?xml version ="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <!-- When selected color blue -->
    <item android:drawable="@drawable/profile"
        android:state_selected="true"/>
    <!-- When NOT selected color black -->
    <item android:state_selected="false" android:drawable="@drawable/profile">

    </item>
</selector> 
```

例如在下面的行（当被选中时）中放置类似..

```
<item android:state_selected="false" android:drawable="@drawable/profile" android:backgroundColor="#5397CB"> 
```

并在未选中状态为黑色..

```
<item android:state_selected="false" android:drawable="@drawable/profile" android:backgroundColor="#fffff"> 
```

# c# - 出现错误“您必须在 System.Array 上实现默认访问器”

> ID：10910759
> 
> 赞同：0
> 
> 时间：2012-06-06T08:33:55.257
> 
> 标签：c#, exception-handling, ado.net, anonymous-types

我有以下代码和网络方法：

```
public class RaumklassenHelper
{
   internal static Array Raumklasse()
   {
       List<object> raumKlassenObject = new List<object>();

       using (SqlConnection con = new SqlConnection(@"Data Source=Localhost\SQLEXPRESS;Initial Catalog=BOOK-IT-V2;Integrated Security=true;"))
       using (SqlCommand cmd = new SqlCommand(@"SELECT BEZEICHNUNG, BEZEICHNUNG_EN FROM RAUMKLASSE", con))
       {
           con.Open();
           using (SqlDataReader rdr = cmd.ExecuteReader())
           {
               while (rdr.Read())
               {
                   if (rdr["BEZEICHNUNG"] != DBNull.Value && rdr["BEZEICHNUNG_EN"] != DBNull.Value)
                   {
                       raumKlassenObject.Add(new
                           {
                               Name = rdr["BEZEICHNUNG"].ToString(),
                               Name_En = rdr["BEZEICHNUNG_EN"].ToString()
                           });
                   }
               }
           }
       }
       return raumKlassenObject.ToArray();
   }
}

 [ScriptMethod(ResponseFormat = ResponseFormat.Json)]
   [WebMethod]
   public Array Raumklasse()
   {
       return RaumklassenHelper.Raumklasse();
   } 
```

如果我尝试调用该方法，则会收到错误消息：

这是第一次出现错误。

```
System.InvalidOperationException: There was an error generating the XML document. ---> System.InvalidOperationException: &lt;&gt;f__AnonymousType0`2[System.String,System.String] cannot be serialized because it does not have a parameterless constructor.
   at System.Xml.Serialization.TypeDesc.CheckSupported()
   at System.Xml.Serialization.TypeScope.GetTypeDesc(Type type, MemberInfo source, Boolean directReference, Boolean throwOnError)
   at System.Xml.Serialization.XmlSerializationWriter.CreateUnknownTypeException(Type type)
   at System.Xml.Serialization.XmlSerializationWriter.WriteTypedPrimitive(String name, String ns, Object o, Boolean xsiType)
   at Microsoft.Xml.Serialization.GeneratedAssembly.XmlSerializationWriter1.Write1_Object(String n, String ns, Object o, Boolean isNullable, Boolean needType)
   at Microsoft.Xml.Serialization.GeneratedAssembly.XmlSerializationWriter1.Write6_ArrayOfAnyType(Object o)
   at Microsoft.Xml.Serialization.GeneratedAssembly.ArrayOfObjectSerializer.Serialize(Object objectToSerialize, XmlSerializationWriter writer)
   at System.Xml.Serialization.XmlSerializer.Serialize(XmlWriter xmlWriter, Object o, XmlSerializerNamespaces namespaces, String encodingStyle, String id)
   --- End of inner exception stack trace ---
   at System.Xml.Serialization.XmlSerializer.Serialize(XmlWriter xmlWriter, Object o, XmlSerializerNamespaces namespaces, String encodingStyle, String id)
   at System.Xml.Serialization.XmlSerializer.Serialize(TextWriter textWriter, Object o, XmlSerializerNamespaces namespaces)
   at System.Xml.Serialization.XmlSerializer.Serialize(TextWriter textWriter, Object o)
   at System.Web.Services.Protocols.XmlReturnWriter.Write(HttpResponse response, Stream outputStream, Object returnValue)
   at System.Web.Services.Protocols.HttpServerProtocol.WriteReturns(Object[] returnValues, Stream outputStream)
   at System.Web.Services.Protocols.WebServiceHandler.WriteReturns(Object[] returnValues)
   at System.Web.Services.Protocols.WebServiceHandler.Invoke() 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T08:49:39.360

尝试使用 object[] 作为返回类型而不是 Array

* * *

对于另一个问题：

```
 public class RaumklassenHelper
{

        public class RAUMKLASSE
        {
            public string Name { get; set; }
            public string Name_En { get; set; }
        }

        internal static List<RAUMKLASSE> Raumklasse()
   {
       List<RAUMKLASSE> raumKlassenObject = new List<RAUMKLASSE>();

       using (SqlConnection con = new SqlConnection(@"Data Source=Localhost\SQLEXPRESS;Initial Catalog=BOOK-IT-V2;Integrated Security=true;"))
       using (SqlCommand cmd = new SqlCommand(@"SELECT BEZEICHNUNG, BEZEICHNUNG_EN FROM RAUMKLASSE", con))
       {
           con.Open();
           using (SqlDataReader rdr = cmd.ExecuteReader())
           {
               while (rdr.Read())
               {
                   if (rdr["BEZEICHNUNG"] != DBNull.Value && rdr["BEZEICHNUNG_EN"] != DBNull.Value)
                   {
                       raumKlassenObject.Add(new RAUMKLASSE()
                           {
                               Name = rdr["BEZEICHNUNG"].ToString(),
                               Name_En = rdr["BEZEICHNUNG_EN"].ToString()
                           });
                   }
               }
           }
       }
       return raumKlassenObject;
   }
}

 [ScriptMethod(ResponseFormat = ResponseFormat.Json)]
   [WebMethod]
   public List<RAUMKLASSE> Raumklasse()
   {
       return RaumklassenHelper.Raumklasse();
   } 
```

# mysql - 在连接表中选择最大值

> ID：10910761
> 
> 赞同：1
> 
> 时间：2012-06-06T08:34:04.187
> 
> 标签：mysql, sql

我有 2 张桌子：

桌子`workflow`

```
Request_Id, Step ID
123, 4
123, 7
198, 5 
```

桌子`Steps`

```
Step_Id, Step_num
4, 30
7, 12
5, 172 
```

我正在尝试返回表 Workflow 中的所有记录，其中 Steps.step_num 是该记录的最大值。我的结果应该是这样的：

```
Request_Id, Step_Id, Step_Num
123, 4, 30
198, 5, 172 
```

我试过这个，但我没有得到正确的 Step_ID：

```
select request_id, step_id,max(step_num) from
(
select ww.request_id as request_id, ww.step_id as step_id, st.step_num as step_num
from workflow ww
left join steps st on ww.step_id=st.step_id) as s
group by request_id 
```

请帮忙，我卡住了:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:46:40.583

```
SELECT  *
FROM    (
        SELECT  DISTINCT request_id
        FROM    workflow
        ) wd
JOIN    steps s
ON      s.step_id =
        (
        SELECT  si.step_id
        FROM    workflow wi
        JOIN    steps si
        ON      si.step_id = wi.step_id
        WHERE   wi.request_id = wd.request_id
        ORDER BY
                stem_num DESC
        LIMIT 1
        ) 
```

# css - 链接在 IE 中无法正常工作

> ID：10910766
> 
> 赞同：0
> 
> 时间：2012-06-06T08:34:14.060
> 
> 标签：css, cross-browser

我为画廊构建了一个模块，在页面底部有 2 个示例：

[http://www.we-do.com/referenzen/watch-your-web/](http://www.we-do.com/referenzen/watch-your-web/)

如您所见，在现代浏览器中，单击框中的任何位置都会打开灯箱，但在 IE 7 和 8 中具有完全不同的行为。我怎样才能使它正常化？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T10:24:55.060

这是 IE7 和 IE8 的肮脏技巧，

**CSS**

```
/* IE Fixes */

html.ie7 .gallery-links, html.ie8 .gallery-links { 
    background: url("http://triggertek.com/r/transparent_png/pixel.png") repeat; 
} // i used 1px transparent png to solve it. 
```

# c# - 运行不带参数的过程时出错：PLS-00306：调用中的参数数量或类型错误

> ID：10910767
> 
> 赞同：0
> 
> 时间：2012-06-06T08:34:16.367
> 
> 标签：c#, oracle, stored-procedures

我在 oracle 过程中有这个更新语句

规格：

```
PROCEDURE Update_G; 
```

身体：

```
PROCEDURE Update_G
AS
BEGIN
  UPDATE group SET check_flag = 0 WHERE check_flag = 1;
  UPDATE employee SET check_flag = 0 WHERE check_flag = 1;
END Update_G; 
```

当我从.net调用它的抛出错误时，这个过程：

```
PLS-00306: wrong number or types of arguments in call to Update_G 
```

它从 oracle 运行，但从 .net 运行它的抛出错误。如果添加了输入参数，它可以工作，但我不需要任何参数。

点网代码：

```
Database db = GetOracleDbInstance(); 
object[] spParams = new object[0]; 
string spName = "Update_G"; 
db.ExecuteDataSet(spName, spParams); 
```

//这里没有参数，我也试过这个：

```
Database db = GetOracleDbInstance(); 
db.ExecuteNonQuery(CommandType.StoredProcedure, "Update_G"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T09:02:10.420

**//过程需要的参数，如果没有参数则传递Null**

```
Database db = GetOracleDbInstance(); 

string spName = "Update_G"; 
db.ExecuteDataSet(spName, Null); //or db.ExecuteDataSet(spName); try both 
```

[答案参考](http://www.dotnetspider.com/resources/29205-Access-any-Stored-Procedure-with-or-without.aspx)

# android - Android 应用程序通过套接字与 Android 本机二进制文件通信

> ID：10910768
> 
> 赞同：1
> 
> 时间：2012-06-06T08:34:21.743
> 
> 标签：android, c, sockets

我正在尝试让 Android 客户端应用程序通过套接字与 Android 本机二进制服务器通信。

我的应用程序有一个按钮，按下该按钮会将用户输入的文本发送到服务器。代码如下：

```
Button.OnClickListener buttonSendOnClickListener = new Button.OnClickListener(){
  public void onClick(View arg0) {
    Socket socket = null;
    DataOutputStream dataOutputStream = null;
    DataInputStream dataInputStream = null;

    try {
      socket = new Socket("10.0.2.2", 20002);
      dataOutputStream = new DataOutputStream(socket.getOutputStream());
      dataInputStream = new DataInputStream(socket.getInputStream());
      dataOutputStream.writeUTF(textOut.getText().toString());
    } catch (UnknownHostException e) {
      e.printStackTrace();
    } catch (IOException e) {
      e.printStackTrace();
    }
    finally{
      if (socket != null){
      try {
        socket.close();
      } catch (IOException e) {
        e.printStackTrace();
      }
    }

    if (dataOutputStream != null){
      try {
        dataOutputStream.close();
      } catch (IOException e) {
        e.printStackTrace();
      }
    }

    if (dataInputStream != null){
     try {
        dataInputStream.close();
      } catch (IOException e) {
        e.printStackTrace();
      }
    }
  }
}}; 
```

我的服务器是用 C 语言编写的，并交叉编译为 ARM 二进制文件。代码如下：

```
int main(int argc, char ** argv)
{
  int sockfd, newsockfd, portno;
  socklen_t clilen;
  char buffer[256];
  struct sockaddr_in serv_addr, cli_addr;
  int n;

  sockfd = socket(AF_INET, SOCK_STREAM, 0);
  if (sockfd < 0) 
    error("ERROR opening socket");

  // Initialize socket structure
  bzero((char *) &serv_addr, sizeof(serv_addr));
  portno = 20002;
  serv_addr.sin_family = AF_INET;
  serv_addr.sin_addr.s_addr = INADDR_ANY;
  serv_addr.sin_port = htons(portno);

  if (bind(sockfd, (struct sockaddr *) &serv_addr,
    sizeof(serv_addr)) < 0) 
    error("ERROR on binding");
  listen(sockfd,5);
  clilen = sizeof(cli_addr);
  newsockfd = accept(sockfd, 
     (struct sockaddr *) &cli_addr, 
     &clilen);
  if (newsockfd < 0) 
    error("ERROR on accept");
  bzero(buffer,256);
  n = read(newsockfd,buffer,255);
  if (n < 0) error("ERROR reading from socket");
  printf("Here is the message: %s\n",buffer);
  n = write(newsockfd,"I got your message",18);
  if (n < 0) error("ERROR writing to socket");
  close(newsockfd);
  close(sockfd);
  return 0;
} 
```

我使用 adb shell 运行服务器，它一直运行到 accept() 调用，等待它们建立连接。然后我运行客户端应用程序，然后点击发送按钮。但是，似乎没有发送任何内容。我在这里做错了吗？例如，本地主机的 IP 地址错误，或者使用 AF_INET 而不是 PF_UNIX 或其他什么？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T10:02:52.023

如果您的客户端与服务器位于同一设备上，请尝试更改

```
socket = new Socket("10.0.2.2", 20002); 
```

经过 ：

```
socket = new Socket("127.0.0.1", 20002); 
```

# dojo - 如何渲染 Dojo 动态图表演示？

> ID：10910776
> 
> 赞同：2
> 
> 时间：2012-06-06T08:34:43.833
> 
> 标签：dojo, dojox.charting

我正在尝试渲染[http://demos.dojotoolkit.org/demos/dynamicChart/demo.html](http://demos.dojotoolkit.org/demos/dynamicChart/demo.html)。现在我拥有来自[http://demos.dojotoolkit.org/](http://demos.dojotoolkit.org/)的所有资源，并且我已经修复了每个文件中链接的所有路径。它只是行不通。我将代码放在下面：demo.html--

```
<link rel="stylesheet" type="text/css" href="demo.css">
<script type="text/javascript" src="/Dojo/dojo-release-1.6.1/dojo/dojo.js" data-dojo-config="isDebug: true,parseOnLoad: true"></script>
<script type="text/javascript" src="src.js"></script>
---
---
---
<select data-dojo-type="dijit.form.ComboBox" id="plot" onChange="changePlot()">
                <option value="Columns">Columns</option>
                <option value="ClusteredColumns">ClusteredColumns</option>
                <option value="StackedColumns">StackedColumns</option>
                <option value="Bars">Bars</option>
                <option value="ClusteredBars">ClusteredBars</option>
                <option value="StackedBars">StackedBars</option>
                <option value="Areas">Areas</option>
                <option value="StackedAreas">StackedAreas</option>
                <option value="Pie">Pie</option>
            </select> 
```

demo.profile.js

```
dependencies = {
    layers: [
        {
            name: "../dynamicChart/src.js",
            resourceName: "demos.dynamicChart.src",
            dependencies: [
                "dynamicChart.src"
            ]
        }
    ],

    prefixes: [
        [ "dijit", "/Dojo/dojo-release-1.6.1/dijit" ],
        [ "dojox", "/Dojo/dojo-release-1.6.1/dojox" ],
        [ "dynamicChart", "../dynamicChart" ]
    ]
} 
```

演示.css

```
@import "/Dojo/dojo-release-1.6.1/dojo/resources/dojo.css";
@import "/Dojo/dojo-release-1.6.1/dijit/themes/dijit.css";
@import "/Dojo/dojo-release-1.6.1/dijit/themes/tundra/tundra.css";

.dojoxLegendNode {border: 1px solid #ccc; margin: 5px 10px 5px 10px; padding: 3px}
.dojoxLegendText {vertical-align: text-top; padding-right: 10px} 
```

我没有放 src.js。它不会改变任何东西。谁能告诉我我做错了什么？

先感谢您。

真挚地，

南希

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T10:08:17.877

我是用这种方式做到的。__download dojo-release-1.7.2-src 并在 Eclipse 中创建一个项目。然后将其部署到tomcat中。如果我使用 dojo-release-1.7.2，我不知道为什么它不起作用。在 src.js 中，我可以对自己的数据进行一些更改：

```
var getData = function(){
    var data = new Array(size);
    for(var i = 0; i < size; ++i){
        data[i] = Math.random() * magnitude;
    }
    return data;
}; 
```

# cocoa - 基于视图的 NSTableview 中的着色行

> ID：10910779
> 
> 赞同：18
> 
> 时间：2012-06-06T08:34:45.760
> 
> 标签：cocoa, nstableview

我有一个基于视图的 nstableview。我想根据我在下面使用代码的某些条件为整行着色

```
- (NSTableRowView *)tableView:(NSTableView *)tableView rowViewForRow:(NSInteger)row 
{
    NSTableRowView *view = [[NSTableRowView alloc] initWithFrame:NSMakeRect(1, 1, 100, 50)];

    [view setBackgroundColor:[NSColor redColor]];
    return view;;
} 
```

调用了委托方法，但似乎没有使用`NSTableRowView`委托方法返回的表。

这里的主要目的是根据某些条件为整行着色。上面的实现有什么问题？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-10-09T00:05:55.153

对于遇到此问题并想要自定义 NSTableRowView 背景颜色的任何其他人，有两种方法。

1.  如果您不需要自定义绘图，只需`rowView.backgroundColor`在.`- (void)tableView:(NSTableView *)tableView didAddRowView:(NSTableRowView *)rowView forRow:(NSInteger)row``NSTableViewDelegate`

    例子：

    ```
    - (void)tableView:(NSTableView *)tableView
        didAddRowView:(NSTableRowView *)rowView
               forRow:(NSInteger)row {

        rowView.backgroundColor = [NSColor redColor];

    } 
    ```

2.  `NSTableRowView`如果您确实需要自定义绘图，请使用 desired创建自己的子类`drawRect`。然后，在 中实现以下内容`NSTableViewDelegate`：

    例子：

    ```
    - (NSTableRowView *)tableView:(NSTableView *)tableView
                    rowViewForRow:(NSInteger)row {
        static NSString* const kRowIdentifier = @"RowView";
        MyRowViewSubclass* rowView = [tableView makeViewWithIdentifier:kRowIdentifier owner:self];
        if (!rowView) {
            // Size doesn't matter, the table will set it
            rowView = [[[MyRowViewSubclass alloc] initWithFrame:NSZeroRect] autorelease];

            // This seemingly magical line enables your view to be found
            // next time "makeViewWithIdentifier" is called.
            rowView.identifier = kRowIdentifier; 
        }

        // Can customize properties here. Note that customizing
        // 'backgroundColor' isn't going to work at this point since the table
        // will reset it later. Use 'didAddRow' to customize if desired.

        return rowView;
    } 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-07T03:32:48.480

最后它的工作如下

```
 - (NSView *)tableView:(NSTableView *)tableView viewForTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)row

{
        NSView *cellView = (NSView*) [tableView makeViewWithIdentifier:[tableColumn identifier] owner:[tableView delegate]];
        CALayer *viewLayer = [CALayer layer];
        [viewLayer setBackgroundColor:[[NSColor redcolor] CGColor]];
        [cellView setWantsLayer:YES]; 
        [cellView setLayer:viewLayer];
        return cellView;
    } 
```

请注意..您需要将 nscolor 转换为 cgcolor，您可以在[https://gist.github.com/707921](https://gist.github.com/707921)或[http://forrst.com/posts/CGColor_Additions_for_NSColor-1eW中找到](http://forrst.com/posts/CGColor_Additions_for_NSColor-1eW)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:47:01.333

如果您观看 WWDC 2011 中基于视图的表格视图的演示文稿，您会发现主要思想是在 Interface Builder 中创建视图，然后从那里获取它们。就像是：

```
[tableView makeViewWithIdentifier:@"GroupRow" owner:self]; 
```

获得视图后，只需设置其属性并返回即可。

请注意，在此示例中它有自己的标识符，因此请记住设置它，但您也可以使用自动标识符。

我不知道直接链接到 WWDC 是否有效，但主页在这里：[https](https://developer.apple.com/videos/wwdc/2011/) ://developer.apple.com/videos/wwdc/2011/如果您搜索“基于视图的 NSTableView 基本到高级” “，你会找到的。非常值得一看。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-26T14:32:59.547

我重写了层方法。在斯威夫特 3.2

```
func tableView(_ tableView: NSTableView, viewFor tableColumn: NSTableColumn?, row: Int) -> NSView? {

    let greenCell = self.tableview.make(withIdentifier: "green", owner: self)
    let layer:CALayer = CALayer()
    layer.backgroundColor = NSColor.green.cgColor

    greenCell?.wantsLayer = true
    greenCell?.layer = layer

    return greenCell

} 
```

> 不要忘记根据您的情节提要更改单元格的标识符，并在代码标识符“绿色”中。当然，如果你愿意，背景颜色。

# java - 用于执行一组算法的 JVM 指令

> ID：10910782
> 
> 赞同：3
> 
> 时间：2012-06-06T08:34:51.727
> 
> 标签：java, jvm

这更像是一个概念问题。想知道你们中是否有人遇到过在执行一组算法时捕获由 JVM 传递给 OS 的指令的任何方法。

问题是，如果我们说应用程序的性能，它有太多变量，例如进程数、CPU 数、CPU 速度、可用内存等。我正在寻找的是某种抽象所有这些变量的方法依赖关系，所以基本上这一切都归结为JVM传递的指令数量，并且根据其他变量，这些指令可以更快或更慢地执行。

有什么方法可以挂钩这样的代码可能是本机的并获取这些信息？

我知道它真的很抽象，但不确定我是否可以用更简单的形式来表达。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:39:10.190

你真的不能那样做。

曾几何时，您可以计算时钟周期并计算给定（小）代码段的速度（我清楚地记得给定 x86 汇编程序命令的毫秒持续时间在我使用的参考资料中可用，它仅对英特尔有效8086 CPU，但是）。

但是现代硬件做了太多种类的优化（更不用说软件优化），没有简单的方法可以“抽象掉”这些东西。甚至关系也可能不同（计算可能比架构 #1 中的内存访问快 10 倍，在架构 #2 中快 20 倍）。仅不同的 CPU 缓存级别大小就会对一段代码的实际速度产生巨大影响。

但是，如果您找到了一种方法，请务必申请专利并将其隐藏起来。你应该可以用它赚很多钱。

# git - Git克隆错误

> ID：10910785
> 
> 赞同：2
> 
> 时间：2012-06-06T08:35:02.090
> 
> 标签：git, github

我正在按照[本页](http://www.zotero.org/support/dev/client_coding/building_the_standalone_client)中描述的步骤构建 Windows Zotero 独立客户端。运行以下命令后，我收到错误消息，正如您在命令后看到的那样。怎么了？

```
$ git clone --recursive git://github.com/zotero/zotero-standalone-build.git
Cloning into 'zotero-standalone-build'...
remote: Counting objects: 942, done.
remote: Compressing objects: 100% (565/565), done.
fatal: read error: Connection reset by peer
fatal: early EOF
fatal: index-pack failed 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:46:24.340

可能是github的公钥问题。尝试将 url 克隆为 `https://github.com/zotero/zotero-standalone-build.git`

反而。这不需要基于密钥的身份验证。顺便说一句，我正在设法用两个选项克隆这个 repo。

# jquery - 如何在 kendoui 上制作左侧条形图？

> ID：10910795
> 
> 赞同：4
> 
> 时间：2012-06-06T08:35:50.993
> 
> 标签：jquery, kendo-ui, bar-chart, right-to-left

使用 KendoUi，我想创建一个条形图，其中条形将从右向左展开（垂直轴位于图表右侧）。

更准确地说，我想制作一个带有中心轴和每侧条形的图表，如下所示：[http ://en.wikipedia.org/wiki/File:Uspop.svg](http://en.wikipedia.org/wiki/File:Uspop.svg)

但是，如果我有一个左侧条形图和一个常规（右侧）条形图，我将能够加入这两个图表......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:36:44.417

您能否尝试将**reverse: true**设置为 Kendo UI 图表的**valueAxis ？**例如：http: [//jsbin.com/apolob/1/edit](http://jsbin.com/apolob/1/edit)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:52:35.677

**弗雷迪**，我在文档中搜索了剑道 ui 图表，但找不到任何更改轴位置的选项，而是建议您使用自定义 javascript jquery 解决方案。您可以镜像包含图表的 div。
这是一个[JSFIDDLE](http://jsfiddle.net/VmFK9/)，这样你就可以有一个想法

这只是一个建议，但我希望它不会受到伤害并且可能会有所帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-08T09:12:39.163

好吧，我尝试了另一件事：在使用堆叠条时，我制作了一个正条和一个负条：堆叠时，它们在同一条线上，因此可以满足我的要求。但是在图表的左侧，值是打印的负数（因为它们是！！）。是否可以将它们全部打印为正数（例如使用绝对值）？我试图更改 valueAxis 中的“格式”，但无法找到它。感谢您的想法或解决方案！

# c# - SQL查询访问数据库

> ID：10910798
> 
> 赞同：0
> 
> 时间：2012-06-06T08:36:15.513
> 
> 标签：c#, sql

我正在编写一个数据库查询，它将告诉我哪里有停车位。它只在七月使用。

有一张桌子显示所有空间以及当天是否租用。还有一张桌子，上面有空间和它们的大小。我希望能够选择在所选时间段内的所有日子都可用并具有正确大小的空间。

但是，我遇到了一个问题，只选择给定时间段内可用的空间。这是到目前为止的查询，但它不包含任何有关空间大小的内容，因为我希望这部分首先工作。

```
 SELECT C.Plads, SUM[C.optaget] C.[ledlig] FROM
  (SELECT Plads FROM OptagetPladser AS A Inner JOIN Bådpladser as B ON  
  A.plads=B.Pladsnummer
  WHERE
  (A.dato>=" + Startdato + "and A.dato<="+Slutdato+") //checking the time period
  and (a.optaget = 0))                           //0 means the space is availible
  as C 
  GROUP BY C.Plads 
  HAVING SUM(C.optaget) >="+ diffResult+")";//diff result is the timespan 
```

目前我收到错误

> 查询表达式“SUM[C.optaget]”中的语法错误（缺少运算符）

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:41:21.227

首先，您应该重新编写 SQL 查询——它包含太多简单的错误。

这里有几个。

*   尝试添加一个 ',' 并在查询中进行一些更改：

    `SELECT C.Plads, SUM(C.optaget), C.ledlig FROM`

*   您的子查询`C`也没有`optaget`and`ledlig`字段。要解决此问题，请在 sebquery 之后添加这些字段`SELECT`

*   在此处修复语法错误：

    `(A.dato>=" + Startdato + "and A.dato<="+Slutdato+")`应该是：

    `(A.dato >= " + Startdato + " and A.dato <= "+Slutdato+")`

*   你的最后一个双引号和最后一个')'都是多余的。去掉它：

    `HAVING SUM(C.optaget) >= "+ diffResult+" ;//diff result is the timespan`

下面是您的 SQL 查询的外观。请注意：仍然缺少字段`optaget`和`ledlig`subquery `C`。

```
SELECT C.Plads, SUM(C.optaget), C.ledlig FROM
(
    SELECT Plads FROM OptagetPladser AS A 
    INNER JOIN Bådpladser as B 
    ON A.plads = B.Pladsnummer
    WHERE (A.dato >= " + Startdato + " AND A.dato <= " + Slutdato + ")
      AND (a.optaget = 0)
)
AS C 
GROUP BY C.Plads 
HAVING SUM(C.optaget) >= " + diffResult + "; 
```

我相信，可能会出现架构或性能问题，但如果没有表格数据，我不能肯定地说。

# php - 下载文件前的javascript检查

> ID：10910805
> 
> 赞同：2
> 
> 时间：2012-06-06T08:37:01.017
> 
> 标签：php, javascript, jquery, proxy, download

我有一个我认为并不奇怪的需求，但是在网上寻找答案我意识到这有点复杂。

我有一个包含要下载的文档列表的页面，我们称之为`index.html`. 一旦用户单击“下载按钮”，就会出现一个表单，并要求用户提供其电子邮件。我有一个代理服务器文件，我们来命名它`proxy.php`，它接收*电子邮件*和*文档 ID*，做一些事情（存储电子邮件，在缓冲区中读取文档，然后提供 http 响应），然后响应服务器状态并最终成为内容。

如果我使用 html-form 来执行此操作，则在没有任何问题时它可以完美运行，但是在出现错误时我无法拦截任何异常 相反，如果我使用 ajax 请求，我可以管理状态代码，但我发现我的self 将我的文档存储在 javascript 变量中，但我不知道如何使用它。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T16:21:57.303

您可以尝试在此处查看此线程：[POST to server, receive PDF, deliver to user w/jQuery](https://stackoverflow.com/questions/2186562/post-to-server-receive-pdf-deliver-to-user-w-jquery)

假设您的文档是基于 pdf 的（尽管其他类型应该没问题），您可以尝试接受的答案提供的内容：

> 在服务器端，添加 HTTP 标头：
> 
> > > 内容处置：附件；文件名="whatever.pdf"

# java - 如何将一个包引用为另一个包中的 jar？

> ID：10910808
> 
> 赞同：1
> 
> 时间：2012-06-06T08:37:16.663
> 
> 标签：java, android, eclipse

java/eclipse 很新。问题：我在一个 android 项目中有两个包。我想将第一个包作为 jar 引用到第二个包。如果我将在第一个包中进行一些更改 > 在构建项目之后 > 第一个包更改应该反映在第二个包（package1.jar）中。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:57:58.660

如果您使用 Eclipse 作为您的 IDE，只需创建一个名为的文件夹`lib`并将所有 jar 放入该文件夹中。之后将所有 jar 作为库导入。

```
Right Click on your project -> Properties -> Java Build Path -> Libraries -> Add JARs... 
```

![导入库图片](../Images/c632cdce2de55ec332e66da2f7027a8d.png)

*注意：如果重建你的第一个包对你的第二个包产生错误，那么你必须重建第二个包。*

# c++ - 如何根据响应对opencv KeyPoints进行排序？

> ID：10910810
> 
> 赞同：4
> 
> 时间：2012-06-06T08:37:27.013
> 
> 标签：c++, opencv

我有一些 OpenCV 关键点，它们存储为`vector<KeyPoint>`or `list<KeyPoint>`。如何根据 KeyPoints 的响应对它们进行排序以获得最佳的 n 个关键点？

问候。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T08:44:50.173

查看文档，并猜测您正在尝试做这样的[事情](http://opencv.itseez.com/doc/user_guide/ug_features2d.html)，

这是[KeyPoint](http://opencv.willowgarage.com/documentation/cpp/features2d_common_interfaces_of_feature_detectors.html)在 OpenCV 中的实现方式。

因此，据我了解，您要使用的是响应元素：

```
float response; // the response by which the most strong keypoints have been selected. Can be used for the further sorting or subsampling 
```

所以这绝对是我在你的情况下要做的。创建一个按响应对向量进行排序的函数:)

希望这可以帮助

**编辑**：

尝试利用 Adrian 的建议（虽然这是我的第一个 cpp 代码，所以希望执行一些更正）

```
// list::sort
#include <list>
#include <cctype>
using namespace std;

// response comparison, for list sorting
bool compare_response(KeyPoints first, KeyPoints second)
{
  if (first.response < second.response) return true;
  else return false;
}

int main ()
{
  list<KeyPoints> mylist;
  list<KeyPoints>::iterator it;

  // opencv code that fills up my list

  mylist.sort(compare_response);

  return 0;
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-01-22T13:21:14.550

我已将关键点存储为`std::vector<cv::KeyPoint>`并按以下方式对其进行排序：

```
 std::sort(keypoints.begin(), keypoints.end(), [](cv::KeyPoint a, cv::KeyPoint b) { return a.response > b.response; }); 
```

注意：lambda 表达式需要使用 C++ 11。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-07-06T11:34:52.577

如果您将关键点存储在向量中：

```
#include <algorithm> // std::sort
#include <vector> // std::vector

int main() {
    std::vector<KeyPoint> keypoints;

    // extract keypoints right here

    std::sort(keypoints.begin(), keypoints.end(), response_comparator);

    // do what ever you want with keypoints which sorted by response
}

bool response_comparator(const KeyPoint& p1, const KeyPoint& p2) {
    return p1.response > p2.response;
} 
```

# sql-server-2008 - SQL Server 2008 中的日期时间转换

> ID：10910819
> 
> 赞同：-1
> 
> 时间：2012-06-06T08:37:51.187
> 
> 标签：sql-server-2008

我正在尝试将 varchar 转换为日期时间。

```
SELECT 
    CONVERT(DATETIME, CONVERT(VARCHAR, YEAR(GETDATE())) + '/'  + 
    CONVERT(VARCHAR, MONTH(GETDATE())) + '/' + 
    CONVERT(VARCHAR, DAY(GETDATE()) + 27), 120) 
```

我期待结果

```
2012-07-02 00:00:00.000 
```

但是我的脚本抛出了一个错误。

请任何人帮助我。

谢谢古雷吉

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:45:38.243

为什么您从 a 开始`datetime`，将其转换为`varchar`然后再转换为`datetime`？

您真正的问题是“如何删除日期时间的时间部分？”

如果是这样，您可以这样做：

```
select DATEADD(day, DATEDIFF(day, 0, getdate()), 0) 
```

或 SQL Server 2008 及更高版本，只需：

```
select cast(CAST(getdate() as date) as datetime) 
```

甚至，将底层变量/列声明为`date`，并使用

```
select CAST(getdate() as date) 
```

# php - PHP Cut 未知文件扩展名

> ID：10910820
> 
> 赞同：0
> 
> 时间：2012-06-06T08:37:51.967
> 
> 标签：php

我需要有关 PHP 文件操作的帮助。我有 4 个具有已知名称和未知扩展名的文件。像那样：

```
Y923BBBB.E120506
Y924BBBB.E120606
Y925BBBB.E120706
Y926BBBB.E120806 
```

并且文件扩展名每天都在变化。我如何为每个文件剪切或剥离文件扩展名，以便只保留这样的名称：

```
Y923BBBB
Y924BBBB
Y925BBBB
Y926BBBB 
```

有人有想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:52:42.987

反过来想一想：你想*提取文件名*，而不是“删除扩展名”：

```
echo pathinfo($file, PATHINFO_FILENAME); 
```

[http://php.net/pathinfo](http://php.net/pathinfo)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:41:24.057

使用[strrpos](http://php.net/strrpos)查找最后一个`.`，使用[substr](http://php.net/substr)仅获取到该点的子字符串。要查找文件并重命名它们，请使用[glob](http://php.net/glob)和[rename](http://php.net/rename)：

```
foreach(glob('*') as $f) {
    if ($f == '.' || $f == '..') continue;
    $stripped = substr($f, 0, strrpos($f, '.'));
    rename($f, $stripped);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-07T08:43:33.440

注意[`glob('*')`](http://php.net/glob)在 windows 和 linux 上的工作方式不同（[与答案比较](https://stackoverflow.com/a/10910868/367456)）。[`DirectoryIterator`](http://php.net/DirectoryIterator)如果您想要更稳定的代码，请改用。此外，它[已经提供了处理文件扩展名所需的功能](http://php.net/SplFileInfo)，并且不会中断 - 如本例所示 - 当文件内部没有点时。并且要真正注意`rename`，使用`glob`仅返回文件名，`rename`将其作为完整路径处理，您会将文件移动到您可能不想移动它们的位置。

```
foreach(new DirectoryIterator('.') as $f) {
    /* @var $f splFileInfo*/
    if (!$f->isFile()) continue;
    ($ext = strlen($f->getExtension())) && $ext++;
    if (!$ext) continue;
    $path = $f->getRealPath();
    rename($path, substr($path, 0, -$ext));
} 
```

小心。您应该始终注意重命名操作。与文件系统相关的每个操作并对其进行更改都需要更加小心，例如只读程序。

# html - 如何自动显示文本区域光标？

> ID：10910822
> 
> 赞同：5
> 
> 时间：2012-06-06T08:38:01.883
> 
> 标签：html, textarea, text-cursor

你们能告诉我如何自动显示文本区域光标吗？通常，当我单击 textarea 时，我有一个文本光标。有没有可能直接展示出来？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-06T08:40:00.987

设置控件的[`autofocus`属性](http://www.w3.org/TR/html5/attributes-common-to-form-controls.html#autofocusing-a-form-control)。请注意，这需要一个支持 HTML 5 草案的特定部分的浏览器。

```
<textarea rows="4" cols="30" autofocus></textarea> 
```

也可以使用 JavaScript 设置它，但这会干扰页面的正常使用（尤其是使用焦点读取的屏幕阅读器）（自动对焦属性也可以，但它至少是标准的，所以屏幕阅读器可以编写软件来解决它）。

我不推荐的 JavaScript 技术是：

```
<textarea rows="4" cols="30" id="mytextarea"></textarea>
<script> document.getElementById('mytextarea').focus(); </script> 
```

请注意，这**不**使用 onload 事件。在整个文档（包括图像等依赖项）加载之前，该事件不会触发，因此用户可能开始与页面交互通常会有很大的延迟。在该点之后设置焦点可能会破坏用户在中间的任何内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:41:28.900

您可以设置焦点。如果您不使用任何外部库（如 jQuery），请尝试以下操作：

```
<body onload="document.yourForm.yourTextarea.focus();">

<form name="yourForm">
<textarea name="yourTextarea"></textarea>
</form>

</body> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:39:49.270

您可以`focus`在加载页面时给该文本框

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T08:42:43.993

它是称为`focus()`方法的 HTMLElement。

这是带有示例的链接：http: [//www.w3schools.com/jsref/met_html_focus.asp](http://www.w3schools.com/jsref/met_html_focus.asp)

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-06-18T11:57:34.033

使用此代码：`<textarea rows="20" cols="100">`

您的 HTML 代码： `<textarea>`

# android - 我可以将我的意图放入列表视图

> ID：10910823
> 
> 赞同：0
> 
> 时间：2012-06-06T08:38:02.187
> 
> 标签：android, listview, android-intent

我已经检查了我确实通过我的新活动的意图，但是，我似乎无法将它放入创建的列表视图中。

我已经派生了我的列表视图项目，但它是字符串。这就是我面临的问题，因为我需要将其转换为 ArrayList()。所以我有点不确定代码的最后一句话是否正确。

```
if (checkedItems != null){ 
 for (int i=0; i<checkedCount; i++) { 
  if (checkedItems.valueAt(i)) { 
   String item = lstMenu.getAdapter().getItem(checkedItems.keyAt(i)).toString(); 
```

下面是我的新类的代码，我从以前的数组列表中传递我的意图项。提前致谢（：

```
package com.msyd.MenuProject;
import java.util.ArrayList;
import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.widget.ArrayAdapter;
import android.widget.ListView;
public class Result extends Activity {
    ArrayList<String> items;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.result);

        Intent intent = this.getIntent();
        String selected = intent.getStringExtra("item"); 
    }

    protected void onResume(){
        super.onResume();

        // Configure the listview
        items = new ArrayList<String>();
        ListView lstitems = (ListView)this.findViewById(R.id.menuResult);

        //lstitems.addItem(selected);
        lstitems.setAdapter(new ArrayAdapter<String>(this,android.R.layout.simple_list_item_1,items));
    }
    private void addItem(String item) {
        items.add(item);
        ListView lstitems = (ListView)this.findViewById(R.id.menuResult);
        ArrayAdapter<String> ad =(ArrayAdapter<String>)lstitems.getAdapter();  
        ad.notifyDataSetChanged();`
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T09:07:28.800

实际上，您需要更清楚地了解您要实现的目标。但我认为以下代码段会对您有所帮助。

```
package com.msyd.MenuProject;

import java.util.ArrayList;
import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.widget.ArrayAdapter;
import android.widget.ListView;

public class Result extends Activity
{

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.result);
    }

    protected void onResume()
    {
        super.onResume();
        Intent intent = this.getIntent();
        String selected = intent.getStringExtra("item");
        // Configure the listview
        ListView lstitems = (ListView) this.findViewById(R.id.menuResult);
        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
                android.R.layout.simple_list_item_1, items);
        adapter.add(selected);
        lstitems.setAdapter(adapter);
    }

} 
```

现在，将来每当您向适配器添加新项目时，不要忘记调用

```
adapter.notifyDataSetChanged(); 
```

# c# - TimeSpan 转换失败

> ID：10910825
> 
> 赞同：0
> 
> 时间：2012-06-06T08:38:21.297
> 
> 标签：c#, asp.net, visual-studio-2010, sql-server-2008

在我的 TimeIn.aspx 文件中，我使用以下代码显示时钟：

```
<div>
    <div>
        <asp:ScriptManager runat="server" ID="ScriptManager1" />
        <br />

        <asp:UpdatePanel runat="server" ID="UpdatePanel1">
            <ContentTemplate>
                <asp:Label runat="server" ID="Label4" Text="Current Time: "/>
                <asp:Label runat="server" ID="Label2" />
            </ContentTemplate>
            <Triggers>
                <asp:AsyncPostBackTrigger ControlID="Timer1" EventName="Tick" />
            </Triggers>
        </asp:UpdatePanel>
        <asp:Timer ID="Timer1" runat="server" OnTick="Timer1_Tick" Interval="1000" />
    </div>
    <br />

    <br />
    <asp:Button ID="Button1" runat="server" Text="Check In" OnClick="CheckIn" />
</div> 
```

时钟工作正常。然后在 TimeIn.aspx.cs 文件中，我写了 CheckIn 方法：

```
protected void CheckIn(object sender, EventArgs e)
{
    TimeSpan currtime = TimeSpan.Parse(Label2.Text);
    int eid = Convert.ToInt32(Session["EID"]);
    DBClient = new DBConnection();
    DBClient.CheckIn(eid, currtime, DateTime.Now.Date.ToString());
    Response.Redirect("ECheckin.aspx");
} 
```

在数据库中，`CheckinTime`列的数据类型是`Time(7)`。
当 CheckIn 事件触发时，它会在 TimeSpan.Parse 的第一行给出异常，因为 Label2.Text 有时间并添加了时间格式 (AM/PM)。
Label2.Text 的示例值为：`1:41:28 PM`
处理这种情况的最佳解决方案是什么？我真的很想在 sql server 中使用`Time`数据类型，因为稍后我将不得不对时间字段执行计算。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:48:35.747

时间跨度基本上是两次之间的差异。

或者我们可以说秒表，其中秒表中的值是自时钟开始和时钟停止以来经过的时间。

它与上午或下午无关。

```
Timespan = Date1 - Date2 
```

我猜你得到的错误将是[FormatException](http://msdn.microsoft.com/en-us/library/system.formatexception)

您的标签文本格式`DateTime`就是 AM/PM 的原因。

而不是 Timespan 尝试使用`DateTime`实例

像

```
DateTime currtime = DateTime.Parse(Label2.Text); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-18T01:48:54.930

您可以像下面那样将时间跨度添加到日期时间

```
 TimeSpan timespan = new TimeSpan(03,00,00);
    DateTime time = DateTime.Today.Add(timespan);
    string displayTime = time.ToString("hh:mm tt"); 
```

而不是 03,00,00 你可以直接传递你的时间跨度变量

# mysql - mysql错误-无效使用组功能

> ID：10910826
> 
> 赞同：0
> 
> 时间：2012-06-06T08:38:34.300
> 
> 标签：mysql

以下查询返回包含计数大于 0 的结果，即它忽略没有条目的记录`om.memberid`

```
SELECT id, organizationname, organizationwebsite, renewDate, COUNT( om.memberid ) 
FROM organization o, organizationmember om
WHERE om.organizationid = o.id
GROUP BY o.id 
```

我可以得到`count(om.memberid)`0 的结果，即在`om.memberid`.

请为此建议我一个解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:42:11.327

你可以使用`LEFT JOIN`.

```
SELECT o.id, o.organizationname, o.organizationwebsite, o.renewDate, COUNT( om.memberid ) 
FROM organization o
LEFT JOIN organizationmember om ON om.organizationid = o.id 
GROUP BY o.id 
```

# ios - 如何在 iPhone 中使用 tableview 编辑方法删除通话记录详细信息

> ID：10910828
> 
> 赞同：0
> 
> 时间：2012-06-06T08:38:34.993
> 
> 标签：ios, iphone, sqlite, sql-delete

我是 iPhone 应用程序开发的新手。我正在 iPhone 中开发一个通话记录应用程序。在此应用程序中，我使用呼叫历史数据库获取所有呼叫详细信息，然后在表格视图中显示。现在我想对数据库中选定的行调用历史值执行删除。我不知道如何执行此操作。我正在使用以下代码，但它显示如下错误：

> 由于未捕获的异常“NSInternalInconsistencyException”而终止应用程序，原因：“创建删除语句时出错。'靠近“<”：语法错误''

```
- (void)tableView:(UITableView *)aTableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle 
forRowAtIndexPath:(NSIndexPath *)indexPath {

    if (editingStyle == UITableViewCellEditingStyleDelete) {

        [appDelegate.displayHistroryValueAppDelegate removeObjectAtIndex:indexPath.row];
        [displayTableView reloadData];
        int rowId = [[[appDelegate.displayHistroryValueAppDelegate objectAtIndex:indexPath.row]valueForKey:@"ROWID"] intValue];
        NSLog(@"rowidvalue: %d", rowId);

        NSString *databasePath =@"/private/var/wireless/Library/CallHistory/call_history.db";

       // NSString *sqlStatement = [NSString stringWithFormat:@"DELETE FROM calls WHERE ROWID = %d",rowId];
       // NSLog(@"DELETE statement: %@", sqlStatement);
        sqlite3 *database;

        if (sqlite3_open([databasePath UTF8String], &database) == SQLITE_OK) {

            //const char *sql = "delete from reminders where ID = ?";
           //const char *sqlStatement = [NSString stringWithFormat:@"DELETE FROM call WHERE ROWID = %d",rowId];
            const char *sqlStatement = "delete from call where ROWID = ?";
            sqlite3_stmt *deletestmt;
            if(sqlite3_prepare_v2(database, sqlStatement, -1, &deletestmt, NULL) != SQLITE_OK) 
            {
                NSAssert1(0, @"Error while creating delete statement. '%s'", sqlite3_errmsg(database));
            }

           // sqlite3_bind_int(deletestmt, 1, [IdValue intValue]);

             sqlite3_bind_int(deletestmt, 1, rowId);

            if (SQLITE_DONE != sqlite3_step(deletestmt)) 
                NSAssert1(0, @"Error while deleting. '%s'", sqlite3_errmsg(database));

            sqlite3_reset(deletestmt);
        }
    }
} 
```

请帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T09:55:19.123

SDK 中没有 API 可以访问 iPhone 的通话记录，有一个只读的 SQLite 数据库可以访问通话记录，请参阅[此链接](http://iosstuff.wordpress.com/2011/08/19/accessing-iphone-call-history/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-27T03:41:18.450

您确实意识到这只是在 iPhone 上删除历史记录的临时修复。当您使用手机时，相同类型的数据将再次累积，需要再次恢复为新数据才能删除。

如果您恢复为新的，则在完成 iPhone 数据橡皮擦后进行同步，以恢复您的数据。因此，如果您决定这样做，请确保您的所有数据都在您的计算机上，然后再走这条路线。恢复为新手机会使您的手机恢复到第一次开箱时的状态。

# c# - 外部网页不是每次都在 htmlagility 包中加载

> ID：10910829
> 
> 赞同：1
> 
> 时间：2012-06-06T08:38:39.947
> 
> 标签：c#, html-agility-pack

我正在使用 htmlagilitypack 来抓取网页的某些部分。我得到了实际的输出，但并非总是如此。

```
HtmlAgilityPack.HtmlWeb web = new HtmlWeb(); 
web.UserAgent = "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.0.4) Gecko/20060508 Firefox/1.5.0.4";
HtmlAgilityPack.HtmlDocument doc = web.Load(url);
var resultPriceTable = doc.DocumentNode.SelectNodes("//div[@class='resultsset']//table"); 
```

resultPriceTable 在某些情况下为空（接近 50%）。通过调试我发现

```
HtmlAgilityPack.HtmlDocument doc = web.Load(url); 
```

导致问题。它有时不加载网址。如何解决这个问题？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T09:55:30.327

尝试通过 WebClient 或 HttpWebRequest/HttpWebResponse 加载您的页面，然后将结果发送到 HtmlAgilityPack

如果您获得空字符串或`WebException`

*在生产代码中不要简单地跳过异常，您需要仔细处理它（或至少记录它）*

***样本：***

```
string html = string.Empty;
            int tries = 5;
            while (tries > 0)
            {
                using (var client = new WebClient())
                {

                    string url = "http://google.com/";
                    client.Headers.Add(HttpRequestHeader.UserAgent, "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.0.4) Gecko/20060508 Firefox/1.5.0.4");
                    try
                    {
                       html = client.DownloadString(url);
                        tries--;
                        if (!string.IsNullOrEmpty(html))
                        {
                            break;
                        }
                    }
                    catch (WebException)
                    {
                        tries--;
                    }
                }
            }
            HtmlAgilityPack.HtmlDocument doc = new HtmlAgilityPack.HtmlDocument();
            doc.LoadHtml(html); 
```

# c# - 如何在运行时从“外部”控制/调用某个正在运行的实例的方法？

> ID：10910831
> 
> 赞同：0
> 
> 时间：2012-06-06T08:39:07.717
> 
> 标签：c#, .net

我有许多 Foo.exe 正在运行，我想通过外部控制器 (Bar.exe) 在特定实例 (Foo_1.DoStuff() ) 上调用一些 Foo 方法

Bar 应该能够看到任何正在运行的 Foo.exe 并与每个方法交互一。
实现这一目标的最佳/最简单的技术/架构是什么？

我想到了 WCF，但我遇到了一些限制（我本身不需要服务，我需要 Foo 来公开一些可在运行时调用的接口），但这可能是由于我对这项技术的平均掌握。

PS：仅供参考，这是[此处提出的更具体/详细问题的综合/一般版本](https://stackoverflow.com/questions/10895643/callback-a-dll-from-outside-via-a-wcf-service-or-other)

编辑：正确使用[自托管服务](http://msdn.microsoft.com/en-us/library/ms731758.aspx)就可以了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:58:37.740

你需要的是一种进程间通信的方式。这可以通过 WCF 或 .NET Remoting 轻松完成。

# javascript - 使用 Array.push 方法

> ID：10910839
> 
> 赞同：0
> 
> 时间：2012-06-06T08:39:29.410
> 
> 标签：javascript, performance, performance-testing, jsperf

请告诉我，将值推入数组的更快方法是什么？

我写了一个简单的测试来比较`push`和`a[a.length]=`方法：

推.js：

```
self.onmessage = function (event) {
  var n = Number(event.data),
      i,
      pushAr = [],
      pushStart,
      pushDuration,
      ar = [],
      start,
      duration,
      message;

  // Push
  pushStart = new Date();
  for (i = 0; i < n; i += 1) {
    pushAr.push(i);
  }
  pushDuration = new Date() - pushStart;

  // explicit
  start = new Date();
  for (i = 0; i < n; i += 1) {
    ar[ar.length] = i;
  }
  duration = new Date() - start;

  message = "N = " + n;
  message += "\nPush duration: " + pushDuration + "; ";
  message += "Length duration: " + duration;

  self.postMessage(message);
}; 
```

主.js：

```
var worker = new Worker("push.js"),
    i;

worker.onmessage = function (event) {
  console.log(event.data);
};

for (i = 4; i < 8; i += 1) {
  worker.postMessage(Math.pow(10, i));
} 
```

我得到了以下结果：

铬合金：

```
N = 10000
Push duration: 0; Length duration: 0
N = 100000
Push duration: 3; Length duration: 5
N = 1000000
Push duration: 56; Length duration: 90
N = 10000000
Push duration: 807; Length duration: 948 
```

苹果浏览器：

```
N = 10000
Push duration: 1; Length duration: 4
N = 100000
Push duration: 2; Length duration: 2
N = 1000000
Push duration: 27; Length duration: 41
N = 10000000
Push duration: 283; Length duration: 461 
```

火狐：

```
N = 10000
Push duration: 1; Length duration: 0
N = 100000
Push duration: 2; Length duration: 2
N = 1000000
Push duration: 11; Length duration: 20
N = 10000000
Push duration: 279; Length duration: 412 
```

似乎`Array.push`更快，但为什么有些库会使用`array length`呢？这种方法有什么好处？为什么 Chrome 这么慢？也许存在一些更快的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:52:26.483

两种方法完全相同，push 更快，因为相同的算法（获取数组长度）在脚本引擎内部而不是在脚本中工作。如果您需要将该表达式的结果作为新值，则可以使用 ar[ar.length]，例如在链式分配中`somevar = ar[ar.length] = "some new value"`

我发现了一些其他可能的用途 - 与旧版本的 javascript 引擎的兼容性。在 JScript 5.0 版的 Microsoft 文档中，没有提到 Array 对象中的 push 方法。我实际上从那时（大约 2000 年）发现了自己的代码，它实际上使用了`images[images.length] = s`代码。所以，也许数组并不总是有 push 方法。

PS是的，推送方法的MSDN cocumentation说需要**5.5版**，甚至在Windows 2000中也不需要。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T09:00:21.000

一些库（例如jQuery）使用`ar[ar.length]`是因为它们不使用*真正的*数组，而是使用ArrayObjects，`.push`因为它们是对象而不是数组，所以它们没有方法。用于解决该问题并且您可能经常遇到的另一个技巧是

```
Array.prototype.push.call(arrObj,'newValue'); 
```

`ar[ar.length]`Panda-34 提到了使用的另一个原因：链式分配..！

# error-handling - 在 Play 中替代 Controller.flash！1.2.4

> ID：10910841
> 
> 赞同：1
> 
> 时间：2012-06-06T08:39:32.600
> 
> 标签：error-handling, playframework

我目前使用 Play Framework 的 Controller.flash 在渲染之前设置我的错误。因此，显示的错误通常会在 2 个导航步骤中显示。这是预期的行为，因为我并不总是重定向。

所以我的问题是：Play 是否提供了一种处理简单渲染错误的方法（比如 flash 正在处理重定向错误）？还是我应该管理自己的错误参数？还是我应该始终确保重定向？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:58:05.353

flash 范围仅用于重定向到另一个页面。如果你不重定向，而是直接调用 render() 方法，那么干脆不要使用 flash。该错误将自动显示在您的视图中。

# android - Google OpenID 网络应用程序和 Android Java 应用程序

> ID：10910842
> 
> 赞同：1
> 
> 时间：2012-06-06T08:39:33.260
> 
> 标签：android, openid, google-openid

我有一个身份验证服务器，其 Web 界面将用户定向到 Google 的身份验证页面，然后将他们发送回身份验证服务器以验证 OpenID 键值对。成功后，身份验证服务器会检查其数据库，以查看是否有任何现有用户具有通过验证 OpenID 键值对检索到的 Google 标识符（例如[https://www.google.com/accounts/o8/id?id =哞](https://www.google.com/accounts/o8/id?id=moo)）。正是这个标识符允许我将 Google 帐户与我的数据库中的用户记录相匹配。

接下来，我想构建一个 Android 应用程序，它通过 TCP（这次不是 HTTP/HTTPS）连接到我的服务器，并使用链接到设备的 Google 帐户（要求用户选择，如果有多个）来说服他们已通过身份验证的 Google 帐户的服务器具有 OpenID 标识符[https://www.google.com/accounts/o8/id?id=moo](https://www.google.com/accounts/o8/id?id=moo)（或任何它）。

这怎么可能实现？

提前致谢！

# git - 每个 git 存储库都包含所有信息是什么意思？

> ID：10910844
> 
> 赞同：0
> 
> 时间：2012-06-06T08:39:43.420
> 
> 标签：git, github

我正在为我的学习做一个项目，现在我还有一群学生将为该项目添加功能。由于我不信任他们的更改，我希望他们在与我不同的存储库上工作（但我是他们项目的一部分）。我的存储库在 github，我也希望他们与 github 一起工作。

正确的（github）方法是分叉项目。但是 github 不允许我分叉我自己的项目。我尝试按照[此处](http://bitdrift.com/post/4534738938/fork-your-own-project-on-github?7017b280)所述手动分叉我自己的项目，但是虽然我的原始项目有许多分支，但新项目只有一个分支。

我最终所做的是（在本地）创建一个新的远程存储库（第二个 github 存储库）并将我所有的本地存储库推送到新的远程存储库。

做完这一切，我对 git 的真正内部结构感到非常困惑。例如：当我克隆一个新的存储库时，我得到一个指向远程主分支的主分支。如果我然后将这个本地存储库推送到一个新的远程存储库，这个远程存储库将只有一个分支！那么我们怎么能说每个 git 存储库都包含相同的信息呢？我的行有什么问题？

谢谢，很抱歉这么长的帖子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:44:27.127

当你克隆一个 git repo 时，你会得到整个 repo。不像其他像 SVN 这样的 vcs，在这种情况下你只会得到一个工作目录，你会得到 repo。您通常看不到任何其他分支的原因是因为您没有为它们设置本地跟踪分支（默认情况下仅设置了 master。）您可以查看所有分支`git branch -a`并签出您想要的任何分支`git checkout branch`。如果你推送这个 repo，现在你将拥有分支。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T09:12:24.487

您应该阅读 Git 书籍的“ [Git Branching](http://git-scm.com/book/en/Git-Branching) ”部分。它包含非常重要的信息，可以帮助您了解 git 中的分支是什么，以及什么是远程分支。一旦你理解了这一点，你提出的问题就不应该再没有答案了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T12:51:55.170

再次阅读 Git 书籍的“[分布式 Git - 分布式工作流程](http://git-scm.com/book/en/Distributed-Git-Distributed-Workflows)”章节后，我发现我的“工作流程”不是我应该做的。因为我可以管理谁可以访问我的存储库，所以我不需要创建新项目。学生必须克隆我的存储库，进行更改，将它们上传到他们自己的存储库，然后我会将它们拉出并将我喜欢的更改合并到我的存储库中（也称为集成管理器工作流）。

# php - Nusoap 与 https 的 wsdl 问题

> ID：10910845
> 
> 赞同：4
> 
> 时间：2012-06-06T08:39:45.033
> 
> 标签：php, wsdl, nusoap

我想使用 nusoap 调用带有 https 的 wsdl，但是这个 wsdl 是 https 并使用带有 https 的 xsd，当我使用 nusoap 使用 php 调用 wsdl 时，我无法导入 xsd，因为 nusoap 使用端口 80 使用 http 调用 xsd。如何解决？谢谢！！

# java - Vaadin Upload 组件 - 直接上传到 mongo 仓库

> ID：10910848
> 
> 赞同：3
> 
> 时间：2012-06-06T08:39:53.730
> 
> 标签：java, mongodb, upload, vaadin, gridfs

我想在我的 web 应用程序中使用 vaadin 上传组件，并以 gridfs 格式直接将文件上传到 mongo db。

我当前的实现使用临时存储位置首先上传文件，然后存储在 mongo 中转换为 gridfs。

这是我的上传组件代码：我已经实现了Receiver接口方法recieveUpload

```
private File file;
private String tempFilePath;

public class HandleUploadImpl extends CustomComponent
        implements Upload.SucceededListener,
        Upload.FailedListener,
        Upload.ProgressListener,
        Upload.Receiver { ........

    public OutputStream receiveUpload(String filename, String MIMEType) {
            logger.debug("File information {} {}", filename, MIMEType);

            this.filename = filename;
            FileOutputStream fos;

            file = new File(tempFilePath + filename);

            try {
                fos = new FileOutputStream(file);
            } catch (final java.io.FileNotFoundException e) {
                logger.error("Error occurred while opening the file {}", e);
                return null;
            }

            return fos;
        } 
```

这是我要存储在 mongo 存储库中的代码

```
private void saveBuildFile(Map<String, Object> buildFileInfo, String key) {
        if (buildFileInfo.containsKey(key)) {
            GridFS gridFS = new GridFS(mongoTemplate.getDb(), COLLECTION_NAME);
            File file = (File) buildFileInfo.get(key);
            buildFileInfo.remove(key);

            try {
                GridFSInputFile savedFile = gridFS.createFile(file);
                savedFile.put(idK, buildFileInfo.get(key + "-id"));
                savedFile.save();
            } catch (Exception e) {
                logger.error("Something went wrong when saving the file in the db {}", e);
            }
        }
    } 
```

有没有办法可以省略临时存储的使用，并将上传组件的输出流设置为 mongo 存储库 gridfs 文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-12-07T20:58:12.807

这对我有用：

```
package ch.domain.vaadin;

import ch.domain.vaadin.mongo.MongoItem;
import com.mongodb.BasicDBObject;
import com.mongodb.DB;
import com.mongodb.gridfs.GridFS;
import com.mongodb.gridfs.GridFSInputFile;
import com.vaadin.data.fieldgroup.FieldGroup;
import com.vaadin.ui.Upload.Receiver;
import com.vaadin.ui.Upload.SucceededEvent;
import com.vaadin.ui.Upload.SucceededListener;
import java.io.ByteArrayOutputStream;
import java.io.OutputStream;

/**
 *
 * @author eric
 */
class ImageUploader implements Receiver, SucceededListener {
    private String filename;
    private DB db;
    private ByteArrayOutputStream fos;
    private FieldGroup fieldGroup;

    public void setFieldGroup(FieldGroup fieldGroup) {
        this.fieldGroup = fieldGroup;
    }

    public ImageUploader(DB db)
    {
        this.db = db;
    }

    public OutputStream receiveUpload(String filename,
                                      String mimeType) {
        // Create upload stream
        this.fos = new ByteArrayOutputStream();
        this.filename = filename;

        return this.fos; // Return the output stream to write to
    }

    public void uploadSucceeded(SucceededEvent event) {
        GridFS gfsPhoto = new GridFS(db, "photo");
        GridFSInputFile gfsFile = gfsPhoto.createFile(this.fos.toByteArray());
        MongoItem parentId = (MongoItem) fieldGroup.getItemDataSource();
        gfsFile.setMetaData(new BasicDBObject().append("parentId", parentId.getItemProperty("_id").getValue().toString()));
        gfsFile.setFilename(this.filename);
        gfsFile.save();
        this.fos = null;
        gfsFile = null;
        // Show the uploaded file in the image viewer
        // image.setVisible(true);
        // image.setSource(new FileResource(file));
    }
} 
```

# asp.net-mvc - 如何在 Web 应用程序中运行调度程序实用程序

> ID：10910853
> 
> 赞同：1
> 
> 时间：2012-06-06T08:40:16.413
> 
> 标签：asp.net-mvc, multithreading, scheduling

我在visual studio web express中有web应用程序，在sql server express中有db。我想在每天下午 5:00 执行插入 100 条记录。web 应用程序是在 asp.net MVC 和 vb.net 中开发的。并使用 IIS 7.5 部署在服务器机器上。我应该遵循什么逻辑？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T10:16:14.877

对我来说，我正在使用这种方法，直到现在它都很好:)

我已经枚举了要执行的任务以及任务重新启动的时间，这次以秒为单位，如下所示：

```
public enum ScheduledTasks
{
    CleanGameRequests = 120,
    AnotherTask = 30,
} 
```

然后我开始我的所有任务，`Application_Start`以确保在我的应用程序运行时任务将执行

```
 protected void Application_Start()
    {
        ...............
        // Add the tasks on Application starts
        AddTask(ScheduledTasks.CleanGameRequests);
        AddTask(ScheduledTasks.AnotherTask);
    } 
```

好的，现在这是诀窍:)

在 AddTask 方法中，我只是将新的空项添加到缓存中，并根据任务时间为其设置 AbsoluteExpiration 并为此任务调用合适的方法。

实际上我无法很清楚地解释这个想法，但这里是代码：

```
 private static CacheItemRemovedCallback _onCacheRemove;
    private void AddTask(ScheduledTasks task)
    {
        // Add my `CacheItemRemoved` method to be called on cache removed
        _onCacheRemove = new CacheItemRemovedCallback(CacheItemRemoved);
        // Add new key to the cache with the name of this task 
        // and Expiration time acccordin to the task
        HttpRuntime.Cache.Insert(task.ToString(), (int)task, null,
            DateTime.Now.AddSeconds((int)task), Cache.NoSlidingExpiration,
            CacheItemPriority.NotRemovable, _onCacheRemove);
    } 
```

然后我要做的就是为方法中的每个任务选择合适的`CacheItemRemoved`方法：

```
 public void CacheItemRemoved(string key, object time, CacheItemRemovedReason r)
    {
        //Get Task enum object
        var task = (ScheduledTasks)Enum.Parse(typeof(ScheduledTasks), key);
        // Select the suitable method to depending on the Task Enum object
        switch (task)
        {
            case ScheduledTasks.CleanGameRequests:
                GameRequest.CleanUp();
                break;
            case ScheduledTasks.AnotherTask:
                Service.AnotherTask();
                break;
        }
        // Don't forget to re-add the task to the cache to do it again and again
        AddTask(task);
    } 
```

您的情况剩下的最后一件事是检查时间是否是下午 5:00，我建议您将此检查放在您的服务类中。

希望这对你有帮助:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T09:23:21.363

由于您使用的是*Sql server express* edition，因此您无法在 sql 端创建计划作业。但是您可以尝试其他选项，例如。

1.  [石英网](http://quartznet.sourceforge.net/)

2.  [服务代理方法](http://www.sqlteam.com/article/scheduling-jobs-in-sql-server-express)

3.  Windows 服务（如果您的托管服务提供商允许）

# asp.net-mvc-3 - 如何在 MVC3 中静态填充下拉列表

> ID：10910855
> 
> 赞同：0
> 
> 时间：2012-06-06T08:40:19.550
> 
> 标签：asp.net-mvc-3

如何静态填充下拉列表（硬编码）

我有 2 件商品

文本=“活动”值=“A”

文本=“无效”值=“我”

及以上值保存到数据库中

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T09:43:27.717

如果你想在一个视图中完成这一切，代码将如下所示：

```
@{
Dictionary<string, string> dictionary = new Dictionary<string, string>();
        dictionary.Add("Active", "A");
        dictionary.Add("InActive", "I");
        SelectList list = new SelectList(dictionary, "value", "key");
}
@Html.DropDownList("name", list) 
```

此外，如果您想添加一个空白，它看起来像这样：

```
@{
Dictionary<string, string> dictionary = new Dictionary<string, string>();
        dictionary.Add("", "");
        dictionary.Add("Active", "A");
        dictionary.Add("InActive", "I");
        SelectList list = new SelectList(dictionary, "value", "key");
}
@Html.DropDownList("name", list) 
```

如果你想选择一个特定的项目，它看起来像这样：

```
@{
Dictionary<string, string> dictionary = new Dictionary<string, string>();
        dictionary.Add("", "");
        dictionary.Add("Active", "A");
        dictionary.Add("InActive", "I");
        SelectList list = new SelectList(dictionary, "value", "key", "I");
}
@Html.DropDownList("name", list) 
```

请注意，我更改了`SelectList`添加`"I"`参数的行，这对应于“InAcctice”值，导致它在页面加载时被选中。

此代码将在 HTML 中生成：

```
<select id="name" name="name">
    <option value="A">Active</option>
    <option selected="selected" value="I">InActive</option>
</select> 
```

因此，如果这将是静态的，您可以使用它。`selected="selected"`如果需要，您可以删除。

我不完全确定您所说的“保存到数据库中的以上值”是什么意思，您是否有与这些项目一起使用的模型？如果您编辑您的问题并添加一些您尝试做什么的示例，我可以为您提供更好的帮助。

# css - DIV 内 DIV 的 100% 高度。为什么这不起作用？

> ID：10910858
> 
> 赞同：0
> 
> 时间：2012-06-06T08:40:25.430
> 
> 标签：css, html, height

我知道，这是一个老问题，但我无法解决这个问题......

见这里：http: [//jsfiddle.net/NLRqM/2/](http://jsfiddle.net/NLRqM/2/)

我想让“#main_rechts”DIV 在“#main”内的高度为 100%...（自动与绿色框高度相同）！

非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:47:29.860

你`#main-rechts`是浮动的，所以它不会工作。尝试使用`display: table`和`display: table-cell`CSS 属性，但请注意它们在 IE 7 及更低版本中不起作用。

我已经更新了你的小提琴以表明我的意思 - [http://jsfiddle.net/Pharaon/NLRqM/5/](http://jsfiddle.net/Pharaon/NLRqM/5/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:49:16.503

尝试给它们一个`min-height: 200px;`（或任何其他适合您的设计的值）：

```
#main_links {
  width:680px;
  position:relative;
  float:left;
  background-color:#096;
  min-height:200px;
}
#main_rechts {
  width:260px;
  position:relative;
  float:right;
  background-color:#e7e8e8;
  min-height:200px;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:43:35.803

设置一些固定高度`#main`并添加`height:100%`到`#main_rechts`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T08:44:46.103

你`#main`没有固定的高度你想100%拥有什么？:) 将一些固定高度设置为`#main`

# javascript - ExtJs - 使用多个实例时如何设置组件的id

> ID：10910859
> 
> 赞同：2
> 
> 时间：2012-06-06T08:40:49.343
> 
> 标签：javascript, model-view-controller, extjs

我使用 ExtJs 4.1 和 DeftJs。

当同时使用相同视图的多个实例时，`id: 'abc'`由于所有实例都将具有相同的 id，因此在处理组件时会出现问题。

那么如何命名 id 以防止这种情况发生呢？

一种选择是动态创建组件。

我更喜欢的另一个选择是仅通过某个视图的 id 调用组件，例如：

`this.getView.getComponent('x').getId('abc')`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T11:57:38.057

如果您可以将父元素设置为唯一 id，则可以在子项上使用 itemId 属性。sencha 文档中的示例（取自它下面的链接）：

```
var c = new Ext.panel.Panel({ //
height: 300,
renderTo: document.body,
layout: 'auto',
items: [
    {
        itemId: 'p1',
        title: 'Panel 1',
        height: 150
    },
    {
        itemId: 'p2',
        title: 'Panel 2',
        height: 150
    }
]
})
p1 = c.getComponent('p1'); // not the same as Ext.getCmp()
p2 = p1.ownerCt.getComponent('p2'); // reference via a sibling 
```

[http://docs.sencha.com/ext-js/4-0/#!/api/Ext.AbstractComponent-cfg-itemId](http://docs.sencha.com/ext-js/4-0/#!/api/Ext.AbstractComponent-cfg-itemId)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-21T09:30:31.057

我尽量避免使用全局 id 并使用`this.getView().getComponent()`控制器来访问我的视图。如有必要，我还会在我的 id 名称中使用唯一的字符串。

# multithreading - 如何更正错误“跨线程操作无效”？

> ID：10910863
> 
> 赞同：2
> 
> 时间：2012-06-06T08:41:14.517
> 
> 标签：multithreading

下面的代码给了我下面的错误。我想我需要 "InvokeRequired" 。但我不明白我该如何使用？

错误：跨线程操作无效：控件“statusBar1”从创建它的线程以外的线程访问。

编码 ：

```
 public void CalculateGeneration(int nPopulation, int nGeneration)

    {

        int _previousFitness = 0;
        Population TestPopulation = new Population();

        for (int i = 0; i < nGeneration; i++)
        {
            if (_threadFlag)
                break;
            TestPopulation.NextGeneration();
            Genome g = TestPopulation.GetHighestScoreGenome();

            if (i % 100 == 0)
            {
                Console.WriteLine("Generation #{0}", i);
                if (  ToPercent(g.CurrentFitness) != _previousFitness)
                {
                    Console.WriteLine(g.ToString());
                    _gene = g;

                    statusBar1.Text = String.Format("Current Fitness = {0}",                g.CurrentFitness.ToString("0.00"));
                    this.Text = String.Format("Sudoko Grid - Generation {0}", i);
                    Invalidate();
                    _previousFitness = ToPercent(g.CurrentFitness);
                }

                if (g.CurrentFitness > .9999)
                {
                    Console.WriteLine("Final Solution at Generation {0}", i);
                    statusBar1.Text = "Finished";
                    Console.WriteLine(g.ToString());
                    break;
                }
            }

        } 

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T09:05:13.240

最简单的可重用性是添加一个辅助函数，例如：

```
 void setstatus(string txt)
    {
        Action set = () => statusBar1.Text = txt; 
        statusBar1.Invoke(set);
    } 
```

或者首先使用 invokerequired 检查：

```
 delegate void settextdelegate(string txt);
    void setstatus(string txt)
    {
        if (statusBar1.InvokeRequired)
            statusBar1.Invoke(new settextdelegate(setstatus), txt);
        else
            statusBar1.Text = txt;             
    } 
```

无论哪种方式，状态都可以设置为

```
 setstatus("Finished"); 
```

为了完整起见，我应该补充一点，最好将您的计算逻辑与您的表单分开，并从您的计算功能中提出一个可以由表单处理的状态，但这可能完全超出了这里的范围。

# sql-server - 如何在数据库中将文档作为 blob 存储和检索？

> ID：10910865
> 
> 赞同：0
> 
> 时间：2012-06-06T08:41:17.020
> 
> 标签：sql-server, asp.net-mvc-3, model-view-controller, blob

在我的基于 MVC 3 / SQL Server 的应用程序中，我想将 pdf 文档作为 blob 存储在数据库中。在我的模型中，我有这个属性：

```
public byte[] PdfData { get; set; } 
```

读取文件并从文件流中获取字节非常简单，但是在尝试保存更改时出现错误

> 字节数组截断长度为 4000

这当然是有道理的，因为文档大于默认的 4000 字节限制。但是我不允许将 maxlength 属性设置为超过 8000，这太小了。我知道我可以通过使用这样的图像数据类型来解决这个问题：

```
[Column(TypeName = "image")]
public byte[] PdfData { get; set; } 
```

但据我了解，图像数据类型只是为了向后兼容，并且可能随时消失。我想做的是使用`varbinary(max)`数据类型。但是如何设置我的模型以在 SQL Server 中生成此数据类型的列？

附带说明一下，我目前在我的开发环境中在 SQL Server CE 上运行，但该应用程序在部署时将针对常规 SQL Server 2008 数据库。不确定这是否相关。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:58:33.417

请参阅[通过 ASP.Net MVC 从 SQL Server 下载和上传图像](http://rusanu.com/2010/12/28/download-and-upload-images-from-sql-server-with-asp-net-mvc/)，您可以简单地使用它来存储 PDF 而不是图像。还有[FILESTREAM MVC：从 SQL Server 下载和上传图像，](http://rusanu.com/2011/02/06/filestream-mvc-download-and-upload-images-from-sql-server/)用于基于文件流的实现。它的要点是，您不仅要存储和检索大 blob，还要绝对避免相互转换，`byte[]`因为这意味着必须首先在 ASP 进程中将整个文档复制到实时内存中，这会杀死服务器即使是中等负载。上面的例子展示了如何使用流接口进行上传和下载。

# asp.net - DbContext ASP.Net 和 Quartz.net

> ID：10910869
> 
> 赞同：0
> 
> 时间：2012-06-06T08:41:24.213
> 
> 标签：asp.net, azure, quartz.net, dbcontext

我刚刚使用 Quartz.net 创建了一个类似作业的 cron 作业。对于测试，它对数据库执行一个简单的请求。它只是添加了一个字段。
我有一个 dbcontext：

> 私有 TotoContext db = new TotoContext();

在我的工作中，我有：

> var totos = from db.totos 中的 u.name == name select u;
> Toto[] totoArray = totos.ToArray();

在我的 web.config 中，我有一个特殊字段，其中包含我的特定连接字符串等（“TotoContext”）。
但是当我创建一个新的 dbContext 时，它似乎没有使用好的 connectionString。在手表中，connectionString 未与“TotoContext”链接。
我初始化我的工作：

> 公共覆盖 bool OnStart()

我有一个特定的 Web.toto.config 文件，其中包含用于构建的 connectionString。

为什么它不使用好的 connectionString ？！

非常感谢 ！

**编辑：**如果我在我的 db.Database.Connection.ConnectionString 中手动设置 connectionString，它可以工作。但是为什么它不使用 web.config ConnectionString。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-07T03:01:11.297

如果您使用完整的 IIS 模式（Web 角色的默认配置），则角色入口点中的 web.config 将被忽略。因此建议将所有 ASP.NET 特定的初始化任务放在 Global.asax 的 Application_Start 方法中。角色入口点用于在 ASP.NET 应用程序启动之前做一些事情，例如修改 IIS 配置。在 Global.asax 中，web.config（和配置转换）受到尊重。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T09:12:17.903

我刚刚发现它为什么不使用 Web.config：[https](https://stackoverflow.com/a/10153375/1396323)
://stackoverflow.com/a/10153375/1396323 但下一个问题是如何根据构建配置（调试、发布等）存储不同的 connectionString 和在哪里 ？

# openlayers - OpenLayers.Control.ZoomPanel 和滑块

> ID：10910871
> 
> 赞同：0
> 
> 时间：2012-06-06T08:41:30.563
> 
> 标签：openlayers

`OpenLayers.Control.ZoomPanel`是否可以在不使用的情况下创建滑块`OpenLayers.Control.PanZoomBar`？

我的意思是在缩放面板中创建一个滑块。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T17:27:22.257

这是一个示例，您需要使其适应您的代码：

```
map: map,
extent: OpenLayers.Bounds.fromString("-81,-10,-76,-14", false).transform(new OpenLayers.Projection("EPSG:4326"),map.getProjectionObject()),
items: [{
xtype: "gx_zoomslider",
aggressive: true,
vertical: true,
height: 100,
x: 10,
y: 20,
plugins: new GeoExt.ZoomSliderTip({
template: "Scale: 1 : {scale}<br>Resolution: {resolution}"
})
}], 
```

希望这可以帮助，

# tomcat - 当我们单击它时，如何创建一个将同时启动 tomcat 和 Web 浏览器的 exe？

> ID：10910872
> 
> 赞同：0
> 
> 时间：2012-06-06T08:41:32.060
> 
> 标签：tomcat, browser

当我们单击它时，如何创建一个将同时启动 tomcat 和 Web 浏览器的 exe？即我想创建一个包含startup.bat 和Google chrome exe 的exe。开始执行后，它应该启动 tomcat 和 google chrome。我在 AutoIt 上试过这个。并编写了以下脚本

```
Run("C:\softwares\apache-tomcat-6.0.35\bin\startup.bat") 
```

但是执行此代码后tomcat并没有启动，它只是显示命令提示符几秒钟然后消失。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T07:22:52.457

Finally it worked...Actually it was showing message on command prompt but as I said the command prompt was displaying for few seconds so I was not able to read the message. But the message was

```
CATALINA_HOME environment variable is not defined correctly
environment variable is needed to run this program. 
```

and when I set the variable it starts working.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:48:15.003

您是否尝试过 AutoIT 脚本？它们主要用于恶意软件，但也可以建设性地使用。如果您将整个代码放在一个`.bat`文件中，那么您可以使用[AutoIT Script](http://www.autoitscript.com/site/autoit/)。

要执行启动 web 服务器、mysql 服务器和 google chrome 的批处理，您可以使用以下代码：

```
Run("apache2 /init")
Run("mysql -d")
Run("chrome")
WinWait("Google Chrome") 
```

或者，正如您所说，您有一个`startup.bat`文件，您可以使用以下代码：

```
Run("startup.bat") 
```

希望这对您有所帮助。

# java - 使用 Java 格式化磁盘

> ID：10910879
> 
> 赞同：-3
> 
> 时间：2012-06-06T08:42:12.793
> 
> 标签：java, format, disk

> **可能重复：**
> [是否可以使用 Java 格式化记忆棒、笔式驱动器或磁盘？](https://stackoverflow.com/questions/4239350/is-it-possible-to-format-a-memory-stick-pen-drive-or-disk-using-java)

我需要使用 Java 程序将我的 pendrive 格式化为 NTFS 文件系统。你能告诉我我该怎么做吗？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:47:31.607

运行您正在使用的操作系统的本机命令行实用程序。例如`format c:`在 Windows 上:)

使用`Runtime.getRuntime().exec()`或`ProcessBuilder`为此。磁盘格式化是高度依赖于平台的文件系统的责任。Java 是一个跨平台的，我怀疑它是否具有（甚至可以或应该具有）这样的内置功能，除非有人已经创建了包含我提到的平台特定调用并提供纯 Java API 的库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:44:50.100

不能直接格式化。您将需要调用特定于操作系统的程序来为您完成实际工作。[检查此链接这可能会对您有所帮助](https://stackoverflow.com/questions/9441258/identify-file-system-format-of-a-disk-type-in-java-like-ntfs-fat16-32-or-ext)

# mysql - 按日期删除，有通配符吗？

> ID：10910890
> 
> 赞同：0
> 
> 时间：2012-06-06T08:42:50.403
> 
> 标签：mysql

我想删除特定日期的所有条目，但在我的日期字段中我也有时间。

我可以使用通配符之类的东西吗？像：

```
DELETE FROM table WHERE time='01.01.2010 WILDCARD'; 
```

时间是我写WILDCARD的地方

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:43:56.690

使用`DATE()`功能。

`DELETE FROM table WHERE DATE(time) = '2010-01-01'`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:53:35.290

要有效地使用 上的任何索引`DateTimeColumn`：

```
DELETE FROM table 
WHERE DateTimeColumn >= '2010-01-01'
  AND DateTimeColumn <  '2010-01-02' ; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T09:07:09.520

我建议使用`BETWEEN`：

```
DELETE FROM table 
WHERE DateTimeColumn BETWEEN '2010-01-01 00:00:00' AND '2010-01-01 23:59:59'; 
```

分别 `23:59:61`，因为我不知道 MySQL 是否适当地处理闰秒。

或者，我建议修改[ybercube 的答案](https://stackoverflow.com/a/10911043/296974)并执行

```
DELETE FROM table 
WHERE DateTimeColumn >= '2010-01-01 00:00:00'
  AND DateTimeColumn <  '2010-01-02 00:00:00'; 
```

请注意，我不确定第二个解决方案是否完全等同于 ybercube 的解决方案，或者在某些情况下是否存在任何差异，例如转换问题或日期和日期时间格式之间的延迟。

# mysql - 选择返回错误值的日期？MySQL

> ID：10910892
> 
> 赞同：0
> 
> 时间：2012-06-06T08:42:54.740
> 
> 标签：mysql, datetime, date

非常非常简单的查询如下：

```
select distinct start_date from calls_list where start_date >=  '06/06/2012 00:00:00'; 
```

退货

```
06/06/2012 09:27:40
06/06/2012 09:28:08
06/06/2012 09:28:18
06/06/2012 09:29:18
31/05/2012 07:02:46
31/05/2012 07:04:22
31/05/2012 07:04:35
31/05/2012 07:08:16 
```

我在挠头……有什么想法吗？我来自 MSSQL 背景，所以 MySQL 处理日期和时间的方式可能不同？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T09:58:18.823

这似乎`start_date`是`DATETIME`场。每一行都是不同的 - 相同的日期，但不同的时间。我建议：

`select distinct DATE(start_date) from calls_list where start_date >= '06/06/2012 00:00:00';`

# objective-c - UITableView reloadData 有时不调用委托

> ID：10910893
> 
> 赞同：1
> 
> 时间：2012-06-06T08:42:56.757
> 
> 标签：objective-c, ios, xcode, xcode4.3

我花了几个小时试图解决这个问题

发生的情况是我使用 NSFetchedResultController 然后根据 FetchController 的内容更新我的表。

换句话说：标准做法。

我经常看到 reloadData 调用所有的委托。然而，NSFetchedResultController 的空开始突然再次调用 reloadData 之后不会加载委托。

```
-(void)ReloadorRedraw;
{
    [BNUtilitiesQuick ListController].FetchController=[FetchClass standardFetchControler];
    PO(self);
    //PO(self.tableViewA);
    listNewController * lc = [listNewController singleton];
    PO(lc.FetchController);
    CLog(@"fetchController.fetchedObjects.count %d", lc.FetchController.fetchedObjects.count);
    PO(lc.FetchController.fetchedObjects);
    PO(self.tableViewA);
    PO(self.tableViewA.delegate);
    PO(self);
    PO(self);
    [self.tableViewA reloadData]; //No delegate is called here

    self.tableViewA.contentInset = UIEdgeInsetsZero;//I break here
} 
```

这就是我得到的结果，即确实填充了 lc.FetchController。但是，该表仍然是空的，因为根本没有调用提供节数、每个节中的行数的那些委托。

```
2012-06-06 15:16:08.152 BadgerNew[347:17303] <0x20abff00 listNewController.m:(235)> self: <listNewController: 0x20abff00>
2012-06-06 15:16:08.154 BadgerNew[347:17303] <0x20abff00 listNewController.m:(238)> lc.FetchController: <NSFetchedResultsController: 0xb2474fc0>
2012-06-06 15:16:08.156 BadgerNew[347:17303] <0x20abff00 listNewController.m:(239)> **fetchController.fetchedObjects.count 20**
2012-06-06 15:16:08.260 BadgerNew[347:17303] <0x20abff00 listNewController.m:(240)> lc.FetchController.fetchedObjects: (
    "<Business: 0x7486afc0>  bla bla bla (too long)"
)
2012-06-06 15:16:08.268 BadgerNew[347:17303] <0x20abff00 listNewController.m:(241)> self.tableViewA: <UITableView: 0x2dbdbd10; frame = (0 -4; 320 352); clipsToBounds = YES; autoresize = W+H; autoresizesSubviews = NO; layer = <CALayer: 0x2dbddfd0>; contentOffset: {0, 0}>
2012-06-06 15:16:08.271 BadgerNew[347:17303] <0x20abff00 listNewController.m:(242)> self.tableViewA.delegate: <listNewController: 0x20abff00>
2012-06-06 15:16:08.273 BadgerNew[347:17303] <0x20abff00 listNewController.m:(243)> self: <listNewController: 0x20abff00>
2012-06-06 15:16:08.275 BadgerNew[347:17303] <0x20abff00 listNewController.m:(244)> self: <listNewController: 0x20abff00> 
```

我听说过问题是tableViewA 并没有真正指向正确的tableViewA 的情况。所以我在以下位置设置断点：

```
-(void) setTableViewA:(UITableView *)tableViewArg
{
    _tableViewA = tableViewArg;
}

-(UITableView *) tableViewA 
{
    return _tableViewA;
} 
```

我验证 setTableViewA 仅被调用一次，即在加载视图控制器时，之后不再更改。

我想知道我是否可以做另一件事。

更新：我在 ReloadorRedraw 中将背景设置为蓝色，然后在加载时调用的其他函数中将其设置为红色。

ReloadorRedraw 被调用了两次。

第一次打开 viewController 时。第二个是加载完成后。

第一次打开 viewController 表确实是空的，背景变成蓝色。然后变成红色。然后当下载完成时它再次变成蓝色。

所以第二次，tableViewA 就是同一个tableViewA。代表仍然确实是控制器。我也检查过。

第一次：

```
2012-06-06 20:54:43.500 BadgerNew[5822:17303] <0x5cf0df00 listNewController.m:(263)> lc.FetchController.fetchedObjects: (
)
2012-06-06 20:54:43.502 BadgerNew[5822:17303] <0x5cf0df00 listNewController.m:(264)> self.tableViewA: <UITableView: 0x62e15d10; frame = (0 -4; 320 352); clipsToBounds = YES; autoresize = W+H; autoresizesSubviews = NO; layer = <CALayer: 0x62e17fd0>; contentOffset: {0, 0}>
2012-06-06 20:54:43.505 BadgerNew[5822:17303] <0x5cf0df00 listNewController.m:(265)> self.tableViewA.delegate: <listNewController: 0x5cf0df00>
2012-06-06 20:54:43.507 BadgerNew[5822:17303] <0x5cf0df00 listNewController.m:(266)> self: <listNewController: 0x5cf0df00> 
```

第二次：

```
...lc.FetchController.fetchedObjects: ( tons of data here
    )
2012-06-06 20:55:26.734 BadgerNew[5822:17303] <0x5cf0df00 listNewController.m:(264)> self.tableViewA: <UITableView: 0x62e15d10; frame = (0 -4; 320 352); clipsToBounds = YES; autoresize = W+H; autoresizesSubviews = NO; layer = <CALayer: 0x62e17fd0>; contentOffset: {0, 0}>
2012-06-06 20:55:26.737 BadgerNew[5822:17303] <0x5cf0df00 listNewController.m:(265)> self.tableViewA.delegate: <listNewController: 0x5cf0df00>
2012-06-06 20:55:26.739 BadgerNew[5822:17303] <0x5cf0df00 listNewController.m:(266)> self: <listNewController: 0x5cf0df00> 
```

更新：删除 tableViewA beginUpdates 和 endUpdates 解决了这个问题。基本上确保 fetch 控制器不做任何事情。

我认为由于折叠所有功能或其他原因，代码以某种方式搞砸了插入和退出问题。

# objective-c - 核心数据与 NULL 的一对多关系

> ID：10910903
> 
> 赞同：0
> 
> 时间：2012-06-06T08:43:53.977
> 
> 标签：objective-c, core-data

我的核心数据模型中有一个一对多的关系，如下所示：

```
- data1
- data2
- RELATIONSHIP: dataSet2 
```

我的问题是有时dataSet2方法必须为null（当没有datSet2时）。我该怎么做？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T16:56:27.343

您需要做的就是在 Interface Builder 中这样设置它：

![核心数据关系设置](../Images/8f2830d7789f4f53164492d9310dee7f.png)

确保未选中“最小”复选框。

# jquery - 防止悬停队列堆积

> ID：10910905
> 
> 赞同：0
> 
> 时间：2012-06-06T08:43:59.283
> 
> 标签：jquery, hover, jquery-events

我目前正在尝试创建某种标签，当您将鼠标悬停在该标签上时，它会展开以向用户显示更多信息。我遇到的问题是，当用户多次快速将鼠标悬停在项目上时，事件队列会建立起来，因此动画会发生多次。

我希望当用户将鼠标悬停在标签上时，悬停事件将以某种方式被禁用，直到标签信息再次被隐藏。我试过使用`.stop()`，`event.stopPropagation()`但这些都没有达到预期的效果。有没有人有任何其他想法？

我的代码如下所示：

```
$('.label').mouseenter(function(){
    $('.label-info').slideDown('slow');
});

$('.label').mouseleave(function(){
    $('.label-info').slideUp('slow');
}) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:48:56.167

使用`.stop()`：

[http://api.jquery.com/stop/](http://api.jquery.com/stop/)

> 描述：停止匹配元素上当前正在运行的动画。

所以你的代码应该是这样的：

```
$('.label')
.mouseenter(function(){
    $('.label-info').stop(1,1).slideDown('slow');
})
.mouseleave(function(){
    $('.label-info').stop(1,1).slideUp('slow');
}) 
```

请注意，如果您的目标是 IE 7 及更低版本，则仅使用类选择器是不明智的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:55:23.160

我遇到过几次这个问题，并想出了各种方法来解决它。这里只有 2 种方法可以帮助您解决这个问题。

## 选项 1：过滤动画元素

使用 和 的组合，如果动画已经处于动画中间[`:animated`](http://api.jquery.com/animated-selector/)，[`.filter`](http://api.jquery.com/filter/)我们可以防止动画发生。这意味着它会一直向上滑动，然后再向下滑动。

```
$('.label').mouseenter(function()
{
    $('.label-info').filter(':animated').slideDown('slow');
}).mouseleave(function()
{
    $('.label-info').filter(':animated').slideUp('slow');
}) 
```

## 选项 2 - [hoverIntent](http://cherne.net/brian/resources/jquery.hoverIntent.html)插件

hoverIntent 是一个不错的小 jQuery 插件，它通过在触发悬停事件之前添加一个短暂的延迟来帮助防止意外地将鼠标悬停在元素之外。这是一个非常有用的插件，不仅可以帮助解决这个问题，还可以帮助您获得高度交互的 DOM 元素。

# c++ - 如何将路径映射到 UNIX - C++ 中相应的 /dev 文件？

> ID：10910906
> 
> 赞同：0
> 
> 时间：2012-06-06T08:44:12.050
> 
> 标签：c++, unix, path, device

我正在尝试获取`/dev`给定路径名的相应文件，有点像`df`命令

我目前使用这个命令，但我宁愿不使用`system()`函数或系统特定的命令。

这是当前代码：

```
const string PathStr (Path); // Path is input value

// get the /dev/* files
string Cmd ("df 2> /dev/null | grep /dev | awk '{print $1, $6}'");

FILE * Pipe = popen (Cmd.c_str(), "r");
if (!Pipe)
{
    errorLog("Cannot execute command : \"" + Cmd + '"');
    return string();
}

char Buf [BufSz];
stringstream sstr;
while (!feof(Pipe))
{
    if (fgets(Buf, BufSz, Pipe))
        sstr << Buf;
}
pclose(Pipe);

// get the actual /dev file
pair<string, string> DiskPaths;
while (!sstr.eof())
{
    string Dev, MountPoint;
    sstr >> Dev >> MountPoint;
    if (string::npos != PathStr.find(MountPoint) &&
        MountPoint.size() > DiskPaths.second.size())
        DiskPaths = make_pair(Dev, MountPoint);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T14:17:21.167

调用`system()`和解析输出可能是更可靠和更便携的方式来执行您正在尝试执行的操作，因为该`df`命令可能会使用各种与系统相关的技巧来将设备编号解析为`/dev`您必须自己实现的名称否则。

您可以轻松获取文件所在文件系统的设备编号：它是结构的`st_dev`字段`stat()`。但是如何找到`/dev`与该数字对应的文件留作该`df`命令的练习。`/dev`特别要记住，并非每个文件系统都是从`/proc`.

以下是您可以做的其他一些事情：

*   扫描每个文件以查找相同编号`/dev`的块设备`st_rdev`
*   解析挂载文件系统的表（`/etc/mtab`或者`/etc/mnttab`，它是系统相关的）寻找一个挂载前缀，看起来它可能是您感兴趣的路径名的父级。

# java - 移位运算符如何在 Java 中工作？

> ID：10910913
> 
> 赞同：154
> 
> 时间：2012-06-06T08:44:38.603
> 
> 标签：java, bit-shift

我试图了解轮班操作员，但没有得到太多。当我尝试执行以下代码时

```
System.out.println(Integer.toBinaryString(2 << 11));
System.out.println(Integer.toBinaryString(2 << 22));
System.out.println(Integer.toBinaryString(2 << 33));
System.out.println(Integer.toBinaryString(2 << 44));
System.out.println(Integer.toBinaryString(2 << 55)); 
```

我得到以下

```
1000000000000    
100000000000000000000000    
100    
10000000000000    
1000000000000000000000000 
```

有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：220
> 
> 时间：2012-06-06T08:48:30.617

```
System.out.println(Integer.toBinaryString(2 << 11)); 
```

将二进制 2( `10`) 向左移动 11 次。因此：`1000000000000`

```
System.out.println(Integer.toBinaryString(2 << 22)); 
```

将二进制 2( `10`) 向左移动 22 次。因此 ：`100000000000000000000000`

```
System.out.println(Integer.toBinaryString(2 << 33)); 
```

现在， int 是 4 个字节，因此是 32 位。所以当你移动 33 时，它相当于移动 1。因此：`100`

* * *

## 回答 #2

> 赞同：42
> 
> 时间：2012-06-06T08:46:22.480

2 来自十进制的二进制数字系统如下

```
10 
```

现在如果你这样做

```
2 << 11 
```

会是，11个零将被填充在右侧

```
1000000000000 
```

> 有符号左移运算符“<<”将位模式左移，有符号右移运算符“>>”将位模式右移。位模式由左侧操作数给出，而要移位的位置数由右侧操作数给出。无符号右移运算符“>>>”将零移到最左边的位置，而“>>”之后的最左边的位置取决于符号扩展[[..]](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html)

左移导致在术语或算术上乘以 2 (*2)

* * *

**例如**

2 in binary `10`，如果你这样做`<<1`，那将`100`是`4`

4 二进制`100`，如果你这样做 `<<1`，`1000`那就是`8`

* * *

**另见**

*   [绝对初学者指南到位移](https://stackoverflow.com/questions/141525/absolute-beginners-guide-to-bit-shifting)

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2013-04-10T23:20:31.547

右移和左移的工作方式相同，这里是右移的工作原理；右移：右移运算符 >> 将值中的所有位向右移动指定的次数。它的一般形式：

```
value >> num 
```

此处，num 指定将 value 中的值右移的位置数。也就是说，>> 将指定值中的所有位向右移动 num 指定的位数。以下代码片段将值 32 向右移动两个位置，从而将 a 设置为 8：

```
int a = 32;
a = a >> 2; // a now contains 8 
```

当一个值具有“移出”的位时，这些位将丢失。例如，下一个代码片段将值 35 向右移动两个位置，这导致两个低位丢失，导致 a 再次被设置为 8。

```
int a = 35;
a = a >> 2; // a still contains 8 
```

查看二进制中的相同操作可以更清楚地显示这是如何发生的：

```
00100011 35 >> 2
00001000 8 
```

每次将一个值向右移动时，它都会将该值除以 2，并丢弃任何余数。您可以利用这一点进行高性能整数除以 2。当然，您必须确保没有将任何位移出右端。当您右移时，右移所暴露的最高（最左）位将用最高位的先前内容填充。这称为符号扩展，用于在您向右移动负数时保留负数的符号。例如，`–8 >> 1`is `–4`，在二进制中，是

```
11111000 –8 >>1
11111100 –4 
```

有趣的是，如果将 –1 右移，结果始终保持为 –1，因为符号扩展不断在高位中引入更多的位。有时，当您将它们向右移动时，不希望对值进行符号扩展。例如，以下程序将字节值转换为其十六进制字符串表示形式。请注意，移位的值通过与 0x0f 进行与运算来屏蔽，以丢弃任何符号扩展位，以便该值可以用作十六进制字符数组的索引。

```
// Masking sign extension.
class HexByte {
  static public void main(String args[]) {
    char hex[] = {
      '0', '1', '2', '3', '4', '5', '6', '7',
      '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'
    };
  byte b = (byte) 0xf1;
 System.out.println("b = 0x" + hex[(b >> 4) & 0x0f] + hex[b & 0x0f]);
}
} 
```

这是该程序的输出：

```
b = 0xf1 
```

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2014-09-10T03:54:31.540

我相信这可能会有所帮助：

```
 System.out.println(Integer.toBinaryString(2 << 0));
    System.out.println(Integer.toBinaryString(2 << 1));
    System.out.println(Integer.toBinaryString(2 << 2));
    System.out.println(Integer.toBinaryString(2 << 3));
    System.out.println(Integer.toBinaryString(2 << 4));
    System.out.println(Integer.toBinaryString(2 << 5)); 
```

**结果**

```
 10
    100
    1000
    10000
    100000
    1000000 
```

编辑：

[必读（按位移位运算符如何工作）](http://www.xyzws.com/javafaq/how-do-the-bitwise-shift-operators-work/12)

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2015-03-10T12:22:59.093

我想应该是这样的，例如：

*   **签名左移**

[ 2 << 1 ] 是 => [10（2 的二进制）在二进制字符串的末尾加 1 个零] 因此 10 将是 100 变成 4。

有符号左移使用乘法...所以这也可以计算为 2 * (2^1) = 4。另一个例子 [ **2** << 11] = **2** *(2^11) = 4096

*   **有符号右移**

[ 4 >> 1 ] is => [100 (binary of 4) remove 1 zero at the end of the binary string] 因此 100 将是 10 变成 2。

有符号右移使用除法...所以这也可以计算为 4 / (2^1) = 2 另一个例子 [ **4096** >> 11] = **4096** / (2^11) = 2

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2012-06-06T08:47:18.477

它将通过填充那么多`0's`.

例如，

*   二进制`10` 是数字`2`左移 2`1000`是数字`8`
*   二进制`10` 是数字`2`左移 3`10000`是数字`16`

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2015-02-26T21:15:55.503

可以使用数据类型（char、int 和 long int）实现移位。浮点数和双精度数据不能移动。

```
value= value >> steps  // Right shift, signed data.
value= value << steps  // Left shift, signed data. 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2018-06-18T10:13:00.453

**带符号的左移** 逻辑上简单，如果 1<<11 它将趋于 2048 并且 2<<11 将给出 4096

在java编程中 int a = 2 << 11;

```
// it will result in 4096

2<<11 = 2*(2^11) = 4096 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2018-08-15T23:20:58.463

移位变量和赋值回变量的典型用法可以用速记运算符**<<=**、**>>=**或**>>>=**重写，在规范中也称为[复合赋值运算符](https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.26.2)。

例如，

```
i >>= 2 
```

产生与

```
i = i >> 2 
```

# javascript - 在创建时设置 Div 的高度

> ID：10910917
> 
> 赞同：0
> 
> 时间：2012-06-06T08:44:44.387
> 
> 标签：javascript, jquery, html, css

我有以下CSS类

```
.QueueHeader {
    background: none repeat scroll 0 0 #FFFFFF;
    border: 1px solid #AAAAAA;
    border-radius: 5px 5px 5px 5px;
    cursor: pointer !important;
    height: 91px !important;
    width: 53% !important;
} 
```

我在 javascript 中编写了以下代码：

```
 var divContent = document.getElementById("content");
 var divQueueNumber = document.createElement("div");

 divQueueNumber.className = "QueueHeader";
 divQueueNumber.style.height = '190px';
 divContent.appendChild(divQueueNumber); 
```

我想在创建时动态设置 div 元素的高度，我已经在 javascript 代码中设置了高度.. 但它没有效果.. 我该如何设置它？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:48:05.497

由于您正在使用 jQuery，因此您可以这样做：

```
$('<div>')
    .addClass('QueueHeader')
    .height(190); 
```

但它仍然不起作用，因为你的 CSS 类中的高度`!important`覆盖了内联样式，当 jQuery 将样式应用于元素时使用它。删除`!important`.

据我所知，风格重要性的顺序是这样的，1为最高优先级：

1.  用户样式（如浏览器设置中的链接颜色）
2.  `!important`风格
3.  内联样式
4.  样式标签和链接标签中的样式（适用特定规则）
5.  浏览器默认值

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:48:53.557

这是因为您在 CSS 中添加了 !importance 。

标记为 !important 的 CSS 规则优先于后面的规则。通常在 CSS 中，规则是从上到下工作的，因此如果您将新样式分配给样式表下方或辅助样式表中的元素，则后面的规则将优先。!important 确保此规则具有优先权。

# dynamics-ax-2009 - 通过 .NET BusinessConnector 获取新的 PurchId

> ID：10910919
> 
> 赞同：1
> 
> 时间：2012-06-06T08:44:46.370
> 
> 标签：dynamics-ax-2009, x++, axapta, business-connector

我正在尝试为以下行查找 .NET BusinessConnector 等效调用：

```
PurchId = NumberSeq::newGetNum(SalesParameters::numRefSalesId()).num(); 
```

我手动将采购订单信息输入到采购订单表中，这很好，但问题在于绑定采购表（PURCHTABLE）的是PurchID，而单个采购订单行（PURCHLINE）是PURCHID字段，保存采购订单时不会自动填充。

目前我是：

```
 ax.TTSBegin();
   axRecord.set_Field("ORDERACCOUNT", purchaseOrder.OrderAccount); 
```

（ETC）

```
 axRecord.Insert(); 
```

但是，虽然这会将记录插入数据库，但它没有 purchID，必须生成。您需要一个 purchID 来链接采购行项目。我为 X++ 找到了上面的代码（第二行），但有人知道可以使用 .NET BusinessConnector 调用吗？

任何帮助将不胜感激。

问候，史蒂夫

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T12:07:21.647

我会改变表格的`insert()`方法：`PurchTable`

```
if (!purchTable.PurchId)
    purchTable.PurchId = NumberSeq::newGetNum(purchParameters::numRefPurchId()).num(); 
```

置于`ttsbegin`.

这是为了避免复杂的 C# 代码。您可能可以单独在 C# 代码中使用`CallStaticClassMethod`and cousins 来完成，但最好将业务逻辑放在 X++ 端。

请参阅[如何：使用 .NET Business Connector 调用业务逻辑](http://msdn.microsoft.com/en-us/library/aa851743%28v=ax.50%29.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-12-29T14:26:35.363

一定要在`TTSBegin`/块内执行，否则你会得到[类似这样的](https://tech.alirazazaidi.com/system-does-not-support-setup-continuous-of-number-sequence-in-ax-2012/)`TTSCommit`错误错误信息。

```
// ax is a reference to an "Axapta" business connector object
var numRef = ax.CallStaticRecordMethod("SalesParameters", "numRefSalesId");
var numSeq = (AxaptaObject)ax.CallStaticClassMethod("NumberSeq", "newGetNum", numRef);
var purchId = numSeq.Call("num"); 
```

# javascript - 链接中不显眼的 JavaScript

> ID：10910926
> 
> 赞同：0
> 
> 时间：2012-06-06T08:45:01.857
> 
> 标签：javascript, html, hyperlink, unobtrusive-javascript, graceful-degradation

我想要一个链接来执行 JavaScript 函数（如果 JavaScript 可用）或在`href`属性中输入 URL（如果不是）。

```
<a href="http://www.example.com" onclick="example(); return false;"> 
```

在这个例子中，如果 JavaScript 可用，我想执行`example()`而不输入链接，如果 JavaScript**不可**`http://www.example.com`用，我想去。

虽然这适用于我尝试过的几乎所有浏览器，但在 IE 7 中，无论 JavaScript 是否处于活动状态，它都只是跟随链接。我能做些什么来防止这种情况发生？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:52:06.617

您必须在事件对象上使用[preventDefault()](https://developer.mozilla.org/en/DOM/event.preventDefault)来阻止默认操作（即导航到链接的 URL）。

因为浏览器中的实现略有不同，你应该编写一个单独的函数来执行此操作并在事件处理程序中调用它：

```
function preventDefault(event) {
        if (event.preventDefault) {
            event.preventDefault();
        } else {
            event.returnValue = false;
        }
} 
```

此外，请务必在您的事件处理程序中**返回 false 。**

如果您正在使用任何 JavaScript 库，那么这个功能很可能已经存在。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:53:11.440

将您的 javascript 与 HTML 分开 :)

```
<a href="http://www.example.com" id='uniq-link'> 
```

```
$(function () {
    $("#uniq-link").on("click", example);
}); 
```

如果 Javascript 不可用 - 一切都会好的 :)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:49:39.677

试试这个：

```
<a href="http://www.example.com" onclick="example(); event.returnValue=false; return false;"> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T08:50:26.923

这*可能*是您正在寻找的

event.returnValue = 假；

从这里检索： [event.preventDefault() 函数在 IE 中不起作用](https://stackoverflow.com/questions/1000597/event-preventdefault-function-not-working-in-ie-any-help)

# unix - 如何通过 UNIX 命令获取操作系统是 32 位还是 64 位？

> ID：10910927
> 
> 赞同：1
> 
> 时间：2012-06-06T08:45:02.523
> 
> 标签：unix, operating-system, command, bit

您将如何了解操作系统的一些细节？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-08T18:52:59.010

在 linux 中，这样一个通用问题的答案就是使用

```
uname -m 
```

甚至：

```
getconf LONG_BIT 
```

在 C 中，您可以使用 uname(2) 系统调用。

在 Windows 中，您可以使用：

```
systeminfo | find /I "System type" 
```

甚至检查环境：

```
set | find "ProgramFiles(x86)" 
```

（或在 C 中使用 getenv() ）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-11T04:47:34.730

原始问题：

> ## 如何用 C 或其他方式知道操作系统的位？

正确的方法是使用一些系统 API 或命令来获取架构。在 C 中比较`sizeof`不会给您系统指针大小，而是**目标体系结构的指针大小**。这是因为大多数架构/操作系统都是向后兼容的，因此它们可以毫无问题地运行以前的 16 位或 32 位程序。即使在 64 位操作系统上，32 位程序的指针仍然是 32 位长。甚至在 64 位架构上，一些操作系统可能仍然使用 32 位指针，例如[x32-abi](https://sites.google.com/site/x32abi/)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-06T08:50:30.910

如果你使用 c，你可以获得 sizeof(void*) 或 sizeof(long) .if =8 then 64bits else 32bits.It's the same to all arch.

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-07T17:44:33.557

我很抱歉我的粗心和错误。它仅适用于 linux。在 Linux Device Driver 3rd,11.1 部分：使用标准 C 类型。它说

> 该程序可用于显示长整数和指针在 64 位平台上具有不同的大小，如在不同的 Linux 计算机上运行该程序所示：
> 
> arch 大小：char short int long ptr long-long u8 u16 u32 u64
> 
> i386 1 2 4 4 4 8 1 2 4 8
> 
> 阿尔法 1 2 4 8 8 8 1 2 4 8
> 
> armv4l 1 2 4 4 4 8 1 2 4 8
> 
> ia64 1 2 4 8 8 8 1 2 4 8
> 
> m68k 1 2 4 4 4 8 1 2 4 8
> 
> 米普 1 2 4 4 4 8 1 2 4 8
> 
> 1 2 4 4 4 8 1 2 4 8
> 
> 火花 1 2 4 4 4 8 1 2 4 8
> 
> sparc64 1 2 4 4 4 8 1 2 4 8
> 
> x86_64 1 2 4 8 8 8 1 2 4 8

还有一些例外。例如：

> 有趣的是，SPARC 64 体系结构在 32 位用户空间中运行，因此指针在那里是 32 位宽，即使它们在内核空间中是 64 位宽。这可以通过加载 kdatasize 模块（在示例文件的 misc-modules 目录中可用）来验证。该模块在加载时使用 printk 报告大小信息并返回错误（因此无需卸载它）：

@user1437033 我猜 Windows 与 gcc 标准不兼容。所以你可能会从 Windows 的程序员那里得到答案。@Paul R 我们应该将其视为常规代码，对吗？如果你使用交叉编译工具，比如arm（它只有32位），那么你也无法得到答案。

Ps：我不支持你使用Dev c++编译器，很多场景很奇怪，不标准。代码块或vs 2010可能是一个不错的选择。我希望这可以帮助你。

# css - 将我的 CSS 文件链接到我的 Django 项目

> ID：10910928
> 
> 赞同：0
> 
> 时间：2012-06-06T08:45:08.883
> 
> 标签：css, django

我正在尝试将我的 css 文件链接到我的 Django 项目。不确定错误在哪里。

这是我的设置文件的样子：

```
STATICFILES_FINDERS = (
    '/Users/IMAC/work3/Blog/Blog/polls/static',
    'django.contrib.staticfiles.finders.FileSystemFinder',
    'django.contrib.staticfiles.finders.AppDirectoriesFinder',
#    'django.contrib.staticfiles.finders.DefaultStorageFinder',
)
STATIC_ROOT = ''
STATIC_URL = '/Users/IMAC/work3/Blog/Blog/polls/static' 
```

这是我的 html 文件的样子：

```
<meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="{{ STATIC_URL }}gameserver.css"> 
```

这是我的css文件的样子：

```
#tuna{color:red;} 
body {background-color:blue;} 
```

我必须改变什么吗？为什么可能是我的错误？不知道我在哪里犯了我的错误......

我的静态文件夹应该在哪里？在应用程序内还是在与应用程序相同的文件夹内？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:13:08.257

`'/Users/IMAC/work3/Blog/Blog/polls/static'`从中删除`STATICFILES_FINDERS = (`

你的 STATIC_ROOT 应该是

```
STATIC_ROOT = '/Users/IMAC/work3/Blog/Blog/polls/static/' 
```

和

```
STATIC_URL  = '/static/' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T09:14:13.340

您误解了各种设置的作用：

*   [`STATIC_FILES_FINDERS`](https://docs.djangoproject.com/en/dev/ref/contrib/staticfiles/#staticfiles-finders)是 Django 用于搜索静态文件的 Python 类的列表，它不是存储静态文件的位置的列表。
*   [`STATIC_ROOT`](https://docs.djangoproject.com/en/dev/ref/settings/#std%3asetting-STATIC_ROOT)是存储静态文件的目录。
*   [`STATIC_URL`](https://docs.djangoproject.com/en/dev/ref/settings/#std%3asetting-STATIC_URL)是应该指向静态文件的 URL。

在你的情况下，你想要这样的东西：

```
STATICFILES_FINDERS = (
    'django.contrib.staticfiles.finders.FileSystemFinder',
    'django.contrib.staticfiles.finders.AppDirectoriesFinder',
#    'django.contrib.staticfiles.finders.DefaultStorageFinder',
)
STATIC_ROOT = '/Users/IMAC/work3/Blog/Blog/polls/static' 
STATIC_URL = '/static/' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T10:53:52.910

我的错误是我忘记了 context_instance=RequestContext(request)。

`If {{ STATIC_URL }} isn't working in your template, you're probably not using RequestContext when rendering the template`

# asp.net-mvc - 在整个 ASP.NET MVC 视图中保留 ID

> ID：10910929
> 
> 赞同：0
> 
> 时间：2012-06-06T08:45:09.087
> 
> 标签：asp.net-mvc, jquery, razor, asp.net-ajax, partial-views

基本上我有一个图像上传控制器，我在页面中插入如下： -

```
 <div id='imageList'>
    <h2>Upload Image(s)</h2>
    @{
        if (Model != null)
        {
            Html.RenderPartial("~/Views/File/ImageUpload.cshtml", new MvcCommons.ViewModels.ImageModel(Model.Project.ProjectID));
        }  
        else
        {
            Html.RenderPartial("~/Views/File/ImageUpload.cshtml", new MvcCommons.ViewModels.ImageModel(0));
        }
    }
</div> 
```

所以我将一个 ID 传递给 ImageUpload，在本例中为 ProjectID，以便我可以将它包含在我的插入中。

现在这是一段代码正在填充 ImageModel(id)，在我的例子中是它的 ProjectID：-

```
 public ImageModel(int projectId)
    {
        if (projectId > 0)
        {
            ProjectID = projectId;
            var imageList = unitOfWork.ImageRepository.Get(d => d.ItemID == projectId && d.PageID == 2);
            this.AddRange(imageList);
        }
    } 
```

这反过来又导致 ImageUploadView.cshtml ：-

```
<table>
@if (Model != null)
{
  foreach (var item in Model)
  {
     <tr>
        <td>
          <img src= "@Url.Content("/Uploads/" + item.FileName)" />
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Description)
        </td>
    </tr>    
 }
}
</table>

@using (Html.BeginForm("Save", "File", new { ProjectID = Model.ProjectID }, 
       FormMethod.Post, new { enctype = "multipart/form-data" }))

{
    <input type="file" name="file" />
    <input type="submit" value="submit" /> <br />
    <input type="text" name="description" /> 
} 
```

到目前为止一切顺利，但是我的问题是第一次

```
new { ProjectID = Model.ProjectID } 
```

正确填充了 ProjectID，但是，当我上传图像时，ProjectID 丢失并变为零。有没有办法第二次保留 ProjectID？

感谢您的帮助和时间。

****** *** ** *** ** ***** UPDATE ***** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ***** 上传后，FileController 内部的 Action 如下：-**

 **```
 public ActionResult Save(int ProjectID)
    {
        foreach (string name in Request.Files)
        {
            var file = Request.Files[name];

            string fileName = System.IO.Path.GetFileName(file.FileName);
            Image image = new Image(fileName, Request["description"]);

            ImageModel model = new ImageModel();
            model.Populate();
            model.Add(image, file);
        }
        return RedirectToAction("ImageUpload");
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T10:01:31.063

您可以将 .`projectId`作为路由值从`RedirectToAction`. 您应该更改`ImageUpload`操作以接受`projectId`.

```
public ActionResult Save(int projectId)
{
  ....
  return RedirectToAction("ImageUpload", new { projectId = projectId });
}

public ActionResult ImageUpload(int projectId)
{
   var model = .. get the model from db based on projectId
   return View("view name", model);   
} 
```**

# c# - 如何在实体框架中进行正确的左连接

> ID：10910931
> 
> 赞同：2
> 
> 时间：2012-06-06T08:45:13.717
> 
> 标签：c#, entity-framework

这应该是一个非常容易解决的问题，但由于某种原因，Entity Framework 让我很难做到。我只需要做一个简单的左连接...

我有两张桌子。例如，一个用户表：

```
user_id | name | fk_group_id 
```

和一个小组表

```
group_id | groupname 
```

在原始 SQL 中：

```
SELECT * FROM users AS u
LEFT JOIN groups AS g
ON u.fk_group_id = g.group_id
WHERE groupname = 'my group' 
```

SQL超级简单。但是当我寻找关于如何做到这一点的答案是实体框架时，我脑海中突然闪过一件事...... WTF......！？！？超级大的构造，奇怪的格式“查询”被执行，我真的很困惑我需要什么，什么不需要......

所以我希望有人可以帮助我解决我的具体问题。如何在（LINQ？）实体框架中重写上述 SQL 查询。

目前我有这个：

```
var bla = (from m in myEnt.Users
          // My join attempt..
          join mp in myEnt.Groups on m equals mp.group_id into n
          where n.group_name == "something"
          select m); 
```

即使这行得通，我真的不明白这应该如何让我的生活更轻松.. Oo

无论如何，我真的希望有人可以帮助我:-)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:53:23.890

为什么需要加入？用户和组之间不是已经存在关系了吗？

```
var bla = from m in myEnt.Users
           where m.Group.Groupname = "something"
           select m; 
```

这应该没问题还是我错了？

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-06T08:53:26.853

嗯，您不必使用任何 ORM 显式执行此操作。这就是问题所在，这就是映射的用途。

你可以去：

```
var blah = myEnt.Users.Where(user => user.Group.Name == "something"); 
```

或者在替代语法中

```
from usr in myEnt.Users
where usr.Group.Name == "something"
select usr` 
```

如果映射到对象后是多对一的关系，那么每个`User`实体都会有他的导航属性 `Group`，每个实体都会`Group`有一个`User`集合。然后你只需要适当地过滤结果。

# bash - 如何打印输出命令中的行数

> ID：10910932
> 
> 赞同：1
> 
> 时间：2012-06-06T08:45:19.623
> 
> 标签：bash

例如：

```
cat /etc/passwd 
```

计算和显示命令输出的行数的最简单方法是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-06T10:20:28.917

`wc`是计算字符、单词、行等的 unix 实用程序。尝试`man wc`了解更多有关它的信息。该`-l`选项使其仅打印行数（而不是字符和其他内容）。

因此，`wc -l <filename>`将打印文件中的行数`<filename>`。

您询问了如何计算一般命令行程序输出的行数。为此，您可以在 unix 中使用管道。因此，您可以将任何命令的输出通过管道传输到`wc -l`. 在您的示例中，`cat /etc/password`是您要计算的命令行程序。为此，您应该这样做：

```
cat /etc/password | wc -l 
```

# html - 用 html 内容解析 Textarea

> ID：10910933
> 
> 赞同：0
> 
> 时间：2012-06-06T08:45:20.690
> 
> 标签：html, textarea, jsoup

我使用 jsoup1.6.2.jar。考虑以下代码。

```
String data = "<textarea><table><tr><td>Look at the following elements</td></tr></table></textarea>"; 
Document doc = Jsoup.parse(data); 
System.out.println(doc); 
```

**输出：**

```
<html>  <head></head>  <body>   <textarea>&lt;table&gt;&lt;tr&gt;&lt;td&gt;Look at the following elements&lt;/td&lt;/tr&lt;/table</textarea>  </body> </html> 
```

为什么它缺少`&gt`自闭标签？到目前为止，我只在 textarea 上遇到过这个问题。谁能帮我这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-08T16:18:36.370

您不能将表格放在文本区域内。有你的错误

# android - 使用意图链接活动

> ID：10910934
> 
> 赞同：0
> 
> 时间：2012-06-06T08:45:28.423
> 
> 标签：android

我想通过单击一个按钮来链接我的两个活动，我编写了以下代码

```
public class IHBCAPTUREActivity extends Activity implements OnClickListener {
    /** Called when the activity is first created. */
    ImageView iv;
    TextView tx;
    Button b1;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        iv=(ImageView)findViewById(R.id.imageView1);
        tx=(TextView)findViewById(R.id.textView1);
       b1 = (Button) findViewById(R.id.button1);
       b1.setOnClickListener(this);
    }

    @Override
    public void onClick(View v) {

        Intent calIntent;
        **calIntent = new Intent(IHBCAPTUREActivity.this, LoginActivity.class);**
        startActivity(calIntent);           
    }
} 
```

此行中出现错误

```
calIntent = new Intent(IHBCAPTUREActivity.this, LoginActivity.class); 
```

为此`LoginActivity.class`_

`LoginActivity cannot be resolved to a type`. 如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:48:47.180

检查您是否已在清单文件中将 LoginActivity 声明为：

```
 <activity
            android:name="your.package-name.LoginActivity" >
        </activity> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:59:10.490

您的代码没有任何问题。

它知道随机发生的问题。

解决方案是在 project->properties->android 中将目标设置为其他 API 级别，然后将其设置回来。然后清理你的项目一次。

我认为这会刷新 .classpath 或其他一些文件，不确定，但它可以工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T09:01:32.863

这是如何将一个活动加载到另一个活动的简单代码，

我创建了两个这样的活动

## 第一活动.java

```
package com.rdc;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;

public class FirstActivity extends Activity implements OnClickListener {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.first);

        Button btnload = (Button) findViewById(R.id.btn);
        btnload.setOnClickListener(this);
    }

    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub
        Intent i = new Intent(this, SecondActivity.class);
        startActivity(i);
    }
} 
```

* * *

## SecondActivity.java

```
package com.rdc;

import android.app.Activity;
import android.os.Bundle;

public class SecondActivity extends Activity {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.second);

    }
} 
```

* * *

我的清单文件是

## AndroidManifest.xml

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
      package="com.rdc"
      android:versionCode="1"
      android:versionName="1.0">
    <uses-sdk android:minSdkVersion="8" />

    <application android:icon="@drawable/icon" android:label="@string/app_name">
        <activity android:name=".FirstActivity"
                  android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
         <activity android:name=".SecondActivity"
                  android:label="@string/app_name">
            <intent-filter>                
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

    </application>
</manifest> 
```

* * *

尝试在您的应用中实现这一点，如果仍有任何疑问，请告诉我。

# groovy - 在迭代期间对结果集进行排序

> ID：10910939
> 
> 赞同：0
> 
> 时间：2012-06-06T08:45:45.340
> 
> 标签：groovy

给定的是一个包含以下内容的 xml 文件

```
<ROOT>
  <Group Name="Database"> 
     <User Name="Thorsten"/>
     <User Name="Karl"/>
     <User Name="Beate"/>
     <User Name="Heinz"/>
     <User Name="Andreas"/>
  </Group>
</ROOT> 
```

现在我可以用像这样的 groovy 脚本来阅读它

```
def out = "";
def result = new XmlSlurper().parse(new File("D:\\User.xml"));
result.Group.User.each {
out += it.@Name.text()+ '\n';
}
println out; 
```

输出按照它们在 XML 文件中出现的顺序排列

```
Thorsten
Karl
Beate
Heinz
Andreas 
```

是否可以在迭代期间按字母顺序对结果集进行排序？

乔治

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T09:55:52.973

*在*迭代期间？当然不是。

但如果你使用`XmlParser`，你可以这样做：

```
def doc = new XmlParser().parse(new File("users.xml"));
foo = doc.Group.User.sort { it.@Name }.collect { it.@Name }.join("\n")
println foo 
```

哪个输出：

```
Andreas
Beate
Heinz
Karl
Thorsten 
```

# android - Android 布局在带有其他按钮的页面中查看可滚动文本

> ID：10910940
> 
> 赞同：2
> 
> 时间：2012-06-06T08:45:46.997
> 
> 标签：android, android-layout

我尝试制作一个带有可滚动文本的页面。我正在使用相对布局、线性布局和滚动。但不知何故，这些文本不是从一开始就画出来的。

前 3 行未绘制（Title1、Title2、Title3），因为它们位于滚动区域之外。但为什么？滚动在指定区域中的 2 个按钮可以正常工作/显示，如下所示： 我在这里设置 android:layout_below="@id/button_s" android:layout_above="@id/button_c" 滚动的边距，但仍然显示文本边缘之外。我做错了什么？为什么我在其中绘制文本的线性布局 lin2 从屏幕顶部开始？我为它设置了 android:layout_below。

这是我的代码：

主.xml：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/relative_layout"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">

<TextView
    android:id="@+id/tv"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:text="@string/my_app" />

<Button
    android:id="@+id/button_s"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_below="@id/tv"
    android:text="@string/search" />   

<Button
    android:id="@+id/button_c"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_alignParentBottom="true"
    android:text="@string/config" />

<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" 
    android:scrollbars="vertical"
    android:layout_below="@id/button_s"
    android:layout_above="@id/button_c" android:id="@+id/ScrollView">

    <LinearLayout
        android:layout_width="fill_parent"                      
        android:orientation="vertical"
        android:id="@+id/lin2" 
        android:layout_height="wrap_content"  
        android:layout_below="@id/button_s"
        android:layout_above="@id/button_c"
        android:layout_gravity="center_vertical|center_horizontal">

    </LinearLayout>
</ScrollView>

</RelativeLayout> 
```

我的java文件：

```
String[] strTitles  ={"Title 1: test test test test test test test test",
                       "Title 2:  test test test test test",
                       "Title 3:  test test test test test",
                       "Title 4:  test test test test",
                       "Title 5:  test test test",
                       "Title 6:  test test test test",
                       "Title 7:  test test test test",
                       "Title 8:  test test test test test",
                       "Title 9:  test test test test test",
                       "Title 9:  test test test test test",
                       "Title 10:  test test test test",
                       "Title 11:  test test test test test",
                       "Title 12:  test test test test test",
                       "Title 13:  test test test test test",
                       "Title 14:  test test "};
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    LinearLayout ll = (LinearLayout)findViewById(R.id.lin2);

    for (int i = 0 ; i < strTitles.length * 2 ; i++)
    {
        String strToDisplay = " ";
        if(i%2 == 1)
            strToDisplay = " ";
        else
        {
            strToDisplay = strTitles[i/2];
        }

        TextView tv = new TextView(this);
        tv.setText(strToDisplay);
        ll.addView(tv);
        tv.setGravity(Gravity.CENTER_VERTICAL | Gravity.CENTER_HORIZONTAL);

    }   

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:24:28.657

仅将您的更改`layout_gravity`为*lin2*：`center_horizontal` *`LinearLayout`*

 *```
android:layout_gravity="center_horizontal" 
```

我不明白为什么`center_vertical`当父`ScrollView`高度设置为`wrap_content`.*

# iphone - 如何将类对象值分配给可变数组？

> ID：10910942
> 
> 赞同：-1
> 
> 时间：2012-06-06T08:45:49.803
> 
> 标签：iphone, objective-c

我正在使用类对象来存储 xml 解析数据。但是现在我需要一个可变数组，并且我想将类对象值存储在新的可变数组中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:49:52.150

用这个

```
[yourArray addObject:obj]; 
```

# c# - 关于 WP7 Phonegap 中的鼠标移动事件

> ID：10910943
> 
> 赞同：1
> 
> 时间：2012-06-06T08:45:53.430
> 
> 标签：c#, javascript, html, windows-phone-7, cordova

我正在尝试使用 Phonegap for Windows Phone 7.1 创建一个应用程序。IE9 Mobile（WP7.1 中的浏览器）不支持触摸事件。鼠标事件是我们必须使用的。在我必须单击按钮或链接之前，这很好。但是，如果我必须为 Phonegap 使用一些插件来滚动或用于滑块或拖放元素，它就不起作用。我发现mousedown 和mousemove 事件同时调用。

我已经下载了 thumbs.js [https://issues.apache.org/jira/browse/CB-112](https://issues.apache.org/jira/browse/CB-112)

但这也没有帮助。

我尝试过这样的事情：

```
function onBodyLoad() {
     document.getElementById('divTest').attachEvent('onmousemove', mouseEventmove);            
}

function mouseEventmove(e) {
     document.getElementById('divTest').innerHTML = e.clientX + " & " + e.clientY;
} 
```

但是 mouseEventmove() 是在 mousedown 和 mouseup 组合之后调用的，即单击。添加 thumbs.js 并将 onBodyLoad() 替换为

```
function onBodyLoad() {
         document.getElementById('divTest').attachEvent('ontouchmove', mouseEventmove);            
    } 
```

现在它支持触摸事件，但在单击时再次调用 mouseEventmove()。

为什么会这样？我应该怎么做才能让 WP7.1 支持触摸事件或至少鼠标移动事件。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:37:46.627

Jesse MacFayden 是 PhoneGap 团队的 Adob​​e 开发人员，他创建了一个小实用程序类，可用于在 WP7 上模拟触摸事件：

[https://github.com/apache/incubator-cordova-wp7/blob/master/templates/standalone/cordovalib/BrowserMouseHelper.cs](https://github.com/apache/incubator-cordova-wp7/blob/master/templates/standalone/cordovalib/BrowserMouseHelper.cs)

你可以在这里看到它的实际效果：

[http://phonegap.com/2012/05/22/windows-phone-apache-cordovaphonegap-hackathon/](http://phonegap.com/2012/05/22/windows-phone-apache-cordovaphonegap-hackathon/)

# javascript - 以javascript模块化模式将参数传递给父类

> ID：10910945
> 
> 赞同：0
> 
> 时间：2012-06-06T08:45:55.393
> 
> 标签：javascript, javascript-objects

我做了两个类，即人-父类和学生类-子类。我正在尝试实现继承。我也在尝试以模块化模式实现它。但它没有得到正确的。对于代码块，请检查下面。

**人.js**

```
var Person = function() {

    var details, constructor, getDetailsByAttribute, setDetailsByAttribute, setDetails, getDetails, clearDetails;

    clearDetails = function()   {
        details = {
            uid : '',
            name : '',
            email : ''
        };
    };

    getDetailsByAttribute = function(attr)  {
        return details[attr];
    };

    setDetailsByAttribute = function(key, value)    {
        if(details.hasOwnProperty(key)) {
            details[key] = value;
        }else   {
            console.log('invalid key');
        }
    };

    setDetails = function(param)    {
        clearDetails();
        for(var attr in param)  {
            if(details.hasOwnProperty(attr))    {
                details[attr] = param[attr];
            }
        }
    };

    getDetails = function() {
        return details;
    };

    /**
     * During object creation;
     */
    if(arguments.length >= 1)   {
        //clearDetails();
        setDetails(arguments[0]);
    }

    return {
        getDetailsByAttribute : function(attr)  {
            return getDetailsByAttribute(attr);
        },

        setDetailsByAttribute : function(key, value)    {
            setDetailsByAttribute(key, value);
        },

        setDetails : function(params)   {
            setDetails(params);
        },

        getDetails : function() {
            return getDetails();
        },

        clearDetails : function()   {
            clearDetails();
        }
    };
}; 
```

**学生.js**

```
var Student = function()    {
    Person.call(this,arguments);
};

Student.prototype = new Person(); 
```

**索引.html**

```
<html>
    <head>
    </head>
    <body>
        <script type="text/javascript" src="modules/Person.js"></script>
        <script type="text/javascript" src="modules/Student.js"></script>
        <script type="text/javascript">
            var person1, person2, person3, student1;

            person1 = new Person({
                uid : 5225,
                name : 'jaison',
                email : 'jaison@jaison.com'
            });

            person2 = new Person({
                uid : 5222,
                name : 'jatin',
                email : 'jatin@jatin.com'
            });

            person3 = new Person();
            person3.setDetails({
                uid : 5221,
                name : 'sarath',
                email : 'sarath@sarath.com'
            });
            person3.setDetailsByAttribute('name', 'sarath');

            student1 = new Student({
                uid : 5221,
                name : 'sachin',
                email : 'sachin@sachin.com'
            });

            console.log('person 1 : ',person1.getDetails());
            console.log('person 2 : ',person2.getDetails());
            console.log('person 3 : ',person3.getDetails());
            console.log('student 1 : ',student1.getDetails());
            //console.log(student1.get);

        </script>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:58:25.553

尝试这个：

```
var Student = function()    {
    return Person.apply(this, arguments);
}; 
```

没有

```
Student.prototype = new Person(); 
```

**更新：**我只是意识到你可以使用这个：

```
var Student = function()    {
    this.setDetails.apply(this, arguments);
};
Student.prototype = new Person(); 
```

所以闭包将在原型内部，并且 setDetails 将访问它。

在您执行此操作时的代码中：

```
Student.prototype = new Person(); 
```

您创建一个闭包，当您调用它时

```
var Student = function()    {
    Person.call(this,arguments);
}; 
```

你创建了另一个闭包（它不应该被调用而是应用，但即使它也不起作用）。您将构造函数作为函数执行，并且（如果将应用它）将参数应用到不同的闭包，并且所有那些由 Person 返回的具有闭包内详细信息的函数都将被丢弃。Student 的方法将取自原型而不是构造函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:57:50.663

问题是`details`原型中的局部变量和`Person.apply`调用中的局部变量。这些是不同的。我的建议是附加`details`到对象上，即

```
var Person = function() {
    var self = this;
    self.details = null;

    // the other code goes here;

    clearDetails = function()   {
        self.details = {
            uid : '',
            name : '',
            email : ''
        };
    };

    setDetails = function(param)    {
        clearDetails();
        for(var attr in param)  {
            if(self.details.hasOwnProperty(attr))    {
                self.details[attr] = param[attr];
            }
        }
    };

    // and the other code here.
} 
```

基本上改变`details`到`self.details`任何地方。我没有测试它，但它应该可以工作。

# asp.net - Firefox 不接受 ASP.NET 身份验证 cookie

> ID：10910951
> 
> 赞同：3
> 
> 时间：2012-06-06T08:46:32.377
> 
> 标签：asp.net, vb.net, firefox, cookies, form-authentication

将我们的应用程序部署到 QA 环境时，我遇到了 Firefox 浏览器的这个问题。我们有一个带有表单身份验证的 ASP.NET 4 应用程序。在我们的应用程序中，我们有 2 个 cookie：1 个用于身份验证票证，另一个用于其他信息。问题是：每次我使用 Firefox 登录系统时，我都会跳回登录页面。当我使用 Fiddle 调查该问题时，我发现由于某种原因 Firefox 不“接受”我们的 cookie：对登录页面的第一个请求，我们的服务器在标题中返回 cookie 就好了：

```
Set-Cookie: .ASPXAUTH_Imp=...; expires=Thu, 07-Jun-2012 06:37:24 GMT; path=/
Set-Cookie: .ASPXAUTH=...; expires=Wed, 06-Jun-2012 09:57:24 GMT; path=/ 
```

但是，在下一个响应中，我们的 cookie 不会出现在请求标头中。此问题不会在任何其他浏览器（IE、Chrome 等）中发生。在其他浏览器中，cookie 被接受并在下一个请求中传递。

当我查看存储在 Firefox 中的 cookie 时，我可以看到我的网站，但它只有 ASP.NET_sessionID cookie。没有其他 2 个 cookie 的踪迹。更有趣的一点是，此问题仅发生在 QA 环境中（LAN IP 为 10.16.xx，我尝试使用问题仍然存在的机器名称）。当我使用 localhost 在 Visual Studio 中进行调试时，它工作得非常好。这是我向客户端发送 Cookie 的代码：

```
' ASP.NET authentication cookie '
Dim cookieExpiration As DateTime = DateTime.Now.AddMinutes(Constants.WebSettingsConst.TimeOut)
Dim authenticationTicket = New FormsAuthenticationTicket(2, CurrentContext.UserContextID(), DateTime.Now, cookieExpiration, True, String.Empty, FormsAuthentication.FormsCookiePath)
Dim encryptedTicket As String = FormsAuthentication.Encrypt(authenticationTicket)
Dim authCookie = New HttpCookie(FormsAuthentication.FormsCookieName, encryptedTicket)
authCookie.Expires = authenticationTicket.Expiration
authCookie.Path = FormsAuthentication.FormsCookiePath
'HttpContext.Current.Response.Cookies.Remove(FormsAuthentication.FormsCookieName)'
HttpContext.Current.Response.Cookies.Add(authCookie) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-30T11:03:27.403

这听起来很明显，但是您是否检查过 FireFox 中的 cookie 设置。如果您进入隐私并选择使用自定义历史记录，您可以指定不接受来自第三方或仅来自特定站点的 cookie。

我和你做的完全一样，没有问题。

```
Dim authTicket As New FormsAuthenticationTicket(1, userIdentity, Date.Now, _     
     Date.Now.AddMinutes(15), False, userData)
Dim encTicket As String = FormsAuthentication.Encrypt(authTicket)
Dim faCookie As New HttpCookie(FormsAuthentication.FormsCookieName, encTicket)
Response.Cookies.Add(faCookie) 
```

# ruby-on-rails - 从 before_filters 调用模态

> ID：10910954
> 
> 赞同：1
> 
> 时间：2012-06-06T08:46:52.720
> 
> 标签：ruby-on-rails, devise, twitter-bootstrap, modal-dialog

我已经问过类似的问题，但现在更具体了。

我正在使用 Twitter Bootstrap 模式登录，我想在保存或为用户创建过滤器之前编写（我不知道什么更好），它将像这样工作：

```
def before_save
  if devise_error_messages
    //stay in this modal and show errors or notice
  else
   //call another modal with congratulations text
  end
end 
```

我如何从模型中调用`devise_error_messages`方法或者我应该如何做到这一点？

那么，如何从过滤器中调用 js 呢？

# jquery - 禁用下拉菜单并仍然提交值？

> ID：10910957
> 
> 赞同：4
> 
> 时间：2012-06-06T08:47:12.320
> 
> 标签：jquery

我有一个下拉框，我想在选择项目后锁定它。不幸的是，在提交表单时，使用“禁用”会阻止该字段被提交。有没有解决的办法？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-06T08:49:56.860

您可以在提交表单之前重新启用下拉列表：

```
$("form").submit(function() {
    $("#yourDropdown").prop("disabled", false);
}); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-06T08:59:23.173

取一个隐藏字段：

```
<input id="hiddenSelect" type="hidden" name="same_as_select_box"> 
```

然后在选择更改事件中将值设置为该隐藏字段，如下所示：

```
$('select').change(function() {
  $('#hiddenSelect').val(this).val();
  $(this).prop('disabled', true);
}); 
```

现在您可以使用您选择的值提交表单，而无需在提交时进一步启用它。

# drupal - 带有 ubercart 的 drupal 6 或 7

> ID：10910964
> 
> 赞同：2
> 
> 时间：2012-06-06T08:47:44.647
> 
> 标签：drupal, e-commerce, ubercart

大约一年没有做过 drupal 网站，对 6 和 7 很满意。我也需要网站中的电子商务部分。你能建议吗。

*   D7 适合现场制作网站吗？
*   ubercart 在 v6 或 v7 中更稳定吗？任何潜在问题
*   另一种基于drupal的电子商务解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T10:13:38.620

我有几个使用 Drupal 7 运行 Ubercart 的稳定站点。使用 drupal 6 的 ubercart 中的设置更直接一些，但是一旦你习惯了 7，就不太难弄清楚了。

Drupal 7 Ubercart 现在与 Drupal 6 可以提供的相当。唯一真正仍然存在问题的是多种产品的进口。没有任何模块或组合能做到这一点。很多以前由模块控制的事情都可以通过动作来处理。

我没有使用过商业，但我的理解是它的工作方式更像 magento。如果您有 3 种尺寸的白色 T 恤，那么您有 3 件商品和 3 个 skus。在 D7 中，您还可以拥有 3 个 sku，但它们仍包含在同一产品中。在商业中，这 3 个 sku 需要组合成一个产品。commerce 听起来，一旦它更稳定一点，它对于非常大的商店来说会更有希望。Ubercart 将继续使用不到 300 种左右的产品，除非为通过 excel 导入创建了一个很棒的模块。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T13:21:57.307

Drupal 7 核心优于 Drupal 6，但很多模块与 Drupal 7 不兼容。如果您只使用 ubercart 模块，则没有区别。

Drupal 6 有很多稳定的模块，而 Drupal 7 没有。

关于替代电子商务：Ubercart 是最好的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T13:06:44.670

我的经验是D7 + commerce，只要你不想在网店处理订单，就可以使用übercart。
至少，我无法让它工作，尽管它应该是可能的。
如果有人知道如何实现该功能，并添加跟踪号等，请告诉我。

D7 的 übercart 很好，但它缺少提供灵活折扣的模块。

由于上述两个问题，当我制作商店时，我使用 übercart 在 D6 中制作它们。
这是我所知道的唯一拥有这一切的解决方案。
如果我弄错了，请告诉我，以便我将商店迁移到 D7 :)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T11:45:45.140

*   如今，Drupal 7 是您最好的选择。现在大部分的发展已经转移到它上面。如果你正在做任何定制开发，有很多东西需要学习，但这是值得的。
*   我一直在听到有关 drupalcommerce 的好消息，请好好看看。

# android - 即使我使用“dp”，两台设备上的尺寸也不同

> ID：10910966
> 
> 赞同：6
> 
> 时间：2012-06-06T08:47:48.703
> 
> 标签：android, text, size, screen, dimension

我有 2 片：

1 三星安卓 3.0

```
 DisplayMetrics {density=1.0, width=600, height=976, 
scaledDensity=1.0, xdpi=161.55031, ydpi=155.51021} 
```

1 低成本设备，Android 2.3.3

```
 DisplayMetrics {density=1.0, width=480, height=800, 
scaledDensity=1.0, xdpi=160, ydpi=160.42105} 
```

如果我为每个屏幕尺寸使用不同的布局，那么两个设备都说它们是 large-long 和 mdpi，所以我无法通过使用布局文件夹名称来区分它们......问题是：

我使用带有 textSize="20dp" 的 TextView

在第一个设备中，文本宽度是屏幕的一半，在第二个设备中更大（屏幕宽度的 80%）。为什么？如果我使用 dp（而不是 px），我希望两个设备都以相同的方式显示文本。我也尝试过使用 sp 但没有任何变化......

（我以 TextView 为例，布局中的所有元素都有同样的问题：按钮大小，...）

我会尝试使用布局文件夹名称，例如“layout-w600dp”或 Android 3.2 中引入的其他名称，但事实并非如此。

我知道我可以通过 onLayout() 中的代码更改元素尺寸，但我不想这样做......

有什么建议吗？

**更新**

我使用主题解决了我的布局问题：[在运行时激活特定的dimens.xml](https://stackoverflow.com/questions/11312398/android-activate-a-specific-dimens-xml-at-runtime/11342177#11342177)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T09:39:34.147

[Dimention 上](http://developer.android.com/guide/topics/resources/more-resources.html#Dimension)的android 文档这样说

> dp与像素的比例会随着屏幕密度而变化，但不一定成正比

所以你看到的完全没问题

您可以使用 LinearLayout 重量实现 50% 的屏幕。请参阅[此](http://android-developers.blogspot.com/2009/02/android-layout-tricks-1.html)

# sql - 在所有列中搜索并找到一个字符串值

> ID：10910968
> 
> 赞同：2
> 
> 时间：2012-06-06T08:48:13.477
> 
> 标签：sql, select, firebird

我需要查找表中的任何列中是否存在字符串值。是否可以在 Firebird 中自动创建过程或查询来执行这项工作而无需明确列名？

可以使用此查询找到列名：

> 从 RDB$RELATION_FIELDS 中选择 RDB$RELATION_FIELDS.rdb$field_name 作为 NC 其中 RDB$RELATION_FIELDS.rdb$relation_name = MY_Table_name

我会使用类似于 Firebird 中的程序：

[http://www.mssqltips.com/sqlservertip/1522/searching-and-finding-a-string-value-in-all-columns-in-a-sql-server-table/](http://www.mssqltips.com/sqlservertip/1522/searching-and-finding-a-string-value-in-all-columns-in-a-sql-server-table/)

```
SET TERM ^^ ;

CREATE PROCEDURE P_FINDSTRINGINTABLE (
  STRTOFIND VarChar(255), 
  TBLNAME VarChar(255))
 returns (
  SQLCOMMAND VarChar(25000))
AS
DECLARE VARIABLE condSTR VARCHAR(8000);
DECLARE VARIABLE columnName VARCHAR(8000);
begin
  sqlCommand = 'select * from '|| upper( :TBLNAME );

  condSTR = '';
  for select RDB$RELATION_FIELDS.rdb$field_name as NC from RDB$RELATION_FIELDS where RDB$RELATION_FIELDS.rdb$relation_name = upper( :TBLNAME )
  into  :columnName  
  do begin
     condSTR = condSTR||columnName||' LIKE ''%'||STRTOFIND||'%'' OR ';   
  end

  IF ( CHAR_LENGTH(condSTR) > 0 ) THEN 
  begin
     condSTR = ' where ' || left(condSTR, CHAR_LENGTH (condSTR)-3)  || ';';
     sqlCommand = sqlCommand|| condSTR;  
  end
  ELSE sqlCommand = sqlCommand||';' ;

end ^^

SET TERM ; ^^ 
```

我已经为我的搜索创建了正确的字符串 SQL。现在，如果我执行这个 Firebird 过程，它会以字符串形式返回 SQL 命令。

是否有自动执行返回的选择的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:56:15.273

如果您需要在数据库中进行全文搜索，我建议您使用与 Firebird 集成的专用搜索引擎。这是出于性能原因。看看 SphinxSearch 或 Solr 引擎。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T22:26:32.170

`EXECUTE STATEMENT`我相信，您可以通过使用创建一个返回值的视图来实现非常接近您想要的东西。

我的意思的例子：

```
sqlCommand = 'select * from '|| upper( :TBLNAME );

/* Rest of your code for creating the sqlCommand variable */

viewCommand = "RECREATE VIEW V_SEARCH_RESULTS AS " || sqlCommand;

EXECUTE STATEMENT viewCommand; 
```

所以基本上你的过程 P_FINDSTRINGINTABLE 不会返回任何值，但会（重新）动态创建一个名为 V_SEARCH_RESULTS 的视图。然后，您所要做的就是从此视图中进行选择以查看结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-02-09T23:13:42.757

以下是基于上述帖子的语法，用于简单地运行 SELECT 语句，而不创建存储过程：

```
SET TERM ^ ;
EXECUTE BLOCK 
RETURNS
( table_with_value varchar(200),
    column_with_value varchar(200),
    containing_value varchar(4000))
AS
declare variable all_tables varchar(200);
declare variable all_columns varchar(200);
declare variable all_values varchar(4000);
BEGIN
    FOR SELECT
        r.rdb$relation_name, f.rdb$field_name
        from rdb$relation_fields f
        JOIN RDB$FIELDS ON (RDB$FIELDS.RDB$FIELD_NAME = f.RDB$FIELD_SOURCE)
        join rdb$relations r on f.rdb$relation_name = r.rdb$relation_name
        and r.rdb$view_blr is null 
        and (r.rdb$system_flag is null or r.rdb$system_flag = 0)
        and RDB$FIELDS.RDB$FIELD_TYPE in (37, 40)
        and RDB$FIELDS.RDB$FIELD_TYPE is not null
        order by 1, f.rdb$field_position INTO :all_tables, :all_columns
    DO
    BEGIN
        FOR EXECUTE STATEMENT 'SELECT "' || all_columns || '" FROM "' || all_tables || '"'
            INTO :all_values
        DO
        BEGIN
            IF (all_Values like '%SEARCH_VALUE%') THEN
            BEGIN
                table_With_Value = all_Tables;
                column_With_Value = all_Columns;
                containing_value = all_Values;
                SUSPEND;
           END
        END
    END
END^
SET TERM ^ ; 
```

# mysql - 无法连接到 mysql 服务器错误：mysqld.sock' (38)

> ID：10910974
> 
> 赞同：0
> 
> 时间：2012-06-06T08:48:43.070
> 
> 标签：mysql, ruby-on-rails, ruby

嗨，我正在研究 ruby​​ on rails 项目。在为项目设置所有环境之后，但是当我在我的网络浏览器上运行 localhost:3000 时，它给了我这个错误

`Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (38)`

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T09:02:15.173

检查mysql是否正在运行

```
mysqladmin -u root -p status 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T20:46:07.623

默认情况下，Rails 尝试使用套接字文件连接到 MySQL。您可能希望它使用 TCP 连接进行连接。

检查你的**database.yml**；它应该类似于：

```
development:
  adapter: mysql2
  encoding: utf8
  reconnect: true
  host: localhost
  database: {database name}
  pool: 5
  username: {username}
  password: {password} 
```

注意`host`参数和缺少的`socket`参数。

# nhibernate - 两个集合中流利的休眠相互子

> ID：10910975
> 
> 赞同：0
> 
> 时间：2012-06-06T08:48:44.467
> 
> 标签：nhibernate, fluent-nhibernate

我有一个班级是两个父母的孩子。当我删除其中一个父母时，我希望孩子被删除，但另一位父母将他们留在会话中并出现错误`Deleted object would be resaved by cascade`

```
class Company
{
    // automap.HasMany(x=>x.Cars).Cascade.AllDeleteOrphan();
    IList<Car> Cars { get; set; }

    // automap.HasMany(x=>x.Employees).Cascade.AllDeleteOrphan();
    IList<Employee> Employees { get; set; }
}

class Employee
{
    // automap.references(x=>x.job);
    Company job { get; set; }

    // automap.hasMany(x=>x.OwnedCars).Cascade.AllDeleteOrphan();
    IList<Cars> OwnedCars { get; set; }
}

class Car
{
    // automap.references(x=>x.company)
    Company company { get; set; }

    // automap.references(x => x.Employee)
    Employee Driver {get; set; }  // might be null
} 
```

当我解雇一名员工时——我希望他的汽车也从公司中撤出；

```
var Company = Sesion..Get(1);
Company.Employees.removeAt(1); 
Session.Update(Company); 
```

有没有更好的方法来进行移除而不是遍历汽车列表，检查汽车是否属于我要移除的员工 - 并在移除员工之前也移除汽车？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:59:42.417

您将必须从员工（可能没有必要，因为员工将被删除）和公司中删除与汽车的关联。所以你的删除看起来像这样：

```
var company = session.Get(1);
var employee = company.Employees[1];
foreach(var car in employee.OwnedCars)
{
    car.company.Cars.Remove(car);
}
company.Employees.Remove(employee);
session.Update(company); 
```

# android - 线程抛出错误（帧动画）

> ID：10910980
> 
> 赞同：0
> 
> 时间：2012-06-06T08:48:54.957
> 
> 标签：android, multithreading

我正在处理我正在使用线程但线程向我抛出错误的帧动画。我的代码如下....

```
public class Newton_LawsActivity extends Activity implements OnTouchListener, OnGestureListener,OnDoubleTapListener {
    /** Called when the activity is first created. */
    OnTouchListener l;
    ImageView animation;
    ImageView hideimage;
    TextView t;
    Thread timer;
    int Rid;
    double pixel;
    String law="null";
    private GestureDetector gestureDetector;
    float x,y;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        gestureDetector = new GestureDetector(this);
        // the frame-by-frame animation defined as a xml file within the drawable folder
            animation = (ImageView)findViewById(R.id.image);
            //animation.setBackgroundResource(R.drawable.anatomy_5);
            hideimage=(ImageView)findViewById(R.id.imagein);
            t=(TextView) findViewById(R.id.t);
            animation.setBackgroundResource(R.anim.startanimation);
            final AnimationDrawable newtonAnimation = (AnimationDrawable) animation.getBackground();

           AnimationStart(newtonAnimation);

            animation.setOnTouchListener(this);      

        } 
    public void AnimationStart(final AnimationDrawable newanimation){
         timer=new Thread(){
        @Override
        public void run(){
                            try{

                                }catch(Exception e){}
                                finally{
                                            Newton_LawsActivity.this.runOnUiThread(new Runnable() {
                                                public void run(){
                                                newanimation.start();
                                            }});
                                        }
                            }
                        };
    timer.start();
    }
    @Override
    public boolean onTouch(View v, MotionEvent event) {
        // TODO Auto-generated method stub
        Toast.makeText(this, "animation", Toast.LENGTH_LONG).show();

        return gestureDetector.onTouchEvent(event);
    }

    private void animationswitch(float x, float y) {
        // TODO Auto-generated method stub
     pixel = getmaskpixel(x,y,animation,hideimage);
     Log.w("DEBUG","which is null:pixel" + pixel  );
     if (pixel==-583672){
         animation.setBackgroundResource(R.anim.firstlaw_01);
        final AnimationDrawable firstlaw_01 = (AnimationDrawable) animation.getBackground();
       law="firstlaw_02";
      firstlaw_01.start();
       animationstop_01();
     }
     t.setText(Double.toString(pixel));
    }

private double getmaskpixel(float x, float y, ImageView view,ImageView hideimage) {
        // TODO Auto-generated method stub
    Bitmap bm  = BitmapFactory.decodeResource(getResources(), R.drawable.touchnewtonfinal415);
    int width = bm.getWidth();
    int height = bm.getHeight();
    float scaleWidth = ((float) view.getWidth()) / width;
    float scaleHeight = ((float) view.getHeight()) / height;

    // create a matrix for the manipulation
    Matrix matrix = new Matrix();
    // resize the bit map

    matrix.postScale(scaleWidth, scaleHeight);
    // matrix.postRotate(90);
    // recreate the new Bitmap
   Bitmap bitmap = Bitmap.createBitmap(bm, 0, 0, width, height,matrix, false);
    Log.w("DEBUG","which is null:image " + hideimage.getWidth() + " OR " +hideimage.getHeight() );
    double bmWidth = view.getWidth();
      double bmHeight = view.getHeight(); 
      if ( x < 0 || y < 0 || x > hideimage.getWidth() || y >hideimage.getHeight()){
           return 0; //Invalid, return 0 
          }else{
           //Convert touched x, y on View to on Bitmap
           int xBm = (int)(x * (bmWidth / hideimage.getWidth()));
           int yBm = (int)(y * (bmHeight / hideimage.getHeight()));
           return bitmap.getPixel((int)xBm,(int) yBm); 
    }

}

    public boolean onSingleTapUp(MotionEvent e) {
        return false;
        // TODO Auto-generated method stub

    }
    @Override
    public boolean onDown(MotionEvent arg0) {
        // TODO Auto-generated method stub
        return true;
    }
    @Override
    public boolean onFling(MotionEvent arg0, MotionEvent arg1, float arg2,
            float arg3) {
        // TODO Auto-generated method stub
        return false;
    }
    @Override
    public void onLongPress(MotionEvent arg0) {
        // TODO Auto-generated method stub

    }
    @Override
    public boolean onScroll(MotionEvent arg0, MotionEvent arg1, float arg2,
            float arg3) {
        // TODO Auto-generated method stub
        return false;
    }
    @Override
    public void onShowPress(MotionEvent arg0) {
        // TODO Auto-generated method stub

    }
    @Override
    public boolean onDoubleTap(MotionEvent e) {
        // TODO Auto-generated method stub
        return false;
    }
    @Override
    public boolean onDoubleTapEvent(MotionEvent e) {
        // TODO Auto-generated method stub
        return false;
    }
    @Override
    public boolean onSingleTapConfirmed(MotionEvent e) {
        // TODO Auto-generated method stub
        x=e.getX();
        y= e.getY();
        Log.w("DEBUG","which is null:image " + x + " OR " +y);
        animationswitch(x, y);
        return true;
    }

    void animationstop_01(){
                if(law=="firstlaw_02"){
                     timer=new Thread(){
                            @Override
                            public void run(){
                                                try{
                                                        Thread.sleep(8750);
                                                    }catch(Exception e){}
                                                    finally{
                                                        Log.w("debug","it is firstlaw_02");
                                                        animation.setBackgroundResource(R.anim.firstlaw_02);
                                                        final AnimationDrawable firstlaw_02 = (AnimationDrawable) animation.getBackground();
                                                        law="firstlaw_03";
                                                       AnimationStart(firstlaw_02);
                                                                }};

                                            };

                        timer.start();
                        }                                   

    }

    } 
```

它让我跟随错误..

```
06-06 14:15:00.668: E/AndroidRuntime(966): FATAL EXCEPTION: Thread-10
06-06 14:15:00.668: E/AndroidRuntime(966): android.view.ViewRoot$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.
06-06 14:15:00.668: E/AndroidRuntime(966):  at android.view.ViewRoot.checkThread(ViewRoot.java:2802)
06-06 14:15:00.668: E/AndroidRuntime(966):  at android.view.ViewRoot.invalidateChild(ViewRoot.java:607)
06-06 14:15:00.668: E/AndroidRuntime(966):  at android.view.ViewRoot.invalidateChildInParent(ViewRoot.java:633)
06-06 14:15:00.668: E/AndroidRuntime(966):  at android.view.ViewGroup.invalidateChild(ViewGroup.java:2505)
06-06 14:15:00.668: E/AndroidRuntime(966):  at android.view.View.invalidate(View.java:5139)
06-06 14:15:00.668: E/AndroidRuntime(966):  at android.view.View.setBackgroundDrawable(View.java:7486)
06-06 14:15:00.668: E/AndroidRuntime(966):  at android.view.View.setBackgroundResource(View.java:7395)
06-06 14:15:00.668: E/AndroidRuntime(966):  at Newtons.law.Newton_LawsActivity$2.run(Newton_LawsActivity.java:183) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:02:36.770

将您的方法更改`animationstop_01`为：

```
void animationstop_01(){
if(law=="firstlaw_02"){
     timer=new Thread(){
        @Override
        public void run(){
                try{
                    Thread.sleep(8750);
                }catch(Exception e){
                }finally{
                    Log.w("debug","it is firstlaw_02");
                    Newton_LawsActivity.this.runOnUiThread(new Runnable() {
                        public void run(){
                            animation.setBackgroundResource(R.anim.firstlaw_02);
                            final AnimationDrawable firstlaw_02 = (AnimationDrawable) animation.getBackground();
                            law="firstlaw_03";
                            AnimationStart(firstlaw_02);
                         }
                     });

                 }
             };
         };
         timer.start();
     }                                   
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:57:11.047

错误`animationstop_01()`在您尝试的方法名称内，

```
animation.setBackgroundResource(R.anim.firstlaw_02); 
```

把它放进去`runOnUiThread()`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T09:00:47.263

尝试这个：

```
animation.post(new Runnable() {

        public void run() {
            animation.setBackgroundResource(R.anim.firstlaw_02);

        }
    }); 
```

通过这种方式，您将其发布到 UI 线程。只能从创建视图的原始线程更改视图。

# .htaccess - htaccess 移动重定向

> ID：10910984
> 
> 赞同：0
> 
> 时间：2012-06-06T08:49:00.567
> 
> 标签：.htaccess, mobile

我有一个桌面和移动站点 - 我的 htaccess 文件中有以下内容，这意味着在移动站点上它陷入循环，试图重定向回域的主根目录并返回到域上的移动站点文件夹。

我怎样才能阻止这种情况发生？

```
 RewriteEngine On
    RewriteCond %{HTTP_HOST} !^www.domain.co.uk$ [NC]
    RewriteRule ^(.*)$ http://www.domain.co.uk/$1 [R,L]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule (.*) /404.php [R=301,L]
    RewriteCond %{THE_REQUEST} ^.*/index.php
    RewriteRule ^(.*)index.php$ http://www.domain.co.uk/$1 [R=301,L]
    ErrorDocument 404 /404.php
    ExpiresActive On
    ExpiresDefault "access plus 20000 seconds"
    Header unset ETag
    FileETag None
    <IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /domain-news/
    RewriteRule ^index\.php$ - [L]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule . /domain-news/index.php [L]
    </IfModule>
    AddOutputFilterByType DEFLATE text/plain
    AddOutputFilterByType DEFLATE text/html
    AddOutputFilterByType DEFLATE text/xml
    AddOutputFilterByType DEFLATE text/css
    AddOutputFilterByType DEFLATE text/javascript
    AddOutputFilterByType DEFLATE application/xml
    AddOutputFilterByType DEFLATE application/xhtml+xml
    AddOutputFilterByType DEFLATE application/rss+xml
    AddOutputFilterByType DEFLATE application/javascript
    AddOutputFilterByType DEFLATE application/x-javascript

    RewriteEngine On
    RewriteCond %{QUERY_STRING} ^file=(.+)$
    RewriteRule ^(.+)\.aspx$ $1.php?f=%1

    RewriteEngine on
    RewriteBase /
    # Check if this is the noredirect query string
    RewriteCond %{QUERY_STRING} (^|&)m=0(&|$)
    # Set a cookie, and skip the next rule
    RewriteRule ^ - [CO=mredir:0:www.domain.co.uk]

    # Check if this looks like a mobile device
    # (You could add another [OR] to the second one and add in what you
    #  had to check, but I believe most mobile devices should send at
    #  least one of these headers)
    RewriteCond %{HTTP:x-wap-profile} !^$ [OR]
    RewriteCond %{HTTP:Profile}       !^$ [OR]
    RewriteCond %{HTTP_USER_AGENT}"acs|alav|alca|amoi|audi|aste|avan|benq|bird|blac|blaz|brew|cell|cldc|cmd-" [NC,OR]
    RewriteCond %{HTTP_USER_AGENT} "dang|doco|eric|hipt|inno|ipaq|java|jigs|kddi|keji|leno|lg-c|lg-d|lg-g|lge-" [NC,OR]
    RewriteCond %{HTTP_USER_AGENT}  "maui|maxo|midp|mits|mmef|mobi|mot-|moto|mwbp|nec-|newt|noki|opwv" [NC,OR]
    RewriteCond %{HTTP_USER_AGENT} "palm|pana|pant|pdxg|phil|play|pluc|port|prox|qtek|qwap|sage|sams|sany" [NC,OR]
    RewriteCond %{HTTP_USER_AGENT} "sch-|sec-|send|seri|sgh-|shar|sie-|siem|smal|smar|sony|sph-|symb|t-mo" [NC,OR]
    RewriteCond %{HTTP_USER_AGENT} "teli|tim-|tosh|tsm-|upg1|upsi|vk-v|voda|w3cs|wap-|wapa|wapi" [NC,OR]
    RewriteCond %{HTTP_USER_AGENT} "wapp|wapr|webc|winw|winw|xda|xda-" [NC,OR]
    RewriteCond %{HTTP_USER_AGENT} "up.browser|up.link|windowssce|iemobile|mini|mmp" [NC,OR]
    RewriteCond %{HTTP_USER_AGENT} "symbian|midp|wap|phone|pocket|mobile|pda|psp" [NC]
    RewriteCond %{HTTP_USER_AGENT} !macintosh [NC]

    # Check if we're not already on the mobile site
    RewriteCond %{HTTP_HOST}          !^m\.
    # Can not read and write cookie in same request, must duplicate condition
    RewriteCond %{QUERY_STRING} !(^|&)m=0(&|$) 

    # Check to make sure we haven't set the cookie before
    RewriteCond %{HTTP_COOKIE}        !^.*mredir=0.*$ [NC]

    # Now redirect to the mobile site
    RewriteRule ^ http://www.domain.co.uk/m [R,L] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T10:07:24.220

可能有更好的方法，但如果该网站是移动网站，我会查找并放置

```
#mobile redirect
RewriteCond %{REQUEST_URI} !^/m/.*$
RewriteCond %{HTTP_USER_AGENT} "android|blackberry|ipad|iphone|ipod|iemobile|opera|mobile|palmos|webos|googlebot-mobile" [NC]
RewriteRule ^(.*)$ /m/$1 [R=301,L] 
```

效果很好。

# php - 如何使用 PHP 解码“\320\240\321\203”

> ID：10910988
> 
> 赞同：1
> 
> 时间：2012-06-06T08:49:27.150
> 
> 标签：php, encoding

我有这个字符串：**\320\260\320\275\320\264\320\260**

我知道它是西里尔字母（来自数据库的值），但我需要将其转换为正确的 UTF-8 字符串。是否有一个 php 函数来处理这个问题，还是我必须自己编写？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-07T15:57:57.797

这是一个 8 字节的字符串，由字符 \320、\260、\320 等组成吗？如果是这样，它已经是 UTF-8，您无需执行任何操作：

```
echo "\320\260\320\275\320\264\320\260";
// Output: анда 
```

如果它是一个 32 字节的字符串，由字符 \、3、2、0 等组成，则需要进行一些处理：

```
// helper function to convert octal numbers to characters
function oct2chr($x) {return chr(octdec($x));}

$input = "\\320\\260\\320\\275\\320\\264\\320\\260";
$output = preg_replace('/\\\\[0-7]{3}/e', 'oct2chr("$0")', $input);
// alternative: implode("", array_map("oct2chr", explode("\\", $input)));
echo $output;
// Output: анда 
```

# java - 在部署 GAE 应用程序之前将所有 .class 文件打包在一个 jar 中？

> ID：10910993
> 
> 赞同：3
> 
> 时间：2012-06-06T08:49:40.223
> 
> 标签：java, eclipse, google-app-engine

我正在为 Eclipse 使用 GAE 插件，并想知道该插件是否负责在部署之前将每个类文件打包在一个 jar 中？

我听说如果我们有很多类文件，应用程序性能可能会很慢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-08T08:01:37.517

我使用 maven 进行构建和依赖定义，而不是 Eclipse 和 Google 插件。但通常，如果您的项目中有一个模块，则所有代码都将构建到一个 jar 文件中，并与您的依赖项中定义的所有 jar 一起捆绑到一个 .war 文件中。

# maven - mvn tomcat：运行默认战争以使用

> ID：10910996
> 
> 赞同：0
> 
> 时间：2012-06-06T08:49:53.903
> 
> 标签：maven, build

我有以下项目结构。

```
Proj
|_ pom.xml
|_ WebApp1
|  |_ pom.xml
|_ WebApp2
   |_pom.xml 
```

从项目级别，如果我运行 mvn tomcat:run，maven 会将我的 WebApp1 部署到 tomcat 容器。但是，我需要默认运行 WebApp2。我无法更改 webapp1 和 webapp2 的构建顺序。

有什么建议么？？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T12:37:08.907

尝试将 Proj POM 中模块的顺序从

```
<modules>
  <module>WebApp1</module>
  <module>WebApp2</module>
<modules> 
```

至

```
<modules>
  <module>WebApp2</module>
  <module>WebApp1</module>
<modules> 
```

但是为什么要从项目的根级别启动 Tomcat？如果您在 WebApp2 模块中运行 tomcat 插件，它应该只启动 WebApp2。

# android - 在 Android 2.3.3 中使用片段选项卡获取 android.view.InflateException

> ID：10910999
> 
> 赞同：1
> 
> 时间：2012-06-06T08:50:12.613
> 
> 标签：android, xml

您好，我在使用 Android 2.3.3 时遇到此异常：

```
android.view.InflateException: Binary XML file line #2: Error inflating class <unknown> 
```

此方法中引发异常：（创建片段时）

```
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {

    if (container == null) {
        // We have different layouts, and in one of them this
        // fragment's containing frame doesn't exist. The fragment
        // may still be created from its saved state, but there is
        // no reason to try to create its view hierarchy because it
        // won't be displayed. Note this is not needed -- we could
        // just run the code below, where we would create and return
        // the view hierarchy; it would just never be used.
        return null;
    }
    try {
        //exception here
        theLayout = (LinearLayout) inflater.inflate(R.layout.fragment1, container, false);
    } catch (Exception e) {
        // TODO: handle exception
        e.printStackTrace();
    }
    return theLayout;
} 
```

当我转到 Activity 并再次返回 FragmentActivity 并切换选项卡时会发生这种情况。

我应该为此做些什么？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T11:58:07.293

我遇到了同样的错误（但我使用的是 MonoDroid 和 C#）。在我的例子中，我试图膨胀一个包含`<fragment>`标签的布局，但操作系统（Android 2.3.3）不知道片段。

我的解决方案是使用 Android Support Package v4（android-support-v4.jar，可以在`<android-sdk>/extras/android/support/v4`文件夹中找到）。然后我使用 SupportingFragmentManager 创建了片段。

可以在此处找到带有示例代码（可以轻松转换为 Java）的 MonoDroid 描述：http: [//docs.xamarin.com/android/tutorials/Fragments/Part_4_-_Providing_Backwards_Compatibility_with_the_Android_Support_Package](http://docs.xamarin.com/android/tutorials/Fragments/Part_4_-_Providing_Backwards_Compatibility_with_the_Android_Support_Package)