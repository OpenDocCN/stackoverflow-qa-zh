# StackOverflow 问答 11409000-11409999

# ios - 如何将图像从屏幕顶部移动到底部并让它留在 Xcode / iOS 中？

> ID：11409001
> 
> 赞同：1
> 
> 时间：2012-07-10T08:01:48.070
> 
> 标签：ios, xcode

我一直在尝试为徽标构建一个从屏幕顶部到底部的入口效果，并在我的应用程序中加载新视图时保持在那里。我已经看过所有使用 NSTimer 来反弹图像的教程，但是一旦我的徽标到达底部，它就需要退出。我将阅读动画块代码，看看我的解决方案是否存在。

抱歉，我是新人，非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:14:37.760

将徽标框架设置为顶部，然后：

```
[UIView beginAnimations: @"moveLogo" context: nil]; 
[UIView setAnimationDelegate:self]; 
[UIView setAnimationDuration:1.0];
[UIView setAnimationCurve: UIViewAnimationCurveLinear];
logoToMove.frame =  CGRectMake( final frame at the bottom );
[UIView commitAnimations]; 
```

`logoToMove`是您的徽标，给它一个出口并将其挂在 xib 中。因此，您将设置初始帧和动画中的最终帧。动画将完成剩下的工作。`UIViewAnimationCurveLinear`如果您不喜欢，请更改为所需的。还有加速或减速运动的持续时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:54:53.013

要在动画结束时删除视图，最简单的方法是使用 blocks ：

```
logoToMove.frame = topRect;

[UIView animateWithDuration:duration 
                 animations:^{
                    logoToMove.frame = bottomFrame;
                 } 
                 completion:^(BOOL finished) {
                    [logoToMove removeFromSuperview];
                 }
]; 
```

这样做可以让您控制动画以及在单一方法完成后要执行的操作

# c# - 如何从应用程序外部的文件夹中附加网格视图中的图像？

> ID：11409002
> 
> 赞同：0
> 
> 时间：2012-07-10T08:01:51.260
> 
> 标签：c#, asp.net, radgrid

这是我的 rad 网格列

```
<telerik:GridImageColumn HeaderText="Image" DataImageUrlFields="ContentName" DataType="System.String"
                            DataImageUrlFormatString="~/SlideImages/{0}" UniqueName="Upload" Visible="false"
                            ImageHeight="80px" ImageWidth="80px">
                            <HeaderStyle Width="10%" HorizontalAlign="Center" />
                        </telerik:GridImageColumn> 
```

在我的应用程序中，我将图像保存在应用程序文件夹之外，但是在运行时当网格库尝试通过设置外部文件夹路径来附加图像时，它无法为列附加图像，如何解决？

当我将它设置为内部文件夹时它工作正常，截至目前我已经为应用程序文件夹图像设置了路径。请让我知道。

我设置了路径 DataImageUrlFormatString="D:\SomePath{0}" 但不起作用..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:15:37.503

在您的网站内创建一个虚拟目录，并提供位于您的网站文件夹之外并包含图像的文件夹路径。现在这个文件夹将作为您网站的一部分，您不会收到错误。如何创建虚拟目录，[**MSDN**](http://support.microsoft.com/kb/172138)

假设您有网站文件夹 d:\Yoursites\Testsite 并且您想要访问 d:\Images\first.jpg 中的文件，在 TestWebsite 侧创建一个指向 d:\images 的虚拟目录并通过虚拟目录访问其中的文件。

图片的 URL 类似于[http://yoursite.com/yourvirtualdirectoryname/first.jpg](http://yoursite.com/yourvirtualdirectoryname/first.jpg)

# mysql - MySQL UNION 与 WHERE

> ID：11409004
> 
> 赞同：0
> 
> 时间：2012-07-10T08:01:56.507
> 
> 标签：mysql, union

我有以下 2 个表 tableA a (id, name, surname, program, date) tableB b (id,aid, name, surname, extracard) with tableA.id = tableB.aid (1 to n 关系)

```
Sample data for tableA:
| ID | NAME  | SURNAME | PROGRAM |   DATE    |  EXPIRES  |
----------------------------------------------------------
| 1  | TOM   | JONES   | 1,2,3   | 12/8/2012 | 12/8/2013 |
| 2  | JAMIE | OLIVER  | 4,5,6   | 15/8/2012 | 15/8/2013 |

Sample data for tableB:
| ID | AID | NAME  | SURNAME | CARD |
-------------------------------------
| 1  |  1  | ANNE  | JONES   |  1   |
| 2  |  1  | JACK  | BOWER   |  0   |
| 3  |  2  | KATE  | PERRY   |  1   |
| 4  |  2  | JOHN  | DOE     |  0   |
| 5  |  2  | HARRY | POTTER  |  0   | 
```

**在结果中，tableB 的每个成员都应该具有来自 tableA 的所有值（程序、日期、过期等...），并且在同一列中**只显示来自 tableB 的名称、姓氏（coalesce??）。此外，我需要在 (%id1 和 %id2) 之间为 a.id 使用 between 子句，还需要使用 WHERE 语句来选择 tableB.card=1 的行

```
| a.ID | NAME  | SURNAME | PROGRAM |   DATE    |  EXPIRES  |
------------------------------------------------------------
|  1   | TOM   | JONES   | 1,2,3   | 12/8/2012 | 12/8/2013 |
|  1   | ANNE  | JONES   | 1,2,3   | 12/8/2012 | 12/8/2013 |
|  2   | JAMIE | OLIVER  | 4,5,6   | 15/8/2012 | 15/8/2013 |
|  2   | KATE  | PERRY   | 4,5,6   | 15/8/2012 | 15/8/2013 | 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:06:48.563

```
 SELECT * FROM 
   ( (SELECT a.id ,a.name,a.surname,a.program,a.date,a.expires 
    from tableA a left outer join tableB b 
    on b.aid=a.id 
    where b.card=1 and (a.id between '1' and '2'))
    UNION ALL
    (SELECT a.id ,b.name,b.surname,a.program,a.date,a.expires 
    from tableA a left outer join tableB b 
    on b.aid=a.id 
    where b.card=1 and (a.id between '1' and '2'))) t
    ORDER BY id 
```

已编辑：请参阅[http://sqlfiddle.com/#!2/d8227/1](http://sqlfiddle.com/#!2/d8227/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:15:37.373

你在寻找 -

```
(SELECT a.id, name, surname, program, date, expires FROM tableA a WHERE a.id BETWEEN '%id1' and '%id2')
UNION
(SELECT a.id, b.name, b.surname, program, date, expires FROM tableB b LEFT JOIN tableA a ON b.aid=a.id WHERE b.card=1 AND (a.id between '%id1' and '%id2') )
ORDER BY a.id ASC 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T08:18:42.843

```
(select a.ID,a.NAME,a.SURNAME,a.PROGRAM,a.DATE,a.EXPIRES from tableA a where ...)    
Union All    
(select a2.ID,b.NAME,b.SURNAME,a2.PROGRAM,a2.DATE,a2.EXPIRES from tableB b 
 left join tableA a2 on b.aid = a2.id where ...); 
```

您也可以`left/inner join`根据自己的需要和`where`条件使用..或.`between`等子句进行选择。`where id between 2 and 8``where id > 2 and id < 8`

# wordpress - 为什么贝宝需要卡来处理某些网站而不是所有网站的付款？

> ID：11409006
> 
> 赞同：0
> 
> 时间：2012-07-10T08:02:12.917
> 
> 标签：wordpress, paypal, e-commerce

我只是想问一下，我正在使用 wordpress、s2member 插件，但我无法成功处理我的订阅付款，因为我首先需要一张卡用于我的 Paypal 帐户（未验证）来支付（测试目的）。但是，使用相同的 paypal 帐户，我已经在 wordpress 网站（电子商务）上在线购买了一些商品。为什么会这样？我是否可以避免或做一些可以处理订阅的事情（就像我提到的其他网站一样）使用未经验证的 Paypal 帐户在线购买？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T04:07:15.750

订阅需要信用卡。其他网站可能有一个简单的结帐（与订阅相反），可以使用 PayPal 余额支付（即不需要 CC）。

顺便说一句，请确保您使用完全独立的帐户进行测试。你不能给自己付款:)

# iphone - 通过 Web 服务解析 coverFlow 图像

> ID：11409011
> 
> 赞同：1
> 
> 时间：2012-07-10T08:02:24.007
> 
> 标签：iphone, xml-parsing

[我已经使用http://chaosinmotion.com/flowcover.m](http://chaosinmotion.com/flowcover.m)这个链接实现了coverFlow 。它工作正常。我想通过网络服务获取coverFlow 图像。它适用于单个图像。任何人都向我发送用于在具有多个图像属性的单个 url 中获取多个coverFlow 图像的代码。后端的任何更改都应反映在代码中，如果没有增加图像，那么在coverflow 中也会显示相同的编号。的图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:14:19.823

在 CoverFlowViewController.h 文件中

```
NSMutableArray *profilephotos;    // declare NSMutableArray 
```

在 CoverFlowViewController.m 文件中

```
- (void)viewDidLoad 
{
    profilephotos = [[NSMutableArray alloc] initWithObjects:@"www.xxxx.com/ima.jpeg",@"www.xxxx.com/ima1.jpeg",@"www.xxxx.com/ima2.jpeg",@"www.xxxx.com/ima3.jpeg",@"www.xxxx.com/ima4.jpeg",@"www.yyy.com/ima5.jpeg",nil];
    NSLog(@"profilephotos = %@",profilephotos);  // Your array of Images url
    loadImagesOperationQueue = [[NSOperationQueue alloc] init];

    for (int i=0; i < [profilephotos count]; i++)
    {
        NSString *pho = [profilephotos objectAtIndex:i];
        NSURL *url = [NSURL URLWithString:pho];
        NSData *data = [NSData dataWithContentsOfURL: url];
        UIImage *img=[UIImage imageWithData:data];

        CGSize newSize = CGSizeMake(300.0f, 300.0f);
        UIGraphicsBeginImageContext(newSize);
        [img drawInRect:CGRectMake(0,0,newSize.width,newSize.height)];
        UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();
        UIGraphicsEndImageContext();

        [(AFOpenFlowView *)self.view setImage:newImage forIndex:i];
    }
    [(AFOpenFlowView *)self.view setNumberOfImages:[profilephotos count]];
} 
```

# python - 从 Python 时区感知日期获取 UNIX 时间戳（即 UTC 时间戳）

> ID：11409013
> 
> 赞同：2
> 
> 时间：2012-07-10T08:02:34.247
> 
> 标签：python, datetime, utc

我的计算机在太平洋时间运行（因此 datetime.datetime.fromtimestamp(0) 给我 1969-12-31 16:00:00）。我的问题是，给定 Python 中的时区感知 datetime 对象，我想获取 UNIX 时间戳（即 UTC 时间戳）。最好的方法是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-10T08:05:36.643

```
import calendar
import datetime
import pytz

d = datetime.datetime.now(pytz.timezone('America/Los_Angeles'))
# d == datetime.datetime(2012, 7, 10, 1, 6, 36, 37542, tzinfo=<DstTzInfo 'America/Los_Angeles' PDT-1 day, 17:00:00 DST>)

ts = calendar.timegm(d.utctimetuple())
# ts == 1341907596

# test with UTC epoch:

d = datetime.datetime(1969, 12, 31, 16, 0, 0, 0, pytz.timezone('America/Los_Angeles'))
# d == datetime.datetime(1969, 12, 31, 16, 0, tzinfo=<DstTzInfo 'America/Los_Angeles' PST-1 day, 16:00:00 STD>)

ts = calendar.timegm(d.utctimetuple())
# ts == 0 
```

# hibernate - 休眠多对多对多对

> ID：11409014
> 
> 赞同：1
> 
> 时间：2012-07-10T08:02:42.530
> 
> 标签：hibernate, annotations, many-to-many, composite-primary-key

我正在尝试使用注释将现有数据库映射到 Hibernate。问题如下。

'organization' 和 'organization_roles' 具有多对多关系，这在表 'organization_has_roles' 中使用两个主键作为连接表中的复合主键来解决。

接下来是一个“用户”表。用户可以在多个组织中拥有一个角色。这再次在名为“users_has_organizations_and_role”的连接表中解决，该表具有“user_id”、“organization_id”和“organization_role_id”的复合主键以及“user_id”和“organization_id”上的唯一索引。

“users_has_organizations_and_role”引用了“organization_has_roles”复合主键（organization_id，organization_role_id）和用户表（user_id）

我无法找到有关此问题的有效示例。

是否可以映射这个。我应该使用哪些注释以及如何使用？

我正在使用 Hibernate 4，虽然它可能无关紧要..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:55:38.833

这种方法的主要问题是您有一个不可映射的 ORM 不匹配：您的数据库中有一个实体 ( `organization_has_roles`)，它在 OO 中被翻译为关系。由于此关系不是实体，并且没有`@Id`，因此无法将其引用到另一个实体中。

一种解决方案是将数据库实体映射`organization_has_roles`到 JPA/Hibernate 实体中，使用复合键或合成键（无论您喜欢什么）。然后，您可以在`User`模型中引用此实体。

# google-maps - 如何通过邮政编码在谷歌地图上绘制路径

> ID：11409020
> 
> 赞同：1
> 
> 时间：2012-07-10T08:02:57.680
> 
> 标签：google-maps

我想通过邮政编码或城市名称显示路径图和点之间的距离，就像我们输入往返地点和地图将在它们之间生成，将计算它们之间的总距离。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T14:38:47.560

您可以分三个步骤执行此操作
1) 按邮政城市或邮政编码生成地图
create map1.php

```
 <html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<title>Google Maps JavaScript API v3 Example:Post City or Zip</title>
  </head>
<body >
<form action="map2.php" method="post" >
Enter 1st zip code / city <input type="text" name="input1" id="input1"><br/>
Enter 2nd zip code / city <input type="text" name="input2" id="input2">
<input type="submit">
</form>
</body>
</html> 
```

2）创建map2.php并生成地图

```
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<title>Google Maps JavaScript API v3 Example: Directions Simple</title>
<link href="http://code.google.com/apis/maps/documentation/javascript/examples/default.css" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">
  var directionDisplay;
  var directionsService = new google.maps.DirectionsService();
  var map;

  function initialize() {
    directionsDisplay = new google.maps.DirectionsRenderer();
    var chicago = new google.maps.LatLng(41.850033, -87.6500523);
    var myOptions = {
      zoom:7,
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      center: chicago
    }
    map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
    directionsDisplay.setMap(map);
  }

  function calcRoute() {
    var start = '<?php echo $_POST['input1']; ?>';
    var end = '<?php echo $_POST['input2']; ?>';

    var request = {
        origin:start, 
        destination:end,
        travelMode: google.maps.DirectionsTravelMode.DRIVING
    };
    directionsService.route(request, function(response, status) {
      if (status == google.maps.DirectionsStatus.OK) {
        directionsDisplay.setDirections(response);
      }
    });
  }

</script>
</head>
<body onLoad="initialize(),calcRoute()">
  <?php
  // calculate laglong by address and zip code
  function getLatLong($address){
    if (!is_string($address))die("All Addresses must be passed as a string");
    $_url = sprintf('http://maps.google.com/maps?output=js&q=%s',rawurlencode($address));
    $_result = false;
    if($_result = file_get_contents($_url)) {
        if(strpos($_result,'errortips') > 1 || strpos($_result,'Did you mean:') !== false) return false;
        preg_match('!center:\s*{lat:\s*(-?\d+\.\d+),lng:\s*(-?\d+\.\d+)}!U', $_result, $_match);
        $_coords['lat'] = $_match[1];
        $_coords['long'] = $_match[2];
    }
    return $_coords;
}
  $to = getLatLong($_POST['input1']);echo "<br/>";print_r($to);
  $from = getLatLong($_POST['input2']);echo "<br/>";print_r($from);
echo distance($to['lat'], $to['long'], $from['lat'], $from['long'], "m") . " miles";

//  // calculate distance by lat long
function distance($lat1, $lon1, $lat2, $lon2, $unit) {
  $theta = $lon1 - $lon2;
  $dist = sin(deg2rad($lat1)) * sin(deg2rad($lat2)) +  cos(deg2rad($lat1)) * cos(deg2rad($lat2)) * cos(deg2rad($theta));
  $dist = acos($dist);
  $dist = rad2deg($dist);
  $miles = $dist * 60 * 1.1515;
  $unit = strtoupper($unit);

  if ($unit == "K") {
    return ($miles * 1.609344);
  } else if ($unit == "N") {
      return ($miles * 0.8684);
    } else {
        return $miles;
      }
}
?>

<div id="map_canvas" style="top:30px;"></div>
</body>
</html> 
```

生成地图和 getLatLong() 函数查找 laglong 和距离函数查找城市或邮政编码之间的距离

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:11:29.263

首先，您必须找到邮政编码的地理位置，您可以使用 gmaps api 轻松找到它。然后使用“distanceTo”方法查找到点之间的距离（您的地理点和邮政编码生成的地理点）。distanceTo 方法为您提供以米为单位的距离。

[检查这个帖子](https://stackoverflow.com/questions/9729951/android-google-maps-drawing-roads-performanse-issue-with-10-000-overlay)

# c++ - C++ 程序将包含的 .txt 文件视为代码

> ID：11409021
> 
> 赞同：0
> 
> 时间：2012-07-10T08:02:57.893
> 
> 标签：c++, include, text-files, c-preprocessor, iostream

我只是在学习输入/输出流的基本方面，似乎无法让我的程序读取文本文件。它给我的错误表明它正在尝试将 .txt 文件作为 C++ 代码读取，而我只是使用其中的值来测试我的流。

这些是我包含的 .txt 文件的内容：

```
12345
Success 
```

这是主程序的代码：

```
#include <fstream>
#include <iostream>
#include "C:\Users\Pavel\Desktop\strings.txt"
using namespace std;

int main (int nNumberOfArgs, char* pszArgs[])
{
    ifstream in;
    in.open("C:\Users\Pavel\Desktop\strings.txt");
    int x;
    string sz;
    in << x << sz;
    in.close();
    return 0;
} 
```

我收到的第一条错误消息是“数字常量之前的预期不合格 ID”，它告诉我程序正在尝试编译包含的文件。如何防止这种情况并按预期读取文本文件？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-10T08:05:11.713

不要`#include`你的 .txt 文件。包含用于源代码。他们以文本方式将文件插入到您的代码中，就好像您实际上已将其复制粘贴到那里一样。您不应该`#include`使用`ifstream`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T08:23:34.760

在运行时打开文件系统上的文件不需要在源代码中提及该文件的名称。（例如，您可以向用户询问文件名，然后打开它就好了！）

`#include`如果您希望将数据嵌入到程序的可执行文件中（因此不依赖于运行时文件系统上的文件），您可能会在源中提供数据的情况。但要做到这一点，您必须将文件格式化为有效的 C++ 数据声明。所以那时它不会是一个`.txt`文件。

例如，在 strings.cpp

```
#include <string>

// See http://stackoverflow.com/questions/1135841/c-multiline-string-literal
std::string myData =
    "12345\n"
    "Success"; 
```

然后在你的主程序中：

```
#include <iostream>
#include <sstream>
#include "strings.cpp"
using namespace std;

int main (int nNumberOfArgs, char* pszArgs[])
{
    istringstream in (myData);
    int x;

    // Note: "sz" is shorthand for "string terminated by zero"
    // C++ std::strings are *not* null terminated, and can actually
    // legally have embedded nulls.  Unfortunately, C++ does
    // have to deal with both kinds of strings (such as with the
    // zero-terminated array of char*s passed as pszArgs...)
    string str;

    // Note: >> is the "extractor"
    in >> x >> str;

    // Note: << is the "inserter"
    cout << x << "\n" << str << "\n";

    return 0;
} 
```

一般来说，`#include`像这样只 -ing 一个源文件不是你想要做的事情的方式。如果您在项目中的多个文件中执行此操作（myData 的重复声明），您很快就会遇到麻烦。所以通常的技巧是把东西分成头文件和实现文件……包括头文件，你想多少次都行，但只把一个实现的副本放入你的构建过程中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T08:09:41.793

无论包含文件的`#include`扩展名如何，指令都以相同的方式工作 - txt，h，根本没有扩展名 - 没关系。它的工作原理是在将该文件传递给编译器之前，预处理器将文件的内容粘贴到您的源文件中。就编译器而言，您还不如自己复制和粘贴内容。

# java - oracle10g数据库中如何取名？

> ID：11409022
> 
> 赞同：0
> 
> 时间：2012-07-10T08:02:58.563
> 
> 标签：java, database, oracle, oracle10g

![在此处输入图像描述](../Images/633d678f83bdf07a4a1d846d04ed72ad.png)

我想搜索有java和oracle技能的名字

我知道这样的编码

```
select name from table_name where skills like '%java%' or skills like '%oracle%'; 
```

但我的问题是，在 servlet 中我该怎么做？

```
String skills=request.getParameter("skill"); 
```

我的选择查询

```
select name from table_name where skill like '"++"'; 
```

在这里我很困惑，我试过这样

```
select name from table_name where skill like '"+%skills%+"'; 
```

但不工作。

我是一个对 oracle 非常陌生的网络开发人员，请帮助我

我正在使用 oracle10g

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:07:44.930

你可以试试`REGEXP_LIKE`

```
SELECT name from TABLENAME where  
WHERE REGEXP_LIKE (skills, '(Java|Oracle)'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:31:08.493

```
 String query = "select name from table_name";
    String skills = request.getParameter("skill");
    StringBuilder likePart = new StringBuilder("");
    boolean appendOrClause = false;
    String skillsArray[] = skills == null ? null : skills.split(",");

    if(skillsArray != null && skillsArray.length > 0 ){
        for(String skill : skillsArray){
            if(skill.trim().length() > 0){
                if(appendOrClause){
                    likePart.append(" OR skills like '%" + skill.trim() + "%'");
                } else {
                    likePart.append(" where skills like '%" + skill.trim() + "%'");
                }
                appendOrClause = true;
            }
        }
        if(likePart.toString().trim().length() > 0){
            query += likePart.toString();
        }
    }
    if(query.indexOf("like") > 0 ){
        // User have skills
        // Fire query to get User Name
    } else {
        // User doesn't have any skills
        // don't Fire any query
    } 
```

# android - android中的onclicklistener textView

> ID：11409023
> 
> 赞同：0
> 
> 时间：2012-07-10T08:03:07.173
> 
> 标签：android

我有一个`TextView`有两种不同颜色的。在这里，如果我点击*迷你*它应该重定向到一个活动，如果我点击地铁重定向到另一个活动。我怎样才能做到这一点？

```
TextView t = (TextView)v.findViewById(R.id.text);
String text = "<font color=#000000><b>"+"mini"+"</b></font><font color=#000000> added </font><font color=#1569C7>"+"Metro"+"</font><font color=#000000> as a favourite.</font>";
t.setText(Html.fromHtml(text)); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:11:08.963

您可以做的是创建一个自定义类来扩展`ClickableSpan`和管理您的可点击文本。[我在这里](https://stackoverflow.com/a/11115929/726863)回答了同样的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:07:17.083

在`onclick`听众中，我会试试这个：

```
if (text.equalsIgnoreCase("mini")) {
    // call your next activity here
} else if(text.equalsIgnoreCase("metro")) {
    // call your next activity here
} 
```

不要忘记`android:clickable="true"`在 TextView 的 XML 文件中进行设置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T08:18:18.410

[这](https://stackoverflow.com/a/11153223/857853 "回答类似的问题")可以满足您的需求，但请记住，要正确使用此类组件非常困难。很可能某个地方的某个人在单击链接时会遇到问题——尤其是当文本位于多行并且链接的单词在垂直方向上彼此靠近时。

我建议反对这种解决方案。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T08:05:18.547

在 textview 的点击侦听器上，您必须找到它的文本，您可以使用 getText 属性来比较文本并根据文本打开活动。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-10T08:11:35.820

我认为您可以在具有两种不同颜色和文本的线性布局中使用两个文本视图。然后你可以实现`onClicklistener()`两个文本视图。你会实现你想要的，它看起来和你期望的一样。

```
<LinearLayout
   android:layout_width="fill_parent"
   android:layout_height="fill_parent"
<TextView
    android:id="@+id/text1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:layout_below="@+id/settings" 
    android:layout_marginTop = "10dip"
    android:padding="3dip"
    android:text="@string/txt1"
    android:textColor="#000000"
    android:textSize="25sp"
    android:textStyle="bold" />

<TextView
    android:id="@+id/text2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:layout_below="@+id/settings" 
    android:layout_marginTop = "10dip"
    android:padding="3dip"
    android:text="@string/txt2"
    android:textColor="#1569C7"
    android:textSize="25sp"
    android:textStyle="bold" />

</LinearLayout> 
```

希望能帮助到你

# silverlight - 在 Internet Explorer 9 中使用 Silverlight DropShadowEffect 会导致模糊

> ID：11409024
> 
> 赞同：1
> 
> 时间：2012-07-10T08:03:16.440
> 
> 标签：silverlight, silverlight-5.0

我在 IE9 上的 Silverlight 5 中应用 DropShadowEffect。当元素在 IE9 中呈现时，它们看起来模糊或失焦。这是我正在使用的效果

```
<DropShadowEffect Direction="274" Opacity="0.5"/> 
```

在 Firefox 13.0.1 和 Chrome 20.0.1132 中，控件按预期呈现，没有模糊或柔和。这是一个已知问题吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:50:29.650

我最近在 IE 中遇到了 Silverlight 的问题，导致图像模糊（在渲染 WritableBitmaps 时）。该修复实际上不是修复，而是涉及检查缩放级别是否为 100%！

请注意，还有一些其他 IE9 怪癖，例如 Silverlight 的模糊文本，这里有一篇关于它的知识库文章：

[http://techblog.ginktage.com/2011/06/fix-for-internet-explorer-9-on-windows-7-for-blurred-fonts/](http://techblog.ginktage.com/2011/06/fix-for-internet-explorer-9-on-windows-7-for-blurred-fonts/)

# java - 创建ant自定义任务时出现ExceptionInInitializerError

> ID：11409025
> 
> 赞同：0
> 
> 时间：2012-07-10T08:03:18.767
> 
> 标签：java, ant

我正在 ant 中创建一个自定义任务，在创建该任务时，我面临着 ExceptionInInitializer 异常。我已将 jdom-2.0.2.jar 放在我的 ant lib 目录中，以便成功编译自定义任务。下面是我的自定义任务代码

```
import java.io.*;
import org.apache.tools.ant.BuildException;
import org.apache.tools.ant.Task;
import org.jdom2.Document;
import org.jdom2.Element;
import org.jdom2.JDOMException;
import org.jdom2.input.SAXBuilder;
import org.jdom2.output.Format;
import org.jdom2.output.XMLOutputter;

public class Demo extends Task {
    private String init;
    @Override
    public void execute() throws BuildException {
        if(!init.isEmpty() && init!=null){
            display();
        }else{
            throw new BuildException("Please enter attribute init");
        }
    }
    public void setInit(String init){
        this.init=init;
    }
    public void display(){
        System.out.println("init value is "+init);
        try {
             SAXBuilder saxBuilder = new SAXBuilder();
            } catch (Exception e) {
                e.printStackTrace();
                throw new BuildException("JDOMException caught");
            } 
    }
} 
```

这是我的蚂蚁文件

```
<project name="XMLUpdate" default="main" basedir=".">
   <target name="main" depends="compile,jar,runtask">
   </target>
   <target name="compile">
      <javac srcdir="." destdir="."/>    
   </target>
   <target name="jar">
     <jar destfile="./Demo.jar" basedir="." includes="*.class"/>
   </target>
   <target name="runtask">
         <taskdef name="dem" classname="Demo"/>
         <dem init="BOM.xml" />
   </target>
</project> 
```

我正面临 ExceptionInInitializer 异常 ![在此处输入图像描述](../Images/80d56adacef9d807eab3c43c31c72d44.png)

我认为编译器解析行时出现错误

```
SAXBuilder saxBuilder = new SAXBuilder(); 
```

老实说，到目前为止，我还没有在 java 中遇到过这个异常。这里有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-21T04:34:22.743

我遇到了同样的问题，并根据[here解决了](http://comments.gmane.org/gmane.comp.java.jdom.general/4070)

只需使用：

```
SAXBuilder saxBuilder = new SAXBuilder(new XMLReaderSAX2Factory(false, "org.apache.xerces.parsers.SAXParser")); 
```

而不是无参数构造函数。

# android - Android：从数据库中获取数据到 ListFragment

> ID：11409028
> 
> 赞同：2
> 
> 时间：2012-07-10T08:03:37.973
> 
> 标签：android, database, fragment

从数据库中获取数据到 LisFragment。我需要使用这个 ListFragment 文件内容到 MainActivity.java 中。

**扩展 ListFragment 的 SecondActivity：**

```
String DB = "TestDB";
String TABLE_NAME = "addcamera";
SQLiteDatabase sampleDB = null;
ArrayList<String> results = new ArrayList<String>();
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
sampleDB =  SQLiteDatabase.openOrCreateDatabase(DB, null);          
Cursor c = sampleDB.rawQuery("SELECT CameraName FROM " + TABLE_NAME , null);            
if (c != null) {
if  (c.moveToFirst()) {
do {
    String CameraName = c.getString(c.getColumnIndex("CameraName"));
    results.add(CameraName);
    }while (c.moveToNext());
} 
} 
ArrayAdapter<String> adapter = new ArrayAdapter<String>(getActivity(), android.R.layout.simple_list_item_1, results);
} 
```

**主.xml：**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">
 <fragment
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:name="com.exercise.FragmentTest.SecondActivity"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:id="@+id/image_list_fragment">
 </fragment>
</LinearLayout> 
```

谁能帮我？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T08:13:15.450

好吧，第一件事是第一 - 你`Activity`不应该扩展`ListFragment`，你自己的`Fragment`班级应该这样做。希望我没有误解任何事情。:-)

但是，您可以很容易地将您的`ListFragment`派生视为`ListActivity`，即您可以使用该方法从您的 XML`getListView()`中获取`ListView`相应的元素 ( )。`@android:id/list`

看到您已经`Cursor`准备好了，您应该考虑使用 a`SimpleCursorAdapter`并让它为您管理光标，并且*所有*您需要做的就是指定要使用哪些字段填充元素。

例子：

```
getListView().setAdapter( 
    new SimpleCursorAdapter(
        getActivity(),
        R.layout.your_list_item_layout,
        cursor,
        new String[] { "database_table_1", "database_table_2" },
        new int[] { R.id.element_1, R.id.element_2 }

    )
); 
```

更新：

这是您的自定义 ListFragment 的样子：

```
public class CustomListFragment extends ListFragment {

    // Attributes
    private Context mContext;
    private LayoutInflater mLayoutInflater;
    private SQLiteDatabase mSampleDb;
    private List<String> mResults;
    private Cursor mCursor;

    // Elements
    private ListView mListView;
    private SimpleCursorAdapter mListAdapter;

    // Constants
    private final String DB = "TestDB";
    private final String TABLE_NAME = "addcamera";

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {

        // Set our attributes
        mContext = getActivity();
        mLayoutInflater = inflater;

        // Let's inflate & return the view
        View view = mLayoutInflater.inflate(R.layout.your_fragment_layout, container, false);

        // Get the database handler & the cursor
        mSampleDb =  SQLiteDatabase.openOrCreateDatabase(DB, null);          
        mCursor = mSampleDb.rawQuery("SELECT CameraName FROM " + TABLE_NAME , null);  

        // Init
        init(view);

        // Return
        return view;

    }

    public void init(View v) {

        // Setup the listAdapter
        mListAdapter = new SimpleCursorAdapter(

            mContext,
            R.layout.your_list_item_layout,
            cursor,
            new String[] { "database_table_1", "database_table_2" },
            new int[] { R.id.element_1, R.id.element_2 }

            )
        );
        mListView.setAdapter(mListAdapter);

    }

    @Override
    public void onListItemClick(ListView l, View v, int pos, long id) {

        Toast.makeText(mContext, "CLICKED ON POS #" + pos + "!", Toast.LENGTH_SHORT).show();

    }
} 
```

# c# - 在抽象超类的子类中强制使用属性

> ID：11409031
> 
> 赞同：11
> 
> 时间：2012-07-10T08:04:01.197
> 
> 标签：c#, inheritance, abstract-class, custom-attributes

如何强制子类实现其超类的某些属性？原因是我想将属性用于类的一般信息，例如“DisplayName”、“Description”或“Capabilities”。

所以我想我可以在超类中实现它们并强制子类实现属性。

是否有类似`abstract`方法的属性？

```
[abstract DeclareMe]
public abstract class InheritMe {
    public abstract void DeclareMe();
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-10T08:31:20.450

由于您的类迟早必须运行，您可以向基类添加检查机制以验证子类中某些属性的存在。

这是给你的一些示例代码。

```
class Program
{
    static void Main(string[] args)
    {
        var a = new SubA();
        var b = new SubB();
    }
}

class BaseClass
{
    public BaseClass()
    {
        Type t = GetType();
        if (t.IsDefined(typeof(SerializableAttribute), false) == false)
        {
            Console.WriteLine("bad implementation");
            throw new InvalidOperationException();
        }
        Console.WriteLine("good implementation");
    }
}

[Serializable]
class SubA : BaseClass
{ }

class SubB : BaseClass
{ } 
```

最后一句话，不要对自己太警惕。当我在做设计时，我一直认为我可能会以错误的顺序调用两个方法或忘记做某事，然后我将一个简单的设计变成了一个复杂的设计，以防止我可能出现的错误。后来我把守卫扔掉了，只是抛出异常，用于检测意外情况的代码被`#if DEBUG`.

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-10T08:15:14.533

除了来自其他线程的答案：

您可以使用[FxCop](http://msdn.microsoft.com/en-us/library/bb429476%28v=vs.80%29.aspx)并实施一个自定义规则来检查您的属性是否存在。

# c++ - C/C++ LIBTIFF：需要从 BW TIFF 文件中读取白色和黑色像素的像素位置

> ID：11409036
> 
> 赞同：0
> 
> 时间：2012-07-10T08:04:14.987
> 
> 标签：c++, image-processing, pixel, tiff

我对使用 Visual C++ 进行图像处理相当陌生，我正在寻找一种读取黑白 TIFF 文件并将图像写入表示 0 或 1 的数组十六进制值的方法，然后获取 0（黑色）的位置信息或 1（白色）。

经过对谷歌的一些研究和这里的一篇文章[https://www.ibm.com/developerworks/linux/library/l-libtiff/#resources](https://www.ibm.com/developerworks/linux/library/l-libtiff/#resources)我有以下琐碎的问题，请给我指点相关文章，有太多了，我无法围绕它们进行思考，同时我将继续搜索和阅读。

*是否可以使用 LIBTIFF 从 TIFF 中提取像素位置信息？*

再次成为所有图像格式的新手，我不禁想到图像是由十六进制值的二维数组组成的，位图格式是否更合适？以这种方式思考让我想知道我是否可以将“白色”或“黑色”的位置从其高度映射到二维数组上。我想要“黑色”或“白色”的位置，可以吗？我真的不想要代表图像的 0 和 1 数组，不确定我是否需要它们。

4 x 2 BW 图像的 TIFF 示例：

*   黑，白
*   白色 黑色
*   黑色 黑色
*   白色 白色

在名为 mappingNonPrint() 的函数下输出到类似 ptLocArray[imageHeight][imageWidth] 的内容

*   2 1
*   4 4

或在名为 mappingPrint() 的函数下

*   1 2
*   3 3

*使用 LIBTIFF，它以什么方向/方式读取 TIFF 文件？*

理想情况下，我希望从上到下垂直读取 TIFF 文件，然后转到下一列，然后从上到下重新开始。但是我的直觉告诉我这是一个童话故事，对图像处理来说非常新，我想知道如何读取 TIFF，例如单条带。

## 附加信息

我想我应该添加为什么我想要像素位置。我正在尝试制作圆柱形卷筒打印机，使用提供位置反馈的光学旋转编码器。文件的高度代表卷筒表面的周长，文件的宽度代表转数。

以下是我的 ENC_reg() 的未经测试的逻辑，与图像处理部分几乎无关，但这可能有助于读者了解我正在尝试对已处理的 tiff 图像数组做什么。i 的索引从 0 到 imageHeight，但是，每个元素可以是从 0 到 imageHeight 的任意数字，可以是 112、354 等，对应于 tiff 图像中包含黑色的任何位置。j 的索引从 0 到 imageWidth，并且那里的每个元素也从 0 开始到 imageWidth。例如，ptLocArray[1][2] 表示第 2 列中第一个具有黑色像素的位置，存储在那里的值可能是 231。从第 2 列顶部算起的第 231 个像素。

我意识到数组 [imageHeight] [] 应该改为数组 [maxnum_blackPixelPerColumn]，但我不知道如何计算每列 1 或 0 的数量....因为我不知道如何转换正如我之前提到的，1 和 0 的顺序正确。

```
void ENC_reg()

{

if(inputPort_ENC_reg == true) // true if received an encoder signal

{ 

            ENC_regTemp ++; // increment ENC register temp value by one each time the port registers a signal

                if(ENC_regTemp == ptLocArray[i][j])
                {
                    Rollprint(); // print it
                    i++; // increment by one to the next height location that indicates a "black", meaning print

                    if (ENC_regTemp == imageHeight)
                    {
                    // Check if end of column reached, end of a revolution
                    j++; // jump to next column of the image (starting next revolution)
                    i = 0; // reset i index to 0, to the top of the next column
                    ENC_regTemp = 0; // reset encoder register temp to 0 for the new revolution
                    };
                };

            ENC_reg(); // recall itself;
        };
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:10:55.340

当我阅读您的示例时，您希望图像的每一列都有两个数组，一个包含该列中具有黑色像素的行数，另一个包含具有白色像素的行的索引。到此为止吧？

这当然是可能的，但需要*大量*内存。即使未压缩，灰度图像的单个像素也会占用一个字节的内存。您甚至可以使用位打包并将 8 个像素填充到一个字节中。另一方面，除非您将自己限制为不超过 255 行的图像，否则您将有多个字节来表示每个列索引。而且您需要额外的逻辑来标记列的结尾。

我的观点是：尝试使用“0 和 1 的数组”，因为这应该更容易完成，对内存的要求更低，运行效率更高。

# sql - 关于与数据库表进行比较的提示。表差异

> ID：11409046
> 
> 赞同：3
> 
> 时间：2012-07-10T08:04:50.933
> 
> 标签：sql, relational-database

请分享您关于比较表格的提示：

*   显示包含给定列集相同值的行
*   显示未包含在表 A 中但包含在表 B 中的行，反之亦然

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T08:14:04.473

我一直是 Redgate 工具的粉丝：[SQL 数据比较](http://www.red-gate.com/products/sql-development/sql-data-compare/)。

提供非常灵活的选项来将表/数据库与基于行、列、过滤器等的标准进行比较。例如

![在此处输入图像描述](../Images/90d3e206e9a8c6ed3563ddd40b376156.png)

它对数据库表的作用类似于 diff 工具对文本文件的作用。例如，在尝试识别开发服务器和生产服务器之间的数据星座之间的差异时特别有用。它还有一个非常方便的功能，可以根据增量生成 SQL 语句，以将更改从一台服务器应用到另一台服务器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T08:28:26.353

关于问题的第二部分：

> 显示未包含在表 A 中但包含在表 B 中的行，反之亦然

如果您使用的是 Oracle，则可以使用[减号](http://www.techonthenet.com/sql/minus.php)关键字：

```
select field1, field2, . field_n
from tables
MINUS
select field1, field2, . field_n
from tables; 
```

# javascript - 遍历集合中的数组并在 Backbone.js 中显示

> ID：11409048
> 
> 赞同：1
> 
> 时间：2012-07-10T08:04:52.633
> 
> 标签：javascript, backbone.js

我有一个带有评论列表的待办事项模板。每个待办事项在本地存储中都有一个评论数组“评论”。我获取所有待办事项，遍历每个待办事项的“评论”数组，我希望将所有评论分配给相应的待办事项。如何附加到正确的评论列表？

目前我得到这样的输出：

```
Post1
  Comment1_Post1
  Comment2_Post1
  Comment1_Post2
  Comment2_Post2
Post2
  Comment1_Post2
  Comment2_Post2 
```

Edit1：新的 CommentCollectionView

```
 render: function() {  
        this.$el.html(this.template());
        var commentList = this.$("ul.comment-list");
        this.collection.each(function(comment) {
            var commentView = new CommentView({model: comment});
            commentList.append(commentView.render().el);
        });            
        return this;
    }, 
```

HTML：

```
<body>
<div class="content">
   <ul class="todos-list"></ul>
</div>

// Templates
 <script type="text/template" id="todo-template">    
          <label class="todo-content"><%= content %></label>
          <ul class="comment-list" style="margin-left: 2em"></ul>
</script>

<script type="text/template" id="comment-template">    
          <label class="comment-content"><%= content %></label>      
</script> 
```

待办事项视图：

```
var TodoView = Backbone.View.extend({
     tagName: "li",
     template: _.template($("#todo-template").html()),     
     events: {
         "click button.addComment": "addComment"      
     },    
     initialize: function() {
         _.bindAll(this, "render");        
         this.model.bind("change", this.render);        
         var commentsArray = this.model.get("comments");          
         var commentCollection = new CommentCollection();
         commentCollection.add(commentsArray); 
         var commentCollectionView = new CommentCollectionView({model: commentCollection});       
     }
  }); 
```

评论收藏视图：

```
 var CommentCollectionView = Backbone.View.extend({
    initialize: function() {
         _.bindAll(this, "render", "appendItem", "addAll", "renderComment");
         this.model.bind("reset", this.addAll);
         this.model.bind("change", this.render);             
         this.model.bind("add", this.appendItem);            

         this.model.trigger("reset");
    },
    addAll: function() {
         this.model.each(this.appendItem);
    },        
    appendItem: function(comment) {                    
        var commentView = new CommentView({model: comment}); 
        $("ul.comment-list").append(commentView.render().el);    
   }    
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T19:01:32.623

我认为你的问题就在这里：

```
appendItem: function(comment) {                    
    var commentView = new CommentView({model: comment}); 
    $("ul.comment-list").append(commentView.render().el);    
} 
```

当您只想要该待办事项的特定内容时，您会`$('ul.comment-list')`找到所有内容。`<ul class="comment-list">``<ul>`

你应该把你`#todo-template`分成两部分：

```
<script type="text/template" id="todo-template">    
    <label class="todo-content"><%= content %></label>
</script>
<script type="text/template" id="comments-template">
    <ul class="comment-list" style="margin-left: 2em"></ul>
</script> 
```

然后`#comments-template`用作模板`CommentCollectionView`：

```
var CommentCollectionView = Backbone.View.extend({
    template: _.template($("#comments-template").html()),
    render: function() {
        this.$el.html(this.template());
        return this;
    },
    //...
});
var TodoView = Backbone.View.extend({
    //...
    render: function() {
        this.$el.html(this.template(...));

        // Use 'collection' here, not 'model'
        var c = new CommentCollectionView({collection: commentCollection});       
        this.$el.append(c.render().el);
        return this;
    }
}); 
```

然后你的`appendItem`变成：

```
appendItem: function(comment) {                    
    var commentView = new CommentView({model: comment}); 
    this.$el.append(commentView.render().el);
} 
```

那应该把`CommentView`正确的`<ul>`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T20:29:49.747

问题出在 TodoModel 的定义中，您没有粘贴它的代码，但我可以假设问题是对象数据类型的常见问题。

TodoModel 具有您以这种方式在默认值中定义的属性：

```
var TodoModel = Backbone.Model.extend({
  defaults : {
     //some
     comments : []
  }
}); 
```

因此，comments 是一个始终在所有 TodoModel 实例中使用的数组。以这种方式更改您的默认值：

```
var TodoModel = Backbone.Model.extend({
  defaults : function(){
     return {
       //some
       comments : []
     }
  }
}); 
```

更新，因为似乎是 jQuery 选择器范围的问题：为了确保您只使用当前视图的 DOM 元素，请使用 this. 而不是普通的 jQuery 调用，例如：this.$('ul.comment-list')

# sql-server-2005 - 从 SQL Server 访问 Active Directory

> ID：11409053
> 
> 赞同：0
> 
> 时间：2012-07-10T08:05:10.470
> 
> 标签：sql-server-2005, active-directory

我想访问 Active Directory 并能够通过 SQL Server 中的存储过程执行 LDAP 查询。

如何为此声明链接服务器？

如何声明 LDAP 查询？

提前致谢

科比

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:11:52.940

这应该会有所帮助：[http ://sql.dzone.com/news/querying-active-directory-thro](http://sql.dzone.com/news/querying-active-directory-thro)

# xquery - XQuery with string-join，一个参数是字符串，另一个是数字

> ID：11409064
> 
> 赞同：0
> 
> 时间：2012-07-10T08:05:36.023
> 
> 标签：xquery

我想列出相应的年份和订单总数。

```
<Samples>
  <Sample>
    <Year>2010</Year>
    <Order>20,000</Order>
  </Sample>
  <Sample>
    <Year>2011</Year>
    <Order>20,000</Order>
    <Order>35,000</Order>
  </Sample>
  <Sample>
    <Year>2012</Year>
    <Order>20,000</Order>
    <Order>23,000</Order>
    <Order>40,000</Order>
  </Sample>
</Samples> 
```

我期待输出为 -

```
Year        Orders
2010        1
2011        2
2012        3 
```

由于`<Order>`元素的数量本身会告诉我订单的总数，我在 BaseX 中尝试了以下内容 -

```
for $x in doc("Sample")/Samples/Sample
   return <li>{string-join ( ($x/Year, count($x/Order)) , " # ")}</li> 
```

但是我收到了一个错误，而且很明显，因为我在`string-join`函数中使用整数而不是字符串。或者有没有其他方法可以获得相同的输出？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:23:55.320

`string-join`需要字符串，而不是`count`返回的数字。添加演员表，它将运行。

```
for $x in /Samples/Sample
   return <li>{ string-join( ($x/Year, xs:string(count($x/Order))), " # ") }</li> 
```

我修复了另外两个错误：

*   你为什么要查询`Y`一年的属性？空无一人。
*   您将要计算`<Order>`标签，而不是`<Orders>`.

也许 using`concat`可以使代码更具可读性（只要您只使用两个参数）？

# matlab - 边缘去除（在matlab中）

> ID：11409069
> 
> 赞同：1
> 
> 时间：2012-07-10T08:05:52.323
> 
> 标签：matlab, image-processing, noise, edge-detection

我有一个看起来像这样的图像：

![在此处输入图像描述](../Images/8c28ddaab1c06a9626e1cc8a2fed3203.png)

（蓝色）背景的值为零，（红色）环的值“大”（与图像的其余部分相比）。我只想绘制样本的橙色部分。然而，由于图像的有限分辨率，边缘仍然显示如下：

![在此处输入图像描述](../Images/0790df459b3f28026f6ed3f7bbb755f6.png)

正如您所看到的，由于边缘的所有噪声，上面的白色区域（是的，有几个）很难看到。

有没有一个好的算法（在matlab中最好）可以帮助我清理这些图像？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T10:47:12.763

1.  找到环的二进制掩码

2.  `imdilate`使用和稍微扩大蒙版`strel`

3.  使用倒置蒙版“退出”环及其周围的区域

# chef-infra - 流浪问题

> ID：11409070
> 
> 赞同：5
> 
> 时间：2012-07-10T08:05:59.797
> 
> 标签：chef-infra, vagrant

我有一个由 vagrant 和 chef 制作的虚拟机。昨晚我的电脑在虚拟机启动并运行时意外重新启动。之后，当我尝试 vagrant up 虚拟机时，我得到： **Chef 从未成功完成！任何错误都应该在上面的输出中可见。请修复您的食谱，以便它们正确完成。**

```
[default] VM already created. Booting if it's not already running...
[default] Clearing any previously set forwarded ports...
[default] Forwarding ports...
[default] -- 22 => 2222 (adapter 1)
[default] Creating shared folders metadata...
[default] Clearing any previously set network interfaces...
[default] Preparing network interfaces based on configuration...
[default] Running any VM customizations...
[default] Booting VM...
[default] Waiting for VM to boot. This can take a few minutes.
[default] VM booted and ready for use!
[default] Configuring and enabling network interfaces...
[default] Mounting shared folders...
[default] -- v-root: /vagrant
[default] -- v-data: /vagrant
[default] -- v-csr-2: /tmp/vagrant-chef-1/chef-solo-2/roles
[default] -- v-csc-1: /tmp/vagrant-chef-1/chef-solo-1/cookbooks
[default] Running provisioner: Vagrant::Provisioners::ChefSolo...
[default] Generating chef JSON and uploading...
[default] Running chef-solo...
stdin: is not a tty
[Tue, 10 Jul 2012 00:59:36 -0700] INFO: *** Chef 0.10.2 ***
[Tue, 10 Jul 2012 00:59:36 -0700] INFO: Setting the run_list to ["role[my-site]"] from JSON
[Tue, 10 Jul 2012 00:59:36 -0700] INFO: Run List is [role[my-site]]
[Tue, 10 Jul 2012 00:59:36 -0700] INFO: Run List expands to [memcached, my-site, my-site::vm]
[Tue, 10 Jul 2012 00:59:36 -0700] INFO: Starting Chef Run for lucid32
[Tue, 10 Jul 2012 00:59:37 -0700] ERROR: Running exception handlers
[Tue, 10 Jul 2012 00:59:37 -0700] ERROR: Exception handlers complete
[Tue, 10 Jul 2012 00:59:37 -0700] FATAL: Stacktrace dumped to /tmp/vagrant-chef-1/chef-stacktrace.out
[Tue, 10 Jul 2012 00:59:37 -0700] FATAL: NoMethodError: undefined method `[]' for nil:NilClass
Chef never successfully completed! Any errors should be visible in the
output above. Please fix your recipes so that they properly complete. 
```

**后期编辑：**

*Stacktrace 转储到 /tmp/vagrant-chef-1/chef-stacktrace.out*

```
Generated at Tue Jul 10 00:59:37 -0700 2012
NoMethodError: undefined method `[]' for nil:NilClass
/tmp/vagrant-chef-1/chef-solo-1/cookbooks/my-site/recipes/default.rb:114:in `from_file'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/mixin/recipe_definition_dsl_core.rb:69:in `instance_eval'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/mixin/recipe_definition_dsl_core.rb:69:in `method_missing'
/tmp/vagrant-chef-1/chef-solo-1/cookbooks/my-site/recipes/default.rb:109:in `from_file'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/cookbook_version.rb:578:in `load_recipe'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/mixin/language_include_recipe.rb:40:in `include_recipe'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/mixin/language_include_recipe.rb:27:in `each'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/mixin/language_include_recipe.rb:27:in `include_recipe'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/run_context.rb:72:in `load'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/run_context.rb:69:in `each'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/run_context.rb:69:in `load'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/client.rb:195:in `setup_run_context'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/client.rb:159:in `run'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/application/solo.rb:192:in `run_application'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/application/solo.rb:183:in `loop'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/application/solo.rb:183:in `run_application'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/../lib/chef/application.rb:66:in `run'
/opt/ruby/lib/ruby/gems/1.8/gems/chef-0.10.2/bin/chef-solo:25
/opt/ruby/bin/chef-solo:19:in `load'
/opt/ruby/bin/chef-solo:19 
```

有什么想法吗，

谢谢，拉杜

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-26T17:57:27.303

这是您的厨师食谱本身的一个错误。如果您阅读堆栈跟踪，您可以看到错误实际上是在食谱中默认配方的第 114 行`my-site`。您看到的 Ruby 错误意味着您正在尝试执行类似`a[:foo]`where `a`is 的操作`nil`。当然，你不能调用`[]`.`nil`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T00:54:39.690

我有同样的问题。我发现在我的虚拟机中运行的主厨版本太旧了（0.10.10）。

你必须更新它：

```
local$ vagrant ssh
vagrant$ gem install chef

```

然后再试一次。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-17T01:53:27.823

我收到错误：

```
Chef never successfully completed! Any errors should be visible in the
output above. Please fix your recipes so that they properly complete.

Error executing action `create` on resource 'mysql_service[default]' 
```

我使用了：

```
local$ vagrant ssh
vagrant$ gem install chef 
```

再次尝试后，一切都很完美。

# ruby-on-rails-3 - Postgres 错误“参数“TimeZone”的值无效：“UTC””

> ID：11409075
> 
> 赞同：91
> 
> 时间：2012-07-10T08:06:25.313
> 
> 标签：ruby-on-rails-3, postgresql

```
Jupitor$ bundle exec rake db:create db:migrate
APP_development already exists
rake aborted!
PG::Error: ERROR:  invalid value for parameter "TimeZone": "UTC"
: SET time zone 'UTC' 
```

尝试迁移到我的 postgres 数据库时，我不断收到此错误。帮助将不胜感激！

* * *

## 回答 #1

> 赞同：135
> 
> 时间：2012-08-17T09:01:37.197

我在使用 Heroku 的 Postgres.app 时遇到了同样的问题。重新启动我的 Mac 解决了它。

* * *

## 回答 #2

> 赞同：79
> 
> 时间：2013-12-13T12:39:38.473

重新启动 postgresql 工作。

如果您使用自制软件安装了它，要重新启动，`brew info postgresql`会告诉您：

```
launchctl unload ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist
launchctl load ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist 
```

* * *

## 回答 #3

> 赞同：21
> 
> 时间：2019-02-21T17:09:29.003

`brew services restart postgresql`

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2012-08-05T19:05:00.180

尝试重新启动服务器。我通过 Homebrew 更新了 Postgresql，但忘记重新启动服务器并遇到同样的问题。我相信这是由于客户端和服务器版本不匹配。psql 开始于：

```
$ psql
psql (9.1.4, server 9.1.2)
Type "help" for help. 
```

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2019-09-24T21:06:30.850

根据[@MathiasJ 的回答](https://stackoverflow.com/a/12002810/1157242)，我没有重新启动我的整台机器，而是跑了

```
brew services restart postgresql@9.6 
```

我的后续`rake db:create`工作完美。

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2012-12-04T17:40:03.957

我认为我不应该为此获得任何分数，但是重新启动我的 Postgres.app（这比重新启动整个系统要好）为我解决了这个问题。该应用程序不会显示在 Dock 上，您可以在窗口顶部的导航栏上找到它。无论如何，希望它有所帮助。

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2017-01-31T17:10:05.933

如果没有其他解决方法并且您碰巧正在使用`homebrew`，则您可能对当前链接有问题。

假设您安装了两个`Postgres`版本，请确保您取消链接，然后再次链接。就我而言，我需要两个版本才能运行`pg_upgrade`。我有`postgresql95`，`postgresql`所以我做了：

```
$ brew unlink postgresql
$ brew unlink postgresql95
$ brew link postgresql95
$ brew link --overwrite postgresql 
```

这让我俩同时工作。希望它会有所帮助，因为我花了很长时间才弄清楚这一点！

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2012-07-17T22:51:25.937

我也有这个问题。

登录到数据库然后发出：

```
set time zone utc; 
```

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2013-07-19T19:59:46.130

实际发生的情况是您升级了 postgresql 服务器并清理了旧文件夹，但尚未重新启动 postgresql 服务器。服务器在已删除目录中搜索时区文件

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2015-04-23T18:36:52.860

在我的情况下，重新启动数据库没有帮助。更新 tzdata ( `apt-get install tzdata`) 对我有用。

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2014-08-25T11:38:39.653

只是重新启动数据库有帮助。Homebrew 更新了我的 Postgres 安装，但我还没有重新启动。

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2019-04-02T23:05:08.137

我在更新时区信息后也遇到了类似的问题，就是下载IANA数据库，使用zic编译。

我的问题实际上是在重新启动 PostgreSQL*后开始的。*我`invalid value for parameter TimeZone: UTC`重新启动并没有解决问题。

原来我的时区信息在更新后完全搞砸了。我在`/usr/share/zoneinfo`. 从 psql 控制台，我得到：

```
mydb=# SELECT * FROM pg_timezone_names;
ERROR:  could not stat "/usr/share/zoneinfo/PRC": No such file or directory 
```

我删除了所有这些悬空的符号链接。这样做之后，至少我可以开始`SELECT * FROM pg_timezone_names`工作，但仍然遇到同样的`invalid value...`错误。

最终为我解决问题的是创建一个新的符号链接：

```
cd /usr/share/zoneinfo
ln -s Etc/UTC UTC 
```

在此之后，`SET time zone 'UTC'`工作正常。

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2013-10-10T14:00:41.040

对于那些不使用 Postgres.app，但从命令行或通过 launchctl 启动 psql 的人来说，这只是一个快速参考。您需要针对 Postgres 数据和日志文件所在的位置调整以下内容：

```
pg_ctl stop
pg_ctl start -D /usr/local/pgsql/data/ -l /usr/local/pgsql/log/server.log 
```

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2019-11-26T03:08:45.773

`brew services restart postgresql`没有为我修好。我确信重新启动会起作用，但我想找出问题的原因。

* * *

我相信这个问题是由于`postgresql`.

我已经`postgresql`运行了 brew 服务，然后安装了`postgresql@11`它`postgresql`，即使在我卸载后仍然在 brew 服务中运行`postgresql`。

我通过停止`postgresql`brew 服务解决了这个问题，即使它没有在`brew services list`.

* * *

重现步骤：

```
$ brew install postgresql
$ brew services start postgresql

$ brew install postgresql@11
$ brew uninstall postgresql

$ brew services start postgresql@11 
```

怎么修：

```
$ brew services stop postgresql 
```

Opened an [issue](https://github.com/Homebrew/homebrew-core/issues/47193) on Homebrew requesting that a formula's service should automatically be stopped upon uninstall.

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2018-12-19T09:52:27.547

显然，在连接 Postgres 时，Java/JDBC 也会发生类似的事情。

那里的解决方案是告诉 JDBC 在获取连接时向 Postgres 报告正确的用户时区。

因此，在启动程序时明确提及用户时区有助于：

```
java -Duser.timezone=America/Los_Angeles com.example.MyMainClass 
```

笔记：

在此处添加此内容是因为这恰好是 Google 针对此问题连接到 Postgres 的第一个结果！

来源：

Yuriy 在 Jira 支持论坛上的评论： [https ://community.atlassian.com/t5/Jira-questions/invalid-value-for-parameter-quot-TimeZone-quot-quot-US-Pacific/qaq-p/ 839426](https://community.atlassian.com/t5/Jira-questions/invalid-value-for-parameter-quot-TimeZone-quot-quot-US-Pacific/qaq-p/839426)

# javascript - 查找包含单词的特定链接并添加到数组

> ID：11409077
> 
> 赞同：1
> 
> 时间：2012-07-10T08:06:32.340
> 
> 标签：javascript

我正在尝试在页面中搜索包含单词 playgame 的链接。如果他们找到了，那么我将它们添加到一个数组中。之后从数组中选择一个随机值并使用`window.location`. 我的问题是它说我`indexof`的未定义。我不确定这到底意味着什么，因为我仍在学习使用 javascript 的这个功能。

链接示例

```
<a href="playgame.aspx?gid=22693&amp;tag=ddab47a0b9ba5cb4"><img src="http://games.mochiads.com/c/g/running-lion-2/_thumb_100x100.jpg"></a> 
```

javascript

```
var gameLinks = document.getElementsByTagName("a");
if (gameLinks.href.indexOf("playgame") != -1) {
    var links = [];
    links.push(gameLinks.href);
    var randomHref = links[Math.floor(Math.random() * links.length)];
    window.location = randomHref;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:08:02.823

> 我的问题是它说我的 indexof 未定义

不是`indexOf`，你打电话给它的东西。`gameLinks`是 a `NodeList`，它没有`href`属性。您需要遍历列表的内容以查看单个元素的`href`属性。例如：

```
var index, href, links, randomHref, gameLinks;
gameLinks = document.getElementsByTagName("a");
// Loop through the links
links = [];
for (index = 0; index < gameLinks.length; ++index) {
    // Get this specific link's href
    href = gameLinks[index].href;
    if (href.indexOf("playgame") != -1) {
        links.push(href);
    }
}
randomHref = links[Math.floor(Math.random() * links.length)];
window.location = randomHref; 
```

更多探索：

*   [DOM2 核心](http://www.w3.org/TR/DOM-Level-2-Core/)
*   [DOM2 HTML](http://www.w3.org/TR/DOM-Level-2-HTML/)
*   [DOM3 核心](http://www.w3.org/TR/DOM-Level-3-Core/)
*   [HTML5 Web 应用程序 API](http://www.w3.org/TR/html5/webappapis.html#webappapis)

# iphone - TouchXMl (nodesForXPath) 返回 NULL 对象

> ID：11409078
> 
> 赞同：2
> 
> 时间：2012-07-10T08:06:40.367
> 
> 标签：iphone, touchxml

我有以下 xml mutableData。

```
<responce xmlns:xsi="http://.." xmlns:xsd="http://..." xmlns="http://...">
  <Succeeded id="0">
    <uri>userName</uri>
    <signatureData>PdppDDD8388OPDJJD==</signatureData>
  </Succeeded>
</responce> 
```

我已经编写了以下代码行来解析上述 xml 字符串。

```
CXMLDocument *doc=[[CXMLDocument alloc]initWithData:responseData options:0 error:nil];
NSArray *nodes=nil;
nodes=[doc nodesForXPath:@"//signatureData" error:nil]; 
```

这里 responceData 保存在 xml 字符串之上。我必须找到 signatureData 值。但它在节点数组中发送 0 个对象。代码有什么问题？

# android - 如何在android中识别指定应用程序（.apk）的包名称

> ID：11409086
> 
> 赞同：0
> 
> 时间：2012-07-10T08:07:05.550
> 
> 标签：android, package

我的应用程序包含一些 *.apk 文件列表。

我只知道应用程序（example.apk）的名称。

如何以编程方式识别此应用程序（example.apk）包名称。

是否可以。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:10:19.547

这将遍历已安装的应用程序并获取包名和 apk 路径。假设您的 apk 有 ApplicationInfo，您可以执行与此处相同的方法（无循环）。

```
PackageManager pm = getPackageManager();
for(ApplicationInfo app : pm.getInstalledApplications(0)) {
    Log.d("PackageList", "package: " + app.packageName + ", sourceDir: " + app.sourceDir);
} 
```

# iphone - 无法识别的选择器发送到 OAuthCore 类中的类

> ID：11409089
> 
> 赞同：2
> 
> 时间：2012-07-10T08:07:22.743
> 
> 标签：iphone, objective-c, ios, oauth

我创建了一个图书馆项目，我正在尝试在 Twitter 上分享。但是当我尝试在 Twitter 上时，应用程序在以下行崩溃

```
NSString *_oAuthNonce = [NSString ab_GUID]; 
```

错误：

> +[NSString ab_GUID]: 无法识别的选择器发送到类 0x1a09fd8

ab_GUID 此方法存在于`OAuthCore`类中

```
+ (NSString *)ab_GUID
{
    CFUUIDRef u = CFUUIDCreate(kCFAllocatorDefault);
    CFStringRef s = CFUUIDCreateString(kCFAllocatorDefault, u);
    CFRelease(u);
    return [(NSString *)s autorelease];
} 
```

（我的所有类都存在于静态库中）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T13:02:36.773

既然您说您使用的是静态库：

确保您启用了 -ObjC 标志（在使用[此处处理的库相同问题](https://stackoverflow.com/questions/932856/calling-method-on-category-included-from-iphone-static-library-causes-nsinvalida)的项目中）。或者它不会链接静态库中的类别。

[静态库中的 Objective-C 类别](https://stackoverflow.com/questions/2567498/objective-c-categories-in-static-library)

![在此处输入图像描述](../Images/e3b9af33c8057823dbac3356cecd98a3.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:11:24.850

你导入了`<OAuthCore/OAuth+Additions.h>`吗？似乎导入`<OAuthCore/OAuthCore.h>`不会自动包含此内容。

还要确保[`OAuth+Additions.m`](https://github.com/atebits/OAuthCore/blob/master/OAuth%2BAdditions.m)编译到静态库中。

# android - 垂直“带页面的 Gridview”或“Viewpager”

> ID：11409091
> 
> 赞同：3
> 
> 时间：2012-07-10T08:07:30.000
> 
> 标签：android, gridview, android-viewpager

我在功能上需要的是一个`Vertical ViewPager with GridView`. 所以 的每一页都`ViewPager`应该有一个`GridView`，但`ViewPager`是水平的。

所以有两种可能：

*   使用 GridView 旋转 ViewPager
*   创建一个在页面中显示项目的 GridView

当用户滚动 20-40 等时，GridView 应该显示 0-20。

有人对此有解决方案吗？

我已经检查了[这个链接](https://github.com/JakeWharton/Android-DirectionalViewPager)，但由于法律原因我不能使用它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T08:16:24.347

听起来你真正需要的是一个垂直的 ViewPager。虽然 Android 只提供了一个水平的，但没有什么能阻止你自己实现它。获取[ViewPager 源代码](http://code.google.com/p/openintents/source/browse/trunk/compatibility/AndroidSupportV2/src/android/support/v2/view/ViewPager.java?r=3488)并对其进行修改以检测向上/向下滑动而不是向左/向右滑动。源代码是在 Apache 2.0 许可下分发的，因此您拥有创建衍生作品的完全权利，而无需分发它的源代码。

很少有地方可以改变，特别是与计算滑动方向/斜率相关的方法（上/下而不是左/右）和与布局计算相关的方法（使用高度而不是宽度和布局页面彼此下方）。

# c# - 如何从 Asp.net 中的 HTML 源中删除缺失的标签

> ID：11409093
> 
> 赞同：0
> 
> 时间：2012-07-10T08:07:45.547
> 
> 标签：c#, html, asp.net, regex

有时我们发现我们从某些网站收到的 HTML 源代码没有正确的标签结尾，这会影响我们的 UI。所以，像

```
<br /><p>hello the para start here </p> <p>some text and no ending tag 
```

而且没有结束标签。

我想保留 HTML 格式并希望这样

```
<br /><p>hello the para start here </p> some text and no ending tag 
```

还有一件事是，有时我们会在开始时得到结束标签，这也应该由算法解决。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T06:17:02.950

嘿，伙计们，我想了很长时间，最后我有了解决问题的代码，我将其发布在这里，以便其他人可以从中受益....

```
 public static string RemoveIncompleteTags(string source, string tag)
    {
        source = source.Replace("  ", " ");
        source = source.Replace("/n", string.Empty).Replace("/r", string.Empty).Replace("/t", string.Empty);
        source = source.Replace("<" + tag + "></" + tag + ">", string.Empty);
        source = source.Replace("<" + tag + "> </" + tag + ">", string.Empty);
        source = source.Replace("<" + tag + ">  </" + tag + ">", string.Empty);
        Dictionary<int, string> oDict = new Dictionary<int, string>();
        string[] souceList;
        Dictionary<int, string> final = new Dictionary<int, string>();
        bool opening = false;
        bool operate = false;
        source = source.Replace("  ", " ");
        source = source.Replace(">", "> ").Replace("<", " <");
        source = source.Replace(" >", ">").Replace("< ", "<");
        source = source.Replace("  ", " ").Replace("  ", " ");
        souceList = source.Split(' ');
        for (int i = 0; i < souceList.Length; i++)
        {
            string word = souceList[i];
            if (word.ToLower() == "<" + tag.ToLower() + ">")
            {
                opening = true;
                operate = true;
            }
            else if (word.ToLower() == "</" + tag.ToLower() + ">")
            {
                opening = false;
                operate = true;
            }
            if (operate)
            {
                if (opening)
                {
                    oDict.Add(i, word);
                    final.Add(i, word);
                }
                else
                {
                    if (oDict.Count != 0)
                    {
                        oDict.Remove(oDict.Last().Key);//.ToList().RemoveAt(oDict.Count - 1);
                        final.Add(i, word);
                    }
                    else
                    {
                        // need not to add to the output string 
                        // code if you want to log
                    }
                }
                operate = false;
                opening = false;
            }
            else
            {
                final.Add(i, word);
            }
        }
        if (final.Count > 0)
        {
            if (oDict.Count > 0)
            {
                foreach (var key in oDict.Keys)
                {
                    final.Remove(key);
                }
            }
            StringBuilder fText = new StringBuilder();
            final.ToList().ForEach(wd =>
                {
                    if (wd.Value.Trim().Length > 0)
                        fText.Append(wd.Value.Trim() + " ");
                });
            return fText.ToString().Trim();
        }
        else
        {
            return string.Empty;
        }
    } 
```

谢谢...

# image - 检测仅包含文本的图像

> ID：11409096
> 
> 赞同：4
> 
> 时间：2012-07-10T08:08:03.740
> 
> 标签：image, algorithm, delphi, image-processing

我有一个包含两种图像的数据库：

*   是否集成文字的照片
*   仅包含背景颜色和文本的图像

我有一个德尔福网络服务，我只想向客户发送照片。是否存在任何简单快速的算法来检测图像是否只是带有文本的背景？应该使用什么类型的方法？

提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T08:14:39.717

您可以使用 OCR（光学字符识别）库。看看[这个](https://stackoverflow.com/questions/4919094/recognizing-text-from-a-picture-in-delphi)问题。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-10T10:38:31.653

[如果您计算图像颜色](http://www.efg2.com/Lab/Graphics/Colors/ShowImage.htm)，您可能会做得更快。请参阅 ImageProcessingPrimitives.PAS 单元中的 CountColors 函数。

因为背景是一种颜色。

# sql - 如何在 sql server 2008 中用 CTE 替换光标代码

> ID：11409101
> 
> 赞同：0
> 
> 时间：2012-07-10T08:08:21.903
> 
> 标签：sql, sql-server, cursor, common-table-expression

我有一个条件，我需要从一个主表中提取 id，然后基于该值从两个不同的表中提取值，然后使用这些值更新/插入第三个表。

我正在使用游标遍历主表中的记录，但是我觉得这会导致性能问题。我想知道这是否可以使用 CTE 来完成。我尝试使用 CTE，但它是非递归的，我完全迷失在哪里出错了。

这是我的存储过程的方式 -

```
//
BEGIN

declare @variables char(10);
DECLARE @cursor CURSOR; --DECLARE CURSOR
SET @cursor = CURSOR FOR -- SET CURSOR
    -- pull in value for curso
OPEN @cursor
FETCH NEXT
FROM @cursor INTO @variables --FILL IN CURSOR TO LOOP THROUGH

WHILE @@FETCH_STATUS = 0 
    BEGIN

        BEGIN
            --PUll values from table 1
        END
        BEGIN
            --Pull values from table 1
            -- Do some maths on the values pulled
        END
        BEGIN
            --function/sql to  update or insert
        END 

    FETCH NEXT
        FROM @cursor INTO @variables;
    END
    CLOSE @cursor;
    DEALLOCATE @cursor;

END
// 
```

使用 CTE，我的代码是 -

```
//

;WITH CTE AS 
    (
    --pull values from master table
)

BEGIN
     BEGIN
         -- pull values from table 1
     END
 BEGIN
         -- Pull values from table 2, do the calculations
 END
 BEGIN
          -- insert or update as needed. 
 END
// 
```

# android - 应用程序未进入 ICS 市场 android

> ID：11409104
> 
> 赞同：1
> 
> 时间：2012-07-10T08:08:29.203
> 
> 标签：android

我已经在 android 市场中添加了这些权限。

```
<!-- Camera -->
<!-- Required to be able to access the camera device. -->
<uses-permission android:name="android.permission.CAMERA"/> 
<uses-feature android:name="android.hardware.camera" />    
<uses-feature android:name="android.hardware.camera.autofocus" android:required="false" /> 
```

然后我已将该应用程序上传到 Android Market。但我在Android 4.0.3 平板市场上是看不到的。但在 Android HoneyComb 市场中可见。

Minsdkversion：12 目标：12

有什么我做错了吗？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T08:20:58.203

目标 sdk 版本应该始终是可用的最高版本。所以使用 4.1 sdk 并将目标设置为 16。

# php - CakePHP CakeMail 将电子邮件发送到 TLS Microsoft Exchange Server 2010（Godaddy 中的托管 Exchange）

> ID：11409112
> 
> 赞同：0
> 
> 时间：2012-07-10T08:08:52.947
> 
> 标签：php, cakephp, exchange-server

我一直在尝试使用 CakePHP (CakeMail) 向 Microsoft Exchange 2010 Server 发送电子邮件的几个配置选项。这是我目前的配置：

```
 public $default = array(
    'transport' => 'Smtp',
    'from' => array('email@example.com' => 'Me'),
    'host' => 'smtp.ex3.secureserver.net',
    'port' => 587,
    'timeout' => 30,
    'username' => 'verifiedUserName',
    'password' => 'verifiedPassword',
    'client' => null,
    'log' => true,
    'delivery' => 'smtp'
); 
```

这是我的测试功能：

```
 public function test_email() {
    App::uses('CakeEmail', 'Network/Email');
    $email = new CakeEmail();
    $email->config('default');
    debug($email->config());
    $result = $email->template('checkout')
            ->from('email@example.com')
            ->emailFormat('text')
            ->to('another@example.com')
            ->subject('TEST EMAIL ')
            ->send();
} 
```

我得到一个

```
SMTP Error: 504 5.7.4 Unrecognized authentication type 
```

如果我将主机更改为 'ssl://smtp.ex3.secureserver.net' 或 'tls://smtp.ex3.secureserver.net' 我会得到一个

```
Unable to connect to SMTP server. 
```

服务器配置为使用 TLS。

有任何想法吗 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T16:40:03.247

（来自书中） [http://book.cakephp.org/2.0/en/core-utility-libraries/email.html#configuration](http://book.cakephp.org/2.0/en/core-utility-libraries/email.html#configuration)

从 2.3.0 开始，您还可以使用 tls 选项启用 TLS SMTP：

```
<?php
class EmailConfig {
    public $gmail = array(
        'host' => 'smtp.gmail.com',
        'port' => 465,
        'username' => 'my@gmail.com',
        'password' => 'secret',
        'transport' => 'Smtp',
        'tls' => true
    );
} 
```

参考这里的功能拉请求> [https://github.com/cakephp/cakephp/pull/734](https://github.com/cakephp/cakephp/pull/734)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-17T11:44:05.767

您应该在 $default 配置中使用 "tls"=>true。

# iphone - 重复自我执行选择器

> ID：11409113
> 
> 赞同：4
> 
> 时间：2012-07-10T08:09:04.897
> 
> 标签：iphone, ios, xcode

我只是在徘徊如果有更简单的方法可以重复下面的代码 20 秒。如果有，怎么做？

```
[self performSelector:@selector( move1) withObject:nil afterDelay:0.0];
[self performSelector:@selector( move2) withObject:nil afterDelay:0.2];
[self performSelector:@selector( move3) withObject:nil afterDelay:0.4];
[self performSelector:@selector( move1) withObject:nil afterDelay:0.8];
[self performSelector:@selector( move2) withObject:nil afterDelay:0.10];
[self performSelector:@selector( move3) withObject:nil afterDelay:0.12]; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-10T08:19:09.880

根据我的观点，试试下面的代码，

在控制器的 .h 文件中取一个 NSInteger，如下所示，

```
NSInteger intTmp; 
```

然后在 .m 文件中像这样调用 NSTimer 方法，

```
[NSTimer scheduledTimerWithTimeInterval:1.0 target:self selector:@selector(testMethod:) userInfo:nil repeats:YES]; 
```

像这样写选择器

```
-(void)testMethod:(NSTimer *)pTmpTimer
{
    intTmp += 1;

    if(intTmp <= 20)
    {
        [self performSelector:@selector( move1) withObject:nil afterDelay:0.0];
        [self performSelector:@selector( move2) withObject:nil afterDelay:0.2];
        [self performSelector:@selector( move3) withObject:nil afterDelay:0.4];
        [self performSelector:@selector( move1) withObject:nil afterDelay:0.8];
        [self performSelector:@selector( move2) withObject:nil afterDelay:0.10];
        [self performSelector:@selector( move3) withObject:nil afterDelay:0.12];    
    }
    else 
    {
        [pTmpTimer invalidate];
        intTmp = 0;
    }
} 
```

从上面的代码中，testMethod 将调用 20 次，根据您的要求，您的代码将重复 20 次。

希望对你有效。

快乐的编码..

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-10T08:15:36.197

您可以使用 NSTimer 并在计时器调用的选择器中调用接下来出现的适当移动方法。

你可以使用

```
+ (NSTimer *)scheduledTimerWithTimeInterval:(NSTimeInterval)seconds target:(id)target selector:(SEL)aSelector userInfo:(id)userInfo repeats:(BOOL)repeats 
```

userInfo 可用于将一些数据传递给选择器，选择器可以从中获取下一个移动或最近调用的移动。

```
NSTimer *myTimer = [NSTimer scheduledTimerWithTimeInterval:0.2 target:self selector:@selector(invokeMove:) userInfo:[NSNumber numberFromInt:1] repeat:NO]; 
```

您的选择器可能是：

```
-(void)invokeMove:(id)nextMove
{ 
    if ([nextMove isKindOfClass: [NSNumber class]])
    {
        int veryNextMove = 0;
        switch ([nextMove intValue])
        {
           case 1:
              veryNextMove = 1;
           case 2:
              veryNextMove = 2;
           case 3:
              veryNextMove = 3;
        }
        if (veryNextMove == 0)
            return;
        NSTimer *myTimer = [NSTimer scheduledTimerWithTimeInterval 0.2 target:self selector:@selector(invokeMove:) userInfo:[NSNumber numberFromInt:2] repeat:NO];
        //Assuming you use ARC. 
     }        
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-10T09:16:40.587

安排一个间隔为 1 的计时器，并在选择器中编写您的代码。

```
timer = [NSTimer scheduledTimerWithTimeInterval:1 target:self selector:@selector(callMethods) userInfo:nil repeats:YES]; 
```

选择器方法

```
 - (void) callMethods {
        static int i = 0;
       if(i < 19) {
           //your code here
         for(int j=0; j<2 ;j++) {
           [self performSelector:@selector( move1) withObject:nil afterDelay:(j*8)/10];
           [self performSelector:@selector( move2) withObject:nil afterDelay:((j*8)/10)+0.2];
           [self performSelector:@selector( move3) withObject:nil afterDelay:((j*8)/10)+0.4];
         }

        }
        else {
           i = 0;
           [timer invalidate];
        }
      i++;
      } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-23T09:38:47.550

```
-(void)trickShot{
[self performSelector:@selector( move1) withObject:nil afterDelay:0.0];
[self performSelector:@selector( move2) withObject:nil afterDelay:0.2];
[self performSelector:@selector( move3) withObject:nil afterDelay:0.4];
[self performSelector:@selector( move1) withObject:nil afterDelay:0.8];
[self performSelector:@selector( move2) withObject:nil afterDelay:0.10];
[self performSelector:@selector( move3) withObject:nil afterDelay:0.12];
[self performSelector:@selector( trickShot) withObject:nil afterDelay:20];
} 
```

# android - 安卓 GCM 不工作

> ID：11409119
> 
> 赞同：8
> 
> 时间：2012-07-10T08:10:03.790
> 
> 标签：android, google-cloud-messaging

我使用 goole 提供的示例，并构建了一个客户端应用程序来获取通知和一个服务器端，这两个应用程序（代码）都是 google 提供的。

我在客户端运行应用程序并获得了registration_id。一些巨大的字符串，格式如下：

`APA91bEgguwt98xLbivrXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXLxDalNoEktCSVbOkT0-uFH2FaRnfpkRME2tzuvr0BycMNEhX_Ix1PV_XXXXXXXXXXXXXXXXXXXXXN5hcseY_wA`.

这向我证明了客户端应用程序有效。现在服务器（java，google示例）：

```
public static void main(String[] args) {

        Sender sender = new Sender("AIzaSXXXXXXXXXX_XXXXXXXXXXXXXXXrQOnoGZw");      
        Message message = new Message.Builder()
        .collapseKey("1")
        .timeToLive(3)
        .delayWhileIdle(true)
        .addData("message",
          "this text will be seen in notification bar!!")
        .build();

        try {
            Result result = sender.send(message, "APA91bEgguwt98xLbivrXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXLxDalNoEktCSVbOkT0-uFH2FaRnfpkRME2tzuvr0BycMNEhX_Ix1PV_XXXXXXXXXXXXXXXXXXXXXN5hcseY_wA", 3);
            System.out.println(result.toString());
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
} 
```

这是服务器。当我运行服务器时，我得到如下结果： **[ messageId=0:1341907115903155%921c249a00000031 ]** 但客户端上没有消息，我不明白为什么。我从服务器得到的响应是什么意思？是成功响应吗？

我需要帮助以了解问题所在？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-10T16:23:07.947

请查看他们的评论

[http://developer.android.com/guide/google/gcm/gcm.html](http://developer.android.com/guide/google/gcm/gcm.html)

注意：如果您的组织有防火墙限制进出 Internet 的流量，您需要将其配置为允许与 GCM 连接。要打开的端口是：5228、5229 和 5230。GCM 通常只使用 5228，但有时会使用 5229 和 5230。GCM 不提供特定 IP。它经常更改IP。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-11T11:22:12.923

根据[GCM 文档](http://developer.android.com/guide/google/gcm/adv.html)：

> 当第 3 方服务器向 GCM 发布消息并收到返回的消息 ID 时，并不意味着该消息已经传送到设备。相反，这意味着它已被接受交付。消息被接受后会发生什么取决于许多因素。
> 
> 在最好的情况下，如果设备连接到 GCM，屏幕处于开启状态，并且没有节流限制（请参阅节流），则消息将立即传递。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-20T09:29:28.050

如果您正在使用它，请删除您的互联网防火墙，然后重试

[请通过这个](http://developer.android.com/guide/google/gcm/gcm.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-05-04T09:11:15.417

如果您在 GCM 中遇到延迟通知或消息问题，请尝试此解决方案。

我知道这不是正确的解决方案，但它是**有效**的安装这个应用程序它真的对我有用[这里](https://play.google.com/store/apps/details?id=com.andqlimax.pushfixer.noroot&hl=en)

# xml - 我有一个 XML 文件，但有两个组合框，我想根据第一个填充第二个组合框

> ID：11409124
> 
> 赞同：1
> 
> 时间：2012-07-10T08:10:25.803
> 
> 标签：xml, vb.net, combobox

我的应用程序上有两个组合框。第一个组合框可以获得所有需要的数据（在这种情况下是工厂编号），但是根据选择的工厂，我希望下一个组合框（在这种情况下是行号）自动填充该工厂的正确行。这是我的 XML 文件 - 或测试数据

```
<?xml version="1.0" encoding="utf-8"?>
<Profiles>
<Factories>
  <Factory>F1</Factory>

  <Factory>F2</Factory>

  <Factory>F3</Factory>

  <Factory>F4</Factory>

  <Factory>F5</Factory>
  <Factory>F6</Factory>
  <Factory>F7</Factory>
  <Factory>F8</Factory>
</Factories>

  <Lines>
    <F1>G1</F1>
    <F1>G2</F1>
    <F1>G3</F1>
  </Lines>
</Profiles> 
```

这是我到目前为止所拥有的：

```
Private Sub populateComboBoxes()
    Dim doc As New XmlDocument()
    doc.Load("C:\TFS2010Source\ShopFloorApps\Main\Source\Components\000280LinePCBackup\000280LinePCBackup\Lines.XML")

    Dim factoryList As XmlNodeList = doc.SelectNodes("/Profiles/Factories/Factory")
    For Each Factory As XmlNode In factoryList
        factoryComboBox.Items.Add(Factory.InnerText)
    Next

End Sub

Private Sub factoryComboBox_SelectedIndexChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles factoryComboBox.SelectedIndexChanged
    Dim doc As New XmlDocument()
    doc.Load("C:\TFS2010Source\ShopFloorApps\Main\Source\Components\000280LinePCBackup\000280LinePCBackup\Lines.XML")

    Dim lineList As XmlNodeList = doc.SelectNodes("/Profiles/Lines")

    For Each line As XmlNode In lineList

        If factoryComboBox.SelectedItem.ToString = line.FirstChild.Name Then

            lineComboBox.Items.Add(line.FirstChild.InnerText)

        End If
        Next
End Sub 
```

所以我想要的是当我选择 F1 时，另一个组合框会填充 G1、G2 和 G3 行。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:33:17.203

您必须清除 Items 集合`lineComboBox`并更改`SelecteNodes`路径。

```
lineComboBox.Items.Clear()
Dim lineList As XmlNodeList = doc.SelectNodes("/Profiles/Lines/" & factoryComboBox.SelectedItem.ToString)
For Each line As XmlNode In lineList
    lineComboBox.Items.Add(line.FirstChild.InnerText)
Next 
```

# c# - 使用 HTMLAgilityPack 选择具有属性 data-url 的元素

> ID：11409128
> 
> 赞同：14
> 
> 时间：2012-07-10T08:10:38.000
> 
> 标签：c#, .net, html-agility-pack

我正在写一个小下载机器人，它正在为它自己搜索较低层的链接。

我需要找到的是 html 页面中的所有链接（.jpg 文件的链接以及.pgn、.pdf、.html、.... 文件的链接）

我正在使用 html-agilitypack 查找所有 a-href 链接。

示例代码：

```
foreach (HtmlNode link in htmlDocument.DocumentNode.SelectNodes("//a[@href]"))
{
    HtmlAttribute attribute = link.Attributes["href"];
    links.Add(attribute.Value);
} 
```

但我也想找到数据网址。

我必须使用什么 XPath 语法来查找数据 URL。htmlcode 中的示例数据 url：

```
 <div class="cbreplay" data-url="2012\edmonton\partien.pgn"></div> 
```

我需要这个示例中的“2012\edmonton\partien.pgn”。我如何使用 XPath 语法来实现这一点？

最好的问候，如果我犯了一些严重的错误，请告诉我。这是我有史以来的第一个问题。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-07-10T08:21:48.427

以下应该做你想要的：

```
foreach (HtmlNode divNode in htmlDocument.DocumentNode.SelectNodes("//div[@data-url]"))
{
    HtmlAttribute attribute = divNode.Attributes["data-url"];
    links.Add(attribute.Value);
} 
```

实际上，该语句`//div[@data-url]`应选择具有 data-url 属性的所有节点。然后我们拉出这个属性。

如果除具有此属性的 div 之外还有其他节点，那么`//*[@data-url]`应该可以解决问题。

# email - 单独的网络和电子邮件主机

> ID：11409132
> 
> 赞同：2
> 
> 时间：2012-07-10T08:10:56.923
> 
> 标签：email, web, dns, hosting

我的客户在 X 公司注册了他们的域名 (lorem.com)，X 公司也托管了他们的电子邮件。我想通过单独的托管公司（Y 公司）托管他们的新网站。我知道我需要更新其域名的 DNS 名称服务器以指向公司 Y 的名称服务器。我不确定如何处理电子邮件主机。在他们的域上进行 MX 查找，目前显示：

> 首选主机名
> 
> 10 lorem.com
> 
> 20 mx2.companyX.com

我需要对 MX 记录进行任何更新吗？另外，我是否需要添加/编辑 A 记录以指向公司 Y 的 IP 地址？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T14:59:39.257

因此，如果我理解正确，您只是将您的网站从旧托管公司迁移到新托管公司。

> 我需要对 MX 记录进行任何更新吗？

**不，**由于您希望旧服务器（托管公司）继续管理您的电子邮件，因此不需要更改 MX 记录。

> 另外，我是否需要添加/编辑 A 记录以指向公司 Y 的 IP 地址？

**正确的。**您只需在 Y 公司的 IP 中输入新的 A 记录。请记住更改 .(root) 和 www（如果存在 www 子域）以及您的网站可能具有的任何其他子域（例如 ftp 等）的 A 记录

# css - jquery ui 手风琴 - 灵活的标题样式

> ID：11409134
> 
> 赞同：0
> 
> 时间：2012-07-10T08:11:02.737
> 
> 标签：css, jquery-ui, accordion

我正在使用 jquery UI 手风琴插件，但我需要能够单独设置每个元素的样式。例如，我需要不同颜色的标题（整个列表中将使用 3 种不同的颜色）。为这些元素设置自定义 css 类，例如，因为它被 UI css 覆盖而不起作用

有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:16:06.463

您可以使用 !important 覆盖 jQuery UI CSS。

例如：

```
.header {
  color: #fff !important;
} 
```

# html - 奇怪的 HTML 问题

> ID：11409138
> 
> 赞同：0
> 
> 时间：2012-07-10T08:11:09.687
> 
> 标签：html, css

这可能是一个简单的问题，但...

如何让图像填充文本右侧的空白区域？截图：[http ://awesomescreenshot.com/076a3d871](http://awesomescreenshot.com/076a3d871)

HTML 文件在这里：[https](https://dl.dropbox.com/u/22089670/paywallify/index.html)
://dl.dropbox.com/u/22089670/paywallify/index.html CSS：dl.dropbox.com/u/22089670/paywallify/css/style.css

提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:15:16.433

确保主框有一个宽度（你有），然后减小介绍框的宽度。设置浮动：左；

确保旁边框的宽度介于主宽度减去介绍框宽度之间，并设置浮动：右；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:12:51.270

您需要减小以下宽度：

```
section#main .intro-box 
```

# algorithm - Clojure 中的功能性广度优先树遍历难倒了？

> ID：11409140
> 
> 赞同：20
> 
> 时间：2012-07-10T08:11:22.120
> 
> 标签：algorithm, clojure, functional-programming

假设我根据[这篇文章](https://stackoverflow.com/questions/1787708/representing-a-tree-in-clojure)中的建议定义了一棵树，尽管在我的情况下它是一个向量，但希望这无关紧要（它们是 Programming Clojure 书中的向量）：

```
(def tree [1 [[2 [4] [5]] [3 [6]]]]) 
```

这应该是这样的：

```
 1
     / \
    2   3
   / \  |
  4   5 6 
```

现在，我想在没有任何传统方法（例如队列）的情况下对树进行广度优先遍历，而是专门使用堆栈来传递信息。我知道这不是最简单的路线，但我主要是作为锻炼来做的。同样在这一点上，我不打算返回一个集合（我会在之后作为练习来解决这个问题），而是在我遍历它们时打印出节点。

我目前的解决方案（刚开始使用 Clojure，很好）：

```
(defn breadth-recur
  [queue]
  (if (empty? queue)
    (println "Done!")
    (let [collections (first (filter coll? queue))]
      (do
        ; print out nodes on the current level, they will not be wrapped'
        ; in a [] vector and thus coll? will return false
        (doseq [node queue] (if (not (coll? node)) (println node)))
        (recur (reduce conj (first collections) (rest collections))))))) 
```

最后一行没有按预期工作，我对如何修复它感到困惑。我确切地知道我想要什么：我需要剥离每一层向量，然后将结果连接起来传递给 recur。

我看到的问题主要是：

```
IllegalArgumentException Don't know how to create ISeq from: java.lang.Long 
```

基本上**conj**不喜欢将向量附加到 long 上，如果我将 conj 换成**concat**，那么当我要连接的两个项目之一不是向量时，我会失败。conj 和 concat 在面对时都会失败：

```
[2 [4] [5] [3 [6]]] 
```

我觉得我在这里错过了一个非常基本的操作，它可以在两个位置上对向量和基元都起作用。

有什么建议么？

**编辑1：**

这棵树实际上应该是（感谢 Joost！）：

```
(def tree [1 [2 [4] [5]] [3 [6]]]) 
```

但是，我们仍然没有找到**广度优先**的解决方案。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-07-11T05:51:39.450

由于显然仍然没有发布广度优先解决方案，这里有一个简单的算法，首先急切地实现，然后转换为惰性：

```
(defn bfs-eager [tree]
  (loop [ret [], queue (conj clojure.lang.PersistentQueue/EMPTY tree)]
    (if (seq queue)
      (let [[node & children] (peek queue)]
        (recur (conj ret node) (into (pop queue) children)))
      ret)))

(defn bfs-lazy [tree]
  ((fn step [queue]
     (lazy-seq
      (when (seq queue)
        (let [[node & children] (peek queue)]
          (cons node
                (step (into (pop queue) children)))))))
   (conj clojure.lang.PersistentQueue/EMPTY tree))) 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-07-10T09:04:54.627

您的树数据不正确。它应该是`[1 [2 [4] [5]] [3 [6]]]`

此外，您将树遍历与打印混合并构建结果。如果您专注于单独做困难的部分，事情会变得更简单：

```
(def tree [1 [2 [4] [5]] [3 [6]]]) 
```

**请注意，这是深度优先的。见下文**

```
(defn bf "return elements in tree, breath-first"
   [[el left right]] ;; a tree is a seq of one element,
                     ;; followed by left and right child trees
   (if el
     (concat [el] (bf left) (bf right))))

(bf tree)
=> (1 2 4 5 3 6) 
```

**正确版本**

```
(defn bf [& roots] 
   (if (seq roots) 
       (concat (map first roots) ;; values in roots
               (apply bf (mapcat rest roots))))) ;; recursively for children

(bf tree)
=> (1 2 3 4 5 6) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-10-25T20:09:16.970

这可能会有所帮助，我正在创建一个算法来评估树是否对称并使用广度优先遍历：

```
(defn node-values [nodes]
    (map first nodes))

(defn node-children [nodes]
  (mapcat next nodes))

(defn depth-traversal [nodes]
    (if (not (empty? nodes))
        (cons (node-values nodes) (depth-traversal (node-children nodes)))))

(defn tree-symmetric? [tree]
    (every?
        (fn [depth] (= depth (reverse depth)))
        (depth-traversal (list tree))))

(def tree '(1 (2 (3) (4)) (2 (4) (3))))
(node-values (list tree)) ; (1)
(node-children (list tree)) ; ((2 (3) (4)) (2 (4) (3)))
(depth-traversal (list tree)) ; ((1) (2 2) (3 4 4 3))
(tree-symmetric? tree) ; true 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T08:55:54.390

`reduce`在上面的例子中， and的许多组合`conj`可以用单个`into`调用替换，你可能需要传递一个初始的空向量来 reduce 以获得快乐的结合。

# php - 如何从匿名函数中的数组中获取密钥？

> ID：11409144
> 
> 赞同：2
> 
> 时间：2012-07-10T08:11:32.010
> 
> 标签：php, anonymous-function

如何使用 'array_map' 从匿名函数中的数组中获取密钥？

```
 array_map(function($v) {
        echo $v.'<br/>'; //get key (container..e.t.c)
    },array(
        'CONTAINER' => $this->CONTAINER ,
        'CONTAINER_USE_KEY' => $this->CONTAINER_USE_KEY ,
        'LINE' => $this->LINE
    )); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T08:18:56.447

如果你可以使用`array_walk()`而不是`array_map()`你可以这样做：

```
$data = array(
    'CONTAINER' => $this->CONTAINER ,
    'CONTAINER_USE_KEY' => $this->CONTAINER_USE_KEY ,
    'LINE' => $this->LINE
);

array_walk($data, function($value, $key) {
    echo $key . '<br/>';
}); 
```

# c# - 将 onCheckedChanged 与 PopupControlExtender 一起使用，并希望在取消选中时防止弹出

> ID：11409147
> 
> 赞同：0
> 
> 时间：2012-07-10T08:11:42.550
> 
> 标签：c#, asp.net, visual-studio, asp.net-ajax, ajaxcontroltoolkit

我对此仍然相当陌生，并试图找到答案，所以希望我不会重复这一点。

我正在使用 ASP.NET 并且有一个复选框控件，当它更改时会弹出一个弹出框，使用 onCheckedChanged 方法。这个弹出框里面有一些信息和一个“关闭”按钮，它成功地关闭了弹出窗口。

我想要的是防止在未选中复选框时出现弹出窗口。我目前有 onCheckedChanged 调用一个代码隐藏方法，如果未检查控件，该方法将取消扩展程序调用，但弹出窗口在关闭之前很快出现。我怎样才能防止它呢？

这是适当的页面代码：

```
 <div class="row" id="divDDMandate" runat="server">

        <asp:UpdatePanel ID="UpdatePanel2" runat="server" UpdateMode="Always">
            <ContentTemplate>
                <asp:CheckBox ID="chkDDMandate" Width="20px" Visible="true" runat="server" AutoPostBack="true"
                 OnCheckedChanged="clientchkDDMandateChanged(this);" on  />        
                <asp:Literal ID="ltlDDMandate" runat="server">Direct Debit Mandate (by post)</asp:Literal>

            <asp:PopupControlExtender ID="chkDDMandate_PopupControlExtender" runat="server" 
                DynamicServicePath="" Enabled="true" PopupControlID="PanelDDMandateDownload"
                TargetControlID="chkDDMandate"
                Position="Bottom" OffsetX="-20" OffsetY="10" />
            </ContentTemplate>
        </asp:UpdatePanel>
    </div> 
```

...这是我的方法背后的代码：

```
 protected void chkDDMandateChanged(object sender, EventArgs e)
    {
        //Cancel the panel if unchecking
        if ((!chkDDMandate.Checked) && chkDDMandate_PopupControlExtender.Enabled)
        {
            chkDDMandate_PopupControlExtender.Cancel();
        }
    } 
```

如果有任何帮助，我将不胜感激。

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T20:44:55.880

`AutoPostBack="true"`从 chkDDMandate 复选框中删除并在 ScriptManager 控件之后添加以下脚本：

```
<script type="text/javascript">
    function pageLoad() {
        var extender = $find("<%= chkDDMandate_PopupControlExtender.ClientID %>");
        extender.remove_showing(onPopupShowing);
        extender.add_showing(onPopupShowing);
    }

    function onPopupShowing(sender, args) {
        var checkBoxChecked = $get("<%= chkDDMandate.ClientID %>").checked;
        args.set_cancel(!checkBoxChecked);
    }
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T10:12:04.213

在 Yuriy 为我提供了事件处理程序后，我不得不求助于使用隐藏字段来跟踪弹出窗口和复选框的可见性。

这是因为我不希望在删除勾号时出现弹出窗口，并且 onClick 方法使用复选框控件的设置，而 onShowing 方法使用控件的当前可见设置。我不得不使用隐藏字段来保持可见性设置并在我想要的时候更新它们。

我很惊讶弹出扩展器的 _visible 属性总是设置为“false”，所以我也不能使用它。

这可能有点 hack，但这是我当前的 javascript 代码，供任何有兴趣的人使用：

```
 <script type="text/javascript">

     function pageLoad() {
     // Attach an event handler for over-riding the showing Popup.
         var extender = $find("PopupControlExtenderBehaviorID");
         extender.remove_showing(onPopupShowing);
         extender.add_showing(onPopupShowing);

     // Initialise the hidden fields based on the page status after refresh.
         var hfPopup = $get("ctl00_body_PopupVisibleID");
         var hfCheckbox = $get("ctl00_body_CheckboxChecked");

     // Popup will always be hidden on page refresh
         hfPopup.value = "Hidden";
         hfCheckbox.value = $get("ctl00_body_chkDDMandate").checked;
     }  

     function onPopupShowing(sender, args) {
        // This function will over-ride the Popup showing if applicable.
         var popupVisible = $get("ctl00_body_PopupVisibleID");
         var checkboxChecked = $get("ctl00_body_CheckboxChecked");

        // If Popup hidden and 'tick' being taken out of the Checkbox, don't show the Popup.
         if (popupVisible.value == "Hidden" && checkboxChecked.value == "true") {
             args.set_cancel(true);
         }
         else if (popupVisible.value == "Hidden") {
            popupVisible.value = "Visible";
            }
            else {popupVisible.value = "Hidden";}

     }

    function OnClientClickCheck(o) {
        // This function will set the Hidden field value of Checkbox.
        // This is because when the OnClick method reads the control checkbox value it uses the value it's 
        // being set to; whereas, the onPopupShowing method uses the value it is currently displaying!
        var pce = $find('PopupControlExtenderBehaviorID');
        var checkboxChecked = $get("ctl00_body_CheckboxChecked");
        var isChecked = o.checked;

        if (isChecked) {
        // isChecked is what it is being changed to...
            checkboxChecked.value = "false";
        }
        else {
            checkboxChecked.value = "true";
        }
        pce.showPopup();
    }
</script> 
```

感谢您帮助到达这里。

# zend-framework - zend 查询最大字段长度

> ID：11409149
> 
> 赞同：0
> 
> 时间：2012-07-10T08:11:48.643
> 
> 标签：zend-framework, field, max

我试图在我的日志表中插入一条日志记录。但不知何故，当字段值长度超过 199 个字符时，我的 apache 重新启动并且我的浏览器显示 net::ERR_CONNECTION_RESET。我正在使用 Zend 框架，因此我使用以下代码行插入我的记录：

```
 $db = Global_Db_Connection::getInstance();
    $sql = "INSERT INTO log_table (log) VALUES ('ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd')";
    $db->query($sql); 
```

如果我不使用框架，请使用：

```
 mysql_query($sql); 
```

然后我没有任何问题。

谁能告诉我如何在 Zend 中解决这个限制？

在 FreeBSD 上尝试过同样的问题。我还发现，当尝试将其插入不存在的表中时，它会返回相同的错误。只有在缩短值后才会给出表不存在的错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-08T08:48:13.970

可能会迟到回答，但我有灵魂。我发现了两个zend的解决方案：

1.  `$db->getConnection()->query($sql); // use getConnection()`

2.  `$db->exec($sql);`

这个问题是因为内存堆栈大小。在 linux 上，堆栈根据需要增长，但在 Windows 和 Mac 上，由于堆栈大小，这个问题变得冒泡。为此，在 php.net 中提出了一张票（[这里](https://bugs.php.net/bug.php?id=49729)）看看。享受！！！

# ios - UILabel 为宽度设置动画

> ID：11409151
> 
> 赞同：3
> 
> 时间：2012-07-10T08:11:50.170
> 
> 标签：ios

我们如何对`UILabel`' 的宽度进行动画处理，以便仅使用`UIView` `animateWithDuration`

感谢您的帮助（此时我很沮丧，因为我一直在尝试这样做，但它不起作用）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:17:15.773

您可以设置`UILabel`UIView 动画块内部的框架。像这样的东西：

```
CGRect originalFrame = self.address.frame;

[UIView animateWithDuration:0.3
                 animations:^{
    self.myLabel.frame = CGRectMake(0, 0, 100, 100);
}
                 completion:^(BOOL finished) {
                     // use similar UIView animation to resize back to original
                 }]; 
```

显然，您输入的尺寸将取决于您的应用程序，并且可能会根据内容进行计算。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:57:04.050

终于在 iOS 5.0 中用积木做到了这一点

```
 [UIView animateWithDuration:2\. delay:0 options:UIViewAnimationOptionAutoreverse|UIViewAnimationOptionBeginFromCurrentState  animations:^{
            [self.messageLabel setFrame:CGRectMake(90, 0, labelSize.width, 90)];

        } completion:^(BOOL finished) {

        }]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-11T07:44:27.497

我能够以这种方式做到这一点。self 指的是我在其中添加标签的视图。在初始化中，添加宽度为 1 px 的标签。然后使用下面的.. UIViewAnimationOptionBeginFromCurrentState 允许它像门一样打开 PHEW！

```
 [UIView animateWithDuration:1\. delay:0 options:UIViewAnimationOptionBeginFromCurrentState  animations:^{
        [self setFrame:CGRectMake(self.frame.origin.x-labelSize.width-PADDING, self.frame.origin.y, self.frame.size.width+labelSize.width+PADDING, self.frame.size.height)];
        [self.messageLabel setFrame:CGRectMake(95, 10, labelSize.width, labelSize.height)];
        self.messageLabel.alpha = 1; 
    } completion:^(BOOL finished) {
        [UIView animateWithDuration:1\. delay:2\. options:0  animations:^{
            self.messageLabel.alpha = 0;  
        } completion:^(BOOL finished) {
            [UIView animateWithDuration:1\. delay:0\. options:0  animations:^{
                [self setFrame:CGRectMake(self.frame.origin.x+labelSize.width+PADDING, self.frame.origin.y, self.frame.size.width-labelSize.width-PADDING, self.frame.size.height)];
            } completion:^(BOOL finished) {
            }];
        }];
    }]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T08:51:54.690

尝试使用如下动画增加和减少帧宽度

```
 // original label frame CGRectMake( 0,0, 100,60 );
    [UIView beginAnimations: @"moveLogo" context: nil]; 
    [UIView setAnimationDelegate:self]; 
    [UIView setAnimationDuration:1.0];
    [UIView setAnimationCurve: UIViewAnimationCurveLinear];
    [UIView setAnimationRepeatAutoreverses:YES];
    [UIView setAnimationRepeatCount:4];
    //increasing frame width
    label.frame =  CGRectMake( 0,0, 400,60 );   
    [UIView commitAnimations]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-10T08:57:32.613

尝试这个

```
 [UIView animateWithDuration:0.6 animations:^(void)
  {
     self.label.bounds = CGRectMake(100, 100, 200, 100); 

 }completion:^(BOOL finished) {

     [UIView animateWithDuration:0.6 animations:^(void)
     {
         self.label.bounds = CGRectMake(100, 100, 100, 100); 
     }];

 }]; 
```

# php - 正则表达式：重复匹配

> ID：11409154
> 
> 赞同：1
> 
> 时间：2012-07-10T08:11:53.570
> 
> 标签：php, regex, preg-match

我正在尝试创建一个正则表达式，它可以包含这三个元素中的一些元素 0...X 次：

**/cat1/var1**

**/cat2/var2**

**/cat3/var3**

这是我到目前为止得到的：

```
((cat1|cat2|cat3)/(?P<var>\w+))* 
```

在这个示例字符串中，它只匹配第一次出现：**http** ://url.dev/cat1/aaaaa /cat1/bbbbb/cat2/ccccc

在这个示例中，也出现了两次 cat1，我想知道是否可以获取这两个值。

我想匹配的一些样本：

**http://url.dev/cat1/aaaaa/cat1/bbbbb/cat2/ccccc/cat3/ddddd/cat3/eeeee**

**http://url.dev/cat1/aaaaa**

**http://url.dev/cat2/aaaaa/cat3/bbbbb**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:14:57.673

你能用吗

```
(cat\d/(?P<var\d>\w+))* 
```

它将匹配所有 cat/var 出现

[编辑]

也是这样：

```
/(cat\d\/\w+)/g 
```

# maven - Maven 3：使用 SCP 部署工件

> ID：11409156
> 
> 赞同：5
> 
> 时间：2012-07-10T08:12:00.517
> 
> 标签：maven, scp

据我所知，使用 maven 部署第三方二进制工件是这样完成的：

```
mvn deploy:deploy-file -DgroupId=<group-id> \
  -DartifactId=<artifact-id> \
  -Dversion=<version> \
  -Dpackaging=<type-of-packaging> \
  -Dfile=<path-to-file> \
  -DrepositoryId=<id-to-map-on-server-section-of-settings.xml> \
  -Durl=<url-of-the-repository-to-deploy> 
```

假设我的存储库可以使用 scp 访问，例如在上面的命令中

```
-Durl=scpexe://example.org//users/mvnrepo/maven 
```

使用 maven 3，此部署命令失败并显示错误消息。

我使用的解决方法是将两个 jars: 复制 `wagon-ssh-common-2.2.jar`到`wagon-ssh-external1.0.jar`我的`$M2_HOME/lib`目录中。

因此我的问题是：为什么 Maven 不能自己检索合适的货车？

（而且，如果可能的话，如何让它做到这一点？）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-10T08:24:11.467

Wagons 是 Maven 扩展。您可以按如下方式添加它们：

```
<project>
    <build>
        <extensions>
            <extension>
                <groupId>org.apache.maven.wagon</groupId>
                <artifactId>wagon-ssh</artifactId>
                <version>1.0</version>
            </extension>
        </extensions>
    </build>
</project> 
```

有关更多详细信息，您可以查看[Maven Wagon](http://mojo.codehaus.org/wagon-maven-plugin/usage.html)页面。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-10T12:22:58.700

***作为一个直接而简短的答案***：添加第三方要求您拥有：

*   一个 Maven 存储库（像 Nexus 或带有 GUI 的 Artifactory 之类的应用程序）
*   或 pom.xml（在命令行中）

***进一步的考虑***

我假设您想使用第三方库，而不仅仅是发布您自己的库。

1.  如果你想使用第三方库，你真的应该寻找一个现有的托管它的存储库。我很确定您已经搜索过，但这是更好的方法。如果你找到了，只需将它添加到你的 maven repo 缓存中。

2.  接下来，如果你没有找到，你可以将它添加到你自己的 repo 中，假设你已经打开了。我真的不知道你是否熟悉这个，这听起来很明显，所以请原谅我。但是存储库不仅是文件服务器。Carlspring kinldy 谈到 Nexus 是为了举例。还有 Artifactory 等等。它们是真正的应用服务器。所以，你必须有自己的。它们具有允许您添加工件的接口，提供有关它的一些信息（至少是组、ID、版本）。

3.  最后，Maven 处理依赖范式。这不是正式的，而只是考虑的部分：

    *   谁开发的？
    *   它依赖于什么（其他库）？
    *   谁提供？
    *   它值得信赖吗？
    *   ...

所有这些信息都应该放在 pom.xml 中，并且它们将真正由作者放置（参见 1），或者至少在您在 Maven 中使用时提供（参见 2）。在所有情况下，它们都来自 pom.xml ......是否自动生成......所以你需要一个 pom.xml :)。

* * *

事实上，发布或使用库会导致相同的问题：您必须提供有关您开发的内容的信息，以便以更自动化和更可靠的方式使用。有时它很丑陋，但这是更好的方法。

再一次，如果这听起来很明显，请原谅我。但是根据经验，当您无法使用 Maven 做某事时，通常是因为这不是做这件事的好方法，甚至您的流程也比应该驱动每个人的“最伟大的开发流程”小得多:)

# objective-c - 当我在没有 @property 的情况下在 Obj-C 中定义成员时，向成员传递值时的操作是什么？

> ID：11409157
> 
> 赞同：3
> 
> 时间：2012-07-10T08:12:01.520
> 
> 标签：objective-c, ios, memory, retain

```
@interface ClassA : UITableViewController {

    NSString *member;
}

@end 
```

成员声明如上。

如果我使用

```
NSString * astring = [[NSString alloc] initWithString:@"???"];
member = astring; 
```

成员会保留字符串吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:15:53.640

不，它不会保留它。这是实例变量（也称为 iVar）。它不会释放旧对象，也不会保留新对象（作为 setter 中的典型声明属性）。

//如果property `self.member = aString;`//调用setter，等价于[self setMember:aString]，旧值被释放，并给aString发送retain（或根据属性声明复制）消息。

If iVar `member = aString`//没有内存管理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:19:04.527

您所做的是声明一个实例变量（有时称为“ivar”）并将其指向一个字符串。分配变量本身*不会保留字符串*，但在您的示例中，自从您分配字符串以来，该字符串的保留计数已经为 1。

根据您是否使用 ARC，字符串将在作用域结束时释放。如果您不使用 ARC，您有责任自己释放字符串。话虽这么说，在您的确切情况下`astring`是一个永远不会被释放的字符串文字，因此在这种情况下内存管理是无关紧要的。

# c# - parallel.invoke 在 Winform 和控制台应用程序中的行为不同

> ID：11409158
> 
> 赞同：-1
> 
> 时间：2012-07-10T08:12:07.970
> 
> 标签：c#, winforms, parallel-processing, console, backgroundworker

我最近构建了一个原型 c# 控制台应用程序以并行读取来自四个仪器的测量值（在同一台上`TimeStamp`），我使用了 parallel.invoke 命令来执行此操作，每次结果都非常好。后来我尝试在`Winforms`using中实现相同的概念`backgroundworker`。所以在我的`DoWork`我调用这个parallel.invoke来运行四个函数来获取读数，但是结果在很长一段时间后返回并且它们不在同一个时间戳上，我确实在没有后台工作人员的情况下尝试过，但我得到了相同的结果。有人知道为什么parallel.invoke 会这样吗？它在控制台应用程序中运行良好，而不是在 winform 中运行良好？还有一种方法可以确保多个`async procces`执行是并行运行的？我很难理解这一点，请在这里帮助我。任何意见将不胜感激！

**更新**：对不起，我之前用并行调用做过这个，后来我把它改成了任务，但行为是一样的。

**控制台应用程序**：

```
public static void funcc()
{
    for (int i = 0; i < 5; i++)
    {
        rawData3 = fmio.IO.Read(4 * numReadings);
        RawData3.Add(rawData3);
    }
}

public static void funcd()
{
    for (int i = 0; i < 5; i++)
    {
        rawData4 = fmio.IO.Read(4 * numReadings);
        RawData4.Add(rawData4);
    }
}

static void Main(string[] args)
{
    //Parallel.Invoke(() => { funcb(); }, () => { funcc(); }, () => { funca(); }, () => { funcd(); });       

    var factory = new TaskFactory(TaskCreationOptions.LongRunning, TaskContinuationOptions.None);

    Task t1 = factory.StartNew(funca);
    Task t2 = factory.StartNew(funcb);
    Task t3 = factory.StartNew(funcc);
    Task t4 = factory.StartNew(funcd);

    t1.Wait();
    t2.Wait();
    t3.Wait();
    t4.Wait();

    WriteToFile(); // Writes Result to the file
} 
```

在我的**Gui 应用程序**中，我正在执行此操作，`backgroundWorker`因为我具有与我在 GUI 应用程序中使用的上述相同的读数功能：

```
public static void funca()
{
    for (int i = 0; i < 5; i++)
    {
        rawData = fmio.IO.Read(4 * numReadings); // Getting Data in Byte Array
        RawData1.Add(rawData);                   // Putting it in ArrayList
    }
}

public static void funcb()
{
    for (int i = 0; i < 5; i++)
    {
        rawData2 = fmio.IO.Read(4 * numReadings);
        RawData2.Add(rawData2);
    }
}

private void btn_StartMeasurement_Click(object sender, EventArgs e)
{
    if (!bwObj.IsBusy)
    {
        bw_Obj.RunWorkerAsync();
    }
}

private void bw_Obj_DoWork_1(object sender, DoWorkEventArgs e)
{
    //Parallel.Invoke(() => { funcb(); }, () => { funcc(); }, () => { funca(); }, () => { funcd(); });

    var factoryA = new TaskFactory(TaskCreationOptions.LongRunning, TaskContinuationOptions.None);
    var time = System.Diagnostics.Stopwatch.StartNew();
    Task t1 = factoryA.StartNew(() => funca(Globls.numReadings, DMM));
    Task t2 = factoryA.StartNew(() => funcb(Globls.numReadings, DMM2));
    Task t3 = factoryA.StartNew(() => funcc(Globls.numReadings, DMM3));
    Task t4 = factoryA.StartNew(() => funcd(Globls.numReadings, DMM4));

    t1.Wait();
    t2.Wait();
    t3.Wait();
    t4.Wait();

    WriteToFile();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:34:39.867

我会像这样处理这个问题：在它自己的`static`类中提取工作的并行读取代码，然后从控制台应用程序*和*winforms 应用程序调用它，看看会发生什么。您应该发现自己的东西要么是双向的，要么根本不起作用（因为您正在调用相同的代码）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T02:32:42.977

这可以通过多种方式实现。如果您正在寻找并行执行 bw_Obj_DoWork_1 部分中的内容，那么我会考虑更改 btn_StartMeasurement_Click 并删除 BackgroundWorker。

```
private void btn_StartMeasurement_Click(object sender, EventArgs e)
{
    Task[] tasks = new Task[]
        {
            Task.Factory.StartNew(funca),
            Task.Factory.StartNew(funcb),
            Task.Factory.StartNew(funcc),
            Task.Factory.StartNew(funcd)
        };
    Task writeTask = Task.Factory.ContinueWhenAll(tasks, (t) => writeToFile());
} 
```

或者，您可以创建一个方法，我将其命名为 executeAndWrite，并使用 btn_StartMeasurement_Click 中的线程或任务来启动它们：

```
private void btn_StartMeasurement_Click(object sender, EventArgs e)
{
    new Thread(executeAndWrite).Start();
}

private void executeAndWrite()
{
    Parallel.Invoke(funca, funcb, funcc, funcd);
    writeToFile();
} 
```

我个人会选择这个选项。

# android - 创建自己的对话框类，R.java 的字符串引用问题

> ID：11409160
> 
> 赞同：0
> 
> 时间：2012-07-10T08:12:11.027
> 
> 标签：android, android-dialog, android-context

我只是做了一个应该是简单的“你想退出吗？”的课程。我的应用程序中的每个活动的对话框，我有一些问题。我是 OOP 的初学者，所以不要生气。

所以这是我的 ExitDialog 类：

```
public class ExitDialog extends Dialog implements OnClickListener
{

private Button dialogOk;
private Button dialogCancel;
private TextView dialogText;

public ExitDialog(Context context)
{
    super(context);

    final Dialog dialog = new Dialog(context, R.style.DialogAnim);
    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);
    dialog.setContentView(R.layout.exitdialog);

    dialogOk = (Button)dialog.findViewById(R.id.dialogOk);
    dialogCancel = (Button)dialog.findViewById(R.id.dialogCancel);
    dialogText = (TextView)dialog.findViewById(R.id.dialogText);

    //How to reach any reference from R.java ?
    //                    
    //dialogOk.setText(getString(R.string.Yes));
    //ialogText.setText(getString(R.string.Exit));

    dialogOk.setOnClickListener(this);
    dialogCancel.setOnClickListener(this);

    dialog.show();
}

@Override
public void onClick(View v)
{

//Many people said on answers, that i must use **getId()** to compare
//these two views, but i can do just like this, bacause i got the message in logcat!
//but the dismiss() just not get called...
    if(v == dialogOk)
    {
        Log.i("ExitDialog", "dialogOk clicked");
        this.dismiss();

    }

}

} 
```

我有3个问题要问你：

如何访问我的应用程序的**R.java 文件以获取字符串引用**？如您所见，我注释掉了**getString(R.string.Yes)**和**getString(R.string.Exit)**函数，因为我不能在这个外部类中使用它。关于我可以执行此操作的任何建议？

第二个问题是关于**.dismiss()**的。如果我调用**this.dismiss()**，我的对话框不会消失，它会停留在屏幕上，为什么会发生？那怎么辞退呢？

第三个问题是：如何从这个外部对话框类中获取父活动？我需要它来调用**.finish()**，所以我的应用程序可以退出。

任何建议将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:20:06.180

第一个问题：

```
context.getString(R.string.exit); 
```

第三个问题：

```
((Activity) context).finish(); 
```

对于问题 2，我认为您的 if 不会导致**true**。我不会通过它的内存地址来比较视图。我认为在 onClick 监听器中dialogOk 应该为**空。**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T08:29:15.567

很容易得到字符串：

```
String a = context.getResources().getString(R.string.myString); 
```

当您创建此类的实例时，您不会在此类中使用dismiss()，而是在您的活动中使用。

我认为您通过扩展对话框类使事情复杂化。以下是如何创建自定义对话框 [http://developer.android.com/guide/topics/ui/dialogs.html](http://developer.android.com/guide/topics/ui/dialogs.html)

如果您真的想自由创建自定义对话框，请使用透明 Activity 和**startActivityForResult** [如何在 Android 上创建透明 Activity？](https://stackoverflow.com/questions/2176922/how-to-create-transparent-activity-in-android)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T08:33:06.123

对于你的第一个问题

```
 static Context context = getApplicationContext();
   context.getString(R.string.app_name); 
```

第二个问题

```
 this will not work in outer class
   use context.dialog.dismiss(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-10T08:30:47.110

不要通过对话框扩展您的活动，通过活动扩展它。像您调用正常活动一样调用您的对话框活动。但是在清单文件中，在您的对话框活动下添加以下行：

```
android:theme="@android:style/Theme.Dialog" 
```

和上面的 setcontentView 活动：

```
requestWindowFeature(Window.FEATURE_NO_TITLE); 
```

您将能够像其他活动一样正常调用 Resource 和 dismiss() 函数。

```
button.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {
                Intent intent=new Intent(YourActivityName.this,DialogClass.class);
                startActivity(intent);

            }
        }); 
```

对话活动：

```
public class DialogClass extends Activity{
    Button button;
    TextView textView;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.custom);

        button=(Button) findViewById(R.id.cancel);//belongs to xml file
        button.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {
                finish();
            }
        });

        textView=(TextView) findViewById(R.id.ttt);////belongs to xml file
        textView.setText(R.string.app_name);
    }
} 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-07-10T08:22:39.957

对于您的第一个问题“用于字符串引用的 R.java 文件？”

你可以使用 gerResource().getString(R.string.exit);

对于你的第二个问题：使用 dialog.cancel() 或 dialog.dismiss();

# c++ - 提升互斥锁和线程

> ID：11409161
> 
> 赞同：0
> 
> 时间：2012-07-10T08:12:16.030
> 
> 标签：c++, multithreading, exception, boost, mutex

我有一些带有一些额外功能的单例类，它们在单独的线程中运行。结构如下：

```
class Singleton
{
   private:
      boost::mutex mMutex;
      std::vector<std::string> mMessages;

   public:
      void AddMessage(const std::string &msg)
      {
         mMutex.lock();
         mMessages.push_back(msg);
         mMutex.unlock();
      }

      void Sender()
      {
          while (true) {
             mMutex.lock();
             for (size_t i = 0; i < mMessages.size(); ++i)
             {
                 // Do something with mMessages[i]
             }
             mMutex.unlock();
          }
      }
};

...

int main()
{
   Singleton *handle;
   handle = Singleton::instance();
   boost::thread sender(boost::bind(&Singleton::Sender, handle));

   ... app cycle ...
} 
```

有时它会因错误而失败：

在抛出一个实例后调用终止

```
'boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::lock_error> >'
  what():  boost::lock_error
Aborted 
```

它可能是什么以及找出断言原因的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:15:47.953

可能是你没有**创建**对象`Singleton`！所以也没有创建互斥锁。

尝试：

```
int main()
{
   Singleton handle; //object, not pointer
   boost::thread sender(boost::bind(&Singleton::Sender, &handle));
   ...
} 
```

# iphone - 有没有办法在用户开始在 SearchBar 中输入之前用结果预填充 UISearchDisplayController？

> ID：11409166
> 
> 赞同：5
> 
> 时间：2012-07-10T08:12:49.263
> 
> 标签：iphone, objective-c, uisearchbar, uisearchdisplaycontroller

我想在搜索栏激活后立即显示过去的搜索。但是即使数据源有这些值，搜索显示控制器在用户开始输入之前不会调用表格视图方法。有没有办法在 UISearchDisplayController 上强制执行此操作？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-22T17:04:10.867

只要您的委托设置正确，您就可以返回您想要的任何数据集。

```
 self.searchResults = @[@"some stuff", @"some more stuff", @"and so on..."];

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section 
{
   if (tableView == [[self searchDisplayController] searchResultsTableView]) {
     return [self.searchResults count];
   }
   else {
     return [self.data count];
   }
} 
```

# node.js - 如何在全局安装的 Node 模块中写入文件？

> ID：11409175
> 
> 赞同：1
> 
> 时间：2012-07-10T08:13:08.170
> 
> 标签：node.js, permissions, npm

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:06:31.507

No, there is no way to give write permissions in its own directory to a globally-installed Node module.

Indeed, to allow for global install, i.e. to be able to write in `/usr/local/lib`, NPM has to be run as root through `sudo`. However, when doing so, NPM will [downgrade its user to `nobody`](https://github.com/isaacs/npm#permissions-when-using-npm-to-install-other-stuff):

> As of version 0.3, it is recommended to run npm as root. This allows npm to change the user identifier to the `nobody` user prior to running any package build or test commands.

All [package scripts](http://npmjs.org/doc/scripts.html) are run as `nobody`, and therefore cannot override this setting.

It is a safety feature that also prevents any unauthorized post-install modifications to an installed module, making installed modules trustable.

* * *

You should probably try to find a default place for your log that makes sense in your business logic. Defining a user-overridable (through a CLI switch) global writable log such as `~/.yourTool/log` would be nice, but Node does not expand `~`, so finding a cross-platform global logging destination seems a bit difficult.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:37:23.630

I would do like that:

*   Log in CWD as default
*   Log path can be given as argument (like `go -l /path/to/log`)
*   Error if log file not writable

# android - 无法检测到 TTS（回调）android 的完成。

> ID：11409177
> 
> 赞同：10
> 
> 时间：2012-07-10T08:13:14.023
> 
> 标签：android, callback, text-to-speech

我正在开发我正在使用文本到语音转换的 android 应用程序。当我打开我的应用程序运行文本到语音转换时我需要什么。完成后我想做一些事情。我的代码看起来像

```
public class Mainactivity extends Activity implements OnInitListener, OnUtteranceCompletedListener{
    private static int REQ_CODE = 1;
    private TextToSpeech tts = null;
    private boolean ttsIsInit = false;

    @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    startTextToSpeech();
    }

    private void startTextToSpeech() {
        Intent intent = new Intent(Engine.ACTION_CHECK_TTS_DATA);
        startActivityForResult(intent, REQ_CODE);
    }

    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        if (requestCode == REQ_CODE) {
            if (resultCode == Engine.CHECK_VOICE_DATA_PASS) {
                tts = new TextToSpeech(this, this); 
            } 
            else {
                Intent installVoice = new Intent(Engine.ACTION_INSTALL_TTS_DATA);
                startActivity(installVoice);
            }
        }
    }

        public void onInit(int status) {
            if (status == TextToSpeech.SUCCESS) {
                ttsIsInit = true;
                int result = tts.setOnUtteranceCompletedListener(this);
                if (tts.isLanguageAvailable(Locale.ENGLISH) >= 0)
                    tts.setLanguage(Locale.ENGLISH);
                tts.setPitch(5.0f);
                tts.setSpeechRate(1.0f);

                 HashMap<String, String> myHashAlarm = new HashMap<String, String>();
                  myHashAlarm.put(TextToSpeech.Engine.KEY_PARAM_STREAM, String.valueOf(AudioManager.STREAM_ALARM));
                  myHashAlarm.put(TextToSpeech.Engine.KEY_PARAM_UTTERANCE_ID, "SOME MESSAGE");
                  tts.speak("hi how are you?", TextToSpeech.QUEUE_FLUSH, myHashAlarm);
             }
        }

   @Override
   public void onDestroy() {
      if (tts != null) {
        tts.stop();
        tts.shutdown();
      }
        super.onDestroy();
     }

   @Override
   public void onUtteranceCompleted(String uttId) {
       Toast.makeText(Mainactivity.this,"done", Toast.LENGTH_LONG).show();
       if (uttId.equalsIgnoreCase("done")) {
           Toast.makeText(Mainactivity.this,"inside done", Toast.LENGTH_LONG).show();
       } 
   }
} 
```

当我打开我的应用程序文本到语音工作正常。但是如何检测文本到语音是否完成。需要帮助......谢谢......

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-10T08:54:44.777

如果您使用 API 级别 15 或更高版本，您可以使用在您的`TextToSpeech`参考上设置进度侦听器

```
setOnUtteranceProgressListener(UtteranceProgressListener listener) 
```

您将收到报告 TTS 进度的回调，包括完成时的回调。请参阅[http://developer.android.com/reference/android/speech/tts/TextToSpeech.html](http://developer.android.com/reference/android/speech/tts/TextToSpeech.html)和[http://developer.android.com/reference/android/speech/tts/UtteranceProgressListener.html](http://developer.android.com/reference/android/speech/tts/UtteranceProgressListener.html)

但是，我注意到您已经在使用已弃用的`OnUtteranceCompletedListener`. 你收到回调了`onUtteranceCompleted()`吗？这也应该有效。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-14T07:17:51.770

在 tts 对象的 onInit 函数内部调用 setOnUtteranceCompletedListener。

如果要在调用 onUtteranceCompleted 函数时对 UI 进行任何更改，请在 runOnUIThread 方法中添加代码。

并且记得在调用 speak() 函数时添加 Hashmap 参数值

例子 ：

```
TextToSpeech tts= new TextToSpeech(context, new OnInitListener() {

 @Override
 public void onInit(int status) {

    mTts.setOnUtteranceCompletedListener(new OnUtteranceCompletedListener() {

        @Override
        public void onUtteranceCompleted(String utteranceId) {

            runOnUiThread(new Runnable() {

                @Override
                public void run() {
                //UI changes
                }
            });
        }
    });

 }
});

HashMap<String, String> params = new HashMap<String, String>();

params.put(TextToSpeech.Engine.KEY_PARAM_UTTERANCE_ID,"stringId");

tts.speak("Text to Speak",TextToSpeech.QUEUE_FLUSH, params); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-10T15:18:31.013

这里有一些代码可以帮助您向后兼容[，](https://github.com/gast-lib/gast-lib/blob/master/library/src/root/gast/speech/SpeechRecognizingAndSpeakingActivity.java)因此您不必以 15 为目标。

```
private void setTtsListener()
    {
        final SpeechRecognizingAndSpeakingActivity callWithResult = this;
        if (Build.VERSION.SDK_INT >= 15)
        {
            int listenerResult = tts.setOnUtteranceProgressListener(new UtteranceProgressListener()
            {
                @Override
                public void onDone(String utteranceId)
                {
                    callWithResult.onDone(utteranceId);
                }

                @Override
                public void onError(String utteranceId)
                {
                    callWithResult.onError(utteranceId);
                }

                @Override
                public void onStart(String utteranceId)
                {
                    callWithResult.onStart(utteranceId);
                }
            });
            if (listenerResult != TextToSpeech.SUCCESS)
            {
                Log.e(TAG, "failed to add utterance progress listener");
            }
        }
        else
        {
            int listenerResult = tts.setOnUtteranceCompletedListener(new OnUtteranceCompletedListener()
            {
                @Override
                public void onUtteranceCompleted(String utteranceId)
                {
                    callWithResult.onDone(utteranceId);
                }
            });
            if (listenerResult != TextToSpeech.SUCCESS)
            {
                Log.e(TAG, "failed to add utterance completed listener");
            }
        }
    } 
```

# iphone - 在 UIWebView 中显示来自相机的图像

> ID：11409184
> 
> 赞同：2
> 
> 时间：2012-07-10T08:13:27.620
> 
> 标签：iphone, objective-c, ios, ipad, uiwebview

我有使用 web 视图的 iPhone 应用程序，我从应用程序运行 iPhone 相机并获取图像，我的问题是如何将这个图像返回到内部`UIWebView`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T11:47:28.783

将图像保存在本地文档文件夹中并在 web 视图中加载该图像。

# jquery - 消息队列 + ajax 未触发

> ID：11409187
> 
> 赞同：0
> 
> 时间：2012-07-10T08:13:54.350
> 
> 标签：jquery, jquery-plugins

我创建了一个非常昂贵的 php 类，需要在管理页面上处理大量请求。出于这个原因，我尝试使用 jquery queing + ajax 调用来批处理请求，但是整个 javascript 没有触发，我不明白为什么。我更像是一个 PHP 专家，他非常喜欢 js 或 jQuery。

编码：

```
<script type="text/javascript">
$(document).ready(function () {
  window.queue = $.jqmq({
    // Queue items will be processed every 250 milliseconds.
    delay: 500,
    // Process queue items one-at-a-time.
    batch: 10,
    // For each queue item, execute this function.
    callback: function (model, apit) {
      $.ajax({
        url: 'script.php',
        type: "post",
        cache: false,
        data: "model=" + model + "&api=" + apit,
        success: function (data) {
          $(".error_msg p").append(data);
        }
      },
      // When the queue completes naturally, execute this function.
      complete: function () {
        $.ajax({
          url: 'script.php',
          type: "post",
          cache: false,
          data: "cleanup=1",
          success: function (data) {
            $(".error_msg p").append(data);
          }
          $('.error_msg p').append('<br /><span class="done">Queue done<\/span>');
        }
        });
      //the next line is repeated a couple hundred times with different values  
      queue.add('arg1', 'arg2'); queue.add('arg1', 'arg2');
      });
</script> 
```

此代码位于正文中。包含的脚本（在头部）是：

```
<script type="text/javascript" src="js/jquery-1.4.1.js"></script>
<script type="text/javascript" src="js/jquery.ba-jqmq.js"></script> 
```

我已经检查了 TamperData FF 插件，并且 script.php 的 ajax 帖子没有触发，我不知道为什么..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:48:58.560

在[jqmq 文档](http://benalman.com/code/projects/jquery-message-queuing/docs/files/jquery-ba-jqmq-js.html#jQuery.jqmq)中，它说回调方法接受单个参数。你正在尝试发送更多。add 方法的第二个参数用于优先级，只能是布尔值。

```
queueObj.add( item [, priority ] ); 
```

您应该将参数添加为数组或对象。

我创建了一个[小提琴](http://jsfiddle.net/6tdZt/2/)，它似乎工作正常。

更新：另外，我相信同时 ajax 请求被限制为 3 或 4 个，所以你不能有 10 个批次。

# iphone - 以编程方式在 iPhone 中混合 2 个 Wav 文件

> ID：11409189
> 
> 赞同：1
> 
> 时间：2012-07-10T08:14:01.270
> 
> 标签：iphone, xcode

我在将 2 个 .wav 文件混合在一起时遇到问题。

我正在使用此站点的代码： http: [//eigenclass.blogspot.in/2010/12/merging-wav-files-in-objective-c.html](http://eigenclass.blogspot.in/2010/12/merging-wav-files-in-objective-c.html)

现在我面临的问题是，该代码通常适用于小于 10 秒的 wav 文件，而任何超过 10 秒的文件都会导致应用程序崩溃。

出于某种奇怪的原因，即使我在 for 循环结束时正确释放了对象（for 循环由超过 100 万次迭代组成，并且随着记录大小的增加而增加），这些对象似乎也没有被释放并继续占用记忆。

这是我的 for 循环：

```
short iValueWav1Sample;
short iValueWav2Sample;
short iValueWavSampleAverage;

for (int i=0; i<(outputWavDataSize/2); i++)
{
    //simulate little endian by flipping the bytes
    wav1DataBuffer1 = [[NSData alloc]initWithData:[wav1Data subdataWithRange:NSMakeRange(44 + (i*2), 1)]];
    wav2DataBuffer1 = [[NSData alloc]initWithData:[wav2Data subdataWithRange:NSMakeRange(44 + (i*2), 1)]];
    wav1DataBuffer2 = [[NSData alloc]initWithData:[wav1Data subdataWithRange:NSMakeRange(44 + (i*2) + 1, 1)]];
    wav2DataBuffer2 = [[NSData alloc]initWithData:[wav2Data subdataWithRange:NSMakeRange(44 + (i*2) + 1, 1)]];
    littleEndianHexWav1Sample = [[NSMutableData alloc] initWithData:wav1DataBuffer1];
    [littleEndianHexWav1Sample appendData:[NSMutableData dataWithData:wav1DataBuffer2]]; 
    littleEndianHexWav2Sample = [[NSMutableData alloc]initWithData:wav2DataBuffer1];
    [littleEndianHexWav2Sample appendData:wav2DataBuffer2];

    NSString* wav1HexString = [[littleEndianHexWav1Sample description] substringWithRange:NSMakeRange(1, 4)];
    NSString* wav2HexString = [[littleEndianHexWav2Sample description] substringWithRange:NSMakeRange(1, 4)];
    unsigned wav1Hexint;
    unsigned wav2Hexint;

    [[NSScanner scannerWithString:wav1HexString] scanHexInt:&wav1Hexint];   
    [[NSScanner scannerWithString:wav2HexString] scanHexInt:&wav2Hexint];   
    unsigned wavAverage;

    wavAverage = (wav1Hexint+wav2Hexint);
    iValueWav1Sample = wav1Hexint;
    iValueWav2Sample = wav2Hexint;
    iValueWavSampleAverage = wavAverage;

    bigEndian = [[NSData alloc ]initWithBytes:&iValueWavSampleAverage length:2];
    littleEndian = [[NSMutableData alloc] initWithData:[bigEndian subdataWithRange:NSMakeRange(1, 1)]];
    [littleEndian appendData:[bigEndian subdataWithRange:NSMakeRange(0, 1)]];

    [headerBuffer appendData:littleEndian];

    //Release stuff 

    [wav1HexString release]; 
    [wav2HexString release]; 

    [wav1DataBuffer1 release]; 
    [wav2DataBuffer1 release];
    [wav1DataBuffer2 release];
    [wav2DataBuffer2 release]; 

    [littleEndianHexWav1Sample release];
    [littleEndianHexWav2Sample release];
    [bigEndian release];
    [littleEndian release];

    wav1DataBuffer1 = nil;
    wav2DataBuffer1= nil; 
    wav1DataBuffer2 = nil;
    wav2DataBuffer2 = nil;

    littleEndianHexWav1Sample= nil;
    littleEndianHexWav2Sample= nil; 
    bigEndian= nil;
    littleEndian= nil;

} 
```

编辑：

@乌斯曼：

我已经使用 performselectorinbackground 方法在后台运行混合功能。

我已经将泄漏范围缩小到对象 wav1Data 和 wav2Data，这两个 NSData 在开始时都被设置为自动释放对象。

```
NSData * wav1Data = [[NSData alloc ]initWithContentsOfFile:soundFile1Path];
NSData * wav2Data = [[NSData alloc]initWithContentsOfFile:soundFile2Path]; 
```

现在我正在做的是，在 for 循环中创建 wav1Data 和 wav2Data，然后在最后释放它们。

我已经解决了内存泄漏，但现在又出现了另一个问题，其中 for 循环的执行速度大大减慢。这一定是因为我在每次迭代时都会初始化文件的内容。

有什么建议或想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:25:01.347

我在这里看到的是您的应用程序可能崩溃主要是因为您在 UI 线程上执行更大的操作。您需要在非 UI/后台线程中调用此操作。您可以这样做：

```
NSOperationQueue *queue = [NSOperationQueue new];
NSInvocationOperation *operation = [[NSInvocationOperation alloc] initWithTarget:self
                                                                        selector:@selector(processWave:)
                                                                          object:nil;
[queue addOperation:operation];
[operation release];
[queue release]; 
```

或者

```
[NSThread detachNewThreadSelector: @selector(processWave) toTarget:self withObject:NULL]; 
```

更不用说您可能需要自己创建 processWave() 。

如果它仍然崩溃，请告诉我。

# php - PHP 强制下载远程文件而不通过我们的服务器

> ID：11409192
> 
> 赞同：0
> 
> 时间：2012-07-10T08:14:11.250
> 
> 标签：php, file, download

我编写了一个 php 脚本，它从 YouTube 检索 flv URL 并使用 header 和 readfile() 函数强制下载它。它可以正常工作，但是 flv 文件会通过我的托管服务器，然后再发送给花费大量带宽并导致服务器停机的用户。

有没有人有更好的解决方案来解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:19:42.917

两种选择：

1.  开发一个浏览器插件，强制下载和/或直接将文件保存到磁盘
2.  告诉用户“右键单击并选择*另存为...* ”

您不能强制另一个服务器做某事或客户端以任何特定方式与服务器交互。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:24:47.213

如果您通过 readfile 提供它，则它必须通过您的服务器。你唯一能做的就是直接重定向到flv。或者他们必须“另存为”才能获取文件。

您可以做的优化过程的事情是将文件缓存在您的服务器上。这也会占用您的带宽，但您不必一直从 youtube 获取文件。

# ruby - Ruby 的集合库

> ID：11409193
> 
> 赞同：2
> 
> 时间：2012-07-10T08:14:17.073
> 
> 标签：ruby, data-structures

是否有类似 Guava for Ruby 的集合类的东西？到目前为止，我只发现了与 Java TreeMap 类不同的红黑树的实现。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T21:55:50.020

[https://github.com/kanwei/algorithms](https://github.com/kanwei/algorithms)是正确答案。虽然没有广泛宣传。KL-7 似乎也有同样的想法。

# java - 通过 Java 操作 c# 对象

> ID：11409201
> 
> 赞同：-1
> 
> 时间：2012-07-10T08:14:41.970
> 
> 标签：java, wcf, adt, ksoap

我正在用 Java/Android 编写应用程序。在我的应用程序中，我使用 KSOAP2 使用 wcf Web 服务。我的问题是，有时我可以接收定义的对象（或对象数组）而不是单个字符串在 c# web 服务中。有什么方法可以处理这些对象吗？如果有帮助，我可以告诉你，我知道这些对象的类是如何在 c# 中定义的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-11T09:11:30.253

[好的，我发现了这一点，实际上我发现了 2 篇关于它的文章，其中包含非常明确的教程，我将](http://seesharpgears.blogspot.gr/2010/10/web-service-that-returns-array-of.html)在此处发布它们，以防有人偶然发现此帖子[链接](http://seesharpgears.blogspot.gr/2010/10/ksoap-android-web-service-tutorial-with.html?commentPage=2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:19:13.590

> 有什么办法可以处理这些对象吗？

定义“过程”。使用 Web 服务，您可以传输序列化的对象，这些对象（通常）是任一端（服务或客户端）语言中对象的 XML 表示。

如果你定义一个`Person`带有属性的类`Name`，你可以从服务中返回这个类的一个对象。使用此服务的客户端必须使用框架或内置机制将服务类反序列化为对象。

您可能必须使用 C# 服务生成的 WSDL 在 Java 中为这些对象生成类。

# domain-driven-design - 如何引用来自不同根的叶子？

> ID：11409203
> 
> 赞同：0
> 
> 时间：2012-07-10T08:15:05.963
> 
> 标签：domain-driven-design, aggregateroot

我有这个设计：

一个产品有多个定价网格，一个网格有多个定价周期

```
Product
 Id
 Name
 Grids[]
  Name
  Periods[]
   Price
   Start
   End 
```

现在我有特别优惠，当卖家创建优惠（例如 -10%）时，他可以选择将其应用于产品甚至网格（例如，他不想将优惠应用于网格“www .apartnerwebsite.com”，但他更喜欢将其应用于网格“我的网站”）。

```
Offer
 OfferId
 OfferName
 ProductIds[]
 GridIds[] //?? 
```

但我不能这样做，因为没有网格 ID，我不能从根聚合中引用叶子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:07:34.557

在我看来，Grid 是其自身聚合根的有力竞争者。如果 Grid 构成 Offer 和 Product 的一部分，那么将其设为聚合根对我来说是有意义的。Products & Offers 将通过 ID 引用他们的 Grid。

正如我在评论中提到的，你不应该害怕拥有大量的小聚合。这实际上是一件积极的事情，正如弗农在他的优秀文章中所记录的那样：http: [//dddcommunity.org/library/vernon_2011](http://dddcommunity.org/library/vernon_2011)

# javascript - 用javascript打印元素

> ID：11409215
> 
> 赞同：0
> 
> 时间：2012-07-10T08:15:45.713
> 
> 标签：javascript

我现在正在学习 javascript，下面的代码并没有产生我认为的结果：

```
var links = document.getElementsByTagName("a");

for(i=0; i<links.length; i++) {
    document.write(links[i]);
} 
```

当我运行此代码时，它会从数组中写入 1 个元素。我希望它返回所有内容（有超过 1,000 个`links`）

我做错什么了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:25:31.140

links 是一个活动的 NodeList（参见[.getElementsByTagName()](https://developer.mozilla.org/en/DOM/element.getElementsByTagName)）。对页面上链接的任何更改都将立即反映在列表中。

第一个`document.write`是覆盖当前文档（如果在文档加载后使用），因此`links`列表将为空。

使用`console.log()`代替`document.write`并查看您浏览器的 Javascript 控制台。

```
var links = document.getElementsByTagName("a");

for(i=0; i<links.length; i++) {
    console.log(links[i]);
} 
```

# php - FIND_IN_SET 中的错误

> ID：11409219
> 
> 赞同：0
> 
> 时间：2012-07-10T08:15:50.260
> 
> 标签：php, mysql, select

我在 phpadmin 中得到这个查询的结果，但在 php( `You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1`)中得到错误

```
select * from luxury_properties LP,property_type PT,cities C 
where (FIND_IN_SET('2',LP.luxury_property_feature_id) OR 
       FIND_IN_SET('7',LP.luxury_property_feature_id) ) 
AND LP.property_type_id = PT.property_type_id 
AND LP.city=C.city_id 
AND LP.status=1 
order by LP.property_price DESC 
```

`LP.luxury_property_feature_id`逗号分隔值在哪里

这个查询有什么问题？

## 更新：

我正在这样执行

```
$str='';
if(is_array($luxPropFeatures) && $luxPropFeatures != 0)
{
    $selCount = count($luxPropFeatures);
    if($selCount >1){
        foreach($luxPropFeatures as $val){
            $str .= " OR FIND_IN_SET('".$val."',LP.luxury_property_feature_id) ";
            $str[0]='';$str[1]='';
        }
    }else{
        foreach($luxPropFeatures as $val) {
            $str = " FIND_IN_SET('".$val."',LP.luxury_property_feature_id) ";
        }
    }
}

$sql = "select * from luxury_properties LP,property_type PT,cities C 
        WHERE (".$str.") 
        AND LP.property_type_id = PT.property_type_id 
        AND LP.city=C.city_id 
        AND LP.status=1 
        order by LP.property_price DESC"; 
```

`$luxPropFeatures`复选框选择的数组在哪里

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:41:04.200

最后我解决了这个问题，

```
if($selCount >1){
    foreach($luxPropFeatures as $val) {
    $str .="OR FIND_IN_SET('".$val."',LP.luxury_property_feature_id) ";
    $trimmed = ltrim($str, "OR"); 
     //$str[0]='';$str[2]='';
     }
}else{

    foreach($luxPropFeatures as $val) {
        $trimmed = "FIND_IN_SET('".$val."',LP.luxury_property_feature_id) ";
    }

} 
```

以前我第一次尝试转义`OR`[ `OR FIND_IN_SET('2',LP.luxury_property_feature_id) OR FIND_IN_SET('7',LP.luxury_property_feature_id)`] 字符`$str[0]='';$str[2]='';`

我没有设置 null，而是使用 ltrim [ `$trimmed = ltrim($str, "OR");`]修剪了前两个字符

现在可以正常使用了，感谢支持。

# c++ - 一个数据包阅读器 Qt/C++ API 设计

> ID：11409222
> 
> 赞同：1
> 
> 时间：2012-07-10T08:16:05.117
> 
> 标签：c++, api, qt

我有一个二进制数据包格式，我必须为其实现一个 C++ 阅读器。该库使用 Qt 4，数据包源可以是任何 QIODevice，例如 QTcpSocket、QFile 或 QBuffer。格式包括数据包格式，每个数据包内部也可能有很多子结构。我需要读者返回以下内容：

*   包头；
*   子结构数组；
*   读取操作的错误状态 - 成功、错误或数据不足（特别是从套接字或其他类型的缓冲设备读取时）。

阅读器 API 有多种可能的方法：

1.  `Packet read(Status &status);`- 按值返回，通过引用参数返回错误状态。
2.  `Packet *read(bool *ok);`- 出错时返回 NULL，或者如果数据不足，`ok`则根据该变量将 true 或 false 写入变量（如果不是 NULL）。
3.  `Packet *read();`- 出错或数据不足时返回 NULL，调用另一个方法`bool wasError();`来检查发生了什么。`ok`通过使参数具有默认值，可以将这个与前一个合并`NULL`。
4.  `Status read(Packet &packet);`- 如果返回状态为`Ok`，则将读取的值放入`packet`变量中，否则表示错误或 EOF。
5.  `Packet read();`- 按值返回，在 EOF 或错误的情况下返回一个特殊的“空包”值。打电话`wasError()`确定发生了什么。

当然，还有其他可能的组合。似乎没有最好的选择。方法 1、2 和 4 要求调用者声明一个单独的变量来存储结果。方法 2 和 3 涉及弄乱堆，出于显而易见的原因，我不想这样做。方法 1 并没有明确说明发生错误时返回的内容。方法 5 解决了这个问题，但在数据包结构中引入了一个特殊的“空”标志，尽管它可能不属于那里。

我可以采用第 5 种方法，但返回一个包含数据包和状态信息的特殊结构，但这会引入另一种“合成”类型，并且仍然会留下一个问题“如果出现错误，数据包字段将包含什么？”

或者我可以采用第三种方法并返回 a `QSharedPointer<Packet>`，因此调用者不必手动处理堆。但是`Packet`对于 Pimpl 而言，该结构可能已经是一种智能指针（共享类）。也许我可以改用那个内部指针并引入一个`isNull()`方法，就像 QString 那样。

有更好的或传统的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T16:52:04.547

好吧，我已经继续执行它，如下所示。

读取方法的签名是：

```
Packet readPacket(bool *error = NULL); 
```

Packet 类如下所示：

```
class Packet {
    inline Packet(): p(NULL) {} // this is returned on error or EOF
    Packet(const Header &header, const Data &data);
    inline bool isNull() {return p == NULL;}
private:
    QSharedDataPointer<PacketPrivate> p;
}; 
```

数据包阅读器还具有`bool wasError()`用于检索错误状态的方法，以防`error`参数未提供给`readPacket()`函数。

这个实现允许我：

1.  创建优雅的循环，如`while (!(packet = reader->readPacket()).isNull()) ...`
2.  避免在 Packet 类中包含不相关的字段，例如“error”或“null”。
3.  为了避免手动分配或删除指针，或者不得不在调用方显式地弄乱智能指针。
4.  避免在使用默认构造函数时出现未初始化的字段。

它仍然远非完美，因为有必要提供参数或稍后`error`调用。`wasError()`但我相信强制调用者检查错误的唯一方法是使用异常，但出于可移植性原因我不想这样做。

# git - GIT：如何撤消合并？

> ID：11409224
> 
> 赞同：0
> 
> 时间：2012-07-10T08:16:08.120
> 
> 标签：git, git-merge

我已经合并`some-branch`到`master`，但是遇到了冲突。如何撤消此操作？

```
git checkout master
git merge some-branch
...
CONFLICTS :( 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T08:19:24.477

```
git merge --abort 
```

是最近添加的选项。它做你所期望的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:19:15.723

如果您有冲突，您的合并将不会被提交，因此您可以使用`git reset --hard HEAD`删除合并。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-14T12:15:34.697

使用现代 git，您可以按照先前答案中的建议：

```
git merge --abort 
```

旧语法：

```
git reset --merge 
```

老派，在之前的回答中也建议：

```
git reset --hard 
```

但实际上，值得注意的是，that`git merge --abort`仅相当于`git reset --merge`given that `MERGE_HEAD`is present。这可以在 git help for merge 命令中阅读。

```
git merge --abort is equivalent to git reset --merge when MERGE_HEAD is present. 
```

合并失败后，如果没有`MERGE_HEAD`，则可以撤消失败的合并，`git reset --merge`但不一定要使用`git merge --abort`，**因此它们不仅是同一事物的旧语法和新语法**。

就我个人而言，我发现`git reset --merge`在日常工作中更有用，所以这是我一直使用的方法。

# ios - 从图像生成配色方案

> ID：11409225
> 
> 赞同：6
> 
> 时间：2012-07-10T08:16:10.970
> 
> 标签：ios, image, uicolor

我想知道如何从 iOS 中的图像生成配色方案。[我浏览并找到了一些相关链接，我可以从这里](https://stackoverflow.com/questions/5562095/average-color-value-of-uiimage-in-objective-c/5562246#5562246)获取图像的平均颜色，也可以从[这里](https://stackoverflow.com/questions/144250/how-to-get-the-rgb-values-for-a-pixel-on-an-image-on-the-iphone)和[这里](https://stackoverflow.com/a/1285690/1424174)的图像触摸点获取确切的颜色值但是我不知道如何获得配色方案（至少 10 种颜色）来自该图像。

首先，我将给定的图像分成九个部分并处理每个部分以获得该特定部分的主色。它起作用了，但是由于[链接](https://stackoverflow.com/questions/5562095/average-color-value-of-uiimage-in-objective-c/5562246#5562246)中的代码仅获得平均颜色，这似乎很混乱。

所以，我希望它是图像中的真实颜色。这是我的需要。有人可以指出我如何从给定的图像中获得确切的配色方案吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-25T18:54:00.020

我[在 github 中创建了一个 iOS 项目](https://github.com/luisespinoza/LEColorPicker)来实现一个可以根据输入图像返回配色方案的类。目前是一个非常缓慢的过程，但我一直在努力，（分支开发GPU量化）并取得了很大进展（比如快了 100 倍）。我希望尽快将这个分支合并到 master 中。

此外，您可以查看[此](https://stackoverflow.com/questions/13637892/how-does-the-algorithm-to-color-the-song-list-in-itunes-11-work)问题以获取更多信息。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-02-22T21:01:23.593

要从图像中获取颜色，您可以使用[DBImageColorPicker](https://github.com/d0ping/DBImageColorPicker)。该组件允许获取各种主要颜色以及附加的主要文本颜色和辅助文本颜色。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-08T15:28:52.280

GitHub 上有一些代码反映了新 iTunes [https://github.com/panicinc/ColorArt](https://github.com/panicinc/ColorArt)的行为，这听起来很像您正在尝试做的事情。它获得背景/主要/次要/细节颜色，而不是您所追求的 10 种颜色，但它可能是一个不错的起点。

# visual-c++ - 如何使用 vc++ 应用程序获取系统中所有打开的窗口的名称？

> ID：11409226
> 
> 赞同：1
> 
> 时间：2012-07-10T08:16:18.113
> 
> 标签：visual-c++

我正在尝试解决一个问题，以显示当前打开的所有窗口的名称。

我正在使用 vc++（基于对话框的应用程序）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:02:54.337

尝试使用此`GetWindow`API 遍历显示的窗口句柄。使用`GetWindowText`API 获取标题标题（如果有的话）。

```
HWND wnd = ::GetWindow( this->GetSafeHWND(), GW_HWNDFIRST );
if( !wnd )
{
   return;
}
CString csWindows = "";
do
{
    CString csText;
    ::GetWindowText( wnd, csText.GetBuffer(MAX_PATH), MAX_PATH );
    csText.ReleaseBuffer();
    if( !csText.IsEmpty())
    {
        csWindows += csText + "\n";
    }
}while( wnd = ::GetWindow( wnd, GW_HWNDNEXT ));
AfxMessageBox( csWindows ); 
```

上面的代码应该可以工作。如果您只想要可见的窗口，请使用`::IsWindowVisible`API 进行检查。

**更新：**

> 调用 GetWindow 来执行此任务的应用程序可能会陷入无限循环或引用已销毁窗口的句柄。将 EnumWindows 用于顶级窗口，将 EnumChildWindows 用于子窗口，或将 EnumThreadWindows 用于与线程关联的所有非子窗口是首选方法。

引用自[Microsoft 支持](http://support.microsoft.com/kb/183009)

# asp.net - 具有嵌套图像服务器等效项的 href

> ID：11409228
> 
> 赞同：1
> 
> 时间：2012-07-10T08:16:25.570
> 
> 标签：asp.net, html

我的页面上有以下标记

```
<a href="some.aspx">
  <img src=""><strong>Text</strong>
</a> 
```

我需要更改服务器行为，asp.net 服务器可以与以下标记等效吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:35:19.983

Why not try doing it this way?

```
<asp:HyperLink runat="server" ID="hplSomeLink" NavigateUrl="some.aspx" ImageUrl="~/App_Themes/Default/Images/someimage.png"></HyperLink> 
```

Seems a bit neater and will render the same as:

```
<a href="some.aspx">
    <img src="/App_Themes/Default/Images/someimage.png" alt="" />
</a> 
```

Hope this helps!

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:15:47.083

在锚点和 img 标签中添加 runat="server" 和 id 属性。所以它应该看起来像：

```
<a href="some.aspx" runat="server" id="anchor_id" >
  <img src="" runat="server" id="img_id" /><strong>Text</strong>
</a> 
```

以编程方式，您可以通过它们的 id 访问这些元素，例如：

```
{
    anchor_id.innerHTML = "........";
} 
```

# c# - 使用 Regex.split 时如何忽略较长的单词？

> ID：11409232
> 
> 赞同：-1
> 
> 时间：2012-07-10T08:16:39.023
> 
> 标签：c#, regex, text

```
string[] tmp = Regex.Split(originalString, @"\b(3DFACE|3DSOLID|ACAD_PROXY_ENTITIY|ARC|ATTDEF|ATTRIB|BODY|CIRCLE|DIMENSION|ELLIPSE|HATCH|HELIX|IMAGE|INSERT|LEADER|LIGHT|LWPOLYLINE|MLINE|MLEADERSTYLE|MLEADER|MTEXT|OLEFRAME|OLE2FRAME|POINT|POLYLINE|RAY|REGION|SEQEND|SHAPE|SOLID|SPLINE|SUN|SURFACE|TABLE|TEXT|TOLERANCE|TRACE|UNDERLAY|VERTEX|VIEWPORT|WIPEOUT|XLINE|LINE)\b", RegexOptions.None); 
```

我有这个文本

```
BODY
bodyattrib
mybody
GR-BODY
attrib
123 
```

我希望输出是这样的

```
tmp[0] = "BODY"
tmp[1] = "bodyattrib\mybody\nGR-BODY\nattrib\n123" 
```

到目前为止不好，输出总是用 GR-BODY 分割的 3 个数组

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:41:29.217

使用`^`特殊字符：

```
string[] tmp = Regex.Split(originalString, @"\b(3DFACE|3DSOLID|ACAD_PROXY_ENTITIY|ARC|ATTDEF|ATTRIB|^BODY|CIRCLE|DIMENSION|ELLIPSE|HATCH|HELIX|IMAGE|INSERT|LEADER|LIGHT|LWPOLYLINE|MLINE|MLEADERSTYLE|MLEADER|MTEXT|OLEFRAME|OLE2FRAME|POINT|POLYLINE|RAY|REGION|SEQEND|SHAPE|SOLID|SPLINE|SUN|SURFACE|TABLE|TEXT|TOLERANCE|TRACE|UNDERLAY|VERTEX|VIEWPORT|WIPEOUT|XLINE|LINE)\b", RegexOptions.None); 
```

`^`意味着`beginning of string or line`。

如果您喜欢将此应用于所有单词，请使用`^`您喜欢的任何单词：

```
\b(^3DFACE|^3DSOLID|^ACAD_PROXY_ENTITIY|^ARC|^ATTDEF|^ATTRIB|^BODY|^CIRCLE|^DIMENSION|^ELLIPSE|^HATCH|^HELIX|^IMAGE|^INSERT|^LEADER|^LIGHT|^LWPOLYLINE|^MLINE|^MLEADERSTYLE|^MLEADER|^MTEXT|^OLEFRAME|^OLE2FRAME|^POINT|^POLYLINE|^RAY|^REGION|^SEQEND|^SHAPE|^SOLID|^SPLINE|^SUN|^SURFACE|^TABLE|^TEXT|^TOLERANCE|^TRACE|^UNDERLAY|^VERTEX|^VIEWPORT|^WIPEOUT|^XLINE|^LINE)\b 
```

其他有用的特殊字符是`$`手段`end of string or line`。你可以把你的词括起来，以确保这些词排成一行。

请注意，这`^`取决于`$`选项`Multiline`。

# tabs - panelTabbed 内的 panelAccordion 不展开

> ID：11409233
> 
> 赞同：0
> 
> 时间：2012-07-10T08:16:54.833
> 
> 标签：tabs, accordion, jsf-1.2, trinidad

我在其中一个选项卡中使用手风琴面板时遇到问题，我无法展开手风琴项目以显示其内容。在 tabbedPanel 外工作得很好。有人可以帮忙吗？我想它可能是嵌套的 showDetailItems 的东西，但即使每个组件都有自己的 Id，它仍然无法工作。

这是我遇到问题的代码：

```
 <tr:panelTabbed id="pt1">
            <tr:showDetailItem text="Tab 1" id="sdiT1">
                <tr:panelHeader text="Header 1" />
                <tr:panelAccordion discloseNone="true" id="pa1">
                    <tr:showDetailItem text="Accordion 1" id="sdiA1">
                        <tr:panelHeader text="Header 1" />
                    </tr:showDetailItem>
                    <tr:showDetailItem text="Accordion 2" id="sdiA2">
                        <tr:panelHeader text="Header 2" />
                    </tr:showDetailItem>
                    <tr:showDetailItem text="Accordion 3" id="sdiA3">
                        <tr:panelHeader text="Header 3" />
                    </tr:showDetailItem>
                </tr:panelAccordion>
            </tr:showDetailItem>
            <tr:showDetailItem text="Tab 2" id="sdiT2">
                <tr:panelHeader text="Header 2" />
            </tr:showDetailItem>
            <tr:showDetailItem text="Tab 3" id="sdiT3">
                <tr:panelHeader text="Header 3" />
            </tr:showDetailItem>
            <tr:showDetailItem text="Tab 4" id="sdiT4">
                <tr:panelHeader text="Header 4" />
            </tr:showDetailItem>
            <tr:showDetailItem text="Tab 5" id="sdiT5">
                <tr:panelHeader text="Header 5" />
            </tr:showDetailItem>
        </tr:panelTabbed> 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-24T05:37:38.750

我已经测试了你的代码并且它有效。上面的代码是不是在一个

```
<tr:form> 
```

标签？

我在 jsf1.2 和 trinidad 1.2.14

# php - 如何在 php 中解析 .eml 文件？

> ID：11409235
> 
> 赞同：3
> 
> 时间：2012-07-10T08:17:01.250
> 
> 标签：php, parsing, mime, eml

如何在 php中解析[.eml文件？](http://www.fileinfo.com/extension/eml)是否有任何 PHP 库或 PHP 扩展？

我想在浏览器中显示邮件头信息，例如发件人、收件人、标题、附件和 eml 正文内容。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T08:29:15.527

有几种方法可以做到这一点。一种方法是简单地自己做，它并不复杂。

否则，您可能想看看 Mailparse 库：

[http://php.net/manual/en/book.mailparse.php](http://php.net/manual/en/book.mailparse.php)

还有这个：

[http://code.google.com/p/php-mime-mail-parser/](http://code.google.com/p/php-mime-mail-parser/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-08-10T09:18:47.853

[这](https://github.com/php-mime-mail-parser/php-mime-mail-parser)就是我使用的：

```
composer require php-mime-mail-parser/php-mime-mail-parser 
```

然后是 PHP：

```
$parser = new \PhpMimeMailParser\Parser();
$emailFile = 'myEmailFile.eml';
$parser->setText(file_get_contents($emailFile)); 
```

然后，获取地址：

```
$toAddressesQ = $parser->getAddresses('to'); 
```

或者身体：

```
$text = $parser->getMessageBody('text');
$html = $parser->getMessageBody('html'); 
```

或标题：

```
$subject = $parser->getHeader('subject'); 
```

或者附件：

```
$attachments = $parser->getAttachments(); 
```

# python - 正则表达式组和 * 通配符可以一起使用吗？

> ID：11409236
> 
> 赞同：5
> 
> 时间：2012-07-10T08:17:08.227
> 
> 标签：python, regex

有什么方法可以将组和正则表达式的 * 特征组合起来，就像分词器/拆分器一样。我试过这个：

```
my_str = "foofoofoofoo"
pattern = "(foo)*"
result = re.search(pattern, my_str) 
```

我希望我的小组看起来像

```
("foo", "foo", "foo", "foo") 
```

但事实并非如此。我对此感到惊讶，因为？和组功能确实可以协同工作：

```
my_str= "Mr foo"
pattern = "(Mr)? foo"
result = re.search(pattern, my_str) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T08:53:18.567

问题是**你重复你唯一的捕获组**。这意味着您只有一个括号 ==> 一个捕获组，并且每次匹配时都会覆盖该捕获组。

有关更多信息，请参阅regular-expression.info 上[的重复捕获组与捕获重复组](http://www.regular-expressions.info/captureall.html)。（但捕获重复组也不是您想要的）

因此，在您的正则表达式完成后，您的捕获组 1 将包含最后找到的“foo”。

这会给你预期的结果：

```
my_str = "foofoofoofoo"
pattern = "foo"
result = re.findall(pattern, my_str) 
```

结果是一个列表`['foo', 'foo', 'foo', 'foo']`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T08:29:41.527

捕获组和 * 不适用于内置的 re 模块 - 请改用 findall。

在 pypi 中有一个名为 regex 的库，我相信它支持该语法并具有一些其他功能，例如可变长度回溯。

# java - 为什么 Spring Context 加载了两次？

> ID：11409237
> 
> 赞同：6
> 
> 时间：2012-07-10T08:17:09.143
> 
> 标签：java, spring

我有带有 Spring 和 Spring 安全性的 web 项目。我的 web.xml：

```
 <web-app xmlns="http://java.sun.com/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
         version="3.0" >
        <display-name>BillBoard
        </display-name>
        <session-config>
            <session-timeout>
                30
            </session-timeout>
        </session-config>
        <listener>
            <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
        </listener>
        <listener>
            <listener-class>org.springframework.security.web.session.HttpSessionEventPublisher</listener-class>
        </listener>
        <context-param>
            <param-name>contextConfigLocation</param-name>
            <param-value>classpath:security-config.xml classpath:billboard-servlet.xml</param-value>
        </context-param>
        <servlet>
            <servlet-name>billboard</servlet-name>
            <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
            <init-param>
                <param-name>contextConfigLocation</param-name>
                <param-value>classpath:security-config.xml classpath:billboard-servlet.xml</param-value>
            </init-param>
            <load-on-startup>1</load-on-startup>

        </servlet>
        <servlet-mapping>
            <servlet-name>billboard</servlet-name>
            <url-pattern>*.html</url-pattern>
        </servlet-mapping>
        <filter>
            <filter-name>springSecurityFilterChain</filter-name>
            <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
        </filter>

        <filter-mapping>
            <filter-name>springSecurityFilterChain</filter-name>
            <url-pattern>/*</url-pattern>
        </filter-mapping>
    </web-app> 
```

在服务器日志中，我看到 Spring 上下文被加载了两次（spring bean 初始化、数据库创建......）。第一次是 DispatcherServlet，第二次是 ContextLoaderListener。我该如何解决？

在[本](http://static.springsource.org/spring-security/site/tutorial.html)教程中，我看到如果提供了 contextParam，则不需要 servlet init-params。但是如果我删除初始化参数我有错误：“org.apache.catalina.LifecycleException: org.apache.catalina.LifecycleException: java.io.FileNotFoundException: 无法打开 ServletContext 资源 [/WEB-INF/billboard-servlet.xml] ”。Dispather servlet 在默认位置找到上下文配置。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-10T08:56:54.643

您仍然需要 servlet 的上下文：

> 在初始化 DispatcherServlet 时，Spring MVC 在您的 Web 应用程序的 WEB-INF 目录中查找名为 [servlet-name]-servlet.xml 的文件并创建在那里定义的 bean，覆盖任何同名定义的 bean 的定义在全球范围内。

您不需要像`context-param`在其中那样加载它`ContextLoaderListener`。

只需保留`security-config.xml`as `context-param`（它必须去那里，因为每个应用程序的安全性是全局的），并且`billboard-servlet.xml`作为`contextConfigLocation`您的 servlet 并且它应该可以工作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-03-31T13:25:30.297

我有同样的问题，原因是：

`<load-on-startup>1</load-on-startup`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-10T08:18:51.877

这是做同一件事的两种独立方法。`ContextLoaderListener`例如，删除。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-02-02T13:30:40.060

既然你有 spring `delegatingFilterProxy`，如果你放弃，`contextLoaderLister`你会得到以下异常。

```
java.lang.IllegalStateException: No WebApplicationContext found: 
no   ContextLoaderListener registered? 
```

因此，通过 contextLoaderLister 加载 security-config.xml，通过调度程序 servlet 加载 billboard-servlet.xml。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-06-19T20:36:51.343

当您在 XML 中配置 spring MVC 框架配置时，您可以配置如下：

```
<!-- for Spring context loader -->
<servlet>
    <servlet-name>billboard</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>classpath:security-config.xml classpath:billboard-servlet.xml</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>

</servlet> 
```

此配置将导致 IoC 容器初始化两次。

您应该将默认的 servlet 名称[billboard] 更改为其他来解决此问题。

因为您的调度程序 servlet 使用默认的上下文命名空间 [name of servlet]-servlet.xml（在这种情况下为 billboard-servlet.xml），所以 Spring MVC 将自动加载它。

更多详情见：[https ://www.conqtech.com/blog/?p=85](https://www.conqtech.com/blog/?p=85)

# xamarin.android - 为带有 monodroid 的编辑文本指定 requestfocus 标志？

> ID：11409240
> 
> 赞同：0
> 
> 时间：2012-07-10T08:17:22.663
> 
> 标签：xamarin.android

我正在尝试以这种方式通过布局文件设置文本编辑请求焦点标志：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <EditText
         android:id="@+id/etEditText1"
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
         android:ems="10">
         <requestfocus />
    </EditText>
</LienarLayout> 
```

问题是 Visual Studio 抱怨我不能在那里使用。我怎么能做到这一点？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T13:31:45.950

这里有两点需要注意：

1.  仅仅因为 Visual Studio 在 XML 中显示警告并不意味着实际上存在问题。为 AXML 文档提供的模式只是为了帮助提供基本的智能感知，但不是 100%。在这种情况下，如果您编译并运行该应用程序，您会发现它实际上按预期工作。
2.  但是，您的 XML 存在实际问题。您的结束 LinearLayout 标记拼写错误，这将触发构建错误。将其更新为`</LinearLayout>`将解决此问题。

# javascript - 如何对主要由 Javascript 生成的网站进行 SEO？

> ID：11409243
> 
> 赞同：-2
> 
> 时间：2012-07-10T08:17:26.913
> 
> 标签：javascript, dynamic, seo

我犯了一个错误，即通过 Javascript 生成几乎所有请求的内容（来自 XML 文件）。现在我了解到这对 SEO 来说是可怕的。从那以后，我也了解了[渐进增强](http://en.wikipedia.org/wiki/Progressive_enhancement)，并且很遗憾我也错过了那条船。

我一直在研究剩余的 SEO 选项，并遇到了 Google 的[AJAX 可抓取](https://developers.google.com/webmasters/ajax-crawling/docs/getting-started)建议，但随后阅读了很多关于为什么 hashbang 不好的有根据的意见。

无论我使用什么选项，深度链接对我来说也很重要。我目前正在使用[JQuery-BBQ](http://benalman.com/projects/jquery-bbq-plugin/)，它适用于深度链接，但对搜索引擎没有任何帮助。我正在考虑切换到更好地支持 HTML5 历史状态的选项，例如[History.js](https://github.com/balupton/history.js)。这将有助于清理 URL 并避免散列，但我不确定它是否真的会对 SEO 产生影响，因为我的所有内容都是从 XML 文件动态生成的。

为了实现体面的 SEO，我还有哪些选择？请只戴白帽，不要伪装。

请注意，我的担忧主要是关于 SEO，而不是可访问性——这是一个个人投资组合网站，我可以接受我的内容对某些人不可见，但我不同意它对蜘蛛不可见。 [这是该站点](http://transmote.com/lab/v3/)（正在进行中，但主要是在架构上）。

**编辑：**是的，我知道有许多类似于这个的 SO 问题，但其中大多数都有需要重大重组的答案。如果我从头开始，我不是在寻找一个我会使用的答案，我在寻找一些东西来尽可能优雅地修补我以前的无知......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:25:22.807

一个是您必须解释到达您网站的请求，如果它来自谷歌机器人，您可以返回您网站的 html 版本，如果它是普通用户，则重定向到普通 site.for 返回您网站的 html 版本，无需付出太多努力更改代码时，您可以对您的网站进行屏幕抓取，如果它是谷歌机器人，则返回呈现的 html 响应。你可以通过几种方式来做到这一点，要么使用带有 Nodejs 服务器的 phantomjs 之类的无头浏览器，要么使用 python beautiful soup 或 java htmlkit。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:19:05.150

重新开始制作网站，使其无需 JavaScript 即可运行。然后（可选）使用 JavaScript 随意增强体验。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T05:37:33.623

尽管有反对意见和重新开始的建议，但我找到了答案。我使用 php 为我的内容生成了一个精简的纯 html 版本，它的另一个好处是为禁用了 javascript 的任何人提供了可用的（如果不是理想的话）体验。

如果视口大小足以容纳它们，我还使用媒体查询来显示 javascripted DOM 元素。由于蜘蛛很少使用 CSS，它们只能看到 php 生成的纯 html，并且有很好的内容可供搜索引擎使用。

请参阅[transmote.com](http://transmote.com/projects/dividingspace)以了解此操作的示例；[减少浏览器宽度 < 640px 或使用Pendule](https://chrome.google.com/webstore/detail/pendule/gbkffbkamcejhkcaocmkdeiiccpmjfdi)之类的工具关闭 CSS以查看 php 生成的纯 html 内容。

# xml - 使用 xpath 查找值

> ID：11409250
> 
> 赞同：1
> 
> 时间：2012-07-10T08:18:07.023
> 
> 标签：xml, xpath

我有这个结构，

![XML 结构](../Images/4c7804a6d0fc25a25c1859bdfadc96d0.png)

我可以在此使用 xpath 来首先找到 id W01001，然后在同一级别获取 _ 的值吗？

xml 是 web 服务的结果，在不同的问题、输入和返回的结果类型之间发生变化。我们唯一可以依赖的是 W01001、W01002 等等，所以 xpath 可能只使用它。

如果这不能用 xpath 完成，你会建议什么替代解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:34:47.043

我真的不完全确定括号中的元素是什么意思或你的结构是什么，但假设 _ 是一个属性（不确定是否可以），节点将是：

```
//*[@id='W01001']/@_ 
```

如果它是元素的快捷方式，它将是：

```
//*[@id='W01001'] 
```

# iphone - 滚动表格时不调用 touchesEnded

> ID：11409252
> 
> 赞同：0
> 
> 时间：2012-07-10T08:18:12.827
> 
> 标签：iphone, objective-c, uitableview, three20

我有一张`TTTableViewController`桌子，里面有`TTTableLinkedItemCell`单元格。

在牢房里，我有`-(void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event;`功能。

此函数仅在单击表格时调用，而不是在滚动时调用。是否有其他功能可以拦截滚动？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:49:12.440

您可以使用 UIGestureRecognizer 来识别某些操作，例如点击、移动、旋转和缩放。
请找到以下网址
[http://www.icodeblog.com/2010/10/14/working-with-uigesturerecognizers/](http://www.icodeblog.com/2010/10/14/working-with-uigesturerecognizers/)

# python - Django 更改 Photologue 的应用程序名称

> ID：11409253
> 
> 赞同：5
> 
> 时间：2012-07-10T08:18:17.413
> 
> 标签：python, django, django-models, photologue

[我已经在我的项目中安装了 photologue - 一个用于 Django Web 框架的](http://code.google.com/p/django-photologue/)可自定义插件照片管理应用程序，没有问题......

现在我想在管理页面中更改应用名称，即**photologue**。为此，我使用了 ugettext_lazy，但是当我将其定义为所有 Meta 时出现错误：

```
from django.utils.translation import ugettext_lazy as _

class Meta:
    app_label = _('newappname') 
```

错误：

```
ValueError at /admin/

Cannot create form field for 'effect' yet, because its related model 
'PhotoEffect' has not been loaded yet 
```

有什么简单的方法可以更改应用程序名称，我看了很多，但没有找到...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T13:12:44.857

Django 目前不支持在管理员中重命名应用程序，但提出[票号 #3591](https://code.djangoproject.com/ticket/3591)以添加该功能，因此希望它会被添加。

有几种方法可以实现。最简单和首选的方法是更改​​主管理模板并使用您想要的任何名称作为应用程序名称。

其他解决方案：

*   [如何更改 Django 应用程序的名称？](https://stackoverflow.com/questions/8408046/django-how-to-change-the-name-of-an-app)
*   [https://stackoverflow.com/a/6312798/342473](https://stackoverflow.com/a/6312798/342473)
*   [http://djangosnippets.org/snippets/1882/](http://djangosnippets.org/snippets/1882/)

# delphi - 德尔福与 NetBeans 7.1.2

> ID：11409255
> 
> 赞同：1
> 
> 时间：2012-07-10T08:18:27.990
> 
> 标签：delphi, netbeans-7

我已经安装了 NetBeans 7.1.2，我正在寻找 Delphi 插件。它在这个版本或早期版本（以及哪一个）中可用？我可以在netbeans中导入delphi项目吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:45:52.793

Delphi 使用专有的编译器和框架，AFAIK 在 Delphi 本身之外不可用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T12:26:05.320

NetBeans IDE只有一个（小）[Pascal 插件](http://code.google.com/p/nbpascal/)项目。然而，它显示自 2009 年以来没有任何进展。

但是，我会将 NetBeans 保留在我的硬盘上，因为它是一些 Web 标准文件格式（CSS、HTML）和 XML/XSD 文件的好编辑器，具有上下文相关的帮助和语法检查、验证等。

# jquery-ui - jQuery 可拖动和 Firefox 问题

> ID：11409256
> 
> 赞同：0
> 
> 时间：2012-07-10T08:18:41.940
> 
> 标签：jquery-ui, firefox

请注意，当使用 Firefox v13.0.1 可拖动的 jquery UI 时，我无法编辑文本框。

示例代码：[jsfiddle 示例](http://jsfiddle.net/saravanan/gsebN/8/)

是否有解决此问题的方法。

jQuery：1.7.1，jQuery UI：1.8.16

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:28:59.367

那是因为您正在调用`disableSelection()`所有列。这会导致`<input>`元素不接收鼠标点击。

删除该呼叫可以解决您的问题。[你会在这里](http://jsfiddle.net/gsebN/9/)找到一个更新的小提琴。

# ios - 通知中心 - 当他们在活动应用程序上收到通知时，通知不会出现在通知中心

> ID：11409262
> 
> 赞同：6
> 
> 时间：2012-07-10T08:18:59.483
> 
> 标签：ios, apple-push-notifications, notificationcenter

我需要所有通知都会出现在通知中心，并且在我的应用程序中，只有从后台收到的通知或应用程序关闭时才会显示在通知中心。那是我的问题吗？如何从代码向通知中心添加通知？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:22:41.257

您可以使用`postNotification:`,`postNotificationName:object:`或`postNotificationName:object:userInfo:`方法从您的代码中发布通知

有关更多信息，请参阅[NSNotificationCenter 参考](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/nsnotificationcenter_Class/Reference/Reference.html)

希望能帮助到你！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:29:11.950

收到通知时检查应用程序是否处于活动状态

```
if ([[UIApplication sharedApplication] applicationState] == UIApplicationStateActive) 
```

如果处于活动状态，您可以显示警报或使用[本地通知](http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/WhatAreRemoteNotif/WhatAreRemoteNotif.html#//apple_ref/doc/uid/TP40008194-CH102-SW1)在通知中心添加消息。请注意，用户可以从通知中心删除应用程序，也可以从设置中选择警报而不是横幅。

# c# - Winforms 日志框架

> ID：11409264
> 
> 赞同：6
> 
> 时间：2012-07-10T08:19:05.070
> 
> 标签：c#, .net, logging

我正在编写一个 WinForms 应用程序。我需要将信息记录到文件中。通常我使用[log4net](http://logging.apache.org/log4net/)进行日志记录，但由于限制，我无法添加参考。我**无法**向我的项目添加外部引用，因为我必须部署一个可执行文件。

.NET中是否有任何内置的**日志记录框架**，这样我就可以在不添加外部 dll 的情况下登录文件？

PS：当然我不想打开流并手动写入。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-10T08:22:21.827

是的，[System.Diagnostics.TraceListener](http://msdn.microsoft.com/en-us/library/system.diagnostics.tracelistener.aspx)类。您需要定义 TRACE 常量才能使其工作，但您可以通过配置 app.config 使用许多内置的跟踪侦听器：

*   [ConsoleTraceListener 类](http://msdn.microsoft.com/en-us/library/system.diagnostics.consoletracelistener)
*   [EventLogTraceListener 类](http://msdn.microsoft.com/en-us/library/system.diagnostics.eventlogtracelistener)
*   [XmlWriterTraceListener 类](http://msdn.microsoft.com/en-us/library/system.diagnostics.xmlwritertracelistener)
*   [TextWriterTraceListener 类](http://msdn.microsoft.com/en-us/library/system.diagnostics.textwritertracelistener)

如果您想写入文件，app.config 看起来像这样，您还可以添加很多过滤器：

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.diagnostics>
        <trace autoflush="false" indentsize="4">
          <listeners>
            <add name="yourName" type="System.Diagnostics.TextWriterTraceListener" initializeData="c:\mylogfile.txt" />
          </listeners>
        </trace>
    </system.diagnostics>
</configuration> 
```

和用法：

```
Trace.TraceError("There's been an error captain: {0}", e);
Trace.TraceWarning("The system broke but don't worry.");
Trace.TraceInformation("Starting up the engines."); 
```

就个人而言，如果可以避免它，我不会写入文本文件，事件日志是一个更好的位置，因为您可以排序、过滤、自动清除日志并且您不会遇到文件锁定问题。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-10T08:24:19.190

好吧，如果您对 log4net 感到满意，那就这样吧。使用您选择的日志记录工具，并在构建后使用[ILMerge](https://github.com/Microsoft/ILMerge)将所有依赖项合并到一个可执行文件中。

这正是它所针对的场景。

如果您不想在命令行模式下使用它，它还有一个[GUI 。](https://github.com/jpdillingham/ILMergeGUI)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-10T08:23:36.190

您可以使用系统跟踪调用，但它不能替代像 log4net 这样的适当日志框架。

[http://msdn.microsoft.com/en-us/library/system.diagnostics.trace.aspx](http://msdn.microsoft.com/en-us/library/system.diagnostics.trace.aspx)

另一种可能更灵活的长期方法是在编译完所有内容后使用 ILMerge 将所有外部 DLL 组合成一个可执行文件。

[http://www.microsoft.com/en-us/download/details.aspx?id=17630](http://www.microsoft.com/en-us/download/details.aspx?id=17630)

或者根据您对“单个可执行文件”的定义，将所有内容打包为 MSI 或 clickonce 包。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T08:21:53.930

以下页面显示了手动记录到 XML 文件的示例。看起来相当简单。

[c# 创建日志文件的最佳方法](https://stackoverflow.com/questions/10242061/c-sharp-best-method-to-create-a-log-file)

希望能帮助到你。

# javascript - 如何使用 Chutzpah 生成测试报告？

> ID：11409268
> 
> 赞同：4
> 
> 时间：2012-07-10T08:19:11.467
> 
> 标签：javascript, qunit, chutzpah

我想为我的 QUnit javascript 单元测试生成 junit、nunit 或 mstest 报告，因为我们主要在 Visual Studio（c# MVC 服务器）中进行开发，我们目前正在使用 Chutzpah 来运行 QUnit 测试。

现在我想生成一个测试报告以集成到 Jenkins 中，但我找不到不涉及编写自己的报告生成器的简单方法。

有人知道 Chutzpah 的替代方案，它可以无头运行 QUnit 测试并集成到 Visual Studio中**，还是**可以用 Chutzpah 解决这个问题的方法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-09T05:01:55.567

Chutzpah 2.1（2012 年 9 月 8 日发布）现在支持输出 junit-xml 兼容文件。从您指定的命令行`/junit <filename>`，它会输出正确的 xml 格式。

让我知道这是否适合您。

# lua - lua 5.2 只有整数

> ID：11409275
> 
> 赞同：5
> 
> 时间：2012-07-10T08:19:32.140
> 
> 标签：lua

我只需要用 int 数字编译 Lua 5.2。我仍然看到一些使用 double 的地方？

有要更改的地方的列表吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-10T11:22:39.173

编辑[luaconf.h](http://www.tecgraf.puc-rio.br/lua/local/source/5.2/luaconf.h.html#LUAL_BUFFERSIZE)以更改从`LUA_NUMBER is the type of numbers in Lua`. 这并不复杂。

# java - 将 wkhtmltopdf 与基于 JBoss 表单的身份验证一起使用

> ID：11409276
> 
> 赞同：1
> 
> 时间：2012-07-10T08:19:42.407
> 
> 标签：java, jsp, pdf-generation, wkhtmltopdf

我正在尝试在 JBoss 中使用 wkhtml2pdf 和 Java 来创建 PDF 文件。我成功了，但它只从我的登录页面创建一个 PDF 文件，而不是从 jsp 文件。

我读到可以添加用户名或密码等参数，这就是我所做的：

```
String command = applicationLocation + "wkhtmltopdf.exe " + "--post j_username=" + username +" --post j_password=" + password + " " + reqURL + "?" + reqQuery + " c:/PDF/" + folderName + "/" + id + "/" + folderName + ".pdf"; 
```

但这不会创建 PDF 文件，甚至不会产生错误输出。这就是我的班级的样子：

```
public class GeneratePDF {

    String logUserId = "0";
    public String path = "c:/PDF";
    String applicationLocation = "C:\\Program Files\\wkhtmltopdf\\";

    /**
     * This method creates a command which calls wkhtmltopdf from Google in order to create a PDF file.
     * 
     * @param reqURL
     * @param reqQuery
     * @param folderName
     * @param id
     */
    public void genrateCmd(String reqURL, String username, String password, String reqQuery, String folderName, String id) {

        try {
            // make sure c:/eGP exists
            File destFoldereGP = new File("c:/eGP");
            if (destFoldereGP.exists() == false) {
                destFoldereGP.mkdirs();
                System.out.println("successfully created c:/eGP");
            }

            // make sure c:/PDF exists
            File destFolderPDF = new File("c:/PDF/");
            if (destFolderPDF.exists() == false) {
                destFolderPDF.mkdirs();
                System.out.println("successfully created c:/PDF");
            }

            // make sure c:/PDF/foldername exists
            File destFolder = new File("c:/PDF/" + folderName);
            if (destFolder.exists() == false) {
                destFolder.mkdirs();
                System.out.println("successfully created c:/PDF/foldername");
            }

            // make sure c:/PDF/foldername/id exists
            File destFolder2 = new File("c:/PDF/" + folderName + "/" + id);
            if (destFolder2.exists() == false) {
                destFolder2.mkdirs();
                System.out.println("successfully created c:/PDF/foldername/id");
            }

            //For Image change 'wkhtmltopdf.exe' to 'wkhtmltoimage.exe' and '.pdf' to '.jpeg'
            String command = applicationLocation + "wkhtmltopdf.exe " + "--post j_username=" + username +" --post j_password=" + password + " " + reqURL + "?" + reqQuery + " c:/PDF/" + folderName + "/" + id + "/" + folderName + ".pdf";
            System.out.println("Command to create PDF: " + command);
            Runtime.getRuntime().exec(command);

            System.out.println("Successfully created a new PDF file.");
        } catch (IOException e1) {
            System.out.println("Exception: " + e1);
        } catch (Exception e) {
            System.out.println("Exception: " + e);
        }
    }
} 
```

知道如何在 JBoss 中使用 wkhtml2pdf 和基于表单的身份验证创建 PDF 吗？非常感谢。

# jquery - jQuery：主选择框来应用值

> ID：11409280
> 
> 赞同：1
> 
> 时间：2012-07-10T08:19:53.387
> 
> 标签：jquery, html

我有以下选择框：

```
<select class="actionList" name="masterBox">
<option value="0">No Action</option>
<option value="1">Move</option>
<option value="2">Terminate</option>
</select>

============================================================

<select class="actionList" name="action_ISI00222">
<option value="0">No Action</option>
<option value="1">Move</option>
<option value="2">Terminate</option>
</select>

<select class="actionList" name="action_ISI00223">
<option value="0">No Action</option>
<option value="1">Move</option>
<option value="2">Terminate</option>
</select> 
```

我正在尝试放置一个 jQuery 操作，这样当在 中选择一个值时`masterBox`，它也会应用于其他选择框。

感谢所有帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:26:23.603

```
$(document).ready(function(){
$('select[name="masterBox"]').change(function(){

$('.actionList option[value="'+$(this).val()+'"]').attr('selected','selected');

});

}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:32:21.377

您可以在这里找到一个解决方案：http: [//jsfiddle.net/nhZDF/1/](http://jsfiddle.net/nhZDF/1/) 请注意我在元素中添加了 ID

# javascript - 输入到javascript函数中

> ID：11409282
> 
> 赞同：0
> 
> 时间：2012-07-10T08:19:57.490
> 
> 标签：javascript, function, input

我不知道如何拥有一个正确接受参数的 javascript 函数。

如果我不使用输入参数，我可以让函数完美运行，因为我可以这样做：

```
var x = MyFunction; 
```

但是我必须这样做的那一刻

```
 var x = MyFunction(e); 
```

然后它会破裂。

我试图通过在之后设置输入参数来解决这个问题，但我什么也做不了。我怎样才能做到这一点？

[http://jsfiddle.net/TxMmG/](http://jsfiddle.net/TxMmG/)

```
var MyFunction = function() {

    var otherResult = function() {
        alert("Hi");
    },

        input, objToAlert = function() {
            return input;
        };

    return {
        objToAlert: objToAlert,
        input: input,
        otherResult: otherResult
    }

}();

var e1 = "test";

//var y = MyFunction(e); //this does not work if i add a parameter to function - moment i put parenthesis i get problems
var x = MyFunction;
x.input = e1; //also cant set the input here
x.objToAlert();
x.otherResult(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:39:22.520

你`()`在函数定义之后放了一个，所以函数被调用并且`MyFunction`实际上是函数返回的对象，而不是函数本身。

这样做：

```
var MyFunction = function() {
    // ...
};  // No () here 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:42:42.740

问题是您的函数返回一个对象。因此，您将一个对象分配给 var y。您不能将对象视为函数。

# linux - Bash 脚本正则表达式

> ID：11409284
> 
> 赞同：0
> 
> 时间：2012-07-10T08:20:04.663
> 
> 标签：linux, bash, shell, unix, bash4

我是 bash 新手，我有一个关于解析命令输出的问题。我有 3 个具有相同名称“进程”的进程，并且该进程有一些参数，例如：

```
 process -a 10 -b 20 -c 30 ...
 process -a 15 -b 30 -c 40 ...
 process -a 30 -b 40 -c 50 ... 
```

如果进程存在，我必须处理“a”参数并将它们分配给数组。如果它们不存在，我必须重新启动该过程。我正在处理以下流程：

```
 `$PS -ef|$GREP -v grep|$GREP process` 
```

这给了我正在运行的进程，我必须查看哪个进程没有运行并在“a”参数的帮助下重新启动它。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:46:01.393

```
in_array() { for v in "${@:2}"; do [[ "$v" = "$1" ]] && return 0; done; return 1; }

relaunch () {
    echo "Do whatever you need to do in order to run again with $1"
}

watch=(10 15 30)
running=()
while read -r proc a av b bv c cv ; do
    printf 'a was %s, b was %s, c was %s\n' "$av" "$bv" "$cv" # can be omitted
    running=("${running[@]}" "$av")
done < <(ps -C process -o cmd=)

for item in "${watch[@]}" ; do
    in_array "$item" "${running[@]}" || relaunch "$item"
done 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-12T09:53:24.443

观察者.sh：

```
#!/bin/bash

pid=$(pgrep -f 'process $1 $2')
[[ -z $pid ]] || wait $pid

echo "process $@: restarted"
process $@
exec $0 $@ 
```

并为每个进程启动自己的观察者：

```
nohup ./watcher.sh -a 10 -b 20 -c 30 ... &
nohup ./watcher.sh -a 15 -b 30 -c 40 ... &
nohup ./watcher.sh -a 30 -b 40 -c 50 ... & 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T08:41:55.843

您可以编写一个包装脚本来启动该过程并对其进行监视。

通用流程将。

```
var pid_of_bg_process

func start_process
 process -a 10 -b 20 -c 30 ... &
 pid_of_bg_process=$!

start_process    
while true
 sleep 1min
 if file not exists /proc/$pid_of_bg_process
  alert_process_being_restarted
  start_process
 else
  continue 
```

# jquery - Jquery 1单击隐藏并从左到右显示

> ID：11409286
> 
> 赞同：0
> 
> 时间：2012-07-10T08:20:07.330
> 
> 标签：jquery, show-hide

我希望我的 jQuery 脚本一键隐藏并显示，当它隐藏链接时显示单词*SHOW*，当它显示链接时显示单词*HIDE*。

请问你能不能找我。

最好的祝福。

```
$(document).ready(function() {
    $('#hide').click(function(e) {
        $('.DIV').delay(500).animate({
            marginLeft: '-100%',
        });
        return false;
    });

    $('#show').click(function(e) {
        $('.DIV') .delay(500) .animate({
            marginLeft: '0%',
        });
        return false;
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:05:10.803

一种方法是使用`toggle`和动画`left`。您需要设置`position`为`relative`才能滑动它。

**HTML**

```
<div id="toggleDiv">hide</div>
<div class="test">Some text</div>​ 
```

**CSS**

```
.test {
 position: relative;
} 
```

**jQuery**

```
$('#toggleDiv').toggle(function() {
    $('.test').delay(500).animate({
        'opacity': 0,
        'left': '-100%'
    });
    $(this).delay(1000).queue(function(n) {
        $(this).html('show');
        n();
    });
}, function() {
    $('.test').delay(500).animate({
        'opacity': 1,
        'left': '0%'
    });
    $(this).delay(1000).queue(function(n) {
        $(this).html('hide');
        n();
    });
});​ 
```

**JSFiddle**
[http://jsfiddle.net/dW8Rv/1](http://jsfiddle.net/dW8Rv/1)

# java - java正则表达式拆分模式

> ID：11409287
> 
> 赞同：0
> 
> 时间：2012-07-10T08:20:11.850
> 
> 标签：java

我想拆分以下字符串：

```
String line ="DOB,1234567890,11,07/05/12,\"first,last\",100,\"is,a,good,boy\""; 
```

分为以下标记：

```
DOB
1234567890
11
07/05/12
first,last
100
is,a,good,boy 
```

我尝试使用以下正则表达式：

```
import java.util.*;
import java.lang.*;
import java.util.regex.*;
import org.apache.commons.lang.StringUtils;

class SplitString{

    public static final String quotes = "\".[[((a-z)|(A-Z))]+( ((a-z)|(A-Z)).,)*.((a-z)|(A-Z))].\"" ;
    public static final String ISSUE_UPLOAD_FILE_PATTERN = "((a-z)|(A-Z))+ [(((a-z)|(A-Z)).,)* + ("+quotes+".,) ].((a-z)|(A-Z)) + ("+quotes+")";

    public static void main(String[] args){

        String line ="DOB,1234567890,11,07/05/12,\"first,last\",100,\"is,a,good,boy\"";
        String delimiter = ",";

    Pattern p = Pattern.compile(ISSUE_UPLOAD_FILE_PATTERN);

    Pattern pattern = Pattern.compile(ISSUE_UPLOAD_FILE_PATTERN);
    String[] output = pattern.split(line);

    System.out.println(" pattern: "+pattern);

    for(String a:output){
        System.out.println(" output: "+a);
    }

    }             
} 
```

我在正则表达式中遗漏了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:45:49.167

这是您的代码的更新版本，可为您提供预期的输出：

```
public static final String ISSUE_UPLOAD_FILE_PATTERN = "(?<=(^|,))(([^\",]+)|\"([^\"]*)\")(?=($|,))";
public static void main(String[] args) {
    String line = "DOB,1234567890,11,07/05/12,\"first,last\",100,\"is,a,good,boy\"";
    Matcher matcher = Pattern.compile(ISSUE_UPLOAD_FILE_PATTERN).matcher(line);
    while (matcher.find()) {
        if (matcher.group(3) != null) {
            System.out.println(matcher.group(3));
        } else {
            System.out.println(matcher.group(4));
        }
    }
} 
```

正则表达式的工作方式如下 `(?<=(^|,))`：：检查匹配前的字符是字符串的开头还是 a `,`
`(([^\",]+)|\"([^\"]*)\")`：匹配`"<any number of (not")>"`或者`any number of (not" or ,)`
`(?=($|,))`：检查匹配后的字符是字符串的结尾还是 a`,`
结果将是 i 组 3 或 4，具体取决于哪个部分匹配。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:42:52.433

你的正则表达式用`[`and做了一些奇怪的事情`]`：这些的使用看起来不像字符范围。出于这个原因，我没有费心去破译和修复你所有的表情。

作为第二个注意事项，您应该确保您的正则表达式应该描述什么：您希望它们匹配标记之间的*分隔符*，还是*每个*单独的非分隔符*标记*？使用 split 方法意味着前者，但我猜对于您的应用程序，后者更容易实现。事实上，在我[最近的回答中，](https://stackoverflow.com/a/11347574/1468366)我想出了一个匹配 csv 文件标记的正则表达式：

```
String tokenPattern = "\"[^\"]*(\"\"[^\"]*)*\"|[^,]*"; 
```

这将匹配

*   不加引号的字符串，直到但不包括下一个逗号
*   qutoed 字符串直到结束引号，包括嵌入的逗号
*   带引号的字符串，包括双引号

您可以使用它，为您的行创建一个匹配器，使用 遍历所有匹配项`find`并使用`group()`. 如果您需要列的语义值，您也可以使用该循环去除引号并将双引号转换为单引号。

作为替代方案，您当然也可以按照问题评论中的建议使用 CSV 阅读器。

# css - 将 CSS 应用于锚标记

> ID：11409288
> 
> 赞同：1
> 
> 时间：2012-07-10T08:20:21.483
> 
> 标签：css, css-selectors

我有现有的 CSS 作为

```
a:active {
    outline: none;
}
a:focus {
    -moz-outline-style: none;
} 
```

效果很好

我只想将应用程序限制为那些锚项目，这些锚项目是`<ul><li>`div 下的项目的一部分，其中 class=" `tabs_container`"

所以这就是我所做的只是失败了！

```
#tabs_container ul li a:active {
    outline: none;
}
#tabs_container ul li a:focus {
    -moz-outline-style: none;
} 
```

我做错了吗？

提前致谢

**编辑** 我的错！实际上 ID=" `tabs_container`" 不是 Class。

进一步参考：这是Erric Berry关于[如何使用从头开始的 Jquery 创建选项卡的教程的一部分。](http://broadcast.oreilly.com/2008/10/how-to-create-tabs-with-css-an.html)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T08:22:18.733

你的元素有一个类，但你试图用一个 ID 来引用它

```
.tabs_container ul li a:active {
    outline: none;
}
.tabs_container ul li a:focus {
    -moz-outline-style: none;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:23:26.083

尝试：-

```
ul > li > a:active 
```

这应该捕获作为元素子元素的锚点，而这些`<li>`元素又是元素的子`<ul>`元素。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T08:25:57.993

CSS 类以 . （点）。

所以，试试

```
.tabs_container ul li a:active {
    outline: none;

}

.tabs_container ul li a:focus {
    -moz-outline-style: none;
} 
```

# c - 指针数组的C比较

> ID：11409289
> 
> 赞同：2
> 
> 时间：2012-07-10T08:20:23.980
> 
> 标签：c

我正在尝试编写一个函数来比较两个指针数组，看看它们是否相同。我想在任何指针数组上使用该函数，即无论指针指向什么 - 我只是对指针本身的相等性感兴趣

我写了这个：

```
/**
 * Return true if arrays (of type ptr to ptr) are equal
 */
bool ptr_array_eq(const void **x, const void **y, size_t n)
{
    size_t i;
    for (i=0; i<n; i++) {
        if (x[i] != y[i]) {
            return false;
        }
    }
    return true;
} 
```

我的单元测试如下所示：

```
void testPTR_ARRAY_EQ(void)
{
    Mode *m1, *m2, *m3, *m4, *m5, *m6;

    Mode *a[] = {m1, m2, m3, m4, m5};
    Mode *b[] = {m1, m2, m3, m4, m5};
    Mode *c[] = {m2, m3, m4, m5, m6};
    Mode *d[] = {m1, m3, m4, m5, m6};

    CU_ASSERT(ptr_array_eq(a, a, 4));
    CU_ASSERT(ptr_array_eq(a, b, 4));
    CU_ASSERT(! ptr_array_eq(a, c, 4));
    CU_ASSERT(! ptr_array_eq(a, d, 4));
} 
```

但是当我编译时，我收到以下警告（不是错误）：

```
test_utility.c: In function ‘testPTR_ARRAY_EQ’:
test_utility.c:648:5: warning: passing argument 1 of ‘ptr_array_eq’ from incompatible pointer type [enabled by default]
../src/glamdring2.h:327:6: note: expected ‘const void **’ but argument is of type ‘struct Mode **’ 
```

编译器抱怨在我的单元测试中我使用的类型与函数原型不匹配

但我对底层类型并不感兴趣，只对指向它的指针感兴趣。我是不是该：

*   a) 忽略警告
*   b) 以使编译器不发出警告的方式重写函数
*   c) 对传入的指针进行一些转换
*   d) 接受 C 不喜欢不知道底层类型的想法，并为我可能遇到的每种类型的指针重新编写函数

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T08:32:46.923

您的函数需要（指向第一个元素的指针）一个`const void*`.

您正在尝试将它（指向第一个元素的指针）传递给`Mode*`.

这在 C 中是不允许的，因为（除其他原因外）C 标准甚至不保证它`void*`的`Mode*`大小相同。因此，该语言不会让程序意外地将一个数组视为另一个数组。

在实现特定细节友好的前提下，它们几乎适用于任何实现，您可以使用它`memcmp`来比较数组。

# javascript - 从属性中获取文本并格式化

> ID：11409292
> 
> 赞同：2
> 
> 时间：2012-07-10T08:20:33.347
> 
> 标签：javascript, jquery

我有一个带有`data-seat`and`data-row`属性的 div 元素：

```
<div class='selected' data-seat='1' data-row='1'></div>
<div class='selected' data-seat='2' data-row='1'></div> 
<div class='selected' data-seat='3' data-row='1'></div> 
<div class='selected' data-seat='1' data-row='2'></div>
<div class='selected' data-seat='2' data-row='2'></div> 
```

我想为选定的座位打印友好消息：

```
var  selectedPlaceTextFormated =''; 
$(".selected").each(function () {

        var selectedPlace = $(this);

        selectedPlaceTextFormated += "Row " + selectedPlace.attr("data-row") + " (seat " + selectedPlace.attr("data-seat") + ")\n";
    });
alert(selectedPlaceTextFormated); 
```

此代码运行良好，并显示以下内容：

```
Row 1 (seat 1)
Row 1 (seat 2)
Row 1 (seat 3)
Row 2 (seat 1)
Row 2 (seat 2) 
```

但是，我想要按行分组座位，即我想要以下内容：

```
Row 1(seats: 1,2,3)
Row 2(seats: 1,2) 
```

另外，按行号排序。我怎样才能做到这一点？
谢谢。[演示](http://jsfiddle.net/gJFJW/1/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T08:33:25.323

这是代码

```
var selectedPlaceTextFormated ='';
var row_array = [];

$(".selected").each(function () {
    var selectedPlace = $(this);
    if (!row_array[selectedPlace.attr("data-row")]){
      row_array[selectedPlace.attr("data-row")] = selectedPlace.attr("data-seat");
    }
    else row_array[selectedPlace.attr("data-row")] += ','+selectedPlace.attr("data-seat");
});

for (row in row_array){
    alert("Row "+ row +"(seat " + row_array[row] + ")\n" );
} 
```

这里是工作小提琴的链接：http: [//jsfiddle.net/3gVHg/](http://jsfiddle.net/3gVHg/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T08:32:19.803

首先，jQuery 可以自动`data-`将属性抓取到它的`data expando`对象中，这意味着，您可以通过以下方式访问这些数据：

```
jQueryObject.data('seat'); 
```

例如。

您的实际问题可以像这样得到解决

```
var $selected      = $('.selected'),
    availableRows  = [ ],
    selectedPlaceTextFormated = '',
    currentRow,
    currentSeats;

 $selected.each(function(_, node) {
     if( availableRows.indexOf( currentRow = $(node).data('row') ) === -1 ) {
         availableRows.push( currentRow );
     }
 });

 availableRows.forEach(function( row ) {
     selectedPlaceTextFormated += 'Row ' + row + '(';

     currentSeats = $selected.filter('[data-row=' + row + ']').map(function(_, node) {
         return $(this).data('seat');
     }).get();

    selectedPlaceTextFormated += currentSeats.join(',') + ')\n';
 }); 
```

jsfiddle：http: [//jsfiddle.net/gJFJW/3/](http://jsfiddle.net/gJFJW/3/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T08:44:41.650

这可以通过对现有代码进行一些细微修改来使用数组来实现；然后使用这些数组来构建一个字符串：

```
var selectedPlaceTextFormated = [];
var textFormatted = '';
$(".selected").each(function(i) {

    var selectedPlace = $(this);
    var arr = [];

    selectedPlaceTextFormated[selectedPlace.attr("data-row")] += "," + selectedPlace.attr("data-seat");

});

selectedPlaceTextFormated.shift();

for (var i = 0; i < selectedPlaceTextFormated.length; i++) {
    var arr2 = selectedPlaceTextFormated[i].split(",");
    arr2.shift();
    textFormatted += "Row " + (i + 1) + " seats: (" + arr2.join(",") + ")\n";
}

alert(textFormatted); 
```

[**演示**](http://jsfiddle.net/Daedalus/kcKNQ/1/)[](http://jsfiddle.net/Daedalus/kcKNQ/1/)

 *** * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-10T08:57:31.397

我会这样做：

```
var text = []; 
$(".selected").each(function () {
    var a = parseInt($(this).data('row'), 10),
        b = $(this).data('seat');
    text[a] = ((text[a])?text[a]+', ':'')+b;
});

var selectedPlaceTextFormated ='';
$.each(text, function(index, elem) {
    if (!this.Window) selectedPlaceTextFormated += "Row " + index + " (seat " + elem + ")\n";
});

alert(selectedPlaceTextFormated); 
```

[小提琴](http://jsfiddle.net/gJFJW/5/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-10T08:40:50.650

您需要使用另一个变量来存储该行，并相应地格式化。

```
var selectedPlaceTextFormated =''; 
var prevRow = 0;
$(".selected").each(function () {
    var selectedPlace = $(this);
    var row = selectedPlace.attr("data-row");
    var seat = selectedPlace.attr("data-seat");
    if(prevRow == row){
        selectedPlaceTextFormated += "," + seat;
    }
    else{
        if(selectedPlaceTextFormated != ''){
            selectedPlaceTextFormated += ')\n';
        }
        selectedPlaceTextFormated += "Row " + row + " (seat " + seat;
        prevRow = row;
    }

});
selectedPlaceTextFormated += ')\n';
alert(selectedPlaceTextFormated); 
```

检查[http://jsfiddle.net/nsjithin/R8HHC/](http://jsfiddle.net/nsjithin/R8HHC/)**

# clojure - 在clojure中添加两个集合

> ID：11409294
> 
> 赞同：3
> 
> 时间：2012-07-10T08:20:37.163
> 
> 标签：clojure, functional-programming

如何在 clojure 中有效地添加两个集合？我试着跟着一个。我想知道有没有比这更有效的方法。

(减少#(conj %1 %2) collection01 collection02)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-10T09:41:10.707

这取决于您想要达到的目标。如果你想要的结果是一个指定类型的集合，它包含给定集合的所有元素，那么[`into`](http://clojure.github.com/clojure/clojure.core-api.html#clojure.core/into)是合适的：`(into coll1 coll2)`返回`(type coll1)`包含来自`coll1`and元素的类型集合`coll2`。

另一方面，如果您只想遍历许多集合（即在集合中创建*一系列*元素），那么使用更有效[`concat`](http://clojure.github.com/clojure/clojure.core-api.html#clojure.core/concat)：

```
user> (concat [1 2 3] (list 4 5 6)) 
(1 2 3 4 5 6) 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-10T08:23:53.587

使用`into`：

```
user> (into [1 2 3] [4 5 6])
[1 2 3 4 5 6]
user> (doc into)
-------------------------
clojure.core/into
([to from])
  Returns a new coll consisting of to-coll with all of the items of
  from-coll conjoined.
nil 
```

# linq - Linq 到实体参数化构造函数 Datetime

> ID：11409295
> 
> 赞同：5
> 
> 时间：2012-07-10T08:20:44.013
> 
> 标签：linq, datetime, entities

我知道 Linq to entity 不支持参数化构造函数，但是如何做到这一点？：

```
date = new DateTime(int.Parse(SqlFunctions.StringConvert(l.rok).Trim()), int.Parse(SqlFunctions.StringConvert(l.mesic).Trim()), 1) 
```

整个例子：

```
var objects = from object in GetObjects()
                   select new MyObject{
                   name = object.name;
                   date = new DateTime(object.rok,object.month,object.day)
                   } 
```

这该怎么做？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-10T15:34:49.813

使用此处找到的 EntityFunctions CreateDateTime 方法：http: [//msdn.microsoft.com/en-us/library/system.data.objects.entityfunctions.createdatetime](http://msdn.microsoft.com/en-us/library/system.data.objects.entityfunctions.createdatetime)

这些辅助方法被构建为转换为 SQL 等价物，如该链接的注释中所述：

> 您不能直接调用此函数。此函数只能出现在 LINQ to Entities 查询中。
> 
> 该函数被翻译成数据库中的相应函数。

# mfc - 在 mfc 应用程序的 ListBox 中禁用自动滚动

> ID：11409299
> 
> 赞同：0
> 
> 时间：2012-07-10T08:21:06.650
> 
> 标签：mfc, listbox, scrollbar

因此，在我的 MFC 应用程序中有一个 Listbox，有时会调用 AddString 方法。在 Listbox 的属性中 - 滚动是真的，它工作正常。并且当添加的字符串很多时，会出现滚动条，但滑块总是在下方。当我提高它以查看以前的字符串时，它在调用 Addstring 方法后下降。

调用 Addstring 后如何使滑块不播放电影？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T16:30:33.350

`CListBox::AddString`如果未给出，则将字符串添加到*列表的末尾。*`LBS_SORT`但是滑块不会向下移动，因为它**不会**导致选择更改。确保你没有打电话`SetCurSel`，`SetTopIndex`或`SelectString`之后`AddString`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:48:42.163

如果我理解正确，请`SetCurSel(0);`在`AddString`.

# node.js - node.js + express + 样板 + jquery 模块不起作用

> ID：11409300
> 
> 赞同：1
> 
> 时间：2012-07-10T08:21:07.820
> 
> 标签：node.js, express

在挣扎了 2 天之后，我仍然无法集成 node+express+boilerplate 和一个简单的 JQuery 模块（日期选择器）。

作为最后的检查，我克隆了这个项目的新副本并添加了以下 4 行。它未能显示确认问题不在我的最后的日期提示。正常 html 项目上相同的 4 行代码可以工作。

我决定放弃这个，但应该有它不起作用的原因。我仍然无法弄清楚。

要克隆的项目： [https ://github.com/mape/node-express-boilerplate](https://github.com/mape/node-express-boilerplate)

将这 4 行添加到 view 目录下的 layout.ejs 到 head 元素。

```
<link rel="stylesheet" type="text/css" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/smoothness/jquery-ui.css" media="all">
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>

<p>Date: <input type="text" id="datepick"></p>  
    <script type="text/javascript">        
        $(function() {            
           $("#datepick").datepicker();           
        });
    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T11:31:42.510

您也将段落 html 元素添加到元素中？如果是这样，请尝试将其移动到`<body>`标签内的某个位置，例如 views/index.ejs 文件。

# java - 使用 AND 条件进行一对多搜索

> ID：11409302
> 
> 赞同：1
> 
> 时间：2012-07-10T08:21:17.023
> 
> 标签：java, hibernate, hibernate-criteria

我有以下包含多种颜色的产品。

我希望找到至少包含红色和绿色的产品。

```
Product class

    String id;

    List<Color> colors{};

Color class

    id

    color

kindly ignore the syntax error. 
```

我可以使用以下内容来搜索 OR 条件。

```
Criteria criteria = createCriteria();
criteria.createAlias("colors","colors");

List<String> colorsList = new LinkedList();
colorsList.add("GREEN");
colorsList.add("RED");
criteria.add(Restriction.in("colors.color",colorsList); 
```

以上将为我提供颜色为红色或绿色的产品，但不是至少包含红色和绿色的产品。

例子

```
Product: RED GREEN - PASS
Product: RED GREEN YELLOW - PASS
Product: RED YELLOW - FAIL 
```

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:39:17.660

我们的想法是我们选择所有具有颜色的产品并对每个产品进行计数，那么具有两种颜色的产品应该以 2 作为颜色数

```
DetachedCriteria colorCrit = DetachedCriteria.For(Product.class)
    .createAlias("colors","color")
    .add(Restriction.eq("color.color", "RED")
    .add(Restriction.eq("color.color", "GREEN")
    .SetProjection(Projections.Group("id"))
    .add(Restriction.eq(Projections.rowCount(), 2));

Criteria criteria = createCriteria()
    .add(Subqueries.in("id", colorCrit)
    .list(); 
```

**更新：**

[正是因为这个问题](https://hibernate.onjira.com/browse/HHH-1043?focusedCommentId=35459&page=com.atlassian.jira.plugin.system.issuetabpanels%253Acomment-tabpanel#action_35459)，hibernate存在问题。最后一条评论描述了如何使用。

# jquery - 由于 jQuery 滑块，z-index 在菜单上无法正常运行

> ID：11409303
> 
> 赞同：0
> 
> 时间：2012-07-10T08:21:31.533
> 
> 标签：jquery, css, z-index

尽管我调整了各种 z-index 属性以纠正问题，但由于某种原因，我的内容滑块似乎位于导航菜单的“顶部”。

我菜单上的包装器是一个可定位元素，滑块仅将内容设置为 98 或 99 的 z-index，所以我不太明白为什么将我的菜单设置为 999 的 z-index 不起作用。

我尝试通过 Firebug 调整各种 z-index 无济于事。

有问题的网站目前位于我们的测试服务器上：[http ://www.testflightapparel.com](http://www.testflightapparel.com)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:41:14.127

![在此处输入图像描述](../Images/30b22759ee479bc847aebb46e6b26e12.png)通常在我的项目中总是与滑块`position: absolute;`一起工作。`z-index`不要忘记在滑块**之后**渲染菜单，使其被迫坐在**顶部**。

这是我在 Chrome 中编辑 HTML 时所做的：

```
<div class="main">
...
 your slider code
...
</div>

<!--See the added inline styles -->

<div class="wrapper_menu menu_dark_theme" style="position: absolute; margin-top: -1200px; z-index: 9999;">
   <ul class="menu menu_takeflight">...</ul>
</div> 
```

请参阅随附的屏幕截图：

# java - Eclipse 3.4 Glassfish 插件（服务器适配器）

> ID：11409312
> 
> 赞同：0
> 
> 时间：2012-07-10T08:21:58.080
> 
> 标签：java, eclipse, glassfish

由于 ajax.dev.java.net 已关闭，我无法为 Eclipse 3.4 安装 Glassfish 服务器适配器（Java 5 EE）（通过通常的方式）。有没有人存档了 plugin.jar 和 feature.jar（或者知道我可以从哪里得到它们），所以我可以手动安装它（或者知道有它并且可以工作的 Eclipse 下载服务器？）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T05:06:31.633

您好，您可以尝试新的[http://ajax.java.net/eclipse/](http://ajax.java.net/eclipse/)站点。

# php - 允许客户在 OpenCart 中购买缺货商品

> ID：11409315
> 
> 赞同：2
> 
> 时间：2012-07-10T08:22:20.020
> 
> 标签：php, module, opencart

我一直在寻找一个模块，如果库存水平为 0，客户仍然可以购买商品。OpenCart 1.5.x 中是否提供此功能？

我已将产品设置为 2-3 天，但是在网站前端它仍然显示产品缺货。是否可以提醒客户延迟 2-3 天，并且仍然允许客户购买？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T15:35:25.473

首先，您需要更改防止缺货商品结账的功能。转到 catalog/controller/checkout/checkout.php 并更改

```
public function index() {
    // Validate cart has products and has stock.
    if ((!$this->cart->hasProducts() && empty($this->session->data['vouchers'])) || (!$this->cart->hasStock() && !$this->config->get('config_stock_checkout'))) {
        $this->redirect($this->url->link('checkout/cart'));
} 
```

到

```
public function index() {
    // Validate cart has products and has stock.
    if (!$this->cart->hasProducts() && empty($this->session->data['vouchers'])) {
        $this->redirect($this->url->link('checkout/cart'));
} 
```

我不记得它是否首先阻止您将其添加到购物车中，所以请告诉我。祝大卫好运！

**更新**

**要更改产品页面上的“缺货”**，我自己使用商店中的设置进行了更改，所以如果这对您不起作用，那么您可以进入 catalog/controller/product/product.php 并在您看到的位置

```
if ($product_info['quantity'] <= 0) {
            $this->data['stock'] = $product_info['stock_status'];
        } elseif ($this->config->get('config_stock_display')) {
            $this->data['stock'] = $product_info['quantity'];
        } else {
            $this->data['stock'] = $this->language->get('text_instock');
        } 
```

改成：

```
if ($product_info['quantity'] <= 0) {
            $this->data['stock'] = "2-3 Days";
        } elseif ($this->config->get('config_stock_display')) {
            $this->data['stock'] = $product_info['quantity'];
        } else {
            $this->data['stock'] = $this->language->get('text_instock');
        } 
```

将这些括号内的文本更改为适合您的短语。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T11:50:47.913

这是 OpenCart 内置的标准功能。该设置应位于设置页面的“选项”选项卡上

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-05T10:58:06.473

首先找到

```
if (!$option_value['subtract'] || ($option_value['quantity'] > 0)) { 
```

并替换为

```
if (1==1 || !$option_value['subtract'] || ($option_value['quantity'] > 0)) { 
```

# linq - 如何比较 linq to sql 中的两个表？

> ID：11409319
> 
> 赞同：4
> 
> 时间：2012-07-10T08:22:34.900
> 
> 标签：linq, linq-to-sql

我正在尝试比较 linq to sql 中的两个表（即值、计数等），但我没有找到实现它的方法。我尝试了以下，

```
Table1.Any(i => i.itemNo == Table2.itemNo) 
```

它给出了错误。请你帮助我好吗？

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-10T08:28:15.173

怎么样

```
var isDifferent =
        Table1.Zip(Table2, (j, k) => j.itemNo == k.itemMo).Any(m => !m); 
```

* * *

**编辑**

如果 Linq-To-Sql 不支持 Zip。

```
var one = Table1.ToList();
var two = Table2.ToList();

var isDifferent =
        one.Zip(two, (j, k) => j.itemNo == k.itemMo).Any(m => !m); 
```

如果表变化很大，这可能会导致性能问题。在这种情况下，您将需要一个更复杂的解决方案，如果是这样，请询问。

**编辑2**

如果表非常大，您不想从服务器获取所有数据并将其保存在内存中。此外，除非您在查询中指定顺序，否则 Linq 和 SQL 服务器不会保证行的顺序。这对于多处理器服务器返回的大型结果集尤其相关，并行性的影响可能会发挥作用。

我建议 Linq-to-Sql 并不能很好地满足您的场景，因此您将不得不使用[`ExecuteQuery`](http://msdn.microsoft.com/en-us/library/bb361109)类似这样的东西来帮助它。

```
string zipQuery =
@"SELECT TOP 1
        1
    FROM
        [Table1] [one]
    WHERE
        NOT EXISTS (
           SELECT * FROM [Table2] [two] WHERE [two].[itemNo] = [one].[itemNo]
        )
UNION ALL
SELECT
        1
    FROM
        [Table2] [two]
    WHERE
        NOT EXISTS (
           SELECT * FROM [Table1] [one] WHERE [one].[itemNo] = [two].[itemNo]
        )
UNION ALL
SELECT 0";

var isDifferent = context.ExecuteQuery<int>(zipQuery).Single() == 1; 
```

这将在服务器上进行选择，而不会向客户端返回大量数据，但是，我认为您会同意要复杂得多。

* * *

**编辑3**

好的，zip 方法应该适用于 1000 行。我已阅读您的评论，并建议相应地更改代码。

```
var one = Table1.ToList();
var two = Table2.ToList();

var isDifferent =
    one.Count != two.Count ||
    one.Zip(two, (o, t) => o.itemNo == k.itemNo).Any(m => !m); 
```

您可能应该考虑在列表检索器上下订单，像这样。

```
var one = Table1.OrderBy(o => o.itemNo).ToList(); 
```

严格来说，除非指定了顺序，否则 Linq-to-Sql 的结果以任何顺序返回。

# java - Java StringTokenizer.nextToken() 跳过空字段

> ID：11409320
> 
> 赞同：15
> 
> 时间：2012-07-10T08:22:35.723
> 
> 标签：java, string, tokenize

我使用制表符 (/t) 作为分隔符，并且我知道我的数据中有一些空字段，例如：

```
one->two->->three 
```

其中 -> 等于制表符。如您所见，空白字段仍然正确地被选项卡包围。使用循环收集数据：

```
 while ((strLine = br.readLine()) != null) {
    StringTokenizer st = new StringTokenizer(strLine, "\t");
    String test = st.nextToken();
    ...
    } 
```

然而，Java 忽略了这个“空字符串”并跳过了该字段。

有没有办法规避这种行为并强制java读取空字段？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-07-10T08:27:11.933

[Sun 的错误数据库中有一个关于此问题的 RFE，](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4418160)其状态`StringTokenizer`为`Will not fix`.

对此 RFE 的评估指出，我引用：

> 随着`java.util.regex`包的加入`1.4.0`，我们基本淘汰了对`StringTokenizer`. 出于兼容性原因，我们不会删除该类。但`regex`只为您提供所需的东西。

然后建议使用[`String#split(String)`](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#split%28java.lang.String%29)方法。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-07-10T11:15:41.907

非常感谢。由于第一条评论，我能够找到解决方案：是的，您是对的，谢谢您的参考：

```
 Scanner s = new Scanner(new File("data.txt"));
 while (s.hasNextLine()) {
      String line = s.nextLine();
      String[] items= line.split("\t", -1);
      System.out.println(items[5]);
      //System.out.println(Arrays.toString(cols));
 } 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-07-10T08:26:23.993

您可以使用`Apache`Commons [StringUtils.splitPreserveAllTokens()](http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#splitPreserveAllTokens%28java.lang.String%29)。它完全符合您的需要。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-10T08:30:32.767

我会使用[Guava 的 Splitter](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Splitter.html)，它不需要所有大型的正则表达式机器，并且比 String 的`split()`方法表现得更好：

```
Iterable<String> parts = Splitter.on('\t').split(string); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-10T08:26:20.407

正如您在 Java Doc [http://docs.oracle.com/javase/6/docs/api/java/util/StringTokenizer.html](http://docs.oracle.com/javase/6/docs/api/java/util/StringTokenizer.html)中看到的，您可以将构造函数`public StringTokenizer(String str, String delim, boolean returnDelims)`与`returnDelims` `true`

所以它将每个分隔符作为单独的字符串返回！

**编辑：**

***不要***使用这种方式，因为@npe 已经输入，不应再使用 StringTokenizer！请参阅 JavaDoc：

> StringTokenizer 是一个遗留类，**出于兼容性原因保留，**但**不鼓励在新代码中**使用它。建议任何寻求此功能的人使用**`split`**方法`String` 或`java.util.regex`包来代替。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-05-07T08:36:55.953

```
public class TestStringTokenStrict {

/**
 * Strict implementation of StringTokenizer
 * 
 * @param str
 * @param delim
 * @param strict
 *            true = include NULL Token
 * @return
 */
static StringTokenizer getStringTokenizerStrict(String str, String delim, boolean strict) {
    StringTokenizer st = new StringTokenizer(str, delim, strict);
    StringBuffer sb = new StringBuffer();

    while (st.hasMoreTokens()) {
        String s = st.nextToken();
        if (s.equals(delim)) {
            sb.append(" ").append(delim);
        } else {
            sb.append(s).append(delim);
            if (st.hasMoreTokens())
                st.nextToken();
        }
    }
    return (new StringTokenizer(sb.toString(), delim));
}

static void altStringTokenizer(StringTokenizer st) {
    while (st.hasMoreTokens()) {
        String type = st.nextToken();
        String one = st.nextToken();
        String two = st.nextToken();
        String three = st.nextToken();
        String four = st.nextToken();
        String five = st.nextToken();

        System.out.println(
                "[" + type + "] [" + one + "] [" + two + "] [" + three + "] [" + four + "] [" + five + "]");
    }
}

public static void main(String[] args) {
    String input = "Record|One||Three||Five";
    altStringTokenizer(getStringTokenizerStrict(input, "|", true));
}} 
```

# wpf - WPF 的新手。表格显示不正确

> ID：11409328
> 
> 赞同：0
> 
> 时间：2012-07-10T08:23:06.293
> 
> 标签：wpf, layout, gridview

我对 WPF 很陌生，似乎无法正确显示我的表单。我预计会有 6 行。前三个应该有按钮，最后三个包含更多的网格。我正在关注 NHibernate 电子书中的代码，但它似乎无法正确显示。有人可以看看这段代码并提出任何可能的错误：

```
<av:Window x:Class="Chapter2.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:av="http://schemas.microsoft.com/winfx/2006/xaml/presentation" Title="Product Inventory" mc:Ignorable="d" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" d:DesignHeight="493" d:DesignWidth="566" SizeToContent="WidthAndHeight">
<av:Grid>
    <av:Grid.RowDefinitions>
        <av:RowDefinition Height="auto" />
        <av:RowDefinition Height="auto" />
        <av:RowDefinition Height="auto" />
        <av:RowDefinition Height="*" />
        <av:RowDefinition Height="*" />
        <av:RowDefinition Height="*" />
    </av:Grid.RowDefinitions>
    <av:Button x:Name="btnCreateDatabase" Content="Create Database" Click="BtnCreateSessionFactoryClick"/>
    <av:Button x:Name="btnCreateSessionFactory" Content="Create Session Factory" Click="BtnCreateSessionFactoryClick" av:Grid.Row="1"/>
    <av:Button x:Name="btnCreateSession" Content="Create Session" Click="BtnCreateSessionClick" av:Grid.Row="2" />
    <av:Grid x:Name = "CategoryGrid" av:Grid.Row="3" Margin="0 10 0 0">
        <av:Grid.ColumnDefinitions>
            <av:ColumnDefinition Width="Auto"/>
            <av:ColumnDefinition Width="*"/>
        </av:Grid.ColumnDefinitions>
        <av:Grid.RowDefinitions>
            <av:RowDefinition Height="Auto" />
            <av:RowDefinition Height="Auto" />
            <av:RowDefinition Height="Auto" />
        </av:Grid.RowDefinitions>
        <av:TextBlock Text="Category Name:"/>
        <av:TextBlock Text="Category Description:" av:Grid.Row="1"/>
        <av:TextBox x:Name="txtCategoryName" av:Grid.Column="1"/>
        <av:TextBox x:Name="txtCategoryDescription" av:Grid.Row="1" av:Grid.Column="1"/>
        <av:Button x:Name="btnAddCategory" Content="Add Category" av:Grid.Row="2" Click="BtnAddCategoryClick" />
    </av:Grid>
    <av:Grid x:Name = "ProductGrid" Margin="1,0,-1,131" av:Grid.Row="4">
        <av:Grid.ColumnDefinitions>
            <av:ColumnDefinition Width="Auto"/>
            <av:ColumnDefinition Width="*"/>
        </av:Grid.ColumnDefinitions>
        <av:Grid.RowDefinitions>
            <av:RowDefinition Height="Auto" />
            <av:RowDefinition Height="Auto" />
            <av:RowDefinition Height="Auto" />
        </av:Grid.RowDefinitions>
        <av:TextBlock Text="Category Name:"/>
        <av:TextBlock Text="Category Description:" av:Grid.Row="1"/>
        <av:TextBox x:Name="txtProductName" av:Grid.Column="1"/>
        <av:TextBox x:Name="txtProductDescription" av:Grid.Row="1" av:Grid.Column="1"/>
        <av:Button x:Name="btnAddProduct" Content="Add Product" av:Grid.Row="2" Click="BtnAddCategoryClick" />
    </av:Grid>
    <av:Grid x:Name = "LoadCategoryGrid" av:Grid.Row="5" Margin="1,0,-1,0" >
        <av:Grid.ColumnDefinitions>
            <av:ColumnDefinition Width="278"/>
            <av:ColumnDefinition Width="265"/>
        </av:Grid.ColumnDefinitions>
        <av:Grid.RowDefinitions>
            <av:RowDefinition Height="Auto" />
        </av:Grid.RowDefinitions>
        <av:Button x:Name="btnLoadCategories" Content="Load Categories"  VerticalAlignment="Top" Click="BtnLoadCategoriesClick" Margin="0,188,186,0" />
        <av:ListBox x:Name="lstCategories"  Margin="52,188,-55,-10" av:Grid.Column="1" />
    </av:Grid>
</av:Grid> 
```

![窗户](../Images/605c66aee57cadd381ca89758808df56.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:28:54.110

最后一个网格与第 5 行的网格重叠，这些行：

```
<av:Grid x:Name = "ProductGrid" Margin="-1,2,1,130" av:Grid.Row="5">
<av:Grid x:Name = "LoadCategoryGrid" av:Grid.Row="5" Margin="3,73,-3,128" > 
```

将两个网格放在同一网格行，查看`av:Grid.Row`具有相同值的附加属性。要将其中一个移动到空闲位置，必须更改为：`av:Grid.Row="4"`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:15:40.047

除了杂散的双重定义`Grid.Row="5"`和`Grid.RowSpan="2"`只定义了一行，你现在已经修复了这两个，唯一会影响定位的其他代码是所有的虚假`Margin`值。

除此之外，XAML 看起来还不错。

# c - 获取存储回调的函数

> ID：11409329
> 
> 赞同：0
> 
> 时间：2012-07-10T08:23:07.897
> 
> 标签：c, function, callback

假设我有一个存储回调的变量。

```
void* (*function)(int, double); 
```

现在我想创建一个函数，它将返回这个回调。我不希望用户直接访问回调，而是通过函数访问。这不起作用：

```
void* (*)(int, double) getCallback(); 
```

我的问题是：这种功能的原型会是什么样子？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T08:26:14.460

`typedef`回调类型：

```
typedef void* (*pf)(int, double);

pf getCallback(); 
```

这也将确保手动输入错误的签名等不会出错。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-10T08:28:12.673

好吧，直接的语法是

```
void* (*getCallback())(int, double); 
```

但可能更好、更易读的方法是使用 typedef：

```
typedef void* (*CallbackFunc)(int, double);

CallbackFunc getCallback(); 
```

# asp.net-mvc - 寻找第三方 CMS 以与 MVC 站点集成

> ID：11409333
> 
> 赞同：6
> 
> 时间：2012-07-10T08:23:32.430
> 
> 标签：asp.net-mvc, content-management-system, cloud, document, lucene.net

我正在研究将第三方组件集成到我们基于 MVC 的站点中的可能性。我们有一个基于 MVC 的门户，它托管在云中，需要文档处理和搜索功能，而无需从头开始实施它。

是否有任何其他第三方系统与云兼容并提供用于处理文档、安全性和全文搜索的 API？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-14T04:48:41.573

[Orchard](http://www.orchardproject.net/)是一个免费、开源、以社区为中心的项目，旨在在 ASP.NET 平台上交付应用程序和可重用组件。

> 在短期内，Orchard 项目的重点是提供一个 **基于 .NET 的 CMS 应用程序**，该应用程序将允许用户快速创建内容驱动的网站，以及一个可扩展性框架，允许开发人员和定制人员通过模块扩展和主题提供额外的功能.

它是使用[ASP.NET MVC 作为基础构建的](http://docs.orchardproject.net/Documentation/How-Orchard-works)

它可以在云中运行：http: [//docs.orchardproject.net/Documentation/Deploying-Orchard-to-Windows-Azure](http://docs.orchardproject.net/Documentation/Deploying-Orchard-to-Windows-Azure)

它可以进行[文本搜索](http://docs.orchardproject.net/Documentation/Search-and-indexing)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-14T07:12:35.710

查看[Apache Solr](http://lucene.apache.org/solr/)。Solr 在 Lucene (java) 之上添加了一些令人难以置信的支持。我知道您似乎想要一个 .net 解决方案，但是我会说 solr 具有出色的 HTTP 接口，因此您可以通过服务轻松连接它。

# java - Hibernate：避免将 null 绑定到 @Embeddable 属性中的参数

> ID：11409338
> 
> 赞同：0
> 
> 时间：2012-07-10T08:23:51.517
> 
> 标签：java, hibernate, embeddable

休眠场景：

```
@Embeddable
public class CompositeKey...{
  private String keyPart1;  
  private String keyPart2;
}

public class Entity{
  @Embedded
  private CompositeKey cKey;
  ...
} 
```

现在，当使用仅在 keyPart1 和 keyPart2 == null 中具有值的 cKey 运行它时，我得到一个“将 null 绑定到参数 n”，将 null 绑定到 keyPart2。

我可以避免这种情况并让休眠生成一个只有实际具有值的参数并省略空值的 SQL 吗？

所以而不是

```
where keyPart1 = ? and keyPart2 = ? 
```

我只是想

```
where keyPart1 = ? 
```

如果 cKey.keyPart2 == null

提前致谢...

./CJ

# python - 是否值得在小函数中关闭文件？

> ID：11409345
> 
> 赞同：8
> 
> 时间：2012-07-10T08:24:30.137
> 
> 标签：python, file, garbage-collection

假设你有：

```
def my_func():
    fh = open(...)
    try:
        print fh.read()
    finally:
        fh.close() 
```

我的第一个问题是：使用 try/finally（或 with）语句是否值得？当函数终止时（通过垃圾收集），文件是否仍然关闭？

在阅读了 Martelli 的“python 食谱”中的食谱后，我发现了这一点

```
all_the_text = open('thefile.txt').read() 
```

附带评论：“当你这样做时，一旦读取操作完成，你就不再拥有对文件对象的引用。实际上，Python 会立即注意到缺少引用，并立即关闭文件。”

我的函数示例几乎相同。您确实有参考，只是参考的寿命很短。

我的第二个问题是：马尔泰利声明中的“立即”是什么意思？即使您根本没有参考，文件关闭也不会在垃圾收集时发生吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-10T08:27:20.400

最好自己关闭文件。使用该`with`语句可以生成干净的代码并自动关闭文件（这是一件好事）。

即使 Python 是一种高级编程语言，您仍然需要控制自己在做什么。根据经验：如果您打开一个文件，它也需要关闭。没有充分的理由在您的代码中马虎:-)

关于你的第二个问题：它不会立即运行，它会在垃圾收集器决定运行时运行。当文件对象被释放时，Python 将关闭文件。这里有[一些关于 Python 垃圾收集的](http://arctrix.com/nas/python/gc/) [文章](http://www.digi.com/wiki/developer/index.php/Python_Garbage_Collection)（另见[`gc`](http://docs.python.org/library/gc.html)模块），读起来很有趣。

它还表明 Python 的垃圾收集在决定进行垃圾收集之前使用了一个基于已分配和已释放对象数量的阈值。如果你的文件很大，那么 Python 可能会保持文件打开的时间超过必要的时间，因为垃圾收集代码可能还没有运行。

# uiwebview - Apple 推送通知 - 查看按钮操作

> ID：11409346
> 
> 赞同：0
> 
> 时间：2012-07-10T08:24:40.803
> 
> 标签：uiwebview, push-notification, push, apple-push-notifications

我的推送通知有一些问题。我可以很好地将它们发送到我注册的设备。一切正常。

我的问题是：点击查看按钮后，应用程序正在启动。暂时没有任何内容。

如何在此处添加内容？此内容应取决于我发出的推送通知。

例如：我的推送通知是关于 NEWS XYZ - 然后点击 VIEW 我应该得到关于 NEWS XYZ 的更多信息

所以我想我必须从我的网站上获取新闻。也许他们的 ID 贴在我身边。但是如何在 App 中实现呢？

我的意思是，对于每条新推送消息，都必须显示新消息。

当从 1 号新闻返回时，还应该可以在列表中读取应用程序中所有以前收到的新闻。

你明白我的意思吗？

我没有任何真正的想法...如果您能向我展示有关示例的代码，那就太好了。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:25:23.737

一旦您点击推送通知上的查看按钮，此方法就会调用，

```
- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo {
        if (application.applicationState == UIApplicationStateInactive) {
            // Application came from the background
            // Here you can request for the content
            // This has the value of your payload
            UILocalNotification *localNotif = (UILocalNotification *) [userInfo objectForKey:@"aps"];

        }
        else if (application.applicationState == UIApplicationStateActive) {
                // Application is in the foreground
        }
 } 
```

# asp.net - Google Chart QR Code - 数据大于 2k + Asp.net

> ID：11409347
> 
> 赞同：1
> 
> 时间：2012-07-10T08:24:42.847
> 
> 标签：asp.net, qr-code

我正在使用 Google Chart QR 码，我必须发送超过 2k 的数据，我阅读了关于

[https://developers.google.com/chart/infographics/docs/qr_codes](https://developers.google.com/chart/infographics/docs/qr_codes)

它说

```
The data to encode. Data can be digits (0-9), alphanumeric characters, binary bytes data,
or Kanji. You cannot mix data types within a QR code. The data must be UTF-8 
URL-encoded.Note that URLs have a 2K maximum length, so if you want to encode more than 
 2K bytes (minus the other URL characters), you will have to send your data using POST. 
```

任何人都可以有我如何使用 POST for Google QR 发送数据的示例 - 代码

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:37:15.950

你可以这样做。您可以通过 chl 超过 2K

```
<form action='https://chart.googleapis.com/chart' method='POST' runat="server">
<input type="hidden" name="cht" value="qr"  />
<input type="hidden" name="chl" value="This is testing"  />
<input type='hidden' name='chs' value='300x200' />
<input type="submit"  /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-11T04:38:04.530

我已经使用 zxing 库来解决我的问题，我已经下载了 Zxing 项目并创建了它的 DLL，然后将该 DLL 引用到我的项目中。

**编码**

```
 QRCodeWriter writer = new com.google.zxing.qrcode.QRCodeWriter();
        string str = string.Empty;
        for (int i = 0; i < 2000 ; i++)
            str += i;

        ByteMatrix byteMatrix = writer.encode(str, com.google.zxing.BarcodeFormat.QR_CODE, 300, 300);

        ImageConverter converter = new ImageConverter();
        // Sample of DexExpress Control 
        ASPxBinaryImage1.ContentBytes = (byte[])converter.ConvertTo(byteMatrix.ToBitmap(), typeof(byte[]));

        byte[] b = (byte[])converter.ConvertTo(byteMatrix.ToBitmap(), typeof(byte[]));
        string s = System.Convert.ToBase64String(b);
        //Sample of ASP.net Control
        image1.Attributes.Add("src", "data:image/png;base64," + s); 
```

**解码**

```
 string strb64 = System.Convert.ToBase64String(b);

        QRCodeReader reader = new QRCodeReader();
        byte[] imageBytes = Convert.FromBase64String(strb64);
        MemoryStream ms = new MemoryStream(imageBytes, 0, imageBytes.Length);

        Bitmap bmp = new Bitmap(ms);

        LuminanceSource s = new RGBLuminanceSource(bmp, bmp.Width, bmp.Height);
        BinaryBitmap bb = new BinaryBitmap(new GlobalHistogramBinarizer(s));

        Result result = reader.decode(bb);

        //Store result into string
        string resultText = result.Text; 
```

# c# - 在 C# PrintDocument GDI+ 中打印 SVG-PictureFiles

> ID：11409350
> 
> 赞同：1
> 
> 时间：2012-07-10T08:24:51.393
> 
> 标签：c#, printing, gdi+, system.drawing, printdocument

我编写了一个打印小标签的工具。这是我的问题：

标签上的每个打印文本看起来都很好`e.Graphics.DrawString(...)`-

打印出来的图片`e.Graphics.DrawImage(...)`看起来很糟糕。像版权标志这样的小部分是不可读的。

DPI 设置为 300（打印机的最大值）。

我从 Corel Draw 获得了这些矢量/SVG 格式的图片 - 如果我打印 Corel Draw 文件，它看起来很棒！

如何使用 C#（.NET 3.5 或 4.0）打印 SVG 文件或类似文件？

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:38:45.690

我以前用过[SVG#](http://sourceforge.net/projects/svgdomcsharp/)，效果很好。该项目是旧项目，因此在您的 .net 3.5/4.0 项目中编译之前可能需要稍作调整。

编译完成后，您可以尝试以下代码段

```
//Create a window that matches the desired output bitmap
SvgWindow window = new SvgWindow(width, height);
window.Src = svgSource;

//Create a GDI renderer for SVG, and use white background
GdiRenderer gdirender = new GdiRenderer(window, Color.White);
Bitmap bitmap = gdirender.Render(); 
```

它应该生成一个位图对象，您可以使用它来编码以满足您的打印需求。

# iphone - ipad 在加载带有本地 HTML 内容的 WebView 和应用程序崩溃时收到内存不足警告..！

> ID：11409352
> 
> 赞同：1
> 
> 时间：2012-07-10T08:25:00.960
> 
> 标签：iphone, ipad, ios5, uiwebview, uiscrollview

我正在使用包含很多页面的 html 内容加载我的 webview。它在模拟器和设备中完美运行，显示内存不足警告问题。请大家携手...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:36:43.740

这是内存管理的问题。您应该提供您的代码（ .h 和 .m ）。你做什么（在 webwiew 中加载内容或其他）并不重要，重要的是你这样做的方式。您可能没有释放不必要的对象，或者您分配了太多内存。在模拟器中是可以的，它使用计算机的内存。检查您的代码，释放或清除未使用的对象。尝试使用 Profiler 检测内存泄漏。干杯!

# ajax - ajax dataType Html 在 IE7 和 IE8 上添加数据

> ID：11409355
> 
> 赞同：0
> 
> 时间：2012-07-10T08:25:02.617
> 
> 标签：ajax, jquery

我在 IE7+8 上遇到了这个代码的问题：

```
 //Post URL
    $.ajax({
        type : 'POST',
        url: url,
        dataType: "html",

    //Success Post
    success: function(data){

        //Reactivate Filters and Grid
        boxFilter.css({'opacity':1});
        var productGrid = $('.products-grid');
        productGrid.css({'background':'none', 'height':'auto', 'opacity':1}).find('img.ajax-loader').remove();

        //Append Data
        var response = $(data);
        var newHtmlGrid = $(response).find(".products-grid > div");
        productGrid.append(newHtmlGrid)

    }

    }); 
```

在 IE9、firefox 和其他所有设备上一切正常，但在 IE7+8 上却无法正常工作。

如果我 console.log(data) 会给我 html，但如果我尝试附加它（未过滤）它将不起作用。

知道为什么吗？

谢谢！

# java - 我应该将清理代码放在 Web 应用程序中的什么位置？

> ID：11409356
> 
> 赞同：1
> 
> 时间：2012-07-10T08:25:09.003
> 
> 标签：java, tomcat, web-applications, servlets

我有以下问题：
我需要从作为 Tomcat 中 Web 应用程序的一部分加载的各种类中运行一些清理代码。
清理代码的范围从关闭`executors`到数据库清理代码。
我尝试并发现（后来得知这是这样记录的）：

> 在通知任何 ServletContextListener 上下文销毁**之前**，所有 servlet 和过滤器都将被销毁。

所以这排除了在任何`ServletContextListeners`.
我将清理代码放在`destroy`a 的方法中`Servlet`，但意识到如果客户端不需要使用它，它将*永远不会*被加载，因此方法中的清理代码`destroy`将永远不会运行。
所以现在我被卡住了。
在 Web 应用程序中放置清理代码的最佳位置在哪里，因为例如，如果我将其放入 a 中，`servlet`我无法确保客户端会使用它，而如果我将其放入 a`listener`中为时已晚？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-26T13:50:40.097

如果您可以选择将 servlet 配置为在启动时加载，那么就可以解决上述问题。

有关示例和一些讨论，请参阅[servlet <load-on-startup> 值表示什么。](https://stackoverflow.com/questions/809775/what-does-the-servlet-load-on-startup-value-of-0-zero-signify)

# javascript - 获取缩放图像的尺寸

> ID：11409358
> 
> 赞同：1
> 
> 时间：2012-07-10T08:25:10.543
> 
> 标签：javascript, jquery, iscroll

我有一个带有这个 css 属性的盒子 div `width:400px; height:300px; overflow:hidden;`：。在里面我有一个图像。使用 Iscroll4，我可以缩放并移动框内的图像。一切正常，但使用 Jquery，如果我获取缩放图像的尺寸，该函数将始终返回 400px 的尺寸和 300px 的高度尺寸。

```
$('#dimpos').bind("click", function (event, ui) {
  var imgzoomed = $('#Container img');
  var position = imgzoomed.position(); /* <----------- Work Fine   */
  var dim_width = imgzoomed.css("width"); /* <----------- Don't Work but return 400px */
  var dim_height = imgzoomed.height(); /* <-----------  Don't Work but return 300px    */
  $('#gdp').text("Position (left: " + position.left + ", top: " + position.top + ") - Width: " + dim_width + "  Height: " + dim_height);
}); 
```

* * *

这就是问题：

当我缩放图像时，新的宽度和高度是例如宽度 500 像素和高度 600 像素，但图像的可见部分是 div 框的尺寸（宽度 400 像素和高度 300 像素）所以如果我使用 Jquery 宽度（）或css("width") 它将始终返回 400px。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:39:55.563

你试过 parseInt 方法吗？这种方式应该只返回数字；

```
var dim_width = parseInt($('#Container img').css("width"));
var dim_height = parseInt(imgzoomed.height()); 
```

有没有一个例子可以向我们展示这个问题？

# c# - 将整数表示为其他一些固定整数的和

> ID：11409361
> 
> 赞同：3
> 
> 时间：2012-07-10T08:25:16.067
> 
> 标签：c#, .net, algorithm

我有一个固定的权重列表：

```
int[] weights = new int[] { 10, 15, 20 }; 
```

和一个目标：

```
int target = 28; 
```

我正在寻找一种算法来表示（允许重复）`target`中的元素总和，`weights`使得`target`匹配或*超出*，实现最接近的匹配`target`，并且在此范围内，使用的权重**数量**被最小化。

因此，对于上述输入，我希望返回`10 20`或`15 15`返回，因为`30`我们可以得到尽可能接近的结果，并且在 make 的选项中`30`，这两个都比`10 10 10`.

使用`target`of `39`，输出应该是`20 20`而不是，比如说，`15 15 10`或`10 10 10 10`。

使用 a `target`，`14`输出应该是`15`。

除了常规的 foreach 循环之外，这里还有什么好的方法吗？我正在考虑检索数组中可用的最大值并检查目标是否为负，如果不是，那么让我们去寻找下一个值。

这不是家庭作业:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T08:30:38.280

这被称为[背包问题](http://en.wikipedia.org/wiki/Knapsack_problem)。唯一的区别是您正在寻找*最近的*匹配，而不是*最近的较低*匹配。同样幸运的是，没有一个权重具有不同的值。困难在于您不能简单地使用`weights`最接近的值之一并使用剩余值进行递归（较小值的组合有时会更好地匹配）。

在您的示例`weights`中，两者之间都有 5 个“单元”，如果总是这样，问题将变得更容易解决。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T09:16:07.013

感谢这里的每个人，我设法找到了一个解决方案，让我更清楚我真正需要什么。这不是我写过的最漂亮的代码，但无论如何这都是 MVP 开发！

```
private static List<int> WeightsJuggle(List<int> packages, IOrderedEnumerable<int> weights, int weight)
{
    if (weight == 0)
        return packages;

    foreach (int i in weights.Where(i => i >= weight))
    {
        packages.Add(i);
        return packages;
    }

    packages.Add(weights.Max());
    return WeightsJuggle(packages, weights, weight - weights.Max());
} 
```

我这样称呼它

```
IOrderedEnumerable<int> weights = new int[] { 10, 15, 20 }.OrderBy(x => x);
int weight = 65;
List<int> packages = new List<int>(); 
```

**用体重 65 测试**

![在此处输入图像描述](../Images/1939ab8ff420009e5eda740153e12251.png)

**用重量 123 测试**

![在此处输入图像描述](../Images/4f29ed79b819a15fe0913233a5baa8ba.png)

# ios - 带有图像的 CoreText

> ID：11409366
> 
> 赞同：0
> 
> 时间：2012-07-10T08:25:47.200
> 
> 标签：ios, drawrect, core-text

我想使用 coreText 在 UIView 中添加图像，然后在图像周围添加文本，如下所示。

例如..

```
 Baaa
img aaaa
    aaaa
aaaaaaaa
aaaaaaaa
aaaaaaaa 
```

我想要这样的东西，其中“img”是图像..文本从“B”开始..

谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T06:58:37.760

如果你看看这里，你可以找到一个完整的工作项目：

[http://ios-blog.co.uk/tutorials/rich-text-editor-inserting-images-part-6/](http://ios-blog.co.uk/tutorials/rich-text-editor-inserting-images-part-6/)

它完全符合您的要求，但使用 UIWebView 而不是 CoreText。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-04T11:59:45.813

本质上，在使用核心文本进行绘制时，您是将文本渲染到路径中。您可以使用 UIView 的矩形或将您自己的自定义路径绘制到视图的当前图形上下文中。

所以说你有以下矩形：

```
xxxxxxxxxxx  
x         x  
x         x  
x         x  
x         x  
x         x  
x         x  
xxxxxxxxxxx 
```

您需要在图像周围绘制路径（p == 路径）：

```
xxxxxxxxxxx  
xiiiiPPPPPx  
xiiiiP   Px  
xiiiiP   Px  
xPPPPP   Px  
xP       Px 
xPPPPPPPPPx   
xxxxxxxxxxx 
```

然后你会告诉 CoreText 在路径内绘制你的文本。至于实际绘制它 - 我建议你阅读苹果文档 - 它很好地解释了它。

希望这可以帮助，

# webdriver - 自动选择列表值会导致 StaleElementReferenceException

> ID：11409369
> 
> 赞同：1
> 
> 时间：2012-07-10T08:25:48.813
> 
> 标签：webdriver

在我的搜索页面中，我有一个带有输入框和“开始”按钮的列表。我在控制台中获取列表值，但我想要的是迭代列表并在输入框中输入文本（文本是静态的）。每次选择列表时，它都会自动搜索，而不必按“开始”按钮。

```
WebElement search_list = driver.findElement(By.xpath("//*[@id='tl_tPlace']"));   
List <WebElement> li = search_list.findElements(By.tagName("option"));  
for(int i =0; i<li.size();i++){     
System.out.println(li.get(i).click());    
try{    
driver.findElement(By.xpath("//*@id='cmain_Place']")).sendKeys("text"); 
```

现在列表第一次具有“选择状态”，它通过第二个循环并选择列表项。选择后，页面会重新加载。然后有一个错误信息：

```
Exception in thread "main" org.openqa.selenium.StaleElementReferenceException: Element not found in the cache - perhaps the page has changed since it was looked up 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T14:19:09.310

这完全是预期的行为，因为 DOM 在页面时完全重新创建，因此您对元素的任何引用在页面刷新后都将变为无效。

# asp.net - Gridview 绑定细节

> ID：11409379
> 
> 赞同：0
> 
> 时间：2012-07-10T08:26:38.410
> 
> 标签：asp.net, sql, c#-4.0

我有一个绑定到数据库的组合框，当我从组合框中选择订单时，它必须在单独的网格视图上显示订单详细信息和客户详细信息。我实现了，现在我想在该组合中有一个“全”选项，当全部选择时，它将显示所有订单详细信息和数据库中的客户详细信息。

注意我得到了表，`ordersDetails`它们`customerDetails`有表的外键`Orders`。我使用外键检索数据，但现在选项 ALL 没有外键，这就是我面临的问题。我已将我的网格视图与数据源绑定。

我的选择组合框绑定代码

```
SELECT 
    [ID], [orderName], 
FROM 
    Orders 
```

我的 gridview 选择代码，根据从组合框中选择的内容在 gridview 上显示所选项目

```
SELECT 
    CustomerName, CustomerName,
FROM 
    Orders 
INNER JOIN
    OrderDetails ON Orders.ID = OrderDetails.OrderRef
WHERE 
    ID = @.orderRef 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:21:31.160

要从数据库中选择所有详细信息和所有订单详细信息，您需要更改查询

在您的设备上调用以下函数`DropDownList.SelectedIndexChanged`

```
protected void GetOrders(int OrderID = 0)
{
// Connection objects defined here

// Get the order details
if (OrderID == 0) {
    string sql = "SELECT * FROM OrderDetails";
} else {
    string sql = "SELECT * FROM OrderDetails WHERE OrderID = " + OrderID;
}

DataSet ds = null;
SqlDataAdapter da = new default(SqlDataAdapter);
// check this, it might be a SqlTableAdapter

da.SelectCommand = new SqlCommand(System.Data.sql, conn);
da.Fill(ds);

gvOrderDetails.DataSource = ds;
gvOrderDetails.DataBind();
} 
```

这只是获取您的一个 Gridview 的数据（在 DataSet 中，因此您可以在需要时对 GridView 进行分页）。

您也可以复制此过程以获取 CustomerDetails。

上面的代码假定您在 DropDownList 中将值 0 设置为 ALL 项。

因此，如果您的 DropDownList 称为 ddlOrders，请按如下方式调用该过程：

```
protected void ddlOrders_SelectedIndexChanged(object sender, System.EventArgs e)
{
GetOrders(ddlOrders.SelectedItem.Value);
} 
```

GetCustomers 也是如此。

这些将使用与特定 OrderID 或所有订单匹配的行填充 GridView。

希望这可以帮助

# objective-c - 邮件集成取消

> ID：11409380
> 
> 赞同：3
> 
> 时间：2012-07-10T08:26:45.117
> 
> 标签：objective-c, cocos2d-iphone

```
- (void) showMail
{
    [[CCDirector sharedDirector] pause];
    NSString*myemail=@"sirano0629@me.com";
    NSArray*email=[[NSArray alloc]initWithObjects:myemail, nil];
    if([MFMailComposeViewController canSendMail])
    {
        mail = [[MFMailComposeViewController alloc] init];
        [mail setSubject:[NSString stringWithFormat:@"건의 및 문의"]];
        [mail setToRecipients:email];
        [self presentModalViewController:mail animated:YES];
        [mail release];
    }
}

- (void)mailComposeController:(MFMailComposeViewController *)controller                   didFinishWithResult:(MFMailComposeResult)result error:(NSError *)error
{
    [mail dismissModalViewControllerAnimated:YES];
    mail.view.hidden=YES;
    [[CCDirector sharedDirector] resume];
    //return to previous scene
    [[CCDirector sharedDirector] replaceScene:[HelloWorldLayer scene]];
} 
```

这是我在应用程序中进行电子邮件集成的代码。首先打开电子邮件视图是成功的，但是在我按下发送或取消后，视图并没有消失......

各位大佬能帮忙扔一下吗...

```
@class SingletonClass;

@interface GameCenterView : UIViewController     <GKLeaderboardViewControllerDelegate,MFMailComposeViewControllerDelegate>
{
SingletonClass * singleCurrentAverage;
MFMailComposeViewController*mail;
NSInteger score;
}

-(void)showLeaderboard;
-(void)showTweetForUnder;
-(void)showTweetForPost;
-(void)showMail;
@end 
```

我使用的头文件

```
#import "GameCenterView.h"
#import "GameCenterUtil.h"
#import "HelloWorldLayer.h"
#import "SingletonClass.h"
#import "AppDelegate.h"
#import <MessageUI/MessageUI.h>

@interface GameCenterView ()

@end

@implementation GameCenterView

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
if (self) {
    // Custom initialization
    if ([GameCenterUtil isGameCenterAPIAvailable]) {
        [GameCenterUtil authenticateLocalPlayer];
    }else {
        NSLog(@"this device do not support GameCenter");
    }

}
return self;
}
-(void)showLeaderboard
{
self.view.hidden=NO;

GKLeaderboardViewController * leaderboardController = [[[GKLeaderboardViewController alloc]init]autorelease];
if (leaderboardController!=nil) {
    leaderboardController.leaderboardDelegate=self;

    [self presentModalViewController:leaderboardController animated:YES];

}
}
-(void)showTweetForUnder
{
singleCurrentAverage=[SingletonClass sharedGameStateInstance];
score=[singleCurrentAverage currentAverage];
if([TWTweetComposeViewController canSendTweet]) {
    TWTweetComposeViewController*tweet=[[TWTweetComposeViewController alloc]init];
    [tweet setInitialText:[NSString stringWithFormat:@"대학교 점수 :%d from 성적UP iOS. \n 친구들에게 하고싶은 말을 적으세요.",score]];
    NSURL*url=[NSURL URLWithString:@"http://www.facebook.com/avoidpoo"];
    [tweet addURL:url];
    UIImage *image=[UIImage imageNamed:@"Icon-72.png"];
    [tweet addImage:image];
    [self presentModalViewController:tweet animated:YES];
} 
}

-(void)showTweetForPost
{
singleCurrentAverage=[SingletonClass sharedGameStateInstance];
score=[singleCurrentAverage currentAverage];
if ([TWTweetComposeViewController canSendTweet]) {
    TWTweetComposeViewController*tweet=[[TWTweetComposeViewController alloc]init];
    [tweet setInitialText:[NSString stringWithFormat:@"대학원 점수: %d from 성적Up iOS. \n 친구들에게 하고 싶은 말을 적으세요.",score]];
    NSURL*url=[NSURL URLWithString:@"http://www.facebook.com/avoidpoo"];
    [tweet addURL:url];
    UIImage *image=[UIImage imageNamed:@"Icon-72.png"];
    [tweet addImage:image];
    [self presentModalViewController:tweet animated:YES];

}
}
- (void) showMail
{
mail.mailComposeDelegate=self;
NSString*myemail=@"sirano0629@me.com";
NSArray*email=[[NSArray alloc]initWithObjects:myemail, nil];
if([MFMailComposeViewController canSendMail]) {
    mail = [[MFMailComposeViewController alloc] init];
    [mail setSubject:[NSString stringWithFormat:@"건의 및 문의"]];
    [mail setToRecipients:email];
    [self presentModalViewController:mail animated:YES];
    [mail release];
}
} // From Here You can Dismisses the email composition interface when users tap Cancel or Send. 
- (void)mailComposeController:(MFMailComposeViewController*)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error 
{   
// Notifies users about errors associated with the interface
switch (result)
 {
    case MFMailComposeResultCancelled:
        NSLog (@"Result: canceled");
        break;
    case MFMailComposeResultSaved:
        NSLog (@"Result: saved");
        break;
    case MFMailComposeResultSent:
        NSLog (@"Result: sent");
        break;
    case MFMailComposeResultFailed:
        NSLog (@"Result: failed");
        break;
    default:
        NSLog (@"Result: not sent");
        break;
}
[self dismissModalViewControllerAnimated:YES];
}
-(void) leaderboardViewControllerDidFinish:(GKLeaderboardViewController *)viewController
{
[self dismissModalViewControllerAnimated:YES];

self.view.hidden =YES;

}

-  (void)viewDidLoad
{
[super viewDidLoad];
// Do any additional setup after loading the view.
}

- (void)viewDidUnload
{
[super viewDidUnload];
// Release any retained subviews of the main view.
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
return (interfaceOrientation == UIInterfaceOrientationPortrait);
}

@end 
```

这是我的实现文件

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T08:56:28.940

您必须将您的控制器设置为 MFMailComposeViewController 的委托，例如

```
if([MFMailComposeViewController canSendMail]) {
    mail = [[MFMailComposeViewController alloc] init];

    mail.mailComposeDelegate = self; //<-- Add this line

    [mail setSubject:[NSString stringWithFormat:@"건의 및 문의"]];
    [mail setToRecipients:email];
    [self presentModalViewController:mail animated:YES];
    [mail release];
} 
```

而且你必须实现以下委托方法。就是这样。

```
 // From Here You can Dismisses the email composition interface when users tap Cancel or Send. 
    - (void)mailComposeController:(MFMailComposeViewController*)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error 
    {   
    // Notifies users about errors associated with the interface
    switch (result)
    {
        case MFMailComposeResultCancelled:
            NSLog (@"Result: canceled");
            break;
        case MFMailComposeResultSaved:
            NSLog (@"Result: saved");
            break;
        case MFMailComposeResultSent:
            NSLog (@"Result: sent");
            break;
        case MFMailComposeResultFailed:
            NSLog (@"Result: failed");
            break;
        default:
            NSLog (@"Result: not sent");
            break;
    }
    [self dismissModalViewControllerAnimated:YES];
    } 
```

# javascript - 进度条和必填字段验证器

> ID：11409382
> 
> 赞同：-1
> 
> 时间：2012-07-10T08:26:52.293
> 
> 标签：javascript, webforms, validation

我正在使用进度条和必填字段验证器。但是当我点击提交按钮时。进度条和验证器消息都显示了。我的代码是

```
<script type="text/javascript">

    function ShowDiv() {
        setTimeout('document.getElementById("PB").style.display = "inline";', 500); 
    }

</script>
...
<asp:Button ID="btnSubmit" runat="server" Text="Submit" ValidationGroup="ValGrpSave" onclick="btnSubmit_Click" OnClientClick="ShowDiv()" />
...
<asp:TextBox ID="txtEmail1" Width="350px" runat="server" />
<asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" ValidationGroup="ValGrpSave" ErrorMessage="<b>Field Missing</b><br/>Issue no is Required" Display="None" ControlToValidate="txtEmail1" />
<cc1:ValidatorCalloutExtender ID="ValidatorCalloutExtender2" runat="server" TargetControlID="RequiredFieldValidator2" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T12:56:41.297

问题是您没有阻止您的按钮开始提交表单，并且由于您的表单无效，您的验证器会显示消息。

如果您的按钮只应该显示进度条，请尝试将您的脚本功能更改为此（将其更改为非服务器按钮是一个不同的争论，因为它没有任何服务器端功能，但让我们把它留给您）：

```
function ShowDiv(evt) {

    // display progress bar after half a second
    setTimeout(function() {
         document.getElementById("PB").style.display = "inline";
    }, 500);

    // prevent button click event propagation thus prevent form submission
    evt.preventDefault();
    return false;
} 
```

我也更改`setTimeout`为提供一个函数而不是**不推荐使用**的字符串语句。

并更改您的按钮

```
<asp:Button ID="btnSubmit" runat="server" Text="Submit" ValidationGroup="ValGrpSave" onclick="btnSubmit_Click" OnClientClick="return ShowDiv();" /> 
```

# ios - 我应该在 iOS 中使用哪个文本转语音？

> ID：11409383
> 
> 赞同：1
> 
> 时间：2012-07-10T08:26:54.290
> 
> 标签：ios

现在我对 iOS 的文本到语音引擎感到困惑。

当我在互联网上搜索时，我发现了两种适用于 iOS 的文本到语音引擎。

这些是 Nuance 的 iSpeech 和 Dragon Mobile SDK。

我必须将文本转语音用于多种语言，还必须使用语音转文本。

我想知道哪个引擎更好，哪个更快？

提前致谢。

# typo3 - TYPO3 重新安装后不显示新闻

> ID：11409384
> 
> 赞同：0
> 
> 时间：2012-07-10T08:27:10.363
> 
> 标签：typo3, tt-news

服务器崩溃后，我不得不使用我最新的数据库备份重新安装 TYPO3。在此期间，我将 TYPO3 从大约半年前安装的任何版本升级到 4.7.2，因此，还不得不使用更新的 tt_news 模块（3.2.1）。

不幸的是，我网站上的新闻栏目现在都没有出现。它所说的它们应该在 HTML 代码中的位置是：

```
 <!--  CONTENT ELEMENT, uid:24/list [begin] -->
    <div id="c24" class="csc-default">
    <!--  Plugin inserted: [begin] -->

    <!--  Plugin inserted: [end] -->
        </div>
<!--  CONTENT ELEMENT, uid:24/list [end] --> 
```

当我安装插件并单击插件配置页面上更新程序脚本的链接时，我确实更新了数据库，尽管它似乎没有做任何事情。

我对 TYPO3 真的很陌生，所以我不能确定它与 HTML 模板无关，我必须从头开始重建。此外，我还不确定在 TYPO3 中的这种情况下，您将如何了解正在发生的事情（或错误）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T12:12:41.330

请检查以下内容：

1.  tt_news 静态模板是否包含在内。
2.  浏览扩展手册并检查 flexform 选项和打字稿配置是否正确。
3.  确保打字稿对象浏览器没有错误。
4.  检查错误日志并为您的 IP 地址设置安装工具 > 所有配置 > displayErrors = -1。

# ios - iOS 如何放大非全屏启动图像以将其显示为全屏启动图像

> ID：11409389
> 
> 赞同：2
> 
> 时间：2012-07-10T08:27:25.693
> 
> 标签：ios, scale, uilaunchimagefile

iOS 指南要求我们为 iPad 打包 768 x 1004（纵向启动图像）或 1024 x 748（横向启动图像）大小的启动图像，无论应用程序是否全屏。但是，如果我们打算通过显示相同的启动图像更多时间来延长全屏的持续时间，以便我们可以在后端进行初始化，我们往往会看到一个小的漂移（我们显示的启动图像移动了一个小数量）。

这是因为 iOS 用于显示非全屏图像的缩放比例与我们显示图像时的比例不同。

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:21:04.250

I've seen that Apple document that requests Default.png files of 1024x748 and 1004x768\. However, if your app specifies that it's a full screen app (status bar hidden), then I think it's ok to make your Default.png files (for iPad) the full 1024x768, which makes this problem go away.

I'm just looking at a full screen universal app I have now, that has been released, and its launch image is full screen (1024x768).

Running in the simulator works just fine (and I marked up the image to make absolutely certain that it wasn't cropping off the top 20x and then rescaling).

I don't have an iTunes Connect app that I can currently validate against (easily), so it's possible that it'll complain upon submission to iTunes Connect. But, I doubt it.

If you look at the project **Summary** tab -> **iPad Deployment Info**, it will show a warning for your Launch Image sizes:

> The size of the launch image for iPad in landscape mode does not match the recommended size of 1024 x 748 pixels.

So, I take that as a *recommendation*, not a *requirement*.

**Edit:** also, see [this other stack overflow question](https://stackoverflow.com/a/4356389/119114). That answer also suggests using 1024x768 images, and it hasn't received any pushback from the community (after 19 months+)

# jquery - 多次向下滑动

> ID：11409390
> 
> 赞同：0
> 
> 时间：2012-07-10T08:27:29.063
> 
> 标签：jquery, css, jquery-effects

我有一个`click`事件处理程序，我想要一个隐藏`div`的向下滑动。我已经实现了这一点，但不是使用切换并让它在附加上滑动`click`，我希望它再次向下滑动。

因此，与其向下滑动，不如向上滑动，我希望它向下滑动，然后再次向下滑动。

这是我目前正在使用的代码，直到我设法实现我想要的效果/动画：

```
$(document).ready(function() {      
    $(".whereami").click(function() {
       $(".currentpage").slideToggle("slow");
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:34:40.760

好的，我现在已经阅读了您的问题 5 次（（：并解决了您的问题；

[这是演示](http://jsfiddle.net/PYttN/2/)

为了保持连续性动画，使用这种方式；

```
 $(".whereami").click(function() {
      $(".currentpage").animate({'top':'+=100px'},600);//adds +100 on every click
  });                                          //and 600 for animation's duration 
```

# mysql - MySQL 是否支持“如果存在”？

> ID：11409393
> 
> 赞同：1
> 
> 时间：2012-07-10T08:27:43.657
> 
> 标签：mysql, syntax, if-statement, exists

我认为我对 SQL Server 和 MySQL 的了解之间存在冲突。
当我运行这个查询时，我总是从 MySQL 收到一个错误：

```
If EXISTS (select * from tbl_admin) THEN
    select 'OK';
END IF; 
```

错误信息是：

> [Err] 1064 - 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 'if EXISTS (select * from tbl_admin) then select '1' -- select '1' WHERE EXISTS' 附近使用正确的语法

请帮助我并告诉我我在编写此查询时错了吗？怎么了？如果我有东西在桌子上
，我想做点什么。`tbl_admin`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T08:32:28.743

```
select 'ok'
from INFORMATION_SCHEMA.tables
where table_name = 'tbl_admin' 
```

## 编辑

要检查表是否包含数据，您可以执行以下操作：

```
SELECT 'OK' FROM dual
WHERE EXISTS (SELECT * FROM tbl_admin); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:39:28.923

如果我理解正确，你知道有一张桌子，如果有任何行，你只需要一个信息？在那种情况下，我认为这可以解决您的问题：

```
SELECT 
    'OK'
FROM
    Korisnik
WHERE
    EXISTS( SELECT 
            COUNT(*)
        FROM
            Korisnik)
LIMIT 1; 
```

您可以使用它`IF EXISTS`来检查存储过程或触发器是否存在。在 SELECT 查询中，您可以使用`WHERE EXISTS`或`WHERE NOT EXISTS`

[http://dev.mysql.com/doc/refman/5.5/en/exists-and-not-exists-subqueries.html](http://dev.mysql.com/doc/refman/5.5/en/exists-and-not-exists-subqueries.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T08:46:46.860

您可以执行以下操作：

```
if ( (select count(*) from tbl_admin) > 0) then
    ... 
```

这会计算表中的所有行。如果没有行，它将返回 0。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T08:52:25.933

```
select if(count(*), 'OK', '') as result from table_name where 1 
```

如果存在记录，这将打印“OK”，否则将不显示任何内容。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-10T08:56:11.590

```
select case when count(*) > 0 then 'OK' else 'Empty' end from tbl_admin; 
```

或者

```
select 'OK' from tbl_admin having count(*) > 0; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-10T09:14:52.253

如果你想检查表的存在然后使用这个

```
 select 'Message' from INFORMATION_SCHEMA.tables where table_name = 'tbl_admin' 
```

因为所有信息都存储在这里。EXISTS 在 mysql 中也可以正常工作。

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2012-07-10T08:30:15.870

使用正常的选择查询..

```
Select 'OK' from table 
```

# ios - 使用 OAConsumer 的新 Basecamp Api 的 OAuth 身份验证问题

> ID：11409394
> 
> 赞同：0
> 
> 时间：2012-07-10T08:27:49.973
> 
> 标签：ios, api, oauth, basecamp

我的代码看起来像这样：

```
OAConsumer *consumer = [[OAConsumer alloc] initWithKey:@"my_ClientID"
                                                secret:@"my_Secret"];

NSURL *url = [NSURL URLWithString:@"https://launchpad.37signals.com/authorization/token"];

OAMutableURLRequest *request = [[OAMutableURLRequest alloc] initWithURL:url
                                                               consumer:consumer
                                                                  token:nil   // we don't have a Token yet
                                                                  realm:nil   // our service provider doesn't specify a realm
                                                      signatureProvider:nil]; // use the default method, HMAC-SHA1

[request setHTTPMethod:@"POST"];

NSLog(@"USER URL : %@",[request URL]);
OADataFetcher *fetcher = [[OADataFetcher alloc] init]; 

[fetcher fetchDataWithRequest:request
                     delegate:self
            didFinishSelector:@selector(requestTokenTicket:didFinishWithData:)
              didFailSelector:@selector(requestTokenTicket:didFailWithError:)]; 
```

.

```
- (void)requestTokenTicket:(OAServiceTicket *)ticket didFinishWithData:(NSData *)data {
    if (ticket.didSucceed) {
        NSString *responseBody = [[NSString alloc] initWithData:data
                                                       encoding:NSUTF8StringEncoding];
        OAToken *requestToken = [[OAToken alloc] initWithHTTPResponseBody:responseBody];
        NSLog(@"%@",requestToken);
    }
} 
```

我的 Delegate 方法永远不会获得 (ticket.didSucceed) 成功。

有人能告诉我我在这里想念什么吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T16:24:28.087

看起来您正在尝试让用户首次授权您的应用并生成令牌。为此，您使用了错误的 URL。来自[37Signals API](https://groups.google.com/forum/?fromgroups#!topic/37signals-api/hrDaUhNMG34)：

> 1.  您的应用通过将用户重定向到 Launchpad 来请求授权： [https ://launchpad.37signals.com/authorization/new?type=web_server&client_id=your-client-id&redirect_uri=your-redirect-uri](https://launchpad.37signals.com/authorization/new?type=web_server&client_id=your-client-id&redirect_uri=your-redirect-uri)

您使用的 URL 用于从验证码中获取访问令牌。

# android - android app可以安装在android设备上，但不能安装在android rom上

> ID：11409403
> 
> 赞同：0
> 
> 时间：2012-07-10T08:28:44.687
> 
> 标签：android, rom

logcat 说 java.language.runtimeException:unable to create service com。***.*** :java lang... 错误日志信息: [https://public.blu.livefilestore.com/y1pymeZ6QdUGZzUqx38dpn7dxRrSafz6o7MwL5rZ6L542cokVb12N4KZPqsLBKD8m42fbqOJdzn0ygh5B6tEqzvmg/error.jpg?download&psid=1](https://public.blu.livefilestore.com/y1pymeZ6QdUGZzUqx38dpn7dxRrSafz6o7MwL5rZ6L542cokVb12N4KZPqsLBKD8m42fbqOJdzn0ygh5B6tEqzvmg/error.jpg?download&psid=1)

# c++ - 增强现实-PC

> ID：11409404
> 
> 赞同：0
> 
> 时间：2012-07-10T08:28:46.690
> 
> 标签：c++, machine-learning, computer-vision, augmented-reality

我最近在你的管子上看到了虚拟镜子的概念，我尝试了一下并研究了它。创作者似乎使用了增强现实，以便人们可以在他们的屏幕上看到输出。在研究中，我发现我们识别出叠加 3D 图像的模式。

问题1：他们如何在不识别任何图案的情况下叠加珠宝并跟踪人脸？

我还尝试检查可以用来制作与他们展示的程序类似的程序的各种库。在我看来，很多人都在使用 Android 手机和 iPhone，并制作使用增强现实的应用程序。

问题2：有什么方法可以使用c++并尝试制作一个使用增强现实的程序？

哦，最重要的是，下面提供了该应用程序的链接：

[http://www.boutiqueaccessories.com.au/virtual-mirror/w1/i1001664/](http://www.boutiqueaccessories.com.au/virtual-mirror/w1/i1001664/)

试试看。这是一个很好的体验。:D

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:42:04.787

我无法实际尝试现场演示，但链接的视频表明他们要么使用一些简化的模式识别（获取人的轮廓），要么他们只是根据初始图像跟踪你（确定你的位置/纹理通过显示的轮廓。

跟随视频，很容易看出这背后没有真正/高级的 AR。图像只是简单地叠加或隐藏（例如，如果由于您看向一侧而丢失了一只耳朵的轨迹）并且它们没有被转换（没有透视或调整大小发生）。它们似乎肯定会追踪头部（或耳朵、脖子等特征）。取决于您的背景和环境，这实际上是一项相当微不足道的任务。

问题2：当然！那里有很多预制的工具集，但您也可以使用一些通用的图像处理库（例如[OpenCV](http://opencv.org/)）来进行数学计算。增强现实通常使用某种图案（例如具有已知图案的卡片或页面）来确定要添加到图像的内容的正确位置和变换。还有一些方法使用设备的方向和相机图像中的透视变化来确定深度/位置（我真的很喜欢[这个演示](http://www.youtube.com/watch?v=CZiSK7OMANw)）。

# c# - 需要 Windows 的 UI 测试和分析工具

> ID：11409405
> 
> 赞同：1
> 
> 时间：2012-07-10T08:28:53.320
> 
> 标签：c#, windows, user-interface, functional-testing

我对 Windows 平台的经验很少，我真的需要一个工具来从 UI 端测试我的应用程序。快速的 i-net 搜索让我完全困惑，因此非常感谢任何帮助。

关键要求：

1.  可以触发用户驱动的事件（例如点击特定位置、拖放、文本输入）
2.  可以捕获屏幕截图（例如失败时）
3.  可以分析截图（有时应用程序会触发随机事件并创建弹出窗口，需要拦截和处理此类情况）。也许我可以将其委托给某个第三方流程？
4.  可以创建报告并将它们存储在文件系统中。

应用程序本身是用 C# 编写的，但没关系，对吧？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:47:27.857

如果您正在使用 WPF（甚至是 WinForms）进行开发，我会给[Microsoft UI Automation](http://msdn.microsoft.com/en-us/library/ms747327.aspx)一个机会。与 MSUnit 或 NUnit 结合使用，它可以进行简单且可编程的 UI 测试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:44:24.270

Nunit 非常适合功能和逻辑测试，它的第 3 方并且可以免费安装。但我认为它不会涵盖捕获屏幕截图等。

# android - 在活动中的片段下方显示按钮

> ID：11409407
> 
> 赞同：0
> 
> 时间：2012-07-10T08:28:57.470
> 
> 标签：android, layout

我对Android很陌生。我有一个非常简单的布局，但还不能正常工作：

```
<LinearLayout android:layout_width="wrap_content"
          android:layout_height="wrap_content" 
          xmlns:android="http://schemas.android.com/apk/res/android"
          android:id="@+id/relativeLayout">
    <fragment android:layout_width="fill_parent"
          android:layout_height="match_parent"
          android:name="pl.nscr.playwatch.MainActivity$WatchListFragment"
          android:id="@+id/watchlist"/>
    <Button android:layout_width="fill_parent"
          android:layout_height="wrap_content"
          android:text="Start service"/>
</LinearLayout> 
```

现在我的问题是片段跨越了活动中的整个可用高度。我希望能够看到它下面的那个按钮，但我实际上不知道如何布局这个东西。

我尝试使用RelativeLayout，但最终显示在片段上方的按钮看起来很难看。我究竟做错了什么？

**更新**

显然这是一个愚蠢的错误。我再次改回RelativeLayout，但现在布局的宽度和高度设置为'fill_parent'，一切都按预期工作。

```
<RelativeLayout android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            xmlns:android="http://schemas.android.com/apk/res/android"
            android:id="@+id/relativeLayout">
    <fragment android:layout_width="fill_parent"
            android:layout_height="match_parent"
            android:name="pl.nscr.playwatch.MainActivity$WatchListFragment"
            android:id="@+id/watchlist"
            android:layout_above="@+id/btnStartService"/>
    <Button android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_alignParentBottom="true"
            android:id="@id/btnStartService"
            android:text="Start service"/>
</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:33:25.883

请执行下列操作

1.  添加 android:orientation="vertical" 属性到`<LinearLayout>`
2.  将 layout_weight="1" 属性添加到`<fragment />`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:31:05.543

添加`android:orientation="vertical"`到线性布局..

# iphone - 如何使用分段控制进行多项选择？

> ID：11409410
> 
> 赞同：1
> 
> 时间：2012-07-10T08:29:10.620
> 
> 标签：iphone, ios5, xcode4.3

我有一个有 4 种不同选择的分段控件。基本上，分段控制只接受 1 种选择，是否有可能让用户选择超过 1 种选择？我需要什么设置/代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:32:38.897

不可能。`UISegmentedControl`您需要使用`UIButton`等来创建自己的自定义`UILabel`。

# javascript - 如何理解下划线源码中的“return obj === void 0”？

> ID：11409412
> 
> 赞同：17
> 
> 时间：2012-07-10T08:29:14.017
> 
> 标签：javascript, underscore.js

> **可能重复：**
> [“javascript:void(0)”是什么意思？](https://stackoverflow.com/questions/1291942/what-does-javascriptvoid0-mean)
> [是什么`void 0`意思？](https://stackoverflow.com/questions/7452341/what-does-void-0-mean)

在文件[http://underscorejs.org/underscore.js](http://underscorejs.org/underscore.js)中，可以看到这样一个代码块：

```
// Is a given variable undefined?
_.isUndefined = function(obj) {
  return obj === void 0;
}; 
```

我不明白这`void 0`部分，这很奇怪。怎么理解？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-10T08:32:41.870

这是控制台输出

```
>typeof void 0
"undefined"
>void 0 === undefined
true
>"undefined".length
9
>"void 0".length
6 
```

我认为他们正在尝试保存 3 个字节的文件大小；）

*编辑：* 这个[SO](https://stackoverflow.com/a/7452352/973308)答案更有意义 using `void 0`，因为`undefined`它只是`window`对象的一个​​属性并且是可变的。因此`void 0`是跨浏览器生成未定义的可信方式

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-10T08:36:50.433

在 javascript（从 1.1 开始）中，`void`运算符用于计算表达式并返回`undefined`。

请参阅[void 运算符的 ECMAScript 语言规范](http://bclary.com/2004/11/07/#a-11.4.2)

`void 0`正确和标准的生产方式也是如此`undefined`。

因为它是一个运算符，所以不需要括号。

# python - 将 Python 脚本移动到另一台计算机

> ID：11409416
> 
> 赞同：4
> 
> 时间：2012-07-10T08:29:18.120
> 
> 标签：python, windows, scripting

我想知道如果我编写一个使用我计算机上已安装库的 Python 脚本（例如 lxml）并且我想在另一台计算机上部署这个脚本，我的选择是什么。

当然，在另一台机器上安装 Python 是给定的，但我是否还必须安装我在脚本中使用的所有库，或者我可以只使用 *.pyc 文件吗？

是否有任何选项可以为此类问题制作安装程序，将所有依赖项与相关脚本一起复制？

顺便说一下，我说的是 Windows 机器。

编辑 - - - - - - - - - -

看完你的答案后，我想我应该添加这个：

问题是......这个工作所需的库不会与 pip 或 easy_install 一起悄悄出现，因为它需要 Windows 安装程序（我在搜索后找到了女巫）或在目标计算机上重建来源（我试图避免的女巫）。

我认为有某种方法可以将 pyc 文件或其他东西移植到另一台 pc 上，并且该站上的解释器不需要帐户上的依赖项，因为它已经被翻译为字节码。

如果这是不可能的，任何人都可以向我展示某种制作 Windows 软件包安装程序的指南吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-10T08:37:54.143

您应该创建`setup.py`用于[setuptools](http://peak.telecommunity.com/DevCenter/setuptools)。依赖项应该包含在字段中`install_requires`。之后，如果您使用[`easy_install`](http://peak.telecommunity.com/DevCenter/EasyInstall)or安装该软件包[`pip`](http://www.pip-installer.org/en/latest/index.html)，将自动下载并安装依赖项。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T09:38:49.200

您也可以使用[distutils](http://docs.python.org/library/distutils.html)。一个基本的`setup.py`样子如下：

```
from distutils.core import setup

setup(
    name='My App',
    version='1.0',
    # ... snip ...
    install_requires=[
        "somedependency >= 1.2.3"
    ],
) 
```

有关 distutils 和 setuptools 之间的差异，请参阅[此问题](https://stackoverflow.com/questions/6344076/differences-between-distribute-distutils-and-setuptools)。

# android - SMSManager 已弃用

> ID：11409417
> 
> 赞同：13
> 
> 时间：2012-07-10T08:29:21.567
> 
> 标签：android, sms

我已将此文件包含在 android 2.3.3 的项目中

```
import android.telephony.gsm.SmsManager; 
```

它显示代码如下（删除 smsmanager 文本）
导入 android.telephony.gsm。~~短信管理器~~；
并显示消息“SmsManager 已弃用”
我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-07-10T08:33:12.253

根据[这里](http://developer.android.com/reference/android/telephony/gsm/SmsManager.html)的文档：

> 此类已弃用。替换为支持 GSM 和 CDMA的[android.telephony.SmsManager](http://developer.android.com/reference/android/telephony/SmsManager.html)

从 API 4.

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-10T08:44:37.450

android.telephony.gsm.SmsManager 已弃用，取而代之的是支持 GSM 和 CDMA 的 android.telephony.SmsManager。android.telephony.SmsManager 适用于 API 级别 4 及更高版本（又名 Android 1.6）。请参阅[文档](http://developer.android.com/reference/android/telephony/SmsManager.html)。您可以使用[Android.os.Build.Version](http://developer.android.com/reference/android/os/Build.VERSION.html#SDK_INT)来确定在给定平台上使用哪个

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-06-01T03:02:29.037

```
import android.telephony.SmsManager; 
```

只导入这个

# php - 是否可以在 Flash 中设置与在浏览器中使用相同的 cookie

> ID：11409424
> 
> 赞同：0
> 
> 时间：2012-07-10T08:30:10.247
> 
> 标签：php, javascript, flash, cookies, session-cookies

我使用像uploadify这样的js插件，它使用swf（flash）作为上传器（提供ajax上传）。我只能对登录的人执行上传操作。但是由于我的网站身份验证不是通过 Flash 进行的，因此 Flash 没有浏览器在身份验证后的 cookie。

所以，在浏览器中我是管理员，在 Flash 中我是访客。有没有办法像我在浏览器中一样为 flash 设置相同的 cookie，以在没有额外哈希或其他额外功能的情况下识别自己？

很乐意提供任何帮助/建议/文档/手册的链接。先感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:05:59.140

您可以使用 Javascript 设置和读取 cookie，然后用于`ExternalInterface`向 Flash 传递值/从 Flash 传递值。

或者您可以使用`SharedObject`设置/读取您的“cookies”，然后将值传递给网站（`ExternalInterface`）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-07-05T00:09:21.413

正如 strah 所说，通过 和 的组合`ExternalInterface`，`SharedObject`您可以在 Flash 中保存数据，类似于使用 cookie 在 Javascript 中保存数据的方式。你要怎么做呢，你问？

首先，您需要编写使用一个或多个`SharedObjects`来持久化数据的 ActionScript 代码：

```
//Obtain the SharedObject named "cookie", procuring a reference
//to the member Object containing its persisted data
var locusLSO:SharedObject = SharedObject.getLocal("cookie");
var lsoData:Object = locusLSO.data;
/////

//Establish a pairing in locusLSO between some key and value
lsoData["key"] = "value";

//Immediately serialize the data contained in locusLSO to its linked file
var statusStr:String = locusLSO.flush(); 
```

其次，您需要将 ActionScript 代码封装在一个方法中，然后将该方法注册为其父应用程序的 ExternalInterface 的一部分：

```
function storeData(/*param1, param2, ... */):void {/*code*/}
ExternalInterface.addCallback("storeData"); 
```

第三，您需要编译 Actionscript 应用程序（您的代码），并在 HTML 中创建一个引用生成的 .swf 文件的元素。

然后，假设上述 HTML 元素表示为名为 的 DOMElement `flashDOMElement`，您可以使用 DOMElement 调用您的方法：

```
flashDOMElement.storeData(/*arg1, arg2, ... */); 
```

* * *

如果您不想经历所有这些麻烦，请查看[BakedGoods ；](https://github.com/klawson88/Baked-Goods)它是一个 Javascript 库，它建立了一个统一的接口，可用于在所有本地和一些非本地存储设施中进行常见的存储操作，包括 Flash 本地共享对象。

有了它，创建 LSO 可以使用以下简单的代码来完成：

```
bakedGoods.set({
    data: [{key: "key", value: "value"}],
    storageTypes: ["flash"],
    complete: function(byStorageTypeRemovedItemKeysObj, byStorageTypeErrorObj){/*code*/}
}); 
```

检索和删除数据同样简单。相信我，我会知道的；我是它的维护者:)

# jquery - 禁用javascript时如何使这些jquery弹出窗口回退到css

> ID：11409426
> 
> 赞同：0
> 
> 时间：2012-07-10T08:30:19.733
> 
> 标签：jquery, css, popup

我有这个我打算在地图上使用的弹出菜单。当禁用 Java 脚本时，我希望它回退到 CSS 悬停。我尝试过使用兄弟选择器，但无法正常工作。

这是小提琴：

[小提琴](http://jsfiddle.net/AJBweb1986/GQzEn/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:35:36.420

您可以让您的 javascript/jQuery 在准备好文档时从您的地图中删除类 hoverCSS

像这样：

```
$("#Map").removeClass("hoverCSS");
//adding the hoverJS class or just toggle the hover JS
$("#Map").addClass("hoverJS"); 
```

[JSFiddle](http://jsfiddle.net/GQzEn/7/)：这应该给你一个小想法，让你在 JS 中做到这一点，而不是 100% 并且没有 css 悬停。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:40:16.410

在所有位置尝试此操作：

```
#location1:hover .pop-up{
   display:block;
   opacity:1;            
} 
```

为淡入/淡出效果添加过渡

# android - 从类库项目结束应用程序

> ID：11409436
> 
> 赞同：0
> 
> 时间：2012-07-10T08:30:53.857
> 
> 标签：android, eclipse

如何从库项目中关闭或结束应用程序？

例如，我在一个库项目中创建了一个函数来检查 SD 卡是否可用。因此，如果 sd 卡不可用，我想显示一个带有按钮的对话框。单击按钮时，我想关闭应用程序。我试过完成（），但没有奏效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:54:43.580

您可以通过获取进程 ID 来关闭应用程序。下面的代码将对您有所帮助

```
int pid = android.os.Process.myPid();
android.os.Process.killProcess(pid); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:33:56.227

您需要在清单中提供使用 sdcard 的权限。如果设备没有 SD 卡，则 android 操作系统会处理它并且不允许安装应用程序。

# perl - 在 Perl 中保留 CGI 输入的加号

> ID：11409444
> 
> 赞同：3
> 
> 时间：2012-07-10T08:31:37.090
> 
> 标签：perl, cgi

我正在开发一个带有多个表单的 Web 应用程序，用户需要在这些表单上输入通常包含空格和/或加号的数据。

数据通常通过`GET`请求发送；或通过`POST`带有`application/x-www-form-urlencoded`Content-Type 标头的请求。

我尝试过使用Perl 模块中的任何一个`Vars()`，但是这两种方法都坚持将符号转换为空格。`param``CGI``+`

模块是否`CGI`提供任何机制来保存`+`标志；还是我应该放弃`CGI`并手动解析`STDIN`输入？

**注意**：
由于表单数量众多（超过一百个），并且 CGI 预处理发生在一个集中的实用程序库中，我非常偏向于服务器端解决方案而不是客户端方法（换句话说，我宁愿在预处理代码上处理一次问题，也不愿在数百个地方添加 JS 噪声）。

提前感谢您提供的任何帮助。

**示例**：
根据评论中的要求，这里是一些触发问题的代码的（简化）示例。

**HTML**

```
<form action="/cgi-bin/some-script.pl">
    <input name="some_field" value="1 + 1 is 2">
    <input name="submit" type="submit" value="Submit">
</form> 
```

**Perl**

```
use CGI;
my $some_variable = CGI::param('some_field'); 
```

使用默认值提交表单并运行服务器端代码后，`$some_variable`' 的值为`"1 1 is 2"` *（1 之间有三个空格，SO 站点或浏览器可能会将它们折叠成一个空格）*；**期望**的结果是获得该`"1 + 1 is 2"`变量中的值。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-10T09:47:16.343

CGI 参数中的加号表示空格。这在 CGI 规范中。任何向您发送加号以表示其他任何内容的 HTTP 客户端都已损坏。任何处理加号以表示其他任何内容的 HTTP 服务器都已损坏。

所以问题不在于你的 CGI 程序（它正在做正确的事情）。问题出在 HTTP 客户端中，它向您发送加号，打算将它们解释为加号。在 CGI 程序中将加号作为参数发送的正确方法是将其编码为 %2B。这就是你需要解决的问题。

**更新：**我在 Ubuntu 上使用 Apache 运行了一个简单的测试。

我的 HTML 文件如下所示：

```
<html>
  <head>
    <title>Test</title>
  </head>
  <body>
    <h1>Test</h1>
    <form action="/cgi-bin/param">
      <input name="some_field" value="1 + 1 is 2">
      <input name="submit" type="submit" value="Submit">
    </form>
  </body>
</html> 
```

我的 Perl 程序如下所示：

```
#!/usr/bin/perl

use strict;
use warnings;
use 5.010;

use CGI qw[header param];

print header(-type => 'text/plain');

for (param) {
  say "$_ -> ", join ':', param($_);
} 
```

当我访问该页面并点击“提交”按钮时，浏览器转到 URL`http://localhost/cgi-bin/param?some_field=1+%2B+1+is+2&submit=Submit`并显示以下内容：

```
some_field -> 1 + 1 is 2
submit -> Submit 
```

这看起来像我期望看到的行为。浏览器在将加号发送到浏览器时将其正确编码为 %2B。Perl 的 CGI 模块在我访问该值时对其进行解码。

您需要找出您的浏览器（或您用来发送这些请求的任何其他客户端）未遵循 CGI 规范的原因。

# c++ - 试图让 Qt4 示例在安装了 Qt Creator 4 的 ubuntu 10.10 上运行

> ID：11409446
> 
> 赞同：0
> 
> 时间：2012-07-10T08:31:42.833
> 
> 标签：c++, qt-creator

```
#include "framecapture.h"

#include <iostream>
#include <QtWidget>

int main(int argc, char * argv[])
{
    if (argc != 3) {
        std::cout << "Capture a web page and save its internal frames in different images" << std::endl << std::endl;
        std::cout << "  framecapture <url> <outputfile>" << std::endl;
        std::cout << std::endl;
        std::cout << "Notes:" << std::endl;
        std::cout << "  'url' is the URL of the web page to be captured" << std::endl;
        std::cout << "  'outputfile' is the prefix of the image files to be generated" << std::endl;
        std::cout << std::endl;
        std::cout << "Example: " << std::endl;
        std::cout << "  framecapture qt.nokia.com trolltech.png" << std::endl;
        std::cout << std::endl;
        std::cout << "Result:" << std::endl;
        std::cout << "  trolltech.png (full page)" << std::endl;
        std::cout << "  trolltech_frame1.png (...) trolltech_frameN.png ('N' number of internal frames)" << std::endl;
        return 0;
    }

    QUrl url = QUrl::fromUserInput(QString::fromLatin1(argv[1]));
    QString fileName = QString::fromLatin1(argv[2]);

    QApplication a(argc, argv);
    FrameCapture capture;
    QObject::connect(&capture, SIGNAL(finished()), QApplication::instance(), SLOT(quit()));
    capture.load(url, fileName);

    return a.exec();
} 
```

我找不到 QtWidget 文件或目录。当我使用 QWidget 时，它会说

> /home/me/qtwebkit-examples-and-demos/examples/webkit/framecapture-build-desktop/../framecapture/main.cpp:68：错误：变量“QApplication a”具有初始化程序但类型不完整
> 
> /home/me/qtwebkit-examples-and-demos/examples/webkit/framecapture-build-desktop/../framecapture/main.cpp:70：错误：嵌套名称说明符中使用的类型“QApplication”不完整

我不知道为什么**git://gitorious.org/+qt-developers/qt/qtwebkit-examples-and-demos-staging.git**中的示例都不起作用。它似乎总是抱怨#includes 找不到所需的组件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:36:01.087

您只需包含 QApplication。那是：

```
#include <QApplication> 
```

如果我没记错的话，`<QtWidget>`无论如何都没有这样的包含文件。那应该是`<QWidget>`。鉴于具体的例子，我希望一般包括`<QtGui>`代替。

# perl - Perl循环不起作用

> ID：11409450
> 
> 赞同：3
> 
> 时间：2012-07-10T08:31:51.993
> 
> 标签：perl

我正在处理一个简单的循环，但它不起作用。我有 2 个文件，我根据一个共同的 ID 进行比较。它有点工作，因为它只输出第一个结果和第一个结果！所以它不会遍历其余文件（或最后一个文件，因为输出包含第一个文件中的所有行）。它输出第一个文件中的所有行，但仅将第二个文件中的第一个结果附加到 outfile 中。这是我要澄清的代码：

```
use strict;
use warnings;

my $inputfile1 = shift || die "Give input & output!\n";
my $inputfile2 = shift || die "Give input & output!\n";
my $outputfile = shift || die "Give input!\n";

open my $INFILE1,  '<', $inputfile1 or die "In use / Not found :$!\n";
open my $INFILE2,  '<', $inputfile2 or die "In use / Not found :$!\n";
open my $OUTFILE,  '>', $outputfile or die "In use / Not found :$!\n";

while (<$INFILE1>) {
s/"//g;
my @elements = split /;/, $_;

    while (<$INFILE2>) {
        s/"//g;
        my @loopelements = split /;/, $_;

            if ($elements[11] eq $loopelements[0]){
                $elements[12] = $loopelements[1];
                $elements[13] = $loopelements[2];
                }
    }

my $output_line = join(";", @elements);
print $OUTFILE $output_line;
#print "\n"
}

close $INFILE1;
close $INFILE2;
close $OUTFILE;

exit 0; 
```

我的第一次尝试是这段代码，它部分工作。为什么？：中途崩溃。当我检查输出文件时，它工作到大约一半并停止。不知道为什么！顺便说一句，我认为下面的效率较低，或者两者都有更好的选择吗？

```
$inputfile1=$ARGV[0];  
$inputfile2=$ARGV[1]; 
$outputfile1=$ARGV[2];

open(INFILE1,$inputfile1) || die "Give input & output :$!\n";
open(INFILE2,$inputfile2) || die "Give input & output :$!\n";
open(OUTFILE_1,">$outputfile1") || die "Give input & output :$!\n";

$i = 0;
$j = 0;

@infile1=<INFILE1>;
@infile2=<INFILE2>;

foreach ( @infile1 )
  {
  @elements = split(";",$infile1[$i]);
  $j=0;

  foreach ( @infile2 )
      {
      @loopelements = split(";",$infile2[$j]);

      if ($elements[11] eq $loopelements[0]){
         $elements[12] = $loopelements[1];
         $elements[13] = $loopelements[2];
         $printen = 1;
         last;
        }

      $j = $j+1;
      }

  @elements = join(";",@elements);
  print "$i\r";
  if ($printen == 1) { print OUTFILE_1 "@elements"; };

  $i = $i+1;
  }
close(INFILE1);
close(INFILE2);
close(OUTFILE_1); 
```

那么有人可以指出我在顶部的代码中哪里出错了吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T08:54:16.227

1.  在外循环的第一次迭代中读取第一个文件的第一行。

2.  在第一次迭代本身期间，第二个文件的*所有*行都在内循环中读取。

3.  然后外循环的第一次迭代结束。

4.  现在，外部循环的第二次迭代出现了。是否还有第二个文件需要读取？不。

将问题分解为最简单的问题，**旁边带有注释的两行使程序*每次***循环通过第二个文件的行：

```
use warnings;

my $inputfile1 = shift || die "Give input & output!\n";
my $inputfile2 = shift || die "Give input & output!\n";

open my $INFILE1,  '<', $inputfile1 or die "In use / Not found :$!\n";
open my $INFILE2,  '<', $inputfile2 or die "In use / Not found :$!\n";

my $infile2_pos = tell $INFILE2; # remember start position

while (<$INFILE1>) {

  print;

  seek $INFILE2, $infile2_pos, 0; # seek the start position

  while (<$INFILE2>) {
    print;
  }
} 
```

**如果这*太慢了*，我看到你可以做两件事：**

1.  在外循环中读取更大的文件（我想你知道为什么这会加快速度）。
2.  最初将较小的文件读入数组，因此您不必在其上重复执行磁盘 I/O。

我的意思是：

```
open my $BIGFILE,  '<', $bigfile or die "In use / Not found :$!\n";
open my $SMALLFILE,  '<', $smallfile or die "In use / Not found :$!\n";

my @smallfile_array = <$SMALLFILE>;

while (<$BIGFILE>) {

  print;

  foreach (@smallfile_array) {
    print;
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T11:44:14.203

检查@ArjunShankar 帖子中的代码问题。我没有做同样的事情，而是发布另一种方法。

```
use strict 
open my $IFILE1,  '< myfile.csv' or die $!;
open my $IFILE2,  '< myfile.csv' or die $!;

my %File1 = map {s/"//g; (join '-',(split /,/)[0,2]),$_} <$IFILE1>;
my %File2 = map {s/"//g; (join '-',(split /,/)[0,2]),$_} <$IFILE2>;

foreach my $Key (keys %File1) {
    print "REQD-DETAILS" if exists $File2{$Key};
} 
```

# c# - MVC 自定义模型绑定器对某些表单值使用默认绑定器

> ID：11409451
> 
> 赞同：4
> 
> 时间：2012-07-10T08:31:53.953
> 
> 标签：c#, asp.net-mvc, model-binding

我有一个自定义模型绑定器，它为进入操作方法的特定参数调用：

```
public override ActionResult MyAction(int someData, [ModelBinder(typeof(MyCustomModelBinder))]List<MyObject> myList ... ) 
```

这很好用——按预期调用活页夹。但是，我想为Request.Form 集合中的一些**附加值调用默认模型绑定器。**表单键的命名如下：

```
dataFromView[0].Key
dataFromView[0].Value
dataFromView[1].Key
dataFromView[1].Value 
```

如果我将 IDictionary 添加为操作方法的参数，默认模型绑定器会很好地将这些值转换为 IDictionary。

但是，我想在模型绑定器级别（以及上面的原始 List 对象）操作这些值。

有没有办法让默认模型绑定器从`BindModel()`我的自定义模型绑定器的方法中的表单值创建这个字典？

```
public override object BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext)
{
    //Get the default model binder to provide the IDictionary from the form values...           
} 
```

我尝试使用 bindingContext.ValueProvider.GetValue，但是当我尝试转换为 IDictionary 时，它似乎总是返回 null。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T10:13:43.550

这是我发现的一个潜在解决方案（通过查看默认模型绑定器源代码），它允许您使用默认模型绑定器功能来创建字典、列表等。

创建一个新的 ModelBindingContext 详细说明您需要的绑定值：

```
var dictionaryBindingContext = new ModelBindingContext()
            {
                ModelMetadata = ModelMetadataProviders.Current.GetMetadataForType(() => null, typeof(IDictionary<long, int>)),
                ModelName = "dataFromView", //The name(s) of the form elements you want going into the dictionary
                ModelState = bindingContext.ModelState,
                PropertyFilter = bindingContext.PropertyFilter,
                ValueProvider = bindingContext.ValueProvider
            };

var boundValues = base.BindModel(controllerContext, dictionaryBindingContext); 
```

现在，使用您指定的绑定上下文调用默认模型绑定器，并将正常返回绑定对象。

到目前为止似乎工作...

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T08:54:04.673

如果您的模型绑定器需要使用其他一些表单数据，这意味着您没有将此模型绑定器定位在正确的类型上。您的模型活页夹的正确类型如下：

```
public class MyViewModel
{
    public IDictionary<string, string> DataFromView { get; set; }
    public List<MyObject> MyList { get; set; }
} 
```

进而：

```
public class MyCustomModelBinder : DefaultModelBinder
{
    public override object BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext)
    {
        var model = base.BindModel(controllerContext, bindingContext);

        // do something with the model

        return model;
    }
} 
```

进而：

```
[HttpPost]
public ActionResult Index([ModelBinder(typeof(MyCustomModelBinder))] MyViewModel model)
{
    ...
} 
```

这假设发布了以下数据：

```
dataFromView[0].Key
dataFromView[0].Value
dataFromView[1].Value
dataFromView[1].Key
myList[0].Text
myList[1].Text
myList[2].Text 
```

# iphone - UIAlertView 委托内的 UIAlertView Click 事件

> ID：11409454
> 
> 赞同：7
> 
> 时间：2012-07-10T08:32:05.447
> 
> 标签：iphone, ipad, uialertview, buttonclick

我是 iPhone 开发人员的新手，

我想一个接一个地实现 2 个警报视图，比如当用户按下删除按钮时，第一个警报视图会`Are you sure want to Delete ?`用两个按钮询问`yes`和`no`

现在，如果用户按下`yes`，则第二个警报视图将带有消息，`Deleted Successfully !`此警报视图仅包含`OK`按钮，现在单击此`OK`按钮我想调用一种方法。

如果用户按下`No`，那么什么都不会发生，警报应该消失。

这是我的代码片段，

```
-(void)DeletebtnCliked:(id)sender
{   
    UIAlertView* alertView = [[UIAlertView alloc] initWithTitle:@"Are you sure want to delete ?"
                                                        message:nil delegate:self 
                                              cancelButtonTitle:nil
                                              otherButtonTitles:@"Yes",@"No",nil];
    [alertView show];
    [alertView release];   
}

- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex
{ 
    if (buttonIndex == 0)
    {            
         UIAlertView* alertew = [[UIAlertView alloc] initWithTitle:@"Deleted Successfully !"
                                                           message:nil delegate:self 
                                                 cancelButtonTitle:@"OK"
                                                 otherButtonTitles:nil];
        [alertew show];
        [alertew release];

        if (buttonIndex == 0)
        {
            [self MethodCall];
        }
    }
    else if (buttonIndex == 1)
    {
        [alertView dismissWithClickedButtonIndex:1 animated:TRUE];
    } 
} 
```

写完这段代码后，我进入了无限循环。

**任何帮助将不胜感激。**

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-10T08:34:21.520

```
alertView.tag = 1;
alertew.tag = 2;

- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex
{
    if (alertView.tag == 2)
    {
        //Do something
    }
    else
    {
        //Do something else
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-10T08:41:42.613

将第二个警报视图的委托设置为 nil：

```
UIAlertView* alertew = [[UIAlertView alloc] initWithTitle:@"Deleted Successfully !"
                                                            message:nil delegate:nil 
                                                  cancelButtonTitle:@"OK" otherButtonTitles:nil]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T08:53:15.907

要么使用标签来解决以下情况，要么只是为委托方法内的内部 alertView 设置 Delegate nil ，这样它就永远不会调用。

```
-(void)DeletebtnCliked:(id)sender
{   
    UIAlertView* alertView = [[UIAlertView alloc] initWithTitle:@"Are you sure want to delete ?"
                                                    message:nil delegate:self 
                                          cancelButtonTitle:nil
                                          otherButtonTitles:@"Yes",@"No",nil];
alertView.tag = 1;
[alertView show];
[alertView release];   
}

- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex
{ 
if (buttonIndex == 0 && alertView.tag == 1)
{            
     UIAlertView* innerAlert = [[UIAlertView alloc] initWithTitle:@"Deleted Successfully !"
                                                       message:nil delegate:nil 
                                             cancelButtonTitle:@"OK"
                                             otherButtonTitles:nil];
    innerAlert.tag = 2;
    [innerAlert show];
    [innerAlert release];

    if (buttonIndex == 0 && alertView.tag == 1)
    {
        [self MethodCall];
    }
}
else if (buttonIndex == 1 && alertView.tag == 1)
{
    [alertView dismissWithClickedButtonIndex:1 animated:TRUE];
} 
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-17T09:37:54.150

试试这个：-

```
-(void)button:(UIButton *)buttonDelete{
           UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"delete" message:@"Do you Want to delete" delegate:self cancelButtonTitle:@"Cancle" otherButtonTitles:@"Yes", nil];
            alertView.delegate = self;
            alertView.tag = 2000;
            [alertView show];
         }
-(void)buttonUpdate:(UIButton *)buttonEdit{

        UIAlertView *alertView2 = [[UIAlertView alloc] initWithTitle:@"Update" message:@"Do you Want to Update" delegate:self cancelButtonTitle:@"Cancle" otherButtonTitles:@"Yes", nil];
            alertView2.delegate = self;
            alertView2.tag = 20001;
            [alertView show];
    }   
 -(void)buttonAdd:(UIButton *)buttonAdd{
         UIAlertView *alertView3 = [[UIAlertView alloc] initWithTitle:@"Add" message:@"Do you Want to Add" delegate:self cancelButtonTitle:@"Cancle" otherButtonTitles:@"Yes", nil];
            alertView3.delegate = self;
            alertView3.tag = 20002;
            [alertView show];
    }     
  -(void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex{
            if (alertView.tag == 2000){
                if (buttonIndex==0) {
                    NSLog(@"Delete Cancel Button click");
                }
                else{
                    NSLog(@"Delete yes Button is click");
                }

            }
            if (alertView.tag == 20001){
                if (buttonIndex==0) {
                    NSLog(@"update Cancel Button click");
                }
                else{
                    NSLog(@"update yes Button is click");
                }

            }
            if (alertView.tag == 20002){
                if (buttonIndex==0) {
                    NSLog(@"Add Cancel Button click");
                }
                else{
                    NSLog(@"Add yes Button is click");
                }

            }
        } 
```

# bash - 如何重定向'&'命令的日志？

> ID：11409460
> 
> 赞同：3
> 
> 时间：2012-07-10T08:32:27.350
> 
> 标签：bash, jobs

这是命令：

```
 # ls >log 2>&1 &
 [1] 24274 
```

现在我希望这一行`[1] 24274`重定向另一个文件。有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T08:48:17.077

[使用`$!`：](http://www.gnu.org/software/bash/manual/bashref.html#Special-Parameters)

```
ls >log 2>&1 &
echo ls: pid=$! 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T09:00:45.137

除非您想获取工作编号，否则最简单的方法是使用*$!* ，这将为您提供最近的后台作业的 PID。例如：

```
$ sleep 30 & bg_pid=$!; echo $bg_pid
[2] 10100
10100 
```

如果您真的想从存储的 PID 中取回作业编号，也许是使用 Bash 的作业控制而不是使用*kill*向进程发送信号，您可以这样做：

```
jobs -l | fgrep $! | perl -ne 'print "$1\n" if /\[(\d+)\]/' 
```

# forms - 联系表格 - 成功讯息

> ID：11409467
> 
> 赞同：2
> 
> 时间：2012-07-10T08:32:43.483
> 
> 标签：forms, contact

我正在使用联系表格，当您提交详细信息时，您会被带到一个带有“谢谢”消息的新页面。我不希望用户被重定向到新页面，而是希望“谢谢”消息与表单显示在同一页面上。我正在使用的代码如下。

**联系表格代码：**

```
 <form name="htmlform" method="post" action="html_form_send.php">
<table width="450px">
</tr>
<tr>
 <td valign="top">
  <label for="first_name">First Name *</label>
 </td>
 <td valign="top">
  <input  type="text" name="first_name" maxlength="50" size="30">
 </td>
</tr>

<tr>
 <td valign="top"">
  <label for="last_name">Last Name *</label>
 </td>
 <td valign="top">
  <input  type="text" name="last_name" maxlength="50" size="30">
 </td>
</tr>
<tr>
 <td valign="top">
  <label for="email">Email Address *</label>
 </td>
 <td valign="top">
  <input  type="text" name="email" maxlength="80" size="30">
 </td>

</tr>
<tr>
 <td valign="top">
  <label for="telephone">Telephone Number</label>
 </td>
 <td valign="top">
  <input  type="text" name="telephone" maxlength="30" size="30">
 </td>
</tr>
<tr>
 <td valign="top">
  <label for="comments">Comments *</label>
 </td>
 <td valign="top">
  <textarea  name="comments" maxlength="1000" cols="25" rows="6"></textarea>
 </td>

</tr>
<tr>
 <td colspan="2" style="text-align:center">
  <input type="submit" value="Submit">
 </td>
</tr>
</table>
</form> 
```

**发送表单的 PHP 代码：**

```
<?php
if(isset($_POST['email'])) {

    // CHANGE THE TWO LINES BELOW
    $email_to = "you@yourdomain.com";

    $email_subject = "website html form submissions";

    function died($error) {
        // your error code can go here
        echo "We are very sorry, but there were error(s) found with the form you submitted. ";
        echo "These errors appear below.<br /><br />";
        echo $error."<br /><br />";
        echo "Please go back and fix these errors.<br /><br />";
        die();
    }

    // validation expected data exists
    if(!isset($_POST['first_name']) ||
        !isset($_POST['last_name']) ||
        !isset($_POST['email']) ||
        !isset($_POST['telephone']) ||
        !isset($_POST['comments'])) {
        died('We are sorry, but there appears to be a problem with the form you submitted.');       
    }

    $first_name = $_POST['first_name']; // required
    $last_name = $_POST['last_name']; // required
    $email_from = $_POST['email']; // required
    $telephone = $_POST['telephone']; // not required
    $comments = $_POST['comments']; // required

    $error_message = "";
    $email_exp = '/^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/';
  if(!preg_match($email_exp,$email_from)) {
    $error_message .= 'The Email Address you entered does not appear to be valid.<br />';
  }
    $string_exp = "/^[A-Za-z .'-]+$/";
  if(!preg_match($string_exp,$first_name)) {
    $error_message .= 'The First Name you entered does not appear to be valid.<br />';
  }
  if(!preg_match($string_exp,$last_name)) {
    $error_message .= 'The Last Name you entered does not appear to be valid.<br />';
  }
  if(strlen($comments) < 2) {
    $error_message .= 'The Comments you entered do not appear to be valid.<br />';
  }
  if(strlen($error_message) > 0) {
    died($error_message);
  }
    $email_message = "Form details below.\n\n";

    function clean_string($string) {
      $bad = array("content-type","bcc:","to:","cc:","href");
      return str_replace($bad,"",$string);
    }

    $email_message .= "First Name: ".clean_string($first_name)."\n";
    $email_message .= "Last Name: ".clean_string($last_name)."\n";
    $email_message .= "Email: ".clean_string($email_from)."\n";
    $email_message .= "Telephone: ".clean_string($telephone)."\n";
    $email_message .= "Comments: ".clean_string($comments)."\n";

// create email headers
$headers = 'From: '.$email_from."\r\n".
'Reply-To: '.$email_from."\r\n" .
'X-Mailer: PHP/' . phpversion();
@mail($email_to, $email_subject, $email_message, $headers);  
?>

<!-- place your own success html below -->

Thank you for contacting us. We will be in touch with you very soon.

<?php
}
die();
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-08T03:34:57.737

如果您想将页面刷新到表单所在的同一位置并在同一页面上显示结果，那么您可以尝试以下操作：

代替

```
 <form name="htmlform" method="post" action="html_form_send.php"> 
```

使用以下内容（以便您刷新与表单相同的页面）。

```
 <form name="htmlform" action="" method="post"> 
```

通过给它一个名字来调整你的提交按钮：

```
 <input type="submit" name="submit" value="Submit"> 
```

然后通过检查是否设置了“提交”来验证帖子是否已提交，而不是电子邮件...

```
 if(isset($_POST['submit'])) { rather than if(isset($_POST['email'])) { 
```

然后将文件'html_form_send.php'中的谢谢消息代码移动到原始文件中的表单代码上方。

这应该将表单中的数据发布到表单所在的同一页面，并且仅在页面检测到表单已提交时才显示感谢消息......只要您附上任何打印/回显的谢谢 if(isset($_POST['submit'])) { 括号内的消息 - 即在这里 } 那么它应该可以工作。

如果您想在不刷新页面的情况下检查表单是否已提交，您需要查看 AJAX，但这有点复杂。

# tfs - Team Foundation Server 中的源代码结构

> ID：11409470
> 
> 赞同：0
> 
> 时间：2012-07-10T08:33:07.273
> 
> 标签：tfs

我需要向 TFS 添加一些源代码，并且在我想就构建它的最佳方式获得一些建议之前从未使用过它。

我有一个解决方案'GenericLibraries'。这是一组类库项目，可供企业内的任何应用程序使用。

我有 2 个其他解决方案“FormsApp1”、“FormsApp2”。这两种解决方案都包含对“GenericLibraries”解决方案中编译的库的 dll 引用。

我的问题是如何最好地将这个源代码放入 TFS？

是否必须将所有源代码放入一个 TFS 项目中，因为“FormsApp1”和“FormsApp2”包含对“GenericLibraries”中程序集的引用，或者我可以拥有 3 个 TFS 项目吗？还是有另一种标准的方法来做到这一点？

最终，我也希望设置持续集成，并且“FormsApp1”和“FoprmsApp2”都将始终针对“GenericLibraries”中最新版本的程序集进行编译。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:51:31.520

这是一个带有公共库的单个 TFS 团队项目。考虑以下结构：

```
$/MyTeamProject/Dev/GenericLibraries
$/MyTeamProject/Dev/MyProduct/FormsApp1
$/MyTeamProject/Dev/MyProduct/FormsApp2 
```

# jsp - 使用逻辑标记从 jsp 页面访问会话属性

> ID：11409475
> 
> 赞同：0
> 
> 时间：2012-07-10T08:33:23.950
> 
> 标签：jsp, struts

我想从 jsp 页面访问角色会话属性（我在身份验证期间设置）并检查其值是否等于“admin”或“user”。我如何使用逻辑标签来做到这一点。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T08:52:36.587

假设您的会话属性称为“角色”：

```
<logic:equal name="role" value="admin" scope="session">
    etc
</logic:equal> 
```

如果您愿意，您可以省略范围属性，因为没有它，标签将在任何范围（页面、请求、会话）中查找

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T08:52:18.997

帮自己一个忙，忘记逻辑标签。请改用 JSTL 和 JSP EL：

```
<c:if test="${role == 'admin' or role == 'user'}">
    ...
</c:if> 
```

[Struts 文档](http://struts.apache.org/1.x/struts-taglib/dev_logic.html)本身不鼓励使用逻辑标签，并提倡使用 JSTL：

> 注意： - 此标记库中的许多功能在 JavaServer Pages 标准标记库 (JSTL) 中也可用。Apache Struts 小组鼓励尽可能使用标准标签而不是 Struts 特定标签。

# php - 将 PHP 与 Excel 电子表格/VBA 脚本连接

> ID：11409483
> 
> 赞同：0
> 
> 时间：2012-07-10T08:33:49.620
> 
> 标签：php, html, excel, vba

我有一个客户开发了一个 Excel 电子表格来使用 VBA 脚本计算各种统计数据（至少可以说 Excel/VBA 不是我的强项）。他希望我为此创建一个 Web 前端（我将使用 PHP/CakePHP），该前端将具有用于输入单元格值的简单表单，将查询电子表格并返回值以在网站上显示。

客户不想将 Excel/VBA 脚本转换为另一种语言 - 他希望将其保存在“筒仓”中，只是让网站查询现有脚本。

这可能吗？任何可以提供帮助的图书馆？我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T12:16:31.280

您需要运行 MS Excel 本身，并使用 COM ...这是我知道的唯一方法，它允许您从 PHP 的 Excel 工作簿中运行 VBAScript。您甚至不能为此使用 OpenOffice，因此它限制您使用安装了 MS Excel 的 Windows Server

# delphi - Quickreport - 页面更改时页面编号不会增加

> ID：11409485
> 
> 赞同：0
> 
> 时间：2012-07-10T08:33:52.570
> 
> 标签：delphi, delphi-2010, quickreports

我正在使用 OnNeedData 功能和一个在详细带配置中提供多个 qrLabels 的数组 - （Delphi 2010 和 QuickRep5） - 在多页报告中，我需要检测每个下一页（2、3、4 等）和修改详细信息带中的第一行。

除了内部页码变量（QuickReport.QRprinter.pagenumber）在打印（或显示）第一行之前没有增加外，一切正常。

例如，如果我打印**删除**标签的垃圾邮件，其标题等于页码，则第 2 页的第一行将显示**第 1**页，而该页面上的其余行将正确显示**第 2 页**同样的事情发生在所有人身上其他页面。

有人可以帮我找到一种方法来正确识别新页面的开头吗，我尝试过`OnEndPage, OnStartPage, BeforePrint, etc.`但没有成功 - 计数器总是在打印细节带的第一行后递增......

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-02T14:36:45.370

*   确保`Quickrep1`有一个`PageheaderBand`
*   然后检查that`QuickRep1.QRPrinter.PageNumber`的`OnBeforePrint`事件处理程序中的`PageHeaderBand`。

# python - Python 将结果打印为 '7\xe6\x9c\x8810\xe6\x97\xa5'，但我想要 '7月10日'

> ID：11409486
> 
> 赞同：5
> 
> 时间：2012-07-10T08:33:54.407
> 
> 标签：python, unicode, printing

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-10T08:44:32.880

The output you get is correct. That is the UTF-8 representation of the japanese string. The problem is the console itself that it doesn't understand UTF-8\. If you write that string in a file and open it with an editor that does understand UTF-8 you'll see the content as you would expect. You could also try to change the console's encoding to UTF-8.

Edit: You could also try something along:

```
print '7\xe6\x9c\x8810\xe6\x97\xa5'.decode('utf-8') 
```

But whether this works depends on the whether the console encoding supports japanese characters. If for example the console's encoding is 'ISO Latin-1' than it won't work...

I suggest you read: [http://www.joelonsoftware.com/articles/Unicode.html](http://www.joelonsoftware.com/articles/Unicode.html)

# android - 启动一个新的 Activity OnClick (Android)

> ID：11409489
> 
> 赞同：0
> 
> 时间：2012-07-10T08:34:05.483
> 
> 标签：android, android-activity, onclick

我正在尝试通过单击按钮开始一项活动，但似乎无法使其正常工作。按下按钮时应用程序冻结。

这是我使用的代码：

从按钮：

```
<Button
    android:id="@+id/button1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:onClick="ExecJson"
    android:text="Button" /> 
```

在当前活动中：

```
 public void ExecJson (View view) {           
            Intent intent = new Intent(this, Listviewer.class); 
            startActivity(intent);
        } 
```

我要开始的活动：

```
package com.pxr.tutorial.json;

import java.net.MalformedURLException;
import java.net.URL;
import java.util.ArrayList;
import java.util.HashMap;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.app.ListActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.SimpleAdapter;
import android.widget.Toast;

import com.pxr.tutorial.xmltest.R;

@SuppressWarnings("unused")
public class Listviewer extends ListActivity {

    /** Called when the activity is first created. */

     @Override
     public void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);

        setContentView(R.layout.listplaceholder);

        ArrayList<HashMap<String, String>> mylist = new ArrayList<HashMap<String, String>>();

        JSONObject json = JSONfunctions.getJSONfromURL("http://oranjelan.nl/deelnemers.txt");

        try{

            JSONArray  deelnemers = json.getJSONArray("deelnemers");

            for(int i=0;i<deelnemers.length();i++){                     
                HashMap<String, String> map = new HashMap<String, String>();    
                JSONObject e = deelnemers.getJSONObject(i);

                map.put("id",  String.valueOf(i));
                map.put("name", "Alias: " +  e.getString("alias"));
                map.put("city", "Woonplaats: " +  e.getString("woonplaats"));
                map.put("sex", "Geslacht: " +  e.getString("geslacht"));
                mylist.add(map);            
            }   

        }catch(JSONException e)        {
             Log.e("log_tag", "Error parsing data "+e.toString());
        }

        ListAdapter adapter = new SimpleAdapter(this, mylist , R.layout.main, 
                        new String[] { "name", "city", "sex" }, 
                        new int[] { R.id.item_title, R.id.item_subtitle2, R.id.item_subtitle });

        setListAdapter(adapter);

        final ListView lv = getListView();
        lv.setTextFilterEnabled(true);  
        lv.setOnItemClickListener(new OnItemClickListener() {
            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {              
                @SuppressWarnings("unchecked")
                HashMap<String, String> o = (HashMap<String, String>) lv.getItemAtPosition(position);                   
                Toast.makeText(Listviewer.this, "ID '" + o.get("id") + "' was clicked.", Toast.LENGTH_SHORT).show(); 

            }
        });

    }
} 
```

谁能告诉我我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:37:39.117

可能是因为您试图在 Activity Listviewer 的 MainUI 线程上获取 Web 请求（网络相关操作）。

从这一行开始，

```
JSONObject json = JSONfunctions.getJSONfromURL("http://oranjelan.nl/deelnemers.txt"); 
```

对此 Web 请求使用[AsyncTask 并重试..](http://developer.android.com/reference/android/os/AsyncTask.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:37:59.200

启动新应用时应用程序冻结的原因`Activity`是因为您正在 UI 线程上运行与网络相关的操作。An`AsyncTask`将很容易实现，并且可能还会摆脱您的问题。

例子：

```
public class AsyncLoading extends AsyncTask<String, Void, Boolean> {

    // Attributes
    private Context mContext;
    private ListView mListView;
    private List<Map<String, String>> mListData;

    public AsyncLoading(Context c, ListView lv) {
        mContext = c;
        mListView = lv;
    }

    @Override
    protected Boolean doInBackground(String... params) {
        try {
            JSONObject json = JSONfunctions.getJSONfromURL("http://oranjelan.nl/deelnemers.txt");
            JSONArray  deelnemers = json.getJSONArray("deelnemers");
            for(int i=0;i<deelnemers.length();i++){                  

                HashMap<String, String> map = new HashMap<String, String>();    
                JSONObject e = deelnemers.getJSONObject(i);

                map.put("id",  String.valueOf(i));
                map.put("name", "Alias: " +  e.getString("alias"));
                map.put("city", "Woonplaats: " +  e.getString("woonplaats"));
                map.put("sex", "Geslacht: " +  e.getString("geslacht"));

                mListData.add(map);            
            }   
            return true;

        } catch(JSONException e) {
            Log.e("log_tag", "Error parsing data "+e.toString());
            return false;
        }
    }

    @Override
    protected void onPostExecute(Boolean result) {
        if( result ) {

            mListView.setAdapter(

                new SimpleAdapter(
                    mContext,
                    mListData,
                    R.layout.main,
                    new String[] { "name", "city", "sex" },
                    new int[] { R.id.item_title, R.id.item_subtitle2, R.id.item_subtitle }
                )

            );
        } else {
            Toast.makeText(mContext, "No data found.", Toast.LENGTH_SHORT).show();
        }
    }
} 
```

# plist - 在复杂的 plist 文件中设置对象的值

> ID：11409492
> 
> 赞同：0
> 
> 时间：2012-07-10T08:34:28.183
> 
> 标签：plist

我想更改字典中对象的值，但是字典结构很复杂。那是;

```
<dict>
<key>Content</key>
<array>
    <dict>
        <key>Description</key>
        <string></string>
        <key>Duration</key>
        <string></string>
        <key>Image</key>
        <string></string>
    </dict>
    <dict>
        <key>Description</key>
        <string></string>
        <key>Duration</key>
        <string></string>
        <key>Image</key>
        <string></string>
    </dict>
</array>
</dict> 
```

我可以访问一个元素（其中 plist 文件称为数据）

```
[Data objectForKey:[[[Data objectForKey:@"Content"]objectAtIndex:selectedIndex]objectForKey:@"Description"]] 
```

如何设置此对象的值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-28T11:00:08.007

你可以使用这个：

```
[[[Data objectForKey:@"Content"] objectAtIndex:selectedIndex] setObject:@"foo" forKey:@"Description"]; 
```

`foo`它将键的字符串设置为带有键的字典`Description`索引处的数组。`selectedIndex``Contents`

# asp.net - 使用实体框架在 ListView 中分页

> ID：11409495
> 
> 赞同：3
> 
> 时间：2012-07-10T08:34:34.110
> 
> 标签：asp.net, entity-framework

我正在使用 Entity Framework 进行分页，并且在通过时和单击下一个/上一个按钮后`Listview`我被卡住了`startindex``maxrows`

这是我的代码

```
private  List<WorkItem> Data(int startindex, int maxrows)
{            
       return (from x in ss.WorkItem
                    select x).OrderBy(p => p.WorkItemID).Skip(startindex).Take(maxrows).ToList();

}

protected void lvWorkItems_PagePropertiesChanging(object sender, PagePropertiesChangingEventArgs e)
{
        this.DataPager1.SetPageProperties(e.StartRowIndex, e.MaximumRows, false);
        lvWorkItems.DataSource = Data(e.StartRowIndex,e.MaximumRows);

        lvWorkItems.DataBind();
} 
```

我的问题是如何通过`startindex`以及`maxrows`单击下一个/上一个按钮时。请帮忙

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T16:23:55.343

请检查一下，它的扩展方法：

```
 public static IQueryable<T> MyPage<T, TResult>(this IQueryable<T> obj, int    
 page,     int  pageSize, System.Linq.Expressions.Expression<Func<T, TResult>>  
 keySelector, bool asc, out int rowsCount)
 {
    rowsCount = obj.Count();
   if (asc)
    {
       return obj.OrderBy(keySelector).Skip(page * pageSize).Take(pageSize);
    }
   else
   {
       return obj.OrderByDescending(keySelector).Skip(page * pageSize).Take(pageSize);
   }        
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:25:28.127

这也正是我的问题。

但是我的问题是通过改变业务输出类方法的结构来解决的。

当然，这种方式你需要有数据输出和行数。

并且不要忘记与必须从数据库中获取相同页面布局数据相关的问题。

我的课程旨在执行以下操作。

```
using System.Collections.Generic;

using System.Linq;

using Andish.CSS.Common.Enum;

using AutoMapper;

using system.linq.dynamic;

namespace Andish.CSS.Common.Result.Implementation

{

   public static class PagingResult

    {

        public static PageResult<K> ToPageResult<T, K>(this IQueryable<T> queryable, int rowCount,
            int pageNumber, string sortField, DynamicLinqSortFieldKind 

dynamicLinqSortFieldKind)

        {

var allQueryRow = queryable.ToList<T>().Count();

            var skipLen = (pageNumber - 1) * rowCount;

            string orderKind = "";

            orderKind = dynamicLinqSortFieldKind == DynamicLinqSortFieldKind.Ascending ? " Asc" : " Desc";

 PageResult<K> pageResult = new PageResult<K>

                                           {

                                               PageNumber = pageNumber,

                                               RowCount = rowCount,

                                               Result = Mapper.Map<IList<K>>(queryable.OrderBy(sortField + orderKind)
                                                                             .Skip(skipLen).Take(rowCount).ToList<T>()),
                                               ResultRowCount = allQueryRow,

                                               PageCount = allQueryRow % rowCount == 0 ? allQueryRow / rowCount : (allQueryRow / rowCount) + 1

                                           };

            return pageResult;

        }

 }

}

create this enum

public enum DynamicLinqSortFieldKind

    {

        Ascending = 0,

        Descending = 1

    } 
```

并且为了使用这个扩展方法这样做，我有一个来自 ExecutiveUnit 类的结果，我想将这个类映射到另一个类 ExecutiveUnitModel 。我使用自动映射器 nuget。

```
var xresult = result.ToPageResult<ExecutiveUnit, ExecutiveUnitModel>(RowNumbers, pageNumber, "Code", DynamicLinqSortFieldKind.Ascending); 
```

# android - 复选框安卓

> ID：11409500
> 
> 赞同：0
> 
> 时间：2012-07-10T08:34:59.467
> 
> 标签：android, google-maps, android-layout, checkbox

我在 on create 方法中添加了两个复选框

```
 checkBox1 = (CheckBox) findViewById(R.id.checkBox1);
  checkBox2 = (CheckBox) findViewById(R.id.checkBox2);
  checkBox1.setOnCheckedChangeListener(this) ; 
  checkBox2.setOnCheckedChangeListener(this) ; 
```

复选框的主要功能，当ischeck（）时，一张图片将添加到主布局中，当取消选中时，图片将被删除>>我使用了下面的代码，第一个复选框工作正常第二个复选框当我这样做检查它显示图片，然后即使取消选中它们我也可以删除它们......我的代码哪里有问题？

```
 public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {

// TODO Auto-generated method stub
if(checkBox1.isChecked())
{ 

    ......
    mapOverlays.add(custom); 
}
else {
    mapOverlays.remove(custom)  ;
}

if (checkBox2.isChecked())
{
    ....

    mapOverlays.add(custom2);
}
else 
{
    mapOverlays.remove(custom2)  ;
}
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:41:01.563

您正在以不同的方式处理第二个复选框检查。可能代码应该是这样的？

```
if (checkBox2.isChecked())
{
    ...
    mapOverlays.add(custom2);
}
else
{
    mapOverlays.remove(custom2);
} 
```

**更新：**如果您的代码在当前编辑中看起来像，那么问题是块`custom2`中的声明变量`if`。您正在删除未添加的 mapOverlay，而是在其他地方声明的另一个。

只需更换

```
if (checkBox2.isChecked())
{
    MapItemizedOverlay custom2 = ... 
```

经过

```
if (checkBox2.isChecked())
{
    custom2 = ... 
```

**Upd2：**您的方法还有另一个问题`onCheckedChanged()`。首先`if-else`不仅在 checkBox1 检查/取消检查上运行，而且在 checkBox2 检查/取消检查上运行。第二个也一样`if-else`。

尝试重写方法：

```
public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
    if (buttonView.equals(checkBox1)) {
        // first if-else
    } else if (buttonView.equals(checkBox2)) {
        // second if-else
    }
} 
```

甚至更好：

```
public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
    if (buttonView.getId() == R.id.checkBox1) {
        if (isChecked) { 
            ...
            mapOverlays.add(custom);
        } else {
            mapOverlays.remove(custom);
        }
    } else if (buttonView.getId() == R.id.checkBox2) {
        if (isChecked) { 
            ...
            mapOverlays.add(custom2);
        } else {
            mapOverlays.remove(custom2);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:38:34.207

您还需要将checkedchangelistener 添加到复选框2。

```
checkBox2.setOnCheckedChangeListener(this) ; 
```

# asp.net-mvc-3 - RedirectToAction 的奇怪行为

> ID：11409502
> 
> 赞同：0
> 
> 时间：2012-07-10T08:35:04.547
> 
> 标签：asp.net-mvc-3, url-routing

我正在 MVC 3 中开发门户。控制器（`MyController`）具有三种方法`Add`（get 和 post 版本），`Index`并且 add 方法的一部分如下所示：

```
[HttpPost]
public virtual RedirectToRouteResult AddItem(Item item)
{
    (...)
    return RedirectToAction("Index");
} 
```

简单的？不喜欢我:) 项目已正确添加，重定向时 url 看起来像：

我的控制器/索引

并不是：

我的站点/我的控制器/索引

这当然是个坏消息。这种情况只发生在整个门户中的一个地方的一种情况下。怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:36:37.000

作为回报，你得到的是一个相对路径，相对于你当前的路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:30:20.947

问题已解决 - 我必须更改 global.asax 中的路线图顺序 - 请求被错误的地图捕获。

# java - 这是“多处理器编程艺术”中的 Java 还是花哨的伪代码？

> ID：11409506
> 
> 赞同：0
> 
> 时间：2012-07-10T08:35:25.763
> 
> 标签：java

我已经开始阅读“多处理器编程的艺术”。似乎是一本很棒的书。它声称有用 Java 编写的示例，而且一开始看起来确实是这样，以至于它们可以被复制并按原样运行。然而，很快我就开始看到我不知道的 Java 特性。我猜他们不是，这本书只是使用了花哨的类似 Java 的伪代码，但验证它仍然没有坏处。

我说的是这样的事情：

1.  在 while 条件下使用存在量词，例如

> while(\exists k != me) (级别[k] >= i && 受害者[i] == 我)

（用实际的数学符号替换 \exists；回想一下 Haskell 有类似的东西）。

1.  使用语法中内置的元组和字典顺序，例如

> (标签[k], k) << (标签[i], i)

它比较左边的组件，如果需要的话，右边的组件。

据我所知，这是伪代码而不是 Java，但我对这种语言几乎不熟悉。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-17T12:12:57.807

这不是Java。我没有详细检查，但例如`02~Chapter_02.zip/ch02/Mutex/src/mutex/Bakery.java`来自[本书网站](http://www.elsevierdirect.com/v2/companion.jsp?ISBN=9780123705914)的程序似乎是第一个代码片段源自以“真实”Java 表达的程序。

# opengl - openGL - 创建弯曲表面

> ID：11409507
> 
> 赞同：4
> 
> 时间：2012-07-10T08:35:30.877
> 
> 标签：opengl, graphics, 3d, shader

我一直在研究openGL，我想创建一本具有翻页效果的书，但是页面应该自己“弯曲”。所以现在我想知道如何弯曲表面并在openGL中对其进行动画处理。听起来像每个顶点的多个着色器取决于顶点的位置，不是吗？

或者可能是具有多个分支的单个着色器

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T10:14:40.323

将弯曲实现为曲线方程，并根据与绑定的距离将该曲线应用于顶点位置（您可以为此使用额外的顶点属性）。

* * *

### 根据建议更新（以前的评论）：

如果看一个圆锥，您会看到，它由一个圆形曲线（围绕其轴）组成，该曲线向其尖端逐渐变细。这是您为锥形方法页面卷曲效果创建的曲线。圆锥的表面，其尖端位于原点，其轴为 Z，由解析表面描述

```
S(u,v) = (x*cos(u*2*pi) + y*sin(u*2*pi))*v + z*v*a 
```

其中 x,y,z 是笛卡尔单位向量，a = 2*tan(张角)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-10T13:51:29.637

翻页被实现为一个圆锥体，它在“卷曲”的各个阶段改变其半径和顶角。[这](http://wdnuon.blogspot.com/2010/05/implementing-ibooks-page-curling-using.html)是一个介绍数学的 iOS 教程。Xerox PARC 的原始论文[在这里](http://www2.parc.com/istl/groups/uir/publications/items/UIR-2004-10-Hong-DeformingPages.pdf)。

希望这可以帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-07T16:21:29.127

Hewlett-Packard 有一个非常好的 GLSL 实现（带有抗锯齿和分析阴影），它是 WebVfx 的一部分。这是源代码：

[http://rectalogic.github.io/webvfx/examples_2transition-shader-pagecurl_8html-example.html](http://rectalogic.github.io/webvfx/examples_2transition-shader-pagecurl_8html-example.html)

该项目使用 BSD 风格的[License](http://rectalogic.github.io/webvfx/license.html)进行许可。

# c# - 在 WPF 控件上动态分配 Tag 属性

> ID：11409511
> 
> 赞同：0
> 
> 时间：2012-07-10T08:35:40.980
> 
> 标签：c#, wpf, tags, wpf-controls

我有一组动态生成的 WPF 控件。如何动态分配这些控件的 Tag 属性？我创建了这样的控件：

```
 SchlEntities db = new SchlEntities();
        InitializeComponent();

        var controls = from stud in db.Students
                       orderby stud.GroupID
                       group stud by stud.GroupID into gr
                       select gr;
        foreach (var gr in controls)
        {
            CreateComboBox();                
        }

private void CreateComboBox()
    {
        ComboBox combox = new ComboBox();
        combox.Width = 280;
        combox.Height = 30;
        combox.Background = Brushes.LightBlue;
        combox.Margin = new Thickness(5);            
        stackpanel.Children.Add(combox);
    } 
```

# asp.net-mvc-3 - ASP.NET MVC3 条件验证 - 复选框 > 编辑器

> ID：11409512
> 
> 赞同：0
> 
> 时间：2012-07-10T08:35:43.097
> 
> 标签：asp.net-mvc-3, validation, checkbox, editor

我想在我的模型中有一个布尔字段和一个字符串字段，并且没有任何验证属性。但在视图中，如果选中复选框，我希望在编辑器上进行必填字段验证。

请问我该怎么做？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:08:37.363

您仍然可以使用数据注释属性并遵循任何此选项。

1.  从模型状态字典中清除操作内该字段的错误

2.  使用[simon](http://blogs.msdn.com/b/simonince/archive/2010/06/04/conditional-validation-in-mvc.aspx)创建的条件验证库。

前任。

```
public class ValidationSample
{
    [RequiredIf("PropertyValidationDependsOn", true)]
    public string PropertyToValidate { get; set; }

    public bool PropertyValidationDependsOn { get; set; }
} 
```

# macos - 在 MonoMac 应用程序中使用自定义构建的 Sqlite

> ID：11409513
> 
> 赞同：1
> 
> 时间：2012-07-10T08:35:44.307
> 
> 标签：macos, sqlite, mono, dylib, monomac

我已经构建了一个自定义版本的 libsqlite3 来修复标准 sqlite 库中的[错误](https://stackoverflow.com/questions/8090152/mono-on-os-x-system-data-sqlite-does-not-work)。

问题是，如何将这个库（以及相关的托管 System.Data.SQLite.dll）打包到 MonoMac 应用程序包中？请提供确切的步骤，花了几天时间试图解决这个问题。

注意：这是一个 MonoMac .app 包，而不是一个单声道 .exe。该[线程](http://mono.1490590.n4.nabble.com/libsqlite3-0-dylib-SQLITE-ENABLE-COLUMN-METADATA-required-td1548412.html)解释了在单声道 .exe 的情况下该怎么做。

# caching - EfCachingProvider 和 DbContext

> ID：11409517
> 
> 赞同：1
> 
> 时间：2012-07-10T08:36:08.093
> 
> 标签：caching, entity-framework-4, dbcontext

我试图找到从 [Tracing and Caching Provider Wrappers for Entity Framework](http://code.msdn.microsoft.com/EFProviderWrappers-c0b88f32) with Entity Framework 和 DbContext 中使用 EFCachingProvider 的方法。我使用 EF 4.x DbContext Generator for c# 来生成模型类。我已经添加了对 EFProviderWrapperToolkit、EFCachingProvider、EFTracingProvider 的引用。我还在我的 web.config 文件中进行了更改：

```
 <connectionStrings>
    <add name="MyEntities" connectionString="Server=myServer;Database=MyDB;User ID=User;Password=pass;Trusted_Connection=False;Encrypt=True;Connection Timeout=30;" providerName="EFTracingProvider" />
  </connectionStrings>
  <system.data>
    <DbProviderFactories>
      <add name="EF Caching Data Provider" invariant="EFCachingProvider" description="Caching Provider Wrapper" type="EFCachingProvider.EFCachingProviderFactory, EFCachingProvider, Version=1.0.0.0, Culture=neutral, PublicKeyToken=def642f226e0e59b" />
      <add name="EF Tracing Data Provider" invariant="EFTracingProvider" description="Tracing Provider Wrapper" type="EFTracingProvider.EFTracingProviderFactory, EFTracingProvider, Version=1.0.0.0, Culture=neutral, PublicKeyToken=def642f226e0e59b" />
      <add name="EF Generic Provider Wrapper" invariant="EFProviderWrapper" description="Generic Provider Wrapper" type="EFProviderWrapperToolkit.EFProviderWrapperFactory, EFProviderWrapperToolkit, Version=1.0.0.0, Culture=neutral, PublicKeyToken=def642f226e0e59b" />
    </DbProviderFactories>
  </system.data> 
```

但是当应用程序启动时，它会在 EFProviderWrapperToolkit 中的 DbConnectionWrapper 中引发错误：

```
DbProviderFactory factory = DbProviderFactories.GetFactory(providerInvariantName); 
```

这是从 DbContext 继承的类：

```
public class MyEntities : DbContext
{
    public MyEntities()
        : base("MyEntities")
    {

    }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Conventions.Remove<IncludeMetadataConvention>();
        modelBuilder.Entity<Product>().ToTable("Product");
        modelBuilder.Entity<ProductPhoto>().ToTable("ProductPhoto");

        base.OnModelCreating(modelBuilder);
    }

    public DbSet<Product> Product { get; set; }
    public DbSet<ProductPhoto> ProductPhoto { get; set; }
} 
```

我已经阅读了帖子：[使用 CODEFIRST 使用跟踪和缓存提供程序包装器](http://blog.3d-logic.com/2012/03/31/using-tracing-and-caching-provider-wrappers-with-codefirst/)，但它并没有解决我的问题。

有谁知道该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-09T08:48:31.023

我们已经将 EFCachingProvider 与实体框架和代码优先一起使用。[您可以在 CodePlex 上的 MVCForum](http://themvcforum.codeplex.com/)源代码中看到我们的实现。

我们发现有很多示例显示了跟踪提供程序，但没有显示使用 Code First 的缓存提供程序。

它不仅仅适用于我们的开箱即用代码。我们在使用`DbContext`and时遇到了问题`TransactionScope`。为了进行在`EFCachingProvider`包装器中被覆盖的调用，从而重定向到缓存，我们需要使用连接中的事务，而不是`TransactionScope`. 我们无法从 our 获得连接，`DbContext`因为它自己处理连接，所以我们使用了底层的`ObjectContext`.

```
 private readonly IDbTransaction _transaction; 
```

ETC

```
 _objectContext = ((IObjectContextAdapter) _context).ObjectContext;
        if (_objectContext.Connection.State != ConnectionState.Open)
        {
            _objectContext.Connection.Open();
            _transaction = _objectContext.Connection.BeginTransaction();
        } 
```

然后缓存提供程序适当地拦截调用。我们使用`_transaction`对象来发布`Commit()`等`Rollback`。

您可以在我们的 UnitOfWork 类中看到完整的实现。

# vim - 如何删除 Vim 中每一行的最后六个字符？

> ID：11409518
> 
> 赞同：40
> 
> 时间：2012-07-10T08:36:10.490
> 
> 标签：vim

我在每一行的末尾重复了以下字符：

```
^[[00m 
```

如何使用 Vim 编辑器从每一行删除它们？

当我发出命令`:%s/^[[00m//g`时，它不起作用。

* * *

## 回答 #1

> 赞同：84
> 
> 时间：2012-07-10T18:56:06.917

您可以使用`:%s/.\{6}$//`从字面上删除每行末尾的 6 个字符。

启动前模式，`:`可让您执行命令。`%`是一个范围，指定此命令应对整个文件进行操作。代表替换，`s`后跟一个模式和格式的替换字符串`s/pattern/replacement/`。在这种情况下，我们的模式`.\{6}$`意味着匹配任何字符 ( `.`) 正好 6 次 ( `\{6}`)，然后是行尾 ( `$`)，然后用我们的替换字符串替换它，这没什么。因此，正如我上面所说，这匹配每行的最后 6 个字符，并将它们替换为空。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-07-10T12:15:18.830

我会使用全局命令。

尝试这个：

```
:g/$/norm $xxxxxx 
```

甚至：

```
:g/$/norm $5Xx 
```

我认为这个问题的关键是保持它的通用性，而不是特定于您要删除的字符。这样，您学习的技术将适用于许多其他情况。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-07-10T09:08:47.367

假设这是一个 ANSI 转义序列，则`^[`代表单个`<Esc>`字符。在许多 Windows Vim 安装中，您必须通过按`Ctrl`+ `V`（或`Ctrl`+ ）来输入它），然后按. 请注意，这也是如何以稍微不同的颜色突出显示的。`Q``Esc`

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-07-12T01:16:59.957

替换每行的最后六个字符与这些字符的含义无关，这很容易，但它留下了相当大的错误空间，所以我不推荐它。此外，如果`^[`是一个转义字符，您实际上是在寻找*五个*字符。

### 转义码

`ga`在字符上使用`^[`可以确定它是否是转义码，在这种情况下会显示状态栏

```
<^[>  27,  Hex 1b,  Octal 033 
```

假设是，您可以使用替换所有内容

```
:%s/\%x1b\[00m$//gc 
```

`\%x1b`来自上面的十六进制值。另请注意，您必须转义方括号 ( `[`)，因为它是 Vim 正则表达式中的保留字符。`$`确保它出现在一行的末尾，并且`/gc`标志将使它成为全局并确认每次替换（您可以按`a`全部替换）。

### 不是转义码

那么逃跑就很简单了。您可以使用以下两种中的任何一种：

```
:%s/\^\[\[00m$//gc
:%s/\V^[[00m\$//gc 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-07-10T09:23:22.383

如果它们都对齐，您可以进行视觉块选择并将其删除。

否则，如果您有一个不知道如何输入的序列，您可以通过按 直观地选择它`v`，然后标记并拉动它`y`（默认为 register `"`）。然后你输入`:%s/<C-R>"//g`删除它。

笔记：

*   `<C-R>"`将寄存器的内容放在`"`光标位置。
*   如果您将它拉到另一个寄存器中，比如说`"ay`（拉到注册`a`- 我称之为 piglatin yank）并且忘记了放置它的位置，您可以使用 . 查看寄存器的内容`:reg`。
*   `<C-R>`是 Vim 代言`Ctrl`+`R`

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-16T20:37:11.350

当行超过 5 个字符时，这似乎工作正常：

```
:perldo $_ = substr $_, 0, -5 
```

但是当该行长度为 5 个或更少字符时，它什么也不做。也许 perl 中有一种简单的方法可以删除字符串的最后 5 个字符，但我真的不知道:)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-10T08:43:58.627

使用它来删除：

```
:%s/^[[00m//gc 
```

# ruby - nil:NilClass (NoMethodError) 的未定义方法“contains_text”

> ID：11409529
> 
> 赞同：0
> 
> 时间：2012-07-10T08:37:07.677
> 
> 标签：ruby, watir

我在 RadRails IDE 中使用 Watir。我创建了一个类来检查我的网页上是否存在某些文本：

```
class Text

  def initialize(text, object)
    @text   = text
    @object = object

    if $ie.contains_text(@text)
      puts "Test for" + @object + "failed"
      puts $ie.link(:text => /Exception:/)

      h = $ie.link(:text => /Exception:/)
      r.addtoReport(testReport, "check" + @object, "FAILED", h.text)
    else
      puts("Test for" + @object + "passed")

      r.addtoReport(
          testReport, 
          "check" + @object, 
          "PASSED", 
          "Test for" + @object + "passed"
      )
    end
  end

end 
```

但是当我尝试在我的测试中执行代码时，我收到以下错误 -

```
BPM/Company.rb:38:in `initialize': undefined method `contains_text' for nil:NilClass (NoMethodError)
from BPM/Company.rb:79:in `new'
from BPM/Company.rb:79:in `<main>' 
```

我通过这个命令调用类 -

```
Text.new("Menu", "login") 
```

代码更改 -

```
def initialize(text, object, ie)
    @text   = text
    @object = object
    @ie=ie
    if @ie.contains_text(@text)
      puts "Test for" + @object + "failed"
      puts @ie.link(:text => /Exception:/) 
```

我通过这个命令调用类 -

```
Text_pos.new("Terms", "login",$ie) 
```

在描述类之前 ie 被初始化`ie=Watir::IE.new`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:33:30.210

$ie 是从哪里来的？-- 看来你没有初始化，即：

```
ie = Watir::IE.new 
```

# android - Android：关闭屏幕时屏幕返回纵向模式

> ID：11409533
> 
> 赞同：0
> 
> 时间：2012-07-10T08:37:14.957
> 
> 标签：android, screen-orientation

在我的清单文件中，我指定了`android:configChanges="orientation"`. 而且我注意到，在横向关闭屏幕时，该`onConfigurationChanged()`方法以纵向状态调用一次，然后在唤醒屏幕时以横向状态再次调用。

这是什么原因？有什么办法可以禁用它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:49:26.870

在你的清单文件中使用它——

```
 <android:configChanges="orientation|keyboardHidden" > 
```

当您旋转屏幕横向或纵向时，这永远不会让您的屏幕发生变化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:51:05.957

在你的 android 清单中使用这个

```
android:configChanges="orientation" 
```

景观

```
setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE); 
```

如果你想要未指定

```
 setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-19T14:14:46.157

该问题似乎与锁定屏幕有关，该锁定屏幕在关闭/打开屏幕时会强制布局恢复为纵向。

我通过忽略调用和调用`onConfigurationChanged()`之间的调用解决了我的问题`onPause()``onResume()`

# php - MYSQL DAYNAME() 问题

> ID：11409537
> 
> 赞同：1
> 
> 时间：2012-07-10T08:37:17.450
> 
> 标签：php, mysql

我在数据库中有一个包含列的表

```
d_monday, d_tuesday, d_wednesday, d_thursday, d_friday, d_saturday, d_sunday 
```

这些值是 0 或星期一、星期二、星期三、星期四等，具体取决于日期。

在我使用的选择语句中

```
SELECT * from DEALS WHERE d_monday=DAYNAME(NOW()) OR d_tuesday=DAYNAME(NOW()) 
```

找出日期名称是否与今天匹配，如果匹配则返回结果，否则不显示任何内容。

出于某种原因，当我没有为该特定日期设置任何值时，它会返回结果。

知道可能是什么问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:05:56.610

我很想使用 PHP 字符串来选择字段

```
$day = "d_". date('l'); //lowercase L is full day name
$SQL = "SELECT $day FROM DEALS WHERE [...]"; 
```

我猜了一下，但这不会带你走向正确的方向吗？

或类似的东西

```
$day = date('l'); //lowercase L is full day name
$SQL = "SELECT * from DEALS WHERE d_monday='$day' OR d_tuesday='$day' "; 
```

在我看来，你可能想要

```
$day = date('l'); //lowercase L is full day name
$SQL = "SELECT * from DEALS WHERE d_$day='$day'"; 
```

格式似乎有点混乱，或者我只是弄错了。

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:28:33.107

考虑删除一周中的七列，并添加一个`DealDays`带有外键引用的单独表`Deals`：

```
CREATE TABLE DealDays (
  DealDayID int NOT NULL,
  DealID int NOT NULL,
  DayName varchar(10) NOT NULL,  /* or, perhaps, enum ('Sunday', 'Monday', …) */
  PRIMARY KEY (DealDayID),
  FOREIGN KEY (DealID) REFERENCING Dels (DealID),  /* or whatever is Deal PK's name */
  UNIQUE (DealID, DayName)  /* to make sure you can't add the same day twice per deal */
); 
```

然后你就可以像这样找到今天的交易：

```
SELECT
  d.DealID,
  d.*whatever*,
  …
FROM Deals d
INNER JOIN DealDays dd ON d.DealID = dd.DealID
WHERE dd.DayName = DAYNAME(NOW()) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:28:49.227

您的查询工作正常。可能问题出在您的列数据类型中，请检查。

我的建议是，为此您只能使用一列，以便优化您的数据库。

# c# - 未绑定数据网格中的路径（wpf）

> ID：11409540
> 
> 赞同：0
> 
> 时间：2012-07-10T08:37:32.247
> 
> 标签：c#, wpf, datagrid

数据网格中的列类型是组合框，我创建列表，并列出这个好的，如果我用 xaml 写的话

```
ItemsSource="{Binding Path=combolist}" 
```

items 是 null 我的列表

```
List<string> combolist = new List<string>();
            while (reader.Read())
            {
                combolist.Add(reader.GetString(0));
            } 
```

为什么项目为空？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:09:01.517

绑定只适用于**公共属性**。

```
 public List<string> Combolist {get;set}

  //ctor
  this.Combolist = new List<string>();
  while (reader.Read())
        {
            Combolist .Add(reader.GetString(0));
        }

  this.DataContext = this; 
```

!如果你没有在ctor中填写你的列表，你应该使用 ObservableCollection 而不是列表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:39:52.933

combolist 必须是属性。它应该在[View Model](http://msdn.microsoft.com/en-us/magazine/dd419663.aspx)里面。（国际海事组织，应该是`ComboList`）。

# asp.net - ASP.NET MVC HttpPostedFileBase 存储

> ID：11409543
> 
> 赞同：0
> 
> 时间：2012-07-10T08:37:46.370
> 
> 标签：asp.net, asp.net-mvc-3

在 ASP.NET MVC 中，上传文件我只是使用`<input type="file" ... />`，并且我发布表单的操作采用`HttpPostedFileBase`as 参数。到现在为止还挺好。现在的问题是：是否`HttpPostedFileBase`仅包含元数据并引用服务器磁盘上的临时文件，或者对象是否包含实际字节？由于可伸缩性，这很重要，因为我有一个场景，`HttpPostedFileBase`在会话中保持 非常方便，但如果对象包含上传文件的实际字节，我担心这可能会很快填满服务器的内存。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T11:23:43.347

它将数据保存在内存中。如果您担心可伸缩性，您可能需要规划一个网络场，并且在您的会话中包含许多大型项目无论如何都不是一件好事。所以最好自己管理这些（使用文件或数据库并将文件名/ID存储在会话中）。

决定实际上取决于文件的数量和大小以及您对它们的处理方式（即您是否需要每个请求，或者可能在 20 分钟后的某个会话中需要一个文件）。

# ruby-on-rails - 在 Rails3 上使用回形针时，上传时文件名中的某些字符（@ 和 ~）会被删除或更改

> ID：11409544
> 
> 赞同：1
> 
> 时间：2012-07-10T08:37:47.957
> 
> 标签：ruby-on-rails, file-upload

我不确定这是否是回形针问题。在 gitlab 上尝试过，同样的事情发生了。

我有一个用 Rails 编写的 iOS 应用程序的后端，当我上传文件名中带有 @ 字符的图像文件时，如果我有一个名为的文件，它会在上传时被删除，

```
aaa@2x.jpg 
```

它被保存为

```
aaa2x.jpg 
```

此外，~ 被转换为 _。

这是一个问题，因为 iOS 应用程序假定视网膜支持的图像以 @2x 前缀命名。

我可以在上传后正则表达式文件名并在数据库中更改它并重命名文件，但这似乎是一个奇怪的黑客行为，有人知道发生了什么吗？如何正确保存文件名？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:26:41.490

根据这篇文章：[http](http://en.wikipedia.org/wiki/HFS_Plus) ://en.wikipedia.org/wiki/HFS_Plus ，您应该能够使用任何字符，包括文件名中的 NUL。但操作系统 API 可能会出于遗留原因限制某些字符。

它可能是服务器或客户端问题，尝试调试您的应用程序并检查其中提供的文件名`request.request_parameters`是否应包含有效的文件名。

如果您要在 URL 中使用上传的文件，您应该在上传之前对其进行音译，这也可以解决您的问题。为此，您可以使用此扩展程序：

```
module TransliteratePaperclip
   def transliterate_file_name(paperclip_file)
    paperclip_file=[paperclip_file] unless paperclip_file.is_a?(Enumerable)
    paperclip_file.each do |file|
      filename=read_attribute("#{file}_file_name")
      if filename.present?
        extension = File.extname(filename).gsub(/^\.+/, '')
        filename = filename.gsub(/\.#{extension}$/, '')
        self.send(file).instance_write(:file_name, "#{filename.parameterize}.#{extension.parameterize}")
      end
    end
  end
end

 # include the extension 
 ActiveRecord::Base.send(:include, TransliteratePaperclip) 
```

将此代码放入`/config/initializers/paperclip_transliterate.rb`回形针模型中：

```
before_post_process { |c| transliterate_file_name(:file) } 
```

其中`:file`是由 定义的属性`has_attached_file`。

# php - PHP/MYSQL - Mysqli Prepared Statements - 获取表数据并将每一行添加到本地数组？

> ID：11409546
> 
> 赞同：1
> 
> 时间：2012-07-10T08:37:53.693
> 
> 标签：php, arrays, loops, mysqli

我有一份各种邮政信息的清单。此数据位于名为“postal_codes”的 mysql 表中。

我想将此表的每一行添加到本地数组中以在脚本中使用。

我面临的问题是我不断收到与 while 循环中未定义变量相关的错误。

这是我到目前为止的代码：

```
// Get postal info and make into array
$postalCodes[] = array();
if ($stmt = $link->prepare("SELECT id, suburb, boxCode, streetCode, townName FROM postal_codes")) {

    if (!$stmt->execute())
    {
        printf("failed to execute");
    }
    if (!$stmt->bind_result($id, $suburb, $boxCode, $streetCode, $townName))
    {
        printf("failed to bind params");
    }
    if (!$stmt->store_result())
    {
        printf("failed to store result");
    }
    while ($stmt->fetch())
    {
        $postalCodes['id'] += $id;
        $postalCodes['suburb'] += $suburb;
        $postalCodes['boxCode'] += $boxCode;
        $postalCodes['streetCode'] += $streetCode;
        $postalCodes['townName'] += $townName;
    }
    $stmt->close();
}

foreach ($postalCodes as $postalCode)
{
    if ($postalCode['boxCode'] == 5850)
    {
        printf("{$postalCode['suburb']}");
    }
} 
```

有人可以偶然发现此代码的问题，或建议我以更好的方式编写此过程的方法。

在这方面的任何帮助和见解将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T08:49:51.130

你可以这样做：

```
if ($stmt = $link->prepare("SELECT id, suburb, boxCode, streetCode, townName FROM postal_codes"))
{
    $stmt->execute();
    $stmt->bind_result($id, $suburb, $boxCode, $streetCode, $townName);
    $stmt->store_result();
    while($stmt->fetch())
    {
        $postalCodes[] = array("id" => $id, "suburb" => $suburb, "boxCode" => $boxCode, "streetCode" => $streetCode, "townName" => $townName);
    }
} 
```

我没有注意到您实际上是在 mysqli 中使用准备好的语句。我已经修改了我的答案以利用准备好的陈述。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T08:48:04.193

“错误”可能是由您的关联数组引起的：

```
$postalCodes['id'] += $id; 
```

问问自己：你`$postalCodes['id']`第一次调用它的价值是什么？它仍然没有定义。因此，您可以预先初始化变量，也可以通过[error_reporting()](http://www.php.net/manual/en/errorfunc.configuration.php#ini.error-reporting)关闭这种类型的警告。

**编辑：数组问题**

你想做这样的事情：

```
$postalCodes=array();
while ($stmt->fetch()) {
    $postalCodes[] = array('id' => $id,
        'suburb' => $suburb,
        'boxCode' => $boxCode,
        'streetCode' => $streetCode,
        'townName' => $townName);
}
foreach($postalCodes as $postalCode) {
    // do whatever you need to do
    // with the associative array, e.g.
    echo $postcalCode['boxCode'];
} 
```

我认为您对 的含义感到困惑`+=`。如果要向数组中添加元素，请使用`array[]=something`.

# java - 组合与减少耦合？

> ID：11409550
> 
> 赞同：1
> 
> 时间：2012-07-10T08:38:08.030
> 
> 标签：java, oop, composition

在使用组合将对象用作其他对象中的属性（以及在属性上调用方法）与具有良好的整体耦合之间，我感到有些困惑。

这里有权衡吗？

也许更容易给出耦合不良的例子来解释差异（如果有差异）？

编辑示例：

```
public class MyClass(){
    MyOtherClass moc;

    public MyClass(MyOtherClass temp){
        moc = temp;
    }

    public void method(){
        moc.call()
    }
} 
```

这是因为对组合关系的依赖而导致的不良耦合吗？如果不是，那么在这个例子中什么是糟糕的耦合。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:13:09.243

关联类的两种基本方法是`inheritance`and `composition`。当您在两个类之间建立继承关系时，您可以利用`dynamic binding`and `polymorphism`。

鉴于这种`inheritance`关系很难更改`interface`超类的 ，因此值得研究`composition`. 事实证明，当您的目标是代码重用时，`composition`提供了一种生成更易于更改代码的方法。

```
class Fruit {

// Return int number of pieces of peel that
// resulted from the peeling activity.
public int peel() {

    System.out.println("Peeling is appealing.");
    return 1;
}
}

class Apple extends Fruit {
}

class Example1 {

public static void main(String[] args) {

    Apple apple = new Apple();
    int pieces = apple.peel();
}
} 
```

但是，如果在将来的某个时间点，您希望将peel() 的返回值更改为 type `Peel`，您将破坏 Example1 代码的代码，即使 Example1 直接使用 Apple 并且从未明确提及 Fruit。

`Composition`为 Apple 重用 Fruit 的`peel()`. `Fruit`Apple 可以保留对实例的引用并定义自己的`peel()`方法来简单地调用Fruit，而不是扩展`peel()`Fruit。这是代码：

```
class Fruit {

// Return int number of pieces of peel that
// resulted from the peeling activity.
public int peel() {

    System.out.println("Peeling is appealing.");
    return 1;
}
 }

class Apple {

private Fruit fruit = new Fruit();

public int peel() {
    return fruit.peel();
}
}

class Example2 {

public static void main(String[] args) {

    Apple apple = new Apple();
    int pieces = apple.peel();
}
} 
```

`Inheritance`给你比`Composition`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-12T18:53:43.973

似乎最被接受的术语是紧/松耦合，而不是坏/好耦合，松散耦合的对象是首选。在您的示例中，更紧密的耦合可能是这样的（添加了用于说明的功能）：

```
public class MyClass()
{
    MyOtherClass moc;
    public MyClass(MyOtherClass temp)
    {
        moc = temp;
    }

    public void method()
    {
        for (int i = 0; i < moc.items.Count; i++)
        {
            moc.items[i].Price += 5;
        }
    }
} 
```

这里，MyClass 依赖于 MyOtherClass 的具体实现细节（项目列表的实现、成本等...）。处理这种情况的一种更松散耦合的方法是将逻辑移动到 MyOtherClass 上的函数中。这样，MyOtherClass 的所有实现细节都对 MyClass 隐藏，并且可以独立于 MyClass 进行更改。

# symfony - Symfony2：将 IP 显示为字符串并将 IP 保存为 INT

> ID：11409554
> 
> 赞同：0
> 
> 时间：2012-07-10T08:38:21.763
> 
> 标签：symfony, doctrine-orm, ip

我在 Symfony 中有一个名为 Ip 的实体，我将我的 IP 地址保存为整数 - 我也使用 IP 作为主键。

但是当我以表格或列表的形式显示和输入 IP 时，我想将其转换为 IP，例如 127.0.0.1 保存为 2130706433。

我使用 CRUD 生成器创建了表单。

我的实体来到这里：

```
<?php

namespace IS\ClearanceBundle\Entity;

use Doctrine\ORM\Mapping as ORM;

/**
 * IS\ClearanceBundle\Entity\Ip
*/
class Ip
{
/**
 * @var bigint $ip
 */
private $ip;

/**
 * @var integer $high
 */
private $high;

/**
 * @var string $hoster
 */
private $hoster;

/**
 * @var datetime $scandate
 */
private $scandate;

/**
 * @var integer $id
 */
private $id;

/**
 * @var IS\ClearanceBundle\Entity\Clearance
 */
private $clearance;

public function __construct()
{
    $this->clearance = new \Doctrine\Common\Collections\ArrayCollection();
}

/**
 * Set ip
 *
 * @param bigint $ip
 */
public function setIp($ip)
{
    $this->ip = $ip;
}

/**
 * Get ip
 *
 * @return bigint
 */
public function getIp()
{
    return $this->ip;
}

/**
 * Set high
 *
 * @param integer $high
 */
public function setHigh($high)
{
    $this->high = $high;
}

/**
 * Get high
 *
 * @return integer
 */
public function getHigh()
{
    return $this->high;
}

/**
 * Set hoster
 *
 * @param string $hoster
 */
public function setHoster($hoster)
{
    $this->hoster = $hoster;
}

/**
 * Get hoster
 *
 * @return string
 */
public function getHoster()
{
    return $this->hoster;
}

/**
 * Set scandate
 *
 * @param datetime $scandate
 */
public function setScandate($scandate)
{
    $this->scandate = $scandate;
}

/**
 * Get scandate
 *
 * @return datetime
 */
public function getScandate()
{
    return $this->scandate;
}

/**
 * Get id
 *
 * @return integer
 */
public function getId()
{
    return $this->id;
}

/**
 * Add clearance
 *
 * @param IS\ClearanceBundle\Entity\Clearance $clearance
 */
public function addClearance(\IS\ClearanceBundle\Entity\Clearance $clearance)
{
    $this->clearance[] = $clearance;
}

/**
 * Get clearance
 *
 * @return Doctrine\Common\Collections\Collection
 */
public function getClearance()
{
    return $this->clearance;
}
} 
```

这是我的控制器：

```
<?php

namespace IS\ClearanceBundle\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\Controller;
use Sensio\Bundle\FrameworkExtraBundle\Configuration\Method;
use Sensio\Bundle\FrameworkExtraBundle\Configuration\Route;
use Sensio\Bundle\FrameworkExtraBundle\Configuration\Template;
use IS\ClearanceBundle\Entity\Ip;
use IS\ClearanceBundle\Form\IpType;

/**
* Ip controller.
*
* @Route("/ip")
*/
class IpController extends Controller
{
/**
 * Lists all Ip entities.
 *
 * @Route("/", name="ip")
 * @Template()
 */
public function indexAction()
{
    $em = $this->getDoctrine()->getEntityManager();

    $entities = $em->getRepository('ISClearanceBundle:Ip')->findAll();

    return array('entities' => $entities);
}

/**
 * Finds and displays a Ip entity.
 *
 * @Route("/{id}/show", name="ip_show")
 * @Template()
 */
public function showAction($id)
{
    $em = $this->getDoctrine()->getEntityManager();

    $entity = $em->getRepository('ISClearanceBundle:Ip')->find($id);

    if (!$entity) {
        throw $this->createNotFoundException('Unable to find Ip entity.');
    }

    $deleteForm = $this->createDeleteForm($id);

    return array(
        'entity'      => $entity,
        'delete_form' => $deleteForm->createView(),        );
}

/**
 * Displays a form to create a new Ip entity.
 *
 * @Route("/new", name="ip_new")
 * @Template()
 */
public function newAction()
{
    $entity = new Ip();
    $form   = $this->createForm(new IpType(), $entity);

    return array(
        'entity' => $entity,
        'form'   => $form->createView()
    );
}

/**
 * Creates a new Ip entity.
 *
 * @Route("/create", name="ip_create")
 * @Method("post")
 * @Template("ISClearanceBundle:Ip:new.html.twig")
 */
public function createAction()
{
    $entity  = new Ip();
    $request = $this->getRequest();
    $form    = $this->createForm(new IpType(), $entity);
    $form->bindRequest($request);

    if ($form->isValid()) {
        $em = $this->getDoctrine()->getEntityManager();
        $em->persist($entity);
        $em->flush();

        return $this->redirect($this->generateUrl('ip_show', array('id' => $                                                                            entity->getId())));

    }

    return array(
        'entity' => $entity,
        'form'   => $form->createView()
    );
}

/**
 * Displays a form to edit an existing Ip entity.
 *
 * @Route("/{id}/edit", name="ip_edit")
 * @Template()
 */
public function editAction($id)
{
    $em = $this->getDoctrine()->getEntityManager();

    $entity = $em->getRepository('ISClearanceBundle:Ip')->find($id);

    if (!$entity) {
        throw $this->createNotFoundException('Unable to find Ip entity.');
    }

    $editForm = $this->createForm(new IpType(), $entity);
    $deleteForm = $this->createDeleteForm($id);

    return array(
        'entity'      => $entity,
        'edit_form'   => $editForm->createView(),
        'delete_form' => $deleteForm->createView(),
    );
}

/**
 * Edits an existing Ip entity.
 *
 * @Route("/{id}/update", name="ip_update")
 * @Method("post")
 * @Template("ISClearanceBundle:Ip:edit.html.twig")
 */
public function updateAction($id)
{
    $em = $this->getDoctrine()->getEntityManager();

    $entity = $em->getRepository('ISClearanceBundle:Ip')->find($id);

    if (!$entity) {
        throw $this->createNotFoundException('Unable to find Ip entity.');
    }

    $editForm   = $this->createForm(new IpType(), $entity);
    $deleteForm = $this->createDeleteForm($id);

    $request = $this->getRequest();

    $editForm->bindRequest($request);

    if ($editForm->isValid()) {
        $em->persist($entity);
        $em->flush();

        return $this->redirect($this->generateUrl('ip_edit', array('id' => $                                                                            id)));
    }

    return array(
        'entity'      => $entity,
        'edit_form'   => $editForm->createView(),
        'delete_form' => $deleteForm->createView(),
    );
}

/**
 * Deletes a Ip entity.
 *
 * @Route("/{id}/delete", name="ip_delete")
 * @Method("post")
 */
public function deleteAction($id)
{
    $form = $this->createDeleteForm($id);
    $request = $this->getRequest();

    $form->bindRequest($request);

    if ($form->isValid()) {
        $em = $this->getDoctrine()->getEntityManager();
        $entity = $em->getRepository('ISClearanceBundle:Ip')->find($id);

        if (!$entity) {
            throw $this->createNotFoundException('Unable to find Ip entity.'                                                                            );
        }

        $em->remove($entity);
        $em->flush();
    }

    return $this->redirect($this->generateUrl('ip'));
}

private function createDeleteForm($id)
{
    return $this->createFormBuilder(array('id' => $id))
        ->add('id', 'hidden')
        ->getForm()
    ;
}
} 
```

这里的表格：

```
 <?php

 namespace IS\ClearanceBundle\Form;

 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\FormBuilder;

 class IpType extends AbstractType
 {
 public function buildForm(FormBuilder $builder, array $options)
 {
    $builder
        ->add('ip')
        ->add('high')
        ->add('hoster')
        ->add('scandate')
        ->add('clearance','entity', array('class'=>'IS\ClearanceBundle\Entity\Clearance', 'property'=>'id','required'=>false, 'multiple'=>true))
    ;
}

public function getName()
{
    return 'is_clearancebundle_iptype';
}
} 
```

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T08:46:40.587

IMO 如果你想这样做，你应该使用数据转换器[http://symfony.com/doc/current/cookbook/form/data_transformers.html](http://symfony.com/doc/current/cookbook/form/data_transformers.html)并为你的实体 IP 实现 __toString。

编辑：

在 gist 创建示例：[https ://gist.github.com/3086241](https://gist.github.com/3086241)

# multithreading - 在线程内更新会话

> ID：11409557
> 
> 赞同：1
> 
> 时间：2012-07-10T08:38:37.967
> 
> 标签：multithreading, hibernate

当我尝试刷新线程中的会话时，它没有被刷新。关闭会话并重新打开会话后，对象被正确刷新。为什么会这样？请帮帮我。

# stored-procedures - 如何在正在执行的存储过程中获取所有参数名称及其值

> ID：11409558
> 
> 赞同：0
> 
> 时间：2012-07-10T08:38:44.867
> 
> 标签：stored-procedures, parameters, sql-server-2012

我正在使用 SQL Server 2012，是否有任何可能的方法来获取存储过程的所有参数以及传递给它的值？

我需要这些东西来构建一个 xml。我的意思是这应该发生在正在执行的程序中，并且应该对所有程序都是通用的。

例如，让我们假设我们有程序，

1.  `uspSave, @name='test' @age=20`
2.  `uspDelete @id=2`

现在在`uspSave`程序中，我需要得到`@name, @age`值'test'，20和in `uspDelete`，我应该得到`@id`值2。

为了获取列名，我尝试了这个，

```
select parameter_name 
from information_schema.PARAMETERS 
where specific_name = OBJECT_NAME(@@procid) 
```

现在是否可以遍历上述查询的结果并且我们可以获得值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T11:57:04.667

我认为你最好的选择是使用一些代码生成来生成你需要的代码块。

IE

*   在没有代码的情况下创建您的 sproc 以 XML 化参数
*   敲出一个快速脚本（可以在 TSQL 中完成），然后使用 INFORMATION_SCHEMA.PARAMETERS 构造 TSQL 的 sproc 特定块以将参数转换为 XML
*   将那段自动生成的脚本复制到您的存储过程中

由于范围的原因，您使用动态 sql 的思考方式不起作用 - 在动态生成的 SQL 中无法访问参数，您需要通过 sp_executesql 将它们作为 args 传递，这会让您回到第 1 格。

例如

```
DECLARE @someval int = 7
EXECUTE('SELECT @someval') -- @someval is not in scope 
```

因此，如果它有助于节省时间，那么代码生成看起来是您最好的选择。

# android - android：如何在没有 layout.xml 的情况下插入底部对齐的视图？

> ID：11409559
> 
> 赞同：1
> 
> 时间：2012-07-10T08:38:45.737
> 
> 标签：android

我想通过使用 addView 方法动态插入视图，就像这样。

```
TextView view = new TextView(this);
view.setText("foo");
ViewGroup parentView = (ViewGroup) findViewById(R.id.main_layout);
parentView.addView(view); 
```

如何对齐底部插入的视图？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:00:16.913

试试这个你会得到结果：

```
 RelativeLayout parent = (RelativeLayout) findViewById(R.id.llayout);
        TextView textView = new TextView(this);
        textView.setText("foo");
    RelativeLayout.LayoutParams params= new RelativeLayout.LayoutParams(
            ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);
    params.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, textView.getId());
    textView.setLayoutParams(params);

    parent.addView(textView); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:17:32.767

Below code will align textview with bottom

```
 TextView view = new TextView(this);
   view.setText("foo");

   RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(
           ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);
   params.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, view.getId());

   view.setLayoutParams(params);
   ViewGroup parentView = (ViewGroup) findViewById(R.id.viewgroup);
   parentView.addView(view); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T08:59:33.913

也许您可以尝试使用 a`RelativeLayout`而不是 a `ViewGroup`，如下所示：

```
 RelativeLayout parent = (RelativeLayout) findViewById(R.id.layout_parent);
    TextView tv = new TextView(this);
    tv.setText("foo");

    RelativeLayout.LayoutParams lp= new RelativeLayout.LayoutParams(
            ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);
    lp.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, tv.getId());
    tv.setLayoutParams(lp);

    parent.addView(tv); 
```

# c# - Facebook 等即时通知

> ID：11409563
> 
> 赞同：18
> 
> 时间：2012-07-10T08:38:59.453
> 
> 标签：c#, asp.net

我正在构建一个社交应用程序，并且想知道 facebook 如何实现他们的通知。如您所知，Facebook 通知是即时的。一旦有人采取行动，就会通知人们。

我假设他们没有一直在数据库上运行查询。

有人可以指出我正确的方向。谢谢

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-07-10T09:16:53.353

由于您的问题是用 C#、ASP.NET 标记的，因此您应该使用很棒的`SignalR`库。基本上`SignalR`使您能够向客户端发送推送通知。它使用哪种确切的底层技术受服务器和客户端功能的影响。

有一个名为 jabbR 的大型实时聊天网站，它建立在`SignalR`：

[http://jabbr.net/](http://jabbr.net/)

这里还有一些可以帮助您入门的链接。

*   项目网站：[http ://signalr.net/](http://signalr.net/)
*   托管代码（开源）：[https ://github.com/SignalR/SignalR](https://github.com/SignalR/SignalR)
*   维基：[https ://github.com/SignalR/SignalR/wiki](https://github.com/SignalR/SignalR/wiki)
*   使用它的项目：[https ://github.com/SignalR/SignalR/wiki/Projects-Using-SignalR](https://github.com/SignalR/SignalR/wiki/Projects-Using-SignalR)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-10T08:43:41.943

[Facebook 使用名为Thrift](http://thrift.apache.org/)的消息传递协议（由它设计）。这允许从客户端到服务器的通知具有非常低的延迟。我想服务器上的更新将根据用户操作触发，并且登录的相关用户将通过相同的机制得到通知。

使用诸如 thrift 之类的消息传递协议（另见[协议缓冲区](http://code.google.com/p/protobuf/)）客户端不必轮询服务器以获取更新，而是服务器可以将通知推送到客户端。为此，服务器需要知道谁在任何时候登录（登录、注销握手）以及谁应该从特定客户端操作接收通知。

说起来容易做起来难，尤其是当您有 8 亿潜在用户登录时！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T10:32:43.967

您可能想看看[http://nodejs.org/](http://nodejs.org/) - 它是一个事件驱动模型，非常适合“社交网络”/即时通知场景。

仅供参考：您还可能会发现使用非 SQL 数据库（例如 MongoDB（http://www.mongodb.org/））从数据库查询时会快很多，因为社交网络场景中的每个“人”对象都有他/她自己的独特属性——在普通的 SQL 数据库中很难设计。

# android - 处理 onTouch 内部的拖动和触摸

> ID：11409564
> 
> 赞同：0
> 
> 时间：2012-07-10T08:39:01.757
> 
> 标签：android

如何在android中区分触摸和拖动...我想创建一个列表视图，人们可以在其中拖放列表项，这也不需要使用句柄...我尝试过但失败的是..

```
case MotionEvent.ACTION_DOWN:
mIsClickX   =   x;
mIsClickY   =   y;

and 

case MotionEvent.ACTION_UP:
if(x == mIsClickX &&y == mIsClickY){
    return super.onTouchEvent(ev);
} 
```

哪个不起作用...在此先感谢您提供的所有宝贵建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:44:38.750

我想你可以试试这个。

拖动手势在第一根手指按下屏幕时开始 (ACTION_DOWN)，并在移除时结束 (ACTION_UP 或 ACTION_POINTER_UP)。

检查[这个](https://stackoverflow.com/a/11391358/1265724)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:43:15.660

MotionEvent.ACTION_MOVE，您也可以查看：
1- [http://www.zdnet.com/blog/burnette/how-to-use-multi-touch-in-android-2/1747](http://www.zdnet.com/blog/burnette/how-to-use-multi-touch-in-android-2/1747)
2- [Android 列表视图拖放种类](https://stackoverflow.com/questions/2909311/android-list-view-drag-and-drop-sort)

# javascript - 根据 div 大小重复图像

> ID：11409567
> 
> 赞同：0
> 
> 时间：2012-07-10T08:39:16.390
> 
> 标签：javascript, jquery, css

我一直在开发一个需要跨浏览器兼容性的网站（包括早期的 IE），并且我有一个使用渐变的侧边栏，但结果证明使用设置的背景图像要容易一百万倍，我有图像通过基于主容器的高度来正确重复，但我想做同样的宽度。

我知道如何根据其他人的大小来拉伸 div，但我想知道如何有一个条件语句来重复图像 y 直到 div 结束，这样它就不会只是移动设置的图像！

我正在使用以下方法实现基于高度的重复：

```
<script type="text/javascript">

var theHeight = $('#Container').height() - 260;
$('#SecondaryContent').css('min-height', theHeight);

</script> 
```

我正在尝试使用此代码：

```
<script type="text/javascript">

var divWidth = $('#SecondaryContent').width() + 1;

if (divWidth.width() > 200) {
    alert('hello');
 $('#SecondaryContent').css('background', 'url(../images/background_slice.png)', 'repeat-x 18% 0%');
}

</script> 
```

但是，它似乎无法在 div 中找到任何内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-16T08:40:00.893

Just thought I would update that I managed to get this working using this:

```
<script type="text/javascript">

$(document).ready(function () {
    divExpander();
    divLineExpander();
    divWindowLineExpander();
})

function divExpander() {
    var theHeight = $('#Container').height() - 260;
$('#SecondaryContent').css('min-height', theHeight);
}

    function divLineExpander() {
        var theWidth = $('#SecondaryContent').width() + 2;
        $('#Navigation').css('min-width', theWidth);
    }

$(window).bind("resize", divWindowLineExpander);
function divWindowLineExpander(e) {
    var theLineWidth = $('#SecondaryContent').width() + 1;
    $('#Navigation').css('min-width', theLineWidth);
    }

 </script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:52:43.623

这些 CSS 可能会有所帮助

```
background-repeat: repeat; // repeats x and y
background-repeat: repeat-x; // repeats x
background-repeat: repeat-y; // repeats y 
```

# blackberry - 如何检查黑莓设备是否连接到互联网？

> ID：11409568
> 
> 赞同：1
> 
> 时间：2012-07-10T08:39:19.437
> 
> 标签：blackberry, internet-connection

在`Android`，检查互联网连接是这样的。

```
public boolean isOnline() {
    ConnectivityManager cm = (ConnectivityManager) activity
            .getSystemService(Context.CONNECTIVITY_SERVICE);
    NetworkInfo netInfo = cm.getActiveNetworkInfo();

    if (netInfo != null && netInfo.isConnectedOrConnecting()) {
        return true;
    }
    return false;
} 
```

黑莓RIM怎么样？

p/s*：我不是要求检查连接类型或可用连接。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T12:51:58.707

例如，仅检查 BIS 覆盖范围：

```
boolean hasConnectivity = TransportInfo.isTransportTypeAvailable(TransportInfo.TRANSPORT_BIS_B) && TransportInfo.hasSufficientCoverage(TransportInfo.TRANSPORT_BIS_B); 
```

您在课堂上有更多`TransportInfo`用于 Wi-Fi、BES (MDS) 和直接 TCP 的标志。因此，检查互联网连接的方法将检查所有可用的传输类型。

# logback - Logback：“在类路径上找不到 Janino 库”

> ID：11409571
> 
> 赞同：20
> 
> 时间：2012-07-10T08:39:23.247
> 
> 标签：logback, janino

我收到错误消息`Could not find Janino library on the class path. Skipping conditional processing.`我应该在类路径中包含什么来解决这个问题（lib 和版本）？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-04-09T19:18:03.290

Logback[需要 Janino 库](http://logback.qos.ch/setup.html#janino)来进行条件日志记录。如果您不使用配置文件中的结构，则不需要它。

如果您使用条件，则需要添加 Janino 依赖项。您可以将其添加到您的 pom.xml 文件中以获取依赖项：

```
 <!-- The org.codehaus.janino:commons-compiler:2.6.1 dependency -->
    <!-- will be automatically pulled in by Maven's transitivity rules -->
    <dependency>
        <groupId>org.codehaus.janino</groupId>
        <artifactId>janino</artifactId>
        <version>2.6.1</version>
    </dependency> 
```

我相信这个问题是这个问题的[副本](https://stackoverflow.com/questions/11017148/logback-conditional-logging)。

# google-app-engine - 使用可选属性在 AppEngine 中搜索实体

> ID：11409572
> 
> 赞同：0
> 
> 时间：2012-07-10T08:39:25.257
> 
> 标签：google-app-engine, jpa, google-cloud-datastore

我在 Google App Engine 中使用 JPA。

我有一个具有许多属性的个人资料实体（例如，从名字到爱好）。我允许用户搜索配置文件实体。搜索属性是可选的。如果用户没有为属性输入值，则在查询中将其排除。因此，搜索中提供的属性的不同组合也会有不同的查询。

查询中的条件是动态的，它取决于用户搜索时提供的属性。我在下面为所有属性提供了一些东西。

```
if( ! profile.getLocation().equals("") )
    condition += " AND p.location = '" + profile.getLocation() + "' "; 
```

问题是它需要大量的索引。对此的另一种方法是什么？

我认为它需要数百个索引来提供不同的属性组合。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T11:04:54.900

您必须使用像[Solr](http://lucene.apache.org/solr/)这样的第三方服务器或使用新的（但实验性的）[搜索 API](https://developers.google.com/appengine/docs/java/search/)

# html - chrome 浏览器中动态 JS 中的文本在旋转时闪烁

> ID：11409574
> 
> 赞同：0
> 
> 时间：2012-07-10T08:39:29.380
> 
> 标签：html, html5-canvas, kineticjs

我正在尝试在单击事件上旋转文本。它已经实现，但在谷歌浏览器中旋转时文本闪烁。它在 Mozilla 中运行良好。如何停止这种闪烁的文本。我不想减慢旋转速度并希望以相同的速度旋转，所以我不想改变过渡的持续时间。请帮忙。代码是

```
<html>
  <head>
    <style>
      body { margin: 0px; padding: 0px; }
      canvas { border: 1px solid #9C9898; }
    </style>
    <script src="http://www.html5canvastutorials.com/libraries/kinetic-v3.10.2.js"></script>
    <script>
    window.onload = function() 
    {
        var angle = 0;
        var stage = new Kinetic.Stage(
        {
          container: "container",
          width: 578,
          height: 200
        });
        var layer = new Kinetic.Layer();
        var text = new Kinetic.Text(
        {
          x:225,
          y: 80,
          text: "Simple",
          fontSize: 12,
          fontFamily: "Calibri",
          textFill: "black"
        });         
        text.on("click", function() 
        {
            angle+=1
            text.transitionTo(
            {
               rotation:Math.PI*angle/2,
               duration:1                   
            });
         });
         layer.add(text);
         stage.add(layer);
    }
  </script>
 </head>
 <body>
    <div id="container"></div>
 </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:35:22.290

Check your chrome Canvas settings in chrome://flags

Ensure that "GPU compositing on all pages" is disabled
Ensure that "Enable accelerated CSS animations" is disabled

# php - Youtube API 订阅者计数未更新

> ID：11409576
> 
> 赞同：1
> 
> 时间：2012-07-10T08:39:54.543
> 
> 标签：php, youtube, youtube-api

我已经通过视频解释了这个问题，请在此处观看视频：

[关于 Youtube API 的奇怪问题](http://www.youtube.com/watch?v=Q9YaNxJIK8I)

我对 youtube API 有一个奇怪的问题。例如

```
http://gdata.youtube.com/feeds/api/users/tryingtobesikh 
```

上面的 api 返回订阅者数量。但是当有人订阅时，它不会在刷新后立即更新。但奇怪的是，当我一次按两次 f5(refresh) 时它会更新。不知道是什么问题，可能是缓存问题？我正在编写一个脚本，我需要检查是否有人立即订阅。如果用户订阅了，则执行此操作，如果没有执行其他操作。所以我需要即时订阅者数量的变化。任何类型的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:29:17.850

YouTube API 官方文档确实指出，数据更新可能会有延迟： [http](http://code.google.com/apis/youtube/2.0/reference.html#Overview) ://code.google.com/apis/youtube/2.0/reference.html#Overview ：

> 上传完成后，通常会在 30 分钟到 2 小时内更新统计信息，例如视频的观看次数或视频可用评论的数量。但是，在 API 服务器负载较重的情况下，此延迟可能会更长。
> 
> 在持续的基础上，视频的统计信息通常每 30 分钟到两个小时更新一次。但是，在服务器负载较重或观看频率非常低的视频下，更新可能会不太频繁。在搜索提要中，对于不常观看的视频，评分和观看次数的更新可能需要长达几周的时间。

附带说明；我自己只使用过一次 YouTube API，但正如您所说，您需要检查用户是否订阅了另一个用户，也许您可​​以尝试查看活动提要 API？因为这包含有关最近订阅的信息：

[https://developers.google.com/youtube/2.0/developers_guide_protocol_activity_feeds](https://developers.google.com/youtube/2.0/developers_guide_protocol_activity_feeds)

# c# - 使用 ScriptManager.RegisterClientScriptBlock 注册 javascript 函数

> ID：11409578
> 
> 赞同：1
> 
> 时间：2012-07-10T08:39:57.373
> 
> 标签：c#, asp.net

我在页面加载时注册了以下脚本：

```
 ScriptManager.RegisterClientScriptBlock(this, this.GetType(), "watermark", "function WaterMark(txtWaterMark, event,text) { if (txtWaterMark.value.length > 0 && event.type == 'mouseover') {txtWaterMark.style.color = '#c6c1c1'; if(txtWaterMark.value == text) {txtWaterMark.value = text;} } if (txtWaterMark.value.length > 0 && event.type == 'mouseout') {txtWaterMark.style.color = 'gray';if (txtWaterMark.value.length == 0){txtWaterMark.value = text;} } if (event.type == 'focus' ) {alert(txtWaterMark.value); if(txtWaterMark.value == text){txtWaterMark.value = '';} } }", true); 
```

我可以在 aspx 中创建此函数并在 cs 中注册吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:43:52.083

要回答您的问题，是的，您可以在外部`js`文件中编写脚本代码并将其注册在您的`ScriptManager`控制范围内：

```
 <asp:ScriptManager runat="server" ID="ss" >
        <Scripts>
            <asp:ScriptReference Path="~/Scripts/yourscript.js" />
        </Scripts>
    </asp:ScriptManager> 
```

但在这种情况下你不需要，我只是复制了你的代码，它可以工作，尝试像这样注册它：

```
<script type="text/javascript">
    function WaterMark(txtWaterMark, event, text) {
        if (txtWaterMark.value.length > 0 && event.type == 'mouseover') {
            txtWaterMark.style.color = '#c6c1c1';
            if (txtWaterMark.value == text) {
                txtWaterMark.value = text;
            }
        }
        if (txtWaterMark.value.length > 0 && event.type == 'mouseout') { 
        txtWaterMark.style.color = 'gray'; if (txtWaterMark.value.length == 0) { txtWaterMark.value = text; } }if (event.type == 'focus') { alert(txtWaterMark.value); if (txtWaterMark.value == text) {txtWaterMark.value = ''; } } 
    }
</script>

    <asp:ScriptManager runat="server" ID="ss" />
<asp:UpdatePanel ID="UpdatePanel1" runat="server"> 
    <ContentTemplate> 
        <asp:TextBox 
            ID="txtFirstName" 
            runat="server" 
            Width="165px" 
            Text="Enter First Name." 
            ForeColor="Gray" 
            onmouseover="WaterMark(this, event,'Enter First Name.');" 
            onmouseout="WaterMark(this, event,'Enter First Name.');" 
            onfocus="WaterMark(this, event,'Enter First Name.');" 
            ToolTip="Type your First Name." 
            ValidationGroup="CheckoutConfirm">
        </asp:TextBox> 
    </ContentTemplate> 
</asp:UpdatePanel> 
```

这是我得到的输出：

![在此处输入图像描述](../Images/03af7be3fae6802da5f758a69a71d079.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:48:02.650

是的，你可以这样做

```
 ScriptManager.RegisterClientScriptBlock(this.GetType(), "watermark", "<script>WaterMark('watermark',event,'text')</script>");

<script>
function WaterMark(txtWaterMark, event,text) { if (txtWaterMark.value.length > 0 && event.type == 'mouseover') {txtWaterMark.style.color = '#c6c1c1'; if(txtWaterMark.value == text) {txtWaterMark.value = text;} } if (txtWaterMark.value.length > 0 && event.type == 'mouseout') {txtWaterMark.style.color = 'gray';if (txtWaterMark.value.length == 0){txtWaterMark.value = text;} } if (event.type == 'focus' ) {alert(txtWaterMark.value); if(txtWaterMark.value == text){txtWaterMark.value = '';} } }
<script> 
```

# c# - 无需安装即可在网络驱动器上运行的点网应用程序

> ID：11409580
> 
> 赞同：1
> 
> 时间：2012-07-10T08:40:12.100
> 
> 标签：c#, .net, vbscript

我有一个修改用户文件夹中文件的 vb 脚本我想将其更改为 .net 应用程序问题是应用程序必须在网络驱动器上运行。

我如何在网络驱动器上部署应用程序，是否可以在创建 exe 文件后将其安装在本地，然后将所有文件夹复制到网络驱动器，这可行吗？

也许有一个项目设置允许在没有安装过程的情况下创建 exe？

我希望我说清楚了。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:49:19.903

您可以，但您需要：让您的 Intranet 中的所有计算机都安装了正确的 .NET 框架，并通过以下方式在每台计算机上“信任”您的网络位置：

```
Control Panel->Administrative Tools->.NET Framework Configuration ?.?->Runtime Security Policy->Adjust Zone Security 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:50:27.180

简短的回答是是的，理论上它应该可以工作，但实际上它并不容易做到，你可以像[这里描述](http://support.microsoft.com/kb/832742)的受信任区域遇到一些困难，对于 .net4 被取消

我在处理此类问题时也遇到了这个[错误](http://connect.microsoft.com/VisualStudio/feedback/details/559615/starting-application-from-network-share-and-access-config-section-fails)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T09:08:30.790

我最喜欢的方法是通过组策略。

首先，您需要确保您的应用程序可以跨不同的操作系统运行。[Spoon Virtual Application Studio](http://spoon.net/studio/)是一个完美的解决方案，它甚至可以生成一个 MSI，这样您就可以[设置组策略选项](http://www.windowsnetworking.com/articles_tutorials/group-policy-deploy-applications.html)并进行部署。

*或者*，您可以自己将脚本转换为 exe，然后再转换为 MSI，有许多可用的程序，例如[VB2EXE](http://www.abyssmedia.com/vbstoexe.shtml)，如果您需要应用程序具有更多功能，您也可以自己用 C++ 编写，您只需要如果您不希望人们看到脚本，请在应用程序中调用您的 vbscript，甚至将其嵌入到应用程序中。然后您可以使用免费的 exe 到 msi 转换器来完成这项工作。

[您可以在此处](http://www.techrepublic.com/article/preparing-to-deploy-applications-using-group-policies/5031359)找到一篇关于如何使用组策略部署应用程序的好文章。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-10T08:41:46.177

我认为您最好使用 ClickOnce 设置，因为当您拥有较新版本时，您的所有客户端也会自动更新

# python - matplotlib 不生成 PS 输出

> ID：11409584
> 
> 赞同：1
> 
> 时间：2012-07-10T08:40:28.813
> 
> 标签：python, numpy, matplotlib, ipython

我已经安装了 matplotlib 并使用 ipython 我将后端更改为“PS”，因为其他后端无法正常工作

现在当我做

```
In [1]: plot([1,2,3],[4,5,6])
Out[1]: [<matplotlib.lines.Line2D at 0x23dc110>]

In [2]: show() 
```

没有输出我的意思是应该生成一个'.ps'文件对吗？（如果我错了请纠正我）但是我的密码中没有这样的文件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:09:17.413

该`show()`命令将在屏幕上显示图像，而不是将其输出到工作目录中的文件。由于您已指定“PS”是您的后端，因此不会出现任何内容，也不会保存任何内容。尝试替代`savefig("foo.ps")`或什至`savefig("foo")`，因为您的默认值是 PS，您不需要指定扩展名。它将自动输出为 .ps。

# html - 子 div 100% 高度到父自动高度

> ID：11409586
> 
> 赞同：18
> 
> 时间：2012-07-10T08:40:33.370
> 
> 标签：html, css

我在这里是因为其他类似的问题对我的特定问题没有帮助。

我需要`right div`一直保持 100% 的高度，`parent`高度取决于`left div`高度，高度取决于内部的内容。

这是html：

```
<div class="container clearfix">
<div class="left"></div>
<div class="right"></div>
</div> 
```

这是CSS：

```
.container{
    min-height: 10px;
    width: auto;
    height: auto;
    background-color: #eeeeee;
}

.left{
    position: relative;
    float: left;
    min-height: 100px;
    width: 50px;
    background-color: #dddddd;
}

.right{   
    min-height: 20px;
    position: relative;
    float: left;
    height: 100%;
    width: 50px;
    background-color: #dddddd;
}

.

.clearfix:after
{
    content: ".";
    display: block;
    clear: both;
    visibility: hidden;
    line-height: 0;
    height: 0;
}
.clearfix {
    display: inline-block;
} 
```

​注：
我正在使用`clearfix`.
如果你能在`jsfiddle`

这是 jsFiddle [http://jsfiddle.net/C9Kmx/32/](http://jsfiddle.net/C9Kmx/32/)

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-07-10T08:46:37.233

制作正确的 div`position:absolute;`并制作父 div `position:relative;`，然后`height:100%;`将适用于正确的 div。确保您还相应地调整了它的 x 位置和宽度。在这个例子中，我给它一个`left:50px`以确保它出现在左列的右侧。

**JSFiddle** [http://jsfiddle.net/e9mvD/](http://jsfiddle.net/e9mvD/)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-12-28T22:38:52.220

您可以使用 flexbox 和一些创意来完成此操作。

```
.container {
  display: flex;
  background: black;
  padding: 5px;
  width: 300px
}

.left {
  height: 200px;
  flex: 1 0 0px;
  background: blue;
}

.right {
  flex: 1 0 0px;
  overflow: auto;
  background: green;
}

.column {
  display: flex;
  flex-direction: column;
  width: 20%;
}
```

```
<div class="container">
  <div class="left"></div>
  <div class="column">
    <div class="right"></div>
  </div>
</div>
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-10T08:48:09.467

您可以在此布局中使用`table-cell`该属性的值并删除以下内容：`display``float`

```
.left, .right{
    display:table-cell;
} 
```

现场演示[http://jsfiddle.net/C9Kmx/34/](http://jsfiddle.net/C9Kmx/34/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-10T08:46:11.493

给`position:fixed`和`height:100%`正确的 div。这将解决您的问题。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-14T15:47:11.563

通过阅读您对其他解决方案的评论，我很清楚，您唯一的解决方案就是在您的代码中实现一些 JS。然而，这不是问题。

[http://jsfiddle.net/b7TuP/](http://jsfiddle.net/b7TuP/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-09-01T15:17:45.297

```
.parent{
    position: relative;
    width: 100px;
    height: auto;
}
.child{
    width: 50px;
    height: 100px;
    background-color: red;
}
.child_absolute{
    position: absolute;
    left: 50px;
    top: 0;
    bottom: 0;
    width: 50px;
    background-color: blue;
}
```

```
<div class="parent">
    <div class="child"></div>
    <div class="child_absolute"></div>
</div>
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-07-10T08:55:42.950

尝试给容器的高度一个固定值

这也将解决问题。刚刚在 jsFiddle 中尝试过

[http://jsfiddle.net/C9Kmx/35/](http://jsfiddle.net/C9Kmx/35/)

```
.container
{
    min-height: 10px;
    width: auto;
    height: 100px;
    background-color: #eeeeee;
} 
```

# c# - 有字典吗 没有唯一键？

> ID：11409587
> 
> 赞同：29
> 
> 时间：2012-07-10T08:40:35.087
> 
> 标签：c#, .net

> **可能重复：**
> [.NET 字典中的重复键？](https://stackoverflow.com/questions/146204/duplicate-keys-in-net-dictionaries)

我需要创建一个`Collection<string,object>`，一个是字符串，另一个是对象。我不能使用字典，因为没有一个项目是唯一的。

有什么方法可以创建`List<T,T>`吗？因为我不想创建一个对象来保存两个值，只是为了在单个 foreach 循环中使用它。

谢谢

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-07-10T08:43:03.820

试试`List<Tuple<string, object>>`。然后，您可以通过列表获得通常的 linq 支持以获取每个`Tuple<string, object>`.

该类从 .NET 4 开始可用，但您可以轻松模仿自己的元组[`Tuple<,>`类型](http://msdn.microsoft.com/en-us/library/dd268536)，而无需太多麻烦。

我认为元组根据它们的项目值被认为是相等的，但是`object`这可能是引用相等，因此不应该是相等的......如果这有任何意义！

更多关于平等的信息：

[令人惊讶的元组（不）等式](https://stackoverflow.com/questions/5069702/surprising-tuple-inequality)

**更新：**

如果您需要将项目列表与键关联以进行查找，则重复的问题答案会正确突出显示[`Lookup`](http://msdn.microsoft.com/en-us/library/bb460184.aspx)类（在您的情况下为`Lookup<string, object>`），这将比`List<Tuple<string, object>>`.

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-07-10T08:43:30.827

您可以使用

```
List<KeyValuePair<string,object>> 
```

或者

```
Dictionary<string,List<object>> 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-10T08:43:56.393

也许您可以使用[Tuple](http://msdn.microsoft.com/en-us/library/system.tuple.aspx)类创建一个元组列表？像这样：

```
List<Tuple<String, Object>> list = new List<Tuple<String, Object>>(); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-07-10T08:43:21.620

尝试创建您的自定义类并使用它

```
 class KeyValue<Tkey,TValue>
    {
       public Tkey Key {get;set;}
       public TValue Value {get;set;}
    } 
```

使用喜欢

```
List<KeyValue<string,string>> list = new List<KeyValue<string,string>>(); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-07-10T08:46:49.607

如果您使用的是 .NET 4，则可以使用 Tuple ( [http://msdn.microsoft.com/en-us/library/system.tuple.aspx](http://msdn.microsoft.com/en-us/library/system.tuple.aspx) ) 对象：

```
var list = new List<Tuple<string, object>>(); 
```

如果您使用的是 .NET 的早期版本，您可以自己实现 Tuple 类：[Equivalent of Tuple (.NET 4) for .NET Framework 3.5](https://stackoverflow.com/questions/7120845/equivalent-of-tuple-net-4-for-net-framework-3-5)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-10T08:45:31.413

您是否考虑过使用“分组依据”然后将分组结果转换为字典？

# c++ - 如何使用 STL 实现 LFU 缓存？

> ID：11409595
> 
> 赞同：10
> 
> 时间：2012-07-10T08:41:01.727
> 
> 标签：c++, algorithm, caching, stl

我正在尝试使用纯 STL 实现 LFU（最不常用）缓存（我不想使用 Boost！）。

要求是：

*   `Key`使用like with对任何元素进行关联访问`std::map`。
*   能够释放最低优先级的项目（使用其`UsesCount`属性）。
*   能够更新`UsesCount`任何项目的优先级 ( )。

问题是：

*   如果我`std::vector`用作项目的容器 ( `Key`, `Value`, `UsesCount`)，`std::map`用作向量的迭代器容器以进行关联访问`std::make_heap`，`std::push_heap`并且`std::pop_heap`用作向量内的优先级队列实现，则映射中的迭代器在堆操作后无效。
*   如果我在以前的配置中使用`std::list`(or `std::map`) 而不是等，则无法编译，因为它们的迭代器不支持算法。`std::vector``std::make_heap`
*   如果我想使用`std::priority_queue`，我无法更新项目优先级。

问题是：

*   我是否遗漏了一些明显的问题如何解决？
*   您能否以一些满足先前要求的 LFU 缓存的纯 C++/STL 实现为例？

感谢您的见解。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T08:51:59.323

您使用函数和向量的 make 实现`*_heap`似乎很合适。虽然它会导致更新缓慢。对于使用向量作为底层数据结构的每个容器，您遇到的有关迭代器失效的问题是正常的。这也是[boost::heap::priority_queue](http://www.boost.org/doc/libs/1_49_0/doc/html/boost/heap/priority_queue.html)采用的方法，但由于上述原因，它不提供可变接口。其他[boost::heap 数据结构](http://www.boost.org/doc/libs/1_50_0/doc/html/heap/data_structures.html)提供了更新堆的能力。

看起来有点奇怪：即使您能够使用`std::priority_queue`，您仍然会面临迭代器失效问题。

直接回答您的问题：您并没有遗漏一些明显的东西。`std::priority_queue`没有应有的用处。最好的方法是编写您自己的支持更新的堆实现。使其完全兼容 STL（尤其是分配器感知）相当棘手，而且不是一项简单的任务。最重要的是，实现 LFU 缓存。

第一步，查看 Boost 实现以了解工作量。我不知道第二个的任何参考实现。

要解决迭代器失效问题，您始终可以选择间接进入另一个容器，尽管您应该尽量避免它，因为它会产生额外的成本并且会变得非常混乱。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:33:55.607

比保留两个数据结构更简单的方法：

*   只需保留一张地图，它将您的密钥映射到它们的值/使用计数对。
*   当缓存已满时：
*   *   创建映射元素的迭代器向量 ( `O(n)`)
*   *   用于`std::nth_element`找出最差的 10% ( `O(n)`)
*   *   将它们全部从地图中删除 ( `O(n log n)`)

因此，向缓存中添加新元素是常见情况`O(log n)`、最坏情况`O(n log n)`和已摊销的情况`O(log n)`。

在 LFU 缓存中删除最差的 10% 可能有点过激，因为新条目必须进入前 90%，否则它们会被删除。再说一次，如果您只删除一个元素，那么新条目仍然需要在下一个新条目之前从底部下降，否则它们会被剪切，并且他们这样做的时间更少。因此，取决于为什么 LFU 是适合您的缓存策略，我对它的更改可能是错误的策略，或者它可能仍然没问题。

# php - 如何使用列表和数组来实例化类中的字段？

> ID：11409596
> 
> 赞同：0
> 
> 时间：2012-07-10T08:41:05.900
> 
> 标签：php, arrays, list

我想同时实例化我的 PHP 类的每个字段。到目前为止，我已经尝试使用`list`. 这是我下面的代码（不起作用）。任何帮助都会很乐意接受。

```
class Test {
  private $x;
  private $y;
  private $z;

  public function Test() {
    $fields = array($this->x, $this->y, $this->z);
    // I need $fields to be an array here.
    list($fields) = array(1, 2, 3); // It would work if $fields wasn't an array.
    echo 'x = ' . $this->x . '<br />y = ' . $this->y . '<br />z = ' . $this->z;
  }
}

new Test(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:43:27.313

```
list($this->x, $this->y, $this->z) = array(1, 2, 3); 
```

# java - 从过程 Oracle 写入由 java 管理的日志文件

> ID：11409599
> 
> 赞同：0
> 
> 时间：2012-07-10T08:41:17.750
> 
> 标签：java, oracle, logging

可以从程序 Oracle PL/SQL 写入由 java 管理的日志文件

例如：

> 如果它有必要的两条记录，它会在设备上更新或插入如果缺少一条记录，则会在日志文件中插入一条消息（'logs \ application \ Flux_JJ​​MMAAAA.log'）。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:55:21.857

可能这两个文档链接可能会有所帮助

[JDBC 中的可诊断性](http://docs.oracle.com/cd/B28359_01/java.111/b31224/diagnose.htm)

[文件处理程序](http://docs.oracle.com/javase/6/docs/api/java/util/logging/FileHandler.html)

# magento - 将客人订单链接到 magento 中的现有客户帐户

> ID：11409602
> 
> 赞同：5
> 
> 时间：2012-07-10T08:41:38.777
> 
> 标签：magento

我想将客人订单链接到 Magento 中的现有帐户。有人知道我必须更改哪些表上的哪些字段才能完成此操作吗？

有没有更简单的方法？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-08T17:58:26.683

这似乎也有效..

```
$order_id = 5;  // Your Order ID
$customer_id = 7;  //Customer ID

$_order = Mage::getModel('sales/order')->load($order_id);

if($_order->getCustomerId() == NULL){
    $_order->setCustomerId($customer_id);
    $_order->save();
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-10T09:59:37.980

如果您使用的是 Magento >= 1.4.1，则可以在数据库中运行它：

```
UPDATE sales_flat_order 
   SET customer_id = YOUR_CUSTOMER_ID_HERE 
WHERE entity_id = YOUR_ORDER_ID_HERE AND customer_id IS NULL 
```

您还需要升级“网格”表：

```
UPDATE sales_flat_order_grid 
    SET customer_id = YOUR_CUSTOMER_ID_HERE 
WHERE entity_id = YOUR_ORDER_ID_HERE AND customer_id IS NULL 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-07-08T11:05:59.983

由于从后端从 order 中获取 increment_id 比从 entity id 中获取更容易，我更喜欢使用以下两个查询：

```
UPDATE sales_flat_order 
  SET customer_id = YOUR_CUSTOMER_ID_HERE, customer_is_guest=0, customer_group_id = YOUR_CUSTOMER_GROUP_ID_HERE
  WHERE increment_id = YOUR_INCREMENT_ID_HERE AND customer_id IS NULL

UPDATE sales_flat_order_grid 
  SET customer_id = YOUR_CUSTOMER_ID_HERE, 
  WHERE increment_id = YOUR_INCREMENT_ID_HERE AND customer_id IS NULL 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-02-04T17:50:46.653

要扩展 RS 发布的内容：

如果您希望管理订单屏幕反映成员所在的组，则需要多几行：

```
$customer_id = xxxx;  //Customer ID
$order_increment_id = xxxxxxxxx; //Admin order increment id
$_order = Mage::getModel('sales/order')->loadByIncrementId($order_increment_id);

if($_order->getCustomerId() == NULL){
    $_order->setCustomerId($customer_id);
}

if($_order->getCustomerIsGuest() == "1"){
    $_order->setCustomerIsGuest(0);
}

if($_order->getCustomerGroupId() == "0"){
    $_order->setCustomerGroupId(1);
}

$_order->save(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-06T08:10:58.480

我正在使用 magento 1.9.0.1 并用于更改以下信息：
对于表**sales_flat_order**：
=> 将**customer_id**从 NULL 更改为**new customer_id**
=> **customer_is_guest**为**0**。

同样对于表**sales_flat_order_grid**：
=> 将**customer_id**从 NULL 更改为**新的 customer_id**

以下 2 个查询将完成这项工作：

```
UPDATE sales_flat_order 
  SET customer_id = (Your_Customer_ID), customer_is_guest=0 
  WHERE entity_id = Your_Order_ID_HERE AND customer_id IS NULL

UPDATE sales_flat_order_grid 
  SET customer_id = Your_Customer_ID 
  WHERE entity_id = Your_Order_ID AND customer_id IS NULL 
```

# asp.net-mvc - Visual Studio：禁用某些 Web 项目的 Web 开发服务器

> ID：11409604
> 
> 赞同：11
> 
> 时间：2012-07-10T08:41:42.817
> 
> 标签：asp.net-mvc, visual-studio, plugins, aspnet-development-server

我正在开发一个使用 ASP.NET MVC 并支持插件的 Web 平台。在这个平台中，每个插件都是 /Plugins 文件夹下的一个文件夹。例如，插件 A 的虚拟路径是 /Plugins/PluginA。

在开发中，一个插件就是一个独立的 asp.net mvc web 应用程序。使插件开发更容易。我在主项目（平台）所在的同一解决方案中创建插件项目。在运行时，平台将动态加载插件项目的 bin 文件夹中的程序集。

问题是，**每次我调试主项目时，Visual Studio 都会启动许多 Web 开发服务器**（主项目一个，每个插件项目一个）。

所以如果我有 20 个插件，Visual Studio 将启动 21 个开发服务器。它使我的电脑变慢。那么，如果有办法禁用插件项目的开发服务器，即让Visual Studio在调试时只启动一个开发服务器呢？

**顺便说一句：**我仍然需要插件项目中 Razor 视图的智能。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-07-24T17:02:43.190

单击您不想启动 Web 开发服务器的 Web 项目，按 F4 键打开属性选项卡，您将在其中找到“调试时始终启动”选项，您应该将其设置为 false。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-02T11:07:32.807

有一个[扩展工具](http://visualstudiogallery.msdn.microsoft.com/9ccbf2ee-52a4-4783-a41c-c7057335ce28)可以为选定的项目启用 Web 服务器

只需右键单击您的项目并选择“仅为选定项目启用 Web 服务器”。

还支持多选

# macos - 无法在 MAC OS X 上运行 symofny 2

> ID：11409611
> 
> 赞同：1
> 
> 时间：2012-07-10T08:42:13.537
> 
> 标签：macos, symfony, xampp

使用 MAC OS X Lion。最新版本 XAMPP。

我的问题：

```
Warning: require_once(/Users/test/workspace/Symfony/app/../vendor/symfony/src/Symfony/Component/Locale/Resources/stubs/functions.php) [function.require-once]: failed to open stream: No such file or directory in /Users/test/workspace/Symfony/app/autoload.php on line 25

Fatal error: require_once() [function.require]: Failed opening required '/Users/test/workspace/Symfony/app/../vendor/symfony/src/Symfony/Component/Locale/Resources/stubs/functions.php' (include_path='.:/Applications/XAMPP/xamppfiles/lib/php:/Applications/XAMPP/xamppfiles/lib/php/pear') in /Users/test/workspace/Symfony/app/autoload.php on line 25 
```

配置：XAMPP：

```
<VirtualHost *:80>
ServerName sym.tolisto.de
ServerAdmin webmaster@localhost

DocumentRoot /Users/test/workspace/Symfony/web
<Directory /Users/test/workspace/Symfony/web>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride None
    Order allow,deny
    allow from all
    <IfModule mod_rewrite.c>
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteRule ^(.*)$ /app.php [QSA,L]
    </IfModule>
</Directory> 
```

Symfony 1.4 有效。但是 Symfony2 不为什么？

使用 MAC OS X Lion。最新版本 XAMPP。

有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:55:59.233

首先运行 web/config.php 并检查 symfony2 框架是否一切正常

# parsing - 编写命令行参数解析器

> ID：11409612
> 
> 赞同：2
> 
> 时间：2012-07-10T08:42:25.423
> 
> 标签：parsing, language-agnostic, command-line-arguments

有许多众所周知的命令行参数解析器，例如 argp 或 C++ 的 boost::program_options 的一个子集。

例如，我最近尝试写一个让我解析 C++ 中的简单场景，如下所示：

```
int main (int argc, char *argv[]) {
    auto state = parse (argc, argv);
    const auto foo  = mandatory<int>            (state, {'f', "foo"});
    const auto bar  = optional_with_default<int>(state, {'b', "bar"}, 42);
    const auto frob = optional<std::string>     (state, {'F', "frob"});
    if (!frob) {
        ...
    }
} 
```

但很快发现解析与位置无关的标志并非易事（例如`-fgx`，将与 相同`-f -xg`），然后在混合中抛出具有值 args 的与位置无关的标志变得非常重要（例如`tar -xvzf frob.tar.gz`）。

只有经验主义才能使问题变得明显。例如，我没有找到任何关于此搜索的内容。

您知道有关该主题的任何好的资源吗？你自己的最佳实践是什么？

* * *

注意：尽管我命名了一些 C++ 示例，但这个问题应该与语言无关。我要求算法和一般建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T13:45:47.687

我认为，如果您正在编写一个没有声明性部分的命令行解析器（如示例中），并且允许对标志/短选项进行分组（`-xf`将与 相同`-x -f`），那么您必须以某种方式强制执行客户端的排序来电。

考虑例如（假设它是对 unix`tar`程序的有效调用）：

```
tar -vfxul.tar -x 
```

在这里，您有以下选项：

```
x
v
f=xul.tar 
```

如果您首先测试`x`标志（p 代码），

```
state = parse(argc, argv)
x_set = flag (state, 'x')
...
filename = mandatory (state, 'f' or "filename") 
```

你在回答这个问题时遇到了麻烦：哪个`x`？

```
tar -vfxul.tar -x
       ^        ^
       x?       x? 
```

因为解析器还不知道该`filename`选项，它可能会假设在 中`vfxul.tar`，每个单独的字符 ( `v`, `x`, `u`, ...) 都可能是要识别的标志。

所以我认为你现在最好的猜测（不诉诸简单的人工智能或一些复杂的启发式方法）就是第一次出现`x`.

我相信您应该禁止在解析带有值的短选项后解析任何标志选项：

```
state = parse(argc, argv)
x_set = flag (state, 'x')
...
filename = mandatory (state, 'f' or "filename") // THROW ERROR HERE! 
```

这迫使您进入一种情况，您必须将您的代码按特定顺序处理，这更加降低了此类库的适用性，因此这实际上仅适用于一个非常简单的情况解析器，其中您有一个非相互依赖的参数列表.

注意：您只需要在可以使用短选项或允许标志/短选项分组的情况下对解析进行重新排序。

* * *

### 来源

*   经验主义

# wiki - 最适合带有文件的内容管理 wiki ？

> ID：11409613
> 
> 赞同：0
> 
> 时间：2012-07-10T08:42:36.220
> 
> 标签：wiki

我正在寻找可以安装在本地计算机上并将 URL 共享给其他网络用户的最佳内容管理软件。

要求：1）需要添加大页面 - 超过100或1000，导航清晰2）需要在页面中为上传的文件提供链接

尝试过媒体维基，但它似乎不是那么好或容易修改

有人可以给我推荐一个最好的软件吗？

谢谢， 凯瑟尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:44:37.510

我已经轻松使用了以下和配置的媒体 wiki，没有任何麻烦

下载了以下内容：

1.  EasyPHP-12.0_with_PHP-5.4.4-setup
2.  mediawiki-1.19.1（例如：[http](http://www.mediawiki.org/wiki/Download) ://www.mediawiki.org/wiki/Download ）
3.  MySQL数据库5以上

EasyPHP的安装 1.点击EasyPHP-12.0_with_PHP-5.4.4-setup.exe 2.英文版 3.下一步 4.我接受协议 5.下一步 6.选择要安装的文件夹 7.下一步 8.​​安装 9.启动PHP

安装 MySQL，创建用户并为用户授予权限。

安装 MediaWiki：

1.  将下载的媒体 wiki 包“mediawiki-1.19.1”解压缩到一个文件夹。将 medi wiki 提取的文件夹复制到 www 文件夹（例如：D:\EasyPHP-12.0\www）
2.  转到您的浏览器并查看您的本地站点
3.  您可以在可移植文件下看到一个新链接“mediawiki-1.19.1”并单击相同
4.  它去设置维基
5.  您的语言和维基语言 - 英语
6.  继续
7.  继续
8.  数据库类型 - MySQL
9.  数据库名称 - 任何名称
    1.  数据库密码
    2.  下一个
    3.  Wiki 名称 - > OperativeOne
    4.  继续
    5.  安装 -> 继续
    6.  继续
    7.  将 LocalSettings.php 复制到 mediawiki 文件夹，例如：D:\EasyPHP-12.0\www\mediawiki-1.19.1

对于上传文件权限或启用文件上传：编辑 LocalSettings.php，例如：D:\EasyPHP-12.0\www\mediawiki-1.19.1 $wgEnableUploads = true;

要支持多种文件类型，您需要在 LocalSettings.php 中添加扩展名 $wgFileExtensions = array('pdf','png','jpg','jpeg','ogg','doc','xls',' ppt','mp3','sxc','nse','opt','zip','doc','ppt','pdf','jar','png','txt','opt' ,'odp','otp','.xls','.xlsx');

增加上传文件大小限制，如下添加 Easy Php 任务栏图标 -> 右键 -> 管理 -> PHP -> 更改 -> 配置文件（修改） -> 上传最大文件大小 upload_max_filesize = 2000M post_max_size = 2000M

使 wiki 只读 $wgReadOnly = 'Only Read Only Access';

为了让没有人应该创建一个新帐户 $wgGroupPermissions['*']['createaccount'] = false;

使访问者受限 $wgGroupPermissions[' *']['createaccount'] = false; $wgGroupPermissions['* ']['edit'] = false; $wgGroupPermissions[' *']['createpage'] = false; $wgGroupPermissions['* ']['createtalk'] = false; $wgGroupPermissions[' *']['writeapi'] = false; $wgGroupPermissions['* ']['read'] = true;

参考链接： [http](http://www.mediawiki.org/wiki/Manual:User_rights#Default_rights) ://www.mediawiki.org/wiki/Manual:User_rights#Default_rights http://www.howtogeek.com/67717/how-to-setup-your-own-powerful-wiki-on-your -Windows-PC/

# c# - 报告服务实例的 WMI 查询返回所有实例，而不考虑父 sql server 路径

> ID：11409614
> 
> 赞同：5
> 
> 时间：2012-07-10T08:42:36.997
> 
> 标签：c#, reporting-services, ssrs-2008, wmi

我们有一些代码来识别返回意外结果的 SQL Server 实例及其关联的 Reporting Server 实例。

一台机器有两个实例`SQL Express (2008) - (local)/SQLEXPRESS`和`(local)/EXPRESS_BOB`- 每个实例都有自己的报告服务器。

使用 WMI，我们识别 SQL Server 实例，这按预期工作。然后，对于每个实例，我们查询 RS 实例，如下所示：

```
public void QueryServers(string wmiPath)
{
    using (
        var searcher = new ManagementObjectSearcher(
           wmiPath, 
           "Select * from MSReportServer_ConfigurationSetting"))
    {
        ManagementObjectCollection moc = searcher.Get();
        //
        // Process objects in moc
        //
    }
} 
```

这是针对 wmiPath 的两个值运行的（注意 - 需要以管理员身份运行）：

> *   wmiPath = "root\Microsoft\SqlServer\ReportServer\RS_SQLEXPRESS\v10\Admin"
> *   wmiPath = "root\Microsoft\SqlServer\ReportServer\RS_EXPRESS_5fBOB\v10\Admin"

无论 的值如何`wmiPath`，`moc`集合始终包含*两个*值：

> *   *moc[0]* ["InstanceName"] = "SQLEXPRESS"
> *   *moc[1]* ["InstanceName"] = "EXPRESS_BOB"

指定 SQL Server 实例的 WMI 路径下的查询如何返回（我希望）存在于不同路径下的 Report Server 实例？

这是查询的正确路径吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:44:25.513

它似乎是设计使然（请参阅[http://msdn.microsoft.com/en-us/library/ms152836.aspx](http://msdn.microsoft.com/en-us/library/ms152836.aspx)）

添加`"Where InstanceName='<instance name>'"`到查询可能会有所帮助

# java - 使用 for 循环创建三角形

> ID：11409621
> 
> 赞同：9
> 
> 时间：2012-07-10T08:43:02.477
> 
> 标签：java, loops, for-loop, geometry

我似乎无法找到这个问题的答案-

我需要使用 for 循环绘制一个简单的三角形。

```
 *
   ***
  *****
 *******
********* 
```

我可以制作一个半三角形，但我不知道如何添加到我当前的循环中以形成一个完整的三角形。

```
*
**
***
****
***** 
```

```
for (int i = 0; i < 6; i++) {
    for (int j = 0; j < i; j++) {
        System.out.print("*");
    }
    System.out.println("");
} 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-07-10T09:20:44.447

一个有趣，简单的解决方案：

```
for (int i = 0; i < 5; i++) 
  System.out.println("    *********".substring(i, 5 + 2*i)); 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-07-10T08:52:29.690

首先，您需要确保生成正确数量的`*`符号。我们需要产生 1、3、5 等等而不是 1、2、3。这可以通过修改计数器变量来解决：

```
for (int i=1; i<10; i += 2)
{
    for (int j=0; j<i; j++)
    {
        System.out.print("*");
    }
    System.out.println("");
} 
```

正如您所看到的，只要它小于（即 , , , , ） ，这将导致在每一步`i`开始`1`并增加。这为我们提供了正确数量的符号。然后我们需要修复每行的缩进级别。这可以按如下方式完成：`2``10``1``3``5``7``9``*`

```
for (int i=1; i<10; i += 2)
{
    for (int k=0; k < (4 - i / 2); k++)
    {
        System.out.print(" ");
    }
    for (int j=0; j<i; j++)
    {
        System.out.print("*");
    }
    System.out.println("");
} 
```

在打印`*`符号之前，我们会打印一些空格，空格的数量取决于我们所在的行。这就是带有`k`变量的 for 循环的用途。我们可以看到`k`迭代值`4`, `3`, `2`,`1`和`0`什么时候`ì`是`1`, `3`, `5`,`7`和`9`。这就是我们想要的，因为我们在三角形中越高，我们需要放置的空间就越多。我们越往下三角形，我们需要的空间就越少，三角形的最后一行甚至根本不需要空间。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-21T12:43:47.273

我很欣赏 OP 对 Java 来说是新的，所以方法可能被认为是“高级的”，但是我认为值得使用这个问题来展示如何通过将问题分解成碎片来解决问题。

让我们考虑编写一个打印单行的方法，告诉方法它是哪一行：

```
public void printTriangleLine(int rowNumber) {
    // we have to work out what to put here
} 
```

我们必须打印一些空格，然后打印一些星星。

查看示例，我可以看到（如果第一行是 0）它是 (5-rowNumber) 空格和 (2*rowNumber + 1) 星。

让我们发明一种为我们打印字符行的方法，并使用它：

```
public void printTriangleLine(int rowNumber) {
    printSequence(" ", 5 - rowNumber);
    printSequence("*", 2 * rowNumber + 1);
    System.out.println(); 
} 
```

在我们真正编写 printSequence() 之前，它不会编译，所以让我们这样做：

```
public void printSequence(String s, int repeats) {
    for(int i=0; i<repeats; i++) {
        System.out.print(s);
    }
} 
```

现在您可以自己*测试*printSequence，也可以自己*测试*printTriangleLine。现在你可以通过直接调用这些方法来尝试一下`main()`

```
public static void main(String [] args) {
    printSequence("a",3);
    System.out.println();
    printTriangleLine(2);
} 
```

...运行它并验证（用你的眼睛）它输出：

```
aaa
   ***** 
```

当您深入编程时，您会想要使用像 jUnit 这样的*单元测试框架。*除了打印之外，您更有可能编写诸如 printTriangleLine 之类的东西来返回一个字符串（您将在程序中从更高层打印），并且您可以使用以下命令自动化您的测试：

```
assertEquals("   *****", TriangleDrawer.triangleLine(2));
assertEquals("     *", TriangleDrawer.triangleLine(0)) 
```

现在我们有了绘制三角形所需的部分。

```
public void drawTriangle() {
    for(int i=0; i<5; i++) {
        printTriangleLine(i);
    }
} 
```

我们编写的代码比其他人给出的答案要长一些。但是我们已经能够测试每个步骤，并且我们有可以在其他问题中再次使用的方法。在现实生活中，我们必须在将问题分解为太多方法或太少方法之间找到适当的平衡。我倾向于喜欢很多非常短的方法。

额外学分：

*   对此进行调整，以便这些方法不是打印到 System.out，而是返回一个字符串——所以在你的 main() 中你可以使用`System.out.print(drawTriangle())`
*   对此进行调整，以便您可以向 drawTriangle() 询问不同的尺寸——也就是说，您可以调用`drawTriangle(3)`或`drawTriangle(5)`
*   使其适用于更大的三角形。提示：您需要向 printTriangleLine() 添加一个新的“宽度”参数。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-06-12T02:07:08.170

首先想一个没有代码的解决方案。这个想法是打印奇数个*，逐行增加。然后使用空格将 * 居中。知道最后一行 * 的最大数量，将为您提供使第一个 * 居中的初始空格数。现在用代码编写它。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-07-10T08:51:12.443

作业问题？好吧，您可以修改原始的“直角三角形”代码以生成带有空格的倒置“直角三角形”所以就像

```
for(i=0; i<6; i++)
{
    for(j=6; j>=(6-i); j--)
    {
        print(" ");
    }
    for(x=0; x<=((2*i)+1); x++)
    {
        print("*");
    }
    print("\n");
} 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-07-11T10:19:40.567

用 Java 试试这个

```
for (int i = 6, k = 0; i > 0 && k < 6; i--, k++) {
    for (int j = 0; j < i; j++) {
        System.out.print(" ");
    }
    for (int j = 0; j < k; j++) {
        System.out.print("*");
    }
    for (int j = 1; j < k; j++) {
        System.out.print("*");
    }
    System.out.println();
} 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-07-10T08:51:36.383

```
 for (int i=0; i<6; i++)
  {
     for (int k=0; k<6-i; k++)
     {
        System.out.print(" ");
     }
     for (int j=0; j<i*2+1; j++)
     {
        System.out.print("*");
     }
     System.out.println("");
  } 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-11-17T10:14:28.093

这将回答你的问题。取消注释注释代码以仅显示外行:)

```
public class TrianglePattern {

    public static void main(String[] args) {
        // This logic will generate the triangle for given dimension
        int dim = 10;
        for (int i = 0; i < dim; i++) {
            for (int k = i; k < dim; k++) {
                System.out.print(" ");
            }
            for (int j = 0; j <= i; j++) {
                //if (i != dim - 1)
                //  if (j == 0 || j == i)
                //      System.out.print("*");
                //  else
                //      System.out.print(" ");
                //else
                    System.out.print("*");
                System.out.print(" ");
            }
            System.out.println("");
        }
    }
} 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2014-10-21T05:31:05.003

```
private static void printStar(int x) {
    int i, j;
    for (int y = 0; y < x; y++) { // number of row of '*'

        for (i = y; i < x - 1; i++)
            // number of space each row
            System.out.print(' ');

        for (j = 0; j < y * 2 + 1; j++)
            // number of '*' each row
            System.out.print('*');

        System.out.println();
    }
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-10-15T12:16:35.113

这让您有更多的控制权和更轻松的时间：

```
public static int biggestoddnum = 31;

public static void main(String[] args) {
    for (int i=1; i<biggestoddnum; i += 2)
    {
        for (int k=0; k < ((biggestoddnum / 2) - i / 2); k++)
        {
            System.out.print(" ");
        }
        for (int j=0; j<i; j++)
        {
            System.out.print("*");
        }
        System.out.println("");
    }
} 
```

只需将`public static int biggestoddnum`' 的值更改为您想要的任何奇数，并且 '`for(int k...)`已经过测试可以工作。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-03-29T12:22:32.530

`size-n`好吧，空间和`(2*(n+1)) -1`星星会有两个序列。干得好。

```
public static void main(String[] args) {
    String template = "***************************";
    int size = (template.length()/2);
    for(int n=0;n<size;n++){
        System.out.print(template.substring(0,size-n).replace('*',' '));
        System.out.println(template.substring(0,((2*(n+1)) -1)));
    }
} 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2019-11-30T13:48:53.943

试试这个

```
class piramid 
{
    public static void main(String[] args) 
    {
        //System.out.println("Hello World!");

    int max = 7; 
    int k=max/2;
    int j ; 
    printf("\n");
    printf("\n");
    printf("\n");
    printf("\n");
    for(i=k;i>0;i--){

          for(j=0;j<k+1;j++){

                if(i==j){

                       printf("*");

                }else if(j>i){
                      printf(" ");
                      printf("*");
                }else {
                      printf(" ");

                }

           }
            printf("\n");

    }

   }

} 
```

希望对你有帮助

# arrays - 定义为指针的指针数组的 Fortran 数组（ifort 11.1 中的错误？）

> ID：11409622
> 
> 赞同：1
> 
> 时间：2012-07-10T08:43:03.427
> 
> 标签：arrays, pointers, fortran, fortran90, intel-fortran

我有一个问题和一个问题（我认为它们是相关的）。

问题：我可以在 Fortran 90 中使用定义为指针的指针数组吗？

```
type string
  character, pointer :: str(:)
end type

type(string), pointer :: arr(:) 
```

问题：我有代码（见下文），ifort 11.1 在最后一次写入时给出了段错误。其他编译器，例如 gfortran 4.6.3、ifort 11.1.072、12.0.1 等，都可以正常工作

您可以将代码视为 Python 附加功能的模拟。

```
program test
implicit none

type string
  integer,   pointer :: key
  character, pointer :: str(:)
end type

type(string), pointer :: arr(:), tmp(:)

allocate(arr(1))
allocate(arr(1)%str(1))
arr(1)%str(1) = 'A'
write(6,*) arr(1)%str(1)

! --------------------

tmp => arr
write(6,*) tmp(1)%str(1)

! --------------------

nullify(arr)
allocate(arr(2))
arr(1)%str => tmp(1)%str
write(6,*) arr(1)%str(1)

end program 
```

预期结果是：

```
A
A
A 
```

ifort 11.1 在最后一行给出分段错误。现在奇怪的事情来了。如果您注释掉字符串类型中的整数声明，您也将使用 ifort 11.1 获得预期结果。

这是编译器问题还是我使用非标准 Fortran 90 结构？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:09:58.037

使用 Intel Fortran 13.0.something，您的代码可以毫无问题地编译和执行。结合您使用其他编译器和编译器版本的经验，这确实表明存在编译器错误，尽管现在已更正。

我不完全确定 Python append 函数的作用，但如果您正在寻找一种 Fortran 方法来制作其内容（和长度）可以动态更改的字符串，您应该认真考虑使用 Fortran 2003 自动分配功能。例如，您可以像这样定义一个字符串：

```
character(len=:), allocatable :: string1 
```

给它一个这样的值：

```
string1 = 'this is string 1' 
```

并给它另一个像这样的值：

```
string1 = 'this is' 
```

或者像这样

```
string1 = string1//' more text' 
```

观察完全没有分配大小`string1`或重新分配大小的语句。

# javascript - 另一个与 is() 类似的 JQuery 函数是什么？

> ID：11409631
> 
> 赞同：1
> 
> 时间：2012-07-10T08:43:32.010
> 
> 标签：javascript, jquery, html

`$target.is( "a.foo" )`将根据目标是否与 is() 中的内容匹配返回 true 或 false。

如果我想检查 is() 看到的内容怎么办？我使用什么功能？

我试图`alert($(target.is())`看看我是否能找出目标是什么，但我只是得到了错误的值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:46:34.503

你可以试试[`event.target`](http://api.jquery.com/event.target/)：

> 目标属性可以是为事件注册的元素或它的后代。将 event.target 与 this 进行比较通常很有用，以确定是否由于事件冒泡而正在处理事件。当事件冒泡时，此属性在事件委托中非常有用。

```
$('a').click(function(event){
     var $target = $(event.target);
     if( $target.is("a.foo") ) {
        ...
     }
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:49:28.897

你可以使用 is() 检查一些变量以返回一个函数；它与 hasClass 方法非常相似..

```
$('a').hover(function() {
  $target = $(this);
  if(!$target.hasClass('active')) {//or u can use is('#active') to check id
                             //to prevent same response on same object hover
     $('a').removeClass('active');
     $target.addClass('active');
     $('.allPages').hide();
     var getID = $target.attr('id');
     $('#'+getID).show();

  };
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T08:49:49.513

如果在对象上使用console.log，并且在$target 和a.foo 的选择器的typeof 上使用，这不是问题吗？

IE

```
console.log($('a.foo'));
console.log(typeof($('a.foo')));
console.log($target);
console.log(typeof($target)); 
```

我假设这是 .is() 将检查的内容，测试两个对象的值和类型，类似于 '===' 尽管我可能错了

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T09:02:34.383

对我来说，您似乎想知道是否找到了目标。他们这样做的方法：

```
if($target.length > 0){
    //found
} 
```

如果要获取节点名称，请执行以下操作：

```
$target.get(0).nodeName 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-10T08:46:14.303

我不确定我是否理解这个问题，但根据您的主题，这里有一个类似的 jQuery 函数`.hasClass()`。

```
$target.hasClass('foo'); // true if $target contains a className 'foo' 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-10T08:51:33.970

我想这可以帮助你

[http://api.jquery.com/jQuery.type/](http://api.jquery.com/jQuery.type/)

例子在这里：

```
jQuery.type(target); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-10T16:31:59.223

所有 jQuery 对象都在一个属性中维护它们原来的选择器：

```
var $target = $('#originalSelector');

alert($target.selector); // Alerts '#originalSelector' 
```

# android - Flurry 在 android 中什么都不做

> ID：11409640
> 
> 赞同：5
> 
> 时间：2012-07-10T08:44:08.577
> 
> 标签：android, flurry

我正在评估 Flurry 并将其集成到测试项目中

活动：

```
public class TestFlurryActivity extends Activity {
  /** Called when the activity is first created. */
  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    Button button = (Button) findViewById(R.id.button1);
    button.setOnClickListener(new View.OnClickListener(){

        @Override
        public void onClick(View v){
            Hashtable<String, String> map = new Hashtable<String, String>();
            for(int i = 0; i < 20; i++){
                map.put("MappedKey"+i, "MappedValue"+i);
            }
            Log.d("Flurry", "Event2");
            FlurryAgent.logEvent("buttonPressedEvent", map);
        }
    });
}

public void onStart()
{
   super.onStart();
   Log.d("Flurry", "Starting1");
   FlurryAgent.onStartSession(this, "FlurryKey");
   Log.d("Flurry", "Setting user");
   FlurryAgent.setUserId("user1");
   Log.d("Flurry", "Event1");
   FlurryAgent.logEvent("Event1");
}

public void onStop()
{
   super.onStop();
   FlurryAgent.onEndSession(this);
}

} 
```

清单：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.test.flurry"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk android:minSdkVersion="7" />
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" >
    <activity
        android:name=".TestFlurryActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application>

</manifest> 
```

当我在我的设备上运行这个示例时，看起来 flurry 不起作用。除了我的日志（“Flurry”标签）之外，logcat 中没有任何 Flurry 日志。

我仔细检查了flurry键，甚至尝试了“XXX”字符串，但什么也没有。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T17:19:43.463

您可能忘记结束会话。这是发布我相信的数据所必需的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-30T17:18:35.110

```
@Override  
     public void onStop() {
         super.onStop();
         FlurryAgent.onEndSession(this);
     } 
```

添加此代码，它将起作用。

# android - 禁用返回主页按钮 Android 3.1

> ID：11409642
> 
> 赞同：0
> 
> 时间：2012-07-10T08:44:16.360
> 
> 标签：android, back-button, android-3.1-honeycomb

我有一个应用程序在带有 Android 3.1 的三星 Galaxy Tab 8.9 上运行。

我必须禁用后退按钮。我知道

`<category android:name="android.intent.category.HOME" />`

禁用主页按钮。但我不想禁用主页按钮。我只想禁用BackButton**而**不是 HomeButton。

谢谢大家..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T08:45:37.373

您可以在活动中覆盖 onBackPressed

```
@Override
public void onBackPressed() {
    //do nothing
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:47:06.593

只需像这样覆盖 onBackPressed() ：

```
@override
public void onBackPressed(){} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T08:47:47.623

在您的活动中使用它来覆盖 BackButton ：

```
@Override
public void onBackPressed() {
    // whatever you want to do when the BackButton is pressed.
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T08:48:18.263

```
@Override 
public boolean onKeyDown(int iKeyCode, KeyEvent event)
{

    if(iKeyCode == KeyEvent.KEYCODE_BACK || iKeyCode == KeyEvent.KEYCODE_HOME) 
    {
        return true;
    }
} 
```

# php - 使用 php 将多个值返回到带有 json 的 jquery.ajax

> ID：11409644
> 
> 赞同：4
> 
> 时间：2012-07-10T08:44:21.743
> 
> 标签：php, jquery, ajax, json

我正在尝试使用 php 和 ajax 对数据库中的数据进行简单调用。我需要多个结果。因此我使用 json 方法。但它不起作用。

```
$.ajax({
  type: "POST",
  data: "qid=162",
  url: "activity_ajax.php",
  dataType: json,
  success: function (data) {
    alert(data.first);
  }
}); 
```

我的 activity_ajax.php 页面返回以下内容

```
echo "first":"Steven","last":"Spielberg","address":"1234 Unlisted Drive"; 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-10T08:47:56.407

您可以在一个数组中发送多个数据，然后使用**[json_encode](http://php.net/manual/en/function.json-encode.php)**

```
$output =  array('first'=>'Steven',
                 'last'=>'Spielberg',
                 'address'=>'1234 Unlisted Drive');

echo json_encode($output,JSON_FORCE_OBJECT); 
```

另一方面，您可以通过这种方式访问​​该值

```
 success : function(resp) {(
              alert(resp.first);
              alert(resp.last);
              alert(resp.address);
            }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:48:23.593

您没有返回有效的 JSON ...将您的 PHP 更改为：

```
$temp = array('first' => 'Steven', 'last' => 'Spielberg', 'address' => '1234 Unlisted Drive');
echo json_encode($temp); 
```

它将返回有效的 JSON。

该[`json_encode`](http://php.net/manual/en/function.json-encode.php)方法从各种来源返回有效的 JSON（一个关联数组就是一个）

# ios - UILineBreakModeWordWrap 不换行

> ID：11409646
> 
> 赞同：0
> 
> 时间：2012-07-10T08:44:28.683
> 
> 标签：ios

我已经尝试在网上搜索，但问题仍然没有解决。

我在 alerview 中显示了一个表格，并且文本（用于字段描述）没有包含在一个单元格中。这是代码：

```
static NSString *CellIdentifier = @"Cell1";
UITableViewCell *cell = [self.tableView dequeueReusableCellWithIdentifier:CellIdentifier];

// No cell available - create one.
if(cell == nil) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue2 reuseIdentifier:CellIdentifier];
}    
UILabel *scopeLabel = (UILabel *)[cell viewWithTag:999];
UILabel *descriptionLabel = (UILabel *)[cell viewWithTag:1014];

NSDictionary *aScope = [_countryScopes objectAtIndex:indexPath.row];

scopeLabel.text = [aScope objectForKey:@"scope"];
scopeLabel.lineBreakMode = UILineBreakModeWordWrap;
scopeLabel.numberOfLines = 0;

descriptionLabel.text = [aScope objectForKey:@"description"];
descriptionLabel.lineBreakMode = UILineBreakModeWordWrap;
descriptionLabel.numberOfLines = 0;

cell.accessoryType = UITableViewCellAccessoryNone;   
return cell; 
```

这是屏幕截图： ![在此处输入图像描述](../Images/259858a3e6fe47f93af9b7f3ff0ea130.png)

在我的故事板中，表格视图：描述字段的长度看起来很短！ ![在此处输入图像描述](../Images/d72c9a9f34f29db142e3146b8157291d.png)

# iphone - 从 imageview 打印图像

> ID：11409653
> 
> 赞同：0
> 
> 时间：2012-07-10T08:44:47.170
> 
> 标签：iphone, objective-c, xcode, printing, airprint

UIPrintInteractionController 使用要打印的数据。如果我想从 imageview 打印图像，它会给我一些警告。我想使用 imageview 中的图像而不是资源中的图像。我想知道如何从 ImageView 中的图像中获取数据

```
UIPrintInteractionController *printController = [UIPrintInteractionController sharedPrintController];
NSData  * datatobeprinted [NSData dataWithContentsOfFile:imageView.image];
if(printController && [UIPrintInteractionController canPrintData:imageView.image]) {

    printController.delegate = self;

    UIPrintInfo *printInfo = [UIPrintInfo printInfo];
    printInfo.outputType = UIPrintInfoOutputGeneral;
    printInfo.jobName = [path lastPathComponent];
    printInfo.duplex = UIPrintInfoDuplexLongEdge;
    printController.printInfo = printInfo;
    printController.showsPageRange = YES;
    [printController setPrintingItem:datatobeprinted];      
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:58:55.223

我认为您需要图像中的 NSData，然后您可以执行以下操作：

```
NSData *imageData = UIImageJPEGRepresentation(image, 0.7); // 0.7 is JPG quality 
```

或者

```
NSData *imageData = UIImagePNGRepresentation(image); 
```

取决于您是否想要 PNG 格式或 JPG 格式的数据。

# requirements - 莫斯科的用户故事

> ID：11409654
> 
> 赞同：0
> 
> 时间：2012-07-10T08:45:03.487
> 
> 标签：requirements, user-stories

我采用了[针对 SO 上的问题而](https://stackoverflow.com/questions/1707080/writing-user-stories-for-internal-technical-tasks)引入的用户故事模板，即

```
AS A [person/role]
I NEED TO [do something] 
SO THAT [provides business value]. 
```

我有两个问题：

1.  我应该如何将[莫斯科](http://en.wikipedia.org/wiki/MoSCoW_Method)纳入用户故事，模板的哪一部分可以/应该改变？

2.  我正在重写需求，并且经常处理有关网站上可用内容的声明。我不确定我是否应该从阅读内容的网站用户或提供内容的广告管理员的角度来编写用户故事。任何人都可以澄清采取的最佳方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T19:30:37.070

MoSCoW 是一个需求优先级框架。发布和路线图规划将是使用它的地方，以及在积压梳理期间优先考虑用户故事。至于合并到单个用户故事中，如果给定的用户故事不是下一个版本中最有价值的项目，那么您为什么现在要研究它？

关于使用哪个用户的视角，请使用提供最有价值视角的那个。也许考虑从“用户”的角度写“什么”的故事，从“管理员”的角度写“如何”的故事（尽管管理员角色会有一些“什么”类型的故事。

# erlang - Erlang：使用 gen_tcp:controlling_process 避免竞争条件

> ID：11409656
> 
> 赞同：10
> 
> 时间：2012-07-10T08:45:11.723
> 
> 标签：erlang

我正在使用以下序列实现简单的 tcp 服务器：

```
{ok, LS} = gen_tcp:listen(Port,[{active, true}, {reuseaddr, true}, {mode, list}]),
{ok, Socket} =  gen_tcp:accept(LS),
Pid = spawn_link(M, F, [Socket]),           
gen_tcp:controlling_process(Socket, Pid) 
```

使用选项 {active, true} 可能会导致竞争条件，即新数据包在调用“controlling_process”之前到达套接字进程，这将导致 {tcp,Socket,Data} 消息到达父进程而不是孩子。

如何避免这种情况？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-10T09:24:04.157

你说的对。在这种情况下，您肯定需要`{active, false}`在侦听套接字选项之间传递。考虑这段代码：

```
-define(TCP_OPTIONS, [binary, {active, false}, ...]).

...

start(Port) ->
    {ok, Socket} = gen_tcp:listen(Port, ?TCP_OPTIONS),
    accept(Socket).

accept(ListenSocket) ->
    case gen_tcp:accept(ListenSocket) of
        {ok, Socket} ->
            Pid = spawn(fun() ->
                io:format("Connection accepted ~n", []),
                enter_loop(Socket)
            end),
            gen_tcp:controlling_process(Socket, Pid),
            Pid ! ack,
            accept(ListenSocket);
        Error ->
            exit(Error)
    end.

enter_loop(Sock) ->
    %% make sure to acknowledge owner rights transmission finished
    receive ack -> ok end,
    loop(Sock).

loop(Sock) ->
    %% set soscket options to receive messages directly into itself
    inet:setopts(Sock, [{active, once}]),
    receive
        {tcp, Socket, Data} ->
            io:format("Got packet: ~p~n", [Data]),
            ...,
            loop(Socket);
        {tcp_closed, Socket} ->
            io:format("Socket ~p closed~n", [Socket]);
        {tcp_error, Socket, Reason} ->
            io:format("Error on socket ~p reason: ~p~n", [Socket, Reason])
    end. 
```

`controlling_process`因此，在成功之前，您不会失去任何东西。已知问题已在互联网上进行了很多讨论。如果您希望使用准备就绪的解决方案，您肯定需要查看[Ranch](https://github.com/extend/ranch)项目。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-11-25T16:14:08.970

如果套接字是活动的，`inet:tcp_controlling_process`（由 调用`gen_tcp:controlling_process`）将套接字设置为被动，然后选择性地接收与该套接字相关的所有消息并将它们发送给新所有者，从而有效地将它们移动到新所有者的消息队列中。然后它将套接字恢复为活动状态。

所以不存在竞争条件：他们已经想到了这一点并将其修复在库中。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-01-05T22:18:05.620

绝对有竞争条件。我今天在 OTP 21.2 中遇到了它，这就是我在这里的原因。`accept`数据包可以在返回时间和`inet:tcp_controlling_process`将套接字设置为被动时间之间到达。

我只是想指出上面@Keynslug 答案的微小简化。套接字可以从非拥有进程设置为活动的，因此`ack`消息传递和`enter_loop`是不必要的

```
-define(TCP_OPTIONS, [binary, {active, false}, ...]).

...

start(Port) ->
    {ok, Socket} = gen_tcp:listen(Port, ?TCP_OPTIONS),
    accept(Socket).

accept(ListenSocket) ->
    case gen_tcp:accept(ListenSocket) of
        {ok, Socket} ->
            Pid = spawn(fun() ->
                io:format("Connection accepted ~n", []),
                loop(Socket)
            end),
            gen_tcp:controlling_process(Socket, Pid),
            inet:setopts(Socket, [{active, once}]),
            accept(ListenSocket);
        Error ->
            exit(Error)
    end.

loop(Sock) ->
    %% set soscket options to receive messages directly into itself
    inet:setopts(Sock, [{active, once}]),
    receive
        {tcp, Socket, Data} ->
            io:format("Got packet: ~p~n", [Data]),
            ...,
            loop(Socket);
        {tcp_closed, Socket} ->
            io:format("Socket ~p closed~n", [Socket]);
        {tcp_error, Socket, Reason} ->
            io:format("Error on socket ~p reason: ~p~n", [Socket, Reason])
    end. 
```

# asp.net-mvc-3 - 为什么每次都要声明一个私有的无参构造函数

> ID：11409658
> 
> 赞同：1
> 
> 时间：2012-07-10T08:45:27.173
> 
> 标签：asp.net-mvc-3, c#-4.0, entity-framework-4, c#-3.0

我在我的项目中看到了这一点

```
 class Product
 {
    public string Name { get; private set; }
    public decimal Price { get; private set; }
    public Product(string name, decimal price)
    {
        Name = name;
        Price = price;
    }
    Product() {}
    public static List<Product> GetSampleProducts()
    {
        return new List<Product>
          {
             new Product { Name="West Side Story", Price = 9.99m },
             new Product { Name="Assassins", Price=14.99m },
             new Product { Name="Frogs", Price=13.99m },
             new Product { Name="Sweeney Todd", Price=10.99m}
          };
    }
    public override string ToString()
    {
        return string.Format("{0}: {1}", Name, Price);
    }
 } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:12:08.917

一旦你创建了一个带参数的构造函数，你的默认无参数构造函数就消失了。现在，如果您希望在不提供任何值的情况下初始化对象，则必须显式声明无参数构造函数。这取决于您要如何使用它，如果您希望仅使用这些值初始化对象，而如果您的对象无效则不使用它们，则不要添加无参数构造函数。但是，如果带参数的构造函数只是用某些值初始化对象的一种方式，则始终可以像使用 C# 3.0 Object Initializer 一样初始化对象，如下所示

```
 var product = new Product{Name = "Some Name", Price = 10.0}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:52:48.757

ORM 映射器、反序列化等需要它来自动创建对象。

和

```
Product() {} 
```

是内部的，不是私有的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T08:50:16.533

可能是因为序列化。

如果您的对象没有无参数构造函数，那么大多数通过反射工作的反序列化器将无法创建对象的实例，因为它不知道要传递哪些参数。

我经常通过添加 Obsolete 属性来明确这一点：

```
[Obsolete("This constructor is for deserialization only", true)]
private Product() { } 
```

# php - 传递要在 php 脚本中使用的 Jquery 变量

> ID：11409661
> 
> 赞同：0
> 
> 时间：2012-07-10T08:45:37.607
> 
> 标签：php, jquery

我有一个预订网格，如下所示：

![在此处输入图像描述](../Images/7311bd6c3461850e81a8130426bb1a0f.png)

在这个预订网格上，我有一个 dblClick 事件，它打开了一个 Jquery 对话框：

```
<div id="cp-bookings-dialog">

    <div class="cp-tiles-wrapper-dlg">

        <div class="cp-booking-info left">

            <p class="pno-margin">Booking Date: &nbsp;<strong>Booking Reference is = <? echo BookingDocket::get_bookref(); ?></strong></p>
            <p class="pno-margin">Return Date: &nbsp;<strong><? echo BookingDocket::get_bookdate(); ?></strong></p>
            <p class="pno-margin">Journey: &nbsp;<strong></strong></p>
            <p class="pno-margin">Passenger Tel: &nbsp;<strong></strong></p>
            <p class="pno-margin">E-mail: &nbsp;<strong></strong></p>

        </div>

    </div>

 </div> 
```

jQuery代码：

```
 ondblClickRow: function(rowid)
    {
    var rowData = new Array();
        rowData = $("#bookings").getRowData(rowid);
        var brData = rowData['bookref'];

        getGridRow(brData);

        $("#cp-bookings-dialog").dialog({ hide: 'slide', height: 625, width: 733, title: 'Booking Reference: - '+ brData});
    }, 
```

其中 brData 是我想在我的 PHP 脚本中使用的“预订参考”值。目前这个 dblClick 事件被发送到以下 Ajax 请求：

```
function getGridRow(brData) {

   $.ajax({

    url: 'scripts/php/bootstrp/all.request.php',
    type: 'POST',

    data: {

        rowdata: brData,

        id: null,
        condition: null
    },
    dataType: 'text/xml',
    timeout: 20000,
    error: function(){
        alert("It failed");
        $('#cp-div-error').html('');
        $('#cp-div-error').append('<p>There was an error inserting the data, please try again later.</p>');
        $('#cp-div-error').dialog('open');
    },
    success: function(response){

        // Refresh page

        //response = brData;
        //alert(response);  <--- This alerts the correct Booking Reference

    }
}); 
```

哪个被发送到 all.request.php

```
// Switch to determine method to call
switch ($_REQUEST['fnme']) {

case 'getDGRow':
header('Content-type: text/xml');
GetBookings::getGridRow($_REQUEST['rowdata']);
break; 
```

最后到我想使用这个 Jquery 值的 PHP 脚本：

```
class GetBookings {

public static function getGridRow($rowdata) {

    $rowdata = $_REQUEST['rowdata'];

    $pdo = new SQL();
    $dbh = $pdo->connect(Database::$serverIP, Database::$serverPort, Database::$dbName, Database::$user, Database::$pass);

    try {

        $query = "SELECT * FROM tblbookings WHERE bookref = '$rowdata'";

        $stmt = $dbh->prepare($query);

            $stmt->execute();

        $row = $stmt->fetch(PDO::FETCH_BOTH); 

            {variables are all here}

        $stmt->closeCursor();

    }

    catch (PDOException $pe) {
        die("Error: " .$pe->getMessage(). " Query: ".$stmt->queryString);
    }

    $dbh = null;

    }

    } 
```

我不知道为什么，但这似乎不起作用。另外，请注意，当您 dblClick 预订时，这会打开一个 jQuery 对话框，其中显示有关预订的所有详细信息，并且应该返回所有结果`$query = "SELECT * FROM tblbookings WHERE bookref = '$rowdata'";`

我需要做的就是正确地传递这些数据，这就像我`$rowdata`用预订参考值替换一样，它应该可以正常工作。

如果有人可以帮助我解决这个问题，我将非常感激，因为我已经尝试了很长一段时间了：（

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:51:12.647

你为什么要发送它

```
 data: {

    rowdata: 'fnme=getDGRow&row_data='+brData,

    id: null,
    condition: null
}, 
```

不喜欢

```
 data: {

    fname: 'getDGRow',
    rowdata: brData,

    id: null,
    condition: null
}, 
```

在 php 文件中，您可以使用`$_POST['fname']`并`$_POST['rowdata']`获取单个值。

目前，`$_REQUEST['rowdata']`是你的整个字符串`'fnme=getDGRow&row_data='+brData`！

如果您想在 mysql 查询中使用 brData，请尝试使用`$_REQUEST['row_data']`或使用我上面的示例来正确设置变量`$_REQUEST['rowdata']`。

* * *

你的整个代码应该可以工作

```
function getGridRow(brData) {

   $.ajax({

    url: 'scripts/php/bootstrp/all.request.php',
    type: 'POST',

    data: {

        fnme: 'getDGRow',
        rowdata: brData,

        id: null,
        condition: null
    },
    dataType: 'text/xml',
    timeout: 20000,
    error: function(){
        alert("It failed");
        $('#cp-div-error').html('');
        $('#cp-div-error').append('<p>There was an error inserting the data, please try again later.</p>');
        $('#cp-div-error').dialog('open');
    },
    success: function(response){

        // Refresh page

        //response = brData;
        alert(response); // <--- This alerts the correct Booking Reference

    }
}); 
```

-

```
// Switch to determine method to call
switch ($_REQUEST['fnme']) {

case 'getDGRow':
header('Content-type: text/xml');
GetBookings::getGridRow($_REQUEST['rowdata']);
break; 
```

-

```
class GetBookings {

public function getGridRow($rowdata) {

    $pdo = new SQL();
    $dbh = $pdo->connect(Database::$serverIP, Database::$serverPort, Database::$dbName, Database::$user, Database::$pass);

    try {

        $query = "SELECT * FROM tblbookings WHERE bookref = '$rowdata'";

        $stmt = $dbh->prepare($query);

            $stmt->execute();

        $row = $stmt->fetch(PDO::FETCH_BOTH); 

            {variables are all here}

        $stmt->closeCursor();

    }

    catch (PDOException $pe) {
        die("Error: " .$pe->getMessage(). " Query: ".$stmt->queryString);
    }

    $dbh = null;

    }

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:34:38.627

**Look at your code:**

```
var rowData = new Array();
    rowData = $("#bookings").getRowData(rowid);
    var brData = rowData['bookref']; 
```

The second line overwrited the first line, so you can delete `rowData = new Array()`.

Now, are you sure that `$_REQUEST['fnme']` exists? Your `switch` statement doesn't have any default value, and it looks like `getGridRow()` will never be executed.

Additionaly, `$rowdata = $_REQUEST['rowdata']` is meaningless, you can remove it.

I hope it helps you.

# c# - 如何从结果中读取每个 xml 节点

> ID：11409663
> 
> 赞同：2
> 
> 时间：2012-07-10T08:45:45.973
> 
> 标签：c#, asp.net, xml

早晨，

我有一些正在返回的 XML，我需要读取每个结果节点，然后将它们放入我的数据库中。

所以 SKU，ResultMessageCode 将被存储。如果 ResultCode 被标记为错误，我只需要拉出这些。

```
 <Message>
    <MessageID>1</MessageID>
    <ProcessingReport>
        <DocumentTransactionID>123456789</DocumentTransactionID>
        <StatusCode>Complete</StatusCode>
        <ProcessingSummary>
            <MessagesProcessed>2</MessagesProcessed>
            <MessagesSuccessful>0</MessagesSuccessful>
            <MessagesWithError>2</MessagesWithError>
            <MessagesWithWarning>0</MessagesWithWarning>
        </ProcessingSummary>
        <Result>
            <MessageID>1</MessageID>
            <ResultCode>Error</ResultCode>
            <ResultMessageCode>90205</ResultMessageCode>
            <ResultDescription>Some Text Here</ResultDescription>
            <AdditionalInfo>
                <SKU>12345</SKU>
            </AdditionalInfo>
        </Result>
        <Result>
            <MessageID>2</MessageID>
            <ResultCode>Error</ResultCode>
            <ResultMessageCode>90205</ResultMessageCode>
            <ResultDescription>Some Text Here</ResultDescription>
            <AdditionalInfo>
                <SKU>67890</SKU>
            </AdditionalInfo>
        </Result>
    </ProcessingReport>
</Message> 
```

我在 Stackoverflow 的其他地方找到了这个，并认为这可能是我所追求的。

```
 foreach (XmlNode chldNode in node.ChildNodes)
    {
            **//Read the attribute Name**
        if (chldNode.Name == Employee)
        {                    
            if (chldNode.HasChildNodes)
            {
                foreach (XmlNode item in node.ChildNodes)
                { 

                }
            }
        }
    } 
```

我在这里假设是否正确，并且需要使用类似的东西？但是，上述示例中的 XML 略小。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:00:47.780

试试`LINQ-XML`，

```
XDocument doc = XDocument.Parse(xmlStr);

var results = doc.Root.Descendants("Result")
                    .Where(p => p.Element("ResultCode").Value == "Error");
foreach (var t in results)
 {
  var resultCode = t.Element("ResultMessageCode").Value;
  var sku = t.Element("AdditionalInfo").Element("SKU").Value;
  //
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-15T19:43:53.313

另一种（简洁的）方法是使用 XPath 和 Linq：

```
var dom = new XmlDocument();
dom.LoadXml(xml);
var results = dom.SelectNodes("//Message/ProcessingReport/Result[ResultCode/text() = 'Error']")
                .Cast<XmlNode>()
                .Select(n => new { 
                    ResultMessageCode = n.SelectSingleNode("ResultMessageCode/text()"), 
                    SKU = n.SelectSingleNode("AdditionalInfo/SKU/text()")
                }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T08:48:55.127

是的，您需要使用类似的东西或使用[LINQ to XML](http://msdn.microsoft.com/en-us/library/bb387098.aspx)，它可以为您提供更干净和紧凑的代码：

```
using System;
using System.Linq;
using System.Xml.Linq;

class Program
{
    private const string Xml =
        @"<Message>
    <MessageID>1</MessageID>
    <ProcessingReport>
        <DocumentTransactionID>123456789</DocumentTransactionID>
        <StatusCode>Complete</StatusCode>
        <ProcessingSummary>
            <MessagesProcessed>2</MessagesProcessed>
            <MessagesSuccessful>0</MessagesSuccessful>
            <MessagesWithError>2</MessagesWithError>
            <MessagesWithWarning>0</MessagesWithWarning>
        </ProcessingSummary>
        <Result>
            <MessageID>1</MessageID>
            <ResultCode>Error</ResultCode>
            <ResultMessageCode>90205</ResultMessageCode>
            <ResultDescription>Some Text Here</ResultDescription>
            <AdditionalInfo>
                <SKU>12345</SKU>
            </AdditionalInfo>
        </Result>
        <Result>
            <MessageID>2</MessageID>
            <ResultCode>Error</ResultCode>
            <ResultMessageCode>90205</ResultMessageCode>
            <ResultDescription>Some Text Here</ResultDescription>
            <AdditionalInfo>
                <SKU>67890</SKU>
            </AdditionalInfo>
        </Result>
    </ProcessingReport>
</Message>
";

    static void Main(string[] args)
    {
        var doc = XDocument.Parse(Xml);

        foreach (var result in doc.Descendants("Result").Where(x => x.Element("ResultCode").Value == "Error"))
        {
            Console.WriteLine("MessageID: {0}; ResultMessageCode: {1}; ResultDescription: {2}", 
                result.Element("MessageID").Value,
                result.Element("ResultMessageCode").Value,
                result.Element("ResultDescription").Value
                );
        }
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T08:48:55.940

```
using (XmlReader xmlr = XmlReader.Create(@"http://www.ecb.europa.eu/stats/eurofxref/eurofxref-daily.xml"))
        {
            xmlr.ReadToFollowing("Cube");
            while (xmlr.Read())
            {
                if (xmlr.NodeType != XmlNodeType.Element) continue; 
```

这样您就可以导航到您只需要的节点。这只是一种方法。Linq to XML 是另一种方式，但比上面的代码段更占用资源。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-10T09:00:38.467

您可以为您的 XML 结构创建一组类，并为这些类添加可序列化的键，

```
[Serializable()]
public class Message
{
    public int MessageId {get; set;}

    private ProcessingReport processingReport = new ProcessingReport();
    ...
} 
```

然后使用 XmlSerializer 将您的 XML 解析为类

```
 XmlSerializer SerializerObj = new XmlSerializer(typeof(Message));

    // Open your XML file (or use a reader if it's a a location)
    FileStream ReadFileStream = new FileStream(@"C:\test.xml", FileMode.Open, FileAccess.Read, FileShare.Read);

    Message message = (Message)SerializerObj.Deserialize(ReadFileStream);

    ReadFileStream.Close(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-10T11:22:52.723

可以使用xpath找到“ResultCode”节点，然后判断是否出错。

[http://msdn.microsoft.com/en-us/library/system.xml.xmlnode.selectnodes%28v=vs.71%29.aspx](http://msdn.microsoft.com/en-us/library/system.xml.xmlnode.selectnodes%28v=vs.71%29.aspx) http://support.microsoft.com/kb/307548

```
using System.Xml;

XmlDocument doc = new XmlDocument();
doc.LoadXml(XML_String);

XmlNode result = doc.DocumentElement.SelectSingleNode("//ResultCode");

if (result == null)
    throw new Exception("Error")

if (result.Value == "Error")
    //Message is in Error.
else
    //Message is OK. 
```

# android - ApplicationInfo 和 PackageInfo 的区别？

> ID：11409669
> 
> 赞同：19
> 
> 时间：2012-07-10T08:46:11.870
> 
> 标签：android, android-package-managers

我有几个关于 ApplicationInfo 和 PackageInfo 类的一般问题。他们来了：

1.  有人可以描述 ApplicationInfo 和 PackageInfo 之间的区别吗？
2.  它们如何相互关联？
3.  在哪些情况下使用 ApplicationInfo 以及何时使用 PackageInfo？

感谢您的帮助！

**编辑：**

首先，在发布这样的问题之前，我已经阅读了官方文档并用谷歌搜索。以下是一些我不清楚的其他问题。对不起，也许我没有适当地问他们：

1.  PackageInfo 可以具有值为 NULL 的 ApplicationInfo 对象。什么时候可以？（我猜这与卸载的软件包有关）
2.  ApplicationInfo 包含应用程序的 uid。PackageInfo 是否可能没有 uid（当 ApplicationInfo 为空时？）。

所以这类问题。我不明白这些联系。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-07-10T09:02:52.510

1.  **有人可以描述 ApplicationInfo 和 PackageInfo 之间的区别吗？**

    PackageInfo代表了整个AndroidManifest.xml。ApplicationInfo实际上是PackageInfo的一个字段/属性，仅指应用标签。参考[这个](http://developer.android.com/reference/android/content/pm/PackageInfo.html#applicationInfo)。

2.  **它们如何相互关联？**

    正如我提到的，ApplicationInfo 实际上是 PackageInfo 的一个属性/字段，它本身恰好是一个复杂的对象，并且有自己的方法/字段。

3.  **在哪些情况下使用 ApplicationInfo 以及何时使用 PackageInfo？**

    要访问可能与服务或活动或广播接收器相关的应用程序标签中的信息，我们使用 ApplicationInfo。与 AndroidManifest.xml 的其余部分相关的数据可以通过 PackageInfo 类中的其他字段/方法获得

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T08:50:10.800

PackageInfo 包含 ApplicationInfo ( `PackageInfo.applicationInfo`)。

包信息是清单文件中的所有信息，ApplicaitonInfo 是`<application>`清单中标签中的信息。

什么时候使用它们？这取决于您要查找的信息或您使用的 API 方法。

# vim - 当我切换 minibufexplorer 时，如何在 nerdtree 打开时停止调整窗口大小

> ID：11409671
> 
> 赞同：7
> 
> 时间：2012-07-10T08:46:16.627
> 
> 标签：vim, nerdtree, minibufexplorer

我的 .vimrc 设置：

```
nmap <silent><F1> :NERDTreeToggle<CR>
nmap <silent><F2> :TMiniBufExplorer<CR>
let g:miniBufExplMapWindowNavVim = 1
let g:NERDTreeWinPos = "right" 
```

首先它看起来像：

```
--------------------------
| minibufexplorer   |    |
---------------------    |
|                   |    |
| top               |    |
|                   |    |
---------------------NERD|
|                   |    |
| btm               |    |
|                   |    | 
-------------------------- 
```

接下来当我按下 F2 时，minibufexplorer 被切换：

```
--------------------------
|                   |    |                  
|                   |    |
| top               |    |
|                   |    |
---------------------NERD|
|                   |    |
| btm               |    |
|                   |    | 
-------------------------- 
```

现在看起来一切正常，但是当我再次按 F2 并显示 minibufexplorer 时，顶部窗口的大小被调整：

```
--------------------------
| minibufexplorer   |    |
---------------------    |
| top               |    |
---------------------NERD|
|                   |    |
|                   |    |
|                   |    |
| btm               |    |
|                   |    | 
-------------------------- 
```

如果右侧没有 nerdtree 窗口，则不会调整大小。那么当 nerdtree 打开时如何停止调整窗口大小呢？（顺便说一句：对不起，我不能上传图片，因为我只有 8 个声望。）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-16T13:50:52.917

问题出在[minibufexpl.vim](https://github.com/fholgado/minibufexpl.vim/blob/e95cc2e5a81206cb7f1ae1581c0b87fd37318a60/plugin/minibufexpl.vim)的第 450 行：在函数`StartExplorer`中，你会发现`set noequalalways`。来自`:help equalalways`：

> 启用时，在拆分或关闭窗口后，所有窗口都会自动设置为相同大小。这也发生在选项打开的那一刻。 **关闭时，拆分窗口将减小当前窗口的大小，而其他窗口保持不变。** 当关闭一个窗口时，额外的行被赋予它旁边的窗口（取决于'splitbelow'和'splitright'）。当混合垂直和水平分割的窗口时，会计算一个最小尺寸，如果有空间，一些窗口可能会更大。'eadirection' 选项告诉尺寸受影响的方向。通过分别设置 'winfixheight' 和 'winfixwidth' 可以避免改变窗口的高度和宽度。如果在创建新窗口时指定了窗口大小，则当前未均衡大小（这很复杂，但将来可能会实现）。

这是[MiniBufExplorer](https://github.com/fholgado/minibufexpl.vim)的一部分，如果您希望它的行为有所不同，您必须[自己更改它](https://github.com/fholgado/minibufexpl.vim/fork)或向作者[提交问题](https://github.com/fholgado/minibufexpl.vim/issues/new)。

# javascript - 浏览器第一次启动后无法获取图像大小

> ID：11409676
> 
> 赞同：0
> 
> 时间：2012-07-10T08:46:45.267
> 
> 标签：javascript, image, image-size

一旦我第一次启动浏览器，我目前在获取图像宽度时遇到问题。我每次得到值 0 而不是正确的宽度。如果我启动浏览器并使用 f5 刷新页面，我会得到正确的值。

我该如何处理这个问题？这是我的代码部分：

```
$(document).ready(
function () {
    ...
        function () {            
            img = new Image();
            img.src = 'images/flags/medium/' + flag + '.png';
            img.onload = $(function() {
                if(img.width > size[0]) {
                    size[0] = img.width;
                }
                if (i % 2 === 0) {
                    $('#list1').append(
                    $('<li id=item' + j + '>'));
                    $('#item' + j).append(img);
                    $('#item' + j).append(
                            $('<li>').append(company).addClass('company')
                    );
                    i = 1;
                } else {
                    $('#list2').append(
                    $('<li id=item' + j + '>'));
                    $('#item' + j).append(img);
                    $('#item' + j).append(
                            $('<li>').append(company).addClass('company')
                    );
                    i = 0;
                }
                j++;
            });

        } 
```

`size[0]`在 Browser 的第一次启动时`0`，刷新后它具有正确的值。为什么？问候。

**编辑** 好吧，看来，一旦我敲击f5，有时也会出现问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:09:32.610

改变： `img.onload = $(function() {`

到：`img.onload=(function() {`

似乎在第一次加载时可以很好地处理来自谷歌的随机图像。

[jsfiddle](http://jsfiddle.net/EuCLf/25/)

# c++ - 参考 - 常量指针

> ID：11409679
> 
> 赞同：6
> 
> 时间：2012-07-10T08:46:55.017
> 
> 标签：c++, reference

我在很多地方读过关于参考的文章：

> 引用就像一个 const 指针
> 
> 引用总是引用一个对象
> 
> 一旦初始化，引用就不能被重新安装

我想澄清最后一点。这意味着什么？

我试过这段代码：

```
#include <iostream>
int main()
{
    int x = 5;
    int y = 8;

    int &rx = x;
    std::cout<<rx<<"\n";

    rx = y;    //Changing the reference rx to become alias of y
    std::cout<<rx<<"\n";
} 
```

**输出**

```
5  
8 
```

那么“引用无法重新安装”是什么意思？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-10T08:49:51.070

这一行：

```
rx = y; 
```

不使 rx 指向 y。它使 x 的值（通过引用）成为 y 的值。看：

```
#include <iostream>

int main()
{
    int x = 5;
    int y = 8;

    int &rx = x;
    std::cout << rx <<"\n";

    // Updating the variable referenced by rx (x) to equal y
    rx = y;    
    std::cout << rx <<"\n";
    std::cout << x << "\n";
    std::cout << y << "\n";
} 
```

因此，在初始赋值后无法更改 rx 所指的内容，但您可以更改所引用事物的值。

因此，就本示例而言，引用类似于常量指针（其中指针地址是常量，而不是该地址处的值）。但是有一些重要的区别，一个很好的例子（正如 Damon 指出的那样）是您可以将临时变量分配给本地 const 引用，编译器将延长它们的生命周期以在引用的生命周期内持续存在。

有关引用和 const 指针之间差异的更多详细信息可以在[此 SO 帖子](https://stackoverflow.com/questions/57483/what-are-the-differences-between-pointer-variable-and-reference-variable-in-c)的答案中找到。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-10T08:49:19.480

您将 x 的值更改为 y 的值 :-)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-07-10T08:55:55.960

`int &rx = x;`给 .做`rx`一个别名`x`。

那么，`rx = y`暗示`x = y`

生成别名后，对其 ( `rx`) 的任何使用将等同于对 x 的使用。您无法撤消（重新安装`rx`）以创建`rx`别名“y”。

# unit-testing - casperjs：我们可以组织像 phpunit 这样的测试套件，例如“allTests”

> ID：11409688
> 
> 赞同：4
> 
> 时间：2012-07-10T08:47:29.950
> 
> 标签：unit-testing, testing, automated-tests, functional-testing, casperjs

我想组织我的测试套件，如 phpunit

添加在同一项目中其他地方找到的所有测试的脚本

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-30T00:54:13.447

An example of a small prototype of command-line testing with CasperJS is at [https://github.com/mcamiano/friendlyghost](https://github.com/mcamiano/friendlyghost) .

Basically, it uses shell scripting to wrap CasperJS as a runner, providing test suite organization, test output logs, helpers, fakers, and even fixtures.

Posting it only as an example, not plugging - I actually use Codeception with PhantomJS via Selenium2 as my primary tool. By comparison, FriendlyGhost is not very refined, and certainly not fast for lots of tests, but Casper's CoffeeScript is a cleaner and more extensible language to work in than Codeception's modules and a little shell wrapping can be good enough for diagnostic purposes.

# python - 使用 mplot3d 绘制二维数组

> ID：11409690
> 
> 赞同：20
> 
> 时间：2012-07-10T08:47:43.813
> 
> 标签：python, arrays, 2d, mplot3d

我有一个 2D numpy 数组，我想用 3D 绘制它。我听说过 mplot3d，但我无法正常工作

这是我想做的一个例子。我有一个尺寸为（256,1024）的数组。它应该绘制一个 3D 图形，其中 x 轴从 0 到 256，y 轴从 0 到 1024，图形的 z 轴显示每个条目的数组值。

我该怎么做？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-07-10T08:58:11.660

听起来您正在尝试创建一个[曲面](http://matplotlib.sourceforge.net/mpl_toolkits/mplot3d/tutorial.html#surface-plots)图（或者您可以绘制一个[线框](http://matplotlib.sourceforge.net/mpl_toolkits/mplot3d/tutorial.html#wireframe-plots)图或[填充](http://matplotlib.sourceforge.net/mpl_toolkits/mplot3d/tutorial.html#filled-contour-plots)的平面图。

根据问题中的信息，您可以尝试以下方式：

```
import numpy
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

# Set up grid and test data
nx, ny = 256, 1024
x = range(nx)
y = range(ny)

data = numpy.random.random((nx, ny))

hf = plt.figure()
ha = hf.add_subplot(111, projection='3d')

X, Y = numpy.meshgrid(x, y)  # `plot_surface` expects `x` and `y` data to be 2D
ha.plot_surface(X, Y, data)

plt.show() 
```

显然，您需要选择比使用更合理`numpy.random`的数据才能获得合理的表面。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-12-03T10:11:22.220

您可以使用函数[bar3d](https://matplotlib.org/mpl_toolkits/mplot3d/api.html#mpl_toolkits.mplot3d.axes3d.Axes3D.bar3d/)尝试 3D 条形图。

假设你有一个维度为 (25, 10) 的数组 A，索引为 (i, j) 的值是 A[i][j]。以下代码示例可以为您提供 3D 条形图，其中每个条形的高度为 A[i][j]。

```
from mpl_toolkits.mplot3d import axes3d
import matplotlib.pyplot as plt
import numpy as np
%matplotlib inline

np.random.seed(1234)
fig = plt.figure()
ax1 = fig.add_subplot(111, projection='3d')
A = np.random.randint(5, size=(25, 10))

x = np.array([[i] * 10 for i in range(25)]).ravel() # x coordinates of each bar
y = np.array([i for i in range(10)] * 25) # y coordinates of each bar
z = np.zeros(25*10) # z coordinates of each bar
dx = np.ones(25*10) # length along x-axis of each bar
dy = np.ones(25*10) # length along y-axis of each bar
dz = A.ravel() # length along z-axis of each bar (height)

ax1.bar3d(x, y, z, dx, dy, dz) 
```

在我的带有随机种子 1234 的 PC 上，我得到以下图： [![在此处输入图像描述](../Images/fad05949969bdc288b5b34ff02eaebec.png)](https://i.stack.imgur.com/Zl1Dq.png)

但是，为您的维度 (256, 1024) 问题绘制图可能会很慢。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T08:55:02.223

[您可以在Matplotlib 库](http://matplotlib.sourceforge.net/gallery.html)的示例之一中找到答案；3D 示例即将结束。

更一般地说，Matplotlib 库是一个很好的第一站资源，用于查找如何做一些绘图。

我查看的示例基本上适用于*三个*二维数组：一个包含所有 x 值，一个包含所有 y 值，最后一个包含所有 z 值。因此，一种解决方案是创建 x 和 y 值的数组（`meshgrid()`例如，使用 ）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-07-05T13:02:34.870

您还可以使用**oct2py**模块，它实际上是一个 python-octave 桥。使用它你可以利用八度音程的功能，你可以得到你需要的东西，而且它也很容易。

查看此文档：[https ://www.gnu.org/software/octave/doc/v4.0.1/Three_002dDimensional-Plots.html](https://www.gnu.org/software/octave/doc/v4.0.1/Three_002dDimensional-Plots.html)

例如：

```
from oct2py import octave as oc

tx = ty = oc.linspace (-8, 8, 41)
[xx, yy] = oc.meshgrid (tx, ty)
r = oc.sqrt (xx * xx + yy * yy) + oc.eps()
tz = oc.sin (r) / r
oc.mesh (tx, ty, tz) 
```

上面是 python 代码，与上面文档中以 octave 实现的第一个示例相同。

# javascript - 使用 jquery 从嵌套的 xml 元素创建 html ul li

> ID：11409692
> 
> 赞同：0
> 
> 时间：2012-07-10T08:47:52.720
> 
> 标签：javascript, jquery, html, css

我有一个 xml 作为 -

```
<item name="a">
   <item name="d">
      <item name="g">
          ...
      </item>
      ...
   </item>
   <item name="e"></item>
   <item name="f"></item>
   ...
</item>
<item name="b"></item>
<item name="c"></item> 
```

我想创建这个 xml 的 ul li 树结构

```
a [node]
 d [node]
  g [node]
  .
  .
  .
 e [node]
 f [node]
 .
 .
b [node]
c [node] 
```

我想我需要做一个无限循环，但在 jquery 中很难做到。我的 jquery 有点像这样 -

```
function createNestedTree(obj) {
  $("#tree").append("<ul></ul>");
  $(obj).children("item").each(function(){
    $("#tree ul").append("<li>"+$(this).attr("name")+"</li><ul id="+$(this).attr("name")+"level></ul>");
    $(this).children("item").each(function(){
       //logic here
    });
  });
} 
```

任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:34:40.297

这对你有用吗？

```
 function jumpdown (obj) {
   if (obj.hasChildNodes()) {
     var nextlevel = "<li>"+$(obj).attr("name")+"</li><ul id='"+$(obj).attr("name")+"level'>";
     for (var i=0 ; i<obj.chilNodes.length, i++)
     {
       nextlevel = nextlevel + jumpdown(obj.chilNodes[i]);
     }
     nextlevel = nextlevel + "</ul>";
     return nextlevel;
   }
   else return "<li>"+$(obj).attr("name")+"</li>";
 }

 jumpdown(mydocumentxml); 
```

# opengl - 带 PBO 的异步 glReadPixels

> ID：11409693
> 
> 赞同：8
> 
> 时间：2012-07-10T08:47:55.660
> 
> 标签：opengl, glreadpixels, pbo

我想使用两个 PBO 以替代方式读取像素。我以为PBO的方式会快很多，因为glReadPixels在使用PBO的时候会立即返回，而且很多时间可以重叠。

奇怪的是似乎没有太大的好处。考虑一些代码，如：

```
 glBindBufferARB(GL_PIXEL_PACK_BUFFER_ARB, 0);
    Timer t; t.start();
    glReadPixels(0,0,1024,1024,GL_RGBA, GL_UNSIGNED_BYTE, buf);
    t.stop(); std::cout << t.getElapsedTimeInMilliSec() << " ";

    glBindBufferARB(GL_PIXEL_PACK_BUFFER_ARB, pbo);
    t.start();
    glReadPixels(0,0,1024,1024,GL_RGBA, GL_UNSIGNED_BYTE, 0);
    t.stop(); std::cout << t.getElapsedTimeInMilliSec() << std::endl; 
```

结果是

```
1.301 1.185
1.294 1.19
1.28 1.191
1.341 1.254
1.327 1.201
1.304 1.19
1.352 1.235 
```

PBO的方式稍微快一点，但没有令人满意的**即时回报**。</p>

我的问题是：

*   影响 glReadPixels 性能的因素是什么？有时，它的成本达到 10 毫秒，但这里是 1.3 毫秒。
*   ~~为什么**立即返回的**成本高达 1.2 毫秒？是太大还是正常？~~

==================================================== ==========================

根据与一个demo的对比，我发现了两个因素：

*   GL_BGRA优于GL_RGBA，1.3ms=>1.0ms(无PBO)，1.2ms=>0.9ms(有pbo)
*   glutInitDisplayMode(GLUT_RGB|GLUT_ALPHA) 而不是 GLUT_RGBA, 0.9ms=>0.01ms。这就是我想要的性能。在我的系统中，GLUT_RGBA=GLUT_RGB=0。过剩阿尔法=8

然后还有两个问题：

*   为什么 GL_BGRA 比 GL_RGBA 好？是只针对特定平台还是针对所有平台？
*   为什么 GLUT_ALPHA 如此重要以至于它会极大地影响 PBO 的性能？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T13:18:51.717

我不知道`glutInitDisplayMode`，但这通常是因为您的内部和外部格式不匹配。例如，当组件数量不匹配时，您不会注意到异步行为，因为此转换仍会阻塞`glReadPixels`.

所以最有可能的问题是，`glutInitDisplay(GLUT_RGBA)`你实际上会创建一个内部格式实际上是`RGB`甚至是`BGR`. 传递`GLUT_ALPHA`参数可能会使其`RGBA`或`BGRA`在内部传递，这与您想要的组件数量相匹配。

编辑：我找到了一份[nvidia 文档](http://http.download.nvidia.com/developer/Papers/2005/Fast_Texture_Transfers/Fast_Texture_Transfers.pdf)，解释了有关像素打包和性能影响的一些问题。

编辑2： 的性能增益`BGRA`可能是因为内部硬件缓冲区位于 中`BGRA`，实际上并没有更多。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T13:17:42.590

BGRA 是最快的，因为这是现代 GPU 上的原生格式。RGBA、RGB 和 BGR 在回读期间需要“重新格式化”。

# asp.net - 如何向网页提交表单并通过脚本检索内容

> ID：11409706
> 
> 赞同：0
> 
> 时间：2012-07-10T08:48:39.397
> 
> 标签：asp.net

我想知道如何从允许在地址链接中使用不同参数的网页获取内容，如下所示：

启动webpage.aspx?PARAMETER=111 {等待页面加载}检索网页内容

启动webpage.aspx?PARAMETER=112 {等待页面加载}检索网页内容

重复从 PARAMETER 113 到 120 的步骤。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:57:14.990

在您的 html 中，您可以添加

```
<script>
   var qry = window.location.search;
</script> 
```

然后 qry 将从`?PARAMETER=111` 那里您可以使用正则表达式来拆分参数和值

查看[此 SO 项目](https://stackoverflow.com/a/901144/474535)以获取更多信息

# c# - C# Switch/case 共享相同的范围？

> ID：11409709
> 
> 赞同：12
> 
> 时间：2012-07-10T08:48:43.413
> 
> 标签：c#, .net, .net-4.0, clr, switch-statement

> **可能重复：**
> [c# switch 语句中的变量声明](https://stackoverflow.com/questions/222601/variable-declaration-in-c-sharp-switch-statement)

*我一直想知道：*

当我写：

```
 switch (temp)
        {
            case "1":
                int tmpInt = 1;
                break;

        } 
```

该`case "1":`区域有一个执行的代码区域（直到中断）

现在 ，

从上面的瀑布**不能**进入`case of 2`例如：

```
 switch (temp)
        {
            case "1":
                int tmpInt = 1;

            case "2":

                break;
        } 
```

*//错误：缺少中断返回。*

所以我假设，他们有不同的处决区域（case....break）。

那么为什么会出现这个错误呢？

![在此处输入图像描述](../Images/de0f16d4a21926f8f5ab5679d14efce4.png)

*//冲突变量 tmpInt 定义如下。*

*ps这只是一个愚蠢的问题，仍然很有趣。*

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-07-10T08:56:56.980

在 C# 中，范围仅由大括号确定。如果没有，则没有单独的范围。有`switch`/`case`显然没有。您所说的“执行区域”与您可以引用变量的位置完全无关。举一个人为的例子：

```
int x = 1;
goto foo;
// This part gets never executed but you can legally refer to x here.
foo: 
```

但是，如果您愿意，可以执行以下操作：

```
switch (temp)
{
    case "1":
        {
            int tmpint = 1;
            break;
        }
    case "2":
        {
            int tmpint = 1;
            break;
        }
} 
```

事实上，对于某些`switch`语句，我会这样做，因为它不会污染其他`case`s，从而使生活变得更加轻松。我有时会想念帕斯卡；-)

关于您尝试的失败，您必须在 C# 中使用`goto case "2"`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:57:10.897

试试这个

```
int tmpInt = 0;
switch (temp)
        {
            case "1":
            case "2":
                tmpInt = 1;
                break;
        } 
```

所以当 case 为 1 或 2 时，它会将 tmpint 设置为 1

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T08:57:19.797

C# 语言规范的第[8.5.1节说：](http://msdn.microsoft.com/en-us/library/aa664742%28v=vs.71%29.aspx)

> 在 local-variable-declaration 中声明的局部变量的范围是发生声明的块。在局部变量的局部变量声明符之前的文本位置引用局部变量是错误的。在局部变量的范围内，声明另一个同名的局部变量或常量是编译时错误。

本例中的块是 switch 语句，因为块由大括号确定。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-10T08:59:31.893

发生这种情况是因为您在同一范围内声明了一个具有相同名称的局部变量，就像当您将鼠标悬停在错误行上时智能感知会告诉您一样。

这就是为什么你真的应该在每种情况下都使用大括号：

```
switch(var)
{
    case 1: 
    {
        int temp=0;
    } break;
    case 2:
    {
        int temp=0;
    } break;
} 
```

这解决了“问题”（这实际上不是问题，这就是作用域的工作方式）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-10T08:52:13.630

您正在创建两次相同的变量，即`int tmpInt = 1;`

# objective-c - 为 UITextField 设置委托时应用程序崩溃

> ID：11409714
> 
> 赞同：0
> 
> 时间：2012-07-10T08:49:07.827
> 
> 标签：objective-c, ios, uitableview, delegates, uitextfield

我有一个应用程序，其中一个表视图从一个名为“NameCell”的类实例化单元格对象，该类具有一个名为“NameCellView.xib”的 nib 文件（Name Cell 是 NameCellView 的类）。在 NameCellView.xib 视图控制器中有一个名为“NameField”的 UITextField。现在我尝试将 UITextField 的 (NameField) 委托设置为文件所有者（例如单元格的类 = NameCell）。但是当我这样做时，应用程序会在我尝试与文本字段交互时立即崩溃（例如，当我点击它时），我得到的唯一消息是“（lldb）”，并且以下行在 main.m 中以绿色突出显示应用程序文件：

```
 return UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class])); 
```

关于为什么会发生这种情况以及如何解决它的任何想法？当用户点击“返回”键时，我要做的就是关闭键盘，所以如果你有更好的方法来做到这一点而无需授权，我会全力以赴！

非常感谢你的帮助！任何评论都非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:03:35.767

根据描述，事情并不清楚。但请检查 xib 中的连接。我认为问题在于xib连接

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T12:23:46.563

如果您愿意使用其他方法来关闭键盘，您可以添加一个“完成”按钮，点击该按钮时会调用“hideKeyboard”方法。

您将此按钮添加到键盘附件视图（基本上是一个简单的 UIToolBar，并进行了一些自定义以使其看起来不错）。

我不知道如何使用 Interface Builder 执行此操作，但我知道如何使用纯代码执行此操作：

```
// setup done button accessory view for keyboard

UIToolbar *toolBar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 0, 320, 44)];
[toolBar setBarStyle:UIBarStyleBlackTranslucent];

UIButton *btnDone = [[UIButton alloc] initWithFrame:CGRectMake(20, 8, 65, 30)];
[btnDone setTitle:@"Done" forState:UIControlStateNormal];
btnDone.titleLabel.font = [UIFont fontWithName:@"Arial-BoldMT" size:14];
btnDone.backgroundColor = [UIColor darkGrayColor];
btnDone.layer.cornerRadius = 5.0;
btnDone.tintColor = [UIColor darkGrayColor];
[btnDone addTarget:self action:@selector(hideKeyboard) forControlEvents:UIControlEventTouchUpInside];

[toolBar addSubview:btnDone];

[btnDone release];

// -------------------------------------------------------------------
// let your text field's keyboard know about the accessory view
// -------------------------------------------------------------------
myTextField.inputAccessoryView = toolBar;

...

// Hide Keyboard Method
-(void)hideKeyboard
{
    [myTextField resignFirstResponder];
} 
```

这将在键盘上方添加一个自定义视图，以便您可以按“完成”按钮隐藏键盘。

# php - 如何获取经过身份验证的用户的 Facebook 个人资料图片？

> ID：11409718
> 
> 赞同：-5
> 
> 时间：2012-07-10T08:49:20.100
> 
> 标签：php, facebook, facebook-graph-api

我使用 php 创建了一个网站，我可以在其中获取用户的 facebook 用户 ID、电子邮件 ID、FB ID 和其他一些东西。我是否可以从 facebook 获取个人资料图片，因此用户在进入系统时不需要上传图片？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:57:49.030

您可以使用以下 URL 获取 Facebook 个人资料照片：

```
http://graph.facebook.com/ID/picture 
```

因此，对于当前已通过身份验证的用户，您只需使用 SDK 中返回的用户 ID：

```
$user = $facebook->getUser();
$url = "http://graph.facebook.com/{$user}/picture"; 
```

# c# - 如何在 C# 中解决此错误？

> ID：11409720
> 
> 赞同：18
> 
> 时间：2012-07-10T08:49:23.423
> 
> 标签：c#, linq, c#-4.0, linq-to-entities

使用以下代码时出现错误

```
var v1 = from P in db1.QuranWordsNews where P.Aye == perId select P;
var vv = v1.LastOrDefault(); // The error occurs here 
```

消息：

> LINQ to Entities 无法识别方法 'TashihQuran.QuranWordsNew LastOrDefaultQuranWordsNew' 方法，并且此方法无法转换为商店表达式。

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-03-28T07:50:17.733

也许更好的答案在这里：

```
var vv = v1.OrderByDescending(rec => rec.Id).FirstOrDefault(); 
```

**从数据库中获取所有记录以仅使用最后一条记录是不好的。**

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2012-07-10T10:23:45.660

我猜你还在工作`IQueriable`。试试吧

```
var vv = v1.ToList().LastOrDefault(); 
```

或者，更优雅

```
var vv = v1.AsEnumerable().LastOrDefault(); 
```

# forms - Symfony2 表单：标签集合没有被持久化

> ID：11409721
> 
> 赞同：0
> 
> 时间：2012-07-10T08:49:25.800
> 
> 标签：forms, symfony, doctrine-orm

我有一个`Upload`Entity ，它可以有很多标签，

```
/**
 * @ORM\ManyToMany(targetEntity="Tag", mappedBy="uploads")
 */
protected $tags; 
```

并且`Tag`可以在许多上传中

```
/**
 * @ORM\ManyToMany(targetEntity="Upload", inversedBy="tags")
 * @ORM\JoinTable(name="upload_tag")
 */
protected $uploads; 
```

我有一个表单，我可以在其中上传文件，并使用多选选择标签....这是`UploadType`文件中的一个片段

```
......other form elements.....
$builder->add('tags', 'entity', array(
    'multiple' => true,
    'property' => 'name',
    'class' => 'BoiMembersBundle:Tag',
)); 
```

论坛提交很好，没有错误.....但是当我查看我的upload_tag时，它代表了我的mysql数据库中的ManyToMany关系，我看不到新行！！！

所以应用程序不会报告任何错误。上传的其他表单元素可以很好地插入，并转发到“成功”-Route，但我没有看到标签的持久化。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:28:22.910

这是因为`Upload`它不是关系的所有者，`Tag`并且您在关系本身中坚持`Upload`使用新实体（类型）。`Tag`事实上，它有这个`mappedBy`属性。

您可以配置级联`option`：

```
/**
 * @ORM\ManyToMany(targetEntity="Tag", mappedBy="uploads", cascade={"persist"})
 */
protected $tags; 
```

或者创建`Upload`关系的所有者（如果你认为你永远不会在其中保留`Tag`一个新的实体`Upload`）：

```
class Upload
{
    /**
     * BIDIRECTIONAL - OWNING SIDE
     * @ORM\ManyToMany(targetEntity="Tag", inversedBy="uploads")
     * @ORM\JoinTable(name="upload_tag")
     */
     protected $tags;
}    

class Tag
{

    /**
     * BIDIRECTIONAL - INVERSE SIDE
     * @ORM\ManyToMany(targetEntity="Upload", mappedBy="uploads")
     */
     protected $uploads;
} 
```

请参阅有关 Doctrine 2.x 文档[的使用关联。](http://doctrine-orm.readthedocs.org/en/2.0.x/reference/working-with-associations.html#transitive-persistence-cascade-operations)

# ios - presentViewController 是否有必需的上下文？

> ID：11409725
> 
> 赞同：0
> 
> 时间：2012-07-10T08:49:36.033
> 
> 标签：ios, uiviewcontroller, nsxmlparser

我的 iOS 应用程序有一个欢迎屏幕（不要与默认视图混淆）。视图控制器使用 NSXMLParser 下载并解析 XML 文件。当它完成它的任务时，它会显示一个按钮，单击该按钮时会调用“presentViewController”，它将用户带入实际的应用程序。这工作得很好。

然后我决定只希望应用程序自动转换，因此我完全删除了按钮并将对 presentViewController 的调用移动到“parserDidEndDocument”委托方法中。该方法被调用但没有任何反应。我怀疑它与上下文有关，但是当我记录“自我”时，它会打印一个欢迎视图控制器的实例。我究竟做错了什么？我应该如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T08:56:26.817

尝试将其分派到主线程。NSXmlParser 等异步对象在单独的线程上工作，但 UIKit 更新必须在主线程上完成。

```
dispatch_async(dispatch_get_main_queue(), ^{
    [self presentViewController]; //Or whatever
}); 
```

# json - Json / Jsonp 未连接到 php (Phonegap + jquerymobile)

> ID：11409726
> 
> 赞同：0
> 
> 时间：2012-07-10T08:49:40.790
> 
> 标签：json, jquery, web-applications, cordova

## 我正在尝试制作 -

*   一个安卓 WEB 应用程序
*   带电话间隙
*   使用 JqueryMobile 进行布局

### 我在做什么——

*   以 ID、姓名和地址为输入的 html 表单
*   '使用 ajax 序列化这些数据
*   用它制作一个 json 对象
*   应该将它发送到一个名为“connection.php”的文件
*   在哪里，这些数据被放入数据库（MySql）

### 其他详情 -

*   我的服务器是本地主机，我使用 xampp
*   我已经使用 phpmyadmin 创建了一个数据库和表

## 问题 -

*   我的 json 对象在其中创建的 html 文件未连接到我的 localhost 托管的 php 文件

## 这是我的完整 html 文件：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" 
"http://www.w3.org/TR/html4/strict.dtd"> 
<html> 
<head> 

<!-- Change this if you want to allow scaling --> 
   <meta name="viewport" content="width=default-width; user-scalable=no" /> 
   <meta http-equiv="Content-type" content="text/html;charset=utf-8"> 

   <title>Trial app</title>
   <link rel="stylesheet" href="thestylesheet.css" type="text/css">
    <script type="text/javascript" charset="utf-8" src="javascript1.js"></script>
    <script type="text/javascript" charset="utf-8" src="javascript2.js"></script>
    <script type="text/javascript" charset="utf-8" src="cordova-1.8.0.js"></script>

    <script>
    $(document).ready(function () {
        $("#btn").click( function() {
        alert('hello hello');

        $.ajax({
            url: "connection.php",
            type: "POST",
            data: {
                id: $('#id').val(),
                name: $('#name').val(),
                Address: $('#Address').val()
            },
            datatype: "json",
            success: function (status)
            {
                if (status.success == false)
                {
                    alert("Failure!");
                }
                else 
                {
                    alert("Success!");
                }
            }
        });

    });
    });
</script> 
</head> 

<body> 

<div data-role="header">
        <h1>Heading of the app</h1>
    </div><!-- /header -->
<div data-role="content">
    <form id="target" method="post">
        <label for="id">
            <input type="text" id="id" placeholder="ID">
        </label>

        <label for="name">
            <input type="text" id="name" placeholder="Name">
        </label>

        <label for="Address">
            <input type="text" id="Address" placeholder="Address">
        </label>
<div id="btn" data-role="button" data-icon="star" data-theme="e">Add record</div>
        <!--<input type="submit" value="Add record" data-icon="star" data-theme="e">
        -->
    </form>

</div>
</body> 
</html> 
```

## 这是我的本地主机托管的“connection.php”

```
 <?php header('Content-type: application/json');

$server = "localhost";

$username = "root";

$password = "";

$database = "jqueryex";

$con = mysql_connect($server, $username, $password);
if($con) { echo "Connected to database!"; }
else { echo "Could not connect!"; }
//or die ("Could not connect: " . mysql_error());

mysql_select_db($database, $con);

/*
 CREATE TABLE `sample` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(45) DEFAULT NULL,
  `Address` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`)
)

*/
    $id= json_decode($_POST['id']);

$name = json_decode($_POST['name']);

$Address = json_decode($_POST['Address']);

    $sql = "INSERT INTO sample (id, name, Address) ";
    $sql .= "VALUES ($id, '$name', '$Address')";
    if (!mysql_query($sql, $con)) {
        die('Error: ' . mysql_error());
    } else {
        echo "Comment added";
    }
    mysql_close($con);
?> 
```

## 我的疑惑：

*   当我在 phpmyadmin 中查看表“样本”时，没有在我的表中创建任何条目
*   很明显，我也没有看到任何成功消息
*   我没有收到任何错误，不是来自 ajax，也不是来自 php 文件。

## 我怀疑的东西：

*   我应该使用 jsonp 而不是 json 吗？我对此很陌生。
*   我的php文件有问题吗？
*   也许我需要在我的 html 文件中包含更多的 javascript 文件？

我认为这是一个非常简单的问题，所以请帮助我！我认为这只是一些概念上的错误，因为我刚刚开始使用 jquery、ajax 和 json。谢谢你。

# 一些编辑：

我收到以下语法错误：

已连接数据库！
**注意：未定义索引：第****28**行**C:\xampp\htdocs\connection.php**中的id**注意**：未定义索引：第**31**行**C:\xampp\htdocs\connection.php中的名称****注意：未定义索引：** **C:\**中的地址第**34**行的**xampp\htdocs\connection.php** 错误：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 ''', '')' 附近使用正确的语法

 ******所以我将代码更改为

```
if (isset($_POST['id']))
$id= json_decode($_POST['id']);

if (isset($_POST['name']))
$name = json_decode($_POST['name']);

if (isset($_POST['Address']))
$Address = json_decode($_POST['Address']); 
```

仍然遇到相同的错误

请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:06:32.537

您可以在 Phonegap 中将 JSONP 用于 ajax 请求。但为此，您必须使用 JSONP 对服务器页面使用跨域请求。在这里你必须使用回调方法。

只需浏览我[在 phonegap 上的 $.ajax() 帖子](https://stackoverflow.com/questions/11054319/ajax-on-phonegap/11062464#11062464)。

还有一件事，不要从 android 向 localhost 发出请求。只需将您的文件放入网络服务器并尝试发出请求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:12:32.653

由于您使用的是 android，因此直接 connection.php 不起作用，这是完成此操作的一般方法：

[http://www.mobitechie.com/android-2/how-to-access-localhost-on-android-over-wifi/](http://www.mobitechie.com/android-2/how-to-access-localhost-on-android-over-wifi/)

在您设置上面链接中给出的内容后，您将获得的网络地址将类似于 10.0.0.2 然后将您的服务器更改为`http://10.0.0.2/connection.php`connection.php 放置在`htdocs`目录中的位置。

上述步骤是必要的，因为 android 将 localhost 视为自己的设备 localhost，并且不会直接选择系统的 localhost。

在此答案下进一步评论以询问您是否还有更多问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T15:59:22.907

请将此脚本更改为：

```
$sql = "INSERT INTO sample (id, name, Address) ";
$sql .= "VALUES ($id, '$name', '$Address')"; 
```

至：

```
$sql = "INSERT INTO sample (id, name, Address) ";
$sql .= "VALUES ('$id', '$name', '$Address')"; 
```

`'` 在 $id 周围添加字符******

# .htaccess - .htaccess RewriteRule 反向引用顺序

> ID：11409727
> 
> 赞同：0
> 
> 时间：2012-07-10T08:49:44.333
> 
> 标签：.htaccess, mod-rewrite

我有一个关于 htaccess 重写规则的问题。

是否可以转换此网址：

*www.site.com/en/test*

在这样的事情中：

*www.site.com/test.php?language=en*

我尝试使用这个 RewriteRule

```
RewriteRule ^([a-z][a-z])/(.*)$ $1.php?language=$2 
```

但在某些在线测试工具中，结果 URL 为：

*www.site.com/en.php?language=test*

先感谢您。垫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:55:46.143

造成这种混乱的原因是您颠倒了比赛。当您使用引用时，匹配中的第一个引用始终是 $1，第二个是 $2，依此类推。

这是您所做的，仅查看括号：

```
([a-z][a-z]) = first match, places "en" in $1 
(.*) = second match, places "test" in $2 
```

因此，您只需在输出中反转它们，如下所示：

```
RewriteRule ^([a-z][a-z])/(.*)$ $2.php?language=$1 
```

# conflict - yacc 移位/减少冲突。它真的很复杂

> ID：11409728
> 
> 赞同：0
> 
> 时间：2012-07-10T08:49:45.140
> 
> 标签：conflict, bison, yacc, shift-reduce-conflict

我尝试了很多次来解决这个冲突。

但我不知道为什么会在这里发生冲突。

2 冲突发生在编译时。

yacc(bison) 错误：

```
State 314 conflicts: 1 shift/reduce
State 315 conflicts: 1 shift/reduce

state 314
  7 c_complex_object_id: type_identifier .
  8                    | type_identifier . V_LOCAL_TERM_CODE_REF 

    V_LOCAL_TERM_CODE_REF  shift, and go to state 77
    V_LOCAL_TERM_CODE_REF  [reduce using rule 7 (c_complex_object_id)]
    $default                reduce using rule 7 (c_complex_object_id)

state 315
  127 c_integer_spec:     integer_value .
  184 ordinal:            integer_value . SYM_INTERVAL_DELIM V_QUALIFIED_TERM_CODE_REF
  201 integer_list_value: integer_value . ',' integer_value
  203                   | integer_value . ',' SYM_LIST_CONTINUE

    SYM_INTERVAL_DELIM  shift, and go to state 380
    ','                 shift, and go to state 200
    SYM_INTERVAL_DELIM  [reduce using rule 127 (c_integer_spec)]
    $default             reduce using rule 127 (c_integer_spec)

state 77
  8 c_complex_object_id: type_identifier V_LOCAL_TERM_CODE_REF .

    $default  reduce using rule 8 (c_complex_object_id)

state 380
  184 ordinal: integer_value SYM_INTERVAL_DELIM . V_QUALIFIED_TERM_CODE_REF

    V_QUALIFIED_TERM_CODE_REF  shift, and go to state 422

state 200
  201 integer_list_value: integer_value ',' . integer_value
  203                        | integer_value ',' . SYM_LIST_CONTINUE

    V_INTEGER          shift, and go to state 2
    SYM_LIST_CONTINUE  shift, and go to state 276
    '+'                     shift, and go to state 170
    '-'                     shift, and go to state 171

    integer_value  go to state 277

... 
```

yacc 来源：

```
c_complex_object_id
    : type_identifier 
    | type_identifier V_LOCAL_TERM_CODE_REF 
    ; 

type_identifier
    : '(' V_TYPE_IDENTIFIER ')' 
    | '(' V_GENERIC_TYPE_IDENTIFIER ')' 
    | V_TYPE_IDENTIFIER 
    | V_GENERIC_TYPE_IDENTIFIER 
    ;

c_integer_spec
    : integer_value 
    | integer_list_value 
    | integer_interval_value 
    ; 

c_integer
    : c_integer_spec 
    | c_integer_spec ';' integer_value 
    | c_integer_spec ';' error 
    ; 

ordinal
    : integer_value SYM_INTERVAL_DELIM V_QUALIFIED_TERM_CODE_REF 
    ; 

integer_list_value
    : integer_value ',' integer_value 
    | integer_value ',' SYM_LIST_CONTINUE 
    ; 

integer_value
    : V_INTEGER
    | '+' V_INTEGER
    | '-' V_INTEGER
    ; 
```

我上面有两个问题。它出什么问题了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-11T14:16:35.890

让我们考虑来自第一个班次/减少冲突的消息。您可以将句点 (".") 作为指针读取。信息或多或少用英语说的是

“当我处于状态 299 并且我已经识别出 a`type_identifier`时，我必须决定是按照规则 7 减少（识别`c_complex_object_id : type_identifier`）还是转移到状态 63（继续扫描 a `V_LOCAL_TERM_CODE_REF`）。”

通常，当尚未识别的产生式 ( `V_LOCAL_TERM_CODE_REF`) 是可选的时，就会发生这样的冲突。

据我从您的评论中可以看出，您对令牌 V_LOCAL_TERM_CODE_REF 等的定义看起来不错。

~~如果没有看到状态 63 的 yacc 诊断输出，很难进一步诊断。您能否编辑您的问题以显示状态 63 的输出？它可能会告诉我们一些事情。~~

我发现了[Pete Jinks 的一些讲义](http://www.cs.man.ac.uk/%7Epjj/cs212/ho/node7.html)，它们可能对你有用。您还可以阅读本页右栏中“相关”标题下列出的其他一些问题。

**更新**

一方面，您是正确的：可以忽略移位/减少冲突。bison/yacc 将生成一个运行的解析器，它会做*一些事情*。但重要的是要了解您*为什么*忽略特定冲突。然后你就会明白为什么解析器在出现输入程序时会以它的方式解析它并产生它所做的输出。不好说，“哦，这太复杂了，我想不通。”

# ruby-on-rails - 为什么我的 FactoryGirl 回调在不应该运行时运行？

> ID：11409734
> 
> 赞同：1
> 
> 时间：2012-07-10T08:50:08.210
> 
> 标签：ruby-on-rails, factory-bot

我正在使用带有 RoR 3.2.3 的 FactoryGirl 3.3.0

我有一个用户模型，它有这样的个人资料；

```
class User < ActiveRecord::Base
  has_secure_password
  has_one :profile, dependent: :destroy
  accepts_nested_attributes_for :profile, update_only: true
  attr_accessible :email, :username, :password, :password_confirmation, :profile_attributes
  before_create :build_profile
end

class Profile < ActiveRecord::Base
  attr_accessible :first_name, :last_name
  belongs_to :user
  validates :user, presence: true
  validates :first_name, presence: true, on: :update
  validates :last_name, presence: true, on: :update
end 
```

在我的 rspec 测试中，我有时需要阻止 before_create :build_profile 运行，这样我就可以拥有一个没有配置文件的用户。我用 FactoryGirl 回调来管理这个

```
after(:build) {|user| user.class.skip_callback(:create, :before, :build_profile)} 
```

我的用户工厂定义如下；

```
FactoryGirl.define do
  factory :user do
    sequence(:email) {|n| "user_#{n}@example.com"}
    sequence(:username) {|n| "user_#{n}"}
    password "secret"
    factory :user_with_profile do
      factory :new_user_with_profile do
        before(:create) {|user| user.activated = false}
      end
      factory :activated_user_with_profile do
        before(:create) {|user| user.activated = true}
      end
    end
    factory :user_without_profile do
      after(:build) {|user| user.class.skip_callback(:create, :before, :build_profile)}
      factory :new_user_without_profile do
        before(:create) {|user| user.activated = false}
      end
      factory :activated_user_without_profile do
        before(:create) {|user| user.activated = true}
      end
    end
  end
end 
```

我的期望是`:new_user_without_profile`and`:activated_user_without_profile`会继承`after(:build)`回调，`:user_without_profile`而`:new_user_with_profile`and`:activated_user_with_profile`工厂不会，但它并不是那样工作的。这是控制台的摘录，以演示我的问题；

```
irb(main):001:0> user = FactoryGirl.create :new_user_with_profile
irb(main):002:0> user.profile
=> #<Profile id: 11, first_name: "", last_name: "", created_at: "2012-07-10 08:40:10", updated_at: "2012-07-10 08:40:10", user_id: 18>
irb(main):003:0> user = FactoryGirl.create :new_user_without_profile
irb(main):004:0> user.profile
=> nil
irb(main):005:0> user = FactoryGirl.create :new_user_with_profile
irb(main):006:0> user.profile
=> nil 
```

所以，我第一次创建 :new_user_with_profile 时，会按预期创建配置文件，但第二次（在创建 :new_user_without_profile 之后），它就没有了！after(:build) 回调似乎没有被再次调用（如果我添加一些代码来输出一些东西，我在终端中看不到它）。我不知道这里出了什么问题。还有其他人吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T11:11:30.463

This is a dirty solution but have you tried to write the definition of the callback in the `factory :user_with_profile`:

```
after(:build) {|user| user.class.set_callback(:create, :before, :build_profile)} 
```

Does it work?

# php - 基于 IF 语句通过 PHP 调用 JS 函数的问题

> ID：11409745
> 
> 赞同：0
> 
> 时间：2012-07-10T08:50:49.413
> 
> 标签：php, javascript, html

我有一个基于网络的工具。有一个登录，其中用户名、登录和授权存储在会话变量中。

在一个特定页面中，我有一个包含多个按钮的表单，我希望根据用户授权级别禁用一个按钮。因此，如果授权为 0（用户），则该按钮被禁用，否则它被启用，因为我只有两个授权级别，0 和 1。

我在下面附上了我所做的，对我来说它看起来是正确的，显然不是！

这是 JQuery 函数：

```
$(function disable(){
  $('#signBtn').attr('disabled', true);
}); 
```

这是PHP代码：

```
if($_SESSION['authorised'] == '0') 
{
    echo "<SCRIPT LANGUAGE='javascript'>disable();</SCRIPT>";
} 
```

这是我的 HTML 代码：

```
 <input type=\"submit\" name=\"save\"  id = \"signBtn\" class = 'eBtnSubmit' value=\"Sign off by Chairperson\" /> 
```

如果有人能看出我的问题是什么，我将不胜感激......这是我的最后一块拼图，我今天要介绍这个（软件实习生）。

所以基本上如果级别为 0 调用该函数。

问候，加里

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:55:46.223

没有保修，因为我没有所有的代码

将静态 JavaScript 代码更改为此

```
var disableSingoff = function () {
    $('#signBtn').attr('disabled', true);
} 
```

在您的原始代码中，您可以`disable()`在 DOM 准备好时通过将其包装在`$()`.

将 PHP 代码更改为此

```
if($_SESSION['authorised'] == '0') {
    echo "<script>$(function () { disableSignoff(); })</script>";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:59:36.720

是`<input type=\"submit\" name=\"save\" id = \"signBtn\" class = 'eBtnSubmit' value=\"Sign off by Chairperson\" />`从 php 语句中得到回应的吗？如果没有，你可以摆脱所有的'\'。严格编写 html 时，它们不是必需的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:01:41.513

如果可能，在 HTML 中简单地设置值可能更容易

```
if($_SESSION['authorised'] == '0'){
    echo '<button type="button" disabled="disabled">Click Me!</button>';
}else{
    echo '<button type="button">Click Me!</button>';
} 
```

这甚至可以在页面开始加载之前工作。

另一种选择是在加载功能上挂钩窗口。

window.onload = (function(){ [...] }

# javascript - 从页面移动到另一个页面时从 Sqlite db 中删除的数据

> ID：11409746
> 
> 赞同：2
> 
> 时间：2012-07-10T08:50:50.493
> 
> 标签：javascript, sqlite, cordova

我使用 phonegap 为 Android 和 IOS 构建应用程序。我使用 sqlite 存储我的数据库。我有一个主要的 javascript 文件，其中编写了数据库的初始化和主要功能，然后在其他页面上我放置了与该页面相关的数据库功能。

问题是当我从另一个页面对数据库进行一些操作然后移动到下一页并检索数据时，我发现我之前所做的所有内容都被删除了，它只是从主 javascript 文件中获取数据。

我想知道如何保存数据并防止当我从一页移动到另一页时将其删除。

我在所有页面中使用的主要 javascript 文件都包含用于数据库初始化的以下内容：

```
function populateDB(tx) {
tx.executeSql('DROP TABLE IF EXISTS Table');
} 
```

这是问题吗？我是否应该在每次使用数据库时阻止表被删除？但是如果我删除了它，我应该在创建数据库时第一次做什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:08:32.607

是的，您每次都删除表格，因此当您进入下一页时，您会丢失上一页的数据。您应该第一次创建如下的数据库表。

```
function populateDB(tx) { 
tx.executeSql('create table if not exists TableName (id integer)'); 
} 
```

# android - 知道 Activity 是否已被销毁的正确方法

> ID：11409747
> 
> 赞同：11
> 
> 时间：2012-07-10T08:50:53.737
> 
> 标签：android

我可以知道知道 Activity 是否已被销毁的正确方法是什么吗？目前，我正在使用以下方式。

```
private volatile boolean isOnDestroyCalled = false;

@Override
protected void onDestroy() {
    super.onDestroy();
    isOnDestroyCalled = true;
}

public boolean isOnDestroyCalled() {
    return this.isOnDestroyCalled;
} 
```

还有比上述更好的方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:02:31.067

这会起作用，但有时操作系统会关闭您的应用程序，如果它在其他应用程序需要优先级时处于非活动状态一段时间。我当然知道当这种情况发生时，变量会被取消，但不确定在你的情况下是否会使用 volatile 进入主内存。但确保获得正确值的一种方法是将其保存在 SharedPreferences 中。

# c++ - C++ 工厂和链接器依赖项

> ID：11409752
> 
> 赞同：2
> 
> 时间：2012-07-10T08:51:11.523
> 
> 标签：c++, dependencies, factory

我的库包括一个接口（代表一个相机）和一些派生类。
每个派生类都实现到特定的硬件，这导致每个派生类都依赖于外部供应商库。

*   每个派生类都是一个静态库并链接其库依赖项

*   我只提供一个名为 的类`Factory`，它有一种方法：
    `ICamera* create(const std::string& type)`

*   工厂#includes 并链接所有派生类，库用户不知道派生的实现。`create()`天真地实施：

    `if (type == "a") return new CameraA();`
    `if (type == "b") return new CameraB();`
    `...`

所以基本上有一个臃肿的 Factory.lib 包含所有必要的依赖项，库用户可以通过链接到 Factory.lib 来创建任何相机 impl

**问题**

1.  当您链接到 Factory.lib 时，在运行您的应用程序时，您需要来自所有供应商的所有 dll。理想情况下，我希望您只需要您正在使用的特定相机的 dll。有没有办法做到这一点？
2.  我正在考虑将每个派生的文件编译为 dll 而不是 lib。现在 Factory.lib 并不臃肿，所有相机特定的依赖项都在每个派生的 dll 中。如果我不解决`li`#1，这并没有多大帮助，因为除了 Factory.lib 和供应商 dll 之外，您仍然需要所有派生的 dll。
3.  有没有更好的方法来实现 Creator 类（或方法）？我的派生类数量有限，只有 5-6 个，而且不会经常增长。
4.  欢迎任何其他可以最小化依赖关系和改进设计的技巧

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:10:34.253

您可以在运行时加载共享库（或 dll）。您必须知道在哪里（在哪个 dll 中）查找特定的 ICamera 实现。例如，您可以为每个 dll 导出第二个函数，该函数提供准确的信息，即特定 dll 提供了哪些实现（type=="a" 和 type=="c"）。在启动应用程序时，它可以搜索 dll 并为每个 dll 调用该信息接口。

# eclipse - Eclipse 3.7 (indigo SR2) m2e (1.1) import Maven 不会添加生成源的源文件夹

> ID：11409757
> 
> 赞同：2
> 
> 时间：2012-07-10T08:51:18.617
> 
> 标签：eclipse, maven-3, m2e

我有一个更大的 Maven (3.0.4) 项目，其中包含生成 jaxb、javaws 等代码的模块。

我遇到的问题是，在导入项目后，生成的源路径未添加为 Eclipse 中的源文件夹。目前我需要手动添加文件夹（target/generated-sources/jaxb）以使其在 Eclipse 中工作。

在较旧版本的 m2e 中，存在一个控制导入期间运行的阶段的配置。

有人有一个必须改变的想法吗？

**更新** 我已经测试通过 build-helper-maven-plugin 添加源文件夹

```
 <plugin>
    <groupId>org.codehaus.mojo</groupId>
    <artifactId>build-helper-maven-plugin</artifactId>
    <executions>
      <execution>
        <phase>generate-sources</phase>
        <goals>
          <goal>add-source</goal>
        </goals>
        <configuration>
          <sources>
            <source>target/generated-sources/jaxb/</source>
          </sources>
        </configuration>
      </execution>
    </executions>
  </plugin> 
```

但这也不能解决问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-25T08:21:13.237

您需要 m2eclipse-buildhelper 插件让 m2e 知道如何添加新的源文件夹。如果版本来自

> 窗口 > 首选项 > Maven > 发现 > 打开目录...

没有安装，尝试使用这个 p2 更新站点来安装它：

[http://repository.tesla.io:8081/nexus/content/sites/m2e.extras/m2eclipse-buildhelper/0.15.0/N/0.15.0.201207090124/](http://repository.tesla.io:8081/nexus/content/sites/m2e.extras/m2eclipse-buildhelper/0.15.0/N/0.15.0.201207090124/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-11T10:51:46.400

除了将 Maven 控制的依赖项放在类路径中之外，Maven 似乎已经放弃了更新项目配置。这意味着，如果您拥有需要特殊项目性质或类路径配置的 Eclipse 工具，您将不得不自己进行这些配置更改（或希望该工具能够）。

为了支持这个 m2e，添加了两个 Eclipse 插件可以扩展的 Eclipse 扩展点。当 maven 更新类路径和项目描述时，将调用这些扩展。只有当你编写了一个可以调用的 eclipse 插件时，它们才会被调用。

还有更多细节，但这些细节需要和理解 eclipse 插件开发。

# git - 执行 gitstats 时除以零运行时错误

> ID：11409758
> 
> 赞同：0
> 
> 时间：2012-07-10T08:51:26.167
> 
> 标签：git

执行 gitstats 时除以零运行时错误。请在下面找到错误截图：

对于仅包含二进制文件的 git 存储库，似乎 getTotalLOC() 产生零并导致除零错误：

```
File "/usr/bin/gitstats", line 1034, in create
f.write('<tr><td>%s</td><td>%d (%.2f%%)</td><td>%d (%.2f%%)</td><td>%d</td></tr>' % (ext, files, (100.0 * files) / data.getTotalFiles(), lines, (100.0 * lines) / data.getTotalLOC(), lines / files))
ZeroDivisionError: float division by zero 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:53:28.813

使用 apt-get 安装 gitstats 时发生错误

*[从http://repo.or.cz/w/gitstats.git/snapshot/910d179c5f116254cef7440b8511f97a99b3c277.tar.gz](http://repo.or.cz/w/gitstats.git/snapshot/910d179c5f116254cef7440b8511f97a99b3c277.tar.gz)或从最新的[master](http://repo.or.cz/w/gitstats.git/snapshot/)*下载源代码*并安装。*

 ***焦油 -xzvf gitstats-910d179c5f116254cef7440b8511f97a99b3c277.tar.gz -C 。**

**cd gitstats**

**须藤使安装**

*运行为*

**sudo gitstats repo_path path_to_store_the_created_stats_results***

# android - 如何使用非活动类中存储在 sharedpreferences 中的数据

> ID：11409759
> 
> 赞同：3
> 
> 时间：2012-07-10T08:51:26.410
> 
> 标签：android, sharedpreferences

我正在尝试从非活动类获取和更新存储在 sharedpreferences xml 文件中的数据。但我不知道如何从 android 中的非活动类获取存储在 sharedPreferences 中的数据。在我的活动类中我可以将数据存储在 sharedprefences 中，我也可以在我的活动课程中检索这些数据。但是我无法从非活动类中检索这些数据。我的代码如下。谢谢...

```
 mSharedPrefs = getSharedPreferences("storageforfavorite", 0);
    mPrefsEditor = mSharedPrefs.edit();

    for(int i= 0;i<names.size();i++){
        mPrefsEditor.putString(indexForFav[i],"0"); 
    }
    mPrefsEditor.commit();

    for(int i=0;i<names.size();i++){
        String keyForFav=mSharedPrefs.getString(indexForFav[i], "2");
        valueForFav.add(keyForFav);
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T08:53:27.560

关键是可以访问 Context 对象。因此，如果您想在对象内部使用 sharedPreferences，也许您应该在类构造函数中传递一个 Context 对象。这样做你可以这样做：

```
SharedPreferences prefs = context.getSharedPreferences(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:53:26.790

您必须通过 a`Context`才能`SharedPreferences`从非`Activity`类访问。

例子：

```
// mContext => Context-object passed from calling Activity
SharedPreferences mSharedPrefs = mContext.getSharedPreferences("storageforfavorite", 0); 
```

# android - 我如何知道我的 android 应用程序的线程与哪个元素相关？

> ID：11409763
> 
> 赞同：0
> 
> 时间：2012-07-10T08:51:37.840
> 
> 标签：android, multithreading

首先，我不手动创建线程。

我可以监视我的 android 应用程序的线程：

![](../Images/82fcf221b26632e4f5e3e84c45631ee1.png)

我如何知道这些线程与哪些元素相关？

例如所有 httpXX 线程或 AsyncTask #X ，有没有办法知道它们在代码中的创建位置？因为他们每次都呆在那里，我害怕泄露内存。

相反，我有一个在线程中加载图像的 ImageCache。当我在显示图像的视图中时，这些线程出现在列表中，并在我关闭应用程序时消失。

httpX 、 AsyncTask #X 、 WebViewWorkerThread 等在我关闭应用程序时不会消失。所以我想知道在哪里可以释放内存、关闭连接等

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-15T23:32:15.253

该线程由内部依赖于线程池的 Android 类创建。线程池的主要思想不是每次你需要做某事时都创建一个新线程，而是重用已经启动的线程并保持它们运行，即使它们现在没有工作。

例如`AsyncTask #X`线程是由[AsyncTask](https://github.com/android/platform_frameworks_base/blob/master/core/java/android/os/AsyncTask.java) internal创建的`ThreadPoolExecutor`。如果你查看它的源代码，你会注意到这个 ThreadFactory：

```
private static final ThreadFactory sThreadFactory = new ThreadFactory() {
    private final AtomicInteger mCount = new AtomicInteger(1);

    public Thread newThread(Runnable r) {
        return new Thread(r, "AsyncTask #" + mCount.getAndIncrement());
    }
}; 
```

`WebViewCoreThread`, `WebViewWorkerThread`, 和`http0`-`http11`是内部工作线程，`WebView`它们代表`WebView`.

所以所有这些线程都由 Android 系统管理，你不需要对它们做任何事情。当您关闭您的应用程序时，它们不会消失，这没关系。

# jquery - 如何在 Mvc3 中创建简单的 Portlet/WebPart

> ID：11409773
> 
> 赞同：-3
> 
> 时间：2012-07-10T08:52:15.590
> 
> 标签：jquery, asp.net-mvc-3

我正在尝试将 Portlet/Webpart 合并到我的项目中，任何人都可以给我一个简单的演示，我该如何实现它。我只想要它的基本知识，以便我可以开始编码，简单的编码示例

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:00:01.570

有很多关于如何创建 portlet 的好教程。例如 [http://www.codeproject.com/Articles/147797/Webpart-Portlet-development-in-ASP-NET-MVC-Framewo](http://www.codeproject.com/Articles/147797/Webpart-Portlet-development-in-ASP-NET-MVC-Framewo)

但是，您如何设置它取决于您的项目是如何设置的。

# c# - WCF - 客户端和 > 服务绑定可能不匹配

> ID：11409775
> 
> 赞同：4
> 
> 时间：2012-07-10T08:52:25.687
> 
> 标签：c#, .net, wcf

错误：

> 内容类型多部分/相关；type="application/xop+xml";start=" [http://tempuri.org/0](http://tempuri.org/0) ";boundary="uuid:ba0ec7a3-1707-44b9-be72-2fe11d4dfe2b+id=4";start-info="text /xml" 不受服务支持 `http://ServerName/FolderName/ServiceName.svc.` 客户端和服务绑定可能不匹配。

客户端配置：

```
<configuration>
    <system.serviceModel>
        <bindings>
            <basicHttpBinding>
                <binding name="BasicHttpBinding_IService" closeTimeout="00:01:00"
                    openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
                    allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
                    maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
                    messageEncoding="Mtom" textEncoding="utf-8" transferMode="Buffered"
                    useDefaultWebProxy="true">
                    <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
                        maxBytesPerRead="4096" maxNameTableCharCount="16384" />
                    <security mode="None">
                        <transport clientCredentialType="None" proxyCredentialType="None"
                            realm="" />
                        <message clientCredentialType="UserName" algorithmSuite="Default" />
                    </security>
                </binding>
            </basicHttpBinding>
        </bindings>
        <client>
            <endpoint address="http://localhost:1371/Service.svc"
                binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_IService"
                contract="Service.IService" name="BasicHttpBinding_IService" />
        </client>
    </system.serviceModel>
</configuration> 
```

服务器配置：

```
<bindings>
       <basicHttpBinding>         
          <binding name="BasicHttpBinding_IService" closeTimeout="00:01:00"
             openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
             allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
             maxBufferSize="2147483647" maxBufferPoolSize="524288" maxReceivedMessageSize="2147483647"
             messageEncoding="Mtom" textEncoding="utf-8" transferMode="Streamed"
             useDefaultWebProxy="true">
             <readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647"
                maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647" />
             <security mode="None">
                <transport clientCredentialType="None" proxyCredentialType="None"
                   realm="" />
                <message clientCredentialType="UserName" algorithmSuite="Default" />
             </security>
          </binding>
</basicHttpBinding>
    </bindings> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:08:57.520

从装订中取出`messageEncoding`钻头。*它当前设置为不允许文本/xml*传输`basicHttpBinding`的“MTOM” 。

 *更多信息[在这里](http://msdn.microsoft.com/en-us/library/system.servicemodel.basichttpbinding.messageencoding.aspx)。*

# installation - 回滚时在 WIX 中注销 COM 组件，有必要吗？

> ID：11409782
> 
> 赞同：2
> 
> 时间：2012-07-10T08:52:36.203
> 
> 标签：installation, wix, com-interop, rollback

我正在创建一个 WIX 安装程序项目。安装中的一部分工作是注册一些 COM 组件。我已经（希望）通过使用 heat.exe 来生成 COM 组件声明成功了，尽管我需要在生成 wxs 文件后进行一些修改。为了清楚起见，我在此处粘贴我的 COM 组件声明：

```
<ComponentGroup Id="COMComponent" Directory="INSTALLDIR">        
      <Component Id="COMDll" Guid="MY_GUID1">
        <Class Id="{MY_CLASSID1}" Context="InprocServer32" Description="DESCRIPTION1" ThreadingModel="both" ForeignServer="mscoree.dll">
          <ProgId Id="MYID1" Description="DESCRIPTION1" />
        </Class>
...
        <File Id="FILE_ID_1" KeyPath="yes" Source="MY_COM.dll" />  

        <File Id="FILD_ID2" KeyPath="no" Source="MY_COM.tlb">
          <TypeLib Id="{xxx}" Description="xxx" HelpDirectory="INSTALLDIR" Language="0" MajorVersion="525" MinorVersion="0">
            <Interface Id="{xxx}" Name="xxx" ProxyStubClassId32="{00020424-0000-0000-C000-000000000046}" />
...
          </TypeLib>
        </File>

        <ProgId Id="Record" />
        <RegistryValue Root="HKCR" Key="CLSID\{xxx}\Implemented Categories\{xxx}"  Value="" Type="string" Action="write" />
        <RegistryValue Root="HKCR" Key="CLSID\{xxx}\InprocServer32\525.0.4573.25681" Name="Class" Value=" MYID1" Type="string" Action="write" />
...
        </Component>                          
    </ComponentGroup> 
```

我用xxx替换了一些ID，所以它们不是问题。如果还有什么不对的，请告诉我。

现在我的问题是：我是否需要在回滚阶段明确指定卸载 COM 组件？因为我遇到了一些问题，在一些安装失败后，进一步的安装尝试无法通过，并且弹出一些“无法创建 ActiveX 对象”错误。我怀疑是因为之前安装失败时COM组件没有注销成功。但我不确定。事实上，我对 COM 互操作的了解有限，所以我不确定安装/卸载它们的必要性。任何帮助，将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T13:16:53.263

当您使用 Heat 来收集 COM 组件时，这就足够了。如果安装失败并回滚，它应该处理注销您的 COM 组件。

# c# - 哪个是更快的列表 .foreach 或 listString.GetEnumerator()

> ID：11409785
> 
> 赞同：2
> 
> 时间：2012-07-10T08:52:37.233
> 
> 标签：c#, .net, list

我编写了以下代码来打印列表中的项目值。现在我想衡量哪个更快，因为我将有大量的清单要处理。并请说明您认为这更好的原因（如果有证据）

那么如何计算处理时间呢？手动创建一个庞大的列表是唯一的选择吗？

```
 public void printMedod(string strPrintListVal)
        {
            Console.WriteLine(strPrintListVal);
        }

        static void Main(string[] args)
        {
            Program p1 = new Program();

            List<string> listString = new List<string> { "Rox","Stephens","Manahat","Lexus",":)"};
            listString.ForEach(p1.printMedod);
            Console.ReadKey();
        } 
```

我也可以使用 GetEnumerator 做同样的事情：

```
 static void Main(string[] args)
        {
            List<string> listString = new List<string> { "Rox","Stephens","Manahat","Lexus",":)"};
            var enumerator = listString.GetEnumerator();
            while (enumerator.MoveNext())
            {
                var pair = enumerator.Current;
                Console.WriteLine(pair);
            }
            Console.ReadKey();
        } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T09:02:33.123

我已经`ForEach`浏览了列表，但有人告诉我 for 循环比其他任何东西都快：

```
for(int i = 0;i < stringList.Length; i++)
{
    Console.WriteLine(stringList[i]);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T09:02:20.797

您可以使用[LinqPad](http://www.linqpad.net/)，它显示执行时间

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T09:00:18.937

这里也不是最好的选择，只是做

```
static void Main(string[] args)
{
    var stringList = new List<string> 
        { "Rox", "Stephens", "Manahat", "Lexus", ":)" };

    foreach(var s in stringList)
    {
        Console.WriteLine(s);
    }

    Console.ReadKey();
} 
```

* * *

**编辑**

[在这个问题](https://stackoverflow.com/q/28637/659190)中使用[秒表](http://msdn.microsoft.com/en-us/library/system.diagnostics.stopwatch.stopwatch.aspx)更多信息

```
using System.Diagnotics;

var stopWatch = new StopWatch();

stopWatch.Start();

// Do somthing
// If somthing is really fast do lots of somthing

stopWatch.Stop();

// The duration is a TimeSpan in stopWatch.Elapsed; 
```

# c++ - 这里看到的重要内存分配缺陷是什么？

> ID：11409787
> 
> 赞同：-5
> 
> 时间：2012-07-10T08:52:40.353
> 
> 标签：c++, memory-management

其实这是我得到的作业。但我不知道答案。谁能帮帮我吗？

在以下 C++ 代码中看到的重要内存分配缺陷是什么？你怎么能避免它？

```
void testFunction(){
   int * p = new int(5);
   cout << p << *p << &p << endl;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T08:53:44.223

内存永远不会被释放，所以你有内存泄漏。您可以通过删除指针来解决此问题：

```
void testFunction(){
   int * p = new int(5);
   cout << p << *p << &p << endl;
   delete p;
} 
```

# java - 为什么 Java 不抱怨泛型映射转换？

> ID：11409788
> 
> 赞同：5
> 
> 时间：2012-07-10T08:52:41.307
> 
> 标签：java, generics, map, casting

```
Object stringMap = new HashMap<String, String>(){{ put("1", "a"); }};
Map<Integer, String> integerMap = (Map<Integer, String>)stringMap; // Why doesn't Java throw an exception at run-time?

// I know this is not a problem if stringMap is declared as Map<String, String>.
// However, the actual code above was using Spring Bean.
// Map<Integer, String> integerMap = (Map<Integer, String>)context.getBean("map");

System.out.println(integerMap.get(1)); // prints null
System.out.println(integerMap.get("1")); // prints a 
```

Q1。为什么 Java 允许在运行时进行这种转换？

Q2。如果使用 bean，避免此错误的最佳做法是什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-10T08:56:01.667

Q1。因为在运行时，所有`generic`信息都已经被剥离，所以这两种`Map`类型在运行时环境中是无法区分的。`generics`它们只是为了帮助编译器强制执行类型安全。引用[Java 教程](http://docs.oracle.com/javase/1.5.0/docs/guide/language/generics.html)：

> 泛型是通过类型擦除实现的：泛型类型信息仅在编译时出现，之后由编译器擦除。这种方法的主要优点是它提供了通用代码和使用非参数化类型（技术上称为原始类型）的遗留代码之间的完全互操作性。主要缺点是参数类型信息在运行时不可用，并且在与行为不良的遗留代码互操作时，自动生成的强制转换可能会失败。

Q2。不要使用原始类型的地图。如果必须的话，在对它们进行类型转换时要非常小心。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:58:02.947

我认为它不会因为类型擦除（[http://docs.oracle.com/javase/tutorial/java/generics/erasure.html](http://docs.oracle.com/javase/tutorial/java/generics/erasure.html)）而在runtyme中抱怨。在运行时，map 的这个声明之间没有区别。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:01:27.077

您在未经检查的演员表上收到编译器警告。问题是编译后的字节码[没有任何通用信息](http://docs.oracle.com/javase/tutorial/java/generics/erasure.html)，因为类型擦除问题（这是为了确保向后兼容性）所以，就 JVM 而言，一个`HashMap<anything,anything>`extends `Map<anythingelse,anythingelse>`。

至于问题 2：您*收到*了警告。不要忽视他们！;)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T10:12:37.603

如果您从 Spring 上下文中获取 Map 实例，那么您将无法维护类型安全。Spring BeanFactory 是一个运行时容器，不知道实例的泛型类型参数是什么。

# gwt - GWT 或 Spring 中的依赖注入

> ID：11409789
> 
> 赞同：1
> 
> 时间：2012-07-10T08:52:41.540
> 
> 标签：gwt, gwt-2.4

我是新的 GWT。我有一个项目，我使用 GWT 和 Spring 作为我们的技术来实现。在以下链接的帮助下，我已经完成了与 GWT 的 Spring 集成。 [http://technophiliac.wordpress.com/2008/08/24/giving-gwt-a-spring-in-its-step/](http://technophiliac.wordpress.com/2008/08/24/giving-gwt-a-spring-in-its-step/) https://docs.google.com/document/pub?id=1USHYx9cB3B1s1zM4dlkzEZ759D3lEfavn_dDewvBkaA 这里有这个，我只能使用包含实际业务（远程服务）功能的服务器端类来应用依赖注入。

**我的问题是，**

*   我如何为客户端、共享、视图、演示者包中的所有其他类应用依赖注入？

*   哪个依赖注入更好？我的意思是 GWT 提供了两种依赖注入机制

    1.  guice 用于在服务器端实现依赖注入

    2.  gin 用于在客户端实现依赖注入。

    3.  和 Spring 依赖注入。

    选择哪一个更好？GWT 依赖注入还是 Spring 依赖注入？还是两者兼而有之？

请回复我。

谢谢，

萨丽莎。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T09:41:24.433

GWTP 通过[google-guice](http://code.google.com/p/google-guice/)和[google-gin](http://code.google.com/p/google-gin/)大量使用依赖注入。因此，您需要将这些库添加到您的项目中。

google-guice 是服务器端的 DI，而 gin 是客户端的 DI。

GIN (GWT INjection) 为 Google Web Toolkit 客户端代码带来了自动依赖注入。

> > 选择哪一个更好？GWT 依赖注入还是 Spring 依赖注入？还是两者兼而有之？

对于客户，您只有一个选项，即“杜松子酒”。因为 guice 和 spring 都在服务器端使用。并且 spring 和 guice 的组合仅适用于服务器，可能不适用于客户端。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:33:37.130

GWT 不支持 Spring，因此您必须在客户端使用 GIN。

在服务器端结合 Guice 和 Spring 没有任何意义，因为 Spring 托管 bean 与 Guice 托管 bean 不兼容。

所以你必须问问自己你想在服务器端使用哪个 DI 框架。两者都做得很好。Guice 更轻量级，Spring 提供了很多附加模块。

我看不出在服务器端使用 Guice 有什么好处，因为您在客户端使用 GIN。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:37:24.393

GWT 客户端依赖注入只能由 Gin 框架提供。在这种情况下，如果您想使用 GWT 最佳实践（DI、MVP 等）并测试您的客户端代码，您应该查看[这个问题](https://stackoverflow.com/questions/10434227/mocking-in-gwt-application-showcase-with-the-help-of-gin)。它解释了如何在 Guice 的帮助下编写轻量级 JRE 模拟测试。因此，如果您开始使用 Gin，则不应避免使用 Guice。没有任何理由在客户端使用 Gin，在服务器使用 Spring DI。

# c# - C#使用文件格式将数据写入文件并用空格填充字符串

> ID：11409796
> 
> 赞同：0
> 
> 时间：2012-07-10T08:53:20.383
> 
> 标签：c#, serialization, char, file-format

有人可以给我一个例子，最简单和最好的方法是根据特定格式创建文本文件。我有以下示例：

```
Field : Pos : Length 
Version : 1 : 2 
Creator : 3 : 4 
Value : 7 : 10 
... 
```

一行代表文件中的一个数据行。如果字段小于格式中指定的长度，则应使用空格填充。

所以我的问题是，我是否应该创建一个包含 char 数组的类并将其序列化。如果是，那么用空格填充某些部分的最简单方法是什么。或者你有另一个想法，可以举一个例子，我应该如何在 C# 中做到这一点......

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T08:56:12.120

您应该查看并从[StreamWriter 文档](http://msdn.microsoft.com/en-us/library/system.io.streamwriter.aspx)开始。基本上，当您创建流编写器时，您可以将字符串附加到它，就像附加到控制台一样。很简单，写完后记得使用`using`或`Dispose`正确关闭流。

# java - 清单文件的目的是什么

> ID：11409801
> 
> 赞同：18
> 
> 时间：2012-07-10T08:53:36.233
> 
> 标签：java

[https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html](https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html)

清单文件有什么作用？它的目的是什么？

```
Manifest-Version: 1.0

Name: java/math/BigDecimal.class
SHA1-Digest: TD1GZt8G11dXY2p4olSZPc5Rj64=
MD5-Digest: z6z8xPj2AW/Q9AkRSPF0cg==

Name: java/math/BigInteger.class
SHA1-Digest: oBmrvIkBnSxdNZzPh5iLyF0S+bE=
MD5-Digest: wFymhDKjNreNZ4AzDWWg1Q== 
```

如果服务器有任何变化，它会自动更新 jar 中的这些类吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-10T08:58:50.637

**清单是一个特殊文件，可以包含有关打包在 JAR 文件中的文件的**信息。通过定制清单包含的**“元”**信息，您可以使 JAR 文件服务于各种用途。

Mainfest 文件主要以包含包含 main 函数的类的名称而闻名，在包中的各种类中...

创建 JAR 文件时，**它会自动接收默认清单文件。存档中只能有一个清单文件**，并且它始终具有路径名

```
META-INF/MANIFEST.MF 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-10T09:09:46.967

> 清单文件有什么作用？它的目的是什么？

目的是保存有关 JAR 文件及其包含的类的元数据。元数据用于多种用途，包括跟踪 JAR 的来源、防止篡改以及提供*可执行*JAR 所需的额外信息。

您问题中的链接已损坏。这里有几个选择：

*   [使用清单文件：基础知识](https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html)
*   [JAR 文件规范](https://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html)

> 如果服务器有任何变化，它会自动更新 jar 中的这些类吗？

不。

这些条目是检测 JAR 文件篡改方案的*一部分；*例如，有人用修改后的版本替换了这些类。（该方案的其他部分是散列的数字签名，以及启动器中在启动前检查签名和散列的东西。）

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-10T09:05:17.987

清单文件提供文件的元数据。元数据采用名称-值对的形式。在您上面的示例中，他们提供了类文件的 MD5 哈希，该哈希是在没有清单文件的情况下计算的。这是一种安全措施，因此如果有人修改了文件并添加了一些黑客代码，您可以使用签名检测到它。

它在更新文件中没有任何作用。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-07-10T09:34:08.633

The manifest is a specific no-class file assembled within a Jar, which contains the descriptive pairs of keys and values of this Jar and we usually called it metadata, it tells end users or callers:

> what the propose of Jar? who is the writer? when it was created? what is creation env? what is JDK version? and even more...(Assuming have these values in manifest)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2020-04-26T08:35:47.640

清单文件在流媒体内容中起着非常重要的作用。因为它是一个文件，它告诉订阅者终端设备流媒体内容是什么。

此清单文件包含**内容分辨率、内容**编**解码器**和**自适应比特率**。

如果您仍然想详细了解它，那么您可以访问这篇简短的文章，这将使您的所有困惑一目了然：[什么是清单文件，用图表详细解释](https://www.headendinfo.com/manifest-file/)

# perl - t::lib::TestApp 不在 CPAN 中？

> ID：11409805
> 
> 赞同：1
> 
> 时间：2012-07-10T08:53:52.280
> 
> 标签：perl, cpan, dancer

我正在尝试在 Mac OSX 10.6 上安装 Dancer::Plugin::Feed 并且遇到了这个依赖问题：

```
CPAN.pm: Going to build H/HO/HOBBESTIG/Dancer-Plugin-Feed-0.7.tar.gz

Checking if your kit is complete...
Looks good
Writing Makefile for Dancer::Plugin::Feed
Writing MYMETA.yml and MYMETA.json
---- Unsatisfied dependencies detected during ----
----  HOBBESTIG/Dancer-Plugin-Feed-0.7.tar.gz ----
    t::lib::TestApp [build_requires]
Shall I follow them and prepend them to the queue
of modules we are processing right now? [yes] 
Running make test
  Delayed until after prerequisites
Running make install
  Delayed until after prerequisites
Running install for module 't::lib::TestApp'
  The module t::lib::TestApp isn't available on CPAN.

  Either the module has not yet been uploaded to CPAN, or it is
  temporary unavailable. Please contact the author to find out
  more about the status. Try 'i t::lib::TestApp'. 
```

我的 Perl 版本：

```
perl --version

This is perl, v5.10.0 built for darwin-thread-multi-2level
(with 2 registered patches, see perl -V for more detail) 
```

我试图找出问题所在，但没有运气。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T11:52:51.540

`t::lib::TestApp`是模块测试的一部分，它包含在发行版中，但并不打算实际安装。

但是，看起来 prereq 中的 prereq`Makefile.PL`可能是由 Dist::Zilla 自动生成的，并且它已经`use t::lib::TestApp`在其中一个测试中看到了该语句并将该模块添加到 pre-reqs 中。

强制安装模块现在应该可以工作；该插件的作者将需要发布具有固定前置要求列表的更新版本。我相信我之前在 IRC 上看到过这个问题，所以它似乎已经在手了，但我会仔细检查一下。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T10:51:45.767

问题不在于该模块不在 CPAN 上。[它是](https://metacpan.org/source/HOBBESTIG/Dancer-Plugin-Feed-0.7/t/lib/TestApp.pm)Dancer::Plugin::Feed 分发的一部分。问题似乎是 CPAN.pm 看不到它在发行版中可用。

如今，CPAN.pm 被视为有点过时了。您是否尝试过 CPANPLUS（您将与 Perl 5.10.0 一起安装）或 cpanminus？

# iphone - 如何在ios中的内存不足警告级别1或2或3期间刷新内存

> ID：11409806
> 
> 赞同：-2
> 
> 时间：2012-07-10T08:53:53.237
> 
> 标签：iphone, objective-c, ios, ipad, memory-management

我的应用程序消耗大约 70 Mb 的内存。因此，当我的内存不足警告级别 1 或 2 时，我需要将其清除。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T08:57:38.277

在您的控制器中，一旦您收到内存不足警告，就会调用此函数：

```
- (void)didReceiveMemoryWarning {
    // Releases the view if it doesn't have a superview.
    [super didReceiveMemoryWarning];

    // Release any cached data, images, etc. that aren't in use.
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T10:14:41.057

释放任何未使用的对象，在运行类时消除任何未使用的属性。release + nil dealloc中的所有出口，nil viewDidUnload中的所有出口。同时释放所有你已经“分配”、“保留”或“复制”的对象。使用 Profiler 检测内存泄漏。如果您想要具体答案，请发布您的代码。您的问题是错误的内存管理问题，这是一个取决于许多事情的巨大领域。

# ios - iOS上的AUGraph设置

> ID：11409810
> 
> 赞同：0
> 
> 时间：2012-07-10T08:54:09.877
> 
> 标签：ios, core-audio

我正在为 iOS 应用程序设计 AUGraph，希望能在以下方面提供帮助。

如果我想一次播放多个音频文件，每个文件都需要一个音频单元吗？

来自核心音频文档

> 线性 PCM 和 IMA/ADPCM (IMA4) 音频您可以在 iOS 中同时播放多个线性 PCM 或 IMA4 格式的声音，而不会产生 CPU 资源问题。
> 
> AAC、MP3 和 Apple 无损 (ALAC) 音频 AAC、MP3 和 Apple 无损 (ALAC) 声音的播放在 iPhone 和 iPod touch 上使用基于硬件的高效解码。您一次只能播放一种这样的声音。

所以不能同时播放多个 AAC 或 MP3 文件。一次播放多个声音的最佳 LPCM 格式是什么？

这是否也适用于音频单元，如 AudioQueue 文档中所述。

AUGraph 中的音频单元可以处于非活动状态吗？如果 AUGraph 看起来像这样

扬声器/输出 < 录音机单元 < 混音器单元 < 音频文件播放单元数

如果记录器不活动会发生什么，它仍然会拉，但只是不将缓冲区写入文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:47:00.680

不; 您需要使用混音器音频单元。检查这个：http: [//developer.apple.com/library/ios/DOCUMENTATION/MusicAudio/Conceptual/AudioUnitHostingGuide_iOS/ConstructingAudioUnitApps/ConstructingAudioUnitApps.html#//apple_ref/doc/uid/TP40009492-CH16-SW1](http://developer.apple.com/library/ios/DOCUMENTATION/MusicAudio/Conceptual/AudioUnitHostingGuide_iOS/ConstructingAudioUnitApps/ConstructingAudioUnitApps.html#//apple_ref/doc/uid/TP40009492-CH16-SW1)

主要是阅读上面的文档，将示例代码包装在一个类中并创建一对实用程序结构，我从头开始编写了这个“简单声音引擎”：

~~ttp://nicolasmiari.com/blog/a-simple-sound-engine-for-ios-using-the-audio-unit-framework/（链接到我博客中包含源代码的文章）。~~抱歉，将博客移至 Jekyll/Github，而这篇文章没有成功。

~~...我本来打算在github上开始一个repo，但是太麻烦了。我是一个视觉方面的人，仍然非常害怕 git。~~好吧，那是很久以前的事了……现在我从命令行使用 git :-)

您可以按原样使用它，也可以提取与音频单元相关的代码并将其适应您的项目。我相信 Cocos Denshion 'Simple Audio Engine' 做了几乎相同的事情，但没有检查源代码。

**已知问题** 如果为 C++ 异常设置了异常断点，则在调试时，代码会在`AUGraphInitialize()`. 这是一个“非崩溃”异常，因此您可以单击继续，代码可以正常工作。

要将您的 wav 文件转换为未压缩的 .caf 格式，请在终端上使用以下命令：

```
%afconvert -f caff -d LEI16 mysoundFile.wav mySoundFile.caf 
```

**编辑：**所以我毕竟创建了一个 GitHub 存储库： [https ://github.com/nicolas-miari/Sound-Engine](https://github.com/nicolas-miari/Sound-Engine)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T22:08:07.520

普通常见的 .wav 和 .caf 文件都包含原始 PCM 音频样本，如果已经达到目标采样率，则无需硬件辅助或 DSP 处理即可播放。

当没有音频文件或其他合成数据来馈送正在拉动缓冲区的音频单元时，通常的做法是向其馈送静音缓冲区（或者如果前一个缓冲区以非零幅度结束，则可能会逐渐变为零）。

# sorting - 如何解决：为什么 coreData(NSFetchedResultsController) 在 iOS5 和 iOS4 中排序不同

> ID：11409811
> 
> 赞同：0
> 
> 时间：2012-07-10T08:54:13.373
> 
> 标签：sorting, ios5, core-data, ios4, nsfetchedresultscontroller

我有一个用 NSFetchedResultsController 填充的表格视图。
我`didSelectRowAtIndexPath`正在更新当前的`row`. 这里的排序不应该改变。所选行的不同之处在于，我将其标记为已读。没有标题更改或其他内容。

在 iOS4 中，该行被更新并仍然留在他当前的位置，它不会移动到部分的末尾。那是正确的方法。

在 iOS5 中，该行也得到更新，但它移动到该部分的末尾。我想阻止这种情况。我怎样才能做到这一点？为什么会这样？

查看我的代码：

```
- (NSFetchedResultsController *)fetchedResultsController
{
if (__fetchedResultsController != nil)
{
    return __fetchedResultsController;
}

NSFetchRequest *fetchRequest = [[[NSFetchRequest alloc] init] autorelease];

NSEntityDescription *entity = [NSEntityDescription entityForName:@"EntitySetsCardsInbox" inManagedObjectContext:self.managedObjectContext];
[fetchRequest setEntity:entity];

NSPredicate *inboxPred = [NSPredicate predicateWithFormat:@"archived == 0 AND cardId != 0"];
[fetchRequest setPredicate:inboxPred];

if (sortString == nil) {
    //sortString = [[NSString alloc] initWithString:@"sortingOrder"];
    sortString = [[NSString alloc] initWithString:@"colorOrder"];
    sortAsc = NO;
}

if ([sortString isEqualToString:@"cardTitle"]) {
    NSSortDescriptor *sortDescriptor2 = [[[NSSortDescriptor alloc] initWithKey:sortString ascending:sortAsc selector:@selector(localizedCaseInsensitiveCompare:)] autorelease];
    NSArray *sortDescriptors = [[[NSArray alloc] initWithObjects:sortDescriptor2, nil] autorelease];
    [fetchRequest setSortDescriptors:sortDescriptors];

    XLog(@"sortDescriptors: %@", sortDescriptors);
} else {
    NSSortDescriptor *sortDescriptor2 = [[[NSSortDescriptor alloc] initWithKey:sortString ascending:sortAsc] autorelease];
    NSArray *sortDescriptors = [[[NSArray alloc] initWithObjects:sortDescriptor2, nil] autorelease];
    [fetchRequest setSortDescriptors:sortDescriptors];

    XLog(@"sortDescriptors: %@", sortDescriptors);
}

NSFetchedResultsController *aFetchedResultsController = [[NSFetchedResultsController alloc] initWithFetchRequest:fetchRequest managedObjectContext:self.managedObjectContext sectionNameKeyPath:nil cacheName:nil];
aFetchedResultsController.delegate = self;
self.fetchedResultsController = aFetchedResultsController;

    [...]
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-11T10:49:45.050

我认为当你更新你的行时你的排序描述符正在改变。再添加一个 sortdescriptor 来修复列表并再次检查。就我而言，我有一个非常相似的问题，它解决了我的问题。也许你的也是。

# git - github存储库中未跟踪目录中的跟踪文件

> ID：11409813
> 
> 赞同：1
> 
> 时间：2012-07-10T08:54:14.710
> 
> 标签：git, github

当我克隆 advimage 存储库时，`img/`目录似乎未跟踪。

```
gokmen@rodosto advimage % git st
?? img/
gokmen@rodosto advimage % git status
# On branch develop
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#   img/
nothing added to commit but untracked files present (use "git add" to track) 
```

这个目录不是空的，有一个名为**sample.gif**的跟踪文件`img/`。我尝试添加一个空文件：

```
gokmen@rodosto advimage % touch img/hede
gokmen@rodosto advimage % git add img/hede 
gokmen@rodosto advimage % git st
A  img/hede
?? img/
gokmen@rodosto advimage % rm -rf img 
gokmen@rodosto advimage % git st
AD img/hede
 D img/sample.gif
gokmen@rodosto advimage % git reset
Unstaged changes after reset:
M   img/sample.gif
gokmen@rodosto advimage % git st
 D img/sample.gif
gokmen@rodosto advimage % 
```

`git fsck --full`输出为空。为什么我不能从`img/`列表中删除`git status`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T12:35:28.053

您从文件系统中删除了文件，但没有从存储库的索引中删除它们。发出`git rm -r img/ && git commit`以完全删除`img/`目录。

发生了什么：

```
gokmen@rodosto advimage % rm -rf img 
gokmen@rodosto advimage % git st
AD img/hede
 D img/sample.gif 
```

`AD img/hede`建议您提交新文件`img/hede`，然后不使用`git rm`. `D img/sample.gif`建议您删除`img/sample.gif`而不使用`git rm`.

```
gokmen@rodosto advimage % git reset
Unstaged changes after reset:
M   img/sample.gif 
```

`git reset`意味着 git 停止跟踪`img/hede`，该命令未提交并被`rm -rf`命令删除。`img/sample.gif`仍然从早期开始跟踪（和修改）。如果您已发出`git reset --hard`，您将在此处看不到任何输出，但 img/sample.gif 将回到工作目录中。

```
gokmen@rodosto advimage % git st
 D img/sample.gif 
```

`img/sample.gif`这表明您使用`rm`而不是删除`git rm`。此时，您可以发出`git rm img/sample.gif && git commit`删除文件。

# node.js - Node.js 和 Mongoose 的管理面板

> ID：11409819
> 
> 赞同：59
> 
> 时间：2012-07-10T08:54:38.427
> 
> 标签：node.js, mongodb, mongoose

我一直在寻找一个 Node.js 包来提供一个干净（但可定制）的管理界面，以便以结构化方式在 MongoDB 数据库上执行 CRUD 操作（允许受信任的用户编辑涉及自动表单验证的数据，考虑到模型之间的关系等）。

确实可以始终使用 3rd 方工具来实现此目的（例如[Django Admin 界面](https://stackoverflow.com/questions/6121844/node-js-application-using-django-admin-interface)或[Rails Admin](https://github.com/sferik/rails_admin/)）。

但我想知道是否有一个已经在 Node.js 之上运行的解决方案。

有谁知道这种解决方案？

**请注意**，我不是在寻找访问数据库的接口，例如 phpmyadmin 或 mongoose-admin。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-20T09:25:40.577

看看这个链接：

[https://github.com/wearefractal/smog](https://github.com/wearefractal/smog)

...它是一个从 webUI 管理 mongoDB 的简单工具。

它看起来不错，可能在不久的将来会添加基于用户的管理，但您可以扩展它以支持您需要的功能。

**更新**

`smog`不再支持，而是查看[MongoTron](http://mongotron.io/)

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-09-05T07:53:29.837

[https://github.com/jedireza/drywall](https://github.com/jedireza/drywall)

这似乎是管理面板的良好开端。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2015-02-04T19:52:43.507

If your Node.js app exposes a RESTful API, [ng-admin](https://github.com/marmelab/ng-admin) is a good solution.

Disclaimer: we built it.

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2015-02-28T07:27:16.770

We've used [http://keystonejs.com/](http://keystonejs.com/) for creating admin UIs.

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-11-12T05:22:12.003

我们正在使用 Formage ( [https://github.com/Empeeric/formage](https://github.com/Empeeric/formage) ) 作为管理插件，到目前为止它已经很好地满足了我们的基本需求。它是 Mongoose-admin 的一个分支。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2014-07-31T14:23:12.167

Check [penguin](https://github.com/etabits/node-penguin) : 一个根据您的 Mongoose 模型自动生成管理页面的模块。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2013-08-30T08:19:41.503

我正在使用[https://npmjs.org/package/mongo-express](https://npmjs.org/package/mongo-express)如果您习惯于引导，您可能也会喜欢它。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2015-01-02T14:04:45.857

You could take a look at [AllcountJS](http://allcountjs.com). It's actually not a admin UI tool but rather a framework for rapid business application development. It builds auto-generated UI (grids, forms, etc.) from domain model descriptions in JSON-like format. Provides built-in security and user management. Supports view customization and theming (see [extending docs](http://allcountjs.com/docs/server)). If you're already using [Express](http://expressjs.com/) in your application you could integrate them to run in single Node.js instance.

# ajax - 提交表单时，由 f:ajax 启用的 commandButton 不会调用操作

> ID：11409823
> 
> 赞同：1
> 
> 时间：2012-07-10T08:54:49.257
> 
> 标签：ajax, jsf

我正在尝试使用复选框启用/禁用命令按钮。命令按钮最初是禁用的。当用户选中复选框时，命令按钮变为启用。但是单击按钮时它没有响应。

如果我使命令按钮独立于复选框，它工作正常。但是使用复选框，我得到了我上面提到的问题。请帮我

这是代码。

索引.xhtml

```
<h:form>        
  <h:selectBooleanCheckbox value="#{formSettings.licenseAccepted}" id="cb">
    <f:ajax event="click" render="suB cb"/>
  </h:selectBooleanCheckbox>
  <h:outputText value="#{formSettings.msg}"/><br/>

  <h:commandButton id="suB" disabled="false" value="Save" action="loginSuccessfull"/>
</h:form> 
```

表单设置.java

```
package classes;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.RequestScoped;

@ManagedBean
@RequestScoped
public class FormSettings 
{
    private boolean licenseAccepted = false;
    private String msg = "Accept License";

    public FormSettings(){};

    public boolean isLicenseAccepted(){return this.licenseAccepted;};
    public void setLicenseAccepted(boolean licenseAccepted){this.licenseAccepted = licenseAccepted;};
    public String getMsg(){return this.msg;};
    public void setMsg(String msg){this.msg = msg;};
} 
```

面孔-config.xml

```
<?xml version="1.0" encoding="UTF-8"?>

<faces-config
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"
    version="2.0">
    <navigation-rule>
        <from-view-id>/index.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>loginSuccessfull</from-outcome>
            <to-view-id>/login.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

</faces-config> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T18:22:56.900

必须将 bean 放置在视图范围内才能使其工作。

```
@ManagedBean
@ViewScoped
public class FormSettings {} 
```

通过 ajax 启用按钮算作一个 HTTP 请求。此后提交带有按钮的表单将被视为另一个 HTTP 请求。由于您的 bean 是请求范围的，它会在每个 HTTP 请求上重新创建，并在请求结束时被丢弃。由于布尔属性默认为`false`，因此当 JSF 即将处理第二个请求的表单提交时，该按钮将再次有效地禁用。

### 也可以看看：

*   [如何选择合适的bean范围？](https://stackoverflow.com/questions/7031885/how-to-choose-the-right-bean-scope/7031941#7031941)

# sql - 查询计数

> ID：11409825
> 
> 赞同：0
> 
> 时间：2012-07-10T08:54:54.883
> 
> 标签：sql, db2

> **可能重复：**
> [从表中选择计数所需的 Sql 查询](https://stackoverflow.com/questions/11407723/sql-query-needed-for-selecting-the-count-from-a-table)

我有一个包含以下字段的表。

```
Col A  Col B
-----  -----
 V1      I1
 V1      I1
 V1      I2
 V1      I3
 V2      I1
 V2      I2
 V2      I2 
```

我需要一个 DB2 查询，它应该提供如下输出：

```
ColA   Col B  Count
----   -----  -----
 V1      I1     2
 V1      I2     1
 V1      I3     1
 V2      I1     1
 V2      I2     2 
```

如何为此编写查询。请帮忙

# ruby-on-rails - 设计是否有“回调”？

> ID：11409828
> 
> 赞同：11
> 
> 时间：2012-07-10T08:55:07.210
> 
> 标签：ruby-on-rails, devise

用户登录后，我想手动记录此事件并增加数据库中的计数器列。

有类似`after_login`的东西`Devise`吗？一样`ActiveRecord`吗`before_save`？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-07-10T09:07:43.590

Devise 在幕后使用 Warden，Warden 为您提供了许多回调：

[https://github.com/hassox/warden/wiki/callbacks](https://github.com/hassox/warden/wiki/callbacks)

看看`after_authentication`回调。这就是你要找的。

代码：

```
Warden::Manager.after_authentication do |user, auth, opts|
  # your code here.. 
end 
```

您可以简单地创建一个新的初始化程序文件并将代码放在那里。（喜欢`/config/initializers/warden_callbacks.rb`）

# django - Satchless 著名的优秀文档在哪里？

> ID：11409829
> 
> 赞同：5
> 
> 时间：2012-07-10T08:55:10.600
> 
> 标签：django, satchless

这可不是说笑。我想看看我是否遗漏了什么。在[官方文档](http://docs.satchless.com/en/latest/index.html)中，我只看到一个描述和声称该框架是有据可查的。我想知道这个优秀的文档在哪里？

我需要编写一个简单的演示电子商店，其中包含一个简单的产品列表并与*ipayment.de*集成。清单，我可以轻松完成。但是我在哪里可以了解如何将 ipayment 表单与商店集成？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-10T17:13:11.067

[git 存储库中](https://github.com/mirumee/satchless/blob/master/doc/)有[一个`doc/`](https://github.com/mirumee/satchless/blob/master/doc/)目录，其中包含看起来像`docs.satchless.com`. 您可以`cd`进入该`doc/`目录并运行`make`（您可能需要安装[Sphinx](http://sphinx.pocoo.org/)）来自己生成 HTML 文档。

看起来，除了您链接到的索引页面之外，还有一个文件`product.rst`，令人惊讶的是，它没有链接自`index.rst`（因此`product.html`未链接自`index.html`）：

> [http://docs.satchless.com/en/latest/product.html](http://docs.satchless.com/en/latest/product.html)

如果这不能满足“有据可查”的要求，也许他们的意思是*这样*？;)

# android - 图片属于哪个drawable文件夹

> ID：11409830
> 
> 赞同：0
> 
> 时间：2012-07-10T08:55:14.993
> 
> 标签：android, drawable

你知道android有很多文件夹来放置图片文件。现在，我想知道我的图片属于哪个文件夹（ldpi，mdpi，hdpi ...）？谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:02:22.883

Android 支持多个配置限定符，允许您控制系统如何根据当前设备屏幕的特征选择替代资源。

如果您是初学者，并且您没有该单一资源的这些不同品质。把它放在任何地方，并链接到那个。Android SDK 会自动调整并自行放置。

有关更多信息，请参阅此[链接](http://developer.android.com/guide/practices/screens_support.html#qualifiers)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T08:57:30.423

在这里阅读：

[http://developer.android.com/guide/practices/screens_support.html#qualifiers](http://developer.android.com/guide/practices/screens_support.html#qualifiers)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T08:58:37.597

好吧，这完全取决于您要使用的图片类型。

例如，应用程序徽标将按以下方式存储（以供最佳使用）：

```
Size     |     Directory   
36x36    |     drawable-ldpi/
48x48    |     drawable-mdpi/
72x72    |     drawable-hdpi/
96x96    |     drawable-xhdpi/ 
```

要包含在应用程序中的常规图像可以使用 8/6/4/3 比例缩小，导致以下结果：

```
Directory        |     Scale % 
drawable-xhdpi/  |     100%
drawable-hdpi/   |     80% (of xhdpi)
drawable-mdpi/   |     50% (of xhdpi)
drawable-lhdpi/  |     37.5% (of xhdpi) 
```

# jira - JSON 格式的 Jira 问题（需要知道我尝试使用 REST API“api/2.0.alpha1/issue/{issueKey}”调用的类和函数

> ID：11409832
> 
> 赞同：0
> 
> 时间：2012-07-10T08:55:29.457
> 
> 标签：jira, jira-plugin

我正在尝试使用 REST API `api/2.0.alpha1/issue/{issueKey}` 。

参考：[http ://docs.atlassian.com/jira/REST/4.4.3/#id2413591](http://docs.atlassian.com/jira/REST/4.4.3/#id2413591)

1.  我会从`rest/api/2.0.alpha1/search`
2.  使用这些问题 ID 以 JSON 格式获取所有问题。

但是当我使用 localhost（本地机器）时，我不想进行网络调用并增加网络流量。因此，我想知道这些 URI 调用了 JAVA 中的哪个类，以便我可以直接调用这些类以获取 JSON 格式的问题。

基本上，我希望所有问题都采用 JSON 格式，无需网络调用。

或者

我还在问题对象中检索到所有问题，但不是 JSON 格式。如何将其转换为 JSON 格式？

> 我从 JIRA 中找到了以下代码：

```
@GET
@Path ("/{issueKey}")
public Response getIssue(@PathParam ("issueKey") final String issueKey)
{
    final Issue issue = getIssueObject(issueKey);
    final IssueBean bean = createIssue(issue);
    return Response.ok(bean).cacheControl(never()).build();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T17:15:07.560

您可以搜索 @GET 引用的源代码或使用 REST API 浏览器 (https://developer.atlassian.com/display/RAB/Overview+of+the+Atlassian+REST+API+Browser) 但访问类来自 Java 可能意味着您需要在与 JIRA 相同的类加载器中运行或使用插件。

您是否测量了调用的开销以确保您不会过早地进行优化？

# ios - 我可以通过链接运行我的应用程序吗？

> ID：11409834
> 
> 赞同：0
> 
> 时间：2012-07-10T08:55:35.767
> 
> 标签：ios

我正在开发一个应用程序。客户希望：我将发送一封激活邮件，当用户在 iphone 上单击它时，我的应用程序将打开。真的有可能吗？非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T08:58:29.313

是的，您要做的是为您的应用程序实现您自己的自定义 URL 方案。然后在电子邮件中与该方案建立链接。

请参阅本页上有关[实施您自己的方案](http://developer.apple.com/library/ios/#DOCUMENTATION/iPhone/Conceptual/iPhoneOSProgrammingGuide/AdvancedAppTricks/AdvancedAppTricks.html#//apple_ref/doc/uid/TP40007072-CH7-SW50)的部分。

# html - 透明PNG图像不考虑背景颜色，并且作为不透明

> ID：11409835
> 
> 赞同：0
> 
> 时间：2012-07-10T08:55:38.247
> 
> 标签：html, css

HTML 代码

```
<!DOCTYPE html>
<html>

<head>

    <title>My Website</title>

    <link href="style.css" rel="stylesheet" type="text/css" />

</head>

<body>
    <div id="center-box">
        <ul>
            <li id="fim"><img src="images/1.png" /></li>
            <li id="sim"><img src="images/2.png" /></li>
            <li id="tim"><img src="images/3.png" /></li>
            <li id="fom"><img src="images/4.png" /></li>
        </ul>
    </div>
</body>

</html> 
```

CSS 代码

```
html {
    height:100%;
}
body {
    background:black;
    border:1px solid white;
    margin:0; 
    padding:0;
    position:absolute;
    height:100%;
    width:100%;
    }
#center-box {
    border:4px solid white;
    color:white;
    position:absolute;
    width:250px;
    height:250px;
    left:50%;
    top:50%;
    margin-left:-150px;
    margin-top:-150px;
    background:grey;
    }
#center-box ul {
    list-style-type:none;
    margin:5px;
    padding:18px;
}
#center-box ul li {
    display:inline;
}
#center-box ul li:hover  {
    background-color:blue;
} 
```

它在页面中间只有一个框，以及一个包含透明 (PNG) 图像的内联列表。我想通过悬停在透明图像上来更改其背景颜色，但它充当图像不透明。你会建议如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:04:35.350

实际上，对于 PNG 格式的图像，IE6 中存在 alpha 透明度问题。由于这些浏览器缺少对 alpha 通道的支持，因此有些标签可以支持您的代码。

如果你想通过 CSS

```
img {
filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(...);
} 
```

如果你想通过 JavaScript

```
img.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(...)"; 
```

[您可以在此处查看](http://24ways.org/2007/supersleight-transparent-png-in-ie6/)这些将存在的进一步陷阱

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:41:29.113

只是出于好奇......你有没有在旧版本的 IE 中测试过这个？

`:hover`伪类不适用于所有元素，并且`inline-block`IE7 中仅适用于内联元素（列表项为块级），在 IE6 中不适用。

我认为您将`<a>`在`<li>`; 这应该可以解决这两个问题（当然是透明度问题）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:03:08.543

只要浏览器是 IE 7+，透明 PNG 对我来说很适合它们背后的背景。我怀疑您的 PNG 可能不透明。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T09:05:21.203

我认为您应该在 CSS 中为您的*li*元素使用“inline-block”显示：

```
#center-box ul li {
    display: inline-block;
} 
```

这样，背景不仅会应用于区域的文本部分，还会应用于整个图像。

希望能帮助到你！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-10T09:12:27.803

对于 < IE7：
这些浏览器不支持 PNG alpha 透明度。然而，具有 alpha 透明度的 PNG-8 图像以完全透明的方式呈现。但是真彩色 PNG 的 alpha 透明度在渲染时显示为灰色。

因此，尽可能使用 PNG-8 图像，您就完成了。否则，您必须放弃浏览器支持或使用 Shiv 在他的回答中提到的解决方法。

# jquery - 避免 jQuery 竞争条件

> ID：11409840
> 
> 赞同：0
> 
> 时间：2012-07-10T08:55:50.510
> 
> 标签：jquery

```
jQuery.getJSON(root + "Communication/ProcessCreateMessage", data);
return location.href = '@Url.Content("~")Communication/Index'; 
```

这是我在 Firefox 中创建竞争条件的代码，第二个命令在第一个命令完成之前开始，所以我的 jQuery.getJSON 函数不起作用。有人有解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:01:44.237

我假设您希望在创建消息服务器端后更改位置。如果是这样，请使用 complete 方法，该方法将在提交 JSON 并返回响应后执行一个函数

```
jQuery.getJSON(root + "Communication/ProcessCreateMessage", data).complete(function () {
    location.href = '@Url.Content("~")Communication/Index';
}); 
```

# java - eclips 在 vmware for android programin 上的 win7 中找不到 java

> ID：11409847
> 
> 赞同：0
> 
> 时间：2012-07-10T08:56:06.373
> 
> 标签：java, android, sdk, vmware

我已经安装了 JDK，然后我为 Android 7 和 10 安装了 Android SDK 及其包。我可以为 Android 创建一个虚拟机并查看它，但是当我尝试运行 eclipse 时，会打开一个错误消息框并显示`"Can't find javaw.exe in this location"`（ eclipse 所在的目录），我无法运行 Eclipse。

任何解决此问题的帮助将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:12:07.140

你应该单独安装java运行环境。或者如果这也不能解决你的问题，最终的工作解决方案是在你的windows7上添加JDK或JRE的环境变量。

希望这能解决你的问题。干杯!

# c++ - C++ 从本机代码的另一种形式获取价值？

> ID：11409851
> 
> 赞同：1
> 
> 时间：2012-07-10T08:56:12.673
> 
> 标签：c++, visual-c++, c++-cli, native, managed

我目前有一个 main.cpp 和一个 editor.h

editor.h 是托管代码，main.cpp 是本机代码。

在 main.cpp 我通常会运行一个新的编辑器实例：

```
Application::Run(gcnew Editor()); 
```

但是在 main.cpp 的另一个地方我想从那个表单中提取一个值，所以我怀疑我是这样做的：（main.cpp）

```
....
Editor^ EditorEntry;
..
..
EditorEntry::Value1....
EditorEntry::Panel1->Name...

int main(..)
{
...
Application::Run(gcnew EditorEntry());
...
} 
```

但我不能，得到这个：

```
error C3145: 'EditorEntry' : global or static variable may not have managed type 'Cube3D::Editor ^' 
```

那么我会/应该怎么做呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T18:26:13.300

需要读取编辑器值的代码本身是否需要在本机代码中？它可能在另一个托管类中吗？例如，您可以将编辑器传递给此类，以便它可以读取其属性。

```
int main(..)
{
    EditorEntry^ editor = gcnew EditorEntry(); 
    EditorObserver^ observer = gcnew EditorObserver(editor);

    Application::Run(editor);
    ...
} 
```

`EditorObserver`将在其构造函数中保留一个字段`EditorEntry`，并能够访问其公共接口、监听其事件等。

在面向对象的应用程序中，无论如何您都不会在 main.cpp 中放置太多代码。

# facebook - 不同的 Facebook 访问令牌 JavaScript SDK

> ID：11409852
> 
> 赞同：0
> 
> 时间：2012-07-10T08:56:26.603
> 
> 标签：facebook, facebook-graph-api, facebook-javascript-sdk, oauth-2.0

我对来自 facebook 的访问令牌感到很困惑。这是我获取用户访问令牌并使用它从图形 API 获取数据的方式

```
window.fbAsyncInit = function() {
    FB.init({
        appId       : 'app ID',
        status      : true, 
        cookie      : true,
        xfbml       : true,
        oauth       : true,     
    });     
    FB.getLoginStatus(getStatus);    
    FB.Event.subscribe('auth.authResponseChange', getStatus);

    function getStatus(response) {
        if ( response.status === 'connected' ) {
            var accessToken = response.authResponse.accessToken;
            console.log("accessToken = " + accessToken);

            $.ajax({
                dataType    : "jsonp",
                type        : "GET",
                url     :   "https://graph.facebook.com/me/albums?access_token=" + accessToken,
                success : function(data) {
                    $.each(data, function(index, value) {
                        console.log(index + ": " + value);  
                    })
                }
            });                     
        }   
    }   
}; 
```

但是，我总是得到一个空数据。在我访问此处的图形 API 文档后：[https](https://developers.facebook.com/docs/reference/api/) ://developers.facebook.com/docs/reference/api/并单击其中一个图形链接，我注意到那里生成的访问令牌总是与我从中检索到的不同我的代码。例如，graph api 文档中的当前访问令牌是

“AAAAAAITEghMBAMwuyHZCO3VOAvCm9hHpaZC9PGV9238ixsZB7zSfuplZBTZCLRj6cEViZADJlVcjOfInwvcbhqu3XBF1w4ZAxvPbexcGQZAYzb4bHAKsMbLF”

控制台日志中的一个是

"AAAG0ZCFantJ8BAAFcMdDOyDyT4OBtjrvULEaS2o94gZAU7U1xITaogFXCZBghQP8G9bjEh3XSCATQOZCUSZCuNWFvEfypIAmcz9bkbk5qRBlHUZAOE4guW"

我认为我可能以错误的方式做到了这一点。谁能帮我解释一下如何以正确的方式从图形 API 中检索数据？

任何形式的帮助将不胜感激。提前致谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:45:47.310

首先使用您的 authToken 运行此 URL：

`https://graph.facebook.com/me/permissions?access_token=USER_ACCESS_TOKEN`

您几乎肯定只会在响应中看到基本权限，这就是为什么您没有从对用户相册的调用中获取数据的原因。

然后，您需要通过[Authentication Process](https://developers.facebook.com/docs/authentication/)运行您的用户，确保您[请求所需的权限](https://developers.facebook.com/docs/authentication/permissions/)（在您的情况下可能是“user_photos”）。

这两个链接中提供了更多信息。祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:14:48.010

访问令牌永远不会相同。所以这种行为是正确的。

回到你的问题，我认为它主要是范围相关的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:38:19.327

我已经使用 facebook c# sdk 开发了一个应用程序，在那个应用程序中我是这样做的：

> 1.  当要提交帖子时，将用户重定向到 facebook（使用一些参数，如 appid、app-secret、auth-token 和 redirect-url）；
> 2.  Facebook 将要求用户使用他的凭据登录。
> 3.  当用户登录时，facebook 将重定向回重定向 URL。（使用授权令牌和新的授权码）。
> 4.  然后我们应该使用这个 auth-code、app-id 和 app-secret 并获取 user-access-token。（这是通过对 URL [https://graph.facebook.com/oauth/access_token?client_id=client_id&redirect_uri=redirect_uri&client_secret=client_secret&code=auth-code](https://graph.facebook.com/oauth/access_token?client_id=client_id&redirect_uri=redirect_uri&client_secret=client_secret&code=auth-code)进行休息 api 调用来完成的， 这将返回用户令牌和到期时间令牌
> 5.  然后我们可以使用这个用户访问令牌发布到 fb。

最初我误解了 auth-code 并将其用作用户访问令牌，我总是得到未授权令牌的结果。请检查这是否对您有帮助。

# css - IE8、IE7、IE6，td的高度相差1px

> ID：11409861
> 
> 赞同：0
> 
> 时间：2012-07-10T08:57:02.387
> 
> 标签：css, internet-explorer, html-table

```
<table width="320" cellspacing="0" cellpadding="0" valign="top" bgcolor="#ffffff" style="border:1px solid #d6d6d6;border-collapse:collapse;">
  <tr>
    <td height="131" valign="bottom" style="padding:0px 8px;">aaa</td>
  </tr>
  <tr><td height="10" style="line-height:1px;">bbb</tr>
  <tr>
    <td height="182" valign="top" style="padding:0px 8px;line-height:1px;">ccc</td>
  </tr>
</table> 
```

在 IE6 和 IE7 中，第一个 td 的高度值正好是 131px，但在 IE8 中它有 132px。

如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:02:06.413

这应该为创建不同的 IE 版本提供了可能性

[这个网站应该给你一个快速修复](http://css-tricks.com/how-to-create-an-ie-only-stylesheet/)但可能**不是**最好的修复

因为这将为您提供用于不同浏览器的多个 css 文件。

但是您应该使用相同的代码来区分 html 标记的类：

-article axample- *（@JezenThomas Tnx 找到了一篇关于这个[原因的好文章为什么不这样做](http://paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/)）*

```
<!--[if lt IE 7 ]> <html class="ie6"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie7"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class=""> <!--<![endif]-->

 div.foo { color: inherit;}
.ie6 div.foo { color: #ff8000; } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T09:02:58.463

您是否使用过浏览器重置？这有助于消除浏览器的不一致。尝试使用 mayer [http://meyerweb.com/eric/tools/css/reset/](http://meyerweb.com/eric/tools/css/reset/)或称为 normalize [http://necolas.github.com/normalize.css/](http://necolas.github.com/normalize.css/)的新样式，这可以帮助删除与浏览器到浏览器，甚至来自同一制造商。

如果您不知道什么是重置，它是您添加到页面的 css 文件，它只是重置或将一些元素恢复为默认设置，在许多情况下为 0，当所有浏览器中的所有内容都重置时可以开始以更一致的方式重建页面 css。

如果您已经尝试过但失败了，那么您可以在表格中添加一个类，然后使用条件注释来修复表格的高度。Paul Irish 的 html5 样板在文档顶部带有条件语句，这有助于针对同一样式表中的所有不同版本的 IE，因此不需要 IE6、IE7、IE8 样式表。

[http://paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/](http://paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/)

干杯，斯特凡

# c# - winform用户控件之间的通信以将选项卡添加到选项卡控件

> ID：11409865
> 
> 赞同：1
> 
> 时间：2012-07-10T08:57:23.583
> 
> 标签：c#, user-controls, tabcontrol, dynamically-generated

单击按钮后，我想添加一个 TabPage。对我来说，困难在于我得到了一个带有按钮的 UserControl，而标签页是一个用户控件，我想用 TabControl 将它添加到现有的 UserControl 中。

这是我要添加的选项卡的用户控件：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Drawing;
using System.Data;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.Xml;

namespace Demo
{
    public partial class TabsTravel : UserControl
    {
        private static DateTime ArrivalStart;
        public static DateTime arrivalStart
        {
            get { return ArrivalStart; }
            set { ArrivalStart = value; }

        }

        private static DateTime ArrivalEnd;
        public static DateTime arrivalEnd
        {
            get { return ArrivalEnd; }
            set { ArrivalEnd = value; }

        }

        private static DateTime DepartureStart;
        public static DateTime departureStart
        {
            get { return DepartureStart; }
            set { DepartureStart = value; }

        }

        private static DateTime DepartureEnd;
        public static DateTime departureEnd
        {
            get { return DepartureEnd; }
            set { DepartureEnd = value; }

        }

        public TabsTravel()
        {
            InitializeComponent();
            LoadSubsidiaryXML();
            dtpArrivalStart.Format = DateTimePickerFormat.Custom;
            dtpArrivalStart.CustomFormat = "ddd dd MMM yyyy hh:mm";
            dtpArrivalEnd.Format = DateTimePickerFormat.Custom;
            dtpArrivalEnd.CustomFormat = "ddd dd MMM yyyy hh:mm";
            dtpDepartureStart.Format = DateTimePickerFormat.Custom;
            dtpDepartureStart.CustomFormat = "ddd dd MMM yyyy hh:mm";
            dtpDepartureEnd.Format = DateTimePickerFormat.Custom;
            dtpDepartureEnd.CustomFormat = "ddd dd MMM yyyy hh:mm";
            comboSubsidiaryTravel.SelectedIndexChanged += new EventHandler(comboSubsidiaryTravel_SelectedIndexChanged);
        }

        private void LoadSubsidiaryXML()
        {
            XmlDocument subsidiary = new XmlDocument();
            subsidiary.Load("Subsidiaries.xml");

            XmlNodeList Subname = subsidiary.SelectNodes("subsidiaries/type/name");
            foreach (XmlNode name in Subname)
            {
                comboSubsidiaryTravel.Items.Add(name.InnerText);
            }
        }

        private void LoadWorkerXML(string xmlType)
        {
            comboWorkerType.Items.Clear();
            XmlDocument workerType = new XmlDocument();
            workerType.Load(xmlType);

            XmlNodeList worker = workerType.SelectNodes("worker/type/name");
            foreach (XmlNode name in worker)
            {
                comboWorkerType.Items.Add(name.InnerText);
            }
        }

         //Select XML which have to be populated to comboWorkerType
        private void chooseWorker()
        {
            string xmlType = "";
            string subsidiary = "";
            subsidiary = comboSubsidiaryTravel.Text;
            switch (subsidiary)
            {
                case "GH":
                    xmlType = "GHworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GP":
                    xmlType = "GPworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GN":
                    xmlType = "GNworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GT":
                    xmlType = "GTworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;
                case "GS":
                    xmlType = "GSworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GK":
                    xmlType = "GKworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GBH":
                    xmlType = "GBHworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GAS":
                    xmlType = "GASworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "Others":
                    comboWorkerType.Items.Clear();
                    break;
                default:
                    break;
            }
        }

        private void comboSubsidiaryTravel_SelectedIndexChanged(object sender, EventArgs e)
        {
            chooseWorker();
        }

        private void dtpArrivalStart_ValueChanged(object sender, EventArgs e)
        {
            ArrivalStart = dtpArrivalStart.Value;
            dtpArrivalEnd.MinDate = dtpArrivalStart.Value;
        }

        private void dtpArrivalEnd_ValueChanged(object sender, EventArgs e)
        {
            ArrivalEnd = dtpArrivalEnd.Value;
            dtpDepartureStart.MinDate = dtpArrivalEnd.Value;
        }

        private void dtpDepartureStart_ValueChanged(object sender, EventArgs e)
        {
            DepartureStart = dtpDepartureStart.Value;
            dtpDepartureEnd.MinDate = dtpDepartureStart.Value;
        }

        private void dtpDepartureEnd_ValueChanged(object sender, EventArgs e)
        {
            DepartureEnd = dtpDepartureEnd.Value;
        }
    }
} 
```

这是我获得 TabControl 的用户控件

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Drawing;
using System.Data;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using MBG.SimpleWizard;
using System.Globalization;

namespace Demo
{
    public partial class Page3 : UserControl, IWizardPage
    {
        int c = 1;
        private static DateTime WorkStart;
        public DateTime workStart 
        {
            get { return WorkStart; }
            set { WorkStart = value; }
        }

        private static DateTime WorkEnd;
        public DateTime workEnd 
        {
            get { return WorkEnd; }
            set { WorkEnd = value; }
        }

        public Page3()
        {
            InitializeComponent();
            dtpWorkStart.Format = DateTimePickerFormat.Custom;
            dtpWorkStart.CustomFormat = "ddd dd MMM yyyy hh:mm";
            dtpWorkEnd.Format = DateTimePickerFormat.Custom;
            dtpWorkEnd.CustomFormat = "ddd dd MMM yyyy hh:mm";
        }

        #region IWizardPage Members

        public UserControl Content
        {
            get { return this; }
        }

        public new void Load()
        {

        }

        public void Save()
        {
        }

        public void Cancel()
        {
            throw new NotImplementedException();
        }

        public bool IsBusy
        {
            get { throw new NotImplementedException(); }
        }

        public bool PageValid
        {
            get { return true; }
        }

        public string ValidationMessage
        {
            get { throw new NotImplementedException(); }
        }

        #endregion

        private void dtpWorkStart_ValueChanged(object sender, EventArgs e)
        {
            workStart = dtpWorkStart.Value;
            dtpWorkStart.MinDate = dtpWorkEnd.Value;
        }

        private void dtpWorkEnd_ValueChanged(object sender, EventArgs e)
        {
            workEnd = dtpWorkEnd.Value;
        }

        private void button1_Click(object sender, EventArgs e)
        {
            dataGridView1.DataSource = GetTable();

            if (c == 1)
            {
                DataGridViewCheckBoxColumn chk = new DataGridViewCheckBoxColumn();
                dataGridView1.Columns.Add(chk);
                chk.HeaderText = "Holiday";
                chk.Name = "Holiday";
            }
            c++;

        }

        public static DataTable GetTable() 
        {
            DataTable table = new DataTable();
            DateTime test = new DateTime();
            DateTime test2 = new DateTime();
            CultureInfo culture = CultureInfo.CurrentCulture;
            int week = 0;

            test = WorkStart;
            table.Columns.Add("Calendarweek", typeof(int));
            table.Columns.Add("Day", typeof(string));
            table.Columns.Add("Date", typeof(DateTime));
            table.Columns.Add("Start work", typeof(string));
            table.Columns.Add("End work", typeof(string));
            table.Columns.Add("Total", typeof(TimeSpan));

            while (test <= WorkEnd)
            {
                test2 = test;
                test2 = test2.AddHours(10);
                if (test.DayOfWeek != DayOfWeek.Sunday)
                {
                    week = culture.Calendar.GetWeekOfYear(test, CalendarWeekRule.FirstFourDayWeek, DayOfWeek.Monday);
                    table.Rows.Add(week, test.DayOfWeek.ToString(), test.ToString("dd MMM"), test.ToString("hh:mm tt", CultureInfo.InvariantCulture), test2.ToString("hh:mm tt", CultureInfo.InvariantCulture), test2 - test);

                }
                test = test.AddDays(1);
                //table.Rows.Add();

            }
            //Zugriff auf Zelle zuerst zeile dann spalte
            //string testString = table.Rows[3][2].ToString();

            table.RowChanged += new DataRowChangeEventHandler(table_RowChanged);

            //MessageBox.Show(testString);

            return table;

        }

        static DataRow getRow(DataTable table)
        {
            DataRow row = table.NewRow();

            return row;

        }

        static void table_RowChanged(object sender, DataRowChangeEventArgs e)
        {
            //e.Row.AcceptChanges();
            //throw new StackOverflowException();
            //throw new NotImplementedException();
        }

        private void button2_Click(object sender, EventArgs e)
        {

        }
    }
} 
```

这是用户控件，我在其中获得了添加 tabPage 的按钮：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Drawing;
using System.Data;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using MBG.SimpleWizard;
using System.Xml;
using System.Xml.Linq;

namespace Demo
{
    public partial class Page2 : UserControl, IWizardPage
    {
        private static DateTime ArrivalStart;
        public DateTime arrivalStart 
        {
            get { return ArrivalStart; }
            set { ArrivalStart = value; }

        }

        private static DateTime ArrivalEnd;
        public DateTime arrivalEnd
        {
            get { return ArrivalEnd; }
            set { ArrivalEnd = value; }

        }

        private static DateTime DepartureStart;
        public DateTime departureStart
        {
            get { return DepartureStart; }
            set { DepartureStart = value; }

        }

        private static DateTime DepartureEnd;
        public DateTime departureEnd
        {
            get { return DepartureEnd; }
            set { DepartureEnd = value; }

        }

        private List<string> groupItems = new List<string>();

        public Page2()
        {
            InitializeComponent();
            LoadSubsidiaryXML();
            dtpArrivalStart.Format = DateTimePickerFormat.Custom;
            dtpArrivalStart.CustomFormat = "ddd dd MMM yyyy hh:mm";
            dtpArrivalEnd.Format = DateTimePickerFormat.Custom;
            dtpArrivalEnd.CustomFormat = "ddd dd MMM yyyy hh:mm";
            dtpDepartureStart.Format = DateTimePickerFormat.Custom;
            dtpDepartureStart.CustomFormat = "ddd dd MMM yyyy hh:mm";
            dtpDepartureEnd.Format = DateTimePickerFormat.Custom;
            dtpDepartureEnd.CustomFormat = "ddd dd MMM yyyy hh:mm";

            groupItems.Add("Customer");
            groupItems.Add("Intercompany");

            comboWorkerType.DrawMode = DrawMode.OwnerDrawFixed;
        }

        private void LoadSubsidiaryXML()
        {
            XmlDocument subsidiary = new XmlDocument();
            subsidiary.Load("Subsidiaries.xml");

            XmlNodeList Subname = subsidiary.SelectNodes("subsidiaries/type/name");
            foreach (XmlNode name in Subname)
            {
                comboSubsidiaryTravel.Items.Add(name.InnerText);
            }
        }

        private void LoadWorkerXML(string xmlType)
        {
            comboWorkerType.Items.Clear();
            XmlDocument workerType = new XmlDocument();
            workerType.Load(xmlType);

            XmlNodeList worker = workerType.SelectNodes("worker/type/name");
            foreach (XmlNode name in worker)
            {
                //if (name.InnerText == "Customer" || name.InnerText == "Intercompany")
                //{
                //    comboWorkerType.Font = new Font(comboWorkerType.Font, FontStyle.Bold);
                //}

                comboWorkerType.Items.Add(name.InnerText);
            }
        }

        //private void comboWorkerType_DrawItem(object sender, DrawItemEventArgs e) 
        //{
        //    e.DrawBackground();

        //    if (e.Index > -1)
        //    {
        //        string drawText = comboWorkerType.Items[e.Index].ToString();
        //        if (groupItems.Contains(drawText))
        //        {
        //            using (Font font = new Font(comboWorkerType.Font, FontStyle.Bold))
        //                e.Graphics.DrawString(drawText, font, Brushes.Black, e.Bounds);
        //        }
        //        else
        //            e.Graphics.DrawString(drawText, comboWorkerType.Font, Brushes.Black, new Rectangle(16, e.Bounds.Top, e.Bounds.Width - 16, e.Bounds.Height));

        //        e.DrawFocusRectangle();
        //    }

        //}

        #region IWizardPage Members

        public UserControl Content
        {
            get { return this; }
        }

        public new void Load()
        {

        }

        public void Save()
        {
        }

        public void Cancel()
        {
            throw new NotImplementedException();
        }

        public bool IsBusy
        {
            get { throw new NotImplementedException(); }
        }

        public bool PageValid
        {
            get { return true; }
        }

        public string ValidationMessage
        {
            get { throw new NotImplementedException(); }
        }

        #endregion
        private void btnAddWorker_Click(object sender, EventArgs e)
        {
            string title = "worker " + (tabsTravel.TabCount + 1).ToString();

            TabPage travel = new TabPage();
            TabPage work = new TabPage();

            tabsTravel.TabPages.Add(travel);
            travel.Text = title;
            travel.BackColor = Color.White;
            travel.Controls.Add(new TabsTravel());

        }

        private void btnRemoveWorker_Click(object sender, EventArgs e)
        {
            tabsTravel.TabPages.Remove(tabsTravel.SelectedTab);
        }

        // Select XML which have to be populated to comboWorkerType
        private void chooseWorker() 
        {
            string xmlType = "";
            string subsidiary = "";
            subsidiary = comboSubsidiaryTravel.Text;
            switch (subsidiary)
            {   
                case "GH":
                    xmlType = "GHworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GP":
                    xmlType = "GPworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GN":
                    xmlType = "GNworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GT":
                    xmlType = "GTworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;
                case "GS":
                    xmlType = "GSworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GK":
                    xmlType = "GKworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GBH":
                    xmlType = "GBHworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GAS":
                    xmlType = "GASworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "Others":
                    comboWorkerType.Items.Clear();
                    break;
                default:
                    break;
            }
        }

        private void comboSubsidiaryTravel_SelectedIndexChanged(object sender, EventArgs e)
        {
            chooseWorker();
        }

        private void dtpArrivalStart_ValueChanged(object sender, EventArgs e)
        {
            ArrivalStart = dtpArrivalStart.Value;
            dtpArrivalEnd.MinDate = dtpArrivalStart.Value;
        }

        private void dtpArrivalEnd_ValueChanged(object sender, EventArgs e)
        {
            ArrivalEnd = dtpArrivalEnd.Value;
            dtpDepartureStart.MinDate = dtpArrivalEnd.Value;
        }

        private void dtpDepartureStart_ValueChanged(object sender, EventArgs e)
        {
            DepartureStart = dtpDepartureStart.Value;
            dtpDepartureEnd.MinDate = dtpDepartureStart.Value;
        }

        private void dtpDepartureEnd_ValueChanged(object sender, EventArgs e)
        {
            DepartureEnd = dtpDepartureEnd.Value;
        }

        private void button1_Click(object sender, EventArgs e)
        {
            worker test = new worker();
            //test.ArrivalTimeSpan();
            //test.DepartureTimeSpan();
            //test.WorkTimeSpan();
        }

        private void label1_Click(object sender, EventArgs e)
        {

        }

    }
} 
```

使用 btnAddWorker 我想添加 tabPage。

如何使用 button_click 事件将 tabPage 添加到带有 TabControl 的 UserControl？

感谢所有有用的答案

问候

托比

编辑：

嗨，它直到现在才运行。我需要一点提示。

这是 UserControl A 中的委托：

```
public delegate void tabWork(TabControl tabsWork); 
```

在这里，我得到了 UserControl A 中的按钮和 addTab 方法：

```
private void btnAddWorker_Click(object sender, EventArgs e)
        {

            addTab(tabsTravel);

        }

        static void addTab(TabControl tabsTravel) 
        {

            string title = "worker " + (tabsTravel.TabCount + 1).ToString();

            TabPage travel = new TabPage();
            tabWork work;

            tabsTravel.TabPages.Add(travel);
            travel.Text = title;
            travel.BackColor = Color.White;
            travel.Controls.Add(new TabsTravel());

            work = new tabWork(Page3.addTab);

        } 
```

在这里我得到了 UserControl B 中的 addTab 方法：

```
public static void addTab(TabControl tabsWork) 
        {
            TabsWork work = new TabsWork();
            TabPage Tabwork = new TabPage();
            string title = "worker " + (tabsWork.TabCount + 1).ToString();

            tabsWork.TabPages.Add(Tabwork);
            Tabwork.Text = title;
            Tabwork.BackColor = Color.White;
            Tabwork.Controls.Add(new TabsWork());

        } 
```

但永远不会调用 UserControl B 中的 addTab。

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:05:55.307

您应该创建一个事件，指示其他用户控件创建/添加另一个选项卡，该选项卡传递带有您希望在其他用户控件中可用的信息的对象

# mysql - mysql n:m 关系：查找具有几个特定关系的行

> ID：11409869
> 
> 赞同：0
> 
> 时间：2012-07-10T08:57:33.027
> 
> 标签：mysql, many-to-many

我有两个 SQL 表，“产品”和“标签”。它们具有 n:m 关系，使用第三个表“product_tags”。

我想使用查询来查找具有许多特定标签的每个产品。例如，查找与标签 1、23 和 54 相关的所有产品。

有没有办法只用一个查询来做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T09:08:26.967

您可以使用此解决方案。这将获取包含***所有***关键字 1、23 和 54 的所有产品：

```
SELECT a.*
FROM products a
INNER JOIN product_tags b ON a.product_id = b.product_id
WHERE b.tag_id IN (1,23,54)
GROUP BY a.product_id
HAVING COUNT(1) = 3 
```

`3`列表中的项目数量在哪里`WHERE IN`，因此您可以根据要检查的标签数量进行相应调整。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:09:32.937

试试这个

选择 * 从

```
 PRODUCTS p 
 JOIN PRODUCT_TAGS pt ON p.ID = pt.PRODUCT_ID
 JOIN TAGS t ON pt.TAG_ID = t.ID AND
      t.ID IN (1, 23, 54) 
```

我假设列名。我认为列名很简单，您可以轻松地使用列名。如果您需要更多说明，请告诉我。

# php - 如何在 Javascript POST 方法中包含 php 文件

> ID：11409871
> 
> 赞同：0
> 
> 时间：2012-07-10T08:57:36.910
> 
> 标签：php, post, get, server-side-includes

我有一个 php 脚本，它计算的东西非常长。

它是从 js 文件中调用的，除了从 js 文件中调用它之外，我还想从另一个 php 文件中调用它。

该文件称为 strategy.server.php，它是这样构建的

```
 <?php
    include_once("../config.php");
    include_once("../class/simulator.class.php");

    $simulator = new Simulator();
    $SPOT = $_GET["strikePrice"];
    $INTEREST = $_GET["interestRate"] / 100;
    $VOLATILITY = $_GET["volatility"] / 100;
    $REMAININGDAYS = $_GET["remainingDays"] / 365;

    header("Expires: Mon, 26 Jul 1997 05:00:00 GMT");
    header("Last-Modified: " . gmdate("D, d M Y H:i:s") . "GMT");
    header("Cache-Control: no-cache, must-revalidate");
    header("Pragma: no-cache");
    header("Content-type: application/json; charset=utf-8");

    if(!empty($_GET['mycase']))
    {
        switch($_GET['mycase'])
////calculations... 
            $data['totalMargin'];  
           echo json_encode($data); 
```

我正在尝试使用相同的文件来计算不同的参数（在循环中）。
所以我考虑使用一个包含并像这样发布参数：

```
$params         = "some params...";
$params     .=  "strikePrice=".$data["strikePrice"].
        "&volatility=".$data["volatility"].
        "&remainingDays=".$data["remainingDays"].
        "&interestRate=".$data["interestRate"].
        "&commission="."7".//$data["commission"].
        "&profitDays="."7";//$data["profitDays"];

include("server/strategy.server.php?" .$params);
json_decode($data);
echo $data['totalMargin']; 
```

但它给出了一个错误：
`Warning: include(server/strategy.server.php?mycase=1&rangeMin=0&rangeMax=0&strikePrice=1078&volatility=24&remainingDays=51&interestRate=2.5&commission=7&profitDays=7) [function.include]: failed to open stream: No such file or directory in C:\xampp\htdocs\s-maof-vb\PRO\functions_alarms.php on line 86`

如果我包含带有参数的文件，它会加载（但没有参数..）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:08:21.163

include 函数不像 HTTP 那样接受参数。此外，您尝试做的不是最佳实践，因为它多次包含同一个文件。您必须创建一个遍历 $data 值数组的 for 或 while 循环。

如果您仍然需要此功能，我建议使用[cURL 库](http://nl.php.net/manual/en/curl.examples-basic.php)或[file_get_contents()](http://nl3.php.net/file_get_contents)来调用脚本（而不是包含）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:05:13.260

包含 PHP 文件会将文件中的所有操作插入到当前正在执行的 PHP 文件中，因此范围内定义的任何参数都可以从代码中访问。

例如，如果我有一个`echo.php`包含以下内容的文件：

```
<?php
echo $test."\n"; 
```

并将其包含在另一个文件中：

```
<?php
$test= "hello";
include("echo.php");
$test = "world";
include("echo.php"); 
```

结果将是：

```
hello
world 
```

因此，包含文件的参数不是使用 HTTP GET 方法传递的，而是通过范围内定义的方法传递的。此外，在 unix 中获取文件名末尾的参数将导致文件系统在磁盘上查找整个字符串。

对于上面的示例，该文件将编译为：

```
<?php
$test= "hello";
echo $test."\n";
$test = "world";
echo $test."\n"; 
```

因此，在您的情况下，您可能需要编辑`strategy.server.php`脚本以首先检查数据是否在 params 数组中传递，然后默认为 GET：

```
if(empty($params)){
   $params = $_GET; 
}
// filter params for user input; 
```

# android - 主线程异常上的android多线程和网络；

> ID：11409874
> 
> 赞同：0
> 
> 时间：2012-07-10T08:57:44.313
> 
> 标签：android

考虑一下我从服务器获取数据并在说列表视图中将其发布到 UI 的场景，但这是一个持续的活动，它永远不会停止。

```
taskA{ //fetches data over network

if(!update)
    fetch();//network operation

}

taskB{//using this data UI is updated at runtime just like feed.

if(update)
    show();//UI operation
} 
```

taskA 完成后首先启动 taskB 在 A 正在睡觉时开始，反之亦然，现在我面临的问题是：

1.  两个操作都必须在工作线程中
2.  这两个操作都在循环中进行，直到活动还活着。
3.  如果处理程序用于将 UI 操作发布到主线程，则 taskB 似乎停止。

谁能给我建议一个设计来让它工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:25:23.783

`AsyncTask`正在为你做这项工作。您可以将其作为`Activity`主类下的内部类。

> [http://developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html)

示例代码

```
private class YourTask extends AsyncTask<URL, Integer, String> {
     protected String doInBackground(URL... urls) {
         // Fetch Data (Task A)
         return "Result";
     }

     protected void onProgressUpdate(Integer... progress) {
         // Show progress
     }

     protected void onPostExecute(String result) {
         // Show UI after complete (Task B)
     }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T20:06:25.423

你也可以使用[IntentService](http://developer.android.com/reference/android/app/IntentService.html)你可以检查一些[示例代码](https://github.com/search?q=android.app.IntentService%20repo%3aandroid/platform_development%20repo%3acommonsguy/cw-omnibus%20extension%3ajava&type=Code)

Android 服务是轻量级的，但设置起来更复杂。

AsyncTask 非常简单，但不推荐，因为它有很多缺点和缺陷。您也可以查看[Loaders](http://developer.android.com/reference/android/content/Loader.html)，但它不像 AsyncTasks 那样简单。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:28:04.650

`AsyncTask`就是你要找的。查看此链接以获取一些示例代码： http: [//geekjamboree.wordpress.com/2011/11/22/asynctask-call-web-services-in-android/](http://geekjamboree.wordpress.com/2011/11/22/asynctask-call-web-services-in-android/)

# django - Django MPTT：如何在递归树标签中实现递归树。

> ID：11409876
> 
> 赞同：1
> 
> 时间：2012-07-10T08:57:54.757
> 
> 标签：django, django-mptt, mptt

它就像这里的开端。

```
<ul class="root">
    {% recursetree nodes %}
              {% recursetree #i get values dependsing on node which is a mptt model %}
                   {{ node.name }}
              {% endrecursetree %} 
    {% endrecursetree %}
</ul> 
```

现在我如何用 mptt 实现这样的场景？？？.. 或者在这种情况下 mptt 是一个糟糕的选择？我开始认为它是。

非常感谢任何帮助。

谢谢 ：）

# javascript - API 错误：appmobi facebook 集成 HTML5 移动 Web 应用程序中的 191

> ID：11409881
> 
> 赞同：0
> 
> 时间：2012-07-10T08:58:10.470
> 
> 标签：javascript, facebook-graph-api, html5boilerplate, appmobi

我正在尝试将 facebook 集成到我的 web 应用程序中，用户可以使用 facebook id 和密码登录，但上面我无法登录 web 应用程序 - 我经常收到以下错误：

> API 错误代码：191 API
> 
> 错误描述：指定的 URL 不属于应用程序
> 
> 错误消息：无效的 redirect_uri：应用程序配置不允许给定 URL。

在我们继续之后，会出现一个 facebook 登录页面，它将我们引导到用户的 facebook 帐户。有人请建议我如何做到这一点？我已经尝试过 appmobifacebooktemplate 和许多示例 [http://developers.facebook.com/docs/authentication/client-side/](http://developers.facebook.com/docs/authentication/client-side/) [http://thinkdiff.net/facebook/new-javascript-sdk-oauth-2-0-based- fbconnect-教程/](http://thinkdiff.net/facebook/new-javascript-sdk-oauth-2-0-based-fbconnect-tutorial/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T14:50:34.490

听起来问题在于应用程序要求 Facebook 重定向到的 URL 与新的 Facebook API 不兼容。appMobi 站点上的示例 Facebook 应用程序和网页已有一年多的历史了。这可能有一个错误。

appMobi 即将发布一个新的 Facebook 集成 API。也许这可以解决问题？

# jquery - 分离 Jquery Post 的响应

> ID：11409883
> 
> 赞同：0
> 
> 时间：2012-07-10T08:58:12.460
> 
> 标签：jquery, typo3

我正在尝试发送一个后请求并在回调的响应中有所不同。

```
function get_response() 
{
    var data = 
    {
        value1: "value1",
        value2: "value2"
    };          
    $.post("/index.php?id=1",data,function(text) 
        {
            $("#container1").empty();
            $("#container1").append(text);
            $("#container2").empty();
            $("#container2").append(text);
        });
        return;
} 
```

我正在向我当前所在的页面发送两个值。每个值都被传递给不同的函数，每个函数我收到一个结果。

```
if (isset($_POST['value1']))
{
    echo $this->function_1();
    exit;
}

if (isset($_POST['value2']))
{
    echo $this->function_2();
    exit;
} 
```

我已经尝试了很多并且用谷歌搜索了更多......但我找不到任何适合我情况的东西。我基本上想将function_1的返回值粘贴到#container1中，将function_2的返回值粘贴到#container2中。

我想我的大脑比我的问题 atm 的结构更混乱......但我希望它仍然可以理解（：

我目前运行 2 个不同的 post-functions，但是由于两者都设置为一个间隔，因此同时发送多个帖子让我很烦，我认为这是低效的（间隔很短，因此它可以叠加）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:02:17.580

为什么不连接响应然后拆分它们？

```
$response="";
if (isset($_POST['value1']))
{
    $response.=$this->function_1();
}

if (isset($_POST['value2']))
{
    $response.='|'.$this->function_2();
}
echo $response; 
```

在 Jquery 中：

```
function get_response() 
{
    var data = 
    {
        value1: "value1",
        value2: "value2"
    };          
    $.post("/index.php?id=1",data,function(text) 
        {
            var response=text.split("|");
            if (response.length==2){
            $("#container1").empty();
            $("#container1").append(response[0]);
            $("#container2").empty();
            $("#container2").append(response[1]);
        }
        });
        data = null;
        text = null;
        return;
} 
```

选项 2 将是 JSON，正如 @subirkumarsao 所说：

```
$response=Array();
if (isset($_POST['value1']))
{
    $response['value1']=$this->function_1();
}

if (isset($_POST['value2']))
{
    $response['value2']=$this->function_2();
}
echo json_encode($response); 
```

和jQuery：

```
function get_response() 
{
    var data = 
    {
        value1: "value1",
        value2: "value2"
    };          
    $.post("/index.php?id=1",data,function(text) 
        {
            var response=jQuery.parseJSON(text);
            if (response.length==2){
            $("#container1").empty();
            $("#container1").append(response.value1);
            $("#container2").empty();
            $("#container2").append(response.value2);
        }
        });
        data = null;
        text = null;
        return;
} 
```

您应该始终尝试尽可能少的帖子，因为它的性能昂贵。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:05:00.010

创建 JSON 响应。就像是

```
{
 "func1":"output of func1",
 "func2":"output of func2"
} 
```

在ajax响应中你可以做到。

`text.func1` // 将此设置为容器 1

`text.func2` // 将此设置为容器 2

# android - 如何重置 PeriodicSync

> ID：11409885
> 
> 赞同：1
> 
> 时间：2012-07-10T08:58:19.553
> 
> 标签：android, sync, android-contentresolver

有没有办法重置 PeriodicSync 的周期？

我的意思是，如果周期是 10 分钟，自上次同步以来已经过去了 7 分钟，请重置周期，以便下一次同步将在 10 分钟内再次，而不是 3 分钟。

ContentResolver 对此没有任何方法。我试图：

*   在现有的 PeriodicSync 上调用 ContentResolver.addPeriodicSync()。如 javadocs 中所述，期间会更新，但不会重置。
*   停止并启动 PeriodicSync。在这种情况下，重新启动时会触发同步，这是我不想要的。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-30T09:07:51.400

我有类似的问题，但没有找到仅更新设置的方法：

```
ContentResolver.removePeriodicSync 
```

和

```
ContentResolver.addPeriodicSync 
```

更改设置并在您编写时运行同步

# javascript - 将数字限制为段的最优雅的方法是什么？

> ID：11409895
> 
> 赞同：172
> 
> 时间：2012-07-10T08:58:53.900
> 
> 标签：javascript, clamp

假设`x`和是`a`数字`b`。我需要限制`x`在段的范围内`[a, b]`。

换句话说，我需要一个[钳位功能](https://math.stackexchange.com/q/1336636)：

```
clamp(x) = max( a, min(x, b) ) 
```

任何人都可以想出一个更具可读性的版本吗？

* * *

## 回答 #1

> 赞同：239
> 
> 时间：2012-07-10T09:02:07.130

你这样做的方式很标准。您可以定义一个效用`clamp`函数：

```
/**
 * Returns a number whose value is limited to the given range.
 *
 * Example: limit the output of this computation to between 0 and 255
 * (x * 255).clamp(0, 255)
 *
 * @param {Number} min The lower boundary of the output range
 * @param {Number} max The upper boundary of the output range
 * @returns A number in the range [min, max]
 * @type Number
 */
Number.prototype.clamp = function(min, max) {
  return Math.min(Math.max(this, min), max);
}; 
```

（尽管扩展语言内置插件通常不被接受）

* * *

## 回答 #2

> 赞同：85
> 
> 时间：2012-07-10T09:10:27.293

一种较少面向“数学”的方法，但也应该有效，这样，`<`/`>`测试就暴露出来了（可能比最小化更容易理解），但这真的取决于你所说的“可读”是什么意思

```
function clamp(num, min, max) {
  return num <= min 
    ? min 
    : num >= max 
      ? max 
      : num
} 
```

* * *

## 回答 #3

> 赞同：68
> 
> 时间：2016-09-13T19:50:41.627

有一个建议添加到内置`Math`对象中来做到这一点：

```
Math.clamp(x, lower, upper) 
```

但请注意，截至今天，它是第 1 阶段[提案](https://rwaldron.github.io/proposal-math-extensions/#sec-math.clamp)。在它得到广泛支持（不能保证）之前，您可以使用[polyfill](https://www.npmjs.com/package/ecma-proposal-math-extensions)。

* * *

## 回答 #4

> 赞同：31
> 
> 时间：2012-07-10T09:03:43.493

一个简单的方法是使用

```
Math.max(min, Math.min(number, max)); 
```

你显然可以定义一个包装这个的函数：

```
function clamp(number, min, max) {
  return Math.max(min, Math.min(number, max));
} 
```

* * *

最初这个答案还将上述函数添加到全局`Math`对象中，但这是过去时代的遗物，因此已被删除（感谢@Aurelio 的建议）

* * *

## 回答 #5

> 赞同：15
> 
> 时间：2016-11-03T17:36:10.287

这不想成为“仅使用库”的答案，但以防万一您使用 Lodash，您可以使用[`.clamp`](https://lodash.com/docs/4.16.6#clamp)：

```
_.clamp(yourInput, lowerBound, upperBound); 
```

以便：

```
_.clamp(22, -10, 10); // => 10 
```

这是它的实现，取自 Lodash[源代码](https://github.com/lodash/lodash/commit/946560c99847b2f600ff204fe01e9e776f05d2ec)：

```
/**
 * The base implementation of `_.clamp` which doesn't coerce arguments.
 *
 * @private
 * @param {number} number The number to clamp.
 * @param {number} [lower] The lower bound.
 * @param {number} upper The upper bound.
 * @returns {number} Returns the clamped number.
 */
function baseClamp(number, lower, upper) {
  if (number === number) {
    if (upper !== undefined) {
      number = number <= upper ? number : upper;
    }
    if (lower !== undefined) {
      number = number >= lower ? number : lower;
    }
  }
  return number;
} 
```

此外，值得注意的是 Lodash 将单个方法作为独立模块提供，因此如果您只需要此方法，您可以在没有库的其余部分的情况下安装它：

```
npm i --save lodash.clamp 
```

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2017-11-02T20:46:15.817

如果您能够使用 es6 箭头函数，您还可以使用部分应用方法：

```
const clamp = (min, max) => (value) =>
    value < min ? min : value > max ? max : value;

clamp(2, 9)(8); // 8
clamp(2, 9)(1); // 2
clamp(2, 9)(10); // 9

or

const clamp2to9 = clamp(2, 9);
clamp2to9(8); // 8
clamp2to9(1); // 2
clamp2to9(10); // 9 
```

* * *

## 回答 #7

> 赞同：7
> 
> 时间：2018-02-15T17:44:32.357

如果您不想定义任何函数，那么编写它`Math.min(Math.max(x, a), b)`并没有那么糟糕。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2020-07-21T04:54:23.227

这将三元选项扩展为 if/else，它缩小相当于三元选项，但不会牺牲可读性。

```
const clamp = (value, min, max) => {
  if (value < min) return min;
  if (value > max) return max;
  return value;
} 
```

缩小到 35b（或 43b，如果使用`function`）：

```
const clamp=(c,a,l)=>c<a?a:c>l?l:c; 
```

此外，根据您使用的性能工具或浏览器，您会得到基于数学的实现还是基于三元的实现更快的各种结果。在性能大致相同的情况下，我会选择可读性。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2017-04-26T18:15:19.037

本着箭头性感的精神，您可以创建一个微型夹具/约束/门/&c。使用剩余参数的函数

```
var clamp = (...v) => v.sort((a,b) => a-b)[1]; 
```

然后只需传入三个值

```
clamp(100,-3,someVar); 
```

也就是说，再次，如果性感，你的意思是“短”

* * *

## 回答 #10

> 赞同：-7
> 
> 时间：2016-03-04T19:15:06.447

我的最爱：

```
[min,x,max].sort()[1] 
```

# jquery - jquery validate user has input text into 1 of 2 textboxes

> ID：11409897
> 
> 赞同：0
> 
> 时间：2012-07-10T08:59:02.560
> 
> 标签：jquery, html

嗨，我正在努力寻找这个问题的答案，如果可以做到吗？

我有一个包含 3 个文本框的登录表单：用户 ID、邮政编码、出生日期

用户 ID 很好，我可以添加一个必需的属性来验证，但我想验证他们是否也已将数据输入到其他 2 个文本框中的 1 个，所以要么是邮政编码，要么是出生日期。我不想使用 asp.net 自定义验证器，因为它们很痛苦，并且希望这可以在 html5/jQuery 中完成。这些文本框位于 .net 用户控件上，因此不确定这是否是一个问题，因为如果我使用类似... $("#form1").validate 的话，我很难找到表单

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:03:54.877

您可能需要使用服务器控件的 ClientID 才能在 javascript 中访问它们。您可以在提交按钮的单击事件上绑定 javascript 并执行任何验证。

```
$('#<%= submitButton.ClientID %>').click(function (){    
  textBox1Value =  $('#<%= textBox1.ClientID %>').val();
  textBox2Value =  $('#<%= textBox2.ClientID %>').val();
  //do validation on both textboxes here

  if(!conditionFormValidated)  //To prevent submit if form validation fail
     return false;
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:01:33.023

您应该检查文本框中的所有三个字段值。这应该在表单提交时进行检查。如果其中两个存在，那么您应该重新初始化您的 validate 方法并调用它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T12:57:24.633

我就是这样做的，验证向导控件上的 2 个文本框中的 1 个具有值。

```
if (!Page.IsPostBack)
{
  Button btn = (Button)Wizard.FindControl("StartNavigationTemplateContainerID").FindControl("StartNextButton");
  string script = "$(\"#" + btn.ClientID + "\").click(function () { if (($(\"#" + PostCode.ClientID + "\").val() == \"\" && $(\"#" + textDob.ClientID + "\").val() == \"\") || ($(\"#" + ClientId.ClientID + "\").val() == \"\" && $.browser.msie && parseInt($.browser.version, 10) < 10)) { $.jGrowl(\"<p style='padding: 3px; color: #fff;'>Please enter your Client ID and either a <em>Post code</em> or <em>Date of birth</em></p>\"); return false; }  });";
  Page.ClientScript.RegisterStartupScript(Page.GetType(), "ValidateLogin", script, true);
} 
```

# c - 如何确定哪一天是C中当前语言环境中的第一天

> ID：11409902
> 
> 赞同：2
> 
> 时间：2012-07-10T08:59:18.173
> 
> 标签：c, date, time, locale

如何确定 C 中当前语言环境中哪一天是一周中的第一天。在俄罗斯，星期一是第一天，但​​我的 mac 显示本地化日历的第一天错误。所以我想知道我是否可以确定哪一天是当前语言环境中的第一天。谢谢。

```
anatoly@mb:/Users/anatoly$ cal
     Июля 2012
вс пн вт ср чт пт сб
 1  2  3  4  5  6  7
 8  9 10 11 12 13 14
15 16 17 18 19 20 21
22 23 24 25 26 27 28
29 30 31 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-10T09:34:33.220

使用 glibc，您可以：

```
#define _GNU_SOURCE
#include <langinfo.h>

char get_first_weekday()
{
    return *nl_langinfo(_NL_TIME_FIRST_WEEKDAY);
} 
```

记得先打电话`setlocale()`。例子：

```
#include <stdio.h>
#include <locale.h>

int main()
{
    setlocale(LC_ALL, "");
    printf("%d\n", get_first_weekday());
    return 0;
} 
```

这`2`会在我的系统上返回（这意味着星期一 == `DAY_2`）。

请注意：我不认为它是 glibc 的公共 API。但是，这就是`locale`与其捆绑的工具在第一个工作日的方式。`cal`也使用类似的方法。

根据特定用途，您可能也会感兴趣`_NL_TIME_FIRST_WORKDAY`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-12T20:46:41.463

我在第一篇文章中错了，[ICU](http://www.icu-project.org/)提供了一个 C API。

因此，如果您可以接受对该库的依赖，您可以使用以下代码段可移植地获得一周的第一天：

```
#include <stdio.h>

/* for calendar functions */
#include <unicode/ucal.h>
/* for u_cleanup() */
#include <unicode/uclean.h>
/* for uloc_getDefault() */
#include <unicode/uloc.h>

int main()
{
    /* it *has* to be pre-set */
    UErrorCode err = U_ZERO_ERROR;

    UCalendar* cal = ucal_open(
            0, -1, /* default timezone */
            uloc_getDefault(), /* default (current) locale */
            UCAL_DEFAULT, /* default calendar type */
            &err);

    if (!cal)
    {
        fprintf(stderr, "ICU error: %s\n", u_errorName(err));
        u_cleanup();
        return 1;
    }

    /* 1 for sunday, 2 for monday, etc. */
    printf("%d\n", ucal_getAttribute(cal, UCAL_FIRST_DAY_OF_WEEK));

    ucal_close(cal);
    u_cleanup();
    return 0;
} 
```

然后将程序与`icu-i18n`pkg-config 库链接。

啊，如果你有兴趣的话，他们有一个相当广泛的[打印日历的例子。](http://source.icu-project.org/repos/icu/icu/trunk/source/samples/cal/cal.c)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-07-27T00:29:24.997

显然在 Mac 上你可以使用：

```
#include <ApplicationServices/ApplicationServices.h>
[..]
CFCalendarRef cal = CFCalendarCopyCurrent();  
long f_day = CFCalendarGetFirstWeekday(cal); // 1=Sunday, ..
CFRelease(cal); 
```

资料来源：[[1]](https://www.fltk.org/newsgroups.php?gfltk.coredev%20v:18854)。

# iphone - NSMutableArray 在索引处从其他数组添加对象

> ID：11409903
> 
> 赞同：0
> 
> 时间：2012-07-10T08:59:31.730
> 
> 标签：iphone, objective-c, xcode, arrays, cocoa

有什么办法`addObjectFromArray:atIndex:`吗？

我有 2 个 NSMutableArrays。可以说第一个数组是`array1`，第二个是`array2`。他们充满了价值观。我需要将项目从`array1`at index添加`3`到`array2`. 是否可以？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T09:03:28.170

使用以下方法检索对象：

```
[array1 objectAtIndex:3] 
```

使用以下方法添加对象：

```
[array2 addObject:theObject]; 
```

换句话说，以下添加对象`3`from `array1`to `array2`：

```
 [array2 addObject:[array1 objectAtIndex:3]]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:02:57.753

您需要将其分为两个步骤，如下所示：

```
[array2 addObject: [array1 objectAtIndex: index3]]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T09:16:16.317

我们有`addObjectsFromArray:`方法，这意味着将另一个给定数组中包含的对象添加到接收数组内容的末尾。但是我们没有 `addObjectFromArray:atIndex`: 方法。为了获得结果，您可以使用 NSMutableArray 类包含的方法。

```
[array2 addObject: [array1 objectAtIndex: index3]]; 
```

Here we can use two methods `addObject:` and `objectAtIndex:`. For more details, use this [link](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html).

# windows-phone-7 - 空条目时的自动完成框

> ID：11409909
> 
> 赞同：0
> 
> 时间：2012-07-10T08:59:41.093
> 
> 标签：windows-phone-7, autocompletebox

我在我的 AutoCompeteBox 中使用这个过滤器。

```
bool SearchBird(string search, object value)
        {
            if (value != null)
            {
                AllBirds datasourceValue = value as AllBirds;
                string name = datasourceValue.primary_language;

                if (name.ToLower().StartsWith(search.ToLower()))
                return true;

            }
            // If no match, return false. 
            return false;
        } 
```

当所有条目都具有一定的价值时，一切都运行良好，但是当有任何空记录时，它就会崩溃，给出一个带有空异常的错误（这是可以理解的，因为没有价值）。尝试使用额外的 if 或 else 语句做某事，但仍然得到相同的错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:55:22.870

如果你使用if else会更好？

在 if 之后添加这个，可能会有所帮助

```
else {
 return false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T09:14:38.673

我就是那样做的。

```
if (value != null)
            {
                AllBirds datasourceValue = value as AllBirds;
                string name = datasourceValue.primary_language;

                if (name == null)
                    return false;

                if (name.ToLower().StartsWith(search.ToLower()))
                return true;

            }
            // If no match, return false. 
            return false; 
```

# javascript - 移动缩略图下一个和上一个 jquery

> ID：11409910
> 
> 赞同：0
> 
> 时间：2012-07-10T08:59:47.190
> 
> 标签：javascript, jquery

你好朋友我想移动我的缩略图下一个和上一个使用jquery我发现许多jquery具有相同的效果但问题是当我在我的代码中实现这些代码时我现有的代码与这个代码冲突。我想要这种效果[http：/ /sorgalla.com/projects/jcarousel/examples/static_simple.html](http://sorgalla.com/projects/jcarousel/examples/static_simple.html)。我是 jquery 的新手，我不知道如何开始。我的html代码如下

**HTML**

```
 <div id="img">
      <ul>
        <li><img src="foundation.jpg" alt=" " /></li>
        <li><img src="mobile3.jpg" alt=" " /></li>
        <li><img src="template.jpg" alt=" " /></li>
     </ul>   
   </div>     
     <div id="next">next</div>
     <div id="prev">prev</div> 
```

请帮我

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:05:02.583

只需下载 jCoursel 插件并使用它。[这是下载它的链接。](http://www.gmarwaha.com/jquery/jcarousellite/)

# android - Android如何更新ProgressBar的值？

> ID：11409912
> 
> 赞同：9
> 
> 时间：2012-07-10T08:59:54.683
> 
> 标签：android, progress-bar

我的活动有一个 ProgressBar。开始活动时，我会检查从另一个地方获取的值并更新到 ProgressBar。这是我的代码：

```
final ProgressBar progressBar = (ProgressBar) findViewById(R.id.progressBar_detail);
final TextView progressText = (TextView) findViewById(R.id.progressText_detail);
final ImageView btnCancel = (ImageView) findViewById(R.id.imgCancel_detail);
progressBar.setVisibility(View.VISIBLE);
progressText.setVisibility(View.VISIBLE);
btnCancel.setVisibility(View.VISIBLE);
Thread t = new Thread() {
    public void run() {
        ((Activity) ctx).runOnUiThread(new Runnable() {
            public void run() {
                int oldProgress = 0;
                while (progressBar.getProgress() < 100) {
                    int value = Downloader.progress.get(gameId+ "");
                    if (value != oldProgress) {
                        oldProgress = value;
                        progressBar.setProgress(value);
                        progressText.setText(value + " %");
                    }
                }
            }
        });
    }
};
t.start(); 
```

我从中获得的 ProgressBar 的值是`int value = Downloader.progress.get(gameId)`正确的。但是当我运行此代码时，活动没有响应并且没有显示任何内容（但应用程序没有崩溃）。似乎更新 ProgressBar 的线程正在运行并阻止 UI 线程，因此未显示活动布局。

我的代码有什么问题？在这种情况下更新 ProgressBar 的正确方法是什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-10T09:07:36.877

您正在`while (progressBar.getProgress() < 100)`UI 线程中运行 a （您使用`runOnUiThread`），因此 UI 线程将被阻塞（并且没有绘制），直到此循环完成。

你可以：

*   把`runOnUiThread`里面的循环，也许，一个睡眠里面的`runOnUiThread`电话。但是，它不是首选的解决方案，因为您使用过多的 CPU 来查找值更改。sleep 方法有点难看，但解决了 cpu 问题。它会是这样的::

    ```
    Thread t = new Thread() {
        public void run() {
        int oldProgress = 0;

        while (progressBar.getProgress() < 100) {
                ((Activity) ctx).runOnUiThread(new Runnable() {
                    public void run() {
                        int value = Downloader.progress.get(gameId+ "");
                        if (value != oldProgress) {
                            oldProgress = value;
                            progressBar.setProgress(value);
                            progressText.setText(value + " %");
                        }
                    }
                }
                Thread.sleep(500);
            }
        });
      }
    }; 
    ```

*   以事件方式更新进度条，因此您仅在进度更改时（在 UI 线程中）调用更新代码。这是首选方式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T09:19:18.363

尝试：

```
 int currentPosition=0;
    int total=mediaPlayer.getDuration();
    while(mediaPlayer!=null && currentPosition<total){
        try{
            if(progressEnable){
                Thread.sleep(1000);
                currentPosition=mediaPlayer.getCurrentPosition();
                long pos=1000L * currentPosition/total;
                Log.d("thread pos", pos+"");
                progressSeekBar.setProgress((int) pos);
            }
        }
        catch (Exception e) {
        }
    } 
```

全局声明progressEnable：

```
private boolean progressEnable=true; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-10-18T11:07:20.527

我通常使用以下代码：

```
private int mProgressStatus;
private Handler mHandler = new Handler();

public void startProgress(View view) {
    final ProgressBar progressBar = (ProgressBar) findViewById(R.id.horizontal_progress);
    mProgressStatus = 0;
    progressBar.setProgress(mProgressStatus);

    //progressBar.setVisibility(View.VISIBLE);
    new AsyncTask<Void, Void, Void>() {
        @Override
        protected Void doInBackground(final Void... params) {
            while (mProgressStatus < 100) {
                try {
                    Thread.sleep(500);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                mProgressStatus += 15;
                mHandler.post(new Runnable() {
                    public void run() {
                        progressBar.setProgress(mProgressStatus);
                    }
                });
            }
            return null;
        }

    }.execute();
} 
```

希望这可以帮助

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-02-03T17:24:40.627

您可以使用 RXJava 自动前进进度条。

```
@Override
protected void onAttachedToWindow() {
    super.onAttachedToWindow();
    if (autoProgress) {
        autoProgressSubscriber = Observable.interval(0, 1000/60, TimeUnit.MILLISECONDS) //~60fps
                    .map(index -> calculateAutoProgress())
                    .subscribe(progress -> {
                        if (progressBar != null) {
                            progressBar.setProgress(progress);
                        }
                    });
    }
}

@Override
protected void onDetachedFromWindow() {
    if (autoProgress) {
        autoProgressSubscriber.unsubscribe();
    }
    super.onDetachedFromWindow();
} 
```

# java - UUID 的哈希码等于 Integer.MIN_VALUE

> ID：11409916
> 
> 赞同：0
> 
> 时间：2012-07-10T09:00:08.437
> 
> 标签：java, algorithm

```
public static void main(String[] args) {
    String uuid = null;
    while ((uuid = UUID.randomUUID().toString().replace("-", "")).hashCode() != Integer.MIN_VALUE){};
    System.out.println("i got one! " + uuid);
} 
```

我找不到结果。即使我不知道结果是否存在。帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:14:00.350

是的，存在一个。事实上，大约一个随机的 UUID`2^32`将有一个`hashcode`等于`Integer.MIN_VALUE`. 如果您运行测试足够长的时间，您会找到一个。

# jquery - 使用 jQuery GET 加载 CSV 文件返回标题但没有数据

> ID：11409920
> 
> 赞同：3
> 
> 时间：2012-07-10T09:00:21.670
> 
> 标签：jquery, csv

当使用 jQuery 'GET' 函数从服务器读取 CSV 文件时，我没有得到任何数据。当我使用 FireBug 查看代码时，我可以看到 GET 请求已发送，返回值为“200 OK”。我还看到正确返回了标头，因此肯定发出了请求，并返回了数据。这也是我在 Wireshark 中看到的。在这里，我看到 CSV 文件的完整内容作为标准 HTTP 响应返回。
但是我的脚本中没有实际数据。Firebug 显示一个空响应，并且永远不会调用“成功”函数。有什么问题？

编辑：我的问题似乎缺少信息的重要部分。以下代码在我的本地计算机上运行，​​并由 Firefox 中的 Aptana Studio 使用内置测试服务器启动。

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>       
        <title>New Web Project</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script src="jquery.js" type="text/javascript" charset="utf-8"></script>

       <script type="text/javascript">
        var csvData;
        $(document).ready(function() {
           $("#btnGET").click(function() {
                csvData = $.ajax({
                    type: "GET",
                    url: "http://www.mywebsite.com/data/sample_file.csv",
                    dataType: "text/csv",
                    success: function () {
                       alert("done!"+ csvData.getAllResponseHeaders())
                     }
                });
           });
        }) 
 </script>
 </head>   

     <body>
        <h1>New Web Project Page</h1>
        <button id="btnGET">GET Data</button>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T19:08:07.370

该代码不起作用，因为我尝试进行跨域 GET。页面和脚本托管在我的本地计算机上，GET 尝试从完全不同的域中检索数据。尽管在技术上是可行的，但它被所有现代浏览器阻止，因为它是一个安全漏洞。
Frederick Behrends 为我指明了正确的方向。正如他还提到的，唯一允许的跨域 GET 是使用“jsonp”。

以下文本取自 jQuery 文档：
*“由于浏览器安全限制，大多数“Ajax”请求都受制于相同的源策略；该请求无法成功地从不同的域、子域、端口或协议检索数据。”*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:02:43.167

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>       
        <title>New Web Project</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script src="jquery.js" type="text/javascript" charset="utf-8"></script>

       <script type="text/javascript">
        var csvData;
        $(document).ready(function() {
           $("#btnGET").click(function() {
                csvData = $.ajax({
                    type: "GET",
                    url: "http://www.mywebsite.com/data/sample_file.csv",
                    dataType: "text/csv",
                    success: function (result) {
                       alert(result);
                       alert("done!"+ csvData.getAllResponseHeaders())
                     }
                });
           });
        }) 
 </script>
 </head>   

     <body>
        <h1>New Web Project Page</h1>
        <button id="btnGET">GET Data</button>
    </body>
</html> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T09:13:56.290

据我了解 dataType 只接受“文本”作为参数，你可以试试吗？您也可以参考以下页面： [http ://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

谢谢。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T09:04:06.643

```
 $.ajax({
                    type: "GET",
                    url: "http://www.mywebsite.com/data/sample_file.csv",
                    dataType: "text/csv",
                    success: function (data) {
                       csvData = data;
                       //alert("done!"+ csvData.getAllResponseHeaders()) - my fix makes this won't work...
                     }
                }); 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2020-04-16T23:30:51.987

我尝试注释掉 dataType 并且它起作用了。

# java - Flyway 1.5 & jBoss 7 migrate() 返回 0 且未应用 sql 迁移

> ID：11409925
> 
> 赞同：0
> 
> 时间：2012-07-10T09:00:45.580
> 
> 标签：java, jboss7.x, flyway

我试图让 Flyway 1.5 在 jboss 7 下工作，当我调用 migrate() 它返回零并且没有从目录执行迁移。baseDir 返回 db/migration，我在 PROJECT_ROOT/src/main/resources/db/migration 下进行了迁移。迁移文件名为 V1__Test.sql。我应该提到，我还尝试通过显式设置 baseDir 并且 schema_version 表中包含版本 0（由 flyway.init() 设置）。

我也在 Flyway 1.6 和 1.6.1 下尝试过这个，我在一些已知的 1.6 问题下看到了 VFS 协议异常。

有什么建议么？

问候，吉姆

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T11:26:30.763

今天发布的 Flyway 1.7 应该可以解决您的问题。

# algorithm - 构建哈斯图的算法

> ID：11409929
> 
> 赞同：2
> 
> 时间：2012-07-10T09:01:10.367
> 
> 标签：algorithm, poset

请帮助我提高以下算法的时间复杂度。

**哈斯图**（如果您已经知道什么是哈斯图，请跳过此部分，请直接进入下一部分）：

考虑一个偏序集（poset，简称）(A,⊆)，其中A是一个集合，⊆是一个偏序。图的每个节点都是poset的一个元素，如果两个元素 x 和 y 用一条线连接，则 x ⊆ y 或 y ⊆ x 。元素的位置和连接的绘制遵循以下规则：

1.  如果在poset中x⊆y，那么对应于x的点出现在对应于y的点之下。

2.  偏序的传递性在图形上被省略了，也就是说，如果 x ⊆ y 和 y ⊆ z，那么，通过偏序 ⊆ 的传递性，x ⊆ z。在这种情况下，连接 xz 被省略。

3.  类似地，自反性在图形上被省略了。

Poset(S={{1,2,3,5}, {2,3}, {5}, {3}, {1,3}, {1,5}}, ⊆) 的哈斯图表示是如下（只报告边缘）

{1,2,3,5}->{2,3}

{1,2,3,5}->{1,3}

{1,2,3,5}->{1,5}

{2,3}->{3}

{1,3}->{3}

{1,5}->{5}

**我最初的想法**

我能想到的唯一算法是 O(N^2) 如下：

读取第一个元素是 S 并将其作为第一个元素插入到哈斯图中。当我们阅读下一个元素时，将它们插入已经构建的图表中的正确位置（假设到目前为止构建的图表有 K 个元素，那么在正确的位置插入一个新元素需要 O(K) 时间）。这样 O(N ^ 2) 是显而易见的。

但我在想对poset S的元素进行排序是否有帮助，但无法构建S中完整元素的排序顺序，因为⊆可能不适用于所有元素对（例如，考虑{2,3}和{1,3 }）。

欢迎任何改善最坏情况复杂性的想法！

谢谢。

PS：这不是作业问题！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-27T14:44:34.750

如果集合是 {1,2,3,5}，则子集将是 ({Æ},{1},{2},{3},{5},{1,2},{1,3] ,{1,5},{2,3}{2,5},{3,5},{1,2,3}{1,3,5},{1,2,5},{2, 3,5}，{1,2,3,5}）。去掉传递关系后，我们将有 ({{Æ}},{1},{2},[3},{4},{5},{1,2},{2,3}{1,5 },{2,5},{3,5},{1,2,3},{1,3,5},{1,2,5},{1,2,3,5})。现在从空集开始，画线到 1,2,3,5.. 然后从点 1 和 2 画线到 1,2。从 2 和 3 画线加入 2,3。然后画线到 5 1,2,3... 然后从那里从 [1,2},{2,3} 画线到 {1,2,3}。然后从 {3,5} 和 {1,5} 画线到 {1,3,5} 。然后再次画一条线到下一组，最后从所有先前的 sbset 画线到最后一个子集...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T12:10:27.610

这个问题通常被称为[传递归约](http://en.wikipedia.org/wiki/Transitive_reduction)。我相信你的算法是不正确的；虽然我没有足够的细节来确切地告诉你是如何做到的，但是从传递闭包到传递归约有一个有效的减少，并且对于前者的最着名的算法在时间 O(n ^ω ) 上运行某些指数 ω > 2。

# c++ - 画马利特蜱：不够高又瘦

> ID：11409930
> 
> 赞同：2
> 
> 时间：2012-07-10T09:01:21.340
> 
> 标签：c++, winapi, gdi

我正在尝试绘制一个看起来与 Windows XP CheckBox 勾号完全相同的勾号。我知道 Windows XP Checkbox 勾选是使用 Marlett 字体绘制的，我也在这样做。

我的问题是我的 Marlett 蜱虫看起来很矮，而实际的蜱虫更高更薄。我怎样才能让我的蜱更高更薄？

请注意，与实际相比，我在左侧的刻度是如何下蹲的： ![在此处输入图像描述](../Images/35c8c02da14d4ae3aaa8c23613268e23.png)

我需要更改哪些`CreateFont()`参数才能获得与 Windows XP 相同的刻度？

```
void draw(HDC hdc, PAINTSTRUCT ps)
{
    // Draws a marlett tick that is too squat, should I 
    // change the 1st param(height one) or something else?

    HFONT marlettFont = CreateFont(0, 0, 0, 0, FW_DONTCARE, FALSE, FALSE, FALSE, DEFAULT_CHARSET, OUT_OUTLINE_PRECIS,
                         CLIP_DEFAULT_PRECIS, CLEARTYPE_QUALITY, VARIABLE_PITCH, TEXT("Marlett"));

    SelectObject(hdc,marlettFont);
    SetTextColor(hdc, RGB(0,0,0));
    DrawTextEx(hdc, TEXT("a"), -1, &tickRect, DT_CENTER | DT_VCENTER | DT_NOCLIP, NULL);  
} 
```

# asp.net - 自定义搜索 ASP.NET

> ID：11409932
> 
> 赞同：1
> 
> 时间：2012-07-10T09:01:24.757
> 
> 标签：asp.net, xml, search, admin

我想实现一个简单的搜索文本框，用户可以在其中通过指定关键字来搜索网站的任何内容。

管理员应该能够配置搜索结果，即他可以启用/禁用任何关键字，因此与该关键字相关的页面将不会显示在搜索结果中。

我心里只有一个选择...

*我们可以放置一个管理员可编辑的xml文件，xml文件将包含关键字和与该关键字相关的url，因此管理员可以随时启用/禁用它。*

但不确定它有多可靠！

请分享您的想法...

# android - 在特定时间自动发送消息

> ID：11409936
> 
> 赞同：3
> 
> 时间：2012-07-10T09:01:30.060
> 
> 标签：android

我正在开发一个需要向特定电话号码发送短信的应用程序。我可以使用以下代码发送短信。

```
try {
                SmsManager smsManager = SmsManager.getDefault();
                smsManager.sendTextMessage(phoneNo, null, sms, null, null);
                Toast.makeText(getApplicationContext(), "SMS Sent!",
                        Toast.LENGTH_LONG).show();
            } catch (Exception e) {
                Toast.makeText(getApplicationContext(),
                        "SMS faild, please try again later!",
                        Toast.LENGTH_LONG).show();
                e.printStackTrace();
            } 
```

现在我想要的是短信应该自动发送。消息应该自动发送的时间存储在 MySQL 数据库中。所以我需要代码在那个时间到来时继续检查，然后自动将消息发送到那个号码。它是一种提醒的东西。用户将在应用程序中保留提醒，例如；我需要在 1 小时后收到一条消息。所以 1 小时后应该会收到消息。PLZ帮忙？？

终于我明白了。

```
/** Code For reminder is here */
            int time=Integer.parseInt(answer);
            int num = (int)System.currentTimeMillis();  
            Intent intent = new Intent(getApplication(), MyBroadcastReceiver.class);
            intent.putExtra("phoneNo",phoneNo);   
            Calendar calendar = Calendar.getInstance();
            calendar.setTimeInMillis(System.currentTimeMillis());
            calendar.add(Calendar.MINUTE, time);
            PendingIntent pendingIntent = PendingIntent.getBroadcast(
                getApplicationContext(), num, intent, 0);
            AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);
            alarmManager.set(AlarmManager.RTC_WAKEUP, System.currentTimeMillis()
                + calendar.getTimeInMillis() , pendingIntent);
            Toast.makeText(getApplication(), "Alarm set in " + time + " minutes",
            Toast.LENGTH_SHORT).show();
            /** Code for reminder is over */ 
```

我的接收者代码是

```
 public void onReceive(Context context, Intent intent) {
    String sms= "Your turn is about to come. Please be ready. Thank You";
    String phoneNo;
    Bundle extrasBundle = intent.getExtras();
    phoneNo=extrasBundle.getString("phoneNo");
    try {
        SmsManager smsManager = SmsManager.getDefault();
        smsManager.sendTextMessage(phoneNo, null, sms, null, null);
        Toast.makeText(context, "SMS Sent to " + phoneNo,Toast.LENGTH_LONG).show();
        } catch (Exception e) {
        Toast.makeText(context,"SMS faild, please try again later!",Toast.LENGTH_LONG).show();
        e.printStackTrace();
        } 
```

}

以防万一有人需要这个...谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:12:04.970

为此目的使用[AlarmManager 。](http://developer.android.com/reference/android/app/AlarmManager.html)创建一个接收器，在清单文件中注册它。使用 alarmaManager 在特定时间后设置警报。在接收时将您的 SendSMS 代码放入 Receiver。

编辑：我很早就回答了这个问题，它不适合当前场景，请阅读此博客以获得更好的替代方案[后台调度程序](https://www.bignerdranch.com/blog/choosing-the-right-background-scheduler-in-android/)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T09:18:05.797

Alarmmanager 帮助您在特定时间调用，使用 AlarmManager 并将您发送消息的所有代码放在 BroadcastReceiver 的 OnReceive 方法中。按照这个[链接](http://ashimita.blogspot.in/2012/04/broadcast-receiver-change-in-flow-since.html)。还要记住更改清单文件。祝一切顺利 ：）

# apache - 简单的服务器重定向到另一个域不适用于 mod_rewrite

> ID：11409938
> 
> 赞同：0
> 
> 时间：2012-07-10T09:01:34.607
> 
> 标签：apache, .htaccess

```
RewriteEngine on

RewriteBase /

RewriteCond %{HTTP_USER_AGENT} (Android|iPhone|iPod|Blackberry) [NC]
RewriteCond %{HTTP_HOST} !^m.reports.com [NC]
RewriteRule ^(.*)$ http://m.reports.com/$1 [QSA,L,R=301] 
```

那不会重定向到我的新域.. 为什么？！！？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T12:00:33.533

```
RewriteRule ^(.*)$ http://m.reports.com/$1 [L,R=301] 
```

你错过了`http://`.

# r - 如何指定一组格子 xyplot 中的绘图顺序？

> ID：11409941
> 
> 赞同：0
> 
> 时间：2012-07-10T09:01:52.100
> 
> 标签：r, lattice

我的代码生成了 9 个可爱的散点图。但是，它们以奇怪的顺序出现（似乎从右到左，从要绘制的列列表的底部开始）。

有没有办法指定它们应该绘制的顺序？

我的代码如下。

```
Z <- as.vector(as.matrix(sample_clean_data[, c("agri_dist", "allroads_dist", "DES_dist",
                                "elevation", "river_dist", "pop_dens",
                                "slope", "urban_dist", "LS_dist_to_edge")]))

Y10 <- rep(sample_clean_data$change, 9)

MyNames <- names(sample_clean_data[,c("agri_dist", "allroads_dist", "DES_dist",
                       "elevation", "river_dist", "pop_dens",
                       "slope", "urban_dist", "LS_dist_to_edge")])

ID10 <- rep(MyNames, each = length(sample_clean_data$change))
library(lattice)

ID11 <- factor(ID10, labels = c("Distance to nearest agriculture",  
                            "Distance to nearest road", 
                            "Distance to Dar es Salaam", 
                            "Elevation (m)", 
                            #"Distance to nearest main road", 
                            "Distance to nearest major river", 
                            "Population density (indiv./km2)",
                            "Slope",
                            "Distance to nearest urban centre",
                            "Landsat - Distance to forest edge"
),
           levels = c("agri_dist", "allroads_dist", "DES_dist",
                      "elevation", "river_dist", "pop_dens",
                      "slope", "urban_dist", "LS_dist_to_edge"))    

 xyplot(Y10 ~ Z | ID11, col = 1,
   strip = function(bg='white',...) strip.default(bg='white',...),
   scales = list(alternating = F,
                 x = list(relation = "free"),
                 y = list(relation = "same")),
   xlab = "Covariates",
   par.strip.text = list(cex = 0.8),
   ylab = "Change",
   panel=function(x, y, subscripts,...){
     panel.grid(h =- 1, v = 2)
     panel.points(x, y, col = 1, pch = 16)
     }) 
```

我假设他们会按照他们进入的顺序出现，从列表的顶部开始，并从左上角绘制。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T12:00:13.663

要获得您期望的绘图顺序，也许可以尝试添加`as.table=TRUE`您对`xyplot()`.

来自`?xyplot`：

```
as.table:

    A logical flag that controls the order in which panels should be displayed: 
    if FALSE (the default), panels are drawn left to right, bottom to top (as in 
    a graph); if TRUE, left to right, top to bottom (as in a table). 
```

# python - MyHTMLParser 实例没有属性“intitle”

> ID：11409945
> 
> 赞同：2
> 
> 时间：2012-07-10T09:02:13.053
> 
> 标签：python

我正在尝试使用 HTMLParser 从 HTML 页面中读取标题标签。但是我收到了上述错误。我的课看起来像这样：

*读标题.py*

```
from HTMLParser import HTMLParser
import urllib

class MyHTMLParser(HTMLParser):
    def __init__(self, url):
        HTMLParser.__init__(self)        
        self.url = url
        self.data = urllib.urlopen(url).read() 
        self.feed(self.data)
        self.intitle = ""
        self.mytitle = ""

    def handle_starttag(self, tag, attrs):
        self.intitle = tag == "title"

    def handle_data(self, data): 
        if self.intitle:
            self.mytitle = data
            return self.mytitle 
```

我使用以下命令运行代码并得到错误：

```
import urllib
import readtitle
parser = readtitle.MyHTMLParser("http://docs.python.org/tutorial/classes.html")

Traceback (most recent call last):
File "<stdin>", line 1, in <module>
File "readtitle.py", line 10, in __init__
 self.feed(self.data)
File "/usr/lib/python2.6/HTMLParser.py", line 108, in feed
 self.goahead(0)
File "/usr/lib/python2.6/HTMLParser.py", line 142, in goahead
 if i < j: self.handle_data(rawdata[i:j])
File "readtitle.py", line 18, in handle_data
if self.intitle:
AttributeError: MyHTMLParser instance has no attribute 'intitle' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:11:03.860

在运行之前运行`self.feed()`，然后调用`handle_data()`（根据跟踪判断）`self.intitle = ""`。
使固定：

```
 self.url = url
  self.data = urllib.urlopen(url).read() # Perhaps there should be a decode() here?
  self.intitle = False
  self.mytitle = "" 
  self.feed(self.data) 
```

## --------------------------------------

调试始终是最重要的部分。运行此代码并查看它打印的内容。

```
from HTMLParser import HTMLParser
import urllib, sys

class MyHTMLParser(HTMLParser):
  def __init__(self, url):
    HTMLParser.__init__(self)        
    self.url = url
    self.data = urllib.urlopen(url).read()
    self.in_title = False
    self.title = ''
    self.feed(self.data)
  def handle_starttag(self, tag, attrs):
    if tag == 'body': sys.exit('Found <body>, quitting') # Much easier to look at
    self.in_title = (tag == 'title')
    print 'Handled start of', tag, '  in_title is', self.in_title
  def handle_endtag(self, tag):
    print 'Handled end of', tag
  def handle_data(self, data):
    print "Handling data:", repr(data)
    if self.in_title:
        print "Apparently, we are in a <title> tag. self.title is now", repr(data)
        self.title = data
        print data
        return self.title

parser = MyHTMLParser("http://www.york.ac.uk/teaching/cws/wws/webpage1.html") 
```

为方便起见，相关页面的 HTML：

```
<HMTL>
<HEAD>
<TITLE>webpage1</TITLE>
</HEAD>
<BODY BGCOLOR="FFFFFf" LINK="006666" ALINK="8B4513" VLINK="006666"> 
```

# php - 无法访问 ZF2 请求对象的某些属性

> ID：11409948
> 
> 赞同：1
> 
> 时间：2012-07-10T09:02:22.283
> 
> 标签：php, zend-framework2

我`ZF2`目前正在测试 beta4，并且在从我的控制器访问某些请求属性时遇到了一些问题。

从内部`indexAction()`，这是我为请求对象获得的内容的摘录

`var_dump($this->request);`给我：

```
object(Zend\Http\PhpEnvironment\Request)#119 (14) {

  ["baseUrl":protected]=>
    string(0) ""

  [...]

  ["version":protected]=>
    string(3) "1.1"

  ["queryParams":protected]=>
    object(Zend\Stdlib\Parameters)#122 (1) {
      ["storage":"ArrayObject":private]=>
      array(3) {
        ["q"]=>
        string(0) ""
        ["param1"]=>
        string(6) "value1"
        ["param2"]=>
        string(6) "value2"
      }
    } 
```

我可以访问一些属性：
`var_dump($this->request->getBaseUrl());` -> `string(0) ""`
`var_dump($this->request->getVersion());` ->`string(3) "1.1"`

但我与其他人有问题，例如`$this->request->getQueryParams()`退货：

> 调用未定义的方法 Zend\Http\PhpEnvironment\Request::getQueryParams()

从那里我有几个问题：-
**我做错了吗？**
如果没有：
**- 我如何才能访问该`queryParams`物业？**
**- 没有访问某些属性的方法是常见的做法吗（如果是这样，如果我无法访问它们，那么拥有这些属性有什么意义）？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:09:55.330

您转储的所有属性都受到保护，这就是为什么您需要一个 getter 来获取它们的值。

某些属性的现有吸气剂并不意味着它们对所有人都存在:)

如果您查看`Zend\Http\Request`（由 继承`Zend\Http\PhpEnvironment\Request`）的来源，您可以看到用于访问查询参数的方法名称是[`query()`](https://github.com/Maks3w/zf2/blob/release-2.0.0beta4/library/Zend/Http/Request.php#L266)

*注意*：我同意这有点不一致。

**警告**：自 beta5 以来已更改，现在是`getQuery()`

受保护成员和私有成员用于确保不会直接访问数据。

它主要仅用于内部使用，或提供公共 setter/getter 以允许转换、错误检查等。

例如，您可能想要添加类型提示。

```
class Car {

    public $engine;
}

$car = new Car();
$car->engine = new Truck();

// Having a public member doesn't allow me to check for valid type (I don't want a `Truck` to be set in place of an `Engine`)

class Car {
    private $engine;

    public setEngine(Engine $engine)
    {
        $this->engine = $engine;
        // Add additional code here
        $this->engine->warmUp();
    }
}

// Here I use type hinting to ensure validity of data, I also warmUp the Engine just after setting it. 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-07-10T09:09:22.200

*   不
*   获取查询（）
*   供内部使用

# java - 如何在 Eclipse 项目中实现属性页

> ID：11409952
> 
> 赞同：3
> 
> 时间：2012-07-10T09:02:30.287
> 
> 标签：java, eclipse, properties, eclipse-rcp, project

这是交易。我以编程方式在 eclipse rcp 中创建了一个项目。然后我向它添加一些持久属性。现在我想在项目资源管理器视图中右键单击项目，然后单击属性选项卡。应该有我的属性页。这是我所拥有的：

```
<extension
         point="org.eclipse.ui.propertyPages">
      <page
            adaptable="false"
            class="bg.bulsi.rcp.first.properties.SamplePropertyPage"
            id="bg.bulsi.rcp.first.properties.samplePropertyPage"
            name="Sample Page"
            nameFilter="*.*"
            objectClass="org.eclipse.core.resources.IProject"
            selectionFilter="single">
         <enabledWhen>
            <instanceof
                  value="org.eclipse.core.resources.IProject">
            </instanceof>
         </enabledWhen>
      </page>
   </extension> 
```

为什么这个页面没有出现在项目的属性中？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-02T16:58:00.240

尝试从页面标签中删除“nameFilter”属性。除非您的项目名称中有一个点，否则这可能是阻止您的属性页面显示的原因。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-04-16T18:47:18.837

删除`nameFilter="*.*"`并使用

`<adapt type="org.eclipse.core.resources.IProject"> </adapt>`

代替`<instanceof ...></instanceof>`

（顺便说一句。选项`objectCalss`和`adaptable`已弃用）

完全修复：

```
<extension point="org.eclipse.ui.propertyPages">
    <page
        class="bg.bulsi.rcp.first.properties.SamplePropertyPage"
        id="bg.bulsi.rcp.first.properties.samplePropertyPage"
        name="Sample Page"
        selectionFilter="single">
        <enabledWhen>
            <adapt type="org.eclipse.core.resources.IProject">
            </adapt>
        </enabledWhen>
    </page>
</extension> 
```

# .net - 为 DataGridViewCell 中的某些文本设置背景颜色

> ID：11409965
> 
> 赞同：2
> 
> 时间：2012-07-10T09:03:00.997
> 
> 标签：.net, winforms, forms, datagridview

我知道一种更改 DataGridView 中单元格背景颜色的方法：

```
DataGridView1.CurrentCell.Style.BackColor = Color 
```

但是，我只需要更改部分文本的背景颜色。

例如，如果我在单元格中有“Harry meet Sally”，我想将“Harry”设置为粉红色背景，将“Sally”设置为绿色背景。

有谁知道这样做的好方法？任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:11:55.290

这不能用可用的标准工具来完成。您将不得不覆盖继承自`DataGridViewImageCell`. 此答案的一部分提供了如何执行此操作的示例[https://stackoverflow.com/a/10100992/626442](https://stackoverflow.com/a/10100992/626442)，它显示了如何在`DataGridViewCell`. 使用这个答案，将其扩展到您需要的内容应该不会太繁重。

我希望这有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:21:56.667

```
 if (dataGridView1.Rows[0].Cells[0].Value.ToString().Contains("Harry") == true)
        {
            dataGridView1.Rows[0].Cells[0].Style.BackColor = Color.Pink;
        }
        else if(dataGridView1.Rows[0].Cells[0].Value.ToString().Contains("Sally") == true)
        {
            dataGridView1.Rows[0].Cells[0].Style.BackColor = Color.Green;
        } 
```

# java - struts 应用程序的 oauth 身份验证开发

> ID：11409969
> 
> 赞同：0
> 
> 时间：2012-07-10T09:03:16.800
> 
> 标签：java, jquery, oauth, struts2, joauth

我想为“localhost”应用程序之一开发oauth。你能指导如何使用任何有用的链接进行开发吗？最初我只是在寻找身份验证。

我们是否需要为 facebook、gmail 和 twitter 使用单独的 API？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-11T10:57:32.637

您不需要单独的库来为您的应用程序使用 Oauth，有一个非常方便且轻量级的 API [scribe-java](https://github.com/fernandezpablo85/scribe-java)，它为几乎所有主要提供商（即 Google、Facebook、Yahoo、MSN 等）提供 Oauth 实现。

看看那里[的入门](https://github.com/fernandezpablo85/scribe-java/wiki/getting-started)指南，它非常简单明了

# serialization - EmberJS - find / findAll 和 Route.deserialize 和 Route.serialize 有什么关系？

> ID：11409970
> 
> 赞同：2
> 
> 时间：2012-07-10T09:03:23.577
> 
> 标签：serialization, ember.js, ember-old-router

您好，在回答精彩问题[Ember.js - CRUD 场景 - 从 Route](https://stackoverflow.com/questions/11377498/ember-js-crud-scenarios-specifying-view-from-within-a-route)查找和 findAll 中指定视图时，提到要在模型上使用自动反序列化 URL。

这个界面是什么样子的，它真的是模型而不是控制器吗？

一个例子会很棒。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:38:12.883

与往常一样，文档是一个很棒的起点。查看[https://github.com/emberjs/ember.js/blob/master/packages/ember-routing/lib/routable.js#L231-273](https://github.com/emberjs/ember.js/blob/master/packages/ember-routing/lib/routable.js#L231-273)了解默认的序列化/反序列化方法。

你有正确的想法。

*   Ember 采用最近的动态段，例如`blog_post_id`
*   从末端剥离`_id`，离开`blog_post`
*   `Ember.String.classify('blog_post')`返回 BlogPost 的调用
*   它在 Ember 命名空间下查找该模型类，例如 App.BlogPost
*   它在该模型上调用 find 。例如 App.BlogPost.find(1)

编辑：

在回应 Neppord 的评论时，他询问了多个动态细分市场。是的，ember-router 目前确实支持单个路由中的多个动态段。

```
Ember.Route.extend({
  route: "/:post_type/:post_id"
}) 
```

如果你真的需要它，你将不得不编写自己的反序列化/序列化方法。就我个人而言，我只会使用嵌套的动态状态。

```
Ember.Route.extend({
  route: "/:post_type"
  post: Ember.Route.extend({
    route: "/:post_id"
  })
}) 
```

# model-view-controller - 通用局部视图

> ID：11409971
> 
> 赞同：1
> 
> 时间：2012-07-10T09:03:24.040
> 
> 标签：model-view-controller, generics, view, partial-views, partial

我只想问是否可以创建一个接受泛型参数的局部视图？

基本上，我正在创建一个添加表单，可用于添加不同类型的对象（即产品、员工）。目前，我可以通过 PartialView 创建它，它接受我的 ProductsModel 来呈现 Add Products 表单。但是，我想为我的添加员工使用相同的表单。

我想到的是通过查询字符串附加要呈现的类型，并检查要呈现其中一个的代码。我试过了，但似乎没有成功。

有人可以指出我的解决方案吗？非常感谢！干杯!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-11T15:19:28.747

这只是对可能为您提供所需功能的替代方法的建议。

使用“n”个属性声明一个名为“WidgetModel”的 ViewModel 对象 - 称它们为 Property1、Property2 等

将要绑定到视图的对象映射到这个公共对象 - 您可以使用[Automapper](http://automapper.org/)轻松实现这一点。

现在在视图中，您将绑定到 WidgetModel 对象的属性，并且类型不会有问题。

不过就个人而言，我认为我坚持使用单独的部分！

希望这能给你一些想法。

# wpf - WPF ItemTemplateSelector 到单个项目

> ID：11409976
> 
> 赞同：4
> 
> 时间：2012-07-10T09:03:40.093
> 
> 标签：wpf, datatemplate, itemtemplateselector

ItemTemplateSelector 应用于对象集合 - 例如 ItemsControl。

单项控件是否具有相同的功能？我想选择一个考虑到对象内部值的数据模板。我可以对列表执行此操作，但不能对单个项目执行此操作。

编辑：

在另一个屏幕中，我有这个实现：

```
<ItemsControl ItemsSource="{Binding Path...} ItemTemplateSelector={...} 
```

问题是，现在我只有一个项目，但仍然想要一个 itemtemplateselector ...

编辑2：

出现的问题也可能是：如何在 ItemsSource 中只放入一项？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-10T10:18:37.577

似乎您正在寻找的是 ContentControl 的[ContentTemplateSelector](http://msdn.microsoft.com/en-us/library/system.windows.controls.contentcontrol.contenttemplateselector)。

# c# - 在 ASP.NET 中构建站点地图

> ID：11409977
> 
> 赞同：2
> 
> 时间：2012-07-10T09:03:41.667
> 
> 标签：c#, asp.net, user-controls, sharepoint-2007, sitemap

我有一个页面 A 和页面 B 的网站

页面 B 在页面 A 上有一个链接

Page B实际上是Page C的一个子子网。

现在我正在尝试对自定义用户控件的面包屑导航进行更改。

ATM 我正在​​尝试检查用户是否从页面 A 导航到页面 B，然后创建此导航，如果从某处导航，则构建不同的导航。通过使用这个属性，我知道用户来自哪里

```
Request.UrlReferrer.ToString() 
```

好的现在问题是我想构建或获取用户从中导航的页面/网络的站点地图，以便我可以将此页面 B 标题添加到该面包屑导航，如下所示，

页面 A > 页面 B

或者它可以是

页 C > 页 C.1 > 页 C.2 > 页 B

我正在使用的代码是这样的，

```
 string defaultBreadcrumbHtml = "<SPAN><a class=\"ms-sitemapdirectional\" href=\"{0}\">{1}</a></SPAN>";
    string defaultSpacingHtml = "<SPAN> > </SPAN>";

    protected void Page_Load(object sender, EventArgs e)
    {
        try
        {
            SiteMapProvider contentMapProvider = SiteMap.Providers["SPContentMapProvider"];
            StringBuilder generatedHTML = new StringBuilder();
            generatedHTML.Append("<div class=\"ms-globallinks TopBreadcrumbs\">");

            if (contentMapProvider != null)
            {
                SiteMapNode currentNode = contentMapProvider.FindSiteMapNode(Request.UrlReferrer.ToString());

                if (currentNode != null)
                {

                    string[] breadcrumbTitles = new string[20]; ;
                    string[] breadcrumbUrls = new string[20];
                    int count = 0;

                    if (currentNode == contentMapProvider.RootNode)
                    {
                        breadcrumbTitles[0] = currentNode.Title;
                        breadcrumbUrls[0] = currentNode.Url;
                    }
                    else
                    {
                        while (currentNode != contentMapProvider.RootNode)
                        {
                            if (Request.UrlReferrer.ToString().Contains("PageA"))
                            {
                                breadcrumbTitles[count] = "Page B";
                                breadcrumbUrls[count] = string.Format("www.Gohome.com\PageB.aspx");
                                count++;
                            }

                            breadcrumbTitles[count] = currentNode.Title;
                            breadcrumbUrls[count] = currentNode.Url;

                            if (currentNode.ParentNode != null)
                            {
                                currentNode = currentNode.ParentNode;
                                count++;
                            }
                            else
                            {
                                break;
                            }

                        }

                        breadcrumbTitles[count] = currentNode.Title;
                        breadcrumbUrls[count] = currentNode.Url;
                    }

                    while (count >= 0)
                    {
                        generatedHTML.Append(string.Format(defaultBreadcrumbHtml, breadcrumbUrls[count], breadcrumbTitles[count]));
                        if (count != 0)
                        {
                            generatedHTML.Append(defaultSpacingHtml);
                        }
                        count--;
                    }

                    generatedHTML.Append("</div>");

                    html.Text = generatedHTML.ToString();
                }
            } 
```

**但它不能正常工作，我试图调试它，但因为我无法获得我来自的网页/页面的站点地图，我无法获得站点地图。所以我的问题是，我怎样才能获得我从中导航的网站的站点地图，以便我将另一个节点添加到它作为“siteicame from > ..> Page B”**

要获取当前页面的站点地图，我可以使用它，但我不想使用它，因为它会将站点地图作为站点 C > 站点 C.1 ... > 站点 B

干杯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:09:46.330

实现面包屑导航...无需后面的代码。

你可以通过

1) Web.SiteMap 2) ASPX 页面的标签

如果你想...我会告诉你示例代码...？

# android - 如何设置 EditText 的数字格式

> ID：11409979
> 
> 赞同：2
> 
> 时间：2012-07-10T09:03:45.713
> 
> 标签：android, numbers, format

我希望在我的 EditText 中显示的数字最多保留 1 个小数位，没有前导零，例如 25.0 不像 025.0

我怎样才能做到这一点？

这是在安卓

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T09:09:52.163

您可以使用[`DecimalFormat`](http://developer.android.com/reference/java/text/DecimalFormat.html)

```
DecimalFormat format = new DecimalFormat("##.#");
String formattedText = format.format(025.0);
editText.setText(formattedText); 
```

你会得到结果`EditText`为`25.0`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-10T09:11:53.027

您可以在 xml 文件中设置它。像

```
<EditText
    android:id="@+id/editText1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignLeft="@+id/imageView1"
    android:layout_below="@+id/imageView1"
    android:layout_marginLeft="20dp"
    android:layout_marginTop="54dp"
    android:ems="10"
    android:inputType="numberDecimal" > 
```

# ruby-on-rails - 使用 form_tag 在主页上登录表单和注册表单

> ID：11409981
> 
> 赞同：0
> 
> 时间：2012-07-10T09:03:46.953
> 
> 标签：ruby-on-rails, forms

这是一个基本且常见的问题，我想一劳永逸地解决它。（试了几天）

我有两种形式，它们在主页上（谁的控制器是`static_pages_controller`）。一种用于登录，另一种用于注册。

`sign_in`表单使用using`sessions_controller`动作`create`。

`sign_up`表单使用using`users_controller`动作`create`。

使用时`form_tag`如何指定它应该去哪个控制器以及它应该采取什么行动？

以下代码用于注册页面：`

```
<%= form_tag(users_path) do%>

<%= label_tag :name %>
<%= text_field_tag :name %>

<%= label_tag :email %>
<%= text_field_tag :email %>

<%= label_tag :password %>
<%= password_field_tag :password %>

<%= label_tag :password_confirmation, "Confirmation" %>
<%= password_field_tag :password_confirmation %>

<%= submit_tag "Create my account" , class: "btn btn-large btn-primary" %>
<% end %>` 
```

我知道有一些选项，`form_tag({:controller => "user", :action => "create"}, :method => "post", :class => "nifty_form")`但似乎都没有。登录也一样。请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:40:39.443

当页面呈现时，HTML 表单会有一个动作。您可以使用 javascript 来更改表单的操作，具体取决于他们是注册还是登录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T20:17:47.993

我认为这里有一个小小的误解（或者我误解了你的问题）。您不能在 中指定目标控制器和操作`form_field`，至少不能直接指定。您唯一的责任是：

*   为表单设置正确的**URL**（可以通过提供控制器和操作来*生成，但这是另一回事）*
*   为表单设置正确的 HTTP**方法**（Rails 会自动执行此操作，如果没有，它将默认为 POST）

然后路径和控制器/动作之间的映射在`routes.rb`. 例如：

```
resource :session, :only => [:new, :create, :destroy]
resources :users 
```

这会生成以下路径 => 控制器/动作映射：

```
GET    /session/new  =>  sessions#new        (new_session_path)
POST   /session      =>  sessions#create     (session_path)
DELETE /session      =>  sessions#destroy

GET    /users/new  =>  users#new             (new_user_path)
POST   /users      =>  users#create          (users_path)
... etc ... 
```

因此，如果您需要将表单提交到 session#create，则 URL 必须是`session_path`，方法必须是`POST`. 这同样适用于`users_path`。以下代码为登录表单执行此操作：

```
<%= form_tag session_path do %>
  <!-- fields -->
<% end %> 
```

注册表单有点不同，因为此表单用于模型对象，因此您可以使用`form_for`（假设您`@new_user = User.new`的控制器中有）：

```
<%= form_for @new_user do |f| %>
  <%= f.label :name %>
  <%= f.text_field :name %>
  <!-- etc -->
<% end %> 
```

由于您的表单看起来不错，因此您的问题的原因可能在于`routes.rb`. 运行`rake routes`以检查您的路由指向哪个控制器/操作。

# ruby-on-rails - 注册后不确认链接如何登录

> ID：11409983
> 
> 赞同：2
> 
> 时间：2012-07-10T09:04:06.347
> 
> 标签：ruby-on-rails, ruby, devise

我在我的用户模型中使用设计：可确认。

我的要求是注册/注册后，用户应成功登录（无需确认），并且确认链接也发送到用户的电子邮件。

在第二次如果用户没有确认他的帐户，不应该登录。

如何实现这个目标？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-18T13:04:12.787

为了*准确地*实现您正在寻找的东西，您需要在覆盖 Devise[确认控制器](https://github.com/plataformatec/devise/blob/master/app/controllers/devise/confirmations_controller.rb)和[会话控制器](https://github.com/plataformatec/devise/blob/master/app/controllers/devise/sessions_controller.rb)时创造一些魔力。[如果您选择走这条路，在他们的Wiki](https://github.com/plataformatec/devise/wiki/_pages)页面上有许多覆盖 Devise 控制器的示例。通过启用该`:trackable`模块，您将`sign_in_count`可以使用它来检查并只允许一个，直到它们被确认。

但是，我想提供一个您可能会接受的更简单的解决方案。如果您查看`devise.rb` [初始化程序](https://github.com/plataformatec/devise/blob/master/lib/generators/templates/devise.rb#L122)文件，从第 122 行开始，您将看到您可以在一段时间内允许未经确认的访问您的应用程序。

```
# ==> Configuration for :confirmable
# A period that the user is allowed to access the website even without
# confirming his account. For instance, if set to 2.days, the user will be
# able to access the website for two days without confirming his account,
# access will be blocked just in the third day. Default is 0.days, meaning
# the user cannot access the website without confirming his account.
# config.allow_unconfirmed_access_for = 2.days 
```

我认为最终，启用此功能并将其设置为您的应用程序可以接受的设置将是更好的方法，无论是从开发人员和最终用户的角度来看。我还会确保在第 34 行的[语言环境](https://github.com/plataformatec/devise/blob/master/config/locales/en.yml)`send_instructions`中放置一些内容，以通知用户在他们必须通过电子邮件确认其帐户之前，他们有 x 小时/天可以使用该视线。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-10T05:02:31.610

最简单的方法是您指出`config.allow_unconfirmed_access_for = 2.minutes`，以便在注册后立即登录，但两分钟后，他将无法登录，除非他在两分钟内退出并登录。

# android - 在设备 WebView Kit 或 HTML 之间进行选择

> ID：11409985
> 
> 赞同：0
> 
> 时间：2012-07-10T09:04:08.143
> 
> 标签：android, html, ios

我对创建移动网站的事情有点困惑；

假设我有一个要创建的网页，以移动设备为目标，我是否必须使用随附的本机 webview 工具包，例如。iOS，或者我可以简单地编写 HTML+PHP+Javascript+CSS 代码，将其放入服务器并通过 Safari 浏览器访问它。（嗯，这只是 iOS 示例，我们还有 Android 和过多的移动设备）

WebKits 与 HTML 的含义/优点/缺点是什么，使用 Webkits/WebViews 的真正意义是什么？任何性能增益、设备特定特性等。

顺便说一句，它真的被称为 WebKits (WebViews) 吗？

对于可能的重复，我深表歉意。我无法将我的问题/问题与这里存在的问题联系起来...请多多包涵。

请赐教我困扰的想法...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:24:43.953

让我们从一个例子开始：

> 设计

到目前为止，我们在市场上有 15 款带有各种显示器的设备。

（只是假设我们有更多。）

现在假设您开始为不同的显示尺寸制作不同版本的应用程序。

```
i.e. m.yourapp.com
     yourapp.com 
```

等等

你怎么能确定这 15 款设备有一天不会过时，而你必须为市场上即将推出的 15 款新设备重新设计它。

> 发展

展望未来，我们可以依赖一种基于 Web 的强大技术，如果您得到的答案是随着时间的推移，**应用程序将通过 Web 而不是通过本机 android/基于ios/xyz**的平台。

因此，通过网络彻底研究**响应式网页设计。**

# java - java - 如何使用GridLayout在Java中的固定位置设置中心组件？

> ID：11409990
> 
> 赞同：0
> 
> 时间：2012-07-10T09:04:53.793
> 
> 标签：java, center, fixed, grid-layout

我在 Java 中有这个 Gridlayout。

它有 3 列。左右列包含图像，中间列包含数据。

由于我不太习惯使用 layoutmanagers，我需要在这里问它。

如何将左右列设置为可变宽度，将中心布局设置为固定宽度。这样左右列将被裁剪，但中心列保持完整并位于屏幕中央？

这甚至可以通过 GridLayout 实现吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:42:16.857

A`GridLayout`对于您的应用程序来说太死板了：您不能告诉它将某些行或列与其他行或列区别对待。也许你应该看看`GridBagLayout`。在那里，您可以使用`weight`设置为图像部分分配额外的空间，为它们`fill`分配额外的空间，并使中心部分具有其首选大小。如果首选尺寸不是您想要的尺寸，您可能必须将该组件包装到您可以为其设置首选尺寸的某个组件中。

# internet-explorer-8 - IE8 在元刷新后显示空白页面，尽管 HTML 已完全加载

> ID：11409992
> 
> 赞同：4
> 
> 时间：2012-07-10T09:04:57.967
> 
> 标签：internet-explorer-8

我们的网站在 IE8 中遇到了一个奇怪的问题。有时我们的主页完全空白，尽管 HTML 已完全加载。此外，即使按钮和链接未显示，鼠标指针也会响应它们。当我们将鼠标悬停在应该有按钮或链接的地方时，鼠标指针的响应就像有一个实际的链接或按钮一样。就好像 IE8 已经渲染了整个页面，但没有显示它。我们在 IE8 的不同机器上随机遇到这个问题。

我一直在阅读有关此行为的许多论坛主题，但尚未找到解决方案。但我确实有一些指示。这应该与我们使用的CMS使用元刷新有关。我们在域根目录中提供的页面如下所示：

```
<html>
 <head>
  <title>redirect</title>
  <meta http-equiv="Refresh" content="0; URL=/web/show">
 </head>
 <body></body>
</html> 
```

当我们转到我们的域 example.com 并被转发到 example.com/web/show 时，有时会出现此问题。当我们直接去example.com/web/show的时候，从来没有出现过这个问题，所以肯定和刷新有关系。

*   在 Firefox 中，我们可以看到 /web/show 返回响应代码 200。
*   在 IE8 中，安全设置中启用了“允许 META REFRESH”。

您的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T11:09:12.530

我们通过删除@font-face 解决了这个问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T00:53:02.443

很高兴听到您解决了问题。我遇到了同样的问题，并且在过去 3 个小时内拼命寻找解决方案，直到我意识到对于 IE8 我必须定义

```
html, body {
    position: static;
} 
```

代替`position: relative;`

也许这可以为某人节省 3 个小时的头痛时间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-24T02:42:33.117

我在使用时遇到了同样的问题`bootstrap-webpack`，最后我通过将`@font-face`声明移动到 HTML 头来解决这个问题。感谢[FlyingDR](https://github.com/keithclark/selectivizr/issues/30#issuecomment-5379856)。