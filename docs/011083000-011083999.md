# StackOverflow 问答 11083000-11083999

# asp.net - ASP.NET 缓存对象使用

> ID：11083000
> 
> 赞同：1
> 
> 时间：2012-06-18T12:34:07.850
> 
> 标签：asp.net

在 aspx 页面上，我必须加载一个 DropDown，其中包含一些来自数据库的值。在页面生命周期中放置数据以保持价值的最正确位置是什么？

对象？会议？视图状态？

更多细节：

*   此数据存储在 DataTable 中
*   行数也可以是 200
*   数据都是用于过滤gridView项目的字符串

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T12:40:43.250

如果数据获取成本高且对所有用户都相同，则缓存。

如果数据获取成本高且取决于用户，则为会话

如果数据便宜，就什么都没有。

ViewState 如果数据位于管理页面或流量无关紧要的地方（内部网站，很少访问的页面）。200 行可能有点太多了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T12:38:46.320

如果数据不经常更改，缓存它是个好主意。如果它定期更改，那么我不会（因为您会经常清除和重新加载缓存，这是一种浪费）。

在每个会话或视图状态中保存它不会给您带来太多的性能提升，因为这些都包含在用户的请求中。我讨厌 viewstate，但是如果你不能像我上面提到的那样缓存，viewstate 是最合适的地方。

# javascript - django ajax 集合更改

> ID：11083004
> 
> 赞同：1
> 
> 时间：2012-06-18T12:34:21.853
> 
> 标签：javascript, ajax, django

我在表格中的页面上有文章列表，我想通过单击按钮使用 ajax 对其进行排序。

我使用 dajaxice，它将对 ajax.py 的请求发送到**example1方法，并在****my_js_callback**中获取响应 JSON 数据

 **HTML：

```
<script>
function my_js_callback(data) {
    alert(data)
    $("#article_view_tbody").html("")
    for (i=0;i<data.length;i++)
         article=data[i]
     $("#article_view_tbody").append("<tr><td>" + data[i].title...) // here i need to set url for article edit
}
</script>
<button type="button" onclick="Dajaxice.content.example1(my_js_callback);">Click Me!</button>
<table>
<tbody id="article_view_tbody">
    {% for article in articles %}
        <tr>
            <a class="article_link" href="{% url article_detail article.id %}">
                    {{ article.title }}
        </a>
            </td>
         </tr> ... 
```

ajax.py：

```
from django.utils import simplejson
from django.core import serializers
from dajaxice.decorators import dajaxice_register
from models import Article

def get_by_date_queryset():
      return Article.objects.all().order_by('created_on')

@dajaxice_register    
def example1(request):
    """ Handling sorting requests """
    queryset = get_by_date_queryset()
    json_serializer = serializers.get_serializer("json")()
    return json_serializer.serialize(queryset, ensure_ascii=False) 
```

我无法在 JS 中传递 {% url %} 标签。那么这是一种在不附加 js 数据的情况下使用 ajax 重新加载 tbody 的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:57:39.287

您可以返回一个包含以下格式的每个元素的列表，而不是简单地序列化查询集并返回它：

```
 return [
        {
            'pk': article.pk,
            'title': article.title,
            'url': reverse('view_article', args=(article.pk,))  # Or, use article.get_absolute_url()
        }
    for article in queryset] 
```

您可以使用 JavaScript 简单地遍历返回的 JSON，并`articles[i].url`在`for(var i = 0;...`循环中使用来获取 URL、标题等。

### 更新（回复：“硬编码的坏方法”）：

只需使用：

```
serialized = json_serializer.serialize(queryset, ensure_ascii=False)
loaded = json.loads(serialized)
for row in loaded:
    row['url'] = reverse('view_article', args=(row['pk'],))
return json.dumps(loaded) 
```

这也有助于将 the`"fields"`与 the分开`"url"`（感觉更正确）。**

# python - 如何从超类方法调用子类的方法？

> ID：11083007
> 
> 赞同：3
> 
> 时间：2012-06-18T12:34:27.507
> 
> 标签：python, class, inheritance

假设我有这个类：

```
class MyClass(object):
    def uiFunc(self, MainWindow):
        self.attr1 = "foo"
        self.attr2 = "bar"
    def test():
        from subclassfile import MySubClass
        MySubClass.firstFunc(self, 2, 2)

    test() 
```

而其他文件中的这个子类：

```
from classfile import MyClass

class MySubclass(MyClass):
    def firstFunc(self, a, b):
        c = a + b
        d = self.secondFunc(self, c)
        return d

    def secondFunc(self, c):
        d = c / 2
        return d 
```

这是一个愚蠢的例子，但正是我想要做的。我想从第一个函数中的子类调用第二个函数。但是当我这样做时，它会返回一个错误，指出 MyClass 没有这样的功能。所以我想我在调用它时不应该`self`在函数名前面使用。但是当我不这样做时，它也会引发错误。

所以我的问题是：如何在子类的第一个函数中访问第二个函数？

编辑：

谢谢大家的帮助。我会更好地解释我正在尝试做的事情，而我猜我的实现在代码中真的很糟糕。MyClass 是代码的主类，所有小部件和主要功能都在其中。这个类上还有一个按钮，绑定了“测试”功能。因此，当按下按钮时，整个事情都应该起作用。MySubClass 文件是一个将数据导出到某个文件的辅助模块。firstFunc 是该模块中处理所有数据的主要函数，而 secondFunc 只是构建文件的模板。所以我在 firstFunc 中调用这个 secondFunc 以便加载模板，然后将数据写入文件中。我使这个 MySubClass 继承自 MyClass，以便它可以直接从 MyClass 访问数据库和其他变量。

所以我想我可以这样做。但我对这种实现并不真正有经验。另外，对不起我的英语不好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T12:37:27.893

改变：

```
d = self.secondFunc(self, c) 
```

到：

```
d = self.secondFunc(c) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T12:41:55.320

您不会从 的实例调用此方法`MyClass`，而是从 的实例调用它`MySubclass`。问题是您可能会得到一个`TypeError`，因为您传递给的参数（self）`firstFunc`是错误的类型（`MyClass`而不是`MySubClass`）。解决方案是重组您的代码，这样就不会发生这种情况。至少，我认为这是问题所在（当我尝试编写代码时，我遇到了各种导入错误）。这是我尝试过的代码（我假设它说明了您所描述的问题）：

```
class MyClass(object):
    def uiFunc(self, MainWindow):
        self.attr1 = "foo"
        self.attr2 = "bar"
    def test(self):
        return MySubClass.firstFunc(self, 2, 2)

class MySubClass(MyClass):
    def firstFunc(self, a, b):
        c = a + b
        d = self.secondFunc(c) #removed self from parameter list
        return d

    def secondFunc(self, c):
        d = c / 2
        return d

a=MyClass()
b=MySubClass()
print (b.test())  #this works because b is the right type to pass to first/second func
a.test()   #This doesn't work because a is the wrong type. 
```

`test`请注意，将其作为一种方法实际上没有任何意义，因为无论如何`MyClass`您**都不能从那里使用它。**你还不如继续`test`前进`MySubClass`。

另外，正如其他人所指出的，`self.secondfunc(self,c)`也很奇怪。这基本上相当于`MySubClass.secondfunc(self,self,c)`which 有错误数量的参数，因为你传递`self`了两次。

这有效：

```
class MyClass(object):
    def uiFunc(self, MainWindow):
        self.attr1 = "foo"
        self.attr2 = "bar"
    def test(self):
        return firstFunc(self, 2, 2)

def firstFunc(self, a, b):
    c = a + b
    d = secondFunc(self,c) #self from in front of function, now in parameter list
    return d

def secondFunc(self, c):
    d = c / 2
    return d

class MySubClass(MyClass):
    firstFunc=firstFunc
    secondFunc=secondFunc

a=MyClass()
b=MySubClass()
print (b.test())
print (a.test()) 
```

但我强烈建议重构您的代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T12:37:51.970

`firstFunc`当它是实例方法时，您试图将其作为静态方法调用。可以使用`classmethod`装饰器来实现静态方法效果。

# hibernate - Hibernate 中的多对一关系

> ID：11083009
> 
> 赞同：0
> 
> 时间：2012-06-18T12:34:36.993
> 
> 标签：hibernate, hibernate-mapping

```
@Entity
@Table(name="Product_info")

public class Product {
    private int ProductIndex;
    private int priority;
    private Date dateTime;
    private String action;
    private String status;

    @ManyToOne
    @JoinColumn(name="releaseIndex")
    private Release release;

    @Id
    @GeneratedValue
    @Column(name="id")
    protected int getProductIndex() {
        return ProductIndex;
    }
    protected void setProductIndex(int ProductIndex) {
        this.ProductIndex = ProductIndex;
    }
    public Release getRelease() {
        return release;
    }
    public void setRelease(Release release) {
        this.release = release;
    }
    /*public Region getRegion() {
        return region;
    }
    public void setRegion(Region region) {
        this.region = region;
    }*/
    @Column(name="priority")
    public int getPriority() {
        return priority;
    }
    public void setPriority(int priority) {
        this.priority = priority;
    }
    @Column(name="datetime")
    public Date getDateTime() {
        return dateTime;
    }
    public void setDateTime(Date dateTime) {
        this.dateTime = dateTime;
    }
    @Column(name="action")
    public String getAction() {
        return action;
    }
    public void setAction(String action) {
        this.action = action;
    }
    @Column(name="status")
    public String getStatus() {
        return status;
    }
    public void setStatus(String status) {
        this.status = status;
    }

    public Product() {
    }

    public Product(int priority, Date dateTime, String action, String status) {
        this.priority = priority;
        this.dateTime = dateTime;
        this.action = action;
        this.status = status;
    }
}

@Entity
@Table(name="release")

public class Release {
    private int releaseIndex;
    private String releaseName;
    private Set<ProductInfo> productInfo = new HashSet<ProductInfo>();

    @Id
    @GeneratedValue
    @Column(name="id")
    protected int getReleaseIndex() {
        return releaseIndex;
    }
    protected void setReleaseIndex(int releaseIndex) {
        this.releaseIndex = releaseIndex;
    }
    @Column(name="name")
    public String getReleaseName() {
        return releaseName;
    }
    public void setReleaseName(String releaseName) {
        this.releaseName = releaseName;
    }
    @OneToMany(mappedBy="release")
    public Set<ProductInfo> getProductInfo() {
        return ProductInfo;
    }
    public void setProductInfo(Set<ProductInfo> productInfo) {
        this.productInfo = productInfo;
    }
} 
```

以上是我想创建 ManytoOne 关系的两个类，但它给了我错误无法确定类型：dao.Release，在表：product_info，对于列：[org.hibernate.mapping.Column(release)]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T12:48:12.467

您会遇到此错误，因为注释有时在字段中有时在方法中不一致。如果您不想使用 AccessType，最简单的解决方案是将注释从 release-field 移动到 getRelease 方法。

# xamarin.ios - Monotouch在设备上打开pdf？

> ID：11083011
> 
> 赞同：4
> 
> 时间：2012-06-18T12:34:40.503
> 
> 标签：xamarin.ios

我需要在 monotouch 应用程序中从我的捆绑包中打开一个 pdf。我不知道它是否来自路径，但我无法打开该pdf。有人可以给我一个如何打开pdf文件的例子吗？我正在使用 pdftron 库。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T13:07:03.933

首先确保您的文件被标记为`Content`来自`Build Action`MonoDevelop。这将确保它被复制到您的应用程序包中。

然后，从您的应用程序中，您可以使用以下属性获取应用程序包路径：

```
NSBundle.MainBundle.BundlePath 
```

从这里你可以尝试探测你的文件，例如

```
if (File.Exists (Path.Combine (NSBundle.MainBundle.BundlePath, "myfile.pdf")) {
    Console.WriteLine ("got it");
} else {
    Console.WriteLine ("can't find it");
} 
```

找到文件的*正确*路径后，您应该能够将其提供给您的 PDF 库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T02:47:13.983

据我所知，PDFtron 没有 .net 绑定。

iOS 已经集成了 PDF 阅读能力，Xamarin 本身提供了一个示例供你使用。我最近使用该示例编写了一个 PDF 阅读器。

[https://github.com/xamarin/monotouch-samples/tree/master/ZoomingPdfViewer](https://github.com/xamarin/monotouch-samples/tree/master/ZoomingPdfViewer)

# uitextfield - 我们如何为在 UITextField 中输入的文本设置笔触颜色？

> ID：11083013
> 
> 赞同：2
> 
> 时间：2012-06-18T12:34:41.920
> 
> 标签：uitextfield, cgcontext, stroke

我需要为在 UITextFields 中输入的文本设置笔触颜色和宽度。任何帮助将不胜感激。

# wordpress - 输入希伯来语时，PayPal 捐款说明显示残缺字符

> ID：11083017
> 
> 赞同：2
> 
> 时间：2012-06-18T12:34:56.050
> 
> 标签：wordpress, utf-8, paypal

我的`WordPress`博客中有一份捐款表格，`Donation Description`是希伯来语的。现在在`PayPal`网站上`Donation Description`是乱码。

我如何解决它？我试图对页面进行编码`UTF-8`，`UTF-8 without BOM`但仍然没有。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T15:55:14.417

PayPal 可能会默认使用 ISO-8859-1 数据。

[从他们的手册](https://cms.paypal.com/cgi-bin/?cmd=_render-content&content_ID=developer/e_howto_html_formbasics)中试试这个：

> 设置字符集 –`charset` 使用 charset HTML 变量为 PayPal 网站上的账单信息/登录页面指定字符集和字符编码。此外，此变量为您在 HTML 按钮代码中发送到 PayPal 的信息设置相同的值。
> 
> 例如，以下 INPUT 标记将编码设置为 UTF-8：
> 
> ```
> <INPUT TYPE="hidden" name="charset" value="utf-8"> 
> ```

# ios - 在 Appcelerator Titanium 中保持选中 TableViewRow

> ID：11083020
> 
> 赞同：1
> 
> 时间：2012-06-18T12:35:03.920
> 
> 标签：ios, titanium

我正在 Titanium 中开发一个简单的产品目录，并且我有一个包含产品列表的 TableView 和一个产品详细信息视图来查看所选产品。我想要做的是在 TableView 中明显选择所选产品。

Titanium 默认使用动画取消选择行，因此无论何时选择一行，选择颜色都会淡出。

这是我的应用程序现在的样子： [![这就是我的应用程序现在的样子](../Images/31d90bde344112d1bc75bef549e1805f.png)](https://i.stack.imgur.com/pw53S.png)

这就是我希望它看起来的样子： [![这就是我想要的样子](../Images/f951d9ec50a90d9ad00f23e847291915.png)](https://i.stack.imgur.com/HYEmY.png)

有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T04:05:22.303

试试这个：

```
// Create table view data object
var data = [
    {title:'Row 1', hasChild:true, color:'red', selectedColor:'#fff'},
    {title:'Row 2', hasDetail:true, color:'green', selectedColor:'#fff'},
    {title:'Row 3', hasCheck:true, color:'blue', selectedColor:'#fff'},
    {title:'Row 4', color:'orange', selectedColor:'#fff'}
];

// Create table view and set allowSelection to true
var tableview = Titanium.UI.createTableView({
    data:data,
    allowsSelection:true  // This should do the trick
});

// Select the 4th row
tableview.selectRow(3);

// Add table view to the current window
Titanium.UI.currentWindow.add(tableview); 
```

# android - 将结果 ResultInfo{who=null, request=1, result=-1, data=Intent { (has extras) }} 传递给活动失败；java.lang.NullPointerException

> ID：11083021
> 
> 赞同：8
> 
> 时间：2012-06-18T12:35:09.380
> 
> 标签：android, null

我为我的最后一年项目创建触发器和操作应用程序，

我将子活动结果返回给中间活动，然后向该活动添加一些数据并将其再次发送到主要活动，

我为 Trigger 子模块和 Action 子模块做了，两者都喜欢相同的编码......

触发模块工作正常，但是当动作模块运行应用程序被强制停止

错误是

```
E/AndroidRuntime(5104): java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=Intent { (has extras) }} to activity {mani.droid.mechanize/mani.droid.mechanize.ActionListActivity}: java.lang.NullPointerException 
```

**子 onActivityResult**

```
public void onSave(View v)
{
    if(txtNum.length() != 0)
    {
        String strTmp = null;
        Intent resultInt = new Intent();
        strTmp = txtNum.getText().toString();
        resultInt.putExtra("Num", strTmp);
        resultInt.putExtra("SubName", strTmp);
        setResult(Activity.RESULT_OK, resultInt);
        finish();
    }
    else
        Toast.makeText(getApplicationContext(), "Please enter number or choose from contact", Toast.LENGTH_SHORT).show();
} 
```

**中间 onActivityResult**

```
//getting result from other activity and sending to action list activity
@Override
public void onActivityResult(int reqCode, int resultCode, Intent data) {
    super.onActivityResult(reqCode, resultCode, data);
    if(resultCode == Activity.RESULT_OK)
    {
        switch(reqCode)
        {
            case 1:
                    data.putExtra("ActionName", txtAction);
                    setResult(Activity.RESULT_OK, data);
                    finish();
                    break;
        }
    }
} 
```

**主 onActivityResult**

```
//Getting Trigger parameters and adding to list
@Override
public void onActivityResult(int reqCode, int resultCode, Intent data) {
    super.onActivityResult(reqCode, resultCode, data);
    if(resultCode == Activity.RESULT_OK)
    {
        switch(reqCode)
        {
            case 1:
                if (data.equals(null))
                {
                    Toast.makeText(context, "Intent is Null", Toast.LENGTH_SHORT).show();
                }
                else
                {
                    //String actName = data.getStringExtra("ActionName");
                    String subName = data.getStringExtra("SubName");
                    Toast.makeText(context, subName, Toast.LENGTH_SHORT).show();
                }
                break;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T14:26:56.347

这意味着`Intent`接收方在其`onActivityResult()`. 我可以在`NullPointerException`这里看到正确的：绝对错误，因为它在is`data.equals(null)`时抛出异常。你的意思是。`data``null``data == null`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-03T12:42:58.413

只需检查`null != data`，因为数据等于 null

# php - 强制 HTTPS 和 WWW 时，服务器/Apache 从 1.3 升级到 2.0 时出现错误

> ID：11083022
> 
> 赞同：0
> 
> 时间：2012-06-18T12:35:15.243
> 
> 标签：php, apache

我的托管公司昨天给我发电子邮件告诉我他们正在升级 Apache...所以今天早上我发现我的网站关闭并且无法正常工作。

问题是浏览器给了我“这个网页有一个重定向循环”错误。托管公司不想提供帮助，但是经过一番调查后，我找到了破坏网站的代码。

我需要强制使用 SSL (https) 和网站的 www 子域...以下代码曾经这样做，但现在让我头疼...任何人都可以帮我修改这个，因为我尝试过的一切都没有奏效? 以下代码被放入包含中，因此站点的每个页面都强制（或重定向用户以在域中使用 https 和 www）。

```
//force the subdoman and https://...
if($_SERVER["HTTP_HOST"] != 'www.mysite.co.uk'){
    header('HTTP/1.1 301 Moved Permanently');
    $forceurl = isset($_SERVER["REQUEST_URI"]) ? $_SERVER["REQUEST_URI"] : '';
    header('Location: https://www.mysite.co.uk' . $forceurl);
    die();
}

if ($_SERVER['HTTPS'] != 1){
    $newurl2 = "https://" . $_SERVER["HTTP_HOST"] . $_SERVER["REQUEST_URI"]; 
    header("location: $newurl2");
    die();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-24T14:01:15.917

好吧，我设法解决了所有这些......

我完全删除了上面的代码，并像这样在 .htaccess 中替换了它......

```
RewriteEngine On
RewriteCond %{HTTP_HOST} !^www\.myurl\.co\.uk [NC]
RewriteRule ^(.*)$ https://www.myurl.co.uk/$1 [R=301,L] 
RewriteCond %{HTTPS} off
RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} 
```

然后我注意到我使用的支付 API 出现问题，无法与该网站一起使用，在尝试进行购买/付款时，我不断收到以下消息，“收到的 HTTP 方法无效。只接受 POST”。这很奇怪，因为我正在使用 POST！以下帮助我解决了这个问题..

[收到的 HTTP 方法无效。只接受 POST](https://stackoverflow.com/questions/9550890/the-http-method-received-is-not-valid-only-post-is-accepted)

请注意，我的托管服务提供商没有在他们的升级指南/文档中涵盖这一点！我将在 1and1 与我的好朋友交流！

# java - 使用 Akka（使用 Java）如何验证我的被测演员正在观看另一个演员？

> ID：11083025
> 
> 赞同：4
> 
> 时间：2012-06-18T12:35:20.017
> 
> 标签：java, unit-testing, akka

我有以下参与者，我想为其创建单元测试以验证以下行为：

1.  `ListeningActor`正确注册自己以观看`listeningTo`演员。
2.  `ListeningActor``listeningTo`当actor终止时正确地杀死自己。

如何验证这两种行为？

我正在使用带有 Java 的 Akka 2.0.2。

谢谢

```
public class ListeningActor extends UntypedActor {
    private final ActorRef listeningTo;

    public ListeningActor(final ActorRef listeningTo) {
        this.listeningTo = listeningTo;
    }

    @Override
    public void preStart() {
        super.preStart();
        context().watch(listeningTo);          // <---- To verify
    }

    @Override
    public void onReceive(final Object o) throws Exception {
        if (o instanceof Terminated) {
            Terminated terminated = (Terminated) o;
            if (terminated.equals(listeningTo)) {
                context().stop(self());        // <---- To verify
            }
        } else {
            unhandled(o);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-19T08:33:35.993

如果它对任何人有帮助，这是我的最终单元测试：

```
public class ListeningActorTest
{
    private TestKit testKit;
    private TestActorRef<ListeningActor> listeningActor;
    private TestProbe listeningToActor;

    @Before
    public void setUp() throws Exception
    {
        testKit = new TestKit(ActorSystem.apply());
        listeningToActor = TestProbe.apply(testKit.system());
        listeningActor = TestActorRef.apply(new Props(new UntypedActorFactory()
        {
            @Override
            public Actor create()
            {
                return new ListeningActor(listeningToActor.ref());
            }
        }), testKit.system());
    }

    @Test
    public void shouldTerminateWhenTheListeningToActorTerminates()
    {
        //Given
        assertFalse(listeningActor.isTerminated());

        //When
        listeningToActor.testActor().tell(PoisonPill.getInstance());

        //Then
        assertTrue(listeningActor.isTerminated());
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-03-07T20:41:35.003

如果您使用 JavaTestKit 和 akka 2.4.2 版，您可以这样解决：

```
@Test
public void testThatPersistenceActorShutdown() {
    watch(persistenceActor);
    persistenceActor.tell(new Shutdown(), getRef());
    expectTerminated(persistenceActor);
} 
```

你可以在这里找到一个工作示例 - [akka-persistence-java-example](https://github.com/jansoren/akka-persistence-java-example/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-18T15:59:38.650

使用 TestKit 中的 testActor 观察 ListenerActor，然后期望在 PoisonPill 和/或停止它所侦听的演员时终止 ListenerActor。完毕。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T13:53:09.660

免责声明：我不熟悉akka。

你可以继承 ActorRef 吗？如果是这样，您可以创建一个专门用于测试的子类，您可能会导致发送消息并被终止。然后，在您的单元测试中，告诉您的 ListeningActor 实例被终止，并验证您的 ListeningActor 实例是否已停止。

# iphone - 在 public_timeline 推特上发布推文

> ID：11083026
> 
> 赞同：0
> 
> 时间：2012-06-18T12:35:20.813
> 
> 标签：iphone, twitter

我收到了 public_timeline 的提要，但我想在 public_timeline twitter 上发推。

请帮助我如何在 iOS 中的 public_timeline 上发推文。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T04:39:49.977

正如在对您的问题的评论中提到的，您只需发推文 (https://dev.twitter.com/docs/api/1/post/statuses/update) 即可显示在公共时间线上。然而，现实情况是你不能保证出现在公共时间线上。此外，让你的推文出现在任何没有明确关注你的人会看到的地方可能是一个挑战，如下所述：

Twitter 的公开时间表计划弃用，详情如下：

[https://dev.twitter.com/docs/api/1/get/statuses/public_timeline](https://dev.twitter.com/docs/api/1/get/statuses/public_timeline)

但是，永远无法保证您的任何推文都会出现在公共时间线上，因为它实际上已成为推文的随机样本。这主要是因为推文量太大以至于 REST API 无法跟上，而且可以执行的查询数量存在速率限制。

这里唯一真正的选择是流，但这可能不是一个选择，因为 (1) 使用 firehose（可通过第 3 方获得）需要可扩展的基础设施来处理音量，(2) 示例流不能保证您的推文会出现（作为包含随机集的样本），并且 (3) 过滤器流要求您的跟踪术语与推文中的内容相匹配。

因此，您可以发布推文，并且该推文有机会出现在公共流中。但是，您需要了解 Twitter 工作方式的某些方面，并评估它们是否符合您的目标。

乔

# objective-c - 在不使用任何可见控件的情况下从 iOS 屏幕键盘接收键输入

> ID：11083029
> 
> 赞同：1
> 
> 时间：2012-06-18T12:35:31.330
> 
> 标签：objective-c, ios, cocoa, keyboard-events

我的编程背景来自 C 和一些 C++ 编程，在过去的几年里特别强调 C#。

我对 Cocoa 和 ObjectiveC 编程非常陌生（更不用说 Mac 的东西了），我正在开发一个 iPad 应用程序。

我想从标准屏幕键盘获取键盘代码，但不使用任何（至少可见）控件，如文本字段。另外，我想在您按下它时立即获取键码，检测按键向下和向上事件。

关于如何做到这一点的任何提示？

提前谢谢佩德罗·杜阿尔特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T12:42:43.077

**[编辑]** 在看到你的问题中的关键点和关键点之后！！！

我知道如何捕获按下和按下事件的唯一方法是使用 gestureRecognizer 对象，或者在其中编写自己的自定义代码

```
-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event 
```

和

```
-(void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event 
```

问题是您无法用自己的方式覆盖自然键盘触摸事件结构，以便能够分别捕获向上和向下事件。这就到了真正可悲的部分。为了做到这一点，您很可能必须使用我上面提到的例程创建自己的键盘以及事件结构，因为即使是gestureRecognizer 对象也不够精细，无法分别为您提供向下和向上事件。

**[ORIGINAL]** 当你希望有键盘输入时，这样做的方法是在屏幕上放置一个不可见的 UITextField。

然后，您将实现部分或全部 UITextField 委托方法，以在编辑结束时、期间等获取您的文本......

这里有几个 SO 链接也可以帮助您入门！

// 下面实现了一个自定义键盘功能，将文本输入限制为浮点数字（不是科学或任何东西，只是带有单个句点的简单浮点数），并将文本重新放回启动输入的可见 UITextField。

[需要一个强大的解决方案来键盘输入设置包中的整数值](https://stackoverflow.com/questions/11001786/need-a-robust-solution-to-keyboard-entry-of-an-integer-value-in-settings-bundle/11002029#11002029)

使用下面的代码，当用户点击 UISegmentedControl 的元素（因为他们希望更改所按下的文本）时，会在代码中动态创建 UITextField。UITextField 变得不可见，并且文本应用于 UISegmentedControl 项的文本。

[使用编辑按钮更改分段控件的标题？](https://stackoverflow.com/questions/10925376/change-title-of-segmented-control-with-edit-button/10990091#10990091)

One doesnt have to implement it this way. You could statically define your UITextField, make it invisible (on screen), and only activate the keyboard for it when the object you wish to have its text changed is tapped, etc...

# symfony - Symfony2 可翻译不使用连接

> ID：11083032
> 
> 赞同：0
> 
> 时间：2012-06-18T12:35:47.507
> 
> 标签：symfony, translation

我使用可翻译的，现在我的页面有 133 个数据库查询，因为 symfony 单独检索每个翻译。获取实体时如何使其加入？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T16:05:50.420

您应该在之前使用查询提示进行连接..
[https://github.com/l3pp4rd/DoctrineExtensions/blob/master/doc/translatable.md#using-orm-query-hint](https://github.com/l3pp4rd/DoctrineExtensions/blob/master/doc/translatable.md#using-orm-query-hint)

然而，有时最好不要使用可翻译的......

# java - 从 servlet 中调用错误 jQuery ajax 回调

> ID：11083033
> 
> 赞同：8
> 
> 时间：2012-06-18T12:35:48.380
> 
> 标签：java, jquery, servlets

如果收到错误，在我的 ajax 调用中我有一个警报：

```
 $.ajax({
        url: "myUrl",       
        type: 'POST',
        dataType : "text",
        data : ({
            json : myJson
        }),
        success : function(data) {
                 alert('success');
    },
    error : function() {
                alert ('error');
    } 
```

如果抛出异常，可以从 java 内部发送回调用 jquery 中的错误回调。所以像：

```
 try {
        PrintWriter out = resourceResponse.getWriter();
        out.println("success");
        out.close();
    } catch (Exception e) {
        PrintWriter out = resourceResponse.getWriter();
        out.println("error");
        out.close();
    } 
```

即不是在响应上打印“错误”，而是在 jQuery 代码中调用“错误”回调。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T12:45:19.407

除了在 jQuery Ajax 中调用错误回调`http status code`之外，您还必须设置一些东西。您可以设置类似`200`的错误状态`500 (which is for Internal Server Error)`

```
catch (Exception e) {
    resourceResponse.setProperty(resourceResponse.HTTP_STATUS_CODE, "500"); 
    PrintWriter out = resourceResponse.getWriter();
    out.println("error");
    out.close();
} 
```

在你的`catch`街区。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T12:46:21.023

你有两个选择：

1.  正如 Cranio 所指出的，处理 servlet 中的每个错误并在 JSON 响应中包装错误/成功细节
2.  用于`HttpServletResponse`将状态代码设置为 http 500（或其他错误代码），然后在脚本中处理`error`回调`jQuery`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T12:40:25.473

使用您的 AJAX 页面返回具有两个值的 JSON 对象

*   实际数据
*   错误代码

这样就可以在 AJAX 页面中处理错误逻辑了。此解决方案可解决您的 AJAX 页面中的*自定义*错误，AJAX 调用中的错误可以使用您现有的代码进行处理。

# python - 如何从下一段中得到第一句话？

> ID：11083036
> 
> 赞同：4
> 
> 时间：2012-06-18T12:36:05.247
> 
> 标签：python, nlp, text-segmentation

我知道这听起来很容易。我想过用第一个点（。）作为基准，但是当缩写和短形式出现时，我感到无助。

例如 -

> 温斯顿伦纳德斯宾塞 - 丘吉尔爵士，KG，OM，CH，TD，PC，DL，FRS，Hon。RA（1874 年 11 月 30 日 - 1965 年 1 月 24 日）是英国政治家和政治家，以在第二次世界大战期间领导英国而闻名。他被广泛认为是战时最伟大的领导人之一，曾两次担任总理。丘吉尔是一位著名的政治家和演说家，也是英国陆军军官、历史学家、作家和艺术家。

在这里，第一个点是 Hon.，但我想要在 Second World War 结束的完整第一行。

人有可能吗？？？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T14:05:07.507

如果您使用`nltk`，您可以添加缩写，如下所示：

```
>>> import nltk
>>> sent_detector = nltk.data.load('tokenizers/punkt/english.pickle')
>>> sent_detector._params.abbrev_types.add('hon')
>>> sent_detector.tokenize(your_text)
['Sir Winston Leonard Spencer-Churchill, KG, OM, CH, TD, PC, DL, FRS, Hon. RA 
(30 November 1874 \xe2\x80\x93 24 January 1965) was a British politician and 
statesman known for his leadership of the United Kingdom during the Second 
World War.', 
'He is widely regarded as one of the great wartime leaders and served as Prime 
Minister twice.', 
'A noted statesman and orator, Churchill was also an officer in the British Army,
a historian, a writer, and an artist.'] 
```

这种方法基于[Kiss & Strunk 2006](http://www.linguistics.rub.de/~strunk/ks2005FINAL.pdf)，该报告报告说，Punkt 的 F 分数（准确率和召回率的调和平均值）在 91% 到 99% 之间，具体取决于测试语料库。

基斯、蒂博尔和扬·斯特伦克。2006.“无监督多语言句子边界检测”。 *计算语言学*，（32）485-525。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T12:59:31.133

这一般是不可能的。缩写、数值（“$23.45”、“32.5 度”）、引文（“他说：'哈！你永远不会 [...]'”）或带有标点符号的名称（例如“Panic！At the Disco”）甚至括号中的整个从句基本上是他们自己的句子（“厨师（他也是一位出色的画家！）[...]”）意味着你不能只用点和感叹号/问号来分割文本或使用任何其他“简单”方法。

基本上，要解决一般情况，您需要一个用于自然语言的解析器（在这种情况下，您最好使用 prolog 而不是 python）以及处理所有这些特殊情况的语法。如果您可以将问题简化为不那么普遍的问题，例如只需要处理缩写和引号，您可能会解决一些问题 - 但您仍然需要任何类型的解析器或状态机，因为正则表达式不够强大对于这类事情。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T13:14:03.217

您是否研究过自然语言工具包 nltk？它似乎有一个句子标记器可用。[http://nltk.googlecode.com/svn/trunk/doc/api/nltk.tokenize-module.html](http://nltk.googlecode.com/svn/trunk/doc/api/nltk.tokenize-module.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T17:41:39.893

维基百科上的第一句话几乎总是说什么`is, was, are or were`。因此，一个可能的解决方案是在达到连接动词（is、was、are、were）之前不要结束句子。当然，这不会 100% 准确，但这是一个可能的解决方案：

```
def get_first_sentence(my_string):

    linking_verbs = set(['was', 'is', 'are', 'were'])

    split_string = my_string.split(' ')

    first_sentence = []
    linked_verb_booly = False
    for ele in split_string:
        first_sentence.append(ele)
        if ele in linking_verbs:
            linked_verb_booly = True
        if '.' in ele and linked_verb_booly == True:
            break

    return ' '.join(first_sentence) 
```

示例 1：

> 温斯顿伦纳德斯宾塞 - 丘吉尔爵士，KG，OM，CH，TD，PC，DL，FRS，Hon。RA（1874 年 11 月 30 日 - 1965 年 1 月 24 日）是英国政治家和政治家，以在第二次世界大战期间领导英国而闻名。他被广泛认为是战时最伟大的领导人之一，曾两次担任总理。丘吉尔是一位著名的政治家和演说家，也是英国陆军军官、历史学家、作家和艺术家。

```
my_string_1 = 'Sir Winston Leonard Spencer-Churchill, KG, OM, CH, TD, PC, DL, FRS, Hon. RA (30 November 1874 – 24 January 1965) was a British politician and statesman known for his leadership of the United Kingdom during the Second World War. He is widely regarded as one of the great wartime leaders and served as Prime Minister twice. A noted statesman and orator, Churchill was also an officer in the British Army, a historian, a writer, and an artist.'
first_sentence_1 =  get_first_sentence(my_string_1) 
```

结果：

```
>>> first_sentence_1
'Sir Winston Leonard Spencer-Churchill, KG, OM, CH, TD, PC, DL, FRS, Hon. RA (30 November 1874 \xe2\x80\x93 24 January 1965) was a British politician and statesman known for his leadership of the United Kingdom during the Second World War.' 
```

示例 2：

> Python 是一种通用的高级编程语言[11]，其设计理念强调代码的可读性。据说它的语法清晰 [12] 且富有表现力。 [13] Python 有一个庞大而全面的标准库。 [14]

结果：

```
>>> first_sentence_2
'Python is a general-purpose, high-level programming language[11] whose design philosophy emphasizes code readability.' 
```

示例 3：

> 中国（Listeni/ˈtʃaɪnə/；中文：中国；拼音：Zhōngguó；另见中国名称），正式名称为中华人民共和国（PRC），是世界上人口最多的国家，人口超过 13 亿。东亚国家占地约 960 万平方公里，是世界上陆地面积第二大的国家，[13] 根据总面积的定义，其总面积位居第三或第四大国家。 [14]

```
my_string_3 = "China (Listeni/ˈtʃaɪnə/; Chinese: 中国; pinyin: Zhōngguó; see also Names of China), officially the People's Republic of China (PRC), is the world's most-populous country, with a population of over 1.3 billion. Covering approximately 9.6 million square kilometres, the East Asian state is the world's second-largest country by land area,[13] and the third- or fourth-largest in total area, depending on the definition of total area.[14]"
first_sentence_3 = get_first_sentence(my_string_3) 
```

结果：

```
>>> first_sentence_3

    "China (Listeni/\xcb\x88t\xca\x83a\xc9\xaan\xc9\x99/; Chinese: \xe4\xb8\xad\xe5\x9b\xbd; pinyin: Zh\xc5\x8dnggu\xc3\xb3; see also Names of China), officially the People's Republic of China (PRC), is the world's most-populous country, with a population of over 1.3" 
```

您可以在最后一个示例中看到限制，句子被截断到早期，因为“。” 在 1.3 中。

此外，使用正则表达式可能会更好地完成上述操作。

只是一个想法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T20:42:26.283

虽然这里很多人都有优点，但自然语言处理实际上是一项非常艰巨的任务，并且已经对其进行了大量研究，但结果非常不可靠。但是，那里有解决方案。很多人都提到了自然语言工具包，它是现存最强大的自然语言处理工具之一。NLTK 确实有一个现成的句子标记器，虽然它并不完美，但它非常好。它被称为 PunktSentenceTokenizer，它可以很好地过滤缩写词。对于更多的俚语来说，它有很多麻烦，但对于像你上面这样的小说来说，它的效果非常好。文档可以在这里找到：http: [//nltk.googlecode.com/svn/trunk/doc/api/nltk.tokenize.punkt.PunktSentenceTokenizer-class.html](http://nltk.googlecode.com/svn/trunk/doc/api/nltk.tokenize.punkt.PunktSentenceTokenizer-class.html)

```
from nltk import tokenize

def print_sentences(text):
    test = tokenize.punkt.PunktSentenceTokenizer()
    return test.sentences_from_text(text) 
```

可悲的是，它实际上不适用于您提出的示例，但它确实有一个非常详细的查找并且它捕获了很多缩写。我认为这个例子的大部分项目是“Hon”。也是一个专有名词，字典可能会这样看。可以在 nltk 中自定义配置您的字典以捕捉这种特殊情况，就像在 fraxel 的回答中一样，简单的标记器不会捕捉到 punkt 标记器将捕捉到的许多其他缩写、价格符号或其他此类常见情况。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-09-14T21:27:57.893

如果您坚持一个惯例，即句号仅在其后跟一个空格或换行符时才结束一个句子，您可以执行以下操作：

```
s="Sir Winston Leonard Spencer-Churchill, KG, OM, CH, TD, PC, DL, FRS, Hon. RA (30 November 1874 – 24 January 1965) was a British politician and statesman known for his leadership of the United Kingdom during the Second World War. He is widely regarded as one of the great wartime leaders and served as Prime Minister twice. A noted statesman and orator, Churchill was also an officer in the British Army, a historian, a writer, and an artist."
sentence_delimiters = ['. ', '.\n', '? ', '?\n', '! ', '!\n']
pos = [s.find(delimiter) for delimiter in sentence_delimiters]
pos = min([p for p in pos if p >= 0])
print s[:pos] 
```

# python - Pickle+gzip - 如何利用多核？

> ID：11083038
> 
> 赞同：2
> 
> 时间：2012-06-18T12:36:11.310
> 
> 标签：python, gzip, pickle

我正在使用简单的函数在开始工作之前恢复状态：

```
import pickle, gzip
def load(filename):
    """Loads a compressed object from disk
    """
    file = gzip.GzipFile(filename, 'rb')
    return pickle.load(file)        
records_df = load("records_all_in_one.gzp") 
```

问题是恢复状态是我的应用程序的瓶颈。有没有简单的方法来告诉 gzip/pickle 组合使用多处理？

当然，我总是可以拆分数据结构并从多个内核上的多个文件中读取它，但我更愿意看看是否有更聪明的方法来做到这一点。

最后一点信息 - 正在恢复的数据是一个大熊猫 DataFrame。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T15:49:37.350

您可以运行[pigz](http://zlib.net/pigz/)子进程，它是 gzip 的并行实现。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T13:00:04.157

另一种方法是运行并行 gzip 实现并使用 python 来处理未压缩的数据。

您可以使用 subprocess 运行 gzip 实例或使用管道并通过标准输入读取数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:34:43.750

您可以尝试使用`cPickle`它，因为它比它[快 1000 倍`pickle`](http://docs.python.org/library/pickle.html#relationship-to-other-python-modules)

# php - phpMailer 不发送邮件，ErrorInfo 为空

> ID：11083049
> 
> 赞同：0
> 
> 时间：2012-06-18T12:36:56.993
> 
> 标签：php, phpmailer

我正在使用 phpMailer 设计一个简单的联系我们表单。数据正确地传递给 PHP，但电子邮件永远不会发送。我尝试查看错误信息，但它是空的。有什么想法吗？提前致谢！

```
<?php

    require_once('email/mail/class.phpmailer.php');

    $email_to = 'myEmail';
    $email_subject = 'Contact form';    

    $fname = $_POST['firstname'];
    $lname = $_POST['lastname'];
    $email = $_POST['email'];
    $dob = $_POST['dob'];
    $subject = $_POST['subject'];
    $comments = $_POST['comments'];

    $mailer = new PHPMailer(true);
    $mailer->Host = '**********';
    $mailer->Username = '********';
    $mailer->Password = '*********';
    $mailer->SMTPAuth = true;
    $mailer->AddAddress($email_to);
    $mailer->SMTPDebug = false;
    $mailer->IsSMTP();
    $mailer->FromName = 'Contact Page';
    $mailer->From = "**********";
    $mailer->Sender = '**********';
    $mailer->Subject = $email_subject;
    $mailer->Body = "
        Source: Contact Page
        Name: ".$fname. " ".$lname."
        Email: ".$email."
        Date of Birth: ".$dob."
        Subject: ".$subject."
        Comments: ".$comments;

    echo "Data received";

    if(!$mailer->Send()) {
        echo 'Message was not sent.';
        echo 'Mailer error: ' . $mail->ErrorInfo;
    } else {
        echo 'Message has been sent.';
    }

?> 
```

输出是：

```
Data receivedMessage was not sent.Mailer error: 
```

输出`print_r($mailer)`：

```
PHPMailer Object ( 
    [Priority] => 3 
    [CharSet] => iso-8859-1 
    [ContentType] => text/plain 
    [Encoding] => 8bit 
    [ErrorInfo] => 
    [From] => contact@blah.com 
    [FromName] => Contact Page 
    [Sender] => contact@blah.com 
    [Subject] => Contact form 
    [Body] => 
        Source: blah 
        Name: Derp McDerpson 
        Email: derpallday@gmail.com 
        Date of Birth: 1/1/2000 
        Subject: The things! 
        Comments: fix them 
    [AltBody] => 
    [WordWrap] => 0 
    [Mailer] => smtp 
    [Sendmail] => /usr/sbin/sendmail 
    [PluginDir] => 
    [Version] => 1.73 
    [ConfirmReadingTo] => 
    [Hostname] => 
    [Host] => mail.authsmtp.com 
    [Port] => 25 
    [Helo] => 
    [SMTPAuth] => 1 
    [Username] => blah 
    [Password] => blah 
    [Timeout] => 10 
    [SMTPDebug] => 
    [SMTPKeepAlive] => 
    [smtp] => 
    [to] => Array ( 
        [0] => Array ( 
            [0] => blah@blah.com 
            [1] => blah 
        ) 
    ) 
    [cc] => Array ( ) 
    [bcc] => Array ( ) 
    [ReplyTo] => Array ( ) 
    [attachment] => Array ( ) 
    [CustomHeader] => Array ( ) 
    [message_type] => 
    [boundary] => Array ( ) 
    [language] => Array ( ) 
    [error_count] => 0 
    [LE] => 
) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T14:22:16.927

我相信您缺少实际的发送部分： $mailer->Send(); 尝试添加并运行它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T13:01:19.057

解决了，我试图对“发件人”和“发件人”使用不正确的值，我的服务器设置不正确。感谢吉姆和帕特里克的意见。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-07-20T17:58:52.450

名字 ".$_POST['fname']."company".$_POST['company']."Email".$_POST['email']."Telephone".$_POST['telelphone']."评论" .$_POST['comments']."";$headers="MIME-Version":1.0\r\n";$hearder="Content-type:text/html;charest=iso-8859-1\r \n";$headers.= "FROM:".$_POST['email']."\r\n";mail($to,$subject,$body,$headers);echo'

# java - Java MySQL 导出到可运行程序

> ID：11083050
> 
> 赞同：0
> 
> 时间：2012-06-18T12:37:02.547
> 
> 标签：java, mysql

我是一名 Android 开发人员，最近开始为客户端开发 JAVA PC 项目。

我希望在我的项目中使用 MySQL 数据库，但我对此有点生疏。在我开始学习和记住如何将 SQL 与 Java 连接起来之前，我想问一个重要的问题。

为我的客户端导出可执行 JAR 文件后，该文件将包含 MySQL 连接吗？我的意思是客户必须在他的 PC 上安装 MySQL 并导入数据库或其他东西，除了 java 来运行 JAR 文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T12:42:46.737

取决于数据库在哪里运行：

如果它是通过 LAN/Internet 可用的外部服务器，则客户端只需要 DB 驱动程序（搜索 mysql connector/J）。

否则，如果要在本地运行数据库，则客户端需要安装 mysql（然后您的程序仍然需要类路径中的 Connector/J）。我不认为您可以将 mysql DB 打包在 jar 中。但是您可能可以打包一个 SQL 脚本，用一些初始数据填充数据库。

# c# - 将 C# 代码插入 (.js)javascript 文件

> ID：11083051
> 
> 赞同：0
> 
> 时间：2012-06-18T12:37:04.963
> 
> 标签：c#, javascript, refactoring, extract

在 asp.net mvc 3 应用程序中，我有两个视图，它们具有相同的 javascript 函数集。Javascript 是相同的，所以我想重新组织此代码并将所有 javascript 代码提取到 .js 文件中，以便将其包含在两个 chtml 文件中。

问题是其中一个 javascript 函数使用 C# 代码从模型中获取一些数据。如何将 C# 代码插入到 javascript(.js) 文件中，或者如何将所有这些代码提取到单独的 chtml 文件中并将其包含在前面的两个文件中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T12:39:15.477

你不能在本地，或者至少你不应该。出于维护和性能原因。

相反，您应该重新设计您的 javascript 以具有参数化方法，并从您的视图中初始化自定义值。

像 jQuery 一样思考。许多插件都是可用的、标准化的，但它们在使用它们的页面上被初始化为特定值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T12:42:11.843

如果您的 javascript 包含不同的数据，那么它就不相同。

我会将相同的功能提取到 .js 文件中，然后在您的页面中生成 .js 可以使用的大量 javascript 数据，或者重构为返回 JSON 的服务。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T12:46:15.697

您可以使用局部视图来编写`<script>`标签并从两个页面调用它。如果您认为这更合适，您也可以使用 HTML 助手。

但是，我也不推荐。

一种选择是找到一种方法将更改的值放入您的页面（可能作为 html5`data-`属性），然后为您的 JavaScript 代码使用外部 .js 文件，该文件不由 C# 操作，而是从HTML 本身。

另一个（不太漂亮）的选项是让每个页面在标签中设置一系列 JS 变量`<script>`，然后在您的外部 .js 文件中使用它们。

# ruby-on-rails - Rails：如何进行动态关联

> ID：11083055
> 
> 赞同：2
> 
> 时间：2012-06-18T12:37:20.940
> 
> 标签：ruby-on-rails, activerecord, associations, polymorphic-associations

我将使用一个示例来解释我想要实现的行为。

如果您有一个项目管理应用程序并添加了一项任务，但并非所有贡献者都是该应用程序的用户。因此，当您向任务添加贡献者时，您可以输入用户名或电子邮件地址。

这是我发现有点棘手的部分。该`task`模型有许多通过`user`模型链接的贡献者，但从这一点开始，我想实现两件事。

1.  存储非会员电子邮件（这显然很简单）

2.  如果该电子邮件地址要创建一个帐户，那么它将将该用户链接到该任务并删除临时保存的电子邮件。

这样，当该用户创建帐户时，所有相关任务都将与他们的电子邮件相关联。

这是我可以通过多态关联实现的吗？或者还有什么我应该看的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:46:21.030

涉及多态关联的部分是多`tasks`有多`contributors`。

有很多方法可以实现您想要的其他功能。

我可能会通过创建一个`contributor`没有其他字段（例如`password`. 当用户实际注册时，我会使用一种`first_or_create`方法来完成用户帐户的设置。

这消除了存储临时电子邮件和转移任务所有权的需要。在他们注册之前`id`用于将 a 链接`contributor`到 a`task`的方法与他们注册后使用的方法相同。

# ruby-on-rails - Resque 挂起的作业处于高位 - 未处理

> ID：11083060
> 
> 赞同：1
> 
> 时间：2012-06-18T12:37:39.660
> 
> 标签：ruby-on-rails, resque

我有 redis 和 resque 正在运行。所有安装都使用 github 文档进行。为什么这个过程不会继续，只是停留在高优先级的待处理工作上？请帮忙..谢谢！

# android-ndk - Android ndk 中的欠载通知

> ID：11083062
> 
> 赞同：3
> 
> 时间：2012-06-18T12:37:47.443
> 
> 标签：android-ndk, opensl

我正在尝试使用 NDK（又使用开放式 SLES）在 Android 上创建一个基于流的音频应用程序。我有基本的流媒体设置工作。我需要知道在 Android 中如何处理欠载（或超载）？错误回调是如何实现的？如何获取 AudioPlayer 缺乏数据的持续时间？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-12T22:25:47.613

`RegisterCallback`在使用缓冲区队列的接口注册回调后`SetCallbackEventsMask`，您可以调用`SL_BUFFERQUEUEEVENT_ERROR`作为掩码位之一。

我不知道有任何直接的方法可以检索 AudioPlayer 一直在缺乏数据的持续时间，但是您可以通过处理自己的计时器并使用`GetState`API（也来自缓冲区队列的接口对象）来自己实现它，以便获取缓冲区队列为空的时间量。

希望这可以帮助！

# java - 样式中定义的 textColor 未应用于按钮文本

> ID：11083064
> 
> 赞同：1
> 
> 时间：2012-06-18T12:37:58.053
> 
> 标签：java, android, button, colors, styles

我的应用程序中有几个按钮，我想为所有按钮应用一种样式。

以下是我放在 values 文件夹中的 styles.xml 文件。

```
<?xml version="1.0" encoding="utf-8"?>

 <resources>

     <style name="buttonStyle">
      <item name="android:textStyle"> bold </item>
      <item name="android:textColor"> #282780 </item>
      <item name="android:textSize"> 20sp </item>
     </style>

</resources> 
```

在我的布局 xml 文件中，我使用按钮中的样式如下，

```
<Button android:id="@+id/ok_preview_appointment_button" 
        android:text="@string/ok_preview_appointment_button"
        android:layout_width="175dp"
        android:layout_height="35dp"
        android:layout_marginBottom="10dp"
        style="@style/buttonStyle"
        android:background="@drawable/button_background" /> 
```

我收到以下错误“java.lang.NumberFormatException：颜色值'#282780'必须以#开头”

我检查了其他线程，但是当他们使用 @color 时，他们似乎都遇到了这个问题，这不是我的情况。

先感谢您！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T12:51:35.837

您已经在样式中给出了空间，例如： `<item name="android:textColor"> #282780 </item>`. 删除后试试。我不确定，但其他一切看起来都很好，所以这可能是问题所在。

# c++ - 获取 clang 的 AST 背后的源代码

> ID：11083066
> 
> 赞同：18
> 
> 时间：2012-06-18T12:38:02.387
> 
> 标签：c++, clang

给定一个clang中的AST对象，我怎样才能得到它背后的代码？我尝试在[教程](https://github.com/loarabia/Clang-tutorial/blob/master/CIBasicRecursiveASTVisitor.cpp#L37)中编辑代码，并添加：

```
clang::SourceLocation _b = d->getLocStart(), _e = d->getLocEnd();
char *b = sourceManager->getCharacterData(_b),
      e = sourceManager->getCharacterData(_E);
llvm:errs() << std::string(b, e-b) << "\n"; 
```

但是，唉，它没有打印整个 typedef 声明，只有大约一半！打印时也出现了同样的现象`Expr`。

如何打印并查看构成声明的整个原始字符串？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-22T10:06:37.517

使用`Lexer`模块：

```
clang::SourceManager *sm;
clang::LangOptions lopt;

std::string decl2str(clang::Decl *d) {
    clang::SourceLocation b(d->getLocStart()), _e(d->getLocEnd());
    clang::SourceLocation e(clang::Lexer::getLocForEndOfToken(_e, 0, *sm, lopt));
    return std::string(sm->getCharacterData(b),
        sm->getCharacterData(e)-sm->getCharacterData(b));
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-04-15T11:02:04.193

以下代码适用于我。

```
std::string decl2str(clang::Decl *d, SourceManager &sm) {
    // (T, U) => "T,,"
    string text = Lexer::getSourceText(CharSourceRange::getTokenRange(d->getSourceRange()), sm, LangOptions(), 0);
    if (text.size() > 0 && (text.at(text.size()-1) == ',')) //the text can be ""
        return Lexer::getSourceText(CharSourceRange::getCharRange(d->getSourceRange()), sm, LangOptions(), 0);
    return text;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-04-29T20:20:56.617

正如答案的评论所指出的，所有其他答案似乎都有缺陷，所以我将发布我自己的代码，似乎涵盖了评论中提到的所有缺陷。

我相信这`getSourceRange()`将语句视为一系列标记，而不是一系列字符。这意味着，如果我们有 a`clang::Stmt`对应于`FOO + BAR`，则标记`FOO`在字符 1 处，标记`+`在字符 5 处，标记`BAR`在字符 7 处。`getSourceRange()`因此返回的 a`SourceRange`基本上意味着*“此代码以标记 1 开始并结束令牌位于 7"*。因此，我们必须使用来获取令牌`clang::Lexer::getLocForEndOfToken(stmt.getSourceRange().getEnd())`结束字符的实际字符位置，并将*其*作为结束位置传递给. 如果我们不这样做，那么将返回，而不是我们可能想要的。`BAR`*`clang::Lexer::getSourceText``clang::Lexer::getSourceText``"FOO + "``"FOO + BAR"`*

 *我不认为我的实现有评论中提到的@Steven Lu 的问题，因为这段代码使用了该`clang::Lexer::getSourceText`函数，[根据 Clang 的源文档](https://clang.llvm.org/doxygen/classclang_1_1Lexer.html#a013b6a61a2f81044169446ca911a87db)，该函数专门用于从一个范围中获取源文本。

此实现还考虑了@Ramin Halavati 的评论；我已经在一些代码上对其进行了测试，它确实返回了宏扩展的字符串。

这是我的实现：

```
/**
 * Gets the portion of the code that corresponds to given SourceRange, including the
 * last token. Returns expanded macros.
 * 
 * @see get_source_text_raw()
 */
std::string get_source_text(clang::SourceRange range, const clang::SourceManager& sm) {
    clang::LangOptions lo;

    // NOTE: sm.getSpellingLoc() used in case the range corresponds to a macro/preprocessed source.
    auto start_loc = sm.getSpellingLoc(range.getBegin());
    auto last_token_loc = sm.getSpellingLoc(range.getEnd());
    auto end_loc = clang::Lexer::getLocForEndOfToken(last_token_loc, 0, sm, lo);
    auto printable_range = clang::SourceRange{start_loc, end_loc};
    return get_source_text_raw(printable_range, sm);
}

/**
 * Gets the portion of the code that corresponds to given SourceRange exactly as
 * the range is given.
 *
 * @warning The end location of the SourceRange returned by some Clang functions 
 * (such as clang::Expr::getSourceRange) might actually point to the first character
 * (the "location") of the last token of the expression, rather than the character
 * past-the-end of the expression like clang::Lexer::getSourceText expects.
 * get_source_text_raw() does not take this into account. Use get_source_text()
 * instead if you want to get the source text including the last token.
 *
 * @warning This function does not obtain the source of a macro/preprocessor expansion.
 * Use get_source_text() for that.
 */
std::string get_source_text_raw(clang::SourceRange range, const clang::SourceManager& sm) {
    return clang::Lexer::getSourceText(clang::CharSourceRange::getCharRange(range), sm, clang::LangOptions());
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-09-20T16:06:21.340

除非涉及宏，否则 Elazar 的方法对我有用。以下更正解决了它：

```
std::string decl2str(clang::Decl *d) {
    clang::SourceLocation b(d->getLocStart()), _e(d->getLocEnd());
    if (b.isMacroID())
        b = sm->getSpellingLoc(b);
    if (e.isMacroID())
        e = sm->getSpellingLoc(e);
    clang::SourceLocation e(clang::Lexer::getLocForEndOfToken(_e, 0, *sm, lopt));
    return std::string(sm->getCharacterData(b),
        sm->getCharacterData(e)-sm->getCharacterData(b));
} 
```*

# uiviewcontroller - 仅显示一次警报消息，但在应用启动时再次出现

> ID：11083067
> 
> 赞同：0
> 
> 时间：2012-06-18T12:38:06.210
> 
> 标签：uiviewcontroller, nsuserdefaults, uialertview

我正在尝试找出一种方法来在选择该屏幕控制器时在我的一个视图控制器上显示一条消息（此视图不是应用程序上的第一个视图，因此我无法在启动时执行此操作）。我只希望它出现一次，并且在重新选择该视图时不再出现；但是，如果重新启动应用程序，我希望它再次出现。

到目前为止，我能够让它毫无问题地出现一次，并且在使用该应用程序时它不会再次弹出，这是我想要的，因为我经常回到其他视图并返回。我遇到的问题是，当我再次启动应用程序时，我希望在选择适当的视图时出现警报消息，但由于存储在 NSUserDefaults 中的数据不会出现。

有任何想法吗？这出现在 ViewWillAppear 中：

```
 NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
    NSString *alertshown = [defaults stringForKey:@"alertshown"]; {
        if (alertshown == nil) {

UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Press the Code button" message:@"Take a photo of this screen and show it to get your code" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];

            [alertView show];
            [alertView release];

            [defaults setObject:@"alertwasdisplayed" forKey:@"alertshown"];
        }} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T15:04:12.823

根据您的偏好，您需要使用您应用的 APPDelegate：

```
- (void)applicationDidEnterBackground:(UIApplication *)application; 
```

此委托方法将让您知道您的应用程序何时进入后台。您在委托方法中编写的代码将是：

```
[[NSUserDefaults standardUserDefaults] removeObjectForKey:@"alertshown"]; 
```

希望这会有所帮助。

# tomcat - 如何将 Netbeans 上的 Java Webapp 部署到 AWS？

> ID：11083069
> 
> 赞同：0
> 
> 时间：2012-06-18T12:38:11.077
> 
> 标签：tomcat, netbeans, amazon-web-services, amazon, netbeans-7

我正在开发一个 Java Web 应用程序`Netbeans IDE 7.1.1`。IDE 预装了`Apache Tomcat 7.0`.

Netbeans 中的文件夹结构如下所示

![在此处输入图像描述](../Images/84d572393f61743f7309ab9a0bfc4034.png)

所有的 servlet 都在`Source Packages`并添加了两个`Libraries`- MySQL JDBC Driver 和 Apache Commons Collection`Libraries`文件夹。

现在我想将其部署在`Amazon Web Services - Elastic Beanstalk'. The documentation of AWS Elastic Beanstalk (beta) says` 将可部署代码打包到标准 Java Web 应用程序存档（WAR 文件）中并使用 AWS 管理控制台将 WAR 文件上传到 Elastic Beanstalk`

**我的问题**

如何将我的可部署代码打包成`WAR file`?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T12:57:43.747

如果您已经在运行您的应用程序，那么`WAR`应该位于`Files/dist`项目根目录的文件夹中。否则，部署您的应用程序应使用 war 文件创建此文件夹。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-24T10:50:19.200

**借助 NetBeans 7.2，您可以使用新的云功能：**

[http://wiki.netbeans.org/AmazonBeanstalkSupport](http://wiki.netbeans.org/AmazonBeanstalkSupport) :-)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-06-13T09:06:49.517

[http://wiki.netbeans.org/AmazonBeanstalkSupport](http://wiki.netbeans.org/AmazonBeanstalkSupport)支持在 Netbeans 8 中消失了吗？因为我找不到它，而且当在线搜索时，它仅在 NetBeans 7.2 中指示该选项。

# java - 为mysql中的多列提供auto_increment的默认值

> ID：11083071
> 
> 赞同：0
> 
> 时间：2012-06-18T12:38:13.260
> 
> 标签：java, mysql, html, sql, servlets

当我尝试执行以下查询时

```
create table xyz(id int(3) not null auto_increment, name char(10) not null, code int(6) auto_increment=2000); 
```

我收到以下错误：

```
You have an error near '=2000)' 
```

我希望 id 列从 1 开始，它将开始，但同时我希望代码列从 2000 开始在我将数据插入表时递增。那么，查询中是否可以有两个 auto_increments ？我是在 servlet 的帮助下做到这一点的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-27T05:40:22.103

直接回答：你不能有多个 auto_increment 值，就像 poncha 说的那样。

但是，这可以通过以下几种方式完成：

1.  重写您的插入语句以找到前面的代码并添加 1：

    INSERT INTO xyz (name, code) VALUES ("some-name", (SELECT max(code)+1 FROM xyz))

2.  在插入后创建一个 mysql 触发器以查找代码的最大值并添加一个然后更新

！！我根本不推荐这个，请重新设计你的代码！

我的最高建议是生成一个随机数并在插入时使用它，或者重写子查询以创建一个随机数。

# java - 如何在struts2中将请求属性从一个动作传递到另一个动作

> ID：11083072
> 
> 赞同：0
> 
> 时间：2012-06-18T12:38:14.477
> 
> 标签：java, struts2, mapping

我在提交操作时设置了 2 个属性，并且成功地我正在重定向到另一个操作，该操作只是转发到页面所以在该页面中我无法获取请求属性。

以下是场景：

```
 <action name="getanalyticscounts/*" 
            class="com.controller.GetAnalytics">
            <param name="mode">{1}</param>
            <result name="success" type="redirectAction">analytics</result>
            <result name="error"  type="redirectAction">analytics</result>
            <result name="input"  type="redirectAction">analytics</result>            
        </action>

<action name="analytics">
            <result>pages/analytics.jsp</result>
        </action> 
```

我在返回成功的 GetAnalytics-execute 方法中设置值，因此 redirectAction 对分析分析只提供 analtics.jsp 页面，在这里我无法访问请求属性。

请问有什么办法可以解决吗？

提前感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:01:32.170

试试这个：

struts.xml 中的结果标签：-

```
<action name="getanalyticscounts/*" class="com.controller.GetAnalytics">
    <result name="success" type="redirectAction">
        <param name="actionName">analytics</param>
        <param name="param1">${paramvalue1}</param>
        <param name="param2">${paramvalue2}</param>
    </result>
</action> 
```

假设您需要在“分析”操作的请求中传递“param1”和“param2”。

```
<action name="analytics" class="com.SomeClass">
    <result>pages/analytics.jsp</result>
</action> 
```

*在触发分析*操作后调用的类应该具有用于​​传递参数的 setter 和 getter。

这应该有效。

# python - 在远程机器上运行（python / bash）项目

> ID：11083074
> 
> 赞同：4
> 
> 时间：2012-06-18T12:38:34.247
> 
> 标签：python, eclipse, bash

这个想法是通过单击 Eclipse 中的运行按钮来运行远程 python 或 bash 脚本。

我在这里发现了一些非常接近的东西： [https ://stackoverflow.com/a/5979831/932965](https://stackoverflow.com/a/5979831/932965)

> 然后执行外部工具：ssh user@rometesite -c "java -Xdebug -Xrunjdwp:server=y,transport=dt_socket,address=4000,suspend=n Main"

但我不知道如何通过外部工具运行一些远程脚本。也许除了外部工具还有其他方法......无论如何我可以通过 ssh 命令运行脚本：

> ssh user@server 'bash ~/workspace/testscript.sh'

但我无法通过外部工具运行它。我设置
**位置：** /usr/bin/ssh
**参数：** “user@server 'bash ~/workspace/testscript.sh'”

我已连接但 testscript.sh 没有做任何事情。

testscript.sh 来源：

```
#!/bin/bash

touch testfile 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-15T19:06:28.593

我在本地尝试过，我相信它可能与远程机器中的工作目录有关。

首先，我按照 Swiss 的建议更改了命令：

**位置**：/usr/bin/ssh

**参数**：user@server ~/workspace/testscript.sh

（注意我没有放双引号，因为用户/主机是一个参数，而要执行的命令是另一个参数。）

尝试使用以下脚本打印工作目录，然后检查显示的目录中是否没有创建文件：

testscript.sh 来源：

```
#!/bin/bash

echo "$PWD"
touch testfile 
```

# javascript - 如何在选择和突出显示时重置表格行颜色时在 javascript 中处理第 n 个选择器

> ID：11083076
> 
> 赞同：0
> 
> 时间：2012-06-18T12:38:37.377
> 
> 标签：javascript, css

选择一行更改颜色后，是否可以重置具有偶数行、奇数行的表？jQuery 不是一个选项。

我希望这样的事情能够奏效。

```
.MyTable tr:nth-child(even) {background: gray}
.MyTable tr:nth-child(odd) {background: darkgray}
.bgYellow
{
  background-color:yellow;
} 

    var rows = selectedRow.parentNode.parentNode.rows;
    for(var i = 1; i < rows.length; i++)
    {
      rows[i].className = (i % 2 == 0) ? 'even' : 'odd';
    }
    selectedRow.removeAttribute('class');
    selectedRow.className = 'bgYellow'; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T12:45:59.687

选择`nth-child`器比 具有更多的特异性`.bgYellow`，因此即使一行有一个类`.bgYellow`，它也会从其中一个选择器中获取其背景`nth-child`。

只要给它更多的特异性，`tr.bgYellow`就足够了：http: [//jsfiddle.net/Ya4G7/2/](http://jsfiddle.net/Ya4G7/2/)

# macos - 如何使用 core-audio/audiotoolbox 从 CAF 文件中读取标题块

> ID：11083077
> 
> 赞同：0
> 
> 时间：2012-06-18T12:38:39.380
> 
> 标签：macos, core-audio, audiotoolbox, caf

我正在尝试使用 AudioToolbox 的[扩展音频文件](https://developer.apple.com/library/mac/#documentation/MusicAudio/Reference/ExtendedAudioFileServicesReference/Reference/reference.html)API 在 OSX 上读取 CAF 文件。

打开文件工作正常，但是，我需要访问[UUID 块](https://developer.apple.com/library/mac/documentation/MusicAudio/Reference/CAFSpec/CAF_spec/CAF_spec.html#//apple_ref/doc/uid/TP40001862-CH210-BCGHJGEC)，并且我找不到有关如何执行此操作的任何参考（或​​如何访问文件的*任何*标头块）

当然，必须有一种方法可以做到这一点，而无需我自己解析文件。

PS：我已经可以使用 libsndfile 做到这一点，但我想找到一种方法来仅使用 OSX 附带的组件来做到这一点。

我已经尝试`ExtAudioFileGetProperty()`使用`ExtAudioFilePropertyID`设置为“uuid”进行调用，但这似乎不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:19:25.990

事实证明，诀窍是不要使用 ExtAudio API 来访问像 UUID 块这样的低级功能。（如果您需要通过 ExtAudio API 访问文件，可以从 AudioFileID 创建一个 ExtAudioHandle。）

最后我使用了这样的东西：

```
AudioFileID fileID;
ExtAudioFileRef extFile;

OSStatus err = AudioFileOpenURL((CFURLRef)inURL, kAudioFileReadPermission, 0, &fileID);
if(noErr!=err)return;
err = ExtAudioFileWrapAudioFileID (fileID, false, &extFile); // in case we *also* want to access the file via ExtAudio
if(noErr!=err)return;

for(index=0; ; index++) {
  UInt32 size=0;
  char*data=NULL;

  OSStatus err = AudioFileGetUserDataSize (fileID,'uuid',index,&size);
  if(noErr!=err)break;   // check whether we were able to read the chunksize
  if(0==size)continue;    // check whether there is some payload in the uuid chunk

  data=calloc(size, 1);
  if(!data)continue;
  err = AudioFileGetUserData (fileID, 'uuid', index, &size, data);
  if(noErr!=err){free(data); break;}   // check whether we were able to read the chunksize
  /* ... */
  free(data);
}
ExtAudioFileDispose(extFile);
AudioFileClose(fileID); 
```

# windows-phone-7 - 使 TextBox 文本主题感知

> ID：11083079
> 
> 赞同：0
> 
> 时间：2012-06-18T12:38:43.153
> 
> 标签：windows-phone-7, windows-phone-7.1

我创建了一个页面。当模拟器的主题更改为浅色时，我想更改文本框的背景。更改主题时字母不可见。有什么解决方案吗？

![轻主题](../Images/efebf5d9402e6825a47e5a4ff3b30123.png)

![黑暗主题](../Images/ece0155c0b630b01725a98484bf3d177.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T01:09:44.150

我假设您指的是`TextBlock`而不是`TextBox`（因为后者自动具有样式支持）。

永远不要声明`TextBlock`没有`Style`属性的 a，例如`Style={StaticResource PhoneTextNormalStyle}`. 可以在 MSDN 上找到可用样式的完整列表：[Windows Phone 的主题资源](http://msdn.microsoft.com/en-us/library/ff769552%28v=vs.92%29.aspx#BKMK_TextStyles)

同样相关的是：[如何：为 Windows Phone 应用主题资源](http://msdn.microsoft.com/en-us/library/ff769545%28v=vs.92%29)

注意：由于 Mango 的设计方式，*更改*主题后返回到您的应用程序将不会应用新主题。您需要重新启动应用程序才能看到更改后的主题。

**更新**

根据您的屏幕截图，您有两种选择：

*   Reskin（Blend 中的“编辑模板”）用于重新定义样式的每个控件，其中各种与颜色相关的属性都是硬编码的
*   在白色主题中使用替代的、较浅的背景图像以提高对比度。我在[博客中介绍了如何定义主题感知资源](http://blog.richardszalay.com/2011/06/11/practical-support-for-light-dark-themes-on-windows-phone-7/)（并且在其他 SO 问题中也提到过）。

简而言之，您可以提交主题或强制它保持您想要的方式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T12:56:37.373

如果您在 Visual Studio 中使用默认的 TextBox 控件，则它完全可以识别主题。如果您自己设置了颜色，那么您需要在后面的代码中执行主题感知更改。

有关更多信息，请参阅以下内容：-

[http://www.developer.nokia.com/Community/Wiki/ThemeawareWindowsPhoneapplication](http://www.developer.nokia.com/Community/Wiki/ThemeawareWindowsPhoneapplication)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T13:08:42.147

我们可以为我们的应用程序设置一个默认主题。当我们登录我们的应用程序时，手机主题将更改为合适的主题，当我们注销时，将更改回原来的[链接](http://www.jeff.wilcox.name/2012/01/phonethememanager/)。

# php - 包含多个文件或仅包含一个文件

> ID：11083082
> 
> 赞同：-1
> 
> 时间：2012-06-18T12:38:46.460
> 
> 标签：php

建立项目结构；我在想最好有一个“bootstrap.php”文件，其中包含和设置所有内容，如数据库连接、会话管理、库、错误处理。或者只是奇异地包含目前所需的文件？（这需要先于包含的顺序，等等）。

备选方案 1：

索引.php

```
<?php

include 'bootstrap.php';

//session... database up and ready to be used... 
```

备选方案 2：

索引.php

```
 <?php
include 'session.php';
include 'database.php';
include 'errorhandling.php';
//now use database... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T12:41:29.717

仅包括特定页面所需的文件。例如，如果一个页面不需要数据库连接，您就不会包含它。因此，后一种方法最好有*选择地*包含所需的文件，除非您在每个页面上都需要导入一些常用的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:09:08.863

此外，PHP-Autoloading 对您来说可能很有趣：http: [//php.net/manual/de/language.oop5.autoload.php](http://php.net/manual/de/language.oop5.autoload.php)

# php - 替代 header("Content-type: text/xml");

> ID：11083084
> 
> 赞同：21
> 
> 时间：2012-06-18T12:38:53.263
> 
> 标签：php, wordpress

是否有等效于以下内容：

```
header("Content-type: text/xml"); 
```

我正在使用带有 Wordpress 的 Google 地图，但出现“标题已发送”错误。我已经浏览了所有文件并删除了所有空格，但错误仍然出现，所以我想知道是否还有另一种方法可以执行上面的代码。

这是错误：

```
Warning: Cannot modify header information - headers already sent by (output started at /home/medicom/public_html/mapping/wp-content/themes/default/header.php:11) in /home/medicom/public_html/mapping/wp-content/themes/default/new-version1.php on line 45 
```

这是我的页面 - [http://www.mediwales.com/mapping/test/](http://www.mediwales.com/mapping/test/)

```
<?php
/**
 * @package WordPress
 * @subpackage Default_Theme
 * Template Name: Latest Version
 */
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="<?php bloginfo('html_type');?>; charset=<?php bloginfo('charset');?>" />
<title><?php wp_title('&laquo;', true, 'right');?></title>
<link rel="stylesheet" href="<?php bloginfo('stylesheet_url');?>" type="text/css" media="screen" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
<script src="<?php bloginfo('template_directory'); ?>/markerclusterer.js" type="text/javascript"></script>
<link rel="pingback" href="<?php bloginfo('pingback_url'); ?>" />
<script src="http://maps.google.com/maps?file=api&v=2&key=ABQIAAAAdnbfsmnsdaFBmEZfsJEmiWC7p0LLmMBSsffI9l26I_viUYjW7vRG7TlO-sRQKR0B_YAsP2VnDdVgsr4Aegvksdw" type="text/javascript"></script>
<?php if ( is_singular() ) wp_enqueue_script( 'comment-reply' ); ?>
<?php wp_head(); ?>
</head>
<body <?php body_class(); ?> onload="load()" onunload="GUnload()">
    <?php if (have_posts()) : ?>
        <?php while (have_posts()) : the_post(); ?>
    <div id="body">
<?php
require("database.php");
function parseToXML($htmlStr)
{
$xmlStr=str_replace('<','&lt;',$htmlStr);
$xmlStr=str_replace('>','&gt;',$xmlStr);
$xmlStr=str_replace('"','&quot;',$xmlStr);
$xmlStr=str_replace("'",'&#39;',$xmlStr);
$xmlStr=str_replace("&",'&amp;',$xmlStr);
return $xmlStr;
}
// Opens a connection to a MySQL server
$connection=mysql_connect (localhost, $username, $password);
if (!$connection) {
  die('Not connected : ' . mysql_error());
}
// Set the active MySQL database
$db_selected = mysql_select_db($database, $connection);
if (!$db_selected) {
  die ('Can\'t use db : ' . mysql_error());
}
// Select all the rows in the markers table
$query = "SELECT * FROM markers WHERE 1";
$result = mysql_query($query);
if (!$result) {
  die('Invalid query: ' . mysql_error());
}
header("Content-type: text/xml");
// Start XML file, echo parent node
echo '<markers>';
// Iterate through the rows, printing XML nodes for each
while ($row = @mysql_fetch_assoc($result)){
  // ADD TO XML DOCUMENT NODE
  echo '<marker ';
  echo 'name="' . parseToXML($row['name']) . '" ';
  echo 'address="' . parseToXML($row['address']) . '" ';
  echo 'lat="' . $row['lat'] . '" ';
  echo 'lng="' . $row['lng'] . '" ';
  echo 'type="' . $row['type'] . '" ';
  echo '/>';
}
// End XML file
echo '</markers>';
?>
<script type="text/javascript">
    //<![CDATA[
    var iconBlue = new GIcon();
    iconBlue.image = 'http://labs.google.com/ridefinder/images/mm_20_blue.png';
    iconBlue.shadow = 'http://labs.google.com/ridefinder/images/mm_20_shadow.png';
    iconBlue.iconSize = new GSize(12, 20);
    iconBlue.shadowSize = new GSize(22, 20);
    iconBlue.iconAnchor = new GPoint(6, 20);
    iconBlue.infoWindowAnchor = new GPoint(5, 1);
    var iconRed = new GIcon();
    iconRed.image = 'http://labs.google.com/ridefinder/images/mm_20_red.png';
    iconRed.shadow = 'http://labs.google.com/ridefinder/images/mm_20_shadow.png';
    iconRed.iconSize = new GSize(12, 20);
    iconRed.shadowSize = new GSize(22, 20);
    iconRed.iconAnchor = new GPoint(6, 20);
    iconRed.infoWindowAnchor = new GPoint(5, 1);
    var customIcons = [];
    customIcons["restaurant"] = iconBlue;
    customIcons["bar"] = iconRed;
    function load() {
      if (GBrowserIsCompatible()) {
        var map = new GMap2(document.getElementById("map"));
        map.addControl(new GSmallMapControl());
        map.addControl(new GMapTypeControl());
        map.setCenter(new GLatLng(47.614495, -122.341861), 13);
        GDownloadUrl("phpsqlajax_genxml.php", function(data) {
          var xml = GXml.parse(data);
          var markers = xml.documentElement.getElementsByTagName("marker");
          for (var i = 0; i < markers.length; i++) {
            var name = markers[i].getAttribute("name");
            var address = markers[i].getAttribute("address");
            var type = markers[i].getAttribute("type");
            var point = new GLatLng(parseFloat(markers[i].getAttribute("lat")),
                                    parseFloat(markers[i].getAttribute("lng")));
            var marker = createMarker(point, name, address, type);
            map.addOverlay(marker);
          }
        });
      }
    }
    function createMarker(point, name, address, type) {
      var marker = new GMarker(point, customIcons[type]);
      var html = "<b>" + name + "</b> <br/>" + address;
      GEvent.addListener(marker, 'click', function() {
        marker.openInfoWindowHtml(html);
      });
      return marker;
    }
    //]]>
  </script>  
  <div id="map" style="width: 500px; height: 300px"></div>
</div>
        <?php endwhile; ?>
    <?php endif; ?>
</div>
<?php wp_footer(); ?>
</body></html> 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-18T13:36:26.620

现在我明白你在做什么了。您不能将输出发送到屏幕然后更改标题。如果您尝试创建地图标记的 XML 文件并下载它们以显示，它们应该位于单独的文件中。

拿着这个

```
<?php
require("database.php");
function parseToXML($htmlStr)
{
$xmlStr=str_replace('<','&lt;',$htmlStr);
$xmlStr=str_replace('>','&gt;',$xmlStr);
$xmlStr=str_replace('"','&quot;',$xmlStr);
$xmlStr=str_replace("'",'&#39;',$xmlStr);
$xmlStr=str_replace("&",'&amp;',$xmlStr);
return $xmlStr;
}
// Opens a connection to a MySQL server
$connection=mysql_connect (localhost, $username, $password);
if (!$connection) {
  die('Not connected : ' . mysql_error());
}
// Set the active MySQL database
$db_selected = mysql_select_db($database, $connection);
if (!$db_selected) {
  die ('Can\'t use db : ' . mysql_error());
}
// Select all the rows in the markers table
$query = "SELECT * FROM markers WHERE 1";
$result = mysql_query($query);
if (!$result) {
  die('Invalid query: ' . mysql_error());
}
header("Content-type: text/xml");
// Start XML file, echo parent node
echo '<markers>';
// Iterate through the rows, printing XML nodes for each
while ($row = @mysql_fetch_assoc($result)){
  // ADD TO XML DOCUMENT NODE
  echo '<marker ';
  echo 'name="' . parseToXML($row['name']) . '" ';
  echo 'address="' . parseToXML($row['address']) . '" ';
  echo 'lat="' . $row['lat'] . '" ';
  echo 'lng="' . $row['lng'] . '" ';
  echo 'type="' . $row['type'] . '" ';
  echo '/>';
}
// End XML file
echo '</markers>';
?> 
```

并将其放入`phpsqlajax_genxml.php`以便您的 javascript 可以下载 XML 文件。你试图在同一个文件中做太多的事情。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T12:41:00.813

不可以。您不能在发送标头后发送标头。尝试在 wordpress 中使用钩子

# android - 我们如何识别密码的类型

> ID：11083085
> 
> 赞同：2
> 
> 时间：2012-06-18T12:38:54.107
> 
> 标签：android, security, passwords

在android设备中，我们有五种密码

1.  没有任何
2.  滑动
3.  图案
4.  密码
5.  别针

如何识别用户使用的密码类型？Android 提供`DevicePolicyManger`但不提供此信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-21T07:44:54.217

最接近的是[getPasswordQuality()](http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#getPasswordQuality%28android.content.ComponentName%29)。

# php - 存储字段说明

> ID：11083086
> 
> 赞同：1
> 
> 时间：2012-06-18T12:38:54.840
> 
> 标签：php, symfony, entity

我面临着一个相当普遍的问题，但到目前为止我还没有找到真正令人信服的解决方案。我正在使用 Symfony2，并且正在制作具有属性的实体。这些属性旨在在整个网站上进行操作——这并不奇怪。

现在，在我的大多数视图（表格、表单等）中，描述这些属性很重要，至少用一个简短的句子来解释属性代表什么。

存储这些属性的描述有什么好的解决方案？我可以看到几种方法来做到这一点。三个出来：

*   将它们与我的实体一起存储在数据库中（非常重）
*   将它们存储在实体中（几乎无法更改）
*   将它们存储在类似 XML 的文件中（不太重，非常适合翻译，更难操作）

这些解决方案中哪一个是最常用的？你有什么建议？

并且 - 如果可能的话 - 如何在 Symfony 中最好地实现它（尤其是使用文件解决方案）？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T17:53:59.857

另一种选择是使用翻译功能来存储您的属性描述。他们已经准备好进行翻译。如果您使用[KnpTransBundle](http://knpbundles.com/docteurklein/TranslatorBundle)，它们可以交互地翻译和更改。

我对表单标签/内联帮助使用类似的东西

```
{# untested example code#}
{% for field in form.fields %}

    <label>
        {{ ('form.' ~ form.id ~ '.' ~ field.id ~ '.label')|trans() }}
    </label>

    {{form_widget(field)}}

    <div class="help">
        {{ ('form.' ~ form.id ~ '.' ~ field.id ~ '.label')|trans() }}
    </div>

{% endfor %} 
```

# asp.net - 从 Windows 任务调度程序调用 MVC 控制器

> ID：11083087
> 
> 赞同：1
> 
> 时间：2012-06-18T12:38:56.727
> 
> 标签：asp.net, asp.net-mvc-3, vbscript, c#-3.0, scheduled-tasks

> **可能重复：**
> [ASP.NET MVC3 如何使用间隔为一小时的计时器执行控制器的操作方法](https://stackoverflow.com/questions/11101636/asp-net-mvc3-how-to-excute-action-method-of-controller-using-timer-with-interval)

我正在使用 ASP.NET MVC 3。我有一个用于作业调度程序的特殊控制器。我需要在每晚午夜从 Windows 任务调度程序调用这个控制器（比如从 Windows 任务调度程序调用 .bat 文件）。

有人告诉我，这可以使用 VB 脚本。我们可以从 Windows 任务调度程序调用 VB 脚本，而 VB 脚本将调用 ASP.NET MVC 控制器。但我不知道该怎么做。

如果有人有任何想法，请与我们分享。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:56:18.733

[您可以使用WebClient](http://msdn.microsoft.com/en-us/library/system.net.webclient.aspx)类向您的 MVC 应用程序发送 HTTP 请求：

```
using (var client = new WebClient())
{
    string result = client.DownloadString("http://example.com/somecontroller/someaction");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-24T10:21:48.630

我使用以下方法解决了我的问题。请检查，它可能对某人有帮助。

[点击这里查看详细信息](https://stackoverflow.com/questions/11101636/asp-net-mvc3-how-to-excute-action-method-of-controller-using-timer-with-interval)

谢谢

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-23T13:34:30.767

我们正是出于这个原因使用[wget](http://gnuwin32.sourceforge.net/packages/wget.htm)或[curl :)](http://curl.haxx.se/download.html)

# gwt - gxt 版本 2.2.3 中是否提供 filtergrid？

> ID：11083088
> 
> 赞同：0
> 
> 时间：2012-06-18T12:38:57.773
> 
> 标签：gwt, gxt

我正在使用 gxt 2.2.3 版。我想使用示例演示[http://www.sencha.com/examples/#ExamplePlace:filtergrid](http://www.sencha.com/examples/#ExamplePlace:filtergrid)上提供的 filtergrid 。它在 2.2.3 版本中可用吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T15:23:07.240

是的，这同样适用于 2.2.x 版本。查看[版本 2 中过滤器网格的相应示例](http://www.sencha.com/examples-2/#filtergrid)。

**参考：**

*   [Ext-GWT 2.x 的（旧版）展示](http://www.sencha.com/examples-2/)。
*   [sencha.com 上的官方 API 文档](http://www.sencha.com/gxtdocs/)。

# mvc-mini-profiler - 配置 MiniProfiler 以在多个域上工作

> ID：11083089
> 
> 赞同：4
> 
> 时间：2012-06-18T12:39:06.787
> 
> 标签：mvc-mini-profiler

我想将 MiniProfiler 添加到具有多个域服务请求的项目中：

1.  application.domain.com（提供所有 HTML、JavaScript 等）
2.  api.domain.com (REST/JSON API)

MiniProfiler 的最佳功能之一是 AJAX 调用的显示方式，开箱即用上述方法不起作用。有没有人对我可以用来启用来自 api.domain.com 的 MiniProfiler 事件以显示在 application.domain.com 的页面上的方法/配置有任何建议？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-02-15T21:30:02.403

可以完成，但需要您执行一些额外的设置步骤：

1.  设置`MiniProfiler.Settings.Storage`保存到可从所有域访问的某个存储介质（如 redis 缓存或 sql 服务器）。这将允许所有被分析的域将它们的结果保存在一起。
2.  确保`MiniProfiler.Current.User`在所有域上设置为相同的值。检索结果时的默认行为是显示特定用户的所有结果。因此，您要确保同一用户的配置文件在多个域中一致地存储。

# asp.net-mvc-3 - 带有剃刀引擎的mvc3中的日期选择器

> ID：11083090
> 
> 赞同：-1
> 
> 时间：2012-06-18T12:39:12.233
> 
> 标签：asp.net-mvc-3, datepicker

在我看来，我有两个日期选择器，一个用于“从”，另一个用于“到”。我希望“从”选择的日期小于“到”的日期应该禁用。也请指导我如何格式化 datePicker 的视图

```
<div>
    From:
    <input type="text" id="txtFromDate" />
    To:
    <input type="text" id="txtToDate" />
</div>

$(function() {
    $("#txtFromDate").datepicker({
        numberOfMonths: 1,
        highlightWeek: true,
        onSelect: function(selected) {

            $("#txtToDate").datepicker("option", "mindate", selected)
        }
    });
    $("#txtToDate").datepicker({
        numberOfMonths: 1,
        onSelect: function(selected) {
            $("#txtFromDate").datepicker("option", "maxDate", selected)
        }
    });

}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:52:21.867

我得到了解决方案...

```
$(function () {
    $("#txtFromDate").datepicker({
        changeMonth: true,
        changeYear: true,
        buttonImage: '../../Images/DatePicker.jpg',
        dateFormat: 'dd-mm-yy',
        buttonText: 'Select date:',
        firstDay: 1,
        buttonImageOnly: true,
        showOn: 'both',
        showAnim: 'fadeIn',
        onSelect: function () {

            var min = $(this).datepicker('getDate') || new Date(); // Selected date or today if none
            var max = new Date(min.getTime());
            max.setMonth(max.getMonth() + 12 * 10); // Add one month
            $("#txtToDate").datepicker('option', { minDate: min, maxDate: max });

        }
    });
});

$(function () {
    var min = $("#txtFromDate").datepicker('getDate')
    $("#txtToDate").datepicker({
        changeMonth: true,
        changeYear: true,
        buttonImage: '../../Images/DatePicker.jpg',
        dateFormat: 'dd-mm-yy',
        buttonText: 'Select date:',
        firstDay: 1,
        buttonImageOnly: true,
        showOn: 'both',
        showAnim: 'fadeIn',
        onSelect: function () { $(this).trigger("onchange", null); }
    });
}); 
```

# php - 奇怪的正则表达式行为解析特殊字符

> ID：11083094
> 
> 赞同：2
> 
> 时间：2012-06-18T12:39:25.497
> 
> 标签：php, regex

我有一个 php 脚本验证，它查找一些特殊字符并删除它们。该脚本工作正常，但如果我在两个 $ 之间放置任何内容，它也会被删除。所以如果放入

`Supercool$$$$%%email%%@%SP***AM.com; => Supercoolemail@SPAM.com`

但如果我输入

`Supercool$$email$$%%@%SP**AM.com => Supercool@SPAM.com`

每当我在 $ 之间放置常规字符时，它们也会被删除。这是我用来检查输入电子邮件中的特殊字符的 PHP 脚本：

```
<?php

$bademail = "MAXCOOL$$ES$$%%T%%@%SP***AM.com";

function specialcharsreg ($email){
    $regex = "/[*?$!%$&#]/";
    $validemail = preg_replace($regex, "", $email);
    echo "\n=====================================\n".$email." -> ".$validemail."\n=====================================\n\n";
}
specialcharsreg($bademail);
?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T12:43:07.017

该表达式不会取代它。

您只是没有正确引用您的字符串，并且`$variable`s 正在被插值。

你的（双引号）：

```
$bademail = "MAXCOOL$$ES$$%%T%%@%SP***AM.com"; 
```

应该是（使用*单*引号时不插入变量）：

```
$bademail = 'MAXCOOL$$ES$$%%T%%@%SP***AM.com'; 
```

或者您可以`$`使用反斜杠转义 s：

```
$bademail = "MAXCOOL\$\$ES\$\$%%T%%@%SP***AM.com"; 
```

# decode - 如何使用 ogg 文件计算 sampleTime 和 sampleDuration

> ID：11083098
> 
> 赞同：2
> 
> 时间：2012-06-18T12:39:30.627
> 
> 标签：decode, ogg, oggvorbis, vorbis

我在媒体基础上创建了 ogg 解码器。

我已经读取了一些数据包作为样本（压缩数据），现在我需要知道样本的时间和样本的持续时间。

现在我知道了 AvgBytesPerSec 和 SamplesPerSec 等等，但是这个参数用于解压缩数据。

那么如何通过使用压缩数据来获取 IMFSample 的时间和持续时间呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T13:51:39.880

在回答之前，我假设您知道一些事情：

*   如何读取 Vorbis 设置数据包（流中的第一个和第三个）：
    *   采样率
    *   解码参数（特别是块大小和模式）
*   如何读取 Vorbis 音频数据包标头：
    *   验证位
    *   模式选择
*   如何根据样本数计算未压缩 PCM 数据的当前时间戳。
*   如何根据样本计数计算未压缩 PCM 数据缓冲区的持续时间。

[Vorbis 规范](http://www.xiph.org/vorbis/doc/Vorbis_I_spec.html)应该对前两个有所帮助。由于您没有对音频进行解码，因此您可以在阅读后安全地丢弃时间、地板、残差和映射配置（从技术上讲，您也可以丢弃码本，但只有在您阅读了地板配置之后）。

Granule Position 和 Sample Position 在 Vorbis 中是可互换的术语。

要计算数据包中的样本数，请将当前数据包的块大小与前一个数据包的块大小相加，然后除以 4。这有两个例外：第一个音频包为空（0 个样本），最后一个音频包数据包的大小是通过从最后一页的粒度位置减去倒数第二个页面的粒度位置来计算的。

要计算数据包的*最后一个*样本位置，请使用以下逻辑：

1.  流中的第一个音频包为 0。
2.  页面中最后一个完整的音频包是页面的颗粒位置（包括最后一页）
3.  页面中间的数据包是根据页面的颗粒位置计算的。从页面中最后一个完整音频数据包的粒度位置开始，然后在您计算的数据包之后减去每个数据包中的样本数。
4.  如果需要数据包的初始位置，请使用前一个数据包的颗粒位置。

如果您需要一个如何完成这一切的示例，您可以尝试通读[这个](http://www.nothings.org/stb_vorbis/)（公共领域，C）。如果这没有帮助，我可以链接到 C# 中的从头开始实现。

# ruby-on-rails - 在 FriendlyID slug 中隐藏资源名称

> ID：11083107
> 
> 赞同：1
> 
> 时间：2012-06-18T12:40:06.900
> 
> 标签：ruby-on-rails, routes, friendly-id

我正在使用 FriendlyID 为我的一些模型制作 slug。

要使用 FriendlyID 文档 ( [http://rubydoc.info/github/norman/friendly_id/master/frames](http://rubydoc.info/github/norman/friendly_id/master/frames) ) 中提供的示例，我的 URL 当前如下所示：

```
http://localhost:3000/cities/seattle/restaurants/joes-diner 
```

鉴于在我的情况下，一个城市除了餐馆什么都没有，我正在寻找一种方法来删除 URL 中的“restaurants”位，使其看起来像这样：

```
http://localhost:3000/cities/seattle/joes-diner 
```

或者如果可能的话

```
http://localhost:3000/seattle/joes-diner 
```

实现这一目标的最佳方法是什么 - 如果这样做是可取的？我可以想象最后一个选项可能会产生一些复杂性。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:11:30.927

[您可以在http://guides.rubyonrails.org/routing.html#controller-namespaces-and-routing#controller-namespaces-and-routing](http://guides.rubyonrails.org/routing.html#controller-namespaces-and-routing#controller-namespaces-and-routing)中找到解决问题的方法

您可以`:path => ""`用于此任务。

问候！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-19T15:29:27.627

具有规格和正确编辑\更新等的解决方案在这里出现：

[http://jasoncodes.com/posts/rails-3-nested-resource-slugs#solution](http://jasoncodes.com/posts/rails-3-nested-resource-slugs#solution)

# asp.net - 使用 ASPNETDB 和 CreateUserWizard 在 ASP.NET 中创建用户给出错误

> ID：11083109
> 
> 赞同：1
> 
> 时间：2012-06-18T12:40:19.313
> 
> 标签：asp.net, asp.net-membership, aspnetdb

我正在尝试通过 ASPNETDB 数据库从 ASP.NET 创建用户。

首先，我使用“aspnet_regsql.exe”创建了 ASPNETDB。然后我创建了一个只有一个控件的 ASP.NET 页面——一个`CreateUserWizard`控件。

然后我在 App_Data 文件夹中创建了一个“aspnetdb.mdf”文件。

在运行时，输入所有字段后，当我单击创建用户按钮时，它返回以下错误：

> 无法打开物理文件“C:\Users\ankit\documents\visual studio 2010\Projects\WebApplication6\WebApplication6\App_Data\aspnetdb.mdf”。操作系统错误 32：“32（无法检索此错误的文本。原因：15105）”。尝试为文件 C:\Users\ankit\documents\visual studio 2010\Projects\WebApplication6\WebApplication6\App_Data\aspnetdb.mdf 附加自动命名数据库失败。存在同名数据库，或无法打开指定文件，或位于 UNC 共享上。

请提供一些帮助，因为我是新手。此外，一些链接有如何使用 Membership API 来创建、验证和授权用户以及使用 ASPNETDB 的示例？

和 web.config

```
<connectionStrings> 
 <add name="ApplicationServices" connectionString="data source=BLR-WS-180;Integrated Security=SSPI;AttachDBFilename=|DataDirectory|\aspnetdb.mdf;User Instance=true" providerName="System.Data.SqlClient" /> 
</connectionStrings> 
```

# php - 在 Codeigniter 中使用多个 MySQL 数据库？

> ID：11083113
> 
> 赞同：0
> 
> 时间：2012-06-18T12:40:33.780
> 
> 标签：php, mysql, codeigniter

我有多个基于 CI 的网站，它们都使用自己的默认数据库并且工作得很好。

现在我有一个要求，其中一个网站连接到另一个网站的数据库以获取一些信息（它们在同一台服务器上）但保持本机数据库连接。

我正在使用以下代码连接到其他网站数据库

```
$dsn = 'mysql://econnect_base_user:econnect_base_pass@localhost/econnect_base_db';
$city_db = $this->load->database($dsn, TRUE); 
```

问题是这会重置默认数据库并关闭“city_db”并尝试重新连接默认数据库将不起作用（可能是最愚蠢的事情，但我没有任何其他想法！）

请帮忙。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T12:46:17.253

从[文档](http://codeigniter.com/user_guide/database/connecting.html)中：

> 如果您需要同时连接到多个数据库，您可以这样做：
> 
> ```
> $DB1 = $this->load->database('group_one', TRUE);
> $DB2 = $this->load->database('group_two', TRUE); 
> ```
> 
> 注意：将单词“group_one”和“group_two”更改为您要连接到的特定组名称（或者您可以传递上述连接值）。
> 
> 通过将第二个参数设置为 TRUE（布尔值），函数将返回数据库对象。
> 
> 当您以这种方式连接时，您将使用您的对象名称而不是本指南中使用的语法来发出命令。换句话说，而不是发出命令：
> 
> ```
> $this->db->query(); 
> $this->db->result(); 
> //etc... 
> ```
> 
> 您将改为使用：
> 
> ```
> $DB1->query(); 
> $DB1->result(); 
> ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T12:56:12.567

只需使用普通的 php db 东西：

```
$other_dbh = new PDO("mysql:host=localhost;dbname=$other_db_name", $other_db_user, $other_db_pass);
foreach ($other_dbh->query('SELECT * from FOO') as $row)
    process_info($row); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-19T09:49:19.510

将此代码包含在您的 config/database.php 中希望这对您有用。

```
$active_group = 'default';
$active_record = TRUE;

// first db configuration
$db['default']['hostname'] = 'localhost'; // Hostname
$db['default']['username'] = 'root'; // username
$db['default']['password'] = ''; // password
$db['default']['database'] = 'first_db'; // replace your database name
$db['default']['dbdriver'] = 'mysqli';
$db['default']['dbprefix'] = '';
$db['default']['pconnect'] = TRUE;
$db['default']['db_debug'] = TRUE;
$db['default']['cache_on'] = FALSE;
$db['default']['cachedir'] = '';
$db['default']['char_set'] = 'utf8';
$db['default']['dbcollat'] = 'utf8_general_ci';
$db['default']['swap_pre'] = '';
$db['default']['autoinit'] = TRUE;
$db['default']['stricton'] = FALSE;

// second db configuration
$db['db2']['hostname'] = 'localhost'; // Hostname
$db['db2']['username'] = 'root'; // username
$db['db2']['password'] = ''; // password
$db['db2']['database'] = 'second_db'; // replace your database name
$db['db2']['dbdriver'] = 'mysqli';
$db['db2']['dbprefix'] = '';
$db['db2']['pconnect'] = FALSE;
$db['db2']['db_debug'] = TRUE;
$db['db2']['cache_on'] = FALSE;
$db['db2']['cachedir'] = '';
$db['db2']['char_set'] = 'utf8';
$db['db2']['dbcollat'] = 'utf8_general_ci';
$db['db2']['swap_pre'] = '';
$db['db2']['autoinit'] = TRUE;
$db['db2']['stricton'] = FALSE; 
```

您可以通过加载数据库在任何地方使用这两个数据库

```
$this->load->database();
$this->db->database;
$this->db->database2;
$this->db->query('your query'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-05-19T09:14:02.750

首先在 config/database.php 中设置两个数据库连接。默认情况下，您将看到以下内容。

```
$active_group = 'default';
    $active_record = TRUE;
    $db['default']['hostname'] = '';
    $db['default']['username'] = '';
    $db['default']['password'] = '';
    $db['default']['database'] = '';
    $db['default']['dbdriver'] = 'mysql';
    $db['default']['dbprefix'] = '';
    $db['default']['pconnect'] = TRUE;
    $db['default']['db_debug'] = TRUE;
    $db['default']['cache_on'] = FALSE;
    $db['default']['cachedir'] = '';
    $db['default']['char_set'] = 'utf8';
    $db['default']['dbcollat'] = 'utf8_general_ci';
    $db['default']['swap_pre'] = '';
    $db['default']['autoinit'] = TRUE;
    $db['default']['stricton'] = FALSE; 
```

添加另一个数据库连接设置为 $db['another_db'] 如下

```
 $db['another_db']['hostname'] = '';
    $db['another_db']['username'] = '';
    $db['another_db']['password'] = '';
    $db['another_db']['database'] = '';
    $db['another_db']['dbdriver'] = 'mysql';
    $db['another_db']['dbprefix'] = '';
    $db['another_db']['pconnect'] = TRUE;
    $db['another_db']['db_debug'] = TRUE;
    $db['another_db']['cache_on'] = FALSE;
    $db['another_db']['cachedir'] = '';
    $db['another_db']['char_set'] = 'utf8';
    $db['another_db']['dbcollat'] = 'utf8_general_ci';
    $db['another_db']['swap_pre'] = '';
    $db['another_db']['autoinit'] = TRUE;
    $db['another_db']['stricton'] = FALSE; 
```

然后对于默认数据库，您只需在加载数据库后进行正常查询。

```
$this->load->database();
$this->db->query($sql); 
$this->db->result(); 
```

用于加载 another_db 并进行查询，

```
$another_db= $this->load->database('another_db', TRUE);
$another_db->query($sql); 
$another_db->result(); 
```

# windows - 任务调度程序多语言参数

> ID：11083121
> 
> 赞同：3
> 
> 时间：2012-06-18T12:41:07.160
> 
> 标签：windows, cmd, scheduled-tasks

我正在使用 C# 中的 schtasks 命令，如下所示：

`schtasks /create /sc ONCE ...`

这工作正常，直到我得到一台其他语言的机器。例如，一个德语窗口想要这样的东西：

`schtasks /create /sc EINMAL ...`

我想知道这个星球上的任何人如何为使用不同语言的机器编写工作命令行。（顺便说一句：使用与语言相关的参数制作命令行工具 schtasks 的原因是什么？）

所以有两个问题：

**1）我怎样才能写一个独立于语言的命令行`schtasks`？**
**2）有没有办法将命令行处理器的语言设置为英语？**

编辑：
对不起 - 我错过了一些东西：
- 我使用 .NET 框架 2.0
- 目标系统是 Win7 和 XP。因此我不能使用 TaskScheduler 2.0 API。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T12:50:02.273

您可以为此使用 Microsoft.Win32.TaskScheduler。

请在此处查看 Dmitry 的详细答案：[https ://stackoverflow.com/a/7394955/16522](https://stackoverflow.com/a/7394955/16522)

# flash - ActionScript 3 - Flash CS 5 - 输入文本框异常行为？

> ID：11083125
> 
> 赞同：0
> 
> 时间：2012-06-18T12:41:23.793
> 
> 标签：flash

我目前面临的问题是，当我在输入文本框中输入文本，然后通过按键盘上的“插入”键插入字符来修改单词时，插入字符旁边的直接字符会消失。谁能告诉我为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:03:02.893

这就是插入按钮的作用；这是为了什么。不是闪电侠的错。它曾经在旧版本的 MS Word 中也是如此。只要确保你把它关掉:)

（编辑）我找到了一些关于如何在 Flash 中禁用键盘按钮的信息，**[这](http://help.adobe.com/en_US/ActionScript/3.0_UsingComponentsAS3/WS5b3ccc516d4fbf351e63e3d118a9c65b32-7fac.html)**可能对你有用。

# php - 在 downloadURL 中检索具有特定值的 XML 节点

> ID：11083127
> 
> 赞同：0
> 
> 时间：2012-06-18T12:41:30.900
> 
> 标签：php, javascript, xml, google-maps-api-3

我想知道是否有人可以帮助我。首先，我很抱歉这是一个非常基本的问题，我对使用 XML 很陌生，所以请多多包涵。

我正在使用这部分代码从 MySQL 数据库中成功加载标记数据，并将它们放置在 Google 地图上。

```
 downloadUrl("loadallmyfinds.php", function(data) {  
            var xml = parseXml(data);
            var markers = xml.documentElement.getElementsByTagName("marker");
            for (var i = 0; i < markers.length; i++) { 
            // obtain the attribues of each marker 
            var lat = parseFloat(markers[i].getAttribute("findosgb36lat")); 
            var lng = parseFloat(markers[i].getAttribute("findosgb36lon")); 
            var point = new google.maps.LatLng(lat,lng); 
            var locationname = markers[i].getAttribute("locationname"); 
            var finddescription = markers[i].getAttribute("finddescription"); 
            var html = "<b>" + 'Description: ' + "</b>" + finddescription; 
            var findcategory = markers[i].getAttribute("findcategory"); 
            // create the marker 
            var marker = createMarker(point,html,locationname,finddescription,findcategory);
            } 
```

**XML 输出**

```
<markers>
<marker userid="27" findid="1" locationname="Test Location 1" findosgb36lat="53.0000" findosgb36lon="-1.00000" osgridref="" dateoftrip="21/06/2012" findcategory="Artefact" finddescription="A rare Roman vase."/>
</markers> 
```

`userid`我遇到的问题是，在当前状态下，无论用户如何，都在检索所有记录，但更准确地说，如果元素值与表单上的变量匹配，我需要使该用户特定`$idnum`。

我认为我可以通过上面加载的 PHP 查询来做到这一点，即`loadallmyfinds`使用`GET`子句，但遗憾的是这不起作用。

我已经对此进行了一些研究，并且我相信，根据我有限的知识，我可以通过 XML 实现这一点，但我真的不确定如何实现它。

我只是想知道是否有人可以看看这个，并提供一些关于我如何去做的指导，以便过滤记录。

非常感谢和亲切的问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T14:09:08.383

您在 as 中有用户 ID `$idnum`。因此，请从此更改您的 ajax 请求：

`downloadUrl("loadallmyfinds.php", function(data) {`

对此：

`downloadUrl("loadallmyfinds.php?id=<?php echo $idnum?>", function(data) {`

并在`loadallmyfinds.php`文件中：

**旧评论**

我想您可以将用户标识存储在会话中（`$_SESSION['uid']=$userId;`）

...并在您的`loadallmyfinds.php`文件中，读取此会话变量并仅返回与该用户相关的内容。

# axapta - 单击 Dynamics AX 中的标签后是否可以打开 WebBrowser？

> ID：11083128
> 
> 赞同：2
> 
> 时间：2012-06-18T12:41:36.727
> 
> 标签：axapta

在 Dynamics AX 中的表单上单击按钮/标签/StringEdit 后是否可以打开 Web 浏览器 (IE/Chrome/Firefox)？

先感谢您。

我在 MS Dynamics AX 2012 中开发

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T12:50:56.797

您可以使用[`Info.urlLookup()`](http://msdn.microsoft.com/en-us/library/info.urllookup).

```
infoLog.urlLookup('http://nameofthepageyouwanttoopen.com'); 
```

[如此处](http://axaptafreak.blogspot.be/2008/03/open-web-pages-from-x-code.html)所述。

[或者您可以使用此处](http://dynamics-ax-dev.blogspot.be/2010/06/open-url-in-browser-from-x.html)描述的方法。

```
void clicked()
{
    System.Diagnostics.Process pr = new System.Diagnostics.Process();
    System.Diagnostics.ProcessStartInfo si = new System.Diagnostics.ProcessStartInfo('URL HERE');
    pr.set_StartInfo(si);
    pr.Start();
} 
```

# sql - 从存储过程回滚不起作用

> ID：11083129
> 
> 赞同：0
> 
> 时间：2012-06-18T12:41:39.157
> 
> 标签：sql, oracle, plsql, oracle10g

我正在使用 sqldeveloper 使用“select * from table_name where att1 = 'some_value' for update”查询获取行锁定。并且从 SP 尝试在同一行上使用回滚来释放锁，以防出现异常但回滚在 SP 中不起作用。但是，如果我从 sqldeveloper 回滚，它工作正常并释放锁。

如果我做错了什么，请指导我。这是我的存储过程。

```
DECLARE
  resource_busy    EXCEPTION;
  resource_busy2   EXCEPTION;
  PRAGMA EXCEPTION_INIT (resource_busy, -30006);
  PRAGMA EXCEPTION_INIT (resource_busy2, -00054);
BEGIN
  counter := 0;

  SELECT COUNT (*)
    INTO counter
    FROM TBLACCOUNT
   WHERE TBLACCOUNT.ACCOUNT_ID = RPAD (ACCT_NUM, 20, ' ');

  IF (counter > 0) THEN
    BEGIN
      SELECT TBLACCOUNT.AVAILABLE_BALANCE, TBLACCOUNT.ACTUAL_BALANCE
        INTO Avail_Bal, Curr_Bal
        FROM TBLACCOUNT
       WHERE TBLACCOUNT.ACCOUNT_ID = RPAD (ACCT_NUM, 20, ' ')
       FOR UPDATE WAIT 1;
    EXCEPTION
      WHEN resource_busy OR resource_busy2
      THEN
        ROLLBACK;                      --This rollback is not working.
        RETURN -2;
    END;
  END IF;
END; 
```

每当我使用 select for update 获取锁但不执行回滚时，此 SP 返回 -2。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T14:49:20.717

如果您在与获取锁的 SQL Developer 会话不同的会话中执行存储过程，则发出回滚不会释放锁。SQL Developer 会话（会话 A）持有锁，因此执行存储过程的会话（会话 B）不会对其产生任何影响。只有 Session A 可以发出回滚并释放锁。

如果您在与获取锁的 SQL Developer 会话相同的会话中执行存储过程，则存储过程中的`SELECT ... FOR UPDATE`语句不会生成异常，因为当前会话已经持有锁。这意味着存储过程永远不会进入`EXCEPTION`块并且永远不会发出`ROLLBACK`.

# android - 下载后自动安装apk

> ID：11083130
> 
> 赞同：1
> 
> 时间：2012-06-18T12:41:40.097
> 
> 标签：android, android-asynctask

我有一个使用 Asynctask 从服务器下载 apk 的代码，目前会弹出新的意图并询问用户的权限，如何让应用程序在下载完成后自动安装 apk。我想将安装进度放在通知栏中，就像 google play store 所做的那样:) 下面是我如何显示 apk 的代码：

```
@Override
        protected void onPostExecute(Void unused) {
            Intent intent = new Intent(Intent.ACTION_VIEW);
            intent.setAction(android.content.Intent.ACTION_VIEW);
            intent.setDataAndType(Uri.parse("file:///sdcard/MaxApps/3d.apk"), "application/vnd.android.package-archive");
            startActivity(intent);
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T12:43:36.597

我猜这（幸运的是）不可能，因为用户需要确认新应用程序的安装（特别是如果他们正在请求权限）

# hibernate - 在没有外键的情况下休眠多对一

> ID：11083132
> 
> 赞同：2
> 
> 时间：2012-06-18T12:41:41.983
> 
> 标签：hibernate

我正在寻找有关大型遗留模式映射的一些建议。

这是情况。假设我们有一个名为 BusinessTransaction 的类。此类有几个引用用户 ID 的字段：

```
@Entity
public class BusinessTransaction implements Serializable {

    private Long id;
    private User createdBy;
    private User editedBy;
    private User cancelledBy;

    private String department;
    // etc 

}

public class User implements Serializable {
    private Long id;
    private String department;
    //etc
} 
```

但是，BusinessTransaction 表和 User 表之间没有外键。在 SQL 中，用户将通过部门键上的左外连接连接到 BusinessTransaction。

创建这些外键需要创建连接表。我们的 DBA 不愿意创建外键或连接表，这样做的原因是可以理解的（影响批处理脚本、可能对应用程序产生副作用等）。

我唯一的另一个想法是使用 JoinFormula。但是，@JoinFormula 没有最好的文档，我的理解是数据将是只读的。

我是否忽略了任何有用的东西？

编辑：添加部门。

杰森

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T21:14:58.743

为了在 Hibernate 中声明这些表之间的关系，无需创建外键或连接表。Hibernate 不会验证是否存在此类外键（只要您不要求数据库模式验证）。

但是，请注意，您需要在 User 表上建立适当的索引。索引也独立于外键，但未能创建它们将导致严重的性能损失。

但是您必须注意，如果没有创建外键，如果用户表中的键丢失，您可以预期 Hibernate 的不确定行为（错误）。外键是为了保证数据库的一致性。

# jquery - 使用 jQuery Uploadify 在 RAZOR 中上传文件

> ID：11083138
> 
> 赞同：0
> 
> 时间：2012-06-18T12:42:07.180
> 
> 标签：jquery, asp.net-mvc-3

我想通过 Uploadify 上传图片。

上传时开始给定的错误显示。

**错误：** *IO错误*

你们能帮我解决这个错误吗？

我的代码如下：

**这些指令我已经包含在我的项目中。**

```
<link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" /> <script src="@Url.Content("~/Scripts/js/jquery-1.7.1.min.js")" type="text/javascript"></script>
<link href="@Url.Content("~/Content/custom-theme/jquery-ui-1.8.18.custom.css")" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="@Url.Content("~/Scripts/js/jquery-ui-1.8.18.custom.min.js")"></script>
<link href="@Url.Content("~/Content/uploadify.css")" rel="stylesheet" />
<script src="@Url.Content("~/Scripts/jquery.uploadify.js")" type="text/javascript"></script> 
```

**JS：**

```
$(window).load(
            function() {
                $("#fileuploader").fileUpload({
                        'uploader': '/Scripts/uploader.swf',
                        'cancelImg': '/images/cancel.png',
                        'buttonText': 'Select Image',
                        'script': 'ShowClientQuotation/Upload',
                        'folder': '/images',
                        'fileDesc': 'Image Files',
                        'fileExt': '*.jpg;*.jpeg;*.gif;*.png',
                        'multi': false,
                        'auto': true
                    });
            }
); 
```

**html:**

```
<div id="fileuploader"></div> 
```

**我的控制器名称**：*ShowClientQuotation*

```
public string Upload(HttpPostedFileBase fileData)
        {
            var fileName = this.Server.MapPath("~/images/UserProfilePic/" + System.IO.Path.GetFileName(fileData.FileName));
            fileData.SaveAs(fileName);

            return "ok";
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T09:16:17.857

在 jquery **'fileDataName' 中添加设置：'fileData'**

`

```
$("#fileuploader").fileUpload({
                        '上传者': '/Scripts/uploader.swf',
                        'cancelImg': '/images/cancel.png',
                        'buttonText': '选择图片',
                        '脚本': 'ShowClientQuotation/Upload',
                        '文件夹': '/图像',
                        'fileDesc': '图像文件',
                        'fileExt': ' *.jpg;* .JPEG；*.gif;* .png',
                        “多”：假，
                        “汽车”：是的，
                       'fileDataName': 'fileData',
                    });`
            回答 #2

赞同：0

时间：2013-09-04T13:02:31.803

请检查您在“文件夹”选项中提供的文件夹路径。IO 错误仅在 Uploadify 无法归档应存储文件的文件夹/目录路径时出现。

```

# c++ - Windows：获取 .text 部分的开始和结束

> ID：11083139
> 
> 赞同：1
> 
> 时间：2012-06-18T12:42:09.890
> 
> 标签：c++, windows, portable-executable

我可以通过执行以下命令成功检索在我的进程中加载​​的模块的基地址：

```
MODULEINFO mInfo;
GetModuleInformation(GetCurrentProcess(),GetModuleHandle(L"moduleName"),&mInfo,sizeof(mInfo));
LPVOID baseAddress = mInfo.lpBaseOfDll; 
```

但是现在如何检索该`.text`模块部分的开始和结束地址？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T14:40:02.407

应用程序和模块（也称为任何可执行代码）是基于 Microsoft 指定的所谓“[可移植可执行文件](http://msdn.microsoft.com/en-us/magazine/cc301805.aspx)”格式构建的。为了检索您想要的信息，您必须遍历内存中的逻辑表，并根据 PE 格式访问所需的成员。部分主机数据和代码。为了检索节的开头和结尾（例如.text），您必须检查节标题并检索它是否可执行。[Matt Pietrek](http://msdn.microsoft.com/en-us/magazine/cc301805.aspx)编写的标准文档必须被视为 PE 的“入门”。

# wcf - 如何通过 Internet 使用 WCF 双重服务？

> ID：11083143
> 
> 赞同：5
> 
> 时间：2012-06-18T12:42:23.680
> 
> 标签：wcf, callback, nettcpbinding, wsdualhttpbinding

我遵循了本教程（至少基于我的 WCF，因为我需要像这样工作）： [http ://www.eggheadcafe.com/tutorials/wcf/b5ada8df-58c5-492f-b368-457b3a4f137c/notify-client-应用程序-使用-wcf-callbacks.aspx](http://www.eggheadcafe.com/tutorials/wcf/b5ada8df-58c5-492f-b368-457b3a4f137c/notify-client-applications-using-wcf-callbacks.aspx)

它在我的电脑上运行良好，但我需要通过互联网使用它。在尝试这样做时，我听说（通过互联网）使用 netTcpBiding 更好。

我将拥有一台服务器，它将了解在线客户端的数量。我想要服务器中我的 IIS 上的 WFC 服务，以及使用它并通知它的 Windows 服务。我需要回调，因为服务器有时必须能够在客户端上执行一些命令。

如果有人可以帮助我，我会非常高兴。

提前致谢，

***编辑：***

让自己清楚：我只是无法让它在互联网上工作。你们能告诉我如何更改我的配置（Web.config e App.config）以使用 netTcpBinding 并通过互联网工作吗？

再次感谢，

***编辑2：***

我的 WCFServiceApplication 中的 Web.config 是：

```
<?xml version="1.0"?>
<configuration>
  <system.web>
    <compilation debug="true" targetFramework="4.0" />
  </system.web>
  <system.serviceModel>
    <bindings>
      <wsDualHttpBinding>
        <binding name="WSDualHttpBinding_IPCWatcherWCFService" closeTimeout="00:01:00"
            openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
            bypassProxyOnLocal="false" transactionFlow="false" hostNameComparisonMode="StrongWildcard"
            maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
            messageEncoding="Text" textEncoding="utf-8" useDefaultWebProxy="true">
          <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
              maxBytesPerRead="4096" maxNameTableCharCount="16384" />
          <reliableSession ordered="true" inactivityTimeout="00:10:00" />
          <security mode="Message">
            <message clientCredentialType="Windows" negotiateServiceCredential="true" algorithmSuite="Default" />
          </security>
        </binding>
      </wsDualHttpBinding>
    </bindings>
    <services>
      <service behaviorConfiguration="TiT.PCWatcher.Server.WCFService.Services.PCWatcherWCFServiceBehavior" name="TiT.PCWatcher.Server.WCFService.Services.PCWatcherWCFService">
        <endpoint address="" binding="wsDualHttpBinding" bindingConfiguration="WSDualHttpBinding_IPCWatcherWCFService" contract="TiT.PCWatcher.Server.WCFService.Interfaces.IPCWatcherWCFService">
          <identity>
            <dns value="localhost" />
          </identity>
        </endpoint>
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name="TiT.PCWatcher.Server.WCFService.Services.PCWatcherWCFServiceBehavior">
          <serviceMetadata httpGetEnabled="true"/>
          <serviceDebug includeExceptionDetailInFaults="false"/>
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <serviceHostingEnvironment multipleSiteBindingsEnabled="true" />
  </system.serviceModel>
  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true"/>
  </system.webServer>
</configuration> 
```

我的 WindowsService 中的 App.config 是：

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <system.serviceModel>
    <bindings>
      <wsDualHttpBinding>
        <binding name="WSDualHttpBinding_IPCWatcherWCFService" closeTimeout="00:01:00"
          openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
          bypassProxyOnLocal="false" transactionFlow="false" hostNameComparisonMode="StrongWildcard"
          maxBufferPoolSize="524288" maxReceivedMessageSize="65536" messageEncoding="Text"
          textEncoding="utf-8" useDefaultWebProxy="true">
          <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
            maxBytesPerRead="4096" maxNameTableCharCount="16384" />
          <reliableSession ordered="true" inactivityTimeout="00:10:00" />
          <security mode="Message">
            <message clientCredentialType="Windows" negotiateServiceCredential="true"
              algorithmSuite="Default" />
          </security>
        </binding>
      </wsDualHttpBinding>
    </bindings>
    <client>
      <endpoint address="http://localhost:25145/Services/PCWatcherWCFService.svc"
        binding="wsDualHttpBinding" bindingConfiguration="WSDualHttpBinding_IPCWatcherWCFService"
        contract="PCWatcherWCFServiceReference.IPCWatcherWCFService"
        name="WSDualHttpBinding_IPCWatcherWCFService">
        <identity>
          <dns value="localhost" />
        </identity>
      </endpoint>
    </client>
  </system.serviceModel>
</configuration> 
```

只是将其更改为 netTcpBinding 不起作用...

但我很高兴能够在互联网上运行它......我在 IIS 上发布了 WCFService。链接：

[https://www2.tcenter.com.br/monitor/PCWatcherWCFService.svc](https://www2.tcenter.com.br/monitor/PCWatcherWCFService.svc)

或者

[http://www2.tcenter.com.br:8080/monitor/PCWatcherWCFService.svc](http://www2.tcenter.com.br:8080/monitor/PCWatcherWCFService.svc)

只需更改配置就足以使其通过互联网工作吗？就像我说的，本地它工作得很好。

我认为只需将客户端上的端点地址更改为它上面的 URL 之一就可以了，但它没有......

您链接的示例在 WPF 上托管服务。我不知道它是否适用于我的场景......

我想我会坚持使用 DualHttpBinding，你不认为端口转发对我的需求有好处，我可以在一个 Intranet 中有很多客户端，并让路由器决定他要发送信息的那个因为这不好对吧？或者有一种方法可以让路由器正确响应通过同一端口连接到我的网络服务器的每台机器？！（随便问问，呵呵）

非常感谢提前，

***2012 年 6 月 21 日编辑：***

感谢您的阅读。我无法让服务在 LAN 中与 netTcpBinding 一起使用。我做了一个我的场景的模拟样本。它在[这里](https://skydrive.live.com/?cid=217C8EE366E04061&id=217C8EE366E04061!119)。称为 DualCommunicationTest。

当我开始这篇文章时，我只是想知道如何让这个 cenarion 在互联网上运行。只是。在我在这里发布之前寻找解决方案期间，我读到 netTcpBinding 更好。所以我问了这件事。这只是一个附带问题。

所以......我目前对帖子的需求是：

如何使用我在互联网上[开发的示例。](https://skydrive.live.com/?cid=217C8EE366E04061&id=217C8EE366E04061!119)

或者

如何使[我开发的示例](https://skydrive.live.com/?cid=217C8EE366E04061&id=217C8EE366E04061!119)与 netTcpBinding 一起使用，然后能够在 Internet 上使用它。（我很确定[Clunky Coder](https://stackoverflow.com/users/189756/clunky-coder)教了我第二部分，关于如何使用 IIS 和其他东西在互联网上发布 net.tcp，非常感谢，但我还不能测试它，因为我不能还没有做 netTcp。）

对不起，如果我不够清楚，我的英语不太好。抱歉，再次感谢，非常感谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T13:14:06.473

`netTcpBinding`对于双工通信（与回调的通信）更好，并且它比`WSDualHttpBinding`通过 HTTP 进行双工通信的首选绑定具有更高的性能。但是您不应该真正`netTcpBinding`通过 Internet 使用，尽管您在技术上*可以*并且它可能有效，但是`netTcpBinding`使用的端口可能（并且通常）被 Internet 上的防火墙阻止。当您通过 Internet 发送内容时，它会产生大量的跃点并通过大量的路由器和防火墙，并且无法保证这些路由器和防火墙会打开所有端口。但是，如果您可以在客户端和服务器端点（通常通过路由器上的端口转发完成）上打开端口（对于 netTcp，它是 TCP 808），它可能会起作用，但一般建议是不要使用`netTcpBinding`通过互联网。话虽如此，我已经将它用于我的服务几次，并且我的客户已经能够毫无问题地通过互联网使用该服务 - 在我转发客户端和服务器端的端口之后。

通常，对于 Internet 上的双工通信，您有[WSDualHttpBinding](http://msdn.microsoft.com/en-us/library/system.servicemodel.wsdualhttpbinding.aspx)，如果您有 Silverlight 客户端（Silverlight 不支持`WSDualHttpBinding`），您可以使用[PollingDuplexHttpBinding](http://msdn.microsoft.com/en-us/library/system.servicemodel.pollingduplexhttpbinding%28v=vs.95%29.aspx)。

我还建议您阅读[此](http://www.code-magazine.com/article.aspx?quickid=0605051&page=3)内容。

**编辑：**

要将该示例更改为使用`netTcpBinding`，只需将配置文件中的绑定更改为使用`netTcpBinding`而不是`wsDualHttpBinding`. 看看[这篇文章](http://www.codeproject.com/Articles/25261/A-WCF-WPF-Chat-Application)，它和你发布的链接一样，`netTcpBinding`还有更多的解释。

**编辑 20/06/2012：**

> 让自己清楚：我只是无法让它在互联网上工作。你们能告诉我如何更改我的配置（Web.config e App.config）以使用 netTcpBinding 并通过互联网工作吗？

似乎您能够`netTcpBinding`在 LAN 中使用该服务，因此您之前的问题现在已解决，您现在无法在 IIS 中托管该服务并在线发布它。当您的服务在 LAN 中运行时，一旦您在 IIS 中托管它并在客户端和服务器路由器上转发适当的端口，它就会在 Internet 上运行，这是一种常见的情况，并且在网上有很好的记录。为此，您必须将您的服务作为应用程序托管在您的 IIS 网站中。您需要确保您的服务有一个指向服务位置的 .svc 文件，然后将 App.Config（服务配置文件）的内容复制到新的 web.config（与您的 App 在同一物理目录中） .config) 并删除`<host><baseAddresses>`在新创建的 web.config 部分中，将应用程序的物理路径指向服务主机上此服务的位置。一旦处理完毕，请务必编辑默认网站绑定以启用您的服务使用的特定绑定，`netTcpBinding`转到：网站 -> '编辑绑定...' -> '添加...'，然后选择网络。 tcp 并为其分配端口。然后在您的应用程序上转到“高级设置”并启用 net.tcp，`netTcpBinding`服务通常具有已`http,net.tcp`启用的协议。如果您遇到初期错误，请确保默认应用程序池（或您的网站正在使用的任何应用程序池）具有访问和读取服务所在服务器上的物理目录所需的权限。

请阅读[这个](http://blogs.msdn.com/b/santhoshonline/archive/2010/07/01/howto-nettcpbinding-on-iis-and-things-to-remember.aspx)和[这个](http://galratner.com/blogs/net/archive/2010/10/08/setting-up-a-nettcpbinding-enabled-wcf-service-in-iis-7.aspx)，让我详细说明只会重复他们所说的话。

**编辑 21/06/2012：**

我刚刚下载了您的服务并将其托管在 IIS 中，并且托管得很好，因为它使用的是 HTTP 而不是 nettcp，这意味着它在 Internet 上工作得非常好。如果您的服务很简单，并且您不希望对其进行繁重的处理（从外观上看，您只是试图获取连接到它的客户端列表），那么请坚持使用，`wsDualHTTPBinding`因为 HTTP 协议可以在任何环境，您不必像使用`netTcpBinding`. 这就是我在 IIS 中托管服务所做的一切（并使其通过 Internet 可用）：

1.  转到 IIS 中的 DefaultWebsite，右键单击，添加应用程序，在 Alias 下为您的服务提供您希望能够在 URL 中看到的任何名称。选择默认应用程序池或 ASP.NET 4.0 应用程序池。

2.  将物理路径指向您的 .svc 文件在您的计算机上的位置；对我来说：

`C:\Users\MyPC\Documents\DualCommunicationTest.Server\WcfServiceApp`

1.  在启用的协议下，确保您在端口 80 或任何其他端口（例如 8085）上有 HTTP，但您需要将路由器上的此端口转发到服务主机。如果您的服务主机位于 LAN 中的 IP 192.168.1.4 上，则在您的路由器上将端口 80（或您使用的任何端口，例如 8085）转发到计算机 192.168.1.4。

就这么容易。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T12:48:02.920

TCP 绑定更适合 Internet 上的回调，因为 TCP 本质上是双向的。HTTP 是一个请求，它只是一种方式。因此 dualHttpBinding 中的对偶。WCF 必须创建第二个返回到客户端的 HTTP 连接，以便服务可以向客户端发送请求。

Internet 并没有真正为服务器设置以通过 HTTP 进行回调。路由器执行 NAT 之类的事情意味着必须转发端口才能正确路由 HTTP 请求，并且客户端必须运行 HTTP 服务器。

因此，使用 TCP 要容易得多。无论是这样还是可能让客户端请求从服务器端流式传输的回复对象（实际上是一个永无止境的回复），服务器可以触发通知。不过这并不简单。

# java - Twitter4j 中 Twitter 用户的电子邮件

> ID：11083145
> 
> 赞同：4
> 
> 时间：2012-06-18T12:42:30.250
> 
> 标签：java, twitter-oauth

twitter4j 能否获取 twitter 用户授权应用程序/网站的电子邮件。

我能够获得如下屏幕名称：

```
User user = twitter.showUser(id);
String screenName = user.getScreenName(); 
```

邮箱呢？可能吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T05:08:31.897

您可以使用以下 API 获取用户详细信息：[http ://api.twitter.com/1/users/lookup.xml?user_id=YOUR_USER_ID](http://api.twitter.com/1/users/lookup.xml?user_id=YOUR_USER_ID)

Twitter 表示它不提供任何用于电子邮件检索的 API。[https://dev.twitter.com/docs/faq#6718](https://dev.twitter.com/docs/faq#6718)

# java - android 设备中的等效标签控件是什么？

> ID：11083148
> 
> 赞同：1
> 
> 时间：2012-06-18T12:42:37.023
> 
> 标签：java, android, oop

任何人都知道android设备中的标签控件的等价物吗？文本框或类似的东西？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-18T12:45:24.803

它是文本视图。

阅读：[点击这里](http://developer.android.com/reference/android/widget/TextView.html)

它向用户显示文本。

# python - python open() 函数问题

> ID：11083150
> 
> 赞同：3
> 
> 时间：2012-06-18T12:42:42.443
> 
> 标签：python, python-3.x

我正在编写的文件也有问题，基本上我想要它做的是，我得到一个输入（）说“输入你的名字：”存储在一个变量中，现在我创建了文件写了我想要的并且根据该人的 input() 我想将该信息放入文件中的特定行...

这就是我所做的并且它有效，但它覆盖了当前文本，而不是插入文本并将当前文本转移到......

例如;

```
index = open('index.html' 'w')
index.write(""" blah blah blah
                blah blah blah
                blah """)
index.seek(20)
index.write(variable)
index.close() 
```

现在我想要变量做的就是像它正在做的那样进入文件，但不覆盖当前文本，任何建议都将不胜感激。

我正在使用 Python3.2。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T12:49:44.807

要将文本插入文件，请将文件中的文本读入变量。将文本插入正确的位置，然后将文本写回文件。

像这样：

```
with open("filename", 'rt', encoding="utf8") as infile:
    text = infile.read()

text = text[:20] + 'inserted text' + text[20:]

with open("filename", 'wt', encoding="utf8") as outfile:
    outfile.write(text) 
```

但是，根据您的问题，我怀疑该文件实际上事先并不存在，在这种情况下，最好的方法是先将整个文本创建为变量，然后将其写入文件。

# php - 复制网站的最佳方法

> ID：11083157
> 
> 赞同：1
> 
> 时间：2012-06-18T12:42:58.003
> 
> 标签：php, javascript, jquery, html, replication

我最近为我的一个客户创建了一个目录。该网站是完整的，但是他想要该网站的复制版本，以便他可以测试该网站并学习如何使用它。

要完全复制他的网站需要几个小时，因为我必须更改网站中的每个超链接和 URL。

由于我的客户有点咄咄逼人并希望快速完成，我想知道是否可以创建一个测试网站并添加一个小 javascript 来每次替换他的 URL（直到我创建一个完整的测试解决方案？）。

例如，如果它是：

```
<a href="www.mydomain.com/contact-us">Test</a> 
```

它将替换为：

```
<a href="www.mydomain.com/test/contact-us"></a> 
```

这可能吗？暂时推荐，直到我创建一个完整的测试解决方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T12:49:53.350

您确实应该使用相对路径，以便文件相互交互，无论文件位于何处。

也就是说，这是一个可能的快速 JS 解决方案，您可以在使链接相对而不是绝对链接时暂时使用：

```
$("a").each(function() {
  var href = this.href;
  href = href.replace("mydomain.com/", "mydomain.com/test/");
  this.href = href;
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T12:51:32.647

当然可以用 javascript 来整理你的超链接，特别是使用像 jQuery 这样的框架真的很容易。

```
$('a').each(Function(e){
 e.attr('href', e.attr('href').replace(/http:\/\/mainsite.com/gi, 'http://newsite.com'));
}); 
```

希望您的 css 文件、链接 href 等中的 URL 是相对的，否则您也需要更改它们。在这一点上，一个 php 解决方案会更合适。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T18:52:00.513

在 Notepad++ 或任何支持文件替换的编辑器中打开站点文件，然后通过文件进行替换（N++ 会自动为您执行此操作），用配置变量替换实时 URL，然后根据需要设置 URL 变量以进行测试地点。

现在您有一个用于 URL 的配置变量，如果客户端想要更改域或者您想要部署到其他地方，这将很容易。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T12:51:41.027

`wget`命令行实用程序有一个选项`--convert-links`。如果您使用该选项下载网站，`wget`则会以“本地浏览可靠地工作”的方式转换链接。

# android - 如何为 Android phonegap 1.8.0 应用启用 cookie？

> ID：11083160
> 
> 赞同：3
> 
> 时间：2012-06-18T12:43:05.993
> 
> 标签：android, cookies, cordova

我知道为了在 phonegap 原生应用程序中使用 cookie，必须有一段代码可以启用它。

当使用 xcode 4 为 iOS 构建 phonegap 时，phonegap 模板中有这样一段代码。

您能否建议我为 Android phonegap 1.8.0 应用程序启用 cookie 需要放置哪些代码和位置？

请注意，我正在使用 eclipse Indigo 3.7.2 来构建应用程序。

非常感谢。

干杯，西尼萨。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-18T14:27:26.443

如果您尝试使用本地 cookie (file://)，您必须让父 Phonegap 项目接受本地 cookie。为此，您的 PhoneGap 项目中应该有一个名为 youappname.java 的文件，可能包含以下内容或类似内容：

```
import android.os.Bundle;
import org.apache.cordova.*;

public class App extends DroidGap {
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    super.loadUrl("file:///android_asset/www/index.html");
}
} 
```

修改它看起来像这个例子：

```
import android.os.Bundle;
import android.webkit.CookieManager;
import org.apache.cordova.*;

public class App extends DroidGap {
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    CookieManager.setAcceptFileSchemeCookies(true);
    super.onCreate(savedInstanceState);
    super.loadUrl("file:///android_asset/www/index.html");
}
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-12T14:16:59.597

你真的想做

```
import android.webkit.CookieManager;
import org.apache.cordova.*;

public class MainActivity extends DroidGap {

  @Override
  public void onCreate(Bundle savedInstanceState) {
      try{
          CookieManager.setAcceptFileSchemeCookies(true);
      }catch(Throwable e){} 
```

由于 CookieManager 在较旧的 Android 版本上不存在

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:07:51.673

如果我的记忆很好，Phonegape 的模板会通过从 web 视图（类似于 : `super.loadUrl("file:///android_asset/www/index.html");`）加载您的启动网页（例如：index.html）来加载它。后者在主要活动（“.java”文件）中声明。

因此，首先，找到加载 Web 应用程序的指令。然后，在之前添加以下行，`webview.loadUrl`以便您可以获得类似这样的内容：

```
CookieSyncManager.createInstance(this);
CookieSyncManager.getInstance().startSync();
webView = (WebView) findViewById(R.id.webview);
webview.getSettings().setJavaScriptEnabled(true);
super.loadUrl("file:///android_asset/www/index.html"); 
```

最后，刷新 Android 的项目并重新启动应用程序。

# ruby-on-rails - 在同一动作中渲染 2 个部分，或替代该动作

> ID：11083162
> 
> 赞同：0
> 
> 时间：2012-06-18T12:43:11.497
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我有一个带有各种按钮和 2 个选择的表单，如下所示：

```
|button1| |button2| |button3| |button4| |button5|

text fields
check boxes
etc

|select1|
somethings in the middle
|select2| 
```

当我单击一个按钮时，将对控制器进行 ajax 调用并填充 2 个集合。
我怎样才能使 2 选择被刷新？
我已将选择放在 2 个不同的部分中，但没有双重渲染之类的东西。我试图将不同的集合变量传递给相同的部分，如下所示：

```
render :partial => "list", :object => @list1, :as => list
render :partial => "list", :object => @list2, :as => list 
```

它也没有奏效......有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:01:52.940

在这种情况下，您可能只想有一个部分。例如，调用它`_main_lists`（或你有什么）。您的控制器将创建`@list1`和`@list2`集合，并将它们传递给`main_partial`. `main_partial`然后会以与您的问题完全相同的方式呈现您的个人列表。

您的 AJAX 请求现在将返回两个列表，因为它返回了一个称为 2 个局部的局部。

您拥有的另一个选择是将列表作为 JSON 返回，然后使用它。

# c# - 将消息传递给 Caliburn Micro 中的静态类

> ID：11083163
> 
> 赞同：1
> 
> 时间：2012-06-18T12:43:13.707
> 
> 标签：c#, wpf, mvvm, caliburn.micro

我正在使用 Caliburn Micro 在 WPF 中实现 MVVM。

我有一个名为 JIMSMessageBox 的静态类，还有一个名为 MessageViewModel 的 ViewModel。

实际上，这些类帮助我超越了普通的 MessageBox。

我曾经通过调用 JIMSMessageBox

```
JIMSMessageBox.Show("Hello World!"); 
```

但是，现在我也想在同一个类 JIMSMessage 中实现一个 ConfirmBox。但我的问题是当我向用户显示确认框时，他可能会接受或拒绝。因此，如果用户在 MessageWindow 中单击 OK，我必须向 JIMSMessage.Confirm 返回 true，否则如果单击 Cancel，我必须返回 false。

我如何使用 Caliburn Micro 来实现这一点。

我需要将 JIMSMessage 作为静态类。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T21:46:40.970

你应该能够做一些类似于我对这个问题的回答[https://stackoverflow.com/a/10604692/263665](https://stackoverflow.com/a/10604692/263665)的事情。

您可以将对视图模型的引用传递到静态方法中，以帮助显示“确认”功能的自定义视图并存储状态/结果。

# django - Dajax 安装

> ID：11083168
> 
> 赞同：0
> 
> 时间：2012-06-18T12:43:39.450
> 
> 标签：django, dajaxice

我在安装 Dajax 时遇到了严重问题。然而 dajaxice 工作正常 dajax 没有响应。 `INSTALLED_APPS = ( ... 'dajaxice', 'dajax', ...)`

`TEMPLATE_CONTEXT_PROCESSORS = ("... "django.core.context_processors.request", ...)`

`TEMPLATE_LOADERS = ( ... 'django.template.loaders.eggs.Loader', )`

头部部分包含这些元素：

`{% load dajaxice_templatetags %}`

`src="/static/js/jquery.js" src="/static/js/functions.js" src="/static/js/jquery.dajax.core.js"`

`{% dajaxice_js_import %}`

除此之外，我`ajax.py`的一个应用程序中有示例函数。我应该做更多吗？你看到任何错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T03:49:11.923

有点晚了 - 但我没有看到任何明显的错误。也许您可以先尝试获取有关该问题的一些信息。您的 settings.py 是否有：

```
DEBUG = True 
```

您可能想将一些记录器添加到 settings.py - 例如：

```
'dajaxice': {
   'handlers': ['file', 'console'],
   'level': 'WARNING',
   'propagate': True,
   },
'dajaxice.DajaxiceRequest': {
   'handlers': ['file', 'console'],
   'level': 'WARNING',
   'propagate': True,
   },
} 
```

您也没有说明您的 ajax.py 是否已导入所需的模块，可能值得检查：

```
from dajax.core import Dajax
from dajaxice.decorators import dajaxice_register 
```

并且来自文档 dajax 需要 jQuery 1.6.2（根据我的经验及以上）。你用的是什么版本？

最后 - 确保将注册装饰器添加到 ajax.py 函数中，或者按照文档[http://docs.dajaxproject.com/dajaxice/create-my-first-dajaxice-function.html#create-注册它们你的 ajax 函数](http://docs.dajaxproject.com/dajaxice/create-my-first-dajaxice-function.html#create-your-ajax-function)

例如：

```
@dajaxice_register
def myexample(request):
    return simplejson.dumps({'message': 'Hello World'}) 
```

我喜欢 Dajax/Dajaxice，尽管它允许我（或者我允许自己）进入一大堆在 python/django 和 js 之间来回循环的意大利面条碗。

# java - Java：Json 异常

> ID：11083170
> 
> 赞同：0
> 
> 时间：2012-06-18T12:43:57.110
> 
> 标签：java, java-me

我在 J2ME 中工作。

我从服务器收到 json 响应，然后我尝试根据我的要求解析这个 json 数据。

这是我从服务器获取响应的代码：-

```
InputStream inputStream = null;
        OutputStreamWriter out = null;
        byte[] readData = new byte[50000];

        String response = "no";

try {
            // --- write ---
            out = new OutputStreamWriter(connection.openOutputStream(), "UTF-8");
            out.write(data.toString());
            out.close();
            // --- read ---

            int responseCode = connection.getResponseCode();

            if (responseCode != HttpConnection.HTTP_OK) {
                throw new IOException("HTTP response code: " + responseCode);
            }

            inputStream = connection.openInputStream();

            int actual = inputStream.read(readData);

            response = new String(readData, 0, actual, "UTF-8");

            return response;

        } 
```

当来自服务器的响应很小时，它可以正常工作，但是如果响应很大，那么它会得到一半的响应并返回到我的另一个方法。请建议我应该怎么做才能将大量数据放入我的**readData**和**响应**变量中。

先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T12:45:40.597

您需要先读取**所有数据**（流中可能有更多数据）。

正如您注意到的那样，调用`InputStream.read`并不能保证您会填充缓冲区（`readData`），它会返回当时可以读取的字节数。你的缓冲区有多大并不重要。

您将需要重新调用该`InputStream.read`方法以检查您是否拥有流中可用的所有数据。当没有更多数据可用时，该`read`方法将返回。`-1`

* * *

这是一个如何做到这一点的例子：

```
....

ByteArrayOutputStream bos = new ByteArrayOutputStream();

int read;
byte[] tmp = new byte[1024];
while ((read = inputStream.read(tmp)) != -1)
    bos.write(tmp, 0, read);

return new String(bos.toByteArray(), "UTF-8"); 
```

* * *

*此外，当您完成后，`connection`您应该调用`close`它，以便系统知道您不再需要它。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T12:56:13.763

您需要在阅读后刷新并关闭您的输入流！！！

```
inputStream.close(); 
```

# c++ - 为什么我在此代码上得到“呼叫不匹配”？

> ID：11083171
> 
> 赞同：1
> 
> 时间：2012-06-18T12:43:57.443
> 
> 标签：c++

让我们看看我想这样做，我想获得树的父节点，然后对节点求和并将结果放在父节点中，这是多线程的。我正在使用队列来凝视可以求和的节点等。

我面临的问题是这个

```
error: no match for call to ‘(Triplets) (int&, int&, bool&, NodeT*&)’ 
```

代码来自这个

```
void find_triplets(NodeT *ptrRoot)
{
   if (ptrRoot != NULL)
    {
    find_triplets(ptrRoot->left);
    find_triplets(ptrRoot->right);

    cout << "find triplets and save them to the queue" << endl;
        cout << " we hit a hot spot is null the root, nothing to see here move along boys" << endl;

     if(ptrRoot->left != NULL && ptrRoot->right != NULL)
        {

        if (ptrRoot->left->done == true && ptrRoot->right->done == true)
        {
        cout << "we got one of 2 sons true so do something, this are the sons "
 << ptrRoot->left->key_value << " " << ptrRoot->right->key_value << endl;         

        cout << "sum them and put it in the father and set it to true " << endl;
        ptrRoot->key_value = ptrRoot->left->key_value + ptrRoot->right->key_value;
        ptrRoot->done = true;
        cout << "thread queue " << endl;
       triplet(ptrRoot->left->key_value, ptrRoot->right->key_value, ptrRoot->done, ptrRoot);
        qThreads.push(triplet);

        }
     }
        } 
```

三胞胎班是这样的

```
class Triplets
{
public:
  int nVal1;
  int nVal2;
  NodeT *ptrNode;
  bool bUpdate;

  Triplets()
  {
    nVal2 = 0;
    nVal1 = 0;
    bUpdate = false;
    ptrNode = NULL;
  }

  ~Triplets()
  {
    delete ptrNode;
  }

  Triplets(int nVal1, int nVal2, bool bUpdate, NodeT *ptrNode)
  {
    this->nVal2 = nVal2;
    this->nVal1 = nVal1;
    this->bUpdate = bUpdate;
    this->ptrNode = ptrNode;
  }

  void form_triplet(int nval1, int nVal2, bool bUpdate, NodeT *ptrNode)
  {
    this->nVal2 = nVal2;
    this->nVal1 = nVal1;
    this->bUpdate = bUpdate;
    this->ptrNode = ptrNode;
  }
}; 
```

所以我想做的是将实际对象存储在队列中以对其进行修改，而不是对其进行复制。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T12:56:03.410

看来`triplet`您的`find_triplets`函数中是一个`Triplets`实例。因此，编译器将该行解释为尝试`operator()`使用这四个参数调用其函数，但是您的`Triplets`类没有这样的运算符，因此您会收到上面报告的错误消息。

您可能意味着要声明另一个`Triplets`变量（名为`triplet`），或者调用`triplet.form_triplet`而不是`triplet.operator()`.

```
Triplets triplet(ptrRoot->left->key_value, ptrRoot->right->key_value, ptrRoot->done, ptrRoot);
// or
triplet.form_triplet(ptrRoot->left->key_value, ptrRoot->right->key_value, ptrRoot->done, ptrRoot); 
```

# sql - 如何使用排名列维护有序列表？(SQL)

> ID：11083173
> 
> 赞同：1
> 
> 时间：2012-06-18T12:44:09.417
> 
> 标签：sql

考虑一个包含以下列的表：

```
ID, Name, Rank 
```

数据如下：

```
100, John, 1
200, Steve, 2
300, Mike, 3
400, Ben, 4
500, Jake, 5 
```

等级是独一无二的。

如果我想给 Ben 2 的排名并相应地更新其余部分，那么更新表格的最佳方法是什么，以便我最终得到

```
100, John, 1
400, Ben, 2
200, Steve, 3
300, Mike, 4
500, Jake, 5 
```

有没有比将 Ben 的等级更改为 2 并更新他的新旧等级之间的每一行更聪明的方法呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:15:04.913

这是另一种方法。这将避免重复键问题（假设您对 Rank 有唯一约束）。如果等级低于当前等级，则更新为工作。

```
DECLARE @ID int, @NewRank int, @CurrentRank int, @LowRank int, @HighRank int
SET @ID=400
SET @NEWRANK=2

SELECT @CurrentRank = Rank FROM MyTable WHERE Id = @ID
SET @LowRank = CASE WHEN @NewRank < @CurrentRank THEN @NewRank ELSE @CurrentRank END
SET @HighRank = CASE WHEN @NewRank < @CurrentRank THEN @CurrentRank ELSE @NewRank END

UPDATE MyTable SET Rank = -Rank WHERE Rank BETWEEN @LowRank AND @HighRank

UPDATE MyTable SET Rank = @NewRank WHERE ID = @ID

UPDATE MyTable SET Rank = 
    CASE 
    WHEN @NewRank < @CurrentRank THEN  -Rank + 1
    ELSE -Rank - 1
    END
WHERE Rank < 0 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:33:31.607

If you want to be unnecessarily fancy about it (or have other reasons to do it this way,) and you can plan on just updating the rank of the single row being moved with a single update query, you can use a trigger to force the other rows to update. This would be done as follows:

```
CREATE OR REPLACE TRIGGER [dbo].[tr_RankChange]
  ON [dbo].[table_name]  Before UPDATE AS 
  BEGIN 
    Update [dbo].[table_name] Set Rank = Rank + 1 Where rank >= New.Rank
    Update [dbo].[table_name] Set Rank = Rank - 1 Where rank >= Old.Rank
  END 
```

I basically wanted to point out that it can be done thing way, not recommend doing it. It is not recommended if you're not familiar with all the other logic that wil lbe applied to the table; if this will be a large scale project with other things going on, you may want to be very careful due to the possible complexity of triggers.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T13:10:36.490

由于有一些来回，这就是我将如何做到这一点（使用 SQL Server 表示法）：

```
SELECT @CurrentRank = Rank FROM TableName WHERE Id = @SelectedId

UPDATE TableName
SET Rank= 
CASE
    WHEN Id = @SelectedId THEN @NewSelectedRank
    WHEN @NewSelectedRank < @CurrentRank 
        AND Rank >= @NewSelectedRank AND Rank < @CurrentRank
    THEN Rank = Rank + 1
    WHEN @NewSelectedRank > @CurrentRank 
        AND Rank <= @NewSelectedRank AND Rank > @CurrentRank
    THEN Rank = Rank - 1
END 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T12:53:17.897

是否可以根据您可以订购的其他一些列动态计算 yoru 排名？如果是这样，那么您可以使用某些 RDBMS 中的 ROW_NUMBER 函数来相应地计算和更新您的排名。

如果不是，另一种方法（一种作弊）是使用小数作为您的排名，并为 Ben 分配 1.5 的值 :) 这是假设您没有直接从数据库中显示排名。

# objective-c - 自动释放方法泄漏

> ID：11083182
> 
> 赞同：2
> 
> 时间：2012-06-18T12:45:04.330
> 
> 标签：objective-c, ios, memory-leaks

大家好，

这些天我被困在一些内存泄漏上。我正在制作的应用程序是这样工作的：

1 - 将文件加载到内存中
2 - 根据在该文件上读取的一些值创建屏幕
3 - 显示视图

当我启动应用程序并进入第一个屏幕时，现在一切正常。没有泄漏。

但是当我想从当前视图加载另一个屏幕时，我从自动释放的对象中得到了很多泄漏。而且我不明白，因为当我从当前视图加载新视图时，过程是相似的：

1 - 当前视图的描述
2 - 将文件加载到内存中
3 - 根据在该文件上读取的一些值创建一个屏幕
4 - 显示视图

以下是一些泄漏的具体示例：

```
-(NSString*)pathForApplicationName:(NSString*)appName
                         withImage:(NSString*)imagePath { 
       NSArray *searchPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,    NSUserDomainMask, YES);
       NSString *documentPath = [searchPaths lastObject];
       return [NSString stringWithFormat:@"%@/%@/assets/www/%@",documentPath,[self convertSpacesInDashes:appName],imagePath];
 } 
```

stringWithFormat:.. 正在泄漏。另一个例子 ：

```
-(UIColor*)convertHexColorToUIColor:(NSString*)hexColor {

    if ([hexColor length] == 7) {
        unsigned c = 0;
        NSScanner *scanner = [NSScanner scannerWithString:hexColor];
        [scanner setScanLocation:1];
        [scanner scanHexInt:&c];

        return [UIColor colorWithRed:((c>>16)&0xFF)/255.0 
                               green:((c>>8)&0xFF)/255.0 
                                blue:(©&0xFF)/255.0 
                               alpha:1.];
    }
    else {
        return nil;
    }
} 
```

同样，colorWithRed:.. 正在泄漏。

我已经阅读了苹果关于自动释放对象的文档。而且我什至尝试过重新创建一个这样的新池，但没有任何成功：

```
-(UIView)myFonctionWhoGenerateScreens:

    for () {

        NSAutoreleasePool *subPool = [[NSAutoreleasePool alloc] init];

        // There are all of the autoreleased method calls that are leaking...

        [subPool drain];

    }    
} 
```

我想我错过了一些东西。有人有想法吗？

泄漏回溯![在此处输入图像描述](../Images/6905e6f0cce014749b0dd2387696cbe7.png)

非常感谢。

编辑 ：

以下是在 applyPropertyName:withPropertyType:onComponent:withValue:forStyling 方法中如何处理泄漏函数的返回：

```
else if ([propertyType isEqualToString:@"AB_IMAGE"]) {

        UIImage *image = [UIImage imageWithContentsOfFile:[self pathForApplicationName:applicationName
                                                                             withImage:value]];
        @try {
            [component setValue:image
                         forKey:propertyName];
        }
        @catch (NSException *exception) {
#if DEBUG_CONTROLLER
            NSLog(@" %@ Not key-value compliant for <%@,%@>",component,propertyName,image);
#endif
        }
    } 
```

编辑 2：这是完整的回溯[http://ganzolo.free.fr/leak/%20Leak.zip](http://ganzolo.free.fr/leak/%20Leak.zip)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:36:00.303

查看您的 Leak 文档，并选择`[NSString stringWithFormat]`地址 0xdec95c0 处的对象作为示例，它显示了该对象的 Foundation、ImageIO 和 CoreGraphics 使用的平衡保留计数操作，但`ABTwoImageItemImageLeftComponent`仍持有未发布的引用。

```
0   0xdec95c0   CFString (immutable)    Malloc  1   00:39.994.343   144 Foundation  +[NSString stringWithFormat:]
1   0xdec95c0   CFString (immutable)    Autorelease <null>  00:39.994.376   0   Foundation  +[NSString stringWithFormat:]
2   0xdec95c0   CFString (immutable)    CFRetain    2   00:39.994.397   0   iOS Preview App -[ABTwoImageItemImageLeftComponent setSrcProperty:]
3   0xdec95c0   CFString (immutable)    CFRetain    3   00:39.996.231   0   ImageIO CGImageReadCreateWithFile
4   0xdec95c0   CFString (immutable)    CFRetain    4   00:39.998.012   0   CoreGraphics    CGPropertiesSetProperty
5   0xdec95c0   CFString (immutable)    CFRelease   3   00:40.362.865   0   Foundation  -[NSAutoreleasePool release]
6   0xdec95c0   CFString (immutable)    CFRelease   2   01:14.892.330   0   CoreGraphics    CGPropertiesRelease
7   0xdec95c0   CFString (immutable)    CFRelease   1   01:14.892.921   0   ImageIO releaseInfoJPEG 
```

# android - 适用于所有移动设备的相同设计

> ID：11083183
> 
> 赞同：2
> 
> 时间：2012-06-18T12:45:04.610
> 
> 标签：android, html, css, cordova

我已经使用 html 页面和 css 开发了 android phonegap 应用程序。
但是我的应用程序设计在不同的模拟器中是不同的。
我需要为所有移动设备获得相同的 UI 设计。
怎么做？任何人都请帮助我

这是我的代码

**更新**

```
 <!DOCTYPE HTML>
    <html>
      <head>
        <meta name="viewport" content="width=320; user-scalable=no" />
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <title>PhoneGap</title>
        <script src="../Scripts/jquery-1.4.1-vsdoc.js" type="text/javascript"></script>

        <link rel="stylesheet" href="../js/master.css" type="text/css" media="screen" title="no title" charset="utf-8">
        <script type="text/javascript">
        </script>
        <style type="text/css">
        label.custom-select 
        {
        position: relative;
        }
        .custom-select select 
        {
            display: inline-block;
            border: 2px solid #03498A;
            padding: 2px 3px 3px 50px;
            margin: 0;
            outline:none; /* remove focus ring from Webkit */
            line-height: 1.2;
            background: #03498A;
            color: #FFFFFF;
            font-size:15pt;font:bold;
            width:80%;
            height:7%;
            -webkit-appearance:none; /* remove the strong OSX influence from Webkit */
            -webkit-border-radius: 6px;
            -moz-border-radius: 6px;
            border-radius: 2px;
        }

        /* for Webkit's CSS-only solution */
        @media screen and (-webkit-min-device-pixel-ratio:0) 
        {
            .custom-select select 
            {
                padding-right:30px;    
            }
        }

        /* Since we removed the default focus styles, we have to add our own */
        .custom-select select:focus 
        {
            -webkit-box-shadow: 0 0 3px 1px #c00;
            -moz-box-shadow: 0 0 3px 1px #c00;
            box-shadow: 0 0 3px 1px #c00;
        }

        /* Select arrow styling */
        .custom-select:after 
        {
            content: "â–¼";
            position: absolute;
            top: 2%;
            right: 0;
            bottom: 0;
            font-size: 60%;
            line-height: 30px;
            padding: 0 7px;
            background-image: url(../images/dd.PNG);
            background-repeat:no-repeat;
            padding-left:80%;
            color: #03498A;
            pointer-events:none;
            -webkit-border-radius: 0 6px 6px 0;
            -moz-border-radius: 0 6px 6px 0;
            border-radius: 0 6px 6px 0;
        }

        .no-pointer-events .custom-select:after 
        {
            content: none;
        }
        .dropdown
        {
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
            background-color: #03498A;
            border: 1px solid;
            color: #FFFFFF;
            width:260px;font-size:20pt;font:bold;
        }
        #setting
        {
            margin-left:10%;
            margin_right:5%;
        }
        #checknotify
        {
            margin-left:50%;
        }
        #checkphone
        {
            margin-left:38%;
        }
        #checklocation
        {
            margin-left:51%;
        }
        #allcauses
        {
            margin-left:2%;
        }
        #link
        {
            margin-left:20%;
        }
        #managelabel
        {
            margin-left:6%;
        }

        .checkBox
        {
            background-position: 0px 0px;
        }
        .checkBoxClear
        {
            background-position: -32px 0px;
        }
        .checkBox, .checkBoxClear
        {
            background-image: url('../images/Check.png');
            background-repeat: no-repeat;
            display: inline-block;
            float: left;
            width: 32px;
            height: 32px;
            padding: 0px;
            margin: 0px;
            cursor: hand;
        }
        .checkBox1
        {
            background-position: 0px 0px;
        }
        .checkBoxClear1
        {
            background-position: -32px 0px;
        }
        .checkBox1, .checkBoxClear1
        {
            background-image: url('../images/Check.png');
            background-repeat: no-repeat;
            display: inline-block;
            float: left;
            width: 32px;
            height: 32px;
            padding: 0px;
            margin: 0px;
            cursor: hand;
        }
        .checkBox2
        {
            background-position: 0px 0px;
        }
        .checkBoxClear2
        {
            background-position: -32px 0px;
        }

        .checkBox2, .checkBoxClear2
        {
            background-image: url('../images/Check.png');
            background-repeat: no-repeat;
            display: inline-block;
            float: left;
            width: 32px;
            height: 32px;
            padding: 0px;
            margin: 0px;
            cursor: hand;
        }
            .checkBox3
        {
            background-position: 0px 0px;
        }
        .checkBoxClear3
        {
            background-position: -32px 0px;
        }

        .checkBox3, .checkBoxClear3
        {
            background-image: url('../images/Check.png');
            background-repeat: no-repeat;
            display: inline-block;
            float: left;
            width: 32px;
            height: 32px;
            padding: 0px;
            margin: 0px;
            cursor: hand;
        }
        </style>
      </head>
      <body >
        <div>
            <div><input type="image" style="width:100%" src="../images/set.png" />
            </div>
            <div align="center" style="margin-top:2%"><input type="image" src="../images/load.png" style="width:90%" />
                <input type="image" src="../images/image.png" style="width:90%"/>
                <div style="margin-top:5%">
                    <label id="managelabel" style="width:70%;font-size:12pt">Manage Cause Settings</label>
                    <a id="link" href="javascript:help()">Help ?</a>
                </div>
            </div>
            <div id="loadingScreen" align="center"></div>
            <div align="center" style="margin-top:5%"><label class="custom-select"><select name="mydropdown" style="width:90%;height:10%;font-size:15pt" >
                <option id="0" value="opt">option</option>
                </select></label>
            </div>
            <div style="margin-top:3%;padding:5%">
                <table>
                    <tr width="100%">
                        <td width="90%"><label>One</label></td>
                        <td><div id="Div1" class="checkBox">&nbsp;</div></td>
                        <label for="Div1"></label>
                        <td><input value='' type='checkbox' style="display:none"  /></td>
                    </tr> 
                    <tr width="100%">
                        <td ><label>Two</label></td>
                        <td><div id="Div2" class="checkBox1">&nbsp;</div></td>
                        <label for="Div2"></label>
                        <td><input value='' type='checkbox' style="display:none" /></td>
                    </tr>
                    <tr width="100%">
                        <td ><label>Three</label></td>
                        <td><div id="Div3" class="checkBox2">&nbsp;</div></td>
                        <label for="Div3"></label>
                        <td><input value='' type='checkbox' style="display:none" /></td>
                    </tr> 
                </table>
            </div>
            <br/>
            <div>
                <table>
                    <tr width="100%">
                        <td><div id="Div4" class="checkBox3">&nbsp;</div></td>
                        <label for="Div4"></label>
                        <td><label style="width:60%;font-size:12pt">Here settings</label></td>
                        <td><input value='' type='checkbox' style="display:none" id='chkAllCauses'/></td>
                    </tr>
                </table>
            </div>
        </div>
        <div style="margin-top:32%">
            <div style="border-width:3px;padding-top:2%;padding-bottom:2%;padding-right:0px;padding-left:0px;background-color:#00458D;bottom:0;" align="center">
                <table width=100%>
                <input type="image" src="../images/first.PNG" style="width:23%" />
                <input type="image" src="../images/second.jpg" style="width:23%" />
                <input type="image" src="../images/third.jpg" style="width:23%" />
                <input type="image" src="../images/fourth.png" style="width:23%"/>
                </table>
            </div>
        </div>
    </div>
    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T14:37:17.387

首先，我会尝试将以下元标记添加到您的代码中：

```
<meta name="HandheldFriendly"   content="True">
<meta name="MobileOptimized"    content="320">
<meta name="viewport"           content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"> 
```

如果这对整个模拟器没有帮助，那么请让我们确切地知道 UI 中出现了什么问题，并尝试截取一些屏幕截图来帮助我们理解问题。

# asp.net - .Net Streamwriter 在 XML 提要中放置感叹号

> ID：11083184
> 
> 赞同：2
> 
> 时间：2012-06-18T12:45:04.700
> 
> 标签：asp.net, xml, httpwebrequest, streamwriter

当使用 HttpWebRequest 向远程服务器提交 xml post 数据时，它在发送 xml 数据时会在整个 xml 数据中插入感叹号，导致 SOAP 服务器拒绝它并中止连接。我有一个 HTML 表单提交器，它可以在 textarea 中提交 xml，没有错误。

这是我提交 xml 数据的基本页面逻辑，我也尝试过使用字节数组，但遇到了同样的错误。

```
Dim submitPage As HttpWebRequest = WebRequest.Create(requestUrl)
submitPage.Method = "POST"
Dim postData As StringBuilder = New StringBuilder()
postData.Append("Submit+XML=Submit&xmldata=" & System.Web.HttpUtility.UrlEncode(CompiledXML))

Dim writer As StreamWriter = Nothing
submitPage.ContentLength = postData.ToString().Length
writer = New StreamWriter(submitPage.GetRequestStream())
writer.Write(postData.ToString())
writer.Close() 
```

所以这里发生的是获取我的 XML 字符串并将其放在帖子中，但它也会每 10 行添加一个感叹号。

我一直在解决这个问题几天没有运气。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-21T17:26:54.523

这是远程服务器上 PHP 中的一个错误，如果您有一个超过一定长度的字符串，并且您将其填充到电子邮件函数中而没有换行符，它会为您添加感叹号。非常奇怪的行为，但这就是这里发生的事情。

# php - 将 foreach 循环限制为第一个数组

> ID：11083187
> 
> 赞同：2
> 
> 时间：2012-06-18T12:45:17.127
> 
> 标签：php, arrays, loops, foreach, limit

这是我的代码：

```
<?php
         foreach ($productsRecord['images'] as $upload):?>
          <?php if ($upload['hasThumbnail']): ?>
            <a href="<?php echo $upload['urlPath'] ?>" rel="lightbox" class="imgborder" title="<?php echo $productsRecord['name'] ?>"><img src="<?php echo $upload['urlPath'] ?>"  alt="" /></a><br />

          <?php endif ?>
        <?php endforeach ?> 
```

我将如何将结果限制为仅第一个结果，我会使用休息吗？陈述？

干杯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T12:48:06.317

直接使用数组的第一个元素即可

```
$productsRecord['images'][0] 
```

无需在这里循环。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T12:50:36.157

尝试使用 current()

你的代码应该是这样的：

```
<?php reset($productsRecord['images']); ?>
<?php $upload = current($productsRecord['images']);?>
<?php if ($upload['hasThumbnail']): ?>
    <a href="<?php echo $upload['urlPath'] ?>" rel="lightbox" class="imgborder" title="<?php echo $productsRecord['name'] ?>"><img src="<?php echo $upload['urlPath'] ?>"  alt="" /></a><br />
<?php endif ?> 
```

有关 current() 的更多信息，请查看手册： http: [//php.net/manual/en/function.current.php](http://php.net/manual/en/function.current.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T12:47:41.793

是的，使用休息

```
 <?php break; endforeach; ?> 
```

# awk - 如何使用 awk 从文本文件中提取特定行？

> ID：11083189
> 
> 赞同：1
> 
> 时间：2012-06-18T12:45:20.827
> 
> 标签：awk

我有一个看起来像这样的文本文件。

```
A   102
B   456
C   678
H    A       B        C      D       E        F      G       H       I       J
    1.18    0.20    0.23    0.05    1.89    0.72    0.11    0.49    0.31    1.45
    3.23    0.06    2.67    1.96    0.76    0.97    0.84    0.77    0.39    1.08 
```

我需要提取所有以 B,H 开头的行和 H 之后的两行。如何使用 awk 做到这一点？

预期的输出将是

```
 B   456
 H    A       B        C      D       E        F      G       H       I       J
    1.18    0.20    0.23    0.05    1.89    0.72    0.11    0.49    0.31    1.45
    3.23    0.06    2.67    1.96    0.76    0.97    0.84    0.77    0.39    1.08 
```

请有任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T19:14:09.397

忽略`B`输出中的空行（您的问题规范没有说明为什么该空行出现在输出中，所以我假设它不应该存在）：

```
awk '/^H/{t=3} /^B/ || t-- >0' input.file 
```

将打印以开头的所有行以及以`B`开头的每一行`H`以及接下来的两行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T12:54:58.923

```
awk '/^[BH]/ || /^[[:blank:]]*[[:digit:]]/' inputfile 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T04:49:41.517

```
bash-3.00$ cat t
A   102
B   456
C   678
H    A       B        C      D       E        F      G       H       I       J
    1.18    0.20    0.23    0.05    1.89    0.72    0.11    0.49    0.31    1.45
    3.23    0.06    2.67    1.96    0.76    0.97    0.84    0.77    0.39    1.08

bash-3.00$ awk '{if(( $1 == "B") || ($1 == "H") || ($0 ~ /^ / )) print;}' t
B   456
H    A       B        C      D       E        F      G       H       I       J
    1.18    0.20    0.23    0.05    1.89    0.72    0.11    0.49    0.31    1.45
    3.23    0.06    2.67    1.96    0.76    0.97    0.84    0.77    0.39    1.08 
```

或简而言之

```
awk '{if($0 ~ /^[BH ]/ ) print;}' t 
```

或者更短

```
awk '/^[BH ]/' t 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T12:54:21.517

```
cat filename.txt | awk '/^[B(H(^ .*$){2})].*$/' > output.txt 
```

**编辑**：更新了 OP 的编辑

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T13:18:58.673

如果`H`并且`B`不是在表格数据之前发送的唯一标头，并且您打算省略这些数据块（您没有完全指定要求），您必须使用触发器来记住您当前是否处于阻止您是否要保留：

```
awk '/^[^ 0-9]/ {inblock=0}; /^[BH]/ {inblock=1}; { if (inblock) print }' d.txt 
```

# android - Android中的ListView？

> ID：11083200
> 
> 赞同：2
> 
> 时间：2012-06-18T12:45:51.773
> 
> 标签：android, android-listview

我正在用android开发一个游戏应用程序。在我的应用程序中，我将级别和添加级别作为列表视图。
现在我需要在达到关卡目标后锁定关卡。我不知道该怎么做。如何锁定`listview`安卓。通过使用以下内容，我正在填充列表并通过。

```
 mainListView = (ListView) findViewById(R.id.mainListView);
        // mainListView.setSelection(0);
        String[] levels = new String[] { "Level-1", "Level-2", "Level-3",
                "Level-4", "Level-5", "Level-6" };
        ArrayList<String> levelList = new ArrayList<String>();
        levelList.addAll(Arrays.asList(levels));

        listAdapter = new ArrayAdapter<String>(this, R.layout.simple, levelList);

        mainListView.setAdapter(listAdapter);
        getlevelFromDb();
        mainListView.setOnItemClickListener(new OnItemClickListener() {
            public void onItemClick(AdapterView<?> myAdapter, View myView,
                    int myItemInt, long mylng) {
                String level = (String) (mainListView
                        .getItemAtPosition(myItemInt));
                Intent intent = new Intent(LevelsActivity.this,
                        QuestionActivity.class);
                intent.putExtra("level", level);
                startActivity(intent);

            }
        }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:00:33.060

在这种情况下，我基本上会有一个与级别数组平行的布尔数组（某种意义上，有很多方法可以完成这些类型的值）。要锁定它们不被操作，您可以在操作本身（onItemClick）中检查此布尔数组。这样，您只能在看到真值时采取行动，什么也不做，或者提出一个小观点，说他们还没有做到那么远，或者如果数组状态为假。

当他们通过关卡时，您可以简单地将一个真值应用到下一个关卡，列表视图中的项目的操作应该会自动拾取。

如果您想将尚未解锁的关卡变灰，那么您必须为 ListView 实现一个自定义 ArrayAdapter！！！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T12:51:48.807

如果您想使用字符串作为您的关卡 ID，那么您将不得不在新关卡解锁时将字符串添加到您的数组中。

或者，您可以使用带有布尔标志“已解锁”的自定义级别类以及自定义 ListAdapter 以仅显示未锁定的级别。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:00:07.193

Jarkko 有最好的解决方案，但如果你想保持简单，你需要将解锁的关卡存储在某个地方（共享首选项会起作用），然后在启动关卡活动之前，你需要检查关卡是否解锁。所以

```
if (isLevelUnlocked(level)){
    startActivity(intent);
}else{
    //Level is not unlocked yet, display a msg to the user.
} 
```

# asp.net - 使用 c# 从 ASP.NET 页面执行 .exe

> ID：11083201
> 
> 赞同：-2
> 
> 时间：2012-06-18T12:45:53.383
> 
> 标签：asp.net

我正在开发一个基于 Web 的应用程序。我想从页面调用 .exe。我为此添加了一些代码行但是当单击按钮时，控制台窗口出现并显示一个异常，指出 - Unhanded Exception : System.NUllRefrenceException : Object reference not set to an instance of the object。

谁能帮我运行exe...

谢谢，桑杰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:01:14.410

这是一个如何做到这一点的例子：

```
System.Diagnostics.ProcessStartInfo procStartInfo = new System.Diagnostics.ProcessStartInfo(@"c:\yourProgram.exe", @"-p customParam");
procStartInfo.RedirectStandardOutput = true;
procStartInfo.UseShellExecute = false;
procStartInfo.CreateNoWindow = true;
System.Diagnostics.Process proc = new System.Diagnostics.Process();
proc.StartInfo = procStartInfo;
proc.Start();
string result = proc.StandardOutput.ReadToEnd(); 
```

# ios - 对于 iOS 开发人员，我的应用程序如何知道，对于给定的文件类型，其他应用程序可以打开它

> ID：11083212
> 
> 赞同：4
> 
> 时间：2012-06-18T12:46:30.133
> 
> 标签：ios, document, file-type

在 iOS 设备中，邮件应用程序为附件提供“打开方式...”选项。列出的应用程序已向操作系统注册其 CFBundleDocumentTypes。我想知道的是，对于给定的文件类型，我的应用程序如何知道其他应用程序可以打开它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T02:44:19.070

对此没有公共 API，但是，您可以使用`UIDocumentInteractionController`该类打开 Mail.app 显示的工作表。它不会让您访问可以处理文档的应用程序的名称，但它可能总比没有好。

# macos - 如何找出音频文件的文件类型？

> ID：11083215
> 
> 赞同：1
> 
> 时间：2012-06-18T12:46:50.580
> 
> 标签：macos, core-audio, audiotoolbox, caf

我正在使用 Core-Audio/AudioToolbox（扩展音频文件服务）来*读取*OSX 上的音频文件。

对于我的特定应用程序，我需要找出我成功打开的文件是否`ExtAudioFileOpenURL()`是 CAF 文件。

不幸的是，我似乎想念如何正确执行此操作，因为我无法`AudioFileTypeID`从`ExtAudioFileRef`.

（在编写这样的文件时，我可以通过传递`AudioFileTypeID`to来定义类型`ExtAudioFileCreateWithURL`；反过来呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:23:21.933

就像我的[另一个问题](https://stackoverflow.com/questions/11083077)一样，事实证明我必须使用普通的 AudioAPI（而不是 ExtAudio API）

```
static bool isCAF(const AudioFileID*file) {
  /* trying to read format (is it caf?) */
  UInt32 format=0;
  UInt32 formatSize=sizeof(format);
  AudioFileGetProperty (*file, kAudioFilePropertyFileFormat, &formatSize, &format);
  return (kAudioFileCAFType==format);
} 
```

# web-applications - 将 app_offline.htm 的 http 状态 503 更改为 200

> ID：11083216
> 
> 赞同：6
> 
> 时间：2012-06-18T12:47:04.320
> 
> 标签：web-applications, iis-7, app-offline.htm

我已集成到我的 .net 应用程序中，当我想使我的网站脱机时，我将 app_offline 文件放在我的 Web 应用程序的根目录中，如此处[ScottGu 的博客所述](http://weblogs.asp.net/scottgu/archive/2005/10/06/426755.aspx)

这会导致向 Web 应用程序的所有请求返回 503 状态代码，显示应用程序离线页面。

这给我带来了一个问题，我的负载均衡器看到 503 状态代码并将站点从负载均衡器中取出。

有什么办法可以更改 app_offline.htm 文件以返回 200 状态码？

# php - JSON : 真正的价值来自报价

> ID：11083218
> 
> 赞同：-2
> 
> 时间：2012-06-18T12:47:14.913
> 
> 标签：php, json, sencha-touch-2

我想为我的 Sencha-Touch 应用程序输出一个嵌套的 JSON 数组，我必须向叶节点发出信号。

这是正确的语法：

```
 {
      "text": "Random",
      "leaf": true
  } 
```

我从服务器端在 PHP 中创建我的数组，这是我添加叶子信息的行：

```
$myRow['leaf'] = 'true'; 
```

不幸的是，在对我的数组进行 json 编码后，输出并不是那么简单：

```
{
    "text": "Random",
    "leaf":"true"
} 
```

**true**周围的引号是有问题的，因为 Sencha Touch 不能识别布尔值。

**我尝试在我的**PHP 文件中不加引号，但后来我得到了

> “叶子”：“1”

在 JSON 回调中...

我尝试了其他一些技巧，但总是同样的问题。

有人有同样的问题吗？

先感谢您。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-22T13:42:23.160

它适用于

```
$myRow['leaf'] = true; 
```

但我正在使用`utf8_encode()`所以它变成了`true`“1”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T12:49:09.327

你得到了`string`真正的，因为它在 php 中是一个字符串......使用布尔值

```
$myRow['leaf'] = true; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T12:57:01.967

如果我记得这是 php < 5.2 版本中的错误：

[http://www.php.net/manual/en/function.json-encode.php#107968](http://www.php.net/manual/en/function.json-encode.php#107968)

只需尝试：

```
$jsonencodedstring = str_replace('"true"', 'true', $jsonencodedstring); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-10-14T09:13:32.867

```
array_walk_recursive($array, function(&$item, $key){
    if(!mb_detect_encoding($item, 'utf-8', true)) {
            $item = utf8_encode($item);
    }
}); 
```

检查**if(!mb_detect_encoding($item, 'utf-8', true))**条件，这是上述问题的解决方案，可能会对某人有所帮助:)

# ajax - 如何制作显示动态跨域 api 驱动内容的搜索引擎友好页面？

> ID：11083222
> 
> 赞同：1
> 
> 时间：2012-06-18T12:47:32.027
> 
> 标签：ajax, seo

作为我们正在部署的产品的一部分，客户端需要访问我们服务器上的远程 API 来访问内容和数据。尽管如此，由于某些原因和某些客户，整个页面都在我们的服务器上的解决方案是不可取的（原因包括：控制设计，但主要是 SEO，并且他们希望这些内容在“他们的域”下可用）.. . 由于其他问题，不希望使用访问 API 服务器端的脚本。

我的想法如下（我会指出它的缺陷，以便其他人可以提出替代方案）：

1）制作一个简单的脚本托管在客户端服务器上，该脚本将从某个 URI 路径获取所有流量（catch-all 脚本，类似于任何框架路由器）。所以 /MyApp/*. 该脚本将始终返回单个代码，即“加载器 javascript 和样式”...

2）通过上面脚本返回的javascript，提取URL，在需要的路径/MyApp/[*]之后处理URI，并用JSONP或CORS正则ajax发送到外部调用，然后返回适当的样式并显示.

这样，/MyApp/abc 和 /MyApp/def 之类的 url 在浏览器源中将具有相同的 html/js，但 JS 会从 ajax 调用加载不同的数据，因此显示不同的内容......

这似乎是一个很好的解决方案，唯一的缺点是，据我了解，谷歌和其他搜索引擎永远无法访问 abc 和 def 的内容，他们只能访问“加载器 javascript 和样式”（很明显，他们不会运行JS）...

所以这比 #! 因为它不会与 URL 搞砸，但仍将取决于 JS，因此对搜索引擎不友好......

由于服务器限制，我宁愿有一个简单的“catchall”页面，并从客户端调用 API，而不是强制要求 curl 等最低要求......另外我可以访问以这种方式更容易最终用户的 IP 地址（尽管我可以制作更精细的代理 - 这会使在客户端服务器上安装它变得更加困难）......

有没有办法在不从服务器端连接到 api 的情况下实现这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T15:41:40.167

执行此 IMO 的最简单方法是使用 AJAX 控制器（假设 MVC 设计）来处理所有远程请求。让控制器中的每个操作都返回 JSON，然后您可以通过服务器端调用轻松访问数据。

否则，您正在使用 #! 解决方案（您不喜欢，这是正确的..），或使用 JSONP（也很麻烦）。

# javascript - 使用 KnockoutJS，如何指定要绑定的 ViewModel？

> ID：11083234
> 
> 赞同：0
> 
> 时间：2012-06-18T12:48:13.770
> 
> 标签：javascript, knockout.js, knockout-2.0

这是一个非常简单的问题，所以我真的希望有一个简单的解决方案。我不想使用任何外部模板库，因为虽然我熟悉 EmberJS，但 Ember 对我目前正在处理的应用程序来说太过分了。

我已经设置了一个快速的 JSFiddle：http: [//jsfiddle.net/zeEFP/3/](http://jsfiddle.net/zeEFP/3/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T14:28:38.513

在您最初的小提琴中，您将视图模型应用于整个 dom（或更具体地说`window.document.body`），因为您没有提供上下文元素。因此您不需要`with`绑定（`with`绑定创建一个新的绑定上下文，而您已经在正确的绑定上下文中）

见：http: [//jsfiddle.net/zeEFP/10/](http://jsfiddle.net/zeEFP/10/)

如果您希望使用多个视图模型，则可以为该`applyBindings`方法提供上下文：

```
ko.applyBindings(new FirstViewModel(), document.getElementById("someId)); 
```

在此处查看更新的小提琴：http: [//jsfiddle.net/zeEFP/8/](http://jsfiddle.net/zeEFP/8/)

如果您不喜欢提供额外的标记作为上下文，`applyBindings`您可以改为使用总体视图模型，然后使用`with`绑定为页面的某些部分创建新上下文

见：http: [//jsfiddle.net/zeEFP/11/](http://jsfiddle.net/zeEFP/11/)

希望这有助于为您解决问题

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T12:51:35.737

ko.applyBindings() 将 viewmodel 作为参数。我已经更新了你的小提琴：

[http://jsfiddle.net/zeEFP/4/](http://jsfiddle.net/zeEFP/4/)

之前它失败了，因为您告诉敲除在 ViewModel 对象的 ViewModel 属性中查找属性

# objective-c - 如何从 iOS 5 支持设备旋转

> ID：11083238
> 
> 赞同：1
> 
> 时间：2012-06-18T12:48:24.920
> 
> 标签：objective-c, ios, ios5, xcode4.3

您好，我的应用程序始终支持设备旋转，但现在不支持，我不知道为什么。也许在应用程序设置中我应该标记一些新的东西。

在控制器中，我有：

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{

    return YES;
} 
```

在项目摘要中，我标记了我支持所有方向。也许因为我几个月没有使用iOS而发生了一些变化？

我可以调试方向更改为什么我的应用程序处于纵向模式吗？

谢谢。

# asp.net-mvc-3 - 将数据传递给 post 方法

> ID：11083241
> 
> 赞同：0
> 
> 时间：2012-06-18T12:48:56.820
> 
> 标签：asp.net-mvc-3, post, razor, get, actionmethod

我有一个看起来像这样的视图模型

```
 public class ViewModelRound2 
    {
        public Bid Bid { get; set; }
        public bool SelectedForRound2 { get; set; }  
    } 
```

我有一个看起来像这样的 get 操作方法

```
public ActionResult Round2Manager(long id)
        {
            ...

            return View(round1Ring3Bids);
        } 
```

还有一个看起来像这样的 post 方法（尚未实现）

```
[HttpPost]
        public ActionResult Round2Manager(IEnumerable<ViewModelRound2> viewModelRound2)
        {
            return View(viewModelRound2);
        } 
```

我的观点看起来像这样

```
 @for (var x = 0; x < Model.Count(); x++)
    {
        ViewModelRound2 viewModelRound2 = Model.ElementAt(x);
        Bid bid = viewModelRound2.Bid;

        string userName = @bid.User.Invitation.Where(i => i.AuctionId == bid.Lot.Lot_Auction_ID).First().User.User_Username;

        <tr>
            <td>
                @userName
            </td>
            <td>
                @bid.Bid_Value
            </td>
            <td>
                @Html.EditorFor(c => c.ElementAt(x).SelectedForRound2) 
            </td>
        </tr>
    }

</table>

<div class="buttonwrapper2">
    @Ajax.ActionLink("Select", "Round2Manager", new { viewModelRound2 = Model }, new AjaxOptions() { HttpMethod = "POST"} )
</div> 
```

此呈现的页面包含呈现表中每行的复选框，我希望能够将选中/未选中的值传递给 post 方法，以便它可以处理它们。问题是`viewModelRound2`post方法的参数总是为null。到底是怎么回事？我怎样才能写这个，以便它做我想要的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T12:54:05.407

你应该把所有的 HTML 放在一个`<form>`.

# blackberry - Dialog.Ask 使用 int[] 给出 indexoutofboundsExceptions

> ID：11083242
> 
> 赞同：1
> 
> 时间：2012-06-18T12:49:00.883
> 
> 标签：blackberry, java-me

不工作：

```
final Object[] stringsMenu;
Vector auxMenu = new Vector();
final IntVector optionsMenu = new IntVector();
        auxMenu.addElement("ficha");
        optionsMenu.addElement(1);
        auxMenu.addElement("ficha2");
        optionsMenu.addElement2);
        auxMenu.addElement("ficha3");
        optionsMenu.addElement(3);
    UiApplication.getUiApplication().invokeLater(new Runnable()
    {
        public void run()
        {
        try
        {
            int[] optionsintMenu = optionsMenu.getArray();
                    switch (Dialog.ask("Info:", stringsMenu, optionsintMenu, 0))
                    {
                      ...
                    }
                }
            }
        } .................. 
```

在职的

```
final Object[] stringsMenu;
Vector auxMenu = new Vector();
final IntVector optionsMenu = new IntVector();
        auxMenu.addElement("ficha");
        optionsMenu.addElement(1);
        auxMenu.addElement("ficha2");
        optionsMenu.addElement2);
        auxMenu.addElement("ficha3");
        optionsMenu.addElement(3);
    UiApplication.getUiApplication().invokeLater(new Runnable()
    {
        public void run()
        {
        try
        {
                    switch (Dialog.ask("Info:", stringsMenu, new int[]{1,2,3}, 0))
                    {
                      ...
                    }
                }
            }
        } ..................... 
```

给我一个内部 IndexoutofboundsException。知道发生了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:13:24.213

而不是`getArray()`尝试使用[`toArray()`](http://www.blackberry.com/developers/docs/6.0.0api/net/rim/device/api/util/IntVector.html#toArray%28%29).

根据文档：

**到数组：**

> 公共 int[] toArray()
> 
> 检索底层存储的副本。结果数组被修剪。

**获取数组：**

> 公共 int[] getArray()
> 
> 检索向量值。该数组未修剪，也不是副本。

**数组没有修剪**，这可能是你得到 indexOutOfBound 的原因

# sencha-touch-2 - Sencha Touch 2 store 被多次加载[超过最大调用堆栈大小]

> ID：11083243
> 
> 赞同：0
> 
> 时间：2012-06-18T12:49:03.520
> 
> 标签：sencha-touch-2

Sencha Touch 2 Store 类有一个奇怪的问题。这是我所拥有的：

*   一个简单的**PollsList**视图，它定义了一个列表视图（将 store 属性设置为**Polls**）。我已经包括了所需的商店如下：`requires:['Polls']`，
*   模型属性设置为**Poll**和虚拟数据属性的存储类**Polls ，**
***   一个名为**Poll**的模型类（最简单的可能），*   具有以下启动方法的 app.js 文件：**

 **`var pollsListView = Ext.create('PollsList');`

`Ext.Viewport.add(pollsListView);`

`Ext.Viewport.setActiveItem(pollsListView);`

我还`stores: ['Polls']`根据需要在 app.js 中包含了声明。

现在，奇怪的是当我访问**PollsList**视图时，**轮询**存储正在无限期地加载，直到出现以下错误：

`Uncaught RangeError: Maximum call stack size exceeded sencha-touch.js:598`

堆栈似乎在以下调用上循环：

`Ext.ClassManager.instantiate sencha-touch.js:6378`

`(anonymous function) sencha-touch.js:3198`

`(anonymous function) app/store/Polls.js:4`

`Ext.apply.globalEval sencha-touch.js:598`

`Ext.apply.globalEval sencha-touch.js:599`

`Ext.apply.loadScriptFile sencha-touch.js:7673`

`Ext.apply.require sencha-touch.js:7831`

`Ext.apply.syncRequire sencha-touch.js:7695`

`(anonymous function)`

任何的想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:13:41.700

看起来很奇怪，做了很多次，但没有出错。

任何方式，尝试删除**setActiveItem**因为只有一个视图，它会将其视为活动。

从代码中删除**require**行，因为目前似乎不需要它。（只是因为我想让这个示例运行）。

现在，尝试初始化存储，如

```
var store = Ext.create("YourStore")   // 
var listControl = Ext.craeate("YourList" ,{store : "aboveCreatedStore" , ..... });
listControl.setData( {name :'hello'} ); // hoping the model is having one String type field
Ext.ViewPort.add(listControl); 
```

就是这样...

上面给出的代码不是一个完整的解决方案（它就像一个补丁），但它是为了让你知道你在当前代码中做错了什么。**

# html - IE7 无法在文本上呈现链接（背景透明）？

> ID：11083249
> 
> 赞同：0
> 
> 时间：2012-06-18T12:49:10.003
> 
> 标签：html, css, internet-explorer

这是我的[代码](http://jsfiddle.net/ZXzJ2/1/)：

# HTML：

```
<div class="container">
    <div class="myBox">My Text</div>        
    <a class="myLink" href="http://www.google.com">&nbsp;</a>       
</div>    ​ 
```

# CSS：

```
.container
{
    position:relative;
    width:200px;
    height:200px;
}

.myBox
{
    position:absolute;
    top:0;
    left:0;
    z-index:90;
    background-color:#ff0000;
    width:200px;
    height:200px;    
}

.myLink
{
    text-decoration:none; 
    display:block; 
    position:absolute; 
    width:50px; 
    height:50px; 
    top:0px; 
    left:0px; 
    z-index:100;
}​ 
```

在 IE7 上，“我的文本”上的链接不能用作链接。如果，`myLink`我把背景颜色，它也可以。

我是在吸毒还是正常行为？我怎样才能用透明背景解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T15:14:17.913

尝试将这些行添加到`.myLink`：

```
background-color:#ff0000;
filter: alpha(opacity=0); 
```

**编辑**

如果 中只有一个图像`.myBox`，`.myLink`将按预期工作，如果图像作为背景图像添加到`.myBox`.

# php - PHP：跟踪脚本流程

> ID：11083250
> 
> 赞同：1
> 
> 时间：2012-06-18T12:49:10.920
> 
> 标签：php, debugging

是否可以在 PHP 脚本中启动跟踪日志并激活调试日志。我不是在寻找 eclipse + xdebug，而是在寻找类似这样的用例：当脚本启动时，它会检查是否`$_GET["debugme"]`已设置。如果是，请说`start_trace_log()`。在脚本的其余部分之后发生的任何事情都应该被记录下来，例如

> scriptA.php :10 包含（“anotherscript.php”）
> 
> anotherscript.php:1 foo()
> 
> ...

目前，我必须为任何我有兴趣记录的脚本手动执行此操作，并且脚本必须在任何地方进行检查`$_GET["debugme"]`，而不是简单地在此脚本运行中调试 ALL。偶尔检查脚本非常不舒服。

从起点到最后一行跟踪 php 脚本的任何更好的想法或舒适的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T20:59:41.433

将此行添加到结尾或页脚脚本的末尾：
`if(isset($_GET["debugme"]))debug_print_backtrace();` 这将打印在 script-path.php:linenumber 处调用的 #... function-name() 等详细信息。

不要忘记将调试功能限制为仅在开发系统上运行！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-07T07:59:51.933

[phptrace](https://github.com/Qihoo360/phptrace)可能是更好的选择，因为您无需更改脚本，并且可以随时跟踪。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:04:58.743

虽然我觉得在生产中使用它非常烦人，但你可以抛出这段代码：

```
if(isset($_GET['DEBUGME'])) {
    start_trace_log();
} 
```

到一个文件中，然后将该文件添加到您的 PHP 中[`auto_prepend_file`](http://www.php.net/manual/en/ini.core.php#ini.auto-prepend-file)，以便它在每个 PHP 脚本的开头运行。

当然，这是假设您已经编码并包含`start_trace_log()`. 您还应该只在开发服务器上包含它。带有调试标志的脚本不应投入生产。

# xml - XSL 分组计数

> ID：11083251
> 
> 赞同：1
> 
> 时间：2012-06-18T12:49:11.477
> 
> 标签：xml, xslt

我正在尝试从 XML 中提取唯一值以及它们出现的次数。

我一直在[关注 Xslt distinct select / Group by](https://stackoverflow.com/questions/1012321/xslt-distinct-select-group-by)中给出的答案，但我的架构有点不同。

我的 XML 看起来类似于：

```
<A>
    <B>
        <C>
            <D>APPLE</D>
        </C>
    </B>
    <B>
        <C>
            <D>BANANA</D>
        </C>
    </B>
    <B>
        <C>
            <D>APPLE</D>
        </C>
    </B>
</A> 
```

根据上一个答案中的代码，我有：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="text" />

  <xsl:key 
    name="C-by-DValue" 
    match="B/C/D" 
    use="text()" 
  />

  <xsl:template match="A">
    <xsl:for-each select="
      B/C/D[
        count(
          . | key('C-by-DValue', B/C/D/text())[1]
        ) = 1
      ]
    ">
      <xsl:value-of select="text()"/>
      <xsl:value-of select="' - '"/>
      <!-- simple: the item count is the node count of the key -->
      <xsl:value-of select="
        count(
          key('C-by-DValue', text())
        )
      "/>
      <xsl:value-of select="'&#10;'"/>
    </xsl:for-each>
  </xsl:template>
</xsl:stylesheet> 
```

但这会返回：

```
APPLE - 2
BANANA - 1
APPLE - 2 
```

因此，for-each-select 不仅匹配每个 text() 值的第一个实例。请有人指出我正确的方向。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T13:02:57.323

你想改变

```
<xsl:template match="A">
    <xsl:for-each select="
      B/C/D[
        count(
          . | key('C-by-DValue', B/C/D/text())[1]
        ) = 1
      ]
    ">
      <xsl:value-of select="text()"/>
      <xsl:value-of select="' - '"/>
      <!-- simple: the item count is the node count of the key -->
      <xsl:value-of select="
        count(
          key('C-by-DValue', text())
        )
      "/>
      <xsl:value-of select="'&#10;'"/>
    </xsl:for-each>
  </xsl:template> 
```

到

```
 <xsl:template match="A">
    <xsl:for-each select="
      B/C/D[
        count(
          . | key('C-by-DValue',.)[1]
        ) = 1
      ]
    ">
      <xsl:value-of select="text()"/>
      <xsl:value-of select="' - '"/>
      <!-- simple: the item count is the node count of the key -->
      <xsl:value-of select="
        count(
          key('C-by-DValue', text())
        )
      "/>
      <xsl:value-of select="'&#10;'"/>
    </xsl:for-each> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T13:05:23.547

**可以以更短的方式完成此分组任务，从不使用`xsl:for-each`.**

**这种转变**：

```
<xsl:stylesheet version="1.0"
 xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output method="text"/>

 <xsl:key name="kDByVal" match="D" use="."/>

 <xsl:template match="D[generate-id()=generate-id(key('kDByVal', .)[1])]">
  <xsl:value-of select=
   "concat(., ' - ', count(key('kDByVal', .)), '&#xA;')"/>
 </xsl:template>
 <xsl:template match="text()"/>
</xsl:stylesheet> 
```

**应用于提供的 XML 文档时**：

```
<A>
    <B>
        <C>
            <D>APPLE</D>
        </C>
    </B>
    <B>
        <C>
            <D>BANANA</D>
        </C>
    </B>
    <B>
        <C>
            <D>APPLE</D>
        </C>
    </B>
</A> 
```

**产生想要的正确结果**：

```
APPLE - 2
BANANA - 1 
```

# c# - 如何缩短 linq 查询？

> ID：11083253
> 
> 赞同：2
> 
> 时间：2012-06-18T12:49:13.177
> 
> 标签：c#, linq

我必须在我的程序中每一张账单显示一行，但一张账单有超过 1 个子账单。我想将来自 2 个表的信息分组到一个 DataGridView 中。1 行必须显示有关所有子帐单的分组信息。只有 2 列比其他列更复杂：“描述”和“总和”。“描述”必须包含所有子票据的描述，并用换行符分隔。我做了下一个方法：

```
var documentQuery = (from doc in entities.Bas_DocumentData
                select new 
                        {
                            DocumentNum = doc.DocumentNum,
                            DocumentDate = doc.DocumentDate,
                            Description = doc.Bas_BonusData.Select(t => t.Description),
                            BillsCount = doc.Bas_BonusData.Count,
                            SupplierNum = doc.Bas_BonusData.Select(cred => cred.SupplierNum).FirstOrDefault(),
                            Debitor = doc.Bas_BonusData.Select(deb => deb.DebitorNum).FirstOrDefault(),
                            Manager = doc.Bas_BonusData.Select(manager => manager.ManagerName).FirstOrDefault(),
                            SupplierName = doc.Bas_BonusData.Select(supp => supp.SupplierName).FirstOrDefault(),
                            Sum = doc.Bas_BonusData.Sum(bill => bill.Price),
                            IsPrinted = doc.isPrinted,
                            IsSent = doc.isSent,
                            NotSummarize = doc.NotSummarize
                        }).OrderBy(key => key.DocumentNum)
                        .ToList()
                        .Select(q => new AcceptedBonusProjection
                        {
                            DocumentNum = q.DocumentNum,
                            DocumentDate = q.DocumentDate,
                            Description = String.Join("\n\r", q.Description.ToArray()),
                            BillsCount = q.BillsCount,
                            SupplierNum = q.SupplierNum,
                            Debitor = q.Debitor,
                            Manager = q.Manager,
                            SupplierName = q.SupplierName,
                            Sum = q.Sum,
                            IsPrinted = q.IsPrinted,
                            IsSent = q.IsSent,
                            NotSummarize = q.NotSummarize
                        }); 
```

有没有更好的方法来实现我的目标？我可以通过哪种方式缩短此查询？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T12:54:03.280

前半部分（anony.struct）根本不需要：

```
var documentQuery = 
   entities.Bas_DocumentData
   .OrderBy(key => key.DocumentNum)
   .Select(q => new AcceptedBonusProjection
                        {
                            DocumentNum = q.DocumentNum,
                            /* same as in your select snipped here as it does not add value */
                            NotSummarize = q.NotSummarize
                        })
   .ToList(); 
```

**备注：** 请注意，您执行的一些子查询可能无法很好地扩展（例如，从查询中的另一个表中选择`doc.Bas_BonusData.Select(manager => manager.ManagerName).FirstOrDefault()`） - 这不会被转换为内部/外部联接，并且会导致许多 DB 查询。急切加载不会解决这个问题！您应该考虑使用 SQL-View/StoredProcedure/LINQ-Join 语句来更改它。

# javascript - 在 JavaScript 中转换为字符串

> ID：11083254
> 
> 赞同：205
> 
> 时间：2012-06-18T12:49:13.427
> 
> 标签：javascript, jquery, string

我发现了三种`String`在 JavaScript 中将变量转换为的方法。
我在jQuery源码中搜索了这三个选项，**都在使用中**。
我想知道它们之间是否有任何区别：

```
value.toString()
String(value)
value + "" 
```

**[演示](http://jsfiddle.net/67NaT/)**

它们都产生相同的输出，但其中一个比其他更好吗？
我会说它`+ ""`有一个优势，它可以节省一些字符，但这并不是什么大优势，还有什么？

* * *

## 回答 #1

> 赞同：241
> 
> 时间：2012-06-18T12:58:31.530

`value`当is时，它们的行为确实不同`null`。

*   `null.toString()`引发错误 -*无法调用 null 的方法“toString”*
*   `String(null)`返回 - *“空”*
*   `null + ""`也返回 - *“null”*

`value`如果是，会发生非常相似的行为`undefined`（参见[jbabey 的回答](https://stackoverflow.com/a/11083457/369247)）。

除此之外，性能差异可以忽略不计，除非您在巨大的循环中使用它们，否则不值得担心。

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2012-06-18T13:01:05.623

存在差异，但它们可能与您的问题无关。例如，未定义变量上不存在 toString 原型，但您可以使用其他两种方法将 undefined 强制转换为字符串：

```
​var foo;

​var myString1 = String(foo); // "undefined" as a string

var myString2 = foo + ''; // "undefined" as a string

var myString3 = foo.toString(); // throws an exception 
```

[http://jsfiddle.net/f8YwA/](http://jsfiddle.net/f8YwA/)

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2012-06-18T13:06:52.220

它们的行为相同，但`toString`也提供了一种转换数字二进制、八进制或十六进制字符串的方法：

**例子：**

```
var a = (50274).toString(16)  // "c462"
var b = (76).toString(8)      // "114"
var c = (7623).toString(36)   // "5vr"
var d = (100).toString(2)     // "1100100" 
```

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2015-01-13T11:33:02.157

除了上述所有内容外，还应注意，对于定义的值`v`：

*   `String(v)`来电`v.toString()`
*   `'' + v``v.valueOf()`在任何其他类型转换之前调用

所以我们可以这样做：

```
var mixin = {
  valueOf:  function () { return false },
  toString: function () { return 'true' }
};
mixin === false;  // false
mixin == false;    // true
'' + mixin;       // "false"
String(mixin)     // "true" 
```

*在 FF 34.0 和节点 0.10 中测试*

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2012-06-18T12:55:27.900

根据[这个 JSPerf 测试](http://jsperf.com/cast-to-string/2)，它们的速度不同。但是，除非您要大量使用它们，否则它们中的任何一个都应该表现良好。

为了完整性：正如[asawyer](https://stackoverflow.com/users/426894/asawyer)已经提到的，您也可以使用该`.toString()`方法。

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2013-12-20T15:45:16.743

如果您可以接受 null、undefined、NaN、0 和 false 全部转换为 ''，那么`(s ? s+'' : '')`速度会更快。

见[http://jsperf.com/cast-to-string/8](http://jsperf.com/cast-to-string/8)

注意 - 此时浏览器之间存在显着差异。

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2013-03-11T01:54:19.080

现实世界的例子：我有一个可以使用任意数量的参数调用的日志函数：`log("foo is {} and bar is {}", param1, param2)`. 如果`DEBUG`标志设置为`true`，括号将被给定的参数替换，字符串被传递给`console.log(msg)`。参数可以并且将是字符串、数字以及 JSON / AJAX 调用可能返回的任何内容，甚至可能是`null`.

*   `arguments[i].toString()`不是一个选项，因为可能的`null`值（见康奈尔沃特金斯回答）
*   JSLint 会抱怨`arguments[i] + ""`. 这可能会或可能不会影响对使用什么的决定。有些人严格遵守 JSLint。
*   在某些浏览器中，连接空字符串比使用字符串函数或字符串构造函数要快一点（请参阅 Sammys S. 中的 JSPerf 测试答案）。**在 Opera 12 和 Firefox 19 中，连接空字符串的速度惊人地快（在 Firefox 19 中为 95%）** ——或者至少[JSPerf](http://jsperf.com/cast-to-string/2)这么说。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2012-06-18T13:03:43.390

在此页面上，您可以自己测试每种方法的性能:)

[http://jsperf.com/cast-to-string/2](http://jsperf.com/cast-to-string/2)

这里，在所有机器和浏览器上，' **"" + str** '是最快的，(String)str 是最慢的

# xsd - 在 Livecycle Designer 工具中将修改后的模式文件绑定到 xsd 文件

> ID：11083257
> 
> 赞同：1
> 
> 时间：2012-06-18T12:49:24.160
> 
> 标签：xsd, adobe, livecycle, xdp-pdf

我正在使用 adobe livecycle 8.2 生成文档模板，我是 adobe livecycle 设计器工具的新手。

在我的模板中，我们使用 xsd 文件将数据绑定到 xdp 文件。我在架构文件中做了一些更改。并想在我的设计器工具中反映变化。

如果我创建新的数据源，那么我以前的所有绑定都将丢失。我想保留我以前的所有绑定，也想绑定新添加的字段。

请帮我..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-21T01:21:17.640

在数据视图选项卡中，右键单击当前模式根节点并选择连接属性。

在那里您可以更新新 XSD 文件的位置，这样您将保留所有绑定

# java - 如何创建一个 SVN Maven 项目？

> ID：11083259
> 
> 赞同：1
> 
> 时间：2012-06-18T12:49:31.230
> 
> 标签：java, linux, svn, maven

我只想做一个示例。我与 git 一起工作，我对所有 svn 的东西都很陌生。我找到了创建 snv 项目的这些步骤：

```
sudo svnadmin create /home/svn/myproject
sudo chown -R www-data:subversion myproject
sudo chmod -R g+rws myproject 
```

我创建了一个示例 Maven 项目 ( `mvn archetype:generate`)。我想知道连接这两个项目或将某些内容从 maven 项目复制到该`/home/svn/myproject`文件夹​​以使其工作的方法是什么。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:03:10.317

该命令`svnadmin create`创建一个新的 svn 存储库。单个存储库旨在容纳许多项目。一旦你有了一个工作仓库，我将执行以下操作来创建一个新项目。

首先，创建要导入的初始文件。假设是“/tmp/newprojfiledir/”。

```
cd /tmp
svn import /tmp/newprojfiledir PATH -m 'your initial checkin comment' 
```

其中 PATH 可以是 URL 或本地目录，它指定 svn repo 的目标目录。

# hosting - 将网站上的一个添加移动到新的 cPanel 主机

> ID：11083260
> 
> 赞同：0
> 
> 时间：2012-06-18T12:49:34.690
> 
> 标签：hosting, cpanel, shared-hosting, transfer, server.transfer

几年来，我免费托管了几个本地组织的网页。其中一个组织希望迁移到他们自己的服务器，由他们自己的服务器提供商管理（唉，不是 A Small Orange——对他们来说有点太贵了）。

他们有

*   几个添加域/网站
*   使用 Google Apps 的高级 DNS 记录
*   几个邮件列表
*   一两个数据库
*   当然还有他们的托管目录

我只是想知道是否有办法只导出这些东西，以便可以在另一个 cPanel 中导入？

选项一：将所有东西一一移动到新主机。创建邮件列表、手动导入数据库、设置 DNS 并上传文件。

选项二：我可以导出整个站点，下载整个站点，转到新的提供商并上传，然后删除我的所有内容。

选项三：是否可以导出他们的站点部分，并将其导入到其他主机 cPanel？

还是其他选择？没有电子邮件，我什至不需要托管历史记录（但这会很好）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-02-21T11:16:55.080

如果您要从 cpanel 托管转移到另一个 cpanel 托管，则只需创建要从 WHM 转移的网站的完整备份，它将备份电子邮件、数据库、SSL、子域、插件域以及 .tar.gz 文件中的所有内容格式。下载该备份文件，然后将其上传到新服务器，并从 WHM 中的“恢复备份”选项从 WHM 中恢复它。

或者

您可以使用 WHM 中的复制帐户功能从 WHM 本身进行实时迁移，这将是移动网站和内容的更容易的选择。

但是，迁移后，您需要确保已分配专用 IP，已正确配置名称服务器（DNS 部分）等。

我建议聘请专家进行此迁移，以避免任何可能的问题。

# objective-c - CGPDFScannerScan 不会触发回调函数

> ID：11083261
> 
> 赞同：1
> 
> 时间：2012-06-18T12:49:35.143
> 
> 标签：objective-c, ios, pdf, quartz-2d, cgpdf

我使用 Quartz 解析 pdf 文件。

除了一个文件外，一切正常。回调函数根本不被调用。

我的运算符表已经创建，我使用**CGPDFOperatorTableSetCallback**添加了运算符。一切似乎都很好，只是没有调用回调。

你知道什么会导致这种行为吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T12:17:23.310

页面内容是一个大型 XObject。表单 XObject 是自包含的图形对象，它们使用类似于页面的内容流。
您需要执行以下操作：在扫描的运算符列表中包含“Do”运算符。当遇到它时，它的操作数是 XObject 的符号名。从页面字典中获取“资源”字典。从“资源”字典中获取“XObject”字典。从“XObject”字典中使用与“Do”运算符一起使用的符号名称获取您的 xobject。从 xobject 获取“子类型”键的值。如果它是“图像”，则忽略 xobject，因为它是图像。如果它是“表单”，那么您有一个表单 XObject。从 xobject 获取流并以与扫描页面内容流相同的方式对其进行扫描。您可以重用相同的扫描器类，您只需要保留上下文以了解您正在扫描的对象。
您的页面字典如下所示：

```
<<
/ArtBox[0.0 0.0 768.0 7066.0]
/BleedBox[0.0 0.0 768.0 7066.0]
/Contents 29 0 R
/CropBox[0.0 0.0 768.0 7066.0]
/Group 62 0 R
/MediaBox[0.0 0.0 768.0 7066.0]
/Parent 23 0 R
/Resources
 <<
  /ExtGState<</GS0 30 0 R>>
  /XObject<</Fm0 61 0 R>>
 >>
/Rotate 0
/TrimBox[0.0 0.0 768.0 7066.0]
/Type/Page
>> 
```

“Fm0”是页面内容流中使用的表单 XObject 的名称，是“Do”运算符的操作数。它的资源字典如下所示：

```
/Resources
 <<
  /ColorSpace<</CS0 32 0 R>>
  /ExtGState<</GS0 34 0 R/GS1 30 0 R>>
  /Font<</T1_0 38 0 R/T1_1 40 0 R>>
  /ProcSet[/PDF/Text]
  /XObject<</Fm0 45 0 R/Fm1 48 0 R/Fm2 51 0 R/Fm3 54 0 R/Fm4 57 0 R/Fm5 60 0 R>>
 >> 
```

如您所见，它使用了几种其他形式的 XObject。

# html - AppCache 24 小时？

> ID：11083262
> 
> 赞同：0
> 
> 时间：2012-06-18T12:49:40.917
> 
> 标签：html, cordova, local-storage, html5-appcache

最近我开始使用

```
<html manifest="cache.appcache"> 
```

在我的 PhoneGap 应用程序中存储资产的方法。

是否可以使用 appcache 但让它每 24 小时检查一次缓存项目的更新版本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-31T12:30:56.233

为此，您必须`cache.appcache`动态生成并添加在所需间隔内更改的注释行：

```
 CACHE MANIFEST
    # 2012-07-31 14:30

    css/default.css
    ... 
```

24小时后：

```
 CACHE MANIFEST
    # 2012-08-01 14:30

    css/default.css
    ... 
```

如果该文件的内容发生更改，浏览器会再次加载所有缓存的数据。

注意：只是触摸文件系统不会带来预期的结果。内容本身必须改变。

[http://appcachefacts.info/](http://appcachefacts.info/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T12:35:16.983

您可以在清单上设置到期日期时间

```
.htaccess
```

像这样：

```
ExpiresByType 文本/缓存清单“访问加 24 小时”
```

# javascript - 不寻常的 node.js 行为

> ID：11083263
> 
> 赞同：-1
> 
> 时间：2012-06-18T12:49:41.307
> 
> 标签：javascript, node.js

今天我看到了这段代码，它在 node.js 环境中运行。(>node.exe 测试.js)

```
var param = (typeof module !== "undefined" && module.exports) || {};

(function(exports){

   console.log(exports === module.exports);

})(param); 
```

这个日志返回了 true。

任何人都可以向我解释这种行为吗？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T12:54:16.360

如果`module`不是未定义的（它不是因为它是默认对象）并且`module.exports`是真实的事物（默认情况下是），则`exports`分配给`param`并传递给函数。

`exports`然后与 进行比较`module.exports`，它们是相同的，因为`module.exports`是对象最初来自的地方。

（`exports`不会与`module.exports`它在其他地方运行（例如，您获得的浏览器`window`，而不是`module`）相同，因为`{}`它将被分配给`param`。）

* * *

更新对问题的评论：

> 嗯，也许是错的，但我认为 ((typeof module ..) || {}) 将返回 true，但不会返回“exports”对象

不会。`&&`将（从左到右）评估为它测试的第一个虚假事物或（如果一切都是真实的）它测试的最后一个真实事物。

`typeof module !== "undefined"`是真的，所以它测试`module.exports`，这也是真的，所以它返回`module.exports`。

（`||`返回它测试的第一个真实或最后一个虚假的东西，所以它然后返回`module.exports`）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T12:54:06.423

```
var d = (a && b) || c 
```

`d`评估`b`是否`a`为真。如果`a`为假，则`d`评估为`c`。

# javascript - 无法使用 phonegap 和 html5sql.js for android 从远程 XML 重新同步数据

> ID：11083269
> 
> 赞同：1
> 
> 时间：2012-06-18T12:50:09.670
> 
> 标签：javascript, android, jquery, cordova, web-sql

这是我的整个脚本：

```
 document.addEventListener("deviceready", onDeviceReady, false); //add event for phonegap

    function resync(){

    var serviceURL = document.forms["form1"]["ServiceURL"].value;

    html5sql.process(
         [
             "DELETE FROM employees"
         ],
         function(){
          alert("loading xml");
             loadXML(serviceURL);
         },
         function(error, statement){
             alert("Error: " + error.message + " when processing " + statement);
         }        
     );
    }

    function onDeviceReady() {

    html5sql.openDatabase("emp", "HTML5 Web SQL Database", 6*300000*300000);
    html5sql.process("CREATE TABLE IF NOT EXISTS employees (empid , firstName, lastName, dob, title, department, officePhone, cellPhone, email, spousename, spousedob, marriageanniversary, picture, PRIMARY KEY (`empid`));")
    html5sql.process("CREATE TABLE IF NOT EXISTS config (ServiceURL);")

    $(document).ready(function()
    {
      renderEmployeeList();
    });

    function renderEmployeeList(){

      html5sql.process( 
        [
          {
            "sql": "SELECT * FROM config",
            "success": function(tx, results) {
              var len=results.rows.length;
              if (len==null || len==""){//check if config(serviceURL) is empty. If it is, go to settings.
                alert("XML Path is missing. Please enter a path in the settings.");
                window.location = '#settings';
              }else{
                  html5sql.process(//if config exists, start rendering employees.
                    [
                      {
                        "sql": "SELECT * FROM employees",
                        "success": function(tx, results) {
                          alert("called output select");
                          var len=results.rows.length;
                          var i;
                          for(i=0; i<len; i++) {
                            $("#output").append('<a data-ajax="false" href="employeedetails.html?id=' + results.rows.item(i).empid + '"><li class="ui-btn ui-btn-up-c ui-btn-icon-right ui-li-has-arrow ui-li" data-corners="false" data-shadow="false" data-iconshadow="true" data-wrapperels="div" data-icon="arrow-r" data-iconpos="right" data-theme="c"><div id="outputdiv" class="ui-content" style="cursor: pointer;">' + results.rows.item(i).firstName + ' ' + results.rows.item(i).lastName + '</div></li></a>');
                          }
                        }
                      }
                    ]
                  );
              }
            }
          }
        ]
      );

    }
    }

    function loadXML(XMLurl){
      alert (XMLurl);
      $.ajax({
          type: "GET",
          url: XMLurl,
          dataType: "xml",
          success: parseXml
        });  
    }

    function parseXml(xml)
    {

      $(xml).find("employee").each(function()
        {
          alert("each called");
          var $this = $(this),
          $empid = $this.attr("empid"),
          $firstName = $this.attr("firstName"),
          $lastName = $this.attr("lastName"),
          $dob = $this.attr("dob"),
          $title = $this.attr("title"),
          $department = $this.attr("department"),
          $officePhone = $this.attr("officePhone"),
          $cellPhone = $this.attr("cellPhone"),
          $email = $this.attr("email"),
          $spousename = $this.attr("spousename"),
          $spousedob = $this.attr("spousedob"),
          $marriageanniversary = $this.attr("marriageanniversary"),
          $picture = $this.attr("picture");

          alert("FName " + $firstName);

          html5sql.process(
            [
              {
                "sql": "INSERT INTO employees (empid , firstName, lastName, dob, title, department, officePhone, cellPhone, email, spousename, spousedob, marriageanniversary, picture) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
                "data": [$empid, $firstName, $lastName, $dob, $title, $department, $officePhone, $cellPhone, $email, $spousename, $spousedob, $marriageanniversary, $picture],
              }
           ]
          );
        }
      )
    }

    /* Save Configuration */
    function saveconfig(){

      var serviceURL = document.forms["form1"]["ServiceURL"].value;

      html5sql.process(
        [
          {
            "sql": "DROP TABLE config"
          }
        ]
      );

      html5sql.process(
        [
          {
            "sql": "CREATE TABLE IF NOT EXISTS config (ServiceURL)"
          }
        ]
      );

      html5sql.process(
        [
          {
            "sql": "INSERT INTO config (ServiceURL) VALUES (?)",
            "data": [serviceURL],
            "success": function(){
            alert("URL Saved.");
            loadXML(serviceURL);
            }
          }
        ]
      );

    } 
```

我使用了来自 html5sql.com 的 html5sql.js

函数 resync() 没有给出错误，事实上，它使用正确的 ServiceURL 调用 loadXML。但是远程xml中的变化并没有体现在这里。几天以来，我一直坚持这一点。任何形式的帮助将不胜感激。谢谢。

# eclipse - nsight eclipse 版本分析 nvprof

> ID：11083271
> 
> 赞同：0
> 
> 时间：2012-06-18T12:50:18.067
> 
> 标签：eclipse, cuda, nsight

我在 Ubuntu 10.04 上工作，并在 nsight eclipse 版本 5.0.0 上使用 CUDA 进行开发。

我必须使用 nsight eclipse 版本来使用 nvprof 对我的代码进行分析。我可以在终端中启动 nvprof 来分析我的代码，但是当我想在 nsight 中启动分析时，它会切换到配置文件透视图，但会向我发送此错误消息

```
org.eclipse.core.runtime.CoreException: unable to find nvprof 
```

我将文件夹放在 PATH 中，但它不起作用。对于调试器，有一个框，您可以在其中放置调试器启动器的链接，但我没有为探查器配置找到相同的链接。

如果有人使用 nsight eclipse 版本进行分析，请帮助我，因为网络上没有任何东西，我真的需要它。

如果你能帮助我，我将不胜感激。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T16:50:02.363

您是否尝试在启动器脚本中指定路径？CUDA 5.0 预览工具包没有添加路径，这就是 /usr/local/cuda/bin/nsight 在即将发布的工具包中的样子：

```
#!/bin/sh
PATH=$PATH:/usr/local/cuda-5.0/bin LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda-5.0/lib:/usr/local/cuda-5.0/lib64 UBUNTU_MENUPROXY=0 LIBOVERLAY_SCROLLBAR=0 /usr/local/cuda-5.0/libnsight/nsight 
```

确保脚本指向正确的工具包安装位置。

# android - Android - 合并两个 MP4 文件

> ID：11083272
> 
> 赞同：6
> 
> 时间：2012-06-18T12:50:21.343
> 
> 标签：android, mediarecorder, mpeg-4

我正在编写一个 Android 项目，我正在录制几个音频文件。因此，我正在设置以下参数。录音工作正常。

```
recorder.setAudioSource(MediaRecorder.AudioSource.MIC);
recorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);
recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB); 
```

我的问题是每次录制时，输出都写在一个单独的文件中。现在，我需要将这些文件合并为一个文件。有谁知道如何在 Android 项目中组合多个 MPEG 4 文件？

谢谢你的帮助....

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-18T23:27:31.670

我建议使用我的[mp4parser](http://mp4parser.googlecode.com)库，然后您不必处理本机库。看看 AppendExample。它完全符合您的要求。留意最新版本。请参阅下面的 AppendExample 以了解它是如何工作的。

```
 Movie[] inMovies = new Movie[]{MovieCreator.build(Channels.newChannel(AppendExample.class.getResourceAsStream("/count-deutsch-audio.mp4"))),
            MovieCreator.build(Channels.newChannel(AppendExample.class.getResourceAsStream("/count-english-audio.mp4")))};

    List<Track> videoTracks = new LinkedList<Track>();
    List<Track> audioTracks = new LinkedList<Track>();

    for (Movie m : inMovies) {
        for (Track t : m.getTracks()) {
            if (t.getHandler().equals("soun")) {
                audioTracks.add(t);
            }
            if (t.getHandler().equals("vide")) {
                videoTracks.add(t);
            }
        }
    }

    Movie result = new Movie();

    if (audioTracks.size() > 0) {
        result.addTrack(new AppendTrack(audioTracks.toArray(new Track[audioTracks.size()])));
    }
    if (videoTracks.size() > 0) {
        result.addTrack(new AppendTrack(videoTracks.toArray(new Track[videoTracks.size()])));
    }

    IsoFile out = new DefaultMp4Builder().build(result);

    FileChannel fc = new RandomAccessFile(String.format("output.mp4"), "rw").getChannel();
    fc.position(0);
    out.getBox(fc);
    fc.close(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:28:28.630

在 android 中没有用于组合两个音频文件的任何内置功能，如果您通过任何文件操作完成它，那么这也可以工作，因为它不工作，因为音频文件的标题不同。

我建议为您的 android 应用程序使用外部库[FFMPEG 。](https://stackoverflow.com/questions/4725773/ffmpeg-on-android/4820282#4820282)

# image - 不同的网格可视化 WebGL

> ID：11083273
> 
> 赞同：0
> 
> 时间：2012-06-18T12:50:27.810
> 
> 标签：image, webgl, mesh, xtk, paraview

我想知道为什么第[10 课](http://jsfiddle.net/gh/get/library/pure/xtk/lessons/tree/gh-pages/10/#run)中的网格看起来比我的更立体。我的网格看起来没有表面也没有深度。这是一个示例图片：

![在此处输入图像描述](../Images/bdd5bfc1a92e770fb55a8a73de95ac6b.png)

有什么建议么？我看不出加载网格是否有区别（xtk 的版本与我的相比）。我认为它不依赖于（类型）数据，因为在[ParaView](http://www.paraview.org/)中它看起来更立体。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:29:33.580

这是因为您的网格文件没有法线。如果您不提供 Paraview 将创建法线 - 不是 XTK -

您可以使用 VTK 轻松地为您的网格生成法线： [http ://www.vtk.org/doc/nightly/html/classvtkPolyDataNormals.html](http://www.vtk.org/doc/nightly/html/classvtkPolyDataNormals.html)

1-vtkPolyDataReader 2-vtkPolyDataNormals 3-vtkPolyDataWriter

也许您可以从 Paraview 或 Slicer 导出网格？也许导出的网格将包含法线......

# magento - 我无法访问我的新 Magento 模块的控制器（教程帮助）

> ID：11083275
> 
> 赞同：0
> 
> 时间：2012-06-18T12:50:43.883
> 
> 标签：magento

我正在制作一个已启用的 Magento 模块，并且我的缓存已关闭。

使用本教程... [http://www.pierrefay.com/magento-create-controller-36](http://www.pierrefay.com/magento-create-controller-36)

这是我被要求在`app/code/local/Pfay/Test`.

```
class Pfay_Test_IndexController extends Mage_Core_Controller_Front_Action
{
   public function indexAction ()
   {
     echo 'test index';
   }
   public function mamethodeAction ()
   {
     echo 'test mymethod';
    }
} 
```

但是，当我进入`magento/Pfay/Test/index`我的网络浏览器时，我得到一个 404 页面，而不是控制器。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-18T13:45:02.260

在您复制和粘贴的示例代码中，Pfay_All.xml 文件中的以下标记之间有空格：

```
<active> true </active>
<codePool> local </codePool> 
```

删除这些空格，使标签看起来完全像这样：

```
<active>true</active>
<codePool>local</codePool> 
```

此外，您使用的路径应该是`/test/index`或`/test` 不是`/Test/index` - 即测试中没有大写 T

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:09:30.330

尝试以下任一代码。

```
magento/Test/index or magento/Test or magento/test 
```

命名空间仅用于对模块进行分组。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T14:18:26.133

**教程中发现的一些错误**

本教程说要`Test`在 url 中使用，但 url 中不应有大写字母，只有小写字母。

本教程中的另一个错误是`<routeurfrontend></routeurfrontend>`标签应该是`<test></test>`. 您可以在`local/Pfay/Test/etc`.

indexController.php 应改为 IndexController.php *（注意大写 i）*

*另请阅读其他答案。其他答案很有用，因为编写教程的人英语不好，所以阅读起来可能会令人困惑。您会发现其中的第三个错误已得到纠正，因此请查找。*

# .net - UriBuilder.Query

> ID：11083277
> 
> 赞同：9
> 
> 时间：2012-06-18T12:50:45.283
> 
> 标签：.net, uribuilder

我在 .NET 中发现了一个奇怪的行为 UriBuilder

情景 1：

```
 Dim uri As New UriBuilder("http://www.test/login.aspx")
 uri.Query = "?test=Test"
 Dim url As String = uri.ToString() 
```

运行此代码后，url 字符串包含“http://www.test/login.aspx??test=Test”

解决方案是不添加？。

情景 2：

```
 Dim uri As New UriBuilder("http://www.test/login.aspx?test=123")
 uri.Query += "&abc=Test"
 Dim url As String = uri.ToString() 
```

运行该代码后，我们又得到了两个 ? “http://www.test:80/login.aspx??test=123&abc=Test”。

那么在使用 uri 构建器时我做错了什么吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-26T12:31:09.850

下面的示例设置 Query 属性。

```
 UriBuilder baseUri = new UriBuilder("http://www.contoso.com/default.aspx?Param1=7890");
   string queryToAppend = "param2=1234";

   if (baseUri.Query != null && baseUri.Query.Length > 1)
       baseUri.Query = baseUri.Query.Substring(1) + "&" + queryToAppend; 
   else
       baseUri.Query = queryToAppend; 
```

第一个字符`?`不是必需的。

更多信息：http: [//msdn.microsoft.com/en-us/library/system.uribuilder.query.aspx](http://msdn.microsoft.com/en-us/library/system.uribuilder.query.aspx)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-18T13:01:03.573

根据对该类的[MSDN 文档](http://msdn.microsoft.com/en-us/library/system.uribuilder.aspx)的评论，如果您多次设置查询属性，则会出现此错误。

刚刚查看了反编译器，`?`如果设置的值不为空，则 Query 的设置器总是在前面加上前导。

# regex - Perl 正则表达式负回顾

> ID：11083278
> 
> 赞同：3
> 
> 时间：2012-06-18T12:50:45.393
> 
> 标签：regex, perl, negative-lookbehind

试图在正则表达式处理中围绕*前瞻*和*后视。*

假设我有一个列出 PID 和其他内容的文件。我想构建一个正则表达式来匹配 PID 格式**\d{1,5}**但这也排除了某个 PID。

```
$myself = $$;
@file = `cat $FILE`;
@pids = grep /\d{1,5}(?<!$myself)/, @file; 
```

在这个正则表达式中，我尝试使用**(?<!TO_EXCLUDE)**构造将数字匹配与排除相结合。这行不通。

示例文件：

```
456
789
4567
345
22743
root
bin
sys 
```

如果有人能指出我正确的方向，将不胜感激。

也有兴趣了解在这种情况下这种消极的后视是否是最有效的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T12:59:30.933

“往后看”真的是往后看。因此，您可以检查 PID 前面是否有某些东西，而不是它是否匹配某些东西。如果您只想排除 $$，您可以更直接：

```
@file = `cat $FILE`;
@pids = grep /(\d{1,5})/ && $1 ne $$, @file; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-18T13:19:02.100

我赞成 choroba 解决方案，只是想解释为什么您的原始方法不起作用。

看，正则表达式解析器是一头复杂的野兽：它在尝试匹配尽可能多的符号的内部斗争中遭受痛苦 - 并且不惜一切代价尝试匹配。后者，嗯，通常会赢。)

例如，让我们分析以下内容：

```
my $test_line = '22743';
my $pid = '22743';
print 'Matched?', "\n" if $test_line =~ /\d{1,5}(?<!$pid)/;
print $&, "\n"; 
```

您可能会问，为什么它会打印“匹配”？因为这就是发生的事情：首先引擎尝试使用所有五个数字，然后匹配下一个子表达式 - 并且失败了（那是消极的后视点，不是吗？）

如果是你，你已经停止了 - 但不是引擎！还是觉得那阴暗的欲望，无论如何都要匹配！所以它需要下一个可能的量词 - 四个而不是五个 - 现在，当然，lookbehind 子表达式注定要成功。) 这很容易通过检查`print $&`;打印的内容来检查。

它可以在正则表达式的范围内解决吗？是的，所谓的`atomics`：

```
print 'No match for ya!', "\n" unless $test_line =~ /(?>\d{1,5})(?<!$pid)/; 
```

但我猜这通常被认为是一种黑暗魔法。)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-18T13:17:45.893

如果你很好奇如何使用正则表达式来完成，这里有一些例子：

```
/\b\d{1,5}+(?<!\b$pid)/

/\b\d{1,5}\b(?<!\b$pid)/

/\b(?!$pid\b)\d+/

/^(?!$pid$)\d+$/ 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-18T13:17:45.530

怎么样：

```
chomp(@file);      # remove newlines that will otherwise mess things up
my @pids = grep /\d{1,5}/, @file;
my %pids = map { $_ => 1 }, @pids;

delete $pids{$$};  # delete one specific pid

@pids = keys %pids; 
```

即通过散列汇集 PID 列表并删除自己的 PID。需要`chomp`从文件中读取的行来匹配 PID。

我很确定 CPAN 上有一个模块可以处理进程。

**预计到达时间：**

如果您正在阅读`readdir`评论中提到的值，则类似这样的内容可能是您的最佳选择（未经测试）：

```
opendir my $dh, "/proc" or die $!;
my @pids;
while ( my $line = readdir $dh ) {     # iterate through directory content
    next unless $line =~ /^\d{1,5}$/;  # skip non-numbers
    next if $line == $$;               # skip own PID
    push @pids, $line;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T13:14:42.340

稍微不同的方式（我尽量避免 @file = `cat text.txt`）

```
my @pids;
open my $fi, "<", "pids.txt";
while (<$fi>) {
   if (/(\d{1,5})/) {
      push @pids, $1 if $1 ne $$;
   }
}
close $fi;

print join(", ", @pids), "\n"; 
```

这是我对 SO 的第二篇文章，我希望可以提供另一种方法。

# json - fbexternal-a.akamaihd.net/safe_image.php 返回 1x1 图像

> ID：11083280
> 
> 赞同：5
> 
> 时间：2012-06-18T12:50:56.050
> 
> 标签：json, image, facebook-graph-api

在我的 facebook 阅读器应用程序中，我的图片有时不显示，这是因为 fbexternal-a.akamaihd.net/safe_image.php 不会呈现它。

我从下面的 JSON 中获取了链接，它只是 JSON 回复的相关部分。

```
 "message": "http://www.youtube.com/watch?v=RJer7-eAy3o", 
  "picture": "https://fbexternal-a.akamaihd.net/safe_image.php?d=AQCMr5crfpv0x3lm&w=130&h=130&url=http\u00253A\u00252F\u00252Fi3.ytimg.com\u00252Fvi\u00252FRJer7-eAy3o\u00252Fmqdefault.jpg", 
  "link": "http://www.youtube.com/watch?v=RJer7-eAy3o", 
  "source": "http://www.youtube.com/v/RJer7-eAy3o?version=3&autohide=1&autoplay=1", 
  "name": "Dougie MacLean - Broken Wings", 
  "caption": "www.youtube.com", 
  "description": "Dougie MacLean's 'Broken Wings' performed with strings at The Perthshire Amber Festival, October 2005.", 
  "icon": "https://s-static.ak.facebook.com/rsrc.php/v2/yj/r/v2OnaTyTQZE.gif" 
```

问题是`https://fbexternal-a.akamaihd.net/safe_image.php?d=AQCMr5crfpv0x3lm&w=130&h=130&url=http\u00253A\u00252F\u00252Fi3.ytimg.com\u00252Fvi\u00252FRJer7-eAy3o\u00252Fmqdefault.jpg`部分。

如果我访问[http://i3.ytimg.com/u00252Fvi/RJer7-eAy3o/mqdefault.jpg](http://i3.ytimg.com/u00252Fvi/RJer7-eAy3o/mqdefault.jpg)它会显示正确的图像，所以这不是问题。我做错了什么还是`safe_image.php`只是有问题，我应该将网址剥离到原始网址并使用它吗？

Tnx 和问候，Sjaak

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-20T07:21:11.883

我也遇到了类似的问题。我的问题是因为图像名称中有一个“空格”。所以它不会出现在[facebook 调试器](https://developers.facebook.com/tools/debug)和共享中。但是我检查了你的问题，里面没有空间。所以它不是上述问题的解决方案。它将帮助另一个与我的问题类似的问题。

我通过编码部分用连字符（“-”）替换空格来解决这个问题。之后我在[facebook 调试器](https://developers.facebook.com/tools/debug)中调试 url ，它出现了。这意味着 Facebook 不会显示带有“空格”的图像名称。但这背后没有合乎逻辑的原因。无论如何，它会帮助某人。

有关更多信息，请查看[Patrick D'appollonio](https://stackoverflow.com/users/1012139/patrick-dappollonio)发布的此[答案](https://stackoverflow.com/a/25216164/3049065)。它帮助到我。

# css - 如何在查询移动设备中按 ID 或类设置按钮样式

> ID：11083283
> 
> 赞同：1
> 
> 时间：2012-06-18T12:51:04.100
> 
> 标签：css, jquery-mobile

我有一个这样的提交按钮：

```
<input type="submit" data-corners="false" id="code_check_button" tabindex="5" data-rel="external" value="GO"> 
```

其中 - 使用自定义 css 主题 - 输出：[http ://sht.tl/59y3m](http://sht.tl/59y3m)

现在我想使用 id (#code_check_button) 来设置更具体的按钮样式。

不幸的是，jquerymobile 在我无法控制的代码片段中自动转换输入类型提交：http://sht.tl/cQq[正如](http://sht.tl/cQq) 您所注意到的，原始按钮 ID 是无用的......

您能告诉我如何自定义该按钮的样式（当然，无需将其包装在额外的标签中......）？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:33:37.620

If something keeps changing your intended css into useless code, this may be a situation where you would resort to simple text (eg. nano for mac or notepad for windows) Web design programs are double edged swords, most of the time the bells and whistles on these programs help make things easier, but sometimes they can make things more complicated. To custom style a button all you have to do is put your id or class selector name in the input tag and then enter the css for it. For example

CSS

```
#code_check_button { background-image: url(/*desired image url*/);
                     background-color: /*desired background color*/;
                     color: /*desired font color*/; } 
```

HTML

```
<input id="code_check_button" type="submit" name="submit"> 
```

Just try it in notepad this time.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T12:56:59.340

在您的样式表中添加 ID`#code_check_button`并提供所需的样式。请参见下面的示例：-

```
#code_check_button {
    your desired style properties here...
} 
```

**编辑：**

您可以使用生成的 div 的类并相应地设置按钮的样式。在这个生成的代码片段中，您有两个要设置样式的元素。如下请见 ：-

```
.ui-btn {
   style properties here...
}
.ui-btn .ui-btn-text {
   style properties here...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:43:59.850

CSS

```
#code_check_button {
color:#000 !important;
width:200px !important;
} 
```

您可以看到我在所有 css 属性中添加了 !important 标记。这是因为覆盖了 jQ 移动默认样式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T13:17:33.183

可以通过多种方式实现这一点。以下是一些示例：

```
submit {
     styles:styles;
} 
```

在旧浏览器中不是最兼容的：

```
input[type="submit"] {
     styles:styles;
} 
```

然后你可以定位ID：

```
#code_check_button {
     styles:styles;
} 
```

# c++ - 当字符串表示零时使用atoi？

> ID：11083291
> 
> 赞同：0
> 
> 时间：2012-06-18T12:51:46.400
> 
> 标签：c++, g++, zero, atoi

```
#include <stdio.h>
#include <stdlib.h>

int main(int argc, char **argv)
{
        if(argc != 2)
                return 1;
        if(!atoi(argv[1]))
                printf("Error.");
        else printf("Success.");
        return 0;
} 
```

当我输入一个低于或高于零值的参数时，我的代码有效。

```
[griffin@localhost programming]$ ./testx 1
Success.
[griffin@localhost programming]$ ./testx -1
Success.
[griffin@localhost programming]$ ./testx 0
Error. 
```

为什么它不起作用？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-18T12:54:42.500

这很简单，`atoi`返回转换后的数字，在你的情况下是完全正确的`0`（如预期的那样）。

没有标准的方法来检查使用`atoi`.

由于您正在编写 c++，因此您可以通过使用`std::istringstream`, `std::stoi`(C++11) 或`strtol`（在处理任意数字时更好的接口）来获得相同的结果，并进行更好的错误检查。

* * *

**std::istringstream 示例**

```
#include <sstream>

  ...

std::istringstream iss (argv[1]);
int res;

if (!(iss >> res))
  std::cerr << "error"; 
```

* * *

**std::strtol 示例**

```
#include <cstdlib>
#include <cstring>

  ...

char * end_ptr;

std::strtol (argv[1], &end_ptr, 10);

if ((end_ptr - argv[1]) != std::strlen (argv[1]))
  std::cerr << "error"; 
```

* * *

**标准::stoi** (C++11)

```
#include <string>

  ...

int res;

try {
  res = std::stoi (argv[1]);

} catch (std::exception& e) {
  std::cerr << "error";
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T12:54:49.463

因为`0`在 C 中意味着`false`并且任何非零值都意味着`true`. 并`atoi("0")`返回 0，因此`if`语句分支到`else`子句。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T12:55:51.437

[手册页](http://linux.die.net/man/3/atoi)明确指出，无法`atoi()`检测到错误。它总是返回一个数字，在您的情况下是`0`.

所以你的代码评估`if (!0)`哪个是真的，因此它错误地指示一个错误。

没有选项可以进行错误处理，`atoi()`因此您应该`strtoul()/strtol()`改用。（例如参见手册页）。

# javascript - 突出显示文本区域中的文本

> ID：11083300
> 
> 赞同：0
> 
> 时间：2012-06-18T12:52:26.757
> 
> 标签：javascript, jquery, html, css, textarea

我有一个 textarea 和一个 div。我希望当我将鼠标悬停在 div 中的特定单词上时，它也会像这样突出显示 textarea 中的单词...

[http://translate.google.com/#hi|en|%E0%A4%AE%E0%A5%87%E0%A4%B0%E0%A4%BE%20%E0%A4%A8%E0% A4%BE%E0%A4%AE%20%E0%A4%B6%E0%A4%BE%E0%A4%B9%E0%A4%AC%E0%A4%BE%E0%A4%9C%E0% A4%BC%20%E0%A4%B8%E0%A4%BF%E0%A4%82%E0%A4%B9](http://translate.google.com/#hi|en|%E0%A4%AE%E0%A5%87%E0%A4%B0%E0%A4%BE%20%E0%A4%A8%E0%A4%BE%E0%A4%AE%20%E0%A4%B6%E0%A4%BE%E0%A4%B9%E0%A4%AC%E0%A4%BE%E0%A4%9C%E0%A4%BC%20%E0%A4%B8%E0%A4%BF%E0%A4%82%E0%A4%B9)

请帮忙...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T12:59:48.013

如果你用谷歌翻译触发他，你会发现它不是一个文本区域。GTranslate 系统用“ `spans`”包裹单词并动态更改`span` `on hover`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T12:58:15.033

无法突出显示`textarea`.

话虽这么说，在元素上方/下方显示叠加层以突出显示其部分是一种常见做法（并且 translate.google.com 使用它）...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T13:00:52.190

那不是文本区域。您可以通过将文本包装在 span 中并对其进行样式设置来实现此目的

# c# - 使用 Microsoft.Speech SDK 引发 FileNotFoundException 的文本转语音？

> ID：11083302
> 
> 赞同：4
> 
> 时间：2012-06-18T12:52:34.067
> 
> 标签：c#, speech-synthesis

我正在使用 Microsoft.Speech SDK (11.0) 将文本转换为语音。我有一个 Windows 窗体应用程序，我正在使用一个非常基本的代码来说出输入的文本，但是它失败了。这是我单击按钮时的代码：

```
SpeechSynthesizer syn = new SpeechSynthesizer();
PromptBuilder pb = new PromptBuilder();
pb.AppendText("Welcome, everyone");
syn.Speak(pb); 
```

错误发生在上述代码的最后一行：

```
FileNotFoundException was unhandled
Exception from HRESULT: 0x8004503A 
```

这是完整的堆栈跟踪：

```
at Microsoft.Speech.Synthesis.SpeechSynthesizer.SpeakPrompt(Prompt prompt, Boolean async)
at Microsoft.Speech.Synthesis.SpeechSynthesizer.Speak(Prompt prompt)
at Microsoft.Speech.Synthesis.SpeechSynthesizer.Speak(PromptBuilder promptBuilder)
at MSSpeechSynth.Form1.btnSpeak_Click(Object sender, EventArgs e) in      C:\Users\prashant.k\Desktop\MSSpeechSynth\MSSpeechSynth\Form1.cs:line 30
at System.Windows.Forms.Control.OnClick(EventArgs e)
at System.Windows.Forms.Button.OnClick(EventArgs e)
at System.Windows.Forms.Button.OnMouseUp(MouseEventArgs mevent)
at System.Windows.Forms.Control.WmMouseUp(Message& m, MouseButtons button, Int32 clicks)
at System.Windows.Forms.Control.WndProc(Message& m)
at System.Windows.Forms.ButtonBase.WndProc(Message& m)
at System.Windows.Forms.Button.WndProc(Message& m)
at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
at System.Windows.Forms.NativeWindow.DebuggableCallback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)
at System.Windows.Forms.UnsafeNativeMethods.DispatchMessageW(MSG& msg)
at System.Windows.Forms.Application.ComponentManager.System.Windows.Forms.UnsafeNativeMethods.IMsoComponentManager.FPushMessageLoop(IntPtr dwComponentID, Int32 reason, Int32 pvLoopData)
at System.Windows.Forms.Application.ThreadContext.RunMessageLoopInner(Int32 reason, ApplicationContext context)
at System.Windows.Forms.Application.ThreadContext.RunMessageLoop(Int32 reason, ApplicationContext context)
at System.Windows.Forms.Application.Run(Form mainForm)
at MSSpeechSynth.Program.Main() in C:\Users\prashant.k\Desktop\MSSpeechSynth\MSSpeechSynth\Program.cs:line 18
at System.AppDomain._nExecuteAssembly(RuntimeAssembly assembly, String[] args)
at System.AppDomain.ExecuteAssembly(String assemblyFile, Evidence assemblySecurity, String[] args)
at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()
at System.Threading.ThreadHelper.ThreadStart_Context(Object state)
at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean ignoreSyncCtx)
at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
at System.Threading.ThreadHelper.ThreadStart() 
```

是什么导致了这个错误？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T19:53:43.883

正如 Microsoft 建议的那样：“语音平台运行时 11 和语音平台 SDK 11 不包括用于语音识别或语音合成（TTS 或文本到语音）的运行时语言。您必须单独安装它们。”

我通过从这里安装一种运行时语言解决了同样的问题：http: [//www.microsoft.com/en-us/download/details.aspx?id=27224](http://www.microsoft.com/en-us/download/details.aspx?id=27224)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T14:54:01.497

我使用 sdk 5.1 所以我不是专家......但我会尽力提供帮助。

1.  确保您的 ms Speech sdk 安装良好且配置良好。
2.  d 转到开始 > 控制面板 > 轻松访问 > 语音识别，然后单击文本到语音。
3.  现在使用完整的 UAC 启动您的应用程序。
4.  尝试使用“try-catch”块。
5.  也看看那里；我的搜索在这里结束；[https://forums.asp.net/p/1105408/2028838.aspx#2028838](https://forums.asp.net/p/1105408/2028838.aspx#2028838)

（对于 1> [http://msdn.microsoft.com/en-us/library/hh362873.aspx](http://msdn.microsoft.com/en-us/library/hh362873.aspx)）（对于 2> 测试“语音引擎”，我们确定 sdk 没有失败，您的应用程序有错误） （对于 3> 以管理权限运行应用程序。）

最后也是解决这个问题的重要方法；尝试卸载 sdk，清理 registry-temp 等并重新安装 sdk。并尝试使用 nuget 打包系统将必要的 dll 从 sdk 添加到您的应用程序（如果您找不到 ms 语音 sdk，您可以使用另一个找到类似 sdk 的 nuget）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-19T08:17:55.897

我遇到了类似的问题，并通过下载正确的运行时解决了它。

起初我下载了语音识别文件“MSSpeech_SR_en-CA_TELE.msi”。您需要下载具有 MSSpeech_TTS 启动的语言包，而不是作为语音识别包的 MSSpeech_SR。

希望这可以帮助。

# java - 如何处理 ListView 中的滚动？列表视图自动加载

> ID：11083303
> 
> 赞同：2
> 
> 时间：2012-06-18T12:52:36.493
> 
> 标签：java, android, android-layout

我正在尝试处理列表开头和结尾的显示。我不能使用滚动事件，但我想处理下一个事件。（尝试在没有更多元素的情况下滚动列表视图）。如何处理页脚/页眉的显示？

我在“AbsListView”类中看到了“private EdgeEffect mEdgeGlowTop”字段。没关系！但它是私有字段，我无法设置侦听器或覆盖此字段...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T07:15:06.130

你的问题似乎不是很清楚。但据我了解，您想在滚动 ListView 时添加页眉/页脚。[**这是使用Never Ending ListView**](http://mobile.dzone.com/news/android-tutorial-dynamicaly/)添加页脚的示例[](http://mobile.dzone.com/news/android-tutorial-dynamicaly/)

# c# - 无法从后面的代码访问 ControlTemplate 的内容

> ID：11083306
> 
> 赞同：0
> 
> 时间：2012-06-18T12:52:46.337
> 
> 标签：c#, wpf, xaml

这是我的 XAML。用户控件被命名为“事件”

```
<UserControl.Resources>
    <Style x:Key="eventStyle" TargetType="Thumb">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Rectangle Name="rect" Fill="CadetBlue" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</UserControl.Resources>

<Canvas>
   <Thumb Canvas.Left="0" Canvas.Top="0" Name="MoveThumb" Style="{StaticResource eventStyle}" Cursor="SizeAll" DragDelta="MoveThumb_DragDelta" DragStarted="MoveThumb_DragStarted" DragCompleted="MoveThumb_DragCompleted" />
</Canvas> 
```

这是背后的代码

```
var ev = new Event();
var rect = ev.Template.FindName("rect", ev) as Rectangle; 
```

但它不起作用：“rect”变量为空。我究竟做错了什么 ？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T21:11:43.350

您定义的模板应用于`Thumb`控件，而不是控件 - 这就是为什么在的模板中`Event`没有`rect`控件的原因。`Event`

由于您是`Event`从另一个类创建控件，因此您可以将控件公开为的代码隐藏`MoveThumb`中的属性，如下所示：`Event`

```
public Thumb TheThumb
{
    get { return MoveThumb; }
} 
```

然后您可以将代码更改为：

```
var ev = new Event();
var rect = ev.TheThumb.Template.FindName("rect", ev.TheThumb) as Rectangle; 
```

更好的是，您可以将`rect`控件公开为属性：

```
public Rectangle Rect
{
    get { return MoveThumb.Template.FindName("rect", MoveThumb) as Rectangle; }
} 
```

并像这样使用它

```
var ev = new Event();
var rect = ev.Rect; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:19:08.183

它返回**null**因为函数**FindName("controlName",TemplatedParent)**需要一个控件，在该控件上应用模板作为第二个参数。从您提供的代码中，我看不到模板何时应用于控件（**ev**用于默认模板）。因此，**rect**变量为空。

尝试这个

```
var rectangle = MoveThumb.Template.FindName("rect", MoveThumb) as Rectangle; 
```

更多信息可[在此处](http://msdn.microsoft.com/en-us/library/bb613586.aspx)和[此处获得](http://msdn.microsoft.com/en-us/library/system.windows.frameworktemplate.findname.aspx)

# c++ - 在结构的双端队列中打印第一个数组

> ID：11083308
> 
> 赞同：0
> 
> 时间：2012-06-18T12:52:53.817
> 
> 标签：c++, arrays, for-loop, iterator, deque

我有一个包含这种结构的双端队列。

```
struct New_Array {                    
    array<array<int,4>,4> mytable;       
    int h;
}; 
```

在这个结构中，2 个不同的数组可能具有相同的 h 值。

```
deque<New_Array> Mydeque; 
```

我也知道双端队列中有多少不同的 h（的值`steps`）。以及 deque( `Mydeque.size()`) 中有多少结构。

**我需要为每个 h 打印一个数组。**从`h=0`直到开始`h=steps`（步数是一个已知`int`值）。**每个要打印的数组必须更接近双端队列的末尾。**

我试过这样的事情：

```
void foo(deque<New_Array> Mydeque, int steps)
 for(int i=0; i<steps; i++)
     {
        deque<New_Array>::iterator it;
        it = find(Mydeque.begin(),Mydeque.end(),i);
        PrintBoard(*it); // This if a function where you enter the New_Array struct 
                         // and it prints the array         
     }
} 
```

以上给了我：`error C2679: binary '==' : no operator found which takes a right-hand operand of type 'const bool' (or there is no acceptable conversion)`

或者是这样的：

```
void foo(deque<New_Array> Mydeque, int steps)
for(int i=0; i<steps; i++)
     {
        deque<New_Array>::iterator it;
        for(unsigned int j=0;j<Mydeque.size();j++)
            {
            it = find_if(Mydeque.begin(),Mydeque.end(),Mydeque[j].h==i);
            PrintBoard(*it);
            break;
            }           

     } 
```

以上给了我：`error C2064: term does not evaluate to a function taking 1 arguments`

**编辑**：`deque`未排序。对于每个应打印`h`的。`array`这`array`应该是**此时**更接近双端队列末尾的那个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T12:58:57.823

记住最后一个值并跳过：

```
assert(!Mydeque.empty());
int old_h = Mydeque[0].h + 1; // make sure it's different!

for (std::size_t i = 0, end != Mydeque.size(); i != end; ++i)
{
    if (Mydeque[i].h == old_h) continue;

    print(Mydeque[i]);
    old_h = Mydeque[i].h;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:21:02.397

首先，请注意您`std::array`在堆栈上声明了您的，因此存储也将在堆栈上。这意味着迭代结构涉及为每次比较加载 (4*4+1)*int。如果这对性能敏感，我建议使用，`std::vector`因为负载将仅是外部向量指针，而`h`when 仅比较`h`.

```
struct New_Array {                    
    vector<vector<int,4>,4> mytable;
    int h;
}; 
```

其次，如果您需要通过它们的`h`值访问这些表，或者`h`一次访问具有给定值的所有表，请让每个人都更容易并将它们存储为映射中的向量，或向量的排序向量：

```
std::map<int,std::vector<New_Array> > rolodex;
rolodex[someNewArray.h].push_back(someNewArray); 
```

如果你按顺序构造这个，那么每个向量中的第一项将是要打印的：

```
for(auto it : rolodex) {
    vector<New_Array> tablesForThisH = it->second;
    if(tablesForThisH.begin() != tablesForThisH.end())
       PrintBoard(it->second[0]);
} 
```

由于`std:map`按升序（我认为）存储（和迭代）它的键，这将按升序遍历不同的`h`值。同样，它只需要加载堆栈存储的结构，它只是`h`int 和向量头（可能是 12 个字节，如[本问题](https://stackoverflow.com/questions/4421698/understanding-the-space-occupied-by-an-vector-instance-in-c)所述）。

如果代码有误，请见谅，我的 stl 有点生疏了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T12:58:49.527

遍历`deque`, 并将所有元素插入到 a`map`中，使用`h`作为键。由于您的`h`值集似乎是连续的，您可以使用 a`vector`代替，但测试是否已找到元素会更加困难。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T14:27:32.710

解决方案是：

```
void Find_Solution_Path(deque<New_Array> Mydeque, int steps)
{
for(int i=0; i<steps+1; i++)
    {
        for(int j=Mydeque.size()-1;j>-1;j--)
        {
            if (Mydeque[j].h==i)
            {
                PrintBoard(Mydeque[j]);
                cout<<endl;
                break;
            }    
        }    
    }
} 
```

# .net - 是否有关于如何创建 Umbraco v4 后台扩展的教程

> ID：11083310
> 
> 赞同：0
> 
> 时间：2012-06-18T12:53:04.213
> 
> 标签：.net, content-management-system, umbraco

自从最近宣布 umbraco 5 停产以来，我必须使用 umbraco 4.7。我需要扩展和/或向 umbraco 后台添加功能。有谁知道关于这个主题的好教程或论坛帖子。

谢谢，
彼得

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T18:06:13.803

The easiest way to extend Umbraco's functionality is to subscribe to Umbraco [events](http://our.umbraco.org/wiki/reference/api-cheatsheet/using-applicationbase-to-register-events/overview-of-all-events). The Umbraco [wiki](http://our.umbraco.org/wiki/reference/api-cheatsheet/using-applicationbase-to-register-events) gives a simple example of how to this. I don't see any specific event for searching. That seems more like a core feature. If you want to get involved with the Umbraco project, you can fork the source and make a pull request with your edits on [CodePlex](http://umbraco.codeplex.com/).

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T14:51:29.030

本文将带您朝着您想要的方向前进：

[http://www.geckonewmedia.com/blog/2009/8/3/how-to-create-a-custom-section-in-umbraco-4](http://www.geckonewmedia.com/blog/2009/8/3/how-to-create-a-custom-section-in-umbraco-4)

# ios - 当我从 .storyboard 中删除元素时，它们仍在我的应用程序中吗？

> ID：11083311
> 
> 赞同：0
> 
> 时间：2012-06-18T12:53:04.410
> 
> 标签：ios, storyboard

在我的应用程序的主视图控制器中，我添加了三个标签，但现在我想删除它们，而且当我从 .storyboard 中删除它们时，它们仍然在我的应用程序中。我不知道出了什么问题，这些标签仅与 .storyboard 一起添加，而不是在我的代码中。

谢谢你的建议...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T12:55:20.557

按 Command+Shift+K 执行完全清理

然后尝试从模拟器中删除您的应用程序，然后再次运行它

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:03:44.093

您应该尝试从您的应用程序中删除 MainStoryboard，然后将其再次添加到文件中。

# wpf - 找不到 ViewModel 的视图

> ID：11083314
> 
> 赞同：10
> 
> 时间：2012-06-18T12:53:08.503
> 
> 标签：wpf, caliburn.micro

我有一个使用 Caliburn.Micro 的 wpf 应用程序。我有一个视图 MyView：

```
<UserControl x:Class="ReferenceMaintenanceWorkspace.MyView"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
         xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
         >
  <UserControl.Resources>
 </UserControl.Resources>
 <TabControl x:Name="Items" > 
</TabControl> 
```

我也有 MyViewModel：

```
using System.ComponentModel.Composition;

namespace ReferenceMaintenanceWorkspace
{
[Export(typeof(MyViewModel))]
public class MyViewModel
{
  public MyViewModel()
  {
      base.DisplayName = "Reference Maintenance";
  } 
```

由于某种原因，我在选项卡控件上收到以下消息：

找不到 ReferenceMaintenanceWorkspace.MyViewModel 的视图。

你能解释一下为什么会发生这种情况吗？谢谢。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2015-07-02T09:46:49.757

只是为了将来，它也会在重命名类/包之后发生，但在视图中 xaml 文件“x:Class”没有更新。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-06-18T13:00:59.867

Caliburn Micro 期望您的项目中有特定的文件结构。您的视图和视图模型应位于名为 Views 和 ViewModels 的单独文件夹中。

[这](https://web.archive.org/web/20160422165130/http://buksbaum.us:80/2010/08/01/caliburn-micro-hello-world/)是一个很好的 Hello World 示例来描述这一点。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2014-08-18T18:13:02.950

您应该在引导程序中覆盖 SelectAssemblies 并提供您的视图所在的程序集名称。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2018-06-14T10:29:27.043

确保您有文件夹 ViewModels 和 Views。还要确保您的类和用户控件/窗口的名称也遵循这些命名约定，例如：

*   = 视图模型
*   == YoloViewModel
*   = 观看次数
*   == YoloView

如果视图和视图模型位于不同的程序集中，请尝试以下操作：

在您的引导程序中，您需要添加视图模型/视图所在的程序集：

```
protected override IEnumerable<Assembly> SelectAssemblies()
{
  var assemblies = base.SelectAssemblies().ToList();
  assemblies.Add(typeof(MyProject.Foo.ViewModels.YoloViewModel).Assembly);

  return assemblies;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-09-13T09:29:52.277

我认为，我想从两个方面解决这个问题。1.在解决方案中，您应该有两个文件夹，一个是“Views”，另一个是“ViewModels”。

2.在您的引导程序中，您需要添加视图模型或视图所在的程序集：

```
protected override IEnumerable<Assembly> SelectAssemblies()
{
    var assemblies = base.SelectAssemblies().ToList();
    assemblies.Add(typeof(Project.ViewsNamespace.SomeView).Assembly);
   return assemblies;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-05-03T21:04:22.283

检查拼写错误。意思是如果您的 ViewModel 类名称是 ShellViewModel.CS，那么您的视图名称应该是 ShellView。打字错误可能在您的 ViewModel 文件夹中，您有 ShelViewModel.CS，而在您的 View 文件夹中，您有 ShellView.CS。

# python - 如何在 Python 中实例化模块

> ID：11083315
> 
> 赞同：4
> 
> 时间：2012-06-18T12:53:15.343
> 
> 标签：python, python-2.7

我之前听说过“模块也只是类”。我有几种情况，主要是单元测试和交互式解释器实验，我想在变量中创建一个模块，而不必创建任何外部文件。我想像：

```
>>> import sys
>>>
>>> m = sys.Module() # <- This is the class I want
>>> m.foo = 'bar'
>>> m
<module 'm' (instantiated)>
>>>
>>> sys.modules['testmodule'] = m
>>>
>>> import testmodule
>>> print testmodule.foo
bar 
```

注意：我知道我可以将任何对象插入模块字典，但我对创建模块实例特别感兴趣

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-18T12:56:09.033

```
>>> import types
>>> help(types.ModuleType)
>>> mymod = types.ModuleType("MyMod")
>>> mymod
<module 'MyMod' (built-in)>
>>> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:36:45.697

另外，为了答案的完整性，我注意到类型就像类一样工作（它们是类吗？），这意味着我可以这样做：

```
>>> import sys
>>> Module = type(sys)
>>>
>>> mymodule = Module('mymodule')
>>> mymodule
<module 'mymodule' (built-in)> 
```

可能不建议在现实世界的应用程序中使用，但在交互式解释器中仍然可以节省时间

# data-binding - angular.js（或 knockout.js）与其他 UI 库的集成？

> ID：11083316
> 
> 赞同：9
> 
> 时间：2012-06-18T12:53:18.077
> 
> 标签：data-binding, knockout.js, angularjs

我将为 Web 应用程序使用 knockout.js 或 angular.js 库（绑定支持的 b/c）。

我的问题是 - 您将这些库集成到现有 UI 库（如 Dojo、jQueryUI、Ext.js、YUI 等）中的经验如何。例如，数据绑定支持/语法在 UI 库中的使用情况如何？您是否必须实现诸如自定义绑定之类的东西才能使用小部件表单 UI 库？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-18T12:59:03.773

对于**Knockout**，情况相当不错。[可以通过自定义绑定](http://knockoutjs.com/documentation/custom-bindings.html)与第三方小部件集成。Bindings API 非常简单和严格。您只需要实现一种或两种方法（引用 Knockout 文档）：

```
ko.bindingHandlers.yourBindingName = {
    init: function(element, valueAccessor, allBindingsAccessor, viewModel) {
        // This will be called when the binding is first applied to an element
        // Set up any initial state, event handlers, etc. here
    },
    update: function(element, valueAccessor, allBindingsAccessor, viewModel) {
        // This will be called once when the binding is first applied to an element,
        // and again whenever the associated observable changes value.
        // Update the DOM element based on the supplied values here.
    }
}; 
```

大多数时候实现单一`update`方法就足够了。甚至还有[一组现成的**jQuery UI**](https://github.com/madcapnmckay/Knockout-UI)绑定。它没有涵盖所有 jQuery UI 小部件，但由于创建自定义绑定非常简单，您可以根据需要实现自己的绑定。

至于**Angular JS**，情况就更加困难了。您可以创建自定义绑定作为您自己的[Directive](http://docs.angularjs.org/guide/directive)的一部分。Directives API 要求您编写更多代码。指令的生命周期也相当复杂。因此，他们将需要相当多的时间来学习。

同时，它允许您指定行为的许多不同方面。例如，您可以完全重写小部件的内部 HTML 表示，`directive`并在内部使用 Angular 模板。在 Knockout 中，您需要为此使用 jQuery。不幸的是，与 Knockout 指令中的自定义绑定不同，它更适合编写自己的小部件，而不适合与现有小部件集成。

总结一下：

*   淘汰赛绑定更容易。与第三方小部件集成很容易。
*   Angular 指令更适合编写自己的小部件，但同时也更强大。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T12:58:18.650

通常，您会实现自定义绑定以与外部库一起使用，但通常有大量的开源工作已经取得了相当大的进展。查看

[https://github.com/SteveSanderson/knockout/wiki/Bindings](https://github.com/SteveSanderson/knockout/wiki/Bindings)

如果没有可用的，实现你自己的并不是非常复杂：

[http://knockoutjs.com/documentation/custom-bindings.html](http://knockoutjs.com/documentation/custom-bindings.html)

# javascript - sqlite 的 Javascript-ORM-Wrapper

> ID：11083319
> 
> 赞同：0
> 
> 时间：2012-06-18T12:53:33.457
> 
> 标签：javascript, sqlite, activerecord, orm, cordova

我正在寻找围绕 Sqlite 的 Javascript 中的 ORM-Wrapper 实现，例如这些曾经与 Ruby on rails 捆绑在一起的简单 CRUD 操作。

我们使用 phonegap 构建了一个应用程序，并希望使用 Datamapping 和/或 ActiveRecord-Patterns 而不是普通的 sql-queries。

有没有人给我们一些好的提示？

提前非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T11:37:16.357

试试[persistance.js](http://persistencejs.org/)

在那里你可以创建你的 javascript 对象

```
var Foo = persistance.define('Foo', {
  bar: "TEXT"
}
var foo = new Foo({bar: "Bar"});
persistence.add(foo);
persistence.flush(); 
```

然后你可以用 Foo.all().filter().order().limit() 之类的东西来获取信息它支持迁移、事务、与远程服务器同步、与 jquery 集成等。你可以查看更多文档...

# google-maps - 使用 where 子句过滤融合表

> ID：11083322
> 
> 赞同：0
> 
> 时间：2012-06-18T12:53:54.230
> 
> 标签：google-maps, google-maps-api-3, google-fusion-tables

我正在尝试使用 WHERE 子句过滤融合表，以显示低于特定大小的土地区域。我不确定这是否是一个简单的语法问题，但这个过滤器对我不起作用。这是代码：

```
var layer = new google.maps.FusionTablesLayer({

query: {

select: 'Geometry',

from: 4310315,

where: 'rollingarea' < 400,

  }
}); 
```

我尝试了不同的变体，例如 'rollingarea < 40' & "'rollingarea' < 400" 但无法让它工作。

任何帮助将非常感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:33:37.267

查看您的[表格](https://www.google.com/fusiontables/DataSource?dsrcid=4310315)，列名是“滚动区域”。

尝试： [“'滚动区域' < 400”](http://www.geocodezip.com/v3_FusionTablesLayer_linktoA.html?lat=55.134627&lng=-7.702476&zoom=9&type=m&tableid=4310315&tablequery=select%20geometry%20from%204310315%20where%20%22%27ROLLING%20AREA%27%20%3C%20400%22)

# .net - 添加新实体时的 WCF 方法返回类型

> ID：11083331
> 
> 赞同：2
> 
> 时间：2012-06-18T12:54:17.333
> 
> 标签：.net, wcf, validation

我对 WCF 完全陌生。

我想听听您对设置在主机服务器上添加新内容的服务方法的返回类型的想法。

我需要让客户知道用户电子邮件地址是否已经存在，否则继续。您更喜欢布尔值还是异常（那么意外异常呢）？

问题是，将来可能会添加许多验证标准，如果插入成功完成，我还需要知道新生成的用户 ID。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:00:09.413

您可以创建一个从`CreateSomething()`方法返回的结果类，并在出现问题时抛出一个`FaultException`：

```
public AddMemberResult AddMember(Member member)
{

    // check all input, create the member

    if (allGood)
    {
        return new AddMemberResult { UserID = createdMember.ID };
    }
    else
    {
        throw new FaultException<AddMemberError>(new AddMemberError(errors));
    }
}

class AddMemberResult
{
    public int UserID { get; set; } 
}

class AddMemberError
{
    public AddMemberError(List<Error> errors)
    {
        Errors = errors;
    }

    List<Error> Errors { get; set; }
}

class Error
{
    public int Code { get; set; }   
    public string Description { get; set; } 
} 
```

当然，您可以简单地返回`int`from `AddMember()`，但使用类作为返回类型，您可以应用版本控制，而无需更新所有客户端。如果您要添加一个新属性，说明`boolean IsActivated`您还想返回哪个属性，您可以在`AddMemberResult`类中简单地为该属性创建一个属性，而不会破坏现有客户端。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T12:58:19.720

我会例外。

正如您所说，您需要返回一个 id，因此这是成功调用时服务的正确返回类型。

如果呼叫失败，您将需要了解有关问题的信息。这就是例外。它们可以包含大量信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:39:05.357

不要抛出异常，因为它会导致通道陷入**FAULT**状态，这意味着如果您使用会话，您将不得不重新创建与服务器的新连接。这会导致沟通效率低下。

我将创建一个继承自**IExtensibleDataObject的数据合约**

例如，

```
[DataContract]
    public  class Result:IExtensibleDataObject
    {
        [DataMember]
        public bool Created { get; set; }

        [DataMember]
        public Guid NewID { get; set; }

    } 
```

对于未来的扩展，您可以根据您拥有的场景（需要/不需要架构验证）将数据合同版本控制应用于您的类。更多信息可[在此处获得](http://msdn.microsoft.com/en-us/library/ms733832.aspx)

# c++ - OpenGL FBO - 白色像素显得透明

> ID：11083333
> 
> 赞同：1
> 
> 时间：2012-06-18T12:54:21.423
> 
> 标签：c++, opengl, 2d, alphablending, fbo

我正在使用 OpenGL 制作 2D 游戏。我最近尝试实现帧缓冲区对象，但在混合方面遇到了一些问题。

我正在创建一个 FBO（使用 GL_RGBA 作为格式）。当我渲染到 FBO 时，我首先将其清除为完全透明的黑色，然后禁用 GL_BLEND。然后我绘制我的纹理，然后我再次启用 GL_BLEND。当我绘制 FBO 纹理时，我分别使用 GL_SRC_ALPHA 和 GL_ONE_MINUS_SRC_ALPHA 作为源像素和目标像素，作为混合功能。我将其渲染为带纹理的四边形。这不能正常工作，因为白色像素看起来是透明的。我尝试过尝试不同的混合函数值，但我尝试过的所有方法都有问题。我不完全理解混合是如何工作的，所以我很难理解这一点。也许我在这里遗漏了一些明显的东西？

这是它现在的样子。当它被突出显示时，按钮周围应该会发光，但它周围的像素看起来是透明的：http: [//i.snag.gy/RnV4s.jpg](http://i.snag.gy/RnV4s.jpg)

您还可以在图像中看到两个文本框。顶部是正常绘制的，没有 FBO。纹理也可以在没有 FBO 的情况下正常渲染，所以我知道问题出在我的帧缓冲区代码中。

我已将我的“RenderTarget”类粘贴到 pastebin（我习惯将其称为渲染目标而不是 FBO）：[http ://pastebin.com/dBXgjrUX](http://pastebin.com/dBXgjrUX)

这就是我使用它的方式：

```
RT->Begin();
// draw stuff
RT->End();
RT->Draw(); 
```

有人能帮我吗？如果您需要有关我的问题的更多信息，请告诉我。

编辑：这是我在启动时设置的 OpenGL 属性：

```
// Initialize shaders
shaderManager.InitializeStockShaders();

// Set some OpenGL properties
glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
glShadeModel(GL_SMOOTH);
glAlphaFunc(GL_GREATER, 0.0f);

// Enables/disables
glEnable(GL_ALPHA_TEST);
glEnable(GL_BLEND);
glDisable(GL_DEPTH_TEST);
glDisable(GL_DITHER);
glDisable(GL_LIGHTING); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:19:16.917

我很难说出你的问题到底是什么，因为你没有提供源代码。唉，我看到几个潜在的麻烦制造者：

首先，您告诉您要在按钮周围绘制光晕。我认为，所有按钮都被绘制到 FBO 中，并将它们合并到 UI 覆盖中。对我来说，Glow 听起来就像你想要混合某些东西，所以你可能还想启用混合，绘制到 FBO。

接下来要注意深度缓冲区问题。混合和深度缓冲具有特殊的相互作用。在您的情况下，我建议禁用对 FBO 的深度测试和深度写入（或者根本不使用对 FBO 的深度缓冲区附件）。最后绘制发光按钮，这样它就不会阻止绘制其他按钮。此外，您必须确保您的发光具有非零 alpha 值，否则它将混合透明。这是您在着色器或纹理环境中控制的内容（取决于您使用的内容）。

* * *

### 更新1：

您的 FBO 类不能正确确保附加到绑定帧缓冲区的纹理不能自己绑定。不过，通过将附件代码移动到绑定中很容易修复，其中纹理也未适当绑定。请参阅我编辑的 pastebin [http://pastebin.com/1uVT7VkR](http://pastebin.com/1uVT7VkR)（我可能错过了一些东西）。

# ios - UIBarButtonItem 上没有阴影/浮雕

> ID：11083335
> 
> 赞同：6
> 
> 时间：2012-06-18T12:54:24.650
> 
> 标签：ios, cocoa-touch, uiimage, uibarbuttonitem

我有一个自定义 UIBarButtonItem 的问题。当我通过创建自定义 UIBarButtonItem

```
 [[UIBarButtonItem alloc]initWithImage:[UIImage imageNamed:@"FilterIcon.png"] style:UIBarButtonItemStyleBordered target:self action:@selector(filterTouched:)]; 
```

生成的按钮没有“浮雕”外观，系统项目通过在其图标后面放置一个半透明的黑色阴影来实现。

![左：系统项，右：自定义项](../Images/4d5b008cf930f839bd7248a4055b6234.png)

在左侧，您可以看到“组织”系统栏按钮项，右侧是上面代码的结果。

在资源中创建阴影是徒劳的，因为 iOS/Cocoa 只使用了图像的遮罩，并丢弃了任何颜色信息。

有趣的是，如果我在 Interface-Builder 中创建条形按钮项，它看起来不错。但是，在我的问题的上下文中，我需要在代码中创建按钮项。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-08T13:21:51.597

James Furey 的脚本有 Objective-C 版本。

```
- (UIImage *)applyToolbarButtonStyling:(UIImage *)oldImage {
    float shadowOffset = 1;
    float shadowOpacity = .54;
    CGRect imageRect = CGRectMake(0, 0, oldImage.size.width, oldImage.size.height);
    CGRect shadowRect = CGRectMake(0, shadowOffset, oldImage.size.width, oldImage.size.height);
    CGRect newRect = CGRectUnion(imageRect, shadowRect);
    UIGraphicsBeginImageContextWithOptions(newRect.size, NO, oldImage.scale);
    CGContextRef ctx = UIGraphicsGetCurrentContext();
    CGContextScaleCTM(ctx, 1, -1);
    CGContextTranslateCTM(ctx, 0, -(newRect.size.height));
    CGContextSaveGState(ctx);
    CGContextClipToMask(ctx, shadowRect, oldImage.CGImage);
    CGContextSetFillColorWithColor(ctx, [UIColor colorWithWhite:0 alpha:shadowOpacity].CGColor);
    CGContextFillRect(ctx, shadowRect);
    CGContextRestoreGState(ctx);
    CGContextClipToMask(ctx, imageRect, oldImage.CGImage);
    CGContextSetFillColorWithColor(ctx, [UIColor colorWithWhite:1 alpha:1].CGColor);
    CGContextFillRect(ctx, imageRect);
    UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    return newImage;
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-29T09:02:00.857

我认为这些对另一个问题的回答涵盖了发生这种情况的*原因：*

[https://stackoverflow.com/a/3476424/1210490](https://stackoverflow.com/a/3476424/1210490)

[https://stackoverflow.com/a/6528603/1210490](https://stackoverflow.com/a/6528603/1210490)

UIBarButtonItems 的行为会有所不同，具体取决于您以编程方式附加它们的位置。如果将它们附加到工具栏，它们将变成白色的“浮雕”图标。如果您将它们附加到导航栏，它们不会。

我花了过去几个小时编写一个函数来将工具栏 UIBarButtonItem 样式应用于 UIImages。**它是用 C# 为 MonoTouch 编写的**，但我相信你可以将它调整为 Obj-C 没问题...

```
UIImage ApplyToolbarButtonStyling(UIImage oldImage)
{
    float shadowOffset = 1f;
    float shadowOpacity = .54f;
    RectangleF imageRect = new RectangleF(PointF.Empty, oldImage.Size);
    RectangleF shadowRect = new RectangleF(new PointF(0, shadowOffset), oldImage.Size);
    RectangleF newRect = RectangleF.Union(imageRect, shadowRect);
    UIGraphics.BeginImageContextWithOptions(newRect.Size, false, oldImage.CurrentScale);
    CGContext ctxt = UIGraphics.GetCurrentContext();
    ctxt.ScaleCTM(1f, -1f);
    ctxt.TranslateCTM(0, -newRect.Size.Height);
    ctxt.SaveState();
    ctxt.ClipToMask(shadowRect, oldImage.CGImage);
    ctxt.SetFillColor(UIColor.FromWhiteAlpha(0f, shadowOpacity).CGColor);
    ctxt.FillRect(shadowRect);
    ctxt.RestoreState();
    ctxt.ClipToMask(imageRect, oldImage.CGImage);
    ctxt.SetFillColor(UIColor.FromWhiteAlpha(1f, 1f).CGColor);
    ctxt.FillRect(imageRect);
    UIImage newImage = UIGraphics.GetImageFromCurrentImageContext();
    UIGraphics.EndImageContext();
    return newImage;
} 
```

因此，曾经看起来像这样的 UIBarButtonItem：

![前](../Images/15fb389ba27d7cf76973816691c8cd50.png)

而是使用上面的函数创建的，如下所示：

```
UIBarButtonItem barButtonItem = new UIBarButtonItem(ApplyToolbarButtonStyling(UIImage.FromFile("MusicIcon.png")), UIBarButtonItemStyle.Plain, delegate {}); 
```

现在看起来像这样：

![后](../Images/593b117ab6447872c7c6a9642126af07.png)

希望这对将来的某人有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T15:18:45.370

请注意 James Furey 脚本中的阴影偏移。我做了以下经验：

```
float shadowOffset = 1.0f // for a UIBarButtonItem in UINavigationItem
float shadowOffset = 0.0f // for a UIBarButtonItem in UIToolBar 
```

这是在 iOS 6.1 SDK 中观察到的。

（现在在 iOS 7 下已过时）

# delphi - 使用常规过程处理类事件（Delphi）

> ID：11083336
> 
> 赞同：5
> 
> 时间：2012-06-18T12:54:26.343
> 
> 标签：delphi, events, delphi-xe, pascal

我在一个简单的过程（不是类中的方法）内以编程方式创建一个数据库连接对象。

```
mydb:= TUniConnection.Create(nil);
mydb.Database:= knowledge_db_name;
mydb.LoginPrompt:= False;
mydb.Username:= aaa;
mydb.Password:= bbb; 
```

现在我需要处理错误和与其他程序的断开连接。当我尝试这样做时：

```
mydb.OnError:= OnConnectionError;
mydb.OnConnectionLost:= OnConnectionLost; 
```

编译器告诉我

```
[DCC Error] test.pas(373): E2009 Incompatible types: 'method pointer and regular procedure' 
```

我该如何解决这个问题？以下是事件过程的定义：

```
procedure OnConnectionError(Sender: TObject; E: EDAError; var Fail: Boolean);
procedure OnConnectionLost(Sender: TObject; Component: TComponent; ConnLostCause: TConnLostCause; var RetryMode: TRetryMode); 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-18T14:10:56.777

如果您没有合适的类来放置事件处理程序，您可以定义一个虚拟类并将事件处理程序设为`class procedure`s。然后您不必创建类的实例，但可以分配`mydb.OnError:= TMyDummyEventHandlerClass.OnConnectionError;`.

这是一个示例 - 我使用不同的事件，因为我没有`TUniConnection`但想确保一切都编译。:-)

```
type
  // Dummy class to hold event handlers:
  TXMLEventHandlers = class
    // Event handlers:
    class procedure OnBeforeOpen(Sender: TObject);
    class procedure OnAfterOpen(Sender: TObject);
  end;

class procedure TXMLEventHandlers.OnBeforeOpen(Sender: TObject);
begin
  MessageBox(0, PChar(ClassName + '.OnBeforeOpen'), nil, 0)
end;

class procedure TXMLEventHandlers.OnAfterOpen(Sender: TObject);
begin
  MessageBox(0, PChar(ClassName + '.OnAfterOpen'), nil, 0)
end;

procedure Test;
var
  xml: TXMLDocument;
begin
  xml := TXMLDocument.Create(nil);
  try
    // Note: No instance of `TXMLEventHandlers` must be created:
    xml.AfterOpen := TXMLEventHandlers.OnAfterOpen;
    xml.BeforeOpen := TXMLEventHandlers.OnBeforeOpen;

    xml.Active := True; // Calls the two event handlers
  finally
    xml.Free;
  end;
end; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-18T13:30:24.460

如果您不想在堆上实例化类的实例，则可以使用记录方法。我有时这样做是为了避免使用堆，但这种方法可以方便您的需要。

```
type
  TMyEventHandler = record
    procedure OnConnectionError(Sender: TObject; E: EDAError; var Fail: Boolean);
    procedure OnConnectionLost(Sender: TObject; Component: TComponent; ConnLostCause: TConnLostCause; var RetryMode: TRetryMode);
  end;

procedure TMyEventHandler.OnConnectionError(Sender: TObject; E: EDAError; var Fail: Boolean);
begin
  ....
end;

procedure TMyEventHandler.OnConnectionLost(Sender: TObject; Component: TComponent; ConnLostCause: TConnLostCause; var RetryMode: TRetryMode);
begin
  ....
end;

var
  EventHandler: TEventHandler;//global variable

......

mydb.OnError := EventHandler.OnConnectionError;
mydb.OnConnectionLost := EventHandler.OnConnectionLost; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T12:58:46.757

您的两个事件过程需要是类的方法，而不是本地/全局过程。例如：

```
procedure TForm1.OnConnectionError(Sender: TObject; E: EDAError; var Fail: Boolean); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-07-20T19:27:25.630

虽然使用`class`方法是一个干净的解决方案，但*可以*使用常规的非类过程作为事件处理程序，您不能*直接*分配它，但可以使用记录*间接分配它。*[`TMethod`](http://docwiki.embarcadero.com/Libraries/en/System.TMethod)您只需`Self`向该过程添加一个显式参数。

例如：

```
procedure OnConnectionError(Self: Pointer; Sender: TObject; E: EDAError; var Fail: Boolean);
begin
  ...
end;

procedure OnConnectionLost(Self: Pointer; Sender: TObject; Component: TComponent; ConnLostCause: TConnLostCause; var RetryMode: TRetryMode);
begin
  ...
end;

var
  M: TMethod;
begin
  M.Data := ... whatever you want ...;
  M.Code := @OnConnectionError;
  mydb.OnError := TDAConnectionErrorEvent(M);

  M.Data := ... whatever you want ...;
  M.Code := @OnConnectionLost;
  mydb.OnConnectionLost := TConnectionLostEvent(M);
end; 
```

或者：

```
procedure OnConnectionError(Self: Pointer; Sender: TObject; E: EDAError; var Fail: Boolean);
begin
  ...
end;

procedure OnConnectionLost(Self: Pointer; Sender: TObject; Component: TComponent; ConnLostCause: TConnLostCause; var RetryMode: TRetryMode);
begin
  ...
end;

var
  ErrorHandler: TDAConnectionErrorEvent;
  LostHandler: TConnectionLostEvent;
begin
  TMethod(ErrorHandler).Data := ... whatever you want ...;
  TMethod(ErrorHandler).Code := @OnConnectionError;
  mydb.OnError := ErrorHandler;

  TMethod(LostHandler).Data := ... whatever you want ...;
  TMethod(LostHandler).Code := @OnConnectionLost;
  mydb.OnConnectionLost := LostHandler;
end; 
```

这种方法的好处是您可以将`Self`参数设置为您想要的任何值，这对于将用户定义的数据传递给事件处理程序很有用。

# android - 我怎样才能从左到右调整布局？

> ID：11083337
> 
> 赞同：0
> 
> 时间：2012-06-18T12:54:41.890
> 
> 标签：android, android-layout, animation

我想知道可以从左到右倾斜的布局。请给我任何帮助我的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:18:25.990

您可以为手机水平或垂直放置时创建 .xml 布局。要创建水平布局，只需创建一个新的 .xml 文件并检查您是否希望布局是水平的。

# facebook - 分享不显示图片

> ID：11083340
> 
> 赞同：0
> 
> 时间：2012-06-18T12:54:48.787
> 
> 标签：facebook, image, share

我正在尝试使用 facebook 共享按钮，但是当我使用该按钮共享 URL 时，图像不会显示在 facebook 上。

使用 facebook 调试器，图像正确显示，但不在我的个人资料中。谁能帮我解决这个问题？

（抱歉英语不好）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-05T06:27:33.240

在您的图像具有访问图像的公共 url 之前，您的图像不会从 localhost 显示，Facebook 需要公共 url 才能在共享 iframe 上显示图像。

只是为了检查，从谷歌选择任何图像 url 并将其硬编码到您的图像路径中，然后尝试一次。你会看到图像。

# c# - 带有（只是一点点）Unity 3D 的 iOS 项目？

> ID：11083342
> 
> 赞同：2
> 
> 时间：2012-06-18T12:54:53.880
> 
> 标签：c#, iphone, objective-c, ios, unity3d

使用 Unity 3D 进行开发的标准方法是在 Unity 3D IDE 中进行开发，并在必要时生成 Xcode 项目。如果我们需要 UIKit 支持或其他 Cocoa-Touch 功能，我们需要编写插件或包装器来进行桥接。

是否有可能我们使用 Cocoa-Touch 和 Objective-C 构建整体结构，并且仅在某些特定场合利用 Unity 3D 的 3D 功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:59:17.670

如果 Unity 自动将您的整个 3D 项目包装在 Obj-C 项目中，那么不，这是不可能的。

为什么不直接在游戏中完成你想要做的事情呢？Unity 支持许多不同的 .NET 库——您肯定可以在 Unity 本身内完成您需要的东西吗？

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-23T22:14:15.087

我同意，只使用 Unity 或不使用 unity，将 SDK 混合在一起非常复杂

# javascript - 用 Javascript 创建一个动态的 div 网格

> ID：11083345
> 
> 赞同：3
> 
> 时间：2012-06-18T12:55:01.670
> 
> 标签：javascript, html, grid, dhtml

我想创建一个 HTML div 网格，它具有相同的行数和列数，但行数/列数基于将传递给 Javascript 函数的特定数字。

例如，如果数字为 3，则网格将为 3 行和 3 列

如果数字是 4，网格将是 4 行和 4 列..等等

在 3 的情况下，输出的代码需要看起来像：

```
<div class="row">
  <div class="gridsquare">1</div>
  <div class="gridsquare">2</div>
  <div class="gridsquare">3</div>
</div>
<div class="row">
  <div class="gridsquare">4</div>
  <div class="gridsquare">5</div>
  <div class="gridsquare">6</div>
</div>
<div class="row">
  <div class="gridsquare">7</div>
  <div class="gridsquare">8</div>
  <div class="gridsquare">9</div>
</div> 
```

什么是通过 javascript 进行迭代的好方法，以便可以识别正确的元素以添加行 div 开始或结束标签（？）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T13:17:48.563

这些方面的东西应该对你有用。

```
<html><head> 
  <script language="javascript"> 
    function genDivs(v){ 
      var e = document.body; // whatever you want to append the rows to: 
      for(var i = 0; i < v; i++){ 
        var row = document.createElement("div"); 
        row.className = "row"; 
        for(var x = 1; x <= v; x++){ 
            var cell = document.createElement("div"); 
            cell.className = "gridsquare"; 
            cell.innerText = (i * v) + x;
            row.appendChild(cell); 
        } 
        e.appendChild(row); 
      } 
      document.getElementById("code").innerText = e.innerHTML;

    }
  </script> 
</head> 
<body> 
    <input type="button" onclick="genDivs(6)" value="click me"> 
    <code id="code"></code>
</body> 
</html> 
```

结果：

```
 <div class="row">
    <div class="gridsquare">
      1
    </div>

    <div class="gridsquare">
      2
    </div>

    <div class="gridsquare">
      3
    </div>

    <div class="gridsquare">
      4
    </div>

    <div class="gridsquare">
      5
    </div>

    <div class="gridsquare">
      6
    </div>
  </div>

  <div class="row">
    <div class="gridsquare">
      7
    </div>

    <div class="gridsquare">
      8
    </div>

    <div class="gridsquare">
      9
    </div>

    <div class="gridsquare">
      10
    </div>

    <div class="gridsquare">
      11
    </div>

    <div class="gridsquare">
      12
    </div>
  </div>

  <div class="row">
    <div class="gridsquare">
      13
    </div>

    <div class="gridsquare">
      14
    </div>

    <div class="gridsquare">
      15
    </div>

    <div class="gridsquare">
      16
    </div>

    <div class="gridsquare">
      17
    </div>

    <div class="gridsquare">
      18
    </div>
  </div>

  <div class="row">
    <div class="gridsquare">
      19
    </div>

    <div class="gridsquare">
      20
    </div>

    <div class="gridsquare">
      21
    </div>

    <div class="gridsquare">
      22
    </div>

    <div class="gridsquare">
      23
    </div>

    <div class="gridsquare">
      24
    </div>
  </div>

  <div class="row">
    <div class="gridsquare">
      25
    </div>

    <div class="gridsquare">
      26
    </div>

    <div class="gridsquare">
      27
    </div>

    <div class="gridsquare">
      28
    </div>

    <div class="gridsquare">
      29
    </div>

    <div class="gridsquare">
      30
    </div>
  </div>

  <div class="row">
    <div class="gridsquare">
      31
    </div>

    <div class="gridsquare">
      32
    </div>

    <div class="gridsquare">
      33
    </div>

    <div class="gridsquare">
      34
    </div>

    <div class="gridsquare">
      35
    </div>

    <div class="gridsquare">
      36
    </div>
  </div> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T13:02:33.283

```
var n=4;//take grid column value as you want

for(var i = 0; i < n; i++) {
    document.body.innerHTML+='<div class="row">';

    for(j = 0; j < n; j++) {
        document.body.innerHTML+='<div class="gridsquare">' + (i*5+j+1) + '</div>';
    }

    document.body.innerHTML+='</div>';
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:02:37.183

```
var grd="";
var rowCount=3;
for(var i=0; i<rowCount; i++){
/*here make whole string with row id to make identification of row then 
```

您可以选择特定的行 */

```
}

$(yourelement).append(grd); 
```

我认为这将是识别行的好方法

# wpf - WPF 上下文菜单，其项目被定义为数据模板

> ID：11083348
> 
> 赞同：3
> 
> 时间：2012-06-18T12:55:13.893
> 
> 标签：wpf, binding, mvvm, contextmenu, datatemplate

我有一个显示项目集合的列表视图，每个项目都有一个视图模型（MVVM）作为其基础数据。

当用户右键单击这些列表视图项之一时，我想做的是在上下文菜单中显示不同的菜单项。显示的菜单项取决于所选项目的类型（即底层视图模型的类型）。

我希望下面的工作，但它没有（上下文菜单中不显示任何项目）。

```
<ListView.ContextMenu>
<ContextMenu DataContext="{Binding Path=PlacementTarget.SelectedItem, RelativeSource={RelativeSource Self}}">
    <ContextMenu.Resources>                        
        <DataTemplate DataType="{x:Type ViewModels:ViewModel1}">
            <MenuItem Header="DoStuffForVM1" Command="{Binding DoStuffForVM1Command}"/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type ViewModels:ViewModel2}">
            <MenuItem Header="DoStuffForVM2" Command="{Binding DoStuffForVM2Command}"/>
        </DataTemplate>
    </ContextMenu.Resources>
    <ContentPresenter ContentSource="{Binding}" />
</ContextMenu>
</ListView.ContextMenu> 
```

有任何想法吗？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T13:50:31.327

这对我有用：

```
<ListView.ContextMenu>
<ContextMenu>
 <ContentPresenter Content="{Binding Path=PlacementTarget.SelectedItem, 
                             RelativeSource={RelativeSource AncestorType=ContextMenu}}" >
    <ContentPresenter.Resources>                        
        <DataTemplate DataType="{x:Type ViewModels:ViewModel1}">
            <MenuItem Header="DoStuffForVM1" Command="{Binding DoStuffForVM1Command}"/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type ViewModels:ViewModel2}">
            <MenuItem Header="DoStuffForVM2" Command="{Binding DoStuffForVM2Command}"/>
        </DataTemplate>
    </ContentPresenter.Resources>
  </ContentPresenter>
</ContextMenu>
</ListView.ContextMenu> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:28:05.880

那是因为你正在设置ListView的ContextMenu，所以你的DataContext是ListView的外部上下文，而不是单个列表项的ViewModel。

您需要改为设置每个项目的 ContextMenu。例如，使用样式：

```
<ListView.Resources>
    <ContextMenu x:Key="ItemContextMenu">
      <MenuItem Header="DoStuffForVM1" Command="{Binding DataContext.DoStuffForVM1Command, RelativeSource={RelativeSource AncestorType={x:Type ListView}}"/>
    </ContextMenu>
</ListView.Resources>
<ListView.ItemContainerStyle>
    <Style TargetType="{x:Type ListViewItem}">
      <Setter Property="ContextMenu" Value="{StaticResource ItemContextMenu}"/>
    </Style>
</ListView.ItemContainerStyle> 
```

但是，以上并未说明不同类型的菜单。

如果要为每种类型的列表视图定义数据模板，最简单的方法是`ContextMenu`在每个`DataTemplate`.

如果没有，您将不得不使用样式中的触发器来完成。您可能必须编写一个转换器才能触发对象类型。

# python - Python - threading.Timer 在调用 cancel() 方法后保持活动状态

> ID：11083349
> 
> 赞同：15
> 
> 时间：2012-06-18T12:55:14.940
> 
> 标签：python, multithreading

我注意到以下代码中的以下行为（使用 threading.Timer 类）：

```
import threading

def ontimer():
    print threading.current_thread()

def main():
    timer = threading.Timer(2, ontimer)
    timer.start()
    print threading.current_thread()
    timer.cancel()
    if timer.isAlive():
        print "Timer is still alive"
    if timer.finished:
        print "Timer is finished"

 if __name__ == "__main__":
main() 
```

代码的输出是：

```
<_MainThread(MainThread, started 5836)>
Timer is still alive
Timer is finished 
```

正如我们从输出中注意到的那样，计时器对象仍然处于活动状态并且同时完成。

事实上，我想调用类似的函数数百次，我想知道那些“活”的计时器是否会影响性能。

我想以适当的方式停止或取消计时器对象。我做对了吗？

谢谢

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-18T13:31:11.550

You should use the [thread.join()](http://docs.python.org/library/threading.html#threading.Thread.join) to wait until your timer's thread is really finished and cleaned.

```
import threading

def ontimer():
    print threading.current_thread()

def main():
    timer = threading.Timer(2, ontimer)
    timer.start()
    print threading.current_thread()
    timer.cancel()
    timer.join()         # here you block the main thread until the timer is completely stopped
    if timer.isAlive():
        print "Timer is still alive"
    else:
        print "Timer is no more alive"
    if timer.finished:
        print "Timer is finished"

 if __name__ == "__main__":
main() 
```

This will display :

```
<_MainThread(MainThread, started 5836)>
Timer is no more alive
Timer is finished 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-06-18T13:27:22.917

A`Timer`是 a 的子类，`Thread`它的[实现](https://hg.python.org/cpython/file/0792a0ad7f22/Lib/threading.py#l1049)非常简单。它通过订阅事件来等待提供的时间`finished`。

因此，当您设置事件时，`Timer.cancel`可以保证不会调用该函数。但不保证 Timer 线程会直接继续（并退出）。

所以重点是timer的线程在执行完之后还可以存活`cancel`，但是函数不会被执行。所以检查`finished`是安全的，而在这种情况下，测试`Thread.is_alive`（较新的 API，使用这个！）是一种竞争条件。

`time.sleep`提示：您可以通过在调用后放置一个来验证这一点`cancel`。然后它只会打印：

```
<_MainThread(MainThread, started 10872)>
Timer is finished 
```

# delphi - Delphi 7、DUnit 和 FastMM 错误地报告字符串

> ID：11083350
> 
> 赞同：3
> 
> 时间：2012-06-18T12:55:16.187
> 
> 标签：delphi, memory-leaks, delphi-7, fastmm, dunit

我正在使用 DUnit 和 FastMM 来捕获未完成的内存块，但似乎有一个错误。我不知道它是在 FastMM、DUnit 还是在 Delphi 本身中，但这里有：

*   当我的测试用例有内部字符串时，测试会因内存泄漏而失败。如果我在不关闭 DUnit GUI 的情况下再次运行相同的测试，则测试通过。DUnit GUI 测试也会出现同样的情况，我相信出于同样的原因。我的应用程序中没有泄漏，证明 FastMM 在这些情况下不会生成泄漏报告。

*   问题1：有没有办法在不设置 AllowedMemoryLeakSize 的情况下忽略它们

*   问题2：我使用的是Delphi 7，如果这个修复在Delphi XE 中有什么消息吗？

*   我的实际测试配置：

    *   test.FailsOnNoChecksExecuted := True;
    *   test.FailsOnMemoryLeak := True;
    *   test.FailsOnMemoryRecovery := False;
    *   test.IgnoreSetUpTearDownLeaks := True;

这是一个示例代码（仅实现）

```
 procedure TTest.Setup;
    begin
        A := 'test';
    end;

    procedure TTest.TearDown;
    begin
        // nothing here :)
    end;

    procedure TTest.Test;
    begin
        CheckTrue(True);
    end; 
```

谢谢！！！！

更新：我面临的问题记录在[http://members.optusnet.com.au/mcnabp/Projects/HIDUnit/HIDUnit.html#memoryleakdetection](http://members.optusnet.com.au/mcnabp/Projects/HIDUnit/HIDUnit.html#memoryleakdetection) 但是除了运行相同的测试之外，相同的链接没有提供解决方案再次。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T17:21:05.590

我会首先尝试来自 Subversion 的当前版本*（但此版本不适用于 Delphi 7，仅适用于 2007 和更新版本）*：

在[提交日志](http://dunit.svn.sourceforge.net/viewvc/dunit/trunk/src/?view=log)中，一个版本有一个关于该区域修复的评论。

> 修订版 40 已修改 2011 年 4 月 15 日星期五 23:21:27 UTC（14 个月前）
> 
> 将 JclStartExcetionTracking 和 JclStopExceptionTracking 移出 DUnit 递归，以防止**无效的内存泄漏报告**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-08T21:06:51.677

实际上，严格来说，您的测试**在第一次运行时****会**泄漏内存。 这**不是**FastMM、DUnit 或 Delphi 中的错误，错误在您的测试中。

 ****让我们从澄清误解开始，并解释一些内部工作原理：

### 误解：FastMM 证明我的应用程序没有泄漏

这里的问题是，如果 FastMM 没有检测到泄漏，它会给你一种错误的安全感。原因是任何类型的泄漏检测都必须从检查点寻找泄漏。如果在开始检查点之后完成的所有分配都由结束检查点恢复 - 一切都很酷。

因此，如果您创建一个全局对象 Bin，并将所有对象发送到 Bin 而不破坏它们，那么您**确实**存在内存泄漏。继续运行，您的应用程序将耗尽内存。但是，如果 Bin 在 FastMM End 检查点之前销毁其所有对象，FastMM 将不会注意到任何不良情况。

您的测试中发生的情况是，FastMM 的检查点范围比 DUnit 泄漏检测范围更广。您的测试会泄漏内存，但该内存稍后会在 FastMM 进行检查时恢复。

### 每个 DUnit 测试都有自己的实例进行多次运行

DUnit 为每个测试用例创建一个单独的测试类实例。但是，每次运行测试都会重复使用这些实例。事件的简化顺序如下：

*   启动检查点
*   呼叫设置
*   调用测试方法
*   调用拆解
*   结束检查点

因此，如果您在这 3 种方法之间存在泄漏 - 即使泄漏仅针对实例，并且会在对象被销毁后立即恢复 - 也会报告泄漏。在您的情况下，当对象被销毁时，泄漏被恢复。因此，如果 DUnit 为每次运行创建并销毁了测试类，则不会报告泄漏。

> 注意这是设计使然，因此您不能真正称其为错误。

基本上，DUnit 对您的测试必须 100% 自包含的原则非常严格。从 SetUp 到 TearDown，您分配（直接/间接）的任何内存都必须恢复。

### 常量字符串在分配给变量时被复制

每当您编码`StringVar := 'SomeLiteralString'`或复制常量`StringVar := SomeConstString`的`StringVar := SomeResourceString`值时（**是的，已复制**- 不计入引用）

> 同样，这是设计使然。目的是，**如果从库中检索到字符串，****则**在卸载库时不会丢弃该字符串。所以这不是一个真正的错误，只是一个“不方便”的设计。

因此，您的测试代码在第一次运行时泄漏内存的**原因**`A := 'test'`是为“测试”的副本分配内存。在随后的运行中，“测试”的另一个副本被制作，前一个副本被销毁 - 但净内存分配是相同的。

### 解决方案

在这种特殊情况下的解决方案是微不足道的。

```
procedure TTest.TearDown;
begin
  A := ''; //Remove the last reference to the copy of "test" and presto leak is gone :)
end; 
```

一般来说，你不应该做更多的事情。如果您的测试创建了引用常量字符串副本的子对象，则这些副本将在子对象被销毁时被销毁。

但是，如果您的任何测试将对字符串的引用传递给任何全局对象/单例（*顽皮，顽皮，您知道您不应该这样做*），那么您将泄漏引用并因此泄漏一些内存 - 即使它是后来恢复了。

### 一些进一步的观察

回到关于 DUnit 如何运行测试的讨论。同一测试的单独运行可能会相互干扰。例如

```
procedure TTestLeaks.SetUp;
begin
  FSwitch := not FSwitch;
  if FSwitch then Fail('This test fails every second run.');
end; 
```

扩展这个想法，您可以让您的测试在第一次和每秒（甚至）运行时“泄漏”内存。

```
procedure TTestLeaks.SetUp;
begin
  FSwitch := not FSwitch;
  case FSwitch of
    True : FString := 'Short';
    False : FString := 'This is a long string';
  end;
end;

procedure TTestLeaks.TearDown;
begin
  // nothing here :(  <-- note the **correct** form for the smiley
end; 
```

这并不会真正导致内存的总体消耗增加，因为每次交替运行恢复的内存量与每次运行时泄漏的内存量相同。

字符串复制会导致一些有趣的（也许是意想不到的）行为。

```
var
  S1, S2: string;
begin
  S1 := 'Some very very long string literal';
  S2 := S1; { A pointer copy and increased ref count }
  if (S1 = S2) then { Very quick comparison because both vars point to the same address, therefore they're obviously equal. }
end; 
```

然而....

```
const
  CLongStr = 'Some very very long string literal';
var
  S1, S2: string;
begin
  S1 := CLongStr;
  S2 := CLongStr; { A second **copy** of the same constant is allocated }
  if (S1 = S2) then { A full comparison has to be done because there is no shortcut to guarantee they're the same. }
end; 
```

这确实提出了一个有趣但极端且可能不明智的解决方法，只是由于该方法的荒谬性：

```
const
  CLongStr = 'Some very very long string literal';
var
  GlobalLongStr: string;

initialization
  GlobalLongStr := CLongStr; { Creates a copy that is safely on the heap so it will be allowed to be reference counted }

//Elsewhere in a test
procedure TTest.SetUp;
begin
  FString1 := GlobalLongStr; { A pointer copy and increased ref count }
  FString2 := GlobalLongStr; { A pointer copy and increased ref count }
  if (FString1 = FString2) then { Very efficient compare }
end;

procedure TTest.TearDown;
begin
  {... and no memory leak even though we aren't clearing the strings. }
end; 
```

### 最后/结论

是的，显然这篇冗长的帖子即将结束。

非常感谢您提出这个问题。
它给了我一个关于我记得不久前遇到的相关问题的线索。在我有机会证实我的理论之后，我会发布一个问答；因为其他人也可能会发现它很有用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-03T18:04:08.773

我找到了一种减轻问题的方法：我没有使用字符串，而是在测试类中使用了 ShortStrings 和 WideStrings。他们没有泄漏。

这不是解决方案，顺便说一句，这似乎在最新的 Delphi 版本中得到了解决。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-02T21:22:32.023

底线是检测到的泄漏可能与正在执行的测试用例无关，但在检测到它时它是合法的泄漏。字符串的内存在进入 SetUp 过程之前未分配，并且在退出`TearDown`过程之前未释放。因此，在重新分配字符串变量或破坏测试用例之前，这是一个内存泄漏。

对于字符串和动态数组，您可以`SetLength(<VarName>, 0)`在`TearDown`过程中使用。****

# css - 除非重复规则集，否则 CSS 将不起作用

> ID：11083359
> 
> 赞同：0
> 
> 时间：2012-06-18T12:55:41.243
> 
> 标签：css

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:03:23.593

您的文件中有一些不可见或损坏的字符，因此 .dashContent 之后的第一条规则将被破坏并被浏览器忽略。

尝试删除规则之间的所有内容以摆脱不可见字符，如果失败，您可以尝试将规则复制到新文件中。如果一切都失败了，您可能必须重新键入文件的一部分。

# twisted - 在所有测试中维护的试验开始时设置公共对象

> ID：11083361
> 
> 赞同：1
> 
> 时间：2012-06-18T12:55:51.007
> 
> 标签：twisted, trial

目前正在为在单个包中一起运行的多组件订单流系统编写扭曲的试验测试。

每个测试都涉及对用于调节流量的外部 OS 代理对象的调用——这些在包中运行的所有测试中都很常见，但在不同的环境和执行中，可能会分配不同的端口/IP 地址。

使用测试 setUp 和 tearDown 方法可以工作，但需要为每个测试不断设置连接/端口分配，并且端口清除的等待时间不确定。

有没有办法在运行第一个测试之前在试用启动时设置这些对象，维护这些对象并允许检查这些对象变量，然后允许在完成包含测试的试用包时进行拆解？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T12:48:20.873

使用[测试资源](http://pypi.python.org/pypi/testresources/)：

> testresources 正在尝试使用干净简单的 api 扩展 unittest，以在测试用例需要昂贵的公共资源的情况下提供测试优化

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T15:54:39.173

您可能不需要在试用开始时进行设置；相反，您需要在试用运行取决于给定夹具的第一个测试时进行设置。由于 Trial 运行的是全球反应堆，因此您可以在 Trial 完成之前将其用于最终拆除。

[在 Calendar Server 设置 Postgres 数据库进行测试的方式中有一个示例。](http://trac.calendarserver.org/browser/CalendarServer/trunk/txdav/common/datastore/test/util.py#L132)

# c# - Lucene.NET：包含搜索关键字的字段名称

> ID：11083363
> 
> 赞同：0
> 
> 时间：2012-06-18T12:55:53.587
> 
> 标签：c#, lucene, lucene.net

我需要知道包含搜索关键字的字段名称，例如，如果我的文档包含三个字段：

1.  书名
2.  本书作者
3.  书的价格

我的搜索条件是“Michael simpson”，可在字段 2“本书作者”中找到。现在我得到了包含我的搜索关键字的搜索结果，但需要知道包含此信息的字段的名称。

注意：我只有一个文档，三个字段和一个索引。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T04:45:14.543

我需要解析搜索者的解释以获取字段名称。以下是供参考的代码片段：

```
for (int i = 0; i < searcher.MaxDoc(); i++)
{
    string searchExplanation = searcher.Explain(k, i).ToString();
    int strtIdx = searchExplanation.IndexOf("field=");
    string[] fieldName;
    if (strtIdx != -1)
    {
        fieldName = searchExplanation.Substring(strtIdx).Split(',');
        for (int j = 0; j < fieldName.GetLength(0) - 1; j++)
        {
            if (fieldNames.IndexOf(fieldName[j].Substring(6)) == -1)
            {
                 fieldNames.Add(fieldName[j].Substring(6));
            }
        }
    }
} 
```

# asp.net - 如何对具有多个文件夹和多个 web.config 文件的网站实施安全修整？

> ID：11083365
> 
> 赞同：0
> 
> 时间：2012-06-18T12:55:57.180
> 
> 标签：asp.net, vb.net, active-directory

我有一个具有高度精细访问权限的网站，因此需要许多 web.config 文件。问题是我想修剪菜单，以便只有某些用户才能访问某些文件夹。我在站点地图中启用了修剪和设置角色，但是当我访问该页面时，菜单不显示，因为我有权查看不在子文件夹中的默认页面。当我在子文件夹中键入页面的 url 时，我可以访问。

我应该如何处理：

1.  每个 web.config 文件的站点地图 - 不知道这将如何工作
2.  删除子 web.config 文件以仅使用一个

3.  有没有其他建议。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:05:30.460

您可以使用 MembershipUser、RoleManager 类和 regsql.exe 工具来生成您的安全数据库。

或者使用 IPrincipal 和 IIdentity 创建特定的安全库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T14:28:02.633

您不需要每个 web.config 文件的站点地图。当使用带有菜单控件和 SitemapDataSource 的站点地图时，ASP.NET 将确定您是否可以通过您配置的 MembershipProvider 和/或 RoleProvider 访问站点地图中命名的每个页面，如果您有权访问，站点地图条目将显示在菜单。

请注意，如果您无法访问站点地图中某个项目的所有父项，您将无法看到该项目。您可以使用 StartingNodeUrl 配置 SitemapDataSource 以更改菜单根在站点地图中的设置位置。

至于为什么您在菜单中看不到默认页面，如果您可以通过直接输入 URL 访问默认页面，那么问题很可能是您没有正确设置菜单或 SitemapDataSource。如需帮助，请参阅：http: [//msdn.microsoft.com/en-us/library/ms227441.aspx](http://msdn.microsoft.com/en-us/library/ms227441.aspx) 和[http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols .menu.aspx#binding_to_data](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.menu.aspx#binding_to_data)

如果您需要额外的指导，我建议您尝试缩小问题的确切原因，因为会员资格、角色、站点地图和菜单是一组相当广泛的主题，并且可能会出现大量陷阱。在没有安全调整的情况下启动并运行您的菜单，并在尝试链接两者之前验证成员资格和角色是否正常工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T08:00:42.757

回答了我的问题，在这里找到了解决方案： [ASP Forus](http://forums.asp.net/t/1400899.aspx/2/10)

做得很好谢谢。

这太微不足道了。

需要做的就是确保站点地图中的顶部节点有一个 url。

```
 <?xml version="1.0" encoding="utf-8" ?>
<siteMap xmlns="http://schemas.microsoft.com/AspNet/SiteMap-File-1.0" >
      <siteMapNode **url="~/"** title="Home" description="">
      <siteMapNode title="Home" url="~/Default.aspx"/>
      <siteMapNode title="About" url="~/About/About.aspx" />
      <siteMapNode title="Lists" url="~/Lists/Lists.aspx" />
  </siteMapNode>
  </siteMap> 
```

注意这一行：

# windows - 批量格式化文件日期YYYYMMDD

> ID：11083366
> 
> 赞同：2
> 
> 时间：2012-06-18T12:56:01.257
> 
> 标签：windows, batch-file, cmd

我一直在处理评估两个文件日期的批处理文件中的一些代码。如果一个日期大于另一个日期，则它运行另一个 bat 文件。我想要做的是将两个日期格式化为 YYYYMMDD 以便我可以使用`GTR`（*大于*）。

代码在下面，但是如果我使用`==`( *equal* ) 它可以工作，因为它正在评估字符串。我只想知道一个文件日期是否大于另一个文件日期。

我不是要求有人修改下面的代码，但如果你能告诉我如何格式化日期，我将不胜感激。

* * *

```
set Fileone=File1.txt
set FileTwo=File2.txt

pushd "D:\Board\Broadcast\FA_Report8_A"
FOR %%f IN (%FileOne%) DO SET filedatetime=%%~tf
FOR %%f IN (%FileTwo%) DO SET filedatetime2=%%~tf
SET filedatetime2=%year%%month%%day%
IF %filedatetime:~0, 10% GTR %filedatetime2:~0, 10% ( 
echo FileOne Greater - run bat
timeout /t 20 /nobreak
goto Finish
) else (
echo FileOne not Greater - Finish
goto Finish
)
:Finish
echo finished 
pause 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-18T13:12:05.477

它不能在具有不同日期格式的机器之间移植，但最简单的方法是使用子字符串：`%var:~STARTPOS,LENGTH%`

```
set filedatetime=14/06/2012 12:26
set filedatetime=%filedatetime:~6,4%%filedatetime:~3,2%%filedatetime:~0,2%
echo "%filedatetime%"

"20120614" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T04:05:37.373

您可以使用 FOR /F 命令分隔日期的各个部分：

```
set filedatetime=14/06/2012 12:26
for /F "tokens=1-3 delims=/ " %%a in ("%filedatetime%") do (
   set filedatetime=%%c%%b%%a
) 
```

这种形式可以防止你弄错每个子串的位置或大小，并且很容易改变部分的顺序。例如，如果您的日期是 MM/DD/YYYY：

```
set filedatetime=%%c%%a%%b 
```

输入 FOR /? 了解更多详情。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-06-10T01:57:45.263

系统中日期变量字符串的布局可以通过用户设置、区域和/或语言来假设，因此，日期不是 100% 可预测的布局。

* * *

尝试使用**`wmic OS Get localdatetime /value`**，因为结果是 100% 可预测的：

> **`LocalDateTime=20190609123708.733000-180`**

所以，如果你在 for 循环中使用，添加 2 个分隔符，如**`=.`**, （等于和点），你会得到这个字符串输出：

> **`20190609123708`**.

此命令的布局是可预测的，并且独立于区域设置、用户设置或系统语言工作，因此，该命令将始终返回：

```
set _date=20190609123708
rem :: %_date:~0,4%_%_date:~4,2%_%_date:~6,2%
rem ::   year:2019 |  month:06  | day:09 
```

* * *

在 bat 文件中：

```
 @echo off & for /f "tokens=2delims==." %%i in ('wmic OS Get localdatetime /value ^|findstr /r [0-9]')do set "_date=%%i" & echo/%_date:~0,4%%_date:~4,2%%_date:~6,2% 
```

在命令行中：

```
for /f "tokens=2delims==." %i in ('wmic OS Get localdatetime /value ^|findstr /r [0-9]')do set "_data=%i" & mkdir %_date:~0,4%_%_date:~4,2%_%_date:~6,2% 
```

* * *

此命令结果::

```
 20190609 
```

* * *

* * *

我还可以建议：

```
wmic Path Win32_LocalTime Get Day,Month,Year 
```

在循环中：

```
@echo off & setlocal enabledelayedexpansion & set "_do=wmic Path Win32_LocalTime Get Day^,Month^,Year" 
for /f "tokens=1-3delims= " %%a in ('!_do!^|findstr /r [0-9]')do set "y=%%c" & set "d=0%%a" & set "m=0%%b"
echo/!y!!m:~-2!!d:~-2! >nul 
```

结果：

```
Day  Month  Year
 9   6      2019 
%%a  %%b    %%c 
```

月/日小于等于 9 的数字不为零，因此，在这种情况下，您可以使用此 bat 放置前导零：

```
@echo off & setlocal enabledelayedexpansion & set "_do=wmic Path Win32_LocalTime Get Day^,Month^,Year" 
for /f "tokens=1-3delims= " %%a in ('!_do!^|findstr /r [0-9]')do set "y=%%c" & set "d=0%%a" & set "m=0%%b"
echo/!y!!m:~-2!!d:~-2! 
```

YearMonthDay 中的结果：

```
20190609 
```

* * *

**观察：**在**PowerShell**中，可以通过以下方式简单地自定义布局：

> **`ToString("yyyyMMdd")`**

可以使用设置**字符串****`ToString`**。

> **样本：** **`yyyy-MM-dd, dd-MM-yyyy, MM-dd-yyyy, MM_dd_yyyy, yyyy_MM_dd, etc..`**

* * *

Powershell 命令：

```
$(Get-Date).ToString("yyyyMMdd") 
```

结果：

```
2010609 
```

* * *

在此处查看有关批量日期变量布局输出的更多信息：

> [批量获取当前日期月份和年份的安全方法](http://stackoverflow.com/questions/12635541/safe-way-to-get-current-day-month-and-year-in-batch)
> 
> [在批处理文件和区域设置/区域设置中解析日期](https://helgeklein.com/blog/2011/02/parsing-dates-in-batch-files-regional-settings-locale/)

* * *

* * *

> ***更新***- 如何在你的蝙蝠中应用上面的评论/观察，所以，如果我理解你在这个问题中的代码：

* * *

```
@echo off & setlocal enabledelayedexpansion 

set "Fileone=File1.txt" &  set "FileTwo=File2.txt"

set "_both=!FileOne!-!FileTwo!" & rem cd /d "D:\Board\Broadcast\FA_Report8_A"

set "_path_back=%__CD__%" & rem :: you can use this "%__CD__%" or pushd "D:\Board\Broadcast\FA_Report8_A" 

for /f "tokens=2delims==." %%i in ('wmic OS Get localdatetime /value ^|findstr /r [0-9]')do set "_date=%%i"

set _now=!_date:~0,4!!_date:~4,2!!_date:~6,2! & for /f "tokens=1*delims=-" %%i in ('echo/!_both!')do (

     call :compare "%%~fi" & call :compare "%%~fj" & if !_dt_file_2! gtr !_dt_file_2! ( 

         echo/ FileOne Greater - run bat & timeout /t 20 /nobreak & goto :run_bat

         ) else (echo/ FileOne not Greater - Finish & goto Finish) 

    )

:compare
set "_file="  & set "_file=%~1" 

for /f "tokens=1delims=. " %%d in ('wmic datafile where name^='!_file:\=\\!' get LastModified ^|findstr /v "LastModified"')do (

    if "!_dt_file_1!./" == "./" (set _dt_file_2=%%d) else (set _dt_file_2=%%d)

    ) & exit /b

:run_bat 
call the_bat_to_run.cmd 

:Finish
echo/Finished 
```

* * *

*对不起，我的* ***英语有限...***

# ios - iOS WiFi 通知 API

> ID：11083369
> 
> 赞同：4
> 
> 时间：2012-06-18T12:56:03.630
> 
> 标签：ios

有没有办法以编程方式订阅 iOS 上的 WiFi 通知？

例如，假设用户没有禁用 WiFi 通知，当他们在 WiFi 网络范围内时，操作系统会提供可用网络的通知。应用程序可以订阅此通知并向用户提供它自己的通知吗？

该应用程序甚至可以检查 SSID 以查看它是否是特定网络，然后执行一些操作吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T13:00:23.143

查看[可达性](http://developer.apple.com/library/ios/#samplecode/Reachability/Introduction/Intro.html)演示和系统配置类。

这个 SO 问题涵盖了这一点和 SSID：[IOS wifi 连接通知，包括 SSID](https://stackoverflow.com/questions/10792514/ios-notification-of-wifi-connection-including-ssid)

看起来[强制网络支持](http://developer.apple.com/library/ios/#documentation/SystemConfiguration/Reference/CaptiveNetworkRef/Reference/reference.html)也可能很有用，它可以查找用户未连接到的网络的名称。

# facebook - phonegap 中的 Facebook 插件在 cordova 1.8.0 中有一些警报

> ID：11083370
> 
> 赞同：0
> 
> 时间：2012-06-18T12:56:03.707
> 
> 标签：facebook, cordova

它在 Cordova 1.6.1 上运行良好，但在尝试使用 cardova 1.8.0 时，我收到以下警报： 1\. Cordova Facebook Connect 插件登录失败！2\. Cordova Facebook Connect 插件在 auth.status 上失败！我能做些什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:19:00.627

I have two phones one with android 2.2.1 and the other with android 2.3.3 and I get the error on the 2.2.1 but not on the 2.3.3 not sure why but maybe you should try installing on another phone. I'm wondering if its timing out as this old HTC is slow.

# android - 应用程序初始化

> ID：11083373
> 
> 赞同：0
> 
> 时间：2012-06-18T12:56:10.017
> 
> 标签：android, bluetooth, classcastexception

我目前正在制作一个只有三个类的应用程序。两个活动和一个应用程序类。从到目前为止我对 Applications 的了解来看，该类在程序开始时会自行初始化，这是否意味着我不需要在每个 Activity 中初始化该类的 Object？

我的程序每次都在开始时崩溃并返回一个 ClassCastException，我假设这与我的 Application 类有关，因为它是我在所有代码中所做的唯一类强制转换。作为一个局部变量，我有

```
protected BluetoothApplication myBt; 
```

在我的 onCreate() 方法中，我调用

```
myBt = (BluetoothApplication)getApplication(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:03:48.573

不，您不需要手动初始化它，但您可以使用它`getApplicationContext()`来获取应用程序类的实例，例如：-

```
MyApplication application = ((MyApplication)getApplicationContext()); 
```

您还可以通过将 Context 传递给该类，然后使用该上下文获取 Application 类的实例，从非活动类访问 Application 类，

```
MyApplication application = ((MyApplication)context.getApplicationContext()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:01:36.713

BluetoothApplication 是 Android 默认应用程序类的自定义子类吗？如果是这样，那么您是否在 AndroidManifest.xml 中告诉 Android 使用该类而不是默认的 Application 类？

有关详细信息，请参阅[Android 应用程序 API 。](http://developer.android.com/reference/android/app/Application.html)

# php - 无法加载 Apache php 5.3 postgreSQL 驱动程序

> ID：11083377
> 
> 赞同：0
> 
> 时间：2012-06-18T12:56:32.790
> 
> 标签：php, apache, postgresql, pdo

我在 Windows Server 2008 R2 上设置了 XAMPP 安装，其中包括：

*   阿帕奇 2
*   PHP 5.3.x
*   MySQL（无论如何都没有使用）

然后我安装了 PostGreSQL 9.x。我相应地取消了 php.ini 文件中 pgsql pdo dll 的注释，但是当我尝试连接到 pgsql 时，我得到“无法加载驱动程序”。我被困住了，因为我无法在互联网上找到解决方案，我尝试将 pgsql 安装的路径（bin 和 lib 目录）添加到 PATH 环境系统，但问题仍然存在。在更改任何配置后，我还多次重新启动系统以确保它被保存和应用，但结果仍然相同。

我在一次不明确的对话中读到这可能与版本有关，但找不到更多信息。

如果您成功地执行了后者，如果您能给我一些见解，我将不胜感激。（除了降级到旧软件版本外，我对任何替代方案持开放态度）。

非常感谢您的时间

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T10:10:56.067

通过手动安装 apache2 和 php 而不是通过 xampp（或 wampp）进行修复。当涉及到最新的 php 版本和 pgsql pdo 驱动程序时，这些似乎是错误的。

# actionscript-3 - 从 Flash 连接到 IRC 服务器

> ID：11083378
> 
> 赞同：1
> 
> 时间：2012-06-18T12:56:32.740
> 
> 标签：actionscript-3, flash, apache-flex, actionscript, irc

我正在寻找一种从闪存连接到 IRC 服务器的方法。常见的解决方案是使用使用 comet/websockets 的隧道服务，例如：

1.  pusher.com
2.  tech.kaazing.com/documentation/dragonfire/howto-irc.html
3.  www.lightstreamer.com

但是，由于这个产品是用于flash的，我可以直接连接到irc服务器而不是通过中间的隧道服务吗？我发现的一个概念证明是[lightirc](http://www.lightirc.com/)，但它们并不清楚它们是充当中间的长轮询代理还是客户端直接连接到 irc 服务器。他们唯一提到的是我应该将crossdomain.xml放在irc服务器端以绕过flash安全设置，但这是否意味着客户端直接连接到它？

任何想法，如果

# .net - 是否可以在鼠标事件之前监听触摸事件？

> ID：11083388
> 
> 赞同：0
> 
> 时间：2012-06-18T12:57:06.017
> 
> 标签：.net, wpf, events, touch

我正在构建一个 WPF 应用程序，我正在处理一个需要在触发鼠标事件之前监听触摸事件的场景，即当用户触摸屏幕时。

值得注意的是鼠标事件总是在触摸事件之前触发。

有什么办法可以做到吗？如果没有，有没有办法可以判断我得到的鼠标事件是否最初是在用户触摸屏幕而不使用鼠标时触发的？谢谢

# ember.js - 在 Ember.js 中退出路由时如何*不*销毁 View

> ID：11083392
> 
> 赞同：13
> 
> 时间：2012-06-18T12:57:17.047
> 
> 标签：ember.js, ember-old-router

关于新的 Ember.js 路由系统（[在此处](http://emberjs.com/guides/outlets/)描述），如果我理解正确，退出路由时视图会被破坏。

有没有办法在退出路线时绕过视图的破坏，以便在用户重新进入路线时保留视图的状态？

* * *

更新：看起来，除非在新路线中替换出口视图，否则视图不会被破坏。例如，如果您在某个 {{outlet master}} 中的 ViewA 处于 stateA 并且您在 {{outlet master}} 中使用 ViewB 进入 stateB，那么 ViewB 将替换 ViewA。解决此问题的一种方法是在需要保留视图时定义多个出口，例如 {{outlet master1}}、{{outlet master2}}、...

一个不错的功能是能够将一系列视图传递给出口。并且还可以在退出路线时选择视图是被破坏还是被隐藏。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-17T07:42:21.453

我已经弄清楚如何修改路由系统，以便插入到插座中的视图不会被破坏。首先，我重写 Handlebars`outlet`助手，以便它加载`Ember.OutletView`into `{{outlet}}`：

```
Ember.Handlebars.registerHelper('outlet', function(property, options) {
  if (property && property.data && property.data.isRenderData) {
    options = property;
    property = 'view';
  }

  options.hash.currentViewBinding = "controller." + property;

  return Ember.Handlebars.helpers.view.call(this, Ember.OutletView, options);
}); 
```

其中`Ember.OutletView`扩展`Ember.ContainerView`如下：

```
Ember.OutletView = Ember.ContainerView.extend({
    childViews: [],

    _currentViewWillChange: Ember.beforeObserver( function() {
        var childViews = this.get('childViews');

            // Instead of removing currentView, just hide all childViews
            childViews.setEach('isVisible', false);

    }, 'currentView'),

    _currentViewDidChange: Ember.observer( function() {
        var childViews = this.get('childViews'),
            currentView = this.get('currentView');

        if (currentView) {
            // Check if currentView is already within childViews array
            // TODO: test
            var alreadyPresent = childViews.find( function(child) {
               if (Ember.View.isEqual(currentView, child, [])) {          
                   return true;
               } 
            });

            if (!!alreadyPresent) {
                alreadyPresent.set('isVisible', true);
            } else {
                childViews.pushObject(currentView);
            }
        }
    }, 'currentView')

}); 
```

基本上我们覆盖`_currentViewWillChange()`并只是隐藏所有`childViews`而不是删除`currentView`. 然后`_currentViewDidChange()`我们检查是否`currentView`已经在里面`childViews`并采取相应的行动。这`Ember.View.isEqual`是[Underscore`isEqual`](http://underscorejs.org/#isEqual)的修改版本：

```
Ember.View.reopenClass({ 
    isEqual: function(a, b, stack) {
        // Identical objects are equal. `0 === -0`, but they aren't identical.
        // See the Harmony `egal` proposal: http://wiki.ecmascript.org/doku.php?id=harmony:egal.
        if (a === b) return a !== 0 || 1 / a == 1 / b;
        // A strict comparison is necessary because `null == undefined`.
        if (a == null || b == null) return a === b;
        // Unwrap any wrapped objects.
        if (a._chain) a = a._wrapped;
        if (b._chain) b = b._wrapped;
        // Compare `[[Class]]` names.
        var className = toString.call(a);
        if (className != toString.call(b)) return false;

        if (typeof a != 'object' || typeof b != 'object') return false;
        // Assume equality for cyclic structures. The algorithm for detecting cyclic
        // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.
        var length = stack.length;
        while (length--) {
            // Linear search. Performance is inversely proportional to the number of
            // unique nested structures.
            if (stack[length] == a) return true;
        }
        // Add the first object to the stack of traversed objects.
        stack.push(a);
        var size = 0, result = true;
        // Recursively compare objects and arrays.
        if (className == '[object Array]') {
            // Compare array lengths to determine if a deep comparison is necessary.
            size = a.length;
            result = size == b.length;
            if (result) {
                // Deep compare the contents, ignoring non-numeric properties.
                while (size--) {
                    // Ensure commutative equality for sparse arrays.
                    if (!(result = size in a == size in b && this.isEqual(a[size], b[size], stack))) break;
                }
            }
        } else {
            // Objects with different constructors are not equivalent.
            if (a.get('constructor').toString() != b.get('constructor').toString()) {
                return false;
            }

            // Deep compare objects.
            for (var key in a) {
                if (a.hasOwnProperty(key)) {
                    // Count the expected number of properties.
                    size++;
                    // Deep compare each member.
                    if ( !(result = b.hasOwnProperty(key) )) break;
                }
            }
        }
        // Remove the first object from the stack of traversed objects.
        stack.pop();
        return result;
    }
}); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-18T17:07:17.640

> 这样当用户重新进入路线时，视图的状态就会被保留。

相反，我会将该信息存储在控制器（或状态管理器）中，以便在重新进入路由时，使用旧状态初始化新视图。那有意义吗？因此，例如，如果它是一个帖子列表，并且其中一个被选中，您可以将关于哪个帖子被选中的数据存储在控制器（或状态管理器）中。在访问特定帖子然后返回列表后，将选择相同的帖子。

我可以想象一个用例，这不会很有用（例如滚动到长列表中的特定位置）所以也许这不能回答你的问题。

# php - CakePHP：一次对多个 HTML 表进行排序

> ID：11083394
> 
> 赞同：0
> 
> 时间：2012-06-18T12:57:20.250
> 
> 标签：php, cakephp, sorting, paginator

我加入了显示多个表格的屏幕截图。我希望分页器可以处理多个“显示”表，尽管它们都来自同一个查询。请注意，“Id”列是众多列之一。

```
 var $paginate = array(
            'limit' => 1000);

    function index() {
            $this->Immeuble->recursive = 1;
            $this->Immeuble->contain('Agence');
            $this->set('results', $this->paginate());
            $agences = $this->Immeuble->find('count', array('fields' => 'DISTINCT Agence.Nom'));
            $this->set('agences',$agences);
            $ii = 0;
            $records = $this->Immeuble->find("all",array('fields'=>'Immeuble.id,Immeuble.image,Immeuble.description,Immeuble.start_date,Immeuble.end_date$
            $this->set('records',$records);
            } 
```

在我看来，这是我的分页器部分：

```
<tr>
                       <th><?php echo $this->Paginator->sort('Id','id'); ?></th>
                       <th><?php echo $this->Paginator->sort('description');?></th>
                       <th><?php echo $this->Paginator->sort('start_date');?></th>
                       <th><?php echo $this->Paginator->sort('end_date');?></th>
                       <th><?php echo $this->Paginator->sort('image');?></th>
                       <th><?php echo $this->Paginator->sort('ordre');?></th>
                       <th><?php echo $this->Paginator->sort('agence_id');?></th>
                       <th class="actions"><?php __('Actions');?></th>
</tr> 
```

![排序不起作用，它只会订购 ASC，而不是 DESC。](../Images/16ae215f4e399bf8b9eaf01fdc168ac2.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T15:49:54.013

您可以多次使用分页，因为它只是一个查找调用。它将重用 Cake 传递的参数。

```
$records = $this->paginate(); 
```

如果需要，您可以将特殊条件传递给此调用。

# javascript - 上传文件对象结构

> ID：11083404
> 
> 赞同：2
> 
> 时间：2012-06-18T12:57:57.300
> 
> 标签：javascript, jquery, uploadify

谁能告诉我uploadify 文件对象的结构（由onSelect 和onUploadSuccess 等方法使用）。我已经搜索了官方文档，但收效甚微；虽然我知道我可以`file.name`从文档中访问（经过一些试验和错误，我知道我也可以得到`file.size`），但我不知道我可以得到哪些其他属性。

任何人都可以对此有所了解吗？非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-16T14:19:40.060

您可以`console.log(file)`在自己`onUploadSuccess`的文件中查找文件对象的所有属性`console`。

# postgresql - 将 JDBC URL 传递给 openjpa-maven-plugin 以刷新 PostgreSQL 中的数据

> ID：11083408
> 
> 赞同：2
> 
> 时间：2012-06-18T12:58:06.903
> 
> 标签：postgresql, openjpa, openjpa-maven-plugin

在`pom.xml`我有（取自[http://struberg.wordpress.com/2012/05/10/using-jpa-in-real-projects-part-1/](http://struberg.wordpress.com/2012/05/10/using-jpa-in-real-projects-part-1/)）：

```
<properties>
    <openjpa.sql.action>refresh</openjpa.sql.action>
    <database.driver.name>org.postgresql.Driver</database.driver.name>
    <database.connection.url>jdbc:postgresql://myURL</database.connection.url>
    <database.user>user</database.user>
    <database.password>password</database.password>
</properties>

<plugin>
    <groupId>org.apache.openjpa</groupId>
    <artifactId>openjpa-maven-plugin</artifactId>
    <version>${openjpa-version}</version>
    <configuration>
        <includes>**/entity/*.class</includes>
        <excludes>**/entity/Q*.class</excludes>
        <addDefaultConstructor>true</addDefaultConstructor>
        <enforcePropertyRestrictions>true</enforcePropertyRestrictions>
        <sqlAction>${openjpa.sql.action}</sqlAction>
        <connectionDriverName>${database.driver.name}</connectionDriverName>
            <connectionProperties>
                jdbcUrl=${database.connection.url},
                user=${database.user},
                password=${database.password},
            </connectionProperties>
        </configuration>
        <executions>
            <execution>
                <id>enhancer</id>
                <phase>process-classes</phase>
                <goals>
                    <goal>enhance</goal>
                    <goal>sql</goal>
                </goals>
            </execution>
        </executions>
        <dependencies>
            <dependency>
                <groupId>org.apache.openjpa</groupId>
                <artifactId>openjpa-all</artifactId>
                <version>${openjpa-version}</version>
            </dependency>
        </dependencies>
    </plugin> 
```

由于某种原因，URL 没有正确传递，我得到了

> 目标 org.apache.openjpa:openjpa-maven-plugin:2.2.0:sql 的执行增强器失败：无法为驱动程序类“org.postgresql.Driver”和 URL“null”获取连接。您可能指定了无效的 URL。(org.apache.openjpa:openjpa-maven-plugin:2.2.0:sql:enhancer:process-classes)

我试过用 , 等替换in 。没有任何帮助`jdbcUrl`。但是，我可以输入 URL ，这*确实*有效：`connectionProperties``url``URL``persistence.xml`

 *```
<property name="javax.persistence.jdbc.url"
    value="jdbc:postgresql://myURL" /> 
```

驱动程序、用户和密码是从 Maven 属性中获取的。但是，由于此 URL 仅用于生成 DDL（数据源在运行时以不同的方式创建），因此我更希望将它也放入其中`pom.xml`而不会污染`persistence.xml`. 有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T05:43:54.507

我使用 commons-dbcp`BasicDataSource`来获得这样的连接：

```
<connectionDriverName>org.apache.commons.dbcp.BasicDataSource</connectionDriverName>
<connectionProperties>
    driverClassName=${database.driver.name},
    url=${database.connection.url},
    username=${database.user},
    password=${database.password},
</connectionProperties> 
```*

# java - 为什么不满足这个条件？

> ID：11083409
> 
> 赞同：1
> 
> 时间：2012-06-18T12:58:12.493
> 
> 标签：java, android, if-statement, conditional-statements

我希望你能帮助我 :) 我想从 sharedpreferences 中获取一串字体文件路径，如果没有任何字符串，请在资产中加载默认字体，好吧。当我尝试稳定条件时出现问题，请在此处查看：

```
 String filePath = new String(preferences.getString(String.valueOf(v.getId()+"font"),"default"));
    Log.d("","choosed font: "+filePath);

    if (filePath == "default"){
        v.setTypeface((Typeface.createFromAsset(getAssets(),"fonts/Default.ttf")),preferencias.getInt(String.valueOf(v.getId()+"style"), 0));
    }else{
        v.setTypeface(Typeface.createFromFile(filePath),preferencias.getInt(String.valueOf(v.getId()+"style"), 0)); 
    } 
```

如您所见，如果filePath = default，程序将加载默认字体，但程序始终执行“else”内的命令...

使日志出现的顺序清楚地显示：选择的字体：默认。因为我从来没有 putString

那为什么不满足这个条件？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T12:59:15.110

比较`String`使用`equals()`

```
if (filePath.equals("default")) 
```

阅读[此](https://stackoverflow.com/questions/767372/java-string-equals-versus)内容以获取更多信息。

`==`比较引用，而不是值。在您的情况下，您要检查值相等，而不是引用相等。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T12:59:51.073

尝试

```
filePath.equals("default") 
```

代替

```
if (filePath == "default") 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-18T13:00:58.057

`==`检查引用是否相同。

`.equals`检查值

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T13:02:35.247

不要只使用这个：
**它比较引用，而不是值！**

```
if (filePath == "default") 
```

总是`equals(...)`用于字符串！

```
if (filePath.equals("default")) 
```

您的代码的更正版本：

```
 String filePath = new String(preferences.getString(String.valueOf(v.getId()+"font"),"default"));
    Log.d("","choosed font: "+filePath);

    if (filePath.equals("default")){
        v.setTypeface((Typeface.createFromAsset(getAssets(),"fonts/Default.ttf")),preferencias.getInt(String.valueOf(v.getId()+"style"), 0));
    }else{
        v.setTypeface(Typeface.createFromFile(filePath),preferencias.getInt(String.valueOf(v.getId()+"style"), 0)); 
    } 
```

说明： http: [//leepoint.net/notes-java/data/expressions/22compareobjects.html](http://leepoint.net/notes-java/data/expressions/22compareobjects.html)

> 比较相等的值。因为此方法是在 Object 类中定义的，所有其他类都从该类派生，所以它会自动为每个类定义。但是，除非该类覆盖它，否则它不会对大多数类执行智能比较。对于大多数 Java 核心类，它已经以一种有意义的方式定义。如果它没有为（用户）类定义，它的行为与 == 相同。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T13:02:19.383

如果 filePath 为 null，则使用它来避免 NullPointerException

```
if ("default".equals(filePath )) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-18T13:04:21.537

试试这个

```
if (filePath.equals("default")) 
```

# python - 如何将 PyFrameObject 转换为 PyObject

> ID：11083411
> 
> 赞同：1
> 
> 时间：2012-06-18T12:58:18.370
> 
> 标签：python, c, cython, python-extensions, python-embedding

也许我错过了一些东西，但这里有一个问题：

我正在通过 C 扩展跟踪 python 代码，并且我的跟踪函数得到了 PyFrameObject* 框架。现在我想通过 Python 代码（嵌入或由 Cython 转换为 C）处理帧，但它处理 PyObject*。

如何将 PyFrameObject* 转换为 PyObject*？我在 frameobject.h 中找不到合适的转换函数。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:02:16.013

使用演员表：

```
PyObject *myObject = (PyObject *)myFrameObject 
```

这是 Python C API 的标准；“继承”的所有内容在对象的顶部`PyObject`都有 a `PyObject_VAR_HEAD`，因此指向该对象的指针可以转换为指向`PyObject`.

# ios - iOS：如何在启用 ARC 的情况下转换为 const char？

> ID：11083418
> 
> 赞同：-2
> 
> 时间：2012-06-18T12:58:40.723
> 
> 标签：ios, casting, char, constants

我有这个：

```
// Setup the SQL Statement and compile it for faster access
NSString *sqlStatement = @"SELECT * FROM nameList";

const char *sqlStatementC  = (const char* )sqlStatement; 
```

但 ARC 不喜欢这样。有解决方法吗？

谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-18T13:00:55.067

因为这是绝对无效的。sqlStatement 是一个`NSString`, 一个 Objective-C 对象。您不能简单地将其转换为`const char *`. 您必须使用一种方法来访问其内容作为 C srting：

```
const char *sqlStatementC = [sqlStatement UTF8String]; 
```

备注1：顺便说一下，这与ARC完全无关。

备注2：使用指针标记星号贴在变量名上，而不是类型名上（即`const char* sqlStatementC`不是很好，`const char *sqlStatementC`更好）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T13:02:43.457

采用：

```
const char* sqlStatementC  = [sqlStatement cStringUsingEncoding:NSUTF8StringEncoding]; 
```

或者

```
const char* sqlStatementC  = [sqlStatement UTF8String]; 
```

# c++ - 异常中的虚方法

> ID：11083421
> 
> 赞同：0
> 
> 时间：2012-06-18T12:58:49.073
> 
> 标签：c++, exception

我已经创建了自己的异常类，它派生自`runtime_error`c'tor 并在 c'tor 中得到一个 int。

我想为这个异常创建一个基类，以便使用多态性，所以我只能捕获基类，基本上我会捕获派生类，然后从中调用 .what() 方法。

所以，这是基类：（在另一个 cpp 文件中我得到了 baseException::~baseException(){}）

```
class baseException
{
    virtual ~baseException()=0 {}
    virtual const char* what()=0;
}; 
```

这是派生类：

```
class myException: public runtime_error, public baseException
{
public:
    myException(int): runtime_error("Error occured") {}
    const char* what() {return runtime_error::what();}
}; 
```

但是当我主要写：

```
catch(baseException* x)
{
cout<<x->what();
} 
```

它只是跳过它并且不进入块，即使 myException 继承自 baseException。有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:04:53.420

您`baseException`没有该`what`方法，您可能应该只是`baseException`从`runtime_error`.

```
class baseException : public runtime_error
{
public:
    baseException(const std::string& what) : runtime_error(what) {}
}; 
```

接着

```
class myException: public baseException
{
public:
    myException(int): baseException("Error occured") {}
}; 
```

虽然我更喜欢以下成语：

```
class myException: public baseException
{
public:
    myException(int x): baseException(getWhatMessage(x)) {}

private:
    static std::string getWhatMessage(int x) { /*generate the message*/ }
}; 
```

就`catch`部分而言。如果你抛出 using `throw myException(5)`，那么你应该像这样捕获

```
catch(baseException& x)
{
    cout<<x.what();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T13:01:13.283

您应该通过引用（或 const 引用）而不是指针来捕获异常。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T13:10:27.973

更新：此答案基于问题的原始版本。现在看来问题不是在调用`what()`（因为您已经通过在基类中重新声明它来解决这个问题）。问题只是你试图捕捉一个指针并（我猜）抛出一个值；解决方案是通过引用捕获：

```
catch (myException const & ex) {
    std::cerr << ex.what() << std::endl;
} 
```

（假设您将声明修复`what()`为`const`；如果由于某种原因您确实需要它为非，则从该行`const`中删除）。`const``catch`

`what()`原始答案描述了如果未在以下声明中如何调用`baseException`：

> 我想抓`baseException*`

你最好抓住`baseException const &`; 没有明智的方法来抛出指针。

> 并调用他们的`.what()`方法

如果你想打电话`what()`，那么你最好接电话`std::exception const &`；除非您还想从基类中获得一些功能。在这种情况下，也许你的基类应该继承自`std::runtime_error`; 或者它应该继承自`std::exception`，在这种情况下，您的`myException`类型将需要使用虚拟继承。

如果您真的想`what()`从您的班级访问，那么您需要交叉转换为`std::exception`：

```
catch (myException const & ex) {
    std::cerr << dynamic_cast<std::exception const &>(ex).what() << '\n';
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T13:01:36.823

你捕捉到一个`baseException`对象的引用；因此，您只知道该类的方法。`baseException`虽然没有一个成员被调用`what()`。这会导致错误。使`baseException`派生`runtime_error`或直接捕获`myException`。

**编辑：**

这段代码表明，指针不应该与异常一起工作是绝对没有理由的：

```
#include <iostream>
#include <string>

class A {
public:
    virtual int test() = 0;
};

class B : public A {
public:
    virtual int test() {
        return 42;
    }
};

int _tmain(int argc, _TCHAR* argv[])
{
    try {
        throw new std::string("foo");
    } catch (std::string* ecx){
        std::cout << *ecx << std::endl;
    }

    try {
        throw new B();
    } catch (A* ecx) {
        std::cout << ecx->test() << std::endl;
    }
} 
```

输出：

> 富
> 
> 42

# php - SQL INSERT INTO 不起作用

> ID：11083424
> 
> 赞同：0
> 
> 时间：2012-06-18T12:59:00.997
> 
> 标签：php, mysql, html, sql, forms

我对这段代码很头疼：

```
<html>
<head>
  <title>Westpop</title>
  <link rel="stylesheet" href="opmaak.css">
</head>
<body>
<div id="header"><a href="Index.php"></a></div>

<div id="content">
<table cellpadding="5" align="center">
<th colspan="2" align="left">Registeren:</th>
<form name="registreren"  method="post" action="registratie.php">
<tr>
    <td>Email</td>
    <td><input type="text" size="50" placeholder="email@email.com" name="email"></td>
</tr>
<tr>
    <td>Voornaam</td>
    <td><input type="text" size="50" placeholder="" name="voornaam" ></td>
</tr>
<tr>
    <td>Achternaam</td>
    <td><input type="text" size="50" placeholder="" name="achternaam"></td>
</tr>
<tr>
    <td>Geboorte Datum</td>
    <td><input type="text" size="50" placeholder="dd-mm-jjjj" name="geboortedatum"></td>
</tr>
<tr>
    <td>Geslacht</td>
    <td>M<input type="radio" size="50" value="m" name="geslacht">
    V<input type="radio" size="50" value="v" name="geslacht"></td>

</tr>
<tr>
    <td>Wachtwoord</td>
    <td><input type="password" size="50" placeholder="min. 6 tekens" name="wachtwoord"></td>
</tr>
<tr>
    <td>Woonplaats</td>
    <td><input type="text" size="50" placeholder="" name=""></td>
</tr>
<tr>
    <td>Telefoonnummer</td>
    <td><input type="text" size="50" placeholder="min. 9 tekens" name="telefoonnummer"></td>
</tr>
<tr>
    <td>Functie</td>
    <td><select name="functie">
<option value="catering">Catering</option>
<option value="muziekpodia">Muziek en podia</option>
<option value="vervoerovernachten">Vervoer en overnachten</option>
<option value="logistiekbeveiliging">Logistiek en beveiliging</option>
<option value="diversen">Diversen</option>
</select></td>
</tr>
<tr align="right">
    <td></td>
    <td><input type="reset" value="Wissen"><input type="submit" name="verzenden" value="Verzenden"></td>
</tr>
</form>
</table>
</div>

 <?php 

    $host = "localhost";
    $gebruikersnaam = "root";
    $wachtwoord = "";
    mysql_connect($host, $gebruikersnaam, $wachtwoord);

    $demooistedatabase = "c5g4westpopintranet";
    mysql_select_db($demooistedatabase);

    $achternaam = $_POST["achternaam"];
    $voornaam = $_POST["voornaam"];
    $gbdatum = $_POST["geboortedatum"];
    $email = $_POST["email"];
    $geslacht = $_POST["geslacht"];
    $wachtwoord = $_POST["wachtwoord"];
    $woonplaats = $_POST["woonplaats"];
    $telefoonnummer = $_POST["telefoonnummer"];
    $functie = $_POST["functie"];

    mysql_query($query); 

    $query ="   INSERT INTO vrijwilliger (vrijwilligerID, voornaam, achternaam, gbdatum, geslacht, wachtwoord, woonplaats, adres, telefoonnummer, functie, activiteitID, groepID, email)
                VALUES( ,'".$voornaam."','".$achternaam."','".$gbdatum."','".$geslacht."','".$wachtwoord."','".$woonplaats."','".$adres."','".$telefoonnummer."','".$functie."','','','".$email."');";

    echo mysql_error();
?>
<?php
include ("html_end.php");
?> 
```

已经尝试了几个小时，但他只是不想插入数据库。我认为这是 SQL 查询的问题，但我看不到它。没什么好说的

## 编辑1：

感谢所有的答案！我现在编辑了这样的代码：

```
 $query ="   INSERT INTO vrijwilliger (vrijwilligerID,voornaam, achternaam, gbdatum, geslacht, wachtwoord, woonplaats, adres, telefoonnummer, functie, activiteitID, groepID, email)
                        VALUES(NULL, '".$voornaam."','".$achternaam."','".$gbdatum."','".$geslacht."','".$wachtwoord."','".$woonplaats."','".$adres."','".$telefoonnummer."','".$functie."','','','".$email."');";

mysql_query($query) or die ("FOUT: ". mysql_error()); 
```

现在我收到错误消息：无法添加或更新子行：外键约束失败（`c5g4westpopintranet/vrijwilliger`，CONSTRAINT `vrijwilliger_ibfk_1`FOREIGN KEY（`activiteitID`）REFERENCES `activiteit`（`activiteitID`））

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-18T13:01:47.270

您在函数调用后编写了查询

```
mysql_query($query); 

    $query ="   INSERT INTO vrijwilliger (vrijwilligerID, voornaam, achternaam, gbdatum, geslacht, wachtwoord, woonplaats, adres, telefoonnummer, functie, activiteitID, groepID, email)
                VALUES( ,'".$voornaam."','".$achternaam."','".$gbdatum."','".$geslacht."','".$wachtwoord."','".$woonplaats."','".$adres."','".$telefoonnummer."','".$functie."','','','".$email."');"; 
```

应该是这样的

```
 $query ="   INSERT INTO vrijwilliger (vrijwilligerID, voornaam, achternaam, gbdatum, geslacht, wachtwoord, woonplaats, adres, telefoonnummer, functie, activiteitID, groepID, email)
                VALUES( ,'".$voornaam."','".$achternaam."','".$gbdatum."','".$geslacht."','".$wachtwoord."','".$woonplaats."','".$adres."','".$telefoonnummer."','".$functie."','','','".$email."');";

mysql_query($query); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T13:03:01.143

您必须在执行之前设置查询...

例如`$query=`之前`mysql_query`

```
$functie = $_POST["functie"];

$query ="   INSERT INTO vrijwilliger (vrijwilligerID, voornaam, achternaam, gbdatum, geslacht, wachtwoord, woonplaats, adres, telefoonnummer, functie, activiteitID, groepID, email)
                VALUES( ,'".$voornaam."','".$achternaam."','".$gbdatum."','".$geslacht."','".$wachtwoord."','".$woonplaats."','".$adres."','".$telefoonnummer."','".$functie."','','','".$email."');";

mysql_query($query); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T13:02:34.937

是因为您的调用`mysql_query($query);`出现在您分配给`$query`变量之前吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T13:02:08.583

```
 $query ="   INSERT INTO vrijwilliger (vrijwilligerID, voornaam, achternaam, gbdatum, geslacht, wachtwoord, woonplaats, adres, telefoonnummer, functie, activiteitID, groepID, email)
                VALUES( ,'".$voornaam."','".$achternaam."','".$gbdatum."','".$geslacht."','".$wachtwoord."','".$woonplaats."','".$adres."','".$telefoonnummer."','".$functie."','','','".$email."');"; 
```

您没有在上述查询中为该字段“vrijwilligerID”发送任何值。如果是自增 ID，则不需要设置该值。

```
$query ="   INSERT INTO vrijwilliger (voornaam, achternaam, gbdatum, geslacht, wachtwoord, woonplaats, adres, telefoonnummer, functie, activiteitID, groepID, email)
                    VALUES( '".$voornaam."','".$achternaam."','".$gbdatum."','".$geslacht."','".$wachtwoord."','".$woonplaats."','".$adres."','".$telefoonnummer."','".$functie."','','','".$email."');"; 
```

否则将其设置为空白值''。

其次，您在设置查询变量之前使用 mysql_query 函数。所以像这样使用它。

```
 $query ="   INSERT INTO vrijwilliger (vrijwilligerID,voornaam, achternaam, gbdatum, geslacht, wachtwoord, woonplaats, adres, telefoonnummer, functie, activiteitID, groepID, email)
                        VALUES(NULL, '".$voornaam."','".$achternaam."','".$gbdatum."','".$geslacht."','".$wachtwoord."','".$woonplaats."','".$adres."','".$telefoonnummer."','".$functie."','','','".$email."');";

mysql_query($query); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T13:02:27.917

**通过更改修复 INSERT**

> 插入到 vrijwilliger (vrijwilligerID, voornaam
> 
> 经过
> 
> 插入到 vrijwilliger (voornaam

如果它不起作用，您可以尝试：

*   检查您是否有足够的权限来执行查询
*   编辑您的问题并发布**echo mysql_error() 的结果；**
*   回显构建的sql并尝试将其手动执行到mysql中

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-18T13:03:57.057

看起来您缺少值中的参数。

```
 $query ="   INSERT INTO vrijwilliger (vrijwilligerID, voornaam, achternaam, gbdatum, geslacht, wachtwoord, woonplaats, adres, telefoonnummer, functie, activiteitID, groepID, email)
                VALUES( **Need A Value Here**,'".$voornaam."','".$achternaam."','".$gbdatum."','".$geslacht."','".$wachtwoord."','".$woonplaats."','".$adres."','".$telefoonnummer."','".$functie."','','','".$email."');"; 
```

除非 vrijwilligerID 在这种情况下是自动生成的，否则它应该从第一组值中删除。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-18T13:09:18.553

```
mysql_query($query); 

        $query ="   INSERT INTO vrijwilliger (vrijwilligerID, voornaam, achternaam, gbdatum, geslacht, wachtwoord, woonplaats, adres, telefoonnummer, functie, activiteitID, groepID, email)
                    VALUES( ,'".$voornaam."','".$achternaam."','".$gbdatum."','".$geslacht."','".$wachtwoord."','".$woonplaats."','".$adres."','".$telefoonnummer."','".$functie."','','','".$email."');"; 
```

我不知道PHP，但在我看来，您正在尝试在将查询分配给变量之前执行查询......这两行不应该交换位置吗？

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-06-18T13:25:58.187

我相信`vrijwilligerID`设置为`AUTO_INCREMENT`.

## 因此，而不是

```
 mysql_query($query); 

    $query ="   INSERT INTO vrijwilliger (vrijwilligerID, voornaam, achternaam, gbdatum, geslacht, wachtwoord, woonplaats, adres, telefoonnummer, functie, activiteitID, groepID, email)
                VALUES( ,'".$voornaam."','".$achternaam."','".$gbdatum."','".$geslacht."','".$wachtwoord."','".$woonplaats."','".$adres."','".$telefoonnummer."','".$functie."','','','".$email."');"; 
```

## 用这个

```
$query ="INSERT INTO vrijwilliger (voornaam, achternaam, gbdatum, geslacht, wachtwoord, woonplaats, adres, telefoonnummer, functie, activiteitID, groepID, email)
         VALUES('$voornaam','$achternaam','$gbdatum','$geslacht','$wachtwoord','$woonplaats','$adres','$telefoonnummer','$functie',null,null,'$email')";
mysql_query($query); 
```

***请试试这个，如果您遇到任何问题，请告诉我。***

## 更新 1

***对于编辑 1：***您在设置时收到此错误，`activiteitID=null`这是不可接受的，因为`null`表中没有任何 ID`activiteit`

# java - 根据您的用户位置加载不同的样式表

> ID：11083428
> 
> 赞同：0
> 
> 时间：2012-06-18T12:59:29.493
> 
> 标签：java, stylesheet, userlocation

我有一个小问题。

我正在尝试使用 java 开发一个解决方案，该解决方案将允许我根据用户位置加载特定的样式表。

我自己并不精通编写脚本，通常使用 jquery 插件。

如果你能用一些代码帮助我，让我开始，或者指出一些教程的方向，这将是非常有帮助的。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T13:01:09.257

Actually could use a little more help wiht this one.

I created a quick else if statement that i would use to load the stylesheets based on the output of the geolocator.

```
<script type="text/javascript">
if (geoplugin_countryName() == CA) {
    <link rel="stylesheet" type="text/css" href="main_css.css" media="screen" />
} 
else if (geoplugin_countryName() == US) {
    <link rel="stylesheet" type="text/css" href="main_css.css" media="screen" />
} 
else if (geoplugin_countryName() == EU) {
    <link rel="stylesheet" type="text/css" href="main_css.css" media="screen" />
} 
    </script> 
```

If someone could take a look at this code and let me know if the syntax will work that would be awesome, as it stands im not too familiar with java.

Thanks

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:15:01.107

看看[http://www.jquery4u.com/tag/jquery-location-api/](http://www.jquery4u.com/tag/jquery-location-api/)和[http://www.geoplugin.com/webservices/javascript](http://www.geoplugin.com/webservices/javascript)。有一个完整的例子来说明如何使用它。当有位置时，如何添加/更改样式由您决定。

# html - 标题在固定位置

> ID：11083432
> 
> 赞同：1
> 
> 时间：2012-06-18T12:59:34.500
> 
> 标签：html, css

我有这样的 HTML：

```
<article>
    <header>
        <hgroup>
            <h1>Wk 25 </h1>
            <h2>(18-06 tot 24-06)</h2>          
        </hgroup>
        <p>Some info</p>
    </header>
    <table>
        <thead>
            <tr>
                <th class="legenda">Title</th>
                <th class="legenda">Title</th>
                <th class="legenda">Title</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>content</td>
                <td>content</td>
                <td>content</td>
            </tr>
        </tbody>
    </table>
</article> 
```

和这样的 CSS（摘录）：

```
article {
    padding: 0;
    margin-bottom: 15px;
    overflow: auto;
}
article header {
    background: url('header.png') repeat-x bottom center;
    padding: 4px 10px;
    cursor: pointer;
} 
```

article-element 随浏览器窗口调整大小。里面的表格可以比文章元素更宽，因此溢出：自动。但是：标题元素有 100% 的宽度，所以如果你向右滚动，标题会变得不可见。

如果我给标题一个位置：绝对，我也需要给它一个固定的高度：不起作用，因为那里的高度取决于内容（变化）。

所以问题是，我希望它像现在一样渲染，除了当我向右滚动时标题保持可见。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:14:12.327

一种解决方案是将您的表格包装在它自己`<div>`的 中，与 分开`<header>`，并使用它自己的一组滚动条：

```
<article>
  <header><!-- ... --></header>

  <div style="overflow:auto">
    <table><!-- ... --></table>
  </div>
</article> 
```

这样，标题似乎保持固定，但表格仍可左右滚动。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:08:43.970

如果我理解正确，解决方案应该是放在`float:right`标题中。

另一件事：您不能简单地为 div 的高度提供相对 (%) 值。有一种方法，但我相信当它从其父 div 继承该属性时。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:18:28.550

如果您希望标头左右和上/下保持在同一个位置，但不想在它出现的位置硬编码，您可以尝试使用相对定位进行潜水，将其放置在您想要的位置，然后放置固定的div。只要您不将其设置为上/左/下/右，则 div 应保持在其父级的 0,0 处。

# mysql - 关系表 - 仅选择表 A 中不作为 ID 存在于表 B 中的行

> ID：11083433
> 
> 赞同：0
> 
> 时间：2012-06-18T12:59:36.623
> 
> 标签：mysql, select, key

我有存储课程的表 A 和存储用户当前进度的表 B。

表 A 具有每个课程的唯一 ID 列（courseID），该列也存在于表 B 中，具有相同的名称（因此它们的关系）。

我想从表 A 中获取表 B 中不存在其 ID 的所有行。（例如，当前没有用户进入此课程）

这两个表不使用外键，只是一个同名的列。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:03:01.077

尝试

```
SELECT A.* FROM tableA A
LEFT JOIN tableB B ON USING (courseID)
WHERE B.courseID IS NULL 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:06:11.737

```
SELECT * FROM A WHERE A.courseID NOT IN (SELECT courseID FROM B); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:05:33.623

你用的是什么数据库？如果您使用的是 Oracle，我认为您想要：

```
select A.student_code from A where not exists
( select 'x' from B where B.student_code = A.student_code) 
```

至少这就是我认为你所要求的..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T13:02:59.167

你需要[`LEFT JOIN`](http://dev.mysql.com/doc/refman/5.5/en/join.html)

```
SELECT * FROM `tableA`
  LEFT JOIN `tableB` ON `tableA`.`ID`=`tableB`.`ID`
  WHERE `tableB`.`ID` IS NULL; 
```

# ios - 如何将一个图像按钮设置为四个或五个按钮的顶部？

> ID：11083439
> 
> 赞同：0
> 
> 时间：2012-06-18T13:00:02.637
> 
> 标签：ios, animation, button, imagebutton

我是 iOS 开发中的动画新手。如何在iOS中将一个图像按钮设置为四个或五个按钮的顶部？每当我点击任何按钮时，图像按钮都必须放在该按钮的顶部。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:03:11.347

通过给予将按钮放在前面

```
[self.view bringSubViewToFront:buttonName]; 
```

并像这样实现动画

```
CGRect basketBottomFrame = basketBottom.frame;
basketBottomFrame.origin.y = self.view.bounds.size.height;

[UIView beginAnimations:nil context:nil];
[UIView setAnimationDuration:0.5];
[UIView setAnimationDelay:1.0];
[UIView setAnimationCurve:UIViewAnimationCurveEaseOut];

basketTop.frame = basketTopFrame;
basketBottom.frame = basketBottomFrame;

[UIView commitAnimations]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:19:23.073

在 .h 文件中，将 imageButton 声明为：

```
 int selectedCurveIndex;
    @property(nonatomic,retain)IBOutlet UIButton *mvngButton;
   -(IBAction) btnMoveTo:(id)sender;
-(IBAction) btnDownUnder:(id)sender; 
```

在 .m 文件中，

```
static int curveValues [] = {
UIViewAnimationOptionCurveEaseInOut,
UIViewAnimationOptionCurveEaseIn,
UIViewAnimationOptionCurveEaseOut,
UIViewAnimationOptionCurveLinear};

   -(IBAction) btnMoveTo:(id)sender
{
UIButton *btn=(UIButton *)sender;
[mvngButton moveTo: CGPointMake(btn.center.x - (mvngButton.frame.size.width/2),btn.frame.origin.y - (mvngButton.frame.size.height + 5.0))duration:2.0 option:curveValues[selectedCurveIndex]];
}
-(IBAction) btnDownUnder:(id)sender
{
UIButton *btn=(UIButton *)sender;
[btn downUnder:1.0 option:curveValues[selectedCurveIndex]];
} 
```

对于剩下的四个按钮，在xib文件中，`touchupinside`用 `-(IBAction) btnMoveTo:(id)sender`方法。对于 xib 文件中的 imageButton，`touch up inside`方法与`-(IBAction) btnDownUnder:(id)sender`方法`referencing outlet`和`mvngButton`.

# windows-phone-7 - 列表框控件内的透视控件

> ID：11083445
> 
> 赞同：0
> 
> 时间：2012-06-18T13:00:30.953
> 
> 标签：windows-phone-7

我想知道是否可以将枢轴控件放在列表框中。这样，Listbox 中的一项将成为 Pivot Control。这里的想法是，当显示照片列表时，照片集合可以显示为列表内的枢轴控件。我知道这可能不是最好的用户体验，但我更想知道它是否可能？

目前我有一个应该可以工作的代码，但由于某种原因，枢轴控件只是空的。

# cakephp - 关系对象的关系 - Cakephp 2.0

> ID：11083448
> 
> 赞同：0
> 
> 时间：2012-06-18T13:00:44.720
> 
> 标签：cakephp, models, database-replication

我有三个模型：`User Image Group`。

*   用户属于一个图像；
*   组属于用户（管理员）
*   Group 拥有并属于用户；
*   用户拥有并属于群组；
*   用户和组模型与`users_groups`表连接；

当我查看一个组时，列出了成员（用户，这可行）我需要提取他们的图像我应该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T14:35:54.373

您应该使用[ContainableBehavior](http://book.cakephp.org/2.0/en/core-libraries/behaviors/containable.html)。它将允许您控制您提取的数据。

首先，将其添加到您的 AppModel。我也总是设置`$recursive = -1`，所以永远不会提取额外的数据。对依赖`$recursive`数据的现有应用程序执行此操作时要小心。

```
class AppModel extends Model {
    public $recursive = -1;
    public $actsAs = array('Containable');
} 
```

然后，在查找调用期间，使用“包含”查询键。例如，在您的 GroupsController 上：

```
public function view($id = null) {
  $results = $this->Group->find('first', array(
    'conditions' => array(
        'Group.id' => $id
    ),
    'contain' => array(
        'User' => array(
            'Image'
        )
    )
  ));
} 
```

This will bring in the User information associated with the group, along with the Image information associated with the users.

# bash - 在 bash 中，bash 删除模式匹配之间的标点符号？

> ID：11083449
> 
> 赞同：1
> 
> 时间：2012-06-18T13:00:52.160
> 
> 标签：bash

当标题字段中有标点符号时，我正在努力将数据文件转换为 csv。

我有一个获取文件并处理它的 bash 脚本，它几乎可以工作。让我明白的是，当自由文本标题字段中有逗号时，它会创建额外的字段。

我尝试了一些 sed 示例来替换模式，但我没有让它们中的任何一个起作用。我想要做的是在两种模式之间工作，并将逗号替换为空或分号。

取这个字符串：

```
name:A100040,title:Oatmeal is better with raisins, dates, and sugar,current_balance:50000, 
```

替换为：

```
name:A100040,title:Oatmeal is better with raisins dates and sugar,current_balance:50000, 
```

我可能应该使用“title:”和“,current_”来表示我想要进行更改的块的开始和结束以避免这样的情况：

```
name:A100040,title:Re-title current periodicals, recent books,current_balance:50000, 
```

到目前为止，我还没有得到匹配的替换。在这种情况下，我正在使用 !! 使变化明显：

```
teststring="name:A100040,title:Oatmeal is better with raisins, dates, and sugar,current_balance:50000,"

echo $teststring |sed '/title:/,/current_/s/,/!!/g'
name:A100040!!title:Oatmeal is better with raisins!! dates!! and sugar!!current_balance:50000!! 
```

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:33:17.533

This is one way which could undoubtedly be refined:

```
perl -ple 'm/(.*?)(title:.*?)(current_balance:.*)/; $save = $part = $2; $part =~ s/,/!!/g;  s/$save/$part/' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:36:38.343

首先，使用`sed`或`awk`解析 CSV 几乎总是错误的做法，因为它们不允许引用字段分隔符。也就是说，似乎更好的方法是引用字段，以便您的输出为：

```
name:"A100040",title:"Oatmeal ... , dates, and sugar",current_balance:50000 
```

使用`sed`你可以试试：（这个很脆弱）

```
sed 's/:\([^:]*\),\([^,:]*\)/:"\1",\2/g' 
```

如果您坚持尝试使用“标准”工具解析 csv 并且您认为`perl`是标准的，您可以尝试：

```
perl -pe '1 while s/,([^,:]*),/ $1,/g' 
```

# jquery - 处理 div 元素中的更改事件

> ID：11083462
> 
> 赞同：0
> 
> 时间：2012-06-18T13:01:18.770
> 
> 标签：jquery, html

我有一个可滚动的 div 元素，其中包含一些动态生成的复选框。每次做出不同的选择时，我都需要触发一个事件。即选择了一组不同的复选框。我找不到标记的任何 onchange() 处理程序。我可以使用 div 的哪个事件来处理此功能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:03:50.130

`<div />`元素*本身*没有事件`change`；但是`change`输入的事件**将**通过它们的祖先冒泡；所以你仍然可以在`<div />`

```
$('div').on('change', function (e) {
    // in here, `this` is the div element and e.target is the changed checkbox
}); 
```

然而，更 jQuery-esque 的方式是将处理程序*委托*给`<div />`元素，如下所示；

```
$('div').on('change', 'input:checkbox', function (e) {
    // in here, `this` is the checkbox and `e.delegateTarget` is the div.
}); 
```

有关详细信息，请参阅[`on()`](http://api.jquery.com/on). 有关事件冒泡的更多信息，请参见[我](http://www.mattlunn.me.uk/blog/2012/05/what-does-event-bubbling-mean/)^(的博客)。

# vb.net - 我们如何使用单个 RecordSet 进行多项操作？

> ID：11083468
> 
> 赞同：1
> 
> 时间：2012-06-18T13:01:35.187
> 
> 标签：vb.net, adodb

我有一些关于在 Vb.NET 中使用 ADODB 对数据库进行操作的任务。关于多次使用同一个记录集有什么帮助吗？

我只是通过在执行第一个操作并执行第二个操作等后关闭记录集来尝试这个主题示例：

```
 Dim rs As New ADODB.Recordset()
  OpenConnection()
  rs.Open("table1")
  //Some Operations 
  //Now using same recordSet for Second Operation
  rs.Close()
  rs.Open("table2") 
```

在 ADO.NET 中，我们在 SqlDataReader 的 ConnectionString 中有“MultipleActiveResultSets=True”。我们在 ADODB 中有这样的属性吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:28:25.627

ADODB 中存在的更相似的事情是在您的 Sql String 中发送多个查询，然后使用**rs.NextRecordset**（rs 是 Recordset）一个一个地处理它们，这里是一个示例：[ADO NextRecordset Method Demonstration](http://www.freevbcode.com/ShowCode.asp?ID=3058)

但是，就个人而言，我更喜欢像您现在那样做，每个查询只使用一个记录集。考虑到在一个内部使用多个记录集，就像在前面的示例中一样，可能需要在某些 dbs 中使用一些额外的命令，以确保不会从来自后端的消息中创建额外的不需要的记录集，例如对于 Sql Server，使用以下方法是一个好主意：

**设置 NoCount On**并**设置 ANSI_Warnings OFF**

# lua - 如何在电晕中开始新活动？

> ID：11083472
> 
> 赞同：0
> 
> 时间：2012-06-18T13:01:46.897
> 
> 标签：lua, coronasdk

我是 Corona 的新手，在 Eclipse 上使用过 android sdk，但我不知道如何在这个活动中从一个活动传递到另一个活动？我们在 Corona 上用什么来做这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T17:02:45.100

使用 Corona SDK 时，您无法控制应用程序的活动。

您需要的是[StoryBoard API](http://developer.anscamobile.com/content/storyboard)，它可以帮助您管理不同的场景。这里有一些关于故事板的链接。

[http://www.coronalabs.com/blog/2011/11/14/introducing-the-storyboard-api/](http://www.coronalabs.com/blog/2011/11/14/introducing-the-storyboard-api/)

[http://www.coronalabs.com/blog/2012/03/27/storyboard-scene-events-explained/](http://www.coronalabs.com/blog/2012/03/27/storyboard-scene-events-explained/)

[http://developer.anscamobile.com/content/storyboard](http://developer.anscamobile.com/content/storyboard)

[http://www.coronalabs.com/blog/2011/11/16/common-storyboard-api-questions/](http://www.coronalabs.com/blog/2011/11/16/common-storyboard-api-questions/)

另一个非官方但真正有效且有用的方法是 Director 类

[http://maniacdev.com/2011/05/using-the-director-class-for-easy-switching-in-the-corona-sdk/](http://maniacdev.com/2011/05/using-the-director-class-for-easy-switching-in-the-corona-sdk/)

[http://developer.anscamobile.com/code/director-class-10](http://developer.anscamobile.com/code/director-class-10)

优点和缺点？

Director 类非常简单和轻量级。它没有已知的错误。在几个月前引入 Storyboard 之前，它曾经是唯一的方法。故事板非常灵活，并得到官方支持。但它相对较新，并且有一些小错误。

# javascript - 在 WebDAV 上对 MS Office 文档使用身份验证

> ID：11083477
> 
> 赞同：0
> 
> 时间：2012-06-18T13:02:07.390
> 
> 标签：javascript, authentication, ms-office, webdav

我想创建一个显示 MS Word 文档并可以通过身份验证进行读写访问的网页。

我有一个运行一些 MS Word 文档的 WebDAV 服务器，当我输入以下代码时，它会在 Internet Explorer 9 中以读写模式打开文档

```
<a href="http://server/webdav/document.doc">Edit document</a> 
```

对于 Internet Exploerer 8 及以下版本，我使用以下 Javascript 代码：

```
new ActiveXObject("SharePoint.OpenDocuments.3").EditDocument("http://server/webdav/document.doc"); 
```

这工作得很好。现在我的问题是我想使用身份验证。

我会使用以下语法，但 Internet Explorer 不允许这样做。请参阅[http://support.microsoft.com/kb/834489](http://support.microsoft.com/kb/834489)

```
<a href="http://username:password@server/webdav/document.doc">Edit document</a> 
```

我已经尝试更改注册表以允许此类链接，如 microsoft 支持文档中所述，但在 Windows 7 和 Internet Explorer 9 中没有用。

任何人都知道如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T01:12:04.937

您的服务器必须支持以下身份验证协议之一：Basic、Digest、NTLM 或 Kerberos。假设 MS Office 2007 SP1 和更高版本也支持 Forms/cookies 身份验证。

Microsoft Office（和 Mini-redirector）将在必要时显示登录对话框，您无需在 Url 中传递凭据。

# emacs - Emacs、GDB 和多个 X 窗口

> ID：11083479
> 
> 赞同：6
> 
> 时间：2012-06-18T13:02:10.990
> 
> 标签：emacs, gdb

我`gdb-many-windows`用于`emacs`调试。

[最近，我发现了](https://www.gnu.org/software/emacs/manual/html_node/emacs/Creating-Frames.html)如何使用`C-x 5 2`.

我觉得很方便：因为我使用多个显示器，我可以在一个窗口中显示源代码和变量，而在另一个窗口中使用 gdb 的命令行。

但是我的问题是，当我逐步执行以下操作时`gdb`：当它打开另一个源文件时，它会在命令行所在的同一个窗口中执行此操作，而我希望它会在另一个窗口中更新。

有谁知道如何调整`gdb`或`emacs`做到这一点？谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T09:00:44.877

该值`display-buffer-reuse-frames`确实[解决了这个“问题”](http://www.gnu.org/software/emacs/manual/html_node/elisp/Choosing-Window-Options.html#Choosing-Window-Options)。配置文件中的会话范围设置：

```
(setq-default display-buffer-reuse-frames t) 
```

# iphone - iPhone [self performeguewithidentifier...] 没有显示新的视图控制器

> ID：11083481
> 
> 赞同：0
> 
> 时间：2012-06-18T13:02:16.633
> 
> 标签：iphone, ios, segue, xcode-storyboard, uistoryboardsegue

我一直在使用 stackoverflow 和整个 Google，但我似乎无法弄清楚这一点。这是我的场景：

我有我的应用程序的“主屏幕”，用户首先在其中决定他们将要做什么。该应用程序使用通过“导入”XML 文件创建的 CoreData 数据库。用户可以选择在我的应用程序中打开附加到电子邮件的 XML 文件，这会自动触发我的主屏幕显示并运行文件的导入。

我可以毫无问题地做到这一点。在我的故事板中，我有一个名为 ParseSegue 的 segue 从我的主屏幕到一个视图控制器，它将处理解析并为用户提供一些状态信息。

通过电子邮件应用程序调用主屏幕时，主屏幕会自动调用

```
[self performSegueWithIdentifier:@"ParseSegue" sender:self]; 
```

然后我在 prepareForSegue 中检查这个 segue 名称，它是一个有效的名称。这是我将文件 URL 分配给解析器控制器的地方，以便它可以解析正确的文件。

问题是转场从未真正发生过。prepareForSegue 方法被调用，名称“ParseSegue”可以被检查并且是有效的，但是 segue 本身根本不会发生。如果我在主屏幕上添加一个按钮并告诉它在情节提要中执行 segue，它就可以正常工作。但是以编程方式调用它似乎什么也没做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T15:42:50.770

事实证明，我完全看错了地方。我的问题是，在我的 appDelegate 中，应用程序对传入的 URL 做出反应，我无意中创建了故事板和主视图控制器的新实例。这与已经处于活动状态并且可能出现在屏幕上或未出现在屏幕上的那个不同。

我创建的控制器从未真正展示过。我只注意到这一点，因为日志：

```
NSLog(@"Source: %@", [segue.sourceViewController description]); 
```

将为我的测试（按钮按下）和导入测试显示不同的内存地址。这让我相信我实际上是在使用故事板的两个不同实例和应用程序的主视图控制器。感谢 Paul 建议记录目标和源控制器。

# objective-c - 用数组中的图像填充视图

> ID：11083484
> 
> 赞同：-1
> 
> 时间：2012-06-18T13:02:25.407
> 
> 标签：objective-c, ios

我的主视图有 10 个视图，每个视图都有一个图像，并且我将图像放在一个数组中，我如何用我的数组中的图像填充我的视图。请任何指点。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:09:39.067

如何将您的视图放入相应的数组并像这样循环

```
 for (in i = 0; i < [viewArray count]; i++) {

        UIImageView *temp = [viewArray objectAtIndex:i];
        temp.image = [imageArray objectAtIndex:i];
    } 
```

真的很难说，这取决于您想如何管理视图并将它们放入数组中。此方法确实依赖于跟踪数组位置中的视图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:06:01.920

UIImageView 的 addSubView 到主视图并将图像添加到 ImageView 像这样

```
[imageView setImage:(UIImage*)[array objectAtIndex:1]]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:21:14.867

在所有视图中将所有**UIButtons 设置为 UIButtonTypeCustom**并将 Tag 从 0 设置为所有视图

现在用这个

```
for(int i = 0; i<[menuList count]; i++)
{
  UIView *view = [self.view viewWithTag:i];
  NSURL *url = [NSURL URLWithString:[menuList objectAtIndex:i]];
    //NSLog(@"Hopefull MainImage: %@", url);
    NSData *data = [NSData dataWithContentsOfURL:url];
    //NSLog(@"data:%@", data);
    UIImage *img = [[UIImage alloc] initWithData:data];
    //NSLog(@"img %@", img);

    UIImage *stretchableButtonImage = [img stretchableImageWithLeftCapWidth:0 topCapHeight:0];
  for(int j = 0; i<[[view subViews]count]; i++)
  {
    [[view  objectAtIndex:j] setBackgroundImage:stretchableButtonImage forState:UIControlStateNormal];
  }

} 
```

# wpf - 按钮颜色只读错误

> ID：11083486
> 
> 赞同：0
> 
> 时间：2012-06-18T13:02:31.707
> 
> 标签：wpf, button, colors

我对 WPF 的操作有点困惑。我可以更改按钮的文本但不能更改颜色，它给出了只读属性错误。似乎设计有问题。文本更改颜色会引发错误。

```
svrSmtp.Stop()

btnStartServer.Background.ClearValue(Button.BackgroundProperty)
btnStartServer.Content = "Start Proxy" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:14:16.740

您想清除 Button.Background 的值，而不是它的背景属性。

```
btnStartServer.ClearValue (Button.BackgroundProperty); 
```

# zend-framework - 从 crons、SOAP、命令行任务和队列调用 Zend Framework 服务层

> ID：11083492
> 
> 赞同：1
> 
> 时间：2012-06-18T13:02:37.513
> 
> 标签：zend-framework

我试图找到使用 Zend Framework 为企业应用程序实现模型的最佳方法。从不同的文章中，我现在确信服务层是一个非常好的主意。我看到支持服务层的一个论点是——它可以从外部调用——比如从 crons、SOAP、命令行任务和队列。

但我不清楚它是如何做到的。当从外部调用服务时，Bootstrap 将不会运行，因此模型将没有关于数据库、邮件传输、日志记录等的信息。

有什么建议么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T13:23:08.353

最简单的方法是创建一个用于执行 cron 任务的 CLI 脚本。

您可以使用 Zend_Application 和 bootstrap 类在 CLI 脚本中引导应用程序，就像在 Web 端引导应用程序一样。

只是不要运行应用程序，而只是引导它。这样，您将可以访问与您的 Web 应用程序相同的环境。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T15:23:25.667

我们正在使用一个简单的`init.inc.php`脚本，该脚本包含在我们的命令行脚本和 cronjob 脚本中，它引导我们需要的资源：

```
<?php

// Define path to application directory
defined('APPLICATION_PATH')
    || define('APPLICATION_PATH', realpath(dirname(__FILE__) . '/../application') );

// Ensure library/ is on include_path
set_include_path(implode(PATH_SEPARATOR, array(
    realpath(APPLICATION_PATH . '/../library'),
    get_include_path(),
)));

// we can't afford not have a APPLICATION_ENV, so return a fatal error in this case
defined('APPLICATION_ENV')
    || define('APPLICATION_ENV',
              (getenv('APPLICATION_ENV') ? getenv('APPLICATION_ENV')
                                         : ''));

chdir(APPLICATION_PATH);

/** Zend_Application */
require_once 'Zend/Application.php';  

// Create application, bootstrap, and run
$application = new Zend_Application(
    APPLICATION_ENV, 
    APPLICATION_PATH . '/configs/application.ini'
);

$resources = array('autoload', 'config', 'multidb', 'logger', 'cache', 'settings');
foreach ($resources as $resource) {
    $application->bootstrap($resource);
}

set_time_limit(1200);
ini_set('memory_limit', '700M'); 
```

*   该`$resources`数组是您希望加载的引导函数
*   `APPLICATION_ENV`通常是由 设置的变量，`.htaccess`因此您必须将其设置为 shell 变量（或仅将其包含在 中`init.inc.php`）

# javascript - 自动登录网站

> ID：11083500
> 
> 赞同：-3
> 
> 时间：2012-06-18T13:03:02.407
> 
> 标签：javascript, html

我希望能够自动登录到站点。为此，我保存了该站点登录页面的副本。然后我提前在这个副本上输入密码和用户名。此页面上有一个登录按钮。所以通常，在输入用户名和密码后，我需要点击这个按钮进入下一页。但我想自动执行此操作。以下是源代码的相关部分：

```
<html>
<head>
<meta http-equiv="imagetoolbar" content="no">
<link rel="SHORTCUT ICON" href="/favicon.ico">
<SCRIPT>var main=window;</SCRIPT><SCRIPT LANGUAGE="JavaScript" src="http://localhost/_common/cjmaker.js"></SCRIPT>

<title>Login Page</title>
<SCRIPT LANGUAGE="JavaScript">  function openNewBrowserWindow() { newWindow = window.open("http://localhost/_common/lvl5/dologin.html", "subWind", "statusbar,menubar,resizable"); newWindow.focus(); }  function getUsername() { return document.getElementById("nameInput").value; }   function getPassword() { return document.getElementById("pass").value; }   function setFocus() { document.getElementById('nameInput').value == "" ? document.getElementById("nameInput").focus() : document.getElementById("pass").focus(); } </SCRIPT><style type="text/css">
<!--
td {  font-family: Arial, Helvetica, sans-serif; font-size: 18px; }
body { font-size:12px; vertical-align:baseline; padding:0; margin:0px; height:1px; font-family:arial;color:#A8A8A8; background-color:#000000;}

.normText { color:#A8A8A8;  }
.normTextBold  { font-weight:bold; }
.bigText  { font-size: 30px; font-weight: bold }
.bigRedText  { font-size: 30px; color: #FF0000; font-weight: bold }
.legalTextArea { font-size:10px; color:A8A8A8; background-color:000000}
.smallText { font-size:12px }
-->
</style></head>
<body style="height:100%" SCROLL="NO" onload="setFocus();document.getElementById('loginForm').submit();">

<table border=0 cellpadding=0 cellspacing=0 style="width:100%; height:100%">
<tr height="27px" style="max-height:27px;"> 
    <td valign="bottom" width="14" height="27px"> <img width="14"  height="27" src="http://localhost/_common/lvl5/skin/graphics/login/sectionb5.gif"></td>
    <td valign="bottom" width="13" height="27px"><img width="13"  height="27" src="http://localhost/_common/lvl5/skin/graphics/login/sectionb6.gif"></td>
    <td valign="bottom" width="100%" style="position: relative; background-image: url('http://localhost/_common/lvl5/skin/graphics/login/sectionb7.gif'); background-repeat: repeat-x;"  height="27px"></td>
    <td valign="bottom" width="14" height="27px"> <img width="14"  height="27" src="http://localhost/_common/lvl5/skin/graphics/login/sectionb8.gif"></td>
  </tr>
   <tr> 
    <td width="10" style="background-image: url('http://localhost/_common/lvl5/skin/graphics/login/sectionc5.gif'); background-repeat: repeat-y;"> 
    </td>
    <td COLSPAN="2"> 
<form id="loginForm" method="post" name='loginForm' action="http://localhost/_common/servlet/lvl5/login?language=en" onsubmit="document.getElementById('pass').value = CJMaker.makeString(document.getElementById('pass').value);" ></form>
        <div align="center"><img src="/logo.gif" width="536"></div>
        <table border="0" align="center" name="logintable" >
          <tr>
             <td colspan="3">&nbsp;</td></tr><tr><td align="center" colspan=3 height="100"><span class="normText"><span class="bigRedText">Dealer Copy</span></span><br><span class="normText"><span class="normRedText">This software is only licensed for internal use by a Dealer for Automated Logic Corporation</span><BR><SPAN class="smallText">Serial Number&nbsp;(&nbsp;W200500023&nbsp;)</SPAN></SPAN></span></td>
          </tr><tr><td colspan="3">&nbsp;</td></tr>
          <tr> 
            <td colspan=3 align="center">Please log in</td>
          </tr>
          <tr> 
            <td width="50%" align="right"> 
              <div align="right" style="margin-right:10px;">Name:</div>
            </td>
            <td> 
              <div align="left"> 
                <input id="nameInput" type="text" value="Administrator" name="name" size="25" maxlength="80" tabindex="1" style="width:175px;">
              <script>
                 if(document.getElementById('nameInput').value == '')
                 {
                   document.getElementById('nameInput').focus();
                 }
              </script>
              </div>
            </td>
            <TD rowspan="2" width="50%" align="left"> 
              <div align="left" style="margin-left:10px;"> 
                <input type="submit" id="submit" name="Submit" style="background-color:#A8A8A8" value="Log in" tabindex="2">&nbsp;&nbsp;
              </div>
            </TD>
          </tr>
          <tr> 
            <td> 
              <div align="right" style="margin-right:10px;">Password:</div>
            </td>
            <td> 
              <div align="left"> 
                <input type="password" value="" id="pass" name="pass"  autocomplete="off" size="25" maxlength="80" tabindex="1" style="width:175px;  ">
              <script>
                 if(document.getElementById('nameInput').value != '')
                 {
                   document.getElementById('pass').focus();
                 }
              </script>
              </div>
            </td>
            </tr>
       </table>
             </td>
    <td valign="top" width="14" style="background-image: url('http://localhost/_common/lvl5/skin/graphics/login/sectionc8.gif'); background-repeat: repeat-y"> 
      <span id="actionVbar" style="position:relative; width=100%; height=100%"></span> 
    </td>
  </tr>
  <tr height="14px"  style="max-height:14px"> 
    <td  valign="top"><img width="14" height="14" src="http://localhost/_common/lvl5/skin/graphics/login/sectiond5.gif"></td>
    <td  COLSPAN="2" valign="top" style="background-image: url('http://localhost/_common/lvl5/skin/graphics/login/sectiond6.gif'); background-repeat: repeat-x; line-height: 14px;" height="14px">&nbsp;</td>
    <td  valign="top" height="14px"><img  width="14" height="14" src="http://localhost/_common/lvl5/skin/graphics/login/sectiond8.gif"></td>
  </tr>
</table><div id="imagecachediv" style="position:absolute; z-index:-10; top:0px; left:0px; visibility:hidden" >
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/actions/acbutton_down_middle.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/actions/acbutton_down_left.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/actions/acbutton_down_right.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/actions/acbutton_up_middle.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/actions/acbutton_up_left.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/actions/acbutton_up_right.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/actions/actionbutton_dn_middle.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/actions/actionbutton_dn_left.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/actions/actionbutton_dn_right.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/actions/actionbutton_up_left.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/actions/actionbutton_up_middle.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/actions/actionbutton_up_right.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/facets/facettab_down_middle.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/facets/facettab_up_middle.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/buttons/textbutton_down_middle.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/buttons/textbutton_up_middle.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/properties/equip_templates/setpt_graphics/setpointtempindicator.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/properties/equip_templates/setpt_graphics/setpointheader.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/properties/equip_templates/setpt_graphics/setpointbody.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/properties/equip_templates/setpt_graphics/setpointfooter.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/patterns/uphashes.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/patterns/horiz.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/patterns/leftdiagonal.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/patterns/vert.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/patterns/tickbackground.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/patterns/squares.gif">

   <IMG SRC="http://localhost/_common/lvl5/graphics/main/de/scheduleticks_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/en/scheduleticks_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/es/scheduleticks_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/fr/scheduleticks_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/fr_FR/scheduleticks_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/ko/scheduleticks_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/ru/scheduleticks_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/sv/scheduleticks_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/th/scheduleticks_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/vi/scheduleticks_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/zh/scheduleticks_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/zh_TW/scheduleticks_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/de/scheduleticks_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/en/scheduleticks_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/es/scheduleticks_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/fr/scheduleticks_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/fr_FR/scheduleticks_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/ko/scheduleticks_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/ru/scheduleticks_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/sv/scheduleticks_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/th/scheduleticks_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/vi/scheduleticks_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/zh/scheduleticks_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/zh_TW/scheduleticks_24.gif">

   <IMG SRC="http://localhost/_common/lvl5/graphics/main/de/schedulefooter_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/en/schedulefooter_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/es/schedulefooter_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/fr/schedulefooter_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/fr_FR/schedulefooter_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/ko/schedulefooter_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/ru/schedulefooter_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/sv/schedulefooter_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/th/schedulefooter_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/vi/schedulefooter_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/zh/schedulefooter_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/zh_TW/schedulefooter_12.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/de/schedulefooter_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/en/schedulefooter_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/es/schedulefooter_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/fr/schedulefooter_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/fr_FR/schedulefooter_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/ko/schedulefooter_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/ru/schedulefooter_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/sv/schedulefooter_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/th/schedulefooter_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/vi/schedulefooter_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/zh/schedulefooter_24.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/zh_TW/schedulefooter_24.gif">

   <IMG SRC="http://localhost/_common/lvl5/graphics/main/trpixel.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/scrollbar/actscrollup.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/scrollbar/actscrolldown.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/scrollbar/actscrollleft.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/scrollbar/actscrollright.gif">

   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/scrollbar/navscrollslider.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/scrollbar/navscrollhchan.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/scrollbar/navscrollvchan.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/scrollbar/navscrollup.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/scrollbar/navscrolldown.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/scrollbar/navscrollleft.gif">
   <IMG SRC="http://localhost/_common/lvl5/skin/graphics/scrollbar/navscrollright.gif">

   <IMG SRC="http://localhost/_common/lvl5/graphics/main/propscrollhchan.gif">
   <IMG SRC="http://localhost/_common/lvl5/graphics/main/propscrollvchan.gif">
</div>

</body>
</html> 
```

我试图做的是添加一个脚本，例如

```
<SCRIPT LANGUAGE="JavaScript">document.getElementById('pass').value = CJMaker.makeString(document.getElementById('pass').value;</SCRIPT> 
```

位于“FORM”块的“onsubmit”部分内的相同代码。但它没有用。

你能帮我解决这个问题吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:42:34.637

`document.getElementById('loginForm').submit();`在`<body>`event 上添加标签`onLoad`。

例如， `<body onload="document.getElementById('loginForm').submit();">`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T08:23:26.093

我通过简化解决了这个问题。

```
<html>

<title>Login Page</title>

<body onload="document.getElementById('loginForm').submit();">

<form id="loginForm" method="post" name='login' action="http://localhost/_common/servlet/lvl5/login?language=en" onsubmit="document.getElementById('pass').value = CJMaker.makeString(document.getElementById('pass').value);" >

<input id="nameInput" type="text" value="Administrator" name="name" size="25" maxlength="80" tabindex="1" style="width:175px;">

<input type="password" value="" id="pass" name="pass"  autocomplete="off" size="25" maxlength="80" tabindex="1" style="width:175px;  ">

</form> 

</body>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:17:33.323

调用此代码

```
$('#nameInput').val('user name');
$('#pass').val('password');
$('#loginForm').submit(); 
```

尝试上面的代码自动登录。我认为它会起作用。

# asp.net - 更新 .aspx 页面

> ID：11083502
> 
> 赞同：2
> 
> 时间：2012-06-18T13:03:06.637
> 
> 标签：asp.net, ftp

我继承了一个 ASP.NET 项目，该项目使用`public_html`根目录中的单个 Default.aspx 文件来完成大部分工作。

我所做的改变很小，但我似乎无法让它们坚持下去。如果我编辑 Default.aspx 文件，服务器仍将提供旧版本。创建一个新的 .aspx 文件最初会编译并运行它，但随后它会停留在其“原始请求”表单中。

我认为 .aspx 文件如果被更改会受到“动态重新编译”的影响，但在我的情况下不会触发。我试过更新 Web.config 文件，但没有效果。

我还没有为此使用 Visual Studio。如果可能的话，我希望能够只编辑和更新文件（更改非常小，我无法访问 Windows 机器）。我对服务器的唯一访问是通过 FTP。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:58:29.933

似乎问题出在我的主机上，他积极地缓存东西。我必须从他们的控制面板中“重新启动”才能反映更改。

主机是 Loopia.se，以防其他人使用它们。在客户区域内使用“Omstart av ASP.NET-applikationer”重新启动。

（是的，我现在确实觉得有点傻）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:08:16.633

如果该站点之前已在 Visual Studio 中“发布”为预编译且不可更新，则更改 aspx 文件将不会导致任何更改：

[http://msdn.microsoft.com/en-us/library/1y1404zt(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/1y1404zt(v=vs.80).aspx)

在这种情况下，所有内容都将被预编译到 DLL 中，并且 aspx 页面只是作为 .net 运行时的挂钩。

# widget - 如何清除或删除包含我的静态类的未命名小部件池

> ID：11083506
> 
> 赞同：3
> 
> 时间：2012-06-18T13:03:18.747
> 
> 标签：widget, pool, progress-4gl, openedge, static-class

我正在使用 Progress 10.1c

我有一个包含静态和非静态方法的类。

该类是用 USE-WIDGET-POOL 定义的。在析构函数中，我说“DELETE WIDGET-POOL”。

我创建了我的类的一个实例，并调用了一个方法。该方法本身使用类的静态方法之一。因此，如果我理解正确，我现在将在其自己的未命名池中拥有我的类的实例，并为类的静态成员提供一个单独的未命名小部件池。

到目前为止，一切都很好。但是我正忙于调试并且正在对代码进行更改。我重新编译并再次运行我的测试。现在我的非静态成员工作了，但是所有静态成员都来自我的类​​的旧版本，它仍然存储在静态成员池中，它的作用域是会话。换句话说，我的析构函数中的“DELETE WIDGET-POOL”删除了类实例的池，但静态成员的池仍然存在。

我可以让它加载我的课程的新版本的唯一方法是注销我的会话，然后再次登录。这在我们的环境中是一项艰巨的任务。每次进行更改时，我都必须停止并启动我的开发环境。

我试图在会话中遍历对象列表，但找不到我要查找的内容。我很有可能从错误的对象开始，或者我缺少一些关于池和正在进行的对象的知识。

有什么方法可以让我定位那个未命名的池并删除我班级的静态“实例”，而不会每次都破坏我的会话？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T08:51:14.710

事实证明，只需很少的编码就可以做到。我可以使用语句 DELETE OBJECT THIS-OBJECT 来删除执行该语句的实例。所以如果它在一个静态方法中，它就是被删除的静态实例。

```
METHOD STATIC VOID Reload () :
    DELETE OBJECT THIS-OBJECT.
END METHOD. 
```

所以现在当我有一个新版本的类时，我只使用 MyClass:Reload()。无需结束我的会话。

感谢[Tim Kuehn](https://stackoverflow.com/users/190339/tim-kuehn)为我指出了正确的方向，他建议使用静态方法删除命名的小部件池。

* * *

我创建了这个例子来演示我是如何让它工作的。下面是一个带有 3 个静态方法的简单类：

```
/* File : rtt/cls/demo.cls */

USING Progress.Lang.*.
ROUTINE-LEVEL ON ERROR UNDO, THROW.

CLASS rtt.cls.demo USE-WIDGET-POOL :

    METHOD STATIC CHARACTER SayHello() :
      RETURN "Good-bye".
    END METHOD.

    METHOD STATIC VOID ShowMessage() :
      MESSAGE "This is the message." VIEW-AS ALERT-BOX.
    END METHOD.

    METHOD STATIC VOID Reload() :
      DELETE OBJECT this-object.
    END METHOD.

END CLASS. 
```

我不知道其他人的环境是如何设置的，但是在我的环境中我必须登录到我们的系统才能编译和运行程序，换句话说，我有一个活动会话。

所以我编译文件：

```
COMPILE VALUE(SEARCH("rtt/cls/demo.cls")) SAVE. 
```

然后我在过程编辑器中运行以下位来测试它：

```
USING rtt.cls.*.

demo:ShowMessage().
MESSAGE demo:SayHello(). 
```

当我运行它时，我得到一个消息框，上面写着“这是消息。”，然后是一个消息框，上面写着“再见”。正如人们所期望的那样。

但是有一个错误，它应该说“你好”，而不是“再见”，所以我编辑了我的课程（我只展示了我正在改变的两种方法：

```
 METHOD STATIC CHARACTER SayHello() :
      RETURN "Hello".
    END METHOD.

    METHOD STATIC VOID ShowMessage() :
      MESSAGE "That was the message." VIEW-AS ALERT-BOX.
    END METHOD. 
```

我保存更改，像以前一样编译它，然后再次运行测试。您希望看到什么消息？我希望看到“这就是信息”。和“再见”，和以前一样。这是合乎逻辑的，因为在我当前的会话中有一个隐藏的小部件池，并且它加载了我的类的一个实例（来自我的第一个测试）。它将继续使用此实例，直到实例或池被销毁。所以我关闭了我的开发环境，注销然后再次登录以启动一个新会话。到目前为止，一切都按预期工作。

现在我再次运行我的测试，果然，我得到了我的新版本：消息是“那是消息”和“你好”。

但是现在我被告知在“你好”这个词之后添加一个感叹号。所以我改变它：

```
 METHOD STATIC CHARACTER SayHello() :
      RETURN "Hello!".
    END METHOD. 
```

我保存并编译它。当我运行测试时，显然我会得到旧版本的“你好”而不带感叹号。在我的更改生效之前，我必须再次重新启动我的会话。我真的不想再这样做了。所以我改变我的测试如下：

```
USING rtt.cls.*.

demo:Reload().

demo:ShowMessage().
MESSAGE demo:SayHello(). 
```

我运行它，瞧，我得到了我的最新更改。我将消息从“那是消息”更改为“它有效！”。我保存、编译并运行我的测试。我看到了什么？我看到“它有效！”。不再在编辑之间重新启动我的会话。我的解决方案非常适合我。

我尝试了各种各样的东西，但我无法让它生成错误“无法从静态成员 (15071) 引用 THIS-OBJECT 或 SUPER”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:15:55.163

静态类元素在 ABL 会话期间持续存在，“卸载”它们的唯一方法是关闭数据库连接（即关闭数据库服务器）。这将卸载所有内容，清除客户端代码，并将您留在 4GL 编辑器中。

除此之外，唯一可能的方法是为静态类创建一个命名的小部件池，然后调用（静态）方法来删除它。我不知道这是否可行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T11:50:26.303

“范围为类类型的静态成员。仅当创建小部件池的 ABL 会话终止时，才会隐式删除此未命名的小部件池。”

[http://documentation.progress.com/output/OpenEdge102b/pdfs/dvoop/dvoop.pdf](http://documentation.progress.com/output/OpenEdge102b/pdfs/dvoop/dvoop.pdf) 第 5-9 页

在这种情况下会让你出事。您应该仅将静态成员用于方法或属性，它们实际上是静态的，并且在删除类的实例时不得删除或重新初始化。

当您无论如何都要使用它时，您应该使用名称定义自己的静态小部件池以及在此小部件池中创建的任何静态动态对象。那么你可以在 Reload() 中写：

```
METHOD STATIC VOID Reload () :
  DELETE WIDGET-POOL XYZ.
  CREATE WIDGET-POOL XYZ.
END METHOD. 
```

另一种方法是使用单格顿类，其中定义了这个“静态”对象。然后任何时候，只要你愿意，你就可以删除这个单例的实例并创造一些新的。

# extjs - 如何在网格中使用 getState？[ExtJS 4.1]

> ID：11083509
> 
> 赞同：1
> 
> 时间：2012-06-18T13:03:31.617
> 
> 标签：extjs, grid, extjs4.1, getstate

这里它说我可以得到宽度（我猜是列），但我唯一能得到的是列 ID。

```
grid.getState() 
```

编辑：回应`Ext.encode(grid.getState())`

```
{"columns":[{"id":"280"},{"id":"279"}],"sort":{"property":"DEPARTMAN_NO","direction":"ASC","root":"data"}} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:36:43.367

如果您的原始列宽未更改`getState`，则不会返回此列的宽度信息。

# c# - 带有启动文件夹的设置文件

> ID：11083511
> 
> 赞同：0
> 
> 时间：2012-06-18T13:03:39.057
> 
> 标签：c#, winforms

我已经创建了一个应用程序，我想创建一个设置文件，应用程序应该自动运行，就像我们将它移动到启动文件夹时一样。但在这里我想在它安装应用程序时保留它。

第二件事，我也想在我的应用程序关闭时实现，但该应用程序不应该退出，它将像任何防病毒软件、skypee 等一样运行，我们可以通过显示隐藏图标来最大化它

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:23:31.090

您正在寻找[Windows 服务](http://msdn.microsoft.com/en-us/library/zt39148a%28v=vs.100%29.aspx)。

即使没有人登录，该服务也将始终运行。

可以将 WinForms 应用程序添加到系统托盘[如何使 Windows Forms .NET 应用程序显示为托盘图标？](https://stackoverflow.com/questions/158895/how-to-make-a-windows-forms-net-application-display-as-tray-icon)它可以与服务通信以了解其状态或对其进行配置。

# php - 通过 PHP 应用程序使用 tomcat 服务器发送电子邮件

> ID：11083520
> 
> 赞同：0
> 
> 时间：2012-06-18T13:04:00.803
> 
> 标签：php, email, tomcat, email-client

我已经在我的 tomcat 服务器（Tomcat 6.0）上部署了一个 PHP 应用程序。以前我使用的是 XAMPP，但这需要专门在 tomcat 上运行。我为此使用[了这个](http://php-java-bridge.sourceforge.net/doc/tomcat6.php)java 网桥。现在我无法通过这个发送邮件，**从本地主机**使用 gmail SMTP。

在 XAMPP 中，我使用**sendmail.exe 客户端**通过 LOCALHOST 发送邮件，但我不知道如何使用 tomcat。尝试搜索但几乎找不到任何东西！严重卡住！任何指针将不胜感激。
谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:38:11.570

如果您尝试从您的 PHP 应用程序中发送电子邮件，那么您希望我们使用内置`mail`函数 ( [http://us2.php.net/manual/en/function.mail.php](http://us2.php.net/manual/en/function.mail.php) )。您可以使用[http://www.php.net/](http://www.php.net/)`mail`上记录的各种选项配置行为方式。

在 PHP 中，您将无法使用 Tomcat 为 SMTP 提供的任何服务。

# iphone - 标签栏控制器应用程序中没有顶部导航栏

> ID：11083521
> 
> 赞同：7
> 
> 时间：2012-06-18T13:04:02.093
> 
> 标签：iphone, ios5, uinavigationbar, tabbarcontroller

我是 iphone 编程的新手，偶然发现了这个问题，我想这应该是非常基本的东西。

我正在使用从 XCode IOS 5.1 中的模板创建的选项卡栏应用程序。它工作正常并在情节提要中创建 3 个屏幕（标签栏控制器 + + 2 个下降视图）但是当我尝试向这 2 个视图添加顶栏时出现问题......

我通过在标签栏控制器的对象检查器的界面构建器中添加顶部导航栏来做到这一点。勾选此选项后，顶部栏在我的故事板中完美显示所有 3 个屏幕（tabbarcontroller + 2 个下降视图），但在我运行项目后，顶部导航栏不再存在。

我在这里想念什么？为什么没有顶栏？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-18T13:20:19.533

如果要在两个`ViewControllers`基于标签栏的应用程序上显示导航栏，则可以执行以下操作：

1.  删除 viewcontroller1，然后`ViewController`从库中拖入情节提要并选择它并转到 Editor\Embed In\Navigation Controller。

2.  从 中`UITabBarController`，单击标签栏并右键单击，选择关系并将其拖动到导航控制器。（意味着添加`UINavigationController`为选项卡）。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-06-18T13:47:28.407

![通过这种方式，我将导航栏从 tabBarController View 集成到我的 viewController](../Images/44a656b59fc8ba5565228aa810b29ced.png)

按照 Nuzhat Zari 的身份在基于 tabBar 的应用程序的视图控制器上显示导航栏

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-05-12T12:58:08.010

```
 self.tabBar.frame =CGRectMake(0,0,self.view.frame.size.width,50); 
```

这将使标签栏出现在控制器的顶部。

# javascript - 是否可以用 javascript 编写网络爬虫？

> ID：11083522
> 
> 赞同：15
> 
> 时间：2012-06-18T13:04:10.010
> 
> 标签：javascript, web-crawler

我想爬取页面并检查相应页面中的超链接，并关注这些超链接并从页面中捕获数据

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-18T13:19:54.773

一般来说，浏览器 JavaScript 只能在其源域内进行爬取，因为获取页面将通过受[Same-Origin Policy](https://en.wikipedia.org/wiki/Same_origin_policy)限制的[Ajax](https://developer.mozilla.org/en/AJAX/Getting_Started)完成。

如果运行爬虫脚本的页面位于**www.example.com**上，则该脚本可以爬取 www.example.com 上的所有页面，但不能爬取任何其他来源的页面（除非适用某些边缘情况，例如[Access-](https://developer.mozilla.org/en/http_access_control)为其他服务器上的页面设置了[Control-Allow-Origin标头）。](https://developer.mozilla.org/en/http_access_control)

如果你*真的*想在浏览器 JS 中编写一个全功能的爬虫，你可以编写一个浏览器扩展：例如，[Chrome 扩展](http://code.google.com/chrome/extensions/overview.html)是打包的具有特殊权限的 Web 应用程序运行，包括[跨域 Ajax](http://code.google.com/chrome/extensions/xhr.html)。这种方法的困难在于，如果要支持多个浏览器，就必须编写多个版本的爬虫。（如果爬虫仅供个人使用，那可能不是问题。）

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-06-18T13:05:40.127

如果您使用服务器端 javascript，这是可能的。你应该看看**node.js**

可以在下面的链接中找到爬虫的示例：

[http://www.colourcoding.net/blog/archive/2010/11/20/a-node.js-web-spider.aspx](http://www.colourcoding.net/blog/archive/2010/11/20/a-node.js-web-spider.aspx)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-03-30T13:55:47.090

我们可以借助 headless webkit 从服务器端使用 Javascript 抓取页面。对于爬虫，我们很少有像 PhantomJS、CasperJS 这样的库，还有一个新的 PhantomJS 包装器，称为 Nightmare JS，它使工作更容易。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-11-02T17:13:21.487

[谷歌的 Chrome 团队](https://github.com/GoogleChrome/puppeteer)于 2017 年 8 月发布了 puppeteer，这是一个节点库，为无头和非无头 Chrome 提供高级 API（无头 Chrome[从 59](https://developers.google.com/web/updates/2017/04/headless-chrome)开始可用）。

它使用 Chromium 的嵌入式版本，因此可以保证开箱即用。如果您想使用特定的 Chrome 版本，您可以通过启动 puppeteer 并使用可执行路径作为参数来实现，例如：

```
const browser = await puppeteer.launch({executablePath: '/path/to/Chrome'}); 
```

导航到网页并从中截取屏幕截图的示例显示了它是多么简单（取自 GitHub 页面）：

```
const puppeteer = require('puppeteer');

(async () => {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();
  await page.goto('https://example.com');
  await page.screenshot({path: 'example.png'});

  await browser.close();
})(); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-05-13T07:48:22.603

有一些方法可以规避 JS 的同源策略。我为 facebook 编写了一个爬虫，它从我的朋友和我朋友的朋友的 facebook 个人资料中收集信息，并允许按性别、当前位置、年龄、军事状态（你明白我的意思）过滤结果。这很简单。我只是从控制台运行它。这样，您的脚本将获得在当前域上执行请求的特权。您还可以制作一个小书签来从您的书签运行脚本。

另一种方法是提供 PHP 代理。您的脚本将访问当前域上的代理并使用 PHP 从另一个请求文件。只是要小心那些。如果您不小心，这些可能会被第 3 方劫持并用作公共代理。

祝你好运，也许你像我一样在这个过程中结交一两个朋友:-)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-10-29T14:57:55.173

我的典型设置是使用具有跨源权限集的浏览器扩展，它同时注入爬虫代码和 jQuery。

对 Javascript 爬虫的另一种看法是使用无头浏览器，如 phantomJS 或 casperJS（增强 phantom 的能力）

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2014-07-03T14:26:39.507

这就是你需要的[http://zugravu.com/products/web-crawler-spider-scraping-javascript-regular-expression-nodejs-mongodb](http://zugravu.com/products/web-crawler-spider-scraping-javascript-regular-expression-nodejs-mongodb) 他们使用 NodeJS、MongoDB 和 ExtJs 作为 GUI

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-04-08T14:30:19.060

对的，这是可能的

1.  使用 NODEJS（它的服务器端 JS）
2.  nodeJS 中有 NPM（处理 3rd 方模块的包管理器）
3.  在NodeJS中使用PhantomJS（可以爬取网站的第三方模块是PhantomJS）

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-12-05T01:08:56.407

您可以创建一个从远程 json 文件驱动的网络爬虫，该文件会在每个选项卡加载后立即在新选项卡中打开页面中的所有链接，除了已经打开的链接。如果您设置一个在基本浏览器中运行的浏览器扩展程序（除了 Web 浏览器和 Internet 配置程序之外什么都不运行），并将其运送并安装在具有良好 Internet 的地方，您可以使用旧计算机创建网页数据库。那只需要检索每个选项卡的内容。与大多数对搜索引擎成本的估计相反，你可以花大约 2000 美元来做到这一点。您只需要基本上让您的算法根据页面的 innerText 属性中出现的术语数量、关键字和描述来提供页面。您还可以设置另一台 PC 从一次性数据库中重新抓取旧页面并添加更多内容。我'

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-10-28T20:31:16.130

我在 github 上制作了一个示例 javascript 爬虫。

它是事件驱动的，并使用内存队列来存储所有资源（即 url）。

如何在你的节点环境中使用

```
var Crawler = require('../lib/crawler')
var crawler = new Crawler('http://www.someUrl.com');

// crawler.maxDepth = 4;
// crawler.crawlInterval = 10;
// crawler.maxListenerCurrency = 10;
// crawler.redisQueue = true;
crawler.start(); 
```

在这里，我只是向您展示 2 个 javascript 爬虫的核心方法。

```
Crawler.prototype.run = function() {
  var crawler = this;
  process.nextTick(() => {
    //the run loop
    crawler.crawlerIntervalId = setInterval(() => {

      crawler.crawl();

    }, crawler.crawlInterval);
    //kick off first one
    crawler.crawl();
  });

  crawler.running = true;
  crawler.emit('start');
}

Crawler.prototype.crawl = function() {
  var crawler = this;

  if (crawler._openRequests >= crawler.maxListenerCurrency) return;

  //go get the item
  crawler.queue.oldestUnfetchedItem((err, queueItem, index) => {
    if (queueItem) {
      //got the item start the fetch
      crawler.fetchQueueItem(queueItem, index);
    } else if (crawler._openRequests === 0) {
      crawler.queue.complete((err, completeCount) => {
        if (err)
          throw err;
        crawler.queue.getLength((err, length) => {
          if (err)
            throw err;
          if (length === completeCount) {
            //no open Request, no unfetcheditem stop the crawler
            crawler.emit("complete", completeCount);
            clearInterval(crawler.crawlerIntervalId);
            crawler.running = false;
          }
        });
      });
    }

  });
}; 
```

这是 github 链接 [https://github.com/bfwg/node-tinycrawler](https://github.com/bfwg/node-tinycrawler)。它是一个用 1000 行代码编写的 JavaScript 网络爬虫。这应该使您走上正确的轨道。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2015-09-22T09:42:51.353

对此有一种客户端方法，使用 Firefox Greasemonkey 扩展。使用 Greasemonkey，您可以创建每次打开指定 url 时要执行的脚本。

这里有一个例子：

如果你有这样的网址：

[http://www.example.com/products/pages/1](http://www.example.com/products/pages/1)

[http://www.example.com/products/pages/2](http://www.example.com/products/pages/2)

然后你可以使用这样的东西来打开包含产品列表的所有页面（手动执行）

```
var j = 0;
for(var i=1;i<5;i++)
{ 
  setTimeout(function(){
  j = j + 1;
  window.open('http://www.example.com/products/pages/ + j, '_blank');

}, 15000 * i); 
```

}

然后您可以创建一个脚本以在每个产品列表页面的新窗口中打开所有产品，并将此 URL 包含在 Greasemonkey 中。

[http://www.example.com/products/pages/](http://www.example.com/products/pages/) *

然后为每个产品页面编写一个脚本来提取数据并调用 web 服务传递数据和关闭窗口等。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2022-02-17T04:30:33.360

## Axios + Cheerio

您可以使用 axios 和cheerios 来做到这一点。检查[axios 文档](https://axios-http.com/docs/res_schema)的响应格式。

```
const cheerio = require('cheerio');
const axios = require('axios');
//crawl
//get url
var url = 'http://amazon.com';

axios.get(url)
.then((res) => {

//response format
var body = res.data;
var statusCode = res.status;
var statusText =  res.statusText;
var headers = res.headers;
var request = res.request;
var config = res.config;

//jquery
let $ = cheerio.load(body);

//example

//meta tags
var title = $('meta[name=title]').attr('content');
if(title == undefined || title == 'undefined'){
title = $('title').text();
}else{
title = title;
}
var description = $('meta[name=description]').attr('content');
var keywords = $('meta[name=keywords]').attr('content');
var author = $('meta[name=author]').attr('content');
var type = $('meta[http-equiv=content-type]').attr('content');
var favicon = $('link[rel="shortcut icon"]').attr('href');

}).catch(function (e) {
console.log(e);
}); 
```

## 节点获取 + Cheerio

你可以用 node-fetch 和cheerio 做同样的事情。

```
fetch(url, {
method: "GET",
}).then(function(response){

//response
var html = response.text();

//return
return html;

})
.then(function(res) {

//response html    
var html = res;

//jquery
let $ = cheerio.load(html);

//meta tags
var title = $('meta[name=title]').attr('content');
if(title == undefined || title == 'undefined'){
title = $('title').text();
}else{
title = title;
}
var description = $('meta[name=description]').attr('content');
var keywords = $('meta[name=keywords]').attr('content');
var author = $('meta[name=author]').attr('content');
var type = $('meta[http-equiv=content-type]').attr('content');
var favicon = $('link[rel="shortcut icon"]').attr('href');

})
.catch((error) => {

console.error('Error:', error);

}); 
```

# ruby - ruby YAML 用数字解析错误

> ID：11083525
> 
> 赞同：0
> 
> 时间：2012-06-18T13:04:10.877
> 
> 标签：ruby, yaml

我遇到了似乎是 YAML 解析器的错误。以这个简单的 yaml 文件为例：

```
new account:
  - FLEETBOSTON
  - 011001742 
```

如果您使用此 ruby​​ 代码行解析它：

```
INPUT_DATA = YAML.load_file("test.yml") 
```

然后我得到这个：

```
{"new account"=>["FLEETBOSTON", 2360290]} 
```

难道我做错了什么？因为我很确定这永远不会发生。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-18T13:06:40.457

它应该发生。`0`以八进制开头的数字。除非下一个字符是`x`，在这种情况下它们是十六进制的。

```
07 == 7
010 == 8
011 == 9

0x9 == 9
0xA == 10
0xF == 15
0x10 == 16
0x11 == 17 
```

进入`irb`并输入`011001742`.

```
1.9.2-p290 :001 > 011001742
 => 2360290 
```

PEBKAC。:)

你的号码是一个数字，所以它被视为一个数字。如果您想明确地将其设为字符串，请将其括在引号中，这样 YAML 就不会尝试将其设为数字​​。

```
new account:
  - FLEETBOSTON
  - '011001742' 
```

# javascript - 如何从 Excel 工作表或 .csv 文件将数据输入到 jsfiddle 下拉列表？

> ID：11083527
> 
> 赞同：0
> 
> 时间：2012-06-18T13:04:34.107
> 
> 标签：javascript, jquery, drop-down-menu, cascadingdropdown

我有一个要求，我可以使用[JS Fiddle 下拉列表](http://jsfiddle.net/4Zw3M/457/)来填充州和城市。我在这样的excel表中有数据

```
State           City
Andhra Pradesh  Kadapa
Andhra Pradesh  Kadiri
Andhra Pradesh  Kagaznagar
Andhra Pradesh  Kakinada
Andhra Pradesh  Kalyandurg
Andhra Pradesh  Kamareddy
Assam           Karimganj
Assam           Kokrajhar
Bihar           Katihar
Bihar           Kanti
Bihar           Kishanganj
Bihar           Khagaria
Bihar           Kharagpur
Chhattisgarh    Kawardha
Chhattisgarh    Kanker
Chhattisgarh    Korba
Chhattisgarh    Kondagaon
Gujarat         Kapadvanj
Gujarat         Karjan
Gujarat         Kalavad
Gujarat         Kadi
Gujarat         Kalol
Haryana         Karnal
Haryana         Kalan Wali
Haryana         Kaithal 
```

用于填充下拉列表的[js小提琴](http://jsfiddle.net/4Zw3M/457/)如下

```
--from here I want to input data from excel sheet or CSV or any other better suggestions in place of following code.
var data = [ // The data
    ['ten', [
        'select','eleven','twelve'
    ]],
    ['twenty', [
        'twentyone', 'twentytwo'
    ]]
];
--up to here.----------------------------------- 
```

现在我想将数据传递给下面的函数

```
$a = $('#State'); // The dropdowns
$b = $('#City');

for(var i = 0; i < data.length; i++) {
    var first = data[i][0];
    $a.append($("<option>"). // Add options
       attr("value",first).
       data("sel", i).
       text(first));
}

$a.change(function() {
    var index = $(this).children('option:selected').data('sel');
    var second = data[index][3]; // The second-choice data

    $b.html(''); // Clear existing options in second dropdown

    for(var j = 0; j < second.length; j++) {
        $b.append($("<option>"). // Add options
           attr("value",second[j]).
           data("sel", j).
           text(second[j]));
    }
}).change(); // Trigger once to add options at load of first choice 
```

这是下拉菜单

```
<select id=state></select></br>
<select id=city></select> 
```

我关心的是如何

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:11:56.757

将文件转换为[JSON 数据](http://json.org/example.html)以便于访问——数据不应该经常更改，所以这应该不是问题。然后您可以通过[AJAX](http://api.jquery.com/jQuery.getJSON/)加载它：

```
$.getJSON('ajax/cities.json', function(data) {
    var $opt = $("<option>")
       .attr("value",data.city)
       .text(data.state);
    $('#state').append($opt);
}); 
```

...或类似的东西。

# sql-server - SQL 存在的问题

> ID：11083533
> 
> 赞同：1
> 
> 时间：2012-06-18T13:04:48.107
> 
> 标签：sql-server, exists

我要疯了这个。我有以下SP：

```
ALTER PROCEDURE [BankImport].[spBI_getIsBatchUnique]
    @batchName varchar = 500
AS
BEGIN
    SET NOCOUNT ON;
    IF (EXISTS (SELECT 1 FROM [ACN_Main].[BankImport].[tblBI_Jobs]
            WHERE [batchNumber] = @batchName))
        BEGIN
            SELECT 1
        END
    ELSE
        BEGIN
            SELECT 0
        END     
    END
GO 
```

但无论请求是什么，我总是返回 0！

我尝试以多种方式对其进行修改，但没有成功！我需要做的是检查是否有该批号的记录并返回true，否则返回false。

任何提示？

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T13:08:28.637

你的输入参数看起来有点滑稽

```
@batchName varchar = 500 
```

应该是这个吗？

```
@batchName varchar(500) 
```

即设置 varchar 数据类型的长度，你当前如何拥有它，500 是`batchName`参数的默认值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:10:56.587

我想因为你比较了batchNumber和batchName，试试

```
EXISTS (SELECT 1 FROM [ACN_Main].[BankImport].[tblBI_Jobs]
        WHERE [batchName] = @batchName) 
```

# c# - 通过物理环回在 2 个 TCP 应用程序之间发送数据。它会通过NIC吗？

> ID：11083536
> 
> 赞同：4
> 
> 时间：2012-06-18T13:04:50.913
> 
> 标签：c#, sockets, networking

如果我运行 2 个应用程序通过 TCP 环回使用套接字发送/接收数据，那么数据的实际路径是什么？这些数据会通过 Windows 网络驱动程序和/或 NIC 硬件吗？

*编辑。请考虑这不是 Windows 的“环回”，而是在 NIC 上进行的物理环回，其中 2 个端口通过电缆相互连接，使其成为物理环回。*

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T13:29:09.087

Loopback 是一个*虚拟*接口，没有与之对应的硬件。数据复制发生在内核内部，甚至在驱动程序级别之上。

### 编辑0：

您正在混合两种不同的东西 - TCP/IP 中的[*环回*](http://en.wikipedia.org/wiki/Loopback)是一个虚拟网络接口`127/8`，通常在子网中有一个特殊地址`127.0.0.1`，默认情况下为您创建，以太网[*交叉*](http://en.wikipedia.org/wiki/Ethernet_crossover_cable)电缆在同一台机器上的两张卡之间循环。

我在最初的回答中提到了第一个案例。

第二种情况下 TCP/IP 堆栈的行为取决于实现和传输选项。对于 TCP 连接和单播 UDP，内核可能刚刚意识到源地址和目标地址都是机器本地的，并且通过内存进行短路数据传输。您会发现大多数现代网络堆栈都以这种方式运行。对于广播或多播 UDP，没有其他选择，只能通过物理卡发送数据包，因为网络上可能有其他侦听器。

# jquery - 如何使用选择的 jquery 使匹配的文本变为粗体？

> ID：11083540
> 
> 赞同：0
> 
> 时间：2012-06-18T13:05:00.097
> 
> 标签：jquery, jquery-plugins

我想知道在使用 jquery selected 插件时如何使自动完成建议的匹配部分变粗？

有谁知道该怎么做？

[http://harvesthq.github.com/chosen/](http://harvesthq.github.com/chosen/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:27:30.850

在他们的示例页面上，这是他们使用的 css 选择器：

```
.chzn-container .chzn-results li em {
  font-weight: bold;
} 
```

匹配的文本被包裹在一个中，`<em />`所以你可能需要设置 `font-style: normal;' 也是。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:10:54.573

是的，只需在您的 php 页面中使用传递的字符串搜索结果，然后使用粗体标记更改它。就像

```
$result='Tom Cruise';//retreived frmo database
$passed_string='Tom';//passed string from which db is searched
then
$result=str_replace($passed_string,'<b>'.$passed_string.'</b>',$result); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-17T20:42:39.473

或名称已更改的以下 CSS 属性

```
.chosen-container .chosen-results li em {
  font-style: normal;
  font-weight: bold;
} 
```

# c++ - c ++变量范围

> ID：11083549
> 
> 赞同：1
> 
> 时间：2012-06-18T13:05:42.060
> 
> 标签：c++

我很难记住在 C++ 中定义的本地（非静态和块内部）变量是否被破坏，只要指针指向它，即使在执行离开块之后也是如此。因此，如果我在块内创建了一个 int，并且有一个全局指针，然后我离开了该块，我的指针还能找到那个 int 吗？

我没有在网上找到一个明确的答案，虽然它可能已经回答了不止一次，对此感到抱歉。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T13:11:00.280

不，您处于**未定义的行为**领域。

我假设你的意思是：

```
int* p = NULL;
{
   int x = 0;
   p = &x;
}
//p is a dangling pointer 
```

如果您尝试在`p`之后取消引用`}`，您会遇到麻烦（或者，更糟糕的是，您不会这样做，并且看起来它正在工作）。

但是，您可以重新分配指针，例如

```
p = new int(); 
```

完全可以。

以下是合法的（作为使用`new`or分配动态内存的替代方法`malloc`）：

```
int* p = NULL;
{
   static int x = 0;
   p = &x;
}
*p = 0; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-18T11:23:10.577

在范围内定义的变量或对象（花括号分隔的块，称为语句块，复合语句或简称为块）称为*自动变量*，因为它们具有*自动*生存期或持续时间。也就是说，编译器会*自动*销毁它们，当它们被定义的范围结束。通常，当退出函数体（本地范围）时会发生这种情况：

```
void function()
{
  X obj;     // object of type X is created here
} // local scope ends here: obj is destroyed 
```

如果您将引用或指针绑定到局部自动变量，那么您就是在自找麻烦，因为您正在获取内存中将在函数结束时释放的位置的地址。因为标准没有指定什么接下来可能发生，该行为被称为未定义并且指针被称为*悬空*：

```
X *ptr=nullptr;

void function()
{
  X obj;
  ptr=&obj;
}  // obj is destroyed here: what does ptr points to now?? 
```

当您动态分配内存（通过关键字*new*）时，您不会创建一个在退出范围时将由编译器完成的本地对象，而是一个生命周期由您编写的代码决定的对象。你负责创建它并且你负责它的处置，你预先在指向它的指针上调用*delete*。

```
X *ptr=nullptr;

void function()
{
  ptr=new X;
}  // nothing is destroyed here: ptr still points to an (unnamed) object of type X 
```

对象的类型无关紧要，这同样适用于原始类型或内置类型以及用户定义或类类型。

# ios - pushViewController 和 addSubview 有什么区别

> ID：11083551
> 
> 赞同：1
> 
> 时间：2012-06-18T13:05:45.337
> 
> 标签：ios, interface-builder

我通过界面生成器创建了一个名为“YLJTestViewController”的 ViewController，代码如下：

```
-(IBAction)DoneButtonPressed:(id)sender
{
    YLJTestViewController *testViewController = [[YLJTestViewController alloc]initWithNibName:@"YLJTestViewController" bundle:nil];
    [self.navigationController pushViewController:testViewController animated:YES];
    //[self.view addSubview:testViewController.view];
} 
```

但是当我使用`[self.view addSubview:textViewController.view];`它时它崩溃了，但是使用`[self.navigationController pushViewController:testViewController animated:YES];`它效果很好，那么有什么区别？我以为它们是一样的......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:14:31.827

`pushViewController`就像将一张纸添加到一叠纸上，而`addSubView`就像将一张纸粘在另一张纸上。

前一个视图和被推送的视图控制器的新视图之间没有明确的关系（就像纸片在堆栈中仍然分开）。而父视图将保持对其子视图的强引用（如胶水）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T13:11:39.267

`-addSubview:`是 UIView 的一个方法。它将一个视图插入到另一个视图中。就像在页面上添加一个按钮。

`-pushViewController:`是 UINavigationController 的一个方法。它将视图控制器推送到导航堆栈上。就像从表格视图滑动到详细信息视图一样。

简而言之，`-addSubview:`构成一个视图。`-pushViewController:`是视图之间的过渡。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T13:09:45.773

[正如此 Apple 支持论坛帖子](https://discussions.apple.com/thread/3142391?start=0&tstart=0)中的 sptrakesh 所述：

> addSubview 是一个较低级别的功能，您可以使用它向父/主视图添加其他视图。pushViewController 用与新视图控制器关联的视图替换窗口中的当前主视图。当您想在当前视图之上以模态方式显示视图（阻止前一个视图）时，您可以使用 presentModalViewController。如果您对模态视图控制器使用全屏，则 pushViewController 和 this 在 UI 行为方面没有太大区别。当您使用 pushViewController 时，您可以“弹出”到已推送的视图控制器数组中的任何视图控制器，这对于嵌套模式视图来说并不容易。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T13:16:19.687

在您的情况下，问题不在于`addSubview:`vs.的使用`pushViewController:animated:`，而只是您使用`addSubview:`.

```
[self.view addSubview:textViewController.view]; // misspelled 
```

应该是（将 x 替换为 s）

```
[self.view addSubview:testViewController.view]; // correct 
```

`addSubview:`至于vs.的区别`pushViewController:animated:`，其他人已经给出了很好的答案。基本上，`pushViewController:animated:`当您替换整​​个屏幕的内容以及`addSubview:`将非全屏 UI 元素添加到现有视图时，您应该使用。

当我们谈论 a 的视图时`UIViewController`，`pushViewController:animated:`应该是您首选的方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-01T11:48:45.950

我最近遇到了与`addSubview`and类似的问题`pushViewController`。这里的每个人都发表了很好的评论，但我要补充一点：

通常`addSubview`不单独使用。您通常将它与 一起使用`presentModalViewController`，或者在控制器包含的情况下，`addChildViewController`。

总而言之：

1.  如果您使用导航控制器，则使用 p `ushViewController`**/**`popViewController`来浏览您的应用程序。
2.  如果您手动切换视图，请使用`presentModalViewController`.
3.  如果您正在进行控制器遏制，请使用`addChildViewController`.
4.  如果您使用故事板，请使用 Segues。

# android - 在网络中断之前接收广播的任何方式

> ID：11083553
> 
> 赞同：0
> 
> 时间：2012-06-18T13:06:02.067
> 
> 标签：android, networking, broadcastreceiver

我已经有几个接收器在运行，包括一个用于重启和进入飞行模式的接收器。但是，我并不总是能及时获得 Intent 让我做我需要做的事情，向外部服务器发送快速消息。

即使将意图过滤器设置为优先级 1000 也不能保证我可以在为时已晚之前进行传输，尽管它确实有帮助。

如前所述，并不是我没有收到我的广播，我只是太晚了，在网络已经关闭之后。

任何指向我可以在哪里找到一些提示的指针都是非常受欢迎的，过去几天我一直在网上搜寻，但没有运气。

**编辑：** 我目前在 4 个广播监听器之间使用以下操作

```
 <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />

            <action android:name="android.intent.action.BOOT_COMPLETED" />

            <action android:name="android.intent.action.PHONE_STATE" />
            <action android:name="android.intent.action.NEW_OUTGOING_CALL" />
            <action android:name="android.intent.action.PROVIDER_CHANGED" />

            <action android:name="android.intent.action.ACTION_SHUTDOWN" />
            <action android:name="android.intent.action.AIRPLANE_MODE" /> 
```

**编辑2：**我意识到我的意图并没有完全清楚。我不是在谈论网络状态本身，而是用户进入飞行模式或关闭设备的操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:49:44.140

参考这段代码：

```
IntentFilter monitorInternetConnectivityFilter = new IntentFilter(
            ConnectivityManager.CONNECTIVITY_ACTION);
MonitorInternetConnectivity monitorInternetConnectivityReciever;
monitorInternetConnectivityReciever = new MonitorInternetConnectivity();
class MonitorInternetConnectivity extends BroadcastReceiver {

        @Override
        public void onReceive(Context context, Intent intent) {

            if (!NetworkHelper.isOnline(context)) {
                //Toast.maketext("Network went down");
            }

        }

    }

@Override
    protected void onPause() {
        // TODO Auto-generated method stub
        super.onPause();

        unregisterReceiver(monitorInternetConnectivityReciever);

    }
@Override
    protected void onResume() {
        // TODO Auto-generated method stub
        super.onPause();

        registerReceiver(monitorInternetConnectivityReciever,
                monitorInternetConnectivityFilter);

    } 
```

////////////////////网络助手

```
public static boolean isOnline(Context cxt) {
        ConnectivityManager cm = (ConnectivityManager) cxt
                .getSystemService(Context.CONNECTIVITY_SERVICE);
        NetworkInfo netInfo = cm.getActiveNetworkInfo();
        if (netInfo != null && netInfo.isConnectedOrConnecting() && canHit()) {

            Logger.debug(NetworkHelper.class, "mode is online");
            return true;
        }
        return false;
}

public static boolean canHit() {

        try {
            URL url = new URL("http://www.google.com/");
            HttpURLConnection urlConnection = (HttpURLConnection) url
                    .openConnection();
            urlConnection.setConnectTimeout(3000);
            urlConnection.connect();
            urlConnection.disconnect();
            return true;
        } catch (Exception e) {
            Logger.error(NetworkHelper.class, e.getMessage());
            return false;
        } 

    } 
```

此代码会在网络关闭时通知您，不确定它是否会在它之前通知您

# apache - 特定用户的 Apache，mod_ssl“请求失败：读取标头时出错”

> ID：11083556
> 
> 赞同：2
> 
> 时间：2012-06-18T13:06:12.717
> 
> 标签：apache, firefox, post, bad-request, mod-ssl

目前我们有一个运行 Django 的带有 mod_ssl 2.2.3 的 Apache 2.2.3 服务器，用户使用 x509 证书进行身份验证。

到目前为止，系统运行良好，但单个用户在尝试上传文件时收到 400 Bad Request 错误，有关此操作的 ssl_error_log 的内容是：

[<date>] [error] [client <client ip>] 请求失败：读取标头时出错，referer：<referrer url>

ssl_access_log 的内容是：

<client ip> - - [<date>] "POST <target page> HTTP/1.1" 400 321

此外，据我所知，用户的浏览器是 Firefox。

我完全无法重现此错误，到目前为止，其他用户都没有遇到过它。你能指出发生这种情况的一些原因吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-03T22:44:33.380

我遇到过在发送 X 个字节后停止上游的连接。X 是一个相当低的值，足以请求一些简单的页面，但不能处理 ajax 请求，更不用说上传文件了。据我记得，这种连接问题仅在网络共享时发生（来自特定的 Android 手机，但我什至没有测试其他手机）。

因此，如果上游中断并且上传停止，则 apache 会返回此错误是有道理的，根据[这篇文章](https://access.redhat.com/site/solutions/19121)：“Apache 等待与 Timeout 指令相等的时间（如果未定义，则默认为 5 分钟）等待来自客户端的响应. **Apache 很可能正在等待指示标头结束的 CRLF，但从未收到它**。."

# html - 创建一个在特定点停止滑动的 jquery UI 滑块

> ID：11083564
> 
> 赞同：0
> 
> 时间：2012-06-18T13:07:01.320
> 
> 标签：html, jquery-ui, slider

我有一个为新项目创建的 jquery ui 滑块。我需要知道是否有办法在滑块“手柄”的左右某个点之后禁用滑动，因为我根据来自数据库的信息使滑块的左/右变灰。它基本上是一个复杂的搜索功能，并且根据其他用户定义的选择，用户可以使用滑块的整个宽度，或者部分显示为灰色，以便他们只能选择一小部分。我在这里添加了一张图片：

[http://demos.frodo.wilson-cooke.co.uk/varley-118345/stackoverflowimage.jpg](http://demos.frodo.wilson-cooke.co.uk/varley-118345/stackoverflowimage.jpg)

所以我所做的是在滑块顶部放置一个 div 并更新 CSS 以显示“块”div。如果一切正常，这些都是绿色的，您可以选择整个滑块。但是，如果设置了范围，则某些框会变灰，您只能从该范围内进行选择（请参阅灰色框内的绿色 - 这将是可选范围，白色将是选定范围)

但是，没有办法说“我不希望你能够滑过特定点” - 所以在这个例子中它会是“我不希望你能够滑过左边 = 26.6667%”管他呢。

有人对我如何实现这一目标有任何想法吗？我已将所有代码粘贴在下面。

```
/* CONTENT 
---------------------------------------------------------

-------------------------------------------------------- */ 

$(document).ready(function(){
    var rangenumleft = 0;
    var rangenumright = 240;
    var curleftval = 0;

    wheelDiameterValues = new Array();

    wheelDiameterValues[0] = 0;
    wheelDiameterValues[1] = 50;
    wheelDiameterValues[2] = 75;
    wheelDiameterValues[3] = 100;
    wheelDiameterValues[4] = 125;
    wheelDiameterValues[5] = 150;
    wheelDiameterValues[6] = 175;
    wheelDiameterValues[7] = 200;
    wheelDiameterValues[8] = 225;
    wheelDiameterValues[9] = 250;
    wheelDiameterValues[10] = 275;
    wheelDiameterValues[11] = 300;
    wheelDiameterValues[12] = 350;
    wheelDiameterValues[13] = 400;
    wheelDiameterValues[14] = 450;
    wheelDiameterValues[15] = 500;

    // when you click the go button on search, this shows the example functionality.

    $('#gobutton').click(function() {
       var value1 = 40;
       var value2 = 100;
       lightblocks('#diameter-overslider', value1, value2);
       createSlider('#diameter-slider', value1, value2);
    });

    var initValue1 = 0;
    var initValue2 = 150;
    createSlider('#diameter-slider', initValue1, initValue2);
    createSlider('#load-slider', initValue1, initValue2);

})

function recalcRangeNumbers(slider, numA, numB) {
    $(slider).find('#leftrangenumber').html(numA);
    $(slider).find('#rightrangenumber').html(numB);
}

function createSlider(slider, value1, value2) {

    $(slider).slider({
        range: true,
        min: 0,
        max: 150,
        step: 10,
        values: [ value1, value2 ],
        create: function(event, ui) {
            //lightblocks();
            var startval = $(this).slider( "values", 0 );
            startval = wheelDiameterValues[startval / 10];
            var endval = $(this).slider( "values", 1 );
            console.log(endval);
            endval = wheelDiameterValues[endval / 10]
            console.log(endval);
            $(this).children('.ui-slider-handle').each(function(index, domEle) {
                if(index == 0) {
                    $(this).addClass('leftHandle');
                }
                else
                {
                    $(this).addClass('rightHandle');
                }

                if($(this).hasClass('leftHandle')) {
                    $(this).append('<div class="leftslider"><p class="range-number" id="leftrangenumber">'+startval+'</p></div>');
                }
                else if($(this).hasClass('rightHandle')) {
                    $(this).append('<div class="rightslider"><p class="range-number" id="rightrangenumber">'+endval+'</p></div>');
                }

            });
        },
        slide: function( event, ui ) {
            var value = ui.value;
            var value1 = ui.values[0];
            var value2 = ui.values[1];

            if(value == value1)
            {
                direction = 'left';
            }
            else if(value == value2)
            {
                direction = 'right';
            }
            //lightblocks(value, direction);
            var startval = ui.values[0];
            startval = wheelDiameterValues[startval / 10];
            var endval = ui.values[1];
            endval = wheelDiameterValues[endval / 10];
            recalcRangeNumbers(slider, startval, endval);
            //$( "#amount" ).val( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
        }
    });
}

function lightblocks(slider, value1, value2) {
    /*changeval = value / 10;
    if(direction == 'left')
    {
        for(i = 0; i < changeval; i++){
            changevalselector = '#'+i;

            $(changevalselector).addClass('block-green');
        }
    }
    else if (direction == 'right')
    {
        for(i = 15; i >= changeval; i--){
            changevalselector = '#'+i;

            $(changevalselector).addClass('block-green');
        }
    }
    */
    console.log("slider name="+slider+" value1 = "+value1+" value2 = "+value2);

    value1 = value1 / 10;
    value2 = value2 / 10;

    console.log("slider name="+slider+" value1 = "+value1+" value2 = "+value2);

    for(i = 0; i < value1; i++)
    {
        changevalselector = '#'+i;
        $(slider).find(changevalselector).removeClass('block-green');
        $(slider).find(changevalselector).addClass('block-grey');
    }
    for(i = 15; i >= value2; i--)
    {
        changevalselector = '#'+i;
        $(slider).find(changevalselector).removeClass('block-green');
        $(slider).find(changevalselector).addClass('block-grey');
    } 
```

然后是 HTML

```
<div class="section" id="bigconfig-spec">
                <h2> Specifications <img class="info-icon tooltip" src="images/info-icon.png" alt="information icon" title="This is some product type information" /></h2>
                <p class="slider-label"> Wheel Diameter (mm) </p>
                <div class="slider" id="diameter-slider"></div>

                <div class="overslider" id="diameter-overslider">
                    <?php for($i = 0; $i <= 14; $i++) { ?>
                    <div class="sliderblock block-green" id="<?php echo $i; ?>"></div>
                    <?php } ?>
                </div>

                <p class="slider-label"> Load Capacity (each, kg) </p>
                <div class="slider" id="load-slider"></div>

                <div class="overslider" id="load-overslider">
                    <?php for($i = 0; $i <= 14; $i++) { ?>
                    <div class="sliderblock block-green" id="<?php echo $i; ?>"></div>
                    <?php } ?>
                </div>
            </div> 
```

无论如何，任何想法都将不胜感激，因为我能看到的唯一方法是开始弄乱 jquery ui 代码，这有点超出我的想象（目前，我确信我可以理解它)

但是，是的，感谢您的帮助。

干杯

安迪

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T22:30:01.100

你有没有研究过这个问题：

[jquery 滑块、时间选择器和保留时间..](https://stackoverflow.com/questions/5067148/jquery-ui-slider-disable-sections-in-slider)

这个想法是相似的，我相信这就是你正在寻找的。

# php - 如何通过 $_GET 循环获取所有数据

> ID：11083567
> 
> 赞同：1
> 
> 时间：2012-06-18T13:07:04.977
> 
> 标签：php, javascript, html, email

我有一个大问题：当有人选择多个产品时，例如他选择了 3 个产品，它会进入购物车。当他发送订单（结帐）时，我只看到邮件中的第一个产品，而不是 3。

这是因为我在function.js中已经说过：

```
function fillInForm(){

    NumberOrdered = 0;
    NumberOrdered = readCookies("NumberOrdered");

    for (i = 1; i <= NumberOrdered; i++){
        NewOrder = "Order" + i;
        thisCookie = "";
        thisCookie = readCookies(NewOrder);;
        fields = new Array();
        fields = thisCookie.split("|");
        document.write("<input type=hidden name=\"Product ID " + i + "\" value=\"" + fields[0] + "\">");
        document.write("<input type=hidden name=\"Brand " + i + "\" value=\"" + fields[1] + "\">");
        document.write("<input type=hidden name=\"Model " + i + "\" value=\"" + fields[2] + "\">");
        document.write("<input type=hidden name=\"Price " + i + "\" value=\"" + fields[3] + "\">");
        document.write("<input type=hidden name=\"Amount products " + i + "\" value=\"" + fields[4] + "\">");
        document.write("<input type=hidden name=\"Total cost " + i + "\" value=\"" + fields[3] * fields[4] + "\">");
        document.write("<input type=hidden name=\" " + "\" value=\"" + "\">");

    }
} 
```

当我使用 var_dump($_GET); 它向我展示了一切，所以它向我展示的三种产品都有类似的东西

```
["Brand_1"]=>
["Brand_2"]=>
["Brand_3"]=> 
```

在发送信息的 mail.php 中，我有：

```
$brand = $_GET["Brand_1"]; (<<WITH 1, one) 
```

因为

```
$brand = $_GET["Brand_i"]; (<<WITH i) does not work. 
```

但理论上我需要

```
$brand = $_GET["Brand_i"] (<<WITH i)to get all the products............ 
```

我怎样才能解决这个问题？

邮件.php

```
$productid = $_GET["Product_ID_1"];
$brand = $_GET["Brand_1"];
$model = $_GET["Model_1"];
$price = $_GET["Price_1"];
$amount = $_GET["Amount_products_1"];
$totalcost = $_GET["Total_cost_1"];

$message .= 'Your order information: ' . '<br />';
$message .= 'Product ID: ' . $productid . "<br />" .
            'Brand: '. $brand . "<br />" .
            'Model: ' . $model . "<br />" .
            'Price per item: ' . $price . "<br />" .
            'Amount of item: ' . $amount . "<br />" .
            'Total cost: ' . $totalcost . "<br />" .
            'Order date and time: ' . $date;
$message .= '</body></html>'; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:12:45.167

你想要的可能是这样的

```
for ($i = 0; $i < $_GET['numberordered']; $i++)
{
    $brand = $_GET['Brand_'.$i];
    // ... rest of your code ...
} 
```

你需要一个循环来遍历它们，你不能只使用`Brand_i`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:14:15.770

```
$message .= 'Your order information: ' . '<br />';
$i = 1;
while (isset($_GET["Product_ID_".$i])) {
    $productid = $_GET["Product_ID_".$i];
    $brand = $_GET["Brand_".$i];
    $model = $_GET["Model_".$i];
    $price = $_GET["Price_".$i];
    $amount = $_GET["Amount_products_".$i];
    $totalcost = $_GET["Total_cost_".$i];

    $message .= 'Product ID: ' . $productid . "<br />" .
                'Brand: '. $brand . "<br />" .
                'Model: ' . $model . "<br />" .
                'Price per item: ' . $price . "<br />" .
                'Amount of item: ' . $amount . "<br />" .
                'Total cost: ' . $totalcost . "<br />" .
    $i++;
}

$message .= 'Order date and time: ' . $date;
$message .= '</body></html>'; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T13:15:13.620

~~澄清一下，空格和下划线不能互换。如果你有这个字段：~~

```
<input type="hidden" name="brand 1" /> 
```

~~然后要在您必须使用的服务器上访问它，`$_GET['brand 1']`而不是`$_GET['brand_1']`.~~

正如*@GlitchMr*指出的那样，字段名称中的空格显然被PHP 转换为下划线。我不知道这个功能。您现在拥有的很好，但我强烈建议您首先不要使用空格。

您也不能`i`在字符串中使用假设 PHP 会理解有多个事物并且它应该用数字替换 for `i`。通过命名 HTML 中的输入来指示该字段是一个数组，如下所示：

```
<input type="hidden" name="brand[]" /> 
```

然后，您不必担心使用 Javascript 对它们进行编号。PHP 将理解这是一个值数组，并且：

```
print_r($_GET['brand[]']); 
```

将是一个数组，您可以使用 foreach 遍历它以编写需要发送的电子邮件。

```
$length = count($_GET['brand']);
$fields = array('product_id[]', 'model[]', 'price[]', 'amount[]', 'total_cost[]');

foreach($fields as $field) {
    if($count($_GET[$field] !== $length) {
        die('Not all product arrays are the same length');
    }
}

for($i = 0; $i < $length; $i++) {
    $message .= 'Your order information: ' . '<br />';
    $message .= 'Product ID: ' . $_GET['product_id[]'][$i] . '<br />' .
                'Brand: '. $_GET['brand[]'][$i] . '<br />' .
                'Model: ' . $_GET['model[]'][$i] . '<br />' .
                'Price per item: ' . $_GET['price[]'][$i] . '<br />' .
                'Amount of item: ' . $_GET['amount[]'][$i] . '<br />' .
                'Total cost: ' . $_GET['total_cost[]'][$i] . '<br />' .
                'Order date and time: ' . $date. '<br />';
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T13:16:12.120

您需要使用[string interpolation](http://us3.php.net/manual/en/language.types.string.php#language.types.string.parsing)或 concatenation 来获得您所追求的。

您可以使用：

```
$brand = $_GET["Brand_{$i}"]; 
```

或者：

```
$brand = $_GET['Brand_' . $i]; 
```

在 for 循环中遍历每个订单。

您还可以使用 PHP 的内置功能自动创建产品数组。在 PHP 中，当一个表单被提交时，一个名为字段`fieldName[]`的值会被转换为一个数组。但是，如果您需要跳过一列中的值，以这种方式，它不会这样做。但是，您可以指定一个索引 ,`fieldName[1]`等来解决这个问题（尽管您的索引从 0 开始，否则您可能需要一个 for-each 循环）。您还可以使用语法`products[0][brand]`并获取如下数组：

```
$_GET['products'] = array(
  0 => array(
    'brand' => 'My Brand',
    'sku' => '0123asd'
  )
); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T13:17:31.327

长话短说 - 您可以使用相同的输入名称发送多个品牌。;)

html:

```
<input name="Brand[]" value="Cat" />
<input name="Brand[]" value="Dog" />
<input name="Brand[]" value="Shuttle" /> 
```

php:

```
foreach($_GET['Brand'] as $brand) {
    echo $brand;
} 
```

结果：

```
CatDogShuttle 
```

# java - 有没有办法只使用xml来定义包含一堆图像的android drawable？

> ID：11083569
> 
> 赞同：0
> 
> 时间：2012-06-18T13:07:12.200
> 
> 标签：java, android, android-layout

我想在我的布局 XML 中使用一组 2 个图像层作为背景。

我猜我能做到：

1.  使用代码，可能是通过扩展 ImageView/Canvas/Drawable，这是我试图避免的。
2.  使用布局 XML，具有 2 个嵌套布局，每个图层图像作为背景。或其中包含 2 个 ImageView 的 FrameLayout。

但是，我想知道是否有另一种方法可以使用 XML 定义可绘制对象（就像我使用 XML 定义动画集一样）。

像这样的东西：

## 我的布局.xml

```
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/2_image_layer_drawable" > 
```

## 2_image_layer_drawable.xml [虚构]

```
 <Set>
       <drawable src="@image_layer_back"/>
       <drawable src="@image_layer_front"/>
   </Set> 
```

有没有？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:11:59.393

将 a[`layer-list`](http://developer.android.com/guide/topics/resources/drawable-resource.html#LayerList)与两个[`Bitmap`](http://developer.android.com/guide/topics/resources/drawable-resource.html#Bitmap)（带有这些图像）drawable 一起用作子项。例子：

```
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android" >

    <item>
        <bitmap android:src="@drawable/ic_launcher" />
    </item>
    <item>
        <bitmap android:src="@drawable/ic_launcher" />
    </item>

</layer-list> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:11:34.573

你在说这个吗：

将以下代码与`.xml`文件一起保存：

```
<?xml version = "1.0" encoding = "utf-8" ?>

<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_pressed="true" android:drawable="@image_layer_back" />
    <item android:state_focused="true" android:drawable="@image_layer_back" />
    <item android:state_selected="true" android:drawable="@image_layer_back" />
    <item android:drawable="@image_layer_front" />
</selector> 
```

# git - Git获取特定版本

> ID：11083570
> 
> 赞同：2
> 
> 时间：2012-06-18T13:07:15.977
> 
> 标签：git

我正在尝试在 git 中获取特定版本并将其提交为当前版本。考虑这个示例场景：

```
tag : v2 (current version)
files : 1.txt,2.txt,3.txt

tag : v1
files : 55.xml,33.yml 
```

我正在尝试切换到标签 v1 并使其成为我的当前版本（获取此特定版本）

通过搜索网络，我可以找到获取所有文件的方法

```
git checkout tag_name
# ex. git checkout v1 
```

这实际上从特定版本中获取文件并加载到我的工作目录中。

但我无法提交现有文件并将其推回服务器。

（当它尝试推送时，它显示没有待处理的更改）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:10:30.940

由于您有标签，因此您应该将标签签出到分支中。

```
git checkout -b v2 branch_v2 
```

这会将标签 v2 处的项目状态检出到名为 branch_v2 的分支中（您可以随意调用它）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:12:13.027

它显示没有待处理的更改，因为没有更改。如果您想`master`在遥控器上指向`v1`，您可以在遥控器上执行 an`update-ref`或 a `reset`。如果你想创建一个新的提交，它是它的子`v2`节点，它与 具有相同的树`v1`，你可以做一个`merge`. 你到底想做什么？远程是一个裸仓库，还是一个工作目录？如果是前者，你应该什么都不做，任何想查看文件的人都`v1`应该 checkout `v1`。如果是后者，您应该简单地`v1`在遥控器上签出，但不要进行新的提交。

从您的评论中，听起来您想对具有与 tag 相同文件内容的远程仓库进行新的提交`v1`。最好`update-ref`在远程仓库上简单地使用将其重置回`v1`，但当然可以进行新的提交。一种方法是：

```
git reset $( echo 'Resetting repo to v1' | git commit-tree $(
    git show -s --format='%T' v1 ) -p v2 ) 
```

这将计算 的树`v1`，使用该参数调用 commit-tree 以创建一个新的提交对象，其父对象是`v2`（或使用 HEAD，或任何您想成为新提交的父对象），使用提交日志“将 repo 重置为 v1”然后重置 repo，以便 HEAD 指向新的提交。完成此操作后，您应该能够推送到 repo。在旧树中进行合并可能更简单`pull`，但这可能需要相当多的手动干预来解决冲突。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-11-13T20:21:52.077

这就是我获得特定修订的方式：

```
$ git fetch origin cd379d1c02ae095ad945c8c8c833f4fa2aaf51a7
$ git reset --hard FETCH_HEAD 
```

然后，如果我想做一些工作并从您刚刚签出的标签中添加提交，我将创建一个新分支：

```
$ git checkout -b v1a
$ git push -u origin v1a 
```

# php - php查询中的Mysql语法错误未显示在浏览器中

> ID：11083571
> 
> 赞同：0
> 
> 时间：2012-06-18T13:07:24.217
> 
> 标签：php, mysql

假设我在 php/mysql 查询中有错误：

```
$query = "SELECT * ROM users WHERE _id = :user_id"; 
```

在这里，FROM 缺少一个“F”。当我在 localhost 中启动这个 php 文件时，我的浏览器没有反应，它应该显示如下内容：

```
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server 
```

但它没有，只有空白页......如何启用此选项？

编辑：我正在使用 PDO。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:21:45.680

*   如果您使用`mysql_*`函数，则必须执行以下操作：`mysql_query($sql) or die(mysql_error());`
*   如果您使用`mysqli_*`：`mysqli_query($sql) or die(mysqli_error());`
*   如果您使用`PDO`：`$stmt->execute() or die(print_r($stmt->errorInfo)); //$stmt is instance of PDOStatemen`

如果你还在使用`mysql_*`我强烈建议停止使用（我的意思是 sql 注入）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:13:19.563

*   如果查询未成功执行，请首先在代码中使用 mysql_error() 函数。像这样的东西：

    ```
    if(!mysql_query($query)){
       echo mysql_error();
    } 
    ```

*   其次，检查您的 php.ini 中 error_reporting 是打开还是关闭。

然后在浏览器上检查错误。

# cordova - 是否可以使用PhoneGap创建后台服务以x间隔显示通知

> ID：11083572
> 
> 赞同：4
> 
> 时间：2012-06-18T13:07:30.350
> 
> 标签：cordova

我正在一个移动本机应用程序中工作，该应用程序需要对必要的数据进行后台扫描，并在一定时间间隔后向用户显示通知。

但我不确定如何实现这一目标？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:26:42.657

您可以像在 Android 中一样创建[后台服务。](https://developer.android.com/guide/topics/fundamentals/services.html)然后您需要创建一个[插件](http://wiki.phonegap.com/w/page/36753494/How%20to%20Create%20a%20PhoneGap%20Plugin%20for%20Android)以在您指定的时间间隔调用您的服务来查询数据。

# jquery - 无法更改 jquery pnotify 插件的背景颜色

> ID：11083579
> 
> 赞同：1
> 
> 时间：2012-06-18T13:07:51.890
> 
> 标签：jquery, jquery-plugins

我正在使用以下插件[http://pinesframework.org/pnotify/](http://pinesframework.org/pnotify/)

我正在使用以下 jquery 代码创建对话框..

```
window.parent.$.pnotify({ pnotify_title:"Test", pnotify_text:"hello", pnotify_type: "notice",pnotify_addclass: 'customsuccess',pnotify_shadow: false ,pnotify_history:false,pnotify_animation: {effect_in: 'fade', effect_out: 'fade'}}); 
```

我正在尝试更改 pnotify 通知的背景颜色，但无论我做什么我都无法更改背景颜色..可能是什么原因？

我添加了我的自定义类

它具有以下属性..

```
.customsuccess{
    background-color: blue;
    border:1px solid #bbe787;
} 
```

上面的代码只是将边框颜色更改为蓝色..

即使我尝试将 background-color:property 添加到`ui-pnotify-container`类，但也没有反映变化，我可以看到我的旧颜色通知..

任何帮助表示赞赏..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T13:13:46.320

我想到了。添加这个：

```
.customsuccess div.ui-pnotify-container {
    background-image: none;
    background-color: #effedb;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-30T17:41:46.737

您可以使用样式变量 - 假设您有 jqueryUI css 或 bootstrap css。如果是这样，您可以将“样式”设置为“jqueryui”或“bootstrap”。

# jquery - IE8 IE7 jquery 循环黑色背景

> ID：11083581
> 
> 赞同：0
> 
> 时间：2012-06-18T13:07:55.480
> 
> 标签：jquery, internet-explorer-8, internet-explorer-7, cycle

我已经看到了相当多的 IE 东西，但以前从未见过，也不知道如何修复它。我之前曾多次使用 jquery 循环插件，没有这个问题。

请参阅：http: [//vdpwebsites.com.au/tony/2012/rvu/index.html](http://vdpwebsites.com.au/tony/2012/rvu/index.html)

基本上在 IE8/7 上，在网站右侧部分向左滚动的蓝色框是黑色的。如果您在另一个浏览器中查看它，您可以看到它是蓝色的并且它是背景图像的一部分。你可以看到它下面的白色，但似乎有黑色覆盖了顶部。

任何帮助表示赞赏 - 谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:16:44.627

每张幻灯片都在 IE <= 8 中应用黑色背景

我*认为*这是因为您需要`cleartypeNoBg: true`在循环选项中设置

# reporting-services - 导出为 excel 或 pdf 时自动展开 ssrs 深入报告

> ID：11083584
> 
> 赞同：1
> 
> 时间：2012-06-18T13:08:03.700
> 
> 标签：reporting-services, report, ssrs-2008

我想在单击 Excel 或 PDF 的导出按钮时自动展开 SSRS 报告。请分享任何想法。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T14:52:52.493

当您单击导出按钮时，它不会自动发生。如果您需要扩展某些内容，请考虑在报告中添加一个链接以供用户点击。您可以让它看起来像一个按钮 - 创建一个文本框并使用背景颜色使其突出。在此文本框中，使用跳转到报告或跳转到 URL 并连接到以您喜欢的方式扩展的报告的另一个版本。然后你可以导出它。如果您使用跳转到 URL 按钮，您可以使用 URL 访问参数将报表的扩展版本自动呈现为 Excel 或 PDF，这样用户就不必采取额外的步骤。您可以在此处查看有关 URL 访问参数的更多信息：http: [//msdn.microsoft.com/en-us/library/ms153586](http://msdn.microsoft.com/en-us/library/ms153586)

# ios - 应用程序的后端是如何创建的？还有前端是怎么设计的？它是否像 wap 站点一样完成并且它们链接到 Xcode？

> ID：11083586
> 
> 赞同：0
> 
> 时间：2012-06-18T13:08:18.240
> 
> 标签：ios, web-applications

我试图找到这个问题的答案，但更准确地说，像 instagram 这样的一些应用程序有一个自定义后端，就像他们在存储用户个人资料的应用程序中有一个个人资料选项卡，包括他们上传的照片。我想知道该页面是如何创建的，以及数据是如何保存到该页面的。简而言之，如果我的应用程序我想要一个配置文件选项卡，我该如何创建它，以及数据存储是如何完成的? 我想知道我的个人资料选项卡下的个人资料页面是否已创建，就像它是在 Xcode 或某些网页设计应用程序中完成并链接到 Xcode 一样？不要误会我的意思，我不是要详细的过程，只是要使用什么软件和基本大纲。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:11:40.970

后端是 PHP 或任何其他服务器端语言，这些呈现为服务 API 接口，最常见的是 RESTful 接口，应用程序连接到这些 RESTful 服务以存储和检索数据

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:21:13.040

您可能还想阅读核心数据，因为任何离线配置文件数据都可能存储在核心数据中或作为 NSUser 默认值。

[http://developer.apple.com/library/ios/#DOCUMENTATION/DataManagement/Conceptual/iPhoneCoreData01/Introduction/Introduction.html](http://developer.apple.com/library/ios/#DOCUMENTATION/DataManagement/Conceptual/iPhoneCoreData01/Introduction/Introduction.html)

[http://developer.apple.com/library/ios/#DOCUMENTATION/Cocoa/Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html](http://developer.apple.com/library/ios/#DOCUMENTATION/Cocoa/Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html)

# wpf - WebBrowser Source 属性的双向绑定

> ID：11083588
> 
> 赞同：1
> 
> 时间：2012-06-18T13:08:25.383
> 
> 标签：wpf, xaml, browser

我在我的 WPF、MVVM 应用程序中使用 System.Windows.Controls.WebBrowser。

我需要让 WebBrowser 的 ViewModel 知道 WebBrowser 的 Source 属性何时更改，以及加载的 html 文档何时更改。当然，最好的方法是将 Source 属性绑定到 ViewModel，但我发现只是这种绑定解决方案，它只提供从 ViewModel 到 WebBrowser 的单向绑定：[databind the Source property of the WebBrowser in WPF](https://stackoverflow.com/questions/263551/databind-the-source-property-of-the-webbrowser-in-wpf)

命名空间 System.Windows.Forms 中的旧 WebBrowser 具有诸如“OnDocumentTitleChanged”之类的有用方法，但我在 System.Windows.Controls.WebBrowser 中找不到类似的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:16:49.297

尝试收听 WebBrowser.Navigated 和 WebBrowser.Navigating 并使用 WebBrowser.Source 将代码中的消息发送给您的 VM，并在您的 VM 上收听并处理它，除非您想使用核心 MVVM，即 2 个之一上的 EventToCommand事件是可能的。

# php - 致命错误：无法在写入上下文中使用函数返回值

> ID：11083590
> 
> 赞同：1
> 
> 时间：2012-06-18T13:08:33.937
> 
> 标签：php, function, post, exec, fatal-error

我有一个非常讨厌的错误，我无法摆脱。这是导致问题的函数：

```
 function get_info_by_WatIAM($WatIAM, $info) { 
    $users_info = array();
    exec("uwdir -v userid={$WatIAM}", $users_info);
    foreach ($users_info as $user_info) {
        $exploded_info = explode(":", $user_info);
        if (isset($exploded_info[1])){              
            $infoArray[$exploded_info[0]] = $exploded_info[1];
        } 
    }
    return $infoArray[$info];   } 
```

这是调用该函数的内容：

```
} elseif (  empty(get_info_by_WatIAM($_POST['ownerId'])) ) { ... 
```

我真的很感激任何建议。非常感谢！

如果代码没有意义，这里有一个进一步的解释：exec 使用一个程序来存储学校中所有用户的信息。其中包括教师、姓名、用户 ID 等内容。这`$_POST['ownerId']`是一个用户名——这个想法是，输入用户名后，所有用户的信息都会自动填写

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T13:10:51.220

您不需要`empty`围绕函数调用，实际上`empty`只适用于变量而不是函数（如您所见）。仅`empty`当您想测试*可能未设置*为*thruthiness*的变量时才需要。围绕函数调用毫无意义，因为该函数调用必须存在。而是简单地使用：

```
} else if (!get_info_by_WatIAM($_POST['ownerId'])) { ... 
```

它做同样的事情。如需深入解释，请阅读[PHP 的 isset 和 empty 权威指南](http://kunststube.net/isset/)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T13:09:49.177

[`empty`](http://php.net/manual/en/function.empty.php)只能用于变量，不能用于表达式（例如调用函数的结果）。文档页面上有一个警告：

> 笔记：
> 
> `empty()`仅检查变量，因为其他任何内容都会导致解析错误。换句话说，以下内容将不起作用：`empty(trim($name))`.

只是 PHP 最独特的怪癖之一。

一种解决方法是将结果存储在一个变量中并调用`empty`它，尽管它很笨重。在*这种特定情况下*，您还可以使用

```
if (!get_info_by_WatIAM(...)) 
```

...虽然在一般情况下，`if (empty($a))`并不`if(!$a)`等同。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-18T13:10:22.700

得到这个值

```
$a = get_info_by_WatIAM($_POST['ownerId']) 
```

然后破解

```
empty($a) 
```

它会起作用的

# dynamics-crm-2011 - 不显示按钮和其他活动视图的电子邮件视图

> ID：11083593
> 
> 赞同：1
> 
> 时间：2012-06-18T13:08:48.283
> 
> 标签：dynamics-crm-2011

我想将电子邮件添加到导航中，以便可以像任何其他实体一样使用它。编辑站点地图不是问题，但无法按预期方式工作。

首先，它显示所有实体，而不仅仅是电子邮件。因此，对于其他不需要的活动有过滤器。

如何制作不显示其他活动的电子邮件视图？

![在此处输入图像描述](../Images/86fe48092cc421e4ae3cb891bf7e2fff.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T15:05:21.117

*   在 CRM 中创建一个新视图，显示您希望查看的记录

*   创建一个 HTML Web 资源，其中一个 iFrame 指向您刚刚创建的视图的 URL。它看起来像这样`/advancedfind/advfind.aspx?AutoRun=true&QueryId=%7b495B7974-58AC-E234-92D4-EE155D107003%7d&ViewType=4230&etn=email`

*   将您的站点地图指向新的网络资源

# jquery - 后续提交表单时收音机的Jquery空值

> ID：11083594
> 
> 赞同：1
> 
> 时间：2012-06-18T13:08:49.540
> 
> 标签：jquery, ajax

我有一个问题，当我的 ajax 表单随后提交时，我得到一个空值的收音机值。

这就是依次发生的事情：

1.  用户选择收音机并提交表单
2.  获取选中单选的值`var enable = $('input[name=enable]:checked').attr('value');`
3.  通过 AJAX 发布值`data: { 'enable' : enable, },`

这一切都很好。但是，如果用户再次提交表单，则单选的值为空，则不会提交任何内容。

我正在使用样式和 Jquery 来隐藏“标准”收音机并用样式版本替换它们。关闭样式后，我可以看到正确选择了收音机，但是没有提交任何值。

如果需要，我可以发布更多代码。谢谢。

```
<form method="post" id="add-form" class="form" onsubmit="return false;">
<label>Enable Location</label>
<input type="radio" name="location_enable" id="location_enable" value="enable" checked="checked" />
<input type="radio" name="location_enable" id="location_disable" value="disable" />
<button>Submit</button>
</form> 
```

验证表格

```
 <script type="text/javascript">
        $().ready(function() {
            $("#add-form").validate({
                rules: {
                    location_enable: { required: true }
                },
                success: function(span) { 
                    span.html(" ").addClass("checked"); 
                },
                submitHandler: function(form) {
                    $('#add-form').submitForm();
                }
            });
        });
        </script> 
```

发布数据

```
 <script type="text/javascript">
            $(document).ready(function() {
                $.fn.submitForm = function() {
                    var location_enable = $('input[name=location_enable]:checked').attr('value');

                    $.ajax({
                        type: 'POST',
                        data: { 'location_enable' : location_enable },
                        url: 'script.php',
                        dataType: 'json',
                        success: function($data) {
                            var result = $data.result;
                            var msg = $data.msg;

                            if (result == "success") {
                                formMessageDisplay(msg, result);
                                $(':input', '#add-form').each( function() {
                                    // Set the values to empty
                                    $(':input').val('');
                                });
                            }
                            else {
                                formMessageDisplay(msg, result);
                            }
                        },
                        error: function($data) {
                            formMessageDisplay('<?php echo AJAX_ERROR; ?>', result);
                        }
                    })
                }
            });
        </script> 
```

在第一次提交时，如果用户选择了“启用”，AJAX 会将“启用”作为值发布到 script.php。如果用户再次提交表单而不重新加载页面，即使用户选择了“启用”，AJAX 也会发布一个空值。

抱歉，之前没有使用过 jsFiddle。

在 Firebug 中，这是两次提交的输出，无需重新加载页面。

```
json_action addEloc
location_address    Test
location_desc   Test
location_enable enable
location_loc    Test
location_map    enable
location_name   Testing radio
location_postcode   Test
location_state  QLD 
```

请注意无线电字段中的两个“启用”。

第二次提交：

```
json_action addEloc
location_address    Test
location_desc   Test
location_enable 
location_loc    Test
location_map    
location_name   Testing radio
location_postcode   Test
location_state  QLD 
```

第二次提交时，两台收音机没有任何价值。

![在此处输入图像描述](../Images/68c0e47820e962aff433619090d452d3.png)

![在此处输入图像描述](../Images/abfb5450b5dfcae266188e64c45a846b.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T18:21:02.887

由于您的此脚本而发生此问题

```
if (result == "success") {
                formMessageDisplay(msg, result);
                $(':input', '#add-form').each( function() {
                    // Set the values to empty
                     $(':input').val('');
                });
} 
```

您正在将 '' 设置为所有输入类型元素

```
$(':input').val(''); 
```

这就是为什么单选按钮的值也将设置为“”，并且将返回空白响应，因为它现在正在返回，直到您刷新页面。

[您可以使用reset()](http://www.w3schools.com/jsref/met_form_reset.asp)函数来重置表单值，而不是这样做。

```
$('#add-form').reset(); 
```

# hadoop - 如何定期分析 Hadoop 上的数据

> ID：11083598
> 
> 赞同：0
> 
> 时间：2012-06-18T13:09:08.697
> 
> 标签：hadoop, mapreduce, hbase, hive, bigdata

我有一个数据源一直在生成大量数据，我定期将这些数据放入我的 hadoop 集群。

我想每 X 分钟分析一次这些数据，但我不想每次都对所有数据执行分析，只想花最后 X 分钟进行分析......

我正在将数据实时发送到 hbase，获取最后 x 分钟并对这些数据执行 mr 作业的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:23:11.020

您是否考虑过使用[OOZIE](http://incubator.apache.org/oozie/)？这是一个工作流协调系统。它有一个协调器的概念，您可以将其配置为定期运行 Map Reduce 作业。

然后，您可以使用它来运行使用 HBase 作为输入的 M/R 作业。

# php - PHPMailer 在循环中发送重复

> ID：11083600
> 
> 赞同：0
> 
> 时间：2012-06-18T13:09:09.377
> 
> 标签：php, phpmailer

我和一些使用 PHPMailer 的人一样有这个问题，我在互联网上找不到任何解决方案。问题是如果我将它设置在一个循环中（while，foreach），PHPMailer 会发送重复项（有时超过两个）。我检查了循环很好，但它不断发送重复。

这是我使它看起来更简单之后的代码。

```
<?
require("PHPMailer/class.phpmailer.php");
$select = mysql_query("SELECT * FROM `pm_mailmembers` WHERE `mm_interval`='2' AND   mm_blocked = 0") or die(mysql_error());
$mail = new PHPMailer();
$mail->SingleTo = true;
$mail->CharSet = "UTF-8";
$mail->Subject = "Fiscanet Nieuws";
$sendContent = "<p>This is test mail</p>";
$r_receivers = array("John"=>"john@mail.com","Mary"=>"mary@mail.com","Rob"=>"rob@mail.com");
foreach($r_receivers as $name=>$email){
    $mail->SetFrom('no-reply@yoursite.com', "Yoursite");
    $mail->MsgHTML($sendContent);
    $mail->AddAddress($email, $name);
    if($mail->Send())
        echo "Sent to: ".$email."<br/>";
    else
        echo "Not sent to: ".$email.", reason: ".$mail->ErrorInfo."<br/>";
    $mail->ClearAddresses();
}
?> 
```

我想我需要在循环内重置 mail->addaddress，但 mail->clearaddresses 没有帮助。并且所有 3 封电子邮件总是收到相同的电子邮件。所以所有人都会收到 2 或 3 封邮件。

有人可以帮我吗？谢谢。哎哟

* * *

问题变得更加奇怪......我试图将代码更改为只是一个简单的mail（），并且它不断发送重复。可能是什么原因？是服务器配置问题吗？？

我在 mysite.com 的子域中执行此操作，例如 sub.mysite.com。Mysite.com 和 sub.mysite.com 位于不同的服务器中。这可能是原因吗？

谢谢，好的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:30:26.940

I have worked on the code you posted. I think there is no problem with the code.

**I think when ever you refresh your page the mail is fired.**

So Please **keep the mail code in condition** and then check how many mails you get. I hope this answer might help you.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T14:07:48.910

顺便说一句，我已经为内容设定了时间。副本在第一个后 6 分钟发送。我还设置了一个订单号，所有重复的订单号都相同。

```
<?php
require("PHPMailer/class.phpmailer.php");
$mail = new PHPMailer();
$mail->SingleTo = true;
$mail->CharSet = "UTF-8";
$mail->Subject = "Fiscanet Nieuws";
$r_receivers = array("John"=>"john@mail.com","Mary"=>"mary@mail.com","Rob"=>"rob@mail.com");
    $i = 1;
foreach($r_receivers as $name=>$email){
    $mail->SetFrom('no-reply@yoursite.com', "Yoursite");
    $mail->MsgHTML($sendContent);
    $mail->AddAddress($email, $name);
        $sendContent = "<p>This is test mail number ".$i." sent at ".date('H:i:s')."</p>";
    if($mail->Send())
        echo "Sent to: ".$email."<br/>";
    else
        echo "Not sent to: ".$email.", reason: ".$mail->ErrorInfo."<br/>";
    $mail->ClearAddresses();
            $i++;
}
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-25T14:37:44.373

尝试

```
$mail->ClearAllRecipients(); 
```

# php - php oops 构造函数：意外行为

> ID：11083602
> 
> 赞同：-2
> 
> 时间：2012-06-18T13:09:16.030
> 
> 标签：php

我在处理 oops 时遇到了非常奇怪的错误：有 2 个类 A 和 B，假设 B 扩展了 A。

```
class A{

    public $companyName;
       public function __construct($compName) {

            $this->companyName  = $compName;
       }

} 
```

在 A 类调用的主 php 文件中，有代码

```
$jobName = 'Dummy Job';
$obj_pi = new A($jobName); 
```

现在当我运行时，它向我显示如下错误：警告：pi::__construct() 缺少参数 1，调用......

如果我在构造函数中打印 $this->companyName 的值，它会显示为空白。

请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:11:11.060

一方面，您的课程被称为`A`而**不是** `pi`，除此之外，它应该可以正常[工作](http://codepad.org/B4Eo4bix)。

演示`echo`：[http ://codepad.org/3qqWAj9P](http://codepad.org/3qqWAj9P)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:10:54.340

你使用了错误的类名？

```
$jobName = 'Dummy Job';
$obj_pi  = new A($jobName); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:18:15.227

它的工作完美。你必须回响`__constructor`

```
public function __construct($compName) {
        $this->companyName  = $compName;
        echo $this->companyName;
   } 
```

见[`DEMO`](http://ideone.com/GCQvx)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-18T13:10:49.050

您的代码没有任何问题。

我测试了它，它工作正常。

# macos - 如何使用 macos X 设置 EC2 内部 IP 转发到外部 DNS？

> ID：11083613
> 
> 赞同：0
> 
> 时间：2012-06-18T13:09:55.917
> 
> 标签：macos, amazon-ec2, ip, portforwarding, ipfw

这里的问题是，我在 EC2 上有两台服务器，它们具有内部/私有 IP（10.148.73.230、10.148.73.231），不幸的是我没有可用的弹性 IP 并使用外部 DNS 连接到这些服务器，例如：ec2-50-132 -69-161.us-west-2.compute.amazonaws.com (IP:50.132.69.161) 和 ec2-50-132-69-162.us-west-2.compute.amazonaws.com (IP:50.132\. 69.162）。

我有 macbook，现在我需要使用它们的内部 IP 模拟对这些 EC2 服务器的访问。

第一个想法是在 mac 上设置 IP 转发，使用：**ipfw**和**natd** ......但几个小时后由于某种原因它仍然无法正常工作。我可以快速而肮脏，或使用任何 GUI，但没有找到任何...

急需帮助，这是我当前的脚本：

```
sysctl -w net.inet.ip.forwarding=1
ipfw add 1000 forward 10.148.73.230,80 log ip from me 80 to 50.132.69.162) dst-port 80
/usr/sbin/natd -alias_address 10.148.73.230 -interface en1 -use_sockets -same_ports -unregistered_only -dynamic -clamp_mss -enable_natportmap -natportmap_interface en0 -redirect_port tcp 50.132.69.162:1-10000 1-10000 -l 
```

或者有没有更好的解决方案来进行转发？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T20:16:10.000

就像 windows/linux 的家伙一样，在这里在黑暗中拍摄。我确实了解您对 EC2 的问题并自己使用它，但通常使用弹性 ip。

是否可以像在 windows/linux 上一样设置主机文件？ [http://support.apple.com/kb/TA27291?viewlocale=en_US](http://support.apple.com/kb/TA27291?viewlocale=en_US)

# iphone - Cocos2d 2.x、1.x 和 ARC

> ID：11083616
> 
> 赞同：1
> 
> 时间：2012-06-18T13:10:09.583
> 
> 标签：iphone, ios, memory-management, cocos2d-iphone, automatic-ref-counting

两个月前开始开发我的第一个游戏时，我选择了 Cocos2d v1.01rc 而不是 2.x。

现在我了解更多，我意识到 ARC 在 Cocos2d 2.x 中得到完全支持和集成，而在 v1.01rc 中，我必须决定是否为整个项目或只是 Cocos2d 文件禁用或启用它（参见[tinytimgames 帖子）。](http://www.tinytimgames.com/2011/07/22/cocos2d-and-arc/)

我选择 1.01 版本，因为我不需要 OpenGL ES 2.0 功能（[请参阅此比较指南](http://www.learn-cocos2d.com/2012/01/choosing-cocos2d-version-updating-cocos2d-2-0/)），但现在我发现 Cocos2d 2.x 更好地支持 ARC，我觉得 Cocos2d 2.0 确实有点愚蠢新游戏的前进方向。

请参阅引用：“cocos2d v2.0 与 v1.1 一样，符合 ARC，但内部不使用 ARC。但在某些时候，v2.0 将在内部迁移到 ARC（cocos2d v2.0 在内部使用块，但不是弧）。” 在[cocos2d 论坛帖子](http://www.cocos2d-iphone.org/forum/topic/28805%22)中（它提到 cocos2d v2.0 而不是 v1.x，所以我假设开发人员的贡献重点在 v2.0 和 v1.x 将有更少的人来维护它）。**它是否正确？**对我来说，这是将 Coco2d 2.x 用于新项目的重要原因！！

我在 2 个月前开始开发我的游戏，但是我在学习的同时速度很慢，而且我仍然可以准时迁移到 2.x。

有什么建议么？我该怎么办？

1.  禁用 ARC

2.  启用 ARC

3.  迁移到 Cocos2d 2.x

**谢谢！**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:35:30.833

对于新用户，我绝对推荐使用 ARC（实际上我向所有人推荐）。

除非你真的必须支持第一代和第二代设备，否则选择 cocos2d 2.0。在此细分中，您会发现[OpenGL ES 1.1 设备的市场份额越来越小](http://www.learn-cocos2d.com/2012/03/ios-sales-statistics-q1-2012-split-by-model-opengl-es-2-0-support/)，现在几乎可以忽略不计 - 特别是如果您考虑到使用最旧的设备测试游戏所需的额外开发时间（等于成本），并且可能优化旧设备的性能。

这里有一些[需要考虑在 cocos2d 1.x 和 2.x 之间进行选择的额外要点](http://www.learn-cocos2d.com/2012/01/choosing-cocos2d-version-updating-cocos2d-2-0/)。当然还有[如何在 cocos2d 中启用 ARC](http://www.learn-cocos2d.com/2012/04/enabling-arc-cocos2d-project-howto-stepbystep-tutorialguide/)。最后，如何不打扰并[开始使用 ARC 和 Kobold2D](http://www.kobold2d.com)（v2.0 即将推出）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:16:21.437

关于禁用或启用 ARC，这完全取决于您处理自己的内存分配和释放的舒适程度。

您可能不想使用 ARC 的唯一原因是您的游戏只能由运行 iOS 5 及更高版本的设备支持，但是采用率似乎很高，所以我不一定排除使用 ARC

***已编辑***

查看 cocos2d v2 的发行说明，似乎许多未解决的问题已得到修复，并且添加 ARC 支持似乎也有益。如果我刚开始，我可能会选择最新的稳定版本

此链接应该有助于从 v1 迁移到 v2

[http://www.cocos2d-iphone.org/wiki/doku.php/prog_guide:migrate_to_v2.0](http://www.cocos2d-iphone.org/wiki/doku.php/prog_guide:migrate_to_v2.0)

# extjs - EXT Js 中的数据存储加载不一致

> ID：11083618
> 
> 赞同：0
> 
> 时间：2012-06-18T13:10:21.563
> 
> 标签：extjs

所以我遇到了很多次，这真的让我和我的团队感到难过。我正在使用使用 EXT JS Designer (3) 创建的文件，这意味着 *ListStore.js、*.ui.js 和 *.js

我尝试将回调设置为加载并尝试使用 *getStore().removeAll() 和 *getStore().load()，但没有任何效果始终如一。

我的问题是确保加载数据存储的最佳方法是什么？

一些例子会很棒。如果需要，我可以发布示例，但我不想对我的代码进行创可贴，我想把它做对。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-21T15:54:17.713

ExtJS 4.0 在加载时确实有回调。它看起来像这样：

```
store.load({
    callback: function(records, operation, success) {
        if (success)
            // fire off some events here
        else
            // do something else
    }
}); 
```

现在，IIRC，ExtJS 4.0 不处理成功：和失败：像 ExtJS 3 那样的回调。事实上，在失败时回调：将不会被调用，所以没有任何东西进入上面的 else 块。成功：和失败：调用应该在 ExtJS 4.1 中解决。

# javascript - 使用 javascript 获取网页的图像

> ID：11083620
> 
> 赞同：1
> 
> 时间：2012-06-18T13:10:25.103
> 
> 标签：javascript, jquery, asp.net, html

有没有办法使用 javascript 代码从外部网页获取图像？

我来解释一下：我有一个网站，比如说 www.one.com，我想在这个网站的主页上显示一个存在于另一个网站上的图片，比如说 www.two.co.il

我可以做吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:12:06.977

尝试这个：

```
var img = document.createElement("img");
    img.src = "http://www.two.co.il/image.jpg";
document.body.appendChild(img); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T13:21:26.297

一个方便的事情是首先在您的 HTML 中创建*一个*占位符：

```
<div id='externalImage'></div> 
```

因为如果布局发生变化并允许精确放置，它不会破坏功能。

至于如何放置图像的真正问题，假设您使用 Jquery 的标签：

```
$("#externalImage").html("<img src=\"http://put.url.here/image.jpg\" />"); 
```

如果要将其插入上述占位符。否则，要将图像明确添加到文档中，您可以将其附加到文档中的 BODY 或`document.body.appendChild`其他答案中使用的其他位置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T13:13:03.810

是的。

```
var image = document.createElement('img');
image.setAttribute('src', 'http://www.two.co.il/foo.jpeg');
image.setAttribute('alt', 'something suitable');
document.body.appendChild(image); 
```

只要您不尝试将内容从其他站点获取*到 JS*中（您不是，您正在 DOM 中创建一个 img 元素，JS 没有进一步参与），您就不会遇到同源策略.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T13:15:38.003

或者简单地说：

```
$("<img src='" + imgUrl + "' alt='" + altText + "'>").appendTo("body"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T13:23:20.323

制作一个 div 并给出 id = "div1" 的高度和宽度

```
 <div id='div1' height='100' width='100'></div>
    $('#div1').css('background-image, 'http://www.two.co.il/urImage.jpg'); 
```

这是应用图像的最短方法

# android - Android - 到 IP 的 SSL 证书 - 仍然未能通过主机验证

> ID：11083623
> 
> 赞同：0
> 
> 时间：2012-06-18T13:10:30.523
> 
> 标签：android, ssl, certificate, emulation

我正在整理一个演示网络应用程序。

我创建了一个由我自己的 CA 签名的证书，并将该 CA 导入到 android 设备中。

我有 Android 设备去：10.0.2.2（这是模拟器上的主机）

主机出现，但在浏览器中出现域不匹配错误，即使证书是 10.0.2.2。

有人知道为什么吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T13:18:12.527

您在哪个 Android 版本上进行测试？Android 的主机名验证器比大多数浏览器更严格，并且要求 IP 地址在 IP 地址类型的 Subject Alternative Name 条目中，而不仅仅是在 CN。因此，要么使用主机名访问您的演示站点，要么重新创建证书，将 IP 地址放在 SAN 扩展中。如果您使用的是 OpenSSL，应该这样做：[http ://andyarismendi.blogspot.in/2011/09/creating-certificates-with-sans-using.html](http://andyarismendi.blogspot.in/2011/09/creating-certificates-with-sans-using.html)

# php - php/jquery 缓冲区已满？页面未完全加载

> ID：11083633
> 
> 赞同：1
> 
> 时间：2012-06-18T13:10:55.337
> 
> 标签：php, javascript, jquery, html

我目前正在编写一个页面，该页面托管在单板计算机上。我正在编码的当前网页用于设置板的时区和当前时间设置。它具有 jquery 项目、javascript 函数、带有 3 个提交按钮的表单、php 脚本和一些正在运行的 linux 命令行 exec 调用，以从命令行更改板的时区。在确定默认下拉项选择应该是什么时，我还进行了一些字符串比较。

我遇到的问题是非常可重复的。如果我提交时区，然后更改时间，再次设置时区，再次更改时间，并且可能再重复一次，页面没有完全加载。查看源代码后，很明显整个页面并未完全加载。通常它会在下拉选择创建中的某个地方失败。

例如，当它失败时，它位于加载的源代码文件的最底部：

```
<input class="button" type="submit" name="getLocalTime" value="Copy Local Time"><br><br><br><table><tr><td colspan="2"><tr><td>

<select name="DropDownTimezone" id="DropDownTimezone">
<option  value="Etc/GMT+12">(GMT -12:00) Eniwetok, Kwajalein</option>
<option  value="Etc/GMT+11">(GMT -11:00) Midway Island, Samoa</option>
<option  value="Etc/GMT+10">(GMT -10:00) Hawaii</option>
<option  value="Etc/GMT+9">(GMT -9:00) Alaska</option>
<option  value="Etc/GMT+8">(GMT -8:00) Pacific Time (US &amp; Canada)</option>
<option  value="Etc/GMT+7">(GMT -7:00) 
```

该部分的编码如下：

```
<select name="DropDownTimezone" id="DropDownTimezone">
<option <?php if ($hwOffset == "-12") echo 'selected'; ?> value="Etc/GMT+12">(GMT -12:00) Eniwetok, Kwajalein</option>
<option <?php if ($hwOffset == "-11") echo 'selected'; ?> value="Etc/GMT+11">(GMT -11:00) Midway Island, Samoa</option>
<option <?php if ($hwOffset == "-10") echo 'selected'; ?> value="Etc/GMT+10">(GMT -10:00) Hawaii</option>
<option <?php if ($hwOffset == "-9") echo 'selected'; ?> value="Etc/GMT+9">(GMT -9:00) Alaska</option>
<option <?php if ($hwOffset == "-8") echo 'selected'; ?> value="Etc/GMT+8">(GMT -8:00) Pacific Time (US &amp; Canada)</option>
<option <?php if ($hwOffset == "-7") echo 'selected'; ?> value="Etc/GMT+7">(GMT -7:00) Mountain Time (US &amp; Canada)</option>
<option <?php if ($hwOffset == "-6") echo 'selected'; ?> value="Etc/GMT+6">(GMT -6:00) Central Time (US &amp; Canada), Mexico City</option>
<option <?php if ($hwOffset == "-5") echo 'selected'; ?> value="Etc/GMT+5">(GMT -5:00) Eastern Time (US &amp; Canada), Bogota, Lima</option>
<option <?php if ($hwOffset == "-4") echo 'selected'; ?> value="Etc/GMT+4">(GMT -4:00) Atlantic Time (Canada), Caracas, La Paz</option>
<option <?php if ($hwOffset == "-3") echo 'selected'; ?> value="Etc/GMT+3">(GMT -3:00) Brazil, Buenos Aires, Georgetown</option>
<option <?php if ($hwOffset == "-2") echo 'selected'; ?> value="Etc/GMT+2">(GMT -2:00) Mid-Atlantic</option>
<option <?php if ($hwOffset == "-1") echo 'selected'; ?> value="Etc/GMT+1">(GMT -1:00) Azores, Cape Verde Islands</option>
<option <?php if ($hwOffset == "+0") echo 'selected'; ?> value="Etc/GMT+0">(GMT) Western Europe Time, London, Lisbon, Casablanca</option>
<option <?php if ($hwOffset == "+1") echo 'selected'; ?> value="Etc/GMT-1">(GMT +1:00) Brussels, Copenhagen, Madrid, Paris</option>
<option <?php if ($hwOffset == "+2") echo 'selected'; ?> value="Etc/GMT-2">(GMT +2:00) Kaliningrad, South Africa</option>
<option <?php if ($hwOffset == "+3") echo 'selected'; ?> value="Etc/GMT-3">(GMT +3:00) Baghdad, Riyadh, Moscow, St Petersburg</option>
<option <?php if ($hwOffset == "+4") echo 'selected'; ?> value="Etc/GMT-4">(GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi</option>
<option <?php if ($hwOffset == "+5") echo 'selected'; ?> value="Etc/GMT-5">(GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent</option>
<option <?php if ($hwOffset == "+6") echo 'selected'; ?> value="Etc/GMT-6">(GMT +6:00) Almaty, Dhaka, Colombo</option>
<option <?php if ($hwOffset == "+7") echo 'selected'; ?> value="Etc/GMT-7">(GMT +7:00) Bangkok, Hanoi, Jakarta</option>
<option <?php if ($hwOffset == "+8") echo 'selected'; ?> value="Etc/GMT-8">(GMT +8:00) Beijing, Perth, Singapore, Hong Kong</option>
<option <?php if ($hwOffset == "+9") echo 'selected'; ?> value="Etc/GMT-9">(GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk</option>
<option <?php if ($hwOffset == "+10") echo 'selected'; ?> value="Etc/GMT-10">(GMT +10:00) Eastern Australia, Guam, Vladivostok</option>
<option <?php if ($hwOffset == "+11") echo 'selected'; ?> value="Etc/GMT-11">(GMT +11:00) Magadan, Solomon Islands, New Caledonia</option>
<option <?php if ($hwOffset == "+12") echo 'selected'; ?> value="Etc/GMT-12">(GMT +12:00) Auckland, Wellington, Fiji, Kamchatka</option>
</select> 
```

我认为这与内存耗尽或缓冲区填满有关，因为它不会每次都失败，但会在大致相同数量的重复步骤后失败。PHP 中是否有任何有用的命令或方法可以避免出现此问题？或者还有其他可能导致此类问题的根本原因吗？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:44:44.927

这不是为什么会发生这种情况的答案（因为您的代码看起来不错，虽然丑陋，并且正如其他人所提到的，请尝试使用`error_reporting(E_ALL)`）。这是您使用 jQuery 收到的内容，还是加载网站时的 HTML 输出？

作为附加组件，这里是您的代码的数组版本，您应该能够轻松地合并您的翻译。

```
<?php
    $timezones = array(
        'Eniwetok, Kwajalein',
        'Midway Island, Samoa',
        'Hawaii',
        'Alaska',
        'Pacific Time (US &amp; Canada)',
        'Mountain Time (US &amp; Canada)',
        'Central Time (US &amp; Canada), Mexico City',
        'Eastern Time (US &amp; Canada), Bogota, Lima',
        'Atlantic Time (Canada), Caracas, La Paz',
        'Brazil, Buenos Aires, Georgetown',
        'Mid-Atlantic',
        'Azores, Cape Verde Islands',
        'Western Europe Time, London, Lisbon, Casablanca',
        'Brussels, Copenhagen, Madrid, Paris',
        'Kaliningrad, South Africa',
        'Baghdad, Riyadh, Moscow, St Petersburg',
        'Abu Dhabi, Muscat, Baku, Tbilisi',
        'Ekaterinburg, Islamabad, Karachi, Tashkent',
        'Almaty, Dhaka, Colombo',
        'Bangkok, HanoiBeijing, Perth, Singapore, Hong Kong, Jakarta',
        'Beijing, Perth, Singapore, Hong Kong',
        'Tokyo, Seoul, Osaka, Sapporo, Yakutsk',
        'Eastern Australia, Guam, Vladivostok',
        'Magadan, Solomon Islands, New Caledonia',
        'Auckland, Wellington, Fiji, Kamchatka'
    );
    echo '<select name="DropDownTimezone" id="DropDownTimezone">';
    for ($i = 0; $i < sizeof($timezones); $i++) {
        $timezone = ($i - 12);
        $timezoneReverse = ($timezone * -1);
        $timezoneValue = ($timezone >= 0 ? '+' . $timezone : $timezone);
        $timezoneReverseValue = ($timezoneReverse >= 0 ? '+' . $timezoneReverse : $timezoneReverse);
        echo '<option' . ($hwOffset == $timezoneValue ? ' selected' : '') . ' value="Etc/GMT' . $timezoneReverseValue . '">(GMT' . ($timezone != 0 ? ' ' . $timezoneValue . ':00' : '') . ') ' . $timezones[$i] . '</option>';
    }
    echo '</select>';
?> 
```

*请注意，这实际上可能无法解决您的问题，因此请不要接受它作为解决方案，因为它只是对您的 HTML 的编辑，但对于我来说，这是一个太大的改变，不想编辑您的 OP*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T14:16:24.540

不幸的是，令人尴尬的是，这个问题与我的表单代码有关，与时区下拉列表无关，只是巧合地每次都失败了。感谢大家对这个问题的投入，因为它确实为我指明了正确的方向（让我觉得自己很愚蠢哈哈）。一旦我开始追踪可能损坏的变量，我注意到我的表单 action= item 指向一个变量来获取文件名。看了一会儿错误日志后，我很快意识到文件名没有设置。一旦我清理了那条线路，它似乎奇怪地解决了我的其他问题。

前：`echo "<form method='POST' action='".$PHP_SELF."' onsubmit='getTime();'>";`

后：`echo "<form method='POST' action='?page=home' onsubmit='getTime();'>";`

这似乎已经解决了它。我有点困惑为什么它仍在提交，以及为什么它以这种方式失败，但这条线似乎已经修复了正在发生的任何部分加载的页面。

# mysql - 仅在连接两个表后如何从没有值的表中获取结果

> ID：11083634
> 
> 赞同：0
> 
> 时间：2012-06-18T13:10:56.083
> 
> 标签：mysql, jsp

```
Statement st=conn.createStatement();
String sql="SELECT a.ID,a.A_TEXT,a.B_TEXT,a.C,a.D_TO_E,a.F_TEXT,a.G,a.INTIME,b.EXIT_TIME FROM tm_A a LEFT JOIN tm_B b ON a.ID=b.ID WHERE EXIT_TIME=''";

ResultSet rs=st.executeQuery(sql);

while(rs.next())
    {

    arls.add(rs.getString("ID"));
    arls.add(rs.getString("A_TEXT"));
    arls.add(rs.getString("B_TEXT"));
    arls.add(rs.getString("C"));
    arls.add(rs.getString("D_TO_E"));
    arls.add(rs.getString("F_TEXT"));
    arls.add(rs.getString("G"));
    arls.add(rs.getString("INTIME"));
    arls.add(rs.getString("EXIT_TIME"));

    } 
```

我有上面的代码，我想从 EXIT_TIME ='null' 的两个表中检索值，但是执行后我什么也没得到，尽管表 tm_A 中有值，但是如果我删除 where 子句，那么我得到了结果，但是在 EXIT_TIME 下显示“null”以及显示值的位置

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:12:17.007

如果要选择列所在的结果，则`null`必须使用`is`运算符：

```
SELECT a.ID,a.A_TEXT,a.B_TEXT,a.C,a.D_TO_E,a.F_TEXT,a.G,a.INTIME,b.EXIT_TIME 
FROM tm_A a 
LEFT JOIN tm_B b ON a.ID=b.ID 
WHERE EXIT_TIME is null 
```

与 的比较`null`总是会导致`unknown`。这就是为什么您需要`is`操作员而不是`=`

using`EXIT_TIME=''`将与`EXIT_TIME`空字符串进行比较，但不是`null`

如果您想要所有**不在** `null`的记录，`EXIT_TIME`您可以使用

```
WHERE EXIT_TIME is not null 
```

## 编辑

您可以在文本框中使用`case`以避免`null`：

```
 SELECT a.ID, 
       a.A_TEXT,
       a.B_TEXT,
       a.C,
       a.D_TO_E,
       a.F_TEXT,
       a.G,
       a.INTIME,
       case when b.EXIT_TIME is null
            then 'NA'
            else b.EXIT_TIME
       end as EXIT_TIME
FROM tm_A a 
LEFT JOIN tm_B b ON a.ID=b.ID 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:12:39.910

说啊

`WHERE EXIT_TIME is null`

代替

`WHERE EXIT_TIME=''`

希望对你有帮助...

# javascript - 使用 JSON 标头解释 XMLHttpRequest 初始化中的 DOM 11 错误

> ID：11083647
> 
> 赞同：5
> 
> 时间：2012-06-18T13:11:46.757
> 
> 标签：javascript, json, dom, xmlhttprequest

[作为这个更大难题的](https://stackoverflow.com/a/11083010/164148)一部分，我收到了这个错误。

```
var xhr = new XMLHttpRequest();
xhr.setRequestHeader( 'Content-Type', 'application/json' );

//Error: INVALID_STATE_ERR: DOM Exception 11 
```

**进一步研究**

> 1.  O'Reilly 的书“Definite Guide to Javascript 6th Edition”第 18 章“Scripted HTTP”第 491 页讨论了 XMLHttpRequest，请注意，它不仅仅是关于 HTTP 或 XML（历史遗迹）。
>     
>     
> 2.  Mozilla 关于 XMLHttpREquest 的开发条目在[这里](https://developer.mozilla.org/En/XMLHttpRequest/Using_XMLHttpRequest)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T13:14:26.117

您需要`open()`先`XMLHttpRequest`设置请求标头。只需在您致电后将该行移至`open()`：

```
var xhr = new XMLHttpRequest();
xhr.open( 'POST', 'example.php', true );
xhr.setRequestHeader( 'Content-Type', 'application/json' ); 
```

# iphone - 打破数组，进入表格视图

> ID：11083648
> 
> 赞同：0
> 
> 时间：2012-06-18T13:11:49.533
> 
> 标签：iphone, arrays, ipad

我有一个数组，如下所示

```
MutableArray (
        {
        "a" = 1;
        "b" = "";
        "c" = " ";
        "imagepath" = "../images/image.png";
        "d" = "dummy text";
        "e" = 2;
        "f" = "dummy text";
        "g" = dummy text;
        "h" = dummy text;
        "i" = "Feb 19, 2010";
    },
        {
        "a" = 2;
        "b" = "dummy";
        "c" = "dummy";
        "imagepath" = "../images/noimage.png";
        "d" = "dummy text";
        "e" = 3;
        "f" = "dummy text";
        "g" = dummy text;
        "h" = dummy text;
        "i" = "Mar 23 , 2010";
    }) 
```

我到底在尝试的是从数组中分别获取值，例如

```
row 1 : Title a,
row 2 : Title b,
row 3 : title c, 
```

我想要数组中的每个值分别。

我有表格视图，自定义单元格，已经创建了图像和标签。例如，第 1 行 = 来自索引 1 的数据第 2 行 = 来自索引 2 的数据，类似这样。我不确定如何从数组中获取分隔值并将其放入表格行的标签中。

请建议，我该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:18:27.223

如果是数组，为什么不直接在cellForRowAtIndexPath方法中使用[objectAtIndex:indexPath.row]来构建tableView呢？您还可以创建一个单元格对象，并使数组成为这些对象的数组，然后从中提取值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:21:19.610

// 尝试使用 KVC 获取值

// 粘贴到 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath

```
 id key;
    NSDictionary *theDictionary = [yourMutableArray objectAtIndex:indexPath.row];
    id value;
    for (key in [theDictionary allKeys])
    {
        value = [theDictionary objectForKey:key];
        // do something with the value
    NSLog(@"key: %@, value: %@", key, [theDictionary objectForKey:key]);
    }
Or else Try this

NSDictionary *theDictionary = [yourMutableArray objectAtIndex:indexPath.row];
NSLog(@"key: a, value: %@", , [theDictionary objectForKey:@"a"]);
NSLog(@"key: b, value: %@", , [theDictionary objectForKey:@"b"]);
NSLog(@"key: c, value: %@", , [theDictionary objectForKey:@"c"]);
// So on ... 
```

# python - Python特征向量：numpy.linalg、scipy.linalg和scipy.sparse.linalg之间的区别

> ID：11083660
> 
> 赞同：24
> 
> 时间：2012-06-18T13:12:30.547
> 
> 标签：python, numpy, scipy

Scipy 和 Numpy 在它们之间有三个不同的函数来查找给定方阵的特征向量，它们是：

1.  [`numpy.linalg.eig(a)`](http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.eig.html#numpy.linalg.eig)
2.  [`scipy.linalg.eig(a)`](http://docs.scipy.org/doc/scipy/reference/generated/scipy.linalg.eig.html#scipy.linalg.eig)， 和
3.  [`scipy.sparse.linalg.eig(A, k)`](http://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.linalg.eigs.html#scipy.sparse.linalg.eigs)

特别关注我离开最后两个的所有可选参数都保留默认值并且`a`/`A`是实值的情况，我很好奇这三个在文档中模棱两可的差异 - 特别是：

*   为什么（3）有一个说明它无法找到*所有*特征向量？
*   为什么其他两个*必须*计算所有解决方案——他们为什么不`k`争论呢？
*   (1) 有一个注释说特征值没有特定的顺序返回；(3) 有一个可选参数来控制顺序。(2) 是否对此作出任何保证？
*   (3) 是否假设它`A`是稀疏的？（从数学上讲，而不是表示为 scipy 稀疏矩阵）如果这个假设不成立，它会效率低下，甚至给出错误的结果吗？
*   在这些中进行选择时，我还应该考虑其他因素吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-18T13:43:20.037

第三个的特殊行为与[Lanczos 算法](http://en.wikipedia.org/wiki/Lanczos_algorithm)有关，该算法非常适用于稀疏矩阵。的文档`scipy.sparse.linalg.eig`说它使用了 ARPACK 的包装器，而 ARPACK 又使用“隐式重启 Arnoldi 方法 (IRAM)，或者在对称矩阵的情况下，使用 Lanczos 算法的相应变体”。[(1)](http://en.wikipedia.org/wiki/ARPACK)。

现在，Lanczos 算法具有对大特征值效果更好的特性（实际上，它使用最大特征值）：

> 在实践中，这种简单的算法在计算大量特征向量时效果不佳，因为任何舍入误差都会将更重要的特征向量的微小分量引入计算中，从而降低计算的准确性。[(2)](http://en.wikipedia.org/wiki/Lanczos_algorithm)

因此，虽然 Lanczos 算法只是一个近似值，但我猜其他两种方法使用算法来找到*确切的*特征值——而且似乎所有这些方法都可能取决于所使用的算法。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-18T13:58:33.553

这是您问题的非常规特定部分的答案：

原则上，NumPy 和 SciPy`linalg()`例程应该是相同的。两者都在内部使用 LAPACK 和 BLAS 例程。中的实现`scipy.sparse`使用了一种适用于稀疏矩阵的特定算法（即，大多数条目为零的矩阵）。如果您的矩阵很密集，请不要使用它。

请注意，从技术上讲，`eig()`SciPy/NumPy 中的实现是不同的，因为这两个包都可以使用不同的 Lapack/BLAS 实现来构建。这里的常见选择是标准 Lapack/BLAS，可从 netlib、[ATLAS](http://math-atlas.sourceforge.net/)、Intel MKL 或[OpenBLAS 获得](http://www.der-schnorz.de/2012/06/optimized-linear-algebra-and-numpyscipy/)。

# c# - 如何将 ac# 逗号分隔值字符串转换为列表？

> ID：11083661
> 
> 赞同：1
> 
> 时间：2012-06-18T13:12:31.967
> 
> 标签：c#

我正在使用 C# ASP.NET 4 和 SQL Server 2008 R2

我从 sql server 得到一个对象标量，它是一个包含逗号分隔值的字符串，形式如下：

`7, 12, ... 1, 65`

我想将此对象转换为列表？

我想到了方向：

`List<int> myList = new List<int>(new int[] (List)mySqlClass.mySqlQueryReturningAnObject("SELECT CLAUSE");`

但这行不通。

如何将此对象转换为列表？

* * *

## 完整答案：

使用中的这个答案是根据选择的答案（更新前）

`List<int> myList = new List<int>(mySqlClass.mySqlQueryReturningAnObject("SELECT CLAUSE").ToString().Split(',').Select(x => Convert.ToInt32(x)).ToList());`

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-18T13:14:45.567

```
var intValues = line.Split(',').Select(x => Convert.ToInt32(x)).ToList(); 
```

**更新**

为了确保您的代码能够像`1,2,3,,,4,5,6`使用`String.Split`方法重载一样处理字符串

```
var intValues = line.Split(new[] {','}, StringSplitOptions.RemoveEmptyEntries)
                    .Select(x => Convert.ToInt32(x))
                    .ToList(); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-18T13:13:51.350

对字符串使用 .Split() 方法。它将返回一个字符串数组。

```
string yourResult = "1,2,3,4,5";
string[] resultsArray = yourResult.Split(new[] {','}, StringSplitOptions.RemoveEmptyEntries); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-18T13:14:52.497

你试过[String.Split](http://msdn.microsoft.com/en-us/library/b873y76a.aspx)吗？

你可以用这样简单的一行来分割你的字符串：

```
var myString="1,2,4,5,6";
var numberList=myString.Split(','); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-18T13:17:21.463

您可以使用简单的[Array.ConvertAll](http://msdn.microsoft.com/en-us/library/exc45z53.aspx)指令，如下所示：

```
string str = "1,2,3,4,5,7,8,9";
int[]resultInArray = Array.ConvertAll( str.Split(','), item => int.Parse(item)); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-06-18T13:28:31.887

```
 private void TestParse()
        {
            string commaseparatedstring = "3, 5,6,19";

            int parsedvalue = 0;

            List<int> valuesint =
                commaseparatedstring.Split(',').Select(elem => int.TryParse(elem, out parsedvalue) ? parsedvalue : 0).ToList(); 

        } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-18T13:15:42.153

您可以尝试将结果分配给变量。

然后将其转换为字符串（如果还没有的话）

然后在逗号上进行字符串拆分并将结果分配给列表。

# windows-8 - 是否可以在平板电脑而不是 WinRT 中的模拟器上运行您的应用程序？

> ID：11083666
> 
> 赞同：0
> 
> 时间：2012-06-18T13:12:45.587
> 
> 标签：windows-8, windows-runtime

我想在平板电脑上测试它，因为它比使用模拟器测试更自然，但我不知道这是否可能？

它是在 Windows 8 RP 中用 C# 和 XAML 编写的！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T14:46:50.577

我从未亲自尝试过，但这将是我的开始： [在远程机器上调试 Metro Apps](https://docs.microsoft.com/en-us/previous-versions/hh441469(v=vs.110))

[![VS 中的远程机器选项](../Images/9e4459c2b33efbb60e573cc7eb1437f0.png)](https://i.stack.imgur.com/xLu34.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:34:05.897

您可以使用远程调试工具。:-)

# c# - SharePoint 2007 预热脚本（替代 Http 请求）

> ID：11083667
> 
> 赞同：0
> 
> 时间：2012-06-18T13:12:52.670
> 
> 标签：c#, http, sharepoint, authentication, xmlhttprequest

目前我正在尝试在我的 Sharepoint WarmUp 脚本中响应 HTTP 请求，但是为此，我将不得不使用此代码

```
 using (System.IO.StreamReader file = new System.IO.StreamReader(filePath))
                while ((line = file.ReadLine()) != null)
                {
                    try
                    {
                        WebRequest request = WebRequest.Create(line);
                        request.Proxy = null;

                        if ((userName == null) || (userName == ""))
                        {
                            request.Credentials = CredentialCache.DefaultCredentials;
                        }
                        else
                        {
                            CredentialCache myCache = new CredentialCache();
                            myCache.Add(new Uri(line), "NTLM", new NetworkCredential(userName, password, DomainName));
                            request.Credentials = myCache;
                        }

                        HttpWebResponse response = (HttpWebResponse)request.GetResponse();

                        using (Stream dataStream = response.GetResponseStream())
                        using (StreamReader reader = new StreamReader(dataStream))
                        {
                            string responseFromServer = reader.ReadToEnd();
                            reader.Close();
                            dataStream.Close();
                            response.Close();
                        }

                        Thread.Sleep(2000);
                    } 
```

**我不应该使用任何用户帐户来获得响应，但是我可以使用只有在服务器登录时才有效的默认凭据，否则我猜他们不会工作。**

有没有其他方法可以使用powershell作为它的MOSS而不是sharepoint 2010

干杯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:23:06.910

您可以使用 Powershell 作为预热脚本。一旦进行了正确的导入，您就可以调用 stsadm 命令、发出 HTTP 请求甚至使用服务器对象模型。

[这篇文章](http://www.paulgrimley.com/2010/02/powershell-warmup-script-for-sharepoint.html)使用 powershell 使用 stsadm 检索可用站点。一旦脚本检索到这个列表，它就会实例化一个 WebClient 对象并点击每个站点 URL。

如果您只想点击列表中的站点，您可以简单地使用 WebClient 对象来执行此操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T08:10:32.943

或者，如果您的 SSP 中有有效的搜索服务，您可以配置计划的爬网。您不仅会从最新的爬网结果中受益，而且您的网站也会在本地进行预热，而无需额外的工作“只是为了预热”。

# variables - 我可以在 .po 文件中包含变量吗？

> ID：11083669
> 
> 赞同：3
> 
> 时间：2012-06-18T13:13:06.740
> 
> 标签：variables, gettext, po

我想在 gettext`.po`文件中以某种方式使用变量，例如：

```
msgid "ui_settings_connect_text"
msgstr "Connect to another running instance of " APP_NAME 
```

有没有人尝试过这样的事情？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T13:25:07.220

在您的`.po`文件中：

```
msgid "Connect to another running instance of %s"
msgstr "Connect to another running instance of %s" 
```

在您的应用中：

```
printf(_("Connect to another running instance of %s"), app_name); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-23T13:45:26.380

我也制作了一个预处理器来执行此操作，因为我不认为应用程序代码应该与某些文本是否包含应用程序名称（使用 Tom 的示例）或任何其他翻译片段相关联。

我已经在 github 上提供了源代码并提供了一个 Windows .exe，但如果您不使用 Windows，它将需要 Mono。

[https://github.com/Treer/POpp](https://github.com/Treer/POpp)

为了解决 Tom 提出的问题，`.po`文件如下所示：

```
msgid "APP_NAME"
msgstr "Tom's app"

msgid "ui_settings_connect_text"
msgstr "Connect to another running instance of {id:APP_NAME}" 
```

应该可以在任何 GUI PO 编辑器中使用。

预处理器就像这样运行：

```
popp source.po destination.po 
```

# .htaccess - 尝试使用 .htaccess 重定向任何包含 index2 的 url，无论之后发生什么

> ID：11083673
> 
> 赞同：0
> 
> 时间：2012-06-18T13:13:20.913
> 
> 标签：.htaccess, mod-rewrite

我有旧版网址，例如：

```
mysite.com/index2.php?option=com_mtree&task=print&link_id=383&Itemid=168 
```

并且我想将其中包含 index2.php 的任何 URL（无论 index2.php 之后的内容如何）重定向到`mysite.com/my-nice-url`

我试过了

```
RewriteRule ^index2(.+) /my-nice-url/and-more/ [l,r=301] 
```

但这使`/my-nice-url/and-more/?option=com_mtree&task=print&link_id=383&Itemid=168`我不想要。有人可以提供一些指导吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:21:35.490

1) 重写规则模式只能计算URL 的**路径**部分——查询字符串必须单独匹配（通过 RewriteCond）

2) 默认情况下，如果新 URL 没有自己的查询字符串，则将查询字符串传递给新 URL。解决方案——提供空查询字符串（通过`?`在 URL 末尾添加）：

```
RewriteRule ^index2\.php$ /my-nice-url/and-more/? [L,R=301] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:28:56.753

这应该可以工作，即使它不完全是你想要的：

```
RewriteRule ^/index2(.+)$ /my-nice-url/and-more/? 
```

从[重写 Apache 文档](http://httpd.apache.org/docs/2.0/mod/mod_rewrite.html#rewriterule)：

> 注意：查询字符串
> 
> 模式不会与查询字符串匹配。相反，您必须使用带有 %{QUERY_STRING} 变量的 RewriteCond。但是，您可以在包含查询字符串部分的替换字符串中创建 URL。只需在替换字符串中使用问号，即可指示应将以下文本重新注入到查询字符串中。当您想删除现有的查询字符串时，只用问号结束替换字符串。要将新查询字符串与旧查询字符串组合，请使用 [QSA] 标志。

# android - 在 Android 上替换 JSON LinkedHashMap 对象中的转义

> ID：11083674
> 
> 赞同：1
> 
> 时间：2012-06-18T13:13:22.083
> 
> 标签：android, json, escaping, linkedhashmap

我在Android中有这段代码：

```
Map<String, String> idObject1 = new LinkedHashMap<String, String>();
            idObject1.put("Id", "Test1");
            idObject1.put("FirstName", "Test Name");
            idObject1.put("LastName", "Test Surname");
            idObject1.put("PhoneNumber", "12345");
Gson gson = new Gson();
json.put("ParticipantIds", gson.toJson(idObject1));
Log.d("Json", json.toString());
Log.d("ParticipantsJson", gson.toJson(idObject1).toString()); 
```

json 对象还通过该`.put`方法获得添加到它的其他内容。它只是在“ParticipantIds”键上搞砸了。

```
json.toString() 
```

输出

```
{"ParticipantIds":"{\"Id\":\"Test1\",\"FirstName\":\"Test Name\",\"LastName\":\"Test Surname\",\"PhoneNumber\":\"12345\"}", 
```

和

```
gson.toJson(idObject1).toString()); 
```

输出

```
{"Id":"Test1","FirstName":"Test Name","LastName":"Test Surname","PhoneNumber":"12345"} 
```

当传递给它时，我需要删除`\`json 对象中的出现。`idObject1`它不一定必须使用 Gson。我只是为了让它工作而使用 Gson。我也试过：

```
json.put("ParticipantIds", idObject1); 
```

并尝试使用 JSON-Simple 传递它。我总是得到`\`转义字符。我什至尝试过`.toString()`做`idObject1`各种方法`.replace`和`.replaceAll`方法。它不起作用！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:33:52.603

when u get JsonString replace that escape sequence as given below this works for removing escape sequences

```
 json.toString().replaceAll("\\\\",""); 
```

# java - 科学图像处理 - 选择的最小边界区域（imageJ？）

> ID：11083678
> 
> 赞同：0
> 
> 时间：2012-06-18T13:13:39.127
> 
> 标签：java, image-processing, imagej

在某些（点）选择周围找到最小边界区域的最佳方法是什么？凸壳不完全符合我的要求，这是一张解释我想要的图片： ![在此处输入图像描述](../Images/cd490fcf1879f47d5576ae0285df8773.png)

此外，我正在寻找一个解决这个问题的 java 解决方案，最好是一些 imagej 程序（我猜这对于你那里的图像处理专家来说是基本的东西）。当然，我也很感激任何其他建议，或者通用算法。

谢谢，

伊戈尔

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:39:56.533

[您可能会通过Delaunay 三角测量](http://en.wikipedia.org/wiki/Delaunay_triangulation)取得一些进展。但是请在此处查看有关[*凹壳*](https://gis.stackexchange.com/q/1200)主题的其他答案。

`ImageJ`对我来说是一本封闭的书，我在那个方向上无能为力。

# objective-c - 使 splitViewController 的细节部分可滚动？

> ID：11083683
> 
> 赞同：1
> 
> 时间：2012-06-18T13:13:48.237
> 
> 标签：objective-c, xcode, scrollview

我正在尝试在 splitViewController 的详细信息侧嵌入一个滚动视图。是否应该在“视图”中添加滚动视图，如下图所示？

![故事板](../Images/3386843543a2a0371f83ce4c74e7ff17.png) 还是需要删除“视图”，只留下视图控制器和滚动视图？

此外，当我将 scrollView 添加到页面时，底部被切断，防止它一直滚动到底部。我还尝试将 View Controller 的 ViewDidLoad 方法中的 scrollView 调整为非常大的值，例如：

```
theScrollView.contentSize = CGSizeMake(20000, 20000); 
```

那也没有用。看起来我们可以按住鼠标平移，但是滚动条的长度总是一样的。谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:25:02.497

我总是将滚动视图实现为 UIScrollView，其中有一个 UIView，然后是你的其他元素（即按钮、文本视图等），所以层次结构是

```
UIScrollView
    UIView
        UILabel
        UIButton
        .
        .
        . 
```

因为您在滚动视图中并没有真正的顶级 UIView，所以这很可能是您的

```
theScrollView.contentSize = CGSizeMake(20000, 20000); 
```

线路未按预期工作。

# vbulletin - 通过 Mobile API 为 vBulletin 注册新成员

> ID：11083688
> 
> 赞同：0
> 
> 时间：2012-06-18T13:14:05.883
> 
> 标签：vbulletin

我正在尝试使用 vBulletin REST Mobile API 来简单地注册。源代码安装在我的本地机器上，并根据文档[https://www.vbulletin.com/forum/content.php/393-User-Registration-Process-Mobile-API](https://www.vbulletin.com/forum/content.php/393-User-Registration-Process-Mobile-API)

这个过程不应该那么难，尤其是没有人性和 COPPA 认证。但是我已经堆积了！方法定义清楚地描述了“addnewmember”，所以我生成了一个测试链接，它应该可以完成这项工作。 [https://www.vbulletin.com/forum/content.php/365-User-Related-Methods](https://www.vbulletin.com/forum/content.php/365-User-Related-Methods)

The link is: .../forum/api.php?&api_m=register_addmember&api_c=1&api_s=76ec9eec61e7fdfef2f3feee28d5f392&api_sig=8fe54313b333cc0fef4ddd8e398b5c80&api_v=6&agree=1&username=testuser&email=XXXXXX%40gmail.com&emailconfirm=XXXXX%40gmail.com&password=12345678&passwordconfirm=12345678

作为回应，我得到：register_not_agreed

文档： register_not_agreed 同意参数应设置为 1。

这也很清楚 - 不存在同意参数。有趣的部分来了 - 在 API 日志中，我可以看到“同意”参数已正确传递 *1 test_client Gast 13:23, 18.06.2012 register_addmember Array ( [api_m] => register_addmember [api_c] => 1 [ api_s] => 76ec9eec61e7fdfef2f3feee28d5f392 [api_sig] => 8fe54313b333cc0fef4ddd8e398b5c80 [api_v] => 6 [同意] => 1 [用户名] => testuser [电子邮件] => ....*

是否有任何具有移动 API 经验的人可以提供帮助？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T14:50:30.393

我不知道为什么它不适用于纯 GET 调用，但我确信它会起作用（因为我正在使用 Python 开发 vBulletin API 客户端，并且我是这样做的）如果您：

*   使用 GET 参数发送`api_c`, `api_sm`, `api_m`, 和`api_sig`
*   其余部分使用 POST 数据（用户名、电子邮件、同意等）

# jquery - 对 Asp.Net WebApi 的 Jquery 调用

> ID：11083691
> 
> 赞同：2
> 
> 时间：2012-06-18T13:14:15.053
> 
> 标签：jquery, asp.net, authentication, jsonp, asp.net-web-api

您好一直在创建一个 ASP.net WebApi。

目前我已经使用[Thinktecture.IdentityModel.40](https://github.com/thinktecture/Thinktecture.IdentityModel.40)来设置基本身份验证服务。

当我在浏览器中浏览到我的 API Url 时，会弹出一个用户名和密码对话框，如果我输入凭据，我就会看到正确的数据。

我现在想创建一个使用 JQuery 的 javascript 客户端来验证我的 API，然后返回相关数据。

这是我的尝试，似乎用户名和密码没有到达服务器，或者服务器不理解它正在获取什么。

这是我的代码：

```
 $(document).ready(function () {
        $.ajax({
            url: "http://localhost:21095/api/customers",
            beforeSend: function (xhr) {
                xhr.setRequestHeader("UserName", "user");
                xhr.setRequestHeader("Password", "pwd");
            },
            dataType: "jsonp",
            type: "GET",
            success: function (data) {
                alert(data);
                debugger
            }
        });
    }); 
```

我应该如何使用 Jquery 对我的 api 进行身份验证

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T09:06:47.647

在请求标头中以纯文本形式提供用户名和密码是危险的。任何监听您流量的人都可以拦截数据并使用它来造成伤害。如果您想通过 JavaScript 进行身份验证，大多数 API 提供程序使用支持 3 路身份验证的身份验证协议。最显着的例子是[OAuth](http://en.wikipedia.org/wiki/OAuth)。

所有这些的目的是用户名和密码本身不会暴露给应用程序，而是用户授予应用程序代表他访问数据的权限。此授权在服务器的域中，因此不需要传输凭据。您应该在 WebApi 中实现一些 3 路身份验证协议来支持这一点。

以下是一些有助于解决此问题的文章：
[http ://codebetter.com/howarddierking/2011/10/11/oauth-2-0-in-web-api/](http://codebetter.com/howarddierking/2011/10/11/oauth-2-0-in-web-api/)
[在 .NET WCF Web API 上处理身份验证的最佳方式](https://stackoverflow.com/questions/7742302/best-way-to-handle-authentication-on-net-wcf-web-api)

# windows - vagrant 打包盒子时会创建临时目录和文件吗

> ID：11083694
> 
> 赞同：0
> 
> 时间：2012-06-18T13:14:20.140
> 
> 标签：windows, vagrant

由于磁盘空间不足，我的 vagrant box 无法完成打包，我想知道是否有任何方法可以确保在打包过程中没有由于未完成而留下的临时文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-07T16:04:19.787

我认为所有的临时文件都在`~/.vagrant.d/tmp`. 每次我中断打包，Vagrant 都会自动清理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-10T14:30:08.743

在 Windows 中，它存储在`C:/Users/user.name/AppData/Local/Temp/`按照此方案命名的文件夹中`vagrant-YYYYMMDD-TSTAMP-id/`。

在其他类似 linux 的操作系统中，它将位于`~/.vagrant.d/tmp`.

# java - Java 数据类型仅保存日期

> ID：11083695
> 
> 赞同：11
> 
> 时间：2012-06-18T13:14:25.553
> 
> 标签：java

Java 中的哪种数据类型可以只保存日期而不需要时间组件？例如，只是为了存储`12/07/2012`. 我正在将数据持久化到/从具有仅日期数据类型的数据库中，因此我正在寻找 Java 中最好的等效数据类型。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T13:20:35.693

来自 JDK: [`java.sql.Date`](http://docs.oracle.com/javase/6/docs/api/java/sql/Date.html):

> 一个围绕毫秒值的瘦包装器，允许 JDBC 将其识别为 SQL DATE 值。毫秒值表示自 以来经过的毫秒数`January 1, 1970 00:00:00.000 GMT`。
> 
> 为了符合 SQL DATE 的定义，由`java.sql.Date`实例包装的毫秒值必须通过在与实例关联的特定时区中将小时、分钟、秒和毫秒设置为零来“规范化”。

或来自[JodaTime](http://joda-time.sourceforge.net/)：[`DateMidnight`](http://joda-time.sourceforge.net/api-release/org/joda/time/DateMidnight.html)或[`LocalDate`](http://joda-time.sourceforge.net/apidocs/org/joda/time/LocalDate.html)（感谢@cdeszaq）

> `DateMidnight`定义时间分量固定在午夜的日期。该类使用时区，因此午夜是本地的，除非使用 UTC 时区。
> 
> 重要的是要强调这个类代表任何一天的午夜时间。请注意，午夜被定义为 00:00，即一天的开始。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-04-11T15:43:35.460

其他答案已过时。

旧的日期时间类是出了名的麻烦，应该避免。

# java.time

java.time框架内置于 Java 8 及更高版本中[。](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html)请参阅[Oracle 教程](https://docs.oracle.com/javase/tutorial/datetime/TOC.html)。大部分 java.time 功能[向后移植到 Jave 6 和 7](http://www.threeten.org/threetenbp/)并进一步[适应 Android](https://github.com/JakeWharton/ThreeTenABP)。

该类[`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html)表示没有时间和时区的仅日期值。

```
LocalDate localDate = LocalDate.of( 2012 , 12 , 7 ); 
```

## 文本表示

该方法使用标准[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)格式[`toString`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--)生成字符串。

> localDate.toString() → 2012-12-07

对于其他格式，请使用[`DateTimeFormatter`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html).

## SQL

符合[JDBC 4.2的](http://jcp.org/en/jsr/detail?id=221)[JDBC 驱动程序](https://en.wikipedia.org/wiki/JDBC_driver)可以使用`getObject`和`setObject`方法直接获取/传递 java.time 类型，例如`LocalDate`SQL 类型`DATE`。

如果您的驱动程序不能这样做，请回退到使用 java.sql 类型。新方法已添加到旧类中以方便转换。

```
java.sql.Date sqlDate = java.sql.Date.valueOf( localDate ); 
```

而另一个方向。

```
LocalDate localDate = sqlDate.toLocalDate(); 
```

# 搜索堆栈溢出

搜索 Stack Overflow 以获取*更多*关于使用 java.time 的讨论和示例。例如，[我](https://stackoverflow.com/a/37912195/642706)对[这个类似问题](https://stackoverflow.com/q/5298450/642706)的回答。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-18T13:15:05.567

日期类。它拥有一个 UNIX 时间戳。在大多数数据库中，您也可以指定一个字段来保存时间戳。您可以根据需要使用 DateFormat 格式化时间戳。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-10-02T02:34:09.363

如果您使用的是 Java 8，则可以使用`java.time.LocalDate`.

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-18T13:16:44.853

使用可用的***[Date](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Date.html)***类。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-06-18T13:25:51.743

它显示了如何只保留日期（没有时间）

```
formatter = new SimpleDateFormat("dd/MM/yyyy");

Date date= new Date();

Date todayWithOutTime =formatter.parse(formatter.format(date)); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-06-18T14:49:01.577

不幸`java.util.Date`的是，在 SQL 中有 name `Timestamp`。仅 Date 没有纯类型，在 Java 中`javax.sql.Date`扩展`java.util.Date`和使用这种类型进行日期操作没有任何优势。

`commons-lang`我正在使用 apache类处理这个问题`DateUtils`：

```
Date myDate = DateUtils.truncate(timestamp, Calendar.DAY_OF_MONTH); 
```

这将删除时间部分，只留下日期部分。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-04-30T08:11:07.370

使用日期类。这是更好的方法。

# r - 将几块地块精确地放入一个地块的空间中

> ID：11083699
> 
> 赞同：0
> 
> 时间：2012-06-18T13:14:41.857
> 
> 标签：r, plot

我已经固定了所有参数来描述一个绘图，包括`oma`, `mar`, `mgp`, ... 我想将绘图区域划分为几个单独的、大小完全相同的较小绘图区域，它们共享 x 和 y 标签。例如这样的：

![三地合一](../Images/ce2094861a1a8866ca879df13765d635.png)

我找到了组合绘图但使用单独轴的解决方案。这里有问题的起点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T19:12:41.337

您可以将外部边距设置为足够大以容纳轴和标签，然后将常规边距设置为 0。使用`par(mfrow`或`layout`将内部区域拆分为所需的面板，然后在没有轴和标签的情况下进行绘图并添加轴和标签到外边距：

```
par( oma=c(5,4,4,1)+0.1, mar=c(0,0,0,0) )
layout( matrix( 1:3, nrow=1 ) )
for( i in levels(iris$Species) ) {
    with( iris[ iris$Species==i, ], {
        plot(Sepal.Width, Sepal.Length, ann=FALSE, xaxt='n', yaxt='n',
            ylim=range(iris$Sepal.Length))
        axis(1, outer=TRUE)
        mtext(side=3, i ) }
    )
}
axis(2, outer=TRUE) 
```

但使用 lattice 或 ggplot2 可能更简单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:23:31.883

我建议使用 ggplot2 看看是否有满足您需求的解决方案。我发现您链接的情节在视觉上令人困惑。

# excel - 从一个 wb 复制到另一个 wb 时避免意大利面条式代码

> ID：11083706
> 
> 赞同：4
> 
> 时间：2012-06-18T13:14:54.663
> 
> 标签：excel

在使用多个工作簿（从列表中的工作簿复制到主工作表）时，是否有替代在 VBA 中使用 ActiveWorkbook 和 ActiveSheet 的方法？在处理需要使用不同工作簿的多个功能时，要知道哪个工作簿处于打开状态比任何事情都更令人困惑。这是代码组织的问题吗？

目前，我认为我可以通过在每个函数的开头存储活动工作簿的名称并恢复它来进行管理，但这似乎需要大量的工作，并且可能需要大量的处理时间而没有太多的结果。

想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:24:43.783

您可能对此页面感兴趣[http://www.techrepublic.com/blog/10things/10-ways-to-reference-excel-workbooks-and-sheets-using-vba/967](http://www.techrepublic.com/blog/10things/10-ways-to-reference-excel-workbooks-and-sheets-using-vba/967)

具体看4：显式引用工作簿

或 10：引用工作表的代号属性

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T14:00:50.440

通常，当您处理一个列表时，您将使用一个工作簿变量来打开、操作然后关闭每本书

我下面的代码是一个通过和整理工作簿目录的示例（类似于您的列表示例）。从[将一个或多个工作簿中的工作表整理到摘要文件中](http://www.experts-exchange.com/Software/Office_Productivity/Office_Suites/MS_Office/Excel/A_2804-Code-to-compile-all-worksheets-from-either-a-all-Excel-workbooks-in-a-folder-or-b-a-specific-Excel-workbook.html)

```
Public Sub ConsolidateSheets()
    Dim Wb1 As Workbook
    Dim Wb2 As Workbook
    Dim ws1 As Worksheet
    Dim ws2 As Worksheet
    Dim ws3 As Worksheet
    Dim rng1 As Range
    Dim rng2 As Range
    Dim rng3 As Range
    Dim rngArea As Range
    Dim lrowSpace As Long
    Dim lSht As Long
    Dim lngCalc As Long
    Dim lngRow As Long
    Dim lngCol As Long
    Dim X()
    Dim bProcessFolder As Boolean
    Dim bNewSheet As Boolean

    Dim StrPrefix
    Dim strFileName As String
    Dim strFolderName As String

    'variant declaration needed for the Shell object to use a default directory
    Dim strDefaultFolder As Variant

 bProcessFolder = (MsgBox("Process a single folder (Yes)," & vbNewLine & "or single file (No)", vbYesNo, "Application Scope: Folder or single File") = vbYes)
    bNewSheet = (MsgBox("Extract all data to a single sheet (Yes)," & vbNewLine & "or a target file sheet for each source sheet (No)", vbYesNo, "Output Format: Single sheet or sheet by sheet collection") = vbYes)
    If Not bProcessFolder Then
        If Not bNewSheet Then
            MsgBox "There isn't much point creating a exact replica of your source file :)"
            Exit Sub
        End If
    End If

    'set default directory here if needed
    strDefaultFolder = "C:\temp"

    'If the user is collating all the sheets to a single target sheet then the row spacing
    'to distinguish between different sheets can be set here
    lrowSpace = 1

    If bProcessFolder Then
        strFolderName = BrowseForFolder(strDefaultFolder)
        'Look for xls, xlsx, xlsm files
        strFileName = Dir(strFolderName & "\*.xls*")
    Else
        strFileName = Application _
                      .GetOpenFilename("Select file to process (*.xls*), *.xls*")
    End If

    Set Wb1 = Workbooks.Add(1)
    Set ws1 = Wb1.Sheets(1)
    If Not bNewSheet Then ws1.Range("A1:B1") = Array("workbook name", "worksheet count")

    'Turn off screenupdating, events, alerts and set calculation to manual
    With Application
        .DisplayAlerts = False
        .EnableEvents = False
        .ScreenUpdating = False
        lngCalc = .Calculation
        .Calculation = xlCalculationManual
    End With

    'set path outside the loop
    StrPrefix = strFolderName & IIf(bProcessFolder, "\", vbNullString)

    Do While Len(strFileName) > 0
        'Provide progress status to user
        Application.StatusBar = Left("Processing " & strFolderName & "\" & strFileName, 255)
        'Open each workbook in the folder of interest
        Set Wb2 = Workbooks.Open(StrPrefix & strFileName)
        If Not bNewSheet Then
            'add summary details to first sheet
            ws1.Cells(Rows.Count, "A").End(xlUp).Offset(1, 0) = Wb2.Name
            ws1.Cells(Rows.Count, "A").End(xlUp).Offset(0, 1) = Wb2.Sheets.Count
        End If
        For Each ws2 In Wb2.Sheets
            If bNewSheet Then
                'All data to a single sheet
                'Skip importing target sheet data if the source sheet is blank
                Set rng2 = ws2.Cells.Find("*", ws2.[a1], xlValues, , xlByRows, xlPrevious)

                If Not rng2 Is Nothing Then
                    Set rng1 = ws1.Cells.Find("*", ws1.[a1], xlValues, , xlByRows, xlPrevious)
                    'Find the first blank row on the target sheet
                    If Not rng1 Is Nothing Then
                        Set rng3 = ws2.Range(ws2.UsedRange.Cells(1), ws2.Cells(rng2.Row, "A"))
                        'Ensure that the row area in the target sheet won't be exceeded
                        If rng3.Rows.Count + rng1.Row < Rows.Count Then
                            'Copy the data from the used range of each source sheet to the first blank row
                            'of the target sheet, using the starting column address from the source sheet being copied
                            ws2.UsedRange.Copy ws1.Cells(rng1.Row + 1 + lrowSpace, ws2.UsedRange.Cells(1).Column)
                        Else
                            MsgBox "Summary sheet size exceeded. Process stopped on " & vbNewLine & _
                                   "sheet: " & ws2.Name & vbNewLine & "of" & vbNewLine & "workbook: " & Wb2.Name
                            Wb2.Close False
                            Exit Do
                        End If
                        'colour the first of any spacer rows
                        If lrowSpace <> 0 Then ws1.Rows(rng1.Row + 1).Interior.Color = vbGreen
                    Else
                        'target sheet is empty so copy to first row
                        ws2.UsedRange.Copy ws1.Cells(1, ws2.UsedRange.Cells(1).Column)
                    End If
                End If
            Else
                'new target sheet for each source sheet
                ws2.Copy after:=Wb1.Sheets(Wb1.Sheets.Count)
                'Remove any links in our target sheet
                With Wb1.Sheets(Wb1.Sheets.Count).Cells
                    .Copy
                    .PasteSpecial xlPasteValues
                End With
                On Error Resume Next
                Wb1.Sheets(Wb1.Sheets.Count).Name = ws2.Name
                'sheet name already exists in target workbook
                If Err.Number <> 0 Then
                    'Add a number to the sheet name till a unique name is derived
                    Do
                        lSht = lSht + 1
                        Set ws3 = Wb1.Sheets(ws2.Name & " " & lSht)
                    Loop While Not ws3 Is Nothing
                    lSht = 0
                End If
                On Error GoTo 0
            End If
        Next ws2
        'Close the opened workbook
        Wb2.Close False
        'Check whether to force a DO loop exit if processing a single file
        If bProcessFolder = False Then Exit Do
        strFileName = Dir
    Loop

    'Remove any links if the user has used a target sheet
    If bNewSheet Then
        With ws1.UsedRange
            .Copy
            .Cells(1).PasteSpecial xlPasteValues
            .Cells(1).Activate
        End With
    Else
        'Format the summary sheet if the user has created separate target sheets
        ws1.Activate
        ws1.Range("A1:B1").Font.Bold = True
        ws1.Columns.AutoFit
    End If

    With Application
        .CutCopyMode = False
        .DisplayAlerts = True
        .EnableEvents = True
        .ScreenUpdating = True
        .Calculation = lngCalc
        .StatusBar = vbNullString
    End With
End Sub

Function BrowseForFolder(Optional OpenAt As Variant) As Variant
'From Ken Puls as used in his vbaexpress.com article
'http://www.vbaexpress.com/kb/getarticle.php?kb_id=284

    Dim ShellApp As Object
    'Create a file browser window at the default folder
    Set ShellApp = CreateObject("Shell.Application"). _
                   BrowseForFolder(0, "Please choose a folder", 0, OpenAt)

    'Set the folder to that selected.  (On error in case cancelled)
    On Error Resume Next
    BrowseForFolder = ShellApp.self.Path
    On Error GoTo 0

    'Destroy the Shell Application
    Set ShellApp = Nothing

    'Check for invalid or non-entries and send to the Invalid error
    'handler if found
    'Valid selections can begin L: (where L is a letter) or
    '\\ (as in \\servername\sharename.  All others are invalid
    Select Case Mid(BrowseForFolder, 2, 1)
    Case Is = ":"
        If Left(BrowseForFolder, 1) = ":" Then GoTo Invalid
    Case Is = "\"
        If Not Left(BrowseForFolder, 1) = "\" Then GoTo Invalid
    Case Else
        GoTo Invalid
    End Select

    Exit Function

Invalid:
    'If it was determined that the selection was invalid, set to False
    BrowseForFolder = False
End Function 
```

# apache - httpd mod_proxy_balancer 故障转移 failonstatus - 透明切换

> ID：11083707
> 
> 赞同：10
> 
> 时间：2012-06-18T13:14:57.813
> 
> 标签：apache, reverse-proxy, mod-proxy, failover, mod-proxy-balancer

我正在使用 mod_proxy_balancer 来管理后端服务器的故障转移。当其他一些后端服务（例如 NFS）失败时，后端服务器可能会返回错误代码而不是超时，并且我们希望这些服务器也被标记为故障节点。因此，我们使用 failonstatus 指令。

```
<Proxy balancer://avatar>
    ProxySet failonstatus=503 
    BalancerMember http://active/ retry=30
    # the hot standby
    BalancerMember http://standby/ status=+H retry=0
</Proxy> 
```

目前，故障转移完美地运行了一个小故障。当活动节点发生故障时，用户会收到 503 错误，并且从下一个请求中备用服务器接管。

我不希望一个请求失败。无法在不向客户端返回错误的情况下进行 mod_proxy 故障转移？如果活动节点失败，我希望 mod_proxy 为相同的请求尝试备用，而不仅仅是后续请求！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T14:33:38.503

我想你在 Apache HTTPd 邮件列表上问过这个问题，但遗憾的是没有得到满意的答案。我在 ServerFault 中问过几乎相同的问题，所以我将它们结合在一起。

[https://serverfault.com/questions/414024/apache-httpd-workers-retry](https://serverfault.com/questions/414024/apache-httpd-workers-retry)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-09-02T14:50:28.873

有一个新模块可以完成您的要求 [https://httpd.apache.org/docs/2.4/mod/mod_proxy_hcheck.html](https://httpd.apache.org/docs/2.4/mod/mod_proxy_hcheck.html)

# spotify - 新播放列表的共享按钮

> ID：11083709
> 
> 赞同：0
> 
> 时间：2012-06-18T13:15:02.353
> 
> 标签：spotify

如何为我这样创建的播放列表显示共享弹出窗口？

```
var playlist = new models.Playlist("My cool playlist"); 
```

由于安全策略，新播放列表无法使用 uri，如何允许用户通过标准共享弹出窗口共享播放列表？showSharePopup 不接受播放列表的实例，但没有任何 URI，我不知道该怎么做？问的原因是我正在开发一个在 App FINder 上分发的应用程序，他们希望我能够在下一次更新中共享来自该应用程序的新播放列表。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T14:05:30.527

> ...他们希望我能够在下一次更新中分享来自应用程序的新播放列表。

如果您在 Spotify 中有人要求您做一些看似不可能的事情，那么询问他们希望您如何做可能是个好主意！

# c# - [显示] 属性的替换

> ID：11083711
> 
> 赞同：2
> 
> 时间：2012-06-18T13:15:04.640
> 
> 标签：c#, entity-framework, ef-code-first

给定班级：

```
public class Item
{
    [Key]
    public int ID { get; set; }

    [Display]
    public string Name { get; set; }

    public string Observation { get; set; }
    public DateTime? Done { get; set; }
} 
```

我知道我可以通过在另一个项目中创建一个映射类并从 EntityTypeConfiguration 继承来定义我的 [Key] 属性和其他映射设置。

但是如何替换 [display] 属性，这样我就不必将 System.ComponentModel.DataAnnotations 的引用添加到我的公共 dll 中？

告诉我我是否不够清楚

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:20:02.100

您可以创建自己的属性，然后编写一个类，该类`AssociatedMetadataProvider`从您的属性继承数据并将数据读取到`ModelMetadata`实例中。

您的类将与[内置版本](http://aspnetwebstack.codeplex.com/SourceControl/changeset/view/df47d044190b#src%2fSystem.Web.Mvc%2fDataAnnotationsModelMetadataProvider.cs)相似或相同。

# php - Desire2Learn Valence API 访问数据清除工具？

> ID：11083716
> 
> 赞同：1
> 
> 时间：2012-06-18T13:15:20.513
> 
> 标签：php, api, desire2learn

是否可以从 Valence API 访问数据清除工具？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T15:00:28.670

不，数据清除系统中没有 API。

您正在寻找什么样的数据清除工具访问权限？

# svn - 我可以在同一个 repo 上使用不同的 SVN 工具吗？

> ID：11083717
> 
> 赞同：2
> 
> 时间：2012-06-18T13:15:20.593
> 
> 标签：svn

我刚刚从 Windows 迁移到 Mac OS X，发现没有适用于 Mac 的 Tortoise SVN 版本...可以使用其他工具（例如[svnX](http://www.lachoseinteractive.net/en/community/subversion/svnx/features/)）与同一个 repo 交互吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T13:16:59.563

是的，那会很好。无论如何，它们都只是 SVN 的 GUI，在幕后它们做同样的事情。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T13:18:02.493

TortoiseSVN 实际上使用[Apache Subversion](http://subversion.apache.org/)作为其后端。svnX 也会这样做。

所以是的，你可以在同一个 repo 上使用两者。

# oracle - 查询导致 DB 失败并出现 ORA-0113

> ID：11083718
> 
> 赞同：6
> 
> 时间：2012-06-18T13:15:33.260
> 
> 标签：oracle, oracle11gr2

我需要从内联视图中的集合中的元素创建一个集合。我尝试使用 collect 和 table 函数对集合进行解聚合并再次聚合它，但它因 ORA-03113 而失败。

下面是导致问题的查询的简化版本。

在我的实现中，我将在单个查询中加入多个级别的嵌套查询与联合，该查询应该将所有集合聚合到一个集合中。出于性能原因（昂贵的上下文切换），实现 PL/SQL 代码来聚合集合不是一种选择。

非常感谢您的反馈/建议。

### 脚本

* * *

```
SELECT BANNER FROM V$VERSION
/

CREATE OR REPLACE TYPE OBJECT_ID_TAB_T IS TABLE OF NUMBER(11);
/

SELECT OWNER, CAST(COLLECT( MULTISET(SELECT COLUMN_VALUE FROM TABLE((OBJECT_ID_LIST) ))) AS OBJECT_ID_TAB_T) AS OBJECT_ID_LIST
FROM  (SELECT OWNER, OBJECT_NAME, CAST(COLLECT(OBJECT_ID) AS OBJECT_ID_TAB_T)  AS OBJECT_ID_LIST
       FROM ALL_OBJECTS
       GROUP BY OWNER, OBJECT_NAME
      )
GROUP BY OWNER
/ 
```

### 结果

* * *

```
BANNER                                                                          
--------------------------------------------------------------------------------
Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - 64bit Production    
PL/SQL Release 11.2.0.1.0 - Production                                          
CORE    11.2.0.1.0  Production                                                      
TNS for 64-bit Windows: Version 11.2.0.1.0 - Production                         
NLSRTL Version 11.2.0.1.0 - Production                                          

5 rows selected.
Type created.
SELECT OWNER, CAST(COLLECT( MULTISET(SELECT COLUMN_VALUE FROM TABLE((OBJECT_ID_LIST) ))) AS OBJECT_ID_TAB_T) AS OBJECT_ID_LIST
FROM  (SELECT OWNER, OBJECT_NAME, CAST(COLLECT(OBJECT_ID) AS OBJECT_ID_TAB_T)  AS OBJECT_ID_LIST
       FROM ALL_OBJECTS
       GROUP BY OWNER, OBJECT_NAME
      )
GROUP BY OWNER
*
Error at line 0
ORA-03113: end-of-file on communication channel
Process ID: 8000
Session ID: 154 Serial number: 164

Script Terminated on line 25. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-27T00:27:50.047

**ORA-03113** : end-of-file on communication channel 错误是一个通用错误，如果您在此处发布问题，您可能已经知道。因此，与其让您对可能的原因感到厌烦，这里列出了一些可以帮助您解决问题的事项。此错误非常常见，以至于有人不太可能找到确切原因，因此您需要学习如何通过深入了解日志和/或跟踪文件来调试此特定错误。

**建议**：我首先想提出一些建议，以减少查询所需的内存，并降低复杂性。创建中间表并分步执行查询。Oracle 可能会遇到内存问题（尤其是在 Windows 上），这可能会导致侦听器内存不足和连接被终止的问题。正如你所说的你不想使用 PL*SQL，你可以用直接的 SQL 来做到这一点。

**问题解决思路**：检查服务器上的 alert_sid.log。alert_sid.log 的位置由BACKGROUND_DUMP_DEST 初始化参数指定。这可能表明服务器已关闭。您可能需要修改您的重传计数。接下来检查其他 Oracle 跟踪文件。

**使用Oracle 配置文件**设置跟踪选项。

* * *

***1.SQLNET.ORA***

*   使用[Oracle 网络管理器设置](http://docs.oracle.com/cd/B19306_01/network.102/b14212/admintools.htm#i483238)

*   TRACE_DIRECTORY_CLIENT 为客户端跟踪输出建立目标目录。默认情况下，客户端目录在 UNIX 上为 $ORACLE_HOME/network/trace，在 Windows 上为 ORACLE_HOME\network\trace。

*   TRACE_DIRECTORY_SERVER - 为数据库服务器跟踪输出建立目标目录。默认情况下，服务器目录在 UNIX 上为 $ORACLE_HOME/network/trace，在 Windows 上为 ORACLE_HOME\network\trace。

* * *

***2\. 听众.ORA***

*   使用[Oracle Enterprise Manager](http://docs.oracle.com/cd/B19306_01/network.102/b14212/admintools.htm#i491701)或[Oracle Net Manager设置](http://docs.oracle.com/cd/B19306_01/network.102/b14212/admintools.htm#i483238)

*   TRACE_LEVEL_listener_name - 指定侦听器的跟踪工具记录的详细级别。- off（等同于 0）不提供跟踪 - user（等同于 4）跟踪以识别用户引起的错误情况 - admin（等同于 6）跟踪以识别特定于安装的问题 - support（等同于 16）提供跟踪信息Oracle 支持服务的故障排除信息

*   TRACE_DIRECTORY_listener_name - 为跟踪文件建立目标目录和文件。默认情况下，该目录在 UNIX 上为 $ORACLE_HOME/network/trace，在 Windows 上为 ORACLE_HOME\network\trace，文件名为 listener.trc。

* * *

***3\. CMAN.ORA***

*   使用[Oracle 网络管理器设置](http://docs.oracle.com/cd/B19306_01/network.102/b14212/admintools.htm#i483238)

*   TRACE_DIRECTORY - 默认情况下，该目录在 UNIX 上为 $ORACLE_HOME/network/trace，在 Windows 上为 ORACLE_HOME\network\trace。

* * *

使用在各种 Oracle 配置文件中创建的跟踪文件应该为您提供识别错误根本原因所需的信息。我会专注于围绕听众的问题或由于内存不足而引起的问题。

# deployment - 包装和通用安装程序

> ID：11083720
> 
> 赞同：0
> 
> 时间：2012-06-18T13:15:40.967
> 
> 标签：deployment, installation, packaging, setup-deployment

我正在构建一个在以下基础上运行的解决方案：

*   PHP
*   阿帕奇
*   PostgreSQL
*   Pentaho 数据集成（Kettle）

我确实在寻找打包的可能性，因为我想捆绑整个解决方案，包括所需的运行时（Web 服务器、数据库服务器、etl 服务器），以简化它的安装、配置和部署。

您能否指出我对包装系统/方法的要求是可用的可能性：

*   易于使用（在某种程度上）
*   简化配置
*   跨平台（最好，但欢迎针对 Windows 和 *nix 提出两个单独的建议）
*   易于维护
*   易于用于修补目的

提前致谢

# sql-server - MS SQL Management Studio 2008 R2 SP1 + SSMS 工具。不折叠开始/结束区域

> ID：11083727
> 
> 赞同：4
> 
> 时间：2012-06-18T13:16:05.367
> 
> 标签：sql-server, intellisense, ssms

将 MS SQL Server 2008 更新为 后`R2 SP1`，我无法折叠开始/结束部分。（尝试添加 SSMS 功能`--#region`，但在处理大型 SQL 文件时仍然很烦人）。

输出为`SELECT @@VERSION`：

```
Microsoft SQL Server 2008 R2 (RTM) - 10.50.1600.1 (X64)   Apr  2 2010 15:48:46 
Copyright (c) Microsoft Corporation  Developer Edition (64-bit) on Windows NT 6.1 <X64>
(Build 7601: Service Pack 1) 
```

`Tools->Options->Text Editor->Transact-SQL->IntelliScense`一切都经过检查。

看不到任何紧迫的建议`ctrl + space`（所以我想智能感知根本不起作用？

有人有同样的问题吗？你知道我应该去哪里看吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-11-17T11:12:59.067

据我所知，SSMS08 中不支持此功能。

# joomla - JArchive::create for Joomla 2.5？

> ID：11083731
> 
> 赞同：6
> 
> 时间：2012-06-18T13:16:24.007
> 
> 标签：joomla, zip, relative-path, joomla2.5

基本上我正在尝试使用 Joomla`JArchive::create()`函数从相对路径压缩目录。到目前为止，我可以压缩一个目录，但它会压缩整个绝对路径。

我使用的那个 zip 绝对路径的代码如下图所示：

```
$zipFilesArray = array();
    $new_component_path = JPATH_SITE.'/'.'modules'.'/'.'mod_module_gen'.'/'.'package'.'/'.$new_folder_name;
    $dirs = JFolder::folders($new_component_path, '.', true, true);
    array_push($dirs, $new_component_path);
    foreach ($dirs as $dir) {
        $files = JFolder::files($dir, '.', false, true);
        foreach ($files as $file) {
            $data = JFile::read($file);
            $zipFilesArray[] = array('name' => str_replace($new_component_path.DS, '', $file), 'data' => $data);
        }
    }
    $zip = JArchive::getAdapter('zip');
    $zip->create($new_component_path.'/'.$new_folder_name.'.zip', $zipFilesArray); 
```

我认为这与使用`JPATH_SITE`我尝试更改为`JURI::root`结构但随后提供错误说它不是有效路径的结构有关。

我任何人都可以告诉我如何根据我提供的代码在 Joomla 中压缩相对路径，那么这将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-27T15:21:31.623

终于有了另一个扩展开发者好心给我的代码。

```
$folder_path = JPATH_SITE.'/modules/mod_xxxxxxxxx/package/'.$new_folder_name;
$new_folder_name_final = $folder_path . '.zip';

$zip = new ZipArchive();

if ($zip->open($new_folder_name_final, ZIPARCHIVE::CREATE) !== TRUE) {
    return false;
}

$iterator = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($folder_path));

foreach ($iterator as $key=>$value) {
    $key = str_replace('\\', '/', $key);
    if (!is_dir($key)) {
        if(!$zip->addFile(realpath($key), substr($key, strlen($folder_path) - strlen(basename($folder_path))))) {
            return false;
        }
    }
$zip->close(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-01T20:45:11.957

```
 jimport( 'joomla.filesystem.archive' );

    $zipFilesArray = array();
    $dirs = JFolder::folders($new_component_path, '.', true, true);
    array_push($dirs, $new_component_path);
    foreach ($dirs as $dir) {
        $files = JFolder::files($dir, '.', false, true);
        foreach ($files as $file) {
            $data = JFile::read($file);
            $zipFilesArray[] = array('name' => str_replace($new_component_path.DS, '', $file), 'data' => $data);
        }
    }
    $zip = JArchive::getAdapter('zip');
    $zip->create($tmp_path.DS.'files.zip', $zipFilesArray); 
```

这对我有用。你可以试试看。

# c# - 日期和时间格式

> ID：11083734
> 
> 赞同：0
> 
> 时间：2012-06-18T13:16:43.853
> 
> 标签：c#, string-formatting

如何将 C# 应用程序中的日期时间值转换为具有以下形式的字符串`6-18-2012 13:12:13.0`？我不断得到前导零。此外，我似乎无法将其纳入军事时间。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T13:18:39.813

```
myDateTime.ToString("M-d-yyyy HH:mm:ss.f") 
```

如果您不想在小时内出现任何前导零，请执行以下操作：

```
myDateTime.ToString("M-d-yyyy H:mm:ss.f") 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-18T13:17:32.760

试试这个：

```
date.ToString( "M-d-yyyy H:mm:ss.f" ); 
```

该字符串不会在月、日或小时前添加前导 0。可以在 Microsoft 的[自定义日期和时间格式字符串](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx "自定义日期和时间格式字符串")中找到更多信息。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T13:50:57.710

你也可以使用：

``string.Format("{0:M-d-yyyy H:mm:ss.f}", yourDateTime);``

[C# 示例](http://www.csharp-examples.net/string-format-datetime/)中的更多详细信息

# c# - 如何使用mvc3中的数据库数据每五分钟发送一次邮件

> ID：11083742
> 
> 赞同：-4
> 
> 时间：2012-06-18T13:17:17.887
> 
> 标签：c#, asp.net-mvc-3

我如何使用 mvc3 中的数据库数据定期发送邮件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:23:24.910

有多种方法可以实现这一点，一种很好的方法是编写一个 Web 服务来完成它并使用 [Quartz Schduler安排它](http://quartznet.sourceforge.net/ "石英施杜勒")

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:22:42.510

您可以添加一个 Timer 并在 application start My Sample 中启动它：

在 Global.asax 中：

```
void Application_Start(object sender, EventArgs e)
{
    // Create a new Timer with Interval set to 300 seconds(5 Minutes).
    System.Timers.Timer aTimer = new System.Timers.Timer(5 * 60 * 1000);
    aTimer.Elapsed += new System.Timers.ElapsedEventHandler(OnTimedEvent);
    aTimer.AutoReset = true;
    aTimer.Enabled = true;
    aTimer.Start();
}
private static void OnTimedEvent(object source, System.Timers.ElapsedEventArgs e)
{
//Send Email;
} 
```

## 更新答案

如何发送邮件：

```
var mailObj = new System.Net.Mail.MailMessage(from, to, subject, body);
//if your host has smtp server
var SMTPServer = new System.Net.Mail.SmtpClient("localhost"); 
//if your host has not smtp server and you want use gmail
var googleSMTPServer = new System.Net.Mail.SmtpClient
{
    Host = "smtp.gmail.com",
    Port = 587,
    EnableSsl = true,
    DeliveryMethod = System.Net.Mail.SmtpDeliveryMethod.Network,
    UseDefaultCredentials = false,
    Credentials = new System.Net.NetworkCredential("gmailAddress@Gmail.com", "gmailPassword")
};

try
{
    SMTPServer.Send(mailObj);
    // OR
    googleSMTPServer.Send(mailObj); 
}
catch (Exception ex)
{
    //
} 
```

## 笔记

jgauffin 是对的！应用程序池可以随时回收。如果您的站点在 20 分钟内没有任何访问者，IIS 会自动停止应用程序池。您可以在 IIS 中禁用它

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:21:50.123

试试[MvcMailer NuGet 包](http://www.codeproject.com/Articles/145629/Announcing-MvcMailer-Send-Emails-Using-ASP-NET-MVC)。它允许您将 MVC 视图呈现为电子邮件正文

# log4net - log4net 将 AssemblyVersion 添加到 appender 文件名

> ID：11083743
> 
> 赞同：1
> 
> 时间：2012-06-18T13:17:18.563
> 
> 标签：log4net, log4net-configuration

我正在尝试弄清楚如何将 AssemblyVersion 编号添加到 log4net appender。我的意思是..

```
<appender name="RollingFile" ..> 
   <file value="{TEMP}\MyApp\<AssemblyVersion>\MyApp.log"/>
   ..
</appender> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:56:48.010

找到了答案。请参阅“[使用 log4net 的动态日志文件名](http://geekswithblogs.net/rgupta/archive/2009/03/03/dynamic-log-filenames-with-log4net.aspx)”

```
<appender name="RollingFileAppenderV1" 
          type="log4net.Appender.RollingFileAppender">
  <file type="log4net.Util.PatternString" 
        value="F:\HornetFeed\%property{LogName}" /> 
```

然后在 C# 代码中：

```
log4net.GlobalContext.Properties["LogName"] = "file1.log"; 
```

# c# - 应用程序会话的用户设置

> ID：11083745
> 
> 赞同：2
> 
> 时间：2012-06-18T13:17:30.153
> 
> 标签：c#, .net, wpf, settings

我正在使用 MVVM 创建一个 WPF 桌面应用程序。

我曾经用来[`Behavior`](http://gallery.expression.microsoft.com/Behavior)存储窗口状态行为。我想要一些对话框来存储应用程序会话之间的设置。但是我希望在应用程序会话的最后打开位置显示一些对话框，但是当应用程序重新启动时，对话框必须成为中心所有者。

我可以在类中有一个标志`WindowStateSettings`来存储它是一个临时设置，并将在应用程序退出时刷新。但是我怎么能删除特定的用户设置。或者有任何设置对应用程序会话持续存在。我不能使用`static`类来存储数据，因为这个行为类不会在两个对话框之间共享数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:22:20.130

如果您想使用 .NET 中的内置设置机制，您可以在应用程序运行时更改您想要的所有设置，然后永远不要调用 Save() 将设置保存到磁盘。

使您的默认位置变得不可能，例如 (-1,-1)。

然后，在显示表单时，检查该表单的当前设置。如果值为 (-1,-1) 则显示中心。否则，在存储的坐标处显示它。

只要您在更改设置后不调用 Save()，它就会在下次启动应用程序时立即返回 (-1,-1)。

然后，您还可以灵活地允许用户保存他们的布局，以便下次在相同位置打开窗口。您只需在设置上调用 Save() 即可实现此目的。

# java - 本地开发 PC 上的 Elastic Load Balancer

> ID：11083758
> 
> 赞同：4
> 
> 时间：2012-06-18T13:18:10.483
> 
> 标签：java, amazon-ec2, load-balancing

我正在开始一个新项目，其中将使用两个 tomcat 前面的 Elastic Load Balancer。至少这是候选解决方案。在这个项目中，每个开发者的电脑上都会有一个开发环境。每个开发人员都需要拥有最终生产拓扑的精确副本。对于 EC2 实例，这将通过 oracles 虚拟机（ubuntu VM）来实现。

问题/问题是：如何在本地环境中复制 ELB 以获得相同的行为。我认为在本地环境中使用 Apache 的 HAProxy 或 mod_proxy 进行负载平衡是有风险的，因为前面的软件产品具有与 ELB 不同的行为（例如它们传输 HTTP 标头的方式）。

所以最后的问题是：是否有建议的解决方法？有经验的人对这种情况有任何建议/解决方法吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T19:37:12.877

好问题。这是我的做法：

1.  专门为开发测试创建ELB和EC2实例，并将实例添加到ELB。
2.  在 ELB 上为每个开发人员的工作站创建一个侦听器（即 http/3001 --> http/3001、http/3002 --> http/3002 等等）。请注意，您只能在 ELB 上创建一个运行状况检查——要解决此问题，您可以在测试实例上安装 apache 或 nginx，并让 ELB 检查 80/tcp 以确保实例始终处于服务状态）。
3.  从每个开发人员的工作站，建立到测试实例（即`ssh -fN -i ~/.ssh/ec2_keypair.pem ec2-user@ec2-instance-fqdn -R 3001:localhost:3001`）的 ssh 隧道。

在这种配置下，每个开发者的本地环境都可以在`http://elb-fqdn:developer_port`. 您可能希望锁定分配给测试 ELB 的安全组，以便只允许来自某些 IP 的连接。

# php - Shopify API PHP：更新变体的属性，特别是库存数量

> ID：11083764
> 
> 赞同：5
> 
> 时间：2012-06-18T13:18:26.433
> 
> 标签：php, api, shopify

我正在使用这个 PHP 框架与[`Shopify's API`](https://github.com/Shopify/shopify_api)

谁能帮我更新产品的变体属性，特别是**库存数量**？

Shopify 文档中列出的相应 api 调用是：

```
/admin/variants/#{id}.json 
```

要更新*产品*属性（例如标题），需要：

```
$fields = array('title' => 'My New Product Edit');

$api->product->modify(89605609, $fields); 
```

更改这些以反映变体并不能以相同的方式工作。

与往常一样，非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T16:07:45.987

您正在使用的库已弃用。您应该使用此处提到的库之一：[http ://wiki.shopify.com/Shopify_App_Development#.E2.80.9CI.E2.80.99m_a_PHP_developer.E2.80.9D](http://wiki.shopify.com/Shopify_App_Development#.E2.80.9CI.E2.80.99m_a_PHP_developer.E2.80.9D)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-03-24T10:02:24.447

您可以使用以下代码并更新变体值：

```
$product_array = array(
    'variant'=>array(               
    'id'=>#{id},
    'price'=>15.00
));

$put = $shopify('PUT /admin/variants/#{id}.json', array(), $product_array); 
```

*（请参阅相关[Shopify 文档](https://help.shopify.com/en/api/reference/products/product-variant#update)）*

# android - 按下状态时Android imagebutton不会改变颜色

> ID：11083767
> 
> 赞同：0
> 
> 时间：2012-06-18T13:18:30.553
> 
> 标签：android, imagebutton

我的布局中有一个按钮，按下时必须更改图像。我有一个选择器 xml。这是按钮：

```
<ImageButton
            android:id="@+id/cwcfwdvcs"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentRight="true"
            android:clickable="true"
            android:layout_marginTop="16dp"
            android:background="@drawable/button_add_to_favorites_unactive"
            android:drawable="@drawable/add_to_favorites"
            android:text="Favotites"/> 
```

这是选择器 add_to_favorites.xml：

```
<animation-list xmlns:android="http://schemas.android.com/apk/res/android" >
<item android:drawable="@drawable/button_add_to_favorites_active"
      android:state_checked="true" />
<item android:drawable="@drawable/button_add_to_favorites_unactive" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:22:53.273

您应该使用按钮选择器状态，如以下代码 ie(res/drawable/button.xml)

```
 <?xml version="1.0" encoding="utf-8"?>
 <selector
xmlns:android="http://schemas.android.com/apk/res/android">

<item android:state_pressed="true"   android:drawable="@drawable/button_add_to_favorites_active">

</item>

<item android:state_focused="true" android:drawable="@drawable/button_add_to_favorites_active">

</item>

<item android:drawable="@drawable/button_add_to_favorites_active">        

</item>
</selector> 
```

# php - ajax调用jquery函数后无法正常工作

> ID：11083768
> 
> 赞同：2
> 
> 时间：2012-06-18T13:18:32.730
> 
> 标签：php, jquery, html

标题：

```
<script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="js/timeago.js" ></script>
 <script src="js/test_helpers.js" type="text/javascript"></script> 
```

照片.php

```
$(".cmdclose").click(function(){

    var id=this.id;

    $.post("cmddel.php" ,{"id":id});
        setTimeout(function(){      
        <?php echo 'var id = '.json_encode($_GET['id']).';'; ?>
        $('#cmdz').load('cmdajax.php?id='+id);      
    },1000);

}); 
```

html部分：

```
<div id="cmdz"> 
    <?php
    $uid=$_SESSION['uid'];
    $query="SELECT *
    FROM `cmds`
    WHERE `pid` =${id} ORDER BY `id`";
    $result=$db->query($query);
    ?>

    <table id="tblcmd">
        <tr>

    <?
    while($result_set=$db->fetch($result)){
        // echo $result_set['cmds'];
        $uid=$result_set['uid'];

        $query2="SELECT * FROM `user` WHERE `id` ='${uid}'";

        $result2=$db->query($query2);
        $result_set2=$db->fetch($result2);

        echo '<td>'.$result_set2['name'].'</td>'; 

        echo '<td>:'.$result_set['cmds'].'</td>';
        echo '<td  id="'.$result_set['id'] .'"><img src="images/cmd-close.jpg" class="cmdclose" id="'.$result_set['id'] .'" /> </td>'; 

        ?>
        </tr>
        <?php
    }
    ?>

    </table>

</div> 
```

cmdajax.php

```
<?php
    session_start(); 
    require_once("includes/database.php");
    if(isset($_GET['id'])){
        $id=$_GET['id'];
    }

    $uid=$_SESSION['uid'];
    $query="SELECT * FROM `cmds` WHERE `pid` =${id} ORDER BY `id`";

    $result=$db->query($query);
?>

<table id="tblcmd">
    <tr>
    <?php
    while($result_set=$db->fetch($result)){
    // echo $result_set['cmds'];
    $uid=$result_set['uid'];

    $query2="SELECT * FROM `user` WHERE `id` ='${uid}'";

    $result2=$db->query($query2);
    $result_set2=$db->fetch($result2);

    echo '<td>'.$result_set2['name'].'</td>'; 
    echo '<td>:'.$result_set['cmds'].'</td>'; 
    echo '<td  id="'.$result_set['id'] .'"><img src="images/cmd-close.jpg" class="cmdclose" id="'.$result_set['id'] .'" /> </td>'; 
    echo '<td><abbr class="timeago" title="2008-07-17T09:24:17Z">July 17, 2008</abbr></td>'; 
    ?>
    </tr>
    <?php
    }
    ?>

         </table> 
```

我的问题是，一页刷新或 Ajax 调用后，该功能`$(".cmdclose").click(function()`将不起作用。为什么不呢？/// 这个问题解决了

现在我面临这个问题：

jQuery("abbr.timeago").timeago(); 这个选择器不能正常工作是什么原因？谢谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-18T13:20:29.420

因为您`click`甚至在将新内容注入 DOM 之前就限制了事件的功能。因此，新添加（注入）的动态内容将无法使用该功能。要处理这个，你需要使用 jQuery [on](http://api.jquery.com/on/)

所以改变你的代码

```
$(function(){
   $(".cmdclose").click(function(){    
     // your code    
   });
}); 
```

至

```
$(function(){
    $(document).on("click",".cmdclose",function(){
       //your code
    });
}); 
```

jQuery`on`将适用于当前和未来的元素。`on`从 jQuery 1.7+ 开始可用。如果您使用的是以前版本的 jQuery，请使用`live`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-18T13:20:41.100

尝试：

```
$(".cmdclose").live("click",function(){... 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-18T13:27:40.257

你的 jquery 代码中的问题你的代码是这样的。

```
$(".cmdclose").click(function() 
```

问题是“cmdclose”这个类在你的 html par 中不可用。

所以首先你需要在 html 标签中指定这个类，比如 div、tr 等。

之后它的工作请试试这个

# php - 日期参数作为视图过滤器

> ID：11083771
> 
> 赞同：0
> 
> 时间：2012-06-18T13:18:43.757
> 
> 标签：php, drupal, drupal-6, drupal-views

我正在使用 Drupal 6。

我有一个自定义视图，需要通过用户传递的参数进行过滤。

该参数是一个简单的日期，我需要过滤查询，如下所示：

```
WHERE created >= %argument& 
```

其中 %argument% 是在 URL 中传递的用户参数。

问题是，我设法过滤它，但只是平等的，像这样：

```
WHERE created = %argument& 
```

有什么办法可以让它过滤为`greater or equal to`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T14:45:00.347

我发现 Drupal 6 视图不支持这样的功能。

解决方案是实现`module_views_query_substitutions`挂钩并手动更改查询：

```
function module_views_query_substitutions($view)
{
    $view->query->where[0]['clauses'][3] =
        str_replace('=', '>=', $view->query->where[0]['clauses'][3]);
} 
```

# jasper-reports - JasperReports：以 XLS 格式生成报告

> ID：11083772
> 
> 赞同：0
> 
> 时间：2012-06-18T13:18:50.670
> 
> 标签：jasper-reports

我正在使用*JasperReports 4.5.0*，我想生成*XLS*格式的报告。报告生成良好。但是我已经为图像设置了背景颜色。此背景颜色未以*XLS*格式显示。其余 PDF、CSV、HTML、DOC 格式显示正常。

可能是什么问题？

# python - 在 Google App Engine 中生成用户帐户

> ID：11083776
> 
> 赞同：11
> 
> 时间：2012-06-18T13:19:03.853
> 
> 标签：python, google-app-engine, openid

对于一个项目，我将在 Google App Engine 上创建一个应用程序，其中：

*   讨论领导者可以在网站上使用他们的电子邮件地址（或 OpenID 或 Google 帐户）进行注册以使用它。
*   在应用程序管理页面中，他们可以创建一个小组讨论，他们可以根据他们的电子邮件地址为其添加用户
*   然后这些用户应该会收到生成的帐户详细信息（如果他们还没有帐户），使他们能够使用他们新创建的帐户登录到该小组讨论。

我不想要求讨论负责人拥有 Google 帐户或 OpenID 帐户才能注册应用程序，并且所有用户其他帐户必须由讨论负责人生成。

但是 Google App Engine 似乎只支持 Google Accounts 和 OpenID 帐户。我该怎么办？是否存在用于从 Google App Engine 中创建领导者帐户和生成用户帐户的现有模式，仍然支持 GAE 用户 API？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T17:28:12.190

# **[引擎认证](https://github.com/scotch/engineauth)**

几个月前，我开发了一个名为[EngineAuth](https://github.com/scotch/engineauth)的 python 包。它使用中间件拦截用于身份验证的请求。

这是一个示例应用程序：

[http://engineauth.scotchmedia.com/](http://engineauth.scotchmedia.com/)

来源：

[https://github.com/scotch/engineauth](https://github.com/scotch/engineauth)

[EngineAuth](https://github.com/scotch/engineauth)有多种认证策略。其中之一是密码。

[密码](https://github.com/scotch/engineauth/blob/master/engineauth/strategies/password.py)需要一个密码和一个字符串（可以是电子邮件）。如果字符串在数据存储中，它会根据存储的哈希检查密码。如果匹配，则将用户登录。如果字符串不在数据存储中，则创建一个新用户。

[EngineAuth](https://github.com/scotch/engineauth)还有一个[appengine_openid](https://github.com/scotch/aeauth/blob/master/aeauth/strategies/appengine_openid.py)策略，允许您使用 App Engine Openid 登录用户。

EngineAuth 的[好处](https://github.com/scotch/engineauth)在于，如果您的用户已登录 App Engine OpenID，然后他们使用密码登录，它会将用户与这两种策略相关联。

# **[认证](https://github.com/scotch/aeauth)**

[然而，我对EngineAuth](https://github.com/scotch/engineauth)并不完全满意，所以我决定创建一个更依赖于 webapp2 的模块设计。我从未完成，因为我现在正在用 Go 开发项目，但也许代码会有所帮助。

# **[webapp2 身份验证](http://webapp-improved.appspot.com/api/webapp2_extras/auth.html)**

[EngineAuth](https://github.com/scotch/engineauth)和[aeauth](https://github.com/scotch/aeauth)的大部分密码功能取自 webapp2_extras/auth，这可能会为您提供一种简单的方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-18T13:57:42.850

GAE`User API`只是为您提供当前登录的用户和他的一些属性。无论如何，您都必须将此信息存储在`User`模型中的数据存储中。

从那里你可以对你的业务逻辑做任何你想做的事情，以及你将如何根据电子邮件存储/创建用户以及如何处理这些用户、如何对它们进行分组等。

为了支持`OAuth`登录，如`Facebook`or `Twitter`，您将不得不使用他们自己的 API 来了解如何通过这些服务对用户进行身份验证（注册密钥、请求权限等）。幸运的是，有很多框架可以解决这个问题，但这取决于您的结构和您当前使用的内容。

（免责声明是我的）由于您只是创建一个新应用程序，您可以查看[gae-init](http://gae-init.appspot.com)项目，它基本上是您的新应用程序的起点，并且已经`Google`登录`Facebook`并将`Twitter`它们存储在数据存储中，其中他们可以改变他们的属性。不过，您必须已经熟悉 GAE。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-19T02:57:46.530

If you don't want to require a Google Account or OpenID account you have to roll your own accounts system. This gives you maximum freedom, but it is a lot of work and makes you responsible for password security (ouch). Personally I would advise you to reconsider this requirement -- OpenID especially has a lot going for it (except IIUC it's not so simple to use Facebook).

# visual-studio-2010 - 比较 TFS2010 中的代码行数？

> ID：11083782
> 
> 赞同：1
> 
> 时间：2012-06-18T13:19:19.267
> 
> 标签：visual-studio-2010

有没有办法从 TFS 获得一份报告，比较根据项目的最后签入版本更改的代码行数？我可以通过使用当前项目的代码指标来获取代码行数，但我找不到可以比较已更改代码行的选项。

如果之前做过此类事情的人能指导我解决问题，我将不胜感激？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T15:14:59.100

您希望基于 ChangeSet 显示 CodeChurn 统计信息。

在 MSDN 上查看[此处](http://msdn.microsoft.com/en-us/library/ms244661.aspx)，尤其是在“支持过滤和分类的代码流失透视图中的维度和属性”部分，以过滤给定 ChangeSet 的数据。

这篇[博文](http://blogs.msdn.com/b/jampick/archive/2010/07/06/tfs-2010-code-churn-report-getting-additional-detail.aspx)也可能会有所帮助。

# c# - 如何计算 DataGridView.Rows.Height？

> ID：11083783
> 
> 赞同：6
> 
> 时间：2012-06-18T13:19:22.777
> 
> 标签：c#, winforms, datagridview

如何计算 dgv.Rows.Height

```
int x = dgv1.Rows.Height 
```

Rows.Height 或 dgv1.RowsHeight 不存在。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T13:21:11.057

行高可能会有所不同，因此请尝试您想要的行：

```
int x = dgv1.Rows[0].Height; 
```

或者，我认为它也可以从模板中获得：

```
int x = dgv1.RowTemplate.Height; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-02-25T21:11:34.897

如果您想要列标题和所有行的组合高度，请尝试：

```
int x = dgv1.ColumnHeadersHeight + dgv1.Rows.Cast<DataGridViewRow>().Sum(r => r.Height); 
```

# javascript - 如何使用 javascript 禁用/启用 JCE？

> ID：11083785
> 
> 赞同：1
> 
> 时间：2012-06-18T13:19:28.357
> 
> 标签：javascript, joomla, opacity, joomla1.5, joomla-content-editor

我正在使用 Joomla！1.5.26 和 JCE 2.2.0。

我需要使用 javascript 更改 JCE 的状态（禁用/启用）。如果禁用，则编辑器处于只读模式并且背景设置为不透明度 1。

当用户单击编辑/保存按钮时，应该启用/禁用 JCE。

我找到了这个链接：[http ://www.tinymce.com/tryit/read_only_mode.php](http://www.tinymce.com/tryit/read_only_mode.php)

我还发现了如何禁用内容（跨浏览器）：

```
tinymce.get('editorID').getBody().setAttribute('contenteditable', 'false'); 
```

但是，此代码不起作用：

```
J('#editorID').css({opacity:1});
tinymce.get('editorID').getDoc().designMode = 'Off'; 
```

如何从 javascript 更改 JCE 背景不透明度？

是否可以通过javascript设置只读模式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-26T09:10:13.720

要正确应用此设置，您必须插入真正的 tinymce id，您可以使用`tinymce.activeEditor.id`.

所以你可以使用

```
var editor_id = tinymce.activeEditor.id;
tinymce.get(editor_id).getBody().setAttribute('contenteditable', 'false'); 
```

# javascript - 类似桌面的 Web 应用程序中的面向对象设计

> ID：11083788
> 
> 赞同：0
> 
> 时间：2012-06-18T13:19:36.877
> 
> 标签：javascript, python, oop

我正在开发一个小型 web 应用程序，我希望它具有类似桌面的感觉。该应用程序将在后端使用 python，我将在 Web 端使用手动编码的 javascript（在 jquery 等之上）。我有一些我想在两者之间来回传递的对象，并想知道人们如何处理这个问题。例如，我有一个“过滤器”，我将其视为一个对象：

```
filter: { 
   name:'genericGeneFilter', 
   type:'geneFilter',
   symbol:'ExampleSymbol',
   includeExclude:'include'} 
```

人们如何执行以下操作：

1.  *在一个*地方定义类（以便服务器端和客户端都获得定义）
2.  方便地定义用户交互（表单字段、外观等）
3.  向/从服务器/客户端传递数据。使用序列化表单、json、gets/posts 还是 html？
4.  关于来回传递的“对象”，使客户端和服务器保持同步。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:24:27.733

你也可以看看[backbonejs](http://backbonejs.org/)

> Backbone.js 通过提供具有键值绑定和自定义事件的模型、具有可枚举函数的丰富 API 的集合、具有声明性事件处理的视图，并通过 RESTful JSON 接口将所有这些连接到您现有的 API，从而为 Web 应用程序提供了结构。

还有另一个名为[emberjs](http://emberjs.com/)的 js 库，它的功能似乎比bonejs 多得多。：

> Ember.js（以前的 SproutCore 2.0）是一个 JavaScript 框架，可以完成您通常必须手动完成的所有繁重工作。每个网络应用程序都有一些共同的任务；Ember.js 为您做这些事情，因此您可以专注于构建杀手级功能和 UI。这些是使 Ember.js 易于使用的三个特性：(1) 绑定，(2) 计算属性和 (3) 自动更新模板。

[在他们的github repo](https://github.com/emberjs/ember.js)上阅读更多内容

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T23:34:39.733

1.  在您的服务器上使用 nodejs 是我知道服务器和客户端都可以读取单个 js 文件的唯一方法。开发用于移动应用程序 UI 交互的 Cordova js 库的人们一直在围绕 require js 的语法模式工作，以使客户端（浏览器）和服务器（节点 js）都可以读取他们的文件。我的应用程序没有使用任何种类的这种架构，所以我不能完全谈论它，但我会在下一次编码升级时仔细研究这种可能性。
2.  我不确定您所说的定义用户交互是什么意思。对于事件侦听器，反复试验（& stackoverflow）教会我使用 object.addEventListener() 来实现跨浏览器和跨设备兼容性。对于对服务器的远程调用，我喜欢创建一个辅助方法来代理我的所有调用。我发现这是处理服务器返回的所有成功和错误消息的最简单方法。
3.  如果您可以控制最终用户（例如 Intranet）并且可以合理地假设每个人都在使用现代浏览器，那么 XMLHttpRequest() 将很好地完成这项工作。如果您没有这种控制，并且需要支持旧版本的 IE，我建议使用 jQuery ($.ajax()) 之类的库。所有这一切都假设您想使用 AJAX 设计模式。Websockets 风靡一时，在调用服务器时提供更好的响应时间。Websocket 的设置和工作在完全不同的模型上很复杂。使用 AJAX，您可以调用服务器并获得响应。使用 websockets，您可以“订阅一个频道”，并且可以独立发送和接收消息。这意味着客户端 A 可以向服务器发送一些信息，然后服务器可以将相同的数据发送给客户端 B，而无需客户端 B 先询问。我知道有一些库可以用于python，几个月前我在自己的研究中遇到了这些库。使用 AJAX 时，我更喜欢在我可以控制服务器时发布数据，以使不熟练的黑客更容易查看数据。为了打包我的数据，我喜欢使用原生 js Dom 方法来构建 JSON 对象，因为我对在发送表单数据之前验证表单数据有强迫症。然后，我使用 JSON.stringify() 使我的数据准备好发送。使用 AJAX 时，我更喜欢在我可以控制服务器时发布数据，以使不熟练的黑客更容易查看数据。为了打包我的数据，我喜欢使用原生 js Dom 方法来构建 JSON 对象，因为我对在发送表单数据之前验证表单数据有强迫症。然后，我使用 JSON.stringify() 使我的数据准备好发送。使用 AJAX 时，我更喜欢在我可以控制服务器时发布数据，以使不熟练的黑客更容易查看数据。为了打包我的数据，我喜欢使用原生 js Dom 方法来构建 JSON 对象，因为我对在发送表单数据之前验证表单数据有强迫症。然后，我使用 JSON.stringify() 使我的数据准备好发送。
4.  不完全理解这个问题。您的对象在服务器上的范围是什么？应用层、客户端层、用户层？这可以根据应用程序的需要以多种不同的方式进行处理。如果您使用 websockets 作为您的通信技术，您的服务器可以自动发送更新，而无需首先从浏览器请求。如果使用 AJAX，您的客户端将不得不请求更新或使用诸如长轮询之类的技术来模拟类似 websocket 的通信。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T13:22:14.663

看看[淘汰赛](http://knockoutjs.com/)。它是这种 Web 开发的一个很好的框架，包括一个视图模型，用于与动态绑定的用户交互、向服务器发送/接收数据以及自动数据模型同步。

# jquery - 如何使用带有 jquery 'VTicker' 滑块插件的中继器？

> ID：11083789
> 
> 赞同：1
> 
> 时间：2012-06-18T13:19:38.533
> 
> 标签：jquery, asp.net, webforms

我正在使用“ [VTicker](http://www.jugbit.com/jquery-vticker-vertical-news-ticker/) ”jquery 插件来显示我网站的头条新闻。

起初我使用静态 html 代码来测试这个插件，一切都很好！

但我需要从数据库中读取数据，然后将数据绑定到 asp.net 转发器，然后通过 vticker 插件显示转发器数据。

我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:26:43.903

从 VTicker 手册中，说 html 结构看起来像：

```
<div class='myclass'>
   <ul>
      <li>some content</li>
      <li>some content</li>
      ...
   </ul>
</div> 
```

所以这可以使用中继器来实现：

```
<asp:Repeater ID="rpTicker" runat="server">
    <HeaderTemplate>
        <div class="myclass"><ul>
    </HeaderTemplate>
    <ItemTemplate>
        <li><%#Eval("TicketText")%></li>
    </ItemTemplate>
    <FooterTemplate>
        </ul></div>
    </FooterTemplate>
</asp:Repeater> 
```

关于如何调用 jQuery 调用的其余部分没有改变。

参考： http: [//archive.plugins.jquery.com/project/vTicker](http://archive.plugins.jquery.com/project/vTicker)

关于中继器，您可以在互联网上找到许多有关如何在其上设置数据的示例。一些例子

[http://msdn.microsoft.com/en-us/magazine/cc163780.aspx](http://msdn.microsoft.com/en-us/magazine/cc163780.aspx)

[http://www.w3schools.com/aspnet/aspnet_repeater.asp](http://www.w3schools.com/aspnet/aspnet_repeater.asp)

[http://www.dotnetcurry.com/ShowArticle.aspx?ID=663](http://www.dotnetcurry.com/ShowArticle.aspx?ID=663)

# authentication - ASP.Net WebApi 身份验证和安全性

> ID：11083791
> 
> 赞同：4
> 
> 时间：2012-06-18T13:19:53.130
> 
> 标签：authentication, identity, asp.net-web-api, claims-based-identity, sts-securitytokenservice

我一直在查看[Thinktecture.IdentityModel.40](https://github.com/thinktecture/Thinktecture.IdentityModel.40)库作为处理我的 Asp.Net WebApi 安全性的一种方式。我不明白的一点是以下，这是我的问题。

当用户第一次进行身份验证时，他们需要提供他们的用户名和密码。如果它们通过了身份验证，则会向它们颁发一个令牌以用于所有其他调用。

使用上面的库，我使用方法，`AddBasicAuthentication`到安全配置。这将默认使用令牌发行机制，还是我需要使用`AddSimpleWebToken`？

如果是这样，我如何将这两种机制联系在一起？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T18:48:25.383

目前还没有代币发行。我正在研究该功能。

# javascript - 在highcharts的最后一点上动态绘制标记

> ID：11083794
> 
> 赞同：4
> 
> 时间：2012-06-18T13:20:01.260
> 
> 标签：javascript, charts, highcharts

我想在最后一点上画一个标记。数据源是动态的。看看下面的代码

```
$(function() {

    $("#btn").click(function() {
        var l = chart.series[0].points.length;
        var p = chart.series[0].points[l - 1];
        p.marker = {
            symbol: 'square',
            fillColor: "#A0F",
            lineColor: "A0F0",
            radius: 5
        };
        a = 1;
        chart.series[0].points[l - 1] = p;
        chart.redraw(false);

    });

    var ix = 13;
    var a = 0;

    var chart = new Highcharts.Chart({
        chart: {
            renderTo: 'container',
            events: {
                load: function() {
                    var series = this.series[0];
                    setInterval(function() {
                        ix++;
                        var vv = 500 + Math.round(Math.random() * 40);
                        chart.series[0].data[0].remove();
                        var v;
                        if (a == 1) v = {
                            y: vv,
                            x: ix,
                            marker: {
                                symbol: 'square',
                                fillColor: "#A0F",
                                lineColor: "A0F0",
                                radius: 5
                            }
                        }
                        else v = {
                            y: vv,
                            x: ix
                        }

                        a = 0;

                        series.addPoint(v);
                    }, 1500);
                }
            }
        },
        plotOptions: {
            series: {}
        },

        series: [{
            data: [500, 510, 540, 537, 510, 540, 537, 500, 510, 540, 537, 510, 540, 537]}]
    });
}); 
```

[http://jsfiddle.net/9zNUP/](http://jsfiddle.net/9zNUP/)

在按钮单击事件上，我试图在已添加到图表的最后一点上绘制标记。

有没有办法做到这一点？？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-02T20:28:56.467

```
 $("#btn").click(function() {
    var l = chart.series[0].points.length;
    var p = chart.series[0].points[l - 1];
    p.update({
        marker: {
            symbol: 'square',
            fillColor: "#A0F",
            lineColor: "A0F0",
            radius: 5
        }
    });
    a = 1;

}); 
```

解决方案[@http://jsfiddle.net/jugal/zJZSx/](http://jsfiddle.net/jugal/zJZSx/)

还稍微整理了你的代码，在最后添加一个之前删除了点的删除，highcharts 支持它内置的第三个参数 addPoint 为真，这表示移位序列，它删除第一个点，然后添加给定的点。

我真的不明白 a vv 等是什么，但我也没有太在意。根据您的要求，我认为这已经足够了。

# java - QueryDSL JPA 语法错误，包含在 Set 上？

> ID：11083797
> 
> 赞同：4
> 
> 时间：2012-06-18T13:20:14.243
> 
> 标签：java, jpa, eclipselink, querydsl

我有一个类似于以下的 JPA 实体 bean：

```
@Entity
class License {
    @ManyToMany(fetch = FetchType.EAGER)
    @JoinTable(name = "LicenseTags")
    Set<Tag> tags;

    // Skipped remaining members
} 
```

`Tag`它本身也是一个`Entity`带有 id 和 name 的。现在我想查询附加了某些标签的许可证。当我尝试以下查询时

```
Set<Tag> tags = ...;
final QLicense license = QLicense.license;
JPAQuery q = new JPAQuery(entityManager).from(license);

for (Tag tag : tags) {
    q.where(license.tags.contains(tag));
}

Collection<License> result = q.listDistinct(license); 
```

我得到以下异常`listDistinct`

```
java.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager: 
Exception Description: Syntax error parsing the query [select distinct license
from License license
where ?1 in elements(license.tags)]: unexpected token [in].
Internal Exception: NoViableAltException(35!=[685:1: inExpression[boolean not, Object left] returns [Object node] : (t= IN n= inputParameter | t= IN LEFT_ROUND_BRACKET (itemNode= inItem ( COMMA itemNode= inItem )* | subqueryNode= subquery ) RIGHT_ROUND_BRACKET );])
    at org.eclipse.persistence.internal.jpa.EntityManagerImpl.createQuery(EntityManagerImpl.java:1328)
    at com.sun.enterprise.container.common.impl.EntityManagerWrapper.createQuery(EntityManagerWrapper.java:425)
    at com.mysema.query.jpa.impl.DefaultSessionHolder.createQuery(DefaultSessionHolder.java:35)
    at com.mysema.query.jpa.impl.AbstractJPAQuery.createQuery(AbstractJPAQuery.java:139)
    at com.mysema.query.jpa.impl.AbstractJPAQuery.createQuery(AbstractJPAQuery.java:108)
    at com.mysema.query.jpa.impl.AbstractJPAQuery.list(AbstractJPAQuery.java:276)
    at com.mysema.query.support.ProjectableQuery.listDistinct(ProjectableQuery.java:104) 
```

从解析器异常输出中，我只能猜测可能缺少括号。

我在查询集合中包含的值时做错了什么？

我正在使用 GlassFish Server Open Source Edition 3.0.1 (build 22)，而后者又使用 EclipseLink Bundle-Version: 2.0.1.v20100213-r6600

问候，蒂尔曼

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T14:01:59.697

看起来您在 JPA 查询中使用了 Hibernate 模板。试试这个

```
JPAQuery query = new JPAQuery (entityManager, EclipseLinkTemplates.DEFAULT); 
```

从下一个版本开始，将自动检测 JPA 提供程序，并基于此选择用于 JPQL 使用的适当模板。

尽管在参考手册[http://www.querydsl.com/static/querydsl/2.6.0/reference/html/ch02.html#d0e185中描述了当前逻辑](http://www.querydsl.com/static/querydsl/2.6.0/reference/html/ch02.html#d0e185)

您也可以尝试这样表达您的查询

```
List<License> result = query.from(license)
    .where(license.tags.any().in(tags))
    .listDistinct(license); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:28:26.220

可能是缺少括号，或者可能是“元素”，我不确定它是 JPQL 的一部分。

尝试直接执行 JPQL 以确定问题所在。

您的查询似乎也非常低效，您应该只使用从许可证到标签的连接。

# node.js - 无法从 mongoose 的 find 方法的结果中检索数据

> ID：11083807
> 
> 赞同：0
> 
> 时间：2012-06-18T13:20:49.997
> 
> 标签：node.js, mongodb, mongoose

我想从猫鼬的 find 方法的结果中获取数据。

```
SinceIdLog.find({},['since_id','saved_date'],{sort:{'saved_date': -1}, limit:1}, function(err, docs) {
    console.log(docs[0]);
    // some processes
}); 
```

在这种情况下，“console.log”的输出就是我想要的。

```
{ since_id: '214320642386968576',
  saved_date: Sun, 17 Jun 2012 13:16:04 GMT,
  _id: 4fddd8941390b38712000143 } 
```

但是，当我像下面这样写时

```
SinceIdLog.find({},['since_id','saved_date'],{sort:{'saved_date': -1}, limit:1}, function(err, docs) {
    console.log(docs[0].since_id);
    // some processes
}); 
```

输出是“未定义的”。

你知道为什么吗？

我将 Twitter API 参数的“since_id”保存在 MongoDB 中。

在这段代码中，我想获取 since_id 来检索使用 OAuth 新更新的推文。

问候，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:27:05.450

删除语句中无关的`]`after 。`since_id``console.log`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T15:59:56.960

也许您对`since_id`不返回任何内容的字段有 getter 函数？检查架构。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T16:05:08.900

我曾经遇到过同样的问题，我认为解析结果有帮助。

尝试以下

```
SinceIdLog.find({},['since_id','saved_date'],{sort:{'saved_date': -1}, limit:1}, function(err, docs) {
    docs = JSON.parse(docs);
    console.log(docs[0].since_id);
    // some processes
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T13:52:22.120

谢谢大家，

我找到了原因。

我没有正确定义架构，如下所示

```
var Schema = mongoose.Schema,
SinceIdLog = mongoose.model('SinceIdLog', new Schema()); 
```

这在保存数据时有效。

```
var XXX = new SinceIdLog(Object);
XXX.save(function(err) {}); 
```

但它似乎并不适合寻找。

我对其进行了修改，现在它可以正常工作了。

```
var Schema = mongoose.Schema,
SinceIdLog = new Schema({
    since_id: String,
    saved_date: Date
}),
SinceIdSchema = mongoose.model('SinceIdLog', SinceIdLog); 
```

谢谢！！

# asp.net - 如何在网格视图中获取数据键值

> ID：11083811
> 
> 赞同：0
> 
> 时间：2012-06-18T13:21:04.567
> 
> 标签：asp.net

我尝试删除 Gridview 和数据库中的记录。我添加了一个 boundfield 按钮并在 RowCommand 事件中将 CommandName 设置为**Deleterecord**我想获取此记录的主键以删除它（主键值未显示在网格视图中. 下面的代码块显示了这个事件（我尝试在文本框中显示一些数据）：

```
protected void GridView1_RowCommand(object sender, GridViewCommandEventArgs e)
        {

            if (e.CommandName == "Deleterecord")
            {
                TextBox1.Text = GridView1.DataKeys[GridView1.SelectedIndex].Value.ToString(); 
                   //bla bla
            }
        } 
```

我也设置

```
DataKeyName="sourceName" 
```

在gridview中，但它不是我的主键

如果我单击此按钮，则会发生如下异常： **索引超出范围。必须是非负数且小于集合的大小。参数名称：index** 这个问题怎么解决

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:27:49.683

用这个

```
protected void GridView1_RowCommand(object sender, GridViewCommandEventArgs e)
{
    if (e.CommandName == "Deleterecord")
    {
         LinkButton lb = (LinkButton)e.CommandSource;
         GridViewRow gvr = (GridViewRow)lb.NamingContainer;

         TextBox1.Text = grid.DataKeys[gvr.RowIndex].Value.ToString(); 
         //bla bla
    }
} 
```

此处`LinkButton`应替换为执行此`RowCommand`事件的控件类型

欲了解更多信息，请[点击这里](https://stackoverflow.com/questions/2818203/get-datakey-values-in-gridview-rowcommand)

# android - 如何在 android 中将“添加外部 Jar”添加到我的项目中

> ID：11083817
> 
> 赞同：0
> 
> 时间：2012-06-18T13:21:16.177
> 
> 标签：android

我想在我的项目中添加横幅。我在这方面做了一些工作，但我在添加“添加外部 jar”时遇到了问题。

[右键单击我的项目 -> 属性 -> Java 构建路径 -> 库 -> 添加外部 jar]。

现在我的问题是，当我单击“添加外部 jar”时，会打开一个新的寡妇（浏览）并要求打开 jar 文件，但是我已经研究了“Android 开发人员文档”以在项目中添加横幅，但没有提及到打开jar文件。现在我要做的是添加“添加外部 jar”，我可以进一步继续我的项目。

您的帮助将不胜感激。

提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:26:17.817

您下载的应该有一个 jar 文件，其中包含您需要的库。您需要为当前正在执行的步骤选择该 jarfile。

最好将该文件保存在您的项目文件夹中。许多人喜欢将所有库保存在项目文件夹中名为 libs 的文件夹中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:26:41.503

我不确定“横幅”是什么，但如果它是一个 Android 项目，则不能将其添加为 JAR。有资源的项目不能完全被外部喜欢的库。

如果这确实是 Android 项目，则需要将现有项目导入 Eclipse 工作区，步骤如下[：http://developer.android.com/guide/developing/projects/projects-eclipse.html#SettingUpLibraryProject](http://developer.android.com/guide/developing/projects/projects-eclipse.html#SettingUpLibraryProject)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:41:19.357

## 如何在 android 项目中添加“添加外部 Jar”

因为，我总是遵循以下步骤 -

1.  只需在我的项目上创建一个 libs 文件夹->然后将`.jar`文件复制到那里。

2.  在您的工作区中选择您的项目并右键单击-> 属性，只需转到`Java Build Path`

3.  单击`Add External jars`它会打开窗口对话框-> 根您的工作区-> 然后选择您的项目-> 转到`libs`文件夹-> 选择`.jar file`-> 单击确定。

希望这些步骤对您有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T13:59:09.197

在您的项目中创建一个名为“libs”的文件夹。

使用 Windows 资源管理器转到该文件夹​​并将 .jar 文件复制到那里。

在 Eclipse 中刷新您的项目并右键单击 jar 文件并选择“添加到构建路径”选项。

# c# - 如何在 WP7 的数据模板中更改上下文菜单的属性？

> ID：11083818
> 
> 赞同：1
> 
> 时间：2012-06-18T13:21:17.987
> 
> 标签：c#, silverlight, windows-phone-7, xaml, silverlight-toolkit

**我想要**
从后面的代码更改运行时数据模板中上下文菜单的属性（例如背景）。

**什么是 XAML**

```
<DataTemplate x:Key="ListsDataTemplate">
    <StackPanel x:Name="stackPanel" Margin="0,0,0,10">
        <toolkit:ContextMenuService.ContextMenu> 
            <toolkit:ContextMenu x:Name="myMenu" IsFadeEnabled="False" IsZoomEnabled="False">
                        <toolkit:MenuItem x:Name="edit" Header="{Binding LocalStrings.bt_menu_Edit, Source={StaticResource LocalizedResources}}" Click="menuItemEdit_Click" />
                        <toolkit:MenuItem x:Name="postpone" Header="{Binding LocalStrings.bt_menu_Postpone, Source={StaticResource LocalizedResources}}" Click="menuItemPostpone_Click" />
                        <toolkit:MenuItem x:Name="email" Header="{Binding LocalStrings.bt_menu_Email, Source={StaticResource LocalizedResources}}" Click="menuItemEmail_Click" />
                        <toolkit:MenuItem x:Name="sms" Header="{Binding LocalStrings.bt_menu_Sms, Source={StaticResource LocalizedResources}}" Click="menuItemSMS_Click" />                        
                </toolkit:ContextMenu> 
        </toolkit:ContextMenuService.ContextMenu>

        <ListBox    
            HorizontalAlignment="Left" 
            DataContext="{Binding}" 
            ItemTemplate="{StaticResource ListsDataTemplate}" 
            VerticalAlignment="Top" 
            Width="432" 
            Margin="0,81,0,0" 
            x:Name="myListBox">
        </ListBox> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:27:03.830

将`Loaded="myMenu_Loaded"`处理程序添加到`myMenu`，并在该处理程序中声明`var myMenu = (ContextMenu)sender;`。

由于 myMenu 位于 DataTemplate 中，并且是用于创建对象的模板，而不是实际在页面上使用的实例，因此不会为它自动生成任何字段。

# php - 处理具有不同字符编码的文件中的字符串（ISO-8859-1 与 UTF-8）

> ID：11083819
> 
> 赞同：2
> 
> 时间：2012-06-18T13:21:19.343
> 
> 标签：php, utf-8, iso-8859-1

我在文件中有一组行，其中每行可能代表多行注释。原始开发人员选择的行分隔符是 pilcrow (¶)，因为他认为这永远不会出现在某人的评论中。我现在将这些放入数据库并希望使用更典型的行分隔符（尽管可能由应用程序安装程序设置）。

问题是某些行使用 ISO-8859-1 编码（十六进制 b6），而其他行使用 UTF-8 编码（十六进制 c2b6）。我正在寻找一种优雅的方式来处理这个问题，它比我目前正在做的事情有更好的支持。

到目前为止，这就是我处理它的方式，但我宁愿寻找一个更优雅的解决方案：

```
// Due to the way the quote file is stored, line breaks can either be
// in 2-byte or 1-byte characters for the pilcrow. Since we're dealing
// with them on a unix system, it makes more sense to replace these
// funky characters with a newline character as is more standard.
//
// To do this, however, requires a bit of chicanery. We have to do
// 1-byte replacement, but with a 2-byte character.
//
// First, some constants:
define('PILCROW', '¶'); // standard two-byte pilcrow character
define('SHORT_PILCROW', chr(0XB6)); // the one-byte version used in the source data some places
define('NEEDLE', '/['.PILCROW.SHORT_PILCROW.']/'); // this is what is searched for
define('REPLACEMENT', $GLOBALS['linesep']);

function fix_line_breaks($quote)
{
  $t0 = preg_replace(NEEDLE,REPLACEMENT,$quote); // convert either long or short pilcrow to a newline. 
  return $t0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T15:52:38.043

我会这样做：

```
define('PILCROW', '¶'); // standard two-byte pilcrow character
define('REPLACEMENT', $GLOBALS['linesep']);

function fix_encoding($quote) {
    return mb_convert_encoding($quote, 'UTF-8', mb_detect_encoding($quote));
}

function fix_line_breaks($quote) {
    // convert UTF-8 pilcrow to a newline.
    return str_replace(PILCROW, REPLACEMENT, $quote);
} 
```

对于每一行注释，`fix_encoding`然后调用`fix_line_breaks`

```
$quote = fix_encoding($quote);
$quote = fix_line_breaks($quote); 
```

# cordova - PhoneGap：如何在 Android 中显示/与本机 UI 组件交互

> ID：11083822
> 
> 赞同：0
> 
> 时间：2012-06-18T13:21:27.143
> 
> 标签：cordova, phonegap-plugins

我需要在 android 中显示原生控件和 HTML。

也就是说，我想在 index.html 中显示 textcontrol、tabcontrol、menu 等以及 html。

请帮助我该怎么做。

谢谢贾斯卡兰

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:37:19.300

首先，您需要检查 github 上的 phonegap 插件。如果你没有找到你要找的东西，那么你可以开发所需的插件。干杯

# c# - 交互式图表 - DevExpress - 点系列

> ID：11083823
> 
> 赞同：0
> 
> 时间：2012-06-18T13:21:28.953
> 
> 标签：c#, c#-4.0, charts, devexpress

嗨，我有它的点视图的现有图表。

在 X 轴上是时间范围，例如 3 个月、6 个月、1 年、2 年、5 年、10 年、20、30 年。

在 y 轴上有 %

每个 X 和 Y 交点显示为点...

现在我想让这个图表交互。我想要实现的是让用户灵活地移动 Y 轴上的各个点，以便用户可以创建他们的自定义曲线。一旦用户对曲线感到满意，他们应该能够保存它......

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T22:07:09.867

我希望这个线程中的答案提供了足够的信息来实现你想要的： [我们可以在点图中拖放点或在条形图中的条形图更新相应的数据网格控件](http://www.devexpress.com/Support/Center/p/Q262662.aspx)

# extjs - 在 extjs sdk 之后存储未定义

> ID：11083824
> 
> 赞同：0
> 
> 时间：2012-06-18T13:21:33.227
> 
> 标签：extjs, extjs-mvc, extjs4.1

我的 mvc 应用程序工作正常。但是，当我运行 sdk. 我得到商店是未定义的。

下面的商店被定义为“Cutters” 我也试过全名命名空间“Mis.store.Cutters”

我已经上传了整个文件。[所有类.txt](https://www.dropbox.com/s/rdvlqkwq9y9q4bg/all-classes.txt)

这是我的观点“切割机”

```
Ext.define('Mis.view.Cutter', {    extend:'Ext.panel.Panel',
alias:'widget.Cutter',
items:[
    {
        border:0,
        width:950,
        layout:{
            align:'stretch',
            type:'hbox'
        },
        items:[
            {
                xtype:'gridpanel',
                title:'',
                id:'cutterGrid',
                name:'cutterGrid',
                layout:{
                    align:'stretch',
                    type:'hbox'
                },
                store:'Cutters',
                columns:[
                    {
                        xtype:'gridcolumn',
                        dataIndex:'CutterNumber',
                        text:'Cutter',
                        flex:1,
                        sortable: true
                    }
                ],
                bbar:Ext.create('Ext.PagingToolbar', {
                        id: 'cutterPagination',
                        name: 'cutterPagination',
                        store:'Cutters',
                        displayInfo:true,
                        displayMsg:'Displaying records {0} - {1} of {2} &nbsp;',
                        emptyMsg:"No records to display&nbsp;"
                    }
                )

            }
        ]
    }

],
initComponent:function () {
    this.callParent();
} 
```

});

应用程序.js

```
 Ext.Loader.setConfig({ enabled: true });
Ext.Loader.setPath('App', '/ext/Cutter/app');
Ext.application({

    name: 'Mis',
    appFolder: '/ext/Cutter/app',
    models: [ 'Cutter', 'Project', 'CutterHistory','Job', 'Part' , 'ClientFinder'],
    stores: [ 'Cutters','CutterHistories','Projects', 'Jobs', 'Parts'],
    controllers: ['Cutter'],
    launch: function () {
        Ext.QuickTips.init();
        var cmp1 = Ext.create('Mis.view.ViewCutter', {
            renderTo: "mis-application"
        });
        cmp1.show();
    }

}); 
```

“ViewCutter”这个视图引用了“Cutter”，这是我未定义商店的视图。

```
 Ext.define('Mis.view.ViewCutter', {
    extend:'Ext.panel.Panel',
    height:700,
    id:'Cutter',
    border: 0,
    width:950,
    layout:{
        align:'stretch',
        type:'vbox'
    },
    title:'',
    requires:[
        'Mis.view.Cutter',
        'Mis.view.EditCutter'
    ],
    initComponent:function () {
        var me = this;
        Ext.applyIf(me, {
            items:[
                {
                    xtype:'panel',

                    flex:1,
                    title:'',

                    items:[
                        {
                            xtype:'Cutter',
                            border:0,
                            layout:{
                                type:'column'
                            }
                        },
                        {
                            xtype:'EditCutter',
                            border:0,
                            layout:{
                                type:'column'
                            }

                        }
                    ]
                }
            ]

        });

        me.callParent(arguments);
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T16:51:27.947

我的问题是我在分页上定义了商店。

```
 bbar:Ext.create('Ext.PagingToolbar', {
                        id: 'cutterPagination',
                        name: 'cutterPagination',
                        **store:'Cutters',**
                        displayInfo:true,
                        displayMsg:'Displaying records {0} - {1} of {2} &nbsp;',
                        emptyMsg:"No records to display&nbsp;"
                    } 
```

在我使用 sdk 之前，这似乎不是问题。事后看来，我希望我从一开始就使用 sdk。

# apache - Apache FOP 内容溢出

> ID：11083826
> 
> 赞同：2
> 
> 时间：2012-06-18T13:21:37.877
> 
> 标签：apache, overflow, apache-fop

我正在使用 Apache FOP 创建 PDF，并试图让我的内容溢出到下一页。我尝试在主块中设置 'overflow="paginate"' 但这不起作用。

有没有其他人设法做到这一点？

提前致谢！

# php - 每次重新加载时都会重新生成会话 ID

> ID：11083827
> 
> 赞同：-1
> 
> 时间：2012-06-18T13:21:39.493
> 
> 标签：php, facebook, session, iframe, codeigniter-2

我正在使用 codeigniter 构建一个画布 Facebook 页面。用户登录后，其余的 api 使用 ajax 页面。当我进行第一次 ajax 调用时，我无法获取会话数据，因此我检查会话是否为空，然后重新加载页面。之后，我在 ajax 页面中获得会话。因此，只有在一次 ajax 调用和一次重新加载后，我的 session_id 才能得到修复。

如果我不执行任何 ajax 调用而是刷新页面，会话 ID 每次都会重新生成。

我要做的就是在开始时将我的数据加载到 SESSION 一次。并且能够在我的 ajax 页面上使用它。

**更新：**我已经意识到它只发生在 IE 中，所以我找到了关于这个问题的线程。但是解决方案对我不起作用。

[ie中的facebook画布会话问题](https://stackoverflow.com/questions/8122106/facebook-canvas-session-problems-in-ie)

header('P3P:CP="IDC DSP COR ADM DEVi TAIi PSA PSD IVAi IVDi CONi HIS OUR IND CNT"');

访问：

```
php_value session.save_path "/tmp"
SetEnv session.use_cookies='1';
php_value session.gc_maxlifetime 86400
php_value session.cookielifetime 86400
php_flag  log_errors on
php_value error_log  "/PHP_errors.log" 
```

配置：

```
$config['sess_cookie_name']     = 'ci_session';
$config['sess_expiration']      = 7200;
$config['sess_expire_on_close'] = FALSE;
$config['sess_encrypt_cookie']  = FALSE;
$config['sess_use_database']    = FALSE;
$config['sess_table_name']      = 'ci_sessions';
$config['sess_match_ip']        = FALSE;
$config['sess_match_useragent'] = TRUE;
$config['sess_time_to_update']  = 7200; 
```

控制器：

```
function MyController()
    {
        session_start();
        parent::__construct();
        $this->connectUser();   

    }
function connectUser(){ 
//IF ITS AN AJAX CALL CHECK SESSION AND RELOAD
if(isset($_SERVER['HTTP_X_REQUESTED_WITH']) && strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest') {
        if (!isset($_SESSION["userid"]) ) {
        echo "AJAX : ".session_id();// the session id on ajax call
        echo "<script type='text/javascript'>
                        window.top.location = 'https://apps.facebook.com/....';
                        </script>";

        }else echo "I have session data on ajax page";

    }
    else{
        echo "PAGE : ". session_id(); // the session id on page load
            if(!isset($_SESSION["userid"])){

                $this->load->library('facebook');                               
                $user = $this->facebook->getUser();

                    if ($user) {
                        try {
                            $data['user_profile'] = $this->facebook->api('/me');

                        } catch (FacebookApiException $e) {
                            $user = null;
                        }
                    }

                    if (isset($data)) {
                        //SET SESSION HERE ....
                        $_SESSION["userid"]=$data['user_profile']["id"];

                    }

                }

        }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T13:46:31.400

您使用的是哪个 Facebook 库？

Codeigniter 通过会话类滚动它自己的会话系统。例如 $this->session->userdata 等，而不是使用原生 PHP 会话 ($_SESSION)。您指定的会话配置仅与 Codigniter 自己的会话实现有关。

阅读：[http ://codeigniter.com/user_guide/libraries/sessions.html](http://codeigniter.com/user_guide/libraries/sessions.html)

而不是 session_start() 在你的配置中自动加载“会话”类，或者放置 $this->load->library('session'); 在控制器的顶部。

然而，Facebook PHP sdk (https://github.com/facebook/php-sdk) 在其实现中使用本机 php 会话，尽管这是抽象的并且可以用您自己的系统覆盖。

查看 Elliot Haughin 的库，了解使用 FB 和 Codeigniter 的示例：[https ://github.com/elliothaughin/codeigniter-facebook](https://github.com/elliothaughin/codeigniter-facebook)

# java - 如何在 sqlite 中使用自动完成字段？

> ID：11083828
> 
> 赞同：0
> 
> 时间：2012-06-18T13:21:42.160
> 
> 标签：java, sqlite, blackberry

我正在尝试使用此代码。这是一个使用数据库的自动完成字段。

```
import java.util.Vector;

import net.rim.device.api.collection.util.*;
import net.rim.device.api.database.Cursor;
import net.rim.device.api.database.Database;
import net.rim.device.api.database.DatabaseFactory;
import net.rim.device.api.database.Row;
import net.rim.device.api.database.Statement;
import net.rim.device.api.ui.*;
import net.rim.device.api.ui.container.*;
import net.rim.device.api.ui.component.*;

public class AutoCompleteFieldDemo extends UiApplication
{ 

  public static void main(String[] args)
  {

    AutoCompleteFieldDemo app = new AutoCompleteFieldDemo();
    app.enterEventDispatcher(); 
  }

  public AutoCompleteFieldDemo()
  {
    pushScreen(new AutoCompleteFieldDemoScreen());
  }

  public static String[] getDataFromDB()
  {
    Vector names = new Vector();

    try
    {     
      Database db = DatabaseFactory.openOrCreate("database1.db"); 
      Statement statement1 = db.createStatement("SELECT name FROM Directory_Items");
      statement1.prepare();
      statement1.execute();
      Cursor c = statement1.getCursor();
      Row r;

      while(c.next()) 
      {
        r = c.getRow();
        names.addElement(r.getString(0));   
      }

      statement1.close(); 
      db.close(); 
    }
    catch( Exception e ) 
    { 
      System.out.println( e.getMessage() );
      e.printStackTrace();
    }

    String [] returnValues = new String[names.size()];
    for (int i = 0; i < names.size(); i++) {
      returnValues[i] = (String) names.elementAt(i);
    }

    return returnValues;
  }

  static final class AutoCompleteFieldDemoScreen extends MainScreen
  {

    AutoCompleteFieldDemoScreen()
    {
      BasicFilteredList filterLst = new BasicFilteredList();

      filterLst.addDataSet(1,getDataFromDB()
         ,"Names",BasicFilteredList.COMPARISON_IGNORE_CASE)​;
      AutoCompleteField autoFld = new AutoCompleteField(filterLst);
      add(autoFld); 
    } 
```

[我在这里找到了](http://supportforums.blackberry.com/t5/Java-Develo%E2%80%8Bpment/Autocomplete-textfield/m-p/1730311#M199761)

我面临的问题是，我找不到数据库。我已经在 SD 卡中创建了数据库，并将名称放在 createOropen("myDataBase.db) 中。但是当我调试它时会跳转到异常。关于我为什么会遇到这个问题的任何想法。

太感谢了！

# javascript - JavaScript 不会在 asp.net 中隐藏文本区域

> ID：11083831
> 
> 赞同：0
> 
> 时间：2012-06-18T13:21:46.097
> 
> 标签：javascript, asp.net, textarea, visibility

我对 Javascript 有一个奇怪的问题，我正在尝试实现系统来更新一些东西，当我按下按钮时，我想隐藏除“MainContent_UpdateProgress”之外的所有内容，但文本区域仍然可见。

asp.net 中的文本区域如下所示：

```
<textarea runat="server" id="serverOutputTextArea" cols="50" rows="30" name="serverOutputTextArea" visible="false"> 
```

Javascript代码：

```
var prm = Sys.WebForms.PageRequestManager.getInstance();

prm.add_initializeRequest(InitializeRequest);
prm.add_endRequest(EndRequest);
var postBackElement;
function InitializeRequest(sender, args) {
    if (prm.get_isInAsyncPostBack())
        args.set_cancel(true);
    postBackElement = args.get_postBackElement();

    if (postBackElement.id == 'MainContent_UpdateAnalysisSystem') 
    {
        $get('MainContent_serverOutputTextArea').style.display = 'none'; //Doesn't work

        $get('MainContent_UpdateProgress').style.display = 'block'; //Works
        $get('MainContent_ProcessingStatus_Label').style.display = 'none'; //Works
        $get('MainContent_ShowDetails_Button').style.display = 'none';  //Works
    }
} 
```

问题是， textarea 有什么不同？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:28:53.770

您是否查看了浏览器的源代码以查看 textarea 的实际 id 是什么？可能是您将它放置在某个其他元素中，并且它继承了更长的 id。

否则，您可以使用以下方法获取 id：`<%= serverOutputTextArea.ClientID%>`

javascript 行看起来像这样：

```
$get('<%= serverOutputTextArea.ClientID %>').style.display = 'none'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:28:39.900

只是为了确认： MainContent_serverOutputTextArea 是 textarea 的 id 吗？

如果是，您可以去 Firebug 并尝试将显示样式属性设置为无吗？或者出于绝望尝试可见性=隐藏。

但最终，您需要确保 $get 在 DOM 中选择正确的元素。

## 更新

嗯……我想我知道发生了什么。你有：

```
<textarea runat="server" id="serverOutputTextArea" ... visible="false"> 
```

您将 runat="server" 添加到 textarea 中，因此它将成为服务器控件，如果 Visible 属性为 false，则根本不会将其呈现到 HTML。

你知道这意味着什么吗？如果它未呈现，您的 JavaScript 将无法看到并选择它。将 Visible 属性设置为 true，它将起作用。

# python - 从 Python Gnome Applet 获取标准输出

> ID：11083838
> 
> 赞同：0
> 
> 时间：2012-06-18T13:22:29.093
> 
> 标签：python, applet, gnome

我目前正在用 Python 编写一个 Gnome 面板小程序。只要我不尝试将其实际添加到面板中（在窗口中运行它有效），一切都可以正常工作。

尝试将其添加到面板时，它崩溃了，我不知道为什么，因为我看不到错误跟踪。

有没有一种简单的方法可以将 Gnome Applet 的输出记录到文件中，以便我找到问题所在？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:29:22.450

`~/.xsession-errors`如果未重定向，则通过 X 或其子之一启动的应用程序的 stdout 和 stderr 将被写入。

# actionscript-3 - AS3：从一个类调用函数到另一个类

> ID：11083843
> 
> 赞同：1
> 
> 时间：2012-06-18T13:22:48.983
> 
> 标签：actionscript-3, class

所以我有两个班级的**A 级**和**B 级**。

我有一个希望在**A 类**上使用的功能，但我的 flash fla 文件链接到**B 类**

所以我做了以下事情：

*A 类 - 功能*

```
 public function Fb_Checks()
    {
        // constructor code
        load_top_bar();
    } 
```

*B 类 - 进口*

```
import ClassA; 
```

那么如果我尝试从 B 类调用 A 类中的函数：

```
Fb_Checks(); 
```

我收到以下错误：

> 调用可能未定义的方法 Fb_Checks。

我还应该做些什么来让它发挥作用吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:37:04.727

您需要获取有关 OOP 的更多信息。它是如何工作的，那么理解概念会更容易。

现在简单解释一下：我们有**ClassA**、**ClassB**和**ClassC**：

```
ClassA
{
    var value:ClassB;

    public function ClassA ()
    {
        // each variable needs to initialize unless it is the ClassC, see below
        // Only after that you will be able to reach the public properties
        // of the class.
        value = new ClassB();
        value.calculate();
    }
}

ClassB
{
    var value:Number;

    public function ClassB ()
    {

    }

    public function calculate():void
    {
        // these must be statis
        ClassC.sum(150, 450);
    }
}

ClassC
{
    // if the function is static, then you can call it without initializing
    // the class
    static public function sum(value1:Number, value2:Number):Number
    {
        return value1 + value2;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:31:06.870

您必须先创建 ClassA 的实例，然后才能调用它的公共函数。

```
package  
{
    import ClassA;

    public class ClassB
    {

        public function ClassB()
        {
            var instanceOfA:ClassA = new ClassA();

            instanceOfA.Fb_Checks();
        }
    }
} 
```

如果你想让它像你的例子一样工作，你应该用 ClassA 扩展你的 ClassB。在这种情况下，它的公共和受保护功能也可以在 ClassB 中使用。

```
package  
{
    import ClassA;

    public class ClassB extends ClassA 
    {

        public function ClassB()
        {
            Fb_Checks();
        }
    }
} 
```

# c++ - 如何将地图作为参数传递并在此方法中添加？

> ID：11083846
> 
> 赞同：2
> 
> 时间：2012-06-18T13:23:01.387
> 
> 标签：c++, stl, map

所以我有一张地图

```
map<string, string> myMap;

SetMapPairs(map);

void SetMapPairs(map<string, string> mapPairs)
{  
    map<string, string> myMap = mapPairs;
    myMap["one"] = "two";
} 
```

我知道我做错了，但我不知道该怎么做。
如何通过引用传递它，以便我可以在此方法中添加到地图中？
另外我需要先设置，`myMap = mapPairs`否则我知道这很容易做到
`void SetMapPairs(map<string, string> &mapPairs)`

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-18T13:24:44.660

用于`&`通过引用传递：

```
void SetMapPairs(std::map<std::string, std::string>& mapPairs)
{
    // ...
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-18T13:23:59.350

```
typedef std::map<std::string, std::string> MyMap;

void myMethod(MyMap &map)
{
    map["fruit"] = "apple";
} 
```

或者

```
void myMethod(const MyMap &map)
{
    //can't edit map here
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-18T13:25:36.593

您使用`&`通过引用传递：

```
void SetMapPairs(map<string, string> & mapPairs)
{                                 // ^ that means it's a reference
    mapPairs["one"] = "two";
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T13:33:20.410

At least for this particular case, I think I'd probably return a map instead of passing one in by reference:

```
map<string, string> SetMapPairs() {
    std::map<string, string> temp;

    temp["one"] = "two";
    return temp;
} 
```

Then in your calling code, you can use something like:

```
map<string, string> MyMap = SetMapPairs(); 
```

With most decent/modern compilers the generated code will end up about the same either way, but I think under the circumstances, this is a better fit for what you're really doing.

# html - 使用 PhoneGap 的所有平台的移动应用程序启动屏幕尺寸

> ID：11083849
> 
> 赞同：2
> 
> 时间：2012-06-18T13:23:09.060
> 
> 标签：html, cordova, splash-screen

我正在为 iPhone、android 和 Blackberry 构建一个应用程序，并且我已经放置了一个大小为 640 x 960 像素的初始屏幕图像。这在我的 Galaxy S3 上可以正常工作 - 仍然有点拉伸，但每个设备似乎都不同。

我基本上想知道制作这些闪屏的尺寸。我在网络上看到了很多为每个屏幕提供不同视图和不同尺寸的东西。有没有人知道什么尺寸适合哪里？我什至需要为每个屏幕制作不同的尺寸吗？它们都有不同的纵横比等...

编辑

此外，我在某处看到您需要不同的 android 目录 - 特别是“res/drawable-ldpi、res/drawable-mdpi、res/drawable-hdpi、res/drawable-xdpi”。我在 PhoneGap 构建的哪里找到这个？我无法访问文件目录的那部分，只能访问我上传的图像等。顺便说一句，我正在使用 Dreamweaver CS6。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:29:10.330

你看到我之前关于启动画面尺寸的回答了吗？

[phonegap - Android 应用程序的启动画面](https://stackoverflow.com/questions/8156841/phonegap-splash-screen-for-android-app/8157103#8157103)

无论如何，在 Android 上，您将需要提供多种初始屏幕尺寸或提供可正确拉伸的[9-patch 图像。](https://developer.android.com/guide/developing/tools/draw9patch.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-31T12:30:00.050

如果您使用 phonegap build 或 cli，请在 root 中创建一个文件夹 res。将此添加到配置文件并根据

```
 <gap:splash src="splash.png" />
    <gap:splash src="res/screen/android/screen-ldpi-portrait.png"  gap:platform="android" gap:density="ldpi" />
    <gap:splash src="res/screen/android/screen-mdpi-portrait.png"  gap:platform="android" gap:density="mdpi" />
    <gap:splash src="res/screen/android/screen-hdpi-portrait.png"  gap:platform="android" gap:density="hdpi" />
    <gap:splash src="res/screen/android/screen-xhdpi-portrait.png" gap:platform="android" gap:density="xhdpi" />

    <gap:splash src="res/screen/ios/screen-iphone-portrait.png"    gap:platform="ios"     width="320" height="480" />
    <gap:splash src="res/screen/ios/screen-iphone-portrait-2x.png" gap:platform="ios"     width="640" height="960" />
    <gap:splash src="res/screen/ios/screen-ipad-portrait.png"      gap:platform="ios"     width="768" height="1024" />
    <gap:splash src="res/screen/ios/screen-ipad-landscape.png"     gap:platform="ios"     width="1024" height="768" /> 
```

# javascript - 从 1 个图像创建多个过渡按钮

> ID：11083852
> 
> 赞同：0
> 
> 时间：2012-06-18T13:23:14.783
> 
> 标签：javascript, jquery

我有一个非常简单的不同颜色条的图像，从左到右“扇形”，有点像这里的巧克力条：

[http://www.lifeafterbagels.com/blog/wp-content/uploads/2012/05/Fanned-Bars.jpg](http://www.lifeafterbagels.com/blog/wp-content/uploads/2012/05/Fanned-Bars.jpg)

我想将每个栏变成带有工具提示“弹出窗口”的单独按钮，并且当光标悬停在它们上方时颜色会发生变化。非常喜欢这张图：

[http://winstonwolf.pl/clickable-maps/europe.html](http://winstonwolf.pl/clickable-maps/europe.html)

我查看了地图源代码，它并没有真正帮助我，但从这个论坛上的搜索看来，我需要使用 x 和 y 坐标来确定可以“点击”的区域。这个对吗？

我找到了一些代码，可以让我在 2 个图像之间创建过渡，这很棒，但是当图像不是方形 div 内的简单方形时，我遇到了麻烦。这是简单转换的代码：

```
jQuery(document).ready(function(){

jQuery("img.a").hover(
function() {
jQuery(this).stop().animate({"opacity": "0"}, "slow");
},
function() {
jQuery(this).stop().animate({"opacity": "1"}, "slow");
});

}); 
```

和CSS：

```
![div.fadehover {
    position:relative;
    }

img.a {
    position: absolute;
    left: 0;
    top: 0;
    z-index: 10;
    }

img.b {
    position: absolute;
    left: 0;
    top: 0;
    }][2] 
```

任何帮助我指出正确的方向将不胜感激！

谢谢

Ĵ

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T15:26:50.993

为了详细说明评论，这个 JS fiddle 可能是您可以旋转图像并为它们设置点击/悬停事件的方式。

[http://jsfiddle.net/pSPX6/](http://jsfiddle.net/pSPX6/)

这样做意味着您不需要自己进入鼠标坐标，只需让 jQuery/JavaScript 为您整理它们！:)

至于工具提示，您始终可以根据悬停事件中给您的参数定位它，传递给此事件的参数应包含鼠标的 x 和 y 坐标，然后您可以使用它们来定位工具提示。有关我使用的悬停事件的更多信息，请参阅 jQuery 文档：[http ://api.jquery.com/hover/](http://api.jquery.com/hover/)

希望这可以帮助！

如果您需要更多说明，请告诉我！

# ios - Core-Plot - 是否可以使用具有不同填充颜色的绘图符号的折线图

> ID：11083854
> 
> 赞同：0
> 
> 时间：2012-06-18T13:23:19.743
> 
> 标签：ios, core-plot

我有不同的过滤器用于绘制图表。根据过滤器选择，绘图符号的填充颜色会发生变化。在过滤器列表中，一个选项是“全部”，当用户选择全部时，我想在一行中显示所有数据，但也想保留填充颜色。

为了让大家更容易理解，

假设我有三个按钮， - 1）男性 2）女性 3）全部

当用户选择男性时，我正在用白色填充颜色绘制所有男性数据的图表，

当用户选择女性时，我正在用粉红色填充颜色绘制所有女性数据的图表，

当用户选择全部时，我想在一行上绘制所有男性和女性，并且还希望男性保持白色，女性保持粉红色。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T23:39:58.410

使用`-symbolForScatterPlot:recordIndex:`datasource 方法在每个索引处返回所需的绘图符号。`-reloadData`除了绘图数据之外，该方法还强制绘图重新加载符号。

# android - 更新数据库（SQLiteDatabase 问题）

> ID：11083861
> 
> 赞同：0
> 
> 时间：2012-06-18T13:23:47.363
> 
> 标签：android, database, sqlite

每个人。这是在 android教程[中使用 sqlite](http://www.codeproject.com/Articles/119293/Using-SQLite-Database-with-Android)的一段代码：

```
return db.update(employeeTable, cv, colID+"=?", 
new String []{String.valueOf(emp.getID())}); 
```

我不明白为什么在`colID+"=?"`'='之后留下'？

任何人都可以解释一下吗？

**谢谢大家！**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:26:09.623

这是参数化的语句，这意味着这`String.valueOf(emp.getID())`将被添加而不是`?`字符。`?`表示一个参数并`String[]`表示将添加到`where`子句的数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:26:39.553

这`?`是您的论点被替换到查询中的地方。在这种情况下，您的论点是`String.valueOf(emp.getID()`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T13:36:02.780

这是一个准备好的满足。在这种情况下，您可以将查询定义为模板并留下一些参数以动态填充。您用 表示参数`?`。在您的情况下，您表示`String.valueOf(emp.getID())`将替换`?`.

# javascript - 如何使用 jquery 构建数组并制作输入字段

> ID：11083862
> 
> 赞同：0
> 
> 时间：2012-06-18T13:23:49.897
> 
> 标签：javascript, jquery, html, arrays, forms

就像我在标题中所说的那样，我需要构建一个数组并更改表单输入字段中的值，代码是：

```
<div class="row-dp">
    <div class="cel-1">Obiectiv</div>
    <div class="cel-2" id="obiectiv">macarale</div>
    <div class="cel-3">&nbsp;</div>
</div>
<div class="row-dp">
    <div class="cel-1">Orasul selectat</div>
    <div class="cel-2" id="orasulselectat">Bucuresti</div>
    <div class="cel-3">&nbsp;</div>
</div> 
```

我需要从 " `<div class="cel-2"`" id 作为键和值作为值

一个例子

```
VAR['obiectiv'] = macarale;
VAR['orasulselectat'] = Bucuresti; 
```

从输入字段中的值转换，例如

```
<input name="obiectiv" value="macarale" type="text" /> 
```

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:29:34.130

```
$('.cel-2').each(function() {
  $('input[name='+this.id+']').val($(this).text());
}); 
```

如果您必须创建`input`元素，请使用以下命令：

```
$('.cel-2').each(function() {
  $('#yourFormNameHere').append($('<input/>').prop({'name':this.id,'type':'hidden'}).val($(this).text()));
}); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-18T13:26:38.727

```
 $('.row-dp').each(function(){
   if($(this).attr('id') && $(this).attr('id')!="")
    $('body').append("<input type='text' id="+$(this).attr('id')+" val="+$(this).text()+">");
 }); 
```

# c - fork() 后 execv() 的回声问题

> ID：11083866
> 
> 赞同：1
> 
> 时间：2012-06-18T13:24:05.310
> 
> 标签：c, linux, unix, fork

AFAICS，子进程从 fork() 上的父进程继承 stdout/stdin。这让我想知道为什么以下代码不起作用：

```
int main(int argc, char *argv[])
{
    char *earg[] = {"echo", "Hello", NULL};

    if(fork() == 0) {
        printf("running echo...\n");
        execv("echo", earg);
        printf("done!\n");
        exit(0);
    } else {
        sleep(2);
    }

    return 0;
} 
```

运行这个小程序时，两个 printf() 调用在控制台上显示得很好。但是对 echo 的调用不知何故丢失了！控制台上的输出只是：

```
running echo...
done! 
```

有人可以向我解释为什么控制台上没有显示回显输出吗？我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T13:27:17.613

自从您`printf("done")`被调用以来，您`execv()`显然失败了。所有`exec()`函数仅在发生错误时才返回。评估`errno`应该可以帮助您找出失败的原因。

尝试使用整个路径`echo`：

```
 execv("/bin/echo", earg); 
```

编辑：如果您想`done`在孩子退出后立即打印，您应该`wait(NULL)`向您的父母添加电话。[`wait()`](http://linux.die.net/man/2/wait)有关更多信息以及如何使用它的示例，请参见手册页。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T13:28:08.513

`execv`不会`echo`在 PATH 中搜索命令，因此它会失败，并且会打印出来`"done"`（如果`execv`成功则不会发生）。您必须提供完整的`execv`工作路径

您可能想`execvp`改用。它将`echo`在 PATH 变量中搜索命令。

# mysql - 在 INNER JOIN 两个表上需要帮助

> ID：11083867
> 
> 赞同：0
> 
> 时间：2012-06-18T13:24:13.880
> 
> 标签：mysql

我有 2 张桌子：

表 A：Clientes_consultas；领域：

```
id_consulta     | int(11)     
meiocomunicacao | int      
caminhoresposta | int 
```

…</p>

表 B: 小通讯；
领域：

```
id_meiocomunicacao | int(11)
descricao          | varchar(20) 
```

在表 Clientes_consultas（meiocomunicacao 和 caminhoresposta）中是代表 meiocomunicacao 表中的 id_meiocomunicacao 的数字。

我有这个查询：

```
SELECT clientes_consultas.*, meioscomunicacao.descricao
FROM clientes_consultas
INNER JOIN meioscomunicacao ON meioscomunicacao.id_meiocomunicacao=clientes_consultas.caminhoresposta
WHERE id_consulta=14 
```

如果我将其更改为（这就是我想要的）：

```
SELECT clientes_consultas.*, meioscomunicacao.descricao
FROM clientes_consultas
INNER JOIN meioscomunicacao ON meioscomunicacao.id_meiocomunicacao=clientes_consultas.caminhoresposta
INNER JOIN meioscomunicacao ON meioscomunicacao.id_meiocomunicacao=clientes_consultas.meiocomunicacao
WHERE id_consulta=14 
```

这会给我错误： `Not unique table/alias: 'meioscomunicacao'`

我该如何解决这个问题？任何帮助表示赞赏。

提前致谢， 马里奥

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T13:26:55.613

`Not unique table/alias`错误消息告诉您该怎么做：为每个“meioscomunicacao”引用创建一个不同的别名，如下所示：

```
SELECT clientes_consultas.*, mc1.descricao
FROM clientes_consultas
INNER JOIN meioscomunicacao mc1 ON mc1.id_meiocomunicacao=clientes_consultas.caminhoresposta
INNER JOIN meioscomunicacao mc2 ON mc2.id_meiocomunicacao=clientes_consultas.meiocomunicacao
WHERE id_consulta=14 
```

请注意，您需要在结果中指定是否需要 mc1.descricao 或 mc2.descicao（即，您希望从哪个 JOIN 中获得“descricao”字段）。

# java - 是否有类似于 Callable 但带有参数的接口？

> ID：11083868
> 
> 赞同：60
> 
> 时间：2012-06-18T13:24:14.880
> 
> 标签：java, interface

Java中是否有类似于接口的`Callable`接口，可以接受其调用方法的参数？

像这样：

```
public interface MyCallable<V> {
  V call(String s) throws Exception;
} 
```

如果已经存在可以使用的东西，我宁愿避免创建新类型。或者有没有更好的策略让多个客户端实现并插入一个可调用的例程？

从这里复制[http://www.programmingforums.org/thread27905.html](http://www.programmingforums.org/thread27905.html)

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2012-06-18T13:27:44.427

[从 Java 8 开始，包中](http://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html)[有`java.util.function`](http://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html)一整套类似函数的接口。您要特别要求的是 simple [`Function`](http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html)。

在 Java 8 之前，没有通用的内置接口，但一些库提供了它。

例如[Guava](https://guava-libraries.googlecode.com/)具有与方法[的`Function<F,T>`接口](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Function.html)`T apply(F input)`。它还在几个地方[大量使用了该接口](https://github.com/google/guava/wiki/FunctionalExplained#functions-and-predicates)。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-08-31T08:32:18.787

起初它认为这是通过接口完成的，但后来我发现它应该使用抽象类来完成。

我已经这样解决了：

* * *

编辑：最近我只是用这个：

```
 public static abstract class callback1<T>{
         public abstract  void run(T value);
    }

    public static abstract class callback2<T,J>{
         public abstract  void run(T value,J value2);
    }

    public static abstract class callback3<T,J,Z>{
         public abstract  void run(T value,J value2,Z value3);
    }

    public static abstract class callbackret1<R,T>{
         public abstract  R run(T value);
    }

    public static abstract class callbackret2<R,T,J>{
         public abstract  R run(T value,J value2);
    }

    public static abstract class callbackret3<R,T,J,Z>{
         public abstract  R run(T value,J value2,Z value3);
    } 
```

* * *

**回调.java**

```
public abstract class CallBack<TRet,TArg> {
    public abstract TRet call(TArg val);
} 
```

**定义方法：**

```
class Sample2 
{
    CallBack<Void,String> cb;
    void callcb(CallBack<Void,String> CB)
    {
     cb=CB; //save the callback
     cb.call("yes!"); // call the callback
    }
} 
```

**使用方法：**

```
sample2.callcb(new CallBack<Void,String>(){
        @Override
        public Void call(String val) {
            // TODO Auto-generated method stub
            return null;
        }
    }); 
```

两个参数示例：**CallBack2.java**

```
public abstract class CallBack2<TRet,TArg1,TArg2> {
    public abstract TRet call(TArg1 val1,TArg2 val2);
} 
```

请注意，当您使用 Void 返回类型时，您必须使用 return null；所以这里有一个变体来解决这个问题，因为通常回调不返回任何值。

void 作为返回类型：**SimpleCallBack.java**

```
public abstract class SimpleCallBack<TArg> {
    public abstract void call(TArg val);
} 
```

void 作为返回类型 2 参数：**SimpleCallBack2.java**

```
public abstract class SimpleCallBack<TArg1,TArg2> {
    public abstract void call(TArg1 val1,TArg2 val2);
} 
```

接口对此没有用。

接口允许多个类型匹配相同的类型。通过共享一组预定义的功能。

抽象类允许稍后完成其中的空函数。在扩展或实例化。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-12-15T13:10:30.447

我最近也有同样的要求。正如其他人所解释的那样，许多库确实提供了“功能”方法，但这些方法不会引发异常。

一些项目如何提供解决方案的一个示例是*RxJava*库，它们使用接口，例如*ActionX*，其中“X”为 0 ... N，即*调用*方法的参数数量。他们甚至有一个可变参数接口*ActionN*。

我目前的方法是使用一个简单的通用接口：

```
public interface Invoke<T,V>  {     
    public T call(V data) throws Exception;     
//  public T call(V... data) throws Exception;    
} 
```

第二种方法在我的情况下更可取，但它在我的 IDE 中表现出可怕的“类型安全：通过可变参数数据造成的潜在堆污染”，这是另一个问题。

我正在研究的另一种方法是使用不抛出异常的现有接口，例如*java.util.concurrent.Callable ，并在我的实现中将异常包装在未经检查的异常中。*

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2018-03-23T14:59:21.263

从 Java 1.8 开始就有了一个`Supplier<T>`接口。它有一个`get()`方法，而`call()`不是声明任何抛出的异常。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-18T13:33:11.083

答案是模棱两可的。严格来说，就是“同Callable接口一样”，是没有的。

有类似的课程，根据您的需要，它们可能方便也可能不方便。其中之一是[SwingWorker](http://docs.oracle.com/javase/6/docs/api/javax/swing/SwingWorker.html)。但是，顾名思义，它是为在 Swing 框架中使用而设计的。它可以用于其他目的，但这将是一个糟糕的设计选择。

我最好的建议是使用扩展库（Jakarta-Commons、Guava 等）提供的扩展库，具体取决于您系统中已经使用的库。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-18T14:00:24.097

通常不需要参数，因为该方法在其构造函数中可以有任意数量的参数。

```
final int i = 5;
final String word = "hello";

Future<String> future = service.submit(new Callable<String>() {
    public String call() {
        return word + i;
    }
}); 
```

在此示例中`i`并`word`已使用，但您可以“传递”任意数量的参数。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-01-12T09:39:46.780

我只是有同样的问题。您可以包装任何方法以返回可调用对象，并执行它的返回值。IE

```
 main {    
    Callable<Integer> integerCallable = getIntegerCallable(400);
    Future<Integer> future = executor.submit(integerCallable);
}

private Callable<Integer> getIntegerCallable(int n) {
    return () -> {
            try {
                TimeUnit.SECONDS.sleep(n);
                return 123;
            } catch (InterruptedException e) {
                throw new IllegalStateException("task interrupted", e);
            }
        };
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-06-21T14:50:08.047

像这样定义一个接口：

```
interface MyFunction<I, O> {
    O call(I input);
} 
```

定义一个方法：

```
void getOrderData(final Function<JSONArray, Void> func){
    ...
    JSONArray json = getJSONArray();
    if(func!=null) func.call(json);           
} 
```

使用示例：

```
//call getOrderData somewhere in your code
getOrderData(new Function<JSONArray, Void>() {
        @Override
        public Void call(JSONArray input) {
            parseJSON(input);                
            return null;
        }
}); 
```

# javascript - 如何通过 IE 的 JavaScript 在输入框上键入内容

> ID：11083872
> 
> 赞同：1
> 
> 时间：2012-06-18T13:24:42.277
> 
> 标签：javascript, javascript-events

试图弄清楚如何在 IE8 和 9 的输入框中键入（通过未设置值的事件）。我查看了网络上的一些示例 - 但无法让它们中的任何一个工作。（我不想依赖其他库的 JQuery）

这是我到目前为止所拥有的：

```
<form>
  <input type="text" id="txtfld" /> 
  <input type="button" onclick="typeKey()" /> 
</form>
<script>

function typeKey(){
    var  txtField = document.getElementById('txtfld');
    var evt= document.createEventObject();
    evt.keyCode=68;
    txtField.fireEvent('onkeypress', evt);
}
</script> 
```

它不起作用，也不会出错。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T14:30:16.320

试试这个功能，`fire(document.getElementById('txtfld'),'keypress',68)`：

```
function fire(el,evttype,code) {
   if (document.createEvent) {
     var evt = document.createEvent('HTMLEvents');
     evt.initEvent( evttype, false, false);
     evt.charCode= evt.keyCode = code;
     el.dispatchEvent(evt);
   } else if (document.createEventObject) {
     var evt = document.createEventObject();
     evt.charCode= evt.keyCode = code;
     el.fireEvent('on' + evttype, evt);
   }
} 
```

[这是一个例子](http://jsfiddle.net/HfU6Q/4/)

祝你好运 ：）

# windows - 按下 R.Alt+键时如何防止激活 Ctrl+Alt+键绑定？

> ID：11083877
> 
> 赞同：3
> 
> 时间：2012-06-18T13:24:58.293
> 
> 标签：windows, eclipse, keyboard-shortcuts

我在 Windows 下使用 Eclipse 有一个非常烦人的问题。当我按下+时， `Ctrl`+ `Alt`+的键绑定`key`被激活。这使我查看了键绑定列表并删除了++的所有绑定，当它们不会阻止输入字符时，我会发现它们是可用的。`Right Alt``key``Ctrl``Alt``key`

我正在使用键盘映射，其中右控制是国家字符的切换键。`Right Alt`+ `e`= ę、`Right Alt`+ `O`= ó 等。Eclipse 似乎与这种键盘布局不兼容。

是否有可能关闭此行为并使 Eclipse 仅使用键绑定`Left Alt`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T14:50:01.983

不，eclipse 不区分哪个 CTRL 键用于执行键绑定。它正在侦听在 SWT 过滤器中使用修饰符（CTRL、ALT 等）按下的任何键。

如果不是操作系统使用 CTRL 并生成国家字符，那么 eclipse 键绑定可能会在您获得正确字符之前使用它。

# c# - 如何在极坐标 Mchart 上移动 Y 轴的原点？

> ID：11083881
> 
> 赞同：2
> 
> 时间：2012-06-18T13:25:10.887
> 
> 标签：c#, visual-studio-2010, mschart

我正在使用 mschart 制作极坐标图，我需要在图表中间制作这个“洞”。我的意思是，我需要 Y 轴的“0”不在中心。我在stackoverflow的某个地方看到了这个情节。这正是我需要的，我该怎么做？

![在此处输入图像描述](../Images/6d78883eee8be4e01db5eb5a0be5075c.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T09:56:51.977

为了创建一个看起来像提供的示例的雷达图

```
// disable grid a long X
chart1.ChartAreas[0].AxisX.MajorGrid.Enabled = false;
chart1.ChartAreas[0].AxisX.MajorTickMark.Enabled = false;

// set Y axis
chart1.ChartAreas[0].AxisY.Minimum = -20;  // creates the 'hole' by setting min Y
chart1.ChartAreas[0].AxisY.MajorGrid.IntervalOffset = 20; // so the major grid does not fill the 'hole'
chart1.ChartAreas[0].AxisY.MajorGrid.Interval = 5;
chart1.ChartAreas[0].AxisY.MajorGrid.LineDashStyle = ChartDashStyle.Dash; 
```

# c# - 从 ArrayList 中删除项目无法正常工作

> ID：11083884
> 
> 赞同：1
> 
> 时间：2012-06-18T13:25:18.390
> 
> 标签：c#, arraylist

我正在尝试从 ArrayList 中删除一个对象，这是代码

```
Read re = new Read(connectionString);
List<Student> arcurrentCuourseStudnets= re.currentCourseStudents(); //Reading the students in this course it is return ArrayList with the IDs of all students in this course
List<Student> arstuedents=new List<Student>();
foreach (object ob1 in arcurrentCuourseStudnets)
{
      arstuedents.Add(re.student(((currentCourseStudents)ob1).StudentID.ToString()));//return the student as object indicates its ID FirstName .... 
}

listBoxSS.Items.Clear();
Read search = new Read(connectionString);
List<Student> arr = search.students();//Read all the students in DB

foreach (object ob in arstuedents)
{
    arr.Remove(ob); //remove the Current Course Students from the List to prevent the duplicate's 
} 
```

`this arr.Remove()`即使我尝试执行以下操作也不起作用 arr[0].Equals(arstuedents[0]); 每次我查看 arr[0] 和 arstuedents[0] 的学生的值和 ID 时它都会给出 false 我发现它是一样的，但它给出了 false

```
foreach (object o in arr)
{
    listBoxSS.Items.Add((Student)o);
} 
```

有什么问题，为什么编译器不认为它是平等的？

//我做了以下事情

```
 public class Student : IEqualityComparer<Student>
{
     int student_id;
     string first_name;
     string last_name;
     string mother_name;
     string father_name;
     DateTime birth_date;
     string education_level;
     string address;
     string notes;
     int[] phones;
    public Student(string first_name, string last_name, string mother_name, string father_name, DateTime birth_date, string education_level, string address, string notes)
    {
        this.first_name = first_name;
        this.last_name = last_name;
        this.mother_name = mother_name;
        this.father_name = father_name;
        this.birth_date = birth_date;
        this.education_level = education_level;
        this.address = address;
        this.notes = notes;
    }
    public Student(int student_id, string first_name, string last_name, string mother_name, string father_name, DateTime birth_date, string education_level, string address, string notes)
    {
        this.first_name = first_name;
        this.last_name = last_name;
        this.mother_name = mother_name;
        this.father_name = father_name;
        this.birth_date = birth_date;
        this.education_level = education_level;
        this.address = address;
        this.notes = notes;
        this.student_id = student_id;
    }
    public int Student_id
    { get { return student_id; } }
    public string First_name
    { 
        get
        { return first_name; }
        set
        { first_name = value; }
    }
    public string Last_name
    { 
        get 
        { return last_name; }
        set
        { last_name = value; }
    }
    public string Mother_name
    { 
        get { return mother_name; }
        set
        { mother_name = value; }
    }
    public string Father_name
    { 
        get { return father_name; }
        set
        { mother_name = value; }
    }
    public DateTime Birth_date
    { 
        get { return birth_date; }
        set
        { birth_date = value; }
    }
    public string Education_level
    { 
        get { return education_level; }
        set
        { education_level = value; }
    }
    public string Address
    { 
        get { return address; }
        set
        { education_level = value; }
    }
    public string Notes
    { 
        get { return notes; }
        set
        { notes = value; }
    }
    public int[] Phones
    {
        get { return phones; }
        set { phones = value; }
    }
    public override string ToString()
    {
        if (phones != null && phones[0] != 0)
            return first_name.PadRight(30, ' ') + father_name.PadRight(30, ' ') + last_name.PadRight(30, ' ') + phones[0].ToString();
        else
            return first_name.PadRight(30, ' ') + father_name.PadRight(30, ' ') + last_name;
    }

    public bool Equals(Student x, Student y)
    {
        return (x.Student_id == y.Student_id);
    }

    public int GetHashCode(Student obj)
    {
        return obj.GetHashCode();
    }

} 
```

//你是这个意思吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:31:35.943

默认情况下，该`Remove`方法只会删除传入的确切实例。它不会删除恰好填充了相同值的相同类型的另一个实例。因此，除非`search.students`返回与 相同的对象实例，否则`re.currentCourseStudents`它永远不会找到匹配项并将其删除。

您需要根据某些唯一属性值搜索`arr`匹配项，然后将其删除，或者您需要覆盖该类型的 Equals 方法（无论该列表中的对象是什么类型）。我这样说是因为根据 MSDN，该`ArrayList.Remove`方法用于`Object.Equals`确定相等性：

[http://msdn.microsoft.com/en-us/library/system.collections.arraylist.remove.aspx](http://msdn.microsoft.com/en-us/library/system.collections.arraylist.remove.aspx)

例如，如果对象都是`Student`对象，则在您的`Student`类中，您需要重写该`Equals`方法，如下所示：

```
public override bool Equals(object obj)
{
    Student other = obj as Student;
    if (other != null)
        return (obj.Id == this.Id);
    else
        return base.Equals(obj);
} 
```

另外，如果我没有提到不鼓励使用 of 的事实，我会觉得我在某种程度上让你`ArrayList`失望了。如果列表仅包含`Student`对象，那么您应该使用`List<Student>`或其他一些特定于类型的集合（如果可能）。

但是，如果您的`Student`类继承自密封方法的基类`Equals`，例如`DependencyObject`，那么您将无法覆盖相等性检查，因此您必须使用不同类型的列表以不同方式检查相等性。如果您选择使用`List<Student>`列表类型，它的方法会使用以下`Remove`方法检查您的对象是否相等`IEquatable`：

```
public class Student : IEquatable<Student>
{
    public bool Equals(Student other)
    {
        return (Student_Id == other.Studend_Id);
    }
} 
```

# ruby-on-rails - 如何使用设计在 rails3 上实现“has_messages_generator”？

> ID：11083885
> 
> 赞同：0
> 
> 时间：2012-06-18T13:25:18.773
> 
> 标签：ruby-on-rails, devise

我已经创建了我想在其中添加“has_message_generator”的应用程序。已经安装了一个身份验证插件“Devise”，所以我按照下面的这些方向进行操作。

1.  将此行添加到我的 Gemfile 并进行捆绑安装 `gem "has_messages_generators"`

2.  做了这个命令行，似乎一切正常！ `rails g has_messages:install user`

但是`"uninitialized constant User::HasMessages"`当我访问根页面时它显示错误。所以我`"include HasMessages"`从 user.rb （在模型目录中）起飞，`"bundle exec rake db:migrate"` 似乎它成功创建了表。

然后我尝试访问根页面，它仍然显示`"undefined method`#"`的错误收件箱'

有人知道安装这个插件吗？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:32:34.360

You have to install [has_messages](https://github.com/ffmike/has_messages), too:

> … to use this you must include `devise` and `has_messages` in your Gemfile.

# jquery - 使用 data-ajax="true" 提交 jquery 移动表单

> ID：11083888
> 
> 赞同：1
> 
> 时间：2012-06-18T13:25:36.687
> 
> 标签：jquery, mobile

我目前正在尝试构建一个 jquery 移动应用程序。我有一个指向结果页面的表单，我附加了一个函数，该函数可以提取一些 json 并根据提交的表单计算一些数字。我的问题是，当显示结果页面时，它不会显示实际的计算结果，直到您刷新页面。

我对为什么会发生这种情况进行了一些研究，发现它归结为 JQM 通过 ajax 加载页面。当我将 data-ajax="false" 添加到表单时，结果页面工作正常但是我真的想使用 jqm 在结果页面上提供的过渡效果，因为它要么没有效果，但表格有效，要么效果和表格确实有效，肯定有办法做到这一点吗？

结果页面形式：

```
<form action="results.html" method="get" id="calculator" data-ajax="true" data-transition="flip"> 
```

然后在结束正文标记之前的结果页面上，我调用此脚本：

```
$('#resultsPage').live('pageinit', function(event) {
    getFigures();
});

function getFigures() {

    var propertyValue = getUrlVars()["propertyValue"];
    var quoteType = getUrlVars()["quoteType"];

    console.log(propertyValue);
    console.log(quoteType);

    $.getJSON(serviceURL + 'calculator.php?value=' + propertyValue, function(data) {

        figures = data.figures;
        $.each(figures, function(key, val) {

            //console.log(figure);
            //console.log('Key: ' + key + '  Val: ' + val);

            if (quoteType == 'buying') {

                if (key == 'total') {
                    $('#tfoot').append('<tr><th scope="row">' + key + ' </th><td><strong>&pound;' + val + '</strong></td></tr>');
                } else if (key != 'value') {
                    $('#tbody').append('<tr><th scope="row">' + key + ' </th><td>&pound;' + val + '</td></tr>');
                }

            } else {

                if (key == 'total') { // Total is wrong need to filter results from server for quoteType
                    $('#tfoot').append('<tr><th scope="row">' + key + ' </th><td><strong>&pound;' + val + '</strong></td></tr>');
                } else if (key != 'completion' && key != 'coal' && key != 'local' && key != 'landRegistry' && key != 'stampDuty') {
                    $('#tbody').append('<tr><th scope="row">' + key + ' </th><td>&pound;' + val + '</td></tr>');
                }

            }

        });

        $('#value').append('&pound;' + data.figures.value);

    });

    //$('#figureList').listview('refresh');

} 
```

有谁知道我如何使用过渡效果并且仍然有工作形式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:49:33.537

您可以在提交表单之前添加一个验证，您可以在其中保留您的逻辑，然后像通常那样使用 ajax 提交表单。

这是一个例子： [http ://shadym.blogspot.in/2011/03/client-side-form-validation-using.html](http://shadym.blogspot.in/2011/03/client-side-form-validation-using.html)

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-06T21:47:37.117

如果要使用 jquery 过渡效果，则只能使用**data-transition**属性

前任。数据过渡=“淡入淡出”

# android - ClassCastException 导致我的程序崩溃

> ID：11083891
> 
> 赞同：-1
> 
> 时间：2012-06-18T13:25:43.703
> 
> 标签：android, singleton

我有两个活动和一个应用程序类，每当我在其中一个活动中调用我的应用程序类时，程序就会崩溃。以下是两个活动的 onCreate() 方法：

主菜单：

```
protected BluetoothApplication myBt;

private TextView bluetoothText;
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);

    customTitleSupported = requestWindowFeature( Window.FEATURE_CUSTOM_TITLE );
    setContentView(R.layout.main);

    myBt = ((BluetoothApplication)getApplicationContext());

    bluetoothText = new TextView(this);

    customTitleBar( getText( R.string.app_name).toString(), bluetoothText.getText().toString() );
} 
```

设备列表：

```
protected BluetoothApplication myBt;

protected void onCreate( Bundle savedInstanceState ) {
    super.onCreate( savedInstanceState );

    // Setup the window
    //requestWindowFeature( Window.FEATURE_INDETERMINATE_PROGRESS );
    setContentView( R.layout.device_list );

    myBt = (BluetoothApplication)getApplicationContext();

    // Set result CANCELED in case the use backs out
    //setResult( Activity.RESULT_CANCELED );

    // Initialize the button to perform device discovery
    Button scanButton = (Button) findViewById( R.id.button_scan );
    scanButton.setOnClickListener( new OnClickListener() {
        public void onClick( View v ) {
            doDiscovery();
            v.setVisibility( View.GONE );
        }
    });

    // Initialize array adapters. One for already paired devices and one
    // for newly discovered devices
    mPairedDevicesArrayAdapter = new ArrayAdapter<String>( this, R.layout.device_name );
    mNewDevicesArrayAdapter = new ArrayAdapter<String>( this, R.layout.device_name );

    // Find and set up the ListView for paired devices
    ListView pairedListView = (ListView) findViewById( R.id.paired_devices );
    pairedListView.setAdapter( mPairedDevicesArrayAdapter );
    pairedListView.setOnItemClickListener( mDeviceClickListener );

    // Find and set up the ListView for newly discovered devices
    ListView newDevicesListView = (ListView) findViewById( R.id.new_devices );
    newDevicesListView.setAdapter( mNewDevicesArrayAdapter );

    // Register for broadcasts when a device is discovered
    IntentFilter filter = new IntentFilter( BluetoothDevice.ACTION_FOUND );
    this.registerReceiver( mReceiver, filter );

    // Register for broadcasts when discovery has finished
    filter = new IntentFilter( BluetoothAdapter.ACTION_DISCOVERY_FINISHED );
    this.registerReceiver( mReceiver, filter );

    // Get a set of currently paired devices
    Set<BluetoothDevice> pairedDevices = myBt.getMyBtAdapter().getBondedDevices();

    if( pairedDevices.size() > 0 ) {
        findViewById( R.id.title_paired_devices ).setVisibility( View.VISIBLE );
        for ( BluetoothDevice device : pairedDevices ) {
            mPairedDevicesArrayAdapter.add( device.getName() + "\n" + device.getAddress() );
        }
    } else {
        String noDevices = getResources().getText( R.string.none_paired ).toString();
        mPairedDevicesArrayAdapter.add( noDevices );
    }

} 
```

当我删除涉及 BluetoothApplication 的行时，这两个活动都可以正常加载。我尝试将 getApplicationContext() 更改为 getApplication()。

蓝牙应用：

```
public class BluetoothApplication extends Application {
// Debugging
private static final String TAG = "BluetoothApplication";
private static final boolean D = true;

// Member fields
private BluetoothAdapter myAdapter;
private Handler myHandler;
private BluetoothDevice myBtDevice;
private BluetoothSocket mySocket;
private ArrayAdapter<String> mPairedDevicesArrayAdapter;
private ArrayAdapter<String> mNewDevicesArrayAdapter;
private ConnectThread myConnectThread;
private ConnectedThread myConnectedThread;
private int myState;

// Constants that indicate the current connection state
public static final int STATE_NONE = 0;
public static final int STATE_LISTEN = 1;
public static final int STATE_CONNECTING = 2;
public static final int STATE_CONNECTED = 3;

//In SDK15 (4.0.3) this method is now public as
//Bluetooth.fetchUuisWithSdp() and BluetoothDevice.getUuids()
public ParcelUuid[] servicesFromDevice(BluetoothDevice device) {
    try {
        Class cl = Class.forName("android.bluetooth.BluetoothDevice");
        Class[] par = {};
        Method method = cl.getMethod("getUuids", par);
        Object[] args = {};
        ParcelUuid[] retval = (ParcelUuid[]) method.invoke(device, args);
        return retval;
    } catch (Exception e) {
        e.printStackTrace();
        return null;
    }
}

public void onCreate( ) {
    myAdapter = BluetoothAdapter.getDefaultAdapter();
    myAdapter.enable();

}

public BluetoothAdapter getMyBtAdapter() {
    return myAdapter;
}

/**
 * Set the connection state of the device. 
 * @param state
 */
public synchronized void setState( int state ) {
    if( D ) Log.d(TAG, " setState() " + myState + " -> " + state );
    myState = state;

    myHandler.obtainMessage( MainMenu.MESSAGE_STATE_CHANGE, state, -1 ).sendToTarget();
}

/**
 * Get the connection state.
 */
public synchronized int getState() {
    return myState;
}

/**
 * Indicate that the connection attempt failed and notify the UI Activity.
 */
private void connectionFailed() {
    setState( STATE_NONE );

    // Send failure message back to the Activity
    Message msg = myHandler.obtainMessage( MainMenu.MESSAGE_TOAST );
    Bundle bundle = new Bundle();
    bundle.putString( " ", "unable to connect to device" );
    msg.setData( bundle );
    myHandler.sendMessage( msg );
}

/**
 * Indicate that the connection was lost and notify the UI Activity.
 */
private void connectionLost() {
    setState( STATE_NONE );

    Message msg = myHandler.obtainMessage( MainMenu.MESSAGE_TOAST );
    Bundle bundle = new Bundle();
    bundle.putString( "ASdasd", "Device connection was lost" );
    msg.setData( bundle );
    myHandler.sendMessage( msg );
}

public synchronized void start() {
    if (D) Log.d(TAG,  "start" );

    if( myConnectThread != null ) {
        myConnectThread.cancel();
        myConnectThread = null;
    }

    if( myConnectedThread != null ) {
        myConnectedThread.cancel();
        myConnectedThread = null;
    }

    setState( STATE_NONE );
}

public synchronized void connect( BluetoothDevice device ) {
    if( D ) Log.d(TAG, "connect to: " + device );

    if( myState == STATE_CONNECTING ) {
        if( myConnectThread != null ) { myConnectThread.cancel(); myConnectThread = null;}
    }

    // Cancel any thread currently running a connection
    if( myConnectedThread != null ) {myConnectedThread.cancel(); myConnectedThread = null;}

    // Start the thread to connect with the given device
    myConnectThread = new ConnectThread( device );
    myConnectThread.start();
    setState( STATE_CONNECTING );
}

/**
 * Start the ConnectedThread to begin managin a Bluetooth connection
 */
public synchronized void connected( BluetoothSocket socket, BluetoothDevice device ) {
    if( D ) Log.d(TAG, "connected" );

    // Cancel the thread that completed the connection
    if( myConnectThread != null ) {
        myConnectThread.cancel();
        myConnectThread = null;
    }

    // Cancel any thread currently running a connection
    if( myConnectedThread != null ) {
        myConnectedThread.cancel();
        myConnectedThread = null;
    }

    // Start the thread to manage the connection and perform transmissions
    myConnectedThread = new ConnectedThread( socket );
    myConnectedThread.start();

    // Send the name of the connected device back to the UI Activity
    Message msg = myHandler.obtainMessage( MainMenu.MESSAGE_DEVICE_NAME );
    Bundle bundle = new Bundle();
    bundle.putString( MainMenu.DEVICE_NAME, device.getName() );
    msg.setData( bundle );
    myHandler.sendMessage( msg );

    setState( STATE_CONNECTED );
}

/**
 * Stop ALL threads
 */

public synchronized void stop() {
    if(D) Log.d( TAG, "stop" );

    if( myConnectThread != null ) {
        myConnectThread.cancel();
        myConnectThread = null;
    }

    if( myConnectedThread != null ) {
        myConnectedThread.cancel();
        myConnectedThread = null;
    }

    setState( STATE_NONE );
}

/**
 * Write to the ConnectedThread in an unsynchronized manner
 */
public void write( byte[] out ) {
    ConnectedThread r;
    synchronized( this ) {
        if( myState != STATE_CONNECTED ) return;
        r = myConnectedThread;
    }
    r.write( out );
}

public class ConnectThread extends Thread {
    private final BluetoothSocket mmSocket;
    private final BluetoothDevice mmDevice;

    public ConnectThread( BluetoothDevice device ) {
        mmDevice = device;
        BluetoothSocket tmp = null;

        ParcelUuid[] uuids = servicesFromDevice( myBtDevice );

        try {
            tmp = device.createRfcommSocketToServiceRecord( uuids[0].getUuid() );
        } catch (IOException e ) {
            Log.e( TAG, "create() failed", e );
        }
        mmSocket = tmp;
    }

    public void run() {
        Log.i( TAG, "BEGIN mConnectThread" );
        setName( "ConnectThread" );

        // Always cancel discovery because it will slow down a connection
        myAdapter.cancelDiscovery();

        try {
            mmSocket.connect();
        } catch ( IOException e ) {
            connectionFailed();
            try {
                mmSocket.close();
            } catch ( IOException e2 ) {
                Log.e( TAG, "Unable to close() socket during connection failure", e2 );
            }
            BluetoothApplication.this.start();
            return;
        }

        synchronized ( BluetoothApplication.this ) {
            myConnectThread = null;
        }

        connected( mmSocket, mmDevice );
    }

    public void cancel() {
        try { 
            mmSocket.close();
        } catch (IOException e ) {
            Log.e( TAG, "close() of connect socket failed", e );
        }
    }
}

/**
 * This thread runs during a connection with a remote device.
 * It handles all incoming and outgoing transmissions.
 */
public class ConnectedThread extends Thread {
    private final BluetoothSocket mmSocket;
    private final InputStream mmInStream;
    private final OutputStream mmOutStream;

    public ConnectedThread( BluetoothSocket socket ) {
        Log.d( TAG, "create ConnectedThread" );
        mmSocket = socket;
        InputStream tmpIn = null;
        OutputStream tmpOut = null;

        // Get the BluetoothSocket input and output streams
        try {
            tmpIn = socket.getInputStream();
            tmpOut = socket.getOutputStream();
        } catch ( IOException e ) {
            Log.e(TAG,  "temp sockets not created", e );
        }

        mmInStream = tmpIn;
        mmOutStream = tmpOut;
    }

    public void run() {
        Log.i(TAG, "BEGIN mConnectedThread" );
        byte[] buffer = new byte[1024];
        int bytes;

        while( true ){
            try {
                bytes = mmInStream.read( buffer );
                myHandler.obtainMessage( MainMenu.MESSAGE_READ, bytes, -1, buffer ).sendToTarget();
            } catch (IOException e ) {
                Log.e( TAG, "disconnected", e );
                connectionLost();
                break;
            }
        }
    }

    /**
     * Write to connected OutStream.
     * 
     */
    public void write( byte[] buffer ) {
        try {
            mmOutStream.write( buffer );
            myHandler.obtainMessage( MainMenu.MESSAGE_WRITE, buffer.length, -1, buffer ).sendToTarget();
        } catch ( IOException e ) {
                Log.e( TAG, "Exception during write", e );
        }   
    }

    public void cancel() {
        try {
            mmSocket.close();
        } catch (IOException e ) {
            Log.e( TAG, "close() of connect socket failed", e );
        }

    }
}
} 
```

我还认为我将 Application 类输入到 Manifest 文件中的方式可能有问题：

修改清单：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="my.eti.commander"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk android:minSdkVersion="10" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" 
    android:name = ".BluetoothApplication" >
    <activity
        android:name=".MainMenu"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity android:name=".DeviceList"
              android:theme="@android:style/Theme.Dialog"
              android:label="@string/devices">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
        </intent-filter>
    </activity>
</application>

</manifest> 
```

这是 LogCat：

```
06-18 09:09:26.625: I/Process(2097): Sending signal. PID: 2097 SIG: 9
06-18 09:17:32.241: D/AndroidRuntime(2304): Shutting down VM
06-18 09:17:32.241: W/dalvikvm(2304): threadid=1: thread exiting with uncaught exception (group=0x40015560)
06-18 09:17:32.241: E/AndroidRuntime(2304): FATAL EXCEPTION: main
06-18 09:17:32.241: E/AndroidRuntime(2304): java.lang.RuntimeException: Unable to start activity ComponentInfo{my.eti.commander/my.eti.commander.MainMenu}: java.lang.ClassCastException: android.app.Application
06-18 09:17:32.241: E/AndroidRuntime(2304):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
06-18 09:17:32.241: E/AndroidRuntime(2304):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
06-18 09:17:32.241: E/AndroidRuntime(2304):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)
06-18 09:17:32.241: E/AndroidRuntime(2304):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
06-18 09:17:32.241: E/AndroidRuntime(2304):     at android.os.Handler.dispatchMessage(Handler.java:99)
06-18 09:17:32.241: E/AndroidRuntime(2304):     at android.os.Looper.loop(Looper.java:130)
06-18 09:17:32.241: E/AndroidRuntime(2304):     at android.app.ActivityThread.main(ActivityThread.java:3683)
06-18 09:17:32.241: E/AndroidRuntime(2304):     at java.lang.reflect.Method.invokeNative(Native Method)
06-18 09:17:32.241: E/AndroidRuntime(2304):     at java.lang.reflect.Method.invoke(Method.java:507)
06-18 09:17:32.241: E/AndroidRuntime(2304):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
06-18 09:17:32.241: E/AndroidRuntime(2304):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
06-18 09:17:32.241: E/AndroidRuntime(2304):     at dalvik.system.NativeStart.main(Native Method)
06-18 09:17:32.241: E/AndroidRuntime(2304): Caused by: java.lang.ClassCastException: android.app.Application
06-18 09:17:32.241: E/AndroidRuntime(2304):     at my.eti.commander.MainMenu.onCreate(MainMenu.java:47)
06-18 09:17:32.241: E/AndroidRuntime(2304):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
06-18 09:17:32.241: E/AndroidRuntime(2304):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
06-18 09:17:32.241: E/AndroidRuntime(2304):     ... 11 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:32:47.137

问题可能是，您的活动是在不同的应用程序中声明的，而不是您的蓝牙应用程序。现在的方式，活动的应用程序没有声明一个隐式类，所以使用默认的应用程序类。然后，您尝试在您的活动中将其转换为 BluetoothApplication，但事实并非如此。

尝试删除清单中的第二个应用程序标记，并将 android:name="BluetoothApplication" 添加到第一个应用程序标记。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T13:32:56.130

```
<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" > 
```

你应该在这里添加

```
android:name=".BluetoothApplication" 
```

让操作系统知道您有自己的应用程序类。另外，删除此块：

```
<application
     android:icon="@drawable/ic_launcher" 
     android:label="@string/app_name" 
     android:name="BluetoothApplication">
</application> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T13:33:55.740

您忘记在清单文件中提供应用程序名称。您的清单文件中还有两个应用程序标记，（删除第二个）

```
<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" 
    android:name=".BluetoothApplication"
> 
```

并删除最后一个应用程序节点，

```
<application
     android:icon="@drawable/ic_launcher" 
     android:label="@string/app_name" 
     android:name="BluetoothApplication">
</application> 
```

# php - php : 如何写 $item$i

> ID：11083892
> 
> 赞同：-1
> 
> 时间：2012-06-18T13:25:46.420
> 
> 标签：php

如何正确写这个？

```
for($i=2;$i<5;$i++)
{
   $items{$i} = $doc{$i}->getElementsByTagName('url'); 
} 
```

出现错误：

> 致命错误：在非对象上调用成员函数 getElementsByTagName()

谢谢再见

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:27:10.677

尝试 ：

```
$ndoc = 'doc'. $i;
$items[$i] = $$ndoc->getElementsByTagName('url'); 
```

或者：

```
$ndoc = 'doc'. $i;
$items[$i] = ${$ndoc}->getElementsByTagName('url'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T14:17:12.923

这个测试对我有用：-

```
$html1 = "<html><head><title>Test</title></head><body><p>Doc1 P1</p><p>Doc1 P2</p></body></html>";
$html2 = "<html><head><title>Test</title></head><body><p>Doc2 P1</p><p>Doc2 P2</p></body></html>";

$doc1 = new DOMDocument();
$doc1->loadHTML($html1);
$doc2 = new DOMDocument();
$doc2->loadHTML($html2);

for($i=1;$i<3;$i++){
    var_dump(${'doc'.$i}->getElementsByTagName('p'));
} 
```

因此，您的代码应如下所示：-

```
for($i=2;$i<5;$i++)
{
   ${'items'.$i} = ${'doc'.$i}->getElementsByTagName('url'); 
} 
```

除非你的意思是 $items 是一个数组，在这种情况下它应该是这样的：-

```
for($i=2;$i<5;$i++)
{
   $items[] = ${'doc'.$i}->getElementsByTagName('url'); 
} 
```

# sql - 从设施列表中获取子数据

> ID：11083900
> 
> 赞同：2
> 
> 时间：2012-06-18T13:26:20.307
> 
> 标签：sql, sql-server-2008

我正在尝试编写一个查询，如果可能的话希望得到一些帮助。提前致谢。

我有一个从公共来源获得的设施数据表（约 10 万行）。该数据包含几条我认为是同一个地方的记录（相同的名称、城市、州），它们只是有不同的套房号。另一个有趣的代码是我有一个数据选择计数器，只要有人选择其中一个设施，我就会增加它。这样，我可以使用选择计数和其他一些权重计算来使结果在列表中显示得更高。

我要做的是编写一个查询，当有人输入搜索查询时，它将只显示设施的一条记录，即选择计数最高的一条，并省略其余记录。

注意：我不想对数据进行任何预处理，因为它将每月重新加载。

方案： ID 名称 地址 1 地址 2 城市 国家 邮编 电话 选择计数

示例搜索：“女性”

```
ID  Name                        City        State   Selection Count
1   Brigham & Women's Hospital  Boston      MA      22
2   Brigham & Women's Hospital  Cambridge   MA      0
3   Brigham & Women's Hospital  Boston      MA      5
4   Brigham & Women's Hospital  Boston      MA      1
5   Brigham & Women's Hospital  Orlando     FL      3
6   Woman's Hospital of Detroit Detroit     MI      100
7   Brigham & Women's Hospital  Boston      MA      0
8   Woman's Hospital of Detroit Detroit     MI      55 
```

我想要的是一个包含 1、2、5、6 的结果集

1,3,4,7 相同，因此带回顶部选择计数。6 和 8 相同。

我确信这里的某个地方有一个having 和一个top 子句，但我无法让它做我想做的事。

想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:37:55.823

怎么样

```
select id, name, city, state, selcount from t 
where exists
(
  select 1 from
  (select name, city, state, max(selcount) selcount
     from t 
    group by name, city, state) s
  where s.name = t.name and s.city = t.city and s.state = t.state and s.selcount = t.selcount
) 
```

我为此构建了一个[SQL Fiddle](http://sqlfiddle.com/#!3/c6b4c/6)来展示一个工作示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:30:52.737

```
WITH cteRowNum AS (
    SELECT ID, Name, City, State, [Selection Count],
           ROW_NUMBER() OVER(PARTITION BY Name, City, State ORDER BY [Selection Count] DESC) AS RowNum
        FROM YourTable
)
SELECT ID, Name, City, State, [Selection Count]
    FROM cteRowNum
    WHERE RowNum = 1; 
```

# html - 如何使其在页面加载时不运行 ajax，而仅在推送表单提交时运行？

> ID：11083916
> 
> 赞同：0
> 
> 时间：2012-06-18T13:27:20.977
> 
> 标签：html, ajax, forms

我有一个表单，我希望管理员填写，然后单击提交并运行 ajax。然而，目前这可行，它也会在页面加载后立即运行，这是我不希望发生的事情。代码如下：

```
<script src ="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">        </script>
<script src ="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"></script>
<style type="text/css">

</style>
<script type="text/javascript">
$(document).ready(function(){
  $("form").submit(function() {

$.ajax({
  type: "POST",
  url: "ajaxtest.php",
  async:false,
  data: { product_id: "1" }
}).done(function( msg ) {
  alert( "Data Saved: " + msg );
});

});
});
</script>
</head>

<body>

<form id="frmAJAX" action="" method="POST" >
<input type="hidden" name="product_id" value="<?php echo $product_id; ?>"/>
<p><strong>ID:</strong> <?php echo $product_id; ?></p>
<label name="product_sku" type="text">Item SKU</label>
<input type="text"  value="<?=$product_sku?>" name="product_sku"/><br />
<label name="product_name" type="text">Item</label>
<input type="text" value="<?=$product_name?>"  name="product_name"/><br />

<input type="submit" name="submit" value="Submit">
</form>

<div id="results"></div>
</body>
</html> 
```

我想做的是在页面加载时阻止 ajax 运行，但在使用提交按钮时让它运行。有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:36:44.553

您可以尝试将提交按钮更改为 type="button"，然后将表单提交功能更改为该按钮的单击事件。表单提交逻辑中的这种更改可能有助于解决问题或发现问题所在。例子：

```
$('#[buttonid]').click(function(){
    //put ajax function here
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:38:18.570

您可能需要`return false`在 AJAX 调用结束时。我个人也想尝试@TheAmazingJason 的方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:43:30.550

您可以尝试通过提供 id 来选择表单，而不是像这样的标签

```
$("#frmAJAX").submit(function() { 
```

# python - 使用 python 的 libsvm 支持具有高维输出的向量回归

> ID：11083921
> 
> 赞同：3
> 
> 时间：2012-06-18T13:27:32.410
> 
> 标签：python, machine-learning, svm, regression, libsvm

我想问一下是否有人对如何使用libsvm的python绑定在具有高维输出（多个）的python中进行支持向量回归有想法或示例？我检查了示例，它们都假设输出是一维的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-23T20:21:46.640

libsvm 可能不是完成这项任务的最佳工具。

您描述的问题称为多元回归，通常对于回归问题，SVM 不一定是最佳选择。

You could try something like group lasso (http://www.di.ens.fr/~fbach/grouplasso/index.htm - matlab) or sparse group lasso (http://spams-devel.gforge.inria.fr/ - seems to have a python interface), which solve the multivariate regression problem with different types of regularization.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-19T14:10:45.013

支持向量机作为一个数学框架是根据单个预测变量制定的。因此，大多数实现它们的库都会将此反映为在其 API 中使用单个目标变量。

您可以做的是为数据中的每个目标维度训练一个 SVM 模型。

*   从好的方面来说，您可以在 // 集群上训练它们，因为每个模型都是相互独立的

*   不利的一面是，子模型将不共享任何内容，也不会受益于它们在输入数据结构中单独发现的内容，并且可能需要大量内存来存储模型，因为它们没有共享的中间表示

可以在多任务学习设置中设计 SVM 的变体，以学习一些常见的基于内核的中间表示，适合重用以预测多维目标，但这在 libsvm AFAIK 中没有实现。如果您想了解更多信息，请在Google 上进行[多任务学习 SVM 。](https://www.google.com/search?q=multi+task+learning+svm)

或者，多层感知器（一种前馈神经网络）可以自然地处理多维结果，因此应该更好地共享跨目标重用的数据的中间表示，特别是如果它们与第一层预置足够深- 使用自动编码器目标函数以无监督方式训练。

您可能想看看[http://deeplearning.net/tutorial/](http://deeplearning.net/tutorial/)以获得对各种神经网络架构和实用工具和示例的很好的介绍，以有效地实现它们。

# dsl - 软件重用中的领域特定语言

> ID：11083926
> 
> 赞同：2
> 
> 时间：2012-06-18T13:27:49.140
> 
> 标签：dsl, code-reuse

我想问一下在软件重用研究中使用领域特定语言与软件库的优势。

我读过一些论文，指出在软件重用领域使用 DSL 比使用软件库更好，但没有提及很多原因。

我读到的一个原因是 DSL 从编译器获得直接支持，而软件库没有，我也无法理解这个问题。

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-26T08:52:44.547

您应该阅读 James Neighbor[关于 Draco 的论文，](http://www.cs.iastate.edu/~cs309/references/Neighbors_Draco.pdf)以对“代码”（生成知识）重用和 DSL 有一个大开眼界的看法。

Jim 是*发明*“领域分析”一词的人。

基本的教训是构造知识的重用比代码库的重用更强大，但对领域专家来说更容易使用。

我？我只是用这些东西。

# c - 轻量级 IP：缓冲区未释放

> ID：11083931
> 
> 赞同：8
> 
> 时间：2012-06-18T13:28:03.707
> 
> 标签：c, lwip

我正在使用一个名为[lwip](http://savannah.nongnu.org/projects/lwip)的 TCP/IP 堆栈。我在下面实现了一个发送数据包的函数，灵感来自一个类似的接收数据包的回调函数。

每次收到数据包时，我都会使用该`pbuf_alloc`函数创建一个缓冲区。然后，我使用`udp_sendto`. 最后，我使用`pbuf_free`. （见下面的代码。）

由于某种原因，`pbuf_free`没有释放缓冲区。`n`（我在数据包之后出现缓冲区溢出，`n`池大小在哪里。）[lwip wiki](http://lwip.wikia.com/wiki/Writing_a_device_driver)警告说：

> 网络驱动程序也可能不会假定 pbuf 内存在调用 pbuf_free 时实际上已被释放。

如何强制`pbuf_free`释放缓冲区？如何避免缓冲区溢出？

（下面是我的实现。）

```
static err_t IAP_tftp_send_data_packet(struct udp_pcb *upcb, struct ip_addr *to, int to_port, int block)
{
  err_t err;
  struct pbuf *pkt_buf;
  char packet[TFTP_DATA_PKT_LEN_MAX];
  int bytesRead;
  int bytesToSend;

  /* Specify that we are sending data. */
  IAP_tftp_set_opcode(packet, TFTP_DATA); 

  /* Specify the block number that we are sending. */
  IAP_tftp_set_block(packet, block);

  bytesRead = IAP_tftp_set_data(packet, block);

  if(bytesRead != 0) {
    bytesToSend = TFTP_DATA_PKT_LEN_MAX - (512 - bytesRead + 1);
  } else {
    bytesToSend = TFTP_DATA_PKT_LEN_MAX - 512;
  }

  pkt_buf = pbuf_alloc(PBUF_TRANSPORT, bytesToSend, PBUF_POOL);

  if (!pkt_buf)
  {
    print("(TFTP) Buffer overflow!\r\n");
  }

  /* Copy the file data onto pkt_buf. */
  memcpy(pkt_buf->payload, packet, bytesToSend);

  err = udp_sendto(upcb, pkt_buf, to, to_port);

  /* free the buffer pbuf */
  printf("%d\n\r", pbuf_free(pkt_buf));

  return err;
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-23T12:10:34.993

你用的是什么版本的lwIP？根据不同的版本，答案差异很大。

pbuf_alloc() 内部调用的 memp_malloc() 分配函数失败或 pbufs 链接失败。因此，它返回 NULL。

如果传递的参数也包含 NULL，pbuf_alloc() 也将返回 NULL。（由于 NULL 参数检查）。

在较新的版本中，您能否显示 MEMP_OVERFLOW_CHECK 宏包含的值？当宏值 >= 2 时，lwIP 表现出不同的行为。

另一个原因可能是如果您使用多线程，pbuf_alloc() 内部的锁定机制失败，可能会导致它返回 NULL。

某些版本要求您在调用 pbuf_alloc() 之前调用 pbuf_init()。

你可以试试这个：

```
pkt_buf = NULL;//Use NULL, just incase the NULL is not 0 as per your compiler.
pkt_buf = pbuf_alloc(PBUF_TRANSPORT, bytesToSend, PBUF_REF);
if(pkt_buf == NULL)
{
   printf("pbuf_alloc failed.\n");
}
else
{
   /* Do something with the allocated pbufs and free it. */
} 
```

PBUF_REF 不会为 pbuf 分配缓冲内存。pbuf 只能在单个线程中使用，如果 pbuf 排队，则应调用 pbuf_take 来复制缓冲区。

您也可以尝试 PBUF_RAM，它将在 RAM 中分配缓冲区。

如需更多信息，您还可以浏览您正在使用的 lwIP 版本的源文件。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-18T13:40:27.633

最简单的解决方案似乎是制作缓冲区`static`，即为每次调用重新使用相同的缓冲区：

```
static struct pbuf *pkt_buf = NULL;

if( pkt_buf == NULL )
    pkt_buf = pbuf_alloc(PBUF_TRANSPORT, bytesToSend, PBUF_POOL);
if( pkt_buf == NULL )
{
    print("(TFTP) Buffer overflow!\r\n");
} 
```

如果您的方案涉及卸载/重新加载驱动程序，它将泄漏内存。`IAP_tftp_send_data_packet()`要解决此问题，请在函数外部设置缓冲区静态，并`pbuf_free()`在驱动程序卸载时调用（假设 lwip 告诉您）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T17:58:45.750

只是一个短暂的想法，可能完全是荒谬的。在这段代码中：

```
if(bytesRead != 0) {
    bytesToSend = TFTP_DATA_PKT_LEN_MAX - (512 - bytesRead + 1);
} else {
    bytesToSend = TFTP_DATA_PKT_LEN_MAX - 512;
}
pkt_buf = pbuf_alloc(PBUF_TRANSPORT, bytesToSend, PBUF_POOL); 
```

...是否可以`bytesRead`假设值 513 - TFTP_DATA_PKT_LEN_MAX ？

如果发生了，分配零字节的请求不会失败吗？（这可以通过在缓冲区溢出时打印 bytesToSend 的值并检查它是否为非零来测试）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-26T09:34:46.870

struct pbuf 不代表连续的内存区域。它是一个内存位置链。因此，这在一般情况下不起作用：

```
memcpy(pkt_buf->payload, packet, bytesToSend); 
```

您需要分散复制您的数据。代码片段中的 memcpy() 可能会溢出有效负载缓冲区并导致各种副作用，包括无法干净地释放 pbuf 链。

# php - PHP Mail 中的动态文本框

> ID：11083937
> 
> 赞同：2
> 
> 时间：2012-06-18T13:28:22.917
> 
> 标签：php, javascript, radio-button, html-email

我有一个非常复杂的订单表格，您可以在其中从单选按钮订购产品。

我还有一个文本框，可以根据您选择的内容在页面上实时计算价格。

这是通过使用此脚本完成的

```
<script type="text/javascript">
 jQuery(document).ready(function($){
var frm = document.forms.myForm;
frm.onchange = function(e) {
    var tot = 0;
    for( var i = 0, l = frm.elements.length; i < l; i++ ) {
        if( frm.elements[i].checked ) {
            tot += parseFloat( frm.elements[i].getAttribute('data-price') );
        }  
    }
    document.getElementById('total').value = ( tot.toFixed(2) );
}
})
    </script> 
```

盒子在这里

```
<input id="total" name="total2" class="total-box" type="text"> 
```

但是由于某种原因，信息没有被添加到发送的邮件中，其他所有内容都可以正常发送。

在我的邮件脚本中，我有

```
$total2 = $_REQUEST['total2'] ; 
```

和

```
<tr><td style="border-bottom:1px solid #7e7e7e;">Price</td><td style="border-bottom:1px solid #7e7e7e;">'.$total2.' </td></tr> 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T01:44:58.743

如果您使用 javascript，则不会为服务器 $_POST 数据设置输入字段的值。因此，您正在寻找某种序列化（即获取所有输入值并通过 $_POST 发送它们的 javascript，您可以手动完成，但它很乏味）

如果您想坚持使用纯 javascript：[http](http://code.google.com/p/form-serialize/) ://code.google.com/p/form-serialize/可能会有所帮助。否则，请查看一些框架和 serialize()，大多数框架都实现了它，因为它经常使用。

我的建议是在 PHP aswel 中重新创建您的价格生成脚本，因此您只需提交已按下的表单按钮（您不需要对其进行序列化），然后从后端获取价格。也安全很多！

# c# - 如何从 FolderBrowserDialog 更新文本框

> ID：11083940
> 
> 赞同：1
> 
> 时间：2012-06-18T13:28:27.120
> 
> 标签：c#, wpf, folderbrowserdialog

我试图在我的 WPF 应用程序中使用 FolderBrowserDialog 来指示源和目标文件夹路径。目前，我有一些技巧作为我的解决方案：

```
// Opens the FolderBrowserDialog and gets the result.
var dialog = new System.Windows.Forms.FolderBrowserDialog();
System.Windows.Forms.DialogResult result = dialog.ShowDialog();

// Updates the TextBox with the chosen folder path.
srcPathTextBox.Text = dialog.SelectedPath; 
```

但是，我正在尝试找出一个更优雅的解决方案，但事实证明这很困难，因为我对 WPF 还很陌生。我知道数据绑定是一种在 WPF 中自动更新 UI 元素的流行方法，但由于文件夹路径是从对话框中选择的，我不知道数据绑定是否是一个可行的选项。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:31:18.050

您需要在视图模型上实现 INotifyPropertyChanged，然后将从 SelectedPath 变量返回的值分配给视图模型上的公共字符串。但是从字符串设置器引发 PropertyChanged 事件，UI 将更新文本框。您需要将视图的数据源设置为视图模型，但所有这些都在无数关于 MVVM 设计和 WPF 的文章中进行了解释。

# php - php - 合并两个数组并替换它们

> ID：11083946
> 
> 赞同：1
> 
> 时间：2012-06-18T13:28:49.970
> 
> 标签：php, arrays, strtr

我想合并两个数组并用`strtr`函数替换文本。

我以前用过这个

```
$text = "cat cow";
$array = array(
"cat" => "dog",
"cow" => "bull"
);
$output = strtr($text, $array); 
```

这返回`dog bull`了...

现在我有两个这样的数组......

```
$a = array("cat", "dog");
$b = array("dog", "bull"); 
```

两个数组都有要替换的值

现在，我如何组合它们并替换它们？我试过了`$array = $a + $b`，`array_combine`但他们没有工作......

请帮忙...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T13:44:52.777

我认为两个数组必须是

```
$a = array("cat", "cow");
$b = array("dog", "bull"); 
```

你可以使用

```
$c = array_combine($a, $b);
$output = strtr($text, $c); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T13:46:26.957

我不知道你是如何尝试的。

```
$text = "cat cow";
$array = array(
"cat" => "dog",
"cow" => "bull"
);

$text = "cat cow";

$array = array("cat" => "dog",
"cow" => "bull"
);
$output = strtr($array, $array);
echo $output;
//output -> dog bull

$a = array("cat", "cow");
$b = array("dog", "bull");
$c = array_combine($a,$b);
print_r($c);
$output1 = strtr($text, $c);
echo $output1;
//output -> dog bull 
```

我认为上面的代码可以为您提供所需的输出。

我认为您使用了错误的数组检查 $a 和 $b 数组希望对您有所帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T13:36:59.747

你的意思是合并它们以获得数组（'cat'，'dog'，'bull'）？如果是这样，请执行以下操作：

```
$array = array_unique(array_merge($a,$b)); 
```

# c++ - C++ 中的 Java varargs 等效项

> ID：11083953
> 
> 赞同：1
> 
> 时间：2012-06-18T13:29:11.553
> 
> 标签：c++, variadic-functions

我有一个用 Java 编写的函数，它接受可变参数作为参数。我想将该函数移植到 C++。我试图搜索，但我得到的最接近的是使用参数列表的 std::vector。将可变参数转换为 C++ 的最佳方法是什么？功能如下。

```
public EventHandlerQueue<T> get (final EventHandler<T> ... handlers)
{
     // Do something with handlers
     return new EventHandlerQueue<T>(handlers)
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T13:34:42.557

> 我想将该函数移植到 C++。我试图搜索，但我得到的最接近的是使用参数列表的 std::vector。

这是完全正确的，并且正是 Java varags 列表实际上是什么，只是使用了一些不同的语法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-18T14:06:55.043

`varargs`在 Java 中是纯语法糖。它被编译器翻译成对传递/接收*数组`EventHandler<T>`*的函数的调用。

C++11 中最接近的`std::initializer_list<EventHandler<T>>`地方是您需要将参数封装在一对额外的花括号中：

```
EventHandlerQueue<T> get(std::initailizer_list<EventHandler<T>> handlers);

obj.get( {EventHandler1, EventHandler2} );
// asuming that `obj` is an object for which the above member is defined. 
```

在 C++03 中没有类似的*语法糖*，您需要创建一个数组/向量并传递它。由于数组具有静态定义的大小，因此这里最好的选择就是传递一个`std::vector<EventHandler<T> >`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T13:33:32.203

正如@chris 所说，在 C++ 中，这些是“可变参数模板”。

*   [http://www.informit.com/guides/content.aspx?g=cplusplus&seqNum=138](http://www.informit.com/guides/content.aspx?g=cplusplus&seqNum=138)
*   [http://en.wikipedia.org/wiki/Variadic_templates](http://en.wikipedia.org/wiki/Variadic_templates)

维基百科的例子：

```
template<typename T, typename... Args>
void printf(const char *s, T value, Args... args)
{
    while (*s) {
        if (*s == '%' && *(++s) != '%') {
            std::cout << value;
            ++s;
            printf(s, args...); // call even when *s == 0 to detect extra arguments
            return;
        }
        std::cout << *s++;
    }
    throw std::logic_error("extra arguments provided to printf");
} 
```

# ios5 - UIFont fontWithName 字体名称

> ID：11083954
> 
> 赞同：69
> 
> 时间：2012-06-18T13:29:12.393
> 
> 标签：ios5, uifont

假设您想要 UIFont 的特定字体。你怎么知道它叫什么？

例如，如果您想使用此代码：

```
[someUILabelObject setFont:[UIFont fontWithName:@"American Typewriter" size:18]]; 
```

您从哪里复制确切的短语“美国打字机”。Xcode中有头文件吗？

更新

也发现[这个](http://ajnaware.wordpress.com/2008/10/24/list-of-fonts-available-on-the-iphone/)很方便。

* * *

## 回答 #1

> 赞同：242
> 
> 时间：2012-07-31T13:36:45.283

作为调试器中的 Quick Win，您可能会感兴趣：

```
(lldb) po [UIFont fontNamesForFamilyName:@"Helvetica Neue"]

(id) $1 = 0x079d8670 <__NSCFArray 0x79d8670>(
HelveticaNeue-Bold,
HelveticaNeue-CondensedBlack,
HelveticaNeue-Medium,
HelveticaNeue,
HelveticaNeue-Light,
HelveticaNeue-CondensedBold,
HelveticaNeue-LightItalic,
HelveticaNeue-UltraLightItalic,
HelveticaNeue-UltraLight,
HelveticaNeue-BoldItalic,
HelveticaNeue-Italic
) 
```

**2018 年 11 月 - 更新“**[使用 Xcode 的自定义字体](https://codewithchris.com/common-mistakes-with-adding-custom-fonts-to-your-ios-app/) ”的新 swift-y 参考- 由 Chris Ching。我不得不更新，因为这是一个很有价值的新方法，结合所有缺失的部分在项目中使用自定义字体。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-18T13:32:55.560

的[文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIFont_Class/Reference/Reference.html)对此`UIFont`非常清楚：

> 您可以使用该`fontNamesForFamilyName:`方法检索给定字体系列的特定字体名称。（**注意**：这是一个类方法）

你可以得到这样的姓氏：

```
NSArray *familyNames = [UIFont familyNames]; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-07-18T13:51:30.997

```
label.font = [UIFont fontWithName:@"HelveticaNeue-Light" size:17]; 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-10-29T22:26:53.077

尝试

```
NSArray *familyNames = [UIFont familyNames];
[familyNames enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop){
    NSLog(@"* %@",obj);
    NSArray *fontNames = [UIFont fontNamesForFamilyName:obj];
    [fontNames enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop){
        NSLog(@"--- %@",obj);
    }];
}]; 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2017-05-11T09:20:00.793

我做了一个库来解决这个问题：

[https://github.com/Nirma/UIFontComplete](https://github.com/Nirma/UIFontComplete)

所有字体都表示为系统`Font`枚举，并且该库还详细说明了将其与自述字体中的自定义字体一起使用的方法。

基本上是这样的：

```
let font = UIFont(name: "Arial-BoldItalicMT", size: 12.0) 
```

替换为：

```
let font = UIFont(font: .arialBoldItalicMT, size: 12.0) 
```

或这个：

```
let myFont = Font.helvetica.of(size: 12.0) 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2014-02-07T03:46:36.093

这是您在项目中获取所有字体名称的方式。就是这样...... 3行代码

```
NSArray *fontFamilies = [UIFont familyNames];

    for (int i=0; i<[fontFamilies count]; i++)
    {
        NSLog(@"Font: %@ ...", [fontFamilies objectAtIndex:i]);
    } 
```

# java - JavaFX / 捆绑 / MacOS 商店

> ID：11083958
> 
> 赞同：2
> 
> 时间：2012-06-18T13:29:26.563
> 
> 标签：java, app-store

## 语境

[http://news.ycombinator.com/item?id=4125530](http://news.ycombinator.com/item?id=4125530)

## 问题：

这是否最终意味着 Java 应用程序将能够发布到 Mac 商店？（因为 JRE 自动捆绑到应用程序中），并且 iOS no-JIT 子句不适用，因为这是针对 Mac 商店，而不是 iOS 商店？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T00:45:02.690

Oracle使用预发布的 JavaFX 打包工具打包了适用于 Mac的[JavaFX Ensemble 示例应用程序，并将该应用程序提交到 Mac App Store。](http://www.oracle.com/technetwork/java/javafx/samples/index.html)该应用程序已被接受，您可以[在 Mac App Store 的此位置找到 Ensemble](https://itunes.apple.com/us/app/ensemble/id557744983)。

特别是对于 JavaFX，使用 ycombinator.com 新闻项目中提到的[JavaFX 打包工具](http://docs.oracle.com/javafx/2/deployment/jfxpub-deployment.htm)- 不仅现在 - 但可能很快（例如 jdk7u10 for Mac 发布时间框架）。对于其他 Java 项目，可以使用[Java 应用程序捆绑](http://java.net/projects/appbundler)器（它是与 JavaFX 打包工具分开的工具）。

目前javafx 实现中[存在一些怪癖](http://javafx-jira.kenai.com/secure/IssueNavigator.jspa?reset=true&jqlQuery=labels%20=%20osx-appstore)，它们会阻止使用 javafx 打包工具打包的应用程序可提交到 Mac App Store。

如何捆绑 Java App 并将其提交到 Mac App Store：

*   [编写一个 Java 应用程序](http://docs.oracle.com/javafx/)。
*   [为 Mac 打包 Java 应用程序](https://blogs.oracle.com/talkingjavadeployment/entry/native_packaging_for_javafx)。
*   [将 Java 应用程序提交到 Mac App Store](http://developer.apple.com/library/mac/#releasenotes/General/SubmittingToMacAppStore/_index.html)。

看看苹果是否接受它。

Oracle 已经制作了一个[打包 Java 应用程序以在 Mac 上分发](http://docs.oracle.com/javase/7/docs/technotes/guides/jweb/packagingAppsForMac.html)的指南，其中包含有关如何将应用程序提交到 Mac App Store 的信息。

**更新**

我在 2012 年 10 月 8 日向[Oracle 工程师询问了这个问题，得到了以下答复。](https://forums.oracle.com/forums/message.jspa?messageID=10621531)

问：如果我想打包 JavaFX 应用程序以交付到 Mac App Store，我应该使用 AppBundler 还是 JavaFX 打包工具？

> A. JavaFX 工具是可行的。至少是长期的（因为您需要使用当前的[测试版](http://jdk7.java.net/download.html)并且它可能存在错误）。

问：如果 JavaFX 打包工具可用于打包应用程序以分发到 Mac App Store，执行此操作的步骤是什么？

> A. 请参阅[Scott 在 JavaOne 上的演讲中的](https://oracleus.activeevents.com/connect/sessionDetail.ww?SESSION_ID=8224)材料。我们将在此发布博客，但可能需要一些时间。

问：JavaFX 打包工具是否也可以用于打包非 JavaFX Java 应用程序以交付到 Mac App Store？

> A. 是的，请参阅[talkingjavadeployment 博客](https://blogs.oracle.com/talkingjavadeployment/entry/packaging_improvements_in_jdk_7#3)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T07:59:26.577

现在的答案是肯定的。我们的应用程序 Moneydance 已提交并获得批准，现在可以在应用程序商店出售：http: [//infinitekind.com/moneydance-appstore](http://infinitekind.com/moneydance-appstore)。

我们的一位开发人员 Marco Dinacci 为您的应用编写了详细说明：http: [//intransitione.com/blog/take-java-to-app-store/](http://intransitione.com/blog/take-java-to-app-store/)

# transactions - 使用事务属性 REQUIRES_NEW 调用 ejb 方法并在调用方方法中执行 setRollbackOnly

> ID：11083959
> 
> 赞同：1
> 
> 时间：2012-06-18T13:29:31.193
> 
> 标签：transactions, ejb-3.0, rollback

我有以下两个 EJB3.0 Bean

```
public class ExternalBean {
      @Resource
      private SessionContext ctx;
      @EJB
      protected DataBaseLogging dbLogger;

    @TransactionAttribute(TransactionAttributeType.REQUIRES_NEW)
    public void doExternaljob() {

    try{
     .....  
    }catch(Exception e){
     logger.log();
     ctx.setRollbackOnly();
     throw new Exception();
    }
} 
```

* * *

```
public class DataBaseLogging  {
 @TransactionAttribute(TransactionAttributeType.REQUIRES_NEW)
 public void log(){
  //write log data to db
  ......
 }
} 
```

由于 EJB DatabaseLogging 的方法 log() 具有事务属性 REQUIRES_NEW，因此我希望如果它成功完成，数据将被写入 db，而与调用方方法 doExternaljob() 的结果无关。但这不是发生的事情。似乎 log() 方法也被回滚并且没有写入数据。如果我删除对 setRollbackOnly() 的调用，则数据写入正确。但是我可以确定在这种情况下通过抛出异常外部事务总是回滚吗？

这被认为是正常行为吗？

# wpf - wpf datagrid excel像水平滚动条

> ID：11083960
> 
> 赞同：0
> 
> 时间：2012-06-18T13:29:31.373
> 
> 标签：wpf, datagrid

我想知道是否可以在 excel 中设置水平滚动条，向右滚动并显示空白列？数据网格滚动条仅从左侧的第一列滚动到右侧的最后一列，反之亦然。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T14:05:10.667

如果你有一个

```
<DataGrid Name="grid"
          ScrollViewer.ScrollChanged="DataGrid_ScrollChanged" /> 
```

您可以像这样按需添加更多列

```
private void DataGrid_ScrollChanged(object sender, ScrollChangedEventArgs e)
{
    if (e.HorizontalOffset >= e.ExtentWidth - e.ViewportWidth)
    {
        grid.Columns.Add(new DataGridTextColumn() { Header = grid.Columns.Count + 1 });
    }
} 
```

当然要加一行才能看到效果。

```
grid.Items.Add("Test Row"); 
```

# php - Determine which page a query was executed upon

> ID：11083973
> 
> 赞同：0
> 
> 时间：2012-06-18T13:30:34.297
> 
> 标签：php, mysql, pdo

My site contains a "Developers Window" which shows various breakdowns on the query's ran to produce the current page. But obviously due to the nature of the site we've got maybe 10 files all included to create one page.

We're using a PDO class and we wanted a way to display the file in which ran the query, and even better if possible the line number.

My only approach would be to add in the filename each time we run a query.

```
$dB->fetchRow('DO QUERY', FILE_NAME); 
```

Anyone got any way we could implement this?

Thanks,

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:35:16.153

您可以使用`debug_backtrace`查看哪个文件调用了您的函数。

[http://ca2.php.net/manual/en/function.debug-backtrace.php](http://ca2.php.net/manual/en/function.debug-backtrace.php)

# javascript - 媒体查询和javascript不能很好地结合在一起

> ID：11083975
> 
> 赞同：3
> 
> 时间：2012-06-18T13:30:44.360
> 
> 标签：javascript, css, width, media-queries

我注意到 FF、Chrome 和 Safari 的行为是，如果您干预对象的显示属性，则媒体查询不再对该对象属性起作用。

这样，我准备了一个测试 html 代码，这里是**[1]** ...

你有什么想法不产生这种效果吗？我不认为将 css 媒体查询转换为 javascript 不符合一般性原则......

不久，我想在需要时（如果可能）通过媒体查询和 javascript 更改 DIV 的可见性。

**[1]： http:** [//paste.ubuntu.com/1046784/](http://paste.ubuntu.com/1046784/)（测试场景）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T13:32:34.420

当您直接更新元素的“样式”时，该样式将覆盖 CSS 中设置的任何内容（除非 CSS 具有`! important`而本地样式没有）。

为避免该问题，请不要直接操纵元素的样式。相反，添加或删除一个或多个“类”字符串，并在样式表中提供样式（可能受媒体查询影响）。即使您不处理媒体查询，这样做通常也会更好。在 CSS 文件中更新样式内容比在 JavaScript 代码中查找样式更容易。

# tomcat - 从命令行停止 Web 应用程序 tomcat

> ID：11083981
> 
> 赞同：22
> 
> 时间：2012-06-18T13:31:07.270
> 
> 标签：tomcat, web-applications, deployment, web-deployment

我正在编写一个 bash 脚本，它会自动将应用程序部署到 tomcat 服务器。如何从 bash / 命令行停止应用程序？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-18T13:34:55.513

我知道的最简单的方法是安装 Tomcat manager webapp，记下停止应用程序的 URL 和`wget`那个 URL。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-01-03T06:52:47.757

试试这个名为 tomcat-manager[的用于管理 tomcat 的命令行脚本。](https://github.com/kotfu/tomcat-manager)它需要 Python，但允许您从 Unix shell 执行以下操作：

```
$ tomcat-manager --user=admin --password=newenglandclamchowder \
> http://localhost:8080/manager/ stop /myapp 
```

和：

```
$ tomcat-manager --user=admin --password=newenglandclamchowder \
> http://localhost:8080/manager deploy /myapp ~/src/myapp/myapp.war 
```

因为它通过 HTTP 与 tomcat 对话，所以它在“本地”工作，即通过 localhost，或者从任何可以访问 tomcat 实例的地方工作。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2017-10-10T13:49:59.327

另一种方法是使用 CURL。就我而言，我在没有 WGET 的公司 Windows 机器上。不过我确实有 CURL，并且可以通过 GIT BASH 终端使用它。

要列出在 Tomcat 上运行的应用程序，我运行以下命令（使用用户：密码）

```
curl --user admin:admin http://localhost:8080/manager/text/list 
```

然后停止一个名为“myapp”的应用程序

```
curl --user admin:admin http://localhost:8080/manager/text/stop?path=/myapp 
```

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2016-01-05T07:51:22.353

我`wget`用来停止和启动应用程序。中的用户`tomcat-user.xml`必须具有管理脚本角色。

对于 TOMCAT 5/6：

```
wget "http://<user>:<password>@<servername>:<port>/manager/stop?=/<application context>" -O - -q
wget "http://<user>:<password>@<servername>:<port>/manager/start?=/<application context>" -O - -q 
```

由于 TOMCAT 7（我的安装为 7.0.62），您必须`/text/`在 manager 之后添加：

```
wget "http://<user>:<password>@<servername>:<port>/manager/text/stop?path=/<application context>" -O - -q
wget "http://<user>:<password>@<servername>:<port>/manager/text/start?path=/<application context>" -O - -q 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-06-18T15:35:06.783

停止tomcat应用的三种方式

1.  通过本地访问，您当然可以停止该过程。这完全停止了tomcat
2.  通过本地和远程访问，您可以访问 server.xml 中定义的“关闭端口”（默认 = 8005）及其密码。如果您为此打开一个套接字并发送密码，tomcat 将完全关闭。
3.  你听从山姆的建议，这让你有选择性。

# html - 宽度小于其背景

> ID：11083984
> 
> 赞同：12
> 
> 时间：2012-06-18T13:31:12.027
> 
> 标签：html, css, width

我已经设置了一个样式`<html>`：

```
html {
    background: #ECECEC;
    border: 1px solid #FFFFFF;
} 
```

如果页面的内容比页面宽，为什么边框停止了，但背景一直在走？

这是一个显示问题的小提琴：http: [//jsfiddle.net/rPGyc/3](http://jsfiddle.net/rPGyc/3)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T15:21:42.390

`html`是一个适当的块级元素，就像`body`, `p`,`div`等一样——因此它遵守与其他块元素相同的所有溢出规则。

但是，`html`当内容超出其宽度（或当其宽度小于浏览器窗口或视口的 100% 时）时，背景会溢出其边框，这是因为背景颜色会传播到视口，即包含`html`所有渲染内容的画布。但是，边框仍然是`html`元素的一部分，因此当内容溢出时元素不会扩展。此行为与将背景应用于 的方式非常相似`body`，但不会`html`导致主体背景传播到根元素，如引用[规范的本节的](http://www.w3.org/TR/css3-background/#special-backgrounds)[this answer](https://stackoverflow.com/a/10947583/106224)中所述。

正如[Alohci](https://stackoverflow.com/users/42585/alohci) [在答案下的评论中指出的那样](https://stackoverflow.com/posts/comments/14288068)，这同样适用于`html`视口：

> 请注意，html 相对于视口的行为方式与 body 相对于 html 的行为方式非常相似，但背景逃逸到了 html 元素的范围之外。请参阅[http://jsfiddle.net/GmAL4/4/](http://jsfiddle.net/GmAL4/4/)了解我的意思。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T15:15:05.187

这是使用jquery的一个小修复

```
 $("html").width($(document).width());
 $("html").css("border", "1px solid black"); 
```

我知道单独使用 css 似乎无法正常工作是很糟糕的，但至少我们可以使用 jquery 获得想要的结果。

这是小提琴：http: [//jsfiddle.net/rPGyc/5/](http://jsfiddle.net/rPGyc/5/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T15:25:46.470

防止这种情况的一种方法是使用 css3 word-wrap 属性。Jsfiddle[在这里](http://jsfiddle.net/Rorok_89/rPGyc/7/)

只需添加：

```
html{
background-color: lightgrey;
border: 1px solid #fff;
padding:0px;
margin:0px;
width:100%;
height:100%;
/*The important bit*/
word-wrap: break-word;
} 
```

# c# - 如何使用 LINQ 从类型对象创建 lambda 表达式？

> ID：11083989
> 
> 赞同：0
> 
> 时间：2012-06-18T13:31:30.540
> 
> 标签：c#, .net, linq, generics, linq-expressions

`SetValue`我正在尝试使用 LINQ 表达式加速反射-> 。

我的问题是这种方法：

```
public void SetValue<T>(T obj)
{
    FieldInfo field = typeof(T).GetField("Title", BindingFlags.Instance |
                                                  BindingFlags.Public |
                                                  BindingFlags.IgnoreCase);

    ParameterExpression targetExp = Expression.Parameter(typeof(T), "target");
    ParameterExpression valueExp = Expression.Parameter(field.FieldType, "value");

    // Expression.Property can be used here as well
    MemberExpression fieldExp = Expression.Field(targetExp, field);
    BinaryExpression assignExp = Expression.Assign(fieldExp, valueExp);

    var setter = Expression.Lambda<Action<T, string>>(assignExp, targetExp, valueExp).Compile();

    setter(obj, "Hello World");

    //Console.WriteLine(obj.title);
} 
```

我这样称呼：

```
var ii = new Controllers.SearchController.InstantItem();

SetValue<Controllers.SearchController.InstantItem>(ii); 
```

问题是这一行：

```
var setter = Expression.Lambda<Action<T, string>>(assignExp, targetExp, valueExp).Compile(); 
```

因为 Action 使用泛型，我不能用`field.FieldType`...替换字符串

有没有可能我可以做到这一点而不必`switch(field.FieldType)`发表声明，并为每种可能的类型放置一个通用方法，这会浪费很多时间？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T14:00:29.683

也许是这样的

```
action = FormAction(fieldInfo);
action(obj,valueToSet); 
```

当然需要在字典中缓存动作。

```
static Action<object, object> FormAction(FieldInfo fieldInfo)
{
    ParameterExpression obj = Expression.Parameter(typeof(object), fieldInfo.Name);
    ParameterExpression value = Expression.Parameter(typeof(object));

    MemberExpression fieldExp = Expression.Field(Expression.Convert(obj, fieldInfo.DeclaringType), fieldInfo.Name);
    BinaryExpression assignExp = Expression.Assign(fieldExp, Expression.Convert(value, fieldInfo.FieldType));

    return Expression.Lambda<Action<object, object>>(assignExp, obj, value).Compile();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T13:36:52.227

使参数 ob 类型对象，并使 lambda 在内部转换为正确的字段类型。

或者，在运行时动态构造委托类型（Action）。

或者，您可以按如下方式定义 SetValue：

```
SetValue<TObject, TProperty> 
```

这将使该方法对属性类型具有通用性。

编辑：听起来选项 1 最适合您。您需要将参数类型更改为`typeof(object)`并添加演员表：

```
valueExp = Expression.Convert(valueExp, field.FieldType) 
```

并且您需要`Action<T, object>`用作委托类型。

# android - Working with adMob

> ID：11083990
> 
> 赞同：2
> 
> 时间：2012-06-18T13:31:33.527
> 
> 标签：android, admob, onclicklistener

I was adding some ads to my app with the admod sdk, and I wondered if I can hide the banner after clicking on it, so the user could enjoy the app without ads. I searched it, but I didnt found any proper answer.

I thought about using `OnClickListener` and `OnTouchListener`, but neither of those worked.

I added something like this:

```
adView.setOnTouchListener(new OnTouchListener(){

    public boolean onTouch(View p1, MotionEvent p2)
    {
        // TODO: Implement this method
        return false;
    }

    public boolean onTouch(View v)
    {
        mainLayout.removeView(adView);
        return true;
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:42:09.077

查看 AdListener

这些活动可能对您有用

```
public void onPresentScreen(Ad ad) 
```

在您的应用程序前面创建 Activity 时调用，为用户呈现全屏广告 UI 以响应他们的触摸广告。

```
public void onDismissScreen(Ad ad) 
```

当使用 onPresentScreen 呈现的全屏 Activity 已被解除且控制权返回到您的应用时调用。公共空白

```
onLeaveApplication(Ad ad) 
```

当广告触摸将启动新应用程序时调用。

[AdMob 广告监听器](https://developers.google.com/mobile-ads-sdk/docs/android/intermediate#adlistener)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T14:33:46.110

将此添加到我的代码中...效果很好！唯一要做的就是实现 AdListener 和 setAdListener，仅此而已：D

```
public class MainActivity extends Activity implements AdListener
{

public void onReceiveAd(Ad p1)
{
    // TODO: Implement this method
}

public void onFailedToReceiveAd(Ad p1, AdRequest.ErrorCode p2)
{
    // TODO: Implement this method
}

public void onPresentScreen(Ad p1)
{
    // TODO: Implement this method
}

public void onDismissScreen(Ad p1)
{
    mainLayout.removeView(adView);
}

public void onLeaveApplication(Ad p1)
{
    // TODO: Implement this method
}

@Override
public void onCreate(Bundle savedInstanceState) {   
super.onCreate(savedInstanceState);
setContentView(R.layout.main);
//load ad stuff,etc,etc
adView.setAdListener(this);
}
} 
```

# wcf - Ambiguous reference in WCF and client application

> ID：11083994
> 
> 赞同：7
> 
> 时间：2012-06-18T13:31:48.877
> 
> 标签：wcf, ambiguous

I've managed to reproduce one of the errors in a test project with a similar structure to my production code. It consists of three simple projects:

Common (class library):

```
namespace Common
{
    public enum PrimaryColor
    {
        Red,
        Green,
        Blue
    };
} 
```

Library (WCF service library), which has a reference to Common:

```
using Common;

namespace Library
{
    [ServiceContract]
    public interface ILibrary
    {
        [OperationContract]
        PrimaryColor GetColor();
    }

    public class Library : ILibrary
    {
        public PrimaryColor GetColor()
        {
            return PrimaryColor.Red;
        }
    }
} 
```

ClientApp (console application), which has a reference to Common, and a service reference to Library called "LibraryServiceReference":

```
using Common;
using ClientApp.LibraryServiceReference;

namespace ClientApp
{
    class Program
    {
        static void Main(string[] args)
        {
            LibraryClient client = new LibraryClient("WSHttpBinding_ILibrary");
            PrimaryColor color = client.GetColor();
        }
    }
} 
```

The app.config files in ClientApp and Library are auto-generated and I have not modified them, and I have not changed the default configuration for the LibraryServiceReference in ClientApp.

When I compile this solution, I get the following errors in the ClientApp project:

Error 1

```
'PrimaryColor' is an ambiguous reference between 'Common.PrimaryColor' and 'ClientApp.LibraryServiceReference.PrimaryColor' 
```

Error 2

```
Cannot implicitly convert type 'ClientApp.LibraryServiceReference.PrimaryColor' to 'Common.PrimaryColor'. An explicit conversion exists (are you missing a cast?) 
```

please help me to fix this.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T13:37:00.660

确保在**Add service reference**或**Configure Service Reference的****高级选项**中选择了**“在所有引用的程序集中重用类型”**。

 ******![在此处输入图像描述](../Images/0a4cb23b8246cd140f06e4aeaba9b1cb.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-06-23T19:04:40.427

这是因为您正在构建 x64 而不是“AnyCpu”。我现在正在遇到这个问题，并试图弄清楚它是否是一个错误，或者它是否是预期的行为。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T14:25:05.143

1.  像这样装饰你的枚举：

    ```
    namespace Common
    {
        [DataContract]
        public enum PrimaryColor
        {
            [EnumMember]
            Red,
            [EnumMember]
            Green,
            [EnumMember]
            Blue
        };
    } 
    ```

2.  更新您的服务参考（检查重用类型，就像马克所说）。

3.  重建您的客户端代码。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-08-09T14:47:33.287

我已经多次以无害、不可预测的方式出现这个问题！我想我会分享我上次是如何“修复”它的。

我正在使用 Visual Studio 2013 - 但已经遇到了问题。

模棱两可的引用似乎是自己出现的。我没有做任何值得注意的事情。在最近的例子中，我正在调试一些代码，突然我有 7 个，然后是 22 个，然后是 49 个错误——性质相同。

我完全删除了服务引用并重新添加了它。简单地修改重用类型没有任何作用。我的解决方案有 WCF 服务、类库、UI 和控件库。我还删除了类库的 using - in some code behind。

这是一个非常麻烦的问题，幸好每隔几周才会发生一次。为什么这行得通？超出我的工资等级。我感受到了你的痛苦！希望这可以帮助。在这种情况下，当我在 xaml 页面上打开一些代码时，再次出现错误。

[![在此处输入图像描述](../Images/062ab93e859c07b1f715ec776189d15d.png)](https://i.stack.imgur.com/j8lQD.png)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T14:33:07.717

听起来您同时控制客户端和服务器代码。为什么要创建服务引用，是有特定原因还是被认为更容易？

在您控制客户端服务器应用程序双方的项目中，您最好创建一个“合同程序集”（这可能是您的常用程序集）。这包含与合同有关的接口和对象，应该由您的客户端和您的服务器引用。为了与服务通信，客户端使用创建代理类[`ChannelFactory`](http://msdn.microsoft.com/en-us/library/ms576132.aspx)，不需要专用的 WCF 客户端。

**例子：**

```
ChannelFactory<ISampleService> factory = new ChannelFactory<ISampleService>("Binding_from_config");

ISampleService sampleService = factory.CreateChannel();

sampleService.SomeCall();

factory.Close(); 
```

*工厂模式也使它成为通过 IoC 注入代理的理想选择。*

**与创建服务引用相比，引用公共程序集的好处是：**

*   没有模棱两可的参考，因为不需要自动生成的类。
*   您不必在每次更改合同时更新您的服务参考。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-06-20T16:43:54.260

对于它的价值，在将我的数据合约移动到单独的库后，我遇到了同样的错误。多次更新服务引用并尝试所有设置组合以重用程序集，但无济于事。

最终为我解决的问题是 1）重新启动 Visual Studio 和 2）更新服务参考。服务定义中 Reference.cs 中自动生成的代码看起来非常不同，并且没有复制我的数据协定类。它使用了我图书馆中的正确参考。所以必须在IDE中缓存一些东西。

希望其他人觉得这很有用。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-09-11T15:03:08.250

我可以通过右键单击服务引用来解决此问题，然后从“在所有引用的程序集中重用类型”更改为“在指定的引用程序集中重用类型”，然后检查特定的公共程序集。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-03-13T11:29:59.027

只需从您的 ClientApp 项目中删除对 Common 项目的引用，错误就会消失。当您为服务创建代理时，服务中的所有相关代码都必须注入到代理中。如果您希望您的类型与服务端的类型相同，只需在生成代理代码时启用“重用类型”选项（否则它们将被放在不同的命名空间下）。

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2012-06-18T13:36:46.150

这里的问题是 PrimaryColor 存在于 Common 和 ClientApp.LibraryServiceReference 中，并且您在类中引用了这两个命名空间。

要克服这个问题，要么明确引用您需要的实例，即

`Common.PrimaryColor color = ....`

或设置别名：

`using Service = ClientLibraryServiceReference; ...`

`Service.PrimaryColor color = ......`

* * *

## 回答 #10

> 赞同：-2
> 
> 时间：2012-06-18T13:36:45.697

在进行服务参考时，是否有一些选项会说：“​​在生成的服务合同中包含常见类型”？

我的想法是，在您的服务参考中，类是“复制的”，这就是您收到此错误的原因。检查生成的服务文件，然后删除并使用“添加服务参考”再次添加它们，然后查看您有哪些选项。

**编辑**

虽然我几乎可以肯定 Type PrimaryColor 被定义了两次。一次在公共项目中，一次在您的服务参考中，您也可以在您的 clientApp 中尝试此操作（更明确地指定 PrimaryColor 类型）：

```
Common.PrimaryColor color = client.GetColor(); 
```******

# sql - SQL子查询/从单独的表中选择数据子集

> ID：11083995
> 
> 赞同：2
> 
> 时间：2012-06-18T13:32:13.690
> 
> 标签：sql, sql-server, tsql

我正在编写一个 SQL 查询来提取单个墨盒的打印使用情况。我的查询主体如下所示，但我无法选择一些特定数据来处理存储在单独表中的仪表读数。

以下查询列出了放入打印机的墨盒及其激活日期和停用日期。然后，我想使用 MeterReadings 表来查看使用基于 DeviceID 的 ActivatedDate 和 DeactivatedDate 在此期间的使用情况。到目前为止我所拥有的如下

```
SELECT Devices.DeviceID, 
    Devices.DeviceDescription, 
    DeviceConsumables.ConsumableVariantID,
    ConsumableVariants.Type,
    ConsumableDescriptions.Description,
    MAX(ConsumableReadings.ReadingDate) as DeactivatedDate,
    MIN(ConsumableReadings.ReadingDate) AS ActivatedDate,
    ConsumableReadings.ChangedDate,
    CASE ConsumableVariants.ColourID
    WHEN 1 THEN MAX(MeterReadings.TotalMono) - MIN(MeterReadings.TotalMono)
    ELSE MAX(MeterReadings.TotalColour) - MIN(MeterReadings.TotalColour)
    END AS PrintingDiff,
    ConsumableVariants.ExpectedPageCoverage,
    ConsumableVariants.ExpectedPageYield

FROM Devices

LEFT JOIN DeviceConsumables ON Devices.DeviceID = DeviceConsumables.DeviceID
LEFT JOIN ConsumableVariants ON DeviceConsumables.ConsumableVariantID = ConsumableVariants.ConsumableVariantID
LEFT JOIN ConsumableReadings ON DeviceConsumables.ConsumableID = ConsumableReadings.ConsumableID
LEFT JOIN ConsumableDescriptions ON ConsumableVariants.DescriptionID = ConsumableDescriptions.ConsumableDescriptionID
LEFT JOIN MeterReadings ON DeviceConsumables.DeviceID = MeterReadings.DeviceID

WHERE ConsumableVariants.Type = '3' -- To only get toner cartridges
    AND Devices.DeviceID = '24'
    AND MeterReadings.ScanDateTime > MIN(ConsumableReadings.ReadingDate)
    AND MeterReadings.ScanDateTime < MAX(ConsumableReadings.ReadingDate)

GROUP BY devices.DeviceID, Devices.DeviceDescription,
    DeviceConsumables.ConsumableVariantID, ConsumableVariants.Type, ConsumableDescriptions.Description,
    ConsumableReadings.ChangedDate, ConsumableVariants.ColourID, ConsumableVariants.ExpectedPageCoverage,
    ConsumableVariants.ExpectedPageYield

ORDER BY Devices.DeviceID 
```

This is currently generating the error "An aggregate may not appear in the WHERE clause unless it is in a subquery contained in a HAVING clause or a select list, and the column being aggregated is an outer reference."

The calculated fields ActivatedDate and DeactivatedDate are the date ranges I will require. I want to use the case statement to select MAX(MeterReadings.TotalMono) - MIN(MeterReadings.TotalMono) for black and white or MAX(MeterReadings.TotalColour) - MIN(MeterReadings.TotalColour) for colour. This would effectively give me the usage as readings can only go upwards. This would hopefully give me the starting point usage with the MIN and ending point usage with the MAX for the specific DeviceID.

As shown above I'm joining on my MeterReadings table on DeviceID.

I can't figure out how to get the MeterReadings for device x between y and z (where x is DeviceID, y is ActivatedDate and z is DeactivatedDate) so I can then add a calculated column into the case statement. Any help appreciated.

-- Edit For brevity I won't add all the schema in here but what should be enough.

**Devices** - list of all known devices

DeviceID

DeviceDescription

lots of extra fields that describe the device

**DeviceConsumables** - What devices use what consumables

ConsumableID

DeviceID - Forign key to device

ConsumableVariantID - Forign key to ConsumableVariant

**ConsumableVariant** - list of all the consumable variants there are

ConsumableVariantID

Type - 3 here indicates toner, what I'm interested in

**ConsumableReadings**

ReadingID - PK

ConsumableID - forign key to DeviceConsumables

ReadingDate - last time a reading was taken

ChangedDate - last time a new cartridge was inserted

**MeterReadings**

ReadingID - PK not to do with PK of consumablereadings

DeviceID

ScanDateTime - time usage scan was taken

TotalMono - total mono at scan time

TotalColour Total colour at scan time

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T15:09:13.317

Well you have to break you queries into nested queries ... Below query is not tested, so it may have some syntax problem, but it gives a way to find out what you are looking for ...

```
SELECT Devices.DeviceID, 
    Devices.DeviceDescription, 
    DeviceConsumables.ConsumableVariantID,
    ConsumableVariants.Type,
    ConsumableDescriptions.Description,
    A.DeactivatedDate,
    A.ActivatedDate,
    A.ChangedDate,
    CASE ConsumableVariants.ColourID
    WHEN 1 THEN MAX(MeterReadings.TotalMono) - MIN(MeterReadings.TotalMono)
    ELSE MAX(MeterReadings.TotalColour) - MIN(MeterReadings.TotalColour)
    END AS PrintingDiff,
    ConsumableVariants.ExpectedPageCoverage,
    ConsumableVariants.ExpectedPageYield

FROM Devices

LEFT JOIN DeviceConsumables ON Devices.DeviceID = DeviceConsumables.DeviceID
LEFT JOIN ConsumableVariants ON DeviceConsumables.ConsumableVariantID = ConsumableVariants.ConsumableVariantID
LEFT JOIN ConsumableReadings ON DeviceConsumables.ConsumableID = ConsumableReadings.ConsumableID
LEFT JOIN ConsumableDescriptions ON ConsumableVariants.DescriptionID = ConsumableDescriptions.ConsumableDescriptionID
LEFT JOIN 
(
   SELECT D.DeviceID,
          MAX(CR.ReadingDate) as DeactivatedDate,
          MIN(CR.ReadingDate) AS ActivatedDate,
          CR.ChangedDate
     FROM Devices D
     LEFT JOIN DeviceConsumables DC ON D.DeviceID = DC.DeviceID
     LEFT JOIN ConsumableReadings CR ON DC.ConsumableID = CR.ConsumableID
    WHERE D.DeviceID = '24'
    GROUP BY D.DeviceID, 
            CR.ChangedDate
) AS A ON DeviceConsumables.DeviceID = A.DeviceID
LEFT JOIN MeterReadings ON A.DeviceID = MeterReadings.DeviceID
WHERE ConsumableVariants.Type = '3' -- To only get toner cartridges
    AND Devices.DeviceID = '24'
    AND MeterReadings.ScanDateTime > A.ActivatedDate
    AND MeterReadings.ScanDateTime < A.DeactivatedDate

GROUP BY devices.DeviceID, Devices.DeviceDescription,
    DeviceConsumables.ConsumableVariantID, ConsumableVariants.Type, ConsumableDescriptions.Description,
    ConsumableReadings.ChangedDate, ConsumableVariants.ColourID, ConsumableVariants.ExpectedPageCoverage,
    ConsumableVariants.ExpectedPageYield

ORDER BY Devices.DeviceID 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T14:09:46.453

First, I'd add to your output the ColourID so you know if you are reading the Mono or Colour values. Second, I believe if you remove the ConsumableID from your group by clause, it should work. ConsumableID rows have one date, and if you include that in your group by, you'll never be able to get a max and min, therefore the difference.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T14:44:08.940

Your problem is in your join statement.

Change the following line:

```
LEFT JOIN ConsumableTypes ON ConsumableVariants.Type = ConsumableVariants.Type 
```

To something like:

```
LEFT JOIN ConsumableTypes ON ConsumableVariants.Type = ConsumableTypes.Type 
```

(or whatever table you are joining to).

# jquery - Using fancybox API methods

> ID：11083997
> 
> 赞同：0
> 
> 时间：2012-06-18T13:32:18.173
> 
> 标签：jquery, api, fancybox

I am using Fancybox for popups and have one that I need to resize (when it's open). I have found the following API method;

```
$.fancybox.update() 
```

I'm a little unsure of how to implement this. Do I need to add this to my existing script thats controlling the popup behaviour:

```
$('#myPopUp').fancybox(); 
```

Or does this get added somewhere else (jquery.fancbox.js for example)?

Any help would be appreciated.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T12:55:23.930

只需在需要时调用它，就像任何普通方法一样。