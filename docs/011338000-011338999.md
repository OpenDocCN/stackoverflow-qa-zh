# StackOverflow 问答 11338000-11338999

# mysql - 如何在 MySQL 的单个存储过程中使用多个游标

> ID：11338006
> 
> 赞同：6
> 
> 时间：2012-07-05T04:53:46.870
> 
> 标签：mysql, stored-procedures, database-cursor

我想创建一个能够执行多任务的存储过程。然后它在下面收到错误消息

`Error Code: 1338 Cursor declaration after handler declaration`

请看我的店铺流程

```
CREATE PROCEDURE `spTest`(OUT v1 VARCHAR(500), OUT v2 VARCHAR(500))
BEGIN

    DECLARE  _cur_1 CURSOR FOR
        SELECT id
        FROM tbl_1;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET _cur1Done = 1;

    DECLARE  _cur_2 CURSOR FOR
        SELECT id
        FROM tbl_2;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET _cur2Done = 1;

    ....... 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-10-29T16:12:14.543

一个块中可能只有一个`continue handler`处于活动状态。Multiple`continue handler`得到`Duplicate handler declared in same block`问题，即使你得到正确的声明顺序（首先是所有游标，然后是处理程序）。

您可以通过创建一个专门用于游标访问的块来解决此问题。您可以将这些代码块放在同一个父块中，或者放在嵌套循环中，或者任何地方。

```
DELIMITER $$
CREATE PROCEDURE `spTest`(OUT v1 VARCHAR(500), OUT v2 VARCHAR(500))
BEGIN

    declare tbl_1_id int;
    declare tbl_2_id int;

    declare _cur1Done boolean default false;
    declare _cur2Done boolean default false;

    DECLARE  _cur_1 CURSOR FOR SELECT id FROM tbl_1;
    DECLARE  _cur_2 CURSOR FOR SELECT id FROM tbl_2;

    begin -- dedicated block to fetch from cursor 1 and update its flag
        declare continue handler for not found set _cur1Done = TRUE;
        fetch _cur_1 into tbl_1_id;
    end;

    begin -- dedicated block to fetch from cursor 2 and update its flag
        declare continue handler for not found set _cur2Done = TRUE;
        fetch _cur_2 into tbl_2_id;
    end;
END $$
DELIMITER ; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-05T08:34:47.833

在[手册](http://dev.mysql.com/doc/refman/5.1/en/cursors.html)中它说

> 游标声明必须出现在处理程序声明之前以及变量和条件声明之后。

你也不能有多个 continue 处理程序（MySQL 应该如何知道哪个 continue 处理程序与哪个游标相关？不幸的是你不能指定），除非你**嵌套**它们，例如像这样：

```
DELIMITER $$
CREATE PROCEDURE `spTest`(OUT v1 VARCHAR(500), OUT v2 VARCHAR(500))
BEGIN
BLOCK1:BEGIN

    DECLARE variable1 INT;

    DECLARE  _cur_1 CURSOR FOR SELECT id FROM tbl_1;

    DECLARE CONTINUE HANDLER FOR NOT FOUND SET _cur1Done = 1;
    LOOP1: LOOP
    FETCH _cur_1 INTO variable1;
    IF _cur1Done THEN 
        CLOSE _cur_1;
        LEAVE LOOP1;
    END IF;

    BLOCK2:BEGIN

        DECLARE variable2 INT;

        DECLARE  _cur_2 CURSOR FOR SELECT id FROM tbl_2;

        DECLARE CONTINUE HANDLER FOR NOT FOUND SET _cur2Done = 1;

        OPEN _cur_2;
        LOOP2: LOOP

            FETCH _cur_2 INTO variable2;
            IF _cur2Done THEN
                CLOSE _cur_2;
                LEAVE LOOP2;
            END IF;
        END LOOP LOOP2;
    END BLOCK2;
END LOOP LOOP1;
END BLOCK1;
END $$
DELIMITER ; 
```

# mysql - 在 Mysql 中定义 CHAR 类型的长度

> ID：11338007
> 
> 赞同：1
> 
> 时间：2012-07-05T04:53:53.970
> 
> 标签：mysql, types

考虑 MySQL 中的两种 String 类型

**1.字符[长度]**

**2.Varchar[长度]**

问题：对于 Varchar 或 Char 哪种类型，需要定义**LENGTH字段？**

根据我的观点，它是 Char，但在一个教程中写道，您必须为 Varchar 定义长度，而对 Char 类型没有这样的要求。

**CHAR(M)** - 长度在 1 到 255 个字符之间的固定长度字符串（例如

CHAR(5))，在存储时用空格填充到指定长度。定义长度

不是必需的，但默认值为 1。

**VARCHAR(M)** - 长度在 1 到 255 个字符之间的可变长度字符串；为了

例如 VARCHAR(25)。创建 VARCHAR 字段时必须定义长度。

链接：www.tutorialspoint.com/mysql/mysql-data-types.htm

教程中写的东西对吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T05:05:42.800

如果我清楚你在寻找什么。

看看这个。

```
CREATE TABLE mytable (column1 VARCHAR(20), column2 CHAR);

insert into mytable values('stackoverflow','v');
select * from mytable; 
```

如果您不指定 char 数据类型的长度，则默认为 1。

现在，如果您尝试`insert string in column2`超过长度 1，它将引发错误。

摘要： Varchar 数据类型需要长度，否则在 char 数据类型中如果您未指定长度，则默认为 1 时会引发错误。

# winapi - 如何透明地将 HICON 从 GDI 复制到 GDI+？

> ID：11338009
> 
> 赞同：1
> 
> 时间：2012-07-05T04:54:02.770
> 
> 标签：winapi, visual-c++, transparency, gdi+, gdi

无论我做什么，我都会在图标周围出现白色/黑色边框......什么给了？！

甚至*有可能*正确地做到这一点吗？如何将 HICON 复制到具有透明度的 GDI+ 位图？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-05T04:54:03.407

我只是浪费了几个小时。

再加上我之前浪费了多少次，是的，这令人沮丧。

原来这是 GDI+ 的问题。解决方法在[这里](https://web.archive.org/web/20120201182215/http://connect.microsoft.com/VisualStudio/feedback/details/97232/graphics-drawicon-will-not-render-alpha-icon-correctly-when-graphics-is-a-bitmap)；这里有一些可能有帮助的代码：

```
HICON hIcon = ...;

ICONINFO ii; GetIconInfo(hIcon, &ii);
BITMAP bmp; GetObject(ii.hbmColor, sizeof(bmp), &bmp);

Gdiplus::Bitmap temp(ii.hbmColor, NULL);
Gdiplus::BitmapData lockedBitmapData;
Gdiplus::Rect rc(0, 0, temp.GetWidth(), temp.GetHeight());

temp.LockBits(&rc, Gdiplus::ImageLockModeRead, temp.GetPixelFormat(), &lockedBitmapData);

Gdiplus::Bitmap image(
    lockedBitmapData.Width, lockedBitmapData.Height, lockedBitmapData.Stride,
    PixelFormat32bppARGB, reinterpret_cast<BYTE *>(lockedBitmapData.Scan0));

temp.UnlockBits(&lockedBitmapData);

// Now 'image' has the icon, with transparency 
```

# android - 添加 android lib 项目作为对应用引擎项目的引用

> ID：11338011
> 
> 赞同：0
> 
> 时间：2012-07-05T04:54:04.813
> 
> 标签：android, google-app-engine

我创建了一个 android 项目，并附带一个库项目。我现在想使用谷歌应用引擎为安卓应用构建一个后端。我想在新的应用程序引擎项目中使用 android lib 项目中的一些类等。设置该依赖项的最佳方法是什么？如果有帮助，我正在使用 IntelliJ ......

谢谢本

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T05:00:20.707

可能这个对你有帮助..

如果您创建`.jar`项目的文件，则将该 jar 放在新项目的 libs 文件夹中并使用它们。或者您可以将您的包复制粘贴到您的项目中。

# c++ - 模板模板参数是标准的扩展还是一部分？

> ID：11338019
> 
> 赞同：9
> 
> 时间：2012-07-05T04:55:23.907
> 
> 标签：c++, templates, template-templates

我正在搜索与模板模板参数相关的其他内容，并且在这个答案中发生了，[该答案](https://stackoverflow.com/a/6485439)声称标准不允许模板模板*参数*。

但是，以下代码在最新的 clang (3.2) 和最新的 GCC (4.8) 中编译：

```
template<template<template<typename> class> class T> struct test {};
template<template<typename> class T> struct foo {};
test<foo> bar; 
```

这是扩展名，还是其他答案实际上不正确并且标准允许？如果没有，是否有任何遗漏的特殊原因？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-05T05:33:01.607

在`std::vector<int>`类模板中将类型作为参数`std::vector`传递。`int`在`std::get<42>(some_tuple)`中，函数模板`std::get`将值`42`作为参数传递。也许难以想象，前一种参数称为模板的类型参数（或模板类型参数），而后一种是（模板）非类型参数。

但是模板也可以接受另一种参数：其他模板。例如，`template<template<typename> class T> void foo();`声明一个以模板为参数的函数模板，该模板本身接受一个类型参数。（请注意，虽然模板不是类型，但术语“非类型参数”仍然不包括模板模板参数。它保留用于类似的参数`template<int NonTypeArgument>`。）

由于在 C++ 中没有模板模板之类的东西（有类、函数和别名模板——但它们统称为简单的“模板”），因此没有模板模板模板参数之类的东西。你所拥有的是一个运行模板模板参数，其中预期的模板参数本身具有一个模板模板参数。我在标准中找不到禁止这样做的参考，例如您链接声明的答案。

# android - 模拟电源按钮按下以显示关机对话框

> ID：11338022
> 
> 赞同：22
> 
> 时间：2012-07-05T04:56:02.597
> 
> 标签：android, android-ndk, android-source

我正在尝试调用按下电源按钮时出现的关闭对话框。但我想从 android 应用程序或 Junit 测试用例中完成这项任务。在这种情况下，我将选择最可行的方法。我一直在尝试这样做，但未能成功。我正在尝试使用以下五种方法：

# 第一种方法：

```
long eventTime = SystemClock.uptimeMillis(); boolean
                  dispateched = launcherButtonWInst.dispatchKeyEvent(new
                  KeyEvent(eventTime, eventTime, KeyEvent.ACTION_DOWN,
                  KeyEvent.KEYCODE_POWER, 0, 0, 0, 0, 0) );
                  Log.i(LOG_TAG,String.valueOf(dispateched)); boolean
                  dispateched2=launcherButtonWInst.dispatchKeyEvent(new
                  KeyEvent(eventTime+2000, eventTime+2000, KeyEvent.ACTION_UP,
                  KeyEvent.KEYCODE_POWER, 0, 0, 0, 0, 0) );
                  Log.i(LOG_TAG,String.valueOf(dispateched2)); 
```

==================================================== =====

# 第二种方法：

```
private void generateKeys() {
        // Obtain the WindowManager system service interface
        IBinder wmbinder = ServiceManager.getService("window");
        Log.d(LOG_TAG, "WindowManager: " + wmbinder);
        IWindowManager wm = IWindowManager.Stub.asInterface(wmbinder);
        keyUpDown(wm, KeyEvent.KEYCODE_POWER);
    }

    private void keyUpDown(IWindowManager wm, int keycode) {
        try {
            Log.d(LOG_TAG, "keyDown: " + keycode);
            wm.injectKeyEvent(new KeyEvent(KeyEvent.ACTION_DOWN, keycode), true);
            Log.d(LOG_TAG, "keyUp: " + keycode);
            wm.injectKeyEvent(new KeyEvent(KeyEvent.ACTION_UP, keycode), true);
        } catch (RemoteException e) {
            // TODO Auto-generated catch block
            Log.e("ERROR!!!!!", e.toString());
            e.printStackTrace();
        }
    } 
```

==================================================== ==========

# 第三种方法：

```
Instrumentation inst = new Instrumentation();
        inst.sendKeyDownUpSync(KeyEvent.KEYCODE_POWER); 
```

==================================================== ====

# 第四种方法：

```
try {
                         long now =SystemClock.uptimeMillis();
                         KeyEvent down = new KeyEvent(now, now,
                         KeyEvent.ACTION_DOWN, KeyEvent.KEYCODE_POWER, 0);

                         Log.d( LOG_TAG,down.toString() );
                         KeyEvent up = new KeyEvent(now+2000, now+2000,
                         KeyEvent.ACTION_UP, KeyEvent.KEYCODE_POWER, 0);
                         Log.d( LOG_TAG,up.toString() );
                         (IWindowManager.Stub.asInterface(ServiceManager.getService("window"))).injectKeyEvent(down,
                         true);
                         try {
                         Thread.sleep(2000);
                         } catch (InterruptedException e) {
                         // TODO Auto-generated catch block
                         e.printStackTrace();
                         }
                         (IWindowManager.Stub.asInterface(ServiceManager.getService("window"))).injectKeyEvent(up,
                         true);
                         } catch (RemoteException e) {
                         Log.d("LOGTAG",
                         "SendKeyEvent exception:"+e.getMessage()); 
```

# }

# 第五种方法：

```
try {
                    Context mContext = getBaseContext();
                    Dialog dialog=new Dialog(mContext);
                    dialog.getWindow().setType(WindowManager.LayoutParams.TYPE_SYSTEM_ALERT);
                    ShutdownThread.shutdown(mContext, true);

                } catch (Exception e) {
                    Log.e("ERROR!!!", e.toString());
                    e.printStackTrace();
                } 
```

==================================================== ==================

但它们都不适合我。第五个方法是调用 ShutdownThread 类的 shutdown() 方法。但它给了我以下错误：

```
07-05 10:18:21.489: W/System.err(709): android.view.WindowManager$BadTokenException: Unable to add window android.view.ViewRootImpl$W@4104d798 -- permission denied for this window type
07-05 10:18:21.499: W/System.err(709):     at android.view.ViewRootImpl.setView(ViewRootImpl.java:537)
07-05 10:18:21.499: W/System.err(709):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:301)
07-05 10:18:21.499: W/System.err(709):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:215)
07-05 10:18:21.499: W/System.err(709):     at android.view.WindowManagerImpl$CompatModeWrapper.addView(WindowManagerImpl.java:140)
07-05 10:18:21.499: W/System.err(709):     at android.app.Dialog.show(Dialog.java:278)
07-05 10:18:21.499: W/System.err(709):     at com.android.internal.app.ShutdownThread.shutdown(ShutdownThread.java:124)
07-05 10:18:21.499: W/System.err(709):     at aexp.keygen.KeyGen$1.onClick(KeyGen.java:47)
07-05 10:18:21.499: W/System.err(709):     at android.view.View.performClick(View.java:3511)
07-05 10:18:21.499: W/System.err(709):     at android.view.View$PerformClick.run(View.java:14105)
07-05 10:18:21.509: W/System.err(709):     at android.os.Handler.handleCallback(Handler.java:605)
07-05 10:18:21.509: W/System.err(709):     at android.os.Handler.dispatchMessage(Handler.java:92)
07-05 10:18:21.509: W/System.err(709):     at android.os.Looper.loop(Looper.java:137)
07-05 10:18:21.509: W/System.err(709):     at android.app.ActivityThread.main(ActivityThread.java:4424)
07-05 10:18:21.509: W/System.err(709):     at java.lang.reflect.Method.invokeNative(Native Method)
07-05 10:18:21.509: W/System.err(709):     at java.lang.reflect.Method.invoke(Method.java:511)
07-05 10:18:21.509: W/System.err(709):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
07-05 10:18:21.509: W/System.err(709):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
07-05 10:18:21.509: W/System.err(709):     at dalvik.system.NativeStart.main(Native Method) 
```

其他方法不会引发任何错误。我需要帮助来完成这项任务，即使我必须调用本机方法来完成这项任务，无论如何我都会这样做，但我必须显示关闭 UI。

谢谢

阿什瓦尼

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-07-05T05:01:45.413

## 第六种方法：

```
$ adb shell input keyevent 26 
```

作品！

## 方法七：

如果你想要长按

```
$ adb shell <<!
> sendevent /dev/input/event5 1 107 1
> sleep 1
> sendevent /dev/input/event5 1 107 0
> exit
> ! 
```

您的设备可能使用不同的输入设备`/dev/input/event5`

## 第八种方法

这种方法更聪明一点，使用`sendevent`或`input keyevent`依赖于 API 级别。

```
#! /usr/bin/env python

from com.dtmilano.android.adb.adbclient import *

AdbClient(serialno='your-serial-number-here').longPress('POWER') 
```

这里的优点是这是一种通用方法，也可以用于发送其他密钥。 **AdbClient**是一个 python 实现，`adb`与**[AndroidViewClient/culebra](https://github.com/dtmilano/AndroidViewClient)**一起分发。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-06-22T13:48:46.493

其他方法

adb shell 输入 keyevent --longpress KEYCODE_POWER

# objective-c - 保存和加载文本颜色

> ID：11338027
> 
> 赞同：1
> 
> 时间：2012-07-05T04:56:57.763
> 
> 标签：objective-c, ios, nsdata, uicolor

我看了又看，寻找这个，当我终于找到一些东西时，它不起作用。我正在尝试保存和加载用户选择的文本颜色。这是我的保存按钮：

```
-(IBAction)save123456 {
    NSData *colorData = [NSKeyedArchiver archivedDataWithRootObject:textview];
    [[NSUserDefaults standardUserDefaults] setObject:colorData forKey:@"myColor"];
} 
```

这是我的负担：

```
-(IBAction)load123456 {
    NSData  *colorData = [[NSUserDefaults standardUserDefaults] objectForKey:@"myColor"];
    UIColor *color = [NSKeyedUnarchiver unarchiveObjectWithData:colorData];
} 
```

如果有帮助，我的文本视图是 textview。此外，我正在通过 tuchupinside 链接所有内容，因此请告诉我是否应该更改任何内容。

此外，如果有人知道如何保存用户选择的文本字体也会有所帮助。非常感谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T07:02:20.423

好吧，你可以保存颜色的 RGB。和字体的字体名称。因此，当您保存时，请为 font: 和颜色的 RGB 存储这些`font.fontName`值`font.pointSize` 。[在这里](https://stackoverflow.com/questions/4700168/get-rgb-value-from-uicolor-presets)，您可以看到如何获取`UIColor`对象的 RGB。这些都是 NSString 和 float 值，因此您在保存它们时应该没有任何问题。

```
- (NSString *) pahtForFile:(NSString*) filename
{
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
return [documentsDirectory stringByAppendingPathComponent:filename];
}

- (void) save
{
//get RGB and fontName , fontSize like I explained above

NSMutableDictionary *dictionary = [NSMutableDictionary dictionary];
[dictionary setObject:fontName forKey:@"fontName"];
[dictionary setObject:[NSNumber numberWithFloat:fontSize]   forKey:@"fontSize"];
[dictionary setObject:[NSNumber numberWithFloat:red]    forKey:@"red"];
[dictionary setObject:[NSNumber numberWithFloat:green]  forKey:@"green"];
[dictionary setObject:[NSNumber numberWithFloat:blue]   forKey:@"blue"];

NSString *filepath = [self pathForFile:@"save.plist"];
[dictionary writeToFile:filepath atomically:TRUE];
}

- (void) load 
{
float red,green,blue,fontSize;
NSString *fontName;

NSDictionary *dictionary = [NSDictionary dictionaryWithContentsOfFile:[self pahtForFile:@"save.plist"]];
red = [[dictionary objectForKey:@"red"] floatValue];
green = [[dictionary objectForKey:@"green"] floatValue];
blue = [[dictionary objectForKey:@"blue"] floatValue];

fontSize = [[dictionary objectForKey:@"fontSize"] floatValue];
fontName = [dictionary objectForKey:@"fontName"];

//now rebuild color and font like this:
UIColor *color = [UIColor colorWithRed:red green:green blue:blue alpha:1];
UIFont *font = [UIFont fontWithName:fontName size:fontSize];
} 
```

希望这可以帮助。顺便说一句：如果您发现答案有用，请将其标记为正确。

干杯，

乔治

# client-server - Dropbox 使用的架构

> ID：11338032
> 
> 赞同：3
> 
> 时间：2012-07-05T04:57:58.350
> 
> 标签：client-server, p2p, dropbox

我想知道Dropbox 使用的是**客户端服务器**还是**对等架构。**我的疑问在于：假设我们有两个通过 Dropbox 同步的系统。

> 系统 1：**保管箱 > 文件夹_A > 文件_1**
> 
> System2：**保管箱 > 文件夹_A > 文件_1**

最初两者都是同步的。现在假设 System1 上的用户在 Folder_A 中添加了一个 file_2。现在这个文件被上传到 Dropbox 服务器。但我的问题是服务器如何通知 System2 关于 file_2。

我看到这里使用了**[观察者模式](http://en.wikipedia.org/wiki/Observer_pattern)**。但是是否使用**了拉或推机制**？

> **Point1**：System2 上的 Dropbox 客户端是否会在一段时间后轮询 Dropbox 服务器以获取更新。
> 
> **Point2**：Dropbox 服务器将文件推送到 system2 本身。
> 
> **Point3** : 包括保管箱中央系统在内的所有系统都被视为对等点。点对点网络形成。dropbox central peer 控制将哪个文件发送到哪个系统。

PS：我的问题不是特定于保管箱，而是所有文件同步服务提供商网站。我只是使用保管箱作为参考。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T05:32:44.853

我怀疑使用了 pull 机制，因为 push 中有太多的防火墙问题，[这篇文章](https://www.dropbox.com/help/82)强烈建议使用 pull。当然，最简单的确定方法是查看wireshark跟踪。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:20:37.920

dropbox 使用推送机制。它也有

Dropbox 客户端与通知服务器的持续 TCP 连接用于在其他地方执行的更改。客户端最终会请求新的更改，如果没有更改，服务器会每 60 秒响应一次。一旦响应来自服务器，就会发送新请求。更改相反，一旦执行，中央存储就会被通告。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T05:07:53.307

我不太了解，但我认为 Dropbox（或其他类似网站）使用推送机制。因为在拉机制中会有很多不必要的调用。如果我错了，请纠正我。

# javascript - 以某种方式发生的神秘 ajax 请求

> ID：11338033
> 
> 赞同：1
> 
> 时间：2012-07-05T04:58:00.470
> 
> 标签：javascript, jquery, jquery-ui, jquery-ui-autocomplete, requirejs

每当我在自动完成字段中输入一个 ajax 请求时，我就没有为此编写任何代码。检查控制台，我看到这是对控制器的 400 GET 请求，该控制器加载了这个视图，并在 url 上附加了参数（json）。我完全被难住了。

```
<head>
<script data-main="<?=base_url()?>public/requirejs/main.js" src="<?=base_url()?>public/requirejs/require-jquery.js"></script>
<script>
    requirejs(['a_mod'],
        function(a_mod) {
            $(document).ready(function() {
                var param = [];
                param = $('#elem').attr('value');
                a_mod.foo(param, "#someElem");
            });
        });
<script> 
```

**main.js**

```
require(["jquery",
         "jquery-ui"],
         function() {

         }
); 
```

自动完成功能

```
'foo' : function(param, elementAutocomplete, elementTags) {
        console.log("init ac");
        $(elementAutocomplete).autocomplete({
            source: param,
            minLength: 1,
            select: function (event, ui) {
                event.preventDefault();
                //
            }

        }).data( "autocomplete" )._renderItem = function( ul, item ) {
            return $("<li></li>")
                .data( "item.autocomplete", item )
                .append( '<a>' + item.label  + '</a>' )
                .appendTo(ul);
        }
    }, 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T05:05:48.317

您`source`的自动完成器属性是一个字符串：

```
param = $('#elem').attr('value'); 
```

[字符串`source`表示](http://docs.jquery.com/UI/Autocomplete)它是一个 URL ：

> 只需指定源选项，即可自定义自动完成以使用各种数据源。数据源可以是：
> 
> *   包含本地数据的数组
> *   一个字符串，指定一个 URL
> *   回调

说`var param = [];`只是意味着它`param`被初始化为一个空数组，并不意味着它`param`总是一个数组。您需要将您的`param`值固定为一个数组。

# android - RabbitMQ 与 GAE

> ID：11338034
> 
> 赞同：3
> 
> 时间：2012-07-05T04:58:06.557
> 
> 标签：android, google-app-engine, cluster-computing, rabbitmq

我正在编写一个实时交换消息的实时手机游戏，我想知道我应该选择什么：RabbitMQ 或 GAE。我知道 GAE 是一个有效的解决方案，并且使我的编程速度更快，因为几乎所有东西都已经实现了，但从长远来看，我不知道我是否愿意支付那些非常高的价格 - 所以它归结为实现我自己的服务器上的一些其他消息交换服务，所以我正在考虑 RabbitMQ。

让我担心的是可以将 RabbitMQ 节点添加到集群中，但是如果 GAE 使用 1.000 个实例，那么处理相同负载需要多少个 RabbitMQ 节点，因为我真的不想在一个集群中拥有 1.000 个节点集群，这意味着我必须租用 1.000 VPS。

所以，这就是为什么我试图确定处理 100 万用户需要多少个 rabbitmq 节点（在一个集群中）。我正在尝试将其与 Google Appengine 实例进行比较。假设我在 GAE 上的应用程序应该处理以下内容： - 10.000 个请求/秒 - 1000 个实例正在运行

我知道我们无法真正比​​较这些，但无论如何让我们这样做。我想知道以下问题：

**1.我要处理10.000个请求/秒（每个请求需要是至少需要1-10分钟的永久连接）：**

a) 需要多少个 GAE 实例才能实现？

b) RabbitMQ 需要集群中多少个节点才能工作？

**2\. 我想与具有 1.000 个 GAE 实例的 RabbitMQ 进行比较：**

a) 与 RabbitMQ 中的 1 个集群节点相比，1 个 GAE 实例可以做多少工作？

**3\. 你会选择什么：**

a) 我知道你们都会说 GAE，因为它真的很容易，已经准备好了，等等。

b) 但话又说回来，我们是否愿意支付所有这些费用。更不用说谷歌有一些限制，因为作者在这里谈论它们：http: [//www.carlosble.com/2010/11/goodbye-google-app-engine-gae/](http://www.carlosble.com/2010/11/goodbye-google-app-engine-gae/)。

感谢所有有价值的答案

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T08:53:24.347

GAE 无法与 RabbitMQ 相提并论，以至于您的问题几乎没有意义。RabbitMQ 只是消息传递，您很可能必须设置更多基础架构来支持您的用例。GAE 是一个完整的基础架构。也就是说，RabbitMQ 每秒可以处理大量的消息。

也许你想为移动游戏创建一个 API 来连接，以及一些应用程序逻辑来处理这些消息。您不会让游戏客户端连接到您的 RabbitMQ 服务器并直接与其他客户端对话。

在 GAE 上，您通常会收到请求并立即响应。如果您需要持续更长时间的连接并允许您将消息推送到游戏客户端（不使用 APN 等），您可能需要考虑 XMPP 或 websockets，因此除了 GAE 之外，您还需要其他东西。[Cloud Endpoints](http://www.youtube.com/watch?v=NU_wNR_UUn4)也可能值得一看。

博客文章中提到的一些限制现在已经解决。

我认为您需要更多地处理您的需求和架构，并且当您这样做时，您将对技术选择有更好的了解。选择像 RabbitMQ 这样的特定 AMQP 服务器是您在决定使用消息传递、如何使用消息传递、看到 AMQP 作为消息传递解决方案（ZeroMQ、XMPP 是一些替代方案）之后做出的决定，并且需要找到一个快速高效的AMQP 服务器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T05:34:58.883

这是一个在 EC2 上使用 RMQ 并报告“RabbitMQ 在 m1.xlarge 上执行 28k/sec 输入输出直接消息传递，70k/sec fanout”的人。

[https://twitter.com/rbranson/status/220399933583396865](https://twitter.com/rbranson/status/220399933583396865)

# javascript - 使用来自 asp.net 的参数调用 java 脚本函数

> ID：11338036
> 
> 赞同：1
> 
> 时间：2012-07-05T04:58:29.957
> 
> 标签：javascript, asp.net

```
 <div style="float: left">
                        <a href="javascript:void(0)" onclick="javascript:chatWith('Ankit')">
                            <asp:Label ID="NameLbl2" Text='<%# Eval("Values")  %>' runat="server"></asp:Label></a></div> 
```

这是我在带有 java 脚本函数的中继器中使用的代码`onclick="javascript:chatWith('userName')"`，我想在“EVAL()”的帮助下在“userName”的位置使用另一个名称。??????

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:22:54.237

如果该`userName`字段是*dataSource*的成员，则使用`Eval()`：

```
<a href="javascript:void(0)" 
   onclick=javascript:chatWith('<%# Eval("userName") %>')>
   Someting...
</a> 
```

# delphi - delphi中的资源错误

> ID：11338039
> 
> 赞同：0
> 
> 时间：2012-07-05T04:58:55.487
> 
> 标签：delphi

我的项目很顺利。但是当我在调试模式下运行应用程序时，每次都会遇到很多关于资源的运行时错误。我该如何解决这个问题？

**编辑**

`the Actual error is "project raised exception class EResNotFound with message 'Resource WW_DBN_PRIOR_ENABLED not found'`

# php - 用php输出xml时出错

> ID：11338040
> 
> 赞同：0
> 
> 时间：2012-07-05T04:58:57.153
> 
> 标签：php, xml, google-maps

我正在尝试在我的网站上实施 Google 地图。我在这里学习教程：[https ://developers.google.com/maps/articles/phpsqlajax_v3?hl=sv](https://developers.google.com/maps/articles/phpsqlajax_v3?hl=sv)

但是，我在循环数据库时无法正确输出 xml。在本教程中有关于如何输出 xml 的三个示例。使用示例二和三时，我都收到“第 1 列第 2 行错误：文档末尾的额外内容”。

Som 这是怎么回事，为什么我会收到此错误消息。由于代码来自谷歌，我认为它是正确的，所以我最好的猜测是我的文件中有某种隐藏的符号。

非常感谢任何帮助！

```
<?php  

 require("dbinfo.php"); 

// Start XML file, create parent node

$dom = new DOMDocument("1.0");
$node = $dom->createElement("markers");
$parnode = $dom->appendChild($node); 

// Opens a connection to a MySQL server

$connection=mysql_connect (localhost, $username, $password); 
if (!$connection) {  die('Not connected : ' . mysql_error());} 

// Set the active MySQL database

$db_selected = mysql_select_db($database, $connection);
if (!$db_selected) {
die ('Can\'t use db : ' . mysql_error());
} 

// Select all the rows in the markers table

$query = "SELECT * FROM markers WHERE 1"; 
$result = mysql_query($query);
if (!$result) {  
die('Invalid query: ' . mysql_error());
} 

header("Content-type: text/xml"); 

// Iterate through the rows, adding XML nodes for each

while ($row = @mysql_fetch_assoc($result)){  
// ADD TO XML DOCUMENT NODE  
$node = $dom->createElement("marker");  
$newnode = $parnode->appendChild($node);   
$newnode->setAttribute("name",$row['name']);
$newnode->setAttribute("address", $row['address']);  
$newnode->setAttribute("lat", $row['lat']);  
$newnode->setAttribute("lng", $row['lng']);  
$newnode->setAttribute("type", $row['type']);
} 
echo $dom->saveXML();
?> 
```

**编辑：**

```
Here's an example of my output which might give some more insights on what's going on:

<marker name="Pan Africa Market" address="1521 1st Ave, Seattle, WA" lat="47.608940"      
lng="-122.340141" type="restaurant">
<marker name="Buddha Thai &amp; Bar" address="2222 2nd Ave, Seattle, WA"    
lat="47.613590" lng="-122.344391" type="bar">
<marker name="The Melting Pot" address="14 Mercer St, Seattle, WA" lat="47.624561"    
lng="-122.356445" type="restaurant">
</marker>
</marker>
</marker>
</marker> 
```

所以问题似乎是每个循环的标记节点都没有关闭。相反，关闭节点只是在最后添加。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T07:04:15.253

您已经分配`$node`给顶部的**标记**节点，并且您正在 while 循环中覆盖它......这就是它在第一次迭代后搞砸的原因。用这个替换你的`while`循环：

```
<?php
while ($row = @mysql_fetch_assoc($result)){  
// ADD TO XML DOCUMENT NODE  
    $marker = $dom->createElement("marker");  
    $node->appendChild($marker);   
    $marker->setAttribute("name",$row['name']);
    $marker->setAttribute("address", $row['address']);  
    $marker->setAttribute("lat", $row['lat']);  
    $marker->setAttribute("lng", $row['lng']);  
    $marker->setAttribute("type", $row['type']);
}
?> 
```

希望这可以帮助。

# java - 如何在 Ubuntu 中编译和执行这个 JAVA 应用程序？

> ID：11338043
> 
> 赞同：3
> 
> 时间：2012-07-05T04:59:16.100
> 
> 标签：java, ubuntu, compiler-construction, javac, hdfs

![这是我的java项目的文件夹结构](../Images/eae5414b04dc4368bea73c54d91dacef.png)

*在src/hdfs*中有一个 Hdfs.java ，在*lib*中有一个实用程序 jar 文件。

当我使用实用程序 jar 编译 Hdfs.java 时，我提供了哪些选项？我该如何执行？

我浏览了[这里](http://manpages.ubuntu.com/manpages/hardy/man1/icepick-javac.1.html)的例子，我很困惑。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T05:14:38.303

如果您不想在 NetBeans 中使用编译器，请转到您的终端应用程序，将当前目录设置为`src`并调用

```
javac -cp .:../lib/utility.jar Hdfs.java 
```

要运行，您可以这样做：

```
java -cp .:../lib/utility.jar Hdfs 
```

如果您想在 NetBeans 中编译和运行，请参阅 Jigar Joshi 的回答。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:00:35.293

看起来您正在使用 net beans，右键单击项目并进行**清理和构建**

# python - Python 多处理：map 和 imap 有什么区别？

> ID：11338044
> 
> 赞同：54
> 
> 时间：2012-07-05T04:59:53.770
> 
> 标签：python, multiprocessing

我正在尝试学习如何使用 Python 的多处理包，但我不明白 和 之间的`map`区别`imap`。

`map`返回一个实际的数组或集合，而`imap`返回一个数组或集合的迭代器的区别是什么？我什么时候会使用其中一个？

另外，我不明白 chunksize 参数是什么。这是传递给每个进程的值的数量吗？

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2012-07-05T05:07:00.333

这就是区别。您可能使用 imap 而不是 map 的一个原因是，如果您想开始处理前几个结果而不等待计算其余结果。map 在返回之前等待每个结果。

至于 chunksize，有时分配大量工作会更有效，因为每次工作人员请求更多工作时，都会产生 IPC 和同步开销。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-07-08T17:40:59.190

imap 来自 itertools 模块，该模块用于 python 中的快速和内存效率。Map 将**返回列表**，其中 imap**返回**为每次迭代生成值的对象（在 python 2.7 中）。下面的代码块将清除差异。

地图返回列表可以直接打印

```
 from itertools import *
    from math import *

    integers = [1,2,3,4,5]
    sqr_ints = map(sqrt, integers)
    print (sqr_ints) 
```

imap 返回转换为列表并打印的对象。

```
from itertools import *
from math import *

integers = [1,2,3,4,5]
sqr_ints = imap(sqrt, integers)
print list(sqr_ints) 
```

Chunksize 将使**可迭代的可拆分为指定大小（近似）的块，**并且每个块都作为单独的任务提交。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-08-02T01:30:32.280

使用 imap，分叉调用是并行完成的，而不是一个接一个的顺序。例如，在下面，您要点击三个交易所来获取订单簿。imap.pool 调用不是按顺序点击交易所 1，然后是交易所 2，然后是交易所 3，而是非阻塞式的，并且在您调用时直接转到所有三个交易所以获取订单簿。

```
from pathos.multiprocessing import ProcessingPool as Pool
pool = Pool().imap
self.pool(self.getOrderBook, Exchanges, Tickers) 
```

# jquery - 超出浏览器宽度时自动定位工具提示

> ID：11338045
> 
> 赞同：5
> 
> 时间：2012-07-05T05:00:01.920
> 
> 标签：jquery, css

我想要发生的是当工具提示宽度超过浏览器的可视区域时，它会自动重新定位自己，因此可以完全查看内容。工具提示不应与引用的 div 重叠。重新定位自身时，工具提示不应调整宽度或高度。请帮忙。

这是我的示例[代码](http://jsfiddle.net/MyNameIsCode/epJjN/2/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:30:12.123

你想这样做吗？

**见演示：http:** [//jsfiddle.net/rathoreahsan/mpDXY/](http://jsfiddle.net/rathoreahsan/mpDXY/)

**参考网站：** [http ://www.javascriptkit.com/script/script2/htmltooltip.shtml](http://www.javascriptkit.com/script/script2/htmltooltip.shtml)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-26T02:32:06.180

现在我制作了自己的插件来自动定位对象：

```
(function($){
    $.fn.autoposition = function(ref, opt){     
            var _this = $(this);
            var position = function(_tip, _ref, opt){
            var o = $.extend({
                "topallowance":0,
                "leftallowance":0
            }, o || opt);

            var _window = $(window);
            var _widthOfWindow = _window.width();
            var _widthDifferenceFromXaxisOfRef = _widthOfWindow - _ref.offset().left;
            var _xAdjustmentOftipWhenExceedAtLeftSide = ((_tip.outerWidth() > _widthDifferenceFromXaxisOfRef) ? (_tip.outerWidth() - _widthDifferenceFromXaxisOfRef) + o.leftallowance : 0);
            var _leftOfTheTip = _ref.offset().left - _xAdjustmentOftipWhenExceedAtLeftSide;

            var _heightOfWindow = _window.outerHeight();
            var _heightDifferenceFromYaxisOfRef = _heightOfWindow - (_ref.offset().top + _ref.outerHeight());
            var _topOfTheTip = (_tip.outerHeight() > _heightDifferenceFromYaxisOfRef) ? (_ref.offset().top - _tip.outerHeight()) - o.topallowance : (_heightOfWindow - _heightDifferenceFromYaxisOfRef) + o.topallowance;

            _tip
                .css('position', 'absolute')
                .css('top', _topOfTheTip)
                .css('left', _leftOfTheTip)
            ;
        };

        position(_this, ref, opt);
        $(window).bind('resize', function(){
            position(_this, ref, opt);
        });
    };
})(jQuery); 
```

要使用它：

```
$(".TooltipSample").autoposition($(".theObjectWhereTheTooltipWillShow")); 
```

希望它可以对其他人有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T09:54:27.410

我找到了解决方案并在代码箱上完成如下：

1) 在标题中包含 jquery-1.2.2.pack.js 和 htmltooltip.js javascript 文件。

2）编写HTML：

```
<div id="container">
  <div rel="htmltooltip">
    A
  </div>
  <div rel="htmltooltip">
    B
  </div>
  <div rel="htmltooltip">
    C
  </div>
  <div rel="htmltooltip">
    D
  </div>
  <div rel="htmltooltip">
    E
  </div>
  <div rel="htmltooltip">
    F
  </div>
  <div rel="htmltooltip">
    G
  </div>
  <div rel="htmltooltip">
    H
  </div>
  <div rel="htmltooltip">
    I
  </div>
  <div rel="htmltooltip">
    J
  </div>
  <div rel="htmltooltip">
    K
  </div>
  <div rel="htmltooltip">
    L
  </div>
  <div rel="htmltooltip">
    M
  </div>
  <div rel="htmltooltip">
    N
  </div>
  <div rel="htmltooltip">
    O
  </div>
  <div rel="htmltooltip">
    P
  </div>
  <div rel="htmltooltip">
    Q
  </div>
  <div rel="htmltooltip">
    R
  </div>
  <div rel="htmltooltip">
    S
  </div>
  <div rel="htmltooltip">
    T
  </div>
  <div rel="htmltooltip">
    U
  </div>
  <div rel="htmltooltip">
    V
  </div>
  <div rel="htmltooltip">
    W
  </div>
  <div rel="htmltooltip">
    X
  </div>
  <div rel="htmltooltip">
    Y
  </div>
  <div rel="htmltooltip">
    Z
  </div>
</div>
<div class="htmltooltip">
  Showing Tooltip for Div A
</div>
<div class="htmltooltip">
  Showing Tooltip for Div B
</div>
<div class="htmltooltip">
  Showing Tooltip for Div C
</div>
<div class="htmltooltip">
  Showing Tooltip for Div D
</div>
<div class="htmltooltip">
  Showing Tooltip for Div E
</div>
<div class="htmltooltip">
  Showing Tooltip for Div F
</div>
<div class="htmltooltip">
  Showing Tooltip for Div G
</div>
<div class="htmltooltip">
  Showing Tooltip for Div H
</div>
<div class="htmltooltip">
  Showing Tooltip for Div I
</div>
<div class="htmltooltip">
  Showing Tooltip for Div J
</div>
<div class="htmltooltip">
  Showing Tooltip for Div K
</div>
<div class="htmltooltip">
  Showing Tooltip for Div L
</div>
<div class="htmltooltip">
  Showing Tooltip for Div M
</div>
<div class="htmltooltip">
  Showing Tooltip for Div N
</div>
<div class="htmltooltip">
  Showing Tooltip for Div O
</div>
<div class="htmltooltip">
  Showing Tooltip for Div P
</div>
<div class="htmltooltip">
  Showing Tooltip for Div Q
</div>
<div class="htmltooltip">
  Showing Tooltip for Div R
</div>
<div class="htmltooltip">
  Showing Tooltip for Div S
</div>
<div class="htmltooltip">
  Showing Tooltip for Div T
</div>
<div class="htmltooltip">
  Showing Tooltip for Div U
</div>
<div class="htmltooltip">
  Showing Tooltip for Div V
</div>
<div class="htmltooltip">
  Showing Tooltip for Div W
</div>
<div class="htmltooltip">
  Showing Tooltip for Div X
</div>
<div class="htmltooltip">
  Showing Tooltip for Div Y
</div>
<div class="htmltooltip">
  Showing Tooltip for Div Z
</div> 
```

编写 CSS：

```
#container div{
  display:inline-block;
  margin-left:5px;
  margin-top:10px;
  width:80px;
  text-align:center;
  border:1px solid #5544d6;
  background-color:#441591;
  color:#cda923;
}
div.htmltooltip{
  position: absolute;
  /*leave this and next 3 values alone*/
  z-index: 1000;
  left: -1000px;
  top: -1000px;
  background: #2255a9;
  border: 7px solid #4488a9;
  box-shadow: 7px 7px 3px #446689;
  color: white;
  padding: 3px;
  text-align:center;

  width: 250px;
  /*width of tooltip*/
} 
```

在 Above Html 中，我们在每个标签上设置了带有“htmltooltip”的 rel 属性，并根据其顺序，我们使用类“htmltooltip”设置了相关的工具提示。现在，它在每个标签的鼠标悬停时显示按顺序排列的工具提示。

它还检查工具提示 div 的自动位置，如果超过浏览器宽度，则在浏览器区域内显示工具提示。

在这里尝试演示：http: [//codebins.com/codes/home/4ldqpbl](http://codebins.com/codes/home/4ldqpbl)

# php - 我如何限制它以排除重复项？我看到我的消息两次，因为我是多个人的朋友

> ID：11338048
> 
> 赞同：0
> 
> 时间：2012-07-05T05:00:23.370
> 
> 标签：php, mysql, posts

问题：有人可以帮我修复以下代码以满足以下信息：

使用此查询时，它会在 diff 列上看到我的用户名多次出现在数据库中，因此在查询中找到它们时会复制我的帖子。我希望它显示同一个人的不同时间戳的帖子，但如果时间戳相同，则不显示来自同一个人的帖子。

可能是编写查询代码的更好方法，如果是这样，我不介意看到这些选项。做一个 UNION 查询是最好的方法吗？

```
$query = "SELECT p.* ".
"FROM posts p ".
"INNER JOIN friendships f ON p.username = f.user2 OR p.username = f.user1 ".
"WHERE f.user1 = '$sessionusername' OR f.user2 = '$sessionusername' ORDER BY id DESC"; 
```

* * *

## 解决方案：

我在这里回答我自己的问题，只是为了从我为解决问题所做的工作中给某人一个可行的解决方案。我尝试按ID分组，然后转身按ID排序；但是，它抛出了一个错误——所以我按时间戳排序，并按 ID 分组。下面是我的代码。为我工作——希望这最终能帮助别人！

```
$query = "SELECT p.*, MAX(timestamp) AS latest ".
"FROM posts p ".
"INNER JOIN friendships f ON p.username = f.user2 OR p.username = f.user1 ".
"WHERE f.user1 = '$sessionusername' OR f.user2 = '$sessionusername' GROUP BY id ORDER BY  latest DESC"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:34:56.607

使用 GROUP BY 告诉 mysql 你希望哪些实体/字段是唯一的：

```
SELECT p.*
FROM posts p
INNER JOIN friendships f ON (p.username = f.user2 OR p.username = f.user1)
WHERE f.user1 = '$sessionusername' OR f.user2 = '$sessionusername' 
GROUP BY posts.id
ORDER BY id DESC 
```

# html - 如何使用 Pandoc 将带有 mathjax 的 HTML 转换为 Latex？

> ID：11338049
> 
> 赞同：18
> 
> 时间：2012-07-05T05:00:23.660
> 
> 标签：html, latex, mathjax, pandoc

我有一些带有 MathJax 方程的 HTML 文档，我想将它们转换为 Latex，然后转换为 pdf。我想使用 Pandoc。

但是，Pandoc 替换`$`为`\$`并且`\`在公式中替换为`\textbackslash{}`.

是否可以让 Pandoc 将 MathJax 公式逐字从 HTML 传递到 Latex？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-12-10T17:58:11.870

使用最新版本的 pandoc (1.12.2)，您可以这样做：

```
pandoc -f html+tex_math_dollars+tex_math_single_backslash -t latex 
```

好看多了！如果您不想转换由`\(`and分隔的数学`\)`，只需执行

```
pandoc -f html+tex_math_dollars -t latex 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-07-12T21:59:08.177

这不是一件容易的事。这是一个应该可行的解决方案，前提是您只使用`$`and`$$`作为数学分隔符，并假设您的文档不包含`$`. （如果你不能假设，你可以尝试在下面调整 perl 正则表达式。）

第 1 步：安装[Haskell 平台](http://hackage.haskell.org/platform//)（如果您还没有），然后使用“cabal install pandoc”获取 pandoc 库。（如果您使用二进制安装程序安装 pandoc，则只有可执行文件，而不是 Haskell 库。）

第 2 步：现在编写一个小的 Haskell 脚本——我们将其命名为 fixmath.hs：

```
import Text.Pandoc

main = toJsonFilter fixmath

fixmath :: Block -> Block
fixmath = bottomUp fixmathBlock . bottomUp fixmathInline

fixmathInline :: Inline -> Inline
fixmathInline (RawInline "html" ('<':'!':'-':'-':'M':'A':'T':'H':xs)) =
  RawInline "tex" $ take (length xs - 3) xs
fixmathInline x = x

fixmathBlock :: Block -> Block
fixmathBlock (RawBlock "html" ('<':'!':'-':'-':'M':'A':'T':'H':xs)) =
  RawBlock "tex" $ take (length xs - 3) xs
fixmathBlock x = x 
```

编译这个：

```
ghc --make fixmath.hs 
```

这会给你一个可执行文件`fixmath`。现在，假设您的输入文件是`input.html`，以下命令应将其转换为数学完整的乳胶，将结果放入`output.html`：

```
cat input.html | \
perl -0pe 's/(\$\$?[^\$]+\$\$?)/\<!--MATH$1-->/gm' | \
pandoc -s --parse-raw -f html -t json | \
./fixmath | \
pandoc -f json -t latex -s > output.tex 
```

第一部分是一个 perl 单行代码，它将您的数学位放在标记为“MATH”的特殊 HTML 注释中。第二部分将 HTML 解析为与文档对应的 Pandoc 数据结构的 JSON 表示。然后`fixmath`转换此结构，将特殊的 HTML 注释更改为原始 LaTeX 块和内联。（有关说明，请参阅[使用 pandoc 编写脚本](http://johnmacfarlane.net/pandoc/scripting.html)。）最后，我们将 JSON 转换回 LaTeX。

# javascript - 管理视图文件和 JS 标记

> ID：11338053
> 
> 赞同：1
> 
> 时间：2012-07-05T05:00:42.920
> 
> 标签：javascript, design-patterns, smarty

我使用 Smarty 来处理我的观点。为了最大限度地重用代码，我将视图文件分成小段，并将它们包含在需要的地方。这很好用，因为它使我的标记在浏览器上呈现时保持一致。

问题是我也有可以进行某些 DOM 操作的 JS。这意味着我的 JS 需要了解标记结构等。在很多情况下，JS 被迫维护 Smarty 模板文件中已经存在的标记的相同副本。

这将成为维护的噩梦，因为对标记的任何更改都必须在 Smarty 模板文件中完成，并且可能在 JS 标记中完成。

关于如何优雅地处理这个问题的任何建议？还是我只是接受这是一种必要的邪恶？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T05:13:49.810

> 我将我的视图文件分成小段，并将它们包含在需要的地方

对你的 JavaScript 做同样的事情。考虑模块化并制作模块而不是页面。任何模块都将包括 HTML（在您的情况下为 Smarty）、JavaScript 和 CSS。任何需要这些模块的页面都应该需要这三个文件。或者您可以将所有内容捆绑在一起以使包含模块更容易。创建模块时，您将编辑模块而不是页面。这样你就不会因为编辑 JavaScript 或 CSS/HTML 而破坏事情。

一个模块可以是任何可以独立于页面中其他模块的东西。当然模块可以相互通信，但是你需要为你的模块系统定义一个一致的 API。

这种方法会使维护更容易，但缺点是您几乎必须重写整个应用程序以使其模块化。

# iphone - 自定义 UILabel 的行为

> ID：11338055
> 
> 赞同：0
> 
> 时间：2012-07-05T05:00:50.507
> 
> 标签：iphone, objective-c, ios5

我是 iphone 的新手。我发现`UILabel`实例方法对我来说很难实现。我该如何使用它。我如何通过子类化来自定义您的文本的外观`UIlabel`。Plz `UILabel`我需要很少的帮助来启动。我有我的标签中的一个标签，我`viewController`怎么能自定义它的文本和锄头子类。提前谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T05:05:21.843

您可以使用许多`UILabel`类似的属性：

```
UILabel *lbl = [[UILabel alloc] initWithFrame:CGRectMake(5, 5, 100, 40)];
lbl.font = [UIFont fontWithName:@"Helvetica" size:12.0];    // For setting font style with size
lbl.textColor = [UIColor whiteColor];        //For setting text color
lbl.backgroundColor = [UIColor clearColor];  // For setting background color
lbl.textAlignment = UITextAlignmentCenter;   // For setting the horizontal text alignment
lbl.numberOfLines = 2;                       // For setting allowed number of lines in a label
lbl.lineBreakMode = UILineBreakModeWordWrap; // For setting line break mode
lbl.text = @"TitleText";                            // For setting the text inside the label 
```

让我知道除此之外还有什么你想知道的！！

两种方法

```
- (CGRect)textRectForBounds:(CGRect)bounds limitedToNumberOfLines:(NSInteger)numberOfLines
{
    return CGRectInset(bounds, MARGIN, MARGIN);
}

- (void)drawTextInRect:(CGRect)rect
{
    [super drawTextInRect: CGRectInset(self.bounds, MARGIN, MARGIN)];
} 
```

我们正在使用 CGRectInset 创建一个大于或小于现有矩形 ( `bounds`) 的矩形。

对于较小的矩形，使用正值作为`MARGIN` 较大的矩形，使用正值作为`MARGIN`

一切顺利！！！

# c# - 在c#中提取以某事物开头和结尾的字符串

> ID：11338060
> 
> 赞同：5
> 
> 时间：2012-07-05T05:01:53.993
> 
> 标签：c#, regex, string

这是模式：

```
string str =
   "+++++tom cruise 9:44AM something text here \r\n +++++mark taylor 9:21PM"; 
```

只有以or开头`+++++`和结尾的字符串才会被选中。什么是 Regex.split 或 linq 查询模式？`AM``PM`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T05:13:37.330

Talon 几乎得到它，但你需要一个最小的捕获，而不是贪婪。尝试

```
[+]{5}.*?(A|P)M 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-05T05:15:58.340

试试这个正则表达式：

```
@"[+]{5}[^\n]+[AP]M"

var str = "+++++tom cruise 9:44AM something text here \r\n +++++mark taylor 9:21PM";
var match = Regex.Match(str, @"[+]{5}[^\n]+[AP]M").Captures[0];
match.Value.Dump(); 
```

输出：

```
+++++tom cruise 9:44AM 
```

或者：

```
@"[+]{5}\D+\d{1,2}:\d{1,2}[AP]M 
```

我推荐这个正则表达式。它将匹配直到找到格式 xY:xY:AM/PM 的一小时，其中 Y 是可选的。试驾：

```
string str = "+++++tom cruise 9:44AM something text here \r\n +++++mark taylor 9:21PM";
foreach(Match match in Regex.Matches(str, @"[+]{5}\D+\d{1,2}:\d{1,2}[AP]M"))
        Console.WriteLine(match.Value); 
```

输出：

```
+++++tom cruise 9:44AM
+++++mark taylor 9:21PM 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-05T05:09:25.747

正则表达式将是：

```
[+]{5}.*AM|[+]{5}.*PM 
```

你可以在这里试试：[http ://regexpal.com/](http://regexpal.com/)

它的第一个捕获是：

```
+++++tom cruise 9:44AM 
```

第二个是

```
+++++mark taylor 9:21PM 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-05T07:20:51.483

用这个：

```
bool bResult = false;
String strInput = @"+++++tom cruise 9:44AM something text here \r\n +++++mark taylor 9:21PM";
foreach (string s in strInput.Split(new[]{'\r', '\n'}, StringSplitOptions.RemoveEmptyEntries))
{
    bResult |= Regex.IsMatch(s, @"^[+]+.+[AP]M$");
} 
```

或获取结果使用：

```
var listResult = new List<string>();
String strInput = @"+++++tom cruise 9:44AM something text here \r\n +++++mark taylor 9:21PM";
foreach (string s in strInput.Split(new[]{'\r', '\n'}, StringSplitOptions.RemoveEmptyEntries))
{
    listResult.Add(Regex.Match(s, @"^[+]+(?<result>.+)[AP]M$").Groups["result"].Value);
} 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-07-05T05:15:19.863

这是根据您的需要搜索字符串的确切正则表达式代码

```
 string str = "+++++tom cruise 9:44AM something text here \r\n +++++mark taylor 9:21PM asdasd";
        var fileNames = from Match m in Regex.Matches(str, @"\++\++\++\++\++.+(PM|AM)")
                         select m.Value;
        foreach (var s in fileNames)
        {
            Response.Write(s.ToString() + "\r\n");
        } 
```

# eclipse - 工作区之间的 Eclipse 共享插件

> ID：11338063
> 
> 赞同：4
> 
> 时间：2012-07-05T05:02:48.243
> 
> 标签：eclipse

对于我从事的每个项目（perl、java、PHP 等），我通常有不同的工作区。有时，我会找到一个常见的新插件（比如 EGIT）并安装它，但它不会自动显示在其他工作区中。eclipse中是否有一些设置可以启用它？我正在使用 Indigo SR2。

谢谢！

PS：我知道我们在工作区中有工作集来帮助重复使用相同的工作区，但有时在单独的工作区中管理项目会更容易。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T05:11:09.147

如果您使用相同的 Eclipse 安装，那么您安装的每个插件都将在所有工作空间中可用。您可以通过选择查看已安装插件的列表`Help -> About Eclipse -> Installation Details`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T04:31:31.290

从 Eclipse Indigo 开始，有一种[导入安装](https://stackoverflow.com/a/11264964/874076)的方法，可以跨工作区使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-06T02:10:30.087

使用 rgerganov 的回答：对于某些插件，尽管它们已安装并可用于给定 Eclipse 安装的所有工作区，但可能需要在每个工作区中单独配置它们。这方面的一个示例是 Checkstyle 插件，您需要在其中指定要使用的配置，并为工作区中的每个项目启用它。EGit 也可能是这种情况。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T15:50:23.823

现在，我不得不使用[这里](https://stackoverflow.com/questions/2078476/how-to-share-eclipse-configuration-over-different-workspaces)提到的技巧，将相关的 prefs 文件从一个工作区目录复制到新的工作区目录，然后重新启动 Eclipse 以启用插件。如果您看到更好的方法，其他人可以随意编辑。

# design-patterns - 联合（水平分区）数据库的主键模式

> ID：11338064
> 
> 赞同：1
> 
> 时间：2012-07-05T05:02:50.007
> 
> 标签：design-patterns, database-design, primary-key, azure-sql-database, federated-table

如果这是重复的，我提前道歉，我不确定我应该搜索什么。

最近，我[在第 9 频道观看了这个关于 SQL Azure 中的数据库联合的精彩视频](http://channel9.msdn.com/Shows/Cloud+Cover/Episode-69-SQL-Azure-Federations-with-George-Huey)。起初，我对 SQL Azure 联合不支持标识列这一事实感到惊讶，但这是有道理的。如果您有一个在 2 个（或更多）数据库之间拆分的表，并且它们无法共享其标识增量值，那么您最终可能会得到 2 个（或更多）实体共享相同的主键。

该视频简单地谈到了如何处理这个问题，提到使用类似 Guid 的 PK 代替基于整数的标识列。我知道默认情况下，至少 MSSQL 会在 PK 上创建聚集索引，而在 Guid（或唯一标识符）类型上创建聚集索引是不好的。我绝不是关系专家，但我也相信，与基于 PK 的查找的基于整数的类型相比，Guid 的性能有所下降。

所以这让我想知道，对于水平联合数据库，基于整数的 PK 模式可能是什么样的？当我编写老式 EJB 并且我们需要为主键生成一个整数时，我们必须有一个单独的序列查找表来替换 rdbms 标识/自动增量功能。我记得这很痛苦，因为当时 EJB 的许多其他事情。

在水平联合数据库表中分配主键的常用模式（如果有）是什么？鉴于我目前的知识，由于性能下降，我会远离 Guid，并且由于开发成本和增加的复杂性（主要是开发成本），我会远离顺序查找索引。我应该倾向于**什么**？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:16:56.717

像这样的东西可能有用，具体取决于您的应用程序的性质

[http://blog.tatham.oddie.com.au/2011/07/14/released-snowmaker-a-unique-id-generator-for-azure-or-any-other-cloud-hosting-environment/](http://blog.tatham.oddie.com.au/2011/07/14/released-snowmaker-a-unique-id-generator-for-azure-or-any-other-cloud-hosting-environment/)

# android - 在 Eclipse 中找不到已安装的 SDK

> ID：11338066
> 
> 赞同：0
> 
> 时间：2012-07-05T05:03:24.097
> 
> 标签：android, eclipse-plugin

我曾经`installed Android SDK from 2.1 to 4.0`并且一直在使用 Android 项目。但是现在所有的项目都抛出异常`sdk not found`......在检查 SDK 向导时，没有安装任何 SDK。我删除了任何文件吗？

安装 SDK 后： ![在此处输入图像描述](../Images/99427bc52b5aa6397907d8329e21a6cd.png)

但是现在除了工具没有 sdk 存在

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:08:54.863

重新启动您的 IDE，然后转到首选项并搜索 SDk 文件夹（我认为必须在 Eclipse 文件夹中）设置 SDk 路径它将工作..

我认为它发生在你身上，因为你没有在首选项中指定你的 SDK 路径 - > Android

希望这个解释对你有用..

# c# - 使用“DbConnection”时，我应该使用“using”还是 try-catch-finally 来使用 DbConnection.close() 来关闭连接？

> ID：11338072
> 
> 赞同：1
> 
> 时间：2012-07-05T05:04:42.493
> 
> 标签：c#, database, ado.net, using, dbconnection

我现在在网上搜索了一段时间。但是没有找到任何明确的答案来回答我的问题。在连接到数据库时我应该使用“使用”还是可以只使用 try-catch-finally？我的意思是：

我不知道是否应该在每次完成与数据库的交互时调用 dispose 方法，或者只是关闭连接。

```
 static public List<Category> GetAll()
    {
        List<Category> CategoryList;

        try
        {
            BaseDAO.Dbconn.Open();
            BaseDAO.SetCommand(BaseDAO.CommandAction.Read, "SELECT * FROM Categories");

            CategoryList = new List<Category>();

            using (DbDataReader reader = BaseDAO.Dbcmd.ExecuteReader())
            {
                while (reader.Read())
                {
                    int ID = reader.GetInt32(reader.GetOrdinal("CategoryID"));
                    string Name = reader.GetString(reader.GetOrdinal("CategoryName"));
                    string Description = reader.GetString(reader.GetOrdinal("Description"));
                    CategoryList.Add(new Category(ID, Name, Description));
                }
            }
            return CategoryList;
        }
        catch (Exception ex)
        {
            BaseDAO.Dbconn.Dispose();
            throw ex;
        }
        finally { BaseDAO.Dbconn.Close(); }

    } 
```

“Dbconnection”是静态的，不确定这是否也是一个好的解决方案......

我开始了解 ADO，只是想知道这类问题的最佳答案是什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T05:12:04.287

它没有任何区别 - 无论你喜欢什么。无论如何，该子句都会被编译器`using`变成 a 。`try-finally`

**编辑**我刚刚注意到您仅在发生异常时才调用 Dispose 。你也应该把它移到 finally 子句中。Dispose 会调用 Close，因此如果您不想调用，则不需要专门调用它。

**进一步编辑**鉴于，正如你所说，你的 DbConnection 是静态的，那么你不想调用 Dispose，但你确实需要调用 Close。但是，不需要使用静态 DbConnection - 连接池将负责有效地处理连接。您的代码应该每次都创建一个新的连接实例。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T05:31:55.690

参考：[使用语句 C#。](http://msdn.microsoft.com/en-us/library/yh598w02%28v=vs.80%29.aspx)

using 语句允许程序员指定使用资源的对象何时应该释放它们。

> 提供给 using 语句的对象必须实现 IDisposable 接口。该接口提供了 Dispose 方法，该方法应该释放对象的资源。

当到达 using 语句的末尾或抛出异常并且控制在语句结束之前离开语句块时，可以退出 using 语句。

参考：[示例](https://stackoverflow.com/a/75483/1004522)

根据[代码项目](http://www.codeproject.com/KB/cs/tinguusingstatement.aspx)，.NET CLR 转换

```
 using (MyResource myRes = new MyResource())
 {     
     myRes.DoSomething();
 } 
```

**至：**

```
{ 
   // limits scope of myRes   
   MyResource myRes= new MyResource();    
  try    
  {        
    myRes.DoSomething();  
  }   
  finally   
  {        
     // Check for a null resource.        
     if (myRes!= null)            
     // Call the object's Dispose method.          
      ((IDisposable)myRes).Dispose();    
  } 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T05:44:50.780

调用`Dispose`相当于`Close`在大多数（如果不是全部）`DbConnection`实现中调用，因此如果您已经调用后者，则无需调用前者。只要确保你这样做`finally`，以防万一有例外。

# usb - USB OTG 的工作原理（主/从）

> ID：11338076
> 
> 赞同：1
> 
> 时间：2012-07-05T05:05:08.537
> 
> 标签：usb, linux-device-driver, device-driver, usb-otg

设备具有 USB OTG 支持。以下是场景：

1.  当设备连接到 PC 时，该设备充当从设备。（设备如何知道它必须充当从设备？）

2.  当设备连接到打印机时，该设备充当主机。（设备如何知道它必须充当主设备？）

设备连接到 OTG 时执行的步骤是什么？如何实现这个机制（简而言之）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T20:42:16.260

The exact behavior of USB OTG devices is described in the [specification](http://www.usb.org/developers/docs/usb20_docs/usb_20_031815.zip) you can find at usb.org. There is a PDF inside the zip called USB_OTG.

The Host Negotiation Protocol in section 6 covers how two OTG devices decide which one is getting the embedded host. Basically this is archived by driving pull-up and pull-down resistors on the D+ line.

Note: When talking about USB the terms master/slave are not used. The master is called *host* and powers the bus whereas the slave is called *device*. In the case of OTG (in general, see specification for exceptions) both parts have the capability to be host or device. When the host was figured out by the Host Negotiation Protocol, this part becomes the so called *embedded host*.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-02-09T17:15:27.230

在您提到的两种情况下，USB设备能够通过电缆知道是主机还是设备。USB 电缆（非 C 型）不对称。一侧是主机，另一侧是设备。连接器上有一个称为 ID 引脚的引脚，它在设备侧浮动并在主机侧接地。这允许每一侧的 USB 控制器知道它连接到电缆的哪一侧，从而知道它在连接时应该扮演哪个角色（主机或设备）。这些类型的设备称为双重角色设备。

如果您有这样的设备，则可以将其插入常规主机（例如笔记本电脑），它将充当设备。您可以将其插入常规设备（如打印机），它将充当主机。这一切都基于电缆。

如果您将两个双重角色 OTG 设备相互插入。它们的初始角色由电缆以相同的方式确定。

在确定了初始角色之后，他们可以通过主机协商协议 (HNP) 将角色从他们最初由电缆确定的角色交换。

至于实现这一点。没有简单的方法来解释它。每个控制器都是不同的，您必须阅读控制器数据手册和编程模型才能实现所有这些程序。以及对 USB 和 OTG 规范本身有很好的了解。

一个不错的起点是[http://usb.org](http://usb.org)，您可以在其中找到所有规格。

# php - 如何在层次结构中css 3rd li？

> ID：11338079
> 
> 赞同：1
> 
> 时间：2012-07-05T05:05:26.263
> 
> 标签：php, html, css, menu, html-lists

我很确定我没有在 css 中获得用于构建它的层次结构。我似乎找不到一个可以真正向我解释它的地方，以及每个级别的工作原理。我找到了一些这样的节目，但是当你构建它时，如果你不知道，至少对我来说，有点难以看到。到目前为止，从未真正令人惊讶地使用过 css。如果有人不介意指出我的错误并解释它。:)

我刚刚尝试添加第二下降（下拉到我的下拉），在初始隐藏下拉下水平显示，选择正确的位置，所以正确的PHP ID将填充链接。我包含了 PHP，所以如果我把它弄错了，也有人可以向我指出这一点。

还要补充一点：当我将鼠标悬停在“项目”上而不是像它应该悬停在已填充的项目上时，第二级隐藏的下拉链接似乎在那里。奇怪的是链接实际上并没有显示（不可见），但如果我把鼠标放在那里，即让我知道那里有一个链接。

[http://jsfiddle.net/HHwLH/](http://jsfiddle.net/HHwLH/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:21:15.370

在你的 CSS

```
#navbar li:hover ul, #navbar li.hover ul {
    position: absolute;
    display: inline;
    left: 0px;
    width: 100%;
    margin: 0px;
    padding: 0px;
} 
```

您的子菜单和子子菜单受此影响。
当您将鼠标悬停在 标记中的`li`所有`ul`后代（子菜单和子子菜单）上时， s 是 the 的子项，因此您可以使用子项选择器而不是后代选择器来仅显示直接子菜单/ul。
`ul``li`

```
#navbar li:hover > ul, #navbar li.hover > ul {
    position: absolute;
    display: inline;
    left: 0px;
    width: 100%;
    margin: 0px;
    padding: 0px;
} 
```

这将适用于子菜单和子子菜单

[小提琴](http://jsfiddle.net/HHwLH/2/)

# apache - Powershell脚本以顺序方式执行.exe文件

> ID：11338081
> 
> 赞同：1
> 
> 时间：2012-07-05T05:05:45.523
> 
> 标签：apache, iis, powershell

在 apache 的 8700 端口上有一个名为“lt”的网站。当网站关闭时，我需要在网页中显示“服务维护消息”。为此，我在 IIS 的 80 端口上托管了一个站点（网页）。当“lt”关闭时（即一旦运行 ltshutdown.exe），我想将其路由到 IIS 网页。然后在对“lt”进行适当维护后，我想将其重新上线（即停止 IIS 并运行 ltstartup.exe）。我认为power shell脚本可以做到这一点。但我对此知之甚少。你们能帮我写一个脚本吗？或者任何简单的建议？

谢谢！

R M

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T09:50:04.560

不常见的情况是有更好的方法来拥有一个维护页面（检查这些链接：[link1](http://significantbits.wordpress.com/2007/03/15/setting-a-maintenance-page-in-apache-2/) [link2](http://davidwinter.me/articles/2010/05/03/redirecting-apache-traffic-to-a-maintenance-page/)）。

假设您有充分的理由这样做，并且假设 IIS 和 Apache 都在同一个框中。

我会将 IIS 站点更改为也在端口 8700 中。这意味着您将无法同时运行这两个站点，这在这种情况下是非常积极的。

你应该有两个脚本：

1.  停下来
2.  启动它

**StopIT 脚本**

```
Import-Module WebAdministration
# Stop IT
& C:\scripts\itshutdown.exe
# Start IIS site
Start-WebSite 'ITMaintenanceSite' 
```

**StartIT 脚本**

```
Import-Module WebAdministration
# Stop IT
& C:\scripts\itstart.exe
# Start IIS site
Stop-WebSite 'ITMaintenanceSite' 
```

# unit-testing - 没有硒的yii控制器动作单元测试

> ID：11338084
> 
> 赞同：6
> 
> 时间：2012-07-05T05:06:01.173
> 
> 标签：unit-testing, yii, phpunit

假设我有一个动作：

```
function actionShowItem($id)
{
    $item = Item::model()->findByPk($id);
    $this->render("showitem",array('model' => $id));
} 
```

此操作的简单单元测试是什么，它将验证视图输出中的文本。它在 zend 框架中很容易，无需使用 selenium。我们也可以在 zend 中创建假的 GET 和 POST。但是我在 Yii 中没有找到相同的例子。请建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:00:20.157

Yii PHP 框架在很多方面都非常出色，但非常遗憾的是它内部不支持任何类型的模拟控制器动作输出测试。它只有基于硒的网络浏览器方法。我是从 ZendF 来到 Yii 的，zend 确实有很好的测试系统，包括基于 xpath 的断言。所以我必须理解代码流并在我的 components/Controller.php 中编写代码。它可以在不改变任何核心 yii 框架的情况下完成，这在我看来是 Yii 的魅力所在。

每个客户端代码都有 components/Controller.php，它是 Yii 中所有控制器的通用基类。render 是一个 CController 方法，这意味着我可以覆盖它并捕获视图输出以供单元测试代码使用。

您需要一个运行模式参数（在 config/main.php 中）来确定您是测试运行还是生产。在生产中，输出只是简单地回显，而我们无法在 testrun 中回显任何内容（只是破坏了单元测试报告）。在测试代​​码中，您可以在 $render_output 中获得输出，您可以在其中进行断言包装器 xpath 或 strpos 检查。这个黑客不是最好的，但做得很好。

```
function render($view,$data=null,$return=false)
{
    $out = parent::render($view,$data,true);

    if(isset(Yii::app()->params['runmode']) 
       && Yii::app()->params['runmode'] == 'test')
    {
        global $render_output;
        return $render_output = $out;
    }

    if($return)
        return $out;
    else
        echo $out;

} 
```

# c++ - 使用具有不同大小训练图像的 LDA 和 ORB 进行对象识别。

> ID：11338088
> 
> 赞同：2
> 
> 时间：2012-07-05T05:06:48.407
> 
> 标签：c++, opencv, computer-vision, image-recognition

我正在尝试构建一个轻量级的对象识别系统，使用 ORB 进行特征提取和 LDA 进行分类。但是我遇到了提取特征的不同大小的问题。

这些是我的步骤：

1.  使用 ORB 提取关键点。
2.  通过对关键点进行分组来提取图像中的可训练特征。（提取内容的示例：http: [//imgur.com/gaQWk](http://imgur.com/gaQWk)）
3.  使用提取的特征训练识别器。（这就是问题出现的地方）
4.  从野外对图像中的对象进行分类。

如果我尝试使用 cv::gemm 创建广义矩阵，由于大小不同，我会遇到异常。我的第一个想法是通过调整所有图像的大小来标准化所有图像，但是当对象具有相似的小特征时，这会导致很多准确性问题。

有什么解决办法吗？LDA 是一个合适的方法吗？我知道它通常与面部识别算法一起使用，例如fisherfaces。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-06T17:25:52.210

LDA 需要**固定长度的特征**，大多数优化和机器学习方法也是如此。您可以将图像补丁的大小调整为固定大小，但这可能不是一个好的功能。通常人们使用诸如[SIFT](http://en.wikipedia.org/wiki/Scale-invariant_feature_transform)之类的尺度不变特征。您还可以尝试颜色直方图，或边缘检测和空间直方图分箱的一些变体，例如[GIST](http://cvcl.mit.edu/scene_understanding.html)向量。

在不知道您希望完成什么的情况下，很难说 LDA 是否是一种合适的方法。您还可以考虑使用[SVM](http://en.wikipedia.org/wiki/Support_vector_machine)、某种形式的[boosting](http://en.wikipedia.org/wiki/AdaBoost)，或者只是使用大型训练集的普通最近邻。

# python - 为什么在 i18n blocktrans (django) 中，对象、字典或列表不起作用？

> ID：11338098
> 
> 赞同：4
> 
> 时间：2012-07-05T05:08:37.890
> 
> 标签：python, django, internationalization, django-templates

我正在使用 django i18n 来支持 i18n。我发现在 django blocktrans 一个对象中，dict 直接不起作用。

例如，如果我有一个名为 obj 的对象，我尝试像这样使用它

```
{% blocktrans %} My name is {{ obj.name }} {% endblocktrans %} 
```

行不通，但是如果我像这样使用它

```
{% blocktrans with name=obj.name %} My name is {{ name }} {% endblocktrans %} 
```

将工作。

我只是想知道为什么第一个例子不起作用，但第二个例子起作用了。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T07:47:41.700

Django`blocktrans`被传递给 ugettext，后者将它们标记为 u"My name is %(name)s" 形式的翻译字符串，在运行时使用上下文作为映射进行处理，即 `u"My name is %(name)s “ ％ 语境。这不允许 Django 模板样式属性解析。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T07:44:19.453

来自 Django 文档“要翻译模板表达式——例如，访问对象属性或使用模板过滤器——您需要将表达式绑定到本地变量以在翻译块中使用”

如果不深入研究模板代码，我猜想翻译操作是在 django 在渲染模板时执行的 getattr/自动调用之前执行的。

# wpf - DataGrid - 鼠标进入+离开行事件

> ID：11338099
> 
> 赞同：0
> 
> 时间：2012-07-05T05:08:42.190
> 
> 标签：wpf, mouseevent, wpfdatagrid

我想订阅[DataGridRow](http://msdn.microsoft.com/en-us/library/system.windows.controls.datagridrow%28v=vs.95%29.aspx)的鼠标进入和离开事件。

我的 DataGrid 的 XAML 目前看起来像这样：

```
<toolkit:DataGrid ItemsSource="{Binding DisplayedSearchResults}" 
              caliburn:Message.Attach="[Event MouseDoubleClick] = [OpenDocument()]" 
              SelectedItem="{Binding SelectedRow, Mode=TwoWay}" Margin="7"
              AutoGeneratingColumn="DataGrid_AutoGeneratingColumn"
              IsReadOnly="True" Grid.Row="0"
              Sorting="ResultsDataGrid_Sort">
    <toolkit:DataGrid.Resources>
        <Style TargetType="Button"></Style>
    </toolkit:DataGrid.Resources>
</toolkit:DataGrid> 
```

如果可能的话，我如何使用 Caliburn 来做到这一点，但如果没有，我该如何使用代码隐藏？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T05:15:52.920

我结束了在代码隐藏中的连接：

MyView.xaml.cs：

```
public partial class MyView : UserControl
{

    public SearchResultsView()
    {
        InitializeComponent();
        SearchResultsGrid.LoadingRow += DataGrid_PreparingRow;
    }        

    public void DataGrid_PreparingRow(object sender, DataGridRowEventArgs args)
    {
        args.Row.MouseEnter += Row_MouseEnter;
        args.Row.MouseLeave += Row_MouseLeave;
    }

    public void Row_MouseEnter(object sender, MouseEventArgs args)
    {
        // do some stuff
    }

    public void Row_MouseLeave(object sender, MouseEventArgs args)
    {
        // do some stuff
    }
} 
```

MyView.xaml：

```
<UserControl x:Class="MyView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"             
             xmlns:toolkit="clr-namespace:Microsoft.Windows.Controls;assembly=WPFToolkit">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <toolkit:DataGrid Name="SearchResultsGrid" />
    </Grid>
</UserControl> 
```

# iphone - 如何更改按钮的图像

> ID：11338106
> 
> 赞同：0
> 
> 时间：2012-07-05T05:09:51.457
> 
> 标签：iphone, objective-c, ios5, uiview, uibutton

我正在使用此代码在滚动视图中显示图像...在此按钮是在 for 循环的帮助下创建的...然后为每个按钮设置图像...现在我想选择多个图像...我想要当我点击特定按钮时，它的图像替换为“tick image”，当我再次按下它时，替换为原始图像意味着显示未选中..

```
for(int i=0; i<[imageArray count]; i++)
{
  if((i%4) == 0 && i!=0)
  {
      horizontal = 8.0;
      vertical = vertical + 70.0 + 8.0;
  }

  buttonImage = [UIButton buttonWithType:UIButtonTypeCustom];
  [buttonImage setFrame:CGRectMake(horizontal, vertical, 70.0, 70.0)];
  [buttonImage setTag:i];
  [buttonImage setImage:[arrayOfImages objectAtIndex:i] forState:UIControlStateNormal];
  [buttonImage addTarget:self action:@selector(buttonImagePressed:) forControlEvents:UIControlEventTouchUpInside];
  [myScrollView addSubview:buttonImage];

  horizontal = horizontal + 70.0 + 8.0;
} 
```

我尝试了此代码以更改 (buttonImagePressed) 方法中状态更改的图像...

```
[buttonImage setImage:[UIImage imageNamed:@"Checkmark.png"] forState:UIControlStateSelected]; 
```

但它不起作用......它每次只更改最后一个按钮的图像，而不是特定点击的按钮......我也尝试隐藏按钮，但它再次只隐藏最后一个按钮。我在哪里做错了？？？

有没有其他方法可以改变？？？请帮我

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T05:21:10.927

而不是 UIControlStateSelected 您应该使用 UIControlStateNormal 并保留一些布尔值来显示该按钮是否先前被选中，或者您可以根据选择将按钮的选定属性设置为 true 或 false 说：

```
-(void) buttonImagePressed:(UIButton*)sender
{
   UIButton *button = sender;
  if(button.selected) //already selected so now it should be deselected
  {
     [button setImage:[UIImage imageNamed:@"UnCheckmark.png"] forState:UIControlStateNormal];
      button.selected = false;
  }
   else
   { 
      [button setImage:[UIImage imageNamed:@"Checkmark.png"] forState:UIControlStateNormal];
      button.selected = true;
   }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:28:05.737

为此，将全局标志变量作为`BOOL Flag = NO;`

也为每个按钮设置标签。

在方法中

```
-(IBAction)buttonImagePressed:(UIButton *)sender{
 if(flag==NO){
   flag=YES;
   [sender setImage:[UIImage imageNamed:@"Checkmark.png"] forState:UIControlStateNormal];
  }
 else{
 flag=NO;
 [sender setImage:[arrayOfImages objectAtIndex:sender.tag] forState:UIControlStateNormal];
 }
} 
```

# objective-c - NSError 不会清除旧错误

> ID：11338107
> 
> 赞同：0
> 
> 时间：2012-07-05T05:09:57.853
> 
> 标签：objective-c, cocoa

长期听众，第一次来这里，如果我不够明确，请原谅我。我目前正在为 NSError 对象的问题而摸不着头脑。这是设置的方式：

```
-(void)mainMethod {
   NSError *myError = nil;
   NSString *myString = @"A really great string. 1234.";
   if ([self parseAndStoreString:myString error:&myError] == NO) {
      [self popupWithErrorMessage:[[myError localizedDescription] copy]];
   }

-(BOOL)parseAndStoreString:(NSString *)incomingString error:(NSError *__autoreleasing *)err {
   if ([self setupSomething error:err] == NO) {
      return NO;
   }
   if ([self doSomethingWithString:incomingString error:err] == NO) {
      return NO;
   }
   if ([self storeString:incomingString error:err] == NO) {
      return NO;
   }
}

-(BOOL)doSomethingWithString:(NSString *)incomingString error:(NSError *__autoreleasing *)err {
   if (incomingString == nil) {
     DLog(@"String was null! See? : %@", incomingString);
     NSDictionary *errorInfo = [NSDictionary dictionaryWithObject:EDEmptyStringErrorDescription forKey:NSLocalizedDescriptionKey];
     if (err != nil) *err = [NSError errorWithDomain:EDStringDomain code:EDEmptyStringError userInfo:errorInfo];
     return NO;
   }
   if (somethingElseIsWrongWithString) {
     DLog(@"Another Problem Geesh");
     NSDictionary *errorInfo = [NSDictionary dictionaryWithObject:EDAnotherStringErrorDescription forKey:NSLocalizedDescriptionKey];
     if (err != nil) *err = [NSError errorWithDomain:EDStringDomain code:EDAnotherStringError userInfo:errorInfo];
     return NO;
   }
} 
```

现在，无论发生什么错误，都已按预期正确建立并在弹出窗口中首次显示。当用户单击再次激活“mainMethod”或另一个调用“ `parseAndStoreString:error:`”的方法（有三个或四个调用该方法）的东西时，问题就出现了。如果还有另一个错误，弹出窗口将显示第一个错误的描述，并将第二个错误粘合到一个字符串中。这是 ARC 代码，所以我的理解是编译器应该在出现错误后释放 myError 对象（或其他方法正在创建的任何 NSError 对象）。我不认为问题出在 ' `popupWithErrorMessage`' 方法中，因为我只传递了本地化描述的副本，该副本被显示然后被销毁`[popupView orderOut:self]`. 关于这些错误消息如何不断堆积在 NSError 对象中的任何想法？

@torrey.lyons：当然，这里是 togglePopupWithMessage:onView- 的代码

```
- (void)popupWithErrorMessage:(NSString *)errorToDisplay {
   if (!messagePopup) {
      if (errorToDisplay == nil) {
         DLog(@"Warning, incoming error message was nil");
         return;
      }

      NSDictionary *messageAttributes = [NSDictionary dictionaryWithObjectsAndKeys:
                                     [NSColor whiteColor], NSForegroundColorAttributeName,
                                     [NSFont systemFontOfSize:12], NSFontAttributeName,
                                     nil];
      NSAttributedString *messageWithAttributes = [[NSAttributedString alloc]
                                                  initWithString:errorToDisplay
                                                  attributes:messageAttributes];

      NSPoint messagePoint = NSMakePoint(NSMidX([[self.mainSplitView.subviews objectAtIndex:1] frame]),
                                        NSMinY([anchorView frame])+4.0f);
      messagePopup = [[MAAttachedWindow alloc] initWithView:popupView 
                                            attachedToPoint:messagePoint 
                                                   inWindow:[self window]
                                                     onSide:MAPositionBottom 
                                                 atDistance:0];
      [messagePopup setAlphaValue:0.0f];

      NSTextStorage *messageStorage = popupMessage.textStorage;
      [messageStorage beginEditing];
      [messageStorage insertAttributedString:messageWithAttributes atIndex:0];
      [messageStorage endEditing];

      [messagePopup setFrame:NSMakeRect(messagePopup.frame.origin.x, messagePopup.frame.origin.y, 250.0f, 100.0f)
                   display:YES];

      messageWithAttributes = nil;
      messageAttributes = nil;
      errorToDisplay = @"";

      [[self window] addChildWindow:messagePopup ordered:NSWindowAbove];

      [[messagePopup animator] setAlphaValue:1.0f];
      [popupMessage setNeedsDisplay:YES];

      [NSTimer scheduledTimerWithTimeInterval:3.5
                                       target:self
                                     selector:@selector(turnOffPopupFromTimer:)
                                     userInfo:nil
                                      repeats:NO];
   } else {
      [[self window] removeChildWindow:messagePopup];
      [messagePopup fadeOutAndOrderOut:YES];
      messagePopup = nil;
   }
- (void)turnOffPopupFromTimer:(NSTimer *)timer {
   if (messagePopup) {              
                                    //Added to correct problem \/\/\/\/
      NSTextStorage *messageStorage = popupMessage.textStorage;
      [messageStorage beginEditing];
      [messageStorage deleteCharactersInRange:NSMakeRange(0, messageStorage.characters.count)];
      [messageStorage endEditing];  
                                    //Added to correct problem /\/\/\/\
      [[self window] removeChildWindow:messagePopup];
      [messagePopup fadeOutAndOrderOut:YES];
      messagePopup = nil;
   }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T06:59:39.190

我怀疑问题出在`popupWithErrorMessage`，它正在堆积本地化描述。即使您的 NSError 对象的生命周期中存在错误，为单独的错误创建的每个都是单独的对象，并且不会将其他 NSError 对象的本地化描述塞入其中。另一方面，您的描述`popupWithErrorMessage`听起来很可疑：`[popupView orderOut:self]`只是从屏幕上删除了窗口，但没有释放它或导致它被破坏。你可以发布代码`popupWithErrorMessage`吗？

# java - FileChannel.transferTo() 一直在传输 0 个字节？

> ID：11338108
> 
> 赞同：1
> 
> 时间：2012-07-05T05:10:03.183
> 
> 标签：java, nio

我昨天问[了这个问题](https://stackoverflow.com/q/11305386/668963)，我确信单线程文件服务器会满足我的需要。是的，使用单线程，文件服务器工作得很好（仅适用于小文件），它每秒可以处理大约 300 个请求，现在问题是服务器的**写入**（我使用`FileChannel.transferTo()`）部分会阻塞很长一段时间用于服务大文件，这会阻止其他连接被连接。

我注意到传输大文件（大约 800KB）时`FileChannel.transferTo()`有时会传输**0 个字节。**它失败了：`java.io.IOException: Try again.` 这是在Android上。

因为我放`FileChannel.transferTo()`了一个循环，所以我可以得到`FileChannel.transferTo()`运行数千次最终传输整个文件的情况。

我的问题是什么原因导致`FileChannel.transferTo()`无法传输请求的字节？我该如何解决这个问题并让我的文件服务器对处理大文件的响应速度更快？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T13:22:39.987

该方法不可能同时返回零并抛出异常，但我建议当你得到“重试”时，你应该减少传输计数。我会继续减半，直到病情消失。无论如何，您都必须`transferTo()`在循环中调用，因此它并不会真正影响您的代码太多。

# c++ - gcc 了解编译时间在哪里

> ID：11338109
> 
> 赞同：15
> 
> 时间：2012-07-05T05:10:18.600
> 
> 标签：c++, templates, gcc, g++

我有一个大量使用模板的项目。最近编译时间突然增加了。我想知道是否有一种方法可以查看哪些类/行需要最多时间来由 g++ 编译。

这是 -ftime-report 的一些输出

```
Execution times (seconds)
 TOTAL                 :   0.30             0.05             0.37               9119 kB

Execution times (seconds)
 garbage collection    :   0.91 ( 6%) usr   0.00 ( 0%) sys   0.92 ( 5%) wall       0 kB ( 0%) ggc
 callgraph construction:   0.23 ( 2%) usr   0.11 ( 3%) sys   0.37 ( 2%) wall   10652 kB ( 1%) ggc
 callgraph optimization:   0.18 ( 1%) usr   0.12 ( 3%) sys   0.28 ( 2%) wall   11906 kB ( 2%) ggc
 varpool construction  :   0.04 ( 0%) usr   0.01 ( 0%) sys   0.08 ( 0%) wall    6984 kB ( 1%) ggc
 cfg construction      :   0.03 ( 0%) usr   0.00 ( 0%) sys   0.05 ( 0%) wall     644 kB ( 0%) ggc
 cfg cleanup           :   0.05 ( 0%) usr   0.02 ( 0%) sys   0.05 ( 0%) wall       7 kB ( 0%) ggc
 trivially dead code   :   0.05 ( 0%) usr   0.01 ( 0%) sys   0.12 ( 1%) wall       0 kB ( 0%) ggc
 df scan insns         :   0.37 ( 3%) usr   0.03 ( 1%) sys   0.43 ( 2%) wall     677 kB ( 0%) ggc
 df live regs          :   0.07 ( 0%) usr   0.01 ( 0%) sys   0.02 ( 0%) wall       0 kB ( 0%) ggc
 df reg dead/unused notes:   0.08 ( 1%) usr   0.01 ( 0%) sys   0.08 ( 0%) wall    2755 kB ( 0%) ggc
 register information  :   0.05 ( 0%) usr   0.01 ( 0%) sys   0.05 ( 0%) wall       0 kB ( 0%) ggc
 alias analysis        :   0.01 ( 0%) usr   0.01 ( 0%) sys   0.01 ( 0%) wall     878 kB ( 0%) ggc
 rebuild jump labels   :   0.03 ( 0%) usr   0.01 ( 0%) sys   0.01 ( 0%) wall       0 kB ( 0%) ggc
 preprocessing         :   0.19 ( 1%) usr   0.44 (11%) sys   0.68 ( 4%) wall    5284 kB ( 1%) ggc
 parser                :   3.94 (28%) usr   1.43 (35%) sys   4.94 (27%) wall  355964 kB (48%) ggc
 name lookup           :   1.35 ( 9%) usr   0.88 (21%) sys   2.76 (15%) wall   64919 kB ( 9%) ggc
 inline heuristics     :   0.14 ( 1%) usr   0.03 ( 1%) sys   0.14 ( 1%) wall       0 kB ( 0%) ggc
 integration           :   0.02 ( 0%) usr   0.00 ( 0%) sys   0.02 ( 0%) wall      20 kB ( 0%) ggc
 tree gimplify         :   0.31 ( 2%) usr   0.07 ( 2%) sys   0.28 ( 2%) wall   24598 kB ( 3%) ggc
 tree eh               :   0.07 ( 0%) usr   0.02 ( 0%) sys   0.11 ( 1%) wall    7267 kB ( 1%) ggc
 tree CFG construction :   0.04 ( 0%) usr   0.04 ( 1%) sys   0.11 ( 1%) wall   15754 kB ( 2%) ggc
 tree CFG cleanup      :   0.12 ( 1%) usr   0.00 ( 0%) sys   0.05 ( 0%) wall       3 kB ( 0%) ggc
 tree find ref. vars   :   0.03 ( 0%) usr   0.01 ( 0%) sys   0.02 ( 0%) wall     963 kB ( 0%) ggc
 tree PHI insertion    :   0.00 ( 0%) usr   0.01 ( 0%) sys   0.01 ( 0%) wall     351 kB ( 0%) ggc
 tree SSA rewrite      :   0.03 ( 0%) usr   0.01 ( 0%) sys   0.01 ( 0%) wall    4078 kB ( 1%) ggc
 tree SSA other        :   0.03 ( 0%) usr   0.06 ( 1%) sys   0.12 ( 1%) wall    1504 kB ( 0%) ggc
 tree operand scan     :   0.04 ( 0%) usr   0.02 ( 0%) sys   0.08 ( 0%) wall   10781 kB ( 1%) ggc
 dominance computation :   0.15 ( 1%) usr   0.04 ( 1%) sys   0.15 ( 1%) wall       0 kB ( 0%) ggc
 out of ssa            :   0.09 ( 1%) usr   0.00 ( 0%) sys   0.02 ( 0%) wall       0 kB ( 0%) ggc
 expand vars           :   0.03 ( 0%) usr   0.00 ( 0%) sys   0.03 ( 0%) wall    1840 kB ( 0%) ggc
 expand                :   0.45 ( 3%) usr   0.04 ( 1%) sys   0.59 ( 3%) wall   37695 kB ( 5%) ggc
 post expand cleanups  :   0.08 ( 1%) usr   0.02 ( 0%) sys   0.06 ( 0%) wall    4542 kB ( 1%) ggc
 varconst              :   0.15 ( 1%) usr   0.03 ( 1%) sys   0.12 ( 1%) wall    3595 kB ( 0%) ggc
 jump                  :   0.01 ( 0%) usr   0.00 ( 0%) sys   0.04 ( 0%) wall    1904 kB ( 0%) ggc
 mode switching        :   0.01 ( 0%) usr   0.00 ( 0%) sys   0.01 ( 0%) wall       0 kB ( 0%) ggc
 integrated RA         :   1.33 ( 9%) usr   0.09 ( 2%) sys   1.49 ( 8%) wall   18163 kB ( 2%) ggc
 reload                :   0.60 ( 4%) usr   0.10 ( 2%) sys   0.62 ( 3%) wall    8668 kB ( 1%) ggc
 thread pro- & epilogue:   0.17 ( 1%) usr   0.00 ( 0%) sys   0.20 ( 1%) wall   11884 kB ( 2%) ggc
 reg stack             :   0.02 ( 0%) usr   0.00 ( 0%) sys   0.00 ( 0%) wall       0 kB ( 0%) ggc
 final                 :   0.71 ( 5%) usr   0.10 ( 2%) sys   0.84 ( 5%) wall    6251 kB ( 1%) ggc
 symout                :   1.10 ( 8%) usr   0.16 ( 4%) sys   1.19 ( 6%) wall  100954 kB (14%) ggc
 uninit var analysis   :   0.03 ( 0%) usr   0.00 ( 0%) sys   0.01 ( 0%) wall       0 kB ( 0%) ggc
 early local passes    :   0.00 ( 0%) usr   0.00 ( 0%) sys   0.01 ( 0%) wall       0 kB ( 0%) ggc
 rest of compilation   :   0.49 ( 3%) usr   0.06 ( 1%) sys   0.76 ( 4%) wall   19252 kB ( 3%) ggc
 unaccounted todo      :   0.43 ( 3%) usr   0.09 ( 2%) sys   0.55 ( 3%) wall       0 kB ( 0%) ggc
 TOTAL                 :  14.26             4.11            18.52             742072 kB 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-05T06:08:32.810

Steven Watanabe 模板分析器可以帮助您获得每个类/函数的实例化计数。有关此工具的实际链接，请参阅[调试 GCC 编译时间](https://stackoverflow.com/questions/6390532/debugging-gcc-compile-times/6390569#6390569)。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-05T05:51:36.373

当我看到您在项目中大量使用模板时，我首先怀疑是模板实例化，看到以下信息后，我的怀疑变得更加强烈：

```
parser       : ... (27%) wall 355964 kB (48%) ggc
name lookup  : ... (15%) wall 64919 kB ( 9%) ggc 
```

由于我看不到代码（因为您没有发布它），所以我只能怀疑。我的第二个怀疑是，您没有使用*已知*类型的模板的*显式*实例化（您肯定会使用），而是依赖于*隐式*实例化**，并且**您正在使用大量文件中的模板。如果是这样，那么这可能是主要问题，因为*隐式*实例化会导致*相同*的模板被实例化*多次*，每个翻译单元一次。因此，如果您有模板并且从翻译单元 ( ) 中使用它，那么将会有实例化，而不仅仅是****`.cpp`***`M``N``.cpp``M * N``M`实例化。*******

 ****** * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T05:19:01.927

AFAIK，不存在这样的编译开关。

一种更手动的方法是在预处理和编译之间分开（`gcc -E`，然后`gcc -c`在预处理文件上）来猜测时间花在哪里。

另一种解决方案是检测您的构建环境以使每个文件都有编译时间。请注意，我只能建议设置持续集成以尽早跟踪此类演变（一旦弹出，您就可以检测到它，而无需挖掘过去引入跳跃的原因）。

根据经验，您可以检查是否只包含相关的标头（尝试删除一些）或者可以切换到预编译的标头，*****

# delphi - 是否可以为 FIBPlus 提供分离的 TpFIBDataset？

> ID：11338110
> 
> 赞同：1
> 
> 时间：2012-07-05T05:10:31.863
> 
> 标签：delphi, delphi-2009, fibplus

我记得当我使用`ADO`for `Delphi`( `dbGo`) 时，有可能创建一个分离的数据集。我的想法是我可以从数据库中读取我想要的所有数据，然后将连接属性设置为 nil。这导致`TADOQuery`作为内存表工作。然后我可以使用并`TADOQuery`作为`TDataSet`参数传递给我的其他方法，而不必担心我会保持不必要的连接或事务打开。

我希望在使用 FIBPlus 库时具有相同的功能。目前我需要将数据从`TpFiBDataset`其他结构复制，然后关闭数据集。否则，要访问数据集的行，事务必须保持打开状态，即使我已经获取了所有数据。

我自己无法实现分离数据集的功能，这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T07:02:50.293

不可以。TpFIBDataSet 不能作为独立数据集工作。您应该使用 TpFIBClientDataSet（如果您想稍后将更新应用于 db）或任何 TInMemoryDataSet（仅用于本地读取）。

# php - 在filezilla中运行php脚本

> ID：11338113
> 
> 赞同：0
> 
> 时间：2012-07-05T05:11:30.747
> 
> 标签：php, filezilla

我正在使用 fileZilla ftp 服务器并尝试运行我的 php scipt。下面调用 b.php 的代码不起作用。我是 filezilla 的新手，所以如果运行此代码需要任何配置，请告诉我。我从 a.php 调用 b.php，它们都在同一个文件夹中。

```
 <?php
   header("Location: b.php");
 ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:14:33.823

它不会那样工作。您可以通过终端运行 PHP 文件：

```
$ php -f file.php 
```

或者您可以使用 使其可执行，在文件顶部`$ chmod +x file.php`添加，最后，您可以这样运行：`#!/usr/bin/env php`

```
$ ./file.php 
```

或者，如果您已配置并运行 Web 服务器，则只需在浏览器中访问它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-06T05:23:17.947

这段代码可以帮助你...

试着这样写

```
<?php

    header('Location: b.php');
    exit();
?> 
```

# javascript - IE9 中的 Handlebar.js 内存泄漏

> ID：11338114
> 
> 赞同：1
> 
> 时间：2012-07-05T05:11:35.800
> 
> 标签：javascript, internet-explorer, backbone.js, handlebars.js

我想知道是否有人因使用 Handlebar.js 编译功能而经历过内存泄漏。

我目前正在开发一个单页应用程序，该应用程序通过 Ajax 调用定期从服务器轮询数据。每次获得新数据时，我都会重新渲染视图。（我将Backbone.js与handlbar.js结合使用。我知道当我关闭视图或切换到其他视图时需要手动释放视图对象，我认为这里不是这种情况。至少，我认为不是。关于这个话题，请看这个链接： http: [//lostechies.com/derickbailey/2011/09/15/zombies-run-managing-page-transitions-in-backbone-apps/](http://lostechies.com/derickbailey/2011/09/15/zombies-run-managing-page-transitions-in-backbone-apps/)）<--我有不完全遵循该方法，但我尝试取消绑定所有事件和数据，并删除所有引用。

这是我的代码

```
// 1\. Remove all the old dom 
//  -- purge all objects
//  -- remove dom

Helpers.Purge(this.el); //Purge function is copied from Douglas Crockford's blog
view.empty();

this.compileTemplate(view, viewData, this.model.get("Template"));

// 2\. Append the new view
var thisDom = document.getElementsByClassName(this.className);
Helpers.Purge(thisDom);

$(thisDom).remove();
$article.append(this.el); 
```

this.compileTemplate 函数是这样的：

```
compileTemplate: function (view, data, templateSelector, ratio) {
    var templateSource = $(templateSelector).html(),
    template = Handlebars.compile(templateSource);

    var el = view.html(templateResult);
} 
```

如果我注释掉“var el = view.html(templateResult);” 我不会遇到内存泄漏问题。一旦我取消注释这一行，IE 9 内存消耗就开始增加。（出于测试目的，我强制视图每 0.5 秒重新编译一次模板。）

我想知道 Handlbar.js 中是否存在已知的内存泄漏问题，或者是我做错了什么。

非常感谢您提前。

干杯

**新更新：**

我试图隔离问题，并编写了一个小程序来测试它是否只是 handlebar.js 导致 IE9 上的内存泄漏。

这是代码。

```
(function ($) {
function render() {
    var templateSource = $("#template").html();
    var compileTemplate = Handlebars.compile(templateSource);

    var data = {
        users: [
                { username: "alan", firstName: "Alan", lastName: "Johnson", email: "alan@test.com" },
                { username: "allison", firstName: "Allison", lastName: "House", email: "allison@test.com" },
                { username: "ryan", firstName: "Ryan", lastName: "Carson", email: "ryan@test.com" }
            ]
    };

    console.log("before compiling");
    var templateWithData = compileTemplate(data);
    $("#content").html(templateWithData);
    console.log("after compiling");

    //this.el = templateWithData;

}
setInterval(render, 500);

})(jQuery); 
```

HTML代码在这里：

```
<!doctype html>
<html lang="en">
<head>

</head>

<body>
    <div id="content">

    </div>

<!-- JS -->
<script id="template" type="text/x-handlebars-template">
      <table>
        <thead>
          <th>Username</th>
          <th>Real Name</th>
          <th>Email</th>
        </thead>
        <tbody>
          {{#users}}
            <tr>
              <td>{{username}}</td>
              <td>{{firstName}} {{lastName}}</td>
              <td>{{email}}</td>
            </tr>
          {{/users}}
        </tbody>
      </table>
</script>

</body>
<script src="js/lib/jquery-1.7.1.min.js" type="text/javascript"></script>
<script src="js/lib/handlebars-1.0.0.beta.6.js" type="text/javascript"></script>
<script src="js/complieTemplateWithoutBackbone.js" type="text/javascript"></script>

</html> 
```

IE的内存一直在往上爬，从不往下掉。有人可以看看这个。

非常感谢你。

干杯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T21:42:00.017

以防万一有人遇到同样的问题。

我已经解决了这个问题。最后我根本没有使用车把。我切换到 KnockOut.js，它是 MVC4 包的一部分。

KnockOut 与 IE 配合得很好，但不是 KnockOut 的 Mapping 插件（一个帮助您映射 javascript 对象的插件），所以我不得不手动绑定对象的每个字段。这不是太多额外的工作。我很高兴使用 KnockOut.js 解决了内存泄漏。

希望 Handlebar 社区将来能解决内存泄漏问题。

# objective-c - Facebook 图形 API：音频分享

> ID：11338116
> 
> 赞同：5
> 
> 时间：2012-07-05T05:11:52.993
> 
> 标签：objective-c, ios, facebook-graph-api, facebook-ios-sdk

我可以使用 facebook 图形 API 共享音频吗

*   我可以像视频一样直接在 Facebook 服务器上上传音频吗？
*   我可以在 facebook 上分享音频链接，它会在 facebook 上显示嵌入式播放器吗？

我已经尝试过这个解决方案[ios Facebook Graph API - post Audio file](https://stackoverflow.com/questions/8301118/ios-facebook-graph-api-post-audio-file)，但它没有按预期工作

我尝试的是分享音频链接[http://bit.ly/Ok4ZX6](http://bit.ly/Ok4ZX6)但在 facebook 上显示它就像一个普通链接而不是嵌入式播放器[http://i.stack.imgur.com/Ld67c.png](https://i.stack.imgur.com/Ld67c.png)

**编辑**

*我用过的代码：*

```
NSMutableDictionary *params = [NSMutableDictionary dictionaryWithCapacity:4];
[params setObject:text forKey:@"message"];
[params setObject:title forKey:@"name"];
[params setObject:fileUrl forKey:@"source"];
[facebook requestWithGraphPath:@"me/feed" andParams:params andHttpMethod:@"POST" andDelegate:self]; 
```

*也使用了这个代码：*

```
NSMutableDictionary *params = [NSMutableDictionary dictionaryWithCapacity:4];
NSString *attachment = [NSString stringWithFormat:@"{'media': [{'type': 'mp3', 'src': '%@', 'title': '%@'}], 'messgae': 'Messgae Messgae Messgae', 'name': 'Name Name Name', 'href': '%@'}",amazon_link, title, link];
[params setObject:attachment forKey:@"attachment"];
[params setObject:text forKey:@"message"];
[params setObject:@"stream.publish" forKey:@"method"];
[facebook requestWithParams:params andDelegate:self]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T19:28:31.017

您尝试了该链接的什么解决方案？发布您自己的代码。我还注意到您的音频链接不起作用，至少对我来说不是。

我认为正确的方法是使用图形 api 中的“源”字段，而不是“链接”。

这是开发人员参考的一个很好的页面：http: [//developers.facebook.com/docs/reference/api/post/](http://developers.facebook.com/docs/reference/api/post/)

* * *

要使用图形 API 上传视频，您可以这样做。您还需要获得 publish_stream 权限的授权。

```
NSString * file = [[NSBundle mainBundle] pathForResource:@"video" ofType:@"mov"];
NSData * video = [NSData dataWithContentsOfFile:file];
NSMutableDictionary * dict = [NSMutableDictionary dictionaryWithObjectsAndKeys: 
         @"title", @"title",
         @"description", @"description",
         video, @"video.mov",
         @"video/quicktime", @"contentType",
     nil];
[facebook requestWithGraphPath:@"me/videos"
                     andParams:dict
                 andHttpMethod:@"POST"
                   andDelegate:self]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-18T13:07:37.260

像这样尝试..它对我有用..

```
NSMutableDictionary *variables=[[NSMutableDictionary alloc]init];

//Posting audio file
NSString *filePath = [[NSBundle mainBundle] pathForResource:@"Dookudu" ofType:@"mp3"];
FbGraphFile *file=[[FbGraphFile alloc]initWithData:[NSData dataWithContentsOfFile:filePath]];
[variables setObject:file forKey:@"file"];

FbGraphResponse *response=[fbgraph doGraphPost:@"me/videos" withPostVars:variables];
NSLog(@"response %@",response.htmlResponse); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T16:20:17.513

Soundcloud use og:video tags to show the embedded player. The video tags accept SWF files, so it's possible to load up an interactive audio player widget. Try using the [OG Debugger](https://developers.facebook.com/tools/debug/og/object?q=http://soundcloud.com/elliegoulding/hanging-on-ft-tinie-tempah) to see the tags.

Currently, this seems like the only strategy to show a player when content is shared.

# uml - 寻找大型业务流程语料库

> ID：11338124
> 
> 赞同：3
> 
> 时间：2012-07-05T05:12:56.620
> 
> 标签：uml, bpel, bpmn, statechart, business-process

出于研究目的，我正在寻找大量业务流程示例，最好来自行业或现实来源。流程描述可以是任何格式，包括但不限于：

*   BPEL 或 BPMN
*   UML 活动，状态图序列，包括状态图
*   古老的数据流图，以及 OPM 和 Odell 表示法等变体

从代码中对流程描述进行逆向工程不是一种选择，我特别需要人工编写的模型。

我知道这是一个乱七八糟的搜索，但还是提前感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-15T05:31:26.340

[WSO2 Business Process Server](http://wso2.com/products/business-process-server)提供了一个完整的基于 Web 的图形控制台来部署、管理和查看具有人工任务功能的流程。它由 Apache Orchestration Director Engine (ODE) BPEL 引擎提供支持。

请从[此处查看](http://people.wso2.com/~sanjayav/WSO2BPS-3.0.0-Alpha/)[BPS 3.0 alpaha 发行](http://www.google.lk/url?sa=t&rct=j&q=wso2%20business%20process%20server%203.0.0%20alpha%20released&source=web&cd=4&ved=0CF0QFjAD&url=http://markmail.org/message/6riwpx3at6hifa6g&ei=xFMCUPPyEIephAfsxMWICA&usg=AFQjCNEoPXp-VQjVjJB12-_nVinBnCGxhQ)包。

[WSO2 Developer Studio](http://wso2.com/products/developer-studio/)提供了基于 Eclipse 的开发环境，用于在 BPS 引擎上开发可部署的工件。

谢谢

蒂利尼

# wcf - 无法让 fiddler 记录来自 wcftestclient.exe 的请求？

> ID：11338127
> 
> 赞同：2
> 
> 时间：2012-07-05T05:13:40.277
> 
> 标签：wcf, fiddler, wcftestclient

我使用 Visual Studio 开发服务器构建了一个非常基本的 wcf 服务，只是为了查看提琴手工作：

C＃

```
 public class Service1 : IService1
    {
        public string GetData(int value)
        {
            return string.Format("You entered: {0}", value);
        }

        public CompositeType GetDataUsingDataContract(CompositeType composite)
        {
            if (composite == null)
            {
                throw new ArgumentNullException("composite");
            }
            if (composite.BoolValue)
            {
                composite.StringValue += "Suffix";
            }
            return composite;
        }
    } 
```

网络配置

```
<?xml version="1.0"?>
<configuration>
  <system.web>
    <compilation debug="true" targetFramework="4.0" />
  </system.web>
  <system.serviceModel>
    <behaviors>
      <serviceBehaviors>
        <behavior>
          <!-- To avoid disclosing metadata information, set the value below to false and remove the metadata endpoint above before deployment -->
          <serviceMetadata httpGetEnabled="true"/>
          <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
          <serviceDebug includeExceptionDetailInFaults="false"/>
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <serviceHostingEnvironment multipleSiteBindingsEnabled="true" />
  </system.serviceModel>
  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true"/>
  </system.webServer>
</configuration> 
```

当我运行 wcftestclient 时，它显示 getdata() 工作但没有出现在提琴手中？我该如何修改？

谢谢P

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-03T08:48:55.767

您的服务地址是什么？如果您使用 localhost 或 127.0.0.1 这些消息将不会被捕获。使用您的机器名称或网络 IP 地址。您可以在项目属性中或直接在端点上设置它。

# servlets - 如何编写自定义 servlet 上下文初始化方法

> ID：11338132
> 
> 赞同：1
> 
> 时间：2012-07-05T05:14:13.640
> 
> 标签：servlets

我希望在 servlet 上下文初始化阶段使用 servletContext.setAttributes 设置一些应用程序范围的变量。我怎样才能实现这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:38:38.390

实现在初始化`javax.servlet.SevletContextListener`时获取回调。`javax.servlet.ServletContext`

**这是示例：**

```
public class MyServletContextListener implements ServletContextListener
{
   public void contextInitialized(ServletContextEvent sce)
   {
       ServletContext sc = sce.getServletContext();
       //do your initialization here.
       sc.setAttribute(.....);
   }

   public void contextDestroyed(ServletContextEvent sce)
   {
       ServletContext sc = sce.getServletContext();
       //do your cleanup here

   }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T17:47:32.057

如果您想将您的逻辑更接近 servlet（而不是使用侦听器），您可以覆盖 servlets`init`方法。像这样：

```
@Override
public void init() throws ServletException {
    ServletContext sc = getServletContext();

    // Store our attribute(s)!
    // Check first to make sure it hasn't already been set by another Servlet instance.
    if (sc.getAttribute("key") == null)
        sc.setAttribute("key", "value");
} 
```

而且您不必打电话到`super.init(config)`. 请参阅[文档](http://docs.oracle.com/javaee/6/api/javax/servlet/GenericServlet.html#init%28%29)。

# php - 简单的 Javascript 错误

> ID：11338134
> 
> 赞同：2
> 
> 时间：2012-07-05T05:14:35.113
> 
> 标签：php, javascript

我在以下代码中遇到语法错误。一旦我取出第一行代码，警报就会弹出。我的大脑几乎死了，我不知道为什么。请帮忙。非常感谢。

JS

```
var rss = <?php echo json_encode($test); ?>;

alert("Hello World"); 
```

更新

html

```
 <?php 

    $test=get_array(); 

   //the $test is a multi-dimention array.

  ?>

<script type="text/javascript" src="js/slideshow.js"></script> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T05:17:18.177

`json_encode`失败时将返回 FALSE，因此如果失败，`echo false`将不输出任何内容。

所以你的代码变成了下面，这给你一个语法错误。

```
var rss = ;

alert("Hello World"); 
```

***编辑：*** 从您更新的编辑中，原因是： **您不能在 js 文件中编写 php 代码。**

如果在 js 文件中需要该变量，请先将其分配给全局变量。

```
<script type="text/javascript">
  var rss = <?php echo json_encode($test); ?>;
</script>
<script type="text/javascript" src="js/slideshow.js"></script> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T05:23:47.523

为避免错误，您的代码应为：

```
var rss = <?php echo json_encode($test) ? json_encode($test) : "''"; ?>;
alert("Hello World"); 
```

即使`json_encode`返回`false`，您的代码也将是：

```
var rss = '';
alert("Hello World"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T05:23:18.883

这是因为 JavaScript 抛出致命错误并停止当前脚本执行，原因是：

```
var rss = <?php echo json_encode($test); ?>; 
```

问题是这可能会返回非有效的 JSON 字符串并引发新的异常，

你可以做什么：

首先你应该确定你从 PHP 得到的字符串是否真的有效。由于 JSON 方法通常会抛出错误，因此您可以简单地将这个 var 放入`try/catch`块中

```
try {

  var rss = <?php echo json_encode($your_array); ?>;

} catch(e){

  alert('Invalid JSON string');
} 
```

在 PHP 中，还请检查它是否有效，以防止将无效的 JSON 字符串发送回 javaScipt

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-05T05:33:44.657

在 .js 文件中，PHP 不起作用。它仅适用于扩展名为 .php 的文件。将你的 JS 代码放在 PHP 页面中；然后它工作。

# php - php 在 MySQL 数据库中存储 url 图像路径

> ID：11338136
> 
> 赞同：1
> 
> 时间：2012-07-05T05:14:57.467
> 
> 标签：php

我正在尝试将 URL 图像路径存储到 MySQL DB 中。但是我的代码没有得到任何结果。

*   为什么它不存储任何东西？
*   只存储图像名称或整个路径会更好吗？目标示例：“www.example.com/medium/imagename.jpg”

**表名：urlimage**

```
id: autoincrement
image_name 

Php code for inserting data into DB
<?php

$images = explode(',', $_GET['i']);

$path = Configuration::getUploadUrlPath('medium', 'target');

if(is_array($images)){

    $objDb = new PDO("mysql:host=" . $host . ";dbname=" . $db, $user, $pass);
    $objDb->exec('SET CHARACTER SET utf8');

    $sql = "INSERT INTO `urlImage` (`image_name`) VALUES ";

  foreach ($images as $image) {

    //echo '<div><p>' . $path . $image . '</p><img src="' . $path . $image . '" /></div>';
    $value[] = "(".$path.$image.")"; // collect imagenames
  }

  $sql .= implode(',', $value).";"; //build query

  $objDb->query($sql);   
}

?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T05:30:14.550

尝试这个; 它可能有效：

```
$value[] = "('".$path.$image."')"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:27:59.303

你有错误`$sql`

肯定是 `$value[] = "('".$path.$image."')";`

调试

```
 echo "<pre>"; print_r($sql);echo "</pre>"; 
```

如果您使用**PDO**函数，则调用

[`prepare`](http://www.php.net/manual/en/pdo.prepare.php)->[`execute`](http://www.php.net/manual/en/pdo.execute.php)

# c# - 具有多个参数的表达式谓词

> ID：11338137
> 
> 赞同：0
> 
> 时间：2012-07-05T05:15:06.447
> 
> 标签：c#, linq, linq-to-sql, predicate

我在这里使用 Marc Gravell 在 Stackoverflow 上提供的代码：http: [//goo.gl/57nW2](http://goo.gl/57nW2)

编码 ：

```
var param = Expression.Parameter(typeof (Foo));
var pred = Expression.Lambda<Func<Foo, bool>>(
    Expression.Call(
        Expression.PropertyOrField(param, fieldName),
        "StartsWith",null,
        Expression.Constant(stringToSearch)), param); 
```

现在，我想结合几个参数，示例：

```
 public void BuildPredicate(string[] typeSearch, string[] field, string searchValue)
    {
       //Content
       //typeSearch = new string[] {"Contains", "StartsWith", "StartsWith" };
       //field = new string[] { "FieldA", "FieldB", "FieldC" };

      //FieldA contains searchValue and FieldB startWith searchValue and FieldC startWith searchValue
    } 
```

一个主意 ？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T05:44:42.693

您可以简单地遍历所有字段上的所有操作，并为每个类型/字段组合构建一个包含 OrElse 子句的表达式树

```
var expressions = from type in typeSearch
                  from field in fields
                  select Expression.Call(
                    Expression.PropertyOrField(param, field),
                    type, null,
                    Expression.Constant(stringToSearch));

Expression body = Expression.Constant(false);
foreach (Expression expression in expressions)
{
    body = Expression.OrElse(body, expression);
}

var result = Expression.Lambda<Func<Foo, bool>>(body, param); 
```

根据要求，一个示例包括对 ToUpper 的调用：

```
var expressions = from type in typeSearch
                  from field in fields
                  select Expression.Call(
                    Expression.Call(
                        Expression.PropertyOrField(param, field),
                        "ToUpper", null),
                    type, null,
                    Expression.Constant(stringToSearch)); 
```

# python - 如何删除列表中的第一项和最后一项？

> ID：11338143
> 
> 赞同：22
> 
> 时间：2012-07-05T05:15:58.397
> 
> 标签：python

我有清单

```
['Q 0006 005C 0078 0030 0030 0033 0034 ONE_OF 0002 '] 
```

如何删除第一个元素`Q`和`0002`最后一个元素？

* * *

## 回答 #1

> 赞同：101
> 
> 时间：2012-07-05T05:18:33.020

如果您的列表存储在下面，`my_list`那么这应该可以。

```
my_list = my_list[1:-1] 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-07-05T05:23:00.403

我不确定您到底想要什么，因为目前还不清楚，但这应该会有所帮助。实际上，该列表中只有一个元素。

假设您的所有列表项都是以空格作为分隔符的字符串，以下是如何从列表中的每个字符串中删除第一组和最后一组字符的方法。

```
>>> L = ['Q 0006 005C 0078 0030 0030 0033 0034 ONE_OF 0002 ']
>>> [' '.join(el.split()[1:-1]) for el in L]
['0006 005C 0078 0030 0030 0033 0034 ONE_OF'] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-11-08T19:34:53.480

另一种（相当 Pythonic）的方法是使用扩展序列解包功能：

```
my_list = _ , *my_list, _ 
```

**例子**

```
>>> my_list =  [1, 2, 3, 4, 5]
>>> _, *my_list, _ = my_list
>>> my_list
[2, 3, 4] 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2021-03-10T21:53:53.007

```
#initialize 2 lists what will hold your integers
List1 = []
List2 = []

# prompt the user to enter the integers in the list
List1 = eval(input("Enter the list of integers:")

#Iterate over the list to remove the first and last integer
for i in range(len(List1):
    List2 = list1[1:-1]

#print the contents of your new list to verify the results
print(List2) # the output shouldn't contain first and last integer of List1 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2021-03-10T22:00:33.297

```
# prompt the user to enter the integers in the list
List1 = eval(input("Enter the list of integers:")

#Iterate over the list to remove the first and last integer
for i in range(len(List1):
    List2 = list1[1:-1]

#print the contents of your new list to verify the results
print(List2) # the output shouldn't contain first and last integer of List1 
```

# html - 设置 TableRows 之间的边距

> ID：11338148
> 
> 赞同：0
> 
> 时间：2012-07-05T05:17:14.307
> 
> 标签：html, css, margin, html-table

我正在尝试在两个表格行之间设置一定的边距。

我在**css**中使用以下代码片段：

```
background-color: #72c2dd;
margin-top: 25px; 
```

`background-color`得到应用但`margin-top` **不起作用**。（参考下面的截图）

这是整张桌子的问题。
所有其他属性都正常工作，但`margin`.

任何帮助表示赞赏。

![](../Images/a05233f22a362abb5cf739848418ed1d.png) 左边的图像是**它应该**的样子，右边的图像是**它的显示方式**（第二行顶部没有边距）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:20:53.337

表格单元格没有可更改的边距。但是，您可以更改单元格的填充。您可以尝试的另一个技巧是使用以下内容在行的上部添加透明边框：

`border-top: 5px solid transparent;`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:28:28.910

改用border-top，border-top: 25px solid white original try table-layout [http://www.w3schools.com/cssref/pr_tab_table-layout.asp](http://www.w3schools.com/cssref/pr_tab_table-layout.asp)并为该单元格设置自定义高度

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T09:37:18.653

如果您只有一列，那么**“单元格间距”**将解决问题；

否则，您可以为宽度为 25px 的行使用白色顶部边框；

# osgi - WAB和WAR的区别

> ID：11338156
> 
> 赞同：7
> 
> 时间：2012-07-05T05:17:58.913
> 
> 标签：osgi, war, wab

我是这方面的新手并阅读了有关 WAB 的信息，但希望清除基本区别 - 我的意思是使用嵌入在 tomcat 中的 osgi 并制作 WAR 与制作 WAB？

什么时候应该考虑每个选项？

1) 嵌入在tomcat中的OSGI

2）OSGI中的tomcat

3) 使用 WAB

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-05T13:47:11.447

当您被迫采用传统的 JavaEE WAR 部署模型时，嵌入在容器中的 OSGi（不仅是 Tomcat！）可能是唯一的选择，即 IT 部门操作容器而您只能将 WAR 文件部署到它。这会在 Web 应用程序内引导整个 OSGi 框架，并允许在 Web 应用程序内进行模块化开发。然后将 Web 应用程序组合为一组 OSGi 包。它还可用于将现有的遗留 Web 应用程序迁移/转移到 OSGi 模块中。然而，这将具有挑战性。

我想将第二种方法（OSGi 中的 Tomcat）称为纯 OSGi 方法。Tomcat 或任何其他 Servlet 容器（例如 Jetty）可以作为一个包（或一组包）部署在 OSGi 框架中。OSGi 框架就是容器。您不再需要完全分离 Web 应用程序。可以相交。一些捆绑包/模块可能实现 Web 功能，而另一些可能不会。核心功能（核心捆绑包）可以被其他 web 捆绑包重用。

第三个选项是 OSGi 中新规范工作的结果。基本上，它是一个带有 OSGi 捆绑清单的 Web 应用程序。因此，整个 Web 应用程序可以作为单个 OSGi 包部署在任何支持 WAB 的框架上。从技术上讲，bundle 可以作为 Web 应用程序部署到 Servlet 容器。但它可以访问 BundleContext。这允许 Web 应用程序与在同一框架中运行的其他包或 Web 应用程序进行互操作。

# java - 列表未填充

> ID：11338160
> 
> 赞同：0
> 
> 时间：2012-07-05T05:18:18.380
> 
> 标签：java, android, listview

我正在制作一个应用程序，它将在列表视图中列出附近的地址，但由于某种原因，地址没有进入列表。我是否遗漏了地址集合中的某些内容或？...

它发生在 for 循环中。我希望它读取我获得的地址列表，并将我想要的信息修剪为只有必要的位，比如街道号码和邮政编码，而不是一堆乱七八糟的数字。

但是，每次我运行该应用程序时，该列表仍然是空白的。

```
package com.atonea.ps;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Locale;

import android.app.Activity;
import android.content.Context;
import android.location.Address;
import android.location.Criteria;
import android.location.Geocoder;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;

public class PSActivity extends Activity {
protected static final Location Location = null;
/** Called when the activity is first created. */
String location_text="";
String here="";
final ArrayList<String> addressbook = new ArrayList<String>();

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    Button goButton = (Button) findViewById(R.id.beginButton);
    LocationManager locationManager; 
    String context = Context.LOCATION_SERVICE; 
    locationManager = (LocationManager)getSystemService(context); 

    Criteria crta = new Criteria(); 
    crta.setAccuracy(Criteria.ACCURACY_FINE); 
    crta.setAltitudeRequired(false); 
    crta.setBearingRequired(false); 
    crta.setCostAllowed(true); 
    crta.setPowerRequirement(Criteria.POWER_LOW); 
    String provider = locationManager.getBestProvider(crta, true);  
    Location location = locationManager.getLastKnownLocation(provider); 
    updateWithNewLocation(location);

    goButton.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
        }

    });         

}
private void updateWithNewLocation(Location location) { 
    String latLong; 
    TextView uhoh = (TextView) findViewById(R.id.texty);

    ListView listview = (ListView) findViewById(R.id.listview1);
    ArrayAdapter<String> arrayAdapter = new ArrayAdapter<String>(this,android.R.layout.simple_list_item_1, addressbook);
    listview.setAdapter(arrayAdapter);

    String addressString = "no address found"; 
    Address fulladdress;
    String street;
    String zip;
    String addresstogether;

    if(location!=null) { 
    double lat = location.getLatitude(); 
    double lon = location.getLongitude(); 
    latLong = "Lat:" + lat + "\nLong:" + lon; 

    double lattitude = location.getLatitude(); 
    double longitude = location.getLongitude();     
    Geocoder gc = new Geocoder(this,Locale.getDefault()); 

    try { 
    List addresses= gc.getFromLocation(lattitude, longitude, 1); 

    if(addresses.size()>0) { 
        for (int a = 0; a > 6; a++) {
            fulladdress = ((Address) addresses.get(a));
            street = fulladdress.getAddressLine(a);
            zip = fulladdress.getPostalCode();
            addresstogether = street+" "+zip;
            addressbook.add(a, addresstogether);
            arrayAdapter.notifyDataSetChanged();
            Toast.makeText(getApplicationContext(),addresstogether, Toast.LENGTH_LONG).show();
            }
        } 
    } catch (Exception e) { 
    } 
    } else { 
    latLong = " NO Location Found "; 
    } 

    uhoh.setText("your Current Position is :\n" +latLong + "\n " + addressString ); 
    } 
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-05T05:20:45.183

```
for (int a = 0; a > 6; a++) { 
```

你永远不会进入这个循环。你从 0 开始，它总是小于 6。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:24:07.057

这个条件`for (int a = 0; a > 6; a++)`是不正确的。

正如你已经初始化`a with 0`然后检查`a > 6`它总是错误的，你的程序永远不会进入循环。

一定是为了`(int a = 0; a < 6; a++)`。

# .net - 使用 .NET 框架许可开发应用程序

> ID：11338161
> 
> 赞同：-1
> 
> 时间：2012-07-05T05:18:19.097
> 
> 标签：.net, licensing

使用 .NET 框架创建商业应用程序时是否有任何许可要求？.NET 框架 EULA 中是否有您需要了解的所有内容？（即当您安装 .NET 4 时）还是还有其他要求？谈到 EULA，它说您必须拥有操作系统的许可版本。我确实有 XP 许可证，但如果我想在 Windows7 上使用我的应用程序，我是否也应该获得 7 许可证？

至于重新分发框架，我不打算这样做，但会要求用户下载它

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T05:49:39.917

许可证往往是相当复杂的法律文件，我不是律师（本网站上的大多数人也不是），所以你得到她的任何答案都应该被视为意见而不是建议。

一般来说，许可证的目的是相当宽松的。你不能对代码进行逆向工程，改变它，然后把它称为你自己的......你不能起诉 MS 提供它等等。等等。

您提到的有关许可操作系统的术语意味着您使用该框架的权利仅扩展到在许可版本的操作系统上运行它。这意味着，法律上不允许您在未经许可的操作系统上运行代码，当然也不能合法运行。这并不意味着如果其他人要在 Windows 7 上运行它，您必须购买 Windows 7 许可证。如果您要在 Windows 7 上运行它，您只需要 Windows 7 许可证。

您的最终用户有责任确保他们拥有许可的操作系统，并且不允许他们在未经许可的操作系统上运行使用该框架的程序。但是，实际上，如果他们故意在未经许可的操作系统上使用它，他们可能也不会尊重框架许可。

我不会太担心许可证的条款，除非你做错了什么，然后你按照微软的意图使用它。

# javascript - svg tap 在 iPhone 上突出显示预防

> ID：11338162
> 
> 赞同：1
> 
> 时间：2012-07-05T05:18:22.223
> 
> 标签：javascript, iphone, ios, html, webkit

我只想在触摸我的 iphone webkit 中的任何对象时防止点击突出显示

我在画布上使用了下面的

```
 .transparent{
            -webkit-tap-highlight-color: transparent;

        } 
```

效果很好，但同样不适用于 svg 是否有任何其他方法可以防止这种突出显示。

我也试过

```
 .transparent{
          -webkit-highlight: none;
        } 
```

任何帮助请...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T13:51:29.837

把它放在样式表中：

```
a {-webkit-tap-highlight-color:rgba(0,0,0,0)} 
```

# matlab - 通过周围像素的平均值去除图像中的孔

> ID：11338164
> 
> 赞同：9
> 
> 时间：2012-07-05T05:18:46.560
> 
> 标签：matlab, image-processing, computer-vision, interpolation

![带孔的灰度图像](../Images/e5821ff663f78b73e16ba80673beb48e.png)

谁能帮我用取自相邻非零像素的值来填充这些黑洞。谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-06T01:28:13.617

一种很好的方法是求解[线性热方程](http://en.wikipedia.org/wiki/Heat_equation)。你要做的是固定好区域像素的“温度”（强度），让热量流入坏像素。一个可以通过但有点慢的方法是重复平均图像然后将好的像素设置回它们的原始值`newImage(~badPixels) = myData(~badPixels);`。

我执行以下步骤：

1.  找到图像为零的坏像素，然后扩大以确保我们得到所有东西
2.  应用大模糊让我们更快开始
3.  平均图像，然后将好的像素设置回其原始像素
4.  重复步骤 3
5.  展示

您可以重复平均直到图像停止变化，并且您可以使用较小的平均内核以获得更高的精度——但这会产生良好的结果：

![在此处输入图像描述](../Images/e9983421e07394de61da7d070a7f7175.png)

代码如下：

```
numIterations = 30;
avgPrecisionSize = 16; % smaller is better, but takes longer

% Read in the image grayscale:
originalImage = double(rgb2gray(imread('c:\temp\testimage.jpg')));

% get the bad pixels where  = 0 and dilate to make sure they get everything:
badPixels = (originalImage == 0);
badPixels = imdilate(badPixels, ones(12));

%# Create a big gaussian and an averaging kernel to use:
G = fspecial('gaussian',[1 1]*100,50);
H = fspecial('average', [1,1]*avgPrecisionSize);

%# User a big filter to get started:
newImage = imfilter(originalImage,G,'same');
newImage(~badPixels) = originalImage(~badPixels);

% Now average to
for count = 1:numIterations
   newImage = imfilter(newImage, H, 'same');
   newImage(~badPixels) = originalImage(~badPixels);
end

%% Plot the results
figure(123);
clf;

% Display the mask:
subplot(1,2,1);
imagesc(badPixels);
axis image
title('Region Of the Bad Pixels');

% Display the result:
subplot(1,2,2);
imagesc(newImage);
axis image
set(gca,'clim', [0 255])
title('Infilled Image');

colormap gray 
```

`roifill`但是您可以从图像处理工具箱中获得类似的解决方案，如下所示：

```
newImage2 = roifill(originalImage, badPixels);

figure(44);
clf;
imagesc(newImage2);
colormap gray 
```

请注意，我使用的是之前定义的相同 badPixels。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-05T09:34:30.083

Matlab 文件交换中有一个文件，[-inpaint_nans](http://www.mathworks.com/matlabcentral/fileexchange/4551)完全符合您的要求。作者解释了为什么以及在哪些情况下它比 Delaunay 三角剖分更好。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-05T06:00:04.423

要填充一个黑色区域，请执行以下操作：

1）识别包含黑色区域的子区域，越小越好。最好的情况只是黑洞的边界点。

2) 通过以下方式创建子区域内非黑点的 Delaunay 三角剖分：

```
 tri = DelaunayTri(x,y); %# x, y (column vectors) are coordinates of the non-black points. 
```

3）确定德劳内三角形所在的黑点：

```
[t, bc] = pointLocation(tri, [x_b, y_b]); %# x_b, y_b (column vectors) are coordinates of the black points
tri = tri(t,:); 
```

4）插值：

```
v_b = sum(v(tri).*bc,2); %# v contains the pixel values at the non-black points, and v_b are the interpolated values at the black points. 
```

# c# - 我如何在没有 Visual Studio 的服务器上的 asp.net 项目中包含库？

> ID：11338169
> 
> 赞同：1
> 
> 时间：2012-07-05T05:19:17.433
> 
> 标签：c#, asp.net

我有一个用 Visual Studio 2005 编写的小型 asp.net 应用程序。项目在 VS 中工作，但不在远程服务器上的 IIS 中工作。编译错误 CS0246：找不到类型名或命名空间

我只是将文件从项目复制到项目 IIS。

谷歌搜索，我找到了一个链接[http://www.codingforums.com/archive/index.php/t-122281.html](http://www.codingforums.com/archive/index.php/t-122281.html)

> 问题是VS2005的ASP.NET网站项目是假的......

有任何想法吗？如何在没有 Visual Studio 的服务器上的 asp.net 项目中包含库？

评论中的正确答案@dbaseman

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T05:23:42.837

您是否在服务器机器上安装了 .NET 框架？如果不是，那么您必须安装 .NET 框架的版本。还要确保您已正确打包和发布项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T05:24:19.133

您应该能够将 .DLL 文件放在应用程序的*bin文件夹下。*确保您也已在 IIS 中的文件夹上运行“转换为应用程序”。

以上应该可以很好地工作；您还可以使用*[gacutil.exe](http://msdn.microsoft.com/en-us/library/ex0ss12c%28v=vs.80%29.aspx)*在全局程序集缓存中安装 DLL 。这将使该库可用于服务器上的所有应用程序。

# postgresql - pgsql回滚函数或撤销最后一步

> ID：11338172
> 
> 赞同：0
> 
> 时间：2012-07-05T05:19:47.160
> 
> 标签：postgresql

我建立了一个 pgsql 数据库，并使用 JDBC 将数据上传到数据库。但有时我上传错误的数据。所以在pgsql中它有一些功能或sql语句可以允许回滚到最后一步，而不使用备份文件？

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:41:29.777

如果你在事务中运行，你可以用“提交”或“回滚”结束事务，因此在你的脚本中你可能会向用户提出一个交互式问题：“这看起来好吗？” 然后进行提交或回滚。

请注意，长时间的“事务空闲”可能对性能有害，因此您应该在超时后进行回滚（或提交）。当然，在进行任何数据库操作之前向用户提出问题会更好。

如果某些东西已经提交到数据库，据我所知，除非你有备份，否则它不能回滚（不知道 - 也许理论上可以根据 WAL 来做......但可能不是）。几年前，我正在实施一个带有“热备用备份服务器”的系统，它总是比生产数据库晚半小时——然后我可以发出“遇险信号”，备份服务器将以旧状态联机数据库，即如果我犯了一些错误，例如`update users set password=md5('foo' || salt)`而不是`update users set password=md5('foo' || salt) where username='tobixen'`. 如果主数据库出现故障，“热备用”将前滚然后上线。如果对此有任何兴趣，我可能会发布有关此的其他详细信息。

如果您预计会遇到麻烦，通常也可以将数据库和脚本设计成手动回滚是微不足道的。

# mod-rewrite - 不同文件夹中的多个索引文件？

> ID：11338174
> 
> 赞同：1
> 
> 时间：2012-07-05T05:19:52.107
> 
> 标签：mod-rewrite, url-rewriting

我刚刚发现，如果我的网站中有多个文件夹，例如注销和登录，那么我可以在名为 index.php 的文件夹中有一个注销/登录页面现在当有人访问 project.com/login/ 时，它会加载该文件夹中的 index.php 文件和 url 看起来不错。

这样做有什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-06T04:43:44.170

正如 Candy 指出的那样，最好使用 url 重写而不是一堆文件夹和索引文件来做到这一点。我去查了一下，你可以做很多很酷的事情。

基础知识：

1.  [http://www.addedbytes.com/for-beginners/url-rewriting-for-beginners/](http://www.addedbytes.com/for-beginners/url-rewriting-for-beginners/)
2.  [http://www.yourhtmlsource.com/sitemanagement/urlrewriting.html](http://www.yourhtmlsource.com/sitemanagement/urlrewriting.html)

您可以使用 apache mod_rewrite 模块，让您透明地使用 apache mod_rewrite 模块，而不是创建许多会使站点混乱（对于开发人员而言）并且拥有大量 index.php 文件（如果您一次编辑多个文件也会使您感到困惑），而不是（地址栏中的 url 保持不变）将一个 URL 重定向到另一个。您可以使用它来清理凌乱的 url，`/login/`而不是`/login/login.php`或者`/user/1335591/`甚至`/user/'username'/`不是一个难记的难看的 url，如下所示：`/user/user.php?user=1335591`

1.  开始首先放入`RewriteEngine on`您的 .htaccess 文件以将其打开
2.  然后将重定向按顺序写入 .htaccess 文件中

**下面是一个例子：**

1.  `RewriteRule ^products/([0-9][0-9])$ /products/$1/ [R]`

2.  `RewriteRule ^products/([0-9][0-9])/$ /productinfo.php?prodID=$1`

如果用户在第一条规则中键入，`products/12`则会在其后面附加一个斜杠。第二条规则会透明地将这个 URL 重定向到`productinfo.php?prodID=12`

# ruby-on-rails - 注销后如何在单击浏览器的“返回”按钮时获取登录页面？

> ID：11338176
> 
> 赞同：1
> 
> 时间：2012-07-05T05:20:30.037
> 
> 标签：ruby-on-rails, browser

我正在关注 Michael Hartl 的教程。

当用户登录，然后退出并单击浏览器的后退按钮时，会显示用户的主页，这是我不想要的。我希望用户在点击浏览器的“后退”按钮时获得登录页面，而不是在退出后点击主页。

谢谢！:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:19:54.713

基本上，您的浏览器正在缓存网页，并且 rails 当前配置为允许您这样做。您必须在 rails 中手动指定您不希望发生页面缓存。

请在此处参考此[链接。](http://www.fordevs.com/2011/10/how-to-prevent-browser-from-caching-a-page-in-rails.html)它应该正是您正在寻找的。

基本上我链接的页面告诉你要做的是添加几行到`application_controller.rb`：

这个：

```
before_filter :set_no_cache 
```

和功能：

```
def set_no_cache
response.headers["Cache-Control"] = "no-cache, no-store, max-age=0, must-revalidate"
response.headers["Pragma"] = "no-cache"
response.headers["Expires"] = "Fri, 01 Jan 1990 00:00:00 GMT"
end 
```

让我知道它是否有效。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-07-05T06:03:12.113

只需在退出按钮上重定向到登录页面并禁用浏览器后退按钮。

# selenium-rc - selenium.chooseOkOnNextConfirmation() 不起作用

> ID：11338178
> 
> 赞同：1
> 
> 时间：2012-07-05T05:20:51.560
> 
> 标签：selenium-rc

我被困在其中一条确认消息中。下面是代码。

`boolean bFlag = selenium.isConfirmationPresent();`// 给出 bFlag= false

```
selenium.chooseOkOnNextConfirmation();
selenium.click("//input[@value='Approve']"); 
```

// 在点击 Approve 按钮时显示确认消息。 `boolean Flag = selenium.isConfirmationPresent();`// 这给出了 flag= true

Selenium 无法在确认中单击“确定”。我无法继续进一步编码。单击批准按钮后，硒命令的修女正在工作。

谁可以帮我这个事

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T18:03:58.553

我只有一个相当旧的文档的参考，但我猜所说的仍然是真实的 [http://release.seleniumhq.org/selenium-core/1.0.1/reference.html#chooseOkOnNextConfirmation](http://release.seleniumhq.org/selenium-core/1.0.1/reference.html#chooseOkOnNextConfirmation)

> 每次出现确认时，您必须使用相应的 getConfirmation 来使用它，否则下一个 selenium 操作将失败。

所以你的代码应该是这样的：

```
selenium.chooseOkOnNextConfirmation();
selenium.click("//input[@value='Approve']");
String confirmation = selenium.getConfirmation();
assertEquals("expected text of confirmation", confirmation); // check content of confirmation, optional
// now continue with more selenium commands 
```

# c# - 我如何创建列表的功能 在选项文件中？

> ID：11338180
> 
> 赞同：0
> 
> 时间：2012-07-05T05:21:08.350
> 
> 标签：c#

我在选项文件中有两个函数 GetKey 和 SetKey。

我在 settings_file.txt 中设置了一个键，它看起来像：

`text = hello`其中*text*是键，然后 = 和*hello*是当前键的值。

现在我需要添加另外两个函数，第一个是 List 类型，它获取一个字符串并返回一个 List

还有一个获取 Key 和 List 的函数。

所以这是前两个函数都可以工作的 GetKey 和 SetKey：

```
/*----------------------------------------------------------------
 * Module Name  : OptionsFile
 * Description  : Saves and retrievs application options
 * Author       : Danny
 * Date         : 10/02/2010
 * Revision     : 1.00
 * --------------------------------------------------------------*/

using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.Net;
using System.IO;
using System.Configuration;

/*
 *  Introduction :
 * 
 *  This module helps in saving application options
 * 
 * 
 *  Typical file could look like this:
 *  user_color=Red
 *  time_left=30
 *  
 * 
 * 
 * 
 * 
 * */

namespace DannyGeneral
{
    class OptionsFile
    {
        /*----------------------------------------
         *   P R I V A T E     V A R I A B L E S 
         * ---------------------------------------*/

        /*---------------------------------
         *   P U B L I C   M E T H O D S 
         * -------------------------------*/
        string path_exe;
        string temp_settings_file;
        string temp_settings_dir;
        string Options_File;
        StreamWriter sw;
        StreamReader sr;

/*----------------------------------------------------------
 * Function     : OptionsFile
 * Description  : Constructor
 * Parameters   : file_name is the name of the file to use
 * Return       : none
 * --------------------------------------------------------*/
    public OptionsFile(string settings)
    {
        if (!File.Exists(settings))
        {
            if (!Directory.Exists(Path.GetDirectoryName(settings)))
            {
                Directory.CreateDirectory(Path.GetDirectoryName(settings));
            }
            File.Create(settings).Close();
        }
        path_exe = Path.GetDirectoryName(Application.LocalUserAppDataPath);
        Options_File = settings; 
    }

/*----------------------------------------------------------
 * Function     : GetKey
 * Description  : gets the value of the key.
 * Parameters   : key
 * Return       : value of the key if key exist, null if not exist
 * --------------------------------------------------------*/
    public string GetKey(string key)
    {

      //  string value_of_each_key;
        string key_of_each_line;
        string line;
        int index;
        string key_value;
        key_value = null;

        sr = new StreamReader(Options_File);
        while (null != (line = sr.ReadLine()))
        {

            index = line.IndexOf("=");

           //    value_of_each_key = line.Substring(index+1);

            if (index >= 1)
            {
                key_of_each_line = line.Substring(0, index);
                if (key_of_each_line == key)
                {
                    key_value = line.Substring(key.Length + 1);
                }

            }
            else
            {
            }

        }
        sr.Close();
        return key_value;
    }

/*----------------------------------------------------------
 * Function     : SetKey
 * Description  : sets a value to the specified key
 * Parameters   : key and a value
 * Return       : none
 * --------------------------------------------------------*/
    public void SetKey(string key , string value)
    {
        bool key_was_found_inside_the_loop;
        string value_of_each_key;
        string key_of_each_line ;
        string line;
        int index;
        key_was_found_inside_the_loop = false;

        temp_settings_file = "\\temp_settings_file.txt";
        temp_settings_dir = path_exe + @"\temp_settings";
        if (!Directory.Exists(temp_settings_dir))
        {
            Directory.CreateDirectory(temp_settings_dir);
        }

        sw = new StreamWriter(temp_settings_dir+temp_settings_file);
        sr = new StreamReader(Options_File);
        while (null != (line = sr.ReadLine()))
        {

            index = line.IndexOf("=");
            key_of_each_line = line.Substring(0, index);
            value_of_each_key = line.Substring( index + 1);
         //   key_value = line.Substring(0,value.Length);
            if (key_of_each_line == key)
            {
                sw.WriteLine(key + " = " + value);
                key_was_found_inside_the_loop = true;

            }
            else
            {
                sw.WriteLine(key_of_each_line+"="+value_of_each_key);
            }

        }

        if (!key_was_found_inside_the_loop)
        {
           sw.WriteLine(key + "=" + value);
        }
        sr.Close();
        sw.Close();
        File.Delete(Options_File);
        File.Move(temp_settings_dir + temp_settings_file, Options_File);
        return;

    } 
```

在这两个功能之后，我做了：

```
public List<float> GetListFloatKey(string keys)
    {
        int j;
        List<float> t;
        t = new List<float>();
        int i;
        for (i = 0; ; i++)
        {
            j = Convert.ToInt32(GetKey((keys + i).ToString()));
            if (j == 0)
            {
                break;
            }
            else
            {
                t.Add(j);
            }
        }
        if (t.Count == 0)
            return null;
        else
            return t;
    }

    public void SetListFloatKey(string key, List<float> Values)
    {
        int i;
        for (i = 0; i < Values.Count; i++)
        {
            string indexed_key;
            indexed_key = string.Format("{0}{1}", key, i);
            //  indexed_key = Key + i.ToString();
            SetKey(indexed_key, Values[i].ToString());
        }
    } 
```

但他们并不好。

最后一个 SetListFloatKey 当我将 List 放入其中时，文本文件 settings_file.txt 中的结果用于示例：

坐标01 = 123

坐标02 = 144

坐标03 = 145

对于列表中的每个单元格/索引，我都会得到它的密钥。我需要的是我得到的列表将有一个键，文本文件中的格式应该是这样的：

坐标= 123,144,145......等等一个键，然后我得到的列表中的所有值。

然后在 GetListFloatKey 中，我需要根据键重新格式化值，例如坐标，并返回一个列表，其索引值为 0 123 in 1 144 in 2 145 等等....

如果我在 GetKey 和 SetKey 中使用的功能在我做它们的方式上是好的？以及如何格式化和重新格式化这些值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T05:29:01.533

目前，您正在为列表中的每个项目在 SetListFloatKey 中调用 SetKey。相反，您需要按照（已完成基本测试）构建一个字符串并调用它一次：

```
public static void SetListFloatKey(string key, List<float> Values)
{
  StringBuilder sb = new StringBuilder();
  foreach (float value in Values)
  {
    sb.AppendFormat("{0},", value);
  }
  SetKey(key, sb.ToString());
} 
```

注意我在这里变得懒惰 - 最后一个项目后面会有一个逗号。然后在加载列表时：

```
public static List<float> GetListFloatKey(string keys)
{
  List<float> result = new List<float>();
  string s = GetKey(keys);
  string[] items = s.Split(new char[] { ',' });
  float f;
  foreach (string item in items)
  {
    if (float.TryParse(item, out f))
      result.Add(f);
  }
  return result;
} 
```

但是，鉴于您正在读取和写入选项文件，您可能希望研究有关将对象序列化到文件和从文件中序列化的选项。

**编辑**有几种方法可以去掉多余的逗号。一种方法是一开始就不放它...

```
 string sep = "";
  foreach (float value in Values)
  {
    sb.AppendFormat("{0}{1}", sep, value);
    if (sep == "") sep = ",";
  } 
```

...另一个是在调用 SetKey 时将其排除在外...

```
 foreach (float value in Values)
  {
    sb.AppendFormat(",{0}", value);
  }
  SetKey(key, sb.ToString().Substring(1)); 
```

..请注意，在这两种情况下，我都将逗号移到了开头，以使生活更轻松。或者，您可以将数字存储在数组中并使用 Array.Join。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:14:53.983

我认为您在每次进行更改时都浪费了太多时间来考虑如何格式化文件，每次检查密钥时也会造成大量文件开销。

考虑使用类似的类

```
 public class Options
    {
        public static string FILENAME = @"C:\Test\testfile.txt";

        public List<KeyValuePair<string, string>> OrderedKeys { get; set; }
        public Dictionary<string, KeyValuePair<string, string>> Pairs { get; set; }

        public string GetKey(string key)
        {
            return this.Pairs[key].Value;
        }

        public void SetKey(string key, string value)
        {
            if(this.Pairs.ContainsKey(key))
            {
                KeyValuePair<string, string> pair = new KeyValuePair<string, string>(key, value);
                this.OrderedKeys.Insert(this.OrderedKeys.IndexOf(this.Pairs[key]), pair);
                this.Pairs[key] = pair;
            }
        }

        public Options()
        {
            LoadFile();
        }

        ~Options()
        {
            WriteFile();
        }

        private void LoadFile()
        {
            Regex regex = new Regex(@"(?<key>\S*?)\s*=\s*(?<val>\S*?)\s*\r\n");
            MatchCollection matches = regex.Matches(File.ReadAllText(FILENAME));

            this.OrderedKeys = new List<KeyValuePair<string, string>>();
            this.Pairs = new Dictionary<string, KeyValuePair<string, string>>();

            foreach (Match match in matches)
            {
                KeyValuePair<string, string> pair = 
                    new KeyValuePair<string,string>(match.Groups["key"].Value, match.Groups["val"].Value);

                this.OrderedKeys.Add(pair);
                this.Pairs.Add(pair.Key, pair);
            }
        }

        private void WriteFile()
        {
            if (File.Exists(FILENAME))
                File.Delete(FILENAME);

            using (System.IO.StreamWriter file = new System.IO.StreamWriter(FILENAME))
            {
                foreach (KeyValuePair<string, string> pair in this.OrderedKeys)
                {
                    file.WriteLine(pair.Key + " = " + pair.Value);
                }
            }
        }

    } 
```

请注意，选项对象将从文件中读取一次，并在销毁时写出，同时它将保存文件中值的本地字典。然后您可以 GetKey() 和 SetKey() 来获取和设置您的选项。

我修改了我的原始帖子以使用列表和字典，这是因为字典本身不保持添加对的原始顺序，因此列表确保选项始终以正确的顺序写入文件。

您还会注意到我添加了一个正则表达式来解析您的文件，使事情变得更容易和更快，并允许在选项文件中添加额外的空格。

完成此操作后，很容易添加诸如

```
 public List<float> GetListFloatKey(string keybase)
        {
            List<float> ret = new List<float>();
            foreach (string key in this.Pairs.Keys)
            {
                if (Regex.IsMatch(key, keybase + "[0-9]+"))
                    ret.Add(float.Parse(this.Pairs[key].Value));
            }

            return ret;
        }

        public void SetListFloatKey(string keybase, List<float> values)
        {
            List<string> oldkeys = new List<string>();
            int startindex = -1;
            foreach (string key in this.Pairs.Keys)
            {
                if (Regex.IsMatch(key, keybase + "[0-9]+"))
                {
                    if (startindex == -1)
                        startindex = this.OrderedKeys.IndexOf(this.Pairs[key]);

                    oldkeys.Add(key);
                }
            }

            foreach (string key in oldkeys)
            {
                this.OrderedKeys.Remove(this.Pairs[key]);
                this.Pairs.Remove(key);
            }

            for (int i = 0; i < values.Count; i++)
            {
                KeyValuePair<string, string> pair = new KeyValuePair<string, string>(keybase + i.ToString(), values[i].ToString());
                if (startindex != -1)
                    this.OrderedKeys.Insert(startindex + i, pair);
                else
                    this.OrderedKeys.Add(pair);

                this.Pairs.Add(pair.Key, pair);
            }
        } 
```

此时更容易做到这一点，因为您已经抽象出实际的文件结构，现在只处理字典

# ios - 我可以从日历启动 iOS 应用程序吗？

> ID：11338188
> 
> 赞同：3
> 
> 时间：2012-07-05T05:22:17.010
> 
> 标签：ios, calendar

是否可以直接从日历启动我制作的任何应用程序？如果我的日历中有特定条目，我可以将其链接到应用程序吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-08T22:13:10.633

是的你可以。您要使用的应用程序需要支持 URL 架构。您必须在 schema:// 之后添加一些文本，以便 Calendar 能够识别。它工作正常 ios4+ (inc 6)。

例如，对于 Facebook 个人资料，您可以使用 fb://me，它会加载。Fb:// 不会工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:52:00.927

不它不是。
但正如 CodaFi 所说，您可以尝试在您的应用程序中实现自定义 URL 方案，并在日历事件中记下适当的 url。

**更新：**
不，即使使用日历事件中的 url，它也不起作用，因为它不会将其识别为链接。

**更新2：**
我发现了一个同样[问题](https://stackoverflow.com/questions/7513965/launch-my-app-from-calendar-notes-with-custom-url-scheme)的问题。可悲的是它对我不起作用，但我只能在 iOS6 上测试它，它可能在那里坏了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-09T16:34:52.567

您可以从日历应用程序内部打开自定义 URL 方案，但需要注意 1 个大警告。日历应用程序仅识别在打开日历之前注册的 URL 方案。这意味着如果您的日历在您安装应用程序时处于打开状态，则日历不会将 URL 方案识别为有效的 URL。

# bash - 如何在bash中换行输出？

> ID：11338191
> 
> 赞同：1
> 
> 时间：2012-07-05T05:22:30.053
> 
> 标签：bash, shell

我有一个以这种格式输出的命令：

```
A
B
C
D
E
F
G
I
J 
```

等我希望输出采用这种格式

```
A B C D E F G I J 
```

我尝试使用`./script | tr "\n" " "`，但它所做的只是`n`从输出中删除如何在一行中获取所有输出。（绕线）

> 编辑：我在提问时不小心输入了 grep 。我删除了它。我原来的问题仍然存在。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T05:27:18.243

`grep`是多余的。

这应该有效：

```
./script | tr '\n' ' ' 
```

它为我做了一个命令`al`，该命令每行列出一个参数：

```
$ al A B C D E F G H I J
A
B
C
D
E
F
G
H
I
J
$ al A B C D E F G H I J | tr '\n' ' '
A B C D E F G H I J $ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:39:36.987

正如 Jonathan Leffler 指出的那样，您不想要`grep`. 您正在使用的命令：

```
./script | grep tr "\n" " " 
```

甚至不调用`tr`命令；它*应该*`"tr"`在名为`"\n"`and的文件中搜索模式`" "`。由于这不是您报告的输出，我怀疑您输入了错误的命令。

你可以这样做：

```
./script | tr '\n' ' ' 
```

但是（a）它将所有输入连接到一行中，并且（b）它不会在行尾附加换行符。通常这意味着您的 shell 提示符将打印在输出行的末尾。

如果您希望所有内容都集中在一条线上，则可以执行以下操作：

```
./script | tr '\n' ' ' ; echo '' 
```

或者，如果您希望输出包装到合理的宽度：

```
./script | fmt 
```

该`fmt`命令有许多选项来控制最大行长度等内容；阅读其文档（`man fmt`或`info fmt`）了解详细信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T08:28:37.363

不需要使用其他程序，为什么不使用 Bash 来完成这项工作？（`--`在编辑中添加）

```
line=$(./script.sh) 
set -- $line
echo "$*" 
```

`set`设置命令行选项，其中一个（默认情况下）分隔符是“\n” 。编辑：这将覆盖任何现有的命令行参数，但良好的编码习惯会建议您在脚本的早期将这些重新分配给命名变量。

当我们使用（注意引号）时，它使用第*一个字符*作为胶水`"$*"`再次将它们连接在一起。默认情况下，这是一个空格。*`IFS`*

 *`tr`是一个不必要的子进程。

顺便说一句，有一个名为 的命令`script`，因此请小心使用该名称。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-06T09:27:50.670

如果我没记错的话，当它的参数被赋予*unquoted*`echo`时，该命令将自动删除换行符：

 *```
tmp=$(./script.sh)
echo $tmp 
```

结果是

```
A B C D E F G H I J 
```

然而

```
tmp=$(./script.sh)
echo "$tmp" 
```

结果是

```
A 
B 
C 
D 
E 
F 
G 
H 
I 
J 
```

如果需要，您可以将命令的输出重新分配`echo`给另一个变量：

```
tmp=$(./script.sh)
tmp2=$(echo $tmp) 
```

然后该`$tmp2`变量将不包含换行符。**

# facebook - 脸书getLogoutUrl

> ID：11338192
> 
> 赞同：1
> 
> 时间：2012-07-05T05:22:32.917
> 
> 标签：facebook

facebook，像往常一样不能按预期工作。

打电话时

```
$facebook->getLogoutUrl($params); 
```

使用

```
 $params = array( 'next' => 'http://mywebsiteurl.com/loggedout.php' ); 
```

浏览器视图被重定向到loggedout.php，这很好。除非当用户继续访问 facebook.com 时，他们发现他们仍然处于登录状态，这并不好。

那么，我们该何去何从？我究竟做错了什么？脸书做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-12T20:15:54.650

这是因为饼干。我做了以下事情来解决这个问题......

在 getLogoutUrl 方法的参数中，您设置自己的注销 URL：

```
$facebook->getLogoutUrl(array( 'next' => 'http://www.yourdomain.com/logOut/' )); 
```

并在您的注销文件中重置 cookie：

```
setcookie('PHPSESSID', '', time()-3600, '/');
header('Location: http://www.yourdomain.com'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T04:55:41.830

我有同样的问题。从注销 URL 返回后，调用 $facebook->getUser() 仍会返回用户 ID。

我通过向“下一个”参数添加一个查询字符串来解决这个问题，如果设置了该参数，我会将用户视为已注销。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T17:44:04.553

我在使用 getLogoutUrl(); 时遇到了类似的 SDK 问题。使用 next 参数永远不会被重定向回 Web 应用程序。

因此，我已经放弃让用户能够使用该功能断开我的应用程序的连接。现在我只是从我们的系统中删除他们的访问令牌并告诉他们手动取消对 FB 站点上的应用程序的授权 - 并提供指向[http://www.facebook.com/settings?tab=applications的超链接](http://www.facebook.com/settings?tab=applications)

# java - 导入类和继承类

> ID：11338195
> 
> 赞同：-2
> 
> 时间：2012-07-05T05:22:44.183
> 
> 标签：java, inheritance, import

这只是一个小问题，但我只需要更清楚地了解这两个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T05:32:21.750

通过导入告诉编译器我的程序将使用导入的类，所以请让它们可用。

```
import java.util 
```

通过继承类，您将在子类中使用类属性和函数（正在被继承）。

```
class Maruti extends Car{
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:31:11.037

`import`允许您在当前正在编写的类中使用导入的类。

继承或使用`extends`关键字允许您使用您继承的类的功能来实现当前类。

例如：

```
public class Animal
{
    public void walk()
    {
        System.out.println("i am walking");
    }
}

public class Cat extends Animal
{
    public void meow()
    {
        System.out.println("Meow!");
    }

    public static void main(String[] args)
    {
        Cat catAnimal = new Cat();
        cat.walk();
        cat.meow();
    }
} 
```

正如你在上面的例子中看到的那样，因为`Cat extends Animal`类`Cat`可以做类可以做的一切`Animal`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T05:25:50.297

`import`让你看到类，这样你就可以`inherit`（又名扩展）它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-05T05:30:56.613

导入类只是让您的类可以访问这些类，而无需使用它们的完全限定名。

例如，如果您有以下情况：

```
import javax.swing.JFrame;
public class Main{
//this class has ACCESS to the JFrame class, but it isn't a JFrame because it doesn't inherit (extend) from one
} 
```

您的 Main 类可以访问类 javax.swing.JFrame 中的方法和变量，而无需使用该全名调用它，它允许您简单地使用 JFrame。

继承一个类是扩展你自己的类以获得对类方法和变量的访问，因为你的类“是一个”继承类。

这是一些不“导入” JFrame 的代码，它使用其完全限定名称来扩展自身，以便它可以访问 JFrame 类中的每个方法/变量（只要修饰符是公共的或受保护的）。

```
public class MyFrame extends javax.swing.JFrame {
//this class IS a JFrame, and is not importing one, it's instead using the fully qualified name to extend itself and make it a JFrame.
} 
```

# html - 单选按钮作为下拉对象中的选项

> ID：11338200
> 
> 赞同：1
> 
> 时间：2012-07-05T05:23:07.923
> 
> 标签：html

是否可以在下拉对象中添加单选按钮作为选项？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:24:27.550

不在默认`<select>`元素中。您必须建立自己的下拉菜单。

# wix - Wix - 安装结束后的自定义操作

> ID：11338203
> 
> 赞同：2
> 
> 时间：2012-07-05T05:23:24.490
> 
> 标签：wix, custom-action

Wix - 安装程序安装应用程序并退出后，有没有办法执行任何自定义操作？想要异步执行自定义操作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T14:01:45.397

是的，阅读官方 WiX 教程：
[http ://wix.tramontana.co.hu/tutorial/user-interface-revisited/well-done](http://wix.tramontana.co.hu/tutorial/user-interface-revisited/well-done)

# android - phonegap应用程序中的Android滚动条？

> ID：11338206
> 
> 赞同：0
> 
> 时间：2012-07-05T05:23:34.513
> 
> 标签：android, jquery, html, css, cordova

我在 android phonegap 移动网站应用程序中遇到问题，我在我的应用程序中应用了滚动条，它在 PC 中运行良好，但是当我在 android 设备（手机）中测试时滚动条无法启用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T10:47:13.887

我个人不喜欢 iscroll .. 使用它有很多问题，所以我发现了另一种解决方案......你可以试试这个：

1.）将您的DIV溢出设置为自动（或滚动）并设置其高度..例如

```
 <div id="wrapper" style="overflow:auto; height: 200px">...content...</div> 
```

（我通常根据用户的屏幕尺寸用 javascript 计算高度。我从来没有为所有设备设置一个固定的高度，这只是为了这个“演示”的目的）

2.）添加这个javascript：

```
 <script>
function isTouchDevice(){
    try{
        document.createEvent("TouchEvent");
        return true;
    }catch(e){
        return false;
    }
}

function touchScroll(id){
    if(isTouchDevice()){ //if touch events exist...
        var el=document.getElementById(id);
        var scrollStartPos=0;

        document.getElementById(id).addEventListener("touchstart", function(event) {
            scrollStartPos=this.scrollTop+event.touches[0].pageY;
            event.preventDefault();
        },false);

        document.getElementById(id).addEventListener("touchmove", function(event) {
            this.scrollTop=scrollStartPos-event.touches[0].pageY;
            event.preventDefault();
        },false);
}
} 
</script> 
```

3.) 在页面加载时调用它.. 如果你使用 jQuery：

```
$(document).ready(function() { 
   touchScroll("wrapper");
}); 
```

4.) 如果您希望滚动条可见，只需定义以下 CSS 规则：

```
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  border-radius: 10px;
}

::-webkit-scrollbar-thumb {
  border-radius: 10px;
  background-color: #000;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-17T11:25:03.200

使用此 PhoneGap 链接

[http://phonegap.pbworks.com/w/page/22863184/Hide%20the%20scrollbar%20in%20Android](http://phonegap.pbworks.com/w/page/22863184/Hide%20the%20scrollbar%20in%20Android)

这适用于 Android ，PhoneGap 垂直和水平滚动的应用程序

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-17T11:32:26.437

代码看起来像这样

公共类 MyActivity 扩展 DroidGap {

```
@Override
  public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);

    super.loadUrl("file:///android_asset/www/index.html");

     // Display vertical scrollbar and hide horizontal scrollBar
     super.appView.setVerticalScrollBarEnabled(true);
     super.appView.setHorizontalScrollBarEnabled(false);
    // set scrollbar style
    super.appView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);
} 
```

}

# performance - 如何提高 VS11 Metro 应用程序的性能？

> ID：11338209
> 
> 赞同：0
> 
> 时间：2012-07-05T05:24:02.407
> 
> 标签：performance, windows-8

我正在使用 Visual Studio 11 在 C# 中实现 Windows 8 Metro 应用程序。我注意到方向更改期间的性能问题，并且在模拟器中运行应用程序时还定期注意到挂起。

您对如何提高我的应用程序的性能有任何建议，可能包括一般模式或最佳实践？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T14:41:44.333

图片是来自服务器还是来自本地？

如果来自服务器，则需要在 IIS 上为静态文件设置 Content Expiration。这样文件将被缓存在本地。

还要尝试优化图像。您可以使用 PngCrush 压缩 PNG。JPG 有类似的工具。您还应该降低图像的分辨率。如果它们是从相机拍摄的照片，它们具有非常高的分辨率，例如 300、600、1200 ......您应该将分辨率降低到 72 以进行屏幕查看。

可以给我截图吗？

# ruby-on-rails-3 - 在 Rails 中的会话变量名称中插入变量

> ID：11338210
> 
> 赞同：0
> 
> 时间：2012-07-05T05:24:04.280
> 
> 标签：ruby-on-rails-3, session

我试图在我的控制器中执行此操作，因为我在一个页面上有多个帖子，并且我想将投票保存在 cookie 中，以便用户只能投票一次。我努力了`session[:upvote][:"post_#{post.id}"] = true`

推荐的方法是什么？像上面这样的插值不起作用......

（我在 PHP 中看到了一些带有连接的解决方案，但似乎无法超越或`session[:upvote][:"post_"+post.id] = true`无法正常工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:28:24.607

试试看`session[:upvote]["post_#{post.id}".to_sym]`，它应该对字符串进行插值，然后将其转换为符号。而且，*我认为*您不需要该`.to_sym`部分，它应该可以很好地使用字符串作为哈希中的键。

# iphone - 无法在 textview 中输入文本

> ID：11338211
> 
> 赞同：3
> 
> 时间：2012-07-05T05:24:05.810
> 
> 标签：iphone, objective-c, ios, uitextview

我有一个可编辑的文本视图来输入一些描述。当我单击 textview 时，会出现键盘。我的问题是当我尝试通过键盘输入一些文本时，它没有出现在文本视图中。请帮助我提前谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T05:34:06.723

你不应该在...中返回 NO

`-(BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text`

否则它将不允许您添加文本。

编辑：来自`TextView`参考：

> textView:shouldChangeTextInRange:replacementText：询问代理是否应该在文本视图中替换指定的文本。
> 
> (BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)范围替换Text:(NSString *)text
> 
> 参数：
> 
> textView：包含更改的文本视图。
> 
> range：当前选择范围。如果范围的长度为 0，则范围反映当前插入点。如果用户按下 Delete 键，则范围的长度为 1，并且一个空字符串对象替换该单个字符。
> 
> text：要插入的文本。
> 
> 返回值：如果旧文本应该被新文本替换，则为 YES；如果更换操作应中止，则为 NO。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T05:35:35.257

您必须在此委托方法中返回 YES，否则您作为委托的字段中将不允许出现任何文本，如下所示：

```
-(BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text {

    if([text isEqualToString:@"\n"]) {
        [m_CtrlTxtViewDescription resignFirstResponder];
        [self setViewMovedUp:NO];
        return NO;
    }    
    return YES;
} 
```

`shouldChangeTextInRange...`，顾名思义，是文本视图在通过键盘添加文本时调用的方法。代表被问及是否应添加文本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-16T07:53:20.607

是的。它也发生在我身上。但是不用担心，我们无法通过我的电脑键盘在文本中输入文本，但是当您声明时。

```
self.yourtextview.userInteractionenabled = YES;

self.yourtextview.editable = Yes; 
```

然后您可以使用设备或模拟器键盘输入文本。它将完美运行。

# zend-framework - 使 zend 框架错误报告更加用户友好

> ID：11338214
> 
> 赞同：2
> 
> 时间：2012-07-05T05:24:13.563
> 
> 标签：zend-framework

我是zendframework的新手。现在我面临错误报告的问题；当我犯小错误时，它会向我显示这样的长错误消息

```
 Fatal error: Uncaught exception 'Zend_Controller_Dispatcher_Exception' with message 'Invalid controller specified (error)' in /var/www/html/workbench/zend/library/Zend/Controller/Dispatcher/Standard.php:248 Stack trace: #0 /var/www/html/workbench/lajeesh/zend/library/Zend/Controller/Front.php(954): Zend_Controller_Dispatcher_Standard->dispatch(Object(Zend_Controller_Request_Http), Object(Zend_Controller_Response_Http)) #1 /var/www/html/workbench/lajeesh/zend/library/Zend/Controller/Front.php(212): Zend_Controller_Front->dispatch() #2 /var/www/html/workbench/sudeepc/zend/web_root/index.php(10): Zend_Controller_Front::run('../application/...') #3 {main} Next exception 'Zend_Controller_Exception' with message 'Invalid controller specified (error)#0 /var/www/html/workbench/lajeesh/zend/library/Zend/Controller/Front.php(954): Zend_Controller_Dispatcher_Standard->dispatch(Object(Zend_Controller_Request_Http), Object(Zend_Controller_Response_Http)) #1 /var/www/html/workbench/lajeesh/zend/library/Zend/Controller/Front.ph in /var/www/html/workbench/lajeesh/zend/library/Zend/Controller/Plugin/Broker.php on line 336 
```

等等.... 。所以我的问题是如何配置 zend 框架错误报告更用户友好？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T05:33:48.183

错误管理在以下文件中完成..您可以自定义您想要的方式 1.ErrorController 2.error/error.phtml

错误控制器.php

```
<?php

class ErrorController extends Zend_Controller_Action
{

        public function init()
        {
            $this->_helper->layout->setLayout('set your default layout here'); //so it will be much more nicer
        }

    public function errorAction()
    {
        $errors = $this->_getParam('error_handler');

        if (!$errors) {
            $this->view->message = 'You have reached the error page';
            return;
        }

        switch ($errors->type) {
            case Zend_Controller_Plugin_ErrorHandler::EXCEPTION_NO_ROUTE:
            case Zend_Controller_Plugin_ErrorHandler::EXCEPTION_NO_CONTROLLER:
            case Zend_Controller_Plugin_ErrorHandler::EXCEPTION_NO_ACTION:

                // 404 error -- controller or action not found
                $this->getResponse()->setHttpResponseCode(404);
                $this->view->message = PackAssist_Locale::translate('Sorry, the page doesnt exists'); //This is a custom message
                break;
            default:
                // application error
                $this->getResponse()->setHttpResponseCode(500);
                $this->view->message = 'Application error'; // put any custom messages if you want
                break;
        }

        // Log exception, if logger available
        if ($log = $this->getLog()) {
            $log->crit($this->view->message, $errors->exception);
        }

        // conditionally display exceptions
        if ($this->getInvokeArg('displayExceptions') == true) {
            $this->view->exception = $errors->exception;
        }

        $this->view->request   = $errors->request;
    }

    public function getLog()
    {
        $bootstrap = $this->getInvokeArg('bootstrap');
        if (!$bootstrap->hasResource('Log')) {
            return false;
        }
        $log = $bootstrap->getResource('Log');
        return $log;
    }

} 
```

错误.phtml

```
<div>
  <h1><?php echo $this->translate('An error occurred');?></h1>
  <h2><?php echo $this->message; //Base error message ?></h2>

  <?php if (isset($this->exception)): ?>

  <h3><?php echo $this->translate('Exception information');?>:</h3>
  <p>
      <b>Message:</b> <?php echo $this->exception->getMessage(); ?>
  </p>

  <h3>Stack trace:</h3>
  <pre><?php  echo $this->exception->getTraceAsString(); //You can hide this for the end user ?>
  </pre>

  <h3>Request Parameters:</h3>
  <pre><?php  echo var_export($this->request->getParams(), true); // This will bea an array of your requested params POST/GET variables,your controller and the current action that produced the error ?>
  </pre> 
```

3.如果你想完全隐藏错误。只需将这些行放在你的配置文件中

```
phpSettings.display_startup_errors = 0
phpSettings.display_errors = 0 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T10:23:35.733

我做了什么：在 library/Zend/Controller/Dispatcher/Standard.php 中编辑

找到哪里有：

```
 try {
        $controller->dispatch($action);
    } catch (Exception $e) {
        // Clean output buffer on error
        $curObLevel = ob_get_level();
        if ($curObLevel > $obLevel) {
            do {
                ob_get_clean();
                $curObLevel = ob_get_level();
            } while ($curObLevel > $obLevel);
        }
        throw $e;
    } 
```

紧随其后：

```
/**
     * Dispatch the method call
     */ 
```

并添加 die($e->getMessage()); 在 catch 块中：您将获得：

```
 try {
        $controller->dispatch($action);
    } catch (Exception $e) {
        die($e->getMessage());
        // Clean output buffer on error
        $curObLevel = ob_get_level();
        if ($curObLevel > $obLevel) {
            do {
                ob_get_clean();
                $curObLevel = ob_get_level();
            } while ($curObLevel > $obLevel);
        }
        throw $e;
    } 
```

那么 Zend 传递的消息会更加明确。

# google-maps - 追踪手机位置

> ID：11338216
> 
> 赞同：2
> 
> 时间：2012-07-05T05:24:24.933
> 
> 标签：google-maps, jquery-mobile

我正在为移动设备构建一个网站，该网站将跟踪移动设备的位置，然后进行基于位置的搜索。谁能帮忙看看手机的位置。我正在使用 jquerymobile 和 php。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:50:18.203

您需要使用 HTML5 Geolocation API：

```
navigator.geolocation.watchPosition(locationSuccess, locationError, {timeout: 30000});

function locationSuccess(position)
{
    // this is your position as a LatLng object. use it however you need
    var latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
}

function centerOnLocationError(err)
{
    if (err.code == 1)
        alert("You must allow this website to use the Geolocation API to access your position.");
    else if (err.code == 3)
        alert("Unfortunately, your position request timed out.");
    else
        alert("Unfortunately, your position could not be determined.");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-17T10:34:04.527

除了 HTML5 Geolocation API 之外，还有一些其他选项提供基于 Web 的 API。

Telefonica 通过 Web API 和来自 Bluevia 的 Android SDK 为开发人员提供了位置[https://bluevia.com/en/](https://bluevia.com/en/) AT&T 有一个类似的位置 API [http://developer.att.com/developer/apiLandingPage.jsp ?passedItemId=9700218](http://developer.att.com/developer/apiLandingPage.jsp?passedItemId=9700218) Verizon 也提供位置 API [http://developer.verizon.com/content/vdc/en/verizon-tools-apis/verizon_apis/network-api.html](http://developer.verizon.com/content/vdc/en/verizon-tools-apis/verizon_apis/network-api.html)

还值得注意的是，网络运营商目前正在推出 OneAPI 标准，该标准为开发人员提供了一个单一的 API，可以在所有网络（包括位置）上使用。到目前为止，它已在加拿大发布[http://oneapi-gw.gsma.com/](http://oneapi-gw.gsma.com/)

# php - 在单个帖子页面上输出自定义分类名称 - wordpress

> ID：11338219
> 
> 赞同：4
> 
> 时间：2012-07-05T05:24:44.330
> 
> 标签：php, wordpress

我已经用谷歌搜索了这个但找不到答案。

我为帖子创建了一个自定义分类法。

我想在单个帖子页面上列出分配给帖子的分类。例如，当我想列出帖子标签或类别时，我会这样做：

```
<?php the_tags('Tags: ', ', ', '<br />'); ?>

<?php the_category(', ') ?> 
```

如何在单个帖子页面上列出自定义分类？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-05T05:33:15.620

```
the_terms( get_the_ID(), 'taxonomy_name', 'myTaxonomy: ', ', ', '<br />' ); 
```

或者

```
echo get_the_term_list( $post->ID, 'taxonomy_name', 'myTaxonomy: ', ', ', '<br />' ); 
```

应该做的伎俩。

# java - 错误：无法找到 Spring NamespaceHandler

> ID：11338222
> 
> 赞同：0
> 
> 时间：2012-07-05T05:24:59.427
> 
> 标签：java, spring, spring-mvc

> **可能重复：**
> [Spring BeanDefinitionParsingException](https://stackoverflow.com/questions/4852547/spring-beandefinitionparsingexception)

```
SEVERE: StandardWrapper.Throwable
org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: Unable to locate Spring NamespaceHandler for XML schema namespace [http://www.springframework.org/schema/mvc]
Offending resource: ServletContext resource [/WEB-INF/TapTheEngines-servlet.xml]

    at org.springframework.beans.factory.parsing.FailFastProblemReporter.error(FailFastProblemReporter.java:68)
    at org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:85)
    at org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:80)
    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.error(BeanDefinitionParserDelegate.java:281)
    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1294)
    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1287)
    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:135)
    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:92)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:507)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:398)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:342)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:143)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:178)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:149)
    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:124)
    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:93)
    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:123)
    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:422)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:352)
    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:402)
    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:316)
    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:282)
    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:126)
    at javax.servlet.GenericServlet.init(GenericServlet.java:160)
    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1201)
    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1114)
    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1021)
    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4957)
    at org.apache.catalina.core.StandardContext$3.call(StandardContext.java:5284)
    at org.apache.catalina.core.StandardContext$3.call(StandardContext.java:5279)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:619)
Jul 5, 2012 10:48:41 AM org.apache.catalina.core.StandardContext loadOnStartup
SEVERE: Servlet /TapTheEngines threw load() exception
org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: Unable to locate Spring NamespaceHandler for XML schema namespace [http://www.springframework.org/schema/mvc]
Offending resource: ServletContext resource [/WEB-INF/TapTheEngines-servlet.xml]

    at org.springframework.beans.factory.parsing.FailFastProblemReporter.error(FailFastProblemReporter.java:68)
    at org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:85)
    at org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:80)
    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.error(BeanDefinitionParserDelegate.java:281)
    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1294)
    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1287)
    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:135)
    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:92)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:507)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:398)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:342)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:143)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:178)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:149)
    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:124)
    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:93)
    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:123)
    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:422)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:352)
    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:402)
    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:316)
    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:282)
    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:126)
    at javax.servlet.GenericServlet.init(GenericServlet.java:160)
    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1201)
    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1114)
    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1021)
    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4957)
    at org.apache.catalina.core.StandardContext$3.call(StandardContext.java:5284)
    at org.apache.catalina.core.StandardContext$3.call(StandardContext.java:5279)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:619) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T05:27:47.340

您需要`spring-webmvc.jar`在您的类路径中使用您在应用程序中使用的 spring 版本

# java - 谁能解释这意味着什么？

> ID：11338223
> 
> 赞同：0
> 
> 时间：2012-07-05T05:25:19.673
> 
> 标签：java, debugging, logging, websphere

`SystemOut.log`在我的 websphere日志文件中反复出现一条奇怪的线。

```
HttpSessionCache/jmsPubUpd:  Discarding message of size:5000000; Discarding message of size:7394356 
```

环境：

```
WebSphere Platform 5.1
Host Operating System is Linux, version 2.4.21-47
Java version = J2RE 1.4.2 
```

它有害吗？或者我可以忽略这条线吗？

提前致谢。

**编辑：**

会话复制也在 websphere 上启用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:58:11.443

如果您有时间，请点击以下链接。

1.  丢弃消息大小：5000000；

上述消息也用于邮件和 websphere。

这是最大尺寸。当它到达时，只有它显示。

RecoveryLogQueueSize 的默认值为 5000000 字节 — 5 兆字节。

如果使用方法： setRecoveryLogQueueSize(int size);

你定义了大小。如果你有时间，请点击链接阅读

[Progress® SonicMQ® 性能调优指南 8.0](http://documentation.progress.com/output/Sonic/8.0.0/Docs8.0/books/mq_tuning.pdf)

# powershell - 在管理工具 2010 上针对服务器 2007 运行远程 powershell get-activesyncdevice 时出错

> ID：11338228
> 
> 赞同：0
> 
> 时间：2012-07-05T05:25:41.410
> 
> 标签：powershell

我们公司有很多站点，有的服务器是2007的，有的服务器是2010的，我在win2008上安装了exchange管理工具版本是2010，并尝试对所有的activesync设备进行报告。

首先，我运行 get-activesyncdevice，它会导致异常。

```
PS C:\Users\administrator.BECK07> Get-ActiveSyncDevice -Mailbox "perf-user0611"
The Get-ActiveSyncDevice cmdlet can only retrieve device information for 14 mailboxes.
At line:1 char:1
+  <<<< Get-ActiveSyncDevice -Mailbox "perf-user0611"
    + CategoryInfo          : InvalidArgument: (:) [], TaskNotSupportedOnVersionException
    + FullyQualifiedErrorId : AFA99CB5 
```

所以，我想我可以使用命令 get-activesyncdevicestatistic 但它仍然会弹出一个异常。

```
PS C:\Users\administrator.BECK07> Get-ActiveSyncDeviceStatistics -mailbox "perf-user0611"
Get-ActiveSyncDeviceStatistics : The Get-ActiveSyncDeviceStatistics command that you are trying to run, which is version 14, requires that the target mailbox account is on a Mailbox server that is the same version. The command wasn't able to process your request because the target mailbox account is on a Mailbox server with version 8\. Please use this version (Version: 8) of the Get-ActiveSyncDeviceStatistics command.
At line:1 char:31
+ Get-ActiveSyncDeviceStatistics <<<<  -mailbox "perf-user0611"
    + CategoryInfo          : InvalidArgument: (:) [Get-ActiveSyncDeviceStatistics], ServerVersionNotSupportedException + FullyQualifiedErrorId : A81A5D,Microsoft.Exchange.Management.Tasks.GetMobileDeviceStatistics 
```

如何获取邮箱版本为 2007 的 activesync 设备信息？提前致谢

这是我获得邮箱版本时的结果。

```
PS C:\Users\administrator.BECK07> Get-Mailbox "perf-user0611" | fl exchangeversion

ExchangeVersion : 0.1 (8.0.535.0) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T08:12:55.177

Exchange 2010 管理工具不[向后兼容](http://technet.microsoft.com/en-us/library/dd638174.aspx "向后兼容")。您需要安装这两个管理工具并根据您管理的 Exchange 选择版本。

# java - 使添加的 JPanel 在父 JPanel 中可见

> ID：11338229
> 
> 赞同：3
> 
> 时间：2012-07-05T05:25:42.937
> 
> 标签：java, swing, jpanel, layout-manager, cardlayout

如何使添加`JPanel`的内容在父级中可见`JPanel`？

我正在使用 Netbeans 来设计我的 UI。

我有一个`MainFrame.java`，其中包含两个面板；即`headerPanel`和`bodyPanel`。

在`headerPanel`我放了三个按钮，让它成为`button1`，`button2`和`button3`。

此外，我还创建了三个单独的文件扩展、`JPanel`命名它`panel1`和.`panel2``panel3`

然后我在构造函数中添加了所有三个`bodypanel`面板`MainFrame.java`。

```
bodyPanel.add(panel1);
bodyPanel.add(panel2);
bodyPanel.add(panel3); 
```

我希望在单击相应的按钮时，只有相应的面板应该出现在`bodypanel`大型机中，即如果我点击，`button1`那么`panel1`应该显示。

我已经在`button1`鼠标侦听器方法中尝试了以下代码：

```
bodyPanel.validate();
bodyPanel.getComponent(0).setVisible(true); 
```

但`panel1`不会出现。我这样做是因为面板中添加的组件被分配了索引。因此，首先我尝试获取组件，然后使其可见。它不起作用。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-05T05:31:40.703

使用[CardLayout ，如此](http://download.oracle.com/javase/6/docs/api/java/awt/CardLayout.html)[处](https://stackoverflow.com/questions/5665156/calling-awt-frame-methods-from-subclass/5786005#5786005)所示。

![游戏视图](../Images/3e84734e45f9ce4d8da39f4e7796ef42.png) ![高分视图](../Images/108a81166d0c089a8de60cdb6ed2908a.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-05T05:32:10.067

CARD LAYOUT 完全满足您的要求， [请参阅此示例链接](http://docs.oracle.com/javase/tutorial/uiswing/layout/card.html)

[和下面的示例链接](http://www.javaswing.org/java-cardlayout.aspx)

![在此处输入图像描述](../Images/071f621576cf9602715587e630cefc25.png)

您的问题案例的完美代码是

```
package panels.examples;

import java.awt.BorderLayout;
import java.awt.CardLayout;
import java.awt.Color;
import java.awt.Container;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;

public class MainFrame extends JFrame implements ActionListener
{
JPanel headerPanel;
JPanel bodyPanel;
JPanel panel1,panel2,panel3;
JButton button1,button2,button3;
Container con;
CardLayout clayout;
public MainFrame() 
{
    //con=getContentPane();
    clayout=new CardLayout();
    headerPanel=new JPanel();
    bodyPanel=new JPanel(clayout);

    button1=new JButton("button1");
    button2=new JButton("button2");
    button3=new JButton("button3");

    //add three buttons to headerPanel
    headerPanel.add(button1);
    headerPanel.add(button2);
    headerPanel.add(button3);

    button1.addActionListener(this);
    button2.addActionListener(this);
    button3.addActionListener(this);

    panel1=new JPanel();
    panel1.add(new JLabel("Panel1"));
    panel1.setBackground(Color.pink);
    panel2=new JPanel();
    panel2.add(new JLabel("Panel2"));
    panel2.setBackground(Color.gray);
    panel3=new JPanel();
    panel3.add(new JLabel("Panel3"));

    //add above three panels to bodyPanel
    bodyPanel.add(panel1,"one");    
    bodyPanel.add(panel2,"two");    
    bodyPanel.add(panel3,"three");  

    setLayout(new BorderLayout());
    setSize(600,450);
    add(headerPanel,BorderLayout.NORTH);
    add(bodyPanel,BorderLayout.CENTER);
//  headerPanel.setBounds(0,0,600,100);
    bodyPanel.setBounds(0,100, 600, 500);
    setVisible(true);

}

public static void main(String args[])
{
    new MainFrame();
}

@Override
public void actionPerformed(ActionEvent e) {

    if(e.getSource()==button1)
    {
        clayout.show(bodyPanel, "one");
    }
    else if(e.getSource()==button2)
    {
        clayout.show(bodyPanel, "two");
    }
    else if(e.getSource()==button3)
    {
        clayout.show(bodyPanel, "three");
    }

}

} 
```

输出

![输出](../Images/bdff5290392c683ccb89e95076bc3bea.png)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-05T05:55:00.897

使用卡片布局。下面是我写的一个 Helper 类。希望能帮助到你。

```
import java.awt.CardLayout;

import javax.swing.JPanel;

/**
 * 
 * @author Dchan(Dulitha Wijewantha)
 * 
 *         This class is used to switch Cards in a CardLayout
 * 
 * @version $Revision: 1.0 $
 */
public class CardLayoutHelper {

    private JPanel panel;
    private CardLayout layout;

    /**
     * 

     * @param panel JPanel
     */
    public CardLayoutHelper(JPanel panel) {
        this.panel = panel;
        this.layout = (CardLayout) this.panel.getLayout();
    }
    public CardLayoutHelper(JPanel panel, JPanel... panels){
        this(panel);
        for (int i = 0; i < panels.length; i++) {
            JPanel jPanel = panels[i];
            panel.add(jPanel.getName(), jPanel);
        }
    }

    /**
     * 
     * @param currentPanel
     *            - The panel that will be switched into the view
     */
    public void switchPanel(JPanel currentPanel) {
        panel.removeAll();
        panel.add(currentPanel, currentPanel.getName());
        layout.show(panel, currentPanel.getName());
        panel.revalidate();
        panel.repaint();
    }
    public void switchPanel(String name){
        layout.show(panel, name);
        panel.revalidate();
        panel.repaint();
    }
} 
```

# asp.net - Restful MVC Web API 继承

> ID：11338232
> 
> 赞同：6
> 
> 时间：2012-07-05T05:26:11.553
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-routing, asp.net-mvc-4, asp.net-web-api

我正在为自己构建一个 asp.net mvc 4 web api

我看过[微软的视频](http://www.asp.net/web-api/videos/getting-started/your-first-web-api)，我认为它们很好。使用了 Http 动词。资源是名词，存储库等等。

**但有一件事真的让我很烦恼**

我的印象是这`GET http://www.myurl.com/api/sellers/{id}/products`是宁静的，`GET http://www.myurl.com/api/products?$filter = sellerID eq {id}`而不是。

我在所读到的关于新 web api 的内容中所看到的只是~~前者~~。

~~对后者~~有原生支持吗？如果没有，有没有办法在**不路由所有内容**的情况下做到这一点？

* * *

**编辑-**
我正在寻找允许的`GET http://www.myurl.com/api/sellers/{id}/products`东西`GET http://www.myurl.com/api/products`等等

* * *

**更新：**
这个问题暂时没有意义，我已经解决了这个问题，但这就是为什么第一个答案没有被标记为正确的原因。

* * *

**更新：**
与 MilkyWayJoe 聊天后，我们谈到了转换`/Seller/2/Products`为`/Products?$filter = sellerID eq 2`. 有没有人知道如何才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T07:47:19.273

该 url`http://www.myurl.com/api/products?$filter= sellerID eq {id}`使用[OData](http://www.odata.org/)过滤器，当您的控制器将集合返回为`IQuerable`. 目前 VS 2012 中的默认设置为`IEnumerable`，不支持 OData。

[您可以在此处](http://www.dotnetexpertguide.com/2012/03/odata-service-with-asp-net-web-api.html)和[此处](http://dotnet.learningtree.com/2012/04/03/exposing-iqueryableodata-endpoints-with-web-api/)找到更多相关信息。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-05T12:31:24.837

可以有嵌套资源（至少在 URL 构造中），但在 MVC 中没有大量支持；您必须自己完成大部分工作。

首先，您需要创建一个路由来处理您的结构：

```
url: "sellers/{sellerId}/products",
defaults: new { controller = "sellers", action = "GetProducts" } 
```

然后，您需要`GetProducts`在“卖家”控制器上创建操作，此路由应将调用者定向到：

```
[HttpGet]
public IEnumerable<Product> GetProducts(int sellerId)
{
    //TODO: Add query to return results.
} 
```

该`sellerId`参数将通过路由传入，并应用于驱动您的查询。

这种方法的主要缺点是自定义路由使得为资源之间的链接生成 URL 变得更加困难，并且当它们变得更加复杂时，它们可以开始匹配您没想到的 URL。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-11T15:42:37.070

我正在寻找解决您同样问题的方法。我目前正在测试这个解决方案。

首先，更改路线：

```
 routes.MapHttpRoute(
            name: "DefaultApi",
            routeTemplate: "api/{controller}/{id}/{action}/{id2}",
            defaults: new { id = RouteParameter.Optional, action = "Index", id2 = RouteParameter.Optional }
        ); 
```

然后，如果你想要一个`SellersController`，像往常一样写它，但将所有动作命名为“索引”并使用符号来正确路由 http 动词。例如：

```
 [HttpGet]
     public List<Seller> Index()
     {} 
```

然后，在 中`SellersController`，创建将它们命名为“内部”对象 ( `Products`) 的操作。

```
 [HttpGet]
     public List<Product> Products(int id)
     {}

     [HttpGet]
     public Product Products(int id, int id2)
     {} 
```

这样你就可以调用

```
 GET /api/sellers
     or GET /api/sellers/99/products
     or GET /api/sellers/99/products/2 
```

我实际上正在测试这种方法，所以任何反馈都将不胜感激！

# php - 用php从多维数组中检索数据

> ID：11338233
> 
> 赞同：0
> 
> 时间：2012-07-05T05:26:15.197
> 
> 标签：php, session, multidimensional-array

我有一个二维数组，我想将其值检索到单独的变量中。我正在使用这些代码，但它给了我一个错误说

警告：mysql_fetch_assoc() 期望参数 1 是资源，数组在

这是我用来为多维会话分配值的代码。

```
if(isset($_POST['adnother'])) {
  $date = $_POST['date'];
  $billnmbr = $_POST['billnmbr'];
  $itemcode = $_POST['itemcode'];
  $itemname = $_POST['itemname'];
  $exdate = $_POST['exdate'];   
  $eachprice = $_POST['eachprice']; 
  $itmtotal = $_POST['itmtotal'];
  $wasFound=false;
  $i=0; 
 //if the bill session variable is not set or cart array is empty
    if(!isset($_SESSION["bill_array"]) || count($_SESSION["bill_array"]) < 1 ) {
        // Run if the bill is empty or not set
        $_SESSION["bill_array"]= array(1 => array("date"=> $date, "billnmbr"=> $billnmbr, "itemcode"=> $itemcode, "itemname"=> $itemname, "exdate"=> $exdate, "eachprice"=> $eachprice, "itmtotal"=> $itmtotal));
    } else {
        // Run if the bill has at least one item in it
        foreach($_SESSION["bill_array"] as $each_item) {
            $i++;
            while(list($key,$value)=each($each_item)){
                if($key=="itemcode" && $value == $itemcode){
                    // That item is in cart already so push a error message in to screen
                    $wasFound = true;
                    ?>
                    <script type="text/javascript">
                    var error = "<?= $wasFound ?>";
                    if(error == "true") {
                        alert("You trying to add same item twice")
                    }
                    </script>
                    <?php 
                    }//close if condition
            }//close while loop
        }//close foreach loop
if($wasFound==false){
    array_push($_SESSION["bill_array"],array("date"=> $date, "billnmbr"=> $billnmbr, "itemcode"=> $itemcode, "itemname"=> $itemname, "exdate"=> $exdate, "eachprice"=> $eachprice, "itmtotal"=> $itmtotal));
}
    } 
```

分配后我试图用这些代码检索那些日期

```
<?php 
$cartOutput="";
if(!isset($_SESSION["bill_array"]) || count($_SESSION["bill_array"]) < 1 ) {
    $cartOutput = "<h2 align='center'> Bill is still empty </hd>";
}
else {
    $i = 0;
    foreach ($_SESSION["bill_array"]as $each_item ) {
        $i++;
    echo    $cartOutput = "<h2> Bill item $i </h2>";
        while($row=mysql_fetch_assoc($each_item)){
        $date1=$row["date"];
        $billnmbr1=$row["billnmbr"];
        $itemcode1=$row["itemcode"];
        $itemname1=$row["itemname"];
        $exdate1=$row["exdate"];
        $eachprice1=$row["eachprice"];
        $itmtotal1=$row["itmtotal"];
        }
    }
     echo $date1;
     echo $billnmbr1;
     echo $itemcode1;
     echo $itemname1;
     echo $exdate1;
     echo $eachprice1;
     echo $itmtotal1;
    }

?> 
```

我不知道错误在哪里。谁能帮帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:31:38.950

您正在尝试循环数组，就好像它是数据库结果集一样。您实际上不需要在这里循环，您可以直接通过键访问值。

例如，试试这个：

```
echo $each_item['date']; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:03:50.717

使用这种方式：

```
$result = array();
foreach($_SESSION["bill_array"] as $row){
    $result[] = $row;
}
echo '<pre>';
print_r($result);
echo '</pre>'; 
```

这样，您将在数组中获得结果。并实际使用访问这些变量。

> $result[0]、$result[1] 等

# c# - 我想使用 Kinect 将 RGB 和深度数据保存为帧

> ID：11338234
> 
> 赞同：2
> 
> 时间：2012-07-05T05:26:16.930
> 
> 标签：c#, matlab, kinect

我想使用 Kinect 将 RGB 和深度数据保存为帧。我在 matlab 上工作时没有 C# 经验。谁能建议我更简单的方法来完成这项任务。我需要这样做来构建用于活动识别的深度视频数据集。Kinect SDK 提供的示例在按下按钮后仅保存一帧。我需要保存连续帧来注册活动。谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T07:22:44.230

为什么不使用 Kinect Studio 软件？它是在 Miscrosoft 发布 SDK 1.5 的同时提供的。

您可以[在此处](http://www.microsoft.com/en-us/kinectforwindows/develop/developer-downloads.aspx)下载（或使用此[链接](http://go.microsoft.com/fwlink/?LinkId=255120)：直接下载包含 KinectStudio 的 Kinect for Windows Developer Toolkit）

它可以逐帧注册RGB，深度帧以及骨架，您可以将它们保存为**.xed**文件。并且您可以重新播放这些帧（对于测试很有用，而无需每三秒站起来和坐下）或[将其用于机器学习算法的训练阶段（参见幻灯片 15）。](http://www.microsoft.com/en-us/download/details.aspx?id=28066)

这是应用程序的快照：

![Kinect 工作室](../Images/672310aa8b5360fb634c76f18b5a5a45.png)

对于你的情况，这就是我会使用的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-22T21:29:31.150

You can edit some of the samples given in the SDK to save continuous PNG frames. In particular, DepthBasics has a method (ButtonScreenShotClick) that is called each time the user clicks the button. If you make a duplicate of the method with no parameters and then call it everytime you want to save a image, you should be all set.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-28T00:45:26.173

[您可以使用开源 XEDConvertApp](http://research.dwi.ufl.edu/ufdw/j4k/XEDConvertApp.php)转换来自 Kinect 或录制的 XED 的深度流，它也可以轻松扩展以保存视频。您可以使用 imageio.write 将视频帧保存为 PNG，然后在 Matlab 中打开它。但是，您需要将视频图像中的像素映射到深度帧中的像素深度。这可以使用 Kinect SDK 中的 U、V 映射轻松完成。您可以使用[此处](http://research.dwi.ufl.edu/ufdw/j4k/examples.php#how)提供的源代码保存 UV 坐标。此示例使用 Kinect SDK 的 J4K Java 库。

# db2 - 返回行数的 DB2 动态查询执行

> ID：11338239
> 
> 赞同：1
> 
> 时间：2012-07-05T05:26:54.427
> 
> 标签：db2, prepared-statement, dynamicquery, execute-immediate

在这里，我试图在 DB2 中运行一个动态查询，它返回变量中的行数。

谁能帮我解决如何将动态查询的结果存储到变量中以便我可以进一步使用它？以下是代码片段：--

```
CREATE PROCEDURE SP_REC_COUNT ( )
  LANGUAGE SQL
  NOT DETERMINISTIC
  EXTERNAL ACTION
  MODIFIES SQL DATA
  CALLED ON NULL INPUT
  INHERIT SPECIAL REGISTERS
BEGIN
DECLARE SQL_STR VARCHAR(5000);
DECLARE V_TabSchema VARCHAR(50);
DECLARE V_TabName VARCHAR(100);
DECLARE CNT INTEGER DEFAULT 0;
DECLARE CountCur CURSOR FOR select TabSchema,TabName from SysCat.Tables where TabSchema='NGCORE' or TabSchema='NGCOREAU';
    OPEN CountCur;
        CountCur_Loop1:LOOP
        FETCH CountCur INTO  V_TabSchema,V_TabName;
        IF SQLCODE = 0
        THEN
          SET  SQL_STR ='select count(*) into CNT  from '|| V_TabSchema||'.'||V_TabName;
            PREPARE SQ FROM SQL_STR;
            execute  SQ;
            SET  SQL_STR ='INSERT INTO NGCORE_TMP.PHYISICAL_BACKOUT_REC_CNT(SCHEMA_NM,TABLE_NM,BEFORE_CNT)VALUES('''||V_TabSchema||''','''||V_TabName||''','||CNT||')';         
            PREPARE SQL FROM SQL_STR;
            EXECUTE SQL;
        ELSE
            CLOSE CountCur;
            LEAVE CountCur_Loop1;
        END If;
        END LOOP CountCur_Loop1;

END; 
```

出现以下错误：- 错误 [42703] [IBM][DB2/AIX64] SQL0206N “CNT”在使用它的上下文中无效。SQLSTATE=42703

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T05:50:02.703

我认为您需要先发出[带有 OUTPUT](http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.admin.doc/doc/r0000954.htm)子句的 PREPARE，然后发出带有 INTO语句的[EXECUTE 。](http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.admin.doc/doc/r0000954.htm)

我似乎在 IBM 文档中找不到示例。

# mysql - 数据库中的产品计数

> ID：11338240
> 
> 赞同：0
> 
> 时间：2012-07-05T05:26:56.220
> 
> 标签：mysql, sql, database

我在表“products_items”的数据库中列出了一定数量的产品。其中一系列与产品类别相关，其名称可在名为“产品”的单独表中找到。`JOIN`我试图通过使用 PRODUCTID 将它们与类别一起确定这些计数

这是我的查询：

```
SELECT *, count(*) as itemcount 
FROM products 
    LEFT JOIN products_items
    USING(PRODUCTID) 
GROUP BY PRODUCTID 
ORDER BY `order` ASC, `PRODUCTID` ASC"; 
```

这里的问题是，具有 0 和 1 项的类别都返回值 1。但是，该查询适用于具有 <=2 项的任何类别。有没有办法纠正这个计数以输出正确的数量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:30:04.980

如果您指定要计算的内容：

```
SELECT *, count(products_items.PRODUCTID) as itemcount 
FROM products 
    LEFT JOIN products_items
    USING(PRODUCTID) 
GROUP BY PRODUCTID 
ORDER BY `order` ASC, `PRODUCTID` ASC"; 
```

通过告诉 mysql 你想计算 products_items 中的一个字段，如果该产品没有 products_items，它的计数为 0。而 count(*) 给出 1，因为产品中有 1 行与 products_items 中的 0 行相结合。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T05:29:21.143

SELECT *, count(* ) as itemcount FROM products p LEFT JOIN products_items pi on (PRODUCTID) where p.PRODUCTID = pi.PRODUCTID GROUP BY PRODUCTID ORDER BY `order`ASC, `PRODUCTID`ASC";

# javascript - 为多维数组设置值 undefined

> ID：11338245
> 
> 赞同：0
> 
> 时间：2012-07-05T05:27:58.857
> 
> 标签：javascript, jquery, multidimensional-array

我目前正在处理多维数组来存储一些涉及多个连接表和每个表中的多个字段的信息。我正在使用 jQuery.ajax() 获取数据并使用 .each 来输出它，所有这些东西都可以正常工作，但是现在我正在尝试设置数组，chrome 控制台从我的内容中显示未定义的值可以看到它应该设置它们。唯一设置的是最后一次通过循环。

在设置数组方面，这就是我在循环中得到的：

```
 gAuthrequests[gAuthrqcount][1] = [];
    gAuthrequests[gAuthrqcount][1][i] = [];
    gAuthrequests[gAuthrqcount][1][i][0] = val.KRANE_REQUEST_DETAILS_ID;
    gAuthrequests[gAuthrqcount][1][i][1] = comments;
    gAuthrequests[gAuthrqcount][1][i][2] = 0;
    i++; 
```

我知道循环可以正常工作，因为它输出正常，我还曾一度使用 console.log 来跟踪数组在这些行方面的进度，一切看起来都很好，这是输出：

```
 KRID: (96) Assign Var: gAuthrequests[7][1][0][0]: 63
    KRID: (96) Assign Var: gAuthrequests[7][1][0][1]: No comments
    KRID: (96) Assign Var: gAuthrequests[7][1][0][2]: 0
    KRID: (96) Set var: gAuthrequests[7][1]:
    KRID: (96) Set var: gAuthrequests[7][1][1]:
    KRID: (96) Assign Var: gAuthrequests[7][1][1][0]: 64
    KRID: (96) Assign Var: gAuthrequests[7][1][1][1]: No comments
    KRID: (96) Assign Var: gAuthrequests[7][1][1][2]: 0
    KRID: (96) Set var: gAuthrequests[7][1]:  okr.js:360
    KRID: (96) Set var: gAuthrequests[7][1][2]:
    KRID: (96) Assign Var: gAuthrequests[7][1][2][0]: 65
    KRID: (96) Assign Var: gAuthrequests[7][1][2][1]: No comments
    KRID: (96) Assign Var: gAuthrequests[7][1][2][2]: 0
    KRID: (96) Set var: gAuthrequests[7][1]:
    KRID: (96) Set var: gAuthrequests[7][1][3]:
    KRID: (96) Assign Var: gAuthrequests[7][1][3][0]: 66
    KRID: (96) Assign Var: gAuthrequests[7][1][3][1]: I want access to this this this this this
    KRID: (96) Assign Var: gAuthrequests[7][1][3][2]: 0 
```

在此示例中，将设置的唯一变量是 'gAuthrequests[7][1][3]' (66) 之前的 3 未定义

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T01:17:07.773

最终使用了一个对象数组：

在第一个循环之前：'gRQCount = [];'

在第二个循环之前：'var i = 0;'

在循环中：

```
 gAuthrequests[gRQCount][i] = {};
    gAuthrequests[gRQCount][i].krid = krid;
    gAuthrequests[gRQCount][i].krdid = val.KRANE_REQUEST_DETAILS_ID;
    gAuthrequests[gRQCount][i].cylinder = cylinderrecid;
    gAuthrequests[gRQCount][i].comments = comments;
    gAuthrequests[gRQCount][i].status = 0;
    i++ 
```

为 elclanrs 的建议喝彩

# java - java中带有抽象类的jar的误导行为

> ID：11338248
> 
> 赞同：0
> 
> 时间：2012-07-05T05:28:14.570
> 
> 标签：java

我遇到了一个非常奇怪的行为，我在一个包中创建了 2 个类，比如 aa.bb

**aa级代码**

```
 package aa.bb;
         public abstract class aa {
        abstract void deep();
          } 
```

**bb类代码**

```
 public class bb extends aa{
            @Override
        void deep() {
        }
            } 
```

现在我创建了另一个包 bbc.cc 并在这个包中创建了一个类。

**cc类代码**

```
 package bbc.cc;
           import aa.bb.bb;
           public class cc extends bb {
            } 
```

现在 cc 类显示错误**此类必须实现继承的抽象方法 aa.deep()，但不能覆盖它，因为它在 cc 中不可见。使类型抽象或使继承的方法可见**

现在制作包 aa.bb 的 jar 文件并从源代码中删除 aa.bb 包。并在构建路径中添加了jar文件。在此之后，错误就像以前一样。现在我在 aa.bb 包中添加了 bb 类的源代码并解决了错误。我不知道这背后发生了什么。

这是项目的最终目录结构![在此处输入图像描述](../Images/fb7d058c0caf82115251aaa6b6deb631.png)

请帮我理清概念

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T05:31:19.473

发生这种情况是因为`default`任何方法或类的访问权限都是`package level`.

因此，该方法`void deep()`实际上对同一包内的类是可见的`aa.bb`

我建议将您的方法`deep()`公开。

```
package aa.bb;
public abstract class aa {
   public abstract void deep();
} 
```

和

```
public class bb extends aa{
    @Override
    public void deep() {
    }
} 
```

这应该有效。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T05:32:00.940

如果您未指定默认指定的访问权限，则可见性是`default` 这意味着该字段将可以从该类所属的同一包内访问。

所以现在你的`deep()`from实现`bb`在 cc 中不可见，因为它来自不同的包

并且由于`cc`没有接收到的实现`deep()`并且它间接扩展`aa`了它需要提供抽象方法的实现

# java - 在 java 中将 thu jul 05 10:30:00 ist 2012 格式转换为 2012-07-11 10:30:00.0 格式

> ID：11338253
> 
> 赞同：1
> 
> 时间：2012-07-05T05:28:42.740
> 
> 标签：java, date, simpledateformat

我需要将 jul 05 10:30:00 ist 2012 格式转换为 2012-07-11 10:30:00.0 格式。我试过以下

```
 String str_date = "Fri Jul 06 10:30:00 IST 2012";
SimpleDateFormat fmt = new SimpleDateFormat("dd MMM hh:mm:ss Z yyyy");
Date today = null;
try {
    today = (Date) fmt.parse(str_date);
    System.out.println("Todays date:" + today);
} catch (Exception e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
}

java.sql.Date dt = new java.sql.Date(today.getTime()); 
```

我正进入（状态

java.text.ParseException：无法解析的日期：“Fri Jul 06 10:30:00 IST 2012”在 java.text.DateFormat.parse(DateFormat.java:337) 错误

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T05:33:56.547

在遵循这两个错误时提供相同的格式是因为字符串日期中的格式和格式不同，因此使其相同以便可以解析它。

```
String str_date = "Fri Jul 06 10:30:00 IST 2012";
SimpleDateFormat fmt = new SimpleDateFormat("dd MMM hh:mm:ss Z yyyy"); 
```

例如用以下替换上面

```
String str_date = "Fri Jul 06 10:30:00 IST 2012";
SimpleDateFormat fmt = new SimpleDateFormat("EEE MMM d HH:mm:ss z yyyy"); 
```

您可以按如下方式更改格式：

```
final String OLD_FORMAT = "EEE MMM d HH:mm:ss z yyyy";
final String NEW_FORMAT = "yyyy-MM-d hh:mm:ss";

String oldDateString = "Fri Jul 06 10:30:00 IST 2012";
String newDateString;

SimpleDateFormat sdf = new SimpleDateFormat(OLD_FORMAT);
Date d = sdf.parse(oldDateString);
sdf.applyPattern(NEW_FORMAT);
newDateString = sdf.format(d); 
```

这里 d 将是您的旧格式日期：`Fri Jul 06 10:30:00 IST 2012`

新日期是`2012-07-6 10:30:00`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T05:37:27.397

您编码的日期和时间模式与字符串格式不匹配。

![日期和时间模式](../Images/d4f33c56654a090009602a0cde060665.png)

有关详细信息，请参阅[SimpleDateFormat](http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html)文档。

对于解析`"Fri Jul 06 10:30:00 IST 2012"`格式应该是`"EEE MMM d H:m:s z y"`.

要生成`"2012-07-06 10:30:00.0"`的格式应该是`"yyyy-MM-dd HH:mm:ss.S"`.

两种格式之间的完整转换将是：

```
SimpleDateFormat sdf1 = new SimpleDateFormat("EEE MMM d H:m:s z y");
SimpleDateFormat sdf2 = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss.S");
Date date = sdf1.parse("Fri Jul 06 10:30:00 IST 2012");
assert sdf2.format(date) == "2012-07-06 10:30:00.0"; 
```

# java - 哪里可以获得关于在 PHP、JAVA、.NET、.Ruby 上运行的网站数量的最新统计数据

> ID：11338255
> 
> 赞同：-1
> 
> 时间：2012-07-05T05:28:51.787
> 
> 标签：java, php, .net, ruby

好奇在哪里可以找到最新的统计数据，这些统计数据可以帮助我了解不同的 Web 技术（PHP、JAVA、.NET、Ruby）在它们支持的网站数量方面是如何排列的。鉴于大多数 Web 服务器在响应标头中提供此信息，我确信有人可能会跟踪此数据。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T06:21:00.157

看看这个：[网站服务器端编程语言的使用](http://w3techs.com/technologies/overview/programming_language/all)，它每天根据网站更新。

# php - 教义错误：找不到类 'Doctrine\ORM\EntityRepository'

> ID：11338256
> 
> 赞同：1
> 
> 时间：2012-07-05T05:28:51.910
> 
> 标签：php, doctrine-orm, composer-php

我是 Doctrine 的新手，我正在遵循文档中的示例。当我创建一个存储库类（例如 UserRepository.php）并尝试扩展 EntityRepository 类时，我收到以下错误消息：**致命错误：C:\xampp\htdocs\excap\repositories\ 中找不到类'Doctrine\ORM\EntityRepository'第 10 行的 UserRepository.php**

这是我的存储库类：

```
use Doctrine\ORM\EntityRepository;

/**
 * Description of UserRepository
 *
 * @author Mario
 */
class UserRepository extends EntityRepository
{ 
```

我究竟做错了什么？（顺便说一下，我使用 Composer 安装了 Doctrine2）

```
<?php
//bootstrap_doctrine.php
$isDevMode = true;
use Doctrine\ORM\Tools\Setup;
require_once 'vendor/autoload.php';

$config = Setup::createAnnotationMetadataConfiguration(array(__DIR__.'/entities'), $isDevMode);
$conn = array(
    'driver' => 'pdo_mysql',
    'user' => 'mydbuser',
    'password' => 'mydbpassword',
    'dbname' => 'mydbname'
);

$entityManager = \Doctrine\ORM\EntityManager::create($conn, $config);
?> 
```

* * *

```
<?php
//boostrap.php
//Entities
require_once 'entities/User.php';
require_once 'entities/Gender.php';
require_once 'entities/AccessPoint.php';

//Repositories
require_once 'repositories/UserRepository.php';

if(!class_exists("Doctrine\Common\Version", FALSE))
{
    require_once 'bootstrap_doctrine.php';
}
?> 
```

* * *

```
<?php
// autoload.php generated by Composer
if (!class_exists('Composer\\Autoload\\ClassLoader', false)) {
    require __DIR__ . '/composer' . '/ClassLoader.php';
}

return call_user_func(function() {
    $loader = new \Composer\Autoload\ClassLoader();
    $composerDir = __DIR__ . '/composer';

    $map = require $composerDir . '/autoload_namespaces.php';
    foreach ($map as $namespace => $path) {
        $loader->add($namespace, $path);
    }

    $classMap = require $composerDir . '/autoload_classmap.php';
    if ($classMap) {
        $loader->addClassMap($classMap);
    }

    $loader->register();

    return $loader;
});
?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T17:54:47.430

问题解决了。问题出在 bootstrap.php 文件中。我在加载 bootstrap_doctrine.php 之前加载了实体；就这样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T17:49:44.910

您是否将命名空间放在存储库类中？

# java - OrientDB bean 唯一字段

> ID：11338258
> 
> 赞同：1
> 
> 时间：2012-07-05T05:28:57.903
> 
> 标签：java, javabeans, orientdb

我正在尝试为 OrientDB 创建唯一的 bean 字段，但找不到仅找到 @Id @Version 注释的方法。我作为对象数据库工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T22:14:46.630

您必须针对您想要唯一的字段创建一个 UNIQUE 索引。

例子：

```
CREATE INDEX User.id UNIQUE 
```

看看：[http ://code.google.com/p/orient/wiki/Indexes#Create_an_index](http://code.google.com/p/orient/wiki/Indexes#Create_an_index)

# java - 通过在 Java 中扩展 LinkedList 类发出警告

> ID：11338262
> 
> 赞同：-3
> 
> 时间：2012-07-05T05:29:40.230
> 
> 标签：java

我正在尝试通过以下类定义在 Java 中扩展 LinkdList：

```
public class Roster extends LinkedList<Teammate>{

} 
```

但我这样做会收到以下警告：

```
The serializable class Roster does not declare a static final serialVersionUID field of type long 
```

这是什么意思，我该如何删除警告？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T05:36:48.943

该警告意味着您在扩展该课程时没有做您“同意”做的事情。该类相信`static final serialVersionUID field of type long`如果您扩展它，您将在您的类中拥有一个。那是因为它`implements Serializable`是一个需要这个变量的接口。

要抑制警告，请添加：

```
@SuppressWarnings("serial") 
```

在声明类的行上方 ( `public class Foo`)

要修复警告，请按如下方式声明变量：

```
private static final long serialVersionUID = 1812107715815332895L; 
```

并确保您使用的 long 是随机生成的。

通过单击行号旁边的黄色灯泡，Eclipse 允许将这两个选项作为快速修复。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:35:04.120

> serialVersionUID 是 Serializable 类的通用版本标识符。反序列化使用这个数字来确保加载的类与序列化的对象完全对应。如果未找到匹配项，则抛出 InvalidClassException。

要解决此问题，请在类中声明一个静态唯一 ID -

`private static final long serialVersionUID = 75264722950069776147L;` // 唯一身份

# php - 根据用户输入从数据库中检索数据

> ID：11338264
> 
> 赞同：0
> 
> 时间：2012-07-05T05:29:50.317
> 
> 标签：php, ms-access

我是 php 新手，我正在学习基础知识，我设计了一个具有动态下拉菜单的表单，其中选项直接从我的 Access DB 填充。用户选择一个选项后，与该选项相关的信息会显示在操作页面中，但不能正常工作。我运行我的代码好几天，我似乎没有得到什么是错的。注释代码似乎是我的问题之源。这是代码

```
<html>
<head>
<title>Menu</title>
</head>
<body>
<?php
// This would be the value passed from the previous php page
$option =$_POST['myDropdown'];

// for testing purposes
print("$option");

// print image of the menu item or dish
print <<< HERE

<p>
<img src = "DishesPictures/Dish-$option.png" border="1" bordercolor="black"
       alt = "die: $option" />

</p>
HERE;

$conn = new COM("ADODB.Connection") or die("Cannot start ADO"); 

 $connString= "Provider=Microsoft.Jet.OLEDB.4.0;
Data Source=e:\\ectserver\\naljalidi\\Database\\Menu.mdb";
    //creates the connection object and define the connection string

// for testing purposes
print("$connString");

$rs=$conn->Execute("SELECT ItemID,ItemDesc,Price FROM Menu WHERE ItemID=$option;");
//if (!$rs->EOF)
//{
  // $ItemID=$rs->Fields("ItemID");
  // $ItemDesc=$rs->Fields("ItemDesc");
  // print("$ItemID");
  // print("$ItemDesc");
//}

$rs->Close();

?>
</body>

</html> 
```

我的数据库信息： 数据库名称： 菜单表： 只有一个，命名菜单字段： ItemID(PK, AutoNumber), ItemDesc(Text), Price(Currancy)

有什么帮助吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T06:25:16.587

添加代码：

```
$conn->SetFetchMode(ADODB_FETCH_ASSOC);  
$rs=$conn->Execute("SELECT ItemID,ItemDesc,Price FROM Menu WHERE ItemID=$option;");
if (!$rs) {  
print $conn->ErrorMsg();  
 } else
{
 $ItemID=$rs->Fields['ItemID'];
 $ItemDesc=$rs->Fields['ItemDesc'];
 print("$ItemID");
 print("$ItemDesc");
} 
```

# php - 谷歌 API 代码

> ID：11338269
> 
> 赞同：-1
> 
> 时间：2012-07-05T05:30:51.707
> 
> 标签：php, google-maps

我在 PHP 中工作需要谷歌地图 API 代码，该代码从用户那里获取位置（地址），如果该位置正确，则在地图上显示指针。有谁知道这个代码请帮助我。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T05:35:32.703

请关注两个网址

1.  [https://developers.google.com/maps/articles/phpsqlsearch_v3](https://developers.google.com/maps/articles/phpsqlsearch_v3)
2.  [谷歌地图 + 带 SQL 的地理位置](https://stackoverflow.com/questions/7327161/google-maps-geo-location-w-sql)

你可以搜索“Code Sample PHP + Google Map”，你会找到它。

谢谢， 吉加尔

# c# - 试图重构这个 FileStream .NET 代码

> ID：11338272
> 
> 赞同：0
> 
> 时间：2012-07-05T05:30:59.760
> 
> 标签：c#, .net, .net-4.0, stream, refactoring

我有以下`Stream`代码。我觉得它真的又旧又丑，应该有一种更清洁的方法来做到这一点。

```
// Write the current chunk to the stream.
using (var fileStream = new FileStream(tempPath, currentChunk == 0 ? 
                                                     FileMode.Create : 
                                                     FileMode.Append))
{
    var buffer = new byte[uploadedFile.Length];
    uploadedFile.Read(buffer, 0, buffer.Length);
    fileStream.Write(buffer, 0, buffer.Length);
} 
```

它在做什么？

*我分块*上传文件。所以我们要么创建一个新文件（当我们位于第一个块时，即块 == 0）.. 要么我们将块数据附加到现有文件中。

我觉得这 3 行已经过时了，有更好的方法可以使用。

是/否/也许？

* * *

编辑：.NET 4.0 对我来说很好:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T05:33:05.230

可能`Stream.CopyTo`对你有用吗？

> [http://msdn.microsoft.com/en-us/library/system.io.stream.copyto.aspx](http://msdn.microsoft.com/en-us/library/system.io.stream.copyto.aspx)

尽管如此，我认为这个 API 直到 .NET 4.0 才存在。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:05:24.167

您可以查看提供静态方法来处理文件的`File`类*（System.IO） ；*所以你的整个代码块可能变成这样：

```
File.AppendAllText(path, contentToAppend); 
```

还有其他方法，如`WriteAllBytes(...)`, `WriteAllText(...)`, 或`ReadAllText(...)`

供参考：http: [//msdn.microsoft.com/en-us/library/system.io.file.aspx](http://msdn.microsoft.com/en-us/library/system.io.file.aspx)

# magento - 科威特国家的时区在magento

> ID：11338284
> 
> 赞同：-2
> 
> 时间：2012-07-05T05:32:07.780
> 
> 标签：magento

在 magento 中，我应该为科威特国家/地区设置什么时区。虽然我已经设置了阿拉伯标准时间（亚洲/利雅得），但显示了 3 小时的差异。在默认的 magento 中，科威特国家没有时区。请给我一些想法，我该如何设置科威特国家的时区，或者我必须做一些手动功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T09:38:39.693

时区都是[UTC+03:00](http://en.wikipedia.org/wiki/UTC+03:00)`Asia/Riyadh`，所以*是*的，您可以使用 Riyadh。`Asia/Kuwait`

 *### 为什么我在 Magento 中找不到科威特（或其他缺失的）时区？

这是因为 Magento 只使用[PHP 支持的时区](http://php.net/manual/en/timezones.php)的一个子集。以亚洲为例，Magento 仅使用PHP 实际支持的大约**90 个亚洲时区中的****30个。**

 **我不知道为什么 Magento 决定只使用子集，但很可能他们只是组合了具有相同 UTC 偏移量的时区，以使时区列表更小更清晰。***

# mysql - 如何加快这个 MySQL 查询？

> ID：11338285
> 
> 赞同：1
> 
> 时间：2012-07-05T05:32:08.677
> 
> 标签：mysql, sql, query-optimization

```
mysql> EXPLAIN SELECT col1, col2 FROM t WHERE col1 REGEXP '^foobar_[0-9]{4}$';
+----+-------------+---------------+------+---------------+------+---------+------+--------+-------------+
| id | select_type | table         | type | possible_keys | key  | key_len | ref  | rows   | Extra       |
+----+-------------+---------------+------+---------------+------+---------+------+--------+-------------+
|  1 | SIMPLE      |        t      | ALL  | NULL          | NULL | NULL    | NULL | 757000 | Using where | 
+----+-------------+---------------+------+---------------+------+---------+------+--------+-------------+
1 row in set (0.15 sec)

mysql> DESCRIBE t;
+------------------------+------------------------+------+-----+---------+-------+
| Field                  | Type                   | Null | Key | Default | Extra |
+------------------------+------------------------+------+-----+---------+-------+
| col2                   | varchar(255)           | NO   | MUL | {}      |       | 
| col1                   | varbinary(255)         | NO   | PRI |         |       | 
+------------------------+------------------------+------+-----+---------+-------+
2 rows in set (0.22 sec) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T05:39:44.803

如果你在 col1 上有一个索引，并添加`LIKE`这样的：

```
SELECT col1, col2
FROM t 
WHERE col1 LIKE 'foobar_%' AND col1 REGEXP '^foobar_[0-9]{4}$'; 
```

你应该得到更快的速度。

您还可以创建 (col1, col2) 的索引以使 mysql 在内存中存储该表的副本

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T05:36:29.913

您可以通过创建第三行来加速此查询，如果它始终相同，您已经预先计算了 RegEx。

MySQL 似乎不支持[基于函数的索引](http://bugs.mysql.com/bug.php?id=4990)。

# dependency-injection - 传统的 3 层架构与 IOC 的 3 层

> ID：11338297
> 
> 赞同：5
> 
> 时间：2012-07-05T05:33:16.430
> 
> 标签：dependency-injection, inversion-of-control, 3-tier

我正在构建一个具有表示层 (PL)、业务逻辑层 (BLL) 和数据访问层 (DAL) 的 3 层架构。
传统的 3 层架构逻辑规定 BLL 应充当 PL 和 DAL 之间的中介。PL 甚至不应该知道存在数据库，而 DAL 不应该知道存在 BLL 或 PL。

上述实施将在 3 个不同的物理项目之间创建以下依赖关系，如下所示

> *   PL 项目 -> BLL DLL 参考
> *   BLL 项目 -> DAL DLL 参考
> *   DAL 项目 -> 无参考

然而，通过在 BLL 中定义接口以供 DAL 实现并通过构造函数注入使用 DI，在 BLL 和 DAL 之间应用 IOC 的概念将改变依赖关系，如下所示

> *   PL 项目 -> BLL DLL 参考，DAL DLL 参考（用于具体类型的 DI 到 BLL 对象的构造函数）
> *   BLL 项目 -> 无参考
> *   DAL 项目 -> BLL DLL 参考（用于实现 BLL 接口）

那么国际奥委会和传统的3层冲突吗？

理想情况下，我希望实现以下目标，同时通过 DI 维护我的 IOC。

> *   PL 项目 -> BLL DLL 参考
> *   BLL 项目 -> 无参考
> *   DAL 项目 -> BLL DLL 参考

你怎么做到这一点 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T05:50:45.423

首先，您可以考虑使用接口解耦层，并且可以将接口分离为单独的 dll。这样，每一层只对下一层的接口有依赖。

我也不确定为什么需要从 DAL 耦合到 BLL？这是为了回电吗？你不能用事件来代替吗？

假设所有 3 层都在进程中运行，并假设您的 PL 是您的应用程序（组合根）的“入口点”，如果您使用 PL 中的引导代码分离出接口，IMO 通常的依赖项是：

*   PL => 对 BLL 和 DAL（具体和接口）以及 IoC 容器的引用
*   BLL 引用 DAL（或只是接口，如果适用）
*   DAL 无依赖（虽然通常会对 DTO / POCO / 实体有依赖）

PL 可以将 IoC 配置卸载到 Bootstrapper dll，从而导致：

*   PL => 对 BLL 接口和引导程序的引用
*   Bootstrapper => 引用一切和 IoC 容器
*   BLL => 参考 DAL 接口
*   DAL => 无依赖性（尽管通常会依赖于 DTO / POCO / 实体）

对于某些容器，您可以避免[使用配置或约定](https://stackoverflow.com/questions/10191060/ioc-in-class-library-where-to-bootstrap)从引导程序中引用所有 dll 的要求。但是，这些 dll 显然仍需要与您的应用程序一起部署。

# javascript - 获取当月所有星期的所有天数 - javascript / Jquery

> ID：11338300
> 
> 赞同：-3
> 
> 时间：2012-07-05T05:33:45.533
> 
> 标签：javascript, jquery

我需要一个代码来获取当月所有星期的所有天数，

一个接受星期数作为参数并返回该特定星期的所有天数的函数。

代码必须在 javascript 或 jquery 中，

有人可以帮帮我吗？

提前致谢 ：）

问候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T15:04:46.423

这是使用 java 脚本获取当前月份特定周的所有工作日的完整解决方案。

遵循步骤：

1）HTML：

```
<div class="input">
  <label>
    No. of Weeks..?: 
  </label>
  <input type="text" size="3" id="txtweek" name="txtweek" />
  <input type="button" id="btnok" name="btnok" value="Get Week Days" onclick="getWeekDays();" />
</div>
<div id="result">
</div> 
```

2）CSS：

```
.input label{
  font-size:13px;
  font-weight:bold;
}
.input input{
  font-size:13px;
  border:1px solid #333;
}
.weekdays{
  width:40%;
  background-color:#11a8a5;
  box-shadow: 7px 7px 3px #446689;
  margin-top:5px;
}
.weekdays th{
  background-color:#885511;
  border-bottom:1px solid #a4a525;
  color:#ffad25;
}
.weekdays td{
  text-align:center;
} 
```

3）Java脚本：

```
 var startDay = 0; //0=sunday, 1=monday etc.
var week = 0;
var result = "";

function weekDaysInMonth(week, startDay) {

    if (startDay == "" && startDay == null && typeof(startDay) == "undefined") {
        startDay = 0;
    }
    if (week != "" && week != null && typeof(week) != "undefined") {

        var weekDay = new Array(7);
        weekDay[0] = "Sunday";
        weekDay[1] = "Monday";
        weekDay[2] = "Tuesday";
        weekDay[3] = "Wednesday";
        weekDay[4] = "Thursday";
        weekDay[5] = "Friday";
        weekDay[6] = "Saturday";

        var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

        var currDate = new Date();
        var currWeekDay = week * 7;
        var monthLastDay = new Date(currDate.getFullYear(), currDate.getMonth() + 1, 0).getDate();

        if (currWeekDay > monthLastDay) {
            currWeekDay = monthLastDay;
            currDate = new Date(currDate.getFullYear(), currDate.getMonth() + 1, 0);

        } else {
            currDate = new Date((currDate.getMonth() + 1) + '/' + currWeekDay + '/' + currDate.getFullYear());
        }

        var d = currDate.getDay(); //get the current day
        var weekStart = new Date(currDate.valueOf() - (d <= 0 ? 7 - startDay : d - startDay) * 86400000); //rewind to start day
        var weekEnd = new Date(weekStart.valueOf() + 7 * 86400000);

        var wkDay = weekStart.getDate(); //Start week Date
        var nextDate = weekStart; //Assign Next Date as Current Week Start Date
        var htmlWeekDays = "",
            nextDay = "";
        while (wkDay != weekEnd.getDate()) {
            nextDay = nextDate.getDay();
            htmlWeekDays += "<tr><td>" + nextDate.getDate() + " " + monthNames[nextDate.getMonth()] + "," + nextDate.getFullYear() + "</td><td>" + weekDay[nextDay] + "</td></tr>";
            nextDate = new Date(nextDate.getTime() + 86400000);
            wkDay = nextDate.getDate();

        }
        if (htmlWeekDays != "") {
            htmlWeekDays = "<table cellpedding=0 cellspacing=0 class='weekdays'><tr><th>Date</th><th>Day</th></tr>" + htmlWeekDays + "</table>";
        }
        return htmlWeekDays;
    } else {
        return false;
    }

    return new Date(year, month, 0).getDate();
}

function getWeekDays() {
    week = document.getElementById("txtweek").value.trim();
    if (week != "" && !isNaN(week)) {
        result = weekDaysInMonth(week, startDay);
        document.getElementById("result").innerHTML = result;
    }
} 
```

上面的脚本只接受没有周数，并使用动态生成的表格格式获取该周的所有天数。

我还在[http://codebins.com/bin/4ldqpbi上生成了 bins 演示](http://codebins.com/bin/4ldqpbi)

# c# - Visual Studio 2010中数据库的连接字符串

> ID：11338304
> 
> 赞同：0
> 
> 时间：2012-07-05T05:33:54.387
> 
> 标签：c#, sql, visual-studio-2010

我正在使用 Visual Studio 2010 并使用 sql server 2008 创建数据库。我在 Windows 7 笔记本电脑中创建了一个 microsoft sql server 数据库，现在一台装有 windows xp 的电脑正试图连接到我的 windows 7 笔记本电脑数据库。（注意：我对数据库使用 Windows 身份验证）

所以这就是问题所在。

我需要在 windows xp 应用程序中添加数据源吗？连接字符串怎么样？我收到错误 26：在我尝试从其他电脑连接时指定的错误定位服务器/实例。我需要配置哪些设置以允许其他电脑连接到我的数据库？

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T05:38:43.477

在 Sql Server Management Studio 中，右键单击要连接的实例，转到属性 -> 连接 -> 选中“允许远程连接到此服务器”。您可能还必须通过配置管理器启用 TCP/IP 协议。您必须在 XP 客户端上设置连接字符串。有关详细信息，请参阅[ConnectionStrings](http://www.connectionstrings.com/sql-server-2008)站点。

# java - java小程序和应用程序之间的区别

> ID：11338311
> 
> 赞同：-2
> 
> 时间：2012-07-05T05:34:29.427
> 
> 标签：java, html, browser, applet, web

我一直在 eclipse 中开发一个 java web applet（或者至少我认为是一个 java web applet）。在我的计算机上成功测试后，我尝试将其嵌入 HTML 文档中。接下来我知道，我被错误淹没了。根据我的研究，我现在知道这些错误意味着我正在使用某种与 Web 小程序不兼容的代码。不幸的是，我不知道什么代码与小程序兼容或不兼容，因此不知道如何解决这个问题。坦率地说，我什至不知道从哪里开始。我的代码非常复杂：

```
import java.applet.Applet;
import java.awt.*; 
import java.net.*;
import java.io.*;
import java.awt.event.*;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.Image;
import java.awt.Toolkit;

public class DerpAHerp extends Applet implements KeyListener, MouseListener, Runnable {

int speed = 3;
int andelay = 2;
Thread animator;
Point velocity = new Point(0,0);
Point pos = new Point(50,50);
Point ppos = new Point(0,0);
int imgCount = 1;
Image[] person_S = makeAnimation(6,"person_S-","png");
Image[] person_E = makeAnimation(6,"person_E-","png");
Image[] person_W = makeAnimation(6,"person_W-","png");
Image[] person_N = makeAnimation(6,"person_N-","png");
Image personDefault = person_S[0];
Image person = personDefault;
Image offImage;
Graphics offGraphics;
Boolean moving = false;

/**
 * 
 */
private static final long serialVersionUID = 1L;

/**
 * @param args
 */

    public void getConnection(){
        String asdf = "";

        try {

              URL ourURL = new URL("http://dannyflax.antserve.com/d/"); //Coding Forums RSS Feed
              HttpURLConnection huc = (HttpURLConnection)ourURL.openConnection();            
              huc.setRequestMethod("GET");
              huc.setRequestProperty("User-Agent", "Mozilla/4.0 (compatible; JVM)");                        
              huc.setRequestProperty("Pragma", "no-cache");
              huc.connect();
                    BufferedReader reader = new BufferedReader(new InputStreamReader(huc.getInputStream()));

              String line = null;
              while ((line = reader.readLine()) != null) {
                  // Either do your parsing here, or append it to a StringBuffer for later use

              asdf = asdf.concat(line);

              }
        }
              catch(IOException ioe)
              {
                  ioe.printStackTrace();
               }
              catch(Exception e)
              {
                 System.err.println("General Exception " + e);
                 e.printStackTrace();
               }

        }
    public void paintFrame(Graphics g) {

        g.setColor(getBackground());
        g.fillRect(0, 0, person.getWidth(null),person.getHeight(null));

        Graphics2D g2 = (Graphics2D) g;

        if(velocity.x!=0 || velocity.y!=0){

            if(velocity.x>0){
            //East  
                if(imgCount%andelay == 0){
                    person = person_E[(imgCount/andelay)%person_S.length];
                    }
            }
            else if(velocity.x<0){
            //West  
                if(imgCount%andelay == 0){
                    person = person_W[(imgCount/andelay)%person_S.length];
                    }
            }
            else if(velocity.y>0){
            //South 
                if(imgCount%andelay == 0){
                    person = person_S[(imgCount/andelay)%person_S.length];
                    }
            }
            else if(velocity.y<0){
            //North 
                if(imgCount%andelay == 0){
                    person = person_N[(imgCount/andelay)%person_S.length];
                    }
            }

            imgCount++;
        }
        else{
            person = personDefault;
            imgCount = 0;
        }

        g2.drawImage(person, 0, 0, this);

        g2.finalize();

    }
    public void update(Graphics g) {

        if (offGraphics == null){
            if(person.getWidth(null) > 0 && person.getHeight(null) > 0)
            offImage = createImage(person.getWidth(null),person.getHeight(null));
            else{
                offImage = createImage(1,1);    
            }
            offGraphics = offImage.getGraphics();
            paintFrame(offGraphics);
        }

        Color bg = getBackground();

        paintFrame(offGraphics);

        g.setColor(bg);
        g.fillRect(ppos.x-(person.getWidth(null)/2), ppos.y-(person.getHeight(null)/2), person.getWidth(null),person.getHeight(null));

                g.drawImage(person, pos.x-(person.getWidth(null)/2),     pos.y-(person.getHeight(null)/2), this);

                g.finalize();

    }
     public void paint(Graphics g) {
        update(g);

    }
     public void init() {
         //Execute a job on the event-dispatching thread; creating this applet's GUI.

         addKeyListener( this );
          addMouseListener( this );

     }

@Override
public void mouseClicked(MouseEvent arg0) {
    // TODO Auto-generated method stub

}

@Override
public void mouseEntered(MouseEvent arg0) {
    // TODO Auto-generated method stub

}

@Override
public void mouseExited(MouseEvent arg0) {
    // TODO Auto-generated method stub

}

@Override
public void mousePressed(MouseEvent arg0) {
    // TODO Auto-generated method stub

}

@Override
public void mouseReleased(MouseEvent arg0) {
    // TODO Auto-generated method stub

}

@Override
public void keyPressed(KeyEvent arg0) {
    // TODO Auto-generated method stub

      int code = arg0.getKeyCode();

      switch(code){
      case 37:
          //West

          velocity.y = 0;
          velocity.x = -1 * speed;
          personDefault = person_W[0];

          break;
      case 38:
          //North

          velocity.x = 0;
          velocity.y = -1 * speed;
          personDefault = Toolkit.getDefaultToolkit().getImage("person_N-0.png");

          break;
      case 39:
          //East
          velocity.y = 0;
          velocity.x = speed;
          moving = true;
          personDefault = person_E[0];

          break;
      case 40:
          //South
          velocity.x = 0;
          velocity.y = speed;
          personDefault = person_S[0];

          break;

      }
}

@Override
public void keyReleased(KeyEvent arg0) {
    // TODO Auto-generated method stub
    int code = arg0.getKeyCode();

      switch(code){
      case 37:
          //Left
          velocity.x = 0;

          break;
      case 38:
          //Up
          velocity.y = 0;

          break;
      case 39:
          //Right
          velocity.x = 0;

          break;
      case 40:
          //Down
          velocity.y = 0;

          break;
      }

}

@Override
public void keyTyped(KeyEvent arg0) {
    // TODO Auto-generated method stub

}

public void start() {
    animator = new Thread(this);
    animator.start();
    }

@Override
public void run() {
    // TODO Auto-generated method stub
    while (Thread.currentThread() == animator) {
        // Display the next frame of animation.
        ppos.x = pos.x;
        ppos.y = pos.y;
        pos.x = pos.x + velocity.x;
        pos.y = pos.y + velocity.y;
        repaint();

        // Delay for a while
        try {
        Thread.sleep(50);
        } catch (InterruptedException e) {
            System.out.println("Failed");
        break;
        }
}

}

public Image[] makeAnimation(int size, String name, String extension){
    Image[] imgAr = new Image[size];
    while(size>0){
        String src = name + size + "." + extension;
        imgAr[size-1] = Toolkit.getDefaultToolkit().getImage(src);
        size--;
    }
    return imgAr;
}

public void stop() {
    animator = null;
    }
} 
```

我想知道是否有任何东西会立即显示为错误或不兼容。如果有人可以专门帮助我处理这段代码，或者至少让我知道如何开始使这段代码与网络小程序兼容，那将不胜感激。我已经查看了 java applet 文档，但它非常令人困惑，尤其是到目前为止我已经编写了多少代码，因为我在清除代码中的特定内容时遇到了很多麻烦。

给大家：

这是html：

```
<html>
<head>
</head>
<body>
<applet
    alt="Aplikacja klienta"
    code=DerpAHerp.class
    archive='DerpAHerp.jar'
    width=500
    height=500></applet>
</body>
</html> 
```

错误：

当我加载网页时，我收到一条错误消息，如果我点击它，我会得到： http: [//puu.sh/FZmu](http://puu.sh/FZmu)

控制台说

CacheEntry[http://XXXXXXXXXXXXXX.com/DerpAHerp.jar]：updateAvailable=true,lastModified=Thu Jul 05 00:50:39 EDT 2012,length=16290

这是海报的朋友。他去睡觉了。=\

编辑（来自海报）：我得到的错误日志如下： [http](http://puu.sh/G6us) ://puu.sh/G6us 不知道这是否有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T01:33:06.283

您的小程序没有**init**方法，因此无法启动。您应该阅读有关小程序的信息，因为我们无法在此处提供教程。[Hiere 是小程序的官方 Oracle 页面](http://www.oracle.com/technetwork/java/applet-137165.html)

您的 html 页面引用了一个 jar，但您的代码独立于其他类。你不需要使用罐子。

产生较小的输出可能很方便，但对于测试类文件来说很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-06T13:36:44.820

**问题已解决：** 我从头开始创建了一个新项目，并逐字逐句地
遵循[本教程，发现 java 小程序不支持 Toolkit.getDefaultToolkit().getImage() 方法，但 getImage() 方法支持。](http://www.javaworld.com/jw-03-1996/jw-03-animation.html)我将它们换掉，然后将我的图像加载代码移至 init() 方法，发现我的程序在 eclipse 和 chrome 中都可以正常工作。感谢您的所有建议和批评。我意识到我发布的代码在某些方面非常不成熟，下次我发布问题时，我会确保牢记您的意见。

# struts2 - 如何在displayTag分页中获取当前页码

> ID：11338313
> 
> 赞同：1
> 
> 时间：2012-07-05T05:34:33.183
> 
> 标签：struts2, pagination, displaytag

我想在我的动作类中获取选定的页码（分页）。我正在使用 struts2 和 displayTag 分页。请帮我解决这个问题。我的显示标签看起来像

```
<display:table  name="searchList" class="mycolor"  id="row" sort="external" partialList="true" size="100" pagesize="25" requestURI="search-history-search" > 
```

请帮助我....提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-13T10:46:13.560

选定的页码将作为请求参数“page”传递给您的 Action 类。从 HttpRequest 获取所选页码的请求参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-22T09:58:06.703

```
request.getParameter(new ParamEncoder("serviceRequestList")
       .encodeParameterName(TableTagParameters.PARAMETER_PAGE)); 
```

`serviceRequestList`是显示标签表的id。

# sql-server - 通过 VB 6 应用程序查询插入失败

> ID：11338314
> 
> 赞同：0
> 
> 时间：2012-07-05T05:34:33.643
> 
> 标签：sql-server, vb6, rdo

我正在开发一个 VB 应用程序，它将向 5 - 7 个表中插入数据，其中两个表具有主键约束，在通过我的应用程序插入数据时，当我尝试时，在这两个具有主键的表上插入失败要使用查询分析器插入相同的查询，它已成功插入到这两个表中，通过应用程序和查询分析器使用的用户名和密码是相同的，并且我使用 oledb 连接字符串 rdo 在应用程序中执行查询。查询失败时我得到的错误非常通用并显示

```
 "Reason -40002-01000: [Microsoft][ODBC SQL Server Driver][SQL Server]The statement has been terminated." 
```

我很困惑为什么我不能通过我的应用程序插入数据。我是否遗漏了什么或需要一些权限才能访问表

# objective-c - 将 UIPopoverController 呈现在相同位置，仅更改箭头偏移量

> ID：11338316
> 
> 赞同：18
> 
> 时间：2012-07-05T05:34:49.613
> 
> 标签：objective-c, ios, ios5, uipopovercontroller

我的目标是保持与 UIPopoverController 相同的坐标，只需更改箭头偏移量。所以基本上我有三个按钮触摸它们中的每一个都会显示一个弹出窗口。呈现此弹出框时，它会更改屏幕上的位置，但我不希望那样。为了更清楚地查看屏幕截图：

![在此处输入图像描述](../Images/1a10fe0764c851061cca7ce58ce24d3b.png)

![在此处输入图像描述](../Images/065c72ab549b448726ae627e9e7a2025.png)

![在此处输入图像描述](../Images/50644ca4c6e62636ff668a61606dbf4c.png)

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-17T07:57:30.090

对于我的弹出框，我希望箭头位于左上角而不是顶部居中（这是默认设置）。

`popoverLayoutMargins`通过设置UIPopoverController的属性，我设法得到了下面的结果（截图） 。您可以使用它来减少 UIPopoverController 内部计算中使用的屏幕区域，以确定在何处显示弹出框。

![UIPopovercontroller 左侧箭头](../Images/c53377713512e9f35f64cbb4c9e4b71d.png)

编码：

```
// Get the location and size of the control (button that says "Drinks")
CGRect rect = control.frame;

// Set the width to 1, this will put the anchorpoint on the left side
// of the control
rect.size.width = 1;

// Reduce the available screen for the popover by creating a left margin
// The popover controller will assume that left side of the screen starts
// at rect.origin.x
popoverC.popoverLayoutMargins = UIEdgeInsetsMake(0, rect.origin.x, 0, 0);

// Simply present the popover (force arrow direction up)
[popoverC presentPopoverFromRect:rect inView:self.view permittedArrowDirections:UIPopoverArrowDirectionUp animated:YES]; 
```

我认为您可以通过调整上述内容来获得所需的结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:59:18.817

您不能使用 Apple 的内置 UIPopoverViewController 类按原样执行此操作。但是实现自己的弹出视图控制器应该是相当简单和合乎逻辑的（只是一些非常基本的 2D 几何图形和一些在 UIView 的文档中的挖掘）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T06:09:24.340

是的，你可以这么做。您必须创建一个 alpha=0.0f 的辅助视图，并使用它来引导箭头。

例如：

```
auxView = [[UIView alloc] initWithFrame:firstButton.frame];
auxView.alpha = 0.0 ;
auxView.userInteractionEnabled = NO;
[firstButton.superView addSubview:auxView];
[auxView release]; 
```

好的，现在您使用该视图作为箭头指南打开弹出框。

```
[thePopoverController presentPopoverFromRect:auxView.bounds inView:auxView
            permitedArrowDirections:UIPopoverArrowDirectionLeft animated:YES]; 
```

现在你只需要移动视图：

```
auxView.frame = secondButton.frame; 
```

如果您愿意，可以使用该动作的动画。

还有一件事，对于这种箭头到按钮，我更喜欢箭头接触按钮。您可以使用：

```
presentPopoverFromRect:CGRectInset(auxView.bounds, 4.0, 4.0) 
```

# javascript - .load() 和 setTimeout() 的组合刷新购物卡指示器

> ID：11338319
> 
> 赞同：1
> 
> 时间：2012-07-05T05:34:57.693
> 
> 标签：javascript, jquery, ajax, shopify

为了更新购物车 $ 总计和项目总计，我们使用 AJAX 调用来替换购物车摘要 div (#cart-summary-for-ajax) 的内容，方法是从同一页面上的另一个（较小）页面提取数据地点。

我们面临的问题是，为了让它工作，我们在 .js 文件中收到一个错误，该错误会阻止代码的另一个区域工作（改变完全不同 div 的不透明度的 onFocus 效果）。

```
setTimeout('$('#cart-summary-for-ajax').load('http://###.com.au/pages/contact #cart-summary-for-ajax');', 500); 
```

令人困惑的是，如果我改为使用以下代码，我提到的 onFocus 效果可以完美运行，文件中没有错误，但 AJAX 似乎没有发生。

```
setTimeout('$('#cart-summary-for-ajax').load('http://###.com.au/pages/contact #cart-summary-for-ajax')', 500); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:43:17.470

试试这个：

```
setTimeout(function(){
  $('#cart-summary-for-ajax').load('http://a-j-e.com.au/pages/contact #cart-summary-for-ajax');
}, 500); 
```

# asp.net - 如何在 sharepint 2010 中使用客户端对象模型在文件中创建签入签出功能

> ID：11338322
> 
> 赞同：1
> 
> 时间：2012-07-05T05:35:19.193
> 
> 标签：asp.net, sharepoint-2010, sharepoint-clientobject

您能否告诉我如何使用 SharePoint 2010 中的客户端对象模型在文档库下的文件中创建签入签出功能

谢谢卡哈尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-27T05:43:27.750

每次您在 SharePoint 文件中创建、删除或更新元数据时，

建议您在手术前检查，手术后检查。

========================================

```
//Check Out

clientContext = new Microsoft.SharePoint.Client.ClientContext("Your site here");

clientContext.Credentials = new NetworkCredential("LoginID","LoginPW", "LoginDomain");

clientContext.Load(clientContext.Web);
Microsoft.SharePoint.Client.Web web = clientContext.Web;

Microsoft.SharePoint.Client.File f = web.GetFileByServerRelativeUrl("relative path to the file");

f.CheckOut();

clientContext.ExecuteQuery();

//....... Your operation...............

//Check in

clientContext.Credentials = new NetworkCredential("LoginID","LoginPW","LoginDomain");

clientContext.Load(clientContext.Web);

Microsoft.SharePoint.Client.Web web = clientContext.Web;

Microsoft.SharePoint.Client.File f = web.GetFileByServerRelativeUrl("relative path to the file");

f.CheckIn(String.Concat("File CheckingIn at ", DateTime.Now.ToLongDateString()), 
Microsoft.SharePoint.Client.CheckinType.MajorCheckIn);

clientContext.ExecuteQuery(); 
```

# iphone - 我们可以在我的应用程序中仅将视网膜图像用于视网膜和非视网膜设备吗？

> ID：11338323
> 
> 赞同：2
> 
> 时间：2012-07-05T05:35:19.987
> 
> 标签：iphone, objective-c, retina-display

> **可能重复：**
> [仅在 iOS 应用程序中捆绑视网膜图像](https://stackoverflow.com/questions/11329718/bundling-retina-images-only-in-ios-apps)

我在单个项目中有很多图像，这就是为什么我只想在视网膜图像上显示我们可以将视网膜用于非视网膜设备吗？

# structuremap - StructureMap and chaining arguments to classes?

> ID：11338325
> 
> 赞同：0
> 
> 时间：2012-07-05T05:35:27.250
> 
> 标签：structuremap

Here is the sequence in which objects need to be created. I'd like to initialize the whole thing in SM and only use the last one as target:

```
var firstObject = new FirstClass("First", "Last");
var servers = new List<FirstClass> { firstObject };
var secondObject = new SecondClass();
secondObject.Servers = servers;
var thirdObject = new ThirdClass(secondObject);
var fourthObject = thirdObject.SomeGetFunction(thirdObject); 
```

After all this is configured in SM, I'd like to basically only use

```
var objectToUse = ObjectFactory.GetInstance<fourthObject>(); 
```

So far I'm only able to get half way there, but can not figure out how complete this whole configuration. First three objects are singletons, they are only needed to properly instantiate and configure the fourth one.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T22:58:28.303

Here is how this can be accomplished. I'm not sure if this follows the best practices but gets the job done.

The first object to be created needs some settings from the config file; this was easy.

```
For<FirstClass>()
     .Singleton()
     .Use<FirstClass>()
     .Ctor<string>("First").EqualToAppSetting("FirstKey")
     .Ctor<string>("Last").EqualToAppSetting("LastKey"); 
```

The second one was more problematic because after creation two properties needed to be set and one of them was of type `IEnumerable<FirstClass>`, which I couldn't figure out how set up. As it turns out SM's 'context' object and interception was the answer.

```
For<SecondClass>()
     .Singleton()
     .Use<SecondClass>()
     .OnCreationForAll((context,x) => 
                           {
                               var server = new FirstClass[1];
                               server[0] = context.GetInstance<FirstClass>();
                               x.Servers = server;
                               x.Connections = 1;
                           }); 
```

Third one was again easy, we can let SM figure out dependencies.

```
For<ThirdClass>().Singleton().Use<ThirdClass>(); 
```

And the fourth and final one was tricky again since the object I was after was supposed to be created by a call to the ThirdClass. Again, build in 'context' proved to be useful here.

```
For<FourthClass>()
      .Singleton()
      .Use(context => context.GetInstance<ThirdClass>().SomeGetFunction("stringParam")); 
```

Now all I have to do is to call `ObjectFactory.GetInstance<FourthClass>` and do operations from there.

# asp.net-mvc-3 - 在mvc3中传递参数

> ID：11338330
> 
> 赞同：1
> 
> 时间：2012-07-05T05:36:25.727
> 
> 标签：asp.net-mvc-3, razor

```
public ActionResult Index()
{
    Queries q1 = new Queries();
    return View(q1);
}

public ActionResult Index(string id)
{
    Queries q1 = new Queries(id);
    return View(q1);
}

public ActionResult Select(string id)
{
    return RedirectToAction("Index",id);
} 
```

怎么了...

它说：当前对控制器类型“CompanyController”的操作“Index”的请求在以下操作方法之间不明确： System.Web.Mvc.ActionResult Index() on type LookUpForm.Controllers.CompanyController System.Web.Mvc.ActionResult Index (System.String) 类型为 LookUpForm.Controllers.CompanyController

由于 Action Index 一个没有参数，而另一个有一个字符串参数，我认为它必须是有效的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:40:10.740

即使它们采用不同的参数，您也不能在同一个控制器上具有相同名称的 2 个操作。消除它们歧义的唯一方法是使用不同的 HTTP 动词：

```
public ActionResult Index()
{
    Queries q1 = new Queries();
    return View(q1);
}

[HttpPost]
public ActionResult Index(string id)
{
    Queries q1 = new Queries(id);
    return View(q1);
} 
```

或者，如果两个动作都需要使用 GET 动词访问，您将不得不找到不同的名称或编写[自定义动作选择器](http://msdn.microsoft.com/en-us/library/system.web.mvc.actionmethodselectorattribute.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T05:38:55.743

只有当它们的 httpmethods 不同时，你才能有动作重载，即 HttpGet 或 HttpPost

# asp-classic - 在经典 ASP 中显示 IST（印度标准时间）

> ID：11338332
> 
> 赞同：1
> 
> 时间：2012-07-05T05:36:32.090
> 
> 标签：asp-classic, timezone

下面是我的 ASP（不是 ASP.NET）代码：

```
<%
days = day(now)
    if len(days) <> 2 then 
        days = "0"&days 
    END IF
    months = month(now)
    if len(months) <> 2 then 
        months ="0"&months
    end if
    min = dateadd("n",2,now)
    hr = dateadd("h",-5,now)
    Hrs = hour(hr)
    if len(Hrs) <> 2 then 
        Hrs ="0"&Hrs
    end if
    Mins = minute(min)
    if len(Mins) <> 2 then 
        Mins ="0"&Mins
    end if
    Secs = second(now)
    if len(Secs) <> 2 then 
        Secs ="0"&Secs
    end if
    datess = year(now)&"-"&months&"-"&days&"T"&Hrs&":"&Mins&":"&Secs

    response.write(datess) %> 
```

输出是服务器时间（服务器托管在英国）。现在我想将其转换为 IST（印度标准时间）。如何在经典 ASP 中做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T12:15:35.497

ASP VBScript 不理解时区的概念，即当前服务器时间是什么。JScript ASP 可以，幸运的是，您可以在 ASP 中混合和匹配您的脚本语言。

这将使用 JScript 将 UTC 日期和时间转换为 VBScript 可以理解和操作的格式：

```
<script  language="javascript" runat="server">

    var od = new Date();
    var nd = od;
    var s = nd.getUTCDate() + "/";
    s += (nd.getUTCMonth() + 1) + "/";
    s += nd.getUTCFullYear() + " ";
    s += (nd.getUTCHours()) + ":";
    s += nd.getUTCMinutes() + ":";
    s += nd.getUTCSeconds();
    datUTC = s;

</script>
<% 

Response.Write(FormatDateTime(datUTC, 3))

%> 
```

有了 UTC 后，您就可以应用自己的规则将其转换为可预测的 IST。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T09:23:06.137

您可以将正确的小时数 (GMT + 5:30) 添加到当前的英国时间。

```
DateAdd("n",330,NOW()) --adds 5 1/2 hours to current time 
```

您需要在一个函数中执行此操作，该函数还允许印度标准时间不像英国那样运行夏令时（在英国夏季时间）。因此，对于一年中的某些部分，您只需增加 4 1/2 小时。

示例函数：

```
<% 
offset = 330 '5 1/2 hours in minutes

' tell us what date you want 
currentUkDateTime = NOW()

' find first Sunday in April 
for i = 1 to 7 
    if weekday("4/" & i & "/" & year(d))=1 then 
        startDST = cdate("4/" & i & "/" & year(d)) 
    end if 
next 

' find last Sunday in October 
for i = 31 to 25 step -1 
    if weekday("10/" & i & "/" & year(d))=1 then 
        endDST = cdate("10/" & i & "/" & year(d)) 
    end if 
next 

' subtract hour from offset if within DST 
if cdate(od) >= startDST and cdate(od) < endDST then 
    offset = offset - 1 
end if 

currentISTDateTime = dateadd("n", offset, currentUkDateTime) 

Response.Write("Current = " & currentUkDateTime & "<Br>UTC = " & currentISTDateTime ) 
%> 
```

（在[classicasp.aspfaq.com](http://classicasp.aspfaq.com/date-time-routines-manipulation/how-do-i-convert-local-time-to-utc-gmt-time.html)的帮助下）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-06T19:37:27.193

在 ASP 中有一个叫做 LOCALE 的东西，检查一下：http: [//support.microsoft.com/kb/229690](http://support.microsoft.com/kb/229690)

但是...确保您想走那条路，我去检查您是否满意：-货币-日期时间-最后但不租用小数点分隔符....在某些语言环境中，分隔符是逗号（如与美国相反，它是一个。）您最终可能会得到 SELECT * FROM article WHERE price > 3,14 -> 提供的参数的大错误（LOCALE 可以将 PI（3.14）更改为 3,14，这可以避免，但是。 .. 经典 ASP 中的国际化非常“简单”...

# php - PHP：登录和注销会话

> ID：11338336
> 
> 赞同：-3
> 
> 时间：2012-07-05T05:36:57.050
> 
> 标签：php, mysql, session

我是 php 的初学者。我正在使用 PHP-3。我尝试在 php 中创建登录会话但未能成功。我想知道创建会话所需的全部代码，例如，login.php，wellcome。 php,lock.php,logout.php。谁能帮帮我？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T05:45:26.893

`phplib`我的祖父告诉我，在过去的美好时光里，他们曾经有过一些东西。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T05:44:35.337

访问此页面

[http://thenewboston.org/watch.php?cat=11&number=136](http://thenewboston.org/watch.php?cat=11&number=136)

[http://thenewboston.org/watch.php?cat=11&number=137](http://thenewboston.org/watch.php?cat=11&number=137)

[http://thenewboston.org/watch.php?cat=11&number=138](http://thenewboston.org/watch.php?cat=11&number=138)

[http://thenewboston.org/watch.php?cat=11&number=139](http://thenewboston.org/watch.php?cat=11&number=139)

[http://thenewboston.org/watch.php?cat=11&number=140](http://thenewboston.org/watch.php?cat=11&number=140)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-05T05:45:12.787

我认为你在使用它之前没有开始会话会经历这个 -

[http://php.net/manual/en/features.sessions.php](http://php.net/manual/en/features.sessions.php)

我的建议是使用 PHP5 及以上版本。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-05T05:45:44.100

您的问题很笼统。您可以找到许多与此相关的教程，如果您有特定问题，可以发布。几乎没有人可以在这里发布整个代码。

对于登录和会话，您需要在[php.net](http://php.net)广泛了解 PHP.Documented 中的 $_SESSION 。您还需要一个数据库来存储您的用户名和密码 -> Mysql 非常适合入手。此外，登录注销涉及用户关键信息，因此您需要 php 中的类似 MD5 的函数来保护您的密码。

尝试解决这个问题，这里有一个链接供参考[http://www.devarticles.com/c/a/PHP/PHP-for-Beginners-by-a-Beginners/1/](http://www.devarticles.com/c/a/PHP/PHP-for-Beginners-by-a-Beginners/1/)
希望它有助于
快乐编码

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-05T05:55:41.287

***简单的 PHP 登录脚本*** ，包括会话管理。

```
<?php

$host="localhost"; // Host name
$username=""; // Mysql username
$password=""; // Mysql password
$db_name="test"; // Database name
$tbl_name="members"; // Table name

// Connect to server and select databse.
mysql_connect("$host", "$username", "$password")or die("cannot connect");
mysql_select_db("$db_name")or die("cannot select DB");

// username and password sent from form
$myusername=$_POST['myusername'];
$mypassword=$_POST['mypassword'];

// To protect MySQL injection (more detail about MySQL injection)
$myusername = stripslashes($myusername);
$mypassword = stripslashes($mypassword);
$myusername = mysql_real_escape_string($myusername);
$mypassword = mysql_real_escape_string($mypassword);

$sql="SELECT * FROM $tbl_name WHERE username='$myusername' and password='$mypassword'";
$result=mysql_query($sql);

// Mysql_num_row is counting table row
$count=mysql_num_rows($result);

// If result matched $myusername and $mypassword, table row must be 1 row

if($count==1){

// Register $myusername, $mypassword and redirect to file "login_success.php"
session_register("myusername");
session_register("mypassword");
header("location:login_success.php");
}
else {
echo "Wrong Username or Password";
}
?> 
```

从[这里](http://www.phpeasystep.com/phptu/6.html)。

# meteor - 流星应用集成

> ID：11338340
> 
> 赞同：0
> 
> 时间：2012-07-05T05:37:35.473
> 
> 标签：meteor

我有一个应用程序，其中有几个模板。我通过使用函数将这些模板调用到一个单页应用程序中，

```
$('#right2').replaceWith(Meteor.ui.chunk(Template.profile)); 
```

`"'#right2'"`要替换的 div 的 id 在哪里。&`"Template.Profile"`是替换模板。

发生的事情是，

当我通过单击超链接调用所有这些模板时，它们只被调用一次。当我再次调用这些模板时，它不起作用。

`<li><a href="#" onclick = "renderMessage_Inbox();" ></a></li>`

```
function renderMessage_Inbox(){       
alert("in messages");
$('#right2').replaceWith(Meteor.ui.chunk(Template.Message_Inbox)); 
```

}

模板：

```
<template name = "Message_Inbox">
<div id="right2">

<div class="floatLeft">
 <a href="Messages_Inbox.html"> <img src="/messagesText.png" alt="messages" class="floatLeft" /></a><span class="new floatLeft">1 NEW </span>
 </div> 

  <div align="center" class="floatRight" style="margin-bottom:20px">

<a href="#" class="button" onclick="ShowModalPopup('popupMessage'); return false;">
    <span>+ New Message</span>
</a>
</div>

  <div class="clear"></div>

  <div class="count" style="margin-bottom:10px"> 4 Messages</div>

  <!--start 1 messageBox-->
  <a href="#" onclick = "renderInbox_Details();" class="messageBox">
  <div class="left">

    <img src="/photo.jpg" style="margin-right:10px" class="floatLeft" />
    <p class="">Bill Brady</p>

    <p class="messageTitle" style="clear:none;">Title of the message</p>
    </div>

    <div class="floatRight">
     <p class="" align="right">X</p>

    <p class="messageTitle">March 12, 2012</p>

    </div>

   </a>
 </div> 

</template> 
```

我有几个这样的调用函数和模板。但他们只被调用一次。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-16T12:20:17.810

您可以使用 $('#right2').html(Meteor.ui.chunk(Template.Message_Inbox));

它会解决你的问题。

# cakephp-2.1 - 在 CakePHP 2.1 中强制下载文件

> ID：11338343
> 
> 赞同：0
> 
> 时间：2012-07-05T05:38:08.440
> 
> 标签：cakephp-2.1

我正在使用强制下载组件来下载文件。

一旦用户接受保存它，我想在同一页面上显示成功闪烁消息，否则希望在该页面上显示错误消息。

首先，是否可以跟踪保存对话框事件（如果是，则未确认），如果是，那么我如何实现它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-22T11:48:26.943

[此链接可能会对您有所帮助](https://groups.google.com/forum/?fromgroups#!topic/cake-php/lMlw9ooZhzQ)。您可以在提交表单后打开新选项卡。并`$this->autoRender = false;`在控制器操作结束时使用并使用强制下载组件下载请求的文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-11T02:09:29.427

在新选项卡中打开它并使用您的强制下载组件。

# javascript - 使用 jquery 显示和隐藏 div？

> ID：11338344
> 
> 赞同：0
> 
> 时间：2012-07-05T05:38:20.343
> 
> 标签：javascript, jquery

我有两个链接和 2 个 div。我想在隐藏 div 2 时显示 div 1。当我显示 div 2 时，我希望隐藏 div 1。我试图编写这段代码，但它似乎不起作用。（只有第一部分。视频 div 被隐藏）

```
<script src="http://code.jquery.com/jquery-latest.js"></script>

<script>
$(document).ready(function() {
   $('#videos').hide();
 });

$('#show_images').click(function(){
    $('#videos').hide();
    $('#images').show();
});

    $('#show_videos').click(function(){
        $('#images').hide();
        $('#videos').show();
    });

    </script>
    <a id="show_images" class="button" href="#">Images</a>
    <a id="show_videos" class="button" href="#">Videos</a>

<div id="images" class="images"></div>
<div id="videos" class="videos"></div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T05:40:56.747

将绑定click handler的代码放入dom ready回调中，或者在两个div未就绪时执行代码。

```
$(document).ready(function() {
   $('#videos').hide();

  $('#show_images').click(function(){
    $('#videos').hide();
    $('#images').show();
  });

  $('#show_videos').click(function(){
    $('#images').hide();
    $('#videos').show();
  });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:52:17.400

其他解决方案完美运行，但这里有一个较短的版本

```
$(document).ready(function()
   {
   $('#videos').hide();

   $('[id^=show_]').click(function(){
      $('#videos').toggle();
      $('#images').toggle();
      });
   }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T05:41:41.487

```
$(document).ready(function() {
   $('#videos').hide();

$('#show_images').click(function(){
    $('#videos').hide();
    $('#images').show();
});

$('#show_videos').click(function(){
    $('#images').hide();
    $('#videos').show();
});
}); //close document ready here 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-05T06:51:10.917

上述查询还有另一种替代方法：

```
$(function(){
   $('#show_images').click(function(){
      $('#videos').hide();
      $('#images').show();
  });
  $('#show_videos').click(function(){
        $('#images').hide();
        $('#videos').show();
  });
  $('#show_images').trigger('click');
}); 
```

您可以在 codebins [http://codebins.com/codes/home/4ldqpbm上尝试上述解决方案](http://codebins.com/codes/home/4ldqpbm)

# iphone - 如何使用 xcode 4.3.3 为多个视图创建通用应用程序？

> ID：11338345
> 
> 赞同：0
> 
> 时间：2012-07-05T05:38:25.243
> 
> 标签：iphone, objective-c, ios, ipad

我在创建应用程序时选择了通用应用程序。我有一个 appdelegate 和一个带有 2 xibs 的 viewcontroller。一个用于 iphone 和 1 个用于 ipad 。如果我想使用另一个视图控制器，我应该使用 2 个视图控制器的 2 个类还是使用 2 个 xibs 的单个类。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T05:45:47.920

根据我的理解，您应该能够只拥有另一个视图控制器并在初始化它时使用模板中的条件语句：

```
 if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) 
    {
           self.viewController = [[ViewController alloc] initWithNibName:@"ViewController_iPhone" bundle:nil];
    } 
    else 
    {
           self.viewController = [[ViewController alloc] initWithNibName:@"ViewController_iPad" bundle:nil];
    } 
```

@"ViewController_iPhone/iPad" 是你的两个独立的笔尖。我建议也为每个视图设置一个不同的类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T05:46:42.460

两者都会起作用。您可以使用多个 Xib 一个用于 iphone 和一个用于 iPad 具有相同的类。但永远不要忘记为每个 Xib 设置文件所有者。

# fortran - FORTRAN：将数组设置为 0 不起作用

> ID：11338346
> 
> 赞同：-1
> 
> 时间：2012-07-05T05:38:28.457
> 
> 标签：fortran, fortran90

我正在做我一次又一次做的事情，在 Fortran 90 中将数组设置为零。但是，由于某种原因，在这种情况下它不起作用，我不知道为什么。

我分配数组并使用`A = 0.d0`，但是当我写出其中一个组件时，它打印为 0.4xxx

如果这有什么不同，我的数组是一个模块级数组，我在一个子例程中对其进行初始化。

有谁知道为什么会发生这种情况？

编辑：对不起，我已经离开，因此没有回应。这仍在发生。我正在使用 gfortran 4.3。我已经改变了一些东西，看看他们是否会有所帮助，但他们没有。**请注意，我通过两种方式**将元素设置为零。在循环中，它们肯定被设置为零，但在循环之后，至少有一个元素无缘无故地变为非零。我知道所有其他元素也是非零的。我将相关数组更改为本地子程序数组，但这没有效果。以下是给我错误输出的代码：

```
subroutine coeff_cube(f, Ng,x_max_8,coeffs)
  integer, intent(in)   :: Ng
  real(8), intent(in)   :: f(Ng,Ng,Ng)
  real(8), intent(in)   :: x_max_8

  integer               :: i,j,k,ii,jj,kk

  real(8)                :: Ints(Ng,nmax+1)
  real(8), intent(out)  :: coeffs(nmax+1,nmax+1,nmax+1)

  call cube_ints(x_max_8,Ng,Ints)

  write(*,*) "NOW NMAX IS: ", nmax       !Prints '24'
  coeffs = 0.0d0
  do i=1,nmax+1
    do j=1,nmax+1
      do k=1,nmax+1
        coeffs(i,j,k) = 0.d0
        write(*,*) coeffs(i,j,k)  !Prints 0.0000000000000000 for all i,j,k
      end do
    end do
  end do

  write(*,*) coeffs(1,3,28)               !Prints a non-zero number
  coeffs(1,3,28) = 0.0d0
  write(*,*) coeffs(1,3,28)               !Prints 0.0000000000000000

  do k=1,nmax+1
    i=1
    j=1
    if (i+j+k .GT. nmax+1)then
            exit
    end if
    do j=1,nmax+1
        i=1
        if (i+j+k .GT. nmax+1)then
            exit
        end if
      do i=1,nmax+1
        if (i+j+k .GT. nmax+1)then
            exit
        end if
        do kk=1,Ng
          do jj = 1,Ng
            do ii = 1,Ng
                coeffs(i,j,k) = coeffs(i,j,k) + &
                & f(ii,jj,kk)*Ints(ii,i)*Ints(jj,j)*Ints(kk,k)
                if(i==1.AND.j==3.AND.k==28)then
                    if (kk==1) then
                    write(*,*) coeffs(i,j,k)
                    end if
                end if
            end do
          end do
        end do
      end do
    end do
  end do
  write(*,*) coeffs(1,3,28)          !Prints 0.0000000000000000
end subroutine 
```

有没有人有任何想法？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-24T23:49:42.963

对不起，我已经想通了……

它实际上将数组设置为零，但是由于某种原因，我正在编写一个不在数组中的元素（超出范围）。我本以为它会给我一个错误，而不是写出任何旧的东西，但我想这只是 fortran ......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T21:12:40.553

你知道你可以用一条语句初始化整个数组吗？

```
coeffs = 0.0d 
```

将数组的所有元素设置为 0。

# oop - 类中的虚拟方法

> ID：11338354
> 
> 赞同：0
> 
> 时间：2012-07-05T05:39:34.743
> 
> 标签：oop, haxe

我正在尝试制作一个简单的可扩展类，然后对其进行扩展，然后将扩展类的实例放入一个变量中，然后调用扩展类覆盖的方法。在其他语言中，这被称为虚拟方法。我无法在 Haxe 中找到有关此的任何信息。

```
class Shape
{
    public virtual function DrawShape(): Void {}
}

class Triangle extends Shape
{
    public virtual function DrawShape(): Void { printf("Triangle"); }
}

class Square extends Shape
{
    public virtual function DrawShape(): Void { printf("Square"); }
}

//usage
var myShape : Shape;

//As Triangle
myShape = new Triangle();
myShape.DrawShape(); //outputs Triangle, even though it is type Shape variable

//As Square
myShape = new Square();
myShape.DrawShape(); //outputs Square, even though it is type Shape variable 
```

因此，如果任何人知道如何在 Haxe 中执行此操作，请提供帮助。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T14:18:22.053

虚拟 == 在 Haxe 语言中覆盖

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T14:14:44.490

尝试

```
interface IShape
{
  function drawShape () : Void;
}

class Tri implements IShape
{
  public function drawShape () : Void { return "Tri"; }
}

class Square implements IShape
{
  public function drawShape () : Void { return "Square"; }
} 
```

# google-chrome - Chrome 扩展开发者仪表板中的展示次数是什么意思？

> ID：11338361
> 
> 赞同：49
> 
> 时间：2012-07-05T05:40:39.483
> 
> 标签：google-chrome, google-chrome-extension, chrome-web-store

在开发者仪表板的统计信息下，我们可以找到两种类型的图表：安装量和展示量。这些是什么意思？

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2012-10-24T16:56:41.193

展示次数是扩展在搜索中出现的次数（包括网上商店搜索和 Google）。用户不必访问该页面来注册印象，如果用户通过电子邮件等中的链接直接访问该页面，则不会被视为印象。这就是为什么我的印象比我的装置少（人们在 Facebook 和 twitter 上发送的链接比他们搜索的要多得多）。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2014-07-13T12:14:45.257

展示次数是您的附加信息向用户显示的次数。

当商店墙上装满了物品时，当您的扩展程序的磁贴滚动到屏幕上的视图中时，您会得到一个“印象”。这会导致每次页面加载一个“印象”（换句话说，您不会在每次将项目滚动到视图中，然后退出，然后再次进入时获得印象）。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2015-03-17T17:07:34.087

展示次数是您的应用出现在浏览应用商店的用户屏幕上的次数，但还有更多。如果您的应用在屏幕上滚动浏览，您将获得一次印象。如果用户向上滚动并且您的应用重新出现在屏幕上，则不会计算任何内容（因为这将是重复计算）。

如果用户在浏览应用商店时点击应用板块，您将获得第二次印象。例如，想象自己浏览应用商店并在页面上向下滚动。填充屏幕视图的每个应用都会给人留下深刻印象。让我们假设您意识到您刚刚看到了一些有趣的东西并且您向上滚动以便感兴趣的应用程序重新填充屏幕。此应用（或任何其他应用）不会从您的操作中获得第二次印象。但是现在，您单击该应用程序以全屏视图查看它。此操作会触发第二次展示。

现在，如果您安装该应用程序，那么，显然，此操作算作安装。因此，总而言之，每个会话，每个应用最多可以获得 2 次展示和一次安装。

* * *

## 回答 #4

> 赞同：-13
> 
> 时间：2012-07-05T08:41:02.927

印象意味着用户访问了您的扩展页面并稍微查看了您的应用程序，可能查看了您的屏幕截图，阅读了您的描述等。

但他们没有继续“安装”您的扩展程序。

# c# - 在 .NET 中比较 GUID 时出现意外行为

> ID：11338362
> 
> 赞同：4
> 
> 时间：2012-07-05T05:40:42.330
> 
> 标签：c#, lambda, comparison, extension-methods, guid

我试图创建一个看起来像这样的扩展方法......

```
public static IEnumerable<T> Distinct<T>(this IEnumerable<T> value, IEnumerable<T> compareTo, Func<T, object> compareFieldPredicate)
{
    return value.Where(o => !compareTo.Exists(p => compareFieldPredicate.Invoke(p) == compareFieldPredicate.Invoke(o)));
} 
```

我的想法是我可以做这样的事情......

```
IEnumerable<MyCollection> distinctValues = MyCollection.Distinct(MyOtherCollection, o => o.ID); //Note that o.ID is a guid 
```

现在，在这一点上，我本以为只有我独特的物品退还给我，但我发现情况并非如此。

经过进一步研究，使用以下代码分解此方法。

```
Guid guid1 = Guid.NewGuid();
Guid guid2 = new Guid(guid1.ToString());

Func<MyObject, object> myFunction = o => o.ID;
Func<MyObject, object> myFunction1 = o => o.ID;

bool result = myFunction(MyObject) == myFunction1(MyObject);
//result = false 
```

我发现事实上，即使 Guid 相同，比较也总是返回 false。

这是什么原因？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-05T05:50:29.813

您的问题是您在比较它们之前将Guids 装箱为对象。考虑这段代码：

```
Guid g1 = Guid.NewGuid();
var g2 = g1;

Console.WriteLine(g1 == g2);

object o1 = g1;
object o2 = g2;

Console.WriteLine(o1 == o2); 
```

这实际上输出：

```
true
false 
```

由于“o1”和“o2”虽然等于同一个 Guid，但不是同一个对象。

如果您真的希望您的“不同”扩展方法不绑定到特定类型（如 Guid），您可以这样做：

```
public static IEnumerable<TItem> Distinct<TItem, TProp>(this IEnumerable<TItem> value, IEnumerable<TItem> compareTo, Func<TItem, TProp> compareFieldPredicate)
    where TProp : IEquatable<TProp>
{
    return value.Where(o => !compareTo.Any(p => compareFieldPredicate(p).Equals(compareFieldPredicate(o))));
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T05:46:58.090

```
bool result = (guid1==guid2); //result -> true 
```

您可以尝试在 myfunction 和 myfunction1 中将返回类型 Object 更改为 GUID

```
Func<MyObject, Guid> myFunction = o => o.ID;
Func<MyObject, Guid> myFunction1 = o => o.ID; 
```

否则，将返回值（true）装箱为Object，并检查Reference相等性，即为false。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T05:47:59.887

改用

```
Func<MyObject, Guid> myFunction = o => o.ID;
Func<MyObject, Guid> myFunction1 = o => o.ID; 
```

这是因为您的功能被定义为

```
Func<MyObject, object> 
```

Guid 返回的 Guid`myFunction`将`myFunction1`被装在两个不同的对象中。请参阅[此处](http://msdn.microsoft.com/en-us/library/yz2be5wk.aspx)了解 .NET 中的装箱和拆箱功能

因此，当比较完成时，将比较两个不同的对象。

in object的默认实现`Equals`是做引用相等检查。它不检查装箱值。有关如何实现 object.Equals 的更多详细信息，请参见[此处](http://msdn.microsoft.com/en-us/library/bsc2ak47.aspx)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-05T07:12:21.897

正如其他人所说，您的`compareFieldPredicate`返回 an`object`及其运算符`==` 使用`object.ReferenceEquals`, 而不是`object.Equals`，因此您的代码始终检查对象身份而不是相等性。

一种解决方案是使用`object.Equals`方法而不是运算符`==`：

```
public static IEnumerable<T> Distinct<T>(
    this IEnumerable<T> value, 
    IEnumerable<T> compareTo, 
    Func<T, object> compareFieldPredicate
)
{
    return value.Where(o => !compareTo.Exists(
        p => object.Equals(compareFieldPredicate(p), compareFieldPredicate(o))
    ));
} 
```

更好的解决方案为实际键类型使用默认比较器，如果类型`IEquatable`为自身实现接口，则消除装箱：

```
public static IEnumerable<T> Distinct<T, TKey>(
    this IEnumerable<T> value, 
    IEnumerable<T> compareTo, 
    Func<T, TKey> compareFieldPredicate
)
{
    return value.Where(o => !compareTo.Exists(
        p => EqualityComparer<TKey>.Default.Equals(compareFieldPredicate(p), compareFieldPredicate(o))
    ));
} 
```

但是，您的方法的大部分功能`Distinct`已经由
[`Enumerable.Except`](http://msdn.microsoft.com/en-us/library/bb336390.aspx)LINQ 方法实现。

您可以[`Enumerable.Except`](http://msdn.microsoft.com/en-us/library/bb336390.aspx)通过提供以下实现来重写您的实现`IEqualityComparer`：

```
private class KeyEqualityComparer<T, TKey> : IEqualityComparer<T>
{
    private readonly Func<T, TKey> _keySelector;

    public KeyEqualityComparer(Func<T, TKey> keySelector)
    { _keySelector = keySelector; }

    public int GetHashCode(T item)
    { return _keySelector(item).GetHashCode(); }

    public bool Equals(T x, T y)
    { return EqualityComparer<TKey>.Default.Equals(_keySelector(x), _keySelector(y)); }
}

public static IEnumerable<T> ExceptBy<T, TKey>(
    this IEnumerable<T> first, 
    IEnumerable<T> second, 
    Func<T, TKey> keySelector
)
{
    return first.Except(second, new KeyEqualityComparer<T, TKey>(keySelector));
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-05T05:49:36.203

如果您更改 lambda 以返回 Guid，那么它可以工作：

```
Func<MyObject, Guid> myFunction = o => o.ID;
Func<MyObject, Guid> myFunction1 = o => o.ID; 
```

# sql-server - 使用 JasperReports 的增量报告

> ID：11338365
> 
> 赞同：0
> 
> 时间：2012-07-05T05:41:00.183
> 
> 标签：sql-server, database, jasper-reports, reporting

我每天使用*JasperReports*从*SQL Server*生成报告。问题是报告每天都从头开始读取数据，但我希望它排除之前读取的记录并仅包含新行。数据库很旧，并且表中没有时间戳列，因此无法识别哪些记录是“新的”，哪些记录是“旧的”。
我也不允许修改它。

如果可能，请建议任何其他方式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-23T06:30:26.453

您可以创建一个新表，并且每次在报表上打印记录时，将该记录插入表中。因此，您可以在新表上使用原始表中带有**NOT EXISTS条件的查询。**这种方法的明显缺点是数据库上的空间消耗以及在新表上插入记录所需的额外工作，但如果您无法修改原始表，这是唯一的解决方案。否则，Alex K 的建议非常好。

# flash - actionscript 3 功能无法访问手动影片剪辑

> ID：11338373
> 
> 赞同：0
> 
> 时间：2012-07-05T05:41:52.313
> 
> 标签：flash, actionscript, movieclip

我是 actionscript 3.0 的新手。我有以下代码：

```
num0.addEventListener(MouseEvent.CLICK, num0_click);
function num0_click(event:MouseEvent):void
{
    trace(num0);
} 
```

With`num0`是在舞台上手动添加的影片剪辑，而不是任何其他影片剪辑的成员。我的输出是`null`. 请您解释一下情况并教我如何访问`num0`这样的函数。

**编辑**

奇怪的是，如果不用作事件侦听器，该函数可以正常工作：

```
trace(num0);

num0.addEventListener(MouseEvent.CLICK, num0_click);
function num0_click(event:MouseEvent):void
{
    trace(num0);
}

num0_click(null); 
```

输出如下

```
[object ...]
[object ...] 
```

并且当单击影片剪辑实例时`num0`（在 swf 上）：

`null`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T05:46:31.183

很简单，

`event.currentTarget`为您提供当前正在处理/处理该事件的对象。

由于您的事件处理程序`num0_click`附加到`num0`,`event.currentTarget`将返回您需要的内容。

**编辑**

引用`num0`不存储在任何地方（来自您提供的代码）。如果您想`num0`稍后再次使用该名称访问，则必须在 Class 范围内声明一个像这样的变量（或者如果您不使用类，则在所有函数之外）。

```
var num0:MovieClip; 
```

然后，您可以实例化它并在任何函数中引用它，如下所示：

```
function init():void {
    num0=new MovieClip();
}

function stop():void {
    num0.stop();
} 
```

**编辑 2** 您还可以在 addEventListener 中内联声明侦听器函数。

```
num0.addEventListener(MouseEvent.CLICK, function (event:MouseEvent):void {
    trace(num0);
}); 
```

# asp.net - 在 ASP.NET 中，如何在后台或满足某些条件后执行任务？

> ID：11338376
> 
> 赞同：0
> 
> 时间：2012-07-05T05:42:30.390
> 
> 标签：asp.net, wcf, global-variables, job-scheduling, hitcounter

每个搜索数据库都有大约 50 个应用程序变量。来自 Single Search.aspx 页面的总共 50 个搜索 Db，`querid`具体取决于它连接到特定数据库的 URL 中传递的 QueryString。

例如：`if Search.aspx?li=1`然后连接到`1SearchDB`

`if Searcg.aspx?li=2 then Connect to 2SearchDB`......

50SearchDB 我`SearchDB`根据`QueryString`URL 维护每个访问者的总数，并增加文件中的应用程序变量`GLOBAL.ASAX`。

在 Global.asax 中：

```
void Application_Start(object sender, EventArgs e)  
    { 
        // Code that runs on application startup 
        Application["1"] = 0;           
        Application["2"] = 0; 
        . 
        . 
        Application["50"] = 0; 

    } 
```

在 Search.aspx.cs 的页面加载中：

```
int LocalBody = Convert.ToInt32(Request.QueryString["li"]); 
public void Page_Load(object sender, EventArgs e) 
    { 
    Label1.Text = GetHits(LocalBody).ToString(); 
    } 

     private int GetHits(int LocalBody) 
        { 
            int counter=0; 
            switch (LocalBody) 
            { 
                case 1: 
                    Application["1"] = (int)Application["1"] + 1; 
                    counter=(int)Application["1"]; 
                    break; 
                case 2: 
                     Application["2"] = (int)Application["2"] + 1; 
                    counter=(int)Application["2"]; 
                    break; 
                . 
                . 
                case 50: 
                    Application["50"] = (int)Application["50"] + 1; 
                    counter=(int)Application["50"]; 
                    break;            default: 
                    break; 
            } 
            return counter; 

        } 
```

现在，我想将这些应用程序变量添加到 QUEUE 并在达到 1000 或在某些指定`TIME INTERVAL`说 20 分钟后，它必须将值写入 DB 或 Windows 事件日志。

是否编写任何服务或其他...！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:14:47.703

只要 WebApp 在内存中，Application 对象就会一直保留在内存中。如果一段时间内没有请求，IIS 可以关闭 WebApp。在这种情况下，存储在 Application 对象中的值将会丢失。假设即使 IIS 没有关闭 Web 应用程序，该对象仍驻留在站点的内存中。除非您将其持久保存到某个共享位置（例如数据库或消息队列），否则任何外部服务都无法访问此对象。

我的建议是不要使用应用程序对象。而是将其保存到内存存储中。我假设您不想每次更新值时都保存到数据库的原因是为了避免写入磁盘。因此，我建议使用 MSMQ 或 DotNetMQ 之类的消息队列或 Redis 之类的键值存储。

将数据保存在共享位置后，您可以让服务轮询该位置并每 1000 个项目或每 20 分钟保存一次。

# python - Python/Django 开发，windows 还是 linux？

> ID：11338382
> 
> 赞同：19
> 
> 时间：2012-07-05T05:43:32.010
> 
> 标签：python, windows, django, linux

我最近一直在研究 Python，并开始阅读 Django 的文档，但我不能否认我发现的大多数视频教程通常将 Linux 显示为所选操作系统。我大多忽略了这一点，但我开始遇到一些问题，人们使用诸如“触摸”之类的命令，我不知道 Windows 7 命令提示符中的等效命令是什么。我听说过 Power Shell 中的新物品，但它很乱，我担心这种“等效狩猎”可能会一次又一次地出现......

所以我开始想知道为什么大多数人将 Linux 与 Python 一起使用，学习使用 Linux 进行开发会是一个很好的举措（知道我的 Linux 知识完全是空的）？它会让我在使用 Python 进行开发时更有效率吗？是否可以列出这样做的好处？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-07-05T06:30:19.190

我使用 Windows 进行 Django 开发已经有一段时间了，但最终发现 Linux 是更好的选择。以下是一些原因：

*   一些 Python 包根本无法在 Windows 中安装或正确安装，否则会给您带来很多麻烦
*   如果你需要部署你的 Django 应用程序，使用 Unix 风格的系统更有意义，因为它 99% 的可能你的部署环境是相同的。在具有相同配置的本地计算机上进行试运行将在以后为您节省大量时间 + 在这里您“允许”犯错误。
*   如果您的应用程序变得复杂，那么在 Linux 中获取所需的依赖项（无论是扩展、库等）更容易。在 Windows 中，您最终会寻找合适的站点来下载所有内容并经历一些安装和配置的麻烦。有时我花了很多时间来搜索一些特定的东西。在 Linux 中，它通常只是一个“apt-get”（或类似的），你就完成了。
*   我有没有提到在 Linux 中获取和安装一切都更快？

当然，如果您的应用程序很简单并且您不需要关心部署，那么 Windows 就可以了。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-05T05:52:00.997

虽然使用 Linux 进行 Python 开发有一些好处（例如，一些库只在 Linux 上工作）；没有什么能阻止您使用 Windows 进行*django*工作；我每天都使用它，还没有任何东西出现。

适合您的正确 IDE 将大大有助于使您的开发体验更加愉快。许多人在 Eclipse 中使用[Pydev ；](http://pydev.org)但我更喜欢[PyCharm](http://jetbrains.com/pycharm)

许多教程将向您展示 Linux 或 Mac 桌面（和 shell），您可以通过安装获得等效的命令（如`touch`和`ls`其他命令）[`unixtools`](http://unxutils.sourceforge.net/)——它们是常用 unix 工具的本机版本。

您应该为这个网站添加书签，[该网站](http://www.lfd.uci.edu/~gohlke/pythonlibs/)有用于常见 Python 库的 Windows 安装程序。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-05T05:56:26.283

这取决于你最喜欢什么操作系统。您可以使用带有 pydev(included) 的 Aptana 3 进行开发。

开发时请记住使用“os”python lib 作为 dirs 的路径，这样您的应用程序将在 windows 和 linux 下正常工作。

例如：

```
PROJECT_DIR = os.path.dirname(os.path.abspath(__file__))

MEDIA_ROOT = os.path.join(PROJECT_DIR, 'site_media') 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-05T07:10:10.200

我通常在我的桌面上使用 OSX，但我使用 Linux for Python，因为这就是它的部署方式。具体来说，我在虚拟机中使用 Ubuntu Desktop 来开发 Python 应用程序，并在服务器上使用 Ubuntu 来部署它们。这意味着当我准备好部署应用程序时，我对库和模块要求/依赖关系的理解可以 100% 转移到服务器上。

如果我使用 OSX（或 Windows）来开发 Python 应用程序，我将不得不处理两种不同的方法来处理需求和依赖关系——这实在是太多的工作了。

我的建议：使用 VMWare Player（它是免费的）并找到一个 Ubuntu VM 开始学习。它并不太复杂，实际上很有趣。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-05T05:51:05.313

django是纯python编写的，所以使用Windows + Eclipse + PyDev进行开发就足够了。

如果您真的想使用一些 Linux 命令跟随酷人，请安装[cygwin](http://www.cygwin.com/)或[mingWin](http://www.mingw.org/)并将系统 PATH 设置为 BIN 指令。然后，您可以使用它们（包括您的**touch**）。

Linux 是部署 django 项目的最佳选择，您可以在其中轻松编译/安装/配置一些很酷的东西，例如 nginx、uWSGI、mod_wsgi、Apache2 和许多有用的 Python C 扩展。

使用 Linux 的另一个原因是用于托管项目的虚拟专用服务器更有可能支持它。

# java - 写入现有 Excel 文件

> ID：11338383
> 
> 赞同：7
> 
> 时间：2012-07-05T05:43:33.260
> 
> 标签：java, jxl, jxls

```
 package jexcel.jxl.nimit;

    import java.awt.Label;  
    import java.io.File;  
    import java.io.IOException;

    import jxl.Cell;   
    import jxl.CellType;  
    import jxl.LabelCell;  
    import jxl.NumberCell;  
    import jxl.Sheet;  
    import jxl.Workbook;  
    import jxl.read.biff.BiffException;  
    import jxl.write.WritableCell;  
    import jxl.write.WritableSheet;  
    import jxl.write.WritableWorkbook;  
    import jxl.write.WriteException;  
    import jxl.write.biff.RowsExceededException;  

    public class ExcelJxl {

    /**
     * @param args
     * @throws IOException 
     * @throws BiffException 
     * @throws WriteException 
     * @throws RowsExceededException 
     */
    public static void main(String[] args) throws BiffException, IOException, RowsExceededException, WriteException {
        // TODO Auto-generated method stub
             ExcelJxl.WriteFile("D:\nimit.xls");
    }

    public static void WriteFile(String path) throws BiffException, IOException, RowsExceededException, WriteException{

    Workbook wb=Workbook.getWorkbook(new File(path));

    WritableWorkbook copy=Workbook.createWorkbook(new File("D:\temp.xls"),wb);
    WritableSheet sheet = copy.getSheet(1); 
    WritableCell cell = sheet.getWritableCell(0,0); 
    String S="nimit";
    if (cell.getType() == CellType.LABEL) 
    { 
      LabelCell l = (LabelCell) cell; 
      l.setString(S); 
    }
    copy.write(); 
    copy.close();
    wb.close();

    }
   } 
```

我已经编辑了我的程序，现在它说 setString()**方法 setString(String) 未定义类型 LabelCell**我阅读了文档，在 LabelCell 类型中有一个方法 setString。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-19T05:15:24.280

LabelCell 只是一个只有一种方法的接口，`getString()`您可以[在此处了解更多信息](http://jexcelapi.sourceforge.net/resources/javadocs/2_6_10/docs/jxl/LabelCell.html)

你应该`jxl.write.Label`改用。
您应该做的如下
您应该导入以下文件

```
import jxl.write.Label 
```

然后以下是将所需位置的单元格添加到excel文件的代码

```
Workbook existingWorkbook = Workbook.getWorkbook(new File(fileToEdit.getAbsolutePath()));
WritableWorkbook workbookCopy = Workbook.createWorkbook(new File("output.xls"), existingWorkbook);
WritableSheet sheetToEdit = workbookCopy.getSheet(sheetName);
WritableCell cell;
Label l = new Label(currentColumn, currentRow, value);
cell = (WritableCell) l;
sheetToEdit.addCell(cell);
 workbookCopy.write();
 workbookCopy.close();
 existingWorkbook.close(); 
```

`currentColumn`并`currentRow`定义索引和值包含要放置在该单元格中的字符串。

希望能帮助到你

# javascript - 如何将 URL 放入链接中？

> ID：11338385
> 
> 赞同：0
> 
> 时间：2012-07-05T05:43:35.673
> 
> 标签：javascript, html, google-maps

所以我遇到的问题是在谷歌地图信息窗口中。在 infoWindow 中，我想显示路线链接，但无法显示链接。显示我正在考虑使用的链接时

```
https://maps.google.com/maps?q= 
```

并将编码的地址添加到其中。

这是 JavaScript 代码。我使用 encodeURIComponenet 添加到 url 的末尾。

```
for (var i = 0; i < markers.length; i++) {
      var name = markers[i].getAttribute("name");
      var address = markers[i].getAttribute("address");
      var url = "https://maps.google.com/maps?q="+encodeURIComponent(address);
      var html = '<b>' + name + '</b> <br/>' + address+'<br/>' + '<a href="??";>Directions</a>';      

function bindInfoWindow(marker, map, infoWindow, html) {
  google.maps.event.addListener(marker, 'click', function() {
    infoWindow.setContent(html);
    infoWindow.open(map, marker);
  });
} 
```

我不知道如何在 href 中显示 url，因为我知道在 PHP 中我可以回显它并且它会起作用。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T05:47:14.117

你只需要小心你的引号和双引号。这应该有效（如果 url 是有效的 url...）

```
var html = '<b>' + name + '</b> <br/>' + address+'<br/>' + '<a href="'+url+'">Directions</a>'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T05:47:43.363

不应该只是字符串连接吗？

```
var html = '<b>' + name + '</b> <br/>' + address+'<br/>' + '<a href="' + url + '";>Directions</a>'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T05:50:22.137

```
var html = '<b>' + name + '</b> <br/>' + address+'<br/>' + 'Directions'.link(url); 
```

# java - 网络编程中有什么样的套接字或方法来创建 voip 或在线游戏

> ID：11338386
> 
> 赞同：0
> 
> 时间：2012-07-05T05:43:40.110
> 
> 标签：java, android, mysql, sockets, networking

我目前正在学习使用 java 的套接字。我正在学习 TCP 套接字和 UDP 套接字，包括多播套接字。我只是想知道，还有哪些其他类型的套接字或网络机制可以用来制作 voip 和实时在线游戏等？哪一种最常用于行业？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:49:05.297

简短的回答，如果你能容忍任何数据包丢失，UDP 会更好，否则 TCP。基于这个原理，voip一般使用UDP（用于数据包而不是控制包）。

# java - 简单的乘法程序 GUI 出错了。爪哇

> ID：11338402
> 
> 赞同：0
> 
> 时间：2012-07-05T05:45:50.823
> 
> 标签：java, user-interface

所以我尝试制作一个简单的“区域查找器”程序。它基于文本工作，但是当我添加 GUI 时它会出错，我不知道是什么原因造成的。对不起，如果我的拼写错误，我不是最伟大的拼写者。

**代码**

```
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.*;

public class AF implements ActionListener {

    double length;
    double width;
    double answer;

    JTextField twidth = null;
    JTextField tlength = null;

    void AFWindow() {

        JFrame AFwindow = new JFrame();
        JPanel pan2 = new JPanel(new GridBagLayout());
        AFwindow.setVisible(true);
        AFwindow.setSize(250, 150);
        AFwindow.setResizable(false);
        GridBagConstraints c = new GridBagConstraints();
        AFwindow.add(pan2);
        pan2.setBackground(Color.LIGHT_GRAY);

        c.gridx = 0;
        c.gridy = 5;
        JTextField tlength = new JTextField();
        tlength.setText("    Length    ");
        pan2.add(tlength, c);

        c.gridx = 0;
        c.gridy = 0;
        JTextField twidth = new JTextField();
        twidth.setText("     Width     ");
        pan2.add(twidth, c);

        JButton Find = new JButton("Ok");

        c.gridx = 0;
        c.gridy = -5;
        pan2.add(Find);
        Find.addActionListener(this);
        Find.setActionCommand("ok");
    }

    public void actionPerformed(ActionEvent e) {
        if (e.getActionCommand().equalsIgnoreCase("ok")) {
            try {
                this.length = Double.parseDouble(tlength.getText());
                this.width = Double.parseDouble(twidth.getText());

            } catch (NumberFormatException ex) {
                System.out.println("There was an issue!");
            }
        }
    }

    int area = (int) (length * width);

    public void answer() {
        JFrame answer = new JFrame();
        answer.setVisible(true);
        answer.setBackground(Color.yellow);
        JPanel pan2 = new JPanel();
        JLabel howanswer = new JLabel("Your answer is" + area
                + "We got this by multiplaying the length and width");
        pan2.add(howanswer);
    }
} 
```

**错误**

```
Exception in thread "AWT-EventQueue-0" java.lang.NullPointerException
    at AF.actionPerformed(AF.java:53)
    at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)
    at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)
    at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)
    at javax.swing.DefaultButtonModel.setPressed(Unknown Source)
    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)
    at java.awt.Component.processMouseEvent(Unknown Source)
    at javax.swing.JComponent.processMouseEvent(Unknown Source)
    at java.awt.Component.processEvent(Unknown Source)
    at java.awt.Container.processEvent(Unknown Source)
    at java.awt.Component.dispatchEventImpl(Unknown Source)
    at java.awt.Container.dispatchEventImpl(Unknown Source)
    at java.awt.Component.dispatchEvent(Unknown Source)
    at java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)
    at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)
    at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)
    at java.awt.Container.dispatchEventImpl(Unknown Source)
    at java.awt.Window.dispatchEventImpl(Unknown Source)
    at java.awt.Component.dispatchEvent(Unknown Source)
    at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
    at java.awt.EventQueue.access$000(Unknown Source)
    at java.awt.EventQueue$3.run(Unknown Source)
    at java.awt.EventQueue$3.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
    at java.awt.EventQueue$4.run(Unknown Source)
    at java.awt.EventQueue$4.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
    at java.awt.EventQueue.dispatchEvent(Unknown Source)
    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
    at java.awt.EventDispatchThread.run(Unknown Source) 
```

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:06:23.740

在你的课堂上，你有：

```
JTextField tlength = null;
JTextField twidth = null; 
```

然后在构造函数中你有：

```
JTextField tlength = new JTextField();
tlength.setText("    Length    ");
pan2.add(tlength, c);
...
JTextField twidth = new JTextField();
twidth.setText("     Width     ");
pan2.add(twidth, c); 
```

这些`tlength`以及`twidth`您声明并添加到 JPanel 的这些只是该构造函数范围内的局部变量。该`actionPerformed`方法改为引用*类*的实例变量`tlength`and `twidth`，它们仍然为空，因为它们从未被实例化。所以当你尝试调用时`tlength.getText()`，你会抛出一个 NullPointerException。

要修复，`JTextField tlength = new JTextField();`请将构造函数中的行更改为`tlength = new JTextField();`. 对线做同样的事情`JTextField twidth = ...`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:01:09.710

你得到 a`NullPointerException`因为你打电话`tlength.getText()`when `tlength`is `null`。你会遇到同样的问题`twidth`。

要解决此问题，请在触发操作之前实例化这些变量。

具体来说，进行以下更改。

```
JTextField tlength = new JTextField();
JTextField twidth = new JTextField();
// Update the lines above to the following.
this.tlength = new JTextField();
this.twidth = new JTextField(); 
```

罗迪很好地解释了为什么这些特殊变化是相关的。

# javascript - 正文加载创建空白页面

> ID：11338403
> 
> 赞同：0
> 
> 时间：2012-07-05T05:45:57.657
> 
> 标签：javascript, jsp, jakarta-ee, struts

我试图在下拉列表中显示过去三个月。我创建了一个 JavaScript 函数并在 body 元素的`Onload`属性中调用它，但我得到一个空白页面，日志中没有错误。

下面是 JSP：

```
<%@ page import="java.util.Collection" %>
<%@ taglib uri="/WEB-INF/struts-logic.tld" prefix="logic"%>
<%@ taglib uri="/WEB-INF/struts-html.tld" prefix="html" %>
<%@ taglib uri="/WEB-INF/struts-bean.tld" prefix="bean" %>
<%@ taglib uri="/WEB-INF/displaytag-12.tld" prefix="display"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %> 

<%@page buffer="16kb"%>

<script type="text/javascript">
function addOption(selectbox,text,value )
{
    var optn = document.createElement("OPTION");
    optn.text = text;
    optn.value = value;
    selectbox.options.appendChild(optn);
}

function OnloadPage()
{
    alert('Here');
    var date=new Date();
    addOption(document.forms[0].month,date.getMonth(),date.getMonth());
    addOption(document.forms[0].month,date.getMonth()-1,date.getMonth()-1);
    addOption(document.forms[0].month,date.getMonth()-2,date.getMonth()-2);
    }
</script>
<TABLE class="ReportFilter">

        <TR>
            <TD colspan="2">&nbsp;</TD>
        </TR>
</TABLE>
<body onload="OnloadPage()">
<html:form action="/zeroScoreReport.do">

<html:select property="month" name ="month" style="width:175;">
    <html:option value="-1">--Please Select--</html:option>
</html:select>
    <display:table name="scoreCardCol" pagesize="20" sort="list" id="data" requestURI="" class="tablelist" export="true">
            <display:setProperty name="export.csv" value="false"/>
        <display:setProperty name="export.xml" value="false"/>
        <display:setProperty name="export.excel.filename">ZeroDefectScoreCard.xls</display:setProperty>

            <display:column title="ZONE" property="zone" /> 
            <display:column title="TM OPS NAME" sortable="true" property="tm_ops_name"></display:column>
            <display:column title="RPCT BRANCH CODE" sortable="true" property="rcpt_branch_code"></display:column>
            <display:column title="SUM TOT APP" sortable="true" property="sum_totapp"></display:column>
            <display:column title="SUM ERROR APP" sortable="true" property="sum_error_app"></display:column>
            <display:column title="SUM ZERO DEF APP" sortable="true" property="sum_zero_def_app"></display:column>

    </display:table>
</html:form> 
```

编辑：更改一些代码后，现在我在日志中收到以下错误：

```
ServletException in '/jsp/zero/frm_ZeroScoreCard.jsp': javax.servlet.jsp.JspException: Cannot find bean under name month
org.apache.jasper.JasperException: An exception occurred processing JSP page /jsp/zero/frm_ZeroScoreCard.jsp at line 38 
```

尽管添加了表单bean：

```
private String month="";
public String getMonth() {
        return month;
    }
    public void setMonth(String month) {
        this.month = month;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:48:51.197

改`add`到`appendChild`这里：

```
selectbox.options.add(optn); 
```

所以应该是：

```
selectbox.options.appendChild(optn); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:05:37.170

添加`<script type="text/javascript">`而不是`<script>`

可能会有所不同 许多错误，例如您的页面中未使用 html 标记 请提供完整的 JSP 以检查和您测试的浏览器

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T07:38:07.233

`name`属性 in`<html:select>`应该是名称，`formbean`并且要在 javascript 中引用它，应该使用`styleId`.

所以代码看起来像

```
<html:select styleId="monthh" property="monthh" name ="initiationfrm" style="width:175;"> 
```

# php - 在mysql中用日期重命名outfile

> ID：11338404
> 
> 赞同：6
> 
> 时间：2012-07-05T05:45:59.620
> 
> 标签：php, mysql, csv, export, file-io

如何使用 concat 函数重命名文件名？我想要我的文件名和日期，谁能帮我解决这个问题。

```
SET @OUTFILE = CONCAT( CONCAT('/xampp/htdocs/mysite/reports-', NOW()), '.csv');

SELECT * FROM `tbl_user` INTO OUTFILE  @OUTFILE FIELDS TERMINATED BY ','ENCLOSED BY '"' LINES TERMINATED BY '\n' 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-05T05:52:35.177

您可以执行[以下](http://bugs.mysql.com/bug.php?id=13870)操作：

```
SET @sql_text = 
   CONCAT (
       "SELECT * FROM `tbl_user` into outfile '/xampp/htdocs/mysite/reports-"
       , DATE_FORMAT( NOW(), '%Y%m%d')
       , ".csv'"
    );

PREPARE s1 FROM @sql_text;
EXECUTE s1;
DROP PREPARE s1; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:49:19.417

您应该使用[准备好的语句](http://dev.mysql.com/doc/refman/5.1/en/sql-syntax-prepared-statements.html)。构建一个查询字符串，然后执行它。

# regex - 包含小于或等于 20 的数字的正则表达式

> ID：11338405
> 
> 赞同：0
> 
> 时间：2012-07-05T05:46:11.463
> 
> 标签：regex

如果字符串包含小于或等于 20 的数字并且只允许使用数字，我需要正则表达式将返回 true。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T05:54:19.197

假设您匹配的数字是：

*   整数
*   在 [0,20] 范围内

这应该工作：`^(([01]?[0-9])|(20))$`.

如果你正在匹配浮点数，事情会变得有点混乱。理想情况下，检查数字范围应始终通过平台的数字运算符完成。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T05:57:27.753

**这将匹配小于或等于 20 的整数**

```
(?:\b|-)0*([0-9]|1[0-9]|20)\b 
```

**解释**

```
(?:            # Match the regular expression below
                  # Match either the regular expression below (attempting the next alternative only if this one fails)
      \b             # Assert position at a word boundary
   |              # Or match regular expression number 2 below (the entire group fails if this one fails to match)
      -              # Match the character “-” literally
)
0              # Match the character “0” literally
   *              # Between zero and unlimited times, as many times as possible, giving back as needed (greedy)
(              # Match the regular expression below and capture its match into backreference number 1
                  # Match either the regular expression below (attempting the next alternative only if this one fails)
      [0-9]          # Match a single character in the range between “0” and “9”
   |              # Or match regular expression number 2 below (attempting the next alternative only if this one fails)
      1              # Match the character “1” literally
      [0-9]          # Match a single character in the range between “0” and “9”
   |              # Or match regular expression number 3 below (the entire group fails if this one fails to match)
      20             # Match the characters “20” literally
)
\b             # Assert position at a word boundary 
```

**访问[这里](http://utilitymill.com/utility/Regex_For_Range)以了解未来的问题。**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T05:54:55.200

我不知道支持正则表达式的语言。我将假设它使用 PCRE 的一些变体。

这里的代码是严格验证字符串**只**包含数字。

只有整数，假设非负数，没有前导 0：

```
^(1?\d|20)$ 
```

只有整数，假设非负，允许任意前导 0：

```
^0*(1?\d|20)$ 
```

任何整数，没有前导 0：

```
^(+?(1?\d|20)|-\d+)$ 
```

任何整数，允许任意前导 0：

```
^(+?0*(1?\d|20)|-\d+)$ 
```

如果数字不是任意大，最好使用松散的正则表达式捕获数字`\b[+-]?\d+(\.\d*)?\b`，然后将其转换为数字并检查它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-12-15T20:06:12.937

`(\b[0-9]\b|\b1[0-9]\b|\b20\b)` 为我工作

只有整数，假设非负数，没有前导 0

我曾经找到小于 20 的百分比，所以它最终是：

`(\b[0-9]%|\b1[0-9]%|\b20%)`

# asp.net - 如何解决对象空错误？

> ID：11338406
> 
> 赞同：0
> 
> 时间：2012-07-05T05:46:19.407
> 
> 标签：asp.net, session, object, null

我有一种情况，我正在为会话分配一些值。我有这种代码重复调用的情况。有时，此代码会引发对象 null 的错误。我不明白为什么在我为其赋值时会发生这种情况。我的代码是

```
 if (HttpContext.Current.Cache["Cache"] == null)
            {
                CreateChanhe();
                DataTable dtcache= HttpContext.Current.Cache["HNS Connection"] as DataTable; //CreateConnectString(CCMMUtility.Encryptdata(txtPin.Text));
                string sqlFilter = "Sp = '" + classses.DecryptString(HttpContext.Current.Request.Cookies["Cookies"].Values["sp"].ToString(), classses.SP) + "'";
                DataRow[] dr = dtcache.Select(sqlFilter);
                if (dr.Length > 0)
                {
                    String[] Con = new String[2];
                    Con[0] = dr[0][0].ToString();
                    Con[1] = dr[0][1].ToString();
                    sp= Con[1]; 
                    HttpContext.Current.Session["Name"] = dr[0][2].ToString();
                }
            } 
```

当我在调试时尝试执行“添加手表”时，它说“值”有一些值，但**HttpContext.Current.Session["Name"]**为空。有人可以让我知道为什么会这样。

实际上我正在创建一个缓存，然后从该缓存中填充会话。这是基于我的要求。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:01:48.707

我怀疑那`dr[0][2]`是空的，所以当你调用`.ToString()`它时，你会得到一个 NRE。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:03:02.157

那 HttpContext.Current 是空的吗？如果是这样，请像这样围绕它进行空检查：

```
if (HttpContext.Current != null)
{
 if (HttpContext.Current.Cache["Cache"] == null)
            {
                CreateChanhe();
                DataTable dtcache= HttpContext.Current.Cache["HNS Connection"] as                        DataTable; //CreateConnectString(CCMMUtility.Encryptdata(txtPin.Text));
                string sqlFilter = "Sp = '" + classses.DecryptString(HttpContext.Current.Request.Cookies["Cookies"].Values["sp"].ToString(), classses.SP) + "'";
                DataRow[] dr = dtcache.Select(sqlFilter);
                if (dr.Length > 0)
                {
                    String[] Con = new String[2];
                    Con[0] = dr[0][0].ToString();
                    Con[1] = dr[0][1].ToString();
                    sp= Con[1]; 
                    HttpContext.Current.Session["Name"] = dr[0][2].ToString();
                }
            }
} 
```

# php - UPS Shipping API 集成错误 (PHP)

> ID：11338408
> 
> 赞同：2
> 
> 时间：2012-07-05T05:46:23.743
> 
> 标签：php, object, ups, soapfault

我从 UPS.com 下载了 ShippingGroundFreightWebService PHP 示例。我收到以下错误消息：

```
 SoapFault Object
(
  [message:protected] => An exception has been raised as a result of client data.
  [string:private] => 
[code:protected] => 0
[file:protected] => /home5/vizparts/public_html/PHP/SoapGroundFreightShipClient.php
[line:protected] => 193
[trace:private] => Array
    (
        [0] => Array
            (
                [file] => /home5/vizparts/public_html/PHP/SoapGroundFreightShipClient.php
                [line] => 193
                [function] => __soapCall
                [class] => SoapClient
                [type] => ->
                [args] => Array
                    (
                        [0] => ProcessShipment
                        [1] => Array
                            (
                                [0] => Array
                                    (
                                        [Request] => Array
                                            (
                                                [RequestOption] => Array
                                                    (
                                                        [0] => 1
                                                        [1] => Shipping
                                                    )

                                            )

                                        [Shipment] => Array
                                            (
                                                [ShipFrom] => Array
                                                    (
                                                        [Name] => Pat Stewart
                                                        [TaxIdentification] => 1234567890
                                                        [Address] => Array
                                                            (
                                                                [AddressLine] => 2311 York Road
                                                                [City] => Timonium
                                                                [StateProvinceCode] => MD
                                                                [PostalCode] => 21093
                                                                [CountryCode] => US
                                                            )

                                                        [AttentionName] => String
                                                        [Phone] => Array
                                                            (
                                                                [Number] => 6785851000
                                                                [Extension] => 123
                                                            )

                                                    )

                                                [ShipperNumber] => 222006
                                                [ShipTo] => Array
                                                    (
                                                        [Name] => Superman
                                                        [Address] => Array
                                                            (
                                                                [AddressLine] => 2010 Warsaw Road
                                                                [StateProvinceCode] => GA
                                                                [PostalCode] => 30076
                                                                [CountryCode] => US
                                                                [City] => Roswell
                                                            )

                                                        [AttentionName] => String
                                                        [Phone] => Array
                                                            (
                                                                [Number] => 6785851000
                                                                [Extention] => 111
                                                            )

                                                    )

                                                [PaymentInformation] => Array
                                                    (
                                                        [Payer] => Array
                                                            (
                                                                [Name] => Superman
                                                                [Address] => Array
                                                                    (
                                                                        [AddressLine] => 2010 Warsaw Road
                                                                        [City] => Roswell
                                                                        [StateProvinceCode] => GA
                                                                        [PostalCode] => 30075
                                                                        [CountryCode] => US
                                                                    )

                                                                [ShipperNumber] => 00613270
                                                                [AttentionName] => String
                                                                [Phone] => Array
                                                                    (
                                                                        [Number] => 6785851000
                                                                    )

                                                            )

                                                        [ShipmentBillingOption] => Array
                                                            (
                                                                [Code] => 10
                                                                [Description] => String
                                                            )

                                                    )

                                                [Service] => Array
                                                    (
                                                        [Code] => 308
                                                        [Description] => String
                                                    )

                                                [HandlingUnitOne] => Array
                                                    (
                                                        [Quantity] => 16
                                                        [Type] => Array
                                                            (
                                                                [Code] => PLT
                                                                [Description] => String
                                                            )

                                                    )

                                                [Commodity] => Array
                                                    (
                                                        [CommodityID] => 22
                                                        [Description] => BUGS
                                                        [Weight] => Array
                                                            (
                                                                [UnitOfMeasurement] => Array
                                                                    (
                                                                        [Code] => LBS
                                                                        [Description] => String
                                                                    )

                                                                [Value] => 511.25
                                                            )

                                                        [Dimensions] => Array
                                                            (
                                                                [UnitOfMeasurement] => Array
                                                                    (
                                                                        [Code] => IN
                                                                        [Description] => String
                                                                    )

                                                                [Length] => 1.25
                                                                [Width] => 1.2
                                                                [Height] => 5
                                                            )

                                                        [NumberOfPieces] => 1
                                                        [PackagingType] => Array
                                                            (
                                                                [Code] => PLT
                                                                [Description] => String
                                                            )

                                                        [CommodityValue] => Array
                                                            (
                                                                [CurrencyCode] => USD
                                                                [MonetaryValue] => 265.2
                                                            )

                                                        [FreightClass] => 60
                                                        [NMFCCommodityCode] => 566
                                                    )

                                                [Reference] => Array
                                                    (
                                                        [Number] => Array
                                                            (
                                                                [Code] => PM
                                                                [Value] => 1651651616
                                                            )

                                                        [BarCodeIndicator] => Array
                                                            (
                                                                [NumberOfCartons] => 5
                                                                [Weight] => Array
                                                                    (
                                                                        [UnitOfMeasurement] => Array
                                                                            (
                                                                                [Code] => LBS
                                                                                [Description] => String
                                                                            )

                                                                        [Value] => 2
                                                                    )

                                                            )

                                                    )

                                            )

                                    )

                            )

                    )

            )

    )

[faultstring] => An exception has been raised as a result of client data.
[faultcode] => Client
[faultcodens] => http://schemas.xmlsoap.org/soap/envelope/
[detail] => stdClass Object
    (
        [Errors] => stdClass Object
            (
                [ErrorDetail] => stdClass Object
                    (
                        [Severity] => Hard
                        [PrimaryErrorCode] => stdClass Object
                            (
                                [Code] => 9121000
                                [Description] => Invalid Ship Request Document
                            )

                    )

            )

    )

) 
```

我想将 UPS API 集成到我自己的网站中。我想打印运输标签。如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T02:07:16.893

你应该设置请求xsd文件，在你下载的包的其他文件夹中找到它。然后用它设置请求文件。

# linux - 如何在shell bash脚本中使用if来查看文件是否有后缀

> ID：11338410
> 
> 赞同：0
> 
> 时间：2012-07-05T05:46:32.633
> 
> 标签：linux, bash, shell, ubuntu

如果[xxx]

如何表达字符串或文件包含'.'

我是学习shell的新手，感谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T05:53:00.273

您可以使用匹配运算符：

```
$ if [[ "abc.def" =~ \. ]]; then echo "yes"; else echo "no"; fi
yes

$ if [[ "abcdef" =~ \. ]]; then echo "yes"; else echo "no"; fi
no 
```

如果点是字符串中的第一个或最后一个（或唯一一个）字符，则匹配。如果您希望点的两边都有字符，您可以执行以下操作：

```
$ if [[ "ab.cdef" =~ .\.. ]]; then echo "yes"; else echo "no"; fi
yes

$ if [[ ".abcdef" =~ .\.. ]]; then echo "yes"; else echo "no"; fi
no

$ if [[ "abcdef." =~ .\.. ]]; then echo "yes"; else echo "no"; fi
no 
```

您还可以使用模式匹配：

```
$ if [[ "ab.cdef" == *?.?* ]]; then echo "yes"; else echo "no"; fi
yes

$ if [[ ".abcdef" == *?.?* ]]; then echo "yes"; else echo "no"; fi
no

$ if [[ "abcdef." == *?.?* ]]; then echo "yes"; else echo "no"; fi
no 
```

[Greg's Wiki](http://mywiki.wooledge.org/BashGuide/Patterns)上有一个很好的关于模式和正则表达式的参考资料

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:58:40.927

`bash`支持 glob 样式的模式匹配：

```
if [[ "$file" = *?.?* ]]; then
   ...
fi 
```

请注意，这也假定了一个*前缀*- 这也确保它不会与`.`and`..`目录匹配。

如果要检查*特定*扩展名：

```
if [[ "$file" = *?.foo ]]; then
   ...
fi 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-07-05T05:54:40.227

```
echo "xxx.yyy" | grep -q '\.'
if [ $? = 0 ] ; then
    # do stuff
fi 
```

或者

```
echo "xxx.yyy" | grep -q '\.' && <one statement here>
#e.g.
echo "xxx.yyy" | grep -q '\.' && echo "got a dot" 
```

# python - 与 Python 子进程混淆

> ID：11338415
> 
> 赞同：1
> 
> 时间：2012-07-05T05:47:41.397
> 
> 标签：python, subprocess

我正在尝试从 Python 中运行一些外部可执行代码，然后使用输出。我正在使用的代码需要一个外部文件并返回一个数字（该文件中编码的图像数）。当我从命令行运行时，我看到以下内容：

```
me@ubuntu:~/nist/hsfsys/bin$ ./nummis  /usr/local/hsfsys/data/by_class/4a/train_4a.mis 
3962 
```

据我所知，3962 是正确的输出

但是，当我尝试在 Python 中使用 subprocess 时，出现以下错误：

```
me@ubuntu:~/nist/hsfsys/bin$ python
Python 2.7.3 (default, Apr 20 2012, 22:39:59) 
[GCC 4.6.3] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import subprocess
>>> subprocess.check_output(["./nummis","/usr/local/hsfsys/data/by_class/4a/train_4a.mis"])
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
File "/usr/lib/python2.7/subprocess.py", line 544, in check_output
raise CalledProcessError(retcode, cmd, output=output)
subprocess.CalledProcessError: Command '['./nummis', '/usr/local/hsfsys/data/by_class/4a/train_4a.mis']' returned non-zero exit status 32
>>> subprocess.call(["./nummis","/usr/local/hsfsys/data/by_class/4a/train_4a.mis"])
3962
32 
```

我应该如何解释这个“非零退出状态 32”？如果有问题，为什么我在命令行上看不到？如果一切正常，为什么 Python 会抱怨？我怎样才能让它停止抱怨？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T05:50:19.620

命令行仅在明确要求时才报告退出状态。

从命令行调用程序后，尝试

```
echo $? 
```

为了显示退出状态。如果它也显示`32`出来，那就是被调用的程序是有罪的。它不正确`return 0;`或`return EXIT_SUCCESS;`在其`main()`.

# c# - 无法将类型“System.Nullable`1”转换为类型“System.Object”-ASP.NET MVC

> ID：11338420
> 
> 赞同：10
> 
> 时间：2012-07-05T05:48:04.460
> 
> 标签：c#, asp.net-mvc, linq

**错误**

```
Unable to cast the type 'System.Nullable`1' to type 'System.Object'.
 LINQ to Entities only supports casting Entity Data Model primitive types. 
```

这是我得到的错误。

**控制器**-

```
 public ActionResult FixturesAll()
 {
     teamMgr = new TeamManager();
     fixtureMgr = new FixtureManager();

     var team = teamMgr.GetTeams();
     var viewModel = new TeamIndexViewModel()
     {
          Teams = team.ToList(),
          NumberOfTeams = team.Count()
     };

     var fixtures = from fixtures in Oritia_entities.Fixtures
                    where fixtures.SeasonId == seasionID
                    select new FixtureModel
                    {

                        Team1 = "",
                        Team2 = "",
                        Winners = (fixtures.TeamWon+""),
                        FirstBattingTeam = (fixtures.FirstBattingTeam+""),
                        SecondBattingTeam = (fixtures.SecondBattingTeam+""),
                        Team1Score = fixtures.Team1Score + "",
                        Team1Wickets = fixtures.Team1Wickets + "",
                        Team2Score = fixtures.Team2Score + "",
                        Team2Wickets = fixtures.Team2Wickets + ""
                    };

      ViewData["Fixtures"] = fixtures;
      return View(viewModel);
 } 
```

**局部视图**

```
<%@ Control Language="C#" Inherits=
"System.Web.Mvc.ViewUserControl<IEnumerable<DataAccess.FixtureModel>>" %>
    <table>
    <% foreach (var item in ViewData["Fixtures"]
 as IEnumerable<DataAccess.FixtureModel>) // Here I am getting the error
       { %>
          <tr>                 
            <td>
                <%: item.Team1 %>
            </td>
            <td>
                <%: item.Team2 %>
            </td>
          </tr>
   </table> 
```

**看法**

```
<%@ Page Title="" Language="C#" MasterPageFile="~/Views/Shared/Site.Master"
 Inherits="System.Web.Mvc.ViewPage<FunBox.ViewModels.TeamIndexViewModel>" %>
<ul>
    <% foreach (string team in Model.Teams)
       { %>
           <li><a href="<%: team.ToString() %>/">
           <%: team.ToString()  %></a> </li>
    <% } %>
</ul>

<div>
        <% Html.RenderPartial("FixturesAll",ViewData["Fixtures"]); %>
    </div> 
```

**复杂类**

```
 public class TeamIndexViewModel
 {
     public int NumberOfTeams { get; set; }
     public List<String> Teams { get; set; }
 }

 public class FixtureModel
 {
     public string Team1 { get; set; }
     public string Team2 { get; set; }
     public string Winners { get; set; }
     public string Team1Score { get; set; }
     public string Team1Wickets { get; set; }
     public string Team2Score { get; set; }
     public string Team2Wickets { get; set; }
     public string FirstBattingTeam { get; set; }
     public string SecondBattingTeam { get; set; }
 } 
```

**sp_help 装置的输出**

```
Id          bigint (pk)
TeamID1     bigint
TeamID2         bigint
TeamWon         bigint
Date            datetime
SeasonId    bigint
ManOfTheMatch   bigint
FirstBattingTeam    bigint
SecondBattingTeam   bigint
ResultDescription   nvarchar
Team1Score  bigint
Team2Score  bigint
Team1Wickets    bigint
Team2Wickets    bigint 
```

这是我的整体结构，我得到了上述错误。我用谷歌搜索，但我没有得到一个确切的解决方案。非常感谢任何帮助。

*感谢所有人的帮助，我特别感谢[**Jon Skeet**](https://stackoverflow.com/users/22656/jon-skeet)提出的想法*

请查看我更新的查询

```
 var data = from fixtures in Oritia_entities.Fixtures
                   join t1 in Oritia_entities.Teams on new { ID = fixtures.TeamID1 } equals new { ID = t1.ID }
                   join t2 in Oritia_entities.Teams on new { ID = fixtures.TeamID2 } equals new { ID = t2.ID }
                   where fixtures.SeasonId == seasionID
                   select new FixtureModel
                   {
                       Team1 = t1.TeamName,
                       Team2 = t2.TeamName,

                       Winners = SqlFunctions.StringConvert((double)(fixtures.TeamWon ?? 1)),
                       FirstBattingTeam = SqlFunctions.StringConvert((double)(fixtures.FirstBattingTeam ?? 1)),
                       SecondBattingTeam = SqlFunctions.StringConvert((double)(fixtures.SecondBattingTeam ?? 1)),
                       Team1Score = SqlFunctions.StringConvert((double)(fixtures.Team1Score ?? 1)),
                       Team1Wickets = SqlFunctions.StringConvert((double)(fixtures.Team1Wickets ?? 1)),
                       Team2Score = SqlFunctions.StringConvert((double)(fixtures.Team2Score ?? 1)),
                       Team2Wickets = SqlFunctions.StringConvert((double)(fixtures.Team2Wickets ?? 1))

                   }; 
```

我使用[SqlFunctions.StringConvert 转换](http://msdn.microsoft.com/en-us/library/dd487158.aspx)为字符串，现在它可以工作了。谢谢大家。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T05:50:42.160

代替：

```
<% foreach (var item in ViewData["Fixtures"] as IEnumerable<DataAccess.FixtureModel>) 
```

尝试：

```
<% foreach (var item in Model) 
```

还尝试使用以下`.ToList()`方法急切地加载您的实体：

```
ViewData["Fixtures"] = fixtures.ToList(); 
```

您也可以考虑使用视图模型而不是`ViewData`. 它将使您的代码更清晰，您将不再依赖*魔术字符串*。

* * *

更新：

试试这个：

```
var fixtures = Oritia_entities
    .Fixtures
    .Where(f => f.SeasonId == seasionID)
    .ToList()
    .Select(f => new FixtureModel
    {
        Team1 = "",
        Team2 = "",
        Winners = (f.TeamWon+""),
        FirstBattingTeam = (f.FirstBattingTeam+""),
        SecondBattingTeam = (f.SecondBattingTeam+""),
        Team1Score = f.Team1Score + "",
        Team1Wickets = f.Team1Wickets + "",
        Team2Score = f.Team2Score + "",
        Team2Wickets = f.Team2Wickets + ""
    }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T06:33:05.000

尝试重写您的 LINQ 查询：

```
var fixtures = Oritia_entities.Fixtures
    .Where(fixtures => fixtures.SeasonId == seasionID)
    .AsEnumerable()
    .Select(fixtures => new FixtureModel
                    {

                        Team1 = "",
                        Team2 = "",
                        Winners = (fixtures.TeamWon+""),
                        FirstBattingTeam = (fixtures.FirstBattingTeam+""),
                        SecondBattingTeam = (fixtures.SecondBattingTeam+""),
                        Team1Score = fixtures.Team1Score + "",
                        Team1Wickets = fixtures.Team1Wickets + "",
                        Team2Score = fixtures.Team2Score + "",
                        Team2Wickets = fixtures.Team2Wickets + ""
                    }
    )
    .ToList(); 
```

LINQ 查询基本相同，但我在可以转换为 SQL 的最后一个条件之间放置了一个 AsEnumerable() 调用（即 Where(...)，顺便说一句，seasionID 的类型和值是什么？ ) 和 Select(...)。

原因是我认为 L2S 以某种方式试图将 Select(..) 转换为 SQL。不确定它会起作用，但值得一试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T05:59:10.630

在控制器中使用它：

```
 ViewData["Fixtures"] = fixtures.ToArray(); 
```

我不确定，但我认为这就是你的问题所在。如果您不使用*ToArray*，那么您将向视图发送*IQueryable*，这可能会出现问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-05T06:50:05.303

试一试……（虽然 id 稍微调整了 try catch，如果你最终使用它。我不建议抑制错误并且不做任何事情/让它无声无息地死去；P）

```
 public string NullableObjectToString(object obj)
 {
      try
      {
          if (obj == null)
              return "";

          return (obj ?? string.Empty).ToString();
      }
      catch (Exception)
      {
          return "";
      }
  } 
```

然后

```
var fixtures = from fixtures in Oritia_entities.Fixtures
                  where fixtures.SeasonId == seasionID
                  select new FixtureModel
                  {                        
                     Winners = NullableObjectToString(fixtures.TeamWon),
                     FirstBattingTeam = NullableObjectToString(fixtures.FirstBattingTeam) // ..... you get the idea
                  } 
```

# javascript - 使用此 JS 脚本时，Div 保持相同大小

> ID：11338424
> 
> 赞同：-1
> 
> 时间：2012-07-05T05:48:36.060
> 
> 标签：javascript

基本上我有这个 JS 脚本，当单击它时，它会显示更多文本。问题是，它所在的 div 与所有文本都在其中时一样大。我希望 div 仅与文本预览一样大，然后当您单击 + 按钮时，div 会扩展为与所有文本一样大。

以下是未展开时的样子：http: [//puu.sh/FZj6](http://puu.sh/FZj6) 当它展开时：http: [//puu.sh/FZjD](http://puu.sh/FZjD)

如您所见，div 大小始终保持不变。

**JS**

```
function hx(elmnt){document.getElementById(elmnt).style.visibility="hidden";}
function sx(elmnt){document.getElementById(elmnt).style.visibility="visible";} 
```

**HTML**

```
 This is the text that is automatically there. When you click the + to the left, the rest of the text appears. (<a onClick="sx('more')" style="cursor:pointer;" title="Show more">+</a>)

       <div id="more" style="visibility:hidden;">
   <p>(<a onClick="hx('more')" style="cursor:pointer;" title="Show less">-</a>)<br /><br>
       This is the text that appears when the + is clicked. The - above removes this text. When the minus is clicked, the div should restore to original size. 
```

任何帮助，将不胜感激！谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:51:29.113

也可以使用`display`而不是`visibility`删除空白空间；

```
function hx(elmnt){document.getElementById(elmnt).style.display = "none";}
function sx(elmnt){document.getElementById(elmnt).style.display = "block";} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:53:52.863

`height:auto`如果您使用的是固定的，则为您显示内容的主 div制作`height`。

# jquery - 如何在 jquery 中选择字母（大写小写字母）

> ID：11338425
> 
> 赞同：0
> 
> 时间：2012-07-05T05:48:37.673
> 
> 标签：jquery

我有一个文本框，

在那个文本框中我有一些数据示例

`Apple,apple,Bat,boll,Cat,Dog`...

当我输入 A 它显示`Apple,apple`列表和`apple`列表。（即它显示**两个**列表）

所以我编码允许**一个**列表即（`Apple,apple`）

**更新**

```
 var character = causeFirstLetter;
           if (character == character.toUpperCase()) {
                   $(".sidemenu").append("<li>"+"<label style='background-color:#C1CDD9;font-size:20px' align='left' >"+causeFirstLetter+ "</label>"+"</li>"+"<hr style='border:1px solid #EBEBEB'/>");
    } 
```

现在我的问题是当我输入小写字母“a”时它不允许。如何纠正这个问题？

# algorithm - 给定通过图的路径列表，有效地找到使用每条边的路径

> ID：11338429
> 
> 赞同：1
> 
> 时间：2012-07-05T05:49:08.437
> 
> 标签：algorithm, data-structures, memory-efficient

我有一个图表和这个图表中的路径列表。对于每条边`e`，我需要找到使用的路径`e`，然后根据这些路径做一些其他的工作。图的大小和对内存使用的限制使得我不能只遍历所有构建集合数组的路径一次，其中 set`i`包含使用 edge 的路径`i`。

可行的蛮力方法是：

```
for edge in edges:
    x = []
    for path in paths:
        if edge in path:
          x.append(path)
    f(x) 
```

如何在保持内存效率的同时获得更好的时间效率？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T07:06:09.603

你的规格不清楚。你从哪里得到图表和路径？它们是否已经预先计算并存储在磁盘中？是需要在RAM中同时维护图中所有边的路径集，还是可以一一处理，然后释放内存？创建集合时是否存储路径的副本，或者可以索引到单个副本中？

如果您没有足够的 RAM，您可以使用一些在磁盘上运行的数据结构。STXXL库就是这样一个库[。](http://stxxl.sourceforge.net/)

# python - 如何使用 python xmpppy 在 gtalk 中创建 MUC

> ID：11338432
> 
> 赞同：0
> 
> 时间：2012-07-05T05:49:26.897
> 
> 标签：python, xmpp, chat, chatroom, xmpppy

任何人都可以帮助我修复此代码，我真的需要它，但不知道下一步该做什么。我需要创建一个群聊并将messega发送给被邀请的人，现在是example2@gmail.com，但它没有......
有错误吗？

```
#!/usr/bin/python
import sys,os,xmpp,time                                          
jid = 'example1@gmail.com'
psw = 'psw'
jid=xmpp.protocol.JID(jid)
cl=xmpp.Client(jid.getDomain(),debug=[])
cl.connect()
cl.auth(jid.getNode(),psw)
node = jid.getNode()
domain = 'talk.google.com'
room = node + '@' + domain
nroom = room + '/' + 'Maria'
mes = xmpp.Presence(to=nroom) 
cl.sendInitPresence()
cl.send(mes)

NS_MUCUSER = 'http://jabber.org/protocol/muc#user'
invite = xmpp.simplexml.Node('invite')
invite.setAttr('to', 'example2@gmail.com')
invite.setTagData('reason', 'I really need it!') 
mess = xmpp.Message(to=room)
mess.setTag('x', namespace=NS_MUCUSER).addChild(node=invite)
cl.send(mess)

msg = xmpp.protocol.Message(body="Hello there!")
msg.setTo(room)
msg.setType('groupchat')
cl.send(msg)
time.sleep(1)   # some older servers will not send the message if you disconnect immediately after sending
cl.disconnect()
print "Done" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:08:43.983

我发现我的错误。问题是我没有等待足够长的时间从服务器获得答案，我在服务器能够创建聊天室之前邀请了人们。现在我等到我从服务器得到答案，然后发送邀请消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T07:26:31.267

根据规范 - [http://xmpp.org/extensions/xep-0045.html#createroom](http://xmpp.org/extensions/xep-0045.html#createroom) - 发送加入一个不存在的房间的请求应该创建那个房间（或MUC）

> 创建和配置此类房间的工作流程如下：
> 
> ```
> The user sends presence to <room@service/nick> and signal his or her support
> for the Multi-User Chat protocol by including extended presence information 
> in an empty <x/> child element qualified by the 'http://jabber.org/protocol/muc' 
> namespace (note the lack of an '#owner' or '#user' fragment).
> 
> If this user is allowed to create a room and the room does not yet exist, the
> service MUST create the room according to some default configuration, assign the
> requesting user as the initial room owner, and add the owner to the room but not 
> allow anyone else to enter the room (effectively "locking" the room). The initial
> presence stanza received by the owner from the room MUST include extended 
> presence information indicating the user's status as an owner and acknowledging
> that the room has been created (via status code 201) and is awaiting 
> configuration. 
> ```

所以这样的事情*应该*根据文档工作。

```
jid=xmpp.protocol.JID('example@gmail.com')
cl=xmpp.Client(jid.getDomain(),debug=[])

jid = xmpp.protocol.JID('example@gmail.com')
client = xmpp.Client(jid.getDomain(), debug=[])
client.connect()
client.auth(jid.getNode(), 'my secret password')
client.send(xmpp.Presence(to='room@talk.google.com/ANick') 
```

# java - 将可序列化对象写入文件 - Google 云存储

> ID：11338433
> 
> 赞同：0
> 
> 时间：2012-07-05T05:49:33.770
> 
> 标签：java, google-app-engine, google-cloud-storage

在标准 java 中，我可以使用 FileOutputStream 和 ObjectOutputStream 将可序列化对象写入文件，但谷歌云存储不支持它们。使用云存储时是否可以将可序列化对象写入文件？非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T07:01:40.520

您可以将对象序列化为字节数组，然后使用[AppEngine 云存储 API](https://developers.google.com/appengine/docs/java/googlestorage/)将数据存储在云存储中。

# iphone - iPhone 中从 NSObject 到 ViewController 的调用方法

> ID：11338436
> 
> 赞同：1
> 
> 时间：2012-07-05T05:49:40.763
> 
> 标签：iphone, xcode, view, nsobject

我正在从 Facebook 的`FBrequest`类调用一个方法到我的视图控制器类方法已被调用，我`NSLog`也获得了价值。但它不会在模拟器或设备中显示任何内容。甚至还设置了 XIB 中的连接。我不知道为什么会发生这种情况，请帮助我从过去 4 天开始就被困住了。

我正在粘贴我的代码。

**FBRequest.m**

```
ViewController *objView =[ViewController alloc]initWithNibName:@"ViewController" bundle:nil];
[objView MethodCall]; 
```

**视图控制器.m**

```
-(void)MethodCall
{
    UIView *view=[[UIView alloc]initWithFrame:CGRectMake(50, 50, 300, 300)];
    view.backgroundColor=[UIColor redColor];
    [self.view addSubview:view]
} 
```

请帮助我

# c# - 将用户输入的文本原样存储在数据库中 C#

> ID：11338437
> 
> 赞同：1
> 
> 时间：2012-07-05T05:49:46.713
> 
> 标签：c#, asp.net

如何将用户输入的文本原样存储在数据库中。假设如果用户以正确的大小写输入文本，那么数据应该以正确的大小写存储在数据库中。如果用户以大写形式输入文本，则数据应以大写形式存储，同样如此。我正在根据数据库中的用户设置更改文本框样式属性。如果用户设置是正确的，那么使用样式我将文本框属性设置为标题大小写和正确的大小写。但是在存储数据时，无论用户输入的大小写如何，文本都以小写形式输入。

```
CompanyMasterClass cm = new CompanyMasterClass();
    cm.strcompany_code = Request.Cookies["userinfo"]["companycode"];
    ResultClass objress = cm.fn_GetNameNumberStyle();
    if (objress.bStatus)
    {
        eslist<CompanyMasterClass> OBJLISTS = objress.objData as eslist<CompanyMasterClass>;
        if (OBJLISTS.Count > 0)
        {
            ViewState["namestyle"] = OBJLISTS[0].strname_style.ToString();
            if (OBJLISTS[0].strname_style.ToString() == "PC")
            {
                //txtGroupName.Text = "";
                //txtGroupSname.Text = "";
            }
            if (OBJLISTS[0].strname_style.ToString() == "UC")
            {
                txtGroupName.Style.Add("text-transform", "uppercase");
                txtGroupSname.Style.Add("text-transform", "uppercase");
                lblGroupName.Style.Add("text-transform", "uppercase");
            }
            if (OBJLISTS[0].strname_style.ToString() == "UG")
            {
                // txtGroupName.Text = "";
                //txtGroupName.Text = "";
            }
        }
    } 
```

这里我根据用户在数据库中设置的属性来设置文本框样式。

如何将用户输入的文本与案例一起存储在数据库中？

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T06:07:02.233

css 样式`text-transform`仅以这种方式显示代码。它对用户输入的数据没有任何作用。

如果要按照这种格式存储数据，则需要在插入之前在服务器上进行转换。

浏览器不会为您执行此操作。

您必须编写一些服务器代码，例如：

```
if (OBJLISTS[0].strname_style.ToString() == "UC")
{
    var myDbGroup = txtGroupName.Text.ToUpper();
} 
```

# windows-phone-7 - 事件应该只发生在最后一弹

> ID：11338448
> 
> 赞同：0
> 
> 时间：2012-07-05T05:50:42.267
> 
> 标签：windows-phone-7, silverlight-4.0, windows-phone-7.1

我正在使用具有堆栈面板的滚动查看器，其中包含 10 个低质量图像。当图像移动到下一个并在该视图中加载查看图像的高分辨率图像时。问题是连续滑动6次，滚动移动6次，添加高分辨率的方法出现6次并加载视图中的图像。我需要一个想法来等待完成的轻弹几秒钟并执行一次高分辨率添加图像方法。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T06:26:28.413

您可以使用计时器延迟加载高分辨率图像。代码可能如下所示：

```
 DispatcherTimer timer = new DispatcherTimer();

public MainPage()
{
    InitializeComponent();

    timer.Interval = TimeSpan.FromSeconds(1); //You can adjust the delay suitable to your needs
    timer.Tick += new EventHandler(timer_Tick);
}

void handle_Flick(object sender, GestureEventArgs args)
{
   //If timer is not running, start the timer 
   //and do everything else other than loading high-resolution image.
   if(timer.IsEnabled != true)
   {
      //start the timer
      timer.Start();
   }
}

void timer_Tick(object sender, EventArgs e)
{
    //Stop the timer
    timer.Stop();

    //Load the high resolution image
} 
```

# c++ - 矢量自动调整大小在多线程代码中是一种危险情况吗？

> ID：11338449
> 
> 赞同：0
> 
> 时间：2012-07-05T05:50:45.280
> 
> 标签：c++, multithreading, vector, resize, undefined-behavior

> **可能重复：**
> [STL 向量和线程安全](https://stackoverflow.com/questions/4346742/stl-vector-and-thread-safety)

一个简单的例子：

```
struct A {
  int a;
  void set_a (int x)
  {
    ...  // line-1
    ...  // line-2
    this->a = x;  // line-3
  }
};
...
vector<A> v;  // somewhere 
```

假设，`v`在线程 1 和线程 2 中共享。`v.set_a()`总是在线程 1 和`v.push_back()`线程 2 中调用。所以不存在线程安全问题。

以下事件序列会发生什么：

1.  线程 1 调用`v.set_a()`
2.  在第 3 行之前，线程 2 调整向量 ( `push_back()`, `resize()`,...)的大小
3.  当前位置没有足够的连续内存，`v`必须移动到其他位置

它会导致未定义的行为吗？如果是，那么这种情况下最优雅的解决方案是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T05:53:37.647

没有什么可以说矢量调整大小是线程安全的，所以必须假设它不是。在您的示例中，我当然会遇到问题，因为您依赖于许多非原子操作。一个优雅的解决方案是将其简单地包装在一个线程安全的版本中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T07:26:55.523

标准（C++11 和以前的 Posix）对此非常清楚。您正在一个线程中修改一个对象（向量），并从多个线程访问它，因此*所有*访问（包括读取访问）都必须受到保护。（至少我想。 `v.set_a()`不是合法表达 if `v`has type `std::vector<A>`；我猜你的意思是 `v[i].set_a()`，或类似的东西。）

我不确定此处标准的确切措辞，但我认为“修改向量”仅意味着更改其大小的操作，而不是修改单个成员的操作。`v[0] = x`因此，一个线程和另一个线程中的事情在`v[1]`没有同步的情况下是合法的。但是所有对向量中任何对象的访问，都是对向量的访问，所以如果向量的大小发生变化，所有对向量中对象的访问都必须受到保护。这包括“延迟”访问，因为您已经保存了由`v[]`: 返回的引用，例如：

```
int& ri = v[i];
//  ...
doSomethingWithRi(ri); 
```

如果任何线程正在修改向量，则必须保护整个代码块。

# iphone - NSUserDefaults 返回 null

> ID：11338451
> 
> 赞同：0
> 
> 时间：2012-07-05T05:50:53.623
> 
> 标签：iphone, objective-c, ios, nsuserdefaults, uilocalnotification

可以`UILocalNotification`存放在`NSUserDefaults`?

我试图获取该值，但它总是返回 null。

这是尝试获取值的方法

```
-(IBAction)doneClicked:(id)sender
{
    NSUserDefaults *prefx = [NSUserDefaults standardUserDefaults];
    UILocalNotification *oldNotifObj = [prefx objectForKey:@"NotificationObject"];
    NSLog(@"oldNotifObj = %@",oldNotifObj);

    NSLog(@"enable notification");
    if (oldNotifObj == nil)
    {
        [self addNotification];
        NSLog(@"add a new one");
    }
    else
    {
        //if notification exist, remove old one, and add new one.
        [self removeNotification:oldNotifObj];
        [prefx setObject:nil forKey:@"NotificationObject"];
        [self addNotification];
        NSLog(@"remove old notification and add a new one");
    }
} 
```

这是`addNotification`方法

```
-(void)addNotification
{
    //set the notification
    UILocalNotification *localNotif = [[UILocalNotification alloc]init];
    localNotif.fireDate = self.timePicker.date;
    localNotif.repeatInterval = NSDayCalendarUnit;
    localNotif.alertBody = @"Hello world!";
    localNotif.soundName = UILocalNotificationDefaultSoundName;
    [[UIApplication sharedApplication]scheduleLocalNotification:localNotif];

    NSLog(@"localNotif = %@",localNotif);

    //saving notification to prefs    
    NSUserDefaults *prefs = [NSUserDefaults standardUserDefaults];
    [prefs setObject:localNotif forKey:@"NotificationObject"];
    [prefs synchronize];
} 
```

`oldNotifObj`总是返回null 。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T05:53:06.017

是的，它将返回 null。`NSUserDefaults`使用属性列表文件读取和写入默认值，因此它只能管理属性列表类型：`NSString`, `NSNumber`, `NSData`, `NSDate`, `NSArray`, `NSDictionary`.

总而言之，你不能存储`UILocalNotification`in `NSUserDefaults`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:54:56.857

尝试将值手动转换为 NSDictionary 并尝试将其添加到 userdefaults。这解决了这个问题。我的意思是您可以将诸如`localNotif.fireDate` `localNotif.repeatInterval` `localNotif.alertBody` `localNotif.soundName`etc 之类的项目转换为字符串对象并将它们设置为 NSDictionary。因此，您可以将它们保存到 userdefaults 中。`

# c# - 无法加载文件或程序集“AxInterop.DHTMLEDLib，版本=1.0.0.0，文化=中性，PublicKeyToken=a258947a2b308f2f”

> ID：11338452
> 
> 赞同：0
> 
> 时间：2012-07-05T05:51:01.040
> 
> 标签：c#

我正在尝试将它`DHTMLEDITOR`与我的 C# 应用程序与 Windows 7 一起使用（它在 Windows XP 上运行良好），当我尝试添加一个项目或编辑现有项目时，我收到下面提到的错误`DLL AxInterop.DHTMLEDLib,`

```
System.IO.FileLoadException: Could not load file or assembly 
'AxInterop.DHTMLEDLib, Version=1.0.0.0, Culture=neutral,
PublicKeyToken=a258947a2b308f2f' or one of its dependencies. 
The located assembly's manifest definition does not match the 
assembly reference. (Exception from HRESULT: 0x80131040)

File name: 'AxInterop.DHTMLEDLib, Version=1.0.0.0, Culture=neutral,
PublicKeyToken=a258947a2b308f2f' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-04T16:05:00.387

有同样的问题。已通过应用程序可再发行包 (x86) 的 DHTML 编辑控件解决

[http://www.microsoft.com/en-us/download/details.aspx?id=8956](http://www.microsoft.com/en-us/download/details.aspx?id=8956)

# unix - SSH 连接使用的端口时不会超时

> ID：11338455
> 
> 赞同：0
> 
> 时间：2012-07-05T05:51:22.503
> 
> 标签：unix, ssh, connection, port, request-timed-out

我正在尝试与另一台机器建立 ssh 连接，该机器的端口已被其他资源占用

SSH 没有超时

```
> ssh -v -p 8080 10.10.10.10
OpenSSH_4.2p1, OpenSSL 0.9.8a 11 Oct 2005
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: Applying options for *
debug1: Connecting to 10.10.10.10 [ 10.10.10.10 ]
debug1: fd 3 clearing O_NONBLOCK
debug1: Connection established
debug1: identify file /home/abc/.ssh/identity type -1
debug1: identify file /home/abc/.ssh/id_rsa type -1
debug1: identify file /home/abc/.ssh/id_dsa type 2
debug1: ssh_exchange_identification :
debug1: ssh_exchange_identification : \022\\[
debug1: ssh_exchange_identification : \022\\Z
debug1: ssh_exchange_identification : \022\\[
debug1: ssh_exchange_identification : \022\\Z
debug1: ssh_exchange_identification : \022\\[ 
```

机器 10.10.10.10 已启动并正常运行。8080 端口已被其他资源占用。以上日志没有结束。它没有超时。

我尝试使用参数 ConnectTimeout 添加，但行为没有变化。

我期待一些消息

> ssh -v -p 77 10.10.10.10

```
OpenSSH_4.2p1, OpenSSL 0.9.8a 11 Oct 2005
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: Applying options for *
debug1: Connecting to 10.10.10.10 [ 10.10.10.10 ] port 77.
debug1: connect to address 10.10.10.10 port 77 : Connection refused
> 
```

为什么SSH的这种行为。请帮忙 ..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T06:46:16.823

`Connection refused`只有当没有程序在端口 77 上监听时，您才会明白这一点。监听该端口的程序正在等待连接，但它无法理解 ssh 正在发送什么（即 ssh 协议）。

# html - CSS不适用于第二个条目，这里的行有什么问题？

> ID：11338458
> 
> 赞同：0
> 
> 时间：2012-07-05T05:51:32.420
> 
> 标签：html, css

我正在尝试将背景图片（同一张）应用于两个 div 标签：

```
.abc { background: url('images/autogen.png') no-repeat 0px -133px; width: 256px; height: 256px; };

.def { background: url('images/autogen.png') no-repeat 0px -0px; width: 128px; height: 128px; }; 
```

HTML：

```
<html><head><meta charset="utf8"><link href='main.css' rel='stylesheet' type='text/css'' media='all' /></head><body>
<div class="def">def</div>
<div class="abc">abc</div></body></html> 
```

但是只有一个被显示，如果我把 .def 定义放在 .abc 之前，.def 得到显示，而 .abc 没有背景。

![在此处输入图像描述](../Images/5c44731f73cd02b01e408c0ee33ddc2d.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:52:47.037

不要 `;`在你的 CSS 之后使用

**替换**成

```
.abc { 
background: url('images/autogen.png') no-repeat 0px -133px; 
width: 256px;
height: 256px;
};

.def { background: url('images/autogen.png') no-repeat 0px -0px; 
width: 128px;
height: 128px; }; 
```

**这个**

```
 .abc { background: url('images/autogen.png') no-repeat 0px -133px; 
width: 256px; 
height: 256px; }

        .def { background: url('images/autogen.png') no-repeat 0px -0px; 
width: 128px; 
height: 128px; } 
```

更多信息[http://htmlhelp.com/reference/css/structure.html](http://htmlhelp.com/reference/css/structure.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T05:56:07.337

我认为不应该有';' 在花括号之后

```
.abc { background: url('images/autogen.png') no-repeat 0px -133px; width: 256px; height: 256px; }

.def { background: url('images/autogen.png') no-repeat 0px -0px; width: 128px; height: 128px; } 
```

# c++ - 如何在“正向”上移动变换？

> ID：11338470
> 
> 赞同：2
> 
> 时间：2012-07-05T05:52:45.237
> 
> 标签：c++, math, geometry, physics

我想将我的 Transform 向前移动，我直接将它用于我的对象。不只是在特定的轴（例如 z）上向前移动它，有没有办法可以在 Transform 所面对的方向上移动它？例如，默认情况下我会完美地沿着 Z 轴向下，但是，如果我在 Y 轴上旋转我的变换并想要“向前”它不会直接沿着 Z 轴向下，而是在我旋转的方向上一点点它。

我相信我需要计算前向向量，但是，这似乎是我所能找到的。如果那是正确的，或者如何做，我找不到任何东西。如何在具有 4x4 矩阵（行主要）的同时沿“正向”移动变换。

这不是为了我的游戏相机，而只是为了我的游戏对象。为此，我只有我的变换矩阵，它是由我的旋转矩阵、比例矩阵和位置构建的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T21:26:01.450

您可以从矩阵中提取第三列（或行，取决于乘法的顺序），这将是前向（或后向，取决于“向下”的方向）。这将为您提供 z 轴的目标向量。

等效地，您可以将向量`new Vector4(0,0,1,0)`（或`new Vector4(0,0,-1,0)`）与矩阵相乘（或向量与矩阵相乘）。请注意，第四个坐标是零而不是一，因为您不需要任何平移。这将为您提供 z 轴转换为的方向。

这也适用于 3x3 旋转矩阵。在这种情况下，只需从上面的向量中删除最后一个坐标。

结果将是指向“向前”的向量。您可以将其添加到位置或平移矩阵/向量。

# c++ - C ++：将引用成员初始化为在初始化列表中创建的对象

> ID：11338472
> 
> 赞同：5
> 
> 时间：2012-07-05T05:52:57.870
> 
> 标签：c++, reference, initialization, initializer-list

考虑以下代码：

```
class Foo {
    Foo() {}
};

class Bar {
    Foo &Foo_ref;
    Bar() : Foo_ref() {}
}; 
```

按原样编译，我收到错误：

```
tmp.cc：在构造函数 Bar::Bar() 中：
tmp.cc:7：错误：Foo& Bar::Foo_ref 的值初始化，它具有引用类型
```

我已经尝试了所有我能想到的变化。我究竟做错了什么？如何将引用成员初始化为新实例？我现在使用 const 指针而不是引用作为解决方法，但我更喜欢使用引用。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-05T05:53:51.663

引用必须始终绑定到对象。您必须在构造函数中传递要引用的对象

```
Bar(Foo &foo) : Foo_ref(foo)
{
} 
```

如果您不想（或不能）传递`Foo`给`Bar`构造函数 - 您必须使用指针：

```
class Bar {
    Foo *Foo_ptr;
    Bar() : Foo_ptr(nullptr) {}
}; 
```

您可以将引用成员变量视为必须绑定在初始化列表中的指针

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-05T06:00:08.790

有什么问题

```
class Bar
{
    Foo myFoo;
    Bar() : myFoo() {}
}; 
```

如果你想要一个全新的 Foo 对象？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T05:56:09.320

您的构造函数必须接受一个参数，将引用设置为在引用之前初始化的成员，或者将引用设置为全局`Foo`对象。您不能将引用绑定到临时对象（即使引用是`const`，也只能在构造函数结束之前存在。

```
extern Foo gFoo;

class Bar {
    Foo foo;
    Foo &Foo_ref;
    Bar() : Foo_ref(gFoo) {}
    //or
    //Bar() : Foo_ref(foo) {}
    Bar(Foo& foo) : Foo_ref(foo) {}
}; 
```

# macos - 如何在 Mac 上使用 scutil 将数组放入数据存储？

> ID：11338474
> 
> 赞同：0
> 
> 时间：2012-07-05T05:53:01.710
> 
> 标签：macos, kerberos

在 Mac 上使用 scutil，我知道如何创建一个 dict 并将其放入数据存储中。

但是，我的系统显示了一个键，其值只是一个数组：

```
$ scutil
> show Kerberos-Default-Realms
<array> {
  0 : ATHENA.MIT.EDU
} 
```

如何手动创建这样的条目？我需要在我的自动测试中这样做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-30T06:12:34.143

我可能已经找到了答案（已修改）：

```
$ scutil
> help

Available commands:

help                          : list available commands
f.read file                   : process commands from file
quit                          : quit

d.init                        : initialize (empty) dictionary
d.show                        : show dictionary contents

d.add key [*#?] val [v2 ...]  : add information to dictionary
      (*=array, #=number, ?=boolean)
d.remove key                  : remove key from dictionary

list [pattern]                : list keys in data store
add key ["temporary"]         : add key in data store w/current dict
get key                       : get dict from data store w/key
set key                       : set key in data store w/current dict
show key ["pattern"]          : show values in data store w/key
remove key                    : remove key from data store
notify key                    : notify key in data store

n.list ["pattern"]            : list notification keys
n.add key ["pattern"]         : add notification key
n.remove key ["pattern"]      : remove notification key
n.changes                     : list changed keys
n.watch                       : watch for changes
n.cancel                      : cancel notification requests 
```

要重新创建上述问题中的示例：

```
> d.init
> d.add Kerberos-Default-Realms * ATHENA.MIT.EDU
> d.show
<dictionary> {
  Kerberos-Default-Realms : <array> {
    0 : ATHENA.MIT.EDU
  }
} 
```

......废话，这并不能完全满足您的需求，现在是吗？我的意思是，确保您有一个具有正确值的数组，但该数组在字典中。

您正在寻找更多的东西：

```
> d.show
<array> {
    0 : ATHENA.MIT.EDU
} 
```

所以这意味着我们需要更多类似的东西：

```
> a.init
a.init: unknown, type "help" for command info 
```

数字……等等！如果我：

```
> get Kerberos-Default-Realms
> d.show
<array> {
  0 : ATHENA.MIT.EDU
} 
```

亲爱的，现在我的“当前字典”是一个数组，所以我应该能够从这里解决一些问题：

```
> d.add Kerberos-Default-Realms ATHENA.MIT.EDU ZEUS.MIT.EDU
d.add: data (fetched from configuration server) is not a dictionary. 
```

不……那是我最后的希望……我知道 NSArray 是一个有效的 NSObject，我只是不认为 scutil 是为了支持添加或修改 NSMutableArray 而构建的。

显然有一些方法可以将它放入动态存储中（因为 Kerberos-Default-Realms 是一个数组），但是 scutil 对我来说似乎是一个死胡同......只剩下一件事要做：

```
> quit 
```

# linq - NHibernate Linq ToFuture 和 Max

> ID：11338483
> 
> 赞同：2
> 
> 时间：2012-07-05T05:54:03.003
> 
> 标签：linq, nhibernate

我希望在到数据库的单次往返中执行以下两个查询，所以我使用 ToFutureValue。

```
var query = AsQueryable()
    .Where(x => x.User == user);

var singinCount = query
    .Where(x => x.ActionDate >= from && x.ActionDate <= to)
    .ToFutureValue(q => q.Count());

var lastSignin = query
    .Where(x => x.ActionName.ToLower() == Actions.Signin))
    .ToFutureValue(q => q.Max(x => x.ActionDate)); 
```

问题是 Count 和 Max 返回结果而不是 IQueryable。我找到了以下扩展，使我能够将 Count 传递给 ToFutureValue：

```
public static IFutureValue<TResult> ToFutureValue<TSource, TResult>(
    this IQueryable<TSource> source, Expression<Func<IQueryable<TSource>, TResult>> selector)
        where TResult : struct
    {
        var provider = (INhQueryProvider)source.Provider;
        var method = ((MethodCallExpression)selector.Body).Method;
        var expression = Expression.Call((Expression)null, method, source.Expression);

        return (IFutureValue<TResult>)provider.ExecuteFuture(expression);
    } 
```

现在我需要为 Max 采用该扩展，因为我必须将参数传递给 Max (.ToFutureValue(q => q.Max(x => x.ActionDate)))。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T14:35:09.750

作为一种解决方法

```
var lastSignin = query
    .Where(x => x.ActionName.ToLower() == Actions.Signin))
    .OrderByDescending(x => x.ActionDate)
    .Take(1)
    .ToFutureValue(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-31T05:28:54.240

看起来 GitHub pull request [#120中有适当的补丁](https://github.com/nhibernate/nhibernate-core/pull/120)

这是jira bug [NH-3184](https://nhibernate.jira.com/browse/NH-3184)

以下是来自 pull #120 的有效代码：

```
public static IFutureValue<TResult> ToFutureValue<T, TResult>(
    this IQueryable<T> query, Expression<Func<IQueryable<T>, TResult>> selector)
{
    var nhQueryable = query as QueryableBase<T>;    
    if (nhQueryable == null)
    {
        throw new NotSupportedException("Query needs to be of type QueryableBase<T>");
    }

    var provider = (INhQueryProvider) query.Provider;
    var expression = ReplacingExpressionTreeVisitor.Replace(
            selector.Parameters.Single(),
            query.Expression,
            selector.Body);

    return (IFutureValue<TResult>) provider.ExecuteFuture(expression);
} 
```

# database - 无法使用 Doctrine 从表格文章中获取用户

> ID：11338485
> 
> 赞同：1
> 
> 时间：2012-07-05T05:54:07.570
> 
> 标签：database, symfony, doctrine, doctrine-orm, relationship

我有类用户，并与类文章的关系：

```
/**
 * @ORM\OneToMany(targetEntity="Article", mappedBy="author", cascade={"persist"})   
 * @var ArrayCollection $articles
 */
protected $articles; 
```

在课堂文章中，我有相反的关系：

```
/**
* @ORM\ManyToOne(targetEntity="User", inversedBy="articles")
* @ORM\JoinColumn(name="author_id", referencedColumnName="id") 
*/
protected $author; 
```

我使用以下方式获取文章：

```
 $article = $this->getDoctrine()
            ->getRepository("IftodiDesignBundle:Article")
            ->findOneBy(array(
                'title' => $title,
            )); 
```

当我尝试获取用户时：

```
 $article->getAuthor(); 
```

var_dump 返回：

```
 object(Proxies\IftodiDesignBundleEntityUserProxy)[305]
    private '_entityPersister' => 
        object(Doctrine\ORM\Persisters\BasicEntityPersister)[309]
        protected '_class' => 
            object(Doctrine\ORM\Mapping\ClassMetadata)[113]
            public 'reflFields' => 
                array (size=8)
                ...
            private '_prototype' => null
            public 'name' => string 'Iftodi\DesignBundle\Entity\User' (length=31)
            public 'namespace' => string 'Iftodi\DesignBundle\Entity' (length=26)
            public 'rootEntityName' => string 'Iftodi\DesignBundle\Entity\User' (length=31)
            public 'customRepositoryClassName' => null
            public 'isMappedSuperclass' => boolean false
            public 'parentClasses' => 
                array (size=0)
                ...
            public 'subClasses' => 
                array (size=0)
                ...
            public 'namedQueries' => 
                array (size=0)
                ...
            public 'identifier' => 
                array (size=1)
                ...
            public 'inheritanceType' => int 1
            public 'generatorType' => int 4
            public 'fieldMappings' => 
                array (size=7)
                ...
            public 'fieldNames' => 
                array (size=7)
                ...
            public 'columnNames' => 
                array (size=7)
                ...
            public 'discriminatorValue' => null
            public 'discriminatorMap' => 
                array (size=0)
                ...
            public 'discriminatorColumn' => null
            public 'table' => 
                array (size=1)
                ...
            public 'lifecycleCallbacks' => 
                array (size=0)
                ...
            public 'associationMappings' => 
                array (size=1)
                ...
            public 'isIdentifierComposite' => boolean false
            public 'containsForeignIdentifier' => boolean false
            public 'idGenerator' => 
                object(Doctrine\ORM\Id\IdentityGenerator)[101]
                ...
            public 'sequenceGeneratorDefinition' => null
            public 'tableGeneratorDefinition' => null
            public 'changeTrackingPolicy' => int 1
            public 'isVersioned' => null
            public 'versionField' => null
            public 'reflClass' => 
                object(ReflectionClass)[112]
                ...
            public 'isReadOnly' => boolean false
        protected '_conn' => 
            object(Doctrine\DBAL\Connection)[120]
            protected '_conn' => 
                object(Doctrine\DBAL\Driver\PDOConnection)[356]
                ...
            protected '_config' => 
                object(Doctrine\DBAL\Configuration)[127]
                ...
            protected '_eventManager' => 
                object(Doctrine\Common\EventManager)[124]
                ...
            protected '_expr' => 
                object(Doctrine\DBAL\Query\Expression\ExpressionBuilder)[119]
                ...
            private '_isConnected' => boolean true
            private '_transactionNestingLevel' => int 0
            private '_transactionIsolationLevel' => int 2
            private '_nestTransactionsWithSavepoints' => null
            private '_params' => 
                array (size=7)
                ...
            protected '_platform' => 
                object(Doctrine\DBAL\Platforms\MySqlPlatform)[118]
                ...
            protected '_schemaManager' => null
            protected '_driver' => 
                object(Doctrine\DBAL\Driver\PDOMySql\Driver)[121]
                ...
            private '_isRollbackOnly' => boolean false
        protected '_platform' => 
            object(Doctrine\DBAL\Platforms\MySqlPlatform)[118]
            protected 'doctrineTypeMapping' => null
            protected 'doctrineTypeComments' => null
        protected '_em' => 
            object(Doctrine\ORM\EntityManager)[117]
            private 'config' => 
                object(Doctrine\ORM\Configuration)[128]
                ...
            private 'conn' => 
                object(Doctrine\DBAL\Connection)[120]
                ...
            private 'metadataFactory' => 
                object(Doctrine\ORM\Mapping\ClassMetadataFactory)[116]
                ...
            private 'repositories' => 
                array (size=3)
                ...
            private 'unitOfWork' => 
                object(Doctrine\ORM\UnitOfWork)[115]
                ...
            private 'eventManager' => 
                object(Doctrine\Common\EventManager)[124]
                ...
            private 'hydrators' => 
                array (size=0)
                ...
            private 'proxyFactory' => 
                object(Doctrine\ORM\Proxy\ProxyFactory)[114]
                ...
            private 'expressionBuilder' => null
            private 'closed' => boolean false
        protected '_queuedInserts' => 
            array (size=0)
            empty
        protected '_rsm' => null
        protected '_columnTypes' => 
            array (size=0)
            empty
        private '_insertSql' => null
        protected '_selectColumnListSql' => null
        protected '_selectJoinSql' => null
        protected '_sqlAliasCounter' => int 0
        protected '_sqlTableAliases' => 
            array (size=0)
            empty
    private '_identifier' => 
        array (size=1)
        'id' => string '1' (length=1)
    public '__isInitialized__' => boolean false
    protected 'id' => null
    protected 'username' => null
    protected 'name' => null
    protected 'email' => null
    protected 'password' => null
    protected 'salt' => null
    protected 'role' => null
    protected 'articles' => null 
```

请帮助我建立正确的关系并使用文章实体获取用户。

我将 Symfony2 与 Doctrine 一起使用。

编辑：

这是文章实体： http: [//pastebin.com/ZBQPehGL](http://pastebin.com/ZBQPehGL) 这是用户实体： http: [//pastebin.com/McEYdZ9W](http://pastebin.com/McEYdZ9W)

Profiler 不显示此查询：

```
 $articles = $this->getDoctrine()
            ->getRepository("IftodiDesignBundle:Article")
            ->findAll(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-08T07:20:36.130

我相信这是 Doctrine Entity Proxies 的正确行为。

由于您的 findOneBy() 调用不会将作者加入数据库中，因此 Doctrine 不会水合相关的作者对象，而是提供一个代理对象而不是作者的“真实”实体，以将数据库查询减少到真正需要的那些。

尝试访问作者的属性（如 $article->getAuthor()->getName()）并在此之后再次对作者对象进行 var_dump。现在您应该看到“真实的”athor 实体。发生这种情况是因为访问作者的数据将“触发”代理类自动从数据库加载数据。

进一步阅读：

*   [http://doctrine-orm.readthedocs.org/en/latest/reference/configuration.html?highlight=proxy%20object#proxy-objects](http://doctrine-orm.readthedocs.org/en/latest/reference/configuration.html?highlight=proxy%20object#proxy-objects)
*   [Doctrine 2 中的代理是什么？](https://stackoverflow.com/questions/4923817/can-you-explain-me-what-is-a-proxy-in-doctrine-2)

PS：请注意，按照我建议的方式访问作者将导致额外的数据库选择查询。如果您知道您将始终需要文章的作者数据，您应该在选择文章的查询中添加一个连接以减少查询量；）

# android - 如何在android的应用程序数据库中保存.HTML页面/文件？

> ID：11338486
> 
> 赞同：3
> 
> 时间：2012-07-05T05:54:17.200
> 
> 标签：android, html, sqlite

*我现在正在开发一个用作书架的应用程序，用户可以在其中阅读他们选择的书籍，现在我正在做的是，在我的应用程序的网络视图中显示我制作的 html 页面. 现在，此应用程序仅在用户在其手机上具有全时互联网连接时才有效。我真正想要的是当他们第一次打开应用程序时，他们需要互联网连接，然后应用程序应该能够下载该页面并将其存储在本地数据库中，以便用户稍后可以在没有任何互联网连接的情况下阅读它。 **那么有没有可能的方法来下载 html 页面并将其存储在本地数据库中，以便用户即使没有连接到互联网也可以使用该应用程序？** 如果需要，我可以在这里发布我的代码。任何最小的提示或帮助都会非常棒，因为我已经被困在这里很久了:(*

**编辑1：**

所以我成功地从网站下载了 HTLM 页面，但现在我面临的问题是，我看不到下载的 html 的任何图像。对此有什么合适的解决方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T05:57:45.793

这里的“**本地数据库**”是什么意思？

首选方法是将页面下载到**Internal Storage**`(/<data/data/<application_package_name>)`（默认情况下，在非 root 设备上对您的应用程序是私有的）或**External Storage**`(public access)`。然后在用户设备没有互联网连接时从该存储区域引用页面 ( `offline mode`)。

**更新：1**

要存储这些页面，您可以在 Android 中使用简单的[文件](http://developer.android.com/reference/java/io/File.html)读/写操作。

**例如：**

```
String FILENAME = "hello_file";
String string = "hello world!";

FileOutputStream fos = openFileOutput(FILENAME, Context.MODE_PRIVATE);
fos.write(string.getBytes());
fos.close(); 
```

此示例将文件**hello_file**存储在应用程序的内部存储目录中。

**更新：2**下载网页内容

```
HttpClient httpClient = new DefaultHttpClient();
HttpContext localContext = new BasicHttpContext();
HttpGet httpGet = new HttpGet("http://www.xxxx.com");
HttpResponse response = httpClient.execute(httpGet, localContext);
String result = "";

BufferedReader reader = new BufferedReader(
    new InputStreamReader(
      response.getEntity().getContent()
    )
  );

String line = null;
while ((line = reader.readLine()) != null){
  result += line + "\n";
} 
```

// 现在你已经在 result 变量上加载了整个 HTML

因此，使用我的更新 1 代码在文件中写入结果变量。简单的.. ：-）

不要忘记在您的 android 应用程序的清单文件中添加这两个权限。

```
 <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
  <uses-permission android:name="android.permission.INTERNET"></uses-permission> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:28:35.683

用于下载网页的代码片段。检查代码中的注释。只需提供链接即 www.mytestpage.com/story1.htm 作为该功能的下载链接

```
 void Download(String downloadlink,int choice)
{
    try {
        String USERAGENT;
        if(choice==0)
        {
            USERAGENT ="Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_5_7; en-us) AppleWebKit/530.17 (KHTML, like Gecko) Version/4.0 Safari/530.17";
        }
        else
        {
            USERAGENT ="Mozilla/5.0 (Linux; U; Android 2.1-update1; en-us; ADR6300 Build/ERE27) AppleWebKit/530.17 (KHTML, like Gecko) Version/4.0 Mobile Safari/530.17";
        }
        URL url = new URL(downloadlink);
        //create the new connection
        HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();
        //set up some things on the connection
        urlConnection.setRequestProperty("User-Agent", USERAGENT);  //if you are not sure of user agent just set choice=0
        urlConnection.setRequestMethod("GET");
        urlConnection.setDoOutput(true);
        urlConnection.connect();

        //set the path where we want to save the file
        File SDCardRoot = Environment.getExternalStorageDirectory();
        File dir = new File (SDCardRoot.getAbsolutePath() + "/yourfolder");
        if(!dir.exists())
        {
        dir.mkdirs();
        }
        File file = new File(dir, "filename");  //any name abc.html

        //this will be used to write the downloaded data into the file we created
        FileOutputStream fileOutput = new FileOutputStream(file);

        //this will be used in reading the data from the internet
        InputStream inputStream = urlConnection.getInputStream();

        //this is the total size of the file
        int totalSize = urlConnection.getContentLength();
        //variable to store total downloaded bytes
        int downloadedSize = 0;

        //create a buffer...
        byte[] buffer = new byte[1024];
        int bufferLength = 0; //used to store a temporary size of the buffer

        //write the contents to the file
        while ( (bufferLength = inputStream.read(buffer)) > 0 ) {
            fileOutput.write(buffer, 0, bufferLength);
        }
        //close the output stream when done
        fileOutput.close();
        inputStream.close();
        urlConnection.disconnect();

    //catch some possible errors...
    } catch (MalformedURLException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
} 
```

# java - Maven 3 cobertura 2.5.1 配置

> ID：11338490
> 
> 赞同：2
> 
> 时间：2012-07-05T05:54:51.130
> 
> 标签：java, jakarta-ee, tdd, maven-3, cobertura

我在 maven 3 项目中配置了 cobertura。我的要求是在父 pom 中配置 cobertura 并在多个项目中配置忽略、排除子 pom 中的值。pom xml 中 cobutura 插件的基本配置在子 pom 中引用它工作正常。但是，当我尝试配置忽略、排除子 pom 中的包并在父 pom 中添加仪器目标时，我遇到了插件的目录问题。谷歌搜索给了我这个链接，但到目前为止还没有成功。：[http ://blog.bielu.com/2012/01/errata-to-maven2-maven3-migration.html](http://blog.bielu.com/2012/01/errata-to-maven2-maven3-migration.html)

这是我的配置：

父pom：

```
 <pluginManagement>
    <plugins>
        <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>cobertura-maven-plugin</artifactId>
            <version>2.5.1</version>
            <configuration>
                <check>
                    <haltOnFailure>true</haltOnFailure>
                    <branchRate>50</branchRate>
                    <lineRate>50</lineRate>
                    <haltOnFailure>true</haltOnFailure>
                    <totalBranchRate>50</totalBranchRate>
                    <totalLineRate>50</totalLineRate>
                    <packageLineRate>50</packageLineRate>
                    <packageBranchRate>50</packageBranchRate>
                </check>
            </configuration>
            <executions>  
                <execution>
                    <id>instrument-code</id>
                    <phase>process-classes</phase>
                    <goals>
                      <goal>instrument</goal>
                    </goals>
                </execution>
                <execution>  
                    <id>verify</id>  
                    <phase>verify</phase>  
                    <goals>                             
                      <goal>check</goal>  
                    </goals>  
                </execution> 
            </executions>             
        </plugin>
    </plugins>
 </pluginManagement> 
```

儿童绒球：

```
<build>
    <plugins>
        <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>cobertura-maven-plugin</artifactId>
            <configuration>
              <instrumentation>
                <ignores>
                  <ignore>to.ignore.*</ignore>
                </ignores>
                <excludes>
                  <exclude>to/exclude/*</exclude>
                </excludes>
              </instrumentation>
            </configuration>
        </plugin>
    </plugins>
 </build> 
```

抛出的错误：

```
[ERROR] Failed to execute goal org.codehaus.mojo:cobertura-maven-plugin:2.5.1:instrument (instrument-code) on project test: Unable to prepare instrumentation directory. source and destination are the same directory. 
```

尝试了几种配置，但还没有运气。请就此给我建议。

谢谢。

# sql - SQL 查询帮助 - 在开始日期和结束日期之间进行选择

> ID：11338495
> 
> 赞同：2
> 
> 时间：2012-07-05T05:55:03.780
> 
> 标签：sql

需要三个 sql 查询的帮助。

我们的数据库包含以下信息 - 给出的样本

```
unique id -- package            -- startdate  -- enddate
1         -- Holiday Package 1  -- 05-08-2012 -- 05-25-2012
2         -- Holiday Package 2  -- 05-13-2012 -- 06-26-2012
3         -- Holiday Package 3  -- 05-14-2012 -- 05-14-2012
4         -- Holiday Package 4  -- 05-15-2012 -- 05-16-2012
5         -- Holiday Package 5  -- 05-21-2012 -- 07-16-2012 
```

查询 1 - 给定今天的日期（05-11-2012）返回未来 7 天内的所有包裹

因此，例如，如果日期是 2012 年 5 月 11 日，我希望查询返回当前在接下来的 7 7 天内运行的所有包。因此，在示例中，这将是除假日套餐 5 之外的所有内容。

查询 2 - 给定今天的日期，退回 14 天内但不是 7 天内的所有包裹

结果 - 仅包 5

查询 3 - 给定今天的日期，返回所有在 7 天和 14 天内的包裹，但不是/或

结果 - 无

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T17:26:25.997

有时看似复杂的问题可以有非常简单的答案。尝试以下操作：

1)

```
SELECT *
FROM PackageTbl
WHERE :MyDate BETWEEN StartDate-7 AND EndDate 
```

2)

```
SELECT *
FROM PackageTbl
WHERE :MyDate BETWEEN StartDate-14 AND StartDate-8 
```

3）我不太了解您对此查询的预期结果，以下查询应返回包 1 和 2（可能不需要 AND 部分，只是某些数据库服务器可能需要的预防措施）：

```
SELECT *
FROM PackageTbl
WHERE :MyDate BETWEEN StartDate-7 AND EndDate-14
  AND EndDate >= StartDate+7 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:28:45.467

你可以使用

```
startdate > "given_date" and enddate < "given_date" + 7

startdate > "given_date" + 7 and enddate < "given_date" + 14

Combination of both the above conditions using "and" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T06:34:40.153

查询 1 -

```
declare @dte date='05-11-2012';
select * from Holiday_Package
where startdate <=  DATEADD(d,7,@dte)  
and enddate >= @dte 
```

查询 2 -

```
declare @dte date='05-11-2012';
select * from Holiday_Package
where startdate between DATEADD(d,7,@dte) and DATEADD(d,14,@dte)
and enddate >= @dte 
```

问题 3 -

```
declare @dte date='05-11-2012';
select * from Holiday_Package
where startdate between DATEADD(d,7,@dte) and DATEADD(d,14,@dte)
and enddate between DATEADD(d,7,@dte) and DATEADD(d,14,@dte) 
```

# html - 如何通过 iFrame 链接到公开的 google 个人资料？

> ID：11338496
> 
> 赞同：0
> 
> 时间：2012-07-05T05:55:05.763
> 
> 标签：html, iframe, same-origin-policy

例如，以下不起作用

```
<iframe src="https://plus.google.com/110145602671775846965/about?hl=en" /> 
```

即使我可以直接访问该页面。有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:08:57.053

不，那里没有。与大多数 Google 应用程序一样，Google Plus 使用 X-Frame-Options 来阻止其网站上的页面框架。这是一种浏览器安全机制；因此，无法禁用它。

# ssas - SSAS 2012 表格模式

> ID：11338497
> 
> 赞同：1
> 
> 时间：2012-07-05T05:55:07.057
> 
> 标签：ssas, sql-server-2012

刚开始在 SSAS 2012 中做一个 Tablur 模式项目。当我尝试使用现有连接（模型 > 现有连接）添加一个新的 Dim 表时，它工作正常并导入数据，我也可以在网格中看到表（数据视图）模式，但在图表视图中看不到表格。

我在这里想念什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T20:43:14.013

两个表中的行之间是否存在实际关系，即 PK -> FK？引用的列是否具有以下内容：1）两个表中的名称相同 2）两个表中的数据类型相同 3）两个表之间的数据完整性

# javascript - 使用jquery增加变量

> ID：11338499
> 
> 赞同：9
> 
> 时间：2012-07-05T05:55:25.030
> 
> 标签：javascript, jquery

我觉得这是一个非常基本的事情，但我似乎无法找到解决方案。我试图在加载 IFRAME 后增加一个值。

代码如下所示：

```
var x=0;
$(document).ready(function() {
        $('#iframe-2').load(function() {
            var x=x+1;        
        });
        $('#iframe-3').load(function() {
            var x=x+1;    
        });
        $('#iframe-4').load(function() {
            var x=x+1;        
        });
        $('#iframe-5').load(function() {
            var x=x+1;        
        });
    }); 
```

我想要做的是提供一些加载的 iframe，当 iframe 完成加载时它们会更新。目前的输出代码是这样的：

```
<script language="javascript">
document.write(x + " Results");
</script> 
```

提前非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-07-05T05:57:51.020

你应该改变

```
var x = x+1; 
```

到

```
x = x+1 
```

因为`var`关键字每次都在你的 every 中创建一个新变量，`load`所以全局变量`x`不会更新/增加。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-05T05:58:18.383

你在加载回调函数中声明局部变量，所以它不会增加全局变量`x`，你可以`var x`在dom准备回调函数内部声明，并在加载回调函数中使用它。

```
$(document).ready(function() {
    var x = 0;
    $('#iframe-2').load(function() {
        x++;        
    });
    $('#iframe-3').load(function() {
        x++;
    });
    $('#iframe-4').load(function() {
        x++;  
    });
    $('#iframe-5').load(function() {
        x++;  
    });
}); 
```

***编辑：*** 在此之后，`document.write(x + " Results");`仍然无法工作，因为它在 iframe 加载之前执行。您需要异步进行检查。

这是***[现场演示](http://jsfiddle.net/dybuZ/)***。

```
$(document).ready(function() {
    var x = 0;
    $('iframe').load(function() {
        x++;        
    });
    var time_id = setInterval(function() {
      $('#count').text(x);
      if (x === $('iframe').length) {
        clearInterval(time_id);
      }
    }, 200);
});​ 
```

的HTML：

```
<iframe  src="http://www.w3schools.com"></iframe>
<iframe  src="http://www.w3schools.com"></iframe>
<iframe  src="http://www.w3schools.com"></iframe>
<iframe  src="http://www.w3schools.com"></iframe>
<hr>
Loaded iframe count: <span id="count">0<span> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-05T23:36:08.147

我终于想出了一个非常简单的解决方案：

```
var x=0;

    $(document).ready(function() {

        $('#iframe-2').load(function() {
            $("#t2").css("display","inline");
            x++;
            document.getElementById("tabs-1").innerHTML=x + " Results";
        });

        $('#iframe-3').load(function() {
            $("#t3").css("display","inline");
            x++;
            document.getElementById("tabs-1").innerHTML=x + " Results";
        });

        $('#iframe-4').load(function() {
            $("#t4").css("display","inline");
            x++;
            document.getElementById("tabs-1").innerHTML=x + " Results";
        });
        $('#iframe-5').load(function() {
            $("#t5").css("display","inline");
            x++;
            document.getElementById("tabs-1").innerHTML=x + " Results";
        });
    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-05T06:08:29.327

Javascript 具有“函数范围” - 变量仅存在于创建它们的函数中。因此`x`，当且仅当它们位于不同的函数中时（这里就是这种情况），可以有几个不同的变量命名为 。

变量是使用关键字创建的，`var`并且在没有关键字的情况下访问。因此，`var x = 10;`创建一个名为 的变量`x`，并`x = 10;`修改一个名为 的现有变量`x`。

在您的代码中，每个函数都调用`var x = 10;`. 由于先前定义的定义`x`是在外部函数中定义的，因此该行有效并创建了一个名为 的新变量`x`，其作用域为正在调用它的函数。如果您要省略该`var`语句，解释器将首先查看当前函数的命名空间并没有找到`x`。然后它将向上移动到全局范围并找到`x`您已经声明的那个，并使用它。

简而言之，省略`var`除第 1 行之外的每一行中的单词：

```
var x = 0;
$(document).ready(function () {
    $('#iframe-2').load(function () {
        x = x + 1;
    });
    $('#iframe-3').load(function () {
        x = x + 1;
    });
    $('#iframe-4').load(function () {
        x = x + 1;
    });
    $('#iframe-5').load(function () {
        x = x + 1;
    });
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-05T10:25:08.597

使用 jQuery 进行上述查询的另一个改变解决方案是在这里...

HTML：

```
<div id="top"></div>
<iframe  src="http://jquery.com/"></iframe>
<iframe  src="http://jquery.com/"></iframe>
<iframe  src="http://jquery.com/"></iframe>
<iframe  src="http://jquery.com/"></iframe>
<div id="bottom"></div> 
```

查询：

```
var x = 0;
$(function() {
    $('iframe:eq(0)').load(function() {
        x = x + 1;
        result(x);
    });
    $('iframe:eq(1)').load(function() {
        x = x + 1;
        result(x);
    });
    $('iframe:eq(2)').load(function() {
        x = x + 1;
        result(x);
    });
    $('iframe:eq(3)').load(function() {
        x = x + 1;
        result(x);
    });

});

function result(x) {
    if (x == null || typeof(x) == "undefined") x = 0;
    $("#top").html("<div>Loaded iframe count: " + x + "</div><hr/>");
    $("#bottom").html("<hr/><div>Loaded iframe count: " + x + "</div>");
} 
```

也尝试使用 codebins [http://codebins.com/codes/home/4ldqpbk](http://codebins.com/codes/home/4ldqpbk)

# solr - 使用 Lucene IndexWriter 创建 Solr 索引

> ID：11338503
> 
> 赞同：1
> 
> 时间：2012-07-05T05:55:48.120
> 
> 标签：solr, lucene.net, solrnet, lucene

我需要以极短的顺序索引大量内容，我已经尝试了使用 Solrnet/solr 使用线程和 TPL 的各种技术，但是速度还有很多不足之处。因此考虑转向使用 Lucene.net 索引编写器来创建索引（初步我看到速度几乎提高了一个数量级）。有什么“陷阱”需要注意吗？

我不太确定是否： 1\. 基于 Trie 的数字范围查询将继续可用于通过 Solr 进行查询。（我在 Lucene 中使用 NumericFields）？2\. 刻面等会继续可用吗？

还有什么我需要注意的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T07:47:29.777

请参阅[Scaling Lucene 和 Solr](http://searchhub.org/2009/09/02/scaling-lucene-and-solr/)以了解改进运行时间。

如果您决定使用 Lucene：

*   您需要一个唯一的 id 字段才能使索引成为有效的 Solr 索引。
*   架构必须与 Solr 架构匹配。
*   Lucene 版本必须与 Solr 中的相同。
*   我认为范围查询和分面将可用，只要您根据 Solr 中的要求对各个字段进行索引，并使用相同的分析器。

# javascript - 添加 svg:g 时如何在 div 中添加滚动条

> ID：11338513
> 
> 赞同：4
> 
> 时间：2012-07-05T05:56:33.080
> 
> 标签：javascript, html, svg, scrollbar

大家好，我正在研究 html 和 javascript，这是我的代码

```
<div class = "outer">
 <div class = "inner1 width="234" height="400" style="float: left">
   <svg width="100" height="400" style="float: left;">
      // some thing
   </svg>
 </div>
 <div class = "inner2" width="234" height="400" style="float: left overflow : scroll">
   <svg width="200" height="400" style="float: left;">
      <g class="c1" transform="translate(0,20)">
         <g>
          <text class="c1_name"></text>
          <text class="c1_value"></text>
         </g>

         <g>
          <text class="c2_name"></text>
          <text class="c2_vaue"></text>
         </g>
         <g>
          <text class="c3_name"></text>
          <text class="c3_value"></text>
         </g> 
                    .
                    .
                    . 
         // g added dynamically below the previous one

      </g>
   </svg>
 </div>
</div> 
```

在这里，我想让我的 div inner2 可滚动，这样当添加新的 g 并且 div 的大小变小以包含所有 g 时，它就可以滚动了。我出现了滚动条，但是当我的新元素添加但我看不到它时它们也被禁用。任何人都可以指导我哪里错了以及如何纠正这个问题

顺便说一句，我正在定位我的使用变换属性

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T05:59:22.113

`overflow:auto;`如果您只想在需要时显示滚动条，则需要使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:08:06.723

在 上`div`，没有`width`&`height`属性，使用 css（例如。`style="width: 999px; height: 999px;"`）并且还需要`overflow: auto`/ `overflow: scroll`（您可以操纵每个滚动条独立的宽度`overflow-x`& `overflow-y`）。

# sql - 使用 COALESCE 功能编程

> ID：11338514
> 
> 赞同：2
> 
> 时间：2012-07-05T05:56:48.503
> 
> 标签：sql, sql-server

我有一张这样的桌子

```
ac  asg     asgc    asgdt
1   abc     abc     2012-06-01 00:00:00.000
1   NULL    NULL    2012-06-02 00:00:00.000
1   xyz     xyz     2012-07-01 00:00:00.000
1   NULL    NULL    2012-07-02 00:00:00.000
2   NULL    NULL    2012-07-03 00:00:00.000
2   lmn     lmn     2012-08-01 00:00:00.000
2   NULL    NULL    2012-08-02 00:00:00.000 
```

我必须通过重复以前的文本来删除空值，所以我写了

```
Declare @asgc nvarchar(10)
UPDATE coalescetest 
SET 
    @asgc = COALESCE(asgc, @asgc),
    asgc = COALESCE(asgc, @asgc) 
```

这段代码给了我下面的输出

```
ac  asg     asgc
1   abc     abc
1   NULL    abc
1   xyz     xyz
1   NULL    xyz
2   NULL    xyz
2   lmn     lmn
2   NULL    lmn 
```

这里的问题是，它应该在帐户级别重复以前的文本。可以看出， 1 的`'xyx'`值`ac`重复为`ac`2。这不应该发生。理想的输出应该是这样的

```
ac  asg     asgc
1   abc     abc
1   NULL    abc
1   xyz     xyz
1   NULL    xyz
2   NULL    NULL
2   lmn     lmn
2   NULL    lmn 
```

`ac`所以，我在级别上写了一个循环。但它正在扼杀性能。任何人都可以提出一条出路。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T06:18:25.643

这有效：

```
declare @tab table (ac int not null, asg char(3) null, asgc char(3) null, asgdt datetime not null)
insert into @tab(ac,asg,asgc,asgdt) values
(1,'abc','abc','2012-06-01 00:00:00.000'),
(1,NULL,NULL,'2012-06-02 00:00:00.000'),
(1,'xyz','xyz','2012-07-01 00:00:00.000'),
(1,NULL,NULL,'2012-07-02 00:00:00.000'),
(2,NULL,NULL,'2012-07-03 00:00:00.000'),
(2,'lmn','lmn','2012-08-01 00:00:00.000'),
(2,NULL,NULL,'2012-08-02 00:00:00.000')

update
    t1
set
    asgc = t2.asgc
from
    @tab t1
        inner join
    @tab t2
        on
            t1.ac = t2.ac and   --Belong to same account
            t2.asgc is not null and --Has a useful value
            t2.asgdt < t1.asgdt   --Is an earlier row
        left join
    @tab t3
        on
            t1.ac = t3.ac and   --Belong to same account
            t3.asgc is not null and --Has a useful value
            t3.asgdt < t1.asgdt and   --Is an earlier row
            t3.asgdt > t2.asgdt   --But occurs later than t2
where
    t1.asgc is null and --Needs a fill-in value
    t3.ac is null   --And no better matching row was found for the replacement

select * from @tab 
```

结果：

```
ac          asg  asgc MysteriousUnamedColumn
----------- ---- ---- -----------------------
1           abc  abc  2012-06-01 00:00:00.000
1           NULL abc  2012-06-02 00:00:00.000
1           xyz  xyz  2012-07-01 00:00:00.000
1           NULL xyz  2012-07-02 00:00:00.000
2           NULL NULL 2012-07-03 00:00:00.000
2           lmn  lmn  2012-08-01 00:00:00.000
2           NULL lmn  2012-08-02 00:00:00.000 
```

请注意，我绝不依赖*实际*`UPDATE`应用于表格的顺序。

* * *

刚刚意识到，根据问题的标题，我的答案当然并没有真正*使用。* `COALESCE`但是，TBH，无论如何，这对于手头的工作来说是错误的工具。您可以重新编写上述查询以使用 a `COALESCE`，并让它更新所有行，而不仅仅是那些具有`NULL`值的行，但我想不出任何合理的理由这样做。

# android - android中的编辑框突出显示？

> ID：11338515
> 
> 赞同：0
> 
> 时间：2012-07-05T05:57:02.067
> 
> 标签：android, android-layout, android-xml

我已经开发了 android 应用程序，`highlighted edit box default in android 2.1-3.0`但是在下载**android sdk 4.0 后，编辑框变成了白色**，任何人都可以通过给出边框来帮助我突出显示编辑框，

我现有的编辑框 xml 是

```
 EditText
    android:id="@+id/shoutoutmsgfield"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_centerVertical="true"
    android:ems="10" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:07:25.827

您可以将可绘制的选择器分配给其背景属性

# ios - 以编程方式配置 iPad IP 地址

> ID：11338520
> 
> 赞同：2
> 
> 时间：2012-07-05T05:57:34.110
> 
> 标签：ios, iphone, ipad, ios4

我有一个要求，iPad 应用程序必须将设备的 IP 地址配置为特定 IP 并连接到无线网络。我浏览了互联网，但找不到有关可能解决方案的任何材料。

我非常感谢对此的任何解决方案

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T13:36:25.503

不幸的是，iOS 应用程序没有对系统的这种控制，所以这不能在 App Store 应用程序上完成。

# android - Android ADT版本需要20.0.0及以上

> ID：11338521
> 
> 赞同：6
> 
> 时间：2012-07-05T05:57:38.400
> 
> 标签：android, adt

昨天我尝试安装钛 appcelerator 并在此过程中编辑了一些 android sdk 安装现在我已将我的 android sdk 更新到 20 版。但是当我启动 eclipse 时，我收到一个错误，即 sdk 需要 20.0.0 或更高版本。我尝试使用 eclipse->help->check for updates-> 进行安装，但再次安装无法正常工作，声称找不到所需的项目。请帮忙

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-07-05T07:51:48.170

转到`Help`→ `Install New Software`。

在那里，您单击`work with:`下拉菜单并选择您的 android adt 链接。

然后它会显示要安装的东西列表选择它点击下一步。

![在此处输入图像描述](../Images/0c2abd5d201514208c1c17abd21a5478.png)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-10T04:48:37.303

我也遇到了同样的错误，我通过更新 adt 解决了它。

转到：`Eclipse`→ `Help`→`Install New Software`

并单击`work with`下拉菜单并选择您之前使用过的 android adt 链接。它看起来像这样：

> 安卓 ADT - [https://dl-ssl.google.com/android/eclipse/](https://dl-ssl.google.com/android/eclipse/)。

勾选开发人员工具复选框，然后单击下一步。如果您已经安装了其中的一些，那么 eclipse 会通知您。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T06:09:24.180

我遇到了同样的错误，我通过更新 Android SDK 工具和 Android SDK 平台工具解决了这个问题。

从`Eclipse`→ `Window`→ `Android SDK Manager`，然后更新`Tools`→`Android SDK Tools`

和 Android SDK 平台工具包。在此之后重新启动 Eclipse，然后再次更新 ADT。( `Help`→ `Check for new Updates`)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-05T06:13:14.133

最好下载最新的 Eclipse 设置 Juno [http://www.eclipse.org/downloads/](http://www.eclipse.org/downloads/)打开此链接并下载此版本 **Eclipse IDE for Java EE Developers**

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-12T17:14:17.313

我所做的是卸载最新的 ADT 并返回到以前的 ADT。有效。

转到`Help`→ `Install New Software`- 查找已安装的超链接。卸载所有 ADT。重新启动 Eclipse，它会告诉您您所拥有的修订工具所需的 ADT。下载此 ADT 并手动安装。它至少应该起作用。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-10-19T13:22:58.783

这是最好和快速的解决方案：

**打开 SDK 管理器 -> 包菜单 -> 重新加载**

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-05T06:04:20.440

如果您必须更新 ADT 20.0，否则它不起作用，也不会列出 SDK 安装的数量。我有这个问题并通过更新 ADT 20.0 来解决，也很好的用户界面。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-11-30T04:06:09.983

I suspected that something was wrong with my configuration, as I shouldn't have to suddenly update the ADT when everything had been previously working.

BTW, I got this with "Android ADT version required 21.0.0 and above".

To fix it, I:

1.  Reinstalled eclipse (which is quite easy, as the zip was still in my Downloads, so I just deleted my eclipse directory and unzip the original again - eclipse doesn't use the registry)
2.  Created a "hello_world" java app, in eclipse, to test that (fixing any problems with the standard searches");
3.  Created a "hello_world" Android app to test that (fixing any problems with the standard searches).
4.  Reverted my project files to the last known working version,
5.  Imported my project, and fixed an problems, etc...

About an hour's work. No downloads (assuming you've still got your eclipse zip), no update to the ADT, and no obscure problems which I haven't faced before.

This person (http://kcwebprogrammers.blogspot.com.au/2012/07/android-sdk-eclipse-hell.html) recommends a complete re-install, but it seems that a partial restoration may work.

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-02-06T16:30:40.627

I too had the same problem. I resolved it by doing the following in Eclipse:

Go to Help -> Check for Updates -> Install all the Updates available. only check on Android Development Tools then press next and accept install it :)

Mohamed Safwat

Helwan Uni

eng.mohamedsafwat@yahoo.com

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-03-14T23:19:13.240

In Eclipse (ADT)

> Help --> Install New Software ---> Work with --> Android Developer Tools Update Site - [http://dl-ssl.google.com/android/eclipse/](http://dl-ssl.google.com/android/eclipse/)

选择您要安装的所有更新并取消选中“安装期间联系所有更新站点以查找所需软件”选项。之后，一切都应该按照提到的方式安装。

# ios - 使用 HTTP 或 TCP 会有多大的不同？

> ID：11338525
> 
> 赞同：0
> 
> 时间：2012-07-05T05:57:54.760
> 
> 标签：ios, node.js

我正在为 ipad、iphone 应用程序制作游戏服务器。这是一个两人纸牌游戏，但任何两个玩家之间都可能进行多场游戏。

在浏览了很多论坛和博客之后，我决定使用 nodeJS 和 mongo-db 组合。

现在我对两者都很陌生，但我有时间学习这些东西，而且我在 JS 方面有相当多的经验。

我不确定的是，如果我的客户端是 iOS 和 Objective-C 堆栈。考虑到 TCP、HTTP 与 REST 和 WebSockets 之间的最佳方法是什么，

*   可靠的库可用。
*   复杂程度
*   表现

如果你觉得我不应该首先使用 nodeJS，请指出我正确的方向，因为我还没有开始。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:09:13.973

如果你正在考虑使用 iOS，WebSockets 是不行的——我敢肯定你不想用一个大的 UIWebView 来制作你的整个游戏。

TCP：嗯，这是一个有趣的问题。由于没有 avket 标头/等，普通 TCP 的开销通常比 HTTP 小。是必需的，但是实现您自己的协议是一个更大的挑战，对于编写游戏来说应该是必要的，并且在速度/性能方面您最终会遇到与 HTTP 相同的陷阱。此外，您可以在 Unix 上进行 TCP 网络连接的 BSD 套接字 API 乍一看并不明显。但是，如果您决定使用 TCP，这是我的 API OO 包装器：http: [//github.com/H2CO3/TCPHelper](http://github.com/H2CO3/TCPHelper)

HTTP：ypu 应该选择它。它有着悠久的历史，它是一个非常成熟的协议，并且有相当多的高质量 C 和 Objective-C 库可供它使用。Cocoa (Touch) 有 NSURL* 类型的 Objective-C 类，你也有 C 的 libCURL。

在服务器端，您可能还希望更喜欢 HTTP，因为现代服务器隐式地自动支持它，并且您不必弄乱协议来发送消息，而是简单地说

```
<?php echo "Hello World"; ?> 
```

同样，如果您想深入挖掘，如果您决定使用纯 TCP，则可以在服务器端使用 WebSockets。

我希望这将有所帮助。

# java - 如何使用Android中的标签和位置从GridView中添加的按钮数量中获取字符

> ID：11338528
> 
> 赞同：-1
> 
> 时间：2012-07-05T05:58:13.313
> 
> 标签：java, android

以编程方式添加到 GridView 中的按钮总数取决于字长。每个按钮都包含一个单词的字母，我想在使用标签单击按钮时获取该字母，我该如何获取？这是代码：

```
public View getView(final int position, View convertView, ViewGroup arg2) {

View v = convertView;
    if (v == null) 
    {  
         LayoutInflater vi = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
         v = vi.inflate(R.layout.buttonlist, null);
    } 

    final Button btn= (Button)v.findViewById(R.id.letterbtn);
    btn.setText(word[position]+"");
    btn.setOnClickListener(new OnClickListener(){
        public void onClick(View v) 
        {
            btn.setTag(btn);
            Object tag=btn.getTag();

            btn.setVisibility(View.GONE);
            function(position); 
        }

    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:06:18.623

采用

```
 String tag=btn.getTag().toString(); 
               or
  String tag=(String)btn.getTag(); 
```

代替

```
 Object tag=btn.getTag(); 
```

希望它会帮助你。基本上你可以使用`getText()`方法而不是标签来从视图中返回文本。

# c# - 为什么无法翻译部分或全部身份参考

> ID：11338531
> 
> 赞同：1
> 
> 时间：2012-07-05T05:58:21.080
> 
> 标签：c#, iis-7, expression

在 Visual Studio 2010 中，没有错误，一切正常，但是当我发布到 IIS 时出现错误

线：

```
Microsoft.Expression.Encoder.Preset pres = Microsoft.Expression.Encoder.Presets.VC1IISSmoothStreamingSD480pVBR; 
```

错误：

```
Server Error in '/' Application.
some or all identity references could not be translated
  Description: An unhandled exception occurred during the execution of the current web request. Examine the stack trace for more information about this error and where it originated in the code.

  Exception Details: System.Security.Principal.IdentityNotMappedException: some or all identity references could not be translated. 
```

**更新：** 我从以下行收到相同的错误：

```
var job = new Job(); 
```

命名空间：

```
using System;
using System.Linq;
using System.Web.Mvc;
using Microsoft.Expression.Encoder;
using Microsoft.Expression.Encoder.Profiles;
using VideoSmooth.Domain.Abstract;
using VideoSmooth.Domain.Entities;
using VideoSmooth.Web.Models; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T10:31:10.183

我在池 iis 中设置 ApplicationPoolIdentity 并且它没有错误地工作

# geometry - 以θ角倾斜的矩形截面的质心

> ID：11338541
> 
> 赞同：0
> 
> 时间：2012-07-05T05:59:19.890
> 
> 标签：geometry, formula, angle, centroid

如何找到以θ角倾斜的矩形截面的质心？有没有通用的公式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T06:53:47.117

矩形的质心位于它的对角线（或所有顶点的算术平均值）的交点处。所以在倾斜后找到顶点坐标就足够了

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-06-28T12:32:49.553

矩形的质心在倾斜后不会改变。只有 Rectangle 的坐标随以下等式变化。

```
 x′=xcosθ − ysinθ 
 y′=xsinθ + ycosθ 
```

在哪里，

```
 (x,y)-initial co-ordinates of rectangle.
    (x',y')-final co-ordinates of rectangle.
    θ-angle of inclination. 
```

详情请参阅[链接](https://math.stackexchange.com/questions/166886/centroid-for-a-rectangular-section-inclined-at-an-angle-theta)。

# grails - GrailsFlow 插件安装 - 使用 Grails 2.0.4

> ID：11338542
> 
> 赞同：0
> 
> 时间：2012-07-05T05:59:21.033
> 
> 标签：grails, grails-plugin, grails-2.0

我已经下载了 GrailsFlow [GrailsFlow 1.1-RC1 插件和演示应用程序](http://www.grailsflow.org/download/grailsflow-src-1.1-RC1.zip)，并试图在我的本地运行应用程序。我有 grails 版本 2.0.4 。

我无法运行该应用程序，这给了我以下错误

```
 http://repo.grails.org/grails/plugins/net/sourceforge/jexcelapi/jxl/2.6.2/jxl-2.6.2.pom

      -- artifact net.sourceforge.jexcelapi#jxl;2.6.2!jxl.jar:

      http://repo.grails.org/grails/plugins/net/sourceforge/jexcelapi/jxl/2.6.2/jxl-2.6.2.jar

    ==== http://repo.grails.org/grails/core: tried

      http://repo.grails.org/grails/core/net/sourceforge/jexcelapi/jxl/2.6.2/jxl-2.6.2.pom

      -- artifact net.sourceforge.jexcelapi#jxl;2.6.2!jxl.jar:

      http://repo.grails.org/grails/core/net/sourceforge/jexcelapi/jxl/2.6.2/jxl-2.6.2.jar

    ==== grailsCore: tried

      http://svn.codehaus.org/grails/trunk/grails-plugins/grails-jxl/tags/RELEASE_2.6.2/jxl-2.6.2.pom

      -- artifact net.sourceforge.jexcelapi#jxl;2.6.2!jxl.jar:

      http://svn.codehaus.org/grails/trunk/grails-plugins/grails-jxl/tags/RELEASE_2.6.2/grails-jxl-2.6.2.jar

            ::::::::::::::::::::::::::::::::::::::::::::::

            ::          UNRESOLVED DEPENDENCIES         ::

            ::::::::::::::::::::::::::::::::::::::::::::::

            :: com.lowagie#iTextAsian;2.1.5: not found

            :: net.sf.opencsv#opencsv;2.2: not found

            :: net.sourceforge.jexcelapi#jxl;2.6.2: not found

            ::::::::::::::::::::::::::::::::::::::::::::::

  :: problems summary ::
  :::: WARNINGS
            module not found: com.lowagie#iTextAsian;2.1.5

    ==== grailsPlugins: tried

      -- artifact com.lowagie#iTextAsian;2.1.5!iTextAsian.jar:

      E:\Workspace\grailsflow-demo/lib/iTextAsian-2.1.5.jar

    ==== grailsHome: tried

      E:\springsource\grails-2.0.4\bin\../lib/com.lowagie/iTextAsian/ivy-2.1.5.xml

      -- artifact com.lowagie#iTextAsian;2.1.5!iTextAsian.jar:

      E:\springsource\grails-2.0.4\bin\../lib/com.lowagie/iTextAsian/jars/iTextAsian-2.1.5.jar

      E:\springsource\grails-2.0.4\bin\../lib/com.lowagie/iTextAsian/bundles/iTextAsian-2.1.5.jar

    ==== grailsHome: tried

      E:\springsource\grails-2.0.4\bin\..\src\libs/iTextAsian-2.1.5.xml

      -- artifact com.lowagie#iTextAsian;2.1.5!iTextAsian.jar:

      E:\springsource\grails-2.0.4\bin\..\src\libs/iTextAsian-2.1.5.jar

    ==== grailsHome: tried

      E:\springsource\grails-2.0.4\bin\..\dist/iTextAsian-2.1.5.xml

      -- artifact com.lowagie#iTextAsian;2.1.5!iTextAsian.jar:

      E:\springsource\grails-2.0.4\bin\..\dist/iTextAsian-2.1.5.jar

    ==== grailsHome: tried

      E:\Workspace\grailsflow-demo\target\cached-installed-plugins/iTextAsian-2.1.5.xml

      -- artifact com.lowagie#iTextAsian;2.1.5!iTextAsian.jar:

      E:\Workspace\grailsflow-demo\target\cached-installed-plugins/iTextAsian-2.1.5.jar

    ==== grailsHome: tried

      -- artifact com.lowagie#iTextAsian;2.1.5!iTextAsian.jar:

      E:\springsource\grails-2.0.4\bin\../plugins/iTextAsian-2.1.5.jar

    ==== grailsCentral: tried

      http://plugins.grails.org/grails-iTextAsian/tags/RELEASE_2.1.5/iTextAsian-2.1.5.pom

      -- artifact com.lowagie#iTextAsian;2.1.5!iTextAsian.jar:

      http://plugins.grails.org/grails-iTextAsian/tags/RELEASE_2.1.5/grails-iTextAsian-2.1.5.jar

    ==== http://repo.grails.org/grails/plugins: tried

      http://repo.grails.org/grails/plugins/com/lowagie/iTextAsian/2.1.5/iTextAsian-2.1.5.pom

      -- artifact com.lowagie#iTextAsian;2.1.5!iTextAsian.jar:

      http://repo.grails.org/grails/plugins/com/lowagie/iTextAsian/2.1.5/iTextAsian-2.1.5.jar

    ==== http://repo.grails.org/grails/core: tried

      http://repo.grails.org/grails/core/com/lowagie/iTextAsian/2.1.5/iTextAsian-2.1.5.pom

      -- artifact com.lowagie#iTextAsian;2.1.5!iTextAsian.jar:

      http://repo.grails.org/grails/core/com/lowagie/iTextAsian/2.1.5/iTextAsian-2.1.5.jar

    ==== grailsCore: tried

      http://svn.codehaus.org/grails/trunk/grails-plugins/grails-iTextAsian/tags/RELEASE_2.1.5/iTextAsian-2.1.5.pom

      -- artifact com.lowagie#iTextAsian;2.1.5!iTextAsian.jar:

      http://svn.codehaus.org/grails/trunk/grails-plugins/grails-iTextAsian/tags/RELEASE_2.1.5/grails-iTextAsian-2.1.5.jar

            module not found: net.sf.opencsv#opencsv;2.2

    ==== grailsPlugins: tried

      -- artifact net.sf.opencsv#opencsv;2.2!opencsv.jar:

      E:\Workspace\grailsflow-demo/lib/opencsv-2.2.jar

    ==== grailsHome: tried

      E:\springsource\grails-2.0.4\bin\../lib/net.sf.opencsv/opencsv/ivy-2.2.xml

      -- artifact net.sf.opencsv#opencsv;2.2!opencsv.jar:

      E:\springsource\grails-2.0.4\bin\../lib/net.sf.opencsv/opencsv/jars/opencsv-2.2.jar

      E:\springsource\grails-2.0.4\bin\../lib/net.sf.opencsv/opencsv/bundles/opencsv-2.2.jar

    ==== grailsHome: tried

      E:\springsource\grails-2.0.4\bin\..\src\libs/opencsv-2.2.xml

      -- artifact net.sf.opencsv#opencsv;2.2!opencsv.jar:

      E:\springsource\grails-2.0.4\bin\..\src\libs/opencsv-2.2.jar

    ==== grailsHome: tried

      E:\springsource\grails-2.0.4\bin\..\dist/opencsv-2.2.xml

      -- artifact net.sf.opencsv#opencsv;2.2!opencsv.jar:

      E:\springsource\grails-2.0.4\bin\..\dist/opencsv-2.2.jar

    ==== grailsHome: tried

      E:\Workspace\grailsflow-demo\target\cached-installed-plugins/opencsv-2.2.xml

      -- artifact net.sf.opencsv#opencsv;2.2!opencsv.jar:

      E:\Workspace\grailsflow-demo\target\cached-installed-plugins/opencsv-2.2.jar

    ==== grailsHome: tried

      -- artifact net.sf.opencsv#opencsv;2.2!opencsv.jar:

      E:\springsource\grails-2.0.4\bin\../plugins/opencsv-2.2.jar

    ==== grailsCentral: tried

      http://plugins.grails.org/grails-opencsv/tags/RELEASE_2.2/opencsv-2.2.pom

      -- artifact net.sf.opencsv#opencsv;2.2!opencsv.jar:

      http://plugins.grails.org/grails-opencsv/tags/RELEASE_2.2/grails-opencsv-2.2.jar

    ==== http://repo.grails.org/grails/plugins: tried

      http://repo.grails.org/grails/plugins/net/sf/opencsv/opencsv/2.2/opencsv-2.2.pom

      -- artifact net.sf.opencsv#opencsv;2.2!opencsv.jar:

      http://repo.grails.org/grails/plugins/net/sf/opencsv/opencsv/2.2/opencsv-2.2.jar

    ==== http://repo.grails.org/grails/core: tried

      http://repo.grails.org/grails/core/net/sf/opencsv/opencsv/2.2/opencsv-2.2.pom

      -- artifact net.sf.opencsv#opencsv;2.2!opencsv.jar:

      http://repo.grails.org/grails/core/net/sf/opencsv/opencsv/2.2/opencsv-2.2.jar

    ==== grailsCore: tried

      http://svn.codehaus.org/grails/trunk/grails-plugins/grails-opencsv/tags/RELEASE_2.2/opencsv-2.2.pom

      -- artifact net.sf.opencsv#opencsv;2.2!opencsv.jar:

      http://svn.codehaus.org/grails/trunk/grails-plugins/grails-opencsv/tags/RELEASE_2.2/grails-opencsv-2.2.jar

            module not found: net.sourceforge.jexcelapi#jxl;2.6.2

    ==== grailsPlugins: tried

      -- artifact net.sourceforge.jexcelapi#jxl;2.6.2!jxl.jar:

      E:\Workspace\grailsflow-demo/lib/jxl-2.6.2.jar

    ==== grailsHome: tried

      E:\springsource\grails-2.0.4\bin\../lib/net.sourceforge.jexcelapi/jxl/ivy-2.6.2.xml

      -- artifact net.sourceforge.jexcelapi#jxl;2.6.2!jxl.jar:

      E:\springsource\grails-2.0.4\bin\../lib/net.sourceforge.jexcelapi/jxl/jars/jxl-2.6.2.jar

      E:\springsource\grails-2.0.4\bin\../lib/net.sourceforge.jexcelapi/jxl/bundles/jxl-2.6.2.jar

    ==== grailsHome: tried

      E:\springsource\grails-2.0.4\bin\..\src\libs/jxl-2.6.2.xml

      -- artifact net.sourceforge.jexcelapi#jxl;2.6.2!jxl.jar:

      E:\springsource\grails-2.0.4\bin\..\src\libs/jxl-2.6.2.jar

    ==== grailsHome: tried

      E:\springsource\grails-2.0.4\bin\..\dist/jxl-2.6.2.xml

      -- artifact net.sourceforge.jexcelapi#jxl;2.6.2!jxl.jar:

      E:\springsource\grails-2.0.4\bin\..\dist/jxl-2.6.2.jar

    ==== grailsHome: tried

      E:\Workspace\grailsflow-demo\target\cached-installed-plugins/jxl-2.6.2.xml

      -- artifact net.sourceforge.jexcelapi#jxl;2.6.2!jxl.jar:

      E:\Workspace\grailsflow-demo\target\cached-installed-plugins/jxl-2.6.2.jar

    ==== grailsHome: tried

      -- artifact net.sourceforge.jexcelapi#jxl;2.6.2!jxl.jar:

      E:\springsource\grails-2.0.4\bin\../plugins/jxl-2.6.2.jar

    ==== grailsCentral: tried

      http://plugins.grails.org/grails-jxl/tags/RELEASE_2.6.2/jxl-2.6.2.pom

      -- artifact net.sourceforge.jexcelapi#jxl;2.6.2!jxl.jar:

      http://plugins.grails.org/grails-jxl/tags/RELEASE_2.6.2/grails-jxl-2.6.2.jar

    ==== http://repo.grails.org/grails/plugins: tried

      http://repo.grails.org/grails/plugins/net/sourceforge/jexcelapi/jxl/2.6.2/jxl-2.6.2.pom

      -- artifact net.sourceforge.jexcelapi#jxl;2.6.2!jxl.jar:

      http://repo.grails.org/grails/plugins/net/sourceforge/jexcelapi/jxl/2.6.2/jxl-2.6.2.jar

    ==== http://repo.grails.org/grails/core: tried

      http://repo.grails.org/grails/core/net/sourceforge/jexcelapi/jxl/2.6.2/jxl-2.6.2.pom

      -- artifact net.sourceforge.jexcelapi#jxl;2.6.2!jxl.jar:

      http://repo.grails.org/grails/core/net/sourceforge/jexcelapi/jxl/2.6.2/jxl-2.6.2.jar

    ==== grailsCore: tried

      http://svn.codehaus.org/grails/trunk/grails-plugins/grails-jxl/tags/RELEASE_2.6.2/jxl-2.6.2.pom

      -- artifact net.sourceforge.jexcelapi#jxl;2.6.2!jxl.jar:

      http://svn.codehaus.org/grails/trunk/grails-plugins/grails-jxl/tags/RELEASE_2.6.2/grails-jxl-2.6.2.jar

            ::::::::::::::::::::::::::::::::::::::::::::::

            ::          UNRESOLVED DEPENDENCIES         ::

            ::::::::::::::::::::::::::::::::::::::::::::::

            :: com.lowagie#iTextAsian;2.1.5: not found

            :: net.sf.opencsv#opencsv;2.2: not found

            :: net.sourceforge.jexcelapi#jxl;2.6.2: not found

            ::::::::::::::::::::::::::::::::::::::::::::::

    | Error Failed to resolve dependencies (Set log level to 'warn' in BuildConfig.groovy for more information):

- com.lowagie:iTextAsian:2.1.5
- net.sf.opencsv:opencsv:2.2
- net.sourceforge.jexcelapi:jxl:2.6.2 
```

有人对解决这个问题有任何想法吗？

我的 buildConfig.groovy 文件

```
 grails.work.dir = "target" 
```

grails.project.war.file = "${appName}-${appVersion}.war"

grails.plugin.location.'grailsflow-core' = '../grailsflow-core'

grails.project.dependency.resolution = { 继承“全局”日志“警告”

```
repositories {
    grailsHome()
    mavenCentral()
    if (buildSettings.config.jcatalog.mavenLocal) {
        mavenLocal buildSettings.config.jcatalog.mavenLocal
    }
    if (buildSettings.config.jcatalog.mavenCentral) {
        mavenRepo buildSettings.config.jcatalog.mavenCentral
    }
    grailsPlugins()
    grailsCentral()
}

dependencies {
    runtime ('mysql:mysql-connector-java:5.1.6')
    compile ('com.sdicons.jsontools:jsontools-core:1.7')
    compile ('commons-httpclient:commons-httpclient:3.0.1')
}

plugins {
    // external plugins
    runtime("com.jcatalog.grailsplugins:hibernate:${grailsVersion}")
    runtime("org.grails.plugins:tomcat:${grailsVersion}")
    runtime("org.grails.plugins:resources:1.1.6")
    runtime('org.grails.plugins:quartz:0.4.2',
            'org.grails.plugins:mail:0.7.1',
            'org.grails.plugins:jquery:1.7.1',
            'org.grails.plugins:jquery-ui:1.8.15',
            'org.grails.plugins:jqplot:0.1')
    runtime('org.grails.plugins:export:0.9') {
      excludes "odfdom", 'xercesImpl'   // Fixing exception during build
    }
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T07:41:09.187

尝试添加`mavenCentral()`到您的存储库块中`BuildConfig`（或者如果它在那里但被注释掉，则取消注释它）。我认为它默认包含在 Grails 2 的新项目中，但您给出的错误表明它在这种情况下丢失了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T11:14:13.830

尝试使用插件 ":export:1.0" 而不是 ":export:0.9"。它适用于我的情况。

# mysql - 在mysql ndbcluster中，ndbd会监听哪个端口，如何配置？

> ID：11338544
> 
> 赞同：0
> 
> 时间：2012-07-05T05:59:49.023
> 
> 标签：mysql

在mysql ndbcluster中，ndbd会监听哪个端口，如何配置？

我可以使用 [MGMD] 块中的 PortNumber 来设置 mgmd 服务器的侦听端口。但是如何设置 [NDBD] 服务器的端口呢？似乎它在随机选择的端口上监听？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T13:51:11.230

您可以在此博客中找到 mysql 集群设置信息：http://ma-learnings.blogspot.nl/2012/07/mysql-cluster-and-ubuntu-1204.html。默认情况下，它将使用端口 3306。但您可以在 my.cnf 文件中设置端口。

# ruby - 在 rhel6 上安装 rvm

> ID：11338545
> 
> 赞同：0
> 
> 时间：2012-07-05T05:59:58.427
> 
> 标签：ruby, installation, rvm

好的，所以我来自python`virtualenv`环境，所以请多多包涵...

我正在尝试在非 Internet 可见的机器上安装 rvm（即它没有直接的外部访问权限）。所以

```
curl -L https://get.rvm.io | bash -s stable --ruby 
```

行不通。我想没问题，我只是从另一台机器上复制文件并做一个`cat`有效的方法，但是，因为 rvm 尝试直接从网络下载源文件，它又失败了....

所以我发现如果我把 tarballs 放在下面`~/.rvm/archives`，我可以作为单个用户安装 rvm（并占用我的家庭空间约 200MB）......但是，我想为多用户安装以用于生产目的并`.rvm`在我的项目中使用目录. 但是，我`/usr/local`是只读的（afs mount）....所以 rvm 再次失败。

有任何想法吗？我不是特别喜欢拥有 rvm 用户和组的想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:25:54.687

嗯...所以我决定查看 rvm-install 脚本（即`https://get.rvm.io`）。基本上，它被硬编码为`/usr/local/rvm`，所以我只是将其更改为`/opt/rvm`.

然后我还必须在`get_and_unpack`函数下添加对 rvm tarball 的检查：

```
if [ -e ${rvm_archives_path}/${_file} ]
then
  true
elif curl -L ${_url} -o ${rvm_archives_path}/${_file} 
```

然后将文件下载`https://github.com/wayneeseguin/rvm/tarball/master`到`/opt/rvm/archives/wayneeseguin-rvm-master.tgz`

将 rvm 安装到`/opt/rvm`.

但是，重新登录将导致`-bash: __rvm_add_to_path: command not found`. 这是因为`profile.d`脚本被硬编码为`/usr/local/`，所以做一个查找和替换就`/etc/profile.d/rvm.sh`可以`/opt/`了。

但是，所有文件仍分组为`rvm`. 这很好，但是我必须向我的 unix-admin 证明另一组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T18:50:55.543

我相信您可以向 RVM 安装脚本提供 --path=/opt/rvm 以更改多用户安装的位置。

我不相信 RVM 组可以更改，因为它依赖于该组才能正常运行。

# ios - 自定义 UITableViewCell 中单元格下的按钮显示

> ID：11338556
> 
> 赞同：1
> 
> 时间：2012-07-05T06:00:41.257
> 
> 标签：ios, cocoa-touch, ios5, uitableview, interface-builder

我有一个应用程序，它`UITableViewCell`在用户单击表中的给定行后使用自定义来显示详细信息。我似乎无法弄清楚为什么位于单元格中的“回复”按钮处于非活动状态并出现在表格本身的后面。我不能点击它、选择它或做任何事情。我使用 Interface Builder 添加按钮，而不是以编程方式添加它。

我尝试更改了许多内容，包括单元格的类和文件的所有者，但似乎无法让按钮处于活动状态和工作状态。我认为该按钮与代码中的方法的连接正确链接。

![表格下的 UIButton](../Images/0c63ed86bd180a3754936a6385ad113d.png)

这是代码的最小完整示例：

[https://www.dropbox.com/s/atcof58ciqbaojr/CustomCell.zip](https://www.dropbox.com/s/atcof58ciqbaojr/CustomCell.zip)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T14:48:43.303

显然我需要告诉表格视图单元格有多高。这是修复它的原因：

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath;
{
    return 157.0;
} 
```

# gis - 点到多边形的转换

> ID：11338557
> 
> 赞同：0
> 
> 时间：2012-07-05T06:00:55.950
> 
> 标签：gis, postgis, gdal

我正在将一个 xml 文件加载到我的 postgresql / postgis 数据库中，以下字段包含我想要转换为多边形的区域的纬度长度的线。有没有办法使用 ST_MPolyFromText 来完成这项工作，样本的 long 和 lat 与将其加载到数据库中的方式相反？

39.43,-80.29 39.46,-80.49 39.43,-80.52 39.46,-80.66 39.98,-80.76 40.07,-80.43 39.46,-79.91 39.39,-80.10 39.40,-80.121 39.34,-80.19.93,-80.18.9

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T04:17:56.000

您可以很容易地将其格式化为 WKT。首先，将逗号转换为空格，将空格转换为逗号，然后将坐标从 lat,long 转换为 long,lat (x,y)。这是一个 PostGIS 函数：

```
CREATE FUNCTION polygon_from_funny_format(latlon text) RETURNS geometry AS
$BODY$SELECT
    ST_FlipCoordinates(('SRID=4326;POLYGON((' ||
                       translate($1, ', ', ' ,') || '))')::geometry);
$BODY$ LANGUAGE sql IMMUTABLE STRICT; 
```

现在你可以这样做：

```
SELECT polygon_from_funny_format('39.43,-80.29 39.46,-80.49 39.43,-80.52 39.46,-80.66 39.98,-80.76 40.07,-80.43 39.46,-79.91 39.39,-80.10 39.40,-80.11 39.39,-80.18 39.43,-80.29'); 
```

# c++ - 在 glVertexPointer OpenGL 函数中使用 C++ std::Vector

> ID：11338561
> 
> 赞同：2
> 
> 时间：2012-07-05T06:01:11.407
> 
> 标签：c++, opengl

我有一个浮点向量，这个向量描述了一组三角形，每个三角形用 18 个浮点数描述，前 3 个是第一个顶点，接下来 3 个描述最后一个顶点的法线，依此类推 3 次，直到描述每个三角形。

我在用

```
std::vector< GLfloat > 
```

存储所有数字，这是我渲染三角形的代码

```
void Visualizer::draw3dModel()
{
    glEnableClientState(GL_NORMAL_ARRAY);
    glEnableClientState(GL_VERTEX_ARRAY);

    glNormalPointer(GL_FLOAT, 6 * sizeof(GLfloat), this->vertexes->data() + 3);
    glVertexPointer(3, GL_FLOAT, 6 * sizeof(GLfloat), this->vertexes->data());

    glPushMatrix();

        glScalef(0.05f, 0.05f, 0.05f);
        glColor3f(1,1,1);

        glDrawArrays(GL_TRIANGLES, 0, this->vertexes->size());

    glPopMatrix();

    glDisableClientState(GL_VERTEX_ARRAY);
    glDisableClientState(GL_NORMAL_ARRAY);
} 
```

这段代码确实有效，但在某些时候我用新的三角形重新创建了浮点向量，它可以或多或少是三角形

在创建新三角形之前，我使用此函数清除顶点向量

```
std::vector< GLfloat >* MarchingCubesThread::getTriangles(float minvalue_scale)
{
    this->generateTriangles(minvalue_scale);

    for(unsigned int i=0; i < this->num_triangles; i++)
    {
        for(int j=0; j < 3; j++)
        {   
            this->vertexes.push_back(this->triangles[i].p[j].x);
            this->vertexes.push_back(this->triangles[i].p[j].y);
            this->vertexes.push_back(this->triangles[i].p[j].z);

            this->vertexes.push_back(this->triangles[i].norm.x);
            this->vertexes.push_back(this->triangles[i].norm.y);
            this->vertexes.push_back(this->triangles[i].norm.z);
        }
    }

    return &(this->vertexes);
}

void MarchingCubesThread::generateTriangles(float minvalue_scale)
{
    this->vertexes.clear();
    this->triangles.clear();

    this->triangles = MarchingCubesDataset(this->dataset->getMaxVal() * minvalue_scale, *(this->dataset), LinearInterp, this->num_triangles);   
} 
```

在创建了一组新三角形之后，OpenGL 渲染器很好地更新了网格，但在某些时刻，我得到了一些垃圾三角形和/或上次迭代的三角形，应该通过调用以下命令来清除它们：

```
this->vertexes.clear();
this->triangles.clear(); 
```

这里有一些连续拍摄的截图：

![原始表面](../Images/9419145f1f29c051f3a9d77e7e7b440e.png) ![创建新三角形后，显示过去表面的一些三角形](../Images/4cfef7cfffab808019d12ef16fc24a1e.png) ![这里的效果一样](../Images/6396309a54ed7d9a73777bef1a85b469.png)

关于这里发生了什么的任何线索？，谢谢

PD：对于完整的源代码，这是 github 上的公共 git 存储库： [https ://github.com/joecabezas/MemoriaJoeCabezasCode/tree/visualizer](https://github.com/joecabezas/MemoriaJoeCabezasCode/tree/visualizer)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T06:10:41.210

`glDrawArrays`不希望缓冲区中的浮点数，而是顶点数。所以正确的调用应该是：

```
glDrawArrays(GL_TRIANGLES, 0, this->vertexes->size() / 6); 
```

通过让`glDrawArrays`绘制 6 倍以上的顶点，您在有效矢量数据结束后显示垃圾，有时它是来自先前迭代的数据。

# sencha-touch - Sencha touch 删除组头并增加差距

> ID：11338562
> 
> 赞同：0
> 
> 时间：2012-07-05T06:01:32.207
> 
> 标签：sencha-touch

如何删除 Sencha 触摸分组列表标题并增加差距。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:59:27.140

为您的列表定义一个自定义类，并将该类的 css 添加到您的 css 文件中。偏离路线，如果您使用商店并添加要分组的所需字段名，则将分组配置选项设置为 true。

**看法：**

```
Ext.define('app.view.Temp', {
        extend : 'Ext.List',
        xtype : 'temp',

        config : {
            title : 'Temp',
            cls : 'x-contacts',
            disableSelection: true,
            grouped : true,
            store : 'YourStore',
            ui : 'round',
            cls:'modifiedHeader',
            //custom css classname
            itemTpl : ['<span>{field_name}</span>'].join('')
        }
    }); 
```

* * *

**店铺：**

```
Ext.define('app.store.YourStore', {
        extend : 'Ext.data.Store',

        config : {
            model : 'app.model.Temp',
            autoLoad : true,
            storeId:'YourStore',
             groupField: 'field_name',

            proxy : {
                type : 'ajax',
                url : 'link/to/api'
            }
        }
    }); 
```

* * *

**应用程序.css**

```
.modifiedHeader .x-list-header {
//your desired css here
display:none;//If you want to hide the header
} 
```

# php - 如何使用php动态设置数组第一个元素

> ID：11338566
> 
> 赞同：1
> 
> 时间：2012-07-05T06:02:26.460
> 
> 标签：php, arrays

我有一个php数组如下，

```
<?php
    $arr = array('op'=>'pqr', 'ab'=>'xyz', 'mn'=>'abcd');

?> 
```

`xyz`如果值存在，如何将值设置为具有最小循环的第一个元素。

预期结果

```
<?php
    $arr = array('ab'=>'xyz', 'op'=>'pqr','mn'=>'abcd');
?> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T06:08:48.230

```
$ab = $array['ab'];
unset($array['ab']);
$array = array('ab' => $ab) + $array; 
```

如果密钥本身未知，请先找到它：

```
$key = array_search('xyz', $array);
$tmp = $array[$key];
unset($array[$key]);
$array = array($key => $tmp) + $array; 
```

或进行排序：

```
uasort($array, function ($a, $b) {
    if ($a == 'xyz') return -1;
    if ($b == 'xyz') return 1;
    return 0;
}); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-05T06:09:04.643

```
<?php
    $arr = array('op'=>'pqr', 'ab'=>'xyz', 'mn'=>'abcd');
    ksort($arr);
    echo '<pre>';
    print_r($arr); 
```

# python - 如何将 txt 到 Python 列表中的浮点数作为字符串来回答问题？

> ID：11338570
> 
> 赞同：0
> 
> 时间：2012-07-05T06:02:54.687
> 
> 标签：python, string, list

问题：

```
.TXT:
194220.00   38.4397984  S   061.1720742 W   0.035
194315.00   38.4398243  S   061.1721378 W   0.036 
```

Python：

```
myList = ('38.4397984,061.1720742','38.4398243,061.1721378') 
```

回答问题。[如何将 txt 中的浮点数作为字符串转换为 Python 列表](https://stackoverflow.com/questions/11336056/how-to-take-floats-from-a-txt-to-a-python-list-as-strings)

代码：

```
with open('haha.txt') as f:
    for line in f:
        words = line.split()
        print words
        my_list.append(words[1] + words[3]) 
```

我的测试代码没有产生预期的结果。它有什么问题？我错过了`,`...

```
['38.4397984061.1720742', '38.4398243061.1721378'] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T07:33:54.120

我不完全知道你想要什么，但我认为

```
my_list.append((words[1], words[3])) 
```

向 中添加一个元组`my_list`，因此结果应该是

```
[('38.43979840', '061.1720742'), ('38.43982430', '061.1721378')] 
```

相反，你也可以这样做

```
my_list.append((float(words[1]), float(words[3]))) 
```

将表示数字的字符串转换为数字：

```
[(38.4397984, 61.1720742), (38.4398243, 61.1721378)] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:11:49.297

您是否尝试过非常明显的：

```
my_list.append(words[1] + "," + words[3]) 
```

?

顺便说一句，小评论：也许将其作为对您在另一个线程中已经接受的答案的评论而不是打开另一个问题更合理。

# c# - 通过读取 excel 单元格执行查询

> ID：11338576
> 
> 赞同：0
> 
> 时间：2012-07-05T06:03:24.237
> 
> 标签：c#, .net, sql, oracle

通常，我们通过 C# 连接到 Oracle DB，然后通过 C# 执行查询。但是，我有一个excel表。在该 Excel 表中，在 F 单元格下，我将查询写在一个单元格中。我已将此单元格的值存储为 strParam1。声明如下：

```
String strParam1 = Convert.ToString(xlRange.Cells[row, 6].Value); 
```

我希望我的程序读取该单元格并执行在该单元格下写入的任何查询，即我希望我的代码读取 strParam1 并执行查询。此处如何使用 excel 表获取和执行查询语句？

发布我的代码

```
public void UpdateDatabase()
        {
            System.Data.OracleClient.OracleConnection conn = new System.Data.OracleClient.OracleConnection();
            conn.ConnectionString = "Data Source=(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.5.144)(PORT = 1521))(CONNECT_DATA =(SERVER = DEDICATED)(SERVICE_NAME = orcl)));UID=mwm;PWD=mwm";
            conn.Open();
            OracleCommand command = conn.CreateCommand();
            command.CommandText = "Select * from \"Task\"";
            command.ExecuteNonQuery();
            command.Dispose();
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:19:39.563

如果我理解了你的问题，这似乎很简单，我想我没有，这就是你想要做的一切

```
public void UpdateDatabase()
        {
            System.Data.OracleClient.OracleConnection conn = new System.Data.OracleClient.OracleConnection();
            conn.ConnectionString = "Data Source=(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.5.144)(PORT = 1521))(CONNECT_DATA =(SERVER = DEDICATED)(SERVICE_NAME = orcl)));UID=mwm;PWD=mwm";
            conn.Open();
            OracleCommand command = conn.CreateCommand();
            command.CommandText = strParam1;
            command.ExecuteNonQuery();
            command.Dispose();
        } 
```

# iphone - 如何使用 Self Like [self Method_Name] 调用方法；当方法名称很长 Like -(void)imagePickerController: (UIImagePickerController *)

> ID：11338579
> 
> 赞同：2
> 
> 时间：2012-07-05T06:03:47.513
> 
> 标签：iphone, objective-c, ios, xcode

我是 iPhone 开发的新手。我想知道如何使用以下方法调用方法`self`：

```
[self Method_Name]; 
```

当方法名很长的时候 Like

```
- (void)imagePickerController: (UIImagePickerController *)picker
        didFinishPickingImage: (UIImage *)image
                  editingInfo: (NSDictionary *)editingInfo
{
    ...
} 
```

W 想使用 调用 `imagePickerController`方法`self`。我试着用以下方式调用它：

```
 [self imagePickerController]; // Crash Here 
```

但是代码总是在这一行崩溃。如何调用该方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T06:13:29.977

`imagePickerController`不是方法名称。方法名称是

```
imagePickerController: didFinishPickingImage:  editingInfo: 
```

它有三个参数，你必须传递参数。

当你在同一个类中调用方法时，你可以写成如下

```
[self imagePickerController: pickerParameter
    didFinishPickingImage: imageParameter
    editingInfo: editingInfoParameter]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T06:07:30.080

```
[self imagePickerController: pickerParameter
    didFinishPickingImage: imageParameter
    editingInfo: editingInfoParameter]; 
```

xxxParameters 是您要传递给方法的参数。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-05T06:09:16.710

这将被自动调用。但是回答你关于如何调用这些方法的问题，它应该像

```
[self imagePickerController: picker
didFinishPickingImage: image
editingInfo: editingInfo]; 
```

但不需要调用此委托方法。它自动调用

希望能帮助到你。快乐编码:)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-05T06:12:42.930

如果您正在调用类似`[self method_name]`. 然后方法应该在那个类的（.h）文件中声明（如果你想在另一个类中访问这个方法，否则不需要在.h中声明）并且该方法应该在同一个类的（.m）文件中定义。你可以调用任何这样的方法..

```
// in .h file

- (void)imagePickerController: (UIImagePickerController *)picker
didFinishPickingImage: (UIImage *)image
editingInfo: (NSDictionary *)editingInfo;

// cal this in .m as following  

[self imagePickerController:pickerController
didFinishPickingImage: imageNamed
editingInfo: editDictionary ]; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-05T06:59:09.567

编写方法.m文件的定义如下：

```
 #import "classname.h"

    @implementation classname

    @synthesis variable1 = <variable1_>;

    @synthesis .....;

    -(void)imagePickerController: (UIImagePickerController *)picker
    didFinishPickingImage: (UIImage *)image
    editingInfo: (NSDictionary *)editingInfo {

      // Your code for this method comes here.

    } 
```

（无需在 .h 文件中声明方法。）

然后在您需要的地方使用'self'调用该方法，如下所示：

```
 [self imagePickerController: UIImagePickerControllerObject
    didFinishPickingImage: UIImageObject
    editingInfo: NSDictionaryObject]; 
```

# file - 如何导入 java.nio.file 包

> ID：11338586
> 
> 赞同：13
> 
> 时间：2012-07-05T06:04:44.097
> 
> 标签：file, import, nio, java

我试图听一个目录的变化，然后发现 java.nio.* 被开发来有效地处理这些任务等等。然后从 oracle 下载 jdk1.7.0_02 并用它启动 eclipse。然后创建了新的java项目，尝试从java.nio.file中实现一些类，哦，我的眼睛！“无法解析导入 java.nio.file”。我必须在包含此类包的整个 jdk1.7.0_02 目录中找到一些 .jar 吗？还是我的类路径有问题？先感谢您！！

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-05T06:13:04.023

你有不同版本的[JDKs](https://stackoverflow.com/questions/886744/how-install-multiple-jdk-on-windows)。您只需要设置`JDK7/JRE7`版本 eclipse 项目。您也可以`Execution environment JRE`在创建新项目时选择 JavaSE 7。

您的项目用于编译的 JDK、生成的类文件的版本、它们用于执行的 JRE 以及运行 JDK eclipse 的设置是广泛独立的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:23:18.400

新 I/0 在 javaSE 7.0（“Dolphin”）中被命名为 NIO。

以下链接详细描述。

[维基-蔚来](http://en.wikipedia.org/wiki/New_I/O#NIO_buffers)

# android - Forge / Trigger.io 甚至找不到 adb

> ID：11338587
> 
> 赞同：1
> 
> 时间：2012-07-05T06:04:47.693
> 
> 标签：android, trigger.io, forge

尝试运行 forge run android 命令并得到此错误，即使文件存在（Ubuntu 12.04）。即使我没有指定 sdk 路径并允许 forge 自行下载，我仍然会遇到同样的错误。

```
2012-07-04 15:08:36,414 [  DEBUG] Exception running detached command:
/home/rockyj/Apps/android-sdk-linux/platform-tools/adb start-server:
[Errno 2] No such file or directory while running
run_android(('/home/rockyj/Workspace/Projects/greeter/development',
u'/home/rockyj/Apps/android-sdk-linux', None, True, None), {})
2012-07-04 15:08:36,417 [  ERROR] Something went wrong that we didn't expect:
2012-07-04 15:08:36,417 [  ERROR] Exception running detached command:
/home/rockyj/Apps/android-sdk-linux/platform-tools/adb start-server:
[Errno 2] No such file or directory
2012-07-04 15:08:36,417 [  DEBUG] Traceback (most recent call last):
  File "/home/rockyj/Apps/forge-tools/forge/async.py", line 87, in run
    result = self._target(*self._args, **self._kwargs)
  File "/home/rockyj/Apps/forge-tools/forge/main.py", line 388, in run
    build_to_run=build_to_run,
  File "/home/rockyj/Workspace/Projects/greeter/.template/generate_dynamic/customer_goals.py",
line 120, in run_app
    build_to_run.run()
  File "/home/rockyj/Workspace/Projects/greeter/.template/generate_dynamic/build.py",
line 338, in run
    self._run_task(func_name, args, kw)
  File "/home/rockyj/Workspace/Projects/greeter/.template/generate_dynamic/build.py",
line 293, in _run_task
    self.tasks[func_name](self, *args, **kw)
  File "/home/rockyj/Workspace/Projects/greeter/.template/generate_dynamic/android_tasks.py",
line 588, in run_android
    run_detached([path_info.adb, 'start-server'], wait=True)
  File "/home/rockyj/Workspace/Projects/greeter/.template/generate_dynamic/android_tasks.py",
line 377, in run_detached
    raise ShellError(message="Exception running detached command: %s"
% full_command, output=str(output))
ShellError: Exception running detached command:
/home/rockyj/Apps/android-sdk-linux/platform-tools/adb start-server:
[Errno 2] No such file or directory 
```

请帮忙。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T01:21:38.240

根据评论，通过在 Ubuntu 上安装 ia32 库解决了这个问题。

# html - 自定义 TableRow 列宽

> ID：11338590
> 
> 赞同：1
> 
> 时间：2012-07-05T06:05:13.007
> 
> 标签：html, css, html-table

我有一个 HTML 表格。

第一行有 5 个元素，而第二行只有 3 个元素。

![](../Images/a4685f34d82c1a14f527d86919f4ad88.png)

* * *

为什么第二行的 3 列的宽度与前一行中各列的宽度相同？

我的意思是，由于第二行只有 3 列，它们不应该自动调整大小以填充行吗？

我尝试在第二行设置第二列的宽度，但是这也**增加**了第一行第二列的宽度，这是我不想要的。

任何帮助表示赞赏。

* * *

## 编辑

![](../Images/2f96f5109e10606175f83de7e29b7c3a.png) **所需输出**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T06:07:42.140

嘿，现在习惯了`colspan`

像这样

```
 <table width="100%" cellspacing="0" cellpadding="0">
<tr class="blue">
<td width="35%"></td>
<td width="15%">SignUp</td>
<td width="15%">Create Blog</td>
<td width="15%">Custimize Blog</td>
<td width="15%">Success</td>
</tr>

  <tr>
    <td colspan="5">
    <table width="100%" cellspacing="5" cellpadding="0">
<tr>
<td class="blue2">Create Blog</td>
<td class="blue3">Custimize Blog</td>
<td class="blue4">Success</td>
      </tr></table>
    </td>
  </tr>

</table> 
```

**CSS**

```
table tr td{
text-align:center;
}
.blue{
background:lightblue;
}

.blue2{
background:red;
}

.blue3{
background:blue;
}
.blue4{
background:green;
} 
```

现场演示[http://tinkerbin.com/vqnhht02](http://tinkerbin.com/vqnhht02)

现在更改为`width`或`height`根据**您的设计**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T10:08:57.393

尝试这个：

```
`<table width="100%" cellspacing="0" cellpadding="0">
  <tr class="blue">
    <td width="20%"></td>
    <td width="15%"></td>
    <td width="15%">SignUp</td>
    <td width="15%">Create Blog</td>
    <td width="15%">Custimize Blog</td>
    <td width="15%">Success</td>
  </tr>

  <tr>
    <td class="blue" colspan="2">Create Blog</td>
    < td class="blue" colspan="2">Custimize Blog</td>
    <td class="blue" colspan="2">Success</td>
  </tr>
</table>` 
```

根据您的需要提供背景颜色。

我认为这个宽度问题是固定的。

# javascript - 如何绑定到 jQuery 中文本区域的更改事件？

> ID：11338592
> 
> 赞同：241
> 
> 时间：2012-07-05T06:05:36.700
> 
> 标签：javascript, jquery, jquery-ui

我想捕捉是否发生任何变化`<textarea>`。就像键入任何字符（删除、退格）或鼠标单击并粘贴或剪切一样。是否有可以触发所有这些事件的 jQuery 事件？

我尝试了更改事件，但它仅在从组件中退出后才会触发回调。

**用途**`<textarea>`：如果 a包含任何文本，我想启用一个按钮。

* * *

## 回答 #1

> 赞同：356
> 
> 时间：2012-07-05T06:09:46.840

试试这个：

```
$('#textareaID').bind('input propertychange', function() {

      $("#yourBtnID").hide();

      if(this.value.length){
        $("#yourBtnID").show();
      }
}); 
```

# [演示](http://output.jsbin.com/ikeses/200/edit?html,css,js,output)

这适用于您所做的任何更改、键入、剪切、粘贴。

* * *

## 回答 #2

> 赞同：151
> 
> 时间：2014-03-04T18:27:14.340

`bind`已弃用。使用`on`：

```
$("#textarea").on('change keyup paste', function() {
    // your code here
}); 
```

注意：上面的代码将触发多次，每个匹配的触发器类型一次。要处理这个问题，请执行以下操作：

```
var oldVal = "";
$("#textarea").on("change keyup paste", function() {
    var currentVal = $(this).val();
    if(currentVal == oldVal) {
        return; //check to prevent multiple simultaneous triggers
    }

    oldVal = currentVal;
    //action to be performed on textarea changed
    alert("changed!");
}); 
```

[**jsFiddle 演示**](http://jsfiddle.net/6bt2g/)

* * *

## 回答 #3

> 赞同：88
> 
> 时间：2014-09-12T05:53:12.770

使用[`input`](https://developer.mozilla.org/en-US/docs/Web/Events/input)事件。

```
var button = $("#buttonId");
$("#textareaID").on('input',function(e){
  if(e.target.value === ''){
    // Textarea has no value
    button.hide();
  } else {
    // Textarea has a value
    button.show();
  }
}); 
```

* * *

## 回答 #4

> 赞同：27
> 
> 时间：2015-12-24T06:42:56.027

这个问题需要一个更新的答案，有来源。这才是*真正*有效的（尽管你不必相信我的话）：

```
// Storing this jQuery object outside of the event callback 
// prevents jQuery from having to search the DOM for it again
// every time an event is fired.
var $myButton = $("#buttonID")

// input           :: for all modern browsers [1]
// selectionchange :: for IE9 [2]
// propertychange  :: for <IE9 [3]
$('#textareaID').on('input selectionchange propertychange', function() {

  // This is the correct way to enable/disabled a button in jQuery [4]
  $myButton.prop('disabled', this.value.length === 0)

} 
```

1：[https](https://developer.mozilla.org/en-US/docs/Web/Events/input#Browser_compatibility)
://developer.mozilla.org/en-US/docs/Web/Events/input#Browser_compatibility 2：[当我们点击 BACKSPACE / DEL / do CUT](https://stackoverflow.com/questions/6382389/oninput-in-ie9-doesnt-fire-when-we-hit-backspace-del-do-cut#answer-13780757)
3：[https://msdn .microsoft.com/en-us/library/ms536956(v=vs.85).aspx](https://msdn.microsoft.com/en-us/library/ms536956(v=vs.85).aspx)
4：[http ://api.jquery.com/prop/#prop-propertyName-function](http://api.jquery.com/prop/#prop-propertyName-function)

**但是，对于可以在整个项目中使用的更全局的解决方案**，我建议使用[textchange jQuery 插件](https://github.com/spicyj/jquery-splendid-textchange)来获得一个新的、跨浏览器兼容的`textchange`事件。它是由为 Facebook 的 ReactJS实现等效事件[的同一个人](http://benalpert.com/2013/06/18/a-near-perfect-oninput-shim-for-ie-8-and-9.html)`onChange`开发的，他们几乎将其用于整个网站。我认为可以肯定地说，如果它对 Facebook 来说是一个足够强大的解决方案，那么它可能对你来说也足够强大。:-)

**更新：如果您**[`pandell`碰巧`jquery-splendid-textchange`](https://github.com/pandell/jquery-splendid-textchange)需要 Internet Explorer 中的拖放支持等功能，您可能希望查看.

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2018-02-12T16:15:51.653

## 2018 年，没有 JQUERY

*问题在于**JQuery**，仅供参考。*

### JS

```
let textareaID = document.getElementById('textareaID');
let yourBtnID = document.getElementById('yourBtnID');
textareaID.addEventListener('input', function() {
    yourBtnID.style.display = 'none';
    if (textareaID.value.length) {
        yourBtnID.style.display = 'inline-block';
    }
}); 
```

### HTML

```
<textarea id="textareaID"></textarea>
<button id="yourBtnID" style="display: none;">click me</div> 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2016-03-17T21:53:08.997

这是另一个（现代）但与前面提到的版本略有不同的版本。用IE9测试：

```
$('#textareaID').on('input change keyup', function () {
  if (this.value.length) {
    // textarea has content
  } else {
    // textarea is empty
  }
}); 
```

对于过时的浏览器，您还可以添加`selectionchange`和`propertychange`（如其他答案中所述）。但`selectionchange`在 IE9 中对我不起作用。这就是我添加`keyup`.

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-07-05T06:13:48.680

试试这个 ...

```
$("#txtAreaID").bind("keyup", function(event, ui) {                          

              // Write your code here       
 }); 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2016-01-24T23:08:17.487

尝试用focusout来做

```
$("textarea").focusout(function() {
   alert('textarea focusout');
}); 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2014-09-16T09:47:34.233

**.delegate**是唯一对我有用的*jQuery JavaScript Library v2.1.1*

```
 $(document).delegate('#textareaID','change', function() {
          console.log("change!");
    }); 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-05-13T23:51:37.503

经过一些实验，我想出了这个实现：

```
$('.detect-change')
    .on('change cut paste', function(e) {
        console.log("Change detected.");
        contentModified = true;
    })
    .keypress(function(e) {
        if (e.which !== 0 && e.altKey == false && e.ctrlKey == false && e.metaKey == false) {
            console.log("Change detected.");
            contentModified = true;
        }
    }); 
```

处理对任何类型的输入和选择以及忽略箭头键和 ctrl、cmd、功能键等内容的文本区域的更改。

注意：我只在 FF 中尝试过这个，因为它是用于 FF 附加组件的。

* * *

## 回答 #11

> 赞同：-11
> 
> 时间：2012-07-05T06:12:19.087

试试这个

```
 $('textarea').trigger('change');
 $("textarea").bind('cut paste', function(e) { }); 
```

# mysql - 如何在mysql中进行交叉表查询

> ID：11338598
> 
> 赞同：0
> 
> 时间：2012-07-05T06:06:15.967
> 
> 标签：mysql, crystal-reports

我正在使用 MySQL。这是我有的桌子

```
Level     Programmingtime    Clientname     projectid
0             128              abc             3
1             32               abc             3
2             126              abc             3
3             541              abc             3
4             452              abc             3
1             32               abc             3 
```

但是现在我必须以像这样的格式在水晶报告中显示这些数据

```
projectid  level0              level1      level2   level3   level4
3          128                 32+32=(64)     126      541      452
           (programmingtime) 
```

请告诉我这种困难逻辑的语法是什么。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:19:48.197

由于级别是已知的，您可以简单地执行以下操作：

```
SELECT
    projectid,
    SUM(CASE WHEN level = 0 THEN programmingtime ELSE 0 END) AS level0,
    SUM(CASE WHEN level = 1 THEN programmingtime ELSE 0 END) AS level1,
    SUM(CASE WHEN level = 2 THEN programmingtime ELSE 0 END) AS level2,
    SUM(CASE WHEN level = 3 THEN programmingtime ELSE 0 END) AS level3,
    SUM(CASE WHEN level = 4 THEN programmingtime ELSE 0 END) AS level4
FROM
    tbl
GROUP BY
    projectid 
```

# c++ - 您可以绑定对未初始化成员的引用吗？

> ID：11338601
> 
> 赞同：2
> 
> 时间：2012-07-05T06:06:33.210
> 
> 标签：c++, reference

简短的问题，以下是否可以：

```
struct X
{
    A& x;
    A  y;
    X() : x(y) {}
}; 
```

颠倒结构中两个成员的顺序肯定没问题，因为它保证`y`首先初始化，但这是否有效或调用 UB？

此外，以下是否可以：

```
struct X
{
   X& x;
   X() : x(*this) {}
}; 
```

?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T06:14:12.057

我认为这不会引发未定义的行为。

我认为这种情况与此没有什么不同：

```
 int *p = new int; 
```

该表达式`new int`是一个指向*未初始化*的int 的指针。这里我们用初始化*指针* 。内容*未*读。`p``new int`

 *相似地，

```
 int & r = *p; //or *new int 
```

这里我们用初始化*引用* 。内容*未*读`r``*p`

 *在这两种情况下，都不会读取*内容。***读取未初始化的变量会调用未定义的行为**。在这两种情况下，未初始化的是*内容，而不是**地址*，我们没有*读取*内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:34:31.237

引用和变量是不同的东西，每个都有自己的“初始化”。

引用的目的是*引用`something`*. 唯一的先决条件是`something`物理存在。无论其状态是否明确定义，都是另一回事。

引用的初始化不是UB。它可以是 UB 它的使用，在它所指的东西被赋予一个值之前，但这一点也不亚于你在使用初始化变量时得到的东西。

不同的是`X() :x(*this) {}`

在这里，您向函数（ x 构造函数）提供了一个指向尚未完全构造的东西的指针。这是“危险的”，因为 - 通常 - 你不知道该函数将对该指针做什么，以及它是否期望它以某种方式“有缺陷”。可能只是“存储它以备后用”（因此没问题）可能是它尊重它以访问......未重建的成员！这是编译器至少应该警告的事情。

当然，在这种特殊情况下（您只是在初始化一个引用）它不会成为问题，因为“引用构造函数”不会访问被引用的对象。但总的来说不是一个好主意。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T06:24:05.380

我认为将这个问题分成其他几个点是有意义的：

1.  这在语法上是否正确，是否只允许一种实现？
2.  此代码会导致崩溃和高级问题吗？
3.  编译器应该处理第二个吗？

我会回答：是，是，是/否。

我在上面的代码示例中没有看到歧义。有数百万种语法正确的代码如何破坏内存、崩溃等。这是另一个例子。

编译器可能会发出警告，因为上面的例子很明显。在具有大量间接、重定义等的真实场景中，编译器可能会感到困惑。我不会过分责备它。算法分析是另一个工具的工作，而不是编译器。

例如下面的代码非常好：

```
int *p = NULL;
int &r = *p; 
```

这是 NULL 引用。没什么特别的。

这是我的 2 美分。**

# android - 如何获得你的安卓设备的屏幕分辨率..？

> ID：11338602
> 
> 赞同：28
> 
> 时间：2012-07-05T06:06:46.273
> 
> 标签：android, cordova, screen-resolution

**我可以得到Android手机的分辨率..？**
如果是，那么如何..？
这对我真的很有帮助。。
谢谢。。

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2012-07-05T06:19:42.200

如果您想要以像素为单位的显示尺寸，您可以使用 getSize：

```
Display display = getWindowManager().getDefaultDisplay();
Point size = new Point();
display.getSize(size);
int width = size.x;
int height = size.y; 
```

此方法是在 Android API 13 中引入的，因此如果您想获取以前 API 的显示指标，请使用：

```
DisplayMetrics displaymetrics = new DisplayMetrics();
getWindowManager().getDefaultDisplay().getMetrics(displaymetrics);
int height = displaymetrics.heightPixels;
int wwidth = displaymetrics.widthPixels; 
```

如果您不在 Activity 中，则可以通过`WINDOW_SERVICE`. 还要确保在 AndroidManifest.xml 中将 minSdkVersion 设置为至少 4 以启用对 display.getWidth() 的调用。

```
WindowManager wm = (WindowManager) ctx.getSystemService(Context.WINDOW_SERVICE);
Display display = wm.getDefaultDisplay();
int width = display.getWidth();  // deprecated
int height = display.getHeight();  // deprecated 
```

**编辑：PhoneGap**

使用以下计算以像素为单位的显示大小

```
 function getDeviceDimention() {
        console.log("Device Dimention using PhoneGap");
        console.log("Width = " + window.innerWidth);
        console.log("Height = " + window.innerHeight);
    } 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-12-10T10:31:29.123

对于 Cordova / Phonegap，我发现使用

```
var width = screen.width
var height = screen.height 
```

比使用更可靠

```
var width = window.innerHeight
var height = window.innerWidth 
```

以获得当前显示器的分辨率。遗憾的是，如果您的标记溢出或没有占用屏幕上的所有可用空间，则后者是不准确的。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-05T06:40:05.867

对于phonegap，您可以使用它

您可以使用**设备宽度**和**设备高度**

```
<meta name="viewport" content="width=device-width; user-scalable=no" /> 
```

您甚至可以像这样使用 jquery 和 jquery mobile 获取设备高度和宽度

```
var width = $(window).width();
var height = $(window).height(); 
```

**注意：-**在设备准备就绪时执行此操作。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-06-27T05:27:18.807

你可以打电话

```
Display display = getWindow().getWindowManager().getDefaultDisplay();
Point outSize = new Point();
display.getRealSize(outSize); 
```

outSize.x 是宽度，outSize.y 是高度。希望它有所帮助。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-05T06:14:02.433

DisplayMetrics 指标 = new DisplayMetrics();
getWindowManager().getDefaultDisplay().getMetrics(metrics);

祝你好运행운을빈다。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-05T06:09:39.883

像这样

```
Display display = getWindowManager().getDefaultDisplay(); 
int width = display.getWidth(); 
int height = display.getHeight(); 
```

看看这个答案[Android: How to get screen dimensions](https://stackoverflow.com/a/1016941/964741)

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-07-05T06:10:19.010

```
DisplayMetrics dm = new DisplayMetrics();
getWindowManager().getDefaultDisplay().getMetrics(dm);
int width = dm.widthPixels;
int height = dm.heightPixels; 
```

祝你好运！

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-07-05T06:19:22.340

你可以得到这样的屏幕分辨率

```
 Display display = ((WindowManager) getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
    int width = display.getWidth(); 
    int height=display.getHeight(); 
```

# java - URL 构造函数中的端口

> ID：11338604
> 
> 赞同：4
> 
> 时间：2012-07-05T06:07:04.010
> 
> 标签：java

当 URL 构造函数中未明确指定端口时，我想检查使用了哪个端口。所以这里是一个代码。

```
 URL url = new URL("http://www.ietf.org/rfc/rfc2396.txt");
    System.out.println("URL :"+url.getPort()); 
```

getPort() 返回 -1。这表明我没有设置端口，这就是 grtPort() 返回 -1 值的原因。

在**java.net.URL**类的 java doc

> “如果 URL 中未指定端口，则使用协议的默认端口。http 的默认端口为 80。”

那么在上述情况下，它应该返回 80 默认端口。不是吗？但事实并非如此。那么我怎么知道哪个端口被用于连接呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T07:35:11.123

请参阅此示例**为其各自服务提供默认端口。我在这里展示了 http 和 ftp。**

**例如：**

```
public class Test {

public static void main(String[] args){

try {
System.out.println(new URL("http://www.ietf.org/rfc/rfc2396.txt").getDefaultPort());

System.out.println(new URL("ftp://www.ietf.org/rfc/rfc2396.txt").getDefaultPort());

        } catch (MalformedURLException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:39:52.190

要获得默认罐，`getDefaultPort()`在**java.net.URL**类中有一个方法

用这个

```
int port  = new URL("http://www.ietf.org/rfc/rfc2396.txt").getDefaultPort(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T06:31:43.517

你想要`url.getDefaultPort()`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-05T06:59:19.873

这取决于您发送的请求类型。

不同协议的默认端口不同。

```
20 & 21: File Transfer Protocol (FTP)
22: Secure Shell (SSH)
23: Telnet remote login service
25: Simple Mail Transfer Protocol (SMTP)
53: Domain Name System (DNS) service
80: Hypertext Transfer Protocol (HTTP) used in the World Wide Web
110: Post Office Protocol (POP3)
119: Network News Transfer Protocol (NNTP)
143: Internet Message Access Protocol (IMAP)
161: Simple Network Management Protocol (SNMP)
443: HTTP Secure (HTTPS) 
```

# javascript - javascript 链接

> ID：11338605
> 
> 赞同：-1
> 
> 时间：2012-07-05T06:07:12.607
> 
> 标签：javascript, html

我将在 html5 中使用一些繁重的 javascript 构建一个相当复杂的应用程序。在此我需要制作一些可以传递的对象。但是由于没有像@import foobar.js。

然后我假设如果我的html页面加载了脚本，那么所有的脚本都可以互相访问吗？

我读到[（在这里）](https://stackoverflow.com/questions/950087/include-javascript-file-inside-javascript-file) ajax 能够以某种方式从另一个 .js 文件中加载一个 .js 文件。但我不认为这是我需要的？

如有需要可以详细说明，先谢谢了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:21:19.110

在我们的项目中，我们执行以下操作：假设您要调用您的项目 Foo，并在其中有一个名为 Bar 的模块，

然后我们要做的是声明一个名为 Foo.js 的文件，它只定义了一个 Foo 命名空间的等价物：

```
Foo = (function(){
    return {
        };
})(); 
```

然后我们创建一个名为 Foo.Bar.js 的文件，其中包含 Bar 模块的代码：

```
Foo.Bar = (function(){
    // var declarations here that should be invisible outside Foo.Bar
var p, q;   
    return {            
        fun1 : function(a, b){
            // Code for fun1 here
        },      
        fun2 : function(c) {
            // Code for fun2 here
        }            
    } // return 
})(); 
```

请注意，它是一个立即执行的函数，并返回一个分配给`Foo.Bar`. 任何局部变量，例如`p`和`q`都可用于`fun1`并且`fun2`因为它们位于闭包中，但它们在外部不可见`Foo.Bar`

Foo.Bar 中的函数可以是对象等的构造函数。

现在在您的 HTML 中，您可以简单地包含两个文件，如下所示：

```
<script type="text/javascript" src="Foo.js"></script>    
<script type="text/javascript" src="Foo.Bar.js"></script> 
```

结果将是您可以`Foo.Bar`在主 HTML 文件的 JavaScript 中调用 ' 函数而不会出现任何问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:11:37.293

您应该查看模块模式： http: [//www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth/](http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth/)

这描述了在 javascript 中创建模块化代码的替代方法，如何保护您的代码并在它们之间共享 API 和数据。

您还应该考虑使用和 AMD。[Require.js](http://requirejs.org/)非常流行，但我更喜欢[head.js。](http://headjs.com)请记住，这些对如何在文件中构建代码提出了一些要求，与页面底部包含的串联和缩小文件相比，我个人认为这不值得。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T06:12:11.973

> 然后我假设如果我的html页面加载了脚本，那么所有的脚本都可以互相访问吗？

是的。

# .htaccess - 路径导致cakephp中显示不正确

> ID：11338606
> 
> 赞同：0
> 
> 时间：2012-07-05T06:07:18.977
> 
> 标签：.htaccess, cakephp, path

我是 cakephp 新手。这个问题是我的关键开发问题。我试图避免在堆栈溢出时问这个问题，因为我过去有过因菜鸟问题而被扣分的经验。我现在在谷歌上研究了将近两天的解决方案，但是，对于像我这样的新手来说，所有的解决方案要么不是真的有用，要么不清楚。我需要堆栈溢出的专业人员来帮助我。

基本上，我在mac上安装了xampp，我的xampp的路径`httpd.conf`是

```
DocumentRoot "/Applications/XAMPP/xamppfiles/htdocs" 
```

现在我创建了一个`htdocs`名为 as的子文件夹`cake`，其中安装了 cakephp。cakephp 正在工作，但问题是**图像文件和 css 没有显示**。我在网上搜索了许多建议的解决方案来改变`.htaccess`。这是我的三个`.htaccess`变化

**.htaccess 下蛋糕**

```
<IfModule mod_rewrite.c>
   RewriteEngine on
   RewriteBase /cake/
   RewriteRule    ^$ app/webroot/    [L]
   RewriteRule    (.*) app/webroot/$1 [L]
</IfModule> 
```

**.htaccess 下 cake>app**

```
<IfModule mod_rewrite.c>
   RewriteEngine on
   RewriteBase /cake/app/
   RewriteRule    ^$    webroot/    [L]
   RewriteRule    (.*) webroot/$1    [L]
</IfModule> 
```

**.htaccess 在 cake>app>webroot 下**

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /cake/app/webroot/
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ index.php/$1 [QSA,L]
</IfModule> 
```

但是图像和 css 仍然无法正常工作。请帮忙。非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T13:19:27.193

你启用了 Apache 的 mod_rewrite 吗？

您是否允许单个文件夹使用 .htaccess 覆盖服务器设置？

在您的系统 conf 文件中，确保您具有以下内容：

```
AllowOverride All 
```

在覆盖您的 webroot 的目录指令中。

# ms-access - 密码保护访问表

> ID：11338608
> 
> 赞同：2
> 
> 时间：2012-07-05T06:07:26.623
> 
> 标签：ms-access, ms-access-2003

我有一个带有可用性界面的 Microsoft Access 数据库……但是现在，所有用户都可以直接访问数据库的表。我想否认这一点，除了那些被授权的人，即：密码保护对表的访问而不是 GUI。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T06:17:55.863

不幸的是，对此没有“简单”的解决方案。

1.  Access 具有内置的安全机制。但请注意，这仅适用于“旧”`mdb`格式，不适用于`accdb`Access 2007/2010 支持的新格式。因此，如果您采用这种方式，则您使用的是已弃用的技术，未来版本可能不支持该技术。

    也就是说，这是在互联网上找到的教程。这个过程有点复杂；它绝对超出了 StackOverflow 答案的空间：

    [Microsoft Access 安全设备](http://www.grahamwideman.com/gw/tech/access/accesssec/index.htm)

2.  如果您需要更面向未来的解决方案，恐怕您唯一的选择是将后端（= 表）移动到另一个数据库系统，例如 SQL Server Express。[在那里，您可以使用Application Roles](http://msdn.microsoft.com/en-us/library/ms190998.aspx)限制对表的访问并授予对应用程序的访问权限。

3.  如果您只想防止您的用户不*小心*弄乱您的数据，那么只安装[Access Runtime](http://www.microsoft.com/de-de/download/details.aspx?id=10910)而不是完整的产品可能就足够了。但是请注意，这不提供*安全性*，因为恶意用户可以简单地安装完整版的 Access！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:22:27.513

建议将权限分配给组，而不是用户，因为每个用户都会继承分配给组的权限。[这可能会帮助你](http://www.databasedev.co.uk/permissions.html)

# asp.net-mvc-3 - 从 c# linq 对象检索数据到 json 到 html

> ID：11338610
> 
> 赞同：0
> 
> 时间：2012-07-05T06:07:32.560
> 
> 标签：asp.net-mvc-3, getjson

从 json 中检索代码。

C#代码：-

```
var collection = getsortcat.Select(x => new
        {
            idterm = x.IDTerm,
            mvo = x.MVO,
            pic = x.Pic,
            said = x.SAid,
            termactive = x.TermActive,
            vid = x.Vid,
            fvo = x.FVO,
            eterm = x.ETerm,
            edef = x.EDef,
            buse = x.BUse,
            bterm = x.BTerm,
            idcat = x.TermCat,
            items = x.TermCategory1.IDCat,
            catname = x.TermCategory1.TermCategory1
        });
        JavaScriptSerializer jss = new JavaScriptSerializer();
        string output = jss.Serialize(collection);
        return Json(output, JsonRequestBehavior.AllowGet); 
```

Javascript代码：-

```
success: function (e) {
                    var txt = "'{ data :" + e + "}'";
                    var obj = eval("(" + txt + ")");
                    $('#pdata').append(obj.data[0]);
                }, 
```

没有得到输出。请给我解决方案如何将数据从 c# linq 对象检索到 json 到 html？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:09:36.430

首先修复您的控制器操作以摆脱任何 JavaScriptSerializers 和手动管道代码。直接将集合返回到Json结果中：

```
var collection = getsortcat.Select(x => new
{
    idterm = x.IDTerm,
    mvo = x.MVO,
    pic = x.Pic,
    said = x.SAid,
    termactive = x.TermActive,
    vid = x.Vid,
    fvo = x.FVO,
    eterm = x.ETerm,
    edef = x.EDef,
    buse = x.BUse,
    bterm = x.BTerm,
    idcat = x.TermCat,
    items = x.TermCategory1.IDCat,
    catname = x.TermCategory1.TermCategory1
});
return Json(collection, JsonRequestBehavior.AllowGet); 
```

现在在成功回调中，`e`参数已经代表了一个已解析的对象数组。您无需调用任何`eval`. 直接访问元素（按索引），然后访问属性：

```
success: function (e) {
    var txt = e[0].mvo;
}, 
```

您还可以遍历元素：

```
success: function (e) {
    for (var i = 0; i < e.length; i++) {
        var element = e[i];
        alert(element.idterm);
    }
}, 
```

# iphone - 没有为 APNS 获取设备的设备令牌？

> ID：11338614
> 
> 赞同：3
> 
> 时间：2012-07-05T06:08:02.967
> 
> 标签：iphone, ios, ipad, apple-push-notifications

我为 APNS 开发应用程序。我的代码在一台设备上运行良好，我也收到了设备的苹果推送通知。但是当我为设备运行该应用程序时，我得到了设备令牌，并且通过该令牌我将能够完成所有过程。现在我的问题是当我为其他设备安装相同的应用程序时，以下方法不起作用。

```
application:(UIApplication *)app didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken 

application:(UIApplication *)app didFailToRegisterForRemoteNotificationsWithError:(NSError *)err 
```

这意味着我没有获得其他设备的设备令牌。但是是的，当我为该设备安装应用程序时，该应用程序已在设备设置的通知部分中注册。

该怎么做以及我错过了什么，为什么这些方法不能用于具有有效配置的预配置配置文件的其他设备？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T07:20:34.343

我遇到了问题...实际上我没有检查其他设备的互联网连接是否正确。由于互联网连接问题，这些方法没有奏效。所以感谢苹果通过这个 [http://developer.apple.com/library/ios/#technotes/tn2265/_index.html](http://developer.apple.com/library/ios/#technotes/tn2265/_index.html)链接为我提供了很多信息。

# iphone - 无法在我的 iphone 游戏应用程序中以编程方式加载 admob 广告

> ID：11338616
> 
> 赞同：1
> 
> 时间：2012-07-05T06:08:09.627
> 
> 标签：iphone, objective-c, ios, admob

我在目标 c 中有一个 iPhone 游戏应用程序，它使用私有类以编程方式加载每个视图。（不使用 nib 文件）我试图在视图中放置一个 admob 广告，但似乎我无法让它工作。我试图将我的 admob 广告视图放在 init 方法中，但它仍然没有加载视图。

以下是我如何初始化数据以加载视图的一些代码：

```
-(id)init
{
    if( (self=[super init]))
    {
        played_ = NO;

        KWSprite* background = [KWSprite spriteWithFile:@"title_background.png"];
        background.position = ccp(winSize_.width/2, winSize_.height/2);

        KWSprite* logo = [KWSprite spriteWithFile:@"logo.png"];
        logo.position = ccp(winSize_.width/2, 260);    

        CCMenuItemImage* start = [CCMenuItemImage itemFromNormalImage:@"start.png" selectedImage:@"start_selected.png" target:self selector:@selector(pressStartButton:)]
        CCMenuItemImage* credit  = [CCMenuItemImage itemFromNormalImage:@"credit.png" selectedImage:@"credit_selected.png" target:self selector:@selector(pressCreditButton:)];
        CCMenuItemImage* iADButton  = [CCMenuItemImage itemFromNormalImage:@"noAdsD.png" selectedImage:@"noAdsD@2x.png" target:self selector:@selector(pressiAdButton:)];

        CCMenuItemImage* howto = [CCMenuItemImage itemFromNormalImage:@"howto.png" selectedImage:@"howto_selected.png" target:self selector:@selector(pressHowtoButton:)];

        CCMenu* menu = [CCMenu menuWithItems:howto, start, credit, iADButton, nil];
        [menu alignItemsHorizontally];
        menu.position = ccp(winSize_.width/2, 40); 
        [self addChild:background];
        [self addChild:logo];
        [self addChild:menu];
    }
    return self;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-16T18:50:04.673

看起来你在这里使用的是 Cocos2D。如果您使用的是 v0.99.5b3 之后的版本，我建议您将 AdMob 代码放在 RootViewController 类中。OpenGL 性能会更好，因为您没有将 UIKit 视图与 OpenGL 视图结合起来。

在高层次上，您必须将 GADBannerView 添加到您的 RootViewController 的视图中，然后减小 Cocos2D OpenGL 视图的大小以确保广告显示。这可能如下所示（此代码假定广告位于顶部）：

```
- (void)showBanner {
  // Frame of the main RootViewController which we call the root view.
  CGRect rootViewFrame = self.view.frame;
  // Frame of the main RootViewController view that holds the Cocos2D view.
  CGRect glViewFrame = [[CCDirector sharedDirector] openGLView].frame;
  // Frame of the GADBannerView
  CGRect bannerViewFrame = bannerView_.frame;
  CGRect frame = bannerViewFrame;
  // The updated x and y coordinates for the origin of the banner.
  CGFloat yLocation = 0.0;
  CGFloat xLocation = 0.0;

  // Move the root view underneath the ad banner.
  glViewFrame.origin.y = bannerViewFrame.size.height;
  // Center the banner using the value of the origin.
  if (UIInterfaceOrientationIsLandscape(toInt)) {
    // The superView has not had its width and height updated yet so use those
    // values for the x and y of the new origin respectively.
    xLocation = (rootViewFrame.size.height -
                    bannerViewFrame.size.width) / 2.0;
  } else {
    xLocation = (rootViewFrame.size.width -
                    bannerViewFrame.size.width) / 2.0;
  }
  frame.origin = CGPointMake(xLocation, yLocation);
  bannerView_.frame = frame;

  if (UIInterfaceOrientationIsLandscape(toInt)) {
    // The super view's frame hasn't been updated so use its width
    // as the height.
    glViewFrame.size.height = rootViewFrame.size.width -
                                    bannerViewFrame.size.height;
    glViewFrame.size.width = rootViewFrame.size.height;
  } else {
    glViewFrame.size.height = rootViewFrame.size.height -
                                    bannerViewFrame.size.height;
  }
  [[CCDirector sharedDirector] openGLView].frame = glViewFrame;

} 
```

# c#-4.0 - 将 WPF Datagrid 绑定到导航属性 EF？

> ID：11338619
> 
> 赞同：0
> 
> 时间：2012-07-05T06:08:23.903
> 
> 标签：c#-4.0, entity-framework-4.1, wpfdatagrid

我想将 Datagrid 绑定到导航属性。

例如。如果我有两个实体客户端和电话由 Client_ID 链接

用户编辑手机详细信息时没有问题，修改正确保存

用户添加新电话并保存时存在问题，新行没有保存。如果用户添加新客户端。客户端数据已保存，但所有电话均未保存？感谢帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T09:36:58.083

这可能是因为 Phone 将具有 Property Client 当您添加 Phone 时，此属性为 null，因此您还必须将其 Client Property 设置为 Current 客户端或更确切地说是其 id 将在 Phone FK 中的客户端。希望这会有所帮助。

```
public void SaveClient(Client client)
        {
            client.PhoneNumbers.ToList().ForEach(pn=>pn.Client=client);
            using(var context=new MyContext())
            {
                  context.Clients.Add(client);
                  context.SaveChanges();
             }

        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T11:26:06.093

```
 private void Save_Button_Click(object sender, RoutedEventArgs e)
    {
        Client1.PhoneNumbers.ToList().ForEach(pn => pn.Client = Client1);
        Client1.OtherNavigationProperties = null;
        using(var context=new MyContext())
        {
            if (insert)
                context.Client.Add(Client1);
            if (update)
            {
                var client = context.GetClientsByClientID(Client1.ID);
                client.PhoneNumbers = Client1.PhoneNumbers;
                //other changes if any in client
                //again set all navigation properties null else than PhoneNumbers

            }
            context.SaveChanges();
        }
    } 
```

试试这个

# plugins - 如何在位于其他目录的模块中找到谓词的声明

> ID：11338622
> 
> 赞同：0
> 
> 时间：2012-07-05T06:08:30.433
> 
> 标签：plugins, prolog, declaration, predicate, sicstus-prolog

对于 Prolog 插件，例如 SICStus [spider](http://www.sics.se/sicstus/spider/site/index.html)、[proDT](http://prodevtools.sourceforge.net/)和[PDT](http://roots.iai.uni-bonn.de/research/pdt/)，eclipse 编辑器中的“查找声明”无法在位于不同目录的模块中找到谓词定义。

例如，

```
$HOME/dirA/A.pl:
    :- module(database,[]).
    ...
    set_dbaccess(Options) :-
      (db_done ->
           true
           ; 
    ...

$HOME/dirB/B.pl:
    ...
    fd(From,To,OrigOptions) :-
       database:set_dbaccess(OrigOptions),
    ... 
```

`database`B.pl 顶部没有模块的导入语句。所以上述所有插件都找不到 module`database`和 predicate的定义`set_dbaccess`。当然，对符号的 F3 操作`database, set_dbaccess`也会失败。

有什么方法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T14:28:42.973

我不太确定你到底想要什么，但我想你可以制作一个文件说 pred_files 包含 :-dynamic pred1/2, pred2/3, ... 并且每次你需要在另一个 .pl 文件中使用谓词时，你可以使用:-ensure_loaded(pred_files)

# iphone - 我可以提供用于我的 Web 应用程序的 iPhone 主屏幕快捷方式的图标吗？

> ID：11338631
> 
> 赞同：1
> 
> 时间：2012-07-05T06:09:09.770
> 
> 标签：iphone, ios, web-applications, iphone-standalone-web-app

我有一个将在 iPhone 上使用的 Web 应用程序，并希望提供在添加为主屏幕快捷方式时显示的图标。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T06:13:35.357

`<head>`在起始页的部分中使用此 HTML 代码：

```
<link rel="apple-touch-icon" href="my_icon.png" /> 
```

# java - 从邻接表表示生成树的程序

> ID：11338634
> 
> 赞同：0
> 
> 时间：2012-07-05T06:09:14.040
> 
> 标签：java, json, tree

我有一个 JSON 字符串，它具有 Tree 的邻接表示。我需要编写一个程序来可视化这棵树。可能的方法是什么？我需要类似从 Weka 生成的东西..

示例 Json 是：

```
[{
          "parent_index" : -1,
          "ClassLable" : "TEMPERATURE",
          "ChildNum" : 4,
          "AttributeTest" : "NULL"
     }, {
          "parent_index" : 0,
          "ClassLable" : "yes",
          "ChildNum" : 0,
          "AttributeTest" : "<65"
     }, {
          "parent_index" : 0,
          "ClassLable" : "WINDY",
          "ChildNum" : 2,
          "AttributeTest" : "65-80.5"
     }, {
          "parent_index" : 2,
          "ClassLable" : "yes",
          "ChildNum" : 0,
          "AttributeTest" : "false"
     }, {
          "parent_index" : 2,
          "ClassLable" : "HUMIDITY",
          "ChildNum" : 4,
          "AttributeTest" : "true"
     }, {
          "parent_index" : 4,
          "ClassLable" : "yes",
          "ChildNum" : 0,
          "AttributeTest" : "<64"
     }, {
          "parent_index" : 4,
          "ClassLable" : "no",
          "ChildNum" : 0,
          "AttributeTest" : "64-74.5"
     }, {
          "parent_index" : 4,
          "ClassLable" : "yes",
          "ChildNum" : 0,
          "AttributeTest" : "74.5-85"
     }, {
          "parent_index" : 4,
          "ClassLable" : "yes",
          "ChildNum" : 0,
          "AttributeTest" : ">85"
     }, {
          "parent_index" : 0,
          "ClassLable" : "HUMIDITY",
          "ChildNum" : 4,
          "AttributeTest" : "80.5-96"
     }, {
          "parent_index" : 9,
          "ClassLable" : "no",
          "ChildNum" : 0,
          "AttributeTest" : "<64"
     }, {
          "parent_index" : 9,
          "ClassLable" : "WINDY",
          "ChildNum" : 2,
          "AttributeTest" : "64-74.5"
     }, {
          "parent_index" : 11,
          "ClassLable" : "no",
          "ChildNum" : 0,
          "AttributeTest" : "false"
     }, {
          "parent_index" : 11,
          "ClassLable" : "no",
          "ChildNum" : 0,
          "AttributeTest" : "true"
     }, {
          "parent_index" : 9,
          "ClassLable" : "WINDY",
          "ChildNum" : 2,
          "AttributeTest" : "74.5-85"
     }, {
          "parent_index" : 14,
          "ClassLable" : "yes",
          "ChildNum" : 0,
          "AttributeTest" : "false"
     }, {
          "parent_index" : 14,
          "ClassLable" : "no",
          "ChildNum" : 0,
          "AttributeTest" : "true"
     }, {
          "parent_index" : 9,
          "ClassLable" : "no",
          "ChildNum" : 0,
          "AttributeTest" : ">85"
     }, {
          "parent_index" : 0,
          "ClassLable" : "yes",
          "ChildNum" : 0,
          "AttributeTest" : ">96"
     }
] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T08:12:54.183

我使用 Google 图表 API 生成树（我使用了 Org chart API）

# url - 在 ODATA 中获取元数据。接下来是什么？

> ID：11338646
> 
> 赞同：0
> 
> 时间：2012-07-05T06:09:55.180
> 
> 标签：url, metadata, odata

我正在尝试从我不太了解的服务中获取数据。

所以我得到了它的网址，比如 [http://ABC.com/ABC.svc](http://ABC.com/ABC.svc)

所以我想把元数据作为 [http://ABC.com/ABC.svc/](http://ABC.com/ABC.svc/) $metadata

它给了我：

```
<EntityType Name="E1">
- <Key>
<PropertyRef Name="E1k1" /> 
</Key>
< Property Name="E2" Type="Edm.String" Nullable="true"
 m:FC_TargetPath="SyndicationTitle" ..>

<ComplexType Name="OptionV1">
<Property Name="Value" Type="Edm.Int32" Nullable="true" /> 

... and a lot more. 
```

我如何找出 ABC.svc/ 旁边的内容？？？

我想编写查询来访问数据。有人可以指出我的下一步应该是什么吗？并且从元数据生成此查询的任何学习资源都将是 hlpful。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T14:53:40.003

[LinqPad](http://www.linqpad.net/) provides a very simple means for getting started with OData services (assuming some familiarity with LINQ). If you will primarily be primarily consuming this application from .NET, I'd recommend starting with this application. You point it to the $metadata endpoint and it generates proxy classes which allow you to work with the OData service much like you would in a plain-old-.NET-app. On the Results Log tab, it will output the URL used to query the OData service, which you can then pick up and tweak in [Fiddler](http://www.fiddler2.com/fiddler2/). (For more about how to use OData + Fiddler, see this blog post.)

If you'll primarily be using the OData service from JavaScript, you might want to start by understanding the [URI conventions](http://www.odata.org/developers/protocols/uri-conventions) better or by playing around with [data.js](http://nuget.org/packages/datajs).

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T10:14:10.703

There are two ways:

1) Using the service document. Navigate to the ABC.svc, that should return a service document, that is an ATOM Service payload which contains the names of the entity sets available from the service. For a sample of such you can go to [http://services.odata.org/OData/OData.svc/](http://services.odata.org/OData/OData.svc/). This should return a document with three collections (Entity sets). The href attribute is a relative URI to the entity set (relative to the xml:base which is usually the base of the service). So if for example your service has an entity set E1Set, then typically the address of it would be ABC.svc/E1Set.

2) Using the $metadata document and assuming the usual addressing scheme (note that this usually applies to the service but it doesn't have to). The $metadata document will define entity sets. Each of these is usually exposed by the service and typically follows the addressing scheme of ABC.svc/EntitySetName.

Once you navigate to the entity set, you should get back an ATOM feed with the entities in that set. The $metadata will help you recognize the shapes of the entities and the relationships.

Some services also have service operations or actions and so on. These are not exposed in the service document #1\. Instead they are only visible in the $metadata as FunctionImport elements. They usually follow the addressing scheme of ABC.svc/FunctionImportName. But note that you might need to know something more about the service operation to be able to invoke it (what HTTP verb to use, what are the parameters, what it will do, and so on).

# html - SEO 房地产上市网站 - 索引和链接到 CSS/JS

> ID：11338647
> 
> 赞同：-2
> 
> 时间：2012-07-05T06:09:57.300
> 
> 标签：html, wordpress, seo

我参与了一个房地产上市网站的项目。该网站能够发布广告、拥有静态页面以及博客。由于这可以使用 WordPress 轻松实现，我有一些经验，我继续使用 WP。

当网站正常运行时，可能会托管数百甚至数千个活跃的房地产广告。我们正在使用永久链接。广告是相对静态的。一旦发布将保持如此。但是小部件会用最新的广告和帖子更新侧边栏。

**问题 1：**我的问题是，是否可以索引整个站点。我问这个问题是因为我看到一些博客文章说索引这些列表是一个坏主意。我还附带了一些博客文章，说在拥有此类内容时使用模式（例如定义“价格”、“评级”等）。

**问题 2：**我有特定于页面的 CSS 和 JS。目前我将它们嵌入到标题中，因此不需要它们的页面也必须加载它们。我听说现代浏览器会缓存这些内容，因此不会给网络服务器带来负担。

意外地，我将指向 CSS 的“链接”放在了 HTML 页面的**body**标记中，它可以正常工作。我想知道这是否是一种不好的做法。

提前感谢您的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T15:22:57.833

**问题 1）**这可能是显示数据并输入数据以供将来使用的更好方法，但我怀疑它会对 SEO 产生任何影响。可能值得在这里单独重新发布这个问题：

```
http://wordpress.stackexchange.com 
```

**问题 2）**您可以在模板文件中使用条件格式在某些页面上加载 CSS/JS。例如外观 -> 编辑器 -> 标题（header.php 或您的模板可能使用的任何文件名）

```
<?php
if(is_front_page()) {
echo "your custom CSS and JS here";
} ?> 
```

该示例适用于首页，但如果是另一页，请尝试将第二行替换为：**if(is_page('contact')) {** where contact 将替换为您的页面 slug 或 id。

虽然在正文中加载 CSS 是可行的，但这是一种不好的做法，因为从技术上讲，页面元素可能会在加载 CSS 文件之前加载。这可能是旧浏览器的问题。

希望它有所帮助，杰里米。

# android - 如何在 Android ListView 中显示两个 ArrayList 值？

> ID：11338649
> 
> 赞同：0
> 
> 时间：2012-07-05T06:10:12.207
> 
> 标签：android, listview, android-emulator, arraylist, android-2.2-froyo

我是新的 Android 开发。在我的应用程序中，我有两个 ArrayList。

一个 ArrayList 包含 HashTbale。另一个包含 HashTable

现在我如何设置适配器以及如何在第二个 ArrayList 的 Listview 图像和 ListView Row 的 ArrayList 的文本中显示。

我无法得到确切的解决方案。

请任何人帮助解决这个问题。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:20:16.040

**第一个建议：（不建议）**

你知道如何为 ListView 定义自定义适配器吗？如果是，那么您可以轻松地将两个数组列表传递给您的自定义适配器。在`getView()`方法内部，您可以在 ListView 中显示您想要的任何详细信息

**第二个建议：（建议的解决方案）**

如果您制作一个自定义对象的 ArrayList，则无需在适配器中传递两个 ArrayList。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T07:06:24.727

如果您想在每一行中显示图像和文本，并且如果您使用 2 个数组列表，那么这里是解决方案。试试这个

```
List<Integer> imageList = getImageList();  //list of drawable ids
List<String> values = getValues();

class CustomAdapter extends BaseAdapter {

    @Override
    public int getCount() {
        // TODO Auto-generated method stub
        return imageList.size();;
    }

    @Override
    public Object getItem(int position) {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public long getItemId(int position) {
        // TODO Auto-generated method stub
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // inflate the layout which contains imageview and textview which are aligned horizontally. 
        //Assuming you inflated layout and got imageView and textview from that layout
        textView.setText(values.get(position));

        imageView.setImageResource(imageList.get(position));
        return convertView;
    }

} 
```

//如果直接复制粘贴，代码将不起作用。使用逻辑并相应地改变

我的建议是使用 HashMap，而不是使用 2 arraylist。图像路径作为键，文本作为值。

# javascript - phonegap/web 数据库错误代码解释？

> ID：11338650
> 
> 赞同：1
> 
> 时间：2012-07-05T06:10:14.493
> 
> 标签：javascript, database, cordova, web-storage

如果与 Web 数据库的事务（我正在使用 Phonegap）失败，我想向用户显示正确的错误。在 Error-Callback 中，我要求提供 error.code 值以确定出了什么问题。

文档[对此](http://docs.phonegap.com/en/1.2.0/phonegap_storage_storage.md.html#SQLError)进行了说明。但是，我有一个事务失败的情况，因为插入一个已经存在的值违反了唯一约束。

```
function saveErrorCB(err){
    console.log(err.code + " " + err.message + " ");
} 
```

err.code 显示：

> 1

err.message 在这里显示：

> 无法执行语句（19 约束失败）

我的意思是，我想了解其他代码，例如“1”。Phonegap 文档没有提到它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T17:48:59.680

我认为 Phonegap 文档确实（最终）链接到 W3C 页面，然后说......

*   UNKNOWN_ERR = 0
*   DATABASE_ERR = 1
*   VERSION_ERR = 2
*   TOO_LARGE_ERR = 3
*   QUOTA_ERR = 4
*   SYNTAX_ERR = 5
*   CONSTRAINT_ERR = 6
*   TIMEOUT_ERR = 7

它似乎`err.message`更有用 - 感谢您告诉我！

# ruby-on-rails - 刷新页面后如何清除搜索内容

> ID：11338651
> 
> 赞同：0
> 
> 时间：2012-07-05T06:10:15.927
> 
> 标签：ruby-on-rails, activescaffold

我正在使用 rails 3.2 和活动脚手架 3.2.3，我想在刷新页面后清除搜索内容（空搜索字段）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:23:16.987

你可以简单地做到这一点

```
 define javascript tag in your page and write this code   

   <script type="text/javascript>">

   $(document).ready(function () {

      $("your_text_field_id").val("");

    });

    </script> 
```

这肯定会奏效...

# sql - 如何显示这样的 SQL 结果

> ID：11338653
> 
> 赞同：2
> 
> 时间：2012-07-05T06:10:39.657
> 
> 标签：sql, join

我想加入表 Documents(id, name) 和 Tags(tagId, tagname, docId(FK))。然而，结果将返回许多冗余行，因为一个文档可以有许多标签：

```
Document_name |Tag
----------------------
document01     tag01
document01     tag02
document02     tag01 
```

我试图解决的只是：

```
document_name |Tags
----------------------------
document01    | tag01, tag02
document02    | tag01 
```

或者可以是这样的：

```
Document_name |Tag_1   |Tag_2  |Tag_...
---------------------------------------
document01     tag01  |tag02
document02     tag01 
```

任何人都知道如何实施这种情况？非常感谢！（我试图在这个网站上找到其他答案，但我不知道在这种情况下搜索合适的关键字）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:14:36.103

如果您使用的是 MySQL，您可以这样做：

```
select document_name, group_concat(tag SEPARATOR ', ')
from Documents
group by document_name 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:30:28.337

对于 MS-SQL 试试这个

```
select 
    d1.Document_name, 
    ( 
        select d2.Tag +','
        from Docs d2
        where d2.Document_name = d1.Document_name
        for xml path('')
    ) as Tags
from Docs d1
group by d1.Document_name 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T06:50:16.733

在 MySQL 中：

```
SELECT doc.name, GROUP_CONCAT( tag.tagname SEPARATOR ', ') 
       FROM documents AS doc
       JOIN Tags AS tag ON doc.id = tag.docId
       GROUP BY tag.docId 
```

结果：

```
 document_name |Tags
----------------------------
document01    | tag01, tag02
document02    | tag01 
```

# javascript - 骨干.relational - 键，keySource，keyDestination

> ID：11338656
> 
> 赞同：3
> 
> 时间：2012-07-05T06:10:58.267
> 
> 标签：javascript, backbone.js, backbone-relational

我有以下两个模型：`User`和`Job`。
每个`user`人只能有一份工作。和看起来像这些 (1)
：`user.attributes``job.attributes`

(1)

```
user.attributes = {
    id: 1,
    name: 'barName',
    job_id: 5
}

job.attributes = {
    id: 5,
    name: 'fooJob'
} 
```

假设我想在这两个模型之间建立关系：外键应该是`job_id`

(2)

```
User = Backbone.ModelRelation.extend({
    relations: [
        {
            type: Backbone.HasOne,
            key: 'job_id',
            keyDestination: 'job',
            relatedModel: User
        }
    ]
}); 
```

使用代码 (2)，结果将是：

(3)

```
user.attributes = {
    id: 1,
    name: 'barName',
    job: job.attributes
} 
```

如您所见，`job_id`from`user.attributes`丢失了。
因此，如果我向服务器发出 PUT 请求，服务器会抱怨缺少 job_id 属性。
有什么想法可以修复（3）以便将 job_id 保留在 user.attributes 中，如（4）？

(4)

```
user.attributes = {
    id: 1,
    name: 'barName',
    job_id: 5
    job: job.attributes
} 
```

* * *

参考：
[Paul Uithol](https://github.com/PaulUithol) -[骨干关系](https://github.com/PaulUithol/Backbone-relational/#backbone-relation)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-30T14:25:07.783

我的解决方法是改变服务器读取 JSON 的方式。

所以服务器会读取`{user:{job:{id:1}}}`而不是`{user:{job_id:1}}`

请注意，我们包含一个具有 id 属性的子对象，而不是使用 job_id 平面属性。

根据可以配置的服务器端框架。

# testing - 如何检查集成测试中的持久数据

> ID：11338657
> 
> 赞同：0
> 
> 时间：2012-07-05T06:11:11.730
> 
> 标签：testing, grails, integration-testing

在我的集成测试中，我执行以下操作：

```
void testSave() {
    def controller = new BookController()
    controller.params.title = "Awesome Book"
    controller.params.pages = 1000
    controller.save()
    // i want to check book data here
} 
```

我怎样才能检索`Book`我的控制器持久化并检查那个`title == "Awesome Book"`和那个`pages == 1000`？我可以从测试中以某种方式访问`bookInstance`​​控制器中的变量吗？

我不能假设这`Book.get(1)`会给我正确的`Book`，因为数据库中会有引导数据。控制器重定向到一个完全`Book`不相关的页面，因此我无法`id`从 URL 获取。我唯一能想到的就是做这样的事情：

```
void testSave() {
    def oldIdList = Book.list()*.id
    // set up the parameters and call controller.save()
    def insertedId = Book.list()*.id - oldIdList
    // check Book.get(insertedId) properties
} 
```

但我希望有更好的方法......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:48:39.293

假设您使用的是 Grails 2.0.x，您可以使用 findBy* 方法通过它的任何属性来查找这本书：

```
def book = Book.findByTitle("Awesome Book")
assertNotNull book 
```

# android - 在关闭应用程序或活动之前不会保存共享首选项

> ID：11338658
> 
> 赞同：1
> 
> 时间：2012-07-05T06:11:12.447
> 
> 标签：android, sharedpreferences

我正在制作一个活动，该活动将在活动开始之前在执行任何功能之前编辑共享首选项。我被卡住了，不知道该怎么做。我的应用程序仅在我关闭应用程序或返回另一个活动时编辑共享首选项。我想在活动开始时编辑它们而不执行任何功能，即*checkpreferences();* .Precisely 如何在活动开始时编辑共享偏好？

```
public class MyActivity extends Activity {

private SharedPreferences app_preferences;

@Override
public void onCreate(Bundle savedInstanceState) {

super.onCreate(savedInstanceState);
  setContentView(R.layout.main);

  // Get the app's shared preferences
  app_preferences = PreferenceManager.getDefaultSharedPreferences(this);

  final int id = 42;

  int idd = app_preferences.getInt("idd", 0);
  // I am Stuck in this part
  SharedPreferences.Editor editor = app_preferences.edit();  
    editor.putInt("idd", 43);
    editor.commit(); // Very important

  final int iddd = idd;
  checkpreferences(id, iddd);

        }

private void checkpreferences(int di, int dii) {
      if(di == dii) {
        Toast.makeText(AudioActivity.this,"id is same"+dii+"="+di , Toast.LENGTH_SHORT).show();
      }else{

            Toast.makeText(AudioActivity.this,"id is different"+dii+"!="+di, Toast.LENGTH_SHORT).show();

      }

}

 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:16:35.297

我认为错误就在这里，您正在尝试在保存共享首选项的值之前对其进行保存

```
// Fetching of value

    int idd = app_preferences.getInt("idd", 0);

Log.e("value " , " is "  + idd);
as at this time there shall be no value in  preference 

    // and commitng after it 

      SharedPreferences.Editor editor = app_preferences.edit();  
        editor.putInt("idd", 43);
        editor.commit(); // Very important 
```

您应该在获取之前保存首选项并确保它也打印日志

# android - 按钮单击强制关闭应用程序

> ID：11338663
> 
> 赞同：-2
> 
> 时间：2012-07-05T06:11:30.270
> 
> 标签：android, button

每当我单击按钮 1 时，应用程序就会崩溃（强制关闭）。我无法弄清楚原因。将目录更改为 Environment.getExternalStorageDirectory().getAbsolutePath()+"/test.3gp" 也不起作用。代码是：

```
package com.example.newaa;
import java.io.IOException;
import android.os.Environment;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.media.MediaRecorder;
import android.os.Bundle;
import android.widget.Button;
import android.view.View;
import android.view.View.OnClickListener;
import android.os.Bundle;
import android.annotation.SuppressLint;
import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.widget.Button;
import android.widget.Toast;
import android.support.v4.app.NavUtils;
import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.widget.Button;
import android.view.View;
import android.view.View.OnClickListener;
import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.widget.Button;
import android.view.View;
import android.view.View.OnClickListener;

import android.os.Bundle;

public class Record extends Activity{
    Button btn1,btn2;
    MediaRecorder recorder;
     public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.record);
            btn1=(Button)findViewById(R.id.button1);
            btn2=(Button)findViewById(R.id.button2);
            btn1.setOnClickListener(new View.OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    recorder = new MediaRecorder();

                    recorder.setAudioSource(MediaRecorder.AudioSource.MIC);
                    recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);
                    recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);
                    recorder.setOutputFile(Environment.getExternalStorageDirectory().getAbsolutePath()+"/test.3gp");
                    //recorder.setOutputFile("file:///sdcard/sample.3gp");

                //  recorder.setOnErrorListener(errorListener);
                    //recorder.setOnInfoListener(infoListener);

                    try {
                        recorder.prepare();
                        recorder.start();
                    } catch (IllegalStateException e) {
                        e.printStackTrace();
                    } catch (IOException e) {
                        e.printStackTrace();
                    }
                }
            });
            btn2.setOnClickListener(new View.OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    recorder.stop();
                    recorder.reset();
                    recorder.release();

                    recorder = null;
                }
            });
     }

} 
```

日志猫是

```
07-05 11:36:35.050: E/AndroidRuntime(220): Uncaught handler: thread main exiting due to 
uncaught exception
07-05 11:36:35.070: E/AndroidRuntime(220): java.lang.RuntimeException: setAudioSource failed.
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.media.MediaRecorder.setAudioSource(Native Method)
07-05 11:36:35.070: E/AndroidRuntime(220):  at com.example.newaa.Record$1.onClick(Record.java:56)
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.view.View.performClick(View.java:2364)
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.view.View.onTouchEvent(View.java:4179)
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.widget.TextView.onTouchEvent(TextView.java:6541)
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.view.View.dispatchTouchEvent(View.java:3709)
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
07-05 11:36:35.070: E/AndroidRuntime(220):  at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1659)
07-05 11:36:35.070: E/AndroidRuntime(220):  at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1107)
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.app.Activity.dispatchTouchEvent(Activity.java:2061)
07-05 11:36:35.070: E/AndroidRuntime(220):  at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1643)
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.view.ViewRoot.handleMessage(ViewRoot.java:1691)
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.os.Handler.dispatchMessage(Handler.java:99)
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.os.Looper.loop(Looper.java:123)
07-05 11:36:35.070: E/AndroidRuntime(220):  at android.app.ActivityThread.main(ActivityThread.java:4363)
07-05 11:36:35.070: E/AndroidRuntime(220):  at java.lang.reflect.Method.invokeNative(Native Method)
07-05 11:36:35.070: E/AndroidRuntime(220):  at java.lang.reflect.Method.invoke(Method.java:521)
07-05 11:36:35.070: E/AndroidRuntime(220):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
07-05 11:36:35.070: E/AndroidRuntime(220):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
07-05 11:36:35.070: E/AndroidRuntime(220):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T06:15:59.803

您是否在模拟器上尝试过，如果是，我建议您在真实设备上尝试一下。可能只是因为模拟器。因为我很久以前在模拟器上遇到过这样的问题，但在电话上它工作正常

清单中缺少权限>>[音频权限](http://developer.android.com/reference/android/Manifest.permission.html#RECORD_AUDIO)可能是另一个原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:19:23.047

我明白了原因。我想这太容易了：P

我错过了清单文件中的权限

# sql - Bigquery 查询以查找表的列名

> ID：11338670
> 
> 赞同：23
> 
> 时间：2012-07-05T06:11:50.633
> 
> 标签：sql, google-bigquery

我需要一个查询来在 Bigquery 中查找表的列名（表元数据），例如 SQL 中的以下查询：

```
SELECT column_name,data_type,data_length,data_precision,nullable FROM all_tab_cols where table_name ='EMP'; 
```

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2019-05-07T16:28:22.430

BigQuery 现在支持信息架构。

假设您有一个名为 MY_PROJECT.MY_DATASET 的数据集和一个名为 MY_TABLE 的表，那么您可以运行以下查询：

```
SELECT column_name
FROM MY_PROJECT.MY_DATASET.INFORMATION_SCHEMA.COLUMNS
WHERE table_name = 'MY_TABLE' 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2019-09-25T10:13:10.073

[是的，您可以使用INFORMATION_SCHEMA](https://cloud.google.com/bigquery/docs/information-schema-tables)获取表元数据。

过去链接中提到的示例之一从`INFORMATION_SCHEMA.COLUMN_FIELD_PATHS`github_repos 数据集中的提交表的视图中检索元数据，您只需要

1.  在 GCP Console 中打开 BigQuery 网页界面。

2.  在查询编辑器框中输入以下标准 SQL 查询。INFORMATION_SCHEMA 需要标准的 SQL 语法。标准 SQL 是 GCP Console 中的默认语法。

    ```
     SELECT
      *
     FROM
      `bigquery-public-data`.github_repos.INFORMATION_SCHEMA.COLUMN_FIELD_PATHS
     WHERE
      table_name="commits"
      AND column_name="author"
      OR column_name="difference" 
    ```

> 注意：INFORMATION_SCHEMA 视图名称区分大小写。

3.  单击运行。

结果应如下所示

```
 +------------+-------------+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+-------------+
  | table_name | column_name |     field_path      |                                                                      data_type                                                                      | description |
  +------------+-------------+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+-------------+
  | commits    | author      | author              | STRUCT<name STRING, email STRING, time_sec INT64, tz_offset INT64, date TIMESTAMP>                                                                  | NULL        |
  | commits    | author      | author.name         | STRING                                                                                                                                              | NULL        |
  | commits    | author      | author.email        | STRING                                                                                                                                              | NULL        |
  | commits    | author      | author.time_sec     | INT64                                                                                                                                               | NULL        |
  | commits    | author      | author.tz_offset    | INT64                                                                                                                                               | NULL        |
  | commits    | author      | author.date         | TIMESTAMP                                                                                                                                           | NULL        |
  | commits    | difference  | difference          | ARRAY<STRUCT<old_mode INT64, new_mode INT64, old_path STRING, new_path STRING, old_sha1 STRING, new_sha1 STRING, old_repo STRING, new_repo STRING>> | NULL        |
  | commits    | difference  | difference.old_mode | INT64                                                                                                                                               | NULL        |
  | commits    | difference  | difference.new_mode | INT64                                                                                                                                               | NULL        |
  | commits    | difference  | difference.old_path | STRING                                                                                                                                              | NULL        |
  | commits    | difference  | difference.new_path | STRING                                                                                                                                              | NULL        |
  | commits    | difference  | difference.old_sha1 | STRING                                                                                                                                              | NULL        |
  | commits    | difference  | difference.new_sha1 | STRING                                                                                                                                              | NULL        |
  | commits    | difference  | difference.old_repo | STRING                                                                                                                                              | NULL        |
  | commits    | difference  | difference.new_repo | STRING                                                                                                                                              | NULL        |
  +------------+-------------+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+-------------+ 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2019-05-22T01:56:32.763

对于像我这样的新手，上面的语法如下：

```
select * from project_name.dataset_name.INFORMATION_SCHEMA.COLUMNS where table_catalog=project_name and table_schema=dataset_name and table_name=table_name 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-07-05T07:11:27.087

**更新**：这现在是可能的！请参阅下面的[`INFORMATION SCHEMA`文档](https://cloud.google.com/bigquery/docs/information-schema-tables)和答案。

**答案，大约在 2012 年：**

目前无法通过查询检索表元数据（即列名和类型），尽管这不是第一次被请求。

您是否有理由需要将此作为查询？表元数据可通过[表 API](https://developers.google.com/bigquery/docs/reference/v2/tables/get)获得。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-04-22T19:55:45.770

实际上，使用 SQL 可以做到这一点。为此，您需要查询正在创建的此特定表的最后一个日志的日志记录表。

例如，假设表每天加载/创建：

```
 CREATE TEMP FUNCTION jsonSchemaStringToArray(jsonSchema String)
          RETURNS ARRAY<STRING> AS ((
            SELECT
              SPLIT(
                REGEXP_REPLACE(REPLACE(LTRIM(jsonSchema,'{ '),'"fields": [',''), r'{[^{]+"name": "([^\"]+)"[^}]+}[, ]*', '\\1,')
              ,',')
          ));
    WITH valid_schema_columns AS (
      WITH array_output aS (SELECT
        jsonSchemaStringToArray(jsonSchema) AS column_names
      FROM (
        SELECT
          protoPayload.serviceData.jobInsertRequest.resource.jobConfiguration.load.schemaJson AS jsonSchema
          , ROW_NUMBER() OVER (ORDER BY metadata.timestamp DESC) AS record_count
        FROM `realself-main.bigquery_logging.cloudaudit_googleapis_com_data_access_20170101`
        WHERE
          protoPayload.serviceData.jobInsertRequest.resource.jobConfiguration.load.destinationTable.tableId = '<table_name>'
          AND
          protoPayload.serviceData.jobInsertRequest.resource.jobConfiguration.load.destinationTable.datasetId = '<schema_name>'
          AND
          protoPayload.serviceData.jobInsertRequest.resource.jobConfiguration.load.createDisposition = 'CREATE_IF_NEEDED'
      ) AS t
      WHERE
        t.record_count = 1 -- grab the latest entry
      )
      -- this is actually what UNNESTS the array into standard rows
      SELECT
        valid_column_name
      FROM array_output
      LEFT JOIN UNNEST(column_names) AS valid_column_name

    ) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-06-13T20:09:12.687

要检查列，您可以通过 CLI 访问您的表 轻松简单地查找

```
bq query --use_legacy_sql=false 'select Hour, sum(column 1) as column from `project_id.dataset.table_name` where Date(Hour) = '2020-06-10';' 
```

# java - 下载sqlite数据库时遇到问题

> ID：11338671
> 
> 赞同：1
> 
> 时间：2012-07-05T06:11:57.580
> 
> 标签：java, android, sqlite

我的应用程序需要从链接下载数据库，这是我用来下载数据库并将其保存在 sd 卡上的代码：

```
public void DownloadBD() {
    try {
        URL url = new URL(
                "http://mylink/dbHandler.axd?SqliteDbVersion=0");

        HttpURLConnection urlConnection = (HttpURLConnection) url
                .openConnection();

        urlConnection.setRequestMethod("GET");
        urlConnection.setDoOutput(true);
        urlConnection.connect();

        File SDCardRoot = Environment.getExternalStorageDirectory();
        File file = new File(SDCardRoot, "DirLaguna.db");

        FileOutputStream fileOutput = new FileOutputStream(file);

        InputStream inputStream = urlConnection.getInputStream();

        int totalSize = urlConnection.getContentLength();
        int downloadedSize = 0;

        byte[] buffer = new byte[1024];
        int bufferLength = 0;
        while ((bufferLength = inputStream.read(buffer)) > 0) {
            fileOutput.write(buffer, 0, bufferLength);
            downloadedSize += bufferLength;
        }
        fileOutput.close();
        location = file.getAbsolutePath();
    } catch (MalformedURLException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
} 
```

一切似乎都工作正常，但目前我想查询数据库（我正在使用原始查询）出现一个错误，指出表不存在。

之后，我尝试调试应用程序，然后我收到错误消息，指出数据库已损坏。我认为下载过程是导致数据库损坏的原因。

任何帮助将不胜感激，如果我缺少一些要分享的代码，请告诉我！

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:51:21.650

1）你下载的数据库是sqlite数据库？

2）如果是，那么您需要在开始使用之前将其复制到您的应用程序中。

该过程类似于您将数据库下载到 SD 卡中，并在完成后立即开始将其复制到您的应用程序中，使其成为您应用程序的一部分，如下所示：[http ://www.reigndesign.com/blog/ using-your-own-sqlite-database-in-android-applications/](http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/)

通过单独的线程在后台执行此操作，然后您就可以使用它了。如果您遇到任何问题或问题，或者我没有向您提供您的意思的信息，请告诉我。

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:58:05.640

我建议首先 - 通过将文件移动到本地计算机文件系统并在 SQLite 查看器应用程序中查看它来验证文件是否确实是正确的 SQLite 数据库。

有几个 SQLite 数据库查看器可用。这篇文章列出了其中的几个：[什么是好的开源 GUI SQLite 数据库管理器？](https://stackoverflow.com/questions/1507506/what-are-good-open-source-gui-sqlite-database-managers)

这篇附加文章讨论了 Android 中现成数据库的使用：使用数据库发布[应用程序](https://stackoverflow.com/questions/513084/how-to-ship-an-android-application-with-a-database)您可以从那里获得几个指针。

# java - 如何使用 Google Map API 显示多个位置标记？

> ID：11338673
> 
> 赞同：0
> 
> 时间：2012-07-05T06:12:10.567
> 
> 标签：java, javascript, google-maps, google-maps-api-3

**问题描述：**

我必须在 Spring MVC 中使用 Dynamic Google Map 开发一个应用程序，以使用地址/邮政编码显示多个“气泡标记”，并且我必须显示此地图的缩放功能，当我单击该气泡时，它必须显示相应的地址或邮政编码。

**我还做了什么：**

我已经使用邮政编码实现了静态谷歌地图来显示多个“气泡标记”。如下代码

```
http://maps.google.com/maps/api/staticmap?center=099419&size=512x512&maptype=roadmap&sensor=false&markers=color:blue|label:S|416416|238843 
```

*这种静态方式的另一个问题是，由于 URL 的长度固定，我不能放很多邮政编码。*

那么我该如何实现呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T07:00:34.733

按照这个goolge地图样本并制作一个标记数组。 [关联](https://google-developers.appspot.com/maps/documentation/javascript/examples/marker-simple)

或者这个： [Link2](http://www.blesciasw.it/?p=39)

# c - 获取C中“char *namelist []”中的项目总数

> ID：11338678
> 
> 赞同：0
> 
> 时间：2012-07-05T06:12:42.017
> 
> 标签：c, arrays

我有一个名称数组存储在`char *namelist[]`. 当我将它传递给函数时，我无法显示以下所有名称`namelist`：

```
int ReadListOfName(const char* names[])
{
  //Note: I always get the len = 1
  //      Anyway I can get total items in names

  int len = sizeof(names)/sizeof(char*);
  for (i=0; i<len; i++)
    printf("%d-%s\n",i,names[i]);

  return 0;

}

int main(void)
{
  const char* names[] = {"a","b","c"};
  ReadListOfName(names);
  return 0;
} 
```

有什么问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T06:13:42.760

> ```
> int len = sizeof(names)/sizeof(char*); 
> ```

这不会让你得到元素的数量，`sizeof`也不会在指针上做你想要的。您必须将长度作为附加参数传递给函数。此[C 常见问题解答](http://c-faq.com/aryptr/aryparmsize.html)中也进行了讨论。你可以试试：

```
int ReadListOfName(const char* names[], size_t len)
/* ... */

ReadListOfName(names, sizeof(names)/sizeof(names[0])); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:16:20.333

```
int ReadListOfName(const char* names[]) 
```

在这`names`基本上变成`char **`而不是`char * []`定义你的`main`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T06:20:54.267

您需要传入另一个参数来`ReadListOfName`指定数组的长度，或者在您的数组中有一个终止值`argv`。当传递给函数时，数组将*衰减*为指针；a`char*[]`将衰减为 a `char**`，因为您正在传递数组中第一个元素的地址。因此，您的功能实际上被解释为：

```
int ReadListOfName(const char **names) 
```

你实际上是在 equating `sizeof(char**)/sizeof(char*)`，它不会给你数组中的元素数量（它可能会给你 1）。

添加一个长度参数，然后`len`在传递它之前进行计算`ReadListOfName`。

请注意，除了除以`sizeof(names)`获取`sizeof(char*)`数组中的元素数量之外，您还可以除以，如果您更改 中元素的类型，则`sizeof(*names)`无需担心更改：`char*``names`

```
int len = sizeof(names)/sizeof(*names); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-05T06:26:01.453

由于其他答案已经解释了将数组引用传递给函数时会发生什么，请找到一种解决问题的方法，而无需在打印名称的方法中添加另一个参数。

您可能想像这样在列表中添加一个停止元素：

```
#include <stdio.h>

int ReadListOfName(const char ** names)
{
  for (int i=0; names[i]; i++)
    printf("%d-%s\n",i,names[i]);

  return 0;
}

int main(void)
{
  const char* names[] = {"a","b","c", NULL}; /* Please note the additional, last element. */
  ReadListOfName(names);
  return 0;
} 
```

这种方法与传递两个参数来描述列表的本质区别`names[]`在于，**它的使用不易出错**，因为列表大小的信息**来自列表本身**，但来自第二个**独立**提供的值。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-05T07:25:39.393

**sizeof(AnyPointer)**给出字长。对于 32 位操作系统，将返回 4。同样 8 将在 64 位机器中返回。

也是如此`sizeof(char*) == sizeof(float*) == sizeof(int*)`。

```
If your OS is 32-bit,
sizeof(names) will be 4.
sizeof(char*) also 4. 
```

显然你会得到`len = 1`.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-05T09:14:41.530

您应该传递一个附加参数，该参数将明确提及数组的长度。以及在哪里初始化设置一些 MACRO 来摆弄 sizeofs。

# android - 双击编辑文本时弹出对话框两次

> ID：11338680
> 
> 赞同：1
> 
> 时间：2012-07-05T06:12:44.413
> 
> 标签：android, android-alertdialog

实际上，当用户单击编辑文本时，我正在显示一个带有确定取消按钮的弹出窗口。我的问题是当用户双击编辑文本时会弹出两个弹出窗口。因此，如果用户从弹出窗口中选择了任何值，它的第二个弹出窗口仍然保留在那里。

我不知道如何处理它。

任何帮助将不胜感激。提前致谢。这是我的布局

```
<EditText
      android:id="@+id/date_control"
      android:layout_width="0dp"
      android:layout_height="wrap_content"
      android:layout_weight="1" 
      android:background="@drawable/bg_edit_text"
      android:focusableInTouchMode="false"
      android:inputType="none"
      android:editable="false"
      android:clickable="true"
      android:layout_marginRight="5dp" /> 
```

我的 java 类调用控制器

```
datePicker = (EditText) findView(R.id.date_control);
datePicker.setOnClickListener(myControllerClass); 
```

它的控制器

```
MyDialog myDialog = new myDialog(activity, "Select Date", 
                    date, DateTimeDialog.DATE_PICKER);
myDialog.show(); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-05T06:29:36.163

如果您保留对对话框的字段引用，您可以检查它是否已经显示

```
if(myDialog == null) {
    myDialog = new myDialog(activity, "Select Date", 
                    date, DateTimeDialog.DATE_PICKER);
}

if(!myDialog.isShowing()) {
    myDialog.show();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:17:11.493

您只需在单击后将edittext可点击设置为false（意味着您的对话框会显示）然后在对话框关闭时您可以再次使您的edittext可点击为true。

您必须以编程方式设置此属性.. 对于 EditText 属性[链接..](http://developer.android.com/reference/android/widget/EditText.html)

希望这个解释对你有用..

# iphone - 如何在 uiwebview 上添加捏合和缩放 - iphone

> ID：11338683
> 
> 赞同：1
> 
> 时间：2012-07-05T06:13:10.247
> 
> 标签：iphone, ios, uiwebview, pinchzoom

我知道这个问题已经被问过几次了。我正在尝试放大/缩小 uiwebview。我到底该怎么做？我尝试设置'webView.scalesPageToFit=YES;' 但它不工作。

我也试过这个[如何在 UIWebView 中启用放大/缩小选项？](https://stackoverflow.com/questions/2332261/iphone-uiwebview-zoom-in-out-option)但我无法实现放大/缩小

代码

```
NSURL *url = [NSURL URLWithString:[NSString stringWithFormat:@"%@",[actorUrlArray objectAtIndex:_rowNumberInActivity]]];
NSURLRequest *request = [NSURLRequest requestWithURL:url];
[webView loadRequest:request];
webView.scalesPageToFit=YES; 
```

我在这里错过了什么？

**注意**：我正在 ipad 上加载 iphone 应用程序以检查应用程序。能有问题吗？？

如果它的元标记问题。我该如何设置它们？我试过这段代码..但它不起作用..我对javascript一无所知..所以我不确定这是否正确..

```
NSString* js = 
@"var meta = document.createElement('meta'); \" \"meta.setAttribute( 'name', 'viewport' ); \" \"meta.setAttribute( 'content', 'width = device-width, initial-scale = 5.0, user-scalable = yes' ); \" \"document.getElementsByTagName('head')[0].appendChild(meta)";

[webView stringByEvaluatingJavaScriptFromString: js]; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T06:20:26.913

放大和缩小和捏合是 UIWebView 的内置功能。您无需编写任何代码即可实现这一目标。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-12-26T14:36:58.473

只需简单地设置属性。

> scalesPageToFit=YES

任何捏合和缩放都可以在 UIWebView 上工作

# security - Java EE 6 授权：限制为所有者

> ID：11338684
> 
> 赞同：2
> 
> 时间：2012-07-05T06:13:12.907
> 
> 标签：security, java-ee-6

假设我有一个简单的模型，例如“记录”：

```
@Model
public class Record {
  private Principal owner; // presume getter/setters as well
} 
```

然后我想要一个简单的 EJB 来控制创建和删除记录。为了争论，我们只担心删除：

```
@EJB
@Named
@Stateless
public class RecordMgr {
  @PersistenceContext private EntityManager em;

  public void delete(Record r) {
    em.remove(r);
  }
} 
```

我想限制`RecordMgr#delete(Record r)`对管理员和所有者的访问：换句话说，管理员和创建对象的人，只有他们才能删除它。我不知道如何通过声明性安全性来完成这两项工作。解决这个问题的正确方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:27:00.550

您不能使用声明式安全性来做到这一点，因为没有办法在 @RolesAllowed 中的角色和创建实体的用户之间建立联系。

唯一的方法是程序安全并检查用户是 bean 的创建者还是管理员，或两者兼而有之。

您可以利用声明式安全性的唯一部分是列出大声创建此类记录的角色和管理员角色。之后，必须以编程方式进一步检查当前用户的角色是管理员还是当前用户创建的记录。在任何情况下，声明式安全的整个逻辑都会在程序安全中复制。

# asp.net - 在 asp.net 图表控件中添加表格值以及图例

> ID：11338690
> 
> 赞同：1
> 
> 时间：2012-07-05T06:13:33.960
> 
> 标签：asp.net, aspchart

我被困在以我们需要的格式准备一些图表控件。我已将 asp 图表控件添加到我的 asp.net 应用程序中，当我传递一些值时，图表中的 X 和 Y 值显示正确。现在我想在图表中显示图例以及单位值。下图是我需要的格式

![所需图表](../Images/5f86018731e6dd5c27509bffcb675f27.png)

我已经在网上搜索了每个地方，也尝试了很多，但我仍然没有找到如何显示这样的图表的方法。作为替代方案，我在图表底部添加了一个网格控件，但它不是我的要求。它的出现方式不同，如下所示。

![当前图表](../Images/bdca46681f20cb761a6e730dee3296a3.png)

那么，任何人都可以给我一个建议，告诉我如何实现以所需格式显示图表的目标。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T05:20:24.097

感谢您没有回答我的问题，所以我是如何通过使用图表控件底部的 datalist 自己完成的。我将一个 datalist 控件添加到存在图表控件的表中，并将所需的数据表绑定到 datalist，并在运行时从数据表将图像绑定到 datalist 控件。为了显示数据列表中存在的数据，我使用了数据列表的 RepearDirection 属性并将其设置为“水平”。最后，我的报告显示为我所需的格式。对于图表区域，我为相同的 X 和 Y 点添加了两种类型的系列，以便根据需要显示折线图，一种是气泡，另一种是线。

所以，最后我的图表显示如下。

![在此处输入图像描述](../Images/56053d6f22d0affcb34bd292a30116d6.png)

# python - 把python代码翻译成c代码有那么难吗？

> ID：11338691
> 
> 赞同：0
> 
> 时间：2012-07-05T06:13:34.640
> 
> 标签：python, c, binary-search, inversion

有一次我写了一段 python 代码来计算反演。

只是为了好玩加上想看看 c 是否真的比运行时语言快得多，我用 c 编写了类似的 python 代码。

python代码运行时间不到3秒，

但我的 c 代码花了大约 8 秒。

谁能告诉我哪里做错了以及我应该如何更改/改进我的 C 代码？

谢谢！！

输入文件只是 100000 行数字，不重复，从 1 到 100000 以随机顺序排列。

蟒蛇代码：

```
import time

def lookup(arr, num):
    lower=0
    upper=len(arr)-1
    while 1:
        if arr[upper]==num:
            return upper
        mid=(upper+lower)/2
        if arr[mid]==num:
            return mid
        elif arr[mid]<num:
            lower=mid+1
        else:
            upper=mid

def main():
    time.clock()
    f=open("IntegerArray.txt", "r").read().strip().split('\n')
    array=[int(i) for i in f]
    array.reverse()
    s=sorted(array)
    v=0
    while(array):
        i=lookup(s, array.pop())
        v+=i
        s.pop(i)
    print v
    print time.clock()
    raw_input()

main() 
```

C代码：

```
#include <stdio.h>
#include <stdlib.h>

#define limit 100000

int comp(const void *, const void *);
void inversion(int *, int *, int);
int lookup(int *, int, int);

int main(void){
    FILE *f = fopen("IntegerArray.txt", "r");
    int n=0, array[limit], copy[limit];
    while(n<limit){
        fscanf(f, "%d", array+n);
        copy[n]=array[n];
        n++;
    }
    qsort(copy, limit, sizeof(int), comp);
    // int i;
    // for(i=limit-100;i<limit;i++)printf("%d %d\n", array[i], copy[i]);
    inversion(array, copy, limit);
    // getchar();
    return 0;
}

int comp(const void  *a, const void *b){
    return (*(int*)a>*(int*)b)?1:-1;
}

void inversion(int *a, int *b, int n){
    int c=0, index;
    unsigned int v=0;
    while(c<n){
        // if(c%1000==0)printf("%d %d\n", c, b[n-c-1]);
        index=lookup(b, *a, n-c);
        v+=index;
        if((n-c)/2<index)
            for(;index<n-c-1;index++)
                b[index]=b[index+1];
        else{
            for(;index>0;index--)
                b[index]=b[index-1];
            b++;
        }
        a++;
        c++;
    }
    printf("%u\n", v);
}

int lookup(int *arr, int num, int n){
    int lower=0, upper=n-1, mid;
    // if(arr[upper]==num)return upper;
    // if(arr[lower]==num)return lower;
    while(1){
        // printf("%d %d %d\n", lower, upper, num);
        mid=(lower+upper)/2;
        // if(lower==upper && arr[mid]!=num){
        //  printf("%d %d %d\n", lower, upper, num);
        //  exit(1);
        // }
        if(arr[mid]==num)return mid;
        else if(arr[mid]<num)
            lower=mid+1;
        else
            upper=mid;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:31:19.727

在 Python`inversion`中，您有：

```
s.pop(i) 
```

在 C 中，您有：

```
if((n-c)/2<index)
    for(;index<n-c-1;index++)
        b[index]=b[index+1];
else{
    for(;index>0;index--)
        b[index]=b[index-1];
    b++;
} 
```

对我来说似乎有很大的不同。
我不认为 Python`pop`通过复制所有元素来实现。

# android - Android - ImageView 不显示图像。setImageResource() 也没有

> ID：11338699
> 
> 赞同：1
> 
> 时间：2012-07-05T06:14:12.207
> 
> 标签：android, imageview

我使用 ImageView 控件，如图所示：

```
<LinearLayout 
        android:orientation="horizontal"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        >

     <ImageView 
        android:id="@+id/imgHangMan"
        android:src="@drawable/hang0"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
   />
</LinearLayout> 
```

上述代码在 xml 文件的 Graphical Layout 预览中显示图像。但是在启动应用程序时，我看不到任何图像。此外，使用更改图像

```
imgHangMan = (ImageView)findViewById(R.id.imgHangMan);
imgHangMan.setImageResource(R.drawable.hang1); 
```

这段代码也不起作用。图像文件为 .gif 格式，位于 drawable 文件夹中。

任何指针？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T06:24:37.797

本机 ImageView 不支持动画图像。您有两个选项来显示动画 gif 文件

1) 使用 VideoView 2) 使用 ImageView。但是将 gif 文件拆分为几个部分，然后对其应用动画。

试试这个link [-playing-gif-animation](http://www.blindndumb.com/2012/02/android-tutorial-playing-gif-animation.html)，你会得到想要的结果。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T06:23:46.083

尝试这个

```
image.setImageDrawable(getResources().getDrawable(R.drawable.hang1)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T06:38:02.817

用户：http: [//developer.android.com/reference/android/graphics/drawable/AnimationDrawable.html](http://www.c-sharpcorner.com/UploadFile/88b6e5/frame-by-frame-animation/)

[就这样过去吧。](http://developer.android.com/reference/android/graphics/drawable/AnimationDrawable.html)

# javascript - 如何在 JavaScript 中使用 parseInt()

> ID：11338703
> 
> 赞同：2
> 
> 时间：2012-07-05T06:14:28.683
> 
> 标签：javascript, parseint

我正在使用 parseInt() 来获取一些大素数，但它按预期工作。例如，

```
parseInt("18014398241046527", 10); // Gives me 18014398241046528??
parseInt("18014398241046528", 10); // Gives me 18014398241046528
parseInt("18014398241046529", 10); // Still gives me 18014398241046528?? 
```

我在 Chrome 版本 20.0.1132.47 和 Firefox 12.0 上测试了它们。这是因为我试图解析的数字太大了吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T06:22:59.087

JavaScript 中的数字是浮点双精度，最多只能包含 53 位精度（大约 16 个十进制数字）。您在问题中的数字是 17 位数字，因此它无法准确存储该数字。

[关于JavaScript 语法/数字](http://en.wikipedia.org/wiki/JavaScript_syntax#Number)的维基百科文章。

参考[JavaScript (1.1) 标准](http://hepunx.rl.ac.uk/~adye/jsspec11/valvar.htm#1004608)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:22:08.987

这不是问题`parseInt`；对于 JavaScript 的 Number 数据类型，这个数字太长（太精确 - 请参阅 nhahtdh 的答案）（证明：也`+"18014398241046527"`可以产生`18014398241046528`）。

我认为解决此问题的唯一方法是将数字作为字符串输入并分块处理。

# wso2 - 通过类中介转发自定义字符串

> ID：11338708
> 
> 赞同：0
> 
> 时间：2012-07-05T06:15:04.433
> 
> 标签：wso2, wso2esb

我正在尝试将我在班级调解员中拥有的自定义字符串转发给已调用该流程的客户，但我无法弄清楚这是如何完成的。所以请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T11:01:35.023

您需要将字符串设置为有效负载消息。然后这可以作为响应发送。请看这里[1]

[1] [http://wso2.org/library/knowledge-base/generating-simple-response-using-wso2-enterprise-service-bus](http://wso2.org/library/knowledge-base/generating-simple-response-using-wso2-enterprise-service-bus)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T10:15:04.373

类中介可以修改消息并将自定义数据附加到消息中。[此示例](http://wso2.org/project/esb/java/4.0.3/docs/samples/advanced_mediation_samples.html#Sample380)显示如何使用类中介将字符串添加到消息中。

# shell - 远程执行

> ID：11338709
> 
> 赞同：0
> 
> 时间：2012-07-05T06:15:17.353
> 
> 标签：shell, remote-execution, rexec

我已经在**rexec**上工作了几天！！

所以任务是这样的。我有服务器 A 和服务器 B。我想在**服务器 B上运行从****服务器 A**触发的 shell 脚本。我使用的脚本会像

*从服务器 A*
rexec serverB script.sh 参数

*Script.sh in server B*
f1=$1
echo "unload to test.unl select * from table where key in ($first)"|dbaccess DB
cat test.unl

当我在服务器 B 中运行 thescript.sh 时，它完全没有问题。

当从服务器 A 运行相同的程序时，它说**dbaccess not found**。请帮忙！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:20:20.610

可能是路径问题。在服务器 B 上键入`which dbaccess`，并在脚本中使用该完整路径。

# iphone - Cocos2D-iphone：锚点和位置的区别

> ID：11338711
> 
> 赞同：2
> 
> 时间：2012-07-05T06:15:32.940
> 
> 标签：iphone, ios, cocos2d-iphone

任何人都可以通过一些例子来解释 cocos-2D 中位置和锚点之间的区别。我在谷歌搜索但找不到很好的解释，在此先感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T06:31:05.807

假设你有一个 10x10 的正方形。如果您说要将其放置在屏幕上的位置 (50,40)，那么您需要知道该位置所指的位置——正方形的左上角、左下角等。

锚点指的是这个位置。因此，如果您的锚点是 (0,0)，则位置 (50,40) 将是您的正方形左上角的位置。

如果您的锚点是 (10,0)，则位置 (50,40) 将是正方形右上角的位置，因此左上角将位于 (40,40)。

因此，锚点是定位的点，然后相对于您的正方形。

另一个例子——假设你有一栋 100 层高的建筑物。现在，假设你是一个巨人，你有 4 层楼高。如果您被告知将脚（这是您的锚点）放在 3 楼，那么您的头将在 7 楼。如果您被告知将头（现在是您的锚点）放在 7 楼，那么您的脚将在 3 楼。您仍然在同一个地方，但您的参考点（锚点）已更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:35:53.543

position 属性是一个 CGPoint，它指定图层相对于其父图层的位置，并在父图层的坐标系中表示。

anchorPoint 属性是一个 CGPoint，它指定与位置坐标相对应的图层边界内的位置。锚点指定边界相对于 position 属性的定位方式，以及作为应用变换的点。它以单位坐标系表示——(0.0,0.0) 值位于最靠近图层原点的位置，(1.0,1.0) 位于对角。对图层的父级（如果存在）应用变换可以改变 anchorPoint 方向，这取决于父级在 y 轴上的坐标系，还可以查看此[链接](http://developer.apple.com/library/ios/#DOCUMENTATION/Cocoa/Conceptual/CoreAnimation_guide/Articles/Layers.html#//apple_ref/doc/uid/TP40006082)

# dashboard - 使用 signalR 的实时通知

> ID：11338712
> 
> 赞同：3
> 
> 时间：2012-07-05T06:15:36.260
> 
> 标签：dashboard, signalr

我是 SignalR 的新手。我希望集成 SignalR 以在仪表板中发送通知（即员工创建的最新应用程序），以便在不刷新仪表板的情况下显示新应用程序。应从数据库（sql server）中获取应用程序并通知仪表板。有没有我可以查看并了解如何开始的示例？非常感谢任何帮助。问候萨米莎

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T17:30:32.293

听起来很干脆。您想要创建一个[`Hub`](https://github.com/SignalR/SignalR/wiki/Hubs)仪表板客户端可以连接到以接收更新的平台。然后，集线器本身可能有一个监视例程（例如，正在监视来自某些外部资源的某些事件流的后台线程），该例程将更新推送到连接的客户端。

或者，您可以进行更好的分离，让`Hub`“哑巴”并将监控/通知移到另一个后台进程，该进程只是连接到`Hub`任何其他客户端，并通过`Hub`.

我强烈建议您阅读[Wiki](https://github.com/SignalR/SignalR/wiki)并查看 SignalR 解决方案附带的一些示例。

# android - 没有在命令行上指定类

> ID：11338728
> 
> 赞同：0
> 
> 时间：2012-07-05T06:17:45.870
> 
> 标签：android, android-ndk, javah

我正在尝试一个示例 JNI 程序，但无法让 javah 工具工作。我在 C:\Workspace\VideoRecorder\src\org\ccb\wifo\video\Nativejni.java 中有 1 个源文件 Nativejni.java。org.ccb.wifo.video 是包的名称。我已经编译并在 src 目录中获得了一个类文件。对于生成头文件，我尝试如下

```
C:\Workaspace\VideoRecorder\bin>javah -jni org.ccb.wifo.video.Nativejni 
```

但我得到了一个像 .

```
**error: cannot access org.ccb.wifo.video.Nativejni
class file for org.ccb.wifo.video.Nativejni not found
javadoc: error - Class org.ccb.wifo.video.Nativejni not found.
Error: No classes were specified on the command line.  Try -help.** 
```

我用谷歌搜索了很多并尝试了在那里找到的解决方案。但是没有用。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-02T08:33:15.760

我在这上面浪费了 3 个小时。这是由于某种java目录问题或什么。无论如何，我就是这样做的。

打开命令行。转到 .java 类所在的确切文件夹。去那里执行命令

```
javac HelloWorld.java 
```

然后返回到包含完整包的文件夹。键入此语句用于从类文件生成头文件。该目录必须像我的情况一样，整个包都在 Java 目录文件中，所以我回到那里并键入以下命令。

```
javah -jni com.example.aliabbasjaffri.temporary.HelloWorld 
```

瞧，头文件为您服务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-14T15:00:12.913

你必须输入类路径，请试试这个，

```
 Javah - jni -classpath C:\Workspace\VideoRecorder\src\  org.ccb.wifo.video.Nativejni 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-05T13:58:17.447

可能有很多原因。主要与-classpath有关。如果您不想手动更改类路径，则可以在控制台中编译时进行。

```
javah -d /dir/where/output/generated -classpath ;<absolute path to the /bin/classes> <package name> 
```

1）记住“;” 很重要，因为它将您提供的路径附加到已经存在的路径。

2) 小心使用斜线（Linux = / 和 Windows = ）。

3）我想你明白我所说的绝对路径是什么意思。

# wcf - 导致 ServiceActivationException 的原因是什么？

> ID：11338729
> 
> 赞同：8
> 
> 时间：2012-07-05T06:17:52.640
> 
> 标签：wcf

我有一个托管在 Azure 环境中的服务。我正在使用控制台应用程序使用该服务。这样做时，我得到了异常：

> “请求的服务‘ [http://xxxx-d.yyyy.be/Services/zzzzInService.svc](http://xxxx-d.yyyy.be/Services/zzzzInService.svc) ’无法激活。有关详细信息，请参阅服务器的诊断跟踪日志。”

谁能帮我找到我缺少的东西？

该服务的定义如下 -

```
<service name="xxxx.AppServer.Host.Services.yyyyy.zzzzPlugInService"
   behaviorConfiguration="MetadataBehavior" xdt:Locator="XPath(//service[@name='xxxx.AppServer.Host.Services.yyyy.zzzzPlugInService'])" xdt:Transform="Replace">

<endpoint address="" binding="basicHttpBinding"  bindingConfiguration="basicHttpBinding" contract="xxxx.Shared.IntegrationServices.yyyy.IzzzzPlugInService">
  <identity>
    <dns value="localhost"/>
  </identity>
</endpoint>
<endpoint address="" binding="basicHttpBinding" bindingConfiguration="basicHttpsBinding" contract="xxxx.Shared.IntegrationServices.yyyy.IzzzzPlugInService">
  <identity>
    <dns value="localhost"/>
  </identity>
</endpoint>
<endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange"/> 
```

当我在浏览器中使用链接[http://xxxx-d.yyyy.be/Services/zzzzInService.svc](http://xxxx-d.yyyy.be/Services/zzzzInService.svc)时，我收到这些消息 -

> system.serviceModel/bindings/basicHttpBinding 处的绑定没有名为“basicHttpBinding”的已配置绑定。这是 bindingConfiguration 的无效值。

来源 ：

```
<endpoint address="" binding="basicHttpBinding" bindingConfiguration="basicHttpBinding" contract="xxxx.Shared.IntegrationServices.zzzzz.IzzzzPlugInService"> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T18:50:36.673

该错误表明您没有名为“basicHttpBinding”的“basicHttpBinding”的绑定配置。由于您没有发布完整的配置，并且错误消息说，我假设是这种情况。

下面的配置（下`<system.serviceModel>`）在下有两个绑定定义`<basicHttpBinding>`，一个用于端点声明中的每个绑定配置。您的配置中也应该有类似的东西。

```
<services>
    <service name="xxxx.AppServer.Host.Services.yyyyy.zzzzPlugInService"
             behaviorConfiguration="MetadataBehavior"
            xdt:Locator="XPath(//service[@name='xxxx.AppServer.Host.Services.yyyy.zzzzPlugInService'])"
            xdt:Transform="Replace">
        <endpoint address=""
                  binding="basicHttpBinding" 
                  bindingConfiguration="basicHttpBinding"
                  contract="xxxx.Shared.IntegrationServices.yyyy.IzzzzPlugInService">
            <identity>
                <dns value="localhost"/>
            </identity>
        </endpoint>
        <endpoint address="" 
                  binding="basicHttpBinding" 
                  bindingConfiguration="basicHttpsBinding" 
                  contract="xxxx.Shared.IntegrationServices.yyyy.IzzzzPlugInService">
            <identity>
                <dns value="localhost"/>
            </identity>
        </endpoint>
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange"/>
    </service>
</services>
<bindings>
    <basicHttpBinding>
        <binding name="basicHttpBinding" />
        <binding name="basicHttpsBinding">
            <security mode="Transport" />
        </binding>
    </basicHttpBinding>
</bindings> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-21T17:39:28.337

我在从 Visual Studio 2013 调试时遇到了这个异常。我重新启动了 Visual Studio，它工作正常。我认为 Visual Studio 保留了以前调试会话中的一些坏东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-20T05:09:50.387

其他原因之一可能是 svc.cs 文件中有重复或重载方法

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-10-23T13:45:38.213

我只是有同样的问题。我添加了一些无法运行的依赖注入。修复它并且 wcf 服务器可以运行 agian

# javascript - 如何根据点击次数让一个按钮执行多项任务？(Javascript)

> ID：11338731
> 
> 赞同：0
> 
> 时间：2012-07-05T06:17:57.097
> 
> 标签：javascript, html

如何根据点击次数让一个按钮执行多项任务？(Javascript)

例如，单击按钮 - 再次单击警报“按钮单击一次”按钮 - 再次单击警报“按钮单击两次”按钮 - 再次单击警报“按钮已单击 3 次！”

对不起，如果它是一个菜鸟问题，原因是我是菜鸟！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:25:55.447

**小提琴演示**：http: [//jsfiddle.net/h9DbF/](http://jsfiddle.net/h9DbF/)

在js中：

```
var clickTimes = 0;

function doSomethingOnClick() {
    clickTimes++;
    switch(clickTimes) {
        case 1:
            alert('Button clicked once');
            break;
        case 2:
            alert('Button clicked twice');
            break;
        default:
            alert('Button clicked ' + clickTimes + ' times');
    }
    //Do something else
} 
```

在 html 中：

```
<button onclick="doSomethingOnClick()">Press me</button> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:29:42.593

您可以创建一个在单击按钮时递增的 var，并且您可以切换该 var，以便您可以根据点击次数执行操作，例如：

```
var clicks = 0;
function someFunction(){
    clicks++;
    switch (clicks){
        case 1:
            //do something when its clicked only once
            break;
    }
} 
```

就是这样。

# java - JasperReports：xls 格式单元格宽度问题

> ID：11338733
> 
> 赞同：1
> 
> 时间：2012-07-05T06:18:05.883
> 
> 标签：java, jasper-reports

我有一个 A4 大小格式的报告，可以生成一个 Excel 报告。问题是在生成 excel 时，单元格不会水平扩展。当文本大于单元格宽度时，即使 Excel 工作表仍保持 A4 大小。

我尝试使用以下代码修改页面高度和宽度：

```
if (this.jasperPrint != null) {
    this.jasperPrint.setPageHeight(10000);
    this.jasperPrint.setPageWidth(100000);
    jasperPrint.setOrientation(jasperReport.ORIENTATION_LANDSCAPE);

    xlsexporter.setParameter(JRXlsExporterParameter.JASPER_PRINT, this.jasperPrint);
    xlsexporter.setParameter(JRXlsExporterParameter.OUTPUT_STREAM, exceloutputStream); //and output stream
    xlsexporter.setParameter(JRXlsExporterParameter.MAXIMUM_ROWS_PER_SHEET, 65536);
    xlsexporter.setParameter(JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_ROWS, Boolean.TRUE);
    xlsexporter.setParameter(JRXlsExporterParameter.IS_WHITE_PAGE_BACKGROUND, Boolean.FALSE);
    xlsexporter.setParameter(JRXlsExporterParameter.IGNORE_PAGE_MARGINS, Boolean.TRUE);
    xlsexporter.setParameter(JRXlsExporterParameter.IS_IGNORE_CELL_BORDER, Boolean.TRUE);
    xlsexporter.setParameter(JRXlsAbstractExporterParameter.IS_COLLAPSE_ROW_SPAN, Boolean.FALSE);
    xlsexporter.setParameter(JRXlsAbstractExporterParameter.IS_FONT_SIZE_FIX_ENABLED, Boolean.TRUE);
    xlsexporter.setParameter(JRXlsAbstractExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_COLUMNS, Boolean.TRUE);

    try {
        xlsexporter.exportReport();
    } catch (JRException e) {
        logger.error("generateExcel():Exception in Exporting Excel report" + e);
    }

    this.jasperPrint = null;
} 
```

如果有人能指导我如何实现这一目标，那就太好了。
提前致谢

# wso2esb - WSO2 ESB 中的 Apache CXF 支持用于创建代理服务

> ID：11338741
> 
> 赞同：0
> 
> 时间：2012-07-05T06:18:39.533
> 
> 标签：wso2esb

我们可以在 wso2ESB 中使用 Apache CXF 引擎创建代理服务吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T13:34:44.323

不。ESB 代理服务始终是一个 AxisService。大多数 ESB/Synapse 传输也依赖于轴 2。

# algorithm - 具有给定根节点的有向图 - 匹配另一个有向图以获得相等性

> ID：11338746
> 
> 赞同：2
> 
> 时间：2012-07-05T06:19:25.063
> 
> 标签：algorithm, graph-algorithm, directed-graph

有一个有向图具有一个称为根的指定节点，所有其他节点都可以从该节点到达。每个终端节点（没有出边）采用一个字符串值。中间节点有一个或多个出边，但没有与之关联的值。将节点连接到其邻居的边具有字符串标签。从单个节点发出的边的标签是唯一的。图中可能存在循环！

检查两个这样的有向（可能有循环）图（如上所述）是否相等的最佳图算法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T07:27:42.907

图同构问题是 TCS 中比较有趣的问题之一。[在 wiki](http://en.wikipedia.org/wiki/Graph_isomorphism_problem)上有一个专门的页面。

在您的特定情况下，您有两个带有源和接收器的有根有向图。

您可以并行启动两个 BFS，并逐级检查同构；即水平化图并检查每个级别的节点子集是否在两个图中同构。

请注意，由于您有一个有向、有根图，您仍然应该能够对其进行平整化以找到同构。不要将 BFS 期间已经访问过的节点加入队列；即在确定要分组的级别时，使用从根到节点的最短路径进行级别化。

在一组内，比较应该相对容易。您有许多属性可以区分同一级别的节点（度数、标签），并且应该能够创建合适的签名来对它们进行排序。由于您正在寻找完美的同构，因此您应该得到完全匹配。

# php - 会话数据在本地工作但不在 ipage 服务器上

> ID：11338747
> 
> 赞同：5
> 
> 时间：2012-07-05T06:19:25.207
> 
> 标签：php

我一直试图调试这个问题几个小时，但不能。我有这两个文件：

我的第一个文件：

```
 session_start();
 $_SESSION['user'] = '1'; 
```

我的第二个文件：

```
session_start();
print_r($_SESSION);
echo $_SESSION['user']; 
```

但是第二个文件回显了一个空数组。这在我的本地主机上运行良好，但在在线服务器上不起作用。我还在 php.ini 中关闭了“register_globals”

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-08-04T02:58:51.467

我也面临与 ipage 托管相同的问题，现在它通过 Radhakrishna Chowdary 的帮助解决了，我做了以下 -

1.  登录到您的 ipage 托管帐户
2.  转到其他工具 -> CGI 和脚本语言支持
3.  那里选择 PHP Scripting
4.  在那里你会看到“编辑 PHP 5.3 的 php.ini 文件”点击编辑。
5.  将 session.save_path 的值更改为“/tmp”
6.  它现在完成工作:)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-05T07:50:05.103

如果您使用的是 cPanel 转到`cPanel`> `php.ini QuickConfig`>

检查

```
session.save_handler = files
session.save_path = /tmp 
```

如果您仍然遇到问题，请询问您的 cPanel 人员，他们会帮助您

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-05-25T13:16:45.020

iPage 要求您`session_save_path()`在脚本中指定。像这样：

```
session_save_path("your home directory path"/cgi-bin/tmp);
session_start(); 
```

查看此[iPage 知识库文章](http://www.ipage.com/knowledgebase/read_article.bml?kbid=600)以供进一步参考。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-04T05:12:42.827

尝试将 $_SESSION['user'] 之类的会话变量更改为 $_SESSION['userr'] 因为更改变量名称对我来说适用于 ipage 上的 php 5.3

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-08-11T05:11:51.310

更改“session.save_path”不起作用我尝试了很多但没有解决，我联系那里的支持为我解决问题，但他们说会话在 ipage 中被禁用，这对 cPanel 站点来说非常糟糕。

但无论如何，我推荐另一个托管服务，因为 iPage 不支持会话，这是 php 开发中用于登录和保存数据的主要内容。

* * *

我最近从 IPage 客户服务处收到了这个：

这意味着“ **session.save_path** ”永远不会在“php.ini”中改变，你必须在你的代码中做这件事，就像客户服务中提到的那样。

[![在此处输入图像描述](../Images/3cc8bb90d7d85acc601255cdb1823044.png)](https://i.stack.imgur.com/9F5N6.jpg)

**请记住在会话开始之前**添加此行

 **```
session_save_path('/home/your/home/directory/path/cgi-bin/tmp'); 
```**

# python - 在python中压缩二进制文件

> ID：11338755
> 
> 赞同：4
> 
> 时间：2012-07-05T06:20:13.510
> 
> 标签：python, zip

我正在尝试在 zip 文件中包含一个二进制文件，下面是代码片段：我首先将 zip 内容解压缩到一个临时位置，然后添加更多文件并将其压缩回一个新存档。

```
import zipfile

def test(fileName, tempDir):
    # unzip the file contents,may contain binary files
    myZipFile=zipfile.ZipFile(fileName,'r')
    for name in myZipFile.namelist(): 
        toFile = tempDir + '/' + name
        fd = open(toFile, "w")
        fd.write(myZipFile.read(name))
        fd.close()
    myZipFile.close()
    # code which post processes few of the files goes here

    #zip it back
    newZip = zipfile.ZipFile(fileName, mode='w')
    try:
        fileList = os.listdir(tempDir)
        for name in fileList:
            name = tempDir + '/' + name
            newZip.write(name,os.path.basename(name))
        newZip.close()
    except Exception:
            print 'Exception occured while writing to PAR file: ' + fileName 
```

一些文件可能是二进制文件。压缩代码工作正常，但是当我尝试使用 linux 的 unzip 或 python 的 zip 模块解压缩它时，我收到以下错误：

> zip 文件损坏。（请检查您是否以适当的 BINARY 模式传输或创建了 zipfile，并且您已正确编译 UnZip）

我正在使用 python 2.3

这里出了什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:58:17.473

您可能想要升级，因为 Python 2.3 确实已经过时了。2.7.3 是 2.x 版本中的最新版本，3.2.3 是最新的 python 版本。

请参阅[docs.python.org](http://docs.python.org/library/zipfile.html#zipfile.ZipFile.extractall)：

```
 |  extractall(self, path=None, members=None, pwd=None)
 |      Extract all members from the archive to the current working
 |      directory. `path' specifies a different directory to extract to.
 |      `members' is optional and must be a subset of the list returned
 |      by namelist(). 
```

（2.6 版新增）

看看[Zip 文件夹及其内容](http://snipplr.com/view/19640/zip-a-folder-and-its-content/)。

您可能还对[distutlis.archive_util](http://docs.python.org/distutils/apiref.html#module-distutils.archive_util)感兴趣。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T07:20:57.990

嗯不确定它是否是 python 2.3 中的错误。当前的工作环境不允许我升级到更高版本的 python :-( :-( :-(

以下解决方法有效：

```
import zipfile

def test(fileName, tempDir):
    # unzip the file contents,may contain binary files
    myZipFile=zipfile.ZipFile(fileName,'r')
    for name in myZipFile.namelist(): 
        toFile = tempDir + '/' + name

        # check if the file is a binary file
        #if binary file, open it in "wb" mode
            fd = open(toFile, "wb")
        #else open in just "w" mode
            fd = open(toFile, "w")

        fd.write(myZipFile.read(name))
        fd.close()
    myZipFile.close()
    # code which post processes few of the files goes here

    #zip it back
    newZip = zipfile.ZipFile(fileName, mode='w')
    try:
        fileList = os.listdir(tempDir)
        for name in fileList:
            name = tempDir + '/' + name
            newZip.write(name,os.path.basename(name))
        newZip.close()
    except Exception:
            print 'Exception occured while writing to PAR file: ' + fileName 
```

# sql-server-2008 - MS SQL Server 2008 内存消耗过多

> ID：11338756
> 
> 赞同：0
> 
> 时间：2012-07-05T06:20:14.873
> 
> 标签：sql-server-2008

我目前有一个项目，需要我分析一家公司的大数据。我至少有 4000 万行客户存储在 MS SQL 2008 数据库中。问题是每当我尝试查询表时，它需要很长时间才能完成，并且内存消耗过多，实际上可能由于内存不足而关闭系统。有什么想法可以解决这个问题吗？谢谢

# android - 如何从 json 链接中检索数据？

> ID：11338758
> 
> 赞同：0
> 
> 时间：2012-07-05T06:20:19.283
> 
> 标签：android, json, connection

我可以从普通的 json 链接中检索数据但我有一个受密码保护的链接。

比我如何将它与我的 Android 应用程序连接起来？

请帮我 ？我正在使用的连接到普通链接的代码在这里。

```
ArrayList<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();
    nameValuePairs.add(new BasicNameValuePair("track_date", "2011-08-09"));
    nameValuePairs.add(new BasicNameValuePair("tracker_user_id", "" + 374));

    try {
        HttpClient httpclient = new DefaultHttpClient();
        HttpPost httppost = new HttpPost(
                "http://abovestress.com/app_stress/fetch_all_detail.php?task=fetchtimefromdateanduserid&");
        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
        HttpResponse response = httpclient.execute(httppost);
        HttpEntity entity = response.getEntity();
        is = entity.getContent();
    } catch (Exception e) {
        Log.e("log_tag", "Error in http connection " + e.toString());
    }
    // convert response to string
    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        result = sb.toString();
        Log.v("log_tag", "Append String " + result);
    } catch (Exception e) {
        Log.e("log_tag", "Error converting result " + e.toString());
    }

    // parse json data
    try {
        JSONArray jArray = new JSONArray(result);
        for (int i = 0; i < jArray.length(); i++) {
            JSONObject json_data = jArray.getJSONObject(i);
            fetchsosfromID.add(json_data.getString("track_time"));
        }
        Log.v("log_tag", "daily_data " + fetchsosfromID);

    } catch (JSONException e) {
        Log.e("log_tag", "Error parsing data " + e.toString());
    }
}
public boolean isTimeExistSos(){

    return false;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:46:45.617

尝试将此添加到您的`HttpClient`：

```
//create username & password
String username = "uname";
String password = "passwd";
// create connection client
DefaultHttpClient client = new DefaultHttpClient(params);
// set credentials for connection client
client.getCredentialsProvider()
            .setCredentials(
new AuthScope(null, -1), new UsernamePasswordCredentials(username,password)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T09:32:40.083

```
 ArrayList<String> fetchsosfromID = new ArrayList<String>();
    String result = "";
    InputStream is = null;

    ArrayList<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();
    nameValuePairs.add(new BasicNameValuePair("username", "%@"));
    nameValuePairs.add(new BasicNameValuePair("password", "%@"));

    try {
        DefaultHttpClient httpclient = new DefaultHttpClient();
        httpclient.getCredentialsProvider().setCredentials(new AuthScope(null, -1), new UsernamePasswordCredentials("<username>", "<password>"));

        HttpPost httppost = new HttpPost(
                "http://handbags4women.com/pioneer-iphone/login.php?");
        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

        HttpResponse response = httpclient.execute(httppost);
        HttpEntity entity = response.getEntity();
        is = entity.getContent();
    } catch (Exception e) {
        Log.e("log_tag", "Error in http connection " + e.toString());
    }
    // convert response to string
    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        result = sb.toString();
        Log.v("log_tag", "Append String " + result);
    } catch (Exception e) {
        Log.e("log_tag", "Error converting result " + e.toString());
    }

    // parse json data
    try {

        JSONObject json_data = new JSONObject(result);

        Log.v("log_tag", "daily_data " + fetchsosfromID);

    } catch (JSONException e) {
        Log.e("log_tag", "Error parsing data " + e.toString());
    } 
```

# eclipse - android eclipse 安装错误

> ID：11338762
> 
> 赞同：0
> 
> 时间：2012-07-05T06:20:28.097
> 
> 标签：eclipse

当我尝试在我的 Eclipse 上更新 ADT 时，出现以下错误。

由于依赖项冲突，无法完成安装。

```
 Software being installed: Android Traceview 20.0.0.v201206242043-391819 (com.android.ide.eclipse.traceview.feature.group 20.0.0.v201206242043-391819)
  Software currently installed: Eclipse IDE for Java EE Developers 1.3.1.20100916-1202 (epp.package.jee 1.3.1.20100916-1202)
  Only one of the following can be installed at once: 
    Eclipse UI 3.6.1.M20100826-1330 (org.eclipse.ui 3.6.1.M20100826-1330)
    Eclipse UI 3.6.2.M20110203-1100 (org.eclipse.ui 3.6.2.M20110203-1100)
    Eclipse UI 3.6.0.I20100603-1100 (org.eclipse.ui 3.6.0.I20100603-1100)
  Cannot satisfy dependency:
    From: Android Traceview 20.0.0.v201206242043-391819 (com.android.ide.eclipse.traceview.feature.group 20.0.0.v201206242043-391819)
    To: org.eclipse.ui 3.6.2
  Cannot satisfy dependency:
    From: Eclipse IDE for Java EE Developers 1.3.1.20100916-1202 (epp.package.jee 1.3.1.20100916-1202)
    To: org.eclipse.epp.package.jee.feature.feature.group [1.3.1.20100916-1202]
  Cannot satisfy dependency:
    From: Java EE IDE Feature 1.3.1.20100916-1202 (org.eclipse.epp.package.jee.feature.feature.group 1.3.1.20100916-1202)
    To: org.eclipse.platform.feature.group [3.6.1.r361_v20100909-9gF78GrkFqw7GrsZnvz0JWNTeb6fue6896L]
  Cannot satisfy dependency:
    From: Eclipse Platform 3.6.1.r361_v20100909-9gF78GrkFqw7GrsZnvz0JWNTeb6fue6896L (org.eclipse.platform.feature.group 3.6.1.r361_v20100909-9gF78GrkFqw7GrsZnvz0JWNTeb6fue6896L)
    To: org.eclipse.rcp.feature.group [3.6.1.r361_v20100827-9OArFLdFjY-ThSQXmKvKz0_T]
  Cannot satisfy dependency:
    From: Eclipse RCP 3.6.1.r361_v20100827-9OArFLdFjY-ThSQXmKvKz0_T (org.eclipse.rcp.feature.group 3.6.1.r361_v20100827-9OArFLdFjY-ThSQXmKvKz0_T)
    To: org.eclipse.ui [3.6.1.M20100826-1330] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T19:58:23.957

请使用新的 Eclipse 安装。根据它的 3.6.2 版本号，你的已经 2 岁了。最近的版本是[3.8 和 4.2](http://eclipse.org/downloads/)。虽然 ADT也*应该*适用于较旧的 Eclipse 版本，但使用较新的版本更安全。在为 Android 开发时，除了您还可以从 JDT 获得的所有新功能外。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:27:15.027

问题在消息中：

一次只能安装以下其中一项：

*   Eclipse UI 3.6.1.M20100826-1330 (org.eclipse.ui 3.6.1.M20100826-1330)
*   Eclipse UI 3.6.2.M20110203-1100 (org.eclipse.ui 3.6.2.M20110203-1100)
*   Eclipse UI 3.6.0.I20100603-1100 (org.eclipse.ui 3.6.0.I20100603-1100)

它会产生冲突，因为您安装了 Eclipse IDE for Java EE Developers 1.3.1.20100916-1202，并且它可能包含与 Traceview 使用的 UI 版本不同的 UI 版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-06T15:43:03.357

在尝试安装 Android 插件之前，您应该更新您的 Eclipse 安装。

# c# - WCF：如何使用一种方法发送各种类型的消息

> ID：11338765
> 
> 赞同：2
> 
> 时间：2012-07-05T06:20:50.360
> 
> 标签：c#, wcf, design-patterns, client-server

我是 WCF 的新手，用谷歌搜索了这个问题，但无济于事。我基本上有 WCF 客户端/服务器应用程序，使用启用了 HTTPS 的 basicHttpBinding 作为传输。我想要的是能够使用一种通用方法发送各种类型的数据（即各种消息）。我在 WCF 服务中定义了这样的数据：

```
[DataContract]
public class Payment
{
[DataMember]
int Pay_id
{
    get { return Payment_Id; }
    set { Payment_Id = value; }
}
[DataMember]
...
etc. 
```

除了付款、配置、更新、日志之外，我还将有其他课程。在 WCF 中是否可以仅编写和使用一个 [Operation Contract] 方法来发送这些自定义类对象中的任何一个？像

```
SendMessage (Payment p); 
SendMessage (Config c); 
```

而不是为每种新类型的消息编写新方法，我认为这是糟糕的设计选择（难以扩展）？截至目前，我似乎只能在 WCF 客户端代理中实例化 [OperationContract] 方法定义中说明的类型，所以如果是

```
SendMessage(GenericMessage message) 
```

然后我不能使用

```
Payment payment = new Payment(); 
```

在客户端，即使 Payment 是 GenericMessage 的子类。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T06:35:41.547

检查这个答案：

[在 WCF 中命名通用 DataContract](https://stackoverflow.com/questions/509803/naming-generic-datacontracts-in-wcf)

另外，如果您有以下方法：

```
SendMessage(ParentClass object) 
```

您可以使用子类对象：

```
class ChildClass : ParentClass 
```

只需向您的 wcf 客户端添加如下内容：

```
<system.runtime.serialization>
    <dataContractSerializer>
      <declaredTypes>
        <add type="Your.Namespace.ParentClass, Your.Assembly">
          <knownType type="Your.Namespace.ChildClass, Your.Asembly"/>
        </add>
      </declaredTypes>
    </dataContractSerializer>
  </system.runtime.serialization> 
```

另外，看看这篇文章：

[所有关于已知类型](http://blogs.msdn.com/b/sowmy/archive/2006/06/06/all-about-knowntypes.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:37:16.350

如果您有一个基类（`GenericMessage`在您的示例中）的场景，您只需在操作合同上使用[KnownType属性，如下所示：](http://msdn.microsoft.com/en-us/library/system.runtime.serialization.knowntypeattribute.aspx)

```
[OperationContract]
[KnownType(typeof(Payment))]
[KnownType(typeof(Config))]
SendMessage(GenericMessage message); 
```

如果您愿意，还可以在配置中指定已知类型。有关此处的更多信息： [system.runtime.serialization config](http://msdn.microsoft.com/en-us/library/aa967387.aspx)。

不理想，但它有效。

如果您需要做完全不同的事情（因此每种类型的重载会更合适），您必须将[Name](http://msdn.microsoft.com/en-us/library/system.servicemodel.operationcontractattribute.name.aspx)放在 OperationContract 上，如下所示：

```
[OperationContract(Name ="SendPayment")]
SendMessage (Payment p); 

[OperationContract(Name ="SendConfig")]
SendMessage (Config c); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T06:40:39.407

签到[Agatha](http://davybrion.github.com/Agatha/)，这是一个请求/响应模式。您对每个操作都有一个请求/响应。在客户端，您将请求添加到 Dispatcher，然后您可以请求响应或触发请求。

# javascript - 从客户端读取浏览器历史记录

> ID：11338769
> 
> 赞同：0
> 
> 时间：2012-07-05T06:21:06.827
> 
> 标签：javascript, browser-history

是否可以使用 JavaScript 从客户端读取浏览器历史记录？如果没有，任何其他签名/未签名的插件可以做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:33:18.097

Javascript 提供了称为历史的内置对象，您还可以读取长度、后退、前进、前进和其他属性。

# jquery - 将表单数据序列化为 JSON

> ID：11338774
> 
> 赞同：286
> 
> 时间：2012-07-05T06:21:31.273
> 
> 标签：jquery, backbone.js, underscore.js

我想在[Backbone.js](https://en.wikipedia.org/wiki/Backbone.js)模型中对表单进行一些服务器前验证。为此，我需要将用户输入从表单转换为可用数据。我找到了三种方法来做到这一点：

1.  `var input = $("#inputId").val();`
2.  `var input = $("form.login").serialize();`
3.  `var input = $("form.login").serializeArray();`

不幸的是，没有一个提供我需要的良好的可重复和可开发的 JSON 对象。我已经查看了有关 Stack Overflow 的几个问题，但我只发现了一些额外的库。

Underscore.js ，当前的 jQuery 或 Backbone.js 不[提供](https://en.wikipedia.org/wiki/Underscore.js)辅助方法吗？

我无法想象没有要求这样的功能。

**HTML**

```
<form class="login">
    <label for="_user_name">username:</label>
    <input type="text" id="_user_name" name="user[name]" value="dev.pus" />
    <label for="_user_pass">password:</label>
    <input type="password" id="_user_pass" name="user[pass]" value="1234" />
    <button type="submit">login</button>
</form> 
```

**JavaScript**

```
var formData = $("form.login").serializeObject();
console.log(formData); 
```

**输出**

```
{
    "name": "dev.pus",
    "pass": "1234"
} 
```

**Backbone.js 模型**

```
var user = new User(formData);
user.save(); 
```

* * *

## 回答 #1

> 赞同：290
> 
> 时间：2012-07-05T06:41:58.220

这是此用例的函数：

```
function getFormData($form){
    var unindexed_array = $form.serializeArray();
    var indexed_array = {};

    $.map(unindexed_array, function(n, i){
        indexed_array[n['name']] = n['value'];
    });

    return indexed_array;
} 
```

用法：

```
var $form = $("#form_data");
var data = getFormData($form); 
```

* * *

## 回答 #2

> 赞同：172
> 
> 时间：2012-07-05T06:27:26.433

你可以这样做：

```
function onSubmit( form ){
  var data = JSON.stringify( $(form).serializeArray() ); //  <-----------

  console.log( data );
  return false; //don't submit
}
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<form onsubmit='return onSubmit(this)'>
  <input name='user' placeholder='user'><br>
  <input name='password' type='password' placeholder='password'><br>
  <button type='submit'>Try</button>
</form>
```

看到这个： http: [//www.json.org/js.html](http://www.json.org/js.html)

* * *

## 回答 #3

> 赞同：75
> 
> 时间：2014-03-15T06:24:40.993

下面的代码应该可以帮助你。:)

```
 //The function is based on http://css-tricks.com/snippets/jquery/serialize-form-to-json/
 <script src="//code.jquery.com/jquery-2.1.0.min.js"></script>

<script>
    $.fn.serializeObject = function() {
        var o = {};
        var a = this.serializeArray();
        $.each(a, function() {
            if (o[this.name]) {
                if (!o[this.name].push) {
                    o[this.name] = [o[this.name]];
                }
                o[this.name].push(this.value || '');
            } else {
                o[this.name] = this.value || '';
            }
        });
        return o;
    };

    $(function() {
        $('form.login').on('submit', function(e) {
          e.preventDefault();

          var formData = $(this).serializeObject();
          console.log(formData);
          $('.datahere').html(formData);
        });
    });
</script> 
```

* * *

## 回答 #4

> 赞同：43
> 
> 时间：2014-08-05T14:43:02.293

利用：

```
var config = {};
jQuery(form).serializeArray().map(function(item) {
    if ( config[item.name] ) {
        if ( typeof(config[item.name]) === "string" ) {
            config[item.name] = [config[item.name]];
        }
        config[item.name].push(item.value);
    } else {
        config[item.name] = item.value;
    }
}); 
```

* * *

## 回答 #5

> 赞同：33
> 
> 时间：2013-03-01T19:03:29.220

我知道这不符合辅助函数要求，但我这样做的方法是使用 jQuery 的 $.each() 方法

```
var loginForm = $('.login').serializeArray();
var loginFormObject = {};
$.each(loginForm,
    function(i, v) {
        loginFormObject[v.name] = v.value;
    }); 
```

然后我可以将 loginFormObject 传递给我的后端，或者您也可以创建一个用户对象并将其保存（）到主干中。

* * *

## 回答 #6

> 赞同：15
> 
> 时间：2014-01-08T03:18:43.910

为了解决同样的问题（验证而不涉及复杂的插件和库），我创建了[jQuery.serializeJSON](https://github.com/marioizquierdo/jquery.serializeJSON)，它改进了 serializeArray 以支持任何类型的嵌套对象。

这个插件非常受欢迎，但在另一个项目中我使用的是[Backbone.js](https://en.wikipedia.org/wiki/Backbone.js)，我想在 Backbone.js 模型中编写验证逻辑。然后我创建了[Backbone.Formwell](https://github.com/marioizquierdo/backbone-formwell)，它允许您直接在表单中显示验证方法返回的错误。

* * *

## 回答 #7

> 赞同：12
> 
> 时间：2014-08-11T09:28:50.033

我找不到可以解决此问题的答案：

```
[{name:"Vehicle.Make", value: "Honda"}, {name:"Vehicle.VIN", value: "123"}] 
```

这需要这个对象：

```
{Vehicle: {Make: "Honda", "VIN": "123"}} 
```

所以我不得不自己写一个序列化器来解决这个问题：

```
function(formArray){
        var obj = {};
        $.each(formArray, function(i, pair){
            var cObj = obj, pObj, cpName;
            $.each(pair.name.split("."), function(i, pName){
                pObj = cObj;
                cpName = pName;
                cObj = cObj[pName] ? cObj[pName] : (cObj[pName] = {});
            });
            pObj[cpName] = pair.value;
        });
        return obj;
    } 
```

也许它会帮助某人。

* * *

## 回答 #8

> 赞同：10
> 
> 时间：2013-12-14T18:31:25.140

如果您不关心具有相同名称的重复表单元素，那么您可以执行以下操作：

```
var data = $("form.login").serializeArray();
var formData = _.object(_.pluck(data, 'name'), _.pluck(data, 'value')); 
```

我在这里使用[Underscore.js](https://en.wikipedia.org/wiki/Underscore.js)。

* * *

## 回答 #9

> 赞同：7
> 
> 时间：2013-11-20T11:46:26.173

这是我在这种情况下使用的模块（在我的 formhelper.js 中）：

```
define(function(){
    FormHelper = {};

    FormHelper.parseForm = function($form){
        var serialized = $form.serializeArray();
        var s = '';
        var data = {};
        for(s in serialized){
            data[serialized[s]['name']] = serialized[s]['value']
        }
        return JSON.stringify(data);
    }

    return FormHelper;
}); 
```

我似乎无法找到另一种方法来做我想做的事，这有点糟糕。

这确实为我返回了这个 JSON：

```
{"first_name":"John","last_name":"Smith","age":"30"} 
```

* * *

## 回答 #10

> 赞同：6
> 
> 时间：2013-01-18T13:08:16.223

如果您使用 JSON 发送表单，则必须删除发送字符串中的 []。你可以使用 jQuery 函数 serializeObject() 来做到这一点：

```
var frm = $(document.myform);
var data = JSON.stringify(frm.serializeObject());

$.fn.serializeObject = function() {
    var o = {};
    //    var a = this.serializeArray();
    $(this).find('input[type="hidden"], input[type="text"], input[type="password"], input[type="checkbox"]:checked, input[type="radio"]:checked, select').each(function() {
        if ($(this).attr('type') == 'hidden') { //if checkbox is checked do not take the hidden field
            var $parent = $(this).parent();
            var $chb = $parent.find('input[type="checkbox"][name="' + this.name.replace(/\[/g, '\[').replace(/\]/g, '\]') + '"]');
            if ($chb != null) {
                if ($chb.prop('checked')) return;
            }
        }
        if (this.name === null || this.name === undefined || this.name === '')
            return;
        var elemValue = null;
        if ($(this).is('select'))
            elemValue = $(this).find('option:selected').val();
        else elemValue = this.value;
        if (o[this.name] !== undefined) {
            if (!o[this.name].push) {
                o[this.name] = [o[this.name]];
            }
            o[this.name].push(elemValue || '');
        } else {
            o[this.name] = elemValue || '';
        }
    });
    return o;
} 
```

* * *

## 回答 #11

> 赞同：6
> 
> 时间：2014-10-05T22:14:44.827

使用[Underscore.js](https://en.wikipedia.org/wiki/Underscore.js)：

```
function serializeForm($form){
    return _.object(_.map($form.serializeArray(), function(item){return [item.name, item.value]; }));
} 
```

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2014-05-20T23:15:24.053

使用 jQuery 和 Avoid `serializeArray`，以下代码序列化并以 JSON 格式发送表单数据：

```
$("#commentsForm").submit(function(event){
    var formJqObj = $("#commentsForm");
    var formDataObj = {};
    (function(){
        formJqObj.find(":input").not("[type='submit']").not("[type='reset']").each(function(){
            var thisInput = $(this);
            formDataObj[thisInput.attr("name")] = thisInput.val();
        });
    })();
    $.ajax({
        type: "POST",
        url: YOUR_URL_HERE,
        data: JSON.stringify(formDataObj),
        contentType: "application/json"
    })
    .done(function(data, textStatus, jqXHR){
        console.log("Ajax completed: " + data);
    })
    .fail(function(jqXHR, textStatus, errorThrown){
        console.log("Ajax problem: " + textStatus + ". " + errorThrown);
    });
    event.preventDefault();
}); 
```

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2014-08-14T08:13:03.800

好吧，这是一个方便的插件：[https ://github.com/macek/jquery-serialize-object](https://github.com/macek/jquery-serialize-object)

它的问题是：

> 继续前进，在核心序列化之上，.serializeObject 将支持布尔值和数字值的正确序列化，从而为两种情况生成有效类型。
> 
> 期待这些 >= 2.1.0

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2014-06-26T19:08:54.740

我的贡献：

```
function serializeToJson(serializer){
    var _string = '{';
    for(var ix in serializer)
    {
        var row = serializer[ix];
        _string += '"' + row.name + '":"' + row.value + '",';
    }
    var end =_string.length - 1;
    _string = _string.substr(0, end);
    _string += '}';
    console.log('_string: ', _string);
    return JSON.parse(_string);
}

var params = $('#frmPreguntas input').serializeArray();
params = serializeToJson(params); 
```

* * *

## 回答 #15

> 赞同：-1
> 
> 时间：2012-07-05T07:35:11.047

找到了一个可能的帮手：

[https://github.com/theironcook/Backbone.ModelBinder](https://github.com/theironcook/Backbone.ModelBinder)

对于根本不想接触表格的人： [https ://github.com/powmedia/backbone-forms](https://github.com/powmedia/backbone-forms)

我将仔细查看第一个链接，然后提供一些反馈:)

# sql - 在 SQL 中有条件地使用 WHERE 子句

> ID：11338775
> 
> 赞同：0
> 
> 时间：2012-07-05T06:21:53.783
> 
> 标签：sql, sql-server, tsql

看看这个：

```
SELECT clientid,clientname,startdate,enddate,age FROM clients 
WHERE clientid IN (1,2,3,4,5)
AND CASE WHEN age>10 THEN enddate>'31-05-2013'
END 
```

我的问题：我想要第二个条件***enddate>'31-05-2013'***只有当**年龄 > 10**

这个查询有什么问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T06:24:58.940

```
Select clientid,clientname,startdate,enddate,age from clients 
where clientid in (1,2,3,4,5)
and (age <= 10 OR enddate > '31-05-2013') 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-05T06:24:32.760

我不认为你可以使用这样的 case 表达式。试试这个：

```
Select clientid,clientname,startdate,enddate,age from clients 
where clientid in (1,2,3,4,5)
and (age<=10 or enddate>'31-05-2013') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T06:28:37.540

有几件事可能是错误的。一是日期通常是`2013-05-31`有序的。这可能会根据区域设置而改变；让我们假设。

否则，您需要将查询更简单地编写为：

```
SELECT clientid, clientname, startdate, enddate, age
  FROM clients 
 WHERE clientid IN (1,2,3,4,5)
   AND ((age > 10 AND enddate > '31-05-2013') OR (age <= 10)) 
```

或者，使用案例：

```
SELECT clientid, clientname, startdate, enddate, age
  FROM clients 
 WHERE clientid IN (1,2,3,4,5)
   AND CASE 
       WHEN age > 10 THEN enddate > '31-05-2013'
       ELSE TRUE
       END 
```

（没有 ELSE 子句的默认值为 NULL。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-05T06:45:01.297

```
Select clientid,clientname,startdate,enddate,age from clients
where clientid in (1,2,3,4,5)
and  ( (age>10 and enddate>'31-05-2013') or (age<=10 and enddate<='31-05-2013') ) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-06T07:08:14.390

我会使用明确的日期格式

```
Select clientid,clientname,startdate,enddate,age from clients  
where clientid in (1,2,3,4,5) 
and (age <= 10 OR enddate > '20130531') 
```

看到这个原因[http://beyondrelational.com/modules/2/blogs/70/posts/10899/understanding-datetime-column-part-ii.aspx](http://beyondrelational.com/modules/2/blogs/70/posts/10899/understanding-datetime-column-part-ii.aspx)

# google-maps - 谷歌地图融合表悬停并点击

> ID：11338776
> 
> 赞同：2
> 
> 时间：2012-07-05T06:22:05.307
> 
> 标签：google-maps, google-maps-api-3, google-fusion-tables

我有以下来自谷歌的修改代码，它显示了一张带有来自我的一个融合表的多边形的地图。融合表有两个字段 - id 和几何。多边形显示良好，悬停效果很好。

我的问题是如何让内容窗口 div 显示单击多边形的 id 号。测试侦听器当前在单击时在内容窗口 div 中显示“测试”文本，但我无法让它显示在融合表查询中单击的多边形的 id (var query = 'SELECT id,geometry FROM ' + 'MYMAPID';)

```
 <script type="text/javascript" src="https://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">
  var map;

function initialize() {
    var myOptions = {
      zoom: 6,
      center: new google.maps.LatLng(32.157435,-82.907123),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };

    map = new google.maps.Map(document.getElementById('map-canvas'),myOptions);

    // Initialize JSONP request
    var script = document.createElement('script');
    var url = ['https://www.googleapis.com/fusiontables/v1/query?'];
    url.push('sql=');
    var query = 'SELECT id,geometry FROM ' + 'MYMAPID';
    var encodedQuery = encodeURIComponent(query);
    url.push(encodedQuery);
    url.push('&callback=drawMap');
    url.push('&key=AIzaSyAm9yWCV7JPCTHCJut8whOjARd7pwROFDQ');
    script.src = url.join('');
    var body = document.getElementsByTagName('body')[0];
    body.appendChild(script);
  }

function drawMap(data)
{
    var rows = data['rows'];
    for (var i in rows)
    {
        newCoordinates = constructNewCoordinates(rows[i][1]['geometry']);

        var country = new google.maps.Polygon
        ({
            paths: newCoordinates,
            strokeColor: "#ff0000",
            strokeOpacity: 1,
            strokeWeight: 1,
            fillOpacity: 0.3
        });

        google.maps.event.addListener(country, 'mouseover', function() {
          this.setOptions({fillOpacity: 1});
        });

        google.maps.event.addListener(country, 'mouseout', function() {
          this.setOptions({fillOpacity: 0.3});
        });
        //test listener
        google.maps.event.addListener(country, 'click', function() {
         document.getElementById('content-window').innerHTML ='test';
        });

        country.setMap(map);
    }
}

function constructNewCoordinates(polygon)
{
    var newCoordinates = [];
    var coordinates = polygon['coordinates'][0];
    for (var i in coordinates)
    {
        newCoordinates.push(
        new google.maps.LatLng(coordinates[i][1], coordinates[i][0]));
    }
    return newCoordinates;
}

  google.maps.event.addDomListener(window, 'load', initialize);
</script> 
```

谢谢：）

编辑：

我想我可以然后获取@geocodezip 帮助我使用的 id 并使用侦听器：

```
google.maps.event.addListener(country, 'click', function() {

          getAreas(id);

        }); 
```

...将其传递给下面的函数以使其从具有该 ID 的单独 Fusion Table 中提取多个“名称”字段。

```
function getAreas(id)
{
// Initialize JSONP request
    var script = document.createElement('script');
    var url = ['https://www.googleapis.com/fusiontables/v1/query?'];
    url.push('sql=');
    var query = 'SELECT name FROM ' + 'MY TABLE 2' + 'WHERE id=' + id;
    var encodedQuery = encodeURIComponent(query);
    url.push(encodedQuery);
    url.push('&callback=showAreas');
    url.push('&key=AIzaSyAm9yWCV7JPCTHCJut8whOjARd7pwROFDQ');
    script.src = url.join('');
    var body = document.getElementsByTagName('body')[0];
    body.appendChild(script);

}

function showAreas(data)
{
    var rows = data['rows'];
    for (var i in rows)
    {         
        var name = rows[i][0];       
        document.getElementById('content-window').innerHTML = name;
    }
} 
```

但这不起作用。有人知道我在做什么错吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T06:58:11.887

如果您从此[示例](https://developers.google.com/fusiontables/docs/samples/mouseover_map_styles)开始，则 id 为：

```
 var id = rows[i][0]; 
```

为了让它与“国家”多边形相关联，我会使用一个函数闭包：

```
 function createPolygon(country,id)
  {
        google.maps.event.addListener(country, 'mouseover', function() {
          this.setOptions({fillOpacity: 1});
        });
        google.maps.event.addListener(country, 'mouseout', function() {
          this.setOptions({fillOpacity: 0.3});
        });
        google.maps.event.addListener(country, 'click', function() {
           document.getElementById('content-window').innerHTML = id;
        });
  } 
```

[工作示例](http://geocodezip.com/v3_fusiontables_example_20120704.html)

# asp.net-mvc-3 - asp.net mvc3 动态验证和实体框架

> ID：11338780
> 
> 赞同：0
> 
> 时间：2012-07-05T06:22:40.640
> 
> 标签：asp.net-mvc-3, validation

感谢您的任何想法。

当我通过一些自定义验证属性工作时，我遇到了一个应该很简单的问题，但让我很难过。

授权用户将拥有一个 UserProfile，其中包含他们工作所在站点的密钥。该站点是数据库中的一个记录集。此站点记录集中的第 1 个字段是一个正则表达式，它表示完全独立的表中字段的有效格式。输入到另一个表中的数据对所有注册用户都是通用的，但一个特定的字段与他们机构使用的 ID 格式有关。

有没有一种干净的方法可以动态地将正则表达式验证器添加到属性中？

一如既往地感谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T06:44:17.947

这是我想出的，但很想知道是否有更好的解决方案：

命名约定是为了允许自动映射器展平模型（每个 StudyCentre 与 RecordSystem 具有多对一的关系（一些系统共享患者索引系统）

```
Mapper.CreateMap<StudyCentre, ParticipantRegistration.StudyCentreViewData>(); 
```

作为 ViewModel 中单个 TrialParticipant 的嵌套类

```
public StudyCentreViewData ViewData { get; set; }
public class StudyCentreViewData
{
    public string Abbreviation { get; set; }
    public string RecordSystemName { get; set; }
    public string RecordSystemHospitalNoRegEx { get; set; }
    public string RecordSystemNotationDescription { get; set; }
    public IDictionary<string, object> HospitalNoRegEx()
    {
         return DynamicClientValidation.RegEx(errorMessage:String.Format("{0} must consist of {1}",
                                                                       RecordSystemName,
                                                                       RecordSystemNotationDescription),
                                              regExPattern: RecordSystemHospitalNoRegEx);
    }
} 
```

其他属性（例如 StudyCentre.Abbreviation 用于标签）函数 RegEx 很简单：

```
public static class DynamicClientValidation
{
    public static IDictionary<string, object> RegEx(string errorMessage, string regExPattern)
    {
        var returnVal = new Dictionary<string, object>(3);
        returnVal.Add("data-val-regex", errorMessage);
        returnVal.Add("data-val-regex-pattern", regExPattern);
        returnVal.Add("data-val", "true");
        return returnVal;
    }
} 
```

控制器像这样设置视图模型：

```
model.ViewData = Mapper.Map<StudyCentre, ParticipantRegistration.StudyCentreViewData>(_studyCentre.GetCentreByUser(_currentUserName)); 
```

并在视图中（LabelDetailsfor 是一个自定义助手）：

```
<div class="editor-label">
    @Html.LabelDetailsFor(model => model.HospitalID,Model.ViewData.Abbreviation + " ID", Model.ViewData.RecordSystemName) 
</div>
<div class="editor-field">
    @Html.TextBoxFor(model => model.HospitalID, Model.ViewData.HospitalNoRegEx())
    @Html.ValidationMessageFor(model => model.HospitalID)
 </div> 
```

# jsf - JSF SelectOneMenu 值未将值传递给 actionbean

> ID：11338781
> 
> 赞同：0
> 
> 时间：2012-07-05T06:22:45.957
> 
> 标签：jsf, drop-down-menu

我有一组 selectoneMenu 列表。下拉菜单的行为不是恒定的。有时它将值作为 null 传递，或者仍然保留现有值。

我错过了什么？还是需要更改任何配置？

```
 <h:selectOneMenu id="blSearchzoneInput" value="#{bLDashBoardAction.zoneId}">
   <f:selectItems value="#{bLDashBoardAction.zoneList}" var="c"
         itemValue="#{c.zoneId}" />
 </h:selectOneMenu> 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T17:30:37.300

```
 <h:selectOneMenu id="blSearchzoneInput" value="#{bLDashBoardAction.zoneId}">
   <f:selectItems value="#{bLDashBoardAction.zoneList}" var="c"
         itemValue="#{c.zoneId}" immediate="true" onchange="javascript: return this.form.submit();" />
 </h:selectOneMenu> 
```

# jquery - Jquery上一个和下一个按钮添加到.delegate事件

> ID：11338798
> 
> 赞同：1
> 
> 时间：2012-07-05T06:24:43.747
> 
> 标签：jquery, html

这是看起来像任何人都可以帮助我如何将下一个和上一个按钮添加到更大的图像的 html。请帮帮我。

JS：

```
jQuery(function($) {
    $('#thumbs').delegate('img','click', function(){
        var src = this.src.replace('thumb', 'large');
        $("#largeImage").fadeOut(function() {
            this.src = src;
            $(this).fadeIn();
        });
    });
}); 
```

html:

```
<div id="page">

  <div id="gallery">

    <div id="panel">
      <img id="largeImage" src="images/image_01_large.jpg" />
    </div>

    <div id="thumbs">
        <img src="images/image_01_thumb.jpg" alt="1st image description" />
        <img src="images/image_02_thumb.jpg" alt="2nd image description" />
        <img src="images/image_03_thumb.jpg" alt="3rd image description" />
        <img src="images/image_04_thumb.jpg" alt="4th image description" />
        <img src="images/image_05_thumb.jpg" alt="5th image description" />
    </div>

  </div>

  <a href="#" id="next">Next</a>
  <br />
  <a href="#" id="prev">Prev</a>

</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T07:09:13.033

在不过多更改代码的情况下，这应该可以工作。关于它是如何工作的，有两点需要注意：

1.  活动缩略图具有“活动”类。因此，我们可以轻松跟踪当前正在显示的较大图像。
2.  它依赖于您将下一个和上一个标签的 id 命名为“下一个”和“上一个”，这些用于调用相应的 jQuery 函数来获取下一个和上一个 DOM 元素。

    ```
     <div id="thumbs">
            <img class="active" src="images/image_01_thumb.jpg" alt="1st image description" />
            <img src="images/image_02_thumb.jpg" alt="2nd image description" />
            <img src="images/image_03_thumb.jpg" alt="3rd image description" />
            <img src="images/image_04_thumb.jpg" alt="4th image description" />
            <img src="images/image_05_thumb.jpg" alt="5th image description" />     
        </div> 
    </div> 
    <div id="gallery-nav">
        <a href="#" id="next">Next</a> <br /> <a href="#" id="prev">Prev</a>
    </div> 
    ```

    $（函数（）{

    ```
     var thumbs = $('#thumbs'),
          largeImage = $('#largeImage');

      thumbs.delegate('img','click', function(){
          var $this = $(this).addClass('active'),
              src = $(this).attr('src').replace('thumb', 'large');

          thumbs.find('.active').removeClass('active');

          largeImage.fadeOut(function() {
              this.src = src;
              $(this).fadeIn();
          });
      });

      $('#gallery-nav a').click(function() {
          var type = $(this).attr('id'),
              thumbImages = thumbs.find('img'),
              next = thumbImages.filter('.active')
                      .removeClass('active')[type]();

            if(!next.length) {
                next = type === 'next' ? thumbImages.filter(':first-child') : thumbs.find(':last-child');
            }

            var src = next.attr('src').replace('thumb', 'large');

          largeImage.attr('src', src);
          next.addClass('active');
      }); 
    ```

    });

# vba - 循环遍历文件目录以检查文件是否存在，如果不创建新文件则增加版本号

> ID：11338801
> 
> 赞同：0
> 
> 时间：2012-07-05T06:25:09.597
> 
> 标签：vba, for-loop, increment, powerpoint

有人可以帮我找出一种方法来遍历当前文件的目录并搜索文件以查看它是否存在，如果确实存在，则计算已经具有版本号的文件数并增加下一个数字，如果它不存在然后像正常一样创建文件。

基本上我有一个 vba 宏，它允许您从所有存储的“主模板”中提取幻灯片包。用户单击他们想要的包，然后将包提取并保存到同一目录中。我的问题是没有版本控制或文件保护设置。有人可以帮我弄清楚如何循环并增加版本号。

```
Option Explicit

Public Sub CreatePack(control As IRibbonControl)

  Dim packName As String
  Dim Count As Integer
  Select Case control.Id
    Case "packbutton_B1"
      packName = "B1"
    Case "packbutton_B2"
      packName = "B2"
    Case "packbutton_TSD"
      packName = "TSD"
  End Select

  'Note: Attempt to remove characters that are not file-system friendly
  Dim Title As String
  If ActivePresentation.Slides(1).Shapes.Count >= 9 Then
    Title = Trim(ActivePresentation.Slides(1).Shapes(9).TextEffect.Text)
    If Title = "" Then MsgBox "Warning: A project title has not been entered on Slide 1."
  Else
    Title = "(Project Title Not Known)"
    MsgBox "The title slide has been removed, the project name cannot be detected."
  End If
  Title = Replace(Replace(Replace(Replace(Replace(Replace(Replace(Replace(Title, "/", ""), "\", ""), ":", ""), "*", ""), "<", ""), ">", ""), "|", ""), """", "")

  Dim path As String
  path = ActivePresentation.path

  If Len(Dir(path & "\" & packName & " Slide Pack - " & Title & ".pptx")) > 0 Then 'File exists

 ' If MsgBox("This will produce a pack in a separate PowerPoint file. Before extracting the pack make sure you have implemented a version number otherwise your changes maybe overwritten." & vbCrLf & vbCrLf & "Your current file will remain open, and any pending changes will not be automatically saved.", vbOKCancel, "Slide Manager - Create Pack") = vbOK Then

  MsgBox ("File exists, the file name version number will be incremented")

  CopySlidesToBlankPresentation packName

  Application.ActivePresentation.SaveAs path & "\" & packName & " Slide Pack - " & Title & Count + 1, ppSaveAsOpenXMLPresentation

  ActivePresentation.Save

  Else

  MsgBox ("This will produce a pack in a separate PowerPoint file." & vbCrLf & vbCrLf & "Your current file will remain open, and any pending changes will not be automatically saved")

  CopySlidesToBlankPresentation packName

  Application.ActivePresentation.SaveAs path & "\" & packName & " Slide Pack - " & Title, ppSaveAsOpenXMLPresentation

  ActivePresentation.Save

End If

End Sub 
```

任何帮助是极大的赞赏！

问候，本

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-14T13:13:50.170

如果我正确理解你的问题，你的循环应该是这样的

```
Dim fileNoVersion As String
fileNoVersion = path & "\" & packName & " Slide Pack - " & Title

Dim count As Integer
count = 1
While Dir(fileNoVersion & count & ".pptx") <> ""
    count = count + 1
Wend 
```

这将检查哪些文件 Version1、Version2、Version3... 存在并返回下一个未使用的编号。

# ruby-on-rails - 如何使用 Backbone.history.navigate 传递参数？

> ID：11338804
> 
> 赞同：4
> 
> 时间：2012-07-05T06:25:22.093
> 
> 标签：ruby-on-rails, backbone.js

我刚开始使用 Backbone.js，想知道如何使用 发送参数`Backbone.history.navigate`？目前我有以下内容：

```
Backbone.history.navigate("classrooms", true) 
```

这会将页面发送到：

```
http://localhost:3000/profile#classrooms 
```

我希望 URL 看起来像：

```
http://localhost:3000/profile#classrooms?size=300 
```

我将使用什么语法来完成此操作？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T06:46:22.740

您应该能够将该片段直接交给`navigate`：

```
Backbone.history.navigate("classrooms?size=300", true) 
```

如果您的路线设置正确，一切都应该正常工作。

演示：http: [//jsfiddle.net/ambiguous/f27yv/](http://jsfiddle.net/ambiguous/f27yv/)

# sharepoint - 带有包含和或子句问题的 CAML 查询

> ID：11338807
> 
> 赞同：1
> 
> 时间：2012-07-05T06:25:38.193
> 
> 标签：sharepoint, wss, caml

我想要实现的目标：将关键字数组作为输入并查询 Sharepoint List 以返回包含列表中关键字的所有行。

我已经构建了一个简单的 CAML 查询来使用一个关键字 (pdf) 查询我的列表。

```
<Query><Where><Contains><FieldRef Name='Keyword'/><Value Type='Text'>pdf</Value></Contains></Where></Query> 
```

这工作正常。

但是，当我尝试在 CAML 查询中使用 Or 子句时（见下文），我收到以下错误

“一个或多个字段类型未正确安装。请转到列表设置页面删除这些字段。”

```
<Query><Where><Or><Contains><FieldRef Name='Keyword'/><Value Type='Text'>pdf</Value></Contains></Or></Where></Query> 
```

我搜索了语法，一切看起来都很好。请让我知道缺少什么。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T10:01:18.537

在 CAML 查询中，如果你想使用 OR，你必须并且应该有 2 个条件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T01:34:24.577

字段引用名称必须是内部名称。您可以通过转到列表/库设置中的 colmn 页面找到它，名称是 URL 的末尾。名称中的空格和下划线必须以不同方式处理。

# linux - 为什么位置参数 $1 有不同的值？

> ID：11338809
> 
> 赞同：0
> 
> 时间：2012-07-05T06:25:49.163
> 
> 标签：linux, shell, command-line

我是Linux初学者，一直在学习shell脚本，对位置参数理解有些困难。我首先在终端中输入如下内容：

```
set this is a great place 
```

我跑：

```
echo $1 
```

表明：

```
this 
```

然后我在 shell 脚本文件*test.sh*中尝试了一些东西：

```
#!/bash/sh
echo $1 
```

我在终端上运行 shell 脚本：

```
sh test.sh 
```

它什么也没显示。而且，如果我运行：

```
sh test.sh hello 
```

它会在屏幕上显示**你好。**但是，如果我只是运行：

```
echo $1 
```

在终端命令行上。它仍然会显示**这个**

为什么 1 美元在两个地方的价值不同？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:35:23.903

$1（$2 等）是**当前 shell**（或 shell 脚本）的参数

内置的 set 用新的参数替换当前的参数集。

```
% cat test.sh
#!/bash/sh
echo $1
set X Y Z
echo $1

# No args given, so $1 will start set to A, set will change it to X
% sh test.sh

X
# Args given, $1 will start set to A, set will change it to X
% sh test.sh A B C
A
X 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:45:26.010

PL。看看这个解释是否有帮助，

您可以在这里考虑两个进程，一个是当前 shell 具有一组变量。

打字时，

```
set this is a great place 
```

当前 shell 的变量得到更新。

现在当你输入

```
sh test.sh 
```

这意味着您现在拥有一个带有自己的变量集的**单独进程。**现在这两组变量不一样了。所以在这种情况下，你会得到不同的输出。

可以在下面找到来自 Apple 的一篇写得很好的 shell 脚本教程，

[https://developer.apple.com/library/mac/#documentation/opensource/conceptual/shellscripting/Introduction/Introduction.html](https://developer.apple.com/library/mac/#documentation/opensource/conceptual/shellscripting/Introduction/Introduction.html)

# c++ - VS C++ 2008 上的对齐

> ID：11338812
> 
> 赞同：2
> 
> 时间：2012-07-05T06:25:59.103
> 
> 标签：c++, alignment

通常一个`short`变量必须在 2 字节对齐地址，但是如果我试图将它指向一个奇数地址有什么问题吗？

我在 VC++ 2008 上尝试了这段代码，它运行正常，你能解释一下为什么吗？

```
 unsigned char ca[10];
    unsigned short *s1 = 0;
    memset(ca, 1, 10);

    s1 = (unsigned short*)&ca[0];
    printf("s1 = %d\n", *s1);
    s1 = (unsigned short*)&ca[1];
    printf("s1 = %d\n", *s1); 
```

在上面的代码片段中，`ca[0]`或者`ca[1]`肯定有一个在奇数地址，所以它不是 2 字节对齐，而是`s1`完美地分配给`ca[0]`和`ca[1]`。

那么这段代码是否如预期的那样正确，是否建议这样做？我想要一个可移植的方法，它可以将字节数组中的任意两个字节作为短变量读取，以便在几乎所有平台/编译器中都能正常工作。

非常感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T06:42:28.460

没有“必须”，它只是 CPU 可以或不能做的事情。特别是 x86 可能能够进行“未对齐”访问，尽管几乎可以肯定它的效率较低。

对其他 CPU 架构的可移植性可能是您关心的问题，也可能不是，但通常应避免未对齐的内存访问。另外，你几乎必须欺骗编译器，甚至让你做错位的事情......就像你乞求它“拜托，拜托，拜托，但我真的想在脚上开枪，请让我这样做”；这通常不是您可以意外做的事情。

# shell - 从部署在 cloudfoundry 上的 Spring Web 应用程序执行 shell 脚本

> ID：11338815
> 
> 赞同：2
> 
> 时间：2012-07-05T06:26:13.563
> 
> 标签：shell, cloud-foundry, btrace

我正在尝试从部署在 cloudfoundry 上的 Spring Web 应用程序调用 Btrace 脚本。

执行命令为/var/vcap/data/dea/apps/petclinic-0-fef4b0e052097a0cd2bedb8018c28dcd/tomcat/webapps/ROOT/WEB-INF/classes/bin/btrace.sh 532 /var/vcap/data/dea/apps/ petclinic-0-fef4b0e052097a0cd2bedb8018c28dcd/tomcat/webapps/ROOT/WEB-INF/classes/bin/DatabaseQueries.java

但我得到这个错误：

java.io.IOException：无法运行程序“/var/vcap/data/dea/apps/petclinic-0-fef4b0e052097a0cd2bedb8018c28dcd/tomcat/webapps/ROOT/WEB-INF/classes/bin/btrace.sh”：java.io。 IOException：错误=13，权限被拒绝

我推送具有完全脚本权限的应用程序，但错误仍然存​​在。

我们如何从 Cloudfoundry 上的 Spring Web 应用程序执行 shell/bat 脚本

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T19:21:30.407

推送到 Cloud Foundry 的文件的权限由文件所有者读取/写入。在运行它之前，您需要使脚本从您的应用程序可执行：

```
String btracePath = System.getenv().get("HOME") + "/tomcat/webapps/ROOT/WEB-INF/classes/bin/btrace.sh";
String cmd = "chmod +x " + btracePath;
Runtime run = Runtime.getRuntime();
Process pr = run.exec(cmd);
try {
    pr.waitFor();
} catch (InterruptedException ex) {
    ex.printStackTrace();
} 
```

# tinymce - 如何使用 TinyMCE 样式下拉菜单添加内联样式？

> ID：11338818
> 
> 赞同：1
> 
> 时间：2012-07-05T06:26:23.543
> 
> 标签：tinymce, inline-styles

我正在使用 TinyMCE，自定义样式下拉列表，我使用“content_css”属性来指定我要使用的 css 文件，例如：content_css：“css/example.css”

然后它将添加一个带有类名的跨度，例如：

```
<span class="style1">Hello World</span> 
```

但是我怎样才能告诉 TinyMCE Style 下拉列表添加一个带有**内联样式**属性而不是类名的跨度呢？就像是：

```
<span style="color:#E01B6A; font-size:12px;background-color:#D6D4D5;">Hello World</span> 
```

原因是我需要输出没有css文件引用的html代码，需要内联样式。

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T07:02:24.457

我自己在 TinyMCE 网站上找到了答案 - 可以使用**style_formats**列出所有内联样式

```
 // Style formats 
        style_formats: [
            { title: 'style1', inline: 'span', styles: { 'color': '#E01B6A','font-size':'12px','background-color':'#D6D4D5'} },
            { title: 'style2', inline: 'span', styles: { 'color': '#6F7575','font-size':'14px','background-color':'#ABF5EC'} },
            { title: 'style3', inline: 'span', styles: { 'color': '#000000','font-size':'16px','background-color':'#8357F2', 'font-weight':'bold'} }
         ], 
```

# sql-server-2008 - 在 SQL Server 2008 中使用联接在更新表中长时间执行

> ID：11338820
> 
> 赞同：0
> 
> 时间：2012-07-05T06:26:38.003
> 
> 标签：sql-server-2008, query-optimization, sql-update

在尝试更新包含库存数据的表时，我遇到了一个大问题，该表与包含产品分类的表连接在一起。此操作需要很长时间才能执行。

表 dw_giacenze（flag_nomatch 参数等于 T）a 与 ecat_key 字段上的 dw_key_prod z 进行内部连接。a 包含多达 300 万条记录，z 包含 150k 条记录。执行需要2个多小时。

在我正在使用的更新查询下方。

```
update dw_giacenze 
set cate_ecat_key = z.cate_ecat_key,
        sottocat_ecat_key = z.sottocat_ecat_key,
    marchio_key = z.marchio_key,
    sottocat_bi_key = z.sottocat_bi_key,
    gruppo_bi_key = z.gruppo_bi_key,
    famiglia_bi_key = z.famiglia_bi_key,
    flag_nomatch = NULL
from dw_giacenze a
    inner join dw_key_prod z on
        z.ecat_key = a.ecat_key
where
    a.flag_nomatch = 'T'; 
```

谁能帮我优化它？提前致谢！

恩里科

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T16:14:54.920

我建议专注于 a.flag_nomatch = 'T'。

一个非常清楚地了解正在发生的事情的好方法是使用 SQL Server Profiler。如果这表明您的读取数等于表中的行数，那么这绝对是一个问题。在 flag_nomatch 上添加索引。

或者，您可以将其分开并单独更新（开始）

```
UPDATE dw_giacenze 
    set sottocat_ecat_key = (SELECT sottocat_ecat_key 
                             FROM dw_key_prod 
                             WHERE dw_key_prod.ecat_key = dw_giacenze.ecat_key)
where
    dw_giacenze.flag_nomatch = 'T'; 
```

我确实注意到您的 set 语句中的第一个参数实际上与您的联接中的参数相同。这意味着您将其设置为相同的确切值，因此无论如何您都应该能够将其删除。

# python - Django - 检查由视图函数修改的基本模板的变量

> ID：11338822
> 
> 赞同：0
> 
> 时间：2012-07-05T06:26:46.653
> 
> 标签：python, django

我想要做什么：有一个布尔变量：has_sidebar 来检查我是否应该包含侧边栏部分

部分在我的基本模板 base.html 中调用

视图函数应该能够更改 has_sidebar 以声明响应是否将使用侧边栏呈现。

```
#views.py
def my_func1(request):
   has_sidebar = True
   return render_to_response('template1.html', {}, context_instance=RequestContext(request))

def my_func2(request):
   has_sidebar = False
   return render_to_response('template2.html', {}, context_instance=RequestContext(request))

#base.html
{% if has_sidebar %}{%include 'sidebar.html'%}{%endif%}

#template1.html
{% extends 'base.html' %}

#template2.html
{% extends 'base.html' %} 
```

我怎样才能做到这一点？提前致谢！

**注意**：HTML 布局只允许我在基本模板中呈现侧边栏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T07:03:43.483

当您返回要呈现的 base.html 时，添加`from django.shortcuts import render_to_response`到您的 views.py 的顶部并将以下内容放入 my_funcs 中：

```
return render_to_response('base.html', {'has_sidebar': has_sidebar}) 
```

# c# - IS 运算符和对象来自哪里

> ID：11338823
> 
> 赞同：0
> 
> 时间：2012-07-05T06:26:49.473
> 
> 标签：c#

我有以下由我试图理解的其他人编写的类（我省略了此示例不需要的代码）：

```
public abstract class UserControl : System.Web.UI.UserControl
{
       ...

        public virtual bool IsAadmin(TheUser theUser)
        {
            if (Page is Page)
                return ((Page)Page).IsAadmin(theUser);

            return false;
        }
... 
```

*编辑：（注意：在stackoverflow`Page`中，`if`语句中的第一个突出显示为蓝色，但在Visual Studio中不是）*

在`if`语句中智能感知显示第一个 Page 是 type `System.Web.UI.Page Control.Page`，第二个`Page`是 from `Something.Products.Web.Page`。当我通过代码进行调试时，它似乎没有进入这个`if`语句，所以我想知道这段代码试图做什么？但更重要的是，声明`Page`中的第`if`一个来自哪里（初始化）？我正在使用`Resharper`，它建议`if`用

```
var page = Page as Page;
if (page != null) 
```

此更改显示在通过它进行调试时页面为空。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:32:20.803

“第一页”实际上是您的抽象继承`Page`的类的属性。它是类型，并且根据文档，返回`UserControl``UserControl``System.Web.UI.Page`

> 对包含服务器控件的 Page 实例的引用。

`is`关键字在以下情况下计算为真

> 提供的表达式是非空的，并且提供的对象可以强制转换为提供的类型而不会引发异常。

似乎在调试代码时，检查`UserControl`的内容不包含在 type 的页面中`Something.Products.Web.Page`。

关于 Resharper 的建议：在您的原始代码中，您有效地转换了`Page`属性两次 - 第一次是使用`is`关键字时，第二次是显式地转换它。使用 Resharper 生成的代码，转换只发生一次。当`if`语句的计算结果为真时，您可以确定该`page`变量持有对的引用，`Something.Products.Web.Page`而不必再次强制转换它。

# java - Java 中的地图和列表

> ID：11338827
> 
> 赞同：0
> 
> 时间：2012-07-05T06:27:08.947
> 
> 标签：java, list, maps

```
NodeList nList2 = doc.getElementsByTagName("dep");
Map<String, List<Map<String, String>>> depMap = new HashMap<String, List<Map<String, String>>>();
for (int temp = 0; temp < nList2.getLength(); temp++) {
  Element el = (Element)nList2.item(temp);
  String type=el.getAttribute("type");
  Node nNode = nList2.item(temp);
  if (nNode.getNodeType() == Node.ELEMENT_NODE) {
    Element eElement = (Element) nNode;
    List<Map<String,String>> depList = new ArrayList<Map<String,String>>();
    String governor = getTagValue("governor", eElement);
    String dependent = getTagValue("dependent", eElement);
    Map<String, String> govdepmap = new HashMap<String, String>();
    govdepmap.put(governor, dependent);
    depList.add(govdepmap);
    List<Map<String,String>> flist = new ArrayList<Map<String,String>>();
    flist.add(govdepmap);
    depMap.put(type, flist);
  }
} 
```

我写了这段代码，但问题是每当循环运行时，它都会替换已经存储在 depMap 中的 List。我希望它应该在从 depMap 检索到的 List 中附加新 Map 而不是替换它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T06:29:35.013

因此，您不需要在每次迭代中创建新列表，而是需要从地图和`add()`项目中获取列表到该列表

改变

```
List<Map<String,String>> flist = new ArrayList<Map<String,String>>(); 
```

至

```
List<Map<String,String>> flist = depMap.get(type);
if(flist == null){
 List<Map<String,String>> flist = new ArrayList<Map<String,String>>();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:32:41.223

将 , 的初始化移到`flist`for`govdepmap`循环`depList`之外。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T06:39:04.337

只需将您的代码更改为以下代码。

```
 NodeList nList2 = doc.getElementsByTagName("dep");
    Map<String, List<Map<String, String>>> depMap = new HashMap<String, List<Map<String, String>>>();
    List<Map<String,String>> flist = null;
    for (int temp = 0; temp < nList2.getLength(); temp++) {
      Element el = (Element)nList2.item(temp);
      String type=el.getAttribute("type");
      Node nNode = nList2.item(temp);
      if (nNode.getNodeType() == Node.ELEMENT_NODE) {
        Element eElement = (Element) nNode;
        List<Map<String,String>> depList = new ArrayList<Map<String,String>>();
        String governor = getTagValue("governor", eElement);
        String dependent = getTagValue("dependent", eElement);
        Map<String, String> govdepmap = new HashMap<String, String>();
        govdepmap.put(governor, dependent);
        depList.add(govdepmap);
        if(flist == null){
            flist = new ArrayList<Map<String,String>>();
        }
        flist.add(govdepmap);
        depMap.put(type, depList);
      }
    } 
```

# c# - 如何使用gridview外的按钮从gridview中删除一行

> ID：11338829
> 
> 赞同：0
> 
> 时间：2012-07-05T06:27:11.817
> 
> 标签：c#, asp.net, html

这似乎是一个重复的问题，但我无法得到我的答案。

我有一个网格视图，当我单击网格视图外的按钮时，我需要删除特定的行。

```
 protected void btnDelete_Click(object sender, EventArgs e)
      {
            dtable = (DataTable)Session["data"];
            DataRow row = dtable.Rows[DataGV1.SelectedIndex];
            dtable.Rows.Remove(row);
            DataGV1.DataSource = dtable;
            DataGV1.DataBind();
            Session["data"] = dtable;
        } 
```

会话变量具有数据表的先前状态。

```
protected void DataGV1_RowCommand(object sender, GridViewCommandEventArgs e)
    {
        GridView _gridView = (GridView)sender;

        // Get the selected index 
         _selectedIndex = int.Parse(e.CommandArgument.ToString());
     } 
```

网格视图控件

```
 onselectedindexchanged="DataGV1_SelectedIndexChanged" 
        OnRowCommand="DataGV1_RowCommand" OnRowDeleting="DataGV1_RowDeleting"
        AutoGenerateSelectButton="False" DataKeyNames="Role,Last_name">
        <Columns>
            <asp:ButtonField DataTextField="last_name" HeaderText="Last_name" CommandName="SingleClick"
                SortExpression="last_name" Text="Button" />
            <asp:BoundField DataField="role" HeaderText="role" SortExpression="role" />
             <asp:BoundField DataField="role" HeaderText="role"                      HeaderText="Frist_name" 
                 SortExpression="first_name" Text="First_name" />
        </Columns>
    </asp:GridView> 
```

这似乎不起作用。你能告诉我哪里出错了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:34:09.233

您必须将 _selectedIndex 存储在 ViewState 中，然后在删除按钮上单击您从 Viewstate 中检索 _selectedIndex 并使用它从数据集中删除行，然后重新加载网格。

```
protected void DataGV1_RowCommand(object sender, GridViewCommandEventArgs e)
    {
        GridView _gridView = (GridView)sender;

        // Get the selected index 
         ViewState["SelIndex"] = e.CommandArgument.ToString();
     }

protected void btnDelete_Click(object sender, EventArgs e)

  {
        if(ViewState["SelIndex"] == null)
            return;

        int selIndex = int.Parse(ViewState["SelIndex"]);

        dtable = (DataTable)Session["data"];
        DataRow row = dtable.Rows[selIndex ];
        dtable.Rows.Remove(row);
        DataGV1.DataSource = dtable;
        DataGV1.DataBind();
        Session["data"] = dtable;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:38:39.493

如果*按钮*在外面，`GridView`则不需要处理`RowCommand`事件（实际上是不合适的）。

建议：

您必须添加一`TemplateField`列，将 CheckBox 控件拖放到 TemplateField 的 ItemTemplate 中，并在按钮的单击处理程序中编写代码以遍历`GridView.Rows`集合，通过读取控件的值来识别选定的行，`CheckBox`如果选中则执行删除操作`CheckBox`。

演示数据源 ( `List<T>`)

```
public class Item
{
    public int ID { get; set; }
    public string Name { get; set; }

    public static List<Item> Data()
    {
        List<Item> list = new List<Item>()
        {
                new Item(){ ID=11, Name="A"},
                new Item(){ ID=12, Name="B"},
                new Item(){ ID=13, Name="C"},
                new Item(){ ID=14, Name="D"},
                new Item(){ ID=15, Name="E"},
        };
        return list;
    }
} 
```

标记：

```
<asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="false">
   <Columns>
        <asp:ButtonField DataTextField="Name" HeaderText="Name" CommandName="SingleClick"
            SortExpression="last_name" Text="Button" />
        <asp:BoundField DataField="ID" HeaderText="ID" SortExpression="ID" />
    </Columns>
</asp:GridView>
<asp:Button ID="btnDelete" runat="server" Text="Button" /> 
```

代码隐藏 (Page_Load)

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {
        Session["data"] = Item.Data();
        GridView1.DataSource = Session["data"];
        GridView1.DataBind();
    }
    /*--- RowCommand handler ---*/
    GridView1.RowCommand += (sa, ea) =>
        {
            ViewState["RowIndex"] = ea.CommandArgument.ToString();
        };
    /*--- Delete button click handler ---*/
    btnDelete.Click += (sa, ea) =>
        {
            if (ViewState["RowIndex"] != null)
            {
                int index = int.Parse(ViewState["RowIndex"].ToString());
                List<Item> items = Session["data"] as List<Item>;
                items.RemoveAt(index);
                GridView1.DataSource = Session["data"];
                GridView1.DataBind();
                ViewState["RowIndex"] = null;
            }
        };
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-08T02:12:14.457

看看这些文章，这些文章将解释从 gridview 中删除单行/多行。 [http://technico.qnownow.com/2012/06/15/how-to-delete-multiple-rows-from-gridview-with-checkboxes/](http://technico.qnownow.com/2012/06/15/how-to-delete-multiple-rows-from-gridview-with-checkboxes/) http://technico.qnownow.com/2012/06/14/如何从gridview-with-client-side-confirmation删除一行/

# c# - AJAX 分级控制：已分级消息

> ID：11338831
> 
> 赞同：0
> 
> 时间：2012-07-05T06:27:23.870
> 
> 标签：c#, asp.net, ajax, jquery, rating

我正在使用 AJAX 评级控件对文章进行评级。它工作正常。但我希望为它添加一个功能。当用户已经对文章进行评分时，我想给用户一条消息。怎么能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T06:37:10.487

如果您使用 UserID 将给定的评分存储在 DB 中，您可以使用后面代码中的回调事件来检查它。如果用户评分，您可以放置​​一个动态 javascript 函数（警报等）`ScriptManager.RegisterClientScriptBlock`

# jquery - 如果我使用 jquery 删除警报，则类不适用于 div

> ID：11338833
> 
> 赞同：0
> 
> 时间：2012-07-05T06:27:37.053
> 
> 标签：jquery

我有这样的html结构

```
 <div class="selected">
        <div class="selectedOption">September 2012</div>
     </div>
     <div class="optionsContainer" style="width: 138px;">
        <div class="option">July 2012</div>
        <div class="option">August 2012</div>
        <div class="option">September 2012</div>
        <div class="option">October 2012</div>
        <div class="option">November 2012</div>         
      </div> 
```

我试图将“selected”类应用于内容等于“selectedOption”div的选项

```
jQuery('.optionsContainer .option').click(function(){ 

// call an one ajax too

jQuery.each(jQuery('.optionsContainer .option'),function(index,value){
        var temp = jQuery(this).html();
        var selected_date = jQuery(".selectedOption").html();
        if(temp == selected_date)
        {  alert('in');
            jQuery(this).addClass('selected');
        }   
    });
}); 
```

它工作正常，但问题是如果我删除警报意味着未应用“选定”类。有任何想法吗？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T07:06:55.420

根据我的理解：[DEMO](http://jsfiddle.net/nX3Bv/2/)

```
$('.selectedOption').click(function(val){
   var soVal = $(this).text();
    $('.optionsContainer').toggle();

    $('.optionsContainer .option').each(function(){
        if($(this).text() == soVal){
            $(this).addClass('selected');
        }else if($(this).hasClass('selected')){
           $(this).removeClass('selected');
        }

    });

}); 
```

但我想知道这是你真正想要的还是相反。

# google-drive-api - Google Drive V2 Java API - 将文件上传到特定文件夹

> ID：11338837
> 
> 赞同：2
> 
> 时间：2012-07-05T06:28:03.250
> 
> 标签：google-drive-api

以下是使用 Gdrive V2 sdk 将文件上传到特定文件夹的方法。1) 将文件插入根文件夹 (Drive.Files.insert(File,AbstractInputStream) 2) 删除新上传文件的根父引用 3) 添加特定目标文件夹作为文件的新父引用。

以上工作。但是，如果网络速度很慢，我们会看到文件在根文件夹中停留了很长一段时间，然后才会移动到特定的目标文件夹。我们怎样才能避免这种情况？我们可以批处理所有上述三个操作吗？但是 AFAIK，批处理支持特定类型的操作，例如..我们只能批处理所有文件操作或父操作或修订操作。我们可以批处理属于不同类型的操作，例如（Files.insert() 和 Parent.delete()）吗？

输入将不胜感激。

谢谢！！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-06T01:16:51.270

您可以通过在元数据中设置父母字段直接在指定文件夹中创建文件。

```
{
  "title" : "test.jpg",
  "mimeType" : "image/jpeg",
  "parents": [{
    "kind": "drive#file",
    "id": "<folderId>"
  }]
} 
```

这就是我在 python 中所做的，但我相信在 java 中有相关的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-17T09:13:17.793

正如 eric.f 在他的回答中提到的，您需要为**文件设置****父**级。

 **来自[https://developers.google.com/drive/v2/reference/files/insert](https://developers.google.com/drive/v2/reference/files/insert)

```
import com.google.api.client.http.FileContent;
import com.google.api.services.drive.Drive;
import com.google.api.services.drive.model.File;

import java.io.IOException;
import java.util.Arrays;
// ...

public class MyClass {

  // ...

  /**
   * Insert new file.
   *
   * @param service Drive API service instance.
   * @param title Title of the file to insert, including the extension.
   * @param description Description of the file to insert.
   * @param parentId Optional parent folder's ID.
   * @param mimeType MIME type of the file to insert.
   * @param filename Filename of the file to insert.
   * @return Inserted file metadata if successful, {@code null} otherwise.
   */
  private static File insertFile(Drive service, String title, String description,
      String parentId, String mimeType, String filename) {
    // File's metadata.
    File body = new File();
    body.setTitle(title);
    body.setDescription(description);
    body.setMimeType(mimeType);

    // Set the parent folder.
    if (parentId != null && parentId.length() > 0) {
      body.setParents(
          Arrays.asList(new ParentReference().setId(parentId)));
    }

    // File's content.
    java.io.File fileContent = new java.io.File(filename);
    FileContent mediaContent = new FileContent(mimeType, fileContent);
    try {
      File file = service.files().insert(body, mediaContent).execute();

      // Uncomment the following line to print the File ID.
      // System.out.println("File ID: %s" + file.getId());

      return file;
    } catch (IOException e) {
      System.out.println("An error occured: " + e);
      return null;
    }
  }

  // ...
} 
```**

# silverlight - 如何在 Silverlight Web 应用程序中实现 Ctrl+C 和 Ctrl+V？

> ID：11338838
> 
> 赞同：0
> 
> 时间：2012-07-05T06:28:04.797
> 
> 标签：silverlight, web, copy-paste

我需要在 Silverlight Web 应用程序中实现 Ctrl+C 和 Ctrl+V。我尝试捕获事件并获取键码，但是当我执行 System.Windows.Clipboard.SetText("sometext") 时，它会引发安全异常。

这个问题有什么解决办法吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T08:15:56.987

您应该`SetText`从用户发起的操作中调用。该`keydown`事件就是这样一个，因此您应该从附加到该事件的处理程序中调用 SetText 例如。

这是因为 silverlight 默认运行在部分信任模式下，所以剪贴板访问仅限于这两个事件处理程序。此外，将提示用户允许访问。

请在此处阅读更多内容：[剪贴板类](http://msdn.microsoft.com/en-us/library/system.windows.clipboard%28v=vs.95%29.aspx)

# php - 如何从 php 变量中设置表单名称并在 $_POST 中使用它

> ID：11338839
> 
> 赞同：1
> 
> 时间：2012-07-05T06:28:05.347
> 
> 标签：php, forms, post

这是一个基本的问题，我敢肯定......

我有一个普通的表单，但其中一个字段是一个国家下拉菜单，我用一个外部 xml 脚本填充它：

```
<?php 
//Build countries dropdown from GeoNames database
$xmlcountries = 'http://ws.geonames.org/countryInfo';
echo '<select name="custom_country" id="custom_country">';
$countries = simplexml_load_file($xmlcountries);
echo '<option value="">Your country</option>';
foreach ($countries->country as $country) {
    echo '<option value="'.$country->geonameId.'|'.$country->countryName.'">'.$country->countryName.'</option>';
}
echo '</select>';

?> 
```

我的表格是这样的：

```
<form action="update.php" method="post">
    Country:<br />
    <input type="text" name="Country" size="100" /><br />
    State:<br />
    <input type="text" name="State" size="100" /><br />
    City:<br />
    <input type="text" name="City" size="100" /><br />
    <input type="submit" value="Update Database" />
</form> 
```

我希望上面的`$country`变量代替`name="Country"`表单中的字段。我怎么做？

明确一点 - 当我提交表单时，我希望国家下拉列表中的值填充`$_POST['Country'].`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:45:24.973

似乎您只想替换：

```
<input type="text" name="Country" size="100" /><br /> 
```

有了这个：

```
<?php

echo '<select name="Country" id="custom_country">';
$countries = simplexml_load_file($xmlcountries);
echo '<option value="">Your country</option>';
foreach ($countries->country as $country) {
    echo '<option value="'.$country->geonameId.'|'.$country->countryName.'">'.$country->countryName.'</option>';
}
echo '</select><br />';

?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:29:48.610

```
<input type="text" name="Country" value="<?php echo $country; ?>" size="100" /><br /> 
```

value 参数将使用您指定的任何内容预填充该字段，在本例中为国家/地区。

请注意，除非您另有说明，否则用户可以更改此设置，因此这可能对您来说是个问题，具体取决于您的使用方式。

> value 属性用于不同的输入类型：
> 
> 对于“按钮”、“重置”和“提交” - 它定义按钮上的文本 对于“文本”、“密码”和“隐藏” - 它定义输入字段的初始（默认）值 对于“复选框", "radio", "image" - 它定义了与输入相关的值（这也是提交时发送的值） [更多信息](http://www.w3schools.com/tags/att_input_value.asp)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T06:38:27.743

```
<?php 
...
echo '<select name="custom_country" id="custom_country" onchange="document.getElementById(\'Country\').value = this.value">';
?>

<input id="Country" type="text" name="Country" size="100" readonly="readonly" /> 
```

# google-maps-api-3 - 如何防止用户将谷歌地图拖到灰色区域

> ID：11338840
> 
> 赞同：1
> 
> 时间：2012-07-05T06:28:07.137
> 
> 标签：google-maps-api-3

我正在使用 Google 地图 API 来显示国家/地区。

如果我向上或向下移动地图，就有可能到达灰色区域。（与缩放大小无关）

是否可以阻止进入灰色区域的选项，意思是控制用户的移动以及何时出现灰色区域以防止他将地图移动到该区域？

# extjs4 - 读取数据并显示

> ID：11338841
> 
> 赞同：0
> 
> 时间：2012-07-05T06:28:10.660
> 
> 标签：extjs4

我正在尝试从服务器（本地`PHP`脚本）获取所有书籍，其中`ID`包含`1`.

我想我必须发送一个`GET`带有`ID`1 的请求，以便`PHP`脚本返回`ID 1`.

当我搜索时，我发现我应该利用`Ext.ModelManager.getModel`来完成这项工作。但我找不到任何可以帮助我做到这一点的例子。

有人可以帮我吗。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T15:42:46.907

在您的商店中，添加代理并设置 extraParams。

```
proxy: {
    type: 'ajax',
    url: 'your url'
},
listeners: {
    'beforeload': function (t,n) {            
        this.proxy.extraParams.Id = yourId
}, 
```

# javascript - AgilityJS 添加和删除事件

> ID：11338843
> 
> 赞同：0
> 
> 时间：2012-07-05T06:28:28.143
> 
> 标签：javascript

早上好，这些天我尝试让 AgilityJS 工作，但我仍然坚持这两个自然事件：添加和删除。

```
(function(window){

var Test = $$({

    model : {},
    view : {
        format : '<div></div>'
    },
    controller : {
        'create' : function(){
            console.log('create');
        },
        'add' : function(){
            console.log('add');
        },
        'remove' : function(){
            console.log('remove');
        }
    }

});

$(document).ready(function(){
    $$.document.append(Test, '#test');
    var t = setTimeout(function(){
        console.log('time out');
        $$.document.remove(Test);
    }, 1000);
}); 
```

}）（窗户）;

我的 html 中有一个 id 为#test 的 div。有人知道如何让它们工作吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T17:22:44.597

此事件不是指将对象添加到另一个对象（如窗口）的那一刻，而是当您在具有绑定的对象中插入另一个敏捷对象时触发它们。

事件删除工作正常，但事件添加被此提交中的附加和前置事件替换：[https ://github.com/arturadib/agility/commit/1b2483333dde3f55b3305f2746e4dd6730a1c364](https://github.com/arturadib/agility/commit/1b2483333dde3f55b3305f2746e4dd6730a1c364)

您可以在此处查看删除和附加事件的示例：http: [//jsbin.com/welcome/14942/edit](http://jsbin.com/welcome/14942/edit)

# list - 如何在 Maxima 中将列表作为变量参数函数传递？

> ID：11338847
> 
> 赞同：5
> 
> 时间：2012-07-05T06:28:45.933
> 
> 标签：list, variables, arguments, maxima

在 Maxima 中，有一些函数接受变量参数，例如 diag_matrix(a1,a2,...,an)，用于创建对角矩阵，对角元素为 a1,...,an

但是，目前我有一个 [a1,a2,..an] 列表，并希望从中创建一个对角矩阵。diag_matrix 不能直接接受列表；反正有没有利用 diag_matrix 来创建矩阵？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-05T18:01:55.757

通常，表达式 apply(foo, [a1, ..., an]) 将函数 foo 应用于参数列表 [a1, ..., an]。

特别是，apply(diag_matrix, [a1, ..., an]) 将 diag_matrix 应用于 [a1, ..., an]。我想这就是你想要的。

请注意，即使 foo 引用了它的参数，apply 也会计算它的所有参数，或者 foo 计算的值不是它自己。因此，Maxima 中有一个“应用失败引用”的成语，这通常很有用。

# ruby - 使用红宝石宝石时出错

> ID：11338848
> 
> 赞同：1
> 
> 时间：2012-07-05T06:28:46.167
> 
> 标签：ruby, rubygems

我最近使用 gem 安装了一个基于 ruby​​ 的工具，当我尝试运行这些工具时，我收到以下错误。我该如何解决？

```
 Invalid gemspec in [/var/lib/gems/1.8/specifications/commander-4.1.2.gemspec]: invalid date format in specification: "2012-02-17 00:00:00.000000000Z"
    /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `gem_original_require': no such file to load -- commander/user_interaction (LoadError)
        from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `require'
        from /var/lib/gems/1.8/gems/rhc-0.93.19/lib/rhc/helpers.rb:1
        from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `gem_original_require'
        from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `require'
        from /var/lib/gems/1.8/gems/rhc-0.93.19/lib/rhc-rest.rb:11
        from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `gem_original_require'
        from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `require'
        from /var/lib/gems/1.8/gems/rhc-0.93.19/lib/rhc-common.rb:12
        from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `gem_original_require'
        from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `require'
        from /var/lib/gems/1.8/gems/rhc-0.93.19/bin/rhc:7
        from /usr/local/bin/rhc:19:in `load'
        from /usr/local/bin/rhc:19 
```

我按照下面的答案安装了指挥官，当我现在尝试运行时，它给了我以下错误 -

```
Invalid gemspec in [/var/lib/gems/1.8/specifications/commander-4.1.2.gemspec]: invalid date format in specification: "2012-02-17 00:00:00.000000000Z"
/usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `gem_original_require': no such file to load -- commander/user_interaction (LoadError)
    from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `require'
    from /var/lib/gems/1.8/gems/rhc-0.93.19/lib/rhc/helpers.rb:1
    from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `gem_original_require'
    from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `require'
    from /var/lib/gems/1.8/gems/rhc-0.93.19/lib/rhc-rest.rb:11
    from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `gem_original_require'
    from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `require'
    from /var/lib/gems/1.8/gems/rhc-0.93.19/lib/rhc-common.rb:12
    from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `gem_original_require'
    from /usr/lib/ruby/vendor_ruby/1.8/rubygems/custom_require.rb:53:in `require'
    from /var/lib/gems/1.8/gems/rhc-0.93.19/bin/rhc:7
    from /usr/local/bin/rhc:19:in `load'
    from /usr/local/bin/rhc:19 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:38:22.767

我猜，您正在使用[指挥官](https://github.com/visionmedia/commander/)宝石。请安装它

```
gem install commander 
```

版本是 4.1.1

# java - 我正在使用 Marvin 图像处理库，MarvinPluginLoader.loadImagePlugin() throw FileNotFoundException

> ID：11338849
> 
> 赞同：2
> 
> 时间：2012-07-05T06:28:50.397
> 
> 标签：java, jersey, marvin-framework

```
FileNotFoundExecption thrown on acceccing jar using relfection on Jersey REST Web Service. 

java.io.FileNotFoundException: .\marvin\plugins\image\org.marvinproject.image.color.grayScale.jar (The system cannot find the path specified)
    at java.util.zip.ZipFile.open(Native Method)
    at java.util.zip.ZipFile.<init>(Unknown Source)
    at java.util.jar.JarFile.<init>(Unknown Source)
    at java.util.jar.JarFile.<init>(Unknown Source)
    at marvin.util.MarvinJarLoader.<init>(MarvinJarLoader.java:57)
    at marvin.util.MarvinPluginLoader.loadPlugin(MarvinPluginLoader.java:72)
    at marvin.util.MarvinPluginLoader.loadImagePlugin(MarvinPluginLoader.java:55)
    at com.ram.rest.Marvin.processImage(Marvin.java:48)
    at com.ram.rest.RequestHandler.getResult(RequestHandler.java:19)
    at com.ram.rest.RestWS.setMessage(RestWS.java:32)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
    at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)
    at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
    at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)
    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
    at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
    at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1483)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1414)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1363)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1353)
    at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:414)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:306)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:550)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:380)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:243)
    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:188)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:288)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-01-15T20:17:53.550

您可以更改插件路径：

```
static {
    MarvinDefinitions.setImagePluginPath("./marvinplugins/");
} 
```

# mysql - 在adapter.update之后查询返回空白行

> ID：11338851
> 
> 赞同：1
> 
> 时间：2012-07-05T06:28:59.423
> 
> 标签：mysql, vb.net

我正在尝试在 while 循环中使用数据适配器更新我的 sql 数据库。第一个循环很好，但是当我更新数据库然后在第二个循环中，选择查询的行是空白的。适配器是否锁定数据库？

```
 while (true)
        {
            using (MySqlConnection dbConnection = new MySqlConnection(connectionString))
            {
                using (MySqlCommand selectCommand = dbConnection.CreateCommand())
                {
                    selectCommand.CommandText = "Select * from Status";
                    using (MySqlDataAdapter adapter = new MySqlDataAdapter(selectCommand))
                    {
                        using (MySqlCommandBuilder builder = new MySqlCommandBuilder(adapter))
                        {
                            using (DataTable table = new DataTable())
                            {
                                adapter.Fill(table);
                                table.Rows[0][1] = "data-" + count.ToString();
                                adapter.Update(table);
                            }
                        }
                    }
                }                    
            }
            System.Threading.Thread.Sleep(1000);
        } 
```

# javascript - $this->Js->object() 根据值自动排序其内容

> ID：11338856
> 
> 赞同：0
> 
> 时间：2012-07-05T06:29:31.873
> 
> 标签：javascript, cakephp, helper

如果我没看错的话，我很惊讶 $this->Js->object() 会自动排序我给它的数组。我使用 CakePHP 2.0 编码这是我得到的：

在我的控制器中：

```
$arrayOfPlotPoints = array();
//....
    foreach($allFilenames as $key => $value){
        $arrayOfPlotPoints[$key]['latitude'] = $value['TransactionDetail']['latitude'];
        $arrayOfPlotPoints[$key]['longitude'] = $value['TransactionDetail']['longtitude'];
        $arrayOfPlotPoints[$key]['signal_level'] = $value['TransactionDetail']['signal_level'];
        $arrayOfPlotPoints[$key]['snr_level'] = $value['TransactionDetail']['snr_level'];
        $color = $this->ColorSchema->find('first',array('fields'=>array('ColorSchema.color'),'conditions' =>array('category' => $category, 'upper_bound >=' => $value['TransactionDetail']['snr_level'], 'lower_bound <='=> $value['TransactionDetail']['snr_level'])));
        $arrayOfPlotPoints[$key]['color'] = $color['ColorSchema']['color'];
        }

//.. 
```

在我的视图文件中：

```
 var test = <?php echo $this->Js->object($arrayOfPlotPoints); ?>;

    for (var key in test) {
           var obj = test[key];
           for (var prop in obj) {
                color.push(obj['color']);
                latitude.push(obj['latitude']);
                longitude.push(obj['longitude']);
               }

    } 
```

我首先调试了 $arrayOfPlotPoints 的值并按原样复制了这些值。我尝试提醒在我的 javascript 的 for 循环中获取的值。它们的出现与我之前在控制器中调试的不同。就好像它已经根据价值进行了排序一样。这是否意味着 JS 助手会自动排序其内容？如果是这种情况，我可以禁用自动排序吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T09:49:36.147

抱歉，是我的错。多亏了我这位朋友非常敏锐的眼睛，他发现了我的问题。

我的数组看起来像这样：

```
Array
(
    [0] => Array
        (
            [latitude] => 14.62163
            [longitude] => 121.05123
            [signal_level] => -75
            [snr_level] => -5
            [key] => 0
            [color] => #000000
        )

    [1] => Array
        (
            [latitude] => 14.6216233333333
            [longitude] => 121.051183333333
            [signal_level] => -73
            [snr_level] => -5
            [key] => 1
            [color] => #000000
        )

    [2] => Array
        (
            [latitude] => 14.6216266666667
            [longitude] => 121.051146666667
            [signal_level] => -73
            [snr_level] => -5
            [key] => 2
            [color] => #000000
        )

    [3] => Array
        (
            [latitude] => 14.62162
            [longitude] => 121.051088333333
            [signal_level] => -75
            [snr_level] => -5
            [key] => 3
            [color] => #000000
        )

    [4] => Array
        (
            [latitude] => 14.6216383333333
            [longitude] => 121.051103333333
            [signal_level] => -75
            [snr_level] => -5
            [key] => 4
            [color] => #000000
        )

.......... 
```

等等..我上面的代码是通过我的内部数组中的每个键进行迭代，从而根据每个循环获取多少元素来复制我在我的javascript数组中推送的值。我希望我在那里表达清楚:) ...无论如何，这就是我现在得到的......

```
for (var key in test) {
   var obj = test[key];
// alert(test[key]['latitude']);
   latitude.push(test[key]['latitude']);
   longitude.push(test[key]['longitude']);
   color.push(test[key]['color']);
} 
```

# iphone - iPhone 的默认设置 - 如何找到？

> ID：11338861
> 
> 赞同：0
> 
> 时间：2012-07-05T06:30:00.157
> 
> 标签：iphone, sorting, settings, contacts, default

我想知道 iPhone 联系人应用程序的默认设置。

*   排序顺序
*   显示顺序

我有一部 iPhone，但我不确定它的当前设置状态。我可能/可能不会更改过去的默认设置。

是否有任何官方 Apple 网站提供 iPhone/iPad/iPod 的所有默认设置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T07:08:21.213

我 99% 确定我从来没有在我的 iPhone 上更改过这个设置，所以这里是我当前的设置，也应该是默认设置：

排序顺序：最后，第一个显示顺序：第一个，最后一个

# javascript - 如何在javascript中为现在日期添加天数？

> ID：11338862
> 
> 赞同：13
> 
> 时间：2012-07-05T06:30:05.013
> 
> 标签：javascript, datetime

```
var myDate = new Date();
var endtime= new Date(myDate.getDate()+1,23:59:59);
alert(endtime); 
```

为什么没有结束时间的价值？如果我想将 1 天 10 小时 50 分 30 秒添加到现在时间，如何编写结束时间代码？谢谢你

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-05T06:33:20.660

尝试两种方法中的一种对您有用...

```
function addDays(myDate,days) {
return new Date(myDate.getTime() + days*24*60*60*1000);
} 
```

# [演示1](http://jsfiddle.net/Q7y7d/)

或者

```
var today = new Date();
var tomorrow = new Date();
tomorrow.setDate(today.getDate()+1); 
```

# [演示2](http://jsfiddle.net/3Wmmu/)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-05T06:34:43.260

尝试这个

```
var date = new Date();
var numberToAdd = 1;
date.setDate(date.getDate() + numberToAdd); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-07-05T18:44:47.503

您需要以毫秒为单位添加天数：

```
var tomorrow = new Date(Date.now() + 1 * 24*3600*1000); 
```

当然你可以添加不同数量的时间，你只需要在使用 Date 构造函数或 set/getTime() 时以毫秒为单位进行计算。

[`Date`您还可以使用各自的方法](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date/)一一设置不同的单位：

```
var sometime = new Date; // now
sometime.setDate(sometime.getDate() + numberOfDays); 
sometime.setHours(sometime.getHours() + numberOfHours); 
sometime.setMinutes(sometime.getMinutes() + numberOfMinutes);
... 
```

您不能使用浮点值设置日期，当beeing 转换为整数时它将被截断。

但是高于毫秒和高于日期的setter方法有可选属性，这样可以组合设置：

```
var sometime = new Date; // now
sometime.setFullYear(
  sometime.getFullYear() + numberOfYears,
  sometime.getMonth() + numberOfMonths,
  sometime.getDate() + numberOfDays
); 
sometime.setHours(
  sometime.getHours() + numberOfHours,
  sometime.getMinutes() + numberOfMinutes,
  ...
); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-11-07T19:22:42.313

我总是创建 7 个函数来处理 JS 中的日期：addSeconds、addMinutes、addHours、addDays、addWeeks、addMonths、addYears。

你可以在这里看到一个例子：http: [//jsfiddle.net/tiagoajacobi/YHA8x/](http://jsfiddle.net/tiagoajacobi/YHA8x/)

如何使用：

```
var now = new Date();
console.log(now.addWeeks(3)); 
```

这是功能：

```
 Date.prototype.addSeconds = function(seconds) {
            this.setSeconds(this.getSeconds() + seconds);
            return this;
        };

        Date.prototype.addMinutes = function(minutes) {
            this.setMinutes(this.getMinutes() + minutes);
            return this;
        };

        Date.prototype.addHours = function(hours) {
            this.setHours(this.getHours() + hours);
            return this;
        };

        Date.prototype.addDays = function(days) {
            this.setDate(this.getDate() + days);
            return this;
        };

        Date.prototype.addWeeks = function(weeks) {
            this.addDays(weeks*7);
            return this;
        };

        Date.prototype.addMonths = function (months) {
            var dt = this.getDate();

            this.setMonth(this.getMonth() + months);
            var currDt = this.getDate();

            if (dt !== currDt) {  
                this.addDays(-currDt);
            }

            return this;
        };

        Date.prototype.addYears = function(years) {
            var dt = this.getDate();

            this.setFullYear(this.getFullYear() + years);

            var currDt = this.getDate();

            if (dt !== currDt) {  
                this.addDays(-currDt);
            }

            return this;
        }; 
```

# javascript - div 标签和对齐方式中的 Accodion 菜单

> ID：11338864
> 
> 赞同：0
> 
> 时间：2012-07-05T06:30:10.427
> 
> 标签：javascript, html, stylesheet

我正在为我的标题使用手风琴菜单。我一直在尝试使菜单中的对齐正确。但它没有发生。`<div>`这是我的菜单和其他标签的样式表代码

```
html {
    margin: 0;
    padding: 0;
    height: 100%;
}
body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: #FFFFFF;
}
body, td, th, input, select, textarea, option, optgroup {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 12px;
    color: #000000;
}
input[type='text'], input[type='password'] {
    padding: 2px;
}
select {
    padding: 1px;
}
textarea {
    padding: 2px;
}
a, a:visited {
    color: #003366;
    text-decoration: underline;
    cursor: pointer;
}
a img {
    border: 0;
}
form {
    margin: 0;
    padding: 0;
}
label {
    cursor: pointer;
}
#header .div1 {
    height: 56px;
    padding: 0px 30px;
    background: url('../image/header.png') repeat-x;
    min-width: 900px;
}
#header .div2 {
    color: #FFFFFF;
    padding: 18px 0px 0px 0px;
    float: left;
}
#header .div3 {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 12px;
    color: #FFF;
    text-align: right;
    padding: 15px 0px 0px 0px;
    float: right;
}
#header .div2 span {
    font-weight: bold;
}

#container {
    height: 100%;
}
body > #container {
    height: auto;
    min-height: 100%;
}
#content {
    background: #FFFFFF url('../image/background.png') 0px 1px repeat-x;
    padding: 10px 30px 0px 30px;
    min-width: 1200px;
    padding-bottom: 128px;
}
#footer {
    background: #FFFFFF url('../image/footer.png') repeat-x;
    height: 90px;
    padding-top: 38px;
    text-align: center;
    font-size: 12px;
    color: #333;
    position: relative;
    margin-top: -128px;
    clear: both;
}
#footer a {
    color: #333;
    text-decoration: underline;
}
.breadcrumb, .breadcrumb a {
    font-size: 12px;
    color: #666;
    margin-bottom: 15px;
}
#menu{font-family: Helvetica, Arial, sans-serif;  font-size: 0.9em;}
ul#menu, ul#menu ul {

  list-style-type:none;
  margin: 0;
  padding: 0;
  width: 15em;
}

ul#menu a {
  display: block;
  text-decoration: none;    
}

ul#menu li {
  margin-top: 1px;
}

ul#menu li a {
  background: #006600;
  color: #fff;  
  padding: 0.5em;
}

ul#menu li a:hover {
  background: #006600;
}

ul#menu li ul li a {
  background:#F7F7F7;
  color: #000;
  padding-top: 3px;
  padding-bottom: 3px;
  line-height: 14px;
  background-image: url(arrow.gif);
  background-repeat: no-repeat;
  padding-left: 15px;
   border-bottom:0px;
}

ul#menu li ul li a:hover {
  background: #BFBFBF;
  border-left: 5px #006600 solid;
  padding-left: 10px;
} 
```

和我的 tpl 页面代码

```
<body>
<div id="container">
<div id="header">
  <div class="div1">
    <div class="div2"><img src="view/image/logo1.png" title="<?php echo $heading_title; ?>" onclick="location = '<?php echo $home; ?>'" /></div>
    <?php if ($logged) { ?>

    <div class="div3"><img src="view/image/lock.png" alt="" style="position: relative; top: 3px;" />&nbsp;<?php echo $logged; ?></div>
    <?php } ?>
  </div>
  <?php if ($logged) { ?>

  <ul id="menu">
      <li id="dashboard"><a href="<?php echo $home; ?>" class="top"><?php echo $text_dashboard; ?></a></li>
      <li><a href="<?php echo $product; ?>" class="top"><?php echo $text_product; ?></a>
      <ul> <li><a href="<?php echo $product; ?>"><?php echo $text_product1; ?></a></li>
      <li><a href="<?php echo $manufacturer; ?>"><?php echo $text_manufacturer; ?></a></li>
      <li><a href="<?php echo $category; ?>"><?php echo $text_category; ?></a></li>
      <li><a href="<?php echo $option; ?>"><?php echo $text_option; ?></a></li>
      </ul></li>

      <li><a href="<?php echo $design; ?>" class="top"><?php echo $text_design; ?></a>
      <ul>

      <li><a href="<?php echo $banner; ?>"><?php echo $text_banner; ?></a></li>
      <li><a href="<?php echo $setting; ?>"><?php echo $text_setting; ?></a></li>
      </ul>
      </li>
</ul>

</div>
  <?php } ?>
</div> 
```

附加的屏幕截图是我的页面现在的样子![在此处输入图像描述](../Images/558002611e93967f196bb6f63b0d3099.png) 请建议我如何做进一步。

# c# - 桌面应用程序中静态类中的 DataContext

> ID：11338866
> 
> 赞同：0
> 
> 时间：2012-07-05T06:30:23.127
> 
> 标签：c#, sql, winforms, linq, linq-to-sql

我在我的 winform 应用程序中使用 3 层架构，所以我有处理设备操作的静态类

```
 public static class Equipments 
{

    public static void AddEquipment(string name, decimal dimLength)
    {

            DBClassesDataContext db = new DBClassesDataContext();

            Equipment equipment = new Equipment();
            equipment.Name = name;
            equipment.DimLength = dimLength;

            db.Equipments.InsertOnSubmit(equipment);
            db.SubmitChanges();

    }

  public static void UpdateEquipment(int equipmentID, string name, decimal dimLength)
        {
                         DBClassesDataContext db = new DBClassesDataContext();

                Equipment oldEquipment;
                oldEquipment = db.Equipments.Where("EquipmentID = @0",equipmentID).SingleOrDefault();
                oldEquipment.Name = name;
                oldEquipment.DimLength = dimLength;

                db.SubmitChanges();} 
```

所以我的问题是：

1.  我需要在每个方法中创建 DBClassesDataContext 的实例吗？
    因为当我完成全局静态 DBClassesDataContext 时它不能正常工作。
2.  有没有更好的方法来处理 DBClassesDataContext 而不是每次在方法内创建它（比如每次我从这个类运行一个方法时创建新的 DBClassesDataContext ）

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T06:33:55.153

> 我需要在每个方法中创建 DBClassesDataContext 的实例吗？

你应该这样做，绝对 - 就像你通常应该在`SqlConnection`每次想要以非 LINQ 代码访问数据库时创建一个新的一样。一般来说，避免全局状态——这几乎总是一个坏主意。

> 有更好的方法来处理 DBClassesDataContext 而不是每次在方法内创建它

不——这正是正确的方法。为什么你会*尽量*避免每次都创建它？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T08:44:10.523

尽管我可能会因为不同意 Jon Skeet 而被石头砸死，但我还是会发布这个。

您绝对不需要在每个方法中都创建实例，或者至少不需要这样。我喜欢遵循一个叫做 DRY 的原则——不要重复自己，一遍又一遍地重复同一行，这是可以避免的，显然违反了这个原则。

您在这里有多种选择：

1.) 将方法定义为实例方法，可能是这样的：

```
internal class MyDbActions
{
    private MyDbContext _myDbContext;
    private MyDbContext Db
    {
        get
        {
            if (_myDbContext == null) _myDbContext = new MyDbContext();
            return _myDbContext;
        }
    }

    internal void Add(SomeClass c)
    {
        Db.Table.AddObject(c);
        Db.SubmitChanges();
        Db.Dispose();
    }
} 
```

或者类似的东西，你明白了。这可以修改为您需要的任何内容。

2.) use 可以为你的方法使用依赖注入，所以考虑这样的事情：

```
public static class Equipments 
{
    public static void AddEquipment(DBClassesDataContext db, string name, decimal dimLength)
    {
            Equipment equipment = new Equipment();
            equipment.Name = name;
            equipment.DimLength = dimLength;

            db.Equipments.InsertOnSubmit(equipment);
            db.SubmitChanges();

    }
} 
```

您将在此类之外管理您的数据上下文。

3.) 您可以利用存储库模式、工作单元模式和 IoC。我不会在这里发布示例代码，因为它很长，但这里有一个链接可以给你一个想法：

[使用 IoC、依赖注入、工作单元的 Linq to SQL 的存储库模式](https://stackoverflow.com/questions/1624229/repository-pattern-with-linq-to-sql-using-ioc-dependency-injection-unit-of-wor)

# android - 操作栏菜单项分隔符

> ID：11338867
> 
> 赞同：14
> 
> 时间：2012-07-05T06:30:23.343
> 
> 标签：android, android-actionbar

有没有办法在 HoneyComb+ 的 ActionBar 中的菜单项之间显示分隔符。

一些帖子说只有当菜单项具有 android:showAsAction="withText" 时才会显示分隔符。

我只想显示图标而不是文本。

我通过实现 Action Bar Compatibility 成功展示了 Pre-HoneyComb 的 Divider。

我不想使用这篇文章中给出的 ActionBarSherlock [Android actionbar sherlok 不显示分隔符](https://stackoverflow.com/questions/9274259/android-actionbar-sherlok-doesnt-show-divider)，因为是时候在我的所有项目中从 Action Bar Compatibility 更改为 ActionBarSherlock 了。

当我看到 Android Source 时，我发现 Divider 只有在它有如下所示的文本时才会显示（来自 ActionMenuItemView）

```
public boolean needsDividerBefore() {
    return hasText() && mItemData.getIcon() == null;
}

public boolean needsDividerAfter() {
    return hasText();
} 
```

有没有一种方法可以为 ActionBar 提供 ActionMenuItemView 的实现，其中 needsDividerBefore() 将始终为真

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-12T05:29:38.453

[我在http://android-developers.blogspot.in/2011/04/customizing-action-bar.html](http://android-developers.blogspot.in/2011/04/customizing-action-bar.html)的帮助下自己找到了答案但是，这并不能完全解决我的问题。它为标题添加了一个分隔符，也为主页图标添加了一个分隔符。还有左右分隔符。这也是可调的。

我将 android:selectableItemBackground 添​​加到我的主题中。

```
<item name="android:selectableItemBackground">@drawable/action_bar_item_selector</item> 
```

action_bar_item_selector.xml

```
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android" >

    <item android:drawable="@drawable/actionbar_compat_separator"></item>

    <item android:left="1dp" android:drawable="@drawable/actionbar_compat_item"></item>

</layer-list> 
```

actionbar_compat_separator - 我的分隔符是否可绘制

actionbar_compat_item 是我的操作栏项目选择器。

**已编辑**

我找到了一个更好的解决我的问题的方法。它运作良好。

```
<item name="android:actionButtonStyle">@style/ActionButton</item> to my Theme

<style name="ActionButton" parent="android:style/Widget.Holo.Light.ActionButton">
        <item name="android:background">@drawable/action_bar_item_selector</item>
    </style> 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-03T11:44:41.723

您可以使用自定义样式覆盖现有主题，例如

```
<style name="CustomTheme" parent="android:Theme.Holo.Light">
    <item name="android:actionBarStyle">@style/ActionBar</item>
</style>

<style name="ActionBar" parent="android:style/Widget.Holo.Light.ActionBar">
    <item name="android:background">@color/action_bar_background</item>
    <item name="android:showDividers">beginning</item>
    <item name="android:divider">@color/action_bar_divider</item>
</style> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-30T03:54:30.667

## 更新：这似乎不适用于 Android 5 Lollipop 及更高版本：

* * *

这是我找到的最好的方法。只需在菜单中添加一个包含虚拟项目的组：

**菜单.xml**

```
<group>
    <!--dummy item to get a nice separator-->
    <item
        android:title=""
        android:showAsAction="always"
        android:enabled="false" />
</group>

<item android:id="@+id/action_example"
    ... 
```

虚拟项目的标题为空，因此它看起来不可见，并且它已禁用，因此无法单击。

# sql-server - 如何对 T-SQL 声明的表变量的两列进行设置和索引？

> ID：11338870
> 
> 赞同：5
> 
> 时间：2012-07-05T06:30:40.273
> 
> 标签：sql-server, sql-server-2008, tsql

使用 SQL Server 2008 R2

考虑一个**声明**的表*变量*，如：

```
DECLARE @t TABLE (PK int IDENTITY(1,1) PRIMARY KEY CLUSTERED, Col1 int, Col2 int) 
```

我如何`CREATE NONCLUSTERED INDEX`使用任何名称，`ON @t`包括`(Con1 ASC, Col2 ASC)`

索引不应仅限于唯一值。

由于某种原因，我无法弄清楚这一点......

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-05T06:44:54.840

您**可以**按如下方式创建非聚集索引。

```
DECLARE @t TABLE (
  PK   INT IDENTITY(1, 1) PRIMARY KEY CLUSTERED,
  Col1 INT,
  Col2 INT,
  UNIQUE (Col1, Col2, PK)) 
```

如果意图是它们本身是唯一的，则从列列表中`Col1, Col2`删除。`PK`

Though it appears at face value as though this has added an additional column in (`PK`) the index structure will be the same as creating a non unique index on just `Col1, Col2` on a `#temp` table.

```
CREATE TABLE #T  (
  PK   INT IDENTITY(1, 1) PRIMARY KEY CLUSTERED,
  Col1 INT,
  Col2 INT) 

/*PK added in to end of key anyway*/  
CREATE NONCLUSTERED INDEX ix ON #T(Col1, Col2) 
```

for a non unique non clustered index SQL Server always adds the CI key to the NCI key implicitly anyway. This just shows it explicitly.

See Kalen Delaney [More About Nonclustered Index Keys](http://sqlblog.com/blogs/kalen_delaney/archive/2010/03/07/more-about-nonclustered-index-keys.aspx)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-05T06:45:14.933

You cannot. [`declare`](http://msdn.microsoft.com/en-us/library/ms188927.aspx) (`<table_type_definition>`):

> Defines the table data type. The table declaration includes column definitions, names, data types, and constraints. The only constraint types allowed are PRIMARY KEY, UNIQUE, NULL, and CHECK.

Note, no mention of indexes.

If you want indexes, create a temporary table (`CREATE TABLE #t (...`).

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-05T06:44:39.260

您**不能**索引表变量。

如果您需要索引 - 使用临时表（`CREATE TABLE #T`或`CREATE TABLE ##T`）

这是表变量的主要缺点之一——另外两个是：

*   表变量不参与事务，根据您的情况，这可能是好事也可能是坏事

*   查询优化器始终认为表变量中只有一行，只要您有少量行就可以了 - 但如果您有那么多行，您觉得需要索引 - 那么可能这一点也将是查询优化的一个问题

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-05T06:43:18.923

您不能在表变量上创建非聚集、非唯一索引。它仅支持唯一索引。见[这里](http://sqlserverplanet.com/sql/create-index-on-table-variable)。

您应该改为查看本地临时表。无论如何，对于大型数据集表现更好。

# iphone - 如何从 NSDictionary 获取数据到 NSArray

> ID：11338876
> 
> 赞同：0
> 
> 时间：2012-07-05T06:31:13.430
> 
> 标签：iphone, objective-c, ios, ipad, nsdictionary

从字典中获取数据时出现以下错误

“ **-[__NSCFString objectForKey:]: 无法识别的选择器发送到实例 0x4fbb80** ”

**这是我的代码**

```
 NSDictionary *dic = [XMLReader dictionaryForXMLString:class.returnData error:nil];

  MyGiftsarray = [[dic objectForKey:@"response"] objectForKey:@"gifts"];

  for (NSDictionary *element in MyGiftsarray) {

  [MyGiftsnamearray addObject:[element objectForKey:@"name"]];

  [MyGiftsChkarray addObject:[element objectForKey:@"chk"]];

   [MyGiftsIdarray addObject:[element objectForKey:@"id"]];

   [MyGiftsApprovedarray addObject:[element objectForKey:@"approved"]];

   [MyGiftsisCompletedarray addObject:[element objectForKey:@"completed"]];

 } 
```

**这是我尝试从中获取数据的 NSDictionary。** MyGiftsDict->(

```
 {
    Appliedpoint = 500;
    Requiredpoint = 5000;
    approved = N;
    chk = 50;
    completed = 0;
    id = 66;
    name = "1-800Flowers.com";
},
    {
    Appliedpoint = 85;
    Requiredpoint = 2500;
    approved = N;
    chk = 25;
    completed = 0;
    id = 71;
    name = "Bath Body Works";
},
    {
    Appliedpoint = 5;
    Requiredpoint = 2500;
    approved = N;
    chk = 25;
    completed = 0;
    id = 75;
    name = "Buca di Beppo";
},
    {
    Appliedpoint = 36;
    Requiredpoint = 2500;
    approved = N;
    chk = 25;
    completed = 0;
    id = 66;
    name = "1-800Flowers.com";
},
    {
    Appliedpoint = 25;
    Requiredpoint = 5000;
    approved = N;
    chk = 50;
    completed = 0;
    id = 90;
    name = "Jelly Belly";
},
    {
    Appliedpoint = 120;
    Requiredpoint = 500;
    approved = N;
    chk = 5;
    completed = 0;
    id = 129;
    name = "Amazon.com";
} 
```

)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T06:34:29.440

您以错误的方式迭代-使用-

```
MyGiftsDict = [[dic objectForKey:@"response"] objectForKey:@"gifts"]; 
```

然后逐步迭代字典。你需要使用类似的东西 -

```
for(NSString *key in [MyGiftsDict allKeys])
{
    [MyGiftsnamearray addObject:[MyGiftsDict objectForKey:key]];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:34:56.167

Gifts 本身就是一个 NSDictionary。**它不是一个 NSArray！**你不需要那个 for 循环。简单使用

```
[MyGiftsNameArray addObject:[MyGiftsArray objectForKey:@"name"]; 
```

等等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T06:35:57.937

我认为您不需要`for`循环。

# javascript - 将代码片段插入 div

> ID：11338877
> 
> 赞同：3
> 
> 时间：2012-07-05T06:31:16.713
> 
> 标签：javascript, jquery, html

我使用 Jquery 将变量插入到 div 中。请检查我的代码。

```
var msg = '<script src="https://gist.github.com/3010234.js?file=new.html.erb"></script>'
$('.result').html(msg); 
```

msg 变量包含呈现代码片段的脚本。msg 是动态变量。

上面的代码无法将代码片段插入 div。

任何想法？

这个脚本生成这样的代码片段。

![在此处输入图像描述](../Images/158a4ba36982103901c7cc8378f1f490.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T06:36:36.060

要添加`script`，我会`head`像这样添加它；

```
var s = document.createElement('script');
s.src = 'https://gist.github.com/3010234.js?file=new.html.erb';
s.type = 'text/javascript';
document.getElementsByTagName('head')[0].appendChild(s); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:37:17.680

```
function loadScript() {
    var script = document.createElement("script");
    script.src = "https://gist.github.com/3010234.js?file=new.html.erb";
    script.type = "text/javascript";
    document.getElementById("result").appendChild(script);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T06:39:12.090

您不能使用该嵌入代码将 github gist 动态加载到页面中。如果您可以将脚本标记添加到 HTML，则嵌入代码很好，但是要通过 JavaScript 动态执行此操作，因为它依赖于`document.write()`.

相反，请使用[github gists api](http://developer.github.com/v3/gists/)：

```
$.get("https://api.github.com/gists/3010234", function(response) {
    $(".result").text(response.data.files["new.html.erb"].content);
}, "jsonp"); 
```

**工作演示：http:** [//jsfiddle.net/naTqe/](http://jsfiddle.net/naTqe/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-05T07:09:11.877

看起来你的远程 JS 有问题。我通过[JS Lint](http://jslint.com/)运行它并提出了几个错误。

无论如何，这是我的工作示例。保持 javascript 控制台打开，当它尝试解析远程 JS 时，您会看到错误。

```
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <script type="text/javascript" src=
  "https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <title>Jquery test</title>
</head>

<body>
  <h1>jQuery</h1>

  <p class="result">Some result</p>
  <script>
  /*<![CDATA[*/
  $(document).ready(function(){
  var msg = '<script type="text/javascript" src="http://gist.github.com/3010234.js?file=new.html.erb"><\/script>";
  $('.result').html(msg);
  });
  /*]]>*/
  </script>
</body>
</html> 
```

# regex - \begin{?} 和 \end{?} 的正则表达式

> ID：11338881
> 
> 赞同：0
> 
> 时间：2012-07-05T06:31:38.383
> 
> 标签：regex, mathjax

我需要从 aa 字符串中匹配`\begin{?}`，`\end{?}`其中`?`任何数量的字母数字或`*`字符都必须匹配，例如`\begin{align}`and `\end{align*}`。

我试图这样做，但我不确定出了什么问题

```
^\\begin{[^}]*}$ 
```

以 开始，多次`\begin{`跟随并以 结束。`anything that's not }``}`

同样的事情是，`\end{?}`但如果可能的话，我希望它在单个正则表达式中执行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T06:39:01.447

我认为下面的正则表达式是你需要的。

`\\(begin|end){[a-zA-Z0-9*]+}`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-05T06:42:31.800

**你的正则表达式：**

`\\(begin|end){.*?}`

the`.*`会抓住 之间的任何东西，当第一个出现时，手段将`{ }`停止。`?``}`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T06:36:38.713

{} 是用于表示重复的特殊字符，因此您也需要对它们进行转义。

```
^\\begin\{[^}]*\}$ 
```

# android - HTC 感觉设备中 Phonegap 应用程序的文本框自动滚动

> ID：11338882
> 
> 赞同：1
> 
> 时间：2012-07-05T06:31:40.227
> 
> 标签：android, cordova

我们正在为 Android 设备实施 Phonegap 应用程序。在我们的一个屏幕中，我们有文本框，在设备横向模式下文本框的焦点上，屏幕会自动上下滚动，这个问题我们只在 HTC 感觉设备中得到。

在设备的 portarit 模式下未出现问题。

请协助我解决问题。

# iphone - 在 iPad 上收到内存警告

> ID：11338885
> 
> 赞同：1
> 
> 时间：2012-07-05T06:31:51.797
> 
> 标签：iphone, ios, memory, warnings

我正在 iPad 上开发一个只有动画的应用程序。我正在使用大约 400 张 JPEG 图像来制作动画。大小对应于 7MB。但是动画在 50 幅图像后停止并且应用程序崩溃。我在 NIB 中使用 UIImageView 作为 IBOutlet 并使用 NSTimer 更改代码中的图像。应用程序崩溃并显示消息已收到内存警告。我使用 Instruments 工具检查过，没有发现任何泄漏。

任何建议表示赞赏。

**代码**

```
- (void)viewDidLoad
{
[super viewDidLoad];
// Do any additional setup after loading the view, typically from a nib.
[self callTimer];
}

-(void) callTimer
{
tempView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 768, 1024)];
[self.view addSubview:tempView];
animationTimer = [NSTimer scheduledTimerWithTimeInterval:0.1 target:self     selector:@selector(animateCharacter) userInfo:nil repeats:YES];
}

-(void) animateCharacter
{
imageNumber++;
if(imageNumber <= 400)
{
    tempView.image = [UIImage imageNamed:[NSString stringWithFormat:@"body%d.jpg",imageNumber]];

}
else
{
    //tempView.image = [UIImage imageNamed:[NSString stringWithFormat:@"pose.png",imageNumber]];
    imageNumber = 0;
    tempImageNumber = 0;
    [tempView removeFromSuperview];
    [tempView release];
    tempView = nil;
    [animationTimer invalidate];
    animationTimer = nil;
}

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:38:24.660

您是否使用多个计时器来更改特定持续时间的图像？

根据我的经验，您需要实时使计时器无效并且时间值为零，这样它才能解决您的问题。

您还可以在此处输入更多信息，以便我们更多地识别您的问题。

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T11:37:15.200

如果您无效或为零，则您的计时器不会无效或为零，那么您不会收到内存警告。

动画定时器=无；[动画计时器无效]；

# r - R 代码 - 添加行的巧妙循环

> ID：11338886
> 
> 赞同：0
> 
> 时间：2012-07-05T06:32:03.860
> 
> 标签：r, loops

假设我有一个数据集，随着时间的推移，行不断脱落，我想再次添加这些行。

缺少行的示例：

```
Fruits <- c(rep(c("apples","oranges","pears","kiwis"),3),
    "bananas","oranges","pears","kiwis","bananas","pears","kiwis","bananas")
Days <- c(rep("Monday",4),rep("Tuesday",4),rep("Wednesday",5),
    rep("Thursday",4),rep("Friday",3))
Amounts <- c(10,15,20,20,10,15,20,20,10,15,20,20,25,15,20,20,25,20,20,25)
dfmissing <- data.frame(Fruits,Days,Amounts) 
```

我希望它在周四和周五“苹果”和“橙子”这样退出时填补新的行。

请注意，“香蕉”在星期三首次出现，这使事情变得有些复杂。

完成的表格应如下所示

```
Fruits <- c(rep(c("apples","oranges","pears","kiwis"),2), 
    rep(c("apples","oranges","pears","kiwis","bananas"),3))
Days <- c(rep("Monday",4),rep("Tuesday",4),
    rep("Wednesday",5),rep("Thursday",5),rep("Friday",5))
Amounts <- c(rep(c("10","15","20","20"),2),rep(c("10","15","20","20","25"),3))
dfcomplete <- data.frame(Fruits,Days,Amounts) 
```

比较两张表

```
dfmissing
dfcomplete 
```

假设只有一周的数据，因此“星期一”永远不会重复等 - “天”列是独特因素的列表。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T07:12:16.087

这是我的快速慢速循环尝试。根据您的描述，我使用了两个 if 语句，一个检查是否有新的水果要添加，一个检查是否有任何缺少的水果。它不是很有效，但它会完成工作。我会让你整理一下data.frame。

```
# Get what days are in the data frame
days <- unique(dfmissing$Days)
# Start with the first day to get the fruits.
fruit <- dfmissing[dfmissing$Days==days[1],"Fruits"]
# Create a loop to loop over the actual days
for(i in 2:length(days)){
    # Determine which fruits are present on this day.
    newdayfruit <- dfmissing[dfmissing$Days==days[i],"Fruits"]

    newFruitToAdd <- newdayfruit[is.na(match(newdayfruit,fruit))]
    # Check if there are any new fruits to add. 
    if(length(newFruitToAdd)>0){
        # Add the new fruit to the fruits.
        fruit <- c(as.character(fruit), as.character(newFruitToAdd))
    }
    # Check if there are any missing fruits.
    missingFruit <- fruit[is.na(match(fruit, dfmissing[dfmissing$Days==days[i],"Fruits"]))]
    # If there are missing fruits then the should be added to the dataframe
    if(length(missingFruit)>0){
        # Loop over each missing fruit.
        for(j in 1:length(missingFruit)){
            # Get the value of the missing fruit from the previous day
            updateWith <- dfmissing[dfmissing$Days==days[i-1]&dfmissing$Fruits==missingFruit[j],]
            # Change the day to the current day
            updateWith$Days <- days[i]
            # Add a row to the data frame with the updated value.
            dfmissing <- rbind(dfmissing, updateWith)
        }
    }
} 
```

# drop-down-menu - 国家、城市、州和邮政编码的下拉列表

> ID：11338895
> 
> 赞同：0
> 
> 时间：2012-07-05T06:33:04.350
> 
> 标签：drop-down-menu

我想包括一些电子商务网站的国家、城市、州和邮政编码，我希望它为：如果我选择该特定国家的特定国家城市，则仅列出。一旦城市被选中，该城市的州就会出现在下拉列表中，一旦城市被选中，该城市的邮政编码就会出现在下拉列表中。我在谷歌搜索，但找不到任何可靠的链接。任何人都可以通过链接或建议帮助我。欢迎任何帮助。谢谢我当前的代码：

```
<form class="clearboth" name="form" action="" method="post" onSubmit="return sign_up(this);">
    <input type="hidden" name="action" value="<?php echo $_GET['action']?>" />
     <h1>New User: Sign Up</h1>
               <ul class="input_field">
               <li><label>Username <span>*</span></label>
                <input name="username" class="input_textarea" id="username" size="25" req="1" valimessage="Username cannot be blank" 
                      valiclass="required" />
                        </li>   
               <li><label>First Name <span>*</span></label>
                   <input name="first_name" class="input_textarea" id="first_name" size="25" req="1" 
                      valimessage="First name cannot be blank" 
                      valiclass="required" />
                 </li>
               <li><label>Last Name <span>*</span></label>
                 <input name="last_name" class="input_textarea" id="last_name" size="25" req="1" valimessage="Last name cannot be blank" 
                      valiclass="required" />
                </li>
                   <li><label>Street address <span>*</span></label>
                    <input name="address1" class="input_textarea" id="address1" size="25" req="1" valimessage="Street Address cannot be blank" 
                      valiclass="required" />
                      </li>
                 <li><label>Street address 2</label>
                 <input name="address2" class="input_textarea" id="address2" size="25" />
                  </li>
                   <li><label>City <span>*</span></label>
                           <input name="city" class="input_textarea" id="city" size="25" req="1" valimessage="City cannot be blank" 
                      valiclass="required" />
                   </li>
                    <li><label>Country <span>*</span></label>
                          <select name="country" class="input_textarea">
                                <option 
                        value="NA">Please Select</option>
                                <option>Afghanistan</option>
                                <option>Albania</option>
                                <option>Algeria</option>
                                <option>American Samoa</option>
                                <option>Andorra</option>
                                <option>Angola</option>
                                <option>Anguilla</option>
                                <option>Antarctica</option>
                                <option>Antigua and Barbuda</option>
                                <option>Argentina</option>
                                <option>Armenia</option>
                                <option>Aruba</option>
                                <option>Australia</option>
                                <option>Austria</option>
                                <option>Azerbaijan</option>
                                <option>Bahamas</option>
                                <option>Bahrain</option>
                                <option>Bangladesh</option>
                                <option>Barbados</option>
                                <option>Belarus</option>
                                <option>Belgium</option>
                                <option>Belize</option>
                                <option>Benin</option>
                                <option>Bermuda</option>
                                <option>Bhutan</option>
                                <option>Bolivia</option>
                                <option>Bosnia and Herzegowina</option>
                                <option>Botswana</option>
                                <option>Bouvet Island</option>
                                <option>Brazil</option>
                                <option>British Indian Ocean Territory</option>
                                <option>Brunei Darussalam</option>
                                <option>Bulgaria</option>
                                <option>Burkina Faso</option>
                                <option>Burundi</option>
                                <option>Cambodia</option>
                                <option>Cameroon</option>
                                <option>Canada</option>
                                <option>Cape Verde</option>
                                <option>Cayman Islands</option>
                                <option>Central African Republic</option>
                                <option>Chad</option>
                                <option>Chile</option>
                                <option>China</option>
                                <option>Christmas Island</option>
                                <option>Cocos (Keeling)Islands</option>
                                <option>Colombia</option>
                                <option>Comoros</option>
                                <option>Congo</option>
                                <option>Cook Islands</option>
                                <option>Costa Rica</option>
                                <option>Cote D'Ivoire</option>
                                <option>Croatia</option>
                                <option>Cuba</option>
                                <option>Cyprus</option>
                                <option>Czech 
                                  Republic</option>
                                <option>Denmark</option>
                                <option>Djibouti</option>
                                <option>Dominica</option>
                                <option>Dominican 
                                  Republic</option>
                                <option>East Timor</option>
                                <option>Ecuador</option>
                                <option>Egypt</option>
                                <option>El Salvador</option>
                                <option>Equatorial 
                                  Guinea</option>
                                <option>Eritrea</option>
                                <option>Estonia</option>
                                <option>Ethiopia</option>
                                <option>Falkland 
                                  Islands (Malvinas)</option>
                                <option>Faroe 
                                  Islands</option>
                                <option>Fiji</option>
                                <option>Finland</option>
                                <option>France</option>
                                <option>France, Metropolitan</option>
                                <option>French Guiana</option>
                                <option>French 
                                  Polynesia</option>
                                <option>French Southern 
                                  Territories</option>
                                <option>Gabon</option>
                                <option>Gambia</option>
                                <option>Georgia</option>
                                <option>Germany</option>
                                <option>Ghana</option>
                                <option>Gibraltar</option>
                                <option>Greece</option>
                                <option>Greenland</option>
                                <option>Grenada</option>
                                <option>Guadeloupe</option>
                                <option>Guam</option>
                                <option>Guatemala</option>
                                <option>Guinea</option>
                                <option>Guinea-bissau</option>
                                <option>Guyana</option>
                                <option>Haiti</option>
                                <option>Heard and Mc Donald Islands</option>
                                <option>Honduras</option>
                                <option>Hong 
                                  Kong</option>
                                <option>Hungary</option>
                                <option>Iceland</option>
                                <option>India</option>
                                <option>Indonesia</option>
                                <option>Iran (Islamic 
                                  Republic of)</option>
                                <option>Iraq</option>
                                <option>Ireland</option>
                                <option>Israel</option>
                                <option>Italy</option>
                                <option>Jamaica</option>
                                <option>Japan</option>
                                <option>Jordan</option>
                                <option>Kazakhstan</option>
                                <option>Kenya</option>
                                <option>Kiribati</option>
                                <option>Korea, Democratic People's Republic 
                                  of</option>
                                <option>Korea, Republic of</option>
                                <option>Kuwait</option>
                                <option>Kyrgyzstan</option>
                                <option>Lao People's 
                                  Democratic Republic</option>
                                <option>Latvia</option>
                                <option>Lebanon</option>
                                <option>Lesotho</option>
                                <option>Liberia</option>
                                <option>Libyan Arab 
                                  Jamahiriya</option>
                                <option>Liechtenstein</option>
                                <option>Lithuania</option>
                                <option>Luxembourg</option>
                                <option>Macau</option>
                                <option>Macedonia, The 
                                  Former Yugoslav Republic of</option>
                                <option>Madagascar</option>
                                <option>Malawi</option>
                                <option>Malaysia</option>
                                <option>Maldives</option>
                                <option>Mali</option>
                                <option>Malta</option>
                                <option>Marshall 
                                  Islands</option>
                                <option>Martinique</option>
                                <option>Mauritania</option>
                                <option>Mauritius</option>
                                <option>Mayotte</option>
                                <option>Mexico</option>
                                <option>Micronesia, Federated States of</option>
                                <option>Moldova, Republic of</option>
                                <option>Monaco</option>
                                <option>Mongolia</option>
                                <option>Montserrat</option>
                                <option>Morocco</option>
                                <option>Mozambique</option>
                                <option>Myanmar</option>
                                <option>Namibia</option>
                                <option>Nauru</option>
                                <option>Nepal</option>
                                <option>Netherlands</option>
                                <option>Netherlands 
                                  Antilles</option>
                                <option>New Caledonia</option>
                                <option>New Zealand</option>
                                <option>Nicaragua</option>
                                <option>Niger</option>
                                <option>Nigeria</option>
                                <option>Niue</option>
                                <option>Norfolk 
                                  Island</option>
                                <option>Northern Mariana 
                                  Islands</option>
                                <option>Norway</option>
                                <option>Oman</option>
                                <option>Pakistan</option>
                                <option>Palau</option>
                                <option>Panama</option>
                                <option>Papua New Guinea</option>
                                <option>Paraguay</option>
                                <option>Peru</option>
                                <option>Philippines</option>
                                <option>Pitcairn</option>
                                <option>Poland</option>
                                <option>Portugal</option>
                                <option>Puerto 
                                  Rico</option>
                                <option>Qatar</option>
                                <option>Reunion</option>
                                <option>Romania</option>
                                <option>Russian 
                                  Federation</option>
                                <option>Rwanda</option>
                                <option>Saint Kitts and Nevis</option>
                                <option>Saint Lucia</option>
                                <option>Saint 
                                  Vincent and the Grenadines</option>
                                <option>Samoa</option>
                                <option>San 
                                  Marino</option>
                                <option>Sao Tome and 
                                  Principe</option>
                                <option>Saudi Arabia</option>
                                <option>Senegal</option>
                                <option>Seychelles</option>
                                <option>Sierra 
                                  Leone</option>
                                <option>Singapore</option>
                                <option>Slovakia (Slovak Republic)</option>
                                <option>Slovenia</option>
                                <option>Solomon 
                                  Islands</option>
                                <option>Somalia</option>
                                <option>South Africa</option>
                                <option>South 
                                  Georgia and the South Sandwich Islands</option>
                                <option>Spain</option>
                                <option>Sri 
                                  Lanka</option>
                                <option>St. Helena</option>
                                <option>St. Pierre and Miquelon</option>
                                <option>Sudan</option>
                                <option>Suriname</option>
                                <option>Svalbard and Jan Mayen Islands</option>
                                <option>Swaziland</option>
                                <option>Sweden</option>
                                <option>Switzerland</option>
                                <option>Syrian Arab 
                                  Republic</option>
                                <option>Taiwan, Province of 
                                  China</option>
                                <option>Tajikistan</option>
                                <option>Tanzania, United Republic of</option>
                                <option>Thailand</option>
                                <option>Togo</option>
                                <option>Tokelau</option>
                                <option>Tonga</option>
                                <option>Trinidad and Tobago</option>
                                <option>Tunisia</option>
                                <option>Turkey</option>
                                <option>Turkmenistan</option>
                                <option>Turks and 
                                  Caicos Islands</option>
                                <option>Tuvalu</option>
                                <option>Uganda</option>
                                <option>Ukraine</option>
                                <option>United Arab Emirates</option>
                                <option>United Kingdom</option>
                                <option 
                        selected="selected">United States</option>
                                <option>United 
                                  States Minor Outlying Islands</option>
                                <option>Uruguay</option>
                                <option>Uzbekistan</option>
                                <option>Vanuatu</option>
                                <option>Vatican City 
                                  State (Holy See)</option>
                                <option>Venezuela</option>
                                <option>Viet 
                                  Nam</option>
                                <option>Virgin Islands 
                                  (British)</option>
                                <option>Virgin Islands 
                                  (U.S.)</option>
                                <option>Wallis and Futuna 
                                  Islands</option>
                                <option>Western Sahara</option>
                                <option>Yemen</option>
                                <option>Yugoslavia</option>
                                <option>Zaire</option>
                                <option>Zambia</option>
                                <option>Zimbabwe</option>
                            </select>
                    </li>
                   <li><label>State <span>*</span></label>
                    <select name="us_state" class="input_textarea">
                                <option value="NA" 
                        selected="selected">Please Select</option>
                                <option>Alabama</option>
                                <option>Alaska</option>
                                <option>American Samoa</option>
                                <option>Arizona</option>
                                <option>Arkansas</option>
                                <option>Armed Forces 
                                  Africa</option>
                                <option>Armed Forces 
                                  Americas</option>
                                <option>Armed Forces 
                                  Canada</option>
                                <option>Armed Forces 
                                  Europe</option>
                                <option>Armed Forces Middle 
                                  East</option>
                                <option>Armed Forces 
                                  Pacific</option>
                                <option>California</option>
                                <option>Colorado</option>
                                <option>Connecticut</option>
                                <option>Delaware</option>
                                <option>District of 
                                  Columbia</option>
                                <option>Federated States Of 
                                  Micronesia</option>
                                <option>Florida</option>
                                <option>Georgia</option>
                                <option>Guam</option>
                                <option>Hawaii</option>
                                <option>Idaho</option>
                                <option>Illinois</option>
                                <option>Indiana</option>
                                <option>Iowa</option>
                                <option>Kansas</option>
                                <option>Kentucky</option>
                                <option>Louisiana</option>
                                <option>Maine</option>
                                <option>Marshall 
                                  Islands</option>
                                <option>Maryland</option>
                                <option>Massachusetts</option>
                                <option>Michigan</option>
                                <option>Minnesota</option>
                                <option>Mississippi</option>
                                <option>Missouri</option>
                                <option>Montana</option>
                                <option>Nebraska</option>
                                <option>Nevada</option>
                                <option>New 
                                  Hampshire</option>
                                <option>New Jersey</option>
                                <option>New Mexico</option>
                                <option>New 
                                  York</option>
                                <option>North Carolina</option>
                                <option>North Dakota</option>
                                <option>Northern 
                                  Mariana Islands</option>
                                <option>Ohio</option>
                                <option>Oklahoma</option>
                                <option>Oregon</option>
                                <option>Palau</option>
                                <option>Pennsylvania</option>
                                <option>Puerto 
                                  Rico</option>
                                <option>Rhode Island</option>
                                <option>South Carolina</option>
                                <option>South 
                                  Dakota</option>
                                <option>Tenessee</option>
                                <option>Texas</option>
                                <option>Utah</option>
                                <option>Vermont</option>
                                <option>Virgin 
                                  Islands</option>
                                <option>Virginia</option>
                                <option>Washington</option>
                                <option>West 
                                  Virginia</option>
                                <option>Wisconsin</option>
                                <option>Wyoming</option>
                            </select>
                   </li>         

                         <li><label>Zip Code <span>*</span></label>
                    <input name="zip" class="input_textarea" id="zip" size="25" req="1" 
                      valimessage="Invalid Zip code" 
                  valiclass="zip" />
                  </li>
                   <li><label>Phone</label>
                      <input name="phone" class="input_textarea" id="phone" size="25" />
                   </li>
                    <li><label>Fax</label>
                   <input name="fax" class="input_textarea" id="fax" size="25" />
                 </li>
                           <li><label>Email address<span>*</span></label>
                      <input name="email" class="input_textarea" id="email" size="25" req="1" 
                      valimessage="Invalid email address" 
                      valiclass="email" />
                 </li>
                           <li><label>Password <span>*</span></label>
                         <input name="password" type="password" class="input_textarea" id="password" size="25" req="4" 
                      valimessage="not sufficent password lenghth" 
                      valiclass="required" />
                      </li>
                           <li><label>Verify Password</label>
                           <input name="password2" type="password" class="input_textarea" id="password2" size="25" />
                        </li>
                        <li><label>&nbsp;</label>* indicates required fields.</li>

                          <li><label>&nbsp;</label>
                          <input type="submit" value="Sign up" name="btn_signup"  class="red_btn"/>
                          </li>
                          </ul> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-28T11:14:43.577

我只是做了你在 Magento 1.7.0.2 中所说的事情，但我没有把它作为扩展，看起来很脏。

我只是为 AU 做的，这就是我所做的：
1\. 在 \app\design\frontend\base\default\template\checkout\onepage\billing.phtml
或 \app\design\frontend\中找到您的 billing.phtml base\default\template\persistent\checkout\onepage\billing.phtml 在底部的这些代码中：

```
 <script type="text/javascript">
jQuery(document).ready(function(){
CountryListener();
jQuery('#billing\\:country_id').change(function() {
CountryListener();
});     
});

var OriginalBillingCity = '<?php echo $this->escapeHtml($this->getAddress()->getCity()); ?>';
var OriginalBillingPostcode = '<?php echo $this->escapeHtml($this->getAddress()->getPostcode()); ?>';
function CountryListener()
{
var selectVal = jQuery('#billing\\:country_id option:selected').val();
if(selectVal == "AU"){
jQuery('#billing\\:region_id').change(function() {      ////add select change listener          
StateToCityList();
});
jQuery("#billing\\:city")
.replaceWith('<select id="billing:city" name="billing[city]" class="required-entry"><option value="">Select the State first, then you have options</option></select>');
jQuery("#billing\\:postcode")
.replaceWith('<select id="billing:postcode" name="billing[postcode]"><option value="">Please select the City first</option></select>');
}else{
jQuery("#billing\\:city")
.replaceWith('<input type="text" class="input-text required-entry absolute-advice" title="City" value="' + OriginalBillingCity + '" id="billing:city" name="billing[city]" autocomplete="off">');
jQuery("#billing\\:postcode")
.replaceWith('<input type="text" class="input-text required-entry absolute-advice" title="postcode" value="' + OriginalBillingPostcode + '" id="billing:postcode" name="billing[postcode]" autocomplete="off">');
} 
}

var state_city = [];
<?php echo $this->getCityList(); ?>
var city_postcode = [];
<?php echo $this->getPostCodeList(); ?>
//state_city.push({state:'New South Wales',city:'CHATSWORTH'});
//state_city.push({state:'New South Wales',city:'NAUGHTONS GAP',postcode:2470});
//state_city.push({state:'Queensland',city:'TERRICA',postcode:4387});

function StateToCityList(){
var StateText = jQuery('#billing\\:region_id option:selected').text();
if(StateText == "Please select region, state or province")
{   jQuery("#billing\\:city")
.replaceWith('<select id="billing:city" name="billing[city]" class="required-entry"><option value="">Select the State first, then you have options</option></select>');
} else{                             
/////////cookie////////         
/*var cookie_name = "billingstate";         
Mage.Cookies.clear(cookie_name);
Mage.Cookies.set(cookie_name, StateText);           
alert(Mage.Cookies.get(cookie_name));*/
//////////////////////////          
var CityList =  '<select id="billing:city" name="billing[city]" class="required-entry">'+
'<option>Select the City You live</option>';
for(i=0;i<state_city.length;i++)
{
if(state_city[i].state == StateText)
CityList += '<option value="'+state_city[i].city+'">'+state_city[i].city+'</option>';
}
CityList += '</select>';

jQuery("#billing\\:city")
.replaceWith(CityList);     
jQuery('#billing\\:city').change(function() {       ////add select change listener      
CityToPostcode();
});         
}
}   

function CityToPostcode(){      
var CityVal = jQuery('#billing\\:city option:selected').val();
var StateText = jQuery('#billing\\:region_id option:selected').text();
if(StateText == "Please select region, state or province" && CityVal == "Select the City You live")
{   jQuery("#billing\\:postcode")
.replaceWith('<select id="billing\\:postcode" name="billing[postcode]"><option value="">Please select the City first</option></select>');
} else{         
var PostcodeList =  '<select id="billing:postcode" name="billing[postcode]" >';
for(i=0;i<city_postcode.length;i++)
{
if(city_postcode[i].state == StateText && city_postcode[i].city == CityVal)
PostcodeList += '<option value="'+city_postcode[i].postcode+'">'+city_postcode[i].postcode+'</option>';
}
PostcodeList += '</select>';

jQuery("#billing\\:postcode")
.replaceWith(PostcodeList);     
}
}

</script> 
```

然后在 \app\code\core\Mage\Checkout\Block\Onepage\Billing.php 编辑 Billing.php 创建如下两个函数：

```
 public function getCityList(){
require_once '/your server path/example.com/html/app/Mage.php';
Mage::app();    
$data = "";
/////////////// call SQL read////////////////
$connection_read = Mage::getSingleton('core/resource')->getConnection('core_read'); 
$sql = "SELECT * FROM state_to_city_AU";
$count = 1;
foreach ($connection_read->fetchAll($sql) as $State_City) {
$data .= 'state_city.push({state:"'.$State_City['state'].'", city:"'.$State_City['city'].'"});';    
}       
return $data;       
}

public function getPostCodeList(){
require_once '/your server path/example.com/html/app/Mage.php';
Mage::app();        
$data = "";
/////////////// call SQL read////////////////
$connection_read = Mage::getSingleton('core/resource')->getConnection('core_read');         
$sql = "SELECT * FROM city_to_postcode_AU";
$count = 1;
foreach ($connection_read->fetchAll($sql) as $city_postcode) {
$data .= 'city_postcode.push({state:"'.$city_postcode['state'].'", city:"'.$city_postcode['city'].'", postcode:"'.$city_postcode['postcode'].'"});';            
}       
return $data;       
} 
```

最后，您需要准备添加两个数据库表 state_to_city_AU（两列，州和城市）和 city_to_postcode_AU（三列，州-城市-邮政编码）。

您需要对送货地址代码执行相同的操作。对我有用，你可以试试。

# php - 将数组转换为字符串 MySQL 查询

> ID：11338897
> 
> 赞同：2
> 
> 时间：2012-07-05T06:33:05.123
> 
> 标签：php, mysql, codeigniter

我有一个要在查询中使用的数组：

```
Array ( [0] => stdClass Object ( [followee] => 267,269,270,271,272,273,275,276,277,278,279 ) ) 
```

我不确定它为什么返回消息：

> `Object of class stdClass could not be converted to string.`

控制器：

```
$data['activity'] = $this->home_model->activity($followID); 
```

模型：

```
function activity($followID)
{
    $query_str = 'SELECT DISTINCT name
                    FROM place
                    WHERE userid IN ("'. implode('","', $followID) .'")';

$query = $this->db->query($query_str); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:36:32.167

试试`$your_array[0]->followee`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T07:04:12.230

好吧，你的变量中有一个对象，你不想转换它。

访问变量的正确方法是在类中创建一个函数，如下所示：

```
public function getFollowee() {
  return $this -> followee;
} 
```

以及访问它的方式：

```
function activity() {
  $query_str = 'SELECT DISTINCT name FROM place WHERE userid IN ( ' . $stdClass -> getFollowee() . ')';
  $query = $this -> db -> query( $query_str );
} 
```

# testing - 测试监控工具

> ID：11338898
> 
> 赞同：0
> 
> 时间：2012-07-05T06:33:12.067
> 
> 标签：testing, jmeter, functional-testing, performance-testing

请指导我如何测试监控工具？由于项目的性质（监控另一个目标程序的程序），我们不能期望输入（目标程序的活动），因此测试它的最佳方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T08:48:18.803

我不确切知道您的监控工具是如何工作的，但我认为它如何与某些“目标”应用程序通信，从中检索数据并显示报告。

我认为您的问题是您无法控制监视工具的输入，以测试它是否显示正确的数据，因为该输入取决于您的目标应用程序。

我的建议是创建一个`Mock`应用程序。此应用程序必须与您的真实目标应用程序具有相同的界面，以便您的工具可以与之通信。当然，实现方式必须不同。以这种方式实现它，以便您的工具检查的每个参数都可以配置给您。因此，您将能够知道哪个将是您的工具的输入。

# c - 有没有表现良好的 POSIX 间隔计时器？

> ID：11338899
> 
> 赞同：20
> 
> 时间：2012-07-05T06:33:13.610
> 
> 标签：c, timer, posix

受最后闰秒的启发，我一直在探索使用 POSIX 调用的时间（特别是间隔计时器）。

POSIX 提供了几种设置计时器的方法，但它们都有问题：

*   `sleep`并且`nanosleep`——它们在被信号中断后重新启动很烦人，并且它们会引入时钟偏差。您可以通过一些额外的工作来避免部分但不是全部的这种偏差，但这些功能使用实时时钟，所以这并非没有缺陷。
*   `setitimer`或更现代的`timer_settime`——这些被设计为间隔计时器，但它们是每个进程的，如果您需要多个活动计时器，这是一个问题。它们也不能同步使用，但这没什么大不了的。
*   `clock_gettime`与.`clock_nanosleep`一起使用时似乎是正确的答案`CLOCK_MONOTONIC`。`clock_nanosleep`支持绝对超时，所以你可以只睡觉，增加超时，然后重复。以这种方式中断后重新启动也很容易。不幸的是，这些函数也可能是特定于 Linux 的：Mac OS X 或 FreeBSD 上不支持它们。
*   `pthread_cond_timedwait`在 Mac 上可用，可以`gettimeofday`作为一种笨拙的解决方法使用，但在 Mac 上，它只能与实时时钟一起使用，因此当设置系统时钟或发生闰秒时，它会出现异常行为。

有没有我缺少的 API？是否有一种合理的可移植方式在类 UNIX 系统上创建行为良好的间隔计时器，或者这是否总结了当今的事物状态？

我的意思是表现良好且可合理携带：

*   不易出现时钟偏差（当然，减去系统时钟自身的偏差）
*   对正在设置的系统时钟或闰秒的发生具有弹性
*   能够在同一进程中支持多个定时器
*   至少在 Linux、Mac OS X 和 FreeBSD 上可用

**关于闰秒的注释**（响应[R..'s answer](https://stackoverflow.com/a/11343516/195298)）：

POSIX 天数正好是 86,400 秒，但现实世界的天数很少会更长或更短。系统如何解决这种差异是实现定义的，但是闰秒与前一秒共享相同的 UNIX 时间戳是很常见的。另请参阅：[闰秒以及如何处理它们](http://derickrethans.nl/leap-seconds-and-what-to-do-with-them.html)。

Linux 内核闰秒错误是由于在将时钟设置回一秒后未能进行内务处理的结果：[https](https://lkml.org/lkml/2012/7/1/203) ://lkml.org/lkml/2012/7/1/203 。即使没有那个错误，时钟*也会*倒退一秒。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-07-02T02:42:22.577

`kqueue`并可`kevent`用于此目的。OSX 10.6 和 FreeBSD 8.1 添加了对 的支持`EVFILT_USER`，我们可以用它来从另一个线程唤醒事件循环。

请注意，如果您使用它来实现自己的条件和定时等待，则不需要锁来避免竞争条件，这与[这个出色的答案](https://stackoverflow.com/a/4567919/432)相反，因为您不能“错过”队列中的事件。

### 资料来源：

*   [FreeBSD 手册页](https://www.freebsd.org/cgi/man.cgi?query=kqueue&sektion=2)
*   [OS X 手册页](https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man2/kqueue.2.html)
*   [队列教程](https://wiki.netbsd.org/tutorials/kqueue_tutorial/)
*   [libevent源代码](https://github.com/libevent/libevent/blob/1dbb55da324f2ba0ad562d0668dccb34b6c720f8/kqueue.c)

### 示例代码

编译`clang -o test -std=c99 test.c`

```
#include <sys/types.h>
#include <sys/event.h>
#include <sys/time.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include <pthread.h>

// arbitrary number used for the identifier property
const int NOTIFY_IDENT = 1337;

static int kq;

static void diep(const char *s) {
   perror(s);
   exit(EXIT_FAILURE);
}

static void *run_thread(void *arg) {
    struct kevent kev;
    struct kevent out_kev;
    memset(&kev, 0, sizeof(kev));
    kev.ident = NOTIFY_IDENT;
    kev.filter = EVFILT_USER;
    kev.flags = EV_ADD | EV_CLEAR;

    struct timespec timeout;
    timeout.tv_sec = 3;
    timeout.tv_nsec = 0;

    fprintf(stderr, "thread sleep\n");

    if (kevent(kq, &kev, 1, &out_kev, 1, &timeout) == -1)
        diep("kevent: waiting");

    fprintf(stderr, "thread wakeup\n");

    return NULL;
}

int main(int argc, char **argv) {
    // create a new kernel event queue
    kq = kqueue();
    if (kq == -1)
        diep("kqueue()");

    fprintf(stderr, "spawn thread\n");
    pthread_t thread;
    if (pthread_create(&thread, NULL, run_thread, NULL))
        diep("pthread_create");

    if (argc > 1) {
        fprintf(stderr, "sleep for 1 second\n");
        sleep(1);
        fprintf(stderr, "wake up thread\n");

        struct kevent kev;
        struct timespec timeout = { 0, 0 };

        memset(&kev, 0, sizeof(kev));
        kev.ident = NOTIFY_IDENT;
        kev.filter = EVFILT_USER;
        kev.fflags = NOTE_TRIGGER;

        if (kevent(kq, &kev, 1, NULL, 0, &timeout) == -1)
            diep("kevent: triggering");
    } else {
        fprintf(stderr, "not waking up thread, pass --wakeup to wake up thread\n");
    }

    pthread_join(thread, NULL);
    close(kq);
    return EXIT_SUCCESS;
} 
```

### 输出

```
$ time ./test
spawn thread
not waking up thread, pass --wakeup to wake up thread
thread sleep
thread wakeup

real    0m3.010s
user    0m0.001s
sys 0m0.002s

$ time ./test --wakeup
spawn thread
sleep for 1 second
thread sleep
wake up thread
thread wakeup

real    0m1.010s
user    0m0.002s
sys 0m0.002s 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-05T11:36:04.487

POSIX 计时器 ( `timer_create`) 不需要信号；您还可以安排通过`SIGEV_THREAD`通知类型在线程中传递计时器到期。不幸的是，glibc 的实现实际上为每次到期创建了一个新线程（这都有很多开销并且破坏了实时质量稳健性的任何希望），尽管该标准允许在每次到期时重用相同的线程。

除此之外，我只建议您制作自己的线程，使用`clock_nanosleep`和`TIMER_ABSTIME`用于`CLOCK_MONOTONIC`间隔计时器。由于您提到某些损坏的系统可能缺少这些接口，因此您可以`pthread_cond_timedwait`在此类系统上简单地使用嵌入式实现（例如基于），并认为由于缺少单调时钟，它可能质量较低，但这只是使用像 MacOSX 这样的低质量实现的基本限制。

至于你对闰秒的担忧，如果 ntpd 或类似的东西在闰秒发生时让你的实时时钟向后跳，那是 ntpd 中的一个严重错误。POSIX 时间（自纪元以来的秒数）按照标准以日历秒为单位（恰好是一天的 1/86400），而不是 SI 秒，因此闰秒逻辑属于 POSIX 系统（如果有的话）的唯一位置在`mktime`//当它们之间转换`gmtime`和分解的时候。我没有关注这次出现的错误，但它们似乎是由于系统软件做了很多愚蠢和错误的事情，而不是任何根本问题。`localtime``time_t`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-04-26T19:33:10.283

您可以在[此处](https://stackoverflow.com/questions/5167269/clock-gettime-alternative-in-mac-os-x)查看问题以进行`clock_gettime`仿真，我也为此提供了答案，但也对我有所帮助。我最近在一个小存储库中添加了一个简单的计时器，用于部分模拟 POSIX 调用的 Mac OS X 计时。一个简单的测试以 2000Hz 运行计时器。该存储库称为[PosixMachTiming](https://github.com/ChisholmKyle/PosixMachTiming)。试试看。

PosixMachTiming 基于[Mach](https://developer.apple.com/library/mac/documentation/Darwin/Conceptual/KernelProgramming/Mach/Mach.html#)。似乎一些与时间相关的 Mach API 已经从 Apple 的页面中消失并被弃用，但仍然有一些源代码漂浮在周围。看起来这里找到的`AbsoluteTime`单元和[内核抽象](https://developer.apple.com/library/mac/documentation/Darwin/Conceptual/KernelProgramming/services/services.html)是新的做事方式。无论如何，[PosixMachTiming](https://github.com/ChisholmKyle/PosixMachTiming)回购仍然对我有用。

### PosixMachTiming 概述

`clock_gettime``CLOCK_REALTIME`由接入系统实时时钟的 mach 函数调用模拟，称为`CALENDAR_CLOCK`.

通过使用全局变量 ( )`clock_gettime`来模拟。此时钟在计算机打开或唤醒时初始化。我不确定。在任何情况下，它都是函数调用的全局变量。`CLOCK_MONOTONIC``extern mach_port_t clock_port``mach_absolute_time()`

`clock_nanosleep(CLOCK_MONOTONIC, TIMER_ABSTIME, ...)`通过使用`nanosleep`当前时间和绝对单调时间之间的差异来模拟。

`itimer_start()`并且`itimer_step()`基于要求`clock_nanosleep`目标绝对单调时间。它在每次迭代（而不是当前时间）时按时间步长增加目标时间，因此时钟偏差不是问题。

请注意，这不能满足您在同一进程中支持多个计时器的要求。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2020-01-20T13:54:51.480

我们可以使用`timer_create ()`or `timerfd_create ()`。他们的例子出现在手册页中。

# c# - SQL加密字符串的解密

> ID：11338900
> 
> 赞同：2
> 
> 时间：2012-07-05T06:33:16.387
> 
> 标签：c#, sql, encryption

我在数据库中有一个加密的字符串/数字（由 SQL 服务器加密完成，看起来像“䚶ઙᷤ阹熂”），现在我需要通过 c# 代码解密它。我该如何实现？谁可以帮我这个事？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T08:48:31.333

Do not store credit card information in a database. It's a recipe for trouble. Doing so will make you a very attractive target for hackers and, if they are successful in retrieving them, end your business and potentially ruin your life as well as the lives of those whose credit card numbers are stolen.

Also It is possible that storing such an information is illegal but depends upon the laws of you country. Please do check the guidelines.

If still you want to go ahead and do so and you want to store such an information then the just keep to the rule of ENCRYPT ENCRYPT ENCRYPT and never DECRYPT. Its like MD5 (i am not at all that you should just use algorithm like md5 for storing the credit card information) where you don't have an algorithm to decrypt but you can only encrypt the data. You can check the information entered matches the encryted data in the database by first encrypting the string with the same algorithm and then comparing it with the encrypted string in the database. Choose a good algorithm and a good and a secure server.

Be sure to choose an encryption algorithm that is secure and have not been broken yet.

# c# - 将 LINQ 查询结果转换为 int

> ID：11338902
> 
> 赞同：3
> 
> 时间：2012-07-05T06:33:17.497
> 
> 标签：c#, linq, type-conversion

我编写了一个应该返回一个 int 值的 LINQ 查询。但我无法将此值转换为 int 并且发生异常： **无法将“QuickRoutes.DAL.RouteLinq”类型的对象转换为“System.IConvertible”类型。**
这是我的 LINQ：

```
var res = (from p in aspdb.RouteLinqs
                       orderby p.RouteId descending
                       select p).Take(1); 
```

异常发生在这里：

```
 route.Id =Convert.ToInt32(res.FirstOrDefault()); 
```

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-05T06:34:21.863

那是因为`res.FirstOrDefault()`返回一个`RouteLinqs`类型对象，因为你正在使用`select p`，你可以选择一个字段 using `select p.FieldName`，其中 FieldName 是你需要转换的属性，这可能是`RouteId`

您可能想要查询 linq 查询中的特定字段。

```
var res = (from p in aspdb.RouteLinqs
                       orderby p.RouteId descending
                       select p.RouteId).Take(1); //p.RouteID or any field you want. 
```

或者使用您当前的查询，您可以执行以下操作：

```
 route.Id =Convert.ToInt32(res.FirstOrDefault().RouteID); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-05T06:44:07.517

看起来您正在选择最大路由 ID，所以为什么不这样做：

```
route.Id = aspdb.RouteLinqs.Max(x => x.RouteId); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-05T06:42:13.790

此代码应该可以工作：

```
route.Id = Convert.ToInt32((res.FirstOrDefault()).FieldName); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-05T06:36:52.723

不确定您是如何`RouteLinqs`定义的，但也许您正在寻找从 class 中选择特定对象`RouteLinqs`。

```
var res = (from p in aspdb.RouteLinqs
                   orderby p.RouteId descending
                   select p.SomeProperty).Take(1); 
```

在这种情况下`p`是单个项目，`RouteLinqs`并且 p.SomeProperty 应该是您的 int 值。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-04-05T12:26:24.070

首先制作 linq ：

```
IQueryable<int> query = (from p in aspdb.RouteLinqs
                           orderby p.RouteId descending
                           select p.Id); 
```

比运行：

```
 int result = query.FirstOrDefault(); 
```

在 1 个命令中：

```
int result = (from p in aspdb.RouteLinqs
                           orderby p.RouteId descending
                           select p.Id).FirstOrDefault(); 
```

# struts2 - 如何在弹出窗口中显示 In Struts2 服务器端验证错误消息？

> ID：11338905
> 
> 赞同：0
> 
> 时间：2012-07-05T06:33:33.890
> 
> 标签：struts2

请让我知道如何在弹出窗口中显示服务器端验证错误消息。在 Struts2 中，我们使用`<s:actionerror/>`. 请帮忙怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T01:03:43.303

shahith，
一种方法是在您的 jsp 中为错误创建一个隐藏变量，并使用 bean 映射它或使用 getter n setter 在动作类中声明变量，一旦出现错误，请在页面加载时将此错误设置为此声明的变量，通过java 脚本读取此变量的值，如果您在此隐藏变量中找到任何值，则将其显示在警报中。
希望这会有所帮助...

# javascript - 在无效输入上停止注册：JavaScript

> ID：11338906
> 
> 赞同：0
> 
> 时间：2012-07-05T06:33:34.210
> 
> 标签：javascript

我有一个以出生日期作为字段之一的注册表单，我写了一个未来日期的函数，它必须是无效的。但是当用户输入未来日期时，它仍然提交表单，尽管正在向用户发出警报。

这是警报的功能，它工作正常。

```
var user_birth_year=document.getElementById("birth_year").value;
var user_birth_month=document.getElementById("birth_month").value;
var user_birth_day=document.getElementById("birth_day").value;

var userDate = new Date(user_birth_year,user_birth_month-1,user_birth_day);

var currentDate = new Date();
var res="Invalid date";
if(currentDate.getTime() < userDate.getTime() ) {
  document.getElementById('registererror').innerHTML = "<span class='errorMsg'>"+res+"</span>";
  document.getElementById('registererror').style.display = 'block';
} else {
  document.getElementById('registererror').style.display = 'none';
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-05T06:36:47.307

通常要停止提交表单，您需要在表单提交事件上返回 false。

# c# - 无法连接到 CRM 2011 插件中的远程服务器

> ID：11338908
> 
> 赞同：1
> 
> 时间：2012-07-05T06:33:48.220
> 
> 标签：c#, dynamics-crm, dynamics-crm-2011, dynamics-crm-online

我已经实现了一个 CRM 2011 插件，它在创建时向主电话记录发送短信。但是我收到一条错误**消息“无法连接到远程服务器”。**下面是插件中使用的一段代码。

```
 public static void send(string uid, string password, string message, string no)
    {
        HttpWebRequest myReq =
        (HttpWebRequest)WebRequest.Create("http://ubaid.tk/sms/sms.aspx?uid=" + uid + "&pwd=" + password +
        "&msg=" + message + "&phone=" + no + "&provider=way2sms");

        HttpWebResponse myResp = (HttpWebResponse)myReq.GetResponse(); //Getting error in this line
        System.IO.StreamReader respStreamReader = new System.IO.StreamReader(myResp.GetResponseStream());
        string responseString = respStreamReader.ReadToEnd();
        respStreamReader.Close();
        myResp.Close();
    } 
```

解决此错误的解决方案是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T13:19:53.377

如果您将此插件作为沙盒运行，[默认情况下对出站 URI 模式有一些限制](http://msdn.microsoft.com/en-us/library/gg334752.aspx)：

> 这些默认的 Web 访问限制在运行 Microsoft.Crm.Sandbox.HostService.exe 进程的服务器上的注册表项中定义。系统管理员可以根据业务和安全需要更改注册表项的值。服务器上的注册表项路径是：
> 
> HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\MSCRM\SandboxWorkerOutboundUriPattern
> 
> 键值是定义 Web 访问限制的正则表达式字符串。默认键值为：
> 
> "^http[s]?://(?!((localhost[:/])|([.*])|([0-9]+[:/])|(0x[0-9a-f ]+[:/])|(((([0-9]+)|(0x[0-9A-F]+)).){3}(([0-9]+)|(0x[ 0-9A-F]+))[:/]))).+";
> 
> 通过更改此注册表项值，您可以更改沙盒插件允许的 Web 访问。

# iphone - 滚动视图和页面控件中的图像 zoomIn 和 ZoomOut

> ID：11338912
> 
> 赞同：2
> 
> 时间：2012-07-05T06:34:12.380
> 
> 标签：iphone, ios

我准备了一个图片库，我想放大和缩小已经在页面控制和滚动视图中的图像。任何人都可以帮助我.. 问候..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T07:39:55.650

为滚动视图设置委托。以下代码缩放您的图像。

```
-(UIView *) viewForZoomingInScrollView:(UIScrollView *)inScroll 
{
   return imageView;
} 
```

# perl - 在 Apache 上自动停止 fast-cgi 应用程序

> ID：11338914
> 
> 赞同：2
> 
> 时间：2012-07-05T06:34:16.243
> 
> 标签：perl, apache, fastcgi

我正在调试 Apache、Fast-CGI 和我们的 Perl 应用程序的问题。根本原因是如果执行了某个操作，Perl 应用程序需要退出并重新加载。在 CGI 下这不是问题，因为每个请求都会加载应用程序。

但是，它看到 Fast CGI 协议没有考虑这种情况——没有办法向 WebServer 发出信号你要退出——你只是退出。

但是这样做，我们在 mod_fastcgi 方面遇到了一个看起来像是竞争条件的情况：它识别出程序已退出，但随后尝试向它发送请求。最终它放弃并向浏览器返回错误 500。

我在网上看到类似的错误消息，但这些是关于 PHP 在 500 个请求后退出，解决方案是告诉 fastcgi 将每个进程的请求数限制为 500。这不适合我的问题，因为我需要在某些情况下退出请求而不是在固定数量的请求之后。

信息：Apache 模块加载：

```
LoadModule fastcgi_module libexec/apache2/mod_fastcgi.so 
```

两条日志行：服务器检测到应用程序退出，但随后尝试连接它

```
[Thu Jul 05 15:02:32 2012] [warn] FastCGI: (dynamic) server "/Users/sfomberg/Sites/cgi-bin/mt/mt.cgi" (pid 9277) terminated by calling exit with status '0'
[Thu Jul 05 15:02:32 2012] [warn] FastCGI: (dynamic) server "/Users/sfomberg/Sites/cgi-bin/mt/mt.cgi" has failed to remain running for 30 seconds given 3 attempts, its restart interval has been backed off to 600 seconds 
```

最后，放弃：

```
[Thu Jul 05 15:03:07 2012] [error] [client 127.0.0.1] FastCGI: comm with (dynamic) server "/Users/sfomberg/Sites/cgi-bin/mt/mt.cgi" aborted: (first read) idle timeout (30 sec), referer: http://localhost/~sfomberg/cgi-bin/mt/mt.cgi?__mode=cfg_plugins&blog_id=0&switched=1
[Thu Jul 05 15:03:07 2012] [error] [client 127.0.0.1] FastCGI: incomplete headers (0 bytes) received from server "/Users/sfomberg/Sites/cgi-bin/mt/mt.cgi", referer: http://localhost/~sfomberg/cgi-bin/mt/mt.cgi?__mode=cfg_plugins&blog_id=0&switched=1 
```

我试图在结束请求之前直接关闭侦听套接字（侦听套接字是 fileno 0），但这不起作用。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T06:39:33.440

问题是因为 mod_fastcgi 是旧版本 - 2.4.2 升级到 2.4.6 解决了它。

另外，mod_fcgid 没有这个问题。

# iphone - 将新部分插入到合适的视图中

> ID：11338915
> 
> 赞同：0
> 
> 时间：2012-07-05T06:34:16.340
> 
> 标签：iphone, ios, ios5

我有多个部分的表格，在特定部分我在该部分的页脚中有一个按钮。在该操作中，它应该编写代码以将下面的新部分添加到其中。但它没有在下面添加任何新部分。

```
[self.tableView beginUpdates];
[self.tableView insertSections:[NSIndexSet indexSetWithIndex:0]
              withRowAnimation:UITableViewRowAnimationBottom];
[self.tableView endUpdates]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T06:39:39.787

单击该按钮时，您必须重新分配您的表格，然后在该方法中`numberOfSectionsInTableView:`您必须返回`numberOfExistingSections + 1`

让我详细解释一下。

首先，您将初始节数存储在类中的变量中，例如：

```
numberOfExistingSections = 5; 
```

然后，当您单击一个按钮时，该方法将如下所示：

```
- (void) buttonClick {

   // your code

   numberOfExistingSections += 1;
   [yourTable reloadData];
} 
```

你的`numberOfSectionsInTableView:`遗嘱是这样的：

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {
    return numberOfExistingSections;
} 
```

根据您要添加的部分和行数，也不要忘记在您用来填充数据的数组或字典中添加修改数据`UITableView`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-18T02:49:54.820

卡南沃拉是不正确的。您的问题是您需要在更新表格视图之前更新模型以添加新部分。

```
[self.tableView beginUpdates];
<- insert new section at index 'n' ->
[self.tableView insertSections:[NSIndexSet indexSetWithIndex:n]
              withRowAnimation:UITableViewRowAnimationBottom];
[self.tableView endUpdates]; 
```

# java - 文件位置为 URI，找不到文件

> ID：11338918
> 
> 赞同：0
> 
> 时间：2012-07-05T06:34:25.357
> 
> 标签：java

我必须基于简单的文件操作代码，包括复制/删除操作。问题是如果我将文件位置声明为路径

`File remotefile = new File("//mypc/myfolder/myjar.JAR");`

Windows 在网络中找到该文件并执行操作。但是 Linux 机器无法找到该文件。如果我要使用：

`File remotefile = new File("file://mypc/myfolder/myjar.JAR");`

两个平台都找到了文件。现在我有一种复制文件的方法：

```
public static void copyFile(File sourceFile, File destFile) throws IOException {
    if(!destFile.exists()) {
        destFile.createNewFile();
    }

    FileChannel source = null;
    FileChannel destination = null;

    try {
        source = new FileInputStream(sourceFile).getChannel();
        destination = new FileOutputStream(destFile).getChannel();
        destination.transferFrom(source, 0, source.size());
    }
    finally {
        if(source != null) {
            source.close();
        }
        if(destination != null) {
            destination.close();
        }
    }
} 
```

如果我将文件 URI 发送到此方法，两个平台都找不到该文件。但是如果我将它作为路径发送，windows 机器可以正常工作，但 linux 机器找不到该文件。

这里可能是什么问题？

# dll - Microsoft SharePoint 的 64 位 dll 在 32 位机器上运行

> ID：11338924
> 
> 赞同：0
> 
> 时间：2012-07-05T06:34:40.850
> 
> 标签：dll, sharepoint-2010, windows-services, 32bit-64bit, windows-server-2008-r2

我正在处理 SharePoint 域。有时我需要为事件接收器和 Windows 服务等进行开发。

上周我在我的服务器上安装了一个 Windows 服务来从本地文件夹上传文档。服务器是 64 位机器，服务器上安装了“Windows server 2008 R2”作为操作系统来运行 SharePoint Foundation 2010。服务运行正常。

要求是，没有用户会去服务器上传文件。所以我已经在本地用户机器上安装了该服务。一些用户使用 32 位机器和 32 位操作系统，而其他用户使用 64 位。在安装服务时，我在 32 位机器上遇到错误。错误是“此解决方案适用于 64 位机器”。将目标平台从64位更改为x86后，该服务在32位机器上安装成功并开始正常工作。

**现在问题来了：**

*   为了使用 SharePoint 对象模型，我
    在我的 Windows 服务中使用 SharePoint 64 位 dll，该服务安装在 32 位机器和 32 位操作系统上。
*   64位dll是否可以在32位机器上运行？
*   什么情况下会遇到“64位dll不能在32位机器上运行”的问题？
*   如果我想在 64 位和 32 位机器上安装相同的解决方案，我该怎么办？我不想每次都更改目标平台。

**更新：**

经过研发，我发现“32 位解决方案可以在 64 位 dll 上安装一些条款和条件”参考[http://www.samlogic.net/articles/32-64-bit-windows-folder-x86-syswow64.htm](http://www.samlogic.net/articles/32-64-bit-windows-folder-x86-syswow64.htm)。

在 64 位机器中，我们有 Program x86 和 SysWOW64 文件夹来处理 32 位 dll 功能。

**现在的问题是：**

我们如何在 32 位机器上处理 64 位 dll？

和

是否确认 SharePoint dll 是“任何 CPU”？

问候。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T12:00:38.840

不确定我是否理解您要做什么，所以我会尽量详尽：

*   SharePoint 对象模型仅在 SharePoint 服务器上可用，而不在用户工作站上可用。他们确实依赖于仅在 64 位操作系统上工作的 64 位 DLL。

*   SharePoint 2010 允许您使用在远程计算机上工作的“客户端对象模型”，例如使用工作站。它们是 .Net DLL，不特定于 32 位或 64 位。只需使用“任何 CPU”编译您的 exe，它就可以正常工作

*   一般而言，64 位 exe 只能在 64 位操作系统上运行。但是，在 .Net 中，您可以使用适用于 32 位和 64 位的“任何 CPU”。但是，这仅在您的 exe 及其依赖项是完整的 .Net（无本机代码）时才有效。

# mysql - 相当于 MySQL 全文搜索的 Cassandra

> ID：11338928
> 
> 赞同：2
> 
> 时间：2012-07-05T06:34:51.963
> 
> 标签：mysql, cassandra

我们计划将应用程序从 MySQL 迁移到 Cassandra。我们看到的一个主要问题是该应用程序广泛使用了 MyISAM 的全文搜索。我们可以在 cassandra 上使用什么替代方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T08:13:31.740

在 Cassandra中有[Solr](http://lucene.apache.org/solr/)的实现： [Solandra](https://github.com/tjake/Solandra)。

> Solr（发音为 /soʊlə/,/soʊlər/, SOH-lər）是来自 Apache Lucene 项目的开源企业搜索平台。它的主要功能包括强大的全文搜索、命中突出显示、分面搜索、动态聚类、数据库集成和富文档（例如，Word、PDF）处理。Solr 提供分布式搜索和索引复制，具有高度可扩展性。[1](http://lucene.apache.org/solr/)

您可以在这里找到一些其他信息：[http ://www.datastax.com/docs/datastax_enterprise2.0/search/dse_search_about](http://www.datastax.com/docs/datastax_enterprise2.0/search/dse_search_about)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-02-21T23:20:49.777

使用作为插件运行的[Elassandra](https://github.com/strapdata/elassandra)。`Elasticsearch``Apache Cassandra`

可以在[这里找到一些 Elassandra 的真实示例](https://medium.com/rahasak/elassandra-936ab46a6516)

# android - 在果冻豆中创建画廊时遇到问题

> ID：11338931
> 
> 赞同：4
> 
> 时间：2012-07-05T06:35:04.083
> 
> 标签：android, android-gallery, android-4.2-jelly-bean

我正在为新的 android 版本的 jellybeans 创建一个图片库。但我从[这里](http://developer.android.com/reference/android/widget/Gallery.html)知道画廊小部件已被弃用，他们建议使用 ViewPager 或 Horizo​​ntalScrollView。我决定使用 Horizo​​ntalScrollView 来创建我的画廊。

但过了一会儿我发现我们无法将适配器设置为 Horizo​​ntalScrollView。现在我很困惑如何在 jellybeans 中创建我的画廊。帮助我提出您的建议。任何帮助将不胜感激。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-16T20:00:44.780

这是一篇[文章](http://www.dev-smart.com/archives/34)和[组件](https://github.com/dinocore1/DevsmartLib-Android)`AdapterView`，它是一个水平的子类`ListView`。它使用回收和标准`AdapterView.OnItemClickListener`。注意：它不会自动“捕捉”到中心视图。

# android - 在android中加载mapview时出现内存不足异常

> ID：11338933
> 
> 赞同：3
> 
> 时间：2012-07-05T06:35:18.257
> 
> 标签：android, android-mapview

在我的应用程序中，我有基于用户方向旋转的地图视图。为此，我将地图视图的大小设置为非常大，它跨越了设备的宽度和高度。但它在设备中完美运行，但在模拟器中显示内存不足异常。我知道这一点是因为模拟器的堆内存低。

是否所有设备都有更多的堆内存。或者他们有什么解决方案来解决这个问题？

我的定位输出

```
07-05 12:32:49.982: E/AndroidRuntime(907): java.lang.OutOfMemoryError: bitmap size exceeds VM budget
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.graphics.Bitmap.nativeCreate(Native Method)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.graphics.Bitmap.createBitmap(Bitmap.java:468)
07-05 12:32:49.982: E/AndroidRuntime(907):  at com.google.android.maps.StreetViewRenderer.generateNewTileImage(StreetViewRenderer.java:120)
07-05 12:32:49.982: E/AndroidRuntime(907):  at com.google.android.maps.StreetViewRenderer.renderTile(StreetViewRenderer.java:88)
07-05 12:32:49.982: E/AndroidRuntime(907):  at com.google.android.maps.AndroidTileOverlayRenderer.renderTile(AndroidTileOverlayRenderer.java:62)
07-05 12:32:49.982: E/AndroidRuntime(907):  at com.google.googlenav.map.Map.drawTile(Unknown Source)
07-05 12:32:49.982: E/AndroidRuntime(907):  at com.google.googlenav.map.Map.drawMapBackground(Unknown Source)
07-05 12:32:49.982: E/AndroidRuntime(907):  at com.google.googlenav.map.Map.drawMap(Unknown Source)
07-05 12:32:49.982: E/AndroidRuntime(907):  at com.google.android.maps.MapView.drawMap(MapView.java:1048)
07-05 12:32:49.982: E/AndroidRuntime(907):  at com.google.android.maps.MapView.onDraw(MapView.java:486)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.View.draw(View.java:6740)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.drawChild(ViewGroup.java:1640)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
07-05 12:32:49.982: E/AndroidRuntime(907):  at com.trafficmate.utils.RotateView.dispatchDraw(RotateView.java:48)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.View.draw(View.java:6743)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.widget.FrameLayout.draw(FrameLayout.java:352)
07-05 12:32:49.982: E/AndroidRuntime(907):  at com.android.internal.policy.impl.PhoneWindow$DecorView.draw(PhoneWindow.java:1842)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewRoot.draw(ViewRoot.java:1407)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewRoot.performTraversals(ViewRoot.java:1163)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.view.ViewRoot.handleMessage(ViewRoot.java:1727)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.os.Handler.dispatchMessage(Handler.java:99)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.os.Looper.loop(Looper.java:123)
07-05 12:32:49.982: E/AndroidRuntime(907):  at android.app.ActivityThread.main(ActivityThread.java:4627)
07-05 12:32:49.982: E/AndroidRuntime(907):  at java.lang.reflect.Method.invokeNative(Native Method)
07-05 12:32:49.982: E/AndroidRuntime(907):  at java.lang.reflect.Method.invoke(Method.java:521)
07-05 12:32:49.982: E/AndroidRuntime(907):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
07-05 12:32:49.982: E/AndroidRuntime(907):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
07-05 12:32:49.982: E/AndroidRuntime(907):  at dalvik.system.NativeStart.main(Native Method) 
```

我将 RotateView 与 Extenting View Group 一起使用

旋转视图的onMeasure方法

```
private static final float SQ2 = 3.5f;
  @Override
    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
        int w = getDefaultSize(getSuggestedMinimumWidth(), widthMeasureSpec);
        int h = getDefaultSize(getSuggestedMinimumHeight(), heightMeasureSpec);
       //int w=SonarView.display.getWidth();
       //int h=SonarView.display.getHeight();
        int sizeSpec;
        if (w > h) {
            sizeSpec = MeasureSpec.makeMeasureSpec((int) (w * SQ2), MeasureSpec.EXACTLY);
        } else {
            sizeSpec = MeasureSpec.makeMeasureSpec((int) (h * SQ2), MeasureSpec.EXACTLY);
        }
        final int count = getChildCount();
        for (int i = 0; i < count; i++) {
            getChildAt(i).measure(sizeSpec, sizeSpec);
        }
        Log.e("sizeSpec",""+sizeSpec);

        super.onMeasure(widthMeasureSpec, heightMeasureSpec);
    } 
```

我的布局是

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
>
<com.trafficmate.utils.RotateView
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:id="@+id/rview"
 >
<com.google.android.maps.MapView 
android:id="@+id/mapview"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:apiKey="0947Aqi7xG3QScZEvvOLtLJNtVss6PFjAquxZ2w"
android:clickable="true" 
android:saveEnabled="true"
/>

</com.trafficmate.utils.RotateView>

</FrameLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T09:05:23.810

***您可以通过将android:largeHeap="true"***添加到您的应用程序标签来增加堆大小。模拟器对于常规堆和大堆具有相同的堆大小，因此您必须在设备上检查它。

通过 ActivityManager.getLargeMemoryClass() 进行检查；

# java - Jedis 是否支持异步操作

> ID：11338936
> 
> 赞同：5
> 
> 时间：2012-07-05T06:35:33.407
> 
> 标签：java, asynchronous, redis, jedis

我正在使用 Jedis（Java 客户端）与 Redis 服务器通信。我有 3 个 Redis 实例在三个不同的节点上运行。我想从 3 个 Redis 实例中“获取”（读取）一些记录。我想并行发出这些“获取”（读取），然后对接收到的数据进行一些处理并形成最终输出。

在java中执行此操作的最佳方法是什么？

一种方法是创建 3 个线程并在每个线程中（同步）发出“get”（读取）。等待所有 3 个命令完成，然后合并结果。

Jedis 是否具有异步发出 3 个“获取”（与此相关的任何命令）的机制，并带有回调功能？

* * *

我有 3 个不同的 Redis 实例。那么您是否建议使用“ShardedJedisPipeline”（jedis/tests/ShardedJedisPipelineTest.java）与这些 Redis 实例并行交互？

普通的 Jedis 管道 (jedis/tests/PipeliningTest.java)，只是将多个命令发送到单个 Redis 实例，以便它们在 Redis 服务器上一个接一个地执行（以及最后可用的所有响应）。

所以我假设我必须使用“ShardedJedisPipeline”。但这有两个限制： 1\. 我想在 3 个 Redis 实例上并行执行 Lua 脚本，即“eval”。2\. 我不希望分片（Jedis 使用的一些哈希算法）分发数据或自己（使用它的算法）从实例中读取数据。我们有不同的数据分发策略。所以我希望能够指定一条记录应该存储在哪个redis实例中，并相应地从哪里读取它。keyTags 似乎提供了这种机制，但不确定如何将其与“eval”一起使用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T11:03:49.373

您可以使用前面提到的管道。AsyncJedis 是一项正在进步的工作，将与 Jedis 的下一个版本一起发布。它将基于 netty 并与 vert.x 兼容

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T15:16:33.223

在此之前，您可以使用具有三个 Jedis 实例的 ExecutorService 自己滚动它，然后等待返回的期货。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-19T05:07:00.560

截至 2015 年 2 月，Jedis 显然不支持您需要的单个 redis 实例上的异步操作：[https ://github.com/xetorthio/jedis/issues/241](https://github.com/xetorthio/jedis/issues/241)

在你的情况下，我会做的是继续使用 3 个线程，并按照上面的@Xorlev 建议继续使用 Futures 和 Executor Service。

# .net - 如何在 .NET 中实现精细的字体缩放？

> ID：11338939
> 
> 赞同：2
> 
> 时间：2012-07-05T06:35:44.393
> 
> 标签：.net, windows, system.drawing, drawstring

Microsoft Office 在字体缩放方面做得非常好。它们几乎可以以 0.5 点的步长线性缩放（见下图）。

使用`Graphics.DrawString`我无法重现这一点，但在缩放字体大小时我看到了不同的步骤。

使用下面的代码，我得到以下输出，这表明我无法绘制 Office 可以绘制的尽可能多的文本。有什么想法可以绘制那些中间字体大小吗？

![字体大小比较](../Images/7513e8deaff67815d74b2573592babdc.png)

```
 Dim baseSize As Single = 16.0F
    Dim inputText As String = "MMMMMMMMMMMMMM"

    Dim stringFormat As Drawing.StringFormat = Drawing.StringFormat.GenericTypographic()

    Dim pos As Single
    Dim i As Integer

    Do
        Using font As Drawing.Font = New Drawing.Font("Calibri", (baseSize + i / 10.0F), FontStyle.Regular, GraphicsUnit.Pixel)
            Dim text As String = inputText & " " & font.Size.ToString() & "px"
            Dim textSize As SizeF = e.Graphics.MeasureString(text, font, New PointF(0, 0), stringFormat)
            e.Graphics.DrawString(text, font, Brushes.Black, New Drawing.RectangleF(10, pos, textSize.Width, textSize.Height), stringFormat)
            pos += font.Height
        End Using
        i += 1
    Loop While pos < ClientRectangle.Height 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T10:56:38.747

设置文本渲染提示：

```
e.Graphics.TextRenderingHint = TextRenderingHint.AntiAlias; 
```

几乎连续缩放需要抗锯齿。但是 - 从您的评论来看 - 网格拟合会导致字体大小四舍五入到一些阻止它的离散值。

# php - 自动将 PHP 文件复制到 WWW 目录

> ID：11338941
> 
> 赞同：1
> 
> 时间：2012-07-05T06:35:47.443
> 
> 标签：php

在开发 PHP 项目时，我需要不断地将项目文件夹中的文件复制到本地 Web 服务器的 WWW 文件夹中进行测试。我知道 NetBeans 支持自动执行此操作，但它不是我一直使用的 IDE。

那么，是否已经制作了一个小工具或脚本可以帮助我解决这个问题？我需要能够在 shell 上执行将预配置文件复制到预配置位置的命令。顺便说一句，我正在使用 Windows。

**编辑：**我认为[Phing](http://www.phing.info/trac/ "平")是我正在寻找的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T06:40:12.513

如果您使用的是 Windows，那么只需制作一个 .bat 文件即可。将是干净和快速的。

但是，是的，SVN 将是最好的。只需在本地提交并在服务器上更新。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:42:42.710

像这样创建一个shell脚本

在窗户里

```
 xcopy "test.php" "..\..\..\Path\to\save" /s /i /c /y
 xcopy "*.php" "..\..\..\Path\to\save" /s /i /c /y 
```

linux

```
cp test.php /dir 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T06:43:20.873

为什么不将 IDE 工作区放在 www 文件夹中？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-05T06:42:15.880

有很多方法可以做到这一点。如果您熟悉基本的 Linux 命令，Cygwin 将是您的完美选择：
[http](http://cygwin.com/)
://cygwin.com/ （cron、cp、scp、rsync 更多有用的东西）

但是，最简单的解决方案是编写一个windows批处理脚本，像这样：
[http](http://theos.in/news/windows-xp-batch-file-script-to-copy-all-files/)
://theos.in/news/windows-xp-batch-file-script-to-copy-all-files/ （它根本不需要任何安装）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-05T06:48:06.213

我过去发现有用的是：

*   将代码放在您的开发 PC 上，并共享它
*   使用 Samba 在服务器 PC 上安装共享

这使您可以两全其美 - 编辑既好又快，并且您可以非常快速地对其进行测试。您不会注意到 Samba 链接导致的性能下降（事实上，让开发环境运行得快得离谱可能具有欺骗性！）

如果您在一个团队中工作，还有其他好处是您可以共享相同的服务器设置，如果您使用的是大型数据库或外来设置，这很方便。

# php - 如何查询所有根行的所有子层次结构的所有明细行？

> ID：11338946
> 
> 赞同：1
> 
> 时间：2012-07-05T06:36:16.303
> 
> 标签：php, mysql, sql

有两个`table`s ：一个是 the `master`，一个是`detail`（外键）。表中`master`有一个`hierarchy`结构：每一`master`行都有其`parent`层次结构（自外键）。也许表格的 DML 可以清楚地解释它：

```
CREATE TABLE classe_menu (                          
               class_menu_code int(10) NOT NULL auto_increment,  
               class_menu_lib varchar(50) default NULL,          
               class_menu_comment text,                          
               class_menu_deleted tinyint(1) default '0',        
               class_menu_ordre int(11) default NULL,            
               class_menu_parent int(10) default NULL,           
               PRIMARY KEY  (class_menu_code) ,                                                                                   
               KEY association_108_fk (class_menu_parent),                                                                 
               CONSTRAINT fk_association_108 FOREIGN KEY (class_menu_parent) REFERENCES classe_menu (class_menu_code)                   
             ) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE menu (                                                                                           
          menu_code int(10) NOT NULL auto_increment,                                                                  
          class_menu_code int(10) default NULL,                                                                       
          menu_lib varchar(100) default NULL,                                                                         
          menu_url varchar(255) default NULL,                                                                         
          menu_titre varchar(100) default NULL,                                                                       
          menu_parent decimal(10,0) default NULL,                                                                     
          menu_visible tinyint(1) default NULL,                                                                       
          menu_ordre decimal(2,0) default NULL,                                                                       
          menu_action varchar(50) default NULL,                                                                       
          menu_icone_img varchar(255) default NULL,                                                                   
          menu_icone_flag tinyint(1) default '0',                                                                     
          menu_icone_title varchar(50) default NULL,                                                                  
          menu_deleted tinyint(1) default '0',                                                                        
          menu_tooltip varchar(25) default NULL,                                                                      
          menu_trace text,                                                                                            
          menu_image varchar(255) default NULL,                                                                       
          menu_contextuel tinyint(1) default '0',                                                                     
          menu_logo varchar(255) default NULL,                                                                        
          menu_display int(1) default '0',                                                                            
          PRIMARY KEY  (menu_code),                                                                                   
          KEY association_109_fk (class_menu_code),                                                                 
          CONSTRAINT fk_association_109 FOREIGN KEY (class_menu_code) REFERENCES classe_menu (class_menu_code)  
        ) ENGINE=InnoDB DEFAULT CHARSET=latin1 COMMENT='liste des menus du site' 
```

如您所见，“classe_menu”是`master`表格，“menu”是`detail`表格；但在主表“classe_menu”内部还有一个`hierarchy`由“class_menu_parent”列实现的结构：如果“class_menu_parent”为“classe_menu”行，则“classe_menu”行是其中的`root`一个。`hierarchy``NULL`

现在我想要的是获取所有 'classe_menu'**根**行和所有 'classe_menu' 的 'menu' 行，即所有根 'classe_menu' 及其所有`children`.

怎么做 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T07:35:29.543

```
function getMenuChildren($code,$code_is_class_menu=false){
    $children = array();
    $sql = 'SELECT * FROM menu WHERE '.($code_is_class_menu?'class_menu_code':'menu_parent').' = '.$code;
    $res = mysql_query($sql);
    while ($row = mysql_fetch_assoc($res)){
        $row['children'] = getMenuChildren($row['menu_code']);
        $children[] = $row;
    }
    return $children;
}

$class_menus = array();
$sql = 'SELECT * FROM classe_menu WHERE class_menu_parent IS NULL';
$res = mysql_query($sql);
while ($row = mysql_fetch_assoc($res)){
    $row['children'] = getMenuChildren($row['class_menu_code'],true);
    $class_menus[] = $row;
}

print_r($class_menus); 
```

# java - 如何获取 GridView 中按钮的位置，使用标签将其放置在哪里？

> ID：11338947
> 
> 赞同：0
> 
> 时间：2012-07-05T06:36:17.473
> 
> 标签：java, android

我想知道位置，使用标签位于 GridView 中的按钮的位置，并在获取位置后，使用位置从该按钮获取字母。这是代码

```
public View getView(final int position, View convertView, ViewGroup arg2) {

    View v = convertView;
    if (v == null) 
    {  
         LayoutInflater vi = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
         v = vi.inflate(R.layout.buttonlist, null);
    } 

    final Button btn= (Button)v.findViewById(R.id.letterbtn);
    btn.setText(word[position]+"");
    btn.setOnClickListener(new OnClickListener(){
        public void onClick(View v) 
        {
            btn.setTag(btn);
            String tag=btn.getTag().toString();

            btn.setVisibility(View.GONE);
        }

    });

    return v; 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T07:16:35.967

尝试这个：

```
 final Button btn= (Button)v.findViewById(R.id.letterbtn);
  // btn.setText(word[position]+"");
     btn.setTag(position);
     btn.setOnClickListener(new OnClickListener(){
       public void onClick(View v) 
       {
         // btn.setTag(btn);
         String pos=btn.getTag().toString();
         //You get a position of that button
         Log.e("position",pos); 
         //You get a word of that position
         Log.e("word",""+word[Integer.parseInt(pos)]); 

         btn.setVisibility(View.GONE);
    }

}); 
```

# lift - 提升jsonform id

> ID：11338948
> 
> 赞同：0
> 
> 时间：2012-07-05T06:36:23.090
> 
> 标签：lift, shtml

我在 myjsonclass.show 中使用 SHtml.jsonForm 通过以下命令将 jsonform 包装到 HTML 页面：

```
<div id="form" class="lift:myjsonclass.show"> 
```

它工作正常。

SHtml.jsonForm 方法为表单标签定义了一个随机 id，我想知道是否有解决方案可以获取该 id 并在 HTML 中使用它。例如，在 Javascript 中应用表单验证器会更容易。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T16:03:25.443

我已经通过访问表单的已知元素并在 javascript 中询问其父元素来解决这个问题： element.parent(); 所以我可以通过 element.attr('id') 获取表单的 id。

# c++ - 获取 Direct3D9 设备的窗口

> ID：11338949
> 
> 赞同：1
> 
> 时间：2012-07-05T06:36:23.767
> 
> 标签：c++, window, directx, direct3d, wndproc

我通过搜索 VTable 并将我自己的方法附加到所选引用函数的开头并绕道而行来连接 Direct3D9 设备。

```
D3DEndScene = (lpfnD3DEndScene)((LPVOID)dwVTable[VD3D_ENDSCENE]); // 35 dx8
D3DResetDevice = (lpfnD3DResetDevice)((LPVOID)dwVTable[VD3D_RESET]); // 14 dx8

DetourTransactionBegin();
DetourUpdateThread(GetCurrentThread());

DetourAttach(&(PVOID&)D3DEndScene, D3DEndScene_Hook);
DetourAttach(&(PVOID&)D3DResetDevice, D3DResetDevice_Hook);

DetourTransactionCommit(); 
```

这工作正常。

结果，我可以访问我称为“pDevice”的 Direct3D9 设备。

```
HRESULT WINAPI D3DEndScene_Hook (LPDIRECT3DDEVICE9 pDevice) 
```

我想提取 pDevice 正在使用的窗口句柄，以便我可以挂钩 WndProc 属性并过滤掉键盘/鼠标事件（并自己处理它们）。我知道我可以使用 SetWindowLong 来查找现有的 WndProc，但我不知道如何从设备中实际获取任何形式的窗口句柄。

我所知道的是，在方法 IDirect3D9::CreateDevice 中有一个参数 hFocusWindow ，这似乎是我正在寻找的；但我不知道创建后如何访问它。

挂钩 CreateDevice 对我来说不是一个很好的选择，因为我不会在设备创建后很久才挂钩，因此我不会及时捕获该功能。

如何获取 D3D9 设备的窗口句柄？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T14:15:24.403

这就是您要寻找的 D3D9：

[IDirect3DDevice9::GetCreationParameters](http://msdn.microsoft.com/en-us/library/bb174382%28v=vs.85%29)

您可以使用它来获取用于创建设备的创建参数，包括 hFocusWindow。

希望有帮助。

# android - 主屏幕顶部带有 FLAG_NOT_TOUCH_MODAL 标志的 Android 活动

> ID：11338951
> 
> 赞同：3
> 
> 时间：2012-07-05T06:36:34.813
> 
> 标签：android

我有一个带有 FLAG_NOT_TOUCH_MODALset 的 android 活动。我的活动是半透明的，不是全屏的。我只想将我的活动窗口边界之外的触摸事件绕过到底层活动。

我能够成功绕过该事件，以便当我的活动在它之上时我可以滚动底层活动。

我的问题是，当我的活动位于“应用程序列表”屏幕的顶部时，我无法从列表中启动任何应用程序。但是我可以滚动列表，并且所选应用程序的图标在选择时会突出显示。但它没有启动。

但是，当我的 FLAG_NOT_TOUCH_MODAL 活动位于主屏幕顶部（我们看到墙纸的地方）时，当用户单击快捷方式图标时，可以启动应用程序

请帮我解决这个问题。

提前致谢。普拉加迪什

# scala - 在Scala中将null转换为Int和Double

> ID：11338954
> 
> 赞同：10
> 
> 时间：2012-07-05T06:36:41.613
> 
> 标签：scala, casting, null

> **可能重复：**
> [如果 Int 不能为 null，那么 null.asInstanceOf[Int] 是什么意思？](https://stackoverflow.com/questions/10749010/if-an-int-cant-be-null-what-does-null-asinstanceofint-mean)

我在 REPL 中尝试了以下操作：

```
scala> null.asInstanceOf[Int]
res12: 整数 = 0

scala> null.asInstanceOf[Float]
res13: 浮点数 = 0.0

scala> null.asInstanceOf[双]
res14: 双倍 = 0.0

```

在这种情况下，它会出现运行时异常（`NPE`或`ClassCastException`）。
谁能解释*为什么*Scala 强制`null`为零？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-05T06:49:05.440

这真的很奇怪，因为这不是规范所期望的行为：

> `asInstanceOf[T]`如果符合 则返回`null`对象本身，否则抛出 a 。`T``scala.AnyRef``NullPointerException`
> 
> -- [Scala 语言规范，版本 2.9](http://www.scala-lang.org/docu/files/ScalaReference.pdf)，p。75.

这是一个[已知的错误](https://issues.scala-lang.org/browse/SI-1245)，它已关闭但与[这个](https://issues.scala-lang.org/browse/SI-4437)开放的错误相关。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-05T11:11:00.833

原因是这`null`是一个引用类型——强制转换总是转换为另一个引用类型——在这种情况下是`Int`or的盒装版本`Double`。

在下一步中，编译器将装箱对象转换为原始值。如果装箱`Int`对象是`null`，则其对应的默认原始值是`0`。

请参阅：[如果 Int 不能为 null，那么 null.asInstanceOf[Int] 是什么意思？](https://stackoverflow.com/questions/10749010/if-an-int-cant-be-null-what-does-null-asinstanceofint-mean)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T06:51:19.257

这些类型都扩展了 AnyVal，其值不能通过赋值为 null，但它响应 asInstanceOf 将它们变为零的原因却让我无法理解。它似乎只在 REPL 中这样做，但这是一个稍微特殊的情况。在实际代码中，它返回 null。

# iphone - 在 UIWebView 中看不到 UIActivityIndi cator

> ID：11338961
> 
> 赞同：1
> 
> 时间：2012-07-05T06:37:13.460
> 
> 标签：iphone, ipad, uiwebview, loading, uiactivityindicatorview

我是 iPhone 开发者的新手，

我正在我的 webview 中加载页面，加载需要太多时间，所以我想显示`ActivityIndicator`直到页面加载，

这是我的代码片段，但它不起作用，

```
activityIndicator = [[UIActivityIndicatorView alloc]initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleGray];
    activityIndicator.frame = CGRectMake(200.0, 200.0, 100.0, 40.0);
    activityIndicator.center = self.view.center;
    [self.view addSubview: activityIndicator];

    _webview=[[UIWebView alloc]init];
    [_webview setBackgroundColor:[UIColor grayColor]];
    [_webview setDelegate:(id<UIWebViewDelegate>)self];
    [self.view addSubview:_webview];

    [_webview bringSubviewToFront:activityIndicator]; 
```

...

```
 - (void)webViewDidStartLoad:(UIWebView *)webView {

     [UIApplication sharedApplication].networkActivityIndicatorVisible = YES;

     [activityIndicator startAnimating];
     activityIndicator.hidden=FALSE;
 }

- (void)webViewDidFinishLoad:(UIWebView *)webView {

    [UIApplication sharedApplication].networkActivityIndicatorVisible = NO;

    [activityIndicator stopAnimating];
    activityIndicator.hidden=TRUE;
} 
```

但我看不到我的`activityIndicator`

**任何帮助将不胜感激。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-05T06:44:22.230

您正在将`UIActivityIndicatorView`直接添加到 ，`self.view`然后您尝试`bringSubviewToFront`从`UIWebView`. 检查：

```
[self.view bringSubviewToFront:activityIndicator]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T06:43:21.030

更改 `[_webview bringSubviewToFront:activityIndicator];`为 `[self.view bringSubviewToFront:activityIndicator];`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-05T06:46:21.560

您还可以更改添加子视图的顺序。先添加webview，再添加activity indicator：

```
_webview=[[UIWebView alloc]init];
[_webview setBackgroundColor:[UIColor grayColor]];
[_webview setDelegate:(id<UIWebViewDelegate>)self];
[self.view addSubview:_webview];

activityIndicator = [[UIActivityIndicatorView alloc]initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleGray];
activityIndicator.frame = CGRectMake(200.0, 200.0, 100.0, 40.0);//you should also keep the height and width equal
activityIndicator.center = self.view.center;
[self.view addSubview: activityIndicator]; 
```

并摆脱以下行：`[_webview bringSubviewToFront:activityIndicator];`

# javascript - 如何创建简单的 jQuery 插件？

> ID：11338967
> 
> 赞同：2
> 
> 时间：2012-07-05T06:38:02.103
> 
> 标签：javascript, jquery, jquery-plugins, plugins, extend

这个测试插件应该是这样工作的：当一个元素被点击时，它会向下移动。就那么简单。

```
jQuery.fn.moveDown = function(howMuch){
    $(this).css("border", "1px solid black");
    $(this).click(function(){

        $(this).css("position", "relative");
        $(this).animate({top: '+='+howMuch});
    }); 
} 
```

问题是，当单击一个元素时，它不仅会移动单击的元素，还会移动应用插件的所有其他元素。

解决方案是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T06:44:10.613

对于插件创作尝试这种方式，更可靠：

编辑： [**这是工作 jsFiddle 示例。**](http://jsfiddle.net/ult_combo/5yKr6/6/)

* * *

插入：

```
(function($){
    $.fn.extend({
        YourPluginName: function(options) {
                var defaults = {
                      howMuch:'600',
                      animation: '',//users can set/change these values
                      speed: 444,
                      etc: ''
                }
        };

       options = $.extend(defaults, options);

       return this.each(function() {
          var $this = $(this);              
          var button = $('a', $this);// this represents all the 'a' selectors;
                                            // inside user's plugin definition.

          button.click(function() {
            $this.animate({'top':options.howMuch});//calls options howMuch value
          });
       });
})(jQuery); 
```

用户文件：

```
$(function() {
   $('#plugin').YourPluginName({
     howMuch:'1000' //you can give chance users to set their options for plugins
   });
});

<div id="plugin">
  <a>1</a>
  <a>2</a>
  <a>3</a>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-07T06:14:23.580

在这里，我想建议使用参数创建简单插件的步骤。

**JS**

```
(function($) {
    $.fn.myFirstPlugin = function( options ) {

        // Default params
        var params = $.extend({
            text     : 'Default Title',
            fontsize : 10,
        }, options);
        return $(this).text(params.text);

    }
}(jQuery)); 
```

在这里，我们添加了调用的默认对象并使用函数`params`设置选项的默认值。`extend`因此，如果我们传递空白参数，那么它将设置默认值，否则它将设置。

**HTML**

```
$('.cls-title').myFirstPlugin({ text : 'Argument Title' }); 
```

**阅读更多：** [如何创建 JQuery 插件](http://sgeek.org/create-jquery-plugin/)

**原始答案** [在这里我想建议使用参数创建简单插件的步骤](https://stackoverflow.com/a/36467948/2689199)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-21T16:37:36.667

如果您安装了 Node.js，您可以使用[create-jquery-plugin](https://www.npmjs.com/package/create-jquery-plugin) CLI 实用程序。赶紧跑

```
npx create-jquery-plugin 
```

或者，您可以克隆[jquery-plugin-boilerplate](https://github.com/techlab/jquery-plugin-boilerplate) 以开始使用。

# windows - appcfg.py 未在 cmd 提示符下运行 (Windows 7)

> ID：11338980
> 
> 赞同：4
> 
> 时间：2012-07-05T06:38:57.947
> 
> 标签：windows, cmd, scripting-language

我有奇怪的问题。我曾经运行 appcfg.py 将我的应用程序更新到 appengine，但现在它不再工作了。当我运行这个命令

```
C:\Program Files <x86>\Google\google_appengine>appcfg.py update E:\path\myApp\ 
```

它没有给我任何东西，没有错误没有反馈。它刚刚回到这条线

```
C:\Program Files <x86>\Google\google_appengine> 
```

关于这个问题的任何想法！

PS我正在使用Python 2.7。我的代码正在通过谷歌应用启动器更新，但我需要从 cmd 提示符运行它，因为我将下载/上传启动器不允许我做的 appengine 内容！

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-24T16:44:36.543

我仍然对说明有一点麻烦。这是我用来创建批处理文件以在 Windows 7 中使用 Google App Engine download_app 的步骤。

在我的例子中，

*   我将使用驱动器，**C：**
*   默认 python 路径为**C:\Python27\python.exe**
*   GAE 路径（包括“）、**“C:\Program Files (x86)\Google\google_appengine\appcfg.py”**
*   应用 ID **{your_app_id}**将只是您的应用 ID 名称
*   **{your_app_version}**是 GAE app.yaml 文件中的“版本：”编号
*   我将在我的 Windows 7 桌面上创建一个文件夹并将其命名为**GAE_App**
*   桌面文件夹路径将为**C:\Users\{username}\Desktop\GAE_App**
*   **{your email}**将是连接到您的 GAE 的 Gmail 帐户

右键单击桌面并选择新建->文本文档。打开新创建的文本文档，并将为您的设置修改的以下代码行添加到空白文本文档中，

```
C:\Python27\python.exe "C:\Program Files (x86)\Google\google_appengine\appcfg.py" download_app -A {your_app_id} -V {your_app_version} --email={your email} C:\Users\{username}\Desktop\GAE_App 
```

保存文本文档并将文件名更改为**GAE_Download.bat**

扩展名现在说“.bat”而不是“.txt”很重要

完成后，单击批处理以执行它。系统会要求您输入密码，然后文件应下载到桌面上的**GAE_App**文件夹中。现在，当您需要下载文件时，只需单击批处理文件。

不知道为什么 Google 不简单地将这个功能包含在他们的 GAE for Windows 软件中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-14T09:20:33.467

我遇到了同样的问题。这是一个简单的解决方案。只需按照以下步骤操作：

1.  转到安装了谷歌应用引擎的程序文件。通常它被命名为谷歌。

2.  单击 appcfg.py 并选择打开方式。选择“选择默认程序”。

3.  从程序中选择 Python 并选择“始终使用所选程序打开此类文件”。

4.  现在运行命令，您应该在命令行上获得结果。

[参考请点击这里](https://wordpress.com/post/44779096/125)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-20T21:24:59.990

这是一个对我有用的解决方案： "google_appengine/appcfg.py" update "C:\PATH TO APP

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-05T07:33:09.873

通过像这样访问python lib来修复

C:\Python27>python appcfg.py 更新 E:\path\myApp\

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-06-20T13:03:41.200

应该使用的 appcfg.bat 位于 **C:\Program Files\Google\Cloud SDK\google-cloud-sdk\platform\appengine-java-sdk\bin** 而*不是*空的 appcfg.bat未知原因也在这里 C:\Program Files\Google\Cloud SDK\

好的做法是将此路径添加到系统变量 PATH

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-04-21T14:15:44.780

这对我有用

**基础**

```
<PATH_TO_PYTHON>python <PATH_TO_APPCFG.PY>appcfg.py -A <PROJECT_INSTANCE_NAME> update app.yaml 
```

**例子**

```
X:\Software\Python2.7\python Q:\SOFTWARE\GoogleAppEngineSDK\appcfg.py -A great-1337 update app.yaml 
```

# maven - 如何在 Spring Security 3.1 中正确配置 http 标签？

> ID：11338985
> 
> 赞同：5
> 
> 时间：2012-07-05T06:39:25.533
> 
> 标签：maven, spring-mvc, spring-security

我的`spring-security.xml`文件有问题。我想配置一些会话设置，首先创建登录表单来维护访客和登录用户。

这是我的`spring-security.xml`标题：

```
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:security="http://www.springframework.org/schema/security"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
      http://www.springframework.org/schema/security
      http://www.springframework.org/schema/security/spring-security-3.1.xsd"> 
```

如您所见，我正在使用最新版本的 Spring Security - 3.1。当我尝试将架构版本更改为更低时，我遇到了错误。就 3.1 版本而言，我在 Eclipse 中只有黄色警告。

我的`http`标签看起来像：

```
<security:http auto-config='true'>      
    <security:intercept-url pattern="/wellcome*" access="ROLE_USER"  />
    <security:form-login login-page="/login" default-target-url="/wellcome" authentication-failure-url="/loginfailed"  />
    <security:logout logout-success-url="/logout" />
    <security:session-management invalid-session-url="/invalidsession" />
</security:http> 
```

在这个标签的第一行，我有一长串警告：

```
Multiple annotations found at this line:
- Method 'setAuthenticationEntryPoint' is marked deprecated [config set: SpringMVC/web-context]
- Method 'setSessionAuthenticationStrategy' is marked deprecated [config set: SpringMVC/web-
 context]
- Method 'setUserAttribute' is marked deprecated [config set: SpringMVC/web-context]
- Method 'setRequestCache' is marked deprecated [config set: SpringMVC/web-context]
- Method 'setKey' is marked deprecated [config set: SpringMVC/web-context]
- Method 'setSecurityContextRepository' is marked deprecated [config set: SpringMVC/web-context] 
```

另外，我在第三行还有一个警告：

```
Method 'setLoginFormUrl' is marked deprecated [config set: SpringMVC/web-context] 
```

你能解释一下我应该如何在 Spring Security 3.1 中正确定义我的`spring-security.xml`文件吗？`http`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-05T08:37:37.070

**编辑：**此问题现已在 Spring Security 3.1.2 中修复，因此如果您使用的是 3.1 或 3.1.1，请将其升级到更新版本。

**原答案：**

你的配置没问题。这是[Spring Security with STS in Eclipse 中的一个已知错误](https://jira.springsource.org/browse/SEC-1909)（另请参阅*参考 URL*中提到的论坛主题）。

现在您可以忽略警告，登录[https://jira.springsource.org](https://jira.springsource.org)并投票支持问题并等待它修复（如果您无法忍受这些警告，则删除项目的弹簧性质）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T07:04:08.607

```
<beans:beans xmlns:beans="http://www.springframework.org/schema/beans"
    xmlns="http://www.springframework.org/schema/security"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
    xmlns:util="http://www.springframework.org/schema/util"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.1.xsd
        http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.1.xsd">

<http auto-config="true" disable-url-rewriting="true" use-expressions="true"> 
        <form-login login-processing-url="/login"
            login-page="/login.html"
            default-target-url='/index.html'
            always-use-default-target='true'
/>

<logout logout-url="/logout" /> 
```

# c++ - 将 const void* 指针转换为特定的类指针

> ID：11338986
> 
> 赞同：4
> 
> 时间：2012-07-05T06:39:29.993
> 
> 标签：c++

我有如下函数声明

```
void func1(const void& * pThis) {
    MyClass* pMyClass = static_cast<MyClass*>(pThis);    //....I use PMyClass pointer.
} 
```

我收到错误无法转换`const void*`为`MyClass*`

这一步怎么做？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T06:44:30.673

你可以

```
MyClass* pMyClass = const_cast<MyClass*>( static_cast<const MyClass*>(pThis) ); 
```

但是这个可怕的语法是暗示：为什么函数有一个 const 参数，你不希望它像

```
void func1(void * pThis) { 
```

当然，您可以使用 C-style cast 走捷径：

```
MyClass* pMyClass = (MyClass*)pThis; 
```

但如果可能的话，我会改正设计。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-05T06:41:36.510

这`const`就是问题所在。它不能用`static_cast`. 鉴于您将其转换为 non-const `MyClass`，无论如何接受 const 参数是没有用的。您可以使用`const_cast`来删除 const-ness，但这会很糟糕 - 您的方法声明它不会更改参数，但实际上会更改它。

# iphone - 执行错误访问 NSString

> ID：11338987
> 
> 赞同：3
> 
> 时间：2012-07-05T06:39:34.670
> 
> 标签：iphone, ios, nsstring, uitextfield, exc-bad-access

`individualPercUpdated`被调用`UIControlEventEditingDidEnd`和`checkInitialValue`被调用`UIControlEventEditingDidBegin`。`if(!([initialValue isEqualToString:textField.text]))`通过发出警告 Exec Bad Access我的 prog 在线崩溃

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    initialValue=[[NSString alloc] init];
}

-(void) individualPercUpdated:(UITextField *)textField{

    if(initialValue!=nil){
        if(!([initialValue isEqualToString:textField.text])){
            initialValue=textField.text;
            NSLog(@"%@",textField.text);
        }
    }

    else{
        NSLog(@"%@",textField.text);
    }
}

-(void) checkInitialValue:(UITextField *)textField{
        initialValue=textField.text;
    }

} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-05T06:46:47.647

用属性替换你使用实例变量的任何地方，并通过它访问它，你不会对内存管理有任何问题。

```
@property (nonatomic, copy) NSString *initialValue;
...
@synthesize initialValue = _initialValue;
....
//Access with:
self.initialValue = @"something"; 
```

# cakephp - CakePHP 2.1 如何为单个视图生成代码？

> ID：11338989
> 
> 赞同：0
> 
> 时间：2012-07-05T06:39:43.577
> 
> 标签：cakephp, cakephp-2.1, cakephp-bake

我发现 [食谱](http://book.cakephp.org/2.0/en/console-and-shells/code-generation-with-bake.html)中的解释与我自己对烤壳的经历不符。

当我`./cake bake`从 shell 运行时，我没有得到上面指定的输出，而是要求我提供应用程序路径和框架路径，然后想要烘焙整个应用程序。

我已经编写了大部分代码，并且只想烘焙一个视图，即该视图的表单。我想拥有我从 1.3 开始就知道的交互式 shell，但我可能做错了什么。

像这样：

```
---------------------------------------------------------------
App : app
Path: /path-to/project/app
---------------------------------------------------------------
Interactive Bake Shell
---------------------------------------------------------------
[D]atabase Configuration
[M]odel
[V]iew
[C]ontroller
[P]roject
[F]ixture
[T]est case
[Q]uit
What would you like to Bake? (D/M/V/C/P/F/T/Q)
> 
```

**编辑：**

这是我刚刚运行时的输出`./cake`

```
Current Paths:

-app: Console
-working: /home/username/Aptana Studio 3 Workspace/aurinko/aurinko/app/Console
-root: /home/username/Aptana Studio 3 Workspace/aurinko/aurinko/app
-core: /home/username/Aptana Studio 3 Workspace/aurinko/aurinko/lib 
```

我的工作应用程序位于指定为 root 的路径中。为了生成单个视图，我需要将 app 设置为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:49:51.113

我想我尝试得还不够。使用此命令它可以工作：

```
./cake bake -app /home/username/Aptana\ Studio\ 3\ Workspace/aurinko/aurinko/app/ 
```

现在交互式 shell 出现在 1.3 中。

也许这对某人有帮助。

# maven - 使用 Maven 进行更好的开发

> ID：11338992
> 
> 赞同：1
> 
> 时间：2012-07-05T06:40:08.450
> 
> 标签：maven, maven-2

我正在使用 Maven 管理我的网络应用程序。Maven 将所有内容复制到 src 旁边的目标文件夹中。

缺点：您需要对 jsp 中的每个小更改运行包任务以查看更改。

我猜没有更好的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T06:50:03.857

我将 eclipse 与 m2 插件一起使用。从 Eclipse 中运行 webapp 时，它会自动将更改发布到正在运行的容器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T07:30:04.973

您可以使用由 Maven 启动的 Web 容器，例如 Eclipse Jetty 插件或 Glassfish 插件（例如），您可以设置扫描间隔，并且对 Web 资源的更改将被获取。

# c# - 嵌套实体上下文中的意外事务提交，实体框架 4.1

> ID：11338997
> 
> 赞同：0
> 
> 时间：2012-07-05T06:40:31.623
> 
> 标签：c#, entity-framework, transactions, nested, objectcontext

这是我的问题

我有两种形式，formA和formB，formB作为formA的对话框

在 formA 的范围内，定义为

```
EntityContext contextA = new EntityContext(); 
```

在formA的某处，它调用

```
new formB().ShowDialog(); 
```

调用 ShowDialog() 后，它带有

```
contextA.SaveChanges(); //<<<A>>> 
```

在 formB 类中，定义为

```
EntityContext contextB = new EntityContext(); 
```

在某处触发

```
{
bool transactionSucceed = false;
using(Transaction transaction = new Transaction())
{
  contextB_DataOperations(); 
  contextB.SaveChanges();
  transaction.complete();
  transactionSucceed = true;
}
if(transactionSucceed)
  contextB.AcceptAllChanges(); // <<<B>>>
} 
```

formB 是一次性的，在处理时，它调用

```
contextB.Dispose(); 
```

问题出在哪里，预期的事务操作数据`<<<B>>>`提交时间，实际上是提交时间`<<<A>>>`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T09:24:20.560

嗨，简单的方法是

```
 using (TransactionScope tx = new TransactionScope(TransactionScopeOption.RequiresNew))
{
    contextB_DataOperations(); 
    contextB.SaveChanges();
    contextB.AcceptAllChanges();
    TransactionScope .complete();

} 
```

希望这会有所帮助

# javascript - 如何生成带边界的谷歌地图？

> ID：11338999
> 
> 赞同：1
> 
> 时间：2012-07-05T06:40:41.050
> 
> 标签：javascript, google-maps, google-api

我有个问题。现在我用这个函数生成我的地图：

```
function mapStart() {
var center = new google.maps.LatLng(c1, c2);
var MapOption = {
zoom: 6,
center: center,
mapTypeId: google.maps.MapTypeId.ROADMAP
};
var map = new google.maps.Map(document.getElementById("mapka"), MapOption); 
```

我的问题是 - 我如何在没有“中心”类型但有边界的情况下生成这张地图？例如：带边界的新地图：

```
NorthEast = 51;
NorthWest = 55;
SouthEast = 45;
SouthWest = 44; 
```

[这只是一个随机数]

我怎么能这样做？

问候！

编辑#这是我的新代码

```
 var test1 = "(" + nelat + ", " + nelng + ")";
        var test2 = "(" + swlat + ", " + swlng + ")";
        //alert(test1); => (50.355089589491605, 25.734125341796926)
        //alert(test2); => (49.467221440947704, 23.806024755859426)
        var newbounds = new google.maps.LatLngBounds(test1, test2);

        function mapaStart() {
            var center = new google.maps.LatLng(c1, c2);
            var MapOption = {
                zoom: 6,
                center: center,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var map = new google.maps.Map(document.getElementById("mapka"), MapOption);
            map.fitBounds(newbounds); 
```

但是这段代码不能正常工作。当我按 ctrl+shift+j 时，出现此错误：

> 错误：a.lat 不是函数来源：
> 
> [http://maps.gstatic.com/intl/pl_ALL/mapfiles/api-3/9/8/main.js](http://maps.gstatic.com/intl/pl_ALL/mapfiles/api-3/9/8/main.js)

如何解决这个问题呢？

问候！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T07:02:55.363

1.  从您的号码创建[google.maps.LatLngBounds](https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds)

2.  调用[Map.fitBounds](https://developers.google.com/maps/documentation/javascript/reference#Map)方法

`map.fitBounds(bounds);`