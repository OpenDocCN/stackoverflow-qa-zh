# StackOverflow 问答 11839000-11839999

# android - 为什么Camera需要在Activity的onPause()而不是onstop()方法中释放？

> ID：11839000
> 
> 赞同：4
> 
> 时间：2012-08-07T03:51:29.623
> 
> 标签：android, api, camera, mediarecorder

我似乎遗漏了一些东西，因为我不明白为什么在 Android 文档[（Android Camera 文档链接）](http://developer.android.com/guide/topics/media/camera.html)中建议在 onPause() Activity 回调中释放 Camera 对象（以及 MediaRecorder）？到那时 Activity 仍然可能是可见的，并且 Camera 可能正在运行预览，那么为什么当 Activity 已经隐藏时，Camera 对象会在 onPause() 而不是 onStop() 中释放？我知道 MediaRecorder 对象可以在 onPause() 中停止，但相机本身对我来说没有意义。我在这里想念什么？Android 文档中的一段代码如下（在“释放相机”标题下）：

```
 @Override
protected void onPause() {
    super.onPause();
    releaseMediaRecorder();       // if you are using MediaRecorder, release it first
    releaseCamera();              // release the camera immediately on pause event
}

private void releaseMediaRecorder(){
    if (mMediaRecorder != null) {
        mMediaRecorder.reset();   // clear recorder configuration
        mMediaRecorder.release(); // release the recorder object
        mMediaRecorder = null;
        mCamera.lock();           // lock camera for later use
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T04:17:47.140

一旦您的活动收到 onPause 消息，这意味着用户可能正在使用或将要使用其他应用程序.. 在这种情况下，如果他尝试通过其他应用程序使用相机，则相机必须由您的应用程序释放或释放。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T04:18:18.500

根据[应用程序生命周期](http://developer.android.com/guide/components/activities.html#Lifecycle)

```
Paused
    Another activity is in the foreground and has focus, but this one is 
            still visible. That is, another activity is visible on top of this 
            one and that activity is partially transparent or doesn't cover the 
            entire screen. (...) 
```

我认为文档遵循“尽快释放资源”的经验法则：`onPause`早于`onStop`.

**背景窗口中的摄像头需要能量**，而用户必须注意弹出窗口。

背景中的相机当然更舒适，但对于手机的电池寿命来说，时间更重要。

拦截您的活动的弹出窗口可能需要摄像头和/或可能需要大量内存。

在您的场景中，当相机应在后台继续录制时，相机的生命周期和录制应由服务控制

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-04T07:41:02.293

> 由于`onStop`() 不能保证被调用，你不能总是在 onStop() 中做`onPause().`

**[详细回答](https://stackoverflow.com/a/19795351/3496570)**

`onPause()`总是被调用。这是有保证的。如果您需要在您的活动中保存任何状态，您`onPause(). onStop()`可能会在 onPause() 之后调用您需要保存的状态，也可能不会。视情况而定。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-07T03:58:30.230

onPause 意味着您的活动不再可见。

仅当 Android 认为不再需要您的进程时才会调用 onStop。

# c# - 用于网络通信的良好 EOF 字节

> ID：11839012
> 
> 赞同：3
> 
> 时间：2012-08-07T03:52:59.747
> 
> 标签：c#, sockets, tcp, network-programming, eof

我正在为交钥匙网络通信编写 ac# 库。我正在寻找一个明确的字节，我可以在我的库中使用它来指示数据块的结束。目标是能够发送任何格式的文件或字符串。Null 字符是否会这样做，这样它就不会破坏 TCP 连接，并且任何文件或字符串都不应该在它的数据中包含它。

提前致谢。

编辑：顺便说一句，客户端和服务器都是我的库的一部分，因此它不需要遵守任何其他标准。

回答后：我将创建一个 X 字节数组，然后使用最后一个字节来指示 EOF 是否以及位于 (X-1) 字节块中的位置。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-07T04:00:23.313

**你问不可能**

“任何文件或字符串”可以包括任何字节序列。

这使得完全不可能找到 EOF 字节。即使是字节序列也不能保证在所有情况下都有效。

**解决方案：预先知道文件大小**

将要跟随的数据长度作为通信标头的一部分发送。

**解决方案：文件大小未知/流式传输**

定义一个数据结构，该结构包含一个标记，是否有更多数据与文件内容分开。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-07T03:59:46.487

根据定义，这似乎是不可能的。总是表示数据结束的单个字节？但是您希望能够发送任何文件，其中可能包括可以包含任何字节的二进制文件。很明显，您需要对文件内容进行限制才能为 EOF 保留一个字节。

就像评论中提到的 Blorgbeard 一样，先看看发送数据的长度。这可以是商定的字节数，表示数据的有效负载将多长时间。您的程序读取此元数据以了解在数据包结束之前应该读取多少字节。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-12T23:36:29.540

另一种解决方案是“转义”数据主体中的任何终止字符，例如。如果使用 NUL 作为终止符，请将任何 NUL 替换为 [ESC][SOH] 并将任何 [ESC] 替换为 [ESC][ESC]。

这适用于任何长度的任何流数据，但它确实意味着在两端迭代数据。

# ios - 越狱应用程序开发构建和运行应用程序

> ID：11839016
> 
> 赞同：1
> 
> 时间：2012-08-07T03:53:56.877
> 
> 标签：ios, xcode, jailbreak

我一直在为 iOS 开发一个应用程序一段时间。该应用程序在沙箱中运行良好，但我想从该`/Applications`目录运行该应用程序。

我在手机上获取应用程序的程序是：

1.  产品 -> 构建 -> 测试

2.  $ scp -r ~/Projects/KegCop/DerivedData/KegCop/Build/Products/Debug-iphoneos/KegCop.app

3.  $ killall -HUP 跳板

Spring Board 重新启动后，我尝试启动该应用程序，但它一启动就退出了。我安装了 AppSync for 5.x，就像我说的，如果我将应用程序留在其中，`/var/mobile/Applications/`它似乎可以按预期工作。

当我尝试从目录启动它时，有谁知道为什么我的应用程序退出`/Applications`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T23:36:58.590

[解决了]

1) 确保您的发布文件是*Release*而不是*Release.txt*

2) 确保生成有效的 Packages 文件。

我生成的*.deb*文件是有效的，但我的*包*是 foobar。

更改到本地 repo 目录后，我使用了以下命令*$ dpkg-scanpackages debs /> Packages 。*

然后我重新上传了所有内容，关闭了 Cydia，我的应用程序成功安装了 \o/

干杯-克里斯

# php - 如何引用另一个页面的 ID 作为 Javascript 中的变量

> ID：11839017
> 
> 赞同：1
> 
> 时间：2012-08-07T03:53:59.170
> 
> 标签：php, javascript, xml, include

所以在大家的帮助下，我终于在我的画廊网站上取得了一些进展，非常感谢。现在我有最后一个，希望是非常简单的问题。首先，这是场景：

由于我是 Javascript 新手，我正在尝试学习 javascript，因为我深入研究了 jquery，所以我尝试在（我相信这个术语）vanilla javascript 中做所有事情。在不深入所有代码的情况下，我为我的作品创建了一个画廊，该画廊在页面顶部有一个拇指滑块和一个显示所选作品（包括其他视图、描述、标题等）的字段。现在我没有采用多数组，而是构建了一个名为“gallery/php”的页面，该页面包含所有将被调用到该字段中的预构建 div（标题为“通用”）。使用InnerHTML，我正在制作一个简单的呼叫，以便选择所需的缩略图时，它调用相应的DIV通过ID并将其写入“通用”DIV。

够简单...

问题是我有大约 40 个，如果我做一个 php 包含并将包含隐藏在一个隐藏的 div 中而艺术品不显示它需要永远加载页面，这似乎是一个非常糟糕的主意。我想做的是修改我现在正在使用的函数，这样它就不会在当前页面上调用 id，而是知道要引用哪个外部页面以及要拉取和填充“通用”的 div（基于 id） div 与。该脚本当前如下所示：

```
function changeDiv(art) {
        viewer = document.getElementById('generic'),
        targetInfo = document.getElementById(art);
        viewer.innerHTML = targetInfo.innerHTML; 
} 
```

我想做的是（忽略语法）：

```
function changeDiv(art) {
    viewer = document.getElementById('generic'),
    targetInfo = ***src = gallery.php, #(art);***
    viewer.innerHTML = targetInfo.innerHTML; 
} 
```

我看到的唯一与我想做的类似的事情是 jquery 中的 .load() 但我不知道如何将其翻译回 javascript。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:23:18.220

行！这是我的尝试。请注意，虽然这可能应该通过 AJAX 库（如 jQuery）进行审查，但这不是 OP 所要求的。

**另外，我不知道gallery.php 的设置，所以我尽了最大努力。

**我也知道这很可怕，没有验证或其他任何好处，但这更多是概念证明。（那些实用程序员的跟踪代码）

假设您有一个 gallery.php 设置如下：

```
<?php
    $pull = $_GET["pull"];
    $gallery[0] = "<div>Your art work img tags here</div>";
    $gallery[1] = "<div>Some more art work</div>";
    //Pull from the changeDiv parameter in the JavaScript below.
    echo $gallery[$pull];
?> 
```

我们将使用一些 JavaScript，如下所示：

```
var changeDiv = function(pull) {
    //Pull parameter indicates an array 
    //index within the gallery.php $gallery array

    var ajaxObj;

    //Our AJAX objet shall be declared
    if(window.XMLHttpRequest) {
        ajaxObj = new XMLHttpRequest();
    }
    else {
        ajaxObj = new ActiveXObject("Microsoft.XMLHTTP");
    }

    //When the ajaxObj changes it's ready 
    //state, do this stuff below
    ajaxObj.onreadystatechange = function() {
        //But only if the ready state is 
        //really ready and the status is good to go
        if(ajaxObj.readyState==4 && ajaxObj.status==200) {
            var response = this.responseText;
            document.getElementById("viewer").innerHTML=response;
        }
    }
    //Open the async connection to 
    //gallery.php and send your GET 
    //global (pull)
    ajaxObj.open("GET","gallery.php?pull="+pull,true);

    //Send it and pray
    ajaxObj.send();
} 
```

[http://www.smashingmagazine.com/2008/10/16/50-excellent-ajax-tutorials/](http://www.smashingmagazine.com/2008/10/16/50-excellent-ajax-tutorials/) - AJAX 的一些教程列表

# windows - 在 Windows 7 的 shell 新上下文菜单中添加非文件类型

> ID：11839018
> 
> 赞同：3
> 
> 时间：2012-08-07T03:54:22.540
> 
> 标签：windows, windows-7

我已经知道如何使用 regedit 在 Windows 7 的新菜单中添加特定的扩展名，但现在我想添加 FILE 类型（即**没有扩展名的纯文件**），我该怎么做？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-08T09:00:24.490

啊，我用谷歌做对了。这是解决方案：
1\. 创建任何扩展名的键或只是一个“。” 在 HKEY_CLASSES_ROOT 中，并设置默认值“genericfile”
2\. 在刚刚创建的扩展中创建 ShellNew 3.在 ShellNew 中创建
一个名为“NullFile”且值为空的
字符串 4.在其中创建键“Config” 'ShellNew' 和配置中名称为 'NoExtension' 且值为空的
字符串 5\. 在 HKEY_CLASSES_ROOT 中创建键 'genericfile'，并将默认值设置为要在新上下文值中显示的文本（例如“新的空文件”）

希望对你有很大帮助:-)

# c++ - 异常处理麻烦，为什么？

> ID：11839019
> 
> 赞同：0
> 
> 时间：2012-08-07T03:54:27.593
> 
> 标签：c++, visual-c++

这是我的主要内容：

```
int main() {
  Inventory Master;
  bool flag;
  Customer Bob("Bob", "CreditCard.txt");
  Customer Joe("Joe", "CreditCard.txt" );

  Master.firststock( "inventory.txt" );
  vector<Food> temp = Master._Inv;
  cout <<"Hi, What would you like to buy today?" << endl;
  for(unsigned int i=0; i<temp.size(); i++ ) {
    cout << temp[i].name << " " << temp[i].quant << " " << temp[i].price << endl;
  }

  cout <<"\n";
  Food Apple("Apples", .99, 10);
  Food Orange("Oranges", .99, 10);
  Food Chip("Chips", 3.00, 10);

  cout <<"\nHi Bob" << endl;
  flag = Bob.addCart(Apple, 7, &Master);
  cout <<"Bob's total purchases are Currently: \n";
  Bob.report();
  flag = Bob.addCart(Orange, 2, &Master);
  flag = Bob.addCart(Chip, 2, &Master);
  Bob.report();
  flag = Bob.removeCart();
   Bob.report();
  cout <<"Bob, ";
  flag = Bob.checkout(&Master); 
```

这是我为从矢量_Cart 中移除食物而实施的以下操作：

```
bool Customer::removeCart() {
  bool flag;
  int q = 0;
  unsigned int i=0;
  string remove;

  cout << "\nWhat would you like to remove and how much would you like to remove?" << endl;
  cin >> remove >> q;
 for (i =0; i < _Cart.size(); i++) {
  if(remove == _Cart[i].name) {
      if (q >= 0) {
    _Cart[i].quant -= q;
    //inv->_Inv[i].quant += q;
    cout <<"\nYou removed " << q << " " << remove <<" In your cart\n" << endl;
    return true;
      }
      if  (q < 0) {
          cout << "Invalid number of " << remove << " being removed.\n" << endl;
          return true;
      }
  }
  else {      
  try {
    throw remove;
}

  catch (string param) {
    cout << "\n" << remove << " doesn't exist in your cart\n" << endl;
        }

        return true;
    }
 } 
```

我的标题包含函数 removeCart：

```
class Customer {
  public:

   Customer(string n, string fileName);
    ~Customer() { _Cart.clear(); };
    bool addCart(Food f, int q, Inventory* inv);
    bool removeCart();
    void report(); 
    bool checkout(Inventory* inv); 
  protected:
    string remove;
    string name;
    int q;
    int card;
    double balance;
    CreditCard _CC(int card,double balance);
    vector<Food> _Cart;
}; 
```

现在由于某种原因，当我调用 removeCart 时，输入“Apples”有效，但我注意到我制作了一个名为 Apple 的食物对象，所以不知道为什么输入“Apples”而不是“Apple”可以删除。此外，当我尝试“Orange”或“Chip”时，会显示异常，但正如您在 main 中看到的那样，我将 Chip 和 Orange 添加到 Bob 的购物车中。我很感激帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:59:31.030

您已经在代码中的某处*声明*了一个**对象。**`Apple`

然后，您已经**实例化**了一个`Apple`类的实例并将`Apple::name`成员设置`'Apples'`为字符串。

您不是将*输入*与*类名进行比较，而是将**输入与***类**的**成员数据进行`Apple`**比较。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T04:23:03.530

您正在制作一个名为 Apple 的对象，其中包含一个 std::string 类型的成员，其中包含字符“Apples”。只有您的编译器知道您调用了一个对象 Apple，但您的程序将字符串“Apples”与您的输入进行比较。与橙色和芯片相同。

# python - 返回基于频率分布的文章 - Python NLTK

> ID：11839021
> 
> 赞同：0
> 
> 时间：2012-08-07T03:54:29.577
> 
> 标签：python, nlp, nltk

有人知道使用 Python 和 NLTK 获取最接近搜索查询的文章的简单方法吗？例如，我想从 Wikipedia 中获取 10 篇文章，找到每篇文章的频率分布（以及另一种分类方法，如果您有任何建议），然后根据搜索查询，返回您最有可能的文章可能是指。

有任何想法吗？我想要一个比频率分布更好的方法，但我想我会从那里开始。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T08:43:28.580

Rocchio 的算法 aka [TFxIDF](http://en.wikipedia.org/wiki/Tf%2aidf) aka aka tf-idf aka tfidf aka even tf/idf (sic) 几乎是标准解决方案。您可以计算整个文档集的词频，而不是直接计算词频，然后将词的权重表示为文档的词频除以总频数。这样，您就不需要停用词，因为普通词的 IDF 会使它的权重几乎为零。

# c# - 如何从cs文件中调用一个类来更新或保存数据库中过期的会话？

> ID：11839024
> 
> 赞同：0
> 
> 时间：2012-08-07T03:54:43.117
> 
> 标签：c#, sql, session-timeout

我有一个如下的类函数&我想用这个类被调用到我的母版页中。然后，将页面的登录和注销时间保存到我的数据库中。

```
namespace LogInLogOut
{
    public partial class LogInLogOut : System.Web.UI.Page
   {        
       public static void updateLogoutTime(string username, string pcname, string module)
        {
          String connectionString = ConfigurationManager.ConnectionStrings["VSConfigConnectionString"].ConnectionString;
            SqlConnection connection = new SqlConnection(connectionString);
            SqlCommand cmd = new SqlCommand("UPDATE [Access]  set LogOutDate =  '" + DateTime.Today.ToString("dd/MM/yyyy") + "', LogOutTime =  '" + DateTime.Now.ToString("HH:mm:ss") + "' WHERE LoginID ='" + username + "' AND ModuleID = '" + module + "' AND comptname ='" + pcname + "' AND LogOutDate= ' '", connection);
            cmd.Connection.Open();
            cmd.ExecuteNonQuery();
            cmd.Connection.Close();
            cmd.Connection.Dispose();
        }
     }
} 
```

这是母版页中用于弹出消息的代码，但我不知道将调用上层类的调用函数写入我的母版页。希望任何人都可以帮助我解决这个问题。谢谢你。

```
protected void Page_Load(object sender, EventArgs e)
    {
        string csname = "timeoutWarning";
        Type cstype = this.GetType();
        if (!Page.ClientScript.IsStartupScriptRegistered(cstype, csname))
        {
            string strconfirm = "<script>" +
                "window.setTimeout('SessionTimeOutHandler()', 10000);" +
                "function SessionTimeOutHandler() { " +
                "alert('Your login session is expired');" +
                "function(){ update(document.LogInLogOut('lblUserName.Text', 'lblComputerName.Text', 'UR')); } " + 
               "window.location='../login.aspx';" +
                " } </script>";
            Page.ClientScript.RegisterStartupScript(cstype, csname, strconfirm, false);
        }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T04:22:34.097

你不能在你的 javascript 代码中调用这样的服务器函数。

要调用服务器函数，您必须先向服务器发送请求。这通常是 asp.net 中的回发。

如果您确实想调用这样的函数，则必须将其标记为`WebMethod`. Asp.net 将隐藏调用该函数所需的所有 js。

[这个关于WebMethods](http://geekswithblogs.net/frankw/archive/2008/03/13/asp.net-ajax-callbacks-to-web-methods-in-aspx-pages.aspx)的博客将帮助您入门。

您的代码应如下所示：

```
 [System.Web.Services.WebMethod()] 
 [System.Web.Script.Services.ScriptMethod()] 
 public void LogoutTime(string username, string pcname, string module)
    {
      String connectionString = ConfigurationManager.ConnectionStrings["VSConfigConnectionString"].ConnectionString;
        SqlConnection connection = new SqlConnection(connectionString);
        SqlCommand cmd = new SqlCommand("UPDATE [Access]  set LogOutDate =  '" + DateTime.Today.ToString("dd/MM/yyyy") + "', LogOutTime =  '" + DateTime.Now.ToString("HH:mm:ss") + "' WHERE LoginID ='" + username + "' AND ModuleID = '" + module + "' AND comptname ='" + pcname + "' AND LogOutDate= ' '", connection);
        cmd.Connection.Open();
        cmd.ExecuteNonQuery();
        cmd.Connection.Close();
        cmd.Connection.Dispose();
    } 
```

您现在可以使用 javascript 在 javascript 中调用此函数`PageMethods`

```
PageMethods.LogoutTime('lblUserName.Text', 'lblComputerName.Text', 'UR', update); 
```

如果您想在所有页面上而不是在单独的页面上，您应该将该功能放在您的母版页中。

# c - fseek vs倒带？

> ID：11839025
> 
> 赞同：17
> 
> 时间：2012-08-07T03:54:46.983
> 
> 标签：c, fopen, fseek

我注意到有两种方法可以返回文件的开头

```
FILE *fp = fopen("test.bin", "r")
fseek(fp, 0, SEEK_END);
rewind(fp); 
```

和

```
FILE *fp = fopen("test.bin", "r")
fseek(fp, 0, SEEK_END);
fseek(fp, 0, SEEK_SET); 
```

如果这些方法之间有什么区别？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-08-07T04:00:10.070

它们基本上是完成同一件事的两种不同方法：将指针设置为文件的开头。唯一的区别是`rewind`也清除了错误指示器。

如果可以选择，您应该使用`fseek`. 这是因为`rewind`不返回指示操作是否成功的整数。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-21T00:51:36.280

如果`fseek()`返回成功，它也会清除文件结束指示符，`rewind()`而不会这样做

# flex-mobile - 在图像 flex 移动（ios）中应用蒙版/过滤器

> ID：11839027
> 
> 赞同：0
> 
> 时间：2012-08-07T03:55:09.387
> 
> 标签：flex-mobile

如何在某些图像中添加蒙版/滤镜？！这就像 Instagram 过滤器！（我有一个图像，然后我选择一个过滤器，然后将所有内容放在一个图像中。）

# android - android: 如何从 Android Support Lib 版本 4 向 PagerTabStrip 添加图标/drawables？

> ID：11839031
> 
> 赞同：25
> 
> 时间：2012-08-07T03:55:52.447
> 
> 标签：android, android-layout, android-viewpager, android-tabs

android: 如何从 Android Support Lib 版本 4 向 PagerTabStrip 添加图标/drawables？

对于了解 PagerTabStrip 的人来说，这是一个非常具体的问题，我在任何地方都找不到足够的示例，它在某种程度上是新的（PagerTabStrip），所以我找不到足够的信息。

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2012-10-11T10:35:05.590

您可以使用 SpannableString 或 SpannableStringBuilder 轻松地将图标/drawable 添加到 PageTabStrip。

例如，在文本之前显示一个图标：

```
Drawable myDrawable; //Drawable you want to display

@Override
public CharSequence getPageTitle(int position) {

    SpannableStringBuilder sb = new SpannableStringBuilder(" Page #"+ position); // space added before text for convenience

    myDrawable.setBounds(0, 0, myDrawable.getIntrinsicWidth(), myDrawable.getIntrinsicHeight()); 
    ImageSpan span = new ImageSpan(myDrawable, ImageSpan.ALIGN_BASELINE); 
    sb.setSpan(span, 0, 1, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE); 

    return sb;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-05-03T14:53:33.550

@MatthewHousser 如果 SteveR 的解决方案不起作用，可能是因为您在 XML 的 PagerTabStrip 中设置了固定大小。这就是我所拥有的：

```
<android.support.v4.view.PagerTabStrip
        android:id="@+id/pager_tab_strip"
        android:layout_width="match_parent"
        android:layout_height="30dp">
</android.support.v4.view.PagerTabStrip> 
```

这就是我现在拥有的：

```
<android.support.v4.view.PagerTabStrip
        android:id="@+id/pager_tab_strip"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">
</android.support.v4.view.PagerTabStrip> 
```

图像在第一种情况下没有显示，而在第二种情况下显示。希望它会有所帮助。

# xcode - XCode：将“if (...) {”的自动完成更改为“if (...) [new line]{”

> ID：11839035
> 
> 赞同：0
> 
> 时间：2012-08-07T03:56:56.080
> 
> 标签：xcode, autocomplete

> **可能重复：**
> [Xcode 4 在新行上带有左大括号](https://stackoverflow.com/questions/5120343/xcode-4-with-opening-brace-on-new-line)

有没有办法将自动添加括号更改为从新行开始？所以：

```
if (a != 0) {
} 
```

当添加 { 时，它会像：

```
if (a != 0)
{
} 
```

这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T04:29:21.177

Xcode 4.2 之后有点棘手。如果你想自己做，你可以检查[这个答案。](https://stackoverflow.com/a/5763379/609086)

还有一个名为[Snippet Edit](http://cocoaholic.com/snippet_edit/)的应用程序可以为您完成。但它不是免费的...

# android - 在android中单击EditText时如何使背景向上推送（如android中的facebook登录）

> ID：11839042
> 
> 赞同：0
> 
> 时间：2012-08-07T03:58:12.380
> 
> 标签：android, android-edittext, facebook-login

我试图让我的登录页面像 facebook 登录。一切都已完成，但尚未完成的一件事是，当我单击电子邮件时，键盘盖住了我的密码，因此我无法输入密码。单击电子邮件时如何使我的电子邮件密码登录按钮向上推？这是我的xml。

```
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <LinearLayout
        style="@style/bg_layout"
        android:layout_width="match_parent"
        android:layout_height="533dp"
        android:orientation="vertical"
        android:weightSum="2" >

        <RelativeLayout
            android:layout_width="wrap_content"
            android:layout_height="41dp"
            android:background="@drawable/navbar_stay"
            android:paddingRight="5dp" >

            <ImageButton
                android:id="@+id/imageButton1"
                style="@style/st_close"
                android:layout_width="30dp"
                android:layout_height="30dp"
                android:layout_alignParentLeft="true"
                android:layout_alignParentTop="true"
                android:src="@drawable/click_close" />

            <ImageView
                android:id="@+id/btn_upload"
                style="@style/st_upload"
                android:layout_width="30dp"
                android:layout_height="30dp"
                android:layout_alignParentRight="true"
                android:layout_alignTop="@+id/imageButton1"
                android:src="@drawable/click_upload" />
        </RelativeLayout>

        <EditText
            android:id="@+id/editText1"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="#00000000"
            android:ems="10"
            android:focusable="false"
            android:hint="What are you doing here"
            android:paddingLeft="10dp" >

            <requestFocus />
        </EditText>

        <Space
            android:layout_width="match_parent"
            android:layout_height="200dp" />

        <RelativeLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:paddingRight="5dp" >

            <ImageView
                android:id="@+id/im_upload"
                android:layout_width="80dp"
                android:layout_height="60dp"
                android:layout_alignParentLeft="true"
                android:layout_alignParentTop="true"
                android:layout_marginLeft="10dp"
                android:paddingRight="5dp"
                android:scaleType="fitXY"
                android:src="@drawable/card_base" />

            <LinearLayout
                android:id="@+id/linearLayout1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignBottom="@+id/im_upload"
                android:layout_toRightOf="@+id/im_upload"
                android:background="@drawable/fillbox_place"
                android:orientation="vertical" >

                <EditText
                    android:id="@+id/editText2"
                    android:layout_width="197dp"
                    android:layout_height="40dp"
                    android:layout_gravity="right"
                    android:background="#00000000"
                    android:ems="10"
                    android:hint="What is the name of this place?"
                    android:textSize="12sp" />
            </LinearLayout>

            <DigitalClock
                android:id="@+id/digitalClock1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_above="@+id/linearLayout1"
                android:layout_alignLeft="@+id/linearLayout1"
                android:text="DigitalClock" />
        </RelativeLayout>
    </LinearLayout>
</LinearLayout>

</ScrollView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T03:46:53.493

尝试通过设置滚动视图的高度

# android - Android：我怎样才能完全中止/删除粘性广播

> ID：11839043
> 
> 赞同：5
> 
> 时间：2012-08-07T03:58:22.060
> 
> 标签：android, broadcastreceiver

我们可以删除一个**有序广播**，`abortBroadcast()`有没有办法完全删除一个**粘性有序广播**？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-07T04:14:46.570

`removeStickyBroadcast`正是您需要的：

```
public abstract void removeStickyBroadcast (Intent intent) 
```

> **自**：API 级别 1
> 
> 删除之前用 发送的数据`sendStickyBroadcast(Intent)`，这样就好像粘性广播从未发生过一样。
> 
> 您必须拥有`BROADCAST_STICKY`权限才能使用此 API。如果您不持有该权限，则会抛出 SecurityException。
> 
> **参数**
> 
> *意图* 先前广播的意图。

[http://developer.android.com/reference/android/content/Context.html#removeStickyBroadcast(android.content.Intent)](http://developer.android.com/reference/android/content/Context.html#removeStickyBroadcast(android.content.Intent))

# ios - 如何将 UIAppearance 代理属性应用于 UILabel？

> ID：11839044
> 
> 赞同：30
> 
> 时间：2012-08-07T03:58:24.767
> 
> 标签：ios, uilabel, uiappearance

在尝试将 UIAppearance 代理样式应用于 UILabel 类代理时，我得到了不可靠的结果。例如，以下工作如我所料：

```
[[UILabel appearance] setFont:[UIFont fontWithName:SOME_FONT size:SOME_SIZE]];
[[UILabel appearance] setShadowColor:[UIColor blackColor]]; 
```

设置 textColor 不起作用，但是，这个：

```
[[UILabel appearance] setColor:[UIColor greenColor]]; 
```

确实有效。*那种*。它有点不可靠，并导致任何特定于实例的调用`setTextColor:`被忽略。

将 UIAppearance 样式应用于 UILabel 的正确方法是什么？

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2012-08-07T04:16:20.273

好的，事实证明您**无法**使用`UIAppearance`代理设置任何 UILabel 属性的样式。

虽然`UILabel`该类符合`UIAppearanceContainer`协议，但对 UILabel.h 的检查表明它的所有属性都没有标记`UI_APPEARANCE_SELECTOR`，这是使用的先决条件`UIAppearance`。

臭虫。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-13T15:26:47.397

我已经继承了 UILabel

```
@interface SmallLabel : UILabel

@end

@implementation SmallLabel

- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
    }
    return self;
}

@end 
```

然后我使用appearanceWhenContainedIn：

```
UIFont *smallFont = [UIFont fontWithName:@"Arial" size:15];
[[SmallLabel appearanceWhenContainedIn:[UIView class], nil] setFont:smallFont]; 
```

这可以为我的应用程序中的所有 SmallLabels 使用所需的字体。我只需要在 XCode 身份检查器中将自定义类设置为 SmallLabel。它似乎不适用于以编程方式创建的标签，仅适用于 NIB 中的标签。

经过进一步测试，这种方法并不总是可靠地工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-08-15T18:39:32.443

在 Swift 中，您可以执行以下操作来自定义包含在 UITableViewHeaderFooterView 中的 UILabel 的外观属性：

```
UILabel.appearance(whenContainedInInstancesOf: [UITableViewHeaderFooterView.self]).font = UIFont.boldSystemFont(ofSize: 18)
UILabel.appearance(whenContainedInInstancesOf: [UITableViewHeaderFooterView.self]).textColor = .white 
```

当您在以下位置使用 UITableViewHeaderFooterView 时，这将应用于 textLabel 属性：

```
 public func tableView(_ tableView: UITableView, viewForHeaderInSection section: Int) -> UIView? {
    var headerView = tableView.dequeueReusableHeaderFooterView(withIdentifier: headerViewId)
    if headerView == nil {
        headerView = UITableViewHeaderFooterView(reuseIdentifier: headerViewId)
    }
    headerView?.textLabel?.text = "My Header".uppercased()
    return headerView
} 
```

这在使用 UITableViewStyle.grouped 时确实很有帮助，因为即使您在 viewForHeaderInSection 中自定义 UITableViewHeaderFooterView.textLabel，这些节标题视图似乎也被默认样式覆盖

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-18T12:53:17.450

以下代码适用于我使用 swift 2.2 和 iOS 9.0

```
 let textFieldInsideSearchBar = self.searchBar?.valueForKey("searchField") as? UITextField
    textFieldInsideSearchBar?.textColor = BCGConstants.Colors.darkBluishPurpleColor()

    let textFieldInsideSearchBarLabel = textFieldInsideSearchBar!.valueForKey("placeholderLabel") as? UILabel
    textFieldInsideSearchBarLabel?.textColor = UIColor(red: 220/255, green: 209/255, blue: 231/255, alpha: 1.0)`enter code here` 
```

# android - 从 XML 膨胀 UI

> ID：11839047
> 
> 赞同：1
> 
> 时间：2012-08-07T03:58:33.783
> 
> 标签：android, xml, android-layout, android-xml, android-inflate

我有一个非常基本的程序，它显示一个标准的 Textview 和一个扩展的 Textview。扩展的将被膨胀到主布局中。现在每次我添加一个新的扩展文本视图时，它看起来都很好，但我也希望它们之间有一些差距。这可能意味着我必须为我的 xml 文件添加边距。谁能帮助我如何实现这一目标？

**编辑：我尝试在我的主布局文件中添加适当的标签（android:layout_marginBottom="25dip"），但间隙不会显示。请检查我的源代码并帮助我。问候**

这是我的程序的源代码：

# **ExpenseWatchActivity.java（这是主要的Activity）**

```
package com.app.expensewatch;

import android.app.Activity;
import android.os.Bundle;
import android.widget.LinearLayout;
import android.widget.TextView;
import java.util.Calendar;
import android.view.LayoutInflater;
import android.content.Context;

public class ExpenseWatchActivity extends Activity {
    /** Called when the activity is first created. */

    @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    LinearLayout ll = (LinearLayout)findViewById(R.id.mainlayout);

    int day,mon,yr;

    Calendar cal = Calendar.getInstance();

    day = cal.get(Calendar.DATE);
    mon = 1 + cal.get(Calendar.MONTH);
    yr = cal.get(Calendar.YEAR);

    String text = getResources().getString(R.string.hello, day , mon , yr);

    TextView tx1 = (TextView)findViewById(R.id.text1);
    tx1.setText(text);

    LayoutInflater inflater = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);

    List1 list = (List1)inflater.inflate(R.layout.list1, null);
    list.setText(text);
    ll.addView(list);

    List1 list2 = (List1)inflater.inflate(R.layout.list1, null);
    list2.setText(text);
    ll.addView(list2);

    }
} 
```

# **主要的.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout 

    android:id="@+id/mainlayout"
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical">

     <TextView
        android:id="@+id/text1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello" />

    </LinearLayout> 
```

# **list1.xml**

```
<?xml version="1.0" encoding="utf-8"?>

<com.app.expensewatch.List1

        xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/list11"
        android:background="@color/solid_red"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"

/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T12:51:14.780

当您通过膨胀创建视图时，您将不得不调用您的视图使用`setMargin()`的 对象。`LayoutParams`

```
List1 list = (List1)inflater.inflate(R.layout.list1, null);
list.setText(text);
LayoutParams lp = new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);
lp.setMargins(left, top, right, bottom);
list.setLayoutParams(lp);
ll.addView(list); 
```

# wpf - 无法从数据模板访问 Datagrid 数据上下文

> ID：11839052
> 
> 赞同：1
> 
> 时间：2012-08-07T03:59:00.137
> 
> 标签：wpf, wpfdatagrid

```
DataGrid ItemsSource="{Binding Legs}" Grid.Row="1"
                        DataContext="{Binding}"   
                        Tag="{Binding}"  
                        CanUserAddRows="False"                          
                        CanUserDeleteRows="False" 
                        HorizontalAlignment="Stretch"
                        IsSynchronizedWithCurrentItem="True" 
                        x:Name="statusGrid"  
                        AutoGenerateColumns="False" HorizontalScrollBarVisibility="Hidden"   
                        RowStyle="{StaticResource GridRowStyle}"            
                        > 
```

接着

```
<DataGrid.Columns>
                        <DataGridTemplateColumn Width="Auto" Header="Status">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Image Height="16" MaxHeight="14" Width="14" MaxWidth="14" HorizontalAlignment="Center">
                                        <Image.Source>
                                            <MultiBinding>
                                                <Binding Path="SwapswireBuyerStatusText"/>
                                                <Binding Path="SwapswireSellerStatusText"/>
                                                <MultiBinding.Converter>
                                                    <Control:SwapswireStatusImagePathConvertor AllGoodPath="/Resources/Done.png" 
                                                            InProgressPath="/Resources/Go.png" WarningPath="/Resources/Warning.png">
                                                                **<Control:SwapswireStatusImagePathConvertor.DealProp>
                                                            <Control:DealObject Deal="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type DataGrid}}, Path=Tag}"/>
                                                                </Control:SwapswireStatusImagePathConvertor.DealProp>**
                                                    </Control:SwapswireStatusImagePathConvertor>
                                                </MultiBinding.Converter>
                                            </MultiBinding>
                                        </Image.Source>
                                    </Image>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns> 
```

以下是我在转换器上的依赖属性

```
public class DealObject : DependencyObject
    {
        public static DependencyProperty TradedDecimalsProperty =
           DependencyProperty.Register("TradedDecimals", typeof(Int32), typeof(DealObject), new UIPropertyMetadata(0));
        public static DependencyProperty DealProperty =
           DependencyProperty.Register("Deal", typeof(CMBSTrade), typeof(DealObject), new UIPropertyMetadata(new CMBSTrade()));
        public CMBSTrade Deal
        {
            get { return (CMBSTrade)GetValue(DealProperty); }
            set { SetValue(DealProperty, value); }
        }
        public Int32 TradedDecimals
        {
            get { return (Int32)GetValue(TradedDecimalsProperty); }
            set { SetValue(TradedDecimalsProperty, value); }
        }
    }

[ValueConversion(typeof(object), typeof(BitmapImage))]
    public class SwapswireStatusImagePathConvertor : IMultiValueConverter
    {
        public String AllGoodPath { get; set; }
        public String InProgressPath { get; set; }
        public String WarningPath { get; set; }
        private DealObject _DealProp = null;
        public DealObject DealProp
        {
            get { return _DealProp; }
            set { _DealProp = value; }
        }

        public object Convert(object[] values, Type targetType, object parameter, System.Globalization.CultureInfo culture)
        {
            String path = WarningPath;
            try
            {                
                if (null != DealProp && null != DealProp.Deal && null != values && values.Length == 2)
                {
                    String str1 = System.Convert.ToString(values[0]);
                    String str2 = System.Convert.ToString(values[1]);
                    if (DealProp.Deal.Swapswire)
                    {
                        switch (MBSConfirmationHelper.GetSwapswireStatus(str1, str2, MBSConfirmationHelper.GetParticipantType(DealProp.Deal)))
                        {
                            case DealExecutionStatus.InProgress:
                                path = InProgressPath; break;
                            case DealExecutionStatus.ActionRequired:
                            case DealExecutionStatus.Error:
                                path = WarningPath;
                                break;
                            case DealExecutionStatus.Executed:
                                path = AllGoodPath;
                                break;
                            case DealExecutionStatus.NotApplicable:
                                path = String.Empty;
                                break;
                        }
                    }
                    else path = String.Empty;
                }
            }
            catch (Exception)
            {

            }
            return String.IsNullOrEmpty(path)? null : new BitmapImage(new Uri(path, UriKind.Relative));
        }

        public object[] ConvertBack(object value, Type[] targetTypes, object parameter, System.Globalization.CultureInfo culture)
        {
            throw new NotImplementedException("Not Implemented");
        }
    } 
```

在上面的 XAML 代码中......我正在尝试访问 datagrid 的 Tag 属性，绑定正在为对象工作，总是为空。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:31:14.690

从您的代码中可以明显看出问题...

```
 <Control:SwapswireStatusImagePathConvertor.DealProp>
   <Control:DealObject 
         Deal="{Binding RelativeSource={RelativeSource FindAncestor, 
                        AncestorType={x:Type DataGrid}}, 
                        Path=Tag}"/>
 </Control:SwapswireStatusImagePathConvertor.DealProp>** 
```

**您的转换器或转换器中的任何属性永远不能成为可视化树的一部分，因此**即使您的交易对象或转换器本身是一个`DependencyObject`！

请修改您的绑定...

为什么你的转换器需要有一个需要绑定的属性？你已经有了`MultiBinding`，所以把这个绑定作为其中的一部分......

```
 <MultiBinding>
         <Binding Path="SwapswireBuyerStatusText"/>
         <Binding Path="SwapswireSellerStatusText"/>

         **<Binding RelativeSource="{RelativeSource FindAncestor, 
                  AncestorType={x:Type DataGrid}}"
                  Path="Tag"/>**

         <MultiBinding.Converter>
                <Control:SwapswireStatusImagePathConvertor 
                     AllGoodPath="/Resources/Done.png"
                     InProgressPath="/Resources/Go.png" 
                     WarningPath="/Resources/Warning.png" />
         </MultiBinding.Converter>
     </MultiBinding> 
```

现在您的转换器收到它需要的所有 3 个值...

```
 String str1 = System.Convert.ToString(values[0]);
     String str2 = System.Convert.ToString(values[1]);
     ** this.DealProp = new DealObject();
     this.DealProp.Deal = values[2] as CMBSTrade; **

     if (DealProp.Deal.Swapswire) 
     {
           ....
     } 
```

让我知道这是否有帮助...

# c# - Visual Studio 重构以匹配物理文件名和类名

> ID：11839053
> 
> 赞同：0
> 
> 时间：2012-08-07T03:59:01.767
> 
> 标签：c#, visual-studio-2010, refactoring

我的 VS2010 C# 项目的物理文件名与源代码中的类或接口名称不匹配，但让它们具有相同的名称总是好的……所以在 VS2010 Pro 或 Resharper 中有没有办法让我可以说嘿重命名文件名以匹配它们的类或接口名称吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T04:28:06.187

是的 - 使用 ReSharper：

1）只需将光标设置在类名上并按 Alt+Enter - 你会看到这个选项。

![在此处输入图像描述](../Images/024a459db8d19200daa713443aef90c2.png)

2）右键单击文件->重构->将类型移动到匹配文件中...

您可以从解决方案中选择多个文件来运行此重构。

**或者，如果您想对整个解决方案执行此操作 - 右键单击​​解决方案文件，您也会看到此选项。**

![在此处输入图像描述](../Images/35a7ecd70186778daa380bed3b9e2451.png)

# c# - 从非 GUI 线程创建表单

> ID：11839054
> 
> 赞同：0
> 
> 时间：2012-08-07T03:59:06.543
> 
> 标签：c#, winforms

我已经阅读了这个问题[如何从非 gui 线程 C# 中创建表单，](https://stackoverflow.com/questions/983033/how-to-create-form-from-within-non-gui-thread-c-sharp)但它没有帮助我。

我有一个包含玩家列表的表格列表，每个玩家都有自己的表格（我在 player.cs 和 playerform.cs 中将其分开）

问题是：如果我让表格继承自表单（显示表单并使其可见 = false，因此未显示），那么我可以制作一个 Methodinvoker

```
//table.cs
class Table : Form{

    var player = Players.First();
    this.Invoke(new MethodInvoker(player.ShowForm));

//player.cs
void ShowForm() {
    var form = new PlayerForm();
    form.show();
} 
```

这是有效的，没有任何问题或副作用。但是有点讨厌，从Form继承Class，只是为了使用Invoke。（我的桌子不需要表格，所以我想解决这个问题）

如果我没有表格，我该如何使用调用？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T04:06:09.377

我建议您*不要*尝试在非 UI 线程上创建表单，除非您有*非常令人信服的理由*这样做。这样做会产生复杂性，可以通过使用其他更标准的方法来避免。

例如，如果您希望在后台对每个表单进行处理，您可以为每个单独的表单使用[BackgroundWorker](http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker.aspx)实例。

如果您有一个长时间运行的流程，例如您链接到的问题中所示，该流程可以使用*事件*来请求通过标准 UI 线程显示表单。

# mysql - 使用 MySQL 查询在整个表中查找和替换文本

> ID：11839060
> 
> 赞同：275
> 
> 时间：2012-08-07T03:59:55.657
> 
> 标签：mysql, phpmyadmin

通常我使用手动查找来使用 phpmyadmin 替换 MySQL 数据库中的文本。我现在厌倦了，如何运行查询以在 phpmyadmin 的整个表中查找文本并将其替换为新文本？

示例：查找关键字`domain.com`，替换为`www.domain.com`。

* * *

## 回答 #1

> 赞同：624
> 
> 时间：2012-08-07T04:06:04.463

`single table`更新 _

```
 UPDATE `table_name`
 SET `field_name` = replace(same_field_name, 'unwanted_text', 'wanted_text') 
```

从`multiple tables`——

如果您想从所有表中进行编辑，最好的方法是获取`dump`然后`find/replace`将其上传回来。

* * *

## 回答 #2

> 赞同：59
> 
> 时间：2015-01-19T01:55:49.247

我发现最简单的方法是将数据库转储到文本文件，运行 sed 命令进行替换，然后将数据库重新加载回 MySQL。

以下所有命令都是 Linux 上的 bash。

将数据库转储到文本文件

```
mysqldump -u user -p databasename > ./db.sql 
```

运行 sed 命令以查找/替换目标字符串

```
sed -i 's/oldString/newString/g' ./db.sql 
```

将数据库重新加载到 MySQL

```
mysql -u user -p databasename < ./db.sql 
```

十分简单。

* * *

## 回答 #3

> 赞同：28
> 
> 时间：2014-03-12T16:58:30.320

把它放在一个 php 文件中并运行它，它应该做你想做的事情。

```
// Connect to your MySQL database.
$hostname = "localhost";
$username = "db_username";
$password = "db_password";
$database = "db_name";

mysql_connect($hostname, $username, $password);

// The find and replace strings.
$find = "find_this_text";
$replace = "replace_with_this_text";

$loop = mysql_query("
    SELECT
        concat('UPDATE ',table_schema,'.',table_name, ' SET ',column_name, '=replace(',column_name,', ''{$find}'', ''{$replace}'');') AS s
    FROM
        information_schema.columns
    WHERE
        table_schema = '{$database}'")
or die ('Cant loop through dbfields: ' . mysql_error());

while ($query = mysql_fetch_assoc($loop))
{
        mysql_query($query['s']);
} 
```

* * *

## 回答 #4

> 赞同：27
> 
> 时间：2013-11-05T02:57:04.813

在 PHPmyadmin 中运行 SQL 查询以查找和替换所有 wordpress 博客文章中的文本，例如查找 mysite.com/wordpress 并将其替换为 mysite.com/news 此示例中的表是 tj_posts

```
UPDATE `tj_posts`
SET `post_content` = replace(post_content, 'mysite.com/wordpress', 'mysite.com/news') 
```

* * *

## 回答 #5

> 赞同：10
> 
> 时间：2015-04-02T13:17:05.877

另一种选择是为数据库中的每一列生成语句：

```
SELECT CONCAT(
    'update ', table_name , 
    ' set ', column_name, ' = replace(', column_name,', ''www.oldDomain.com'', ''www.newDomain.com'');'
) AS statement
FROM information_schema.columns
WHERE table_schema = 'mySchema' AND table_name LIKE 'yourPrefix_%'; 
```

这应该会生成一个更新语句列表，然后您可以执行这些语句。

* * *

## 回答 #6

> 赞同：10
> 
> 时间：2019-11-27T12:14:31.857

phpMyAdmin 包含一个简洁的查找和替换工具。

选择表格，然后点击**搜索**>**查找和替换**

`oldurl.ext`这个查询花了大约一分钟，成功地用`newurl.ext`inside Column替换了几千个实例`post_content`

[![phpMyAdmin 中查找和替换功能的屏幕截图](../Images/834f31cdf0ecc6f55db30191e526e85c.png)](https://i.stack.imgur.com/vw5cX.png)

这种方法最好的一点是：你可以在提交之前检查每场比赛。

注意我正在使用 phpMyAdmin 4.9.0.1

* * *

## 回答 #7

> 赞同：9
> 
> 时间：2014-07-08T11:11:44.947

```
 UPDATE table SET field = replace(field, text_needs_to_be_replaced, text_required); 
```

例如，如果我想用 Mark 替换所有出现的 John，我将在下面使用，

```
UPDATE student SET student_name = replace(student_name, 'John', 'Mark'); 
```

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2019-06-15T14:07:03.203

如果您确定没有任何要更新的字段被序列化，则上述解决方案将运行良好。

但是，如果任何需要更新的字段包含序列化数据、SQL 查询或转储文件上的简单搜索/替换，将破坏序列化（除非替换的字符串与搜索的字符串具有完全相同的字符数）。

可以肯定的是，“序列化”字段如下所示：

```
a:1:{s:13:"administrator";b:1;} 
```

相关数据中的字符数被编码为数据的一部分。
序列化是一种将“对象”转换为易于存储在数据库中的格式，或在不同语言之间轻松传输对象数据的方法。
以下是用于序列化对象数据的[不同方法](https://stackoverflow.com/a/11818086/5411817)的解释，以及您可能想要这样做的原因，这是一篇以 WordPress 为中心的帖子：[序列化数据，这意味着什么以及为什么如此重要？](https://wp-staging.com/serialized-data-wordpress-important/)用简单的语言。

如果 MySQL 有一些内置工具来自动处理序列化数据，那就太棒了，但它没有，而且由于有不同的序列化格式，这样做甚至没有意义。

**wp-cli**
上面的一些答案似乎特定于 WordPress 数据库，它序列化了它的大部分数据。WordPress 提供了一个命令行工具[wp search-replace](https://developer.wordpress.org/cli/commands/search-replace/)来*处理*序列化。
一个基本的命令是：

```
 wp search-replace 'an-old-string' 'a-new-string' --dry-run 
```

但是，WordPress 强调[`guid`永远不应该更改](https://wordpress.org/support/article/changing-the-site-url/#important-guid-note)，因此建议跳过该列。
它还建议您经常想跳过`wp_users`表格。
这就是它的样子：

`wp search-replace 'https://old-domain.com' 'https://shiney-new-domain.com' --skip-columns=guid --skip-tables=wp_users --dry-run`

注意：我添加了`--dry-run`标志，因此复制粘贴不会自动破坏任何人的数据库。在您确定脚本执行您想要的操作后，再次运行它而不使用该标志。

**插件**
如果您使用的是 WordPress，还有许多免费和商业插件可用，它们提供了一个 gui 界面来做同样的事情，并包含许多附加功能。

**Interconnect/it php 脚本**
Interconnect/it 提供了一个 php 脚本来处理序列化数据：[安全搜索和替换](https://interconnectit.com/products/search-and-replace-for-wordpress-databases/)工具。它是为在 WordPress 网站上使用而创建的，但看起来它可以用于任何由 PHP 序列化的数据库。
许多公司，包括 WordPress 本身，都推荐这个工具。[此处的说明](https://interconnectit.com/blog/2009/10/07/migrating-a-wordpresswpmubuddypress-website/)，大约在页面下方的 3/4 处。

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2020-07-30T15:17:47.440

```
UPDATE  `MySQL_Table` 
SET  `MySQL_Table_Column` = REPLACE(`MySQL_Table_Column`, 'oldString', 'newString')
WHERE  `MySQL_Table_Column` LIKE 'oldString%'; 
```

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2015-10-26T12:25:35.890

我相信“swapnesh”的答案是最好的！不幸的是，我无法在 phpMyAdmin (4.5.0.2) 中执行它，尽管不合逻辑（并尝试了几件事）它一直说找到了一个新语句并且没有找到分隔符......</p>

因此，我提出了以下解决方案，如果您遇到同样的问题并且除了 PMA 之外没有其他访问数据库的权限...</p>

```
UPDATE `wp_posts` AS `toUpdate`,
(SELECT `ID`,REPLACE(`guid`,'http://old.tld','http://new.tld') AS `guid` 
 FROM `wp_posts` WHERE `guid` LIKE 'http://old.tld%') AS `updated`
SET `toUpdate`.`guid`=`updated`.`guid`
WHERE `toUpdate`.`ID`=`updated`.`ID`; 
```

要测试您可能想要使用的预期结果：

```
SELECT `toUpdate`.`guid` AS `old guid`,`updated`.`guid` AS `new guid`
FROM `wp_posts` AS `toUpdate`,
(SELECT `ID`,REPLACE(`guid`,'http://old.tld','http://new.tld') AS `guid`
 FROM `wp_posts` WHERE `guid` LIKE 'http://old.tld%') AS `updated`
WHERE `toUpdate`.`ID`=`updated`.`ID`; 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2018-11-11T07:15:32.463

最好将其导出为 sql 文件并使用编辑器（如 Visual Studio 代码）打开它，然后查找和替换您的单词。我在 1 分钟内将 1 个演出文件 sql 替换为 16 个字，总计 14600 个字。这是最好的方法。替换后保存并再次导入。不要忘记用 zip 压缩它以进行导入。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-11-03T17:44:25.257

# 生成更改 SQL 查询 (FAST)

mysql -e "SELECT CONCAT('update', table_name, 'set', column_name, '= replace(', column_name,', ''www.oldsite.com'', ''www.newsite.com''); ') AS 语句 FROM information_schema.columns WHERE table_name LIKE 'wp_%'" -u root -p your_db_name_here > upgrade_script.sql

# 删除文件开头的所有垃圾。我有一些。

纳米升级脚本.sql

# 使用 --force 选项运行生成的脚本以跳过错误。（慢 - 如果大 DB 喝杯咖啡）

mysql -u root -p your_db_name_here --force < upgrade_script.sql

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2020-02-12T19:53:29.830

对于带有大写-小写字母的句子，我们可以使用 BINARY REPACE

```
UPDATE `table_1`  SET  `field_1` =  BINARY REPLACE(`field_1`, 'find_string', 'replace_string') 
```

# jquery - 如何用 div 替换自定义 PAGEBREAK 标签

> ID：11839061
> 
> 赞同：0
> 
> 时间：2012-08-07T04:00:00.510
> 
> 标签：jquery, html, replace

我有文件，例如：

```
This is the first line
<br> 
This is the second line 
<br>
This is the third line 
```

现在我想删除`<br>`并格式化文本，如下所示，

```
 <DIV ID=PAGINATION-CONTENT>
        This is the first line
    </DIV>
    <DIV ID=PAGINATION-CONTENT>
        This is the second line 
    </DIV>
    <DIV ID=PAGINATION-CONTENT>
       This is the third line
    </DIV> 
```

使用 jquery 怎么可能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:10:59.357

像这样的东西？我使用`classes`的ID必须是唯一的！

```
<p>
  This is the first line
  <br>
  This is the second line
  <br>
  This is the third line
</p> 
```

```
var lines = $('p').html().split('<br>')
var divs = '';
$.each(lines, function(i, line) {
    divs += '<div class="PAGINATION-CONTENT">'+line+'</div>';
})

$('p').html(divs) 
```

[演示](http://jsfiddle.net/j9qsx/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T04:05:24.323

您可能正在寻找`page-break-before`和`page-break-after`css 规则。

假设您正在谈论实际的分页符（即打印时）。如果不是，那么您的问题非常不清楚。

# objective-c - 为什么我的品牌不符合我的形象？

> ID：11839063
> 
> 赞同：0
> 
> 时间：2012-08-07T04:00:11.903
> 
> 标签：objective-c, uiimageview, uiimage, uigesturerecognizer

将图像作为子视图添加到另一个图像`UIImageView`时，我在新图像上添加了一个标记，该图像在编辑时应遵循**（移动、放大/缩小、旋转）**。

我无法让品牌保持连接到新图像的框架。 **它最初在添加图像时连接，但一旦移动，标记就会离开图像框架。**

这是我的代码：

```
 **viewDidLoad:**
 if (!_marque)
 {
    _marque = [[CAShapeLayer layer] retain];
    _marque.fillColor = [[UIColor clearColor] CGColor];
    _marque.strokeColor = [[UIColor cyanColor] CGColor];
    _marque.lineWidth = 1.0f;
    _marque.lineJoin = kCALineJoinRound;
    _marque.lineDashPattern = [NSArray arrayWithObjects:[NSNumber numberWithInt:10],[NSNumber numberWithInt:5], nil];
    _marque.bounds = CGRectMake(_stampedImageView.frame.origin.x, _stampedImageView.frame.origin.y, 0, 0);
    _marque.position = CGPointMake(_stampedImageView.frame.origin.x + self.view.frame.origin.x, _stampedImageView.frame.origin.y + self.view.frame.origin.y);
 }
 [[_stampedImageView layer] addSublayer:_marque];

 **marque Method:**
 if (![_marque actionForKey:@"linePhase"])
 {
    CABasicAnimation *dashAnimation;
    dashAnimation = [CABasicAnimation animationWithKeyPath:@"lineDashPhase"];
    [dashAnimation setFromValue:[NSNumber numberWithFloat:0.0f]];
    [dashAnimation setToValue:[NSNumber numberWithFloat:15.0f]];
    [dashAnimation setDuration:0.5f];
    [dashAnimation setRepeatCount:HUGE_VALF];
    [_marque addAnimation:dashAnimation forKey:@"linePhase"];
 }

_marque.bounds = CGRectMake(_stampedImageView.frame.origin.x, _stampedImageView.frame.origin.y, 0, 0);
_marque.position = CGPointMake(_stampedImageView.frame.origin.x, _stampedImageView.frame.origin.y);

CGMutablePathRef path = CGPathCreateMutable();
CGPathAddRect(path, NULL, frame);
[_marque setPath:path];
CGPathRelease(path);

_marque.hidden = NO;

 **panGestureRecognizer:**
 CGPoint translatedPoint = [(UIPanGestureRecognizer*)sender translationInView:self.view];

if([(UIPanGestureRecognizer*)sender state] == UIGestureRecognizerStateBegan)
{
    _firstX = [_stampedImageView center].x;
    _firstY = [_stampedImageView center].y;
}

translatedPoint = CGPointMake(_firstX+translatedPoint.x, _firstY+translatedPoint.y);

[_stampedImageView setCenter:translatedPoint];
[self showOverlayWithFrame:_stampedImageView.frame]; 
```

有人可以帮我看看我错过了什么吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T21:18:23.560

我认为您可能在这一行有错误：

```
CGPathAddRect(path, NULL, frame); 
```

你还没有在我能看到的任何地方定义框架。也许_stampedImageView.frame？

# google-maps - MFC中的嵌入式浏览器并加载谷歌地图

> ID：11839064
> 
> 赞同：0
> 
> 时间：2012-08-07T04:00:14.390
> 
> 标签：google-maps, browser, mfc

我需要在 MFC 应用程序中加载谷歌地图。

然后我找到了两种方法。

首先，加载静态图片[https://developers.google.com/maps/documentation/staticmaps/?hl=en](https://developers.google.com/maps/documentation/staticmaps/?hl=en) 但我不喜欢这种方式。

另一种方式是，我的应用程序中的嵌入式浏览器会加载用于显示谷歌地图的 html 代码。

请告诉我如何在我的 MFC 应用程序中嵌入任何浏览器（IE、Firefox、..）？

如果你找到在 MFC 中加载谷歌地图的更好方法，请告诉我

十分感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:19:33.703

您可以查看[WebBrowser](http://msdn.microsoft.com/en-us/library/aa752046%28VS.85%29.aspx)控件，通过它可以加载您的 Google 地图。

# c++ - 如何覆盖 Qt 中的默认快捷方式

> ID：11839066
> 
> 赞同：0
> 
> 时间：2012-08-07T04:00:35.123
> 
> 标签：c++, qt

我有一个小部件，它可以包含一个或多个 QTableView 子小部件。默认情况下，当我在其中一个 QTableViews 中选择一个范围并点击 crtl+c 时，只有最左边的最上面的单元格被复制到剪贴板。我想复制整个范围，所以我实现了一个 copy() 插槽来完成这项工作。我希望可以从上下文菜单（当用户进行选择并右键单击相应的 QTableView 时）和 ctrl+c 快捷方式访问复制槽。

```
class Widget
{
    Q_OBJECT
public:
    void setupContextMenu();

private:

    QMenu* contextMenu_;
    QAction* copyAction_;
    QTableView* tableView_;

private slots:
    void copy();
}

void Widget::setupContextMenu()
{
    contextMenu_ = new QMenu(this);
    copyAction_ = contextMenu_->addAction("&Copy");
    copyAction_->setShortcut(QKeySequence::Copy);
    connect(copyAction_, SIGNAL(triggered()),
            this, SLOT(copy()));
} 
```

当我选择一个范围并右键单击时，会弹出相应的上下文菜单，它甚至包含快捷方式的名称。当我单击上下文菜单中的“复制”操作时，将执行 copy() 插槽。然而，ctrl+c 快捷键只复制选择中最左边的最上面的单元格，就像以前一样。此外，copy() 插槽不会被执行。

我该如何修复这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T04:34:10.830

我不确定，但也许快捷键不适用于 Qt 中的上下文菜单？

复制快捷方式的处理发生在`QAbstractItemView::keyPressEvent()`. 您可以[将事件过滤器安装](http://qt-project.org/doc/qt-4.8/qobject.html#installEventFilter)到您的 QTableView 以观察`KeyPress`事件并在那里处理您的副本。

# svg - fe来自官方网站的复合代码示例不起作用

> ID：11839070
> 
> 赞同：3
> 
> 时间：2012-08-07T04:01:29.193
> 
> 标签：svg

这里有一个演示 feComposite 的代码示例：

[http://www.w3.org/TR/SVG/filters.html#feCompositeElement](http://www.w3.org/TR/SVG/filters.html#feCompositeElement)

但是在至少 FF 和 Chrome 上运行的示例只打印背景三角形，没有混合前景三角形。我只是在学习 SVG，所以不知所措，尽管它可能与 XML 命名空间和 filter= 有关"url(..." 命令实际上并没有访问过滤器（不过只是猜测）。

我提炼出部分演示问题的代码：

```
 <?xml version="1.0"?>
    <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
              "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
    <svg width="330" height="195" viewBox="0 0 1100 650" version="1.1"
         xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <defs>
        <filter id="atopNoFlood" filterUnits="objectBoundingBox" x="-5%" y="-5%" width="110%" height="110%">
          <feComposite in="SourceGraphic" in2="BackgroundImage" operator="atop" result="comp"/>
        </filter>
        <path id="Blue100" d="M 0 0 L 100 0 L 100 100 z" fill="#00ffff" />
        <path id="Red100" d="M 0 0 L 0 100 L 100 0 z" fill="#ff00ff" />
      </defs>

      <g  enable-background="new">
        <use xlink:href="#Blue100"/>
        <use xlink:href="#Red100" filter="url(#atopNoFlood)" />
      </g>
    </svg> 
```

它应该生成![在此处输入图像描述](../Images/ea515b8af422c982857903ee41bd6cba.png)，但它只是输出![在此处输入图像描述](../Images/b772397ea40c3bbfde4a8050569bd783.png)（即只有背景三角形，没有通过过滤器混合的前景三角形。）任何帮助表示赞赏。一直在看这个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T09:40:40.933

该示例使用Firefox[尚不支持的](https://bugzilla.mozilla.org/show_bug.cgi?id=437554)[BackgroundImage](http://www.w3.org/TR/SVG/filters.html#BackgroundImage)过滤器输入。

几天前，Firefox nightlies 中添加了对 FillPaint 和 StrokePaint 的支持，因此 Firefox 中的过滤器工作仍在继续，除了 BackgroundImage/Alpha 之外，这些天已经完成了。

# google-chrome-extension - Google Chrome 扩展清单版本 2 - 执行初始化脚本

> ID：11839072
> 
> 赞同：0
> 
> 时间：2012-08-07T04:01:32.423
> 
> 标签：google-chrome-extension, manifest

清单版本 2 内容安全策略不允许扩展运行内联脚本。这意味着我不能使用

```
 <script>Code Here</script>
      <button onclick="And here"> 
```

当我使用清单版本 1 时，我的 popup.html 执行了一些代码，它以这种方式加载以太：

```
 <body onload='init()'> 
```

或者像这样

```
 <script>init()</script> 
```

现在我可以看到唯一的方法 - 在 popup.html 中放置一个按钮并手动按下它来进行初始化。我怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T04:50:05.757

创建一个 popup.js 文件，并将您的脚本提取到该文件中，并添加如下监听器：

```
document.addEventListener('DOMContentLoaded', init()); 
```

然后将 popup.js 文件包含到 popup.html 文件中。

# java - 如何在 java.Util.List 中按条件搜索元素 ?

> ID：11839073
> 
> 赞同：3
> 
> 时间：2012-08-07T04:01:44.640
> 
> 标签：java, arraylist

**例如：**

我在 UI 端有一张这样的表：

![在此处输入图像描述](../Images/09003255f2cde6602c96d807bdef8330.png)

这是上面显示的所有数据的列表：

```
List<MyBean> myList; 
```

* * *

现在我想搜索`categoryName`，`languageID`或者`categoryID`使用这样的方法：

```
private List<MyBean> search(List<MyBean> myList, String columnName, String criteria) 
```

因此，我只需执行以下操作即可获得符合我的条件的结果：

**第一种情况：** `List<Bean> results = this.search(myList, "categoryName", "Dog H");`

**第二种情况：** `List<Bean> results = this.search(myList, "categoryName", "Dog House");`

*（此时`results`list 在两种情况下都将返回 3 个元素——根据上表）。*

* * *

***有可能实现这一目标吗？正如你们所看到的，这是一种类似于`%LIKE%`功能的搜索，`SQL`但专注于`java.util.List`***

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-07T05:13:51.160

## 我使用以下方法解决了我的问题：

*   **Hamcrest** (hamcrest-all-1.3.jar) -- [http://hamcrest.googlecode.com/files/hamcrest-all-1.3.jar](http://hamcrest.googlecode.com/files/hamcrest-all-1.3.jar)

*   **Lambdaj** (lambdaj-2.4-with-dependencies.jar) -- [http://lambdaj.googlecode.com/files/lambdaj-2.4-with-dependencies.jar](http://lambdaj.googlecode.com/files/lambdaj-2.4-with-dependencies.jar)

然后我只是通过这种方式导入了以下命名空间：

```
import static ch.lambdaj.Lambda.*; 
```

并使用以下方法从我的标准中获得结果：

```
List<MyBean> results = select(myList, having(on(MyBean.class).getCategoryName(), org.hamcrest.Matchers.containsString("Dog H"))); 
```

因此，在我传递的那行代码中，我在问题中要求`myList`的`"column"`and `criteria`。

该行的其余代码很容易理解，所以我不会写它。

希望这对其他人也有帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-07T04:37:18.603

这里有两种方法

“有力”的方法；）

```
public List<MyBean> search(List<MyBean> lstBeans, String method, String regExp) {
    List<MyBean> lstMatch = new ArrayList<>(lstBeans.size());
    Pattern pattern = Pattern.compile(regExp);
    for (MyBean bean : lstBeans) {

        if (method.equals("categoryName")) {
            String name = bean.getCategoryName();
            if (pattern.matcher(name).matches()) {
                lstMatch.add(bean);
            }
        }
    }
    return lstMatch;
}

.
.
.

List<MyBean> matches = search(lstBeans, "categoryName", "^Dog.*$"); 
```

基本上，这依赖于知道给定的方法名称将返回给定的结果，这将使过滤类别的结果变得困难，例如......

人们拼写错误的方法名称或没有考虑到它区分大小写也存在问题......

**或者**你可以尝试一些更可变的东西

```
public interface Criteria<T> {
    public boolean matches(T bean);
}

public class CategoryNameCriteria implements Criteria<MyBean> {

    private Pattern pattern;

    public CategoryCriteria(String criteria) {
        pattern = Pattern.compile(criteria);
    }

    @Override
    public boolean matches(MyBean bean) {
        return pattern.matcher(bean.getCategoryName()).matches();
    }

}

public <T> List<T> search(List<T> lstBeans, Criteria<T> critera) {
    List<T> lstMatch = new ArrayList<>(lstBeans.size());
    for (T bean : lstBeans) {
        if (critera.matches(bean)) {
            lstMatch.add(bean);
        }
    }
    return lstMatch;
}

.
.
.

matches = search(lstBeans, new CategoryNameCriteria("^Dog.*$")); 
```

这将允许您在不更改基本方法的情况下“定义”自己的标准和匹配要求

这意味着您可以制定一系列独立于搜索方法的标准，例如

```
public class CategoryIDCriteria implements Criteria<MyBean> {

    private int id;

    public CategoryIDCriteria(int id) {
        this.id = id;
    }

    @Override
    public boolean matches(MyBean bean) {
        return bean.getCategoryID() == id;
    }

}

.
.
.

matches = search(lstBeans, new CategoryIDCriteria(1)); 
```

并且因为标准和搜索方法是通用的，所以可以在不同类型的对象中重用它

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-07T05:02:06.037

如果您愿意使用第三方库，也许[JoSQL](http://josql.sourceforge.net/index.html)就足够了？它允许您使用 SQL 查询过滤 POJO 集合...

此外，如果您愿意放弃 SQL 查询，可能会对这篇旧文章感兴趣：[How do you query object collections in Java (Criteria/SQL-like)?](https://stackoverflow.com/questions/93417/how-do-you-query-object-collections-in-java-criteria-sql-like)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T04:08:15.553

为什么不使用 Guava 的[Table](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Table.html)而不是 List呢？

```
Table<Integer, Integer, String> table = HashBasedTable.create(); 
table.put(1, 1, "Advantage Flea");
table.put(1, 2, "Advantage Flea");
table.put(1, 3, "Advantage Flea");
.
.
. 
```

案例#1需要类似的东西：

```
Collection<String> values = table.values();
for(String value : values) { 
   if(value.contains(queryString) { 
       //found it!
   }
} 
```

案例 #2 很简单，看起来像：

```
if(table.containsValue("Advantage Flea") { 
    ...
} 
```

# php - 使用 JQuery / AJAX 取消设置 PHP 会话

> ID：11839079
> 
> 赞同：4
> 
> 时间：2012-08-07T04:02:28.210
> 
> 标签：php, jquery, session

页面按钮`index`：

```
$('#killsession').click(function() {
    $.get('killsession.php');
    alert("OK");
}); 
```

`killsession.php`：

```
<?php
session_start():
session_destroy();
?> 
```

使用此按钮终止会话后，任何与会话相关的功能`index`仍然有效（会话变量仍然设置/存在）。例如，我有一个计数会话变量，当我单击某个按钮时它会增加。此计数变量在终止会话后不会失去其计数位置。

是否可以使用 JQuery 按钮终止会话？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T04:05:51.173

首次加载页面时会加载所有 PHP 会话项。只要页面打开，它们仍然在页面/浏览器内存中。您需要在终止会话后重新加载页面。您可以使用 javascript window.location.href = window.location.href 来做到这一点

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-07T04:58:22.567

```
$('#killsession').click(function() {
  $.get('killsession.php', function() {
    alert("the server page executed");
    //Here you may do further things.

    window.location = window.location;
  });
}); 
```

killsession.php

```
session_start();

$_SESSION = array();

$params = session_get_cookie_params();

setcookie( session_name(), '', time() - 42000,
    $params["path"],
    $params["domain"],
    $params["secure"],
    $params["httponly"]
);

session_destroy();

exit('OK'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T04:05:51.407

确保您仅在 ajax 函数的回调中执行其他操作（例如检查会话）。回调中的任何内容都将在收到来自 ajax 服务器页面的响应后执行。

```
$('#killsession').click(function() {
    $.get('killsession.php',function(){
       alert("the server page executed");
       //Here you may do further things.

    });

}); 
```

# java - PowerMock 模拟具有有限数据访问权限的私有方法

> ID：11839083
> 
> 赞同：0
> 
> 时间：2012-08-07T04:02:44.297
> 
> 标签：java, unit-testing, powermock

我正在尝试通过 PowerMock 模拟私有方法，但在我的 expectPrivate 方法中，我没有单元测试可以访问的所有参数（一些参数是在调用此私有方法的方法中创建的）。因此，当我需要填写 expectPrivate 方法字段时，我无法这样做，并且我的单元测试也不起作用。有没有办法解决这个问题？

谢谢

**编辑：对不起我糟糕的解释。我写了一些代码来说明我的意思。**

```
import java.lang.reflect.Method;

import org.easymock.EasyMock;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.powermock.api.easymock.PowerMock;
import org.powermock.api.support.membermodification.MemberMatcher;
import org.powermock.core.classloader.annotations.PrepareForTest;
import org.powermock.modules.junit4.PowerMockRunner;

@RunWith(PowerMockRunner.class)
@PrepareForTest(Foo.class)
public class FooTest
{
    @Test
    public void testFoobar() throws Exception{
        Foo x = new Foo("hi");

        PowerMock.mockStaticPartial(Foo.class, "foobar2");
        Method[] methods = MemberMatcher.methods(Foo.class, "foobar2");

        PowerMock.expectPrivate(Foo.class, methods[0], x).andReturn("hi");

        PowerMock.replay(Foo.class);

        Foo.foobar("hi");

    }
} 
```

和

```
public class Foo
{
    public String name;
    public Foo(String aString){
       name = aString;
    }

    public static String foobar(String aString){

        Foo aFoo = new Foo("hi");

        aString = aString + foobar2(aFoo);

        return aString + " blah";
    }

    private static String foobar2(Foo aFoo){
        return "hi" + aFoo.name;
    }
} 
```

我无法模拟 foobar2 方法，因为我无法重新创建 Foo aFoo 创建的 foobar 方法。它会给我一个错误，说我为测试创建的对象与进入私有方法的对象不同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:59:52.790

您当然可以访问在调用私有方法的方法中创建的参数。您需要让构造函数返回模拟对象。请参阅[http://code.google.com/p/powermock/wiki/MockConstructor](http://code.google.com/p/powermock/wiki/MockConstructor)。

# java - Red5应用调试

> ID：11839084
> 
> 赞同：-1
> 
> 时间：2012-08-07T04:02:49.257
> 
> 标签：java, red5

我正在尝试将我的 red5 应用程序部署到 webapps 文件夹。但！我的输出中有一些错误。

```
 Exception in thread "Launcher:/myApp" org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'web.context' defined in ServletContext resource [/WEB-INF/red5-web.xml]: Unsatisfied dependency expressed through bean property 'clientRegistry': : Cannot find class [org.red5.core.Application] for bean with name 'web.handler' defined in ServletContext resource [/WEB-INF/red5-web.xml]; nested exception is java.lang.ClassNotFoundException: org.red5.core.Application; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.red5.core.Application] for bean with name 'web.handler' defined in ServletContext resource [/WEB-INF/red5-web.xml]; nested exception is java.lang.ClassNotFoundException: org.red5.core.Application
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1147)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1040)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:557)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:842)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:416)
    at org.red5.server.tomcat.TomcatLoader$1.run(TomcatLoader.java:594)
Caused by: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.red5.core.Application] for bean with name 'web.handler' defined in ServletContext resource [/WEB-INF/red5-web.xml]; nested exception is java.lang.ClassNotFoundException: org.red5.core.Application
    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1208)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:568)
[INFO] [Launcher:/myApp] org.springframework.beans.factory.support.DefaultListableBeanFactory - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1af1915: defining beans [placeholderConfig,web.context,web.scope,web.handler]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@46136
    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1277)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:302)
    at org.springframework.beans.factory.BeanFactoryUtils.beanNamesForTypeIncludingAncestors(BeanFactoryUtils.java:185)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:805)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:762)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:680)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1132)
    ... 11 more
Caused by: java.lang.ClassNotFoundException: org.red5.core.Application
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1484)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1329)
    at org.springframework.util.ClassUtils.forName(ClassUtils.java:258)
    at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:408)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1229)
    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1200)
    ... 19 more 
```

毕竟我在 webapps 中有我的 app 文件夹，但是我的项目的 classes 文件夹中没有 .class 文件。所以，我不能在我的客户端应用程序中使用服务器端应用程序。怎么了？

应用程序是默认构建的。这是我的 red5-web.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>

    <!--
    Defines a properties file for dereferencing variables
    -->
    <bean id="placeholderConfig" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="location" value="/WEB-INF/red5-web.properties" />
    </bean>

    <!--
    Defines the web context
    -->
    <bean id="web.context" class="org.red5.server.Context" 
        autowire="byType" />

    <!--
    Defines the web scopes
    -->
    <bean id="web.scope" class="org.red5.server.WebScope"
         init-method="register">
        <property name="server" ref="red5.server" />
        <property name="parent" ref="global.scope" />
        <property name="context" ref="web.context" />
        <property name="handler" ref="web.handler" />
        <property name="contextPath" value="${webapp.contextPath}" />
        <property name="virtualHosts" value="${webapp.virtualHosts}" />
    </bean>

    <!--
    Defines the web handler which acts as an applications endpoint
    -->
    <bean id="web.handler" 
        class="org.red5.core.Application" 
        singleton="true" />

</beans> 
```

还有我的应用程序类

```
package org.red5.core;

/*
 * RED5 Open Source Flash Server - http://www.osflash.org/red5
 * 
 * Copyright (c) 2006-2008 by respective authors (see below). All rights reserved.
 * 
 * This library is free software; you can redistribute it and/or modify it under the 
 * terms of the GNU Lesser General Public License as published by the Free Software 
 * Foundation; either version 2.1 of the License, or (at your option) any later 
 * version. 
 * 
 * This library is distributed in the hope that it will be useful, but WITHOUT ANY 
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A 
 * PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.
 * 
 * You should have received a copy of the GNU Lesser General Public License along 
 * with this library; if not, write to the Free Software Foundation, Inc., 
 * 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA 
 */

import org.red5.server.adapter.ApplicationAdapter;
import org.red5.server.api.IConnection;
import org.red5.server.api.IScope;
import org.red5.server.api.service.ServiceUtils;

/**
 * Sample application that uses the client manager.
 * 
 * @author The Red5 Project (red5@osflash.org)
 */
public class Application extends ApplicationAdapter {

    /** {@inheritDoc} */
    @Override
    public boolean connect(IConnection conn, IScope scope, Object[] params) {
        return true;
    }

    /** {@inheritDoc} */
    @Override
    public void disconnect(IConnection conn, IScope scope) {
        super.disconnect(conn, scope);
    }

} 
```

我在 Eclipse 中使用 Red5 插件完成了所有这些工作。所以......我不知道可能出了什么问题..

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-18T23:21:30.517

我有同样的问题。听起来您正在尝试仅使用新的 Red5_1.0 来遵循教程视频，就像我一样。经过很多天，啤酒和我的头撞在桌子上的瘀伤，我发现如果你在 red5-web.xml 文件中将你的类更改为“org.red5.server.scope.WebScope”，它应该可以正常工作（bean id="web.scope")。此外，您可能需要从“import org.red5.server.api.IScope;”更改您的 org.red5.core 源导入。到“导入 org.red5.server.api.scope.IScope;”。显然在 Red5 的较新版本中进行了一些类重构

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-16T14:47:19.380

我遇到了类似的错误，尽管当我检查我的课程时已经设置为“org.red5.server.scope.WebScope”，如第九领域马特的回答中所述。后来发现是缺少webaps/chat/WEB-INF/下的lib目录。

如果其他人有类似的问题，这可能很有用。

# jquery - 无限循环中的fadeIn和fadeOut

> ID：11839086
> 
> 赞同：2
> 
> 时间：2012-08-07T04:03:32.077
> 
> 标签：jquery, html, css

我在一个类下有不同的元素，我希望它们在无限循环中随机淡入和淡出。我现在可以让它们随机淡入，但坚持淡出元素。

另一件事是，在淡出之后，我想延迟几秒钟，然后再将它们淡入。

这是我的代码片段，希望对您有所帮助。

```
$(document).ready(function () {
    $('.share').each(function(i){
        var rand = 1 + Math.floor(Math.random() * 7);//max of random 7 seconds
        $(this).fadeIn(rand*1000).delay(500).fadeOut(); 
    });
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T04:11:05.947

如果您希望淡入淡出之间的间隔也是随机的，您可以使用这个：

```
$('.share').each(function(i) {
    loopInfinitely($(this));
});

function loopInfinitely(elem) {
    var rand = 1 + Math.floor(Math.random() * 7) * 1000;//max of random 7 seconds
    setTimeout(function() {
        elem.fadeIn(rand).delay(300).fadeOut(rand);
        loopInfinitely(elem);  
    }, rand);
} 
```

* * *

如果您还希望元素按顺序出现和消失，可以使用以下命令：

```
loopInfinitely($('.share'));

function loopInfinitely(elems) {
    var rand = 1 + Math.floor(Math.random() * 7) * 1000;//max of random 7 seconds
    setTimeout(function() {
        var i = 0;
        (function advanceElem() {
            if (elems.length <= i) {
                loopInfinitely(elems);
                return;
            }
            elems.eq(i).fadeIn(rand).delay(300).fadeOut(rand);
            setTimeout(advanceElem, rand*2+300);
            i++;
        })();
    }, rand);
} 
```

让我知道这是如何工作的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:08:50.030

您可以使用常规 JavaScript 计时器定期调用您的代码。

```
setInterval(function() 
    { 
        $('.share').each(function(i) 
        {
             var rand = 1 + Math.floor(Math.random() * 7);//max of random 7 seconds
             $(this).fadeIn(rand*1000).delay(500).fadeOut(); 
        }) 
    },  3000); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T04:08:35.507

在里面做一个`fade_element_in()`函数，和一个函数。然后在每个函数中使用 Javascript 的函数在您喜欢的延迟后调用另一个函数。中提琴，无限循环。`$('.share').fadeIn()``fade_element_out()``setInterval`

# html - 如何使用 CSS 制作水平导航栏，支持悬停并尊重容器的边缘？

> ID：11839087
> 
> 赞同：0
> 
> 时间：2012-08-07T04:03:37.630
> 
> 标签：html, css, menu

我正在尝试制作一个基于 CSS 的导航栏，它将 UL/LI 列表（包括悬停时显示的子 UL/LI 列表）转换为水平导航栏和子水平导航栏。我当前的实现（见图）除了子列表使用 position:absolute 来获得其悬停元素下方的位置外。我相信这是我的问题的根源，因为绝对定位的子菜单不尊重容器的边缘，所以如果浏览器变得太小，它会在顶级菜单换行时从容器的边缘流出。我遇到的另一个问题是当顶层菜单换行时它不会垂直扩展页面，所以即使它占用更多空间，后面的段落也不会向下移动并重叠。

有没有人有任何 CSS 提示或知道像我正在尝试制作的菜单的任何好的示例？

图片链接：http: [//i47.tinypic.com/288tbn7.png](http://i47.tinypic.com/288tbn7.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T04:07:58.053

直到今天，HTML Dog 的文章“Suckerfish Dropdowns 之子”仍然是关于带有悬停的干净 CSS 菜单的经典之作。

[http://www.htmldog.com/articles/suckerfish/dropdowns/](http://www.htmldog.com/articles/suckerfish/dropdowns/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T04:31:34.030

嘿现在创建这个菜单很容易`ul li`就像这样

**HTML**

```
<ul class="menu">
  <li><a href="#">Home</a></li>
  <li><a href="#">Home2</a></li>
  <li><a href="#">Home3</a>

    <ul class="submenu">
      <li><a href="#">Submenu</a></li>
      <li><a href="#">Submenu</a></li>
      <li><a href="#">Submenu</a></li>
    </ul>

  </li>
  <li><a href="#">Home4</a></li>
  <li><a href="#">Home5</a></li>
</ul> 
```

**CSS**

```
 .menu{
display:block;
  list-style:none;
  border-bottom:solid 1px red;
  float:left;
}
.menu > li{
  float:left;
  position:relative;
}
.menu > li + li{
  border-left:solid 1px red;
margin-left:10px;
}
.menu > li > a{
display:block;
  margin-left:10px;
}

.submenu{
  display:none;
list-style:none;
  position:absolute;
  top:20px;
  left:-39px;
  white-space:nowrap;
}
.menu > li:hover .submenu{
display:block;
}
.submenu li{
display:inline;
}
.submenu li + li {
border-left:1px solid green;
  margin-left:10px;
}
.submenu a{
display:inline-block;
  vertical-align:top;
  margin-left:10px;
} 
```

[**现场演示**](http://tinkerbin.com/SpnWLiEl)

现在更改**css** `according to your layout`这是**基本步骤**

# javascript - 在脚本中获取 CSS 颜色属性的真实值

> ID：11839088
> 
> 赞同：5
> 
> 时间：2012-08-07T04:03:48.083
> 
> 标签：javascript, css

当我`window.getComputedStyle`在元素的颜色属性上使用时，它返回一个带有`rgb()`或`rgba()`值的字符串，而不管最初用于设置颜色的语法如何。在 Internet Explorer 中，当被迫使用它时`element.currentStyle`，它显然会返回最初设置的确切颜色字符串（尽管是小写的）。

这是我的问题的演示：

```
<div id=el>&nbsp;</div>
<script type="text/javascript">
var el = document.getElementById('el');
el.style.color = 'red';
if (window.getComputedStyle) {
    el.innerHTML = getComputedStyle(el, null).color;
} else {
    el.innerHTML = el.currentStyle.color;
}
</script> 
```

其他浏览器显示“rgb(255, 0, 0)”。IE 显示“红色”。我想确定真正的 RGB 或 RGBA 值。所以我有两个问题：

1.  除了手动解析所有潜在的颜色语法并包括颜色名称到值的映射之外，还有什么方法可以在 IE 中获得真正的价值？
2.  可以依赖其他浏览器的行为吗？他们应该以字符串`rgb()`或`rgba()`字符串的形式返回值，还是可以返回，例如`#ff0000`，或其他东西？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T04:48:31.183

据我所知，答案是“不”。在不知道如何解析所有可能的颜色表示的情况下，没有简单的方法可以在 IE 中获取颜色值。当我尝试这样做时，我发现我什至需要识别所有可能的颜色名称，例如`blue`. 这是一种皇家痛苦，但我确实为它制定了代码。

我的代码试图获取背景颜色，它甚至会查看父对象以查找设置背景颜色的位置（因此它没有完全按照您的要求执行）并且它使用了 YUI 版本的 getComputedStyle（您可以替换你自己的）但这是我使用的代码。它确实处理这些形式的颜色定义：

```
#fff
#ffffff
transparent
rgb(12,45,99)
rgba(12,45,99,30)
orange 
```

而且，代码：

```
JFL.GetBackgroundColor = function(o)
{
    var colorNames = {
        aliceblue: 'f0f8ff',
        antiquewhite: 'faebd7',
        aqua: '00ffff',
        aquamarine: '7fffd4',
        azure: 'f0ffff',
        beige: 'f5f5dc',
        bisque: 'ffe4c4',
        black: '000000',
        blanchedalmond: 'ffebcd',
        blue: '0000ff',
        blueviolet: '8a2be2',
        brown: 'a52a2a',
        burlywood: 'deb887',
        cadetblue: '5f9ea0',
        chartreuse: '7fff00',
        chocolate: 'd2691e',
        coral: 'ff7f50',
        cornflowerblue: '6495ed',
        cornsilk: 'fff8dc',
        crimson: 'dc143c',
        cyan: '00ffff',
        darkblue: '00008b',
        darkcyan: '008b8b',
        darkgoldenrod: 'b8860b',
        darkgray: 'a9a9a9',
        darkgreen: '006400',
        darkkhaki: 'bdb76b',
        darkmagenta: '8b008b',
        darkolivegreen: '556b2f',
        darkorange: 'ff8c00',
        darkorchid: '9932cc',
        darkred: '8b0000',
        darksalmon: 'e9967a',
        darkseagreen: '8fbc8f',
        darkslateblue: '483d8b',
        darkslategray: '2f4f4f',
        darkturquoise: '00ced1',
        darkviolet: '9400d3',
        deeppink: 'ff1493',
        deepskyblue: '00bfff',
        dimgray: '696969',
        dodgerblue: '1e90ff',
        feldspar: 'd19275',
        firebrick: 'b22222',
        floralwhite: 'fffaf0',
        forestgreen: '228b22',
        fuchsia: 'ff00ff',
        gainsboro: 'dcdcdc',
        ghostwhite: 'f8f8ff',
        gold: 'ffd700',
        goldenrod: 'daa520',
        gray: '808080',
        green: '008000',
        greenyellow: 'adff2f',
        honeydew: 'f0fff0',
        hotpink: 'ff69b4',
        indianred : 'cd5c5c',
        indigo : '4b0082',
        ivory: 'fffff0',
        khaki: 'f0e68c',
        lavender: 'e6e6fa',
        lavenderblush: 'fff0f5',
        lawngreen: '7cfc00',
        lemonchiffon: 'fffacd',
        lightblue: 'add8e6',
        lightcoral: 'f08080',
        lightcyan: 'e0ffff',
        lightgoldenrodyellow: 'fafad2',
        lightgrey: 'd3d3d3',
        lightgreen: '90ee90',
        lightpink: 'ffb6c1',
        lightsalmon: 'ffa07a',
        lightseagreen: '20b2aa',
        lightskyblue: '87cefa',
        lightslateblue: '8470ff',
        lightslategray: '778899',
        lightsteelblue: 'b0c4de',
        lightyellow: 'ffffe0',
        lime: '00ff00',
        limegreen: '32cd32',
        linen: 'faf0e6',
        magenta: 'ff00ff',
        maroon: '800000',
        mediumaquamarine: '66cdaa',
        mediumblue: '0000cd',
        mediumorchid: 'ba55d3',
        mediumpurple: '9370d8',
        mediumseagreen: '3cb371',
        mediumslateblue: '7b68ee',
        mediumspringgreen: '00fa9a',
        mediumturquoise: '48d1cc',
        mediumvioletred: 'c71585',
        midnightblue: '191970',
        mintcream: 'f5fffa',
        mistyrose: 'ffe4e1',
        moccasin: 'ffe4b5',
        navajowhite: 'ffdead',
        navy: '000080',
        oldlace: 'fdf5e6',
        olive: '808000',
        olivedrab: '6b8e23',
        orange: 'ffa500',
        orangered: 'ff4500',
        orchid: 'da70d6',
        palegoldenrod: 'eee8aa',
        palegreen: '98fb98',
        paleturquoise: 'afeeee',
        palevioletred: 'd87093',
        papayawhip: 'ffefd5',
        peachpuff: 'ffdab9',
        peru: 'cd853f',
        pink: 'ffc0cb',
        plum: 'dda0dd',
        powderblue: 'b0e0e6',
        purple: '800080',
        red: 'ff0000',
        rosybrown: 'bc8f8f',
        royalblue: '4169e1',
        saddlebrown: '8b4513',
        salmon: 'fa8072',
        sandybrown: 'f4a460',
        seagreen: '2e8b57',
        seashell: 'fff5ee',
        sienna: 'a0522d',
        silver: 'c0c0c0',
        skyblue: '87ceeb',
        slateblue: '6a5acd',
        slategray: '708090',
        snow: 'fffafa',
        springgreen: '00ff7f',
        steelblue: '4682b4',
        tan: 'd2b48c',
        teal: '008080',
        thistle: 'd8bfd8',
        tomato: 'ff6347',
        turquoise: '40e0d0',
        violet: 'ee82ee',
        violetred: 'd02090',
        wheat: 'f5deb3',
        white: 'ffffff',
        whitesmoke: 'f5f5f5',
        yellow: 'ffff00',
        yellowgreen: '9acd32'
    };
    function parseSingle(s)
    {
        s = s + s;
        return(parseInt(s, 16));
    }
    var color;
    while (o)
    {
        color = YD.getComputedStyle(o, "backgroundColor");
        if (color && color != "transparent")
        {
            break;
        }
        if (o == document.body)
        {
            color = "#ffffff";
            break;
        }
        o = o.parentNode;
    }
    color = color.replace(/ /g, "").toLowerCase();
    if (colorNames[color])
    {
        color = "#" + colorNames[color];
    }
    var r = 256, g = 256, b = 256;
    if (color.indexOf("#") == 0)
    {
        color = color.slice(1);
        if (color.length == 3)
        {
            r = parseSingle(color.slice(0,1));
            g = parseSingle(color.slice(1,2));
            b = parseSingle(color.slice(2,3));
        }
        else if (color.length == 6)
        {
            r = parseInt(color.slice(0,2), 16);
            g = parseInt(color.slice(2,4), 16);
            b = parseInt(color.slice(4,6), 16);
        }
    }
    else if (color.indexOf("rgb") == 0)
    {
        var results = color.match(/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})/);
        if (results && results.length >= 4)
        {
            r = parseInt(results[1], 10);
            g = parseInt(results[2], 10);
            b = parseInt(results[3], 10);
        }
    }
    var luminance = (0.3 * r + 0.59 * g + 0.11 * b) / 256;
    return({r: r, g: g, b: b, luminance: luminance});
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:35:06.407

正如建议的那样，我[**在这里**](https://stackoverflow.com/questions/2451803/get-computed-background-color-as-rgb-in-ie#2452075)检查了 CMS 的答案，它使用`queryCommandValue`. 对于 CSS 'color' 而不是 'backround-color' 的等价物，我不得不使用 'ForeColor' 而不是 'BackColor'，但这种技术似乎非常适合在 IE 中获得真正的价值。

这是我的问题中示例的修改后的工作版本：

```
<div id=el>&nbsp;</div>
<script type="text/javascript">
var el = document.getElementById('el');
el.style.color = 'red';
if (window.getComputedStyle) {
    el.innerHTML = getComputedStyle(el, null).color;
} else {
    var oRG = document.body.createTextRange();
    oRG.moveToElementText(el);
    var iClr = oRG.queryCommandValue('ForeColor');
    el.innerHTML = 'rgb('+(iClr & 0xFF)+','+((iClr & 0xFF00)>>8)+','+((iClr & 0xFF0000)>>16)+')';
}
</script> 
```

我一直在寻找第二个问题的答案，但似乎没有。如果我没看错的话，这个页面：[http](http://www.w3.org/TR/css3-color/) ://www.w3.org/TR/css3-color/解释说浏览器可能会返回一个“六位十六进制值”或 rgb(.. .) 函数值，alpha 值为 1" (?)。它说`transparent`退货`rgba(0,0,0,0)`。最后它说，“对于所有其他值，计算值是指定值”。这一点都不清楚。例如，它必须使用 RGB 整数还是可以使用百分比？值周围是否有空间？可以保留“指定值”的字母大小写吗？`hsl()`和`hsla()`颜色呢？

在实践中，浏览器似乎将值标准化为返回`rgb(...)`or `rgba(...)`，其中红-绿-蓝为整数，alpha 为小数，每个逗号后有一个空格，尽管这似乎没有正式指定。`transparent`作为一个例外，如果颜色的 alpha 值为 0 ，Firefox 似乎会返回，而不管其他值或它是如何设置的；例如，`rgba(255, 0, 255, 0)`。

所以，IE 获取 RGB int 的奇怪方法要简单得多，如果你可以使用它的话。

# ruby-on-rails - 尝试使用 run cap deploy:cold 使用 capistrano 部署 Rails 应用程序的问题

> ID：11839090
> 
> 赞同：0
> 
> 时间：2012-08-07T04:03:52.110
> 
> 标签：ruby-on-rails, ruby, linux, svn, capistrano

我正在通过 capistrano 部署一个 rails 应用程序，我在 svn checkout 时遇到错误。

这是我得到的错误：

```
failed: "sh -c 'svn checkout -q --username Username --password Password 
--no-auth-cache  -r108 https://subdomain.svn.beanstalkapp.com/main/trunk/project
/var/www/vhosts/example.com/releases/20120807043050 && (echo 108 > 
/var/www/vhosts/example.com/releases/20120807043050/REVISION)'" on example.com 
```

我不确定是什么导致了这个错误。我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T03:41:33.570

我的服务器上似乎没有安装颠覆。通过 yum 在 centos 上安装 subversion：

```
uname -a 
```

如果结果包含`i686`你的服务器是 32 位的，如果它包含`x86_64`，它是 64 位的。现在检查 yum 以获得最新版本的 svn：

```
yum list available | grep subversion 
```

找到合适的版本（32 位或 64 位），然后执行：

```
yum install subversion.<appropriate version> 
```

# android - EditText输入限制500字？

> ID：11839094
> 
> 赞同：2
> 
> 时间：2012-08-07T04:04:23.700
> 
> 标签：android

我有一个 EditText 给用户评论。现在我想输入限制是 500 字。这意味着用户最多可以写 500 个字的评论。我该如何实施？请帮我。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-07T05:06:09.587

您*可以*使用 a[`TextWatcher`](http://developer.android.com/reference/android/text/TextWatcher.html)来观看文本，并且不允许超过 500 个单词。

实施你的`TextWatcher`：

```
final int MAX_WORDS = 500;
final EditText editBox = (EditText) findViewById(<your EditText field>);
editBox.addTextChangedListener(new TextWatcher() {
    public void afterTextChanged(Editable s) {
        // Nothing
    }

    public void beforeTextChanged(CharSequence s, int start, int count, int after) {
        // Nothing
    }

    public void onTextChanged(CharSequence s, int start, int before, int count) {
        String[] words = s.toString().split(" "); // Get all words
        if (words.length > MAX_WORDS) {
            // Trim words to length MAX_WORDS
            // Join words into a String
            editBox.setText(wordString);
        }
    }
}); 
```

*注意*：您可能希望使用[此线程](https://stackoverflow.com/questions/1515437/java-function-for-arrays-like-phps-join)`String[]`中的某些内容来加入`wordString`。

**然而**，坦率地说，这并不是世界上最有效的方法。事实上，`String`在每个键条目上创建一个整体数组可能非常费力，尤其是在旧设备上。

我个人建议您允许用户输入他们想要的任何内容，然后在他们点击提交时验证字数。如果是`<=500`文字，允许它，否则拒绝它，并给他们某种信息（a [`Toast`](http://developer.android.com/guide/topics/ui/notifiers/toasts.html)？）告诉他们。

最后，通过字数进行验证非常不确定。请记住，像`&nbsp;`(character 160) 这样的东西可以用作空格，但不会被它拾取。您*最好*选择一个设置的字符限制并使用`maxLength`已经提供的答案限制该字段。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-07T05:57:02.827

我试过在 XML 文件中写这个，但它不起作用：

这肯定有效，实际上是解决问题的更好方法，您也可以将其用于自定义验证规则：

InputFilter maxChars = new InputFilter.LengthFilter(500); // 500 个字符 editText.setFilters(new InputFilter[] { maxChars });

# facebook-graph-api - 使用 Mono 的 Facebook API

> ID：11839096
> 
> 赞同：2
> 
> 时间：2012-08-07T04:04:52.843
> 
> 标签：facebook-graph-api, xamarin.ios, xamarin.android

我正在开发一个带有 MonoTouch 和 Mono for Android 的移动应用程序，可能还有 Win8。我需要访问 Facebook API，鉴于上述平台，我更愿意在 C# 中执行此操作。

我知道我可以自己向 Facebook API 发出 HTTP 请求，但我想知道是否有任何库可以为我包装这些请求并给我一个对象模型来编程。我进行了一些搜索，但大部分都遇到了不再受支持或关闭的库。

有没有人最近遇到过我的问题并可以提出建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T16:46:51.323

[这](https://github.com/xamarin/monodroid-samples/tree/master/Facebook)应该可以帮助您开始使用 Mono for Android 进行 facebook 集成。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:11:08.967

我不确定在移动设备上使用这些库有什么限制（如果有的话），但是有一些用于 C# 的 Facebook SDK。

这是一个 -

*   [facebook-csharp-sdk](https://github.com/facebook-csharp-sdk)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T13:59:01.547

我决定采用本地方法来尽可能接近无缝集成。

对于 iOS，这意味着[https://github.com/mono/monotouch-bindings/tree/master/facebook](https://github.com/mono/monotouch-bindings/tree/master/facebook)绑定到官方的 Objective-C Facebook SDK。到目前为止，我已经完成了登录，这非常容易。有了访问令牌，我就可以从上述库中进行未来的 Facebook API 调用，或者我可以创建一个带有包装 HTTP 调用的服务的 Mono 类库。然后可以在任何 C# 项目（例如 Android 的 Mono）中重用此服务。

我的计划是为 Android 做类似的事情。我见过人们将 MonoDevelop 中的 java 库编译为 AndroidResource，然后创建一个调用 Java 的包装器。

# ruby-on-rails - 如何处理前端内容以便根据当前用户显示菜单项？

> ID：11839098
> 
> 赞同：1
> 
> 时间：2012-08-07T04:04:59.887
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, menu

我正在使用 Ruby on Rails 3.2.2，我想“处理”/“生成”正确的前端内容，以便遵循主要基于当前用户“平等”管理菜单项的“通用”方式。也就是说，我想显示不同的菜单项

*   当前浏览的页面；
*   正在访问该页面的当前用户（该页面可能与不是当前用户的用户相关）。

*在哪里*（例如，在控制器、视图或模型文件中）以及*如何*（例如，在控制器、视图或模型文件中说明与当前用户相关的检查）我应该“声明”/“放置”那些“条件语句”？

* * *

此时*我*认为（主要是与当前浏览页面有关的问题）我可以通过使用[辅助方法](http://apidock.com/rails/AbstractController/Helpers/ClassMethods/helper_method)直接在控制器中处理这个问题......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T09:31:23.610

我倾向于将其放入 View 文件中，将简单或静态案例编码到 View 文件中，而更复杂的案例则需要不止一行编码到帮助程序中。

但为了不使视图文件膨胀，我建议使用部分从视图文件中卸载代码块。

我使用视图的原因之一是无论如何我都会进行某些基于用户的格式化，例如，如果我列出所有订单，那么普通用户会看到显示的某些列，而如果管理员登录，他会看到一对的附加列。这通常是用类似的东西完成的

```
<%if @curreny_user_type == 'admin'%><td> ...... </td><%end%> 
```

因此，在我现在开始将一些基于用户的逻辑拆分到控制器中并将其他逻辑拆分到视图中之前，我宁愿将它们始终放在同一个地方。

# applescript - Reminders.app 中的 Applescript 日期属性

> ID：11839101
> 
> 赞同：0
> 
> 时间：2012-08-07T04:05:18.380
> 
> 标签：applescript, osx-mountain-lion, reminders

我编写了这段代码，它应该解析由“/”分隔的给定字符串以及消息、日期和时间，然后在 Mountain Lion Reminders.app 中制作一个提醒。

当提醒似乎不喜欢我无缘无故传递给它的日期时，我的问题就出现了。

我收到此错误消息：

```
Invalid date and time date August 6 2012 6:00pm of list Reminders. 
```

这是我的代码：

```
--explode © 2008 ljr (http://applescript.bratis-lover.net)
on explode(delimiter, input)
local delimiter, input, ASTID
set ASTID to AppleScript's text item delimiters
try
    set AppleScript's text item delimiters to delimiter
    set input to text items of input
    set AppleScript's text item delimiters to ASTID
    return input --> list on error eMsg number eNum
    set AppleScript's text item delimiters to ASTID
    error "Can't explode: " & eMsg number eNum
end try
end explode

--reminders © 2012 Jonathan Wiesel (http://github.com/jonathanwiesel)
set myList to explode("/", "visit my mom/today/6:00pm")
set theReminder to item 1 of myList
set queryDay to item 2 of myList
set theHour to item 3 of myList
set theYear to year of (current date)
if queryDay = "today" then
   set theDay to day of (current date) as string
   set theMonth to month of (current date)
   set theDate to theMonth & " " & theDay & " " & theYear
else if queryDay = "tomorrow" then
   set theDay to (day of ((current date) + (24 * 60 * 60)))
   if (day of (current date)) < (day of ((current date) + (24 * 60 * 60)))
        set theMonth to month of (current date)
    else
        set theMonth to (month of ((current date) + (30 * 24 * 60 * 60)))
    end if     
       if year of (current date) < year of ((current date) + (24 * 60 * 60)) then
    set theYear to (year of (current date)) + 1
    set theDate to theMonth & " " & theDay & " " & theYear & " "
   else
    set theYear to year of (current date)
    set theDate to theMonth & " " & theDay & " " & theYear & " "
   end if
else
   set theDate to queryDay
end if

set stringedDate to theDate as string
set stringedHour to theHour as string
set stringedAll to stringedDate & " " & stringedHour
tell application "Reminders"
tell list "Reminders"
    make new reminder with properties {name:theReminder, due date:date stringedAll}
end tell
end tell 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T14:48:18.900

好吧，这是有充分理由的。您正在告诉提醒应用程序将字符串格式的日期转换为日期对象。提醒不知道该怎么做。Applescript 可以。因此，只需更改脚本的最后几行，使 applescript 如下所示。基本上你不应该告诉应用程序做一些不在它的applescript字典中的事情。

```
set stringedAll to date (stringedDate & " " & stringedHour)
tell application "Reminders"
    tell list "Reminders"
        make new reminder with properties {name:theReminder, due date:stringedAll}
    end tell
end tell 
```

# c# - .Net / C# 客户端应用程序的 WITSML api 库？

> ID：11839104
> 
> 赞同：7
> 
> 时间：2012-08-07T04:05:37.073
> 
> 标签：c#, .net, xml, api

Witsml 是一种用于石油和天然气钻井行业的 xml 数据和查询标准。在与服务器通信（通过 http）时，它对数据和查询模板都使用 xml。在 xml 中手动构建查询有点混乱，特别是因为模板指定了要返回的元素*以及*如何过滤它们。

我知道一些 .net 库可以简化客户端使用 witsml 的工作（即，通过将 api 抽象为更多的对象结构），但我很好奇是否有人有使用这些库的实际经验以及如何使用这些库他们表现得很好。在构建需要与远程 witsml 服务器交互的 .net 应用程序时使用什么建议？

更新添加到我发现存在的 c# 库的链接：

[http://nwitsml.org](http://nwitsml.org)

[http://setiri.com/witsml](http://setiri.com/witsml)

[http://sourceforge.net/projects/stdsdevkit/](http://sourceforge.net/projects/stdsdevkit/)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-11T19:10:05.827

我将用我的发现回答我自己的问题：

-NWitsml.org - 对 witsml 服务器的开源、只读访问。1.2 到 1.4 兼容。基于来自 Jwitsml 项目的 java 代码。

-Standards DevKit - 对 witsml 服务器 1.3.1 和 1.4.1 兼容的读写访问。witsml 查询和文档的“愚蠢”序列化/反序列化，即没有状态跟踪或不了解查询包含的内容，因此操作员必须足够了解规范才能创建正确的查询。开源。

-Setiri.Witsml SDK - 对 witsml 服务器版本 1.3.1（1.4.1 兼容）的读写访问。实体跟踪他们的状态并包含大量的 witsml 知识，因此用户不需要成为大师，因此是更发达/成熟的产品。开发者席位许可证。

# asp.net-mvc-3 - 在循环语句中生成 MVC3 RadioButton 列表

> ID：11839111
> 
> 赞同：0
> 
> 时间：2012-08-07T04:06:00.343
> 
> 标签：asp.net-mvc-3, loops, razor, radiobuttonfor

我的一位同事创建了一个模型，就在这里。

**模型**

```
[Serializable]
public class ModifyCollegeListModel
{
    public List<SchoolModel> CollegeList { get; set; }
    public List<SchoolListModel> SchoolList { get; set; }
    public string Notes { get; set; }
    public int QuestionnaireId { get; set; }
}

[Serializable]
public class SchoolModel
{
    public Guid SchoolId { get; set; }
    public string SchoolName { get; set; }
    public string StateName { get; set; }
    public int DisplayIndex { get; set; }
    public int DetailId { get; set; }
    public int CategoryId { get; set; }
    public int? ApplicationStatusId { get; set; }
} 
```

我打算创建一个循环，为 ApplicationStatusId 生成单选按钮列表，就像这样......

**剃刀代码**

```
 @foreach (SchoolModel justright in Model.CollegeList.Where(m => m.CategoryId == 3).OrderBy(m => m.SchoolName).ToList<SchoolModel>())
    {
        <tr class="@HtmlHelpers.WriteIf(eventCounter % 2 == 0, "even", "odd")">
                <td class="school"><b>@justright.SchoolName</b></td>
                <td class="location"><b>@justright.StateName</b></td>
            <td><label>@Html.RadioButtonFor(x => justright.SchoolId, (int)BrightHorizons.CC.BusinessLogic.CollegeListApplicationStatusEnum.DidNotApply)</label></td>
            <td><label>@Html.RadioButtonFor(x => justright.SchoolId, (int)BrightHorizons.CC.BusinessLogic.CollegeListApplicationStatusEnum.Accepted)</label></td>
            <td><label>@Html.RadioButtonFor(x => justright.SchoolId, (int)BrightHorizons.CC.BusinessLogic.CollegeListApplicationStatusEnum.NotAccepted)</label></td>
        </tr>

    } 
```

但是会发生的是，所有创建的单选按钮都具有相同的名称，因此它们被分组为一个巨大的单选按钮集合。不是通过学校ID...*挠头*

有人可以在这里帮助我，并指出我将如何创建按行分组的单选按钮的正确方向吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:23:22.290

我会做两件事。

首先，我将从视图中删除过滤逻辑。我的意思是这部分：

```
Model.CollegeList.Where(m => m.CategoryId == 3).OrderBy(m => m.SchoolName).ToList<SchoolModel>() 
```

这种逻辑属于服务。它也将使视图更清洁。

其次，我认为您需要使用 for 循环，以便 MVC 将所有内容绑定回您想要的方式：

```
for (int i = 0; i < Model.CollegeList.Count; i++) {
    <tr class="@HtmlHelpers.WriteIf(eventCounter % 2 == 0, "even", "odd")">
        <td class="school"><b>@CollegeList[i].SchoolName</b></td>
        <td class="location"><b>@CollegeList[i].StateName</b></td>
        <td><label>@Html.RadioButtonFor(x => x.CollegeList[i].SchoolId, (int)BrightHorizons.CC.BusinessLogic.CollegeListApplicationStatusEnum.DidNotApply)</label></td>
        <td><label>@Html.RadioButtonFor(x => x.CollegeList[i].SchoolId, (int)BrightHorizons.CC.BusinessLogic.CollegeListApplicationStatusEnum.Accepted)</label></td>
        <td><label>@Html.RadioButtonFor(x => x.CollegeList[i].SchoolId, (int)BrightHorizons.CC.BusinessLogic.CollegeListApplicationStatusEnum.NotAccepted)</label></td>
    </tr>
} 
```

使用 for 循环后，您会注意到单选按钮名称和 ID 还包含它们在 CollegeList 中的索引。例如：

```
<input id="CollegeList_0__SchoolId" name="CollegeList[0].SchoolId" type="radio" value="2"> 
```

# html - 浏览器之间 HTML 中的 SVG 缩放不一致

> ID：11839118
> 
> 赞同：2
> 
> 时间：2012-08-07T04:06:41.420
> 
> 标签：html, css, safari, svg, scale

我正在尝试在 HTML 中使用 SVG，我不太熟悉。它作为对象嵌入到 html 中。

SVG 可通过 CSS 进行扩展。当窗口为全尺寸时（即足够大，SVG 达到 CSS 允许的最大宽度），它在 Firefox、Chrome 和 Safari 中看起来很正常。当浏览器窗口很小时，实际的 SVG 图像以及我认为它的容器在 Firefox 和 Chrome 中都会适当地缩小。然而，在 Safari（桌面和 iOS）中，SVG 图像本身会缩小，但它的“容器”保持在其原始的最大高度。换句话说，在 Safari 中，实际图像的顶部和底部以较窄的宽度存在太多空间。

我目前有通过 CSS 分配的宽度、最大宽度和最大高度值。应用除“auto”以外的高度值会给我在所有浏览器中的问题。我已经从 SVG 本身中删除了宽度和高度值，以使其适应浏览器大小。

我想知道如何让 Safari 以与 Firefox 和 Chrome 相同的方式缩放 SVG 图像。感谢您提供的任何意见！

请查看此示例：http: [//jay-bee-why.com/demos/svg-scaling.html](http://jay-bee-why.com/demos/svg-scaling.html)

并查看实际站点：[http](http://twowordsfor.com) ://twowordsfor.com （**编辑：现已弃用**）

这是我在 HTML 中嵌入 SVG 的方式：

```
<div class="container">
       <object data="image.svg" type="image/svg+xml" id="logo">
             <img src="image.png">
       </object>
</div> 
```

这是CSS：

```
.container {width:99.8%;  -webkit-box-sizing:border-box; -moz-box-sizing:border-box; box-sizing:border-box; padding:30px;}

#logo {width:100%; max-width:974px; max-height:300px; display:block; margin:0px auto 0px auto;} 
```

这是 SVG 文件的顶部：

```
<?xml version="1.0" encoding="utf-8"?>

<!-- Generator: Adobe Illustrator 15.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
 viewBox="0 0 967 135" enable-background="new 0 0 967 135" xml:space="preserve"> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-09-28T07:16:55.260

这是现在的样子：

```
.container {width:99.8%;  -webkit-box-sizing:border-box; -moz-box-sizing:border-box; box-sizing:border-box; padding:30px;}

#logo {width:100%; max-width:974px; max-height:300px; display:block; margin:0px auto 0px auto;}
```

```
<div class="container">
       <object data="https://cdn.sstatic.net/Sites/stackoverflow/img/sprites.svg" type="image/svg+xml" id="logo">
       </object>
</div>
```

# mysql - 根据屏幕大小删除列

> ID：11839122
> 
> 赞同：0
> 
> 时间：2012-08-07T04:07:31.750
> 
> 标签：mysql, html, css

我有一个 Python 程序，用于`mod_python`从 MySQL 检索数据库条目并以 HTML 格式显示它们。该网页最终成为一个包含四列的表格，跨越整个页面。（我用 CSS 格式化）

如果屏幕宽度低于一定数量的像素，是否可以使用 CSS 更改列数？这四列中的一列包含大量信息，不适合在手机屏幕上查看。文字显得小而难读，放大也不方便。我想知道，如果屏幕尺寸小于 800 像素，是否可以使用 css 或其他方式删除此列？因此，在 iPhone 3g 上，表格将仅显示三列，而不是在更大的屏幕上显示四列。这将使文本更容易在旅途中阅读。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T04:10:11.517

是的，它是，而且很容易。您可以使用媒体查询来做到这一点：

```
@media screen and (max-width: 800px) { your styles here } 
```

因此，在您的情况下，您的 css 将具有列的样式，例如`.column4 {display:block;}`，然后是您的媒体查询：

```
@media screen and (max-width: 800px) { 

   .column4 {
       display:none;
   }

} 
```

您可以针对不同的屏幕尺寸进行不同的查询（在我的最新项目中，我使用了 6 种不同的布局，用于 6 种不同的分辨率和设备）。添加一些百分比，您可以拥有一个非常好的响应式网站。

# entity-framework - 为什么在 SQL 中 SingleOrDefault 结果 TOP(2)？

> ID：11839123
> 
> 赞同：56
> 
> 时间：2012-08-07T04:07:40.497
> 
> 标签：entity-framework, tsql

我正在使用 EF4.0，我写了一个查询：

```
var query = context.Post.Where(p => p.Id == postId).SingleOrDefault(); 
```

我只需要此查询中的一篇文章。我认为 SingleOrDefault() 会生成“SELECT TOP(1) ...”，但是当我查看 SQL Profiler 时，它是：

```
exec sp_executesql N'SELECT TOP (2) 
[Extent1].[Id] AS [Id], 
[Extent1].[Title] AS [Title], 
[Extent1].[Slug] AS [Slug], 
[Extent1].[PubDate] AS [PubDate], 
[Extent1].[PostContent] AS [PostContent], 
[Extent1].[Author] AS [Author], 
[Extent1].[CommentEnabled] AS [CommentEnabled], 
[Extent1].[AttachmentId] AS [AttachmentId], 
[Extent1].[IsPublished] AS [IsPublished], 
[Extent1].[Hits] AS [Hits], 
[Extent1].[CategoryId] AS [CategoryId]
FROM [dbo].[Post] AS [Extent1]
WHERE [Extent1].[Id] = @p__linq__0',N'@p__linq__0 uniqueidentifier',@p__linq__0='ECD9F3BE-3CA9-462E-AE79-2B28C8A16E32' 
```

我想知道为什么 EF 会导致 SELECT TOP (2)？我只需要一个帖子。

* * *

## 回答 #1

> 赞同：81
> 
> 时间：2012-08-07T04:11:13.387

它选择前 2 条，以便如果数据库中实际上有 2 条或多于 2 条记录，则会引发异常。如果它只选择前 1 名，则无法出错。

* * *

## 回答 #2

> 赞同：34
> 
> 时间：2012-08-07T08:20:41.230

通过询问`SingleOrDefault`一个序列，你要求这种行为：

*   如果序列正好有`0`元素，则返回`default`序列的元素类型
*   如果序列正好有`1`元素，则返回元素
*   如果序列有多个`1`元素，则抛出

做 a`TOP (1)`将授权前两部分，但不是第三部分。只有通过 a `TOP (2)`，我们才能区分完全`1`记录和超过`1`记录。

如果您*不*想要或不需要上述行为的第三部分，请改用`FirstOrDefault`.

# php - PHP 视频上传脚本

> ID：11839127
> 
> 赞同：1
> 
> 时间：2012-08-07T04:07:59.907
> 
> 标签：php, html, forms, file-upload, directory

我正在尝试允许用户通过此表单上传视频

```
 <form method='POST' name='uploadform' enctype='multipart/form-data' action=''>
                                Video: <input type='file' name='filename' /><br/>
                                       <input type='submit' name='cmdSubmit' value='Upload' />"; 
```

然后使用这个 php 脚本，我试图将视频移动到另一个文件夹中进行存储。

```
 if($_POST['cmdSubmit']){
                            $filename = basename($_FILES['filename']['name']);
                            move_uploaded_file($_FILES['filename']['tmp_name'], "videos/" . $filename);
                    } 
```

我遇到的问题是视频没有被移动到我的文件夹中。我已经对如何做到这一点进行了研究，并尝试了许多错误解决方法，但似乎没有任何效果，所以如果您对我的问题有任何帮助，我们将不胜感激。表格完美运行。谢谢....

我已经搜索了 google 和 youtube，如果您知道任何很棒的文章，也找不到任何关于此的非常好的文章。

我尝试使用此代码进行故障排除..

```
if(move_uploaded_file($_FILES['filename']['tmp_name'], "videos/" . $filename)){
                                echo "This worked Successfully";

                            }else{
                                echo "Error";   
                            }
                    } 
```

它没有回应任何一种说法......

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-07T04:13:24.850

在此代码中尝试以下`PHP`代码，您可以`Restrictions`在上传时使用一些代码，您可以设置上传时需要允许的 Exts。

`HTML` `FORM`代码

```
<html>
<body>
<form action="upload_file.php" method="post"   enctype="multipart/form-data">
  <label for="file">Filename:</label>
     <input type="file" name="file" id="file" />
<br />
<input type="submit" name="submit" value="Submit" />
</form>
</body>
</html> 
```

`PHP`下面的代码

```
<?php
$allowedExts = array("jpg", "jpeg", "gif", "png");
$extension = end(explode(".", $_FILES["file"]["name"]));
if ((($_FILES["file"]["type"] == "image/gif")
|| ($_FILES["file"]["type"] == "image/jpeg")
|| ($_FILES["file"]["type"] == "image/pjpeg"))
&& ($_FILES["file"]["size"] < 20000)
&& in_array($extension, $allowedExts))
  {
  if ($_FILES["file"]["error"] > 0)
    {
    echo "Return Code: " . $_FILES["file"]["error"] . "<br />";
    }
  else
    {
    echo "Upload: " . $_FILES["file"]["name"] . "<br />";
    echo "Type: " . $_FILES["file"]["type"] . "<br />";
    echo "Size: " . ($_FILES["file"]["size"] / 1024) . " Kb<br />";
    echo "Temp file: " . $_FILES["file"]["tmp_name"] . "<br />";

    if (file_exists("upload/" . $_FILES["file"]["name"]))
      {
      echo $_FILES["file"]["name"] . " already exists. ";
      }
    else
      {
      move_uploaded_file($_FILES["file"]["tmp_name"],
      "upload/" . $_FILES["file"]["name"]);
      echo "Stored in: " . "upload/" . $_FILES["file"]["name"];
      }
    }
  }
else
  {
  echo "Invalid file";
  }
?> 
```

对于任何其他`Reference`请检查这里`http://w3schools.com/php/php_file_upload.asp`或发表评论

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-14T11:03:52.573

在 php.ini 中查找并更新如下：

```
post_max_size = 8M

upload_max_filesize = 2M

max_execution_time = 30

max_input_time = 60

memory_limit = 8M

Change to:

post_max_size = 750M

upload_max_filesize = 750M

max_execution_time = 5000

max_input_time = 5000

memory_limit = 1000M 
```

# mysql - 选择其中列出了至少一个子位置的位置

> ID：11839130
> 
> 赞同：0
> 
> 时间：2012-08-07T04:08:42.667
> 
> 标签：mysql, join, self-join

我有一个具有以下结构的表，

```
+-----------------------+------------------+------+-----+---------+----------------+
| Field                 | Type             | Null | Key | Default | Extra          |
+-----------------------+------------------+------+-----+---------+----------------+
| location_id           | int(10) unsigned | NO   | PRI | NULL    | auto_increment |
| name                  | varchar(60)      | NO   |     | NULL    |                |
| city_id               | int(10) unsigned | NO   | MUL | NULL    |                |
| parent_location_id    | int(11)          | NO   |     | NULL    |                |
+-----------------------+------------------+------+-----+---------+----------------+ 
```

这里一个位置可能有也可能没有 parent_location_id，它是同一张表中的另一行。

现在我想选择所有至少有一个子位置的位置。我有以下查询。这是对的吗？

```
SELECT DISTINCT (
   a.location_id
), a.name, a.is_delivery_available, a.is_booking_available
FROM  `locations` a
JOIN  `locations` b ON a.location_id = b.parent_location_id
WHERE a.`city_id` =5
ORDER BY a.name ASC 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T04:15:48.517

使用`LEFT JOIN`而不是`INNER JOIN`

```
SELECT  a.location_id
        a.name, 
        a.is_delivery_available, 
        a.is_booking_available
FROM   `locations` a
            LEFT JOIN  `locations` b 
                ON a.location_id = b.parent_location_id
WHERE a.`city_id` = 5
ORDER BY a.name ASC 
```

# php - javascript代码没有被执行

> ID：11839132
> 
> 赞同：1
> 
> 时间：2012-08-07T04:08:52.417
> 
> 标签：php, javascript

我正在做这个项目，我正在尝试获取返回值，以便我可以根据客户选择的内容自动填充我的输入框。

然而，这段代码没有执行，我不知道为什么。当我删除时，`src="jquery area"` `$(#dropdown).on`是一个未定义的方法；不知道该怎么做。

```
<script  type="text/javascript"  src="http://code.jquery.com/jquery-latest.min.js">
//$.post(url, [data], [callback], [callback type])

    ("#dropdown").on('change', function() {//when you select something from the dropdown function run and will switch the data
        $.post("backgroundScript.php", {
                uid: $(this).val()
            },
             function(data) {
                 $("#first").val(data.first);
               $("#last").val(data.last);
               // etc.;
            }, 'json'
        );

    });
</script> 
```

这是我的完整代码

```
try {  
  # MySQL with PDO_MYSQL  
  $DBH = new PDO("mysql:host=$hostname;dbname=$database", $username, $password);  
  $DBH->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION );

  //$DBH->prepare('SELECT first FROM contacts');
}  
catch(PDOException $e) { 
    echo "I'm sorry, I'm afraid I can't do that.";  
    file_put_contents('PDOErrors.txt', $e->getMessage(), FILE_APPEND);   
}  
//get query
$FNresult=$DBH->query('SELECT first FROM contacts'); 
//set fetch mode
$FNresult->setFetchMode(PDO::FETCH_ASSOC);

$dropdown = "<select name='contacts' id='contacts' >";

while($row =$FNresult->fetch()) {

  $dropdown .= "\r\n<option value='{$row['first']}'>{$row['first']}</option>";
 // echo getLN();

}

$dropdown .= "\r\n</select>";

echo $dropdown;

//}
/*
//                  Get last name

function getLN(){
    $query = "SELECT last FROM contacts";
    $LNresult=mysql_query($query);

    $last;
    while($row = mysql_fetch_assoc($LNresult)) {

        $last = "{$row['last']}";

    }
    echo $last;
}//end getLN
*/

$DBH = null; 
?>
<!-- javascript on client-side -->
<script  type="text/javascript"  src="http://code.jquery.com/jquery-latest.min.js">
//$.post(url, [data], [callback], [callback type])

    ("#dropdown").on('change', function() {//when you select something from the dropdown function run and will switch the data
        $.post("backgroundScript.php", {
                uid: $(this).val()
            },
             function(data) {
                 $("#first").val(data.first);
               $("#last").val(data.last);
               // etc.;
            }, 'json'
        );

    });
</script>

<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js">

/*("#dropdown").on('connection', function (stream) {
  console.log('Ah, we have our first user!');
});*/</script>

<form action="insert.php" method="post">
First Name: <input type="text" id="first" name="first"><br>
Last Name: <input type="text" id="last"><br>
Phone: <input type="text" id="phone"><br>
Mobile: <input type="text" id="mobile"><br>
Fax: <input type="text" id="fax"><br>
E-mail: <input type="text" id="email"><br>
Web: <input type="text" id="web"><br>
<input type="Submit">
</form> 
```

这是我在输出页面上新编辑的脚本=

```
<script type="text/javascript"
     src="http://code.jquery.com/jquery-latest.min.js"></script>
<script>    

//$("#dropdown-parent").on('change','#dropdown', function() { // replace dropdown-parent
    $("#contacts").on('change','#dropdown', function() {

        $.post("backgroundScript.php", { 
                uid: $(this).val() 
            }, 
             function(data) { 
                 $("#first").val(data.first); 
                 $("#last").val(data.last); 
                 // etc.; 
            }, 'json' 
        ); 
    }); 
</script> 
```

这是 backgroundScript.php 的 php 文件 =

```
<?

// background script

// retrieve data based on $_POST variable, set to $returnArray

$returnArray = $_POST[array(
         'first' => firstName,
         'last' => lastName,
)];

/****************************
 * the structure of returnArray should look something like
     array(
         'first' => firstName,
         'last' => lastName,

     )*/
echo json_encode($returnArray);
?> 
```

该文件将发送信息，因此 javascript 将用指定区域中的内容替换表单字段

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T04:14:02.583

看起来您的 PHP 脚本正在返回一些格式化的 html，然后您尝试通过 .val() 将其插入 dom。该方法用于设置表单字段的值，而不是插入整个 html 块。尝试使用`.append()`or`.html()`代替，加上上面 Phil 建议的操作 - 将您的脚本分成多个块。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:13:19.877

```
<script  type="text/javascript"  src="http://code.jquery.com/jquery-latest.min.js"></script>
<script>    
    $("#dropdown-parent").on('change','#dropdown', function() { // replace dropdown-parent
        $.post("backgroundScript.php", { 
                uid: $(this).val() 
            }, 
             function(data) { 
                 $("#first").val(data.first); 
                 $("#last").val(data.last); 
                 // etc.; 
            }, 'json' 
        ); 

    }); 
<script> 
```

在你的 PHP 中你应该有这样的东西

```
echo json_encode(array('first' => $some_value, 'last' => "Other value")); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T04:15:54.197

您需要在使用之前包含您的 jQuery：

```
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script>
  // Your Code Here
</script> 
```

更好的是使用外部 JS：

```
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript" src="js/site.js"></script> 
```

如果您使用的是 HTML5，`type="text/javascript"`则甚至不需要：

```
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="js/site.js"></script> 
```

更好的是使用 jQuery [CDN](http://en.wikipedia.org/wiki/Content_delivery_network)：

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="js/site.js"></script> 
```

此外，正如其他人所指出的，一定要`$`在 jQuery 工厂的开头使用。IE`$('#dropdown')`

- 更新 -

进一步说明项目树，大多数基本项目树如下所示：

```
root/
 |--css/
 |--images/
 |--js/
    |--site.js
 |--index.html 
```

-- 更新 2 --

一个例子`$.post`

```
$.post({
    'somescript.php', // Script your posting to
    { 
        someParam1: someData1, // $_POST['someParam1']
        someParam2: someData2
        // etc etc
    },
    function(response){
        // Do something with JSON response upon successful post
        alert(response);
    },
    'json' // Tells the script that JSON will be returned
}); 
```

-- 更新 3 --

好的，所以基本上你想做的是......

Javascript：

```
var dropdown = $('#dropdown');

dropdown.bind('change', function(){
    $post.(
        'backgroundScript.php', 
        { 
            first: dropdown.val() 
        },
        function(response) {
            $('#first').val(response.first);
            $('#last').val(response.last);
            // Repeat for all of your form fields
        },
        'json'
    );
}); 
```

接收 POST 参数：

```
$firstName = $_POST['first']; 
```

MySQL 查询将类似于以下内容：

```
$sth = $dbh->prepare('SELECT *
    FROM contacts
    WHERE first = :first');
$sth->bindParam(':first', $first, PDO::PARAM_STR);
$sth->execute(); 
```

然后将所有 MySQL 字段添加到关联数组 array(key => value) 中，然后`json_encode`返回数组。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T04:15:32.183

不应该

```
("#dropdown").on('change', function() { 
```

是

```
$("#contacts").on('change', function() { 
```

# java - 如何为我的小时构建数组

> ID：11839135
> 
> 赞同：-2
> 
> 时间：2012-08-07T04:09:11.420
> 
> 标签：java, arrays, multidimensional-array

我想通过最新的小时和分钟检查 URL。
小时 --> 当前小时 --> 0 .. 23
分钟 --> 修复 4 个元素：{5, 10, 15, 20}
使用下面的代码，我只能检查当前小时，但不能检查前一小时。如何为我的 Hour 构建数组？非常感谢

```
public int getMyTime() {
    Calendar calToday = Calendar.getInstance();
    int hour = calToday.get(Calendar.HOUR_OF_DAY);
    int[] minute = {5, 10, 15, 20};
    int temp = 0;
    for (int i=hour; i>=0; i--) {
        for (int j=minute.length; j>=0; j--) {
            String url = "http://abc="+hour+minute[j];
            if (Live(url) == true) {
                temp = hour+minute;
                break;
            }
        }
    }
    return temp;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T04:13:14.397

```
for (int i=hour; i>=0; i--) { 
```

在这里，您设置`i`为当前`hour`但在：

```
String url = "http://abc="+hour+minute[j]; 
```

和

```
temp = hour+minute; 
```

你正在使用`hour`而不是`i`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T15:29:16.887

您应该通过设置 j = minute.length - 1 来纠正您的内部 for 循环。根据定义，您的数组索引将从 0 开始到 3，因为有 4 个元素。你的 getInstance() 方法在做什么？如果您想计算每小时和每分钟，请将您的小时设置为 1 并增加它直到达到 12。也这样做几分钟，只需增加它直到 59。您可以做一些数学来计算它是 am 还是pm 你可以使用一个数组，它只需要更多的工作，因为你必须存储每个小时并让你的循环遍历每个元素并pring小时是什么，分钟是什么。

# java - Java：将类导入 Jframe

> ID：11839136
> 
> 赞同：4
> 
> 时间：2012-08-07T04:09:13.280
> 
> 标签：java, swing, jframe

我是 java 新手，我想知道将类导入 JFrame 的最佳方法是什么，因为我有一些小应用程序我想在 Eclipse 以外的窗口中运行。

这是我正在使用的一些代码（它是傻瓜书中某些代码的修改版本）：

```
import static java.lang.System.out;
import java.util.Scanner;
import java.util.Random;

public class GuessAgain {

/**
 * @param args
 */
public static void main(String[] args) {
    // Set up input and main info
    Scanner input = new Scanner(System.in);
    int numGuesses = 0;
    int randomNumber = new Random().nextInt(10) + 1;

    // Display welcome message
    out.println("~-=********************=-~");
    out.println("    The Guessing Game!    ");
    out.println("~-=********************=-~");

    // Give instruction
    out.print("Please enter a number between 1 and 10: ");
    int inputNumber = input.nextInt();
    numGuesses++;

    // Recurse till user gets the answer
    while (inputNumber != randomNumber) {
        out.println();
        out.println("~-=********************=-~");
        out.println("     Please try again     ");
        out.println("~-=********************=-~");
        out.print("Enter another number between 1 and ten: ");
        inputNumber = input.nextInt();
        numGuesses++;
    }
    out.print("You won after: " + numGuesses + " guesses");

}

} 
```

那么我该如何将所有这些都放入一个窗口中呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T04:11:12.227

您可能想看看 oracle 的[swing 教程](http://docs.oracle.com/javase/tutorial/uiswing/start/index.html)，这就是您需要学习如何使用才能制作框架/窗口的内容。您可以使用它为您的游戏制作一个漂亮的 GUI（图形用户界面），而不仅仅是使用 Eclipse 的控制台；）

# javascript - 防止加载页面的javascript

> ID：11839142
> 
> 赞同：0
> 
> 时间：2012-08-07T04:10:14.617
> 
> 标签：javascript, jquery

我有用于临时存储网页代码的 div，但是，该页面包含 javascript，我应该怎么做才能阻止这些 javascript，以便我的程序不会被中断？我使用下面的代码加载

```
$.ajax({
type:'GET',
dataType:'html',
cache:false,
url:file,
success:function(html){
     ...
     ...
     $('#temp').html(html)
}
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:14:44.397

该`.html(string)`函数将使用`innerHTML`评估所有脚本。您可以`.text(string)`改为临时保存您的 HTML 内容。

```
$('#temp').text(html); 
```

然后稍后检索它并根据需要执行它

```
$('#element').html($('#temp').text()); 
```

但是，如果您只想摆脱所有`<script>`标签，请使用简单的正则表达式替换。

****更新****

StackOverflow[已经有了一些](https://stackoverflow.com/questions/6659351/removing-all-script-tags-from-html-with-js-regular-expression/6660151#6660151)关于删除`<script>`字符串中标签的答案。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-07T04:15:32.363

您可能只需要使您的 ajax 请求成为同步请求，但您的问题有点不清楚，而且很可能是不可能的。

[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

让我澄清一下，因为我被否决了：如果您的脚本在页面中的其他代码段之前运行，您可以简单地删除脚本标签，但是我不认为这是一个可以接受的答案，因为它可能会导致您的页面部分依赖这些脚本停止运作。

如果脚本已经在运行，那么删除脚本标签可能还不够，或者可能会产生错误，从而导致脚本无法运行。

你需要提供一个更好的例子来说明你正在做什么才能得到一个明确的答案。

# jquery - jquery触发灯箱弹出冲突

> ID：11839144
> 
> 赞同：1
> 
> 时间：2012-08-07T04:10:20.873
> 
> 标签：jquery, jquery-plugins, triggers

这可能是一个愚蠢的问题（不是全部吗？），但我已经被一些事情难住了一段时间......我正在尝试构建一个灯箱类型的弹出窗口来显示有关列表项的详细信息在定义列表中。我已经正常工作了`fadeIn`，`fadeOut`但是如果我在弹出窗口仍然处于活动状态时尝试在不同的列表项上触发相同的操作，我会遇到错误。

这是我正在使用的代码...

```
 <html>, etc...
    <div>
       <dl>
        <dt>Trigger Element</dt>
        <dd>
            <div>
            (lightbox content)
            </div>
        </dd>
       <dl>
        <dt>Trigger Element</dt>
        <dd>
            <div>
            (lightbox content)
            </div>
        </dd>
       Etc....
     </dl>

 (function() {
    // Highlight the target dt items
    $('div.cigar-pop').parent().prev().addClass('cigar-highlight');

    // Initialize the lightbox functionality
    $('dd').children('div').addClass('hidden');
    $('dt').on('click', function() {
        //I'm still not entirely sure why this part worked...
        var $this = this;
        $(this).next()
            .children('div')
                .addClass('active')
                    .fadeIn(800, function($this) {
                        $('body').one('click', function(){ 
                            $('.active').fadeOut('fast')
                                .removeClass('active');
            });
        });
    });

    })(); 
```

我打赌这很简单，但我不知道是什么。对不起，如果这对于这个论坛无与伦比的天才来说有点初级：P

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:26:02.637

您可以添加检查以查看是否已经存在`.active`元素，然后返回。

```
$('dt').on('click', function() {
    if($('.active').length) return; // do not return false;
    // Your code 
```

这将阻止执行此功能块中的其余代码。换句话说，当有一个`.active`元素时，点击另一个元素的行为`dt`将是隐藏当前`.active`元素，而不是显示一个新元素。

我们不这样做的原因`return false;`是这会阻止事件传播，这是我们需要它做的才能到达`body`，因此当前`.active`元素被删除/隐藏。

# php - jQuery/Ajax/Php/Mysql 流体随机图像轮播

> ID：11839146
> 
> 赞同：0
> 
> 时间：2012-08-07T04:10:42.087
> 
> 标签：php, jquery, ajax, delay

我什至不知道从哪里开始，因为我到处找了找，也找不到什么该死的东西。非常感谢您在此问题上提供的任何方向。

所以：

我要做的是将10,000行mysql（图像名称）加载到一个数组中，并从屏幕左上角每10毫秒显示一次，当它到达最后一个时，它会自动重新开始。我提供了一个其他人正在做什么的示例的链接，但他们正在使用来自 instagram 的实时 API。无论如何，如果有人有任何想法，请告诉我，我觉得这很难。

[http://saopaulo-now.jit.su/](http://saopaulo-now.jit.su/)

理想情况下，我还希望能够将鼠标悬停在上面以启动迷你视频并显示放大的图片，但我需要先弄清楚图像阵列的实际功能，哈哈。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-25T22:49:50.853

引导程序不是一个坏主意。我正在使用 bootstrap-carousel 来做一个交换图像的图像区域。

它使用起来并不难，您可以更改访问它的方式。对于这么多图像，我可能会使用 ajax 来提取图像并让我的控制器返回具有当前索引 (+1) 的图像以遍历它们。

您可以如何实现的许多变体，并且您可以使用其他轮播插件 - 引导程序似乎非常紧凑。

这是帮助一些示例的要点： [https ://gist.github.com/3471760](https://gist.github.com/3471760)

没什么太花哨的。祝你好运

# oracle10g - 表 dba_data_files 的 BYTES 和 USER_BYTES 列是什么意思

> ID：11839153
> 
> 赞同：1
> 
> 时间：2012-08-07T04:11:09.707
> 
> 标签：oracle10g

所以，我运行了查询

```
select * from dba_data_files 
```

我想知道专栏`BYTES`和`USER_BYTES`意思是什么。BYTES 是指分配的空间，USER_BYTES 是指已用完的空间吗？请说清楚。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T04:38:37.173

根据[文档](http://docs.oracle.com/cd/B19306_01/server.102/b14237/statviews_3083.htm)：

`BYTES`文件大小（以字节为单位）

`USER_BYTES`可用于用户数据的文件大小。文件的实际大小减去 USER_BYTES 值用于存储文件相关的元数据。

例如，在我的系统上，`BYTES-USER_BYTES`每个文件正好是 1,048,576 (1M)。

在这种情况下，“分配的空间”和“用完的空间”实际上是一回事——即磁盘上分配的空间=磁盘上使用的空间。

要了解有多少可用空间（例如用于新表和索引或现有表和索引的增长），请查询`dba_free_space`.

# java - Android - 根据文件名获取文件的 R.raw.value？

> ID：11839156
> 
> 赞同：3
> 
> 时间：2012-08-07T04:11:20.760
> 
> 标签：java, android, string, file

我在 res/raw 文件夹中有一个名为“book1tabs.txt”的文件，但总的来说我不知道​​它叫什么。然后我必须执行以下操作：

```
InputStream in = this.mCtx.getResources().openRawResource(R.raw.book1tabs); 
```

但我想使用一个字符串变量，比如

```
String param = "book1tabs"; 
```

并且能够打开相同的输入流。

有没有办法做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-07T04:14:43.540

你可以做这样的事情

```
String param = "book1tabs";

InputStream in = this.mCtx.getResources().openRawResource(mCtx.getResources().getIdentifier(param,"raw", mCtx.getPackageName())); 
```

`getIdentifier()`将返回`R.java`您传递的特定参数的 id。

它的具体作用如下

*   映射包名称
*   导航到您提供的 typeDef
*   查找您在 typeDef 中提供的资源名称

更多信息[http://developer.android.com/reference/android/content/res/Resources.html](http://developer.android.com/reference/android/content/res/Resources.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T04:19:29.950

我发现这种方法对于通过字符串名称提取各种资源非常有用......

```
 @SuppressWarnings("rawtypes")
public static int getResourceId(String name,  Class resType){

    try {
        Class res = null;
        if(resType == R.drawable.class)
            res = R.drawable.class;
        if(resType == R.id.class)
            res = R.id.class;
        if(resType == R.string.class)
            res = R.string.class;
                    if(resType == R.raw.class)
            res = R.raw.class;
        Field field = res.getField(name);
        int retId = field.getInt(null);
        return retId;
    }
    catch (Exception e) {
       // Log.d(TAG, "Failure to get drawable id.", e);
    }
    return 0;
} 
```

这将返回数字 id（假设存在这样的资源）。对于 Class 传入`R.drawable`和字符串，无论它基于 xml 的 ID 名称是什么。

我总是在我所有的项目中使用这种方法，以便于访问。

# android - String[] a 和 String a [] 的区别

> ID：11839162
> 
> 赞同：1
> 
> 时间：2012-08-07T04:12:51.557
> 
> 标签：android, arrays, string

假设 a 是一组字符串。

`String[] a`看不懂和 的区别`String a[]` 是不是同一个意思？我需要基于android的答案

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T04:13:36.243

如果您问的是Java，那么，是的，两者具有相同的含义。

`String[] a`是首选，因为它将整个类型定义保持在一起并且在视觉上与标识符不同。

`String a[]`只是在语言中使程序员更容易学习`C++`。`C`Java 语言的创建者最初试图说服 C++ 开发人员通过采用熟悉的语法来学习 Java。

# android - 水平菜单按钮的路径

> ID：11839164
> 
> 赞同：2
> 
> 时间：2012-08-07T04:12:57.857
> 
> 标签：android, menu

Siyamed 为 Android 创建了一个很棒的路径，如菜单按钮。我想让子菜单水平显示而不是围绕父菜单显示，任何人知道我应该如何开始？ [Siyamed 卫星菜单](https://github.com/siyamed/android-satellite-menu/)

![测试](../Images/911bf18157fc19e4ca148e737dca81ab.png) ![测试](../Images/cc05906058856182a4b8df8159739db3.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-25T09:46:56.120

要水平显示类似路径的菜单，请考虑尝试 ArcMenu 库

[https://github.com/daCapricorn/ArcMenu](https://github.com/daCapricorn/ArcMenu)

# mysql - 用 JOIN 选择一条记录

> ID：11839165
> 
> 赞同：0
> 
> 时间：2012-08-07T04:13:13.650
> 
> 标签：mysql, sql

我想从两个表中选择一条记录。但是如果你使用`SIMPLE JOIN`，它只会在条件同时满足表时返回值，当我们使用`LEFT`or时`RIGHT JOIN`，它会返回`LEFT`or`RIGHT`表中的所有值。

我正在使用以下查询，

`SELECT * FROM activity_feeds LEFT OUTER JOIN activity_traders ON activity_feeds.feed_id = activity_traders.trdr_feed_id = '11'`

`activity_feeds.feed_id = activity_traders.trdr_feed_id = '11'`只有当值与右表不匹配时，我才需要从两个表中获取值，它应该为右表中的列返回 null。请帮忙！

编辑：添加了表结构

**饲料**

![在此处输入图像描述](../Images/9813ad861457e6d99c1a06e658e845f1.png)

**交易员**

![在此处输入图像描述](../Images/35c50d4702cb10934c319c9786c60a1e.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:23:01.703

```
SELECT * FROM activity_feeds LEFT OUTER JOIN activity_traders ON activity_feeds.feed_id = 
activity_traders.trdr_feed_id where activity_traders.trdr_feed_id  = '11' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T04:32:25.060

我假设所有记录都基于表上`activity_feeds`是否`feed_id`存在， `activity_traders`只要它将显示所有`feed_id`值为`11`. 试试这个。

```
SELECT * 
FROM   activity_feeds a
           LEFT OUTER JOIN  activity_traders b
                ON a.feed_id = b.trdr_feed_id 
WHERE  a.feed_id = '11' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T04:14:42.063

```
ON activity_feeds.feed_id = activity_traders.trdr_feed_id 
WHERE activity_traders.trdr_feed_id = '11' 
```

# linux - Linux 共享库和内存空间

> ID：11839168
> 
> 赞同：1
> 
> 时间：2012-08-07T04:13:23.307
> 
> 标签：linux, memory-management, shared-libraries

> **可能重复：**
> [共享库地址空间](https://stackoverflow.com/questions/8034579/shared-library-address-space)

我对执行期间共享库的内存布局感到有些困惑。说一下我理解的吧。

.so 文件是每个二进制文件中不重复代码的文件，因此存在单个副本。二进制文件将更新 GOT 和其他表，并使用这些函数。

虽然我试图了解如何；我得到了以下链接[http://www.openbsd.org/papers/nycbsdcon08-pie/mgp00010.html](http://www.openbsd.org/papers/nycbsdcon08-pie/mgp00010.html)。现在，如果您看到这一点，所有共享库都“映射”到进程内存。这很明显，因为它必须在自己的内存空间中。

如果我们有一个 BSS/Data 部分，则必须在进程之间复制它，因为它将特定于进程。.TEXT 部分会发生什么？它会在运行时被复制还是在某个地方加载，并且每个二进制文件都会将其映射到自己的用户空间中？

# javascript - 如何在 JavaScript 中使用 Curl

> ID：11839170
> 
> 赞同：6
> 
> 时间：2012-08-07T04:13:24.400
> 
> 标签：javascript, google-chrome-extension

我正在编写一个 chrome 扩展程序，我想使用 Curl 来获取 gmail 附件的下载链接。我该怎么做？我是 curl 的新手，我不知道如何在 javascript 中使用 curl 库？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-07T04:16:15.520

您不能直接在 Javascript 中使用 cURL。你可以做AJAX。因此，一种解决方案是在某个地方设置一个 php 脚本，您可以使用该脚本从 gmail 获取链接。

编辑：在 javascript [here中有一个 cURL 的](http://code.google.com/p/curlie/)*实现*。看看这个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:49:22.693

就像javascript中的引用[同源策略一样。](http://en.wikipedia.org/wiki/Same_origin_policy)虽然似乎有解决方法，但安全性始终是一个问题。

# c# - 准备复杂 xml 的 XSD

> ID：11839173
> 
> 赞同：0
> 
> 时间：2012-08-07T04:13:37.467
> 
> 标签：c#, asp.net, .net, xml, xsd

感谢大家提出建议并在需要时提供帮助。

昨天我试图在 asp.net 4.0 中开发和 web 应用程序，我需要从 xml 解析数据并将其保存在数据库中。但在此之前，我还必须对其进行验证。

我尝试使用 .net 提供的工具 xsd.exe 生成架构文件，但我不知道它如何知道标记哪些节点或属性是强制性的？

就像在我的 xml 中一样，以下项目是强制性的

```
Root node <Market> 
<Login> and its sub element
<ProductType> and its <ProductTypeID/>
The attribute DML is mandatory but should have only 3 values NONE, PUT or MODIFY
<ProductType> may or may not have <ProductItem>
If <ProductItem> is present then it should have <ProductItemID>
<ProductItem> may or may not have <Brand>
If <Brand> is present then it should have <BrandID> 
```

下面是我的xml

```
<?xml version="1.0" encoding="utf-8" ?>
<Market>
    <Login>
        <LoginId />
        <Password />        
    </Login>

    <ProductType DML="NONE">
        <ProductTypeID/>
        <Name/>
        <Detail/>       

        <ProductItem DML="PUT">
            <ProductItemID/>
            <Name/>
            <Detail/>

            <Brand DML="PUT">
                <BrandID/>
                <Name/>
                <Detail/>
            </Brand>

            <Brand DML="MODIFY">
                <BrandID/>
                <Name/>
                <Detail/>
            </Brand>
        </ProductItem>

        <ProductItem DML="MODIFY">
            <ProductItemID/>
            <Name/>
            <Detail/>
        </ProductItem>        
    </ProductType>
</Market> 
```

我应该如何以及在哪里指定所有强制和可选参数，以便根据要求生成我的 xsd。

谢谢，

M。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T04:31:01.087

xsd.exe 只能尝试推断，您的 xml 中有哪些元素/属性，但它无法找出哪些信息是强制性的。但这是一个很好的起点。

使用[图形 XML_Schema_Editor](http://en.wikipedia.org/wiki/XML_Schema_Editor)编辑生成的 xsd 以标记您的必填字段。这比学习 xsd 语言容易得多

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T09:07:28.313

我不认为 XSD 支持嵌套 XML。我会尝试将 XML 加载到一个`XmlDocument`并手动检查必填字段。

# wcf - WCF后台进程托管环境

> ID：11839178
> 
> 赞同：0
> 
> 时间：2012-08-07T04:14:04.230
> 
> 标签：wcf, hosting

这是一个关于 WCF 托管环境的问题：

> 您正在开发一个在后台执行文件备份的应用程序。后台应用程序将托管 Windows Communication Foundation (WCF) 服务，并且必须在计算机运行时立即处于活动状态。后台应用程序将没有用户界面。前端应用程序将使用 WCF 服务并提供用户界面。
> 
> 您需要为 WCF 服务选择宿主环境。您应该选择哪种托管环境？
> 
> *   A. Microsoft Internet 信息服务 (IIS) 6.0
> *   B. Windows 进程激活服务 (WAS)
> *   C. Windows 窗体应用程序
> *   D. Windows 服务

答案是 D，但是 WCF MSDN 的很多文档和书籍都偏爱 IIS/WAS 而不是 Windows 服务，因为它们更健壮和有弹性等。我真的不明白为什么这里必须是 D。那么D背后的原因是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T06:50:38.600

答案是 D，因为其中一项要求是：
**必须在机器运行时立即处于活动状态。**

当您使用 Windows 服务时，您甚至可以在用户在系统中授权之前启动它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T13:00:24.197

IIS 提供按需加载。当请求进来时，ServiceHost 被构造，然后被托管的服务类被实例化，并且请求被处理。没有什么需要全天候运行。每次收到消息时，此设置都需要更多时间和精力。

# java - 如何创建一个 swt TableColumn 数组并将这些 TableColumns 分配给一个表？

> ID：11839179
> 
> 赞同：0
> 
> 时间：2012-08-07T04:14:09.887
> 
> 标签：java, swt

```
String[] titles = {"System Code","Domain Name","Organizational Unit","Organization Name"};
        for(int i=0; i<titles.length; i++)
        {
            TableColumn column = new TableColumn(table, SWT.LEFT, i);
            column.setText(titles[i]);
            column.setWidth(150);
            column.setMoveable(true);
            column.setResizable(true);
        } 
```

这段代码对我有用，但我想要一个 TableColum 数组，就像这个

```
 Table table;
    TableColumn[] columns;
    table = new Table(composite, SWT.NONE);
    columns = new TableColumn[noOfColumns];
    table.setHeaderVisible(true); 
```

但现在您看到它们与表无关。我如何将所有这些与表的列相关联？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T04:17:02.410

就将列制作成数组而言，

```
 String[] titles = {"System Code","Domain Name","Organizational Unit","Organization Name"};
    TableColumn[] columns = new TableColumn[titles.length];
    for(int i=0; i<titles.length; i++)
    {
        TableColumn column = new TableColumn(table, SWT.LEFT, i);
        column.setText(titles[i]);
        column.setWidth(150);
        column.setMoveable(true);
        column.setResizable(true);
        columns[i] = column;
    } 
```

不过，对于第二部分，您是否正在尝试将该数组放入您的表中？

* * *

你在使用 javax.swing.table.TableColumn 吗？因为它似乎没有 setText 和 setMoveable 方法。如果您正在使用它，并在代码中修复了它，只需将以下代码添加到 for 循环中（最后）：

```
tableInstance.addColumn(column); 
```

或者在之后/稍后进行另一次迭代：

```
for( TableColumn column : columns ) {
    tableInstance.addColumn(column);
} 
```

tableInstance 如果您的 JTable 类的实例

这是一个完整的课程，其中包含我发现的所有问题（您不需要所有这些，例如框架声明，只是为了让您看到所有内容）：

```
public class TableTest {
    public static void main(String[] args) {
        JFrame f = new JFrame();
        JTable table = new JTable();
        JScrollPane scroll = new JScrollPane(table);
        String[] titles = {"System Code","Domain Name","Organizational Unit","Organization Name"};
        TableColumn[] columns = new TableColumn[titles.length];
        for(int i=0; i<titles.length; i++)
        {
            TableColumn column = new TableColumn(i);
            column.setHeaderValue(titles[i]);
            column.setWidth(150);
            column.setResizable(true);
            columns[i] = column;
            table.addColumn(column);//since we add this here, no real point in keeping
                                    //the columns in an array tbh anymore
        }
        f.add(scroll);
        f.setSize(500, 500);
        f.setVisible(true);
    }
} 
```

# php - ADODB mySQLi 连接

> ID：11839182
> 
> 赞同：3
> 
> 时间：2012-08-07T04:14:31.357
> 
> 标签：php, mysql, adodb

我正在将 mysql 与 adodb 一起使用，如果我想转移到 mysqli，我必须做哪些更改。

这是我的连接文件，我只需要在这个文件中进行更改，否则我必须更新我的所有查询文件。

```
include_once("adodblib/adodb.inc.php");
class ADb {
    function ADb()
    {
        global $dbserver;
        global $dbuser;
        global $dbpass;
        global $database;
    $dbuser = "root";
    $dbpass = "asdasdasd";
    $dbserver = "localhost";        
    $database = "DB_NAME";

        $this->conn1 = &ADONewConnection('mysql'); 
    $this->conn1->PConnect($dbserver, $dbuser, $dbpass, $database);
    }
    function query($sql){
        $Result = $this->conn1->Execute($sql);
        return $Result;
    }
    function ExecuteQuery($sql){
    $Result = $this->conn1->Execute($sql);
        return $Result;
    }
    function ExecuteQuery1($sql){
        return $this->query($sql);
    }
    function Execute($sql){
        return $this->query($sql);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-02-25T11:35:00.713

您只需要将ADONewConnection 的参数更改为mysqli。

换行

```
$this->conn1 = &ADONewConnection('mysql'); 
```

至

```
$this->conn1 = &ADONewConnection('mysqli'); 
```

# java - 如何读取 .txt 文件中的下一行

> ID：11839190
> 
> 赞同：0
> 
> 时间：2012-08-07T04:15:31.433
> 
> 标签：java, amazon-s3, amazon

我可以知道为什么我在上传 .txt 文件时无法读取下一行。它发生在我尝试上传的所有 .txt 文件，然后是 system.out.println() 。在我的文本文件中，它包含：cats,dogs,monkey（每一个都在一行中）.. 但输出的值是：

```
[Monkey][Monkey, null][Monkey, null, null][Monkey, null, null, null][Monkey, null, null, null, null][Monkey, null, null, null, null, null][Monkey, null, null, null, null, null, null] 
```

在这方面需要帮助。谢谢你。

并想知道为什么我可以读取 .txt 文件而不是 .doc。也需要这方面的建议。

```
import java.awt.List;
import java.io.*;  
import java.util.ArrayList;

import javax.imageio.IIOException;
import javax.swing.JFileChooser;

public class searchforCapitalLetter {

     public static void main(String[] args) throws IOException{  

          try {  

                // file chooser
              JFileChooser chooser=new  JFileChooser();
            int returnVal = chooser.showOpenDialog(null);{
            if(returnVal == JFileChooser.APPROVE_OPTION)

            {   File f = chooser.getSelectedFile();}
            FileInputStream fin = new FileInputStream(chooser.getSelectedFile());
            DataInputStream din = new DataInputStream(fin);    
       BufferedReader br = new BufferedReader(new InputStreamReader(din)); 

    ArrayList<String>list =new ArrayList<String> ();

    if ((br.readLine()) != null) {
    while (br.readLine() != " ") {
        list.add(br.readLine());
        System.out.print (list);
    } br.close() ;
    }//closes if statement
     } // closes method dialog
                } // closes try method

         catch (FileNotFoundException e) {
                    e.printStackTrace();
                }     // closes catch method
            } // closes method body

} // closes class method 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T04:26:31.803

根据 bufferedreader api：

> **公共字符串 readLine() 抛出 IOException**
> 
> 读取一行文本。一行被认为是由换行符 ('\n')、回车符 ('\r') 或紧跟换行符的回车符中的任何一个终止的。
> 
> **返回**：包含行内容的字符串，不包括任何行终止字符，如果已到达流的末尾，则返回 null
> 
> **抛出**：IOException - 如果发生 I/O 错误

请注意，您的代码出现了一些错误：

1) 它调用 readline() 一次来检查返回值并再次使用返回值。第一次调用（在 while 条件下）从缓冲区中删除当前值，因此您每隔一行删除一次。

2）您使用了错误的比较来查看是否有剩余数据。x != y，其中 x 和 y 都是对象，检查指针是否相等 - 是分配 x 的内存位置与分配 y 的内存位置相同。您真正想要的是将值存储在变量中。

例如：

```
BufferedReader in = ...;
String s = in.readLine();
while(s!=null){
    ...
    s = in.readLine();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:22:15.480

您不能使用 .doc 的原因是因为 .doc 文件已格式化，因此，您的代码必须解析某些内容才能从中读取。

就奇怪的打印而言，您甚至在打印之前阅读了两次代码（每次调用 .readLine 时，它​​都会将扫描仪移动到下一行）。试试下面的代码：

```
ArrayList<String>list =new ArrayList<String> ();
String currentLine;
while ((currentLine = br.readLine()) != null) {
    list.add(currentLine);
    System.out.println(currentLine);
} br.close() ;
} 
```

这将跟踪变量中的当前行，而不是反复将扫描仪移动到下一行。另一个问题是到达文件末尾时它将为空，而不是“”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-27T14:36:21.220

用于从文件中读取内容的经典 BufferedReader。这是我们用 Java 读取的文件：

这是要写入文件的内容

这是要写入文件的内容

```
package com.stackoverflow;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class ReadFile{

    private static final String FILENAME = "D:\\test\\filename.txt";

    public static void main(String[] args) {

        BufferedReader br = null;
        FileReader fr = null;

        try {

            fr = new FileReader(FILENAME);
            br = new BufferedReader(fr);

            String sCurrentLine;

            br = new BufferedReader(new FileReader(FILENAME));

            while ((sCurrentLine = br.readLine()) != null) {
                System.out.println(sCurrentLine);
            }

        } catch (IOException e) {

            e.printStackTrace();

        } finally {

            try {

                if (br != null)
                    br.close();

                if (fr != null)
                    fr.close();

            } catch (IOException ex) {

                ex.printStackTrace();

            }

        }

    }

} 
```

输出 ：

这是要写入文件的内容

这是要写入文件的内容

# sql-server - T-SQL 不等于运算符 vs Case 语句

> ID：11839197
> 
> 赞同：3
> 
> 时间：2012-08-07T04:16:16.517
> 
> 标签：sql-server, performance, tsql

假设我有一个 T-SQL 语句：

```
select * from MyTable
where Code != 'RandomCode' 
```

我的任务是让这种 where 语句执行得更快。Books Online 说肯定查询 (=) 比否定查询 (!= , <>) 快。

因此，一种选择是将其变为 CASE 语句，例如

```
select * from MyTable
where 
   case when Code = 'RandomCode' then 0 
      else 1 end = 1 
```

有谁知道这是否会比原来的 T-SQL 更快或更慢？

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-07T04:31:50.663

您必须更具体地了解您对表格感兴趣的信息以及该`Code`列的可能值是什么。然后您可以创建适当的索引来加快查询速度。

例如，如果`Code`列中的值只能是 , , 之一`'RandomCode'`，`'OtherCode'`您`'YetAnotherCode'`可以将查询重写为：

```
SELECT * FROM MyTable WHERE Code = 'OtherCode' OR Code = 'YetAnotherCode' 
```

当然，您需要`Code`列上的索引。

如果您必须执行不等式查询，您可以更改`SELECT *`为更窄的查询，例如：

```
SELECT Id, Name, Whatever FROM MyTable WHERE Code != 'RandomCode' 
```

然后创建一个索引，如：

```
CREATE INDEX idx_Code ON MyTable(Code) INCLUDE (Id,Name,Whatever) 
```

这可以通过将表扫描替换为索引扫描来减少 I/O。

# javafx-2 - Javafx 2.0 中的自定义标题栏？

> ID：11839199
> 
> 赞同：3
> 
> 时间：2012-08-07T04:16:30.490
> 
> 标签：javafx-2

有没有关于如何在 javafx 2.0 中创建自定义标题栏的教程？我正在创建一个桌面 GUI 应用程序，并希望有一个带有自定义按钮的黑色渐变标题栏，用于最小化和关闭。[这](http://www.dreamincode.net/forums/topic/121576-c#-wpf-custom-title-bar-tutorial/)是WPF的教程。我正在为 javafx 寻找类似的东西

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-07T14:13:46.537

隐藏平台窗口：

```
stage.initStyle(StageStyle.UNDECORATED); 
```

现在您可以创建自己的标题栏/窗口按钮并设置它们的样式。

最后，检查 Oracle JavaFX 示例中的“Ensemble”，他们已经完成了确切的操作： [http ://www.oracle.com/technetwork/java/javafx/samples/index.html](http://www.oracle.com/technetwork/java/javafx/samples/index.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-07T09:45:26.027

我不认为可以直接修改标题栏。解决方案之一可能是删除平台装饰并将您的自定义“标题栏”添加到窗口顶部。这里举个例子：[JavaFX primaryStage remove windows边框？](https://stackoverflow.com/questions/9861178/javafx-primarystage-remove-windows-borders)

# scala - 成功和失败函数参数 Scala 模式

> ID：11839204
> 
> 赞同：2
> 
> 时间：2012-08-07T04:18:10.527
> 
> 标签：scala, closures, anonymous-function, function-parameter

在 Scala 中是否有另一种实现成功和失败闭包的模式？

这种约定与 node.js 库通常所做的类似，没有任何问题，但我只是想知道在 Scala 中是否有另一种方法可以做到这一点。

例如：

```
def performAsyncAction(n: BigInt,
                success: (BigInt) => Unit,
                failure: FunctionTypes.Failure): Unit = { 
```

然后调用函数

```
performAsyncAction(10,
         {(x: BigInt) => 
              /* Code... */
         }, 
         {(t: Throwable) => 
              e.printStackTrace()
         }) 
```

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-07T05:15:21.627

听起来你想要一个`Future`. [请参阅此处](http://doc.akka.io/docs/akka/2.0/scala/futures.html)的 AKKA 实施。

A`Future`是一种函数式构造，可让您指定要异步执行的代码块，然后您可以在完成后获取结果：

```
import akka.actor.ActorSystem
import akka.dispatch.Await
import akka.dispatch.Future
import akka.util.duration._

implicit val system = ActorSystem("FutureSystem")

val future = Future {
  1 + 1
}
val result = Await.result(future, 1 second)
println(result) //  prints "2" 
```

您可以使用该方法指定故障行为`onFailure`（还有`onComplete`and `onSuccess`）：

```
val future = Future {
  throw new RuntimeException("error")
}.onFailure {
  case e: RuntimeException => println("Oops!  We failed with " + e)
}
//  will print "Oops!  We failed with java.lang.RuntimeException: error" 
```

但最好的部分是`Future`s 是 Monad，因此您可以使用类似的东西创建异步操作的管道`map`和`flatMap`：

```
val f1 = Future { "hello" }
val f2 = f1.map(_ + " world")
val f3 = f2.map(_.length)
val result = Await.result(f3, 1 second)
println(result) //  prints "11" 
```

或者在理解中使用它们：

```
val f1 = Future { "hello" }
val f2 = Future { " " }
val f3 = Future { "world" }
val f4 =
  for (
    a <- f1;
    b <- f2;
    c <- f3
  ) yield {
    a + b + c
  }
val result = Await.result(f4, 1 second)
println(result) //  prints "hello world" 
```

# javascript - javascript中选项对象的默认值

> ID：11839207
> 
> 赞同：1
> 
> 时间：2012-08-07T04:18:44.857
> 
> 标签：javascript, dojo

有没有（更好的）写这个的方法？我正在使用 Dojo。也许混进去会起作用？

```
 ajaxValidate: function(value, options){

    // Set some defaults
    options.ajaxInvalidMessage = options.ajaxInvalidMessage || "Value not allowed";
    options.ajaxStore = options.ajaxStore || null;
    options.ajaxFilterField = options.ajaxFilterField  || 'name'; 
```

似乎没有`||=`运算符，这对我来说看起来很冗长......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T04:37:03.797

你展示的方法：

```
obj.prop = obj.prop || "default"; 
```

...是一个很常见的习语，但我个人觉得 if 语句更具描述性，即使它实际上添加了几个字符：

```
if (!obj.prop) obj.prop = "default"; 
```

如果您想要一种更通用的方法，您可以编写一个类似以下的函数（我不熟悉 Dojo - 也许它已经有这样的函数）：

```
function addDefaults(obj, defaults) {
    for (prop in defaults)
        if (!obj.hasOwnProperty(prop))
            obj[prop] = defaults[prop];
} 
```

然后，您将在代码片段中将其用作：

```
ajaxValidate: function(value, options){

    addDefaults(options, {
       ajaxInvalidMessage : "Value not allowed",
       ajaxStore : null,
       ajaxFilterField  : 'name'
    }); 
```

请注意，`addDefaults()`我正在使用测试该属性是否存在于您的对象中的[`hasOwnProperty()`方法。](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/hasOwnProperty)这与`||`您开始测试属性是否“真实”的语法略有不同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:42:07.397

使用 mixin 是一种更简洁的方法。这样，您还可以将默认值显式分组到单个对象中。

[http://dojotoolkit.org/reference-guide/1.7/dojo/mixin.html](http://dojotoolkit.org/reference-guide/1.7/dojo/mixin.html)

```
ajaxValidate: function (value, options) {
    options = dojo.mixin({
        ajaxInvalidMessage: "Value not allowed",
        ajaxStore: null,
        ajaxFilterField: "name"
    }, options);

    //...
} 
```

# android - 使用 FragmentActivity 抛出 InflateException

> ID：11839208
> 
> 赞同：0
> 
> 时间：2012-08-07T04:19:00.520
> 
> 标签：android, android-fragmentactivity

用于 2 个 Activity 的通用片段

```
public class Ads extends Fragment {
    private View rootView ;
    private MoPubView adView ;

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        rootView = inflater.inflate(R.layout.ads, container, true) ;
        adView = (MoPubView) rootView.findViewById(R.id.adView) ;
        adView.setAdUnitId(LogoQuizUtil.MOPUB_AD_UNIT);     
        adView.loadAd();
        return rootView;
    }
} 
```

片段布局

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/ad_layout"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:gravity="bottom" >

    <com.mopub.mobileads.MoPubView
        android:id="@+id/adView"
        android:layout_width="fill_parent"
        android:layout_height="50dp"
        android:layout_marginTop="10dp"
        android:gravity="bottom" />    
</LinearLayout> 
```

我包含此片段的其他布局

```
 <fragment
    android:id="@+id/ads"
    android:name="myPackage.Ads"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:gravity="bottom" /> 
```

当我第一次调用 setContentView (R.layout.ads) 时，我得到一个没有异常，当第二个活动调用 fagementactivity (Ads) 时，我在 setContentView (R.id.ads) 处得到一个异常。

我得到的例外是

`08-07 09:38:30.359: W/System.err(975): java.lang.RuntimeException: Unable to start activity ComponentInfo{mypackage/mypackage.SecondActivity}: android.view.InflateException: Binary XML file line #263: Error inflating class fragment`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:55:13.667

让我们从头开始。一个活动不是一个片段，一个片段也不是一个活动。

您需要一个活动来包含/控制片段。为此，您可以扩展`Activity`（用于 Honeycomb+ 开发）或使用支持库并扩展`FragmentActivity`. 在此类中，您将用于`setContentView`设置将包含片段的布局。

然后，您从该类调用片段管理器（`getFragmentManager`或`getSupportFragmentManager`取决于您扩展的类）。然后片段管理器用于创建、附加和分离片段。

片段不是一个活动，它的编码方式不同。它应该有一个`onCreateView`方法来扩展片段的布局并将其从活动返回给片段管理器。

然后通常`onActivityCreated`用于其余代码（或其他任何需要的代码）。

进行更改以正确使用片段可能会也可能不会解决您的所有问题，因为我看到您在布局中使用了某种自定义小部件，问题也可能存在。

# ruby-on-rails - Heroku 推送失败

> ID：11839217
> 
> 赞同：2
> 
> 时间：2012-08-07T04:20:18.577
> 
> 标签：ruby-on-rails, ruby-on-rails-3, heroku, gem, bundler

当我推送到 heroku 时，它告诉我它无法使用 bundler 安装 gem，然后它失败了：

```
Git error: command `git fetch --force --quiet --tags 'git@github.com:holgersindbaek/streama.git' "refs/heads/*:refs/heads/*"` in directory /tmp/build_2e6gwsce8rtbt/vendor/bundle/ruby/1.9.1/cache/bundler/git/streama-bb31e974eacf3e56d77c4899ae1e3687c8245251 has failed.
           If this error persists you could try removing the cache directory '/tmp/build_2e6gwsce8rtbt/vendor/bundle/ruby/1.9.1/cache/bundler/git/streama-bb31e974eacf3e56d77c4899ae1e3687c8245251'
     !
     !     Failed to install gems via Bundler.
     !
     !     Heroku push rejected, failed to compile Ruby/rails app

    To git@heroku.com:afternoon-spring-7047.git
     ! [remote rejected] master -> master (pre-receive hook declined)
    error: failed to push some refs to 'git@heroku.com:afternoon-spring-7047.git' 
```

它建议我删除流追逐，但我不知道那在哪里。

有没有人试过这个？

我在 Rails 3.2.2 上，使用 Mongoid 运行 MongoDB。

更新：

我使用的是 ruby​​ 1.9.3，所以我觉得它指向一个 ruby​​ 1.9.1 文件夹有点好笑。不知道跟这个有没有关系？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T06:13:02.520

您正在使用该存储库的私有 git 链接：

```
git@github.com... 
```

而不是：

```
git://github.com... 
```

因为 Heroku shell 无权“私下”克隆该 GitHub 存储库，所以尝试`bundle install`在 Heroku 上运行将失败。将该链接更改为公共克隆 URL。

# android - 如果发送失败，SmsManager 如何让它尝试重新发送？

> ID：11839221
> 
> 赞同：0
> 
> 时间：2012-08-07T04:20:59.263
> 
> 标签：android, sms, send

根据答案 2[中 Android 中的 SMS Delivery Report，](https://stackoverflow.com/questions/11589642/sms-delivery-report-in-android)我已设法使其正常工作，但我想做的是，如果 SMS 发送失败，是否有办法让 Android 在移动服务再次可用时再次尝试重新发送 SMS ?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T12:17:29.797

由于您正在编写自己的 SMS 应用程序，因此您有责任实现传出文件夹（因为缺乏更好的术语）。

我建议您将 SMS 插入此文件夹（或数据库）并使用带有计时器的任务，如果网络连接可用或等待网络连接可用，该计时器会尝试发送您的消息。

# jasper-reports - 移动到新服务器后 JasperReports 不再运行

> ID：11839222
> 
> 赞同：0
> 
> 时间：2012-08-07T04:21:00.580
> 
> 标签：jasper-reports

我已经使用 JasperReports 大约 4 年了。我们已将应用程序移至新服务器，突然间不再运行任何报告。他们给出的只是以下神秘错误：

```
Error compiling report java source files : /usr/code/myapp/applicationguide_xml_1344313005668_686357.java 
```

这还不足以解决任何错误。

所有的 JAR 文件都完全相同。

我正在使用相同版本的 Sun JRE。

谷歌没有任何帮助。

有没有人见过这个？我看到对错误的引用可以追溯到 2009 年，但没有什么可以理解的解决方案。

更新：

这是因缺席消息而失败的代码：

```
JasperDesign jasperDesign = JRXmlLoader.load(reportFile);
JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign); 
```

这是第二行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T15:06:52.073

JasperCompileManager 当然需要访问 javac。我的新 RedHat 机器上没有安装 jdk-devel。在我这样做之后：

```
yum install java-1.6.0-openjdk-devel 
```

然后我不再收到此错误。

为了弄清楚这一点，需要一个堆栈跟踪，因为 Jasper 错误是如此神秘。我安装了 Apache Common Lang jar，并在 catch 块中打印了我的堆栈跟踪，如下所示：

```
System.out.println(ExceptionUtils.getStackTrace(ex)); 
```

这给了我基本的错误信息。

# .net - Solr - 多核写入器、读取器复制配置

> ID：11839225
> 
> 赞同：2
> 
> 时间：2012-08-07T04:21:08.583
> 
> 标签：.net, solr, replication, load-balancing, multicore

我正计划为我们的客户实施 Solr。我们有一个基于 .Net/SQL Server 的产品。我们的数据库变得如此之大，我们决定使用 Solr 来提高查询性能（自动完成、选择列表、网格搜索等）。我们有大量的 IIS 盒（因客户端而异，典型配置包括 16 核、96 GB RAM 等），但网络速度较慢。我们的数据库大约 100 GB。所以我在考虑这个配置：

将 solr 与 IIS 一起托管 - 因为我们还没有真正用完 IIS，而且网络很慢，所以我想将它托管在同一个盒子中。

Solr 将使用默认容器 (Jetty) 托管，并通过仅接受 localhost 连接（来自 IIS）来保护。我希望这篇文章的管理开销最小。

我将有一个用于纯索引的专用主核心和多个复制的从属核心（可能是 10 个）用于纯查询。所有索引数据都可以存在于 SSD 中。

现在我的问题是：

1.  我应该如何处理负载平衡？solrcloud 会自动完成吗？（我在（下面）看到的例子是“分片”——我真的不需要分片。）在生产中使用 Alpha 可以吗？（我们有 100 个不同的客户端和相应的 n/w、h/w 配置）

2.  我应该处理代码的提交和复制还是让 solr 处理它？

3.  发生复制时，如何将请求路由到其他核心？（作为#1 的一部分涵盖？）

4.  在复制期间，主核心是否会被锁定以进行进一步更新？我应该从代码中处理这种情况吗？

5.  是否可以从从属核心中提取“最后更新”的数据 - 理想情况下，我想使用近乎实时的搜索功能，但如果 solrcloud 不行，那么我想在 UI 中显示这个时间戳，以便用户将了解数据的最新情况。

[http://wiki.apache.org/solr/SolrCloud/](http://wiki.apache.org/solr/SolrCloud/)

> 明确指定要查询的分片地址，提供用于负载平衡和故障转移的替代方案（由 | 分隔）：
> 
> > shards=localhost:8983/solr|localhost:8900/solr,localhost:7574/solr|localhost:7500/solr

任何帮助深表感谢。

干杯！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T23:28:15.170

我做了一些更多的研究并发现：

1.  我应该如何处理负载平衡：SolrCloud 自动完成，只需点击集群中的任何节点/核心，你就可以开始了。SolrCloud 将状态保存在 Zoo Keeper 中，因此它知道将请求路由到哪里。

2.  提交：我计划通过配置进行 1 秒的软提交和 10 分钟的硬提交。复制：不用担心，当新节点/核心上线时，Solrcloud 会自动分配为分片（如果不是所有分片都在线）或副本。

3.  自动处理（#1）。

4.  N/A with solr cloud。可以对任何实例/核心进行写入和读取，没关系。

5.  我将使用近乎实时的搜索，所以不用担心这个。如果有人回答，仍然会很感激。

我希望我的研究对某人有用！

# android - Android：是否可以隐藏操作栏的顶部但使用溢出按钮保留底部栏

> ID：11839226
> 
> 赞同：5
> 
> 时间：2012-08-07T04:21:38.437
> 
> 标签：android, android-actionbar, actionbarsherlock

目前我正在使用 ActionbarSherlock。

现在，我的应用程序在顶部有一个栏，在底部有一个带有溢出按钮的栏。

我想要一个自定义标题栏，不想尝试为 Actionbar 标题栏设置主题，但我想保留底部栏和按钮。

是否可以隐藏 ActionBar 的标题栏部分？

ActionBar().hide() 隐藏顶栏和底栏。

![在此处输入图像描述](../Images/7ce0617a984701ad249fea56ed629080.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-26T12:04:07.023

根据[操作栏文档](http://developer.android.com/guide/topics/ui/actionbar.html)（“使用拆分操作栏”）：将 uiOptions="splitActionBarWhenNarrow" 添加到相应的清单元素。然后使用 setDisplayShowHomeEnabled(false) 和 setDisplayShowTitleEnabled(false)。选项卡移动被移动到 - 现在为空 - 顶部栏。

# android - 在 Android 的后台更新调用 Activity 时显示第二个 Activity

> ID：11839232
> 
> 赞同：0
> 
> 时间：2012-08-07T04:22:23.767
> 
> 标签：android, multithreading, android-intent, android-asynctask, android-activity

我正在编写一个连接到蓝牙设备、读取数据并使用 AChartEngine 将其绘制在主 Activity 中的 Android 应用程序（这整个部分都有效）。

我想包含第二个 Activity，其中包含一个 WebView（由 PhoneGap 提供支持）。当在主 Activity 中按下按钮时，**第二个 Activity 应该打开，而第一个 Activity 继续在后台活动，并且 AChartEngine 图表继续更新。**

我当前的代码使用 AsyncTask 解决了这个问题，它在应用程序开始通过蓝牙接受和绘制数据之前运行良好。之后，当我按下按钮打开第二个 Activity 时，整个应用程序崩溃。

**如何在后台操作另一个 Activity 时在前台显示一个 Activity？**我认为打开的 AsyncTask 数量的限制可能会导致此问题，因为我为收到的每个数据点创建一个新的 AsyncTask 以便将其异步添加到图表中，但随时打开的数量似乎远低于极限。

以下是我当前代码的相关部分：

```
public class viewer extends Activity
{
    /* ... */

    public void handleButtonPress() {
        // called when our button is pressed
        new StartWebview(viewer.this).execute();
    }

    protected class StartWebview extends AsyncTask<Void, Void, Void> {
        public Activity activity;

        public StartWebview(Activity activity) {
            this.activity = activity;
        }

        @Override
        protected Void doInBackground(Void... values) {
            Intent i = new Intent(viewer.this, WebActivity.class);
            activity.startActivity(i);
            return null;
        }
    }

    protected class NewPoints extends AsyncTask<Double, Void, Void> { // called each time we receive a new data point

        @Override
        protected Void doInBackground(Double... values) {
            mCurrentSeries.add(values[0], values[1]); // x, y
            if (mChartView != null) {
                mChartView.repaint();
            }
            return null;
        }
    }
}
public class WebActivity extends DroidGap
{
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        super.loadUrl("file:///android_asset/www/index.html");
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T04:30:22.800

一旦某个活动不再显示，Android 完全有可能将其完全销毁。

您应该从前台服务收集数据，将数据放入持久数据存储中，例如由 sqlite 数据库支持的 contentprovider。

然后使用加载器获取数据并将其提供给您的图表工具。每次新数据自动到达数据库时都会通知内容提供者。

这听起来可能有点矫枉过正，但即使是简单的屏幕旋转，您也会丢失所有数据并可能崩溃。

# java - Java平铺图像滚动

> ID：11839233
> 
> 赞同：1
> 
> 时间：2012-08-07T04:22:29.903
> 
> 标签：java, arraylist, lag, side-scroller

这听起来与我的其他帖子相似，但相信我，它不一样。所以我决定听取一些人关于如何滚动数组列表的建议。我有一个接受 Block 类的数组列表。这是块类：

```
public class Block {

BufferedImage img;
double x;
double y;
double dx=0,dy=0;
public Block(BufferedImage img , double x, double y){
    this.img = img;
    this.x = x;
    this.y = y;
}
public void Render(Graphics g){
    g.drawImage(img,(int)x,(int)y,null);
}
public void Update(){
    x+=dx*DATA.speed;
    y+=dy*DATA.speed;
}
} 
```

我会在我的主类的主更新方法中调用更新方法。喜欢：

```
 private void Update()
{
    for (int i = 0; i < World.BLOCK_LIST.size(); i++){
        World.BLOCK_LIST.get(i).Update();
    }
} 
```

然后向左/向右移动所有块我会使用：

```
 public static void MoveLeft()
{
    for(int i = 0; i < World.BLOCK_LIST.size(); i++){
        World.BLOCK_LIST.get(i).dx = 2.5;
    }
}
public static void MoveRight()
{
    for(int i = 0; i < World.BLOCK_LIST.size(); i++){
        World.BLOCK_LIST.get(i).dx = -2.5;
    }
} 
```

我无法获得屏幕截图，因为它捕获的速度不够快。似乎是延迟导致了它或其他什么。有什么更顺畅的方法来做到这一点？

顺便说一句，我的图像是 32x32

我的渲染代码： 用户请求：

```
public Main(){

     setSize(800,600);
     .................
     setVisible(true);
     createBufferStrategy(2);
} 
```

游戏循环（不要担心它在线程中）

```
while(true){

    render();

} 
```

渲染方法：

```
public void render(){

    BufferStrategy bs = getBufferStrategy;
    Graphics g = bs.getDrawGraphics();

    g.clearRect(0,0,screen_width,screen_height);
    //DrawOrWhatever(g);

    g.dispose();

    bs.show();
    Toolkit.getDefaultToolkit.sync();

} 
```

# java - 多线程问题

> ID：11839234
> 
> 赞同：-1
> 
> 时间：2012-08-07T04:22:32.203
> 
> 标签：java, multithreading, protocols, network-protocols

我在多任务处理方面遇到问题。我在下面已经解释过了。

*   我需要在我的网络应用程序中为所有用户（例如 200 个用户）做一些处理。

*   该过程是协议请求调用。

*   在线程创建之间的睡眠时间，我最多可以运行 1000 个用户。但我需要在没有睡眠时间的情况下运行，而且我需要运行多达 1000 个用户。

*   当我尝试为 200 个用户运行时，我没有得到任何响应。它停了很久。我不知道原因。

请让我知道如果有人有解决它的想法...谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:49:51.490

好吧，在我看来，太快创建太多线程是个问题。

尝试使用某种[ThreadPool](http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html)来最小化线程创建的开销。基本上，您将希望创建一组固定的线程，然后将这些线程重新用于新任务，而不是为每个任务创建一个新线程。

例如，如果每个任务需要 1 秒的时间来运行，而您在 100 秒内每秒执行 2 个任务，那么每任务线程方法将创建 200 个线程来运行所有任务。100 个线程池将能够使用其中一些线程多次执行所有 200 个任务，并且永远不会让任何东西等待/休眠。

# javascript - 在鼠标悬停选择菜单上更改颜色

> ID：11839241
> 
> 赞同：0
> 
> 时间：2012-08-07T04:23:12.817
> 
> 标签：javascript, html, css

我试图选择一个多选组合框。在那里我必须自定义当鼠标悬停在一个值上时颜色必须改变的属性。我尝试了几个步骤，我知道它不起作用。建议我应该如何处理它。这是代码。

```
<html>
<head>
<style type="text/css" >

</style>
<script type="text/javascript">
var a="hidden";
function doset()
{
    if(a=="hidden")
    a="visible";
    else
    a="hidden";
    document.getElementById("myitems").style.visibility = a; 
}
function dochange(a)
{

    document.getElementById(a).style.background-color= 0xff00ff; 
}
</script>
</head>
<body>
<label>ajay</label>
<input type=button value="v" onClick="doset(); return false;"/>
<div id=myitems style='visibility:hidden'>
<select multiple="multiple" >
<option id= prav1 onMouseover="dochange(this.id); return true;">ajay</option>
<option id= prav2 onMouseover="dochange(this.id); return true;">musthafa</option>
<option id= prav3 onMouseover="dochange(this.id); return true;">praveen</option>
<option id= prav4 onMouseover="dochange(this.id); return true;">shruthy</option>
<option id= prav5 onMouseover="dochange(this.id); return true;">vasanth sir</option>
</select>
</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T04:26:58.323

它`backgroundColor`不是`background-color`

```
document.getElementById(a).style.backgroundColor= "#ff00ff"; 
```

[**查看工作演示**](http://jsfiddle.net/akhurshid/m7Bua/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:28:44.613

“document.getElementById(a).style.background-color”是错误的 必须是：“document.getElementById(a).style.backgroundColor”

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T04:25:17.323

document.getElementById(a).style.background="#ff00ff";

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-07T04:26:49.153

```
function dochange(a) 
{ 
  document.getElementById(a).style.backgroundColor = "#ff00ff";  
} 
```

# c# - 从客户端检测到潜在危险的 Request.Form 值（

> ID：11839244
> 
> 赞同：1
> 
> 时间：2012-08-07T04:23:50.650
> 
> 标签：c#, asp.net

> **可能重复：**
> [从客户端检测到潜在危险的 Request.Form 值](https://stackoverflow.com/questions/81991/a-potentially-dangerous-request-form-value-was-detected-from-the-client)

我收到错误消息：

```
 A potentially dangerous Request.Form value was detected from the client 
 (ctl00$MainContent$textboxError=... 
```

在我运行 asp.net (C#) web 应用程序之后。我该如何解决？

这是我的代码。

```
using System;
using System.Data;
using System.Configuration;
using System.Web; 
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Web.UI.HtmlControls;
using System.Net;
using System.Text.RegularExpressions;

namespace SMS
{
public partial class _Default : System.Web.UI.Page
{
protected void Page_Load(object sender, EventArgs e)
{
    textboxRecipient.Width = 400;
    textboxMessage.Width = 450;
    textboxMessage.Rows = 10;
    textboxError.Width = 400;
    textboxError.Rows = 5;

    textboxError.ForeColor = System.Drawing.Color.Red;
    textboxError.Visible = false;
    textboxError.Text = "";

    if (!Page.IsPostBack)
    {
        textboxRecipient.Text = "+85593840396";
        textboxMessage.Text = "Hello World!";
    }
}
protected void buttonSendOnClick(object sender, EventArgs e)
{

    if (textboxRecipient.Text == "")
    {
        textboxError.Text += "Recipient(s) field must not be empty!\n";
        textboxError.Visible = true;
        return;
    }

    string ozSURL = "http://127.0.0.1"; //where Ozeki NG SMS Gateway is running
    string ozSPort = "9501"; //port number where Ozeki NG SMS Gateway is listening
    string ozUser = HttpUtility.UrlEncode("tenh"); //username for successful login
    string ozPassw = HttpUtility.UrlEncode("tenh123"); //user's password
    string ozMessageType = "SMS:TEXT"; //type of message
    string ozRecipients = HttpUtility.UrlEncode(textboxRecipient.Text); 
    string ozMessageData = HttpUtility.UrlEncode(textboxMessage.Text); 

    string createdURL = ozSURL + ":" + ozSPort + "/httpapi" +
        "?action=sendMessage" +
        "&username=" + ozUser +
        "&password=" + ozPassw +
        "&messageType=" + ozMessageType +
        "&recipient=" + ozRecipients +
        "&messageData=" + ozMessageData;

    try
    {

        HttpWebRequest myReq = (HttpWebRequest)WebRequest.Create(createdURL);

        HttpWebResponse myResp = (HttpWebResponse)myReq.GetResponse();
        System.IO.StreamReader respStreamReader=new 

      System.IO.StreamReader(myResp.GetResponseStream());
        string responseString = respStreamReader.ReadToEnd();
        respStreamReader.Close();
        myResp.Close();

        //inform the user
        textboxError.Text = responseString;
        textboxError.Visible = true;
    }
    catch (Exception)
    {

        textboxError.Text = "Ozeki NG SMS Gateway Server is not running!";
        textboxError.Visible = true;
    }

  }
  }
  } 
```

我已经在我的 web.config 中添加了以下代码：

```
 validateRequest="false" and requestValidationMode="2.0" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:03:47.207

不知道为什么`validateRequest="false"`不工作。**错误原因：**因为您正在从包含 Html 标签的网页获取数据，并且文本框文本属性不允许为其分配 html 字符串，所以您必须使用将 html 标签转换为其等效代码的方法。在[分配](http://msdn.microsoft.com/en-us/library/ms525347%28v=vs.90%29.aspx)`responseString`给`textboxError.Text`. _ 此方法将潜在的不安全字符转换为它们的 HTML 编码等效字符。

```
textboxError.Text = Server.HTMLEncode(responseString); 
```

# android - android应用内测试错误

> ID：11839245
> 
> 赞同：2
> 
> 时间：2012-08-07T04:24:36.497
> 
> 标签：android, in-app-purchase

我正在开发具有 10 个应用内产品的 android In-App。我完成了集成 Android 计费库、Google 测试帐户并设置产品 ID，但是当我单击 Accept & Buy 按钮时出现以下错误

```
your order could not be processed please try again. 
```

这个错误的原因是什么。我做错了什么？

```
public void onClick(View v){ 
    if(BillingController.isPurchased(context, MainActivity.ITEM_ID[position])) { 
        String msg=(String) holder.txtViewname.getText(); 
        Intent intent= new Intent(context,RecipeMenu.class); 
        intent.putExtra("name", msg); 
        intent.putExtra("id", position); 
        context.startActivity(intent); } 
    else{ 
        BillingController.requestPurchase(context, MainActivity.ITEM_ID[position], true /* confirm */); 
    } 
} 
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:14:08.960

Android 为我们提供了一个相同的应用内计费示例。请参考[Android In-app](http://developer.android.com/guide/google/play/billing/index.html)。其名称是market_billing。你可以在 android-sdk/extras/google/market_billing 找到它。

# java - 如何在 Java 中将时间戳转换为日期？

> ID：11839246
> 
> 赞同：115
> 
> 时间：2012-08-07T04:25:00.890
> 
> 标签：java, date, jdbc, timestamp

`date`在 java 中获得计数后，如何将 'timeStamp' 转换为？

我目前的代码如下：

```
public class GetCurrentDateTime {

    public int data() {
        int count = 0;
        java.sql.Timestamp timeStamp = new Timestamp(System.currentTimeMillis());
        java.sql.Date date = new java.sql.Date(timeStamp.getTime()); 
        System.out.println(date);
        //count++;

        try {
            Class.forName("com.mysql.jdbc.Driver");
            Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/pro", "root", "");

            PreparedStatement statement = con.prepareStatement("select * from orders where status='Q' AND date=CURDATE()");
            ResultSet result = statement.executeQuery();
            while (result.next()) {
                // Do something with the row returned.
                count++; //if the first col is a count.
            }
        } catch (Exception exc) {
            System.out.println(exc.getMessage());
        }

        return count;
    }
} 
```

这是我的数据库： ![在此处输入图像描述](../Images/9bcb1e8524ee5bba7d9a063e194ccc82.png)

这里我得到的输出是 2012-08-07 0，但等效查询返回 3。为什么我得到 0？

* * *

## 回答 #1

> 赞同：207
> 
> 时间：2012-08-07T04:29:11.527

只需`Date`使用标记的`getTime()`值作为参数创建一个新对象。

这是一个示例（我使用当前时间的示例时间戳）：

```
Timestamp stamp = new Timestamp(System.currentTimeMillis());
Date date = new Date(stamp.getTime());
System.out.println(date); 
```

* * *

## 回答 #2

> 赞同：42
> 
> 时间：2013-04-05T14:51:11.293

```
// timestamp to Date
long timestamp = 5607059900000; //Example -> in ms
Date d = new Date(timestamp );

// Date to timestamp
long timestamp = d.getTime();

//If you want the current timestamp :
Calendar c = Calendar.getInstance();
long timestamp = c.getTimeInMillis(); 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2016-12-08T19:14:54.383

只是：

```
Timestamp timestamp = new Timestamp(long);
Date date = new Date(timestamp.getTime()); 
```

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2017-04-15T11:04:35.777

我一直在寻找这个很久，结果证明[Eposh 转换](https://www.epochconverter.com/ "Epoch & Unix 时间戳转换工具")器很容易做到：

```
long epoch = new java.text.SimpleDateFormat("MM/dd/yyyy HH:mm:ss").parse("01/01/1970 01:00:00").getTime() / 1000; 
```

或相反：

```
String date = new java.text.SimpleDateFormat("MM/dd/yyyy HH:mm:ss").format(new java.util.Date (epoch*1000)); 
```

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2018-02-05T01:03:17.073

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2018-02-04T13:59:42.990

尝试使用这个 java 代码：

```
Timestamp stamp = new Timestamp(System.currentTimeMillis());
Date date = new Date(stamp.getTime());
DateFormat f = new SimpleDateFormat("yyyy-MM-dd");
DateFormat f1 = new SimpleDateFormat("yyyy/MM/dd");
String d = f.format(date);
String d1 = f1.format(date);
System.out.println(d);
System.out.println(d1); 
```

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2014-09-04T12:14:55.567

在 Android 中它非常简单。只需使用 Calender 类来获取 currentTimeMillis。

```
Timestamp stamp = new Timestamp(Calendar.getInstance().getTimeInMillis());
Date date = new Date(stamp.getTime());
Log.d("Current date Time is   "  +date.toString()); 
```

在 Java 中，只需使用 System.currentTimeMillis() 获取当前时间戳

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2012-08-07T04:48:08.920

首先，您没有利用使用`PreparedStatement`. 我首先建议您修改`PreparedStatement`如下：

```
PreparedStatement statement = con.prepareStatement("select * from orders where status=? AND date=?") 
```

然后，您可以使用`statement.setXX(param_index, param_value)`来设置相应的值。要转换为`timestamp`，请查看以下 javadocs：

[PreparedStatement.setTimeStamp()](http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/PreparedStatement.html#setTimestamp%28int,%20java.sql.Timestamp%29)
[时间戳](http://docs.oracle.com/javase/1.4.2/docs/api/java/sql/Timestamp.html)

希望这可以帮助！

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2012-08-07T04:40:53.373

不确定您要在查询中选择什么，但请记住，`UNIX_TIMESTAMP()`没有参数会返回现在的时间。您可能应该提供一个有效时间作为参数，或者更改条件。

***编辑：***

以下是基于问题的限时查询示例：

```
PreparedStatement statement = con
        .prepareStatement("select * from orders where status='Q' AND date > ?");
Date date = new SimpleDateFormat("dd/MM/yyyy").parse("01/01/2000");
statement.setDate(1, new java.sql.Date(date.getTime())); 
```

***编辑：时间戳列***

如果使用时间戳`java.sql.Timestamp`和[PreparedStatement.setTimestamp()](http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setTimestamp%28int,%20java.sql.Timestamp%29)，即：

```
PreparedStatement statement = con
        .prepareStatement("select * from orders where status='Q' AND date > ?");
Date date = new SimpleDateFormat("dd/MM/yyyy").parse("01/01/2000");
Timestamp timestamp = new Timestamp(date.getTime());
statement.setTimestamp(1, timestamp); 
```

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2015-06-18T21:05:08.710

`new Date(timestamp.getTime())`应该可以工作，但新奇的 Java 8 方式（可能更优雅、更安全，以及帮助引导您使用新的时间类）是调用`Date.from(timestamp.toInstant())`.

（不要依赖它`Timestamp`本身就是一个实例的事实；请参阅[另一个答案](https://stackoverflow.com/a/18080498/421049)`Date`的评论中的解释。）

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2016-07-13T12:03:02.173

我觉得有必要做出回应，因为其他答案似乎与时区无关，而现实世界的应用程序无法承受。当时间戳和 JVM 使用不同的时区时，要使时间戳到日期的转换正确，您可以使用 Joda Time 的 LocalDateTime（或 Java8 中的 LocalDateTime），如下所示：

```
Timestamp timestamp = resultSet.getTimestamp("time_column");
LocalDateTime localDateTime = new LocalDateTime(timestamp);
Date trueDate = localDateTime.toDate(DateTimeZone.UTC.toTimeZone()); 
```

下面的示例假定时间戳是 UTC（通常是数据库的情况）。如果您的时间戳位于不同的时区，请更改`toDate`语句的时区参数。

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2015-12-21T16:03:08.820

```
 Timestamp tsp = new Timestamp(System.currentTimeMillis());
   java.util.Date dateformat = new java.util.Date(tsp.getTime()); 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2014-03-10T09:37:54.497

```
String timestamp="";
Date temp=null;
try {
    temp = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss").parse(getDateCurrentTimeZone(Long.parseLong(timestamp)));
} catch (ParseException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
}
int dayMonth=temp.getDate();
int dayWeek=temp.getDay();
int hour=temp.getHours();
int minute=temp.getMinutes();
int month=temp.getMonth()+1;
int year=temp.getYear()+1900; 
```

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2018-03-22T16:51:36.543

假设你有一个预先存在的`java.util.Date date`：

```
Timestamp timestamp = new Timestamp(long);
date.setTime( l_timestamp.getTime() ); 
```

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2019-03-04T12:05:16.593

您可以使用此方法从特定区域的时间戳和时区获取日期。

```
public String getDayOfTimestamp(long yourLinuxTimestamp, String timeZone) {
    Calendar cal = Calendar.getInstance();
    cal.setTimeInMillis(yourLinuxTimestamp * 1000);
    cal.setTimeZone(TimeZone.getTimeZone(timeZone));
    Date date = cal.getTime();
} 
```

* * *

## 回答 #16

> 赞同：-3
> 
> 时间：2015-01-20T10:51:42.367

```
DateFormat df = new SimpleDateFormat("dd/MM/yyyy");
Date fecha = getDateInTimestamp(); 
```

# c# - 从字典中分配 .net 控件属性

> ID：11839248
> 
> 赞同：0
> 
> 时间：2012-08-07T04:25:17.033
> 
> 标签：c#, .net, dictionary, controls

我正在尝试从字典中更改控件属性，因此字典中的键基本上是该控件的属性名称，而值将是属性值。有没有办法做到这一点？

例如，在我的字典中，我将“Name”作为键，将“buttonSave”作为值，我如何将它们与我的控件相关联以根据键和值设置其属性？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T04:42:45.180

您的示例如何在您的情况下使用反射与方法[PropertyInfo.SetValue](http://msdn.microsoft.com/en-us/library/aa330196%28v=vs.71%29.aspx)

```
public class Customer
{
    public Guid Id { get; set; }
    public string Name { get; set; }
    public string Phone { get; set; }
}

var dictionary = new Dictionary<string, object>
                             {
                                 {"Id", new Guid()}, 
                                 {"Name", "Phil"}, 
                                 {"Phone", "12345678"}
                             };

var customer = new Customer();

foreach (var pair in dictionary)
{
     var propertyInfo = typeof(Customer).GetProperty(pair.Key);
     propertyInfo.SetValue(customer, pair.Value, null);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:36:40.220

使用 System.Reflection；

在 MSDN 中查找

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T04:43:12.790

```
myControl.GetProperty("Name").SetValue(myControl, "buttonSave", null); 
```

首先检查该属性是否存在以及它是否具有设置器也是一个好主意。有关反射的更多信息，请参见[此处](http://msdn.microsoft.com/en-us/library/f7ykdhsy.aspx)。

# haskell - 从 Haskell 调用 ARPACK++（一个 C++ 库）会涉及什么？

> ID：11839249
> 
> 赞同：2
> 
> 时间：2012-08-07T04:25:27.483
> 
> 标签：haskell

我花了几天时间在 Haskell 中开发一个程序，同时学习这门语言。现在我意识到我需要调用 Arpack（一个 Fortran 库）或 Arpack++（一个对 Arpack 的 C++ 包装器）——我找不到带有 Haskell 绑定的 Lanczos 方法的良好实现。有没有更有经验的 Haskell 程序员知道这会有多困难？

我已经能够通过 Ubuntu 的存储库安装“.so”（“共享对象”）版本的 libarpack 和 libarpack++，但我不确定这是否足够。我怀疑我最终需要从源代码构建 Arpack++，这是可能的，但是我遇到了很多构建错误，所以这需要时间。有没有办法只使用“.so”文件，而不知道究竟是哪个版本的头文件用于生成它们？

我正在考虑使用 GreenCard，因为它看起来像是维护得最好的 Haskell/C 桥。不过我找不到太多文档，所以我想知道它是否也支持 C++。

我也开始怀疑是否应该用 Python 重写我的程序，并使用 scipy 调用 Arpack，但我已经花了几天时间来编写 Haskell。我也很喜欢 Haskell，所以我希望我能完成这项工作。我想我的总体问题是：使用 Haskell 进行这项工作会涉及什么？

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:34:24.080

我可以告诉你，在外部函数接口的帮助下，使用 Haskell 的 C/Fortran 库肯定是可能的，而且不会非常复杂。这是一个[介绍](http://www.haskell.org/haskellwiki/FFI_Introduction)。在我的理解中，您应该能够使用 C 调用约定调用任何东西，甚至可能是 Fortran，而无需重新编译代码。唯一的例外是看起来像函数调用但实际上是宏的东西，在这种情况下，您必须弄清楚宏的作用并在 Haskell 中重现它们。

至于绿卡，我从来没有用过，所以我不能保证。

您使用 Python 的第二个想法可能会为您节省几天以上的时间。可悲的是，我从来没有管理过 Haskell 代码来轻松适应我不断变化的需求，而我发现这在 Python 中微不足道。当然，这可能是对我使用 Haskell 的技能或我的思维过程的限制，而不是归咎于语言。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T07:26:23.257

ELF 格式是可执行文件和共享库的标准格式，因此访问这些编译模块中的代码只需要知道函数名称即可。如果我理解正确，Fortran[可以与 C 互操作](http://www.fortran.bcs.org/2002/interop.htm)。因此，Fortran 应该可以与任何可以使用 C 绑定的语言互操作，包括 Haskell。仅供参考，您可以使用工具找到模块（可执行或共享对象或简单对象存档）导出的所有名称（`nm`默认情况下，它通常在所有 linux 发行版中都可用）。如果二进制文件没有被“剥离”，这当然会起作用，但 AFAIK 这不是常见的做法。

然而，Haskell 不能以理智的方式使用 C++ 绑定，因为 C++ 多态特性需要[名称修饰](http://en.wikipedia.org/wiki/Name_mangling#Name_mangling_in_C.2B.2B)，并且这种名称转换的方法高度依赖于编译器。这是众所周知的问题，并非特定于 Haskell。当然，您可以尝试从 C++ 共享对象中获取导出符号的列表，然后使用 FFI 绑定它们，但是……这不值得。

正如 dsign 所说，您可以使用外部函数接口 GHC 功能来创建与外部代码的绑定。您所需要的只是库标题（当然还有库本身）。如果 C 语言是头文件 (*.h)，但由于您的库是用 Fortran 编写的，您必须在库源中找到类似的头文件，请参阅[此页面](http://www.fortran.bcs.org/2002/interop.htm)以匹配 Fortran 和 C 类型，然后使用此信息用于编写 FFI 绑定。首先编写 C 绑定会有所帮助，即编写 C 标头。然后你甚至可以使用像 c2hs 这样的自动 FFI 绑定程序。

查看 C++ 绑定可能也有帮助。它可能有我上面描述的头文件。如果它有一个，那么编写 FFI 绑定将不会比为任何其他库编写它们更困难。

因此，这并非完全不可能，但可能需要一些彻底的工作。为科学/纯计算库编写绑定比为一些系统库编写绑定要容易得多，这些系统库执行大量 IO 并保持自己的内部状态，但由于这个库不是用 C 编写的......好吧，可能建议把时间花在更简单的选择上。我不能对 scipy 说任何话，我从未使用过它，但由于 Python 作为一种语言比 Haskell 简单得多，它可能是一个不错的选择。

# php - PHP：解析错误：语法错误，调用变量时出现意外的 T_VARIABLE

> ID：11839250
> 
> 赞同：-3
> 
> 时间：2012-08-07T04:25:53.740
> 
> 标签：php

我为什么要`Parse error: syntax error, unexpected T_VARIABLE`上这条线？

`$fieldLabel = '<label for=".'$fieldNameStripped'.">.'$fieldName'.</label>';`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T04:29:33.240

因为您没有正确使用 PHP - 语法错误：

```
$fieldLabel = '<label for="' . $fieldNameStripped . '">' . $fieldName . '</label>';
                           ^^^^                  ^^^ 
```

你在字符串里面有连接运算符，所以你根本没有连接。

尝试

```
$fieldlabel = <<<EOL
<label for="$fieldNameStripped">$fieldName</label>
EOL; 
```

HEREDOCs 使这些事情变得微不足道，而且更容易阅读。使用现代语法高亮编辑器，变量甚至会为您脱颖而出。

你也可以像这样准备你的字符串： $fieldLabel = "{$field->name}";

这里的双引号包围外部字符串意味着 PHP 将解析其中的变量。但是，您必须转义双引号。我已经更改了 $fieldName 变量，以显示如何将变量包装在 {} 括号中以用于对象属性等项目（我倾向于将它们用于字符串中的常规变量，只是因为我觉得保持一致是更好的做法）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:27:54.127

```
$fieldLabel = '<label for="'.$fieldNameStripped.'">'.$fieldName.'</label>'; 
```

是你应该怎么做。

在你所做的事情中，有两个问题：

1.  使用`.`for 连接时，您应该确认两边的字符串`.`应该是`"properly closed"`.

2.  另外，说如果你有`$var = 1;`，你`echo '$var';`没有得到`1`。你得到`$var`作为输出。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T04:28:20.040

你的线应该是这样的

```
$fieldLabel = '<label for="' . $fieldNameStripped . '">' . $fieldName . '</label>'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T04:28:04.977

```
$fieldLabel = '<label for="'.$fieldNameStripped.'">'.$fieldName.'</label>'; 
```

# c++ - 将函数指针传递给一个函数，该函数通过引用获取另一个函数

> ID：11839261
> 
> 赞同：0
> 
> 时间：2012-08-07T04:27:22.287
> 
> 标签：c++, function-pointers

我正在使用图书馆的这个功能

```
template <
    typename funct, 
    >
double find_min (
    const funct& f, 
); 
```

当我调用**find_min(function_a)**时，其中**function_a**是一个静态函数，它可以工作。但是当我尝试将**find_min**封装在函数**运行中**并将函数指针传递给**find_min**时，会出现错误，例如

```
class ABC {
    void run(double (*function_ptr)(double))
    {
        find_min((*function_ptr));
    }
} 
```

这是否意味着我只能将静态函数传递给**find_min**？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:23:16.270

没有理由这样的事情行不通。 [看这里。](http://ideone.com/m2UXa) 我唯一改变的是：

*   删除了`find_min`.
*   公开了`ABC::run`。

# c# - 将 javascript 变量传递给 c# 函数

> ID：11839263
> 
> 赞同：0
> 
> 时间：2012-08-07T04:27:28.230
> 
> 标签：c#, javascript

> **可能重复：**
> [将 javascript 变量转换为 C# 变量](https://stackoverflow.com/questions/7751303/convert-javascript-variable-to-c-sharp-variable)

我有嵌入 JavaScript 代码的 ac# 代码。我需要将变量标签传递给 C# 函数。这可能吗？如果那么我该如何实现呢？

```
StringBuilder ts = new StringBuilder("<script language='javascript' type='text/javascript'>");
ts.Append(var label="testLabel";);
ts.Append("</script>");  
HtmlGenericControl div = new HtmlGenericControl("div");
div.Attributes.Add("id",DivId);
div.InnerHtml = ts.ToString();
Container.Controls.Add(div); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T04:29:48.313

没有 C# 是服务器端。JS是客户端。除非您在谈论 WebControl 或其他东西。否则最接近的是 AJAX

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T04:31:06.673

检查下面的代码...

```
`StringBuilder ts = new StringBuilder("<script language='javascript' type='text/javascript'>");
 ts.Append("var label='testLabel';");
 ts.Append("</script>");  
 HtmlGenericControl div = new HtmlGenericControl("div");
 div.Attributes.Add("id",DivId);
 div.InnerHtml = ts.ToString();
 Container.Controls.Add(div); 
```

`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T04:33:06.197

Response.Write(ts.ToString()); 如果你有的话，在你的 aspx 中

# php - PHP - 嵌套的 IF 语句

> ID：11839268
> 
> 赞同：15
> 
> 时间：2012-08-07T04:28:12.583
> 
> 标签：php, nested-if

可以使用哪些控制结构来代替多个嵌套的 IF 语句。

例如：

```
function change_password($email, $password, $new_password, $confirm_new_password)
{
    if($email && $password && $new_password && $confirm_new_password)
    {
        if($new_password == $confirm_new_password)
        {
            if(login($email, $password))
            {
                if(set_password($email, $new_password))
                {
                    return TRUE;
                }
            }
        }
    }
} 
```

这个函数是这样使用的：

```
if(!change_password($email, $password, $new_password, $confirm_new_password)
{
    echo 'The form was not filled in correctly!';
    exit;
} 
```

我这样调用我的所有函数，我想知道我的编码风格是否有问题。我有疑问，因为如果我遵循这个设计，那么这意味着我编写的每个函数都将嵌套在 IF 中，检查每个阶段是否存在错误。这是别人做的吗？

我没有看到很多其他这样编写的脚本，嵌套的 IF 形成一个三角形，并且只有在中间有所需的结果。如果没有达到中间，那么事情就搞砸了。

**这是一个好的函数结构吗？**

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-08-07T04:31:53.583

嵌套太深通常是个坏主意——这是意大利面条式的逻辑，难以理解。由于您的每个验证步骤都取决于前一个阶段是否成功，因此根本不要嵌套 - 只是在阶段失败时退出：

```
function change_password(blah blah blah) {
   if (!$condition1) {
      return false;
   }
   if (!$condition2) {
      return false;
   }
   etc....

   // got here, must have succeeded
   return true;
} 
```

这清楚地表明了逻辑序列是什么。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-07T04:34:15.687

`if`我认为它绝对是可读性好的，与只使用一个语句相比更容易理解

```
if (blah and blah and blah and blah and blah and blah and blah) {} 
```

但是我仍然更喜欢这样做 - 太多的缩进会有点烦人：

```
function change_password($email, $password, $new_password, $confirm_new_password)
{
    if (!$email || !$password || !$new_password || !$confirm_new_password) return false;
    if ($new_password != $confirm_new_password) return false;
    if (!login($email, $password)) return false;
    if (!set_password($email, $new_password)) return false;

    return true;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T04:36:31.207

嵌套它们可能会很好，因为通过更改顺序，您可以避免进行额外的比较。你现在所做的看起来不错，但是如果你把它写成这样，你的函数效率会降低：

```
function change_password($email, $password, $new_password, $confirm_new_password)
{
    if($new_password == $confirm_new_password && $email && $password && $new_password && $confirm_new_password)
    {
        if(login($email, $password))
        {
            if(set_password($email, $new_password))
            {
                return TRUE;
            }
        }

    }
} 
```

如果 $new_password == $confirm_new_password 为真，但 $email 为空，您将进行额外比较。

正如其他人所说，还有其他方法可以在不嵌套所有内容的情况下解决这个问题，这在功能上是等效的。

# jquery - ExpressionEngine：上传文件表单字段不应该显示在添加/编辑表单上

> ID：11839272
> 
> 赞同：0
> 
> 时间：2012-08-07T04:28:40.397
> 
> 标签：jquery, forms, expressionengine

选择上传目录下拉菜单和选择文件按钮出现在我的添加/编辑表单底部的页脚下方，即使在没有文件上传的表单上也是如此。在开发人员控制台中，我看到此错误消息：

```
Uncaught Error: Syntax error, unrecognized expression: # 
```

我认为该消息不正确：我将 jQuery 脚本替换为来自 Google CDN 的脚本，如果我添加或编辑指向同一个 jQuery 文件的通道表单字段，我看不到该消息。

我在 ExpressionEngine 2.5.2 上，刚刚将 ExpressionEngine、Channel Images、Low Reorder、Matrix、MX Google Map 和 Wygwam 更新到了最新版本。我还删除了我的主题/第三方文件夹的内容，并从新下载的内容中替换了它们。

jQuery 错误消息出现在大多数（但不是全部）我使用 Matrix 和/或 Wygwam 的添加/编辑表单上。我有一个使用不显示错误的通道图像、矩阵和 Wygwam 的表单。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T16:13:55.673

我可以通过删除整个主题文件夹、上传 EE 和第三方主题的新副本以及清除浏览器缓存来解决此问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T11:52:36.363

上周我遇到了一个“奇怪”的 jQuery 问题。我终于找到了这样一个事实，即 SafeCracker 在我的模板中加载它自己的 jQuery 之后。有效的解决方案是放入`include_jquery="no"`我的`{exp:safecracker}`标签。如果您要引入自己的 jQuery，在这里可能值得一试，但我真的不知道 jQuery 的版本是否适合 SafeCracker。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-16T08:32:52.900

请注意，这可能是由于额外的第三方主题文件夹，或者错误地安装了 EE-Garage.com 的（优秀）Override.css。

确保在安装 Override.css 和 NSM Morphine 主题时正确按照他们的说明进行操作。

如果该字段仍然表现异常，只需尝试从控制面板卸载 Override.css。

# sql - 谈到数据库时，TBS 是什么？

> ID：11839280
> 
> 赞同：0
> 
> 时间：2012-08-07T04:29:51.707
> 
> 标签：sql, database

Oracle数据库中的缩写“TBS”是什么意思？.

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T04:44:21.883

表空间

每个表都存储在一个段中。段存储在表空间中。每个段以数据库“块”中分配的“范围”为单位进行分配。

表空间 -> 段 -> 范围 -> 块

您可以明确定义表空间。您可以选择在 CREATE TABLE 时在哪个表空间中创建表的段。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:33:16.027

看一下

[Oracle 概念 - 表空间](http://www.dba-oracle.com/concepts/tablespaces_concepts.htm)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T04:41:23.217

TBS一般是指`TableSpaces`在oracle中......

# database - 是否有用于 postgresql 的数据可视化工具，它也能够显示模式间关系？

> ID：11839282
> 
> 赞同：35
> 
> 时间：2012-08-07T04:30:01.917
> 
> 标签：database, postgresql, database-design, entity-relationship, postgresql-9.1

使用的操作系统是linux。我试过*Navicat*和*SQL Power Architect*。它们确实显示了同一模式中的表之间的关系。我有一些外键约束，它们引用不同模式中的表。

*   我是否缺少有关 Navicat 和 PostgreSQL Maestro 的内容？他们不能显示模式间的关系吗？

*   是否有用于 postgresql 的数据可视化工具，它也能够显示模式间关系？

**UPD** 很抱歉编辑您的问题，但我发现它很有用。因为这是关闭的，所以我无法回答（也许应该有那个网站？？）

要绘制数据库的表关系，您可以尝试使用[GraphViz::DBI](https://metacpan.org/release/GraphViz-DBI) perl 模块的[脚本。](https://metacpan.org/pod/distribution/GraphViz-DBI/examples/dbigraph.pl)

结果，您将获得带有关系的[GIF](https://fastapi.metacpan.org/source/TEEJAY/GraphViz-DBI-0.02/examples/mydb.gif)

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2015-12-08T21:51:02.017

我最近发现了[DBeaver](http://dbeaver.jkiss.org/)。它以可视方式自动检测表之间的关系。您可以移动表格、更改颜色、查看外键等。非常好。完全兼容 PostgreSQL

使用 GUI 查询和操作数据非常容易。

您不仅可以将它与所有主要的 SQL 和 noSQL 数据库一起使用，还可以在一个地方管理您的所有数据。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-08-07T06:55:01.393

DbVisualiser 似乎可以满足您的需求：[http ://www.dbvis.com/doc/main/doc/ug/databaseSpecific/postgresql.html](http://www.dbvis.com/doc/main/doc/ug/databaseSpecific/postgresql.html)

这里还有一个替代工具列表（尽管它不像您期望的数据库那样可查询）： [http ://wiki.postgresql.org/wiki/Community_Guide_to_PostgreSQL_GUI_Tools](http://wiki.postgresql.org/wiki/Community_Guide_to_PostgreSQL_GUI_Tools)

# javascript - 是否可以在页面加载时调用函数

> ID：11839297
> 
> 赞同：0
> 
> 时间：2012-08-07T04:31:36.357
> 
> 标签：javascript, html, function, pageload

> **可能重复：**
> [页面加载后执行的 Javascript](https://stackoverflow.com/questions/807878/javascript-that-executes-after-page-load)

```
script type="text/javascript">
function ip(ban, win) {

    var width = 15;
    var height = 10;

    if (newwin) {

}

</script>
</head>
<b><input type="button" value="Check" onclick="banow();"/></center></b> 
```

有谁知道这是否可能以及如何使此功能在页面加载时启动，最好间隔一段时间？我对这一切都很陌生，将不胜感激额外的帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T04:35:04.067

像这样的东西应该工作：

```
window.onload = function() {
  setTimeout(banow, 2000);
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:35:26.780

您可以只使用该`onload`事件，将`onload`事件应用到事件侦听器，或者`()`在函数的右花括号之后放置。

```
//e.g. 1:
window.onload = function(){
  setTimeout(function(){
    function_to_call();
  }, 1000);
};

//e.g. 3:
window.addEventListener("load", function(){
  setTimeout(function(){
    function_to_call();
  }, 1000);
}, false);

//e.g. 2:
function function_to_call(){

}(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T04:33:42.177

在 jQuery 中：

```
$(function(){
     // your methods here, will be called after page has been loaded
     setInterval(functionName, 1000); //replace functionName with your function, 1000 is millisecond
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T04:34:33.517

您需要 body 和 onload 事件，请查看：[http ://www.w3schools.com/jsref/event_body_onload.asp](http://www.w3schools.com/jsref/event_body_onload.asp)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-07T04:36:06.610

```
<script type="text/javascript">
window.onload=function(){
  alert("hello"); //call your function here
}
</script> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-07T04:45:49.470

你可以调用`onload`body

例如。

```
<body onload="ip(parameters)">

</body> 
```

# c++ - 删除在另一个函数中分配的内存？

> ID：11839300
> 
> 赞同：0
> 
> 时间：2012-08-07T04:31:47.577
> 
> 标签：c++, memory, memory-leaks, delete-operator

所以我刚刚完成了合并排序的实现，但我突然想到我没有删除从我丢弃的递归调用返回的内存，所以我为 array1 和 array2 添加了删除语句，然后突然我的合并排序没有工作.....为什么在我的函数末尾添加删除语句会搞砸一切？我需要释放内存吗？

代码如下：

```
/**
 * Runs merge sort on this ArrayList<T>. Interface function to the central,
 * recursive, merge sort function.
 */
template<class T>
void ArrayList<T>::mergeSort() {

    T* temp = mergeSort(array, size);
    delete [] array;
    array = temp;
}

/**
 * Runs merge sort on the passed in array. Recursive.
 *
 * @param array the array to sort.
 * @param arraySize the size of the array that is to be sorted.
 * @return the sorted array.
 */
template<class T>
T* ArrayList<T>::mergeSort(T* array, int arraySize) {

    T* returnArray = array;

    //If the array is more than one element.
    if (arraySize > 1) {

        int size1 = arraySize / 2;
        int size2 = arraySize - size1;

        T* array1;
        T* array2;

        //Recurse.
        array1 = mergeSort(array, size1);
        array2 = mergeSort(array + size1, size2);

        returnArray = new T[arraySize];

        //Loop through all elements in returnArray.
        int i = 0, j = 0, k = 0;
        while (i < arraySize) {

            //Place the lesser of two elements in returnArray.
            if ((array1[j] <= array2[k] && j < size1)
                    || k == size2) {

                returnArray[i] = array1[j];
                j++;
            }
            else {

            returnArray[i] = array2[k];
                k++;
            }

            i++;
        } 
```

/---这些是有问题的删除！！--/

```
 delete [] array1;
        delete [] array2;
    }

    return returnArray;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T04:42:31.863

当数组大小等于 2 时，我看到一个问题，因为您调用

```
array1 = mergeSort(array, size1);
array2 = mergeSort(array + size1, size2); 
```

和 size1=1,size2=1 那么这两个调用都将返回，并且您将在变量中具有以下值

```
array1 = array;
array2 = array+1; 
```

并且 array2 不是分配的内存地址，因此删除它应该会失败并出现错误或执行未定义的操作，所以我建议在继续之前修复它

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:54:31.597

我没有详细查看，但想到一件事：当`mergeSort`使用大小为的数组调用时，`<= 1`它返回传递的数组而不分配新的数组，但是从递归调用返回时，无论如何你都会尝试删除它。您可以通过添加以下内容来改进您的代码：

```
if (size1 > 1)
   delete [] array1;
if (size2 > 1)
   delete [] array2; 
```

# ruby-on-rails-3 - GET 请求和使用 rails 的 Fancybox

> ID：11839304
> 
> 赞同：0
> 
> 时间：2012-08-07T04:32:20.273
> 
> 标签：ruby-on-rails-3, fancybox

我很确定理论上我想做的事情应该有效，我相信我的语法是正确的。但最好能对它有一些新的认识。

我想从站点中提取文章（GET 请求）并将这些文章显示在一个精美的框中，这样我的用户就不需要离开该站点。我在这里想念什么？

感谢您对此的帮助。

```
<ul class="box_qa">
        <% @hero_news.each do |item| %>
            <li>
            <%= item["webTitle"] %> <%= link_to "Read more!", item["webUrl"], :class=>"fancybox" %>
            <span class="timestamp">
             Posted <%= time_ago_in_words(item["webPublicationDate"])%> ago.
            </span>
            </li>
        <% end %>
</ul>

<script>
$(document).ready(function(){
 $("a.fancybox").fancybox({'type': 'image'});
});
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:21:39.460

将“图像”切换到 iframe。但是仍然存在尺寸问题。

# visual-studio-2010 - 使用 Visual Studio 2010 在 sharepoint 2010 中创建自定义列（超链接类型）

> ID：11839308
> 
> 赞同：0
> 
> 时间：2012-08-07T04:33:00.023
> 
> 标签：visual-studio-2010, sharepoint, sharepoint-2010, sharepoint-2007

我想使用 VS 2010 在 Sharepoint 2010 中创建一个自定义列。当用户单击此超链接时，它应该在模式弹出窗口中打开。请指导我。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T06:51:05.007

如下声明该字段

```
<Field Type="URL" Format="Hyperlink" Name="MyLinkName" ID="{GUID}" DisplayName="MyLinkDisplayName" Required="TRUE" Group="Custom Columns" /> 
```

将“类型”设置为“URL”，将“格式”设置为“超链接”。

*从 VS 生成一个 GUID 并将其添加到 ID 属性中。（我删除了我的 GUID）如何生成 GUID -[单击此处](http://weblogs.asp.net/sreejukg/archive/2011/11/03/create-a-list-definition-in-sharepoint-2010-using-visual-studio-2010.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-14T19:00:14.673

我不知道模态弹出窗口。根据我读到的，它是一个javascript。因此，在字段定义中，您可以将 javascript 添加到“NavigationUrl”属性，如下所示。

```
NavigateUrl="javascript:alert('Hello')" 
```

不知道是否解决了你的问题...

# javascript - 文本内的 Css 链接

> ID：11839317
> 
> 赞同：1
> 
> 时间：2012-08-07T04:34:15.890
> 
> 标签：javascript, css

这可能很容易回答..我有一个 div，里面有一些文本，在那个文本中也可以有一些链接，例如你好[http://google.com](http://google.com)你好[http://bing.com](http://bing.com)。

问题是如何使用 css 使这些链接显示为超链接。

谢谢

编辑：

我刚刚看到，在发布这个问题后，链接会自动显示为超链接。我需要同样的东西。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T04:37:51.987

这不是 CSS 可以解决 AFAIK 的要求。您需要使用 Javascript 之类的东西来处理 DIV 中的文本，以查找类似于 URL 的内容并在它们周围放置锚标记。对于您提交答案时发生的情况，我的猜测是 Stackoverflow 上的服务器端代码做了同样的事情，只是在服务器上没有在您的浏览器中实时呈现。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:41:29.480

没有将 URL 转换为链接的纯 CSS 解决方案。

这是一个 PHP 代码片段的示例，它正是这样做的： http: [//css-tricks.com/snippets/php/find-urls-in-text-make-links/](http://css-tricks.com/snippets/php/find-urls-in-text-make-links/)

这个 SO 答案有一个使用 Javascript 的解决方案，可以说更优雅：

```
function replaceURLWithHTMLLinks(text) {
    var exp = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;
    return text.replace(exp,"<a href='$1'>$1</a>"); 
} 
```

[https://stackoverflow.com/a/37687/1512956](https://stackoverflow.com/a/37687/1512956)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T04:42:12.343

试试这个

```
<style type="css/text">
A:link {text-decoration: none}
A:hover {text-decoration: underline;}
</style>
<body>
<div id="link">
   <A href="http://www.google.com">Google</A>
   <A href="http://www.yahoo.com">yahoo</A>
</div> 
```

演示[http://jsfiddle.net/rSpMV/1/](http://jsfiddle.net/rSpMV/1/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-07T04:45:52.317

## 你需要使用类似的东西`javascript`来解决这个问题。

像这样：

```
function replaceURLWithHTMLLinks(text) {
    var exp = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;
    return text.replace(exp,"<a href='$1'>$1</a>"); 
} 
```

请检查：[stackoverflow 问题](https://stackoverflow.com/questions/37684/how-to-replace-plain-urls-with-links/37687#37687)

# linux - 我们如何检查 Linux 中是否启用了 NAPI 功能？

> ID：11839318
> 
> 赞同：1
> 
> 时间：2012-08-07T04:34:15.860
> 
> 标签：linux

我想检查我们的 linux 中是否启用了 NAPI 功能。我们正在使用 bnx2 驱动程序。

我们的 linux 操作系统是 RHEL5，内核是 2.6.18-164.el5PAE

如果有人知道请帮忙。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T06:19:24.723

只需使用流量生成器为网络接口生成持续的网络流量。确保 **不会*通过接口生成反向流量。然后做：

观看 cat /proc/interrupts | grep bnx2

您将看到 bnx2 驱动程序已注册的中断线统计信息。

中断计数是否随着数据包速率不断上升？然后 NAPI 关闭。中断计数是稳定的还是上升得比数据包速率慢得多？NAPI 已开启。

请注意，与其他一些设备/驱动程序共享的中断线可能会使测试复杂化。

# c# - c#：在子项上显示工具提示

> ID：11839323
> 
> 赞同：4
> 
> 时间：2012-08-07T04:34:34.347
> 
> 标签：c#, winforms, listview, tooltip, subitem

我有一个列表视图，并且在其中一列（不是第一列）中我想显示一个错误代码。

我无法做的是让工具提示显示。我有

```
this.lstList.ShowItemToolTips = true;
...
ListViewItem value = lstList.Items.Add(name, name, 0);
...
if (lstList.Columns.Contains(lstColErrorCode))
{                                
  value.SubItems.Add(new ListViewItem.ListViewSubItem(value, errorCode.ToString()));
  value.ToolTipText = errorCode.ToString("X");
} 
```

我想在十进制值上方的工具提示上显示代码的十六进制值，但它显示在名称上方。

我无法得到任何我试图工作的东西（比如试图获取子项的坐标）。我会很感激任何建议。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T05:19:00.857

这段代码对我有用

```
ToolTip toolTip1 = new ToolTip();

void initMethod()
{
    lstList.MouseMove += new MouseEventHandler(lstList_MouseMove);//mousemove handler
    this.lstList.ShowItemToolTips = true;            
    toolTip1.SetToolTip(lstList,"");// init the tooltip
    ...
    ListViewItem value = lstList.Items.Add(name, name, 0);
    ...
    if (lstList.Columns.Contains(lstColErrorCode))
    {                                
        ListViewItem.ListViewSubItem lvs =  value.SubItems.Add(new ListViewItem.ListViewSubItem(value, errorCode.ToString()));
        lvs.Tag = "mydecimal"; // only the decimal subitem will be tooltiped
    }
} 
```

listview 中的 mousemove 事件：

```
void lstList_MouseMove(object sender, MouseEventArgs e)
{
    ListViewItem item = lstList.GetItemAt(e.X, e.Y);
    ListViewHitTestInfo info = lstList.HitTest(e.X, e.Y);

    if ((item != null) && (info.SubItem != null) && (info.SubItem.Tag!=null) && (info.SubItem.Tag.ToString() == "mydecimal"))
    {
        toolTip1.SetToolTip(lstList,((decimal)info.SubItem.Text).ToString("X"));
    }
    else
    {
        toolTip1.SetToolTip(lstList, "");
    }
} 
```

# facebook - 试图同时获取用户 ID 和点击应用程序的配置文件的 ID

> ID：11839325
> 
> 赞同：0
> 
> 时间：2012-08-07T04:34:51.487
> 
> 标签：facebook, facebook-graph-api, userid

我正在设计一个应用程序，让一个 facebook 用户委托另一个用户。我是 facebook API 的新手，但我正在尽我所能 - 希望有人能指出我正确的方向。

该应用程序执行以下操作：

1) 一旦获得授权，它会在您的时间轴上创建一个选项卡。2) 然后另一个 facebook 用户点击这个标签。3）一旦他们授权并给予许可，我想捕获登录用户的用户ID（这很容易）和他们点击安装应用程序的配置文件的ID（我不能这样做）。我将这些发送到 MySQL 服务器。

那么我是否捕获了两个不同的用户 ID？还是一个用户 ID 和一个页面 ID？非常感谢任何帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T04:38:41.710

好吧，您根本无法将应用程序添加到用户的配置文件中。因此，您看到的是一个 PAGE_ID（假设您的意思是应用程序安装在**页面的时间轴**上）和一个 USER_ID。

您将在[`signed_request`](https://developers.facebook.com/docs/authentication/signed_request/)传递给页面的 中找到所有这些信息。解码`signed_request`后，页面信息就在`page`参数中-

> **page** - 一个 JSON 对象，包含页面 id 字符串、喜欢的布尔值（如果用户喜欢该页面，则设置为 true，如果没有，则设置为 false）和 admin 布尔值（如果用户是页面的管理员，则设置为 true，如果他们不是）。仅当您的应用程序在页面选项卡中加载时才会出现此字段。

用户信息在`user`参数中 -

> **user** - 一个 JSON 对象，包含语言环境字符串、国家字符串和年龄对象。有关实际最小值和最大值，请参阅年龄对象表。

# mysql - MySQL 查询（或 Doctrine 1.2 查询） - 从连接表和过滤器中获取最新项目

> ID：11839326
> 
> 赞同：0
> 
> 时间：2012-08-07T04:35:00.820
> 
> 标签：mysql, join, max, doctrine-1.2

我在构建查询以执行以下操作时遇到问题：

按 activity_type_id 过滤联系人，仅显示最近活动具有所需 activity_type_id 或为 NULL（无活动）的联系人

**表格的结构如下：**

一个联系人可以有许多不同类型的活动

```
activity:
id
contact_id
activity_type_id
date

contact:
id
first_name
last_name 
```

到目前为止我有这个：

```
SELECT * FROM (
    SELECT c.first_name, c.last_name, a.activity_type_id, MAX(a.date) AS maxdate 
    FROM contact AS c
    LEFT JOIN activity AS a ON a.contact_id = c.id
    GROUP BY c.id
    ORDER BY c.first_name  ASC
) AS act 
```

然后将其添加到过滤器：

```
WHERE activity_type_id = 3 /* <- I would like to filter using this */ 
```

但是，对于具有多个活动的联系人，我得到了错误的 activity_type_id。

我最终想将其用作 Doctrine 1.2 查询，但我希望首先在 MySQL 中工作。

谢谢你。

**最终的解决方案**

```
SELECT c.first_name, c.last_name, a.activity_type_id FROM contact c
  LEFT JOIN
    (SELECT a1.contact_id, a1.date, a1.activity_type_id FROM activity a1
      JOIN (SELECT contact_id, MAX(DATE) DATE FROM activity GROUP BY contact_id) a2
        ON a1.contact_id = a2.contact_id AND a1.date = a2.date
     ) a
  ON c.id = a.contact_id  
WHERE a.activity_type_id = 2; 
```

最后的 where 原因可以调整为返回各种活动类型或设置为 IS NULL。

**DQL 1.2 兼容版本**

```
SELECT * FROM contact c
LEFT JOIN activity ON c.id = contact_id
WHERE ROW (c.id,DATE) IN (SELECT contact_id, MAX(date) date FROM activity  GROUP BY contact_id)
AND activity_type_id = 2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T06:53:37.790

试试这个查询 -

*编辑：*添加了 a1.activity_type_id

```
SELECT c.first_name, c.last_name FROM contacts c
  LEFT JOIN
    (SELECT a1.contact_id, a1.date, a1.activity_type_id FROM activity a1
      JOIN (SELECT contact_id, MAX(date) date FROM activity GROUP BY contact_id) a2
        ON a1.contact_id = a2.contact_id AND a1.date = a2.date
     ) a
  ON c.contact_id = a.contact_id
WHERE a.contact_id IS NULL OR a.activity_type_id = 3; 
```

# java - Android 地图视图地理编码器语法

> ID：11839328
> 
> 赞同：0
> 
> 时间：2012-08-07T04:35:19.253
> 
> 标签：java, android, google-maps, geocoding

我是android的新手。我要做的是按名称获取位置，但我不能在我的 android 应用程序中使用此代码。

```
String location = "London"; 
```

下面的代码用红线突出显示“无法从类型 Geocoder 对非静态方法 getFromLocationName(String, int) 进行静态引用”

```
-->>List<Address> addressList = Geocoder.getFromLocationName(location, 1); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:35:11.680

```
 location="ahmedabad,gujarat,india";

 Geocoder gcd = new Geocoder(this, Locale.getDefault());

        try {
            addresses = gcd.getFromLocation(location, 1);
            if (addresses.size() > 0)
                for (int k = 0; k < addresses.size(); k++) {
                    locationname = addresses.get(k).getAddressLine(0);
                    Log.i("location name", locationname);
                }
        } catch (IOException e) {
            e.printStackTrace();
        } 
```

它是一个完整的示例，并且在我的应用程序中也成功运行......一切顺利

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:40:26.863

尝试这个...

```
Geocoder geo = new Geocoder(getApplicationContext(), Locale.getDefault());
List<Address> addressList= geo.getFromLocationName("London",10) 
```

# c# - 复杂配置类asp.net

> ID：11839330
> 
> 赞同：0
> 
> 时间：2012-08-07T04:35:33.903
> 
> 标签：c#, asp.net, configuration, user-controls, webpage

我有一个复杂的配置类，它包含所有配置数据，我正在业务类库中存在的单独类中读取这个类。在我的 web 项目中，我正在一个 pagebase 类中阅读这个 - 我所有的 aspx 页面都继承了它。我有这个类作为页面库中的一个属性，我可以在我的 aspx 页面中访问它。但是如何在用户控件中访问它？是否有一种全局方法可以将此类保存在内存中（我不能将其作为静态的，因为每个用户都不同）而且我宁愿不使用会话。我在想有一种方法可以将它作为全局属性的一部分放在某个地方，所以我总是可以在 Web 项目的任何地方使用它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:39:45.730

如果它在您的所有页面上，您只需将页面对象转换为您的基本页面并访问该属性。

在用户控件内。

```
((MyBasePage)this.Page).MyConfigObject 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T04:43:07.953

您可以在页面创建时将其放入[HttpContext.Current.Items](http://msdn.microsoft.com/en-us/library/system.web.httpcontext.items%28v=vs.100%29.aspx)字典中。它将在该请求的生命周期内可用。

注意：在没有全局/每个请求状态的情况下，您可以找到其他方法来实现您想要实现的任何目标......

# android - Activity之间传递对象包含NULL

> ID：11839331
> 
> 赞同：0
> 
> 时间：2012-08-07T04:35:34.190
> 
> 标签：android, android-activity

我有 2 个活动（Order 和 OrderReview），我从中将对象从 OrderActivity 发送到 OrderReviewActivity。当我在 OrderReview 活动中检索该对象时，该对象为 NULL。

**订单活动**

```
@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        case R.id.send_menu:                
            showOrderReview();
            break;
    }
    return true;
}

private void showOrderReview()
{
    // TODO Auto-generated method stub
    Intent i = new Intent(this, ReviewOrderActivity.class);
    i.putExtra("order",order);
    Collection<Order.OrderProduct> products = order.getProducts();
    System.out.println("OrderActivity : " + products.size());

    for (Order.OrderProduct product : products){
        Log.d("---", "OrderActivity product.getQty() "+product.getQty()+"  "+product.getProductId());

    }
    startActivity(i); 
} 
```

**订单审核活动**

```
public class ReviewOrderActivity extends Activity
{
@Override
public void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.orderreview);

    Intent i = getIntent();
    Order myOrderObject = (Order) i.getParcelableExtra("order");
    Collection<Order.OrderProduct> products = myOrderObject.getProducts();
    System.out.println("Orderrrrrrrrrrrr : " + products.size());

    for (Order.OrderProduct product : products){
        Log.d("---", " product.getQty() "+product.getQty()+"  "+product.getProductId());

    }       
}
} 
```

**订单.java**

```
public class Order implements Parcelable {

public static class OrderProduct {
    private String productId;
    private String qty;

    public OrderProduct(String productId, String qty) {
        this.productId = productId;
        this.qty = qty;
    }

    public String getProductId() {
        return productId;
    }

    public String getQty() {
        return qty;
    }

    public void setQty(String qty) {
        this.qty = qty;
    }

    @Override
    public String toString() {
        return "productId: " + productId + "  qty: " + qty;
    }   

}

private String  customerId;
private Map<String, OrderProduct> products;
private OrderProduct product;

public Order(String customerId) {
    Log.v("TAG", "Order constr 1");
    this.customerId = customerId;
    products = new HashMap<String, OrderProduct>();
}

public Order(Parcel in)
{
    Log.v("TAG", "ParcelData(Parcel source): time to put back parcel data");
    String productId = in.readString(); 
    String qty = in.readString(); 
    Log.v("TAG", productId +" qty: "+qty);
    product = new OrderProduct(productId, qty); 
    products = new HashMap<String, OrderProduct>();
}

public void setProduct(String productId, String qty) {
    product = products.get(productId);
    if (product == null) {
        product = new OrderProduct(productId, qty);
    }
    else {
        product.setQty(qty);
    }
    products.put(productId, product);
}

public Collection<OrderProduct> getProducts() {
    return products.values();
}

public String getCustomerId() {
    return customerId;
}

@Override
public String toString() {
    StringBuffer sb = new StringBuffer();
    sb.append("Order: customerId: " + customerId + " { ");
    for (OrderProduct product : products.values()) {
        sb.append(" { ").append(product.toString()).append(" } ");
    }
    sb.append(" } ");
    return sb.toString();
}

@Override
public int describeContents()
{
    return 0;
}

@Override
public void writeToParcel(Parcel dest, int flags)
{
    // TODO Auto-generated method stub
    System.out.println("INSIDE product.getProductId()" +product.getProductId());
    dest.writeString(product.getProductId());
    System.out.println("INSIDE product.getQty()" +product.getQty());
    dest.writeString(product.getQty());
}

public static final Order.Creator<Order> CREATOR = new Order.Creator<Order>() { 
    public Order createFromParcel(Parcel in) { 
        return new Order(in); 
    } 

    public Order[] newArray(int size) { 
        return new Order[size]; 
    } 
}; 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:08:34.563

不要使用 i.getParcelableExtra("order")，而是使用 i.getSerializableExtra("order")。希望它有效

# kinect - Kinect - 实现以下显示所需的技术

> ID：11839333
> 
> 赞同：2
> 
> 时间：2012-08-07T04:35:40.410
> 
> 标签：kinect

有谁知道我应该使用什么技术来使显示视频向左、向右、向上和向下移动，如下面的视频所示？我想用 Kinect 来实现这一点，但想法不同。

提前致谢。

[http://www.youtube.com/watch?v=V2hxaijuZ6w](http://www.youtube.com/watch?v=V2hxaijuZ6w)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T04:51:15.280

**编辑**：

既然我醒了，我将更详细地介绍这一点（显然我花了一周的时间才醒来）。

因此，Winscape 项目通过将窗口从现实世界连接到虚拟世界来连接真实世界和虚拟世界。这样做的方式就像现实世界是虚拟世界的一部分一样，然后更改监视器的显示（伪装成窗口）以复制一个人应该看到的视图，如果他们存在于虚拟世界中。

想象一下你的虚拟世界。它不一定有尽头，但有一点你会停止尝试将内容渲染到其中，所以假设世界包含在一个包含所有渲染元素的盒子中。现在，Winscape 所做的就是让虚拟世界看起来真实存在于现实世界中，并且您可以通过监视器看到它。

第一步显然是创建你的虚拟世界。对于初学者，我建议只创建一个文字框。使每面墙都具有不同的颜色，或在墙上放置颜色渐变。做一些简单的事情。如果您还没有决定使用 3D 框架来处理这个问题，我建议您使用 XNA。它是 C#，可与 Kinect SDK 配合使用，并且它有大量在线教程可以帮助您。一旦你创建了你的世界，使用 XNA 在盒子里放置一个摄像头并添加一些简单的控件来旋转摄像头。这将允许您从内部查看框，以确保渲染按预期工作。

完成此操作后，您需要决定将窗户放在哪里。这些将成为您的 3D 场景的视点。为了演示这个概念，这是我从[XNA 相机教程](http://www.3dgameprogramming.net/2007/07/31/getting-started-with-xna-first-person-camera/)中拍摄的一张照片。

![相机基础知识](../Images/0fa2fd68dc7c22d999a9135f34c04edb.png)

请注意，如果您阅读实际教程，他们不会说与我完全相同的内容，因为我只是在劫持图片以证明我的意思。所以，(0,0,0) 点就是你的“眼睛”所在的位置。粉红色的矩形将代表您的窗口。看着窗户，从眼睛到粉红色窗户的角落画了四条线。这四条线向前延伸，直到它们与背景碰撞，形成绿色矩形。这将是您的眼睛可以透过窗户看到的矩形。

请注意，XNA 实际上会为您处理很多此类问题。你只需要在你的虚拟场景中创建一个摄像头并移动它，做一些数学运算将它直接对准你的窗户。您会希望该摄像机以代表您在现实世界中的位置的方式出现在虚拟空间中。为此，您可以使用 Kinect 获取与自身相关的真实世界坐标，然后配置您的应用程序以了解 Kinect 相对于窗口的位置。结合这些数据，您可以获得与现实世界中的监视器相关的眼睛位置，并且由于监视器由虚拟世界中的窗口表示，您可以确定您在虚拟世界中的位置。所以把虚拟相机放在你的头在虚拟世界里，把它对准窗户，

**原始的半清醒咆哮**：

好的，我要试一试（现在几乎是凌晨 1 点，所以如果我做得不够出色，请告诉我，我醒来时会回来做这件事）。

首先，它会涉及到相当多的数学，我将略过。基本上，你有三层。

人----“Windows”（监视器）----场景

当然，这个场景并不存在。你必须将这个人融入一个虚拟世界，其中的场景实际上只是一个平面图像，存在于墙后面。该人可以看到所述场景的唯一方法是通过墙上的窗户，实际上这是由监视器伪造的。

所以，数学来了。Kinect 可以计算出你站在房间的哪个位置，更重要的是，可以计算出你的头在哪里。由此您可以大致了解您的眼睛在哪里。您需要抓住这一点（您的眼睛）并将其转换为您在虚拟世界中使用的坐标。然后，计算这些眼睛应该能够通过虚拟窗口看到什么。您可以通过将线条从眼睛投射到窗口的每个角落，一直到它碰到“场景”图片来做到这一点。每个窗口将对应背景图片上的一个矩形区域。这个矩形是需要绘制到屏幕上的。

最棘手的部分是建立虚拟世界以几乎完美地模仿现实世界。本质上，很多配置（“好吧，这个窗口在 Kinect 上方 1.5 米处.. 并且在其左侧 0.25 米处..”）。我也不确定你应该把场景图片放多远。如果我想到了什么，我会回到这个，但你当然可以尝试一下，找出一个适合你的设置的距离。

哦，等等，现在我知道为什么我无法计算出距离了。这是因为该示例使用的是 3D 模拟。很漂亮。所以你只需要弄清楚你想在模拟中播放窗口的位置或诸如此类的东西。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T07:57:03.563

根据您要使用的设置（KinectDSK、libfreenect、OpenNI 等）以及您希望它的准确程度，有多种技术。

例如，OpenNI 有一个名为[GetCoM](http://openni.org/docs2/Reference/classxn_1_1_user_generator_a451c8a197374b567e62622f5edcb1670.html)的函数，它可以返回用户的质心（此时不需要跟踪骨架），可以使用该函数。看起来视频中使用了 OpenNI，但他们仍然使用旧版本。较新的版本允许在没有 'psi'(ψ) 姿势的情况下进行骨骼跟踪。

请注意，它看起来并不需要用户的头部方向。例如，身体可以指向一个方向，而头部可以指向另一个方向。[G.Fanelli 和他的团队](http://www.vision.ee.ethz.ch/~gfanelli/head_pose/head_forest.html)在该领域进行了大量研究。对于 Kinect，请查看[来自消费者深度相机的实时头部姿势估计](http://www.vision.ee.ethz.ch/~gfanelli/pubs/dagm11.pdf)

![RTHPE](../Images/2e5f0df71cd18e464d8f95c3a288ba5e.png)

我用 KinectSDK 和 Kinect for Windows 玩了一会儿，发现里面有一个[Face Tracker](http://www.codeproject.com/Articles/394975/How-To-Use-Kinect-Face-Tracking-SDK)。

![FaceTracker KinectSDK](../Images/db8c65299dcd36c72692b373ebfb4dfe.png)

最后，根据您希望跟踪的松散或精确程度、理想设置是什么（覆盖的最大距离、使用的内容等），您可以确定最适合您的 SDK/库。另外，我想这也取决于您的编程经验，在这种情况下，还要寻找更容易处理的包装器（例如 Unity、MaxMSP/Jitter、Processing、openFrameworks 等）

# php - 使用 Jquery Tree Plugin 配置 ul li 标签

> ID：11839334
> 
> 赞同：1
> 
> 时间：2012-08-07T04:35:46.107
> 
> 标签：php, javascript, jquery, codeigniter

我有以下代码，它使用 PHP（Codeigniter）在 ul li 标签中生成动态树结构。

以下是我从前序遍历表中获取数据的 PHP 代码：

```
function renderTree($tree, $currDepth = -1) {
  $currNode = array_shift($tree);
  $result = '';
  // Going down?
  if ($currNode['depth'] > $currDepth) {
    // Yes, prepend <ul>
    $result .= '<ul>';
  }
  // Going up?
  if ($currNode['depth'] < $currDepth) {
    // Yes, close n open <ul>
    $result .= str_repeat('</ul>', $currDepth - $currNode['depth']);
  }
  // Always add the node
  $result .= '<li>' . $currNode['name'] . '</li>';
  // Anything left?
  if (!empty($tree)) {
    // Yes, recurse
    $result .=  renderTree($tree, $currNode['depth']);
  }
  else {
    // No, close remaining <ul>
    $result .= str_repeat('</ul>', $currNode['depth'] + 1);
  }
  return $result;
}

print renderTree($tree); 
```

它会根据表中的记录生成如下的树形结构：

```
<ul>
    <li>Language</li>
    <li>
        <ul>
            <li>PHP</li>
            <li>Java</li>
            <li>
                <ul>
                    <li>Hybernet</li>
                </ul>
            </li>
            <li>Web</li>
            <li>
                <ul>
                    <li>HTML</li>
                    <li>
                        <ul>
                            <li>HTML Canvas</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>Ruby</li>
        </ul>
    </li>
</ul> 
```

现在我想使用 Jquery 树插件对其进行动画处理。意味着我可以像资源管理器或任何分层树模块一样隐藏和扩展它的父子节点。但是由于这种动态生成，我面临着问题，并且没有得到如何使用 jquery 配置它。我需要帮助。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:47:05.503

把 id="tree" 放在你的 UL 上

假设您使用的是[http://jquery.bassistance.de/treeview/demo/](http://jquery.bassistance.de/treeview/demo/)

然后把一些js沿线

```
<script type="text/javascript">
    $(function() {
        $("#tree").treeview({
            collapsed: true,
            animated: "fast",
            prerendered: true,
            persist: "location"
        });
    })

</script> 
```

它应该可以正常工作，请务必阅读链接的 jquery 插件站点中的文档和示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T04:52:07.753

我不知道这是否会对您有所帮助，但我已经为您制作了一个带有展开/折叠类别的 jsfiddle。你可以自己做而不使用任何插件，但我不知道这是否是你想要的

CSS

```
div.tree ul li {
    display:block;
}

div.tree ul li ul {
    display:none;
} 
```

HTML

```
<div class="tree">
<ul> 
    <li>Language <a href="#">expand</a>
        <ul> 
            <li>PHP</li> 
            <li>Java                
                 <ul> 
                    <li>Hybernet</li> 
                 </ul>
            </li>
            <li>Web
                <ul> 
                    <li>HTML
                        <ul> 
                            <li>HTML Canvas</li> 
                        </ul> 
                    </li> 
                </ul> 
            </li> 
            <li>Ruby</li> 
        </ul> 
    </li>
    <li>Other menu <a href="#">expand</a>

        <ul> 
            <li>Other submenu</li>
</ul>
    </li>
</ul>
</div> 
```

JS

```
$(function(){
    $('.tree ul li a').click(function(){

        var a = $(this).next('ul');
        if(a.css('display') == 'block') {
               a.css('display','none');    
               $(this).html('expand');
        } else {
               a.css('display','block');    
               $(this).html('collapse');   
        }    
    });
}); 
```

[你的 jsfiddle](http://jsfiddle.net/VF8nw/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T10:04:54.270

使用 TreeMenu.js 并遵循他们的文档。它易于配置：

[http://mackpexton.com/projects/TreeMenu/index.htm](http://mackpexton.com/projects/TreeMenu/index.htm)

# salesforce - 如何在销售人员的机会视图中隐藏 VF 页面

> ID：11839335
> 
> 赞同：0
> 
> 时间：2012-08-07T04:36:01.753
> 
> 标签：salesforce

我在机会页面中使用一个 Vf 页面，并且在 VF 页面上方有一个复选框

批准 ---------- 复选框

..................................................... ..视觉力页面..................................................

```
 Data 
```

..................................................... ..................................................... …………………………………………………………………………………………………………

我所做的是，当取消选中复选框时，上面显示的 vf 页面或视图隐藏在保存按钮上单击该工作完美。但是 VF 页面的位置存在空白。

我希望你明白我的意思。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T13:02:59.027

您可以创建 2 个不同的机会页面布局。第一个布局带有您的复选框，第二个带有 visualforce 页面。您将 2 个页面布局分配给不同的 RecordType。您的复选框可以触发正在更改记录类型和页面布局的工作流。

下一个选项是使用 javascript 隐藏该部分，但这并不可靠。

# php - 如何仅在一段时间或几天内显示某些内容

> ID：11839337
> 
> 赞同：-2
> 
> 时间：2012-08-07T04:36:23.127
> 
> 标签：php

我只想显示一些内容一段时间或几天或重复

开始时间、开始日期、结束日期和结束日期将存储在数据库中

因此，当当前时间介于开始日期、开始时间、结束日期和结束时间之间时，内容应显示

如何实现这一点...请帮助我

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:45:55.617

这个问题没有很多细节可以继续，但是假设您正在使用 MySQL 数据库，并且您有一个像您描述的那样的表：

```
mytable:
  start_time TIME
  start_date DATE
  end_date DATE
  content TEXT 
```

因此，您可以使用 MySQL 的[日期函数](http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html)来帮助您选择适当的内容，也可以使用 PHP 的`date`，如评论中所建议的那样。

例如，假设您想要构建一个检索“今天”内容的查询。

你可以使用类似的东西：

```
SELECT content FROM mytable
WHERE CURRENT_DATE BETWEEN start_date AND end_date
      AND start_time <= CURRENT_TIME 
```

查看[PHP 日期函数](http://us2.php.net/manual/en/function.date.php)，以便您可以使用备用值构造参数化查询。

# perl - Perl 脚本错误 ReferenceError: The variable ActiveXObject has not been declared

> ID：11839342
> 
> 赞同：2
> 
> 时间：2012-08-07T04:36:47.577
> 
> 标签：perl

我正在尝试从 http 请求的响应中运行 js 脚本。

以下是代码。

```
#!/usr/bin/perl
use WWW::Scripter;
use URI;

$w = new WWW::Scripter;
$w->use_plugin('JavaScript');
$response=$w->get("sdt1.corp.xyz.com:8080/click/phoenix/339cd9314fe0136d3c30f6e9984b1ddc?clickId=sfshsksk1234go");

$data_ref = $response->content_ref( );

#this response is a html code with a js link enbedded
my $h = $$data_ref;

my $u = new URI 'data:';
$u->media_type('text/html');
$u->data( $h );
$w->get($u); 
```

$h中的html代码如下（为了可读性添加了空格）

```
<html>
 <body>
  <div id="iat-click-js"></div>
  <script>
   var _clickurl="http://sdt1.corp.xyz.com:8080/click/phoenix/339cd9314fe0136d3c30f6e9984b1ddc?clickId=sfshsksk1234go&csrdmnb=1343895381009";
   var _fpdatakey="afpdata";
   (function(){
    var e=document.createElement('script');
    e.src='https://d3hhytn20582jn.cloudfront.net/iatclickbeacon.js';
    e.async=true;
    document.getElementById('iat-click-js').appendChild(e);
   }());
  </script>
 </body>
</html> 
```

js的内容如下。

```
fortyone=new function(){this.e=(new Date(2005,0,15)).getTimezoneOffset();this.f=(new  Date(2005,6,15)).getTimezoneOffset();this.plugins=[];this.d={Flash:["ShockwaveFlash.ShockwaveFlash",function(b){return b.getVariable("$version")}],Director:["SWCtl.SWCtl",function(b){return b.ShockwaveVersion("")}]};this.r=function(b){var c;try{c=document.getElementById(b)}catch(d){}if(c===null||typeof c==="undefined")try{c=document.getElementsByName(b)[0]}catch(e){}if(c===null||typeof c==="undefined")for(var f=0;f<document.forms.length;f++)for(var g=document.forms[f],h=0;h<g.elements.length;h++){var a=g[h];if(a.name===b||a.id===b)return a}return c};this.b=function(b){var c="";try{if(typeof this.c.getComponentVersion!=="undefined")c=this.c.getComponentVersion(b,"ComponentID")}catch(d){b=d.message.length;b=b>40?40:b;c=escape(d.message.substr(0,b))}return c};this.exec=function(b){for(var c=0;c<b.length;c++)try{var d=eval(b[c]);if(d)return d}catch(e){}return""};this.p=function(b){var c="";try{if(navigator.plugins&&navigator.plugins.length){var d=RegExp(b+".* ([0-9._]+)");for(b=0;b<navigator.plugins.length;b++){var e=d.exec(navigator.plugins[b].name);if(e===null)e=d.exec(navigator.plugins[b].description);if(e)c=e[1]}}else if(window.ActiveXObject&&this.d[b])try{var f=new ActiveXObject(this.d[b][0]);c=this.d[b][1](f)}catch(g){c=""}}catch(h){c=h.message}return c};this.q=function(){for(var b=["Acrobat","Flash","QuickTime","Java Plug-in","Director","Office"],c=0;c<b.length;c++){var d=b[c];this.plugins[d]=this.p(d)}};this.g=function(){return Math.abs(this.e-this.f)};this.h=function(){return this.g()!==0};this.i=function(b){var c=Math.min(this.e,this.f);return this.h()&&b.getTimezoneOffset()===c};this.n=function(b){var c=0;c=0;if(this.i(b))c=this.g();return c=-(b.getTimezoneOffset()+c)/60};this.j=function(b,c,d,e){if(typeof e!=="boolean")e=false;for(var f=true,g;(g=b.indexOf(c))>=0&&(e||f);){b=b.substr(0,g)+d+b.substr(g+c.length);f=false}return b};this.m=function(){return(new Date(2005,5,7,21,33,44,888)).toLocaleString()};this.k=function(b){var c=new Date,d=[function(){return"TF1"},function(){return"015"},function(){return ScriptEngineMajorVersion()},function(){return ScriptEngineMinorVersion()},function(){return ScriptEngineBuildVersion()},function(a){return a.b("{7790769C-0471-11D2-AF11-00C04FA35D02}")},function(a){return a.b("{89820200-ECBD-11CF-8B85-00AA005B4340}")},function(a){return a.b("{283807B5-2C60-11D0-A31D-00AA00B92C03}")},function(a){return a.b("{4F216970-C90C-11D1-B5C7-0000F8051515}")},function(a){return a.b("{44BBA848-CC51-11CF-AAFA-00AA00B6015C}")},function(a){return a.b("{9381D8F2-0288-11D0-9501-00AA00B911A5}")},function(a){return a.b("{4F216970-C90C-11D1-B5C7-0000F8051515}")},function(a){return a.b("{5A8D6EE0-3E18-11D0-821E-444553540000}")},function(a){return a.b("{89820200-ECBD-11CF-8B85-00AA005B4383}")},function(a){return a.b("{08B0E5C0-4FCB-11CF-AAA5-00401C608555}")},function(a){return a.b("{45EA75A0-A269-11D1-B5BF-0000F8051515}")},function(a){return a.b("{DE5AED00-A4BF-11D1-9948-00C04F98BBC9}")},function(a){return a.b("{22D6F312-B0F6-11D0-94AB-0080C74C7E95}")},function(a){return a.b("{44BBA842-CC51-11CF-AAFA-00AA00B6015B}")},function(a){return a.b("{3AF36230-A269-11D1-B5BF-0000F8051515}")},function(a){return a.b("{44BBA840-CC51-11CF-AAFA-00AA00B6015C}")},function(a){return a.b("{CC2A9BA0-3BDD-11D0-821E-444553540000}")},function(a){return a.b("{08B0E5C0-4FCB-11CF-AAA5-00401C608500}")},function(){return eval("navigator.appCodeName")},function(){return eval("navigator.appName")},function(){return eval("navigator.appVersion")},function(a){return a.exec(["navigator.productSub","navigator.appMinorVersion"])},function(){return eval("navigator.browserLanguage")},function(){return eval("navigator.cookieEnabled")},function(a){return a.exec(["navigator.oscpu","navigator.cpuClass"])},function(){return eval("navigator.onLine")},function(){return eval("navigator.platform")},function(){return eval("navigator.systemLanguage")},function(){return eval("navigator.userAgent")},function(a){return a.exec(["navigator.language","navigator.userLanguage"])},function(){return eval("document.defaultCharset")},function(){return eval("document.domain")},function(){return eval("screen.deviceXDPI")},function(){return eval("screen.deviceYDPI")},function(){return eval("screen.fontSmoothingEnabled")},function(){return eval("screen.updateInterval")},function(a){return a.h()},function(a){return a.i(c)},function(){return"@UTC@"},function(a){return a.n(c)},function(a){return a.m()},function(){return eval("screen.width")},function(){return eval("screen.height")},function(a){return a.plugins.Acrobat},function(a){return a.plugins.Flash},function(a){return a.plugins.QuickTime},function(a){return a.plugins["Java Plug-in"]},function(a){return a.plugins.Director},function(a){return a.plugins.Office},function(){return(new Date).getTime()-c.getTime()},function(a){return a.e},function(a){return a.f},function(){return c.toLocaleString()},function(){return eval("screen.colorDepth")},function(){return eval("window.screen.availWidth")},function(){return eval("window.screen.availHeight")},function(){return eval("window.screen.availLeft")},function(){return eval("window.screen.availTop")},function(a){return a.a("Acrobat")},function(a){return a.a("Adobe SVG")},function(a){return a.a("Authorware")},function(a){return a.a("Citrix ICA")},function(a){return a.a("Director")},function(a){return a.a("Flash")},function(a){return a.a("MapGuide")},function(a){return a.a("MetaStream")},function(a){return a.a("PDFViewer")},function(a){return a.a("QuickTime")},function(a){return a.a("RealOne")},function(a){return a.a("RealPlayer Enterprise")},function(a){return a.a("RealPlayer Plugin")},function(a){return a.a("Seagate Software Report")},function(a){return a.a("Silverlight")},function(a){return a.a("Windows Media")},function(a){return a.a("iPIX")},function(a){return a.a("nppdf.so")},function(a){return a.o()}];this.q();for(var e="",f=0;f<d.length;f++){if(b){e+=this.j(d[f].toString(),'"',"'",true);e+="="}var g;try{g=d[f](this)}catch(h){g=""}e+=b?g:escape(g);e+=";";if(b)e+="\\n"}return e=this.j(e,escape("@UTC@"),(new Date).getTime())};this.l=function(b){try{if(!b)return this.k();var c;c=this.r(b);if(c!==null)try{c.value=this.k()}catch(d){c.value=escape(d.message)}}catch(e){}};this.a=function(b){try{if(navigator.plugins&&navigator.plugins.length)for(var c=0;c<navigator.plugins.length;c++){var d=navigator.plugins[c];if(d.name.indexOf(b)>=0)return d.name+(d.description?"|"+d.description:"")}}catch(e){}return""};this.o=function(){var b=document.createElement("span");b.innerHTML="&nbsp;";b.style.position="absolute";b.style.left="-9999px";document.body.appendChild(b);var c=b.offsetHeight;document.body.removeChild(b);return c}};try{fortyone.c=document.createElement("span");typeof fortyone.c.addBehavior!=="undefined"&&fortyone.c.addBehavior("#default#clientCaps")}catch(i){}window.fortyone=fortyone;window.fortyone.collect=fortyone.l;

function sendclickping(){
var req;
if (window.XMLHttpRequest) {
    req=new XMLHttpRequest();
} else {
    req=new ActiveXObject("Microsoft.XMLHTTP");
}
if (req != null) {
    req.open("POST",_clickurl,true);
    req.onreadystatechange= function() {
        if (req.readyState==4 && req.status==200)
        {   
    var _rurl=req.getResponseHeader("location");
    if (_rurl && _rurl.length != 0) {
                window.location.replace(_rurl);
    } else {
        console.log("could not get the redirect url");
    }
        }
    }
    req.setRequestHeader("Content-type","application/x-www-form-urlencoded");
    var _pbody=_fpdatakey+"="+escape(fortyone.collect());
    req.send(_pbody);
} else {
    console.log("AJAX (XMLHTTP) not supported.");
}
}
sendclickping(); 
```

直到今天早上它运行得非常好，甚至没有更改任何一行代码。当我运行 perl 脚本时，我现在收到以下错误。

```
gurudutt@MK-QA-28:~$ ./js1.pl 
ReferenceError: The variable ActiveXObject has not been declared at   https://d3hhytn20582jn.cloudfront.net/iatclickbeacon.js, line 8.</p> 
```

我不知道出了什么问题。

如果您查看 js，它不应该进入 else 条件，在它工作的所有这一切期间，我认为 if 条件已经满足。但由于某种原因，它今天没有进入 if 条件。

```
if (window.XMLHttpRequest) { req=new XMLHttpRequest(); } else { req=new     ActiveXObject("Microsoft.XMLHTTP"); } 
```

在这个脚本中，这部分是关键

```
my $u = new URI 'data:'; $u->media_type('text/html'); $u->data( $h ); $w->get($u); 
```

与 media_style 有什么关系，使用其他东西而不是 text/html？

# xpath - 如何提取嵌套在锚标签中的多个段落标签的内部文本

> ID：11839344
> 
> 赞同：0
> 
> 时间：2012-08-07T04:37:02.127
> 
> 标签：xpath, html-agility-pack

这是代码：

```
<a id='Letter1'>
<p>Dear Sir, </p>
<p>This is with.........</p>
<p>I would be.......</p>
<p>Hoping to hear from you soon</p>
<p>Regards.</p> 
</a> 
```

使用 Xpath，我想将包含在锚标记内的所有段落标记的内部文本提取为单个文本实体。

我想要的最终结果是

```
string letterBody= document.DocumentNode.SelectSingleNode("//XPATH QUERY").innerText; 
```

其中 letterBody="亲爱的先生，这是............问候。"

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:38:14.543

您只需要获取`<a>`元素，您将获得`<a>`作为其内部文本的所有文本节点。所以你的 xpath 将是**`/a[@id='Letter1']`**或只是**`/a`**.

# xcode - 是否可以将 cpp 模型对象转换为 NSData

> ID：11839346
> 
> 赞同：0
> 
> 时间：2012-08-07T04:37:07.390
> 
> 标签：xcode, nsdata, initwithcoder

我正在尝试将模型对象传递给我创建的本地服务器。模型对象是一个 cpp 类。我需要将其转换为数据，以便可以将其写入流中。当我尝试使用 Coder 方法归档类时，给了我一个错误。

有没有更好的方法来做到这一点？对此的任何帮助或见解，我们将不胜感激。

谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T04:49:42.880

你试过了`+dataWithBytes:length:`吗？

# python - Python：“int”对象不可下标

> ID：11839356
> 
> 赞同：1
> 
> 时间：2012-08-07T04:38:30.803
> 
> 标签：python, object, int

我在这里遇到一个错误，我想知道你们中是否有人能看到我哪里出错了。我几乎是 python 的初学者，看不到我哪里出错了。

```
temp = int(temp)^2/key
for i in range(0, len(str(temp))):
    final = final + chr(int(temp[i])) 
```

“temp”由数字组成。“钥匙”也是由数字组成的。这里有什么帮助吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T04:43:28.857

首先，您定义`temp`为一个整数（在 Python 中，`^`也不是“幂”符号。您可能正在寻找`**`）：

```
temp = int(temp)^2/key 
```

但后来你把它当作一个字符串：

```
chr(int(temp[i]))
        ^^^^^^^ 
```

是否有另一个名为 的字符串`temp`？或者您是否希望提取第`i`th 位，可以这样做：

```
str(temp)[i] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T04:41:25.173

```
final = final + chr(int(temp[i])) 
```

在那一行**temp**仍然是一个数字，所以使用`str(temp)[i]`

**编辑**

```
>>> temp = 100  #number
>>> str(temp)[0] #convert temp to string and access i-th element
'1'
>>> int(str(temp)[0]) #convert character to int
1
>>> chr(int(str(temp)[0]))
'\x01'
>>> 
```

# ios - UINavigationBar setHidden 之前的 WebView LoadRequest 为 YES

> ID：11839357
> 
> 赞同：0
> 
> 时间：2012-08-07T04:38:38.310
> 
> 标签：ios, multithreading, uiwebview, uinavigationbar

我需要在视图控制器中隐藏导航栏。我愿意

```
- (void)viewDidLoad
{
     [self.navigationController.navigationBar setHidden:YES];
     [super viewDidLoad];
} 
```

但是当我需要在启动应用程序时启动一个新线程来加载 webview 时，

```
- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
   self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
   if (self)
       [NSThread detachNewThreadSelector: @selector(doStuff) toTarget:self withObject:NULL];
   return self;
}

- (void)doStuff
{
   NSLog(@"Starting a new thread ...");

   url = [NSURL URLWithString:@"http://www.google.com"];
   NSURLRequest *request = [NSURLRequest requestWithURL:url];
   [newsWebView loadRequest:request];
} 
```

导航栏仍然出现。

我只想在应用程序启动时隐藏导航栏并在此视图控制器的单独线程中加载 webview。当我点击 tabBar 时，这个 viewController 将准备好供用户查看。

我可以知道是什么问题吗？还是我做错了？谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T06:54:50.993

当您尝试导航到此视图时，您必须隐藏父视图中的**导航栏或它的前一个视图，问题就这样解决了**

**假设在前一个视图中单击某个按钮时导航此视图**

在按钮的操作方法中，在导航到当前视图之前放置这一行

```
[self.navigationController.navigationBar setHidden:YES]; 
```

快乐编码:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T04:44:13.647

嗨，我认为最好放置这行代码

```
[self.navigationController.navigationBar setHidden:YES]; 
```

在方法中

```
- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil 
```

我希望它能解决。

# r - ggplot2 中汇总统计的图例

> ID：11839360
> 
> 赞同：11
> 
> 时间：2012-08-07T04:39:07.530
> 
> 标签：r, ggplot2

这是情节的代码

```
library(ggplot2)
df <- data.frame(gp = factor(rep(letters[1:3], each = 10)), y = rnorm(30))
library(plyr)
ds <- ddply(df, .(gp), summarise, mean = mean(y), sd = sd(y))
ggplot(df, aes(x = gp, y = y)) +
   geom_point() +
   geom_point(data = ds, aes(y = mean), colour = 'red', size = 3) 
```

![在此处输入图像描述](../Images/30f4fe588f79c8e40adede9980d65c22.png)

我想要这个图的图例，它将识别数据值和平均值，就像这样

```
Black point = Data
Red point   = Mean. 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-08-07T04:53:32.830

使用手动比例，即在您的情况下`scale_colour_manual`。`aes()`然后使用每个 geom的函数将颜色映射到比例中的值：

```
ggplot(df, aes(x = gp, y = y)) +
  geom_point(aes(colour="data")) +
  geom_point(data = ds, aes(y = mean, colour = "mean"), size = 3) +
  scale_colour_manual("Legend", values=c("mean"="red", "data"="black")) 
```

![在此处输入图像描述](../Images/d9065331eb720d1b55cbb22e9dd56035.png)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-07T04:53:20.013

您可以将平均变量和数据组合在同一个 data.frame 和 color /size by column 这是一个因素，`data`或者`mean`

```
library(reshape2)

# in long format
dsl <- melt(ds, value.name = 'y')
# add variable column to df data.frame
df[['variable']] <- 'data'
# combine
all_data <- rbind(df,dsl)

# drop  sd rows

data_w_mean <- subset(all_data,variable != 'sd',drop = T)

# create vectors for use with scale_..._manual
colour_scales <- setNames(c('black','red'),c('data','mean'))
size_scales <- setNames(c(1,3),c('data','mean') )

ggplot(data_w_mean, aes(x = gp, y = y)) +
  geom_point(aes(colour = variable, size = variable)) +
  scale_colour_manual(name = 'Type', values = colour_scales) +
  scale_size_manual(name = 'Type', values = size_scales) 
```

![在此处输入图像描述](../Images/b20e60ed7b91d6c7d53aa313220c2cee.png)

或者您不能合并，但在两个数据集中都包含该列

```
dsl_mean <- subset(dsl,variable != 'sd',drop = T)  
ggplot(df, aes(x = gp, y = y, colour = variable, size = variable)) +
  geom_point() +
  geom_point(data = dsl_mean) +
  scale_colour_manual(name = 'Type', values = colour_scales) +
  scale_size_manual(name = 'Type', values = size_scales) 
```

给出相同的结果

# php - 在 Linux 或其他支持 UTF-8 的驱动程序上安装 SQLSRV 驱动程序？

> ID：11839368
> 
> 赞同：8
> 
> 时间：2012-08-07T04:40:18.647
> 
> 标签：php, sql-server, linux, utf-8, sqlsrv

SQLSRV 是唯一能够将*UTF-8*字符串存储到两字节列（`NVARCHAR`而不是`VARCHAR`）的 PHP 驱动程序，Microsoft 当前为 PHP 5.2.X 和 5.3.X 维护和支持该驱动程序。

而且我还获得了下载这些驱动程序的链接[Linux SQLSRV 驱动程序下载](http://pecl.php.net/package/sqlsrv)linux 但我无法配置。

如果有人知道如何在 linux 上配置**sqlsrv**驱动程序，或者有其他替代方法可以从*SQL* Server 以*UTF-8*格式检索数据，请分享。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-11-01T09:27:58.110

这是来自 Microsoft 社区的 wiki 帖子

[https://github.com/Microsoft/msphpsql/wiki/Install-pdo_sqlsrv-for-PHP-7.0-on-Debian](https://github.com/Microsoft/msphpsql/wiki/Install-pdo_sqlsrv-for-PHP-7.0-on-Debian)

我认为最简单的路线是 php-pear 路线

```
# (1) Install PDO driver from pecl
apt-get install unixodbc-dev php7.0-dev php-pear
pecl install pdo_sqlsrv-4.0.5
echo -e "; priority=20\nextension=pdo_sqlsrv.so" > /etc/php/7.0/mods-available/pdo_sqlsrv.ini
phpenmod -v 7.0 pdo_sqlsrv 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-19T15:11:16.017

其他 UTF-8 兼容的解决方案 dblib：

1.  您安装 freetds 并将 php-mssql 驱动程序与 PDO 一起使用。

2.  更改 /etc/freetds.conf 中的编码

3.  在 /etc/locales.conf 中更改字符集和日期格式

我是在 2010 年做的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-24T18:21:10.510

I Googled a bit more after I read this and I may have found the answer. On Debian:

```
# apt-get install freetds-common freetds-bin unixodbc php5-mssql 
```

That will install everything PHP needs for Free TDS and allows me to connect using the sqlsrv driver.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-08-14T10:20:29.387

请更换：

```
echo -e "; priority=20\nextension=pdo_sqlsrv.so" > /etc/php/7.0/mods-   available/pdo_sqlsrv.ini 
```

至：

```
echo -e "; priority=20\nextension=pdo_sqlsrv.so" > /etc/php/7.0/mods-available/pdo_sqlsrv.ini 
```

# mysql - 如何在 MySql 数据库的多个表中获取日期？

> ID：11839370
> 
> 赞同：1
> 
> 时间：2012-08-07T04:40:32.437
> 
> 标签：mysql

> **可能重复：**
> [如何从多个表中获取详细信息？](https://stackoverflow.com/questions/11829034/how-to-get-details-from-multiple-tables)

在 MySql 数据库中有五个表

```
Course

c_id         name     course_desc
101           java       sometext…..

User

u_id       firstname      Address
201          ram               Hyd

SkillSet

S_id     c_id     u_id    experience    course_content
301      101       201       2                          somtext…

Timetable

T_id      c_id    u_id     date_time            class_duration(H)
401        101      201   2012-08-08              2

Intrest

I_id        t_id      u_id
501         401       201 
```

我的问题是，我正在传递开始日期和结束日期以及名称（课程名称）然后我想获取详细信息，例如

```
Name(courseName),course_desc,firstname

select course.c_id,course.course_desc,user.firstname
    from COURSE course
    inner join SKILLSET skill on skill.course_id=course.c_id
    inner join USER user on user.c_id=skill.u_id
    inner join TIMETABLE tt on skill.c_id=tt.u_id
    where course.name='java'
    and tt.date_time BETWEEN '2012-08-07 00:00:00' AND '2012-08-20 00:00:00' 
```

它显示错误..请帮助我...... ...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T04:43:02.043

我看不到您在`inter`or`skill`表中链接的位置：

```
INNER JOIN Skillset on skill.cid = course.cid
                       ^^^^^
INNER JOIN AM_USER user on user.uid = inter.uid
                                      ^^^^^ 
```

作为一般提示，如果您说您遇到错误，那么实际说出错误是什么会非常有帮助。如果没有错误文本，我们只是在猜测，您不太可能得到有用的答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T04:58:43.887

对于名称，您必须编写这样的查询。

```
select name from Course c,SkillSet s where c.cid= s.cid. 
```

我认为您了解连接如何工作的过程。查找不同表中的公共列（在这种情况下，cid 是公共列）。然后你加入表，你可以根据需要获得一个属性。

# python - 逐列读取文本文件并存储在python中的列表中

> ID：11839373
> 
> 赞同：1
> 
> 时间：2012-08-07T04:41:05.270
> 
> 标签：python, python-2.7

我有以下格式的文本文件：

```
a,b,c,d,
1,1,2,3,
4,5,6,7,
1,2,5,7,
6,9,8,5, 
```

如何有效地将其读入列表以获得以下输出？

```
list=[[1,4,1,6],[1,5,2,9],[2,6,5,8],[3,7,7,5]] 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:19:03.283

假设文件名为`spam.txt`：

```
$ cat spam.txt
a,b,c,d,
1,1,2,3,
4,5,6,7,
1,2,5,7,
6,9,8,5, 
```

使用[列表推导](http://docs.python.org/tutorial/datastructures.html#list-comprehensions)和[zip()](http://docs.python.org/library/functions.html#zip)内置函数，您可以编写如下程序：

```
>>> with open('spam.txt', 'r') as file:
...     file.readline() # skip the first line
...     rows = [[int(x) for x in line.split(',')[:-1]] for line in file]
...     cols = [list(col) for col in zip(*rows)]
... 
'a,b,c,d,\n'
>>> rows
[[1, 1, 2, 3], [4, 5, 6, 7], [1, 2, 5, 7], [6, 9, 8, 5]]
>>> cols
[[1, 4, 1, 6], [1, 5, 2, 9], [2, 6, 5, 8], [3, 7, 7, 5]] 
```

此外，`zip(*rows)`基于[解包参数列表](http://docs.python.org/tutorial/controlflow.html#unpacking-argument-lists)，它解包列表或元组，以便其元素可以作为单独的位置参数传递给函数。换句话说，`zip(*rows)`被简化为`zip([1, 1, 2, 3], [4, 5, 6, 7], [1, 2, 5, 7], [6, 9, 8, 5])`。

编辑：

这是一个基于 NumPy 的版本供参考：

```
>>> import numpy as np
>>> with open('spam.txt', 'r') as file:
...     ncols = len(file.readline().split(',')) - 1
...     data = np.fromiter((int(v) for line in file for v in line.split(',')[:-1]), int, count=-1)
...     cols = data.reshape(data.size / ncols, ncols).transpose()
...
>>> cols
array([[1, 4, 1, 6],
       [1, 5, 2, 9],
       [2, 6, 5, 8],
       [3, 7, 7, 5]]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:16:12.417

您可以尝试以下代码：

```
from numpy import*

x0 = []
for line in file('yourfile.txt'):
    line = line.split()
    x = line[1]
   x0.append(x)

for i in range(len(x0)):
print x0[i] 
```

这里第一列附加到 x0[] 上。您可以以类似的方式附加其他列。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-08-03T14:28:25.583

您可以使用 data_py 包从文件中读取列数据。使用安装此软件包

```
pip install data-py==0.0.1 
```

## 例子

```
from data_py import datafile
df1=datafile("C:/Folder/SubFolder/data-file-name.txt")
df1.separator=","
[Col1,Col2,Col3,Col4,Col5]=["","","","",""]
[Col1,Col2,Col3,Col4,Col5]=df1.read([Col1,Col2,Col3,Col4,Col5],lineNumber)
print(Col1,Col2,Col3,Col4,Col5) 
```

详情请点击链接[https://www.respt.in/p/python-package-datapy.html](https://www.respt.in/p/python-package-datapy.html)

# maven - 在maven中使用SCP复制文件

> ID：11839374
> 
> 赞同：1
> 
> 时间：2012-08-07T04:41:14.090
> 
> 标签：maven, scp

[http://maksim.sorokin.dk/it/2010/08/26/copy-files-with-scp-using-maven/](http://maksim.sorokin.dk/it/2010/08/26/copy-files-with-scp-using-maven/)

按照上面的文章将文件从 Windows 机器复制到 EC2 Windows 2008 机器，它会引发以下异常。

```
[scp] Connecting to ec2-51-12-238-250.compute-1.amazonaws.com:22
[scp] Caught exception: java.net.ConnectException: Connection timed out error 
```

即使机器已启动并正在运行，我也会遇到上述异常，这里可能有什么问题？

# ant - 找不到符号符号：类 ProtocolMessageEnum

> ID：11839381
> 
> 赞同：0
> 
> 时间：2012-08-07T04:41:34.493
> 
> 标签：ant, javac

在编译[五服务器](http://code.google.com/p/five/wiki/AccessingTheSource)的源代码时，我遇到了以下错误

```
vickey@home:~/code/five-server$ ant dist
Buildfile: build.xml

guess-target:

-maybe-dist-win32:

-maybe-dist-macosx:

-maybe-dist-linux:

dist-clean:

init:
    [mkdir] Created dir: /home/vickey/code/five-server/build/classes
    [mkdir] Created dir: /home/vickey/code/five-server/build/test-classes
    [mkdir] Created dir: /home/vickey/code/five-server/gen/src/java
    [mkdir] Created dir: /home/vickey/code/five-server/gen/resources

build-props:
    [mkdir] Created dir: /home/vickey/code/five-server/gen/resources/org/devtcg/five

-checkprotoc:

protoc:
     [echo] Compiling protobufs into Java classes...

compile:
    [javac] Compiling 46 source files to /home/vickey/code/five-server/build/classes
    [javac] /home/vickey/code/five-server/src/main/java/org/devtcg/five/server/HttpServer.java:50: warning: sun.misc.BASE64Decoder is internal proprietary API and may be removed in a future release
    [javac] import sun.misc.BASE64Decoder;
    [javac]                ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2538: cannot find symbol
    [javac] symbol  : class ProtocolMessageEnum
    [javac] location: package com.google.protobuf
    [javac]         implements com.google.protobuf.ProtocolMessageEnum {
    [javac]                                       ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2735: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2746: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2757: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2768: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2780: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2560: package com.google.protobuf.Internal does not exist
    [javac]       public static com.google.protobuf.Internal.EnumLiteMap<Type>
    [javac]                                                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2564: package com.google.protobuf.Internal does not exist
    [javac]       private static com.google.protobuf.Internal.EnumLiteMap<Type>
    [javac]                                                  ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:134: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:145: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:156: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:167: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:179: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:595: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:606: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:617: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:628: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:640: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1163: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1174: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1185: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1196: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1208: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1757: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1768: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1779: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1790: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1802: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2211: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2222: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2233: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2244: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2256: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]         com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                            ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2896: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]           com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                              ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:292: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]           com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                              ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:759: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]           com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                              ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1339: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]           com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                              ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1922: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]           com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                              ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2369: cannot find symbol
    [javac] symbol  : class ExtensionRegistryLite
    [javac] location: package com.google.protobuf
    [javac]           com.google.protobuf.ExtensionRegistryLite extensionRegistry)
    [javac]                              ^
    [javac] /home/vickey/code/five-server/src/main/java/org/devtcg/five/server/HttpServer.java:333: warning: sun.misc.BASE64Decoder is internal proprietary API and may be removed in a future release
    [javac]                 userpassString = new String(new BASE64Decoder()
    [javac]                                                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:163: cannot find symbol
    [javac] symbol  : method mergeDelimitedFrom(java.io.InputStream)
    [javac] location: class org.devtcg.five.meta.data.Protos.Artist.Builder
    [javac]       return newBuilder().mergeDelimitedFrom(input).buildParsed();
    [javac]                          ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:236: cannot find symbol
    [javac] symbol  : method newUninitializedMessageException(org.devtcg.five.meta.data.Protos.Artist)
    [javac] location: class org.devtcg.five.meta.data.Protos.Artist.Builder
    [javac]           throw newUninitializedMessageException(result);
    [javac]                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:244: cannot find symbol
    [javac] symbol  : method newUninitializedMessageException(org.devtcg.five.meta.data.Protos.Artist)
    [javac] location: class org.devtcg.five.meta.data.Protos.Artist.Builder
    [javac]           throw newUninitializedMessageException(
    [javac]                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:624: cannot find symbol
    [javac] symbol  : method mergeDelimitedFrom(java.io.InputStream)
    [javac] location: class org.devtcg.five.meta.data.Protos.Album.Builder
    [javac]       return newBuilder().mergeDelimitedFrom(input).buildParsed();
    [javac]                          ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:697: cannot find symbol
    [javac] symbol  : method newUninitializedMessageException(org.devtcg.five.meta.data.Protos.Album)
    [javac] location: class org.devtcg.five.meta.data.Protos.Album.Builder
    [javac]           throw newUninitializedMessageException(result);
    [javac]                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:705: cannot find symbol
    [javac] symbol  : method newUninitializedMessageException(org.devtcg.five.meta.data.Protos.Album)
    [javac] location: class org.devtcg.five.meta.data.Protos.Album.Builder
    [javac]           throw newUninitializedMessageException(
    [javac]                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1192: cannot find symbol
    [javac] symbol  : method mergeDelimitedFrom(java.io.InputStream)
    [javac] location: class org.devtcg.five.meta.data.Protos.Song.Builder
    [javac]       return newBuilder().mergeDelimitedFrom(input).buildParsed();
    [javac]                          ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1265: cannot find symbol
    [javac] symbol  : method newUninitializedMessageException(org.devtcg.five.meta.data.Protos.Song)
    [javac] location: class org.devtcg.five.meta.data.Protos.Song.Builder
    [javac]           throw newUninitializedMessageException(result);
    [javac]                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1273: cannot find symbol
    [javac] symbol  : method newUninitializedMessageException(org.devtcg.five.meta.data.Protos.Song)
    [javac] location: class org.devtcg.five.meta.data.Protos.Song.Builder
    [javac]           throw newUninitializedMessageException(
    [javac]                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1740: cannot find symbol
    [javac] symbol  : method computeInt64SizeNoTag(long)
    [javac] location: class com.google.protobuf.CodedOutputStream
    [javac]             .computeInt64SizeNoTag(element);
    [javac]             ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1739: operator + cannot be applied to int,com.google.protobuf.CodedOutputStream.computeInt64SizeNoTag
    [javac]           dataSize += com.google.protobuf.CodedOutputStream
    [javac]                    ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1740: inconvertible types
    [javac] found   : <nulltype>
    [javac] required: int
    [javac]             .computeInt64SizeNoTag(element);
    [javac]                                   ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1786: cannot find symbol
    [javac] symbol  : method mergeDelimitedFrom(java.io.InputStream)
    [javac] location: class org.devtcg.five.meta.data.Protos.Playlist.Builder
    [javac]       return newBuilder().mergeDelimitedFrom(input).buildParsed();
    [javac]                          ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1859: cannot find symbol
    [javac] symbol  : method newUninitializedMessageException(org.devtcg.five.meta.data.Protos.Playlist)
    [javac] location: class org.devtcg.five.meta.data.Protos.Playlist.Builder
    [javac]           throw newUninitializedMessageException(result);
    [javac]                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:1867: cannot find symbol
    [javac] symbol  : method newUninitializedMessageException(org.devtcg.five.meta.data.Protos.Playlist)
    [javac] location: class org.devtcg.five.meta.data.Protos.Playlist.Builder
    [javac]           throw newUninitializedMessageException(
    [javac]                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2240: cannot find symbol
    [javac] symbol  : method mergeDelimitedFrom(java.io.InputStream)
    [javac] location: class org.devtcg.five.meta.data.Protos.PlaylistSong.Builder
    [javac]       return newBuilder().mergeDelimitedFrom(input).buildParsed();
    [javac]                          ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2313: cannot find symbol
    [javac] symbol  : method newUninitializedMessageException(org.devtcg.five.meta.data.Protos.PlaylistSong)
    [javac] location: class org.devtcg.five.meta.data.Protos.PlaylistSong.Builder
    [javac]           throw newUninitializedMessageException(result);
    [javac]                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2321: cannot find symbol
    [javac] symbol  : method newUninitializedMessageException(org.devtcg.five.meta.data.Protos.PlaylistSong)
    [javac] location: class org.devtcg.five.meta.data.Protos.PlaylistSong.Builder
    [javac]           throw newUninitializedMessageException(
    [javac]                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2566: package com.google.protobuf.Internal does not exist
    [javac]             new com.google.protobuf.Internal.EnumLiteMap<Type>() {
    [javac]                                             ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2764: cannot find symbol
    [javac] symbol  : method mergeDelimitedFrom(java.io.InputStream)
    [javac] location: class org.devtcg.five.meta.data.Protos.Record.Builder
    [javac]       return newBuilder().mergeDelimitedFrom(input).buildParsed();
    [javac]                          ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2837: cannot find symbol
    [javac] symbol  : method newUninitializedMessageException(org.devtcg.five.meta.data.Protos.Record)
    [javac] location: class org.devtcg.five.meta.data.Protos.Record.Builder
    [javac]           throw newUninitializedMessageException(result);
    [javac]                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:2845: cannot find symbol
    [javac] symbol  : method newUninitializedMessageException(org.devtcg.five.meta.data.Protos.Record)
    [javac] location: class org.devtcg.five.meta.data.Protos.Record.Builder
    [javac]           throw newUninitializedMessageException(
    [javac]                 ^
    [javac] /home/vickey/code/five-server/gen/src/java/org/devtcg/five/meta/data/Protos.java:3312: internalBuildGeneratedFileFrom(java.lang.String,com.google.protobuf.Descriptors.FileDescriptor[],com.google.protobuf.Descriptors.FileDescriptor.InternalDescriptorAssigner) in com.google.protobuf.Descriptors.FileDescriptor cannot be applied to (java.lang.String[],com.google.protobuf.Descriptors.FileDescriptor[],com.google.protobuf.Descriptors.FileDescriptor.InternalDescriptorAssigner)
    [javac]       .internalBuildGeneratedFileFrom(descriptorData,
    [javac]       ^
    [javac] 62 errors
    [javac] 2 warnings

BUILD FAILED
/home/vickey/code/five-server/build.xml:150: The following error occurred while executing this line:
/home/vickey/code/five-server/build.xml:76: Compile failed; see the compiler error output for details.

Total time: 5 seconds 
```

我认为某些类定义没有被导入。我怎样才能摆脱这些错误？

编辑：错误的原因似乎是 build.xml 文件中的这些行

```
 73     <target name="compile" depends="init, build-props, protoc"                         description="compile the source">
 74         <!-- Compile the java code from ${src} into ${build} -->
 75         <javac srcdir="${src}:${gen.src}" destdir="${build.classes}"
 76                 debug="true" debuglevel="lines,vars,source">
 77             <classpath refid="compile.classpath" />
 78         </javac>
 79     </target> 
```

这里 compile.classpath 可能没有那些类定义。

# android - 无法在我的 Android 设备上运行 Hello World

> ID：11839385
> 
> 赞同：2
> 
> 时间：2012-08-07T04:42:14.077
> 
> 标签：android

否决票是怎么回事？我知道这是一个愚蠢的问题，但这不是一个“好”的问题吗？

我从未做过任何 Android 编程，但我认为为我的早晚通勤组合一个玩具应用程序可能会很有趣。

所以我正在阅读[本](http://developer.android.com/training/basics/firstapp/running-app.html)教程。

当我完成“在真实设备上运行”的步骤（通过 USB 连接并启用 USB 调试）然后单击运行时，我得到以下信息：

![目标未知](../Images/33ead6ed9852fa54edcb107305a528a2.png)

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T05:01:21.013

这就是我在我的 Ubuntu 中解决这个问题的方法：

[http://ptspts.blogspot.com/2011/10/how-to-fix-adb-no-permissions-error-on.html](http://ptspts.blogspot.com/2011/10/how-to-fix-adb-no-permissions-error-on.html)

将此文件保存在 /tmp/ 为 android.rules

> ```
> SUBSYSTEM=="usb", ATTRS{idVendor}=="0bb4", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="0e79", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="0502", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="0b05", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="413c", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="0489", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="091e", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="18d1", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="0bb4", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="12d1", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="24e3", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="2116", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="0482", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="17ef", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="1004", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="22b8", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="0409", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="2080", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="0955", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="2257", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="10a9", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="1d4d", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="0471", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="04da", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="05c6", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="1f53", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="04e8", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="04dd", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="0fce", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="0930", MODE="0666"
> SUBSYSTEM=="usb", ATTRS{idVendor}=="19d2", MODE="0666" 
> ```

运行以下命令：

> ```
> $ sudo cp /tmp/android.rules /etc/udev/rules.d/51-android.rules
> $ sudo chmod 644   /etc/udev/rules.d/51-android.rules
> $ sudo chown root. /etc/udev/rules.d/51-android.rules
> $ sudo service udev restart
> $ sudo killall adb 
> ```

断开手机和电脑之间的 USB 数据线。重新连接手机。运行 adb devices 以确认它现在有权访问手机。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T05:03:29.337

将您的应用程序目标设置为`android 2.2.3`然后运行，因为您将应用程序目标设置为 4.1 但您的设备仅与 2.2.3 或更低版本的 android 兼容并重新启动您的设备。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T04:59:28.463

如果您使用的是 linux 机器，则必须重新启动 ADB。

这就是我认为你面临的问题。

要重新启动 ADb，请按照以下步骤操作，

1）以root用户身份登录。

2）转到您拥有 android-sdk 文件夹的目录。

3）然后遍历到 platfrom-tools 目录。

4）然后执行以下命令，

> ./adb kill-server
> 
> ./adb 启动服务器

现在您将能够看到这样的消息，

```
* daemon not running. starting it now on port 5037 *
* daemon started successfully * 
```

如果没有再次重复第四步。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T05:07:10.803

插入 USB 并从命令行运行：

```
$ lsusb 
```

这将为您提供设备（和其他连接的 USB 设备）的 ID。例如，如果您连接了三星 Galaxy S II Skyrocket，您将获得：

```
Bus 001 Device 010: ID 04e8:685e Samsung Electronics Co., Ltd GT-I9100 Phone [Galaxy S II] (USB Debugging mode) 
```

在这种情况下，供应商 ID 为“04e8”，产品 ID 为“685e”。

然后编辑：

```
sudo gedit /etc/udev/rules.d/51-android.rules 
```

将以下行添加到其中并保存：

```
SUBSYSTEMS==”usb”, ATTRS{idVendor}==”04e8″, ATTRS{idProduct}==”685e″, MODE=”0666″ 
```

重启udev：

```
$ sudo restart udev 
```

检查设备是否被识别：

```
$ adb devices 
```

有时我还必须重新启动 adb：

```
$ adb kill-server
$ adb start-server 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-07T05:00:57.963

您需要设置您的设备供应商 ID，如 Android Developers 所述：[这里](http://developer.android.com/tools/device.html)

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-08-07T05:18:06.403

我认为您的 android 设备中未启用 USB 调试。

将其设置在您的设备中

> 设置 -> 应用程序 -> 开发 -> USB 调试
> 
> USB 调试 = 真

# php - HTML 文档中的两个表单

> ID：11839391
> 
> 赞同：0
> 
> 时间：2012-08-07T04:43:07.800
> 
> 标签：php, html, forms, cakephp-2.1

我有一个如下表格。

```
 <div class="container">
    <form method="post" action="index.php">
        <div id="rule">
            <div class="row">
                <div class="span5">
                    <input type="text" class="input-xlarge" value="Rule Name"/>
                </div>
                <div class="span6">
                    <input type="text" class="input-xxlarge" value="Description"/>
                </div>
                <div class="clearfix"> </div>
            </div>
        </div>
        <br />
        <div id="sel" class="select">
            <div class="row">
                <div class="span1 offset2">
                    <p class="btn btn-danger">If</p>
                </div>
                <div class="span2">
                   <select class="span2" name="metrics">
                      <option value="bounce_rate">Bounce Rate</option>
                      <option value="location">Locations</option>
                      <option value="social_media">Social Media</option>
                      <option value="search">Search</option>
                      <option value="visits">Visitors</option>
                    </select>
                </div>
                <div class="span1">
                  <select name="conditions" class="span2">
                       <option value=">">></option>
                       <option value="<"><</option>
                       <option value=">=">>=</option>
                       <option value="<="><=</option>
                        <option value="=">=</option>
                     </select>
                </div>
                <div class="span1 offset1">
                    <input type="text" name="percentage" class="input-small"/>
                </div>
                <div class="clearfix"> </div>
            </div>
            <br />
            <div class="row">
                <div class="span1 offset2">
                    <p class="btn btn-danger">Period</p>
                </div>
                <div class="span3">
                    <div class="input-append date datepicker" data-date="12-02-2012" data-date-format="dd-mm-yyyy">
                      <input class="span2" size="16" type="text" value="12-02-2012" />
                      <span class="add-on"><i class="icon-th"></i></span>
                    </div>
                </div>
                <div class="span3">
                    <div class="input-append date datepicker" data-date="12-02-2012" data-date-format="dd-mm-yyyy">
                      <input class="span2" size="16" type="text" value="12-02-2012" />
                      <span class="add-on"><i class="icon-th"></i></span>
                    </div>
                </div>
                <div class="clearfix"> </div>
            </div>
        </div> 
        <div id="dyna"></div>
        <div id="end">
            <div class="row">
                <div class="span1">
                    <p class="btn btn-danger">THEN</p>
                </div>
                <div class="span3">
                    <input type="text" class="input-xlarge" value="Statement" />
                </div>
                <div class="clearfix"> </div>
            </div>
            <div class="row">
                <div class="span1">
                    <p class="btn btn-danger">ELSE</p>
                </div>
                <div class="span3">
                    <input type="text" class="input-xlarge" value="Statement" />
                </div>
                <div class="clearfix"> </div>
            </div>
            <div class="row">
                <button class="span1 btn btn-success" type="submit" value="submit">Submit</button>
                <div class="span2 offset9">
                    <p class="btn btn-success input-small" id="addRule">Add Rule </p>
                </div>
                <div class="clearfix"> </div>
            </div>
        </div>
    </form>     
</div> 
```

我在上面添加了一个“添加规则”按钮来创建动态元素。所以我使用了一个 javascript 来创建与上面相同的动态元素。javascript如下。

```
<script type="text/javascript">
$('.datepicker').datepicker();
(function(){
    var i = 0;
    $("#addRule").live('click',function(){
        ++i;
        var $ctrl = $('<div id="'+ i +'" class="select"><div class="row"><div class="span1 offset2"><button class="btn btn-danger">If</button></div><div class="span2"><select class="span2" name="metrics"><option value="bounce_rate">Bounce Rate</option><option value="location">Locations</option><option value="social_media">Social Media</option><option value="search">Search</option><option value="visits">Visitors</option></select></div><div class="span1"><select name="conditions" class="span2"><option value=">">></option><option value="<"><</option><option value=">=">>=</option><option value="<="><=</option><option value="=">=</option></select></div><div class="span1 offset1"><input type="text" name="percentage" class="input-small"/></div><div class="span2 offset1"><button class="btn btn-danger remove" id="'+ i +'">Remove</button></div><div class="clearfix"> </div></div><br /><div class="row"><div class="span1 offset2"><p class="btn btn-danger">Period</p></div><div class="span3"><div class="input-append date datepicker" data-date="12-02-2012" data-date-format="dd-mm-yyyy"><input class="span2" size="16" type="text" value="12-02-2012" /><span class="add-on"><i class="icon-th"></i></span></div></div><div class="span3"><div class="input-append date datepicker" data-date="12-02-2012" data-date-format="dd-mm-yyyy"><input class="span2" size="16" type="text" value="12-02-2012" /><span class="add-on"><i class="icon-th"></i></span></div></div><div class="clearfix"> </div></div></div>');
        $("#dyna").append($ctrl);
        $('.datepicker').datepicker();
}); 
}) ();

(function(){
    $(".remove").live('click',function(){
        var remDiv = $(this).attr('id');
        //var questionList = "questionList"+remQ;
        $("#" + remDiv).remove();
});

}) (); 
```

所以我想在单击提交按钮后获取值。我只使用一个表单来获取数据是正确的方式，还是我分别创建两个表单？那么该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:45:59.260

如果您将新元素插入到现有表单中，并且只要它们与您想要接收的任何现有输入具有不同的名称，则不需要创建第二个表单。

如果您想为两个不同的输入数据集合使用不同的提交按钮，您可以创建第二个表单。

# matlab - 与matlab无限集成

> ID：11839394
> 
> 赞同：3
> 
> 时间：2012-08-07T04:43:28.090
> 
> 标签：matlab, math, integral

我想在 Matlab 中计算以下类型的积分。

![\int _{0}^\infty e^{-(u*u)} du](../Images/f324e0579cdaa820567e6c7307bd4735.png)

它是函数 e^-(u)*u 的积分，边界为零和无穷大。这个积分应该返回 1。

我怎样才能在 Matlab 中做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T05:27:17.107

如果您没有符号工具箱，或者想要更快的速度，则`quadgk`支持无限限制：

```
f = @(x) x.*exp(-x);
a = quadgk(f, 0, inf) 

a =
    1.000000000000000e+00 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T04:50:26.720

[符号工具箱。](http://www.mathworks.com/help/toolbox/symbolic/int.html)

```
syms u
int(exp(-u)*u, u, 0, inf) 
```

# c# - 我如何暂停/继续后台工作？

> ID：11839396
> 
> 赞同：1
> 
> 时间：2012-08-07T04:43:38.127
> 
> 标签：c#

我有一个按钮单击事件继续：

```
 private void button3_Click(object sender, EventArgs e)
        {
            if (backgroundWorker1.IsBusy)
            {
                button2.Enabled = true;
                button3.Enabled = false;
            }
            else
            {
                backgroundWorker1.RunWorkerAsync();
                button2.Enabled = true;
                button3.Enabled = false;
            }

        } 
```

还有一个用于暂停的按钮单击事件：

```
private void button2_Click(object sender, EventArgs e)
        {
            if (backgroundWorker1.WorkerSupportsCancellation == true)
            {
                backgroundWorker1.CancelAsync();
                button3.Enabled = true;
                soundPlay = false;
                stop_alarm = true;
            }

        } 
```

问题在于button3单击事件，有时背景很忙，所以我可以启用false/true按钮，但backgroundworker继续工作。我想暂停 DoWork 事件并继续。

这是我的 DoWork 活动：

```
private void backgroundWorker1_DoWork(object sender, DoWorkEventArgs e)
        {
            BackgroundWorker worker = sender as BackgroundWorker;
            while (true)
            {
                if ((worker.CancellationPending == true))
                {
                    e.Cancel = true;
                    break;
                }
                else
                {
                    if (tempCpuValue >= (float?)numericUpDown1.Value || tempGpuValue >= (float?)numericUpDown1.Value)
                    {
                        soundPlay = true;
                        blinking_label();
                    }
                    else
                    {
                        soundPlay = false;
                    }
                    cpuView();
                    gpuView();
                    Thread.Sleep(1000);
                }
            }
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T04:55:10.100

你可以用 a`Thread`而不是a 来做到这一点`BackgroundWorker`？

使用线程，在其工作子例程中，您可以将线程置于可捕获的 try/catch 块内的无限睡眠中`ThreadInterruptedException`。因此，当它遍历它正在处理的任何内容时，您可以查看布尔标志的值以了解是否要休眠，然后调用`Thread.Sleep(Timeout.Infinite)`. 当您捕获时，`ThreadInterruptedException`您将标志设置为 false 并继续执行。

要使线程从您的 UI 恢复，您可以将“暂停”标志设置为 false 并调用`workerThread.Interrupt()`您的线程（假设您将其称为 workerThread）。

想法来源于[这里](http://www.vbforums.com/showthread.php?511402-RESOLVED-2008-Pausing-background-worker-thread)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:25:25.737

您可能需要等到取消完成后再启用/禁用按钮。

```
private AutoResetEvent _resetEvent = new AutoResetEvent(false);

private void button2_Click(object sender, EventArgs e)
        {
            if (backgroundWorker1.WorkerSupportsCancellation == true)
            {
                backgroundWorker1.CancelAsync();
                //Wait statement goes here.
                this.Cursor=Cursors.AppStarting;
                _resetEvent.WaitOne(); // will block until _resetEvent.Set() call made

                button3.Enabled = true;
                soundPlay = false;
                stop_alarm = true;
            }

        } 
```

[请看这个问题：](https://stackoverflow.com/questions/123661/how-to-wait-for-a-backgroundworker-to-cancel)

```
private void backgroundWorker1_DoWork(object sender, DoWorkEventArgs e)
        {
            BackgroundWorker worker = sender as BackgroundWorker;
            while (true)
            {
                if ((worker.CancellationPending == true))
                {
                    e.Cancel = true;

                    break;
                }
                else
                {
                    if (tempCpuValue >= (float?)numericUpDown1.Value || tempGpuValue >= (float?)numericUpDown1.Value)
                    {
                        soundPlay = true;
                        blinking_label();
                    }
                    else
                    {
                        soundPlay = false;
                    }
                    cpuView();
                    gpuView();
                    Thread.Sleep(1000);
                }
            }

              _resetEvent.Set(); // signal that worker is done
        } 
```

# opencv - 将提取的 HoG 特征输入到 CvSVM 的训练函数中

> ID：11839402
> 
> 赞同：1
> 
> 时间：2012-08-07T04:44:36.303
> 
> 标签：opencv, computer-vision, svm

这是一个愚蠢的问题，因为我对 SVM 很陌生，

我已经设法使用 OpenCV 的 HoGDescriptor 提取特征和位置：

```
vector< float > features;
vector< Point > locations;
hog_descriptors.compute( image, features, Size(0, 0), Size(0, 0), locations ); 
```

然后我继续使用 CvSVM 根据我提取的特征来训练 SVM。

```
Mat training_data( features );
CvSVM svm;
svm.train( training_data, labels, Mat(), Mat(), params ); 
```

这给了我一个错误：

```
OpenCV Error: Bad argument (There is only a single class) in cvPreprocessCategoricalResponses, file /opt/local/var/macports/build/ 
```

我的问题是，如何将*向量 < features >*转换为适当的矩阵以输入 CvSVM ？显然我做错了什么，OpenCV 的教程显示包含训练数据的 2D 矩阵被输入 SVM。那么，如何将*向量 < features >*转换为 2D 矩阵，2nd 维中的值是什么？

这些功能究竟是什么？它们是由归一化幅度直方图组成的 9 个 bin 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T10:40:56.697

我发现了这个问题，因为我正在测试将特征向量传递到 SVM 以进行训练是否正确，所以我没有费心准备负样本和正样本。

然而，CvSVM 需要至少 2 个不同的类进行训练，这就是它抛出错误的原因。

无论如何，非常感谢！

# c++ - 从编辑字段中获取值（C++ WINAPI）

> ID：11839412
> 
> 赞同：0
> 
> 时间：2012-08-07T04:46:06.913
> 
> 标签：c++, winapi, variables, scope

我正在用 C++/WINAPI 编写我的第一个简单程序，其中有很多复选框和一些编辑字段，它们将在按下按钮时设置一些计算。我所有的复选框都通过个别案例工作/存储信息，即

```
switch (msg)
{
    ...
    case WM_COMMAND:
    {
        switch (wParam)
        {
            case IDBC_BoxCheck1:
            {...}
            case IDBC_BoxCheck2:
            {...}
            ...
        } ... 
```

...但我认为编辑字段不像按下按钮那样作为 case 语句起作用，因为一旦用户想要多次更改该值，就必须在最后读取该值。我在网上查看并尝试使用 SendMessage(hwnd, ...) 和 GetWindowText(hwnd, ...) 函数将 WM_GETTEXT 命令发送到编辑字段并将其存储到 lpstr 字符串，但我遇到了同样的问题与他们两个 - 编辑字段的 hwnd 未在发送 WM_GETTEXT 命令的范围内声明，我不知道如何到达那里。以下是我的程序中使用的结构的概述，它来自我正在使用的一些教程的混合：

```
LRESULT CALLBACK WndProc(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam)
{
    switch (msg)
    {
        case WM_CREATE:
        {
            return OnCreate(hwnd, reinterpret_cast<CREATESTRUCT*>(lParam));
            // OnCreate is a sub function that handles the creation of all the buttons/controls,
            // since there are so many of them, with the format:
            // HWND editControl1 = CreateControl(...); // CreateControl being another sub fnct
                                                       // that creates edit field ctrls
                                                       // editControl1 is the hwnd I'm trying
                                                       // to read the value from
            // HWND checkControl1 = CreateButton(...); // Creates button ctrls, including ck box
            ...
        }
        ...
        case WM_COMMAND:
        {
            switch (wParam)
            {
                case IDBC_BoxCheck1:    // These control IDs are defined at the top of the file
                {
                   LPSTR Check1;
                   StoreInfo(Check1);   // Just a sub fnct to store info for later calculations
                }
                case IDBC_BoxCheck2:
                {
                    LPSTR Check2;
                    StoreInfo(Check2);
                } // etc... there are 20 or so check boxes/buttons
                case IDBC_Calculate:    
                {
                    LPSTR edit1;
                    GetWindowText(editControl1, edit1, 100); // or SendMessage(editControl1, ...)
                    // This kicks out the error of editControl1 not being declared in this scope
                    StoreInfo(edit1);
                    // Calculation function goes here
                } ...
            } ....
        }
        default: DefWindowProc(hwnd, msg, wParam, lParam);
    }
} 
```

IDBC_Calculate 是计算运行前按下的最后一个按钮。我认为从编辑字段读取和存储值的最佳位置是在按下此按钮之后，就在调用计算函数之前，但与相同的命令相关联。这是 hwnd editControl1 未定义的地方，但我不知道如何将定义发送到此范围，或者我应该在哪里读取和存储编辑字段值。

任何有关从这些编辑字段中获取值到我的其他功能的帮助或指示将不胜感激！我在各种教程/课程中看到了许多不同的方法来检查按钮状态，所以我很想知道是否有更好的方法来做我上面写的一般。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T06:30:27.830

您的编辑字段有 ID 对吗？然后你可以使用GetDlgItem。

```
editControl1 = GetDlgItem(hwnd, CONTROL_ID_1); 
```

`GetDlgItem`名字不好，它不仅在对话框中起作用。它使用子窗口的 ID 从父窗口获取任何子窗口的句柄。

Anders K 说的是正确的。您使用 GetWindowText 的方式会使您的程序崩溃。

# javascript - 使用 jQuery 的 TextArea 字符计数器

> ID：11839413
> 
> 赞同：4
> 
> 时间：2012-08-07T04:46:13.557
> 
> 标签：javascript, jquery, css, jquery-selectors, textarea

我无法弄清楚为什么我的 JavaScript 不能正常工作。它使用 j Query 并且应该选择所有文本区域标签，然后为每个文本区域计算输入的字符数，然后在达到最大长度后不允许用户再输入，还显示字符计数器在每个文本区域框下。它所做的只是显示剩余的字符，但在每次按下按键后不会减少，并且在达到最大长度时也不会停止。它也不会选择所有文本区域，它只选择它找到的第一个。

这是我的 TextAreaCounter.js

```
$(document).ready(function){
var $texts = $('textarea[maxlength]');
$texts.each(function){
  $var $this = $(this),
  max = $(this).attr('maxlength'),
  textId = $(this)attr.('id'),
  $parent = $this.parent(),
  countId = textId+'-count';

$div = $('<div>Characters Remaining: </div>').addClass('count-down').insertAfter($this);
$input = $('<input></input>').attr({
    type:"text",
    readOnly: "readOnly",
    value: max,
    id: countId
    }).css({
      width: "25px"
      marginTop: "5px"
      marginBottom: "10px"
    }).addClass('readOnly').appendTo($div);

$this.on({
  keyup: function(){
    val = $this.val(),
    countVal = $('#'+countId).val(),
    if(val.length > max){ 
      $this.val(val.substr(0,max));
      alert('Max length exceeded: ' +max);
      return false;
    }else{
      $('#'+countId).val(max-val.length);
    }
  },
  blur: function(){
    val=$this.val();
    if(val.length > max){
      $this.val(val.substr(0,max));
      alert('Max length exceeded: ' +max);
      return false;
    }else{
      $('#'+countId).val(max-val.length);
    }
  }
});
});
}); 
```

当我添加一些未在此处的代码中显示的警报时，它表明它没有通过 keyup 事件到达 this.on 部分。我将此外部 js 文件包含到一个 jsp 文件中，该文件是我的页面制作并包含我的文本区域。我还向 textarea 元素添加了一个 id 和 maxlength 属性。任何帮助都会非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T04:49:42.257

哦，伙计 - 如果你能做到这一点，为什么你需要上面的代码：http: [//jsfiddle.net/btyCz/](http://jsfiddle.net/btyCz/)

**有限的演示** [http://jsfiddle.net/jnXEy/](http://jsfiddle.net/jnXEy/)（我已将限制设置为 20）随意玩耍。

请让我知道我是否错过了任何事情，但以下内容应该会有所帮助`:)`

您可以随时检查长度以限制它。

**代码**

```
$('#myInput').keyup(function() {
    $('#charCount').text( this.value.replace(/{.*}/g, '').length );
});​ 
```

**HTML**

```
<textarea id="myInput"></textarea> <br>
Counter: <span id="charCount"></span>​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:09:07.527

你应该通过

[http://www.mediacollege.com/internet/javascript/form/limit-characters.html](http://www.mediacollege.com/internet/javascript/form/limit-characters.html)

限制文本区域中的字符

限制字符数量的简单方法是

```
<textarea maxlength="50">
Enter text here
</textarea> 
```

有关更多数据，请访问

[http://www.w3schools.com/html5/att_textarea_maxlength.asp](http://www.w3schools.com/html5/att_textarea_maxlength.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T05:01:32.860

您的代码有很多语法错误。现在试试这个：

```
$(document).ready(function () { // bracket was missing here...
    var $texts = $('textarea[maxlength]');
    $texts.each(function () { // bracket was missing here...
        var $this = $(this), // incorrect variable declaration here...
        max = $this.attr('maxlength'),
        textId = $this.attr('id'), // incorrect method call here...
        $parent = $this.parent(),
        countId = textId + '-count',

        $div = $('<div>Characters Remaining: </div>').addClass('count-down').insertAfter($this),
        $input = $('<input></input>').attr({
            type: "text",
            readOnly: "readOnly",
            value: max,
            id: countId
        }).css({
            width: "25px", // missing comma here...
            marginTop: "5px", // missing comma here...
            marginBottom: "10px"
        }).addClass('readOnly').appendTo($div);

        $this.on({
            keyup: function () {
                var val = $this.val(),
                countVal = $('#' + countId).val(); // must have semicolon here...
                if (val.length > max) {
                    $this.val(val.substr(0, max));
                    alert('Max length exceeded: ' + max);
                    return false;
                } else {
                    $('#' + countId).val(max - val.length);
                }
            },
            blur: function () {
                var val = $this.val();
                if (val.length > max) {
                    $this.val(val.substr(0, max));
                    alert('Max length exceeded: ' + max);
                    return false;
                } else {
                    $('#' + countId).val(max - val.length);
                }
            }
        });
    });
}); 
```

[http://jsbin.com/uzohuv/3](http://jsbin.com/uzohuv/3)

# php - MySQL 使用 ORDER BY 连接表会产生意想不到的结果

> ID：11839414
> 
> 赞同：0
> 
> 时间：2012-08-07T04:46:16.003
> 
> 标签：php, mysql, aggregate-functions

我有这个数据库设计：

```
**users_tbl**
id
username
name

**posts_tbl**
id
url
users_id *FK REFERENCE to users table*

**posts_contents_tbl**
id
posts_id *FK REFERENCE to posts table
title
description
date
views
click
isDeleted 
```

我正在使用这个查询

```
SELECT a.name,a.username,c.*
FROM users_tbl a
LEFT JOIN posts_tbl b ON a.id = b.users_id
LEFT JOIN posts_contents_tbl c ON b.id = c.posts_id
ORDER BY c.id ASC 
```

为什么我尝试运行这个查询它给了我 NULL 结果，示例输出是这样的 ![在此处输入图像描述](../Images/c9db4a83c2baf613b32af9f6714b6fae.png)

但是当我尝试删除它时，`ORDER BY c.id ASC`它会给我这个输出： ![在此处输入图像描述](../Images/05b3ff2e472c64e678eace959a3077e3.png)

这不是我的预期结果。

我的预期结果是它将以升序显示posts_contents_tbl，同时它不会显示一些空值。我的数据库中的某些用户在 posts_tbl 中没有帖子数据，因此它们也不应该显示。

我该怎么做呢？您的帮助将不胜感激和奖励！

谢谢！

PS：我的数据库中已经有数千条记录。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T04:51:55.317

在这种情况下，您必须使用`INNER JOIN`而不是`LEFT JOIN`因为您只希望显示*有帖子*的用户。之所以有`Null`值是因为记录是基于 table 的`users_tbl`，而您提到其中一些*没有 post*。对？

试试这个：

```
SELECT  a.name, 
        a.username,
        c.*
FROM    users_tbl a 
            INNER JOIN posts_tbl b
                ON a.id = b.users_id
            INNER JOIN  posts_contents_tbl c
                ON b.id = c.posts_id
ORDER BY    c.`date` DESC 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T04:50:29.203

我认为这就是你要找的：

```
SELECT a.name,a.username,c.* 
FROM users_tbl a 
     INNER JOIN posts_tbl b 
         ON a.id = b.users_id
     LEFT JOIN posts_contents_tbl c 
        ON b.id = c.posts_id 
ORDER BY IFNULL(c.id, 0) ASC; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T05:13:14.747

如果您确实需要该`posts_tbl`数据（如果不可用，则不应显示该数据）。`posts_contents_tbl`然后所有数据都需要一个`RIGHT JOIN`and `INNER JOIN`。

像这样的查询：-

```
SELECT a.name,a.username,c.*
FROM users_tbl a
INNER JOIN posts_tbl b ON a.id = b.users_id
RIGHT JOIN posts_contents_tbl c ON b.id = c.posts_id
ORDER BY c.id ASC; 
```

# c++ - c++ boost thread glibc检测到无效指针

> ID：11839417
> 
> 赞同：1
> 
> 时间：2012-08-07T04:46:48.687
> 
> 标签：c++, multithreading, boost, glibc

我正在使用以下代码尝试 boost 线程库。

```
#include<iostream>
#include<boost/thread.hpp>

class TestSource{

private:

void workerFunc(int x){
    int p = 0;
    for (int i = 0; i < 100000; ++i){
        p += 1;
    }
    std::cout<<"thread worker #"<<x<<std::endl;
}

public:

TestSource(){}

~TestSource(){}

void testFunc(){
    boost::thread_group tg;

    boost::thread t1(&TestSource::workerFunc,this,1);
    boost::thread t2(&TestSource::workerFunc,this,2);
    boost::thread t3(&TestSource::workerFunc,this,3);
    boost::thread t4(&TestSource::workerFunc,this,4);
    boost::thread t5(&TestSource::workerFunc,this,5);
    boost::thread t6(&TestSource::workerFunc,this,6);
    boost::thread t7(&TestSource::workerFunc,this,7);
    boost::thread t8(&TestSource::workerFunc,this,8);
    boost::thread t9(&TestSource::workerFunc,this,9);
    boost::thread t10(&TestSource::workerFunc,this,10);

    tg.add_thread(&t1);
    tg.add_thread(&t2);
    tg.add_thread(&t3);
    tg.add_thread(&t4);
    tg.add_thread(&t5);
    tg.add_thread(&t6);
    tg.add_thread(&t7);
    tg.add_thread(&t8);
    tg.add_thread(&t9);
    tg.add_thread(&t10);

    tg.join_all();
}

};

int main(){
TestSource ts;
ts.testFunc();
return 0;
} 
```

当我运行这个程序时，我**“通常”**得到表单的输出

```
thread worker #10
thread worker #7
thread worker #8
thread worker #6
thread worker #4
thread worker #3
thread worker #1
thread worker #9
thread worker #5
thread worker #2 
```

**但是，“偶尔”**我得到表格的输出，

```
thread worker #7
thread worker #8
thread worker #4
thread worker #2
thread worker #thread worker #5
thread worker #10
1
thread worker #6
thread worker #3
thread worker #9
*** glibc detected *** /home/aditya/workspace/testProj/all: free(): invalid pointer:   0xbff0616c ***
======= Backtrace: =========
[0x80cdd8f]
[0x80a260f]
[0x804c466]
[0x804cc8b]
[0x804a1c3]
[0x80b6266]
[0x804a089]
======= Memory map: ========
08048000-0818c000 r-xp 00000000 08:04 14812395   /home/aditya/workspace/testProj/all
0818c000-0818e000 rw-p 00143000 08:04 14812395   /home/aditya/workspace/testProj/all
0818e000-08198000 rw-p 00000000 00:00 0 
0a08d000-0a0af000 rw-p 00000000 00:00 0          [heap]
b2200000-b2221000 rw-p 00000000 00:00 0 
b2221000-b2300000 ---p 00000000 00:00 0 
b2400000-b2421000 rw-p 00000000 00:00 0 
b2421000-b2500000 ---p 00000000 00:00 0 
b2600000-b2621000 rw-p 00000000 00:00 0 
b2621000-b2700000 ---p 00000000 00:00 0 
b2738000-b2739000 rw-p 00000000 00:00 0 
b2739000-b273a000 ---p 00000000 00:00 0 
b273a000-b2f3a000 rw-p 00000000 00:00 0 
b2f3a000-b2f3b000 ---p 00000000 00:00 0  
b2f3b000-b373b000 rw-p 00000000 00:00 0 
b373b000-b373c000 ---p 00000000 00:00 0 
b373c000-b3f3c000 rw-p 00000000 00:00 0 
b3f3c000-b3f3d000 ---p 00000000 00:00 0 
b3f3d000-b473d000 rw-p 00000000 00:00 0 
b7742000-b7743000 rw-p 00000000 00:00 0 
b7743000-b7744000 r-xp 00000000 00:00 0          [vdso]
bfee6000-bff07000 rw-p 00000000 00:00 0          [stack] 
```

我不确定为什么会出现这种偶尔的行为。感谢任何帮助以了解究竟发生了什么。

感谢您的回复，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:36:14.950

查看 thread_group 标头告诉我以下内容。boost::thread_group 期望您将指针传递给 add_thread 函数，因为它将尝试在析构函数中删除它们。

boost 文档列出了[add_thread](http://www.boost.org/doc/libs/1_50_0/doc/html/thread/thread_management.html#thread.thread_management.threadgroup.add_thread)方法的以下预编码：

> 表达式 delete thrd 格式正确，不会导致未定义的行为。

其中 thrd 是 add_thread 方法的参数。

# objective-c - 在objective-c中以角度在圆心画线

> ID：11839420
> 
> 赞同：0
> 
> 时间：2012-08-07T04:47:16.413
> 
> 标签：objective-c, geometry, core-graphics

我想在固定大小的圆心画线。请检查图像，它将解释一切。我有 P1 圆心和 P2 在圆的边界某处。P1 将始终保持固定，P2 将随着鼠标移动而不断变化，它将是圆边界上的任何点。现在，我想绘制以绿色显示的固定长度的线。我想找到具有固定距离的 (x1,y1) 和 (x2,y2)，每次 P2 改变时，我都想画一条朝向 P2 的绿线。

![在此处输入图像描述](../Images/6e1eaa7cbd0005d7dc0c447c1fcdc7a5.png)

希望，图像解释了一切，简而言之，我需要关注。

1.  P1 和 P2 之间的角度。
2.  在圆心处以一定的角度绘制具有固定距离的绿线。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:05:36.783

由于您（显然）希望绿线垂直于红线，因此您不需要计算 p1 和 p2 之间的角度。将向量旋转 90˚ 非常简单。

我假设您将 p1 和 p2 作为`CGPoint`（或`NSPoint`）变量。

首先让我们计算从 p1 到 p2 的向量：

```
CGPoint p1p2 = CGPointMake(p2.x - p1.x, p2.y - p1.y); 
```

接下来我们将计算一个垂直于 p1->p2 向量的向量：

```
CGPoint p1p2Perp = CGPointMake(p1p2.y, -p1p2.x); 
```

现在让我们找到垂直向量的长度：

```
CGFloat radius = hypot(p1p2Perp.x, p1p2Perp.y); 
```

请注意，如果圆的半径是恒定的，您可以只使用它而不是计算它。如果您使用的是 iOS，请`hypotf`使用`hypot`.

因此，现在我们可以通过将其坐标除以其长度来“标准化”垂直向量，使其长度为 1：

```
p1p2Perp.x /= radius;
p1p2Perp.y /= radius; 
```

接下来，我们可以将它乘以绿线所需长度的*一半*。我假设您在名为 的常量或变量中具有所需的绿线长度`greenLineLength`。

```
p1p2Perp.x *= greenLineLength / 2;
p1p2Perp.y *= greenLineLength / 2; 
```

现在我们可以为绿线创建一条路径。我假设你`CGContextRef`在一个名为的变量中`gc`：

```
CGContextBeginPath(gc);
CGContextMoveToPoint(gc, p1.x - p1p2Perp.x, p1.y - p1p2Perp.y);
CGContextAddLineToPoint(gc, p1.x + p1p2Perp.x, p1.y + p1p2Perp.y); 
```

您可以随心所欲地抚摸路径。例如：

```
CGContextSetRGBStrokeColor(gc, 0, 1, 0, 1);
CGContextSetLineWidth(gc, 2);
CGContextSetLineCap(gc, kCGLineCapRound);
CGContextStrokePath(gc); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:09:53.143

根据您的问题，两者之间的角度始终是垂直的——90˚ 或 π/2 弧度。[`atan2()`](http://developer.apple.com/library/ios/#documentation/System/Conceptual/ManPages_iPhoneOS/man3/atan2.3.html)您可以使用;获得红色段的角度 然后减去`M_PI_2`绿色的角度。

从那里，您试图在圆的圆周上找到两个点，其直径是线段的长度。您可以在极坐标（r，theta）中考虑这个并转换为笛卡尔（x，y）：

```
x = (segment_length / 2) * cos(theta)
y = (segment_length / 2) * sin(theta) 
```

添加`M_PI`以`theta`获取另一个端点。

# c# - GridView：隐藏标题上的排序箭头

> ID：11839422
> 
> 赞同：3
> 
> 时间：2012-08-07T04:47:56.067
> 
> 标签：c#, asp.net, gridview

我很难将排序箭头隐藏在不可排序的列标题上。我在 HeaderTemplate 部分中明确定义了可排序的列，在 ItemTemplate 中定义了不可排序的列，但对于下面定义的第二个 TemplateField，排序箭头仍然出现。我错过了什么？

```
 <asp:GridView ID="gvBeneficiary" runat="server" Width="100%" AllowPaging="True" CssClass="gridheader"
            EmptyDataText=""
            AutoGenerateColumns="False" PageSize="10"
            OnPageIndexChanging="gvBeneficiary_PageIndexChanging" OnRowCommand="gvBeneficiary_RowCommand"
            OnRowDataBound="gvBeneficiary_RowDataBound" HeaderStyle-CssClass="lhs">
            <Columns>
                <asp:TemplateField HeaderStyle-CssClass="lhs">
                    <HeaderTemplate>
                        <asp:LinkButton ID="lnkFullName" Text="Full Name"
                            CommandName="Sort" CommandArgument="FullName" runat="server"></asp:LinkButton>
                    </HeaderTemplate>
                    <ItemTemplate>
                        <%#Eval("FullName") %>
                    </ItemTemplate>
                </asp:TemplateField>

               <asp:TemplateField>
                    <ItemTemplate>
                        <asp:LinkButton ID="lnkEdit" runat="server" CommandName="EditClick" CommandArgument='<%#Eval("RecipientID") %>'
                            Text="Edit">
                        </asp:LinkButton>
                        <asp:LinkButton ID="lnkDelete" runat="server" CommandName="DeleteClick" CommandArgument='<%#Eval("RecipientID") %>'
                            Text="Delete"></asp:LinkButton>
                    </ItemTemplate>
                </asp:TemplateField>
            </Columns> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-17T06:40:54.973

在 ItemTemplate 中定义不可排序的列是什么意思？为您希望启用排序的各个列的网格 asd 排序表达式指定 Allowsorting =true。

```
<asp:GridView AllowSorting="true"......../> and 
  <asp:TemplateField..............  SortExpression ="Full Name"> 
```

并且不要为不需要排序的列指定排序表达式。

我认为这足以对指定的列进行排序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T13:49:20.560

我已使用 listview 完成此操作。请尝试使用 Gridview

我的html代码是

```
<asp:ListView ID="lst_Area" runat="server" ItemPlaceholderID="tr" OnItemDataBound="lst_Area_ItemDataBound">
                            <LayoutTemplate>
                                <table cellspacing="0">
                                    <tr class="hdrRowColor1">
                                        <td width="35px" align="left">
                                            &nbsp;S.No
                                        </td>
                                        <td align="left" width="400px">
                                            <asp:LinkButton ID="lnk_Name" runat="server" CommandArgument="tblAreaNew.AreaName"
                                                ValidationGroup="vgSearch" OnClick="lnk_Sort">Name</asp:LinkButton>
                                            <asp:Image ID="img_lnk_Name" Visible="false" runat="server" />
                                        </td>
                                        <td align="left" width="250px">
                                            <asp:LinkButton ID="lnk_Location" runat="server" CommandArgument="tblAreaNew.Locationid"
                                                ValidationGroup="vgSearch" OnClick="lnk_Sort">Location</asp:LinkButton>
                                            <asp:Image ID="img_lnk_Location" Visible="false" runat="server" />
                                        </td>
                                        <td align="left" width="175px">
                                            <asp:LinkButton ID="lnk_CreatedBy" runat="server" CommandArgument="v.FirstName" ValidationGroup="vgSearch"
                                                OnClick="lnk_Sort">Created By</asp:LinkButton>
                                            <asp:Image ID="img_lnk_CreatedBy" Visible="false" runat="server" />
                                        </td>
                                        <td align="left" width="120px">
                                            <asp:LinkButton ID="lnk_CreatedOn" runat="server" CommandArgument="tblAreaNew.createddate"
                                                ValidationGroup="vgSearch" OnClick="lnk_Sort">Created On</asp:LinkButton>
                                            <asp:Image ID="img_lnk_CreatedOn" Visible="false" runat="server" />
                                        </td>
                                        <td align="left" width="175px">
                                            <%--<asp:LinkButton ID="lnkCreatedDate" runat="server" CommandArgument="tblUserActivities.CreatedDate"
                                        OnClick="lnk_Sort">Created Date</asp:LinkButton>--%>
                                            <asp:LinkButton ID="lnk_LastModfiedBy" runat="server" CommandArgument="v.FirstName"
                                                ValidationGroup="vgSearch" OnClick="lnk_Sort">Last Modified By</asp:LinkButton>
                                            <asp:Image ID="img_lnk_LastModfiedBy" Visible="false" runat="server" />
                                        </td>
                                        <td align="left" width="120px">
                                            <asp:LinkButton ID="lnk_LastModfiedOn" runat="server" CommandArgument="tblAreaNew.ModifiedDate"
                                                ValidationGroup="vgSearch" OnClick="lnk_Sort">Last Modified On</asp:LinkButton>
                                            <asp:Image ID="img_lnk_LastModfiedOn" Visible="false" runat="server" />
                                        </td>
                                        <td align="center" width="50px">
                                            <asp:LinkButton ID="lnk_Status" runat="server" CommandArgument="tblAreaNew.isactive"
                                                ValidationGroup="vgSearch" OnClick="lnk_Sort">Status</asp:LinkButton>
                                            <asp:Image ID="img_lnk_Status" Visible="false" runat="server" />
                                        </td>
                                        <td align="center" width="50px" style="border-right: 1px solid #6398cc;">
                                            Activity
                                            <%-- <div style="width: 50px; float: right;">
                                            </div>--%>
                                        </td>
                                    </tr>
                                    <tr id="tr" runat="server">
                                    </tr>
                                </table>
                            </LayoutTemplate>
                            <ItemTemplate>
                                <tr>
                                    <td align="left" valign="middle">
                                        &nbsp;<%# Container.DataItemIndex+1 %>.
                                    </td>
                                    <td align="left">
                                        <asp:Label ID="lblAreaID" runat="server" Text='<%# Eval("Areaid")%>' Visible="false"></asp:Label>
                                        <%# Eval("AreaName")%>
                                    </td>
                                    <td align="left">
                                        <%# Eval("Location")%>
                                    </td>
                                    <td align="left">
                                        <%# Eval("CreatedBy")%>
                                    </td>
                                    <td align="left">
                                        <%# Convert.ToDateTime(Eval("CreatedDate")).ToString("MMM, dd yyyy")%>
                                    </td>
                                    <td align="left">
                                        <%# Eval("ModifiedBy")%>
                                    </td>
                                    <td align="left">
                                        <%# Convert.ToDateTime(Eval("ModifiedDate")).ToString("MMM, dd yyyy")%>
                                    </td>
                                    <td align="center">
                                        <asp:Label ID="lblLocationIsActive" runat="server" Style="display: none;" Text='<%# Eval("LocationIsActive")%>'></asp:Label>
                                        <asp:Label ID="lbl_Status" runat="server" Style="display: none;" Text='<%# Eval("IsActive")%>'></asp:Label>
                                        <asp:ImageButton ID="imgbtnStatus" runat="server" CommandArgument='<%# Eval("Areaid") %>'
                                            OnClick="imgbtnStatus_Onclick" />
                                    </td>
                                    <td class="last" align="center">
                                        <asp:Label ID="lblAreaName" runat="server" Style="display: none;" Text='<%# Eval("AreaName")%>'></asp:Label>
                                        <asp:ImageButton ID="imgbtnEdit" runat="server" ImageUrl="~/App_Themes/ThemeNew/Images/edit.png"
                                            ToolTip="Edit Details" CommandArgument='<%# Eval("AreaId") %>' OnClick="imgbtnEdit_OnClick" />
                                        <asp:ImageButton ID="imgbtnDelete" runat="server" ImageUrl="~/App_Themes/ThemeNew/Images/delete.png"
                                            ToolTip="Delete" CommandArgument='<%# Eval("AreaId") %>' Visible="false" OnClientClick="return confirm('Are you sure you want to delete the location?');"
                                            OnClick="imgbtnDelete_OnClick" />
                                    </td>
                                </tr>
                            </ItemTemplate>
                        </asp:ListView> 
```

我的代码背后的代码是

```
 protected void lnk_Sort(object sender, EventArgs e)
{
    LinkButton lnk = (LinkButton)sender;
    string arg = lnk.CommandArgument.ToString();
    ViewState["sortCol"] = arg;
    GetSortDirection();
    BindData(ViewState["sortCol"].ToString(), ViewState["sortDir"].ToString(), Convert.ToInt32(ViewState["nmbr"]), Pager.PageSize);
    string name = lnk.ID;
    Image img = (Image)(lst_Area.FindControl("img_" + name));
    if (img != null)
    {
        SetSortOrderImage(img, ViewState["sortDir"].ToString());
    }
}

private void SetSortOrderImage(Image image, String sortorder)
{
    if (sortorder == "asc")
    {
        image.Visible = true;
        image.ImageUrl = "../App_Themes/ThemeNew2/images/up.png";
    }
    else if (sortorder == "Desc")
    {
        image.Visible = true;
        image.ImageUrl = "../App_Themes/ThemeNew2/images/down.png";

    }
}

/// <summary>
/// this method get the sort direction
/// </summary>
private void GetSortDirection()
{
    if (Convert.ToString(ViewState["sortDir"]) == "Desc")
    {
        ViewState["sortDir"] = "asc";
    }
    else
    {
        ViewState["sortDir"] = "Desc";
    }
} 
```

希望这对你有用。我想让你知道，与自定义分页和排序相比，gridview 的内置排序和分页速度较慢。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-16T06:28:51.020

您是否有理由不能在 gridview 中使用默认排序功能？如果可以，将“箭头”CSS 应用于表格标题单元格中的所有超链接

```
.gvclass th a {background-image...} 
```

这样，所有带有 SortExpression 的标头都将具有这些 CSS 属性，而所有不可排序的标头都将没有（因为在这些单元格中不会生成超链接）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-21T06:12:34.270

如果您只想禁用事件中特定列的排序，通常应该将`GridViewColumn`'s设置`SortExpression`为`null`：

```
gvBeneficiary.Columns[0].SortExpression = null; 
```

# menu - cocos2d(x)，在下一帧执行什么？

> ID：11839430
> 
> 赞同：0
> 
> 时间：2012-08-07T04:48:45.503
> 
> 标签：menu, cocos2d-iphone, cocos2d-x

例如，我正在添加一个菜单并想设置它的优先级。

setHandlerPriority 检查菜单是否与触摸处理程序关联并且它失败，因为添加被安排在下一个循环（推送到队列中）。

如何添加菜单（作为孩子）并同时设置其优先级？
或者我如何在下一个循环中调用“setHandlerPriority”？

带有“CCCallFunc”的“runAction”是否在下一帧执行该函数？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T23:05:55.120

您可以创建一系列操作。

这些动作可以是 CCDelayTime 或 CCCallFunc，然后可以按照您想要的顺序调用它们。只需使用任何 CCNode 来运行该操作。

# android-ndk - 本机 Android 应用程序在启动时崩溃并显示“无法加载库：reloc_library [1315] ...”

> ID：11839434
> 
> 赞同：0
> 
> 时间：2012-08-07T04:49:23.130
> 
> 标签：android-ndk

我有几个静态库，它们在主 Android.mk 文件中聚合到一个动态库（.so）中......所以，一切都在没有警告的情况下编译，但是当我尝试启动我的应用程序时，我收到了这个错误：

```
Cannot load library: reloc_library[1315]:   226 cannot locate '_ZNSt12__node_alloc13_M_deallocateEPvj'...\n 
```

看起来该功能来自stl，但我的application.mk包括

```
APP_STL := stlport_static 
```

任何想法？

# html - 在 CSS 中重复样式的目的是什么？

> ID：11839441
> 
> 赞同：4
> 
> 时间：2012-08-07T04:49:58.950
> 
> 标签：html, css, web

我看到有些人在 css 中写了类似的东西

```
.together
 {
display:inline;
display:inline-block;
 } 
```

不仅限于显示样式，还以背景大小或背景图像为例

这样做的目的是什么？我的意思是第二个将覆盖第一个，那何必呢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-07T04:54:40.677

通常这种类型的行为表明浏览器为了兼容性而被黑客入侵。当浏览器检测到他们不知道的属性或值时，他们会忽略它。因此，如果您首先放置最广泛接受的属性，如果后面的属性都不兼容，浏览器将“回退”到该行为。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-07T04:56:17.587

有可能它是为了浏览器兼容性而编写的。他们可能希望元素的`display`值为`inline-block`，但并非所有浏览器都支持所有元素。[Sitepoint 对display 属性](http://reference.sitepoint.com/css/display)的兼容性有很好的参考。

该[`background`](http://reference.sitepoint.com/css/background)属性是所有与背景相关的属性的简写，因此通常`background`在一个选择器上设置，然后仅在其他选择器上覆盖特定的背景属性。同样，您可能有多个背景声明以实现浏览器兼容性。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-08-07T05:01:38.473

让我们看下面的例子。

```
<html> 
<head>      
<style>
.carlist
{
    background-color: red;
    height: 30px;
    margin: 10px;
    margin: 20px;
}
</style>
</head>

<body  onload="loadCars()">

Check div style.
<div  id="mydiv" class="carlist"></div>

</body>
</html> 
```

在上面的示例中，我们声明了 2 个边距。我检查并发现浏览器（FF，IE，Chrome）接受了**第二个声明。**所以**我认为如果我们将其用于浏览器兼容性，那么最终应该声明最特定于浏览器的样式。**但是还有其他方法可以定义浏览器特定的样式。所以最好定义单个属性。

# ios - iPhone：在导航栏下隐藏自定义视图

> ID：11839446
> 
> 赞同：0
> 
> 时间：2012-08-07T04:50:49.620
> 
> 标签：ios, uiview, uiviewcontroller, uinavigationbar, calayer

对于我正在开发的应用程序，我正在实现一个类似于 iOS 上的通知视图的控件。所以，我正在努力从 UIViewController 的导航栏下向下拖动一个视图。

我的问题是是否有办法定位一个大部分隐藏在导航栏下的视图？目标是只有几个像素可见，以便有一种方法可以抓住它并向下拖动。

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T03:39:26.267

好的，我自己解决了这个问题。原来对我有用的是拥有一个自定义视图，然后按照导航栏出现在该自定义视图之后的顺序在 IB 中添加该视图。

另一个技巧是弄清楚如何初始化/嵌入该自定义视图，为此我在这里找到了帮助：[UIView subclass with its own XIB](https://stackoverflow.com/questions/5246074/uiview-subclass-with-its-own-xib)

# android - 我应该如何将 tabHost 嵌入到我的应用程序中的每个活动中

> ID：11839450
> 
> 赞同：0
> 
> 时间：2012-08-07T04:51:28.043
> 
> 标签：android, android-tabhost

我在下面写了一个 Tabhost：

```
public class AppTabhost extends TabActivity {
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        /**find tab host**/
        TabHost tabHost = getTabHost();

    /**add tabs**/
    //tab 1
    tabHost.addTab(tabHost
            .newTabSpec("tab1")
            .setIndicator("tab1")
            .setContent(new Intent(AppTabhost.this, anotherActivity.class)));

    //tab 2
    tabHost.addTab(tabHost
            .newTabSpec("tab2")
            .setIndicator("tab2")
            .setContent(new Intent(AppTabhost.this, theotherActivity.class)));
} 
```

我想把它放在我的应用程序中每个活动的底部

我能怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T20:00:30.440

你可以在里面打一个 Intent 就像

```
Intent I= new Intent(this, Apptabhost.class);
startIntent(I); 
```

但是，如果您希望 tabhost 物理位于屏幕底部，我建议您定义一个扩展 tabhost 而不是 tabhost 活动的类。由于视图层次结构包含视图而不是活动。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:21:52.487

如果你想把它放在底部，你可以写这个代码

```
android:layout_alignParentBottom="true" 
```

在您的 tabHost 活动 xml 文件中

# c# - 检查对象列表是否包含属性

> ID：11839453
> 
> 赞同：1
> 
> 时间：2012-08-07T04:51:39.993
> 
> 标签：c#, visual-studio-2010, visual-studio, c#-4.0, c#-3.0

嗨，我有一个对象列表，我需要找出我拥有的 id 是否已经在列表中。在对象类中，我设置了 id，我只想找出在 Ui 中输入的那个是否已经在使用中。

班上

```
class Product
{

    private string name = "";
    private int id = 0;
    private decimal Pvalue = 0.00m;
    private static int lastId = 1;

    public Product(string namep, decimal valuep)
    {
        this.name = namep;
        this.id = lastId++;
        this.Pvalue = valuep;
    }

    public override string ToString()
    {
        return name + "     " + id + "    "+ Pvalue;
    }

    public bool Equals(Product p)
    {

        return (p.id == this.id);
    }
} 
```

我试图解决它：

```
 int id;

        bool test = int.TryParse(textBoxId.Text, out id);

            if(test)
            {

                if(Inv.Contains(id))
                {

                label2.Text = "you already have this id";

                }else
                {
                    label2.Text = "you can use this id";            
                }

            } 
```

如果有人知道为什么这不起作用或有更好的方法可以挽救我的背部，谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T04:57:21.663

更改`private int id = 0;`为`public int Id { get; set; }`。此外，将所有引用从 更改`id`为`Id`。

添加`using System.Linq`到您的业务逻辑文件。

更改`if (Inv.Contains(id))`为`if (Inv.Any(x => x.Id == id))`

# java - 创建一个对象堆栈类 - 我哪里出错了？

> ID：11839454
> 
> 赞同：0
> 
> 时间：2012-08-07T04:51:40.140
> 
> 标签：java, arrays, object

我还是 Java 新手，我正在尝试创建一个使用对象数组的通用堆栈队列。我知道我做错了，即声明数组并分配数组长度。

有人可以看看并给我一些反馈吗？

```
public class GeneralStack
{
    GeneralStack [] stack;  //not sure how to declare this
    private int count;
    private static final int DEFAULT_CAPACITY = 100;

//default constructor
public GeneralStack()
    {
        stack = new int[DEFAULT_CAPACITY];
        count = 0;
    }

//alternate constructor
public GeneralStack (int maxCapacity)
    {
        stack = new int[maxCapacity];
        count = setCount;
    }

//accessor getCount
public int getCount ()
    {
    return count;
    }

//accessor isEmpty
public boolean isEmpty ()
    {
    boolean isEmpty=false;
    if (count == 0);
        {
            isEmpty=true;
        }
    return isEmpty;
    }

//accessor isFull
public boolean isFull ()
    {
    boolean isFull=false;
    if (count == maxCapacity);
        {
        isFull=true;
        }
    return isFull;
    }

//mutator push
public void push (int value)
    {
    if (isFull ())
        {
        throw new IllegalArgumentException("Stack is full");
        }
    else
        {
        stack[value]; //not sure how to assign value to the stack
        count++;
        }
    }

//mutator pop
public void pop ()
    {
         int topVal = top();
        count = count-1;
        return topVal;
    }

//accessor top
public int topVal ()
    {
    if (isEmpty())
        {
        throw new IllegalArgumentException("Stack is empty");
        }
    else 
        {
        topVal=stack[count-1];
        }
    return topVal;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:12:13.797

1.  `stack`似乎打算成为元素类型的数组，它`push(int)`告诉我是`int`.
2.  什么样的*通用*栈仅限于`int`？
3.  `setCount`似乎打算`maxCapacity`在`GeneralStack(int)`构造函数中。
4.  您的`isEmpty()`方法将无法正常工作，因为您的`if`条件后面有一个意外的分号。`if (count == 0) ;`意思是“如果`count`等于零，什么也不做”。您可能打算：

    ```
    if (count == 0) {
      isEmpty = true;
    } 
    ```

    事实上，整个方法可以缩短为一条语句。

5.  #3 中的相同问题也适用于`isFull()`，具有类似的缩写形式。您在范围内也没有`maxCapacity`变量......也许您忘记声明和初始化一个字段？
6.  *分配给堆栈应该是改变与top*对应的数组元素。
7.  `pop()`如果已声明，则不应返回任何内容`void`。此外，`count = count - 1`可以使用*减量运算符*来缩短，`--`例如`--count;`。
8.  大概你打算命名的东西`top()`（根据 的代码判断`pop()`），你不小心命名了`topVal()`. 此外，您永远不会`topVal`在方法范围内声明变量。您可以通过直接从数组中返回元素来重写该方法以完全消除对变量的需求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:12:15.233

> 我哪里做错了？

1.  在我看来，这里有一些编译错误。例如，您调用了一个`top()`似乎不存在的函数（我猜您的意思是`topVal()`）。
2.  如果您希望您的堆栈采用任何类型，您应该查看[Generic Types](http://docs.oracle.com/javase/tutorial/java/generics/types.html)。
3.  在堆栈中，您需要接受与`push`返回的参数相同的类型`pop`。您的`push`函数接受整数，但您的`pop`函数是无效的。
4.  支持您的数据结构的数组需要与上面步骤 (2) 中使用的类型相同。就像现在一样，您似乎希望它是一个整数，但正如步骤 (1) 所建议的那样，也许可以考虑使用泛型类型。
5.  在你的`push`函数中，你说*“不确定如何为堆栈赋值”*，你应该说`stack[count] = value`.

这些事情应该让您开始寻找可行的解决方案。可能还有其他一些事情需要改变，但这些至少是你在这里犯的一些基本错误。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-07T05:22:13.570

我同意请使用像 arraylist 这样的东西。[http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Stack.html](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Stack.html) 已经实现了类，但我修复了你的代码，以防你是java新手并且只是在玩它. 没有检查逻辑，但希望语法更正有帮助

```
 package Temp;

    public class GeneralStack
{
    int[] stack;  //not sure how to declare this
    private int count;
    private int maxCapacity;
    private static final int DEFAULT_CAPACITY = 100;

//default constructor
public GeneralStack()
    {
        stack = new int[DEFAULT_CAPACITY];
        count = 0;
        maxCapacity = this.DEFAULT_CAPACITY;
    }

//alternate constructor
public GeneralStack (int maxCapacity)
    {
        stack = new int[maxCapacity];
        count = 0;
        this.maxCapacity = maxCapacity;
    }

//accessor getCount
public int getCount ()
    {
    return count;
    }

//accessor isEmpty
public boolean isEmpty ()
    {
    boolean isEmpty=false;
    if (count == 0);
        {
            isEmpty=true;
        }
    return isEmpty;
    }

//accessor isFull
public boolean isFull ()
    {
    boolean isFull=false;
    if (count == maxCapacity);
        {
        isFull=true;
        }
    return isFull;
    }

//mutator push
public void push (int value)
    {
    if (isFull ())
        {
        throw new IllegalArgumentException("Stack is full");
        }
    else
        {
        stack[count] = value; //not sure how to assign value to the stack
        count++;
        }
    }

// you cant return value from void function so changing it to int return you can ignore a return value 
public int pop ()
    {
         int topVal = topVal();
        count = count-1;
        return topVal;
    }

//accessor top
public int topVal ()
    {
    int topVal;
    if (isEmpty())
        {
        throw new IllegalArgumentException("Stack is empty");
        }
    else 
        {
        topVal=stack[count-1];
        }
    return topVal;
    }
} 
```

# java - 适用于 Java 的 REST 和 HTTP API 客户端，例如 RestSharp(http://restsharp.org/)

> ID：11839455
> 
> 赞同：3
> 
> 时间：2012-08-07T04:51:45.143
> 
> 标签：java, android, json, http, rest

我在我的一些 .net 项目中使用[了 restsharp](http://restsharp.org/)。我发现它对于从 Web 服务获取 Json 数据并将它们转换为 .net 对象非常有用。我需要一个类似的java框架。我想用它来为我的 android 应用程序读取相同的 Json 网络服务。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:56:17.707

你可以试试resteasy cleint [http://www.jboss.org/resteasy/](http://www.jboss.org/resteasy/)。

# android - 动作条夏洛克灯主题

> ID：11839456
> 
> 赞同：2
> 
> 时间：2012-08-07T04:51:54.780
> 
> 标签：android, actionbarsherlock, android-theme

现在我正在使用actionbar sherlock和fragment开发一个android应用程序。我使用了以下主题。

```
<style name="Theme.AndroidDevelopers" parent="Theme.Sherlock.ForceOverflow">
    <item name="android:actionDropDownStyle">@style/MyDropDownNav</item>
    <item name="actionDropDownStyle">@style/MyDropDownNav</item>

    </style> 
```

我得到了以下输出。![在此处输入图像描述](../Images/94f9669d747e3ff4fb6b9dd8f3032b94.png)

但我想使用浅色主题，所以我将父级更改为

```
parent="Theme.Sherlock.Light.ForceOverflow" 
```

然后我得到以下输出![在此处输入图像描述](../Images/d3b12aaf4984f162ea11a1e2b17c1125.png)

浅色主题缺少蓝色下划线。我怎样才能使那个蓝色下划线？...请帮助我的朋友。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T05:05:06.390

您必须创建自己的主题才能做到这一点：

```
<resources>
  <style name="MyTheme" parent="@android:style/Theme.Holo.Light">
    <item name="android:actionBarStyle">@style/MyActionBar</item>
  </style>

  <style name="MyActionBar" parent="@android:style/Widget.Holo.Light.ActionBar">
    <item name="android:background">ANY_HEX_COLOR_CODE</item>
  </style>
</resources> 
```

然后，您可以将修改后的 9 补丁图像作为背景，并带有蓝色下划线。查看您的 Android Sdk > API 13+ 应该有原始的 Actionbar bavkground drawables。只需修改它们并将其设置为背景。不要忘记稍后将此主题设置为您的应用程序主题。

编辑：

以下是来自 Jake Whartons Action Bar Sherlock 的 9 张 Patch 图片（真是巧合，他早前整理了我的帖子……:)）：

![蓝色中风](../Images/4dac22bc746aabcf39108d1b0b7a2427.png) ![灰色背景](../Images/c8fc4f7f25d74acec51b614d9fa1a3f1.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T05:10:43.937

为操作栏创建自己的样式并覆盖`background`属性：

```
<style name="MyActionBarStyle" parent="Widget.Sherlock.Light.ActionBar.Solid">
    <item name="android:background">@drawable/bg_action_bar</item>
    <item name="background">@drawable/bg_action_bar</item>
</style> 
```

将此样式用于主题中的操作栏：

```
<style name="Theme.AndroidDevelopers" parent="Theme.Sherlock.Light.ForceOverflow">
    <item name="actionBarStyle">@style/MyActionBarStyle</item>
    <item name="android:actionBarStyle">@style/MyActionBarStyle</item>
</style> 
```

看看`res\drawable-hdpi\abs__ab_transparent_light_holo.9.png`drawable inside`ActionBarSherlock`源如何在底部创建带有彩色条线的9-patch drawable。

# php - mysql查询中时间戳的运算符之间

> ID：11839458
> 
> 赞同：0
> 
> 时间：2012-08-07T04:51:57.800
> 
> 标签：php, mysql, date, between

我有一个表格可以从日历中获取日期。该表格将传递开始日期和结束日期。我的数据库表以时间戳格式存储日期。我必须创建一个查询以从开始日期和结束日期之间的数据库表中选择记录。我该如何查询？我已经尝试了下面的代码，但它不起作用。

```
 if(isset($_POST['filter']))
    {
        $sid=$_POST['sid'];
        $start= date("dMY",strtotime($_POST['start']));
        $end= date("dMY",strtotime($_POST['end']));

        $res=$db->fetchAll("SELECT * FROM `logfile` WHERE `site_id`=".$sid." AND (date('dMY',`timestamp`) BETWEEN $start AND $end)");

    } 
```

有什么想法吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:54:14.950

您无缘无故地强迫 PHP 和 MySQL 进行大量无用的日期/时间字符串<->本机转换。

为什么不简单地拥有：

```
$start = strtotime($_POST['start']);

SELECT ... WHERE `timestamp` BETWEEN FROM_UNIXTIME($start) AND ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T04:54:23.400

正如@Matei Mihai 所说，您不需要将其转换为时间戳格式，`$_POST['start']`并且`$_POST['end']`必须将日期列括在引号中。

您还需要将日期转换为 MySQL 兼容格式，例如`'2012-08-01'`.

```
"SELECT * 
 FROM `logfile` 
 WHERE `site_id`=".$sid." AND 
       (date('dMY',`timestamp`) BETWEEN '$start' AND '$end')"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T04:55:09.123

如果`$_POST['start']`并且`$_POST['end']`已经是时间戳格式，请不要更改它们。在其他情况下，只需将字符串转换为时间戳：

```
$start = strtotime($_POST['start']); // where $_POST['start'] might be 2012/08/07
$end = strtotime($_POST['end']);

$res=$db->fetchAll("SELECT * FROM logfile WHERE site_id=".$sid." AND date BETWEEN $start AND $end"); 
```

# macos - 在主菜单中添加搜索栏

> ID：11839468
> 
> 赞同：-1
> 
> 时间：2012-08-07T04:53:26.170
> 
> 标签：macos

我正在使用带有目标 C 和 XCode 的 mac os。我最近的任务是以编程方式在 mac 桌面的主菜单中添加一个搜索栏。你能建议我如何继续。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:31:44.187

要最轻松地做到这一点，您需要 Mac OS X 10.5 或更高版本。

单个菜单栏的想法是一种错觉。它是两件事的组合：一件随着当前应用程序切换（由 、 等实现的菜单列表`NSMenu`）`NSMenuItem`，另一件不改变：系统的状态栏 ( `NSStatusBar`)。

如果我理解正确，您想调用`[NSStatusBar systemStatusBar]`以获取主状态栏（屏幕一角的小图标）并向其添加一些内容，例如弹出菜单的图标。

您可以使用`NSStatusItem`为该栏定义某些内容（例如，在单击时显示菜单），并且在您的`NSMenu`定义中您可以使用添加视图`setView:`（这是需要 Mac OS X 10.5 的部分）。视图可以是*任何东西*，包括搜索栏。

# android - 有没有像谷歌这样在中国被允许并且有安卓 API 的 LBS？

> ID：11839469
> 
> 赞同：0
> 
> 时间：2012-08-07T04:53:27.437
> 
> 标签：android, geolocation, location, android-location, android-1.6-donut

我们正在开发适用于手机和平板电脑的 Android 移动应用程序。我们使用 Android 1.6 版本。

在我们的应用程序中，我们使用 Google Maps API 来显示位置详细信息。我们的应用程序部署地点之一是中国。在中国，包括谷歌地图在内的谷歌 LBS（基于位置的服务）在中国被封锁。

所以我们不能在中国使用谷歌地图或谷歌的LBS。中国是否有像谷歌这样的 LBS 并且有 Android API？

我们欢迎您的建议和想法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:52:03.463

[百度](http://en.wikipedia.org/wiki/Baidu)为包括Android、iOS在内的移动设备提供地图API。Android API 有点类似于 Google 的。但是他们的[开发者网站](http://dev.baidu.com/wiki/imap/index.php)只有中文版。

# javascript - 如何从 javascript 函数中显示引导模式？

> ID：11839472
> 
> 赞同：13
> 
> 时间：2012-08-07T04:53:37.120
> 
> 标签：javascript, jquery, twitter-bootstrap, modal-dialog

我的页面上有一个按钮，当它被按下时，它会触发一些 javascript 函数，以及其中一个用于打开引导模式的 javascript 函数，但我似乎无法让它工作。这是我的代码......请帮忙。

```
 //elsewhere on the form is the button that triggers the javascript
  <a href="#" class="btn btn-danger" id="cancelPObtn" data-dismiss="modal">Yes, cancel it</a>

 <!-- CANCEL A PO MODAL -->
 <div class="modal hide fade" id="error-dialog" style="display: none;">
   <div class="modal-header">
        <a class="close" data-dismiss="modal">x</a>
        <h3>Cancel Purchase Order?</h3>
   </div>
   <div class="modal-body">
   </div>
   <div class="modal-footer">
       <a href="#" class="btn btn-danger btn-modal btn-cancel"  data-dismiss="modal">Yes, cancel it</a>
       <a href="#" class="btn" data-dismiss="modal">Nevermind</a>
   </div>
 </div>

      $('.btn-danger').click(function(event) {
          if(some random conditional statement){
             //some stuff happens here
          }
          else{ 
                //Show form validation error modal-- I know this part is triggered but the modal will not show
                $("#error-dialog").modal("show");
          }
      }); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-07-29T03:59:06.850

$("#error-dialog").modal("show");

这是正确的方法，您的代码只是有错误。进入 Chrome 控制台并运行此命令，它将起作用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-07T05:06:35.153

您缺少`if () {`条件语句的一部分

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-07T05:18:39.240

很难看出你想用这个部分代码做什么，但这里有一个基于你的工作代码：

[http://jsbin.com/oqomiv/1/edit](http://jsbin.com/oqomiv/1/edit)

# wpf - Model 和 ViewModel 与 View 绑定

> ID：11839485
> 
> 赞同：0
> 
> 时间：2012-08-07T04:55:13.173
> 
> 标签：wpf, mvvm

**设想：**

1.  我有 CustomerOrder 视图模型
2.  它包含一个下拉列表（用于客户）和多个文本框（用于订单详细信息）
3.  在 View Model 中，Customer Drop Down List 绑定到 Customer Model object(Id, Name) 类型的变量 CustomerList
4.  下拉列表的选定客户绑定到客户模型对象
5.  Customer Model 通过 BaseModel 实现 IDataErrorInfo

**我的问题：** 1\. 现在，在 ViewModel 中，要跟踪 Combobox 是否包含有效客户，我需要在 View Model 中实现 IDataErrorInfo

1.  我的Model也通过BaseModel实现了IDataErrorInfo

**问题：**

1.  我不想在 2 个地方写 IDataErrorInfo。你能建议一下吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:24:43.417

我会说 - 如果您绑定到您的视图模型属性并想要验证，您必须在那里实现 IDataErrorInfo。您可以做的是将验证“委托”给您的模型。

//视图模型

```
 public string this[string columnName]
    {
        get 
        {
            //todo: other validationlogic which is not in the model

            return this._mymodel[columnName];
        }
    } 
```

# python - 使用外键保存 django orm 模型

> ID：11839488
> 
> 赞同：2
> 
> 时间：2012-08-07T04:56:11.853
> 
> 标签：python, django, orm, django-models

我正在尝试找出保存使用 django orm 的模型的最佳方法。我有一个模型/表格，`User`. 此外，我有一个名为 的模型/表`ContactInfo`，我们在其中存储了 User 表的外键。

我了解常见的 django orm 做法是将 ContactInfo 模型的外键放入 User 模型中，但此时，我们不想在已经单一的用户表中添加任何内容，因此我们将外键放入ContactInfo 模型。

我知道我可以将 User 模型存储在 ContactInfo 模型中，在 ContactInfo 上调用 save，它应该保存 User 模型，但是如果我与用户及其联系信息存在一对多关系怎么办？我宁愿在联系信息模型/对象的（1-many）实例中没有用户表的多个实例。

如果我能澄清任何事情，请告诉我。目前，我最好的想法是将 ContactInfo 列表的实例存储为`user.contact_info`，并覆盖保存方法以供用户`user.save()`检查contact_info，如果存在，则将其插入`user.id`每个模型并保存。不幸的是，我只是觉得这有点乱，但是对于 django 和 python 来说是新手，我不确定我的选择是什么。

任何帮助将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:50:28.363

我不确定我是否正确理解了您的问题。Django 为 1-N 关系提供了很好的支持。如果`ContactInfo`有一个外键`User`，默认情况下，它是一个 1-N 映射。

```
ContactInfo ---------> 用户
             氮1

```

`User`所以，你的数据库中只有一条记录，看起来像这样

```
表用户表 ContactInfo
---------------------------------------------
id 用户名 id 用户名
 1 人 1 1
                               2 1
                               3 1

```

而且您不需要覆盖`save`方法。当您需要添加联系人时，

```
contact = ContactInfo(user=target_user)
# other stuff
contact.save()
#or 
target_user.contactinfo_set.create(...)#contactinfo_set is the related name of target_user
#Django maintains the foreign key things. 
```

如果您使用上述方法插入新`ContactInfo`记录，则无需迭代`contact_info`列表即可将 user.id 插入数据库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T06:29:08.470

我不确定您是指自定义`User`模型还是 Django 附带的标准模型。如果是后者，那么 Django 提供了一种存储与每个用户相关联的附加信息的标准方法，称为*用户配置文件。*有关详细信息，请参阅[文档中的此部分](https://docs.djangoproject.com/en/dev/topics/auth/#storing-additional-information-about-users)。

# java - 在android中拨打号码时删除多余的整数

> ID：11839489
> 
> 赞同：1
> 
> 时间：2012-08-07T04:56:12.767
> 
> 标签：java, android

我只需要在拨打电话时转+81034873845⇒+8134873845。但我找不到任何基于它的相关文件。我应该在谷歌上写什么来搜索？或者你有这样的教程吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T04:59:50.833

您可以为此类要求创建自己的自定义方法。

```
public String getPhoneNumber ( String phoneNumber )
{
     StringBuffer sb = new StringBuffer();

     sb.append( phoneNumber.substring(0, 3) );
     sb.append( phoneNumber.substring( 4 ) );

    return sb.toString();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:24:48.123

用于`StringBuffer`此目的，然后以这种方式**替换**字符串的指定字符**`Null`**：-

```
String phonenumber  = "+8109083001700"; 
StringBuffer phoneNo = new StringBuffer (phonenumber);  
int x = phoneNo.length();  
phonenumber=phoneNo.replace((x-1),3, ""); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T05:35:13.717

```
public String getNumber(String number)
{
  return number.replace("+810","+81");
}

String number = getNumber("+8109083001700"); 
```

# api - “API 限制”和“API 限制警告”是什么意思？

> ID：11839491
> 
> 赞同：5
> 
> 时间：2012-08-07T04:56:22.107
> 
> 标签：api, facebook-graph-api, terminology, throttling

在应用洞察中，在 API->Activity & Errors 下有与“Api Throttling”和“API Throttling Warnings”相关的部分。但是我找不到这些部分的含义以及如何在任何地方解释它们的文档。

1.  每个部分旁边显示的时间值是多少？即 Api 节流 - x 分钟？
2.  这个“预算的一部分”是什么？为什么百分比似乎从来没有加起来？:-P

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-04T19:44:45.293

> 每个部分旁边显示的时间值是多少？即 Api 节流 - x 分钟？

您必须等待多长时间才能结束节流

> 这个“预算的一部分”是什么？为什么百分比似乎从来没有加起来？

您的总单位数与您消耗的单位数之比

**参考**

*   [通过示例解释去抖动和节流 | CSS 技巧](https://css-tricks.com/debouncing-throttling-explained-examples/)

*   [Ben Alman » jQuery 油门/去抖动：有时，少即是多！](http://benalman.com/projects/jquery-throttle-debounce-plugin/)

*   [Web 应用程序中的节流和去抖动模式](http://www.slideshare.net/almirfilh0/throttle-and-debounce-patterns-in-web-apps)

*   [ReactJS：在反应组件中使用去抖动](http://blog.revathskumar.com/2016/02/reactjs-using-debounce-in-react-components.html)

*   [延迟动作：去抖动和油门——Rudy Huyn](http://www.rudyhuyn.com/blog/2016/03/01/delay-an-action-debounce-and-throttle/)

*   [Throttle 和 Debounce 视觉解释](http://caiogondim.github.io/js-debounce-throttle-visual-explanation/)

# foursquare - Foursquare 和 flickr 的访问令牌

> ID：11839494
> 
> 赞同：0
> 
> 时间：2012-08-07T04:56:55.157
> 
> 标签：foursquare, flickr

我有 Foursquare 和 flickr 的消费者密钥和消费者密钥。我想获得访问令牌和访问令牌密钥。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T21:00:06.340

要为用户获取访问令牌，用户必须授权您的消费者代表其行事。请参阅[https://developer.foursquare.com/overview/auth](https://developer.foursquare.com/overview/auth)了解有关如何为foursquare 的API 完成此操作的更多详细信息。

# c++ - 如何请求操作系统发送电子邮件？

> ID：11839498
> 
> 赞同：0
> 
> 时间：2012-08-07T04:57:23.923
> 
> 标签：c++, qt

Qt C++ 应用程序如何请求操作系统发送带有特定主题、正文和可能的附件文件的电子邮件？它应该使用配置的默认电子邮件客户端发送。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:07:33.313

看起来[`QDesktopServices::openUrl()`](http://doc.qt.nokia.com/4.7-snapshot/qdesktopservices.html#openUrl)会接受一个`mailto:`URL。但是指定附件可能很棘手。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T13:15:46.817

我也写了一个处理附件的小组件。它会创建一个临时 .eml 文件，其中填充了您提供给 Email 类的内容，并使用 openInDefaultProgram() 打开默认电子邮件客户端。API 应该是自我解释的，但如果您有任何问题，请随时与我联系 :)

[https://github.com/picaschaf/qt-email](https://github.com/picaschaf/qt-email)

# python - 在 python 代理中更改用户代理

> ID：11839501
> 
> 赞同：0
> 
> 时间：2012-08-07T04:57:53.500
> 
> 标签：python, google-app-engine, proxy

这个众所周知的教程遍布网络，用于使用谷歌应用引擎创建 python 代理：[http ://www.labnol.org/internet/setup-proxy-server/12890/](http://www.labnol.org/internet/setup-proxy-server/12890/)

如果有人有使用它的经验，您如何更改脚本中的用户代理？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:17:17.940

GAE 不允许您完全设置 User-agent 标头：它允许您设置标头但总是添加`AppEngine-Google; (+http://code.google.com/appengine)`到它的末尾。

看到这个问题：[http ://code.google.com/p/googleappengine/issues/detail?id=342](http://code.google.com/p/googleappengine/issues/detail?id=342)

# c# - 将 zip 条目提取到另一个 Zip 文件

> ID：11839502
> 
> 赞同：4
> 
> 时间：2012-08-07T04:57:54.410
> 
> 标签：c#, sharpziplib

谁能告诉我为什么下面的代码不起作用？我正在为 Zip 流使用 SharpZipLib API，这是今天从他们的网站上下载的最新版本。我试图使用这种逻辑将一个 zip 文件的内容合并到另一个中，而不必在磁盘上执行 IO，因为预期的 zip 文件可能包含为 windows 保留的文件名。我已经尝试过使用多个不同的源和目标 zip 文件（包含保留名称和不包含保留名称的文件）。代码没有抛出任何异常，如果你在每次写操作之前检查缓冲区，你可以看到它包含真实数据，但整个操作完成后目标zip文件的大小没有改变，你可以探索它确认没有新文件（代码应该添加的文件）实际上已添加到目标文件中。:(

```
 public static void CopyToZip(string inArchive, string outArchive)
    {

        ZipOutputStream outStream = null;
        ZipInputStream inStream = null;
        try
        {
            outStream = new ZipOutputStream(File.OpenWrite(outArchive));
            outStream.IsStreamOwner = false;
            inStream = new ZipInputStream(File.OpenRead(inArchive));
            ZipEntry currentEntry = inStream.GetNextEntry();
            while (currentEntry != null)
            {

                byte[] buffer = new byte[1024];
                ZipEntry newEntry = new ZipEntry(currentEntry.Name);
                newEntry.Size = currentEntry.Size;
                newEntry.DateTime = currentEntry.DateTime;
                outStream.PutNextEntry(newEntry);
                int size = 0;
                while ((size = inStream.Read(buffer, 0, buffer.Length)) > 0)
                {
                    outStream.Write(buffer, 0, size);
                }
                outStream.CloseEntry();

                currentEntry = inStream.GetNextEntry();
            }
            outStream.IsStreamOwner = true;
        }
        catch (Exception e)
        {
            throw e;
        }
        finally
        {
            try { outStream.Close(); }
            catch (Exception ignore) { }
            try { inStream.Close(); }
            catch (Exception ignore) { }
        }      
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T05:06:14.633

我最终使用不同的 API 执行此操作。[来自http://dotnetzip.codeplex.com/](http://dotnetzip.codeplex.com/)的DotNet zip 。这是实现：

```
 public static void CopyToZip(string inArchive, string outArchive, string tempPath)
    {
        ZipFile inZip = null;
        ZipFile outZip = null;

        try
        {
            inZip = new ZipFile(inArchive);
            outZip = new ZipFile(outArchive);
            List<string> tempNames = new List<string>();
            List<string> originalNames = new List<string>();
            int I = 0;
            foreach (ZipEntry entry in inZip)
            {
                if (!entry.IsDirectory)
                {
                    string tempName = Path.Combine(tempPath, "tmp.tmp");
                    string oldName = entry.FileName;
                    byte[] buffer = new byte[4026];
                    Stream inStream = null;
                    FileStream stream = null;
                    try
                    {
                        inStream = entry.OpenReader();
                        stream = new FileStream(tempName, FileMode.Create, FileAccess.ReadWrite);
                        int size = 0;
                        while ((size = inStream.Read(buffer, 0, buffer.Length)) > 0)
                        {
                            stream.Write(buffer, 0, size);
                        }
                        inStream.Close();
                        stream.Flush();
                        stream.Close();
                        inStream = new FileStream(tempName, FileMode.Open, FileAccess.Read);

                        outZip.AddEntry(oldName, inStream);
                        outZip.Save();
                    }
                    catch (Exception exe)
                    {
                        throw exe;
                    }
                    finally
                    {
                        try { inStream.Close(); }
                        catch (Exception ignore) { }
                        try { stream.Close(); }
                        catch (Exception ignore) { }
                    }
                }
            }

        }
        catch (Exception e)
        {
            throw e;
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T18:06:20.723

以下是一些更简单的代码，它们将从输入 zip 读取并写入可能已经存在的输出 zip。它不需要将临时数据写入文件系统。

```
 public static void CopyToZip(string inArchive, string outArchive)
  {
      using (inZip = new ZipFile(inArchive),
             outZip = new ZipFile(outArchive))
      {
          Func<String,Func<String,Stream>> getInStreamReturner = (name) => {
              return new Func<String,Stream>(a){ return inZip[a].OpenReader(); };
          };
          foreach (ZipEntry entry in inZip)
          {
              if (!entry.IsDirectory)
              {
                  string zipEntryName = entry.FileName;
                  outZip.AddEntry(zipEntryName,
                                  getInStreamReturner(zipEntryName),
                                  (name, stream) => stream.Close() );
              }
          }
          outZip.Save();
      }
  } 
```

笔记：

1.  这种方法使用`ZipFile.AddEntry`接受两个委托的重载：一个开启者和一个关闭者。这些函数*在`ZipFile.Save`*. 前一个委托需要打开并返回包含要压缩的数据的流。后一个委托只需要关闭流。

2.  有必要定义`getInStreamReturner`Func，以便在 时打开正确的流`ZipFile.Save`。请记住，`zipEntryName`每次循环都会更改值。还会`ZipEntry.OpenReader()`在实际 zi​​p 数据上打开一个流，该流会在运行时进行读取和解压缩。在任何时候，每个 ZipFile 只能打开其中一个。`getInStreamReturner`每次循环都会创建一个新函数，从而创建一个闭包来保留`zipEntryName`.`ZipFile.Save`

3.  如果 inArchive 和 outArchive 之间存在名称冲突，此方法将失败。为避免这种情况，您需要检查并以某种方式避免它。要么设计一个新的、唯一的名称，要么跳过将具有重复名称的条目添加到 outarchive 中。

4.  我没有测试过这个。

* * *

虽然这种方法不会写入文件系统，但它*会*解压缩和重新压缩文件数据。有一个开放的请求为 DotNetZip 提供一项功能，以在没有解压缩/重新压缩跳转的情况下迁移条目。我还没有实现。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T20:09:16.543

我看到的一个问题是您正在使用 File.OpenWrite() 打开输出 zip 文件，它将替换现有的输出文件，而不是将新条目合并到其中。

SharpDevelop Wiki 上有一个示例，提供了使用内存流更新 zip 文件的示例。它可以在[http://wiki.sharpdevelop.net/SharpZipLib_Updating.ashx#Updating_a_zip_file_in_memory_1找到](http://wiki.sharpdevelop.net/SharpZipLib_Updating.ashx#Updating_a_zip_file_in_memory_1)

# node.js - 比较和排序节点中的 MongoDB ObjectID - 转换为字符串？

> ID：11839515
> 
> 赞同：1
> 
> 时间：2012-08-07T04:59:50.243
> 
> 标签：node.js, mongodb

我正在尝试比较、排序、过滤等 MongoDB ObjectID 数组以及基于数组的文档排序。我的主要问题是：我应该使用`ObjectID.equals()`还是可以将它们全部转换为字符串，使用原生比较，如`indexOf`，然后将它们转换回来？有关系吗？

我的具体用例：用户可以将帖子保存到列表中。我将其保存为 ObjectIDs 数组`user.saves`。我想按顺序检索前 25 个帖子，所以我查询`{_id: {$in: user.saves.slice(0, 25)}}`. 您将如何对检索到的文档进行排序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-02T00:50:59.033

解决方案：

```
db.collection.find({
  $or: [{
    _id: _id1
  }, {
    _id: _id2
  }]
}, callback) 
```

* * *

## 回答 #2

> 赞同：-5
> 
> 时间：2012-08-07T08:02:10.193

Mongodb 中 ObjectId 的目的是唯一标识一个文档。您永远不需要将它用于排序操作，当然不要转换为字符串。

如果您只想获取按创建时间排序的文档列表。您应该添加 created_at (timestamp) 字段，您可以在需要时使用它对文档进行排序。

如果您不想添加额外的字段。ObjectId 包含时间戳组件，因此您可以提取它并将其用于排序。但常见的方法是添加额外的字段。

# watir - 段错误 javascript 对话框 Watir 3.0 和 rautomation 0.7.2 ruby v 1.8.7

> ID：11839517
> 
> 赞同：0
> 
> 时间：2012-08-07T04:59:54.417
> 
> 标签：watir, rautomation

我正在尝试在 watir 3.0 的 javascript 对话框中单击确定。我已经尽可能地简化了代码：

```
@ie.button(:id, "Associate Control Activity").click_no_wait

@ie.clickprompt

def clickprompt(btn="OK", txt="")
    sleep 1 until javascript_dialog.exists?
    #sleep 1 until javascript_dialog.button(btn).exists? #tried both
    javascript_dialog.button(btn).click
end 
```

我经常得到这个，一些脚本比其他脚本多（非常断断续续）：

```
C:/ruby/lib/ruby/gems/1.8/gems/rautomation-0.7.2/lib/rautomation/adapter/win_32/functions.rb:317: [BUG] Segmentation fault
ruby 1.8.7 (2012-06-29 patchlevel 370) [i386-mingw32]
This application has requested the Runtime to terminate it in an unusual way.
Please contact the application's support team for more information. 
```

操作系统是 Win XP sp3。我经常调用clickpompt，一些脚本重复使用它，但它并不总是在我第四次调用它时失败，有时是第二次等等。我需要做一些不同的事情吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T07:39:01.403

这是由有缺陷的 ffi gem 引起的。您需要安装该 gem 的较新版本才能解决该问题。至少需要 1.1.3 版本。

原始问题可以在这里看到[https://github.com/ffi/ffi/issues/213](https://github.com/ffi/ffi/issues/213)

只需执行命令：

```
gem install ffi 
```

或者，如果您使用的是 Bundler，则将其添加到您的 Gemfile 中：

```
gem "ffi", "~>1.1.3" 
```

并执行：

```
bundle update ffi 
```

# html - 绘制带边框的矩形不填充html5

> ID：11839518
> 
> 赞同：0
> 
> 时间：2012-08-07T05:00:07.853
> 
> 标签：html, canvas, drawing, border

我正在尝试在画布中创建一个网格，如下所示

```
var canvas = $("#canvas");
var ctx = canvas.get(0).getContext("2d");

ctx.strokeStyle = "rgb(0, 0, 0)";
for(x=0;x<=300;x++){
  for(y=0;y<=300;y++){  
   ctx.strokeRect(x, y, 20, 20);
  }
} 
```

但它只是填充 HTML5 画布而不是绘制带边框的正方形。有人可以告诉我我在这里做错了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T06:51:58.653

我这样重写

```
var canvas = $("#myCanvas");
var context = canvas.get(0).getContext("2d");

context.strokeStyle = "rgb(255, 0, 0)";
for(x=0; x<5; x++){
 for(y=0; y<5; y++){
  context.strokeRect(y*20, x*20, 20, 20);
 }
} 
```

# java - 建立数据连接的Java程序自行终止

> ID：11839519
> 
> 赞同：0
> 
> 时间：2012-08-07T05:00:17.827
> 
> 标签：java, jdbc, sybase

我尝试使用以下程序连接到数据库并从中提取数据。我可以稍后将其存储为 CSV。当我运行程序时，javaw.exe 进程在一段时间后自行终止。你能告诉我如何克服这个问题并且可以运行到最后吗？请在下面找到代码段

```
import java.io.BufferedOutputStream;
import java.sql.CallableStatement;
import java.io.File;
import java.io.FileOutputStream;
import java.io.OutputStreamWriter;
import java.io.Writer;
import java.sql.*;
import java.util.ArrayList;

public class myLogin{
  public static void main(String args[]) {
    String url = "";

 String queryString;
 String temp;
    try {
        Class.forName("com.sybase.jdbcx.SybDriver");
        System.out.println("got it");
    }
    catch( Exception e ) {
      System.out.println("Failed to load sybase driver.");
      return;
    }
    try {
        Connection con = DriverManager.getConnection(url, "", "");

        Statement select = con.createStatement();
        queryString=" ";
        select.executeQuery(queryString);
        ResultSet myResultSet = select.executeQuery(queryString);
        System.out.println("Got results:");
        String m="details.csv";
        FileOutputStream fos=new FileOutputStream(m,false);

        Writer out = new OutputStreamWriter(new BufferedOutputStream(fos));

        while(myResultSet.next()) {
            int ncols = myResultSet.getMetaData().getColumnCount();

            for (int i=1; i<(ncols+1); i++) {
                System.out.print(myResultSet.getMetaData().getColumnName (i));
                if (i<ncols) System.out.print(","); else System.out.println();
            }

            do {
                for (int i=1; i<(ncols+1); i++) {
                    out.append(myResultSet.getString(i));
                    System.out.print(myResultSet.getString(i));
                    if (i<ncols) System.out.print(","); else System.out.println();
                }
            } while (myResultSet.next());
        }
        select.close();
        con.close();
    }
    catch( Exception e ) {
        e.printStackTrace();
    }
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:03:18.133

`javaw.exe`是“Windows”版本的`java.exe`. 基本上，这会创建一个不需要或输出到控制台的进程。

如果你`javaw.exe`从控制台运行，它会看起来好像什么都没有发生（命令几乎会立即返回）

相反，尝试运行`java.exe`以在控制台中运行您的程序。

# batch-file - 以管理员身份从另一个批处理文件运行批处理文件

> ID：11839520
> 
> 赞同：3
> 
> 时间：2012-08-07T05:00:27.310
> 
> 标签：batch-file, installation, administrator, program-files

我需要运行一个批处理文件（setup.bat），它将调用另一个批处理文件（make_dir.bat），它将在“C：\ Program Files”目录中创建一个文件夹。这适用于内部安装程序。所有用户都将使用他们的用户名登录，但将具有本地管理员权限。我尝试了两种方法，但都不起作用。

方法一：

```
SET PRGFILES=%programfiles%\mySoftware
SET admin=N
SET domain=%USERDOMAIN%\
IF /i "%domain%" EQU "%computername%\" set domain=
SET user=%domain%%username%
FOR /f "Tokens=*" %%a IN ('net localgroup administrators^|find /i "%user%"') DO SET admin=Y
IF "%admin%"=="Y" (
    MD "%PRGFILES%"
) 
```

这说`Access is denied`

方法二：

```
runas /user:%Username% shell\make_dir.bat 
```

make_dir.bat 在哪里

```
md "%programfiles%\mySoftware" 
```

这要求提供当前的用户名和密码，但之后不知何故失败了。我检查了所有用户都具有本地管理员权限，并且可以在他们的文件夹中手动创建一个文件`programfiles`夹。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T08:47:14.483

我使用这样的脚本以管理员身份运行**.bat**文件，使用 JScript：

```
var batch = "fixuac.bat"

var fso = new ActiveXObject("Scripting.FileSystemObject");
var curdir = fso.GetParentFolderName(WScript.ScriptFullName);

var wbemFlagReturnImmediately = 0x10;
var wbemFlagForwardOnly = 0x20;
var objWMIService = GetObject("winmgmts:\\\\.\\root\\CIMV2");
// var objWMIService = GetObject("winmgmts:" + "{impersonationLevel=impersonate}!\\" + "." + "\root\cimv2");
var colItems = objWMIService.ExecQuery("SELECT * FROM Win32_OperatingSystem", "WQL",
                                      wbemFlagReturnImmediately | wbemFlagForwardOnly);
var enumItems = new Enumerator(colItems);
var objItem = enumItems.item();
// http://en.wikipedia.org/wiki/Ver_(command)
var major_ver = objItem.Version.split(".")[0];

var objShell = new ActiveXObject("shell.application");
// http://msdn.microsoft.com/en-us/library/windows/desktop/gg537745.aspx
// Shell.ShellExecute 方法
// iRetVal = Shell.ShellExecute( sFile, [ vArguments ], [ vDirectory ], [ vOperation ], [ vShow ] )
// 如果 (vShow==1) 以普通窗口打开应用程序。
// 检查 Vista 和更高版本。
如果 (major_ver >= 6) {
    // 请求管理员权限。
    objShell.ShellExecute(batch, curdir, "", "runas", 1);
} 别的 {
    objShell.ShellExecute(batch, curdir);
}

```

# php - 防止 SQL 注入 - PDO、mysqli

> ID：11839523
> 
> 赞同：2
> 
> 时间：2012-08-07T05:00:54.473
> 
> 标签：php, mysql, sql, pdo, sql-injection

> **可能重复：**
> [在 PHP 中防止 SQL 注入的最佳方法](https://stackoverflow.com/questions/60174/best-way-to-prevent-sql-injection-in-php)

我刚刚发现我的网站是 vunerable。

由于它连接到数据库并具有以下功能：注册、更改密码、通知等......并且*假设它完全易受攻击。*

为了开始使其安全，我应该在代码中寻找什么？

我的意思是，我做了一些研究，在任何地方，每个人对安全性都有不同的看法。

> “使用 PDO。”
> 
> “使用 mysql_real_escape_string。”
> 
> “使用加斜杠。”

**我究竟应该寻找什么？**

```
"$_POST" and "$_GET" variables??
"$_SESSION" variables? 
```

**SQL 查询？**

```
$sql = "select * from user";
$sql = "update user set user="new_user_name";
$sql = "insert into user (user) values ('userid')"; 
```

在每种情况下我应该怎么做？请帮助我知道我必须去什么和去哪里。

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T05:08:01.470

以下是制作安全 php 应用程序需要考虑的要点。

1.  使用 PDO 或 mysqli
2.  永远不要相信任何输入。考虑每个变量，即 $_POST、$_GET、$_COOKIE、$_SESSION、$_SERVER，就好像它们被污染了一样。对这些变量使用适当的过滤措施。
3.  为了避免 XSS 攻击，在将用户输入数据插入数据库时​​，使用 php 的内置函数 htmlentities、strip_tags 等。
4.  在 PHP.INI 中禁用注册全局变量
5.  在 PHP.INI 中禁用“allow_url_fopen”
6.  不允许用户输入比要求更多的数据。验证输入以允许最大字符数。还要验证相关数据类型的每个字段。
7.  开发期后禁用错误报告。它可能会提供对黑客有用的数据库信息。
8.  发布表单时使用一次性令牌。如果令牌存在并且匹配表单帖子是有效的，否则无效。
9.  使用参数化的数据库查询
10.  使用存储过程

您可以搜索每个点以获取更多详细信息。希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:06:40.720

您应该查找的内容：从客户端/用户发送的*任何数据。*清理/转义这些数据。

[PDO](http://php.net/manual/en/book.pdo.php)可以清理查询（使用[PDO::prepare](http://php.net/manual/en/pdo.prepare.php)）并支持多个 SQL 系统。

对于 MySQL，请使用[MySQLi](http://php.net/manual/en/book.mysqli.php)。[`mysqli_real_escape_string`](http://php.net/manual/en/mysqli.real-escape-string.php)如果您使用 MySQL，则用于清理数据的功能。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T05:10:16.557

您提供的所有 SQL 查询实际上都不会受到 SQL 注入的攻击。

SQL 注入漏洞的发生是因为 SQL 输入没有正确转义。

例如：

```
$sql = "select * from users where user_id ="  . $_GET['user_id']; 
```

考虑一下我是否通过了以下内容：

```
http://some_server.com/some_page.php?user_id=123%20or%201=1 
```

执行时的查询最终将是：

```
select * from users where user_id = 123 or 1=1 
```

要解决此问题，请使用参数化查询：

```
$query = "select * from users where user_id = ?" 
```

当您将 user_id 值绑定到查询时，数据访问层将正确转义输入字符串并执行以下操作：

```
select * from users where user_id = '123 or 1=1' which would not return any rows, preventing the injection 
```

如果使用 PHP 和 mysql 扩展：

```
$sql = "select * from users where user_id = '" . mysql_real_escape_string($_GET['user_id']) . "'"; 
```

请记住，您需要转义进入 SQL 查询的所有输入：

```
$sql = "select id_column from some_table where id = 1";
$stmt = mysqli_query($conn, $sql);
if($stmt === false) die(mysqli_error($conn) . "\n");
while($row = mysqli_fetch_assoc($conn, $stmt) {
    $sql = "update some_other_table set some_value = 'new value' where some_column = '" . mysqli_real_escape_string($conn, $row['id_column']) . "'";
    ....
} 
```

这是因为您从数据库中选择的值可能包含在 SQL 语句中执行不安全的字符，例如名称“O'Hara”或示例。}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T05:25:02.897

我一直在使用**[PDO](http://www.php.net/manual/en/book.pdo.php)**。

在你的情况下的一个例子：

```
<?php
   $stmt = $dbh->prepare("insert into user (user) values (?)");
   $stmt->bindParam(1, $name);
   $name = 'ValueHere';
   $stmt->execute();
?> 
```

# c# - 根据值选中或取消选中复选框？

> ID：11839525
> 
> 赞同：26
> 
> 时间：2012-08-07T05:01:04.717
> 
> 标签：c#, asp.net-mvc

我们如何根据值以编程方式选中或取消选中复选框？也就是说，对于特定用户，如果值为true，则应选中复选框，否则如果值为false，则需要取消选中复选框。我通过以下方式声明了复选框：

```
<input type="checkbox" class="checkbox"> 
```

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2016-08-01T19:21:53.253

如果您出于某种原因不想使用 @Html.CheckBoxFor 并且您想坚持使用

```
 <input type="checkbox"> 
```

那么这就是我发现的最好方法：

```
 <input @(Convert.ToBoolean(Model.YourPropertyHere) == true ?   "checked='checked'" : string.Empty)  type="checkbox" /> 
```

@Yasser 上面提供的代码：

```
 checked="@(required ? "checked" : "")" 
```

对我不起作用，因为它仍在将选中的属性添加到元素中，并且设置 checked="" 仍会将复选框呈现为选中状态，这不是所需的输出，而是将整个语句包装到剃刀块中像这样：

```
 @(Convert.ToBoolean(Model.YourPropertyHere) == true ?   "checked='checked'" : string.Empty) 
```

你会得到想要的结果。

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2012-08-07T05:08:30.647

```
if(condition = true)
{
@Html.CheckBoxFor(x => x.Test, new { @checked = "checked" })
}
else
{
@Html.CheckBoxFor(x => x.Test)
} 
```

希望这可以帮助 ：）

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2015-10-04T15:32:11.717

`checked`如果您正在编写自己的属性而不是使用替代方法，则有一种更简单的方法来包含或不包含属性`<input>`，例如`Html.CheckBoxFor`：

```
<input type="checkbox" checked="@isChecked"> 
```

Razor 足够聪明，可以自动生成

```
<input type="checkbox" checked="checked"> 
```

或者

```
<input type="checkbox"> 
```

取决于`isChecked`是`true`还是`false`。无需 if 语句或重复代码。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-07T09:50:58.910

如果您使用 MVC 并从控制器正确传递模型值，那么

```
@Html.CheckBoxFor(model => model.checkBox1) 
```

...是你所需要的全部。html-helper 执行逻辑来确定是否插入`checked="checkbox"`代码。

否则，如果没有 HTML-helper，您可以自己动态生成属性（其他人已经指出如何），但不要错误地认为`checked = ""`会留下未选中的框。请参阅 [此答案](https://stackoverflow.com/a/4228677/613004)以获取解释。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-07T05:36:55.280

如果要在代码隐藏中选中/取消选中复选框值，则必须在复选框标记中包含 ID 和 runat 服务器属性。

```
<checkbox Id="chk" runat="server" class="chkbox"/> 
```

代码隐藏：

```
if(yourcondition==true)
  chk.checked = true;
else
  chk.checked = false; 
```

如果你想用 javascript 来做

```
<checkbox Id="chk" class="chkbox"/> 
```

JS：

```
if(yourcondition==true)
  chk.checked = true;
else
  chk.checked = false; 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2018-12-27T09:46:59.243

```
if(condition = true)
{
@Html.CheckBoxFor(x => x.Test, new { @checked = true })
}
else
{
@Html.CheckBoxFor(x => x.Test)
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-08-27T18:10:41.257

试试这个：

```
<input type="radio" name="filter_favorites" value="Favorites" @(loggedIn ? "checked" : "") /> 
```

所以这是一个简单的单选按钮，它检查*loggedIn*变量&如果是真的单选按钮将被检查，否则不检查。

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-08-07T05:22:25.350

您必须为复选框命名，例如：

```
<input name=checkBox1 type="checkbox" class="checkbox"> 
```

对于功能：

```
 if(x==1){
   checkBox1.Checked = true; //To Check
}
else{
   checkBox1.Checked = false // To Uncheck
} 
```

# symfony1 - Symfony 链接到管理表记录编辑页面

> ID：11839534
> 
> 赞同：1
> 
> 时间：2012-08-07T05:01:54.110
> 
> 标签：symfony1, routing, symfony-1.4

有点难以理解这一点。对于那些广泛使用 Symfony 管理生成器的人来说，对于基于后端模块的每个模块，都有一个用于所有记录的编辑页面。通常可以这样访问：

```
module/primarykey/edit.  (assume questions/1/edit) 
```

这很奇怪，因为通常主键会作为 URI 参数传入，例如：

问题/编辑/1。无论如何，这可能无关紧要。重要的是我如何设法为上述 URI 生成一个 link_to。我通过不属于 UI 的外部页面链接 editSuccess 页面。我使用的语法是

```
link_to('Edit','questions/'.$primary_key.'/edit') // (where $primary_key = 1 as in this case) 
```

但是，该 auto 将自身修改为：

/backend_dev.php/questions/1/action**注意动作而不是编辑**

不存在此类操作，它返回 404 错误，指出问题/操作不存在

总而言之，您如何链接到专门为记录呈现的管理页面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T08:38:28.863

（`url_for`以及因此`link_to`）助手处理*内部*URL，而不是外部 URL。语法是`module/action?parameters`. 在您的情况下，这将是`question/edit?id=$primarykey`（假设操作查找 id 参数）。

如果您为您的路线命名，则可以更快地生成链接（哈希表查找与线性搜索）：

```
echo url_for("@question_edit?id=$primary_key"); 
```

如果您将路线设置为 sfDoctrineRoute，它会变得更加简单：

```
echo url_for("question_edit", $question); 
```

请注意您不需要传递 id，而是传递问题对象 - 路由类将获取所有必要的参数。

# apache-flex - Flex：如何在 List 的自定义 ItemRenderer 上使用淡入淡出效果？

> ID：11839540
> 
> 赞同：0
> 
> 时间：2012-08-07T05:02:14.390
> 
> 标签：apache-flex, actionscript, flex3, itemrenderer, effect

在我的 3.6 Flex 模块中，我使用了一个带有自定义 ItemRenderer 的列表：

```
<mx:List id="chatsList" y="0" left="2" right="6" 
    width="100%" height="100%" dataProvider="{chatsArrayCollection}" 
    horizontalScrollPolicy="off" itemRenderer="MessageRendererModerated" 
    styleName="dataList" variableRowHeight="true" verticalScrollPolicy="auto" >
</mx:List> 
```

当我将项目添加到位置 0 的 chatsArrayCollection 时，我希望列表向下滚动并且新项目很好地淡入。[这里](http://blog.flexexamples.com/2008/07/29/setting-an-effect-when-the-items-in-a-data-provider-change-on-a-list-control-in-flex/)显示了类似的东西。

但是，这对我不起作用，我怀疑是因为我使用的是自定义 itemRenderer。MessageRendererModerated 被定义为带有一些文本和图像链接的画布：

```
<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" minHeight="94" 
    creationComplete="onCreationComplete();" resize="onResize();"  
    scaleY="1" width="100%" 
    horizontalScrollPolicy="off" blendMode="layer" 
    borderStyle="solid" borderThickness="0" 
    xmlns:rtl="views.rtl.*" > ... 
```

我尝试了不同的方法来解决这个问题，但没有任何帮助。

非常感谢！

更新：按照我在下面得到的评论 - 我确实尝试使用我找到的示例中提到的 itemsChangeEffect。但是，它没有按预期工作。

# c# - 静态方法调用与委托方法调用有什么区别？

> ID：11839543
> 
> 赞同：0
> 
> 时间：2012-08-07T05:02:44.230
> 
> 标签：c#

任何人都可以在这里说出我提供的示例静态/对象方法调用与委托方法调用之间的区别。

```
class Program
{
    private delegate void TestDeleg1(string input1);
    static void Main(string[] args)
    {
        // Using delege & Lambda expression
        TestDeleg1 testDeleg1 = input => { var test = "Hai " + input; Console.WriteLine(test); };
        testDeleg1("Microsoft");

        // Using simple static method invoke
        TestImplementation("Microsoft");
        Console.ReadLine();
    }

    public static void TestImplementation(string input1)
    {
        var test = "Hai " + input1;
        Console.WriteLine(test);
    }
} 
```

因为我没有发现委托方法调用的任何实时用法。

谢谢， S.Venkatesh

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T05:57:53.510

在您的示例中..它们的用法没有区别。然而，在架构上，它们完全不同。委托是对方法的引用。静态方法是.. 一种方法。

代表可以更改他们引用的方法。但是，方法就是……方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T06:35:16.083

委托的有用性还来自于它们是可以用作例如方法参数的*类型。*例如，如果您声明

```
internal delegate bool PredicateOnInt32(int x); 
```

then`PredicateOnInt32`是一种引用类型，您可以将其用作方法中的参数，例如

```
internal int GetFirstNumberWhere(PredicateOnInt32 pred)
{
  foreach (int num in this.numbers)
  {
    if (pred(num))
      return num;
  }
  throw new InvalidOperationException("No number satisfies the specified prediacte");
} 
```

当然，这只是一个例子。但是想想 LINQ，您就会明白，拥有一个表示特定签名和返回类型的方法（或多个方法）的类型会很有用。

委托的另一种用途是在*事件*中使用委托实例在场景后面保存要在事件“发生”时调用的方法集合。例如，当单击按钮时。然后，不同的“订阅者”可以通过事件的 add 访问器将自己的方法添加到委托。

# oauth - 如何避免致命错误：使用 cron 作业时未捕获的 OAuthException

> ID：11839544
> 
> 赞同：4
> 
> 时间：2012-08-07T05:02:54.493
> 
> 标签：oauth, facebook-php-sdk

嗨，希望有人可以帮助解决这个问题。我已经构建了一个生日提醒应用程序，它获得了通常的权限，包括离线访问等。

该应用程序需要在我的服务器上运行每日 cron 作业。当我运行 cron 文件时，收到以下错误

致命错误：未捕获的 OAuthException：无效的 OAuth 访问令牌签名。在第 1140 行抛出 blah/base_facebook.php；

错误是否有一个共同的原因，我是否做错了什么突出的，我应该显示更多的代码来获得人们的帮助吗？

以下是导致错误的行。我的代码在第 1140 行结束；

```
<?php

        $name = 'api';
    if (isset($READ_ONLY_CALLS[strtolower($method)])) {
      $name = 'api_read';
    } else if (strtolower($method) == 'video.upload') {
      $name = 'api_video';
    }
    return self::getUrl($name, 'restserver.php');
  }

  protected function getUrl($name, $path='', $params=array()) 
{
    $url = self::$DOMAIN_MAP[$name];
    if ($path) {
      if ($path[0] === '/') {
        $path = substr($path, 1);
      }
      $url .= $path;
    }
    if ($params) {
      $url .= '?' . http_build_query($params, null, '&');
    }

    return $url;
  }

  protected function getCurrentUrl() {
    if (isset($_SERVER['HTTPS']) &&
        ($_SERVER['HTTPS'] == 'on' || $_SERVER['HTTPS'] == 1) ||
        isset($_SERVER['HTTP_X_FORWARDED_PROTO']) &&
        $_SERVER['HTTP_X_FORWARDED_PROTO'] == 'https') {
      $protocol = 'https://';
    }
    else {
      $protocol = 'http://';
    }
    $currentUrl = $protocol . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'];
    $parts = parse_url($currentUrl);

    $query = '';
    if (!empty($parts['query'])) {
      // drop known fb params
      $params = explode('&', $parts['query']);
      $retained_params = array();
      foreach ($params as $param) {
        if ($this->shouldRetainParam($param)) {
          $retained_params[] = $param;
        }
      }

      if (!empty($retained_params)) {
        $query = '?'.implode($retained_params, '&');
      }
    }

    // use port if non default
    $port =
      isset($parts['port']) &&
      (($protocol === 'http://' && $parts['port'] !== 80) ||
       ($protocol === 'https://' && $parts['port'] !== 443))
      ? ':' . $parts['port'] : '';

    // rebuild
    return $protocol . $parts['host'] . $port . $parts['path'] . $query;
  }

  protected function shouldRetainParam($param) {
    foreach (self::$DROP_QUERY_PARAMS as $drop_query_param) {
      if (strpos($param, $drop_query_param.'=') === 0) {
        return false;
      }
    }

    return true;
  }

   protected function throwAPIException($result) {
    $e = new FacebookApiException($result);

   ?> 
```

CRON.php

```
<?php
require_once("src/facebook.php");
include("custom.php");

set_time_limit(0);

$config = array();
$config['array'] = $appID;
$config['secret'] = $appSecret;
$facebook = new Facebook($config);

$day = abs(date("j"));
$month = abs(date("n"));

$result = mysql_query("SELECT uid, uid2, name2 FROM birthdays WHERE birthmonth = '$month' AND birthday = '$day'");
while(($row = mysql_fetch_assoc($result)) && mysql_num_rows($result)) {
    $link = $hostURL.'post.php?uid='.$row['uid'].'&uid2='.$row['uid2'];
    $facebook->api('/'.$row['uid'].'/feed', 'POST',
        array(
            'link' => $link,
            'from' => '299185790135651',
            'picture' => $hostURL.'image.php?id='.$row['uid2'],
            'name' => 'Send Cake',
            'message' => 'It\'s '.$row['name2'].'\'s birthday today! Send them a virtual cake!',
            'caption' => 'Sponsored by Intercake Ltd'
        ));
}

?> 
```

还有......什么是'来自'=>'299185790135651'，？

想检查我的开发人员是否在此处输入了正确的号码。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T12:16:10.213

处理此问题的最佳方法是使用`try...catch`语句。如下：

```
try {
   // some code that calls Facebook
} catch ( Exception $e ) {
   // $e will contain the error - do what you want with it here
   // e.g. log it or send an email alert etc.
} 
```

这`'from' => '299185790135651'`是一个将消息发布到 Feed 的用户/页面 ID。在这种情况下，它指向一个[Test Facebook Page](http://facebook.com/299185790135651)。

# android - Android获取日历事件

> ID：11839550
> 
> 赞同：1
> 
> 时间：2012-08-07T05:03:35.797
> 
> 标签：android, calendar

我试图从这篇文章中运行代码：（ [从日历中获取事件](https://stackoverflow.com/questions/5883938/getting-events-from-calendar)）为了从我的邮件帐户中获取事件。

不幸的是，它可以识别我的帐户，但无法获取任何事件。我检查了三次，我的日历上确实有活动。

问题可能出在哪里？

# r - R双循环与where

> ID：11839551
> 
> 赞同：0
> 
> 时间：2012-08-07T05:03:36.637
> 
> 标签：r, while-loop

我有以下数据框和变量：

```
u0 <- c(1,1,1,1,1)
df <- data.frame (u0)
a = .793
b = 2.426
r = 0.243
q = 1
w = 2
j = 1
z = .314 
```

使用下面的循环我正在做一些计算并将结果放在我的数据框的第一行。

```
while (j<5){
  df[q,w] <- df[q, w-1] * (r+j-1)*(b+j-1)*(z) / ((a+b+j-2)*j)
  j = j + 1
  w = w + 1
} 
```

现在我想创建另一个循环来对我的数据框的所有行进行相同的计算（即我需要'q'变量来改变）。如果有人帮助我，我将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:23:12.193

你可以通过将你的`while`循环放在一个`for`越过的循环中来做到这一点`q`，但一种更具 R 风格的方法是简单地定义`q <- 1:5`，并让你的其余代码保持原样。然后`df`将完全填满。我在这个例子中你希望所有行都相同吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:20:14.060

你不能把它放在一个for循环中吗？

```
df <- data.frame (d1=u0, d2=u0+1, d3=u0+2, d4=u0+4, d5=u0+5)
for (q in 2:5) {
while (j<5){
  df[q,w] <- df[q, w-1] * (r+j-1)*(b+j-1)*(z) / ((a+b+j-2)*j)
  j = j + 1
  w = w + 1
           }    } 
```

您可能需要检查算法。它似乎没有做任何非常有趣的事情。

# android - Android：无法启动 Activity ComponentInfo，使用 ScrollBarTabActivity

> ID：11839553
> 
> 赞同：1
> 
> 时间：2012-08-07T05:03:57.377
> 
> 标签：android, tabs

我真的是 Android 编程的新手，我的代码有任何错误，如果这段代码有问题，有人可以帮忙吗？日志猫向我显示了这些错误：

```
08-07 11:59:46.773: E/AndroidRuntime(26185): java.lang.RuntimeException: Unable to start activity 
ComponentInfo{uiv.makedirect.activity/uiv.makedirect.activity.ManagerActivity}: java.lang.NullPointerException
08-07 11:59:46.773: E/AndroidRuntime(26185):    at uiv.makedirect.utilities.RadioStateDrawable.<init>(RadioStateDrawable.java:78)
08-07 11:59:46.773: E/AndroidRuntime(26185):    at uiv.makedirect.utilities.TabBarButton.setState(TabBarButton.java:66) 
```

我的代码：我用于创建 Tabactivity 的活动：

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    /*
     * set this activity as the tab bar delegate so that onTabChanged is called when users tap on the bar
     */
    setDelegate(new SliderBarActivityDelegateImpl());

    Intent home = new Intent(this, HomeActivity.class);
    Intent feed = new Intent(this, FeedActivity.class);
    Intent cart = new Intent(this, CartActivity.class);
    Intent invite = new Intent(this, InviteActivity.class);
    Intent account = new Intent(this, AccountActivity.class);

    /*
     * This adds a title and an image to the tab bar button Image should be a PNG file with transparent background. Shades are opaque areas in on and off state are specific as parameters
     */
    this.addTab("Home", R.drawable.star, RadioStateDrawable.SHADE_GRAY, RadioStateDrawable.SHADE_BLUE, home);
    this.addTab("Feed", R.drawable.icon_feed, RadioStateDrawable.SHADE_GRAY, RadioStateDrawable.SHADE_BLUE, feed);
    this.addTab("Cart", R.drawable.ico_cart, RadioStateDrawable.SHADE_GRAY, RadioStateDrawable.SHADE_BLUE, cart);
    this.addTab("Invite", R.drawable.ico_invite, RadioStateDrawable.SHADE_GRAY, RadioStateDrawable.SHADE_BLUE, invite);
    this.addTab("Account", R.drawable.star, RadioStateDrawable.SHADE_GRAY, RadioStateDrawable.SHADE_BLUE, account);

    /*
     * commit is required to redraw the bar after add tabs are added if you know of a better way, drop me your suggestion please.
     */
    commit();
} 
```

ScrollableTabActivity：

```
public class ScrollableTabActivity extends ActivityGroup  implements RadioGroup.OnCheckedChangeListener{

private LocalActivityManager activityManager;
private LinearLayout contentViewLayout;
private LinearLayout.LayoutParams contentViewLayoutParams;
private HorizontalScrollView bottomBar;
private RadioGroup.LayoutParams buttonLayoutParams;
private RadioGroup bottomRadioGroup;
private Context context;
private List intentList;
private List titleList;
private List states;
private SliderBarActivityDelegate delegate;
private int defaultOffShade;
private int defaultOnShade;

private IntentFilter changeTabIntentFilter;
private ChangeTabBroadcastReceiver changeTabBroadcastReceiver;
public static String CURRENT_TAB_INDEX;
public static String ACTION_CHANGE_TAB = "com.mobyfactory.changeTab";

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    context = this;

    activityManager = getLocalActivityManager();
    setContentView(R.layout.customslidingtabhost);
    contentViewLayout = (LinearLayout)findViewById(R.id.contentViewLayout);
    bottomBar = (HorizontalScrollView)findViewById(R.id.bottomBar);
    bottomRadioGroup = (RadioGroup)findViewById(R.id.bottomMenu);
    contentViewLayoutParams = new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT); 

    defaultOffShade = RadioStateDrawable.SHADE_GRAY;
    defaultOnShade = RadioStateDrawable.SHADE_YELLOW;

    bottomRadioGroup.setOnCheckedChangeListener(this);
    intentList  = new ArrayList();
    titleList   = new ArrayList();
    states      = new ArrayList();

    buttonLayoutParams = new RadioGroup.LayoutParams(320/5, RadioGroup.LayoutParams.WRAP_CONTENT);
}

public void onResume()
{
    changeTabIntentFilter = new IntentFilter(ACTION_CHANGE_TAB);
    changeTabBroadcastReceiver = new ChangeTabBroadcastReceiver();
    registerReceiver(changeTabBroadcastReceiver, changeTabIntentFilter);
    super.onResume();
}

public void onPause()
{
    unregisterReceiver(changeTabBroadcastReceiver);
    super.onPause();
}

public void commit()
{
    bottomRadioGroup.removeAllViews();

    int optimum_visible_items_in_portrait_mode = 5;
    try
    {
        WindowManager window = getWindowManager();
        Display display = window.getDefaultDisplay();
        int window_width = display.getWidth();

        optimum_visible_items_in_portrait_mode = (int) (window_width/64.0);
    }
    catch (Exception e)
    {
        optimum_visible_items_in_portrait_mode = 5;
    }

    int screen_width = getWindowManager().getDefaultDisplay().getWidth();
    int width;
    if (intentList.size()<=optimum_visible_items_in_portrait_mode)
    {
        width = screen_width/intentList.size();
    }
    else
    {
        width = screen_width/5;
        //width = 320/5; 
    }
    RadioStateDrawable.width = width;
    RadioStateDrawable.screen_width = screen_width;
    buttonLayoutParams = new RadioGroup.LayoutParams(width, RadioGroup.LayoutParams.WRAP_CONTENT);

    for (int i=0; i<intentList.size(); i++)
    {
        TabBarButton tabButton = new TabBarButton(this);
        int[] iconStates = (int[]) states.get(i);
        if (iconStates.length==1)
            tabButton.setState( titleList.get(i).toString(),iconStates[0]);
        else if (iconStates.length==2)
            tabButton.setState(titleList.get(i).toString(), iconStates[0], iconStates[1]);
        else if (iconStates.length==3) 
            tabButton.setState(titleList.get(i).toString(), iconStates[0], iconStates[1], iconStates[2]);

        tabButton.setId(i);
        tabButton.setGravity(Gravity.CENTER);
        bottomRadioGroup.addView(tabButton, i, buttonLayoutParams);
    }

    setCurrentTab(0);
}

protected void addTab(String title, int offIconStateId, int onIconStateId, Intent intent)
{
    int[] iconStates = {onIconStateId, offIconStateId};
    states.add(iconStates);
    intentList.add(intent);
    titleList.add(title);
    //commit();
}

protected void addTab(String title, int iconStateId, Intent intent)
{
    //int[] iconStates = {iconStateId};
    int[] iconStates = {iconStateId, defaultOffShade, defaultOnShade};
    states.add(iconStates);
    intentList.add(intent);
    titleList.add(title);
    //commit();
}

protected void addTab(String title, int iconStateId, int offShade, int onShade, Intent intent)
{
    int[] iconStates = {iconStateId, offShade, onShade};
    states.add(iconStates);
    intentList.add(intent);
    titleList.add(title);
    //commit();
} 
```

和 RadioStateDrawable 用于在选项卡中显示图像：

```
public class RadioStateDrawable extends Drawable {

private Bitmap bitmap;
private Bitmap highlightBitmap;
private Shader shader;
private Shader textShader;
Context context;
public static int width;
public static int screen_width;
private boolean highlight;
private String label;

public static final int SHADE_GRAY = 0;
public static final int SHADE_BLUE = 1;
public static final int SHADE_MAGENTA = 2;
public static final int SHADE_YELLOW = 3;
public static final int SHADE_GREEN = 4;
public static final int SHADE_RED = 5;
public static final int SHADE_ORANGE = 6;

public RadioStateDrawable(Context context, int imageID, String label, boolean highlight, int shade)
{
    super();
    this.highlight = highlight;
    this.context = context;
    this.label = label;
    InputStream is = context.getResources().openRawResource(imageID);
    bitmap = BitmapFactory.decodeStream(is).extractAlpha();
    setShade(shade);

    highlightBitmap = BitmapFactory.decodeResource(context.getResources(), R.drawable.bottom_bar_highlight);
}

public RadioStateDrawable(Context context, int imageID, String label, boolean highlight, int startGradientColor, int endGradientColor)
{
    super();
    this.highlight = highlight;
    this.context = context;
    this.label = label;
    InputStream is = context.getResources().openRawResource(imageID);
    bitmap = BitmapFactory.decodeStream(is).extractAlpha();
    int[] shades = new int[] { startGradientColor, endGradientColor };
    shader = new LinearGradient(0, 0, 0, bitmap.getHeight(), shades, null, Shader.TileMode.MIRROR);
}

public void setShade(int shade)
{
    int[] shades = new int[2];
    switch (shade)
    {
    case SHADE_GRAY: {
        shades = new int[] { Color.LTGRAY, Color.DKGRAY };
        break;
    }
    case SHADE_BLUE: {
        shades = new int[] { Color.CYAN, Color.BLUE };
        break;
    }
    case SHADE_RED: {
        shades = new int[] { Color.MAGENTA, Color.RED };
        break;
    }
    case SHADE_MAGENTA: {
        shades = new int[] { Color.MAGENTA, Color.rgb(292, 52, 100) };
        break;
    }
    case SHADE_YELLOW: {
        shades = new int[] { Color.YELLOW, Color.rgb(255, 126, 0) };
        break;
    }
    case SHADE_ORANGE: {
        shades = new int[] { Color.rgb(255, 126, 0), Color.rgb(255, 90, 0) };
        break;
    }
    case SHADE_GREEN: {
        shades = new int[] { Color.GREEN, Color.rgb(0, 79, 4) };
        break;
    }
    }

    shader = new LinearGradient(0, 0, 0, bitmap.getHeight(), shades, null, Shader.TileMode.MIRROR);

    if (highlight)
        textShader = new LinearGradient(0, 0, 0, 10, new int[] { Color.WHITE, Color.LTGRAY }, null, Shader.TileMode.MIRROR);
    else
        textShader = new LinearGradient(0, 0, 0, 10, new int[] { Color.LTGRAY, Color.DKGRAY }, null, Shader.TileMode.MIRROR);
}

@Override
public void draw(Canvas canvas) {

    int bwidth = bitmap.getWidth();
    int bheight = bitmap.getHeight();
    /*
     * if (width==0) { if (screen_width==0) screen_width = 320; width=screen_width/5; }
     */
    int x = (width - bwidth) / 2;
    int y = 2;

    canvas.drawColor(Color.TRANSPARENT);
    Paint p = new Paint();

    p.setColor(Color.WHITE);
    p.setStyle(Paint.Style.FILL);
    p.setTextSize(19);
    p.setTypeface(Typeface.DEFAULT_BOLD);
    p.setFakeBoldText(true);
    p.setTextAlign(Align.CENTER);
    p.setShader(textShader);
    p.setAntiAlias(true);
    canvas.drawText(label, width / 2, y + bheight + 20, p);

    p.setShader(shader);
    canvas.drawBitmap(bitmap, x, y, p);
} 
```

**更改图像选项卡时出现错误**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:39:33.797

我的猜测是，您的应用程序由于 RadioStateDrawable 函数中的最后一行而崩溃。

从您的资源中获取特定可绘制对象的方法是这样的：

```
 int id = getResources().getIdentifier(bottom_bar_highlight,"drawable", getPackageName());
    BitmapFactory.decodeResource(getResources(), id); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T07:59:24.713

清楚地阅读您的代码后，我认为错误 java.lang.NullPointerException 可能来自**context.getResources()**。我用谷歌搜索了**context.getResources().openRawResource()**和**context.getResources().getIdentifier()**的用法。

我认为您向此方法传递了错误的参数：**context.getResources().getIdentifier()**。

你可以试试这个：

```
int id = context.getResources().getIdentifier("drawable/bottom_bar_highlight","drawable", context.getPackageName()); 
```

祝你好运。

# crash - 遇到 cuda 无法纠正的 ECC 错误

> ID：11839555
> 
> 赞同：11
> 
> 时间：2012-08-07T05:04:02.310
> 
> 标签：crash, cuda

我的环境是

*   视窗 7 x64
*   Matlab 2012a x64
*   库达 SDK 4.2
*   特斯拉 C2050 GPU

我无法弄清楚为什么我的 GPU 因“遇到无法纠正的 ECC 错误”而崩溃。仅当我使用 512 个线程或更多线程时才会出现此错误。我不能发布内核，但我会尝试描述它的作用。

通常，内核采用许多参数并生成由线程大小 M 和另一个数字 N 定义的 2 个复杂矩阵。因此返回的矩阵大小为 MxN。典型配置是 512x512，但每个数字都是独立的，可以上下变化。当数字为 256x256 时，内核工作。

每个线程（内核）根据线程 id 从二维数组中提取一个 999 大小的向量，即大小为 999xM，然后循环遍历输出矩阵的行 (0 .. N-1) 进行计算。计算了许多中间参数，仅使用 pow、sin 和 cos 其中`+ - * /`运营商。为了计算其中一个输出矩阵，需要执行一个额外的循环来总结之前提取的 999 个向量的贡献。该循环进行一些中间计算以确定允许贡献的值范围。然后按由计算的分数值的余弦值和正弦值确定的因子对贡献进行缩放。这是它崩溃的地方。如果我坚持一个常数值或 1.0 或任何其他值，内核将毫无问题地执行。但是，当只包含一个调用（cos 或 sine）时，内核会崩溃。

一些伪代码如下：

```
kernel()
{

/* Extract 999 vector from 2D array 999xM - one 999 vector for each thread. */
for (int i = 0; i < 999; i++)
{
    .....
}

/* Cycle through the 2nd dimension of the output matricies */
for (int j = 0; j < N; j++)
{
    /* Calculate some intermediate variables */

    /* Calculate the real and imaginary components of the first output matrix */
    /* real = cos(value), imaginary = sin(value) */

    /* Construct the first output matrix from some intermediate variables and the real and imaginary components */

    /* Calculate some more intermediate variables */

    /* cycle through the extracted vector (0 .. 998) */
    for (int k = 0; k < 999; k++)
    {

        /* Calculate some more intermediate variables */

        /* Determine the range of allowed values to contribute to the second output matrix. */

        /* Calculate the real and imaginary components of the second output matrix */
        /* real = cos(value), imaginary = sin(value) */
        /* This is were it crashes, unless real and imaginary are constant values (1.0) */

        /* Sum up the contributions of the extracted vector to the second output matrix */

     }
     /* Construct the Second output matrix from some intermediate variables and the real and imaginary components */

}
} 
```

我认为这可能是由于寄存器限制，但占用计算器表明情况并非如此，我使用的寄存器少于 512 个线程的 32,768 个寄存器。任何人都可以就造成这种情况的原因提出任何建议吗？

这是ptasx信息：

```
ptxas info    : Compiling entry function '_Z40KerneliidddddPKdS0_S0_S0_iiiiiiiiiPdS1_S1_S1_S1_S1_S1_S1_S1_S1_' for 'sm_20' 

ptxas info    : Function properties for _Z40KerneliidddddPKdS0_S0_S0_iiiiiiiiiPdS1_S1_S1_S1_S1_S1_S1_S1_S1_ 

8056 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads 

ptxas info    : Function properties for __internal_trig_reduction_slowpathd 

40 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads 

ptxas info    : Used 53 registers, 232 bytes cmem[0], 144 bytes cmem[2], 28 bytes cmem[16]

tmpxft_00001d70_00000000-3_MexFunciton.cudafe1.cpp 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-08-07T05:45:32.920

“不可纠正的 ECC 错误”通常是指硬件故障。ECC 是纠错码，一种检测和纠正存储在 RAM 中的位中的错误的方法。一条杂散的宇宙射线可能每隔一段时间就会破坏存储在 RAM 中的一个位，但“不可纠正的 ECC 错误”表示从 RAM 存储中出来的几个位“错误”——ECC 无法恢复原始位值太多。

这可能意味着您的 GPU 设备内存中有一个坏的或边缘的 RAM 单元。

任何类型的边际电路都可能不会 100% 失效，但在大量使用的压力下更可能发生故障 - 以及相关的温度升高。

有一些诊断实用程序可以对您 PC 的所有 RAM 组进行压力测试，以确认或查明哪个芯片出现故障，但我不知道用于测试 GPU 的设备 RAM 组的模拟。

如果您可以访问另一台具有类似功能的 GPU 的机器，请尝试在该机器上运行您的应用程序以查看它的行为。如果您在第二台机器上没有收到 ECC 错误，这证实了几乎可以肯定问题出在第一台机器的硬件上。如果您在第二台机器上遇到相同的 ECC 错误，请忽略我在此处编写的所有内容并继续查找您的软件错误。除非您的代码实际上导致硬件损坏，否则两台机器出现相同硬件故障的可能性非常小。

# facebook-graph-api - “自定义侦听操作受到限制。请改用全局侦听操作”

> ID：11839556
> 
> 赞同：0
> 
> 时间：2012-08-07T05:04:03.830
> 
> 标签：facebook-graph-api

我创建了一个 facebook 应用程序，我创建了 action:listen。现在，当我尝试编辑此操作的属性时，它给了我这个错误：

受限制的自定义操作。

自定义侦听操作受到限制。请改用全局 Listen 操作。

有谁知道这个错误是什么意思，我该如何解决？

我尝试了与我的应用程序相关的不同操作，但仍然给我同样的错误。

任何人请帮忙。:(

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T09:23:54.773

> “自定义 Listen 操作受到限制。请改用全局 Listen 操作。”</p>
> 
> 有谁知道这个错误是什么意思，

对于内置操作类型，您不能拥有自己的自定义操作。即使您的自定义操作在一段时间前获得批准，只要 Facebook 提出与您的自定义操作冲突的新内置操作，Facebook 也会要求您迁移到内置操作。

> 我该如何解决？

切换到使用[内置的*监听*动作](https://developers.facebook.com/docs/opengraph/actions/builtin/#listen)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-02T13:30:51.997

创建一个故事，选择动作作为聆听，然后单击编辑时态，然后根据您的需要对其进行编辑。

# javascript - 从 Google Visualization 的 ColumnChart 中手动选择一个栏

> ID：11839565
> 
> 赞同：3
> 
> 时间：2012-08-07T05:05:06.523
> 
> 标签：javascript, google-visualization

我像这样使用 Google Visualization 的 ColumnChart 制作了一个图表。

![在此处输入图像描述](../Images/c7729a2f1a880ccec07555dddad3ed96.png)

它基本上是一个使用 3 x 7 矩阵的堆积柱形图。在每个栏中，我删除了另外两行的数据。我的问题是如何使黄色条（或其他条）看起来像是从一开始就使用 Javascript 代码单击的。就像下面一样。

![在此处输入图像描述](../Images/d4557cee65dae21aad47aa3b30ff23f1.png)

*注意黄色条中的浅色边框。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-27T01:43:17.340

您可以通过在图表上调用 setSelection() 以编程方式选择柱。这只能在“ready”事件触发后完成，即您可以在触发此事件时设置选择，如下所示：

```
google.visualization.events.addListener(chart, 'ready', readyHandler);

function readyHandler(e) {
    chart.setSelection([{"row":1,"column":1}]);
} 
```

这是一个工作示例，我们在绘制图表后以编程方式选择第二个柱：http: [//jsfiddle.net/FFEZT/](http://jsfiddle.net/FFEZT/)

# http - 使用 httperf 以给定速率发送 POST xml 请求

> ID：11839571
> 
> 赞同：2
> 
> 时间：2012-08-07T05:05:46.877
> 
> 标签：http, benchmarking, httperf

我想发送一个 httperf 请求以使用 httperf 以给定的速率发布 uri、xml 对的列表。我尝试了各种选项

例如使用 --wsesslog 选项，但我无法产生所需的输出。谁能知道我如何实现它？

# sugarcrm - 用于 https 的 zimbra 中的 zsugar zimlet

> ID：11839574
> 
> 赞同：-2
> 
> 时间：2012-08-07T05:06:27.257
> 
> 标签：sugarcrm, zimbra

是否可以将 zsugar zimlet 集成到 zimbra 中以用于 http 糖 CRM，因为我发现这个 zimlet 仅适用于安全连接（https）。如果是，请给我解决方案。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-26T19:29:19.737

您可以通过 HTTP 和 HTTPS 连接到 SugarCRM Web 服务 API。

# oracle10g - ORA-01652无法在表空间中扩展临时段

> ID：11839576
> 
> 赞同：28
> 
> 时间：2012-08-07T05:06:34.703
> 
> 标签：oracle10g, tablespace

我正在创建一个像

```
create table tablename
as
select * for table2 
```

我收到错误

```
ORA-01652 Unable to extend temp segment by in tablespace 
```

当我用谷歌搜索时，我通常会发现 ORA-01652 错误显示一些值，例如

```
Unable to extend temp segment by 32 in tablespace 
```

我没有得到任何这样的价值。我运行了这个查询

```
select 
   fs.tablespace_name                          "Tablespace", 
   (df.totalspace - fs.freespace)              "Used MB", 
   fs.freespace                                "Free MB", 
   df.totalspace                               "Total MB", 
   round(100 * (fs.freespace / df.totalspace)) "Pct. Free" 
from 
   (select 
      tablespace_name, 
      round(sum(bytes) / 1048576) TotalSpace 
   from 
      dba_data_files 
   group by 
      tablespace_name 
   ) df, 
   (select 
      tablespace_name, 
      round(sum(bytes) / 1048576) FreeSpace 
   from 
      dba_free_space 
   group by 
      tablespace_name 
   ) fs 
where 
   df.tablespace_name = fs.tablespace_name; 
```

取自：[找出表空间上的可用空间](https://stackoverflow.com/questions/7672126/find-out-free-space-on-tablespace)

我发现我目前使用的表空间有大约 32Gb 的可用空间。我什至尝试创建像

```
create table tablename tablespace tablespacename
as select * from table2 
```

但我再次遇到同样的错误。谁能给我一个想法，问题出在哪里以及如何解决。供您参考，select 语句将获取 40,000,000 条记录。

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-08-07T22:49:07.537

我找到了解决方案。有一个名为 TEMP 的临时表空间，由数据库在内部用于不同、连接等操作。由于我的查询（有 4 个连接）获取了近 5000 万条记录，因此 TEMP 表空间没有那么多空间来占用所有数据。因此，即使我的表空间有可用空间，查询也会失败。因此，在增加 TEMP 表空间的大小后，问题得到了解决。希望这可以帮助有同样问题的人。谢谢 ：）

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-08T09:07:34.410

通过运行以下命令创建一个新的数据文件：

```
alter tablespace TABLE_SPACE_NAME add datafile 'D:\oracle\Oradata\TEMP04.dbf'            
   size 2000M autoextend on; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-02-19T01:22:35.540

您不需要创建新的数据文件；您可以扩展现有的表空间数据文件。

执行以下命令来确定现有表空间的文件名：

```
 SELECT * FROM DBA_DATA_FILES; 
```

然后按如下方式扩展数据文件的大小（将文件名替换为上一个查询中的文件名）：

```
 ALTER DATABASE DATAFILE 'D:\ORACLEXE\ORADATA\XE\SYSTEM.DBF' RESIZE 2048M; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-03-29T18:03:48.957

我遇到了相同的错误消息，但由于我不是 dba，所以无法访问像“dba_free_space”这样的表。我使用以前的一些答案来检查可用空间，但我仍然有很多空间。但是，尽可能减少全表扫描后。问题已经解决了。我的猜测是 Oracle 使用临时表来存储全表扫描数据。如果数据大小超过限制，它将显示错误。希望这可以帮助有同样问题的人

# java - 如何在 JDK 7 中使用旧的 javadoc 样式/主题？

> ID：11839580
> 
> 赞同：22
> 
> 时间：2012-08-07T05:06:40.600
> 
> 标签：java, documentation, javadoc

JDK 7 中用于 javadoc 的新主题对我来说很难阅读。它可能不漂亮，但我真的更喜欢旧主题。除了安装旧的 JDK 并在它们之间切换之外，我还能以某种方式使用旧的 doclet 吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T07:17:51.707

不得不承认我还没有经历过这个，但我发现你可以为 java doc 自定义 CSS。[这](http://docs.oracle.com/javase/7/docs/technotes/tools/enhancements-7.html)是描述。

你可能有兴趣运行这个：

```
C:> javadoc -stylesheetfile C:\user\exampleStylesheet.css com.examplePackage 
```

它还在那里声明它创建了“stylesheet.css”文件，因此您应该看到它的外观以及可以在那里覆盖的内容。

希望这可以帮助

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-02-28T01:58:37.043

我知道这是一个迟到的答案，但有人开发了一个样式表，可用于获取旧的 pre-7 渲染：

[http://junk-box.appspot.com/stylesheet/classic-javadoc-stylesheet/index.html](http://junk-box.appspot.com/stylesheet/classic-javadoc-stylesheet/index.html)

我也不喜欢较新的 post-6 风格，它的可读性较差且难以扫描。我更喜欢可读性而不是视觉美学。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-13T22:10:55.553

如果它让您很困扰并且您不想弄乱样式表和模板，您总是可以将 JDK 1.6 安装在另一个目录中并使用它的 Javadoc util 代替。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-09T06:26:40.293

我不能说我已经尝试过使用 Java 7，但[yDoc](http://www.yworks.com/en/products_ydoc.html)是一个简洁的可定制[doclet](http://en.wikipedia.org/wiki/Doclet)。除了添加类图（也许可以过滤掉），我认为仍然可以生成具有*原始样式*的 javadoc 。

有一个免费版本可用（我与yWorks无关，我只是碰巧写了taglets并使用了yDoc）。

# perl - 为什么有些哈希使用花括号初始化，有些使用括号初始化？

> ID：11839586
> 
> 赞同：20
> 
> 时间：2012-08-07T05:07:40.223
> 
> 标签：perl, hash

我正在查看以下演示嵌套哈希的代码：

```
my %HoH = (
    flintstones => {
        husband   => "fred",
        pal       => "barney",
    },
    jetsons => {
        husband   => "george",
        wife      => "jane",
        "his boy" => "elroy",  # Key quotes needed.
    },
    simpsons => {
        husband   => "homer",
        wife      => "marge",
        kid       => "bart",
    },
); 
```

为什么最上面的哈希（从第 1 行开始）是用括号初始化的，而子哈希是用花括号初始化的？

来自 python 背景我必须说 Perl 很奇怪:)。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-08-07T05:39:50.457

来自 Perl 背景的我也觉得 Perl 很奇怪。

使用括号初始化散列（或数组）。哈希是一组字符串和一组标量值之间的映射。

```
%foo = ( "key1", "value1",  "key2", "value2", ... );   #  % means hash
%foo = ( key1 => "value1",  key2 => "value2", ... );   # same thing 
```

大括号用于定义散列*引用*。所有引用都是标量值。

```
$foo = { key1 => "value1", key2 => "value2", ... };    #  $ means scalar 
```

哈希*不是*标量值。由于散列中的值*必须*是标量，因此不可能将散列用作另一个散列的值。

```
%bar = ( key3 => %foo );     # doesn't mean what you think it means 
```

但是我们可以使用哈希引用作为另一个哈希的值，因为哈希引用是标量。

```
$foo = { key1 => "value1", key2 => "value2" };
%bar = ( key3 => $foo );
%baz = ( key4 => { key5 => "value5", key6 => "value6" } ); 
```

这就是为什么您会看到括号围绕带有大括号的列表列表。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-08-07T07:54:49.210

本质区别 (....) 用于创建哈希。{....} 用于创建哈希**引用**

```
my %hash  = ( a => 1 , b => 2 ) ;
my $hash_ref  = { a => 1 , b => 2 } ; 
```

更详细一点 - {....} 进行**匿名哈希**并返回对它的引用，该引用分配给标量`$hash_ref`

*编辑以提供更多细节*

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-08-07T06:00:36.540

首先，括号除了在这里改变优先级之外什么都不做。它们与列表创建、哈希创建或哈希初始化无关。

例如，以下两行是 100% 等效的：

```
{   a => 1, b => 2   }
{ ( a => 1, b => 2 ) } 
```

例如，以下两行是 100% 等效的：

```
sub f { return ( a => 1, b => 2 ) }    my %hash = f(); 
sub f { return   a => 1, b => 2   }    my %hash = f(); 
```

* * *

其次，不使用`{ }`;初始化散列。使用它创建一个哈希。`{ }`等价于`my %hash;`，除了散列是匿名的。换句话说，

```
{ LIST } 
```

基本上是一样的

```
do { my %anon = LIST; \%anon } 
```

（但不创建词法范围）。

匿名哈希允许一个人写

```
my %HoH = (
    flintstones => {
        husband   => "fred",
        pal       => "barney",
    },
    jetsons => {
        husband   => "george",
        wife      => "jane",
        "his boy" => "elroy",
    },
    simpsons => {
        husband   => "homer",
        wife      => "marge",
        kid       => "bart",
    },
); 
```

代替

```
my %flintstones = (
    husband   => "fred",
    pal       => "barney",
);
my %jetsons = (
    husband   => "george",
    wife      => "jane",
    "his boy" => "elroy", 
);
my %simpsons = (
    husband   => "homer",
    wife      => "marge",
    kid       => "bart",
);
my %HoH = (
    flintstones => \%flinstones,
    jetsons     => \%jetsons,
    simpsons    => \%simpsons,
); 
```

# c++ - 提取文件的高分辨率图标或缩略图

> ID：11839588
> 
> 赞同：13
> 
> 时间：2012-08-07T05:07:54.003
> 
> 标签：c++, windows, winapi

我正在尝试在 Windows 中获取高分辨率图标或缩略图，并给出该文件的完整路径。不需要是缩略图——一个好看的图标会很棒*。*我不在乎它是一个`HICON`还是一个`HBITMAP`：我将把它放在一个 GDI+ 对象中并将它渲染到一个设备上下文中。

我试过使用`SHGetFileInfo`（在标志上有各种变化），但从来没有得到超过~32x32 的图标，它可怕地缩放到我需要的 128 像素左右。

```
if (!SHGetFileInfoW(path, 0, &fi, sizeof(fi),
                    SHGFI_ICON | SHGFI_ICONLARGE | SHGFI_TYPENAME))
    return GetLastError();

// fi.hIcon is a valid icon here, but it's horrible quality with
// a black mask on it. I want higher quality, and dare I dream of
// alpha channel? Mask is acceptable, i suppose. 
```

`SHGetFileInfo``""`当我调用时返回`SHGFI_ICONLOCATION`（这似乎是该 API 的一个已知问题）。

我也尝试过使用`SHCreateItemFromParsingName`name 来获取`IThumbnailProvider`，但`BindToHandler`总是`E_NOTIMPL`返回`BHID_ThumbnailHandler`...

```
IShellItem *psi;
hr = SHCreateItemFromParsingName(path, NULL, IID_PPV_ARGS(&psi));
if (SUCCEEDED(hr))
{
    IThumbnailProvider *pThumbProvider;
    hr = psi->BindToHandler(NULL, BHID_ThumbnailHandler,
                            IID_PPV_ARGS(&pThumbProvider));
    if (SUCCEEDED(hr))
    { 
    // never get here because hr == E_NOTIMPL !!! 
```

我实际上已经运行了 Microsoft [Thumbnail Providers Sample](http://archive.msdn.microsoft.com/shellapplication "缩略图提供程序示例")，发现它与`BindToInterface`.

那么，关于我还能尝试什么的任何建议？我只是想要一些或多或少代表这个文件的图片-y，例如，至少 100 像素大小 - 只是比 32x32 更好的任何东西......

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-14T17:14:27.627

如果您的目标是 Vista 或更高版本，您可以从巨型图像列表中获取 256x256 图标。如果您需要针对 XP，您至少可以使用超大图像列表，即 48x48（略好于 32x32 大）。

```
#include <commoncontrols.h>
#include <shellapi.h>

HICON GetHighResolutionIcon(LPTSTR pszPath)
{
    // Get the image list index of the icon
    SHFILEINFO sfi;
    if (!SHGetFileInfo(pszPath, 0, &sfi, sizeof(sfi), SHGFI_SYSICONINDEX)) return NULL;

    // Get the jumbo image list
    IImageList *piml;
    if (FAILED(SHGetImageList(SHIL_JUMBO, IID_PPV_ARGS(&piml))) return NULL;

    // Extract an icon
    HICON hico;
    piml->GetIcon(sfi.iIcon, ILD_TRANSPARENT, &hico);

    // Clean up
    piml->Release();

    // Return the icon
    return hico;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T03:11:46.153

你试过[ExtractIconEx()](http://msdn.microsoft.com/en-us/library/windows/desktop/ms648069%28v=vs.85%29.aspx "提取图标Ex()")吗？

它具有专用参数，可从可执行文件、DLL 或图标文件中提取大小图标数组。从那里您可以选择最适合您需要的尺寸。API 调用从 Win2K 开始可用。

# php - PHP if 语句 errmsg

> ID：11839593
> 
> 赞同：0
> 
> 时间：2012-08-07T05:08:49.007
> 
> 标签：php, if-statement

我有这个 if 语句

```
if(!empty($URL) && ($safe===true)){
//lots of code
} 
```

是否可以根据失败的条件显示不同的错误消息？例如，如果 $URL 为空 echo "URL empty";
如果 $safe===false 回显“GTFO”；

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:13:00.083

只需将其添加到您的代码中

```
else if(empty($URL)
{
  echo "url empty";
}

else if($safe===false)
echo "Get Out"; // be polite  ;) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:11:39.977

```
} else {
  if($safe === false){
    die("GTFO");
  }
  if (empty($url)){
    echo "URL Empty.";
  }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T05:11:59.083

是的; 你可以使用一个`else if`语句。

```
if (!empty($URL) && ($safe===true)) {
    //lots of code
} else if (empty($URL)) {
    // report that url is empty
} else if ($safe === false) {
    // report that safe is false
} 
```

或者，您可以只使用一条`else`语句来报告 if 条件为假。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-07T05:18:16.117

我提出以下解决方案。它将允许您显示多个错误并仅将每个条件设置一次（而不是像其他解决方案那样具有如此多的条件和反条件）。

```
$errors = array();

if(empty($URL) {
    $errors[] = 'URL empty';
}

if($safe !== true) {
    $errors[] = 'GTFO';
}

if(empty($errors)) {
    //lots of code
} else {
    echo '<ul>';
    foreach($errors as $error_message) {
        echo '<li>' . $error_message . '</li>';
    }
    echo '</ul>';
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-07T05:20:40.280

```
 if (empty($url))
    {
         echo "URL empty";
    }
    elseif ($safe === false)
    {
         echo "GTFO";
    }
    else
    {
        //lots of code
    } 
```

# html - z-index 到背景？CSS

> ID：11839594
> 
> 赞同：4
> 
> 时间：2012-08-07T05:08:55.750
> 
> 标签：html, css, z-index

我有几个具有指定高度和宽度的列表项，其背景具有中间部分透明的边框。每个 li 包含一个图像。

```
<ul id="reel">
    <li><img src="movie-image"></li>
    <li><img src="movie-image"></li>
    <li><img src="movie-image"></li>
</ul> 
```

CSS：

```
#reel { width:960px; height:270px;}
#reel li { width:320px; height:327px; z-index:100; }
#reel li img { z-index:98; } 
```

我希望 li 的背景出现在图像上。z-index，对我没有用。有什么建议吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:34:37.937

我建议使用绝对位置和 x 和 y 值在负 100 或更多的 li 图像，因为您需要它来保持 li 图像远离，以便显示背景图像。如下所示：

```
#reel li { width:320px; height:327px; z-index:100; }
#reel li img { position:absolute; left: -100px; top: -100px; } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T05:42:17.550

尝试一个伪元素。这假定图像是 100 像素 x 100 像素

```
li {               
    display:block;
    position:relative;
    height:100px;
    width:100px;
}

li:after {
    content:"";
    width:100px;
    height:100px;
    background-color:#000;
    display:inline-block;
    position:absolute;
    left:0;
    top:0;
    background: rgba(0, 0, 0, 0.6);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T05:31:17.967

尼古拉斯，

我认为您尝试做的事情在代码中是错误的。

试试这样的 [http://pastebin.com/7AnSxcEh](http://pastebin.com/7AnSxcEh)

给 li 和 div 赋予相同的高度和宽度。还要添加一个定位。以便您可以堆叠订单。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T05:29:47.400

好吧，我似乎找到了解决这个问题的方法，

```
#reel { width:960px; height:270px;}
#reel li { width:320px; height:327px; z-index:100; position:relative;  }
#reel li img { position:absolute; z-index:98; } 
```

谢谢@adrian

# html - 你能用 XHTML 做响应式网站吗

> ID：11839596
> 
> 赞同：1
> 
> 时间：2012-08-07T05:09:09.067
> 
> 标签：html, xhtml, responsive-design

你能使用 XHTML 1.0 严格的标记并做响应式网站吗？我认为媒体查询更多的是 CSS3，但它对 XHTML 有什么限制吗？不要问我为什么需要 XHTML :/ 这是因为这个巨大的网站已经完成了它，现在这个小型活动网站也需要使用它。整个部分（以及标题）都来自这个旧网站。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:21:43.297

**XHTML5** = HTML5 + XML 解析器。

我的网站是[http://www.jabcreations.com/](http://www.jabcreations.com/)，我使用 PHP 通过客户端标头确定他们的浏览器是否支持 XHTML，如果它作为 application/xhtml+xml 服务，它才是真正的 XHTML。

我在使用 XHTML 方面没有遇到任何限制，事实上它比普通的 HTML 好得多。因为编码更严格（同样，如果您实际上正确地提供媒体类型/mime 以及正确的文档类型），它确实有助于生成更简洁、更精简的代码。起初是的，它有点困难，但是更严格的代码并不意味着更少的动态代码。更严格的代码更容易使用，因为您将更好地理解预期的内容。使用 text/html 时，各种各样的东西都可以盯着你看，你甚至都不知道。例如，我曾经经常访问的论坛上的一个人确实花了几天时间试图弄清楚为什么 CSS 会在 Safari 中被破坏，因为事实证明他们错过了一个报价。

我已经编写了自己的博客、CMS、控制面板、论坛、私人消息、统计数据等等，所有这些都以这种方式提供服务。更严格的更高标准可以而且确实会带来更好的代码，并且与我没有保持如此高的标准相比，这让我可以做更多的事情。

...而且几乎所有反对 XHTML 的论点都是无效的。您可以为非 XHTML 浏览器提供 XHTML 1.0 Strict doctype（而不是 XHTML 1.1）。你不能也不应该使用 document.write（你不应该让 script 元素成为 body 元素的子元素）。

此外，我的网站使用 CSS3 媒体查询，所以如果您谈论的是对移动浏览器的响应，是的，您也可以结合使用。只需在我的博客上水平调整浏览器的大小，然后观察布局是否随着渲染区域的减小而适应，本质上是模拟更小的屏幕尺寸。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:21:41.340

(X)HTML 不是实际创建响应式元素的部分。它唯一的工作是网站的结构。CSS，或者具体来说是 CSS3，是使网站具有响应性的部分。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-10-05T20:04:31.850

虽然响应式设计仍然*主要*在 CSS3 的上下文中被讨论，正如几个答案正确指出的那样，它现在并不像 2012 年那么简单。响应式特性也出现在了 HTML5 方面，你由于限制自己使用 XHTML，至少失去了对一个重要的访问权限：<img srcset>。

所以，今天考虑到这个问题，我会回答“否”：你不能用 XHTML 做一个**完全**响应的网站，不能达到 HTML5 所实现的水平。

# jquery - 为每一行动态生成开始时间和结束时间时如何计算时间差？

> ID：11839597
> 
> 赞同：0
> 
> 时间：2012-08-07T05:09:21.410
> 
> 标签：jquery, jquery-ui, timepicker

我想根据来自 2 个文本字段的动态 id 计算时间差并将其显示在第三个。

我当前的代码：

```
function mdiff(t1,t2) { 
    var t1 = hour2mins(t1);  var t2=hour2mins(t2); 
    var ret = mins2hour(parseInt(t2-t1));
  if(t2<t1) {
     ret=mins2hour(parseInt(parseInt(t2+1440)-t1));
  } 
    return ret; 
}

$("input.[rel=diff]").keyup(function (b){ 
   $("#duration").val(mdiff($("#starttime).val(),$("#endtime").val())); 
}); 
```

我在我的代码中使用 trent 的 timepicker 插件来生成时间。我如何计算差异？

[摆弄我现有的代码](http://jsfiddle.net/manmohan_menon/tLh7c/2/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T07:45:18.793

您可以将 'onSelect' 事件用于 'timepicker' 对象，如下例所示：

 `````
$(document).ready(function() {

    $("#AddRow").click(function() {
        var row = '<tr><td>' + '<input type=text class="timepicker"  value=""/></td>' + '<td><input type=text class="timepicker" value=""/></td>' + '<td><input type=text class="diff"/></td>' + '<td><button>delete</button>' + '</td></tr>';
        $("#table").append(row);

        // id generating for class timepicker starts here
        var i=0;
        $('input.timepicker').each(function(){
            i++;
            $(this).attr("id","timepicker_"+i);
        });
        // ends here
        //trail diff id generator
        var j=0;
        $('input.diff').each(function(){
            j++;
            $(this).attr("id","diff_"+j);
        });
        //ends here

    });

    $('body').on('focus', ".timepicker", function() {
        $(this).timepicker({

            onSelect: function(dateText, instance) {

                // Check for valid values
                if ($('input.timepicker:eq(0)').val() === '' || $('input.timepicker:eq(1)').val() === '') return false;

                var time1 = $('input.timepicker:eq(0)').val().split(/:/),
                    time2 = $('input.timepicker:eq(1)').val().split(/:/);                                      

                    timeDiff(time1[0]*3600 + time1[1]*60, time2[0]*3600 + time2[1]*60);
            }
        });
    });

    $("#table").on("click", "button", function() {
        $(this).closest("tr").remove();
    });
    //table structure ends here
});

function timeDiff(time1, time2) {
    var td = time2 - time1,
        hours = parseInt(td / 3600),
        minutes = parseInt( (td - hours*3600) / 60 ),
        diff = ( (hours < 10 && hours >= 0) ? ('0' + hours) : hours ) + ':' + ( (minutes < 10 && minutes >= 0) ? ('0' + minutes) : minutes );

    $('input.diff').val(diff);
} 
````  `是的，这是真的。我错过了“添加”按钮，这些选择器本来是为一行工作的。以下是对之前代码的更新：

 `````
$(document).ready(function() {

    $("#AddRow").click(function() {
        var row = '<tr><td>' + '<input type=text class="timepicker"  value=""/></td>' + '<td><input type=text class="timepicker" value=""/></td>' + '<td><input type=text class="diff"/></td>' + '<td><button>delete</button>' + '</td></tr>';
        $("#table").append(row);

        // id generating for class timepicker starts here
        var i=0;
        $('input.timepicker').each(function(){
            i++;
            $(this).attr("id","timepicker_"+i);
        });
        // ends here
        //trail diff id generator
        var j=0;
        $('input.diff').each(function(){
            j++;
            $(this).attr("id","diff_"+j);
        });
        //ends here

    });

    $('body').on('focus', ".timepicker", function() {
        $(this).timepicker({

            onSelect: function(dateText, instance) {

                var currentInput = ( $(instance.input).length > 0 ? $(instance.input) : $(instance.$input)),
                    nextInput = $(currentInput).closest('tr').find('input.timepicker[id!="' + $(currentInput).attr('id') + '"]');

                // Check for valid values               
                if ($(currentInput).val() === '' || $(nextInput).val() === '') return false;

                var time1 = $(currentInput).val().split(/:/),
                    time2 = $(nextInput).val().split(/:/);

                // switch time
                if ($(currentInput).parents('td').index() > 0) {
                    var temp = time1;
                    time1 = time2;
                    time2 = temp;
                }

                    timeDiff(time1[0]*3600 + time1[1]*60, time2[0]*3600 + time2[1]*60, currentInput);
            }
        });
    });

    $("#table").on("click", "button", function() {
        $(this).closest("tr").remove();
    });
    //table structure ends here
});

function timeDiff(time1, time2, instance) {
    var td = time2 - time1,
        hours = parseInt(td / 3600),
        minutes = parseInt( (td - hours*3600) / 60 ),
        diff = ( (hours < 10 && hours >= 0) ? ('0' + hours) : hours ) + ':' + ( (minutes < 10 && minutes >= 0) ? ('0' + minutes) : minutes );

    $(instance).closest('tr').find('input.diff').val(diff);
} 
````  `更新：-“当用户手动输入时间时，有没有办法让这段代码工作？”

里面 $(document).ready(); 您必须为时间选择器输入添加一个“onblur”事件。这是一个例子：[jsFiddle](http://jsfiddle.net/gabi/tHEnH)````

# java - Eclipse 可以自动将所有标记为 src 的文件夹添加到构建路径吗？

> ID：11839598
> 
> 赞同：2
> 
> 时间：2012-08-07T05:09:27.437
> 
> 标签：java, eclipse, svn, external

在给定的项目中，我有一个相当深的相互依赖的外部层次结构。

`modules`所有这些外部文件都存在于项目根目录中称为的单个文件夹中。

我要添加到构建路径的每个文件夹都标记为`src`.

Eclipse 有没有办法自动搜索给定文件夹并将所有标记`src`为构建路径的文件夹添加到构建路径中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:27:26.500

AFAIK，eclipse中没有内置这样的功能。你的要求很特别。

您所要做的就是将条目添加到项目`.classpath`文件中，例如

```
 <classpathentry kind="src" path="<srcfolder>"/> 
```

其中`<srcfolder>`是相对于项目根目录的 src 文件夹名称。如果您使用外部编辑器或应用程序编辑了该文件，请刷新项目。

[要查看和编辑它：只需打开导航器视图。它隐藏在包资源管理器中]

# android - 将手机上运行的 Android 应用程序连接到在 wifi 网络上运行 Web 服务的 PC 本地主机

> ID：11839600
> 
> 赞同：1
> 
> 时间：2012-08-07T05:09:50.830
> 
> 标签：android, web-services, http

我的无线网络上有以下设置：

![在此处输入图像描述](../Images/39c326a478b71104fc426d24ddbcf2f1.png)

随着 web 服务的运行，当我启动应用程序时，HttpClient.execute 会吞下执行，直到它最终超时并且永远不会调用该服务（在产品控制器上设置了一个断点）。我在这里想念什么？日志中没有报告任何内容。

# java - Java 生产者、Stompy Python 消费者、ActiveMQ

> ID：11839603
> 
> 赞同：0
> 
> 时间：2012-08-07T05:10:21.220
> 
> 标签：java, python, activemq, stomp

我有一个 java ActiveMQ 生产者，它将整数消息生成到 ObjectMessage 实例中。

在 python 方面，我使用 stomp python 来监听队列。但是，尽管所有标题都正确接收，但我收到了空的邮件正文。

此外，如果我在 java 端将消息类型更改为 TextMessage，我会在 python-consumer 端得到正确的消息。

我也尝试过 PyactiveMQ 但效果相同

任何建议将不胜感激！！！

**编辑**：这是我编写的样板 java 生产者代码和 python 订阅者代码，用于在 python 上测试 stomp

```
public class App 
{
Connection conn;
Session session;
MessageProducer producer;

public void registerPublisher(String queueName, String url) throws JMSException {
    ActiveMQConnectionFactory cf = new ActiveMQConnectionFactory("system", "manager" ,url);
    conn = cf.createConnection();
    conn.start();
    session = conn.createSession(false, Session.AUTO_ACKNOWLEDGE);
    Destination destination = session.createQueue(queueName);
    producer = session.createProducer(destination);
    producer.setDeliveryMode(DeliveryMode.PERSISTENT);

}

public void send(int c) {

    for (int i=0; i<c; ++i) {

        try {
            TextMessage tm = session.createTextMessage(new Integer(i).toString());
//              ObjectMessage tm = session.createObjectMessage();
            producer.send(tm);
        } catch (JMSException e) {
            e.printStackTrace();
        }

    }
}

public static void main(String []arg) {
    App app = new App();
    try {
        app.registerPublisher(arg[0], arg[1]);
        System.out.println(app.session);
    } catch (JMSException e) {
        e.printStackTrace();
    }
    app.send(1000);
}

} 
```

和 Python Stomp 监听器

```
import time
import sys
import logging
import stomp
from stomp import ConnectionListener

queuename = sys.argv[1]

logging.basicConfig( level=logging.DEBUG)

class MyListener(ConnectionListener):
    def on_error(self, headers, message):
        print 'received an error %s' % message

    def onMessage(self, headers, message):
        print headers
        print str(message)
        print type(message)
        print 'received a message ...%s...' % message

conn = stomp.Connection([('localhost', 61613)])                                                                                               
conn.set_listener('', MyListener())
conn.start()
conn.connect()

conn.subscribe(destination='/queue/'+queuename, ack='auto')

while 1:
    time.sleep(2) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T10:20:52.450

为了通过 Stomp 发送接收 ObjectMessage 类型，您需要使用 ActiveMQ 的消息[转换功能](http://activemq.apache.org/stomp.html)以使对象有效负载以 STOMP 客户端可以理解的形式传递。ActiveMQ 提供开箱即用的 XML 和 JSON 转换支持，但是您可以添加自己的转换器来获得您想要的任何格式的内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-08T11:18:59.170

**问题**：将 ObjectMessage 从 java 生产者发送到 ActiveMQ 代理。Stomp Python 消费者客户端收到空消息正文

**解决方案**：在 python 客户端订阅 activemq 代理时使用转换头，

例如：

```
connection.subscribe(destination='/queue/'+queuename, ack='auto', transformation="jms-json") 
```

以便代理知道消息将以何种形式发送到 stomp 客户端

# iphone - 图像不会保存到文档目录中

> ID：11839604
> 
> 赞同：-1
> 
> 时间：2012-08-07T05:10:35.843
> 
> 标签：iphone, objective-c, ios, xcode, uiimagepickercontroller

我想保存一张已拍摄到应用程序文档目录的图像，但由于某种原因，计数器总是在上升，但目录中没有图片。似乎是什么问题？

非常感谢！

```
- (void)imagePickerController:(UIImagePickerController*)picker didFinishPickingMediaWithInfo:(NSDictionary*)info
{
    [picker dismissModalViewControllerAnimated:YES];
    self.imageViewRecipt.image = [info objectForKey:@"UIImagePickerControllerOriginalImage"];

    //
    // Getting the current counter value
    //
    NSUserDefaults * prefs = [NSUserDefaults standardUserDefaults];

    int imageCounter;
    imageCounter = [[prefs objectForKey:@"imageCounter"]intValue];

    //
    // Obtaining saving path
    //
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];
    NSString *imagePath = [documentsDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@"image%i.png",imageCounter]];

    //
    // Extracting image from the picker and saving it
    //
    NSString *mediaType = [info objectForKey:UIImagePickerControllerMediaType];
    if ([mediaType isEqualToString:@"public.image"])
    {
        UIImage *editedImage = [info objectForKey:UIImagePickerControllerEditedImage];
        NSData *webData = UIImagePNGRepresentation(editedImage);
        [webData writeToFile:imagePath atomically:YES];

        //
        // Saving the new counter into the plist
        //
        imageCounter++;

        [prefs setInteger:imageCounter forKey:@"imageCounter"];
        [prefs synchronize];
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T07:29:55.270

好的，所以我通过删除“mediaType”和 if 语句来修复它，并将其替换为：

```
- (void)imagePickerController:(UIImagePickerController*)picker didFinishPickingMediaWithInfo:(NSDictionary*)info
{
    [picker dismissModalViewControllerAnimated:YES];
    self.imageViewRecipt.image = [info objectForKey:@"UIImagePickerControllerOriginalImage"];

    //
    // Getting the current counter value
    //
    NSUserDefaults * prefs = [NSUserDefaults standardUserDefaults];

    int imageCounter;
    imageCounter = [[prefs objectForKey:@"imageCounter"]intValue];

    //
    // Obtaining saving path
    //
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];
    NSString *imagePath = [documentsDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@"image%i.png",imageCounter]];

    //
    // Extracting image from the picker and saving it
    //
    UIImage *editedImage = [info objectForKey:@"UIImagePickerControllerOriginalImage"];
    NSData *webData = UIImagePNGRepresentation(editedImage);
    [webData writeToFile:imagePath atomically:YES];
    NSData *webData = UIImagePNGRepresentation(editedImage);
    [webData writeToFile:imagePath atomically:YES];

    //
    // Saving the new counter into the plist
    //
    imageCounter++;

    [prefs setInteger:imageCounter forKey:@"imageCounter"];
    [prefs synchronize];
} 
```

现在它工作得很好。

# jquery - 仅 IE 中的 jQuery 背景动画初始不透明度错误

> ID：11839610
> 
> 赞同：0
> 
> 时间：2012-08-07T05:11:26.623
> 
> 标签：jquery, html, css

我正在为 div 的背景设置动画，以产生您在[http://farshadzandi.ca上看到的金色按钮效果](http://farshadzandi.ca)

代码如下：

```
$(function(){
  $(".navigation").hover(function(){
    $(this).children('.background').stop(true,true).animate({opacity: 1},250);
  }, function(){
    $(this).children('.background').stop(true,true).animate({opacity: 0},250);
  });
});

$(function(){
  $(".lower-navigation").hover(function(){
    $(this).children('.lower-background').stop(true,true).animate({opacity: 1},250);
  }, function(){
    $(this).children('.lower-background').stop(true,true).animate({opacity: 0},250);
  });
}); 
```

谁能告诉我为什么虽然这在 Firefox/Chrome 中运行良好，但在页面加载时它会在 IE 中显示背景图像？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:14:06.200

对于 IE，您必须使用以下 CSS 语法。

```
/* IE 8 */
-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";

/* IE 5-7 */
filter: alpha(opacity=50); 
```

# javascript - 加载图像等辅助资源

> ID：11839616
> 
> 赞同：1
> 
> 时间：2012-08-07T05:12:00.897
> 
> 标签：javascript, jquery

当我们打开图像滑块的页面时，我想首先显示图像及其文本。

这是我的演示：[http ://codebins.com/bin/4ldqp9c/15](http://codebins.com/bin/4ldqp9c/15)

在这里，我显示所有 DOM 元素都已加载，但需要在打开页面时为我的滑块显示第一个图像及其文本。

所以我不明白如何为我的滑块加载我的初始图像，以便在所有 DOM 元素加载后启动它的功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-25T18:43:06.680

I believe the term is "bootstrapping". You want the first image to load in as the DOM is loading, and before your script sets up the image slider.

One way to achieve this is to actually put the image in as part of the DOM. So, instead of an empty `src` in your image tag, put an actual url. Same for title and description.

I assume you're going to be doing an ajax request for the XML you're building in your example. If that's the case, then you probably have no way of knowing what the first image is, which means you'll still need a script to load data.

The performance gains from having two scripts will probably be negligible, but if you take that approach, make sure you load the smaller script in the `head` section of your html, and the longer one at the end of your `body`.

# wpf - 查找最近的控件

> ID：11839621
> 
> 赞同：0
> 
> 时间：2012-08-07T05:12:35.850
> 
> 标签：wpf, vb.net

我在屏幕中动态创建控件。如果我在屏幕上放置一个按钮，那么它应该突出显示并显示最近的按钮之间的距离，该按钮位于新放置的按钮附近。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T05:55:26.410

1.  `VisualTreeHelper` [使用http://www.codeproject.com/Articles/21495/Understanding-the-Visual-Tree-and-Logical-Tree-in](http://www.codeproject.com/Articles/21495/Understanding-the-Visual-Tree-and-Logical-Tree-in)循环遍历整个视图的可视化树...在这里检查`TraverseVisualTree`您可以使用的方法遍历视觉树中的所有元素。
2.  对于每个`UIElement`控件，检查其`ActualWidth`&`Actualheight`属性。
3.  获取当前 UIElement 的相对坐标位置。使用此代码... [http://blogs.msdn.com/b/llobo/archive/2006/05/02/code-for-getting-screen-relative-position-in-wpf.aspx](http://blogs.msdn.com/b/llobo/archive/2006/05/02/code-for-getting-screen-relative-position-in-wpf.aspx)

然后使用 (relativePosition.X + actualWidth) 和 (relativePosition.Y + actualHeight) 检查每个元素，哪个元素与当前元素的距离最近。

# ios - iOS 是否支持 TLS 压缩？

> ID：11839623
> 
> 赞同：5
> 
> 时间：2012-08-07T05:13:01.707
> 
> 标签：ios, cocoa-touch, compression, ssl

我需要在我的 iOS 应用程序中压缩通过安全通道发送的数据，我想知道是否可以使用[TLS 压缩](https://www.rfc-editor.org/rfc/rfc3749)。我无法弄清楚 Apple 的 TLS 实施 Secure Transport 是否支持相同的功能。

有谁知道 iOS 是否支持 TLS 压缩？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-17T21:47:00.070

我试图确定 Apple 的 SSL/TLS 实现是否支持压缩，但我不得不说恐怕它不支持。

起初我希望有一个`errSSLPeerDecompressFail`错误代码，必须有一种方法来启用压缩。但我找不到它。

Apple 不支持压缩的第一个明显原因是我从我的设备 (6.1) 打开不同端口中的安全套接字进行的几次线捕获。在所有这些中，Client Hello 数据包只报告了一种压缩方法：`null`.

[`libsecurity_ssl`](http://www.opensource.apple.com/source/libsecurity_ssl/libsecurity_ssl-55003)然后我查看了Apple 提供的最后一个可用代码。这是 Mac OS X 10.7.5 的实现，但有些东西告诉我，iOS 会非常相似，即使不一样，但肯定不会比 Mac OS X 更强大。

您可以在文件[`sslHandshakeHello.c`](http://www.opensource.apple.com/source/libsecurity_ssl/libsecurity_ssl-55003/lib/sslHandshakeHello.c)的第 186-187 行 ( `SSLProcessServerHello`) 中找到：

```
if (*p++ != 0)      /* Compression */
    return unimpErr; 
```

这个错误代码听起来很像“如果服务器发送另一个压缩但是`null`(0)，我们没有实现它，所以失败”。

同样，同一个文件，第 325 行 ( `SSLEncodeClientHello`)：

```
*p++ = 0; /* null compression */ 
```

周围没有其他东西（`DEFLATE`根据 RFC 3749 是方法 1）。

下面，第 469、476 和 482-483 行 ( `SSLProcessClientHello`)：

```
compressionCount = *(charPtr++);
...
/* Ignore list; we're doing null */
...
/* skip compression list */
charPtr += compressionCount; 
```

我想很清楚这个实现只处理`null`压缩​​：它是Client Hello中唯一发送的，Server Hello中唯一理解的，并且在收到Client Hello时忽略压缩方法（`null`必须实现并由每个客户提供）。

所以我认为你和我都必须实现应用程序级压缩。祝你好运。

# ios - 在视图控制器之间移动时保存文本字段中的内容

> ID：11839624
> 
> 赞同：1
> 
> 时间：2012-08-07T05:13:03.140
> 
> 标签：ios, uiviewcontroller

我有一个从另一个视图推送的视图。第二个视图有一个文本字段。如果我修改了文本字段中的任何内容，那么一旦我返回然后再次前进，该内容就不会出现。在弹出第二个视图之前如何保存这些数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:19:47.557

确切地说，您需要在返回和再次访问时保存数据。然后您需要在第一个屏幕中获取一个变量并在返回时发送数据，并在再次访问时将该数据推送到第二个屏幕。

在第一个屏幕中获取一个像 TextFieldData 这样的变量并对其进行合成，并且在编写从第二个屏幕返回到第一个屏幕的代码时，像这样 FirstScreen *first = [[FirstScreen alloc]init]; [self.navigationController pushViewController:first Animation:YES]; [setTextFieldData:textField.text]; [第一次发布]；回到第二个屏幕时做同样的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:25:21.070

您可以做到这一点的一种方法是使用文件持久性。基本上，当您退出第二个视图时，您需要将文本字段中的数据写入文件，然后在打开第二个视图时从该文件中读取。

我的 iOS 有点生锈，但我认为它会是这样的：

```
 -(void)viewDidLoad {
          -code to read from file
          -and display in text field
    }

    -(void)viewDidUnload {
          -code to save to file from text field
    } 
```

# html - GxtRtl Html 和 HtmlContainer 翻转输入的 html 内容

> ID：11839625
> 
> 赞同：1
> 
> 时间：2012-08-07T05:13:12.170
> 
> 标签：html, right-to-left, gxt

我使用 Gxt-2.2.5-Rtl *(http://code.google.com/p/gxt-rtl/)*并尝试通过`HtmlContainer`'s`setUrl()`方法显示 html 内容。但不幸的是，结果是我预期输出的翻转版本。例如，假设我们的输入 html 包含一个表格，该表格从右到左开始列作为 id、name、description。所以我们得到的是一个表格，他们的列从预期的顺序开始，但从左到右！

我使用了 Gxt`Html`和 Gwt`HTML`以及`HtmlPanel`类，但是这个问题并没有解决。

另外我应该说，当我使用`TabItem`or`ContentPanel`的`setUrl()`方法时，这个问题就消失了。但我更喜欢不使用该方法，因为： 1- 上次加载的 iFrame 一次可见。这意味着浏览其他预加载的选项卡项目会显示一个空白页面。2- 通过 GWT 对加载页面的控制不佳，例如捕获点击事件等。

预期输出： [http ://www.freeimagehosting.net/yow6l](http://www.freeimagehosting.net/yow6l)

错误的输出： [http ://www.freeimagehosting.net/8opdt](http://www.freeimagehosting.net/8opdt)

为了更好地交流，我把标题改成了英文！:)

谢谢！

# javascript - javascript回调问题

> ID：11839629
> 
> 赞同：-2
> 
> 时间：2012-08-07T05:13:23.280
> 
> 标签：javascript, function, callback

我真的不明白回调是如何工作的。这是代码（第 49-53 行是问题所在，我希望 n 等于我目录中的图像数量）： http: [//pastebin.com/HbALuzGE](http://pastebin.com/HbALuzGE)。我希望 onerror 回调会立即发生（因为 play() 调用 change() 它使用我的 n var），但事实并非如此，但我不知道如何纠正它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T06:25:47.773

将回调视为异步运行函数的方法或方式。通常实现回调包括将函数作为参数或参数传递给现有函数。如果指定，则在满足所施加的条件时将调用第二个函数一次。如果我们想确保第一个函数的执行上下文已经执行，然后才传递给第二个函数，这很有用。这样我们将确保只有在第一个函数完全执行后才访问第二个函数。

使用回调的最佳示例是服务器请求和时间动画，其中确定函数内部执行的方法已完全满足是绝对重要的。这是一个使用回调的非常简单的示例：

```
function start(num1, num2, callback) {
    console.log ("Number 1 is: " + num1 + " and Number 2 is : " + num2);
    sum = num1 + num2;
    if (callback) {
        callback(sum);
    }
}

start(8, 2, function(sum) { console.log ("Sum is: " + sum); }); 
```

我认为你应该简化你的代码。也许我错了，但我认为问题出在定义图像计数器时的最后一个函数中`i`，但是当您传递给`onload`函数时，您正在创建另一个执行上下文/闭包。

**编辑**

分析您的代码，我得出了以下解决方案。您可以使用以下方式遍历图像资产中的图像：

```
var images = [...];

for (var i = 0; i< images.length; i++) {
    var img[i] = new Image();
    img[i].onload = (function(img) {    
        return function () {
          // do something here
        }

        img[i].src = images[i];
    })(i);          
} 
```

...或另一种方式：

```
function loadImages(images, callback) {
    var loadedImages = 0;

    for(var i=0; i< images.length; i++) {
      images[i] = new Image();
      images[i].onload = function() {
        if(++loadedImages >= images.length) {
          callback(images);
        }
      };
      images[i].src = images[i];
    }
  }

  window.onload = function(images) {

    var sources = [...]

    loadImages(sources, function(images) {
      // do something
    });
  }; 
```

在这种情况下，返回函数很重要，因为这样您会将执行委托给另一个函数。希望这会有所帮助，但我必须管理它不太清楚您要做什么。

# javascript - 车把部分上下文

> ID：11839633
> 
> 赞同：3
> 
> 时间：2012-08-07T05:13:59.817
> 
> 标签：javascript, jquery, templates, handlebars.js

我有一个包含社交按钮信息的数组（href、alt、img）。我创建了一个将循环遍历数组并添加对象的部分，这就是我所拥有的。

数组：

```
var social=[
    {

        "url":"http://twitter.com/share?text="+encodeURIComponent(this.title)+" "+encodeURIComponent('#grnsrve')+"&url="+domain+"&via="+twitterAcct,
        "image":"IMG/media/twitter_16.png",
        "alt":"twitter link"
    },
    {
        "url":"http://twitter.com/share?text="+encodeURIComponent(this.title)+" "+encodeURIComponent('#grnsrve')+"&url="+domain+"&via="+twitterAcct,
        "image":"IMG/media/twitter_16.png",
        "alt":"twitter link"
    },
    {
        "url":"http://twitter.com/share?text="+encodeURIComponent(this.title)+" "+encodeURIComponent('#grnsrve')+"&url="+domain+"&via="+twitterAcct,
        "image":"IMG/media/twitter_16.png",
        "alt":"twitter link"
    }
]; 
```

模板：

```
social_partial = '<a href="{{url}}" alt="{{alt}}"><img src="{{image}}"/></a>'; 
```

偏函数：

```
Handlebars.registerPartial('addSocial',social_partial); 
```

和主模板：

```
<div class="tip_social">
    {{>addSocial social}}
</div> 
```

我收到“深度 0 未定义错误”。我尝试寻找有关 parials 获得不同上下文的文档，但我还没有找到它。

**编辑** [这里](http://jsfiddle.net/EjywE/)是一个更完整的小提琴

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-22T22:49:45.343

对我来说同样的问题。一点点挖掘和后来的一个手掌，这就是我发现的。

## tl;博士回答

对于传递给局部的上下文要**非常**小心。如果您以某种方式将 null 或空对象传递给您的部分，您将收到`depth0 is undefined`错误

## 答案稍长

### JSFiddle 示例：

*   depth0 错误被触发[http://jsfiddle.net/paulcollinsiii/dAmfc/](http://jsfiddle.net/paulcollinsiii/dAmfc/)
*   工作版[http://jsfiddle.net/paulcollinsiii/sMAkT/](http://jsfiddle.net/paulcollinsiii/sMAkT/)

工作版本中唯一改变的是我将有效的上下文传递给部分。

顺便说一句，一个非常有用的技巧是使用[此博客中的调试助手](http://blog.teamtreehouse.com/handlebars-js-part-3-tips-and-tricks)

### Answerbot 独裁者“代码示例”

```
<script id="parent">
 <table>
   <thead>
      <tr>
        <th>One</th>
        <th>Two</th>
      </tr>
    </thead>
    <tbody>
    {{#each collection}}
       {{>myPartial nothingHere}} <!-- Broken context -->
    {{/each}}
    </tbody>
 </table>
</script> 
```

上面破坏的上下文将导致车把死亡。对于您的问题，请尝试使用标签深入研究，`{{debug}}`看看是否有帮助。

如需更好的代码示例，请查看 jsFiddles。在这里重新发布所有代码，对其进行格式化以使其看起来更漂亮，并使 StackOverflow answerbot 独裁者感到高兴，这对于在工作中执行此操作有点多 ^_~

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T06:38:08.233

我不确定您做错了什么，因为您没有提供足够的代码来复制您的问题。然而，让它发挥作用并不难。首先，您的主模板应该迭代`social`并将每个元素提供给您的部分，如下所示：

```
<script id="t" type="text/x-handlebars-template">
    {{#each social}}
        <div class="tip_social">
            {{>addSocial this}}
        </div>
    {{/each}}
</script> 
```

然后你可以得到你的 HTML 像这样：

```
​var t    = Handlebars.compile($('#t').html());
var html = t({social: social}));​​ 
```

演示：http: [//jsfiddle.net/ambiguous/SsdbU/1/](http://jsfiddle.net/ambiguous/SsdbU/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-05-11T17:28:35.330

这是我找到的唯一方法：Handlebars doc 表明您需要使用 Block Helpers 来传递不同的上下文。所以这里有两个文件：主模板和节点中的脚本包含两个上下文：主上下文和社交数据的上下文。具有部分模板源的脚本。该块是#twitter_list，其关联的 registerHelper 使用 option.fn(other_context_object) 这似乎是在车把中传递另一个上下文的唯一方法。

主模板：

```
<html>
<head>
<title>Test content</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
    <div id = main>
        <!-- This is using the main context-->
        <h2> Hello {{name}}!</h2>
        <p>{{some_content}}</p>

        <!-- This is using the partial template and its own context -->
        <ul>
        {{#twitter_list}}
            {{>yourpartial}}
        {{/twitter_list}}
        </ul>

    </div>  

</body>
</html> 
```

使用 Node js 的 javascript：

```
var handlebars = require('handlebars'),
fs = require('fs');

const main_context = { name: "world",
                        some_content: "Bla bla bla all my bla bla"};

const twitter_data={social:[
    {
        "url":"some url 1",
        "image":"IMG/media/twitter_1.png",
        "alt":"twitter link 1"
    },
    {
        "url":"some url 2",
        "image":"IMG/media/twitter_2.png",
        "alt":"twitter link 2"
    },
    {
        "url":"some url 3",
        "image":"IMG/media/twitter_3.png",
        "alt":"twitter link 3"
    }
]};

var partial_source = '{{#each social}}<li><a href="{{url}}" alt="{{alt}}"><img src="{{image}}"/></a></li>{{/each}}';

handlebars.registerPartial('yourpartial', partial_source);

handlebars.registerHelper('twitter_list', function(options) {
    //you need to use the options.fn to pass the specific context
    return options.fn(twitter_data);
});

fs.readFile('maintemplate1.hbs', 'utf-8', function(error, source){
  var template = handlebars.compile(source);
  var html = template(main_context);
  console.log(html)
}); 
```

# javascript - 单击时重放 GIF 动画/重新加载 GIF

> ID：11839634
> 
> 赞同：3
> 
> 时间：2012-08-07T05:13:59.867
> 
> 标签：javascript, jquery

我有一个很大的 GIF 动画，我让它显示一个加载图标，直到加载 GIF。一旦加载，GIF 就会显示。效果很好，但我想添加一个“重播”按钮来触发 GIF 重播（重新加载）。

加载和 GIF 的代码：

**HTML**

```
<div id="loader" class="loading img-center"></div> 
```

**CSS**

```
#loader {
 width: 600px;
 height: 450px;
 margin: auto; 
}

#loader.loading {
  background: url(/Images/ajax-loader.gif) no-repeat center center;
  width:32px;
  margin:auto ; 
} 
```

**JS**

```
var $j = jQuery.noConflict();
$j(function () {
  var img = new Image();
  $j(img)
   .load(function () { 
     $j(this).hide();
     $j('#loader') 
      .removeClass('loading')
      .append(this);

  $j(this).fadeIn();
   })
 .error(function () {
   })
 .attr('src', '/2012/images/august/sailboat.gif');
}); 
```

上面的代码工作正常。现在对于不起作用的“重播”或“重新加载”代码：

**HTML**

```
<a id="refresh" href="#"> Replay Animation </a> 
```

**JS**

```
$j(function() {
  $j("#refresh").click(function() {
     $j("#loader").load("/2012/images/august/sailboat.gif")
  })
}) 
```

我知道 JS 有一些错误，但由于我缺乏 JS 技能，我不知道我应该做什么或尝试什么。非常感谢任何帮助或建议！

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T05:19:19.970

检查这个：

```
$j("#refresh").click(function() {
  $j("#loader").find('img').attr("src", "/2012/images/august/sailboat.gif");
}); 
```

与您之前的代码一样，您将图像附加在其中，`#loader`因此`$('#loader').load(..)`将不起作用。在其中找到图像`#loader`，然后更改该`src`图像的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T05:21:24.490

如果需要，您还可以附加时间戳以避免从缓存中加载图像：

```
$j("#refresh").click(function() {
  var timestamp = new Date().getTime();
  $j('#loader').find('img').attr('src', '/2012/images/august/sailboat.gif'+'?'+timestamp);
}); 
```

# php - Jquery onblur第二次不工作

> ID：11839636
> 
> 赞同：2
> 
> 时间：2012-08-07T05:14:06.137
> 
> 标签：php, javascript, jquery, html

我已经构建了一个基于 jQuery PHP 的即时搜索，我使用了一些褪色效果和 onblur 事件，除了单击正文中的任何位置第一次结果消失之外，一切正常，但是如果将鼠标悬停在输入字段上以带来结果然后点击正文结果不会消失，即第二次 onblur 不起作用。

请查看我的代码以更好地理解并建议任何可能的方法来做到这一点。

查询：

```
$(document).ready(function () {

    $('#search-input').keyup(function(){
        var keyword=$(this).val();
        $.get('../search/instant-search.php', {keyword: keyword}, function(data){
            $('#search-result').html(data);
        });
    });

    $('#search-input').keyup(function(){ $('#search-result').fadeIn(400);});
    $('#search-input').blur(function(){$('#search-result').fadeOut(400);});   

    $('#search-input').click(function(){$('#search-result').fadeIn(400);});

    $('#search-input').mouseenter(function(){ $('#search-result').fadeIn(400);});
    $('#search-input').mouseleave(function(){ $('#search-result').fadeOut(400)});

    $('#search-result').mouseenter(function(){ $('#search-result').stop();});
    $('#search-result').mouseleave(function(){ $('#search-result').stop();}); 

}); 
```

HTML：

```
<input name="keyword" type="text" size="50" id="search-input" value = '';" />
<div id="search-result"></div><!--end of search-result--> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:22:42.850

为什么要将这么多事件绑定到#search-result？

如果对您有帮助，请检查以下代码。

```
<script language="javascript" >
     $(document).ready(function () {
     $('#search-input').keyup(function(){
         var keyword=$(this).val();
         $('#search-result').fadeIn(400);
         //$('#search-result').html('ajax result data');
         $.get('../search/instant-search.php', {keyword: keyword}, function(data){
            $('#search-result').html(data);
             });
         }); 
        $('#search-input').bind('blur', function() {
          $('#search-result').fadeOut(400);
        });
        $('#search-input').bind('focus', function() {
          $('#search-result').fadeIn(400);
        });
    });
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:51:28.350

你可以试试这个：

```
$('#search-input').on('blur', function() {
    $('#search-result').fadeOut(400);
});
$('#search-input').on('mouseleave', function() {

    // on mouse leave check that input
    // is focused or not
    // if not focused the fadeOut

    if( !$(this).is(':focus')) {
        $('#search-result').fadeOut(400);
    }
});
$('#search-input').on('focus mouseenter', function() {
    $('#search-result').fadeIn(400);
}); 
```

**[演示](http://jsfiddle.net/U8WaH/27/)**

### 根据评论

```
$('#search-input').on('focus mouseenter', function() {
    $('#search-result').fadeIn(400);
});
$(document).on('click', function(e) {
    if(e.target.id != 'search-input' && e.target.id != 'search-result') {
        $('#search-result').fadeOut(400);
    }
}) 
```

**[演示](http://jsfiddle.net/U8WaH/33/)**

# php - 从表中获取同一字段的重复数据并比较同一表的其他字段

> ID：11839641
> 
> 赞同：1
> 
> 时间：2012-08-07T05:14:54.997
> 
> 标签：php, mysql

![在此处输入图像描述](../Images/dedb0d43061b88d73208bc836b3ad629.png)

我想根据下图从不同的 bomid（1 和 2）中获取重复的 partid。

我已经尝试过加入和拥有子句，但它不起作用。

**期望输出**

```
---------
partid
----------
31 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:29:49.633

尝试这个：

```
SELECT  partID
FROM    myTable
GROUP BY partID
HAVING  COUNT(partID) > 1 
```

**[看这里的小演示（*虽然不同的字段名*）](http://sqlfiddle.com/#!2/febc4/1)**

# php - 禁止下载 PHP 文件

> ID：11839644
> 
> 赞同：3
> 
> 时间：2012-08-07T05:15:08.883
> 
> 标签：php, apache, .htaccess, download

在我的服务器中，我想显示文件夹中可用的 php 文件列表。但我不想让我的用户复制或保存它们，只是能够打开 PHP 文件。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T05:26:59.043

您可以使用 列出特定目录中的所有文件`glob()`。

```
//here, I will grab all PHP file names, and throw them into a assoc array:
$fileArr = glob('path/*.php');

foreach($fileArr as $val)
{

echo $val."<br>";

}

//now you have all your file names listed 
```

为了防止用户`http`向他们发出请求，您使用`htaccess`：

做一个 。`htaccess`文件位于您的文件所在的目录中并将其粘贴到其中：

`deny from all`

现在，没有人可以`http`向该目录中的文件发出请求。

为什么你要这样做，这是任何人的猜测。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:18:54.417

除非您在执行时的意思是“打开”，否则您应该意识到，就 Web 服务器而言，完全不可能弄清楚用户的意图。好像浏览器不会获取文件并说“这是用于保存”和“这是用于执行”。

这意味着用户必须以一种或另一种方式下载文件，无论他们最终将使用该文件做什么。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T05:18:07.083

事实上，如果用户使用他的计算机打开一个 PHP 文件，用户已经拥有该文件，他/她当然可以复制/保存它。

# c# - 如何请求操作系统在 C# 中发送电子邮件？

> ID：11839647
> 
> 赞同：0
> 
> 时间：2012-08-07T05:15:26.583
> 
> 标签：c#, windows, visual-studio-2010

如何请求操作系统发送带有特定主题、正文和附件的电子邮件？操作系统应该启动预加载字段的默认电子邮件客户端吗？

具体来说，C#.net 中有哪些 API 函数可用？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T05:22:47.777

由于您希望 Outlook 发送电子邮件，请将端口号和主机替换为 Outlook 的端口号和主机。

打开带有预加载字段的 Outlook：

```
using System.Diagnostics;
// ...
Process.Start(String.Format("mailto:{0}?subject={1}&cc={2}&bcc={3}&body={4}", address, subject, cc, bcc, body)) 
```

直接发送电子邮件：

```
using System.Net;
using System.Net.Mail;
// ...
var fromAddress = new MailAddress("from@gmail.com", "From Name");
var toAddress = new MailAddress("to@example.com", "To Name");
const string fromPassword = "fromPassword";
const string subject = "Subject";
const string body = "Body";

var smtp = new SmtpClient {
    Host = "smtp.gmail.com",
    Port = 587,
    EnableSsl = true,
    DeliveryMethod = SmtpDeliveryMethod.Network,
    UseDefaultCredentials = false,
    Credentials = new NetworkCredential(fromAddress.Address, fromPassword)
};
using(var message = new MailMessage(fromAddress, toAddress) {
    Subject = subject,
    Body = body
})
{
    smtp.Send(message);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:28:17.127

这是一个简单的方法，

```
public void SendEmail(string address, string subject, string message)
{
string email = "yrshaikh.mail@gmail.com";
string password = "put-your-GMAIL-password-here";

var loginInfo = new NetworkCredential(email, password);
var msg = new MailMessage();
var smtpClient = new SmtpClient("smtp.gmail.com", 587);

msg.From = new MailAddress(email);
msg.To.Add(new MailAddress(address));
msg.Subject = subject;
msg.Body = message;
msg.IsBodyHtml = true;

smtpClient.EnableSsl = true;
smtpClient.UseDefaultCredentials = false;
smtpClient.Credentials = loginInfo;
smtpClient.Send(msg);
} 
```

来源：[链接](http://yassershaikh.com/how-to-send-email-in-asp-net-c-mvc-3-with-sample-working-code/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T05:17:42.660

这是一个简单的系统适配器`SmtpClient`，可以简化您的测试。

```
 public class SmtpClientAdapter : ISmtpClient
    {
    private bool disposed;

    private SmtpClient smtpClient = new SmtpClient();

    public SendResult Send(MailMessage message)
    {
        if (disposed)
        {
            throw new ObjectDisposedException(GetType().FullName);
        }

        try
        {
            smtpClient.Send(message);
            return SendResult.Successful;
        }
        catch (Exception e)
        {
            return new SendResult(false, e.Message);
        }
    }

    public void Dispose()
    {
        Dispose(true);
        GC.SuppressFinalize(this);
    }

    protected virtual void Dispose(bool disposing)
    {
        if (disposed)
        {
            return;
        }

        if (disposing)
        {
            if (smtpClient != null)
            {
                smtpClient.Dispose();
                smtpClient = null;
            }
        }

        disposed = true;
    }
}

public class SendResult : SimpleResult
    {
        public SendResult(bool success, string message)
            : base(success, message)
        {
        }

        public static SendResult Successful
        {
            get
            {
                return new SendResult(true, string.Empty);
            }
        }
    } 
```

用法

```
 var emailFrom = new MailAddress(sender);
        var emailTo = new MailAddress(recipient);

        var mailMessage = new MailMessage(emailFrom, emailTo)
        {
            Subject = "Subject ",
            Body = "Body"
        };

        using (var client = new SmtpClientAdapter())
        {
            return client.Send(mailMessage);
        } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T05:35:31.520

不提供用于此的操作系统 API 函数。

# iphone - 两个调整大小的选择器。一个失去触摸输入

> ID：11839649
> 
> 赞同：0
> 
> 时间：2012-08-07T05:16:05.073
> 
> 标签：iphone, resize, touch, uipickerview

对于此线程上公认的解决方案： [如何在 iPhone 上缩小 UIPickerView？](https://stackoverflow.com/questions/905969/how-do-you-shrink-a-uipickerview-on-the-iphone)

我可以成功地重新调整选择器的大小。但是我的控制器中有两个选择器。当我对两个选择器进行练习时，它们会重新调整大小，但是当将转换后的 UIView 添加到主视图时，转换后的子视图之一会丢失触摸输入。丢失触摸输入的总是首先添加的子视图。我怎样才能解决这个问题？

这是代码：

```
CGSize providerPickerSize = [providerPickerOutlet sizeThatFits:CGSizeZero];
CGSize amountPickerSize = [amountPickerOutlet sizeThatFits:CGSizeZero];

UIView *providerPickerTransformView = [[UIView alloc] initWithFrame:CGRectMake(0.0f, 0.0f, providerPickerSize.width, providerPickerSize.height)];
UIView *amountPickerTransformView = [[UIView alloc] initWithFrame:CGRectMake(0.0f, 0.0f, amountPickerSize.width, amountPickerSize.height)];

providerPickerTransformView.transform = CGAffineTransformMakeScale(0.75f, 0.75f);
amountPickerTransformView.transform = CGAffineTransformMakeScale(0.75f, 0.75f);

[providerPickerTransformView addSubview:providerPickerOutlet];
[amountPickerTransformView addSubview:amountPickerOutlet];

[self.view addSubview:amountPickerTransformView];
[self.view addSubview:providerPickerTransformView]; 
```

这里的 amountPickerTransformView 失去了触摸输入。

使用带有故事板的 XCode 4.3、iOS 5。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:29:24.893

失去联系的第一个添加视图的原因是，

您有两个相同框架的视图，一个是`providerPickerTransformView`，另一个是`amountPickerTransformView`。

现在 amountPickerTransformView 在视图下方`providerPickerTransformView`。所以选择器增加了`amountPickerTransformView`不触摸。

您需要每个视图的调整框架，其中包含Picker Arpropriatley。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:41:26.877

只需更改第二个视图的 x 和 y，即您想要的视图到第一个视图的左侧。如下

```
UIView *providerPickerTransformView = [[UIView alloc] initWithFrame:CGRectMake(0.0f, 0.0f, providerPickerSize.width, providerPickerSize.height)];
UIView *amountPickerTransformView = [[UIView alloc] initWithFrame:CGRectMake(providerPickerSize.width, 0.0f, amountPickerSize.width, amountPickerSize.height)]; 
```

快乐编码:)

**编辑 1**

我在您的代码中可以找到的问题是

```
CGSize providerPickerSize = [providerPickerOutlet sizeThatFits:CGSizeZero];
CGSize amountPickerSize = [amountPickerOutlet sizeThatFits:CGSizeZero]; 
```

将`CGSizeZero`这两行替换为

```
CGSizeMake(CGFloat width, CGFloat height) 
```

这肯定会解决你的问题。

快乐编码:)

# css - 是否可以使用 CSS 调整字体的垂直缩放？

> ID：11839655
> 
> 赞同：62
> 
> 时间：2012-08-07T05:16:42.517
> 
> 标签：css, fonts, scaling, embedded-fonts

我正在为网站上的顶部导航元素使用嵌入式字体， `Helvetica65`它`16px`是完美的宽度，但我需要它大约`90%`是它的当前高度。

在 Photoshop 中，解决方案很简单 - 调整垂直缩放。

有没有办法使用 CSS 做本质上相同的事情？如果是这样，它的支持程度如何？

这是基本导航编码的[jsFiddle](http://jsfiddle.net/Jd5Y7/)。

* * *

## 回答 #1

> 赞同：106
> 
> 时间：2013-05-08T18:36:56.557

`transform`属性可用于缩放文本：

```
.menu li a {
  color: #ffffff;
  text-transform: uppercase;
  text-decoration: none;
  font-family: "HelveticaNeue-Medium", sans-serif;
  font-size: 14px;
  display: inline-block;
  transform: scale(1, 1.5);
  -webkit-transform: scale(1, 1.5); /* Safari and Chrome */
  -moz-transform: scale(1, 1.5); /* Firefox */
  -ms-transform: scale(1, 1.5); /* IE 9+ */
  -o-transform: scale(1, 1.5); /* Opera */
} 
```

# iphone - 从 MFMessageComposeViewController 获取消息正文和收件人列表

> ID：11839661
> 
> 赞同：2
> 
> 时间：2012-08-07T05:17:20.000
> 
> 标签：iphone, objective-c, xcode, mfmessagecomposeview

发送 SMS 后（在 didFinishWithResult 回调委托中）是否有合法的方法从 MFMessageComposeViewController 获取正文和收件人列表？

我有一个发送短信并将其保存在历史记录中的应用程序。我正在使用 MFMessageComposeViewController 发送短信。为了将消息正确保存到历史记录并执行搜索，这是必需的。

*   我知道在显示控制器后无法更改正文和收件人列表，我想获取它们。
*   我知道有手机的短信历史记录 - 但由于应用程序的特定功能根据消息正文，我需要在我的应用程序历史记录中使用它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T06:07:21.363

有一个官方的“合法”标准方法可以做到这一点：

```
- (void)messageComposeViewController:(MFMessageComposeViewController *)controller didFinishWithResult:(MessageComposeResult)result {

    NSString *sms = controller.body; 
```

与`controller.recipients`...相同

# ruby-on-rails - 如何在 Rails 中检索图像的 EXIF 信息

> ID：11839664
> 
> 赞同：22
> 
> 时间：2012-08-07T05:17:51.423
> 
> 标签：ruby-on-rails, ruby, paperclip, exif

我正在使用 Rails 回形针在我的页面中显示图像。我想知道如何检索图像的 EXIF 信息（如尺寸、相机型号、高度、宽度等）。谁能帮帮我？？？

谢谢！！！

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-08-07T06:13:23.883

你[试过 exifr](https://github.com/remvee/exifr/) gem 吗？从文档

```
EXIFR::JPEG.new('IMG_6841.JPG').width               # => 2272
EXIFR::JPEG.new('IMG_6841.JPG').height              # => 1704
EXIFR::JPEG.new('IMG_6841.JPG').exif?               # => true
EXIFR::JPEG.new('IMG_6841.JPG').model               # => "Canon PowerShot G3"
EXIFR::JPEG.new('IMG_6841.JPG').date_time           # => Fri Feb 09 16:48:54 +0100 2007
EXIFR::JPEG.new('IMG_6841.JPG').exposure_time.to_s  # => "1/15"
EXIFR::JPEG.new('IMG_6841.JPG').f_number.to_f       # => 2.0 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2014-10-31T04:26:16.293

有 3 颗宝石可以做到这一点：

1.  [mini_exiftool](https://github.com/janfri/mini_exiftool) : ExifTool 命令行包装器
2.  [exifr](https://github.com/remvee/exifr) : 纯红宝石
3.  [exif](https://github.com/tonytonyjan/exif) : C 扩展（由我）

如果你想编写或编辑EXIF标签，你应该选择mini_exiftool，它更强大但很慢，如下图所示，exif比exifr快8倍，比mini_exiftool快1200倍。

基准：

```
require 'benchmark'
require 'mini_exiftool'
require 'exifr'
require 'exif'

N = 50
FILE_PATH = File.expand_path('../../spec/sample.jpg', __FILE__)
Benchmark.bmbm do |x|
  x.report 'mini_exiftool' do
    N.times{ MiniExiftool.new(FILE_PATH).image_width }
  end
  x.report 'exifr' do
    N.times{ EXIFR::JPEG.new(FILE_PATH).width }
  end
  x.report 'exif' do
    N.times{ Exif::Data.new(FILE_PATH).image_width }
  end
end 
```

输出：

```
Rehearsal -------------------------------------------------
mini_exiftool   0.150000   0.050000  12.390000 ( 12.546417)
exifr           0.090000   0.000000   0.090000 (  0.091090)
exif            0.010000   0.000000   0.010000 (  0.010343)
--------------------------------------- total: 12.490000sec
                    user     system      total        real
mini_exiftool   0.150000   0.050000  12.400000 ( 12.540122)
exifr           0.080000   0.000000   0.080000 (  0.083251)
exif            0.010000   0.000000   0.010000 (  0.009855) 
```

mini_exiftool 只检索数据有点矫枉过正。所以在你的情况下，我认为你应该在 JRuby 中使用 exifr，或者在 MRI 中尝试 exif。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-08-07T06:33:24.680

您可以尝试[mini_exiftool](https://github.com/janfri/mini_exiftool) gem，它是[exiftool](http://www.sno.phy.queensu.ca/~phil/exiftool/)命令行工具的包装器。

虽然 gem 要求您实际安装命令行工具，但结果是您获得了**更多**的功能。与只支持 JPG 和 TIF 文件的 exifr 相比，exiftool 支持[大量的文件格式](http://www.sno.phy.queensu.ca/~phil/exiftool/#supported)。它还支持exif数据的读写，*而*exifr只支持读取。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T06:58:37.980

```
after_photo_post_process :copy_exif_data 
  private 
  def copy_exif_data 
    exif =EXIFR::JPEG.new(photo.queued_for_write[:original]) 
    self.exif_value = exif
  end 
```

这是我使用的工作代码。

# wordpress - 在 wordpress 的新页面中打开类别帖子

> ID：11839665
> 
> 赞同：0
> 
> 时间：2012-08-07T05:17:57.417
> 
> 标签：wordpress

1.  我正在使用选项卡菜单在侧边栏中显示我的类别帖子。
2.  那里我共同使用阅读更多链接，我希望我的阅读更多申请我的每个选项卡（类别帖子）并单击阅读更多，我希望我的选项卡的更多内容在新页面中打开。
3.  我正在使用的代码 -

    ```
     <?php while (have_posts()) : the_post(); ?>

        <!-- Do special_cat stuff... -->

        <?php the_content('more',TRUE,'');?>

        <p align="right" class="txt_caps txt_small txt_bold"><a href="#">&raquo; Read More</a></p> 
    ```

4.  我不知道在我的 href="#" 中使用什么，这样我就可以在点击标签的新页面中打开我的特定帖子。

5.  在此先感谢。这是我在 Wordpress 中的第一个实时项目。所以，我对 Wordpress 有点陌生。任何进一步的细节，你可以问我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T08:30:05.573

新选项卡使用`target="_blank"`
在`href=""`您想要去的位置打开。

# iphone - 检查视图控制器的标签栏成员是我的视图控制器吗？

> ID：11839672
> 
> 赞同：0
> 
> 时间：2012-08-07T05:18:42.573
> 
> 标签：iphone, ios, uiviewcontroller, uitabbarcontroller

如何检查标签栏中指定的视图控制器索引是否是我的视图控制器？

我已经完成了以下代码：

```
if(((UIViewController*)[self.tabBarController.viewControllers objectAtIndex:2]) == BookmarkViewController) 
```

但它给出了错误：

> 意外的接口名称“BookmarkViewController”：预期的表达式

检查它的正确方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:23:29.680

您可以将其转换为以下有效的代码行：

```
if([[self.tabBarController.viewControllers objectAtIndex:2] isKindOfClass:[BookmarkViewController class]]) 
```

# mysql - 基于添加的朋友显示评论的复杂查询

> ID：11839675
> 
> 赞同：1
> 
> 时间：2012-08-07T05:18:59.913
> 
> 标签：mysql, sql

我的网站有一个很大的问题。我有一个表单，更像是用于提交评论的文本框，这不是问题。问题是显示评论。我想*根据用户添加的朋友来显示评论，*就像 facebook、twitter 一样。

我有 3 张桌子：`photo_tb`, `comment_tb`, `friendship_tb`.

`friendship_tb`包含列**名称**、**朋友**。*name*存储您的电子邮件，*friend 存储*您添加的人的电子邮件....

我需要`photo_tb`获取发表评论的人的照片，并且我成功使用了 mysql 加入。

在我的`comment_tb`...中，我收到了在我的commentname 列中发表评论的人的电子邮件以及该人发表的评论...

我想通过 ffriendship 显示评论，例如 A 先生添加 B 先生和 c 先生 .. 当 A 先生登录时，他应该只收到 B 先生和 c 先生的评论，而他的评论没有 G 先生或 H 先生的评论。

这就是我到目前为止所拥有的

```
SELECT
     comment_tb.comment_id
   , comment_tb.comname
   , comment_tb.comment
   , comment_tb.time
   , photo_tb.name
   , photo_tb.photo
   , friendship.name
   , friendship.member
FROM comment_tb, photo_tb, friendship
WHERE
        comment_tb.comname=photo_tb.name
    and friendship.name = colname 
```

colname 是 MM_Username 的变量，登录时的 session 变量旨在显示与您相关的评论。

sql语句成功将图片附加到每个评论名称，但不限制评论仅限添加的朋友。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T06:52:15.503

添加`and friendship.member = comment_tb.comname`.

顺便说一句，如果您的 SQL 中的列名与您在描述中所说的相符，那就太好了。我只是猜测这`friendship.member`就是你`friend`在文中所说的。

# android - 如何解析和格式化 Google Directions JSON？

> ID：11839681
> 
> 赞同：0
> 
> 时间：2012-08-07T05:19:39.550
> 
> 标签：android, json, string, parsing, formatting

我正在尝试从此[链接](http://maps.googleapis.com/maps/api/directions/json?origin=33.7489,-84.3881&destination=33.7514,-84.7478&sensor=false)的“steps”数组中解析“html_instructions”字符串：

我解析字符串没有问题，但它返回时混合了一些代码。例如，解析的字符串：

```
"html_instructions" : "Head \u003cb\u003esouthwest\u003c/b\u003e toward \u003cb\u003eCapitol Square SW\u003c/b\u003e", 
```

表现为：

```
Head<br>southwest"</br>"towards<br>... 
```

而不是简单地显示为：

```
Head southwest towards... 
```

有没有办法可以格式化字符串以删除“中断”？任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T05:25:10.183

您可以使用**正则表达式**从您的内容中删除`HTML`标签。

```
 String htmlString = "Head<br>southwest</br>towards<br>...";
  String noHtml = htmlString.replaceAll("<[^>]*>", ""); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:26:42.110

寻找这个问题的答案。

[如何在 JavaScript 中转换 unicode？](https://stackoverflow.com/questions/9932895/how-to-convert-unicode-in-javascript)

基本上响应是 Unicode，因此 < 由 \u003c & > 由 \u003e 表示，您可以使用字符串操作将这些字符串替换为适当的承租人。

尝试做这样的事情

```
String parseResponse = response.replaceAll("\u003c","<"); 
```

这将使您的字符串采用正确的 html 格式。

# xml - 如何使用 XSL 将所有内容包装在具有新节点的指定 XML 元素中？

> ID：11839690
> 
> 赞同：1
> 
> 时间：2012-08-07T05:21:20.093
> 
> 标签：xml, xslt, xpath-1.0

因此，考虑到这个 XML：

```
<root>
    <table>
      <tr>
        <td>asdf</td>
        <td>qwerty</td>
        <td>1234 <p>lorem ipsum</p> 5678</td>
      </tr>
    </table>
<root> 
```

...我怎样才能把它变成这样？

```
<root>
    <table>
      <tr>
        <td><BLAH>asdf</BLAH></td>
        <td><BLAH>qwerty</BLAH></td>
        <td><BLAH>1234 <p>lorem ipsum</p> 5678</BLAH></td>
      </tr>
    </table>
</root> 
```

然后，每个实例都  `<td>`  将包含该  `<BLAH>` 元素，并且每个实例的内容都  `<td>`  将在新节点中。

* * *

...到目前为止，我有这个 XSL，它  `<td>`  用新节点包装每个元素，但在*外面*而不是在*里面*：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:output omit-xml-declaration="yes" indent="yes" method="xml"/>
<xsl:strip-space elements="*"/>

    <!-- identity rule -->
    <xsl:template match="node()|@*">
        <xsl:copy>
            <xsl:apply-templates select="node()|@*"/>
        </xsl:copy>
    </xsl:template>

    <xsl:template match="table//td">
        <BLAH>
            <xsl:copy>
                <xsl:apply-templates select="@*"/>
                <xsl:apply-templates select="node()"/>
            </xsl:copy>
        </BLAH>
    </xsl:template>
</xsl:stylesheet> 
```

...这产生了这种***不希望***的结果：

```
<root>
  <table>
    <tr>
      <BLAH><td>asdf</td></BLAH>
      <BLAH><td>qwerty</td></BLAH>
      <BLAH><td>1234 <p>lorem ipsum</p> 5678</td></BLAH>
    </tr>
  </table>
</root> 
```

在[http://xslt.online-toolz.com/tools/xslt-transformation.php测试](http://xslt.online-toolz.com/tools/xslt-transformation.php)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:26:39.760

只需移动`<BLAH>`到内部`xsl:copy`：

```
<xsl:template match="td">
    <xsl:copy>
        <xsl:apply-templates select="@*"/>
        <BLAH>
            <xsl:apply-templates select="node()"/>
        </BLAH>
    </xsl:copy>
</xsl:template> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:27:37.173

尝试这个...

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output omit-xml-declaration="yes" indent="yes" method="xml" />
    <xsl:strip-space elements="*" />

    <xsl:template match="@*|node()">
        <xsl:copy>
            <xsl:apply-templates select="@*|node()" />
        </xsl:copy>
    </xsl:template>
    <xsl:template match="td">
        <xsl:copy>
            <BLAH>
                <xsl:apply-templates select="@*|node()" />
            </BLAH>
        </xsl:copy>
    </xsl:template>
</xsl:stylesheet> 
```

# android - android画布上的Fling实现

> ID：11839692
> 
> 赞同：7
> 
> 时间：2012-08-07T05:21:25.113
> 
> 标签：android, android-canvas, gesture, onfling

我有用于检测 fling 的常用手势检测器，它是 a 的实例属性`SurfaceView`

```
GestureDetector flingDetector = new GestureDetector(getContext(),new SimpleOnGestureListener() {

        @Override
        public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
                    // Fling implementation
            return true;
        }
}); 
```

我在 a 上绘制了很多复杂的东西，`canvas`并且我有一个`translate(dx,dy)` 与`onScroll`.

所以我的问题是如何使用该`translate`方法实现投掷？

似乎有很多关于检测 fling 的问题，我的问题是关于实施它。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-05-18T16:16:28.723

我不确定这会回答你的问题，我会试一试。

检查[http://developer.android.com/reference/android/view/MotionEvent.html](http://developer.android.com/reference/android/view/MotionEvent.html)以获取 MotionEvent。

您可以在 onFling 方法上使用作为 e1 和 e2 接收的两个事件，并使用 e1.getX()、e2.getX()、e1.getY()、e2.getY()...计算坐标差。您可以将 dx 和 dy 与 translate(dx,dy) 一起使用。

由于 fling 看起来更像是一种动态手势，因此您可以确定 fling 意味着更大的运动，并对 dx 和 dy 应用放大因子，这样当用户滚动时，他们会得到精确的运动，但在 fling 上，实际的运动被放大。

如果这个因素取决于速度，那么您对每个用户输入都有一个自定义响应。

（另一件事是为结果设置动画，我想这取决于其他事情）。

如果是我，我可能会尝试的一个例子：

*   用户轻轻滚动：运动为 dx,dy。翻译（dx，dy）。
*   用户投掷：
    真实运动：dx=(e2.getX()-e1.getX().dy = (e2.getY()-e1.getY()。投掷因子：（自定义实现）。修改后的运动：dxModified = dx *velocityX*F.dyModified = dy*velocityY*F. 最后：翻译 (dxModified,dyModified)

    希望这在一定程度上有所帮助。

    编辑：我没有意识到这个问题是从 2012 年开始的，希望这会对某人有所帮助。无论如何，很高兴知道最终的实现！

# stack - LAMP Stack 显示我删除的“Sencha Docs”网页内容

> ID：11839696
> 
> 赞同：-1
> 
> 时间：2012-08-07T05:22:06.880
> 
> 标签：stack, touch, extjs, webpage, lamp

所以我正在考虑进入“sencha Touch”，这是一个为制作移动应用程序而构建的框架。我决定不删除并删除 /var/www 文件夹中的所有文件，但现在每当我在网络浏览器中访问 localhost 时，它仍然会显示 Sencha Touch Docs。如果您现在不明白我在说什么，请转到此处： [http](http://www.sencha.com/products/touch/download/) ://www.sencha.com/products/touch/download/ 下载文件并将其解压缩到您的灯 /var/www 中，您会看到我在说什么，弹出的网页我删了也不会消失！:( 谢谢大家，迈克尔。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T20:30:36.133

重启你的电脑。重新启动您的服务器。重新启动所有的东西。然后去检查你的网络根在哪里。

# reportlab - 换行文本不适用于 reportlab SimpleDocTemplate

> ID：11839697
> 
> 赞同：4
> 
> 时间：2012-08-07T05:22:12.423
> 
> 标签：reportlab

嗨，我是报告实验室的新手。我想生成一个包含表格的 pdf 报告。表中的某些列文本大于列宽现在我想根据列宽换行文本。

以下是我编写的代码

```
# Imports
from reportlab.pdfgen import canvas
from reportlab.lib.pagesizes import letter
from reportlab.lib.styles import getSampleStyleSheet
from reportlab.lib.units import inch
from reportlab.lib import colors
from reportlab.platypus import Paragraph, Frame, Spacer, Image, Table, TableStyle, SimpleDocTemplate
from reportlab.lib.enums import TA_JUSTIFY, TA_LEFT, TA_CENTER

# My data
result1 = [1,2,3,4,5,6000000000000000000000000000000000000000000000000]
result2 = [10,20,30,40,50,60]
result3 = [100,200,300,400,500,600000000000000000000000000000000000000000000000000]

# create a list and add the elements of our document (image, paragraphs, table) to it
story = []

# define the style for our paragraph text
styles = getSampleStyleSheet()
styleN = styles['Normal']
styleN.alignment = TA_CENTER
styleT = styles['Title']
styleB = styles["BodyText"]
styleB.alignment = TA_LEFT

# first add the Title of the report
pTitle = Paragraph('<font size="30" color="darkblue">Report</font>', styleT)
story.append(pTitle)
story.append(Spacer(1, .5*inch))

# User details
story.append(Paragraph("<font color='darkblue'><b>Name : </b></font>" + "<user name>", styleN))
story.append(Spacer(1, .1*inch))

story.append(Paragraph("<font color='darkblue'><b>e-mail : </b></font>" + "<user email id>", styleN))
story.append(Spacer(1, 1*inch))

# Create Table
tabledata = [[Paragraph('object',styleN),Paragraph('titletitletitletitletitletitletitletitletitletitletitle',styleN),Paragraph('description',styleN),Paragraph('latitude',styleN),Paragraph('longitude',styleN),Paragraph('mywlink',styleN)],
             [Paragraph(str(x),styleB) for x in result1],[Paragraph(str(x),styleB) for x in result2],[Paragraph(str(x),styleB) for x in result3]]#,

colwidths = (80, 100, 100, 75, 75, 100)
GRID_STYLE = TableStyle(
    [('GRID', (0,0), (-1,-1), 0.25, colors.black),
     ('ALIGN', (1,1), (-1,-1), 'LEFT'),
     ('TEXTCOLOR',(0,0), (-1,0), colors.darkblue)
]
    )
t = Table(tabledata, colwidths, None, style=GRID_STYLE)

##t.setStyle(GRID_STYLE)
t.hAlign='LEFT'
story.append(t)
story.append(Spacer(1,.5*inch))

#build our document with the list of flowables we put together
doc = SimpleDocTemplate('myReport.pdf',pagesize = letter, leftMargin=0.5*inch, topMargin=0.3*inch)
doc.build(story) 
```

请在这个问题上帮助我，并在此先感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T10:13:09.133

一般来说，Paragraph 本身实际上是一个“文字包装”。如果您使用更现实的测试方法，例如，使用[Loren Ipsum](http://www.lipsum.com/) Texts。然后所有文本都将在列的宽度内。因此，具有如此长字符串的单词是不实用的。

假设您确实有一个很长的单词，如上所示。仍有办法做到这一点。您需要为您的样式定义 wordWrap 属性。在声明样式后添加以下代码。

```
styleB.wordWrap = 'CJK' 
```

或者

```
styleN.wordWrap = 'CJK' 
```

WordWrap 设置为“CJK”以获取亚洲语言换行。这个自动换行只是寻找行尾并自动换行。

对于您的解决方案，我将使用 wordWrap 'LTR' 作为文本和 wordWrap 使用 'CJK' 的长且永无止境的数字

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-05-22T14:49:21.850

```
#Following code will work with SimpleDocTemplate,Table, Paragraph

from reportlab.platypus import SimpleDocTemplate 
from reportlab.lib.styles import getSampleStyleSheet, ParagraphStyle`

#Below 2 line code is important in wrapping text

styles = getSampleStyleSheet() 
styles.add(ParagraphStyle(name="ParagraphStyleName",alignment=TA_JUSTIFY,fontName= 
"Your-Font Name"))

#If your reading data from csv and adding to table follow the below code.
#or
#You can add your data to paragraph as shown below with paragraph style.
#Encoding used for mycode you can negelct it.

main_table_data=[]
with open("preinspection_checklist.csv",encoding="utf8") as f:
        csvdata=csv.reader(f,delimiter=",")
        for row in csvdata:

             data=[
                Paragraph(row[0],styles["ParagraphStyleName"]),
                Paragraph(row[1],styles["ParagraphStyleName"]),
                Paragraph(row[2],styles["ParagraphStyleName"]),
               Paragraph(row[3],styles["ParagraphStyleName"]),
               Paragraph(row[4],styles["ParagraphStyleName"])
             ]

          main_table_data.append(data)

elements=[]
main_table=Table(main_table_data,colWidths= your_column_width,rowHeights= 
your_row_height,repeatRows=1)

#Here define your table style

main_table.setStyle(your_main_table_style)
elements.append(main_table)
pdf.build(elements) 
```

# php - PHP数组到javascript数组

> ID：11839703
> 
> 赞同：0
> 
> 时间：2012-08-07T05:23:03.047
> 
> 标签：php, javascript, arrays, multidimensional-array

假设，我在 php 中有这个数组

```
$cities=array(
    "Caracas"=>array(
        "air"=>array(
            "4","3-5 Working Days","Saturday"
        ),
        "sea"=>array(
            "18","3-5 Days","Wednesday"
        )
    ),
    "Los Teques"=>array(
        "air"=>array(
            "4","3-5 Working Days","Saturday"
        ),
        "sea"=>array(
            "18","3-5 Days","Wednesday"
        )
    ),
    "La Victoria"=>array(
        "air"=>array(
            "4","3-5 Working Days","Saturday"
        ),
        "sea"=>array(
            "18","3-5 Days","Wednesday"
        )
    ),
    "Maracay"=>array(
        "air"=>array(
            "4","3-5 Working Days","Saturday"
        ),
        "sea"=>array(
            "18","3-5 Days","Wednesday"
        )
    ),
    "Tejeria"=>array(
        "air"=>array(
            "4","3-5 Working Days","Saturday"
        ),
        "sea"=>array(
            "18","3-5 Days","Wednesday"
        )
    ),
    "La Encrucijada"=>array(
        "air"=>array(
            "4","3-5 Working Days","Saturday"
        ),
        "sea"=>array(
            "18","3-5 Days","Wednesday"
        )
    ),
    "Cagua"=>array(
        "air"=>array(
            "4","3-5 Working Days","Saturday"
        ),
        "sea"=>array(
            "18","3-5 Days","Wednesday"
        )
    ),
    "Turmero"=>array(
        "air"=>array(
            "4","3-5 Working Days","Saturday"
        ),
        "sea"=>array(
            "18","3-5 Days","Wednesday"
        )
    ),
    "San Mateo"=>array(
        "air"=>array(
            "4","3-5 Working Days","Saturday"
        ),
        "sea"=>array(
            "18","3-5 Days","Wednesday"
        )
    ),
    "Margarita"=>array(
        "air"=>array(
            "4","3-5 Working Days","Saturday"
        ),
        "sea"=>array(
            "18","3-5 Days","Wednesday"
        )
    ),
    "Valencia"=>array(
        "air"=>array(
            "4","3-5 Working Days","Saturday"
        ),
        "sea"=>array(
            "18","3-5 Days","Wednesday"
        )
    ),

    // another section

    "Puerto la Cruz"=>array(
        "air"=>array(
            "4.50","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "19","4-6 Days","Wednesday"
        )
    ),
    "Lecheria"=>array(
        "air"=>array(
            "4.50","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "19","4-6 Days","Wednesday"
        )
    ),
    "Bacelona"=>array(
        "air"=>array(
            "4.50","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "19","4-6 Days","Wednesday"
        )
    ),
    "Guanta"=>array(
        "air"=>array(
            "4.50","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "19","4-6 Days","Wednesday"
        )
    ),
    "Puerto Piritu"=>array(
        "air"=>array(
            "4.50","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "19","4-6 Days","Wednesday"
        )
    ),

    // another section

    "Cumana"=>array(
        "air"=>array(
            "5.50","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "19.50","4-6 Days","Wednesday"
        )
    ),
    "Anaco"=>array(
        "air"=>array(
            "5.50","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "19.50","4-6 Days","Wednesday"
        )
    ),
    "Cantaura"=>array(
        "air"=>array(
            "5.50","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "19.50","4-6 Days","Wednesday"
        )
    ),
    "El Tigre"=>array(
        "air"=>array(
            "5.50","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "19.50","4-6 Days","Wednesday"
        )
    ),

    // another section

    "Maturin"=>array(
        "air"=>array(
            "6","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "20","4-6 Days","Wednesday"
        )
    ),
    "Punta de Mata"=>array(
        "air"=>array(
            "6","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "20","4-6 Days","Wednesday"
        )
    ),
    "Ciudad Bolivar"=>array(
        "air"=>array(
            "6","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "20","4-6 Days","Wednesday"
        )
    ),
    "Puerto Ordaz"=>array(
        "air"=>array(
            "6","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "20","4-6 Days","Wednesday"
        )
    ),
    "Carupano"=>array(
        "air"=>array(
            "6","5-10 Working Days","Saturday"
        ),
        "sea"=>array(
            "20","4-6 Days","Wednesday"
        )
    ),

); 
```

如何将其转换为每个键相同的 javascript？我想要 javascript 中的相同数组

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-07T05:24:51.367

试试[`json_encode()`](http://php.net/json_encode)。JSON 是 php<->javascript 数据传输的第一个、最好的和唯一的答案。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-07T05:31:18.150

```
<script>var cities = <?php echo json_encode($cities); ?>;</script> 
```

然后访问数据

```
<script>
  cities['San Mateo']['Air'][0]; // 4
  cities['San Mateo']['Air'][1]; // 3-5 Working Days
  // etc

  // looping
  for( var key in cities) {
    // key = city name
  }
</script> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T05:24:33.787

您可以使用[`json_encode`](http://php.net/manual/en/function.json-encode.php)将数组转换为 JSON：

```
echo json_encode($cities);
exit; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T05:32:04.153

PHP

```
echo json_encode($cities); 
```

jQuery

```
$.getJSON("php_file.php",function(data) {
    // "data" is the echoed encoded array from the php file.

    // "array"."city name"."'air' or 'sea'"."number value that is in the PHP file"
    data.Caracas.air.4 // this is how you access the data inside the array
}); 
```

# html - 水平列表自动换行

> ID：11839710
> 
> 赞同：1
> 
> 时间：2012-08-07T05:23:30.120
> 
> 标签：html, css, list, word-wrap

所以我有一个有 4 个项目的 ol。当没有足够的空间来显示所有这些时，我希望它换行到下一行，但只在列表的中心

所以我有

```
<ol>
<li>A</li>
<li>B</li>
<li>C</li>
<li>D</li>
</ol> 
```

它像这样显示，

```
A B C D 
```

但是，当我缩小页面时，我希望它显示为

```
A B
C D 
```

代替

```
A B C
D 
```

所以我需要在 BC 之间放一些东西，但我不知道是什么。感谢您的任何帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:38:44.857

你可以这样写标记：

**HTML**

```
<ol>
 <ul>
    <li>A</li>
    <li>B</li>
 </ul>
 <ul>
    <li>C</li>
    <li>D</li>
 </ul>    
</ol> 
```

**CSS**

```
ol li{
    width:150px;
    background:red;
    text-align:center;
    float:left;
}
ul{
    float:left;
    overflow:hidden;
} 
```

检查这个[http://jsfiddle.net/nkAtV/1/](http://jsfiddle.net/nkAtV/1/)

# powershell - 如何使用名称、组类型、管理者和 AD 描述列出所有通讯组

> ID：11839711
> 
> 赞同：2
> 
> 时间：2012-08-07T05:23:29.763
> 
> 标签：powershell

我正在尝试获取所有通讯组的列表，其中包含名称、组类型、管理人和 AD 描述。

```
get-distributiongroup  | select-object name, GroupType, managedby, @{Name="Description";expression={get-qadgroup $_.name | select-object description}} 
```

这在大多数情况下都有效，但描述列返回对象，而不仅仅是描述。如何让它只返回使用带有 QAD 的 powershell 的描述并交换管理单元（如果需要）？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T06:37:24.710

您正在使用输出组对象的 Select-Object，如果将 Get-QADGroup 调用放在括号中，则可以直接获取 Description 属性：

```
Get-DistributionGroup | 
Select-Object Name,GroupType,ManagedBy,@{Name="Description";Expression={(Get-QADGroup $_.Name).Description}} 
```

# c - 如何使用 scanf() 获取任意数量的整数？

> ID：11839712
> 
> 赞同：2
> 
> 时间：2012-08-07T05:23:32.947
> 
> 标签：c

该程序将任意数量的整数作为输入，并给出该整数和该数量星的输出。

例如

```
In: 1 2 3
Out: 
1 | *
2 | **
3 | *** 
```

另一个例子：

```
In: 2 5 6 8
Out:
2 | **
5 | *****
6 | ******
8 | ******** 
```

我该怎么做？？

顺便说一句，业余 C 程序员

以及如何在 Stack Overflow 问题格式的行之间添加单行空格“\n”

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T05:34:24.720

要从一行中读取数字，您可以：

```
#include <stdio.h>

int main(){
    char buffer[1000];
    if (fgets(buffer, sizeof(buffer), stdin) != 0){
        int i,j,a;
        for(i=0; sscanf(buffer+i,"%d%n",&a,&j)!=EOF; i+=j){
            while(a-->0){
                printf("*");
            }
            printf("\n");
        }
    }
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T12:41:31.263

```
#include <stdio.h>

#define SIZE 8

int input_numbers(int numbers[]){
    int i=0,read_count;
    char ch;

    printf("In: ");
    while(EOF!=(read_count=scanf("%d%c", &numbers[i], &ch))){
        if(read_count==2)
            ++i;
        if(i==SIZE){
            fprintf(stderr, "Numeric number has reached the Max load.\n");
            return i;
        }
        if(ch == '\n')
            break;
    }
    return i;
}

void output_numbers(int numbers[], int size){
    int i,j;
    printf("Out:\n");
    for(i=0;i<size;++i){
        printf("%d | ", numbers[i]);
        for(j=0;j<numbers[i];++j){
            printf("*");
        }
        printf("\n");
    }
}

int main(void){
    int numbers[SIZE];
    int n;

    n=input_numbers(numbers);
    output_numbers(numbers, n);
    return 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T05:35:05.277

这种方式最好有一个循环。
虽然用户尚未输入**“\n”**，但您的程序应该能够将它们视为整数。当然，您也可以添加一些其他检查。

像这样的东西：

```
int number = 0;
char c = '';
while(c != '\n'){
    getch(c);
    scanf("%d", &number);
    /*Do your star thing or add this number to an array for the later consideration*/
} 
```

这没有经过全面测试，您可能需要进行一些更改。

# javascript - 将字符串拆分为数组

> ID：11839715
> 
> 赞同：1
> 
> 时间：2012-08-07T05:23:43.307
> 
> 标签：javascript, jquery, html, tokenize

我在表格中有一个字符串，

`var k= '<html><div id="test">it is interesting</div></html>'`,

我正在尝试将其转换为表单数组

```
<html>
<div id="test">
it
is
interesting
</div>
</html> 
```

我正在使用 Javascript 来执行此任务。我可以使用 split 函数检测单词之间的空格来拆分字符串，但是如何拆分 HTML 标签。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:56:36.617

```
var k='<html><div id="test">it is interesting</div></html>';
var a=k.match(/(<.+?>)|([^ ]+?(?=[ <]))/g);
console.log(a); // ["<html>", "<div id="test">", "it", "is", "interesting", "</div>", "</html>"] 
```

**更新：**如果您的字符串可以包含子字符串*`"<>"`*（在 HTML 中无效），请尝试使用正则表达式进行细微更改：`/(<.*?>)|([^ ]+?(?=[ <]))/g`

**更新：**如果您需要将`\n\r\t`符号（换行符、回车符、制表符）解释为空格，请尝试使用下一个正则表达式：（`/(<.*?>)|(\S+?(?=[\s<]))/g`另请参阅上述更新中关于用法的备注`*`或`+`）

```
var k,a,rg=/(<.*?>)|(\S+?(?=[\s<]))/g;

k='<html><div id="test"> it is interesting</div></html>';
a=k.match(rg);
console.log(a); // ["<html>", "<div id="test">", "it", "is", "interesting", "</div>", "</html>"]

k='<div class=\"Normal\" algoscore=\"338\">\n <p><img src=\"/getBinaryFile.php?Id=69\" /></p>\n';
a=k.match(rg);
console.log(a); // ["<div class="Normal" algoscore="338">", "<p>", "<img c="/getBinaryFile.php?Id=69" />", "</p>"] 
```

# android - 无法从 dl-ssl.com/android/eclipse 安装软件包

> ID：11839718
> 
> 赞同：0
> 
> 时间：2012-08-07T05:24:32.537
> 
> 标签：android, eclipse

我已经从 Eclipse 中卸载了 Android 插件，方法是先帮助，然后是关于 Eclipse，然后是安装详细信息。但是当我试图再次安装它时。我让你无法安装它，因为它已经安装了。但是我刚刚卸载了它，那为什么会出现此错误-

```
Cannot complete the install because of a conflicting dependency.
  Software being installed: Android Hierarchy Viewer 20.0.2.v201207191942-407447 (com.android.ide.eclipse.hierarchyviewer.feature.group 20.0.2.v201207191942-407447)
  Software currently installed: Eclipse IDE for Java EE Developers 1.3.0.20100617-0521 (epp.package.jee 1.3.0.20100617-0521)
  Only one of the following can be installed at once: 
    Eclipse UI 3.6.1.M20100826-1330 (org.eclipse.ui 3.6.1.M20100826-1330)
    Eclipse UI 3.6.2.M20110203-1100 (org.eclipse.ui 3.6.2.M20110203-1100)
    Eclipse UI 3.6.0.I20100603-1100 (org.eclipse.ui 3.6.0.I20100603-1100)
  Cannot satisfy dependency:
    From: Android Hierarchy Viewer 20.0.2.v201207191942-407447 (com.android.ide.eclipse.hierarchyviewer.feature.group 20.0.2.v201207191942-407447)
    To: org.eclipse.ui 3.6.2
  Cannot satisfy dependency:
    From: Eclipse IDE for Java EE Developers 1.3.0.20100617-0521 (epp.package.jee 1.3.0.20100617-0521)
    To: org.eclipse.epp.package.jee.feature.feature.group [1.3.0.20100617-0521]
  Cannot satisfy dependency:
    From: Java EE IDE Feature 1.3.0.20100617-0521 (org.eclipse.epp.package.jee.feature.feature.group 1.3.0.20100617-0521)
    To: org.eclipse.platform.feature.group [3.6.0.v20100602-9gF78GpqFt6trOGhL60z0oEx3fz-JKNwxPY]
  Cannot satisfy dependency:
    From: Eclipse Platform 3.6.0.v20100602-9gF78GpqFt6trOGhL60z0oEx3fz-JKNwxPY (org.eclipse.platform.feature.group 3.6.0.v20100602-9gF78GpqFt6trOGhL60z0oEx3fz-JKNwxPY)
    To: org.eclipse.rcp.feature.group [3.6.0.v20100519-9OArFKvFtsd7WLUKh-DcYTS]
  Cannot satisfy dependency:
    From: Eclipse RCP 3.6.0.v20100519-9OArFKvFtsd7WLUKh-DcYTS (org.eclipse.rcp.feature.group 3.6.0.v20100519-9OArFKvFtsd7WLUKh-DcYTS)
    To: org.eclipse.ui [3.6.0.I20100603-1100] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:38:49.217

通常它是由 ADT 20 所需的 Eclipse 3.6.2 引起的，但是您的 Eclipse 包（Java EE 开发人员的 IDE）依赖于 Eclipse 3.6.0。所以由于依赖冲突，无法安装ADT。

可能的解决方案可能是，

```
Update your Eclipse package to latest that will include Eclipse 3.6.2 or higher. 
```

之后它应该工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:44:23.483

即使我遇到了同样的问题...简单的解决方案是再次提取 eclipse（即重新安装 eclipse）然后安装 android 插件...我知道这不是应该的方式，但它作品..

# visual-studio-2010 - Visual Studio 插件

> ID：11839721
> 
> 赞同：1
> 
> 时间：2012-08-07T05:24:46.810
> 
> 标签：visual-studio-2010, add-in

我正在寻找可以帮助我启动自己的调试过程的 Visual Studio 插件。我想保持原始基于 F5 的调试完好无损，因此我不想拦截该调用并需要单独的 AddIn。

有什么建议么

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T17:23:02.083

最简单的方法是使用插件捕获系统事件/宏。在这些事件中覆盖 vs 所做的事情真的很容易。使用标准 Visual Studio 命令（例如 F5）时，所有事件都会自动触发。这包括所有标准的 Visual Studio 快捷键、菜单和工具栏按钮。

创建一个新的 vs addin 项目，它会自动添加代码以附加 OnBeforeCommandEvent。在 vb 中，事件处理程序将如下面的代码所示。

```
Friend Sub OnBeforeCommandEvent(sGuid As String, ID As Integer, CustomIn As Object, CustomOut As Object, ByRef CancelDefault As Boolean) 
```

该事件向您传递 sGuid 和 ID。您可以将这两项解析为宏字符串名称 (sCommandName)，如下所示：-

```
 Dim objCommand As EnvDTE.Command

 Try
        objCommand = _applicationObject.Commands.Item(sGuid, ID)
 Catch ex As Exception
        'unknown guids can be ignored
        Exit Sub
 End Try

 If objCommand Is Nothing Then Exit Sub
        Dim sCommandName As String
        sCommandName = objCommand.Name 
```

*注意：*插件启动时将`_applicationObject`传递给您的代码。一个新的插件项目将自动包含以下`OnConnection`事件代码，第一个参数`_applicationObject`如上所示。

```
OnConnection(ByVal application As Object 
```

获得`sCommandName`变量后，它将包含 Visual Studio 宏的名称，例如`Debug.Start`.

要覆盖这些`Debug.Start`函数，您将添加一些自己的代码并记住在退出处理程序之前设置`CancelDefault`为。`True`

当您设置`CancelDefault`为 true 时，Visual Studio 将不会运行标准宏，这意味着您可以在按下 F5 时运行自己的调试器。

这些是在构建过程中使用的 Visual Studio 宏名称。您可以根据需要覆盖尽可能多或尽可能少的内容。我已将它们分组到它们的相关功能中，但您可以任意组合处理它们。

```
Select Case sCommandName

         Case "Debug.Start", _
                    "Debug.StartWithoutDebugging"
                    System.Windows.Forms.MessageBox.Show("You clicked F5, we are overriding the debug process")
                    CancelDefault=true
                    Exit Sub

         Case "ClassViewContextMenus.ClassViewProject.Rebuild", _
                    "ClassViewContextMenus.ClassViewProject.Build", _
                    "Build.RebuildOnlyProject", _
                    "Build.RebuildSelection", _
                    "Build.BuildOnlyProject", _
                    "Build.BuildSelection"

         Case "Build.RebuildSolution", _
                    "Build.BuildSolution"

         Case "ClassViewContextMenus.ClassViewProject.Debug.Startnewinstance", _
                    "ClassViewContextMenus.ClassViewProject.Debug.StepIntonewinstance"

         Case "Build.CleanSelection", _
                    "Build.CleanSolution", _
                    "ClassViewContextMenus.ClassViewProject.Clean"

         Case "Build.SolutionConfigurations" 
```

# c# - 这里用什么，抽象类还是接口？

> ID：11839724
> 
> 赞同：0
> 
> 时间：2012-08-07T05:24:51.980
> 
> 标签：c#, java, oop, class, interface

我有一个抽象类说**CTest**它只包含抽象方法 f1() 而没有别的。同样，我有一个接口**ITest**，它的唯一方法是 f1()。这里 CTest 抽象类和 ITest 接口都做同样的事情。

**一个区别是**，接口提供了灵活性，它可以在已经从其他类派生但抽象类不能的任何类中实现。

除了上面的区别，这两者之间的实际区别是什么？哪一个在这里有效（CTest 或 ITest）？我什么时候应该用什么？OO 设计中的任何特定场景以及对此的任何一般性建议都是有帮助的

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:31:38.600

除了继承，它取决于场景。用一个很好的例子检查[这个代码项目文章。](http://www.codeproject.com/Articles/258173/Interfaces-Vs-Abstract-Classes)

[来自文章]

> 假设您需要创建三个类，第一个是 CAR，第二个是 MAN，第三个是 WOMAN。现在你需要在它们中的每一个中定义一个函数来定义它们如何移动。现在这三个都可以移动，但 CAR 的移动方式与 MAN 和 WOMAN 完全不同。所以这里我们使用一个接口 IMOVEMENT 并在其中声明一个函数 MOVE。现在所有三个类都可以继承这个接口。所以上课是这样的。

```
public interface IMovement
{
    void Move();
}

public class Car : IMovement
{
    public void Move()
    {
        //Provide Implementation
    }
}

public class Man : IMovement
{
    public void Move()
    {
        //Provide Implementation
    }
}

public class Woman : IMovement
{
    public void Move()
    {
        //Provide Implementation
    }
} 
```

> 但是，由于 MAN 和 WOMAN 的行走方式相似，因此以两种不同的方法提供相同的行为将是代码冗余，简单来说，代码不会被重用。所以我们现在可以为人类运动定义一个抽象类，所以这个类可以是 HUMANBEINGMOVEMENT。同样可以应用于 CAR 类，因为有很多汽车制造商并且所有汽车都以相似的方式移动，所以我们也可以为汽车运动定义一个抽象类，它可以是 CARSMOVEMENT。所以我们重构的代码将是 .

```
public interface IMovement
{
    void Move();
}

public abstract class CarsMovement : IMovement
{

    public virtual void Move()
    {
        //default behavior for cars movement
    }
}

public class SuzukiCar : CarsMovement
{
    public override void Move()
    {
        //Provide Implementation
    }
}

public abstract class HumanBeingMovement : IMovement
{

    public virtual void Move()
    {
        //default behavior for human being movement
    }
}

public class Man : HumanBeingMovement
{
    public override void Move()
    {
        //Provide Implementation
    }
}

public class Woman : HumanBeingMovement
{
    public override void Move()
    {
        //Provide Implementation
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:30:06.543

在更`Java`喜欢. 参考**Effective Java中的第 18 条**`Interfaces``Abstract Classes`

 **![在此处输入图像描述](../Images/2ec0cf04156cb4d1b1a6ef32307057f1.png)

**要点**：

*   可以对现有类进行改造以实现新接口。

*   接口是定义 mixin 的理想选择。

*   接口允许构建非分层类型框架。

*   接口可实现安全、强大的功能增强。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T05:30:04.310

在这种情况下，假设您的抽象类将只包含抽象方法，在我看来，您应该使用接口。具有抽象方法和接口的抽象类具有相同的目的，但是，您可以只扩展一个类，但可以实现任意数量的类，因此如果您决定从其他类继承某些功能，则可以使您的代码不易发生重大变化。

关于您的问题：*但这两者之间的实际区别是什么？哪一个在这里有效（CTest 或 ITest）？我什么时候应该用什么？OO 设计中的任何特定场景以及对此的任何一般性建议都是有帮助的*

接口类似于契约，当一个类实现一个接口时，它保证了一个实现。当有人想提供功能但不想透露内部代码时，这通常很有帮助，因此开发人员只会丢弃接口，这样您就可以在不知道每个方法是如何实现的情况下进行调用。您显然可以实现任意数量的接口。

抽象类允许您创建一个类，该类具有指定的某些行为以及其他一些待将来实现的行为。然而，与接口不同的是，每个类只能扩展一个类，因此从这个角度来看，您应该谨慎扩展类。抽象类还允许您将行为注入一个类并使其自动传播到其子类。这*通常*使开发/维护的某些部分更容易。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T05:31:48.873

在这种情况下，没有区别，但 CTest 类具有唯一可以作为 Class 继承的类。但是 ITest 接口可以同时被其他类和接口继承。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-07T05:32:09.990

在您提到的场景中，只有一种方法，没有定义，最好的方法是接口。

接口在 Java 中的主要优势在于您可以实现多个接口，但您只能扩展一个类。因此，如果您已经在扩展一个抽象类，那么您将无法选择扩展任何其他类。

> **黄金法则：**如果我们只需要定义方法而不需要声明它们，接口就比抽象类好。

已经说过在您的情况下接口更好，程序员还应该从未来的角度考虑他的代码。你觉得你正在创建的类/接口将来会有更多的方法吗？您想定义这些方法还是只声明？回答这些问题会让您知道接口是否足够或需要抽象类。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-07T05:28:26.970

在 c# 中它只允许单级继承。因此接口可以用来做多重继承

还有更多详细信息：

[http://www.dotnetfunda.com/forums/thread4085-difference-between-interface-and-abstract-class.aspx](http://www.dotnetfunda.com/forums/thread4085-difference-between-interface-and-abstract-class.aspx)

[http://sadi02.wordpress.com/2008/05/08/what-is-difference-in-an-abstract-class-and-an-interface/](http://sadi02.wordpress.com/2008/05/08/what-is-difference-in-an-abstract-class-and-an-interface/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-07T05:28:31.990

对我来说最好在这里使用界面。当您可以在那里提取一些代码时（您可以实现方法或有其他想要调用它的东西），应该使用抽象类。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-08-07T05:36:35.297

**优势：**

抽象类的实现优于接口，因为抽象类的方法查找比接口快。如果你修改你的接口，你必须更新你的实现类，但是抽象类的任何修改，对实现类没有影响。

**坏处：**

```
If you want to implement more than one parent class method , it is not possible.
But regarding to interface you can implement more than one. 
```**

# hadoop - 如何在某个版本中启动hadoop

> ID：11839732
> 
> 赞同：0
> 
> 时间：2012-08-07T05:25:32.260
> 
> 标签：hadoop, cloudera

我们正在使用 hadoop-2.0.0-cdh4.0.0 并且我们使用启动 namenode `hadoop namenode`，如何在 0.20 模式或 0.23 模式下启动 hadoop 进程？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T10:51:39.233

如果您想使用它们，您需要安装和配置这些版本的 hadoop - 没有“开关”允许 2.0.0（或任何其他 hadoop 版本）在较低版本/模式下运行。

# jquery - 无法在我的 jQuery 中使用 :not 选择器

> ID：11839737
> 
> 赞同：0
> 
> 时间：2012-08-07T05:26:38.060
> 
> 标签：jquery, html, click, live

我是 HTML 和 jQuery 新手，需要一些帮助....

这是我的 HTML：

```
<div class="conteiner">
    <div class="calendar" style=""> </div>
    <div class="status"></div>
    <div class="avatar read"></div>
    <div class="text">
        <div class="activity mytivits-act"></div>
        <div class="comments"></div>
        <div class="text-conteiner">
            <h3>test remind</h3>
            <span class="grey"></span>
            <span class="send-reminder">Remind</span>
       </div>
    </div>
</div> 
```

当用户点击提醒链接时，我试图从下面的 .live 函数中过滤掉点击（因为我有一个单独的函数来处理这种情况）

```
<span class="send-reminder">Remind</span> 
```

使用下面的这条 jQuery 行，但它不起作用......知道如何解决它吗？

```
$('.text-conteiner:not(.send-reminder)').live('click', function(e){
    ...
})); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:30:33.547

我认为您可以停止事件传播。`:not()`不会在这里工作。

```
$('.text-conteiner').live('click', function(e){
    e.stopPropagation();
    // your code
}); 
```

**[演示](http://jsfiddle.net/q7pb2/)**

例如，您也可以执行以下操作：

```
$('.text-conteiner').live('click', function(e){
    alert('container');
});
$('.send-reminder').click(function(e) {
    e.stopPropagation();
    alert('remainder');
}) 
```

**[演示](http://jsfiddle.net/q7pb2/3/)** ​</p>

### 笔记

如果可能，那么不要`.live()`使用`.on()`jQuery 1.7+ 进行委托事件处理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:33:44.950

`event.preventDefault()`在`send-reminder`跨度上使用。

```
$('.text-conteiner span.send-reminder').on('click', function(e){
    e.preventDefault();
})); 
```

# javascript - 使用 jQuery trigger() 和 hoverIntent

> ID：11839740
> 
> 赞同：3
> 
> 时间：2012-08-07T05:26:49.293
> 
> 标签：javascript, jquery, hoverintent

是否可以在元素上触发 hoverIntent。

我试过`$(elem).trigger('hoverIntent');`了，没有用。

编辑：Js 小提琴：http: [//jsfiddle.net/H2p6T/](http://jsfiddle.net/H2p6T/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-01-30T15:30:16.333

除非真正触发了 hoverIntent，否则简单地触发任何事件类型都无济于事。

我查看了 hoverIntent 源，它需要两件事：mouseenter 和 mousemove 并定义了指针坐标。所以我用假坐标触发了事件：

```
$('.foo').trigger({ type:"mouseenter", pageX:"123", pageY:"123" });
$('.foo').trigger({ type:"mousemove", pageX:"123", pageY:"123" }); 
```

只要它们彼此足够接近以触发hoverIntent，坐标就无关紧要。

我为此使用了 r7 版本。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-07T05:36:41.427

你有没有尝试过

```
$(elem).trigger('hover'); 
```

或者

```
$(elem).trigger('mouseover');
$(elem).trigger('mouseout'); 
```

或者

```
$(elem).trigger('mouseenter');
$(elem).trigger('mouseleave'); 
```

hoverIntent 是一个插件而不是实际事件，所以我相信您必须触发一个 hoverIntent 实际绑定到您的元素的事件

这是一个使用 mouseenter/mouseleave 的示例

[http://jsfiddle.net/H2p6T/3/](http://jsfiddle.net/H2p6T/3/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T05:30:56.230

你能这样吗？

```
$(elem).hoverIntent(); 
```

好吧，那没用……

我玩过它：http: [//jsfiddle.net/8CCTM/11/](http://jsfiddle.net/8CCTM/11/)

hoverIntent 将在 mouseenter() 上触发，但只有在鼠标激活 hoverIntent 元素后才会触发。

# java - 如何将我的 MusicPlayer 应用注册到 OnAudioFocusChangeListener

> ID：11839742
> 
> 赞同：1
> 
> 时间：2012-08-07T05:26:53.513
> 
> 标签：java, android, android-audiomanager

我正在创建一个音乐播放器应用程序。

我想：

1.  当用户使用我的应用播放歌曲时，默认音乐播放器应该停止（正在播放）
2.  如果其他应用程序在我的应用程序已经在播放时开始播放，那么我的应用程序应该停止播放。

我可以使用[Audio Focus](http://developer.android.com/training/managing-audio/audio-focus.html)解决第一点。但是对于第二点，即处理`AUDIOFOCUS_LOSS`，我面临一些问题。

**问题：** 我已经按照文档进行了操作，但是我应该如何注册我的音乐播放器服务来检测 AudioFocus 已经丢失。

**对于第一点，这里是代码：**

```
if (reqAudioFocus()) {
    mPlayer.start();
}

private boolean reqAudioFocus() {
    boolean gotFocus = false;
    int audioFocus = am.requestAudioFocus(null, AudioManager.STREAM_MUSIC,
            AudioManager.AUDIOFOCUS_GAIN);
    if (audioFocus == AudioManager.AUDIOFOCUS_REQUEST_GRANTED) {
        gotFocus = true;
    } else {
        gotFocus = false;
    }
    return gotFocus;
} 
```

**到目前为止，我的第二点代码：**

```
//Class implements OnAudioFocusChangeListener

@Override
public void onAudioFocusChange(int focusChange) {
    /*
     * TODO : Call stopService/onDestroy() method. Pause the track; Change
     * the Play/Pause icon; save the track postion for seekTo() method.
     */
    if (focusChange == AudioManager.AUDIOFOCUS_LOSS_TRANSIENT) {
        // TODO: Pause playback
        if (mPlayer.isPlaying()) {
            mPlayer.pause();
        }
    } else if (focusChange == AudioManager.AUDIOFOCUS_GAIN) {
        // TODO: Resume Playback
        if (!mPlayer.isPlaying()) {
            mPlayer.start();
        }
    } else if (focusChange == AudioManager.AUDIOFOCUS_LOSS) {
        // TODO: stop playback.
        // am.unregisterMediaButtonEventReceiver(RemoteControlReceiver);
        am.abandonAudioFocus(afChangeListener);
    }

} 
```

`onAudioFocusChange()`现在如何在应用程序失去音频焦点时调用我的应用程序。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T06:05:10.847

第一个参数[`requestAudioFocus`](http://developer.android.com/reference/android/media/AudioManager.html#requestAudioFocus%28android.media.AudioManager.OnAudioFocusChangeListener,%20int,%20int%29)是一个`OnAudioFocusChangeListener`实例。你现在正在路过`null`。假设您已经实现`reqAudioFocus`并且`onAudioFocusChanged`在同一个类上，传递`this`而不是`null`应该足够了。

# google-apps-script - 单个脚本属性的最大大小

> ID：11839752
> 
> 赞同：1
> 
> 时间：2012-08-07T05:28:00.210
> 
> 标签：google-apps-script

我知道脚本属性的最大大小总共是 500K，但是有人知道单个脚本属性的最大大小吗？我正在阅读电子表格，在其上使用 Utilities.jsonStringify 并尝试保存到脚本属性，但是当我运行 ScriptProperties 时出现“参数太大”。数据大约是 8k，我离 500k 的限制还差得很远。

在此先感谢克里斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T11:52:20.113

“每个属性值的最大大小限制为 9kB。”

[https://developers.google.com/apps-script/script_user_properties](https://developers.google.com/apps-script/script_user_properties)

正如 Srik 和文档所建议的那样，您真的应该考虑使用[ScriptDb](https://developers.google.com/apps-script/scriptdb)。

# iphone - 如何获取我们自己的应用程序的itunes链接？

> ID：11839760
> 
> 赞同：0
> 
> 时间：2012-08-07T05:28:47.903
> 
> 标签：iphone, ios5, xcode4.3

我是 iphone 开发的新手。我正在参与应用程序 iTunes 应该能够在 Facebook、twitter 上共享的项目。我想知道如何获取应用程序的 iTunes 链接。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T06:39:03.103

不，你不能。您应该手动将链接提供给应用程序，或者您应该对应用程序进行编程以使用 Web 服务从您自己的 Web 服务器获取链接。您还应该在此处更新 Web 服务器中的链接

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T07:05:56.933

iTunes 链接需要来自 iTunes 连接的应用程序 ID。您的应用程序无法真正知道该数字。
然而，应用程序不需要已经发布来获取链接，只需在 iTunes Connect 中创建即可。这样，您仍然可以使用链接在您的应用程序中实现共享功能，然后才上传您的二进制文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T07:18:33.737

正如大家所建议的，您需要在 iTunes Connect 中创建您的应用程序以获取应用程序 ID。

一旦你有了这个，你可以将它硬编码到你的应用程序中。另一种方法是查询您自己的服务器并在启动应用程序时准备好此信息。

我真的建议使用硬编码方法，因为一旦将应用 ID 分配给您的应用，它就永远不会改变。

以下是我通常如何使用其 App ID 嵌入我的应用程序 URL 的示例：http: [//itunes.apple.com/WebObjects/MZStore.woa/wa/viewSoftware ?id=APP_ID&mt=8&partnerId=30](http://itunes.apple.com/WebObjects/MZStore.woa/wa/viewSoftware?id=APP_ID&mt=8&partnerId=30)

# c# - Visual Studio 2012 RC - C# 模板扩展未运行

> ID：11839761
> 
> 赞同：1
> 
> 时间：2012-08-07T05:28:59.713
> 
> 标签：c#, visual-studio, visual-studio-2012, visual-studio-extensions, visual-studio-sdk

**快速提问版：**

调试时，Editor Text Adornment 模板在启动的实验实例中没有运行。

也不能打断点。

**更详细的问题版本：**

所以我一直在搞乱 Visual Studio 2012 Extension SDK，似乎当我创建一个模板编辑器文本装饰模板并尝试运行它时，我的实验性 Visual Studio 被启动，但我无法达到任何断点，我的扩展确实不跑。

编辑器文本装饰模板在您正在处理的文档中的所有 a 后面放置一个猩红色框，而在我的实验实例中没有发生任何情况。哎呀，我什至不能打任何断点，就好像完全加载了扩展一样。

**我做了什么：**

我对这个问题做了很多研究，我已经重置了我的 Visual Studio 2012 实验实例，我已经验证我的命令行参数是：`/rootsuffix Exp`最后我尝试在管理员中运行所有内容

# erlang - Erlang 安装：“找不到配置文件”错误消息

> ID：11839762
> 
> 赞同：4
> 
> 时间：2012-08-07T05:29:01.453
> 
> 标签：erlang, installation, yaws

我正在尝试通过 apt-get install yaws 在我的 Ubuntu 11.01 系统上安装 Yaws。但是，当我从命令行调用 shell 脚本 yaws 时，出现以下错误： Yaws: Bad conf: "Can't find config file "

除非我老化的眼睛失去了某些东西，否则我无法在 Yaws 网站或 Zachery Kessin 的书中找到启示。

我可以在 /etc/yaws 中找到配置文件。但是还有什么我需要知道/做的吗？

谢谢，

LRP

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T09:16:16.550

如果您使用包管理器安装了 yaws，那么它由一个 init 脚本控制（您应该使用它而不是手动运行 yaws，我将添加）。

您很可能以非特权用户身份运行 yaws，如果您仔细观察，目录 /etc/yaws 是：

```
drwxr-x---  4 root yaws    4096 Aug  7 10:36 yaws 
```

您可能正试图在 root 以外的用户下运行 yaws，并且没有 yaws 组的成员身份。

我冒昧地猜测这是发行版包装中的错误，而不是 yaws 中的错误，因为手册页明确指出，以非特权用户身份运行它会退回到阅读 /etc/yaws/yaws.conf，除了在Debian/Ubuntu（我在 Debian 6 上）/etc/yaws/ 上的权限不符合地图页面中的要求。

但是，如果您使用发行版的初始化脚本和守护进程管理工具，您的问题就会神奇地消失。我认为这比轻拍 Debian 打包程序并就配置目录权限进行长时间的对话更可取。:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-31T13:50:05.297

尝试执行以下操作。

```
$ touch yaws.conf

$ yaws 
```

按回车键调出提示。适用于 Debian 7 (wheezy)。

您可能还需要执行以下操作以将您的用户名放在 yaws 组中。

```
$ adduser USERNAME yaws 
```

对于在自述文件中找到的该软件包的维护者之一，我已将他们指向此处。

```
$ dpkg -L yaws | grep -i readme 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-19T18:25:14.547

我的系统是 Debian 7 或通常称为 wheezy 发行版。它实际上是 kali-linux，但这只是仅供参考。我用 nautilus 以 root 身份浏览到 /etc/yaws ，否则它被锁定。

```
~$ sudo su
[sudo] password for username:
# nautilus
Initializing nautilus-gdu extension 
```

现在您可以查看 /etc/yaws 目录。yaws.conf 应该在那里。Josef 是正确的，因为如果用户有权访问此文件，这是 yaws 将尝试使用的。但不是root，你不会。

我的解决方案是从该文件和同一目录中的其他文件中获取想法。从 Van 那里得到下一个答案，让你的家庭/用户拥有一个 yaws.conf 并使用与你在 etc 中找到的不同的配置。如果您只能访问文件，则复制和粘贴并不难。享受！:-D

# node.js - 猫鼬中的“$in”有什么问题

> ID：11839765
> 
> 赞同：9
> 
> 时间：2012-08-07T05:29:37.780
> 
> 标签：node.js, mongoose

祝大家有美好的一天。我在使用猫鼬时遇到了一个奇怪的错误

```
module.js:437
  var compiledWrapper = runInThisContext(wrapper, filename, tru
                        ^
SyntaxError: Unexpected token .
    at Module._compile (module.js:437:25)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)
    at require (module.js:378:17)
    at Object.<anonymous> (E:\Dropbox\Dropbox\FCP\server.js
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32) 
```

我猜它来自

```
dbQueries.remove({_id: {$in: {req.body.data}}, authorId: req.user._id}, function onRemoveSomething(err){
            if(err) {
                res.json({epicFail: 'ERR_RestrictedAccess'});
                return; 
            }
        }); 
```

所以，我不知道出了什么问题。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-08-07T05:33:08.450

[$in](http://mongoosejs.com/docs/api.html#query-js)接受一个数组，而不是一个格式无效的 javascript 对象

```
{_id: {$in: [req.body.data]} 
```

或者如果`req.body.data`已经是一个数组，则省略包装`[` `]`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-05T06:37:23.990

您必须检查`req.body.data`是否为数组，请参见下面的代码 `{_id: {$in: _.isArray(req.body.data) ? req.body.data : [req.body.data] } //const _ = require('lodash');`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-24T15:52:34.020

根据数据构建查询

```
var match = {
    authorId: req.user._id
};

if(Array.isArray(data)) {
    match._id = {$in: data};
} else {
   match._id = data;
}

dbQueries.remove(match, function findMyDocs(err, foundDocs) {

}); 
```

# magento - 如何在magento for admin中将电子邮件格式从html更改为文本？

> ID：11839766
> 
> 赞同：0
> 
> 时间：2012-08-07T05:29:40.380
> 
> 标签：magento

在 magento 中，订单确认电子邮件以 HTML 格式发送给管理员，但我想将其更改为纯文本格式，因此我如何以及从何处仅为管理员更改该格式，客户应该按原样收到 HTMl 格式的电子邮件。

谁能给我解决方案？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-26T02:19:27.623

对于未来的读者，**不要**像其他人建议的那样编辑核心文件。*您可以使用一个很小*的自定义模块单独在配置中实现这一点。

我安装了 AheadWorks 的博客模块，您可能没有，或者您可能有其他模块需要覆盖其电子邮件格式。所以，相应地调整。

创建`app/etc/modules/YourNameSpace_EmailFormat.xml`并添加到`<depends>`，因此您的配置最后加载：

```
<?xml version="1.0"?>
<config>
    <modules>
        <YourNameSpace_EmailFormat>
            <active>true</active>
            <codePool>local</codePool>
            <depends>
                <Mage_Contacts/>
                <AW_Blog/>
            </depends>
        </YourNameSpace_EmailFormat>
    </modules>
</config> 
```

创建`app/code/local/YourNameSpace/EmailFormat/etc/config.xml`，为您希望覆盖的所有模板添加元素：

```
<?xml version="1.0"?>
<config>
    <modules>
        <YourNameSpace_EmailFormat>
            <version>1</version>
        </YourNameSpace_EmailFormat>
    </modules>
    <global>
        <template>
            <email>
                <customer_create_account_email_template>
                    <type>text</type>
                </customer_create_account_email_template>
            </email>
        </template>
    </global>
</config> 
```

就是这样。我需要相反，所以我`<type>`设置为`html`. [这与Yireo 的电子邮件覆盖模块](https://github.com/yireo/Yireo_EmailOverride)非常吻合，因此您可以轻松自定义模板。如果将纯文本电子邮件转换为 HTML，请务必更改模板标签`{{var foo.bar}}`，`{{htmlescape var=$foo.bar}}`以防止恶意代码注入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T06:44:03.090

你必须重写和扩展`Mage_Core_Model_Email_Template`模型来实现这一点并从那里设置正确的标题，你不能按用户分开它们，你必须为此建立自己的逻辑

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-08T12:01:50.917

首先创建自定义电子邮件模板`Transactions emails`并将文本类型设置为纯文本。记下该模板 ID。并在下面的文件中使用。

在`\app\code\local\Mage\Sales\Model\Order.php` `sendNewOrderEmail()`手动加载模板时，将变量发送到该模板并发送电子邮件。

# ios - Apple 是否允许其中包含 Android 图像的应用程序

> ID：11839770
> 
> 赞同：0
> 
> 时间：2012-08-07T05:30:01.647
> 
> 标签：ios, iphone

我听说 Apple 拒绝包含“Android”字样的应用程序。我的问题是 Apple 是否允许具有 Android 图标的应用程序？

当我们在第二端谈论 Apple 设备和 Android 设备时，我的应用程序具有不同的特定功能。所以我有苹果图标+标签“iOS”和Android图标+标签“非iOS”，用户可以在连接到他的朋友之前在这两个选项之间进行选择。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T08:06:56.273

我最近被我的一个应用程序拒绝了，只是因为启动图像包含一个 Android 设备（以及 iPhone）。我想说，安全起见，并从您的应用程序中删除所有 android 引用。以 Bump 应用程序为例。它的 USP 是不同平台设备之间的数据传输，但它的 iOS 应用程序（甚至启动图像）中没有任何其他平台代表。

# solr - Solr - 仅返回拼写检查排序规则中的搜索词

> ID：11839772
> 
> 赞同：3
> 
> 时间：2012-08-07T05:30:05.080
> 
> 标签：solr

晚上所有！这是我第一次在stackoverflow上发帖，这意味着这是我第一次在stackoverflow上找不到答案。

在 solr 实例上，我传递了一个查询“名称：Buttrfly AND 描述：Buttrfly”。

如果我包括拼写检查，并且它提供了整理建议，它将包括字段名称

```
<str name="collation">name:Butterfly AND description:Butterfly</str> 
```

是否有一个开关可以用来指示 solr 只返回实际的查询词作为排序规则？例如

```
<str name="collation">Butterfly</str> 
```

我可以很容易地解析出来：

```
preg_replace('/name:/','',array_shift( explode(' AND ',$this->spellCheckResult) ) ); 
```

但如果 Solr 没有这种能力，我会感到惊讶，因为它已经知道实际的查询术语是什么。顺便说一句，使用 Solr 4.0

谢谢！

# android - Ndk三星银河s

> ID：11839775
> 
> 赞同：0
> 
> 时间：2012-08-07T05:30:15.987
> 
> 标签：android, android-ndk

我正在寻找有关 ndk 的信息，以便读取 Galaxy s 的网络数据（neightbor cell、ec/io、bcch）。Any1 知道一些隐藏的 api 来写东西吗？我知道 api 存在，因为 tlc 中使用了一些专业的应用程序来在 netfield 进程中使用galaxy（请参阅 qualipoc app for android）

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T07:44:51.130

您无需隐藏 API 即可访问电话信息。NDK 不会在这方面为您提供帮助。参见例如[http://developer.android.com/reference/android/telephony/NeighboringCellInfo.html](http://developer.android.com/reference/android/telephony/NeighboringCellInfo.html)

# shell - 将命令行参数 X 传递给 shell 脚本中的 sybase 查询

> ID：11839777
> 
> 赞同：0
> 
> 时间：2012-08-07T05:30:26.417
> 
> 标签：shell, solaris, isql

这是我的脚本。

```
#!/usr/bin/sh

isql -UXx -Pxxxxxx <<!
set nocount on
use xxxx
go
select count(*) from BSC  where bsc='$1'
go
!

exit 
```

我正在执行这个脚本：

```
temp2.sh 0000 
```

输出为 0。但是当我手动执行查询时，输出为 1，这是正确的。这里的问题是命令行参数 $1 没有传递给查询。

我怎么能做到这一点？我已经尝试了所有这些可能性：

```
bsc='$1'- output is 0
bsc="$1"- output is 0
bsc=`$1`- Syntax error
bsc="'$1'"- output is 0 
```

我使用的是solaris unix，数据库是sybase。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T10:32:25.827

问题已解决：

而不是将脚本称为

```
temp2.sh 0000 
```

我称之为：

```
temp2.sh "0000" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:48:21.847

我认为这里的问题是你的查询中的单引号被shell解释了，所以

```
select count(*) from BSC  where bsc='$1' 
```

被解释为

```
select count(*) from BSC  where bsc=$1 
```

作为文字字符串。

我没有任何可用的东西来测试这个，但你可以尝试用

```
select count(*) from BSC  where bsc="'$1'" 
```

我认为（我再次强调我现在没有任何可测试的东西）双引号应该使单引号打印为字符，因此它将被解释为

```
select count(*) from BSC  where bsc='0000' 
```

给定您提供的命令行输入。

# c# - C# 网络流 getString 方法

> ID：11839778
> 
> 赞同：1
> 
> 时间：2012-08-07T05:30:31.913
> 
> 标签：c#, string, sockets, tcp, eof

我正在编写一个库来简化我在未来项目中的网络编程。我希望它强大而高效，因为这将出现在我未来的几乎所有项目中。（顺便说一句，服务器和客户端都将使用我的库，所以我没有在我的问题中假设协议）我正在编写一个函数，用于从网络流中接收字符串，其中我使用 31 个字节的缓冲区和一个用于哨兵。sentinel 值将指示哪个字节（如果有）是 EOF。这是我的代码供您使用或审查...

```
public string getString()
    {
        string returnme = "";
        while (true)
        {
            int[] buff = new int[32];
            for (int i = 0; i < 32; i++)
            {
                buff[i] = ns.ReadByte();
            }
            if (buff[31] > 31) { /*throw some error*/}
            for (int i = 0; i < buff[31]; i++)
            {
                returnme += (char)buff[i];
            }
            if (buff[31] != 31)
            {
                break;
            }
        }
        return returnme;
    } 
```

编辑：这是完成我正在做的事情的最佳方式（高效、实用等）吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:45:36.110

> 这是完成我正在做的事情的最佳方式（高效、实用等）吗？

不。首先，您将自己限制在 0-255 代码点范围内的字符，这*还不够*，其次：序列化字符串是一个已解决的问题。只需使用一个`Encoding`，通常是 UTF-8。作为网络流的一部分，这可能意味着“编码长度，编码数据”和“读取长度，缓冲那么多数据，解码数据”。另请注意：如果`ReadByte()`返回负值，您将无法正确处理 EOF 场景。

作为一个小推论，请注意`string`在循环中附加到 a 绝不是一个好主意。如果您*确实*这样做了，请使用`StringBuilder`. 但*不要那样做*。我的代码更像是（嘿，你知道，这是我从 protobuf-net 获得的实际字符串读取代码，稍微简化了一点）：

```
// read the length         
int bytes = (int)ReadUInt32Variant(false);
if (bytes == 0) return "";

// buffer that much data
if (available < bytes) Ensure(bytes, true);

// read the string
string s = encoding.GetString(ioBuffer, ioIndex, bytes);

// update the internal buffer data
available -= bytes;
position += bytes;
ioIndex += bytes;
return s; 
```

最后一点，我想说：如果您要发送结构化消息，请认真考虑使用专门处理这些内容的预滚动序列化 API。例如，您可以执行以下操作：

```
var msg = new MyMessage { Name = "abc", Value = 123, IsMagic = true };
Serializer.SerializeWithLengthPrefix(networkStream, msg); 
```

在另一端：

```
var msg = Serializer.DeserializeWithLengthPrefix<MyMessage>(networkStream);
Console.WriteLine(msg.Name); // etc 
```

任务完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:44:18.457

我认为 tou 应该使用具有固定大小的 StringBuilder 对象以获得更好的性能。

# visual-studio - Visual Studio 中的 ARM NEON Intrisics 支持

> ID：11839780
> 
> 赞同：2
> 
> 时间：2012-08-07T05:30:47.547
> 
> 标签：visual-studio, arm, neon

支持 ARM NEON Intrinsics（如果有）的最早版本的 Visual Studio (C++) 是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T06:05:28.697

在为 Windows-on-ARM 进行编译时，Visual Studio 2012 支持 NEON 内部函数（以及 ARMv6 内部函数）。在为 Windows Mobile 编译时，Visual Studio 2008 仅支持 ARMv5 DSP、XScale 和 WMMX 指令。

# javascript - 如何在查询字符串中将多维数组从 JavaScript 发送到 PHP

> ID：11839782
> 
> 赞同：0
> 
> 时间：2012-08-07T05:31:00.520
> 
> 标签：javascript, json

我正在使用以下代码：

```
window.location.assign("index.php?module=pengu_dispatch&action=cover_letter&value="+list); 
```

在这里，我想将查询字符串中的多维数组发送到 PHP 文件。

使用**JSON** `stringify`函数我将数组转换为字符串并发送，但在 PHP 端解码后我没有得到完整的数组。

请让我知道我可能做错了什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:37:16.903

您可以通过 url 编码将 json 放入 GET 参数中。

```
url = 'http://whatever/some.php?param='+encodeURIComponent(JSON.stringify(list)) 
```

然后在 php 中像这样读取它

```
$list = json_decode($_GET['param']); 
```

请注意列表的大小，因为 URL 的大小限制约为 1~2kb。如果要发送大量数据，则必须使用 POST。

# c# - SQL 数据库的自定义成员资格？

> ID：11839784
> 
> 赞同：0
> 
> 时间：2012-08-07T05:31:12.877
> 
> 标签：c#, sql-server-2008, asp.net-membership, custom-membershipprovider

我想使用 SQL 数据库实现自定义成员资格。我进行了很多搜索，但找不到任何好的教程。有人可以帮助我们有个好的开始吗？我正在使用带有 c# 的 asp.net。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:35:32.837

从下面的代码开始：

```
using System;    
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Security;

public class MyMembershipProvider: SqlMembershipProvider
{
} 
```

# c++ - 编译器错过了现有的重载

> ID：11839789
> 
> 赞同：0
> 
> 时间：2012-08-07T05:31:34.583
> 
> 标签：c++, templates

我无法指出签名`unmatched`和`available`重载的任何区别。

错误说 No matching call to `addSupport(NestedConnection<Paragraph, NestedConnection<Line, void> >*&)`But the Candidates are `addSupport(const NestedConnection<Paragraph, NestedConnection<Line, void> >*&)`(*它们可以隐式转换为 const* )

```
error: no matching function for call to ‘NestedConnection<Section, NestedConnection<Paragraph, NestedConnection<Line, void> > >::addSupport(NestedConnection<Paragraph, NestedConnection<Line, void> >*&)’
note: candidates are: void Collection<T>::addSupport(const T*&) [with T = NestedConnection<Paragraph, NestedConnection<Line, void> >] 
```

这就是我正在做的

```
template<typename T>
class Collection{
  public:
    typedef T Type;
    typedef std::vector<T*> CollectionT;
    typedef Collection<T> self;
  private:
    CollectionT _supports;
  public:
    void addSupport(const T*& connection){_supports.push_back(connection);};
    const CollectionT& supports() const{return _supports;}
};

template<typename T, typename C=void>
class NestedConnection: public Connection<T>, Collection<C>{
  public:
    typedef T ParentT;
    typedef C ChildT;
    typedef Connection<T> ConnectionT;
    typedef Collection<C> CollectionT;
    enum{
      leaf = 0
    };
  public:
    NestedConnection(const T* l, const T* r): Connection<T>(l, r){}
}; 
```

我通过做来调用

```
NestedConnection<ParentT, ChildT>* connection = new NestedConnection<ParentT, ChildT>(lhs, rhs);
//This will be unfolded till void and it starts from 
//NestedConnection<Section, NestedConnection<Paragraph, NestedConnection<Line, void>>>
connection->addSupport(con_lr);
//con_lr:ChildT* 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:42:17.157

A`T*`可以`const T*`隐式转换为 a 但您不能将 a 绑定`T*`到 a `const T*&`。如果引用是`const`引用，您可以，例如`const T* const&`.

# ios - 在 iOS 应用程序中使用 DCMTK

> ID：11839794
> 
> 赞同：1
> 
> 时间：2012-08-07T05:31:55.543
> 
> 标签：ios, ios5, dicom

我想在我的应用程序中使用 DCMTK 并已成功为 iOS 模拟器编译 DCMTK 3.6.0。然后我创建了一个工作区，在其中添加了 DCMTK 项目和我的应用程序。我将 .a 文件添加为目标依赖项并链接了二进制文件。我想我错过了必须设置标题/库搜索路径的部分。我尝试包含一个头文件说#include“dcm2xml.h”，它说找不到文件。我究竟做错了什么？

我见过这个。->[如何在 iPhone 项目中使用 DCMTK](https://stackoverflow.com/questions/5484634/how-to-use-dcmtk-in-iphone-project?rq=1)但我认为有一种更简单的方法，无需使用该框架。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T12:48:35.507

[你可以在这里](http://www.brindusescu.org/download/software/dicomViewer.zip)找到一些关于如何为 ios 和模拟器编译 dctmk 的信息，从[这里](http://www.brindusescu.org/article_32_lang_eng)你可以下载一个使用 dcmtk 的演示项目。它不会显示图像，但会打印文件中某些标签中的信息。我希望它能帮助你开始。

# windows-phone-7 - 如何本地化 Win 8 Metro 应用程序

> ID：11839797
> 
> 赞同：0
> 
> 时间：2012-08-07T05:32:07.403
> 
> 标签：windows-phone-7, localization, windows-8, windows-runtime

[我正在将我的 Windows Phone 应用程序移植到 Windows 8 并根据MSDN](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/Hh965326%28v=win.10%29.aspx)进行本地化以支持多种语言 。在开始本地化之前，我只想澄清一些事情。

1.  在为 Windows Phone 进行本地化时，我编写了一个名为`LocalizedStrings`并使用 a`ResourceManager`来获取后面代码中的字符串的单独类，而对于 XAML，我使用了绑定。MSDN 链接显示了`x:Uid`每个元素的用法，这适用于英语。我想确认这是否是正确的方法？

2.  `SupportedCultures`在`.csproj`文件中添加怎么样。这里有这种东西吗？

3.  有没有办法在模拟器中测试不同的语言？如何更改模拟器中的语言设置？

如果有人能澄清这些，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T09:43:46.397

由于 Igor 已经回答了您的 3 个问题并且 XAML 绑定是要走的路，我不会重复这些答案。

但是，我想补充一点，您必须计划是在同一个程序集中定义资源，还是[将它们卸载到另一个程序](http://www.bartlannoeye.be/blog/xaml-binding-resources-from-a-separate-assembly)集中。因为绑定到卸载的资源有点棘手，你必须定义你的`x:Uid`类似：

```
<TextBlock x:Uid="/OffloadingResources.Resources/Resources/AppTitle" .. /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T08:36:09.737

1.  是的，如果您在 XAML 中本地化，则必须使用 x:Uid 而不是绑定

2.  没有必要，支持的语言会自动从您的资源文件中检测到

3.  模拟器中的语言设置与您的系统中的相同。您应该将所有语言添加到您的系统（控制面板\时钟、语言和区域\语言），然后更改它们的优先级以在您的应用程序中查看不同的本地化

# php - 无法从 mongoDB 获取数据

> ID：11839799
> 
> 赞同：0
> 
> 时间：2012-08-07T05:32:08.920
> 
> 标签：php, mongodb

我创建函数以通过 PHP 代码从 mongoDB 获取数据。但它似乎效果不佳。

让我们看看我的代码

```
function updateperformancescore($timepf)
    {
        $mon = new Mongo('mongodb://127.0.0.1:27017');
        $dbs = $mon->selectDB('bitdindatabase');
        $col = $dbs->selectCollection('bd_performance_score');

        $query2 = array("user_ID"=>"999");
        echo "<br>query__".$query2["user_ID"];

        $data2 = $col->find($query2,true);
        echo "<br>count___".count($data2)."<br>";
        echo "check is_object--".is_object($data2)."<br>";
        //echo "--".$data2["user_ID"]."<br>";
        error_reporting(E_ALL ^ E_NOTICE);
        foreach ($data2 as $obj) 
            {
                echo "aaaa";

                $which = array("user_ID"=>$obj["user_ID"],"time"=>$obj["ps_avgtime"],"slug"=>$obj["lesson_slug"]);

                echo json_encode($which);
            } 
```

和网页只显示

query_999*计数*__1 检查 is_object--1

但我在 mongo 中的数据是

```
{ "_id" : ObjectId("501e768eefbdb8637e2b00c8"), "user_ID" : 999, "lesson_slug" : 999, "ps_avgtime" : 999 }
{ "_id" : ObjectId("501e7698efbdb8637e2b00c9"), "user_ID" : 999, "lesson_slug" : 998, "ps_avgtime" : 888 }
{ "_id" : ObjectId("501e76a1efbdb8637e2b00ca"), "user_ID" : 999, "lesson_slug" : 997, "ps_avgtime" : 777 }
{ "_id" : ObjectId("501e76a9efbdb8637e2b00cb"), "user_ID" : 999, "lesson_slug" : 996, "ps_avgtime" : 77 }
{ "_id" : ObjectId("501e76b6efbdb8637e2b00cc"), "user_ID" : 999, "lesson_slug" : 995, "ps_avgtime" : 555 }
{ "_id" : ObjectId("501e76c0efbdb8637e2b00cd"), "user_ID" : 999, "lesson_slug" : 994, "ps_avgtime" : 444 }
{ "_id" : ObjectId("501e76caefbdb8637e2b00ce"), "user_ID" : 999, "lesson_slug" : 993, "ps_avgtime" : 333 }
{ "_id" : ObjectId("501e76d3efbdb8637e2b00cf"), "user_ID" : 999, "lesson_slug" : 992, "ps_avgtime" : 222 }
{ "_id" : ObjectId("501e76dcefbdb8637e2b00d0"), "user_ID" : 999, "lesson_slug" : 991, "ps_avgtime" : 111 }
{ "_id" : ObjectId("501e76e6efbdb8637e2b00d1"), "user_ID" : 999, "lesson_slug" : 990, "ps_avgtime" : 1 } 
```

为什么它不进入 foreach ？以及此代码有什么问题以及如何正确获取数据。请帮助或指导我:)

**编辑**

我只是 error_log 它显示

> 致命错误：在 /var/www/web/sendanswer.php:92 中未捕获的异常“MongoException”和消息“MongoCursor 对象未由其构造函数正确初始化”堆栈跟踪：#0 /var/www/web/sendanswer。 php(92): MongoCursor->rewind() #1 /var/www/web/sendanswer.php(343): sendanswer->updateperformancescore(4.4269230365753) #2 {main} 下一个异常 'MongoException' 带有消息 'MongoCursor 对象/var/www/web/sendanswer.php:92 中的构造函数未正确初始化堆栈跟踪：#0 /var/www/web/sendanswer.php(92): MongoCursor->rewind() #1 / var/www/web/sendanswer.php(343): sendanswer->updateperformancescore(4.4269230365753) #2 {main} 在第 92 行的 /var/www/web/sendanswer.php 中抛出

这是什么意思 ？？

**编辑**

这意味着“可能您的 Mongo 对象未连接到数据库服务器。”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T06:53:44.360

我看到的是数据类型错误。

在数据库中 user_ID 是一个整数，在您的 PHP 查询中，它是一个字符串。尝试：

```
$query2 = array("user_ID"=> 999); 
```

代替 ：

```
$query2 = array("user_ID"=>"999"); 
```

PHP 在数据类型上可能很容易，但我不确定 Mongodb 及其 PHP 驱动程序。

`find`您的语句中还有一个不正确的参数。删除`true`应该是字段数组，而不是`bool`

此代码正常工作：

```
<?php

$mon = new Mongo('mongodb://127.0.0.1:27017');
$dbs = $mon->selectDB('my_db');
$col = $dbs->selectCollection('newColl');

$query2 = array("user_ID"=> 999);
echo "<br>query__".$query2["user_ID"];

$data2 = $col->find($query2);

error_reporting(E_ALL ^ E_NOTICE);
foreach ($data2 as $obj)
{

  $which = array("user_ID"=>$obj["user_ID"],
                 "time"=>$obj["ps_avgtime"],
                 "slug"=>$obj["lesson_slug"]);
  echo json_encode($which);
  echo PHP_EOL ;
}
?> 
```

输出：

```
[......]$ php testmongo.php 
<br>query__999{"user_ID":999,"time":999,"slug":999}
{"user_ID":999,"time":999,"slug":999}
{"user_ID":999,"time":339,"slug":999}
{"user_ID":999,"time":339,"slug":5599} 
```

# iphone - 如何获取警报消息？

> ID：11839801
> 
> 赞同：0
> 
> 时间：2012-08-07T05:32:44.123
> 
> 标签：iphone, objective-c, ios, xcode4.2

我有这个代码，实际上当用户点击删除消息时我想要一条警报消息？我怎样才能做到这一点 ..

```
#pragma mark -
#pragma mark Table Data Source Methods

-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{

    return [list count];

}

-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
  static NSString *DeleteMeCellIdentifier = @"DeleteMeCellIdentifier";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:DeleteMeCellIdentifier];
    if (cell==nil) {

        cell =  [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:DeleteMeCellIdentifier];
                    }

    NSInteger row = [indexPath row];
    cell.textLabel.text = [self.list objectAtIndex:row];
    return cell;

   }

#pragma mark -
#pragma mark Table View Data Source Methods

-(void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath {

    NSUInteger row = [indexPath row];
    [self.list removeObjectAtIndex:row];
    [tableView deleteRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] withRowAnimation:UITableViewRowAnimationAutomatic];

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:36:05.937

请尝试以下代码：

```
- (void)tableView:(UITableView *)tableView commitEditingStyle:
(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath
{

 if (editingStyle == UITableViewCellEditingStyleDelete){
     UIAlertView *alert=[[UIAlertView alloc] initWithTitle:@"Alert" message:[NSString 
     stringWithFormat:@"deleted row no. %@",indexPath.row]  delegate:nil 
     cancelButtonTitle:@"Ok" otherButtonTitles: nil];
     [alert show];
     [alert release];
 }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:40:28.033

你可以试试这个：

```
-(void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath {
    NSUInteger row = [indexPath row];
    [self.list removeObjectAtIndex:row];
    [tableView deleteRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] withRowAnimation:UITableViewRowAnimationAutomatic];

UIAlertView *alert=[[UIAlertView alloc] initWithTitle:@"Alert" message:[NSString stringWithFormat:@"You have deleted row no. %@",indexPath.row]  delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles: nil];
        [alert show];

} 
```

# objective-c - 如何在 Objective-C 中将字符串分组为不同的字母组？

> ID：11839802
> 
> 赞同：0
> 
> 时间：2012-08-07T05:32:49.357
> 
> 标签：objective-c, cocoa-touch

目标：将字符串分成不同的字母组。

示例字母组：A 到 C、D 到 F、G 到 J 等。

伪代码：

循环遍历每个组 循环遍历集合中的每个字符串 打印相应组中的字符串

问题：定义字符范围的最佳方法是什么，以便我们可以使用以下内容进行检查？

[NSCharacterSet(我们的自定义字符范围) characterIsMember:[self.targetString.text characterAtIndex:0] ]

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T06:01:44.760

您可以为任意范围的 ASCII 字符设置如下字符集：

```
NSCharacterSet *a_to_d_Set = [NSCharacterSet characterSetWithRange:NSMakeRange('a', 'd'-'a' + 1)];
NSCharacterSet *e_to_l_Set = [NSCharacterSet characterSetWithRange:NSMakeRange('e', 'l'-'e' + 1)]; 
```

当然，您可以等效地编写：

```
NSCharacterSet *a_to_d_Set = [NSCharacterSet characterSetWithRange:NSMakeRange('a', 4)]; 
```

# c# - 在 WinForms 中隐藏和显示标签栏

> ID：11839808
> 
> 赞同：1
> 
> 时间：2012-08-07T05:33:30.707
> 
> 标签：c#, winforms, tabs

我正在为我的应用程序创建一个设置表单 - 我想使用一个选项卡表单来将我的逻辑保留在一个表单上，因为它非常简单，而不是其中的许多表单。有没有办法删除顶部的选项卡导航 UI 并只允许我以编程方式进行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:39:49.767

查看用户控件。它们几乎涵盖了您想要的东西。

只需为每个视图创建一个用户控件。它只包含您希望在每个标签页上拥有的控件。然后您可以隐藏/显示您想要的用户控件，并且您没有每个视图的完整表单。

看看这个教程：http: [//msdn.microsoft.com/en-us/library/a6h7e207%28v=vs.71%29.aspx](http://msdn.microsoft.com/en-us/library/a6h7e207%28v=vs.71%29.aspx)

# c# - 未能启用约束

> ID：11839809
> 
> 赞同：0
> 
> 时间：2012-08-07T05:33:32.837
> 
> 标签：c#, sql-server, winforms, ado.net

> **可能重复：**
> [无法启用约束。一行或多行包含违反非空、唯一或外键约束的值](https://stackoverflow.com/questions/7026566/failed-to-enable-constraints-one-or-more-rows-contain-values-violating-non-null)

我写了这段代码的加载事件：

```
private DataSet1 ds1 = new DataSet1();
private SqlDataAdapter da1 = new SqlDataAdapter();
ds1.Clear();
da1 = new SqlDataAdapter("select * from Département, division,Sérvice where Département.Num_Département = Division.Num_Département_Département and Sérvice.Num_Division_Division = Division.Num_Division", sql.cn);
da1.Fill(ds1, "Sérvice");
da1.Fill(ds1, "Division");
da1.Fill(ds1, "Département"); 
```

但是当我运行表单时，它给了我这个错误：

> 无法启用约束。一行或多行包含违反非空、唯一或外键约束的值。

我该怎么办？

# teamcity - Teamcity 自定义脚本日志输出

> ID：11839811
> 
> 赞同：7
> 
> 时间：2012-08-07T05:33:51.500
> 
> 标签：teamcity

我在 TeamCity 7.0.3 中使用了一个非常基本的*自定义脚本*，它使用 Visual Studio 2010 构建解决方案及其安装程序。

构建失败，TeamCity 构建日志中唯一相关的错误是

> [13:17:13]进程以代码 1 退出

当我从控制台运行相同的脚本时，我会收到很多关于构建失败原因的有用错误。

如何让 TeamCity 包含来自 devenv.exe 的错误？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-20T22:04:48.060

您需要以 TeamCity 可以解释的方式将附加信息报告给它。

看看这篇文章，看看如何做到这一点：

[http://confluence.jetbrains.net/display/TCD7/Build+Script+Interaction+with+TeamCity](http://confluence.jetbrains.net/display/TCD7/Build+Script+Interaction+with+TeamCity)

举一个基本的例子：

> 您可以通过以下方式报告构建日志的消息：
> 
> `##teamcity[message text='<message text>' errorDetails='<error details>' status='<status value>']`

# zend-framework - 跨框架认证zend + codeigniter

> ID：11839812
> 
> 赞同：0
> 
> 时间：2012-08-07T05:33:52.343
> 
> 标签：zend-framework, codeigniter, session-variables, zend-auth

Zend_Auth 使用 PHP Session 但是，codeigniter 有一个完全不同的方法。

我正在从事的项目要求任何在 zend 中使用 hasIdentity() 的人在登录到另一个使用 codeigniter 的系统时，都应该没有问题可以浏览。

在 zend 系统上对用户进行身份验证时如何设置 Codeigniter 会话

下一步是 - 反之亦然。

提前致谢。

编辑：两个站点都使用不同的数据库，但是用户被索引在一起。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T07:59:27.880

一个快速的解决方法是检查 Zend Auth 存储，如果它存在，根据 hasIdentity，我们生成 CI Cookie，一旦 Zend 应用程序中的会话过期，我们会检查并删除 CI Cookie。

这是我能想到的唯一解决方法，它奏效了！:)

# python - 如何让 QTableWidget 的列占据最大空间？

> ID：11839813
> 
> 赞同：11
> 
> 时间：2012-08-07T05:33:58.413
> 
> 标签：python, resize, pyqt, pyqt4, qtablewidget

我的 QTableWidget 的列没有填充表格的空间，因此在右侧留下了一个空白空间。如何使我的 QTableWidget 的列占据最大空间以填充该空间？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-08-07T18:08:17.960

表的[标题](http://doc-snapshot.qt-project.org/4.8/qheaderview.html)有控制它的方法：

```
header = table.horizontalHeader()
header.setStretchLastSection(True) 
```

或者：

```
header.setResizeMode(QHeaderView.Stretch) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T12:11:59.947

我不知道有什么方法可以将此属性设置为 QTableWidget 的内容。但是，我可以使用以下内容来调整列的大小：

```
def resizeEvent(self, event):
    self.setColumnWidth(0, event.size().width()) 
```

这仅调整第一列的大小。要调整所有列的大小，应该获取所有子项并应用列宽/项数。

# iphone - iPad 中来自 .NET Web 服务 XML 的动态控制显示

> ID：11839814
> 
> 赞同：1
> 
> 时间：2012-08-07T05:34:23.507
> 
> 标签：iphone, .net, ios, web-services, ipad

我需要使用 .NET Web 服务在 iPad 中动态显示复选框、选择列表、文本框、标签、按钮等 Web 控件。

为此，我必须读取来自 .NET Web 服务的 XML，并相应地在 iPad 中显示控件。

另外，我需要对这些动态添加的控件进行动态验证。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:37:36.597

我认为这对你有用

检查这个

```
https://github.com/jonathanellis/pegasus 
```

# user-interface - 您如何改善 Dynamics CRM 2011 中的用户体验？

> ID：11839816
> 
> 赞同：0
> 
> 时间：2012-08-07T05:34:32.920
> 
> 标签：user-interface, web, dynamics-crm, dynamics-crm-2011

我知道这很难，但您如何改善**Dynamics CRM 2011**中的**用户体验**？

 ***   你如何设计你的**表格**？您的表单是否“充满了 iframe”？您是否隐藏所有字段，然后插入一个 iframe 来托管和公开所有功能？

*   您是否尝试在 iframe 中**模仿 Dynamics CRM 的默认样式**（以便更好地与用户界面集成）？

*   Xrm.Page.data.entity.attributes**允许**安装**onChange()**处理程序。据我所知，这就是全部。您如何通过**几乎没有来自用户的反馈来提供****良好的用户体验**？

 **我希望这些是常识性问题:) 提前谢谢你！

PS：我是 Dynamics CRM 开发的新手，而且......你如何制作一个**自动完成的文本字段**？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T12:45:55.370

您将不断地在可维护性和定制之间进行战斗。当然，您可以做很多自定义 iframe、javascript 和其他一切，但 Dynamics CRM 是一个快速的应用程序开发平台。制作有史以来最漂亮的网站并不是它的意图。允许具有业务知识的人员进行更改和定制，这些更改和定制是通过多个发布周期得到支持的。我会尽量保持简单。

至于自动完成文本字段，使用 jquery 连接一些更改事件并从那里开始。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-07T12:46:45.950

With regards to mimicing the default style, I think you'll find the style guide in the SDK useful for matching particular colors and fonts, etc. You can find it in sdk\resources\styleguide:

![sdk\resources\styleguide](../Images/0c87afdddfd7d43717bb1bb7e1f28b70.png)

As for improving the experience, I try not to fight what the CRM framework provides. I use the existing controls as much as possible and use supported javascript to smooth over the on-form details. If you have a specific requirement we can suggest solutions. The form events for onload, onsave, and onchange provide an acceptable level of feedback for almost all situations on a data form. What specific requirement do you have that requires more than those?

Hope that helps.****

# android - 如果在应用程序中取出电池或手机意外关机，SharedPreferences 不会保存

> ID：11839821
> 
> 赞同：0
> 
> 时间：2012-08-07T05:34:46.750
> 
> 标签：android, sharedpreferences, preferences

例如，我的共享首选项没有保存，如果我的手机电池突然突然被取出，则会选中一个复选框。知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:39:22.440

拔出电池或意外关机时不会调用任何事件。解决此问题的唯一方法是在每次更改首选项时保存首选项。

例如，您的[`CheckBox`](http://developer.android.com/reference/android/widget/CheckBox.html)：

```
CheckBox myCheck = (CheckBox) findViewById(R.id.my_checkbox);
myCheck.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
        SharedPreferences prefs = <your prefs>;
        Editor editor = prefs.edit();
        // Store value of "isChecked" into "editor"
        editor.commit();
    }
}); 
```

您必须对所有其他首选项设置进行类似更改。

# google-app-engine - 如何在 Google 应用引擎中设置自定义 NotFound 页面

> ID：11839827
> 
> 赞同：2
> 
> 时间：2012-08-07T05:35:25.987
> 
> 标签：google-app-engine

我在 Google App Engine (Java) 上托管了我的静态网页。它没有任何服务器端编码。

我使用 HTML5 样板代码作为我的基础。它有一个名为 404.html 的页面。`404.html`当出现找不到页面错误时，我想显示此页面。

如何在 Google App 引擎中显示自定义 404 页面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-09T20:58:14.283

在 Java 中，您可以在文件中设置[错误处理程序](https://developers.google.com/appengine/docs/java/config/webxml#Error_Handlers)`web.xml`（位于应用程序的 WAR 中的 WEB-INF/ 目录下）。

```
<error-page>
    <error-code>500</error-code>
    <location>/errors/servererror.jsp</location>
</error-page> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:52:55.427

您可以在文件中设置[自定义错误响应。](https://developers.google.com/appengine/docs/java/config/appconfig#Custom_Error_Responses)`app.yaml`

# api - 使用 Mediafire API 显示列表文件和文件夹

> ID：11839839
> 
> 赞同：0
> 
> 时间：2012-08-07T05:36:29.133
> 
> 标签：api

我尝试使用[Mediafire API](http://developers.mediafire.com/index.php/REST_API)，但是当我使用文件夹 get_info 时，它不会像示例一样返回文件和文件夹数组。

我使用的完整网址：[http ://www.mediafire.com/api/folder/get_info.php?folder_key=l461cm2d8hfxd](http://www.mediafire.com/api/folder/get_info.php?folder_key=l461cm2d8hfxd)

我的尝试有什么问题？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-25T06:05:30.817

您可以尝试[MediaFire API PHP 库](http://www.phpclasses.org/package/7598-PHP-Upload-and-retrieve-files-to-MediaFire-service.html "MediaFire API PHP 库")。该类目前实现了 Mediafire API 中的所有功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T18:43:17.423

好的，我只是看了一下他们的 API 文档。他们更新了文件夹的 get_info 函数。他们已经取出了文件树....

因此，如果您通过保管箱上传（不返回与文件关联的快捷键），您永远不能使用保管箱上传，然后使用 api 查找文件并下载它。这使得他们的 API 就像野猪上的山雀一样无用。

保管箱的目的是允许远程上传到文件夹，然后您知道文件夹密钥，因此您可以查询 API 并返回文件夹中的文档快捷键，然后您可以远程管理这些文件、移动、删除、下载等。现在你不能这样做 FAIL FAIL FAIL。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-01T08:15:33.573

尽管 get_info 的功能不起作用，但文件夹搜索至少可以解决一些检索快捷键的问题。在我的情况下，我搜索了“.mp3”并收到了我文件夹中的所有 mp3

# jquery - IE 中的 Nivo 滑块显示问题

> ID：11839842
> 
> 赞同：2
> 
> 时间：2012-08-07T05:36:47.147
> 
> 标签：jquery, nivo-slider

我正在使用 nivo 滑块进行图像幻灯片放映。在 FF、Chrome 等中看起来一切都很好。虽然它在 IE 中显示非常奇怪（见附件）（在 8(xp) + 9(win7) 上测试）。

有没有人遇到过这个？

这是代码：

```
<div class="slider-wrapper theme-default">
            <div id="slider" class="nivoSlider">

                    <img src="pathtoimage" alt="" />
                            <img src="pathtoimage" alt="" />
                       <img src="pathtoimage" alt="" />
                            <img src="pathtoimage" alt="" />

            </div>
        </div> 
```

.

```
$('#slider').nivoSlider({
            effect: 'fade', // Specify sets like: 'fold,fade,sliceDown'
            slices: 15, // For slice animations
            boxCols: 8, // For box animations
            boxRows: 4, // For box animations
            animSpeed: 500, // Slide transition speed
            pauseTime: 3000, // How long each slide will show
            startSlide: 0, // Set starting Slide (0 index)
            directionNav: false, // Next & Prev navigation
            directionNavHide: true, // Only show on hover
            controlNav: true, // 1,2,3... navigation
            controlNavThumbs: false, // Use thumbnails for Control Nav
            pauseOnHover: true, // Stop animation while hovering
            manualAdvance: false, // Force manual transitions
            prevText: 'Prev', // Prev directionNav text
            nextText: 'Next', // Next directionNav text
            randomStart: true, // Start on a random slide
            beforeChange: function(){}, // Triggers before a slide transition
            afterChange: function(){}, // Triggers after a slide transition
            slideshowEnd: function(){}, // Triggers after all slides have been shown
            lastSlide: function(){}, // Triggers when last slide is shown
            afterLoad: function(){} // Triggers when slider has loaded
        }); 
```

.

```
#slider { height: 309px; }
    .nivoSlider {position:relative; background:url(../thirdparty/nivo-slider/themes/bar/loading.gif) no-repeat 50% 50%; width:640px; height: 309px; box-shadow: none !important; float: left}
    .nivoSlider img {position:absolute; top:0px; left:0px; display:none;}
    .nivoSlider a {border:0; display:block;
    }

    .sliderSurround{position: relative; width: 640px; height: 309px;}
    .nivo-controlNav{position: absolute; bottom: 0; right: 0; z-index: 999;}
        .nivo-control{background-image: none !important; background-color: #E00019 !important; cursor: pointer;}
        .nivo-control.active{background-color: #fff !Important}
        .theme-default .nivo-controlNav a{height: 16px !important; width: 16px; margin:0 4px;}
        .theme-default .nivo-controlNav{padding: 15px 10px !important} 
```

![在此处输入图像描述](../Images/28d1140655886c6a70da9c9bf5e0a791.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-07T22:09:24.947

我注意到重复图像部分的数量（15）与默认的“切片”设置相关。我将其更改为 1，它解决了这个问题。

```
$('#slider').nivoSlider({
            effect: 'fade', // Specify sets like: 'fold,fade,sliceDown'
            slices: 1 // For slice animations
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T17:43:51.423

我知道这很基础，但你有没有尝试过其中一个主题？所有小的、特定于 IE 的修复都在`nivo-slider.css`主 css 中，如果你想要一个主题，你还必须添加主题的 css。我有同样的症状，这就是我的答案^_^

因此，需要明确的是，如果您使用其中一个主题，您的 css 链接 rel 应该如下所示：

```
link rel="stylesheet" type="text/css" href="/css/nivo-slider.css"

link rel="stylesheet" type="text/css"
href="/css/nivo-slider-themes/default/default.css" 
```

（修复此问题也可能使标题框“出现”在 Chrome 和 FF 中）

# html - KendoUI MVVM 网格页面事件

> ID：11839843
> 
> 赞同：0
> 
> 时间：2012-08-07T05:36:52.757
> 
> 标签：html, grid, pagination, kendo-ui

我正在开发一个 MVVM 应用程序，我正在使用 KendoUI Grid。在网格中，我想在用户更改页面时获取 onChange 事件。（我已经能够在没有 MVVM 的情况下做到这一点）。为此，我使用了以下元素。

```
data-pageable='{ "pageSize": 2, events: {change: onPage}}' //This is not working 
```

我想让程序在用户更改页面时执行 onPage 函数。任何帮助表示赞赏。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T15:33:35.777

我正在使用当用户更改页面时触发的网格数据绑定事件。从那里我选择第一行，因此它被突出显示。希望这可以帮助

在网格定义中：

```
.Events(events=>events.DataBound("Grid_Databound")) 
```

在脚本中：

```
<script>
function Grid_Databound() {
        var grid = $("#Grid").data("kendoGrid");
        row = grid.tbody.find(">tr:not(.k-grouping-row)").eq(0);
        grid.select(row);

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-09T20:39:31.587

您不需要“事件：{}”，只需“更改”，您需要引用您的视图模型：

```
data-pageable='{ pageSize: 2, change: yourviewmodel.onPage }' 
```

# c# - 无法在 C# 的 tablelayoutpanel 中启用滚动

> ID：11839846
> 
> 赞同：0
> 
> 时间：2012-08-07T05:37:16.073
> 
> 标签：c#, scroll, tablelayoutpanel

我在我的项目中使用了一个表格布局面板并在其中显示项目。但它不可滚动，我尝试过使用自动滚动、最大尺寸以及与滚动相关的所有其他内容。

任何形式的帮助将不胜感激，非常感谢，请帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-18T11:33:31.087

我不确定你在为那个控件设计什么，但它确实实现了 IScrollable 接口（就像这个名字一样，你可以在对象浏览器中查看它）。

这是我的。

```
// 
        // tableLayoutPanel1
        // 
        this.tableLayoutPanel1.Anchor = ((System.Windows.Forms.AnchorStyles)(((System.Windows.Forms.AnchorStyles.Top | System.Windows.Forms.AnchorStyles.Bottom) 
        | System.Windows.Forms.AnchorStyles.Left)));
        this.tableLayoutPanel1.AutoScroll = true;
        this.tableLayoutPanel1.CellBorderStyle = System.Windows.Forms.TableLayoutPanelCellBorderStyle.Single;
        this.tableLayoutPanel1.ColumnCount = 2;
        this.tableLayoutPanel1.ColumnStyles.Add(new System.Windows.Forms.ColumnStyle());
        this.tableLayoutPanel1.ColumnStyles.Add(new System.Windows.Forms.ColumnStyle());
        this.tableLayoutPanel1.Location = new System.Drawing.Point(12, 12);
        this.tableLayoutPanel1.Name = "tableLayoutPanel1";
        this.tableLayoutPanel1.RowCount = 1;
        this.tableLayoutPanel1.RowStyles.Add(new System.Windows.Forms.RowStyle());
        this.tableLayoutPanel1.Size = new System.Drawing.Size(686, 515);
        this.tableLayoutPanel1.TabIndex = 0;
        // 
```

希望对你有帮助，我现在才用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T09:16:22.320

为了自动滚动显示任何类型的滚动条，它的父控件必须小于 TableLayoutPanel 本身。检查您的父尺寸和其他属性，例如*autosize、dock 和 autosizemode*

# objective-c - 具有清晰背景和自定义渐变层的 DrawRect

> ID：11839849
> 
> 赞同：0
> 
> 时间：2012-08-07T05:37:24.010
> 
> 标签：objective-c, uiview, uikit

如果`UIView`您执行以下操作：

```
CAGradientLayer *layer = [CAGradientLayer layer];
layer.colors = [NSArray arrayWithObjects:(id) [UIColor colorWithRed:0 green:0 blue:0.1 alpha:1].CGColor,[UIColor colorWithRed:0.3 green:0.3 blue:0.74 alpha:1].CGColor, nil];
layer.frame=CGRectMake(0, 0, self.frame.size.width,self.frame.size.height);
[self.layer insertSublayer:layer atIndex:0]; 
```

然后将`drawRect`在此渐变之上执行自定义绘图吗？`drawRect`会影响视图的实际背景，还是完全不同的图层？如果视图的背景颜色`clearColor`仍然`drawRect`显示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T07:42:41.467

子层掩盖了其超层的内容。如果您覆盖`drawRect:`以绘制内容，则该内容将被渐变层遮盖。

如果你想在你的（视图）内容后面绘制渐变，你应该在你的`drawRect:`而不是使用子层中绘制渐变，或者使用包含渐变层和你的`drawRect:`-using 内容视图的容器视图，以及你的内容视图在上面。

此外，如果您希望渐变层覆盖您的视图，最`layer.frame`好像这样初始化：

```
layer.frame = self.bounds; 
```

# android - 在 2.2 到 4.0 版本中无法运行 Android App develoepd

> ID：11839850
> 
> 赞同：0
> 
> 时间：2012-08-07T05:37:25.963
> 
> 标签：android, json

我是 Android 的初学者，这是我在 Android 中的第一个应用程序，我卡得很厉害，我需要你的帮助。

这是问题陈述。

> 我们在 MySQL 中有一个非常庞大的数据库，我需要使用 android 应用程序进行授权，并且在成功登录后，我需要显示该登录用户的所有订单详细信息。

为此，我使用 PHP 进行后端工作，例如授权、显示该用户的订单和更新。不知不觉中，我使用了 Android 2.2(Floryo) 版本。所有这些功能主义者在 Android 2.2 版本上都可以正常工作，但是当我尝试在 Android 4.0 上运行相同的版本时，它给了我运行时错误。我从 PHP 脚本文件中得到 JSON 格式的响应。

在这种情况下缺少什么。我需要安装任何库吗？

请帮帮我。完成工作后，我也无法展示我的工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:57:17.470

首先检查 SQl 问题，我认为 Android2.2 和 Android4.0 中的 sqlite 版本不同，其中一些查询的工作方式不同，我知道我对你问题的回答是一半。

# php - 如何在表单帖子的视图中设置控制器变量

> ID：11839852
> 
> 赞同：0
> 
> 时间：2012-08-07T05:37:32.723
> 
> 标签：php, zend-framework, post, view, controller

我有`Zend`一个`PHP`表格：

```
<form action="https://example.com/checkout/" name="info" method="post"> 
    <div id="payment">
        <div id="paypal>
            <?php $this->is_paypal_payment = true; ?>
        </div>
        <div id="credit_card>
            <?php $this->is_paypal_payment = false; ?>
        </div>
    </div>
</form> 
```

当用户点击提交按钮时，如何在Controller中设置实例变量？

这是我尝试过的，但没有奏效。

控制器：

```
$this->view->payment_option_paypal = false;  // initialized value

$payment_method_option = $this->_getParam('payment_option_paypal', null);
if (!is_null($payment_method_option)) {
   if ($payment_method_option == 'paypal') {
       $this->_is_paypal = true;
   }
} 
```

看法：

```
<div id="paypal" style="display: none;">
    <?php $this->payment_option_paypal = "paypal"; ?>
    <img src="paypal.gif" style="margin-right:20px;">
</div> 
```

单击提交后，`the _getParam()`函数不会捕获视图为控制器中的实例变量设置的字符串“paypal”`$this->payment_option_paypal`

任何想法有什么问题以及如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:55:17.770

在您的**phtml 页面**中，您必须像这样使用

```
<div id="paypal" style="display: none;">
    <input type="hidden" name="paypalname" value="<?php echo $this->payment_option_paypal = "paypal"; ?>" id="paypalname"/>
    <img src="paypal.gif" style="margin-right:20px;">
</div> 
```

和**控制器**

```
function yourAction()
{
      if ($this->_request->isPost()) 
      {
         $paypalvalue=$this->_getParam('paypalname');
      }
} 
```

我希望它对您有所帮助，如果您对我的回答有任何问题，请告诉我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T06:08:08.533

一个 div 不会提交数据，任何需要呈现为 html 的东西都必须被回显：

```
<form action="https://example.com/checkout/" name="info" method="post"> 
    <div id="payment">
        <div id="paypal>
            <?php echo $this->is_paypal_payment = true; ?><!-- maybe should be an input element of kind and echo the $this-> statement -->
        </div>
        <div id="credit_card>
            <?php echo $this->is_paypal_payment = false; ?><!-- maybe should be an input element of kind and echo the $this-> statement -->
        </div>
    </div>
</form> 
```

再次回声：

```
<div id="paypal" style="display: none;">
    <?php echo $this->payment_option_paypal = "paypal"; ?>
    <img src="paypal.gif" style="margin-right:20px;">
</div> 
```

# jquery - Flask没有从jQuery请求数据中获取任何数据

> ID：11839855
> 
> 赞同：13
> 
> 时间：2012-08-07T05:37:38.787
> 
> 标签：jquery, python, flask

我有一个 URL 处理程序，

```
@app.route("/", methods=['POST'])
@crossdomain(origin='*')
def hello():
    ss=str(request.data)
    print ss
    return ss 
```

处理程序无法检索请求的数据部分。使用 jQuery 时：

```
jQuery.ajax(
   {
      type: "POST",
      dataType: "json",
      data:"adasdasd",
      url: 'http://127.0.0.1:5000/',
      complete: function(xhr, statusText)
      {  alert(xhr.responseText) }}) 
```

什么都没有返回

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-08-07T06:34:23.943

有趣的是，事实证明，您只能在使用`request.data`烧瓶无法处理的 mimetype 发布数据时使用，否则`""`我认为它是一个空字符串，文档不是很清楚，我做了一些测试，这似乎是在这种情况下，您可以查看运行我的测试时烧瓶生成的控制台输出。

> # 传入请求数据
> 
> data
>   包含传入的请求数据作为字符串，以防它带有 Flask 无法处理的 mimetype。

取自[http://flask.pocoo.org/docs/api/](http://flask.pocoo.org/docs/api/)

但是由于我们正在`POST`使用 json做一个标准`flask`，因此可以很好地处理这个问题，因此您可以从标准访问数据，`request.form`这`ss=str(request.form)`应该可以解决我测试过的问题。

作为旁注`@crossdomain(origin='*')`，这似乎很危险，我们不允许跨站点 ajax 请求是有原因的，尽管我相信你有你的理由。

这是我用于测试的完整代码：

```
from flask import Flask
app = Flask(__name__)

from datetime import timedelta
from flask import make_response, request, current_app
from functools import update_wrapper

def crossdomain(origin=None, methods=None, headers=None,
                max_age=21600, attach_to_all=True,
                automatic_options=True):
    if methods is not None:
        methods = ', '.join(sorted(x.upper() for x in methods))
    if headers is not None and not isinstance(headers, basestring):
        headers = ', '.join(x.upper() for x in headers)
    if not isinstance(origin, basestring):
        origin = ', '.join(origin)
    if isinstance(max_age, timedelta):
        max_age = max_age.total_seconds()

    def get_methods():
        if methods is not None:
            return methods

        options_resp = current_app.make_default_options_response()
        return options_resp.headers['allow']

    def decorator(f):
        def wrapped_function(*args, **kwargs):
            if automatic_options and request.method == 'OPTIONS':
                resp = current_app.make_default_options_response()
            else:
                resp = make_response(f(*args, **kwargs))
            if not attach_to_all and request.method != 'OPTIONS':
                return resp

            h = resp.headers

            h['Access-Control-Allow-Origin'] = origin
            h['Access-Control-Allow-Methods'] = get_methods()
            h['Access-Control-Max-Age'] = str(max_age)
            if headers is not None:
                h['Access-Control-Allow-Headers'] = headers
            return resp

        f.provide_automatic_options = False
        return update_wrapper(wrapped_function, f)
    return decorator

@app.route("/", methods=['POST'])
@crossdomain(origin='*')
def hello():
    ss=str(request.form)

    print 'ss: ' + ss + ' request.data: ' + str(request.data)
    return ss

@app.route("/test/")
def t():
    return """
<html><head></head><body>
<script src="http://code.jquery.com/jquery.min.js" type="text/javascript"></script>
<script type='text/javascript'>
jQuery.ajax(
   {
      type: "POST",
      dataType: "json",
      data: "adasdasd",
    url: 'http://127.0.0.1:5000/',
complete: function(xhr, statusText)
      {  alert(xhr.responseText) }})

var oReq = new XMLHttpRequest();
oReq.open("POST", "/", false);
oReq.setRequestHeader("Content-Type", "unknown");
oReq.send('sync call');
alert(oReq.responseXML);
</script></body></html>
"""

if __name__ == '__main__':
    app.run() 
```

输出：

```
$ python test.py 
 * Running on http://127.0.0.1:5000/
127.0.0.1 - - [07/Aug/2012 02:45:28] "GET /test/ HTTP/1.1" 200 -
ss: ImmutableMultiDict([('adasdasd', u'')]) request.data: 
127.0.0.1 - - [07/Aug/2012 02:45:28] "POST / HTTP/1.1" 200 -
ss: ImmutableMultiDict([]) request.data: sync call
127.0.0.1 - - [07/Aug/2012 02:45:28] "POST / HTTP/1.1" 200 -
127.0.0.1 - - [07/Aug/2012 02:45:29] "GET /favicon.ico HTTP/1.1" 404 - 
```

和我的系统：

```
$ python --version
Python 2.6.1

$ python -c 'import flask; print flask.__version__;'
0.8

$ uname -a
Darwin 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun  7 16:33:36 PDT 2011; root:xnu-1504.15.3~1/RELEASE_I386 i386 
```

使用谷歌浏览器`Version 20.0.1132.57`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-07-11T18:47:40.890

我一直在使用类似的功能，在对 ajax 和 python 进行了一些处理之后，这就是我想出的让 python 读取 ajax 数据的方法

JavaScript：

```
var data = {
      data: JSON.stringify({
                        "value":'asdf'
                    })
   }
};

$.ajax({
   url:"/",
   type: 'POST',
   data: data,
   success: function(msg){
              alert(msg);
            }
}) 
```

Python：

```
from flask import json
@app.route("/", methods=['POST'])
def get_data():
    data = json.loads(request.form.get('data'))
    ss = data['value']
    return str(ss) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-12-03T09:45:43.730

这对我有用。

在 Javascript 中：

```
$.ajax({
  type: 'POST',
  url: "enter your correct url",
  contentType: "application/json; charset=utf-8",
  data: JSON.stringify({title: 'My Title', article: 'My article'}),
  success: function(result){
    console.log(result)
  }
}); 
```

在 Python（烧瓶）中：

```
 from flask import request
 import json

 @app.route("/", methods=['POST'])
 def home():
   json_data = json.loads(request.data)
   print(json_data)
   return json_data 
```

注意：要点是；

*   JSON.stringify()
*   内容类型：“应用程序/json；字符集=utf-8”
*   json.loads
*   请求数据

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-24T07:16:06.503

嗯，我通过`request.form`. 我正在使用[DataTables](https://datatables.net/)并像这样指定它：

```
<script type="text/javascript">
$(document).ready( function() {
        $('#mgmtdata').dataTable( {
                "bServerSide": true,
                "sAjaxSource": "{{url_for('.xhr')|safe}}",
                "sServerMethod": "POST",
                "bDeferRender": true,  
                "bFilter": {{ info.filter if info.filter else "false" }},
                "aoColumnDefs": [ {{ info.columndefs|safe if info.columndefs }} ],
        } );
} ); 
```

xhr() 函数很简单：

```
@usersview.route('/xhr', methods=["POST"])
def xhr():
    if not 'usersview' in g:   
        g.usersview = UsersDatatableView()
    return g.usersview.render() 
```

usersview 是我的 Grid() 对象的一个​​实例。在这种情况下，只有有趣的是它如何获取 DataTables 发送的 ajax 数据：

```
def render(self):
    q = self.getQuery()

    # add filtering
    if 'sSearch' in request.form and request.form['sSearch']:
        q = self.applyFilter(q, request.form['sSearch'])

    # add sorting
    if 'iSortingCols' in request.form:
       # and so on 
```

# php - php脚本自行激活

> ID：11839857
> 
> 赞同：0
> 
> 时间：2012-08-07T05:38:13.930
> 
> 标签：php, session

好的，所以我一直在寻找整个网络，我似乎无法找到任何解决我的问题的方法。如果过去有人问过这个问题，我深表歉意。

我确信对此有一个非常简单的答案：不久前，我为客户建立了一个网站。这个网站有一个管理系统，其中一些页面使用名为“级别”的 $_SESSION 变量锁定，该变量基本上检查用户是否是管理员。此外，一些页面被通常的登录会话变量锁定，以确保只有登录的人才能访问这些页面。

现在的问题是，在我的两个页面上，php 脚本似乎完全由自己运行。第一页只是将所有激活电子邮件重新发送给数据库中每个用户的页面。此页面只能通过登录并以管理员身份访问。第二页只能通过 PayPal 访问。PayPal 脚本具有后备支持，可检查是否存在 PayPal 发布变量。

任何人都知道为什么这些脚本自己运行？当不断向客户或管理员发送随机电子邮件时，它会变得很麻烦。我可能在某个地方做错了什么。我认为可能只是 Google 爬虫激活了脚本，但爬虫不是必须登录才能访问脚本吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T06:35:00.497

这可能是很多事情。

一种方法可能是搜索引擎正在执行您的脚本。

几年前，我受雇调查可能导致删除使用他们自制 CMS 制作的所有页面的原因。

查看他们的访问日志显示，两个搜索引擎正试图在管理前端中对内容进行索引。包括所有*删除页面*链接。

发生这种情况的原因是两件事的结合。

第一个是来自两个搜索引擎的管理员浏览器插件。文档证明客户访问的页面是从他们的插件发送到搜索引擎的。

其次，当搜索引擎试图索引一个受会话保护的页面时，他们的 CMS 的原始开发人员忘记`exit;`在该`header('Location: ...');`部分之后放置一个，这意味着页面上的其余代码仍然被执行。

**解决方案**

我通过添加`exit;`代码解决了这个问题：

```
If( ! isset($_SESSION['level']) )
{
  header('Location: login.php');
  exit; // stops further execution of code
} 
```

我希望这会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:43:08.613

检查您的服务器的访问日志，看看何时以及什么在调用这些页面（如果它们被调用）。

如果某些东西正在访问那些不应该访问的页面（蜘蛛、人等），那么您就有了安全问题。

我非常怀疑这些脚本是在“自称”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T05:56:51.983

要找出调用它们的原因，请在检查会话变量是否已设置后发现未设置，添加

```
file_put_contents('./log/log.txt', print_r($_SERVER)); 
```

为自己创建一个目录“log”和一个 writabel 文件“log.txt”，源代码应该出现在其中。

另一个有用的函数是 debug_backtrace()。使用它有点棘手，但是：

```
if ($handle = @fopen('./log/log.txt', 'a')) {
    for ($i=1; $i<count($aBack); $i++) {
        if (isset($aBack[$i]['file'])) {
            fwrite($handle, $aBack[$i]['file'] . '/' . $aBack[$i]['line'] . "\n\r";
        } else {
            fwrite($handle, 'Anonymous function' . "\n\r";
        }
    }
    fclose($handle);
} 
```

应该给你一个使用什么誓言的日志。（代码逐字输入 - 抱歉有错别字，但你应该可以从那里开始工作）

请注意，大多数客户端信息（IP、referer 等）都是可伪造的，但调用 URI 不是。它会给你很多关于什么叫他们的信息。

# php - 将 ftp 文件流式传输到浏览器

> ID：11839859
> 
> 赞同：1
> 
> 时间：2012-08-07T05:38:18.993
> 
> 标签：php, browser, ftp, stream

我正在尝试从 ftp 站点检索文件并将其流式传输到浏览器。

错误是：

> 警告：ftp_nb_get() 期望参数 2 是字符串，给定资源

我知道这是一种资源，但我该如何解决呢？

```
if(isset($_GET['filename'])){
    $requestfilename = $_GET['filename'];

    if($sockets = stream_socket_pair(STREAM_PF_UNIX, STREAM_SOCK_STREAM, STREAM_IPPROTO_IP)){
        stream_set_write_buffer($sockets[0], 0);
        stream_set_timeout($sockets[1], 0);
        if($ftp_connection = ftp_connect($ftp_server)){
            if (@ftp_login($ftp_connection, $ftp_user, $ftp_pass)) {
                if(@ftp_chdir($ftp_connection, $ftp_dir_new)){
                    if($ret = ftp_nb_get($ftp_connection, $sockets[0], $requestfilename, FTP_BINARY)){
                        while(ftp_nb_continue($ftp_connection)==FTP_MOREDATA){
                            $contents = stream_get_contents($sockets[1]);
                            if($contents !== false) {
                                echo $contents;
                                flush();
                            }
                        }
                        if ($ret != FTP_FINISHED) $error[] = 'There was an error downloading the file...';
                    }else{
                    $error[] = "Could not ftp_nb_get file from $ftp_server";
                    }
                }else{
                    $error[] = "Couldn't cd to $ftp_dir_new";
                }
            } else {
                $error[] = "Couldn't connect as $ftp_user";
            }
        }else{
            $error[] =  "Couldn't connect to $ftp_server";
        }
    }else{
        $error[] = "Unable to create socket pair";
    }

    if($sockets){
        fclose($sockets[0]);
        fclose($sockets[1]);
    }
    if( ! empty($ftp_connection)) ftp_close($ftp_connection);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:46:44.680

因此，您正在寻找一种替代方法`ftp_nb_get()`，允许您写入 STDOUT 或任意流，而不是本地文件？

我根本没有使用过这个模块，但它看起来像[`ftp_nb_fget`](http://www.php.net/manual/en/function.ftp-nb-fget.php)你想要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-08T08:13:50.177

我知道这是一个老话题，但我遇到了这段代码并发现了小错误。也许有人使用它并且在使其工作时遇到问题。

此代码不适用于非常小的文件，因为 ftp_nb_continue 甚至不会返回 FTP_MOREDATA 一次。要解决此问题，您需要将 while 循环更改为：

```
while($ret == FTP_MOREDATA){
    $contents = stream_get_contents($sockets[1]);
    if($contents !== false) {
        echo $contents;
        flush();
    }
    $ret = ftp_nb_continue($ftp_connection);
} 
```

# java - Java - 将消息添加到收件箱

> ID：11839860
> 
> 赞同：0
> 
> 时间：2012-08-07T05:38:43.780
> 
> 标签：java, email

如何从 java 应用程序将消息添加到收件箱文件夹？现在要做到这一点，我使用相同的 FROM 和 TO 地址（javamail -> smtp）。邮件服务器是远程的（Exchange），所以我无法访问它的文件系统。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:46:17.800

如果您的邮件服务器是 Exchange 2007 或更高版本，我会研究[EWSJavaAPI](http://archive.msdn.microsoft.com/ewsjavaapi)微软为所有 Exchange Web 服务调用提供了一个很好的接口（不要弄乱脏脏的 SOAP）

# android - 以 MB Android 为单位获取视频大小

> ID：11839862
> 
> 赞同：0
> 
> 时间：2012-08-07T05:38:45.927
> 
> 标签：android, video, size, media-player

我想从 android 应用程序中的 Url 获取以兆字节为单位的视频大小。我有一个在应用程序内播放视频的播放器。我想在我的播放器旁边显示当前视频大小。所以一个例子就是23mb。如果视频是 23 毫克，那么我会在视频旁边显示 23 mb 的文字。我尝试查看所有 android mp.get 函数，但找不到我要查找的内容。请帮忙。也许我错过了 Android 中的一个功能。或者也许有另一种方法来完成这个。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T06:18:27.400

```
Try this will work in case the http server is giving the file size

URL myUrl = new URL("http://your_url.com/file.mp3");
URLConnection urlConnection = myUrl.openConnection(); 
urlConnection.connect();
int file_size = urlConnection.getContentLength();
    file_size = file_size /1024;

Or second Version try this.

URL myUrl = new URL("http://your_url.com/file.mp3");
myConnection = myUrl.openConnection();
List headersize = myConnection.getHeaderFields().get("content-Lenght"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:44:51.673

HTTP`content-length`标头的值将提供正在下载的文件的大小。

查看[`URLConnection.getHeaderField(String key)`](http://developer.android.com/reference/java/net/URLConnection.html#getHeaderField%28java.lang.String%29)或[`HttpMessage.getFirstHeader(String name)`](http://developer.android.com/reference/org/apache/http/HttpMessage.html#getFirstHeader%28java.lang.String%29)取决于您的服务器访问代码。

# java - 为 java 使用 IDE 真的很明智吗？

> ID：11839865
> 
> 赞同：3
> 
> 时间：2012-08-07T05:39:15.800
> 
> 标签：java, build, ide

对于 Java 开发人员，使用具有自动完成等功能的 IDE 有多大帮助？

有什么缺点吗？使用简单的编辑器并使用构建工具手动构建 src 是否明智，尽管它会花费更多时间？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-08-07T05:50:59.350

唯一不应该使用 IDE 的时候：

*   IDE 不再存在的世界末日场景，可能是在机器兴起之后。然而，你是否应该用 Java 编写你的天网攻击病毒是有争议的......
*   为 SCJP 考试而学习。如果你想做得好，这一点非常重要。

在所有其他时间使用 IDE 及其尽可能多的功能。自动完成在学习时特别有用，可以发现新的方法和类。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-07T06:17:04.420

**1.**永远不要使用IDE，当你想**掌握语言** `Syntax`和`Symantics.`

**2.**学习初期不使用IDE，有助于掌握理解错误和编译器行为的知识。当您犯语法或逻辑错误时，**编译器会抛出某些错误消息，尝试解码该消息将帮助您了解编译器的工作。**

**3.** 它甚至可以帮助你了解哪些`classes`在哪些`packages`。

**4.**但是**IDE 是**生产网络的福音。它是**不可或缺的工具**。更快、更准确、更优化的生产速度都归功于 IDE。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T05:42:13.697

如果你正在学习，最好记住语法，在没有 IDE 的帮助下学习。但是，如果您是专业开发代码，IMO、IDE 会大大提高**生产力**。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-07T05:50:22.747

我觉得如果您正在处理一个大型项目，IDE 会非常方便。

您也可以在此处查看此线程 -[我为什么要使用 IDE？](https://stackoverflow.com/questions/208193/why-should-i-use-an-ide)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-07T06:34:32.713

当您处理真实的 Java 项目时，IDE 是节省时间和提高工作效率的必要条件。除了自动完成 IDE 有许多有用的工具，如分析器、调试器、静态代码分析器（例如[PMD](http://pmd.sourceforge.net/)）。

专注于项目而不是命令行参数和使用命令行工具（如 javac、jar 等）是合理的。

但是当你刚开始学习java时，最好使用简单的编辑器。让你了解编译、打包等核心机制。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-07T05:44:21.857

我从事 Java 编程已经很多年了，如果没有 Eclipse 自动完成器，我将无法工作：p

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-07T05:49:57.213

如果您不知道自己在做什么，IDE 将在很大程度上保护您免于学习。如果您确实知道自己在做什么，IDE 将认真尝试强迫您按照 IDE 的方式进行操作。

IDE 会将您的所有开发环境组合在一个大窗口中，并且会阻止您将内容分散到桌面上以适合自己 - 当然，除非您可以在保留在一个大窗口中的同时执行此操作。

因为 IDE 比你知道的更多，它会阻止你做那些有问题的事情。例如，如果您查看一段代码并说：“应该将这段代码移到子程序中”，当您第一次在代码块上方为新子程序编写调用语句时，IDE 会让您的生活陷入困境，然后在下一行写下子程序语句（或函数语句......任何适合这种语言的语句），然后在代码块下面写子程序的结束语句，所有这些都没有先将代码移出其中的函数它驻留。

因为它比您更清楚，IDE 会通知您尝试在子例程中编写子例程的所有错误。因为它比您更了解，所以当您尝试匹配调用行和新子例程之间的参数列表时，它会重复显示错误消息，其定义语句位于例程主体中并直接位于调用行下方。当您对代码块进行那些指示的更改以使该代码块成为这个新子例程的一部分时，它会抱怨。

当您完成定义所有内容之后，将新的子例程从例程中间剪切/粘贴到它自己的位置时，道歉甚至不够好。

从理论上讲，您可以关闭这些阻碍您提高工作效率和继续工作的“有用功能”。为此，您必须在正确请求者上的正确选项卡下方找到正确子请求者的正确选项卡，该选项卡从正确菜单上正确菜单项下的正确子菜单开始，可以从大条件合适时的 IDE 窗口。

自动完成很好，向您显示对象的成员也很好，除非您不希望这样做并且工具提示框遮住了接下来的三行，这是您真正感兴趣的。

IDE 确实有自己的位置。离我越远越好。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-08-07T05:50:43.917

IDE 是一种生产力工具，有助于提高开发人员的生产力。开发人员应始终尝试使用多个 IDE，比如说尝试在 Java 中同时使用 Eclipse 和 Netbeans

# javascript - SVG元素作为容器？

> ID：11839866
> 
> 赞同：1
> 
> 时间：2012-08-07T05:39:19.547
> 
> 标签：javascript, html, canvas, svg, raphael

我有一个由 svg rect 标签制成的矩形，现在想在其中嵌入一个圆圈。我发现 svg 元素不能包含子元素，或者我想我会得到适当的例子。请让我知道是否有可能在小时候将一个元素融入另一个元素，然后太明显了。可能具有更高的 z-index？怎么可能使用拉斐尔？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T09:45:08.983

只需将圆圈添加为矩形的后续兄弟，它就会在顶部绘制。如果你想让矩形画在圆圈上，你可以把它放在圆圈后面。它被称为画家模型，因为你最后画的任何东西都在其他一切之上。

SVG 目前没有 z-index 属性，尽管有人提议将其添加到即将到来的 SVG 2.0 规范中。

如果你想学习 SVG，有一个[在线入门](http://www.w3.org/Graphics/SVG/IG/resources/svgprimer.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-01-05T20:15:14.867

SVG 组标签`<g>`似乎最等同于 HTML 的`<div>`容器标签。

来自[https://developer.mozilla.org/en-US/docs/Web/SVG/Element/g](https://developer.mozilla.org/en-US/docs/Web/SVG/Element/g)：

> g 元素是用于对对象进行分组的容器。应用于 g 元素的转换在其所有子元素上执行。
> 
> 允许的内容：任意数量的以下元素，以任意顺序

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T19:45:43.107

如果您对创建复杂的形状感兴趣，[路径](http://raphaeljs.com/reference.html#Paper.path)提供了很多可能性。您将获得与 rect 和 circle 基元相同的持久状态、属性延展性和交互性（单击、悬停、拖动），但对区域复杂性没有限制。

作为额外的奖励，通过巧妙选择的路径，您可以从一种形状干净地变形为另一种形状。例如，检查[这个小提琴](http://jsfiddle.net/kevindivdbyzero/cLWZT/)。

构建复杂路径有很多辅助工具……对于大多数项目，Google 的[SVG-edit](http://svg-edit.googlecode.com/svn/branches/2.5.1/editor/svg-editor.html)完全足够了。

# c++ - 在 C++ 中获取数组的长度

> ID：11839871
> 
> 赞同：1
> 
> 时间：2012-08-07T05:39:43.900
> 
> 标签：c++, arrays, sizeof

我正在使用 c++ 创建 int 数组并尝试获取它的长度

```
int *masterArray;
int count = 0;
int a = 0;
int var = 0;
ifstream myfile("sample_10.txt");
if (myfile.is_open())
{
    while(myfile.good())
    {

            string word;

        while(getline(myfile, word))
        {
            count++;
        }

        cout << "count: " << count << endl;
        masterArray = new int [count];

        myfile.clear();
        myfile.seekg(0);
        while(getline(myfile, word, '\n'))
        {
            cout << word  << " ";
            istringstream ( word ) >> var;
            masterArray[a] = var;

            a ++;
        }
    }
} 
```

int 数组的名称是主数组，在我在数组中添加变量后，我做..

```
cout << "sizeof(masterArray) : " <<sizeof(masterArray); 
```

这给了我 8，而不是 10。

我试图打印出存储在数组中的所有变量，它给了我 10，这意味着所有变量都正确存储。

我应该通过这样做来检索长度

```
cout << "sizeof(masterArray) : " <<sizeof(masterArray) / sizeof(*masterArray); 
```

??

因为这给了我 2（显然，因为它是 8 除以 4）

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:45:09.573

您的`masterArray`变量是指针类型。我想你在 64 位机器上，所以指针是 8 个字节。这就是为什么当您执行`sizeof()`.

没有获取数组大小的标准方法，至少我不知道。你有一个`count`从用户那里获得并分配数组的。我想最好保留它并使用它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T07:05:21.327

我建议`std::vector`在你的情况下使用。请注意，在 C++ 中，将向量用于任何类似数组的对象是一种常见的做法。如果你想自己管理动态分配的数组，你应该有很强的论据。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T05:43:12.407

这

```
sizeof(masterArray); 
```

`int*`为您提供平台上的 an的大小`8`（或 64 位，假设为`8`bit `char`）。

查看您的代码，在我看来，您可以使用[std::vector](http://en.cppreference.com/w/cpp/container/vector)代替数组，并使用[std::vector::push_back](http://en.cppreference.com/w/cpp/container/vector/push_back)方法添加元素。如果你真的需要长度，你可以从`size()`方法中得到它，但是你通常对向量做的是使用它的开始和结束迭代器来迭代它的内容（分别参见方法`begin()`和`end()`）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-07T05:46:40.423

我猜你用的是64位电脑？sizeof 返回它给出的变量的大小，在这种情况下是一个指针，换句话说，一个在 64 位计算机中等于 8 个字节的内存地址。为了在 c 中找到数组的长度，您需要使用另一个变量，其中存储了数组的大小。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-07T05:47:11.163

你已经得到了长度 - 它是`count`. 这是通过手动跟踪来了解动态分配数组长度的唯一方法。正如其他人指出的那样，如果您通过分配数组，您只会获得指向第一个元素的指针`new`。`sizeof(masterArray)`将返回此指针的大小，它在您的平台上恰好是 8 个字节。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-07T05:43:52.820

用于`sizeof`获取数组*中元素的数量*仅适用于声明*为数组*的变量。例如`int masterArray[10];`。

你的数组被声明为`int *`- 后来动态分配 - 所以你得到了该类型的大小。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-07T05:44:27.677

sizeof() 仅适用于数组。你得到 8 因为指针是 8 个字节（在 64 位系统上）。您无法确定动态分配数组的长度。这意味着您需要跟踪长度，而不是重新确定它。

顺便说一句，这看起来是一个非常好的使用向量的情况。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-08-07T07:34:58.617

这是您重写为使用的示例`std::vector`

```
std::vector<int> masterArray;
int var = 0;

ifstream myfile("sample_10.txt");
if (myfile.is_open())
{
    while(myfile.good())
    {

            string word;

        while(getline(myfile, word))
        {
            count++;
        }

        cout << "count: " << count << endl;
        masterArray.reserve(count); // will allocate at least count ints

        myfile.clear();
        myfile.seekg(0);
        while(getline(myfile, word, '\n'))
        {
            cout << word  << " ";
            istringstream ( word ) >> var;
            masterArray.push_back(var); // store the current word
        }
    }
} 
```

# android - Android ICS 中的媒体播放器闪烁

> ID：11839877
> 
> 赞同：1
> 
> 时间：2012-08-07T05:40:16.277
> 
> 标签：android, camera, android-4.0-ice-cream-sandwich, android-mediaplayer

我有一个活动。其中有两个表面视图。一个用于相机，另一个用于播放媒体。

在后台播放媒体时，我正在拍照。每当 onpictaken 需要相机时，视频就会变得很糟糕。

# java - 如何通过另一个线程停止一个线程？

> ID：11839881
> 
> 赞同：7
> 
> 时间：2012-08-07T05:41:00.450
> 
> 标签：java, multithreading

我在 Java 中遇到了一些线程问题，我有三个线程 - thread1、thread2 和 thread3。那些在启动时正在执行一些任务，我想通过 thread1 停止这两个线程。我把thread1 for `sleep(500)`，然后我停止了两个线程，但是两个线程的进程仍在运行。你知道怎么做吗？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-08-07T05:50:47.833

你打算如何阻止他们？`Thread.stop`? 请注意，此方法已被弃用。

相反，考虑为线程 1 使用某种标志来与线程 2 和 3 进行通信，表明它们应该停止。实际上，您可能可以使用[中断](http://docs.oracle.com/javase/tutorial/essential/concurrency/interrupt.html)。

下面，[Thread.interrupt](http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupt%28%29)用于实现协调。

```
final Thread subject1 = new Thread(new Runnable() {

  public void run() {
    while (!Thread.interrupted()) {
      Thread.yield();
    }
    System.out.println("subject 1 stopped!");
  }
});
final Thread subject2 = new Thread(new Runnable() {

  public void run() {
    while (!Thread.interrupted()) {
      Thread.yield();
    }
    System.out.println("subject 2 stopped!");
  }
});
final Thread coordinator = new Thread(new Runnable() {

  public void run() {
    try {
      Thread.sleep(500);
    } catch (InterruptedException ex) { }
    System.out.println("coordinator stopping!");
    subject1.interrupt();
    subject2.interrupt();
  }
});
subject1.start();
subject2.start();
coordinator.start(); 
```

* * *

或者，您也可以使用 a `volatile boolean`（或[AtomicBoolean](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html)）作为通信方式。 [原子访问](http://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html)由主题线程提供`volatile`并`java.util.concurrent.atomic.*`允许您确保标志的突变被主题线程看到。

```
final AtomicBoolean running = new AtomicBoolean(true);

final ExecutorService subjects = Executors.newFixedThreadPool(2);
subjects.submit(new Runnable() {

  public void run() {
    while (running.get()) {
      Thread.yield();
    }
    System.out.println("subject 1 stopped!");
  }
});
subjects.submit(new Runnable() {

  public void run() {
    while (running.get()) {
      Thread.yield();
    }
    System.out.println("subject 2 stopped!");
  }
});
final ScheduledExecutorService coordinator = Executors.newSingleThreadScheduledExecutor();
coordinator.schedule(new Runnable() {

  public void run() {
    System.out.println("coordinator stopping!");
    running.set(false);
    subjects.shutdown();
    coordinator.shutdown();
  }
}, 500, TimeUnit.MILLISECONDS); 
```

同样，您可以选择，而不是使用`AtomicBoolean`，使用如下字段：

```
static volatile boolean running = true; 
```

* * *

更好的是，如果您利用[ExecutorService](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html)，您还可以编写类似的代码，如下所示：

```
final ExecutorService subjects = Executors.newFixedThreadPool(2);
subjects.submit(new Runnable() {

  public void run() {
    while (!Thread.interrupted()) {
      Thread.yield();
    }
    System.out.println("subject 1 stopped!");
  }
});
subjects.submit(new Runnable() {

  public void run() {
    while (!Thread.interrupted()) {
      Thread.yield();
    }
    System.out.println("subject 2 stopped!");
  }
});
final ScheduledExecutorService coordinator = Executors.newSingleThreadScheduledExecutor();
coordinator.schedule(new Runnable() {

  public void run() {
    System.out.println("coordinator stopping!");
    subjects.shutdownNow();
    coordinator.shutdown();
  }
}, 500, TimeUnit.MILLISECONDS); 
```

这利用了[ThreadPoolExecutor.shutdownNow](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html#shutdownNow%28%29)中断其工作线程以尝试发出关闭信号的事实。

* * *

运行任何示例，输出应具有以下效果：

```
C:\dev\scrap>javac CoordinationTest.java

C:\dev\scrap>java CoordinationTest
coordinator stopping!
subject 1 stopped!
subject 2 stopped! 
```

请注意，最后两行可以按任意顺序出现。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-08-07T05:49:54.153

你不能从另一个线程中停止一个线程。您只能要求线程自行停止，最好的方法是中断它。但是，被中断的线程必须协作，并通过停止执行来尽快响应中断。

这在[有关并发的 Java 教程](http://docs.oracle.com/javase/tutorial/essential/concurrency/interrupt.html)中有所介绍。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-07T05:44:07.757

您可以：

*   有一些线程定期检查的布尔标志。如果它被改变，那么，它们会停止执行（注意这可能会导致竞争条件）
*   另一种选择是使用[`ExecutorService`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html)：

> 一个 Executor，提供管理终止的方法和可以生成 Future 以跟踪一个或多个异步任务的进度的方法。

# javascript - 如何在 dojo 小部件上使用 dojo/behavior？

> ID：11839883
> 
> 赞同：1
> 
> 时间：2012-08-07T05:41:22.823
> 
> 标签：javascript, event-handling, dojo, behavior

我读了这篇文章（[Using dojo.behavior](https://dojotoolkit.org/documentation/tutorials/1.6/using_behavior/)），想在我的项目中使用[行为](http://dojotoolkit.org/reference-guide/1.7/dojo/behavior.html)模块作为事件处理模块。

但是我有一个问题，对于 DOM 节点，它工作得很好，但是如何在 Dojo 小部件上使用它呢？

如果我使用 dojo/on 模块，我可以这样做：

```
var buttonNode = dijit.byId("myButton");
on(buttonNode, "onClick", buttonHandler); 
```

或者

```
dijit.byId("myButton").onClick = buttonHandler; 
```

但是，如果我使用行为模块，

```
behavior.add({
    "#myButton": {
        onClick: buttonHandler
    }
}); 
```

它不起作用。（当然，我在完成页面渲染后调用了 behavior.apply()。）下面的代码也不起作用。

```
behavior.add({
    "[widgetid='myButton']": {
        onClick: buttonHandler
    }
}); 
```

经过一番调查，我发现上面的代码不起作用的原因是因为一个按钮小部件是由许多 s 和一个 inner 组成的。如果我使用 data-dojo-id 指定的 id，它将指向 a 而不是我希望事件绑定的那个。

我找到了一个可以摆脱这种情况的解决方案，

```
behavior.add({
  "[widgetid='myButton'] input": {
    onclick: buttonHandler
  }
} 
```

但是 css 选择器太复杂了，它取决于小部件是什么类型。

有没有像在 dom 节点上一样在小部件上应用 dojo/behavior 的好解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T01:44:10.113

它看起来就像你真正要在小部件对象上连接一个事件，但`behavior`它被设计为访问 DOM。所以，我认为你坚持使用你的解决方法。

# android - android中LinearLayout的浮雕效果

> ID：11839885
> 
> 赞同：0
> 
> 时间：2012-08-07T05:41:31.823
> 
> 标签：android, android-linearlayout, background-color, emboss

我在水平线性布局中有一个文本视图和图像视图，其背景为蓝色。如何为 lineatlayout 添加浮雕效果？请帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T06:07:54.143

Android 确实提供了一些使用 EmbossMaskFilter 创建浮雕效果的功能。

更多详情，您可以访问此链接：[http ://android-coding.blogspot.in/2012/05/example-of-embossmaskfilter.html](http://android-coding.blogspot.in/2012/05/example-of-embossmaskfilter.html)

此外，如果您需要将此效果应用于 2D 图形，则可以使用此链接：[http ://about-android.blogspot.in/2010/07/2d-graphics-with-effects_11.html](http://about-android.blogspot.in/2010/07/2d-graphics-with-effects_11.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T07:14:45.797

我建议用图像中内置的浮雕制作一个 9 补丁。

这样你就可以随心所欲地制作尺寸和颜色。

# r - R：与 MCMCpack::MCMClogit 等效的 predict.glm

> ID：11839886
> 
> 赞同：4
> 
> 时间：2012-08-07T05:41:35.123
> 
> 标签：r, bayesian

我正在运行贝叶斯 logit `MCMCpack::MCMClogit`。语法很简单，遵循`lm()`or `glm()`，但我找不到任何等效的`predict.glm`函数。有没有什么方法可以预测`MCMClogit`数据框中每个观察单位的结果概率？`predict()`对于验证来自新数据的训练数据特别有用，这是我最终必须要做的。

```
df = read.csv("http://dl.dropbox.com/u/1791181/MCMC.csv")#Read in data
model.glm = glm(SECONDARY.LEVEL ~ AGE + SEX, data=df, family=binomial(link=logit))
glm.predict = predict(model.glm, type="response") 
```

对于 MCMClogit()：

```
model.mcmc = MCMClogit(SECONDARY.LEVEL ~ AGE + SEX, data=df, mcmc=1000) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-10-27T04:02:48.537

您可以使用 MCMC 生成的模型参数的后验分布来获得预测分布，使用逻辑函数。

例如，如果您的模型公式是`y ~ x1 + x2 + x3`，并且您的 MCMC 输出存储在变量`posterior.mcmc`中，那么您可以使用

```
function(x1, x2, x3) 1 / (1 + exp(-posterior.mcmc %*% rbind(1, x1, x2, x3))) 
```

给出类似于的分布`predict.glm(., 'response')`

**单个输入变量情况的更详细示例：**

```
library(extraDistr)
library(MCMCpack)

# Take x uniformly distributed between -100 and 100
x <- runif(2000, min=-100, max=100)

# Generate a response which is logistic with some noise
beta <- 1/8
eps <- rnorm(length(x), 0, 1)
p <- function(x, eps) 1 / (1 + exp(-beta*x + eps))
p.x <- p(x, eps)
y <- sapply(p.x, function(p) rbern(1, p))
df1 <- data.frame(x, y)

# Fit by logistic regression
glm.logistic <- glm(y ~ x, df1, family=binomial)

# MCMC gives a distribution of values for the model parameters
posterior.mcmc <- MCMClogit(y ~ x, df1, verbose=2000)
densplot(posterior.mcmc)

# Thus, we have a distribution of model predictions for each x
predict.p.mcmc <- function(x) 1 / (1 + exp(-posterior.mcmc %*% rbind(1,x)))
interval.p.mcmc <- function(x, low, high) apply(predict.p.mcmc(x), 2,
                                                function(x) quantile(x, c(low, high)))

predict.y.mcmc <- function(x) posterior.mcmc %*% rbind(1,x)
interval.y.mcmc <- function(x, low, high) apply(predict.y.mcmc(x), 2,
                                                function(x) quantile(x, c(low, high)))

## Plot the data and fits ##

plot(x, p.x, ylab = 'Pr(y=1)', pch = 20, cex = 0.5, main = 'Probability vs x')

# x-values for prediction
x_test <- seq(-100, 100, 0.01)

# Blue line is the logistic function we used to generate the data, with noise removed
p_of_x_test <- p(x_test, 0)
lines(x_test, p_of_x_test, col = 'blue')

# Green line is the prediction from logistic regression
lines(x_test, predict(glm.logistic, data.frame(x = x_test), 'response'), col = 'green')

# Red lines indicates the range of model predictions from MCMC
# (for each x, 95% of the distribution of model predictions lies between these bounds)  
interval.p.mcmc_95 <- interval.p.mcmc(x_test, 0.025, 0.975)
lines(x_test, interval.p.mcmc_95[1,], col = 'red')
lines(x_test, interval.p.mcmc_95[2,], col = 'red')

# Similarly for the log-odds
plot(x, log(p.x/(1 - p.x)), ylab = 'log[Pr(y=1) / (1 - Pr(y=1))]',
     pch = 20, cex = 0.5, main = 'Log-Odds vs x')

lines(x_test, log(p_of_x_test/(1 - p_of_x_test)), col = 'blue')

lines(x_test, predict(glm.logistic, data.frame(x = x_test)), col = 'green')

interval.y.mcmc_95 <- interval.y.mcmc(x_test, 0.025, 0.975)
lines(x_test, interval.y.mcmc_95[1,], col = 'red')
lines(x_test, interval.y.mcmc_95[2,], col = 'red') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T07:25:01.907

该功能的描述说：

**此函数使用随机游走 Metropolis 算法从逻辑回归模型的后验分布生成样本。**

因此，我认为您`model.mcmc`已经包含`MCMClogit()`模拟的点。

您可以使用`str`它来查看它包含的内容`summary`和`plot`功能，就像那里的示例一样：[http ://cran.r-project.org/web/packages/MCMCpack/MCMCpack.pdf](http://cran.r-project.org/web/packages/MCMCpack/MCMCpack.pdf)

# magento - Magento：更改 local.xml 中的块模板

> ID：11839892
> 
> 赞同：1
> 
> 时间：2012-08-07T05:41:57.780
> 
> 标签：magento

我希望产品评论页面使用不同的模板，而不是：

**目录/产品/view.phtml**

在**review.xml**中，我看到文件被调用：

```
<block type="review/product_view" name="product.info" template="catalog/product/view.phtml"> 
```

有没有办法可以在 local.xml 中覆盖它并创建一个新文件（例如：view2.phtml）并将其用于此页面？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-07T06:23:54.187

```
<review_product_list>
    <reference name="product.info">
        <action method="setTemplate"><template>catalog/product/view2.phtml</template></action>
    </reference>
</review_product_list> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T06:24:03.827

是的，您绝对可以通过在以下代码中编写以下代码来做到这一点`local.xml`：-

```
<reference name="product.info">
    <action method="setTemplate"><template>catalog/product/view2.phtml</template></action>
</reference> 
```

这`view2.phtml`是正确文件夹结构中的新文件。

希望能帮助到你。

# asp.net - 在 SQL 中删除无效的重复行

> ID：11839893
> 
> 赞同：0
> 
> 时间：2012-08-07T05:41:58.593
> 
> 标签：asp.net, sql, sql-server-2005

我有一张表，它根据用户名存储员工通过 Time Machine 的签到时间。如果一个员工多次打卡，那么他的签到记录会有多条记录，它们之间只有几秒钟的时间差。显然只有第一条记录是有效的。所有其他条目均无效，必须从表中删除。如果我可以选择员工当前日期的所有签到记录，我该怎么做？

db中的数据如下。

```
Username               Checktime                       CheckType
 HRA001            7/29/2012 8:16:44 AM                Check-In
 HRA001            7/29/2012 8:16:46 AM                Check-In
 HRA001            7/29/2012 8:16:50 AM                Check-In 
 HRA001            7/29/2012 8:16:53 AM                Check-In 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T06:53:15.627

尝试这个：

```
 ;WITH users_CTE as (
 select rank() over (partition by Username order by Checktime) as rnk from users
 )

 DELETE FROM users_CTE where rnk <> 1 
```

--对于您的第二个要求，请尝试此查询

```
 ;WITH users_CTE as (
 select *,rank() over (partition by Username order by Checktime) as rnk from users
 )
,CTE2 as (select Username,MIN(CheckTime) as minTime,DATEADD(mi,1,MIN(CheckTime)) as maxTime from users_CTE 
 group by Username)

delete from users where Checktime in(
select c1.Checktime from users_CTE c1 left join CTE2 c2
on c1.Checktime > c2.minTime and c1.Checktime <= c2.maxTime
where c2.Username is not null and c1.Username in(

select c1.Username from users_CTE c1 left join CTE2 c2
on c1.Checktime > c2.minTime and c1.Checktime <= c2.maxTime
group by c1.Username,c2.Username 
having COUNT(*) > 1)) 
```

--对于您更改的要求，请在下面检查此查询

```
alter table users add flag varchar(2)

;WITH users_CTE as (
 select *,rank() over (partition by Username order by Checktime) as rnk from users
 )
,CTE2 as (select Username,MIN(CheckTime) as minTime,DATEADD(mi,1,MIN(CheckTime)) as maxTime from users_CTE 
 group by Username)

update u SET u.flag = 'd' from users_CTE u inner join (
select c1.Checktime from users_CTE c1 left join CTE2 c2
on c1.Checktime > c2.minTime and c1.Checktime <= c2.maxTime
where c2.Username is not null and c1.Username in(

select c1.Username from users_CTE c1 left join CTE2 c2
on c1.Checktime > c2.minTime and c1.Checktime <= c2.maxTime
group by c1.Username,c2.Username 
having COUNT(*) > 1)) a
on u.Checktime=a.Checktime 
```

--用DeletFlag检查最新查询

```
;WITH users_CTE as 
(
 select *,row_number() over (partition by Username order by Checktime) as row from users
)
,CTE as(
select row,Username,Checktime,CheckType,0 as totalSeconds,'N' as Delflag from users_CTE where row=1 
union all
select t.row,t.Username,t.Checktime,t.CheckType,CASE WHEN (c.totalSeconds + DATEDIFF(SECOND,c.Checktime,t.Checktime))  >= 60 then 0 else (c.totalSeconds + DATEDIFF(SECOND,c.Checktime,t.Checktime)) end as totalSeconds,
CASE WHEN (c.totalSeconds + DATEDIFF(SECOND,c.Checktime,t.Checktime))  >= 60 then 'N' else 'Y' end as Delflag
--CASE WHEN c.totalSeconds <= 60  then 'Y' else 'N' end as Delflag
from users_CTE t inner join CTE c
on t.row=c.row+1
)

select Username,Checktime,CheckType,Delflag from CTE 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T06:01:32.000

[http://codesimplified.com/2010/10/18/remove-duplicate-records-from-the-database-table/](http://codesimplified.com/2010/10/18/remove-duplicate-records-from-the-database-table/)

希望这会帮助你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T06:15:43.970

```
DELETE FROM timesheet 
WHERE timesheetRecordId <>(
                SELECT TOP 1 timesheetRecordId from timesheet  
                WHERE checkInDate=todaysDate AND employeeId=empId ORDER BY checkInTime ASC
               ) 
AND checkInDate=today's date AND empolyeeId=empId; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T05:52:51.497

您可以尝试按签到时间对记录进行排名，然后删除每个员工每天所有排名大于 1 的记录。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-07T05:45:47.977

为什么不在将签入插入到数据库之前验证签入。如果该用户存在任何签到，则在此日期和该日期之间，然后不执行任何其他操作插入它

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-07T05:48:30.007

您应该能够按时间对所有记录进行排序，从每个员工上一次的时间中减去最近的时间，如果结果小于某个阈值，则删除具有最近时间的行。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-07T05:57:49.157

试试这个查询： Delete from employee where employee.checkin (select checkin from employee where count(checkin)>1);

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-08-07T08:29:30.930

我认为您不能在同一语句的子查询中从 Delete 语句中指定目标表。所以你不能用一个单独的 Delete 语句来做到这一点。

您可以做的是编写一个存储过程。在您的存储过程中，您应该创建一个包含此查询返回的 PK 的临时表：

```
select cht.pkey 
  from CheckTimeTable as cht
  where exists ( select pkey
                   from CheckTimeTable 
                   where username = cht.userName
                     and checkType = 'check-IN'
                     and Checktime >= subtime(cht.Checktime, '0 0:0:15.000000') 
                     and Checktime < cht.Checktime); 
```

然后编写另一条语句从原始表 CheckTimeTable 中删除这些 PK。

请注意，上面的查询是针对 MySQL 的，因此您需要找到从 DBMS 的时间戳中减去 15 秒的方法。在 MySQL 中它是这样完成的：

```
subtime(cht.Checktime, '0 0:0:15.000000') 
```

此查询将返回具有来自同一用户的另一个 CheckTime 记录的任何 CheckTime 记录，类型为 Check-In，并且在 15 秒内早于其自己的检查时间。

# windows - 在 VB.NET 中以间隔使用 QueryPerformanceCounter

> ID：11839900
> 
> 赞同：1
> 
> 时间：2012-08-07T05:42:43.927
> 
> 标签：windows, vb.net, performancecounter, timing

我想知道是否可以通过某种方式获得一些关于使用 QueryPerformanceCounter/Frequency 在 VB.NET 中的每个时间间隔执行任务的指导。例如，每 6 微秒。

我在想也许现在找时间在 6us 上做一个 mod，但是会导致精度问题吗？

谢谢大家。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T06:18:15.657

您可以创建一个“计时器类”来存储以前的时间和间隔。然后创建一个类似 Update() 的方法。在这种方法中，您可以检查秒表之类的当前时间，并将其与之前的时间和间隔进行比较。如果你要早点睡，剩下的时间就睡了。这就是游戏的原理。

# javascript - 我们是否有任何通用脚本/jquery 插件可以在通过 ajax 选项卡加载的内容上应用 javascript？

> ID：11839902
> 
> 赞同：0
> 
> 时间：2012-08-07T05:42:50.417
> 
> 标签：javascript, jquery, ajax

我需要 ajax 选项卡和第二个选项卡的 jquery 滑块。

问题：如果内容不是通过 ajax 加载的，一切正常，但 ajax 内容脚本不适用。

要求：由于我在大多数地方都使用 ajax，是否有任何通用脚本/插件可以帮助我克服这个问题？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:50:23.230

听起来您必须在使用 ajax 加载滑块后对其进行初始化。

```
$('.tab').html(data.returns);
//after that initialise slider.. should work 
```

# asp.net - 如何在asp.net应用程序中打开word文档

> ID：11839904
> 
> 赞同：0
> 
> 时间：2012-08-07T05:43:10.987
> 
> 标签：asp.net, vb.net

我正在开发一个工作门户应用程序。

为此，我需要简历上传功能。

现在的问题是如何查看上传的简历？

我正在使用带有 VB 的 ASP.NET。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:51:52.910

可以在[http://www.aspsnippets.com/Articles/Display-Word-document-on-web-page-in-ASP.Net.aspx上查看在 asp.net 页面上查看 word 文档的一个很好的示例](http://www.aspsnippets.com/Articles/Display-Word-document-on-web-page-in-ASP.Net.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-03T10:26:19.223

您可以尝试一个名为“Doconut”的第三方库，这是一个演示，它实际上显示了在 asp.net 网站中打开的简历 DOC，类似于您的要求[http://try.doconut.com/Ribbon.aspx](http://try.doconut.com/Ribbon.aspx) 这可能会有所帮助其他有类似要求的人。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T06:17:34.797

我相信您可以通过 Google 找到很多关于此主题的信息，因为这是一个反复出现的主题。这里有几个选项：

1.  通过 ActiveX 控件打开/编辑 Word 文档 - [ASP.NET 中的 Word/Excel ActiveX 控件](http://www.codeproject.com/Articles/404688/Word-Excel-ActiveX-Controls-in-ASP-NET)

2.  通过 Office 对象模型（基本上是 COM 对象的包装器）-[使用 Office 对象模型自动化应用程序](http://msdn.microsoft.com/en-us/library/y1xatbkd%28v=vs.80%29.aspx)

3.  通过第 3 方库，例如 NetOffice (netoffice.codeplex.com)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T05:53:45.307

上传文件必须有特定的路径。所以试试：

```
Dim objFile as System.IO.File
Dim sReader as System.IO.StreamReader
sReader = objFile.OpenText(“YourUploadedFilePAth”) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-03-04T08:24:15.203

您可以使用：

Dim filePath As String = "C:\Attachments\fileName.xls" -- 任何文件格式

System.Diagnostics.Process.Start（文件路径）

# php - 将 if 语句保存到数组中以插入数据库

> ID：11839907
> 
> 赞同：0
> 
> 时间：2012-08-07T05:43:30.130
> 
> 标签：php, codeigniter

我有以下 if 语句部分，根据用户从视图中选择的选项创建相应的代码。

我如何保存选定的选项 if 语句，以便我可以将其插入到数据库中。

我已经尝试过`'field' => ''.$_REQUEST['add_fields_type'].''`，但当然它只显示选定的选项，而不是它应该产生的 html

**代码：**

```
if (isset($_REQUEST['add_fields_type']))
            {
                if($_REQUEST['add_fields_type'] == 'input')
                {
                    //$fieldLabel;
                    form_input($formData, TRUE);

                }

                if($_REQUEST['add_fields_type'] == 'textarea')
                {
                    $fieldLabel;
                    form_textarea($formData, TRUE);
                }

                if($_REQUEST['add_fields_type'] == 'radiobutton')
                {
                    $fieldLabel;
                    form_radio($formData, TRUE);
                }

                if($_REQUEST['add_fields_type'] == 'checkbox')
                {
                    $fieldLabel;
                    form_checkbox($formData, TRUE);
                } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:54:20.760

而不是这样做：

```
if($_REQUEST['add_fields_type'] == 'textarea') {
    $fieldLabel;
    form_textarea($formData, TRUE);
} 
```

如果你想保存 HTML，你应该这样做：

```
if($_REQUEST['add_fields_type'] == 'textarea') {
    $fieldLabel;
    $fields[] = form_textarea($formData, TRUE);
} 
```

或者，如果您想使用字段类型保存字段数据，请执行以下操作：

```
if($_REQUEST['add_fields_type'] == 'textarea') {
    $fieldLabel;
    $fields[ $_REQUEST['add_fields_type'] ] = form_textarea($formData, TRUE);
} 
```

# android - 与服务器交互的 Android 应用

> ID：11839908
> 
> 赞同：1
> 
> 时间：2012-08-07T05:43:33.847
> 
> 标签：android, sql-server, interface, web, push-notification

我正在尝试编写一个应用程序，该应用程序将为企业主提供一个 Web 界面，他们可以通过查询数据库来选择特定的 Android 移动应用程序用户，然后让网站或数据库（有点不确定这将如何工作）将信息推送到被查询用户的手机通过应用程序为他们创建通知。

我从来没有创建过这样的应用程序，网站、数据库和用户手机上的移动应用程序之间的连接对我来说都是一个谜。我已经搜索了 Android 开发者网站，但找不到任何可以准确解释如何做到这一点的内容，并且在谷歌上搜索了该主题，但运气不佳。

我所要求的只是有人指出我正确的方向将这些碎片放在一起，您可以提供的任何信息将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:50:57.303

您的解决方案几乎肯定会涉及 Google Cloud Messaging。

实施 GCM 将涉及一个服务器，其中所有设备都向中央服务注册。所以一旦你实施了 GCM，你就成功了一半。好吧，也许更重要的是，您提到的几乎所有内容基本上都只是 GCM。

[http://developer.android.com/guide/google/gcm/index.html](http://developer.android.com/guide/google/gcm/index.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:49:52.267

为此，您可以使用`PHP`编程与网站进行交互。

参考[`Android App interaction with Web`](https://stackoverflow.com/questions/7159172/android-app-interaction-with-web)

并且

[`Android App Development and Web Server Interactions`](https://stackoverflow.com/questions/9122841/android-app-development-and-web-server-interactions)

这些链接将很有用。祝你好运..

# jakarta-ee - 如何仅使用一个动作类而不使用调度动作或lookupdispatch动作在struts中插入、更新、删除？

> ID：11839909
> 
> 赞同：0
> 
> 时间：2012-08-07T05:43:34.263
> 
> 标签：jakarta-ee, struts2

如何编写一个程序以仅使用一个动作类而不使用调度动作或lookupdispatch动作在struts中插入、更新、删除？有可能这样做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T06:07:54.997

你写了一个动作：

```
class ProductAction extends ActionSupport{
    public String insert(){...}
    public String update(){...}
    public String delete(){...}
    public String view(){...}
} 
```

有两种方法可以实现您的目标。

首先，**动态方法调用**继承自webwork。它是一个嵌入式特性，你不需要做任何事情。对“ **http://baseurl/product!insert.action** ”的引用指向 ProductAction 并调用它的 insert 方法而不是 execute 方法。它用 ”！” 声明要调用的方法。

第二个是使用**通配符方法**。您将操作配置如下：

```
<action name="product_*" class="actionpackage.ProductAction" method="{1}"> 
```

对“ **product_insert.action** ”的引用将调用 insert 方法。

# directx - 将透视变换应用于几何并将常量缓冲区传递给着色器

> ID：11839910
> 
> 赞同：1
> 
> 时间：2012-08-07T05:43:39.823
> 
> 标签：directx, directx-11

我正在尝试将 DirectX-11 中的透视变换应用于以原点 (0, 0, 0) 为中心且边缘跨度为 1.0 单位（-0.5 到 0.5）的渲染立方体。但是，我没有看到任何渲染。我尝试了以下方法：

着色器.hlsl

```
cbuffer VSHADER_CB
{
    matrix mWorld;
    matrix mView;
    matrix mProj;
};

struct VOut
{
    float4 position : SV_POSITION;
    float4 color : COLOR;
};

VOut VShader(float4 position : POSITION, float4 color : COLOR)
{
    VOut output;

    output.position = mul(position, mWorld);
    output.position = mul(output.position, mView);
    output.position = mul(output.position, mProj);
    output.color = color;

    return output;
}

... 
```

无效的 InitConstantBuffer()

```
...
D3DXVECTOR3 position(0.0f, 0.0f, -5.0f);
D3DXVECTOR3 lookAt(0.0f, 0.0f, 0.0f);
D3DXVECTOR3 up(0.0f, 1.0f, 0.0f);

D3DXMatrixIdentity(&(cbMatrix.mWorld));
D3DXMatrixLookAtLH(&(cbMatrix.mView), &position, &lookAt, &up);
D3DXMatrixPerspectiveFovLH(&(cbMatrix.mProj), 70.0f, (FLOAT)(width / height), 1.0f, 100.0f);

D3D11_BUFFER_DESC cbd;
ZeroMemory(&cbd, sizeof(D3D11_BUFFER_DESC));
cbd.BindFlags = D3D11_BIND_CONSTANT_BUFFER;
cbd.ByteWidth = sizeof(cbMatrix);
cbd.Usage = D3D11_USAGE_DEFAULT;

D3D11_SUBRESOURCE_DATA cbdInitData;
ZeroMemory(&cbdInitData, sizeof(D3D11_SUBRESOURCE_DATA));
cbdInitData.pSysMem = &cbMatrix;

mD3DDevice->CreateBuffer(&cbd, &cbdInitData, &mD3DCBuffer);
mD3DImmediateContext->VSSetConstantBuffers(0, 1, &mD3DCBuffer); 
```

当我在着色器文件中简单地不包含任何转换（output.position = position）时，一切都正确渲染，我看到了立方体的正面。这就是我需要将常量缓冲区传递给我的着色器并完全利用它们的全部内容吗？我在这里想念什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T16:12:28.733

我想出了自己问题的答案，我需要通过调用 D3DXMatrixTranspose() 来转置矩阵，然后再将它们发送到着色器。

# iphone - 如何从 iphone 中动态创建标签中检索特定标签标题？

> ID：11839913
> 
> 赞同：0
> 
> 时间：2012-08-07T05:43:56.013
> 
> 标签：iphone, ios5, uilabel

我在视图控制器中动态创建了 10 个标签。当我单击特定标签时，希望获得单击的标签标题，我该如何帮助我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:58:57.570

您可以使用 UITapGestureRecognizer 来查找用户单击标签的时间，如下所示：

```
UITapGestureRecognizer *singleFingerTap = 
    [[UITapGestureRecognizer alloc] initWithTarget:self 
                                            action:@selector(handleSingleTap:)];
    [myLabel addGestureRecognizer:singleFingerTap];
    [singleFingerTap release]; 
```

然后在 handleSingleTap 方法中，您可以找到点击了哪个标签：

```
- (void)handleSingleTap:(UITapGestureRecognizer *)recognizer
{
    UILabel *view = (UILabel *)recognizer.view;
    NSString *text = view.text;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:50:43.450

您可以继承 UILabel 并且在 中`-(void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event`，您可以返回它的`text property value`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T05:47:48.847

您可以使用 Tapgesturerecognizer。这将返回水龙头的坐标。

然后，您可以测试水龙头的坐标是否在您动态创建的标签之一的范围内。

然后您可以使用 UILabel 的“文本”属性获取标题。

# android - 如何在 PhoneGap 中添加滚动条

> ID：11839925
> 
> 赞同：1
> 
> 时间：2012-08-07T05:44:59.183
> 
> 标签：android, cordova

我必须在 PhoneGap 中添加一个滚动条。请在下面检查我的代码。

```
public class MyActivity extends DroidGap {
    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);

        super.loadUrl("file:///android_asset/www/index.html");

        // Display vertical scrollbar and hide horizontal scrollBar
        super.appView.setVerticalScrollBarEnabled(true);
        super.appView.setHorizontalScrollBarEnabled(false);
        // set scrollbar style
        super.appView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);
    }
} 
```

我在这个语句中得到一个错误：

```
super.appView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T06:05:29.960

移动 WebKit（iOS 和 Android 等）不提供在固定宽度/高度元素内滚动内容的本机方式，但许多库可以帮助您解决该问题。

我使用[iScroll](http://cubiq.org/iscroll-4)滚动 PhoneGap 应用程序中的内容。是一个非常轻量级的框架，只关注移动端WebKit浏览器或者WebViews的滚动问题，完美运行。

这是一个简单的[例子](http://cubiq.org/dropbox/iscroll4/examples/simple/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T17:50:09.230

也许你还没有添加这一行

```
import android.view.View; 
```

前

```
public class MyActivity extends DroidGap { 
```

# java - 关于界面 Cloneable

> ID：11839928
> 
> 赞同：0
> 
> 时间：2012-08-07T05:45:25.620
> 
> 标签：java

比如我们写XXX类来实现Cloneable，而我们在XXX类中重写了方法clone，是不是需要在方法中调用super.clone？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:58:14.053

几个重要的指针

1.  Cloneable 是一个标记界面。标记接口没有声明方法或变量。他们只是告诉 JVM 这个类有能力做一些事情，例如可克隆、可序列化等
2.  当您说 super.clone 时，您不是从可克隆中调用方法，实际上是在调用超类的 clone() 方法或默认情况下是 Object.clone();

如果您不想要自己的实现，可以使用 Object 的 clone 方法，但这会给您对象的浅表副本。如果你想做更多的事情，最好给出你自己的实现。

关于您最初的问题，不，如果您知道您的代码正在处理所有事情，那么调用超级方法并不是强制性的。但是如果你需要使用超类的功能（在本例中是 Object 类），你应该调用 super 方法

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:48:28.417

是的。如果你不调用超类实现，它需要的任何数据都不会被复制到新的克隆中。

**更新** 例如，超类可能希望将其私有变量复制到新克隆。

实际执行应该是

```
XXX clone =    super.clone();

// 'clone' now has all the data the super class wants to know.
// add any details from your XXX class to it here.

return clone; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T05:48:37.827

*编辑好的，我错了，这是 super.clone() 调用的：

[http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#clone%28%29](http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#clone%28%29)

你应该调用 super.clone()

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-07T05:50:43.407

如果`we override the method clone in the class XXX`- 不需要调用 super。你只是在那里做你想做的事。- 表示复制您喜欢复制的内容和方式。

# windows - 32 位进程在 64 位操作系统中消耗更多内存？

> ID：11839941
> 
> 赞同：1
> 
> 时间：2012-08-07T05:46:52.127
> 
> 标签：windows, memory-management, 32bit-64bit, ram

我写了一个过程。如果在 32 位 Windows 操作系统中运行该进程，它会消耗大约 100 到 200MB 的内存，如果我在 64 位 Windows 操作系统上运行相同的进程，它会消耗大约 1GB 的内存。谁能解释我为什么会这样。？

感谢和问候 shahid nx

# javascript - 在文本字段中动态显示数据 ruby on rails

> ID：11839947
> 
> 赞同：1
> 
> 时间：2012-08-07T05:47:12.890
> 
> 标签：javascript, ruby-on-rails, ruby-on-rails-3, controller

大家好，我正在尝试在这里进行动态选择。一旦我选择了客户，他在账单中的总价值就会出现并显示在文本字段标签中。

风景

```
 jQuery(document).ready(function(){
   jQuery(".customerid").bind("change", function() { 

      var data = {
        customer_id: jQuery(".customerid :selected").val()  
      }
      jQuery.ajax({
        url: "get_cust_bill",
        type: 'GET',
        dataType: 'script',
        data: data
      });
    });
  });
</script>

 <div class ="customerid"><%= f.label :customer_id %>
    <%= f.collection_select :customer_id, Customer.all, :id, :name, options ={:prompt => "-Select a Customer"}, :class => "state", :style=>'width:210px;'%></div><br />

     <div class ="customerbill">
      <%= f.label :total_value, "Total Value" %>
  <%= render :partial => "customerbill" %> 
```

js.erb 文件

```
jQuery('.customerbill').html("<%= escape_javascript(render :partial => 'customerbill') %>"); 
```

客户账单部分

```
<% options = []
  options = @cust_bill.total_value if @cust_bill.present? %>
<%= text_field_tag "total_value", options %> 
```

在控制器中

```
def get_cust_bill
    @cust_bill = CustomerBill.find_all_by_customer_id(params[:customer_id]) if params[:customer_id]
  end 
```

我觉得问题出在部分问题上，我打电话的方式`options`所以有人可以指导我如何获取文本字段中的值吗？？？预先感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T10:08:57.753

据我了解， total_value 文本字段不显示任何内容。你能尝试输出选项的值并检查它是否总是有一个值吗？我建议您查看[text_field_tag](http://api.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-text_field_tag)的文档。基本上，它接受如下三个变量：

```
text_field_tag(name, value = nil, options = {}) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T09:29:56.587

我正在使用 getJSON 方法....我觉得可以在这里使用。希望以下工作。

```
jQuery(document).ready(function()
    {
    jQuery(".customerid select").bind("change", function() {
          var data = {
            product_id: jQuery(this).val()  
          }
          jQuery.getJSON(
             "/controller_name/get_cust_bill",
            data,
            function(data){
          var result = "";
          res = parseFloat(a[1]);
           jQuery('.price input').val(res);
          });            
            });
        }); 
```

控制器

```
def get_cust_bill
    @cust_bill = CustomerBill.find_all_by_customer_id(params[:customer_id]).map{|p| [p.price]} if params[:customer_id]
respond_to do |format|
      format.json { render json: @cust_bill }
    end
  end 
```

所以不需要调用js。erb partial 你可以简单地拥有

```
<div class = "price"><%= f.input :price, :label => 'Price', :input_html => { :size => 20} %></div><br/> 
```

祝一切顺利 ：）

# google-apps-script - 如何编写将电子表格的备份副本复制到存档文件夹的脚本？

> ID：11839952
> 
> 赞同：1
> 
> 时间：2012-08-07T05:47:58.973
> 
> 标签：google-apps-script

我有一个定期更新的电子表格，每次我都需要制作一份带有时间戳的副本，以用于历史数据跟踪。我有一个文件夹，可以将副本保存到我的 Google Drive 上。随着时间的推移，手动执行此操作变得相当麻烦。

我想编写一个脚本，用电子表格名称中的当前时间和日期制作电子表格的副本，并将其保存到我的存档文件夹中。在过去的几个小时里，我一直在用谷歌搜索代码，看起来它可能会做类似的事情，但没有管理任何实质性的事情。

任何有用的指针将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T10:22:02.140

这很简单：

```
DocsList.getFileById(SpreadsheetApp.getActiveSpreadsheet().getId()).makeCopy(SpreadsheetApp.getActiveSpreadsheet().getName() + "_copy"); 
```

# mysql - mysql SUM CASE 自加入

> ID：11839953
> 
> 赞同：0
> 
> 时间：2012-08-07T05:48:01.187
> 
> 标签：mysql, sum, case, self, self-join

我需要有关此查询的帮助

这是我查询的实际结果

```
price received   qty recieved    price release  qty release     
  10.30              10                0             0                
   0                  0              10.30           2  
   0                  0              10.30           1
  19.20              20               0              0
   0                  0              19.20           5                      
   0                  0              19.20           3                
   0                  0              19.20           1 
```

在我的查询中使用此代码

```
$result = mysql_query("SELECT *, 
     SUM(CASE WHEN qtyreceived > 0 THEN qtyreceived END) AS qtyrec,
     SUM(CASE WHEN  qtyrelease > 0 THEN qtyrelease END) AS qtyrel 
     FROM stockledger 
     WHERE stockdesc= '$_POST[desc]' GROUP BY pricerelease,pricereceived "); 
```

结果是

收到价格 qtyreceived 价格发布 qtyrelease bal 10.30 10 10 19.20 20 20 10.30 3 -3 19.20 9 -9

我想以这种方式查看结果，这样我就可以得到 2 个价格的剩余数字

```
 price received       qtyreceived    price release  qtyrelease    bal
         10.30            10              10.30           3        7
         19.20            20              19.20           9        11 
```

谢谢.....;

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:56:34.210

从你的数据来看，我认为这将基于价格。正确的？试试这个。

```
SELECT  a.PriceReceived,
        a.qtyreceived,
        b.priceRelease,
        b.qtyRelease,
        (a.bal + b.bal) as bal
FROM    stockledger a 
            INNER JOIN stockledger b
                ON a.priceReceived = b.priceRelease 
```

或另一种选择是

```
SELECT  a.PriceReceived,
        a.qtyreceived,
        b.priceRelease,
        b.qtyRelease,
        (a.qtyreceived - b.qtyRelease) as bal
FROM    stockledger a 
            INNER JOIN stockledger b
                ON a.priceReceived = b.priceRelease 
```

# [*SQLFiddle 演示*](http://sqlfiddle.com/#!2/7a6b5/7)

# javascript - iPad中的Jquery Slider问题在台式机和笔记本电脑上运行良好

> ID：11839954
> 
> 赞同：0
> 
> 时间：2012-08-07T05:48:07.740
> 
> 标签：javascript, jquery, html, ipad

我使用了一个在笔记本电脑和台式机上运行良好的滑块，但是当我在 iPad 中打开时，我们失去了平滑度并出现了一些杂乱，我想要与台式机相同的平滑效果。

请查看此[链接中的代码](http://jsfiddle.net/uU8Mx/)

！！快速响应是可观的！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T06:26:53.147

使用`focus`而不是`click`那将在 iPad 上工作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T11:52:05.363

哇，我只是改变了不同的风格，现在它的工作很完美

```
$(document).ready(function(){
$(".hide").click(function(){
$(".pane").slideToggle(slow);
});
$("#togg a").click(function () {
    $("#togg a").toggle();
});     

}) 
```

# c# - 在 ContinueWith 中重新抛出先前的异常

> ID：11839959
> 
> 赞同：17
> 
> 时间：2012-08-07T05:48:25.233
> 
> 标签：c#, exception, task-parallel-library

＃＃＃介绍

在对我的代码困惑了一段时间后，我发现异常*不一定会*通过以下方式传播`ContinueWith`：

```
int zeroOrOne = 1;
Task.Factory.StartNew(() => 3 / zeroOrOne)
    .ContinueWith(t => t.Result * 2)
    .ContinueWith(t => Console.WriteLine(t.Result))
    .ContinueWith(_ => SetBusy(false))
    .LogExceptions(); 
```

在此示例中，`SetBusy`行“重置”异常链，因此看不到除以零异常，随后在我的脸上炸开了*“未观察到任务的异常......”*

所以......我给自己写了一个小扩展方法（有很多不同的重载，但基本上都是这样做的）：

```
public static Task ContinueWithEx(this Task task, Action<Task> continuation)
{
     return task.ContinueWith(t =>
     {
         if(t.IsFaulted) throw t.Exception;
         continuation(t);
     });
} 
```

再四处搜索，我发现了[这篇](http://www.rizalalmashoor.com/blog/exception-handling-wrappers-for-taskcontinuewith/)博文，他提出了一个类似的解决方案，但使用了 TaskCompletionSource，它（意译）看起来像这样：

```
public static Task ContinueWithEx(this Task task, Action<Task> continuation)
{
     var tcs = new TaskCompletionSource<object>();
     task.ContinueWith(t =>
     {
         if(t.IsFaulted) tcs.TrySetException(t.Exception);
         continuation(t);
         tcs.TrySetResult(default(object));
     });
     return tcs.Task;
} 
```

###Question 这两个版本是否严格等效？`throw t.Exception`还是和之间有细微的差别`tcs.TrySetException(t.Exception)`？

此外，整个互联网上显然只有另一个人这样做的事实是否表明我错过了这样做的惯用方式？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-11T03:41:24.487

两者的区别是微妙的。在第一个示例中，您将抛出从任务返回的异常。这将触发 CLR 中的正常异常抛出和捕获，`ContinueWith`将捕获并包装它并将其传递给链中的下一个任务。

在您调用的第二个中，`TrySetException`它仍将包装异常并将其传递给链中的下一个任务，但不会触发任何 try/catch 逻辑。

一个之后的最终结果`ContinueWithEx`是`AggregateException(AggregateException(DivideByZeroException))`。我看到的唯一区别是内部 AggregateException 在第一个示例中设置了堆栈跟踪（因为它被抛出），而在第二个示例中没有堆栈跟踪。

两者都不太可能比另一个快得多，但我个人更喜欢第二个以避免不必要的投掷。

我已经做了类似的事情，其中​​继续返回了一个结果。我调用了它`Select`，处理了前一个任务被取消的情况，提供了重载来修改异常而不是结果或除了结果之外，还使用了该`ExecuteSynchronously`选项。当延续本身会返回一个任务时，我`Then`根据[本文中的代码调用它](http://blogs.msdn.com/b/pfxteam/archive/2010/11/21/10094564.aspx)

# ios - 如何在 OpenGL 中通过多个通道添加光？

> ID：11839965
> 
> 赞同：1
> 
> 时间：2012-08-07T05:48:38.790
> 
> 标签：ios, opengl-es, lighting, multipass

我有两个函数要结合以下结果：

```
drawAmbient
drawDirectional 
```

它们每个都可以单独工作，仅使用环境光或仅使用定向光绘制场景。我想同时显示环境光和定向光，但遇到了一些麻烦。我试试这个：

```
[self drawAmbient];

glEnable(GL_BLEND);
glBlendEquation(GL_FUNC_ADD);
glBlendFunc(GL_ONE, GL_ONE);

[self drawDirectional];

glDisable(GL_BLEND); 
```

但我只看到 first 的结果`draw`。我以相同的方式计算两组绘制调用的深度。我总是可以只渲染纹理并混合纹理，但这似乎是多余的。渲染到默认帧缓冲区时，有没有办法可以将照明添加在一起？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T08:24:24.363

你说你在两次传球中以相同的方式计算深度。这当然是正确的，但是由于默认的深度比较函数是`GL_LESS`，因此在第二遍中实际上不会渲染任何内容，因为深度永远不会小于深度缓冲区中的当前值。

所以对于第二遍只需将深度测试更改为

```
glDepthFunc(GL_EQUAL); 
```

然后回到

```
glDepthFunc(GL_LESS); 
```

或者您也可以将其设置`GL_LEQUAL`为整个运行时以涵盖这两种情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T08:16:09.873

据我所知，您应该将照明渲染为单独的渲染目标，然后将它们组合起来。因此，您将把场景渲染到这些目标中：

*   没有照明的纹理
*   摘要漫射照明（填充环境颜色并附加渲染所有光源）
*   摘要镜面照明（如果您使用镜面组件）

然后结合纹理，所以`final_color = textured * diffuse + specular`.

# java - 片段内部的 setText

> ID：11839966
> 
> 赞同：1
> 
> 时间：2012-08-07T05:49:07.887
> 
> 标签：java, android, android-fragments, android-fragmentactivity

我在片段活动中运行 setText 命令以尝试在父活动中设置 textView 的文本，但它不起作用。有任何想法吗？

```
TextView text = (TextView) getView().findViewById(R.id.status);
        text.setText("Text from a fragment"); 
```

我在 Eclipse 中没有收到错误，但在运行时出现空指针异常。当然它发生在我设置文本的那一行。关于如何做到这一点的任何想法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T21:56:04.870

使用 getActivity()。它将导致 findViewById() 方法在基本活动处开始搜索并冒泡，直到找到您的“r.id.status”。

```
TextView text = (TextView) getActivity().findViewById(R.id.status);
text.setText("Text from a fragment"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T07:09:38.590

是的，您的 NPE 可能是因为`R.id.status`可能未在片段视图中定义。

`getView()``onCreateView()`将返回在您的 Fragment方法中生成的视图。

您是尝试从（辅助）FragmentActivity 在您的 Activity 中设置 TextView，还是尝试从 Fragment 在 FragmentActivity 中设置 TextView？

如果它是第一个选项，你会想要做一些事情，比如使用消息处理程序并向第二个活动传递一条消息。我不认为这是你要问的。

如果您想从 Fragment 设置 TextView，通常的方法是使用方法（`updateText()`例如）在 FragmentActivity 上定义一个接口，并让 Fragment 调用该方法。然后 Activity 处理 TextView 更新，这很好，因为它可以调用`getView()`它将返回您正在寻找的视图。[这与我在此处](https://stackoverflow.com/questions/11573712/why-direct-communication-between-fragments-is-not-recommended/11573912#11573912)发布的答案相似

# actionscript-3 - 如何使用 Math.round() 在 flex 中保留两个小数点

> ID：11839967
> 
> 赞同：1
> 
> 时间：2012-08-07T05:49:11.127
> 
> 标签：actionscript-3, apache-flex, flex4, flex3

如何使用 Math.Round 在 flex 中保留两个小数点

代码：

```
txtTotal.text=Math.round((Number(txtRate.text)*Number(txtQuantity.text))).toString(); 
```

这里的比率是常数 1.1，数量是可变的，即比率*数量 = 1.1 * 数量

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T05:56:03.537

代替`.toString()`，使用`.toFixed(2)`;

# java - 如何显示当前日期？安卓应用

> ID：11839968
> 
> 赞同：0
> 
> 时间：2012-08-07T05:49:21.733
> 
> 标签：java, android, date

我创建了一个 Android 应用程序，我想在屏幕上显示当前日期。我使用这段代码：

```
Date date = new Date(0);
java.text.DateFormat dateFormat = android.text.format.DateFormat.getDateFormat(getApplicationContext());
text.setText("Time: " + dateFormat.format(date));` 
```

但是这段代码向我显示了日期“1.1.1970”。

如何显示当前日期？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T05:53:09.720

`Date(0)`是 1970 年 1 月的第一个，请参阅[Date(long milliseconds) 构造函数的文档](http://developer.android.com/reference/java/util/Date.html#Date%28long%29)：

> 公共**日期**（长毫秒）
> 
> 使用指定的毫秒值初始化此 Date 实例。该值是自 1970 年 1 月 1 日 GMT 以来的毫秒数。

要获取当前日期，请使用[不带参数](http://developer.android.com/reference/java/util/Date.html#Date%28%29)`Date()`的构造函数：

> 公开**日期**()
> 
> 将此 Date 实例初始化为当前时间。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-07T05:53:27.850

利用

```
text.setText(new SimpleDateFormat("yyyy-MM-dd").format( Calendar.getInstance().getTime()); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T06:08:16.707

要在屏幕上显示当前日期，请执行此操作..

`String s = new SimpleDateFormat("dd-MM-YYYY").format(new Date());`

现在在屏幕上显示**String 。**

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-07T05:52:45.447

```
SimpleDateFormat dfDate  = new SimpleDateFormat("yyyy-MM-dd");   
Calendar c = Calendar.getInstance();
String date = dfDate.format(c.getTime());
System.out.println("Date is "+date); 
```

结果将是 ========> 2012-08-07

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-07T05:54:54.853

只需删除`0`，因此将其替换为：`Date date = new Date(0);`：`Date date = new Date();`

根据[Android 文档](http://developer.android.com/reference/java/util/Date.html#Date%28long%29)：

> 使用指定的毫秒值初始化此 Date 实例。该值是自 1970 年 1 月 1 日 GMT 以来的毫秒数。

由于您传递了 0 值，因此它采用了上述日期并向其添加了 0 毫秒，这就是您获得`1.1.1970`日期的原因。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-07T05:52:45.160

`new Date()`就足够了，否则如果你打电话，你会在 01.01.1970 00:00:00 之后 0 秒得到日期`new Date(0)`

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-07T05:53:05.680

不要使用新的日期（0）。参数是自纪元以来的时间，即 1.1.1970。只需使用新日期（）。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-11-05T21:42:08.570

确保导入“java.util.Date;” 而不是“java.sql.Date;” 否则你将无法通过任何参数。

# php - Prestashop 在注册表单中添加额外字段

> ID：11839969
> 
> 赞同：1
> 
> 时间：2012-08-07T05:49:41.437
> 
> 标签：php, e-commerce, shopping-cart, prestashop, oscommerce

我正在建立一个 prestashop 网站

企业买家无法注册帐户以查看产品，除非他们可以在注册时输入有效的 EIN 号码或有效的 Duns & Brandstreet 号码。

如何使它成为可能？

还有其他任何电子商务软件可以通过切换到它来帮助我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T06:56:48.433

您真正需要做的就是将字段添加到模板中，然后`AuthController`使用其他代码覆盖以处理新字段。例如

```
<?php
class AuthController extends AuthControllerCore
{     
  public function preProcess()
  {
    // Additional pre-processing for the new form field
    if (Tools::isSubmit('submitAccount'))
    {
      if (!MyDBNumberValidationClass::verifyvalidnumber(Tools::getValue('db_number_field', 0)))
        $this->errors[] = Tools::displayError('The Dun and Bradstreet number you entered is invalid.'); 
    }
    parent::preProcess();
  }
} 
```

我假设您正在对数字进行复杂的验证，这就是`MyDBNumberValidationClass::verifyvalidnumber()`上面的静态调用的原因，但它同样可以通过任何简单的测试或上面覆盖类定义中的附加函数`AuthController`来验证。如果您添加两个字段（即 EIN 编号），那么只需更改逻辑以处理仅在**两者均**无效时生成错误；表单验证的成功基于`$this->errors`为空。

这只是一般解决方案的一部分，因为它只处理**验证**额外字段。如果您需要对输入的数据进行实际操作，那么最好的方法是编写一个小处理程序模块，将其安装在`hookCreateAccount`例如

```
public function hookCreateAccount($params)
{
  // Get the field data entered on the form
  $DB_number = $params['_POST']['db_number_field'];

  // Your custom processing...
} 
```

请注意，无法从此处退出帐户创建，因此您需要添加代码以在出现问题时向店主发送电子邮件。

# wcf - 内部服务器上托管的 WCF 服务使用哪种 VS 项目

> ID：11839970
> 
> 赞同：0
> 
> 时间：2012-08-07T05:49:43.283
> 
> 标签：wcf, wcf-ria-services, wcf-client

我需要紧急帮助并且有很多问题。我将首先询问我应该使用哪种 Ms-Vs 项目（Wcf-Application 或 Wcf-library）来创建 wcf-service，该服务将托管在我公司的本地服务器上，并由 windows phone 使用7 应用。

希望能找到答案！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T12:42:25.953

如果您想使用 Web 浏览器或本地 IIS 服务器在 localhost 上托管您的服务，则此 WCF 应用程序是合适的。如果您想在控制台主机或窗口服务上托管您的应用程序，那么 WCF 库是合适的。

# c# - Site.Master(1): Build (web): 无法加载类型'xxx.SiteMaster'

> ID：11839971
> 
> 赞同：1
> 
> 时间：2012-08-07T05:49:47.133
> 
> 标签：c#, asp.net

我正在尝试制作将从数据库中获取菜单的动态菜单，而不是编辑软件的前端。在我单击 MS Visual Studio 2010 中的“发布网站”按钮之前，该项目一直运行良好，并且自从出现此错误以来

```
"\DynamicMenu\Site.Master(1): Build (web): Could not load type 'DynamicMenu.SiteMaster'" 
```

请帮忙

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:53:46.263

我能想到的一个原因是，您已将 Site.Master.cs 文件标记为内容文件。

它应该具有编译操作。

# c++ - 移除购物车中的食物，但某些食物没有移除？为什么

> ID：11839975
> 
> 赞同：-1
> 
> 时间：2012-08-07T05:50:00.643
> 
> 标签：c++

这是我的主要内容：

```
int main() {
  Inventory Master;
  bool flag;
  Customer Bob("Bob", "CreditCard.txt");
  Customer Joe("Joe", "CreditCard.txt" );

  Master.firststock( "inventory.txt" );
  vector<Food> temp = Master._Inv;
  cout <<"Hi, What would you like to buy today?" << endl;
  for(unsigned int i=0; i<temp.size(); i++ ) {
    cout << temp[i].name << " " << temp[i].quant << " " << temp[i].price << endl;
  }

  cout <<"\n";
  Food Apple("Apples", .99, 10);
  Food Orange("Oranges", .99, 10);
  Food Chip("Chips", 3.00, 10);

  cout <<"\nHi Bob" << endl;
  flag = Bob.addCart(Apple, 7, &Master);
  cout <<"Bob's total purchases are Currently: \n";
  Bob.report();
  flag = Bob.addCart(Orange, 2, &Master);
  flag = Bob.addCart(Chip, 2, &Master);
  Bob.report();
  flag = Bob.removeCart();
   Bob.report();
  cout <<"Bob, ";
  flag = Bob.checkout(&Master); 
```

这是我为从矢量_Cart 中移除食物而实施的以下操作：

```
bool Customer::removeCart() {
  bool flag;
  int q = 0;
  unsigned int i=0;
  string remove;

  cout << "\nWhat would you like to remove and how much would you like to remove?" << endl;
  cin >> remove >> q;
 for (i =0; i < _Cart.size(); i++) {
  if(remove == _Cart[i].name) {
      if (q >= 0) {
    _Cart[i].quant -= q;
    //inv->_Inv[i].quant += q;
    cout <<"\nYou removed " << q << " " << remove <<" In your cart\n" << endl;
    return true;
      }
      if  (q < 0) {
          cout << "Invalid number of " << remove << " being removed.\n" << endl;
          return true;
      }
  }
  else {      
  try {
    throw remove;
}

  catch (string param) {
    cout << "\n" << remove << " doesn't exist in your cart\n" << endl;
        }

        return true;
    }
 } 
```

我的标题包含函数 removeCart：

```
class Customer {
  public:

   Customer(string n, string fileName);
    ~Customer() { _Cart.clear(); };
    bool addCart(Food f, int q, Inventory* inv);
    bool removeCart();
    void report(); 
    bool checkout(Inventory* inv); 
  protected:
    string remove;
    string name;
    int q;
    int card;
    double balance;
    CreditCard _CC(int card,double balance);
    vector<Food> _Cart;
}; 
```

现在由于某种原因，当我调用 removeCart 时，输入“Apples”有效，但我注意到我制作了一个名为 Apple 的食物对象，所以不知道为什么输入“Apples”而不是“Apple”可以删除。此外，当我尝试“Orange”或“Chip”时，会显示异常，但正如您在 main 中看到的那样，我将 Chip 和 Orange 添加到 Bob 的购物车中。我什至尝试过“Oranges”和“Chips”，但它仍然给我抛出异常而不是工作。我很感激帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T06:11:52.310

您的 for/if/else 结构已损坏。如果您不匹配购物车中的第一个元素，则会引发异常，您会立即捕获该异常。尝试更多类似的东西：

```
 for (i =0; i < _Cart.size(); i++)
 {
    if(remove == _Cart[i].name)
    {
        if (q >= 0)
        {
           _Cart[i].quant -= q;
           //inv->_Inv[i].quant += q;
           cout <<"\nYou removed " << q << " " << remove <<" In your cart\n" << endl;
        }
        else
           cout << "Invalid number of " << remove << " being removed.\n" << endl;
        return true;
    }
 }
 cout << "\n" << remove << " doesn't exist in your cart\n" << endl;
 return true; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T06:19:19.957

是家庭作业吗？:)

首先，“Apple”是您创建的变量的名称，但是您将“Apples”传递给 Food 的构造函数，所以我认为这个值被分配给它的“name”成员，用于比较。

其次，正如大卫注意到的那样，只有当您尝试删除购物车中的第一个元素时，您的循环才会起作用。在您的情况下，第一个元素被命名为“Apples”，因此输入“Apples”有效。

# iphone - 将 XCode 4.4 回滚到 XCode 4.3

> ID：11839980
> 
> 赞同：1
> 
> 时间：2012-08-07T05:50:22.403
> 
> 标签：iphone, xcode, xcode4, nslog

我在我的 Snow Leopard 机器上安装了 XCode 4.4，但是我有很多 NSLog 输出，这简直就是用不断的沙滩球冻结了我的开发。完全无法使用，在我看来，看这个[开放雷达11972490](http://openradar.appspot.com/11972490)

有没有办法回滚到 XCode 4.3？它会对我的项目产生影响吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:59:42.880

要将 Xcode 回滚到以前的版本，只需登录开发人员门户并在[此处下载您想要的特定 Xcode 版本](https://developer.apple.com/downloads/index.action?name=Xcode)

除非你决定实现一些新的 Objective-c 特性，否则你应该可以回滚到 4.3。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T06:01:58.280

正如您所指出的，很多人都报告了您的问题，但是这里报告的解决方案似乎对我有用。

[https://discussions.apple.com/thread/4140838?start=0&tstart=0](https://discussions.apple.com/thread/4140838?start=0&tstart=0)

# php - 正则表达式用于空格斜线空间

> ID：11839982
> 
> 赞同：1
> 
> 时间：2012-08-07T05:50:26.680
> 
> 标签：php, regex, preg-replace

我想匹配 [space][slash][space] 的任何实例。

IE。

```
" / " 
```

以正则表达式模式。

我在任何地方都找不到答案。我错过了什么？

```
function madeby_remove_slash($text) {
    preg_replace('/ \/ /', ' ', $text);
    return $text;
}
echo madeby_remove_slash('This is the / text'); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T05:54:05.430

您没有将 preg_replace 的返回值分配给`$text`函数中的变量。

```
function madeby_remove_slash($text) {
    return preg_replace('/ \/ /', ' ', $text); // return what the preg_replace returns
} 
```

或者，如果要替换文字字符串，也可以使用[str_replace](http://php.net/manual/en/function.str-replace.php)。

```
str_replace(' / ', ' ', $text); // this works too 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T05:53:08.753

\s/\s

并使用这个[工具](http://rubular.com/)，很酷！

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-07T05:54:23.060

尝试从您的正则表达式中删除封闭的正斜杠。AFAIK 它们在 PHP 中不是必需的，并且很可能认为您也要求它与它们匹配。

# iphone - 在应用程序中获取相机拍摄的最近图像

> ID：11839984
> 
> 赞同：0
> 
> 时间：2012-08-07T05:50:41.283
> 
> 标签：iphone, objective-c, ios

我正在开发一个使用相机的应用程序。我正在使用浏览选项来浏览图库中的照片。如果需要，我还提供了拍照的选项。为了在浏览时获取所选照片，我实现了 UIImagePickerControllerDelegate 方法：

```
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingImage:(UIImage *)img editingInfo:(NSDictionary *)editInfo 
 {
      [self dismissModalViewControllerAnimated:YES];
      imageView.image = img;    
  } 
```

我正在用这种方法获取选定的图像。但是如何在我的 imageView 中获取相机捕获的图像而不将其保存到图库中？我会用同样的方法得到图像吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T06:04:52.050

您正在使用`imagePickerController:didFinishPickingImage:editingInfo:`. 这在 ios 3.0 中已弃用。参考[UIImagePickerControllerDelegate](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIImagePickerControllerDelegate_Protocol/UIImagePickerControllerDelegate/UIImagePickerControllerDelegate.html#//apple_ref/occ/intf/UIImagePickerControllerDelegate)也参考这个[链接](https://stackoverflow.com/questions/8840942/use-deprecated-methods-in-ios-5)为什么不使用不推荐使用的方法。

你必须使用`imagePickerController:didFinishPickingMediaWithInfo:`如下：

```
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info

{
     yourImageView.image = [info objectForKey:@"UIImagePickerControllerOriginalImage"];
     [self dismissModalViewControllerAnimated:YES];
} 
```

这适用于您的相机和照片库。您也不需要保存使用相机拍摄的图像。您可以像此代码一样直接将其分配给您的图像视图。

希望这对您有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T05:53:58.737

这很简单，您只需将`UIImage`直接传递到您的`UIImageView`

```
 yourImageView.image = img; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T06:01:06.720

请试试这个：

```
- (void)imagePickerController:(UIImagePickerController *)picker
didFinishPickingMediaWithInfo:(NSDictionary *)info {
NSLog(@"Media Info: %@", info);
NSString *mediaType = [info valueForKey:UIImagePickerControllerMediaType];
if([mediaType isEqualToString:(NSString*)kUTTypeImage]) {
    UIImage *photoTaken = [info objectForKey:@"UIImagePickerControllerOriginalImage"];
    //Save Photo to library only if it wasnt already saved i.e. its just been taken
    if (picker.sourceType == UIImagePickerControllerSourceTypeCamera) {
        yourImageView.image = img }
}
[self dismissModalViewControllerAnimated:YES];
} 
```

# types - 我可以在 hive 中将表从内部更改为外部吗？

> ID：11839989
> 
> 赞同：30
> 
> 时间：2012-08-07T05:50:49.220
> 
> 标签：types, hive, external

我在 hive 中创建了一个表作为托管表，但它应该是外部的，是否可以在不丢失数据的情况下更改表的表类型？

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2012-08-09T00:21:50.360

```
ALTER TABLE <table> SET TBLPROPERTIES('EXTERNAL'='TRUE') 
```

注意：EXTERNAL 和 TRUE 需要大写否则不起作用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T13:07:33.057

您可以将数据文件从 Hive 数据位置复制到您计划存储外部表的位置，删除表并将其重新创建为外部表。

# javascript - 获取javascript读取的数组文本字段值

> ID：11839992
> 
> 赞同：0
> 
> 时间：2012-08-07T05:51:03.730
> 
> 标签：javascript, arrays, input

例如，我有这个代码：

```
<input type="text" name="width[]">
<input type="text" name="width[]">
<input type="text" name="width[]">
<input type="text" name="width[]">
<input type="text" name="width[]">
<input type="text" name="width[]"> 
```

如何通过 javascript 数组读取此值。我可以像这样使用php来做到这一点；

```
<?
    $values=$_POST['width'];
    foreach($values as $value){//each value}
?> 
```

javascript 变量的每个值都应该可以使用循环访问。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:57:42.100

```
document.getElementsByName('width[]'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T06:33:09.783

正如你所说，你使用 Jquery ..这是 Jquery 方法

```
$(document).ready(function(){
  $('input[name="width[]"]').each(function(){
      alert($(this).val());
  });

}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T05:57:43.227

```
var myForm = document.forms.id_of_form; 
var myControls = myForm.elements['width[]']; 
for (var i = 0; i < myControls.length; i++) { 
    var aControl = myControls[i]; 
} 
```

# webgl - 如何在 WebGL 中进行最大强度投影 [MIP]

> ID：11839993
> 
> 赞同：2
> 
> 时间：2012-08-07T05:51:04.530
> 
> 标签：webgl, three.js

我创建了一个演示 [ [http://jsfiddle.net/georgeneil/cfrsj/16/](http://jsfiddle.net/georgeneil/cfrsj/16/) ] 使用执行混合的three.js，即THREE.AdditiveBlending。但这给了我一种白光效果，因此有一种信息丢失的感觉。

我需要一个可以投影最大强度的混合结果。我如何使用 three.js 做到这一点？

在 OpenGL 中，我可以使用 glBlendEquationEXT(GL_MAX_EXT) 做到这一点。

我更新了演示 [ [http://jsfiddle.net/georgeneil/cfrsj/21](http://jsfiddle.net/georgeneil/cfrsj/21) ]，使概念更加清晰。现在有 8 个粒子，4 个是红色的，剩下的 4 个是黑色的。如果 MIP 工作正常，即使 BLACK 与 RED 重叠，我们也只能看到 RED 粒子![在此处输入图像描述](../Images/75ed28684def0a2f96a4cf59f73a5939.png)

我正在寻找可以从这个演示 [ [http://jsfiddle.net/georgeneil/cfrsj/28/](http://jsfiddle.net/georgeneil/cfrsj/28/) ] 中解释。我需要查看不与红色像素重叠的黑色像素。我需要得到如附图所示的效果。![在此处输入图像描述](../Images/89342927c588c79eddfb2f05522442c1.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T12:13:18.317

如果我理解您的问题，那么这应该是一个正确的解决方案。

[http://jsfiddle.net/cfrsj/26/](http://jsfiddle.net/cfrsj/26/)

编辑：

这就是我模拟该功能的方式。我使用 NormalBlending。

首先我确保颜色饱和

```
 float r= vColor.r > 0.0? 1.0 : 0.0;
    float g= vColor.g > 0.0? 1.0 : 0.0; 
    float b= vColor.b > 0.0? 1.0 : 0.0; 
```

然后我检查 alpha 是否需要

```
 gl_FragColor.a = gl_FragColor.a * 
                     texture2D( texture, gl_PointCoord ).r * 
                     (test.r > 0.0 ? 1.0 : 
                         (test.g > 0.0?1.0:
                         (test.b > 0.0?1.0:0.0))); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-14T13:07:48.200

您可能对以下两个链接感兴趣：

*   [https://www.khronos.org/webgl/public-mailing-list/archives/1212/msg00066.html](https://www.khronos.org/webgl/public-mailing-list/archives/1212/msg00066.html)
*   [http://www.khronos.org/registry/webgl/extensions/proposals/EXT_blend_minmax/](http://www.khronos.org/registry/webgl/extensions/proposals/EXT_blend_minmax/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T07:29:56.117

这是webgl中的一个错误。一种解决方法是使用初始化 gl

```
gl = canvas.getContext("experimental-webgl", { alpha: false } ); 
```

# wampserver - 如何在同一台机器上同时安装 wamp 和 Instantrails？

> ID：11839994
> 
> 赞同：0
> 
> 时间：2012-08-07T05:51:09.947
> 
> 标签：wampserver

嗨，我在我的系统上安装了 wamp，我也想安装 mysql 和 apache 附带的 Instantrails ...我可以在同一台机器上同时安装这两个（wamp 和 Instantrails）而彼此之间没有任何冲突吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:59:35.737

**只要他们在不同的端口上监听，**就不应该有任何冲突。除此之外，Apache 和 MySQL 安装将位于不同的目录中（`C:\WAMP\`例如 WAMP 将安装它们），并且它们将各自运行自己的 Apache 和 MySQL 实例作为不同的服务。您唯一可能需要应对的是端口冲突，但这可以重新配置。

# flash - Air 3.3 - 新 Ipad 上的屏幕尺寸

> ID：11839995
> 
> 赞同：1
> 
> 时间：2012-08-07T05:51:21.830
> 
> 标签：flash, apache-flex, air, retina-display

我最近将我使用的 air 版本升级到 3.3 ，这导致新 ipad 出现问题 - 现在所有内容都是屏幕大小的 1/4。

关于如何解决这个问题的任何想法？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T06:13:52.557

您可以在此处找到视网膜显示器的解决方法：[http ://www.overdigital.com/2012/05/08/the-new-retina-ipad-and-adobe-air/](http://www.overdigital.com/2012/05/08/the-new-retina-ipad-and-adobe-air/)

不过，使用 Air 3.4 应该会自动完成。等不及最终版本了。

# iphone - 将 Kal 日历集成到 Iphone 的自定义选项卡式面板中

> ID：11839997
> 
> 赞同：3
> 
> 时间：2012-08-07T05:51:38.270
> 
> 标签：iphone, ios, ipad

我正在开发一个应用程序，它具有以下场景。用户登录应用程序后，将出现一个自定义的选项卡式面板。我想在我的第一个选项卡项目中显示 Kal 日历。但这样做失败了。请任何人都可以为我提供 XCODE 4.2 的精确步骤，将不胜感激..

提前致谢..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T07:20:43.207

添加`TapkuLibrary`到您的项目（TapkuLibrary.bundle 和其他头文件）

```
#import "TKCalendarMonthView.h" 
```

包括这些代表： `TKCalendarMonthViewDelegate`，`TKCalendarMonthViewDataSource`（在 .h 文件中）

在接口声明`TKCalendarMonthView *calendar;`文件（即.h文件）中声明

`@property (nonatomic, retain) TKCalendarMonthView *calendar;`（在 .h 文件中）

`@synthesize calendar;`（在 .m 文件中）

然后在`viewDidLoad`

```
calendar = [[TKCalendarMonthView alloc] init];
calendar.delegate = self;
calendar.dataSource = self;
[self.view addSubview:calendar];
[calendar reload];

- (void)calendarMonthView:(TKCalendarMonthView *)monthView didSelectDate:(NSDate *)d {
    NSLog(@"calendarMonthView didSelectDate");
}

- (void)calendarMonthView:(TKCalendarMonthView *)monthView monthDidChange:(NSDate *)d {
//  NSLog(@"calendarMonthView monthDidChange"); 
//  NSLog(@"d is %@",d);
} 
```

# jquery - 隐藏失去焦点的障碍

> ID：11839998
> 
> 赞同：0
> 
> 时间：2012-08-07T05:51:44.667
> 
> 标签：jquery, lost-focus

我有一个子菜单。当用户点击它之外的任何地方时，我想隐藏它。我尝试了 focusout() 和 blur() jQuery 方法，但它们不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T05:55:19.283

```
// listen click event on document   
$(document).click(function(e){
    // if the event is not triggered by your submenu, hide it.
    if(e.target.id != id_of_sub_menu){
        $("#id_of_sub_menu").hide();
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T06:15:14.187

// 这里是 id 为 'block' 的 div

```
$(document).ready(function() {
    $('#block').mouseout(function() {
       $(this).hide();
    })
}); 
```

希望能帮助到你！！