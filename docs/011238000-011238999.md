# StackOverflow 问答 11238000-11238999

# python - 生成 XML 词表 (Python)

> ID：11238005
> 
> 赞同：0
> 
> 时间：2012-06-28T04:17:52.643
> 
> 标签：python, xml, ms-word

目前有没有一种方法可以生成包含与 Microsoft Word 兼容的表格的 XML 文件？最好用python。

或者一种在 Linux 上使用 python 生成 MS word 文档的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T04:50:56.880

我假设您使用的是 Microsoft Word 2007 或更高版本。在这种情况下，您可以使用 python-docx 库在 python 中读取和写入 word 文件。

[https://github.com/mikemaccana/python-docx](https://github.com/mikemaccana/python-docx)

# php - 当每一行在第二个表上有多个对应关系时，对连接表的结果结构的混淆

> ID：11238007
> 
> 赞同：0
> 
> 时间：2012-06-28T04:17:54.110
> 
> 标签：php, mysql, join, relational-database

假设我有一个简单的投票应用程序，每个用户只能从投票中选择一个选项

我的投票表

```
+-----------+---------------------+ 
| poll_id   | question            | 
+-----------+---------------------+
|         1 | q1?                 |     
+-----------+---------------------+
|         2 | q2?                 |     
+-----------+---------------------+
|         3 | q3?                 |     
+-----------+---------------------+ 
```

我的选项表

```
+-----------+---------------------+---------+---------+ 
| option_id | poll_id             | option  | counter |
+-----------+---------------------+---------+---------+
|         1 | 1                   |   yes   |  254    | 
+-----------+---------------------+---------+---------+
|         2 | 1                   |   no    |392333337| 
+-----------+---------------------+---------+---------+
|         3 | 2                   |   yes   | 1000    | 
+-----------+---------------------+---------+---------+ 
```

现在我做这样的事情来显示我一页的所有民意调查

```
$polls = $db->query("select * from polls ");
foreach ($polls as $poll)
{ 

  echo $poll->question;

  $options = $db->query("select * from options where poll_id = '$poll->id' ");
  foreach($options as $op )
  {
    echo '<checkbox />'.$op->option; 
  }

} 
```

现在，如果我想使用 joine 和一个查询来执行此操作

```
$query = "select p.* , o.* from polls p JOIN options  o ON p.poll_id = o.poll_id "; 
```

将使用什么数据结构来表示结果？也许是一个多维数组？我不确定如何打印结果

就像在这个例子中结果将是

```
resul_array (
      poll_id  poll_question  option   option 
        1         q1            ys       no
        2         q2            no  
} 
```

如果我将结果作为数组行得到，那么会有类似名称的列吗？我很困惑

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T04:33:42.567

在我看来，您只需要在查询中添加“order by”，并将结果存储在一个数组中，然后对其进行处理即可。

就像是：

```
$polls = $db->query("select p.* , o.* from polls p JOIN options  o ON p.poll_id = o.poll_id order by p.poll_id");
$currentPoll = $polls[0];
foreach ($polls as $poll)
{ 
  if($poll->poll_id != $currentPoll->poll_id) {
     echo $poll->question;
     $currentPoll = $poll;
  }

  echo '<checkbox />'.$poll->option; 

} 
```

HTH。

# java - java Spring Web应用程序中开放ID身份验证的JSP替代品有哪些？

> ID：11238008
> 
> 赞同：0
> 
> 时间：2012-06-28T04:17:57.850
> 
> 标签：java, spring, openid

我有兴趣制作某种 HTML 页面，该页面显示通过某种 openid 身份验证机制进行身份验证的用户名。我注意到这个例子在我看到的很多地方都使用了类似的东西：

“j_spring_openid_security_check”

我读过不建议将 JSP 用于 Web 应用程序，因为 JSF 更受欢迎，如果可能的话，我想坚持使用标准 HTML。是否有某种方法可以通过某些 GET 或 POST 调用某种服务来获取用户的身份，这样我就不必为我的 Web 应用程序依赖 JSP 来验证其他方式？

任何示例/指南/方法都会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T07:57:09.087

[如文档中所述，](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/view.html)您可以使用多种技术作为 Spring MVC 中的视图。如果您真的反对 JSP，您可以使用 Velocity 或 Freemarker 模板，但是有很多成功的企业应用程序使用 JSP 作为其视图技术：Amazon Web Services 论坛只是一个例子。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-30T09:32:27.270

这是我的带有用户名/密码和 openid 登录表单的干净 html 文本项目中的示例。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
</head>
<body style="width: 100%; height: 100%">
<div style="width: 100%; vertical-align: middle; height: 100%; border: 1px solid red" align="center">
    <form style="border: 1px solid red" action="../j_spring_security_check" method="post">
        <p>
            <label for="j_username">Username</label> <input id="j_username" name="j_username" type="text" />
        </p>
        <p>
            <label for="j_password">Password</label> <input id="j_password" name="j_password" type="password" />
        </p>
        <input type="submit" value="Login" />
    </form>
    <form action="../j_spring_openid_security_check" method="post">
        For Google users: <input name="openid_identifier" type="hidden" value="https://www.google.com/accounts/o8/id" /> <input type="submit" value="Sign with Google" />
    </form>
</div>
</body>
</html> 
```

您必须更改代码

```
 <action="../j_spring_security_check"> 
```

# python - 实施埃拉托色尼筛法的错误

> ID：11238011
> 
> 赞同：2
> 
> 时间：2012-06-28T04:18:34.963
> 
> 标签：python

我在实现“埃拉托色尼筛”以获取指定范围内的所有素数时出错。我知道我的代码还没有素数检查，一旦我解决了错误，我会添加它们。

```
def foo(l,r):
    if l == r:
        return "Error"
    if l > r:
        return "Error"
    if l < r:
        pool = set(xrange(l,r + 1))
        prime = 2
        if l == 1:
            print "Discard 1 for now"
        while prime <= r:
            rem = set(xrange(prime,r + 1,prime))
            pool.difference_update(rem)
            a = 0

            while prime >= pool[a]:
                a = a + 1
            prime = pool[a]
        print pool

foo(1,31623) 
```

错误：

```
Traceback (most recent call last):
  File "D:\code\sieve_of_eratothenes.py", line 32, in <module>
    foo(1,31623)
  File "D:\code\sieve_of_eratothenes.py", line 27, in foo
    while prime >= pool[a]:
TypeError: 'set' object does not support indexing 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T04:21:31.120

错误就是它所说的：集合不支持通过索引检索单个项目。看起来您想使用列表或 xrange 对象（例如，`pool = xrange(l, r+1)`。您为什么使用集合？

请注意，集合中的元素是*unordered*，因此以您尝试执行的方式对其进行迭代是行不通的。您不能假设较大的素数将位于集合的“末尾”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T04:34:15.090

您不能通过索引引用集合元素，但是 a`set`是可迭代的，因此：

```
a = 0
while prime >= pool[a]:
   a = a + 1
   prime = pool[a] 
```

可以改写为：

```
for el in pool:
   if prime >= el:
       prime = el
       break 
```

# python - 调试代码时出现以下错误。调试可能是 Mutate 正在获取 Classroom1 的值

> ID：11238016
> 
> 赞同：-3
> 
> 时间：2012-06-28T04:19:16.217
> 
> 标签：python

```
# Loop(Classroom1, m_count, h_count, t_count, l_count, loopsize)
  File "/Users/maninder/git/TrialScheduler/TrialScheduler/main.py", line 27, in Loop
    Loop(Classroom1, m_count, h_count, t_count, l_count, loopsize)
  File "/Users/maninder/git/TrialScheduler/TrialScheduler/main.py", line 27, in Loop
    Loop(Classroom1, m_count, h_count, t_count, l_count, loopsize)
   File "/Users/maninder/git/TrialScheduler/TrialScheduler/main.py", line 27, in Loop # 
```

编码：

```
from CProfessor import Professor 
    from CCourse import Course
    from CClassroom import Classroom
    import copy
def Loop(Classroom1, m_count, h_count, t_count, l_count, loopsize):
    for i in range(0, loopsize):
        Mutated = Classroom()
        #Mutated = Classroom1.CopyOfClassroom(Mutated)
        Mutated = copy.deepcopy(Classroom1)#Modification
        Mutated.Mutate()
        HardConstraintClassroomMet = Classroom1.ComputeHardConstraint()
        HardConstraintMutatedMet = Mutated.ComputeHardConstraint()
        if HardConstraintClassroomMet == False and HardConstraintMutatedMet == False:
            h_count + 1
            t_count + 1
            Classroom1.Mutate()
            continue
        if Mutated.FitnessValue() > Classroom1.FitnessValue():
            m_count + 1
            t_count + 1
            Classroom1 = Mutated
        if Classroom1.ComputeHardConstraint() == False:
            l_count + 1
            temp = l_count*loopsize
            print "Unable to meet hard consraints in %d" % temp
        Loop(Classroom1, m_count, h_count, t_count, l_count, loopsize)

    Professor0 = Professor(ProfessorId = 0, PreferedStartTime = 8, PreferedEndTime = 11)
    Professor1 = Professor(ProfessorId = 1, PreferedStartTime  = 10, PreferedEndTime = 13.75)
    Professor2 = Professor(ProfessorId = 2, PreferedStartTime  = 4, PreferedEndTime = 7.75)

# intializing Courses
    Course0 = Course(CourseId = 0, ProfessorId = 0, CourseSlot = 0, CourseType ="UnderGraduate")
    Course1 = Course(CourseId = 1, ProfessorId = 4, CourseSlot = 1) # we decided to leave this 
coursetype to be emmpty and it is set none in the Course class
    Course2 = Course(CourseId = 2, ProfessorId = 1, CourseSlot = 2, CourseType ="UnderGraduate")
    Course3 = Course(CourseId = 3, ProfessorId = 4, CourseSlot = 3)
    Course4 = Course(CourseId = 4, ProfessorId = 1, CourseSlot = 4, CourseType ="UnderGraduate")
    Course5 = Course(CourseId = 5, ProfessorId = 4, CourseSlot = 5)
    Course6 = Course(CourseId = 6, ProfessorId = 2, CourseSlot = 6, CourseType ="Graduate")
    Course7 = Course(CourseId = 7, ProfessorId = 2, CourseSlot = 7, CourseType ="UnderGraduate")

# intializing 
    Classroom1 = Classroom(FirstCourseStartTime = 8, LastCourseEndTime = 7.75)
# Add all courses to Classroom1
    Classroom1.AddCourse(Course0)
    Classroom1.AddCourse(Course1)
    Classroom1.AddCourse(Course2)
    Classroom1.AddCourse(Course3)
    Classroom1.AddCourse(Course4)
    Classroom1.AddCourse(Course5)
    Classroom1.AddCourse(Course6)
    Classroom1.AddCourse(Course7)

# Add Professors to the classroom.

    Classroom1.AddProfessor(Professor0)
    Classroom1.AddProfessor(Professor1)
    Classroom1.AddProfessor(Professor2) 

    m_count = 0 # mutations caused by grea
    h_count = 0
    t_count = 0
    l_count = 0
    loopsize = 10000
    Loop(Classroom1, m_count, h_count, t_count, l_count, loopsize)
    """
    Printing out the results:
    """
    print '\n'
    print "Mutation caused by greater fitness value %d" % m_count
    print "Mutation caused by Hard Constraint Violations %d" % h_count
    print "Number of Mutations before Converging" % t_count
    Classroom1.PrintClassroom() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T04:27:53.783

这是代码的相关部分：

```
def Loop(Classroom1, m_count, h_count, t_count, l_count, loopsize):
    for i in range(0, loopsize):
        Loop(Classroom1.Mutate(), m_count, h_count, t_count, l_count, loopsize) 
```

换句话说，当你用 loopsize=10 调用 Loop 时，它会用 loopsize 10 再调用 Loop 10 次……这将再调用 Loop 100 次……这将再调用它 1000 次。所以最终，你会用完堆栈空间。

跳过递归情况的唯一方法是使用 Classroom1.ComputeHardConstraint()，在这种情况下，您跳过了一个对 Loop 的调用，但您仍然有 loopcount-1 其他调用。一个正确定义的算法可能会完成，但看起来你正在发散——你切断了递归树的成功分支，但其余的永远继续下去。即使它确实收敛了，递归也几乎肯定会变得非常深和宽，可能足以杀死堆栈。（如果您指望尾递归消除，Python 不会这样做，而且它无论如何也无济于事，除非可能从每个循环计数中敲出 1 个调用。）

作为旁注，您的大部分代码实际上并没有做任何事情。例如：

```
h_count + 1 
```

这将评估表达式“h_count + 1”，然后丢弃结果。它不会将其存储在任何地方，将其用于任何事情，更改 h_count 的值或其他任何事情。

# css - Css 100% 高度：重新调整页面大小时页脚滚动到内容

> ID：11238017
> 
> 赞同：0
> 
> 时间：2012-06-28T04:19:58.970
> 
> 标签：css

我一直在关注一个教程，以使我的网页 css 从此[SITE](http://peterned.home.xs4all.nl/examples/csslayout1.html) 100% 高度。我能够实现我想要的，但现在我的页脚有问题。每次我将页面缩小时，页脚都会稍微向上滚动到内容中。有什么办法可以阻止吗？这是我的[现场示例](http://webprolearner2346.zxq.net/css-test/)

谢谢

**css**

```
<style>
html, body {
    margin:0;
    padding:0;
    height:100%; /* needed for container min-height */
    background:#333333;
    font-family: trebuchet, 'trebuchet ms', 'tahoma', sans-serif;
    font-size:small;
    color:#5e5e5e;
    line-height: 130%;
}

/****** COLORBLOCK: this is the orangey-yellow bar behind the wrapper in the background. ******/

#colorblock {
    position: absolute;
    top: 60px;
    left: 0px;
    background: #c69a55;
    z-index: 0;
    height: 65px;
    width: 100%;
    padding: 0px;
    margin: 0px;
}

/**************************************************/

div#container {
    position:relative; /* needed for footer positioning*/
    margin:0 auto; /* center, not in IE5 */
    width:925px;
    background:#f0f0f0;
    height:auto !important; /* real browsers */
    height:100%; /* IE6: treaded as min-height*/
    min-height:100%; /* real browsers */
    border-right: 15px solid #000000;
    border-left: 15px solid #000000;

}

div#contentArea {
    padding:1em 1em 5em; /* bottom padding for footer */

}
    div#contentArea p {
        text-align:justify;
        padding:0 1em;
    }

#content {
    margin-left: 240px;
    margin-right: 0 auto;
    background: #ebebeb;
    padding: 5px;
    width:635px;
    height: 400px;

}

/****** TOP BANNER: This is the banner with Greg's List logo and main navigation. Also includes the styles for the main navigation links. ******/
div#header {
    /*padding:1em;*/
    height: 175px;
    border-top:15px solid #000000;

}
    div#header p {
        margin:0;
    }

/****** LEFT COLUMN: This is the left gray column next to the content. Features the styling for the log-in form and the location links. ******/

#left2 {
    float: left;
    width: 200px;
    background: #dddddd;
    -moz-border-radius: 10px;
    border-radius: 10px;
    margin-right: 15px;
    padding: 5px;
    height: 400px;
}

/****** FOOTER: This is the junk at the bottom of the page. Do NOT remove the clear div; it's what makes it stick to the bottom. ******/

div#footer {
    position:absolute;
    width:100%;
    bottom:0; /* stick to bottom */
    background:#7A7A7A;
    border-bottom:15px solid #000000;
}
    div#footer p {
        padding:1em;
        margin:0;
    }

a.footer {
    color: #c7c7c7;
    font-size: 80%;
    padding-right: 20px;
    letter-spacing: 1px;
}   

p { 
    margin:0 0 1em;
}   

</style> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T04:28:18.497

由于您在内容 div 上设置了明确的高度，您可以这样做：

`padding-bottom:36px;`在你的 div#container 第 32 行

但是，如果您的内容 div 的高度发生变化，它可能不再考虑该填充。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T04:29:40.987

添加`margin-bottom:60px;`到`#content`css 定义中。

全块：

```
#content {
    margin-left: 240px;
    margin-right: 0 auto;
    margin-bottom: 60px;
    background: #ebebeb;
    padding: 5px;
    width:635px;
    height: 400px;
} 
```

# javascript - 磁带资产管理器为 javascript 包返回的空内容

> ID：11238018
> 
> 赞同：3
> 
> 时间：2012-06-28T04:20:19.717
> 
> 标签：javascript, string, cassette

自从从 v1.1.0 升级到 v1.2.0 后，过去几周我遇到了 3 次磁带问题。我现在已经回滚到 v1.1.0 并且从那以后没有看到问题。

我有一个使用 .NET 4.0 在 IIS7 上运行的 c# 网站，该网站有多个由 Cassette 管理的 javascript 包。我们的卡带配置是：

```
public void Configure(BundleCollection bundles, CassetteSettings settings) {
    //bundle stylesheets
    bundles.AddPerSubDirectory<StylesheetBundle>("Content/Stylesheets");

    // Per-page JS (eventually may want separate folders as well)
    bundles.AddPerSubDirectory<ScriptBundle>("Content/Scripts/Pages");

    // Bundle all scripts except special cases above
    bundles.AddPerSubDirectory<ScriptBundle>("Content/Scripts",
    new ExcludeDirectorySearch("*.js", new[] {"Pages"}),
     b => b.Processor = new ScriptPipeline {
         Minifier = new MicrosoftJavaScriptMinifier(new CodeSettings { KillSwitch = 0x40000000000 })
     });
} 
```

在正常运行了几天后，突然其中一个 javascript 文件包开始返回一个空的 javascript 文件，这导致我的网站中断。我已经看到它发生在几个不同的捆绑包上，所以它不是一个特定的捆绑包失败。

我已经在磁带上进行了启动跟踪，除了我的 css 中缺少一些图像之外，没有看到任何东西出现在那里。

网站的每个页面至少有 2 个它引用的 js 包。一个捆绑包是特定于页面的，然后有一些通用捆绑包用于 jquery 等。

重建捆绑包似乎修复了一次，虽然其他时候我没有注意到它修复，直到我重新启动 IIS 中的应用程序池。

有谁知道是什么原因造成的？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T22:17:27.213

我也经历了一个 CSS 包突然变空的情况。必须重新启动站点才能再次恢复。可能必须在我的网站上保留 debug=true ，如果这种情况继续发生，可以捆绑。

# java - glassfish 和 restfull 网络服务异常

> ID：11238021
> 
> 赞同：1
> 
> 时间：2012-06-28T04:20:44.117
> 
> 标签：java, web-services

我对java webservices很陌生。我在 glassfish 上部署了一个 restfull web 服务。Web 服务可以正常运行大约 10 或 20 小时，然后系统没有响应。以下是每次调用服务时抛出的异常（系统中断后）。请告诉我为什么抛出这个异常。谢谢

```
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after statement closed.
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
    at com.mysql.jdbc.Util.getInstance(Util.java:386)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1013)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:987)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:982)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:927)
    at com.mysql.jdbc.StatementImpl.checkClosed(StatementImpl.java:458)
    at com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1418)
    at datamodel.Question_Data_Factory.getFilteredQData(Question_Data_Factory.java:44) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T07:10:29.973

原因是jdbc驱动连接长时间空闲时自动关闭。将 conncetTimeout 设置为 0 解决了问题

# android - Android Phonegap - 在外部浏览器而不是 Phonegap WebView 中打开 iframe 链接

> ID：11238029
> 
> 赞同：3
> 
> 时间：2012-06-28T04:22:08.437
> 
> 标签：android, cordova, webview, android-webview, leadbolt

**在我正在开发的Phonegap 1.3.0**应用程序中，我遇到了一个似乎很小的问题。它适用于安卓设备。

问题源于我试图整合到我的应用程序中的广告。我正在尝试不使用 Leadbolt 的无 SDK 报价墙以及他们的横幅广告。

我在我的应用程序的 iframe 中加载优惠墙，在隐藏的 DIV 内，然后在需要时显示它 - 这部分工作得很好。

当我单击优惠墙上的一个链接时，问题就出现了：不是在新的外部/本机浏览器中启动单击的 URL，而是在 iframe 中打开链接。当有人点击横幅时也会发生同样的事情，尽管这些是通过在您希望广告展示的位置插入 a 而不是通过 iframe 来集成的。（也许脚本注入了一个iframe，不知道，最终的行为是一样的）

我现在要做的是在 Java 中实现一个方法来捕获任何点击，如果链接不是相对/本地的，则打开一个新浏览器 - 即，如果它以“http”、“https”或“市场”协议

真正的问题就在这里——我对 Java 的唯一经验是有点弄乱 Phoengap :(

我整天都在阅读和测试东西，但最后我必须求助于那些在 Java 编程方面比我知识渊博的人。

到目前为止，这是我一直在尝试的：

```
package com.phonegap.my_great_app;

import android.os.Bundle;
import android.webkit.WebView;
import com.phonegap.*;

public class MyGreatApp extends DroidGap {

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        super.loadUrl("file:///android_asset/www/index.html");

        /* Intercept clicked links, and open external URLs in external browser */
        public boolean shouldOverrideUrlLoading(DroidGap super, String url) {
            if (url != null && url.startsWith("market://") || url.startsWith("http://") || url.startsWith("https://")) {

                /* Open new WebView or external browser with URL */
                /* Do it here */
                Uri uri = Uri.parse(url);
                Intent intent = new Intent(Intent.ACTION_VIEW, uri);
                startActivity(intent);

            } else {

                /* Do nothing, it's relative URL from my app */
                return false;

            }
        }

    }
} 
```

我确信这段代码是可笑的错误，但希望它可以说明我在这里想要实现的目标。说实话，我不知道 shouldOverrideUrlLoading() 是否是解决这个问题的正确方法！

我将非常感谢您提供的任何建议或代码示例！谢谢 ：）

**编辑：为了清楚起见 - 我无法更改 iframe 源代码，因此由于 XSS 问题，javascript 或更改链接目标不是一个选项。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:06:00.827

您可以在默认浏览器中打开外部链接，而不是在 phonegap 应用程序中打开。这可以通过两种方式轻松完成。

一种是像这样使用Phonegap方法，

```
navigator.app.loadUrl('http://stackoverflow.com');
/*NOTE : In some phonegap versions it does not works*/ 
```

另一种方法是使用jquery mobile，你可以这样做，

```
<a href="http://www.youtube.com/user/mychannel" class="ui-link" rel="external" target="_blank" title="My YouTube Channel">YouTube Channel</a> 
```

就这样。

# iphone - 通过方法在任何视图控制器上创建 UILabel

> ID：11238032
> 
> 赞同：2
> 
> 时间：2012-06-28T04:22:16.440
> 
> 标签：iphone, cocoa-touch, uilabel

如果视频上传到 Facebook 失败，我有一个方法会被调用。如果调用该方法，那么我希望 a`UILabel`在上传失败时用户碰巧在的任何视图控制器中短暂出现。

这可能吗？

我之前问过一个关于 a 的类似问题`UIAlertView`，但我意识到在某些情况下，警报可能会对用户体验产生负面影响。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T04:30:47.147

您可以通过多种方式做到这一点 -

1）您可以添加`UILabel`到您的应用程序 main `Window`。

2）如果您使用的是 a`UINavigationController`那么您将获得 current 的实例，`viewcontroller`然后可以添加`UILabel`到其视图中。

3）如果您在这种情况下使用 a ，您还可以通过访问's selected来获取`UITabBarController`current 的实例`viewcontroller``tabBarController``viewcontroller.`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T04:32:07.427

我在下面发布的这段代码来自 facebook 的[HackBook](https://github.com/facebook/facebook-ios-sdk/tree/master/sample/Hackbook)示例应用程序。他们所做的与您想要的相似。

```
- (void)showMessage:(NSString *)message {
CGRect labelFrame = messageView.frame;
labelFrame.origin.y = [UIScreen mainScreen].bounds.size.height - self.navigationController.navigationBar.frame.size.height - 20;
messageView.frame = labelFrame;
messageLabel.text = message;
messageView.hidden = NO;

// Use animation to show the message from the bottom then
// hide it.
[UIView animateWithDuration:0.5
                      delay:1.0
                    options: UIViewAnimationCurveEaseOut
                 animations:^{
                     CGRect labelFrame = messageView.frame;
                     labelFrame.origin.y -= labelFrame.size.height;
                     messageView.frame = labelFrame;
                 }
                 completion:^(BOOL finished){
                     if (finished) {
                         [UIView animateWithDuration:0.5
                                               delay:3.0
                                             options: UIViewAnimationCurveEaseOut
                                          animations:^{
                                              CGRect labelFrame = messageView.frame;
                                              labelFrame.origin.y += messageView.frame.size.height;
                                             //    UIView *messageView; declared in header
                                              messageView.frame = labelFrame;
                                          }
                                          completion:^(BOOL finished){
                                              if (finished) {
                                                  messageView.hidden = YES;
                                                  messageLabel.text = @"";
                                              }
                                          }];
                     }
                 }];
 } 
```

# android - InvocationTargetException 和编码讨论

> ID：11238034
> 
> 赞同：0
> 
> 时间：2012-06-28T04:22:52.160
> 
> 标签：android

此代码正在引发 invocationTargetException。这段代码有几个问题：

1.  它仍在输入 if 语句，即使我在没有任何输入到`EditText`.
2.  我猜这个异常可能是因为`parseInt`没有任何东西可以解析（尽管这不应该是一个问题）。
3.  这种类型异常的原因不应该是在正确的时间启动某些东西，不是吗？

    ```
    if(ageText.getText().toString() != "" || ageText.getText().toString() != null)
    {
        newCharacterController.characterAge = Integer.parseInt(ageText.getText().toString());
    } 
    ```

也有点离题，我似乎找不到`tag`任何容器，如 a`Spinner`或`EditText`，当我`mTag`在程序运行时查看它的值时，这会影响我的`if(parent.getTag() == "OBJECTIDGIVENBYMYSELF")`并停止工作吗？还有一种更好的方法来获得`tag`价值（C＃中的.getType（））。

上述 OBJECTNAMEGIVENBYMYSELF 的一个例子是`EditText ***newEditText*** = new EditText(this);`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T04:31:06.790

```
ageText.getText().toString() != "" 
```

上面的代码不是比较String内容的好习惯，只是因为比较运算符如“==”用于按引用而不是按值比较。我认为您应该改用以下代码

```
ageText.getText().toString().equals("") 
```

顺便说一句，在此之前检查 null 。

# android - 如何在 /res/layout 的文件夹中查看 XML 文件的图形布局？

> ID：11238043
> 
> 赞同：2
> 
> 时间：2012-06-28T04:24:33.803
> 
> 标签：android, android-layout

我可以在文件夹中看到 XML 文件的图形布局`/res/layout`，但在我的`/res/layout/signup`文件夹中看不到。这是否意味着我只能在里面创建 XML 布局文件`/res/layout`？当我打开 XML 文件时，另一个选项卡`/res/layout/signup`是“结构”，而不是“图形布局”。顺便说一句，我正在使用 Eclipse。

**更新：**我尝试将文件从`/res/layout/signup`to移动`/res/layout`，现在我可以看到它们的图形布局。那么这真的是文件夹的问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T04:34:40.943

不幸的是 /res/layout 不支持子文件夹。

我很确定这是因为 R 将它的引用管理为 a `List`，因此所有布局都必须在同一个“级别”上。

尝试将文件夹作为前缀附加到布局名称 -

signup_editform.xml signup_tips.xml ...

# javascript - 将字符串传递给 javascript 函数会产生值

> ID：11238044
> 
> 赞同：0
> 
> 时间：2012-06-28T04:24:35.080
> 
> 标签：javascript, html

这里发生了一些非常奇怪的事情，我绕着圈子试图弄清楚发生了什么......我有几个输入框，为它们触发了 onchange 事件，该事件被加载了一个 JS 函数，该函数需要值（另一个项目的名称）并相应地操作函数。唯一的问题是，当字符串的值到达另一个函数时，它以某种方式被分配了一个数值，特别是输入框的数值。

我的 php 帮助构建表单：

```
$filterfield = '"p_delweek"';
print "<span class='filter'>Del Week<input class='menulink spin-button' id='weekno' type='text' value='".$weekno."' onKeyUp='doFilter($filterfield)' onChange='doFilter($filterfield)' data-filtered='0'/><input type='button' value='Clear' onClick='doUnfilter()'></span>";
$filterfield = '"p_seedweek"';
print "<span class='filter'>Sow Week<input class='menulink spin-button' id='sowweekno' type='text' value='".$weekno."' onKeyUp='doFilter($filterfield)' onChange='doFilter($filterfield)' data-filtered='0'/><input type='button' value='Clear' onClick='doUnfilter()'></span>"; 
```

在源代码中生成 HTML：

```
<span class="filter">Del Week<input style="width: 50px; height: 22px;" class="menulink spin-button smartspinner" id="weekno" value="26" onkeyup='doFilter("p_delweek")' onchange='doFilter("p_delweek")' data-filtered="0" type="text"><input value="Clear" onclick="doUnfilter()" type="button"></span><span class="filter">Sow Week<input style="width: 50px; height: 22px;" class="menulink spin-button smartspinner" id="sowweekno" value="26" onkeyup='doFilter("p_seedweek")' onchange='doFilter("p_seedweek")' data-filtered="0" type="text"><input value="Clear" onclick="doUnfilter()" type="button"></span> 
```

被调用的Javascript函数：

```
function doFilter(filterfield) {
    console.log("DoFilter:"+filterfield);

    var filterInfo=[
        {
            fieldName : filterfield,
            logic : "equal",
            value : Sigma.Util.getValue("weekno")
        }
    ]

    // the next lines action the filtering
    var grid=Sigma.$grid("myGrid1");
    console.log("filterinfo="+filterInfo);
    var rowNOs=grid.applyFilter(filterInfo); 
} 
```

一切都很好，直到我们到达 console.log("DoFilter:"+filterfield) ，结果是 DoFilter:25; 25恰好是输入框的值。

它是如何抓住这个价值的？怎么通过真题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:59:01.233

TBH — 我不确定我是否得到了你想要的东西。但是，如果您必须内联调用函数（我建议您不要），您可以将输入字段的引用作为参数传递并使其在方法的主体中可用：

```
<input onchange="doFilter('p_delweek', this)" type="text"> 
```

​</p>

```
function doFilter(filterfield, field) {
    console.log(filterfield);
    // field is a reference to the input field, hence
    console.log(field.value);
    // will print the current value for this field
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T10:35:36.180

这不是答案，这个文件是问题：

```
 (function($) {
        $.fn.extend({
            spinit: function(options) {
                var settings = $.extend({ min: 0, max: 100, initValue: 0, callback: doFilter, stepInc: 1, pageInc: 10, width: 50, height: 15, btnWidth: 10, mask: '' }, options);
                return this.each(function() {
                    var UP = 38;
                    var DOWN = 40;
                    var PAGEUP = 33;
                    var PAGEDOWN = 34;
                    var mouseCaptured = false;
                    var mouseIn = false;
                    var interval;
                    var direction = 'none';
                    var isPgeInc = false;
                    var value = Math.max(settings.initValue, settings.min);
                    var el = $(this).val(value).css('width', (settings.width) + 'px').css('height', settings.height + 'px').addClass('smartspinner');
                    raiseCallback(value);
                    if (settings.mask != '') el.val(settings.mask);
                    $.fn.reset = function(val) {
                        if (isNaN(val)) val = 0;
                        value = Math.max(val, settings.min);
                        $(this).val(value);
                        raiseCallback(value);
                    };
                    function setDirection(dir) {
                        direction = dir;
                        isPgeInc = false;
                        switch (dir) {
                            case 'up':
                                setClass('up');
                                break;
                            case 'down':
                                setClass('down');
                                break;
                            case 'pup':
                                isPgeInc = true;
                                setClass('up');
                                break;
                            case 'pdown':
                                isPgeInc = true;
                                setClass('down');
                                break;
                            case 'none':
                                setClass('');
                                break;
                        }
                    }
                    el.focusin(function() {
                        el.val(value);
                    });
                    el.click(function(e) {
                        mouseCaptured = true;
                        isPgeInc = false;
                        clearInterval(interval);
                        onValueChange();
                    });
                    el.mouseenter(function(e) {
                        el.val(value);
                    });
                    el.mousemove(function(e) {

                        if (e.pageX > (el.offset().left + settings.width) - settings.btnWidth - 4) {
                            if (e.pageY < el.offset().top + settings.height / 2)
                                setDirection('up');
                            else
                                setDirection('down');
                        }
                        else
                            setDirection('none');
                    });
                    el.mousedown(function(e) {
                        isPgeInc = false;
                        clearInterval(interval);
                        interval = setTimeout(onValueChange, 250);
                    });
                    el.mouseup(function(e) {
                        mouseCaptured = false;
                        isPgeInc = false;
                        clearInterval(interval);

                    });
                    el.mouseleave(function(e) {
                        setDirection('none');
                        if (settings.mask != '') el.val(settings.mask);
                    }); el.keydown(function(e) {
                        switch (e.which) {
                            case UP:
                                setDirection('up');
                                onValueChange();
                                break; // Arrow Up
                            case DOWN:
                                setDirection('down');
                                onValueChange();
                                break; // Arrow Down
                            case PAGEUP:
                                setDirection('pup');
                                onValueChange();
                                break; // Page Up
                            case PAGEDOWN:
                                setDirection('pdown');
                                onValueChange();
                                break; // Page Down
                            default:
                                setDirection('none');
                                break;
                        }
                    });

                    el.keyup(function(e) {
                        setDirection('none');
                    });
                    el.keypress(function(e) {
                        if (el.val() == settings.mask) el.val(value);
                        var sText = getSelectedText();
                        if (sText != '') {
                            sText = el.val().replace(sText, '');
                            el.val(sText);
                        }
                        if (e.which >= 48 && e.which <= 57) {
                            var temp = parseFloat(el.val() + (e.which - 48));
                            if (temp >= settings.min && temp <= settings.max) {
                                value = temp;
                                raiseCallback(value);
                            }
                            else {
                                e.preventDefault();
                            }
                        }
                    });
                    el.blur(function() {
                        if (settings.mask == '') {
                            if (el.val() == '')
                                el.val(settings.min);
                        }
                        else {
                            el.val(settings.mask);
                        }
                    });
                    el.bind("mousewheel", function(e) {
                        if (e.wheelDelta >= 120) {
                            setDirection('down');
                            onValueChange();
                        }
                        else if (e.wheelDelta <= -120) {
                            setDirection('up');
                            onValueChange();
                        }

                        e.preventDefault();
                    });
                    if (this.addEventListener) {
                        this.addEventListener('DOMMouseScroll', function(e) {
                            if (e.detail > 0) {
                                setDirection('down');
                                onValueChange();
                            }
                            else if (e.detail < 0) {
                                setDirection('up');
                                onValueChange();
                            }
                            e.preventDefault();
                        }, false);
                    }

                    function raiseCallback(val) {
                        if (settings.callback != null) settings.callback(val);
                    }
                    function getSelectedText() {

                        var startPos = el.get(0).selectionStart;
                        var endPos = el.get(0).selectionEnd;
                        var doc = document.selection;

                        if (doc && doc.createRange().text.length != 0) {
                            return doc.createRange().text;
                        } else if (!doc && el.val().substring(startPos, endPos).length != 0) {
                            return el.val().substring(startPos, endPos);
                        }
                        return '';
                    }
                    function setValue(a, b) {
                        if (a >= settings.min && a <= settings.max) {
                            value = b;
                        } el.val(value);
                    }
                    function onValueChange() {
                        if (direction == 'up') {
                            value += settings.stepInc;
                            if (value > settings.max) value = settings.max;
                            setValue(parseFloat(el.val()), value);
                        }
                        if (direction == 'down') {
                            value -= settings.stepInc;
                            if (value < settings.min) value = settings.min;
                            setValue(parseFloat(el.val()), value);
                        }
                        if (direction == 'pup') {
                            value += settings.pageInc;
                            if (value > settings.max) value = settings.max;
                            setValue(parseFloat(el.val()), value);
                        }
                        if (direction == 'pdown') {
                            value -= settings.pageInc;
                            if (value < settings.min) value = settings.min;
                            setValue(parseFloat(el.val()), value);
                        }
                        raiseCallback(value);
                    }
                    function setClass(name) {
                        el.removeClass('up').removeClass('down');
                        if (name != '') el.addClass(name);
                    }
                });
            }
        });
    })(jQuery); 
```

为什么以及在哪里改变附加到 <INPUT> 的函数的传递值？

# iphone - 如何在图像视图中对齐标签？

> ID：11238048
> 
> 赞同：0
> 
> 时间：2012-06-28T04:25:19.413
> 
> 标签：iphone, uiimageview, uilabel

我有一个滚动视图（IBOutlet）；在那个滚动视图中，我添加了一个图像视图。我正在尝试根据其大小在图像中添加标签。我的意思是，在图像中放置标签有 9 个选项：例如 TR（右上角）、TC（顶部中心）、C（中心）......假设我的图像小于 iPhone 的分辨率，比如 300x160。现在，我正在图像视图中加载标签，但它无法正常工作，标签的对齐方式不正确。这是我的对齐按钮代码：

```
-(IBAction)btn_AlignPressed:(UIButton*)sender{
    lbl.tag = sender.tag;
    [imgView addSubview:lbl];
    if (sender.tag == 1) {
        lbl.frame = CGRectMake(0, 0, imgView.frame.size.width, imgView.frame.size.height);
    } else if(sender.tag == 2) {
        lbl.frame = CGRectMake(160-(imgView.frame.size.width/2), 0, imgView.frame.size.width, imgView.frame.size.height);
    } else if(sender.tag == 3) {
        lbl.frame = CGRectMake(320-imgView.frame.size.width, 0, imgView.frame.size.width, imgView.frame.size.height);
    } else if(sender.tag == 4) {
        lbl.frame = CGRectMake(0, 210-(imgView.frame.size.height/2), imgView.frame.size.width, imgView.frame.size.height);
    } else if(sender.tag == 5) {
        lbl.frame = CGRectMake(160-(imgView.frame.size.width/2), 210-(imgView.frame.size.height/2), imgView.frame.size.width, imgView.frame.size.height);
    } else if(sender.tag == 6) {
        lbl.frame = CGRectMake(320-imgView.frame.size.width, 210-(imgView.frame.size.height/2), imgView.frame.size.width, imgView.frame.size.height);
    } else if(sender.tag == 7) {
        lbl.frame = CGRectMake(0, 420-imgView.frame.size.height, imgView.frame.size.width, imgView.frame.size.height);
    } else if(sender.tag == 8) {
        lbl.frame = CGRectMake(160-(imgView.frame.size.width/2), 420-imgView.frame.size.height, imgView.frame.size.width, imgView.frame.size.height);
    } else if(sender.tag == 9) {
        lbl.frame = CGRectMake(320-imgView.frame.size.width, 420-imgView.frame.size.height, imgView.frame.size.width, imgView.frame.size.height);
    }
} 
```

请帮我。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:41:01.323

您只需设置 x 和 y 值，还必须处理标签的宽度和高度。

# mysql - MySQL Query，如何根据同一张表中不同记录中的条件选择数据？

> ID：11238050
> 
> 赞同：0
> 
> 时间：2012-06-28T04:25:48.707
> 
> 标签：mysql

让我在这个查询中遇到一些麻烦，想知道是否有人可以提供帮助：

我试图从 modx_site_tmplvar_contentvalues 中选择所有 tvv.value[s]，其中 tvv.tmplvarid = 1 和 tvv.tmplvarid = 3 的 tvv.value 是大于或等于今天的日期。

因此，基本上每个发布的 modx_site_content.id 的父级为 '24' 将在 modx_site_tmplvar_contentvalues 表中至少有 2 个条目，其中一个 tmplvarid 为 '1'，其值将是一个逗号分隔列表，另一个 tmplvarid 为 ' 3' 这将是一个日期戳。

我需要从 modx_site_tmplvar_contentvalues 表中选择所有值，其中 tmplvarid 为“1”[逗号分隔列表]，其中第二个条目 tmplvarid 等于“3”是大于等于今天的日期，并且 modx_site_content 条件已发布 = ' 1' 和父母 = '24'

这是我的查询[不起作用]

```
SELECT sc.id, sc.pagetitle, tvv.value, tvv.tmplvarid, tvv.id
FROM modx_site_content sc
left join modx_site_tmplvar_contentvalues tvv on tvv.contentid = sc.id
where published = '1' 
and parent = '24'
and (tvv.tmplvarid = '3' or tvv.tmplvarid = '1')
and tvv.value >= curdate()
group by sc.id
order by sc.id 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T04:50:07.120

如果我的理解是正确的，您希望根据 2 个条件获取数据：

```
 - tmplvarid = '1'
 - tmplvarid = '3' and value >= curdate() 
```

如果是这样，试试这个：

```
SELECT sc.id, sc.pagetitle, tvv.value, tvv.tmplvarid, tvv.id
FROM modx_site_content sc
left join modx_site_tmplvar_contentvalues tvv on tvv.contentid = sc.id
where published = '1' 
and parent = '24'
and ((tvv.tmplvarid = '3' and tvv.value >= curdate()) or (tvv.tmplvarid = '1'))
order by sc.id 
```

如果我误解了你的问题，请纠正我。

# makefile - 可以过滤静态模式规则中的先决条件吗？

> ID：11238052
> 
> 赞同：3
> 
> 时间：2012-06-28T04:26:23.330
> 
> 标签：makefile, gnu-make

我试图将 $(all_possible_inputs) 限制为 $(relevant_inputs)。$(all_possible_inputs) 是来自其他包含的 makefile 的多个文件的串联。以下功能正确（perl 脚本知道如何忽略额外的输入），但如果单个输入发生更改，一切都会重新构建：

```
$(step2_outputs): $(data)/%.step2: $(routines)/step2.%.pl $(all_possible_inputs)
        perl $^ > $@ 
```

**更新**：过滤器必须匹配多个 *.step1 文件。如果第 1 步产生：

```
A.foo.step1
A.bar.step1
B.foo.step1
B.bar.step1
B.baz.step1 
```

那么 step2 的规则应该扩展为：

```
A.step2: routines/step2.A.pl A.foo.step1 A.bar.step1
B.step2: routines/step2.B.pl B.foo.step1 B.bar.step1 B.baz.step1 
```

从逻辑上讲，这就是我想要的工作：

```
$(step2_outputs): $(data)/%.step2: $(routines)/step2.%.pl $(filter $(data)/%.*.step1,$(all_possible_inputs))
        perl $^ > $@ 
```

% 应该与静态模式规则词干相匹配。* 应该是通配符（我知道这不起作用）。我认为问题在于过滤器重新使用了“%”，因此过滤器表达式失败。我认为它可能可以通过二次扩展来解决，但我尝试了这个，过滤器仍然返回空字符串：

**更新**：根据 Beta 的好建议，我将示例切换为使用 $$*：

```
.SECONDEXPANSION:
$(step2_outputs): $(data)/%.step2: $(routines)/step2.%.pl $$(filter $(data)/$$*.%.step1,$(all_possible_inputs))
        perl $^ > $@ 
```

这是在 linux 环境中的 gnu make 3.81 上运行的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T12:12:55.667

你的第三种方法对我有用，但你可以试试这个：而不是`%`（在第一阶段扩展）使用`$$*`

```
.SECONDEXPANSION:
$(step2_outputs): $(data)/%.step2: $(routines)/step2.%.pl $$(filter $(data)/$$*.step1,$(all_possible_inputs))
    perl $^ > $@ 
```

# android - 如何在Android中将名称列表与文件系统分开

> ID：11238054
> 
> 赞同：0
> 
> 时间：2012-06-28T04:26:30.550
> 
> 标签：android

我们可以将仅名称列表与文件系统中的数据分开吗

```
Name    Age Sex Address
dani    21  Male    US
ron     34  Male    NY
stella  23  Female  NY
steave  43  Male    US  
[End] 
```

我试图在插入文件时将上述数据中的分隔符设置为'\t'。
我试过了

```
try 
{
fin = openFileInput("FileSystemDatabase.dat");
isr = new InputStreamReader(fin);
br = new BufferedReader(new InputStreamReader(fin));
while ((line = br.readLine()) != null) 
    {
           if (line.equals("\rName\tAge\tSex\tAddress\n"))
                 break;
    }
Pattern p = Pattern.compile("\r\n\\d\t");
while ((line = br.readLine()) != null) 
    {
           if (line.equals("[End]"))
                   break; 
           Matcher m = p.matcher(line);
           if (m.matches()) 
           {
                   text =m.group(1);
                   tv=new TextView(this);
                   tv.setText(text);

           }
    }
}
catch (Exception e)
{
    e.printStackTrace();
} 
```

但是我没有得到正确的结果来获得正确的列表。有什么简单的方法可以得到它吗？请帮我..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:56:47.123

试试这个..你只会得到名字：

```
 while ((line = br.readLine()) != null && (line.equals("Name\t\tAge\tSex\tAddress\n"))) {
            Log.e("String ", "" + line);
            break;
        }

        while ((line = br.readLine()) != null) {
            if (line.equals("[End]"))
                break;
            splitString = line.split(" ");
            Log.e("Name ", "" + splitString[0]);
        } 
```

输出：

06-28 11:30:08.009: E/String(3713): dani 21 男性美国

06-28 11:30:08.009: E/姓名(3713): dani

06-28 11:30:08.009: E/String(3713): ron 34 Male NY

06-28 11:30:08.009: E/姓名(3713): ron

06-28 11:30:08.009: E/String(3713): stella 23 Female NY

06-28 11:30:08.009: E/姓名(3713): stella

06-28 11:30:08.009: E/String(3713): steave 43 男性美国

06-28 11:30:08.009：E/Name(3713)：steave

# html - 使用 Jquerymobile 将边框设置为列表中的行行

> ID：11238061
> 
> 赞同：0
> 
> 时间：2012-06-28T04:27:38.603
> 
> 标签：html, css, jquery-mobile

我正在使用`jquerymobile`，此代码显示颜色为`data-theme`（黑色）的列表，我该如何设置它以便这些行从左侧开始 2 厘米并在距离最后一行 2 厘米处结束，我的意思是所以该行不会在*所有列表上行*。

```
<ul data-role="listview" data-theme="a">
            <li>
                <p><strong>text</strong></p>
                <p class="ui-li-aside"> <strong>text2</strong></p>
            </li> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T04:49:18.893

您可以为此使用 CSS :after 伪属性。像这样写：

```
li:after{
 content:'';
 display:block;
 border-bottom:1px solid red;
 margin:0 2cm;
} 
```

# android - 我们可以在Android中拆分一个具有其分隔符之一的字符串吗

> ID：11238076
> 
> 赞同：1
> 
> 时间：2012-06-28T04:29:24.407
> 
> 标签：android, stringtokenizer

我有一个像`1264$LP@$JOHN TAYLOR VS NJ Traffic$LP@$0$LP@$`. 我想将此字符串拆分`$LP@$`为分隔符，但这包含`L`（在 TAYLOR 中）所以它应该返回

```
1264
JOHN TAYLOR VS NJ Traffic
0 
```

它给了喜欢

```
1264
JOHN TAY
OR VS NJ Traffic
0 
```

有人可以帮助我吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T04:41:23.900

$ 符号是正则表达式中的特殊字符。您需要使用“\”对其进行转义。

```
String input = "1264$LP@$JOHN TAYLOR VS NJ Traffic$LP@$0$LP@$";
String []pieces = input.split("\\$LP\\@\\$");

for(int i=0;i < pieces.length;i++)
  System.out.println(pieces[i]); 
```

输出为 1264 JOHN TAYLOR VS NJ Traffic 0

# iphone - AVCapture 不适用于视网膜屏幕

> ID：11238080
> 
> 赞同：3
> 
> 时间：2012-06-28T04:30:00.663
> 
> 标签：iphone, avfoundation, avcapturesession, retina-display

我正在尝试在我的应用程序中使用 AVCapture 来捕获图像并将其发布到服务器，但是我对这个框架有疑问：

对于普通的 iPhone 屏幕，这个框架工作得很好，但对于视网膜屏幕，AVCamera 就不能很好地工作：iPhone 的视频放大到高于相机的目标，所以我的相机离我的物体太近了想拍。

我对此进行了研究，发现视网膜设备的默认相机也有这个问题。图像相机和摄像机具有不同的缩放比例，AVCamera 可能使用摄像机，因此目标高于图像相机。但是我想用带有 AVCapture 的图像相机拍照，我该怎么做？

# c# - 视觉样式神奇地停止工作

> ID：11238081
> 
> 赞同：-1
> 
> 时间：2012-06-28T04:30:14.200
> 
> 标签：c#, visual-styles

有谁知道什么会导致视觉样式停止工作？我不确定它什么时候停止工作，所以很难回到过去……我检查了 Program.cs 并有 EnableVisualStyles()

是的，我也检查了平面样式...

我还看到，在寻找答案时，如果你在 VS 之外运行 exe，它应该有样式......它不起作用。

我创建了一个新项目并添加了我所有的参考和“使用”，视觉样式仍然有效，所以我认为它没有任何这些东西......

有谁知道这可能是什么原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T20:18:29.303

啊哈！我的启动对象更改为表单，而不是 EnableVisualStyles() 所在的 project.Program。

# java - printstream 无法按我的意愿打印

> ID：11238082
> 
> 赞同：0
> 
> 时间：2012-06-28T04:30:18.403
> 
> 标签：java

我在 localhost 的端口（例如 11111）打开一个服务器套接字，我还包括用于流数据的 printstream，我希望像这样像预期的那样输出整洁

```
PrintStream ps=new PrintStream(socket.getOutputStream(),false);
ps.println("<h1>Hello, it works!</h1>"); 
```

我期待看到输出为**你好，它有效！** 但它变成了这样`<h1>Hello, it works!</h1>`

**更新** 我没有使用 serlet 或 jsp，这只是一个网络服务器，我想在用户访问后显示欢迎消息`http://localhost:111111`

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:09:11.450

如果您尝试创建一个简单的 Web 服务器，那么您需要返回一个至少包含状态代码和内容类型的有效 HTTP 响应：

```
PrintStream ps=new PrintStream(sock.getOutputStream(), false);
ps.println("HTTP/1.1 200 OK");
ps.println("Content-Type: text/html\n");
ps.println("<h1>Hello, it works!</h1>"); 
```

[您可以在此处](http://www.w3.org/Protocols/rfc2616/rfc2616-sec6.html)找到有关 HTTP 响应外观的更多详细信息

# javascript - 将 Rails 对象传递给 Javascript

> ID：11238084
> 
> 赞同：4
> 
> 时间：2012-06-28T04:30:28.400
> 
> 标签：javascript, ruby-on-rails

我已经使用 Rails 有一段时间了。我想出了一些东西，但我正在为此苦苦挣扎。我有一系列博客文章，仅以标题呈现。在控制器中，对象看起来很简单：

```
@articles 
```

在我的主页上，我通过部分渲染它并只显示标题。

```
<%= render 'shared/article_view', :collection => @articles %> 
```

这给了我主页上的文章列表。当我单击标题时，我想以单独的`div`. 我有一个表格。但是，我不确定如何将参数传递给被调用的 javascript。我假设我可以将它传递`id`给我的`view_article.js.erb`文件并可以从那里调用

```
@article = Article.find_by_id(id) 
```

接着

```
<p><%= @article.text %></p> 
```

但是，我不知道如何将任何类型的参数传递给这个文件。它甚至可能不起作用，我这样做可能是完全错误的。就像我说的，还在学习。无论如何，感谢您的帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T05:18:19.130

我的语法可能有点偏离，但我会这样做：

**HTML**

```
 <div data-id="<%= @article.id %>" class="article"><%= @article.title %></div> 
```

**JS**

这可能有助于解释您的 js 将如何工作： http: [//guides.rubyonrails.org/asset_pipeline.html](http://guides.rubyonrails.org/asset_pipeline.html)。我通常做的是为特定视图创建一个包含我的所有绑定（和其他方法）的对象。然后在视图的底部某处，我将在文档就绪块中创建对象的实例并绑定 DOM。您的所有 js 都将通过清单文件 (application.js) 添加到布局中的任何位置。

*应用程序/资产/javascripts/users.js*

```
// Wraps your binding in a document ready function
// Runs as soon as the DOM is loaded
$(function() {
  $('.article').on('click', function() {
    var id = $(this).attr('data-id');
    $.get('articles/' + id, function(data) {
      // Handle the result
      $('.article-window').html(data);
    });
  });
}); 
```

*应用程序/资产/javascripts/application.js*

```
 // This directive will include all your js files in the javascripts folder
  //= jquery
  //= require_tree . 
```

*app/views/layouts/application.html.erb （或任何你的布局）*

```
 // This adds all your js to the page
  <%= javascript_include_tag "application" %> 
```

**导轨控制器**

```
class ArticlesController < ApplicationController
  respond_to :html, :json
  def show
    @article = Article.find(params[:id]
    respond_with do |format|
      format.json { render :json => @article }
    end
  end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T09:05:09.630

```
class ArticleController

def show
  @article = Article.find(params[:id]
  respond_to do |format|
    format.json {render :json => @article.text } #now when u try to get host/articles.json/[id of article] you will get json with article object
  end
end 
```

在article.js.erb （在我的示例中为咖啡）中，您可以使用[http://js2coffee.org/article.js.coffee](http://js2coffee.org/)将咖啡转换为 js

```
$('document').ready ->
  $('.article').live 'click', ->
    $.ajax
      url: 'articles/' + $(this).attr('id') #getting article#show with id of article
      complete: (data) ->
        article = JSON.parse(data.responseText)
        $('p').empty()
        $('p').append(article.text) 
```

如果您有错误，请通过电子邮件将我发送到 gmail.com 的 antiqe

# tree - 使用 slickgrid 树时排序数据

> ID：11238087
> 
> 赞同：6
> 
> 时间：2012-06-28T04:31:01.347
> 
> 标签：tree, slickgrid

slickgrid wiki 上用于生成树的示例生成的数据按照树输出父母和孩子所需的确切顺序进行排序。请参阅： http: [//mleibman.github.com/SlickGrid/examples/example5-collapsing.html](http://mleibman.github.com/SlickGrid/examples/example5-collapsing.html) - 例如，您可以看到，如果父项是任务 1，则子项是任务 2 和任务 3，等等。

如果节点没有可以轻松用于对节点进行排序以便子节点立即跟随父节点的属性，我们如何告诉光滑网格在输出树时如何对节点进行排序？

此外，光滑树能否支持排序，即它如何处理节点顺序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-26T16:02:13.530

1.  在将数据添加到网格之前，您必须对其进行排序。没有内置函数可以为您理解和排序数据（据我所知）。如果您使用[二叉搜索树](http://en.wikipedia.org/wiki/Binary_search_tree)，我认为您可以只**按左叶**排序。对于其他树结构，您可能需要遍历数据或编写递归 SQL 查询来对其进行排序。
2.  由于需要对数据进行排序，因此没有一种简单的方法来支持树的排序。基本排序将破坏您的结构化数据。但是，如果您在数据**sortOrder**上有一个属性，您应该能够对数据进行排序。如果您将所有级别 1 节点设置为*sortOrder = 1*，将级别 2 节点设置为*sortOrder = 2*等等，首先按 sortorder 排序，然后按*升序*或降序排序。检查[多列排序](http://mleibman.github.io/SlickGrid/examples/example-multi-column-sort.html)以很好地掌握如何做到这一点。

    ```
    grid.onSort.subscribe(function (e, args) {
      var cols = args.sortCols;

      data.sort(function (dataRow1, dataRow2) {
          //first sort by your parameter, then combine it with example sort:
          var sortOrderResult = (dataRow1["sortOrder"] == dataRow2["sortOrder"] ? 0 
           : (dataRow1["sortOrder"] > dataRow2["sortOrder"] ? 1 : -1));

          if(sortOrderResult != 0) 
              return sortOrderResult;
          else {
              var field = cols[i].sortCol.field;
              var sign = cols[i].sortAsc ? 1 : -1;
              var value1 = dataRow1[field], value2 = dataRow2[field];
              var result = (value1 == value2 ? 0 : (value1 > value2 ? 1 : -1)) * sign;
              if (result != 0) {
                  return result;
              }
          }
      }
    }); 
    ```

**如果您要尝试对树进行列排序，需要考虑一些事项：**

如果您查看**示例 5**，您会看到*过滤器*和*格式化程序*都已实现，因此需要对数据进行排序。

过滤器：

```
//part of the filter.
var parent = dataViewData[item.parent];

while (parent) {
    if (parent._collapsed) {
        parent._collapsed = false;
    }
    parent = dataViewData[parent.parent];
} 
```

这是格式化程序的一部分：

```
//part of the formatter for showing collapse/open nodes
if (dataViewData[idx + 1] && dataViewData[idx + 1].indent > dataViewData[idx].indent) {
    if (dataContext._collapsed) {
        return spacer + " <span class='toggle expand'></span>&nbsp;" + value;
    } else {
    //.......
    }
} 
```

我重写了这些以使用实际**id**而不是检查*dataView*中数据的顺序。这要求您也遍历所有数据以查看当前节点是否有任何子节点。您还需要替换 dataViewData[ *idx* ] 调用：

```
//instead of dataViewData[item.parent];
var parent = dataView.getItemById(item.parent); 
```

即使节点没有排序，这也会使树工作，但是当扩展一个节点时，孩子们可能会在另一个节点之后结束，他们不驻留。

如果您需要实现**标题过滤器搜索**，我几天前[在这里](https://stackoverflow.com/questions/16841214/slickgrid-treeview-search/28094393#28094393)回答了另一个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-27T15:16:42.910

我有同样的问题，具有 3 级层次结构。我花了很多时间试图让 Binke 的解决方案发挥作用，但它只是导致较低层次结构的元素组合在一起，而第一和第二层次的元素排序工作但有问题。最终我决定最好只使用服务器端排序，所以我的 on-sort 方法实际上只是将所选列设置为排序依据并刷新网格：

```
grid.onSort.subscribe(function(e, args) {
    sortColumn = args.sortCol.field;
    refreshCasesList();
}); 
```

我推荐同样的。

# android - 从 Activity A 调用方法到 Activity B 时出错

> ID：11238089
> 
> 赞同：1
> 
> 时间：2012-06-28T04:31:10.003
> 
> 标签：android, sms

当我收到一条短信（在两个模拟器上测试）时，我想增加进度条的进度，但我收到了一个错误 - 意外地，强制关闭。

这是我在活动 A 中的代码：

```
progressBar = (ProgressBar)findViewById(R.id.progresslevel);
  new Thread(new Runnable() {
    public void run() {
      // TODO Auto-generated method stub
      while (progressStatus < 50000) {
        mHandler.post(new Runnable() {
          public void run() {
            // TODO Auto-generated method stub
            progressBar.setProgress(progressStatus);
          }
        });
      }
  }).start(); 
```

Activity A中的增加方法：

```
public static void increaseValue(Boolean isSMS) {
  if (isSMS == true) {
    progressStatus += 5000;
  } else {
    progressStatus += 7000;
  }
} 
```

我的活动短信接收器：

```
public class SMSReceive extends BroadcastReceiver {
  @Override
    public void onReceive(Context context, Intent intent) {
      // TODO Auto-generated method stub
      FloCareActivity.increaseValue(true);
    }
} 
```

如何解决？

来自日志猫的错误：

```
 06-28 11:24:33.733: W/dalvikvm(915): threadid=3: thread exiting with uncaught exception (group=0x4001aa28)
06-28 11:24:33.733: E/AndroidRuntime(915): Uncaught handler: thread main exiting due to uncaught exception
06-28 11:24:33.763: E/AndroidRuntime(915): java.lang.RuntimeException: Unable to instantiate receiver nth.flocare.demo.SMSReceiver: java.lang.ClassNotFoundException: nth.flocare.demo.SMSReceiver in loader dalvik.system.PathClassLoader@43757c18
06-28 11:24:33.763: E/AndroidRuntime(915):  at android.app.ActivityThread.handleReceiver(ActivityThread.java:2520)
06-28 11:24:33.763: E/AndroidRuntime(915):  at android.app.ActivityThread.access$3000(ActivityThread.java:116)
06-28 11:24:33.763: E/AndroidRuntime(915):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1843)
06-28 11:24:33.763: E/AndroidRuntime(915):  at android.os.Handler.dispatchMessage(Handler.java:99)
06-28 11:24:33.763: E/AndroidRuntime(915):  at android.os.Looper.loop(Looper.java:123)
06-28 11:24:33.763: E/AndroidRuntime(915):  at android.app.ActivityThread.main(ActivityThread.java:4203)
06-28 11:24:33.763: E/AndroidRuntime(915):  at java.lang.reflect.Method.invokeNative(Native Method)
06-28 11:24:33.763: E/AndroidRuntime(915):  at java.lang.reflect.Method.invoke(Method.java:521)
06-28 11:24:33.763: E/AndroidRuntime(915):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)
06-28 11:24:33.763: E/AndroidRuntime(915):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:549)
06-28 11:24:33.763: E/AndroidRuntime(915):  at dalvik.system.NativeStart.main(Native Method)
06-28 11:24:33.763: E/AndroidRuntime(915): Caused by: java.lang.ClassNotFoundException: nth.flocare.demo.SMSReceiver in loader dalvik.system.PathClassLoader@43757c18
06-28 11:24:33.763: E/AndroidRuntime(915):  at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:243)
06-28 11:24:33.763: E/AndroidRuntime(915):  at java.lang.ClassLoader.loadClass(ClassLoader.java:573)
06-28 11:24:33.763: E/AndroidRuntime(915):  at java.lang.ClassLoader.loadClass(ClassLoader.java:532)
06-28 11:24:33.763: E/AndroidRuntime(915):  at android.app.ActivityThread.handleReceiver(ActivityThread.java:2513)
06-28 11:24:33.763: E/AndroidRuntime(915):  ... 10 more
06-28 11:24:33.813: I/dalvikvm(915): threadid=7: reacting to signal 3
06-28 11:24:33.895: I/dalvikvm(915): Wrote stack trace to '/data/anr/traces.txt'
06-28 11:29:33.833: I/Process(915): Sending signal. PID: 915 SIG: 9 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T04:55:33.303

这意味着你的清单告诉 android 你有一个名为 的类`nth.flocare.demo.SMSReceiver`，而 Android 找不到它。

**您所做的错误是**

您有代码中的类名`SMSReceive`，Android 正在尝试查找`nth.flocare.demo.SMSReceiver`因此将您的类重命名为`SMSReceiver`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T04:51:11.923

`Thread`您的代码在您创建的一个紧密循环中尽可能快地将 new `Runnable`s 发布到事件循环中。`Handler`您没有发布足够的代码或堆栈跟踪来让我们查看这是否是唯一的问题，但它肯定是需要修复的问题。仅在进度值更改时发布消息。当然，不需要单独的线程来执行此操作。这是一个非常快速的操作。额外的线程应该只用于防止 UI 线程被长操作延迟。

# linux - Octave Ctrl-C 杀死编辑窗口

> ID：11238090
> 
> 赞同：1
> 
> 时间：2012-06-28T04:31:09.757
> 
> 标签：linux, matlab, octave, interrupt

我正在使用 Ubuntu 12.04 和 Octave：

```
$ octave
octave:1> _ 
```

我将编辑器设置为 gedit：

```
octave:1> edit editor "gedit %s" 
```

我编辑一个函数：

```
octave:2> edit someFunction 
```

gedit 按预期打开 someFunction.m 并在 gedit 仍然打开文件时提示返回：

```
octave:3> _ 
```

我运行其他一些长期运行的功能：

```
octave:3> runAllTests 
```

在 runAllTests 执行时，我按 CTRL-C 中断它。

观察到的行为是 runAllTests 被中断并且 gedit 被杀死。

预期的行为是 runAllTests 被中断并且 gedit 没有被杀死。

有谁知道在这种情况下如何阻止 CTRL-C 杀死 gedit ？或者，是否有另一种方法可以在不杀死 gedit 的情况下中断 runAllTests？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:31:40.440

那个设定：

```
edit editor "gedit %s &" 
```

导致 octave 将编辑器置于“后台”，因此 CTRL-C 不会影响它并具有预期的行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T16:11:36.307

尝试：

```
edit mode async 
```

它指定了编辑命令的异步执行模式

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T15:33:31.110

问题是 CTRL+C 也是一个复制命令。IT 可能需要在 Octave GUI [Xoctave](http://www.xoctave.com "八度音阶")中进行定制。[他们声称可以进行定制。](http://xoctave.com/blog/how-can-i-interrupt-xoctave-when-it-gets-really-really-busy/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-08-07T12:17:27.230

不幸的是，在使用命令行 (octave-cli) 时，使用 '&' 将分叉进程置于后台是不够的。

[GNU Octave 开发网页](https://savannah.gnu.org/bugs/?45654#)上有一个关于此问题的错误。

当然，这不仅仅是编辑器的问题，任何新的分叉进程都会受到影响。例如

```
octave> system("$TERM&") 
```

在新窗口中创建一个终端，该终端将被后续的`<ctrl-c>`.

我提出了一个基于 shell 的解决方法。这包括添加额外的“背景分叉”层，这将保护最终终端（或文本编辑器或其他）免受发送到八度音阶的信号的影响。简而言之，我启动了一个终端，该终端在后台启动了另一个终端，我从中杀死了第一个终端（这样它就不会打扰我们）。

创建一个可执行文件：

```
term-kill.sh
-----------------------------
#!/bin/sh
$TERM&
sleep 0.01
kill $1
----------------------------- 
```

（请注意，`sleep`在后者被杀死之前，第二个终端没有时间与第一个终端分离的命令）。然后，命令

```
octave> system("$TERM -e term-kill.sh $$&") 
```

创建一个不会被杀死的终端。

要打开文本编辑器，只需考虑可执行文件

```
term-edit-kill.sh
------------------------
#!/bin/sh
$TERM -e $EDITOR $1&
sleep 0.01
kill $2
------------------------ 
```

并通过改变八度`edit`命令

```
octave> EDITOR('$TERM -e term-edit-kill.sh %s $$') 
```

注意：我假设您的系统知道如何查找`term-kill.sh`and `term-edit-kill.sh`，并且变量`$TERM`and`$EDITOR`存在并且适合您的需要。终端仿真器必须支持该`-e`选项。

# ios5 - IOS - 垂直对齐导航栏中的后退按钮

> ID：11238091
> 
> 赞同：3
> 
> 时间：2012-06-28T04:31:19.167
> 
> 标签：ios5, uinavigationbar

我是iOS编程的新手。我有一个高度为 70 像素的自定义导航栏，我想要那个后退按钮，并且标题垂直对齐到中间。

我已经完成了导航栏标题。但我不知道如何将后退按钮垂直对齐到中间。

谢谢。

![导航栏](../Images/74e5facf2ba4694e380a84fbe7a3d5a4.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T15:34:26.900

在 iOS 5 中，您可以使用以下魔法咒语自定义所有导航栏的后退按钮的位置：

```
[[UIBarButtonItem appearanceWhenContainedIn:[UINavigationBar class], nil] setBackButtonBackgroundVerticalPositionAdjustment:-10 forBarMetrics:UIBarMetricsDefault];
[[UIBarButtonItem appearanceWhenContainedIn:[UINavigationBar class], nil] setBackButtonBackgroundVerticalPositionAdjustment:-10 forBarMetrics:UIBarMetricsLandscapePhone]; 
```

这会将后退按钮向上移动 10 个像素。

放置此代码的好地方是您的应用程序委托的 application:didFinishLaunchingWithOptions: 方法。

或者，如果您只想自定义一个按钮：

```
[myBackButton setBackButtonBackgroundVerticalPositionAdjustment:-10 forBarMetrics:UIBarMetricsDefault];
[myBackButton setBackButtonBackgroundVerticalPositionAdjustment:-10 forBarMetrics:UIBarMetricsLandscapePhone]; 
```

更多信息：http: [//developer.apple.com/library/ios/#documentation/uikit/reference/UIBarButtonItem_Class/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIBarButtonItem_Class/Reference/Reference.html)

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2012-06-28T04:57:38.930

将后栏按钮的**center.y**设置为 imageview 的**height/2**。

# command - 显示目录列表

> ID：11238092
> 
> 赞同：0
> 
> 时间：2012-06-28T04:31:25.610
> 
> 标签：command, cygwin, sh, processbuilder, dir

在 Eclipse 中尝试以下程序。

```
List<String> command = new ArrayList<String>();
String fs = System.getProperty("file.separator");
command.add("C:\\cygwin" + fs + "bin" + fs + "sh");
command.add("-c");
command.add("dir");
ProcessBuilder builder = new ProcessBuilder(command);
final Process process = builder.start(); 
```

但输出是；..错误.. /usr/bin/sh: dir: command not found

有人可以告诉我这段代码有什么问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T22:06:34.257

您正在`C:\cygwin\bin\sh`从非 Cygwin 程序调用 Cygwin Bourne shell。

没关系，但是`$PATH`如果您改为登录 Cygwin，Cygwin 进程就不同了。这就是为什么`sh`找不到`dir`命令的原因。

尝试改变这个：

```
command.add("dir"); 
```

对此：

```
command.add("/bin/dir"); 
```

请注意，“/bin/dir”是`dir`命令的 Cygwin 样式路径，这是可以`sh`识别的。

另一种方法是`$PATH`在`sh`过程中设置，例如通过调用它：

```
 C:\cygwin\bin\sh -c "PATH=/usr/bin dir" 
```

（我会留给您将其转换为可用于 Processbuilder 的表单。）

# windows-phone-7 - 有没有办法加密 c# 源代码？

> ID：11238102
> 
> 赞同：1
> 
> 时间：2012-06-28T04:33:12.920
> 
> 标签：windows-phone-7, obfuscation

我刚刚将我的一个应用程序从 iOS 迁移到 WP7。我发现反编译C#文件的源代码很容易。有没有加密 C# 源代码的方法或工具？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T04:37:50.317

如果你想保护你的来源，你可以看看这个

[http://www.preemptive.com/products/dotfuscator/compare-editions](http://www.preemptive.com/products/dotfuscator/compare-editions)

[http://msdn.microsoft.com/en-us/library/ms227255%28VS.80%29.aspx](http://msdn.microsoft.com/en-us/library/ms227255%28VS.80%29.aspx)

# xcode - UIAlertView 取消按钮返回到第一个视图

> ID：11238107
> 
> 赞同：0
> 
> 时间：2012-06-28T04:33:31.847
> 
> 标签：xcode

我正在使用带有情节提要的 Xcode 4.2。

我的故事板有导航控制器和根视图，根视图上有一个按钮。我将按钮设置为推送到第二个视图控制器。单击按钮时，会出现一个带有确定和取消按钮的弹出窗口。如果用户单击确定，它将转到第二个视图。但是如何使取消按钮返回根视图？

这是我检查单击哪个按钮的代码。

```
-(void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex{
  if (buttonIndex==0) // cancel button{
    [super viewWillAppear:YES]; // to go back to root view but not working
 }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T04:41:14.277

你可以用这个。也许可以提供帮助。

```
-(void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex{
  if (buttonIndex==0) // cancel button{
        [self dismissModalViewControllerAnimated:YES];
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T04:48:09.430

在您的代码中，只需关闭警报视图，当

```
(buttonIndex==1) 
```

# rss - 如何在 Visual C# 中读取 RSS 提要的特定行

> ID：11238111
> 
> 赞同：0
> 
> 时间：2012-06-28T04:33:56.587
> 
> 标签：rss, visual-c#-express-2010, rss-reader

我想阅读 RSS 提要的特定行，以使用 Visual C# 在标签中显示信息。下面给出的是 Rss 提要。

```
<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"><channel>
<title>Weather Underground</title>
    <link>http://www.wunderground.com/</link>
    <category>weather</category>
<item>
    <title>Current Conditions : 28C, Mostly Cloudy - 9:10 AM IST Jun. 28</title>
    <link>http://www.wunderground.com/global/stations/43466.html</link>
    <description><![CDATA[Temperature: 28&deg;C | Humidity: 79% | Pressure: 1011hPa            (Steady) | Conditions: Mostly Cloudy | Wind Direction: SW | Wind Speed: 15km/h<img src="http://server.as5000.com/AS5000/adserver/image?ID=WUND-00071&C=0" width="0" height="0"  border="0"/>]]>
    </description>
    <pubDate>Thu, 28 Jun 2012 09:10:00 IST</pubDate>
</item>

<item>
    <title>Forecast for Wednesday Night as of Jun. 27 5:30 PM IST</title>
    <link>http://www.wunderground.com/global/stations/43466.html</link>    
    <description>
    Chance of a Thunderstorm. Low:26 &amp;deg; C.
     </description>
     <pubDate>Wed, 27 Jun 2012 12:00:00 GMT</pubDate>
     <guid isPermaLink="false">1340798400-1-night</guid>
  </item>

  <item>
      <title>Forecast for Thursday as of Jun. 27 5:30 PM IST</title>
       <link>http://www.wunderground.com/global/stations/43466.html</link>
       <description>
        Chance of a Thunderstorm. High:31 &amp;deg; C.//This is the line that I need
      </description>
      <pubDate>Wed, 27 Jun 2012 12:00:00 GMT</pubDate>
      <guid isPermaLink="false">1340884800-2-day</guid>
   </item> 
```

这个 XML 文件中有很多 Item 标签，如何引用我需要的标签并获取该描述标签中的文本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T04:54:22.463

你可以做这样的事情，将所有描述读入列表，然后从列表中获取特定描述

```
 var rss = XDocument.Load("your rss file");
    var items = (from c in rss.Descendants("item") select new{
                 Title  = (string)c.Element("description")      
                }).ToList();

// first description 

    string firstitem= items[0].Title.ToString(); 
```

# java - 面临 JPA 合并的问题。合并操作未反映在数据库中，查询执行两次

> ID：11238116
> 
> 赞同：0
> 
> 时间：2012-06-28T04:34:52.270
> 
> 标签：java, jpa, merge

我是 JPA 的新手，过去两天一直在面对这个问题。每当我尝试更新数据库中的对象时，合并查询都会执行两次，并且数据库中的数据不会更新。谁能告诉我我在哪里做错了。

这是片段：

```
Employee emp = em.find(Employee.class,empid);
if (emp != null) {
    emp.setDescription("Success");
    emp.setDob(new Timestamp(new Date().getTime()));

    etxn = em.getTransaction();
    etxn.begin();
    em.merge(emp);
    System.out.println(em.merge(emp));
    etxn.commit();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T12:46:41.343

那是因为您两次调用合并方法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T14:18:36.777

由于您使用相同的 EntityManager 和 JPA 事务，您甚至不需要调用合并。

也许启用日志记录并包含日志。还包括您上课的代码。

# jquery - 使用 jQuery 从下拉列表中选择选项时显示/隐藏特定 DIV

> ID：11238119
> 
> 赞同：0
> 
> 时间：2012-06-28T04:35:12.703
> 
> 标签：jquery

我正在尝试设置一个选择下拉列表，使用 jQuery，每个选项都将显示一个特定的 DIV。我的大部分功能都在工作，一旦选择了另一个选项，我就无法隐藏显示的 DIV。到目前为止，这是我的代码：

```
<select id="contact-location">
    <option value="">-- Select Location --</option>
    <option value="sydneyBranch">Sydney</option>
    <option value="melbourneBranch">Melbourne</option>
</select>

<div id="sydneyBranch" style="display:none">
    CONTENT
</div>

<div id="melbourneBranch" style="display:none">
    CONTENT
</div>

$(document).ready(function() {
    $('#contact-location').change(function(){
        var location = $(this).val(),
        div = $('#' + location);

        if($(this).val(location)) {
            div.show();
        } else {
            div.hide();
        }
    });
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T04:37:31.017

试试这个，

**[现场演示](http://jsfiddle.net/rajaadil/vWLsU/)**

```
 $(document).ready(function() {
    $('#contact-location').change(function(){
        var location = $(this).val(),
        div = $('#' + location);

        $('div').hide();
            div.show();

    });
});​ 
```

**编辑**

目前 javascript 会隐藏所有的 div，如果我们为参与的 div 分配一些类并替换 $('div').hide(); 我们可以防止这种情况发生。带有 $('.somecssClass').hide(); 的语句

```
<div id="sydneyBranch" class="somecssClass" style="display:none">
    CONTENT
</div>

<div id="melbourneBranch" class="somecssClass" style="display:none">
    CONTENT
</div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T04:43:24.057

如果您希望它们再次被隐藏，请向内容元素添加一个公共类

演示：http: [//jsfiddle.net/q8G2N/](http://jsfiddle.net/q8G2N/)

HTML：

```
 <div id="sydneyBranch" class="content" style="display:none"> 
```

JS：

```
$(function(){ /* shorthand $(document).ready(){*/

    $('#contact-location').change(function(){
        var location = $(this).val();
        /* don't do anything if blank option selected*/
         if( location !=''){
             $('.content').hide();
             $('#'+location).show();
         }

    });

}) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T04:49:20.810

试试这个

```
<select>
        <option data-div-id="div1">Option 1</option>
        <option data-div-id="div2">Option 2</option>
        <option data-div-id="div3">Option 3</option>
    </select>

    <div id="div1" class="container"  style="display:none">1</div>
    <div id="div2" class="container"  style="display:none">2</div>
    <div id="div3" class="container"  style="display:none">3</div>

    $(document).ready( function() { 
        $("select").change(function(){
            var divId = $(this).find(":selected").attr("data-div-id");
            $(".container").hide();
            $("#" + divId).show();
        });
    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T04:44:31.583

这就是你要找的：

```
var currentShowing = undefined;

$(document).ready(function() {
    $('#contact-location').change(function(){
        var location = $(this).val(),
        div = $('#' + location);

        div.show();
        $(currentShowing).hide();
        currentShowing = div;

        if(currentShowing === undefined)
            div = currentShowing;
    });
});​ 
```

# objective-c - ObjC自动引用计数（ARC）：弱vs分配vs unsafe_unretained代表？

> ID：11238120
> 
> 赞同：0
> 
> 时间：2012-06-28T04:35:15.853
> 
> 标签：objective-c, automatic-ref-counting, weak, unsafe-unretained

我有一堂课：

```
@interface MyClass : NSObject
@property (weak) id delegate;
@end 
```

和实施：

```
@implementation MyClass
@synthesize delegate;
@end 
```

当我为 ARC 重构代码时，它告诉我只允许在 ARC/GC 模式下合成“弱”属性。但据我所知，委托在 ARC 中可能是“弱”的，而且，如果我将其更改为分配，那么它将被转换为 unsafe_unretained。

我的问题是，这是否意味着转换（到 ARC）之前的代码不应该使用任何 ARC？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-10T21:04:03.350

听起来您可能针对的是 iOS 4.x

4.x 添加了 ARC，但不是 iOS5+ 获得的完整 ARC。iOS 4.x arc 不支持“weak”关键字，只有 unsafe_unretained。如果你想使用 weak 而不是 unsafe_retained 你将不得不放弃对 iOS 4 的支持。

"weak" 和 "unsafe_unretained" 之间的区别在于，weak 在释放时会将自身设置为 nil，而 unsafe_unretained 将指向坏（已释放）内存。

# iphone - 如何从其他地方调用按钮单击方法

> ID：11238121
> 
> 赞同：2
> 
> 时间：2012-06-28T04:35:39.443
> 
> 标签：iphone, button

我正在开发一个应用程序，我想在其中选择带有给定标签的按钮。例如标签=12。So, what I want is that when the button with tag 12 is selected the button clicked method also gets called.

我还想问一件事，如果我写

```
button.selected=YES 
```

按钮方法会自动被调用吗？如果没有，那么如何从我没有发送者（按钮属性）值的其他地方调用按钮方法？

我唯一拥有的是按钮标签。

请帮助并要求我进行任何澄清。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:29:08.013

创建一个临时 UIButton 并给出要调用的按钮标签。

例如。使用标签 12 的临时按钮调用按钮操作方法

```
UIButton *button = [[UIButton alloc] init];
button.tag = 12;
[self buttonTapped:button]; 
```

希望能帮助到你。评论任何查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T04:45:46.573

如果您手动将按钮的属性设置为**Selected**，那么对于它的点击事件，您将不得不手动调用它，当您设置按钮**Selected**时，如下所示：

```
[self buttonCick]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T05:02:50.893

iUser 已关闭。您需要手动调用已链接到按钮的方法。

```
[self buttonClick:nil] 
```

如果您从包含 buttonClick 方法的同一类的对象调用 buttonClick 方法，它将起作用。否则，您需要保留对包含 buttonClick 方法的对象（可能是控制器）的引用，并使用它而不是 self。

```
[self.controller buttonClick:nil]; 
```

# javascript - 在谷歌地图上自动居中标记

> ID：11238123
> 
> 赞同：1
> 
> 时间：2012-06-28T04:35:48.940
> 
> 标签：javascript, google-maps-api-3, zooming, google-maps-markers

我在我的网站上的谷歌地图上有一个标记。无论我们放大还是缩小，我都希望标记始终位于地图的中心。

从某种意义上说，假设标记在波士顿，地图的缩放级别使得我们可以看到整个马萨诸塞州，无论我们放大到该州的哪个部分，波士顿都应该在使用更新的缩放级别的地图，即使我们缩小也会发生同样的事情。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T04:42:45.570

来自谷歌文档

```
 google.maps.event.addListener(map, 'center_changed', function() {
// 3 seconds after the center of the map has changed, pan back to the
// marker.
window.setTimeout(function() {
  map.panTo(marker.getPosition());
}, 3000); 
```

});

您还可以使用类似这样的方法将地图集中在事件上`map.setCenter(marker.getPosition());`

# php - DOMDocument：如何追加 tag

I have the following code and it works good so far.

However, I try to attach the `<link href=".." ..="">` tag below the 

`ID：11238125`

 `赞同：2

时间：2012-06-28T04:35:51.520

标签：php, domdocument`

# objective-c - uibutton隐藏和下拉文本

> ID：11238127
> 
> 赞同：0
> 
> 时间：2012-06-28T04:36:38.847
> 
> 标签：objective-c, ios5, uibutton, hide

我有一个注册按钮，可以切换注册表单的屏幕。我希望它在点击按钮时隐藏按钮并在下方下拉文本框（而不是切换屏幕）。这可能吗？目前我在我的 .h 文件中......

```
@property (nonatomic, strong) IBOutlet UIButton *emailSignUp;
- (IBAction)hideButton:(id)sender; 
```

在.m文件中我的方法如下

```
- (IBAction)hideButton:(id)sender {
[self.emailSignUp setHidden:YES]; 
```

}

但是，每当我尝试测试时，它似乎都会崩溃。有什么建议吗？我提前感谢你们。我知道还有很长的路要走，但我觉得这是我的第一步。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:10:08.817

听起来您还没有将在 Xcode 的 Interface Builder 部分中创建的按钮连接到 emailSignUp IBOutlet。您可以通过转到 Interface Builder，选择 File's Owner，然后选择 Connection Navigator（在右侧面板中，由选项卡栏中的箭头图标指定）来执行此操作。然后，从 Outlet 拖动到按钮。

# c - 从 C 中的文本文件初始化全局变量

> ID：11238130
> 
> 赞同：0
> 
> 时间：2012-06-28T04:37:20.657
> 
> 标签：c

我在 C 中有一个初学者问题。我在读取具有初始化全局变量以在不同 C 文件中共享的值的文件时遇到问题。我真正的项目有许多变量要在多个文件中使用和更改。我读取参数的文件是：

```
#include <stdio.h>
#include <stdlib.h>
#include "parameters.h"
#include "prototypes.h"
#define MAX_LENGTH 100

int ReadParameters(void)
{
    char line[MAX_LENGTH];
    FILE *fp = fopen("parameters.in", "r");

    if (! fp) 
       return EXIT_FAILURE;

    int numread = 0;
    while (fgets(line, MAX_LENGTH, fp)) {
        numread += sscanf(line, "x = %d", &x);
        numread += sscanf(line, "y = %d", &y);
        numread += sscanf(line, "z = %d", &z);
    }
    fclose(fp);

    return numread;
} 
```

我在头文件中将变量 x、y 和 z 定义为外部变量：

```
#ifndef PARAMETERS_H
#define PARAMETERS_H

extern int x;
extern int y;
extern int z;

#endif 
```

ReadParameters.c 的原型在头文件prototype.h 中，x、y 和z 中的值在main.c 中使用：

```
#include <stdio.h>
#include <stdlib.h>
#include "parameters.h"
#include "prototypes.h"

int main()
{

   ReadParameters();
   printf("The value of x: %d\n", x);
   printf("The value of y: %d\n", y);
   printf("The value of z: %d\n", z);

   x += 15;
   y -= 5;
   z -= 20;

   printf("Now the value of x: %d\n", x);
   printf("Now the value of y: %d\n", y);
   printf("Now the value of z: %d\n", z);

   return EXIT_SUCCESS; 
```

}

当我编译时，我得到了对 x、y 和 z 的未定义引用的错误，我相信这是因为我只声明了未定义它们的变量。如果我从头文件中删除 extern ，我不会收到任何错误并且它会运行，但我读到在头文件中定义变量并不是一个好习惯。如果我制作另一个 .C 文件并在那里定义变量：

```
#include "parameters.h"  
int x, y, z; 
```

它有效，但这可以吗？我是编程新手，任何建议都将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T04:41:37.410

`extern`意味着变量在其他一些编译单元（即`.c`文件）中可用。通常`.h`，每个`.c`文件都有一个文件，可以将任何内容“公开”给其他单位。

所以对于这样的事情，我可能会有：

### 参数.c

```
int x, y, z; 
```

### 参数.h

```
#ifndef PARAMETERS_H
#define PARAMETERS_H

extern int x;
extern int y;
extern int z;

#endif 
```

### 主程序

```
#include "parameters.h"
int foo() {
    x = 4;   // setting x from parameters.c
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T04:41:44.440

`extern`告诉编译器变量的定义位于 else where（特殊情况是变量在同一编译单元中定义的位置）。但是链接器应该找到这些定义。因此，在头文件中声明它们并将`extern`头文件包含在打算使用它们的源文件中。但是不要忘记在一个源文件中定义它们。你在做什么对我来说似乎没问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:57:55.743

> 它有效，但这可以吗？

这确实被认为是不好的做法，因为它会导致[“紧密耦合”](http://en.wikipedia.org/wiki/Coupling_%28computer_programming%29)和意大利面条式代码。

首选方式是这样的：

//参数.h

```
void set_x (int x); 
```

//参数.c

```
#include "parameters.h"

static int private_x;  // static means: only visible/accessible from parameters.c

void set_x (int x)
{
  private_x = x;
} 
```

// main.c

```
#include "parameters.h"

set_x (something); 
```

# ubuntu - dpkg-shlibdeps: 错误: 没有找到依赖信息

> ID：11238134
> 
> 赞同：47
> 
> 时间：2012-06-28T04:37:55.840
> 
> 标签：ubuntu, debian, package, dpkg

我正在编译一个 deb 包，当我运行 dpkg-buildpackage 时，我得到：

```
dpkg-shlibdeps: error: no dependency information found for /usr/local/lib/libopencv_highgui.so.2.3 

    ...
    make: *** [binary-arch] Error 2 
```

发生这种情况是因为我手动安装了依赖项。我知道如果我安装依赖项（或使用 checkinstall），问题就会得到解决，而且我还是想生成包，因为我对依赖项检查不感兴趣。`--ignore-missing-info`我知道如果找不到依赖信息，我可以给 dpkg-shlibdeps 防止失败的选项 。但我不知道如何将此选项传递给 dpkg-shlibdeps，因为我正在使用 dpkg-buildpackage 并且 dpkg-buildpackage 调用 dpkg-shlibdeps ...

我已经尝试过：

```
sudo dpkg-buildpackage -rfakeroot -d -B 
```

与：

```
export DEB_DH_MAKESHLIBS_ARG=--ignore-missing-info 
```

作为根。

有任何想法吗？

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2013-09-13T18:42:09.700

利用：

```
override_dh_shlibdeps:
    dh_shlibdeps --dpkg-shlibdeps-params=--ignore-missing-info 
```

如果您的规则文件中没有 dh_shlibdeps 调用。这通常是这种情况，如果你有

```
%:
    dh $@ 
```

作为唯一的规则......在上面你必须在 dh_shlibdeps 前面使用制表符而不是空格

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-02-21T00:10:12.240

如果您希望它忽略该标志，请将 debian/rules 行从：

```
dh_shlibdeps 
```

至：

```
dh_shlibdeps --dpkg-shlibdeps-params=--ignore-missing-info 
```

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2015-08-08T02:09:51.617

另一种方式，无需修改构建脚本，只需创建一个文件。

您可以通过使用以下格式创建来指定[本地 shlib 覆盖：](https://www.debian.org/doc/debian-policy/ch-sharedlibs.html#s-sharedlibs-shlibdeps)`debian/shlibs.local``library-name soname-version dependencies`

例如，给定以下（修剪后的）`ldd /path/to/binary`输出

```
libevent-2.0.so.5 => /usr/lib/libevent-2.0.so.5 (0x00007fc9e47aa000)
libgcrypt.so.20 => /usr/lib/libgcrypt.so.20 (0x00007fc9e4161000)
libpthread.so.0 => /usr/lib/libpthread.so.0 (0x00007fc9e3b1a000) 
```

的内容`debian/shlibs.local`将是：

```
libevent-2.0 5 libevent-2.0
libgcrypt 20 libgcrypt
libpthread 0 libpthread 
```

“依赖项”列表（第三列）不需要 100% 准确 - 我只是再次使用库名称本身。

当然，在定义了这些东西的健全的 debian 系统中，这不是必需的`/var/lib/dpkg/info`（可以用作这些覆盖的灵感）。我的不是一个健全的 debian 系统。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2014-02-11T19:10:57.300

您可能还想修复错误的根源，而不是仅仅忽略错误，这通常是丢失或不正确`package.shlibs`或`package.symbols`包含触发错误的共享库的包中的文件。

[1] 记录了如何`dpkg-shlibdeps`使用`package.shlibs`resp。`package.symbols`, 文件, [2] 文件`package.shlibs`和`package.symbols`文件的格式。

*   [1] [https://manpages.debian.org/jessie/dpkg-dev/dpkg-shlibdeps.1.en.html](https://manpages.debian.org/jessie/dpkg-dev/dpkg-shlibdeps.1.en.html)
*   [2] [https://www.debian.org/doc/debian-policy/ch-sharedlibs.html](https://www.debian.org/doc/debian-policy/ch-sharedlibs.html)

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-06-28T19:56:10.503

dpkg-buildpackage 使用 make 来处理 debian/rules。在这个过程中，dpkg-buildpackage 可能会调用 dpkg-shlibdeps。

因此，通过修改包构建过程的一部分的正确方法是编辑 debian/rules。如果没有看到实际的 debian/规则，很难给你更多提示。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2013-10-16T06:17:19.100

您只是拼错了您的导出。它应该是这样的：

```
export DEB_DH_SHLIBDEPS_ARGS_ALL=--dpkg-shlibdeps-params=--ignore-missing-info 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-28T15:21:14.713

最后我以粗暴的方式做到了：

我编辑了脚本/usr/bin/dpkg-shlibdeps，改变了这个：

```
my $ignore_missing_info = 0; 
```

至

```
my $ignore_missing_info = 1; 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-05-28T14:14:41.647

你可以使用这个：

```
dh_makeshlibs -a -n 
```

就在 dh_install 之后

# java - IOException：流已关闭 Hibernate MS SQL JDBC4

> ID：11238135
> 
> 赞同：2
> 
> 时间：2012-06-28T04:37:58.047
> 
> 标签：java, sql-server-2008, jdbc, stream, hibernate-mapping

获取二进制流时收到以下异常。

```
 java.io.IOException: The stream is closed.
at com.microsoft.sqlserver.jdbc.BaseInputStream.checkClosed(SimpleInputStream.java:93)
at com.microsoft.sqlserver.jdbc.PLPInputStream.read(PLPInputStream.java:237)
at au.gov.vic.doi.tp.service.binary.dao.BinaryDAOImplTest.retrieveBinary(BinaryDAOImplTest.java:102) 
```

我正在使用：Hibernate 4.1.1、MS SQL Server 2008 和最新的 MS SQL JDBC4 驱动程序。我使用以下自定义映射类型“BlobToStreamUserType”从 SQL Blob (varchar(max)) 映射到 InputStream。Hibernate 似乎没有提供将 SQL BLOB 映射到 Java InputStream 的类型，MaterializedBlobType 仅将 SQL BLOB 映射到 Java byte[]。

我正在使用“rs.getBinaryStream”返回真正的二进制流，而不是缓冲在内存中的流，原因是我们有大图像，如果多个用户同时访问会导致内存问题。

根据微软

> Microsoft 驱动程序遵循关于 getBinaryStream => 的 JDBC 规范 注意：在获取任何 >other 列的值之前，必须读取返回流中的所有数据。对 getter 方法的下一次调用会隐式关闭流。此外，当调用 InputStream.available 方法时，流 > 可能返回 0，无论是否有数据 > 可用。
> 
> 因此 getBinaryStream 旨在返回真正的字节流。我们返回一个真正的>字节流，它没有在内存中缓冲，它是一个从服务器响应中直接读取的流。在为我们的实现获取所有字节之前，您无法关闭 contentDataResultSet。

我尝试将休眠属性 'hibernate.jdbc.use_streams_for_binary' 设置为 true 和 false，但这没有区别。

这是我的代码：

显示映射到自定义用户类型的图像实体类。

```
 import java.io.InputStream;
   import java.util.Date;
   import javax.persistence.Column;
   import javax.persistence.Entity;
   import javax.persistence.GeneratedValue;
   import javax.persistence.Id;
   import javax.persistence.Table;
   import org.hibernate.annotations.DynamicInsert;
   import org.hibernate.annotations.DynamicUpdate;
   import org.hibernate.annotations.GenericGenerator;
   import org.hibernate.annotations.Type;
   import com.google.common.base.Objects;

   @Entity
   @DynamicInsert(false)
   @DynamicUpdate(false)
   @Table(name = "Binary")
   public class Binary
   {
   .........
    @Lob
    @Column(name = "image")
    @Type(type = "my.package.BlobToStreamUserType")   
    public InputStream getImageStream()
    {
        return this.imageStream;
    }
    } 
```

这是我的自定义映射类型：

```
public class BlobToStreamUserType implements UserType
{

public int[] sqlTypes()
{
    return new int[]
    { Types.BLOB };
}

public Class returnedClass()
{
    return InputStream.class;
}

public Object nullSafeGet(final ResultSet rs, final String[] names, final SessionImplementor session,
        final Object owner) throws HibernateException, SQLException
{
    return rs.getBinaryStream(names[0]);
}

public void nullSafeSet(final PreparedStatement st, final Object value, final int index,
        final SessionImplementor session) throws HibernateException, SQLException
{

    if (value != null)
    {
        if (!InputStream.class.isAssignableFrom(value.getClass()))
        {
            throw new HibernateException(value.getClass().toString() + " cannot be cast to a java.IO.InputStream");
        }
        InputStream inStream = (InputStream) value;
        st.setBinaryStream(index, inStream);
    }
    else
    {
        st.setBytes(index, null);
    }
}

public boolean equals(final Object x, final Object y) throws HibernateException
{
    return ObjectUtils.equals(x, y);
}

public int hashCode(final Object x) throws HibernateException
{
    assert (x != null);
    return x.hashCode();
}

public Object deepCopy(final Object value) throws HibernateException
{
    return value;
}

public boolean isMutable()
{
    return false;
}

public Object replace(final Object original, final Object target, final Object owner) throws HibernateException
{
    return original;
}

public Serializable disassemble(final Object value) throws HibernateException
{
    //disassemble() is only called when caching the data in the second-level cache
    // also safe for mutable objects
    throw new UnsupportedOperationException("Not supported yet.");
}

public Object assemble(final Serializable cached, final Object owner) throws HibernateException
{
    throw new UnsupportedOperationException("Not supported yet.");
} 
```

}

这是我的 DAO 来检索图像流

```
public class BinaryDAOImpl extends AbstractSpringHibernateDAO implements BinaryDAO
{

public Binary getBinary(final String amsAssetId, final String assetMaintainer, final String variant,
        final Integer sequence) throws GetException
{

    try
    {
        Query query = super.getSession().createQuery(
                "from Binary bin where bin.amsAssetId = :amsAssetId and bin.assetMaintainer = :assetMaintainer "
                        + "and bin.variant = :variant and bin.sequence = :sequence");
        query.setParameter("amsAssetId", amsAssetId);
        query.setParameter("assetMaintainer", assetMaintainer);
        query.setParameter("variant", variant);
        query.setParameter("sequence", sequence);
        return query.uniqueResult();
    } 
```

注意以下绕过休眠并直接从结果集中检索流的解决方法有效，并允许我毫无例外地读取流。但是我宁愿使用休眠映射来检索真正的二进制流。

修改后的 DAO 方法

```
public Binary getBinary(final String amsAssetId, final String assetMaintainer, final String variant,
        final Integer sequence) throws GetException
{
    try
    {
        Query query = super.getSession().createQuery(
                "from Binary bin where bin.amsAssetId = :amsAssetId and bin.assetMaintainer = :assetMaintainer "
                        + "and bin.variant = :variant and bin.sequence = :sequence");
        query.setParameter("amsAssetId", amsAssetId);
        query.setParameter("assetMaintainer", assetMaintainer);
        query.setParameter("variant", variant);
        query.setParameter("sequence", sequence);
        Binary binary = (Binary) query.uniqueResult();

        final String id = binary.getId();

        // Necessary until Hibernate supports InputStream mapping
        binary.setImageStream(getSession().doReturningWork(new ReturningWork<InputStream>()
        {
                      public InputStream execute(final Connection connection) throws SQLException
                        {
                            PreparedStatement statement = connection.prepareStatement("select image from Binary where id=?",
                                    ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);

                            statement.setString(1, id);

                            ResultSet resultSet = statement.executeQuery();

                            return (resultSet.first() ? resultSet.getBinaryStream(1) : null);
                        }
                    }));

        return binary;

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-05T12:55:26.583

您是否尝试将类型标记为 Lob？

```
@Lob
@Column(name = "image")
@Type(type = "my.package.BlobToStreamUserType")   
Blob blob;

public Blob getBlob(){
   return blob;
} 
```

以及何时需要使用流？

```
 final InputStream is;
    try {
        is = blob.getBinaryStream();
                    //do some work
            } 
```

知道在定义自己的类型之前可以简单地取回 Blob 会很有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-08-06T10:20:59.130

对于所有遇到这种情况的人：

**将您的 JDBC 驱动程序更新到至少 7.0 或更高版本。**

这是一个 *icrosoft JDBC 驱动程序问题，已在其 JDBC 驱动程序的6.5.0（预览版）或[7.0.0](https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc)（最终版）版本中[修复。](https://github.com/Microsoft/mssql-jdbc/pull/595)最初的问题是[在此处](https://github.com/microsoft/mssql-jdbc/issues/567)、[此处](https://github.com/microsoft/mssql-jdbc/issues/611)和[此处](https://github.com/microsoft/mssql-jdbc/issues/633)报告的。（对于任何感兴趣的人。）有一个很好的[支持矩阵](https://docs.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server-support-matrix?view=sql-server-ver15)，您可以在其中查看最适合您的版本。（因为这有时是受支持的 Java 版本、JDBC 驱动程序版本和 JDBC API 版本的问题）

# javascript - 在树视图中显示 JavaScript 对象

> ID：11238140
> 
> 赞同：3
> 
> 时间：2012-06-28T04:38:21.690
> 
> 标签：javascript, treeview

是否有任何树视图组件支持显示任意 JavaScript 对象，例如：

```
{
   foo: 'bar'
   zee: [1, 2, 3]
} 
```

这导致以下视图：

```
/----foo 
  |   |
  |   |-- 'bar'
  |
  |--zee
      |
      |--
        |--1
        |--2
        |--3 
```

注意上面的ascii树只是为了演示树结构，不一定是最终结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2020-10-05T06:44:44.517

```
const Tree=(o,m=o,v='')=>{
    for(e in o){
        if(typeof o!=='object'){console.log(v+'┗╸'+o);return}
        Array.isArray(o)?!Array.isArray(o[e])?console.log(v+(o.length===1||o[e]===o[o.length-1]?'┗╸':'┣╸')+o[e]):Tree(o[e],m,v+(o.length===1||o[e]===o[o.length-1]?' '.repeat(o[e].toString.length+1):'┃'+' '.repeat(e.length))):(console.log(v+(e===Object.keys(m)[0]?'┏╸':Object.keys(o).length===1||Object.keys(o)[Object.keys(o).length-1]===e?'┗╸':'┣╸')+e),Tree(typeof o[e]!=='object'?String(o[e]):o[e],m,v+(Object.keys(o).length===1||Object.keys(o)[Object.keys(o).length-1]===e?' '.repeat(e.length+1):'┃'+' '.repeat(e.length))))
    }
}
//Usage : Tree(YourObjHere)

//Example :
  Tree({
     foo: 'bar',
     zee: [1, 2, 3]
  }) 

//Let me know if bugs
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T04:48:38.550

目前尚不清楚您的确切需求，但这可能很适合您：http: [//www.jstree.com/documentation/json_data](http://www.jstree.com/documentation/json_data)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-02-05T11:11:59.807

一个非常好的树视图组件包，可以完全按照您在以下链接中的要求创建树结构。所以访问[https://www.npmjs.com/package/treeify](https://www.npmjs.com/package/treeify)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-07-24T19:39:01.167

我找到了一个小型库，可以像你想要的那样显示 JSON。JSON 几乎是一个 Javascript 对象，因此它应该可以满足您的需要（为我工作）。

[https://github.com/lmenezes/json-tree](https://github.com/lmenezes/json-tree)

# c# - 验证 Windows 身份令牌

> ID：11238141
> 
> 赞同：14
> 
> 时间：2012-06-28T04:38:33.087
> 
> 标签：c#, token, windows-authentication, identity

我正在尝试开发一个简单的 Web 服务来使用 Windows 身份框架对桌面应用程序的用户进行身份验证，目前我正在传递`WindowsIdentity.GetCurrent().Token`通过 post 变量生成的令牌（它是加密和 ssl'd，Windows 身份验证不是一个选项我们域的布局和服务器的配置）。我很好地将令牌传回并将其转换回`IntPtr`.

我不知道如何验证令牌以确保它是由特定的 Active Directory（或任何与此相关的）生成的。我试图在`WindowsIdentity`给定令牌的情况下创建一个新实例，但这只会导致异常（消息：用于模拟的令牌无效 - 它不能被复制）。

如果有人可以提供任何帮助甚至提示，我将不胜感激，在此先感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-07T10:49:43.590

```
public bool DoesUserExist(string userName)
{
    using (var domainContext = new PrincipalContext(ContextType.Domain, "DOMAIN"))
    {
        using (var foundUser = UserPrincipal.FindByIdentity(domainContext, IdentityType.SamAccountName, userName))
        {
            return foundUser != null;
        }
    }
} 
```

实现检查用户是否存在。这来自`System.DirectoryServices.AccountManagement`命名空间和程序集。

只需传入您可以从中获取的用户名，`WindowsIdentity.GetCurrent()`如果用户在您的用户组中，这将返回真/假。（将 DOMAIN 替换为您需要的组名。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-11T21:21:37.510

好，

如果我正确理解您的问题，我知道可以通过直接 API 调用来做到这一点。advapi32.dll 中的 LogonUser 就是答案。以下片段对我有用

```
public class ActiveDirectoryHelper
{
    [DllImport("advapi32.dll", SetLastError = true)]
    private static extern bool LogonUser(
        string lpszUsername,
        string lpszDomain,
        string lpszPassword,
        int dwLogonType,
        int dwLogonProvider,
        out IntPtr phToken
        );

    [DllImport("kernel32.dll", SetLastError = true)]
    [return: MarshalAs(UnmanagedType.Bool)]
    public static extern bool CloseHandle(IntPtr hObject);

    public static bool Authenticate(string userName, string password, string domain)
    {
        IntPtr token;
        LogonUser(userName, domain, password, 2, 0, out token);

        bool isAuthenticated = token != IntPtr.Zero;

        CloseHandle(token);

        return isAuthenticated;
    }

    public static IntPtr GetAuthenticationHandle(string userName, string password, string domain)
    {
        IntPtr token;
        LogonUser(userName, domain, password, 2, 0, out token);
        return token;
    }

} 
```

# c# - C# Excel 2010 编程

> ID：11238142
> 
> 赞同：2
> 
> 时间：2012-06-28T04:38:34.653
> 
> 标签：c#, excel

我正在用 C# 编写一个程序，用于分析地震中的结构细节。我有很多数据，想把它们放在一个 excel 文件中。我的意思是我需要这样的功能：

```
public void excel(int sheet_no,int row,int column,string value) 
```

有没有办法解析文本文件并将这些数据放入 Excel 表中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T04:55:53.787

看看[ClosedXml](http://closedxml.codeplex.com/)

代码示例：

```
var workbook = new XLWorkbook();
var worksheet = workbook.Worksheets.Add("Sample Sheet");
worksheet.Cell("A1").Value = "Hello World!";
workbook.SaveAs("HelloWorld.xlsx"); 
```

但是如果你要处理大量数据，可以考虑使用像 sqlserver 这样的数据库。它提供了很多分析工具。您也可以将其作为数据源连接到 Excel。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-30T13:39:40.250

用这个 ：

```
Microsoft.Office.Interop.Excel.Application app = new Microsoft.Office.Interop.Excel.Application();
Workbooks workbooks;
_Workbook workbook;
_Workbook workbook2;
Sheets sheets;
_Worksheet worksheet;
app.Visible = false;
workbooks = app.Workbooks;
workbook = workbooks.Add(XlWBATemplate.xlWBATWorksheet);
sheets = workbook.Worksheets;
worksheet = (_Worksheet)sheets.get_Item(1);
worksheet.Cells[row, column] = value;
workbook.Saved = true;
workbook.SaveAs(output_file);
app.UserControl = false;
app.Quit(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T05:03:00.593

现在，我提供链接供您阅读[@Excel 任务](http://msdn.microsoft.com/en-US/library/syyd7czh%28v=vs.80%29) 和代码示例@ [ASP.net 中的 Excel 控件](http://www.codeproject.com/Articles/404688/Word-Excel-ActiveX-Controls-in-ASP-NET)。如果你还是一头雾水，我或许可以从我的项目或者网上找一些代码示例，不难找到。

查看链接[Workbook Open（创建）方法](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.excel.workbooks.add)以创建 Workbooks，并链接[Workbook Open 方法](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.excel.workbooks.open)以打开 Workbooks。

# facebook - 在 Facebook 身份验证对话框中隐藏“X 人使用此应用”

> ID：11238143
> 
> 赞同：3
> 
> 时间：2012-06-28T04:39:02.710
> 
> 标签：facebook, facebook-authentication

有没有办法在我们的 Facebook 身份验证页面中隐藏“X 朋友和 Y 人使用此应用程序”？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T08:15:36.220

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T12:15:18.140

不，这不是当前身份验证对话框的可配置部分。

[来自 Facebook 的开发人员支持工程团队](https://stackoverflow.com/a/11870586/1045444)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-31T08:01:59.697

的确，Facebook 正在一次又一次地改变。在按钮中，将 show_faces 设置为 false。这对我有用，希望这对你也有用。

```
<div id="fb-root"></div>
<fb:login-button
   perms="email"
   width="width_value"
   show_faces="false"
   autologoutlink="true"
   size="medium">
   Login with Facebook
</fb:login-button> 
```

# c# - 如何使用 Nhibernate 使对象线程安全

> ID：11238145
> 
> 赞同：0
> 
> 时间：2012-06-28T04:39:05.837
> 
> 标签：c#, .net, multithreading, nhibernate, fluent-nhibernate

我有多个线程有时会使用 NHibernate 对同一对象图进行快速 SaveOrUpdate。我目前使用“每个请求的会话”，至少我认为我这样做（？）。有时我会遇到异常：

> StaleObjectStateException 行被另一个事务更新或删除（或未保存值映射不正确）：

我的程序在启动时加载完整的数据库以维护完整的运行时实体，然后只进行 SaveOrUpdate 操作，并且在极少数情况下进行 Delete 操作。这些不是典型的用户交互程序，而是在金融市场数据等远程事件上运行的机器人。

是否有一些明显的设计缺陷/不良实践可以解释陈旧状态？

存储库：

```
 public class GenericRepository<T>
    {

        public IList<T> GetAll()
        {
            using (ISession session = FnhManager.OpenSession())
            {
                var instances = session.CreateCriteria(typeof(T)).List<T>();
                return instances;
            }
        }

        public void SaveOrUpdate(IList<T> instances)
        {

            if (instances != null)
            {
                using (ISession session = FnhManager.OpenSession())
                {
                    using (ITransaction transaction = session.BeginTransaction())
                    {
                        try
                        {
                            foreach (var i in instances)
                            {
                                session.SaveOrUpdate(i);
                            }
                            transaction.Commit();

                        }
                        catch (Exception ex)
                        {
                            transaction.Rollback();     
                            Trace.TraceError("GenericRepository.SaveOrUpdate IList<" + typeof(T).ToString() + ">" , ex.ToString());
                            throw;
                        }
                    }
                }
            }
        }
//... 
```

Fnh 管理器：

```
public class FnhManager
{

    private static Configuration cfg;
    private static ISessionFactory sessionFactory;

    private static string connectionString;

    private FnhManager(){}

    public static ISession OpenSession()
    {
        return sessionFactory.OpenSession();
    }

    /// <summary>
    /// Pass Any map class, used to locate all maps.
    /// </summary>
    /// <typeparam name="TAnyMap"></typeparam>
    /// <param name="path"></param>
    /// <param name="DbFileName"></param>
    /// <remarks></remarks>
    public static void ConfigureSessionFactory<TAnyMap>(string path, string DbFileName, DatabaseType type)
    {

        connectionString = "Data Source=" + Path.Combine(path, DbFileName);

        switch (type)
        {
            case DatabaseType.SqlCe:
                sessionFactory = CreateSessionFactorySqlCe<TAnyMap>(path,DbFileName);
                break;

            case DatabaseType.SQLite:
                sessionFactory = CreateSessionFactorySQLite<TAnyMap>();
                break;
        }

    }

    private static ISessionFactory CreateSessionFactorySQLite<TMap>()
    {

        Trace.TraceInformation("Creating SessionFactory SQLite for: " + connectionString);

        try
        {
            var fluentConfiguration = Fluently.Configure()
                .Database(SQLiteConfiguration.Standard.ConnectionString(connectionString))
                .Mappings(m => m.FluentMappings.AddFromAssemblyOf<TMap>()
                   .Conventions.Add(FluentNHibernate.Conventions.Helpers.DefaultLazy.Never()))
                   .ExposeConfiguration(c => cfg = c)
                   .Cache(c => c.UseQueryCache());

            sessionFactory = fluentConfiguration.BuildSessionFactory();

            return sessionFactory;
        }
        catch (Exception ex)
        {
            Trace.TraceError("Create SessionFactory Exception: " + ex.ToString());
            throw;
        }

    }

    private static ISessionFactory CreateSessionFactorySqlCe<TMap>( string dbPath, string dbName )
    {

        //Must add SqlCe dll x86+amd64-folders to bin folder.  !!! 

        FileInfo f = new FileInfo(Path.Combine(dbPath, dbName));
        if (!f.Exists)
        {
            var engine = new SqlCeEngine(connectionString);
            engine.CreateDatabase();
        }

        var fluentConfiguration = Fluently.Configure()
            .Database(MsSqlCeConfiguration.Standard.ConnectionString( s => s.Is(connectionString)))
            .Mappings(m => m.FluentMappings.AddFromAssemblyOf<TMap>()
                .Conventions.Add(FluentNHibernate.Conventions.Helpers.DefaultLazy.Never()))
               .ExposeConfiguration(c => cfg = c)
                .Cache(c => c.UseQueryCache());
        sessionFactory = fluentConfiguration.BuildSessionFactory();

        return sessionFactory;
    }

    public static void BuildDatabaseFromSchema()
    {
        SchemaExport e = new SchemaExport(cfg);
        e.Execute(false, true, false);
    }

    public static void ValidateDatabase()
    {

        SchemaValidator validator = new SchemaValidator(cfg);

        try
        {
            validator.Validate();
        }
        catch (HibernateException ex)
        {
            // not valid, try to update
            try
            {

                SchemaUpdate update = new SchemaUpdate(cfg);
                update.Execute(false, true);

            }
            catch (HibernateException e)
            {
                Trace.TraceError("Invalid schema. HibernateException: ", ex.ToString());
            }

        }
        catch (Exception ex)
        {
            // System.Windows.Forms.MessageBox.Show("Invalid schema: Exception: (Should not occur) " + ex.ToString);
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T11:24:48.007

对不起我的英语不好，可能会复杂的解释。但我再试一次：

```
MyDomain first = MyDomainDao.Load(1);

MyDomain second = MyDomainDao.Load(1);

first.Name = "juhe";

MyDomainDao.SaveOrUpdate(first);

// Throws an exception, because the 'second' is not 'refreshed'

MyDomainDao.SaveOrUpdate(second); 
```

如果你的代码是这样的，你就会遇到这个问题。这种加载可以在不同的线程中，现在对象在每个会话中都有两个不同的状态。

你对域对象进行版本控制怎么样？我不完全了解您的实现，但尝试刷新您的实体：

```
 Session.Refresh(myDomain, LockMode.None) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T23:32:32.540

在对象关系映射的范围内，有两种主要的并发控制方法，[乐观和悲观](http://msdn.microsoft.com/en-us/library/aa213031%28v=sql.80%29.aspx)，它们通常在应用程序数据访问层中实现。

在乐观并发控制下，您的应用程序不希望同时更新同一个数据库实体，因此允许多个线程同时访问它而无需任何锁定。但是，如果两个线程试图更新同一版本的数据库实体，其中一个将被迫回滚操作，否则一个更新将覆盖另一个的更新。

[Nhibernate 的默认方法是 Optimistic](https://stackoverflow.com/questions/118526/how-do-you-deal-with-concurrency-in-nhibernate)，如果发生冲突更新，则会抛出您观察到的**StaleObjectStateException 。**

如果您发现乐观并发控制不足以满足您的需求，您可以使用[NHibernate 的悲观锁定机制](http://nhforge.org/doc/nh/en/index.html#transactions-locking)在整个事务期间获取数据库实体上的排他锁。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T09:17:25.833

发生异常是因为您加载一个对象两次（或更多次）并将第一次保存在“状态 A”中，第二次保存在“状态 B”中。因此，NHibernate 将检查状态是否相同。具有“状态 B”的对象不再存在（因为删除），或者在您的情况下，它已更新！

# python-2.7 - for循环 c++ vs python

> ID：11238147
> 
> 赞同：0
> 
> 时间：2012-06-28T04:39:29.317
> 
> 标签：python-2.7

你能帮我把这个c++代码转换成python吗：我正在尝试对数据进行异或

**C++：**

```
void Encrypt(void data, Dword size)
{
    if(size > 0)
        for(DWORD i = size - 1; i > 0; i--)
            ((LPBYTE)data)[i] ^= ((LPBYTE)data)[i - 1];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T04:46:18.037

```
def Encrypt(data, size):
    for i in range(size-1, 0, -1):
        data[i] = data[i] ^ data[i-1] 
```

虽然这不是很pythonic。您可能想删除显式大小参数并只使用 len(data)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T04:46:54.713

要在 python 中执行此操作，您可能需要使用[`bytearray`](http://docs.python.org/c-api/bytearray.html)该类：

```
def encrypt(data):
    n = len(data)
    for i in range(n-1, 0, -1):
        data[i] ^= data[i-1]      # for this to work, data has to be mutable

f = open('somefile.bin', 'rb')
buf = bytearray(f.read())
f.close()

encrypt(buf) 
```

请注意注释，您不能传递字符串对象，因为 python 中的字符串是不可变的。`bytearray`另一方面，不是。

# javascript - 对象不支持属性或方法“焦点”

> ID：11238148
> 
> 赞同：5
> 
> 时间：2012-06-28T04:39:46.643
> 
> 标签：javascript, jquery, html, dom

我正在从这个[项目](http://www.xoxco.com/projects/code/tagsinput)`tagsinput`中使用我网站上的文本字段。

而且我正在尝试将焦点设置在文本字段上，但它不起作用。它给了我以下错误：

```
Unhandled exception at line 37, column 9 in
LOCALDOMAIN-LINK-REMOVED
0x800a01b6 - JavaScript runtime error: Object doesn't support property or method 'focus'. 
```

该`line (37)`错误所指的是：

```
searchQueryTB.focus(); 
```

我的完整代码是：

```
document.onload = FocusSearchQueryTextBox();

function FocusSearchQueryTextBox() {
    var searchQueryTB = document.getElementsByClassName("TBhandle0F7X");
    searchQueryTB.focus();
} 
```

标记：

```
<input type="text" value="" name="SearchQuery" id="tagsinput" class="TBhandle0F7X" /> 
```

所以我假设它可能与文本字段实际上不是一个正确的事实有关，`textfield`因为它是一个 jQuery UI 或`tagsinput`项目使用的东西？或者也许我错了，但到目前为止我在谷歌上没有任何运气，并且在项目的网站上似乎没有任何与此问题相关的内容。

我也在 jQuery 中尝试过这个，但正如预期的那样，它也没有工作。同样的错误。

关于什么是错的或我如何解决这个问题的任何建议？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-28T04:47:16.777

`getElementsByClassName`即使只有一个具有类的元素，也返回 DOM 元素的集合而不是元素本身`TBhandle0F7X`

你可能想要

```
var searchQueryTB = document.getElementsByClassName("TBhandle0F7X")[0]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-28T05:09:40.937

除了`getElementsByClassName`返回数组的问题（因此您需要索引）之外，还有一个问题是所有浏览器都不支持此方法，因此最好使用`id`属性和`document.getElementById()`.

但是问题仍然存在，即 IE 存在问题`focus()`，这是一种“惰性”实现，请参阅[focus 在 IE 中不起作用，](https://stackoverflow.com/questions/2600186/focus-doesnt-work-in-ie)其中包含一些解决方案。

此外，您可以考虑`autofocus`在 HTML 标记中使用该属性（即使禁用脚本，现代浏览器也支持）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T04:50:38.237

`document.getElementsByClassName`返回一个 DOM 元素的集合，因此您不能`focus`对该集合分配给的变量调用 DOM 元素方法。您可以将集合的第一个索引处的元素分配给`searchQueryTB`，但在我看来（这可能是我的一个完全错误的假设）您将只关注一个文本框，所以为什么不给它一个`id`属性并使用它`document.getElementById`呢？

如果您希望您的用户拥有现代 Web 浏览器（基本上是 Internet Explorer 8+ 或任何其他浏览器），您可以使用以下`querySelector`方法：

```
var searchQueryTB = document.querySelector('.TBhandle0F7X'); // assuming only a single text box with this class 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-28T04:52:37.423

use `getElementsByClassName`，结果是一个类似数组的，所以在你的代码`searchQueryTB`中是一个数组。

解决方案：

```
document.onload = FocusSearchQueryTextBox();

function FocusSearchQueryTextBox() {
    var searchQueryTBs = document.getElementsByClassName("TBhandle0F7X"),
        searchQueryTB = searchQueryTBs && searchQueryTBs[0];

    searchQueryTB && searchQueryTB.focus();
} 
```

# c# - 在链接按钮的单击事件中应用 Jquery 函数（在后面的代码中）

> ID：11238149
> 
> 赞同：1
> 
> 时间：2012-06-28T04:40:04.607
> 
> 标签：c#, jquery, asp.net

这是我想知道的另一个问题，即如何将任何 jQuery 函数`onclick()`应用于`Linkbutton`.

我有一个`Linkbutton`，我想在单击链接按钮时设置下面的 jQuery 函数。

```
<önclick="TINY.box.show({
    iframe:'User_News.aspx',
    boxid:'frameless',
    width:250,
    height:250,
    fixed:false,
    maskid:'bluemask',
    maskopacity:40,
    closejs:function(){closeJS()}
})"
style="color: #0000FF; font-size: medium; height: 28px;"
id="l1" 
runat="server"> 
```

这个函数给了我一个弹出消息。那么当点击链接按钮时如何得到这个弹出窗口呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T04:49:31.560

您可以将javascript函数绑定到linkbutton，它会在点击时显示弹出窗口

```
<asp:LinkButton id="lnk" runat="server" OnClientClick="ShowPopUp();"> 
```

如果你有linkbutton作为id你可以使用jquery绑定脚本

```
$('#linkbutton').click(ShowPopUp); 
```

如果您将链接按钮作为类，则可以使用 jquery 绑定脚本

```
$('.linkbutton').click(ShowPopUp);  

function ShowPopUp(){
  TINY.box.show({
  iframe:'User_News.aspx',
  boxid:'frameless',
  width:250,
  height:250,
  fixed:false,
  maskid:'bluemask',
  maskopacity:40,
  closejs:function(){closeJS()}
  });
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T04:50:02.913

包括 jquery 库 - [https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js](https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js)

考虑`Linkbutton`作为类名在脚本标签中添加这个 -

```
$(function(){
  $('.Linkbutton').on('click', function(){
    $('#frameless').show();
  });
}); 
```

# qt - 如何在 QWebView/QWebPage 中实现“后退”操作

> ID：11238151
> 
> 赞同：4
> 
> 时间：2012-06-28T04:40:19.677
> 
> 标签：qt, pyqt, qwebview, qwebpage

我有一个简单的小部件，它是 QWebView。我用 setHtml() 加载它。大多数时候这只是为了让用户可以阅读样式化的文本，但是有一些链接，如果单击一个，QWebView 会正确显示链接的页面，但现在无法返回原始页面. 我想实现一个返回键快捷方式（或者可能是一个返回按钮，但问题是一样的）。而且我不知道如何告诉我的 QWebView 或其 QWebPage 这样做。一些代码尝试了我能想到的一切：

```
class helpDisplay(QWebView):
    def __init__(self, parent=None ):
        super(helpDisplay, self).__init__(parent)
        self.backAction = self.page().action(QWebPage.Back)
        self.backAction.setEnabled(True) # initially was False
        self.backAction.setShortcut(QKeySequence.Back) # was empty, now ctl-[
        ...
        self.setHtml(...) # big string input from a file
    ...
    def keyPressEvent(self, event): # trap keys
        if event.key() == Qt.Key_B: # temporary for testing
            self.page().triggerAction(QWebPage.Back)
            self.backAction.activate(QAction.Trigger) 
```

这些都不会导致从链接向后导航。点击 ctl-[ 什么都不做。点击“b”进入 keyPressEvent 陷阱并调用 triggerAction 并激活，但没有任何可见的反应。

编辑：找到 WebPage.history()，并将以下内容添加到 key-b 陷阱：self.page().history().back() 这有点工作：如果我单击链接 start->A，`self.page().history().canGoBack()`则为 False 和`self.page().history().back()`什么也没做。但是，如果我单击另一个链接 start->A->B，*现在*它可以GoBack() 并返回页面 A。但我无法返回使用 setHtml() 加载的原始页面。

结论：WebView.setHtml() 不会在 WebPage.history 中创建条目。这可以解释为什么 backAction 似乎不起作用......

进一步编辑：在 Qt 助手中跟进我发现在 QWebFrame.setHtml() 下它承认，“注意：此方法不会影响会话或全局历史......”不幸的是，他们没有将该注释带回 QWebPage 或 QWebView . 事实上，这是有道理的：历史项目通常只是一个 URL，因此他们不想将 20K 或 50K 的 html 文本存储为历史项目，这并不奇怪。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:55:08.070

只是为了减少一些代码，QWebView 确实有一个 back() 插槽：[http](http://doc.qt.io/archives/qt-4.7/qwebview.html#back) ://doc.qt.io/archives/qt-4.7/qwebview.html#back 。

除此之外，由于您发现使用 setHtml() 显然不会创建历史条目，您可以尝试以下建议之一：

使用您的历史记录检查它是否可以返回。如果可以，就回去吧。如果它无法使用原始源再次运行 setHtml，因为您知道它是显示的第一页。

或者，将页面写入临时 html 文件并使用 load() 方法代替 file:/// url。这可能会成为历史条目。

# java - Java 类主要版本

> ID：11238155
> 
> 赞同：0
> 
> 时间：2012-06-28T04:40:46.880
> 
> 标签：java, eclipse, ant, jvm

我正在使用 sun/oracle jdk 1.6.0_32，javac 编译器似乎为目标 1.5 jvm 而不是 1.6 创建类文件。它不接受 -source 1.6 -target 1.6。用 javap 查看生成的类文件显示了一个主要版本：49 而不是我所期望的 50。Eclipse Indigo 正确创建了主版本为 50 的 1.6 兼容类文件。我在 eclipse 中使用 ant 1.8.2 时第一次注意到这一点，并且无法将源或目标属性设置为 1.6。有什么我做错了吗？

附录

我只安装了 1 个 jdk (1.6.0_32)。从命令行我得到以下信息。

```
ken@kryten:~/projects/simpleHelloWorld/bin/com/kwcons$ ls -al
total 8
drwxr-xr-x 2 ken ken 4096 2012-06-28 16:50 .
drwxr-xr-x 3 ken ken 4096 2012-06-28 16:46 ..
ken@kryten:~/projects/simpleHelloWorld/bin/com/kwcons$ javac -d /home/ken/projects/simpleHelloWorld/bin -version /home/ken/projects/simpleHelloWorld/src/com/kwcons/HelloWorld.java
javac 1.6.0_32
ken@kryten:~/projects/simpleHelloWorld/bin/com/kwcons$ ls -al
total 12
drwxr-xr-x 2 ken ken 4096 2012-06-28 16:50 .
drwxr-xr-x 3 ken ken 4096 2012-06-28 16:46 ..
-rw-r--r-- 1 ken ken  441 2012-06-28 16:50 HelloWorld.class
ken@kryten:~/projects/simpleHelloWorld/bin/com/kwcons$ /usr/lib/jvm/java-6-sun/bin/javap -verbose HelloWorld |grep major
  major version: 49
ken@kryten:~/projects/simpleHelloWorld/bin/com/kwcons$ 
```

如果我使用 -source 和 -target，这就是我得到的。

```
ken@kryten:~/projects/simpleHelloWorld/bin/com/kwcons$ javac -d /home/ken/projects/simpleHelloWorld/bin -version -source 1.6 -target 1.6 /home/ken/projects/simpleHelloWorld/src/com/kwcons/HelloWorld.java
javac 1.6.0_32
javac: invalid source release: 1.6
Usage: javac <options> <source files>
where possible options include:
  -g                         Generate all debugging info
  -g:none                    Generate no debugging info
  -g:{lines,vars,source}     Generate only some debugging info
  -nowarn                    Generate no warnings
  -verbose                   Output messages about what the compiler is doing
  -deprecation               Output source locations where deprecated APIs are used
  -classpath <path>          Specify where to find user class files
  -cp <path>                 Specify where to find user class files
  -sourcepath <path>         Specify where to find input source files
  -bootclasspath <path>      Override location of bootstrap class files
  -extdirs <dirs>            Override location of installed extensions
  -endorseddirs <dirs>       Override location of endorsed standards path
  -d <directory>             Specify where to place generated class files
  -encoding <encoding>       Specify character encoding used by source files
  -source <release>          Provide source compatibility with specified release
  -target <release>          Generate class files for specific VM version
  -version                   Version information
  -help                      Print a synopsis of standard options
  -X                         Print a synopsis of nonstandard options
  -J<flag>                   Pass <flag> directly to the runtime system

ken@kryten:~/projects/simpleHelloWorld/bin/com/kwcons$ 
```

我在 Eclipse 中从 ant 得到相同的输出。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T04:46:13.047

试试这个 1）在 ant 脚本中指定 jdk 版本

2）在“编译”目标中编写以下 javac 目标，

runtime-libs:: 它将指向您的项目 lib 目录。在属性中声明。

```
<javac
bootclasspath="${runtime-libs}/rt.jar"
target="1.6"
source="1.6"
includeJavaRuntime="false"
includeAntRuntime="false"
debug="yes"
destdir="${build-dir}">
<classpath refid="project.class.path"/>
<src path="${code}"/>
</javac> 
```

# iphone - 从 NSDATA 搜索

> ID：11238156
> 
> 赞同：0
> 
> 时间：2012-06-28T04:41:06.700
> 
> 标签：iphone, nsdate

我有以下数据

```
 <050d00e7 f0e100aa ffffffff ffffff05 0d00e7f0 e100abff ffffffff ffff050d 00e7f0e1 00acffff ffffffff ff> 
```

在 NSDATA 但我想搜索

```
 0d00e7f0 e100abff 
```

所以请帮助我我应该如何申请 [这个](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSData_Class/Reference/Reference.html) 请帮助

我是这样用的

```
NSData *left1onData=[NSData dataWithBytes:left1on length:15];
NSRange left1onRange=[data rangeOfData:left1onData options:0 range:NSMakeRange(0,[data length])]; 
```

**我使用的编辑** 条件 if(left1offRange.location==NSNotFound)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T04:42:59.213

使用以下方法：

```
- (NSRange)rangeOfData:(NSData *)dataToFind options:(NSDataSearchOptions)mask range:(NSRange)searchRange 
```

# windows-8 - 如何访问项目 inc# 中的文件夹？

> ID：11238169
> 
> 赞同：0
> 
> 时间：2012-06-28T04:42:07.193
> 
> 标签：windows-8, microsoft-metro

我需要访问项目中的文件夹。我使用了 Directory.CurrentDirectory 并且它不起作用有没有办法访问文件夹结构中的文件夹

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:46:22.127

ru 试图在项目文件夹中访问意味着本地文件夹？？？如果您尝试这样做，那么您可以在我的情况下使用这个我创建文件夹，您可以更改它

StorageFolder 文件夹 = 等待 ApplicationData.Current.LocalFolder.CreateFolderAsync("文件夹名称", CreationCollisionOption.OpenIfExists);

你也可以像这样访问具有给定uri路径的文件夹，在我的情况下，我从项目中的本地文件夹中选择图像..

私有字符串 imagePath = null; ImageSource image = new BitmapImage(new Uri(new Uri("ms-appdata:///local/Folder Name/"), this.imagePath));

# python - 我们可以使用 DataContentAdapter 搜索在 plone 表单 gen 中添加的值

> ID：11238172
> 
> 赞同：2
> 
> 时间：2012-06-28T04:42:44.777
> 
> 标签：python, plone

我在 Plone 4.1 中使用 PloneFormGen 创建了一个表单。我已经使用 DataContentAdapter 来触发数据的工作流。如何使用 Plone 的默认 LiveSearch 搜索通过此表单提交的值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T10:40:14.233

你必须索引它们。这个线程可以帮助很多：

[http://plone.293351.n2.nabble.com/Can-you-add-a-field-introduced-by-schemaextender-as-a-catalog-column-td3937077.html](http://plone.293351.n2.nabble.com/Can-you-add-a-field-introduced-by-schemaextender-as-a-catalog-column-td3937077.html)

基本上，您可以使用[http://pypi.python.org/pypi/plone.indexer](http://pypi.python.org/pypi/plone.indexer)来索引 schemaextender 生成的字段（DataContentAdapter 使用它，来自[http://pypi.python.org/pypi/uwosh.pfg。 d2c](http://pypi.python.org/pypi/uwosh.pfg.d2c) )

# c# - Visual Studio 2010 中的项目 WPF .Net 3.5 导致错误

> ID：11238180
> 
> 赞同：0
> 
> 时间：2012-06-28T04:43:27.303
> 
> 标签：c#, wpf, visual-studio-2010, .net-3.5

我在创建空白 wpf .Net 3.5 项目时遇到问题。Visual Studio 抛出错误并停止工作。这很奇怪，因为当我在 .Net 3.5 中创建其他项目（如 windows 窗体）时，它可以正常工作（我也在其他 .Net 框架中测试过，没有错误）。
这是复制的错误详细信息：

```
 System.ArgumentException
  Type universe cannot resolve assembly: System.Xaml, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089.
  at System.Reflection.Adds.TypeNameParser.DetermineAssembly(AssemblyName assemblyName, Module defaultTokenResolver, ITypeUniverse universe)
  at System.Reflection.Adds.TypeNameParser.<>c__DisplayClass2.<ParseTypeName>b__0(AssemblyName assemblyName)
  at System.TypeNameParser.ResolveAssembly(String asmName, Func`2 assemblyResolver, Boolean throwOnError, StackCrawlMark& stackMark)
  at System.TypeNameParser.ConstructType(Func`2 assemblyResolver, Func`4 typeResolver, Boolean throwOnError, Boolean ignoreCase, StackCrawlMark& stackMark)
  at System.TypeNameParser.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Boolean throwOnError, Boolean ignoreCase, StackCrawlMark& stackMark)
  at System.Type.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Boolean throwOnError)
  at System.Reflection.Adds.TypeNameParser.ParseTypeName(ITypeUniverse universe, Module module, String input, Boolean throwOnError)
  at Microsoft.MetadataReader.UnresolvedTypeName.ConvertToType(ITypeUniverse universe, Module moduleContext)
  at Microsoft.MetadataReader.MetadataExtensionsPolicy20.TryTypeForwardResolution(MetadataOnlyAssembly assembly, String fullname, Boolean ignoreCase)
  at Microsoft.MetadataReader.MetadataOnlyAssembly.GetType(String name, Boolean throwOnError, Boolean ignoreCase)
  at Microsoft.MetadataReader.MetadataOnlyAssembly.GetType(String name)
  at Microsoft.Windows.Design.Metadata.ReflectionMetadataContext.GetAssemblyType(Reflectable`1 assembly, String typeName)
  at MS.Internal.Metadata.ClrAssembly.GetType(String typeName)
  at Microsoft.Windows.Design.Metadata.ReflectionMetadataContext.LoadType(String typeName)
  at Microsoft.Windows.Design.Metadata.ReflectionMetadataContext.GetType(String fullName)
  at Microsoft.Windows.Design.Metadata.ReflectionMetadataContext.GetType(String fullName)
  at Microsoft.Windows.Design.Metadata.IdentifierExtensionImplementations.GetType(IMetadataContext scope, TypeIdentifier typeId)
  at MS.Internal.Design.Metadata.Xaml.XamlAssembly.get_XmlNamespaceCompatibilityMappings()
  at Microsoft.Windows.Design.Metadata.Xaml.XamlExtensionImplementations.GetXmlNamespaceCompatibilityMappings(IAssemblyMetadata sourceAssembly)
  at Microsoft.Windows.Design.Metadata.Xaml.XamlExtensions.GetXmlNamespaceCompatibilityMappings(IAssemblyMetadata source)
 at MS.Internal.Design.Metadata.ReflectionProjectNode.BuildSubsumption()
 at MS.Internal.Design.Metadata.ReflectionProjectNode.SubsumingNamespace(Identifier identifier)
 at MS.Internal.Design.Markup.XmlElement.BuildScope(PrefixScope parentScope, IParseContext context)
 at MS.Internal.Design.Markup.XmlElement.ConvertToXaml(XamlElement parent, PrefixScope parentScope, IParseContext context, IMarkupSourceProvider provider)
 at MS.Internal.Design.DocumentModel.DocumentTrees.Markup.XamlSourceDocument.FullParse(Boolean convertToXamlWithErrors)
 at MS.Internal.Design.DocumentModel.DocumentTrees.Markup.XamlSourceDocument.get_RootItem()
 at Microsoft.Windows.Design.DocumentModel.Trees.ModifiableDocumentTree.get_ModifiableRootItem()
 at Microsoft.Windows.Design.DocumentModel.MarkupDocumentManagerBase.get_LoadState()
 at MS.Internal.Host.PersistenceSubsystem.Load()
 at MS.Internal.Host.Designer.Load()
 at MS.Internal.Designer.VSDesigner.Load()
 at MS.Internal.Designer.VSIsolatedDesigner.VSIsolatedView.Load()
 at MS.Internal.Designer.VSIsolatedDesigner.VSIsolatedDesignerFactory.Load(IsolatedView view)
 at MS.Internal.Host.Isolation.IsolatedDesigner.BootstrapProxy.LoadDesigner(IsolatedDesignerFactory factory, IsolatedView view)
 at MS.Internal.Host.Isolation.IsolatedDesigner.BootstrapProxy.LoadDesigner(IsolatedDesignerFactory factory, IsolatedView view)
 at MS.Internal.Host.Isolation.IsolatedDesigner.Load()
 at MS.Internal.Designer.DesignerPane.LoadDesignerView() 
```

图片：

![在此处输入图像描述](../Images/3b77dbf518f080d3ba62723250303285.png) 我也尝试修复、卸载和重新安装 Visual Studio，但仍然有错误。
有什么帮助吗？
**更新**：只有当我打开 xaml 文件时才会发生错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-30T11:38:19.330

Finnaly，我已经修好了。当我尝试更新 VS SP1 时，我收到了错误

> 无法写入安装日志文件。验证 Temp 文件夹是否存在并且您可以对其进行写入。

然后我认识到*%temp%*目录无法访问。然后我转到环境变量并更改*%temp%*路径（我以前从未接触过这个变量），并且设置 VS SP1 运行良好。此外，此 WPF 错误已修复。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T04:51:58.410

出于某种原因，您的 3.5 代码中有对 system.XAML 4.0 的引用。卸载您的项目，然后对其进行编辑。找到其中包含 system.XAML 的行，然后删除它。重新加载项目后，您可以手动添加 3.5 版本。

# java - 如何在不改变输入图像大小的情况下减少 QR 解码时间？

> ID：11238181
> 
> 赞同：1
> 
> 时间：2012-06-28T04:43:32.497
> 
> 标签：java, android, qr-code, zxing

我有一个 java 应用程序，它从图像中提取 QR 标签，将其重新缩放为 768x768 并发送到解码器进行解码。我正在通过意图使用 ZXing 进行解码，但它太慢了！

解码 QR 大约需要 6-8 秒。有什么办法可以在不改变 QR 图像大小的情况下减少这个时间？

谢谢！

# entity-framework - 实体框架阻止直接 POCO 创建

> ID：11238182
> 
> 赞同：0
> 
> 时间：2012-06-28T04:43:46.107
> 
> 标签：entity-framework, poco

我面临一个需要防止直接创建实体对象的场景。

我正在使用代码优先。我想在某个地方有一个方法，我应该能够使用它来创建对象。有什么常用的做法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:09:57.677

EF 可以与具有**私有/受保护**构造函数的实体一起使用。

所以让我们来看看这个示例上下文：

```
public class MyEntity
{
    protected MyEntity() { }

    public int Id { get; set; }

    public string Name { get; set; }
}

public class MyContext : DbContext
{
    public DbSet<MyEntity> MyEntities { get; set; }
} 
```

然后创建一个实体`new MyEntity()`会导致编译错误。

但是您仍然可以使用[DbSet.Create](http://msdn.microsoft.com/en-us/library/system.data.entity.dbset.create%28v=vs.103%29.aspx) `myContext.MyEntities.Create();`通过 EF 创建实体，并且所有其他操作`MyEntity`都将按预期工作，例如查询和更新等。

当然你也可以有一个静态工厂方法`MyEntity`来管理对象的创建

```
public class MyEntity
{

    //...

    public static MyEntity MyCreate()
    {
        return new MyEntity();
    }
} 
```

# youtube-api - 如何在 ASP.NET4.0 应用程序中获取 Youtube API 中的类别名称

> ID：11238183
> 
> 赞同：0
> 
> 时间：2012-06-28T04:44:04.313
> 
> 标签：youtube-api, asp.net-4.0

我已经在 asp.net 4.0 应用程序中实现了 YouTube API。我可以访问除类别之外的所有其他参数。

```
YouTubeRequestSettings settings = new YouTubeRequestSettings(ApplicationName,developerKey,myUserName,myPassword);
YouTubeRequest request = new YouTubeRequest(settings);
Uri videoEntryUrl = new Uri("http://gdata.youtube.com/feeds/api/videos/" + YouTubeID + "");
Video objVideo = request.Retrieve<Video>(videoEntryUrl);
var desc= objVideo.Description;
var title= objVideo.Title;
var category= ? ; 
```

我怎样才能获得类别？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-30T05:56:21.703

好的，就是这样。

我在路上找到了解决方案。

```
var catValue = objVideo.Tags.ToList<MediaCategory>().FirstOrDefault<MediaCategory>().Value 
```

# java - 字符串函数如何计算字符串行中的分隔符

> ID：11238184
> 
> 赞同：0
> 
> 时间：2012-06-28T04:44:17.223
> 
> 标签：java, string

我有一个字符串行，如下所示：

A:B:C:D:E:F:G:H:I:J:K:L:M

这意味着分隔符 (:) 计数为 12 。这条线是有效的。

现在假设您有以下行：

A:B:C:D:E:F:G:H:::::

该行也是有效的，因为它包含 12 个分隔符。其中存在 8 个值，4 个值为空白。

现在以下行应该是无效的：

A:B:C:D:E:F: -- 无效 - 因为它只包含 6 个值，但预期是 12 个。

这个怎么做 .. ？我尝试了以下代码，但没有得到所需的输出：

```
String strLine = "A:B:C:D:E:F:G:H:::::" ;
int delimiterCount = 12 ; 

String[] ValuesArray = strLine.split(":");
 if(ValuesArray.length != delimiterCounter){
 System.out.println(Invalid);
 }else {
 System.out.println("ValidLine");
 } 
```

我得到的输出是无效的，因为它应该是有效的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T04:51:08.690

使用以下方法计算特定事件的发生`String`

```
public static int countOccurance(String inputString, String key) {
    int index = 0;
    int fromIndex = 0;
    int result = 0;

    if (inputString == null || key == null) {
        return 0;
    }

    while ((index = inputString.indexOf(key, fromIndex)) != -1) {
        result++;
        fromIndex = index + key.length();
    }
    return result;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-28T04:56:11.807

如果您想使用`split`，这确实不是一个坏方法（尽管它可能适用于这种特殊情况），您需要将 -1 作为第二个参数传递给它，`split`否则它会删除空字符串。

请参阅[http://ideone.com/gaUw5](http://ideone.com/gaUw5)。

很高兴知道这一点`split`。有些语言需要-1，有些不需要。

编码

```
class Main {
    public static void main(String[] args) {
        String line = "A:B:C:D:E:F:G:H:::::" ;
        int delimiterCount = 12 ; 

        String[] values = line.split(":", -1);
        if (values.length != delimiterCount + 1) {
            System.out.println("Invalid Line");
        } else {
            System.out.println("Valid Line");
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T04:52:46.380

没有理由在这里使用正则表达式。如果检查输入有效性的唯一标准是 12 分隔符`:`，则只需计算它们。

```
String strLine = "A:B:C:D:E:F:G:H:::::";
int EXPECTED_DELIMETERS = 12;
int delimiterCount = 0;
for (int idx = 0; idx < strLine.length(); idx++) {
    if (strLine.charAt(idx) == ':') {
        delimiterCount++;
    }
}

if (EXPECTED_DELIMETERS == delimiterCount) {
    System.out.println("ValidLine");
} else {
    System.out.println("Invalid");
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T04:48:20.613

它应该是

```
String strLine = "A:B:C:D:E:F:G:H: : : : : " ;
int delimiterCount = 12 ; 

String[] ValuesArray = strLine.split(":");
 if((ValuesArray.length - 1) != delimiterCounter){
 System.out.println(Invalid);
 }else {
 System.out.println("ValidLine");
 } 
```

因为数组的值不是分隔符

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-06-03T15:07:57.083

简洁的 Java 8 解决方案：

```
private static boolean isValid(String content, char delimiter, int count) {
    return count == content.chars().filter(c -> c == delimiter).count();
} 
```

# java - 从共享文件夹执行java

> ID：11238189
> 
> 赞同：0
> 
> 时间：2012-06-28T04:44:45.607
> 
> 标签：java

我在必须执行的共享文件夹中有一个 java 文件。我尝试使用以下执行

```
set JAVA_HOME=\\[servername]\[sharedfolder]\j2sdk\jdk1.5.0_04
set CLASSPATH= "the directory with the classes"
%JAVA_HOME%/bin/javaw -cp "%CLASSPATH%" [name of the class with the main method] 
```

但是当我给 javac 时，它说 javac 不是可识别的命令或参数。有没有其他方法可以在共享文件夹中执行 java 文件？

提前谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T04:50:10.657

假设您正在运行 Windows，您可以将远程服务器和文件夹映射到某个驱动器并使用它：

网络使用 x: \SomeServer\SomeShare

设置 JAVA_HOME=x:\JDK_PATH_GOES_HERE

设置 CLASSPATH=....

%JAVA_HOME%\bin\java ....

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T04:52:54.690

鉴于 Tom 给出了 UNC 样式路径，并使用了 Microsoft Windows 环境变量扩展，这里有一个适用于 Windows 的示例。

您可以将共享映射到驱动器号，然后将`JAVA_HOME`变量设置为该驱动器号。

例如：

```
net use j: \\[servername]\[sharedfolder]
set JAVA_HOME=J:\j2sdk\jdk1.5.0_04
set CLASSPATH="the directory with the classes"
%JAVA_HOME%/bin/javaw -cp "%CLASSPATH%" [name of the class with the main method] 
```

# jquery - jquery卸载/绑定可靠的跨浏览器解决方案

> ID：11238190
> 
> 赞同：2
> 
> 时间：2012-06-28T04:45:16.490
> 
> 标签：jquery, bind

我有以下代码替代方案，但都不令人满意。我正在使用 jQuery 1.7.2

第一个在 Firefox 中是完美的，但在 IE9 中它发布但没有完成写入数据库的操作。正如其他人所建议的那样，我试图将其设为 ASYNC 错误，但奇怪的是，这似乎没有任何区别。它可能也不适用于其他浏览器。

第二个确实完成，但会弹出一个确认关闭页面对话框。我已经看到有关如何阻止这种情况的建议，但我无法达到相同的结果。

谁能给我一个替代方案？或者给我正确的 ASYNC 错误代码，它适用于第一个 IE9？或者告诉我如何正确防止确认关闭？

```
// Sends the post but does not complete the post in IE9
jQuery(window).unload(function() {
jQuery.post(
    MyAjax.ajaxurl, etc

// works in IE 9 but throws up a confirm dialog box
jQuery(window).bind("beforeunload", function() { ...
jQuery.post(
    MyAjax.ajaxurl, etc 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:43:16.837

只是不要在每次触发 jQuery(window).scroll 时发布。仅在用户停止滚动时发布。像这样：

```
function sendQuery() {
    console.log('scrolled');
}

var scrollTimeout = null;
$(window).bind('scroll', function() {
    if (window.scrollTimeout) {
        clearTimeout(window.scrollTimeout);
    }
    window.scrollTimeout = setTimeout(sendQuery, 200);
}) 
```

还有一个活生生的例子 - [http://jsfiddle.net/AJnk4/](http://jsfiddle.net/AJnk4/)

# ruby-on-rails - 如何将 API 数据放入模型中？

> ID：11238197
> 
> 赞同：0
> 
> 时间：2012-06-28T04:45:59.040
> 
> 标签：ruby-on-rails, api, hash, models

目前我正在使用 Last.fm api 在我的控制器中返回音乐会数据（返回哈希），并在视图中循环通过此哈希以返回我想要的数据。我希望这个音乐会数据变得更加动态，并将所有内容放入模型中。我该怎么做呢？我应该在控制器中还是在模型中这样做？

这是我的代码示例

```
# app/controllers/events_controller.rb
class EventsController < ApplicationController
  def index
    @events = @lastfm.geo.get_events("Chicago",0,5)
    respond_with @events
  end
end

# app/views/events/index.html.erb
<% @events.each do |event| %>
  Headliner: <%= event["artists"]["headliner"] %>
<% end %> 
```

在这个例子中，我想要一个带有标题作为参数的事件模型，并将所有 5 个事件放入这个模型中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:19:45.197

我相信有一个模型是个好主意。我可以看到有几个优点

1 - 您可以像其他对象一样以 OO 方式访问数据

2 - 如果您有一些业务逻辑（例如：计算），您可以在模型本身中执行它而不会弄乱您的视图

3 - 干净干燥

示例模型类将是（这不是一个工作模型，只是为了给你一个想法）：

```
class Event
  attr_accessor :headliner

  def self.event_list(limit = 5)
    lastfm.geo.get_events("Chicago",0,limit) 
  end

end 
```

因此，您可以将视图清理为

```
<% Event.each do |event| %>
   Headliner: event.headliner
<% end %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T23:54:09.670

如果没有更多关于 last.fm API 的知识，很难彻底回答这个问题。作为一般规则，您希望将大部分复杂的逻辑和关系数据保留在模型中。

例如，您已经知道您需要一个`Event`模型，但看起来您也可能需要一个`Artist`模型。你可能会得到这样的结果：

```
# app/models/artist.rb
class Artist
  attr_accessor :name

  def initialize(name)
    self.name = name
  end
end

# app/models/event.rb
class Event
  attr_accessor :artists

  def initialize(attributes)
    @attributes = attributes

    self.artists = attributes['artists'].map do |artist_name|
      Artist.new(artist_name)
    end
  end

  def headliner
    @headliner ||= self.artists.detect do |artist|
      @attributes['headliner'] == artist.name
    end
  end
end

# app/controllers/events_controller.rb
class EventsController < ApplicationController
  def index
    @events = @lastfm.geo.get_events('Chicago', 0, 5).map do |event_attributes|
      Event.new(event_attributes)
    end

    respond_with @events
  end
end 
```

您可能还想查看[`ActiveModel`](http://api.rubyonrails.org/classes/ActiveModel.html)，它对不支持数据库且无法从`ActiveRecord::Base`.

# asp.net - RouteCollection 查询

> ID：11238199
> 
> 赞同：0
> 
> 时间：2012-06-28T04:46:05.297
> 
> 标签：asp.net

我正在尝试在应用程序 global.asax 上定义 MapPageRoute，但我的问题是我无法使用查询字符串将特定 URL 路由到物理文件。

例如，我想将[http://mysite.com/Apple](http://mysite.com/Apple)重定向到[http://mysite.com/product.aspx?id=95](http://mysite.com/product.aspx?id=95)。到目前为止，我设法实现的是，如果用户要求 ./Apple，他将被重定向到 ./product.aspx 但我无法传递查询字符串。

期待您的评论。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T04:55:04.967

试试这个：

```
if (Page.RouteData.Values["Apple"] != null)
{
    int appleID = Convert.ToInt32(Page.RouteData.Values["Apple"]);
    Response.Redirect("~/product.aspx?id=" + appleID.ToString(), true); 
} 
```

# android - 转轮安卓教程？

> ID：11238205
> 
> 赞同：7
> 
> 时间：2012-06-28T04:46:43.887
> 
> 标签：android

我在哪里可以找到关于纺车的教程（不知道这是否正确的术语）android？这个喜欢我正在寻找的东西：

![在此处输入图像描述](../Images/d21141c09a40d80ed96331ceb3a45f89.png)

但我总是在搜索结果中提出这个：

![在此处输入图像描述](../Images/c17f585aed28c777f10a12b0484a4967.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T05:06:45.497

我相信它被称为旋转，这里有两个例子：

1.  [http://mobile.tutsplus.com/tutorials/android/android-sdk-creating-a-rotating-dialer/](http://mobile.tutsplus.com/tutorials/android/android-sdk-creating-a-rotating-dialer/)
2.  [http://www.devdaily.com/java/jwarehouse/android/core/java/com/android/internal/widget/RotarySelector.java.shtml](http://www.devdaily.com/java/jwarehouse/android/core/java/com/android/internal/widget/RotarySelector.java.shtml)

希望这些有帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-19T08:36:35.727

使用[这个](https://github.com/ai212983/android-spinnerwheel)Spinner Wheel 库。它基于[Wheel Widget](https://code.google.com/p/android-wheel/)，但这更像是 Holo 风格。

# java - 中文字符集的自动字体选择

> ID：11238206
> 
> 赞同：0
> 
> 时间：2012-06-28T04:46:44.320
> 
> 标签：java, fonts, jasper-reports, itext

我看到 iText 支持基于单个字形的自动字体选择。这通过搜索包含在`FontSelector`特定字形中的字体库来工作，如果该字符不存在于列表上方定义的字体库中，则从不同的字体库中选择一个字符。

我已经能够在 Jasper 中配置字体扩展以支持亚洲和拉丁字符集，方法是选择一个大型 unicode 字体库，例如具有超级全面字符集的“Arial Unicode MS”。然而，像这样好看的图书馆需要昂贵的许可！！考虑到所涉及的工作量也就不足为奇了……任何支持中文和拉丁文的免费字体库通常都是为了迎合有效的中文字符渲染而创建的，结果拉丁字符的美感受到影响；）

所以最后一个问题：有没有一种机制可以在 jasper 中利用 iText 的自动字体选择功能？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-28T20:13:04.287

据我了解；您想使用用户自己的字体，而不是在您的应用程序中提供“Arial Unicode MS”。

```
public class FontList extends ArrayList<String>
{
    public FontList()
    {
        for (final String fontName : GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames())
        {
            final Font f = new Font(fontName, Font.PLAIN, 10);
            //first character in CJK area
            if (f.canDisplay('\u4E00'))
            {
                add(fontName);
            }
        }
    }
} 
```

一个新的 FontList 将为您提供一个包含中文、日文和韩文所有可用字体的列表。

您将需要更多逻辑来“自动”选择“最佳”字体；您可以在其名称中查找“Arial”，以赋予其更高的优先级。“Ume”和“WenQuanYi”，最后是“Dialog”

也许最好让用户选择使用哪一个。如果没有可用的字体，请提供有关如何安装字体的建议，[例如](http://www.clearchinese.com/resources/fonts.htm).

# objective-c - 生成 NSNumber 序列的最有效方法是什么？

> ID：11238211
> 
> 赞同：0
> 
> 时间：2012-06-28T04:47:12.527
> 
> 标签：objective-c, nsarray, nsnumber

例如，这是一个相当简单的python内置函数： `x = range(0,100)` 如何使用objective-c方法完成相同的壮举？肯定有比 NSMutableArray 和 for 循环更好的东西：

```
NSMutableArray *x = [NSMutableArray arrayWithCapacity:100];
for(int n=0; n<100; n++) {
    [x addObject:[NSNumber numberWithInt:n]];
} 
```

是的，我知道这样做很可能不是我*真正*想做的（例如：`xrange`在 python 中），但请幽默我的好奇心。=)

**澄清：**我想要一个包含一系列 NSNumber 的 NSArray，以便可以进一步处理该数组，例如通过改组元素或按外部指标排序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:44:19.410

如果你想要这样一个数组，你可能想做你自己特定的 NSArray 子类。

一个非常基本的实现示例如下所示：

```
@interface MyRangeArray : NSArray
{
@private
    NSRange myRange;
}

+ (id)arrayWithRange:(NSRange)aRange;
- (id)initWithRange:(NSRange)aRange;

@end

@implementation MyRangeArray

+ (id)arrayWithRange:(NSRange)aRange
{
    return [[[self alloc] initWithRange:aRange] autorelease];
}

- (id)initWithRange:(NSRange)aRange
{
    self = [super init];
    if (self) {
        // TODO: verify aRange limits here
        myRange = aRange;
    }
    return self;
}

- (NSUInteger)count
{
    return myRange.length;
}

- (id)objectAtIndex:(NSUInteger)index
{
    // TODO: add range check here
    return [NSNumber numberWithInteger:(range.location + index)];
}

@end 
```

之后，您可以覆盖其他一些 NSArray 方法以使您的类更高效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:06:00.847

```
NSRange range = NSMakeRange(0, 100); 
```

您可以通过以下方式迭代此范围：

```
NSUInteger loc;
for(loc = range.location; loc < range.length; loc++)
{ 
} 
```

# python - 如何避免不使用全局变量并传递太多参数？

> ID：11238220
> 
> 赞同：0
> 
> 时间：2012-06-28T04:48:13.663
> 
> 标签：python, global, abstraction

这里要描述一个复杂的问题：

我想要一个函数 AB()，它通过一个中间值将一个输入映射到另一个输入。更具体地说，该函数由两个函数组成，我们调用 A() 和 B()，它们都返回字典（即 A[B[input]] --> result）

这是我当前文件目录的示例：

```
packageX/

    __init__.py
    get_part_of_B_expensively.py
    something_that_will_use_convert.py
    convert.py
    packageA/

        __init__.py
        get_the_entirety_of_A_expensively.py 
```

在我的 convert.py 中，我有以下内容：

```
import get_part_of_B_expensively
from packageA import get_the_entirety_of_A_expensively
dict_A = packageA.get_the_entirety_of_A_expensively()

def get_B():

    result = {}
    result = get_part_of_B_expensively() # this is a very expensive operation
    result += get_rest_of_B_inexpensively() # shorthand for adding two dictionaries
    return result # returns a dictionary

dict_B = get_B() # hence why i call it once outside, and not inside AB()

def AB(input):
    return dictA[dictB[input]] 
```

不要认为这是正确的，因为我无法在定义 get_B() 之前初始化 dict_B，并且我希望 AB() 的唯一参数是`input`，因为我想抽象它的实现。但是，我在全局范围内引入了一些变量，主要是 dict_B 和 dictA，我不确定这是否是最好的方法。我可以将 get_B() 分离到它自己的包中，但我仍然会在全局框架中的某个地方调用它们。不知道这应该是什么方法，我想尽可能少地调用 A() 和 B()，它们调用同一个包中的文件)，但抽象函数 AB()。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T04:59:06.813

如果这就是你的模块所做的全部，我不会说保持这种状态有那么糟糕。对于仅处理特定数据的小型脚本，有时使用全局是可以的，尤其是当您将其用作只读时。（当您需要对全局变量进行变异或重新绑定时，会出现很多令人困惑的问题。）有很多值得尊敬的库具有存储各种全局参数的全局变量，例如从配置文件加载的自定义选项等。

对于更重量级的情况，如果您的任务更复杂，您可以创建一个基本上执行此操作的类：

```
class Convert(object):
    def __init__(self):
        self.A = packageA.get_the_entirety_of_A_expensively()
        self.B = getB() # or put get_B's code in here
    def AB(self, input):
        return self.A[self.B[input]]

converter = Convert()
converter.AB('blah') 
```

如果您只需要做一件事，这可能是矫枉过正，但如果您需要参数化操作（例如，如果您有多个可能需要操作的 A 和 B 字典），这是要走的路。

# android - 压缩android时显示进度条

> ID：11238223
> 
> 赞同：1
> 
> 时间：2012-06-28T04:48:30.823
> 
> 标签：android, progressdialog, compression

我在 android 中创建了一个应用程序，使用户能够压缩/解压缩文件。我需要显示`ProgressDialog`压缩/解压缩文件时的进度。我知道该怎么做`ProgressDialog`，但我不知道我将如何显示当前进度或我将在里面放什么`publishProgress(code here)`。我的问题与此类似：

[使用 Android 下载文件，并在 ProgressDialog 中显示进度](https://stackoverflow.com/questions/3028306/download-a-file-with-android-and-showing-the-progress-in-a-progressdialog)

但链接是指下载文件，但我需要的是压缩/解压缩文件。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:29:16.157

使用自定义`AsyncTask`类。又名`private class MySync extends AsyncTask {`

1.  `onPreExecute()`, 设置`ProgressDialog`, 设置你的最大值`setMax()`

2.  `doInBackGround(...)`, 压缩/解压缩, 设置当前进度`setProgress()`

3.  `onPostExecute()`, 结束 ProgressDialog (.dismiss())

我需要查看您的代码以确定量化您的进度的方法。

# c# - 可以使用滚动查看器在 minwidth 和 maxwidth 之间水平拉伸其内容吗？

> ID：11238225
> 
> 赞同：1
> 
> 时间：2012-06-28T04:48:48.587
> 
> 标签：c#, wpf, devexpress, scrollviewer, gridcontrol

我有一个包含 devexpress 的控件`GridControl`。我想进行`ScrollViewer`设置，以便当查看区域小于 的 minwidth 时`GridControl`，会出现一个水平滚动条。然后随着查看区域的大小调整，我希望滚动条在查看区域大于时消失，`MinWidth`并且`GridControl`随着窗口拉伸，直到`MaxWidth`达到`GridControl`停止增长的点。然后，这似乎是难以捉摸的部分，我希望能够再次缩小查看区域并`GridControl`与之签订合同，直到达到“MinWidth”并且滚动条重新出现。

到目前为止，我只能实现`GridControl`增长 - 当查看区域缩小时，滚动条会立即出现并且`GridControl`永远不会变小。

有任何想法吗？

编辑：这似乎是 DevExpress 的问题`GridControl`。这是一个演示`Rectangle`s、a`DataGrid`和 a行为的示例`GridControl`：

```
<UserControl xmlns:dxg="clr-namespace:DevExpress.Xpf.Grid;assembly=DevExpress.Xpf.Grid.v11.2"  x:Class="MyNamespace.ScrollViewerTest"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d">
    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Rectangle Width="500" Height="200" Fill="AliceBlue" />
            <Rectangle Grid.Row="1" MinHeight="200" MaxHeight="400" MinWidth="500" MaxWidth="1000" Fill="Bisque" />
            <DataGrid Grid.Row="2" MinWidth="500" MaxWidth="10000" MinHeight="200" MaxHeight="400">                
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Column 1" Width="Auto"/>
                    <DataGridTextColumn Header="Column 2" Width="Auto"/>
                    <DataGridTextColumn Header="Column 3" Width="Auto"/>
                    <DataGridTextColumn Header="Column 4" Width="Auto"/>
                </DataGrid.Columns>
            </DataGrid>
            <dxg:GridControl Grid.Row="3" MinWidth="500" MinHeight="200" MaxWidth="1000" MaxHeight="400"/>
        </Grid>

    </ScrollViewer>        

</UserControl> 
```

请注意如何从其他控件`GridControl`开始`MaxWidth`并且不与其他控件一起拉伸。另外，请注意垂直调整大小有效 -`GridControl`在调整窗口大小时上下调整大小（`MinHeight`如果您的显示器较小，则可能需要调整 s）。其他控件在最大和最小之间正确调整大小。第一个矩形作为基本情况具有固定的宽度和高度。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:02:51.800

这似乎对我有用（我替换了 ListBox 而不是获取 GridControl）：

```
 <ScrollViewer HorizontalAlignment="Stretch" Name="scrollViewer1" VerticalAlignment="Stretch" Margin="8" HorizontalScrollBarVisibility="Auto">
        <ListBox Name="listBox1" MinWidth="400" MaxWidth="600" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
    </ScrollViewer> 
```

# bash - bash 选项卡完成过滤掉选项

> ID：11238232
> 
> 赞同：10
> 
> 时间：2012-06-28T04:49:34.790
> 
> 标签：bash

我想让 bash 中的制表符完成更加智能。

假设我有一个包含 src 文件 .lisp 的文件夹，以及该文件 .fasl 的编译版本。我想输入 vi 文件名 [tab tab]，并且 .lisp 自动完成是唯一的选项。也就是说，我不太可能希望 vim 打开已编译的二进制文件，因此不要在自动完成选项列表中循环使用它。

有没有一种方法可以让我保留一个自动完成忽略的扩展名的平面列表，或者以某种方式为vim定制它，以便当bash命令以vi开头时自动完成只忽略特定的文件扩展名......

任何想法表示赞赏。

谢谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-28T04:52:18.707

来自`man bash`：

> ## 菲诺尔
> 
> 执行文件名完成时要忽略的以冒号分隔的后缀列表。后缀与 中的条目之一匹配的`FIGNORE`文件名将从匹配的文件名列表中排除。一个示例值是`".o:~"`（在为该变量赋值时需要引用，其中包含波浪号）。

所以，对于你的例子，这可以在你的`.bashrc`文件 中设置

```
FIGNORE=".o:~:.fasl" 
```

或者，如果您想保留任何其他站点范围的设置：

```
FIGNORE=".o:~:.fasl:$FIGNORE" 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-28T07:59:51.917

bash`complete`命令似乎是您想要的。

这是[“完整”命令视频的](http://www.linuxjournal.com/node/1008402)*Linux 日志*链接。[这里是关于使用 Bash Complete 命令](http://www.linuxjournal.com/content/more-using-bash-complete-command)的后续页面

The links explain it quite well, and here is a related SO Question/Answer: [Bash autocompletion across a symbolic link](https://stackoverflow.com/questions/10120274/bash-autocompletion-across-a-symbolic-link/10122937#10122937)

# facebook - 喜欢按钮未在外部 URL 上创建 Facebook 页面

> ID：11238236
> 
> 赞同：0
> 
> 时间：2012-06-28T04:50:02.673
> 
> 标签：facebook, button, facebook-like

自 6 月 19 日左右以来，我在我的网站中“点赞”的页面（自动生成所有元数据）不再创建相应的 Facebook 页面，人们可以在其中“建立流量”到页面、监控点赞、评论等。以前的页面确实有参考，但从那时起创建和喜欢的页面没有！

此外，这些页面未显示在 www.facebook.com/pages 的“我喜欢的页面”部分。如果我去那里更改我喜欢的页面，我只会看到那天之前的页面，以及其他网站上的更新页面，但不再是我自己网站上喜欢的页面！奇怪的是，如果我导航到页面本身，我可以将自己视为页面的“喜欢者”。

复制步骤： 1\. 转到我的网页中的一个页面：[http](http://rafaelpolit.com/inicio/index.php?sid=14&gim=240&ln=2) ://rafaelpolit.com/inicio/index.php?sid=14&gim=240&ln= 2 2\. 喜欢网页 3\. 转到您的 www.facebook .com/pages 并导航到我喜欢的页面 4\. 该页面没有显示在那里。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T16:09:49.683

尝试通过此链接访问它：

[https://www.facebook.com/pages/OGTitle/OGObjectID](https://www.facebook.com/pages/OGTitle/OGObjectID)

# xcode - UIScrollView bounds.size

> ID：11238244
> 
> 赞同：0
> 
> 时间：2012-06-28T04:50:40.593
> 
> 标签：xcode, uiscrollview, bounds

我在 iPhone xib 中使用 UIScrollView 和一个名为 myScrollView 的属性来读取滚动视图的大小。

@property (weak, nonatomic) IBOutlet UIScrollView *myScrollView;

当我尝试阅读或使用滚动视图的 bounds.size 时，它​​与我在 xib 中设置的尺寸不同，缩放为 320 x 117。但 myScrollView.bounds.size.height 返回 583。不应该吗读一样吗？我应该以其他方式设置大小吗？

日志声明：

```
NSLog(@"scrollview x y: %f,%f", myScrollView.bounds.size.width, myScrollView.bounds.size.height); 
```

输出：

```
2012-06-28 11:38:13.150 MyApp[1380:707] scrollview x y: 320.000000,583.000000 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T04:55:56.130

UIView 的边界是矩形，表示为相对于其自身坐标系 (0,0) 的位置 (x,y) 和大小 (width,height)。

UIView 的 frame 是一个矩形，表示为相对于它所在的 superview 的位置 (x,y) 和大小 (width,height)。

您正在设置框架而不是界面构建器中的边界。

# facebook - Facebook Open Graph 关注

> ID：11238253
> 
> 赞同：3
> 
> 时间：2012-06-28T04:51:25.163
> 
> 标签：facebook, facebook-graph-api

与订阅用户在 Facebook 上的帖子的功能类似，用户从今天开始就可以从特定应用程序中关注其他用户的 Open Graph 活动。例如，在电影评论网站上，用户可以关注他们最喜欢的电影评论者。

目前还没有这方面的示例，但是如果您提交新的关注操作，您将获得代码并了解它是如何进行的。这很容易：使用令牌和个人资料 ID命中（GET） [https://graph.facebook.com/me/og.follows 。](https://graph.facebook.com/me/og.follows)我没有得到的是third_party_id。

我一遍又一遍地读了这句话，但仍然无法解码：“这个标签不是必需的，没有它，关注行动将成功，尽管没有这个标签，关注者将看不到他们的新闻提要中的活动。”

如何使用third_party_id？最重要的是，从现在开始，我的订阅源上只会看到我订阅的人的操作吗？

完整信息在这里：[https ://developers.facebook.com/docs/opengraph/actions/builtin/follows/](https://developers.facebook.com/docs/opengraph/actions/builtin/follows/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T08:09:07.330

> 我没有得到的是third_party_id。

如果您发布的关注操作不是针对 Facebook 个人资料，而是针对 URL（如示例中的`profile=http://www.rottentomatoes.com/celebrity/tom_hanks/`），那么该页面必须有一个`<meta property="fb:profile_id" …&gt;`元素来告诉 Facebook 实际关注的内容。

要获取 third_party_id，您需要在 Graph API 中查询具有`/userid/?fields=third_party_id`.

（我猜测在这个地方使用 third_party_id 而不是*实际的用户 id*只是出于简单的原因，这样并不是每个查看 rottentomatoes 页面的 HTML 代码的人都能看到 FB uid Tom Hanks 实际拥有的内容。 )

如果Facebook*上*没有对应的 URL 对应的用户被关注——那么就*没有*任何可关注的内容，因为 Facebook 上不会有任何帖子可以显示在用户的提要中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:08:34.557

> 如何使用`third_party_id`？

Facebook本可以更好地解释这一点。我认为它是这样工作的：

假设 William 在您的应用中关注了 Claudette，并且您的应用成功在 facebook 上发布了关注操作。无论您是否提供 Claudette 的`third_party_id`信息，William 关注 Claudette 的故事都将在 William 的 News Feed 上发布。

但是，如果`third_party_id`提供了 Claudette's，那么 William 将开始获取有关您的应用程序发布的 Claudette 的所有操作的故事。现在，这很酷。但当然要做到这一点，Facebook 需要知道“克劳黛特是谁” `third_party_id`。

总而言之，通过不提供`third_party_id`后续操作，William 的新闻提要和可能会分享给 William 的朋友。但那是一次性的。通过提供，`third_party_id`您可以扩展病毒式传播并确保从 Claudette 到 William 的持续流动，以便 Claudette 在您的应用程序上执行操作。

# bash - 这里文档和双反斜杠

> ID：11238255
> 
> 赞同：6
> 
> 时间：2012-06-28T04:51:34.090
> 
> 标签：bash, shell

如果我在包含多个反斜杠“\\”的 shell 脚本中使用 here 文档，则 shell 会将其转换为单个反斜杠。我可以在不更改文本的情况下解决这个问题吗？

`$ cat `<<EOF`
`> Print \\hello \\world`
`> EOF`
Print \hello \world`

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-28T04:54:15.773

在此处引用文档标记的开头：

```
cat <<'EOF'
Print \\hello \\world
EOF 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:00:16.780

作为丹尼斯提到的替代命令，该命令`sed`也可以解决这个问题。

```
sed 's/\\/\\\\/g' <<EOF
Print \\hello \\world
EOF 
```

# ruby - 如何在 Ruby 中做合理的“设置差异”？

> ID：11238256
> 
> 赞同：23
> 
> 时间：2012-06-28T04:51:49.703
> 
> 标签：ruby, set-difference

演示（我期望结果`[3]`）：

```
[1,2] - [1,2,3] => []    # Hmm
[1,2,3] - [1,2] => [3]   # I see

a = [1,2].to_set   => #<Set: {1, 2}>
b = [1,2,3].to_set => #<Set: {1, 2, 3}>
a - b              => #<Set: {}>  WTF! 
```

和：

```
[1,2,9] - [1,2,3] => [9]  # Hmm. Would like [[9],[3]] 
```

无论输入的顺序如何，如何执行真正的设置差异？

附言。顺便说一句，我需要为两个 2000 元素数组执行此操作。通常，数组#1 的元素比数组#2 少，但这并不能保证。

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2012-06-28T05:01:50.663

[`-`运算符](http://www.ruby-doc.org/core-1.9.3/Array.html#method-i-2D)应用于两个数组`a`并`b`给出in的[相对补码](http://en.wikipedia.org/wiki/Complement_%28set_theory%29#Relative_complement)（在但不在的项目）。`b``a``a``b`

您正在寻找的是两组的[对称差异](http://en.wikipedia.org/wiki/Symmetric_difference)（两者之间的两个相对互补的并集）。这可以解决问题：

```
a = [1, 2, 9]
b = [1, 2, 3]
a - b | b - a          # => [3, 9] 
```

如果您对[`Set`](http://www.ruby-doc.org/stdlib-1.9.3/libdoc/set/rdoc/Set.html)对象进行操作，则可以使用重载[`^`运算符](http://www.ruby-doc.org/stdlib-1.9.3/libdoc/set/rdoc/Set.html#method-i-5E)：

```
c = Set[1, 2, 9]
d = Set[1, 2, 3]
c ^ d                  # => #<Set: {3, 9}> 
```

为了更有趣，您还可以在两个集合的并集中找到交集的[相对](http://en.wikipedia.org/wiki/Union_%28set_theory%29)[补](http://en.wikipedia.org/wiki/Intersection_%28set_theory%29)集：

```
( a | b ) - ( a & b )  # => #<Set: {3, 9}> 
```

# solr - Solr 混淆 - 如何将自定义标记器包含到 solr.war 中？

> ID：11238257
> 
> 赞同：1
> 
> 时间：2012-06-28T04:51:51.390
> 
> 标签：solr

我是 solr 的新手，我正在使用 solr 3.6、eclipse 和 tomcat 使用它。

Baiscally 我需要编写一个自定义的标记器并将其用于索引和搜索，所以我认为我需要将它包含到 solr.war、schema.xml 和 solrconfig.xml 中？在网上搜索，我没有找到任何快速教程。写一个分词器来扩展通用的 Tokenizer 类可能很简单，但是如何让它编译并包含到 solr.war 中呢？人们在网上说我可以编写标记器并将其包含在 solr 的类路径中，但是 solr 的类路径是什么......

非常感谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:41:17.780

*   用你的标记器创建一个 jar

    < lib dir="../add-everything-found-in-this-dir-to-the-classpath" />

*   在 solrconfig.xml 中添加一个指向您拥有 jar 的目录的元素
*   将标记器包含在 schema.xml 中，就像任何其他标记器一样

查看 3.6 发行版中的 example\ 目录。

编辑：lib 元素的样本不可见

# c# - 如何从 C# 中的 Uri 中提取文件名？

> ID：11238261
> 
> 赞同：10
> 
> 时间：2012-06-28T04:52:12.487
> 
> 标签：c#, uri

> **可能重复：**
> [从 C# 中的 URI 字符串获取文件名](https://stackoverflow.com/questions/1105593/get-file-name-from-uri-string-in-c-sharp)

如何从 C# 中的 Uri 中提取文件名？

例如，我有一个 Uri

```
"http://audacity.googlecode.com/files/audacity-win-2.0.exe" 
```

但是如何提取文件名

```
"audacity-win-2.0.exe" 
```

并将其保存为字符串？

谢谢，

杰瑞

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-28T04:55:18.180

怎么样

```
Path.GetFileName(string path); 
```

在你的情况下

```
Path.GetFileName(new Uri("http://audacity.googlecode.com/files/audacity-win-2.0.exe").AbsolutePath); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-28T04:56:47.997

`Path.GetFileName`可以做到...

```
 Uri u = new Uri("http://audacity.googlecode.com/files/audacity-win-2.0.exe");
        Path.GetFileName(u.AbsolutePath); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-28T04:56:35.287

例如

```
Uri uri = new Uri("http://audacity.googlecode.com/files/audacity-win-2.0.exe");
string Path.GetFileName(uri.AbsolutePath); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T04:56:32.060

假设 a`URI`总是代表物理文件是不安全的，因此从 a`URI`中提取文件名并不总是得到保证。

# android - 在 COCOS-2D-x 的 CCArray 中添加 CCArray

> ID：11238263
> 
> 赞同：0
> 
> 时间：2012-06-28T04:52:24.567
> 
> 标签：android, iphone, cocos2d-x

我是 cocos-2dx 开发的初学者。根据我的游戏玩法，我需要二维数组来存储对象，但是在 cocos-2dx 中没有数据类型可以为我提供这样的功能。所以现在我打算在另一个 CCArray 中添加 CCArray。如何从中添加、检索和填充数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:01:18.923

这应该对你有用......

```
 //  this array will hold arrays :)
cocos2d::CCMutableArray< cocos2d::CCMutableArray< cocos2d::CCObject* >* > *pseudoDoubleDimArray;

void addElements()
{
    //  create an array called, say.., aRow
    cocos2d::CCMutableArray< cocos2d::CCObject* > *aRow = cocos2d::CCMutableArray< cocos2d::CCObject* >::arrayWithObjects( NULL );

    //  add elements to the array, aRow
    for( int j=0;j<5;j++ )
    {
        //  let's say the object is a ccsprite...
        cocos2d::CCSprite* sprite1  = cocos2d::CCSprite::spriteWithFile( "yourImage.png" );
        sprite1->setTag( j+100 );
        aRow->addObject( sprite1 );
    }
    // now create the other array that will hold the array just created...you could add more rows :)
    pseudoDoubleDimArray = cocos2d::CCMutableArray< cocos2d::CCMutableArray< cocos2d::CCObject* >* >::arrayWithObjects( aRow,  NULL );
}

void accessElements( )
{
    for( int i=0;i<pseudoDoubleDimArray->count( );i++ )
    {
        printf( "\n For row: %d", i+1 );
        cocos2d::CCMutableArray< cocos2d::CCObject* > *row = ( cocos2d::CCMutableArray< cocos2d::CCObject* >* )pseudoDoubleDimArray->getObjectAtIndex( i );
        for( int j=0;j<row->count();j++ )
        {
            cocos2d::CCSprite* sprite1  = ( cocos2d::CCSprite* )row->getObjectAtIndex( j );
            printf( "\n Sprite %d tag: %d",j+1, sprite1->getTag( ) );
        }
    }
} 
```

# jquery - JQuery 使用 $.get() 时将变量附加到 URL

> ID：11238266
> 
> 赞同：0
> 
> 时间：2012-06-28T04:52:39.843
> 
> 标签：jquery, ruby-on-rails, ruby, get, sinatra

我正在构建一个应用程序，目前我有一堆链接，按下时会增加一个计数器，然后链接就会消失。

HAML 看起来像这样：

```
.button
   %a
      %img{:src => "a.jpg"}
.button
   %a
      %img{:src => "b.jpg"}
.button
   %a
      %img{:src => "c.jpg"} 
```

当我按下按钮时，Javascript 如下所示：

```
$(document).ready(function() {
   $(".button > a").click(function(event) {
      $(this).hide("slow");
      event.preventDefault();
   });
}); 
```

我想对一个链接进行 ajax 调用，该链接将调用一个方法并在图像旁边增加一个计数器（上面的 html 中未显示），而不使用 $.get() 立即显示 url。我知道如何获取 src 属性并将其存储到变量中，但是如何将变量放入 $.get() 函数的 URL 参数中？

递增计数器的 URL 是 $.get("up/a.jpg") ...但我需要将“a.jpg”部分作为变量。

编辑：我不知道如何为我发送 get 函数的单个图像获取 src 属性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:05:52.627

据我了解，您的问题有两个部分：

1.  获取 a.jpg 并将其存储在变量中。
2.  在 up/ 部分之后将其推送到 URL 中。

好吧，第 2 步很简单。假设您设法将 a.jpg 提取到一个名为“thevariable”的变量中。

您可以使用以下方法创建一个 url：

```
var url = 'up/'+thevariable;
$.get(url)...; 
```

现在取出 a.jpg 并将其存储在变量中 - 您有多种选择：

1.  使用正则表达式
2.  在 / 上对整个图像 src 调用 split 并拉出最后一部分。
3.  通过添加一个附加属性并使用 jQuery 将其拉出，将 a.jpg 部分存储在 HAML 代码的另一部分中。你可以称它为 data-url (twitter 也这样做..)

选择你的酱汁:)

# rally - 拉力赛 svnToRally 连接器 -> RallyBaseUrl 被修改为 slm 后缀，如何解决？

> ID：11238269
> 
> 赞同：0
> 
> 时间：2012-06-28T04:53:25.663
> 
> 标签：rally

尝试运行 config-rally.rb 并在错误日志文件中检查 rallybaseurl 被修改为 slm 后缀。config.xml 中没有提供 slm 后缀，那么修改该属性是什么？

任何人都可以对这个属性值的变化有所了解，因为它会导致集会工作区错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:17:36.047

能够通过修改 scm_config_reader.rb 脚本来修复

# crystal-reports - 如何避免总数的重复行

> ID：11238276
> 
> 赞同：1
> 
> 时间：2012-06-28T04:54:38.337
> 
> 标签：crystal-reports

使用水晶报表 7

报告

```
id value

01 100
02 200
01 100
04 200
01 100 
```

从上面的报告中我想避免重复的行

像这样在抑制中创建公式

```
{id} <> Previous({id}) 
```

上面的公式在隐藏重复行的水晶报表中工作，但在运行和授予总计时，它也显示重复的行总计

按 id 运行总组是这样显示的

```
id value

01 100
------
   300

02 200
-------
   200

04 200
-------
   200 
```

我不想显示重复值总计

预期产出

标识值

```
01 100
------
   100 'Avoided duplicate row for total 

02 200
-------
   200

04 200
-------
   200 
```

如何在水晶报表中做到这一点

需要水晶报表帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:22:53.307

试试这个

添加运行总计 - > 添加 id 作为字段进行汇总，然后在下面评估组更改时的部分标记，然后在休息部分使用公式检查屏幕截图

![在此处输入图像描述](../Images/7b6417047a370c8c7c8e8dd4ee4d28fe.png)

在公式编辑器中添加您的公式，即

```
{id} <> Previous({id}) 
```

你想要的结果将是

![在此处输入图像描述](../Images/d1898364541f96620f537515c464df05.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T21:51:13.737

按 ID 分组，并使您的运行总数在组更改时评估和重置。

# python - 如何从单个列表中返回 2 个单独的列表？

> ID：11238277
> 
> 赞同：1
> 
> 时间：2012-06-28T04:54:38.797
> 
> 标签：python

如果这里有这个列表：

```
[25, 8, 22, 9] 
```

如何让程序创建 2 个单独的列表并打印它们？一个应该包含所有小于 20 的数字，另一个需要包含所有大于 20 的数字。最终的打印结果应该是这样的：`[8, 9]`,`[25, 22]`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T04:58:15.033

```
>>> predicates = lambda x:x<20, lambda x:x>20
>>> print [filter(pred, [25, 8, 22, 9]) for pred in predicates]
[[8, 9], [25, 22]] 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-28T04:58:10.883

使用[列表推导](http://docs.python.org/tutorial/datastructures.html#list-comprehensions)：

```
>>> L = [25, 8, 22, 9]
>>> [x for x in L if x < 20]
[8, 9]
>>> [x for x in L if x > 20]
[25, 22] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T04:58:03.087

```
a =  [25, 8, 22, 9] 
print [x for x in a if x > 20]
print [x for x in a if x < 20] 
```

您在此处使用*列表推导*。列表理解如下所示：

```
[ f(x) for x in a if cond(x) ] 
```

这意味着：给我一个列表，其中包含for that is`f(x)`的每个元素。`x``cond(x)``True`

在我们的例子`f(x)`中是简单的`x`。并且`cond(x)`是`x > 20`或`x < 20`（另请注意，如果您的列表中有 20 个，它们将从结果中消失）。

如果是家庭作业，您可以以更底层的方式解决任务：

```
a = [25, 8, 22, 9]
list1 = []
list2 = []
for elem in a:
  if elem > 20:
     list1.append(elem)
  if elem < 20:
     list2.append(elem)
print list1
print list2 
```

在这里，您遍历列表并检查其元素。将大于 20 的元素附加到一个列表中；并且那个小于 20 - 到另一个。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-28T04:58:06.767

注意：假设您在 listTwo 中需要 20 个

```
listOne = [x for x in yourList if x < 20]
listTwo = [x for x in yourList if x >= 20]

print listOne
print listTwo 
```

尽管您应该使用[列表推导](http://docs.python.org/tutorial/datastructures.html#list-comprehensions)，但如果您从 python 开始，您可能会对 for 循环方法感兴趣

```
listOne = []
listOne = []

for x in yourList:
    if x < 20:
        listOne.append(x)
    else:
        listTwo.append(x) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-28T04:59:52.757

```
def print_split_list(raw_list, split_value):
    lower_list = [v for v in raw_list if v < split_value]
    upper_list = [v for v in raw_list if v >= split_value]
    print lower_list, upper_list

print_split_list([25, 8, 22, 9], 20)  # => [8, 9] [25, 22] 
```

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2012-06-28T05:48:59.020

```
li = [25, 8, 22, 9]
li.sort()

for i, x in enumerate(li):
    if x > 20:
        print li[:i]
        print li[i:]
        break 
```

# sql - SQL 问题，在报表生成器中使用具有多个值的参数

> ID：11238292
> 
> 赞同：2
> 
> 时间：2012-06-28T04:56:49.217
> 
> 标签：sql, parameters, report, builder

有一个与 MS SQL Server 相关的查询。

我将不得不对细节含糊不清，并更改或删除某些部分，因为我不能说信息是否保密，但我写了一个查询，搜索跨越学期的培训单元的学生报告生成器 2.0：

DS_spanning：（主数据集）

```
SET DATEFORMAT dmy

SELECT 
  FIRST_NAME AS FirstName
 ,LAST_NAME AS LastName
 ,START_DATE AS StartDate
 ,END_DATE AS EndDate
 ,UNIT_TYPE AS UnitType
 ,TP_FULLNAME AS TrainingPost
 ,SEMESTER_YEAR AS SemesterYear
FROM AA_GPR_TU

WHERE TU_START_DATE < @checkdate   //Checkdate returns the end date of the
AND TU_END_DATE > @checkdate       // selected semester  

ORDER BY TU_START_DATE 
```

PM_checkdate：（@checkdate 链接到的数据集）

```
SET DATEFORMAT dmy
SELECT
  new_semesterenddate
  ,new_semesterstartdate
  ,new_semesternumber
  ,new_semesteryear
  ,new_name
FROM
  FilteredNew_rtpsemester

WHERE new_semesteryear >= 2004

ORDER BY new_semesterenddate DESC 
```

现在，这很好，可以完成我想要的工作，但是我一次只能选择一个学期。当我尝试在@checkdate 的报告参数属性下勾选“允许多个值”框时，运行选择了多个学期的报告会给我这个错误：

> ',' 附近的语法不正确。
> 
> 数据集“DS_spanning”的查询执行失败。
> 
> 报告处理过程中发生错误。
> 
> 本地报告处理过程中发生错误。**

（“，”的问题是因为当我为报告选择多个值时，它会将它们作为 data1、data2、data3 等提供给@checkdate。）

我的参数写入方式是否有问题，或者我是否需要更改查询以容纳多个值？

我能想到的最简单的方法是在该部分中使用 IN 语句

> WHERE TU_START_DATE < @checkdate AND TU_END_DATE > @checkdate

但我不确定如何将 IN 语句与`and`操作数结合使用。

有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-19T09:56:23.490

我已经多次选择多值问题，在互联网上搜索了数小时后，我发现了这个，它很有效。

首先，将此函数调用拆分到您正在从中运行查询的数据库中。

```
USE [DatabaseName]
GO

/****** Object:  UserDefinedFunction [dbo].[split]    Script Date: 07/19/2013 10:49:08 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

        CREATE FUNCTION [dbo].[split]( 
          @delimited NVARCHAR(MAX), 
          @delimiter NVARCHAR(100) 
        ) RETURNS @t TABLE (id INT IDENTITY(1,1), val NVARCHAR(MAX)) 
        AS 
        BEGIN 
          DECLARE @xml XML 
          SET @xml = N'<t>' + REPLACE(@delimited,@delimiter,'</t><t>') + '</t>' 

          INSERT INTO @t(val) 
          SELECT  r.value('.','varchar(MAX)') as item 
          FROM  @xml.nodes('/t') as records(r) 
          RETURN 
        END 
```

然后在 WHERE 子句中使用它的方式是使用这行代码确保更改单词 column 和参数保留单词 val 因为这是函数所需要的

```
WHERE [COLUMN] IN (SELECT val FROM dbo.split(@Parameter, ',')) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T09:34:48.537

将同一数据集用于多个参数将没有任何限制。

您应该为此报告使用 2 个参数，例如`@checkdate1`和`@checkdate2`，因为这样可以更好地控制使用的内容和位置。

# visualization - 使用 d3.js 处理大量节点的流程依赖项使用哪种布局

> ID：11238293
> 
> 赞同：1
> 
> 时间：2012-06-28T04:56:49.983
> 
> 标签：visualization, data-visualization, d3.js

我是d3的新手。我有一个需求，我需要可视化流程流依赖性。这些依赖关系可能是循环的，也可能不是循环的。我有超过 5000 个进程，可以依赖于深度 40 或更多。例如：

```
Process A --> (Process B,Process E) -->Process C -- and so on can be as deep as 40 nodes.
Process B --> Process D
Process C ---> (Process D,Process F)
Process D --> (Process A, Process E)
Process F 
```

我可以将其作为树形布局来实现。类似于（http://mbostock.github.com/d3/talk/20111018/tree.html）的东西。在这种情况下，我打破了循环依赖并多次输出相同的节点。但是拥有约 5000 个节点会使图变得巨大，理解起来非常不直观，搜索特定节点更加困难。任何想法我应该在这种情况下使用什么样的树/图。我正在研究[https://github.com/mbostock/d3/wiki/Gallery](https://github.com/mbostock/d3/wiki/Gallery)中的一些示例。任何关于此的指针都将非常有用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T20:00:45.300

你可能想试试这个

[http://bost.ocks.org/mike/miserables/](http://bost.ocks.org/mike/miserables/)

它来自您提供的同一个画廊链接。这是基于邻接矩阵和设计结构矩阵的思想。

[http://en.wikipedia.org/wiki/Design_structure_matrix](http://en.wikipedia.org/wiki/Design_structure_matrix)

# c - 在 iSeries 上从 CL 调用 write() C API

> ID：11238294
> 
> 赞同：3
> 
> 时间：2012-06-28T04:56:50.500
> 
> 标签：c, ibm-midrange, control-language, ibm-ifs

我正在尝试用控制语言编写一个程序，该程序在调用使用它的 Java 实用程序之前在 IFS 中创建和填充配置文件。

我已成功调用 open() 和 close() API 来（重新）创建文件，但对于我来说，我无法通过 write() 将某些内容放入文件中。到目前为止，这一切都是一次学习经历，但是在 write() 调用上没有错误消息，我无法看到我的问题所在。

这几乎肯定是我处理变量的方式，但调试会话表明它们应该是它们应该是的。

```
/* ========================================================================= */
/* Processing for the PRCMQMSG command                                       */
/* ========================================================================= */
         PGM        PARM(&ACTION &SRCMQ &TGTMQ)                            

/* Input parameters */                                                         
         DCL        VAR(&ACTION) TYPE(*CHAR) LEN(5)                        
         DCL        VAR(&SRCMQ) TYPE(*CHAR) LEN(125)                       
         DCL        VAR(&TGTMQ) TYPE(*CHAR) LEN(125)                       
/* Parameter elements */                                                       
         DCL        VAR(&SRCHOST) TYPE(*CHAR) STG(*DEFINED) +              
                      LEN(30) DEFVAR(&SRCMQ 3)                             
         DCL        VAR(&SRCPORT) TYPE(*DEC) STG(*DEFINED) +               
                      LEN(5) DEFVAR(&SRCMQ 33)                             
         DCL        VAR(&SRCQMGR) TYPE(*CHAR) STG(*DEFINED) +              
                      LEN(30) DEFVAR(&SRCMQ 36)                            
         DCL        VAR(&SRCCHNL) TYPE(*CHAR) STG(*DEFINED) +              
                      LEN(30) DEFVAR(&SRCMQ 66)                            
         DCL        VAR(&SRCQUE) TYPE(*CHAR) STG(*DEFINED) +               
                      LEN(30) DEFVAR(&SRCMQ 96)              
         DCL        VAR(&TGTHOST) TYPE(*CHAR) STG(*DEFINED) +
                      LEN(30) DEFVAR(&TGTMQ 3)               
         DCL        VAR(&TGTPORT) TYPE(*DEC) STG(*DEFINED) + 
                      LEN(5) DEFVAR(&TGTMQ 33)               
         DCL        VAR(&TGTQMGR) TYPE(*CHAR) STG(*DEFINED) +
                      LEN(30) DEFVAR(&TGTMQ 36)              
         DCL        VAR(&TGTCHNL) TYPE(*CHAR) STG(*DEFINED) +
                      LEN(30) DEFVAR(&TGTMQ 66)              
         DCL        VAR(&TGTQUE) TYPE(*CHAR) STG(*DEFINED) + 
                      LEN(30) DEFVAR(&TGTMQ 96)              
/* IFS details */                                                
         DCL        VAR(&PATH) TYPE(*CHAR) LEN(128) +        
                      VALUE('/mqutil')                       
         DCL        VAR(&CFGFILE) TYPE(*CHAR) LEN(20)        
         DCL        VAR(&JOB) TYPE(*CHAR) LEN(6)             
/* IFS API flags */                                              
         DCL        VAR(&O_RDONLY) TYPE(*INT) VALUE(1)       
         DCL        VAR(&O_WRONLY) TYPE(*INT) VALUE(2)       
         DCL        VAR(&O_RDWR) TYPE(*INT) VALUE(4)         
         DCL        VAR(&O_CREAT) TYPE(*INT) VALUE(8)          
         DCL        VAR(&O_EXCL) TYPE(*INT) VALUE(16)          
         DCL        VAR(&O_TRUNC) TYPE(*INT) VALUE(64)         
         DCL        VAR(&O_APPEND) TYPE(*INT) VALUE(256)       
         DCL        VAR(&O_CODEPAGE) TYPE(*INT) VALUE(8388608) 
         DCL        VAR(&O_TEXTDATA) TYPE(*INT) VALUE(16777216)
         DCL        VAR(&S_IRUSR) TYPE(*INT) VALUE(256)        
         DCL        VAR(&S_IWUSR) TYPE(*INT) VALUE(128)        
         DCL        VAR(&S_IXUSR) TYPE(*INT) VALUE(64)         
         DCL        VAR(&S_IRWXU) TYPE(*INT) VALUE(448)        
         DCL        VAR(&S_IRGRP) TYPE(*INT) VALUE(32)         
         DCL        VAR(&S_IWGRP) TYPE(*INT) VALUE(16)         
         DCL        VAR(&S_IXGRP) TYPE(*INT) VALUE(8)          
         DCL        VAR(&S_IRWXG) TYPE(*INT) VALUE(56)         
         DCL        VAR(&S_IROTH) TYPE(*INT) VALUE(4)          
         DCL        VAR(&S_IWOTH) TYPE(*INT) VALUE(2)          
         DCL        VAR(&S_IXOTH) TYPE(*INT) VALUE(1)          
         DCL        VAR(&S_IRWXO) TYPE(*INT) VALUE(7)          
/* IFS API parameters */                                           
         DCL        VAR(&STROPN) TYPE(*INT) /* Open flags */   
         DCL        VAR(&STRMODE) TYPE(*INT) /* Mode flags */   
         DCL        VAR(&STRPATH) TYPE(*CHAR) LEN(149)          
         DCL        VAR(&STRCODEP) TYPE(*INT) VALUE(819)        
         DCL        VAR(&STRHAND) TYPE(*INT)                    
         DCL        VAR(&NULL) TYPE(*CHAR) LEN(1) VALUE(X'00')  
         DCL        VAR(&CRLF) TYPE(*CHAR) LEN(2) VALUE(X'0D25')
         DCL        VAR(&ERRNO_PTR) TYPE(*PTR)                  
         DCL        VAR(&ERRNO) TYPE(*INT) STG(*BASED) +        
                      BASPTR(&ERRNO_PTR)                        
         DCL        VAR(&ERRNO_CHR) TYPE(*CHAR) LEN(4)          
         DCL        VAR(&MSGID) TYPE(*CHAR) LEN(7)              
         DCL        VAR(&LINE) TYPE(*CHAR) LEN(250)             
         DCL        VAR(&LINE_PTR) TYPE(*PTR) ADDRESS(&LINE)    
         DCL        VAR(&LINELEN) TYPE(*UINT)                   
         DCL        VAR(&LINELEN_D) TYPE(*DEC) LEN(5 0)         

/* Create and open a configuration file in the IFS */               
         RTVJOBA    NBR(&JOB)                                   
         CHGVAR     VAR(&CFGFILE) VALUE('mqconf_' |< &JOB)      
         CHGVAR     VAR(&STRPATH) VALUE(&PATH |< '/' |< &CFGFILE +
                      |< '.connection' |< &NULL)                  
         CHGVAR     VAR(&STROPN) VALUE(&O_WRONLY + &O_CREAT + +   
                      &O_TRUNC + &O_CODEPAGE + &O_TEXTDATA)       
         CHGVAR     VAR(&STRMODE) VALUE(&S_IRWXU + &S_IRWXG + +   
                      &S_IROTH)                                   
         CALLPRC    PRC('open') PARM((&STRPATH) (&STROPN *BYVAL) +
                      (&STRMODE *BYVAL) (&STRCODEP *BYVAL)) +     
                      RTNVAL(&STRHAND)                            
         IF         COND(&STRHAND = -1) THEN(DO)                  
         CALLPRC    PRC('__errno') RTNVAL(&ERRNO_PTR)             
         CHGVAR     VAR(&ERRNO_CHR) VALUE(&ERRNO)                 
         CHGVAR     VAR(&MSGID) VALUE('CPE' || &ERRNO_CHR)        
         SNDPGMMSG  MSGID(&MSGID) MSGF(QCPFMSG) MSGTYPE(*ESCAPE)  
         ENDDO                                                    

/* Write a line to the file */                                        
         CHGVAR     VAR(&LINE) VALUE('This is a line of text in + 
                      a file.' |< &CRLF)                          
         RTVMSG     MSGID(CPF9897) MSGF(QCPFMSG) MSGDTA(&LINE) +  
                      MSGLEN(&LINELEN_D)                   
         CHGVAR     VAR(&LINELEN) VALUE(&LINELEN_D)        
         CALLPRC    PRC('write') PARM((&STRHAND *BYREF) +  
                      (&LINE_PTR *BYREF) (&LINELEN *BYVAL))

/* Close the configuration file */                             
         CALLPRC    PRC('close') PARM((&STRHAND *BYVAL))   

         ENDPGM 
```

我曾尝试以与 &ERRNO 和 &ERRNO_PTR 相同的方式声明 &LINE 和 &LINE_PTR 变量，但是当我尝试将值分配给 &LINE 时，这给了我一个指针未设置错误。我认为这是因为首先访问了 &ERRNO_PTR，而 &LINE_PTR 并非如此。无论如何，这可能是一个红鲱鱼。

RTVMSG 命令是一种查找字符串长度（不包括尾随空格）的技巧。

我已经在调试中运行了代码，在调用 write() 之前 &LINE 包含我所期望的内容，&LINELEN 也是 35。然后调用 write() 并且不会导致错误，但行中也不存在文件。该文件仍然是空的。

最后一点。该程序的所有参数当前都未使用，但为了完整性，我已将其保留，以防我对它们做了一些愚蠢的事情。所以本质上，可以忽略前两个声明块。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T06:56:13.060

您可以使用 QSH 和重定向来写入 IFS，这比尝试使用 C API 容易得多。

```
/* DISABLE STDOUT */
ADDENVVAR ENVVAR(QIBM_QSH_CMD_OUTPUT) VALUE('NONE') REPLACE(*YES)

/* CREATE THE FILE WITH CCSID 819 */
ADDENVVAR ENVVAR(STRPATH) VALUE(&STRPATH) REPLACE(*YES)
QSH CMD('rm $STRPATH; touch -C 819 $STRPATH')

/* APPEND A LINE TO THE FILE */
ADDENVVAR ENVVAR(LINE) VALUE(&LINE) REPLACE(*YES)
QSH CMD('echo "$LINE">>$STRPATH') 
```

了解更多信息：

*   [Qshell 命令语言特性](http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/topic/rzahz/rzahztutlang.htm)
*   [从 CL 运行 Qshell 命令](http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/topic/rzahz/rzahzcmdcl.htm)
*   [rm - 删除目录条目](http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/topic/rzahz/rzahzrm.htm)
*   [touch - 更改文件访问和修改时间](http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/topic/rzahz/rzahztouch.htm)
*   [echo - 将参数写入标准输出](http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/topic/rzahz/rzahzecho.htm)

* * *

如果您需要更高的性能，您可以使用更灵活的 HLL 来访问 API。Scott Klement 有一本很棒的电子书，名为[Working with the IFS in RPG IV](http://www.scottklement.com/rpg/ifs_ebook/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-20T13:35:21.047

我正在寻找如何使用 CL 中的 IFS API 并遇到了您的代码。我认为您的写入问题是文件句柄（第一个参数）需要按值传递。此外，不要在 &STROPN 变量中指定 O_CODEPAGE，因为它与代码页参数冲突。我正在使用这种方法，并且能够为我正在处理的服务程序获得一个很好的跟踪文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-08T07:52:13.240

它只是调用 write 函数的一个小错误，句柄应该按值传递，而不是 byref 在下面找到更正的 write 调用，我测试了它及其工作

```
CALLPRC    PRC('write') PARM((&STRHAND *BYVAL) +    
         (&LINE_PTR *BYREF) (&LINELEN *BYVAL)) 
```

# c# - 在 C# 中捕获 Crystal Reports 异常的示例代码

> ID：11238295
> 
> 赞同：0
> 
> 时间：2012-06-28T04:57:14.013
> 
> 标签：c#, crystal-reports

我有一个客户端应用程序，它在水晶报表 2011 ReportViewer 对象上设置一些参数和报表源，我想捕获错误消息并显示有意义的错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:46:51.283

```
private void button1_Click(object sender, System.EventArgs e)
{
   try
   {
      ReportDocument report = new ReportDocument();
      report.Load ("c:\\sample.rpt");
      report.PrintToPrinter (1,true,1,2);
   }
   catch (LogOnException engEx)
   {
      MessageBox.Show _
("Incorrect Logon Parameters. Check your user name and password.");
   }
   catch (DataSourceException engEx)
   {
   MessageBox.Show _
("An error has occurred while connecting to the database.");
   }
   catch (EngineException engEx)
   {
      MessageBox.Show (engEx.Message);
   }
} 
```

# cassandra - 集群系统上的 Cassandra 一致性问题

> ID：11238299
> 
> 赞同：3
> 
> 时间：2012-06-28T04:57:25.620
> 
> 标签：cassandra, hector

**背景**：我的应用程序运行在集群系统（有 4 个节点）上，这四个节点的系统时间通过 NTP 同步。我使用 Write.QUORUM 和 Read.QUORUM 策略。这个问题的概率不是很高。Cassandra版本是1.0.3，我试过Cassandra 1.1.1，这个问题还是存在。

**问题**：我删除了一个列，但在 6 秒后，Cassandra 仍然可以获取“isMarkedForDelete”仍然为假的旧记录。

有人遇到同样的问题吗？以及如何解决？

**详细信息**：请参阅下面的日志：

节点 3（本地节点）：
[pool-2-thread-42] 2012-06-27 **14:49:23,732** SliceQueryFilter.java（第 123 行）收集 0 of 2147483647：SuperColumn（667072 [...... `7fffffffffffffff000001382ca96c8b636b698a`：**false** :36@1340779097312016,......)

[pool-2-thread-44] 2012-06-27 **14:51:21,367** StorageProxy.java（第 172 行）Mutations/ConsistencyLevel 是 [RowMutation(keyspace='drc', key='3332', modify=[ColumnFamily( fpr_index [SuperColumn(667072 [ `7fffffffffffffff000001382ca96c8b636b698a`: **true** :4@1340779881338000,]),])])]/QUORUM

> -- 我在 14:51:21,367 删除这条记录

[pool-2-thread-37] 2012-06-27 **14:51:27,400** SliceQueryFilter.java（第 123 行）收集 0 of 2147483647：SuperColumn（667072 [......，`7fffffffffffffff000001382ca96c8b636b698a`：**假**：36@1340779097312016，。 .....)

> -- 但我仍然可以得到 14:51:27,400 的旧记录

Node2：
[MutationStage:118] 2012-06-27 **14:51:21,373** RowMutationVerbHandler.java（第 48 行）应用 RowMutation(keyspace='drc', key='3332', modify=[ColumnFamily(fpr_index [SuperColumn(667072 [ `7fffffffffffffff000001382ca96c8b636b698a`:**真**:4@1340779881338000,]),])])

[MutationStage:118] 2012-06-27 **14:51:21,374** RowMutationVerbHandler.java (line 60) RowMutation(keyspace='drc', key='3332', modify=[ColumnFamily(fpr_index [SuperColumn(667072 [ `7fffffffffffffff000001382ca96c8b636b698a`: **true** : 4@1340779881338000,]),])]) 申请。回复 6692098@/192.168.0.3

[MutationStage:123] 2012-06-27 14:51:27,405 RowMutationVerbHandler.java (line 48) 应用 RowMutation(keyspace='drc', key='3332', modify=[ColumnFamily(fpr_index [SuperColumn(667072 [.. ......，`7fffffffffffffff000001382ca96c8b636b698a`：**假**：36@1340779097312016，......]）

[MutationStage:123] 2012-06-27 **14:51:27,405** RowMutationVerbHandler.java (line 60) RowMutation(keyspace='drc', key='3332', modify=[ColumnFamily(fpr_index [SuperColumn(667072 [... ..., `7fffffffffffffff000001382ca96c8b636b698a`: **false** :36@1340779097312016,.......]),])]) 应用。回复 6698516@/192.168.0.3

节点1：
[MutationStage:98] 2012-06-27 **14:51:24,661** RowMutationVerbHandler.java（第 48 行）应用 RowMutation(keyspace='drc', key='3332', modify=[ColumnFamily(fpr_index [SuperColumn(667072 [ `7fffffffffffffff000001382ca96c8b636b698a`:**真**:4@1340779881338000,]),])])

[MutationStage:98] 2012-06-27 **14:51:24,675** RowMutationVerbHandler.java (line 60) RowMutation(keyspace='drc', key='3332', modify=[ColumnFamily(fpr_index [SuperColumn(667072 [ `7fffffffffffffff000001382ca96c8b636b698a`: **true** : 4@1340779881338000,]),])]) 申请。回复 6692099@/192.168.0.3

[MutationStage:93] 2012-06-27 **14:51:40,932** RowMutationVerbHandler.java (line 48) 应用 RowMutation(keyspace='drc', key='3332', modify=[ColumnFamily(fpr_index [SuperColumn(667072 [ `7fffffffffffffff000001382ca96c8b636b698a`: **true** :4@1340779900915004,]),])])

调试 [MutationStage:93] 2012-06-27 **14:51:40,933** RowMutationVerbHandler.java (line 60) RowMutation(keyspace='drc', key='3332', modify=[ColumnFamily(fpr_index [SuperColumn(667072 [ `7fffffffffffffff000001382ca96c8b636b698a`: **true** :4@1340779900915004,]),])]) 应用。回复 6706555@/192.168.0.3

[ReadStage:55] 2012-06-27 **14:51:43,074** SliceQueryFilter.java（第 123 行）收集 0 of 5000: `7fffffffffffffff000001382ca96c8b636b698a`: **true** :4@1340779900915004

节点 4：

节点 4 上没有关于此记录的日志。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-23T11:39:57.213

最好避免依赖 Cassandra 中的删除，因为它们通常不可靠。

请参阅[http://www.slideshare.net/planetcassandra/8-axel-liljencrantz-23204252](http://www.slideshare.net/planetcassandra/8-axel-liljencrantz-23204252)（特别是从第 34 张幻灯片开始）。强制进行主要压缩可能会解决此问题。

# glassfish - Jruby Warble 可执行性能

> ID：11238309
> 
> 赞同：1
> 
> 时间：2012-06-28T04:58:07.203
> 
> 标签：glassfish, jruby, warbler

我正在开发一个需要部署到客户端服务器的 JRuby on Rails 应用程序。我们希望能够编译应用程序，以便无法（轻松）读取和复制源代码。从我所读到的 Warbler 似乎是要走的路。

我担心的是应用程序在独立模式下的性能。意味着只是作为“java -jar MyApp.war”运行，而不是使用 Glassfish..Tomcat..etc。分布式应用程序不会有高流量，最多可能有 20-30 个用户。如果有的话，它在数据库方面会更重，这是一个单独的问题。

那么这种类型的场景如何将性能与使用实际服务器运行进行比较呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T08:08:39.857

使用 Glassfish，只要 JVM 有足够的内存，Tomcat JBoss（或 Torquebox）的性能就会一样好。

您将需要根据部署服务器调整加载\编译资产。

如果它应该是一个网络应用程序，那么您将需要 war\tomcat。如果它应该是桌面应用程序，那么只需使用 jar 版本。

# sql - 如何在 SQL Server 中获取分层 CTE 以使用父子逻辑进行过滤

> ID：11238312
> 
> 赞同：3
> 
> 时间：2012-06-28T04:58:22.640
> 
> 标签：sql, sql-server, tsql, common-table-expression

我在分层 CTE 和一些我们需要解决的奇怪逻辑方面遇到了一个令人烦恼的问题，我真的希望有人能帮助指出我在用 CTE 解决这种情况时做错了什么。

这是我们在此示例中处理的分层数据： ![在此处输入图像描述](../Images/e7f3e228555c46780818a94e9bf6b1db.png)

这是有问题的 SQL，后面是问题的描述和用于创建包含数据的测试表的 SQL 语句：

```
 DECLARE @UserId nvarchar(50);
    SET @UserId = 'A';

    DECLARE @StatusType int;
    SET @StatusType = '2';

     ;WITH recursiveItems (Id, Depth)
     AS
     (
        SELECT Id, 0 AS Depth 
        FROM dbo.CteTest 
        WHERE UserId = @UserId 
                    --AND StatusType = @StatusType
                    -- This would also be incorrect for the issue
        AND ParentId IS NULL
        UNION ALL
        SELECT dbo.CteTest.Id, Depth + 1 
        FROM dbo.CteTest 
            INNER JOIN recursiveItems 
                ON dbo.CteTest.ParentId = recursiveItems.Id
        WHERE UserId = @UserId 
        AND StatusType = @StatusType
     )

    SELECT A.*, recursiveItems.Depth
    FROM recursiveItems
    INNER JOIN dbo.CteTest A WITH(NOLOCK) ON
        recursiveItems.Id = A.Id
        ORDER BY A.Id 
```

这不是返回所需的数据。当前返回的数据位于下图中的 NOT CORRECT 部分。Id 为 10 的行是我们要省略的行。

本质上，逻辑应该是任何其子项的状态类型等于 2 的任何父记录（带有子项的记录）都应与其子项一起返回。在示例中，这是 ID 为：1、5、6、7、9 的行。

目前 CTE/SQL/Code 无论如何都返回所有父记录，

应该返回 ID 为 1 的记录，即使它的状态类型为 1，因为它的至少一个孩子、他们的孩子、孙辈等的状态类型等于 2。

不应返回 ID 为 10 的记录，因为它的状态不等于 2 或任何子级。如果记录在没有子记录时的状态类型为 2，则它也应该被返回。

![不想要的和想要的结果的例子](../Images/8833cddd3aa410b97b2f5eba72238246.png)

这是创建有助于显示问题的测试表的 DDL：

```
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CteTest](
[Id] [int] IDENTITY(1,1) NOT NULL,
[StatusType] [int] NOT NULL,
[UserId] [nvarchar](50) NOT NULL,
[ParentId] [int] NULL,
 CONSTRAINT [PK_CteTest] PRIMARY KEY CLUSTERED 
(
[Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF,         ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO 
```

这是表格的种子数据，可以证明问题：

```
INSERT INTO [dbo].[CteTest]([StatusType],[UserId],[ParentId]) VALUES (1,'A',NULL)
INSERT INTO [dbo].[CteTest]([StatusType],[UserId],[ParentId]) VALUES (1,'B',NULL)
INSERT INTO [dbo].[CteTest]([StatusType],[UserId],[ParentId]) VALUES (2,'B',NULL)
INSERT INTO [dbo].[CteTest]([StatusType],[UserId],[ParentId]) VALUES (1,'A',1)
INSERT INTO [dbo].[CteTest]([StatusType],[UserId],[ParentId]) VALUES (2,'A',1)
INSERT INTO [dbo].[CteTest]([StatusType],[UserId],[ParentId]) VALUES (2,'A',5)
INSERT INTO [dbo].[CteTest]([StatusType],[UserId],[ParentId]) VALUES (2,'A',6)
INSERT INTO [dbo].[CteTest]([StatusType],[UserId],[ParentId]) VALUES (3,'A',6)
INSERT INTO [dbo].[CteTest]([StatusType],[UserId],[ParentId]) VALUES (2,'A',NULL)
INSERT INTO [dbo].[CteTest]([StatusType],[UserId],[ParentId]) VALUES (4,'A',NULL)
INSERT INTO [dbo].[CteTest]([StatusType],[UserId],[ParentId]) VALUES (3,'A',10) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T15:28:20.403

问题是您的基本案例包括所有空（无父）项目，以后无法将它们过滤掉。

因为您只寻找具有特定 的项目`statustype`，所以您可能需要重构 CTE；与其将基本情况作为根值，不如将其作为给定的所有项目`statustype`，然后递归地找到父母。在下面的解决方案中，我将深度设为负数，表示与给定树中值为 2 的项目的距离（因此为负高度，而不是深度。）。

```
DECLARE @UserId nvarchar(50);
SET @UserId = 'A';

DECLARE @StatusType int;
SET @StatusType = '2';

WITH recursiveItems (Id, ParentID, Depth)
 AS
 (
    SELECT Id, ParentID, 0 AS Depth 
    FROM dbo.CteTest 
    WHERE UserId = @UserId AND StatusType = @StatusType
    UNION ALL
    SELECT dbo.CteTest.Id, CteTest.ParentID, Depth - 1 
    FROM dbo.CteTest 
        INNER JOIN recursiveItems 
            ON dbo.CteTest.Id = recursiveItems.ParentId
    WHERE UserId = @UserId 
 )
     SELECT A.Id, A.StatusType, A.UserId, A.ParentId, min(recursiveItems.Depth)
FROM recursiveItems
INNER JOIN dbo.CteTest A WITH(NOLOCK) ON
    recursiveItems.Id = A.Id
    group by A.Id, A.StatusType, A.UserId, A.ParentId
    ORDER BY A.Id 
```

# java - Java关于将单词设置为变量的问题

> ID：11238316
> 
> 赞同：0
> 
> 时间：2012-06-28T03:22:58.963
> 
> 标签：java

我正在制作一个石头剪刀布程序。我希望程序的用户输入石头、纸或剪刀（因此是导入的扫描仪），并且我希望计算机选择一个随机数（我将导入一个 java.util.Random），它对应于另一个石头、纸，或剪刀。

所以我试图让程序识别一个词作为重要的东西。也就是说，如果用户在扫描仪中输入“rock”，计算机就会做一些输出。在下面的代码中，如果用户输入“rock”，我试图让计算机输出“yes”。为此，我将一个名为“player”的变量设置为输入文本，并将一个字符串 rock 作为短语“rock”。然后我说如果 player=rock(="rock")，那么我们会得到“是”。

程序中没有错误。但是当我在扫描仪中输入“rock”时，程序什么也没做。我做错了什么，我该如何纠正？

```
import java.util.Scanner;

public class Refined {

    public static void main(String[] args){
        Scanner abc = new Scanner(System.in);
        String rock = "rock";

        String player;
        System.out.println("Rock, Paper, or Scissors?");
        player = abc.next();
        if(player == rock){
            System.out.println("yes");

        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:00:53.420

使用`player.equals(rock)`or`player.equalsIgnoreCase(rock)`比较两个变量的内容

如果我们申请`==`比较两个字符串对象，它会比较两个`references`对象的，所以在你的情况下，引用是不同的，这就是它返回 false 并且`System.out.println("yes");`没有被打印的原因。

使用`String.equals()`or`String.equalsIgnoreCase()`方法比较字符串的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:57:34.313

player 和 rock 是 String 对象。在 Java 中，我们没有 String 作为数据类型，如 int、float 等。所以要比较两个对象，我们必须使用 .equals() [来自 Object 类]

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T03:41:56.787

你想要`player.equals(rock)`的`if`条件。

放置`player == rock`比较`String`对象（基本上内存中的引用是否指向同一位置），而不是实际存储在`String`对象中的值。

# ruby-on-rails-3 - Rails 提供地图图块

> ID：11238318
> 
> 赞同：1
> 
> 时间：2012-06-28T04:59:05.610
> 
> 标签：ruby-on-rails-3, nginx, geospatial, rack, passenger

我正在 Rails 3 中构建一个地图应用程序。这个特定项目的数据是静态的，因此我决定使用 TileStache 来为我的缓存播种并将切片作为静态图像提供服务。问题是地图数据相当敏感，需要授权。我正在使用 NGinx+Passenger 作为 Web 服务器。地图图块的大小约为 20 kb。我已经编写了一个概念证明，直接进入 Rails 进行授权并使用 send_file。性能还可以。考虑到文件非常小，我想知道 Rack SendFile 中间件是否有助于在这种特定情况下提高性能。我担心的是随着用户群的增长，当前的性能和性能下降。有人有什么建议吗？

# java - 如何在 Java 中删除 HTML 标签？

> ID：11238321
> 
> 赞同：1
> 
> 时间：2012-06-28T04:59:15.160
> 
> 标签：java, regex, html-parsing

我需要从java中的以下字符串中删除HTML标签

```
String text = "<html><head></head><body>hi x>a and y<b and z>c</body></html>"; 
```

我可以用正则表达式做到这一点。但它也删除了字符串中的“b 和 z”。因为它被认为是标签。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:03:51.710

当然它会删除“b and z”。它*应该*删除该文本。因为在 HTML 中，属性不必被引用，也不需要值。`b`元素也是如此，`and`并且`z`是属性（没有值）。这就是 HTML 解析器可以识别的内容。

当然，`and`并且`z`并不是`b`元素真正可接受的属性，但就句法良好格式而言，您应该将其识别`b`为一个元素。

如果您不希望将其删除，则需要编写`<`as `&lt;`。无论如何，这就是编写正确 HTML 的方法。:)

**附录**

（是的，我知道上面在评论中引用了著名的“无法使用正则表达式解析 HTML”答案，但问题中的`<`vs`&lt;`值得在答案中指出，恕我直言。）

# sql-server - 使用实体框架 Database.Create() 时指定 SQL Server 文件位置

> ID：11238324
> 
> 赞同：7
> 
> 时间：2012-06-28T04:59:35.940
> 
> 标签：sql-server, entity-framework, ef-code-first

我有几个使用自定义初始化程序的实体框架代码优先 DbContext 对象。

在初始化程序中，调用

```
context.Database.Create(); 
```

在 SQL Server 中创建数据库。

数据和日志文件是根据 SQL Server 中的数据库设置在目录中创建的。

我希望不同的 DbContext 子类具有不同的数据和日志文件路径。我可以在创建数据库时以某种方式指定路径，还是必须在创建数据库后在单独的步骤中分离/移动/附加？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T18:11:38.200

您始终可以`AttachDBFilename`在连接字符串中使用关键字。[`SqlConnection.ConectionString`](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlconnection.connectionstring.aspx)有关更多信息，请参阅文档。

# c++ - 哪个编译器用于生成 Microsoft Office for Mac？

> ID：11238325
> 
> 赞同：5
> 
> 时间：2012-06-28T04:59:36.297
> 
> 标签：c++, macos, compiler-construction, com

我们知道 Microsoft Office 有 Mac 版。

只是好奇，谁知道用于生成 Microsoft Office for Mac 的编译器？

当我查看 Windows SDK 标头“Windows.h”时，我发现以下代码片段：

```
#ifndef _MAC
#if defined(_68K_) || defined(_MPPC_)
#define _MAC
#endif
#endif 
```

Microsoft 是否有用于 Mac 的私有 C++ 编译器？如果是这样，我猜编译器必须支持 COM（组件对象模型），而 gcc 不支持。（“支持”表示可以生成符合 COM 标准的 C++ 对象）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-13T01:42:37.310

Microsoft 没有用于 OS X 的专用编译器[。xcode](/questions/tagged/xcode "显示标记为“xcode”的问题") [使用](http://en.wikipedia.org/wiki/Xcode#Composition.) [gcc](/questions/tagged/gcc "显示标记为“gcc”的问题")、[llvm](/questions/tagged/llvm "显示标记为“llvm”的问题")或 [两者](http://en.wikipedia.org/wiki/Xcode#Composition.)。

这意味着，根据使用的 Xcode 版本，Microsoft Office for Mac 使用 gcc 或 clang 构建。请注意，这并不一定意味着 Microsoft 使用 Xcode IDE。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:24:04.650

从[http://en.wikipedia.org/wiki/Microsoft_Office_for_Mac_2011](http://en.wikipedia.org/wiki/Microsoft_Office_for_Mac_2011)它说它是用 Cocoa 编写的。Cocoa 是 Apple 面向 Mac OS X 操作系统的本机面向对象应用程序编程接口 (API)。有关更多信息，请参阅此.. [http://en.wikipedia.org/wiki/Cocoa_%28API%29](http://en.wikipedia.org/wiki/Cocoa_%28API%29)

可能是 Xcode 中包含的 Apple LLVM 编译器，Xcode 是 Cocoa 和 Cocoa 触摸框架的最佳可用开发工具包。

# objective-c - 在 xcode4 中添加类别

> ID：11238332
> 
> 赞同：1
> 
> 时间：2012-06-28T05:00:16.600
> 
> 标签：objective-c, xcode4

我在 XCODE4 中复制了 NSDate 的 timeAgo 类别，但出现以下运行时错误：

*** 由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：“-[__NSDate timeAgo]：无法识别的选择器发送到实例 0x17e000”

我在其他帖子中读到我需要添加一个链接标志，我这样做如下：

![在此处输入图像描述](../Images/000888fb4e32164e5c8d629564425b74.png)

但它仍然无法正常工作。使用第三方类别我缺少什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:29:07.887

我认为你不应该弄乱链接器，至少不应该在那里。无论您从哪里获得该类别，都可能提到您放入的文件需要编译，您可以通过转到项目设置 -> 构建阶段 -> 编译源来检查该文件。确保该类别的 .m 文件在其中。

# objective-c - 为什么 iOS 无法使用 class_getProperty 函数获取类 UIView 的子视图属性？

> ID：11238338
> 
> 赞同：3
> 
> 时间：2012-06-28T05:00:57.733
> 
> 标签：objective-c, uiview, runtime, subviews

我想获取有关`subviews`类属性的信息`UIView`：

```
objc_property_t property = class_getProperty([UIView class], "subviews"); 
```

但是，它返回零？我觉得这太奇怪了。有人可以向我解释这种行为吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:08:45.013

奇怪的。如果使用`-valueForKey:`，则可以清楚地表明它存在。这曾经是 Xcode 3.2.3 中旧 LLVM clang 编译器的一个错误，其中类别中的属性（是的，它在 UIView 上的类别中声明）不会被运行时识别，甚至还有一个错误报告[在这里](http://llvm.org/bugs/show_bug.cgi?id=7398)提交。我知道最近版本的 Xcode 在分类方面遇到了问题......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:29:26.287

我只是写了一个测试代码：

```
@interface Cat : NSObject
    @property (nonatomic, strong) NSString *name;
    @property (nonatomic) NSInteger         age;
    @property (nonatomic, readonly, copy)   NSArray *subviews;
@end 
```

没关系。所以我猜苹果可能会在它上面做得这么神奇。

# sql - Hive：如果字符串为 NULL，翻译函数如何工作？

> ID：11238340
> 
> 赞同：0
> 
> 时间：2012-06-28T05:01:02.723
> 
> 标签：sql, transform, hive

我正在 hive 的两个表上进行左外连接。

```
table 1 : name1
table 2 : name2 , class ( only two values Y or N) 
```

表 1 中的名称是表 2 的超集。

最终结果表应该有 name1, class

我的查询是

```
select table1.name1 , translate(table2.class,NULL,'N') 
from table1 left outer join table2 
on (name1= name2); 
```

这行得通吗？

我也尝试过 reexp_replace 但它不起作用

select table1.name1, regexp_replace(table2.class,NULL,'N') from table1 left outer join table2 on (name1= name2);

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T17:50:06.723

当我编写 Hive 翻译 UDF 时，我希望保持与 PostGreSQL 中的翻译 UDF 相同的行为。与 PostGreSQL 类似，如果转换 UDF 的任何参数为 NULL，则结果将为 NULL。

这也体现在 UDF 的 Hive 源代码的以下行中：

```
if (arguments[0].get() == null || arguments[1].get() == null || arguments[2].get() == null) {
      return null;
    } 
```

完整的源代码可[在此处](http://svn.apache.org/viewvc/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTranslate.java?view=markup)获得。

根据我从您的问题中了解到的情况，当名称存在于 table1 但不存在于 table2 时，您想发出“N”。如果我这样做，我会做类似（未经测试）的事情：

```
SELECT
   table1.name1,
   COALESCE(table2.name2, 'N') as name2
FROM
   table1
   LEFT OUTER JOIN
   table2
   ON (table1.name1 = table2.name2); 
```

[您可以在Hive UDF wiki 页面上](https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF)了解有关 coalesce UDF 的更多信息。

感谢您的问题，我已经更新了[Hive UDF wiki 页面](https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF)上对翻译 UDF 的描述，以澄清输入参数之一为 NULL 的情况。

# xml - 什么定义了一个有效的 XHTML 页面

> ID：11238341
> 
> 赞同：1
> 
> 时间：2012-06-28T05:01:07.997
> 
> 标签：xml, xhtml

我在使用 MIME 发送的 XHTML 文档类型的页面上遇到问题`application/xml`。

Firefox 3.6 是唯一一个`body`元素背景在模式下不再占据整个页面的浏览器`application/xml`（http://stackoverflow.com/questions/5225237/background-of-body-element）。

这应该发生吗？是否应该将纯 XML 的 MIME 与 XHTML 的 DOCTYPE 视为 XHTML 网页？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T12:37:14.403

[在https://stackoverflow.com/a/5225321/271577](https://stackoverflow.com/a/5225321/271577)中使用相同的引用，它取决于根元素。尽管 XHTML 可能会出现异常，但如果无法通过检测（无论是 DOCTYPE 嗅探、名称空间检查等）识别内容类型，那么 XML 很可能不太可能呈现为 XTHML，而是呈现为XML。

XML 可以用 CSS 呈现，即使它没有像 XHTML 那样为任何元素分配默认样式（因为它是一种定义自己语言的语言）。要指定样式，就像在 XHTML 中一样，必须特别选择元素是使用`display: block;`还是`display:inline`.

XML 规范没有提到 DOCTYPE 嗅探，并且这种做法已经被一些 XML 的人反对：http: [//hsivonen.iki.fi/doctype/#xml](http://hsivonen.iki.fi/doctype/#xml)支持命名空间和处理指令。

但是根据[https://developer.mozilla.org/en/Mozilla%27s_DOCTYPE_sniffing](https://developer.mozilla.org/en/Mozilla%27s_DOCTYPE_sniffing)，4.0 之前的 Firefox“仅对作为 text/html 发送的文档进行嗅探”并且 application/xml 应该“触发完整标准模式”。但是，这是指区分不同的 HTML 模式；为了从 XML 中识别 XHTML，在[https://developer.mozilla.org/en/XML_in_Mozilla](https://developer.mozilla.org/en/XML_in_Mozilla)，我相信以下内容可能暗示一个公认的 PUBLIC DOCTYPE 应该被用来区分 XHTML 和“纯”XML：

> 请注意，XHTML 实体，如 ä，仅适用于具有有效 XHTML 正式公共标识符（或换句话说，具有 PUBLIC 标识符的 DOCTYPE 部分）的符合 XHTML 文档。XHTML 实体不能在任意 XML 文档中工作，即使使用 XHTML 命名空间也不行。”然后是一个有效标识符列表。

但是，如果您使用的是公认的 PUBLIC DOCTYPE 并且它仍然没有被视为真正的 XHTML（例如，能够单独设置 body 标记的样式，而无需设置 html 根的样式——我似乎记得的一种做法可能是对于 XHTML/HTML 多语言文档来说是必要的，至少在更早的时候），那么我的猜测也是它是一个错误。我还认为命名空间应该就足够了（没有命名空间，它不应该工作，因为 XML+命名空间需要一个用于特定于应用程序的行为）。

# wordpress - 获取 wordpress 发布视频网址

> ID：11238342
> 
> 赞同：0
> 
> 时间：2012-06-28T05:01:16.753
> 
> 标签：wordpress, post, video

我在我的 WordPress 帖子中插入了一个 YouTube 视频链接。它在前端正确显示视频。现在我想在我的另一个 WordPress 页面上获取视频的嵌入代码。

请帮忙。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-28T05:47:16.397

要快速嵌入 YouTube 视频，只需在观看视频时从网络浏览器的地址栏中复制视频的 URL：

![优酷网址](../Images/87f8af411af453d1ff23bde1dc1c6ab8.png)

并在您的帖子/页面编辑器中将其单独粘贴到一行：

![编辑](../Images/d0ab156f18ee6745d2aba6740aa9dbdd.png)

WordPress 将负责其余的工作！

**嵌入简码：**

要自定义视频的大小和设置，请使用简码。

例如，这个简码：

```
[youtube=http://www.youtube.com/watch?v=JaNH56Vpg-A&w=640&h=385] 
```

生成比默认嵌入更宽的视频

# java - 12 小时格式的时间验证

> ID：11238343
> 
> 赞同：1
> 
> 时间：2012-06-28T05:01:25.450
> 
> 标签：java, regex, struts-1

在请假申请表中，有两个时间字段“从”和“到”。当我说，在 From 时间字段中的 12:30 PM 和在 To 时间字段中的 1:30 PM 时，验证结果显示“To”时间应该大于“From”时间。是否有任何简单的验证（可能是正则表达式）可用于验证这一点，以便它应该以 12 小时格式接受这个时间。

任何建议都将是可观的。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:07:04.623

确保您小心处理过境日/周/月/年/...边界。

您可能有兴趣查看[http://infiniteundo.com/post/25326999628/falsehoods-programmers-believe-about-time](http://infiniteundo.com/post/25326999628/falsehoods-programmers-believe-about-time)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T05:08:54.777

您可以使用[SimpleDateFormatter](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html)作为此示例：

```
DateFormat formatter = new SimpleDateFormat("hh:mm a");
Date from = (Date)formatter.parse(fromText);
Date to= (Date)formatter.parse(toText);

if (from.after(to)) {
    // Show message as you want.
    return;
} 
```

如果要验证，只需在 parse() 方法上添加 try/catch，并显示消息。

```
try {
    Date from = (Date)formatter.parse(fromText);
}
catch(Exception e) {
    // Show message;
    return;
} 
```

# html - HTML 按钮在 chrome 中不起作用

> ID：11238347
> 
> 赞同：-2
> 
> 时间：2012-06-28T05:02:23.407
> 
> 标签：html, css, google-chrome

我有以下html：

```
<div class="art-vmenublock-body">
    <MAP NAME="map1">
    <a HREF="#" class="big-link" data-reveal-id="myModal" shape=RECT COORDS="30,262,180,300"></a>
    <a HREF="#" class="big-link" data-reveal-id="myModal" shape=RECT COORDS="220,262,365,303"></a>
    <a HREF="#" class="big-link" data-reveal-id="myModal" shape=RECT COORDS="405,262,560,303"></a>
    <a HREF="#" class="big-link" data-reveal-id="myModal" shape=RECT COORDS="595,262,750,303"></a>
    <a HREF="#" class="big-link" data-reveal-id="myModal" shape=RECT COORDS="790,262,940,296"></a>
    </MAP>
<IMG SRC="images/plans.png" BORDER=0 WIDTH=966 HEIGHT=343 USEMAP="#map1"></div> 
```

当我提交名称为“立即购买”的按钮时。它在 Firefox 中运行。但是这个过程在chrome中不起作用，Internet Explorer让我知道原因。请帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:34:02.457

这是工作代码。你的实际代码都搞砸了。

**演示：http:** [//jsfiddle.net/surendraVsingh/UJCuT/](http://jsfiddle.net/surendraVsingh/UJCuT/)

```
<div class="art-vmenublock-body">
    <img src="http://www.dailyencouragement.net/dmr/quarry_road_entrance_wall.jpg" BORDER="0" WIDTH="966" HEIGHT="343" usemap="#map1" />
    <map name="map1">
        <area HREF="#" class="big-link" data-reveal-id="myModal" shape="rect" coords="30,262,180,300" />
        <area HREF="#" class="big-link" data-reveal-id="myModal" shape="rect" coords="220,262,365,303" />
        <area HREF="#" class="big-link" data-reveal-id="myModal" shape="rect" coords="405,262,560,303" />
        <area HREF="#" class="big-link" data-reveal-id="myModal" shape="rect" coords="595,262,750,303" />
        <area HREF="#" class="big-link" data-reveal-id="myModal" shape="rect" coords="790,262,940,296" />
    </map>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:37:03.310

你有标记错误，`<map>`不要使用`<a>`标签，它有自己的标签`<area>`，所以你的标记应该是这样的：

```
<div class="art-vmenublock-body">       
    <MAP name="map1">
        <area HREF="#" class="big-link" data-reveal-id="myModal" shape="rect" coords="30,262,180,300" />
        <area HREF="#" class="big-link" data-reveal-id="myModal" shape="rect" coords="220,262,365,303" />
        <area HREF="#" class="big-link" data-reveal-id="myModal" shape="rect" coords="405,262,560,303" />
        <area HREF="#" class="big-link" data-reveal-id="myModal" shape="rect" coords="595,262,750,303" />
        <area HREF="#" class="big-link" data-reveal-id="myModal" shape="rect" coords="790,262,940,296" />
    </MAP>
    <IMG SRC="images/plans.png" BORDER=0 WIDTH=966 HEIGHT=343 USEMAP="#map1"></div>
</div> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-28T05:08:38.773

提交按钮工作。您需要将所有标签包含在 FORM 元素内。

火狐有些理解它。确保你有一个表单标签

# iphone - iPhone 上使用哪些运营商名称？

> ID：11238356
> 
> 赞同：2
> 
> 时间：2012-06-28T05:03:26.780
> 
> 标签：iphone, carrier

我已阅读有关如何使用 CTCarrier 类在 iPhone 上获取运营商名称的问题和答案。但我需要知道更常见的运营商使用什么名称。我知道 AT&T 的名称，即“AT&T”，但我在 Verizon、T-Mobile 等上没有测试设备。在某处有列表吗？

# javascript - 从响应对象获取 JSON

> ID：11238362
> 
> 赞同：0
> 
> 时间：2012-06-28T05:04:51.770
> 
> 标签：javascript, jquery, json

```
<html>
<body>

    <form action="login.do" method="post">
        //.....

        <input type="submit" value ="send">
    </form>
</body>
</html> 
```

在我的 servlet 中，我将处理请求并将 json 响应发回。如何从响应中获取 json 对象？

但是我们可以通过在单击按钮时调用一个函数来做到这一点。

```
function(){
    $ajax(
        url:"login.do"
        success: function(data){
        //..... 
        }
    )
} 
```

有什么办法吗？还是只使用函数调用我们就可以做到？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:07:38.213

您可以将 设置`dataType`为`json`，也可以使用捷径方法[$.getJSON()](http://api.jquery.com/jQuery.getJSON/)。

```
$.getJSON(your_url, function(data) {
  // data here is already an object.
  console.log(data);
}); 
```

***编辑：*** `getJSON`将使用`GET`请求类型，对于`POST`，你可以这样做

```
$.post(your_url, function(data) {
  // data here is already an object.
  console.log(data);
}, 'json'); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T05:11:23.750

您调用的成功回调的第一个参数`data`是 json 对象，只要您包含`dataType:'json'`在 ajax 选项中或使用速记`$.post(url[,data][,function(json){}),'json'])`方法

阅读 $.ajax API 中的成功回调：

[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

编辑：使用延迟方法

```
var ajaxCall= $.post( url, dataToServer,'json')

 $.when( ajaxCall).then(function(data){
     var json =data;
 }) 
```

# c++ - 生成的性能、C++ 代码和汇编代码

> ID：11238366
> 
> 赞同：2
> 
> 时间：2012-06-28T05:05:09.983
> 
> 标签：c++, performance, optimization

我已经阅读了很多关于提高 C++ 和 C 代码性能的问题。人们几乎所有的答案都以观察编译器生成的汇编代码而告终。

如果我想了解这种技术，最好的资源是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T05:44:57.713

**实践是你最好的老师**

编写一个简单的测试文件：

```
#include <stdio.h>

int main() {
    printf("Hello %s !\n", "world");
} 
```

然后`gcc -S test.cpp`会给你生成的汇编代码`test.s`。`-Ox`如果你想添加。

```
 .file   "test.cpp"
    .section    .rodata
.LC0:
    .string "world"
.LC1:
    .string "Hello %s !\n"
    .text
    .globl  main
    .type   main, @function
main:
.LFB0:
    .cfi_startproc
    pushq   %rbp
    .cfi_def_cfa_offset 16
    .cfi_offset 6, -16
    movq    %rsp, %rbp
    .cfi_def_cfa_register 6
    movl    $.LC0, %esi
    movl    $.LC1, %edi
    movl    $0, %eax
    call    printf
    movl    $0, %eax
    popq    %rbp
    .cfi_def_cfa 7, 8
    ret
    .cfi_endproc
.LFE0:
    .size   main, .-main
    .ident  "GCC: (Debian 4.7.0-13) 4.7.0"
    .section    .note.GNU-stack,"",@progbits 
```

如果你理解汇编语言有困难，你最好从`GNU assembly language`and开始[`linkers & loaders`](http://books.google.com/books/about/Linkers_and_Loaders.html?id=Id9cYsIdjIwC)，and also开始[`Intel® 64 and IA-32 Architectures Software Developer’s Manual`](http://www.intel.com/content/www/us/en/processors/architectures-software-developer-manuals.html/)。这是一本很棒的参考书。

# ruby-on-rails - 带有rails 3的Mongo db数组

> ID：11238367
> 
> 赞同：0
> 
> 时间：2012-06-28T05:05:11.990
> 
> 标签：ruby-on-rails, mongodb

我有一个模型：类 Profile 包括 Mongoid::Document

```
 # PROFILE TYPE KIDS & PARENT
    embeds_one :kids_type, :class_name => "ProfileKidsType"
    embeds_one :parent_type, :class_name => "ProfileParentType"

    end 
```

在 ProfileKidsType 模型中：

```
 class ProfileKidsType
    include Mongoid::Document

    field :nickname, :type => String
    field :gender, :type => String 
```

....很快.....

```
 embedded_in :profile, :inverse_of => :kids_type
    end 
```

在视图中：profiles /_form.html.haml

```
 = form_for @profile do |f|

   .formBox
    .formSection Child information
    = f.label :lname, "Nick name"
    = f.text_field :nickname 
```

我如何在这里访问昵称字段.....当我执行上面的代码时，它说的是未定义的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T19:02:39.043

您需要使用 fields_for 来为嵌入式文档创建嵌套表单。

像这样的东西会起作用：

```
 = form_for @profile do |f|

  .formBox
   .formSection Child information
   = f.fields_for :kids_type do |k|
     = k.label :nickname, "Nick name"
     = k.text_field :nickname 
```

有关更多详细信息，请参阅[这篇文章](https://stackoverflow.com/questions/10663038/access-subcollection-in-mongoid-with-rails-form-to-edit-and-create-new-entry)，尽管它不使用 haml。

# php - 如果未登录，Wordpress 重定向用户

> ID：11238375
> 
> 赞同：3
> 
> 时间：2012-06-28T05:06:09.693
> 
> 标签：php, wordpress, e-commerce

我在functions.php中使用以下代码来重定向未登录的用户，不包括您是否在wp-login.php中。

```
if(!is_user_logged_in() && $pagenow != 'wp-login.php') {
wp_redirect( 'http://signup.mysite.com', 302 );
} 
```

但是，我安装了一个购物车插件，它使用不同的登录页面，基本上将 mysite.com/wp-login.php 重定向到 mysite.com/account/login。

是否有一些代码可以用来从重定向中排除 url 路径，也许可以替换一些东西`$pagenow != 'wp-login.php'`？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-21T11:48:24.540

这个怎么样..

```
//
//  Re-direct not-logged-in users to holding page
//
if(!is_user_logged_in() && curPageURL() != 'http://mysite.com/wp-login.php') {
    wp_redirect( 'http://signup.mysite.com', 302 );
    exit;
}

//
//  Get current page URL
//
function curPageURL() {

    $pageURL = 'http';
    if ($_SERVER["HTTPS"] == "on") {$pageURL .= "s";}

    $pageURL .= "://";
    if ($_SERVER["SERVER_PORT"] != "80") {
        $pageURL .= $_SERVER["SERVER_NAME"].":".$_SERVER["SERVER_PORT"].$_SERVER["REQUEST_URI"];
    } else {
        $pageURL .= $_SERVER["SERVER_NAME"].$_SERVER["REQUEST_URI"];
    }

    return $pageURL;
} 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-04-02T16:46:45.503

打开 Functions.php...

粘贴：

```
// Redirect users who arent logged in...
function login_redirect() {

    // Current Page
    global $pagenow;

    // Check to see if user in not logged in and not on the login page
    if(!is_user_logged_in() && $pagenow != 'wp-login.php')
          // If user is, Redirect to Login form.
          auth_redirect();
}
// add the block of code above to the WordPress template
add_action( 'wp', 'login_redirect' ); 
```

希望这可以帮助 ：）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T05:26:43.683

您可以尝试使用 WordPress`is_page( 'login' )`或`is_page( 'account/login' )`条件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-19T08:43:24.777

```
 <?php     
if (!is_user_logged_in()) {
?> 
<style>
.lor1{ display:none;}
.lor1.kun{ display: block;}
.lor1.user_not_login{ display: block;}
</style>
<?php }  ?> 
```

1.  main div(.lor1) 表示命令 div 在**页眉之后开始，在****页脚**之前精细
***   用户登录此主类时在主 div 中添加新类（.lor1.kun）显示：块；*   制作新的 html 示例。显示混乱记录第一个（.lor1.user_not_login）**

 ****在 header.php 中添加此代码****

# php - 解决在非对象上调用成员函数 combinestring()

> ID：11238379
> 
> 赞同：0
> 
> 时间：2012-06-28T05:06:45.373
> 
> 标签：php, class

在非对象上调用成员函数 combinestring() 时遇到问题。

```
**Index.php**
inlcude("string.php");
calldata('usa');

**string.php**
$a=new a();
funciton calldata($val){
$st1="select a from table 1 where country=".$a->combinestring($val);
return $st1;
}

**Class A**
function combinestring($abc){
   Return "'".$abc."'";
} 
```

未知 $a->combinestring($val);

如何解决这个问题呢。

最好的祝福

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:14:10.197

你收到错误

> 在非对象上调用成员函数 combinestring()

因为您正在对不是对象的变量调用成员函数。这意味着`$a`不是一个对象。

在 string.php 中，您不能使用`$a`内部函数定义，因为变量具有本地范围。您不能像那样访问该对象实例。但是，您可以通过使用全局变量来做到这一点。

你的`string.php`文件应该是这样的：

```
$a=new a();
funciton calldata($val){
   global $a;
   $st1="select a from table 1 where country=".$a->combinestring($val);
   return $st1;
} 
```

有关变量范围的更多信息，请访问此链接：http: [//php.net/manual/en/language.variables.scope.php](http://php.net/manual/en/language.variables.scope.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:31:54.310

使用`PDO`.

```
funciton calldata($val){
   $st1="select a from table 1 where country = ?";
   $pdo = new PDO('host', 'user', 'pass');
   $result = $pdo->prepare($st1)->execute($val);
   return $result;
} 
```

这与您正在做的事情有很大不同，但是您的`a`课程不会逃避查询的输入，这很糟糕。

# java - runtime.exec() 花费无限时间来执行代码

> ID：11238381
> 
> 赞同：2
> 
> 时间：2012-06-28T05:06:57.167
> 
> 标签：java

我想执行一个带有 2 个参数的命令。1.输入文件名 2.输出文件名。

命令为六V1.1 outputFile.txt 代码为：

```
 String cmd= "sixV1.1 <inputFile.txt >outputFile.txt";
   Process p=Runtime.getRuntime().exec(cmd);
   int retValue=p.waitFor(); 
```

当我运行上面的代码时，它需要无限的时间。是否可以在 cmd 中给出 <, > 字符。请建议我....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:16:57.340

在 Java 中启动进程时进行输入/输出重定向的正确方法是从进程的流中写入/读取：

```
Process p = Runtime.getRuntime().exec("sixV1.1");
InputStream is = p.getInputStream();
// read from is and write to outputFile.txt
OutputStream os = p.getOutputStream();
// read from inputFile.txt and write to os 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:28:07.943

Michael C. Daconta 撰写了一篇精彩的[博客文章，介绍了在 Java 中使用 Runtime 成功进行命令行调用。](http://www.javaworld.com/jw-12-2000/jw-1229-traps.html?page=3)这并不像你想象的那么容易！

以下来自该博客文章的代码摘录描述了“MediocreExecJava”，这是一个使用 Runtime.exec() 成功运行程序并管理其输入和输出而不挂起的类。我以前用过它，它可以工作。我强烈建议阅读这篇文章以了解原因！

```
import java.util.*;
import java.io.*;
public class MediocreExecJavac
{
    public static void main(String args[])
    {
        try
        {            
            Runtime rt = Runtime.getRuntime();
            Process proc = rt.exec("javac");
            InputStream stderr = proc.getErrorStream();
            InputStreamReader isr = new InputStreamReader(stderr);
            BufferedReader br = new BufferedReader(isr);
            String line = null;
            System.out.println("<ERROR>");
            while ( (line = br.readLine()) != null)
                System.out.println(line);
            System.out.println("</ERROR>");
            int exitVal = proc.waitFor();
            System.out.println("Process exitValue: " + exitVal);
        } catch (Throwable t)
          {
            t.printStackTrace();
          }
    }
} 
```

# android - 是否可以构建需要大存储空间的 HTML5 移动应用程序？

> ID：11238389
> 
> 赞同：1
> 
> 时间：2012-06-28T05:08:03.357
> 
> 标签：android, ios, html, local-storage

我知道您可以使用 HTML5 本地存储构建一个不需要大型本地存储的简单移动应用程序。但是我想知道是否也可以构建需要大存储空间的东西：例如，如果您的应用程序需要存储大量巨大的图像。

我问是因为 HTML5 本地存储在大多数浏览器上都被限制为特定大小。即使您将其打包到应用程序中，我也不确定是否是这种情况。

# python - POST 方法执行正确的发布，然后重新呈现整个页面

> ID：11238393
> 
> 赞同：2
> 
> 时间：2012-06-28T05:08:20.507
> 
> 标签：python, html, google-app-engine, navigation, jinja2

我正在使用帖子来获取基于用户选择然后提交的单选按钮的参数，并且发生正确的操作，但是随后在页面下方出现了用户未登录的全新页面。我不太确定发生了什么，但这里是适用的代码，我当然使用 HTML 加上带有 python 和 jinja2 的 google appengine。

这里的 HTML：

```
<form method="POST">
<input type="radio" name="category" value="discussion">Discussion<br>
<input type="radio" name="category" value="adventures">Adventures<br>
<input type="radio" name="category" value="reviews">Reviews<br>
<input type="radio" name="category" value="badges">Badge Applications<br>

<input type="submit" class="btn btn-medium btn-primary" value="Filter!">
</form> 
```

蟒蛇在这里：

```
def post(self):
    category = self.request.get('category')

    if category:
        user = users.get_current_user()
        logout = users.create_logout_url(self.request.uri)
        global visits

        category = self.request.get('category')                
        posts = db.GqlQuery("select * from Post where category=:1 order by created desc limit 30", category)
        self.render("home.html", posts=posts, user=user, visits=visits, logout=logout) 
```

我的 home.html 文档：

```
 {% for post in posts %}
            {{post.render() | safe}}
            <br>
        {% endfor %} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:22:08.377

根据您的问题，我了解到用户未登录，在这种情况下，请尝试以下操作：

```
def post(self):     
  category = self.request.get('category')      
  if category:         
    user = users.get_current_user()         
    if user:
      logout = users.create_logout_url(self.request.uri)         
      global visits          
      category = self.request.get('category')                         
      posts = db.GqlQuery("select * from Post where category=:1 order by created desc limit 30", category)         
      self.render("home.html", posts=posts, user=user, visits=visits, logout=logout) 
    else:
      self.redirect(users.create_login_url(self.request.uri)) 
```

# html - 为什么这里没有显示背景图像？

> ID：11238395
> 
> 赞同：1
> 
> 时间：2012-06-28T05:08:26.773
> 
> 标签：html, css

好吧，我不知道为什么这根本不起作用。似乎我的代码应该是这样，有人可以告诉我为什么我的背景图像显示不正确吗？

[http://imgur.com/V6X4u](http://imgur.com/V6X4u)

```
body {  
     font-family:arial;
     font-size:14px;
     background-image:url('worn_dots.png');   
     background-repeat:repeat;
     } 
```

出于某种原因，当我用网址替换 URL 时，背景会显示，但像这样却没有。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:13:53.940

你的背景图片被禁止看到这个，它的工作

**[演示](http://jsfiddle.net/nawazhi/hWvCK/4/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T05:11:56.290

你应该调用下面提到的代码： -

```
 body {  
         font-family:arial;
         font-size:14px;
         background:url('http://i.imgur.com/RECGP.png') repeat 0 0;

         } 
```

现在检查它的工作正常：- [http://jsfiddle.net/hWvCK/2/](http://jsfiddle.net/hWvCK/2/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T05:13:56.290

您的 CSS 无效：

```
http://i.imgur.com/RECGP.png

body {  
     font-family:arial;
     font-size:14px;
     background-image:url('http://i.imgur.com/RECGP.png');
     background-repeat:repeat;
     } 
```

只需删除不合适的网址：

```
body {  
     font-family:arial;
     font-size:14px;
     background-image:url('http://i.imgur.com/RECGP.png');
     background-repeat:repeat;
     } 
```

* * *

**此外**，当使用某些参考标头请求时，您正在使用的图像被阻止。

图像本身可以很好地访问：http: [//i.imgur.com/RECGP.png](http://i.imgur.com/RECGP.png)

在 JSBin 上，图像未被阻止：http: [//jsbin.com/ixibot](http://jsbin.com/ixibot)

然而，作为 JSFiddle 页面的一部分，它被阻止：[http ://fiddle.jshell.net/hWvCK/2/show/](http://fiddle.jshell.net/hWvCK/2/show/)

似乎这不仅限于JSFiddle（[http://forumserver.twoplustwo.com/55/about-forums/imgur-being-blocked-1184548/index2.html#postcount32237568](http://forumserver.twoplustwo.com/55/about-forums/imgur-being-blocked-1184548/index2.html#postcount32237568)）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-28T05:16:19.207

编辑：

根据您的屏幕截图，您的 css 位于 css 文件夹中，因此在 css 中的图像路径如下：

```
background-image:url(../worn_dots.png) 
```

由于您的图像存在于根文件夹中并且`css`存在于 css 文件夹中，因此请使用`../`在 css 中关联您的图像

# android - 语音识别侦听器在 Galaxy SII 中不起作用

> ID：11238396
> 
> 赞同：3
> 
> 时间：2012-06-28T05:08:27.790
> 
> 标签：android, voice-recognition

我正在开发一个始终听取用户声音的 Android 应用程序。当我在 Sony X10i 上运行它时，它可以工作，但在三星 Galaxy SII 上不起作用。这是我的代码：

```
 SpeechRecognizer     speechRecognizer;
    speechRecognizer = SpeechRecognizer.createSpeechRecognizer(getBaseContext());
    MyRecognitionListener speechListner=new MyRecognitionListener();
    speechRecognizer.setRecognitionListener(speechListner);
    speechRecognizer.startListening(RecognizerIntent.getVoiceDetailsIntent(getApplicationContext())); 
```

这是我的监听器类：

```
class MyRecognitionListener implements RecognitionListener {

    public void onBeginningOfSpeech() {
        Log.d("leapkh", "onBeginningOfSpeech");
    }

    public void onBufferReceived(byte[] buffer) {
        Log.d("leapkh", "onBufferReceived");
    }

    public void onEndOfSpeech() {
        Log.d("leapkh", "onEndOfSpeech");
    }

    public void onError(int error) {
        Log.d("leapkh", "onError");
    }

    public void onEvent(int eventType, Bundle params) {
        Log.d("leapkh", "onEvent");
    }

    public void onPartialResults(Bundle partialResults) {
        Log.d("leapkh", "onPartialResults");
    }

    public void onReadyForSpeech(Bundle params) {
        Log.d("leapkh", "onReadyForSpeech");
    }

    public void onResults(Bundle results) {
        Log.d("leapkh", "onResults");

    }

    public void onRmsChanged(float rmsdB) {
        Log.d("leapkh", "onRmsChanged");
    }
} 
```

在这种情况下，如何解决这个问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-29T04:00:59.570

我找到了解决方案。

`speechRecognizer.startListening()`将方法的参数更改`intent`为如下：

```
 Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);
    intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);
    intent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, getApplication().getPackageName());
    speechRecognizer.startListening(intent); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-07T13:13:22.307

更改意图传递的参数

```
{
Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);

 intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, "en");

 intent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE,
                this.getPackageName());

 intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,
                RecognizerIntent.LANGUAGE_MODEL_WEB_SEARCH);

 intent.putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 3);

    if (speech != null) {
            speech = null;

        }

        SpeechRecognizer speech SpeechRecognizer.createSpeechRecognizer(this);

        speech.setRecognitionListener(this);

        speech.startListening(intent); 
```

}

还要检查你得到的错误类型是不匹配，网络和服务器错误再次调用 startListening

```
 public void startListening() {
    try {

        if (SpeechRecognizer.isRecognitionAvailable(this)) {
            if (speech != null) {
                speech.startListening(intent);

            } else {
                SimpleMethod();
            }
        }
    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
} 
```

# c# - C#设置加载和保存

> ID：11238398
> 
> 赞同：1
> 
> 时间：2012-06-28T05:08:39.367
> 
> 标签：c#, winforms, settings

我尝试使用此代码加载和保存设置，但是当我关闭并重新运行程序时，设置未加载。默认情况下，设置为空白。我没有错误。

```
private void Form1_Load(object sender, EventArgs e)
{
      txtUsername.Text = Properties.Settings.Default.Username;
      txtPassword.Text = Properties.Settings.Default.Password;
}

private void Form1_FormClosing(object sender, FormClosingEventArgs e)
{
      Properties.Settings.Default.Username = txtUsername.Text;
      Properties.Settings.Default.Password = txtPassword.Text;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T05:11:16.760

尝试

```
private void Form1_FormClosing(object sender, FormClosingEventArgs e)
{
  Properties.Settings.Default.Username = txtUsername.Text;
  Properties.Settings.Default.Password = txtPassword.Text;
  Properties.Settings.Default.Save();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-28T05:11:24.700

[操作方法：使用 C# 在运行时编写用户设置](http://msdn.microsoft.com/en-us/library/bb397755.aspx) 如果要在应用程序会话之间持久保存对设置的更改，请调用 Save 方法，如下所示：

```
Properties.Settings.Default.Save(); 
```

您需要在结束时调用 Save()`Form1_FormClosing`

# sed - 需要将单个 sed 命令转换为一个 sed 脚本

> ID：11238401
> 
> 赞同：1
> 
> 时间：2012-06-28T05:08:55.447
> 
> 标签：sed

我的文件内容如下，所需的输出如下所示。使用单独的 sed 命令，我可以修改文件内容。说

``sed -i -e 's!<tag1>FIELD1</tag1>!<tag1>Replaced contents of field1</tag1>! filename``

但是我很难用单个 sed 脚本文件替换这些单独的命令。

`This is a sample file containing a few tags`

 ``<tag1>FIELD1</tag1>`
`<tag2>FIELD2</tag2>`

`<tag1>FIELD1 Do not change me</tag1>`
`<tag2>FIELD2 Do not change me</tag2>`` 

``<tag1>FIELD1 Do not change me</tag1>`
`<tag2>FIELD2 Do not change me</tag2>`` 

所需的输出是

`This is a sample file containing a few tags`

 ``<tag1>Replaced contents of field1</tag1>`
`<tag2>Replaced contents of field2</tag2>`
`<tag2>Some addition to field2</tag2>`

`<tag1>FIELD1 Do not change me</tag1>`
`<tag2>FIELD2 Do not change me</tag2>`` 

``<tag1>FIELD1 Do not change me</tag1>`
`<tag2>FIELD2 Do not change me</tag2>`` 

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T05:16:36.537

您可以链接`-e`表达式。

例如：

```
sed -e 's!<tag1>FIELD1</tag1>!<tag1>Replaced contents of field1</tag1>!g' -e 's!<tag2>FIELD2</tag2>!<tag2>Replaced contents of field2</tag2>\n<tag2>Some addition to field2</tag2>!g' filename 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T05:51:04.820

```
tag=(  "tag1"          "tag2" )
find=( "FIELD1"        "FIELD2" )
repl=( "Replacement 1" "Replacement 2" )
regex=
I=$'\x01' # sed delimiter
for (( i=0; i<${#find[@]}; i++ )) ;do
    regex+="s$I<${tag[i]}>${find[i]}</${tag[i]}>$I<${tag[i]}>${repl[i]}</${tag[i]}>${I}g;"
done
sed "$regex" "$file" 
```

您可能需要也可能不需要或需要`g`在每个表达式的末尾。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T00:31:36.187

这对我有用。

sed_script 文件（一个文件）

``/<tag1>FIELD1<\/tag1>/s!<tag1>FIELD1</tag1>!<tag1>Replaced contents of field1</tag1>!`
`/<tag2>FIELD2<\/tag2>/c\`
`<tag2\>Replaced contents of field2</tag2>\`
`<tag2\>Some addition to field2</tag2>``

# iphone - ipad sdk 的日历控件

> ID：11238403
> 
> 赞同：0
> 
> 时间：2012-06-28T05:09:07.697
> 
> 标签：iphone, xcode, ipad, sdk, calendar

我正在使用 4.2 sdk 版本。

是否有任何类似于 ipad 日历应用程序的日历视图控件？我在 iphone 上使用[Kal](http://klazuka.tumblr.com/post/315035813/kal-a-calendar-component-for-the-iphone)，但它似乎不适用于 ipad 版本。ipad还有东西吗？

如果使用 Kal 则不等同于 ipad。请参阅下面的示例图片

![在此处输入图像描述](../Images/29bcb393bb5da2b24932b066e622208b.png)

提前致谢...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T06:23:04.483

我做到了。我只是手动修改了一些代码，我使用了 Kal 项目。最后我得到了正确的解决方案。

立即在 iPad 中查看我的日历图像

![在此处输入图像描述](../Images/3a3ceebcd2a712c2f0d11fe2bece5544.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:18:57.903

我认为您也可以在 iPad 上使用相同的框架。但是如果检测到 iPad 设备，您将必须再次设置 KalView 的框架。所以您将有两个不同的框架用于 iPhone 和 iPad。

还有一件事，您的 KalView 类中有一个方法。通过它，您将看到一个名为：

```
- (id)initWithFrame:(CGRect)frame delegate:(id<KalViewDelegate>)theDelegate logic:     (KalLogic *)theLogic
{
 //change the size for content view
} 
```

# css - gwt中建议框的滚动错误

> ID：11238408
> 
> 赞同：0
> 
> 时间：2012-06-28T05:09:42.670
> 
> 标签：css, gwt, scroll, suggestbox

我正在我的 gwt 项目中创建 Suggestbox。我使用 css 技巧在我的建议弹出窗口上添加了一个滚动条，如下所示，

```
.suggestPopupContent{
 height: 183px;    
overflow-y: scroll;
text-align                   :    left;
cursor                       :    pointer;
cursor                       :    hand ; 
```

}

它有效，但有一个错误：如果您使用箭头键浏览选项，滚动不会跟随。请帮我解决这个错误。谢谢拉胡尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-28T01:21:27.240

请参阅其他问题/答案（[https://stackoverflow.com/a/24235088/1357094](https://stackoverflow.com/a/24235088/1357094)）以获取使用您已有的相同 CSS 的解决方案，但不必像 @DonX 的答案那样侵入 SuggestBox：相反，它扩展了 SuggestBox，而且相对简单。

# java - 从单词中删除字符以使缩减后的单词仍然是字典中的单词的算法

> ID：11238409
> 
> 赞同：10
> 
> 时间：2012-06-28T05:09:50.547
> 
> 标签：java, algorithm, recursion, anagram

这是场景，给定一个单词，在每个步骤中从单词中删除一个字符，这样减少的单词仍然是字典中的单词。继续直到没有字符。

这是一个问题：您需要删除正确的字符，例如。在一个单词中可能有两个可能的字符可以被删除，并且两者都可能导致缩减后的单词成为有效单词，但在稍后阶段，一个可能会缩减到最后，即没有字符留下，而另一个可能挂断。

例子：

*   行星
*   植物
*   喘气
*   平底锅
*   一个
*   一个

或者

*   行星
*   飞机
*   车道
*   不可能进一步，假设 lan 不是一个词。希望你明白了。

请查看我的代码，我使用递归，但想知道是否有更有效的解决方案来做同样的事情。

```
public class isMashable
{

  static void initiate(String s)
  {
    mash("", s);
  }

  static void mash(String prefix, String s)
  {
    int N = s.length();
    String subs = "";

    if (!((s.trim()).equals("")))
      System.out.println(s);

    for (int i = 0 ; i < N ; i++)
    {
      subs = s.substring(0, i) + s.substring(i+1, N);
      if (subs.equals("abc")||subs.equals("bc")||subs.equals("c")||subs.equals("a")) // check in dictionary here
        mash("" + s.charAt(i), subs);
    }
  }

  public static void main(String[] args)
  {
    String s = "abc";
    initiate(s);
  }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:33:36.977

运行 BFS 算法。如果您可以删除多个字符，请将它们单独删除并放入优先级队列中，如果您想回溯路径，请保留指向父级的指针（您通过删除一个字符创建该单词的原始单词) 在节点 itslef 中的单词。而当你删除所有字符，终止并回溯路径，或者如果没有有效的方法，你将有一个空的优先级队列

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:54:07.593

我在几个项目中使用了[Porter Stemming——](http://tartarus.org/~martin/PorterStemmer/)这当然只会帮助你修剪单词的结尾。

> Porter 词干算法（或“Porter stemmer”）是一种从英语单词中去除常见的形态和屈折词尾的过程。它的主要用途是作为通常在设置信息检索系统时完成的术语规范化过程的一部分。

[MF Porter, 1980, An algorithm for suffix stripping, Program, 14(3) pp 130−137](http://tartarus.org/~martin/PorterStemmer/def.txt)重印。

Martin 甚至在他的网站上[提供了 Java 版本。](http://tartarus.org/~martin/PorterStemmer/java.txt)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T09:29:56.937

干得好。mash 方法将使用传递给构造函数的字典为任何给定字符串找到解决方案（字典单词列表）。如果没有解决方案（以一个字母单词结尾），该方法将返回 null。如果您对所有部分解决方案感兴趣（在到达一个字母单词之前结束），您应该稍微调整一下算法。

字典被假定为一组大写字符串。您当然可以改用自己的类/接口。

```
import java.util.ArrayList;
import java.util.List;
import java.util.Set;

public class WordMash {

    private final Set<String> dictionary;

    public WordMash(Set<String> dictionary) {
        if (dictionary == null) throw new IllegalArgumentException("dictionary == null");
        this.dictionary = dictionary;
    }

    public List<String> mash(String word) {
        return recursiveMash(new ArrayList<String>(), word.toUpperCase());
    }

    private List<String> recursiveMash(ArrayList<String> wordStack, String proposedWord) {
        if (!dictionary.contains(proposedWord)) {
            return null;
        }
        wordStack.add(proposedWord);

        if (proposedWord.length() == 1) {
            return wordStack;
        }

        for (int i = 0; i < proposedWord.length(); i++) {
            String nextProposedWord = 
                proposedWord.substring(0, i) + proposedWord.substring(i + 1, proposedWord.length());    
            List<String> finalStack = recursiveMash(wordStack, nextProposedWord);
            if (finalStack != null) return finalStack;
        }

        return null;
    }

} 
```

例子：

```
Set<String> dictionary = new HashSet<String>(Arrays.asList(
        "A", "AFRICA", "AN", "LANE", "PAN", "PANT", "PLANET", "PLANT"
));
WordMash mash = new WordMash(dictionary);

System.out.println(mash.mash("planet"));
System.out.println(mash.mash("pant"));

System.out.println(mash.mash("foo"));
System.out.println(mash.mash("lane"));
System.out.println(mash.mash("africa")); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-10-16T02:07:33.760

这是一种使用深度优先搜索的算法。给定一个单词，您检查它是否有效（在字典中）。如果它有效，则从每个索引处的字符串中删除一个字符，并递归地检查“chopped”单词是否再次有效。如果切碎的单词在任何时候都无效，则说明您走错路并返回上一步。

```
import java.util.HashSet;
import java.util.Set;

public class RemoveOneCharacter {
    static Set<String> dict = new HashSet<String>();

    public static boolean remove(String word){
        if(word.length() == 1)
            return true;

        if(!dict.contains(word))
            return false;

        for(int i=0;i<word.length();i++){
            String choppedWord = removeCharAt(word,i);
            boolean result = remove(choppedWord);
            if(result)
                return true;
        }
        return false;
    }

    public static String removeCharAt(String str, Integer n) {
        String f = str.substring(0, n);
        String b = str.substring(n+1, str.length());
        return f + b;
    }

    public static void main(String args[]){
        dict.add("heat");
        dict.add("eat");
        dict.add("at");
        dict.add("a");

        dict.add("planets");
        dict.add("planet");
        dict.add("plant");
        dict.add("plane");
        dict.add("lane");
        dict.add("plants");
        dict.add("pant");
        dict.add("pants");
        dict.add("ant");
        dict.add("ants");
        dict.add("an");

        dict.add("clean");
        dict.add("lean");
        dict.add("clan");
        dict.add("can");

        dict.add("why");

        String input = "heat";
        System.out.println("result(heat) " + remove(input));
        input = "planet";
        System.out.println("result(planet) " + remove(input));
        input = "planets";
        System.out.println("result(planets) " + remove(input));
        input = "clean";
        System.out.println("result(clean) " + remove(input));
        input = "why";
        System.out.println("result(why) " + remove(input));
        input = "name";
        System.out.println("result(name) " + remove(input));

    }

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-28T08:24:39.540

用单词中的给定字符创建一个`trie`（或`suffix tree`）（不允许重复），并用字典检查 trie 的每个子树。这应该可以帮助你。

供参考访问

*   [后缀树](http://en.wikipedia.org/wiki/Suffix_tree)
*   [特里](http://en.wikipedia.org/wiki/Trie)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-28T07:40:35.250

好吧，它不是 Java，只是 JavaScript，但也许你可以转换它：

[http://jsfiddle.net/BA8PJ/](http://jsfiddle.net/BA8PJ/)

```
function subWord( w, p, wrapL, wrapR ){
  return w.substr(0,p)
      + ( wrapL ? (wrapL + w.substr(p,1) + wrapR ):'')
      + w.substr(p+1);
}

// wa = word array:         ['apple','banana']
// wo = word object/lookup: {'apple':true,'banana':true}
function initLookup(){
  window.wo = {};
  for(var i=0; i < wa.length; i++) wo[ wa[i] ] = true;
}

function initialRandomWords(){
  // choose some random initial words
  var level0 = [];
  for(var i=0; i < 100; i++){
    var w = wa[ Math.floor(Math.random()*wa.length) ];
    level0.push({ word: w, parentIndex:null, pos:null, leaf:true });
  }
  return level0;
}

function generateLevels( levels ){
  while(true){
    var nl = genNextLevel( levels[ levels.length-1 ]);
    if( ! nl ) break;
    levels.push( nl );
  }
}

function genNextLevel( P ){ // P: prev/parent level
  var N = [];               // N: next level
  var len = 0;
  for( var pi = 0; pi < P.length; pi ++ ){
    pw = P[ pi ].word; // pw: parent word
    for( var cp = 0; cp < pw.length; cp++ ){ // cp: char pos
      var cw = subWord( pw, cp ); // cw: child word
      if( wo[cw] ){
        len++;
        P[ pi ].leaf = false;
        N.push({ word: cw, parentIndex:pi, pos:cp, leaf:true });
      }
    }
  }
  return len ? N : null;
}

function getWordTraces( levels ){
  var rows = [];
  for( var li = levels.length-1; li >= 0; li-- ){
    var level = levels[ li ];
    for( var i = 0; i < level.length; i++ ){
      if( ! level[ i ].leaf ) continue;
      var trace = traceWord( li, i );
      if( trace.length < 2 ) continue;
      rows.push( trace );
    }
  }
  return rows;
}

function traceWord( li, i ){
  var r = [];
  while(true){
    var o = levels[ li ][ i ];
    r.unshift( o );
    i = o.parentIndex;
    if( !i ) break;
    li--;
    if( li < 0 ) break;
  };
  return r;
}

function compareTraces( aa, bb ){
  var a = aa[0].word, b = bb[0].word;
  if( a == b ){
    if( aa.length < bb.length ) return -1;
    if( aa.length > bb.length ) return +1;
  }

  var len = Math.min( aa.length, bb.length )
  for( var i = 0; i < len; i++ ){
    var a = aa[i].word, b = bb[i].word;
    if( a < b ) return +1;
    if( a > b ) return -1;
  }

  if( aa.length < bb.length ) return -1;
  if( aa.length > bb.length ) return +1;

  return 0;
}

function prettyPrintTraces( rows ){
  var prevFirstWord = null;
  for( var ri = rows.length-1; ri >= 0; ri-- ){
    var row = rows[ ri ];

    if(  prevFirstWord != row[0].word  ){
      if( prevFirstWord ) $('body').append('<div class="sep"/>');
      prevFirstWord = row[0].word;
    }

    var $row = $('<div class="row"/>');
    for( var i = 0; i < row.length; i++ ){

      var w = row[i].word;
      var c = row[i+1];
      if( c )  w = subWord( w, c.pos, '<span class="cut">', '</span>');

      var $word = $('<div class="word"></div>').html( w ).toggleClass('last-word', w.length < 2 );
      $row.append( $word );
    }
    $('body').append( $row );
  }
};

function main(){
  initLookup();

  window.levels = [ initialRandomWords() ];

  generateLevels( levels );

  rows = getWordTraces( levels );

  rows.sort( compareTraces );

  prettyPrintTraces( rows );
} 
```

# java - 检测在java中返回哪个类

> ID：11238416
> 
> 赞同：0
> 
> 时间：2012-06-28T05:10:24.387
> 
> 标签：java

我需要检查一个条件，如果满足，我需要返回一个类，如果不满足，我需要返回另一个类

```
private <T> d(String example) {

        if(example.startsWith("example1"))
            return new example1();
        else if((example.startsWith("example2"))
            return new example2();

    } 
```

我不确定如何退货，请您解释一下。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:13:04.803

您应该为可以返回的两个对象返回一个超类或接口。如果您还没有为它们定义一个超类，您仍然可以返回`Object`并进行不太好的`instanceof`验证以了解哪个类已返回。

代码示例：

```
class SuperClass {
}

class MyClass1 extends SuperClass {
}

class MyClass2 extends SuperClass {
}

private SuperClass myMethod(String parameter) {
    SuperClass sc = null;
    //just trying some code, this could be replaced for your logic
    if (parameter.equals("1")) {
        sc = new MyClass1();
    } else {
        sc = new MyClass2();
    }
    return sc;
}

private void myOtherMethod(String parameter) {
    //some code here...
    SuperClass sc = myMethod(parameter);
    if (sc != null) {
        //securing the upcast...
        if (sc instanceof MyClass1) {
            //logic of MyClass1 instance...
        }
        if (sc instanceof MyClass2) {
            //logic of MyClass2 instance...
        }
    }
    //more logic over here...
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T05:14:17.443

在这种情况下，两个类的超类或接口必须相同，然后从函数返回该超类引用。

例如 -

```
class SuperClass {
// Variables

// Functions
}

class example1 extends SuperClass{

// Variables

// Functions

}

class example2 extends SuperClass{

// Variables

// Functions

}

private SuperClass d(String example) {

        if(example.startsWith("example1"))
            return new example1();
        else if((example.startsWith("example2"))
            return new example2();

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T05:25:49.810

```
private Object getObject(String example) throws ClassNotFoundException, IllegalAccessException, InstantiationException {
    if (example.startsWith("example1"))
        return Class.forName("example1ClassName").newInstance();
    if (example.startsWith("example2")) {
        return Class.forName("example2ClassName").newInstance();
    }
    return null;
} 
```

但是正如您所注意到的，这种方法会引发很多异常，所以要小心。您的类可能没有公共默认构造函数或一些类路径问题。它很敏感，需要强制转换操作才能使用返回值进行操作。好处是您没有任何继承/超类问题，并且可以使用任何类进行实例化。

# tsql - 加权平均字段

> ID：11238419
> 
> 赞同：2
> 
> 时间：2012-06-28T05:10:45.600
> 
> 标签：tsql, weighted-average

我对在 T-SQL 中进行计算完全陌生。我想我想知道什么是加权平均值，你如何在 T-SQL 中为一个字段做到这一点？

首先，据我所知，加权平均值只是将 2 列相乘，然后除以某物来平均。

在调用我们的一个 UDF 之后，这是我认为的计算字段的示例。现在，在我看来，这个领域也需要是一个加权平均......不知道从哪里开始把它变成一个加权平均。

所以最终这个UDF返回AverageCostG。我从我的角度调用 UDF，所以这里是 UDF 的胆量：

```
Set @AverageCostG = ((@AvgFullYear_Rent * @Months) +
                            (@PrevYearRent * @PrevYearMonths))
                            / @Term 
```

所以在我看来，我正在调用上面的 UDF 来取回 @AverageCostG

```
CREATE View MyTestView 
AS   
select v.*, --TODO: get rid of *, that's just for testing, select actual field names
        CalculateAvgRentG(d.GrossNet, d.BaseMonthlyRent, d.ILI, d.Increase, d.Term) as AverageRent_G,
....

from SomeOtherView v 
```

现在我需要在我的视图中使这个 AverageRent_G calc 字段也以某种方式成为加权平均值......

我是否需要知道他们想要加权什么，或者假设嘿，这很明显..我不知道我需要知道什么才能为这些人做加权平均......比如我需要什么规格（如果有的话）除了我根据 UDF 调用创建的这个计算之外的它们。我的意思是，除了将 2 个字段相乘并除以某个值以求平均值之外，我还必须做一些疯狂的选择连接或其他操作吗？我如何知道它们将用于加权平均中的哪些字段以及从哪里使用？我会公开承认我对 BI T-SQL 开发完全陌生，因为我是 ASP.NET MVC C#/Architect 开发人员......并且迷失在 T-SQL 中的这种计算内容中。

我曾尝试对此进行研究，但第一次需要一些基本的手，我现在头很痛，因为我不知道我需要从他们那里获得什么信息，然后该怎么做才能使该 calc 字段加权.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-08T05:25:15.480

他们必须告诉你权重因子是什么。这是我的猜测。

```
SUM([weight] * CalculateAvgRentG(...)) / SUM([weight]) 
```

# java - 运行 JSP 时出现异常

> ID：11238420
> 
> 赞同：0
> 
> 时间：2012-06-28T05:10:56.727
> 
> 标签：java, jsp, jsp-tags

在我的 tomcat5.5 服务器上运行任何 JSP 时出现此异常。我需要添加任何 JAR 吗？请帮忙。

堆栈跟踪：

```
DEBUG http-8181-Processor25 org.apache.catalina.loader.WebappClassLoader -   Loading class from parent
FATAL http-8181-Processor25 org.apache.jasper.runtime.JspFactoryImpl - Exception initializing page context

java.lang.NoSuchMethodError: org.apache.tomcat.util.http.ServerCookie.appendCookieValue(Ljava/lang/StringBuffer;ILjava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;IZZ)V
    at org.apache.catalina.connector.Response.addCookieInternal(Response.java:970)
    at org.apache.catalina.connector.Request.doGetSession(Request.java:2285)
    at org.apache.catalina.connector.Request.getSession(Request.java:2031)
    at org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:832)
    at org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:843)
    at org.apache.jasper.runtime.PageContextImpl._initialize(PageContextImpl.java:136)
    at org.apache.jasper.runtime.PageContextImpl.initialize(PageContextImpl.java:113)
    at org.apache.jasper.runtime.JspFactoryImpl.internalGetPageContext(JspFactoryImpl.java:105)
    at org.apache.jasper.runtime.JspFactoryImpl.getPageContext(JspFactoryImpl.java:62)
    at org.apache.jsp.banner_jsp._jspService(banner_jsp.java:33)
    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)
    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)
    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875)
    at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)
    at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)
    at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)
    at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)
    at java.lang.Thread.run(Thread.java:619)
DEBUG http-8181-Processor25 org.apache.catalina.loader.WebappClassLoader - loadClass(javax.servlet.jsp.PageContext, false) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:30:28.843

检查您是否`tomcat-coyote.jar`在`$CATALINA_BASE/shared/lib/`文件夹中。如果以某种方式存在，则在启动服务器时未将其加载到类路径。检查你在 conf/catalina.properties 中有这一行

```
server.loader=${catalina.home}/server/classes,${catalina.home}/server/lib/*.jar 
```

如果是，那么您可能需要更新。你用的是什么环境。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:14:06.543

我认为问题更多是您正在使用的 jar 版本或您在类路径中的 jar。由于所需的方法不可用，它试图指向正确的类版本。您的类路径中已经设置了哪些所有 jar？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:14:27.707

你不会错过任何罐子。否则你会得到`ClassNotFound exception`. `NoSuchMethodError`表示罐子不兼容。您是否有任何机会更改（或从不同位置复制）/lib 中的 jar 文件，尤其`jasper*.jar, tomcat-coyote`是？

# iphone - iOS CoreImage 边缘检测

> ID：11238421
> 
> 赞同：2
> 
> 时间：2012-06-28T05:11:03.370
> 
> 标签：iphone, ios, ipad, core-graphics, quartz-graphics

我正在编写一个 iOS，我需要能够在图像中进行边缘检测。我实际上想要类似于 Photoshop 的跟踪轮廓的东西。因为我基本上需要得到最简单的一组线来使用.. 事情是我似乎无法弄清楚如何去做，坦率地说我对 OpenCV 没有兴趣，因为我今天花了 5 个小时试图获得 10 或所以我下载了它的拉链以任何形式或形式进行编译。所以我希望也许有人可以指出我使用操作系统内置的正确方法..或者也许是一个例子

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:16:24.667

如果自己没有使用过，但是您是否正在寻找这样的[东西](http://code.google.com/p/simple-iphone-image-processing/)？它基本上是一个 C++ 包装器，它声明了一个名为`ImageWrapper *cannyEdgeExtract(float tlow, float thigh)`.

# ruby-on-rails - 多态 Ruby SimpleDelegator

> ID：11238428
> 
> 赞同：1
> 
> 时间：2012-06-28T05:12:10.423
> 
> 标签：ruby-on-rails, ruby, oop, delegates, polymorphism

`SimpleDelegator`在不修改底层对象的情况下利用多态性的替代方法是什么。

这是一个例子，`SimpleDelegator`没有解决的问题。

目的是能够将原始对象 ( `delicious_food`) 与任何其他 ( `yak_food`) 包装在一起，以便替代方法 ( `delicious?`) 依赖于底层的非替代方法。

```
class Food
  def initialize(color)
    @color = color
  end

  def delicious?
    color == :red
  end

  def color
    @color
  end
end

class FoodTasteOverride < SimpleDelegator
  def color
    :green
  end
end

delicious_food = Food.new(:red)
yak_food = FoodTasteOverride.new delicious_food

delicious_food.delicious? # true - expected
yak_food.delicious? # expecting false, but is true since the color come from delicious_food 
```

实际使用替代方法的替代方法是什么？限制是您不能修改底层对象、它的类或克隆。

约束意味着您不能这样做：

```
yak_food = delicious_food.clone
def yak_food.color
  :green
end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T15:15:17.867

另一种方法是使用extend 扩展实例的方法。（这是大多数 DCI 实现在运行时扩展具有行为的对象所做的）

```
class Food

  attr_reader :color

  def initialize(color)
    @color = color
  end

  def delicious?
    self.color == :red
  end

end

module FoodTasteOverride
  def color
    :green
  end
end

normal_food = Food.new(:red)
delicious_food = Food.new(:red)
yak_food = normal_food.extend(FoodTasteOverride)

puts delicious_food.delicious? # true - expected
puts yak_food.delicious? #false because the color is now green. 
```

# objective-c - UIActionSheet 始终位于视图顶部

> ID：11238429
> 
> 赞同：2
> 
> 时间：2012-06-28T05:12:21.780
> 
> 标签：objective-c, ios, uiactionsheet

我已经实现了一个 Pin-Lock viewController，这样每次应用程序激活时，都会显示 Pass-Lock 视图。

```
-(void)applicationDidBecomeActive:(UIApplication *)application 
{

    //--- showing Pass-Lock View
} 
```

但是，在退出活动时，如果有任何`UIActionSheet`显示（应用程序中的任何位置）。在恢复应用程序时，Pass-Lock 视图与`UIActionSheet`.

到目前为止，我已经实现了一个“ `UIApplicationWillResignActiveNotification`”，但这是一种观点所特有的。所以我必须在整个应用程序中实现。

任何人都可以提出更好的解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:44:14.010

您不需要为此使用通知。因为，我们已经在应用程序委托类中有一些委托方法。这些代表将根据申请状态进行调用。这将适用于整个应用程序。因此，您可以继续处理这些代表。

# java - Java输入错误

> ID：11238432
> 
> 赞同：0
> 
> 时间：2012-06-28T05:12:42.933
> 
> 标签：java, awt

好吧，我放弃了。我已经做了几年 C++ 程序员，但我尝试学习 Java，因为它是一种流行的语言。在我学习的过程中，我学到了很多东西，但最终我开始玩弄并尝试使用输入系统，这样当我点击这个红色菱形多边形时，它会变成绿色，但经过几天令人沮丧的日子...... nada。我仍然只有一颗红色钻石。它可能是非常小的东西，但我找不到它

```
import java.awt.*;
import java.awt.event.*;
import java.applet.*;

public class Vici extends Applet
{
    /**
     * 
     */
    private static final long serialVersionUID = 1L;
    private Space castle;

    public Vici()
    {
        castle = new Space();
        castle.addMouseListener(new SpaceInput());
    }

    public void paint(Graphics g)
    {
        Graphics2D g2d = (Graphics2D)g;

        int width = getSize().width;
        int height = getSize().height;

        g2d.setColor(Color.BLACK);
        g2d.fillRect(0, 0,  width, height);

        castle.paint(g2d);

    }

    class SpaceInput implements MouseListener
    {

        public void mouseEntered(MouseEvent m) { }
        public void mouseExited(MouseEvent m) { }
        public void mouseReleased(MouseEvent m)
        {
            switch(m.getButton())
            {
                case MouseEvent.BUTTON1:
                    castle.setColor(Color.GREEN);
                    castle.repaint();
                    repaint();
            }
        }
        public void mouseClicked(MouseEvent m)
        {
            switch(m.getButton())
            {
                case MouseEvent.BUTTON1:
                    castle.setColor(Color.GREEN);
                    castle.repaint();
                    repaint();
            }
        }
        public void mousePressed(MouseEvent m)
        {
            switch(m.getButton())
            {
                case MouseEvent.BUTTON1:
                    castle.setColor(Color.GREEN);
                    castle.repaint();
                    repaint();
            }
        }
    }

}

import java.awt.*;
import java.awt.event.*;
import java.awt.geom.*;

public class Space extends Canvas 
{
    private Polygon poly;
    private Color c;
    private int[] polyX = { 0, 24, 0, -24 };
    private int[] polyY = { 24, 0, -24, 0 };

    public void init()
    {
        poly = new Polygon( polyX, polyY, polyX.length);
        c = Color.red;
    }

    Space()
    {
        init();
    }

    void setColor(Color c)
    {
        this.c = c;
    }

    public void paint(Graphics g)
    {       
        Graphics2D g2d = (Graphics2D)g;

        AffineTransform identity = new AffineTransform();

        g2d.setTransform(identity);

        g2d.translate(100, 100);

        g2d.setColor(c);
        g2d.fill(poly);
    }

    public void update( Graphics g )
    {
        paint( g );
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:43:08.477

我摆脱了无关的“SpaceInput”类，并将鼠标侦听器添加到小程序（不是“城堡”）。一切正常:)

```
public class Vici extends Applet implements MouseListener
{

    private static final long serialVersionUID = 1L;
    private Space castle;

    public Vici()
    {
        castle = new Space();
        // castle.addMouseListener(this);
        addMouseListener (this);
    }

    public void paint(Graphics g)
    {
        Graphics2D g2d = (Graphics2D)g;

        int width = getSize().width;
        int height = getSize().height;

        g2d.setColor(Color.BLACK);
        g2d.fillRect(0, 0,  width, height);

        castle.paint(g2d);

    }

    public void mouseEntered(MouseEvent m) {
System.out.println ("mouse entered...");
    }
    public void mouseExited(MouseEvent m) {
System.out.println ("mouse mouseExited...");            
    }
    public void mouseReleased(MouseEvent m)
    {
System.out.println ("mouse mouseReleased...");          
        switch(m.getButton())
        {
            case MouseEvent.BUTTON1:
                castle.setColor(Color.GREEN);
                castle.repaint();
                repaint();
        }
    }
    public void mouseClicked(MouseEvent m)
    {
System.out.println ("mouse mouseClicked...");           
        switch(m.getButton())
        {
            case MouseEvent.BUTTON1:
                castle.setColor(Color.GREEN);
                castle.repaint();
                repaint();
        }
    }

    public void mousePressed(MouseEvent m)
    {
System.out.println ("mouse mousePressed...");           
        switch(m.getButton())
        {
            case MouseEvent.BUTTON1:
                castle.setColor(Color.GREEN);
                castle.repaint();
                repaint();
        }
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:31:21.533

@Chaz Bertino -

我认为整个问题是使用“Canvas”（自 Java 1.2 以来已过时）与“JPanel”（替换自 J2SE 2.0 以来组合的旧“Panel”和“Canvas”）。

这是另一个表现如您预期的示例。主要区别在于它使用 Swing JPanel 而不是 AWT Canvas：

```
import java.applet.*;
import java.awt.*;
import javax.swing.*;
import java.awt.event.*;

public class HelloAWT extends Applet {

    private Diamond diamond;
    private static final int height = 350;
    private static final int width = 350;

    public void init () {
        setBackground(Color.green);
        resize (width, height);
        diamond = new Diamond ();
        diamond.init (Color.green);
        add(diamond);
    }

    public void paint(Graphics g)
    {
System.out.println ("HelloAWT@paint()...");
        String msg = "Hello AWT!";
        g.setFont(new Font ("Arial", Font.BOLD, 18));
        FontMetrics fm = g.getFontMetrics ();
        int x = (getWidth() - fm.stringWidth(msg)) / 2;
        int y = (getHeight() / 2) + 50;
        g.drawString(msg, x, y);
        diamond.repaint ();
    }
}

class Diamond extends JPanel implements MouseListener {
    private static final int height = 100;
    private static final int width = 100;
    private Color c = Color.red;
    private Color bkgd;
    private int[] polyX;
    private int[] polyY;
    private Polygon poly;

    public void init (Color bkgd) {
System.out.println ("Diamond@init(): bkgd=" + bkgd + "...");        
        setPreferredSize (new Dimension(width, height));
        this.bkgd = bkgd;
        polyX = new int[] { width/2, width, width/2, 0 };
        polyY= new int[] { 0, height/2, height, height/2 };
System.out.println ("polyX=" + polyX[0] + "," + polyX[1] + "," + polyX[2] + "," + polyX[3] + "...");        
System.out.println ("polyY=" + polyY[0] + "," + polyY[1] + "," + polyY[2] + "," + polyY[3] + "...");        
        poly = new Polygon( polyX, polyY, polyX.length);
        addMouseListener (this);
    }

    public void paint(Graphics g)
    {       
System.out.println ("Diamond()@paint(), bounds=" + getHeight() + "," + getWidth () + "...");
        Graphics2D g2d = (Graphics2D)g;
        g2d.setColor(bkgd);
        g2d.fillRect(0, 0, width, height);
        g2d.setColor(c);
        g2d.fill(poly);
    }

    public void mouseEntered(MouseEvent m) {
System.out.println ("mouseEntered()...");
    }

    public void mouseExited(MouseEvent m) {
System.out.println ("mouseExited()...");            
    }

    public void mouseReleased(MouseEvent m) {
System.out.println ("mouseReleased()...");          
    }

    public void mouseClicked(MouseEvent m) {
System.out.println ("mouseClicked(), current color=" + c + "...");
        if (c == Color.red)
            c = Color.blue;
        else
            c = Color.red;
        repaint ();
    }

    public void mousePressed(MouseEvent m) {
System.out.println ("mousePressed()...");           
    }

} 
```

# c# - 将 Sql 语句转换为 Linq 以用于 C#、Entity Framework、MVC3

> ID：11238439
> 
> 赞同：0
> 
> 时间：2012-06-28T05:14:11.307
> 
> 标签：c#, asp.net-mvc-3, linq, entity-framework-4.1

我需要将 sql 语句转换为 linq 查询。

下面的代码标记了我的问题区域 -

```
public class MyObjectController : Controller
{
    private EFDbContext db = new EFDbContext();
    private IObjectRepository objRepo;

    public MyObjectController(IObjectRepository objectRepository)
    {
        objRepo = objectRepository;
    }

    //
    // GET: /Client/MyObject/

    public ActionResult Index()
    {
        if (User.Identity.IsAuthenticated)
        {
            MembershipUser currentUser = Membership.GetUser(User.Identity.Name, true);

            if (currentUser != null && currentUser.ProviderUserKey != null && currentUser.IsApproved)
            {
                var currentUserId = (Guid)currentUser.ProviderUserKey;

<========HOW TO EXECUTE IN LINQ==================>
             Object result = (from obj in objRepo
                             where obj.ObjId == currentUserId
                             select obj).FirstOrDefault();
<========HOW TO EXECUTE IN LINQ==================>

             return View(result);
            }                
        }
        return View();

    } 
```

只是为了澄清一下-我想要更像这样的东西，但我不知道如何正确使用语法：

```
Object myObj = moveRepo.Objects
                    .Where(m => m.ObjectId)
                    .Equals(m => currentUserId)
                return View(myObj); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:18:33.993

您正在使用 LINQ，但我没有看到任何 SQL 语句。可能您想修改 LINQ 语句以使其正常工作。在您的查询中，您需要指定数据上下文和表。

```
var result = (from obj in yourDataContext.yourEntity
             where obj.ObjId == currentUserId
             select obj).FirstOrDefault(); 
```

如果找到该查询将为您提供记录，否则为 null

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T05:23:35.613

看看[LINQpad](http://www.linqpad.net/)。

我发现它非常有用，并且非常适合检查您的 linq 是否正在执行您习惯使用 SQL 的操作。

# java - Java——静态和动态类型——“这打印什么？”

> ID：11238441
> 
> 赞同：3
> 
> 时间：2012-06-28T05:14:27.783
> 
> 标签：java, oop, inheritance, dynamic, static

所以我在理解这个在课堂上展示的例子时遇到了一些麻烦——它应该说明 Java 中静态和动态类型之间的微妙之处。

```
public class Piece {

    public static void main (String[] args) {
        Piece p2 = new Knight();
        Knight p1 = new Knight();
        p1.capture(p2); // call 1; "Knight is bored" is supposed to be printed
        p2.capture(p1); // call 2; "knight is bored" is supposed to be printed
    }

    public void capture () {
        System.out.println("Capturing");
    }

    public void capture (Piece p) {
        System.out.println("I'm bored")
    }

public class Knight extends Piece {

    public void capture (Piece p) {
        System.out.println("Knight is bored");
    }

    public void capture (Knight k) {
        System.out.println("TOO SLOW BUDDY");
    }
} 
```

以下是我对拨打这两个电话时发生的情况的理解：

调用 1：p1.capture(p2)

从 p1 调用捕获方法。通过动态类型查找，它看到 p1 的动态类型是**Knight**。所以它看起来在 Knight 子类中。p2 作为参数传入。要查看在 Knight 子类中调用哪个捕获方法，它会检查 p2 的**静态**类型，即**piece**。因此，打印了“Knight is Bored”。这是正确的输出，但我的推理是否正确？

调用 2：p2.capture(p1)

使用相同的推理，从 p2 调用捕获方法。通过动态类型查找，它看到 p2 的动态类型是**Knight**。所以它看起来在 Knight 子类中。p1 作为参数传入。要查看调用哪个捕获方法，它会查看 p1 的静态类型，即**Knight**。因此，打印“TOO SLOW BUDDY”。显然，我的推理是错误的，因为这不是真正印出来的。有什么方向吗？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T05:28:22.023

在第二次调用中，您只能调用 Piece 类的方法或其子类中的相同方法。这就是为什么它会调用 capture(Piece p) 而不是 capture(Knight k)。后者是特定于骑士类的。

例如，当我们有“List a = new Arraylist();”时，您只能调用在 List 中声明的方法，而不是在 ArrayList 中附加但外观相似的方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T05:30:00.337

当您`@Override`向 s 方法添加注释时，`Knight`它变得清晰。

```
public void capture (Knight k) {
    System.out.println("TOO SLOW BUDDY");
} 
```

这个方法没有被覆盖 -**它是新的**，在`Knight`类中添加。

所以它只能用于具有类型的对象`Knight`- 例如：`Knight k = new Knight();`

你没有这样的例子，这个方法被`Knight`作为`Knight`参数调用。你调用`capture`了 Knight with Piece 和 Piece with knight

```
 p1.capture(p2); // call 1; "Knight is bored" is supposed to be printed
    p2.capture(p1); // call 2; "knight is bored" is supposed to be printed
    p1.capture(p1); // call 3:  TOO SLOW BUDDY <- look here :) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-28T05:34:13.807

```
 p2.capture(p1); // call 2; "knight is bored" is supposed to be printed 
```

在这里，您正在调用 Piece 类对象的捕获方法，并且由于您已通过 p1(Knight) 类引用，它将调用 Knight 类的覆盖捕获方法。那是

```
 public void capture (Piece p) {
        System.out.println("Knight is bored");
    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-28T05:37:27.450

如果您运行以下代码 -

```
public class Piece {

public static void main (String[] args) {
    Piece p2 = new Knight();
    Knight p1 = new Knight();
    p1.capture(p2); 
    p2.capture(p1); 
}

public void capture () {
    System.out.println("Capturing");
}

public void capture (Piece p) {
    System.out.println("I'm bored");
} 
```

}

```
 class Knight extends Piece {

  //    public void capture (Piece p) {
  //        System.out.println("Knight is bored");
  //    }

public void capture (Knight k) {
    System.out.println("TOO SLOW BUDDY"+k);
} 
```

}

结果是——

我很无聊

我很无聊

所以动态查找检查子类是否覆盖了函数。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-28T05:27:02.903

我记得，我了解到“扩展”的意思是“将新的放在旧的上面但不删除它”，如果你“覆盖”该方法，它会像你描述的那样。在您的情况下，如果您调用“p1.capture(p1)”，它应该会导致“TOO SLOW BUDDY”（但我没有尝试过）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-28T05:27:45.307

我不认为这个示例告诉你 static 和 dynamic type 之间的区别。你甚至不需要考虑超类和子类。它只是告诉你方法定义。---> 只有当调用者、方法名、参数名和参数类型都相同时，才会调用正确的方法。

# xml - 无法在 xsl 中呈现项目符号列表

> ID：11238443
> 
> 赞同：0
> 
> 时间：2012-06-28T05:15:06.650
> 
> 标签：xml, xslt

我无法通过 xml/xsl 转换呈现项目符号列表。我希望输出是一个带有圆形项目符号的列表。

这是xml文件-

```
<bulletList name="list">
        <item>&#8226; Item1</item>
        <item>&#8226; Item2</item>
        <item>&#8226; Item3</item>
        <item>&#8226; Item4</item>
        <item>&#8226; Item5</item>
</bulletList> 
```

这是相应的 XSL -

```
<div class="sansIcon">
            <xsl:apply-templates select="content[@name='con1']" mode="impl_expandContent"/>

            <ul>
            <xsl:apply-templates select="bulletList[@name='list']" mode="impl_expandContent">
                <xsl:for-each select="item">
                    <li><xsl:value-of /></li>
                </xsl:for-each>
            </xsl:apply-templates>  
            </ul>

       </div> 
```

请帮忙！提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:26:37.687

这里`<xsl:value-of />`改为`<xsl:value-of select="text()"/>`

这样做，而不是对 bulletList 使用应用模板

```
<ul>
    <xsl:for-each select="bulletList[@name='list']/item">
        <li>
            <xsl:value-of select="text()"/>
        </li>
    </xsl:for-each>
</ul> 
```

## 编辑：

对于这种类型的 XML，

```
<item>Item1 - Description1</item>
<item>Item2 - Description2</item> 
```

使 Item1, Item2, .... 加粗。使用`substring-before()`和`substring-after()`

```
<li>
    <xsl:variable name="itemText" select="substring-before(text(), '-')"/>
    <b><xsl:value-of select="$itemText"/></b><xsl:value-of select="substring-after(text(), $itemText)"/>
</li> 
```

# linux - 仅为我自己禁用和重新启用地址空间布局随机化

> ID：11238457
> 
> 赞同：23
> 
> 时间：2012-06-28T05:17:16.737
> 
> 标签：linux, bash, aslr, virtual-address-space, sysctl

我想在我的系统（Ubuntu Gnu/Linux 2.6.32-41-server）上禁用地址空间布局随机化（ASLR），但是，如果我使用

```
sysctl -w kernel.randomize_va_space=0 
```

我想这个改变会影响系统上的所有用户。（这是真的吗？）我怎样才能将禁用 ASLR 的影响限制为仅对我自己作为用户，或者仅对我调用命令禁用的 shell 会话？

顺便说一句，我看到我系统的当前（默认）设置是

```
kernel.randomize_va_space = 2 
```

为什么是 2 而不是 1 或 3？在哪里可以找到有关 /proc/sys 设置的数值、范围和含义的文档？谢谢！

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2014-02-12T19:00:13.757

在基于 Linux 的系统上本地禁用 ASLR 的最佳方法是使用进程个性标志。操纵个性标志的命令[`setarch`](http://man7.org/linux/man-pages/man8/setarch.8.html)是

> `-R`,`--addr-no-randomize`
> 
> 禁用虚拟地址空间的随机化（打开 ADDR_NO_RANDOMIZE）。

以下是如何进行：

```
$> setarch $(uname -m) -R /bin/bash 
```

此命令运行已禁用 ASLR 的 shell。此过程的所有后代都将继承父亲的个性标志，因此具有禁用的 ASLR。打破标志继承的唯一方法是调用 setuid 程序（支持此类功能将是安全漏洞）。

请注意，`uname -m`这里不是硬编码您平台的体系结构并使此命令可移植。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-06-28T05:23:24.060

`randomize_va_space` **sysctl**设置的文档[`Documentation/sysctl/kernel.txt`](https://www.kernel.org/doc/Documentation/sysctl/kernel.txt)位于内核源代码树中。基本上，

> 0 - 关闭进程地址空间随机化。
> 
> 1 - 使 mmap 基址、堆栈和 VDSO 页的地址随机化。
> 
> 2 - 另外启用堆随机化。

# c# - cachemanager.contains vs cachemanager.getdata

> ID：11238461
> 
> 赞同：0
> 
> 时间：2012-06-28T05:18:29.440
> 
> 标签：c#, .net, .net-3.5

我有一种情况，我需要检查数据是否存在于缓存中，如果存在，我需要检索它或者将其添加到缓存中。

我在这里有两个选择。一个是我可以先调用它`CacheManager.Contains(key)`，如果它在那里，那么我会调用`CacheManager.GetData(key)`，否则我可以直接调用`CacheManeger.GetData(key)`并检查它的空值。我不确定哪个更好。在第一种方法中，这似乎是一种很好的做法，但我为同一件事打了两次电话。而在第二种方法中，我直接从缓存中检索数据而不进行检查。

这里的问题是哪一个是更好的实践，哪一个会提供更好的性能？如果您对两者的工作都提供很少的见解，那将非常有帮助。

谢谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T07:03:13.417

这有过早优化的味道。我非常怀疑性能差异是否会引起关注。

我个人会先检查组合`Contains`，然后检索该值（如果存在），因为我认为这更清楚地描述了您在做什么（对于维护您的代码的人类读者）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:32:07.470

两种情况没有太大区别。但是与第二个相比，第一个会消耗一点时间。第二个选项在性能方面要好得多，它将检索天气缓存是否有数据。然后检查它是否为 Null。这将消耗更少的时间。

# android - 无法在 android 4.0.3 模拟器中通过相机拍摄照片

> ID：11238468
> 
> 赞同：0
> 
> 时间：2012-06-28T05:19:53.590
> 
> 标签：android, android-emulator, mobile-application, android-4.0-ice-cream-sandwich

我是android开发的新手。我正在为 android 4.0.3 设备开发应用程序，在我的应用程序中我使用相机捕获图像。

当我在模拟器（android 4.0.3）中测试时，单击捕获按钮会显示以下消息`your sd card is full`。所以请帮我解决问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:21:52.737

您需要一个真实的设备来捕获图像。

# c++ - 一个简单的 pthread_create 在 Qt 中导致 100% 的 CPU 使用率

> ID：11238471
> 
> 赞同：1
> 
> 时间：2012-06-28T05:20:19.677
> 
> 标签：c++, c, linux, qt, pthreads

当一个简单的线程运行时只有一个无限循环导致 100% 的 CPU，这怎么可能？

我的线程调用如下在 Qt 对话框类中的 QEvent 上，单击按钮时说。

```
 pthread_t thread_id;
  pthread_create( &thread_id, NULL, DataCollectionThread, (void*) this ); 
```

我的线程程序是，

```
void* DataCollectionThread( void* pParam )
{
   ((m_DataCollection*)pParam)->m_ReadDatafromport();
   return NULL;
} 
```

而这`ReadData()`包含...

```
while(1)
{
} 
```

我的要求是从串口收集数据并连续绘制图表。但是由于 CPU 使用率为 100%，因此绘图之间的任何硬件中断都会导致绘图停止，因为`CPU`切换任务以处理中断。

我在一个`Qt::Dialog`基础类中调用这个线程。我很确定除此之外没有其他任何东西被触发。这有什么问题？一个简单的无限循环会导致 100% 的 CPU 消耗吗？或者在 Qt 中使用 pthread_create 有什么问题吗？

**编辑**：乔纳森·莱因哈特

这是实际的while循环

```
while( 1 )
    {

            while(( Dataisavailable))
            {
                 //push the read data to stack
            }

        if(!m_DataReadable)
            break;
      } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:46:29.867

与[协作多任务](http://en.wikipedia.org/wiki/Co-operative_multitasking#Cooperative_multitasking.2Ftime-sharing)不同，真正的操作系统支持的线程允许 CPU 中断像这样锁定的代码。所以你的电脑并没有*完全*死机。但是会发生一些退化。如果有工作要做，计算机没有一个很好的方法知道不尽力运行它给出的代码......缺少像[nice这样的调度工具](http://en.wikipedia.org/wiki/Nice_%28Unix%29)

有时，您可以通过“线程优先级”缓解此类问题引起的问题。Qt 有一个[QThread::setPriority()](http://doc.qt.nokia.com/4.7-snapshot/qthread.html#setPriority)抽象，但请注意它说：

> 优先级参数的效果取决于操作系统的调度策略。特别是，在不支持线程优先级的系统上，优先级将被忽略（例如在 Linux 上，有关详细信息，请参阅[http://linux.die.net/man/2/sched_setscheduler ）。](http://linux.die.net/man/2/sched_setscheduler)

似乎 Qt 人在 linux 下查看了线程优先级并[放弃了](http://lists.trolltech.com/qt-interest/2007-05/thread00746-0.html)。因此，如果那是您的平台，那么您可能应该只设计您的系统，使其不会像这样旋转。

我很好奇如果你换成`ReadData()`...

```
QMutex dummy;
while(1)
{
    QMutexLocker locker (&dummy);
} 
```

`sched_yield`（这是我尝试用刚才提到的@jweyrich更有效地完成的事情的方式。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T05:23:33.320

是的。

```
while(1) { } 
```

将执行以下操作：

```
1\. Does the number 1 equate to true?
2\. Yes.
3\. Go to 1. 
```

只要该线程正在执行，CPU 就会不断地执行此操作。你为什么要启动一个线程只是为了把它放在一个什么都不做的自旋循环中？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T05:46:10.733

解决这个问题的一个简单技巧：进入（短）睡眠时间，让 CPU 做其他事情。 `#include <ctime>`并在循环中添加某处：

```
struct timespec ts;
ts.tv_sec=0;
ts.tv_nsec=10000000; // 10 milliseconds
nanosleep(&ts, NULL); 
```

当然，如果您可以明确地休眠，直到您有实际工作要做（更多的输入要读取，一个完整的队列要修剪），那会更好。但增加短暂的睡眠可能就足够了。

`m_pDataProvider`查看对象的实现可能是有意义的。检查或添加一种方法，让您在有更多数据之前休眠。如果您只是从字符设备（例如 ttyS0）读取数据，`poll`或者`select`在这里可能有用。

# python - 在rpy2中打印摘要时如何摆脱代码

> ID：11238472
> 
> 赞同：2
> 
> 时间：2012-06-28T05:20:26.420
> 
> 标签：python, r, rpy2, anova

我写这段代码是为了得到 Dunnet anova post hoc test

```
import rpy2.robjects as ro
import rpy2.robjects.numpy2ri as npr
from rpy2.robjects.numpy2ri import numpy2ri as np2r
from rpy2.robjects.packages import importr
base = importr("base")
stats = importr('stats')
multcomp = importr('multcomp')

val = np2r(vFC)
exp = base.gl(4,6,24)
tiempo = base.factor(base.rep(base.c(0,2,5,10,15,30),4))

fmla = ro.Formula('val ~ tiempo + exp')
env = fmla.environment
env['val'] = val
env['tiempo'] = tiempo
env['exp'] = exp
anova = stats.aov(fmla)
print base.summary(anova)
Phoc = multcomp.glht(anova, linfct = ro.r('mcp(tiempo="Dunnet")'))
sPhoc = base.summary(Phoc)
print sPhoc 
```

工作正常，但在分析后形成输出我得到源代码，我怎样才能摆脱该代码并仅从 Dunnet 分析中获得最终表。

```
 Df Sum Sq Mean Sq F value   Pr(>F)    
tiempo       5  91172   18234   8.788 0.000464 ***
exp          3  49402   16467   7.936 0.002108 ** 
Residuals   15  31125    2075                     
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 

     Simultaneous Tests for General Linear Hypotheses

Multiple Comparisons of Means: Dunnett Contrasts

Fit: function (formula, data = NULL, projections = FALSE, qr = TRUE, 
    contrasts = NULL, ...) 
{
    Terms <- if (missing(data)) 
        terms(formula, "Error")
    else terms(formula, "Error", data = data)
    indError <- attr(Terms, "specials")$Error
    if (length(indError) > 1L) 
        stop(sprintf(ngettext(length(indError), "there are %d Error terms: only 1 is allowed", 
            "there are %d Error terms: only 1 is allowed"), length(indError)), 
            domain = NA)
    lmcall <- Call <- match.call()
    lmcall[[1L]] <- as.name("lm")
    lmcall$singular.ok <- TRUE
    if (projections) 
        qr <- lmcall$qr <- TRUE
    lmcall$projections <- NULL
    if (is.null(indError)) {
        fit <- eval(lmcall, parent.frame())
        if (projections) 
            fit$projections <- proj(fit)
        class(fit) <- if (inherits(fit, "mlm")) 
            c("maov", "aov", oldClass(fit))
        else c("aov", oldClass(fit))
        fit$call <- Call
        return(fit)
    }
    else {
        if (pmatch("weights", names(match.call()), 0L)) 
            stop("weights are not supported in a multistratum aov() fit")
        opcons <- options("contrasts")
        options(contrasts = c("contr.helmert", "contr.poly"))
        on.exit(options(opcons))
        allTerms <- Terms
        errorterm <- attr(Terms, "variables")[[1 + indError]]
        eTerm <- deparse(errorterm[[2L]], width.cutoff = 500L, 
            backtick = TRUE)
        intercept <- attr(Terms, "intercept")
        ecall <- lmcall
        ecall$formula <- as.formula(paste(deparse(formula[[2L]], 
            width.cutoff = 500L, backtick = TRUE), "~", eTerm, 
            if (!intercept) 
                "- 1"), env = environment(formula))
        ecall$method <- "qr"
        ecall$qr <- TRUE
        ecall$contrasts <- NULL
        er.fit <- eval(ecall, parent.frame())
        options(opcons)
        nmstrata <- attr(terms(er.fit), "term.labels")
        nmstrata <- sub("^`(.*)`$", "\\1", nmstrata)
        nmstrata <- c("(Intercept)", nmstrata)
        qr.e <- er.fit$qr
        rank.e <- er.fit$rank
        if (rank.e < length(er.fit$coefficients)) 
            warning("Error() model is singular")
        qty <- er.fit$residuals
        maov <- is.matrix(qty)
        asgn.e <- er.fit$assign[qr.e$pivot[1L:rank.e]]
        maxasgn <- length(nmstrata) - 1L
        nobs <- NROW(qty)
        if (nobs > rank.e) {
            result <- vector("list", maxasgn + 2L)
            asgn.e[(rank.e + 1):nobs] <- maxasgn + 1L
            nmstrata <- c(nmstrata, "Within")
        }
        else result <- vector("list", maxasgn + 1L)
        names(result) <- nmstrata
        lmcall$formula <- form <- update(formula, paste(". ~ .-", 
            deparse(errorterm, width.cutoff = 500L, backtick = TRUE)))
        Terms <- terms(form)
        lmcall$method <- "model.frame"
        mf <- eval(lmcall, parent.frame())
        xvars <- as.character(attr(Terms, "variables"))[-1L]
        if ((yvar <- attr(Terms, "response")) > 0L) 
            xvars <- xvars[-yvar]
        if (length(xvars)) {
            xlev <- lapply(mf[xvars], levels)
            xlev <- xlev[!sapply(xlev, is.null)]
        }
        else xlev <- NULL
        resp <- model.response(mf)
        qtx <- model.matrix(Terms, mf, contrasts)
        cons <- attr(qtx, "contrasts")
        dnx <- colnames(qtx)
        asgn.t <- attr(qtx, "assign")
        if (length(wts <- model.weights(mf))) {
            wts <- sqrt(wts)
            resp <- resp * wts
            qtx <- qtx * wts
        }
        qty <- as.matrix(qr.qty(qr.e, resp))
        if ((nc <- ncol(qty)) > 1) {
            dny <- colnames(resp)
            if (is.null(dny)) 
                dny <- paste0("Y", 1L:nc)
            dimnames(qty) <- list(seq(nrow(qty)), dny)
        }
        else dimnames(qty) <- list(seq(nrow(qty)), NULL)
        qtx <- qr.qty(qr.e, qtx)
        dimnames(qtx) <- list(seq(nrow(qtx)), dnx)
        for (i in seq_along(nmstrata)) {
            select <- asgn.e == (i - 1)
            ni <- sum(select)
            if (!ni) 
                next
            xi <- qtx[select, , drop = FALSE]
            cols <- colSums(xi^2) > 1e-05
            if (any(cols)) {
                xi <- xi[, cols, drop = FALSE]
                attr(xi, "assign") <- asgn.t[cols]
                fiti <- lm.fit(xi, qty[select, , drop = FALSE])
                fiti$terms <- Terms
            }
            else {
                y <- qty[select, , drop = FALSE]
                fiti <- list(coefficients = numeric(), residuals = y, 
                  fitted.values = 0 * y, weights = wts, rank = 0L, 
                  df.residual = NROW(y))
            }
            if (projections) 
                fiti$projections <- proj(fiti)
            class(fiti) <- c(if (maov) "maov", "aov", oldClass(er.fit))
            result[[i]] <- fiti
        }
        result <- result[!sapply(result, is.null)]
        class(result) <- c("aovlist", "listof")
        if (qr) 
            attr(result, "error.qr") <- qr.e
        attr(result, "call") <- Call
        if (length(wts)) 
            attr(result, "weights") <- wts
        attr(result, "terms") <- allTerms
        attr(result, "contrasts") <- cons
        attr(result, "xlevels") <- xlev
        result
    }
}(formula = val ~ tiempo + exp)

Linear Hypotheses:
            Estimate Std. Error t value Pr(>|t|)    
2 - 0 == 0     78.10      32.21   2.425  0.10346    
5 - 0 == 0    152.39      32.21   4.731  0.00113 ** 
10 - 0 == 0   140.06      32.21   4.348  0.00246 ** 
15 - 0 == 0   158.90      32.21   4.933  < 0.001 ***
30 - 0 == 0   180.73      32.21   5.611  < 0.001 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 
(Adjusted p values reported -- single-step method) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T23:01:23.867

如果我从高级接口使用字符串作为 R 代码，源代码就会消失

将此代码用于第三个块

```
ro.r.assign('val', val)
ro.r.assign('exp', exp)
ro.r.assign('tiempo', tiempo)
ro.r('anova <- aov(val ~ tiempo + exp)')
ro.r('s.anova <- summary(anova)')
ro.r('spHoc <- summary(glht(anova, linfct=mcp(tiempo="Dunnet")))')
print ro.r('s.anova')
print ro.r('spHoc')
ro.r('capture.output(s.anova, file = "anova.txt", append = TRUE)')
ro.r('capture.output(spHoc, file = "anova.txt", append = TRUE)') 
```

返回没有源代码的结果

```
 Df Sum Sq Mean Sq F value   Pr(>F)    
tiempo       5  91172   18234   8.788 0.000464 ***
exp          3  49402   16467   7.936 0.002108 ** 
Residuals   15  31125    2075                     
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 

     Simultaneous Tests for General Linear Hypotheses

Multiple Comparisons of Means: Dunnett Contrasts

Fit: aov(formula = val ~ tiempo + exp)

Linear Hypotheses:
            Estimate Std. Error t value Pr(>|t|)    
2 - 0 == 0     78.10      32.21   2.425  0.10306    
5 - 0 == 0    152.39      32.21   4.731  0.00110 ** 
10 - 0 == 0   140.06      32.21   4.348  0.00246 ** 
15 - 0 == 0   158.90      32.21   4.933  < 0.001 ***
30 - 0 == 0   180.73      32.21   5.611  < 0.001 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 
(Adjusted p values reported -- single-step method) 
```

我仍然不知道为什么当我使用低级接口时 rpy2 的行为是这样的，但是现在它可以工作了

# servlets - 将 poi 工作簿写入输出流正在生成奇怪的值

> ID：11238479
> 
> 赞同：6
> 
> 时间：2012-06-28T05:22:03.383
> 
> 标签：servlets, apache-poi

我的目标是创建一个 Excel 文件供用户通过 apache poi 下载。

我的 servlet 中有这段代码：

```
protected void doGet(HttpServletRequest request, 
              HttpServletResponse response) throws ServletException, IOException 
      {

            // create a workbook , worksheet
            Workbook wb = new HSSFWorkbook();
            Sheet sheet = wb.createSheet("MySheet");
            CreationHelper createHelper = wb.getCreationHelper();

            // Create a row and put some cells in it. Rows are 0 based.
            Row row = sheet.createRow((short)0);
            Cell cell = row.createCell(0);
            cell.setCellValue(1);
            row.createCell(1).setCellValue(1.2);
            row.createCell(2).setCellValue( createHelper.createRichTextString("This is a string") );
            row.createCell(3).setCellValue(true);

            //write workbook to outputstream
            ServletOutputStream out = response.getOutputStream();
            wb.write(out);
            out.flush();
            out.close();

            //offer the user the option of opening or downloading the resulting Excel file
            response.setContentType("application/vnd.ms-excel");
            response.setHeader("Content-Disposition", "attachment; filename=MyExcel.xls"); 
```

问题是我得到了这些奇怪的值：

> `...<em>MySheetŒ®üÿ » ÌÁ w dü©ñÒMbP?*+,€%ÿÁƒ„¡"d,,à?à?

有什么建议么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-28T05:52:51.337

发现有什么问题。HttpServletResponse 必须首先设置在其他任何东西之前

```
//offer the user the option of opening or downloading the resulting Excel file
        response.setContentType("application/vnd.ms-excel");
        response.setHeader("Content-Disposition", "attachment; filename=MyExcel.xls"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T05:56:51.577

您需要为每个单元格设置单元格类型，您可以使用：

```
cell.setCellType(Cell.CELL_TYPE_STRING ); 
```

[在此处](http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html)检查 api 以获取更多单元类型。

或者您也可以使用[DataFormatter](http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html)。

# java - 使用批处理文件运行 Java NIO 客户端 25k 次

> ID：11238483
> 
> 赞同：-2
> 
> 时间：2012-06-28T05:22:21.560
> 
> 标签：java, batch-file, client, nio

我想运行我的客户端程序 25,000 次。为此，我需要创建一个批处理文件。我只想测试我的服务器它将接受多少个连接而没有任何延迟。我正在使用`java. nio`. 有谁能够帮助我？

1.  我需要知道如何创建批处理文件来运行程序。

2.  如何使用java程序调用批处理文件。

3.  如何创建一个运行 java 程序 25,000 次的批处理文件。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:54:15.680

依次运行 25k 次：

```
for /l %%x in (1,1,25000) do (java -cp ... MyClass) 
```

并行运行 25000 次：

```
for /l %%x in (1,1,25000) do (start "" java -cp ... MyClass) 
```

如果您想限制并行度（对于如此高的数字，您*应该*这样做），那么您需要更多的逻辑。[这个答案](https://stackoverflow.com/questions/672719/parallel-execution-of-shell-processes/676667#676667)给出了一个例子。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T07:52:23.260

为什么不把循环*放在*你的客户端程序中呢？或者编写另一个调用它 25,000 次的类？但：

> 我只想测试我的服务器它将接受多少个连接而没有任何延迟

此测试不会测试，因为所有连接都是顺序的：每个先前的连接都由程序在下一个开始之前退出而关闭。如果您的服务器没有通过该测试，那么它就存在非常严重的问题。一个更有趣的测试是它可以处理多少*并发连接。*

# sql - REGEX_REPLACE 在 oracle 10g 中没有按预期工作

> ID：11238487
> 
> 赞同：1
> 
> 时间：2012-06-28T05:22:55.867
> 
> 标签：sql, regex, oracle10g

我`REGEX_REPLACE`在 Oracle 10g 中使用方法，但它没有替换字符串。

这是我正在（不成功）尝试的：

```
Select REGEX_REPLACE('Mathew, Sajan K ext (E IT S US 1)','\\([^\\)]+\\)','') "REGEXP_REPLACE" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:48:07.697

试试这个：

```
Select REGEX_REPLACE('Mathew, Sajan K ext (E IT S US 1)','\([^\)]+\)','') "REGEXP_REPLACE" 
```

请注意，我刚刚删除了多余的转义字符`\`，有些语言似乎要求您双重转义，有些则不需要。

参考：[Oracle SQL 数据库参考 REGEX_REPLACE](http://docs.oracle.com/cd/B19306_01/server.102/b14200/functions130.htm)

# rally - @rally.user.subscription.workspaces 返回 nil:NilClass 的未定义方法“workspaces”

> ID：11238498
> 
> 赞同：0
> 
> 时间：2012-06-28T05:24:52.313
> 
> 标签：rally

我知道我的用户 ID 在通过浏览器访问时在集会登录上设置了工作区，但是当通过 rest api 访问时，它不会返回该登录用户的任何订阅。

它是回到 Rally 配置还是需要 API 本身？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T16:18:42.960

当您设置 RallyRestAPI.new 时，您的基本 url 是什么？有时，如果那里有问题，它会这样做。确保它类似于： [https ://rally1.rallydev.com/slm](https://rally1.rallydev.com/slm)

希望有帮助。

# javascript - 创建一个具有动态扩展列数以适应屏幕大小的 html 表

> ID：11238501
> 
> 赞同：8
> 
> 时间：2012-06-28T05:25:54.010
> 
> 标签：javascript, jquery, html

我想在 HTML 表格中显示一长串数据（例如说州及其缩写）。而不是在 2 x 50 表中显示数据，我希望它更紧凑以适应更大的屏幕（因此用户不需要向上和向下滚动，但仍然不必水平滚动）

所以这会动态增长：

```
状态 | 抗体
------------------
阿拉巴马州 | 铝
阿拉斯加 | AK
亚利桑那 | AZ
阿肯色州 | 增强现实
加利福尼亚 | 加州
科罗拉多 | 一氧化碳
康涅狄格 | 电脑断层扫描

```

至：

```
状态 | 抗体 | 状态 | 抗体 |
--------------------------------------
阿拉巴马州 | 铝 | 加利福尼亚 | 加利福尼亚州 |
阿拉斯加 | AK | 科罗拉多 | 一氧化碳 |
亚利桑那 | 亚利桑那州 | 康涅狄格 | 计算机断层扫描 |
阿肯色州 | 增强现实 |

```

或这个：

```
状态 | 抗体 | 状态 | 抗体 | 状态 | 抗体 |
-------------------------------------------------- --------
阿拉巴马州 | 铝 | 阿肯色州 | 增强现实 | 科罗拉多 | 一氧化碳 |
阿拉斯加 | AK | 加利福尼亚 | 加利福尼亚州 | 康涅狄格 | 计算机断层扫描 |
亚利桑那 | 亚利桑那州 |

```

ETC....

取决于屏幕宽度。

我正在使用 jQuery 在 Rail 3 应用程序中执行此操作，因此我更喜欢 jQuery 解决方案，但对任何想法都持开放态度。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:35:58.843

这是一个无表解决方案的演示。它目前仅设置为在页面加载时排列列，并且需要一些小的添加来调整大小处理。

**演示：http: [//jsfiddle.net/DPRsj/](http://jsfiddle.net/DPRsj/)**

它基于我拥有的 json 数组，数组看起来像：

```
 [{"state":"AK","name":"Alaska"}........] 
```

无需解析 json 即可将 html 发送到页面，需要获取状态列表长度的细微差别

HTML：

```
<div id="state_wrap">
    <div id="state_header"></div>
    <div id="state_list"></div>   
</div> 
```

CSS：（非常基础）

```
.state{  width:150px;  border:1px solid grey; border-top:none}
.st_name{ width: 120px;float:left}
.st_ab{ width:30px; margin-left: 120px;}
#state_header .state{
    font-weight:bold;
    color:blue;
    margin-right:10px;
    width: 150px;
    float:left;
}
.column{ width: 152px; float:left;margin-right:10px;} 
```

JS：

```
$(function() {
    /* parse json to html*/
    var html = [];    
    $.each(states, function() {
        html.push(stateContainer(this.name, this.state));
    });    
    html.push('<div style="clear:both"></div>');    
    $('#state_list').html(html.join(''))
     /* END parse json to html*/

    var listW = 160, /* column width, including margin, set by css*/
        contW = $('#state_wrap').width();
    var num_cols = Math.floor(contW / listW)
    /* create headings*/
    var topHtml = [];
    for (i = 0; i < num_cols; i++) {
        topHtml.push(stateContainer('State', 'Abr'))
    }

    $('#state_header').html(topHtml.join(''));
    /*END create headings, START: create columns*/
    var start = 0,
        end = 0;
    var state_per_col = Math.floor(states.length / num_cols);
    var $states = $('#state_list .state')
    for (i = 0; i < num_cols; i++) {
        start = end;
        end = start + state_per_col + 1;
        $states.slice(start, end).wrapAll('<div class="column"></div>')
    }
});

function stateContainer(name, abr) {
    return '<div class="state"><div class="st_name">' + name + '</div><div class="st_ab">' + abr + '</div></div>';
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T05:41:13.063

找不到现成的解决方案，但这个功能应该可以解决问题！

```
/*
This function will create a table with fixed `COL_WIDTH' (default=150 px) 
that uses as many columns as can be fit into the HTML element with id `table_id'.

A one-dimensional array of values to fill the table with should be passed in as 
`data'.
*/
function fillScreenWithData(table_id, data, COL_WIDTH){
    if (!COL_WIDTH) COL_WIDTH = 150;

    TABLE = $(table_id);
    alert(TABLE);
    TABLE_STRING = "<table>"
    var doc_width = TABLE.width();
    var num_cols = Math.floor(doc_width / COL_WIDTH);
    var num_rows = Math.ceil(data.length / num_cols); 

    for (var i = 0; i < num_rows; i++){
        TABLE_STRING += "<tr>";
        for (var j = 0; j < num_cols; j++){
            TABLE_STRING += "<td>";
            index = i + j*num_rows;
            if (index < data.length) {
                TABLE_STRING += data[index];
            }
            TABLE_STRING += "</td>"
        }
        TABLE_STRING += "</tr>"
    }
    TABLE_STRING += "</table>"
    TABLE.html(TABLE_STRING);
}

// probably fetch this JSON array of data with an AJAX request
var data = ["Alabama", 
        "Alaska",
        "Arkansas",
        "California",
        "Colorado",
        "Connecticut",
        "Extra Item",
        ]

// run the function on page load
$(function(){fillScreenWithData("#table", data)}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T08:10:18.517

根据浏览器的要求以及列标题对您的重要性，css3 具有您可以设置的 column-width css 属性。（当前需要 -webkit 和 -moz 前缀。）

# iphone - 如何将 NSString 转换为数字

> ID：11238502
> 
> 赞同：0
> 
> 时间：2012-06-28T05:26:05.710
> 
> 标签：iphone, objective-c, nsstring

我需要根据 "_" 之后的数字对文件列表进行排序：

```
"filename_1" "filename_2" ...... 
```

我知道我可以提取数字，然后用数字对文件名进行排序，但是我必须考虑如果存在一些非法名称并且程序变长怎么办。

我想做的只是简单地比较整个字符串，相同的字符必须具有相同的数字。但是当我执行 [@"word" intValue] 时，如果字符串不是数字，则结果为零。我想知道是否有一种将字符串转换为数字的好方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:32:40.443

看一下`NSString`的方法：

```
- (NSComparisonResult)compare:(NSString *)aString options:(NSStringCompareOptions)mask 
```

和`NSNumericSearch`选项。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T05:38:44.683

如果您想自己对它们进行排序，则需要使用

```
- (NSComparisonResult)compare:(NSString *)aString; 
```

常规。

这是对支持 NSComparisonResult 的输出的引用。

```
These constants are used to indicate how items in a request are ordered.

enum {
    NSOrderedAscending = -1,
    NSOrderedSame,
    NSOrderedDescending
};
typedef NSInteger NSComparisonResult; 
```

常量：NSOrderedAscending 左操作数小于右操作数。

NSOrderedSame 两个操作数相等。

NSOrderedDescending 左操作数大于右操作数。

如果您认为它更容易，您可以用分隔的字符串填充 NSArray，然后使用类似以下的内容：

```
sortedArray = [anArray sortedArrayUsingSelector:@selector(localizedCaseInsensitiveCompare:)]; 
```

链接到来自 SO 的良好 QA：

[如何按字母顺序对 NSArray 进行排序？](https://stackoverflow.com/questions/1351182/how-to-sort-a-nsarray-alphabetically)

在你的情况下，我能想到的最后一种方法。那就是使用 NSString 的 hasPrefix 方法来确保每个字符串都以“filename_”开头作为第一个验证。之后对整个字符串进行子串化，然后在“filename_”之后获得剩余的字符串。如果所有文件名的数字都为 1 或更大，则 0 表示此时字符串无效，否则 intValue 应返回有效的正整数，您可以通过整数值进行排序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T05:34:28.120

这应该有效：

```
NSString *good = @"filename_1";
NSString *bad = @"filename";

NSCharacterSet *letterSet= [NSCharacterSet letterCharacterSet];

good = [good stringyByTrimmingCharactersInSet:letterSet]; // 1
bad = [bad stringByTrimmingCharactersInSet:letterSet]; // <empty> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T05:35:21.120

您可以使用以下 coe 对包含文件对象列表的数组进行排序：

```
NSSortDescriptor *aSortDescriptor = [[NSSortDescriptor alloc] initWithKey:@"fileName" ascending:YES];
[arrayOfFileNames sortUsingDescriptors:[NSArray arrayWithObject:aSortDescriptor]]; 
```

希望这对你有帮助...

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-28T05:40:20.283

我认为你不能将它与 NSString 进行比较，因为 NSString 遵循 1,10,11,12,13,14 .....2,20,21,22 ......这种类型的升序，而整数如下0,1,2,3,4,5,6,7.......等等......所以你必须从字符串中分割最后一个字符然后必须进行比较。

以及如何按升序缩短字符串....

```
NSMutableArray *array = [NSMutableArray arrayWithObjects:@"f_1",@"f_2",@"f_12",@"f_6",@"f_9",@"f_4", nil];
 NSSortDescriptor *name = [[[NSSortDescriptor alloc] initWithKey:@"" ascending:YES] init];
[array sortUsingDescriptors:[NSMutableArray arrayWithObjects:name, nil]]; 
```

但这会给你字符串短路而不是根据数字。

谢谢你！

# php - 我们如何在 Android 和 iPhone 的移动应用程序中验证用户身份？

> ID：11238506
> 
> 赞同：2
> 
> 时间：2012-06-28T05:26:32.750
> 
> 标签：php, android, iphone, yii

我们正在 Android 和 iPhone 中开发一个移动应用程序，它具有 PHP (YII) 的服务器端编码。我想在设备上执行会话管理，以类似于网站（Web 浏览器）可以管理的方式对用户进行身份验证。有什么方法可以在设备上进行会话管理吗？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:57:31.720

不确定 iphone，但 android 在首选项中提供持久存储 - 您可以在其中存储一些访问令牌并根据您的服务对它们进行身份验证。然后在每个请求中，此令牌应与请求 dat 一起传递，您的服务可以评估此​​令牌以验证和授权请求。

但基本上，在设备上存储敏感的安全信息并不是一个好主意 - 有像**OAuth**这样的不错的框架 ，它允许您在不在设备上存储敏感安全凭证的情况下授予对服务的访问权限，并且还提供了撤销对特定设备的访问权限的方法，以防万一他们被妥协了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:55:24.383

与 Cookie 不同，会话存储在服务器缓冲区中。

你应该没问题，就像你对任何网站做的一样。

你在问之前试过这样做吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T10:39:29.620

看看[在移动应用程序中验证用户](https://developers.google.com/accounts/docs/MobileApps)。您可以在移动设备上使用 Web 浏览器（通过 WebView），也可以向应用程序发出身份验证令牌。

# javascript - 如何使用 javascript 获取 div 的值

> ID：11238508
> 
> 赞同：23
> 
> 时间：2012-06-28T05:26:39.270
> 
> 标签：javascript, html

这是我的 div：

```
<div id="demo" align="center"  value="1">
    <h3>By Color</h3>
    <input type="radio" name="group1" id="color1" value="#990000"  onClick="changeColor()"/><label for="color1">Red</label>
    <input type="radio" name="group1" id="color2" value="#009900" onClick="changeColor()"/><label for="color2">Green</label>
    <input type="radio" name="group1" id="color3" value="#FFFF00" onClick="changeColor()" /><label for="color3">Yellow</label><br><br><br>
</div> 
```

我想要那个 div 的 value 属性（value="1"）。

我正在尝试这样：

```
function overlay()
{
    var cookieValue = document.getElementById("demo").value;    
    alert(cookieValue);
} 
```

但它显示“未定义”如何使用 javascript 获取值 1 请提出任何解决方案。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-06-28T05:32:23.217

`DIV`s 没有`value` *属性*。

从技术上讲，根据 DTD，它们也不应该有`value` *属性*，但通常你会希望`.getAttribute()`在这种情况下使用：

```
function overlay()
{
    var cookieValue = document.getElementById('demo').getAttribute('value');
    alert(cookieValue);
} 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-06-28T05:29:18.777

简而言之，“值”不是 div 的有效属性。所以返回 undefined 是绝对正确的。

你可以做的是使用 HTML5 属性之一'data-*'

```
<div id="demo" align="center"  data-value="1"> 
```

脚本将是：

```
var val = document.getElementById('demo').getAttribute('data-value'); 
```

这应该适用于大多数现代浏览器只需记住将您的文档类型设置为`<!DOCTYPE html>`使其有效

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-06-28T05:32:32.783

正如我在评论中所说，`<div>`元素没有`value`属性。虽然（非常）糟糕，但可以通过以下方式访问它：

```
console.log(document.getElementById('demo').getAttribute); 
```

我建议使用 HTML5`data-*`属性。像这样的东西：

```
<div id="demo" data-myValue="1">...</div> 
```

在这种情况下，您可以使用以下方式访问它：

```
element.getAttribute('data-myValue');
//Or using jQuery:
$('#demo').data('myValue'); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-28T05:34:01.487

首先

```
<div id="demo" align="center"  value="1"></div> 
```

那不是**有效的 HTML**。阅读自定义数据属性或使用以下内容：

```
<div id="demo" align="center" data-value="1"></div> 
```

由于“数据值”是一个属性，因此您必须使用**getAttribute 函数**来检索其值。

```
var cookieValue = document.getElementById("demo").getAttribute("data-value"); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-06-28T05:30:25.353

你可以试试这个：

```
var theValue = document.getElementById("demo").getAttribute("value"); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-28T05:29:11.480

值不是 DIV 的有效属性

尝试这个

```
var divElement = document.getElementById('demo');
alert( divElement .getAttribute('value')); 
```

# python - 为什么 django 的设置对象是一个 LazyObject？

> ID：11238514
> 
> 赞同：14
> 
> 时间：2012-06-28T05:27:21.413
> 
> 标签：python, django, lazy-evaluation, django-settings

查看 django.conf 我注意到设置是这样实现的：

```
class LazySettings(LazyObject):     
... 
```

使设置对象变得懒惰的原因是什么？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-01-09T02:16:07.567

查看Django 编码风格的[这一部分](https://docs.djangoproject.com/en/dev/internals/contributing/writing-code/coding-style/#use-of-django-conf-settings)。原因在那里解释（引用如下）。

除了性能之外，第三方模块可以在导入时修改设置。应延迟访问设置以确保首先发生此配置。

> 模块通常不应使用存储在顶层 django.conf.settings 中的设置（即在导入模块时评估）。对此的解释如下：
> 
> 手动配置设置（即不依赖 DJANGO_SETTINGS_MODULE 环境变量）是允许和可能的，如下所示：
> 
> ```
> from django.conf import settings
> 
> settings.configure({}, SOME_SETTING='foo') 
> ```
> 
> 但是，如果在 settings.configure 行之前访问任何设置，这将不起作用。（在内部，设置是[`LazyObject`](https://docs.djangoproject.com/en/dev/_modules/django/utils/functional/)在访问设置时自动配置自身（如果尚未配置）。
> 
> 所以，如果有一个模块包含一些代码如下：
> 
> ```
> from django.conf import settings
> from django.core.urlresolvers import get_callable
> 
> default_foo_view = get_callable(settings.FOO_EXAMPLE_VIEW) 
> ```
> 
> ...然后导入此模块将导致设置对象被配置。这意味着第三方在顶层导入模块的能力与手动配置设置对象的能力不兼容，或者在某些情况下变得非常困难。
> 
> 代替上面的代码，必须使用惰性或间接级别，例如`django.utils.functional.LazyObject`， `django.utils.functional.lazy()`或`lambda`。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-28T05:36:36.583

它是抽象实际设置文件的代理对象，并使其轻量级，直到您实际访问所需的设置。一旦您开始访问属性，它将按需加载。这个想法是减少加载设置的开销，直到您需要它们。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-06-28T07:05:52.273

我认为目的是从开发人员的角度简化设置。因此，每个项目都可以拥有自己的 settings.py 文件，而无需定义所有其他 Django 设置。`LazySettings`包装器类型结合了 Django global_settings.py 和您的本地设置中的所有内容。它让开发人员可以决定他想要覆盖哪些设置、他想要保留默认设置或者他想要添加哪些设置。

这个`LazySettings`类可能是一个错误的名字，因为我认为它并不是真的懒惰。一旦你做了类似`from django.conf import settings`整个设置对象在你的范围内的事情。

# android - Android 文字转语音和数字

> ID：11238517
> 
> 赞同：3
> 
> 时间：2012-06-28T05:28:08.340
> 
> 标签：android, text-to-speech

我正在使用 Android Text to Speech 引擎来阅读一些文本并且它正在工作。但是我的文本包含数字，我希望这些数字被逐位读取。

我在文档中找不到任何东西，但我仍然希望有人知道我该怎么做。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T15:22:38.607

API 不允许您指定如何读取文本，因此您的代码必须修改文本输入，以便读取各个数字。

我建议在每个数字之间添加一个空格。这应该会导致`TextToSpeech`读取各个数字。

如果您需要一些代码来帮助您检测数字，请使用：

```
private boolean isNumber(String word)
{
    boolean isNumber = false;
    try
    {
        Integer.parseInt(word);
        isNumber = true;
    } catch (NumberFormatException e)
    {
        isNumber = false;
    }
    return isNumber;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-11T10:43:28.993

接受的答案有一个小缺陷。如果数字有 '0' 作为它的一个数字，它将被读作字母 'o' 而不是零。我会建议以下解决方案。

```
 String number = "1230";

 for(int i = 0 ; i < number.size(); i++) {

  /* refer Speech API , Don't use QUEUE_FLUSH as it results in flushing      
     some characters in this case */

   engine.speak(Character.toString(number.charAt(i)),QUEUE_ADD,null);

  } 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2017-01-16T04:22:38.980

```
/* refer Speech API , Don't use QUEUE_FLUSH as it results in flushing      
some characters in this case */
for(int i = 0 ; i < number.size(); i++) {
  engine.speak(Character.toString(number.charAt(i)),QUEUE_ADD,null); 
} 
```

# android - 如何在Android中获取相应的文件图标？

> ID：11238519
> 
> 赞同：4
> 
> 时间：2012-06-28T05:28:23.887
> 
> 标签：android

每种文件类型都与其特定**图标**相关联。

现在，如果我选择**somefilename.xxx**那么我如何能够选择与***.xxx**关联的图标，而不是未知文件的默认图标。

**原始问题**

如何获取`.txt`或`.doc`或`.png`文件图标？比如现在我在选择`filename.pdf`，如何获取`filename.pdf`图标？例如

```
File f = new File("filename.pdf"); 
```

我的文件名是`filename.pdf`. 如何获取此文件图标（Adobereader 图标）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T05:38:32.410

尝试使用 [PackageManager.queryIntentActivities](http://developer.android.com/reference/android/content/pm/PackageManager.html#queryIntentActivities%28android.content.Intent,%20int%29)：

```
final Intent innt = new Intent(Intent.ACTION_VIEW);
innt.setData(fileUri);
innt.setType("application/pdf");

final List<ResolveInfo> matches = getPackageManager().queryIntentActivities(innt, 0);
for (ResolveInfo match : matches) {
    final Drawable icon = match.loadIcon(getPackageManager());
    final CharSequence label = match.loadLabel(getPackageManager());
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-28T05:45:39.440

首先我想说的是，**任何文件都不包含它的图标，一般来说，**如果您**没有安装办公室**，**您将不会获得 doc 图标或 powerpoint 图标**。

所以它的系统会将图标与特定的文件类型相关联，所以这样走

为了实现您的目标，强烈建议您包含所有您希望使用的图标，例如，如果您选择**some.png**检查扩展名并将**png.ico**与此文件图标相关联

这样做你将不得不与每种类型的文件相关联。

**编辑1：**

你可以很容易地找到网络上的图标添加到你的drawable文件夹现在为每个文件名提取扩展名并根据扩展名设置图标这样你就可以实现你的目标

**编辑 2：**

要实现您的目标，请执行以下操作：

1.  将所有图标文件添加到您的 res\drawable 文件夹以便于将所有图标文件名设置为其扩展名说使用**doc.png**作为**doc 扩展名** `for easyness`

2.  现在将所有文件扩展名映射到您的图标文件，例如检查文件扩展名，然后执行以下操作：

> String ext = "某事";

```
switch(ext)    
{    
case "doc":    
    image.setImageResource(R.drawable.doc);    
    break;     
case "exe":    
    image.setImageResource(R.drawable.exe);
    break;
default :
    image.setImageResource(R.drawable.default);    
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-05-27T15:31:45.973

您可以创建一个接收路径的函数，并通过其名称中的文件扩展名，对应于可绘制对象。

```
fun getFileTypeIcon(path: String): Int {
    val file = File(path)
    val ext = MimeTypeMap.getFileExtensionFromUrl(file.name)
    Log.i("ImagesExt", "$path ----> $ext")
    return when (".$ext") {
        ".png", ".jpg", ".jpeg", ".gif", ".bmp" -> R.drawable.image
        ".mp3", ".wav", ".ogg", "midi" -> R.drawable.audio
        ".mp4", ".rmvb", ".avi", ".flv", ".3gp" -> R.drawable.video
        ".jsp", ".html", ".htm", ".js", ".php" -> R.drawable.web
        ".txt", ".c", ".cpp", ".xml", ".py", ".json", ".log" -> R.drawable.file
        ".xls", ".xlsx" -> R.drawable.file
        ".doc", ".docx" -> R.drawable.file
        ".ppt", ".pptx" -> R.drawable.file
        ".pdf" -> R.drawable.pdf
        ".jar", ".zip", ".rar", ".gz" -> R.drawable.zip
        ".apk" -> R.drawable.apk
        else -> R.drawable.file
    }
} 
```

# mysql - 休眠和mysql分区

> ID：11238520
> 
> 赞同：2
> 
> 时间：2012-06-28T05:28:47.543
> 
> 标签：mysql, hibernate, partitioning

我的应用程序使用 spring+hibernate+mysql。

我的一些表变得非常大，水平分区确实有利于我解决相关的性能问题。

我查看了 hibernate shards，但不喜欢它不在 maven repo 上并且它仍然被标记为“beta”的事实。

我正在考虑使用 mysql 分区功能并有一些问题：

如果我使用 mysql 创建分区，我可以像往常一样继续使用我的应用程序而不会出现任何休眠错误吗？

我知道我不能明确告诉休眠使用哪个 mysql 分区。但是，如果我使用休眠过滤器“建议”要针对哪个分区，mysql 会优化查询并使用正确的分区？

例子：

假设我按可以是 1、2、3、4 的列类型对我的表进行分区 - 每种类型都转到不同的分区。

如果我在此类型列上添加休眠过滤器，则最终查询将类似于：

从 mytable 中选择 blabla，其中 stuff AND type=3（休眠过滤器添加了 type = 3）。

mysql会捡起这个并像对待它一样对待它吗

从 mytable PARTITION (type3) where stuff 中选择 blabla

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T21:07:40.133

虽然@YaK 关于数据位置是正确的，但出于性能原因，5.6 中的 MYSQL SELECT 语句允许您将分区指定为@samz 质疑。请参阅[http://dev.mysql.com/doc/refman/5.6/en/partitioning-selection.html](http://dev.mysql.com/doc/refman/5.6/en/partitioning-selection.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T22:44:37.940

MySQL 完成所有与查找数据可能/将要存储的分区相关的脏工作。从客户端的角度来看，表是否分区是完全透明的，查询保持不变。~~没有像`SELECT col FROM mytable PARTITION(p);`MySQL 这样的东西。~~

[编辑] 正如 TJChambers 所指出的，从`SELECT col FROM mytable PARTITION(p);`v5.6 开始确实存在，并允许显式手动分区修剪。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-04T08:57:36.477

嘿，我们可以在这里使用 session.createsqlquery("Select blabla from mytable PARTITION (type3) where stuff "); 解决问题？Hibernate 支持原生 API。

谢谢桑吉夫·亚达夫

# javascript - 生成适合表格的表格

> ID：11238524
> 
> 赞同：0
> 
> 时间：2012-06-28T05:29:11.840
> 
> 标签：javascript, html

所以我有两个并排的表单，我想要做的是允许用户生成任意数量的表单，并将每个表单存储为表格数据，每行两个。我遇到的问题是表格不会存储在表格中，而且我不完全确定我做错了什么。我开始制作一个表单来找出用户想要生成多少个表单。

```
<table border='1'>
<span id='exForms'>
  <input type='text' name ='number' id='number'>
  <button type='button' onclick="add()">Add</button>
</span>
</table> 
```

接下来将数字发送到 add()

```
add()
{
  var number = document.getElementsByName('number')[0].value;
  var x = document.getElementById('exForms');

  number = parseInt(number);
  var i;
  x.innerHTML="";
  x.innerHTML+="<tr><th>Form1</th> <th>Form2</th></tr>";
  for(i = 0; i<number; i++)
  {
     x.innerHTML+="<tr><td><input type='text' name='commandsc[]'></td><tr><td><input type='text' name='commandsi[]'></td></tr>";
  }
  x.innerHTML+="<input type='submit' name ='submit' value='submit'>";
} 
```

输出基本上是一行上的所有表单，然后是一个提交按钮。任何帮助都会很棒。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:43:48.837

您可以通过将新创建的行添加到现有表 tbody 来解决您的问题。

请参阅此链接如何操作：[http ://www.roseindia.net/javascript/javascript-add-row-to-table.shtml](http://www.roseindia.net/javascript/javascript-add-row-to-table.shtml)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:50:58.907

这是真正的布局：

```
<span id="exForms">
  <input type="text" name="number" id="number">
  <button type="button" onclick="add()">Add</button>
</span>
<table border="1"></table> 
```

简而言之，您的布局无效。这就是您在布局中所做的进一步更改没有按预期工作的原因。

`exForms`不在表内。此外，计划类似

```
<table><span><tr/></span></table> 
```

是个坏主意。

# php - 将多个id组合成一个事件jquery

> ID：11238528
> 
> 赞同：-1
> 
> 时间：2012-06-28T05:29:25.977
> 
> 标签：php, jquery

我有三个文本字段需要有一个 jquery 点击事件

```
$('#landline' OR '#mobile_number' OR '#alternate_number').click(function()
{
$(this).val("");
}); 
```

我希望每当用户单击带有 id 固定电话或 mobile_number 或alternate_number 的字段时，该值将被设置为空。但是这段代码不起作用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T05:30:53.327

用于`,`连接多个选择器：

```
$('#landline, #mobile_number, #alternate_number').click(function() {
    $(this).val("");
}); 
```

# android - 如何删除此异常以及此异常的含义是什么？

> ID：11238529
> 
> 赞同：0
> 
> 时间：2012-06-28T05:29:27.677
> 
> 标签：android, exception

在我的应用程序中出现此异常，请建议我如何纠正此异常：- 我已尝试更改 Imageloader 代码，但未成功。

```
 //decode image size
        BitmapFactory.Options o = new BitmapFactory.Options();
        o.inJustDecodeBounds = true;
        BitmapFactory.decodeStream(new FileInputStream(f),null,o);
        /*
         *  options.inJustDecodeBounds = true;
BitmapFactory.decodeResource(res, resId, options);

// Calculate inSampleSize
options.inSampleSize = calculateInSampleSize(options, reqWidth, reqHeight);

// Decode bitmap with inSampleSize set
options.inJustDecodeBounds = false;
return BitmapFactory.decodeResource(res, resId, options);

         * 
         * 
         * 
         * */
     // Calculate inSampleSize
        o.inSampleSize = calculateInSampleSize(o,100,100);
        o.inJustDecodeBounds = false;
        //Find the correct scale value. It should be the power of 2.
       // final int REQUIRED_SIZE=70;
        //int width_tmp=o.outWidth, height_tmp=o.outHeight;
  //            int scale=1;
//            while(true){
 //                if(width_tmp/2<REQUIRED_SIZE || height_tmp/2<REQUIRED_SIZE)
 //                    break;
 //                width_tmp/=2;
 //                height_tmp/=2;
//                scale*=2;
 //            }

               //decode with inSampleSize
           //            BitmapFactory.Options o2 = new BitmapFactory.Options();
              //            
            //            o2.inSampleSize=2;

        return BitmapFactory.decodeStream(new FileInputStream(f), null, null); 
```

上面的代码有什么问题，因为本节发生了异常......

```
 06-28 10:53:36.676: E/dalvikvm-heap(595): 960000-byte external allocation too large for this process.
  06-28 10:53:36.806: E/GraphicsJNI(595): VM won't let us allocate 960000 bytes
 06-28 10:53:36.836: E/AndroidRuntime(595): FATAL EXCEPTION: AsyncTask #1
06-28 10:53:36.836: E/AndroidRuntime(595): java.lang.RuntimeException: An error occured while executing doInBackground()
 06-28 10:53:36.836: E/AndroidRuntime(595):     at android.os.AsyncTask$3.done(AsyncTask.java:200)
 06-28 10:53:36.836: E/AndroidRuntime(595):     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:274)
 06-28 10:53:36.836: E/AndroidRuntime(595):     at java.util.concurrent.FutureTask.setException(FutureTask.java:125)
  06-28 10:53:36.836: E/AndroidRuntime(595):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:308)
   06-28 10:53:36.836: E/AndroidRuntime(595):   at java.util.concurrent.FutureTask.run(FutureTask.java:138)
06-28 10:53:36.836: E/AndroidRuntime(595):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
    06-28 10:53:36.836: E/AndroidRuntime(595):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
    06-28 10:53:36.836: E/AndroidRuntime(595):  at java.lang.Thread.run(Thread.java:1019)
    06-28 10:53:36.836: E/AndroidRuntime(595): Caused by: java.lang.OutOfMemoryError: bitmap size exceeds VM budget
    06-28 10:53:36.836: E/AndroidRuntime(595):  at android.graphics.BitmapFactory.nativeDecodeStream(Native Method)
    06-28 10:53:36.836: E/AndroidRuntime(595):  at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:470)
    06-28 10:53:36.836: E/AndroidRuntime(595):  at com.rentfaster.utilities.ImageLoader.decodeFile(ImageLoader.java:161)
    06-28 10:53:36.836: E/AndroidRuntime(595):  at com.rentfaster.utilities.ImageLoader.getBitmap(ImageLoader.java:94)
    06-28 10:53:36.836: E/AndroidRuntime(595):  at com.rentfaster.handler.DetailPhotoHandler.imagefecher(DetailPhotoHandler.java:211)
   06-28 10:53:36.836: E/AndroidRuntime(595):   at com.rentfaster.handler.DetailPhotoHandler.characters(DetailPhotoHandler.java:153)
   06-28 10:53:36.836: E/AndroidRuntime(595):   at org.apache.harmony.xml.ExpatParser.text(ExpatParser.java:165)
   06-28 10:53:36.836: E/AndroidRuntime(595):   at org.apache.harmony.xml.ExpatParser.appendBytes(Native Method)
  06-28 10:53:36.836: E/AndroidRuntime(595):    at org.apache.harmony.xml.ExpatParser.parseFragment(ExpatParser.java:518)
  06-28 10:53:36.836: E/AndroidRuntime(595):    at or g.apache.harmony.xml.ExpatParser.parseDocument(ExpatParser.java:479)
  06-28 10:53:36.836: E/AndroidRuntime(595):    at org.apache.harmony.xml.ExpatReader.parse(ExpatReader.java:318)
 06-28 10:53:36.836: E/AndroidRuntime(595):     at org.apache.harmony.xml.ExpatReader.parse(ExpatReader.java:275)
  06-28 10:53:36.836: E/AndroidRuntime(595):    at com.rentfaster.home.PropertyDetail$Photostask.doInBackground(PropertyDetail.java:1174)
  06-28 10:53:36.836: E/AndroidRuntime(595):    at com.rentfaster.home.PropertyDetail$Photostask.doInBackground(PropertyDetail.java:1)
  06-28 10:53:36.836: E/AndroidRuntime(595):    at android.os.AsyncTask$2.call(AsyncTask.java:185)
  06-28 10:53:36.836: E/AndroidRuntime(595):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
  06-28 10:53:36.836: E/AndroidRuntime(595):    ... 4 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:39:43.297

您可以在同一问题上看到我的[答案。](https://stackoverflow.com/questions/10737582/bitmap-size-exceeds-vm-budget-error-android/10738115#10738115)

如果您需要更多帮助，请告诉我。

谢谢 ：）

**更新：**

您使用过：

```
BitmapFactory.decodeStream(new FileInputStream(f),null,o); 
```

此方法创建一个位图并返回该位图，您没有捕获该位图。

你应该使用类似的东西：

```
Bitmap bmp = BitmapFactory.decodeStream(new FileInputStream(f),null,o); 
```

您应该首先创建所有选项，然后调用该`decodeStream()`方法。调用此方法后没有创建选项的效果。

您已经使用了选项，但始终尝试使用您可以使用的所有可能**选项**，如下所示：

```
options.inScaled = true;
options.inPurgeable = true;

// to scale the image to 1/8
options.inSampleSize = 8; 
```

始终在**`bitmap.recycle()`**使用位图后立即调用该方法。

如果所有这些解决方案都不起作用，那么正如我所建议的，使用`MAT for eclipse`插件，因为你的代码肯定会出现内存泄漏。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:33:40.877

由于这个原因发生错误......

06-28 10:53:36.836：E/AndroidRuntime(595)：原因：java.lang.OutOfMemoryError：位图大小超出 VM 预算

检查[链接](https://stackoverflow.com/questions/1949066/java-lang-outofmemoryerror-bitmap-size-exceeds-vm-budget-android)

[链接2](https://stackoverflow.com/questions/2928002/outofmemoryerror-bitmap-size-exceeds-vm-budget-android)

它可以帮助你。

谢谢

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T05:40:35.870

听起来你有内存泄漏，垃圾收集器没有正确释放你活动中的位图，因为它们交叉引用了它们的活动。尝试通过`adb shell dumpsys meminfo`命令监控堆使用情况

# sharepoint - Infopath 自定义任务表单更新：System.xml.xmlexception

> ID：11238531
> 
> 赞同：0
> 
> 时间：2012-06-28T05:29:58.347
> 
> 标签：sharepoint, infopath

我创建了一个工作流来创建任务并使用自定义信息路径表单批准该任务。单击“批准/拒绝”按钮时，任务表单会引发 XML 异常，如下所示

“日期”是一个意外的标记，预期的标记是“=”。

下面我列出了异常的堆栈跟踪，

* * *

```
Server Error in '/' Application.

'Date' is an unexpected token. The expected token is '='. Line 1, position 22.

 Description: An unhandled exception occurred during the execution of the current web request.

Please review the stack trace for more information about the error and where it originated in the code. 

Exception Details:
System.Xml.XmlException: 'Date' is an unexpected token. The expected token is '='. Line 1, position 22\. 
Source Error:  An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.

Stack Trace:  [XmlException: 'Date' is an unexpected token. The expected token is '='. Line 1, position 22.]   

System.Xml.XmlTextReaderImpl.Throw(Exception e) +95   
System.Xml.XmlTextReaderImpl.ParseAttributes() +5089862   
System.Xml.XmlTextReaderImpl.ParseElement() +378   
System.Xml.XmlTextReaderImpl.ParseDocumentContent() +429   
System.Xml.XmlReader.MoveToContent() +22   
       Microsoft.SharePoint.Workflow.SPWorkflowTask.GetExtendedPropertiesAsHashtable(SPListItem task) +289   
Microsoft.SharePoint.Workflow.SPWorkflowTask.SetWorkflowData(SPListItem task, Hashtable newValues, Boolean ignoreReadOnly) +471   
Microsoft.SharePoint.Workflow.SPWorkflowTask.AlterTask(SPListItem task, Hashtable htData, Boolean fSynchronous) +110   
Microsoft.Office.Workflow.WrkTaskIPPage.XmlFormControl_OnClose(Object sender, EventArgs e) +700   
Microsoft.Office.InfoPath.Server.Controls.XmlFormView.CloseDocument(EventLogStart eventLogStart) +113   
Microsoft.Office.InfoPath.Server.Controls.XmlFormView.PlayServerMessages(EventLogStart eventLogStart) +192   
Microsoft.Office.InfoPath.Server.Controls.XmlFormView.OnDataBindHelper() +428
Microsoft.Office.InfoPath.Server.Controls.XmlFormView.OnDataBinding(EventArgse) +97
System.Web.UI.WebControls.WebParts.Part.DataBind() +42   
System.Web.UI.Control.DataBindChildren() +11046927   
System.Web.UI.Control.DataBind(Boolean raiseOnDataBinding) +182   
System.Web.UI.Control.DataBindChildren() +11046927   
System.Web.UI.Control.DataBind(Boolean raiseOnDataBinding) +182   
System.Web.UI.Control.DataBindChildren() +11046927   
System.Web.UI.Control.DataBind(Boolean raiseOnDataBinding) +182   
System.Web.UI.Control.DataBindChildren() +11046927   
System.Web.UI.Control.DataBind(Boolean raiseOnDataBinding) +182   
System.Web.UI.Control.DataBindChildren() +11046927   
System.Web.UI.Control.DataBind(Boolean raiseOnDataBinding) +182   
System.Web.UI.Control.DataBindChildren() +11046927   
System.Web.UI.Control.DataBind(Boolean raiseOnDataBinding) +182   
Microsoft.Office.Workflow.WrkTaskIPPage.OnLoad(EventArgs ea) +3270   
System.Web.UI.Control.LoadRecursive() +66   
System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +2428 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-19T14:55:25.600

试试这个可能有用...

您必须在任务创建属性中具有扩展属性声明。只需在可用空间中添加*x0020*即可。代码可能看起来像

```
SPTaskCreate_TaskProperties.ExtendedProperties["Start_x0020_Date"] = DateTime.Now; 
```

并不是

```
SPTaskCreate_TaskProperties.ExtendedProperties["Start Date"] = DateTime.Now; 
```

# c# - Node.SelectNodes(/*) 和 Node.childNodes 有什么区别？

> ID：11238536
> 
> 赞同：4
> 
> 时间：2012-06-28T05:30:47.710
> 
> 标签：c#, xml, xpath

```
 string XML1 = "<Root><InsertHere></InsertHere></Root>";
        string XML2 = "<Root><child1><childnodes>data</childnodes><childnodes>data1</childnodes></child1><child2><childnodes>data</childnodes><childnodes>data1</childnodes></child2></Root>"; 
```

在下面提到的两个代码示例中.. childNodes 的使用不会从 XML2 复制所有子节点。只是`<child1>`被复制。

```
 string strXpath = "/Root/InsertHere";

        XmlDocument xdxmlChildDoc = new XmlDocument();
        XmlDocument ParentDoc = new XmlDocument();
        ParentDoc.LoadXml(XML1);
        xdxmlChildDoc.LoadXml(XML2);

        XmlNode xnNewNode = ParentDoc.ImportNode(xdxmlChildDoc.DocumentElement.SelectSingleNode("/Root"), true);

        if (xnNewNode != null)
        {
            XmlNodeList xnChildNodes = xnNewNode.SelectNodes("/*");
            if (xnChildNodes != null)
            {
                foreach (XmlNode xnNode in xnChildNodes)
                {
                    if (xnNode != null)
                    {
                        ParentDoc.DocumentElement.SelectSingleNode(strXpath).AppendChild(xnNode);
                    }
                }
            }
        } 
```

**代码2：**

```
 if (xnNewNode != null)
    {
        XmlNodeList xnChildNodes = xnNewNode.ChildNodes;
        if (xnChildNodes != null)
        {
            foreach (XmlNode xnNode in xnChildNodes)
            {
                if (xnNode != null)
                {
                    ParentDoc.DocumentElement.SelectSingleNode(strXpath).AppendChild(xnNode);
                }
            }
        }
    } 
```

执行第一个代码示例后的 ParentDoc.OuterXML：

```
<Root>
    <InsertHere>
        <child1>
            <childnodes>data</childnodes>
            <childnodes>data1</childnodes>
        </child1>
        <child2>
            <childnodes>data</childnodes>
            <childnodes>data1</childnodes>
        </child2>
    </InsertHere>
</Root> 
```

执行第二个代码示例后的 ParentDoc.OuterXML

```
<Root>
    <InsertHere>
        <child1>
            <childnodes>data</childnodes>
            <childnodes>data1</childnodes>
        </child1>
    </InsertHere>
</Root> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T06:45:28.667

我已经对代码进行了一些调试，它表明`xnNewNode.ChildNodes`最初也返回 2 个子节点。然而，在循环中的一次迭代之后，第一个孩子从 中删除`ChildNodes`，因此循环过早结束。

如果要使用该`ChildNodes`属性，一种解决方法是将子节点引用“传输”到数组或列表，如下所示：

```
var xnChildNodes = xnNewNode.ChildNodes.Cast<XmlNode>().ToArray(); 
```

**更新**

正如 Tomer W 在他的回答中指出的那样，当使用[XmlNode.AppendChild](http://msdn.microsoft.com/en-us/library/system.xml.xmlnode.appendchild)时，插入的节点也会从其原始位置移除。如 MSDN 文档中所述：

```
If the newChild is already in the tree, it is removed from 
its original position and added to its target position. 
```

`SelectNodes`您已经创建了一个新的节点集合，但您`ChildNodes`正在访问原始集合。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:59:48.000

这是对 Anders G 发布的内容的清理，并提供了更多的解释。

我很惊讶 foreach 在这种情况下没有失败（抛出异常），但是地狱。

在代码 1 中。
1\. 创建一个新的节点集合
2\. 选择节点到它
3\. 附加到其他节点 => 从原始集合中删除，但不是新创建的。
4 您正在从新集合中删除要添加的节点。

在代码2 中
1\. 引用原始节点集合
{child1, child2}
2\. 将第一个节点附加到另一个集合 => 从原始集合
{child2} 中删除它 3\. 现在当索引 1 处的 foreach 时，它看到它通过了集合结束。并退出。

在更改需要迭代的集合时，这种情况经常发生。
但大多数时候，IEnumerator 在发生这种情况时会抛出异常。

希望我说清楚了

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T11:11:13.447

我遇到了同样的问题并观察到，空白节点似乎有一个附加到节点的值，而其他节点不是这种情况（至少在我的应用程序中）。此方法从 node.ChildNodes 列表中删除空白节点：

```
private List<XmlNode> findChildnodes(XmlNode node)
    {
        List<XmlNode> result = new List<XmlNode>();
        foreach (XmlNode childnode in node.ChildNodes) 
        {
            if(childnode.Value == null)
            {
                result.Add(childnode);
            }
        }
        return result;
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T06:56:44.200

在回答您的问题时，`Node.childNodes`是**所有**子节点，而是`Node.SelectNodes(/*)`所有匹配的子节点`/*`。只有 XML 元素会匹配`/*`，因此任何属性、CDATA 节点、文本节点等都将被排除。

然而，出现问题是因为您在迭代节点时更改了节点集合。你不能这样做。选择节点方法返回对节点的引用列表。这就是为什么有效。

# scala - Scala - 提取器不适用混淆

> ID：11238543
> 
> 赞同：7
> 
> 时间：2012-06-28T05:31:12.983
> 
> 标签：scala, pattern-matching

我正在尝试编写一个提取器以用于匹配多参数案例类。简化示例：

```
case class X(p1: String, p2: Int) 
```

我希望每个提取器对象都为 p1 定义一个固定值，并在使用时定义 p2。（A、B 等不能是 case 类和子类 X，我也想使用 X( *,* ) 作为 case） apply 方法的示例：

```
object A {
  def apply(p2: Int): X = X("A", p2)
}

object B {
  def apply(p2: Int): X = X("B", p2)
}

... 
```

对于模式匹配，我希望它们像这样匹配：

```
X("A", 2) match {
  case A(2) => true // <- should match: p1="A" and p2=2
  case A(_) => true // <- should match: p1="A" and p2=_
  case X("A", _) => true // <- should match: p1="A" and p2=_
  case A(1) => false // <- should not match
  case B(2) => false // <- should not match: p1="B" and p2=2
} 
```

我知道我需要在 , 等中定义方法`unapply`，但我完全混淆了签名和逻辑应该是什么：`A``B`

```
object A {
  def unapply(x: ???): Option[???] = {
    ???
  } 
} 
```

请帮忙？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-28T06:04:27.780

`unapply`接受 Any 并返回`Option`您想要提取的任何内容。在您的情况下，这将是：

```
scala> case class X(p1: String, p2: Int)
defined class X

scala> object A {
     |   def unapply(target: Any): Option[Int] =
     |     PartialFunction.condOpt(target) {
     |       case X("A", p2) => p2
     |     }
     | }
defined module A

scala> val A(x) = X("A", 1)
x: Int = 1

scala> val A(x) = X("B", 1)
scala.MatchError: X(B,1) (of class X)
... 
```

但老实说，您提出的示例可以在没有`A`and的情况下重写`B`：

```
X("A",2) match {
  case X("A", 2) => true
  case X("A", 1) => false
  case X("A", _) => true
  case X("B", 2) => false
} 
```

# gwt - GWT 查询选择器不起作用

> ID：11238557
> 
> 赞同：0
> 
> 时间：2012-06-28T05:32:37.690
> 
> 标签：gwt, callback, gwtquery

GWT 查询选择器，即 $("#id") 在回调函数中不起作用。但是 xyz.find("#id") 有效，其中 xyz -> Gquery 变量。是回调函数不支持 $ 选择器还是有其他问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T13:32:09.543

您确定在调用回调函数时将带有 id "id" 的元素附加到 dom 吗？

当您执行 $("#id") 时，gQuery 会尝试在 DOM 树的元素集中查找与选择器匹配的元素。当您执行 xyz.find("#id") 时，gQuery 会尝试在 xyz 选择的元素数组中查找与选择器匹配的元素，无论这些元素是否仍在 dom 树中。

# css - GWT中suggestboxPopup的边框问题

> ID：11238560
> 
> 赞同：1
> 
> 时间：2012-06-28T05:32:40.500
> 
> 标签：css, gwt, suggestbox

我在 GWT 中使用 SuggestBox。我还从 SuggestionBox.gwt.xml 继承标准主题为

```
 <inherits name='com.google.gwt.user.theme.standard.Standard'/> 
```

所以这是对小部件 Suggestbox 使用默认标准 css，它通过图像制作边框，如 hborder.png、vborder.png 等。我想删除它，但我的 css 无法正常工作。

```
.gwt-SuggestBoxPopup{
  border  :    1px solid #000000;
} 
```

那么我该如何解决这个问题。请帮助我。谢谢拉胡尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T08:06:59.847

用于弹出窗口的类是默认 SuggestBox 的 DefaultSuggestionDisplay。它使用 DecoratedPopupPanel，如您在 SuggestBox.java 中第 392 行附近看到的那样。

为避免“重”边框，您必须创建/覆盖使用未装饰的 popupPanel 的 SuggestionDisplay 并将其传递给您的 SuggestBox 槽构造函数

```
 public SuggestBox(SuggestOracle oracle, TextBoxBase box,SuggestionDisplay suggestDisplay); 
```

说，“边框”是不够的，因为 DecoratedPopupPanel 使用多个单元格来设置边框，正如您在 CSS 中看到的那样。因此，您可能可以直接更新 CSS，但它将适用于所有项目，因为 SuggestBox 似乎不直接处理资源包。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-18T08:04:50.127

创建一个 customSuggestionDisplay 类

```
public static class CustomSuggestionDisplay extends SuggestBox.DefaultSuggestionDisplay {
    private PopupPanel suggestionPopupRef;

    public CustomSuggestionDisplay() {
        suggestionPopupRef = getPopupPanel();
    }

    public void removeBorder() {
        ((Element)suggestionPopupRef.getElement().getChild(0)).getStyle().setBackgroundColor("white");
        NodeList<com.google.gwt.dom.client.Element> tdList = suggestionPopupRef.getElement().getElementsByTagName("td");
        for (int tdIndex = 0; tdIndex < tdList.getLength(); ++tdIndex) {
            Element tdElement = (Element) tdList.getItem(tdIndex);
            if (tdElement.getClassName().startsWith("suggestPopup"))
                tdElement.removeClassName(tdElement.getClassName());
        }
    }
} 
```

创建一个建议框对象

```
SuggestOracle oracle = new RestSuggestOracle();
CustomSuggestionDisplay suggestionDisplay = new CustomSuggestionDisplay();
TextBox textfield = new TextBox();
SuggestBox m_field = new SuggestBox(oracle, textfield, suggestionDisplay); 
```

显示建议时调用 removeBorder

```
if (m_field.isSuggestionListShowing())
    suggestionDisplay.removeBorder(); 
```

# php - 我担心 SQL 注入。这安全吗？

> ID：11238567
> 
> 赞同：1
> 
> 时间：2012-06-28T05:33:11.170
> 
> 标签：php, mysql

我正在启动一个非常基本的站点，它使用单行表单发布到数据库中，然后`$comment`在页面上回显该变量。我不知道 PDO，但如果我真的需要它来做这么简单的事情，我愿意学习。

```
else
mysql_query("INSERT INTO posts (postid, post_content)
VALUES ('', '$comment <br />')");
}
mysql_close($con); 
```

在这段代码之上，我有基本的 strpos 命令来阻止一些我不想发布的东西。

在我这样做的过程中，我是否会在注射过程中遇到任何问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T05:35:34.893

是的，这很危险。所有人所要做的就是加上一个单引号，然后是他们想要的 SQL 代码。如果您想以旧方式修复它或使用 PDO 准备语句作为新方式，请在此语句之前使用 $comment = [mysql_real_escape_string ($comment)。](http://php.net/manual/en/function.mysql-real-escape-string.php)这是[文档](http://php.net/manual/en/pdo.prepared-statements.php)中的一个基本示例：

```
<?php
$stmt = $dbh->prepare("INSERT INTO REGISTRY (name, value) VALUES (:name, :value)");
$stmt->bindParam(':name', $name);
$stmt->bindParam(':value', $value);

// insert one row
$name = 'one';
$value = 1;
$stmt->execute();

// insert another row with different values
$name = 'two';
$value = 2;
$stmt->execute();
?> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-28T05:43:37.930

不，这不安全，你需要使用[mysql_real_escape_string](http://php.net/manual/en/function.mysql-real-escape-string.php)来逃避`$comment`。

但是，PDO 并不难，它可以让你的代码更强大。

```
// create the connection. something like mysql_connect/mysql_error
try {
    $dbh = new PDO($dsn, $user, $password);
} catch (PDOException $e) {
    echo 'Connection failed: ' . $e->getMessage();
}

// create the prepared statement.
$stmt = $dbh->prepare("INSERT INTO posts (postid, post_content) VALUES (?, ?)");
// execute it with parameters.
$stmt->execute(array('', $comment.'<br>')); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T05:38:40.800

这很容易受到 sql 注入的影响，因为您的 $comment 是用户输入的，他们也可以输入一些 SQL 命令，而您的 PHP 代码最终将执行相同的操作。

考虑为 USERS 表设置的 $comment 值`'TRUNCATE TABLE USERS;'`可能是对您的应用程序可能至关重要的任何内容。

在 PHP 中，我相信您可以通过使用`mysql_real_escape_string()`. 阅读它。

有关 SQL 注入的详细信息，请参阅此文档：[https ://docs.google.com/document/d/1rO_LCBKJY0puvRhPhAfTD2iNVPfR4e9KiKDpDE2enMI/edit?pli=1](https://docs.google.com/document/d/1rO_LCBKJY0puvRhPhAfTD2iNVPfR4e9KiKDpDE2enMI/edit?pli=1)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T06:24:24.323

将表单输入数据绑定到mysql查询是解决sql注入的完美方案。为此目的使用 binaParam 方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-28T18:17:56.193

不，仅从您在此处发布的代码来看，您没有受到 SQL 注入的保护。这是一个简单的例子`$comment`：

```
'), (null, (select concat(user(),':',password) s from mysql.user where concat(user,'@',host)=user() LIMIT 1) -- 
```

这将添加另一行，其中包含当前用户的登录凭据。有了`LOAD_FILE`他，他还可以从您的文件系统中读取文件。他还可以在文件系统上写入任意文件：

```
' + (select '<?php echo "Hello, World!";' into dumpfile '/path/to/your/document_root/foobar.php')) -- 
```

使用这种技术，攻击者可以将任意文件上传到您的服务器，例如在您的系统上运行任意命令的 web shell。

因此，您绝对必须[保护自己免受 SQL 注入](https://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet)的影响，其中使用准备好的语句或参数化语句的自动转义优于使用`mysql_real_escape_string`.

# linux - 如何获取linux进程从开始到结束的时间消耗

> ID：11238569
> 
> 赞同：0
> 
> 时间：2012-06-28T05:33:33.653
> 
> 标签：linux

我的 EC2 微实例上的编译过程真的很慢，所以我出去吃饭的时候会让它运行。

反正`make`我吃完饭回来有没有知道这个过程的时间消耗。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:38:00.863

放在`time`前面`make`

```
$ time make 
```

# javascript - 将 JavaScript 嵌入到 AJAX 部分响应中

> ID：11238575
> 
> 赞同：0
> 
> 时间：2012-06-28T05:34:10.913
> 
> 标签：javascript, jquery, ajax

将 javascript 嵌入到通过 AJAX 返回的部分中是否被认为是不好的做法？

假设在[http://mysite.com](http://mysite.com)上，我有一个通过 AJAX 获取表单的按钮。现在假设我想使用 jQuery 向这个表单添加一些 javascript 事件处理程序（用于验证等）。

目前的方法似乎是：

*   在返回表单的 AJAX 回调中，我可以为标签设置事件处理程序。

我不喜欢这种方法，因为它将控制我的表单的代码放在两个地方：在呈现的部分中，以及在包含的全局 javascript 文件中。

*   与其从服务器端返回表单，不如在客户端做所有事情。当需要来自服务器的响应时（例如，验证表单），从服务器返回 JSON，并在 JavaScript 中创建生成的 HTML 元素（例如错误消息）。

现在这种方法让我感觉好像是在使用 JavaScript 创建 HTML 元素，而不是使用更强大的服务器端工具（模板语言）来完成它。

我觉得解决方案涉及将 JavaScript 代码嵌入到 AJAX 部分返回的 HTML 中，因此它是我的应用程序的一个独立功能组件，并且所有代码都在一个地方。

有没有一种更清洁的方式来做我想做的事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:38:21.833

我不确定今天是否可以提出这样的论点，即与其他后端语言相比，javascript 在“功能”方面有些逊色......我想可能是因为今天**javascript 是一种有效的后端语言**？

我认为第二个选项很有意义，因为您包含客户端/接口代码，并为数据操作和呈现分离服务器端逻辑。

在我看来，有很多 javascript 模板库运行良好，也就是说，如果你不想走完整的[**javascript MVC**](http://javascriptmvc.com/)路线。

# android - SDK 管理器和 AVD 管理器的行为很有趣

> ID：11238576
> 
> 赞同：0
> 
> 时间：2012-06-28T05:34:11.110
> 
> 标签：android

当我尝试创建 AVD 或启动 SDK 管理器时，我遇到了一些奇怪的事情。我一直在寻找大约半小时，我想我已经缩小了范围。SDK 管理器和 AVD 管理器在我的机器上都存在两次。

它们都存在于这里：

`C:\Users\EGHDK\android-sdks`

和这里：

`C:\Users\EGHDK\android-sdks\tools\lib`

我不知道它是如何或何时发生的，但我确实知道它以前运行良好，现在它行为不端。

它们不应该只存在一次吗？如果是这样......我该如何删除它们？

**编辑：** 现在我在 Win 7 搜索中输入了 sdk manager，我看到了 3 次。我上面提到的两个喜欢，另一个在`C:\Program Files (x86)\Android\android-sdk`

这有什么改变吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:00:33.080

它们将存在于 android-sdk 和 lib 中。所以没有错，因为它存在两次。你的问题会有所不同。

# iphone - 当应用程序未运行或后台时，APNS 通知不起作用

> ID：11238581
> 
> 赞同：0
> 
> 时间：2012-06-28T05:34:28.910
> 
> 标签：iphone, notifications, apple-push-notifications

我正在使用 pyapns 向 iPhone 发送通知。

应用程序运行时收到通知是成功的。

但是，当应用程序未运行或应用程序处于后台时，它无法收到通知。

它与 URL 标识符或方案有关吗？如果没有，有什么问题..？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:55:15.613

你被叫进来了吗

```
- (void)application:didReceiveRemoteNotification: 
```

当您在应用程序中时？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T10:19:12.070

通知消息中的问题。

在通知函数 args 中，有通知列表 arg。

请注意，当您制作此参数时，此列表的字典应包含以下内容。以便应用程序可以做出警报反应。

```
thePayLoad = {
     'aps': {
          'alert':'this option should be contained if you want to see the alert msg',
          'sound':'k1DiveAlarm.caf',
          'badge':42
      },
     'test_data': { 'foo': 'bar' }
} 
```

就我而言，我只是发送了不包含上述内容的味精。在 didReceiveRemoteNotification 函数中，我发出了警报消息。但味精不包含警报信息。所以设备无法反应。

# javascript - jQuery 库代码

> ID：11238582
> 
> 赞同：0
> 
> 时间：2012-06-28T05:34:33.073
> 
> 标签：javascript, jquery, oop, dom

为了学习 JS OOP，我正在查看 jQuery 的源代码以更好地了解它们是如何做事的。我的问题可能看起来很简单，但我无法理解 jQuery 在其库顶部定义的几个变量背后的原因。代码如下所示。

```
(function( window, undefined ) {

// Use the correct document accordingly with window argument (sandbox)
var document = window.document,
    navigator = window.navigator,
    location = window.location;

....rest of code

What I don't understand is why they created variables for the document, navigator, and location objects.  Does this resolve some type of browser bug?  I don't understand the benefit of doing this. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T05:35:57.930

他们这样做是为了，如果其他脚本错误地（或有意地）创建了名为`document`,`navigator`或的变量`location`，它们不会影响 jQuery 对这些变量的使用。

# c# - 在后面的代码中将样式添加到动态中继器控件

> ID：11238584
> 
> 赞同：1
> 
> 时间：2012-06-28T05:34:47.507
> 
> 标签：c#, sql, data-binding, repeater

这是我用来动态生成转发器控件的代码，绑定到 SQL。我只能用 C# 编码来做。在 aspx 部分中只有一个“面板”。我可以使用它来获得输出。但是它出现在我无法对其应用任何样式的标签中。我附上了截图。有人请帮我将样式应用于输出。像交替颜色等。非常感谢。

```
public partial class Default2 : System.Web.UI.Page
{    // Repeater Control Databinding using Datasource
        Repeater Repeater1 = new Repeater();
        //Repeater1.DataSource = myDataSet;
        //Repeater1.DataBind();

    protected void Page_Load(object sender, EventArgs e)
    {        
        string connStr = ("Data Source=LFVMOSS;Initial Catalog=DB_SFG;Persist Security Info=True;User ID=DB_SFG;Password=sfg");

        SqlConnection mySQLconnection = new SqlConnection(connStr);
        if (mySQLconnection.State == ConnectionState.Closed)
        {
            mySQLconnection.Open();
        }
        SqlCommand mySqlSelect = new SqlCommand("select * from List1", mySQLconnection);
        mySqlSelect.CommandType = CommandType.Text;
        SqlDataAdapter mySqlAdapter = new SqlDataAdapter(mySqlSelect); DataSet myDataSet = new DataSet();
        mySqlAdapter.Fill(myDataSet);

        // Repeater Control Databinding using Datasource
        Repeater1.DataSource = myDataSet;
        Repeater1.DataBind();        
        if (mySQLconnection.State == ConnectionState.Open)
        {
            mySQLconnection.Close();
        }           
        foreach (RepeaterItem repeatItem in Repeater1.Items)
        {
            // if condition to add HeaderTemplate Dynamically only Once
            if (repeatItem.ItemIndex == 0)
            {
                RepeaterItem headerItem = new RepeaterItem(repeatItem.ItemIndex, ListItemType.Header);
                HtmlGenericControl hTag = new HtmlGenericControl("h4");
                hTag.InnerHtml = "Employee Names";
                repeatItem.Controls.Add(hTag);
            }

            // Add ItemTemplate DataItems Dynamically
            RepeaterItem repeaterItem = new RepeaterItem(repeatItem.ItemIndex, ListItemType.Item);
           Label lbl = new Label();                   
           lbl.Text = string.Format("{0} {1} <br />", myDataSet.Tables[0].Rows[repeatItem.ItemIndex]["id"], myDataSet.Tables[0].Rows[repeatItem.ItemIndex]["Name"]);                     
           repeatItem.Controls.Add(lbl);

            // Add SeparatorTemplate Dynamically
            repeaterItem = new RepeaterItem(repeatItem.ItemIndex, ListItemType.Separator);
            LiteralControl ltrlHR = new LiteralControl();
            ltrlHR.Text = "<hr />";
            repeatItem.Controls.Add(ltrlHR);
        }

        // Add Repeater Control as Child Control
        // of Panel Control
        Panel1.Controls.Add(Repeater1);
    }
} 
```

![在此处输入图像描述](../Images/ab134101c3a4c9fd5b024211aafb8877.png)

注意：输出应该像一个表格。一列中的数字和另一列中的字母。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T12:21:53.717

如果要向控件添加样式，请使用该`Style`属性。

```
 lbl.Style.Add(HtmlTextWriterStyle.BackgroundColor, "green"); 
```

但正如上面的评论所暗示的，你正在以相反的方式处理这个问题。如果您想要像表格一样的输出，请使用`<table>`标签

# asp.net - HTTP 错误 405.0 - 方法不允许

> ID：11238585
> 
> 赞同：2
> 
> 时间：2012-06-28T05:34:54.127
> 
> 标签：asp.net

我们在独立 PC 上运行 IIS 7.5 的 Windows Web Server2008 R2 上部署一个站点 asp.net 1.1。它在 2003 年的机器上运行良好。2008机器是下面麻烦的机器；

我们收到以下错误消息：

HTTP 错误 405.0 - 方法不允许 由于正在使用无效的方法（HTTP 动词），因此无法显示您要查找的页面。模块：StaticFileModule 通知：ExecuteRequestHandler 处理程序：StaticFile

1.) 我们在静态文件处理程序的请求权限中添加了“POST”动词。

2.)[在 IIS 上将表单发布到 PHP 时，是什么导致 HTTP 405“无效方法（HTTP 动词）”错误？](https://stackoverflow.com/questions/1400210/what-causes-an-http-405-invalid-method-http-verb-error-when-posting-a-form-t) 我们尝试了其他论坛的各种建议，但都没有奏效，我非常感谢一些帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T02:00:21.067

如果您的站点使用 JSON 对象并且“请求的 URL”是 *.json 文件，请执行以下操作：

[http://www.uipress.com/add-json-handler-support-in-iis-7/#.UT_bw9aOR8E](http://www.uipress.com/add-json-handler-support-in-iis-7/#.UT_bw9aOR8E)

# java - ObjectOutputStream 对象如何调用 Serializable 对象的私有 writeObject 方法

> ID：11238593
> 
> 赞同：1
> 
> 时间：2012-06-28T05:35:48.190
> 
> 标签：java, serialization

当我运行这个演示时，它调用 TestBean 的`writeObject`私有方法

这怎么可能 ？

这是代码：

```
import java.io.FileOutputStream;

public class Test {

    public static void main(String[] args) {

        try {
            TestBean testBean = test.new TestBean();

            testBean.setSize(23);
            testBean.setWidth(167);

            FileOutputStream fos =
                new FileOutputStream(new File("d:\\serial.txt"));
            ObjectOutputStream oos = new ObjectOutputStream(fos);
            oos.writeObject(testBean);

            oos.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    class TestBean implements Serializable {

        private static final long serialVersionUID = 1L;

        private int size;
        private int width;

        public int getSize() {
            return size;
        }

        public void setSize(int size) {
            this.size = size;
        }

        public int getWidth() {
            return width;
        }

        public void setWidth(int width) {
            this.width = width;
        }

        private void writeObject(ObjectOutputStream out) throws IOException {
            System.out.println("TestBean writeObject");
            out.defaultWriteObject();
        }

        private void readObject(ObjectInputStream input) throws IOException,
                                                                ClassNotFoundException {
            System.out.println("TestBean readObject ===================> ");
            input.defaultReadObject();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T06:26:16.213

如果您的可序列化对象有任何 writeObject 方法，它将被调用，否则将调用 defaultWriteObject 方法。

使用反射可以调用私有方法。如果您在 writeSerialData 方法中看到 ObjectOutputStream 类的源代码，下面的代码将回答您的问题。

```
if (slotDesc.hasWriteObjectMethod()) {
 // through reflection it will call the Serializable objects writeObject method
} else {
// the below is the same method called by defaultWriteObject method also.
writeSerialData(obj, desc);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T05:55:13.590

> 虚拟机将自动检查是否在相应的方法调用期间声明了任一方法。虚拟机可以随时调用您的类的私有方法，但没有其他对象可以。因此，类的完整性得到维护，序列化协议可以继续正常工作。序列化协议始终以相同的方式使用，即调用 ObjectOutputStream.writeObject() 或 ObjectInputStream.readObject()。因此，即使提供了那些专门的私有方法，对象序列化的工作方式与任何调用对象都相同。

您将从本文中获得更多信息：

[发现 Java 序列化 API 的秘密](http://java.sun.com/developer/technicalArticles/Programming/serialization/)

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-06-28T05:45:46.713

它使用反射。私人和公共不是安全措施。那只是类用户的合同。

# php - 如何比较php中数组中的相同值？

> ID：11238595
> 
> 赞同：0
> 
> 时间：2012-06-28T05:36:02.253
> 
> 标签：php

我从数据库中获取值作为数组

```
<?php
    foreach($this->getlist as $value){
        foreach($this->listOfdealers as $list){

?>
<tr>
    <td>
        <input type="checkbox" name="list[]" value=<?php echo $list->nList?>
            <?php if($value->nSubList==$list->nList){echo 'checked';  } ?> />
        <label for="list_32"><?php echo $list->nList?>
        </label>
    </td>
</tr>
<?php
        }
    }
?> 
```

我只想比较两个数组值并在它们相等时显示选中的复选框，但这里显示的是 16 个复选框而不是 4 个，因为我使用了两个 for 循环，我不想要那个。

$this->getlist 是一个从数据库返回的数组

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:46:45.327

采用

```
foreach (array_expression as $key => $value)
    statement 
```

来自 [foreach 手册页](http://php.net/manual/de/control-structures.foreach.php)

因此您可以使用相同的索引来获取值

```
<?php
foreach($this->getlist as $index => $value)
{
$list = $this->listOfdealers[$index];
?><tr>
      <td>
          <input type="checkbox" name="list[]" value=<?php
              echo $list->nList ?> 
<?php if($value->nSubList==$list->nList){echo 'checked';  } ?> />
      <label for="list_32"><?php echo $list->nList?>
      </label>
      </td>
</tr>
<?php
}
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:44:52.080

您可以在 php 中使用 in_array 函数来比较数组值。您可以在[http://php.net/manual/en/function.in-array.php](http://php.net/manual/en/function.in-array.php)上查看更多详细信息。希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T05:52:33.243

请在下面找到您的问题的解决方案。它是使用 in_array 和 array_diff 的示例代码。您可以使用任一功能。

```
<?php
$var1 = array("test","test1","test2");
$var2 = array("test","test1","test2","test3");
$var3 = array();

foreach($var1 as $i)
{
    if(in_array($i,$var2))
    {
        //save the value
        array_push($var3,$i);
    }
    else
    {
        continue;
    }
}
//var3 will contain the values that are common in two arrays

//Another Method using array_diff
$array1 = array("a" => "green", "red", "blue", "red");
$array2 = array("b" => "green", "yellow", "red");
$result = array_diff($array1, $array2);

print_r($result);

?> 
```

# iphone - 如何在我的 iPhone 应用程序的键盘上添加一个图标来隐藏键盘？

> ID：11238596
> 
> 赞同：0
> 
> 时间：2012-06-28T05:36:04.860
> 
> 标签：iphone, ios, keyboard

如何在我的 iPhone 应用程序的字母键盘上添加一个图标来隐藏键盘？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:55:46.430

您可以更改键盘本身，但您可以添加带有按钮的工具栏。您可以将工具栏设置为文本字段/文本视图的附属视图（无论您使用什么）。并且可以在工具栏按钮的action方法中隐藏键盘。

```
-(IBAction)buttonPressed:(id)sender {
      [myTextField resignFirstResponder];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:43:20.257

在您的 .xib 文件中，根据需要设置返回键，并设置委托。并实现此方法以在完成按钮单击时退出键盘。（如果它是文本字段）

```
- (BOOL)textFieldShouldReturn:(UITextField*)txt
{

    [urTextFld resignFirstResponder];
} 
```

# android - Google API 验证码/访问令牌生成：错误 400：错误请求

> ID：11238598
> 
> 赞同：1
> 
> 时间：2012-06-28T05:36:31.150
> 
> 标签：android, oauth, google-play

我正在尝试获取访问令牌以使用 Google Web Play API，但它不起作用，并且不会提供有用的错误消息，而且 Google 不提供一点支持。

[https://developers.google.com/android-publisher/authorization](https://developers.google.com/android-publisher/authorization)

```
Client ID for web applications
Client ID:  37625491467222.apps.googleusercontent.com
Email address:  37625491467222@developer.gserviceaccount.com
Client secret:  XB5gwFt8w29Fs34540gr9urEGEmUHCLI
Redirect URIs:  http://www.kizbit.com/oauth2callback
JavaScript origins: http://www.kizbit.com 
```

刷新令牌： [http ://www.kizbit.com/oauth2callback?code=4/IAoP7JxYfe82KsuUwQRWQw2na_vreOM.MtjvGJqCG3IYshQV0ieZDArkfr1icAI](http://www.kizbit.com/oauth2callback?code=4/IAoP7JxYfe82KsuUwQRWQw2na_vreOM.MtjvGJqCG3IYshQV0ieZDArkfr1icAI)

[root@308321 ~]# cat authcode.txt grant_type=authorization_code&code=4%2FIAoP7JxYfe82KsuUwQRWQw2na_vreOM.MtjvGJqCG3IYshQV0ieZDArkfr1icAI&client_id=37625491467222.apps.googleusercontent.com&client_secret=XB5gwFt8w29Fs34540gr9urEGEmUHCLI&redirect_uri=http%3A%2F%2Fwww.kizbit.com%2Foauth2callback

```
[root@308321 ~]# wget -S --post-file=authcode.txt  https://accounts.google.com/o/oauth2/token
--2012-06-28 01:08:37--  https://accounts.google.com/o/oauth2/token
Resolving accounts.google.com... 2001:4860:b007::54, 74.125.142.84
Connecting to accounts.google.com|2001:4860:b007::54|:443... connected.
HTTP request sent, awaiting response...
  HTTP/1.0 400 Bad Request
  Cache-Control: no-cache, no-store, max-age=0, must-revalidate
  Pragma: no-cache
  Expires: Fri, 01 Jan 1990 00:00:00 GMT
  Date: Thu, 28 Jun 2012 05:08:40 GMT
  Content-Type: application/json
  X-Content-Type-Options: nosniff
  X-Frame-Options: SAMEORIGIN
  X-XSS-Protection: 1; mode=block
  Server: GSE
2012-06-28 01:08:
37 ERROR 400: Bad Request. 
```

我知道您不应该提供钥匙，但这没关系，因为它不起作用！

刷新令牌也不起作用。

不编码文件也不起作用：

```
[root@308321 ~]# cat authcode2.txt
grant_type=authorization_code
code=4/IAoP7JxYfe82KsuUwQRWQw2na_vreOM.MtjvGJqCG3IYshQV0ieZDArkfr1icAI
client_id=37625491467222.apps.googleusercontent.com
client_secret=XB5gwFt8w29Fs34540gr9urEGEmUHCLI
redirect_uri=http://www.kizbit.com/oauth2callback

[root@308321 ~]# wget -S --post-file=authcode2.txt  https://accounts.google.com/o/oauth2/token
--2012-06-28 01:33:44--  https://accounts.google.com/o/oauth2/token
Resolving accounts.google.com... 2001:4860:b007::54, 74.125.142.84
Connecting to accounts.google.com|2001:4860:b007::54|:443... connected.
HTTP request sent, awaiting response...
  HTTP/1.0 400 Bad Request
  Cache-Control: no-cache, no-store, max-age=0, must-revalidate
  Pragma: no-cache
  Expires: Fri, 01 Jan 1990 00:00:00 GMT
  Date: Thu, 28 Jun 2012 05:33:47 GMT
  Content-Type: application/json
  X-Content-Type-Options: nosniff
  X-Frame-Options: SAMEORIGIN
  X-XSS-Protection: 1; mode=block
  Server: GSE
2012-06-28 01:33:44 ERROR 400: Bad Request. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T22:27:14.363

我不知道我是如何解决这个问题的。我可能做过的一些可能的事情：

1.  从与网页授权请求相同的 IP 发出访问令牌请求以获取代码。
2.  用于`wget -dSO- --post-file`调试。
3.  在网页授权后非常快速地发出访问令牌请求。也许代码只持续10m？
4.  在 Google API 控制台中向 Javascript 源添加更多 IP。
5.  重新 URL 对 POST 文件进行编码并去除任何尾随的换行符。

无论如何，一旦我获得了访问令牌和非常重要的刷新令牌，我就很好了。

# c# - C# 文本框显示以前的书面文本

> ID：11238602
> 
> 赞同：1
> 
> 时间：2012-06-28T05:36:54.613
> 
> 标签：c#, winforms, textbox

例如，如果你去 facebook 并双击登录文本框，那么会有一些以前有人写的登录。有什么方法可以在 C# 文本框上进行先前输入的下拉列表吗？我不想要组合框。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T05:51:10.737

请参阅 TextBox 的[TextBox.AutoCompleteMode](http://msdn.microsoft.com/en-us/library/system.windows.forms.textbox.autocompletemode) 和[TextBox.AutoCompleteSource](http://msdn.microsoft.com/en-us/library/system.windows.forms.textbox.autocompletesource)属性。您需要在以下几行中执行某些操作：

```
namespace WindowsApplication1
{
    public partial class Form1 : Form
    {
        AutoCompleteStringCollection autoComplete = new AutoCompleteStringCollection();
        public Form1()
        {
            InitializeComponent();
        }

        private void button1_Click(object sender, EventArgs e)
        {
            autoComplete.Add(textBox1.Text);

        }

        private void Form1_Load(object sender, EventArgs e)
        {
            textBox1.AutoCompleteMode = AutoCompleteMode.SuggestAppend;
            textBox1.AutoCompleteSource = AutoCompleteSource.CustomSource;
            //auto.Add(textBox1.Text);
            textBox1.AutoCompleteCustomSource = autoComplete;
        }
    }
} 
```

检查以下教程：[WinForms Windows 窗体应用程序中的自动完成文本框](http://csharpdotnetfreak.blogspot.com/2009/01/winforms-autocomplete-textbox-using-c.html)

# c# - 创建可扩展 Web 服务的好指南

> ID：11238606
> 
> 赞同：0
> 
> 时间：2012-06-28T05:37:17.807
> 
> 标签：c#, asp.net, wcf, web-services

我目前正在做 c#.net 开发，我想创建一个可以与我的 web 应用程序和我的 iphone 应用程序一起使用的 web 服务。理想情况下，我想使用 JSON。是否有任何好的指南可以帮助我使用 WCF 构建良好的可扩展 Web 服务？我目前没有资金购买一本书，所以我希望一套在线指南可以让我达到开始编码的理解水平。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:39:44.653

我会使用 WebAPI，即以前的 WCF WebAPI。现在是 Microsoft MVC 的一部分。

尝试一下！大量在线资源:-)

你可以从这里开始：[http ://www.asp.net/web-api](http://www.asp.net/web-api)

基本上；您可以获得一个易于使用的 Web 应用程序 REST API，而无需进行 WCF 配置。

# c# - 自定义绑定 .net 表单

> ID：11238607
> 
> 赞同：2
> 
> 时间：2012-06-28T05:37:22.703
> 
> 标签：c#, winforms, binding

有没有办法在 .net win 表单中获得自定义绑定行为？

例如，我将我的控件连接到一个 BindingSource 对象并添加一个绑定，如

```
this.slider.DataBindings.Add(new System.Windows.Forms.Binding("Enabled", this.bindingSourceModel, "FloatProperty  > 0.5f", true)); 
```

上述方法无法正常工作，但我希望在 dataSource.FloatProperty 大于 0.5f 时启用它。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T23:25:53.497

我明白你想要做什么，所以为了演示，我稍微修改了你的情况：UI设置很明显，有 a`TrackBar`和 a `Button`，这里的问题是将`Enabled`属性绑定`button`到布尔值表达`trackBar.Value > 50`。

这个想法是将主要形式变成类似于 ViewModel 的东西（如在 MVVM 中）。观察我正在实施`INotifyPropertyChanged`.

![在此处输入图像描述](../Images/efbfeb4a9c59d49fb2a08134a126e496.png) ![在此处输入图像描述](../Images/edfc746c510c4bf20227f755be9698ee.png)

```
public partial class ManiacalBindingForm : Form, INotifyPropertyChanged {

    public ManiacalBindingForm() {
        InitializeComponent();

        this.button.DataBindings.Add("Enabled", this, "ManiacalThreshold", true, DataSourceUpdateMode.OnPropertyChanged);

        this.trackBar.ValueChanged += (s, e) => {
            this.Text = string.Format("ManiacalBindingForm: {0}", this.trackBar.Value);
            if (PropertyChanged != null)
                PropertyChanged(this, new PropertyChangedEventArgs("ManiacalThreshold"));
        };
    }

    public bool ManiacalThreshold {
        get { return this.trackBar.Value > 50; }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    ...
} 
```

**现在**，这是我个人的观察：虽然对你的目标有一个重要的解释，但你的目标有点疯狂。您必须思考为什么要通过数据绑定来实现这一目标。绑定主要针对属性值的自动、*双向、同步。*通过直接绑定到“模型”来进行这种类型的 UI 更新更加疯狂。但是，您因疯狂而受到赞誉！;-)

# ios - Bump 不由自主地连接和断开连接 - iOS

> ID：11238627
> 
> 赞同：0
> 
> 时间：2012-06-28T05:39:06.820
> 
> 标签：ios, bump

我已经在我的新 iOS 应用中实现了 Bump Api 3.0。它工作正常，我可以传输小于 20KB 的图像以及字符串和字典。

真正的问题是，Bump 会在没有通知的情况下连接和断开连接。到目前为止，我有 Bump 的演示版密钥。这只发生在 Demo Api 密钥中吗？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T11:44:53.690

Bump SDK在应用程序启动bump会话时在应用程序中有会话管理，它准备好bump，此时如果bump事件发生，则它将数据成功传输到另一个设备。Bump 具有“共享实例”意味着在 Bump 时为整个应用程序平均共享。所以需要关闭碰撞会话。然后，我们在凹凸技术事件中调用凹凸对象的结束会话。

之后，如果发生碰撞事件，则不会将数据传输到另一台设备，因为碰撞会话未处于活动状态。我在我的卡交换应用程序中使用了这些东西，使用了凹凸技术。

由于演示密钥（开发密钥）或任何东西，没有问题。

# c# - OnPaint 方法未正确绘制矩形

> ID：11238628
> 
> 赞同：0
> 
> 时间：2012-06-28T05:39:12.873
> 
> 标签：c#, .net, winforms, paint

我有以下绘制矩形的绘制事件（表单）：

```
void LogicSimulationViewerForm_Paint(object sender, PaintEventArgs e) {
    Rectangle rect = new Rectangle(100, 100, 400, 100);
    Graphics c = rtbLogicCode.CreateGraphics();
    c.DrawRectangle(new Pen(Color.Black, 3), rect);
} 
```

矩形显示片刻，然后立即消失。当用户调整表单大小时，矩形只会暂时再次显示。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T05:51:04.310

不要使用[Control.CreateGraphics()](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.creategraphics.aspx)方法，使用[PaintEventArgs.Graphics](http://msdn.microsoft.com/en-us/library/system.windows.forms.painteventargs.graphics.aspx)属性：

```
void LogicSimulationViewerForm_Paint(object sender, PaintEventArgs e) {
    Rectangle rect = new Rectangle(100, 100, 400, 100);
    e.Graphics.DrawRectangle(Pens.Black, rect);
} 
```

# php - MySql：使用 GROUP_CONCAT 和 COUNT

> ID：11238630
> 
> 赞同：0
> 
> 时间：2012-06-28T05:39:24.743
> 
> 标签：php, mysql, sql

我有一个数据库，其中有一个用户表以及他们奖励多少次记录表我想要这样的结果（WEEK WISE）

```
user_name user_week user_reward
abc          24,25,26    4,5,6 
```

我的查询是这样的

```
SELECT WEEK(cpd.added_date),COUNT(cpd.result)
FROM cron_players_data cpd WHERE cpd.player_id = 81
AND cpd.result = 2 AND cpd.status = 1
GROUP BY WEEK(cpd.added_date); 
```

结果是

```
user_name user_week user_reward
abc          24    4
abc          24    5
abc          24    6 
```

我将 group_concat 与 count 一起使用，但它没用，是否有任何替代方法可以实现此期望结果

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:01:32.343

您有 2 级分组，第一周，然后是用户名，所以我建议您对第一个分组使用子查询，例如：

```
SELECT
 user_name,
 GROUP_CONCAT(user_week) AS user_weeks, 
 GROUP_CONCAT(user_reward) AS user_rewards
FROM (
  SELECT
   user_name,
   WEEK(cpd.added_date) AS user_week,
   COUNT(cpd.result) AS user_reward
  FROM cron_players_data AS cpd 
  WHERE
   cpd.player_id = 81 AND
   cpd.result = 2 AND
   cpd.status = 1
  GROUP BY user_week
) as temp
GROUP BY user_name; 
```

# asp.net - 如何根据条件突出显示devexpress中asp列表框中的行

> ID：11238633
> 
> 赞同：0
> 
> 时间：2012-06-28T05:39:47.497
> 
> 标签：asp.net, devexpress, appearance, listboxitems

我想知道是否可以根据条件突出显示 asp 列表框中的行。在我的项目中，我有两个列表框并在它们之间移动项目，因此我需要根据条件为列表框行着色（例如，将那些被阻止或正在使用的项目涂成红色，像这样）

谢谢你

# php - Symfony 1.4 / Doctrine 1.2 无法识别 APC 扩展已加载

> ID：11238637
> 
> 赞同：0
> 
> 时间：2012-06-28T05:40:41.597
> 
> 标签：php, apache, symfony1, doctrine, apc

我正在尝试配置 APC 以使用我的 Symfony 1.4/Doctrine 1.2 网站。我目前正在使用 WAMP 2.1，并且成功安装了 APC 扩展。当我执行 phpinfo() 时，我得到显示 APC 已启用的描述。

```
apc
APC Support enabled
Version 3.1.6
APC Debugging   Disabled
MMAP Support    Disabled
Locking type    File Locks
Revision    $Revision: 303642 $
Build Date  Dec 1 2010 21:08:06

Directive   Local Value Master Value
apc.cache_by_default    On  On
apc.canonicalize    On  On
apc.coredump_unmap  Off Off
apc.enable_cli  Off Off
apc.enabled On  On
apc.file_md5    Off Off
apc.file_update_protection  2   2
apc.filters no value    no value
apc.gc_ttl  3600    3600
apc.include_once_override   Off Off
apc.lazy_classes    Off Off
apc.lazy_functions  Off Off
apc.max_file_size   10M 10M
apc.num_files_hint  1000    1000
apc.preload_path    no value    no value
apc.report_autofilter   Off Off
apc.rfc1867 Off Off
apc.rfc1867_freq    0   0
apc.rfc1867_name    APC_UPLOAD_PROGRESS APC_UPLOAD_PROGRESS
apc.rfc1867_prefix  upload_ upload_
apc.rfc1867_ttl 3600    3600
apc.shm_segments    1   1
apc.shm_size    64M 64M
apc.slam_defense    On  On
apc.stat    On  On
apc.stat_ctime  Off Off
apc.ttl 0   0
apc.use_request_time    On  On
apc.user_entries_hint   4096    4096
apc.user_ttl    0   0
apc.write_lock  On  On 
```

但是，当我尝试将查询缓存设置为在 symfony ProjectConfiguration.class 中使用 APC 时，我收到一条错误消息，指出未加载 APC 扩展：

```
 public function configureDoctrine(Doctrine_Manager $manager)
  {
      $manager->setAttribute(Doctrine_Core::ATTR_QUERY_CLASS, 'Doctrine_Query_Extra');
      $manager->setAttribute(Doctrine_Core::ATTR_QUERY_CACHE, new Doctrine_Cache_Apc());  //use APC to query cache
  } 
```

这是我在运行清除缓存（php symfony cc）时遇到的错误：

> 致命错误：未捕获的异常“Doctrine_Cache_Exception”和消息“必须加载 apc 扩展才能使用此后端！” 在 C:..\lib\vend 或 \symfony-1.4.14\lib\plugins\sfDoctrinePlugin\lib\vendor\doctrine\Doctrine\Cach e\Apc.php:44

我一直在谷歌搜索，我似乎无法弄清楚。我重新启动了 WAMP 无济于事。我认为这可能是我下载的 APC 扩展的问题。我读到我必须为 WAMPSERVER 2.1 使用 VC6 编译版本，所以我这样做了。我找到了一个标有“php_apc_316_php53_vc6.dll”的二进制文件。我可以看到它在 phpinfo() 中启用的事实应该意味着它已正确安装，对吗？在 ProjectConfiguration.class 中添加该行之前，我是否缺少一些 symfony 配置？另一方面，当我尝试使用 memcache 作为查询缓存时，我遇到了完全相同的错误，即使我的 memcache 服务器已安装并正常运行，这让我相信我错过了某种 Symfony/Doctrine 配置步骤。

任何帮助将非常感激！谢谢！坦率

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T18:08:24.527

弄清楚了。事实证明这是一个简单的修复。我在 CLI 中使用的 php 与我设置 APC 的 php 版本相关联的版本不同。我的 wampserver 上有 2 个版本的 PHP 设置。Windows 7 中的 path 环境变量设置为错误的 php 版本目录。所以当我运行“php symfony cc”时，它使用了错误的 php 版本。

信用在这里： http://oldforum.symfony-project.org/index.php/m/93957/?srch= [memcached#msg_93957](http://oldforum.symfony-project.org/index.php/m/93957/?srch=memcached#msg_93957)

希望这可以帮助某人。

# ruby-on-rails - 如何从rails 3中删除特定语言

> ID：11238638
> 
> 赞同：1
> 
> 时间：2012-06-28T05:40:50.003
> 
> 标签：ruby-on-rails, ruby-on-rails-3, localization

我有一个使用英语和法语两种语言的 Rails 项目。我想完全删除法语。有简单的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T11:20:39.897

在哪里/如何设置语言环境变量？无论你在哪里做 - 你不能硬编码它以`:en`使法语永远不会被使用吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T08:15:13.867

好的，因此`filter :locale`在 routes.rb 中有一个，并且在应用程序控制器中检测到了该语言。

删除之前设置语言的过滤器就可以了。

# android - 当我在列表中使用 Checkox 时未调用 onListItemClick 方法

> ID：11238639
> 
> 赞同：2
> 
> 时间：2012-06-28T05:40:50.440
> 
> 标签：android, android-widget, listactivity, listadapter

大家好，我是 android 新手...我想显示 CheckBox 的动态列表，并在单击多个 CheckBox 时，我希望将它们的数据放在一个字符串中...但我的问题是我无法调用 onListItemClick 方法，如果我在我的列表中使用复选框...

然而，我的理解和经验是，在列表项中放置一个可聚焦的视图可以防止在单击列表项时在 ListActivity 中触发 onListItemClick()。但是任何人都可以给我解决方案...

我已经提到了像这样的链接

[如何使用列表中的按钮在 Listactivity 中触发 onListItemClick？](https://stackoverflow.com/questions/1821871/android-how-to-fire-onlistitemclick-in-listactivity-with-buttons-in-list)

[Android ListActivity onListItemClick 调用适配器getView](https://stackoverflow.com/questions/5023074/android-listactivity-onlistitemclick-calls-adapter-getview)

但无法找到解决方案...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:45:16.623

要使其正常工作，您可以通过属性将 ListItem 中的复选框和其他字段设置为不可点击和不可聚焦：

```
android:clickable="false"
android:focusable="false" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:46:22.560

确保在适配器类中将复选框设置为不可聚焦，如下所示：

```
 yourCheckbox.setFocusable(false); 
```

在 xml 文件中：

```
 android:focusable="false" 
```

# postgresql - Postgresql 中的 NOT EXISTS 子句

> ID：11238642
> 
> 赞同：27
> 
> 时间：2012-06-28T05:41:09.893
> 
> 标签：postgresql, greenplum

任何人都知道如何在 Postgresql 中执行这样的查询？

```
SELECT * 
FROM tabA 
WHERE NOT EXISTS (
    SELECT * 
    FROM tabB 
    WHERE tabB.id = tabA.id
) 
```

当我执行这样的查询时，postgresql 抱怨“ `ERROR: Greenplum Database does not yet support that query`。”

编辑：这个怎么样：

```
SELECT * 
FROM tabA 
WHERE NOT EXISTS (
    SELECT * 
    FROM tabB WHERE tabB.id = tabA.id AND tabB.id2 = tabA.id2
) 
```

**编辑：**
我在 postgresql 8.2.15 中测试了@ypercube 提供的 4 个答案。结论是：

1）第一个在这个版本的postgresql中不起作用，正如我在上面的问题中所说的那样。错误消息也可以在那里找到。

2）对于其他三个答案，执行速度为：(3)LEFT JOIN > (4)EXCEPT >> (2)NOT IN。
具体来说，对于具有相同语法的查询，（3）LEFT JOIN 大约需要 5580 毫秒，（4）EXCEPT 大约需要 13502 毫秒，以及（2）NOT IN 需要超过 100000（实际上我没有等待它完成）。
**NOT IN 子句这么慢有什么特别的原因吗？**
程

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-06-28T05:58:56.707

有 3 种（主要）方法可以进行这种查询：

1.  `NOT EXISTS`相关子查询

2.  `NOT IN`子查询

3.  `LEFT JOIN`检查`IS NULL`：

您发现第一种方法在 Greenplum 中确实有效。@Marco 和 @juergen 提供了第二种方式。这是第三个，它可能会绕过 Greenplum 的限制：

```
SELECT tabA.* 
FROM 
    tabA 
  LEFT JOIN 
    tabB 
      ON  tabB.id = tabA.id 
      AND tabB.id2 = tabA.id2
WHERE tabB.id IS NULL ; 
```

这（第 4 种方式）也适用于 Postgres（支持`EXCEPT`运算符）：

```
SELECT a.*
FROM a
WHERE id IN
      ( SELECT id
        FROM a
      EXCEPT
        SELECT id
        FROM b
      ) ; 
```

在[SQL-Fiddle](http://sqlfiddle.com/#!1/1dbb8/5)中测试（所有 4 个都在 Postgres 中工作）。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-28T05:44:03.780

您遗漏的部分错误可能会为您指明正确的方向。我认为它说“详细信息：查询包含相关子查询”。所以你必须用连接或不相关的子查询重写这些。

```
SELECT * FROM tabA WHERE id NOT IN (SELECT id FROM tabB); 
```

至于第二个查询，试试

```
SELECT * FROM tabA WHERE (id, id2) NOT IN (SELECT id, id2 FROM tabB); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-28T05:43:38.210

```
SELECT * FROM tabA 
WHERE id not in  (SELECT id FROM tabB) 
```

# android - Android - Eprof 工具

> ID：11238646
> 
> 赞同：1
> 
> 时间：2012-06-28T05:41:40.377
> 
> 标签：android, performance

我有兴趣了解我开发的 android 应用程序的电池消耗。我听说了用于此目的的术语“Eprof 工具”。但我没有找到有关如何下载该工具和使用该工具的步骤的详细信息。

如果对此有任何指示，请告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T02:11:31.510

如果您在 Likdin 看到 Abhinav Pathak，他正在担任“IOS 电源工程师 - Apple”，而 Ming Zhang 是微软 8 年的研究员。在论文“让我的手机保持唤醒”之后，我觉得他们也在为 iOs 开发。

我找到的最好的选择是 AppScope： [https](https://www.usenix.org/sites/default/files/conference/protected-files/yoon_atc12_slides.pdf) : //www.usenix.org/sites/default/files/conference/protected-files/yoon_atc12_slides.pdf 如果你看到幻灯片 26，他们在“eprof 细粒度能量”中做同样的事情”。您也可以查看幻灯片 29... PowerTutor 似乎也是一个不错的选择。

AppScope 包 [http://css3.yonsei.ac.kr:5612/appscope/wiki/Downloads](http://css3.yonsei.ac.kr:5612/appscope/wiki/Downloads)

另请参阅... ANEPROF：Android Java 虚拟机和应用程序的能量分析

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-22T13:15:56.117

我开发了一个库，可以帮助我计算在前台或后台运行的任何应用程序的电池消耗。

此外，E prof 和 g prof 工具不是公开市场上可用的工具。很少有研究人员将这些工具用于他们自己的项目。

感谢所有的支持。

# linq - 这些是不正确的使用 LINQ 的方式吗？

> ID：11238651
> 
> 赞同：2
> 
> 时间：2012-06-28T05:42:32.763
> 
> 标签：linq, linq-to-xml

只是想知道这些是否是使用 LINQ 的不当方式。他们工作，只是不知道他们是否破坏了任何东西。

// 示例 1：从 XML 元素中获取字符串（这里，我跳过了 LINQ 查询）

```
measurements.a = (string)bm.Descendants("a").SingleOrDefault(); 
```

// 示例 2：使用 Descendants 进行“钻取”，直到找到我想要的元素。// 我在这里有 2 个后代的原因是因为“b”需要是“a”的孩子

```
measurements.title = (from e in bm.Descendants("a").Descendants("b")
                                    select e.Value).SingleOrDefault(); 
```

谢谢你的时间。：） 詹姆士

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:53:52.047

在我看来，这些都是完全正确的。唯一需要注意的是，您可能想要获取 XElement 的值，而不是元素本身：

```
var a = (string)bm.Descendants("a").SingleOrDefault().Value; 
```

如果您将单个后代转换为字符串，但它包含复杂的内容（例如子元素）而不是字符串，您可能会遇到问题。

# xml - 注释中不允许使用“--”：为什么会发生此错误

> ID：11238652
> 
> 赞同：1
> 
> 时间：2012-06-28T05:42:34.263
> 
> 标签：xml, xml-comments

我在 xml 文档中使用了 1 条评论。

**<!-- ABC 于 2012-02-02 为版本 v3 编码 -->**

它在我的系统上运行良好。但是当我将我的软件部署到服务器时，它在这条线上给出了错误。

**评论中不允许出现“--”。**

如何解决这个问题？

请告诉我是否有任何信息可以提供给您...因为我对 xml 不太了解。我根据一些示例构建了它。

# c++ - 转换函数指针

> ID：11238653
> 
> 赞同：2
> 
> 时间：2012-06-28T00:22:46.150
> 
> 标签：c++

假设我有一个功能

```
void myFun(int*) 
```

在 C++ 中，以下究竟是什么意思

```
 ( void(*)(void*) )&myFun 
```

它是指向以 a`(void*)`作为参数并返回 a的函数的指针`void`吗？允许这种类型的演员表吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T05:49:54.233

就目前而言，我很确定这是不允许的。

如果您删除首字母周围的括号`void`以获得：

```
void (*)(void *) 
```

...那么是的，它是一个指向返回 void 并将指向 void 的指针作为其唯一参数的函数的指针。要转换为该类型，您需要将类型的整个名称括在括号中，这样您将获得: `(void (*)(void *))`，您将在其后跟被转换的值，以获得：

```
(void (*)(void *))&myFun; 
```

至少如果内存服务，是的，这是允许的，尽管通过结果取消引用指针（即尝试调用它指向的函数）可能会产生未定义的行为。特别是，当/如果您调用该函数时，它需要一个指向 int 的指针，并且（可能）将使用它指向的任何内容作为 int。但是，如果它指向的内容没有正确对齐以用作 int，则它不太可能按预期工作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-28T07:58:56.107

演员是允许的，由 5.2.10 (6):

> 函数指针可以显式转换为不同类型的函数指针。通过指向与函数定义中使用的类型不同的函数类型（8.3.5）的指针调用函数的效果是未定义的。除了将“指向 T1 的指针”类型的纯右值转换为“指向 T2 的指针”类型（其中 T1 和 T2 是函数类型）并返回其原始类型会产生原始指针值之外，这种指针转换的结果是未指定的.

这相当于 C 6.3.2.3 (8)：

> 指向一种类型的函数的指针可以转换为指向另一种类型的函数的指针，然后再返回；结果应与原始指针比较。如果转换后的指针用于调用其类型与指向的类型不兼容的函数，则行为未定义。

在实践中，通过具有不同但兼容的参数类型（尤其是指针类型）的函数指针调用通常会成功，并且具有对参数进行 C 样式强制转换的效果。但是，这绝不是保证；[https://stackoverflow.com/a/189126/567292](https://stackoverflow.com/a/189126/567292)讨论了 gcc 决定进行此类未定义函数指针强制转换调用的情况`abort`。

# javascript - 如何将数据传递到嵌套组件的范围内？

> ID：11238655
> 
> 赞同：2
> 
> 时间：2012-06-28T05:42:52.640
> 
> 标签：javascript, angularjs

我有一个带有请求/响应对列表的控制器，并尝试使用组件（指令）来呈现它。

似乎只有字符串属性才能进入组件的范围，对象被丢弃。

在此处查看*损坏*的代码：http: [//jsfiddle.net/4QWMq/](http://jsfiddle.net/4QWMq/)

任何想法如何解决这个问题并让列表出现？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T03:19:22.273

咬我的是骆驼案。

使所有属性名称小写解决了这个问题。Angular 模板是有效的 HTML，并且属性名称在 HTML 中不区分大小写。

更新的小提琴工作正常：http: [//jsfiddle.net/4QWMq/2/](http://jsfiddle.net/4QWMq/2/)

# xml - 无法使用具有多个命名空间的 linq to xml 从 XML 检索数据

> ID：11238656
> 
> 赞同：0
> 
> 时间：2012-06-28T05:42:59.267
> 
> 标签：xml, vb.net, linq-to-xml, xml-database

我无法从 XML 中检索数据，看起来我可能会丢失

我需要检索的数据如下所示：

```
 <rs:data>
    <z:row billno='B0033582' billdtm='2012-05-21T22:57:02' tab_room='        ' waiter='SUP   ' pax='1' discount='.00000000'
    billdisamt='.00000000'   /> 
```

`<z:row`由于这个原因，我无法检索数据`<row`

命名空间详细信息

```
<xml xmlns:s='uuid:BDC6E3F0-6DA3-11d1-A2A3-00AA00C14882'
    xmlns:dt='uuid:C2F41010-65B3-11d1-A29F-00AA00C14882'
    xmlns:rs='urn:schemas-microsoft-com:rowset'
    xmlns:z='#RowsetSchema'> 
```

如果我将其更改为行，我可以检索数据，是否可以在行开头时检索行信息`<z:row` `z:`是我猜这里给出的命名空间引用`xmlns:z='#RowsetSchema'`。

请帮我把数据拿出来

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T15:41:21.140

答案很简单，

只需进行这些小的更改，将这些添加到顶部

```
Imports <xmlns:rs='urn:schemas-microsoft-com:rowset'>
Imports <xmlns:z='#RowsetSchema'> 
```

这应该包含您的命名空间信息，通常在 xml 文件的前几行中可用

然后对于使用命名空间引用的元素，只需添加 z:referred about`<z:row>`

尽管到处搜索，我还是找不到解决方案，希望其他人会觉得这很有用。

# blackberry - 是否有适用于黑莓手机的 IDE？

> ID：11238660
> 
> 赞同：0
> 
> 时间：2012-06-28T05:43:18.710
> 
> 标签：blackberry

是否有适用于黑莓手机的 IDE？我想要一个可以像应用程序一样安装并在您的手机上运行的软件，就像您个人计算机上的 IDE 一样。一个专门用 Python、JavaScript 和 C 语言编写代码的应用程序会很棒。它存在还是我在做梦？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:50:05.630

你为什么要在你的“手机”上安装一个 IDE——可能是一个平板设备，但是嗯……你可以使用 ASE 在 Android 上获得不同的解释语言，但没有——你甚至会如何设计 GUI、代码等……？可悲的是，现在这是一个梦想（即使在技术上可能，由于 UI 的原因，它是不切实际的）。还不如只是 VPN 到服务器并使用屏幕在服务器上开发所需的所有库和工具。

**更新**：看过 OP 的编辑，所以尽管仍有可能，但我的回答是*你在做梦*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-03T06:27:53.597

实际上，codepen.io 有很好的 HTML、CSS 和 JavaScript 编码接口。使用 5.5 英寸的手机对我来说看起来不错。

# spring - 在 find() 导致空实体之前休眠不刷新（使用 jpa2 的 JBoss AS7 容器管理 emf）

> ID：11238662
> 
> 赞同：0
> 
> 时间：2012-06-28T05:43:21.610
> 
> 标签：spring, hibernate, jpa-2.0, jboss7.x

我将我的应用程序的实体管理器工厂从弹簧管理切换到容器管理并且遇到了问题。在创建实体时，有时我必须在最初创建实体的同一事务中查询它，然后才能在最后自动刷新它。在春天，实体管理器会（我相信）在运行 find 之前自动刷新上下文并能够返回正确的对象，但在 jboss 中，find 方法返回 null。

这是问题的一个示例：

```
@PersistenceContext
private EntityManager entityManager;

private void test(){
    Person person = new Person("firstname", "lastname", "email", "user", "pass", Person.PersonType.admin);
    entityManager.persist(person);
    assert person.getId() != null;
    Person person2 = entityManager.find(Person.class, person.getId());
    assert person2 != null; //fail in jboss, ok in Spring
} 
```

如果我尝试在和方法`entityManager.flush()`之间添加调用，jboss 会抛出错误，无论我是否在运行测试的方法/类周围抛出 @Transactional 注释。`persist()``find()``javax.persistence.TransactionRequiredException: no transaction is in progress`

我的 persistence.xml 文件设置了`<property name="org.hibernate.FlushMode" value="auto"/>`，但它似乎不起作用。

是否有一些配置属性我错过了告诉 jboss 在运行 Find 之前将其上下文刷新到数据库？还是我错误地订购了我的陈述？

我已经将我的[persistence.xml](http://pastebin.com/BPXxxRbY)和[my-ds.xml](http://pastebin.com/tHjhZTqi)文件放在了 pastebin 上。

谢谢您的帮助。

## 编辑

解决。请参阅下面的评论

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T23:23:25.637

上传我的 spring-data.xml 后不久，我意识到我忘记了 bean。添加后，@Transactional 标记按预期工作，问题得到解决。

# android - jQuery Mobile 在 data-rel="back" 上发布。以及返回上一页时如何在拆分视图的左侧面板中突出显示相应的列表项

> ID：11238666
> 
> 赞同：0
> 
> 时间：2012-06-28T05:44:02.980
> 
> 标签：android, jquery, iphone, jquery-mobile, cordova

我已经使用***`jQuery on PhoneGap.`***

在那里，我使用了一个**左右两个面板的拆分视图。**

在左侧面板中，当*我为第 1 页选择列表项时，它会在右侧面板中显示 page1。*

![在此处输入图像描述](../Images/6f56671cbde020b76a52dcdb82c7284f.png)

在第 1 页中，我有一个按钮“ **page1 info==>** ”，它将 page1 移动到下一页 page1 的详细信息。

![在此处输入图像描述](../Images/4f03c6508d37ae28d10f48f021b31d43.png)

在详细页面中，我有一个返回“ **xPage1** ”按钮，它返回到上一页，即 page1。

在后退按钮实现中，我有一个**条件**是**我无法使用页面 id 返回到第 1 页**

作为**`href="#page1"`**

`<a href="#page1" id="" data-role="button" data-icon="delete" class="ui-btn-left" data-theme="c">Page1</a>`

所以我用**`data-rel="back"`**

```
<a href="#" data-rel="back" data-role="button" data-icon="delete" class="ui-btn-left"  data-theme="c">Page1</a> 
```

是的，它可以返回上一页。

![在此处输入图像描述](../Images/b3f33fa3f641cce05278cc60035d0f8b.png)

但是当我们返回 page1 上的选定按钮时，它的**`stay highlighted so longer`**. 这是由于**`data-rel="back"`**。

***我这里需要两个要求***

1.  **如上所示，**按钮不再突出显示。****
***   **突出显示活动焦点在左侧面板上的选定项目上，而不是在右侧面板的按钮上** ，如下所示。**

 **![在此处输入图像描述](../Images/7957f8a821930f5e38a4346646e39ebe.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:03:28.747

与其给出，不如给出**xPage1中****Go to Pg-1**的`data-rel="back"`href 链接。并使按钮默认突出显示。**

# apache - CakePHP htaccess 用于删除 www

> ID：11238674
> 
> 赞同：0
> 
> 时间：2012-06-28T05:44:53.297
> 
> 标签：apache, .htaccess, cakephp, cakephp-2.0, no-www

我知道 htaccess 重定向存在太多问题，但我找不到确切的解决方案。如果存在匹配的问题，我很抱歉。

在我的公共 html (webroot) 文件夹中有以下 htaccess 文件：

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ index.php [QSA,L]
</IfModule> 
```

然后，为了将带有“www”的 URL 重定向到“非 www”，我添加了两行。文件变成了这样：

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ index.php [QSA,L]

    RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
    RewriteRule ^(.*)$ http://%1/$1 [R=301,L]

</IfModule> 
```

所以问题是， **www.example.com** 重定向到**example.com** 但 **www.example.com/mycontroller/**没有重定向到**example.com/mycontroller/**

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T09:24:59.443

第一个 RewriteRule 会将没有实际物理文件/文件夹的每个 URL 重写到 index.php 页面，但如果匹配，它将将此视为最后一条规则并停止处理所有进一步的规则（[L]旗帜）。因此，当您仅使用根路径调用时，它不会被触发并继续您的 www 重写规则，但任何其他逻辑 URL 都会触发第一次重写并停止。

只需更改规则的顺序，将您的 RewriteCond/RewriteRule 对放在默认规则之前。

```
<IfModule mod_rewrite.c>
    RewriteEngine On

    RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
    RewriteRule ^(.*)$ http://%1/$1 [R=301,L]

    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ index.php [QSA,L]

</IfModule> 
```

如果您将其作为虚拟主机运行并且可以访问 Apache 的配置文件，请考虑将您的规则放在 Apache 的虚拟主机 conf 文件中以避免在更新 Cake 版本时被覆盖，或者确保以其他方式保护您的更改。

# hadoop - Hadoop RAID 实施

> ID：11238678
> 
> 赞同：0
> 
> 时间：2012-06-28T05:45:08.117
> 
> 标签：hadoop, hdfs

在 Hadoop RAID 安装期间，如果我参考[http://wiki.apache.org/hadoop/HDFS-RAID](http://wiki.apache.org/hadoop/HDFS-RAID)修改 hdfs-site.xml ，

我无法访问 localhost:50030 和 50070。如何解决这个问题？

# php - 为什么 phpDocumentator 不喜欢我的 @param？

> ID：11238681
> 
> 赞同：1
> 
> 时间：2012-06-28T05:45:23.053
> 
> 标签：php, object, params, phpdoc

嗨，有一个简单的函数，它有一个 object 参数`Person`。当我运行 phpDocumentator ( `phpdoc -d . -t /path/to/www/docs`) 并看到错误报告时，我得到：

> 参数的类型提示对于 addPerson() 中带有 > 参数 $person 的 @param 标记的类型定义不正确

```
<?php
namespace MyClass;
...
/**
 * Add Person object to Data::$people.
 * 
 * @param Person $person The Person object.
 */
public function addPerson(Person $person)
{
    $this->people->attach($person);
}
... 
```

该`Person`对象也在同一个命名空间中。

我环顾四周，这似乎是正确的。我究竟做错了什么？

# php - PHP - 检查用户输入的日期是未来还是今天

> ID：11238686
> 
> 赞同：1
> 
> 时间：2012-06-28T05:45:44.790
> 
> 标签：php, validation, date

我有一个文本框来输入日期。

检查用户输入的日期是未来还是今天的代码应该是什么样子？

我还希望用户以 dd/mm/yyyy 格式输入日期。

如果其中任何一个失败，代码将给出错误。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-18T11:24:23.307

您也可以使用[DateTime](http://us2.php.net/manual/en/class.datetime.php)类进行此比较：

```
$now       = new DateTime();
$user_date = DateTime::createFromFormat('d/m/Y', $userDate);
if ($user_date >= $now)
{
     echo 'Date is not in the past';   
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:53:27.337

利用

```
int mktime ([ int $hour = date("H") [, int $minute = date("i") [, int $second = date("s") [, int $month = date("n") [, int $day = date("j") [, int $year = date("Y") [, int $is_dst = -1 ]]]]]]] ) 
```

从[手册页](http://de.php.net/manual/de/function.mktime.php)

所以填写参数并减去

```
time() 
```

如果它大于零，它是在未来

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-26T07:12:39.737

我推荐这个解决方案：

```
/**
 * Is future date
 *
 * Checks if given date is today
 * or in the future.
 *
 * @param string $date
 *
 *
 * @return bool
 *
 */
protected function isFutureDate($date)
{
    // assuming the date is in this format
    // (I use value objects for these things so that
    // I don't have to repeat myself)

    $date = DateTimeImmutable::createFromFormat('d-m-Y', $date);
    $today = DateTimeImmutable::createFromMutable(new DateTime());
    return $date->getTimestamp() >= $today->getTimestamp();
} 
```

我使用以下 Date 对象，该对象由任何其他日期类扩展。其他日期类将有自己的规则（例如日期必须在未来等......），这些规则从这个基类扩展：

```
/**
 * Class DateValueObject
 *
 * 
 *
 * @package Hidden\Model\Shared\ValueObject
 *
 */
abstract class DateValueObject extends ValueObject
    implements DateValueObjectContract
{

    /**
     * @var DateValueObject
     *
     */
    protected $value;

    /**
     * Initialises the Date.
     *
     * @param $date
     *
     * @throws InvalidDateException
     *
     */
    public function __construct($date)
    {
        if (is_string($date)) {
            $this->value = $this->setDate($date);
        } else {
            throw new InvalidDateException(
                'String Expected. Got: ' .$date
            );
        }
    }

    /**
     * Set valid date.
     *
     * @param string $date
     *
     * @return DateTimeImmutable
     *
     * @throws InvalidDateException
     */
    protected function setDate($date)
    {
        try {
            $d = DateTimeImmutable::createFromFormat('d-m-Y', $date);
            if($d && $d->format('d-m-Y') == $date) {
                return $d;
            } else {
                $d = DateTimeImmutable::createFromFormat('d/m/Y', $date);
                if($d && $d->format('d/m/Y') == $date) {
                    return $d;
                }
                throw new InvalidDateException(
                    'Date cannot be formatted: ' .$date
                );
            }
        } catch (\Exception $e) {
            throw new InvalidDateException(
                'For date: ' .$date .' with message' .$e->getMessage()
            );
        }
    }

    /**
     * Get the date to string
     *
     * @param string $format
     *
     * @return string
     *
     */
    public function toString($format = 'd/m/Y')
    {
        return $this->value->format($format);
    }

    /**
     * Get the date as immutable object.
     *
     *
     * @return DateTimeImmutable|Date
     *
     */
    public function toDateObject()
    {
        return $this->value;
    }
} 
```

编辑：请注意，第一个代码块检查日期是否在未来，而第二个示例用于具有可扩展类，以便其他日期类（生日、发票日期等）可以扩展而无需重复代码。您可以将它放在一个方法中，并在每次需要时复制和粘贴它，或者只是从它扩展，知道它可以全面工作。

我的示例同时接受“dmY”和“d/m/Y”并相应地处理格式。归根结底，您仍然有一个 php DateTimeImmutable 对象，但它知道如何构建自己。

# mysql - 如何在 mysql 查询中指定“NOW()”指的是 24 小时制（而不是 12 小时制）？

> ID：11238689
> 
> 赞同：0
> 
> 时间：2012-06-28T05:45:55.517
> 
> 标签：mysql, insert

目前，我插入数据库的代码如下：

```
mysql_query("INSERT INTO lookup_table (
    the_date
        )
VALUES(
        NOW()
)
";) 
```

在一行中，这是：

```
mysql_query("INSERT INTO lookup_table (the_date) VALUES(NOW())";) 
```

问题是，由于某种原因，我在这里拥有的 NOW() 正在将 12 小时制的时钟记录到数据库中。（下午 1:03 记录为 01:03:00，而不是 13:03:00。）

我可以做些什么来指定 NOW() 将其格式化为 24 小时制？

我已经阅读了很多关于格式化的内容。不幸的是，正如过去多次发生的那样，存在一些小的、几乎无法察觉的格式问题，可能会使事情变得不太正确。

我试图确保我不会进行长时间的反复试验，以确保我得到正确的格式。

我认为写有“ `NOW()`”的行应该替换为“ `DATE_FORMAT(NOW(), %Y-%m-%d %T)`”，但我正在寻找没有我领导证人的独立确认，并且有人说“是的，看起来足够好”。

现在，数据库中的条目如下所示：

```
2012-06-27 01:03:36 
```

这将是完美的，如果不是时间应该是 13 而不是 01，就像这样：

```
2012-06-27 13:03:36 
```

我知道“NOW()”正在工作，它只需要是 24 小时格式，默认情况下应该是这种格式。出于某种原因，这没有发生，我只想知道用什么特定的字母数字序列代替“NOW()”来记录为 24 小时格式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:10:21.680

鉴于 的[文档`NOW()`](http://dev.mysql.com/doc/refman/5.6/en/date-and-time-functions.html#function_now)，我怀疑您的系统以某种方式配置得非常奇怪，*或者*您所处的时区目前距离 UTC 有 12 小时“外”。（或者您的服务器*配置*为仅使用 UTC，因此它给出了 UTC 时间，但您期望的是本地时间。）文档中没有迹象表明返回的格式`NOW()`受任何文化设置的影响。

我建议一般来说，[`UTC_TIMESTAMP()`](http://dev.mysql.com/doc/refman/5.6/en/date-and-time-functions.html#function_utc-timestamp)无论如何存储结果都会是一种更好的方法 - 但当然你仍然想确保你最终得到一个合理的格式。

早上看到什么，如果只用你看到一样的效果吗

```
SELECT NOW(), UTC_TIMESTAMP() 
```

从交互式查询窗口？同样，您是否有任何其他服务器可以尝试相同的查询？您正在运行哪个版本的 MySQL？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:19:28.677

NOW() 永远不应返回 12 小时制。可能是您的时区设置错误。尝试运行 select @@time_zone 并查看结果是什么（默认应为 SYSTEM）。您的系统时钟可能是 UTC。您可以根据此处的文档为 MySQL 设置时区：http: [//dev.mysql.com/doc/refman//5.5/en/time-zone-support.html](http://dev.mysql.com/doc/refman//5.5/en/time-zone-support.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T05:48:29.817

将 NOW() 包装在[DATE_FORMAT()](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_date-format)函数中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T06:34:16.020

太好了，这就是发生的事情：

客户喜欢自己查看格式不正确的日期和时间。没关系。

不好的是，某个地方的某个人，在一个有点像帮助显示对他们来说都是错误的东西的代码中，设法成为有时记录它的一部分。区别在于“h”与“H”，这就是为什么它错误地将时间存储为 12 小时而不是 24 小时。

NOW() 默认情况下绝对是 24 小时记录，但我使用的意大利面条代码在某些情况下将其更改为 12 小时记录。

tl;dr---哎呀，我没有注意到“h”应该在某个地方是“H”，这是一个愚蠢的问题。我想请求删除我的愚蠢问题。

# asp.net - ASP.NET Session StateServer - 是否可以提取有关当前会话的信息？

> ID：11238690
> 
> 赞同：2
> 
> 时间：2012-06-28T05:45:58.637
> 
> 标签：asp.net, session

我正在考虑将我们应用程序的 ASP.NET 会话状态模式从 SQLServer 更改为 StateServer（出于性能原因）。

在 SQLServer 模式下，通过查询 ASPStateTempSessions 等 SQL Server 表，可以轻松提取有关当前会话的信息。例如，每个会话何时创建、何时到期等。您甚至可以查询会话状态 blob 数据以提取更多应用程序特定信息（例如，用户 ID，如果它保存在会话状态中）。此信息对管理员很有用。

只是想知道是否有人设法为 StateServer 模式做类似的事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T09:14:05.637

状态服务器有一些[性能计数器](http://msdn.microsoft.com/en-us/library/fxk122b4.aspx)可能有用，但它们不会为您提供单个会话的信息。

# php - 如何将数据从mysql插入html，反之亦然，在while循环内有单选按钮

> ID：11238698
> 
> 赞同：-1
> 
> 时间：2012-06-28T05:46:30.413
> 
> 标签：php, mysql, html

如何在while循环中使用单选按钮将数据插入mysql。我的代码是这样的。

```
<form><table>
    <?php
    $sql = mysql_query("SELECT * FROM table WHERE id='$id'");
    while ($row=mysql_fetch_array($sql)) {
    ?>

       <tr><td>
       <input type='radio' name ="select[]" value=<?php echo $row['tid'] ?> /></td>
       <td><input type="text" name="name"/></td>
       <td><input type="text" name="age"/></td>
       </tr> 
    <?php
    }
    ?>
    <tr><td><input type="submit"></td></tr>
    </table></form>

     if(isset($_POST['submit'])){
for($i=0;$i<count($select);$i++){
        $query = mysql_query("INSERT INTO disasterTbl (field, field2, field3) VALUES('$radioButton_value here', '$value', $value)")or die(mysql_error());

        }
} 
```

请帮忙谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:52:34.870

你的问题有点笼统，但是是这样的：

```
<form method="post">
<table>
<?php while ...
   <input type='radio' name ="select" ...
?>
</form>
...
if ('POST' == $_SERVER['REQUEST_METHOD'] && isset($_POST['select'])) {
   $pdo = new PDO('host', 'user', 'pass');
   $pdo->prepare("INSERT INTO t1 VALUES (?)")->execute($_POST['select']);
   header('Location:', true, 303);
   exit;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:26:56.507

要从上面的示例中获取单选按钮的值：

*   如果您的表单方法是`POST`，则使用`$_POST['select']`，
*   或者如果方法是`GET`，那么使用`$_GET['select']`
*   或者您可以使用`$_REQUEST['select']`所有方法。

还请记住，您的收音机必须是**SET/checked**，否则您根本不会传递所需的变量。

还应该有一对带有无线电类型的标签[一个已设置，一个未设置]，在表单提交之前设置/取消设置。

编辑：

```
 Radio: if ($row['tid'] == "1") {
echo "Yes <input type='radio' name='select' checked> No <input type='radio' name='select'>"; } 
else { echo "Yes <input type='radio' name='select'> No <input type='radio' name='select' checked >"; } 
```

因此，在您的查询中，应将其编码为：

```
$query = mysql_query("INSERT INTO disasterTbl (field, field2, field3) VALUES('$_POST["select"]', '$value', '$value')")or die(mysql_error());

or

$query = mysql_query("INSERT INTO disasterTbl (field, field2, field3) VALUES('$_GET["select"]', '$value', '$value')")or die(mysql_error());

or

$query = mysql_query("INSERT INTO disasterTbl (field, field2, field3) VALUES('$_REQUEST["select"]', '$value', '$value')")or die(mysql_error()); 
```

提示：您可以通过一个简单的方法来监控提交表单的值，`print_r($_REQUEST);`它应该显示数组中包含的`name`, `age`, 。`select`

编辑：我还注意到，您的收音机名称`select[]`不是`select`，请删除括号，这样它就不会被视为数组。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T05:48:17.867

您必须使用 $_GET 或 $_POST 发送此数据，并且当您这样做时，您必须将此数据插入到表中。

# android - AChartEngine 圆环图边距

> ID：11238700
> 
> 赞同：1
> 
> 时间：2012-06-28T05:46:35.437
> 
> 标签：android, charts, achartengine

我在线性布局中使用 AChartEngine 绘制图表。

我在设置圆环图边距时遇到问题。我正在使用以下语句，但边距或中心没有改变。图表会根据布局尺寸自动调整大小。有人可以帮忙吗？

mRenderer.setMargins(new int[] {20, 50, 20, 20});

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T15:50:12.443

尝试使用以下方法的参数。原始值为 1，因此较低的值将使其更小，而较高的值将使其更大。

```
renderer.setScale(scale); 
```

不要忘记在此之后调用 repaint：

```
mChartView.repaint(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:32:15.650

如果您不希望图表自动调整大小，请尝试使用`layout_width`and`layout_height`属性显式指定布局大小，而不仅仅是设置为`WRAP_CONTENT`. 此外，如果`ScrollView`布局的祖先层次结构中有一个，您必须调用`renderer.setInScroll(true);`

# javascript - 我可以在某个级别停止事件的传播吗？

> ID：11238701
> 
> 赞同：1
> 
> 时间：2012-06-28T05:46:36.570
> 
> 标签：javascript, jquery, html

例如，我在#dialogbox div 中有一堆元素，我能否以某种方式确保某些事件不会传播到它之外？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T05:49:01.300

用这个

```
$(element).on('click', function(event){
  event.stopImmediatePropagation();
}); 
```

# c++ - Qt：如何在 WYSIWYG 编辑器和 C++ 代码之间来回切换？

> ID：11238704
> 
> 赞同：0
> 
> 时间：2012-06-28T05:46:47.027
> 
> 标签：c++, qt, layout, widget, designer

我是 Qt 的新手。我正在使用 Qt Creator 和 QT Widget 项目。QT 小部件项目带有一个所见即所得的编辑器，我认为它被称为 Qt Designer，看起来很棒。但我希望能够访问管理我正在使用的所有小部件的 C++ 代码。现在我只能访问我自己定义的小部件；对于其他人（按钮、表格、旋转框等），我不知道如何查看他们的代码；我只能看到控制其格式的 XML。

此外，反过来，我希望能够获取我在 Internet 上看到的一些示例项目和代码，并在 Qt Designer 中对其进行编辑，或者至少了解如何将它们合并到我用它构建的东西中。很多示例都有我想尝试的非常酷的东西，但它们通常似乎不使用 Qt Designer 进行布局，坦率地说，我对如何管理布局感到有点困惑的案例。我看到很多关于如何构建这个或那个对象的文档，但我还没有找到我需要的桥梁来获取这些知识并添加到它如何排列你在布局中构建的对象。

所以我对如何编写对象有一点了解，对如何构建布局也有一点了解，但对于如何在布局中构建对象或将别人的对象导入我构建的布局中了解不多。在这些特定领域中的任何一个方面的建议都会很棒，或者您可以给我一些好的起点 - 我知道显而易见的答案是阅读文档，但是 Qt 是如此庞大以至于很难知道该看什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:50:44.870

> 对于其他人（按钮、表格、旋转框等）我不知道如何查看他们的代码

它被称为 Qt 的源代码，您可以从 Qt 网站下载。

> 我只能看到控制其格式的 XML。

见西蒙的回答。

> 我希望能够获取我在 Internet 上看到的一些示例项目和代码，并在 Qt Designer 中对其进行编辑，或者至少了解如何将它们合并到我用它构建的东西中。很多示例都有我想尝试的非常酷的东西，但它们通常似乎不使用 Qt Designer 进行布局，坦率地说，我对如何管理布局感到有点困惑的案例。

许多人不经常使用设计器（包括我），通常是因为它更喜欢静态 UI。布局通过`QLayout`派生类进行管理，这些派生类也在 Qt Designer 中表示。

> 我知道显而易见的答案是阅读文档

是的，而且 Qt 的文档是最好的。我认为这个特定的[例子](https://qt-project.org/doc/qt-4.8/widgets-calendarwidget.html)应该可以帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:32:38.580

Qt Creator 为每个表单创建相应的 cpp/h 文件。

每个文件都有一个名为“ui”的对象，您可以使用它来访问表单上的所有内容。

例如，您有一个名为“comboBox1”的组合框，您可以将其设置为一个值

```
ui->comboBox1->setCurrentindex(1); 
```

您不应修改所有 moc_ *.cpp 或 ui_* .h 文件，因为它们是由 Qt 生成的。

# hibernate - 如何使用@Transactional 将事务与任何其他数据库操作隔离？

> ID：11238713
> 
> 赞同：0
> 
> 时间：2012-06-28T05:47:30.203
> 
> 标签：hibernate, jakarta-ee

我有一个场景，如果一个事务为数据库启动，那么在启动的事务被提交或回滚之前，不应允许读取和更新操作。

例如：如果我尝试插入一行，那么需要对数据库中已经存在的行进行一些特定的更改，如果任何其他事务或数据库查询在更改完成之前读取数据，那么我们最终将拥有数据库中的错误值，那么如何控制查询。

我真正想做的是，当事务开始时，我想给数据库加锁，怎么做？

我正在使用 Hibernate transaction(declarative transaction) @Transactional(readOnly=false,propagation=Propagation.REQUIRES_NEW) 我可以向满足我要求的事务添加任何其他属性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:22:11.887

你不应该这样做。交易彼此隔离运行。在默认隔离级别（大部分时间为 READ_COMMITTED）下，每个事务只看到其他事务已经提交的内容。因此，如果您在事务运行时从数据库读取一个并行事务，则此并行事务在提交之前不会看到主事务的更改。每个事务都将看到数据库的一致快照。

这在大多数情况下就足够了。如果还不够，您可能希望使用更高的隔离级别（如 REPEATABLE_READ 甚至 SERIALIZABLE，如果您的数据库支持它们），但完全锁定数据库是不可能的，也是不可取的。

阅读[http://en.wikipedia.org/wiki/Isolation_%28database_systems%29](http://en.wikipedia.org/wiki/Isolation_%28database_systems%29)了解有关每个隔离级别保证的更多详细信息，并阅读您的数据库文档以查看它支持哪些级别。

旁注：@Transactional 是 Spring 注释，而不是 Hibernate 注释。

# android - Android如何实现从runnable执行异步任务

> ID：11238717
> 
> 赞同：3
> 
> 时间：2012-06-28T05:48:14.337
> 
> 标签：android, multithreading, android-asynctask, runnable

文档说 execute() 必须从 UI 线程调用。但是，由于我每隔几秒钟更新一次图像，所以我使用的是 Runnable。在那里，我定义了必须执行的操作。Starting(execute())ASyncTask 就是其中之一。但是，由于 ASyncTask 不应该从 UI 线程之外的任何地方调用，我该如何继续？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T06:01:23.513

只需在 Runnable 中添加 [runOnUiThread 即可](http://developer.android.com/reference/android/app/Activity.html)启动 AsyncTask ：

```
private Runnable updateImages= new Runnable() {
    public void run() {
        runOnUiThread(new Runnable() {
            public void run() { 
                // call your asynctask here 
            }
        }
    });
    //////YOUR CODE HERE
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T05:53:46.463

可能重新设计您的项目以仅使用`AsyncTask`s 而不是`Runnable`. 我也不确定`AsyncTask`这种行为有多喜欢，但我之前在 AsyncTasks 中更改了一些 UI 内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T05:56:26.943

干得好。

```
private Handler mHandler = new Handler(Looper.getMainLooper());

private Runnable updateImages= new Runnable() {
    public void run() {
        .........
        .........
        ......... 

        mHandler.post(new Runnable() {
            public void run() {
               call your asynctask here
            }
        });
    }
}; 
```

# c - 格雷厄姆的 3d 扫描，寻找一般多边形的面积

> ID：11238719
> 
> 赞同：2
> 
> 时间：2012-06-28T05:48:16.993
> 
> 标签：c, computational-geometry

我的目标是在给定多边形的无序顶点以及平面方程的情况下找到具有 n 个顶点的 3d 平面多边形的无符号区域。一旦点按顺时针或逆时针顺序排序，我已经有一个有效的算法来计算面积（来自这个网站：[http](http://softsurfer.com/Archive/algorithm_0101/algorithm_0101.htm#3D%20Polygons) ://softsurfer.com/Archive/algorithm_0101/algorithm_0101.htm#3D%20Polygons ）

我决定实施格雷厄姆的扫描来重新排序点，2d 案例有很多例子，但 3d 案例不多。我认为我最好的选择是使用转换矩阵将 3d 点转换为 2d（我不确定如何执行此操作）或使用叉积在 3d 中确定 3 个点是否形成逆时针转动。我认为后者会更有效，因为我可以对每个叉积找到的区域求和，并在我重新排序点时计算最终答案。

但是我仍然不确定如何在 3d 中实现 Graham 的扫描。另外，我可以利用我已经知道顶点集是共面的并且它们都必须包含在凸包中对我有利的事实吗？

编辑：进一步考虑，我什至需要在这里使用格雷厄姆的扫描吗？我已经知道所有的点都包含在船体中，所以按角度对它们进行排序不够吗？最终目标是使点按逆时针/顺时针顺序排列，以便计算面积，我认为扫描对于完成这一点是必要的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:31:52.883

所有点线不能平行于所有主轴的平面，因此找到不平行于平面的平面并将所有点投影在其中（比如 Ox）。

由于投影的方向不平行于平面，因此没有两个点会交换位置或重合。现在在 2D 情况下执行凸包 - 你已经知道如何做到这一点。同样由于我之前的陈述，3D 中点的顺序将与投影点的顺序相同 - 瞧，没有增加复杂性和相同的算法。

编辑：当然任何其他投影都可以，但是由于平行于主轴之一投影真的很容易（只需删除一个坐标），我建议使用这种方法。

# iphone - 如何在地图叠加层ios上添加注释

> ID：11238721
> 
> 赞同：0
> 
> 时间：2012-06-28T05:48:18.413
> 
> 标签：iphone, ios, map, mapkit

我们如何像在地图上添加一样在地图叠加层上添加图钉？

我正在使用以下代码创建叠加层

```
MKOverlayView* overlayV = [[MKOverlayView alloc] initWithFrame:mMapView.frame];
[mMapView addOverlay:overlayV.overlay]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:53:51.907

您可以通过

```
[mMapView addAnnotation:annotation]; 
```

# mysql - 如何查看 DECIMAL 字段的真实值？

> ID：11238723
> 
> 赞同：0
> 
> 时间：2012-06-28T05:48:58.357
> 
> 标签：mysql

当您在列创建时指定显示宽度时，是否有一个查询将返回数字数据类型（如 DECIMAL）的真实值，假设真实宽度大于显示宽度？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T05:53:14.370

这不是显示宽度，而是要存储的位数

所以如果数据不合适，数据实际上会被截断

# objective-c - NSMattrix IBAction 获取选中的电台

> ID：11238728
> 
> 赞同：0
> 
> 时间：2012-06-28T05:49:08.343
> 
> 标签：objective-c, state, radio, nsbuttoncell

我在 NSWindow 上放了一个 NSMattrix。这个 NSMattrix 包含 2 个单选按钮。

我声明了 3 个 IBOutlets： - 一个用于 NSMattrix - 每个单选按钮（NSButtonCell）一个。

我声明了 1 个 IBAction 方法：我在 NSMattrix 上的每个单选按钮 ant 上都链接了相同的方法。当我更改单选按钮的状态时，会自动调用此方法。伟大的。但是当我想知道这个方法中每个单选按钮的状态时，状态并不好。

我应该如何在事件方法中获取每个单选按钮的状态？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:58:49.587

如果您通过 IBOutlets 连接了所有东西，您可以随时简单地查询这两个按钮的状态（只要您的视图控制器是拥有这些插座的那个，或者这些插座通过`@property`访问器公开它们）。

假设`buttonOne`和`buttonTwo`是`IBOutlet`NSButtons，您可以简单地执行以下操作：

```
- (IBAction) buttonAction: (id) sender
{
    BOOL buttonOneIsOn = ([buttonOne state] == NSOnState);
    BOOL buttonTwoIsOn = ([buttonTwo state] == NSOnState);
} 
```

`NSCell`（它的`NSButtonCell`后代）有[一个非常方便的`state`方法](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSCell_Class/Reference/NSCell.html#//apple_ref/occ/instm/NSCell/state)。我已经为您链接了文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:30:43.000

对于这种情况，我强烈建议使用 Cocoa Bindings；这实际上是使用绑定的更简单方法之一。

使用绑定，可以为您处理用户界面同步。这意味着您实际上不需要查询单选按钮的状态；您只需查询按钮绑定到的属性。

您只需要属性，而不是实现操作方法。例如，`- (BOOL) radio1;`, `- (void) setRadio1:(BOOL) flag;`, `- (BOOL) radio2;`and `- (void) setRadio2:(BOOL) flag;`（但给这些方法起更好的名字）。您可以`@property`在更高版本的 Objective-C 中使用这些。`BOOL`在您的班级中为每个字段放置字段。

编辑 NIB/XIB 文件时，可以将属性分配给单选按钮。

根据键值编码的规则，`self.radio1`是一条路径，隐含地表示方​​法`radio1`和`setRadio1`都被调用。如果您将它们重命名为其他名称，请相应地调整路径名称。

编辑 NIB/XIB 时，依次选择 NSMatrix 的每个 Button Cell 并设置适当的绑定：

*   将值绑定设置为“文件的所有者”（如果这是实现属性的地方）。
*   使用适当属性的键路径（`self.radio1`或者`self.radio2`，如果您有上述示例方法）。

NSMatrix 已经设置为一次只允许一个值，因此属性值将受到类似限制。

# jsf-2 - 用虚拟组件包装多个 p:row？

> ID：11238729
> 
> 赞同：0
> 
> 时间：2012-06-28T05:49:12.377
> 
> 标签：jsf-2, primefaces

我有一个多行的 panelGrid。一些行是用 c:forEach 生成的，因为 ui:repeat、p:dataTable 和 p:dataList 不会'呈现 ( [ui:repeat JSF 2.0 无法呈现迭代 p:row primefaces](https://stackoverflow.com/questions/10719233/uirepeat-jsf-2-0-cannot-render-iterate-prow-primefaces) )。

我的目标是更新迭代中生成的行（并且更新后的大小和内容会有所不同），但是我没有可以引用的具有 id 的组件。不，我不能使用@form。

```
<p:commandButton value="Update" action="#{someBean.someAction}" process="someThing" update=" ??? ">

<p:panelGrid>
  <p:row> 
   ...
   </p:row>
  <c:forEach var="projectDto" items="#{someBean.someDtos}" varStatus="i">
    <p:row> 
     ...
     </p:row>
  </c:forEach>
</p:panelGrid> 
```

有没有办法做到这一点？也许某种围绕迭代的虚拟组件？

强尼

PS：我已经在 Primefaces 论坛（[http://forum.primefaces.org/viewtopic.php?f=3&t=22999](http://forum.primefaces.org/viewtopic.php?f=3&t=22999)）上问过这个问题。答案（感谢 jordandenison）真的是“专有的”，没有人（包括我半年之后）会明白那是怎么回事。所以也许还有另一种方式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T14:24:16.790

将 panelGrid 绑定到 bean 属性。

```
<p:panelGrid binding="#{someBean.panelGrid}"/> 
```

然后在 java 代码中添加行。

```
Row row = new Row();

HtmlOutputText text = new HtmlOutputText();
text.setValue("text");

column = new Column();
column.getChildren().add(text);

row.getChildren().add(column);

panelGrid.getChildren().add(row); 
```

Row、Column 和 PanelGrid 应该来自 org.primefaces.... 包。

# c# - 将文本文件（500 MB）数据导入 SQL Server

> ID：11238730
> 
> 赞同：1
> 
> 时间：2012-06-28T05:49:18.453
> 
> 标签：c#, asp.net, sql-server, sqlbulkcopy

这是我用于将大于 500 MB 的文本文件导入数据库的代码。

我想分批进行，这样如果在执行过程中文本文件中出现任何与格式相关的错误，至少上传一半的内容。

如果对上传如此大的文本文件有任何其他建议，请说明。

```
private DataTable CreateDataTableFromFileLoop()
{
    string filename = "";

    if (fileuploadExcel.HasFile)
    {
       try
       {
           filename = Path.GetFileName(fuTextLoop.FileName);
           fuTextLoop.SaveAs(Server.MapPath("~/callText") + filename);
           //StatusLabel.Text = "Upload status: File uploaded!";
       }
       catch (Exception ex)
       {
           StatusLabel.Text = "Upload status: The file could not be uploaded. The following error occured: " + ex.Message;
       }
    }

    DataTable dt = new DataTable();
    DataColumn dc;
    DataRow dr;

    dc = new DataColumn();
    dc.DataType = System.Type.GetType("System.String");
    dc.ColumnName = "Sr No";
    dc.Unique = false;
    dt.Columns.Add(dc);

    dc = new DataColumn();
    dc.DataType = System.Type.GetType("System.String");
    dc.ColumnName = "Mobile";
    dc.Unique = false;
    dt.Columns.Add(dc);

    dc = new DataColumn();
    dc.DataType = System.Type.GetType("System.String");
    dc.ColumnName = "Name";
    dc.Unique = false;
    dt.Columns.Add(dc);

    dc = new DataColumn();
    dc.DataType = System.Type.GetType("System.String");
    dc.ColumnName = "Fath_Hus_Name";
    dc.Unique = false;
    dt.Columns.Add(dc);

    dc = new DataColumn();
    dc.DataType = System.Type.GetType("System.String");
    dc.ColumnName = "Address";
    dc.Unique = false;
    dt.Columns.Add(dc);

    dc = new DataColumn();
    dc.DataType = System.Type.GetType("System.String");
    dc.ColumnName = "City";
    dc.Unique = false;
    dt.Columns.Add(dc);

    dc = new DataColumn();
    dc.DataType = System.Type.GetType("System.String");
    dc.ColumnName = "PIN Code";
    dc.Unique = false;
    dt.Columns.Add(dc);

    dc = new DataColumn();
    dc.DataType = System.Type.GetType("System.String");
    dc.ColumnName = "Contact Number";
    dc.Unique = false;
    dt.Columns.Add(dc);

    dc = new DataColumn();
    dc.DataType = System.Type.GetType("System.String");
    dc.ColumnName = "Activation_date";
    dc.Unique = false;
    dt.Columns.Add(dc);

    dc = new DataColumn();
    dc.DataType = System.Type.GetType("System.String");
    dc.ColumnName = "Subs_type";
    dc.Unique = false;
    dt.Columns.Add(dc);

    dc = new DataColumn();
    dc.DataType = System.Type.GetType("System.String");
    dc.ColumnName = "Status";
    dc.Unique = false;
    dt.Columns.Add(dc);

    dc = new DataColumn();
    dc.DataType = System.Type.GetType("System.String");
    dc.ColumnName = "Subs_name";
    dc.Unique = false;
    dt.Columns.Add(dc);

    StreamReader sr = new StreamReader(Server.MapPath("~/callText") + filename);

    SqlConnection conn = new  SqlConnection("Server=.;Database=temp;Trusted_Connection=True;");

if (ddlSub.SelectedValue.ToString() == "Reliance")
{
   try
   {
        string input;
        string mob_chk;

        while ((input = sr.ReadLine()) != null)
        {
            string[] s = input.Split(new char[] { ',' });

            dr = dt.NewRow();
            SqlCommand comm = new SqlCommand("select Mobile from call where Mobile='" + s[1] + "'", conn);
            conn.Open();
            SqlDataReader sdr = comm.ExecuteReader();

            if (sdr.HasRows)
            {
                goto end_of_loop;
            }
            if (!sdr.HasRows)
            {
                dr["Sr No"] = s[0];
                dr["Mobile"] = s[1];
                dr["Name"] = s[3];
                dr["Fath_Hus_Name"] = s[4]+s[5]+s[6] + s[7];
                dr["Address"] = s[8]+s[9];
                dr["City"] = s[10];
                dr["PIN Code"] = s[11];
                dr["Contact Number"] = s[16];
                dr["Activation_date"] = s[18];
                dr["Subs_type"] = s[15];
                //dr["Status"] = s[10];
                dr["Subs_name"] = ddlSub.SelectedValue.ToString();
            }

            dt.Rows.Add(dr);
        end_of_loop:
            conn.Close();
        }

        sr.Close();

        dt.Rows[0].Delete();
   }
   catch (Exception ex)
   {
           StatusLabel.Text = "Upload status: The file could not be uploaded. The following error occured: " + ex.Message;
   }
}

if (dt.Rows.Count > 0)
{
   return dt;
}
else
{
   return null;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:21:31.650

如果文件将被完全处理，您可以向后处理它并在处理每条记录后截断它，这样您就可以始终处理整个文件并在处理它们时释放行的磁盘空间。从错误中恢复时，您可以“安全地”读取整个文件。

首先，您必须声明一个 FileStream 来跟踪文件并将其传递给 StreamReader

```
FileStram fs = new FileStream(Server.MapPath("~/callText") + filename, FileMode.Open);
StreamReader sr = new StreamReader(fs); 
```

现在您可以向后读取文件，直到找到 \n 或 \r，然后找到“sr.ReadLine”，但首先您需要文件的大小，因此您知道在完成该行后它应该具有的大小.

```
long oldLen = fs.Length;
fs.Seek(-2,SeekOrigin.End);//dont really begin from the end, because a line-end is very likely to be right there
//here goes a simple while to read the file backwards until you find '\n' or '\r'. 
...
//you should aso check for BOF
fs.Seek(1,SeekOrigin.Current); //this is case that sr.Readline() gets confused with the line-end I just found
//here you can input=sr.ReadLine() and all you have to do
...
... 
```

现在你可以用旧的大小减去你刚刚读取的行的大小来截断它。

```
fs.SetLength(oldLen - Encoding.Unicode.GetByteCount(input));//replace Unicode with whatever encoding the file has. 
```

您还可以累积您读取的行的大小并在出现错误或操作完成时截断文件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T08:00:07.087

简单的方法是将文本文件行打包成块——比如说 100 行。在您的 while ReadLine while 循环内组织。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T21:18:02.863

你说的是文本文件，对。因为你的代码有fileuploadexcel ...

无论如何 - 如果是文本，到目前为止最简单的方法是使用[http://www.filehelpers.com](http://www.filehelpers.com)

它支持固定格式和定界格式，使用起来既快速又简单。

它有多种错误模式，其中一种允许您执行此操作

```
engine.ErrorManager.ErrorMode = ErrorMode.SaveAndContinue;

records = engine.ReadFile(...

if (engine.ErrorManager.HasErrors)
   foreach (ErrorInfo err in engine.ErrorManager.Errors)
   {
      Console.WriteLine(err.LineNumber); 
      Console.WriteLine(err.RecordString);
      Console.WriteLine(err.ExceptionInfo.ToString());`
   } 
```

最终结果是所有符合格式的记录都被导入...

# iphone - 如何更改音频 CMSampleBuffer 格式（将 mSampleRate 44100.000000 更改为 8000.000000。）

> ID：11238735
> 
> 赞同：0
> 
> 时间：2012-06-28T05:50:14.623
> 
> 标签：iphone, objective-c, ios, xcode

我正在使用 AVCaptureAudioDataOutput 进行音频输出并获取结果表单

```
 - (void)captureOutput:(AVCaptureOutput *)captureOutputdidOutputSampleBuffer:(CMSampleBufferRef)sampleBuffer
   fromConnection:(AVCaptureConnection *)connection 
```

但我想更改 sampleBuffer 音频格式（CMSampleBufferGetFormatDescription）。如果可能，请帮助我。想要更改 mSampleRate 。

```
Currently getting
mediaSpecific: {ASBD: {mSampleRate: 44100.000000mFormatID: 'lpcm'mFormatFlags: 0xcmBytesPerPacket: 2mFramesPerPacket: 1mBytesPerFrame: 2mChannelsPerFrame: 1mBitsPerChannel: 16 } 
```

**但我需要将 mSampleRate 44100.000000 更改为 8000.000000。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T09:59:49.320

看看这里：http: [//developer.apple.com/library/ios/#DOCUMENTATION/AVFoundation/Reference/AVFoundationAudioSettings_Constants/Reference/reference.html#//apple_ref/doc/uid/TP40009937](http://developer.apple.com/library/ios/#DOCUMENTATION/AVFoundation/Reference/AVFoundationAudioSettings_Constants/Reference/reference.html#//apple_ref/doc/uid/TP40009937)

您必须设置 AVAudioRecorder。

希望，这有帮助！

# asp.net - ViewModel 的存储库

> ID：11238743
> 
> 赞同：1
> 
> 时间：2012-06-28T05:51:16.057
> 
> 标签：asp.net, design-patterns

`DataAccessLayer`我在我现在正在处理的应用程序中创建了以下两个存储库。

1.  `RoleRepository`
2.  `TaskRepository`

`RoleRepository`正在处理所有`Role`相关操作，例如`Role`在数据库中添加和从数据库中检索角色集合。`TaskRepository`将相关操作`Task`作为`RoleRepository`.

我想`Role`用`Task`. 我的意思是角色负责某些任务。这种关系是 M:M。所以我创建了一个表来存储`RoleId`和`TaskId`. 我想在 GridView 中显示角色和相应的任务。所以我需要将 , 保存`RoleId`在`TaskId`表中，还需要检索 RoleTaskViewModel 的集合。

*   这些操作需要包含在哪个存储库中？
*   我需要创建一个新的存储库吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T05:59:42.597

听起来您对查看与角色关联的任务比查看与任务关联的角色更感兴趣。在这种情况下，我会从 RoleRepository 查询它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:01:20.860

我认为这应该是一个 valueOjbect，如果您使用域驱动设计模式，应该有实体基类，并且所有实体对象都应该扩展这个基类。

是的，您应该创建一个值对象，例如：- RolesTasks，其中您有角色、任务的集合对象，并且您必须使用 RoleRepository 和 TaskRepository。

永远不需要创建单独的存储库“应为 EntityObject 创建存储库，而不是为 ValueObject 创建存储库”

# java - 当用户在java中的控制台上输入它时如何只处理单个字符

> ID：11238744
> 
> 赞同：1
> 
> 时间：2012-06-28T05:51:28.297
> 
> 标签：java

有没有什么方法可以使用简单的程序在java中只处理单个字符？

我应该要求用户输入一个字符，当用户输入一个字符时，我的 java 程序应该在用户输入下一个字符之前对其进行处理，并且应该立即响应用户输入的字符。我试过这个

```
public class InputChar {
    public static void main(String args[]) {
        System.out.printf("Enter Char ==> ");
        try {
            char temp = (char) System.in.read();

            System.out.printf("You Entered: " + temp + "\n");
        } catch (Exception exe) {
            exe.printStackTrace();
        }
    }
} 
```

但是仍然在上面的程序中，每当用户输入一个字符时，它不会立即打印该字符。在上面的程序中，当用户按下“Enter”键时，只有程序会处理他输入的任何内容。无论如何都可以不按“Enter”键来处理用户输入的唯一第一个字符输入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:21:28.337

首先 System.in.read() 从用户那里获取输入。这允许用户输入任意数量的字符。

然后你将它转换为char。所以它只需要第一个字符。

当你按下回车键时，只有输入才会被处理。

这样当您按下回车键时，下一行将被处理。

尽管如果您仍想保留那个“输入键过程”，请在获得用户输入时应用一些条件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:00:00.890

如果变量声明为**char**，它只包含一个 char。即使用户输入，剩余的字符也会被丢弃。

我想这在控制台中是不可能的。[请参考这个链接](http://www.velocityreviews.com/forums/t444301-how-to-read-data-without-the-user-pressing-the-enter-key.html)

# heroku - 如何将需要静态 IP 的应用程序部署到 Heroku？

> ID：11238750
> 
> 赞同：7
> 
> 时间：2012-06-28T05:52:19.547
> 
> 标签：heroku, static-ip-address

我有一个托管在 Heroku 上的 rails 应用程序，我需要与 3rd 方支付提供商集成。支付提供商要求我的应用程序具有用于传入和传出 HTTPS 请求的静态 IP。我想在 Linode VPS 上部署一个代理，以便它可以将信息作为代理中继。将请求转发给服务提供商似乎很容易，我只使用他们的 IP。

我可以将来自服务提供商的请求中继到 heroku 应用程序吗？我可以使用 URL ( [https://myapp.herokuapp.com](https://myapp.herokuapp.com) ) 中继请求吗？

推荐使用的代理服务器是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-03-06T18:43:29.897

最好看看：**[https ://devcenter.heroku.com/articles/quotaguardstatic](https://devcenter.heroku.com/articles/quotaguardstatic)**

如果您有信用卡并且应用程序没有太多流量（250 个请求和 100MB 的流量带宽） Quotaguard 有一个免费的入门计划（将其添加到 heroku `heroku addons:add quotaguardstatic:starter`）。

以下是计划：[配额保护静态计划](https://addons.heroku.com/quotaguardstatic#starter)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-26T21:54:11.810

你可能想调查

[https://devcenter.heroku.com/articles/proximo](https://devcenter.heroku.com/articles/proximo)

# javascript - 将图像居中放在 div 中。水平和垂直

> ID：11238759
> 
> 赞同：1
> 
> 时间：2012-06-28T05:53:20.783
> 
> 标签：javascript, html, css

我想这个问题已经被问过很多次了，但我已经在网上搜索了一整天，找不到一个好的解决方案。我想在 div 中居中图像，使其看起来像一个框架。我有不同尺寸的图像，有些是纵向的，有些是横向的。我希望它们水平和垂直居中，并且如果尺寸较大，它不会溢出容器。现在我已经阅读了有关 div 与表格设计的信息，但说真的，现在我只想完成这项工作，所以任何解决方案都将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T06:10:18.310

检查演示 - [http://jsfiddle.net/x6jDu/](http://jsfiddle.net/x6jDu/)

table-cell 支持 IE8+

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-28T06:32:10.020

您可以通过单击下面的演示链接来实现它：

**演示** [http://jsfiddle.net/rathoreahsan/99BXT/](http://jsfiddle.net/rathoreahsan/99BXT/)

**笔记：**

1.  **缺点：**在 Internet Explorer 8 浏览器下使用`display:table-cell`将无法使用，其余浏览器将除此之外。**优点：**它也可以通过使用固定宽度和固定高度来工作。

2.  **优点：**使用`display:block`将适用于所有浏览器。**缺点**它不能通过使用固定宽度和固定高度来工作。但是您可以使用与`padding`本演示中提到的相同的（上、右、下、左）来管理它

# iphone - 图像文件名存储在常量中

> ID：11238770
> 
> 赞同：0
> 
> 时间：2012-06-28T05:54:22.850
> 
> 标签：iphone, objective-c, ios4

我有一个表格视图，每个单元格中都有一个图像。我正在从 plist 中提取每个单元格的数据，包括 textlabel detailtextlabel 和图像文件名。我在用

```
cell.imageView.image = [UIImage imageNamed:IMAGE_KEY]; 
```

IMAGE_KEY 常量来设置图像。但它不起作用。如果我只是在消息中输入图像文件名，它就可以工作。我已经仔细检查了存储在我的 plist 中的文件名，并仔细检查了我的常量文件中的声明。一切都拼写正确。有没有不同的方法来使用常量来设置图像？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:14:48.247

做这个：

```
 #define IMAGE_KEY "apple.jpg" // like this 
```

现在：

```
 cell.imageView.image = [UIImage imageNamed:@IMAGE_KEY]; 
```

如果

```
 #define IMAGE_KEY @"apple.jpg" // like this 
```

现在：

```
 cell.imageView.image = [UIImage imageNamed:IMAGE_KEY]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T05:57:24.687

检查拼写错误，小写大写差异，检查扩展其拼写和大小写...将代码放在您定义常量的地方`IMAGE_KEY`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T05:57:51.017

你如何将 IMAGE_KEY 声明为常量？它必须是字符串格式。

```
#define Image_Key @"apple.jpg" 
```

请检查您在 IMAGE_KEY 中获得的运行时间。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T06:21:07.520

做这个

```
[[self.dictionary objectAtIndex:indexPath.row]objectForKey:IMAGE_KEY]]; 
```

# apache2 - Apache 无法启动但没有显示错误

> ID：11238771
> 
> 赞同：1
> 
> 时间：2012-06-28T05:54:28.277
> 
> 标签：apache2, apache

我重新启动了一个 CentOS 6.2 VM（运行 Virtualmin），当它“启动 httpd”时它在启动时挂起。从 live CD 启动，从 rc3.d 中删除了启动 apache 的脚本。服务器已启动，现在我可以通过 SSH 访问它了。一直在尝试排除故障：

```
> httpd -v
Server version: Apache/2.2.15 (Unix)
Server built:   May 16 2012 22:32:26 
```

但我无法启动它。它挂在“正在启动 httpd”上，就像在启动期间一样。

```
> service httpd status
httpd is stopped 
```

我什至无法测试配置，“apachectl configtest”只是停留在那里，直到我按下 CTRL-C。我还尝试在注释掉所有 LoadModule 指令的情况下启动 apache。唯一编译的模块是：

```
> apachectl -l
Compiled in modules:
  core.c
  prefork.c
  http_core.c
  mod_so.c 
```

我试图重新加载所有 apache 配置（通过 webmin 备份恢复），但仍然没有成功。

我在几个地方读到，当这种情况发生时，它可能与 SSL 证书有关。我尝试在 ssl.conf 中关闭 SSLEngine 来运行它。我试过“yum reinstall httpd”。

以下是默认服务器的指令

```
ServerTokens Min                                           /etc/httpd/conf/httpd.conf (44)
ServerRoot "/etc/httpd"                                    /etc/httpd/conf/httpd.conf (57)
TimeOut 60                                                 /etc/httpd/conf/httpd.conf (69)
KeepAlive on                                               /etc/httpd/conf/httpd.conf (75)
MaxKeepAliveRequests 100                                   /etc/httpd/conf/httpd.conf (82)
KeepAliveTimeout 5                                         /etc/httpd/conf/httpd.conf (88)
<IfModule prefork>                                        /etc/httpd/conf/httpd.conf (101)
StartServers 2                                            /etc/httpd/conf/httpd.conf (102)
MinSpareServers 2                                         /etc/httpd/conf/httpd.conf (103)
MaxSpareServers 5                                         /etc/httpd/conf/httpd.conf (104)
ServerLimit 64                                            /etc/httpd/conf/httpd.conf (105)
MaxClients 64                                             /etc/httpd/conf/httpd.conf (106)
MaxRequestsPerChild 4000                                  /etc/httpd/conf/httpd.conf (107)
</IfModule>                                               /etc/httpd/conf/httpd.conf (108)
Listen *:80                                               /etc/httpd/conf/httpd.conf (135)
LoadModule auth_basic_module modules/mod_auth_basic.s ..  /etc/httpd/conf/httpd.conf (149)
LoadModule auth_digest_module modules/mod_auth_digest ..  /etc/httpd/conf/httpd.conf (150)
LoadModule authn_file_module modules/mod_authn_file.s ..  /etc/httpd/conf/httpd.conf (151)
LoadModule authn_alias_module modules/mod_authn_alias ..  /etc/httpd/conf/httpd.conf (152)
LoadModule authn_anon_module modules/mod_authn_anon.s ..  /etc/httpd/conf/httpd.conf (153)
LoadModule authn_dbm_module modules/mod_authn_dbm.so      /etc/httpd/conf/httpd.conf (154)
LoadModule authn_default_module modules/mod_authn_def ..  /etc/httpd/conf/httpd.conf (155)
LoadModule authz_host_module modules/mod_authz_host.s ..  /etc/httpd/conf/httpd.conf (156)
LoadModule authz_user_module modules/mod_authz_user.s ..  /etc/httpd/conf/httpd.conf (157)
LoadModule authz_owner_module modules/mod_authz_owner ..  /etc/httpd/conf/httpd.conf (158)
LoadModule authz_groupfile_module modules/mod_authz_g ..  /etc/httpd/conf/httpd.conf (159)
LoadModule authz_dbm_module modules/mod_authz_dbm.so      /etc/httpd/conf/httpd.conf (160)
LoadModule authz_default_module modules/mod_authz_def ..  /etc/httpd/conf/httpd.conf (161)
LoadModule include_module modules/mod_include.so          /etc/httpd/conf/httpd.conf (164)
LoadModule log_config_module modules/mod_log_config.s ..  /etc/httpd/conf/httpd.conf (165)
LoadModule env_module modules/mod_env.so                  /etc/httpd/conf/httpd.conf (167)
LoadModule ext_filter_module modules/mod_ext_filter.s ..  /etc/httpd/conf/httpd.conf (168)
LoadModule mime_magic_module modules/mod_mime_magic.s ..  /etc/httpd/conf/httpd.conf (169)
LoadModule expires_module modules/mod_expires.so          /etc/httpd/conf/httpd.conf (170)
LoadModule deflate_module modules/mod_deflate.so          /etc/httpd/conf/httpd.conf (171)
LoadModule headers_module modules/mod_headers.so          /etc/httpd/conf/httpd.conf (172)
LoadModule setenvif_module modules/mod_setenvif.so        /etc/httpd/conf/httpd.conf (174)
LoadModule mime_module modules/mod_mime.so                /etc/httpd/conf/httpd.conf (175)
LoadModule autoindex_module modules/mod_autoindex.so      /etc/httpd/conf/httpd.conf (178)
LoadModule vhost_alias_module modules/mod_vhost_alias ..  /etc/httpd/conf/httpd.conf (181)
LoadModule negotiation_module modules/mod_negotiation ..  /etc/httpd/conf/httpd.conf (182)
LoadModule dir_module modules/mod_dir.so                  /etc/httpd/conf/httpd.conf (183)
LoadModule actions_module modules/mod_actions.so          /etc/httpd/conf/httpd.conf (184)
LoadModule speling_module modules/mod_speling.so          /etc/httpd/conf/httpd.conf (185)
LoadModule alias_module modules/mod_alias.so              /etc/httpd/conf/httpd.conf (187)
LoadModule substitute_module modules/mod_substitute.s ..  /etc/httpd/conf/httpd.conf (188)
LoadModule rewrite_module modules/mod_rewrite.so          /etc/httpd/conf/httpd.conf (189)
LoadModule cache_module modules/mod_cache.so              /etc/httpd/conf/httpd.conf (196)
LoadModule suexec_module modules/mod_suexec.so            /etc/httpd/conf/httpd.conf (197)
LoadModule disk_cache_module modules/mod_disk_cache.s ..  /etc/httpd/conf/httpd.conf (198)
LoadModule cgi_module modules/mod_cgi.so                  /etc/httpd/conf/httpd.conf (199)
LoadModule version_module modules/mod_version.so          /etc/httpd/conf/httpd.conf (200)
Include conf.d/*.conf                                     /etc/httpd/conf/httpd.conf (220)
User apache                                               /etc/httpd/conf/httpd.conf (241)
Group apache                                              /etc/httpd/conf/httpd.conf (242)
ServerAdmin root@localhost                                /etc/httpd/conf/httpd.conf (261)
UseCanonicalName Off                                      /etc/httpd/conf/httpd.conf (284)
DocumentRoot "/var/www/html"                              /etc/httpd/conf/httpd.conf (291)
<Directory />
 Options FollowSymLinks                                   /etc/httpd/conf/httpd.conf (302)
 AllowOverride None                                       /etc/httpd/conf/httpd.conf (303)
</Directory>
<Directory "/var/www/html">
 Options Indexes FollowSymLinks                           /etc/httpd/conf/httpd.conf (330)
 AllowOverride None                                       /etc/httpd/conf/httpd.conf (337)
 Order allow,deny                                         /etc/httpd/conf/httpd.conf (342)
 Allow from all                                           /etc/httpd/conf/httpd.conf (343)
</Directory>
DirectoryIndex index.html index.html.var                  /etc/httpd/conf/httpd.conf (400)
AccessFileName .htaccess                                  /etc/httpd/conf/httpd.conf (407)
<Files ~ "^\.ht">
 Order allow,deny                                         /etc/httpd/conf/httpd.conf (414)
 Deny from all                                            /etc/httpd/conf/httpd.conf (415)
 Satisfy All                                              /etc/httpd/conf/httpd.conf (416)
</Files>
TypesConfig /etc/mime.types                               /etc/httpd/conf/httpd.conf (423)
DefaultType text/plain                                    /etc/httpd/conf/httpd.conf (434)
<IfModule mod_mime_magic>                                 /etc/httpd/conf/httpd.conf (441)
MIMEMagicFile conf/magic                                  /etc/httpd/conf/httpd.conf (443)
</IfModule>                                               /etc/httpd/conf/httpd.conf (444)
HostnameLookups Off                                       /etc/httpd/conf/httpd.conf (454)
ErrorLog logs/error_log                                   /etc/httpd/conf/httpd.conf (482)
LogLevel warn                                             /etc/httpd/conf/httpd.conf (489)
LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\"  ..  /etc/httpd/conf/httpd.conf (495)
LogFormat "%h %l %u %t \"%r\" %>s %b" common              /etc/httpd/conf/httpd.conf (496)
LogFormat "%{Referer}i -> %U" referer                     /etc/httpd/conf/httpd.conf (497)
LogFormat "%{User-agent}i" agent                          /etc/httpd/conf/httpd.conf (498)
CustomLog logs/access_log combined                        /etc/httpd/conf/httpd.conf (524)
ServerSignature Off                                       /etc/httpd/conf/httpd.conf (534)
Alias /icons/ "/var/www/icons/"                           /etc/httpd/conf/httpd.conf (549)
<Directory "/var/www/icons">
 Options Indexes MultiViews FollowSymLinks                /etc/httpd/conf/httpd.conf (552)
 AllowOverride None                                       /etc/httpd/conf/httpd.conf (553)
 Order allow,deny                                         /etc/httpd/conf/httpd.conf (554)
 Allow from all                                           /etc/httpd/conf/httpd.conf (555)
</Directory>
ScriptAlias /cgi-bin/ "/var/www/cgi-bin/"                 /etc/httpd/conf/httpd.conf (574)
<Directory "/var/www/cgi-bin">
 AllowOverride None                                       /etc/httpd/conf/httpd.conf (581)
 Options None                                             /etc/httpd/conf/httpd.conf (582)
 Order allow,deny                                         /etc/httpd/conf/httpd.conf (583)
 Allow from all                                           /etc/httpd/conf/httpd.conf (584)
</Directory>
IndexOptions FancyIndexing VersionSort NameWidth=* HT ..  /etc/httpd/conf/httpd.conf (602)
AddIconByEncoding (CMP,/icons/compressed.gif) x-compr ..  /etc/httpd/conf/httpd.conf (609)
AddIconByType (TXT,/icons/text.gif) text/*                /etc/httpd/conf/httpd.conf (611)
AddIconByType (IMG,/icons/image2.gif) image/*             /etc/httpd/conf/httpd.conf (612)
AddIconByType (SND,/icons/sound2.gif) audio/*             /etc/httpd/conf/httpd.conf (613)
AddIconByType (VID,/icons/movie.gif) video/*              /etc/httpd/conf/httpd.conf (614)
AddIcon /icons/binary.gif .bin .exe                       /etc/httpd/conf/httpd.conf (616)
AddIcon /icons/binhex.gif .hqx                            /etc/httpd/conf/httpd.conf (617)
AddIcon /icons/tar.gif .tar                               /etc/httpd/conf/httpd.conf (618)
AddIcon /icons/world2.gif .wrl .wrl.gz .vrml .vrm .iv     /etc/httpd/conf/httpd.conf (619)
AddIcon /icons/compressed.gif .Z .z .tgz .gz .zip         /etc/httpd/conf/httpd.conf (620)
AddIcon /icons/a.gif .ps .ai .eps                         /etc/httpd/conf/httpd.conf (621)
AddIcon /icons/layout.gif .html .shtml .htm .pdf          /etc/httpd/conf/httpd.conf (622)
AddIcon /icons/text.gif .txt                              /etc/httpd/conf/httpd.conf (623)
AddIcon /icons/c.gif .c                                   /etc/httpd/conf/httpd.conf (624)
AddIcon /icons/p.gif .pl .py                              /etc/httpd/conf/httpd.conf (625)
AddIcon /icons/f.gif .for                                 /etc/httpd/conf/httpd.conf (626)
AddIcon /icons/dvi.gif .dvi                               /etc/httpd/conf/httpd.conf (627)
AddIcon /icons/uuencoded.gif .uu                          /etc/httpd/conf/httpd.conf (628)
AddIcon /icons/script.gif .conf .sh .shar .csh .ksh . ..  /etc/httpd/conf/httpd.conf (629)
AddIcon /icons/tex.gif .tex                               /etc/httpd/conf/httpd.conf (630)
AddIcon /icons/bomb.gif core                              /etc/httpd/conf/httpd.conf (631)
AddIcon /icons/back.gif ..                                /etc/httpd/conf/httpd.conf (633)
AddIcon /icons/hand.right.gif README                      /etc/httpd/conf/httpd.conf (634)
AddIcon /icons/folder.gif ^^DIRECTORY^^                   /etc/httpd/conf/httpd.conf (635)
AddIcon /icons/blank.gif ^^BLANKICON^^                    /etc/httpd/conf/httpd.conf (636)
DefaultIcon /icons/unknown.gif                            /etc/httpd/conf/httpd.conf (642)
ReadmeName README.html                                    /etc/httpd/conf/httpd.conf (660)
HeaderName HEADER.html                                    /etc/httpd/conf/httpd.conf (661)
IndexIgnore .??* *~ *# HEADER* README* RCS CVS *,v *, ..  /etc/httpd/conf/httpd.conf (667)
AddLanguage ca .ca                                        /etc/httpd/conf/httpd.conf (707)
AddLanguage cs .cz .cs                                    /etc/httpd/conf/httpd.conf (708)
AddLanguage da .dk                                        /etc/httpd/conf/httpd.conf (709)
AddLanguage de .de                                        /etc/httpd/conf/httpd.conf (710)
AddLanguage el .el                                        /etc/httpd/conf/httpd.conf (711)
AddLanguage en .en                                        /etc/httpd/conf/httpd.conf (712)
AddLanguage eo .eo                                        /etc/httpd/conf/httpd.conf (713)
AddLanguage es .es                                        /etc/httpd/conf/httpd.conf (714)
AddLanguage et .et                                        /etc/httpd/conf/httpd.conf (715)
AddLanguage fr .fr                                        /etc/httpd/conf/httpd.conf (716)
AddLanguage he .he                                        /etc/httpd/conf/httpd.conf (717)
AddLanguage hr .hr                                        /etc/httpd/conf/httpd.conf (718)
AddLanguage it .it                                        /etc/httpd/conf/httpd.conf (719)
AddLanguage ja .ja                                        /etc/httpd/conf/httpd.conf (720)
AddLanguage ko .ko                                        /etc/httpd/conf/httpd.conf (721)
AddLanguage ltz .ltz                                      /etc/httpd/conf/httpd.conf (722)
AddLanguage nl .nl                                        /etc/httpd/conf/httpd.conf (723)
AddLanguage nn .nn                                        /etc/httpd/conf/httpd.conf (724)
AddLanguage no .no                                        /etc/httpd/conf/httpd.conf (725)
AddLanguage pl .po                                        /etc/httpd/conf/httpd.conf (726)
AddLanguage pt .pt                                        /etc/httpd/conf/httpd.conf (727)
AddLanguage pt-BR .pt-br                                  /etc/httpd/conf/httpd.conf (728)
AddLanguage ru .ru                                        /etc/httpd/conf/httpd.conf (729)
AddLanguage sv .sv                                        /etc/httpd/conf/httpd.conf (730)
AddLanguage zh-CN .zh-cn                                  /etc/httpd/conf/httpd.conf (731)
AddLanguage zh-TW .zh-tw                                  /etc/httpd/conf/httpd.conf (732)
LanguagePriority en ca cs da de el eo es et fr he hr  ..  /etc/httpd/conf/httpd.conf (741)
ForceLanguagePriority Prefer Fallback                     /etc/httpd/conf/httpd.conf (748)
AddDefaultCharset UTF-8                                   /etc/httpd/conf/httpd.conf (757)
AddType application/x-compress .Z                         /etc/httpd/conf/httpd.conf (777)
AddType application/x-gzip .gz .tgz                       /etc/httpd/conf/httpd.conf (778)
AddType application/x-x509-ca-cert .crt                   /etc/httpd/conf/httpd.conf (783)
AddType application/x-pkcs7-crl    .crl                   /etc/httpd/conf/httpd.conf (784)
AddHandler type-map var                                   /etc/httpd/conf/httpd.conf (806)
AddType text/html .shtml                                  /etc/httpd/conf/httpd.conf (814)
AddOutputFilter INCLUDES .shtml                           /etc/httpd/conf/httpd.conf (815)
Alias /error/ "/var/www/error/"                           /etc/httpd/conf/httpd.conf (853)
<IfModule mod_negotiation>                                /etc/httpd/conf/httpd.conf (855)
<IfModule mod_include>                                    /etc/httpd/conf/httpd.conf (856)
<Directory "/var/www/error">
 AllowOverride None                                       /etc/httpd/conf/httpd.conf (858)
 Options IncludesNoExec                                   /etc/httpd/conf/httpd.conf (859)
 AddOutputFilter Includes html                            /etc/httpd/conf/httpd.conf (860)
 AddHandler type-map var                                  /etc/httpd/conf/httpd.conf (861)
 Order allow,deny                                         /etc/httpd/conf/httpd.conf (862)
 Allow from all                                           /etc/httpd/conf/httpd.conf (863)
 LanguagePriority en es de fr                             /etc/httpd/conf/httpd.conf (864)
 ForceLanguagePriority Prefer Fallback                    /etc/httpd/conf/httpd.conf (865)
</Directory>
</IfModule>                                               /etc/httpd/conf/httpd.conf (886)
</IfModule>                                               /etc/httpd/conf/httpd.conf (887)
BrowserMatch "Mozilla/2" nokeepalive                      /etc/httpd/conf/httpd.conf (893)
BrowserMatch "MSIE 4\.0b2;" nokeepalive downgrade-1.0 ..  /etc/httpd/conf/httpd.conf (894)
BrowserMatch "RealPlayer 4\.0" force-response-1.0         /etc/httpd/conf/httpd.conf (895)
BrowserMatch "Java/1\.0" force-response-1.0               /etc/httpd/conf/httpd.conf (896)
BrowserMatch "JDK/1\.0" force-response-1.0                /etc/httpd/conf/httpd.conf (897)
BrowserMatch "Microsoft Data Access Internet Publishi ..  /etc/httpd/conf/httpd.conf (906)
BrowserMatch "MS FrontPage" redirect-carefully            /etc/httpd/conf/httpd.conf (907)
BrowserMatch "^WebDrive" redirect-carefully               /etc/httpd/conf/httpd.conf (908)
BrowserMatch "^WebDAVFS/1.[0123]" redirect-carefully      /etc/httpd/conf/httpd.conf (909)
BrowserMatch "^gnome-vfs/1.0" redirect-carefully          /etc/httpd/conf/httpd.conf (910)
BrowserMatch "^XML Spy" redirect-carefully                /etc/httpd/conf/httpd.conf (911)
BrowserMatch "^Dreamweaver-WebDAV-SCM1" redirect-care ..  /etc/httpd/conf/httpd.conf (912)
SSLProtocol +SSLv3 +TLSv1                                 /etc/httpd/conf/httpd.conf (913)
SSLCipherSuite HIGH:!SSLv2:!ADH:!aNULL:!eNULL:!NULL       /etc/httpd/conf/httpd.conf (914)
TraceEnable Off                                           /etc/httpd/conf/httpd.conf (915)
NameVirtualHost 184.95.32.197:80                          /etc/httpd/conf/httpd.conf (916)
NameVirtualHost 184.95.32.197:443                         /etc/httpd/conf/httpd.conf (917)
NameVirtualHost 184.95.32.195:80                          /etc/httpd/conf/httpd.conf (918)
PidFile run/httpd.pid                                    /etc/httpd/conf/httpd.conf (1454)
LoadModule sed_module modules/mod_sed.so            /etc/httpd/conf.d/000_mod_sed.conf (1)
LoadModule security2_module modules/mod_sec ..  /etc/httpd/conf.d/00_mod_security.conf (3)
LoadModule unique_id_module modules/mod_uni ..  /etc/httpd/conf.d/00_mod_security.conf (4)
LoadModule fcgid_module modules/mod_fcgid.so              /etc/httpd/conf.d/fcgid.conf (7)
AddHandler fcgid-script fcg fcgi fpl                     /etc/httpd/conf.d/fcgid.conf (10)
FcgidIPCDir /var/run/mod_fcgid                           /etc/httpd/conf.d/fcgid.conf (13)
FcgidProcessTableFile /var/run/mod_fcgid/fcgid_shm       /etc/httpd/conf.d/fcgid.conf (14)
ScriptAlias /mailman/ /usr/lib/mailman/cgi-bin/         /etc/httpd/conf.d/mailman.conf (5)
<Directory /usr/lib/mailman/cgi-bin/>
 AllowOverride None                                     /etc/httpd/conf.d/mailman.conf (7)
 Options ExecCGI                                        /etc/httpd/conf.d/mailman.conf (8)
 Order allow,deny                                       /etc/httpd/conf.d/mailman.conf (9)
 Allow from all                                        /etc/httpd/conf.d/mailman.conf (10)
</Directory>
Alias /pipermail/ /var/lib/mailman/archives/public ..  /etc/httpd/conf.d/mailman.conf (14)
<Directory /var/lib/mailman/archives/public>
 Options Indexes MultiViews FollowSymLinks             /etc/httpd/conf.d/mailman.conf (16)
 AllowOverride None                                    /etc/httpd/conf.d/mailman.conf (17)
 Order allow,deny                                      /etc/httpd/conf.d/mailman.conf (18)
 Allow from all                                        /etc/httpd/conf.d/mailman.conf (19)
 AddDefaultCharset Off                                 /etc/httpd/conf.d/mailman.conf (20)
</Directory>
LoadModule evasive20_module modules/mod_evasive ..  /etc/httpd/conf.d/mod_evasive.conf (3)
<IfModule prefork>                                          /etc/httpd/conf.d/php.conf (5)
LoadModule php5_module modules/libphp5.so                   /etc/httpd/conf.d/php.conf (6)
</IfModule>                                                 /etc/httpd/conf.d/php.conf (7)
AddHandler php5-script .php                                /etc/httpd/conf.d/php.conf (15)
AddType text/html .php                                     /etc/httpd/conf.d/php.conf (16)
DirectoryIndex index.php                                   /etc/httpd/conf.d/php.conf (22)
LoadModule ssl_module modules/mod_ssl.so                   /etc/httpd/conf.d/ssl.conf (12)
Listen *:443                                               /etc/httpd/conf.d/ssl.conf (18)
SSLSessionCache shmcb:/var/cache/mod_ssl/scache(512000 ..  /etc/httpd/conf.d/ssl.conf (35)
SSLSessionCacheTimeout 300                                 /etc/httpd/conf.d/ssl.conf (36)
SSLMutex default                                           /etc/httpd/conf.d/ssl.conf (41)
SSLRandomSeed startup file:/dev/urandom  256               /etc/httpd/conf.d/ssl.conf (53)
SSLRandomSeed connect builtin                              /etc/httpd/conf.d/ssl.conf (54)
SSLCryptoDevice builtin                                    /etc/httpd/conf.d/ssl.conf (66)
SSLCipherSuite ALL:!ADH:!LOW:!SSLv2:!EXP:+HIGH:+MEDIU ..  /etc/httpd/conf.d/ssl.conf (222)
Alias /usage /var/www/usage                           /etc/httpd/conf.d/webalizer.conf (6)
<Location /usage>
 Order deny,allow                                     /etc/httpd/conf.d/webalizer.conf (9)
 Deny from all                                       /etc/httpd/conf.d/webalizer.conf (10)
 Allow from 127.0.0.1                                /etc/httpd/conf.d/webalizer.conf (11)
 Allow from ::1                                      /etc/httpd/conf.d/webalizer.conf (12)
</Location> 
```

请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:15:43.860

事实证明，启动到不同的内核（默认为[Atomic Rocket Turtle ASL](http://www.atomicorp.com/products/asl.html)）允许 httpd 正常启动。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T18:11:37.853

问题是他安装了 modsecurity 2.7 的候选版本，这不是由内核引起的。

# spring - 发生时如何处理 Spring JPA 存储库 SQL 错误？

> ID：11238774
> 
> 赞同：1
> 
> 时间：2012-06-28T05:54:55.937
> 
> 标签：spring, hibernate, jakarta-ee, spring-data-jpa

在我的项目中，我使用 Sring JPA 存储库概念与数据库进行交互。现在存储库有许多内置的 CRUD 函数，如 Repository.save().. 它保存实体

现在在保存过程中，有时我会收到如下所示的 sql 错误并且保存操作失败： **SQL 错误**：

```
2012-06-28 10:28:43,217 [WARN] [pool-1-thread-1] [org.hibernate.util.JDBCExceptionReporter] - SQL Error: 0, SQLState: 22001
2012-06-28 10:28:43,217 [ERROR] [pool-1-thread-1] [org.hibernate.util.JDBCExceptionReporter] - Data truncation: Data too long for column '<Column Name>' at row 1 
```

我关心的是**如何在java代码中处理这些错误**，因为我看不到这个方法抛出一些我可以处理这些错误的异常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T23:23:53.307

除了您可能会检查长度是否不是太大的业务类或 POJO 之外，您可以在休眠论坛上找到休眠正在记录此内容的信息。

参见例如[Persist object error : Data too long for column (in MySql)](https://forum.hibernate.org/viewtopic.php?f=1&t=1012052)和[Data truncation: Data too long for column](https://forum.hibernate.org/viewtopic.php?f=1&t=961616)。

它根本与 Spring Data 无关。

# objective-c - 如何计算每个运行 iPhone 或 iPad 的进程的 TaskCPUUsage 和 TaskThreadCount

> ID：11238775
> 
> 赞同：0
> 
> 时间：2012-06-28T05:54:56.540
> 
> 标签：objective-c, sysctl

如何计算 iPhone 或 iPad 中每个正在运行的进程的 TaskCPUUsage 和 TaskThreadCount ..我想给出进程 id 并计算该进程的 % cpu。这可能吗？如果可能怎么办？如何获取 ProcessID、ProcessName、UserName、%CPU、Threads、Real Mem、Virtual Mem、Architecture、CPU Time 和 Sudden Term。以编程方式，我必须为我的 iPhone 中运行的进程计算这些值。我们可以在活动监视器工具中看到这些字段。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-17T15:23:53.900

我从我对 I 设备的有限使用中知道 [我是一个 droid 用户，因为当我可以在 Android 中免费获得它们时，我永远无法在有根手机上为每个应用程序支付 10 - 15 美元 [用于 SSH 访问等]。不要抱怨只是指出它，因为这是你为他们过度简化的 UI 方法付出的代价]

无论如何，我知道在为客户修复 iPhone 并对其进行越狱时，我确实看到 iPhone 对你在什么情况下使用的用户非常挑剔。我确实看到了一个我现在想不起来的命令来获取设备上的用户列表。

我刚刚为你找到了这个......它被称为 iAccounts 并声明它用于在越狱的 iPhone 上创建具有不同权限的帐户。它还应该能够列出所有用户 [包括大量内置帐户。如果需要，如果所有其他方法都失败，请找到用于创建用户帐户的代码，然后让您的应用程序使用足够的权限创建它需要的用户，以执行您希望它执行的所有操作 [希望不授予它完全 root 访问权限，以防万一您的代码曾经拥有一个问题，它有助于避免系统中的灾难性故障，因为它只是在它使用的帐户的权限被超过并且被停止之前才得到这么多 [不是说你本身会有这种类型的错误，但不能解释每一种情况最好谨慎行事，因为将任何智能手机变砖都不好玩]]。

[http://isource.com/2010/03/05/iaccounts-user-accounts-on-iphone-jailbreak-only/](http://isource.com/2010/03/05/iaccounts-user-accounts-on-iphone-jailbreak-only/)

如果您可以获得内置帐户列表，则可以使用不同的帐户来处理不同的任务，并且有一个仅用于任务管理的帐户，如果您能找到一个帐户，它将为您提供所需的内容。

哦，是的，不要忘记内置帐户可能会有所不同[无论它们是否存在默认凭据，如何使用它们等，不同的 iOS 版本之间]。我会尝试在您的代码中使用几个不同的 iOS 版本，以查看它在不同版本中的反应。

# c# - 如何自动将 .Net 3.5 升级到 .Net 4.0，包括参考资料？

> ID：11238780
> 
> 赞同：2
> 
> 时间：2012-06-28T05:55:20.673
> 
> 标签：c#, visual-studio-2010, .net-4.0

我要将我的解决方案从 .net3.5 升级到 .net4.0。但我的解决方案有 120 个项目。

我从这里得到一个宏：[Change the Target Framework for all my projects in a Visual Studio Solution](https://stackoverflow.com/questions/2956415/change-the-target-framework-for-all-my-projects-in-a-visual-studio-2010-solution)

它有效，但它只更改目标框架，而不是引用。我需要删除一些引用并为 4.0 版重新添加它们。

有什么方法可以自动执行此操作吗？我不想为所有 120 个项目执行此操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T05:59:19.393

我会尝试使用功能强大的文本编辑器（例如[Notepad++](http://notepad-plus-plus.org/)）在所有 *.*proj 文件中搜索和替换。它可能需要[正则表达式](http://sourceforge.net/apps/mediawiki/notepad-plus/index.php?title=Regular_Expressions)。

# jquery - 检查时，在 JqMobile 中显示复选框的标签文本

> ID：11238784
> 
> 赞同：0
> 
> 时间：2012-06-28T05:55:25.010
> 
> 标签：jquery, jquery-mobile, checkbox

我有一个 JqMobile 代码：-

[http://jsfiddle.net/qgueS/](http://jsfiddle.net/qgueS/)

我想做的是检查复选框，在`<h3>Select</h3>`上面显示它们各自的标签文本，例如，如果选择了 Bajaj Pulsar 和 Honda Shine，则显示如下......

```
<h3>Bajaj Pulsar, Honda Shine,...</h3> 
```

有人可以帮忙吗？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T08:24:49.853

首先，添加`id`到`div`.

```
<div data-role="collapsible" data-content-theme="c" data-iconpos="right" id="foo"> 
```

接下来，像这样加载js：</p>

```
$(document).ready(function(){
    var h3_old = $('#foo h3 .ui-btn-text').text();
    $('#foo input').change(function(){
        var h3_new = new Array();
        $('#foo input:checked').each(function(){
            h3_new.push($(this).parent('div').find('.ui-btn-text').text());
        });
        if (h3_new.length > 0){
            $('#foo h3 .ui-btn-text').text(h3_new.join(', '));
        } else {
            $('#foo h3 .ui-btn-text').text(h3_old);
        }
    });
});​ 
```

# javascript - 重定向到html中的同一页面后如何显示字段值？

> ID：11238788
> 
> 赞同：0
> 
> 时间：2012-06-28T05:55:59.667
> 
> 标签：javascript, forms, redirect

我有一个用于搜索操作的 HTML 页面。

一旦用户输入搜索条件并单击搜索按钮，搜索结果应显示在同一页面上。

但是，在搜索结果页面上，由于刷新/重定向到同一页面，用户输入的搜索字段值被清除。

如何捕获字段值并显示它们？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:02:31.403

我认为最好的选择是合并您的搜索表单和结果页面，并让您的表单提交给自己，如下所示：

```
<form method="get" action="">
    <input type="text" name="search" value=""/>
    <input type="submit" value="Submit"/>
</form> 
```

这样，您仍然可以通过使用搜索使用的表单提交来访问搜索的项目，并使`value=""`搜索字段的属性值相同；在 PHP 中，这将是：

```
<form method="get" action="">
    <input type="text" name="search" value="<?php echo $_GET["search"]; ?>"/>
    <input type="submit" value="Submit"/>
</form> 
```

* * *

如果您仍然想要一个中间页面，请使用隐藏的输入字段：

```
<input type="hidden" name="searched"/> 
```

如果您有用户提交要重定向的表单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:48:15.930

我认为您正在寻找的是如何使用 GET 字符串变量从搜索表单中获取值对。您将访问[`location`](https://developer.mozilla.org/en/DOM/window.location)object 属性，如果有[`.search`](https://developer.mozilla.org/en/DOM/window.location#Properties)查询字符串（`GET`URL 段），它将在哪里为您提供。

例如：

```
<form method="get">
<p>
<input type="text" name="q1" value="Search Criteria 1">
<input type="text" name="q2" value="Search Criteria 2">
<input type="text" name="q3" value="Search Criteria 3">
<button type="submit">Submit Search</button>
</p>
</form> 
```

我们可以尝试以下方法来查看`GET`URL 中的内容（如果有的话）：

```
<script type="text/javascript">
(function(){
    var getpairs = location.search.substring(1).split('&'),
        pairs = {},
        i = getpairs.length,
        pair;

    while (i--) {
        pair = getpairs[i].split('=');
        pairs[pair[0]] = decodeURI(pair[1]) || true;
    }

    if (pairs.length) {
        console.log(pairs);
    } else {
        console.log('Nothing in GET string.');
    }
})();
</script> 
```

[http://jfcoder.com/test/get.html](http://jfcoder.com/test/get.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-07T15:24:45.447

我认为你可以使用这样的东西

```
<input type="text" name="bar" value="${param.bar}"> 
```

# android - eclipse中android悬停时按钮的Android颜色变化

> ID：11238790
> 
> 赞同：1
> 
> 时间：2012-06-28T05:56:04.210
> 
> 标签：android, eclipse, button, hover

我正在eclipse中开发android项目。Android版本是2.3.3。我已经设置了我的按钮颜色，我也可以在单击按钮时更改按钮的颜色，但是当我的光标在按钮上时，按钮颜色必须更改，并且当光标移开时，它应该具有以前的颜色，与悬停在按钮。但是我无法弄清楚 state_pressed 之类的动作事件，所以我需要那个动作事件。如果有人可以请帮助我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T06:02:57.750

您可以使用 xml 来更改按钮的状态，也可以参考这个链接[Change color of button](https://nishantvnair.wordpress.com/2010/10/05/change-color-of-button-on-click-android/)

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">

    <!-- Button Focused-->
    <item   android:state_focused="true"
        android:state_pressed="false"
        android:drawable="@drawable/login_hover"
        />

    <!-- Button Focused Pressed-->
    <item   android:state_focused="true"
        android:state_pressed="true"
        android:drawable="@drawable/login_hover"
        />

    <!-- Button Pressed-->
    <item   android:state_focused="false"
       android:state_pressed="true"
        android:drawable="@drawable/login_hover"
        />

    <!-- Button Default Image-->
    <item   android:drawable="@drawable/login_bg"/>

</selector> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:03:11.783

你真正需要的是onfocus，onpress，onclick你想改变颜色。使用选择器，这会帮助你

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-18T13:29:09.203

上传一个看起来像按钮的图像并让图像具有 OnClickListener() 太容易了

# asp.net - Response.Redirect() 和 Response.Write() 之间的区别

> ID：11238793
> 
> 赞同：-2
> 
> 时间：2012-06-28T05:56:29.710
> 
> 标签：asp.net

和有什么区别

```
Response.Redirect("Default.aspx"); 
```

和

```
Response.Write("<script>location.href='Default.aspx';</script>"); 
```

为什么有人会选择第二个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:00:07.943

第一种方法是在http响应中将重定向指令传递给浏览器，第二种方法将使用浏览器的javascript功能重写地址栏中的url。我认为第一种方法很好，因为如果有人禁用了 js，第二种方法将不起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T07:14:17.560

`Response.write()`仅用于在当前页面上写入内容。而`Response.redirect()`将请求转移到新页面。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:13:24.560

Response.Redirect 函数首先发送到服务器，然后识别我们需要导航的网页并再次重新发送到客户端。在 Response.Redirect 方法的情况下会发生额外的往返。为了避免这种往返，我们可以使用 Javascript 重定向方法。

使用哪一个完全取决于具体情况

# facebook - FB是如何智能通知我状态更新的？

> ID：11238797
> 
> 赞同：-5
> 
> 时间：2012-06-28T05:56:53.513
> 
> 标签：facebook, notifications, status

今天晚上，我妈妈（我们被列为妈妈/亲密朋友）做了更新：​​“我和迈克一起去看普罗米修斯”。尽管她没有输入我的 FB 名称，但我收到了此状态更新的通知。该应用程序如何识别出我是她所说的“迈克”？

我没有发布关于我们郊游的状态更新。我没有按名称或位置标记。我一定是错过了什么，这有点太令人毛骨悚然了。

谢谢，

MNM

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:02:26.513

您收到您的密友每次状态更新的通知，如果她更新`I was i with ABC`，您将收到她更新状态的通知...

# android - 当我们覆盖主页按钮操作时，透明活动不可见

> ID：11238799
> 
> 赞同：0
> 
> 时间：2012-06-28T05:57:04.407
> 
> 标签：android

我在一个android应用程序中工作，我的场景是在一个活动上方显示一个透明的活动，我已经通过添加成功实现了它

`android:theme="@android:style/Theme.Translucent.NoTitleBar.Fullscreen"`

在我在那次活动中的清单中。但我也想覆盖我的 android 设备硬件主页按钮。因此，我已经覆盖了关键事件`dispatchKeyEvent`，`onAttachedToWindow`并且我已经成功地实现了这一点。但是当我覆盖主页按钮时，这个透明的活动是不可见的。我用来覆盖主页键事件的代码是

：

```
@Override
    public boolean dispatchKeyEvent(KeyEvent event) {
        onAttachedToWindow();

        if ((event.getKeyCode() == KeyEvent.KEYCODE_HOME)) {

            // if Home button is pressed EntryValidationActivity called
            SharescreenActivity.this.finish();
            Intent screenLockIntent = new Intent(SharescreenActivity.this,
                    EntryValidationActivity.class);
            startActivity(screenLockIntent);
            this.moveTaskToBack(true);
            return true;
        } else
            return super.dispatchKeyEvent(event);
    }

 @Override
    public void onAttachedToWindow() {

        this.getWindow().setType(WindowManager.LayoutParams.TYPE_KEYGUARD);
        //this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
        super.onAttachedToWindow();

    } 
```

将这两者结合在一起的任何解决方案。提前致谢。

# api - 从 Foursquare 获取签到呼声

> ID：11238800
> 
> 赞同：0
> 
> 时间：2012-06-28T05:57:16.767
> 
> 标签：api, foursquare, signature, checkin

这是我的第一个问题 =)

我正在开发一个应用程序来从特定位置附近进行签到。要做到这一点，我必须使用[`search`](https://developer.foursquare.com/docs/venues/search)方法传递位置，并且对于每个场地我调用该[`herenow`](https://developer.foursquare.com/docs/venues/herenow)方法。

基本上我已经得到了这些签到，但此外我还想抓住每次签到的用户喊声。我使用 oauth 进行了正确的身份验证...

我唯一知道的是，要做到这一点，我应该有某种类型的签名，就像在另一个社交网络（如 Twitter）上发布的签到中使用的那样。所以...我不知道该怎么做...

只是要知道：我正在使用 Java 语言。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T15:03:28.050

没有办法在特定位置附近获得完整的签到。Foursquare 具有严格的用户隐私设置，因此您只能访问已明确授权您的应用程序的用户的签到。

Here-now 确实是签入的唯一公开视图，并且对于您可以使用它执行的操作有严格的隐私规则 -[请参阅此处的官方 api 政策](https://developer.foursquare.com/overview/community)。例如，您不能将数据保存超过 3 小时。

如果您想要一个公共数据集，那么 twitter 可能是最好的解决方案，因为与公共 twitter 帐户共享的签到可以使用附加到 URL 的“签名”通过 API 访问。[有关该字段的更多详细信息，请点击此处](https://developer.foursquare.com/docs/checkins/checkins)。

[这是我本人使用签名字段 ('s') 签到的示例。](https://foursquare.com/rathboma/checkin/4feba0c5e4b084ec8a00a656?s=CLYFODYquKFq9E4H6GD0-5q5Lx4&ref=tw)

即使是公开签到，由于用户没有授权你的应用程序，同样的 api 策略也将适用。

# php - 从sql中删除行后重新加载页面

> ID：11238801
> 
> 赞同：0
> 
> 时间：2012-06-28T05:57:20.210
> 
> 标签：php

已经为此忙碌了一段时间，但在删除一行后仍然无法重新加载页面。

行删除工作正常，但仅在我重新加载页面后才会出现。一直在移动一些代码以在按下提交时读取它，但没有运气。有任何想法吗 ？

```
 <?php
mysql_connect("localhost", "root", "") or die(mysql_error()) ; 
mysql_select_db("booking") or die(mysql_error()) ;

$resultselect = mysql_query("SELECT * FROM test_mysql ") or die(mysql_error()); 
?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 

    <head> 
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
        <title>row delete</title> 
        <link rel="stylesheet" type="text/css" href="" /> 
    </head> 

    <body>
<?php 
    if(isset($_POST['done'])){
    $done = implode(',', $_POST['done']);
    $deletequery = "DELETE FROM test_mysql WHERE id IN ($done)";
    $resultdelete = mysql_query($deletequery) or die(mysql_error());
    }

    ?>

    <form method="post" action="">
    <?php while($row = mysql_fetch_array($resultselect)){?>
        <input type="checkbox" name="done[]" 
    id="<?php echo $row['id'] ?>"
    value="<?php echo $row['id'] ?>">
    <label for="<?php echo $row['id'] ?>">
    <?php echo $row['name'] . ' ' . $row['lastname']. ' '.$row['email']; ?>
    </label>
    <br />
    <?php } ?>
    <input type ="submit" value ="submit">
    </form>
    <?php 

    if($resultdelete) {
        echo 'Item(s) deleted from list.';
    }
    ?>

    <pre>
    <?php print_r($_POST) ?>
     </pre>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:09:47.547

我假设您提供的代码是您的应用程序代码的片段，该代码段`$resultselect`在此部分执行之前设置在某个位置。

这里重要的部分是 MySQL 查询的顺序。如果您在行*之前*`SELECT`ing 行，那么您在运行时仍会看到已删除的行*`DELETE``mysql_fetch_array()`*

 *`SELECT`在查询之后移动`DELETE`查询，一切都应该没问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:07:38.227

看起来您在删除语句之前的一段代码中获得了 $row 的结果集。如果您将 $deletequery 代码放在页面顶部，您可以删除相应的数据记录，然后获取一个新结果集，然后将它们显示给用户。

无论查询为您的循环提供什么

```
while($row = mysql_fetch_array($resultselect))
{
....
} 
```

需要在之后运行

```
$resultdelete = mysql_query($deletequery) or die(mysql_error()); 
```

陈述。

编辑完整代码以运行：

```
<?php
    mysql_connect("localhost", "root", "") or die(mysql_error()) ; 
    mysql_select_db("booking") or die(mysql_error()) ;

    if(isset($_POST['done']))
    {
        $done = implode(',', $_POST['done']);
        $deletequery = "DELETE FROM test_mysql WHERE id IN ($done)";
        $resultdelete = mysql_query($deletequery) or die(mysql_error());
    }
    $resultselect = mysql_query("SELECT * FROM test_mysql ") or die(mysql_error()); 
?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 

    <head> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
    <title>row delete</title> 
    <link rel="stylesheet" type="text/css" href="" /> 
    </head> 

    <body>
    <form method="post" action="">
    <?php while($row = mysql_fetch_array($resultselect)){?>
    <input type="checkbox" name="done[]" 
    id="<?php echo $row['id'] ?>"
    value="<?php echo $row['id'] ?>">
    <label for="<?php echo $row['id'] ?>">
    <?php echo $row['name'] . ' ' . $row['lastname']. ' '.$row['email']; ?>
    </label>
    <br />
    <?php } ?>
    <input type ="submit" value ="submit">
    </form>
    <?php 

    if($resultdelete) {
    echo 'Item(s) deleted from list.';
    }
    ?>

    <pre>
    <?php print_r($_POST) ?>
     </pre>
    </body>
</html> 
```*

# php - PHP is_writable() 返回 true 但 file_put_contents() 返回 false

> ID：11238809
> 
> 赞同：6
> 
> 时间：2012-06-28T05:57:46.233
> 
> 标签：php

即使`is_writable()`返回 true，我也无法写入文件。当然，该文件存在并且显然是可读的。这是代码：

```
$file = "data";
echo file_get_contents($file)."<br>";
echo is_writable($file) ? "is writable<br>" : "not writable<br>";
if (file_put_contents($file, "ghijkl", FILE_APPEND) === FALSE) echo "failed<br>";
echo file_get_contents($file)."<br>"; 
```

这是输出：

```
abcdef
is writable
failed
abcdef 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-09-02T08:13:23.123

因此，在我的情况下，只需检查文件系统中的可用空间，我在控制台中输入：
df -h
Filesystem Size Used Avail Capacity Mounted on
/dev/da0s1f 4.3G 4.0G -68M 102% /usr

free up space and function file_put_contents 在那之后工作

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-12-13T17:18:42.017

**检查 is_file( )**

也许您正在尝试写入目录，而不是文件 - 也就是说，可以写入但您无法追加的内容。只是一个猜测。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-06-17T12:57:17.877

你必须使用这个：

```
$file=realpath('data'); 
```

然后你必须`$file`在文件放置内容中使用上面的这个，最后一个尝试使用文件类型，如（filename.filetype）。

```
file_put_contents($file,'fgdfgfg'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-13T16:35:50.143

您是否检查了文件的所有权？这可能是原因，尝试运行此代码：

```
chown username:groupname your_file.txt 
```

请记住更改用户名：组名。希望这对你有用！

# python - 使用 python 测试网站或 Web 应用程序的建议

> ID：11238810
> 
> 赞同：0
> 
> 时间：2012-06-28T05:57:50.797
> 
> 标签：python, testing, selenium, web-testing

我正在为一个用 Java 编写的电子商务旅游门户网站工作。因此，显然我对 Python 语言非常满意，我正在寻找一个 Python 框架，它可以测试网站并为我们提供完整的信息，即问题在哪一步。所以我想知道有什么可以完成这项任务的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:33:19.867

您可以查看[Robot Framework](http://code.google.com/p/robotframework/)，它允许在 Java 或 Python 中进行扩展。我们在工作中使用过它，效果很好，尤其是测试报告非常全面且易于检查。

# c# - 无法解释的网格布局宽度行为

> ID：11238819
> 
> 赞同：0
> 
> 时间：2012-06-28T05:58:31.160
> 
> 标签：c#, wpf, xaml, layout, grid-layout

作为 WPF / XAML 的新手，我一直在努力解决布局并试图使其统一。我正在使用一个网格列表框，在不同的列中有不同的数据。我将首先说所需的行为：列的统一开始和结束位置，我认为可以通过在 s 中使用`*`-based `Width`s来实现`ColumnDefinition`。

在底部 GitHub 链接的最新差异中，使用虚拟数据，列是统一的，具有各种字符串长度。但是由于某种原因，当我使用从`DirectorySizer`s 中提取的实际数据时，均匀性超出了窗口，第二列根据 s 的长度从不同的位置开始`DirPath`。我唯一能想到的是数据是否比列长，这似乎不是这种情况（在内存中检查`DirPath`会得到适当的修剪）。

对此有任何解决方案/解释吗？我不知所措。

[期望行为和不期望行为之间的差异](https://github.com/jihyq9/DirectorySizeBrowser/commit/77571278d13ec38408c0c9427e3c082083eb2020)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:57:29.313

您应该考虑在列表框中使用 Grid.IsSharedSizeScope。使用它，您可以根据 columnDefinition 中的属性“SharedSizeGroup”使所有网格共享相同的列大小。我知道这不是一个彻底的解释，所以请在 Grid.IsSharedSizeScope 上搜索一下，然后你会找到你需要的东西。

此外，您看到的行为差异可能是由您使用的数据源的不同结构来解释的。不要做一个字符串数组，其中完全相同的值被绑定到每一列，而是尝试设置一个具有两个不同字符串值的类并绑定到该类。这样，它将与您的 DirectorySizer 对象进行更有效的比较

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:43:52.823

显然有些东西`INotifyPropertyChanged`会导致布局不正常。当`Notify()`发生这种情况并显示新内容时，布局系统只是保持内容和网格线之间的填充，如果内容的大小不同，则会导致对齐变形。

# javascript - jquery javascript从页面获取具有条件的图像源？

> ID：11238823
> 
> 赞同：0
> 
> 时间：2012-06-28T05:58:55.853
> 
> 标签：javascript, jquery, tags, conditional-statements

我有一个可以从页面获取图像的脚本，但是如何在有条件的情况下做到这一点？比如宽度/高度尺寸？

现在我有这个

```
(function(){

    var imgs = document.getElementsByTagName("img");
    var imgSrcs = [];

    for (var i = 0; i < imgs.length; i++) {
        imgSrcs.push(imgs[i].src);
    }

}()); 
```

所以我得到了所有有 img 的标签，它得到了它的来源，但是我如何得到有条件的图像呢？

有没有我可以得到的某个属性？我应该在其他情况下使用吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:00:33.497

使用可以使用属性并根据它们创建条件。

例如，imgs[i].style.width == "75px" 或 $(imgs[i]).width() == 75

```
 (function(){

        var imgs = document.getElementsByTagName("img");
        var imgSrcs = [];

        for (var i = 0; i < imgs.length; i++) {
           if($(imgs[i]).width() == 75)
               imgSrcs.push(imgs[i].src);    
        }

    }()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:03:03.137

```
(function(){

var imgs = document.getElementsByTagName("img");
var imgSrcs = [];

for (var i = 0; i < imgs.length; i++) {
   if(imgs[i].style.clientWidth == 75)
       imgSrcs.push(imgs[i].src);
}

}()); 
```

# c# - C# VisualStateManager - WPF 中 SelectedPointerOver 的等价物（在 Metro 中）

> ID：11238824
> 
> 赞同：0
> 
> 时间：2012-06-28T05:58:56.230
> 
> 标签：c#, wpf, microsoft-metro, visualstatemanager

我正在为 ListBox 创建一个自定义控件模板，但我在视觉状态方面遇到了困难。使用 VisualState MouseOver 时，它会影响包括所选项目在内的所有项目，我希望它们具有单独的样式。

在 Metro 中，有 SelectedPointerOver，在 WPF 或其他替代方案中是否有任何等价物？

**编辑：**

例如，所有项目最初都有黑色前景。

当一个项目被选中时，它的前景变为白色（未选中的项目保持黑色前景）。

现在，当我将鼠标悬停在未选中的项目上时，我希望它的前景变成蓝色，当我将鼠标悬停在选定的项目上时，我希望它的前景变成红色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T09:41:18.457

据我所知，在 WPF 中没有与该状态等效的东西。

WPF ListBoxItem 具有 states和`Unselected`in group以及states`Selected`和in group 。每个组中的状态是相互排斥的，但来自不同组的状态可以同时进行。例如，ListBoxItem 可以同时处于状态。`SelectedUnfocused``SelectionStates``Normal``MouseOver``Disabled``CommonStates``Selected``MouseOver`

由控制模板定义考虑这一事实的可视化。例如，它可以在选中项目时使用不同的背景画笔填充项目，并在鼠标悬停在项目上时绘制外边框。重要的是有独立的可视化同时*可见*，因为相关的状态是独立的，可以同时进行。当一个选定的列表项看起来不被选中时，用户通常会感到有点困惑，因为他将鼠标移到该项目上。

编辑 - 下面的列表框示例。使用触发器而不是视觉状态可能会更容易完成。

```
<ListBox SelectionMode="Extended">
    <ListBox.ItemContainerStyle>
        <Style TargetType="ListBoxItem">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Grid Background="LightGray" Margin="1">
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal"/>
                                    <VisualState x:Name="Disabled"/>
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetName="UnselectedText"
                                                            Storyboard.TargetProperty="Foreground.Color"
                                                            To="Blue" Duration="0:0:0.1"/>
                                            <ColorAnimation Storyboard.TargetName="SelectedText"
                                                            Storyboard.TargetProperty="Foreground.Color"
                                                            To="Red" Duration="0:0:0.1"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="SelectionStates">
                                    <VisualState x:Name="Unselected"/>
                                    <VisualState x:Name="Selected">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="UnselectedText"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="0" Duration="0:0:0.1"/>
                                            <DoubleAnimation Storyboard.TargetName="SelectedText"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="1" Duration="0:0:0.1"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <TextBlock Name="UnselectedText" Margin="2" Text="{TemplateBinding Content}">
                                <TextBlock.Foreground>
                                    <SolidColorBrush Color="Black"/>
                                </TextBlock.Foreground>
                            </TextBlock>
                            <TextBlock Name="SelectedText" Margin="2" Text="{TemplateBinding Content}" Opacity="0">
                                <TextBlock.Foreground>
                                    <SolidColorBrush Color="White"/>
                                </TextBlock.Foreground>
                            </TextBlock>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </ListBox.ItemContainerStyle>
    <ListBox.Items>
        <ListBoxItem Content="Item 1"/>
        <ListBoxItem Content="Item 2"/>
        <ListBoxItem Content="Item 3"/>
        <ListBoxItem Content="Item 4"/>
        <ListBoxItem Content="Item 5"/>
        <ListBoxItem Content="Item 6"/>
        <ListBoxItem Content="Item 7"/>
        <ListBoxItem Content="Item 8"/>
        <ListBoxItem Content="Item 9"/>
        <ListBoxItem Content="Item 10"/>
    </ListBox.Items>
</ListBox> 
```

# matlab - Matlab中有blockproc的替代品吗？

> ID：11238828
> 
> 赞同：5
> 
> 时间：2012-06-28T03:37:13.127
> 
> 标签：matlab, image-processing, matrix

我一直在使用[`blockproc`](http://www.mathworks.com/help/toolbox/images/ref/blockproc.html)块状处理图像。不幸的是，`blockproc`它是我个人计算机上没有的图像处理工具箱的一部分。

基础 Matlab 中是否有可以替代的函数组合`blockproc`？

* * *

我最初的猜测是使用`im2col`将每个块转换为列，然后`arrayfun`处理每一列。然后我意识到这`im2col`也是图像处理工具箱的一部分，所以这并不能解决我的问题。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-29T15:20:27.240

这是一个使用 MAT2CELL 的示例。它将图像划分为 N×M 个图块，并处理图像大小不能被图块数整除的情况。

```
%# 2D grayscale image
I = imread('coins.png');

%# desird number of horizontal/vertical tiles to divide the image into
numBlkH = 4;
numBlkW = 4;

%# compute size of each tile in pixels
[imgH,imgW,~] = size(I);
szBlkH = [repmat(fix(imgH/numBlkH),1,numBlkH-1) imgH-fix(imgH/numBlkH)*(numBlkH-1)];
szBlkW = [repmat(fix(imgW/numBlkW),1,numBlkW-1) imgW-fix(imgW/numBlkW)*(numBlkW-1)];

%# divide into tiles, and linearize using a row-major order
C = mat2cell(I, szBlkH, szBlkW)';
C = C(:);

%# display tiles i subplots
figure, imshow(I)
figure
for i=1:numBlkH*numBlkW
    subplot(numBlkH,numBlkW,i), imshow( C{i} )
end 
```

输入图像和生成的图块：

![输入图像](../Images/a027d10df56db9e14724351046aff68f.png) ![瓷砖](../Images/753c14457fb3405dcdd958724f09adc4.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T08:52:48.160

不会[mat2tiles](http://www.mathworks.com/matlabcentral/fileexchange/35085-split-nd-array-into-equal-sized-cells "mat2tiles")`cellfun`和`cell2mat`多或少一起做点什么`blockproc`吗？

您可以自己编写一个包装器，使其使用与 相同的参数`blockproc`，我认为这不应该那么难。

# iis - 如何使用命令行在防火墙中启用“全球服务 (HTTP)”？

> ID：11238830
> 
> 赞同：26
> 
> 时间：2012-06-28T05:59:21.593
> 
> 标签：iis, iis-7, sql-server-2008-r2, windows-server-2008, firewall

我正在尝试在本地网络中共享我的网站。我想使用命令行工具来执行此操作。

**手动：** 在 Windows 7 上通过 Windows 防火墙启用 http 访问。从开始菜单开始键入“允许程序通过 Windows 防火墙”。滚动列表底部并查找万维网服务 (HTTP) 并在您的网络上启用它。它工作正常。

**命令行不起作用：**

```
>> netsh advfirewall firewall set rule name="World Wide Web Services (HTTP)" new enable=yes 
```

**错误：没有规则匹配指定的条件。**

命令行有什么问题？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-06-08T11:16:24.770

对于 Windows 7：在运行时键入**firewall.cpl** (Win + R)，然后在打开窗口的左侧面板上转到**高级设置**，然后在**入站规则**中会有一个规则列表，`World Wide Web Services (HTTP Traffic-In)`如果您在这些规则中找到并启用该规则也对 HTTPS 感兴趣，然后也启用`World Wide Web Services (HTTPS Traffic-In)`.

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-07-03T14:39:34.807

当我使用俄罗斯版的 MS Windows 7 Pro 时，我遇到了同样的问题。

`"World Wide Web Services (HTTP)"`当我签入服务列表时，此问题已解决。对于我的俄文版 Windows，它被命名为`"службы Интернета (HTTP)"`

所以这个命令行工作正常：

```
>> netsh advfirewall firewall set rule name="службы Интернета  (HTTP)" new enable=yes 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-09-17T22:43:57.367

名称需要是规则**组**，如下所示：

```
>> netsh advfirewall firewall set rule group="World Wide Web Services (HTTP)" new enable=yes 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-07-22T17:34:09.730

与 Sohail xIN3N 类似，与上面的 Jamie 相反，但以下是最终对我有用的方法：

```
netsh advfirewall firewall set rule name="World Wide Web Services (HTTP Traffic-In)" new enable=yes 
```

系统详情：

*   Win7 x64
*   高级安全 Windows 防火墙版本：6.1.7601.17514
*   IIS 7

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2015-02-25T09:19:49.757

在您的 PC 上托管您自己的网站。确保您已将端口 80 上的流量从路由器转发到本地 PC（端口转发）。并确保为 IIS 或您选择使用的任何 Web 服务器启用了防火墙。

# php - 为什么概率结果的方差足够大？

> ID：11238831
> 
> 赞同：2
> 
> 时间：2012-06-28T05:59:34.320
> 
> 标签：php, linux

为什么概率结果的方差足够大？

**测试代码：**

```
function probability($chances) {

    asort($chances);
    $sum    = array_sum($chances);
    $random = mt_rand(1, $sum);

    foreach($chances as $key => $chance) {
        if($random < $chance)
            return $key;
    }

    return $key;

}

$chances['case1'] = 10;
$chances['case2'] = 30;
$chances['case3'] = 60;

$result = array();

for($i = 0; $i < 100000; $i++)
    @$result[probability($chances)]++;

asort($result);
$sum = array_sum($result);

echo "Case\tCount\tOrig\tResult\n";

foreach($result as $key => $value)
    echo "$key\t$value\t".$chances[$key]."%\t".round($value / $sum * 100)."%\n"; 
```

**结果：**

```
Case    Count   Orig    Result
case1   14913   10%     15%
case2   33099   30%     33%
Case3   51988   60%     52% 
```

有没有可能以某种方式调整它？我试图使用`mt_srand()`，但它没有帮助。

**信息：**

```
$ php -v
PHP 5.3.10-1ubuntu3.2 with Suhosin-Patch (cli) (built: Jun 13 2012 17:20:55) 
Copyright (c) 1997-2012 The PHP Group
Zend Engine v2.3.0, Copyright (c) 1998-2012 Zend Technologies
    with Xdebug v2.1.0, Copyright (c) 2002-2010, by Derick Rethans
    with Suhosin v0.9.33, Copyright (c) 2007-2012, by SektionEins GmbH

$ uname -a
Linux desktop 3.2.0-26-generic-pae #41-Ubuntu SMP Thu Jun 14 16:45:14 UTC 2012 i686 i686 i386 GNU/Linux 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:27:29.377

您的随机数生成存在缺陷。

首先，考虑删除`asort`呼叫。它没有做任何有用的事情，而且令人困惑（而且很慢）。您正在对数组进行 100000 次排序！最好添加对数组进行排序的前提条件（并在循环之前对其进行一次排序）或实现不需要排序的算法。

其次，您需要确保每个案例的命中概率对于每个案例都是正确的。这些是您现在的概率：

```
case1: 10 % (1 <= $random <= 10)
case2: 20 % (11 <= $random <= 30)
case3: 70 % (everything that didn't match previous cases) 
```

你真正需要做的是这样的事情：

```
function probability($chances) {
    $sum    = array_sum($chances);
    $random = mt_rand(1, $sum);

    $add = 0;
    foreach($chances as $key => $chance) {
        if($random <= $chance + $add)
            return $key;
        else
            $add += $chance;
    }

    return $key;
} 
```

这将为您提供预期的结果：

```
case1: 10 % (1 <= $random <= 10)
case2: 30 % (11 <= $random <= 40)
case3: 60 % (41 <= $random <= 100) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:07:00.063

```
$sum    = max($chances); 
```

`max()`不求和，使用`array_sum()`insted

我得到了这个结果：

```
Case    Count   Orig    Result
case1   11068   10%     11%
case2   29672   30%     30%
case3   59260   60%     59% 
```

通过运行此版本的代码：

```
<?php

function probability($chances)
{
    asort($chances);
    $sum    = array_sum($chances);
    $random = mt_rand(1, $sum);

    foreach($chances as $key => $chance)
    {
        $random -= $chance;
        if($random <= 0)
        {
            return $key;
        }
    }

    return $key;
}

$chances['case1'] = 10;
$chances['case2'] = 30;
$chances['case3'] = 60;

$result = array();

for($i = 0; $i < 100000; $i++)
{
    @$result[probability($chances)]++;
}

asort($result);
$sum = array_sum($result);

echo "Case\tCount\tOrig\tResult\n";

foreach($result as $key => $value)
{
    echo "$key\t$value\t".$chances[$key]."%\t".round($value / $sum * 100)."%\n";
}
?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T06:39:40.923

> 首先，里面的比较`probability`是错误的，应该是`<=`而不是`<`。

这至少应该使结果更加一致（即10、20、70）

> 其次，`case3`重复计算（如果 nr <= 60 并且如果 nr > 60）。

我建议对代码进行此更改：

```
function probability($chances)
{
    $sum    = array_sum($chances);
    $random = mt_rand(1, $sum);

    foreach($chances as $key => $chance) {
        if ($random <= $chance) {
            return $key;
        }
    }

    return 'rest';
} 
```

`$chances`然后在数组中添加“rest” 。这必须按排序顺序出现。

```
$chances['case1'] = 10;
$chances['case2'] = 30;
$chances['case3'] = 60;
$chances['rest'] = 'NA'; // for 60 < x <= 100 
```

结果：

```
Case    Count   Orig    Result
case1   10083   10%     10%
case2   19965   30%     20%
case3   30084   60%     30%
rest    39868   NA%     40% 
```

# google-apps-script - 脚本无法使用并警告消息“我们很抱歉，发生服务器错误。请稍候，然后重试”

> ID：11238838
> 
> 赞同：0
> 
> 时间：2012-06-28T05:59:58.300
> 
> 标签：google-apps-script

我的脚本可以使用到 28/06/12

项目密钥：M3lNjCXkf28gSsG__pX-a2qKsRpcr8Sdm SDC 密钥：497dba0bd1b73fc9

用户通过单击站点中的 url 使用此脚本 (a href="/macros/sites?action=run&lib=497dba0bd1b73fc9&funcName=newQuotation")

当用户单击站点中的链接时，返回消息“我们很抱歉，发生服务器错误。请稍候，然后重试”。

但是，当我在脚本编辑器中运行脚本时，它可以完全使用。

我能怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:44:41.277

请在问题跟踪器上打开一个问题

# asp.net-mvc-3 - MVC 3 Windows 身份验证和其他用户数据

> ID：11238847
> 
> 赞同：2
> 
> 时间：2012-06-28T06:01:03.110
> 
> 标签：asp.net-mvc-3, razor, windows-authentication

我是 MVC3 的新手。我正在寻求实现以下目标的建议：

1.  我的 MVC3 站点已启用 Windows 身份验证。
2.  我在 Oracle DB 中有单独的 UserProfile 表，其中包含角色信息。
3.  用户可以关联多个产品。对于用户的每个产品角色（S）有所不同。

需要：

1.  用户通过身份验证后，我想从数据库中获取当前所选产品的特定于应用程序的详细信息。我猜我可以通过 RoleProvider 做到这一点。
2.  我想将此信息附加到用户对象。我该怎么做呢？
3.  如果用户更改产品，我应该能够将附加信息重置为 User 对象。是否可以？我该怎么做？

谢谢阿伦

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T05:47:04.210

我只是发布我尝试过的代码。这只是我采取的一种方法。但是我需要 epxperts 评论来说明这在安全性、性能等方面是否是个好主意。

第 1 步：定义继承 IPrincipal 的自定义接口

```
public interface ICustomPrincipal : IPrincipal
    {
        string[] Roles { get; set; }
        string Country { get; set; }
        string Region { get; set; }
        string Department { get; set; }
        string CurrentProductId { get; set; }
        bool HasAcceptedTerms { get; set; }
    } 
```

第 2 步：使用上述接口实现自定义主体

```
public class CustomPrincipal : ICustomPrincipal
    {
        private IPrincipal principal;

        public CustomPrincipal(IPrincipal principal, WindowsIdentity identity)
        {
            this.Identity = identity;
            this.principal = principal;
        }

        #region IPrincipal Members

        public IIdentity Identity { get; private set; }

        public bool IsInRole(string role)
        {
            return (principal.IsInRole(role));
        }

        public string Department { get; set; }

        public string[] Roles { get; set; }

        public string Country { get; set; }

        public string Region { get; set; }

        public string CurrentProductId { get; set; }

        public bool HasAcceptedTerms { get; set; }

        #endregion
    } 
```

第 3 步：定义您自己的角色提供者。还要为此提供者创建一个 web.config 条目并将其设置为默认提供者

```
public class MyCustomRoleProvider : RoleProvider
    {
        List<string> _roles = new List<string> { "System Administrators", "Product Administrators", "Users", "Guests" };

        public override string[] GetRolesForUser(string username)
        {

            //TODO: Get the roles from DB/Any other repository and add it to the list and return as array
            return _roles.ToArray();
        }

        public override bool IsUserInRole(string username, string roleName)
        {
            if (_roles.Contains(roleName))
            {
                //this.Department = "My Department";
                return true;
            }
            else
                return false;
        }

        public override void AddUsersToRoles(string[] usernames, string[] roleNames)
        {
            throw new NotImplementedException();
        }

        public override string ApplicationName
        {
            get
            {
                throw new NotImplementedException();
            }
            set
            {
                throw new NotImplementedException();
            }
        }

        public override void CreateRole(string roleName)
        {
            throw new NotImplementedException();
        }

        public override bool DeleteRole(string roleName, bool throwOnPopulatedRole)
        {
            throw new NotImplementedException();
        }

        public override string[] FindUsersInRole(string roleName, string usernameToMatch)
        {
            throw new NotImplementedException();
        }

        public override string[] GetAllRoles()
        {
            throw new NotImplementedException();
        }

        public override string[] GetUsersInRole(string roleName)
        {
            throw new NotImplementedException();
        }

        public override void RemoveUsersFromRoles(string[] usernames, string[] roleNames)
        {
            throw new NotImplementedException();
        }

        public override bool RoleExists(string roleName)
        {
            throw new NotImplementedException();
        }
    } 
```

第 4 步：实施以下事件

注意：我将其他用户信息序列化到 FormsAuthenticationTicket 中。我的网站启用了 Windows 身份验证。

```
protected void WindowsAuthentication_OnAuthenticate(Object source, WindowsAuthenticationEventArgs e)
        {
            if (null == Request.Cookies.Get("authCookie"))
            {
                var userId = e.Identity.Name;
                //TODO: You may need to get the user details like country, region etc. from DB. For simplicity, I have just assigned user roles (multiple) property

                //Instead of string array, you should use your own Class to hold this custom data and then serialize
                string[] userRoles = new string[] { "System Administrators", "Users" };

                StringWriter writer = new StringWriter();
                XmlSerializer xs = new XmlSerializer(typeof(string[]));
                xs.Serialize(writer, userRoles);

                FormsAuthenticationTicket formsAuthTicket =
                    new FormsAuthenticationTicket(
                                1,
                                userId,
                                DateTime.Now,
                                DateTime.Now.AddMinutes(20),
                                false,
                                writer.ToString());

                var encryptedTicket = FormsAuthentication.Encrypt(formsAuthTicket);

                HttpCookie httpCookie = new HttpCookie("authCookie", encryptedTicket);

                Response.Cookies.Add(httpCookie);
            }
        } 
```

第 5 步：使用 PostAuthenticateRequest 事件将您的 RolePrincipal 与您的 CustomPrincipal 包装起来。这对于将您的数据保存在 Principal 对象中是必要的，以便您可以在应用程序的任何部分访问它。不要使用 Application_AuthenticateRequest 来包装 WINDOWS 主对象。如果启用 ROLE PROVIDER，ASP.NET 实际上将用 ROLE PRINCIPAL 替换 WINDOWS PRINCIPAL。

```
protected void Application_PostAuthenticateRequest(Object sender, EventArgs e)
        {
            HttpCookie authCookie = Context.Request.Cookies.Get("authCookie");
            FormsAuthenticationTicket formsAuthenticationTicket = FormsAuthentication.Decrypt(authCookie.Value);

            CustomPrincipal newUser = new CustomPrincipal(User, (WindowsIdentity)User.Identity);

            StringReader sr = new StringReader(formsAuthenticationTicket.UserData);
            XmlSerializer xs = new XmlSerializer(typeof(string[]));

            object ret = xs.Deserialize(sr);
            newUser.Roles = (string[]) ret;
            Context.User = newUser;
        } 
```

正如 Preben 所建议的，每当用户切换到不同的产品时，我都会更新 cookie。

希望这对愿意与 Windows 身份验证一起存储其他用户数据的人有所帮助。

如果有更好的方法来实现目标，请告诉我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T13:42:52.523

您可以使用自定义主体和身份将其他数据附加到您的用户。使用自定义成员资格提供程序，您可以在身份验证时从数据库加载数据。当产品更改时，您可以从当前线程中获取用户，并且您可以调用例如`User.UpdateProducts()`您在自定义身份上编写的方法。

这是一个[例子](http://www.bradygaster.com/custom-authentication-with-mvc-3.0)

[VB中的完整示例](http://www.asp.net/web-forms/tutorials/security/introduction/forms-authentication-configuration-and-advanced-topics-vb)

# android - 如何在不编写 xml 的情况下设置 Android 选择器？

> ID：11238850
> 
> 赞同：1
> 
> 时间：2012-06-28T06:01:11.270
> 
> 标签：android

例如：

`<ImageView --- android:src="@drawable/settings_normal" --- />`

我可以直接写类似 src="android:state_pressed="true" ..."

或者我可以在 xml 文件中编写一个选择器？

如果有人知道答案，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:08:44.833

在代码中，有一个带有切换标志的侦听器。开始玩它

```
onclick()
{
if(red)
{
//change color
 green=true;
 red=false
}
else
{
 //change color
 red=true;
  green =false
 }

 } 
```

# python - 替换 csaps() 和 Python 中的 `p` 参数

> ID：11238852
> 
> 赞同：0
> 
> 时间：2012-06-28T06:01:19.557
> 
> 标签：python, numpy, scipy, spline

有没有人遇到过 Python 替代MATLAB 的曲线拟合工具箱中的[`csaps()`函数？](http://www.mathworks.com/help/toolbox/curvefit/csaps.html)

我知道 Scipy 的产品，`interpolate`但`signal`我找不到任何实现的`csaps()`平滑参数参数，`p`（尽管我可能错过了它）。

我感兴趣的函数和参数[在 p211](http://books.google.com/books?id=m0QDJvBI_ecC&lpg=PA142&vq=Smooth&pg=PA211#v=onepage&q=Smoothing%20parameter&f=false)上详细描述（和 FORTRAN）。

以为我会在潜入自己之前问一下。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-06T01:30:21.323

[在pywafo](https://code.google.com/p/pywafo/)项目中有一个 de Boor 工作的实现。

这是[实际的模块](http://pywafo.googlecode.com/svn/trunk/pywafo/src/wafo/interpolate.py)。它还取决于它们的[多项式模块](http://pywafo.googlecode.com/svn/trunk/pywafo/src/wafo/polynomial.py)。

该代码似乎是 LGPL 和 GPL v3，所以如果你使用它，请给它一些引用的爱。

# ios - iOS：将 UIGestureRecognizerDelegate 添加到 UIWebView

> ID：11238854
> 
> 赞同：3
> 
> 时间：2012-06-28T06:01:20.860
> 
> 标签：ios

我想将 UIGestureRecognizerDelegate 添加到 UIWebView，但失败了。

如果 [self.view addsubView:webView]; 所以 UIWebView 可以，但 UIGestureRecognizerDelegate 不行。

如果删除 [self.view addsubView:webView]; 所以 UIGestureRecognizerDelegate 没问题，但什么也看不到。

```
- (void)viewDidLoad {
    [super viewDidLoad];

webView= [[UIWebView alloc] initWithFrame:CGRectMake(0.0f, -2.0f, 320.0f, 415.0f)];

if (_refreshHeaderView == nil) {
    webScroller = (UIScrollView *)[[webView subviews] objectAtIndex:0];
    [webScroller setDelegate:self];

    EGORefreshTableHeaderView *view = [[EGORefreshTableHeaderView alloc] initWithFrame:CGRectMake(0.0f, 0.0f - webScroller.bounds.size.height, self.view.frame.size.width, webScroller.bounds.size.height)];
    view.delegate = self;
    [webScroller addSubview:view];
    _refreshHeaderView = view;
}

[_refreshHeaderView refreshLastUpdatedDate];

[self.view addSubview:self.webView];

// Set up recognizers.
UITapGestureRecognizer *doubleTapRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleGesture:)];
doubleTapRecognizer.numberOfTapsRequired = 2;
doubleTapRecognizer.delegate = self;
[self.view addGestureRecognizer:doubleTapRecognizer];

UITapGestureRecognizer *tapRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleGesture:)];
tapRecognizer.delegate = self;
[self.view addGestureRecognizer:tapRecognizer];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T09:51:53.867

如果要将手势识别器添加到 webView 而不是 webView 下的应用程序的主视图，则在将 webView 作为子视图添加到主视图后，您应该像这样更改“addGestureRecognizer”。 .

```
 UITapGestureRecognizer *doubleTapRecognizer = [[UITapGestureRecognizer alloc] 
                                               initWithTarget:self action:@selector(handleGesture:)];
doubleTapRecognizer.numberOfTapsRequired = 2;
doubleTapRecognizer.delegate =self;
[self.webView addGestureRecognizer:doubleTapRecognizer];
UITapGestureRecognizer *tapRecognizer = [[UITapGestureRecognizer alloc] 
                                               initWithTarget:self action:@selector(handleGesture:)];
tapRecognizer.numberOfTapsRequired = 1;
tapRecognizer.delegate = self;
[self.webView addGestureRecognizer:tapRecognizer]; 
```

然后，由于这是一个 UIWebView，您还应该遵守头文件中的**UIGestureRecognizerDelegate**协议，然后从以下方法返回 YES。这样，UIWebView 手势和您自己的手势都将被处理，否则您的手势将被 UIWebView 自己的识别器隐藏。

```
- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer{
return YES;}
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer{
return YES;}
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch{
return YES;} 
```

# android - 无法使用 SharedPreferences 更改文本

> ID：11238866
> 
> 赞同：3
> 
> 时间：2012-06-28T06:02:38.993
> 
> 标签：android, sharedpreferences

我做了一个小项目，我尝试使用共享首选项从编辑文本中更改名称。这是我的代码

**SharePreferenceOwnActivity.java**

```
public class SharePreferenceOwnActivity extends Activity {

    Button b1;
    TextView t1;

    /** Called when the activity is first created. */@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        b1 = (Button) findViewById(R.id.b1);
        t1 = (TextView) findViewById(R.id.t1);
        LoadPreferences();

        b1.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {

                Toast.makeText(getApplicationContext(), "Settings", Toast.LENGTH_SHORT).show();
                Intent intent = new Intent().setClass(SharePreferenceOwnActivity.this, SharepreferenceActivity.class);
                startActivity(intent);

            }
        });

    }
    private void LoadPreferences() {
        SharedPreferences sharedPreferences = getPreferences(MODE_PRIVATE);
        String strSavedMem1 = sharedPreferences.getString("MEM1", "");
        t1.setText(strSavedMem1);

    }
} 
```

**SharepreferenceActivity.java**

```
public class SharepreferenceActivity extends Activity {

    EditText e1;
    Button b2;
    /** Called when the activity is first created. */@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.settings);

        e1 = (EditText) findViewById(R.id.e1);
        b2 = (Button) findViewById(R.id.b2);

        b2.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {

                SavePreferences("MEM1", e1.getText().toString());
                Intent intent = new Intent().setClass(SharepreferenceActivity.this, SharePreferenceOwnActivity.class);
                startActivity(intent);

            }
        });

    }

    private void SavePreferences(String key, String value) {
        SharedPreferences sharedPreferences = getPreferences(MODE_PRIVATE);
        SharedPreferences.Editor editor = sharedPreferences.edit();
        editor.putString(key, value);
        editor.commit();
    }
} 
```

此处编辑文本不会更改文本视图。:(为什么？我没有得到错误

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T06:25:33.980

您在以下陈述中有问题。

```
SharedPreferences sharedPreferences = getPreferences(MODE_PRIVATE); 
```

**根据谷歌文档**

> 上面检索一个 SharedPreferences 对象，用于访问此活动私有的首选项

**所以你所做的错误是**

您在 Preference Object 中设置首选项，这是私有的 `SharepreferenceActivity`

和

您正在尝试从私有的 Preference Object 中读取`SharePreferenceOwnActivity`

所以解决方案是

代替

```
SharedPreferences sharedPreferences = getPreferences(MODE_PRIVATE); 
```

经过

```
SharedPreferences sharedPreferences = getSharedPreferences("MyPref",
                                      Context.MODE_PRIVATE); 
```

在两项活动中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:06:27.003

`LoadPreferences()`在 SharePreferenceOwnActivity Activity 上调用onResume() 方法：

```
 @Override
    protected void onResume() {
        super.onResume();
        // Call here
       LoadPreferences();
    } 
```

并将 SavePreferences 和 LoadPreferences 方法更改为：

在 SharepreferenceActivity 活动中：

```
private void SavePreferences(String key, String value) {
SharedPreferences sharedPreferences = getSHaredPreferences("aapname",Context.MODE_PRIVATE);
SharedPreferences.Editor editor = sharedPreferences.edit();
editor.putString(key, value);
editor.commit();
    }
} 
```

在 SharePreferenceOwnActivity 活动中：

```
private void LoadPreferences() {
SharedPreferences settings = getSharedPreferences("aapname",Context.MODE_PRIVATE);
settings.getString("MEM1", "");
t1.setText(strSavedMem1);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T06:13:56.170

您获得的两个首选项从一个活动到另一个活动不可见。代替

```
getPreferences(MODE_PRIVATE); 
```

采用

```
getSharedPreferences("myPreferences", Context.MODE_PRIVATE); 
```

你可以换成`"myPreferences"`任何你喜欢的。您应该在某处将其定义为静态字符串。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-28T06:15:09.070

```
SharedPreferences sharedPreferences = PreferenceManager
                .getDefaultSharedPreferences(getApplicationContext());

String strSavedMem1 = sharedPreferences.getString("MEM1", "");
t1.setText(strSavedMem1); 
```

尝试在这两个活动中以这种方式声明 SharedPreferences。

```
SharedPreferences sharedPreferences = PreferenceManager
                .getDefaultSharedPreferences(getApplicationContext());

SharedPreferences.Editor editor = sharedPreferences.edit();
    editor.putString(key, value);
    editor.commit(); 
```

当您在两个类中调用 startActivity() 时。试着打电话

```
finish(); 
```

在两个班级

# asp.net - ASP.NET Web 应用程序中基于 Windows 身份验证的角色管理

> ID：11238868
> 
> 赞同：0
> 
> 时间：2012-06-28T06:02:49.643
> 
> 标签：asp.net, sql-server, security, windows-authentication, user-roles

我不太确定我是否在 ASP.NET 应用程序中适当地管理用户角色。这样的做法是正确的，还是不正确的，还是可以改进的？

所有用户都添加到数据库中的用户表中，其中包含字段，例如：(userid, name, surname, isAdmin)

在我的应用程序中，我使用

```
Request.Servervariables.Get("LOGON_USER") 
```

在呈现页面时，我运行 SQL 查询以检查该页面上的当前用户是否在我的 SQL Server 中具有“isAdmin”参数 =“true”。然后，如果是，我会渲染并使适当的控件可见。（例如，指向管理员页面的链接按钮）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:15:07.893

这不是正确的做法。您应该使用可以轻松与会员提供程序集成的 asp.net roleprovider。它使精简页面控件/访问变得容易，并且角色提供程序非常可扩展和可扩展。您的方法非常严格，如果应用程序增长可能会遇到问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:35:57.103

ASP.Net 角色提供程序（如果您不喜欢，您可以自己动手做基本相同的事情，但符合您的要求）对此非常有用。与其在每个页面的顶部放置一个 SQL 查询（如果必须更改某些内容，这将是一场噩梦），您可以说（在这里转述）

```
if (RoleProvider.IsUserInRole(Request.Servervariables.Get("LOGON_USER"), "Admin") == true)
{
   //populate page as admin
}
else
{
   //populate page as not admin
} 
```

# ios - 静态单元格：内容不出现

> ID：11238869
> 
> 赞同：3
> 
> 时间：2012-06-28T06:02:54.887
> 
> 标签：ios, xcode, xcode4.2, storyboard

我只是想要一个包含项目的静态表视图。我使用带有情节提要的 Xcode 4.2 来完成这项任务。所以我用tableViewController（子类UITableViewController）创建了一个TableView。我将内容定义为“静态单元格”和样式“分组”。

在那之后，我把一些标签和所有我想要的东西放在那些牢房里。我在 tableViewController 中创建了 Outlets：

```
#import <UIKit/UIKit.h>

@interface tableviewcontroller : UITableViewController
@property (weak, nonatomic) IBOutlet UILabel *label1;
@property (weak, nonatomic) IBOutlet UILabel *label2;
@property (weak, nonatomic) IBOutlet UISegmentedControl *segmented;
@property (weak, nonatomic) IBOutlet UIImageView *imageview;
@property (weak, nonatomic) IBOutlet UITextView *text;

@end 
```

在单元格标签中放入一些内容：

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    self.label1.text = @"This is a title";
    self.label2.text = @"Annika";
    self.imageview.image = [UIImage imageNamed: @"picture.jpg"];
} 
```

构建并运行后，它没有向我显示任何元素......我做错了什么？

左：在故事板中，右：在模拟器中。 ![在此处输入图像描述](../Images/daad7d246c8afe609073174c6bdc5236.png)

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-28T08:15:09.647

对于静态表视图，您不得实现任何数据源方法。UITableViewController 的基本实现有自己的这些方法版本，它们通过读取情节提要文件返回适当的内容。这些方法是提供表格内容的方法，例如 numberOfRows、numberOfSections、heightForRow、cellForRow 等。

在您的情况下，您`tableView:cellForRowAtIndexPath:`每次都实现并返回空单元格。这意味着您的单元格的大小是正确的，但内容已经消失了。

此外，在调用*after* 之前，不会设置静态表视图中内容的任何出口。`[super viewWillAppear:animated]`它们在 viewDidLoad 处仍为 nil，您从那里调用它们，因为此时表视图尚未要求任何内容。

# javascript - 获取更改的旧单选按钮

> ID：11238875
> 
> 赞同：0
> 
> 时间：2012-06-28T06:03:50.707
> 
> 标签：javascript, jquery

我的页面中有一组单选按钮。在更改时，我想知道哪个按钮未被选中，但`onchange`事件`$(this)`指的是新选择的按钮，有没有办法让旧的未选中按钮？

```
 window.old = null;
  $('.radio').change(function(){ 
  alert($(this).val()); // this is the selected
  alert($(window.old).val()); // this is the old one
  }) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:07:20.157

只需将最后点击的收音机保存到变量中，

```
window.old = null;

$(document).ready(function() {
    window.old = $('.radio:checked');
});

$('.radio').change(function() {
    alert($(this).html());

    if (window.old) {
        alert($(window.old).html());
    }

    window.old = this;
}) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:49:58.960

保存单击时的单选按钮（更改前），并在新的单击时读取单选按钮，代码如下：

```
window.old = null;
$('.radio').click(function () {
    // Store the current radio on click, before it changes
    window.old = this;
}).change(function() {
    // Do something with the old radio value after the change
    console.log('previous radio:', window.old);
});​ 
```

查看演示[http://jsfiddle.net/JL8V2/](http://jsfiddle.net/JL8V2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-17T16:23:14.873

没有全局变量

```
$('input[type="radio"]').click(
    function (e)
    {
        var me = $(this);
        var grp = $("input[type='radio'][name='" + me.attr('name') + "']");
        if (me.val() === me.data('last-val'))
        {
            me.prop('checked', false);
            grp.data('last-val', null);
        }
        else
        {
            grp.data('last-val', me.val());
        }
    }
);
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<fieldset >
    <legend> Group 1 </legend>
    <label>
    <input type="radio" name='grp1' value='1'/>
        You can select me
    </label>
    <label>
    <input type="radio" name='grp1' value='2'/>
        But you can
        </label>
    <label>
    <input type="radio" name='grp1' value='3'/>
        Change your idea either
        </label>
</fieldset>

<fieldset >
    <legend> Group 2 </legend>
    <label>
    <input type="radio" name='grp2' value='1'/>
        Just give another click
    </label>
    <label>
    <input type="radio" name='grp2' value='2'/>
        But remember, for this work
        </label>
    <label>
    <input type="radio" name='grp2' value='3'/>
        Values must be unique in each group
        </label>
</fieldset>
```

# php - 每个父节点具有不同数量的子节点的 XML

> ID：11238878
> 
> 赞同：1
> 
> 时间：2012-06-28T06:04:15.120
> 
> 标签：php, xml, simplexml, xmlreader

所以我有以下格式的XML，我从文件'test.xml'中读取

```
<XML>
<Agent ID="ABC123">
    <Property>
        <Code>XYZ</Code>
        <Name>Hotel 1</Name>
    </Property>
    <Property>
        <Code>237</Code>
        <Name>Hotel 2</Name>
    </Property>
    <Property>
        <Code>213</Code>
        <Name>Hotel 3</Name>
    </Property>
</Agent>
<Agent ID="DEF456">
    <Property>
        <Code>333</Code>
        <Name>Hotel 4</Name>
    </Property>
    <Property>
        <Code>23423</Code>
        <Name>Hotel 5</Name>
    </Property>
</Agent>
<Agent ID="GHI789">
    <Property>
        <Code>45345</Code>
        <Name>Hotel 6</Name>
    </Property>
</Agent>
</XML> 
```

我希望能够将上述内容输出为以下格式：

```
Agent | Code | Name
ABC123 | XYZ | Hotel 1
ABC123 | 237 | Hotel 2
...... 
```

由于每个代理中有多个代理和不同数量的属性，我该怎么做？

我有使用 XMLReader 的经验，但很高兴尝试使用 SimpleXML 等替代方法。

我想我需要在这个（Foreach Agent ....）上使用 Foreach 循环，但不太确定从哪里开始。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T06:19:19.923

看这个：

```
$sxe = new SimpleXMLElement($xmlstr);

echo 'Agent | Code | Name'.PHP_EOL;
foreach ( $sxe->Agent as $agent )
{
    $attr = $agent->attributes();

    foreach ( $agent->Property as $property )
    {
        echo $attr['ID'].' | '.$property->Code.' | '.$property->Name.PHP_EOL;       
    }
} 
```

# javascript - Chrome 扩展：在后台存储数据

> ID：11238883
> 
> 赞同：7
> 
> 时间：2012-06-28T06:04:43.990
> 
> 标签：javascript, google-chrome-extension, local-storage

我希望能够在后台（在我的扩展程序上）存储数据，以便我可以在多个域之间访问这些数据。

我在做什么：

**内容脚本.js**

```
function setItem(name, data) {
    chrome.extension.sendMessage({ command: 'setItem', name: name, data: data });
}

function getItem(name) {
    chrome.extension.sendMessage({ command: 'getItem', name: name }, function(response) {
        return response;
    });
} 
```

**背景-script.js**

```
Storage.prototype.setObject = function(key, value) {
    this.setItem(key, JSON.stringify(value));
}

Storage.prototype.getObject = function(key) {
    var value = this.getItem(key);
    return value && JSON.parse(value);
}

chrome.extension.onMessage.addListener(function(request, sender, sendResponse) {
    switch (request.command) {
        case 'setItem':
            localStorage.setObject(request.name, request.data);
            return;
        case 'getItem':
            sendResponse(localStorage.getObject(request.name));
            return;
    }
}); 
```

但是没有成功，因为我无法从**getItem**的回调内部返回。

我确实在`function(response) { }`回调中获取了数据，但我无法将其作为**getItem**的返回值返回。

我该怎么做？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2015-02-22T12:13:51.923

这个 2012 年的问题是为了获得最新答案而提出的。好吧..

现在正确的答案是使用[`chrome.storage`API](https://developer.chrome.com/extensions/storage)。它是一个可供扩展页面和内容脚本访问的 API，它提供异步存储。它需要`"storage"`权限，但此权限不会产生警告。

```
// Setting
chrome.storage.local.set({key: data}, function() {
  if(chrome.runtime.lastError) {
    console.error(
      "Error setting " + key + " to " + JSON.stringify(data) +
      ": " + chrome.runtime.lastError.message
    );
  }
});

// Getting
chrome.storage.local.get("key", function(data) {
  // Do something with data.key
}); 
```

另请参阅文档的[示例](https://developer.chrome.com/extensions/storage#examples)部分。

请注意，在任何一种情况下（这种方法或消息传递-后台方法）都不能创建*返回*`getData`结果的函数，因为调用是异步的。

 *一些提示和技巧：

1.  您可以通过将对象或数组作为查询传递来一次设置或获取多个值。`null`您可以通过传递查询来读取所有值。

2.  `get()`如果没有为键存储值，您可以为操作提供默认值，方法是传递如下查询`{key: defaultValue}`

3.  可以通过`chrome.storage.onChanged`事件通知您对存储的所有更改。

4.  `chrome.storage.local`服从`"unlimitedStorage"`许可。

5.  `chrome.storage.sync`如果为扩展启用了 Chrome 同步，则会将该值传播到登录到同一 Google 帐户的所有配置文件。但是，请记住[配额](https://developer.chrome.com/extensions/storage#property-sync)。

6.  如果您绝对需要同步访问，您可以使用由`chrome.storage`. 但是，有一些限制：在同步代码块中，您的缓存不会随着其他页面的更改而更新，并且您需要异步读取一次值以填充缓存。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-28T06:34:54.603

内容.js

```
var someVar = "hey hey!";

chrome.extension.sendRequest({method: "fromContentScript",greeting: someVar}, function(response) {

    console.log(response.data); // response back from BG

    if(response.who == 'bg'){ // checks if the response is from BG
            //Something happened ...
    }

    var responseFromBg = response.data; // the response incase we need to use the message sent back... in this case should be 'hey yourself'

}); 
```

背景.js

```
chrome.extension.onRequest.addListener(function(request, sender, sendResponse) {
  // From content script.
  if (sender.tab) {
    if (request.method == "fromContentScript"){

        localStorage.setItem("welcome-message",request.greeting); // in this case there will now be a localStorage variable called 'welcome-message' set with the value of 'hey hey!'. This will be viewable in the chrome:extensions page, click on the 'background.html / generated background.html' then view the 'Development Tools' or in Windows hit 'CTRL + SHIFT + I' and look at the 'LocalStorage' tab...

      sendResponse({who: "bg",data: "hey yourself"}); // this is the response sent back, 'who' tells the content page where is responding, so it can do something with the response if needed.
        }else{
      sendResponse({}); // snub them.
        }
  }
}); 
```

Manifest.json // 以防万一这是您遇到的清单问题...这是我的大部分内容..

```
{
  "name": "Name here",
  "version": "1",
  "manifest_version": 2,
  "description": "Enter desc here.",  
    "browser_action": {
    "default_icon": "img/icon16.png",
    "default_popup": "popup.html"
  },    
    "background": {
    "scripts": ["background.js"]
  },
  "permissions": [
    "tabs", "*://*/*"
  ],
    "icons": { "16": "img/icon16.png",
           "48": "img/icon48.png",
          "128": "img/icon128.png" },
  "content_scripts": [
    {
      "matches": ["*://*/*"],
      "js": ["js/jquery-1.7.2.min.js","content_script.js"],
      "run_at": "document_end"
    }
  ]
} 
```

会用你的例子，但我今天早上很着急。我试图尽可能仔细地解释所有变量 - 抱歉:(

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-23T16:45:33.423

**背景-script.js：**

```
chrome.extension.onMessage.addListener(function(request, sender, sendResponse) {
    switch (request.command) {
        case 'setItem':
            localStorage[request.name] = JSON.stringify(request.data));
            return;
        case 'getItem':
            var retValue;
            if (typeof(localStorage[request.name]) === 'string') {
                retValue = JSON.parse(localStorage[request.name]);
            }
            sendResponse(retValue);
            return;
        case 'deleteItem':
            if (typeof localStorage[request.name] !== 'undefined') {
                delete localStorage[request.name];
            }
            return;
    }
}); 
```

如果 key 不在 localStorage 中，getItem 将返回`undefined`。与其`getItem`按照您的方式定义函数，不如通过回调向后台发送消息，然后在调用回调时使用该值执行某些操作。您不能从函数返回值`getItem`，但可以在调用回调时使用该值：

```
function getItem(name, callback) {
    chrome.extension.sendMessage({command: 'getItem', name: name}, function(response) {
        if (typeof(callback) === "function") {
            callback(response);
        }
    });
} 
```*

# javascript - 如何在给定宽度内保持图像的灵活性

> ID：11238884
> 
> 赞同：-1
> 
> 时间：2012-06-28T06:04:46.147
> 
> 标签：javascript

我们如何在给定宽度内保持图像的灵活性，例如：我现在有一个 500px 的 div 宽度，我已经放置了 4 个图像，将来我将在同一个 div 中添加 4 个图像，图像应该灵活地适应该宽度

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:08:00.187

将 div 宽度设置为 width:auto; 不要将其限制为 500 像素！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:18:40.067

你可以看看这个问题[make-css-div-width-equal-to-contents](https://stackoverflow.com/questions/450903/make-css-div-width-equal-to-contents)可以帮助你朝着正确的方向前进。

# blackberry - 在 Blackberry（服务器端）中为 PhoneGap App 推送通知

> ID：11238886
> 
> 赞同：2
> 
> 时间：2012-06-28T06:04:53.153
> 
> 标签：blackberry, cordova, phonegap-plugins

嗨，我正在使用 phonegap 为 android、iphone 和 blackberry 平台开发一个移动应用程序，我需要在我的应用程序中放置一个推送通知功能，以便我的服务器可以轮询我的应用程序，然后在有任何新通知时放置通知。

在浏览网络时，我发现有适用于 iphone 和 android 的 phonegap 插件，这有助于显示通知。但没有找到任何对 Blackberry 有用的资源。:(

我想使用phonegap在Blackberry中获得推送通知，有人可以帮助我执行此操作或使用html解释这一点的任何链接，js真的很有帮助。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T19:18:49.550

Phonegap 的主站点表示，推送通知支持 iO、Android 和 BlackBerry。我假设您将能够从他们的主站点找到该插件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-09T14:47:01.743

如果您使用 PhoneGap for Blackberry，它将使用 Blackberry 的 WebWorks API。这具有您可以使用的内置通知支持。api 可以接收推送通知，然后执行通知中描述的操作。

在此处查看参考 API 文档：

[黑莓 WebWorks HTML5 通知](https://developer.blackberry.com/html5/apis/notification.html)

# sqlite - SQLite 中的 URL 编码

> ID：11238887
> 
> 赞同：1
> 
> 时间：2012-06-28T06:05:04.243
> 
> 标签：sqlite, urlencode

有没有办法直接在查询中对 SQLite 中的字段进行 URL 编码？

（不知何故，这个问题不符合“*质量标准*”，所以我会抛出一个示例查询：）

```
select urlencode( field ) from table; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2017-09-01T09:54:49.880

查看[sqlite function list](https://sqlite.org/lang_corefunc.html)，我没有找到任何可以完成这项工作的东西。但是您可以手动构造这样的函数，如下所示：

```
select replace(replace(replace(replace(field,
    " ", "%20"),
    "/", "%2F"),
    "(", "%28"),
    ")", "%29")
from table; 
```

这个版本避开了四个更常见的有问题的字符。如果您的数据集不包含许多不安全的字符，这是一个快速而肮脏的解决方案。

# c# - 如何使用 c# 在 mdiform in.net 中为不同用户提供不同的功能

> ID：11238890
> 
> 赞同：0
> 
> 时间：2012-06-28T06:05:18.503
> 
> 标签：c#, .net

我想为管理员和用户创建一个命令 mdiform，当管理员登录时，他可以访问 mdiform 中的所有菜单，但是当用户登录时，他有限制....例如：当管理员登录到 mdiform 时，他可以访问员工信息菜单条，客户信息菜单提示但是当用户登录到 mdiform 他不能使用它请给我代码...谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:21:58.290

例如，您有一个保存某些内容的按钮，您将一个功能连接到该按钮的启用和/或可见性属性。

“roles.admin”只是一个枚举，只是为了简单起见，user.role 只是一个具有角色属性的用户，所以当表单加载时，它会根据用户角色将 bt nSave 设置为启用或禁用

```
btnCreate.enabled = CanUseControl();

public static bool CanUseControl()
{
    bool result = false;

    if(user.role == roles.admin)
    {
        result = true;
    }

} 
```

# java - 泽西路径分辨率

> ID：11238895
> 
> 赞同：2
> 
> 时间：2012-06-28T06:05:39.137
> 
> 标签：java, web-services, jakarta-ee, jersey

这是我的 Jersey 服务，我使用 url 访问该服务

```
http://host:port/contextroot/welcome/data 
```

当我将 Jersey servlet 映射到 /welcome/* 时 - 我收到 404 错误。但是当我在 web.xml 中说 /* 时，我的请求会顺利通过。我不希望我的 webapp 中的所有请求都通过球衣。如何将路径限制为仅使用 /welcome 请求？

```
@Path("/welcome")
public class WelcomeRestJson {

    @POST
    @Path("/data")
    @Produces("text/plain")
    @Consumes("application/json")

    public String processPostData(MyObject myObject) {
        System.out.println("Inside processPostData");
        return "success";
    } 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T09:18:00.623

将 servlet 映射到 /welcome/* 时，只需将根资源 (WelcomeRestJson) 的路径模板从 @Path("/welcome") 更改为 @Path("/") - 这样相同的 URL ( `http://host:port/contextroot/welcome/data`) 将像以前一样工作.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:20:01.467

映射到 web.xml 中的 /welcome/*：

```
<servlet>
    <servlet-name>ServletAdaptor</servlet-name>
    <servlet-class>com.sun.jersey.spi.container.servlet.ServletContainer</servlet-class>
</servlet>
<servlet-mapping>
    <servlet-name>ServletAdaptor</servlet-name>
    <url-pattern>/welcome/*</url-pattern>
</servlet-mapping> 
```

然后，您可以在 /welcome 下调用您的 Web 服务，并在不同路径上调用其余请求。

# javascript - 在服务器端（从网页）抓取 javascript 生成的数据？

> ID：11238896
> 
> 赞同：1
> 
> 时间：2012-06-28T06:05:47.047
> 
> 标签：javascript, html, screen-scraping, web-scraping

我需要从[http://www.cea.gov.sg/cea/app/newimplpublicregister/view.jspa?licNo=获取 [Estate Agents Name],[Estate License Number] 和 [Reg No. and Salesperson]s L3006467E](http://www.cea.gov.sg/cea/app/newimplpublicregister/view.jspa?licNo=L3006467E) 其中 licNo 有数千个不同的变量并形成数千个 URL。最后的结果必须是excel格式。注意：其中一些具有分页功能，例如： [http ://www.cea.gov.sg/cea/app/newimplpublicregister/view.jspa?licNo=L3002163I](http://www.cea.gov.sg/cea/app/newimplpublicregister/view.jspa?licNo=L3002163I)

有什么方法可以抓取我需要的数据吗？（包括结果不是 excel 格式的方法）

# vb.net - 从 INI 文件中读取

> ID：11238898
> 
> 赞同：4
> 
> 时间：2012-06-28T06:06:18.660
> 
> 标签：vb.net, ini

我发现写入 INI 文件非常容易，但在从已创建的 INI 文件中检索数据时遇到了一些麻烦。

我正在使用这个功能：

```
 Public Declare Unicode Function GetPrivateProfileString Lib "kernel32" _
    Alias "GetPrivateProfileStringW" (ByVal lpApplicationName As String, _
    ByVal lpKeyName As String, ByVal lpDefault As String, _
    ByVal lpReturnedString As String, ByVal nSize As Int32, _
    ByVal lpFileName As String) As Int32 
```

如果我有一个名为“c:\temp\test.ini”的 INI 文件，其中包含以下数据：

```
[testApp]
KeyName=keyValue
KeyName2=keyValue2 
```

如何检索 KeyName 和 KeyName2 的值？

我试过这段代码，但没有成功：

```
 Dim strData As String
    GetPrivateProfileString("testApp", "KeyName", "Nothing", strData, Len(strData), "c:\temp\test.ini")
    MsgBox(strData) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T06:40:04.503

转到[Pinvoke.Net](http://pinvoke.net/default.aspx/kernel32/GetPrivateProfileString.html)网站并修改他们的示例工作，他们的函数声明是不同的。

**修改示例**

```
Imports System.Runtime.InteropServices
Imports System.Text
Module Module1
    Private Declare Auto Function GetPrivateProfileString Lib "kernel32" (ByVal lpAppName As String, _
            ByVal lpKeyName As String, _
            ByVal lpDefault As String, _
            ByVal lpReturnedString As StringBuilder, _
            ByVal nSize As Integer, _
            ByVal lpFileName As String) As Integer

    Sub Main()

        Dim res As Integer
        Dim sb As StringBuilder

        sb = New StringBuilder(500)
        res = GetPrivateProfileString("testApp", "KeyName", "", sb, sb.Capacity, "c:\temp\test.ini")
        Console.WriteLine("GetPrivateProfileStrng returned : " & res.ToString())
        Console.WriteLine("KeyName is : " & sb.ToString())
        Console.ReadLine();

    End Sub
End Module 
```

# perl - 如何使用 perl 获取带边框的表格？

> ID：11238900
> 
> 赞同：-4
> 
> 时间：2012-06-28T06:06:20.717
> 
> 标签：perl

我有 2 个数组`@arr`，`@arr1`每个数组中存储了 10 个元素。我需要打印一个带有标题的表格。我需要将这些数组值加载到 10 行和 2 列的表中。

```
@arr values into 1st column & `@arr1` into second column. 
```

表应该像这里显示的那样。如何在 perl 脚本中做到这一点？

![在此处输入图像描述](../Images/5a875bea87f2c5bc82b537d67f5d20e1.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T06:28:42.810

您可以将数组与[`map`](http://perldoc.perl.org/functions/map.html). 这也很容易扩展到更多列。

```
#!/usr/bin/env perl
use strict;
use warnings;
use Text::Table;

my @arr = 'a' .. 'j';
my @arr1 = 1 .. 10;

my $tb = Text::Table->new("Col 1", "Col 2");
$tb->load( map [$arr[$_], $arr1[$_]], 0 .. $#arr );

print $tb; 
```

输出：

```
Col 1 Col 2
a      1   
b      2   
c      3   
d      4   
e      5   
f      6   
g      7   
h      8   
i      9   
j     10 
```

如果你想添加边框，你可以这样做：

```
my $tb = Text::Table->new(
    {is_sep => 1, title => '| ', body => '| '},
    "Col 1",
    {is_sep => 1, title => ' | ', body => ' | '},
    "Col 2",
    {is_sep => 1, title => ' |', body => ' |'},
);

$tb->load(map [$arr[$_], $arr1[$_]], 0 .. $#arr);

print $tb->rule('-', '+');

for (0 .. @arr) {
    print $tb->table($_);
    print $tb->rule('-', '+');
} 
```

上面的一切都`my $tb = ...`没有改变。不过，就我个人而言，我不是 ascii 边框的忠实粉丝。

# java - 创建一个实验，参与者从关键术语列表中生成自己的测试

> ID：11238903
> 
> 赞同：0
> 
> 时间：2012-06-28T06:06:38.717
> 
> 标签：java

我正在寻找进行实验，并希望通过我预期创建的计算机程序来实现；但是，我在编程方面（非常）相当新，希望能得到一些帮助。

这是我需要的...

我需要创建一个程序，首先给参与者一份他们将阅读 20 分钟的论文。在这 20 分钟之后，我需要程序转到下一页，该页面为参与者提供了 10 个单词的列表。在这个页面上，我要求参与者从这些词中选择 5 个。参加者有 5 分钟的时间，不能进入下一页或返回上一页。从这里开始，我希望程序从我已经创建的多项选择题中生成一个测试，我猜是在数据库中。我希望程序从数据库中随机选择 3 个问题，这些问题与参与者选择的 5 个单词相关联，并从参与者未选择的 5 个单词中选择 1 个问题。然后，测试将包括 20 个问题。参与者在选择并提交 5 个单词后 10 分钟进行此测试；在这 10 分钟内，我希望出现在节目开始时的论文。十分钟后，参与者将有 25 分钟的时间来完成生成的测试。这将完成该参与者的参与。

我有另一个想法可以添加到这里，但我想在继续之前看看这是否是一个合理的想法。

是否有一个程序可以用来以这种方式建立这个想法，或者我需要学习一些编程基础知识才能获得这个想法？

我不确定这篇文章要包含什么标签，所以我只是（天真地）添加了 java，我希望这不会引起任何问题。

感谢您的时间！朱莉娅

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:14:15.063

我的 2 位......我认为你不会为你的“问题”找到任何开箱即用的东西。测试编程并不复杂，但显然需要编程知识。或者让别人为你建造这个。你可以用几乎任何语言构建它，包括 java。

很抱歉，我不能在这里提供更多帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:16:21.997

欢迎来到 StackOverflow 朱莉娅。也许互联网上的软件产品可以采用您在此处描述的方法，在这种情况下，我建议您开始浏览**电子学习**工具。

如果没有产品可以满足您的需求（或者可能会满足您的需求），那么您可以下载一个开源并提供工作以使其适应您的需求或您必须自己制作的另一种情况（“自己”意味着您应该编写代码，或者可能聘请某人来做）。如果您在编程方面不是很有经验（看起来）并且您有预算，那么在“最坏”的情况下（当编程或软件不是您的主线时）最好聘请能够做到这一点的人业务）你可以学习一些编程并开始制作应用程序（我坚持这不是一个好主意）。

另一件事，根据您的问题，Java 语言不是唯一的选择，该程序可以用另一种语言和平台（独立应用程序、Web 应用程序）完成，但这取决于您的需求。

# cassandra - Cassandra 1.1.1 如何插入 DateType 列

> ID：11238904
> 
> 赞同：0
> 
> 时间：2012-06-28T06:06:39.207
> 
> 标签：cassandra

我创建了一个具有类型列的列族

`{column_name: dob, validation_class: DateType}`

现在我想通过 CLI 在列中插入一个日期。

当我尝试插入一个值时，它会出现以下错误：

> “无法将 '1988-1-1'T'01:45:12:112' 强制转换为格式化日期（长）”

如果有人能指出我哪里出错了，我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T11:15:05.267

自您日期的 Unix 纪元时间戳（1988 年 1 月 1 日 01:45:12.112 GMT+0000 (GMT)。我假设此处为 GMT，未指定时区）以来的毫秒数为 567999912112。

假设您的 CF 架构定义如下所示：

```
create column family test with column_type='Standard' 
   and key_validation_class = 'UTF8Type' 
   and comparator='UTF8Type'  
   and default_validation_class = 'UTF8Type'
   and column_metadata = [
      {column_name : 'dob', validation_class : DateType}
      ]; 
```

以下 Cassandra CLI 命令正确插入您的日期：

```
set test['userID']['dob']=567999912112; 
```

要测试它，请尝试：

```
get test['userID']; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T10:09:03.327

您必须将日期转换为 unix 纪元时间戳。

# sql - 传入字典的模型项的类型为'System.Data.Entity.DynamicProxies.Object

> ID：11238905
> 
> 赞同：5
> 
> 时间：2012-06-28T06:06:51.963
> 
> 标签：sql, asp.net-mvc-3, linq, entity-framework-4.1

# 有谁知道我为什么会收到此错误：

```
The model item passed into the dictionary is of type
system.Data.Entity.DynamicProxies.Object_3E186F803589BF82895B10E08C
2A9AB68EFA619599418D6EB96585D14874CDC0', 
but this dictionary requires a model item of type 
'System.Collections.Generic.IEnumerable`1[MyApplication.Domain.Entities.Object]'. 
```

这是我的代码：

控制器：

```
 public ViewResult Index()
    {
        if (User.Identity.IsAuthenticated)
        {
            MembershipUser currentUser = Membership.GetUser();
            Guid currentUserId = (Guid)currentUser.ProviderUserKey;
            if (currentUser != null && currentUser.ProviderUserKey != null && currentUser.IsApproved)
            {
                Move result = (from move in db.Moves
                         where move.UserId == currentUserId
                         select move).FirstOrDefault();
                return View(result);
            }
        }
        return View(db.Moves.ToList());
    } 
```

看法：

```
@model IEnumerable<MovinMyStuff.Domain.Entities.Move>
@{
ViewBag.Title = "Index";
}

@foreach (var item in Model)
{
<div id="move-list-item">
    <ul>
        <li>
            <span class="move-name">
                @Html.DisplayFor(modelItem => item.StartCity) 
                @Html.DisplayFor(modelItem => item.StartState)
                @Html.DisplayFor(modelItem => item.StartZip) -
                @Html.DisplayFor(modelItem => item.EndCity) 
                @Html.DisplayFor(modelItem => item.EndState)
                @Html.DisplayFor(modelItem => item.EndZip)
            </span>
        </li>
        <li>@Html.ActionLink("Details", "Details", new { id = item.MoveId }, new { @class = "button" })</li>
    </ul>
</div>
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T06:16:33.813

这段代码：

```
Move result = (from move in db.Moves
         where move.UserId == currentUserId
         select move).FirstOrDefault();
return View(result); 
```

尝试返回*单个*结果。它抱怨它想要*一系列*结果。所以你可以使用：

```
var results = (from move in db.Moves
               where move.UserId == currentUserId
               select move).Take(1).ToList();
return View(results); 
```

或者：

```
Move result = (from move in db.Moves
         where move.UserId == currentUserId
         select move).FirstOrDefault();
return View(new[] { result }); 
```

顺便说一句，我个人会在这里摆脱查询表达式 - 它使代码比它需要的更复杂。例如，您可以将我的第一个选项重写为：

```
var results = db.Moves.Where(move => move.UserId == currentUserId)
                      .Take(1)
                      .ToList();
return View(results); 
```

甚至：

```
return View(db.Moves.Where(move => move.UserId == currentUserId)
              .Take(1).ToList()); 
```

# c++ - 我需要在使用同一个对象的函数中调用 c++ 函数吗？

> ID：11238907
> 
> 赞同：0
> 
> 时间：2012-06-28T06:07:04.680
> 
> 标签：c++, class, inheritance, operator-overloading, data-hiding

例子：

```
class Person
{
private:
     int age;
public:
     int getAge()
     {
         return age;
     }
};
class Employee: public Person
{
private:
    int empNum;
}; 
```

现在说我想重载 + 运算符来添加两个员工对象的年龄。其中一个员工对象调用重载的运算符函数，但在本例中，我还需要该对象从基类调用 getAge() 函数。我知道我可以将年龄保护而不是私有，但是有没有办法做到这一点，让该财产成为私有？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T06:10:24.307

您应该能够像这样编写您的运算符：

```
int operator+(const Employee& arg1, const Employee& arg2) {

  int result = arg1.getAge() + arg2.getAge();
  return result;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:51:14.027

如果您想将该属性保留为私有，您可以使用友元运算符重载函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:11:08.463

简单地说：没有。

您始终需要保护或公开方法（或变量），以便您从子类中调用它。（或者您可以定义另一个“getter”方法来访问它，但现在它必须是受保护的或公共的。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T06:11:27.403

您可以重载 Person 的加号运算符。或者， getAge() 可以从重载的运算符中调用，因为它是公共的。

# android - 我想在我的 Android 应用程序中显示地区语言（Gurumukhi）

> ID：11238909
> 
> 赞同：6
> 
> 时间：2012-06-28T06:07:18.610
> 
> 标签：android, xml, localization, fonts

我想要如下图所示的输出

![这是在 Gurumukhi 字体](../Images/d43e672706ff37a9e1c76741d6bd752f.png)

这是一本使用区域字体（Gurumukhi）的锡克教圣书，我想制作此文本的 xml 文件，以使用 xml 解析在我的应用程序中显示。但问题是当我将此字体粘贴到我的 xml 文件中时，它会转换为一些字母和符号，如下所示

```
jpujI swihb
<> siq nwmu krqw purKu inrBau inrvYru
Akwl mUriq AjUnI sYBM gur pRswid ]
] jpu ]
Awid scu jugwid scu ]
hY BI scu nwnk hosI BI scu ]1]
socY soic n hoveI jy socI lK vwr ]
cupY cup n hoveI jy lwie rhw ilv qwr ]
BuiKAw BuK n auqrI jy bMnw purIAw Bwr ]
shs isAwxpw lK hoih q iek n clY nwil ]
ikv sicAwrw hoeIAY ikv kUVY qutY pwil ]
hukim rjweI clxw nwnk iliKAw nwil ]1]
hukmI hovin Awkwr hukmu n kihAw jweI ]
hukmI hovin 
```

我在资产文件夹中放置了一个 Gurumukhi 字体文件，并使用下面的代码可以正常工作

```
Typeface tf = Typeface.createFromAsset(getAssets(),
                "fonts/bulara_5.ttf");
        textView = (TextView) findViewById(R.id.textView1);
        textView.setTypeface(tf);
        textView.setMovementMethod(new ScrollingMovementMethod());
        textView.setText(" <>siq nwmu krqw purKu inrBau inrvYru") 
```

这样，该文本视图中的文本将转换为 Gurumukhi 但是`How can i create my Xml file for this type of text in it`. 或`Give me some Good Suggestion that which way is better to work on this type of app and handle the text`。我必须在一个应用程序中展示 4-5 本书，每本书有 20-25 页。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T06:42:55.850

**更新** 既然你想通过 XML 使用你的 layout.xml 应该像

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical"
     >

    <com.nannu.NanTV
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/book"
        android:textAppearance="?android:attr/textAppearanceLarge" 

        />

</LinearLayout> 
```

和 string.xml

```
<?xml version="1.0" encoding="utf-8"?>
<resources>

    <string name="book"><![CDATA[jpujI swihb\\<> siq nwmu krqw purKu inrBau inrvYruAkwl mUriq AjUnI sYBM gur pRswid ]] jpu ]Awid scu jugwid scu ]hY BI scu nwnk hosI BI scu ]1]socY soic n hoveI jy socI lK vwr ]cupY cup n hoveI jy lwie rhw ilv qwr ]BuiKAw BuK n auqrI jy bMnw purIAw Bwr ]shs isAwxpw lK hoih q iek n clY nwil ]ikv sicAwrw hoeIAY ikv kUVY qutY pwil ]hukim rjweI clxw nwnk iliKAw nwil ]1]hukmI hovin Awkwr hukmu n kihAw jweI ]hukmI hovin]]></string>
</resources> 
```

你好扩展你的文本视图

```
package com.nannu;

import android.content.Context;
import android.graphics.Typeface;
import android.util.AttributeSet;
import android.widget.TextView;

public class NanTV extends TextView{

    private Context c;
    public NanTV(Context c) {
        super(c);
        this.c = c;
        Typeface tfs = Typeface.createFromAsset(c.getAssets(),
                "font/bulara_5.ttf");
        setTypeface(tfs);

    }
    public NanTV(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
        this.c = context;
        Typeface tfs = Typeface.createFromAsset(c.getAssets(),
                "font/bulara_5.ttf");
        setTypeface(tfs);
        // TODO Auto-generated constructor stub
    }

    public NanTV(Context context, AttributeSet attrs) {
        super(context, attrs);
        this.c = context;
        Typeface tfs = Typeface.createFromAsset(c.getAssets(),
                "font/bulara_5.ttf");
        setTypeface(tfs);

    }

} 
```

现在你的 layout.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical"
     >

    <com.nannu.NanTV
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Large Text"
        android:textAppearance="?android:attr/textAppearanceLarge" 

        />

</LinearLayout> 
```

活动

```
package com.nannu;

import android.app.Activity;
import android.os.Bundle;

public class NanDempoActivity extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        NanTV nan = (NanTV)findViewById(R.id.textView1);
        nan.setText("jpujI swihb<> siq nwmu krqw purKu inrBau inrvYruAkwl mUriq AjUnI sYBM gur pRswid ]] jpu ]Awid scu jugwid scu ]hY BI scu nwnk hosI BI scu ]1]socY soic n hoveI jy socI lK vwr ]cupY cup n hoveI jy lwie rhw ilv qwr ]BuiKAw BuK n auqrI jy bMnw purIAw Bwr ]shs isAwxpw lK hoih q iek n clY nwil ]ikv sicAwrw hoeIAY ikv kUVY qutY pwil ]hukim rjweI clxw nwnk iliKAw nwil ]1]hukmI hovin Awkwr hukmu n kihAw jweI ]hukmI hovin");
    }
} 
```

![最终输出](../Images/1543c935fbc6f22d66d1189a518e4589.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-28T08:09:05.943

我在 xml 中做了一些更改，请记住需要更改。

我在资产文件夹中创建了一个**data.xml**，xml 如下所示

```
 <?xml version="1.0" encoding="UTF-8"?>
    <book1>
    <page1>&#60;&#62; siq nwmu krqw purKu inrBau inrvYru
    Akwl mUriq AjUnI sYBM gur pRswid ]
                    ] jpu ]
             Awid scu jugwid scu ]
      hY BI scu nwnk hosI BI scu ]1]
     socY soic n hoveI jy socI lK vwr ]
    cupY cup n hoveI jy lwie rhw ilv qwr ]
    BuiKAw BuK n auqrI jy bMnw purIAw Bwr ]
   shs isAwxpw lK hoih q iek n clY nwil ]
   ikv sicAwrw hoeIAY ikv kUVY qutY pwil ]
   hukim rjweI clxw nwnk iliKAw nwil ]1]
  hukmI hovin Awkwr hukmu n kihAw jweI ]
  hukmI hovin jIA hukim imlY vifAweI ]
  hukmI auqmu nIcu hukim iliK duK suK pweIAih ]
  ieknw hukmI bKsIs ieik hukmI sdw BvweIAih ]
  hukmY AMdir sBu ko bwhir hukm n koie ]
  nwnk hukmY jy buJY q haumY khY n koie ]2]
  gwvY ko qwxu hovY iksY qwxu ]</page1>
  </book1> 
```

之后看到我的**StudyParser.class**如下所示

```
 import java.io.BufferedInputStream;
  import java.io.ByteArrayOutputStream;
  import java.io.IOException;
  import java.io.InputStream;
  import java.io.InputStreamReader;
  import java.io.StringReader;
  import java.io.UnsupportedEncodingException;
  import java.net.MalformedURLException;

  import javax.xml.parsers.DocumentBuilder;
  import javax.xml.parsers.DocumentBuilderFactory;
  import javax.xml.parsers.ParserConfigurationException;

  import org.apache.http.HttpEntity;
  import org.apache.http.HttpResponse;
  import org.apache.http.client.methods.HttpPost;
  import org.apache.http.impl.client.DefaultHttpClient;
  import org.apache.http.util.EntityUtils;
  import org.w3c.dom.Document;
  import org.w3c.dom.Element;
  import org.w3c.dom.Node;
  import org.w3c.dom.NodeList;
  import org.xml.sax.InputSource;
  import org.xml.sax.SAXException;

  public class StudyParser {
public StudyParser() {

}

public final static Document XMLfromString(String xml){
     Document doc = null;

        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
        dbf.setCoalescing(true);
            try {

          DocumentBuilder db = dbf.newDocumentBuilder();

          InputSource is = new InputSource();
              is.setCharacterStream(new StringReader(xml));
              doc = db.parse(is); 

        } catch (ParserConfigurationException e) {
          System.out.println("XML parse error: " + e.getMessage());
          return null;
        } catch (SAXException e) {
          System.out.println("Wrong XML file structure: " + e.getMessage());
                return null;
        } catch (IOException e) {
          System.out.println("I/O exeption: " + e.getMessage());
          return null;
        }

            return doc;

  }
public static String getXMLstring(String xml){   
      String line = null;

      try {

        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(xml);

        HttpResponse httpResponse = httpClient.execute(httpPost);
        HttpEntity httpEntity = httpResponse.getEntity();
        line = EntityUtils.toString(httpEntity);

      } catch (UnsupportedEncodingException e) {
        line = "<results status=\"error\"><msg>Can't connect to server</msg></results>";
      } catch (MalformedURLException e) {
        line = "<results status=\"error\"><msg>Can't connect to server</msg></results>";
      } catch (IOException e) {
        line = "<results status=\"error\"><msg>Can't connect to server</msg></results>";
      }

      return line;

  }
public static String getXML(InputStream is)throws IOException {

    BufferedInputStream bis = new BufferedInputStream(is);
    ByteArrayOutputStream buf = new ByteArrayOutputStream();
    int result = bis.read();
    while(result != -1) {
      byte b = (byte)result;
      buf.write(b);
      result = bis.read();
    }        
    return buf.toString();
}
public final static String getElementValue( Node elem ) {
       Node kid;
       if( elem != null){
           if (elem.hasChildNodes()){
               for( kid = elem.getFirstChild(); kid != null; kid = kid.getNextSibling() ){
                   if( kid.getNodeType() == Node.TEXT_NODE  ){
                       return kid.getNodeValue();
                   }

               }
           }
       }
       return "";
   }
 public static int numResults(Document doc){    
        Node results = doc.getDocumentElement();
        int res = -1;

        try{
          res = Integer.valueOf(results.getAttributes().getNamedItem("Categories").getNodeValue());
        }catch(Exception e ){
          res = -1;
        }

        return res;
      }

      public static String getValue(Element item, String str) {    
        NodeList n = item.getElementsByTagName(str);    
        return StudyParser.getElementValue(n.item(0));
      }

} 
```

我活动中的代码如下所示

```
 TextView txt;
 try{
 txt = (TextView)findViewById(R.id.tv); 
 String   xml= StudyParser.getXML(getAssets().open("data.xml"));    

   Document doc = StudyParser.XMLfromString(xml);
  NodeList n = doc.getElementsByTagName("book1");
 Element eid = (Element) n.item(0);
String Js=StudyParser.getValue(eid, "page1");
 Typeface tf = Typeface.createFromAsset(getAssets(),"bulara_5.ttf");
 txt.setTypeface(tf);
 txt.setText(Js);
   }catch(Exception e){
 Log.e("error",e.toString());
   } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T06:12:49.323

您似乎正在尝试为 Gurmukhi 字母使用私有编码的 8 位字体，即代码编号范围为 0..255 的字体，每个数字根据某些字体相关约定映射到一个字符，而不是任何标准编码。

考虑改用 Unicode (UTF-8) 和 Unicode 编码字体。

# java - 是否可以同时读取和写入 java.net.Socket？

> ID：11238913
> 
> 赞同：4
> 
> 时间：2012-06-28T06:07:50.910
> 
> 标签：java, multithreading, sockets, socket.io

是否可以同时从套接字读取和写入？我有一个连续读取套接字的线程。由于只有一个线程正在从套接字读取，因此读取操作是线程安全的。现在我有很多线程（比如 100 个）写入套接字。因此很明显，我必须通过做这样的事情来使写操作线程安全，

```
package com.mysocketapp.socketmanagement;

import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.Socket;
import java.net.UnknownHostException;

public class SocketManager {

    private Socket socket = null;

    private InputStream inputStream = null;

    private OutputStream outputStream = null;

    public SocketManager() {
        socket = new Socket("localhost", 5555);
        //server's running on same machine on port 5555
        inputStream = socket.getInputStream();

        outputStream = socket.getOutputStream();
    }

    public void writeMessage(byte[] message) throws IOException {

        synchronized (SocketManager.class) {

            if (message != null) {
                outputStream.write(message);
            }
        }
    }

    public byte[] readMessage() throws IOException {
        byte[] message = new byte[10]; //messages are of fixed size 10 bytes
        inputStream.read(message);
    }
} 
```

现在我有一个线程不断调用 readMessage() 函数（在一个 while 循环中）。据我所知，如果套接字上没有要读取的消息，该语句`inputStream.read(message)`将等待消息。

我想知道在执行`outputStream.write(message);`时执行是否安全`inputStream.read(message);`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-28T06:12:22.173

是的，套接字是双向的，并且可以实现全双工通信，（在不同线程上）同时读取和写入没有问题。

并且有多个写入线程没有问题。您可以在套接字实例而不是 SocketManager 类上进行同步。

# ios - Cordova/Phonegap-iOS：应用程序加载器中的 iPad 图标要求错误

> ID：11238915
> 
> 赞同：2
> 
> 时间：2012-06-28T06:07:57.527
> 
> 标签：ios, cordova, icons

我正在使用科尔多瓦 1.7。我即将提交应用程序，但出现此错误：

```
iPad: icon.png: icon dimensions (57x57) don't meet the size requirements. The icon file must be 72x72 pixels in .png format. 
```

在使用 Cordova/Phonegap 之前遇到过这个错误吗？你是如何解决这个问题的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-19T21:40:23.893

Had the same issue...so I checked the previous versions of my app-Info.plist file from the Phonegap era.

Turns out the new Cordova app-Info.plist file uses the "Icon files (iOS 5)" key in the plist file. Phonegap used to use the "Icon files" key...no "(iOS 5)" at the end of it

So the simple solution is to create/add a "Icon files" key in your app-Info.plist file. This should be of type array by default, if not set it to an array and then add the following items of type "string":

*   Item 0: icon.png
*   Item 1: icon@2x.png
*   Item 2: icon-72.png

Optionally you can add the iPad retina one as well (if you are using that icon, if not I'd omit it):

*   Item 3: icon-72@2x.png

After doing that the error went away and I was able to archive/validate/submit my app to the app store with xCode without a problem.

# c - S_ISREG 宏未定义

> ID：11238918
> 
> 赞同：10
> 
> 时间：2012-06-28T06:08:01.950
> 
> 标签：c, curl, macros

问题

*   posix 宏 S_ISREG、S_ISDIR 等是否仅适用于 linux？我需要找出原因，因为我正在尝试编译[CURL](http://curl.haxx.se/)，并且它正在尝试在 Windows 上使用它们
*   我可以使用哪些包含文件在 Windows 上访问它们。

这是有问题的代码

```
/*we ignore file size for char/block devices, sockets etc*/
if(S_ISREG(fileinfo.st_mode))
   uploadfilesize= fileinfo.st_size;
} 
```

它会导致错误

```
error LNK2019: unresolved external symbol _S_ISREG referenced in function _operate file tool_operate.obj 
```

它们在以下问题中被引用

*   [如何使用 S_ISREG() 和 S_ISDIR() POSIX 宏？](https://stackoverflow.com/questions/4989431/how-to-use-s-isreg-and-s-isdir-posix-macros)
*   [区分 C 和 C++ 中的 unix 目录和文件](https://stackoverflow.com/questions/1036625/differentiate-between-a-unix-directory-and-file-in-c)
*   [在 C 中读取目录时出现问题](https://stackoverflow.com/questions/7478492/problem-reading-directories-in-c)

显然 S_ISREG() 是一堆 posix 宏的一部分，显然应该告诉我们文件是否是“常规文件”，但我发现的所有示例都有 linux 特定的包含文件。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2014-03-14T12:22:09.407

目前 curl 7.21.5 在 setup.h 中定义了这个：

```
#if !defined(S_ISREG) && defined(S_IFMT) && defined(S_IFREG)
#define S_ISREG(m) (((m) & S_IFMT) == S_IFREG)
#endif 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2020-06-14T11:15:35.260

在检查了 Microsoft 的 sys/stat.h 之后，我发现 @OliverZendel 的答案的以下修改对我有用，使用 Visual Studio 2017，希望也适用于其他编译器：

```
// Windows does not define the S_ISREG and S_ISDIR macros in stat.h, so we do.
// We have to define _CRT_INTERNAL_NONSTDC_NAMES 1 before #including sys/stat.h
// in order for Microsoft's stat.h to define names like S_IFMT, S_IFREG, and S_IFDIR,
// rather than just defining  _S_IFMT, _S_IFREG, and _S_IFDIR as it normally does.
#define _CRT_INTERNAL_NONSTDC_NAMES 1
#include <sys/stat.h>
#if !defined(S_ISREG) && defined(S_IFMT) && defined(S_IFREG)
  #define S_ISREG(m) (((m) & S_IFMT) == S_IFREG)
#endif
#if !defined(S_ISDIR) && defined(S_IFMT) && defined(S_IFDIR)
  #define S_ISDIR(m) (((m) & S_IFMT) == S_IFDIR)
#endif 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-28T06:16:41.013

在 Windows 上尝试添加下划线 ( `_S_ISREG`)。在 MinGW 的库中，`S_ISREG`宏也可以在`<sys/stat.h>`

也许你应该检查你的配置宏。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-28T06:59:38.020

windows上没有这样的东西，你可以使用FindFirstFile，FindNextFile win32 api，返回结构包含类似但不一样的东西。

如果你使用 gcc/mingw 库，它们有一个 stat() 模拟。您需要为该宏包含 sys/stat.h。

# vb.net - 如何在 VB.NET 中获取目录上的所有文件名

> ID：11238924
> 
> 赞同：1
> 
> 时间：2012-06-28T06:08:33.723
> 
> 标签：vb.net, winforms, file, search, wildcard

我想显示在任何位置具有“33”的所有 PDF 文件名。

PDFFiles 文件夹上的示例 pdf 列表

```
1111.pdf
3311.pdf
2222.pdf
2331.pdf
1234.pdf
1233.pdf 
```

我需要得到这样的结果，**就像**sql 上的通配符**%33%**

```
3311.pdf
2331.pdf
1233.pdf 
```

我试过这个

```
Me.ListBox1.Items.AddRange(Directory.GetFiles("C:\PDFFiles", "*33*" & ".PDF", SearchOption.AllDirectories)) 
```

但它仍然显示所有 pdf 文件。

```
1111.pdf
3311.pdf
2222.pdf
2331.pdf
1234.pdf
1233.pdf 
```

还有这个

```
Me.ListBox1.Items.AddRange(Directory.GetFiles("C:\PDFFiles", "*33" & ".PDF", SearchOption.AllDirectories)) 
```

但它只会得到

```
1233.pdf //this get all filename that ends with 33 
```

感谢问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:52:49.550

在使用多个`*`.

我通过获取所有文件名然后使用 LINQ 过滤正确的名称来解决它：

```
Dim allFileNames as String() = _ 
    Directory.GetFiles("C:\PDFFiles", "*.PDF", SearchOption.AllDirectories)
Dim filtered As IEnumerable(Of String) = _ 
    .Where(Function(fileName) Path.GetFileNameWithoutExtension(fileName).Contains("33")) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T11:19:33.887

如果您习惯于正则表达式，则通配符的模式匹配算法是相当奇怪的。它背后有很多历史，可以追溯到 Windows 3、MS-DOS、CP/M（8 位机器的操作系统）和 RSX（16 位 DEC 机器上的操作系统）。它们之间存在大量借用，包括通配符行为。顺便说一句，一些偶然的共性，大卫卡特勒是第一个和最后一个背后的主要建筑师。

Anyhoo，`*33*`不会工作。您需要应用自己的过滤器。搜索`*.*`or`*.pdf`并使用 Path.GetFileNameWithoutExtension() 和 String.Contains() 来查找匹配项。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:34:15.473

你`*`在结尾少了`"*33"`，在结尾多放一颗星就好`"*33*"`。

您当前的表达：“* 33”和“.PDF”的意思是，所有以它结尾的文件名`33.PDF`就是你得到`1233.pdf`而不是得到的原因`2331.pdf`

编辑： [Directory.GetFileName()](http://msdn.microsoft.com/en-us/library/wz42302f.aspx#Y1600)

> 类似于 的搜索模式`"*1*.txt"`可能会返回意外的文件名。例如，使用“ *1* .txt”搜索模式会返回“longfilename.txt”，因为等效的 8.3 文件名格式是“LONGFI~1.TXT”。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-02T02:07:24.190

我们发现

`*___*` 如果字符串的长度大于或等于 4，则过滤器 起作用。

因此，如果我想获取所有具有测试名称值的记录：

```
test1234.pdf
abcdefg.pdf
123test45.pdf
12345678.pdf 
```

我的过滤器应该是：`"*test" & ".PDF"`它会给出想要的结果

```
test1234.pdf
123test45.pdf 
```

供参考

# java - 使用 java.sql.PreparedStatement 将 PDF 文件上传到 mysql BLOB 而不会损坏

> ID：11238927
> 
> 赞同：3
> 
> 时间：2012-06-28T06:09:07.327
> 
> 标签：java, mysql, sql, blob, prepared-statement

我尝试使用以下代码将 pdf 文件上传`java.sql.PreparedStatement`到Blob 字段。`mysql`

```
 File inFile = new File("Path+BLOCK.pdf");
        byte[] b = new byte[(int)inFile.length()];

        PreparedStatement psmnt = (PreparedStatement) 
        con.prepareStatement("INSERT  INTO 
                        2012DOC (SRNO,DOCUMENT) 
                       VALUES  (?,?)"
                      );   //con is java.sql.Connection object
        psmnt.setString(1, "1200021");
        psmnt.setBytes(2, b);
        psmnt.executeUpdate(); 
```

此代码执行没有错误，并且数据库显示 blob 内容，但是当我尝试使用以下代码检索文件时，它给出了一个无法打开的损坏文件。

```
ResultSet rs=con.Execute("SELECT DOCUMENT FROM 2012DOC");
rs.next();
response.setContentType("application/pdf");
response.setHeader("Content-Disposition", "attachment; filename=kjsahkjd.pdf");

java.sql.Blob blob = rs.getBlob("DOCUMENT");
ServletOutputStream servletOutputStream = response.getOutputStream();
InputStream in = blob.getBinaryStream();
int length = (int) blob.length();
int bufferSize = 1024;
byte[] buffer = new byte[bufferSize];
while ((length = in.read(buffer)) != -1) {

servletOutputStream.write(buffer, 0, length);
}
in.close();
servletOutputStream.flush();
servletOutputStream.close(); 
```

它输出与原始大小相同的文件，但文件未打开。阅读器`pdf`被触发但无法打开文件并给出错误“文件已损坏或文件类型不受支持”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T09:23:55.033

啊……经过一点调试，发现上传的代码很麻烦，终于找到了正确的方法。

这是我所做的......我发布它以便其他有同样问题的人可以解决它

转换`java.io.File`为之后`java.io.FileInputStream`

```
FileInputStream io = new FileInputStream(inFile); 
```

使用设置 BLOB 字段`psmnt.setBinaryStream()`

```
psmnt.setBinaryStream(3,  (InputStream)io,(int)inFile.length()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-11T06:57:34.817

删除“ `java.sql.Blob blob = rs.getBlob("DOCUMENT");`”

并且不要初始化长度即而不是

```
int length = (int) blob.length(); 
```

写吧

```
int length; 
```

然后它成功下载文件..享受:)

# javascript - 使用 apache commons 多次解析表单字段值

> ID：11238928
> 
> 赞同：0
> 
> 时间：2012-06-28T06:09:09.970
> 
> 标签：javascript, jsp, servlets, apache-commons

我想解析相同输入类型和名称的多个表单字段值以及上传的文件，在我的设计中使用 java 脚本生成多个文件上传字段以及允许用户输入文件描述的文本字段，用户可以附加任意数量的字段。

用于创建 html 元素的 java 脚本

```
var d = document.createElement("div");
var file1 = document.createElement("input");
file1.setAttribute("type", "text");
file1.setAttribute("name", "fileName"+upload_number);
d.appendChild(file1);
var file = document.createElement("input");
file.setAttribute("type", "file");
file.setAttribute("name", "attachment"+upload_number);
d.appendChild(file);
document.getElementById("moreUploads").appendChild(d);
upload_number++; 
```

对应的 HTML

```
<input type="file" name="attachment" id="attachment" onchange="document.getElementById('moreUploadsLink').style.display = 'block';"/>
<div id="moreUploads"></div>
<div id="moreUploadsLink" style="display:none;">
  <a href="javascript:addFileInput();">Attach another File</a>
</div> 
```

检查，我的 java 脚本是如何工作的：http: [//jsfiddle.net/8k926/90/](http://jsfiddle.net/8k926/90/)

在我的文件上传 servlet 中，尝试调试并且它只解析第一个生成的值，它没有解析由 javascript 生成的下一个生成字段。

我的文件上传 servlet

```
 if(item.isFormField())
 {  
   String name = item.getFieldName();  
   if(name != null)  
   {  
     if(name.equals("fileName"))
     {  
       fileName = item.getString();  
     }
     else if(name.equals("main"))
     {  
       main = item.getString();  
     }
     else if(name.equals("sub"))
     {
       sub=item.getString();
     }
     else if(name.equals("filetype"))
     {
       filetype=item.getString();
     }
   }  
}else{  
  String file1=item.getFieldName();
  String file2=item.getName();
  filen=file2;
  ocation = File.separator+"home"+File.separator+"adapco"+File.separator+"Desktop"+ File.separator +"output"+ File.separator +main+File.separator+sub+File.separator+filen;
  uploadFile = new File(location);    
  //code for connecting and inserting the form field values into the database. 
} 
```

上传单个文件后调试器正在退出。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T09:25:23.003

将第一个文本字段和文件字段名称更改为“fileName1”和“attachment1”。

**JSP：**

```
<input type="text" name="fileName1" size="30" onchange="document.getElementById('moreUploadsLink').style.display = 'block';"/>   
<input type="file" name="attachment1" id="attachment" onchange="document.getElementById('moreUploadsLink').style.display = 'block';"/> 
```

**小服务程序：**

迭代所有字段。创建一个计数器`int cntr=1;`

```
String fileNameField="fileName";
Iterator iter = items.iterator();
while(iter.hasNext()){
    FileItem item = (FileItem) iter.next();
    if(item.isFormField())
     {  
       String name = item.getFieldName();  
       if(name != null)  
       {  
         if(name.equals(fileNameField+cntr))
         {  
           fileName = item.getString();  
         }
         else if(name.equals("main"))
         {  
           main = item.getString();  
         }
             else if(name.equals("sub"))
         {
        sub=item.getString();
         }
         else if(name.equals("filetype"))
         {
        filetype=item.getString();
         }
       }  
    }else{  
      String file1=item.getFieldName();
      String file2=item.getName();
      String filen=file2;
      String location = File.separator+"home"+File.separator+"adapco"+File.separator+"Desktop"+ File.separator +"output"+ File.separator +main+File.separator+sub+File.separator+filen;
      uploadFile = new File(location);    
          try {
         item.write(uploadFile);
      } catch (Exception e) {
         e.printStackTrace();
      }
      //code for connecting and inserting the form field values into the database. 
  } 
```

# ruby-on-rails-3 - fields_for 为 has_many 通过关系 rails 3

> ID：11238930
> 
> 赞同：0
> 
> 时间：2012-06-28T06:09:12.757
> 
> 标签：ruby-on-rails-3, nested-forms, has-many, has-many-through, fields-for

我在让下面的代码工作时遇到问题。

```
 class Page < ActiveRecord::Base
     has_many :page_parts, :through => :page_parts_pages
     has_many :page_parts_pages
     accepts_nested_attributes_for :page_parts, :allow_destroy => true
     accepts_nested_attributes_for :page_parts_pages, :allow_destroy => true
  end

  class PagePart < ActiveRecord::Base
     has_many :page_parts_pages
     has_many :pages, :through => :page_parts_pages
  end

  class PagePartsPage < ActiveRecord::Base
     belongs_to :page
     belongs_to :page_part
  end 
```

表结构：-

```
 pages
      id, title

  pages_parts
      id, title

  page_parts_pages
      id, page_id, page_part_id 
```

查看代码

```
 <% page_fragment.each do |k,v| %>

     <%  if v.nil? or v.blank? or v.empty? %>

       <% parts =  f.object.page_parts.build if f.object.page_parts.blank? %>

       <%= f.fields_for :page_parts, parts do |p| %>

         <%= render 'page_part_form_field', :f => p %>

       <% end %>

      <% else  %>

       <% parts_page =  f.object.page_parts_pages.build if   f.object.page_parts_pages.blank? %>

    <%= f.fields_for :page_parts_pages, parts_page do |p| %>

      <%= render 'page_part_page_form_field', :f => p %>

    <% end %>

  <% end %>

<% end %> 
```

实际上情况是，我必须根据条件显示 page_parts 和 page_parts_pages 的字段。如果满足条件，则显示 page_parts 的字段，否则显示 page_parts_pages 的字段。

它对于新操作非常有效，但对于编辑操作，它无法正确显示。

非常感谢任何帮助。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T16:35:58.747

您正在以这种形式创建新的 page_parts：

```
parts =  f.object.page_parts.build if f.object.page_parts.blank?
parts_page =  f.object.page_parts_pages.build if   f.object.page_parts_pages.blank? 
```

'build' 创建新对象（虽然它不会将它们保存在数据库中）。所以，难怪它适用于新的，但不适用于编辑。你可以试试这个：

```
 <% page_fragment.each do |k,v| %>
     <%  if v.blank? %>
       <%= f.fields_for :page_parts do |p| %>
         <%= render 'page_part_form_field', :f => p %>
       <% end %>
      <% else  %>
    <%= f.fields_for :page_parts_pages do |p| %>
      <%= render 'page_part_page_form_field', :f => p %>
    <% end %>
  <% end %>
<% end %> 
```

[rails api](http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html#method-i-fields_for)有关于 forms_for 和其他表单助手的很好的文档。

# javascript - 单击弹出窗口警报框时刷新父Jsp页面

> ID：11238931
> 
> 赞同：0
> 
> 时间：2012-06-28T06:09:16.800
> 
> 标签：javascript, jsp, dom-events

我正在研究jsp，我在configDb.jsp 中有两个jsp，其中我编写了代码来从数据库中检索值并显示它。在此，我有像 newconnection 这样的选项.. 它是一个弹出窗口。当我单击它时，它会打开弹出窗口并获取值并将它们存储在数据库中，但在我的父页面中我无法显示这些值。在弹出窗口中单击“确定”按钮后，我必须刷新父页面，然后我才能在新的连接页面看到几秒钟后创建的值。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:20:53.280

您可以将其包含在弹出窗口的 HTML 中。

```
<script type="text/javascript">
function proceed(){
   opener.location.reload(true);
   self.close();
}
</script>

<form onsubmit="proceed()">
...
</form> 
```

[实际上你可以通过谷歌搜索“ javascript refresh parent page from popup](https://encrypted.google.com/#hl=en&sclient=psy-ab&q=javascript+refresh+parent+page+from+popup&oq=javascript+refresh+parent+page+from+popup&gs_l=hp.3..0j0i30.2479.4106.1.4386.11.11.0.0.0.0.105.657.9j1.10.0...0.0.DXQ-fI2E8QE&pbx=1&bav=on.2,or.r_gc.r_pw.r_qf.,cf.osb&fp=b971767ad7eb6c00&biw=1291&bih=700) ”来获得答案，你会看到[stackoverflow的答案](https://stackoverflow.com/questions/5139657/closing-child-pop-up-and-refreshing-parent-page):)

通过添加提交按钮侦听器并执行 DOM 操作以插入具有新内容的新元素，可以实现无需刷新父页面的更好选择。这可以通过 Javascript 轻松完成。

# sql - 如何停止 oracle 撤消过程？

> ID：11238932
> 
> 赞同：4
> 
> 时间：2012-06-28T06:09:20.603
> 
> 标签：sql, oracle

我想知道如何停止 oracle 的撤消过程？我试图删除一个大表的数百万行，并且在过程中我终止了会话，但它开始撤消删除并且大约两个小时数据库变得非常缓慢。我不希望撤消过程继续进行。有什么办法可以阻止它？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-28T06:22:50.623

您无法停止回滚事务的过程，因为这样做会使数据库处于不一致的状态。

当您执行一个长时间运行的删除过程时，Oracle 可能会在您决定是提交还是回滚事务之前将更改的块写入您的数据文件。如果在执行事务的过程中中断了进程，磁盘上会有一些变化的块，内存中有一些变化的块，还有一些不变的块。回滚事务是将数据库返回到开始执行`DELETE`语句之前的状态的唯一方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T16:35:17.257

如您所见，逐行删除过程可能非常缓慢。如果删除都在单个事务中完成，就像这里的情况一样，它们可能会变得更慢。您可能需要考虑以下选项：

1.  如果要删除表中的所有行，您可能需要考虑使用[TRUNCATE TABLE](http://docs.oracle.com/cd/B28359_01/server.111/b28286/statements_10007.htm#i2067571)语句。

2.  如果您没有删除表中的所有行，您可能应该在删除一定数量的行后将您的过程更改为 COMMIT。

与此同时，您将不得不等到回滚过程完成。

分享和享受。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-01T18:29:26.687

and when you try truncating the table while it's still deleting you'll be seeing an ORA-00054 "resource busy and acquire with NOWAIT specified or timeout expired"

# java - 关于 JFileChooser

> ID：11238933
> 
> 赞同：0
> 
> 时间：2012-06-28T06:09:29.957
> 
> 标签：java, swing, user-interface, java.util.scanner, jfilechooser

我开发了一个程序来计算文件中的行数，如下所示

```
Scanner in=new Scanner(System.in);
    System.out.println("Enter the Drive name like C,D,E etc");
    String drive=in.next();
    System.out.println("Enter the main folder name");
    String main_folder=in.next();
    File directory=new File(drive+":"+"//"+main_folder+"//");

Map<String, Integer> result = new HashMap<String, Integer>();
    //File directory = new File("C:/Test/");
    File[] files = directory.listFiles();
    for (File file : files) {
        if (file.isFile()) {
            Scanner scanner = new Scanner(new FileReader(file));
            int lineCount = 0;
            try {
                for (lineCount = 0; scanner.nextLine() != null; lineCount++);
            } catch (NoSuchElementException e) {
                result.put(file.getName(), lineCount);
            } }}        

    for( Map.Entry<String, Integer> entry:result.entrySet()){
          System.out.println(entry.getKey()+" ==> "+entry.getValue());
        } 
```

但我试图添加一个摇摆界面 JFilechooser ，我希望用户应该选择特定文件夹以及该文件夹内的所有文件都被选中并在上面休息，因为我的代码按原样工作，请告知

请建议设计 jfile 选择器，以便我可以集成上面的代码。

我设计了另一种解决方案

```
package aa;

import java.awt.Container;
import java.awt.FlowLayout;
import java.awt.FileDialog;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.BufferedReader;
import java.io.DataInputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.InputStreamReader;

import javax.swing.JButton;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JTextField;

public class FileBrowse extends JFrame {

private JButton browseSwing = new JButton("Choose File");
private JTextField textField = new JTextField(30);
private JButton approve = new JButton("Ok");

public FileBrowse() {
setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
setSize(600,80);
setResizable(false);

browseSwing.addActionListener(new ActionListener() {
    public void actionPerformed(ActionEvent arg0) {
        if (arg0.getSource()==browseSwing)
        onBrowseSwing();
        }});

Container container = getContentPane();
container.setLayout(new FlowLayout());
container.add(browseSwing);
container.add(textField);
container.add(approve);

//pack();
}

protected void onBrowseSwing() {
JFileChooser fileChooser = new JFileChooser();
int result = fileChooser.showDialog(this, "Open/Save");
if (result == JFileChooser.APPROVE_OPTION) {
File file = fileChooser.getSelectedFile();
textField.setText(file.toString());
String x = file.toString();
fileRead(x);
}
}

public void fileRead(String input){
    try{
        // Open the file that is the first
        // command line parameter
        FileInputStream fstream = new FileInputStream(input);
        // Get the object of DataInputStream
        DataInputStream in = new DataInputStream(fstream);
            BufferedReader br = new BufferedReader(new InputStreamReader(in));
        String strLine;
        int count = 0;
        int count2 = 0;
        //Read File Line By Line
        while((strLine = br.readLine())!= null ){
            if (strLine.trim().length() != 0){
                count++;
            }else{
                count2++;
            }
        }
        System.out.println("-------Lines Of COdes-------");
        System.out.println("number of lines:" + count);
        System.out.println("number of blank lines:" + count2);
        //Close the input stream
        in.close();
        }catch (Exception e){//Catch exception if any
          System.err.println("Error: " + e.getMessage());
        }

}

public static void main(String[] args) {
new FileBrowse().setVisible(true);

}
} 
```

但它选择了我希望在该文件夹测试中选择所有文件的单个文件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:18:14.593

您可以使用此代码（改编自[此处](http://www.java2s.com/Tutorial/Java/0240__Swing/SelectadirectorywithaJFileChooser.htm)）：

```
 JFileChooser chooser = new JFileChooser();
    chooser.setCurrentDirectory(new java.io.File("."));
    chooser.setDialogTitle("choosertitle");
    chooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
    chooser.setAcceptAllFileFilterUsed(false);

    if (chooser.showOpenDialog(null) == JFileChooser.APPROVE_OPTION)
    {

        Map<String, Integer> result = new HashMap<String, Integer>();
        File directory = new File(choosers.getSelectedFile().getAbsolutePath()); //This is where you need to change.
        File[] files = directory.listFiles();
        for (File file : files)
        {
            if (file.isFile())
            {
                Scanner scanner = new Scanner(new FileReader(file));
                int lineCount = 0;
                try
                {
                    for (lineCount = 0; scanner.nextLine() != null; lineCount++)
                        ;
                } catch (NoSuchElementException e)
                {
                    result.put(file.getName(), lineCount);
                }
            }
        }

        for (Map.Entry<String, Integer> entry : result.entrySet())
        {
            System.out.println(entry.getKey() + " ==> " + entry.getValue());
        }
    } 
```

此代码应替换此部分：

```
Scanner in=new Scanner(System.in);
System.out.println("Enter the Drive name like C,D,E etc");
String drive=in.next();
System.out.println("Enter the main folder name");
String main_folder=in.next();
File directory=new File(drive+":"+"//"+main_folder+"//"); 
```

此外，只是建议，在使用控制台和系统路径时，您最好使用[`File.seperator`](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#separator). 这将自动为您提供相应系统的路径分隔符。

根据您的编辑，在您的情况下，您使用的是`fileChooser.getSelectedFile();`. 这只会根据其名称为您提供用户选择的文件。您应该使用的是`fileChooser.getSelectedFile().getAbsolutePath()`并迭代同一目录中的文件（如上所示）。

编辑 2：我使用此代码显示 2 个按钮及其各自的事件处理程序：

```
public static void main(String args[]) {
        JFrame frame = new JFrame("Button Sample");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        JButton btnExit= new JButton("EXIT");    

        ActionListener actionListenerExitButton = new ActionListener() {
          @Override
          public void actionPerformed(ActionEvent actionEvent) {
            System.out.println("Exit Button Was Clicked");
          }
        };
        btnExit.addActionListener(actionListenerExitButton);

        JButton btnEnter = new JButton("ENTER");
        ActionListener actionListenerEnterButton = new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent actionEvent) {
                System.out.println("Enter Button Was Clicked");
            }
        };
        btnEnter.addActionListener(actionListenerEnterButton);

        Container contentPane = frame.getContentPane();
        contentPane.add(btnExit, BorderLayout.SOUTH);
        contentPane.add(btnEnter, BorderLayout.NORTH);
        frame.setSize(300, 100);
        frame.setVisible(true);
      } 
```

您现在需要做的就是将我之前提供的代码插入到相应的事件处理程序中。

# php - 是否可以将值传递给 PHP 中的函数参数？

> ID：11238934
> 
> 赞同：0
> 
> 时间：2012-06-28T06:09:47.483
> 
> 标签：php

有一个`function`返回值：

```
function f($criteria, $extra_return)
{
   return $criteria['activity_code'];
} 
```

我想为 $extra_return 设置一个值`parameter`。这可能`PHP`吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T06:11:06.000

是的，您可以使用[Passing by Reference](http://php.net/manual/en/language.references.pass.php)。

```
function f($criteria, &$extra_return)
{
   $extra_return = 1;
   return $criteria['activity_code'];
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-28T06:12:45.920

是的，它被称为[引用](http://php.net/references)。这是手册中的一个示例，`$var`在调用者和函数之间共享：

```
function foo(&$var)
{
    $var++;
}

$a=5;
foo($a);
// $a is 6 here 
```

# javascript - javascript 错误，此页面上的脚本可能正忙，或者它可能已停止响应

> ID：11238937
> 
> 赞同：0
> 
> 时间：2012-06-28T06:10:05.003
> 
> 标签：javascript, jquery, jquery-plugins

我在我的网站中使用了一些 jquery 组件，突然我得到一个错误，

“此页面上的某个脚本可能正忙，也可能已停止响应。您可以现在停止该脚本，也可以继续查看该脚本是否会完成。”

我用过，Jquery tab 组件，Carousel 组件 5 次，图片滑块组件。是由于许多 Jquery 组件造成的吗？

我用过，

jquery-1.6.4.min.js

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T09:07:03.023

修复了错误，

问题是一些 jquery 脚本的顺序。一旦它的顺序正确，它就可以正常工作，而不是因为组件太多。

@madhairsilence 和 @pst - 感谢您的评论

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-21T06:30:52.427

Firefox中的问题，

禁用firefox添加并以安全模式重新启动firefox...

[https://support.mozilla.org/en-US/questions/1008123](https://support.mozilla.org/en-US/questions/1008123)

# batch-file - 批处理脚本编译器

> ID：11238941
> 
> 赞同：0
> 
> 时间：2012-06-28T06:10:24.147
> 
> 标签：batch-file

有没有可用的批处理脚本编译器？我有一个非常大的批处理文件，我想检查我的语法哪里出错了。还使用 @pause 和 echo 我可以检查出了什么问题，但编译器会是更好的选择。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-28T06:46:31.273

我想你能找到的最好的是语法检查器，而不是真正的编译器，因为在批处理中，许多构造只能在运行时*编译*。
几乎每个`%var%`扩展都需要在扩展的时刻进行*编译，因为内容可能会改变一切。*
此外，自我修改代码的可能性使这个问题有点棘手。

也许有人，有时会写一个批处理调试器，这应该是可能的。

# android - Adobe Air 中的 Android 生命周期

> ID：11238943
> 
> 赞同：1
> 
> 时间：2012-06-28T06:10:25.133
> 
> 标签：android, air, adobe, android-activity, onpause

如何在 Adob​​e Air 中处理 Android Activity 的 onPause、onResume 等事件。我想在开发 AIR 应用程序时暂停活动时做某事，我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-01T08:04:59.120

我阅读了[Oliver Goldman](http://www.adobe.com/devnet/author_bios/oliver_goldman.html)的这篇文章， [http://www.adobe.com/devnet/air/articles/considerations-air-apps-mobile.html](http://www.adobe.com/devnet/air/articles/considerations-air-apps-mobile.html)。它说我们可以使用 AIR 的 flash.events.Event.DEACTIVATE 事件来保持 onPause 的选项卡。更多信息 - [http://help.adobe.com/en_US/air/reference/html/flash/desktop/NativeApplication.html](http://help.adobe.com/en_US/air/reference/html/flash/desktop/NativeApplication.html)

# android - 如何从android中的用户当前位置旋转地图视图

> ID：11238945
> 
> 赞同：1
> 
> 时间：2012-06-28T06:10:47.737
> 
> 标签：android, android-mapview

我在 android 地图视图中始终将用户当前位置指向底部中心。因此用户将只能看到北侧地图而他无法看到南侧应用程序。如果用户转向南方，则用户应该看到南方侧面图。

我正在使用传感器管理器获取用户的方位角。如果我将地图旋转到当前位置

用户从底部中心变为我该如何处理的地方。

请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T13:12:42.663

我建议使用`mapView.setRotation(float bearing)`. 这就是我使用的（我有一个类似于你的应用程序）。我不确定引入了什么 API 级别，但它适用于我（2.3.4）。确保您`mapView.invalidate()`在旋转地图后致电。

# c# - 根据条件从代码隐藏调用 Javascript 方法。

> ID：11238946
> 
> 赞同：1
> 
> 时间：2012-06-28T06:10:53.097
> 
> 标签：c#, javascript, jquery, asp.net

这是我在 .aspx 文件中的 javascript 方法。我想根据特定条件从代码隐藏中调用此方法：

```
function confirmboxAndHideMessage() {
    //HideMessage();
    var response = confirm("are you sure?.");
    if (response == true) {
        document.getElementById("<%=chkValidated.ClientID%>").checked = true;
        HideMessage();
    }
    else {
        HideMessage();
        return true;
    }
} 
```

我要调用的条件是这样的：

```
 if (obj.fkValidationStatusId.HasValue && obj.fkValidationStatusId.Value.Equals(1))
        {
            btnProceedAddNewRecords.Attributes.Add("OnClick", "javascript:return confirmboxAndHideMessage();");  
        }
        else
        {
            btnProceedAddNewRecords.Attributes.Remove("OnClick");
        } 
```

此条件正在一个方法中执行，该方法在内部的 PageLoad 事件中调用

```
if (!IsPostBack) { /* condition */ } 
```

它不起作用，我的猜测是我在按钮属性中添加方法的方式是错误的。我的要求是，请提出一种方法，我可以根据所述条件从我的代码隐藏中调用此 javascript 方法。如果您认为我的方法有缺陷，请提出替代方案。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:18:46.090

只需在条件类似的地方添加以下代码

```
 public void test()
{
    String name = "test";
    if (name == "test")
    {
        ScriptManager.RegisterStartupScript(this, this.GetType(), "hdrEmpty", "if(confirm('are you sure you want to continue?')==true){ Testfunction(); };", true); return;
    }
} 
```

我相信它会为你工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:21:12.170

用于设置/取消设置 `OnClientClick`

```
if (obj.fkValidationStatusId.HasValue && obj.fkValidationStatusId.Value.Equals(1))
  {
     btnProceedAddNewRecords.OnClientClick="return confirmboxAndHideMessage();";  
  }
else
  {
     btnProceedAddNewRecords.OnClientClick="retun false;";
  } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T06:22:19.597

您应该从函数中返回`true`或返回。`false`您可能希望返回 true 以获得积极响应：

```
function confirmboxAndHideMessage() {
  var response = confirm("are you sure?.");
  if (response == true) {
    document.getElementById("<%=chkValidated.ClientID%>").checked = true;
    HideMessage();
    return true;
  } else {
    HideMessage();
    return false;
  }
} 
```

使用小写的事件名称（因为 XHTML 对此很挑剔），并`javascript:`从代码中删除：

```
btnProceedAddNewRecords.Attributes.Add("onclick", "return confirmboxAndHideMessage();"); 
```

将设置属性的代码放在检查的外面`IsPostBack`，否则条件变化时不会更新。

# jquery - 模仿 Stackoverflow 的效果

> ID：11238951
> 
> 赞同：1
> 
> 时间：2012-06-28T06:11:26.443
> 
> 标签：jquery, fadeout

当stackoverflow的响应墙上显示新评论时，是否有任何jquery效果来模拟背景颜色的淡出，最好是使用Jquery :)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T06:15:51.753

vanilla jQuery 不允许您轻松地为颜色设置动画，但[jQuery UI](http://jqueryui.com/demos/animate/)增加了该功能。

```
$('#foo').animate({ backgroundColor: "#60ffff" }, 1000); 
```

jQuery UI 的[高亮](http://jqueryui.com/demos/effect/)功能也做了一些接近你想要的事情：

```
$('#bar').effect("highlight", {}, 1000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:25:47.990

如果您不想将所有 jQuery UI 引入您的页面，您可以使用[jquery-color插件。](https://github.com/jquery/jquery-color)

# php - 通过 PHP 在电子邮件中发送 HTML

> ID：11238953
> 
> 赞同：70
> 
> 时间：2012-06-28T06:11:31.100
> 
> 标签：php, html, email, send

如何使用 PHP 发送带有图片的 HTML 格式的电子邮件？

我想要一个带有一些设置和 HTML 输出的页面，通过电子邮件发送到一个地址。我该怎么办？

主要问题是附加文件。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：157
> 
> 时间：2012-06-28T06:19:17.217

这很简单，将图像留在服务器上并将 PHP + CSS 发送给他们......

```
$to = 'bob@example.com';

$subject = 'Website Change Reqest';

$headers = "From: " . strip_tags($_POST['req-email']) . "\r\n";
$headers .= "Reply-To: ". strip_tags($_POST['req-email']) . "\r\n";
$headers .= "CC: susan@example.com\r\n";
$headers .= "MIME-Version: 1.0\r\n";
$headers .= "Content-Type: text/html; charset=UTF-8\r\n";

$message = '<p><strong>This is strong text</strong> while this is not.</p>';

mail($to, $subject, $message, $headers); 
```

正是这一行告诉邮件发送者和收件人电子邮件包含（希望）格式良好的 HTML，它需要解释：

```
$headers .= "Content-Type: text/html; charset=UTF-8\r\n"; 
```

这是我得到信息的链接..（[链接...](http://css-tricks.com/sending-nice-html-email-with-php/)）

不过，您将需要安全性...

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-06-28T06:21:34.590

您需要使用图像的绝对路径对 html 进行编码。通过绝对路径意味着您必须在服务器中上传图像，并且在`src`图像属性中您必须提供这样的直接路径`<img src="http://yourdomain.com/images/example.jpg">`。

下面是供您参考的 PHP 代码：- 它取自[http://www.php.net/manual/en/function.mail.php](http://www.php.net/manual/en/function.mail.php)

```
<?php
// multiple recipients
$to  = 'aidan@example.com' . ', '; // note the comma
$to .= 'wez@example.com';

// subject
$subject = 'Birthday Reminders for August';

// message
$message = '
  <p>Here are the birthdays upcoming in August!</p>
';

// To send HTML mail, the Content-type header must be set
$headers  = 'MIME-Version: 1.0' . "\r\n";
$headers .= 'Content-type: text/html; charset=UTF-8' . "\r\n";

// Additional headers
$headers .= 'To: Mary <mary@example.com>, Kelly <kelly@example.com>' . "\r\n";
$headers .= 'From: Birthday Reminder <birthday@example.com>' . "\r\n";

// Mail it
mail($to, $subject, $message, $headers);
?> 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-06-28T06:22:54.963

我有一个这段代码，它将在我的网站上完美运行

```
 public function forgotpassword($pass,$name,$to)
    {
        $body ="<table  width=100% border=0><tr><td>";
        $body .= "<img width=200 src='";
        $body .= $this->imageUrl();
        $body .="'></img></td><td style=position:absolute;left:350;top:60;><h2><font color = #346699>PMS Pvt Ltd.</font><h2></td></tr>";
        $body .='<tr><td colspan=2><br/><br/><br/><strong>Dear '.$name.',</strong></td></tr>';
        $body .= '<tr><td colspan=2><br/><font size=3>As per Your request we send Your Password.</font><br/><br/>Password is : <b>'.$pass.'</b></td></tr>';
        $body .= '<tr><td colspan=2><br/>If you have any questions, please feel free to contact us at:<br/><a href="mailto:support@pms.com" target="_blank">support@pms.com</a></td></tr>';
        $body .= '<tr><td colspan=2><br/><br/>Best regards,<br>The PMS Team.</td></tr></table>';
        $subject = "Forgot Password";
        $this->sendmail($body,$to,$subject);
    } 
```

邮件功能

```
 function sendmail($body,$to,$subject)
        {
            //require_once 'init.php';

            $from='testing@gmail.com';      
            $headersfrom='';
            $headersfrom .= 'MIME-Version: 1.0' . "\r\n";
            $headersfrom .= 'Content-type: text/html; charset=iso-8859-1' . "\r\n";
            $headersfrom .= 'From: '.$from.' '. "\r\n";
            mail($to,$subject,$body,$headersfrom);
        } 
```

图像 url 功能用于如果您想更改您仅在一个功能中更改的图像我有很多邮件功能，例如忘记密码创建用户，因为我使用图像 url 功能，您可以直接设置路径。

```
function imageUrl()
    {
        return "http://".$_SERVER['SERVER_NAME'].substr($_SERVER['SCRIPT_NAME'], 0, strrpos($_SERVER['SCRIPT_NAME'], "/")+1)."images/capacity.jpg";
    } 
```

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2017-01-14T02:14:24.600

发送 html 电子邮件与使用 php 发送普通电子邮件没有太大区别。需要添加的是 php mail() 函数的 header 参数中的内容类型。这是一个例子。

```
<?php
    $to = "toEmail@domain.com";
    $subject = "HTML email";
    $message = "
    <html>
    <head>
    <title>HTML email</title>
    </head>
    <body>
    <p>A table as email</p>
    <table>
    <tr>
    <th>Firstname</th>
    <th>Lastname</th>
    </tr>
    <tr>
    <td>Fname</td>
    <td>Sname</td>
    </tr>
    </table>
    </body>
    </html>
    ";
    // Always set content-type when sending HTML email
    $headers = "MIME-Version: 1.0" . "\r\n";
    $headers .= "Content-type:text/html;charset=UTF-8" . "\r\b";
    $headers .= 'From: name' . "\r\n";
    mail($to,$subject,$message,$headers);
?> 
```

您也可以[**在此处**](http://www.w3schools.com/php/func_mail_mail.asp)查看 w3schools 的更详细说明

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2016-02-24T10:19:09.933

您可以通过 PHP 轻松发送带有 HTML 内容的电子邮件。使用以下脚本。

```
<?php
$to = 'user@example.com';
$subject = "Send HTML Email Using PHP";

$htmlContent = '
<html>
<body>
    <h1>Send HTML Email Using PHP</h1>
    <p>This is a HTMl email using PHP by CodexWorld</p>
</body>
</html>';

// Set content-type header for sending HTML email
$headers = "MIME-Version: 1.0" . "\r\n";
$headers .= "Content-type:text/html;charset=UTF-8" . "\r\n";

// Additional headers
$headers .= 'From: CodexWorld<info@codexworld.com>' . "\r\n";
$headers .= 'Cc: welcome@example.com' . "\r\n";
$headers .= 'Bcc: welcome2@example.com' . "\r\n";

// Send email
if(mail($to,$subject,$htmlContent,$headers)):
    $successMsg = 'Email has sent successfully.';
else:
    $errorMsg = 'Email sending fail.';
endif;
?> 
```

源代码和现场演示可以从这里找到 -[使用 PHP 发送漂亮的 HTML 电子邮件](http://www.codexworld.com/send-beautiful-html-email-using-php/)

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-06-28T06:19:41.673

最简单的方法可能是只使用 Zend Framework 或任何其他框架，如 CakePHP 或 Symphony。

您也可以使用标准`mail`功能来完成，但您需要更多关于如何附加图片的知识。

或者，只需将图像托管在服务器上，而不是附加它们。发送 HTML 邮件记录在`mail`函数文档中。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-07-16T11:38:44.620

使用 PHPMailer，

要发送 HTML 邮件，您只需设置 $mail->isHTML()，您可以使用 HTML 标签设置正文

这是一个写得很好的教程：

[rohitashv.wordpress.com/2013/01/19/how-to-send-mail-using-php/](http://rohitashv.wordpress.com/2013/01/19/how-to-send-mail-using-php/)

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-08-07T11:05:49.453

诀窍是在构建 html 正文部分时知道 Image mime 部分的内容 id。归结为制作 img 标签

[https://github.com/horde/horde/blob/master/kronolith/lib/Kronolith.php](https://github.com/horde/horde/blob/master/kronolith/lib/Kronolith.php)

查看函数 buildMimeMessage 以获取工作示例。

# .net - 继承类的异常处理

> ID：11238956
> 
> 赞同：-1
> 
> 时间：2012-06-28T06:11:41.257
> 
> 标签：.net, exception

我目前遇到的情况是，我继承的类在某些情况下会引发异常。当“继承”命令抛出异常时，是否有一种简单的方法可以“捕获”异常？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:24:33.823

很难理解这里问的是什么。

执行代码时抛出并捕获异常。你可能想在你的子类中定义一个“catch”子句来捕获你的超类中的所有异常，但这是一种错误的方法。您总是使用非常常见的 try-catch 块来捕获异常，并且您必须将其编写在使用（调用）可能引发异常的那些原始方法的代码中，而不是在子类中。这是因为程序必须知道在 catch 块执行后从哪里继续。

如果您只想“做某事并继续”，您可以使用 rethrow 命令（ C# 中的**throw;**）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T11:04:53.677

你需要做的就是把它放在一个 try...catch 块中。我不明白你面临什么问题。

```
Class SomeExistingClass
    Sub SomeMethodThatThrowsException()
        Throw New Exception("Demo exception!")
    End Sub
End Class

Class NewInheritedClass
    Inherits SomeExistingClass

    Sub SomeMethod()
        Try
            MyBase.SomeMethodThatThrowsException()
        Catch ex As Exception
            MessageBox.Show(ex.Message) ' or whatever
        End Try
    End Sub
End Class 
```

# c++ - c++向量不分配连续内存

> ID：11238958
> 
> 赞同：0
> 
> 时间：2012-06-28T06:11:50.803
> 
> 标签：c++, vector

C++ 中的 std :: 向量将对象存储在连续的内存位置。但是当我打印地址时，我发现这并没有发生。请让我知道为什么。代码在这里：

```
#include <iostream>
#include <vector>
using namespace std;
class a
{

     int val1;

};
vector<a> records(10);
int main()
{
     int i;
     for(i=0;i<12;i++)
         cerr<<"address"<<i<<"="<<&records[i]<<endl;
} 
```

我得到的输出在内存中不连续。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-28T06:16:53.610

首先，您显示的所有内存地址都是连续的 - 在您的系统上，整数的大小似乎是 4 个字节。

此外，您的向量大小为 10，并且您打印的地址最多为 12。不过，由于向量的内存分配策略，这不是问题。请记住，您应该更加小心。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-28T06:15:55.903

这些地址将相互偏移 A 类的大小。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-28T06:15:39.517

因为在您的系统中，every`int`的大小为 4 个字节。

# java - 计算Java中特定字符的频率

> ID：11238964
> 
> 赞同：-1
> 
> 时间：2012-06-28T06:12:15.360
> 
> 标签：java

我有以下代码。我想要做的是计算特定字符的频率，但我无法做到。任何人都可以提供任何提示吗？

```
import java.io.*;
import java.lang.*;
public class Mywork {

    /**
    * @param args the command line arguments
    */
    public static void main(String[] args) {
        // TODO code application logic here
        try {
            String str;
            System.out.println("Enter a String:");
            DataInputStream d=new DataInputStream(System.in);
            str=d.readLine();
            int count=0;
            System.out.println("You Entered  "+str);
            char a[]=new char[str.length()];
            int i=0;
            System.out.println("enetr the characte of which frequency is to be count:");
            char c=(char)d.read();
            System.out.println("you entered "+c);
            while(str!=null){
                if(str.charAt(i)==c){
                    count++;
                } else {
                    i++;
                }
                i++;
            }   
            System.out.println("Frequency of character "+c+"is "+count);
        } catch(Exception e){
            System.out.println("I/O Error");
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:12:56.460

用这个

```
public static int countOccurance(String inputString, String key) {
    int index = 0;
    int fromIndex = 0;
    int result = 0;

    if (inputString == null || key == null) {
        return 0;
    }

    while ((index = inputString.indexOf(key, fromIndex)) != -1) {
        result++;
        fromIndex = index + key.length;
    }
    return result;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:56:37.503

在您的循环中，您不需要 else 部分。

```
 while(i < str.length()){
     if(str.charAt(i)==c){
         count++;
     } 
     i++;
 } 
```

还需要按照 Thrustmaster 的建议将 str!=null 更改为 i < str.length()

只是好奇你为什么使用 DataInputStream.readLine。我看到它已被弃用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:13:26.357

条件是检查是否`i`仍然小于字符串的长度（即最后一个索引+1）。所以，更换

```
while(str!=null) 
```

和

```
while (i < str.length()) 
```

# php - 表单提交错误时输入值丢失

> ID：11238965
> 
> 赞同：1
> 
> 时间：2012-06-28T06:12:17.460
> 
> 标签：php, forms, validation, onsubmit

我的表单在 PHP 完成的验证中运行良好。我有三个字段：姓名、电子邮件和消息。表单和 PHP 代码在同一个 pgae 中，当用户提交表单时，会调用同一个页面进行验证。

当用户提交表单时，会调用同一页面并检查表单是否已提交。如果表单已提交，则对空白条目进行验证，并在字段下方抛出错误消息以通知用户该字段留空。它还在字段旁边显示错误图标。

到此为止，它工作正常。

但是，问题是，如果用户填写了任何字段，例如名称字段并将其他两个字段（电子邮件和消息）留空，那么在提交时，它会为空白字段抛出错误消息，这是可以的，但对于名称字段由用户填写，它清空内容并显示空白名称字段并且不显示错误（如早期用户填写的那样）。

我唯一担心的是，当它在提交后重新加载表单时，它还应该重新加载用户在提交之前输入的各个字段中的早期值。

下面是 PHP 验证代码。

```
<?php
error_reporting(E_ALL & ~E_NOTICE);

    if(isset($_POST['nameField_Name']) AND isset($_POST['nameField_EMail']) AND isset($_POST['nameField_Message']) AND isset($_POST['nameSubmit'])){  
        // Form Submited  
        if ($_POST['nameField_Name']) {
    $phpVarNameField = mysql_escape_string($_POST['nameField_Name']);
} else {
    $errormsgNameField = "Name field is required, Please enter your Name.";

}

if ($_POST['nameField_EMail']) {
    $phpVarEMailField = mysql_escape_string($_POST['nameField_EMail']);
} else {
    $errormsgEMailField = "E-Mail field is required, Please enter your E-Mail ID.";
}

if ($_POST['nameField_Message']) {
    $phpVarMessageField = mysql_escape_string($_POST['nameField_Message']);
} else {
    $errormsgMessageField = "Message field is required, Please enter your Message.";
}
    }  
?> 
```

下面是表格代码。

```
 <form name="myform" action="contactus.php" method="post"">
                <div id="r1">
                    <div id="r1c1">
                        <input type="text" name="nameField_Name" id="idField_Name" placeholder="Enter your name here"/>
                    </div>
                    <div id="r1c2">
                 <?php  
                      if(isset($errormsgNameField)){  // Check if $msg is not empty  
                  echo '<img src="error.png" width="45" height="45" style="margin: 5px 0px" alt="">';
                      }  
                    ?> 
                    </div>
                </div>
                <div id="afterr1">
               <?php  
                      if(isset($errormsgNameField)){  // Check if $msg is not empty  
                  echo '<div class="statusmsg" id="idErrorMsgNameField">'.$errormsgNameField.'</div>'; // Display our message and wrap it with a div with the class "statusmsg".  
                      }  
                    ?>  

                </div>
                <div id="r2">
                    <div id="r2c1">
                        <input name="nameField_EMail" type="text" id="idField_EMail" placeholder="Enter your E-Mail address here" />
                    </div>
                    <div id="r2c2">
                <?php  
                      if(isset($errormsgEMailField)){  // Check if $msg is not empty  
                  echo '<img src="error.png" width="45" height="45" style="margin: 5px 0px" alt="">';
                      }  
                    ?> 
                    </div>
                </div>
                <div id="afterr2">
                <?php  
                      if(isset($errormsgEMailField)){  // Check if $msg is not empty  
                  echo '<div class="statusmsg" id="idErrorMsgEMailField">'.$errormsgEMailField.'</div>'; // Display our message and wrap it with a div with the class "statusmsg".  
                      }  
                    ?>  
                </div>
                <div id="r3">
                    <div id="r3c1">
                        <textarea name="nameField_Message" id="idField_Message" placeholder="Enter your message for us here"></textarea>
                    </div>
                    <div id="r3c2">
                <?php  
                      if(isset($errormsgMessageField)){  // Check if $msg is not empty  
                  echo '<img src="error.png" width="45" height="45" style="margin: 115px 0px" alt="">';
                      }  
                    ?> 

                    </div>
                </div>
                <div id="afterr3">
                <?php  
                      if(isset($errormsgMessageField)){  // Check if $msg is not empty  
                  echo '<div class="statusmsg" id="idErrorMsgMessageField">'.$errormsgMessageField.'</div>'; // Display our message and wrap it with a div with the class "statusmsg".  
                      }  
                    ?>  
                </div>

                <div id="r4">
                    <div id="r4c">
                        <input type="Submit" name="nameSubmit" id="idButton_Submit" value="Submit"  alt="Submit Button"/>
                    </div>
                </div>
                </form> 
```

任何帮助都会很好。

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-28T06:17:07.853

您需要在元素`value`上添加一个属性：`<input>`

```
<input type="text"
       name="whatever"
       value="<?php echo htmlspecialchars($_POST['whatever']); ?>"
> 
```

如果 PHP 输出该字段可能更容易阅读：

```
<?php
printf('<input type="text" name="%s" value="%s">',
       'whatever',
       htmlspecialchars($_POST['whatever']));
?> 
```

这甚至可以包装在一个函数中，因此您无需为每个表单字段重新键入它。

注意对[htmlspecialchars](http://php.net/htmlspecialchars)的调用。它是必需的，这样`<`和`>`和引号不会破坏您的 HTML 文档。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T06:19:35.113

好吧，您可以使用 jQuery 验证插件进行验证 - 简单又好。[jQuery插件](http://docs.jquery.com/Plugins/Validation)

或者使用 PHP 将 POST 数据存储在数组中，检查错误和非空字段设置为输入文本的值。

```
if (isset($_POST)) {
    $data = $_POST;
}
foreach ($data as $row) {
    if ($row == "")
        $error = true; // do what ever you want
}

and then in form
<input type="text" name="name" value="<?php ($data['name'] != "")? $data['name'] : '' ?>" /> 
```

像这样的东西。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T06:37:02.197

尝试更改您的标签，例如：

```
<input type="text" 
  name="nameField_Name" 
  id="idField_Name" 
  placeholder="Enter your name here" 
  value ="<?php 
             if (isset($phpVarNameField)) 
              echo $phpVarNameField; 
         ?>"
/>
.......
<input 
   name="nameField_EMail" 
   type="text" 
   id="idField_EMail" 
   placeholder="Enter your E-Mail address here" 
   value ="<?php if (isset($phpVarEMailField)) echo $phpVarEMailField; ?>" 
 />
.......
<textarea name="nameField_Message" id="idField_Message" placeholder="Enter your message for us     
here" value ="<?php if (isset($phpVarMessageField)) echo $phpVarMessageField; ?>" ></textarea> 
```

祝你好运 ！

# codeigniter - 无法在 Codeigniter 中发送 html 表单电子邮件

> ID：11238971
> 
> 赞同：2
> 
> 时间：2012-06-28T06:12:48.493
> 
> 标签：codeigniter

我正在尝试使用 html 表单向客户发送电子邮件。

这是控制器文件。

```
$email = 'jc2332@gmail.com';

$title = 'Introducing our new product!';

$msg = $this->load->view('admin/email_new_version', '', true);

$config['mailtype'] = 'html';
$this->load->library('email', $config);

$this->email->from('cs@example.com', 'company');
$this->email->to($email); 

$this->email->subject($title);
$this->email->message($msg);    

$this->email->send(); 
```

对我来说看起来不错，但是当我收到邮件时 html 不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T09:04:47.337

尝试使用此配置并尝试在单独的命令中初始化电子邮件库：

```
$this->load->library('email');
$config['charset'] = 'utf-8';
$config['wordwrap'] = TRUE;
$config['mailtype'] = 'html';
$this->email->initialize($config); 
```

这应该工作！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T08:25:10.210

代码看起来不错。当您说“我收到邮件时html不起作用”时，您是什么意思？你在什么样的环境中托管它？

让我们尝试简单的调试：

1）检查是否正在加载模板：

```
echo $this->load->view('admin/email_new_version', '', true);
die(); 
```

2)[验证](http://validator.w3.org/)您的 HTML。

3) 尝试在`crlf`,`newline`和`charset`首选项中设置不同的值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-06-23T06:39:54.137

1.  转到系统/库/email.php
2.  检查 $mailtype 变量值
3.  设置 $mailtype='html'

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T08:36:04.447

我认为要关注的主要领域是您是否使用本地设置（如 wamp/lamp）或任何其他本地服务器安装，其中您使用常规 adsl 连接且端口不在局域网之外服务。

您需要在托管服务提供商中托管您的项目或打开您的端口以便能够服务于互联网（如果不采取安全预防措施并且没有运行邮件服务器的情况下不建议使用后者），以便使用电子邮件-> send() 函数正常工作

# sql - WHERE 子句中的日期范围从 90 天前到今天的日期

> ID：11238985
> 
> 赞同：7
> 
> 时间：2012-06-28T06:13:58.930
> 
> 标签：sql, sql-server, tsql

我编写了以下查询，但在 WHERE 子句中，我使用了特定日期作为日期范围。我希望自动计算日期范围——即到今天为止的 90 天。我该怎么做？

```
SELECT Orders.Day, 
Orders.Month,
Orders.Year, 
Orders.Orders_Count,Orders.PaymentAmount, 
Orders.Total_Payment_Authorized,
Orders.ShipCity,   
Orders.Total_Payment_Received, 
Orders.SalesTax1, 
Orders.SalesTax2, 
Orders.SalesTax3, 
Orders.TotalShippingCost, 
Orders.OrderDetails_Count,   
Orders.Quantity,
Orders.COGS, 
Orders.Profit,
Orders.ProfitMargin  
FROM (SELECT Orders.Day,Orders.Month,Orders.Year,Orders.Orders_Count,  Orders.PaymentAmount,Orders.Total_Payment_Authorized,Orders.ShipCity,Orders.Total_Payment_Received,Orders.SalesTax1,Orders.SalesTax2,Orders.SalesTax3,  Orders.TotalShippingCost,OrderDetails.OrderDetails_Count, OrderDetails.Quantity,OrderDetails.COGS,OrderDetails.Profit,OrderDetails.ProfitMargin   
FROM (SELECT DATEPART(DD, Orders.OrderDate) AS Day, DATEPART(MM, Orders.OrderDate) AS Month,DATEPART(YY, Orders.OrderDate) AS Year,    Max(Orders.OrderDate) As OrderDate ,Max(Orders.ShipDate) As ShipDate, Count(Orders.OrderID) As Orders_Count, Sum(Orders.PaymentAmount) AS PaymentAmount, Sum(Orders.Total_Payment_Authorized) AS Total_Payment_Authorized,Orders.ShipCity AS ShipCity,   
Sum(Orders.Total_Payment_Received) AS Total_Payment_Received, Sum(Orders.SalesTax1) AS SalesTax1,Sum(Orders.SalesTax2) AS SalesTax2 ,  Sum(Orders.SalesTax3) AS SalesTax3, Sum(Orders.TotalShippingCost) AS TotalShippingCost 
FROM (((Orders WITH(NOLOCK) LEFT JOIN PaymentMethods    WITH(NOLOCK) ON Orders.PaymentMethodID = PaymentMethods.PaymentMethodID) 
LEFT JOIN ShippingMethods WITH(NOLOCK) ON    Orders.ShippingMethodID = ShippingMethods.ShippingMethodID) 
LEFT JOIN Customers WITH(NOLOCK) ON Orders.CustomerID = Customers.CustomerID)     
WHERE Orders.OrderStatus <> 'Cancelled' GROUP BY Orders.ShipCity, DATEPART(DD, Orders.OrderDate),DATEPART(MM, Orders.OrderDate),DATEPART(YY, Orders.OrderDate))  Orders   
INNER JOIN (SELECT DATEPART(DD, Orders.OrderDate) AS Day,DATEPART(MM, Orders.OrderDate) AS Month,DATEPART(YY, Orders.OrderDate) AS Year,  Count(OrderDetails.OrderDetailID) As OrderDetails_Count,
Sum(OrderDetails.Quantity) AS Quantity,  Sum(OrderDetails.Vendor_Price * OrderDetails.Quantity) AS COGS,
Case When SUM(Vendor_Price) IS NULL Then null Else Sum((Case When OrderDetails.ProductCode like 'DSC-%' Then 
OrderDetails.ProductPrice - ISNULL(OrderDetails.Vendor_Price,0)  
Else OrderDetails.ProductPrice - OrderDetails.Vendor_Price End) * OrderDetails.Quantity) End AS Profit,     
CASE SUM(OrderDetails.ProductPrice * OrderDetails.Quantity) WHEN 0 THEN 0      
ELSE ROUND(((SUM(OrderDetails.ProductPrice * OrderDetails.Quantity) - SUM(OrderDetails.Vendor_Price * OrderDetails.Quantity)) / SUM(OrderDetails.ProductPrice * OrderDetails.Quantity)) * 100, 1)   END AS ProfitMargin       
FROM (((Orders WITH(NOLOCK) LEFT JOIN PaymentMethods WITH(NOLOCK) ON Orders.PaymentMethodID = PaymentMethods.PaymentMethodID)       
LEFT JOIN ShippingMethods WITH(NOLOCK) ON Orders.ShippingMethodID = ShippingMethods.ShippingMethodID) LEFT JOIN Customers       
WITH(NOLOCK)  ON Orders.CustomerID = Customers.CustomerID) LEFT JOIN OrderDetails WITH(NOLOCK) ON Orders.OrderID = OrderDetails.OrderID     
WHERE Orders.OrderStatus <> 'Cancelled' AND DATEDIFF(dd, Orders.OrderDate, '03/01/2012') <= 0 AND DATEDIFF(dd, Orders.OrderDate, '06/30/2012') >= 0 AND Orders.ShipPostalCode IN ('96704','96710','96718','96719','96720','96721','96725','96726','96727','96728','96737','96738','96739','96740','96743','96745','96749','96750','96755','96760','96764','96771','96772','96773','96774','96776','96777','96778','96780','96781','96783','96785') 
GROUP BY Orders.ShipCity, DATEPART(DD, Orders.OrderDate),DATEPART(MM, Orders.OrderDate), DATEPART(YY, Orders.OrderDate)) OrderDetails ON    Orders.Day = OrderDetails.Day AND Orders.Month = OrderDetails.Month AND  Orders.Year = OrderDetails.Year) Orders 
ORDER BY Orders.Day DESC,   Orders.Month DESC,Orders.Year DESC 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-28T06:24:14.027

如果是 Microsoft SQL 2000 或更高版本（05、08、10），则只需使用：

```
Where YourDate >= (GetDate() - 90) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:32:41.287

如果您想要从“当前月前 3 个月的月初”到“当前月末”的所有内容，这是您当前实际拥有的，您可以使用[`DATEDIFF`](http://msdn.microsoft.com/en-us/library/ms189794.aspx)and[`DATEADD`](http://msdn.microsoft.com/en-us/library/ms186819)一起使用：

```
WHERE
    Orders.OrderDate >= DATEADD(month,DATEDIFF(month,20010101,CURRENT_TIMESTAMP),'20001001') and
    Orders.OrderDate < DATEADD(month,DATEDIFF(month,20010101,CURRENT_TIMESTAMP),'20010201') 
```

虽然我不确定`OrderDate`未来意味着什么。

The date literals are carefully selected to have the relationship between them that we're seeking - e.g. 20001001 is the start of the month 3 months before 20010101\. 20010201 is the start of the month 1 month ahead of 20010101.

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-28T06:15:05.367

```
select * from mytable where mydate > date_sub(now(), interval 90 day) 
```

# php - 使用jquery一一显示进度条

> ID：11238988
> 
> 赞同：0
> 
> 时间：2012-06-28T06:14:18.120
> 
> 标签：php, javascript, jquery

我有一个带有进度条的图像列表。我想一张一张地显示进度条。

这意味着我有 5 张图片和 5 个进度条。当我点击上传按钮时，我想显示第一个进度条并在完成功能后执行相应的功能隐藏第一个进度条。并在完成功能后显示第二个进度条第二个图像隐藏第二个进度条，然后是第三个，依此类推。

我已经为此使用了 setTimeout() ，但效果不佳。

这是我的html代码：

```
<?php
    $sql = "SELECT * FROM `tblupload` WHERE `indeletestatus` = 0";
    $result = mysql_query($sql);
    $ids = "";
    if($result){
        while($row = mysql_fetch_object($result)){
            if($ids == "")
                $ids = $row->intid;
            else{
                $ids = $ids.",".$row->intid;
            }
?>
                    <div id="list<?php echo $row->intid;?>" class="list_item">
                        <input type="hidden" name="img<?php echo $row->intid;?>" id="img<?php echo $row->intid;?>" value="<?php echo $row->vchname;?>" />
                        <?php //echo $i;?>
                        <div id="load_img" class="list_item_img_div">
                           <!-- <img src="images/pouring-water.jpg" class="list_img_img" />-->
                            <img src="upload/thumb/<?php echo $row->vchname;?>" class="list_img_img" onClick="return main_img(<?php echo $row->intid;?>)" />
                        </div>
                        <div id="imgname" class="imgname">
                            <?php echo $row->vchname;?>
                        </div>
                        <div id="imgprogress<?php echo $row->intid;?>" class="imgprogress">
                            <img src="images/progress.gif" />
                        </div>
                        <div id="imgtrash<?php echo $row->intid;?>" class="imgtrash">
                            <img src="images/trash.png" onClick="return delete_img(<?php echo $row->intid;?>);" />
                        </div>
                     </div>
<?php
        }
    }
?>

<input type="hidden" name="ids" id="ids" value="<?php echo $ids;?>" /> 
```

这是我的 JavaScript 代码：

```
 Array.prototype.count = function () {
return this.length;
}
$(document).ready(function(){
$("#upload").click(function() {
                var ids = $("#ids").val();
                var arr = ids.split(",");
                var count = arr.count();
                for(i=0;i<count;i++){
                    idval = arr[i];
                    $("#imgprogress"+idval).css("display","block");
                    setTimeout("load_progress(idval)",2000);
                }
        });
  });   

 function load_progress(id){
        $("#imgprogress"+id).css("display","none");
    } 
```

问题是所有进度条同时显示，一段时间后唯一的第五个进度条隐藏了。

但是我想显示第一个进度条一段时间，然后第一个进度条在第二个进度条显示后消失，然后在一段时间后第二个将被隐藏和儿子。我怎样才能做到这一点？任何人都可以回答它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T07:37:33.400

它显示所有进度条并仅隐藏最后一个的原因是因为 for 循环不会在 setTimeout() 处停止。循环执行到最后，使所有进度条可见。

您应该尝试以下方式：

```
$("#upload").click(function() {
            var ids = $("#ids").val();
            var arr = ids.split(",");
            var count = arr.count();
            $("#imgprogress"+arr[0]).css("display","block");
            setTimeout("load_progress(arr,0,count)",2000);
});     

function load_progress(arr,i,count){
    $("#imgprogress"+arr[i]).css("display","none");
    if (i == count) return false;
    $("#imgprogress"+arr[i]).css("display","block");
    setTimeout("load_progress(arr,++i,count)",2000);
} 
```

# wix - WIX RemoveFIle 错误 LocalAppDataFolder

> ID：11238989
> 
> 赞同：0
> 
> 时间：2012-06-28T06:14:22.503
> 
> 标签：wix

我收到错误

“目录 TestDir 在用户配置文件中，但不在 RemoveFile 表中”

基本上我希望我的应用程序安装到本地通用“所有用户”文件夹而不是 Program Files 文件夹中。

所以我的目录结构为

```
<Directory Id="TARGETDIR" Name="SourceDir">
  <Directory Id="CommonAppDataFolder">
  </Directory>
  <Directory Id="SystemFolder"/>
  <Directory Id="StartupFolder"/>
  <Directory Id="DesktopFolder"/>
  <Directory Id="ProgramMenuFolder">
    <Directory Id="ProgramMenuVendorFolder" Name="Orion Integration">
    </Directory>
  </Directory>
  <Directory Id="LocalAppDataFolder">
     <Directory Id="ORIONDIR" Name="Orion Integration">
      <Directory Id="INSTALLDIR" Name="TestApp">
        <Directory Id="TestDir" Name="Test">

          <Component Id="BUILDINGFLOORMODELSDIR_C" Guid="A6BD61D8-FAC8-4D7D-881E-58CC2C4F9753"
            SharedDllRefCount="no" KeyPath="no" NeverOverwrite="no" Permanent="no" Transitive="no"
             Location="either">                
            <RegistryValue
              Root="HKCU"
              Key="Software\Orion Integration\Orion CMS"
              Name="InstalledBuildingFloorModels"
              Type="integer"
              Value="1" />
           <CreateFolder/>
           <RemoveFolder Id="BUILDINGFLOORMODELSDIR" On="uninstall"/>
          </Component>

        </Directory>
      </Directory>
  </Directory> 
```

............

我已将 RemoveFIle 放在组件部分中，但仍然出现错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T12:20:58.363

您需要使用该`<RemoveFolder />`元素指定一个目录。

代替

```
<RemoveFolder Id="BUILDINGFLOORMODELSDIR" On="uninstall"/> 
```

尝试

```
<RemoveFolder Id="TestDir" On="uninstall"/> 
```

# mysql - 错误：通过变量从其他表中插入值

> ID：11238991
> 
> 赞同：1
> 
> 时间：2012-06-28T06:14:32.567
> 
> 标签：mysql, sql, mysql-error-1064

这是我的查询：

```
set @agent_id = select agnt.id from agent agnt , session ses 
where ses.session_id = '0021a7ca-6e' and ses.employee_id = agnt.employee_id ;

insert into inquiry_placed_by(inquiry_id , agent_id) values(1 , @agent_id); 
```

我得到这个错误：

```
#1064 - You have an error in your SQL syntax; check the manual that corresponds to your 
MySQL server version for the right syntax to use near 'select agnt.id from agent agnt , 
session ses where ses.session_id = '0021a7ca-6e' at line 1 
```

这种操作在mysql中是可能的还是我错过了什么。
谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:18:12.793

替换前两行：

```
set @agent_id = (
select agnt.id from agent agnt , session ses 
where ses.session_id = '0021a7ca-6e' and ses.employee_id = agnt.employee_id ) ; 
```

# ruby-on-rails - 在 Rails 中通过 REST 发送 csv 文件

> ID：11238992
> 
> 赞同：0
> 
> 时间：2012-06-28T06:14:33.050
> 
> 标签：ruby-on-rails, ruby, rest

我必须通过 Rails 中的 REST 将 .csv 文件发送到远程服务器。

我尝试过 Net::HTTP 的 post_form 并将表单设置为多部分，通过此文件获取传输（在双方的参数中看到）但在服务器端我无法读取它。

它给出错误“没有这样的文件或目录”。
请任何人都可以告诉我是否有其他方式来传输文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:47:16.657

在找到这个并尝试了很多事情之后，我得到了很好的解决方案，我可以通过 REST Web 服务发送 csv 文件。这是解决方案...

[https://github.com/jwagener/httmultiparty](https://github.com/jwagener/httmultiparty)

也可以使用 REST Client 进行测试。

# sql - sql查询中的混乱

> ID：11238993
> 
> 赞同：-1
> 
> 时间：2012-06-28T06:14:42.857
> 
> 标签：sql, sql-server, tsql

看表（如TRClient）

```
| 身份证 | 客户ID | 标识 | 开始日期 | 结束日期 |
|----|---------|-----|--------------|------------ --|
| 1 | 10 | 1 | '2011-06-01' | '2012-05-31' |
| 2 | 25 | 3 | '2011-06-01' | '2012-05-31' |
| 3 | 10 | 1 | '2012-06-01' | '2013-05-31' |

```

**我**想要`clientid`其`enddate`不大于或等于它之前的记录 （两条记录之间的关系可以通过 确定）。**`enddate``sId`**

 **我进行了以下查询：（
这里我对 TRClient 中的每个客户端 ID 使用循环）

```
Select clientid from TRClient where clientId = 10 and sId = 1 and not (endDate >= '2012-05-31') 
```

我想检查每个客户的最高 id 记录（如果 clientid 和 sId 相同，那么它应该只检查一个 id 更大的记录。例如，如果我们正在谈论，在给定的表中`clientid = 10`，`sid = 1`我们将得到两行`(id = 1 and id = 3)`。在这里我想检查`enddate >= '2012-05-31' for id = 3)`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:41:45.760

如果`datetime`数据库中的列和您想要比较它们，那么您还需要一个有效的比较值。

试试这个：

```
SELECT clientid 
FROM TRClient 
WHERE clientId = 10 
  AND sId = 1 
  AND DATEDIFF(n, startDate,'05/31/2012') > 0 
```

如果您编写像 '05/31/2012' 这样的字符串格式，sql server 会尝试自动转换它。根据服务器区域设置，您可能会处理月/日。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T06:29:45.930

你是这个意思吗？

```
select * from TRClient trc1 join TRClient trc2 on trc1.id = trc2.sid 
where trc1.startDate <= trc2.endDate 
```

或者

```
select * from TRClient trc1 where exists
(select 1 from TRClient trc2 where trc2.sid = trc1.id and trc1.startDate <= trc2.endDate) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T06:34:44.840

```
SELECT ClientID
FROM   TRClient AS TRC1
WHERE  startDate < (SELECT EndDate
                    FROM   TRClient AS TRC2
                    WHERE  TRC2.ID = (SELECT Max(ClientID)
                                      FROM   TRClient AS TRC3
                                      WHERE  TRC3.ID < TRC1.ID)) 
```

我忘记使用 sID 和 ClientID 但您可以将它们添加到我的代码中，您明白了吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T06:59:46.457

这就是我想做的：

```
SELECT ClientId FROM TRClient WHERE Id = (SELECT MAX(Id) FROM TRClient
WHERE ClientId = 10 AND sId = 1) AND StartDate >= '2012-05-31' 
```**

# html - 间隔 gif 被 png 替换，在任何地方都找不到 img，所以我可以替换它。这里发生了什么？

> ID：11238998
> 
> 赞同：0
> 
> 时间：2012-06-28T06:15:30.373
> 
> 标签：html, css

我正在这个网站上工作[http://www.eluminatecreative.com/new/index.html](http://www.eluminatecreative.com/new/index.html)上面写着“sum'r fling”我需要用另一个 img 替换它，但我在任何地方都找不到它，我无法用图像替换垫片 img 并使其工作相同。这是什么原因造成的，我该如何更换它？这是我没有看到的某种 jQuery 代码吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T06:18:47.643

看看附在垫片上的类`<img>`

```
<img src="images/spacer.gif" width="405" height="52" alt="" class="myimage"> 
```

如果您查看相应的CSS：

```
.yellow_li:hover .myimage {
    background:url(../images/summr.png) repeat-y center bottom;
} 
```

因此，替换此图像：`http://www.eluminatecreative.com/images/summr.png`