# StackOverflow 问答 11610000-11610999

# c# - 谷歌 reCAPTCHA 的替代品

> ID：11610002
> 
> 赞同：2
> 
> 时间：2012-07-23T09:41:46.960
> 
> 标签：c#, asp.net, .net, captcha

我正在寻找 google reCaptchta 的不错选择。如果有井字游戏或选择图像或类似的东西，那就太好了。我希望它是简单的 asp.net 控件，我可以轻松地嵌入我的网站并在服务器端对其进行验证。

非常感谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T09:49:38.940

只需在 Google 上进行简单搜索：[http](http://www.getelastic.com/6-captcha-alternatives-to-improve-conversion/) ://www.getelastic.com/6-captcha-alternatives-to-improve-conversion/ 有 6 种替代方案。它们也包括**井字游戏**。:p

**编辑：**还有 10 种替代方法：[http ://woork.blogspot.ro/2009/02/10-free-captcha-scripts-and-services.html](http://woork.blogspot.ro/2009/02/10-free-captcha-scripts-and-services.html)

*** * * 编辑 * * ***

对于 ASP.NET，有以下替代方法：

*   [http://akismet.com/](http://akismet.com/)
*   [http://mollom.com/](http://mollom.com/)

# java - 如何在 jsf 2.0 中获取 html 元素的 jsf 前缀

> ID：11610005
> 
> 赞同：2
> 
> 时间：2012-07-23T09:41:48.583
> 
> 标签：java, jsf, jakarta-ee

我的 xhtml 表单代码：

```
 <h:inputText id="name" value="#{customer.name}" 
                size="20" required="true"
                label="Name" onblur="alert(this.value())" >
            </h:inputText> 
```

现在，当我查看源代码时，它呈现为

```
<input id="j_idt22:name" name="j_idt22:name" onblur="alert(this.value())" size="20"    type="text"> 
```

如果我们检查它们是否附加了一个前缀： **j_idt22:**，
我想以我的 bean 形式获取这个前缀名称。

我怎么能做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T09:53:39.420

为了避免在 JSF 组件中动态生成 id，您可以使用

```
<h:form prependId="false"> 
```

您可以直接获取与托管 bean 绑定的值

如果要检索名称列表，则可以使用`request.getParameterMap()`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-23T09:55:51.003

您看到的 id 是组件的客户端 id。如果你有一个绑定到你的 bean 中的组件，`component.getClientId(<FacesContext>)`将返回元素的 HTML id `(j_idt22:name)`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-23T10:06:44.390

您也可以为表单标签设置一个 id 以避免自动生成的 id。这样，您将知道自己设置的前缀。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-23T09:44:45.600

我认为您没有提到您的表单，如果提及表单名称，它将生成 id 作为 formname:idname。

# php - 如何从 SimpleXMLElement 获取属性

> ID：11610008
> 
> 赞同：2
> 
> 时间：2012-07-23T09:41:57.993
> 
> 标签：php, xml, arrays

> **可能重复：**
> [PHP 从 SimpleXMLElement 数组中获取值](https://stackoverflow.com/questions/2751711/php-get-values-from-simplexmlelement-array)

```
SimpleXMLElement Object
(
    [@attributes] => Array
        (
            [TotalAmount] => 4.75
        )
) 
```

`$services_arr->attributes`返回空

`$services_arr->@attributes`返回错误

我的问题是：如何获得总金额`4.75`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T09:48:13.120

以浮点数返回总金额：

```
$total_amount = (float)$services_arr['TotalAmount']; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T09:46:04.540

最好的办法是在你的类中创建一个函数，它返回所需的值，如下所示：

```
public function getTotalAmount () {
  return $this -> total_amount;
} 
```

并像这样要求它：

```
$services_arr -> getTotalAmount(); 
```

这也会使代码更安全，直接询问值不是好的做法。

# html - CSS - 背景图像上的填充

> ID：11610012
> 
> 赞同：0
> 
> 时间：2012-07-23T09:42:02.573
> 
> 标签：html, css, transparency

当我使用 .gif 或 jpg 图像时，以下代码通常对我很有效。

```
#contentBox1{ position:relative; width:980px; background:url(../images/bg-middle.png) repeat-y; min-height:80px;   }
#contentBox2{ position:relative; width:980px; background:url(../images/bg-top.png) no-repeat top; }
#contentBox3{ position:relative; width:980px; background:url(../images/bg-bottom.png) no-repeat bottom; min-height:500px; }

<div id="contentBox1"> <div id="contentBox2"> <div id="contentBox3">  Content Text Goes Here. </div> </div> </div> 
```

但正如你所见，我使用 .png 是因为一切都需要透明度才能看到背景。所以“middle.png”背景出现在页眉和页脚后面。我需要这个 div 顶部和底部的所有空间，但似乎无法找出最佳的 CSS 代码来完成这项工作。

[例子](http://webdesignmb.com/test/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T09:52:03.373

你可以试试这个：

1.  将`top + middle` **图像**组合成一张图像，并使中间部分非常长。
2.  将其放置为`background image`div 的。
3.  在上面的 div 中放置第二个`div`，底部图像与该 div 的底部对齐作为背景图像。使底部图像不透明，但用黄色填充云周围`bg colour`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:01:23.233

试试这个，重新排序你的div如下

```
<body>
<div id="contentBox2"></div>
<div id="contentBox1">
      <div id="content">Content Goes Here</div>
</div>
<div id="contentBox3"></div>
</body> 
```

然后按如下方式更改 CSS，这是一个更合乎逻辑的布局，应该更容易理解，内部的#content div 将为文本添加填充，使其出现在图像中。顶部和底部 div 的最小高度设置为图像的高度，因此您不会有任何背景颜色渗入。您可以将#ContentBox1 的最小高度更改为您想要的大小。

```
#contentBox2 {
    background: url("images/bg-top.png") no-repeat scroll center top transparent;
    margin: 0 auto;
    min-height: 304px;
    position: relative;
    width: 980px;
}

#contentBox1 {
    background: url("images/bg-middle.png") repeat-y scroll 0 0 transparent;
    margin: 0 auto;
    min-height: 560px;
    position: relative;
    width: 980px;
}

#contentBox3 {
    background: url("images/bg-bottom.png") no-repeat scroll center bottom transparent;
    margin: 0 auto;
    min-height: 240px;
    position: relative;
    width: 980px;
}

#content {
    padding: 40px;
} 
```

希望这可以帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:45:20.253

我使用了一点 Billys 的建议，但稍作改动。限制是它有一个最大高度。

```
#contentBox1{ position:relative; width:980px; background:url(images/bg-top.png) repeat-y top left; min-height:300px;  margin:0 auto;   }
#contentBox3{ position:absolute; bottom:-218px; width:980px; height:218px;  background:url(images/bg-bottom.png) no-repeat left bottom;  }  /* bg image is 240px; */
#content{ width:900px; position:relative; margin:0 auto; padding-top:85px;}

<div id="contentBox1">   <div id="content">Content text goes here. </div> <div id="contentBox3">  </div> </div> 
```

你可以看到[http://webdesignmb.com/test/](http://webdesignmb.com/test/)

# api - 简单的 Web 音频 API 示例在 JsFiddle 中播放，但不在本地播放

> ID：11610015
> 
> 赞同：0
> 
> 时间：2012-07-23T09:42:14.853
> 
> 标签：api, audio, web

我在这里找到了一个简单的网络音频 API 示例：http: [//jsfiddle.net/stuartmemo/xMruN/](http://jsfiddle.net/stuartmemo/xMruN/)

当我在 JsFiddle 中运行它时，它运行良好（在 Chrome 中）但是当我在本地复制代码时它不起作用。这是我在本地使用的代码：

```
<!DOCTYPE html >
<meta charset="UTF-8">
<title>Test</title>

<script type="text/javascript">
var context = new webkitAudioContext(),
oscillator = context.createOscillator();
oscillator.type = 3;
oscillator.frequency.value = 500;
oscillator.connect(context.destination);
oscillator.noteOn(0);​
</script> 
```

我觉得这有一个我忽略的简单解决方案，但我已经做了 20 分钟。顺便说一句，我正在 Web 服务器上运行我的本地示例（尽管我怀疑我应该这样做）。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T12:52:18.983

您应该像这样等待窗口加载：

```
window.addEventListener('load', function () {
    var context, oscillator;
    try {
        context = new webkitAudioContext();
    } catch (e) {
        alert("Your browser does not support Web Audio API");
    }
    oscillator = context.createOscillator();
    oscillator.type = 3;
    oscillator.frequency.value = 500;
    oscillator.connect(context.destination);
    oscillator.noteOn(0); // play it immediately
    oscillator.noteOff(1); // turn it off after 1 second from now
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:40:16.553

删除了这一行，它可以工作。

`oscillator.noteOn(0);`​</p>

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-29T17:02:06.307

振荡器类型不再用整数指定。改用字符串，例如

`oscillator.type = 'sawtooth';`

我不知道这是否是导致您的问题的原因。也许 JsFiddle 使用了较旧的网络音频 api 实现？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-08-31T16:30:48.027

> 删除了这一行，它可以工作。

```
oscillator.noteOn(0);​ 
```

noteOn 方法在 Web Audio API 中已弃用。您可以将该行更改为：

```
oscillator.start(0); 
```

......它应该按最初的预期工作。

> 顺便说一句，我正在 Web 服务器上运行我的本地示例（尽管我怀疑我应该这样做）。

实际上，除非您从服务器运行，否则某些 Web Audio API 的东西将无法工作。因此，您通过运行本地服务器来做正确的事情。

# iphone - 如何生成 .a 文件

> ID：11610016
> 
> 赞同：1
> 
> 时间：2012-07-23T09:42:17.037
> 
> 标签：iphone, objective-c, cocoa-touch, static-libraries

我很抱歉这个初学者的问题：

我创建了一个静态库，现在我想生成 .a，但没有运气。

我希望在按 Build 或 Run 后在“Products”组中有一个 .a，但它不存在。

请帮忙！

![在此处输入图像描述](../Images/08b88755ca1ef60d6f860ad4e22348e7.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T09:47:25.473

“静态库”通常*是*一个`.a`（归档）文件。作为静态库而*不是* `.a`静态库，您拥有什么？

由于没有 Obj-C、cocoa*或*iPhone 开发经验，我只能说 C/C++ 开发人员会使用[`ar`](http://sourceware.org/binutils/docs-2.22/binutils/ar.html#ar)将多个`.o`文件放入一个`.a`存档中。

# c# - C# 单元测试

> ID：11610017
> 
> 赞同：0
> 
> 时间：2012-07-23T09:42:21.607
> 
> 标签：c#, visual-studio-2010, testing

我正在实施以下测试：

```
[TestMethod]
public void Index_Get_RetrievesAllContributionsFromRepository()
{
    // Arrange
    Contributions Contribution1 = GetContributionNamed("Council", 2003);
    Contributions Contribution2 = GetContributionNamed("Council", 2004);

    InMemoryContributionRepository repository = new InMemoryContributionRepository();
    repository.Add(Contribution1);
    repository.Add(Contribution2);
    var controller = GetHomeController(repository);

    // Act
    var result = controller.Index();

    // Assert
    var model = (IEnumerable<Contributions>)result.ViewData.Model;
    CollectionAssert.Contains(model.ToList(), Contribution1);
    CollectionAssert.Contains(model.ToList(), Contribution2);
    CollectionAssert.xxxxxx(model.ToList().Count, Contribution1, 2);
} 
```

xxxxxx 的最后一个测试是尝试检查是否`Contribution1`有 2 个值，它确实如此。请问哪行代码执行该测试？

c#新手

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T09:51:19.120

听起来你只是想要：

```
Assert.AreEqual(2, model.Count()); 
```

但听起来你最好*使用*：

```
CollectionAssert.AreEquivalent(new[] { Contribution1, Contribution2 },
                               model.ToList()); 
```

...这可以取代你所有的三行。

在这两种情况下，请注意*预期*值应该是第一个参数，而*实际*值应该是第二个参数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T09:50:03.653

```
Assert.AreEqual(model.ToList().Count, 2); 
```

# javascript - javascript中的全局变量以获取地理位置

> ID：11610022
> 
> 赞同：3
> 
> 时间：2012-07-23T09:42:27.130
> 
> 标签：javascript, html, geolocation

我正在使用以下代码访问黑莓设备的地理位置。它的工作并显示出期望的结果。但我想在这个函数的主体之外访问 window.GlobalVar 。我怎样才能访问它？请帮忙。

```
 navigator.geolocation.getCurrentPosition(function(position) {  
  var gps = (position.coords.latitude+position.coords.longitude);  
  window.GlobalVar = gps;
  alert (window.GlobalVar);
}); 
```

最好的祝福，

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-23T09:45:01.920

`window.GlobalVar`将可以在您的功能之外访问。

这里可能出现的问题是您在设置它之前尝试访问它，因为它是在回调函数中设置的。

`getCurrentPosition`提示用户输入坐标，但它不是阻塞调用，即它不是简单地停止所有代码执行并等待用户做出决定。

这意味着您*不在*`window.GlobalVar`页面加载期间进行设置，您在页面加载期间*请求*它，并且*在用户决定时*设置它。所以无论你在哪里打电话`getCurrentPosition`，你都不能确定在给定的点，`window.GlobalVar`会被设置。

如果您想确保`window.GlobalVar`在您正在运行的脚本中设置了它，您需要确保在设置变量*后您正在运行脚本。*

```
navigator.geolocation.getCurrentPosition(function(position) {  
  var gps = (position.coords.latitude+position.coords.longitude);  
  window.GlobalVar = gps;

  continueSomeProcess();
});

function continueSomeProcess() {
   // this code will be able to access window.GlobalVar
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T09:43:49.970

`window.gps`设置后调用`window.gps = gps`应该足够了，因为它具有全局范围，因为您将其附加到`window`. 注意 JS 是异步的，即`gps`调用时可能没有定义。

# java - 单击在 Listitem Listview android 上不起作用

> ID：11610023
> 
> 赞同：33
> 
> 时间：2012-07-23T09:42:33.177
> 
> 标签：java, android, android-listview, listactivity

我`listview`用`ListActivity`. 在这里我遇到的问题是，当我单击列表项时，当闪烁颜色也没有出现时，没有执行任何操作，即橙色。那么，您对我的问题的这个友好回答有什么想法吗？

```
@Override
protected void onListItemClick(ListView l, View v, int position, long id) 
{
    super.onListItemClick(l, v, position, id);
    Toast.makeText(getApplicationContext(), "msg msg", Toast.LENGTH_SHORT)
            .show();

} 
```

我把这段代码也放到了 Main ListActivity 中。

* * *

## 回答 #1

> 赞同：122
> 
> 时间：2012-07-24T05:39:25.577

这里首先要注意的是，只要有像按钮这样的可点击元素或`ImageButtons`出现在您的`ListView`元素中，它们就会控制点击事件。所以你`ListView`将没有机会接受点击事件。

您只需要做的就是将`focusable`属性设置为 false`Button`或者`ImageButton`您在 ListView 中拥有的。但是它们仍然可以正常工作，而且您的 ListView`onListItemClick`也可以正常工作。

尝试这个，

```
 <Button  android:id="@+id/textsize_increaser"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_toRightOf="@+id/back_button"
        android:focusable="false"
        android:text=" A + "/> 
```

在这里我添加了这个`android:focusable="false"`，它工作正常。试试看。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-07-23T09:50:55.863

您是否将 ListView 的选择模式设置为 SINGLE ：

```
 listView.setChoiceMode(ListView.CHOICE_MODE_SINGLE); 
```

如果列表项中有任何可点击的 imageview 或 textview 或按钮，则使它们不可聚焦（在您的 Adapter 类中）：

```
 yourButton.setFocusable(false);
        yourButton.setFocusableInTouchMode(false); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-23T10:00:51.943

在你的 listactivity java 文件中设置它

```
listview1.setFocusable(false); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-07-23T09:58:28.807

您是否使用自定义适配器？并使用按钮或任何将列表列表视图焦点作为子项吃掉的视图来膨胀布局，那么它显然不会起作用。确保设置

```
 android:focusable="false" 
```

到 xml 文件中的此类视图。希望这对你有用。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-05-28T14:28:45.740

实际上有一个参数可以防止子视图获得焦点，只需在父布局中添加以下内容：

```
android:descendantFocusability="blocksDescendants" 
```

正如文档所解释的：

> ViewGroup 将阻止其后代接收焦点。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-05-03T20:09:34.140

Eclipse 建议我`textIsSelectable="true"`在用于列表视图的布局 xml 中添加到我的 TextViews。

好吧，如果您想单击列表中的项目，那么您不应该添加这些标签。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-07-11T04:33:11.283

确保你是

1.  不将滚动视图与列表视图一起使用
2.  不在列表视图的行项目布局中使用滚动视图

如果 Scroll View 出现在上述任何地方，请将其删除

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-06-27T14:35:22.120

请参阅此帖子以获取解决方案：

[单击在 Listitem Listview android 上不起作用](https://stackoverflow.com/questions/11610023/click-is-not-working-on-the-listitem-listview-android/17345235#17345235)

```
View v = parent.getChildAt(position);
parent.requestChildFocus(v,view);
v.setBackground(res.getDrawable(R.drawable."Some drawable for clicked row"));

int count = parent.getChildCount();
for(int i=0; i<count; i++)
{
   if(i!=position)
   {
     v = parent.getChildAt(i);
     v.setBackground(res.getDrawable(R.drawable."some drawable for not clicked row));
   }
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2014-04-12T08:24:27.983

```
listview.setOnItemClickListener(new OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> parent, View v, int pos,
                    long id) {
                Toast.makeText(v.getContext(), exm.get(pos).getDefinition(),
                        Toast.LENGTH_SHORT).show();

            }
        }); 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2018-02-19T06:21:10.007

```
listItemButton.setFocusable(false);
listItemButton.setFocusableInTouchMode(false); 
```

**在您的适配器**中设置上述内容。它不适用于**XML**

# pdf - 如何设置 PDF 标题的高度？

> ID：11610026
> 
> 赞同：3
> 
> 时间：2012-07-23T09:42:46.803
> 
> 标签：pdf, coldfusion, cfdocument

有谁知道我如何在生成的 pdf 中设置标题的高度`<cfdocumentitem format="pdf:...`？

我在用`<cfdocumentitem type="header">`

所以有类似的东西

```
<cfdocument format="pdf" marginbottom="0" margintop="4" marginleft="0" marginright="0" pagetype="a4" unit="cm" fontembed="no">
<cfdocumentitem type="header">
  This is my header.. I want to reduce the height but can't work out how.
<cfdocumentitem>
</cfdocument> 
```

在此先感谢您的任何指点。

杰森

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-24T13:54:24.057

使用**cfdocument**标记中的边距设置来控制为页眉或页脚保留多少空间。

因此，在您的情况下，将 margintop 值从 4 更改为较低的值。

```
<cfdocument format="pdf" marginbottom="0" margintop="4" marginleft="0" marginright="0" pagetype="a4" unit="cm" fontembed="no"> 
```

要进一步控制标题的外观，例如填充、行高，您需要在标题内容中添加 HTML 和 CSS 样式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-18T05:38:53.617

您可以在 cfdocument 中使用 marginTop = "number"。

```
<cfdocument
format = "PDF|FlashPaper"
authPassword = "authentication password"
authUser = "authentication user name"
backgroundVisible = "yes|no"
bookmark = "yes|no"
encryption = "128-bit|40-bit|none"
filename = "filename"
fontEmbed = "yes|no"
localUrl = "yes|no"
marginBottom = "number"
marginLeft = "number"
marginRight = "number"
marginTop = "number"
.... 
```

# c++ - 在 C++ 中对对象的输入数组进行排序

> ID：11610027
> 
> 赞同：0
> 
> 时间：2012-07-23T09:42:52.827
> 
> 标签：c++, vector, sorting

我有一个基类`Shape`和其他派生类`Circle`，`Square`以及`Triangle`. 我创建了三个基类指针的向量。

```
vector < Shape * > shapes( 3 );
shapes[ 0 ] = &C1; //Circle C1;
shapes[ 1 ] = &S1; //Square S1;
shapes[ 2 ] = &T1; //Triangle T1; 
```

之后，我使用了一个`loop`调用`virtualViaPointer()`虚函数的方法`draw()`

```
for (size_t i = 0; i < shapes.size(); ++i) {
    cout << endl;
    virtualViaPointer( shapes[ i ] );
}

void virtualViaPointer(const Shape * const baseClassPtr)
{
baseClassPtr->draw();
} 
```

每个派生类都有一个函数`getArea()`计算每个形状的面积并返回结果。

现在，我想使用`vector`上述方法对区域进行排序，并调用`getArea()`函数。我怎样才能做到这一点？例如，我的排序函数应该是这样的`sortShape(Array, numShape)`，其中是指向创建的形状`Array`的指针数组。`Shape`

任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T09:47:12.573

您可以将[std::sort](http://en.cppreference.com/w/cpp/algorithm/sort)与合适的比较函数一起使用：

```
bool compareArea(const Shape* lhs, const Shape* rhs){
  return lhs->getArea() < rhs->getArea();
}

...

std::sort(shapes.begin(), shapes.end(), compareArea); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T09:46:43.900

使用具有用户定义的排序标准的排序算法，例如

```
std::sort(shapes.begin(), shapes.end(), [](Shape * lhs, Shape * rhs)
{
  return lhs->getArea() < rhs->getArea();
}); 
```

# matlab - 基于开始和结束位置的两个向量matlab选择向量的元素

> ID：11610038
> 
> 赞同：1
> 
> 时间：2012-07-23T09:43:28.207
> 
> 标签：matlab, vectorization

感谢您在 matlab 中解决以下问题的帮助：我有一个向量，我想根据以下两个部分的开始和结束索引向量来选择它的部分：

```
aa = [1   22  41  64  83   105  127  147  170  190  212  233]
bb = [21  40  63  82  104  126  146  169  189  211  232  252] 
```

基本上我想在`V(1:21)`, `V(22:40)`,...上执行一些功能`V(233:252)`。我试过`V(aa:bb)`或`V(aa(t):bb(t))`在哪里`t = 1:12`但我只得到了`V(1:21)`，可能是因为`V(22:40)`有 19 个元素，而`V(1:21)`后者有 22 个元素。

有没有一种快速的编程方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:01:10.477

将您的选择放在一个单元格数组中，并将您的函数应用于每个单元格：

```
aa = [1   22  41  64  83   105  127  147  170  190  212  233]
bb = [21  40  63  82  104  126  146  169  189  211  232  252]
V = rand(252,1); % some sample data

selV = arrayfun(@(t) V(aa(t):bb(t)), 1:12,'uniformoutput',false);
result = cellfun(@yourfunction,selV)
% or
result = cellfun(@(selVi) yourfunction(selVi), selV); 
```

如果您要应用的函数对每个向量输入都有标量输出，那么这应该会给您一个 1x12 数组。如果函数提供矢量输出，则必须包含`uniformoutput`参数：

```
result = cellfun(@(selVi) yourfunction(selVi), selV,'uniformoutput',false); 
```

它为您提供了一个 1x12 单元阵列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T16:42:50.660

如果你想以高度浓缩的形式运行它，你可以写（为了清楚起见，用两行）

```
aa = [1   22  41  64  83   105  127  147  170  190  212  233]
bb = [21  40  63  82  104  126  146  169  189  211  232  252]
V = rand(252,1); % some sample data borrowed from @Gunther

%# create an anonymous function that accepts start/end of range as input
myFunctionHandle = @(low,high)someFunction(V(low:high));

%# calculate result
%# if "someFunction" returns a scalar, you can drop the 'Uni',false part
%# from arrayfun
result = arrayfun(myFunctionHandle(low,high),aa,bb,'uni',false) 
```

请注意，目前这可能比显式循环运行得更慢，但`arrayfun`在未来的版本中可能会是多线程的。

# google-sheets - 从 Google 电子表格中获取数据

> ID：11610045
> 
> 赞同：5
> 
> 时间：2012-07-23T09:43:50.000
> 
> 标签：google-sheets, google-sheets-api

如何从谷歌电子表格中获取数据？这不像在网页上嵌入谷歌文档。假设您在 google doc 中有一个由 10 行和 10 列组成的表。现在，您在 PHP 网页上创建了一个 10x10 的表格。现在，您将显示该 google 文档中单元格的相应值到您的 php 页面。这就像从 MySQL 数据库中获取数据并将它们显示在您的网页上一样。但在这里，我不想使用 MySQL 数据库，而是想使用 Google Doc 来完成其余的工作。但是我该怎么做呢？

谢谢你。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-22T18:45:00.077

Google 有一个用于电子表格的 REST API 和适用于多种语言的本机 API。

[https://developers.google.com/sheets/api](https://developers.google.com/sheets/api)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-19T13:04:27.100

如果您的数据是典型的表格布局（带有标题行的数据行） - 那么您可能会发现这个 python 库很有帮助：

[http://sheetsync.readthedocs.org/en/latest/](http://sheetsync.readthedocs.org/en/latest/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T16:08:38.837

Temboo 提供了一个 SDK 库，可以很容易地与多种语言的 Google 电子表格进行交互，包括 Java/Android、PHP、Ruby、Python、Node.js 和 Objective C。还有一个在线工具用于试验不同的 Google 电子表格 API来电。看看[https://www.temboo.com/library/Library/Google/Spreadsheets/](https://www.temboo.com/library/Library/Google/Spreadsheets/)

（全面披露：我在 Temboo 工作）

# c# - 我如何在 ListView 中对 LinkBut ton 进行排序

> ID：11610048
> 
> 赞同：0
> 
> 时间：2012-07-23T09:43:54.383
> 
> 标签：c#, asp.net, listview, sorting, active-directory

我的程序：

我有一个 ListView，它从 Active Directory 中获取数据。用户在文本框中输入一个字符串（姓氏或其中的一部分）。比 ListView 列出 TextBox 中具有相同字符串的所有 AD 用户。每行（行）都有一个按钮“Anzeigen”以获取有关用户的更多信息。

ASPX：

```
<asp:ListView runat="server" ID="myListView">

        <LayoutTemplate>
            <table id="UserTable" runat="server" border="0" cellspacing="10" cellpadding="2">
                <tr runat="server" id="Tr1" style="background-color:#E5E5FE">
                    <th runat="server"><asp:LinkButton ID="lnkBenutzer" runat="server" CommandName="Sort" CommandArgument="Benutzer" onsorting="ListView1_Sorting">Benutzer</asp:LinkButton></th>
                    <th runat="server"><asp:LinkButton ID="lnkemail" runat="server" CommandName="Sort" CommandArgument="eMail" onsorting="ListView1_Sorting" >eMail</asp:LinkButton></th>
                    <th runat="server"><asp:LinkButton ID="lnkVorname" runat="server" CommandName="Sort" CommandArgument="Vorname" onsorting="ListView1_Sorting" >Vorname</asp:LinkButton></th>
                    <th runat="server"><asp:LinkButton ID="lnkNachname" runat="server" CommandName="Sort" CommandArgument="Nachname" onsorting="ListView1_Sorting" >Nachname</asp:LinkButton></th>
                    <th runat="server"><asp:LinkButton ID="lnkTelefon" runat="server" CommandName="Sort" CommandArgument="Telefon" onsorting="ListView1_Sorting"  >Telefon</asp:LinkButton></th>
                </tr>
                <tr runat="server" id="ItemPlaceholder">
                </tr>
            </table>
        </LayoutTemplate>

        <ItemTemplate>

            <tr runat="server"> 

                <td align="left" ><asp:Label ID="Label1" Text='<%# Eval("Benutzer") %>' runat="server" /></td>
                <td align="left"><asp:Label ID="Label2" Text='<%# Eval("eMail") %>' runat="server" /></td>
                <td align="left"><asp:Label ID="Label3" Text='<%# Eval("Vorname") %>' runat="server" /></td>
                <td align="left"><asp:Label ID="Label4" Text='<%# Eval("Nachname") %>' runat="server" /></td>
                <td align="left"><asp:Label ID="Label5" Text='<%# Eval("Telefon") %>' runat="server" /></td>

             <td align="left"><asp:Button ID="Button1" Text="Anzeigen" OnCommand="Button1_Command" CommandName="Anzeigen" CommandArgument="MyArgument" runat="server" /></td>

            </tr>

        </ItemTemplate>

        <AlternatingItemTemplate>

            <tr style="background-color:#EFEFEF"> 

                <td align="left" ><asp:Label ID="Label1" Text='<%# Eval("Benutzer") %>' runat="server" /></td>
                <td align="left"><asp:Label ID="Label2" Text='<%# Eval("eMail") %>' runat="server" /></td>
                <td align="left"><asp:Label ID="Label3" Text='<%# Eval("Vorname") %>' runat="server" /></td>
                <td align="left"><asp:Label ID="Label4" Text='<%# Eval("Nachname") %>' runat="server" /></td>
                <td align="left"><asp:Label ID="Label5" Text='<%# Eval("Telefon") %>' runat="server" /></td>

             <td align="left"><asp:Button ID="Button1" Text="Anzeigen" OnCommand="Button1_Command" CommandName="Anzeigen" CommandArgument="MyArgument" runat="server" /></td> 

            </tr>

        </AlternatingItemTemplate> 
```

CS文件：

...

```
protected void ListView1_Sorting(object sender, ListViewSortEventArgs e)
        {
            //here???
        } 
```

...

我想要的是：

如果用户单击链接按钮“Benutzer”，则列表必须按字母排序：PI 查看网站[http://www.codeproject.com/Articles/24570/Complete-ListView-in-ASP-NET-3-5](http://www.codeproject.com/Articles/24570/Complete-ListView-in-ASP-NET-3-5)但在示例和下载文件中不存在这种排序方法:(

现在我不知道如何对列表进行排序。

所以我用数据填充我的列表：

```
protected void btnBenutzerSuchen_Click(object sender, EventArgs e)
        {
            DirectoryEntry Entry = new DirectoryEntry("LDAP://" + "Domain");

            string filter = "(&(objectClass=user)(objectCategory=person)(cn=" + txtBenutzer.Text + "*))";

            DirectorySearcher Searcher = new DirectorySearcher(Entry, filter);

            var q = from s in Searcher.FindAll().OfType<SearchResult>()
                    select new
                    {
                        Benutzer = GetProperty(s, "sAMAccountName"),
                        eMail = GetProperty(s, "mail"),
                        Vorname = GetProperty(s, "givenName"),
                        Nachname = GetProperty(s, "sn"),
                        Telefon = GetProperty(s, "telephoneNumber")
                    };

            this.myListView.DataSource = q;
            this.myListView.DataBind();

        } 
```

塔拉索夫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T09:58:17.663

在这里，您要根据 dataname 对数据进行排序。为此，您必须将 datakey 传递给 rowdataBound 事件。

喜欢' ：

```
protected void gvEmployeeList_RowCommand(object sender, GridViewCommandEventArgs e)
{
    if (e.CommandName == "name")
    {
        int index = Convert.ToInt32(e.CommandArgument);
        GridViewRow selectedRow = gvEmployeeList.Rows[index];
        string deptID = gridview1.DataKeys[index].Value.ToString().Trim();
         DataTable dtEmplist = new DataTable();
        dtEmplist = getFilterEmployeeList(deptID);
        if (dtEmplist.Rows.Count > 0)
        {
            gridview1.DataSource = dtEmplist;
            gridview1.DataBind();
        }
        else
        {
            lblMsg.Text = "No Data Available";
        }
    }
} 
```

获取数据密钥后

按 (GridViewSortEventArgs e) 排序

e.sortExpression 属性。

它会帮助你我的朋友......

# windows - linux/windows内核模块中的无限循环

> ID：11610049
> 
> 赞同：1
> 
> 时间：2012-07-23T09:43:55.553
> 
> 标签：windows, linux, kernel, insmod

如果我在 ubuntu10.04 linux 内核中安装一个运行的模块

```
while(1); 
```

部分地`init_module`，整个系统停止。

`while(1);`但是，如果我在部分运行的 Windows 7 中加载一个 sys 文件`DriverEntry`，系统会变慢但仍然可以工作。

有人可以解释一下为什么两个系统不同以及内核内部发生了什么吗？...

我认为在第一种情况下（无限循环`init_module`），系统没有理由停止。因为即使我`while(1);`进入`init_module`，它也在`insmod`用户应用程序的上下文中运行。因此必须通过硬件中断信号来调度流程无限循环。

这只是我的看法，如果我错了，我想知道细节......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T09:52:07.860

[init_module()](http://www.kernel.org/doc/man-pages/online/pages/man2/init_module.2.html)是一个系统调用，它运行在内核空间而不是用户空间。

从您所观察到的，看起来 NT 内核并行执行模块初始化，而 Linux 内核按顺序执行。这可能与它们各自的架构有关，NT 是[混合内核](http://en.wikipedia.org/wiki/Hybrid_kernel)，Linux 是[单片](http://en.wikipedia.org/wiki/Monolithic_kernel)的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T13:07:10.863

添加到 Frédéric 的答案：在 Windows 上，该`DriverEntry`函数以[IRQL](http://blogs.msdn.com/b/doronh/archive/2010/02/02/what-is-irql.aspx) `PASSIVE_LEVEL`运行（与几乎所有用户模式代码相同，如果我们排除 APC 的话）。这意味着它可以在任何时候被以更高 IRQL 运行的*任何代码中断。*所以你在这里可能遇到的是进入无限循环的线程仍在被调度（因此消耗 CPU 时间），但由于它的（低）IRQL 它不能饿死系统线程或其他大部分正在运行的代码。但是，它将能够饿死用户模式线程。效果可以是从减速到感知悬挂系统的任何东西。

# editor - 如何将 tinyMCE 升级到更新版本？

> ID：11610053
> 
> 赞同：3
> 
> 时间：2012-07-23T09:44:07.037
> 
> 标签：editor, tinymce, upgrade, text-editor

我正在使用`tinyMCE 3.2.6`，它在上面及以上无法正常工作`IE 9`。所以我想把它升级到 3.5.5

当我下载新版本的 tinyMCE 3.5.5 时，我看到所有类似的文件，如 tinyMCE 3.2.6，但唯一的区别是文件名`tiny_mce_src.js`在较新版本中，但`tiny_mce_cp.js`在旧版本中。

再次扭曲的是，`tiny_mce_src.js`（新版本）的内容与（旧版本）相似`tiny_mce.js`。

现在请让我知道如何将其升级到新版本。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T10:49:07.980

您需要做的就是用新文件覆盖旧文件（即使您认为没有任何改变！）。

# android - 以编程方式在 PQI Air 驱动器上读写

> ID：11610056
> 
> 赞同：0
> 
> 时间：2012-07-23T09:44:20.960
> 
> 标签：android, webdav

我有一个[PQI Air 驱动器](http://www.pqigroup.com/news_in.aspx?mnuid=1326&modid=236&nid=153) ，我需要使用 android 在此设备上以编程方式读取/写入数据。

制造商提供了一个专有的应用程序[S+Flash](https://play.google.com/store/apps/details?id=com.pqi.android.splus&hl=fr)可以读/写，但它不能用于允许编程访问。

我可以通过 HTTP 访问下载文件，所以我尝试使用 WEBDAV，但它似乎没有蠕虫（错误 451 或 501）和 FTP（匿名连接失败，500 OOPS：无法更改目录：/home）和 SMB .

任何想法 ？

是否可以捕获此应用程序在 Android 上进行的通信？

我用 nmap 进行了测试，得到了这个结果：

```
Starting Nmap 5.61TEST4 ( http://nmap.org ) at 2012-07-23 19:32 Paris, Madrid (heure d&#8217;été)

NSE: Loaded 87 scripts for scanning.

NSE: Script Pre-scanning.

Initiating ARP Ping Scan at 19:32

Scanning 192.168.2.1 [1 port]

Completed ARP Ping Scan at 19:32, 0.20s elapsed (1 total hosts)

Initiating Parallel DNS resolution of 1 host. at 19:32

Completed Parallel DNS resolution of 1 host. at 19:32, 16.57s elapsed

Initiating SYN Stealth Scan at 19:32

Scanning 192.168.2.1 [1000 ports]

Discovered open port 80/tcp on 192.168.2.1

Discovered open port 8080/tcp on 192.168.2.1

Discovered open port 445/tcp on 192.168.2.1

Discovered open port 139/tcp on 192.168.2.1

Discovered open port 21/tcp on 192.168.2.1

Discovered open port 23/tcp on 192.168.2.1

Completed SYN Stealth Scan at 19:32, 0.48s elapsed (1000 total ports)

Initiating Service scan at 19:32

Scanning 6 services on 192.168.2.1

Completed Service scan at 19:33, 81.51s elapsed (6 services on 1 host)

Initiating OS detection (try #1) against 192.168.2.1

NSE: Script scanning 192.168.2.1.

Initiating NSE at 19:33

Completed NSE at 19:34, 22.12s elapsed

Nmap scan report for 192.168.2.1

Host is up (0.016s latency).

Not shown: 994 closed ports

PORT     STATE SERVICE     VERSION

21/tcp   open  ftp         vsftpd 2.0.7

23/tcp   open  telnet      BusyBox telnetd

80/tcp   open  http?

|_http-methods: No Allow or Public header in OPTIONS response (status code 501)

|_http-title: Index of /

139/tcp  open  netbios-ssn Samba smbd 3.X (workgroup: WORKGROUP)

445/tcp  open  netbios-ssn Samba smbd 3.X (workgroup: WORKGROUP)

8080/tcp open  http-proxy?

|_http-methods: No Allow or Public header in OPTIONS response (status code 501)

MAC Address: 00:03:7F:FF:FF:FE (Atheros Communications)

Device type: general purpose

Running: Linux 2.6.X

OS CPE: cpe:/o:linux:kernel:2.6

OS details: Linux 2.6.17 - 2.6.36

Uptime guess: 0.021 days (since Mon Jul 23 19:03:20 2012)

Network Distance: 1 hop

TCP Sequence Prediction: Difficulty=203 (Good luck!)

IP ID Sequence Generation: All zeros

Service Info: OS: Unix

Host script results:

| nbstat: 

|   NetBIOS name: WIRELESS_FLASH_, NetBIOS user: &lt;unknown&gt;, NetBIOS MAC: &lt;unknown&gt;

|   Names

|     \x01\x02__MSBROWSE__\x02&lt;01&gt;  Flags: &lt;group&gt;&lt;active&gt;

|     WIRELESS_FLASH_&lt;00&gt;  Flags: &lt;unique&gt;&lt;active&gt;

|     WIRELESS_FLASH_&lt;03&gt;  Flags: &lt;unique&gt;&lt;active&gt;

|     WIRELESS_FLASH_&lt;20&gt;  Flags: &lt;unique&gt;&lt;active&gt;

|     WORKGROUP&lt;1d&gt;        Flags: &lt;unique&gt;&lt;active&gt;

|     WORKGROUP&lt;1e&gt;        Flags: &lt;group&gt;&lt;active&gt;

|_    WORKGROUP&lt;00&gt;        Flags: &lt;group&gt;&lt;active&gt;

|_smbv2-enabled: Server doesn't support SMBv2 protocol

| smb-security-mode: 

|   Account that was used for smb scripts: guest

|   User-level authentication

|   SMB Security: Challenge/response passwords supported

|_  Message signing disabled (dangerous, but default)

| smb-os-discovery: 

|   OS: Unix (Samba 3.3.4)

|   NetBIOS computer name: 

|   Workgroup: 

|_  System time: 1970-01-01 01:35:44 UTC+0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-14T10:50:36.743

尝试通过浏览器从端口 8080 下载文件到播放器。iPad - oplayer（内部浏览器），Android - 任何：MX 等。

```
ftp 192.168.100.1   user: root, pass: pqiab 
```

# jms - JMS 消息在收到后没有被删除

> ID：11610069
> 
> 赞同：0
> 
> 时间：2012-07-23T09:44:59.750
> 
> 标签：jms

这个问题的原因是什么？

连接，会话最后关闭。

我使用 WebLogic 作为 JMS 代理。而且我在 JMS 队列配置中的接收选项后没有找到自动删除。

# android - 使用 Surface 视图为逐帧动画设置动画结束侦听器

> ID：11610071
> 
> 赞同：0
> 
> 时间：2012-07-23T09:45:10.937
> 
> 标签：android, surfaceview, android-animation

我正在使用表面视图中的连续图像运行逐帧动画。我通过以下方式宣布活动：

```
 public class myView extends SurfaceView implements SurfaceHolder.Callback 
    {
        public myView (Context paramContext, Listener paramListener)
        {
            super(paramContext);
            getHolder().addCallback(this);
           //Some Code
        }

      public void doDraw(Canvas paramCanvas, int imgpos)
      { 
            // Animation from image source using InputStream
      }

     public boolean onTouchEvent(MotionEvent paramMotionEvent)
     {     
        return super.onTouchEvent(paramMotionEvent);        
     }

    public void surfaceChanged(SurfaceHolder paramSurfaceHolder, int paramInt1, int paramInt2, int paramInt3)
    {        
            //Some Code
    }

    public void surfaceCreated(SurfaceHolder paramSurfaceHolder)
    {
             //Some code
    }

   public void surfaceDestroyed(SurfaceHolder paramSurfaceHolder)
   {
           //Some Code
   }

} 
```

现在我正在尝试使用以下代码为上述动画结束事件实现监听器：

```
 public static abstract interface Listener
    {   
        public abstract void onAnimationEnd();
    } 
```

我坚持使用上面的代码，任何人都可以建议我如何在另一个活动中实现这个接口，以便我可以发现当前动画在 Surface View Activity 中结束。

提前致谢，

蒂姆

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:06:34.530

添加

```
setAnimationListener 
```

到你的动画。如果您在 xml 文件中以可绘制的形式分配动画，请查看 [此处](https://stackoverflow.com/questions/2785336/starting-frame-by-frame-animation)了解如何获取可绘制动画。

# java - 从 Java 小程序打开“字节数组文档”

> ID：11610073
> 
> 赞同：5
> 
> 时间：2012-07-23T09:45:24.203
> 
> 标签：java, applet

我有一个签名的小程序，它从 Web 服务中检索 PDF 文档，然后将其存储在临时文件夹中，然后在 Adob​​e Reader 上打开它。我想避免在本地存储文件，但我真的不知道如何实现它（我是 Java 小程序的新手）。

如果它是一个 Web 应用程序（即一个简单的 servlet），我可以将 PDF 内容写在`ServletResponse`; 然后浏览器会将其存储在其临时文件夹中，并使用 Adob​​e Reader（或与 MIME 类型关联的任何应用程序）打开它。

有没有类似的方法可以做到这一点......在Java小程序上？

到目前为止，这是我的代码：

```
public class MyListener implements ActionListener {
    public void actionPerformed(ActionEvent event) {
        // Retrieve the document contents
        byte[] content = webService.getPdfDocument(...);

        // Write to file
        File f = new File("my-document-filename.pdf");
        FileOutputStream fos = new FileOutputStream(f);
        fos.write(content);
        fos.close();

        // Open the file
        Desktop.getDesktop().open(new File("my-document-filename.pdf"));
    }
} 
```

[Desktop.open(File)](http://docs.oracle.com/javase/6/docs/api/java/awt/Desktop.html#open%28java.io.File%29)的任何替代方法，允许我通过 a`byte[]`而不是 a `File`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:53:56.417

1.  [Adobe reader 可以处理 URL:s](http://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&ved=0CFMQFjAA&url=http://partners.adobe.com/public/developer/en/acrobat/PDFOpenParameters.pdf&ei=wTMNUPj6KO-T0QWt9sH_Cg&usg=AFQjCNFjxQEivUPKTQMWMWjfDgOv10GhEQ&sig2=AGlOX7FgGdJ_92KvTYFgbw)，因此它可能是为文档创建临时 (?) URL 的一种方式。

2.  否则，您可以[`File.createTempFile`](http://docs.oracle.com/javase/6/docs/api/java/io/File.html#createTempFile%28java.lang.String,%20java.lang.String%29)从 API 创建一个临时文件 use ：

    > 在指定目录中创建一个新的空文件，使用给定的前缀和后缀字符串生成其名称。如果此方法成功返回，则保证：
    > 
    > 1.  返回的抽象路径名表示的文件在调用此方法之前不存在，并且
    > 2.  此方法及其任何变体都不会在虚拟机的当前调用中再次返回相同的抽象路径名。
    > 
    > 此方法仅提供临时文件功能的一部分。要安排自动删除由此方法创建的文件，请使用 deleteOnExit() 方法。

    因此，在您的情况下，您可以使用以下方法，而不是自己创建新文件：

    ```
    File f = File.createTempFile("tmp", ".pdf");
    f.deleteOnExit(); // deletes the file on exit
    ... 
    ```

# python - POS 标记性能缓慢。我可以做一些预热吗？

> ID：11610076
> 
> 赞同：14
> 
> 时间：2012-07-23T09:45:35.617
> 
> 标签：python, nltk

我正在使用 NLTK 对网络请求中的数百条推文进行 POS 标记。如您所知，Django 为每个请求实例化一个请求处理程序。

我注意到这一点：对于一个请求（约 200 条推文），第一条推文需要约 18 秒来标记，而所有后续推文需要约 120 毫秒来标记。我能做些什么来加快这个过程？

我可以做一个“预热请求”，以便为每个请求加载模块数据吗？

```
class MyRequestHandler(BaseHandler):
    def read(self, request): #this runs for a GET request
        #...in a loop:
            tokens = nltk.word_tokenize( tweet)
            tagged = nltk.pos_tag( tokens) 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-07-24T00:55:06.413

前 18 秒是将 POS 标记器从磁盘解压到 RAM 中。如果您想解决这个问题，请在请求函数之外自行加载标记器。

```
import nltk.data, nltk.tag
tagger = nltk.data.load(nltk.tag._POS_TAGGER) 
```

然后替换`nltk.pos_tag`为`tagger.tag`. 权衡是应用程序启动现在需要 +18 秒。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2015-11-13T11:47:20.003

如前所述，每次使用标准 pos_tag 方法时，NLTK 都会解压。对于 NLTK 3.1，假设您对 NLTK 的默认标记器 (PerceptronTagger) 感到满意，那么以下方法适用于我：

首先加载标注器：

```
from nltk.tag.perceptron import PerceptronTagger
tagger = PerceptronTagger() 
```

然后，每次您需要标记一些文本时：

```
tagset = None
tokens = nltk.word_tokenize('the mat sat on the cat')
tags = nltk.tag._pos_tag(tokens, tagset, tagger) 
```

这基本上绕过了主要方法。为我加速了数百次。我假设相同的方法适用于任何标记器。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-07-11T20:30:51.970

nltk 的 POS 标记器真的很慢：

对我来说，我可以在 243 秒内发布 13739 条推文：

1.  sent_tokenize 1.06190705299
2.  word_tokenize 4.86865639687
3.  pos_tag 233.487122536
4.  切块机 3.05982065201

请参阅[http://honnibal.wordpress.com/2013/09/11/a-good-part-of-speechpos-tagger-in-about-200-lines-of-python/](http://honnibal.wordpress.com/2013/09/11/a-good-part-of-speechpos-tagger-in-about-200-lines-of-python/) 但总结一下：

```
Tagger     | Accuracy | Time (130k words)
-----------+----------+------------------
CyGreedyAP |    97.1% | 4s
NLTK       |    94.0% | 3m56s
Pattern    |    93.5% | 26s
PyGreedyAP |    96.8% | 12s 
```

# java-me - j2me如何从SD卡访问数据库文件

> ID：11610077
> 
> 赞同：1
> 
> 时间：2012-07-23T09:45:45.507
> 
> 标签：java-me, midp, rms, jsr75

我是 J2ME 的新手。在我的应用程序中，我必须在数据库中存储大量数据并且必须访问它。但是由于 J2ME 中 RMS 的限制，我无法存储大量数据。

有没有办法从外部存储（SD卡）访问数据库文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T11:04:05.163

我部分同意 funkybro，即您不能将 RMS 保存到 SDCard。

您还可以使用文件来存储您的数据。但应该是最后的选择。

在这里，我建议您另一种选择，即在 SD 卡上安装您的应用程序，然后再安装用户。这样您的 RMS 将在存储卡上创建，因此不会出现空间问题。但是您可能面临的问题是，如果您在 s40 系列设备上使用此应用程序，那么您的堆内存将被限制为 2MB。您的应用程序可能会在执行期间崩溃。如果您使用的是 s60 系列设备，它将正常工作。

我还希望您查看我的这个[答案](https://stackoverflow.com/a/9141116/996493)以获取更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:09:53.793

如果您真的问“我可以将 RMS 保存到 SD 卡”，答案是否定的，您无法控制设备将 RMS 数据保存在何处。

您需要使用 JSR-75 以您自己的格式将数据保存在 SD 卡上。

# wpf - WPF + PRISM - 无法在单独的线程中“加载模块”

> ID：11610083
> 
> 赞同：0
> 
> 时间：2012-07-23T09:46:18.770
> 
> 标签：wpf, prism, loadmodule

我在 PRISM 架构中有一个 WPF 应用程序。

当应用程序加载时，我有一个显示在“主要区域”中的“登录视图”。

当用户按下“登录”时 - 我连接到 WCF 服务，对用户进行身份验证，并从服务中获取该用户的角色列表。

然后 - 根据用户的角色 - 我使用“模块管理器”加载不同的模块。

问题是 - 我希望按下“登录”按钮后的所有工作都在单独的线程中完成，因为连接到服务等可能需要时间，而且我不希望 UI 被冻结。

但是 - 如果我将代码“连接、验证、获取角色、加载模块”放在一个单独的线程中 - 当我调用“_moduleManager.LoadModule”时会出现异常：

**调用线程必须是 STA，因为许多 UI 组件都需要这个。**

我该如何解决这个问题？

我尝试了不同的解决方案。我试图设置新线程的“Apartment State = STA”，但没有帮助。我想过在 View-Model 的构造函数中保存“Dispatcher”对象，然后在调用“LoadModule”时执行“dispatcher.Invoke”，但这是不好的设计（View-Model 不应该使用 Dispatcher，还有它不利于测试）。

有什么想法可以解决这个问题吗？

只有“LoadModule”让我感到悲伤，所有其他的东西都很好。

.

**[更新] - 添加代码示例：**

```
[Export]
public class LoginViewModel : NotificationObject
{
    [ImportingConstructor]
    public LoginViewModel(IRegionManager regionManager, IModuleManager moduleManager)
    {
        this.LoginCommand   = new DelegateCommand(LoginExecute, LoginCanExecute);
        this._regionManager = regionManager;
        this._moduleManager = moduleManager;
    }

    private void LoginExecute()
    {
        IsBusy = true; // Set this to 'true' so controls go disabled
        LoginStatus = ""; // Clear the 'login status' string

        Thread loginThread = new Thread(new ThreadStart(LoginWork));
        loginThread.SetApartmentState(ApartmentState.STA);
        loginThread.Start();
    }

    private void LoginWork()
    {
        ParamsToGetRoles param = new ParamsToGetRoles
        {
            Username = Username,
            InputtedPassword = Password
        };

        try
        {
            // Connect to the secure service, and request the user's roles
            _clientSecure = new AuthenticationServiceClient("WSHttpBinding_MyService");
            _clientSecure.ClientCredentials.UserName.UserName = param.Username;
            _clientSecure.ClientCredentials.UserName.Password = param.InputtedPassword;
            _clientSecure.ChannelFactory.Faulted += new EventHandler(ChannelFactory_Faulted);
            var local = _clientSecure.ChannelFactory.CreateChannel();
            _clientSecure.GetRolesCompleted += new EventHandler<GetRolesCompletedEventArgs>(clientSecure_GetRolesCompleted);
            _clientSecure.GetRolesAsync(param);
        }
        catch (Exception ex)
        {
        Console.WriteLine("Exception : " + ex.Message.ToString());
        }
    }

    void clientSecure_GetRolesCompleted(object sender, GetRolesCompletedEventArgs e)
    {
        if (e.Error == null)
        {
            _clientSecure.Close();
            LoginSuccess(e.Result.UserRoles);
        }
        else
        {
            LoginFailure("Unable to authenticate");
        }
        _clientSecure = null;
    }

    private void LoginSuccess(List<UserTypeEnum> rolesOfAuthenticatedUser)
    {
        LoginStatus = "Success";

        if (rolesOfAuthenticatedUser.Contains(UserTypeEnum.Administrator))
        {
            // This is what throws the exception !
            // This is called by the 'EndInvoke' of the 'GetRoles' operation, 
            // Which was called in the 'LoginWork' function which was run on a separate thread !
            _moduleManager.LoadModule(WellKnownModuleNames.ModuleAdmin);
        }

        NavigateToMainMenu();

        this.IsBusy = false;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-24T08:40:28.003

您应该附加调试器并检查断点设置在的线程窗口`clientSecure_GetRolesCompleted`。我很确定它不是从 loginThread 调用的：虽然`LoginWork`它确实在 loginThread 中运行，但它会在异步操作的完成事件中添加一个事件处理程序。Async = 在另一个线程中运行。

那么可能会发生什么：

*   `LoginExecute`在 UI 线程中执行
*   启动一个单独的线程 B 运行`LoginWork`
*   调用`GetRolesAsync`所以启动一个线程 C（*不是*STA）来获取角色
*   线程 C 最终调用“clientSecure_GetRolesCompleted”，而不是线程 B

因此，您不需要单独的线程，`LoginWork`因为实际工作已经作为异步操作完成。要解决加载问题，请尝试使“获取角色”线程成为 STA，或者更好的是，使用调度程序以便`LoginSuccess`在 UI 线程上调用。

# c# - 在 ViewModel 中使用 SelectList 制作 DropDownList

> ID：11610085
> 
> 赞同：0
> 
> 时间：2012-07-23T09:46:36.777
> 
> 标签：c#, asp.net-mvc-3, drop-down-menu

`SelectList`我一直在尝试使用该课程制作一个下拉列表。我的意思**不是**以下。

```
public class MyViewModel
{
    public int SelectedValue { get; set; }
    public IEnumerable<int> ValueList { get; set; }
} 
```

有很多关于如何让它发挥作用的例子，我有。我希望`SelectList`在视图模型中使用上述类。

```
public class MyViewModel
{
    public SelectList ValueList { get; set; }
} 
```

我怀疑，这样做的好处是当将结果传递给控制器​​并且`ModelState`无效时，你可以这样做`return View(model)`，一切都会照原样。如果将其拆分，则必须再次获取项目列表，以某种方式设置所选值。太不方便了！

没有人在视图模型中使用 SelectList 是有原因的吗？如果可能的话，我会很感激一个工作示例:)

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T15:43:19.533

我的项目中有这样的场景。我正在使用 MVC3，但我相信这会适用。

在我的 ViewModel 中，我有一个属性定义如下：

```
 private List<SelectListItemWithAttributes> pLeadDispositions = null;
    public List<SelectListItemWithAttributes> LeadDispositions {
        get {
            var LeadDispositionItems = (
                from c in db.GetLeadDispositionList(1, 1000)
                where c.AccountTypeID == this.AccountTypeID
                select new SelectListItemWithAttributes() { Text = c.Title, Value = c.ID.ToString(), HtmlAttributes = new Dictionary<string, string> { { "data-callback", c.RequiresCallback.ToString().ToLower() } } } ).ToList()
            ;

            LeadDispositionItems.Insert(0, new SelectListItemWithAttributes() { Text = "-- Select --", Value = "", HtmlAttributes = new Dictionary<string, string> { { "data-callback", "false" } } });

            return LeadDispositionItems;
        }
    } 
```

SelectListItemWithAttributes 只是我正在使用的 SelectListItem 的子类，因此您可以将其替换为 SelectListItem 并修改参数列表。GetLeadDispositionList 是一个存储过程，可以从数据库中获取我需要的数据。

在我看来是这样的：

```
@Html.DropDownListWithItemAttributesFor(m => m.LeadDispositionID, Model.LeadDispositions) 
```

DropDownListWithItemAttributesFor 是我在项目中使用的 DropDownListFor 的子类，因此只需替换 DropDownListFor

我知道这不是您正在寻找的东西，但也许它会让您指向正确的方向。

我希望这有帮助。

# android - 在Android中更改方向时停止自定义动画效果

> ID：11610091
> 
> 赞同：0
> 
> 时间：2012-07-23T09:47:04.033
> 
> 标签：android, animation, orientation

在这里，我开发了一个 android 应用程序，在应用程序中，我在 ImageView 上给出了带有动画列表可绘制 xml 文件的帧动画，它工作得很好，但是当我改变方向动画停止工作时。

请帮助我，在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T09:53:09.507

我得到了我的问题的答案

仅在特定活动标签中写入 AndroidManifest 文件

# plsql - 从匿名 PL/SQL 块报告故障

> ID：11610098
> 
> 赞同：1
> 
> 时间：2012-07-23T09:47:24.680
> 
> 标签：plsql, custom-errors

以下 SQL*Plus 脚本

```
WHENEVER OSERROR EXIT FAILURE
WHENEVER SQLERROR EXIT FAILURE

DECLARE
    EXIST_INDEXES BOOLEAN := FALSE;
BEGIN
    FOR INDEX IN (SELECT * FROM INDEXES)
    LOOP
        EXIST_INDEXES := TRUE;
        DBMS_OUTPUT.PUT_LINE(INDEX.SCHEMA || '.' || INDEX.NAME);
    END LOOP;

    IF EXIST_INDEXES THEN
        RAISE_APPLICATION_ERROR(-20000,'Before proceeding, it is recommended to drop the indexes listed above');
    END IF;
END;

-- Here go SQL statements that should be executed if no indexes were found 
```

当表/视图索引中有条目时产生此输出：

```
SCHEMA_1.INDEX_1
DECLARE
*
ERROR at line 1:
ORA-20000: Before proceeding, it is recommended to drop the indexes listed above
ORA-06512: at line 13 
```

当表/视图索引中有条目时，如何：

*   禁止`DECLARE`和`*`行出现在脚本输出中；
*   跳过执行 PL/SQL 块之后的 SQL 语句；
*   脚本是否返回非零代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:06:08.417

我不确定您是否可以自定义 SQL*Plus 的错误输出。但是，这`DECLARE`将是标准的，您可以在之后使用脚本对其进行过滤。

关于您的其他问题，SQL*Plus 在出现错误时的行为由[`WHENEVER SQLERROR`](http://docs.oracle.com/cd/E11882_01/server.112/e16604/ch_twelve052.htm#i2700066)命令控制。在您的情况下，如果您想在出现错误时使用错误代码退出，您可以在脚本开头输入以下命令：

```
WHENEVER SQLERROR EXIT FAILURE ROLLBACK 
```

# paypal-sandbox - 贝宝沙盒支付数据传输

> ID：11610104
> 
> 赞同：1
> 
> 时间：2012-07-23T09:47:36.993
> 
> 标签：paypal-sandbox

我对贝宝沙盒“付款数据传输”有疑问。收到交易 ID 后，我将使用身份令牌将其发送回贝宝以获取交易详细信息。

我已遵循此文档“http://media.albendas.com/Web2py_Paypal_Integration.pdf”。

```
password_mgr= urllib2.HTTPPasswordMgrWithDefaultRealm()
base_url='https://www.sandbox.paypal.com'
header = {'Content-Type ':' application/x-www-form-urlencoded'}
path = '/cgi-bin/webscr'
data = "cmd=_notify-synch&tx="+trans+"&at="+key
password_mgr.add_password(self.realm,base_url,self.username,self.password)
handler = urllib2.HTTPBasicAuthHandler(password_mgr)
opener =urllib2.build_opener(handler)
urllib2.install_opener(opener)
req=urllib2.Request(base_url+path,data,header)
ret = opener.open(req) 
```

通常我应该收到一条消息，要么是成功，要么是失败。但对我来说总是得到返回页面，因为我们目前无法完成您的请求。请单击重试或稍后重试。我们对不便表示抱歉。消息 3004。

请指教。另外请告诉我，什么是领域参数。提前致谢。

# sql - 每次使用 select count(*) 或直接将计数保存为数字

> ID：11610107
> 
> 赞同：-5
> 
> 时间：2012-07-23T09:47:54.247
> 
> 标签：sql, database, select, count

今天在创建数据库时，我发现在这种情况下可以使用 select count(*) 或将计数保存为数字。

所以我想知道它们之间是否存在一些性能差异？如何选择？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T09:49:47.330

Count(*) 是最可靠的，因为即使从表中删除了某些行，它也会给出正确的计数

# c - C 预处理器：字符串化宏和标识宏

> ID：11610111
> 
> 赞同：7
> 
> 时间：2012-07-23T09:48:06.447
> 
> 标签：c, macros, c-preprocessor, stringification

我想知道这段代码输出背后的原因。我想不出答案。

```
#define f(a,b) a##b
#define g(a) #a
#define h(a) g(a)
void main()
{
   printf("%s %s",h(f(1,2)),g(f(1,2)));
} 
```

PS：输出是`12 f(1,2)`. 我以为是`12 12`或`f(1,2) f(1,2)`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T10:06:04.623

```
h(f(1,2)) 
```

`f(1,2)`被取代`a`。`a`不是 a`#`或`##`运算符的主题，因此它扩展为`12`. 现在你有`g(12)`which 扩展为`"12"`.

```
g(f(1,2)) 
```

`f(1,2)`被取代`a`。`#`用于防止宏扩展的运算符`a`，因此结果字面意思是`"f(1,2)"`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-23T09:59:19.867

只做替换。

```
h(f(1, 2)) -> g(12) -> "12"

g(f(1,2)) -> "f(1, 2)" 
```

你也应该看到[这里](http://c-faq.com/ansi/stringize.html)。

# qt - 使用 Symbian Qt 显示 WLAN 选择对话框

> ID：11610114
> 
> 赞同：5
> 
> 时间：2012-07-23T09:48:22.540
> 
> 标签：qt, symbian

当默认接入点不起作用时，我想为用户提供一个包含可用 wlan 接入点列表的对话框。根据`QNetworkConfiguration`参考资料，当配置的类型为 时`UserChoice`，`QNetworkSession::open`会弹出一个选择配置的对话框。但我在 N8（与 Symbian Anna）上的经验是

*   我曾经使用过的每个 wifi 接入点都显示为“连接”>“设置”>“目的地”中“互联网”目的地的一部分，

*   这导致在 中只有一个配置`QNetworkConfigurationManager::allConfigurations(QNetworkConfiguration::Discovered)`，其名称为“Internet”并键入`ServiceNetwork`

那么是否可以更改 N8 中的连接设置以获得具有`UserChoice`类型的配置，它会解决我的问题吗？

什么是使用户可以从 Qt/QML 应用程序连接到新的 wlan 访问点而不进入设置的正确方法？

# dynamics-crm - FetchXml System.OutOfMemory 异常

> ID：11610116
> 
> 赞同：2
> 
> 时间：2012-07-23T09:48:27.347
> 
> 标签：dynamics-crm, dynamics-crm-2011, fetchxml

正如我从谷歌搜索中了解到的，MSCRM 2011 最多检索 5000 个实体，但我希望我的所有实体都来自营销列表。正如网上所写，在 HKLM\Software\Microsoft\MSCRM 上创建“TurnOffFetchThrottling”字段并将值设置为 1 可以解决此 5000 限制问题（此外，我在注册表中添加了 MaxRowsPerPage 字段并将其值设置为大于 5000，但它也不起作用）。我试过了，我得到了 System.OutOfMemory Exception 错误。顺便说一句，当我删除“”并获得 id 属性代码时效果很好，但我需要所有属性。这是我的 fetchxml 代码：

```
enter code here
string fetchXml = "<fetch mapping='logical' >"
                  + "<entity name='" + entityType.LogicalName + "'>"
                    + "<all-attributes />"
                    + "<link-entity name='listmember' to='" + entityType.LogicalName + "id" + "' from='entityid'>"
                        + "<filter>"
                          + "<condition attribute='listid' operator='eq' value='" + chosenMarketingListGuid + "'/>"
                        + "</filter>"
                    + "</link-entity>"
                  + "</entity>"
                + "</fetch>"; 
```

我又尝试了一件事，我将 fetchxml 更改为：

```
enter code here
string fetchXml = "<fetch mapping='logical' >"
                  + "<entity name='listmember'>"
                    + "<all-attributes />"
                        + "<filter>"
                          + "<condition attribute='listid' operator='eq' value='" + chosenMarketingListGuid + "'/>"
                        + "</filter>"
                  + "</entity>"
                + "</fetch>"; 
```

正如所见，我尝试仅检索成员列表而不是联系人/潜在客户/帐户实体类型，并且它有效！但是，我需要联系人/潜在客户/帐户实体类型而不是成员列表。如果有人帮助我走出这条黑暗的 MSCRM 隧道，我将不胜感激！

在这里，完整的堆栈跟踪：

> [OutOfMemoryException：引发了“System.OutOfMemoryException”类型的异常。] System.ServiceModel.Security.SecurityUtils.ReadContentAsBase64(XmlDictionaryReader reader, Int64 maxBufferSize) +197 System.ServiceModel.Security.EncryptedData.ReadCipherData(XmlDictionaryReader reader, Int64 maxBufferSize) + 17 System.ServiceModel.Security.EncryptedType.ReadFrom(XmlDictionaryReader reader, Int64 maxBufferSize) +858 System.ServiceModel.Security.WSSecurityOneDotZeroReceiveSecurityHeader.DecryptBody(XmlDictionaryReader bodyContentReader, SecurityToken token) +80 System.ServiceModel.Security.WSSecurityOneDotZeroReceiveSecurityHeader.ExecuteMessageProtectionPass(Boolean hasAtLeastOneSupportingTokenExpectedToBeSigned) +1611 System.ServiceModel.Security.ReceiveSecurityHeader.Process（时间跨度超时，ChannelBinding channelBinding, ExtendedProtectionPolicy extendedProtectionPolicy) +1576 System.ServiceModel.Security.MessageSecurityProtocol.ProcessSecurityHeader(ReceiveSecurityHeader securityHeader, Message& message, SecurityToken requiredSigningToken, TimeSpan timeout, SecurityProtocolCorrelationState[] correlationStates) +205 System.ServiceModel.Security.SymmetricSecurityProtocol.VerifyIncomingMessageCore(Message& message,字符串演员，TimeSpan 超时，SecurityProtocolCorrelationState[] correlationStates）+637 System.ServiceModel.Security.MessageSecurityProtocol.VerifyIncomingMessage（消息和消息，TimeSpan 超时，SecurityProtocolCorrelationState[] correlationStates）+371 System.ServiceModel.Channels.SecurityRequestChannel.ProcessReply（消息回复，SecurityProtocolCorrelationState相关状态，TimeSpan 超时）+471 System.ServiceModel.Channels.SecurityRequestChannel.Request（消息消息，TimeSpan 超时）+175 System.ServiceModel.Dispatcher.RequestChannelBinder.Request（消息消息，TimeSpan 超时）+22 System.ServiceModel.Channels.ServiceChannel.Call （字符串操作，布尔单向，ProxyOperationRuntime 操作，Object[] 输入，Object[] 输出，TimeSpan 超时）+517 System.ServiceModel.Channels.ServiceChannelProxy.InvokeService（IMethodCallMessage methodCall，ProxyOperationRuntime 操作）+88 System.ServiceModel.Channels.ServiceChannelProxy .Invoke(IMessage 消息) +453 System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData& msgData, Int32 类型) +237 Microsoft.Xrm.Sdk.IOrganizationService.RetrieveMultiple(QueryBase 查询) +0 Microsoft.Xrm.Sdk.Client .OrganizationServiceProxy.RetrieveMultipleCore(QueryBase query) +626 Microsoft.Xrm.Sdk.Client.OrganizationServiceProxy.RetrieveMultiple(QueryBase query) +39 IMPlugin.MarketingListHelper.getMembersAndCountOfChosenMarketingList(OrganizationServiceProxy service, Guid selectedMarketingListGuid, Entity entityType) 在 C:\Users\Zafer\Documents \Visual Studio 2010\Projects\IMPlugin\MarketingListHelper.cs:130 IMPlugin.IM_SMS.fillMainPanel(Double mainPanelHeight) 在 C:\Users\Zafer\Documents\Visual Studio 2010\Projects\IMPlugin\IM_SMS.aspx.cs:96 IMPlugin。 IM_SMS.Page_Load(Object sender, EventArgs e) in C:\Users\Zafer\Documents\Visual Studio 2010\Projects\IMPlugin\IM_SMS.aspx.cs:42 System.Web.Util.CalliHelper.EventArgFunctionCaller(IntPtr fp, Object o , 对象 t, EventArgs e) +14 System.Web.Util.CalliEventHandlerDelegateProxy。回调（对象发送者，EventArgs e）+35 System.Web.UI.Control.OnLoad（EventArgs e）+91 System.Web.UI.Control.LoadRecursive() +74 System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint , 布尔型 includeStagesAfterAsyncPoint) +2207

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T11:50:48.210

存在 5000 限制的原因是作为一个粗略的障碍来防止您遇到的问题。您已经绕过了软件限制，现在需要克服硬件限制（内存不足）...

您没有说明如何编写代码或将结果用于什么目的，但我认为在执行查询后会有额外的处理。在此基础上，我的建议是您在查询表达式中引入分页，分批处理 5000 条记录。

一个粗略的例子：

```
// get records to process
string pagingCookie = null;
bool moreRecords = false;
int pageNum = 1;
DataCollection<Entity> myBatchOfRecords;    

bool continueProcessing = true;
while (continueProcessing)
{
    myBatchOfRecords = GetRecords(pageNum, ref pagingCookie, ref moreRecords);

    // process those records
    ProcessRecords(myBatchOfRecords);
    pageNum++;    
    continueProcessing = moreRecords;
}

function DataCollection<Entity> GetRecordsList(int pageNumber, ref string pagingCookie, ref bool moreRecords){
    var query = new QueryExpression(blahblahblah...);
    query.PageInfo = new PagingInfo { 
        Count = 5000, 
        PageNumber = pageNumber, 
        PagingCookie = pagingCookie };
    var results =  myOrgService.RetrieveMultiple(query);
    pagingCookie = matchedContacts.PagingCookie;
    moreRecords = matchedContacts.MoreRecords;
    return results;
} 
```

# wcf - 用于长时间运行的应用程序的 WCF 身份验证会话

> ID：11610127
> 
> 赞同：3
> 
> 时间：2012-07-23T09:49:03.993
> 
> 标签：wcf, session, authentication

我有以下情况。

有一个 WCF .NET 4 服务，托管在 IIS 7 上。

该服务将由两种客户端访问：

1.  Silverlight 客户端（稍后会创建）
2.  三个 C# .NET 4 控制台应用程序（已经创建和测试）

为了访问这个 WCF 服务，我创建了一个简单的包装器 dll（我不使用 Visual Studio 自动生成的引用来避免在 WCF 更改时在多个项目中更新它们，但我使用自动生成的引用作为包装器的模板）。

这就是我的包装器的样子：

```
class MyServiceClient : System.ServiceModel.ClientBase<IMyService>,
        IMyService 
```

它基本上将所有调用转发到 base.Channel。

现在我们开始考虑实现身份验证。我们的 IIS 和控制台应用程序不能保证在同一个域中，因此 Windows Auth 不是一个选项。显然，我们必须在控制台应用程序的应用程序配置文件中存储用户名/密码，WCF 将根据我们的用户数据库检查它。

每个消息的身份验证似乎有点过于流量和资源繁重 - 然后我们必须在每次调用时从我们的数据库中选择用户。我们的控制台应用程序是计划任务，它们可能会整天运行并发出数千个 WCF 请求。所以我们需要某种经过身份验证的用户会话。

我还担心如果我的 System.ServiceModel.ClientBase 意外断开连接会发生什么。目前（无需任何身份验证），ClientBase 能够静默重新连接而不会出现任何问题。添加身份验证实现后，我想保持相同的行为。客户端应该能够静默重新登录，而不会向调用应用程序抛出任何异常。

据我了解，要允许 WCF 中的所有 ASP.NET 会话好东西，我必须在 ASP.Net 兼容模式下运行，并确保每个用户都有自己的线程和自己的 Thread.CurrentPrincipal。但是我不知道如何确保如果连接中断/服务器重新启动，登录会自动重新启动。如果有 SecurityException，我是否需要为每个方法调用添加 tr..catch 并重新登录？似乎有点肮脏的解决方案。

现在我可以总结两个问题：

**对于 IIS WCF 服务和控制台应用程序之间的经过身份验证的自动恢复会话，我有哪些选项？**

**如何以某种方式实现身份验证会话，以便我的 WCF 服务客户端包装器能够在断开连接的情况下恢复/创建新会话？**

**如果 Silverlight 不支持 wshttpbinding 并且 WCF 不允许通过 basichttpbinding 传递用户凭据（出于安全原因），那么如何以安全的方式实现身份验证？** 我找到了以下文章： [http](http://www.dotnetcurry.com/ShowArticle.aspx?ID=589) ://www.dotnetcurry.com/ShowArticle.aspx?ID=589 ，它解释了如何通过自定义绑定使 Silverlight 使用 SSL，但我不知道如何将我的身份验证会话放入因此它也可用于控制台应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T09:56:02.023

您可以使用 SSL 证书对 WCF 应用程序中的客户端/服务器进行身份验证。实际上，您可以使用 SSL 证书来提供传输级别的安全性（因此没有消息加密/解密业务），还可以利用证书来验证客户端说它是谁，服务器说它是谁。

这种方法的唯一缺点是您的客户需要了解您的 SSL 证书，并且根据您的设置，他们可能还需要您的证书副本。

希望这可以帮助！

# regex - 电子邮件验证的正则表达式失败

> ID：11610128
> 
> 赞同：0
> 
> 时间：2012-07-23T09:49:09.657
> 
> 标签：regex, email-validation

在电子邮件验证的正则表达式下方，

```
^[a-zA-Z0-9][\w\.-]*[a-zA-Z0-9]@[a-zA-Z0-9][\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]$ 
```

在这里我无法理解`[\w\.-]`目的。有人可以告诉我吗？

使用这种模式，

如果我`a@test.com`在电子邮件字段中给出，验证将失败。在电子邮件字符串之前，`@`如果只有一个字符或数字出现，则验证失败。这是正确的吗？

问候， 卡提克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:00:03.660

`[\w.-]`表示单个字符，它是：

*   一个单词字符（字母数字或`_`）
*   `.`
*   `-`

`a@test.com`失败，因为此正则表达式在 . 之前至少需要 2 个字符`@`。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-23T11:01:16.973

使用此正则表达式来验证电子邮件 ID。对我来说很好

```
\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)* 
```

如果这对您有用，请标记为答案:)

# android - 适用于 Android 和 iPhone 的推送通知

> ID：11610129
> 
> 赞同：9
> 
> 时间：2012-07-23T09:49:18.173
> 
> 标签：android, iphone, push-notification

我正在开发一个 android 和 iPhone 应用程序，并希望向两个平台用户发送推送通知 - 一个简单的弹出窗口，最好是在设备关闭的情况下。

有什么建议我应该走哪条路吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-23T19:41:49.867

[您可以使用PushWoosh](http://pushwoosh.com)配置您的应用并向 Android 和 iOS（以及另外四个平台）发送推送通知。与 Urban Airship 不同，它是一项免费服务，因此您无需付费，而且集成非常容易。

他们有几个关于如何在您的应用程序中集成推送通知的广泛指南，例如：[iOS](http://www.pushwoosh.com/programming-push-notification/ios/ios-configuration-guide/)、[Android](http://www.pushwoosh.com/programming-push-notification/android/android-gcm-api-configuration/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-23T09:58:07.523

取决于你的预算。如果您愿意付费，有多种解决方案可供选择，例如[Urban Airship](http://urbanairship.com/)

如果屏幕关闭，我认为您无法在 iOS 上强制打开弹出窗口。在 iOS 中，推送通知 ( **APN** ) 的行为完全取决于用户。我可能是错的，但这是我的印象。

在 Android ( **GCM** ) 上，您可以通过在 Activity 中伪造弹出窗口来做到这一点。然后将设备从睡眠中唤醒以显示 Activity。

如果您正在研究新闻解决方案，请注意 Android 和 iOS 都只允许每个 API 调用 1,000 个推送设备。因此，您需要自己管理它们。

# wpf - WPF OnMouseOver 样式菜单项

> ID：11610135
> 
> 赞同：0
> 
> 时间：2012-07-23T09:49:43.057
> 
> 标签：wpf, xaml, styles, mouseover, menuitem

我对 WPF 比较陌生，我正在尝试更改菜单项的悬停效果并将其设置为类似于工具栏中的按钮之一。

当我最有可能从 MenuItem 悬停在菜单上时，我留下了一个双边框。我怎样才能删除它？

XAML 文件：

```
 <ToolBarTray Style="{StaticResource MainToolBar}">
            <ToolBar DockPanel.Dock="Top" ToolBarTray.IsLocked="True" Width="Auto" Padding="0" Background="Transparent" Name="Tool">
                <Button Content="Button 1"/>
                <Button Content="Button 2"/>
                <Separator/>
                <Menu Margin="0, -1, 0, 0" Style="{StaticResource Menu}">
                    <MenuItem Header="Menu">
                        <MenuItem Header="File">
                            <MenuItem Header="Copy"/>
                            <MenuItem Header="Paste"/>
                        </MenuItem>
                    </MenuItem>
                </Menu>
            </ToolBar>
           </ToolBarTray> 
```

资源文件：

```
 <Style x:Key="{x:Static ToolBar.ButtonStyleKey}" TargetType="{x:Type Button}">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type Button}">
                <Border
                SnapsToDevicePixels="true"
                Background="{TemplateBinding Background}"
                BorderBrush="{TemplateBinding BorderBrush}"
                BorderThickness="{TemplateBinding BorderThickness}"
                Padding="{TemplateBinding Padding}">
                    <ContentPresenter
                     HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                     VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                     SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                </Border>
                <ControlTemplate.Triggers>
                    <Trigger Property="IsMouseOver" Value="true">
                        <Setter Property="BorderBrush" Value="Orange"/>
                        <Setter Property="Background" Value="{DynamicResource ToolBarBKHover}"/>
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style>
<Style x:Key="Menu" TargetType="{x:Type Menu}">
    <Setter Property="OverridesDefaultStyle" Value="True"/>
    <Setter Property="SnapsToDevicePixels" Value="True"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type Menu}">
                <Border
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}">
                    <StackPanel ClipToBounds="True" Orientation="Horizontal" IsItemsHost="True"/>
                </Border>

            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="BorderBrush" Value="Orange"/>
                    <Setter Property="Background" Value="{DynamicResource ToolBarBKHover}"/>
                </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>

        </Setter.Value>
    </Setter>
</Style> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T14:50:57.350

您的“双边框”问题无法在菜单级别解决：您必须进一步挖掘并为菜单的 MenuItem 重新定义模板/触发器。MenuItem （不是*Menu*）具有将其边框颜色在 MouseOver 上变为灰色的默认行为，这就是您要更改的内容。

编辑：因此，例如，您可以使用 BorderWidth = 0 的设置器为 MenuItem 定义默认样式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T13:01:58.203

假设您的菜单项位于 a`Listbox`中，当您移动鼠标时，您希望更改颜色。这是一种简单的方法，但我已经从现有项目中复制了代码：

```
<Window.Resources>
<Style TargetType="{x:Type ListBox}">
  <Setter Property="Foreground" Value="#58290a" />
  <Setter Property="FontFamily" Value="Lucida Console" />
  <Setter Property="Background">
    <Setter.Value>
      <LinearGradientBrush StartPoint="0,0" EndPoint="0,1" >
        <LinearGradientBrush.GradientStops>
          <GradientStop Color="#feca00" Offset="0.1"/>
          <GradientStop Color="#ffe100" Offset="0.4"/>
          <GradientStop Color="#feca00" Offset="0.6"/>
          <GradientStop Color="Orange" Offset="0.9"/>
        </LinearGradientBrush.GradientStops>
      </LinearGradientBrush>
    </Setter.Value>
  </Setter>
  <Style.Triggers>
    <Trigger Property="IsMouseOver" Value="True">
      <Setter Property="BitmapEffect">
        <Setter.Value>
          <OuterGlowBitmapEffect GlowColor="Red" GlowSize="4"/>
        </Setter.Value>
      </Setter>
    </Trigger>
  </Style.Triggers>
</Style> 
```

希望这可以帮助

# magento - 通配符不起作用的 Magento 1.7 中的表费率运输

> ID：11610138
> 
> 赞同：3
> 
> 时间：2012-07-23T09:49:53.767
> 
> 标签：magento, shipping, rates, magento-1.7

当我在“国家”、“地区”、“ZIP”中上传带有“*”通配符的 CSV 时，Magento 1.7 无法正确计算运费。即使购物车小计超过 500，Magento 也总是显示第一个运费。这是一个已知的错误吗？我做错什么了吗？有任何想法吗？

我的 CSV：[https ://dl.dropbox.com/u/2499022/TRS-WildCards.png](https://dl.dropbox.com/u/2499022/TRS-WildCards.png)

问候保罗

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T11:22:34.080

根据这个[家伙](http://www.mrnordstrom.com/2009/11/23/table-rate-shipping-in-magento/)，你必须总是使用国家代码，否则 PHP 会抛出未定义索引的通知。我们选择了 3 个字母的国家/地区代码，它为我们解决了这个问题。

# iphone - 键盘中的空格按钮替换 UITextview 中的字符 - iOS（Obj-C）

> ID：11610142
> 
> 赞同：0
> 
> 时间：2012-07-23T09:50:04.943
> 
> 标签：iphone, objective-c, ios, uitextview

当我单击键盘上的空格按钮时，如何将 UITextview 中的字符替换为 unicode 字符？

例如：我输入“:(”，然后按空格键将字符替换为“\ue403”。

我想在我的应用程序中创建表情聊天。

感谢关注。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T11:48:13.753

使用 UITextField 委托消息：

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string 
```

在这种情况下发生的情况是空格将作为最终字符串进入，并且范围的长度将为 0。您可以查询文本字段以获取当前字符串。因此，您将“字符串”更改为您想要的字符，以编程方式将其附加到 textField 文本，然后返回 NO。

# mysql - Mysql 查询速度非常慢

> ID：11610143
> 
> 赞同：1
> 
> 时间：2012-07-23T09:50:06.830
> 
> 标签：mysql, performance, innodb

我在使用 InnoDB mysql 数据库时遇到问题。例如，我有两个表，事件和 events_artists 具有以下架构：

```
events:
id (PK)
host_id
date

events_artists:
id (PK)
event_id
artist_id 
```

表 events 有大约 100,000 个条目， events_artists 大约有 150,000 个。

我必须做的一件事是检查表 events_artists 中未引用的表事件中的条目。为此，在另一篇文章中，我收到了查询

```
SELECT * FROM events WHERE id IS NULL OR id NOT IN (SELECT event_id FROM events_artists) 
```

从逻辑上看，这个查询对我来说看起来不错。但是，它*非常*缓慢。我让它运行了一个小时，仍然没有结果。那里一定有问题。

我很感激任何关于如何优化它的帮助！

谢谢

查尔斯

**找到解决方案**

以下查询使语句更快：

```
SELECT * 
FROM events a
     LEFT JOIN events_artists b
     ON a.id = b.event_id
     WHERE b.event_id IS NULL; 
```

但是，主要的速度提升是添加***外键***。我不得不在中间删除它们以进行一些重复的搜索并现在将它们添加回来，这大大提高了速度。虽然查询之前需要一个多小时，但现在只需要***一秒钟***。

谢谢！

查尔斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T09:54:06.813

为了获得更快的结果，您应该避免使用子查询。或者，您可以尝试使用 LEFT JOIN 来获取事件中但不在 events_artists 中的记录。

访问[连接的视觉解释](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

```
SELECT * 
FROM events a
     LEFT JOIN events_artists b
         ON a.id = b.event_id
WHERE b.event_id IS NULL; 
```

还要确保您在列 id 和 event_id 上有索引，以便更快地执行查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T09:54:44.100

如果您运行`EXPLAIN`查询，您会看到子查询被视为`DEPENDENT`，这意味着它将为`events`表中的每一行运行一次，因此速度很慢。

您可以将其更改为独立的，如下所示：

```
SELECT events.*
FROM events
LEFT JOIN events_artists ON (events.id = events_artists.event_id)
WHERE events_artists.event_id IS NULL 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-23T09:58:45.157

试试这个

```
select 
    ev.* from events as ev 
    left join events_artists as ea on ev.id=ea.event_id
where 
    ea.event_id is null or ev.id is null 
```

# c# - 正则表达式获取任意数量的字符

> ID：11610144
> 
> 赞同：0
> 
> 时间：2012-07-23T09:50:13.573
> 
> 标签：c#, .net, regex

我有那个字符串：

```
[START]     john  gregor  max  [END] 
```

所以我需要的是只提取名称：john gregor 和 max 并避免空格，我已经用 START 和 END 标记了我的字符串范围，这样你就可以了解空格的开始和结束位置。

注意：字符串中不存在 [START] 和 [END]，我只是添加它来解释更多。

或者

```
string text = "     john  gregor  max  "; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T09:53:49.810

1.  `[^\s]+` : [http://regexr.com?31k0e](http://regexr.com?31k0e)

2.  `[A-Za-z]+` : [http://regexr.com?31k0h](http://regexr.com?31k0h)

3.  不要使用正则表达式，只需在空格上拆分您的字符串。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-23T10:01:24.753

请注意，代码是在java中

```
String varString ="     john  gregor  max  ";
String [] varArray=varString.trim().split(" "); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T09:54:06.747

```
while( $string =~ /(\w*)(.*)/ ) # repaired, was: /(\w)(.*)/
{
    $name = $1;
    $string = $2;    
} 
```

# cocos2d-iphone - 如何在 Cocos2d 中仅在 Y 轴上单击和拖动精灵？

> ID：11610148
> 
> 赞同：0
> 
> 时间：2012-07-23T09:50:22.160
> 
> 标签：cocos2d-iphone, click, drag

我想知道是否有人可以帮助我并可能指出我正确的方向。

这是我的代码：

```
- (void) ccTouchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch *touch = [touches anyObject];
    CGPoint point = [touch locationInView:[touch view]];
    point = [[CCDirector sharedDirector] convertToGL:point];
    sprite.position = ccp (sprite.x, point.y);
} 
```

这就是我想要做的。

我只想在 Y 轴上单击并上下拖动精灵。我希望精灵靠近屏幕顶部，处于纵向模式。

我不希望每次您在不同位置触摸屏幕时都会出现“弹出”或“跳跃”。

任何指针将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T15:30:36.577

使用向量。此代码示例使用目标触摸委托而不是标准。使 newPos x 属性始终相同以实现您的行为。

```
- (void)panForTranslation:(CGPoint)translation {    
    if (selSprite) {
        CGPoint newPos = ccpAdd(selSprite.position, translation);
        selSprite.position = newPos;
    }
}

- (void)ccTouchMoved:(UITouch *)touch withEvent:(UIEvent *)event {       
    CGPoint touchLocation = [self convertTouchToNodeSpace:touch];

    CGPoint oldTouchLocation = [touch previousLocationInView:touch.view];
    oldTouchLocation = [[CCDirector sharedDirector] convertToGL:oldTouchLocation];
    oldTouchLocation = [self convertToNodeSpace:oldTouchLocation];

    CGPoint translation = ccpSub(touchLocation, oldTouchLocation);    
    [self panForTranslation:translation];    
} 
```

# php - Jquery ajax 调用转到 php 脚本而不是重新加载页面

> ID：11610149
> 
> 赞同：0
> 
> 时间：2012-07-23T09:50:28.707
> 
> 标签：php, jquery, ajax, list

我有一个简单的页面，允许用户向项目添加语言 ID。该页面通过执行 ajax 调用来加载记录列表。所有记录都作为列表加载到 div 中。

每个列表项都是一个表单，因此当用户输入 lang id 时，他们按下 update 并且 ajax 调用关闭，更新数据库并使用记录重新加载列表，减去刚刚更新的记录。

jquery 调用适用于页面加载，但如果您提交表单项，它会转到 php 脚本，而不是在您提交的页面中重新加载。

任何想法为什么初始调用加载“页面内”但表单提交没有。使用每条记录的表单也是一个好主意，或者是否有更好的方法来使用 jquery。

执行 ajax 调用的原始 php 脚本 (sort_language.php)

```
 <script id="source" language="javascript" type="text/javascript">

   function run(){
// get form data
    var eng = $('#rec #eng').val();
    var cym = $('#rec #cym').val();

    // put form data in a JSON
    var data_json = {'eng':eng, 'cym':cym};

    //post to php script to update database and return html list
    $.ajax({
      type: 'post',
      url: 'ajax/lang_api.php',
      data: data_json,
      beforeSend: function() {
        // before send the request, display a "Loading..." message
        $('#records').html('Loading...');
      },
      timeout: 10000,        // sets timeout (10 seconds)
      error: function(xhr, status, error) { alert('Error: '+ xhr.status+ ' - '+ error); },
      success: function(response) { $('#records').html(response); }
    });

    return false; //this should stop page reload
}

$(document).ready(function()
{
    $("#rec").submit(function()
    {
        run()
    });
    run()
});

 </script>
</head>
<body>

<div id="record_wrapper">
<h1>Records by title</h1>
<div id="records">
    Waiting for records to load....
</div> 
```

这是创建列表并更新数据库的 php 脚本。

```
//get lang post variables if they exist
$eng_id = $_POST['eng'];
$cym_id = $_POST['cym'];
//debug - check post values are correct visually
echo 'eng' . $eng_id . ' cym ' . $cym_id;

function create_list() {    
//generate html list
$html .='   <ul>';

    //grab records from DB which have not been updated with language value to display
    if (!$query = mysql_query("SELECT `id`, `title-245` FROM `records` WHERE `catalog_lang-040` = 'eng' ORDER BY `title-245`")) {
        echo mysql_error();
    }
    //generate each item in list as a form 
    //set form id to rec
    while($row = mysql_fetch_array($query))
    {
        $html .= '  <li><form action="ajax/lang_api.php" method="post" id="rec">' . $row['title-245'] . ' <input type="text" name="cym" size="3" /><input type="hidden" name="eng" id="eng" value="' . $row['id'] . '" /> <input type="submit" value="submit" /></form></li>
        ';                                                                                      
    }

$html .= '  </ul>';
//return the html to be used
return $html;
}

//if eng and cym ids are submitted then update DB, otherwise just return the html required.
//check value is set using isset
if (isset($eng_id) && isset($cym_id)) {

if (!is_numeric($eng_id)) { $rehtml= 'Invalid English ID'; }
if (!is_numeric($cym_id)) { $rehtml= 'Invalid Welsh ID'; }

//sql to go here to update db ith language value

//and then get new list to output.
  echo create_list();
//post undefined so just return list (for first page load/refresh)  
}else{
// output the html
  echo create_list();
} 
```

可能遗漏了一些明显的东西，但第一次玩 jquery/js。

这是由 lang_api.php 创建的 HTML 列表，它加载到记录 div 中，替换 sort_language.php 中的“等待记录加载”

```
eng417 cym 21   
<ul>    
 <li><form action="ajax/lang_api.php" method="post" id="rec">18th - 19th century ballads collection , 18th - 19th century,  <input type="text" name="cym" size="3" /><input type="hidden" name="eng" id="eng" value="417" /> <input type="submit" value="submit" /></form></li>
            <li><form action="ajax/lang_api.php" method="post" id="rec">1st The Queen's Dragoon Guards Collections , 1685 -,  <input type="text" name="cym" size="3" /><input type="hidden" name="eng" id="eng" value="1001" /> <input type="submit" value="submit" /></form></li>
            <li><form action="ajax/lang_api.php" method="post" id="rec">Aberconway Library , 20th century -,  <input type="text" name="cym" size="3" /><input type="hidden" name="eng" id="eng" value="101" /> <input type="submit" value="submit" /></form></li>
            <li><form action="ajax/lang_api.php" method="post" id="rec">Aberfan Disaster Archive , Mainly 1966 -,  <input type="text" name="cym" size="3" /><input type="hidden" name="eng" id="eng" value="303" /> <input type="submit" value="submit" /></form></li>
            <li><form action="ajax/lang_api.php" method="post" id="rec">Abergavenny Local History Collection , Prehistory to the present day,  <input type="text" name="cym" size="3" /><input type="hidden" name="eng" id="eng" value="1030" /> <input type="submit" value="submit" /></form></li>
            <li><form action="ajax/lang_api.php" method="post" id="rec">Alister Hardy Religious Experience Archive , 1924 -,  <input type="text" name="cym" size="3" /><input type="hidden" name="eng" id="eng" value="1042" /> <input type="submit" value="submit" /></form></li>
            <li><form action="ajax/lang_api.php" method="post" id="rec">Almanacs Collection , 1700 - 1850,  <input type="text" name="cym" size="3" /><input type="hidden" name="eng" id="eng" value="740" /> <input type="submit" value="submit" /></form></li>
            <li><form action="ajax/lang_api.php" method="post" id="rec">Ammanford Local Studies Collection , 1880s -,  <input type="text" name="cym" size="3" /><input type="hidden" name="eng" id="eng" value="939" /> <input type="submit" value="submit" /></form></li>
            <li><form action="ajax/lang_api.php" method="post" id="rec">Anderson Collection , 17th - 20th century,  <input type="text" name="cym" size="3" /><input type="hidden" name="eng" id="eng" value="407" /> <input type="submit" value="submit" /></form></li>
</ul> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:07:56.853

“任何想法为什么初始调用加载'in page'但表单提交没有。”

因为您的代码确切地告诉您这样做。在您的服务器端代码中，您生成了一堆常规 html 表单的表单元素，不以任何方式绑定到 jQuery 或 ajax。因此，当您按下任何提交按钮时，它将执行 html 表单所期望的操作：发布一个帖子，并将您当前的页面替换为服务器的响应。

“每条记录使用一个表单也是一个好主意，或者有没有更好的方法来使用 jquery。”

如果您将所有表单元素的提交绑定到 ajax 调用，它可能会起作用 - 但我不会称这是一个非常优雅的解决方案。我宁愿使用单个 jquery ajax 帖子绑定到具有特定类的所有按钮，例如

```
$("button.recordsubmit").live("click", function() { // ajax submit code }); 
```

并在服务器端而不是表单上生成这些按钮。此外，您应该考虑不要重新加载整个记录 div，而是针对单个记录 div，因此只会替换更改的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:12:39.213

你在这里有几个问题：

1.  我不推荐您为每个`<li>`. 因为您可以锁定任何元素上的任何事件，您只需放置一个简单的按钮并将点击事件绑定到它。
2.  您失败的原因是因为`jquery.submit()`它是一个辅助方法（以及单击、悬停等），并且这些方法仅绑定到页面加载时存在的元素。另一方面，您动态添加元素，因此您需要使用的是`live`or `on`：

    ```
    $('button').on('click',function(){//do your stuff}); 
    ```

看看[jquery.on()](http://api.jquery.com/on/)和[jquery.live()](http://api.jquery.com/live/)

**编辑：**

第一次加载页面时，不需要ajax调用，只需在php.ini中创建即可。

当用户单击按钮时，您可以使用[jquery.load()](http://api.jquery.com/load/)方法替换整个列表，为此您需要将列表包装在 div 中：

```
<div id="listWrapper">....</div> 
```

然后使用jquery：

```
$('button').on('click',function()
    $('#listWrapper').load('ajax/lang_api.php',data_json);
}); 
```

这将自动调用 php 脚本并将 div 中的 lsit 替换为 php 脚本返回的列表。

# c# - 在 ASP.NET 中根据文本框的值显示或隐藏按钮

> ID：11610150
> 
> 赞同：-4
> 
> 时间：2012-07-23T09:50:36.457
> 
> 标签：c#, asp.net

如果两个文本框（id 和 pass）都没有填写，我将隐藏“登录”按钮。否则我会展示它。

在脚本块内：

```
protected void checkField(object sender, EventArgs e)
{
    if (id.Text == "" || pass.Text == "")
    {
        logbutton.Visible = false;
    }
    else if (id.Text != "" && pass.Text != "")
        logbutton.Visible = true;
} 
```

在表单块内我有两个文本框，一个用于 ID，一个用于密码每次我在模糊或焦点上（尝试了所有这些）我都会调用上面的函数

但我从未见过修改两个文本框后显示/消失的“登录”按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T09:53:31.620

您的逻辑阻止隐藏按钮。尝试删除第二个 elseif 条件

```
 protected void checkField(object sender, EventArgs e)
    {
        if (id.Text == "" || pass.Text == "")
        {
            logbutton.Visible = false;
        }
        else
            logbutton.Visible = true;
    } 
```

此外，确保登录按钮的可见属性最初设置为 FALSE，并将 UserID 和 Paasword 文本框的 autopostback 属性设置为 TRUE

# javascript - 在 JavaScript 中使用 RSS 提要

> ID：11610151
> 
> 赞同：0
> 
> 时间：2012-07-23T09:50:39.903
> 
> 标签：javascript, rss, google-feed-api

我有一个关于 Google Feed 的问题。它可以帮助我使用 javascript 显示 RSS。首先我想展示代码，然后我要问我的问题。

JS部分：

```
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script language="javascript">

var sglm=new Array();
sglm[0]= 'ahmet tanakol';

google.load("feeds", "1");

function initialize() {
  var feed = new google.feeds.Feed("http://www.ntvmsnbc.com/id/24927681/device/rss/rss.xml");
  feed.setNumEntries(6);

  feed.load(function(result) {
    if (!result.error) {
      var container = document.getElementById("feed");
      for (var i = 0; i < result.feed.entries.length; i++) {

        var entry = result.feed.entries[i];
        var div = document.createElement("div");
        div.appendChild(document.createTextNode(entry.title));
        container.appendChild(div);
      }
    }
  });
}
google.setOnLoadCallback(initialize); 
```

身体：

```
<body onload="startbcscroll();" bgcolor="#ffffcc" text="navy"><center>
<div id="feed"></div> 
```

好的，我正在使用这个 Google Feed 代码和另一个 js 以水平滚动方式显示消息。他们两个现在都在工作，但我想在这个水平滚动中显示 RSS 提要。当我运行代码时，它首先显示 Rss 提要的标题，然后在底部有一个水平滚动。在这个水平滚动中，它从一个名为“sglm”的数组中获取值。您可以在 JS 部分中看到它。例如，它必须完全采用这种格式，否则它将不起作用；

sglm[0] = '你好世界'

现在我想以这种格式将来自 RSS 提要的标题放入这个数组中。我想不通，所以也许你可以帮助我。顺便说一句，它将 Rss 提要标题放入带有 id 提要的 div 中。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T13:54:31.810

嗯，这很有趣....不！;)
我不得不稍微改变售票员的工作方式，因为我不知道如何按原样更新它。你现在有一个简单的函数`tickerUpdateItems`，你只需传递一个项目数组，它就会更新。
这是新的来源......

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>JS-Ticker</title>
<style> <!--
BODY, P, SPAN, DIV, TABLE, TD, TH, UL, OL, LI {
  font-family: Arial, Helvetica;
  font-size: 14px;
  color: black;
}
.code {
  font-family: Courier New, Monospace;
  font-size: 12px;
  margin: 10px;
  padding: 0px;
  color: blue;
}
--> </style>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">

//THIS IS MY HORIZONTAL SCROLLING. RSS TO JAVASCRIPT CODE IS AT THE END OF IT!!!!!

var tickerEntries = new Array(
    "Hello!",
    "Use this script to create a news ticker.",
    "You can also use <b>HTML tags</b>.",
    "The quick brown fox jumps over the lazy dog."
);

//---------------------------------------------------------------------------------------------------------
// Configuration
//---------------------------------------------------------------------------------------------------------

var tickerWidth = 400;                              // width (pixels)
var tickerMargin = 20;                              // margin (pixels)
var tickerDelay = 30;                               // scrolling delay (smaller = faster)
var tickerSpacer = "+++";                           // spacer between ticker entries

var tickerBGColor = "#E0F0FF";                      // background color
var tickerHLColor = "#FFF0E0";                      // hilight (mouse over) color

var tickerFont = "Courier New, Courier, Monospace"; // font family (CSS-spec)
var tickerFontSize = 16;                            // font size (pixels)
var tickerFontColor = "blue";                       // font color

var tickerBorderWidth = 2;                          // border width (pixels)
var tickerBorderStyle = "groove";                   // border style (CSS-spec)
var tickerBorderColor = "#FFFFFF";                  // border color

//---------------------------------------------------------------------------------------------------------
// Functions
//---------------------------------------------------------------------------------------------------------

var DOM = document.getElementById;
var IE4 = document.all;

var tickerIV, tickerID;
var tickerItems = new Array();
var tickerHeight = tickerFontSize + 8;

function tickerGetObj(id) {
    if(DOM) return document.getElementById(id);
    else if(IE4) return document.all[id];
    else return false;
}

function tickerObject(id) {
    this.elem = tickerGetObj(id);
    this.width = this.elem.offsetWidth;
    this.x = tickerWidth;
    this.css = this.elem.style;
    this.css.width = this.width + 'px';
    this.css.left = this.x + 'px';
    this.move = false;
    return this;
}

function tickerNext() {
    if(!DOM && !IE4) return;
    var obj = tickerItems[tickerID];
    if(obj) {
        obj.x = tickerWidth;
        obj.css.left = tickerWidth + 'px';
        obj.move = true;
    }
}

function tickerMove() {
    if(!DOM && !IE4) return;
    for(var i = 0; i < tickerItems.length; i++) {
        if(tickerItems[i].move) {
            if(tickerItems[i].x > -tickerItems[i].width) {
                tickerItems[i].x -= 2;
                tickerItems[i].css.left = tickerItems[i].x + 'px';
            }
            else tickerItems[i].move = false;
        }
    }
    if(tickerItems.length == 1) {
        if(tickerItems[tickerID].x + tickerItems[tickerID].width <= 0) {
            tickerNext();
        }
    }
    else if(tickerItems[tickerID].x + tickerItems[tickerID].width <= tickerWidth) {
        tickerID++;
        if(tickerID >= tickerItems.length) tickerID = 0;
        tickerNext();
    }
}

function tickerStart(init) {
    if(!DOM && !IE4) return;
    if(tickerBGColor) {
        var obj = tickerGetObj('divTicker');
        obj.style.backgroundColor = tickerBGColor;
    }
    if(init) {
        tickerID = 0;
        tickerNext();
    }
    if (tickerIV) clearInterval(tickerIV);
    tickerIV = setInterval('tickerMove()', tickerDelay);
}

function tickerStop() {
    if(!DOM && !IE4) return;
    clearInterval(tickerIV);
    if(tickerHLColor) {
        var obj = tickerGetObj('divTicker');
        obj.style.backgroundColor = tickerHLColor;
    }
}

function tickerInit() {
    if(!DOM && !IE4) return;

    var obj = tickerGetObj('divTicker');
    obj.style.width = tickerWidth + 'px';
    obj.style.visibility = 'visible';
    //tickerStart(true);
    tickerUpdateItems(tickerEntries);
}

function tickerReload() {
    if(!DOM && !IE4) return;
    document.location.reload();
}

//window.onresize = tickerReload;
window.onload = tickerInit;

//---------------------------------------------------------------------------------------------------------
// Build ticker
//---------------------------------------------------------------------------------------------------------

document.write(
    '<style> ' +
    '#divTicker { ' +
    'position: absolute; ' +
    'width: 10000px; ' +
    'height: ' + tickerHeight + 'px; ' +
    'cursor: default; ' +
    'overflow: hidden; ' +
    'visibility: hidden; ' +
    (tickerBorderWidth ? 'border-width: ' + tickerBorderWidth + 'px; ' : '') +
    (tickerBorderStyle ? 'border-style: ' + tickerBorderStyle + '; ' : '') +
    (tickerBorderColor ? 'border-color: ' + tickerBorderColor + '; ' : '') +
    '} ' +
    '.cssTickerContainer { ' +
    'position: relative; ' +
    'height: ' + tickerHeight + 'px; ' +
    'margin-top: ' + tickerMargin + 'px; ' +
    'margin-bottom: ' + tickerMargin + 'px; ' +
    '} ' +
    '.cssTickerEntry { ' +
    'position:absolute;top:2px; white-space:nowrap;'+
    'font-family: ' + tickerFont + '; ' +
    'font-size: ' + tickerFontSize + 'px; ' +
    'color: ' + tickerFontColor + '; ' +
    '} ' +
    '</style>'
);
function tickerUpdateItems(items) {
    var ticker = document.getElementById('divTicker');
    ticker.innerHTML = '';
    if (items.length > 0) {
        for (var i = 0; i < items.length; i++) {
            var tickerItem = document.createElement('DIV');
            tickerItem.id = 'divTickerEntry' + (i + 1);
            tickerItem.className  = 'cssTickerEntry';
            tickerItem.innerHTML ='&nbsp;' + items[i] +'&nbsp;' +tickerSpacer;
            ticker.appendChild(tickerItem);
        }
    }
    tickerItems=[];
    for (var i = 0; i < items.length; i++) {
        tickerItems[i] = new tickerObject('divTickerEntry' + (i + 1));
    }
    tickerStart(true);
}
/*document.write(
    '<div class="cssTickerContainer">' +
    '<div id="divTicker" onMouseOver="tickerStop()" onMouseOut="tickerStart()">'
);

for(var i = 0; i < tickerEntries.length; i++) {
    document.write(
        '<div id="divTickerEntry' + (i+1) + '" class="cssTickerEntry" ' +
        'style="position:absolute; top:2px; white-space:nowrap">' +
        tickerEntries[i] + ((tickerEntries.length > 1) ? ' ' + tickerSpacer + '&nbsp;' : '') +
        '</div>'
    );
}

//END OF HORIZONTAL SCROLLER
//---------------------------------------------------------------------------------------------------------

// THIS IS WHERE I TRANSFORM RSS TO JAVASCRIPT!!!!!!!!!!!!!!!!!!!!!!!
document.write('</div></div>');*/

    google.load("feeds", "1");

    function initialize() {
      var feed = new google.feeds.Feed("http://www.ntvmsnbc.com/id/24927681/device/rss/rss.xml");
      feed.setNumEntries(6);

      feed.load(function(result) {
        if (!result.error) {
            var titles=[];
          var container = document.getElementById("feed");
          var html = '';
          for (var i = 0; i < result.feed.entries.length; i++) {
            var entry = result.feed.entries[i];
            titles.push(entry.title);
           html += '<p>' + entry.publishedDate + '&nbsp' + entry.title;
          }
          container.innerHTML = html;
          tickerUpdateItems(titles);
        }
      });
    }
    google.setOnLoadCallback(initialize);

// END OF RSS TO JAVASCRIPT

</script>
</head>
<body>
    <div class="cssTickerContainer"><div id="divTicker" onMouseOver="tickerStop()" onMouseOut="tickerStart()"></div></div>
<div id="feed"></div>
</body>
</html> 
```

....希望它对你有帮助 ：）

# php - 重用 Magento 产品列表块 - 自定义集合

> ID：11610157
> 
> 赞同：1
> 
> 时间：2012-07-23T09:51:16.067
> 
> 标签：php, magento

我想使用默认的 magento 产品列表块和模板，但将其与我自己的自定义产品集合一起使用。

该集合不是类别的一部分，而是由我自己的模块创建的集合。

我如何将两者联系起来？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T09:56:28.570

您需要创建自己的块类，继承自`Mage_Catalog_Block_Product_List`，并至少覆盖其`_getProductCollection()`方法，以使其加载您的集合。

关于模板，您可以在布局定义中将默认模板分配给您的块。

# delphi - 致命：找不到所需的包“Vcl50”

> ID：11610160
> 
> 赞同：3
> 
> 时间：2012-07-23T09:51:30.953
> 
> 标签：delphi

我在 Windows 7 上使用 Borland Delphi 5。

从命令行使用 dcc32.exe 编译一些 deplhi 代码时，我收到以下错误：

```
Fatal: Required package 'Vcl50' not found 
```

尽管 Vcl50.bpl 在我的 PATH 中的 C:\Windows\System32 中。我尝试将 Vcl50.bpl 放在项目目录中。它仍然没有被捡起。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-31T22:27:54.497

在我的系统上，原来环境选项中的库路径错误。

`tools -> Environment Options -> Library`

然后`Library path`：

```
$(DELPHI)\Lib
$(DELPHI)\Bin
$(DELPHI)\Imports
$(DELPHI)\Projects\Bpl 
```

作为参考，库选项卡其余部分的默认值：

*   BPL 输出目录：`$(DELPHI)\Projects\Bpl`
*   DCP 输出目录：`$(DELPHI)\Projects\Bpl`

最后是浏览路径：

```
$(DELPHI)\source\vcl
$(DELPHI)\source\rtl\Sys
$(DELPHI)\source\rtl\Win
$(DELPHI)\source\Internet 
```

# magento - Magento，M2E 扩展，使用指南 - 在 eBay 上列出项目。

> ID：11610161
> 
> 赞同：0
> 
> 时间：2012-07-23T09:51:32.263
> 
> 标签：magento, m2e

我是 Magento 的新手，我刚刚为我的商店安装了 M2E Pro 扩展，但我不知道如何在 eBay 上查看列出的项目。我已经完成了 M2E 中 eBay 账户的配置，现在需要帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T18:37:35.860

确保已相应地创建了所有模板（销售、常规、描述和同步）。然后你需要去 eBay->Manage Listings->Listings 并创建一个新的 Listing。在这里，您将设置将影响此清单的模板以及一些其他配置选项。然后您需要将产品添加到列表中。

完成后，您现在可以“列出”您的项目，这意味着 Magento 会将产品上传到您的 eBay 帐户，并根据您为列表选择的模板配置每个出版物。

然后在 eBay 上，您会看到像往常一样发布的项目。

# git - 从 Bitbucket 存储库到远程主机

> ID：11610163
> 
> 赞同：0
> 
> 时间：2012-07-23T09:51:34.987
> 
> 标签：git, repository, bitbucket

我需要在我的主机上将我的 bitbucket 存储库与我的网站同步。可以通过 git 吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:00:20.053

您可以使用此命令导出工作树：`git archive master | tar -x -C /somewhere/else`然后将其 ftp 到主机。您可以使用此脚本将站点导出到主机。以上都是如果您没有对服务器的 ssh 级别访问权限。

如果您确实具有 ssh 级别的访问权限，则可以`git pull`从主机上的 bitbucket 使用 anove export 命令将工作树导出到您的站点索引文件夹。

# c# - 重命名项目文件夹而不更改项目名称？

> ID：11610167
> 
> 赞同：2
> 
> 时间：2012-07-23T09:51:51.603
> 
> 标签：c#, visual-studio-2010

# 语境

我的解决方案“仪表板”仅包含一个也称为“仪表板”的项目。

我想在不更改项目名称的情况下重命名“文件”中的项目文件夹。

# 前

![在此处输入图像描述](../Images/fa9503a0f269740292c9bc3a9de6a126.png)

# 后

![在此处输入图像描述](../Images/f16b5f98fedbb60965a76add6449aaa4.png)

# 问题

当我在 VS 中打开解决方案时，出现此错误：

![在此处输入图像描述](../Images/cfb5db2067f133cb1c2f71c0428f992d.png)

我试过[这个](https://stackoverflow.com/a/4560726/652669)，但我没有属性“文件路径”。

任何的想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T09:55:05.170

只需从解决方案中删除项目，然后使用“添加现有项目”选项重新添加它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-23T09:55:55.037

选择不可用的项目，按F4。然后您可以更改文件名。

# windows-7 - Internet Explorer (8+) 打开新窗口时显示空白页

> ID：11610172
> 
> 赞同：2
> 
> 时间：2012-07-23T09:52:19.407
> 
> 标签：windows-7, internet-explorer-8, internet-explorer-9

我的本地计算机上的 IE 存在一些重大问题。

当访问任何使用 Window.Open 或 target="_blank" 的网站时，新窗口/选项卡会打开，但随后它只会显示一个带有忙碌光标的白页。

如果我右键单击链接并选择“在新选项卡/窗口中打开”，或者如果我手动将 URL 复制/粘贴到新窗口/选项卡中，它工作正常。

知道这可能是什么原因吗？

仅供参考，我尽可能地卸载了 Internet Explorer，方法是删除所有更新，然后通过添加/远程（高级）卸载它，然后重新安装它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-11T04:37:02.537

我尝试在“Internet 选项”下重置 Internet Explorer 设置。它的固定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-04T01:43:27.063

我用下面的 FixIt 工具解决了同样的问题。这是 FixIt 第一次真正解决问题，我尝试了无数次。

[单击 Internet Explorer 8 中的链接时未打开新窗口或选项卡 - FixIt](http://support.microsoft.com/en-us/kb/2539060)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-24T11:33:12.677

尝试重新注册您的 Java。使用管理员权限运行 cmd.exe，然后键入：

```
regsvr32 jscript.dll 
```

希望这可以帮助。

**编辑：**

改为输入：

```
regsvr32 urlmon.dll 
```

~~如果这对阅读这篇文章没有帮助：http: [//support.microsoft.com/kb/281679](http://support.microsoft.com/kb/281679)~~ - 没有看到它很旧......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-20T14:01:00.350

无法在新标签 ie10 中打开链接 - 刚刚安装了 Internet Explorer 10

这也是 IE 10 上的问题。互联网上有很多东西，但没有一个对我有用。所以我尝试关闭标签（在“互联网选项”下），重新启动 IE，然后重新打开标签。已修复。

# ios - iOS：如何阻止后台线程在主线程中更新 UI？

> ID：11610173
> 
> 赞同：4
> 
> 时间：2012-07-23T09:52:27.497
> 
> 标签：ios, multithreading, uitableview, uiimageview, lazy-loading

我实现了 UIImageView 单元的 UITableView，每个单元通过 NSTimer 每 5 秒定期刷新一次。每个图像都是从后台线程中的服务器加载的，并且从该后台线程我还更新 UI，显示新图像，方法是调用`performSelectorOnMainThread`. 到目前为止，一切都很好。

目前，当我不等到在当前单元格中加载图像并快速向下滚动到新单元格时，我遇到了一个问题。但是，该新单元格显示的是前一个单元格的图像，而不是新单元格的图像。虽然下一轮 NSTimer 会正确显示图像，但这首先会让用户感到困惑。

如果我不重用 UITableView 的单元格，问题就会消失，但考虑到要在我的应用程序中显示的单元格数量，这不是一个选项。

因此，如果我知道用户执行滚动操作，我能想到的唯一解决方案是取消（或终止）将显示旧图像的后台线程。

我想知道这可能不是最佳做法，因此，寻求您的建议。

（我也不能使用 SDWebImage，因为我的要求是在从服务器加载的循环中显示一组图像）

```
// In MyViewController.m
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    ...
    NSTimer* timer=[NSTimer scheduledTimerWithTimeInterval:ANIMATION_SCHEDULED_AT_TIME_INTERVAL 
                                                target:self 
                                              selector:@selector(updateImageInBackground:) 
                                              userInfo:cell.imageView 
                                               repeats:YES];
    ...
}

- (void) updateImageInBackground:(NSTimer*)aTimer
{  
    [self performSelectorInBackground:@selector(updateImage:)
                       withObject:[aTimer userInfo]];
}  

- (void) updateImage:(AnimatedImageView*)animatedImageView 
{      
    @autoreleasepool { 
        [animatedImageView refresh];
    }
}  

// In AnimatedImageView.m
-(void)refresh
{
    if(self.currentIndex>=self.urls.count)
        self.currentIndex=0;

    ASIHTTPRequest *request=[[ASIHTTPRequest alloc] initWithURL:[self.urls objectAtIndex:self.currentIndex]];
    [request startSynchronous];

    UIImage *image = [UIImage imageWithData:[request responseData]];

    // How do I cancel this operation if I know that a user performs a scrolling action, therefore departing from this cell.
    [self performSelectorOnMainThread:@selector(performTransition:)
                       withObject:image
                    waitUntilDone:YES];
}

-(void)performTransition:(UIImage*)anImage
{
    [UIView transitionWithView:self duration:1.0 options:(UIViewAnimationOptionTransitionCrossDissolve | UIViewAnimationOptionAllowUserInteraction) animations:^{ 
        self.image=anImage;
        currentIndex++;
    } completion:^(BOOL finished) {
    }];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:26:55.457

好的...另一种方法是将您的“图像请求代码”放入您的 AnimatedImageView，并在每次设置新图像 URL 时使挂起的请求无效

```
// your controller
    - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
    {
    ...
    [cell.imageView setDistantImage:imageURL];
    ...    
    } 
```

然后，在您的 Cell 类中，“setDistantImage”创建一个 ASIHttpRequest，并使前一个无效

```
//your ImageView class

@property (...) ASIHttpRequest *distantImageRequest;

- (void) setDistantImageUrl:(NSUrl *)imageUrl
{
    //clear previous request
    [distantImageRequest clearDelegatesAndCancel];
    //set a new request, with the callBack embedded directly in this ImageView class
    ... 
}

//animation and callBacks methods in this ImageView class too... 
```

# jquery - 经典的ASP后台进程使用AJAX还是其他方式？

> ID：11610177
> 
> 赞同：0
> 
> 时间：2012-07-23T09:52:37.540
> 
> 标签：jquery, asp-classic, background-process

我在**经典 ASP**网站上工作。在一种形式中，将从 UPS 站点获取结果以显示运费，现在**在第一次请求时从 UPS 站点**获取结果时，通常需要几分钟的时间来回复。

因此，为了提高用户使用站点的体验，这个 UPS 运输计算应该在后台完成，当后台处理完成后，结果应该显示在表格中。

为了解决这个问题，我们使用了**jQuery AJAX**方法，但问题是用户必须在同一页面停留几分钟，直到 UPS 回复，如果他导航到其他页面，XHR 请求将被中止。

那么您能否建议，对于后台进程，必须在 Classic ASP 中选择哪种方式，或者如何在不中止 AJAX 请求的情况下导航到其他页面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T11:46:33.007

对于像这样的慢后端进程，使用基于服务器端 sql 的队列系统几乎总是一个好主意。

具体来说，在您的服务器上，创建一个二进制/服务/脚本来读取队列表，从 UPS 获取数据并将结果写回队列表 - 随时维护状态 ID。

然后，您的站点需要做的就是将请求插入到队列表中，然后您可以使用 ajax 继续检查队列表以查看数据是否存在。

一个**非常**基本的例子（如果没有你给出例子很难说）：

```
CREATE TABLE [dbo].[ParcelQueue](
    [JobID] [int] IDENTITY(1,1) NOT NULL,
    [RequestTime] [datetime] NULL,
    [ParcelTrackingNumber] [varchar](255) NULL,
    [StatusID] [smallint] NULL,
    [Result_DeliveryDate] [datetime] NULL,
 CONSTRAINT [PK_test] PRIMARY KEY CLUSTERED 
(
    [JobID] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

ALTER TABLE [dbo].[test] ADD  CONSTRAINT [DF_test_RequestTime]  DEFAULT (getdate()) FOR [RequestTime]
GO 
```

**潜在状态 ID：**

1.  待办的
2.  UPS 响应正常
3.  UPS 响应失败

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T19:13:56.680

我只是创建了一个 ASP 页面，它将以异步方式将虚拟数据传递给 UPS 服务，然后创建了后台 windows 进程，它将定期调用该 ASP 页面。

这样，无论何时用户来到现场，他们都不会因为第一次 UPS 请求而导致响应缓慢，因为我们的后台进程已经保持 UPS 通道打开。

# graphics - 如何从点云中去除噪声？

> ID：11610178
> 
> 赞同：1
> 
> 时间：2012-07-23T09:52:38.537
> 
> 标签：graphics, 3d, point-clouds

从点云数据中去除噪声的更实用的方法是什么？我们正在寻找有关该主题的白皮书或教程。

# java - 如何在没有缓存的情况下测量文件读取速度？

> ID：11610180
> 
> 赞同：17
> 
> 时间：2012-07-23T09:52:57.850
> 
> 标签：java, caching, benchmarking, caliper, disk-io

我的 java 程序大部分时间都花在读取一些文件上，我想优化它，例如，通过使用并发、预取、[内存映射文件](http://www.linuxtopia.org/online_books/programming_books/thinking_in_java/TIJ314_029.htm)等。

没有基准的优化是无意义的，所以我进行基准测试。然而，在基准测试期间，整个文件内容被缓存在 RAM 中，这与实际运行不同。因此，基准测试的运行时间要小得多，而且很可能与现实无关。

我需要以某种方式告诉操作系统（Linux）不要缓存文件内容，或者最好在每次基准测试运行之前清除缓存。或者可能会消耗大部分可用 RAM (32 GB)，因此只有一小部分文件内容适合。怎么做？

我正在使用[卡尺](http://code.google.com/p/caliper)进行基准测试，但在这种情况下，我认为没有必要（它绝不是微基准），我不确定这是一个好主意。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T10:07:16.347

清除 Linux 文件缓存

```
sync && echo 1 > /proc/sys/vm/drop_caches 
```

创建一个使用所有 RAM 的大文件

```
dd if=/dev/zero of=dummyfile bs=1024 count=LARGE_NUMBER 
```

（完成后不要忘记删除`dummyfile`）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-23T10:05:02.940

您可以创建一个非常大的文件，然后将其删除。这将清除磁盘缓存。

另一种测试性能的方法是读取大于主内存的文件。

无论哪种方式，您要测试的是硬件的性能。要改善这一点，您需要改进硬件，在软件方面您能做的只有这么多。例如，多线程不会使您的磁盘旋转得更快。;)

* * *

Windows NT [http://research.microsoft.com/pubs/68479/seqio.doc](http://research.microsoft.com/pubs/68479/seqio.doc)

> 在进行顺序扫描时，NT 会发出 64KB 的预取请求

来自 Linux [http://www.ece.eng.wayne.edu/~sjiang/Tsinghua-2010/linux-readahead.pdf](http://www.ece.eng.wayne.edu/~sjiang/Tsinghua-2010/linux-readahead.pdf)

> 顺序预取，在 Linux 中也称为预读，是一种广泛部署的技术，用于弥合存储设备的特性与其应用程序使用效率低下的方式之间的巨大差距

# c# - cmd.exe 的编码参数

> ID：11610183
> 
> 赞同：1
> 
> 时间：2012-07-23T09:53:11.087
> 
> 标签：c#, character-encoding, cmd

我正在使用 System.Diagnostics.Process 命名空间来执行命令。实际命令是 cmd.exe 的完整路径，参数包括一些特定的丹麦语字符。这是完整的论点：

/c "回声 Æ Ø Å æ ø å"

然后我试图捕获该过程的输出。我试图将 StandardOutputEnconding 发送到我的编码（1252），但它似乎没有帮助。我怀疑这可能与输入而不是编码有关，因为我能够使用上述回声创建一个批处理文件并使用 StandardOutputEncoding 1252 运行它。

关于这个问题的任何想法？

# php - 使用 mysql 查询结果向元素添加 CSS 类

> ID：11610184
> 
> 赞同：0
> 
> 时间：2012-07-23T09:53:16.440
> 
> 标签：php, mysql

我这里有问题。我试过到处搜索，但似乎找不到。我知道那里有关于此的帖子，也许我的搜索查询不正确。

它类似于我发现的这 2 个： [Applying different CSS to top 10 results of a query](https://stackoverflow.com/questions/3904976/applying-different-css-to-top-10-results-of-a-query) [.addClass with IF statement based on value](https://stackoverflow.com/questions/10524751/addclass-with-if-statement-based-on-value)

目前这里是我的代码的一个简短示例：

```
<?php
$select=mysql_query("select * from products_list ORDER BY id ASC");
while($row=mysql_fetch_array($select)){
echo "<tr>
<td>".$row['id']."</td>
<td>".$row['title']."</td>
<td>".$row['new_arrival']."</td>";
?> 
```

数据库中new_arrival 的数据是yes 或no。

我的问题是，如果它是“是”，我如何在 TD 上为“new_arrival”添加一个类，如果它是“否”，则不添加任何类

希望你们明白我想说什么。谢谢。

问候，杰夫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T09:57:07.203

一个简单的 if 语句，如果`new_arrival == yes`你添加类 else 让它为空

```
$select=mysql_query("select * from products_list ORDER BY id ASC");
while($row=mysql_fetch_array($select)){
    $class = ($row['new_arrival'] == 'yes') ? 'class="new_arrival"' : '';
    echo "<tr>
    <td ".$class.">".$row['id']."</td>
    <td ".$class.">".$row['title']."</td>
    <td ".$class.">".$row['new_arrival']."</td></tr>";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T09:57:37.480

```
<?php
$select=mysql_query("select * from products_list ORDER BY id ASC");
while($row=mysql_fetch_array($select)){
echo "<tr>
<td>".$row['id']."</td>
<td>".$row['title']."</td>";
  if(if($row['new_arrival']=='yes')
  {
   echo "<td class='classname'>".$row['new_arrival']."</td>";
  }
  else
  {
    echo "<td>".$row['new_arrival']."</td>";
  }
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T09:58:02.523

试试这个简单的 IF

```
echo "<tr>
<td>".$row['id']."</td>
<td>".$row['title']."</td>";
if($row["new_arrival"] == "yes"){
 echo "<td class='positive'>".$row["new_arrival"]."</td>"; //yes
}else{
 echo "<td>".$row['new_arrival']."</td>"; // no
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-23T09:59:43.860

```
<?php

    $select = mysql_query( "SELECT * FROM products_list ORDER BY id ASC" );
    while( $row = mysql_fetch_array( $select ) ) {

        $class = '';
        if ( $row[ 'new_arrival' ] == 'yes' )
            $class = ' class="your_class" ';

        $result = "<tr>
                    <td>" . $row['id'] . "</td>
                    <td>" . $row['title'] . "</td>
                    <td" . $class. ">" . $row['new_arrival']  ."</td>
                  </tr>";

        echo $result;
    }

?> 
```

# c# - 使用 xsd.exe 生成 C# 类，如何指定现有类型？

> ID：11610186
> 
> 赞同：1
> 
> 时间：2012-07-23T09:53:24.163
> 
> 标签：c#, xsd

我有一个 XML Schema 文件 (XSD)，我用它来使用Visual Studio 提供的[xsd 工具生成 C# 类。](http://msdn.microsoft.com/en-us/library/x6c1kb0s%28v=vs.71%29.aspx)

如果可能，如何将现有类型指定为元素的类型？说我想这样做

```
<xs:element name="Table">
    <xs:complexType>
        <xs:all>
            <!-- ...snip... -->
            <xs:element name="CellValues" type="ADODB.RecordSet"/>
        </xs:all>
    </xs:complexType>
</xs:element> 
```

如何告诉 xsd 这`ADODB.RecordSet`是导入程序集中的现有类型？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T12:36:34.967

也许这会有所帮助？

（来自[http://msdn.microsoft.com/en-us/library/x6c1kb0s(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/x6c1kb0s(v=vs.71).aspx)）

```
/t[ype]:typename 
```

> 指定要为其创建架构的类型的名称。您可以指定多个类型参数。如果 typename 未指定命名空间，则 Xsd.exe 将程序集中的所有类型与指定类型匹配。如果 typename 指定命名空间，则仅匹配该类型。如果 typename 以星号字符 (*) 结尾，则该工具匹配以 * 前面的字符串开头的所有类型。如果省略 /type 选项，Xsd.exe 会为程序集中的所有类型生成架构。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T15:39:42.513

我不确定这是否是最好的方法，但我设法通过实施来做一些事情[`SchemaImporterExtension`](http://msdn.microsoft.com/en-us/library/system.xml.serialization.advanced.schemaimporterextension%28v=vs.80%29.aspx)：

```
namespace SchemaImport
{
    public class ADODBSchemaImporterExtension : SchemaImporterExtension
    {

        public override CodeExpression ImportDefaultValue(string value, string type)
        {
            return new CodeTypeReferenceExpression(type);
        }

        public override string ImportSchemaType(XmlSchemaType type,
            XmlSchemaObject context, XmlSchemas schemas, XmlSchemaImporter importer,
            CodeCompileUnit compileUnit, CodeNamespace codeNamespace,
            CodeGenerationOptions options, CodeDomProvider codeGenerator)
        {
        return null;
        }

        public override string ImportSchemaType(string name, 
            string ns, XmlSchemaObject context, XmlSchemas schemas, XmlSchemaImporter importer, 
            CodeCompileUnit compileUnit, CodeNamespace mainNamespace, 
            CodeGenerationOptions options, CodeDomProvider codeProvider)
        {
            if (name.StartsWith("ADODB."))
            {
                compileUnit.ReferencedAssemblies.Add("adodb.dll");
                mainNamespace.Imports.Add(new CodeNamespaceImport("ADODB"));
                return name.Substring(name.IndexOf(".") + 1);
            }
            return null;
        }
    }
} 
```

连同定义`ADODB.Recordset`为`xsd:complexType`：

```
<xs:element name="Table">
    <xs:complexType>
        <xs:all>
            <!-- ...snip... -->
            <xs:element name="CellValues" type="ADODB.RecordSet"/>
        </xs:all>
    </xs:complexType>
</xs:element>
<xs:complexType name="ADODB.Recordset"/> 
```

然后我不得不将这个类添加到`machine.config`：

```
<system.xml.serialization>
    <schemaImporterExtensions> 
        <add type="SchemaImport.ADODBSchemaImporterExtension, SchemaImport, Version=1.0.0.0, Culture=neutral, PublicKeyToken=cd583032ee337c41" /> 
    </schemaImporterExtensions>
</system.xml.serialization> 
```

`/p:parameters.xml`并在xsd.exe的参数文件（开关）中指定程序集：

```
<?xml version="1.0" encoding="UTF-8"?>
<xsd xmlns='http://microsoft.com/dotnet/tools/xsd/'>
    <generateClasses language='c#' namespace='TableDocument'>
        <schemaImporterExtensions>
            <type>SchemaImport.ADODBSchemaImporterExtension, SchemaImport, Version=1.0.0.0, Culture=neutral, PublicKeyToken=cd583032ee337c41</type>
        </schemaImporterExtensions>
    </generateClasses>
</xsd> 
```

`using`最后，我在以 ADODB 作为引用和语句的 TableDocument 命名空间中得到了一个带有适当 Table 类的 .cs 文件。

# asp.net - asp.net - 发送的电子邮件中没有显示图像，其中电子邮件的正文是具有图形图像的网页

> ID：11610187
> 
> 赞同：0
> 
> 时间：2012-07-23T09:53:27.813
> 
> 标签：asp.net, image, charts, sendmail

有谁知道如何解决以下问题.......我正在尝试在 asp.net 中获取一个网页请求，该网页根据用户动态生成折线图和饼图，然后将该网页发送为电子邮件正文。但我只能部分成功。我检查了发送的电子邮件，但它没有显示我期望的那些图表。我尝试了做这件事的所有可能性。这可能是由于那些图形图像没有任何链接返回到在该实例动态生成的那些图形。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T09:57:06.917

听起来您正在获取需要登录的图像（即以用户身份登录以动态生成图像）。

我建议如果您将其作为电子邮件发送，您首先下载图像，然后做几件事之一

*   将其附加到电子邮件（将其转换为 png/jpg）然后对它进行 mime 编码并附加它
*   将您的“报告”转换为 PDF 并将 PDF 附加到电子邮件中。
*   使用唯一的 url （即 /graph/{MY-GUID} ）在内部托管您的图像，但是您需要存储大量静态图像。

这将发送动态图像的硬拷贝，而不是依赖于生成的链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:00:31.913

我建议您将这些图表嵌入电子邮件本身。

它通过将图像附加为常规邮件附件并将图像源设置为：

```
<img src=cid:yourImage/> 
```

这个关于[在电子邮件中嵌入图像的](http://www.codeproject.com/Articles/16730/Embed-image-in-Email-ASP-NET-C)代码项目示例应该会指导您完成它。

# websocket - Netty websocket 服务器高可用

> ID：11610200
> 
> 赞同：4
> 
> 时间：2012-07-23T09:54:15.437
> 
> 标签：websocket, netty, high-availability

我看过一个类似的问题：[Netty High Availability Cluster](https://stackoverflow.com/q/8725228/1416970)。我的场景是：有一个 netty websocket 服务器，各种本机 javascript web socket 客户端连接到该服务器。我正在研究 websocket 服务器的基本高可用性，并希望它应该在需要时故障转移到备份服务器。

上面给出的链接中的问题是关于 netty 客户端的，但是由于我没有用 netty 编写的客户端，所以我认为我的情况会与那个问题不同。我对吗？

有人可以建议一些方法来做到这一点，因为我想这有时会是一个相当重要的要求？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-24T23:50:56.330

因为 web sockets 是面向连接的，如果你的服务器运行了，你的 web socket 连接也会运行。

因此，为了实现高可用性，我认为您需要调整 javascript 代码以捕获连接错误并重新连接/登录。

通过这种方式，您可以将多个 netty 服务器放在负载均衡器后面。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-24T08:01:37.427

假设您无法控制您的客户端，如何在传统负载均衡器后面拥有多个 netty 服务器并将会话状态存储在[hazelcast](http://www.hazelcast.com/)或[infinispan](http://www.jboss.org/infinispan)集群中？这两个平台都允许您将它们直接嵌入到您的服务器中，或者拥有一个远程缓存。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-25T02:54:13.810

[Xitrum](https://github.com/ngocdaothanh/xitrum)非常适合您的需求。它使用 Hazelcast 扩展到多台服务器。

您可以尝试[WebSocket 演示](https://github.com/ngocdaothanh/xitrum-demos)。

[要启用集群模式，只需将config/hazelcast_cluster_member_or_super_client.xml](https://github.com/ngocdaothanh/xitrum-demos/blob/master/config/hazelcast_cluster_member_or_super_client.xml)中的“multicast”和/或“tcp-ip”设置为“true”并启动多个服务器。

# jquery - jQuery 选项卡，对象没有方法“选项卡”ASP MVC3

> ID：11610207
> 
> 赞同：1
> 
> 时间：2012-07-23T09:54:47.197
> 
> 标签：jquery, jquery-ui, jquery-tabs, asp.net-mvc

正如标题所说。

我正在尝试为我的应用程序使用 jQuery Tabs 控件，但我没有得到任何选项卡，只是列出了下面呈现的所有内容的标题。

这是用于查看的html代码：

```
<script src="@Url.Content("~/Scripts/jquery-1.7.2.min.js")" type="text/javascript"></script>
<script src='@Url.Content("~/Scripts/jquery-ui-1.8.21.custom.min.js")' type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#tabs").tabs();
    });
</script>

<h2>@ViewBag.Message</h2>
@ViewBag.Sad

<div id="tabs">
    <ul>
        <li><a href="#tabs-1">Zakupione</a></li>
        <li><a href="#tabs-2">Niezakupione</a></li>
    </ul>
    <div id="tabs-1">
        @{ Html.RenderPartial("_BoughtReport"); }
    </div>
    <div id="tabs-2">
        @{ Html.RenderPartial("_NonBoughtReport"); }
    </div>
</div> 
```

我检查了控制台，我得到的是：

```
Uncaught TypeError: Object [object Object] has no method 'tabs' Raport:43
(anonymous function) Raport:43
f.Callbacks.o jquery-1.7.2.min.js:2
f.Callbacks.p.fireWith jquery-1.7.2.min.js:2
e.extend.ready jquery-1.7.2.min.js:2
c.addEventListener.B jquery-1.7.2.min.js:2 
```

# android - Android 从单独的 xml 膨胀

> ID：11610208
> 
> 赞同：0
> 
> 时间：2012-07-23T09:54:55.503
> 
> 标签：android, inflate

如何从单独的 xml 文件中扩展特定视图。可能吗？当我尝试设置此视图的 id 时，我只有一个 ResourceNotFoundException。也许我需要以某种方式设置文件名？

```
LayoutInflater inflater = LayoutInflater.from(this);
FrameLayout ingredients_frame = (FrameLayout)inflater.inflate(R.id.ingredients_frame, null); 
```

R.id.ingredients_frame 位于单独的 xml 文件中。

例外：

```
 android.content.res.Resources$NotFoundException: Resource ID #0x7f060032 type #0x12 is not valid 
```

成分_frame_layout.xml：

```
<FrameLayout 
           xmlns:android="http://schemas.android.com/apk/res/android"
            android:id="@+id/ingredients_frame"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/expandable_second_layer_selector" >

            <TextView
                android:id="@+id/text"
                android:layout_width="fill_parent"
                android:layout_height="match_parent"
                android:layout_gravity="center"
                android:background="@android:color/white"
                android:singleLine="true"
                android:text="......................................................................................................................................................................"
                android:textColor="@color/dark_orange"
                android:textSize="18dip"/>

            <TextView
                android:id="@+id/ingredient_name"
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:layout_gravity="left"
                android:background="@android:color/white"
                android:textStyle="bold"
                android:text="@string/friends_total"
                android:textColor="@color/dark_orange"
                android:textSize="18dip" />

            <TextView
                android:id="@+id/ingredient_data"
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:layout_gravity="right"
                android:background="@android:color/white"
                android:textStyle="bold"
                android:textColor="@color/dark_orange"
                android:textSize="18dip" />
    </FrameLayout> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:04:27.277

试试这样 -

```
LayoutInflater inflater = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);
View vi = inflater.inflate(R.layout.ingredients_frame_layout, null); 
```

而且，使用`View`类对象可以识别布局中的其他组件。例如，如果您的布局中有一个 textView`example`

```
TextView tv = (TextView)vi.findViewById(R.id.textView1);
tv.setText("Hello world"); 
```

基于此，只要确定你`FrameLayout`喜欢这个

```
FrameLayout ingredients_frame = (FrameLayout)vi.findViewById(R.id.ingredients_frame); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:09:13.287

```
LayoutInflater inflater = LayoutInflater.from(this);
FrameLayout ingredients_frame = (FrameLayout)inflater.inflate(YOUR_LAYOUT, null); 
```

inflate 方法的第一个参数是 LAYOUT，而不是 ID。祝你好运！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-23T10:02:58.837

用这个

```
LayoutInflater mInflater = LayoutInflater.from(context);
View convertView = mInflater.inflate(R.layout.custom_list, null); 
```

执行上述方式而不是采用框架布局，而不是像这样采用您的文本视图

```
TextView txtTitle = (TextView) convertView.findViewById(R.id.text);

TextView txtTitle2 = (TextView) convertView.findViewById(R.id.ingredient_name);

txtTitle.setText(yourtext); 
```

# asp.net - 使用会话 ID 的页面重定向问题

> ID：11610211
> 
> 赞同：0
> 
> 时间：2012-07-23T09:55:08.320
> 
> 标签：asp.net

我有登录页面，我正在使用 http 处理程序对预编译的应用程序进行身份验证。

已经在应用程序中使用会话在身份验证后重定向到页面。

请建议我如何通过预编译应用程序中的 http 处理程序使用会话变量进行重定向。

注意：我不知道使用了哪个会话变量。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:07:26.370

您可以访问存储在[HttpContext.Session中的值](http://msdn.microsoft.com/en-us/library/system.web.httpcontext.session.aspx)

例如

在您的 HttpHandler 的 ProcessRequest 方法中

public void ProcessRequest(System.Web.HttpContext context) { string url = context.Session["Url"]; }

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:06:53.580

如果您的意思是您无法访问会话，`Session["key"]`那么您可以尝试以下操作

```
HttpSessionState session = HttpContext.Current.Session;

string myValue = session["key"].ToString(); 
```

# php - 执行计算时保持“无用”0

> ID：11610212
> 
> 赞同：1
> 
> 时间：2012-07-23T09:55:17.767
> 
> 标签：php, math, addition, subtraction

这似乎是一个奇怪的问题，但这是我自己无法解决的问题。如果我要说，将诸如 001 之类的数字分配给变量 $add，然后想要执行如下操作：

```
$me = $add + 1; 
```

手术后如何保持这个数字中“无用”的前导0？

完整概述：

```
<?php
$add = 001;
$me = $add + 1;
?> 
```

我想要的输出是 002，但我收到的输出只是 2。我也希望能够向后执行此操作，例如从 002 减去 1 得到 001 而不是简单的 1。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T09:58:04.437

您*无意中将十进制表示法与*[八进制表示法](http://us3.php.net/manual/en/language.types.integer.php)混淆了。

```
$a = 0123; // octal number (equivalent to 83 decimal) 
```

所以如果你从 010 中减去 001，你就不会得到 009！（见[这个计算器](http://www.easycalculation.com/octalarith.php)的例子）

如果您真的想显示带有前导零的数字，那就是输出格式问题。有关更多信息，请参阅[此 SO 答案](https://stackoverflow.com/questions/1699958/formatting-a-number-with-leading-zeros-in-php)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:06:07.517

如果您总是希望数字为三位数，则可以使用 sprintf

```
 sprintf('%03d', 2);  # prints "002" 
```

如果位数是可变的并且取决于原始输入，您必须首先确定您想要多少位数，然后将其放入格式参数中。

此外，在获取起始值时，请确保您不会意外地以八进制获取它（在解析输入字符串时不应该真的发生这种情况，这些将被视为十进制，但在程序中小心使用文字）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:07:22.830

你想要这样的`str_pad`事情：

```
<?php

$add = 001; //starting number

$number_to_pad = $add + 1; // echoing this would write "2"

$desired_length = 3; // adjust accordingly to how long you want you number to be

$output = str_pad($number_to_pad, $desired_length, '0', STR_PAD_LEFT);

// echo $add; // would write out '1'
// echo $number_to_pad; // would write out '2'
echo $output; // writes '002' as desired    
?> 
```

# visual-studio-2010 - Hunspell 代码在 Visual Studio 2010 中不起作用

> ID：11610213
> 
> 赞同：0
> 
> 时间：2012-07-23T09:55:22.727
> 
> 标签：visual-studio-2010, spell-checking, hunspell

我必须在我的一个项目中包含拼写检查功能，我决定使用 hunspell，因为它是一个出色的拼写检查器（许多免费和专有软件都在使用它）。我下载了源代码并将项目 libhunspell 添加到项目中。让它编译没有任何错误，还从openoffice网站下载了英文词典。以下是我用来初始化 hunspell 引擎和类它的拼写检查功能的代码：

```
 Hunspell *spellObj = (Hunspell *)hunspell_initialize("en_us.aff", "en_us.dic");

if(spellObj)
{
    int result = hunspell_spell(spellObj, "apply");
    hunspell_uninitialize(spellObj);
} 
```

代码不会抛出任何错误，但无论单词是什么，hunspell_spell 总是返回 0。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T12:59:10.930

尝试这个。这就是我在 MVC3 项目中使用的

```
private const string AFF_FILE = "~/App_Data/en_us.aff";
private const string DICT_FILE = "~/App_Data/en_us.dic";

public ActionResult Index(string text)
{
  using(NHunspell.Hunspell hunspell = new NHunspell.Hunspell(Server.MapPath(AFF_FILE), Server.MapPath(DICT_FILE)))
  {
    Dictionary<string, List<string>> incorrect = new Dictionary<string, List<string>>();
    text = HttpUtility.UrlDecode(text);
    string[] words = text.Split(new char[] { ' ' }, StringSplitOption.RemoveEmptyEntries);
    foreach ( string word in words)
    {
       if (!hunspell.Spell(word) && !incorrect.ContainsKey(word))
       {
          incorrect.Add(word, hunspell.Suggest(word));
       }
    }
    return Json(Incorrect);
  }
}

public ActionResult Suggest(string word)
{
   using(NHunspell.Hunspell hunspell = new NHunspell.Hunspell(Server.MapPath(AFF_FILE), Server.MapPath(DICT_FILE)))
   {
      word = HttpUtility.UrlDecode(word);
      return Json(hunspell.Suggest(word));
   }
}
public ActionResult Add(string word)
{
  using(NHunspell.Hunspell hunspell = new NHunspell.Hunspell(Server.MapPath(AFF_FILE), Server.MapPath(DICT_FILE)))
   {
      word = HttpUtility.UrlDecode(word);
      return Json(hunspell.Add(word));
   }
} 
```

# mysql - 拥有多列表格有什么缺点吗

> ID：11610214
> 
> 赞同：4
> 
> 时间：2012-07-23T09:55:32.727
> 
> 标签：mysql, database, database-design

我正在计划一个数据库结构，它将存储相当多的数据。我们需要为每个项目存储 50 个不同的数据“列”。添加一个时间戳，这给了我们 52 列（和 2 个索引，这将是过滤这些数据的唯一方法）。这个数据库每天都会添加几千行（并且永远不会更新），并且会使用一段时间。

所以我的第一选择是将所有东西都塞进一张桌子。让我在想 52 列是否有点糟糕或什么？我从来没有考虑太多。当然插入代码会很烦人，但它不像我要手动编写它们。

我应该将它拆分为多个表（然后使用联接或其他什么？），还是有这么大的表没有问题？如果它有所作为，我正在使用 mysql。

添加：澄清我将如何使用数据：

*   排序和过滤只会在索引列上进行。
*   在目前的计划中，这些数据将用于“人类消费”，因此我们将始终访问整行（在需要时将其输出到 csv 或其他任何内容）。
*   不会有删除或更新。会有很多插入和（不太频繁）选择。
*   与数据库中的其他数据不会有任何形式的“链接”（外键或其他）
*   所有的数据都与同一件事有关。没有“明显”的方法可以对其进行规范化，将其分解为表格只会将分类类别放入数据中并像这样存储它们。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T11:39:38.113

使设计不幸的并不是列的数量。这是所有这些列是否真的属于同一个表。当数据与表的键不紧密相关时，数据规范化规则对将数据存储在一个表中的后果有很多说明。

您应该了解规范化规则以及不遵循它们时会发生什么 稍后，您可能还应该了解故意偏离规范化规则可能会导致良好设计的情况。但是，在您了解规范化表格设计的价值之前，您无法了解这一点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-23T10:02:25.307

如果可能的话，我认为你应该把它分成几个表（规范化表）。然后，我的建议是，您应该对经常访问的表使用索引。索引可以使查询变得更快。但缺点是，插入新数据的过程会变慢。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-23T10:09:57.427

一个表中有 52 列本身并没有什么问题。

但是，如果您经常只查询这些列的某个子集，您可能会发现将这些经常使用的列一起存储在它们自己的表中而不存在多余的列会带来一些性能优势。

也就是说，在需要时与辅助表连接以访问额外的列会降低性能（`INSERT`两个表之间的操作也会变慢），因此需要进行权衡；另请注意，多个表会导致数据重复（至少是外键），因此总体上会消耗更多空间。

您可以对这两种方法进行基准测试，看看在您自己的情况下会出现什么差异。就个人而言，我会选择一张桌子，直到性能决定我在别处寻找。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-23T10:06:22.720

拥有巨大的表会使非索引列的查找和排序更加麻烦和昂贵。

最好有小而高效的桌子。

您可以选择将数据拆分为多个一对一的表，或者考虑使用键/值表。

如果您有兴趣，请参阅键值表信息：http: [//www.devshed.com/c/a/MySQL/Database-Design-Using-KeyValue-Tables/](http://www.devshed.com/c/a/MySQL/Database-Design-Using-KeyValue-Tables/)

# javascript - ajax“忙”指示器，但仅适用于较长的请求

> ID：11610220
> 
> 赞同：2
> 
> 时间：2012-07-23T09:55:54.673
> 
> 标签：javascript, jquery

是否可以指定我可以显示忙碌指示符的时间？

我的繁忙指标代码非常简单：

```
jQuery.ajaxSetup( {
    beforeSend:function ()
    {
        jQuery( "#busy-indicator" ).show();
    }, complete:function ()
    {
        jQuery( "#busy-indicator" ).hide();
    }
} ); 
```

但通常 Ajax 请求比出现指示器要快，因此我想将它显示为至少需要 1 秒的请求，这可能吗？或者你知道怎么做吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-23T10:00:06.230

这可以解决问题：

```
var timeout; 
jQuery.ajaxSetup( {
    beforeSend:function ()
    {
        if (timeout) { clearTimeout(timeout); }
        timeout = setTimeout(function() {
            jQuery( "#busy-indicator" ).show(); 
        }, 1000);
    }, 
    complete:function ()
    {
        if (timeout) { clearTimeout(timeout); } 
        jQuery( "#busy-indicator" ).hide();
    }
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-23T10:37:29.643

```
jQuery.ajaxSetup( {
    beforeSend:function ()
    {
        $( "#busy-indicator" ).stop(1,0).hide().delay(1000).show();
    }, 
    complete:function ()
    {
        $( "#busy-indicator" ).stop(1,0).hide();
    }
}); 
```

这也不行吗？

# c# - C# 将 long 转换为字符串

> ID：11610224
> 
> 赞同：15
> 
> 时间：2012-07-23T09:56:02.113
> 
> 标签：c#

我的问题是：

我有这个代码：

```
static long CountLinesInFile(string f)
{
    long count = 0;
    using (StreamReader r = new StreamReader(f))
    {
        string line;
        while ((line = r.ReadLine()) != null)
        {
            count++;
        }
    }
    return count;
} 
```

它计算文本文件的行数。我遇到的问题是，当我尝试这个时：

```
textBox1.Text = CountLinesInFile("test.txt"); 
```

我收到一个错误：

```
Error   1   Cannot implicitly convert type 'long' to 'string' 
```

这似乎是合法的，但我应该如何将其转换为字符串？在 Java 中它很简单`toString()`

有人可以给我一个解决方案吗？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-07-23T09:58:09.277

使用这样的`ToString()`方法：

```
textBox1.Text = CountLinesInFile("test.txt").ToString(); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-23T09:57:48.840

> 在 Java 中，它是一个简单的 .ToString

而在 C# 中，它只是`.ToString()`.

快乐学习。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-07-23T09:57:34.140

写吧

```
textBox1.Text =(CountLinesInFile("test.txt")).ToString(); 
```

[MSDN：Object.ToString 方法](http://msdn.microsoft.com/en-us/library/system.object.tostring.aspx) - 返回表示当前对象的字符串。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-23T10:00:28.217

试试这个`textBox1.Text = CountLinesInFile("test.txt").ToString();`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-10-24T22:43:47.587

冠军。

我这样做了：“将动态值转换为长并转换为字符串”

```
((long)x.PersonId).ToString(); 
```

# jquery - ASP.NET 中的 JQuery ajax 调用

> ID：11610228
> 
> 赞同：1
> 
> 时间：2012-07-23T09:56:20.013
> 
> 标签：jquery, asp.net

任何人都可以通过示例给我如何在 ASP.NET 中进行 JQuery ajax 调用的想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T09:59:55.890

试试这个

[http://www.dotnetthoughts.net/2012/07/15/how-to-access-page-methods-from-jquery/](http://www.dotnetthoughts.net/2012/07/15/how-to-access-page-methods-from-jquery/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T09:58:34.327

虽然它在技术上不是 jQuery AJAX，但您可以获取 ASP.NET AJAX 包并使用`UpdatePanel`. 在[ASP.NET AJAX 站点](http://www.asp.net/ajax/documentation/live/overview/UpdatePanelOverview.aspx)上有一个很好的教程。

或者，您可以只获取 jQuery 包并与一些标签一起使用，但是当您执行此类操作时，ViewState 可能会妨碍您，我建议为此使用内置的 ASP.NET AJAX 系统。

但是，如果您只是使用它来获取一些 JSON/JSONP，那么您可以使用 WCF 模型或 [WebMethod] 属性来获取它们而无需担心视图状态。

# php - Knp Menu Bundle 当前项目 Symfony 2

> ID：11610236
> 
> 赞同：8
> 
> 时间：2012-07-23T09:56:40.463
> 
> 标签：php, symfony, menu, knpmenubundle

我有一个关于为 Symfony2 渲染 KnpMenu Bundle 的问题。根据我的阅读，匹配的路线项目应该有一个“当前”类。我已经阅读了 Knp 文档，他们在说一些关于 RouteVoter 的内容，但我无法使其正常工作。有任何想法吗？

生成器代码：

```
<?php
// src/Acme/DemoBundle/Menu/Builder.php
namespace Acme\DemoBundle\Menu;

use Knp\Menu\FactoryInterface;
use Symfony\Component\DependencyInjection\ContainerAware;

class Builder extends ContainerAware
{
    public function mainMenu(FactoryInterface $factory, array $options)
    {
        $menu = $factory->createItem('root');

        $menu->addChild('Home', array('route' => 'index'));
        $menu->addChild('About Me', array('route' => 'products'));

        return $menu;
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-06-04T15:05:05.600

10 个月过去了，我遵循了上面概述的解决方案，但是我发现它很复杂。我使用以下方法。

```
class Builder extends ContainerAware
{
    public function mainMenu(FactoryInterface $factory, array $options)
    {
        $menu = $factory->createItem('root');
        // Manually set the current URI.
        $menu->setCurrentUri($this->container->get('request')->getRequestUri());
        // ... 
    }
} 
```

我对语义视而不见，但是像上面的代码示例这样的方法有什么问题？请根据需要提供反馈。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-23T11:20:59.627

好的，显然这个解决方案似乎有效： [https ://github.com/KnpLabs/KnpMenuBundle/issues/122#issuecomment-6563863](https://github.com/KnpLabs/KnpMenuBundle/issues/122#issuecomment-6563863)

# javascript - 确定我的 jquery 插件第一次运行的最佳方法

> ID：11610239
> 
> 赞同：0
> 
> 时间：2012-07-23T09:56:53.800
> 
> 标签：javascript, jquery, jquery-plugins

我为我的项目编写了一些 jquery 插件（为了分离代码并重用常用功能）。在开始之前，我在正文中添加了一些 div（实际上是添加引导模式窗口）。

现在我在插件中有两种方法，如下所示：`$('body').doSomething('addDiv')`和`$('#target').doSomething()`. 找出插件第一次在`doSomething()`方法内启动的最佳方法是什么？

我不认为每次通过 jQuery 选择器添加 div 时都检查一下是个好主意。也许我可以使用 jQuery 数据方法或类似的方法？

我是 JS 和 JQuery 的新手，所以我不知道常见的模式。

# android - drawLine 的阴影

> ID：11610240
> 
> 赞同：2
> 
> 时间：2012-07-23T09:56:58.523
> 
> 标签：android

我想知道，通常，你们是如何为从 中绘制的线投下阴影的`Paint.drawLine`？据我所知，`Paint.setShadowLayer`仅对 有影响`Paint.drawText`，但对 没有影响`Paint.drawLine`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-06T16:22:07.137

我会画第二条线，向右移动 1px，向下移动 1px（或更多，取决于你想要实现的“阴影距离”）

1, 1 因为光线通常预计来自左上角（作为我们大脑的默认设置）。

您可以通过为这些偏移设置不同的值来实现不同的灯光位置。

我会用黑色和 50% 的不透明度来绘制它（只是说 - 必须根据背景逐个调整它）。

# android - Android 应用程序字体渲染

> ID：11610256
> 
> 赞同：1
> 
> 时间：2012-07-23T09:58:13.097
> 
> 标签：android, android-ndk

在 Android 应用程序中支持印度字体时，我遇到了一个问题。如果我将自定义字体添加为资源，则某些字体会移动它的位置。但我需要解决这个问题。

有什么办法可以解决这个问题。可以用 Android NDK 修复它吗？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:19:11.630

1.  [查看此](https://github.com/mayooresan/Japs-Attack-Ceylon--Android-App)项目以在 Web 视图中呈现自定义字体。
2.  查看[此](https://github.com/mayooresan/Android-Tamil)和[此](https://github.com/mayooresan/android-tamilvisai/tree/master/tamilvisai)项目以在文本视图中呈现自定义字体

# backbone.js - 初始化器的主干木偶模块顺序

> ID：11610257
> 
> 赞同：1
> 
> 时间：2012-07-23T09:58:14.393
> 
> 标签：backbone.js, marionette

我一直在研究 Backbone Marionette，一直在为我自己的纯 Backbone 应用程序模仿它的一部分。看起来很有希望，但我不确定的一件事是初始化程序运行的模块结构和顺序。主要是关于`Backbone.history.start`

`Application`我想我将拥有一个包含 , 等模块`Auth`的`Todo`顶层（`Comments`我通常从一个简单的 todo 应用程序开始尝试框架）。每个模块都有自己的路线。据我了解，它们必须在我之前进行初始化`Backbone.history.start()`。我是否只是触发所有模块从我的顶层`Application`开始，然后开始历史记录？这将确保模块路由器在启动之前被初始化`Backbone.history`。这听起来像是启动了可能不需要的模块，从而减慢了应用程序的速度？

当然，我知道的大多数应用程序，不需要很大，启动速度可能是可以接受的。但是我想知道最佳实践或建议是什么

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-28T01:49:44.697

默认情况下，模块从父应用程序开始，但您可以覆盖它：

> 子模块可以通过将 startWithParent 设置为 false 来覆盖此行为。这可以防止它被父级的 start 调用启动。

`MyApp.MyModule.start()`然后，您可以随时手动调用。

当您调用 时`Application.start()`，模块以相反的顺序运行。从[文档](https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.application.module.md#starting-and-stopping-modules)：

> 子模块的启动是在深度优先层次遍历中完成的。也就是说，Foo.Bar.Baz 的层次结构将首先启动 Baz，然后是 Bar，最后是 `Foo.

您需要在调用`Backbone.history.start()`后调用`Application.start()`，至少在应用程序中实例化一个路由器。调用后实例化其他路由器应该没有任何问题`Backbone.history.start()`（至少根据[BB.Marionette 的 Derick Bailey 的这个答案](https://stackoverflow.com/questions/10712734/backbone-multiple-routers-and-history-start)）

# c++ - 使用 Arduino 将字符串转换为 const char* 类型

> ID：11610264
> 
> 赞同：11
> 
> 时间：2012-07-23T09:58:27.467
> 
> 标签：c++, casting, arduino

我正在使用 Arduino 库。我想记录来自传感器的一些数据，为其添加日期时间戳并将其写入 SD 卡。

要构建我尝试过的文本文件名

```
 String dataFileName = String(String(sedClock.getTime().year(),DEC) + 
                         String(sedClock.getTime().month(),DEC) + 
                         String(sedClock.getTime().day(),DEC) + 
                         String(sedClock.getTime().hour(),DEC) + 
                         String(sedClock.getTime().minute(),DEC) + 
                         String(sedClock.getTime().second(),DEC) + '_log.txt'); 
```

然后我想使用

```
 pinMode(SD_PIN,OUTPUT);
      dataFile = SD.open(dataFileName,FILE_WRITE); 
```

但我明白了

```
 no matching function call to SDClass::open(String&, int) 
    candidates are: File SDClass::open(const char*,uint_8) 
```

但似乎 Arduino 字符串没有相当于

```
 (const char *) dataFileName.c_str() 
```

所以我不知道如何进行正确的转换

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-07-25T08:30:15.197

谢谢你的帮助。解决方案是

```
 char __dataFileName[sizeof(dataFileName)];
    dataFileName.toCharArray(__dataFileName, sizeof(__dataFileName));

    pinMode(SD_PIN,OUTPUT);
    dataFile = SD.open(__dataFileName,FILE_WRITE); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-23T10:06:17.103

[`StringToCharArray`](https://www.arduino.cc/en/Reference.StringToCharArray)或者怎么样[`StringGetBytes`](http://arduino.cc/en/Reference/StringGetBytes)？

# android - 包括来自其他布局的对象android

> ID：11610266
> 
> 赞同：0
> 
> 时间：2012-07-23T09:58:39.567
> 
> 标签：android

我有一个这样的 xml 布局文件：

```
<?xml version="1.0" encoding="utf-8"?> 
```

```
<LinearLayout
    android:id="@+id/tabBar"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="#474747"
    android:orientation="horizontal" >

    <ImageButton
        android:id="@+id/BtnSlide"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:background="@null"
        android:src="@drawable/lin" />

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:text="SteriaFIT Mobile"
        android:gravity="center"
        android:paddingLeft="12dp"
        android:textAppearance="?android:attr/textAppearanceMedium" />
</LinearLayout>

<RelativeLayout
android:background="#41413F"
android:layout_height="wrap_content"
android:layout_width="fill_parent">
    <LinearLayout
        android:id="@+id/some_layout_item"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content">

</LinearLayout>

<View
    android:layout_below="@id/some_layout_item"
    android:layout_width="fill_parent"
    android:layout_height="5dip"
    android:background="@drawable/drop_shadow">
</View> 
```

```
<ListView android:id="@+id/list" android:layout_width="match_parent" android:layout_height="wrap_content"
    android:background="#FFFFFF" android:cacheColorHint="#FFFFFF">
</ListView>

<Button
    android:id="@+id/button1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="To Next Activity" /> 
```

我只想`tabBar`从这个文件中获取布局到另一个 xml 布局文件中，我通过在`@+id`这种方式之后包含来做到这一点：

```
<include android:id="@+id/tabBar" layout="@layout/horz_scroll_app" /> 
```

但在我看来，这行代码将包含整个布局文件？

**编辑**

应该提到这个方法也会给我`Button`带有id的`button1`

**编辑 2**

好的，所以在放入`tabBar`一个新的布局文件之后，如下所示：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:id="@+id/tabBar"
  android:layout_width="fill_parent"
  android:layout_height="wrap_content"
  android:background="#474747"
  android:orientation="horizontal" >

    <ImageButton
        android:id="@+id/BtnSlide"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:background="@null"
        android:src="@drawable/lin" />

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:text="SteriaFIT Mobile"
        android:gravity="center"
        android:paddingLeft="12dp"
        android:textAppearance="?android:attr/textAppearanceMedium" />

</LinearLayout> 
```

并将其包含在我的原始 xml 布局中，如下所示：

```
 <include  layout="@layout/tab_bar" android:id="@+id/tabBar" /> 
```

在我看来，我无法在我的布局中注册`OnClickListener`任何`ImageButton`内容`tabBar`。我试图做的事情：

```
 View app = inflater.inflate(R.layout.tab_bar, null);
 ViewGroup tabBar = (ViewGroup) app.findViewById(R.id.tabBar);

btnSlide = (ImageButton) tabBar.findViewById(R.id.BtnSlide);
btnSlide.setOnClickListener(new ClickListenerForScrolling(scrollView, menu)); 
```

谁能给个提示=

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:08:13.330

Include 用于将整个 xml 文件包含到当前布局中。如果您只想要 tabBar 路径，则将它们放入单独的布局文件中，然后将它们也包含到原始视图中。

您将正常访问视图：

```
LinearLayout tabBar = (LinearLayout) findViewById(R.id.tabBar);
ImageButton btnSlide = (ImageButton) tabBar.findViewById(R.id.BtnSlide); 
```

我相信，整个将视图放在一起的部分是在编译时完成的。因此，您可以像平常对待 xml 布局中的视图一样对待它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:03:21.113

对，如果提供的布局文件名是 horz_scroll_app ，它将被完整包含。查看[Romain Guy 的这篇文章以](http://www.curious-creature.org/2009/02/25/android-layout-trick-2-include-to-reuse/) 获得关于包含的清晰解释。

# php - 返回电子商务网站的上一页

> ID：11610269
> 
> 赞同：0
> 
> 时间：2012-07-23T09:58:48.290
> 
> 标签：php, url, redirect

我正在使用电子商务网站，用户可以在其中使用类别、子类别、品牌和产品等过滤器进行导航。所以流程是

```
product.php?catid=1&subcatid=11&brandid=12&prodid=111 
```

现在的问题是，当我点击浏览器的后退按钮时，它要求确认表单重新提交。但我想要的是，它应该直接进入品牌过滤器。我的意思是

```
product.php?catid=1&subcatid=11&brandid=12 
```

任何形式的帮助都非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:10:20.737

避免使用 POST 方法提交表单，而使用 GET 方法。如果需要 POST 方法，请使用以下方法之一。

[防止表单重新提交](https://stackoverflow.com/questions/3923904/preventing-form-resubmission)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:16:23.887

有办法解决这个问题...

1.  使用 GET 而不是 POST 方法...

2.  使用阿贾克斯..

# java - 可调信号量

> ID：11610270
> 
> 赞同：0
> 
> 时间：2012-07-23T09:58:51.643
> 
> 标签：java, multithreading, semaphore

是否有任何 Java Semaphore 的生产级实现可以在创建信号量后调整许可数量？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:42:54.903

我不能完全给你“现有的生产级”，但我可以给你“现有的源代码”，为现有的生产级实现*提供一个薄包装。*怎么样？

本质上，您可以*扩展*Java 的 Semaphore 类来实现您想要的。所以，你站在巨人的肩膀上。

1.  要将许可数量增加 X 次，请调用[Semaphore.release(X)](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Semaphore.html#release%28int%29)
2.  要减少许可数量，请调用**受保护**的方法[Semaphore.reducePermits(X)](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Semaphore.html#reducePermits%28int%29)。

第 2 项，受保护的方法，解释了为什么需要*扩展*Semaphore 类。

有关完整的实现和更好的解释，请参阅此博客条目：

[http://blog.teamlazerbeez.com/2009/04/20/javas-semaphore-resizing/](http://blog.teamlazerbeez.com/2009/04/20/javas-semaphore-resizing/)

# asp.net-mvc - ASP.NET MVC 中的依赖下拉菜单？

> ID：11610273
> 
> 赞同：2
> 
> 时间：2012-07-23T09:59:23.723
> 
> 标签：asp.net-mvc, json, jquery, html.dropdownlistfor, cascadingdropdown

看法

```
<script type="text/javascript">
function getCities(abbr) {
    $.ajax({
        url: '@Url.Action("SayaclariGetir", "Enerji")',
        data: { abbreviation: abbr },
        dataType: "json",
        type: "POST",
        error: function () {
            alert("Error!");
        },
        success: function (data) {
            var items = "";
            $.each(data, function (i, item) {
                items += "<option value=\"" + item.sno + "\">" + item.seri_no + "</option>";
            });

            $("#sayaclar").html(items);
        }
    });
}

$(document).ready(function () {
    $("#musteriler").change(function () {
        var abbr = $("#musteriler").val();
        getCities(abbr);
    });
});
</script>
<div>
<table>
    <tbody>
        <tr>
            <td>@Html.DropDownListFor(x => x.musteri_id, new SelectList(Model.musteriler, "sno", "musteri_adi"), "-- Müşteri Seçiniz --", new { id = "musteriler" })
            </td>
            <td>@Html.DropDownListFor(x => x.sayac_id, new SelectList(Model.sayaclar, "sno", "seri_no"), "-- Sayaç Seçiniz --", new { id = "sayaclar" })
            </td>
            <td>
                <input type="submit" value="Kaydet" />
            </td>
        </tr>
    </tbody>
</table>
</div> 
```

控制器

```
[HttpPost]
public ActionResult SayaclariGetir(string abbreviation)
{
    int musteri_id = Int32.Parse(abbreviation);
    IEnumerable<TblSayaclar> _sayaclar = entity.TblSayaclar.Where(x => x.musteri_id == musteri_id);

    return new JsonResult
    {
        Data = new
        {
            success = true,
            sayaclar = _sayaclar
        },
        JsonRequestBehavior = JsonRequestBehavior.AllowGet
     };
 } 
```

模型

```
public class TuketimRaporViewModel
{
    public IEnumerable<TblMusteriler> musteriler { get; set; }
    public IEnumerable<TblSayaclar> sayaclar { get; set; }

    public int musteri_id { get; set; }
    public int sayac_id { get; set; }
} 
```

当第一个下拉列表更改时，我收到警报“错误！”。我找不到，为什么我收到警报消息？

**编辑**

当我写这个`sayaclar = new SelectList(_sayaclar,"sno","seri_no")`而不是`sayaclar = _sayaclar`没有发生错误时，这一次，第二个下拉列表值是“未定义的”。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:34:28.947

我写了这个并且它有效：

```
[HttpPost]
public ActionResult SayaclariGetir(string abbreviation)
{
   int musteri_id = Int32.Parse(abbreviation);
   var _sayaclar = entity.TblSayaclar.Where(x => x.musteri_id == musteri_id).Select(x => new { sno = x.sno, seri_no = x.seri_no });

   return Json(_sayaclar, JsonRequestBehavior.AllowGet);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T21:50:15.847

你可以从这里使用 AjaxDropdown：http: [//awesome.codeplex.com](http://awesome.codeplex.com)

它在这里有一个演示：http: [//demo.aspnetawesome.com/AjaxDropdownDemo](http://demo.aspnetawesome.com/AjaxDropdownDemo)

# c# - 如何通过主键和外键（右连接）合并两个数据表？

> ID：11610274
> 
> 赞同：2
> 
> 时间：2012-07-23T09:59:23.780
> 
> 标签：c#, .net, merge, datatable, dataset

有没有办法通过不同的键合并两个数据表 table1 和 table2？

想要做`dataTable.Merge`的`t1 PK_id`和`t2 ParentId`。`ParentId`如果不是，这可能`PK`吗？

***表格1***

```
PK_id   Name
--------------
  1     test1
  2     test2
  3     test3 
```

***表2***

```
PK_id2  ShortName  ParentId
---------------------------
   1       a           1
   2       b           1
   3       c           2 
```

***结果是右连接***

```
PK_id   Name   PK_id2  ShortName  ParentId
------------------------------------------------
   1    test1     1        a          1
   1    test1     2        b          1
   2    test2     3        c          2
   3    test3    null     null      null 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T13:30:39.033

使用 linq 可能是你最好的选择。您将不得不在代码中添加一些额外的东西，但这个例子很好地解释了它。

[http://support.microsoft.com/kb/326080/en-us](http://support.microsoft.com/kb/326080/en-us)

# java - 如何删除Java中的最后几个数字字符

> ID：11610275
> 
> 赞同：-1
> 
> 时间：2012-07-23T09:59:26.703
> 
> 标签：java

我想问一下，如何删除Java中的最后几个数字字符。举些例子，

```
Tiger4DK5 become Tiger4DK
Tiger10DK22 become Tiger10DK
Tiger5DK215 become Tiger5DK 
```

请指教，谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-23T10:00:47.793

使用正则表达式:)

```
myString = myString.replaceAll("\\d*$", ""); 
```

# python - Python 2.7：“AttributeError：'callable-iterator'对象没有属性'group'”（生成器表达式中的正则表达式查找器）

> ID：11610276
> 
> 赞同：0
> 
> 时间：2012-07-23T09:59:31.313
> 
> 标签：python, regex, expression, generator

我正在编写一个涉及以下生成器表达式的程序（您可能会猜到，'sep2' 是一个已编译的正则表达式）：

```
(chunk.group(1).strip(punctuation) for chunk in sep2.finditer(textString)) 
```

这工作正常。但是，我突然想到，如果不是使用大字符串，而是逐行处理文件，该程序将更具可扩展性。所以我尝试了以下方法：

```
(chunk.group(1).strip(punctuation) for chunk in (sep2.finditer(line) for line in file)) 
```

不幸的是，这会引发以下错误消息：

```
AttributeError: 'callable-iterator' object has no attribute 'group' 
```

现在，我可以放弃逐行处理文件的想法——老实说，这没什么大不了的。但我很想知道这里出了什么问题。我已经在 stackoverflow（和 Python 网站，以及一般的互联网）中搜索了上面的错误消息，但没有找到任何似乎相关的内容。我认为我需要知道的是如何从内部生成器表达式（我假设）产生的“可调用迭代器”对象中获取匹配对象。但我可能只是感到困惑；我不是一个程序员（只是觉得编程有用的人）！

谢谢你的时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T13:08:41.463

您已经添加了额外的嵌套来迭代，但没有添加额外的迭代来处理数据。因此，为处理一系列块而编写的代码正在接收一系列块的序列（每行一个）。

代码应该看起来更像：

```
from itertools import chain

(chunk.group(1).strip(punctuation) 
 for chunk in chain.from_iterable(sep2.finditer(line) for line in file)) 
```

或者（在这个嵌套级别，明确表示更有意义 - 在您的“多合一”代码中很难看到问题，但在这里它“自动”工作，因为您避免创建嵌套生成器）：

```
for line in file:
    for chunk in sep2.finditer(line):
        yield chunk.group(1).strip(punctuation) 
```

# google-maps - 添加 Google 地图文档以在 PhpStorm 中完成代码

> ID：11610278
> 
> 赞同：29
> 
> 时间：2012-07-23T09:59:37.120
> 
> 标签：google-maps, google-maps-api-3, phpstorm

我正在使用 PhpStorm 开发一个 Web 应用程序，并使用 Google Maps JavaScript API v3。当然，PhpStorm 提供了代码完成功能，但前提是它知道所使用的库。因此，我想将 Google Maps 库包含到 PhpStorm 中，以便能够使用代码完成，但我不知道从哪里获取 .js 文件。有人知道如何完成这项任务或知道 js 库的 URL 吗？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2014-02-10T07:31:22.207

这是您在 PhpStorm 中必须做的事情（我使用的是 7.1，但想法是一样的）。

转到[此处](https://github.com/google/closure-compiler/tree/master/contrib/externs/maps)并将文件（我选择的是最新版本）复制到您想要的任何目录（它将仅由 PhpStorm 使用，而不是您的应用程序，因此您将其保存在哪里并不重要）。

在此之后转到**Files** -> **Settings** -> **JavaScript** -> **Libraries**。然后单击**添加**并写入名称、版本并提供指向您的文件的链接（采用与我的屏幕截图类似的方法）。

![PHPStorm 的](../Images/9dfff81568a2f09a5888d7ea28095297.png)

单击**确定**并**应用**后，一切都应该开始工作了。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-01-25T19:34:20.367

这里有适用于 Visual Studio 的 Google Maps 3 存根：

[http://gmapvsdoc.codeplex.com/releases/view/41099](http://gmapvsdoc.codeplex.com/releases/view/41099)

我将这两个 javascript 文件放到了我的 IntelliJ 11 项目中，它并不完美，但至少有助于减少一些警告。如果我发现更好的东西，我会更新这篇文章。

**2013 年 1 月 25 日更新：更好的东西！**

谷歌地图存根可在此处获得： [http ://closure-compiler.googlecode.com/svn/trunk/contrib/externs/maps/](http://closure-compiler.googlecode.com/svn/trunk/contrib/externs/maps/)

**2013 年 12 月 12 日更新**

上一个链接指向特定的颠覆修订。更好的链接是[https://code.google.com/p/closure-compiler/source/browse/#git%2Fcontrib%2Fexterns%2Fmaps](https://code.google.com/p/closure-compiler/source/browse/#git%2Fcontrib%2Fexterns%2Fmaps)，它显示了所有可用的存根（现在有更新的版本）。

**更新，2014 年 11 月**

闭包编译器项目现在在 GitHub 上（感谢 voltagex）。请参阅[https://github.com/google/closure-compiler/tree/master/contrib/externs/maps](https://github.com/google/closure-compiler/tree/master/contrib/externs/maps)。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2017-01-22T07:42:28.067

现在`Google Maps`可以从 PhpStorm 直接下载存根，**文件 > 设置 > 语言和框架 > Javascript > 库 > 下载**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-23T10:32:27.390

PhpStorm 跟踪器中有一个针对此问题的[未](http://youtrack.jetbrains.com/issue/WI-7931)解决问题。您可以尝试配置[存根库](https://github.com/dira/gmaps-stub)，但您不会获得任何文档，代码中只会出现较少的警告。

# json - 如何从 Mule Flow 发布到 REST api？

> ID：11610280
> 
> 赞同：1
> 
> 时间：2012-07-23T09:59:37.980
> 
> 标签：json, rest, post, esb, mule

我需要一些关于 Mule 3 esb 的帮助。我正在读取来自 JMS 队列的消息，然后我想将此消息的某些部分发布到外部 REST api 并处理响应。我以前只使用过 Mule 与数据库通信，从未使用过 Web 服务。你能帮我弄清楚我需要做什么才能正确发布到这个 api 并处理响应。我应该使用 java 组件而不是在流程中执行它吗？

这是来自 JMS 队列的示例 XML 消息

```
<longUrl>http://www.cnn.com</longUrl> 
```

这是我的流程

```
<flow name="myFlow" doc:name="myFlow">

    <jms:inbound-endpoint queue="input" connector-ref="jmsConnector" doc:name="JMS">
        <jms:transaction action="ALWAYS_BEGIN"/>
    </jms:inbound-endpoint>        

    <logger message="#[payload]" level="INFO" doc:name="Logger"/>

    <choice doc:name="Choice">
        <when expression="payload.size() &gt; 0" evaluator="groovy">
            <processor-chain>
                <logger message="****** Create short url *******" level="INFO" doc:name="Logger"/>                                        
                <https:outbound-endpoint method="POST" exchange-pattern="request-response" address="https://www.googleapis.com/urlshortener/v1/url" contentType="application/json" doc:name="HTTP"/>
            </processor-chain>
        </when>
        <otherwise>
            <processor-chain>
                <message-properties-transformer doc:name="Message Properties">
                    <add-message-property key="Content-Type" value="text/plain"/>
                </message-properties-transformer>
                <expression-transformer doc:name="Expression">
                    <return-argument evaluator="string" expression="no parameter is given!"/>
                </expression-transformer>
            </processor-chain>
        </otherwise>
    </choice>      

</flow> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T17:18:39.283

在 POST 到 Google API 之前，您需要将 XML 转换为 JSON。

我分两步做到了这一点：

*   使用 XPath 提取长 URL 并从中创建一个映射，
*   将地图转换为 JSON。

这是相关的配置位：

```
<processor-chain>
    <logger message="****** Create short url *******"
        level="INFO" doc:name="Logger" />
    <expression-transformer expression="['longUrl':xpath('/longUrl').stringValue]" />
    <json:object-to-json-transformer />
    <https:outbound-endpoint
        method="POST" exchange-pattern="request-response"
        address="https://www.googleapis.com/urlshortener/v1/url"
        contentType="application/json" doc:name="HTTP" />
</processor-chain> 
```

有了这个，我得到了正确的 JSON 响应：

```
{
 "kind": "urlshortener#url",
 "id": "http://goo.gl/2ViC",
 "longUrl": "http://www.cnn.com/"
} 
```

# jquery - Jquery：更改自动完成组合框小部件的 Json 源？

> ID：11610289
> 
> 赞同：0
> 
> 时间：2012-07-23T10:00:04.767
> 
> 标签：jquery, autocomplete

首先，我从 Jquery 开始，我的问题有点小菜一碟，但我没有找到解决方案。我得到了官方的组合框示例。我将其更改为使用 Json 源。但我想要组合框的 2 个实例，源 URL 不同。

（我想我不需要创建第二个 Combobox 函数来更改源，如果我错了告诉我）

这是我的代码：

```
<div id="etape1">
<div class="ui-widget">
    <label>Veuillez selectionner une application: </label>
    <select id="combobox_application">
        <option value="">Select one...</option>
        <option value="Chargement en cours">Chargement en cours</option>

    </select>
</div>

<button id="create-user">Ajouter une application</button>
</div>
<div id="etape2" style="display:none">
<div class="ui-widget">
    <label>Veuillez selectionner un scenario: </label>
    <select id="combobox_scenario">
        <option value="">Select one...</option>
        <option value="ActionScript">ActionScript</option>
        <option value="AppleScript">AppleScript</option>
    </select>
</div> 
```

## 编辑

感谢您的帮助，不幸的是它不起作用。我在这：

*   有一个 jquery-combobox.js（来源如下）
*   在我的主页上，得到了这个：

    ```
    <script>
    $(function() {
    $('#combobox_application').combobox({
        source: function(req,add) {
            $.ajax({
                url: "?module=gestionApplication&action=getListeApplications",
                dataType:"json",
                success: function(data, textStatus, XMLHttpRequest){
                    alert(data);
                    add(data);
                }
            });
        },
        selected: function(event, ui) {
            $("#etape2").css('display', 'block');
        }
    });
       $('#combobox_scenario').combobox({
        source: function(req,add) {
            $.ajax({
                url: "?module=gestionApplication&action=getListeScenarios",
                dataType:"json",
                success: function(data, textStatus, XMLHttpRequest){
                    alert(data);
                    add(data);
                }
            });
        }
    }); 
    ```

jquery-combobox.js：

-

```
(function( $ ) {
$.widget( "ui.combobox", {
    _create: function() {
        var input,
            self = this,
            select = this.element.hide(),
            selected = select.children( ":selected" ),
            value = selected.val() ? selected.text() : "",
            wrapper = this.wrapper = $( "<span>" )
                .addClass( "ui-combobox" )
                .insertAfter( select );
        input = $( "<input>" )
            .appendTo( wrapper )
            .val( value )
            .addClass( "ui-state-default ui-combobox-input" )
            .autocomplete({
                delay: 0,
                minLength: 0,

                // Need define source in my main js
                //~ source: function( request, response ) {
                    //~ $.ajax({
                        //~ url: "?module=gestionApplication&action=getListeApplications",
                        //~ dataType: "json",

                        //~ success: function( data ) {
                            //~ response( $.map( data, function( item ) {
                                //~ return {
                                    //~ label: item.nom,
                                    //~ value: item.nom,
                                    //~ option: this
                                //~ }
                            //~ }));
                        //~ }
                    //~ });
                //~ },
                select: function( event, ui ) {
                    ui.item.option.selected = true;
                    self._trigger( "selected", event, {
                        item: ui.item.option
                    });
                },
                change: function( event, ui ) {
                    if ( !ui.item ) {
                        var matcher = new RegExp( "^" + $.ui.autocomplete.escapeRegex( $(this).val() ) + "$", "i" ),
                            valid = false;
                        select.children( "option" ).each(function() {
                            if ( $( this ).text().match( matcher ) ) {
                                this.selected = valid = true;
                                return false;
                            }
                        });
                        if ( !valid ) {
                            // remove invalid value, as it didn't match anything
                            $( this ).val( "" );
                            select.val( "" );
                            input.data( "autocomplete" ).term = "";
                            return false;
                        }
                    }
                }
            })
            .addClass( "ui-widget ui-widget-content ui-corner-left" );

        input.data( "autocomplete" )._renderItem = function( ul, item ) {
            return $( "<li></li>" )
                .data( "item.autocomplete", item )
                .append( "<a>" + item.label + "</a>" )
                .appendTo( ul );
        };

        $( "<a>" )
            .attr( "tabIndex", -1 )
            .attr( "title", "Show All Items" )
            .appendTo( wrapper )
            .button({
                icons: {
                    primary: "ui-icon-triangle-1-s"
                },
                text: false
            })
            .removeClass( "ui-corner-all" )
            .addClass( "ui-corner-right ui-combobox-toggle" )
            .click(function() {
                // close if already visible
                if ( input.autocomplete( "widget" ).is( ":visible" ) ) {
                    input.autocomplete( "close" );
                    return;
                }

                // work around a bug (likely same cause as #5265)
                $( this ).blur();

                // pass empty string as value to search for, displaying all results
                input.autocomplete( "search", "" );
                input.focus();
            });
    },

    destroy: function() {
        this.wrapper.remove();
        this.element.show();
        $.Widget.prototype.destroy.call( this );
    }
});
})( jQuery ); 
```

但这不起作用，选择没问题，但来源似乎没有改变任何东西。

## 非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:20:51.800

把你的代码变成一个函数（可以把它放在一个单独的文件中）

然后在调用函数时传递诸如 id、url 和 selected in 之类的内容。

例如

```
 $(function() {

    createCombobox('#combobox_application','?module=gestionApplication&action=getListeApplications',
     function(event, ui) { $("#etape2").css('display', 'block');  }
    );

    createCombobox('#combobox_scenario','?module=gestionApplication&action=getListeScenarios')   

  }); 
```

**编辑**

我想我理解你的问题。

您已在页面上包含小部件代码。您可以将它放在一个额外的 .js 文件中

你只需要这个

```
 $(function() {
   $('#combobox_application').combobox({  
        source: function(req,add) {  
                      $.ajax({  
                        url: "SOME_URL",  
                       dataType:"json",  
                       success: function(data, textStatus, XMLHttpRequest){  
                         add(data);  
                       }  
                   });  

        },  
        select: function(event, ui) {  
                       $("#etape2").css('display', 'block');
        }});  

   $('#combobox_scenario').combobox({  
        source: function(req,add) {  
                      $.ajax({  
                        url: "SOME_URL",  
                       dataType:"json",  
                       success: function(data, textStatus, XMLHttpRequest){  
                         add(data);  
                       }  
                   });  

        }}); 
    }); 
```

不要忘记包含外部 .js 文件引用

# jquery - Jquery .show 不工作

> ID：11610298
> 
> 赞同：1
> 
> 时间：2012-07-23T10:00:31.380
> 
> 标签：jquery

我有以下 jquery，它将在单击按钮时显示 div。

```
var parent = $(this)[0].parentElement.innerHTML;
$(parent).find('.divName').show(); 
```

`.show()`不管用。任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:02:10.410

在第一行，您将获得一个元素的 HTML 字符串。
在第二行，您将使用此字符串创建一个新元素，然后调用`.show()`原始元素的虚拟副本。

这是正确的方法：

```
var $parent = $(this).parent();
$parent.find('.divName').show(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:02:09.710

只需删除`.innerHTML`，您针对的是文本，而不是元素。

另外，我通常不会混淆 jquery 和 javascript，这里是翻译的：

```
var parent = $(this).parent();
parent.find('.divName').show(); 
```

另外，你能显示完整的代码吗？

**已编辑**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:02:57.573

从 HTML 字符串中检索 jQuery 对象将不起作用。这应该做你想要的：

```
$(this).first().parent().find(".divName").show(); 
```

# java - Java - 尝试获取某些属性时出错

> ID：11610301
> 
> 赞同：0
> 
> 时间：2012-07-23T10:00:46.887
> 
> 标签：java, properties

好吧，我从没想过在编程时我需要走这么远，但我被困住了..

我正在为我需要构建的东西构建某种引擎，并且出现“预期”错误。

这让我发疯，因为所有来源都是正确的（至少我是这么认为的）。

资源：

```
import java.util.*;
import java.io.*;

public class Configurations {

    // Storing the file locations in Strings.
    public static String MOVE_FILE = "./configs/movement.properties";

    // Creating the needed variables for working-out stuff.
    public static String HELLO_WORLD;

    // Reading certain properties file and getting parameters.
    Properties Props = new Properties(); // Asks me to put { { here..
    try {
        Props.load(new FileInputStream(MOVE_FILE));
        HELLO_WORLD = Props.getProperty("MSG", "HelloWorld");
    } catch (IOException e) {
        System.out.println(e);
    }

} // tells me to put }; } here.. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:04:41.090

将语句放在方法体或*静态*块中。

```
public void methodName()
{
  Properties Props = new Properties();
    try {
        Props.load(new FileInputStream(MOVE_FILE));
        HELLO_WORLD = Props.getProperty("MSG", "HelloWorld");
        System.out.println(HELLO_WORLD);
    } catch (IOException e) {
        System.out.println(e);
    }
} 
```

或者

```
 static
   {
    ...
   } 
```

# objective-c - 公共视图控制器基类

> ID：11610303
> 
> 赞同：21
> 
> 时间：2012-07-23T10:00:48.223
> 
> 标签：objective-c, ios, uiviewcontroller

我想为我的项目创建一个`BaseViewController`类（继承自`UIViewController`），它可以作为我项目中其他视图控制器的基类。这是为了添加诸如通用进度HUD，刷新按钮和网络更新机制，也许是可以由每个子类使用文本自定义的错误对话框等。

至关重要的是，我希望能够将此功能添加到`UIViewController`子类和`UITableViewController`子类中，但我无法将自己插入到`UITableViewController`类层次结构中，因此我需要 a`BaseUIViewController`和 a `BaseUITableViewController`，但如果我这样做，我必须实现两次更改并使它们保持同步。

`BaseViewController`为子类和子类都可以访问的公共代码提供一个单一位置的最佳方法是`BaseTableViewController`什么？我只希望在我的代码中有一个必须处理常见任务的地方。

1）我考虑过使用具有[关联引用](http://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/ObjectiveC/Chapters/ocAssociativeReferences.html)的类别，但这里的问题是我需要自定义实现 ViewController 生命周期类，例如 viewDidLoad:，这不是一个好主意。

2）我可以完全跳过，并从 BaseViewController`UITableViewController`构建自己的，自己实现&方法，但我不太想在这里跳过苹果的控制器实现。`BaseTableViewController``tableView` `delegate``datasource`

3）我可以有一个`BaseViewController`继承自`UIViewController`，`BaseTableViewController`继承自`UITableViewController`，并将自定义方法调用放入`ViewControllerBaseMethods`可以从两个“基本”文件调用的第三个文件中。可能仍然存在重复的属性，但至少方法代码会在一个地方。

这种类型的东西还有其他好的方法吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-23T10:06:38.477

UITableViewController 所做的只是提供一个 UITableView 属性，将自己声明为委托和数据源，并将其视图设置为表格视图

所以创建一个扩展 BaseViewController 的 BaseTableViewController，将其声明为 UITableViewDataSource 和 UITableViewDelegate 并实现所需的方法，添加 UITableView 属性并实现 loadView：

```
- (void)loadView
{
    self.tableView = [[UITableView alloc] initWithFrame:[[UIScreen mainScreen] applicationFrame] andStyle:UITableViewStylePlain];
    self.tableView.delegate = self;
    self.tableView.datasource = self;
    self.view = self.tableView;
} 
```

如果您想使用不同的表格视图样式，您可以提供一个通用的方法或属性来在初始化时获取表格视图样式

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-23T10:58:36.903

我认为，您应该使用您的公共属性和功能创建一个协议定义，并且您的 BaseTableViewController 和 BaseViewController 必须采用它。之后，您的第三个选项听起来不错，您应该创建一个包含协议实现的文件（ViewControllerBaseMethods），该文件应该从两个“Base”文件中调用。

**所以方法代码将在一个地方，并且没有多个属性声明。**

这是解决 Objective-C 中缺少多重继承的方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-06-22T18:38:21.737

在 Swift 中，您可以创建一个 UIViewController 扩展并将您的方法放在那里，这样您就可以从 UIViewControllers 和 UITableViewControllers 使用它们。

```
extension UIViewController {
    var aComputedProperty: Bool {
        return true
    }

    func aMethod() {
        //do something
    }
} 
```

这样做的缺点是您将无法使用存储的属性。

```
var aProperty: Int? //this is not allowed in extensions 
```

# django - 如何在 direct_to_template 上免除 CSRF 保护

> ID：11610306
> 
> 赞同：43
> 
> 时间：2012-07-23T10:00:58.777
> 
> 标签：django, csrf

我的 django 应用程序中有一个流程，在该流程中我将用户重定向到另一个服务（例如 PayPal），该服务经过自己的处理后，将用户返回到我自己的服务器上。我的服务器上的返回点是一个简单的 HTML 成功页面，我使用 direct_to_template 呈现。

由于一些奇怪的原因，另一台服务器发送了一个 POST 请求，因此用户看到一个 CSRF 令牌丢失错误，因为另一台服务器没有发回任何 CSRF 令牌。

如何从 CSRF 令牌中免除 direct_to_template 视图？

* * *

## 回答 #1

> 赞同：71
> 
> 时间：2012-07-23T10:32:12.387

您可以使用[`csrf_exempt`](https://docs.djangoproject.com/en/dev/ref/contrib/csrf/#django.views.decorators.csrf.csrf_exempt)装饰器禁用特定视图的 CSRF 保护。

假设您的 url 模式是：

```
('^my_page/$', direct_to_template, {'template': 'my_page.html'}) 
```

将以下导入添加到您的`urls.py`：

```
from django.views.decorators.csrf import csrf_exempt 
```

然后将 url 模式更改为：

```
('^my_page/$', csrf_exempt(direct_to_template), {'template': 'my_page.html'}) 
```

* * *

## 回答 #2

> 赞同：65
> 
> 时间：2013-01-18T08:00:19.527

您可以使用`@csrf_exempt`装饰器来免除 csrf 令牌为此您必须导入

```
from django.views.decorators.csrf import csrf_exempt 
```

然后写`@csrf_exempt`在你的观点之前

这将正常工作:)

# javascript - 在 phonegap 应用程序中打开软键盘时是否会触发 Javascript 事件？

> ID：11610312
> 
> 赞同：1
> 
> 时间：2012-07-23T10:01:13.703
> 
> 标签：javascript, cordova, dom-events, android-softkeyboard

使用 PGB 我的 Javascript 应用程序可以知道键盘何时打开吗？

我有一个页面，其文本框略低于页面垂直中间。当用户将焦点设置到该文本框时，键盘会打开并覆盖文本框最上面的 2 或 3 个像素以外的所有像素。

如果我能知道键盘何时打开以及焦点所在的元素，我可能会手动滚动它们一些......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-20T05:11:38.483

我不确定phonegap，但我在Android的webapp中遇到了类似的问题。

打开虚拟键盘时（在 Android 设备上），将`window.onresize`调用该事件。您可以在应用程序启动时存储视口的原始高度，以便稍后知道虚拟键盘是打开还是关闭（基于视口的当前高度）。

无论如何，由于输入元素有问题，您也可以使用`onfocus`and`onblur`事件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T15:17:55.550

您还需要确保在您的 Android 清单中拥有：

```
android:windowSoftInputMode="adjustResize" 
```

在节点中。

本质上，正如**w4rumy 所**提到的，这基本上会触发 window.onresize 事件

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-11T16:21:13.347

在 PhoneGap 中获得 onDeviceReady 后，请尝试：

```
document.addEventListener("hidekeyboard", keyboardHide, false);
document.addEventListener("showkeyboard", keyboardShow, false); 
```

您可能还需要：

```
<plugin name="SoftKeyBoard" value="org.apache.cordova.plugins.SoftKeyBoard" /> 
```

在您的 res/xml/plugins.xml Android 项目文件中。

# wix - WiX：如何根据单选按钮选择更改安装位置？

> ID：11610313
> 
> 赞同：1
> 
> 时间：2012-07-23T10:01:14.250
> 
> 标签：wix

我有`RadioButtonGroup`3 个具有`RadioButtons`值`All`和。目标是一个名为 的属性。`Easy``Gate``RadioButtonGroup``FRAMEWORK`

我要那个

1.当我点击`All`时，安装文件夹将变为`C:\Program Files (x86)\Arons Medical\`

2.点击`EASY`后，安装位置变为`C:\Program Files (x86)\Arons Medical\Easy`

3.当我点击`GATE`时，安装位置会变成`C:\Program Files (x86)\GATE`

什么是*WiX*代码？我可以猜想我必须更改`WIXUI_INSTALLDIR`属性，但是如何？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T16:02:21.120

有同样的问题并以这种方式解决：

```
 <Control Id="RadioButtonGroupID" Type="RadioButtonGroup" X="30" Y="94" Width="305" Height="100" Property="TargetSystem">
      <RadioButtonGroup Property="TargetSystem">
        <RadioButton Value="live" X="0" Y="0" Width="300" Height="10" Text="Live" ToolTip="C:\Live" />
        <RadioButton Value="dev" X="0" Y="20" Width="300" Height="10" Text="Dev" ToolTip="C:\Test" />
        <RadioButton Value="user" X="0" Y="40" Width="300" Height="10" Text="User" />
      </RadioButtonGroup>
    </Control>

    <Control Id="Next" Type="PushButton" X="236" Y="243" Width="56" Height="17" Default="yes" Text="!(loc.WixUINext)">
      <Publish Property="INSTALLDIR" Value="C:\Test">TargetSystem = "dev"</Publish>
      <Publish Property="INSTALLDIR" Value="C:\Live">TargetSystem = "live"</Publish>
      <Publish Event="SpawnWaitDialog" Value="WaitForCostingDlg">CostingComplete = 1</Publish>
      <Publish Event="NewDialog" Value="InstallDirDlg">TargetSystem = "user"</Publish>
      <Publish Event="NewDialog" Value="VerifyReadyDlg">
        <![CDATA[TargetSystem <> "user"]]>
      </Publish>
    </Control>

<Property Id="TargetSystem">user</Property> 
```

希望它会帮助你。

问候——异度

# solr - 如何使用 SolrNet 中名称中有空格的字段进行搜索？

> ID：11610315
> 
> 赞同：2
> 
> 时间：2012-07-23T10:01:19.667
> 
> 标签：solr, solrnet

我正在使用 ASP.NET MVC3 C# 开发 SolrNet 3.6。索引数据中多个字段名称中存在空白种。
因此，当我们尝试使用这些类型的字段进行搜索时，得到了一个空结果。

例如，字段名称类似于“产品名称”现在我想在“产品名称”字段中搜索“HTC”，
因此查询字符串类似于“产品名称：HTC”。当我尝试这样做时，得到一个空结果。但实际上有很多与此名称相关的产品。

那么，如何使用名称中有空格的字段进行搜索？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-23T10:29:19.467

您可以如下所示逃离空间：

```
Product\ Name:HTC 
```

# java - Android中的心电表动画

> ID：11610323
> 
> 赞同：4
> 
> 时间：2012-07-23T10:02:02.580
> 
> 标签：java, android, animation

> **可能重复：**
> [Android 的心电图](https://stackoverflow.com/questions/6041190/cardio-graph-for-android)

我想在 Android 中开发心脏计图，就像这张图：

![在此处输入图像描述](../Images/4b3688b95bf9701d889d4a820055f2da.png)

任何人都可以帮助任何想法如何创建这个动画？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:12:12.747

您可以使用帧序列显示渐进图。并且要显示针，可以设置针的 X 和 Y 坐标。

# web-config-transform - 基于发布配置文件名称的 Visual Studio 2010 Web 部署配置转换

> ID：11610327
> 
> 赞同：0
> 
> 时间：2012-07-23T10:02:21.037
> 
> 标签：web-config-transform, webdeploy

我有一个名为 TestWebSite 的项目。

我创建了 2 个解决方案配置（调试、发布）

然后我为 Web.Config 创建一个配置转换。

然后我创建 2 个“发布配置文件”

1) Test.testwebsite.com 2) Online.TestWebSite.com

我需要根据“发布配置文件”的名称生成 2 个不同的配置转换。

如果我在 (1)"Test" 网站上发布，我需要使用特定的 Connection Sterings。

可以创建与“发布配置文件名称”交互的配置转换或允许基于“发布配置文件名称”生成更改的东西。

谢谢你！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T19:58:57.167

使用 VS2012 或使用[http://blogs.msdn.com/b/webdev/archive/2012/06/15/visual-studio-2010-web-publish-updates.aspx](http://blogs.msdn.com/b/webdev/archive/2012/06/15/visual-studio-2010-web-publish-updates.aspx)中提到的 VS2010 扩展，您可以创建 per-配置文件转换。在 IDE 中还没有生成转换文件的工具，但是您可以复制现有的转换文件之一（例如 Web.Release.config）并将其包含在您的项目中。

# ios - 从 iOS 原生插件调用时如何让 SenchaTouch 更新 UI？

> ID：11610330
> 
> 赞同：0
> 
> 时间：2012-07-23T10:02:36.157
> 
> 标签：ios, cordova, sencha-touch

我们有一个 Phonegap/Cordova (1.6.0) 应用程序，它的 UI 使用 SenchaTouch (1) 和一个自定义本机 (iOS) 插件，用于解压缩 Documents 文件夹中的文件。该插件没有自己的 GUI。

我们希望通过更新 Sencha 应用程序中的进度条（或简单的对话框）来显示解压缩操作期间的进度。我们在原生插件中实现了一个更新函数，它使用“writeJavascript”方法从原生代码调用 Javascript 代码。

调用该功能有效，但我们在 Sencha UI 中所做的 GUI 更新都没有实际显示，调试日志语句也没有显示。只有当我们在代码之间添加一个 Javascript 警告框时，我们才能观察到 Sencha 更新已被处理并且 UI 中的某些内容发生了变化。感觉好像 Sencha 异步执行所有操作，并且代码以某种方式被阻塞。

我们缺少什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T15:33:14.387

这是一个长时间运行的操作阻塞 UI 线程的经典示例。我想在软件开发中事情永远不会改变。

基本问题是，如果您从 HTML 应用程序调用 Phonegap 插件，Phonegap 应用程序的图形线程（并且只有一个线程）会被阻塞。解决方案很简单：尽快从插件中返回。

对于长时间运行的操作，这意味着在单独的线程中启动它们。iOS 上的一个非常优雅的机制是为此使用 Grand Central Dispatch，正如[另一个 Stackoverflow 答案](https://stackoverflow.com/a/3869355/1996)所示。

您在块中执行长时间运行的操作，`dispatch_async( dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{ });`然后使用 .将更新发送回嵌套`dispatch_async( dispatch_get_main_queue(), ^{ });`块中的 Phonegap UI `writeJavascript`。

# c++ - 如何在构造函数中初始化类的成员数组？

> ID：11610338
> 
> 赞同：8
> 
> 时间：2012-07-23T10:02:59.587
> 
> 标签：c++

我正在尝试执行以下操作：

```
class sig
{
public:

int p_list[4];
}

sig :: sig()
{
p_list[4] = {A, B, C, D};
} 
```

我收到一个错误

> 构造函数中缺少表达式。

那么如何初始化一个数组呢？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-07-23T10:08:55.760

仅在 C++11 中：

```
class sig
{
    int p_list[4];
    sig() : p_list { 1, 2, 3, 4 }   {   }
}; 
```

在 11 之前，除了块范围内的自动和静态数组或命名空间范围内的静态数组外，无法初始化数组。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-23T10:09:04.670

> 那么如何初始化一个数组呢？

使用正常的初始化列表语法：

```
sig::sig() : p_list{1, 2, 3, 4}
{ } 
```

请注意，这只适用于 C++11。在此之前，您需要`boost::array`在函数中使用一个初始化它。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-07-23T10:15:17.743

如果您的编译器不支持 C++11 初始化，那么您必须分别分配每个字段：

```
p_list[0] = A;
p_list[1] = B;
p_list[2] = C;
p_list[3] = D; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-13T12:29:09.063

如果您当前的编译器还不支持 C++11，您可以使用标准算法和仿函数初始化向量内容：

```
class sig
{
public:
    sig()
    {
        struct Functor
        {
            Functor() : value(0) {};
            int operator ()() { return value++; };
            int value;
        };
        std::generate(p_list, p_list + 4, Functor());
    }

    int p_list[4];
}; 
```

上一个片段示例[在这里](http://ideone.com/q5Yai)。

是的，有点丑（至少对我来说看起来很丑）并且不在编译时完成工作；但它完成了您在构造函数中需要的工作。

如果您需要其他类型的初始化（使用偶数/奇数初始化，使用随机值初始化，从另一个值开始，等等），您只需要更改 Functor，这是这种丑陋方法的唯一优点。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-10-03T15:17:57.643

您可以使用 c++11 编译器使用 -std=c++11 或 -std=gnu++11 选项初始化这样的数组成员

```
struct student {
        private :
                int marks[5];
        public :
                char name[30];
                int rollno;
                student(int arr[], const char *name, int rno):marks{arr[0], arr[1], arr[2], arr[3], arr[4]}{
                        strcpy(this->name, name);
                        this->rollno = rno;
                }
                void printInfo() {
                        cout <<"Name : "<<this->name<<endl;
                        cout <<"Roll No : "<<this->rollno<<endl;
                        for(int i=0; i< 5; i++ ) {
                                cout <<"marks : "<<marks[i]<<endl;
                        }
                }
};
int main(int argc, char *argv[]) {
        int arr[] = {40,50,55,60,46};
        //this dynamic array passing is possible in c++11 so use option -std=c++11
        struct student s1(new int[5]{40, 50, 55, 60, 46}, "Mayur", 56);
        //can't access the private variable
        //cout <<"Mark1 : "<<s1.marks[0]<<endl;
        s1.printInfo();`enter code here`
} 
```

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2012-07-23T10:05:35.500

```
p_list[4] = {'A', 'B', 'C', 'D'}; 
```

# wpf - 组合框鼠标悬停

> ID：11610339
> 
> 赞同：3
> 
> 时间：2012-07-23T10:03:06.357
> 
> 标签：wpf, combobox, background, highlighting

当我将鼠标移到组合框上时，我想更改组合框的背景（**mouseover ）颜色。**

我已经阅读了很多关于 stackoverflow 的帖子，并尝试过这样的代码：

```
<ComboBox.Resources>
    <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="Red"/>
</ComboBox.Resources> 
```

这就是结果：

![在此处输入图像描述](../Images/4f57111f1ebe00ef4d1a075bdd7522ad.png)

但这不是我想要的。我想改变这个背景：

![在此处输入图像描述](../Images/d4cc5b9fe31f9083fc6a91e18783dac7.png)

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:14:09.083

**天真的解决方案**：只需将画笔添加到资源并从 ComboBox 的 Background 属性（通过 StaticResource 绑定）引用它：

```
<Window x:Class="WpfApplication2.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="MainWindow" Height="350" Width="525">
<Window.Resources>
    <SolidColorBrush x:Key="BackgroundColorKey" Color="Red"/>
    <Style TargetType="{x:Type ComboBox}">
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{StaticResource BackgroundColorKey}" />
            </Trigger>
        </Style.Triggers>
    </Style>
</Window.Resources>
<Grid>
    <ComboBox  Height="25"/>
</Grid> 
```

**问题**：选择项目后，背景颜色被重置为默认颜色。解决此问题的唯一解决方案是覆盖组合框的默认模板。

**修复**：修改默认组合框模板。ComboBox 默认模板存在于 msdn 上。这是链接 - [http://msdn.microsoft.com/en-us/library/ms752094(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/ms752094(v=vs.100).aspx)。请参阅“组合框控件模板示例”部分。

相关链接：

[MouseOver 突出显示样式在一秒钟后返回默认值（由 Aero 引起？）](https://stackoverflow.com/questions/250622/mouseover-highlighting-style-returning-to-default-after-a-second-caused-by-aero)

[http://social.msdn.microsoft.com/Forums/en/wpf/thread/a18891e9-8879-4819-9679-247341782f60](http://social.msdn.microsoft.com/Forums/en/wpf/thread/a18891e9-8879-4819-9679-247341782f60)

# oauth-2.0 - 通过oauth（google）获取用户所属的所有组

> ID：11610344
> 
> 赞同：11
> 
> 时间：2012-07-23T10:03:24.110
> 
> 标签：oauth-2.0, google-apps, google-groups

我正在构建一个网络应用程序，允许用户使用 google-apps 帐户登录。我需要一些用户信息、新电子邮件的数量、日历访问权限以及用户所属的所有组（在我的域中）。问题是我找不到正确的范围（和端点）来获取用户所属的组。有人知道这是否可能吗？以及它是如何完成的...

到目前为止我得到了什么：我玩过 Groups-provisioning 范围（[https://apps-apis.google.com/a/feeds/groups/](https://apps-apis.google.com/a/feeds/groups/)）问题是您必须是管理员才能查看数据..我希望所有用户都能看到会员资格......谷歌 oauth 游乐场并没有让我走得更远（[https://code.google.com/oauthplayground/](https://code.google.com/oauthplayground/)）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T17:48:33.600

我有同样的问题并想通了。

1.  需要的范围是“https://apps-apis.google.com/a/feeds/groups/”

2.  API 请求如下所示：`"https://apps-apis.google.com/a/feeds/group/2.0/{domain}/{group name}/member"` 作为请求的标头使用：`'Authorization': "OAuth " + {access_token}`

3.  谷歌应用程序帐户持有人必须通过以下手册（至少阅读规则）具有角色：

要为下一代控制面板启用 Provisioning API：

1.  登录到您的管理员帐户并选择域设置。
2.  选择用户设置选项卡。
3.  选中启用 Provisioning API 的复选框，然后保存您的更改。

要为当前控制面板启用 Provisioning API：

1.  登录到您的管理员帐户并选择用户和组选项卡。
2.  选择设置子选项卡。
3.  选中复选框以启用 Provisioning API 并保存您的更改。

域管理员只能更改此设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T18:15:19.220

因此，这意味着您必须列出域中的组，并将用户的电子邮件与域中所有组中的所有电子邮件进行比较。

# jquery - Jquery滚动到目标div水平移动

> ID：11610345
> 
> 赞同：1
> 
> 时间：2012-07-23T10:03:39.117
> 
> 标签：jquery, scroll, jquery-animate

我希望能够滚动我的页面，当我达到某个点时，我希望 div 水平滚动，但我似乎无法实现这一点。我有一些 jquery，当用户点击第二部分时会发出警报，但我无法让它工作，我现在只是在我的块上有一个动画，但它根本不工作......你能帮我吗？

[http://jsfiddle.net/AXsMR/](http://jsfiddle.net/AXsMR/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:17:14.730

这是你想要达到的目标吗？

[http://jsfiddle.net/Mu4ug/3/](http://jsfiddle.net/Mu4ug/3/)

当用户向下滚动到第二个 div 时，动画开始。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:13:24.823

首先，我不会使用部分标签，我会使用 DIVS。另外，我会将所有“部分”（div）放在具有指定宽度的主 div 中（以防止垂直堆叠）

然后在滚动时，我会使用 jQuery offset().left 方法来获取您希望滚动到的部分的位置（或）为偶数滚动设置预定义值，然后调用 animate 函数。

```
<div style='width: 4000px' id='masterDiv'>
      <div id='section1' class='innerDiv' style='width: 1000px'></div>
      <div id='section2' class='innerDiv' style='width: 1000px'></div>
      <div id='section3' class='innerDiv' style='width: 1000px'></div>
      <div id='section4' class='innerDiv' style='width: 1000px'></div>
</div> 
```

您可以在此处确定滚动的方向 >[如何确定 jQuery 滚动事件的方向？](https://stackoverflow.com/questions/4326845/how-can-i-determine-the-direction-of-a-jquery-scroll-event)（向下滑动屏幕向右移动，向上滑动向左移动屏幕）

然后使用这样的东西..

```
var lastScrollTop = 0;
$(window).scroll(function(event){
   var st = $(this).scrollTop();
   if (st > lastScrollTop){
       $("#masterDiv").animate({ "left": "+=180px" }, 1000);
   } else {
      $("#masterDiv").animate({ "right": "+=180px" }, 1000);
   }
   lastScrollTop = st;
}); 
```

需要一些测试，但应该有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-13T07:44:50.937

你也可以使用这个功能......

```
function moveToTargetDiv(target, outer){
    var out = $(outer);
    var tar = $(target);
    var x = out.width();
    var y = tar.outerWidth(true);
    var z = tar.index();
    var q = 0;
    var m = out.find('li');

    for(var i = 0; i < z; i++){
        q+= $(m[i]).outerWidth(true)+4;
    }

    $('#tabUl').animate({
    scrollLeft: Math.max(0, q )
    }, 800);
    return false;
} 
```

例如：[https ://jsfiddle.net/dinesh10641/mvqxbjvs/](https://jsfiddle.net/dinesh10641/mvqxbjvs/)

# javascript - 如何从服务器倒计时并在一段时间后触发事件

> ID：11610346
> 
> 赞同：-3
> 
> 时间：2012-07-23T10:03:41.660
> 
> 标签：javascript, codeigniter

我正在制作一个网站，我将在其中安排比赛。如果版主发起测试，则倒计时将开始。倒计时结束后，“考试”活动将开始，完成时间后自动刷新页面并显示结果，类似于在线评委。请您帮忙吗？提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:21:52.627

我会将考试的开始时间和结束时间存储在数据库中。每次用户打开网页时，您都会在 html 代码中发送开始时间和结束时间，并让 javascript 进行“计时”。所以一个脚本检查考试是否已经开始（如果还没有，它会显示倒计时）。当到达结束时间时，它将刷新页面（并发布用户输入的数据）。

如果你有这样的工作，你应该考虑一些安全性......因为javascript在用户机器上运行它可以改变......但我认为你可以找出一些聪明的握手类型的结构来处理验证数据......

# ssl - HTTPS Adob e 策略 crossdomain.xml Chrome / IE

> ID：11610347
> 
> 赞同：1
> 
> 时间：2012-07-23T10:03:57.057
> 
> 标签：ssl, adobe

将“crossdomain.xml”策略（基于 Flash 的 http 应用程序）文件夹应用于 Http 服务器，

Https 服务器通过 Chrome /IE 获取（失败）

Http 服务器在防火墙后面，这是否会阻止 Policy 文件被阻止？

# javascript - 是否有任何 Ruby 工具或 JavaScript 库来验证 html 格式是否正确？

> ID：11610352
> 
> 赞同：2
> 
> 时间：2012-07-23T10:04:09.790
> 
> 标签：javascript, ruby, nokogiri, well-formed

我试图通过在 Nokogiri 中使用“.errors”从 URL 中抓取 html，但不能使用

例子：

```
<table>
    <td></td>
</table> 
```

而且我不知道为什么返回 'TRUE' 因为我认为它不是格式正确的，因为 TRUE 格式必须是这样的

```
<table>
    <tr>
        <td></td>
    </tr>
</table> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:05:53.470

Nokogiri 仅验证您的文档是 XML 有效的。它没有使用 W3C 的标准对其进行验证。

您可以使用 gem [w3c_validators](http://code.dunae.ca/w3c_validators/)来验证 html 标签的位置。

# iphone - 如何在iphone中设置窗口视图

> ID：11610362
> 
> 赞同：0
> 
> 时间：2012-07-23T10:04:51.020
> 
> 标签：iphone, objective-c

嗨朋友，我的应用程序通过这样做而崩溃了我的代码中的问题我收到了这个错误消息应用程序应该在应用程序启动结束时有一个根视图控制器

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions { 
//------------------------------------------------------------------------------------------------------------------\\
              ///  ************** This is for create  the  sqlite  data base**************** \\\

                                  [BaseModal copyDatabaseIfNeeded];
    //self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    CheckForUpdatesModal *CFUM = [[CheckForUpdatesModal alloc]init];
    [CFUM sendRequest];
    [CFUM release];

    // Override point for customization after application launch.
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(CallingtheSplashScreen:)
                                                 name:@"uniqueNotificationName"
                                               object:nil];
    [self.window makeKeyAndVisible];

    return YES;
}
-(void)CallingtheSplashScreen:(NSNotification *)notification
{
    //self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    SSView = [[[SplashScreenView alloc]initWithNibName:@"SplashScreenView" bundle:nil]autorelease];
   // self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    SSView.Progrestotal = [[[notification userInfo]valueForKey:@"SUM"]intValue];
    [self.window addSubview:SSView.view];
   // self.window.rootViewController=SSView;
   // [[self window] setRootViewController:SSView];
    [[NSNotificationCenter defaultCenter] removeObserver:self];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:14:20.690

您可以使用以下代码，

```
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, 0), ^{ 
    NSLog(@"Rahul"); // Here you can define your code to execute in  background.}); self.viewController = [[[ViewController alloc] initWithNibName:@"ViewController" bundle:nil] autorelease];
self.window.rootViewController = self.viewController;
[self.window makeKeyAndVisible];
return YES; 
```

# devexpress - DevExpress：我如何在没有许可证的情况下进行开发？

> ID：11610371
> 
> 赞同：4
> 
> 时间：2012-07-23T10:05:23.983
> 
> 标签：devexpress

我是一名自由开发者。一位客户希望我与 DevExpress 合作。这是如何运作的？我买不起它的许可证。我可以下载试用版 30 天.. 但是对于更长期和“适当”的解决方案.. 这通常是如何完成的？我需要从我的客户那里获得许可证吗？他说以前的开发人员在没有许可证的情况下为他编码，但他不知道如何。请有人为我提供一些澄清。

**更新**

我应该澄清一下：客户已经购买了 DevExpress，但告诉我他目前没有任何许可证可以给我……因为其他开发人员正在使用它们。所以我想在我编写应用程序之后，他会构建它并且不会有烦人的消息。我只是希望能够为它开发..仅此而已。是否有可能或者我需要告诉他为我获得另一个许可证？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-23T10:10:01.170

你不能。您可能能够进行开发，但您将无法重新分配控件。好吧 - 如果您在发货之前没有注册控制套件，您*可以*但上次我检查他们是否会弹出许可消息。所以不会是好看的。

您可能买不起整套套房，所以也许只需从套房中购买几件物品。他们也是开发商，需要养活孩子，所以他们确实需要赚钱。

您的替代方法是从头开始编写控件，或者使用您可以在网上找到的各种免费组件。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-05-04T22:39:56.017

您的项目中有一个名为 Licenses.licx 的文件，如果您清空该文件，将所有引用转为 copy local = true，则启动画面将永久消失，直到您使用 DevExpress 中的较新控件修改代码。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-07-25T21:28:53.430

我们在我们的商店中使用 DevExpress 控件。我们是一个小型的开发团队，只有三个人。因此，1 个许可证与 2 个或 3 个许可证之间的价格差异对我们来说意义重大。我们的开发结构导致我们只有一个人在编写wotj dev express控件，而其他开发者只需要安装包和控件进行编译等。Dev Express允许我们以这种身份操作，如果你问他们，他们可能愿意根据您的情况工作。

总而言之，我找到了他们非常好的人。

# r - How do I change the formatting of numbers on an axis with ggplot?

> ID：11610377
> 
> 赞同：155
> 
> 时间：2012-07-23T09:33:09.427
> 
> 标签：r, ggplot2

I'm using R and ggplot to draw a scatterplot of some data, all is fine except that the numbers on the y-axis are coming out with computer style exponent formatting, i.e. 4e+05, 5e+05, etc. This is unacceptable to me, so I want to get it to display them as 500,000, 400,000, and so on. Getting a proper exponent notation would also be acceptable.

The code for the plot is as follows:

```
p <- ggplot(valids, aes(x=Test, y=Values)) +
  geom_point(position="jitter") +
  facet_grid(. ~ Facet) +
  scale_y_continuous(name="Fluorescent intensity/arbitrary units") +
  scale_x_discrete(name="Test repeat") +
  stat_summary(fun.ymin=median, fun.ymax=median, fun.y=median, geom="crossbar") 
```

Any help much appreciated.

* * *

## 回答 #1

> 赞同：151
> 
> 时间：2012-07-23T11:41:26.307

Another option is to format your axis tick labels with commas is by using the package `scales`, and add

```
 scale_y_continuous(name="Fluorescent intensity/arbitrary units", labels = comma) 
```

to your ggplot statement.

If you don't want to load the package, use:

```
scale_y_continuous(name="Fluorescent intensity/arbitrary units", labels = scales::comma) 
```

* * *

## 回答 #2

> 赞同：79
> 
> 时间：2014-06-16T10:48:27.770

I also found another way of doing this that gives proper 'x10(superscript)5' notation on the axes. I'm posting it here in the hope it might be useful to some. I got the code from [here](https://groups.google.com/forum/#!topic/ggplot2/a_xhMoQyxZ4) so I claim no credit for it, that rightly goes to Brian Diggs.

```
fancy_scientific <- function(l) {
     # turn in to character string in scientific notation
     l <- format(l, scientific = TRUE)
     # quote the part before the exponent to keep all the digits
     l <- gsub("^(.*)e", "'\\1'e", l)
     # turn the 'e+' into plotmath format
     l <- gsub("e", "%*%10^", l)
     # return this as an expression
     parse(text=l)
} 
```

Which you can then use as

```
ggplot(data=df, aes(x=x, y=y)) +
   geom_point() +
   scale_y_continuous(labels=fancy_scientific) 
```

* * *

## 回答 #3

> 赞同：44
> 
> 时间：2012-07-23T10:26:26.660

```
x <- rnorm(10) * 100000
y <- seq(0, 1, length = 10)
p <- qplot(x, y)
library(scales)
p + scale_x_continuous(labels = comma) 
```

* * *

## 回答 #4

> 赞同：18
> 
> 时间：2015-04-21T15:06:26.857

I'm late to the game here but in-case others want an easy solution, I created a set of functions which can be called like:

```
 ggplot + scale_x_continuous(labels = human_gbp) 
```

which give you human readable numbers for x or y axes (or any number in general really).

You can find the functions here: [Github Repo](https://github.com/1R151-1/R/blob/master/ggplot2_formatter.r) Just copy the functions in to your script so you can call them.

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2015-03-15T20:41:06.820

I find Jack Aidley's suggested answer a useful one.

I wanted to throw out another option. Suppose you have a series with many small numbers, and you want to ensure the axis labels write out the full decimal point (e.g. 5e-05 -> 0.0005), then:

```
NotFancy <- function(l) {
 l <- format(l, scientific = FALSE)
 parse(text=l)
}

ggplot(data = data.frame(x = 1:100, 
                         y = seq(from=0.00005,to = 0.0000000000001,length.out=100) + runif(n=100,-0.0000005,0.0000005)), 
       aes(x=x, y=y)) +
     geom_point() +
     scale_y_continuous(labels=NotFancy) 
```

# javascript - Chrome 和 Safari 中的视差站点使图像在顶部消失

> ID：11610386
> 
> 赞同：1
> 
> 时间：2012-07-23T10:06:15.497
> 
> 标签：javascript, jquery, google-chrome, scroll, parallax

我正在为将来的项目制作视差网站进行测试，并且在 Chrome 和 Safari 中的图像出现问题。

在 Firefox 中，图像会向上滚动到网站顶部，但当使用 Chrome 和 Safari 滚动时，图像会在触摸浏览器顶部时立即消失。

在我的测试中，黄色和棕色幻灯片中都有图像（幻灯片 1 和 5）。

[http://antonybearpark.co.uk/Parallax/](http://antonybearpark.co.uk/Parallax/)

# php - 对 php 的 Jquery ajax 调用不起作用

> ID：11610392
> 
> 赞同：-1
> 
> 时间：2012-07-23T10:06:37.953
> 
> 标签：php, ajax, jquery

我的代码有问题。我想知道是否有人可以看看并给我一些关于我哪里出错的提示。

索引.php

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>Load</title>
</head>

<body>
<div class="s1">Load</div>
<div class="physique"></div>

<script>
$(document).ready(function() {

$(".s1").click( function() {                             
    $.ajax({
       type: "POST",
       url: "test.php",
       data: "html",
       data: "start=physique&pass="+$("#pass").val(),
       success: function(msg){
      $(".physique").html(msg).delay(300).fadeIn(300);
       }
    });
    return false;
});

   $("tr").click( function() {                           
    alert("hello");
});
});

</script>
</body>

</html>` 
```

以及生成响应的 php 文件，（我已经删除了大部分内容，只是留下了响应，因为我知道我的错误不是来自 php.test.php

```
<table id="phys" style="width: 750px">
<tbody>
<tr class="titlte"><td colspan="2">Fichier</td><td>Taille</td><td>Ajouter</td></tr>
<tr class="links" links="<?=$fileurl;?>">
<td style="width: 30px"><img src="dlf/<?    =$icon;?>" alt="<?=$files[$i];?>" /></td>
<td style="width: 550px"><a vref="<?=$fileurl;?>" class="ajaxtrigger">
<strong class="links"><?=$filename;?></strong></a></td>
<td style="width: 70px"><em><?=round(filesize($leadon.$files[$i])/1024);?>KB</em></td>
<td style="width: 100px"><?=date ("M d Y", filemtime($leadon.$files[$i]));?></td></tr>
<tbody>
</table>` 
```

我希望你能帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:12:45.620

也许这是`$.ajax(...)`定义中的错字`dataType: html`

```
$.ajax({
   type: "POST",
   url: "test.php",
   dataType: "html",
   data: "start=physique&pass="+$("#pass").val(),
   success: function(msg){
      $(".physique").html(msg).delay(300).fadeIn(300);
   }
}); 
```

# html - 网络安全字体 - 这到底是什么意思？

> ID：11610395
> 
> 赞同：11
> 
> 时间：2012-07-23T10:06:50.020
> 
> 标签：html, fonts

我知道哪些字体是网络安全字体，但我不确定定义：是浏览器支持的网络安全字体还是安装在操作系统上的字体？那么，如果您的浏览器中无法显示字体，是因为您的浏览器无法呈现该字体，还是因为您的操作系统上没有安装该字体？

谢谢你

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-23T10:08:46.480

Web 安全字体是安装在大多数系统上的字体。（字体不会因为有人安装它而变得安全，如果可以合理地假设它可用，它就是安全的）。

浏览器对字体的支持是隐含的。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-23T11:01:04.810

“Web 安全字体”是一个模糊且名称不佳的想法，而且不是很现代。它被用来指代（假定）安装在“所有”或“大多数”计算机上的字体；实际上最多是“最多”，但概念名称中的“安全”一词暗示了“全部”。

这个想法意味着网络作者在 CSS 中指定字体（或者，在过去，`<font>`在 HTML 中标记）。这意味着浏览器将使用正确安装在系统中的字体，例如放置在 Windows 上的 Fonts 文件夹中。

没有字体是真正“安全的”，即安装在所有系统上，但有些字体接近。没有关于这方面的硬性、可靠的统计数据，但有相当好的估计。

更现代的方法是使用“字体堆栈”，或更简单的字体列表。例如，简单的“堆栈”`font-family: "Helvetica Neue", Helvetica, Arial, sans-serif`可能与您需要获得的网络安全一样，但您只有在获得三种相当相似的字体之一时才是“安全的”。

在 CSS 中使用的所谓网络字体或可下载字体`@font face`是“安全的”，因为无论每台计算机上安装什么字体，都将使用该字体。但是，它们在其他方面并不安全。此类字体的使用可能在浏览器中被禁用（或在旧浏览器中不受支持），并且字体下载可能由于各种原因而失败，例如一般的 Internet 获取。此外，浏览器在其实现中存在错误，可能导致字体显示失真。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-23T10:09:06.353

网络安全字体是安装在您的计算机上的字体。这包括从 Photoshop 或任何其他程序安装的字体。

可以想象，没有多少人拥有 Photoshop！出于这个原因，许多来自 Photoshop 的字体被认为**不是**网络安全字体。

可以在[此处](http://www.ampsoft.net/webdesign-l/WindowsMacFonts.html)找到常见的网络安全字体列表。

如果您想使用不同的字体，我强烈建议您使用[font face](http://www.font-face.com/)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-07-20T04:48:17.977

网络安全字体是一种被认为是“安全的赌注”的字体，可以安装在绝大多数计算机上。每台安装了浏览器的计算机都内置了默认字体，以便它可以在网页上显示文本。如果它没有网页中代码指定的字体，它将使用它已编程使用的任何字体。

如果网页设计师是谨慎的，他或她将设置“字体堆栈”，指定 2 种或多种字体可供选择，这样浏览器就不必猜测它应该使用什么，并且可以有几个选择。最坏的情况是，浏览器必须使用它附带的标准字体，例如标题文本使用“Times New Roman”，网页正文使用“Arial”，而不是网页设计师想要的任何字体。

另一种选择是网站通过使其可用来向访问计算机提供字体。更好的方法之一是通过谷歌字体。

总之，计算机只能显示 a) 它已经安装的字体，或 b) 网站从网络上提供的字体。

# java - 如何防止 JFrame 关闭仍然无法正常工作

> ID：11610398
> 
> 赞同：-2
> 
> 时间：2012-07-23T10:06:55.933
> 
> 标签：java, swing, reflection, jframe

我正在测试问题的解决方案

[在这种情况下，新的 JVM 实例或反射是否有帮助](https://stackoverflow.com/questions/11573259/will-new-instance-of-jvm-or-reflection-help-in-this-case/11573328#comment15312477_11573328)

[我遇到的是，如果我尝试调用Real Estate game](http://agile.csc.ncsu.edu/SEMaterials/realestate/code/RealEstate.zip)等应用程序，此解决方案将不起作用。因此，在调用 main 之后，只需添加以下代码 `Applic2`

```
 Frame[] f2 = JFrame.getFrames();
        for(Frame fx: f2){

              if (fx instanceof JFrame) {
                  JFrame aFrame = (JFrame)fx;

                  aFrame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);

              }
            } 
```

我创建了一个异步线程，不断将动作 JFrame.EXIT_ON_CLOSE 更改为 JFrame.DISPOSE_ON_CLOSE，如下所示

```
import java.awt.Frame;

import javax.swing.JFrame;

public class FrameMonitor extends Thread{

    @Override
    public void run(){

        while(true){
            Frame[] f2 = JFrame.getFrames();

            for(Frame fx : f2){

                if(fx instanceof JFrame){
                    JFrame aframe =(JFrame)fx;
                    aframe.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
                }
            }
        }
    }
} 
```

并通过 MyApp 类中的 start 方法调用此线程实例。但解决方案不起作用。我仍然面临着关闭一帧时所有帧关闭的相同问题。为什么会发生任何建议以及如何克服这个问题？

**请解决以下问题：**

让我更详细地介绍这个问题

将[房地产游戏](http://agile.csc.ncsu.edu/SEMaterials/realestate/code/RealEstate.zip)代码添加到工作区

将以下包添加到 RealEstate 代码中

```
package MyApplication;

import java.awt.Frame;
import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;

import javax.swing.JFrame;

import edu.ncsu.realestate.gui.Main;

public class MYApp {

    @SuppressWarnings({ "unchecked", "rawtypes" })
    public static void main(String arg[]){

        FrameMonitor monitor = new FrameMonitor();
        JFrame f = new JFrame();
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        f.setSize(200,200);
        f.setVisible(true);
        Class cls = Main.class;
        Object[] actuals = { new String[] {} };
    //  cls.
        Method[] mts=cls.getMethods();
        for(Method m : mts){
            //System.out.println(m);
        }
        Method m = null;
        try {
            m=cls.getMethod("main", new Class[] { String[].class } );
        } catch (NoSuchMethodException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (SecurityException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
            try {
                m.invoke(null,actuals);
            } catch (IllegalAccessException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IllegalArgumentException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (InvocationTargetException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            Frame[] f2 = JFrame.getFrames();
            for(Frame fx: f2){
                System.out.println(fx.getTitle());
                //  fx.setVisible(false);

                  if (fx instanceof JFrame) {
                     // System.out.println("M here");
                    //  System.out.println(fx.getTitle());
                      System.out.println(fx.getName());
                      JFrame aFrame = (JFrame)fx;

                      aFrame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);

                  }
                }

    }

}

package MyApplication;

import java.awt.Frame;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JFrame;
import javax.swing.Timer;

public class FrameMonitor{

    public FrameMonitor(){
    Timer timer = new Timer(10000, new FrameMonitor2());
    timer.setCoalesce(true);
    timer.setRepeats(true);
    timer.start();

}

    public static class FrameMonitor2 implements ActionListener {

        @Override
        public void actionPerformed(ActionEvent ae) {

            Frame[] frames = Frame.getFrames();
            for (Frame frame : frames) {

                if (frame instanceof JFrame) {

                    JFrame change = (JFrame) frame;
                    System.out.println("Before = " + change.getTitle() + " = " + change.getDefaultCloseOperation());
                    ((JFrame)frame).setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
                    System.out.println("After = " + change.getTitle() + " = " + change.getDefaultCloseOperation());

                }

            }

        }

    }

} 
```

现在调用 MyApplication 包的 main，然后调用 RealEstate 游戏。这是解决方案不起作用的地方，尝试关闭不同的 RealEstate 框架并查看整个应用程序关闭。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T12:22:05.037

我快速检查了房地产游戏的代码，发现了您的问题`MainWindow.java`：

```
this.addWindowListener(new WindowAdapter(){
    public void windowClosing(WindowEvent e) {
        System.exit(0);
    }
}); 
```

如果您仍然希望窗口关闭，我不确定您可以从外面做什么，如果有的话。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-23T10:59:44.757

所以，我做了一个快速测试，我可以让它正常工作。

首先，我创建了三个 JFrames（都是一样的，因为我很匆忙），默认关闭值设置为`EXIT_ON_CLOSE`.

我证实如果我关闭一个，它将关闭所有三个。

然后我使用 a`javax.swing.Timer`反复循环浏览可用帧列表并将默认关闭值设置为`DISPOSE_ON_CLOSE`

```
Timer timer = new Timer(1000, new UpdateTask());
timer.setCoalesce(true);
timer.setRepeats(true);
timer.start(); 
```

...

```
public static class UpdateTask implements ActionListener {

    @Override
    public void actionPerformed(ActionEvent ae) {

        Frame[] frames = Frame.getFrames();
        for (Frame frame : frames) {

            if (frame instanceof JFrame) {

                JFrame change = (JFrame) frame;
                System.out.println("Before = " + change.getTitle() + " = " + change.getDefaultCloseOperation());
                ((JFrame)frame).setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
                System.out.println("After = " + change.getTitle() + " = " + change.getDefaultCloseOperation());

            }

        }

    }

} 
```

执行后，我能够监视以下输出

```
Before = Frame 01 = 3
After = Frame 01 = 2
Before = Frame 02 = 3
After = Frame 02 = 2
Before = Frame 03 = 3
After = Frame 03 = 2
Before = Frame 01 = 2
After = Frame 01 = 2
Before = Frame 02 = 2
After = Frame 02 = 2
Before = Frame 03 = 2
After = Frame 03 = 2 
```

如你所见。在第一次迭代中，帧从“3”变为“2”并保持这种状态，直到我厌倦了输出并终止程序。

我还检查了关闭一个或多个框架**不会**退出程序。

现在，一个重要的注意事项。我相信这仅适用于已实现的帧（在屏幕上可见），但您可以对此进行测试，看看您得到了什么；）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-24T00:03:27.157

一种方法（不一定是最好的）是实现自定义安全管理器。

```
import java.awt.*;
import java.awt.event.*;
import java.security.Permission;

/** NoExit demonstrates how to prevent 'child'
applications from ending the VM with a call
to System.exit(0).
@author Andrew Thompson */
public class NoExit extends Frame implements ActionListener {

  Button frameLaunch = new Button("Frame"),
     exitLaunch = new Button("Exit");

  /** Stores a reference to the original security manager. */
  ExitManager sm;

  public NoExit() {
     super("Launcher Application");

     sm = new ExitManager( System.getSecurityManager() );
     System.setSecurityManager(sm);

     setLayout(new GridLayout(0,1));

     frameLaunch.addActionListener(this);
     exitLaunch.addActionListener(this);

     add( frameLaunch );
     add( exitLaunch );

     pack();
     setSize( getPreferredSize() );
  }

  public void actionPerformed(ActionEvent ae) {
     if ( ae.getSource()==frameLaunch ) {
        TargetFrame tf = new TargetFrame();
     } else {
        // change back to the standard SM that allows exit.
        System.setSecurityManager(
           sm.getOriginalSecurityManager() );
        // exit the VM when *we* want
        System.exit(0);
     }
  }

  public static void main(String[] args) {
     NoExit ne = new NoExit();
     ne.setVisible(true);
  }
}

/** This example frame attempts to System.exit(0)
on closing, we must prevent it from doing so. */
class TargetFrame extends Frame {
  static int x=0, y=0;

  TargetFrame() {
     super("Close Me!");
     add(new Label("Hi!"));

     addWindowListener( new WindowAdapter() {
        public void windowClosing(WindowEvent we) {
           System.out.println("Bye!");
           System.exit(0);
        }
     });

     pack();
     setSize( getPreferredSize() );
     setLocation(++x*10,++y*10);
     setVisible(true);
  }
}

/** Our custom ExitManager does not allow the VM
to exit, but does allow itself to be replaced by
the original security manager.
@author Andrew Thompson */
class ExitManager extends SecurityManager {

  SecurityManager original;

  ExitManager(SecurityManager original) {
     this.original = original;
  }

  /** Deny permission to exit the VM. */
   public void checkExit(int status) {
     throw( new SecurityException() );
  }

  /** Allow this security manager to be replaced,
  if fact, allow pretty much everything. */
  public void checkPermission(Permission perm) {
  }

  public SecurityManager getOriginalSecurityManager() {
     return original;
  }
} 
```

# mysql - 针对字符串的 MySQLquery 数据库

> ID：11610399
> 
> 赞同：1
> 
> 时间：2012-07-23T10:06:58.260
> 
> 标签：mysql

我有兴趣根据给定字符串搜索数据库条目。

像这样的东西：

```
SELECT * FROM TABLE WHERE %table_column% LIKE %STRING% 
```

可以用 MYSQL 做到这一点吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:09:34.220

不，您不能对列名进行通配符。您可以像这样指定它们

```
SELECT * FROM TABLE 
WHERE col1 LIKE %STRING%
or col2 LIKE %STRING%
or col3 LIKE %STRING% 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:12:13.123

您可以主要在存储过程中使用动态 MySQL 来完成此操作：

```
CREATE PROCEDURE sp_test
(
 arg_column_name VARCHAR(255)
,arg_filter VARCHAR(255)
)
BEGIN

SET @query1 = CONCAT('
        SELECT  *
        FROM    table_name a
        WHERE   a.',arg_column_name,' LIKE "%',arg_filter,'%"'
        );
        PREPARE stmt FROM @query1; EXECUTE stmt; DEALLOCATE PREPARE stmt;
END;

CALL sp_test('column_name','filter_val'); 
```

# javascript - qTip 和动态内容

> ID：11610400
> 
> 赞同：2
> 
> 时间：2012-07-23T10:07:00.257
> 
> 标签：javascript, html, qtip

我是 JavaScript 和 qTip 的新手，我无法做某事。我有一张带有图像的表格，我需要一个 qTip，其中包含每个图像的描述。我从数据库加载图像和内容。我怎么写这个？根据我的阅读，我需要将描述添加到隐藏的 div 并从 JavaScript 函数访问 div。唯一的问题是我不知道怎么做。冷，请告诉我如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:55:37.617

假设您的 HTML 标记看起来或多或少是这样的：

```
<td>
    <img title="First img">
</td>
<td>
    <img title="Second img">
</td> 
```

以下是您可以执行的操作：

```
$('td').each(function() {
    var img = $('img', this);
    $(this).qtip({
        content: img.attr('title'),
        show: 'mouseover',
        hide: 'mouseout',
        position: {
             target: 'topMiddle',
             tooltip: 'bottomMiddle'
        }
    });
}); 
```

想法是遍历所有持有者，获取底层图像和工具提示内容（在本例中`img.attr('title')`）并使用此自定义生成工具提示`content`。

# c# - 使用 C# 循环未知行数

> ID：11610403
> 
> 赞同：-1
> 
> 时间：2012-07-23T10:07:25.013
> 
> 标签：c#, .net, arrays, text-parsing

我需要为所有行循环此循环，而不仅仅是由 2 索引的行。此外，我在双重解析中遇到错误。

有没有一种有效的方法来执行以下操作？

该文件可以具有可变长度的行。因此我需要维护一个数组来存储每一行​​的大小。

```
 public static void ReadFile()
    {
        int lineNo;
        List<List<double>> numbers = new List<List<double>>();
        foreach (string line in File.ReadAllLines("Data.txt"))
        {
            var list = new List<float>();
            foreach (string s in line.Split(new[]{',', ' '}, StringSplitOptions.RemoveEmptyEntries))
            {
                int i;
                if(double.TryParse(s, out i))
                {
                    list.Add(i);
                    lineNo++;
                }
            }
            numbers.Add(list);
        }

        var specialNumber = numbers[3][4];        // gives line 3 number 4
        var specialLine = numbers[2].ToArray();   //  gives an array of numbers of line 2

        double[] rowTotal;
        double[] squareRowTotal;
        double[] rowMean;

        //I need to loop this loop for all rows and not just the row indexed by 2\. Also I am getting an error in the double parsing.

        for (int j=0; j<(specialLine.Length); j++)
        {
            rowTotal[2] = rowTotal[2] + numbers[2][j];
            squareRowTotal[2] = squareRowTotal[2] + numbers[2][j] * numbers[2][j];
        }

        for (int k = 0; k < lineNo; k++)
        {
            rowMean[k] = rowTotal[k] / numbers[k].Length;
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:11:11.617

顺便说一句，最好将数据访问逻辑和数据处理逻辑分开。还可以考虑声明一些类型，该类型将具有名称，描述您的双精度值的性质。例如

```
public class BowlingGame
{
   private List<double> _scores = new List<double>();

   public BowlingGame(IEnumerable<double> scores)
   {
       _scores.AddRange(scores);
   }

   public double Total
   {
       get { return _scores.Sum(); }
   }

   // implementation for SquareTotal and Mean
} 
```

并从解析方法返回此实体的列表：

```
public static IEnumerable<BowlingGame> ParseFile()
{
   List<BowlingGame> games = new List<BowlingGame>();
   foreach (string line in File.ReadAllLines(@"c:\temp\test.csv"))
        games.Add(ParseGame(line));
   return games;
}

private static BowlingGame ParseGame(string line)
{
    var scores = new List<double>();
    foreach (string s in line.Split(new[] { ',', ' ' }))
    {
        double score;
        if (Double.TryParse(s, out score))            
             scores.Add(score);
    }

    return new BowlingGame(scores);
} 
```

用法：

```
foreach(var game in GameParser.ParseFile())
{
    Console.WriteLine(game.Total);
    Console.WriteLine(game.Mean);
} 
```

**你的代码有什么问题？**你已经声明

```
List<List<double>> numbers = new List<List<double>>(); 
```

但试图在那里添加整数列表

```
 var list = new List<int>(); 
```

还`double.TryParse(s, out i)`需要双输出参数，但您传递的是整数。

您可以使用 Linq 在循环中计算您的值（不要忘记在使用之前初始化数组）：

```
double[] rowTotal = new double[numbers.Count];

for (int rowIndex = 0; rowIndex < numbers.Count; rowIndex++)            
    rowTotal[rowIndex] = numbers[rowIndex].Sum(); 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:19:11.120

```
 public static void ReadFile()
    {
        List<List<double>> numbers = new List<List<double>>();
        foreach (string line in File.ReadAllLines(@"c:\temp\test.csv"))
        {
            var list = new List<double>();
            foreach (string s in line.Split(new[] { ',', ' ' }, StringSplitOptions.RemoveEmptyEntries))
            {
                double i;
                if (Double.TryParse(s, out i))
                {
                    list.Add(i);
                }
            }
            numbers.Add(list);
        }

        double[] rowTotal = new double[numbers.Count];
        double[] squareRowTotal = new double[numbers.Count];
        double[] rowMean = new double[numbers.Count];

        for(int row = 0; row < numbers.Count; row++)
        {
            var values = numbers[row].ToArray();

            rowTotal[row] = values.Sum();
            squareRowTotal[row] = values.Select(v => v * v).Sum();
            rowMean[row] = rowTotal[row] / rowTotal.Count();
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:24:45.837

我认为您的答案应该是这样的（我使用了一些 LINQ 而不是循环！）：

```
public void ReadFile()
{
    int lineNo = 0;
    List<List<double>> numbers = new List<List<double>>();
    foreach (string line in File.ReadAllLines("Data.txt"))
    {
        var list = new List<double>();
        foreach (string s in line.Split(new[] { ',', ' ' }, StringSplitOptions.RemoveEmptyEntries))
        {
            double i;
            if (double.TryParse(s, out i))
            {
                list.Add(i);
                lineNo++;
            }
        }
        numbers.Add(list);
    }

    var rowsTotal = new List<double>(numbers.Count);
    var squareRowTotal = new List<double>(numbers.Count);
    var rowMean = new List<double>(numbers.Count);

    rowsTotal.AddRange(numbers.Select(row => row.Sum()));
    squareRowTotal.AddRange(numbers.Select(row => row.Sum(d => d*d)));

    for (int k = 0; k < lineNo; k++)
    {
        rowMean[k] = rowsTotal[k] / numbers[k].Count;
    }
} 
```

# ruby-on-rails - RubyMine Debugger.start 尚未调用

> ID：11610405
> 
> 赞同：17
> 
> 时间：2012-07-23T10:07:26.757
> 
> 标签：ruby-on-rails, ruby, rubymine

我在使用 RubyMine 进行调试时遇到了这个异常......

```
Debugger.start is not called yet. 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-07-23T10:07:26.757

在尝试了其他建议的解决方案一段时间后，我发现我在 gem 文件中有以下内容：

```
gem "debugger" 
```

这会以某种方式导致调试器发生冲突...删除此行解决了我的问题...

谢谢...

* * *

来源：[调试器在遇到第一个断点时崩溃](http://devnet.jetbrains.net/thread/433721)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-09-26T15:01:32.513

作为 Mustafah 评论的附录，我花了一段时间才找到这个问题的变体：

```
gem 'pry-full'
gem 'debugger' 
```

这两行都导致了问题，所以我不得不改为：

```
unless ENV['RM_INFO']
  gem 'pry-full'
  gem 'debugger'
end 
```

你怎么知道哪些 gem 可能间接加载调试器 gem？在您的 Gemfile.lock 中查找表明这种依赖关系的条目：

```
pry-debugger (0.2.2)
  debugger (~> 1.3)
  pry (~> 0.9.10) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-20T20:24:32.153

对于遇到这种情况并且无法从 Gemfile 中删除调试器的其他人，值得关注 Mustafah 提供的源链接。

讨论的进一步更新指出，您可以添加`unless ENV['RM_INFO']`到 Gemfile（以及在调试器 gem 的任何要求之后）以使用 RM 调试器并允许项目中的其他人使用命令行调试器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-23T22:55:27.313

如果您签入 Gemfile.lock，其他解决方案将不起作用 - 它会根据生成它的机器而有所不同（没有尝试过，但很确定这是真的）。

相反，我将 gem 放在 Gemfile 中一个单独的非默认部分：

```
group :debugging do
  gem 'debugger'
end 
```

然后，在 application.rb 中，我有条件地要求它。另外，我没有 RM_INFO，所以我检查了 RUBYLIB env var：

```
Bundler.require(:default, Rails.env) if defined?(Bundler)

unless ENV['RUBYLIB'] =~ /RubyMine/
  require 'debugger'
end 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-05-08T08:00:37.163

我只有一个依赖项破坏了 RubiMine 的调试器：`pry-debugger`. 将其替换为`pry-nav`不依赖于 的`debugger`，解决了问题。

# jsf - Primefaces/JSF 嵌套数据表

> ID：11610409
> 
> 赞同：2
> 
> 时间：2012-07-23T10:07:40.690
> 
> 标签：jsf, primefaces, datatable

我有一个包含 IRoomDomain 对象的 DataModel。每个 IRoomDomain 对象都有一个 IOccupancy 数组。

我想使用数据表来显示它们。由于每个 IRoomDomain 都可以有多个 IOccupancy，因此我希望在 IRoomDomain ID 上有一个行跨度：

var 是房间

```
 Room ID| Label field 1              | Label field 2              | ...
 -------|----------------------------|----------------------------|------
 //Room1| room.occupancies[0].field1 | room.occupancies[1].field2 | ...
 room.ID| room.occupancies[1].field1 | room.occupancies[1].field1 | ...
        | room.occupancies[2].field1 | room.occupancies[3].field1 | ...  
--------|----------------------------|----------------------------|------
 //Room2| room.occupancies[0].field1 | room.occupancies[1].field2 | ...
 room.ID| room.occupancies[1].field1 | room.occupancies[1].field1 | ...
        | room.occupancies[2].field1 | room.occupancies[3].field1 | ...    
--------|----------------------------|----------------------------|------ 
```

我尝试了一个嵌套数据表（1 列房间 ID，1 列入住数据），但它显示每个房间的标题，而不是我想要的上面一次。

此外，该结构必须可选择用于房间 ID。

有没有办法通过 JSF/PrimeFaces 实现这一点？可以更改数据模型，但不能更改关系。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-20T20:40:38.027

是的，使用 PanelGrid。PrimeFaces DataTable 不够灵活，无法实现这一级别的嵌套。检查这个：

[https://www.primefaces.org/showcase/ui/panel/panelGrid.xhtml](https://www.primefaces.org/showcase/ui/panel/panelGrid.xhtml)

# c - 指令在虚拟机中的表示

> ID：11610410
> 
> 赞同：2
> 
> 时间：2012-07-23T10:07:43.360
> 
> 标签：c, interpreter, file-format, vm-implementation

我正在用 C 语言实现一个 VM（这是我的第一个），为了独立于平台，我设置每条指令在二进制输入（即字节码文件）中占用 4 个字节。

**我的问题是**：*目前关于指令表示的做法是什么？*

您是否简单地设置 unsigned char [4] 来表示每条指令？或者，使用您喜欢的任何表示，只要您可以将那些 4 字节指令转换为它？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T12:56:33.300

我主要使用简单且“经典”的基于堆栈的 VM，其中字节码就是字节。一切都存储为一个大数组`unsigned char`，这也是我写入/读取文件的内容。

我通过始终以特定顺序写入和读取操作数来克服字节顺序之类的问题。执行四个字节大小的读取以获取 32 位整数要慢一些，但我不必担心字节顺序，就像我使用强制转换读取单个`int`.

不担心字节顺序的另一种方法是在手册中简单而*清楚地*说明字节顺序是什么，并且尝试在具有另一个字节顺序的系统上运行二进制文件会导致奇怪的错误。然后，您可以使用 eg 的数组`int32_t`来存储指令和操作数。如果这是字节码中的最小单位，它可能会大大简化您的编码。

# python - 执行 var python

> ID：11610412
> 
> 赞同：0
> 
> 时间：2012-07-23T10:07:49.310
> 
> 标签：python, execute

我有以下定义，ITEM 来自菜单。我在编码十六进制时遇到问题，因为命令的格式不同，即 var 然后是命令。请问如何让bottomtext.insert(INSERT, var + process) 执行？目前所发生的只是 testingtext.encode("hex") 被插入到底部文本中。我确实看过 exec 但似乎普遍认为 exec 没有必要？Base64 + url 编码工作正常。请问有什么帮助吗？

谢谢

```
def gui(item):
    def default_encode(s):
        s.encode('oops')
        print s.encode

    encodehexstring = '.encode("hex")'
    mapping = {"encode_b64": base64.encodestring,"encode_url": urllib.quote_plus,"encode_hex": encodehexstring}
    process = mapping.get(item, default_encode)

    def getText():
    #clear right text field
        bottomtext.delete(1.0, END)
    #var equals whats in left
        var = middletext.get(1.0, 'end-1c')
    #encode it

    #insert encoded var in right
        if process == encodehexstring:
            bottomtext.insert(INSERT, var + process)
        else:
            bottomtext.insert(INSERT, process(var)) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:13:47.820

```
mapping = {'encode_b64': base64.encodestring, 'encode_url': urllib.quote_plus, 'encode_hex': lambda s: s.encode('hex')} 
```

编辑：或者没有 lambda（意思完全一样，只是要多写）：

```
def hexencode(s):
   return s.encode("hex")
mapping = {'encode_b64': base64.encodestring, 'encode_url': urllib.quote_plus, 'encode_hex': hexencode} 
```

# maven - 用于 jsvc 的 Maven 插件 - apache-commons-daemon

> ID：11610415
> 
> 赞同：0
> 
> 时间：2012-07-23T10:08:16.023
> 
> 标签：maven, jsvc, apache-commons-daemon

我正在寻找 apache commons-daemon 的 maven 插件。到目前为止，我已经发现[了这一点](https://github.com/jeroenr/Maven-Jsvc-Plugin)[，](http://mvnrepository.com/artifact/commons-daemon/commons-daemon)并且存在更好的情况吗？以及如何使用它们（并将它们导入 pom.xml）？

干杯!

# java - 测试AST访问者的Java源代码

> ID：11610416
> 
> 赞同：1
> 
> 时间：2012-07-23T10:08:17.930
> 
> 标签：java, testing, abstract-syntax-tree, visitor-pattern

我目前正在为 lombok.ast 树开发一个抽象语法树访问者，该树应该在给定的 OutputStream 对象中以纯文本形式打印我的 AST 结构。

为了加快调试阶段，是否有任何测试源代码已经包含了大部分（如果不是全部）Java 结构？有很多特殊情况和奇怪的、不寻常的（但仍然可能）的事情，以至于很容易忘记其中的许多。

不必将其完全视为测试用例，任何具有很多复杂性和多样性的源代码就足够了。

提前感谢任何人。

编辑：有谁知道是否有办法了解 lombok.ast 的访问何时结束？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-26T10:14:12.853

您应该查看[openJDK 的来源](http://hg.openjdk.java.net/)（搜索`jdk7/test`）。

使用访问者模式时，总是很难知道访问何时结束。当第一次找到父节点时会调用您，但在访问完所有子节点后不会再次调用。

通常的解决方案是在访问节点时收集信息，然后在访问完所有节点后查看收集到的信息并进行实际处理。

# jsf - 我将如何为 JSF 中的这种方法编写测试用例？

> ID：11610417
> 
> 赞同：1
> 
> 时间：2012-07-23T10:08:18.947
> 
> 标签：jsf, junit

```
public class EmailValidator implements Validator {
    public void validate(FacesContext context, UIComponent arg1, Object value)
            throws ValidatorException {
        String email = (String) value;
        if (!email.contains("@")) {
            FacesMessage message = new FacesMessage();
            message.setSeverity(FacesMessage.SEVERITY_ERROR);
            message.setSummary(" Email is not valid.");
            message.setDetail(" Email is not valid.");
            context.addMessage("userForm:Email", message);
            throw new ValidatorException(message);

        }
    }

} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T10:33:12.973

你想在这里测试什么？如果`if (!email.contains("@"))`在工作？如果您想从用户的角度对此进行测试，您需要使用[Selenium 之](http://seleniumhq.org/)类的东西进行集成或 GUI 测试。

如果您想对电子邮件验证进行单元测试，我会在课堂上这样做：

```
public class EmailValidator implements Validator {
    public void validate(FacesContext context, UIComponent arg1, Object value)
            throws ValidatorException {
        String email = (String) value;
        if (!isValidEmail(email)) {
            FacesMessage message = new FacesMessage();
            message.setSeverity(FacesMessage.SEVERITY_ERROR);
            message.setSummary(" Email is not valid.");
            message.setDetail(" Email is not valid.");
            context.addMessage("userForm:Email", message);
            throw new ValidatorException(message);

        }
    }

   boolean isValidEmail(String emailAddress){
     // do your tests here...
   }
} 
```

然后编写一个这样的测试类：

```
public class EmailValidatorTest {

  @Test
  public testIsValidEmail(){

    EmailValidator validator = new EmailValidator();

    Assert.assertTrue(validator.isValidEmail("foo@bar.com");
    Assert.assertFalse(validator.isValidEmail("aaa");
    // more assertions here...

  }
} 
```

**编辑**

好吧，您可以通过提供所谓的[Mock objects](http://en.wikipedia.org/wiki/Mock_object)来为该方法编写测试。然后，您只希望在提供的电子邮件地址无效时发生异常：

```
public class EmailValidatorTest{

  @Test
  public void testValidateWithValidAddresses(){
    FacesContextMock facesContextMock = new FacesContextMock();
    EmailValidator validator = new EmailValidator();
    validator.validate(facesContextMock, null, "foo@bar.com");
  }

  @Test(expected=ValidatorException.class)
  public void testValidateWithInvalidAddresses(){
    FacesContextMock facesContextMock = new FacesContextMock();
    EmailValidator validator = new EmailValidator();
    validator.validate(facesContextMock, null, "foo");
  }   
} 
```

FacesContextMock 只是一个模型，它实现了 FacesContext 方法而不做任何事情：

```
public class FacesContextMock extends FacesContext{
  @Override
  public Application getApplication(){
    return null; 
  }

  // all the abstract methods implemented here, just doing nothing
} 
```

也就是说，我认为您不必为了接近 100% 的代码覆盖率而为所有内容编写测试用例。我认为应该测试什么以及需要多少代码覆盖率在[https://sqa.stackexchange.com/上进行了详细讨论](https://sqa.stackexchange.com/)

# android - 如何在android中删除编辑文本的大小写敏感性

> ID：11610418
> 
> 赞同：1
> 
> 时间：2012-07-23T10:08:20.490
> 
> 标签：android, android-edittext

我必须将包名称发送到其他应用程序。这是成功完成的。但是当我在编辑文本中编写包时。编辑文本区分大小写。那么我该如何删除呢？是否有任何选项可以在 main.xml 中进行更改，或者我必须以编程方式进行。请建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:12:37.150

`.toLowerCase()`发送前如何`String`？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:12:51.630

```
String txt = editText.getText().toString().toLowerCase(); 
```

现在在任何你想要的地方使用**txt ...**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:20:24.977

检查包名的地方是某某，使用

```
String textEntered=editText.getText().toString();
if(textEntered.equalsIgnoreCase("package name"))
{
    //proceed the code
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-23T10:26:15.457

好吧，如果您想以小写形式发送包名称，请使用

```
yourString.toLowerCase(); 
```

发送前

添加阅读您上面的评论后。我认为您正在比较包名称，在这种情况下。采用

```
 onePackagename.equalsIgnoreCase(anotherPackageName); 
```

# java - 我怎样才能降级到 E 类，或者至少在没有警告的情况下以安全的方式做到这一点？

> ID：11610421
> 
> 赞同：3
> 
> 时间：2012-07-23T10:08:24.593
> 
> 标签：java, generics, inheritance, types, downcast

我有超抽象类 Node 和 50 种类型的子类 SubNode。

我有一个通用类 <E extends Node> 它有一个私有 var List<E> 和一个不幸的是必须接受超类 Node ALWAYS 的方法，不能将它移动到 E：

```
 public void addSubElement (Node node){ 
        if (node instanceOf E) subElements.add((E)node); 
        else //Doing extra steps for occasional non-E nodes like discarding them silently without CastException; 
 } 
```

任何解决方案（反射？）能够在没有警告的情况下编译，抛出 CastException 而不是由于类型擦除而添加任何对象？？...

我不想为任何类型的子类编写相同的函数：

```
 public void addSubElement (Node node){                             
        if (node instanceOf SubNode1) subElements.add((SubNode1)node); 
        if (node instanceOf SubNode2) subElements.add((SubNode2)node); 
        //if (node instanceOf SubNode50....
 } 
```

有这样的方法真是太好了。

```
public void addSubElement (Node node){ 
        subElements.add((E)node.autoCastToSubClassOfAbstract("Node")); //Should throw CastException if non-E
 } 
```

或者

```
 public void addSubElement (Node node){ 
        subElements.add(node.autoCastTo("E")); //Should throw CastException if non-E
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:18:42.600

如果你*被迫*以某种方式拥有一个

```
public void addSubElement (Node node); 
```

那么你唯一的选择是使用

```
public void addSubElement (Node node){ 
    subElements.add((E)node); 
} 
```

如果没有收到警告（您当然可以禁止），就无法实现这一目标。

只要您是唯一使用此方法的人，这很好，只要您确保始终使用正确的参数调用它，您就可以忽略警告。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-23T10:29:51.497

你的设计有缺陷。方法的签名应该是：

```
public void addSubElement (E node) 
```

或者`subElements`应该是`List<Node>`type `List<E>`。

假设你的类是`NodeList<E extends Node>`，然后你创建一个实例：

```
NodeList<SubNode1> nl = new NodeList<SubNode1>(); 
```

那么该列表将只接受 的实例`SubNode1`，因此您将无法做到

```
nl.addSubElement(subNode2Instance) 
```

更新：

我发现的唯一解决方法是：

```
private static class G<E extends NodeB> {

    private E templateObject;

    private List<E> subElements = new ArrayList<E>();

    public G(E templateObject) {
        this.templateObject = templateObject;
    }

    public void addSubElement (NodeB node) {
        if (templateObject.getClass().isAssignableFrom(node.getClass())) {
            subElements.add((E) node);
        } else {
            throw new ClassCastException();
        }
    }

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-23T11:37:39.673

使用泛型时，在某些极端情况下，您无法在不抑制警告的情况下编写有效代码。

`addSubElement()`解决您的问题的纯 OO 方法是为每种类型编写方法。这将为每种类型（N * N）中的每种类型提供一种方法。您可以在各自的类型中添加特殊情况。

显然，对于任何大量不同类型（比如三个以上），方法的数量都会迅速增加，您会发现自己处于必须剪切和粘贴大量代码的境地。

即使您只需要编写其中的几个并将大部分工作委托给一个泛型`addSubElement(Node)`方法，它仍然会产生技术债务，因为您需要为每个新类型编写 X 个方法。

因此，对于您的极端情况，可能无法解决`instanceof`and `@SuppressWarnings("unchecked")`。

**[编辑]**

您可以定义一个`INode`必须`Node`实现的接口。你的班级可能看起来像这样：

```
public Node<E,N extends INode> {

    @SuppressWarnings("unchecked")
    public void addSubElement(N n) { ... }
} 
```

此模式将允许您限制此实现接受的可能节点类型，或`Node`用于`N`接受任何内容以及您在方法中进行特殊处理的地方。

这里的优点是，当您将类型传递给无法处理它的实现时，您可能会遇到编译时错误。但是您仍然需要在方法中进行强制转换并抑制警告。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-23T14:14:08.693

**编辑：所有其他答案的最终答案：**

我在犹豫是否接受 titofb 的回答，因为他是指定好方法的人。但我认为它足以针对应该接受我自己的问题（第一次），以造福于阅读它的其他人。谢谢大家！

抽象节点类实现了这一点：

```
 @SuppressWarnings("unchecked")
    protected final Class<E> getChildType(){
        return (Class<E>)(((ParameterizedType)getClass().getGenericSuperclass()).getActualTypeArguments()[0]); 
    } 
```

所以任何子节点总是有一个可用的方法，它从定义 SubnodeN 中返回他自己的类型 E 扩展 Node<SubNodeX> (SubnodeX = N in Node<E>)。这意味着我们可以在任何节点上做到这一点：

```
 public void addSubElement (Node<?> node){ 
      Class<E> expectedChildType = getChildType();
      if (expectedChildType.isAssignableFrom(node.getClass())){//if node instanceOf E
         subElements.add(expectedChildType.cast(node)); 
      }
      else throw new ClassCastException("A non-expected child was intended to add to this "+this.getClass().getSimpleName()+" element");
 } 
```

然后这就是魔法。这是默认行为。如果不期望某些子节点，它会警告您，但您可以为任何子节点覆盖此方法以处理特殊情况：

```
 @Override
 public void addSubElement (Node<?> node){ 
      if (node instanceOf SubNode34) {/* Yes, our current subnode does not expect all elements intended to be added as E type nodes, we can silently discard or do whatever */}
      else super.addSubElement(node) //Parents default behavior
 } 
```

# iphone - 设置自我后释放临时对象是否正确？

> ID：11610422
> 
> 赞同：0
> 
> 时间：2012-07-23T10:08:30.630
> 
> 标签：iphone, objective-c, initialization, release, self

假设播放器是（非原子的，保留），并且使用 player = _player 合成，以下哪种场景是正确的编码实践。

方案 A

```
MPMoviePlayerController *mp = [[MPMoviePlayerController alloc] initWithContentURL:movieURL];
        self.player = mp;
        [mp release]; 
```

方案 B

```
MPMoviePlayerController *mp = [[MPMoviePlayerController alloc] initWithContentURL:movieURL];
    self.player = mp; 
```

到目前为止，我一直使用场景 A 作为一般做法，但我认为这可能会导致我的代码中出现内存泄漏。

谢谢你的帮助。

编辑1：

定时器也是如此，它们给我带来了真正的麻烦。如果我使用下面的代码，这是正确的吗？如果 timerMap 也是（nonatomic，retain），并且使用 timerMap = _timerMap;

```
self.timerMap = [[NSTimer scheduledTimerWithTimeInterval:fps target:self selector:@selector(updateAnimationTimer) userInfo:nil repeats:YES] autorelease]; 
```

发布时是否可以仅使无效，或者应该先无效然后释放？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T10:11:36.040

方案A绝对是要走的路，方案B会泄露`mp`

资料来源：[苹果文档](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/MemoryMgmt.html)

编辑 1：

`timerMap`您发布的代码是错误的，再次设置属性时会导致崩溃。你一定不要`autorelease`它

```
self.timerMap = [NSTimer scheduledTimerWithTimeInterval:fps target:self selector:@selector(updateAnimationTimer) userInfo:nil repeats:YES]; 
```

当您不再需要计时器时，只需

```
self.timerMap = nil; 
```

这将调用`release`计时器上的方法并将指针设置为`nil`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:15:25.417

场景 A 是正确的。场景B实际上会导致内存泄漏，这是因为self.player = mp; 保留引用计数器。

以下代码也是正确的：

```
MPMoviePlayerController *mp = [[[MPMoviePlayerController alloc] initWithContentURL:movieURL] autorelease];
self.player = mp; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-23T10:15:47.297

第一个是正确的内存管理，但我只是倾向于：

```
self.player = [[[MPMoviePlayerController alloc] 
                 initWithContentURL:movieURL] 
                 autorelease]; 
```

这样，我将该对象的所有内存管理保留在一行上

编辑以下编辑问题

您拥有的计时器对象已经存在**autorelease**，您不应该`autorelease`再次添加它。看看[这个问题](https://stackoverflow.com/questions/5096836/what-is-the-definition-of-convenience-method-in-regards-to-objective-c)以了解便利方法的解释。

# php - 动态函数定义（？）

> ID：11610423
> 
> 赞同：0
> 
> 时间：2012-07-23T10:08:33.953
> 
> 标签：php, drupal

我写了一个drupal模块。模块中的一个函数是一个钩子函数，它的函数名称为：hook_form_FORM_ID_alter，其中部分 FORM_ID 取决于我要更改的表单的 id。我要更改的表单的表单 ID 作为持久变量存储在数据库中，我想要的是能够在我声明它时使用它们来给出函数的名称。

我的表单 id 数组可能随时更改，每个表单的 hook_form_FORM_ID_alter 所做的应该是相同的，所以我希望函数定义中的函数名称根据表单 id 数组的内容而改变。我尝试用谷歌搜索动态函数定义之类的东西，但这似乎不是我想要的。

我知道我可以轻松地使用 hook_form_alter，然后每次都简单地检查 id，但如果可能的话，我宁愿这样做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:13:00.830

我认为你可以使用 PHP [create_function](http://php.net/manual/en/function.create-function.php)

# php - 在没有提示的情况下打印 html 表格预览窗口

> ID：11610426
> 
> 赞同：0
> 
> 时间：2012-07-23T10:08:53.687
> 
> 标签：php, javascript, jquery, html, ajax

我将使用按钮和 onclick 功能打印一个 html 表格。当我尝试这样做时，它总是提示我一个窗口，从那里我必须再次按下一个按钮调用打印。然后只有文档要打印。

所以我想要的是通过单击按钮打印该表格并且没有任何打印预览提示，是否可以这样做？如何？

我正在使用此代码打印表格。

```
function printlayout() {
     var data = '<input type="button" value="Print this page" onClick="window.print()">';           
       var DocumentContainer = document.getElementById('printlayout');
var WindowObject = window.open('', "TrackHistoryData", 
                              "width=740,height=325,top=200,left=250,toolbars=no,scrollbars=yes,status=no,resizable=no");           
 WindowObject.document.writeln(DocumentContainer.innerHTML);
        WindowObject.document.close();
        WindowObject.focus();
        WindowObject.print();
        WindowObject.close();
 } 
```

我知道这里有成千上万个与此类似的问题，但没有什么能帮助我解决我的问题。我主要专注于谷歌 chrome 浏览器来运行我的应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:18:37.790

不，很遗憾，这是不可能的，该功能受浏览器控制，您无法对其进行操作。

# java - 如何在扩展 FieldEditorPreferencePage 的首选项页面中添加按钮

> ID：11610431
> 
> 赞同：0
> 
> 时间：2012-07-23T10:09:04.653
> 
> 标签：java, eclipse, eclipse-plugin

我有一个扩展的首选项页面。我想在&按钮之前`FieldEditorPreferencePage`对齐两个按钮，如图所示。`SWT``Restore Defaults``Apply`

![在此处输入图像描述](../Images/9a9547579f3a720cef0c32bb59a8a2c2.png)

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T12:14:01.777

当您查看 UI 的结构时，您会看到首选项页面构建代码创建了一个容器，然后为您提供了这个容器来填充。

该容器是容器的同级，其中包含图像中的“Restore Defaults”和“Apply”按钮。由于它是同级的（即按钮和您的按钮*不在*同一个容器中），因此您不能将您的按钮与它们对齐（布局仅在同一个容器中有效）。

现在简单的解决方案是去你的父母，然后搜索兄弟容器来添加你的按钮。但这会使按钮在用户离开您的首选项页面时仍然存在。如果你不小心，用户每次访问你的页面时都会得到两个按钮。

另一种方法是使用网格布局并在编辑器下方添加一个跨越所有列的容器。`Composite`为此使用 a 。将此容器配置为双向增长。

为内部容器 I1 分配一个新的网格布局。在容器内，添加另一个不会增长的容器 I2。将其定位在右/下。

将您的按钮添加到 I2。

即你有页面包含 I1 包含 I2 包含按钮。

# .net - Web Service：一次只允许一个线程执行

> ID：11610438
> 
> 赞同：0
> 
> 时间：2012-07-23T10:09:30.923
> 
> 标签：.net, multithreading, web-services, ftpwebrequest

**商业案例：**

我有一个`ASMX web service`从某个远程目录复制/删除/下载文件。My`WebMethod`创建了一个执行所有这些操作的业务类的实例。在下载的情况下，我检查哪个文件是最新的并下载它。下载后，我想立即删除它。但是，在多线程场景中，我尝试删除的文件很可能已被其他线程删除。

**我的解决方案：**

为避免此类问题，我希望 Web 服务一次只执行一个线程。对 的任何其他调用都`WebMethod`应该等到前一个线程完成下载和删除操作。

为此，我`static`在我的商务舱中声明了一个变量。`WebMethod`在业务类中我的业务方法（从 调用）开始时，我`lock`在这个静态对象上调用 。因此，其他 Web 服务调用将不会执行业务方法中的代码，直到该`lock`静态变量（对象）未被释放。

```
 public class FileOperator
{
    private static object locker = new object();

    public void DownloadAndDeleteFile(string fileName)
    {
        lock(locker)
        {
            // All business logic goes here.
        }
    }
} 
```

中的代码`WebMethod`如下所示。

```
FileOperator fileOperator = new FileOperator();
        fileOperator.DownloadAndDeleteFile("File1.txt"); 
```

**问题：**

1.  我的解决方案正确吗？
2.  如果是，如何只允许从 Web 服务中执行一个线程？请注意，我只想为下载执行此操作。上传应该在并行线程中工作。
3.  有更好的解决方案吗？

我正在使用 .NET 4.0。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:41:12.223

以下是我对您的要求的理解：

*   多个客户端/线程正在执行一个 Web 方法，该方法正在从远程服务器下载文件，下载后从远程服务器删除下载的文件。

*   现在各种线程，可能会去相同或不同的文件，下载。

*   当前实现的问题是，由于您在函数级别具有通用互斥锁（锁），因此即使一个线程想要下载一个未被任何其他线程访问的文件，它也必须等待另一个线程正在工作在不同的文件上，这将在您扩展系统时大大影响性能，因为它会同步所有客户端，而不管要求如何。

我只是在考虑基于要在远程服务器上访问的文件/资源​​的锁定可能存在的行的可能解决方案。考虑以下几行：

*   在服务器方法上维护静态对象列表，其中每个对象被分配给不同的文件/资源​​，您可以维护一个字典，它将创建的静态对象映射到文件。当一个线程带有文件名时，它会获取相关对象，如果它已经存在，否则会创建一个新对象。现在，它尝试获取该对象上的锁，如果它是第一个线程，它将获得访问权限，否则它必须等待，如果另一个线程正在处理同一个对象。在函数内部，您可以先检查文件是否存在，然后再继续前进或快速退出互斥锁。

*   将有一个对所有线程都有效的通用锁，在很短的时间内只为所有线程维护字典对象的神圣性。所以，每个线程都可以检查文件的存在

// 粗略的实现（你需要清理）

公共类 FileOperator { 私有静态对象储物柜 = 新对象（）；

```
private static List<object> fileObjects;

private static Dictionary fileObjectsDictionary;     

public void DownloadAndDeleteFile(string fileName) 
{ 
    lock(locker) 
    { 
        if(fileObjects == null)
           fileObjects = new List<object>();

        if(fileObjectsDictionary == null)
           fileObjectsDictionary = new Dictionary();

        // check whether list contains fileName
        // For First time Add file to a given index
        // Create an Object using same index and add to the dictionary
        // For any other time get the index and fetch the object from dictionary
    } 

   lock(Dictionary Object)
    {
      // All business logic
    }
} 
```

}

// 这样所有线程就不会在同一点等待

希望这可以帮助，

米纳尔

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T11:40:00.210

如果您的 Web 服务是单一入口点，那么您实际上根本不必担心这一点。为什么？因为即使您可以异步调用您的 Web 服务，Web 服务也会默认以同步方式执行请求：[ASMX WebService 或 WCF 或 aspx 页面是否默认是异步的？](https://stackoverflow.com/questions/6213423/is-asmx-webservice-or-wcf-or-aspx-pages-are-async-by-default)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:20:06.297

你为什么不尝试原子删除？

```
lock(obj)
    if(IO.File.Exists(someFilePath))
       try
       {
           IO.File.Delete(someFilePath));
        }catch(IOException){//do nothing} 
```

# database - 持续部署和数据库

> ID：11610442
> 
> 赞同：2
> 
> 时间：2012-07-23T10:09:46.167
> 
> 标签：database, agile, continuous-deployment, netflix, continuous-delivery

在持续部署中，您有时会逐渐升级您的服务器，例如，20 人中有 2 人会使用新代码，直到我们确信一切正常。如果新代码需要数据库模式迁移会发生什么，例如字段 phone 现在是 table Phones。除非我升级所有 20 台服务器，否则某些东西会坏掉。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T15:40:37.603

查看扩展/合同数据库模式： [http ://exortech.com/blog/2009/02/01/weekly-release-blog-11-zero-downtime-database-deployment/](http://exortech.com/blog/2009/02/01/weekly-release-blog-11-zero-downtime-database-deployment/)

您临时复制数据，以便事物位于旧位置和新位置。旧查询必须有效，新查询也必须有效。您可以在测试环境中进行自动化测试来验证这一点。一旦所有服务器都移至较新版本，您就可以执行“合同”删除“旧”样式数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:49:57.137

我们在我们的应用程序中一直这样做。我们所做的是让应用程序检查它正在使用的数据库的哪个“版本”，然后使方法有条件地工作。基本上，该应用程序将在新旧场景下正常工作。

# java - n 个数字排列成一个圆圈。我们需要找到连续编号的最大总和

> ID：11610443
> 
> 赞同：3
> 
> 时间：2012-07-23T10:09:47.400
> 
> 标签：java, c, arrays, algorithm, kadanes-algorithm

对于线性数组，寻找连续编号的最大和的问题。简单。[使用Kadane 的算法](http://en.wikipedia.org/wiki/Maximum_subarray_problem)可以轻松完成。. 但是现在数组是圆形的，我们需要找到连续数的最大和。因此 startindex 和 endindex 可以在数组中的任何位置。我没有得到如何及时解决它`O(n)`。

例如：`{ 8, 9, -14, 4, 3}`。

最大子`sum= 4+3+8+9= 24\. startindex=3 and endindex=1`数组（零索引数组）。请给我一些关于如何解决这个问题的提示或算法。无需代码。

编辑：正如大家提到的，圆形数组类似于跨越两次的相同数组。但是如何在该数组上应用 Kadane 的算法并限制连续编号。到 <=n

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:18:55.760

复制一次数组以获得 `{ 8, 9, -14, 4, 3, 8, 9, -14, 4, 3}`,

并找到长度不超过原圆的最大子数组。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-23T10:23:44.927

或者，不是复制数组，而是将索引变量的范围从`0..n-1`to扩展到`0..2n-1`并使用`(x mod n)`而不是`x`作为索引。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-10-04T01:34:19.047

1.  这个概念是通过 Kadane 算法找到最大和。
2.  然后通过对元素求反，通过 Kadane 算法找到最小和，并将其添加到数组的总和中。

比打印步骤 1 和步骤 2 计算的元素的最大值。

```
private static int maxCircularSum(int a[]) {
    int max_kadane = kadane(a);
    int max_wrap = 0, i;
    for (i = 0; i < a.length; i++) {
        max_wrap += a[i]; // Calculate array-sum
        a[i] = -a[i];  // invert the array (change sign)
    }
    max_wrap = max_wrap + kadane(a);
    return (max_wrap > max_kadane) ? max_wrap : max_kadane;
}
private static int kadane(int[] a) {
    int max = Integer.MIN_VALUE, sum = 0;
    for (int k : a) {
        sum = sum + k;
        if (sum < 0) {
            sum = 0;
        }
        if (max < sum) {
            max = sum;
        }
    }
    return max;
} 
```

# visual-studio - 为什么我的应用程序停止工作？

> ID：11610444
> 
> 赞同：-1
> 
> 时间：2012-07-23T10:09:49.813
> 
> 标签：visual-studio, visual-studio-2008, visual-c++

我正在使用 VS2008 创建 VC++ 项目。它之前工作正常，但现在当我构建任何项目（旧的或现有的）时，它正在创建一个 exe，但我无法通过 IDE 或双击它来运行它。在 exe 以外的调试文件夹中，我可以找到`.ilk`和`.pdb`文件。

没有错误信息。当我双击它时，应用程序没有打开。我检查了任务管理器仍然没有列出该应用程序。

我保留了一个断点

```
BEGIN_MESSAGE_MAP(CMFC_DialogDlg, CDialog)
    ON_WM_SYSCOMMAND()
    ON_WM_PAINT()
    ON_WM_QUERYDRAGICON()
    //}}AFX_MSG_MAP
END_MESSAGE_MAP() 
```

它被击中了几次，调试停止了。

我对 C# 应用程序没有任何问题。任何帮助将不胜感激。

**问题已修复**

问题仅限于对话框应用程序，经过数小时的调试，我发现这是因为`RichEditControl`但我不知道为什么。当我删除富编辑控件时，它工作正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-24T05:16:03.033

您应该在 InitInstance() 函数中调用[AfxInitRichEdit2()](http://msdn.microsoft.com/en-us/library/h6hweatz%28v=vs.80%29.aspx)。

# ruby-on-rails - Rails 活动记录动态查找器、创建器等

> ID：11610449
> 
> 赞同：0
> 
> 时间：2012-07-23T10:10:03.030
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, activerecord

我正在尝试学习 Rails，目前正在阅读活动记录。我试图了解许多不同的动态查找器和创建对象的方式，但是我找不到列出所有不同组合的地方。我在哪里可以找到这个？我试过读三本不同的书，但没有运气。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-24T15:13:48.840

阅读此[http://guides.rubyonrails.org/active_record_querying.html](http://guides.rubyonrails.org/active_record_querying.html)，非常有用的信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:14:24.167

您可能会发现这很有用：http: [//www.kesava.me/blog/2011/08/15/dynamic-finders/](http://www.kesava.me/blog/2011/08/15/dynamic-finders/)。不同的组合由 生成`method_missing`，因此它们没有在 Rails 代码库的任何地方明确列出。

此外，您可能会发现这个[Railscast](http://railscasts.com/episodes/2-dynamic-find-by-methods)也很有用。

# c - C - 由 realloc 创建的数组的大小

> ID：11610452
> 
> 赞同：-2
> 
> 时间：2012-07-23T10:10:22.910
> 
> 标签：c, sizeof, realloc

> **可能重复：**
> [确定c中动态分配内存的大小](https://stackoverflow.com/questions/1281686/determine-size-of-dynamically-allocated-memory-in-c)

我的 c 代码中有一个`struct`，但这个问题对所有其他类型也有效，所以我将使用`int`而不是`struct`我创建的。

```
int *a = realloc(NULL, 10*sizeof(int) );
printf("%d\n",sizeof(a)); //prints 4, needed to be 40

int b[10];
printf("%d\n",sizeof(b)); //prints 40 
```

我的问题是：我`realloc`在我的代码中使用，但我不知道如何找到我的数组的总大小。最简单的方法是什么？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:14:48.367

请记住，这`sizeof`是在编译时评估的（VLA 除外，但这不是您的情况）。想象一下，您将`realloc`参数的大小作为用户的输入：编译器不可能知道实际分配的大小。所以它返回指针的大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:16:32.360

简而言之，您需要将其存储在代码中，并传递给您的各种功能。由于您将该信息传递给`realloc`它已经可用。

还要记住 sizeof 不适用于指针，它只会返回指针的大小，而不是指针指向的内存大小。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:17:26.493

来自[http://en.wikipedia.org/wiki/Sizeof](http://en.wikipedia.org/wiki/Sizeof)

```
In the programming languages C and C++, the unary operator sizeof
is used to calculate the size of any datatype, measured in the
number of bytes required to represent the type. 
```

这意味着这

```
sizeof( int* ) 
```

返回架构上指针的大小。如果你想知道你的数组的大小，你必须这样做：

```
sizeof( your_type ) * array_size 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-23T10:23:02.293

`sizeof(a)`返回*指针*的大小而不是它指向的大小。`malloc`如果您使用or分配内存，您必须自己跟踪`realloc`。

# ejb - 是什么让企业 bean 变得“重量级”？

> ID：11610453
> 
> 赞同：3
> 
> 时间：2012-07-23T10:10:25.493
> 
> 标签：ejb, javabeans, java-ee-6

我已经读过很多次 EJB 是重量级的……但昨晚我正在阅读有关 EJB 的 Java EE 6 教程，它们似乎只是普通的 Java 对象，除了它们可以有 Stateless 或 Singletons 之类的注释。除了它们包含在（诚然非常基本的）教程中的功能之外，它们非常标准，就像 MVC 应用程序中的模型类一样。

1.  那么为什么会遇到对 EJB 非常消极的态度呢？
2.  为什么我看到它说绝大多数网络应用程序都不需要它们？
3.  是什么让他们“重量级”？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T15:54:00.407

EJB bean 是重量级的有几个原因。

第一个是罗德约翰逊的言辞。对于采用 Spring 的人们来说，重要的是 Rod 传播 EJB 是重量级的思想（Spring 因此自动轻量级）。Springsource 是一个商业组织，Rod 是一个聪明的商人。使用 Spring 的人越多，最终从 SpringSource 购买支持合同的比例就越大。

第二个来源是 Spring 狂热者，他们从未尝试过 EJB，但总是从 Rod 和其他狂热者那里听说 EJB 是重量级的。他们只是在模仿他们听过的歌曲。

第三个来源是 2004 年及之前被 EJB 2 烧毁的人。这个版本的 EJB 确实是重量级的。那时人们背弃了 EJB，从未回头，完全没有注意到 EJB 3 的出现，正如您所观察到的那样，这是一种非常轻量级且易于使用的技术。

# c# - 带有所选项目的自定义 ObservableCollection

> ID：11610456
> 
> 赞同：0
> 
> 时间：2012-07-23T10:10:45.097
> 
> 标签：c#, wpf, mvvm

我正在尝试实现自定义 ObservableCollection 它将具有可以直接从 XAML 绑定的当前（选定）项目属性 这是我到目前为止得到的示例代码有人能指出我正确的方向吗？这里的想法是将 listviews 的 selected item 属性直接设置为其 itemsources 的 Currentitem 并提供将参数作为当前项目的 Action。此操作将从视图模型中设置。

```
public class ItemAwareObservableCollection<T> : ObservableCollection<T>
{
    private readonly Action<T> _selectionCallback;
    private T _currentItem;

    public T CurrentItem
    {
        get { return _currentItem; }
        set
        {
            if(_currentItem.Equals(value))
            _currentItem = value;
            OnPropertyChanged(new PropertyChangedEventArgs("CurrentItem"));
            _selectionCallback(value);
        }
    }

    public ItemAwareObservableCollection(Action<T> selectionCallback)
    {
        _selectionCallback = selectionCallback;
    }

    public ItemAwareObservableCollection(Action<T> selectionCallback, IEnumerable<T> collection)
        : base(collection) { _selectionCallback = selectionCallback; }

    public ItemAwareObservableCollection(Action<T> selecytionCallback, List<T> list)
        : base(list) { _selectionCallback = selecytionCallback; }
} 
```

这是来自 viewmodel 的示例用法

```
get { return new ItemAwareObservableCollection<Companies>(onSelecttionchange, Resolve<ICompanyService>().Companies); } 
```

在 XAML 视图中，我想将此集合绑定到 Llistview 的 ItemSource（这很有效），但我想将其 selecteditem 属性绑定到此集合的 CurrentItem

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:56:26.303

不，我确实会使用[ICollectionView](http://msdn.microsoft.com/en-us/library/system.componentmodel.icollectionview.aspx)的[CurrentItem](http://msdn.microsoft.com/en-us/library/system.componentmodel.icollectionview.currentitem.aspx)并在您的 XAML 中使用[IsSynchronizedWithCurrentItem](http://msdn.microsoft.com/en-us/library/system.windows.controls.primitives.selector.issynchronizedwithcurrentitem.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:17:34.317

对于您的查询...您是否探索过 WPF 中的[SynchronizeWithCurrentItem功能？](https://stackoverflow.com/questions/1822421/issynchronizedwithcurrentitem-attribute-and-current-item-updates)

# sql - Skype - main.db 坏了

> ID：11610458
> 
> 赞同：1
> 
> 时间：2012-07-23T10:10:52.510
> 
> 标签：sql, database, sqlite, skype

我正在使用[SQLiteSpy](http://www.yunqa.de/delphi/doku.php/products/sqlitespy/index)`main.db`探索漫游文件夹 ( `%AppData%`)中 Skype 文件夹中的文件。但当时 Skype 正在运行。有人给我发短信，那时我正在从表格中读取数据。然后 Skype 崩溃了。我终止了 Skype 并将 Skype 文件夹复制到桌面（如备份）。忽略任何更改关闭 SQLiteSpy 并尝试登录我的 Skype 帐户。但它失败了。我从中删除了 Skype 文件夹，现在我有空的 Skype。只有我的联系人被保存，但没有聊天记录。当我按下from选项卡时，还会显示 SQLiteSpy 。`Messages``%AppData%``database disk image is malformed``Analyze database``Execute`

我不知道该怎么办。Skype 无法读取`main.db`文件，但 SQLiteSpy 可以完美读取，我无法读取我的对话...

是否可以重新创建`main.db`文件？我能以某种方式找回聊天记录吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T11:06:56.113

我通过单击`Vacuum database`SQLiteSpy 中的按钮修复了数据库。

# iphone - 如何在iphone的webview上调用原始html文本？

> ID：11610462
> 
> 赞同：0
> 
> 时间：2012-07-23T10:11:13.767
> 
> 标签：iphone, objective-c

我得到了 html 的这个值，所以如果我得到这种类型的值，如何在 webview 中显示 `<head> <meta/> <title>Journey Mapper - Getting Started</title> </head> <body> <a name="top"><h3>Getting Started - Registration and Login</h3></a> <p class="style1"> <a href="Index.html">Home</a> <a href="#reg">Registration</a> <a href="#login">Login</a> <a href="#forget">Forgot Password</a> </p> <a name="reg"><h4>Regis<a href="#top" class="style1" style="text-align:right"></a></h4> </a> <p>When the application starts in a click on &quot;My Journeys&quot; tab</p> <p>Click on &quot;New User&quot; button </p> <p>A Registration form will popup enter your profile details</p> <p>Note: </p> <ul> <li>All fields are mandatory</li> <li>A password must be at least eight characters long, begin with an alphabetic character, contain at least one upper case and one lower case letter, at least one number and one of the following special characters</li> <li>A valid email address should be provided to facilitate password reset</li> <li>Active Internet connection is required to setup your profile</li> </ul> <p>Click on sign up button to complete your registration</p> <p><a name="reg" id="reg"><a href="#top" class="style1" style="text-align:right">Back to Top</a></a></p> <a name="login"><h4>Login</h4></a> <p>To login as a registered user to Journey Mapper, click on &quot;My Journey&quot; tab </p> <p>Click on &quot;Login&quot; button</p> <p>A dialog will pop up, enter your registered username and password in respective fields.</p> <p>Click on login button to validate provided credentials and to log you in.</p> <p>You can also check &quot;Auto-login&quot; to retain your login information even when application is closed.</p> <p><a name="reg" id="reg2"><a href="#top" class="style1" style="text-align:right">Back to Top</a></a></p> <a name="forget"><h4>Forgot Password</h4></a> <p>In case you have forgotten your password you can request a reset of your password.</p> <p>Click on the &quot;Forgot Password?&quot; link on the login dialog.</p> <p>A &quot;Forgot Password?&quot; form will appear, enter your username and click on the &quot;Send Password&quot; button</p> <p>An email will be sent to your registered email address, which will contain the instructions to reset your password</p> <p><a name="reg" id="reg3"><a href="#top" class="style1" style="text-align:right">Back to Top</a></a></p> <p><a name="jump" href="#">Continue reading</a></p> </body> </html>`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:50:33.203

这应该可以帮助你

> ```
> NSString *myHTML = @"<html><body><h1>Hello, world!</h1></body></html>";
> [myUIWebView loadHTMLString:myHTML baseURL:nil]; 
> ```

如果您有任何图像，baseURL 将是您的资源文件夹的 fileURL，或者您可以通过`nil`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T11:48:57.157

对网页视图使用加载字符串方法：

[webView loadHTMLString:myHtmlString baseURL:nil];

# php - 无法使用 imap_open () 连接

> ID：11610463
> 
> 赞同：7
> 
> 时间：2012-07-23T10:11:15.880
> 
> 标签：php

我正在尝试使用 imap_open() 连接并获取主机电子邮件地址的消息，但它会抛出错误。

```
$server = '{mail.booksnearby.in:143/imap/ssl/novalidate-cert}INBOX';
$imap_connection = imap_open($server, $login, $password);
$mailboxinfo = imap_mailboxmsginfo($imap_connection);
$messageCount = $mailboxinfo->Nmsgs; 
```

上面抛出了这个错误：`Array ( [0] => Retrying PLAIN authentication after [AUTHENTICATIONFAILED] Authentication failed.`

如果我将 $server 更改为

```
$server = '{mail.booksnearby.in:143}INBOX'; 
```

然后它抛出以下错误

```
Certificate failure for mail.booksnearby.in: self signed certificate: 
```

如果 $server 是

```
$server = '{mail.booksnearby.in:143/imap/ssl/novalidate-cert}INBOX'; 
```

它抛出

```
Array ( [0] => TLS/SSL failure for mail.booksnearby.in: SSL negotiation failed ) 
```

我可以使用电子邮件客户端使用相同的用户名密码连接到电子邮件帐户。

我似乎也无法远程登录。它正在运行 apache 、 cpanel 和 dovecat。在我的主机上启用了支持 Ssl 的 Imap..

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-17T14:44:47.923

您确定端口号是 143（不是 993）吗？正如我所见，因为您正在使用带有自签名证书的安全连接。尝试这样做：

```
$server = '{mail.booksnearby.in:993/imap/ssl/novalidate-cert}INBOX'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-05-03T20:58:11.680

有点晚了，但仍然相关:)

通常，使用端口时`143`不涉及 SSL 加密。所以你不需要`ssl`在你的连接字符串中设置。结果，它应该如下所示：

```
$server = '{mail.booksnearby.in:143/imap}INBOX'; 
```

希望这会有所帮助。

# scala - SBT 一罐插件

> ID：11610464
> 
> 赞同：1
> 
> 时间：2012-07-23T10:11:17.410
> 
> 标签：scala, sbt

我正在使用 sbt 0.11.3（也在 0.11.2 上尝试过）和 scala 2.9.1.Final。

我有一个多项目 sbt 构建。

我安装了 sbt one-jar 插件，在 project/plugins.sbt 中有以下内容

```
resolvers += Resolver.url("sbt-plugin-releases", new URL("http://scalasbt.artifactoryonline.com/scalasbt/sbt-plugin-releases/"))(Resolver.ivyStylePatterns)

addSbtPlugin("com.github.retronym" % "sbt-onejar" % "0.8") 
```

我可以看到 sbt 下载依赖项，但 sbt 不知何故不允许我使用它（即`one-jar`在 sbt 控制台中执行），当我执行命令`one-jar`时任务未列出。`tasks`

非常感谢任何帮助

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T11:07:39.533

您必须将 OneJar 添加到您的项目设置中。

```
settings = standardSettings ++ SbtOneJar.oneJarSettings 
```

它也在 github repo 的 README 中进行了描述：[https ://github.com/sbt/sbt-onejar#introduce-settings](https://github.com/sbt/sbt-onejar#introduce-settings)

# android - 您如何控制 BACK 按钮的功能？

> ID：11610466
> 
> 赞同：-1
> 
> 时间：2012-07-23T10:11:26.620
> 
> 标签：android, android-layout

我有一个应用程序，当单击按钮时，它会更改内容视图，但是当我按下后退按钮时，它会关闭活动。如何更改后退按钮的功能。在这种情况下，它将是再次更改布局的后退按钮。

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-23T10:12:44.677

`onBackPressed()`您必须在您的活动中覆盖。

```
@Override
public void onBackPressed() {
    //your code when back button pressed
} 
```

当按下返回按钮时调用该`onBackPressed`方法，为此，您必须通过覆盖它来更改此方法的内容。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-23T10:15:01.413

此处已解决：[覆盖后退按钮以充当主页按钮](https://stackoverflow.com/questions/2000102/android-override-back-button-to-act-like-home-button)

```
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if (keyCode == KeyEvent.KEYCODE_BACK) {
        //Do what you want here
        moveTaskToBack(true);
        return true;
    }
    return super.onKeyDown(keyCode, event);
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-23T10:13:28.273

您可以覆盖 onBackpressed：

```
@Override
public void onBackPressed() {
    // Do your stuff....
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-05-23T08:01:23.847

新推荐的方法是使用 OnBackPressedCallback API，它比旧`onBackPressed()`方法更灵活，不仅可以从 Activity 或 Fragment 使用

[在官方指南](https://developer.android.com/guide/navigation/navigation-custom-back)和[API 参考](https://developer.android.com/reference/androidx/activity/OnBackPressedCallback)中查看更多详细信息

# javascript - 保存到本地存储 onkeyup

> ID：11610467
> 
> 赞同：2
> 
> 时间：2012-07-23T10:11:33.843
> 
> 标签：javascript

我正在尝试使用 javascript 在 keyup 事件上将表单数据保存到本地存储。我有以下代码，但我收到错误“Uncaught TypeError: Cannot set property 'onkeyup' of null”。

**html**

```
<input type="text" id="username" /> 
```

**javascript**

```
var user = document.getElementById("username");
user.onkeyup = function(){
    localStorage.setItem('user', user.value);
}; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:13:59.257

您正在尝试在加载完成之前访问 DOM 元素。将您的代码包装在一个函数中并调用 window.onload

```
function init() {
var user = document.getElementById("username");
user.onkeyup = function(){
    localStorage.setItem('user', user.value);
};
}
window.onload = init; 
```

# debugging - Symfony2 - 部署缓存没有 setfacl

> ID：11610469
> 
> 赞同：8
> 
> 时间：2012-07-23T10:11:36.463
> 
> 标签：debugging, caching, deployment, symfony

我正在尝试部署我的第一个 Symfony2 应用程序。

尝试访问时出现空白屏幕。

检查日志：

```
$ sudo tail -f /var/log/apache2/error.log 
```

> [...] 未捕获的异常“RuntimeException”，消息“无法写入缓存文件 [...]

试图将良好的权利放在缓存和日志上

```
$ sudo chmod +a "www-data allow delete,write,[...]" app/cache app/logs 
```

> chmod：无效模式：`+a'

尝试使用 setfacl

```
$ sudo setfacl -R -m u:www-data:rwx -m u:`whoami`:rwx app/cache app/logs 
```

> setfacl: app/cache: 不支持操作
> setfacl: app/logs: 不支持操作

我想我的分区没有安装 acl 或类似的东西。

我不能简单地 chown www-data cache & logs 吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-20T18:16:07.333

要使用*setfacl*，您首先需要安装 acl 实用程序：

```
# Provided Apt can be used for package management
$ sudo apt-get install acl 
```

然后重新挂载包含 symfony2 项目的磁盘分区：

```
# Remount the partition containing your Symfony2 application
# e.g. we could remount the root (/) partition   
$ sudo mount -o remount,acl / # 

# we could also remount the /var partition in our app lives in /var/www  
$ sudo mount -o remount,acl /var  # 
```

[http://symfony.com/doc/2.0/book/installation.html#configuration-and-setup](http://symfony.com/doc/2.0/book/installation.html#configuration-and-setup) [https://help.ubuntu.com/community/FilePermissionsACLs](https://help.ubuntu.com/community/FilePermissionsACLs)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-23T10:16:38.670

由于您不应该在部署服务器上进行开发，因此只需将整个应用程序提供给`www-data`用户：

```
sudo chown -R www-data:www-data /path/to/the/root/of/your/app 
```

# java - 无法使用 java 将命令写入共享位置上的 exe 程序

> ID：11610472
> 
> 赞同：0
> 
> 时间：2012-07-23T10:11:52.797
> 
> 标签：java, exe, runtime.exec

我有一个 exe 程序放在共享位置。开始时不需要任何参数。当它在命令窗口中启动时，它会显示一个帮助菜单，其中包含可以使用它执行的命令列表，并以`>`期望输入命令结束。我需要执行`TRIGGER`从该列表调用的一个特定命令。到目前为止，这就是我所拥有的，但它完全失败了。它既不显示进程的输出，也不`trigger`从流中获取输入命令。

```
public void execute(){

    String cmd = "\\\\sharedLocation\\server\\adm.exe";
    p = Runtime.getRuntime().exec(cmd);

    InputStream in = p.getInputStream();
    OutputStream out = p.getOutputStream();

    BufferedReader br= new BufferedReader(new InputStreamReader(in));
    BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(out));

    bw.write("TRIGGER");            
    bw.flush();

    String output = "";
    while (!output.endsWith(">")) {     
        System.out.println("in loop");
        output = output + br.readLine(); 
    }

    System.out.println("Out"+output);

    out.close();            
    p.waitFor();
} 
```

**编辑**：adm.exe 由该程序启动，但似乎 adm.exe 是一个阻塞进程。它无法打印“in loop”语句。但是，当我打开 Windows 任务管理器并杀死 adm.exe 进程树时，这会显示在控制台上

```
in loopnull
in loopnullnull
in loopnullnullnull
in loopnullnullnullnull
in loopnullnullnullnullnull
in loopnullnullnullnullnullnull
in loopnullnullnullnullnullnullnull
in loopnullnullnullnullnullnullnullnull
in loopnullnullnullnullnullnullnullnullnull
in loopnullnullnullnullnullnullnullnullnullnull
in loopnullnullnullnullnullnullnullnullnullnullnull
in loopnullnullnullnullnullnullnullnullnullnullnullnull
in loopnullnullnullnullnullnullnullnullnullnullnullnullnull
in loopnullnullnullnullnullnullnullnullnullnullnullnullnullnull
in loopnullnullnullnullnullnullnullnullnullnullnullnullnullnullnull
in loopnullnullnullnullnullnullnullnullnullnullnullnullnullnullnullnull
in loopnullnullnullnullnullnullnullnullnullnullnullnullnullnullnullnullnull
in loopnullnullnullnullnullnullnullnullnullnullnullnullnullnullnullnullnullnull
Outnullnullnullnullnullnullnullnullnullnullnullnullnullnullnullnullnullnullnullnull 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:18:20.923

不确定但...

**定时**

我了解您的执行方法在`while`等待某些输出及其完成时被阻塞。在您发送 TRIGGER 之前它不会出现。

我会尝试

1.  之前发送 TRIGGER（您不会丢失任何数据，它会被缓冲）
2.  在方法结束时使用`p.waitFor()`以避免退出直到 p 完成（好吧，无论如何 while 都会这样做）。

**编辑**

您的 adm.exe 需要用 UTF-16 编写的 TRIGGER 吗？因为如果您使用`getBytes()`. `getBytes("UTF-8")`如果您需要另一种编码（如 UTF-8 或 ASCII），请通过示例尝试。

**样本**

我应该这样做：

```
public void execute() {

String cmd = "\\\\sharedLocation\\server\\adm.exe";
Process p = Runtime.getRuntime().exec(cmd);     

// send TRIGGER before everything (I can't consume the response if I don't ask for it first)
OutputStream out = p.getOutputStream();
out.write("TRIGGER".getBytes());
out.flush(); // flush to ensure it's sent, but don't close...

InputStream in = p.getInputStream();

String output = "";
int c = 0;
while (!output.endsWith(">")){
    c = in.read(); // you've eaten this when modified your code
    output+= (char)c; // I should change the way bytes convert to char, but that's another story
}

System.out.println(output);

// optional: if I want to wait for p to finish
p.waitFor();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T11:56:17.403

一些一般性评论：

1.  不使用`Process`，`ProcessBuilder`改为使用。如果您想做比启动外部进程更复杂的事情，请使用[Commons Exec](https://commons.apache.org/exec/tutorial.html)。

2.  如果您只是`TRIGGER`在命令行上键入而不按会发生`Return`什么？如果没有任何反应，也请从 Java 中按 return：Wrap `out`in a `PrintStream`and use`pw.println("TRIGGER")`

3.  由于您没有得到任何输出，因此命令可能注意到它不是从命令提示符启动并且行为不同？如果是这种情况，请运行它`cmd /c \\\\sharedLocation\\server\\adm.exe`

4.  始终使用列表/数组来提供命令参数以避免特殊字符出现问题

# r - write.table() 中的引号参数可以只使用双引号吗？

> ID：11610473
> 
> 赞同：0
> 
> 时间：2012-07-23T10:11:59.923
> 
> 标签：r

在`write.table()`R 中的函数中，是否可以为`quote`参数提供一个字符来代替标准双引号 ( `"`)？

例如尝试提供单引号`'`作为参数：

```
 name sex age height
1   x1   F  18    162
2   x2   M  19    170
3   x3   M  21    178
4   x4   F  22    166
5   x5   F  23    165

write.table('test',data,sep=',',row.names=F,quote="\'") 
```

返回：

> write.table("test", data, sep = ",", row.names = F, quote = "\'") 中的错误：'quote' 规范无效

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T12:24:39.293

我得到它 。

1.  `quote=T`，每列数据将被双引号括起来。
2.  `quote=F`,每列数据不会被双引号括起来。
3.  `quote=vector`，如交友：

    > write.table(file='test',data,sep=',',row.names=F,quote=c(1,2))

第 1 列，第 2 列将用双引号括起来。

# php - 从多维数组中获取数据

> ID：11610474
> 
> 赞同：0
> 
> 时间：2012-07-23T10:12:04.180
> 
> 标签：php, foreach, dimension

我是一个学习PHP的新手。今天我有一个项目并且被卡住了，它破坏了我的品牌:(。希望有人能帮助我解决它。

示例我有一个带有构造的数组：

```
Array ( 
    [a] => Array ( 
        [__base_val] => A 
        [c] => Array ( 
            [__base_val] => C 
            [e] => E 
            [f] => F 
        ) 
        [d] => D 
    ) 
    [b] => Array ( 
        [__base_val] => B 
        [g] => G 
    ) 
    [h] => H 
) 
```

现在我需要获取每个节点的值并打印出一棵价值树。但是如果使用`foreach`函数，如果我以前知道的话，我只能得到一个或两个或任何维度的索引。

我如何编写一个 php 代码来获取值跟随数组的索引维度，而我不需要知道维度的数量？

这是我想要的结果：

```
class1: value from [__base_val]
class2: value from [__base_val]
child class 2 : value 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:23:35.460

我不确定这是否是您正在寻找的东西，但我希望它是。

```
<?php
function print_deep($value, $key) {
    echo "$value: value from $key\n";
}

// Note: $array being the input array
array_walk_recursive($array, 'print_deep'); 
```

# php - 请解释如何在 PHP 中扩展 %f dec。地方可以在 printf() 中返回错误的答案？

> ID：11610475
> 
> 赞同：0
> 
> 时间：2012-07-23T10:12:07.870
> 
> 标签：php, eclipse, xampp

感谢您检查这个人。我正在从“PHP for Absolute Beginners”一书中学习 PHP，但无法弄清楚为什么我从下面的代码中得到了错误的答案：

```
<?php
$amt1=2.55;
$amt2=3.55;
$total= $amt1 + $amt2;
echo'<br/>The total is $'. $total;
printf('<br/>The total is %.21f', $total);
?> 
```

我得到 6.099999999999644729 而不是 6.1000 ...（想象一下 20 个零） 使用 Eclipse/XAMP/MAC OSX Lion 计算机怎么会像那样撒谎——或者（更有可能）我如何通过编写更好的代码来保持诚实？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:20:54.387

[浮点数](http://en.wikipedia.org/wiki/Floating_point)的[精度有限](https://stackoverflow.com/questions/5262889/float-subtraction-returns-incorrect-value)。floats 不能表示所有数字（一个或多个`2.55`，`3.55`或`6.10`不能精确表示）。在需要非常高或精确精度的情况下，浮点数是错误的数据类型。你最好的赌注可能是[圆形](http://php.net/round)的。

（在技术说明上，“浮点数的精度有限”有点错误。可能更准确的是“浮点数只能准确地表示*某些*数字。有些数字不可能用浮点数精确地表示。”）

# web-services - C 应用程序的 CSOAP

> ID：11610480
> 
> 赞同：1
> 
> 时间：2012-07-23T10:12:33.653
> 
> 标签：web-services

我正在开发一个将[CSOAP](http://csoap.sourceforge.net/)用于 Web 服务的 C 应用程序。我有几个问题。首先，谁能解释一下[这个](http://csoap.sourceforge.net/docs/snapshot/libsoap-doc-api/html/)soap客户端示例中的**url**、**urn**、**method**是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T16:20:34.277

我假设你的意思是这个例子：[http ://csoap.sourceforge.net/docs/snapshot/libsoap-doc-api/html/csoap_client_page.html](http://csoap.sourceforge.net/docs/snapshot/libsoap-doc-api/html/csoap_client_page.html)

`url`是将消息发送到的 HTTP 端点。
`urn`是将 XML 元素作为前缀的命名空间。
`method`是将在 SOAP 信封中指定的 SOAP 方法。

# php - 将 OR 添加到内部连接语句

> ID：11610496
> 
> 赞同：0
> 
> 时间：2012-07-23T10:13:13.047
> 
> 标签：php, mysql

```
[TABLE1]

 +----------+-------------------+
 | USERNAME | POST              |
 +----------+-------------------+
 | Bob      | 'Hi There'        |
 | Jack     | 'Hello'           |
 | Bob      | 'Today is Monday' |
 +----------+-------------------+

 [TABLE2]

 +----------+-----------+
 | USERNAME | FOLLOWING |
 +----------+-----------+
 | Mike     | Jack      |
 | Jack     | Bob       |
 | Bob      | Jack      |
 | Jack     | Mike      |
 +----------+-----------+ 
```

我正在使用这个 join 语句：

```
 SELECT t1.* FROM TABLE1 t1 INNER JOIN table2 t2 
 ON t1.username = t2.following AND t2.username = 'jack'; 
```

这可行，但除了返回这些结果之外，我还想添加“OR t1.USERNAME = 'jack';

然后是另一个 OR .. 有没有办法进行连接，但还有一个 OR 语句

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:15:36.173

将该条件放在一个`where`子句中

```
SELECT t1.* FROM TABLE1 t1
INNER JOIN table2 t2  ON t1.username = t2.following
where t2.username = 'jack'
OR t1.USERNAME = 'jack' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:16:38.520

您应该在括号内指定多个 OR 条件：

```
SELECT t1.* 
FROM TABLE1 t1 
     INNER JOIN table2 t2  
         ON t1.username = t2.following 
            AND (t2.username = 'jack' OR t2.username = 'John' OR t2.username = 'Tom'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:17:00.363

是的，你可以这样做

```
 SELECT t1.* FROM TABLE1 t1 INNER JOIN table2 t2 ont1.colName1=t2.Colname2 where colname ='value' or colname='vaue1' or colname='value'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-23T10:26:39.077

简化方法

```
SELECT t1.* FROM TABLE1 t1 
INNER JOIN table2 t2  ON t1.username = t2.following 
where 'jack' in (t1.USERNAME,t2.username) 
```

# php - PHP - 使用 socket_recv 时出错

> ID：11610502
> 
> 赞同：0
> 
> 时间：2012-07-23T10:13:29.583
> 
> 标签：php, sockets

在此函数中运行 socket_recv 时出现套接字错误：

```
function readByteXByteSIBmsg() {
    $msg = "";
    $buf="";
    try {
     while( $ret=socket_recv($this->kpSocket,$buf,8192,0)){
        $msg.=$buf;
        if($ret<8192) break;
     }

    $this->deb_print("KpCore:readByteXByteSIBmsg:READ LOOP TERMINATED");
    } catch (Exception $e) {
        err_print("KPICore:readByteXByteSIBmsg:Exception on EVENT  HANDLER:RECEIVE:\n" . $e);
        $this->$KP_ERROR_ID = $this->ERR_SOCKET_TIMEOUT;
    }
    return $msg;
} 
```

这是错误的文本：

```
PHP Warning:  socket_recv(): unable to read from socket [11]: Resource temporarily unavailable in /home/luca/Documenti/Tesi/M3 Agent Page/lib/KPICore.php on line 236 
```

（第 236 行是调用 socket_recv 的行）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:20:18.940

错误是`EAGAIN`（或者`EWOULDBLOCK`，有时是相同的错误）并且意味着套接字是非阻塞的，并且目前没有可读取的内容。您可以在遇到该错误时忙于等待，直到您读取某些内容，或者使用其他方法在尝试接收之前找出是否有要读取的数据。

# android - 无法从“资产”复制大数据库文件

> ID：11610504
> 
> 赞同：0
> 
> 时间：2012-07-23T10:13:58.337
> 
> 标签：android, sqlite

我在从资产复制数据库时遇到问题。当我的数据库有一个 300KB 的小示例时，它可以正常工作。但是当我的数据库达到 2.5mb 时，发生了错误。创建新的 AVD 后它工作正常。也许是模拟器的SD卡导致错误？因为当我在我的设备中安装我的应用程序时，它正在工作。

这是日志猫所说的：

```
07-23 18:12:51.522: E/AndroidRuntime(866): Uncaught handler: thread main exiting due to uncaught exception
07-23 18:12:51.531: E/AndroidRuntime(866): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.frux.kfcmobile/com.frux.kfcmobile.KFCmobileActivity}: android.database.sqlite.SQLiteException: no such table: first: , while compiling: SELECT * from first
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2496)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2512)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.app.ActivityThread.access$2200(ActivityThread.java:119)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1863)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.os.Handler.dispatchMessage(Handler.java:99)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.os.Looper.loop(Looper.java:123)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.app.ActivityThread.main(ActivityThread.java:4363)
07-23 18:12:51.531: E/AndroidRuntime(866):  at java.lang.reflect.Method.invokeNative(Native Method)
07-23 18:12:51.531: E/AndroidRuntime(866):  at java.lang.reflect.Method.invoke(Method.java:521)
07-23 18:12:51.531: E/AndroidRuntime(866):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
07-23 18:12:51.531: E/AndroidRuntime(866):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
07-23 18:12:51.531: E/AndroidRuntime(866):  at dalvik.system.NativeStart.main(Native Method)
07-23 18:12:51.531: E/AndroidRuntime(866): Caused by: android.database.sqlite.SQLiteException: no such table: first: , while compiling: SELECT * from first
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.database.sqlite.SQLiteProgram.native_compile(Native Method)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.database.sqlite.SQLiteProgram.compile(SQLiteProgram.java:110)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.database.sqlite.SQLiteProgram.<init>(SQLiteProgram.java:59)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.database.sqlite.SQLiteQuery.<init>(SQLiteQuery.java:49)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:49)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1220)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:1193)
07-23 18:12:51.531: E/AndroidRuntime(866):  at com.frux.kfcmobile.KFCmobileActivity.onCreate(KFCmobileActivity.java:42)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
07-23 18:12:51.531: E/AndroidRuntime(866):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)
07-23 18:12:51.531: E/AndroidRuntime(866):  ... 11 more 
```

这是我的 DBHelper 代码：

```
public class DatabaseHelper extends SQLiteOpenHelper{

private static String DB_PATH = "/data/data/com.frux.kfcmobile/databases/";
private static String DB_NAME = "database";
private SQLiteDatabase myDataBase; 
private final Context myContext;
private static final int DATABASE_VERSION = 1;

public DatabaseHelper(Context context) {
    // TODO Auto-generated constructor stub
    super(context, DB_NAME, null, DATABASE_VERSION);
    this.myContext = context;

}
 public void createDataBase() throws IOException{

        boolean dbExist = checkDataBase();

        if(dbExist){
            //do nothing - database already exist
            this.getWritableDatabase();
            this.close();
        }else{

            //By calling this method and empty database will be created into the default system path
               //of your application so we are gonna be able to overwrite that database with our database.
            this.getReadableDatabase();
            this.close();
            try {

                copyDataBase();

            } catch (IOException e) {

            //throw new Error("Error copying database message");

            }
        }

    }

 private boolean checkDataBase(){

        SQLiteDatabase checkDB = null;

        try{
            String myPath = DB_PATH + DB_NAME;
            checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);

        }catch(SQLiteException e){

            //database does't exist yet.

        }

        if(checkDB != null){

            checkDB.close();

        }

        return checkDB != null ? true : false;
    }

 private void copyDataBase() throws IOException{

        //Open your local db as the input stream
        InputStream myInput = myContext.getAssets().open(DB_NAME);

        // Path to the just created empty db
        String outFileName = DB_PATH + DB_NAME;

        //Open the empty db as the output stream
        OutputStream myOutput = new FileOutputStream(outFileName);

        //transfer bytes from the inputfile to the outputfile
        byte[] buffer = new byte[1024];
        int length;
        while ((length = myInput.read(buffer))>0){
            myOutput.write(buffer, 0, length);
        }

        //Close the streams
        myOutput.flush();
        myOutput.close();
        myInput.close();

    }

 public void openDataBase() throws SQLException{

        //Open the database
        String myPath = DB_PATH + DB_NAME;
        myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);

    }

    @Override
    public synchronized void close() {

            if(myDataBase != null)
                myDataBase.close();

            super.close();

    }

    @Override
    public void onCreate(SQLiteDatabase db) {

    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {

    } 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:20:13.320

请看下面的教程

[http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/](http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/)

资产文件夹中的文件有 1.2 Mb 左右的限制。

如果它工作正常“因为当我在我的设备中安装我的应用程序时它正在工作。” 那么你的问题是什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:17:15.640

根据错误，您的数据库没有名为`first`. 好像是抄的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:23:41.527

在你的 Logcat 中考虑这一行

```
Caused by: android.database.sqlite.SQLiteException: no such table: first: , while compiling: SELECT * from first 
```

据此，它说没有称为“第一”的表。但是你说它在模拟器中工作：-/

转到**DDMS**视图并检查您创建的数据库。使用**SQLite 浏览器**浏览您创建和导出的数据库。

# mootools - 如何访问 mootools 中的 iframe 内容元素？

> ID：11610512
> 
> 赞同：1
> 
> 时间：2012-07-23T10:14:17.697
> 
> 标签：mootools

```
myIFrame = new IFrame({
    id: 'iframe_content',
    src: '/iframe_src/'
});
console.dir(myIFrame);
var n = new Element('div', {
    style: {
        'width': '100px',
        'height': "100px",
        'border': '1px solid red'
    }
});

myIFrame.inject(document.body);
console.log("innerhtml", myIFrame.contentDocument.body.innerHTML);
console.dir(myIFrame.contentDocument.body);
n.inject(myIFrame.contentDocument.body); 
```

div 没有注入到 iframe 中，并且无法访问 Ifrane 中的任何元素。我如何在 mootools 1.4.0 或 MooTools 1.2 中做到这一点

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T11:12:10.693

当它涉及混合内容时，这会稍微复杂一些，即`src=`动态构建的内容和附加 DOM 元素。

iframe 将有一个`load`事件，当 src 内容被拾取时触发。

[http://jsfiddle.net/dimitar/AEP8T/](http://jsfiddle.net/dimitar/AEP8T/)

```
var myIFrame = new IFrame({
    id: 'iframe_content',
    src: 'http://fiddle.jshell.net/_display/',
    styles: {
        width: 640,
        height: 480
    },
    events: {
        load: function() {

            var n = new Element('div', {
                text: "hai there",
                styles: {
                    'width': '100px',
                    'height': "100px",
                    'border': '1px solid red'
                }
            });

            n.inject(this.contentDocument.body);

        }
    }
}).inject(document.body); 
```

这仅在 src 和 embed 上下文位于同一域/端口等时才有效。

# html - 在把手中的助手内渲染模板

> ID：11610513
> 
> 赞同：10
> 
> 时间：2012-07-23T10:14:19.680
> 
> 标签：html, handlebars.js, rendering, helper, templating

因为对此似乎没有答案：[通过车把部分传递变量](https://stackoverflow.com/questions/11523331/passing-variables-through-handlebars-partial)，我目前正在研究一些解决方法来完成这项工作。因此，我们的想法是注册一个辅助函数，该函数使用可能的值呈现特定模板。一点代码可以更好地理解。

这就是我调用助手的方式：

```
<div>
    {{myHelper}}
</div> 
```

这个助手是用这个小代码注册的：

```
hbs.registerHelper(name, function (args) {
    args = args || {};
    var template = hbs.compile(fs.readFileSync(__dirname + '/' + file, 'utf8'));
    return template(args);
}); 
```

我把这个片段放入一个循环中，一次注册不同的助手。这意味着给出了“名称”和“文件”。

好的，现在我可以做这样的事情了：

```
// 'values' could be something like this:

var values = { headline: 'HEADLINE' }

<div>
    {{myHelper values}}
</div> 
```

在一个助手中，我现在可以测试是否给出了某个值：

```
// myHelper template

<div>
    {{#if headline}}
    <h1>{{headline}}</h1>
    {{/if}}
    <p>Lorem ipsum</p>
</div> 
```

这个小解决方法对我有用，但有一个问题。如上所述注册一个助手，返回一个纯 HTML 转义字符串。因此，调用帮助程序不会输出呈现的 HTML 片段。它将 HTML 输出为转义字符串。

你们中有人知道如何让我的代码片段将 HTML 作为 HTML 返回吗？

/帕斯卡

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-06-26T00:58:00.827

我只想指出，使用三方括号消除了运行任何其他方法来转换为 HTML 的需要。例如，当访问模板数据时，只需使用三重花括号`{{{templateData}}}`，它允许您获取原始 HTML。

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-07-23T12:03:21.727

来自[Handlebars 文档](http://handlebarsjs.com/)：

> Handlebars 不会转义 Handlebars.SafeString。如果您编写一个生成自己的 HTML 的帮助程序，您通常会希望返回一个新的 Handlebars.SafeString(result)。在这种情况下，您将需要手动转义参数。

尝试

```
hbs.registerHelper(name, function (args) {
    args = args || {};
    var template = hbs.compile(fs.readFileSync(__dirname + '/' + file, 'utf8'));

    // return new hbs.SafeString(template(args));
    // From @Maroshii 
    // the SafeString method must be accessed through hbs.handlebars 
    // and not directly through hbs
    // https://github.com/donpark/hbs#handlebars

    return new hbs.handlebars.SafeString(template(args));
}); 
```

# java - 如何在java中处理从Https请求收到的数据包？

> ID：11610532
> 
> 赞同：1
> 
> 时间：2012-07-23T10:15:20.080
> 
> 标签：java

由于通过发出 https 请求收到的数据包是加密形式的。我想知道如何在java中解码它们。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:21:26.050

HttpsURLConnection 对象为您加密和解密通信。您不必自己处理加密和解密。

# c# - 保存 Outlook 约会后的事件

> ID：11610535
> 
> 赞同：5
> 
> 时间：2012-07-23T10:15:27.973
> 
> 标签：c#, .net, events, outlook-addin

我正在编写一个 Outlook 加载项，并希望在保存约会之后（何时）对约会的数据做一些事情（此处不相关）。
（我是 Outlook-Addins 的新手）
所以我发现有一个*AfterWrite*事件，我可以在其中注册一个方法。*Application*上有一个*ItemLoad*事件。

 *所以我的第一个 Efford 是这样的：

```
private void ThisAddIn_Startup(object sender, System.EventArgs e)
{
    // ...
    this.Application.ItemLoad += 
        new Outlook.ApplicationEvents_11_ItemLoadEventHandler(atItemLoad);
}
public void atItemLoad(Object item)
{
    Outlook.AppointmentItem aitem = item as Outlook.AppointmentItem;
    if (aitem != null)
    {
        aitem.AfterWrite += 
            new Outlook.ItemEvents_10_AfterWriteEventHandler(afterWrite);
    }
}
public void afterWrite()
{
    // Who was written?
    MessageBox.Show("it was written!");
} 
```

问题是，我不知道如何获取触发事件的约会数据。 *Application.ItemLoad*注册了一个获取 Object 的函数，该函数可以转换为*Appointment*。
*AfterWrite*没有。我想要这样的东西：

```
public void afterWrite(Outlook.AppointmentItem aitem)
{
    // do something with the data from the Appointment
    MessageBox.Show(aitem.Subject + " was written!");
} 
```

我担心我在研究完全错误的方向..

*对不起，如果我的英语一团糟-这不是我的母语

编辑：

我什至尝试过这样的构造：

```
private List<AppointmentEventHolder> holderList = new List<AppointmentEventHolder>();

internal class AppointmentEventHolder
{
    private Outlook.AppointmentItem aitem = null;
    public AppointmentEventHolder(Outlook.AppointmentItem item)
    {
        aitem = item;
    }

    public void onWrite()
    {
        MessageBox.Show("write: " + aitem.Subject);
    }
}

public void atItemLoad(Object item)
{
    Outlook.AppointmentItem aitem = item as Outlook.AppointmentItem;
    if (aitem != null)
    {
        AppointmentEventHolder aHolder = new AppointmentEventHolder(aitem);
        holderList.Add(aHolder);
        aitem.AfterWrite += aHolder.onWrite;
    }
} 
```

但事件不会被解雇！我现在很沮丧

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-26T10:49:38.623

好的，我想我明白了。
您必须在具有您的约会的文件夹上注册一个处理程序。

我自己阅读并体验过，保存对您注册事件的对象的引用至关重要，所以我这样做了。
这就是代码

```
private Outlook.MAPIFolder _CalendarFolder = null;
private Outlook.Items _CalendarItems = null;

private void ThisAddIn_Startup(object sender, System.EventArgs e)
{
    Outlook.MAPIFolder calendarFolder =
        this.Application.ActiveExplorer().Session.GetDefaultFolder(Outlook.OlDefaultFolders.olFolderCalendar);

    // get the Termine24-Folder (if not found, create it)
    try
    {
        _CalendarFolder = calendarFolder.Folders[Constants.FOLDERNAME];
    }
    catch
    {
        _CalendarFolder = calendarFolder.Folders.Add(Constants.FOLDERNAME);
    }
    _CalendarItems = _CalendarFolder.Items;
    attachEvents();

}
public void attachEvents()
{
    _CalendarItems.ItemAdd += Item_Add;
    _CalendarItems.ItemChange += Item_Change;
    _CalendarItems.ItemRemove += Item_Remove;
}
public void Item_Add(Object item)
{
    Outlook.AppointmentItem aitem = item as Outlook.AppointmentItem;
    if (aitem != null)
    {
        MessageBox.Show("add: " + aitem.Subject);
    }
    else
    {
        MessageBox.Show("add, but no appointment");
    }
}
public void Item_Change(Object item)
{
    Outlook.AppointmentItem aitem = item as Outlook.AppointmentItem;
    if (aitem != null)
    {
        MessageBox.Show("changed: " + aitem.Subject);
    }
    else
    {
        MessageBox.Show("change, but no appointment");
    }
}
public void Item_Remove()
{
    MessageBox.Show("Item_remove");
} 
```

好消息是，如果约会在概览中被拖放，我现在也会收到一个事件。

但是 Item_Remove 仍然没有让我得到被删除的对象。*

# android - Android Clickable Custom View before app icon on action bar

> ID：11610537
> 
> 赞同：0
> 
> 时间：2012-07-23T10:15:35.603
> 
> 标签：android, android-actionbar

我想在操作栏上的应用程序图标之前有一个自定义视图。正如您在 facebook 中看到的那样，该自定义视图实际上是菜单按钮。我也想要UP按钮，即主页按钮。那么我们是否可以在应用程序图标的左侧放置一个图标，或者以其他方式将其他图像显示为应用程序图标，但该图像不应该在应用程序抽屉中看到？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T07:40:41.177

最后，我得到了一些解决方法。我将自定义视图应用于我的操作栏并删除了应用程序图标。并在我的自定义视图上有一个带有应用程序图标的图像视图。对于那些感兴趣的人，这就是我在操作栏 xml 上的自定义视图的样子：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="fill_parent">

<ImageView
    android:id="@+id/iv_menu"
    android:onClick="onClick"
    android:paddingLeft="14dip"
    android:paddingRight="14dip"
    android:layout_gravity="center_vertical"
    android:layout_width="wrap_content"
    android:layout_height="fill_parent"
    android:background="@drawable/menu_button"
    android:src="@drawable/ic_menu_off" />

<ImageView
    android:id="@+id/iv_separator"
    android:layout_gravity="center_vertical"
    android:layout_toRightOf="@id/iv_menu"
    android:layout_width="wrap_content"
    android:layout_height="fill_parent"
    android:background="@drawable/separator1"/>

<ImageView
    android:id="@+id/iv_logo"
    android:layout_marginLeft="10dip"
    android:layout_toRightOf="@id/iv_separator"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="@drawable/ic_app_icon" />       

</RelativeLayout> 
```

# php - 正则表达式在 PCRE 中正确

> ID：11610539
> 
> 赞同：0
> 
> 时间：2012-07-23T10:15:49.053
> 
> 标签：php, regex, pcre

> **可能重复：**
> [将 ereg 表达式转换为 preg](https://stackoverflow.com/questions/6270004/converting-ereg-expressions-to-preg)

我在 php < v5.3.0 中使用过这个正则表达式

```
ereg('^http://www.w3.org/[0-9]{4}/XMLSchema$',$value) 
```

当我更新到 php v.5.3.0 时，我正在尝试使用 preg_match()，但是我很难创建等效的 PCRE 正则表达式：

```
preg_match('/^http\\:\\/\\/www\\.w3\\.org\\/[0-9]{4}\\/XMLSchema$/',$value) 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:21:16.320

您可以使用与中相同的表达式`ereg`：

```
preg_match('@^http://www[.]w3[.]org/[0-9]{4}/XMLSchema$@',$value) 
```

只需将`@`而不是`/`作为分隔符。并且不要忘记转义点（`.`在正则表达式中表示“任何符号”）。您可以使用反斜杠来执行此操作，但我更喜欢符号类`[.]`。

# javascript - 使用 indexOf 或正则表达式匹配邮政编码的开头？

> ID：11610540
> 
> 赞同：0
> 
> 时间：2012-07-23T10:15:50.677
> 
> 标签：javascript, regex

我需要编写一些 JavaScript 功能来分析地址块并在此递送地址中的邮政编码在给定列表之一内时显示错误消息（例如，将受到奥运会的影响）。我使用 indexOf 将地址块的内容与受影响的邮政编码列表进行匹配，这很好用。

但是，出现问题是因为以 DW3 开头的不受影响的邮政编码将显示受影响的消息，因为 indexOf 正在获取 W3。正如您在下面的代码中看到的那样，我试图匹配邮政编码之前的空格，即“DW3”，但这根本不起作用，我不知道为什么。

也许正则表达式是匹配这种模式的更好方法，不幸的是我在正则表达式方面很糟糕，所以有人可以帮忙吗？

一个示例地址是：

```
<address>Mr Jim Smith<br>
    Flat, 4 Spring Lane<br>
    EASTLEIGH<br>
    DW3 6LS<br>
    United Kingdom</address> 
```

这是JavaScript：

```
var AFFECTED_POSTCODES = ["DT1","DT10","DT11","DT2","DT3","DT4","DT5","DT6","DT8","DT9","E1","E10","E11","E13","E14","E15","E16","E18","E1W","E3","E6","E9","EC1A","EC2N","EC2R","EC2V","EC2Y","EC3M","EC3N","EC3R","EC3V","EC4","EC4M","EC4N","EC4R","EC4V","EC4Y","GU22","GU23","GU4","GU5","HA9","IG1","IG11","IG4","IG7","IG8","KT1","KT10","KT11","KT12","KT13","KT14","KT18","KT2","KT20","KT22","KT24","KT6","KT7","KT8","NW1","NW10","NW8","RH4","RH5","RM13","RM15","RM9","SE1","SE10","SE11","SE18","SE3","SE7","SL0","SL3","SW10","SW11","SW13","SW15","SW18","SW19","SW1A","SW1E","SW1H","SW1P","SW1V","SW1W","SW1X","SW1Y","SW3","SW5","SW6","SW7","SW8","TW1","TW10","TW11","TW19","TW5","TW6","TW7","TW8","TW9","UB3","UB7","W10","W11","W12","W14","W1B","W1C","W1G","W1H","W1J","W1K","W1T","W1U","W1W","W2","W3","W4","W5","W6","W7","W9","WC1A","WC1B","WC1E","WC1H","WC1N","WC1R","WC1V","WC2A","WC2B","WC2E","WC2N","WC2R"];
function checkPostcode(e){
    var isAffected = false,
        field = $('#delivery_details_wrapper address'),
        fieldText = $(field).text();
    for (var i=0; i<AFFECTED_POSTCODES.length; i++){
        var patt = ' ' + AFFECTED_POSTCODES[i];
        if (fieldText.indexOf(patt) !== -1) {
            isAffected = true;
        }
    }
    if (isAffected) {
        if ($('.warning').length === 0) {
            field.after('<p class="warning" style="margin-top: 10px; clear: both;">* Delivery to this postcode may be affected by the Olympics. For more info click <a href="'+ Arcadia.Loader.rootPath +'lib/html/olympic_message.html" class="lightbox" rel="lightbox({innerWidth: 600, innerHeight: 300})" title="Click here for postcodes that may be affected by the olympics">here</a></p>');
        }
    } else {
        $('.warning').remove();
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T10:22:29.233

正则表达式确实会更好，更简洁，更高效（表达式将编译为最佳匹配自动机）。这也很简单。

```
var alternation = AFFECTED_POSTCODES.join('|');
var r = new RegExp('\\b(' + alternation + ')\\b');
var isAffected = r.test(fieldText); 
```

这里的`\b`手段匹配一个单词边界，这将处理你的子字符串问题。您甚至可以在正则表达式文字中写出邮政编码`/\b(DT1|DT10...)\b/`- 如果您在其他任何地方都不需要该数组。

# linux - 是否有作为 TUN 接口运行的用户空间 TCP 堆栈？

> ID：11610541
> 
> 赞同：3
> 
> 时间：2012-07-23T10:15:52.520
> 
> 标签：linux, tcp, tun

是否有用户空间 TCP 堆栈作为 TUN 接口运行，并且在应用程序端具有类似于 POSIX 的 API？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T04:06:33.473

从技术上讲，用户模式 ​​Linux 就是这样一个堆栈。但它可能比你想要的要大一点，因为它包含一个完整的内核。 [https://en.wikipedia.org/wiki/User-mode_Linux](https://en.wikipedia.org/wiki/User-mode_Linux)

您还可以使用 LWIP：[http](http://savannah.nongnu.org/projects/lwip/) ://savannah.nongnu.org/projects/lwip/ 参见此线程： http: [//lists.gnu.org/archive/html/lwip-users/2005-06/msg00024.html](http://lists.gnu.org/archive/html/lwip-users/2005-06/msg00024.html)

# jquery - Jquery 切换无法正常工作

> ID：11610544
> 
> 赞同：0
> 
> 时间：2012-07-23T10:16:03.780
> 
> 标签：jquery

我有这个 Jquery 代码：

```
 $('.item_bar_action_holder_drop a').click(function() {
            var item_bar = $('.item_bar_action_holder_actions');
            if(item_bar.is(':visible')) {
                $(this).removeClass('active');
            } else {
                $(this).addClass('active');
            }
            item_bar.slideToggle('fast', function() {
            });
        }); 
```

这里的问题是当我多次单击按钮时，“活动”类将设置为关闭面板并且它是错误的。我不明白为什么会这样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:21:01.450

检查当时`item_bar`是否正在制作动画，如果是，请不要再排队：

```
$('.item_bar_action_holder_drop a').click(function() {
    var item_bar = $('.item_bar_action_holder_actions');
    if (item_bar.is(':animated')) {
        return;
    }
    ...
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:28:34.410

[基本的 slideToggle() 示例。](http://www.w3schools.com/jquery/tryit.asp?filename=tryjquery_eff_slidetoggle)

我猜你的活动课程的 css 是 = display:block; 你的 item_bar 的默认 css 是 display:none; 如果我是正确的；你也可以使用这种方式：

```
$(document).ready(function() {
   $('.item_bar_action_holder_drop a').click(function() {
      var item_bar = $('.item_bar_action_holder_actions');

      item_bar.removeClass('active');//removes class from all
      $(this).addClass('active');//adds class clicked one

      if( item_bar.is(':visible')) {//edited here !
        item_bar.slideToggle('fast',function() {
           $(this).removeClass('active');//removes class when animate complete
        });
      }
  });
  //if you want to show first panel when your document is ready
  $('.item_bar_action_holder_actions:first').show().addClass('active');
}); 
```

注意：您没有显示您的 html，所以我试图猜测您的 html。

# android - android电话号码无效地址

> ID：11610546
> 
> 赞同：0
> 
> 时间：2012-07-23T10:16:04.353
> 
> 标签：android, phone-number

在安卓手机中，如果我们将电话号码输入为英文字母（例如 agchge），它会显示无效地址。如果我输入英文字母+一些数字（例如 232as55），它会接受。

请让我知道检查输入的电话号码是否被android平台接受的规则是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:37:05.743

可能是您的正则表达式是另一种不满足您要求的格式。

所以试试这个

```
 String PHN_PATTERN = "^[+]?[-)(0-9]{3,20}$";
 String strphnvalue = resPhone.getText().toString();
 if(!(strphnvalue.equals("")))
 {
   if(!(strphnvalue.matches(PHN_PATTERN))) {               
      Toast.makeText(register.this,resource.getString(R.string.validphn), Toast.LENGTH_SHORT).show();
      }
 } 
```

`Note:=>`它给出了准确的结果。否则根据您的要求更改此正则表达式

# visual-studio - Visual Studio 2008 SP1 + MSTest：调试单元测试挂起

> ID：11610548
> 
> 赞同：1
> 
> 时间：2012-07-23T10:16:12.170
> 
> 标签：visual-studio, mstest

已经有关于这个问题的帖子，但这些情况有些不同，没有一个解决方案有效。

当我在没有调试的情况下在 Visual Studio 2008 SP1 上运行单元测试时，一切都很好。但是当我调试它们时，Visual Studio 大部分时间都会挂起。GUI 上下文永远不会切换到调试模式，并且测试挂起为挂起。

与大多数人相比，这里的不同之处在于：

*   VSTesthost 挂在 0% CPU，而不是 100%。
*   调试甚至没有开始。我发现的报告提到它在执行最后一条语句时挂起，但我无法做到那么远。

我已经应用了[Visual Studio Hotfix KB970449](https://connect.microsoft.com/VisualStudio/Downloads/DownloadDetails.aspx?DownloadID=19617)，但这并没有解决问题。

[这篇文章](https://connect.microsoft.com/VisualStudio/feedback/details/403799/unit-tests-never-complete-vstesthost-hangs-at-100-cpu)来自 2012 年 2 月，描述了我遇到的相同问题（甚至使用 Visual Studio 2010），但没有解决方案。

我的 PC 的主机名中已经包含所有大写字母。是ICT003。

# c - Visual C++ 2010 Express 代码中的灰色（禁用）文本。这是什么意思？我该如何解决？

> ID：11610549
> 
> 赞同：2
> 
> 时间：2012-07-23T10:16:18.800
> 
> 标签：c, visual-studio-2010, visual-studio, visual-c++

C 代码的某些部分在 IDE 中变灰。我无法弄清楚为什么。这也发生在代码的许多其他部分。我遇到的一些错误表明编译器无法识别此代码。任何人都可以通过建议变灰的原因以及如何解决它来帮助我吗？我附上了 IDE 文本编辑器窗口的快照。希望能帮助到你！

![IDE 代码编辑器快照：1](../Images/a7f7d85dc8b4a6abca3940b5eb7ad162.png)

![在此处输入图像描述](../Images/882b90b1a22dfb62dcb3dcd55c2cb106.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T10:18:44.353

代码编辑器足够复杂，可以理解`_32_`预处理器符号在您当前的构建配置中未定义（并且未由先前包含的代码定义）。

为了反映这一点，它将依赖代码变灰以指出它不会被编译（甚至不会被编译器看到）。

像这样依赖于平台的代码几乎总是应该保持原样。如果要编译灰色部分，则必须将目标平台切换为 32 位，或者可能`#define _32_`在将代码包含在屏幕截图中之前。

# flash - 如何停止和删除动态创建的正在运行的movieClip

> ID：11610558
> 
> 赞同：0
> 
> 时间：2012-07-23T10:16:49.807
> 
> 标签：flash, actionscript-2

我是 flash/AS2 的新手，并试图在 flash AS2.0 中制作一个 youtube 视频库。我创建了一个名为“ **video_mc** ”的movieClip 并在其中创建子剪辑，以**在释放按钮**（“ **video_btn01** ”和“ **video_btn02** ”）时加载youtube电影。这是我的代码。

```
var vidId:String = "";

function createMovieInstance(mid){
    var mclip:MovieClip = video_mc.createEmptyMovieClip("v", _root.getNextHighestDepth());
    mclip.loadMovie("http://www.youtube.com/v/"+mid+"&autoplay=0");
}

video_btn01.onRelease = function(){
    vidId = "iRaR7O1wNGg";
    createMovieInstance(vidId);
}
video_btn02.onRelease = function(){
    vidId = "h22OsQONU3M";
    createMovieInstance(vidId);
} 
```

电影正在正确加载，但第一个加载的电影将在后台播放，而下一个正在加载，因为我正在创建另一个 clild 电影剪辑并加载第二个电影，而第一个电影正在另一个 movieClip 实例中播放。所以需要找到正在运行的movieClip并卸载它。如果有人可以帮助我如何克服这个问题，那就太好了。干杯！..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T11:58:14.387

试试这个，让我知道。

```
 function createMovieInstance(mid){
    if(video_mc.v != undefined){
        video_mc.v.unloadMovie();
        //If the Depth is above or below the limit this will help you
        video_mc.v.swapDepths(0);
        video_mc.v.removeMovieClip();
    }
    var mclip:MovieClip = video_mc.createEmptyMovieClip("v", _root.getNextHighestDepth());
    mclip.loadMovie("http://www.youtube.com/v/"+mid+"&autoplay=0");
} 
```

# objective-c - 如何更改 sharekit 的 actionSheetStyle？

> ID：11610559
> 
> 赞同：0
> 
> 时间：2012-07-23T10:16:54.283
> 
> 标签：objective-c, xcode, cocoa-touch, uiactionsheet, sharekit

我在我的项目中使用 Sharekit 2.0，但我一生都无法弄清楚如何将 sharekit 的默认操作表的 actionSheetStyle 更改为 UIActionSheetStyleBlackOpaque 或 UIActionSheetStyleBlackTranslucent。谁能指出我正确的方向？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T14:00:54.167

看来，如果您通过 showFromToolbar: 呈现它，它不会采用 UIActionSheetStyleAutomatic 以外的 actionSheetStyle。无论您指定哪一个。这可能是 UIActionSheet 中的一个缺陷。

尝试通过其他方法呈现它，例如 showInView：

# r - 合并 data.tables 使用超过 10 GB RAM

> ID：11610562
> 
> 赞同：5
> 
> 时间：2012-07-23T10:17:03.277
> 
> 标签：r, data.table

我有两个 data.tables:`DT`和`meta`. 当我使用 合并它们时`DT[meta]`，内存使用量增加了 10 GB 以上（并且合并非常慢）。怎么了？好像合并成功了，但是只能看单行，不然内存不够。`DT`它本身是通过合并两个 data.tables 创建的，没有任何问题。

编辑：

好像是钥匙有问题。我可以毫无问题地执行以下操作：

```
DT[,id:=1:nrow(DT)]
meta[,id:=1:nrow(DT)]
setkey(DT,id)
setkey(meta,id)

DT2<-DT[meta]   # Comment from Matthew Dowle:
                # X[Y] (or merge) on a key of 1:nrow(DT) is just a cbind, isn't it? 

unique(DT2[,"Moor_ID",with=F]==DT2[,"Moor_ID.1",with=F])
     Moor_ID
[1,]    TRUE 
```

第一个数据表：

```
str(DT)
Classes ‘data.table’ and 'data.frame':  10212 obs. of  55 variables:
 $ DWD_ID                 : chr  "Bremerhav" "Bremerhav" "Bremerhav" "Bremerhav" ...
 $ numdays                : int  1703 1704 1705 1706 1707 1708 1709 1710 1711 1712 ...
 $ days                   : Date, format: "2009-09-01" "2009-09-02" "2009-09-03" "2009-09-04" ...
 $ TBoden_dayAnzahl       : int  0 0 0 0 0 0 0 0 0 0 ...
 $ TBoden_dayMin          : num  NA NA NA NA NA NA NA NA NA NA ...
 $ TBoden_dayMax          : num  NA NA NA NA NA NA NA NA NA NA ...
 $ TBoden_dayMeanAR       : num  NA NA NA NA NA NA NA NA NA NA ...
 $ TBoden_dayStabw        : num  NA NA NA NA NA NA NA NA NA NA ...
 $ TBoden_dayMedian       : num  NA NA NA NA NA NA NA NA NA NA ...
 $ TBoden_dayMeanMM       : num  NA NA NA NA NA NA NA NA NA NA ...
 $ T2m_dayAnzahl          : int  0 0 0 0 0 0 0 0 0 0 ...
 $ T2m_dayMin             : num  15.6 13.8 13.7 12.8 13.5 13.1 13.3 13.8 15.9 13.7 ...
 $ T2m_dayMax             : num  25.6 19.9 18.1 18.1 16.9 18.6 21 25.7 19.3 17.6 ...
 $ T2m_dayMeanAR          : num  19 16.9 15.6 15.2 14.8 ...
 $ T2m_dayStabw           : num  3.409 2.048 1.334 1.726 0.965 ...
 $ T2m_dayMedian          : num  17.2 16.8 15.2 14.8 14.5 ...
 $ T2m_dayMeanMM          : num  20.6 16.9 15.9 15.4 15.2 ...
 $ T10cm_dayAnzahl        : int  0 0 0 0 0 0 0 0 0 0 ...
 $ T10cm_dayMin           : num  14.3 12.6 12.9 12.2 12.7 12 12.8 11.7 15.1 12.2 ...
 $ T10cm_dayMax           : num  27.7 20.9 18.7 18.7 17.4 19.8 22.4 25.9 21.8 18.6 ...
 $ T10cm_dayMeanAR        : num  18.7 16.5 14.9 15.1 14.5 ...
 $ T10cm_dayStabw         : num  4.36 2.84 1.73 2.36 1.54 ...
 $ T10cm_dayMedian        : num  16.1 15.6 14.3 14.2 14 ...
 $ T10cm_dayMeanMM        : num  21 16.8 15.8 15.4 15.1 ...
 $ RF_dayAnzahl           : int  0 0 0 0 0 0 0 0 0 0 ...
 $ RF_dayMin              : num  45 58 73 56 68 62 63 44 65 58 ...
 $ RF_dayMax              : num  94 94 94 93 94 92 84 84 89 84 ...
 $ RF_dayMean             : num  68.6 76.3 78.9 74.4 86.5 ...
 $ RF_dayStabw            : num  17.09 12.53 5.88 9.83 5.62 ...
 $ RF_dayMedian           : num  64.5 74 77.5 76 87.5 77.5 75 63 77 76 ...
 $ Luftdruck_dayMean      : num  100.8 101 99.7 99.9 101.1 ...
 $ es_day                 : num  2.53 1.95 1.82 1.78 1.74 ...
 $ ea_day                 : num  1.57 1.42 1.49 1.27 1.38 ...
 $ defi_day               : num  0.956 0.535 0.327 0.509 0.355 ...
 $ Nebel_dayAnteil        : num  0 0 0 0 0 0 0 0 0 0 ...
 $ Sonnenscheind_dayAnzahl: int  18 18 18 18 18 18 18 18 18 18 ...
 $ Sonnenscheind_daySum   : num  6.63 4.93 1.05 5.82 3.27 ...
 $ julian_day             : int  244 245 246 247 248 249 250 251 252 253 ...
 $ zeta_day               : num  2.81 2.82 2.84 2.86 2.88 ...
 $ maxSonnenscheind       : num  13.9 13.8 13.7 13.6 13.5 ...
 $ R0_day                 : num  2920 2890 2860 2830 2799 ...
 $ Globalstrahlung_dayMean: num  NA NA NA NA NA NA NA NA NA NA ...
 $ RG_day                 : num  13.24 11.19 6.64 12.02 9.03 ...
 $ lambdaET_day           : num  2.45 2.46 2.46 2.46 2.47 ...
 $ sAnstieg_day           : num  0.15 0.122 0.116 0.113 0.111 ...
 $ gamma_day              : num  0.067 0.0669 0.0659 0.0661 0.0668 ...
 $ ETp_TW_day             : num  2.71 2.15 1.28 2.24 1.68 ...
 $ Moor_ID                : chr  "Ahlenmoor" "Ahlenmoor" "Ahlenmoor" "Ahlenmoor" ...
 $ Distanz_in_km          : num  24 24 24 24 24 ...
 $ North                  : num  53.5 53.5 53.5 53.5 53.5 ...
 $ East                   : num  8.58 8.58 8.58 8.58 8.58 ...
 $ Hoehe_in_m             : num  7 7 7 7 7 7 7 7 7 7 ...
 $ Kueste_km              : num  20 20 20 20 20 ...
 $ peatland               : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
 $ diffmaxt2m             : num  -1.6 0 -0.2 0.1 -0.4 ...
 - attr(*, "sorted")= chr "Moor_ID"
 - attr(*, ".internal.selfref")=<externalptr> 
```

第二个数据表：

```
str(meta)
Classes ‘data.table’ and 'data.frame':  10212 obs. of  6 variables:
 $ Moor_ID        : chr  "Ahlenmoor" "Ahlenmoor" "Ahlenmoor" "Ahlenmoor" ...
 $ Hoehe_Moor     : num  2.35 2.35 2.35 2.35 2.35 2.35 2.35 2.35 2.35 2.35 ...
 $ Kueste_km      : num  15.7 15.7 15.7 15.7 15.7 ...
 $ WSPsommer_muGOK: num  0.699 0.699 0.699 0.699 0.699 ...
 $ WSPwinter_muGOK: num  0.446 0.446 0.446 0.446 0.446 ...
 $ Moorgroesse_km2: num  59 59 59 59 59 59 59 59 59 59 ...
 - attr(*, ".internal.selfref")=<externalptr> 
 - attr(*, "sorted")= chr "Moor_ID" 
```

会话信息：

```
R version 2.15.1 (2012-06-22)
Platform: x86_64-pc-mingw32/x64 (64-bit)

locale:
[1] LC_COLLATE=German_Germany.1252  LC_CTYPE=German_Germany.1252    LC_MONETARY=German_Germany.1252 LC_NUMERIC=C                   
[5] LC_TIME=German_Germany.1252    

attached base packages:
[1] grDevices datasets  splines   graphics  stats     tcltk     utils     methods   base     

other attached packages:
[1] reshape_0.8.4    plyr_1.7.1       data.table_1.8.0 svSocket_0.9-53  TinnR_1.0-5      R2HTML_2.2       Hmisc_3.9-3     
[8] survival_2.36-14

loaded via a namespace (and not attached):
[1] cluster_1.14.2 grid_2.15.1    lattice_0.20-6 svMisc_0.9-65  tools_2.15.1 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-23T11:37:47.870

我的错。问题是键不是唯一的：

```
a<-data.table(x=c(1,1),y=c(1,2))
b<-data.table(x=c(1,1),y=c(3,4))
setkey(a,x)
setkey(b,x)
a[b]
     x y y.1
[1,] 1 1   3
[2,] 1 2   3
[3,] 1 1   4
[4,] 1 2   4 
```

如果 data.table 可以为此发出警告，那就太好了。

* * *

**马修更新**

此警告现已在 v1.8.7 中实施：

> 新参数`allow.cartesian`（默认`FALSE`）添加到`X[Y]`和`merge(X,Y)`，#2464。防止由于指定错误的连接而导致大量分配；例如，一遍又一遍地重复`Y`加入同一组的键值。当返回多行时，*笛卡尔*`X`这个词被松散地使用。错误消息很冗长，包括建议。*`max(nrow(X),nrow(Y))`*

 ** * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-23T10:26:27.257

也许其他功能可以更好地工作，例如`merge()`or `cbind()`。*

# c# - 带引号的正则表达式语法

> ID：11610568
> 
> 赞同：0
> 
> 时间：2012-07-23T10:17:17.587
> 
> 标签：c#, regex, syntax

我正在尝试在我的代码中运行一个正则表达式字符串，它将获取介于`<li class="f"`和`</li>`

```
string regex = @"\<li\sclass="f"(\s*?.*?)*?\</li>"; 
```

但是由于引号，语法是错误的。我尝试用 just 替换它们，`'` 但没有找到任何东西。

正则表达式字符串正在工作，只是这些引号不是。我试图照顾一些像 space-->/s 这样的替代品，但没有找到任何东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:20:41.287

要转义字符串中的引号，请将它们加倍：

```
string regex = @"<li\sclass=""f""(.*?)</li>"; 
```

我还稍微“修复”了您的正则表达式，但使用正则表达式解析 HTML 仍然不是一个好主意。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:22:38.803

使用盾牌符号

`@""""; //"`

`"\""; //"`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:53:05.490

您没有转义引号，但无论如何都不应该使用正则表达式来解析 HTML。[使用HtmlAgilityPack](http://htmlagilitypack.codeplex.com/)之类的东西，然后按照这些行编写代码；

```
static void Main(string[] args)
{
    HtmlDocument doc = new HtmlDocument();
    doc.Load("file.htm");

    var results = doc.DocumentNode
        .SelectNodes("//li[contains(@class, 'f')]")
        .Select(x => x.InnerHtml);

    foreach (string result in results)
    {
        Console.WriteLine(result);
    }
} 
```

# c# - c#metro app：如何拖放拖到另一个图像上的图像

> ID：11610569
> 
> 赞同：0
> 
> 时间：2012-07-23T10:17:19.667
> 
> 标签：c#, image, drag-and-drop, windows-8

我有一个简单的 Metro 风格应用程序，我想将 16 张图像拖放到另一个图像上。另一个图像应将其源设置为拖动图像的源。

这是拖动方法：

```
 private void ManipulationDelta_Pic(object sender, ManipulationDeltaRoutedEventArgs e)
    {
        Image img = e.OriginalSource as Image;
        if (img != null)
        {
            var ct = img.RenderTransform as CompositeTransform;
            if (ct != null)
            {
                ct.TranslateX += e.Delta.Translation.X;
                ct.TranslateY += e.Delta.Translation.Y;
            }
        }
    } 
```

这是带有图像的 xaml，它应该是 drop darget（想象其中 16 个）：

```
 </Grid>

    <Grid Margin="377,0,371,23" Background="Cornsilk" Grid.Row="1" Height="600" Width="600" AllowDrop="True">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="150" />
            <ColumnDefinition Width="150"/>
            <ColumnDefinition Width="150"/>
            <ColumnDefinition Width="150"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="150"/>
            <RowDefinition Height="150"/>
            <RowDefinition Height="150"/>
            <RowDefinition Height="150"/>
        </Grid.RowDefinitions>

        <Border x:Name="z1" BorderBrush="Black" BorderThickness="3" Grid.Row="0" Grid.Column="0" Background="Beige"  AllowDrop="true">
            <Image  x:Name="puzz1" HorizontalAlignment="Left" Height="150" VerticalAlignment="Top" Width="150" Source="Assets/win8001.jpg" AllowDrop="True"/>
        </Border>

    </Grid> 
```

并且有应该丢弃的图像（也有 16 个）。

```
<Image x:Name="sidePics1"  Width="150" Height="150" ManipulationMode="All" Margin="1311,507,-95,-29" Grid.Row="1" ManipulationDelta="ManipulationDelta_Pic" Drop="Drop_Pic">
            <Image.RenderTransform>
                <CompositeTransform />
            </Image.RenderTransform>
         </Image> 
```

我不知道如何解决这个问题，我是 Metro App 编程的新手。我知道它应该与 DragOver、DragEnter、DragLeave 和 Drop Event 相关，但我不知道该怎么做。

我需要帮助，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-26T23:05:23.720

几年前，我写了一篇关于在 Silverlight 中进行拖放的文章。这应该会有所帮助。

[http://www.jeffblankenburg.com/2009/07/05/day-5-silverlight-drag-and-drop/](http://www.jeffblankenburg.com/2009/07/05/day-5-silverlight-drag-and-drop/)

# solr - 要提取远程文件，先使用 tika.open(url) 或 wget 下载到本地？

> ID：11610572
> 
> 赞同：0
> 
> 时间：2012-07-23T10:17:29.673
> 
> 标签：solr, wget, apache-tika

Tika 可以使用 url 参数来提取远程文件。我们也可以下载远程文件，然后让tika像本地文件一样解压。从性能和正确性的角度来看，哪种方式是更好的选择？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-24T15:06:33.340

从 URL 中提取它会更快，从而避免在本地系统上进行过多的读/写。这就是我用 tika 解析文件时所做的。快速而直接。

# html - 如何使用 filewritersync 追加文件？

> ID：11610576
> 
> 赞同：1
> 
> 时间：2012-07-23T10:17:49.080
> 
> 标签：html, filewriter, fileapi, html5-filesystem

我需要使用 HTML5 附加文件`FileWriterSync`，来自服务器的多个数据块。我试图追加，但它只是写一个文件块。让我们检查一下我的代码。

```
var creator;
try {
    fileEntry = fs.root.getFile(filename, {
        create: creator
    });

    var byteArray = new Uint8Array(data.length);
    for (var i = 0; i < data.length; i++) {
        byteArray[i] = data.charCodeAt(i) & 0xff;
    }

    var BlobBuilderObj = new WebKitBlobBuilder();
    BlobBuilderObj.append(byteArray.buffer);

    if (!creator) fileEntry.createWriter().seek();
    fileEntry.createWriter().write(BlobBuilderObj.getBlob())

} catch (e) {
    errorHandler(e);
} 
```

`fs`之前已经初始化，`creator`附加文件的更改，我需要附加文件。

我的问题是如何调用寻求从 EOF 开始写作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T21:03:56.647

`seek()`为偏移量取一个[整数值](http://dev.w3.org/2009/dap/file-system/file-writer.html#widl-FileWriterSync-seek-void-long-long-offset)。您需要将其设置为文件的长度才能进行追加：

```
var fw = fileEntry.createWriter();
fw.seek(fw.length); 
```

它应该类似于异步案例： [http ://www.html5rocks.com/en/tutorials/file/filesystem/#toc-file-appending](http://www.html5rocks.com/en/tutorials/file/filesystem/#toc-file-appending)

# php - 使用 $this->db->query 的 Codeigniter 分页不起作用

> ID：11610578
> 
> 赞同：0
> 
> 时间：2012-07-23T10:17:51.233
> 
> 标签：php, sql, codeigniter-2

```
Url - localhost/ci/test/test_que/1

$sql="
select qo.id,
       qo.text 
FROM quiz_question qq,
quiz_question_option qo 
WHERE qq.id='".$qid."' 
AND qq.id=qo.quiz_question_id";

$q=$this->db->query($sql,$num,$qid); 
```

如何实施？如何设置分页？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:09:19.850

```
private function total_rows($sql){
$Query = $this->db->query($sql);
return $Query->num_rows();

}

$this->load->library('pagination');

$config['base_url'] = 'localhost/ci/test/test_que/1'; //your base url
$config['uri_segment'] = 3; //set URI Segment
$config['total_rows'] = $this->total_rows($sql); //your sql query for counting rows
$config['per_page'] = 10; //files or questions per page

$this->pagination->initialize($config); //put this in view 
```

而已

# c# - 在运行时新建 TabItem

> ID：11610579
> 
> 赞同：2
> 
> 时间：2012-07-23T10:17:56.807
> 
> 标签：c#, wpf, tabcontrol, tabitem

您好我正在使用 TabControl 制作会议系统，私人聊天将在一个新的 TabItem 中。我正在使用此代码来展示一个新成员私下聊天：

```
TabItem ti = new TabItem();
ti.Header="Name";
MyTabControl.Items.Add(ti); 
```

但是这段代码的问题是我在 TabItem 中添加了一个列表框，但是 TabItem 没有在其中添加项目的功能。如何将项目添加到 TabItem？

第二次尝试：我使用此代码展示了一个新成员私下聊天

```
ItemsControl it = new ItemsControl();
ListBox lst = new ListBox();
lst.Width = 571;
lst.Height = 301;

it.Items.Add(lst);
tabControlChat.Items.Add(it); 
```

使用此代码，我可以在新选项卡中添加我需要的所有项目。但主要问题是我无法命名选项卡，没有像 (ti.Header) 这样的属性来命名选项卡。那么解决方案是什么？谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:35:08.770

简而言之：

```
ListBox lb = new ListBox();
lb.Items.Add("chat member");

TabItem ti = new TabItem();
ti.Header = "Private Chats";
ti.Content = lb;

TabControl tc = new TabControl();
tc.Items.Add(ti); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:21:35.570

用这个：

```
 TabItem ti = new TabItem();
    ti.Header = "Name";
    tabControl1.Items.Add(ti);

    ListBox lst = new ListBox();
    lst.Width = 571;
    lst.Height = 301;

    ti.Content = lst; 
```

# .htaccess - htaccess 301 基于 url 的查询字符串重定向

> ID：11610581
> 
> 赞同：0
> 
> 时间：2012-07-23T10:17:58.753
> 
> 标签：.htaccess

我有一个这样的实时网址，

[http://example.com/today.php?year=2012&date=24&mon=07](http://example.com/today.php?year=2012&date=24&mon=07)

我希望它重定向到

[http://example.com/holiday-today/year/mon/date](http://example.com/holiday-today/year/mon/date)

我尝试使用 %{QUERY_STRING} 但我不知道如何获取三个查询参数并将它们传递给重定向的 url。

我怎样才能使用 htacess 做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T13:43:50.527

我会参考这些类似的问题并给出很好的答案：

[使用 htaccess 查询字符串重定向](https://stackoverflow.com/questions/7000110/query-string-redirection-with-htaccess)

[301 从带有查询字符串的 URL 重定向到具有不同查询字符串的新域](https://stackoverflow.com/questions/10135702/301-redirect-from-url-with-query-string-to-new-domain-with-different-query-strin)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T15:06:34.580

尝试将其添加到文档根目录的 htaccess 文件中：

```
RewriteEngine On
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /today\.php\?year=([0-9]+)&date=([0-9]+)&mon=([0-9]+)
RewriteRule ^today\.php$ /holiday-today/%1/%2/%3? [R=301] 
```

# c++ - wostream 无法输出 wstring

> ID：11610583
> 
> 赞同：5
> 
> 时间：2012-07-23T10:18:13.210
> 
> 标签：c++, visual-studio-2008, unicode, wofstream

我正在使用 Visual Studio C++ 2008 (Express)。当我运行下面的代码时，wostream（`std::wcout`和`std::wfstream`）在遇到的第一个非 ASCII 字符（在本例中为中文）处停止输出。纯 ASCII 字符打印良好。但是，在调试器中，我可以看到`wstring`s 实际上正确地填充了中文字符，并且`output << ...`实际上正在执行。

Visual Studio 解决方案中的项目设置设置为“使用 Unicode 字符集”。为什么`std::wostream`无法输出 ASCII 范围之外的 Unicode 字符？

```
void PrintTable(const std::vector<std::vector<std::wstring>> &table, std::wostream& output) {
    for (unsigned int i=0; i < table.size(); ++i) {
        for (unsigned int j=0; j < table[i].size(); ++j) {
            output << table[i][j] << L"\t";
        }
        //output << std::endl;
    }
}

void TestUnicodeSingleTableChinesePronouns() {
    FileProcessor p("SingleTableChinesePronouns.docx");
    FileProcessor::iterator fileIterator;
    std::wofstream myFile("data.bin", std::ios::out | std::ios::binary);
    for(fileIterator = p.begin(); fileIterator != p.end(); ++fileIterator) {
        PrintTable(*fileIterator, myFile);
        PrintTable(*fileIterator, std::wcout);
        std::cout<<std::endl<<"---------------------------------------"<<std::endl;
    }
    myFile.flush();
    myFile.close();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T18:30:53.997

默认情况下，std::wcout 和 std::wofstream 用于某些操作的语言环境是“C”语言环境，它不需要支持非 ascii 字符（或 C++ 基本字符集之外的任何字符）。将语言环境更改为支持您要使用的字符的语言环境。

不幸的是，在 Windows 上做的最简单的事情是使用遗留代码页，但是你真的应该避免这种情况。遗留代码页是个坏消息。相反，您应该使用 Unicode，无论是 UTF-8、UTF-16 还是其他。此外，您还必须解决 Windows 不幸的控制台模型，该模型使得写入控制台与写入其他类型的输出流非常不同。您可能需要查找或编写自己的专门处理控制台的输出缓冲区（或者可能提交错误要求 Microsoft 修复它）。

这是控制台输出的示例：

```
#include <Windows.h>

#include <streambuf>
#include <iostream>

class Console_streambuf
    : public std::basic_streambuf<wchar_t>
{
    HANDLE m_out;
public:
    Console_streambuf(HANDLE out) : m_out(out) {}

    virtual int_type overflow(int_type c = traits_type::eof())
    {
        wchar_t wc = c;
        DWORD numberOfCharsWritten;
        BOOL res = WriteConsoleW(m_out, &wc, 1, &numberOfCharsWritten, NULL);
        (void)res;
        return 1;
    }
};

int main() {
    Console_streambuf out(GetStdHandle(STD_OUTPUT_HANDLE));
    auto old_buf = std::wcout.rdbuf(&out);
    std::wcout << L"привет, 猫咪!\n";
    std::wcout.rdbuf(old_buf); // replace old buffer so that destruction can happen correctly. FIXME: use RAII to do this in an exception safe manner.
} 
```

您可以将 UTF-8 输出到这样的文件（尽管我不确定 VS2008 是否支持 codecvt_utf8_utf16）：

```
#include <codecvt>
#include <fstream>

int main() {
    std::wofstream myFile("data.bin", std::ios::out | std::ios::binary);
    myFile.imbue(std::locale(myFile.getloc(),new std::codecvt_utf8_utf16<wchar_t>));

    myFile << L"привет, 猫咪!";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T14:19:12.970

包括以下头文件

```
#include <locale> 
```

在 main 的开头，添加以下行。

```
std::locale::global(std::locale("chinese")); 
```

这有助于设置正确的语言环境。

# c++ - 我可以使用 Poco 从内存缓冲区创建多文件 zip 存档吗？

> ID：11610585
> 
> 赞同：3
> 
> 时间：2012-07-23T10:18:20.050
> 
> 标签：c++, zip, poco-libraries

我正在考虑将我的项目转移到 Poco。我想首先将一些代码移过来，看看 Poco 的样子和能力。

我需要做的一件事是将多个内存缓冲区作为多文件 zip 存档写入磁盘。即 char buffer[] -> DEFLATE Zip 存档。没有中间文件写入磁盘。

目前我使用 zlib 来实现这一点。我也对[http://libarchive.github.com/](http://libarchive.github.com/)做了同样的事情。

我可以在 Poco 中做到这一点吗？

我查看了这些示例，似乎它只将文件名作为输入，而不是指向缓冲区的 (char *) 指针。

[http://pocoproject.org/docs/ZipUserGuide.html](http://pocoproject.org/docs/ZipUserGuide.html)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T20:47:54.267

[是的，您可以使用POCO](http://pocoproject.org)将原始内存缓冲区添加到 zip 文件中。

以下运行代码显示了如何在零拷贝的帮助下[`Poco::MemoryInputStream`](http://pocoproject.org/docs/Poco.MemoryInputStream.html)。您可以[`std::istringstream`](http://cplusplus.com/reference/iostream/istringstream/)对[`std::stringbuf`](http://cplusplus.com/reference/iostream/stringbuf/).

```
#include <Poco/Exception.h>
#include <Poco/Zip/Compress.h>
#include <Poco/DateTime.h>
#include <Poco/MemoryStream.h>

#include <iostream>
#include <fstream>
using namespace std;

/*
 * Compress multiple buffers to a zip archive, each buffer gets its filename.
 * Raw data, you need to do the serialization yourself.
 * To verify the data: unzip data.zip && hexdump -C buf1 && hexdump -C buf2
 */
void f(const char* buf1, size_t buf1len, const char* buf2, size_t buf2len) {
    std::ofstream ostr("data.zip", std::ios::binary);
    Poco::Zip::Compress compress(ostr, true);

    // Poco::MemoryInputStream is a zero-copy implementation of std::istream :-)
    Poco::MemoryInputStream mis1(buf1, buf1len);
    compress.addFile(mis1, Poco::DateTime(), "buf1");

    Poco::MemoryInputStream mis2(buf2, buf2len);
    compress.addFile(mis2, Poco::DateTime(), "buf2");

    compress.close();
    ostr.close();
}

int main() {
    const char buf1[] = "binary\0buffer"; size_t buf1len = sizeof(buf1);
    const char buf2[] = "BIN\0BUF";       size_t buf2len = sizeof(buf2);
    try {
        f(buf1, buf1len, buf2, buf2len);
        return 0;
    } catch (Poco::Exception& e) {
        cout << e.displayText() << endl;
        return -1;
    }
} 
```

在我看来，POCO 是一个很棒的、轻量级的、现代的、易于理解的 C++ 库，你很快就会发现自己对它很放心。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T12:37:28.323

是的，您当然可以将文件添加到 zip 中，而无需拥有实际文件。虽然你不能`char *`直接传递 a ，但有一个[`addFile()`](http://pocoproject.org/docs/Poco.Zip.Compress.html#21666)需要 a `std::istream`，从中读取数据。

# c# - 在 ASP.NET MVC 2 项目中同时使用 Razor 和 Spark

> ID：11610591
> 
> 赞同：2
> 
> 时间：2012-07-23T10:18:44.050
> 
> 标签：c#, asp.net-mvc, razor, spark-view-engine

如何为某些控制器使用某些视图引擎？

现在我的项目使用 MVC2 + Spark 视图引擎。我想迁移到 Razor 视图引擎。项目这么大，我想一步一步做。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T14:00:51.123

完全可以同时运行两个视图引擎。由于您当前使用的是 Spark，因此您的 global.asax 中可能有一个条目，用于清除当前视图引擎并添加到 Spark 引擎中。就像是：

```
ViewEngines.Engines.Clear();
ViewEngines.Engines.Add(new ...); 
```

MVC 被设计为使用 FindView 和 FindPartial（ViewEngine 接口的一部分）来为一个动作找到正确的视图，如果它无法为列表中的第一个视图引擎找到一个，它会移动到下一个视图引擎并查找为其适当的视图，直到没有任何其他视图引擎可以尝试。

它是先查找 Razor 视图然后返回到 Spark，还是相反，这取决于您，因此请确保按正确的顺序放置视图引擎。或者要使用默认引擎，您可以删除 ViewEngines.EnginesClear() 行并首先使用 ViewEngines.Engines.Insert(0, ...) 创建 Spark

如果不清楚，请在 Spark 位周围粘贴 global.asax 代码，我可以尝试为您提供更多帮助。

# magento - Magento 新客户账户确认模板编辑

> ID：11610596
> 
> 赞同：2
> 
> 时间：2012-07-23T10:19:08.427
> 
> 标签：magento

我试图在 magento 中编辑新的客户帐户确认模板。但它没有反映在前端。

我已经`customer_account_confirmation`在主题布局文件夹中编辑了 customer.xml 文件中的布局。

我 `customer_account_confirmation`在 customer.xml中编辑过

```
<customer_account_confirmation>
        <remove name="right"/>
        <remove name="left"/>

        <reference name="root">
            <action method="setTemplate"><template>page/account_confirm.phtml</template></action>
            <action method="setHeaderTitle" translate="title" module="customer"><title>Send confirmation link</title></action>
        </reference>
    </customer_account_confirmation> 
```

当我尝试单击邮件中的确认链接时，它会重定向到仪表板页面并显示确认消息。但我需要在客户点击邮件中的确认链接后显示感谢页面

我想在模板文件夹中的 account_confirm.phtml 文件中设置感谢页面。但这不起作用。

可以建议我解决这个问题的正确解决方案吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-22T22:15:46.570

如果我猜对了，您的问题是：如何更改在客户单击新帐户的确认链接时调用的重定向 URL？

在这种情况下，检查负责默认重定向的控制器（即到“仪表板”）。您可以通过检查确认链接中给出的 URL 轻松找到它，类似于`http://www.yourdomain.com/customer/account/confirm/[some params]`. 从这里你得到控制器：你正在寻找`confirmAction()`方法，它在`AccountController.php`客户模块中。在这个方法的最后定义了一个重定向：

```
public function confirmAction()  {
    (...)

            // log in and send greeting email, then die happy
            $this->_getSession()->setCustomerAsLoggedIn($customer);
            $successUrl = $this->_welcomeCustomer($customer, true);
            $this->_redirectSuccess($backUrl ? $backUrl : $successUrl);
            return;

    (...)
} 
```

因此，在成功确认后，用户将被重定向到 中给出的 URL `$backUrl`，或者，如果没有给出，则重定向到 中给出的 URL `$successUrl`。

如果确认链接 URL 包含参数，则`$backUrl`在此方法中定义第一个变量：`confirmAction()``back_url`

`$backUrl = $this->getRequest()->getParam('back_url', false);`

第二个变量`$succesUrl`由 的`_welcomeCustomer()`方法返回`AccountController`，它设置一个指向 的 URL `indexAction()`，加载客户的仪表板。

因此，为了更改默认的 Magento 重定向，您可以确保使用`back_url`参数创建确认链接（在我的情况下，例如，此参数为空）；或者您在自定义模块中覆盖`AccountController`并根据需要进行重定向。

# jsf - 在 Primefaces 表行选择的基础上动态启用/禁用命令按钮

> ID：11610600
> 
> 赞同：3
> 
> 时间：2012-07-23T10:19:19.323
> 
> 标签：jsf, jsf-2, primefaces

有没有办法在表格行选择的基础上动态启用/禁用命令按钮？

在下一个示例中，我只想在选择任何行时启用“<strong>deleteBtn”：

```
<p:dataTable
    var="department" value="#{departmentCtrl.departmentTable}"
    selection="#{departmentCtrl.departmentList}">

    <p:column selectionMode="multiple" styleClass="w18" /> 

    <p:column headerText="#{msgs.id}" sortBy="#{department.id}">
        <h:outputText value="#{department.id}" />
    </p:column>

    <p:column headerText="#{msgs.name}" sortBy="#{department.name}">
        <h:outputText value="#{department.name}" />
    </p:column>
</p:dataTable>

<p:commandButton id="deleteBtn" value="#{msgs.delete}" disabled="???" /> 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T19:41:05.043

1.  每次发生选择或取消选择事件时，您都应该更新您的按钮。
2.  `departmentList`当为空时，您应该禁用它。

    ```
    <p:dataTable var="department" 

    value="#{departmentCtrl.departmentTable}" 

    selection="#{departmentCtrl.departmentList}">

            <p:ajax event="rowSelect" update="deleteBtn"/>
            <p:ajax event="rowUnselect" update="deleteBtn"/>

            <p:column selectionMode="multiple" styleClass="w18" /> 

            <p:column headerText="#{msgs.id}" sortBy="#{department.id}">
                <h:outputText value="#{department.id}" />
            </p:column>

            <p:column headerText="#{msgs.name}" sortBy="#{department.name}">
                <h:outputText value="#{department.name}" />
            </p:column>

    </p:dataTable>

        <p:commandButton id="deleteBtn" value="#{msgs.delete}" 
            disabled="#{fn:length(departmentCtrl.departmentList) == 0}" /> 
    ```

**顺便说一句，不要忘记将 fn 命名空间添加到您的 facelets 文件中。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-10-27T17:56:01.163

派对可能有点晚了，但这是我根据复选框选择表中每种可能的点击类型启用和禁用的内容。在我的情况下，我只需要告诉打印和删除按钮在没有选择任何内容时禁用。

```
<p:ajax event="rowSelect" update=":form:printBtn,:form:deleteBtn" />
<p:ajax event="rowUnselect" update=":form:printBtn,:form:deleteBtn" />
<p:ajax event="toggleSelect" update=":form:printBtn,:form:deleteBtn" /> 
<p:ajax event="rowSelectCheckbox" update=":form:printBtn,:form:deleteBtn" />
<p:ajax event="rowUnselectCheckbox" update=":form:printBtn,:form:deleteBtn" /> 
```

您可能实际上并不需要所有五个事件，但我确实需要。 `rowSelect`并`rowUnselect`处理不在复选框中的鼠标点击。 `toggleSelect`处理选择 all/none 的复选框（列标题中的那个），`rowSelectCheckbox`and`rowUnselectCheckbox`处理行中的复选框。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-28T10:25:23.997

我来不及回应。但它可能会帮助某人。当用户没有选择任何复选框时，我有同样的要求来禁用按钮。

我正在使用 Primefaces 5.1

这是我提出的解决方案。

我`widgetVar`用来检查选定的行数并启用/禁用命令按钮。

从 Primefaces 文档中，我们有数据表的客户端 API：

[![在此处输入图像描述](../Images/524e180ed232bb82fefe7da72ca902e8.png)](https://i.stack.imgur.com/Q5meQ.png)

我们还有用于命令按钮的客户端 API

[![在此处输入图像描述](../Images/9588a54e4dcbe112438312f2dd8ca239.png)](https://i.stack.imgur.com/rcqQi.png)

现在我们将回到实现部分

```
<p:dataTable var="line" varStatus="loop"
                    value="#{myexpense.lazyModel}" paginator="true"
                    rows="#{myexpense.rows}"
                    rendered="#{myexpense.userIdSearch eq null}" 
                    rowIndexVar="row"
                    emptyMessage="#{tk.expense_table_empty}"
                    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} 
                    {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                    widgetVar="expenseEntryTable"
                    rowsPerPageTemplate="#{myexpense.rowsPerPageTemplate}"
                    id="lazyDataTable" lazy="true"
                    selection="#{myexpense.selectedExpenseEntryList}"
                    rowKey="#{line.oid}">
                    <p:ajax event="toggleSelect" oncomplete="disableOrEnableCommandButton();" update="updateBtn"/> 
                    <p:ajax event="rowSelectCheckbox" oncomplete="disableOrEnableCommandButton();" update="updateBtn"/>
                    <p:ajax event="rowUnselectCheckbox" oncomplete="disableOrEnableCommandButton();" update="updateBtn"/>
                    <p:column selectionMode="multiple" width="3%" styleClass="centerAlignColumn selectAll" id="selectAll"/>
                    .... more column
                    <f:facet name="footer">
                        <p:commandButton process="lazyDataTable" value="#{tk.expense_update_selected}" partialSubmit="true"  ajax="true" widgetVar="updateBtn" disabled="#{myexpense.disableUpdateButton}"
                            actionListener="#{myexpense.updateSelected}" 
                            update="lazyDataTable @form" rendered="#{myexpense.form.myOnly}" />
                    </f:facet>
                </p:dataTable> 
```

如您所见，我定义了 2 个 widgetVar，一个用于数据表 (expenseEntryTable)，另一个用于命令按钮 (updateBtn)。

我还定义了 disbaled 属性`#{myexpense.disableUpdateButton}`，这在页面加载时会很有帮助。

```
private Boolean disableUpdateButton;
    public Boolean getDisableUpdateButton(){
            disableUpdateButton = !((selectedExpenseEntryList!=null) && (!selectedExpenseEntryList.isEmpty()));
            return disableUpdateButton;
        } 
```

现在你可以编写java脚本了。

```
function disableOrEnableCommandButton() {
    if (PrimeFaces.widgets['expenseEntryTable']) {
        if (PF('expenseEntryTable').getSelectedRowsCount() > 0) {
            PF('updateBtn').enable();
        } else {
            PF('updateBtn').disable();
        }
    }
} 
```

希望它可以帮助任何人！！！

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-07-24T11:17:51.293

[解决了]

在管理 bean 中，我从以下位置更改：

**列出部门列表；**

至

**部门[]部门列表；**

然后我可以使用：

```
<p:ajax event="rowSelectCheckbox" listener="#{departmentCtrl.departmentSelected}"
                         update=":formManageDepartment:departmentBtnPanel,:formManageDepartment:deleteDepartmentBtn"/>
                    <p:ajax event="rowUnselectCheckbox" listener="#{departmentCtrl.departmentUnselected}"
                         update=":formManageDepartment:departmentBtnPanel,:formManageDepartment:deleteDepartmentBtn"/> 
```

# asp.net - 如何对datagriview进行排序？

> ID：11610602
> 
> 赞同：0
> 
> 时间：2012-07-23T10:19:32.410
> 
> 标签：asp.net, vb.net

NET 与 VB.net。我想对列 dgv 表进行排序，但代码不起作用。

客户端是这样的

```
 <asp:GridView ID="griddata" runat="server"  AutoGenerateColumns="false" AllowSorting="True" >
                <Columns >
                <asp:TemplateField>
                        <ItemTemplate>
                            <asp:CheckBox ID="chkStatus" runat="server"  />
                            <asp:HiddenField ID="HiddenField1" runat="server" Value='<%# eval("ID") %>' />
                        </ItemTemplate>                   
                </asp:TemplateField>

                <asp:BoundField DataField="First_Name" HeaderText="First Name" SortExpression="First_Name"/>
                <asp:BoundField DataField="Last_Name" HeaderText="Last Name" SortExpression="Last_Name" />
                <asp:BoundField DataField="Address" HeaderText="Address" />
                <asp:BoundField DataField="Phone" HeaderText="Phone" />
            </Columns>        
        </asp:GridView> 
```

服务器端是这样的

```
Imports System.Data.SqlClient
Imports System.Configuration
Imports System.IO

Partial Public Class Course
    Inherits System.Web.UI.Page

    Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
        listhendle()

    End Sub

    Protected Sub listhendle()
        Dim ds As New DataSet
        Dim cls As New connections

        ds = cls.returndataset("select * from [m.student] ")

        GridView1.DataSource = ds
        GridView1.DataBind()

    End Sub

End Class 
```

我错过了什么吗？我从[这里](http://www.dotnetcurry.com/ShowArticle.aspx?ID=244)得到了参考，我改变了数据连接

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:32:36.490

**没有代码隐藏**：

你可以做一件事......做数据库连接@codebehind并在aspx文件中复制以下代码并重命名它......

它会工作...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:37:21.280

在 aspx 中：设置allowsorting = true

在 C# 中：

```
protected void gridView_Sorting(object sender, GridViewSortEventArgs e)
    {
        DataTable dataTable = gvEmployeeList .DataSource as DataTable;
        DataTable dtEmplist = new DataTable();
        dtEmplist = iz.getEmployeeList();
        if (dtEmplist.Rows.Count > 0 )
        {
            DataView dataView = new DataView(dtEmplist);
            dataView.Sort = e.SortExpression + " " + ConvertSortDirectionToSql(e.SortDirection);

            gvEmployeeList.DataSource = dataView;
            gvEmployeeList.DataBind();
        }
    } 
```

# php - 将悬停显示应用于更改名称的重复 div

> ID：11610604
> 
> 赞同：0
> 
> 时间：2012-07-23T10:19:45.527
> 
> 标签：php, javascript, jquery, html

好的，我有一个 div，我在每个循环中将名称加一。可能有无数个 div，因为它们是新闻循环的一部分

```
 <?php $i=1; do {?>
 <div id="linkdiv<?php echo $i;?>">
     <div id="divTwo<?php echo $i;?>" style="display: none;"><a href="#">Edit</a></div>
   </div>
  <?php } while($row= mysql_fetch_assoc($rs_query)); ?> 
```

两个 div 都有一条语句，每次循环将数字加一。工作正常！现在我在标题中有一个函数，当您将鼠标悬停在 linkdiv 上时，它会显示 divTwo。

```
 <script type="text/javascript">
$(function() {
$('#linkdiv').hover(function() { 
    $('#divTwo').show(); 
}, function() { 
    $('#divTwo').hide(); 
});
});
</script> 
```

可以调整此功能以使用我所拥有的功能吗？我尝试在循环中移动函数，但这似乎不起作用

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:22:37.570

您可以使用[`starts with`](http://api.jquery.com/attribute-starts-with-selector/)选择器。尝试以下操作：

> 选择具有指定属性且其值正好以给定字符串开头的元素。

```
$('div[id^=linkdiv]').hover(function() { 
    $(this).find('div').show(); 
}, function() { 
    $(this).find('div').hide(); 
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:23:54.137

未测试

```
 <script type="text/javascript">
   $(function() {
      $('div[id^="linkdiv"]').hover(function() { 
         $(this).next().show(); 
       }, function() { 
         $('this').next().hide(); 
       });
    });
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:25:09.903

一个更好的方法是给你所有的 div 上课

```
<div class="linkdiv" id="linkdiv23">...</div> 
```

现在你不需要使用任何诡计 -

```
$('div.linkdiv').hover(function() { 
    $(this).find('div').show(); 
}, function() { 
    $(this).find('div').hide(); 
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-23T10:23:31.573

`ids`需要在页面内显式不同......对于相同的使用`class`属性。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-23T11:03:08.503

使用 jquery 对标记进行了更改，更简单和更多选项，您可以使用`.linkdiv`或特定于所有目标`.linkdiv-X`，同样适用于`.divTwo`

```
 <?php $i=1; do {?>
 <div class="linkdiv linkdiv-<?php echo $i;?>">
     <div class="divTwo divTwo-<?php echo $i;?>" style="display: none;"><a href="#">Edit</a></div>
   </div>
  <?php } while($row= mysql_fetch_assoc($rs_query)); ?> 
```

这应该产生类似的东西

```
 <div class="linkdiv linkdiv-X">
     <div class="divTwo divTwo-X" style="display: none;"><a href="#">Edit</a></div>
   </div> 
```

和 jquery

```
$(".linkdiv").hover(function(){
 $(this).find(".divTwo").show();
},function(){
 $(this).find(".divTwo").hide();
}); 
```

# c# - 为什么 System.Timers.Timer.Interval 的数据类型是双精度的？

> ID：11610611
> 
> 赞同：16
> 
> 时间：2012-07-23T10:20:07.363
> 
> 标签：c#, .net, timer

这是一个有点学术问题，因为我正在努力思考微软背后使用 double 作为 Interval 属性的数据类型的想法！

首先来自 MDSN Interval 是 Elapsed 事件之间的时间，以毫秒为单位；我会将其解释为离散数字，那么为什么要使用双精度数呢？肯定 int 或 long 更有意义！？

Interval 可以支持 5.768585 (5.768585 ms) 之类的值吗？尤其是当人们认为 System.Timers.Timer 的精度远不及亚毫秒时...... [.NET 中最准确的计时器？](https://stackoverflow.com/questions/9228313/most-accurate-timer-in-net)

对我来说似乎有点愚蠢......也许我错过了一些东西！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-23T10:34:00.883

反汇编显示间隔是通过调用消耗的，`(int)Math.Ceiling(this.interval)`因此即使您要指定一个实数，它也会变成一个`int`使用前。这发生在一个名为`UpdateTimer`.

为什么？不知道，也许规范说这`double`在某一时刻是必需的并且改变了？最终结果是`double`不是严格要求的，因为它最终被转换为 an`int`并且不能大于`Int32.MaxValue`根据文档无论如何。

是的，计时器可以“支持”实数，它只是不会告诉你它默默地改变了它们。您可以使用 初始化并运行计时器`100.5d`，它会将其变为`101`.

是的，这有点愚蠢：浪费了 4 个字节，潜在的隐式转换，转换调用，显式转换，如果他们只是使用`int`.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-24T09:54:30.120

在这里使用双精度的原因是试图提供足够的准确性。

详细说明：系统中断时间片由返回的*ActualResolution*`NtQueryTimerResolution()`给出。NtQueryTimerResolution 由本机 Windows NT 库 NTDLL.DLL 导出。系统时间增量由返回的*TimeIncrement*`GetSystemTimeAdjustment()`给出。

这两个值决定了系统计时器的行为。它们是整数值，表示 100 ns 单位。然而，这对于今天的某些硬件来说已经不够了。在某些系统上， *ActualResolution*返回 9766，相当于 0.9766 毫秒。但事实上，这些系统每秒运行 1024 次中断（通过适当设置多媒体接口进行调整）。1024 次中断一秒将导致中断周期为 0.9765625 ms。这太详细了，它达到了 100 ps 的状态，因此不能以标准的*ActualResolution*格式保存。

因此，已决定将此类时间参数设置为 double。但是：这并不**意味着**支持/使用所有可能的值。*无论如何， TimeIncrement*给出的粒度将保持不变。

在处理计时器时，始终建议查看所涉及参数的粒度。

所以回到你的问题：`Can Interval support values like 5.768585 (ms) ?`

**不**，我上面举的系统不能。

**但它可以支持5.859375（ms）！**

具有不同硬件的其他系统可能支持其他数字。

所以在这里引入双重的想法并不是一个愚蠢的想法，实际上是有道理的。再花 4 个字节来让事情最终正确是一项不错的投资。

我在[此处](http://www.windowstimestamp.com/description)总结了有关 Windows 时间问题的更多详细信息。

# windows - 为什么我的 MDI 子窗体没有显示阴影？

> ID：11610613
> 
> 赞同：2
> 
> 时间：2012-07-23T10:20:10.453
> 
> 标签：windows, winforms, mdi, aero, mdichild

在我的应用程序中，当我将窗体作为主 MDI 父窗体的子窗体时，子窗体停止在窗体后面显示 Windows 7 默认阴影效果。如何让子窗体阴影显示？

```
Form obj = Application.OpenForms["My_form"];
if (obj != null)
{
    obj.Focus();
}
else
{
    My_form c = new My_form();
    c.MdiParent = this;
    c.Show();
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T10:40:18.583

这是正常的，完全是设计使然。[MDI 子窗口*不是*顶级窗口，而是一种特殊类型的子窗口，旨在承载在 MDI 父窗口](http://msdn.microsoft.com/en-us/library/windows/desktop/ms644908.aspx)中。

负责 Windows Vista 和 7 中 Aero 效果的桌面窗口管理器 (DWM) 仅向顶层窗口添加投影和玻璃透明度。您的 MDI 子窗口不符合此处理条件。事实上，阴影并不是他们唯一缺少的东西——它们看起来像是使用 Aero Basic 主题绘制的，这在使用 Aero 主题的机器上非常不和谐。

不幸的是，除了完全放弃 MDI 之外，没有其他解决办法。无论如何，现在多文档界面已被弃用。这样的界面对人们的使用提供了比最初预期的更加困难的界面，而且它们几乎完全被废弃了，尤其是微软自己的软件。您会注意到，Microsoft Office 使用多个顶级窗口，而不是使用 MDI。您可能应该考虑用自己的软件做同样的事情。

MDI 的另一种流行替代方案是Web 浏览器常用的*选项卡式界面。*在这里，您有一个单一的顶级窗口，并且所有子窗口都显示为该主窗口顶部的“选项卡”。与独立的 MDI 子窗口相比，用户可以更轻松、更直观地在子窗口之间切换。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-06T09:10:35.500

我终于得到了答案，如果我把表格做成子表格

```
c.MdiParent =this; 
```

它使表单的外观变得平坦，如果您想将表单显示为默认窗口（如表单），请不要使表单的 mdi 父级！

# iphone - 如何动画渐变进度条

> ID：11610614
> 
> 赞同：1
> 
> 时间：2012-07-23T10:20:11.887
> 
> 标签：iphone, core-animation

我有一个进度条，我使用重复计时器对其进行动画处理。它工作得很好，只是动画不如使用核心动画那么流畅。如果有人对如何使用核心动画实现它有任何建议，我将不胜感激！将核心动画用于更简单的东西我没有问题，但是动画渐变等让我感到难过。

我的代码在这里 -

```
-(id)initWithWidth:(float)theWidth radius:(float)theRadius progress:(float)theProgress
{
    self = [super initWithFrame:CGRectMake(0, 0, theWidth, theRadius * 2)];
    if (self) {

        _progressBarWidth = theWidth;
        _radius = theRadius;
        _progress = (float)theProgress;

        self.backgroundColor = [UIColor clearColor];

    }
    return self;
}

-(void)setProgress:(float)theProgress
{
    _progress = theProgress;
    [self setNeedsDisplay];
}

-(void)drawRect:(CGRect)rect
{
    // gradient for blue background (pale blue -> dark blue)

    float colours[] = {0.0, 135.0 / 255.0, 237.0 / 255.0, 1.0, 1.0 / 255.0, 24.0 / 255.0, 140.0 / 255.0, 1.0};

    CGColorSpaceRef baseSpace = CGColorSpaceCreateDeviceRGB();
    size_t num_locations = 2;
    CGFloat locations[2] = {0.0, 1.0};
    CGGradientRef gradient = CGGradientCreateWithColorComponents(baseSpace, colours, locations, num_locations);

    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSaveGState(context);

    CGContextMoveToPoint(context, _radius, 0.0);
    CGContextAddArcToPoint(context, _progressBarWidth, 0.0, _progressBarWidth, _radius, _radius);
    CGContextAddArcToPoint(context, _progressBarWidth, 2.0 * _radius, _progressBarWidth - _radius, 2.0 * _radius, _radius);
    CGContextAddArcToPoint(context, 0.0, 2.0 * _radius, 0.0, _radius, _radius);
    CGContextAddArcToPoint(context, 0.0, 0.0, _radius, 0.0, _radius);

    CGContextClosePath(context);
    CGContextClip(context);

    CGPoint startPoint = CGPointMake(_progressBarWidth / 2.0, 0.0);
    CGPoint endPoint = CGPointMake(_progressBarWidth / 2.0, 2.0 * _radius);

    CGContextDrawLinearGradient(context, gradient, startPoint, endPoint, 0);

    CGGradientRelease(gradient);
    CGColorSpaceRelease(baseSpace);

    CGContextRestoreGState(context);

    // gradient for progressed element (pale yellow -> dark yellow)

    float colours2[] = {252.0 / 255.0, 224.0 / 255.0, 0.0, 1.0, 246.0 / 255.0, 191.0 / 255.0, 0.0, 1.0};

    baseSpace = CGColorSpaceCreateDeviceRGB();
    gradient = CGGradientCreateWithColorComponents(baseSpace, colours2, locations, num_locations);

    context = UIGraphicsGetCurrentContext();
    CGContextSaveGState(context);

    // this defines an overall clipping path for the yellow bar (it's got a square end which can protrude when it's near 100%)
    CGContextMoveToPoint(context, _radius, kDefaultLineWidth);
    CGContextAddArcToPoint(context, _progressBarWidth - kDefaultLineWidth, kDefaultLineWidth, _progressBarWidth - kDefaultLineWidth, _radius, _radius - kDefaultLineWidth);
    CGContextAddArcToPoint(context, _progressBarWidth - kDefaultLineWidth, 2.0 * _radius - kDefaultLineWidth, _progressBarWidth - _radius, 2.0 * _radius - kDefaultLineWidth, _radius - kDefaultLineWidth);
    CGContextAddArcToPoint(context, kDefaultLineWidth, 2.0 * _radius - kDefaultLineWidth, kDefaultLineWidth, _radius, _radius - kDefaultLineWidth);
    CGContextAddArcToPoint(context, kDefaultLineWidth, kDefaultLineWidth, _radius, kDefaultLineWidth, _radius - kDefaultLineWidth);

    CGContextClosePath(context);
    CGContextClip(context);

    // now draw the yellow bar
    float progressWidth = _progress * _progressBarWidth;

    CGContextMoveToPoint(context, progressWidth, kDefaultLineWidth);
    CGContextAddArcToPoint(context, kDefaultLineWidth, kDefaultLineWidth, kDefaultLineWidth, _radius, _radius - kDefaultLineWidth);
    CGContextAddArcToPoint(context, kDefaultLineWidth, 2.0 * _radius - kDefaultLineWidth, _radius, 2.0 * _radius - kDefaultLineWidth, _radius - kDefaultLineWidth);
    CGContextAddLineToPoint(context, progressWidth, 2.0 * _radius - kDefaultLineWidth);

    CGContextClosePath(context);
    CGContextClip(context);

    startPoint = CGPointMake(progressWidth / 2.0, kDefaultLineWidth);
    endPoint = CGPointMake(progressWidth / 2.0, 2.0 * _radius - kDefaultLineWidth);

    CGContextDrawLinearGradient(context, gradient, startPoint, endPoint, 0);

    CGGradientRelease(gradient);
    CGColorSpaceRelease(baseSpace);

    CGContextRestoreGState(context);

    // draw the scale

    CGContextSetLineWidth(context, 0.25f);
    CGContextSetStrokeColorWithColor(context, [UIColor whiteColor].CGColor);

    float div = _progressBarWidth / 10;
    for (float i = 1; i < 10; i++) {

        CGContextMoveToPoint(context, div * i, 0.25);
        CGContextAddLineToPoint(context, div * i, _radius * 2.0 + 1.75);

        CGContextDrawPath(context, kCGPathStroke);

    }

    CGContextSetStrokeColorWithColor(context, [UIColor darkGrayColor].CGColor);

    for (float i = 1; i < 10; i++) {

        CGContextMoveToPoint(context, div * i - 0.5, 0.25);
        CGContextAddLineToPoint(context, div * i - 0.5, _radius * 2.0 + 1.75);

        CGContextDrawPath(context, kCGPathStroke);

    }

} 
```

0% 和 75% 的进度条图像：

[![进度条为 0%](../Images/c571e739c2cbeb970b4104f149e0d9c4.png)](https://i.stack.imgur.com/VWwuf.png)

[![进度条为 75%](../Images/7b41cb595ce8858b8bcea150ce6c3102.png)](https://i.stack.imgur.com/jPyp4.png)

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T12:34:05.400

您不能在动画期间多次调用绘图代码。在您的情况下，最简单的方法是使用两个视图：一个用于开始状态，一个用于最终状态。您可以将它们作为子视图添加到进度条视图。然后，您只绘制一次两个视图（甚至使用现成的图像）​​并为视图帧设置动画。

例如

```
...
[self addSubview:endView];
[self addSubview:startView];
...

-(void)animateProgressFrom:(float)fromValue to:(float)toValue
{  
    CGRect startRect = self.bounds;
    startRect.size.width *= fromValue;
    startView.frame = startRect;
    [UIView animateWithDuration:duration animations:^{
        CGRect endRect = self.bounds;
        endRect.size.width *= toValue;
        startView.frame = endRect;
    }];
} 
```

它可以是任意两个图像，不需要渐变色。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T17:40:31.667

最后我采用了一种更简单的方法，将裁剪的 UIView 分层并使用 animateWithDuration:animations：

这是主要代码 -

```
-(id)initWithWidth:(float)theWidth radius:(float)theRadius progress:(float)theProgress duration:(float)theDuration
{
    self = [super initWithFrame:CGRectMake(0, 0, theWidth, theRadius * 2)];
    if (self) {

        _progressBarWidth = theWidth;
        _radius = theRadius;
        _progress = (float)theProgress;
        _animationDuration = theDuration;

        self.backgroundColor = [UIColor clearColor];

        // make the view the right shape

        self.layer.cornerRadius = _radius;
        self.clipsToBounds = YES;

    }
    return self;
}

-(void)showProgress
{

    // draw the main background (which is seen as the outline)

    float tempColours[] = {0.0, 135.0 / 255.0, 237.0 / 255.0, 1.0, 1.0 / 255.0, 24.0 / 255.0, 140.0 / 255.0, 1.0};
    NSMutableArray *colours = [NSMutableArray array];
    for (int i = 0; i < 8; i++) {
        [colours addObject:[NSNumber numberWithFloat:tempColours[i]]];
    }

    // GradientView is a class which gives me UIViews with a gradient fill

    GradientView *mainBGView = [[[GradientView alloc] initWithWidth:_progressBarWidth height:2.0 * _radius colours:colours] autorelease];
    mainBGView.frame = CGRectMake(0, 0, _progressBarWidth, 2.0 * _radius);
    [self addSubview:mainBGView];

    // add the sub-background and progress bar element

    UIView *clippingContainerView = [[[UIView alloc] initWithFrame:CGRectMake(kDefaultLineWidth, kDefaultLineWidth, _progressBarWidth - 2.0 * kDefaultLineWidth, 2.0 * _radius - 2.0 * kDefaultLineWidth)] autorelease];
    clippingContainerView.backgroundColor = [UIColor clearColor];
    clippingContainerView.layer.cornerRadius = _radius - kDefaultLineWidth;
    clippingContainerView.clipsToBounds = YES;

    float tempBackgroundColours[] = {152.0 / 255.0, 152.0 / 255.0, 152.0 / 255.0, 1.0, 216.0 / 255.0, 216.0 / 255.0, 216.0 / 255.0, 1.0};
    NSMutableArray *backgroundColours = [NSMutableArray array];
    for (int i = 0; i < 8; i++) {
        [backgroundColours addObject:[NSNumber numberWithFloat:tempBackgroundColours[i]]];
    }

    GradientView *greyBGView = [[[GradientView alloc] initWithWidth:_progressBarWidth - 2.0 * kDefaultLineWidth height:2.0 * _radius - 2.0 * kDefaultLineWidth colours:backgroundColours] autorelease];
    greyBGView.frame = CGRectMake(0, 0, _progressBarWidth - 2.0 * kDefaultLineWidth, 2.0 * _radius - 2.0 * kDefaultLineWidth);
    [clippingContainerView addSubview:greyBGView];

    float tempProgressBarColours[] = {251.0 / 255.0, 215.0 / 255.0, 17.0 / 255.0, 1.0, 244.0 / 255.0, 184.0 / 255.0, 2.0 / 255.0, 1.0};
    NSMutableArray *progressBarColours = [NSMutableArray array];
    for (int i = 0; i < 8; i++) {
        [progressBarColours addObject:[NSNumber numberWithFloat:tempProgressBarColours[i]]];
    }

    GradientView *barGradientView = [[[GradientView alloc] initWithWidth:1.0 height:2.0 * _radius - 2.0 * kDefaultLineWidth colours:progressBarColours] autorelease];
    barGradientView.frame = CGRectMake(0, 0, 1, 2.0 * _radius); // start with progress bar too narrow to see
    [clippingContainerView addSubview:barGradientView];

    [self addSubview:clippingContainerView];

    // animate the progress bar

    float progressWidth = _progress * _progressBarWidth; // how wide it is at end of animation
    [UIView animateWithDuration:_animationDuration
                     animations:^{
                         barGradientView.frame = CGRectMake(0, 0, progressWidth, 2.0 * _radius);
                     }];

} 
```

非常直截了当，并且做得很好。

# jquery - Jquery UI - 未设置样式的按钮

> ID：11610616
> 
> 赞同：2
> 
> 时间：2012-07-23T10:20:14.900
> 
> 标签：jquery, css, jquery-ui

我刚刚开始为一个新项目使用 Jquery UI。

我已经从我提供的下载中上传了示例代码，并且开箱即用的按钮不起作用。我查看了代码，发现没有调用 button() 方法。

我添加了一个调用，但它仍然不想为我设置按钮样式。我试过把它缩小到只有按钮，但仍然没有。在 IE9、Chrome 20 和 FF 中也是如此。

我已经上传了一个演示到[http://www.boys-brigade.org.uk/buttondemo/index.html](http://www.boys-brigade.org.uk/buttondemo/index.html)

为此，我也离开了选项卡演示，因此我可以快速看到 Jquery UI 本身正在加载。CSS 和 JS 都存在，我可以在每个代码中看到“按钮”的提及。

真的很想在这个项目中使用 Jquery UI，但是在第一步遇到问题后，我不确定它是否会成功。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:36:13.493

您的按钮周围缺少一个带有“演示”类的 div。您已经从 jQuery 站点上的演示页面复制了 jQuery 调用，这就是他们在那里的内容。这不是必需的，但我认为您只需要相应地调整您的 jQuery 调用。

以下内容可能适用于您的 HTML。

```
$("button").button(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:23:54.553

我正在猜测：

```
$( "input:submit, a, button", ".demo" ).button(); 
```

应该：

```
$( "input:submit, a, button, .demo" ).button(); 
```

# java - 增加 MAC 上超过 6GB 的 java 堆空间的最大可表示大小

> ID：11610624
> 
> 赞同：3
> 
> 时间：2012-07-23T10:20:44.013
> 
> 标签：java, jvm, heap-memory

我正在使用 Mac 10.6.8 64 位机器（32 GB Ram）上的模型检查器。我的问题是我不能保留超过 2 GB 的堆空间。

我试过这个：

```
./mymodelchecker -vmargs -d64 -Xms6g -Xmx6g 
```

但我收到此错误消息：

```
Invalid initial heap size: -Xms6g The specified size exceeds the maximum representable size. 
```

在我看来，堆空间在 32 位环境中工作，但机器是 64 位的，Java 通过 -d64 处于 64 位模式，我的模型检查器支持 64 位架构。

如何增加堆空间的最大可表示大小？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-22T10:59:29.660

您还可以检查 top -p #processId 以检查所述堆是否已分配给进程。查看顶部报告中分配的虚拟内存：

```
ps -aef | grep <your process identifier>
top -p <the process id of the process as returned by the previous statement> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T04:28:07.567

您需要**修改**`mymodelchecker`脚本，找到实际实例化 java 程序的行并添加参数`-Xms6g -Xmx6g`。

此外，也许模型检查器有一个**配置/属性文件**，您可以在其中设置 VM 参数而无需修改启动脚本。

# gnuplot - Gnuplot，如何*跳过*丢失的数据文件？

> ID：11610625
> 
> 赞同：10
> 
> 时间：2012-07-23T10:20:44.833
> 
> 标签：gnuplot

根据各种因素，我可能没有 1 个或多个数据文件，在预定义的 gnuplot 绘图指令中引用，这些文件不存在。在这种情况下，我会收到*“警告：跳过不可读的文件”*，这会取消其余的说明。

有什么办法可以让 gnuplot 跳过任何丢失的数据文件并绘制所有现有的数据文件？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2014-08-20T02:19:45.543

这是一个没有帮助脚本的类似解决方案

```
file_exists(file) = system("[ -f '".file."' ] && echo '1' || echo '0'") + 0
if ( file_exists("mydatafile") ) plot "mydatafile" u 1:2 ... 
```

部分是将`+ 0`结果从字符串转换为整数，这样你也可以使用否定

```
if ( ! file_exists("mydatafile") ) print "mydatafile not found." 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-23T12:27:17.230

不幸的是，如果没有简单的帮助脚本，我似乎无法弄清楚如何做到这一点。这是我使用“助手”的解决方案：

```
#!/bin/bash
#script ismissing.sh.  prints 1 if the file is missing, 0 if it exists.
test -e $1
echo $? 
```

现在，使其可执行：

```
chmod +x ismissing.sh 
```

现在在您的 gnuplot 脚本中，您可以创建一个简单的函数：

```
is_missing(x)=system("/path/to/ismissing.sh ".x) 
```

然后你保护你的情节命令如下：

```
if (! is_missing("mydatafile") ) plot "mydatafile" u 1:2 ... 
```

**编辑**

看来 gnuplot 并没有因为您的文件丢失而窒息 - 当 gnuplot 尝试根据丢失的数据设置绘图范围时出现实际问题（我假设您正在自动缩放轴范围）。另一种解决方案是显式设置轴范围：

```
set xrange [-10:10]
set yrange [-1:1]
plot "does_not_exist" u 1:2
plot sin(x)  #still plots 
```

# android - NDK 构建错误

> ID：11610626
> 
> 赞同：2
> 
> 时间：2012-07-23T10:20:50.187
> 
> 标签：android, android-ndk

我正在尝试在我的项目中使用预构建的库...它的名称是 libfreeimage.so...我无法使用 NDK-build 正确构建它...。错误日志已粘贴在这里.. .请在这方面帮助我...

```
flock@QS57:~/Desktop/android-imagefilter-ndk$ /home/flock/ANDROID/android-ndk-r8/ndk-build
Prebuilt       : libfreeimage.so <= jni/
Install        : libfreeimage.so => libs/armeabi/libfreeimage.so
/home/flock/ANDROID/android-ndk-r8/toolchains/arm-linux-androideabi-4.4.3/prebuilt/linux-x86/bin/arm-linux-androideabi-strip: Unable to recognise the format of the input file `./libs/armeabi/libfreeimage.so'
make: *** [libs/armeabi/libfreeimage.so] Error 1
make: *** Deleting file libs/armeabi/libfreeimage.so
flock@QS57:~/Desktop/android-imagefilter-ndk$ 
```

我的 android.mk 文件-

```
LOCAL_PATH := $(call my-dir)

include $(CLEAR_VARS)
LOCAL_MODULE := libfreeimage
LOCAL_SRC_FILES := libfreeimage.a
include $(PREBUILT_SHARED_LIBRARY)

LOCAL_PATH := $(call my-dir)

include $(CLEAR_VARS)
LOCAL_MODULE    := imageprocessing
LOCAL_SRC_FILES := imageprocessing.c
LOCAL_SHARED_LIBRARIES := libfreeimage
LOCAL_LDLIBS    := -lm -llog -ljnigraphics

include $(BUILD_SHARED_LIBRARY) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-26T09:15:34.110

你需要使用

```
include ($BUILD_STATIC_LIBRARY) 
```

代替

```
include ($BUILD_SHARED_LIBRARY) 
```

这将为您提供所需的 .a 文件，而不是 .so。

# notepad++ - Notepad++怎么修改SCI_WORDRIGHT？（不工作）

> ID：11610629
> 
> 赞同：0
> 
> 时间：2012-07-23T10:20:58.737
> 
> 标签：notepad++

在 Shortcut mapper-->Scintilla 命令中，我尝试将 SCI_WORDRIGHT 设置为几个值，包括 Ctrl+J、Ctrl+空格键和 Ctrl+Tab。无接缝工作（我尝试重新启动 Np++）。我可以将其设置回 Ctrl+Right 并恢复正常。我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:16:31.293

使用添加按钮创建替代映射而不是替换默认映射，例如 Ctrl+Shift+Right：

*   打开 SCI_WORDRIGHT
*   选中 Shift 复选框
*   单击添加按钮

# actionscript-3 - 如何从 txt 文件中删除文本行？动作脚本

> ID：11610637
> 
> 赞同：-1
> 
> 时间：2012-07-23T10:21:21.017
> 
> 标签：actionscript-3, flash, air, builder

早上好！所以这里是基本代码，我从“使用 Adob​​e Flash Professional CS5.5 和 Flash Builder 4.5 进行移动开发”教程中获得。几乎是基本代码，但那些混蛋没有提供任何有关 DELETE 功能的信息。这是我第一次申请这个，所以需要帮助！

```
<?xml version="1.0" encoding="utf-8"?> 
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
           xmlns:s="library://ns.adobe.com/flex/spark" 
           height="494" creationComplete="readFile()"> 
<fx:Script> 
<![CDATA[ 

import mx.collections.ArrayCollection; 
[Bindable] public var todo_items:ArrayCollection;     
private function readFile():void 
{ 
    var todoFile:File =File.applicationStorageDirectory.resolvePath("todo.txt"); 

    if (todoFile.exists) 
    { 
        var fs:FileStream = new FileStream(); 
        fs.open(todoFile, FileMode.READ); 
        var result:String = fs.readUTFBytes(fs.bytesAvailable); 
        var items:Array = result.split("\n"); 
        items.pop(); 
        todo_items = new ArrayCollection(items); 
        fs.close(); 
    } 
    else { trace("Aplication cant find the file"); 
    } 
 } 
    private function writeFile():void 
    { 
        var todoFile:File = File.applicationStorageDirectory.resolvePath("todo.txt"); 

            var fs:FileStream = new FileStream(); 
            fs.open(todoFile, FileMode.APPEND); 

            fs.writeUTFBytes(task_txt.text + "\n"); 

            fs.close(); 
            readFile(); 
    } 
    private function deleteFile():void 
    { 
        //????????????? HEEEEELP         !!!!!!!!!! 
    } 

]]> 
</fx:Script> 

<s:List id="todo_list" left="10" right="10" top="146" bottom="87"       dataProvider="{todo_items}"/> 
<s:Button left="11" right="10" top="69" height="65" label="Save task" click="writeFile()" 
          enabled="{task_txt.text.length > 0}"/> 
<s:TextInput id="task_txt" left="10" right="10" top="10" height="51" prompt="Specify a task"/> 
<s:Button left="10" right="10" bottom="14" label="Delete" 
          click="todo_items.removeItemAt(todo_list.selectedIndex); deleteFile()" 
                        enabled="{todo_list.selectedIndex != -1}"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T14:27:04.803

你想做的是

1.  从文件中读取所有数据，就像 readFile 正在做的那样。
2.  从该数据中删除您要删除的任何行。
3.  将数据写回文件 - 就像 writeFile 正在做的那样 - 在`FileMode.WRITE`模式下，因为您希望它覆盖，而不是追加。

如果您不能完全弄清楚这一点并且需要代码而不是指南，请随时在此处发表评论，我将为您提供的不仅仅是指针。

* * *

readFile 中的代码（全部）将文件中的数据读入名为 的 ArrayCollection`todo_items`中。

如果你想从文件中删除一个项目，你想从那个 ArrayCollection 中删除它（类似于`todo_items.removeItemAt(index)`）。

现在，您有一个 ArrayCollection，其中包含您想要在文件中的数据。此时，您需要模仿 writeFile() 的操作，但使用 FileMode.WRITE，并且您想要写出列表中的每一项，而不是要添加的文本框中的一项。

```
private function deleteFile():void 
{ 
    var todoFile:File = File.applicationStorageDirectory.resolvePath("todo.txt"); 

        var fs:FileStream = new FileStream(); 
        fs.open(todoFile, FileMode.WRITE); 

        for(var item:String in todo_items)
        {
            fs.writeUTFBytes(item + "\n")
        }

        fs.close(); 
        readFile(); 
} 
```

On a somewhat related note - I don't think 'deleteFile' is a good name for what you are doing here. You might want a `deleteItem()` method that deletes the selected item, and then a `saveFile()` method that contains the code above.

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-23T14:21:27.180

我认为 deleteFile 方法旨在删除文件？如果是这样，Adobe 的参考文档记录了[File 类和删除，](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/filesystem/File.html#deleteFile%28%29)这通常是探索类时开始的好地方。

```
private function deleteFile():void 
{ 
       var todoFile:File = File.applicationStorageDirectory.resolvePath("todo.txt"); 
       todoFile.deleteFile()
} 
```

# c# - 如何从其他类可以使用的外部设置文件创建字典？

> ID：11610638
> 
> 赞同：5
> 
> 时间：2012-07-23T10:21:21.280
> 
> 标签：c#, dictionary, settings

我想从格式化为字符串列表“somekey = somevalue”的设置文件创建一个字典。然后，我希望这个由一个类生成的键和值字典可供我程序中的其他类使用，因此每次我想使用另一个类中的设置时，我不必再引用外部文件。

我已经弄清楚了第一部分，创建了一个可以读取外部文件并将字符串列表转换为字典的类，但我不知道如何使文件读取类创建的字典数据可用于同一命名空间中的其他类。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:28:12.247

只需将约束字典的类设为 public 并将该类中的字典设为静态，因此

```
public class MyClass
{
    // ...
    public static Dictionary<string, string> checkSumKeys { get; set; }
    // ...
} 
```

像这样称呼它

```
// ... 
foreach (KeyValuePair<string, string> checkDict in MyClass.checkSumKeys)
    // Do stuff... 
```

或者，如果字典不是静态的，则必须实例化该类

```
public class MyClass
{
    // ...
    public Dictionary<string, string> checkSumKeys { get; set; }
    // ...
} 
```

像这样称呼它

```
MyClass myclass = new MyClass();
foreach (KeyValuePair<string, string> checkDict in myClass.checkSumKeys)
    // Do stuff... 
```

我希望这有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:28:31.790

我不太确定你在这里得到什么。你不能简单地让字典成为那个类的公共财产吗？

好的，一种选择是使用公共属性，然后在初始化应用程序时创建该类的一个实例（如果您将其填充到类构造函数中，这将填充您的字典），然后您可以将相同的实例传递给函数或类构造函数，而不必再次读取外部文件。

```
public class ReadFileClass
{
    //Can be replaced with auto property
    public Dictionary<string, string> Settings
    {
        Get{return Settings}
        Set{Settings = value}
    }

    public ReadFileClass()
    {
        //In this constructor you run the code to populate the dictionary
        ReadFile();
    }

    //Method to populate dictionary
    private void ReadFile()
    {
         //Do Something
         //Settings = result of doing something
    }
}

//First class to run in your application
public class UseFile
{
    private ReadFileClass readFile;

    public UseFile()
    {
        //This instance can now be used elsewhere and passed around
        readFile = new ReadFileClass();
    }

    private void DoSomething()
    {
        //function that takes a readfileclass as a parameter can use without making a new instance internally
        otherfunction(readFileClass);
    }
} 
```

通过执行上述操作，您可以只使用一个对象的实例来填充设置字典，然后简单地传递它。我已经多次使用这种方法来避免对数据库或文件进行多次往返，这可能会产生代价高昂的性能影响。如果您想在另一个文件中使用包含设置的类，而不是实例化它的文件，您只需让类构造函数将其作为参数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-23T12:21:12.610

稍微不同的方法是使用扩展方法，我的示例相当基本，但效果很好

```
using System.Collections.Generic;

namespace SettingsDict
{
    class Program
    {
        static void Main(string[] args)
        {
            // call the extension method by adding .Settings();
            //Dictionary<string, string> settings = new Dictionary<string, string>().Settings();

            // Or by using the property in the Constants class
            var mySettings = Constants.settings;
        }
    }

    public class Constants
    {
        public static Dictionary<string, string> settings
        {
            get
            {
                return new Dictionary<string, string>().Settings();
            }
        }
    }

    public static class Extensions
    {
        public static Dictionary<string, string> Settings(this Dictionary<string, string> myDict)
        {
            // Read and split
            string[] settings = System.IO.File.ReadAllLines(@"settings.txt");

            foreach (string line in settings)
            {
                // split on =
                var split = line.Split(new[] { '=' });

                // Break if incorrect lenght
                if (split.Length != 2)
                    continue;

                // add the values to the dictionary
                myDict.Add(split[0].Trim(), split[1].Trim());
            }
            return myDict;
        }
    }
} 
```

settings.txt 的内容

```
setting1=1234567890
setting2=hello
setting3=world 
```

结果

![结果](../Images/9d0e52af7d2bcd6c87508ac65cfd3b1d.png)

您当然应该使用自己的保护功能和类似功能来扩展它。这是一种替代方法，但使用扩展方法并不是那么糟糕。Extensions 类中的功能也可以直接在 Constants 类的属性方法中实现。我这样做是为了好玩:)

# mysql - Rails 3.0 模型生成

> ID：11610641
> 
> 赞同：0
> 
> 时间：2012-07-23T10:21:30.810
> 
> 标签：mysql, ruby, ruby-on-rails-3

如何从具有相同约束的mysql数据库生成模型以及完整的引用和完整性约束。模型应该是自动生成的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T12:33:17.200

魔术模型生成器不适用于 rails 3.0，因此您可以尝试一下。创建一个 Rails 2.2 应用程序并将其与 Magic Model Generator 一起使用，然后在 Rails 3 应用程序中使用模型。MMG的[链接](http://github.com/drnic/magic_model_generator)

# android - 如果已安装如何打开 android 应用程序，如果未安装如何转到 android market

> ID：11610646
> 
> 赞同：19
> 
> 时间：2012-07-23T10:21:48.353
> 
> 标签：android

如果已经安装，我想制作 android 按钮并能够启动其他应用程序，如果尚未安装，我想去 android 市场。

这该怎么做？

问候， 维拉克

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-07-23T10:34:12.390

使用下面的代码

```
String packageName = "app_package_name";
Intent intent = getPackageManager().getLaunchIntentForPackage(packageName);

if(intent == null) {
   intent = new Intent(Intent.ACTION_VIEW, Uri.parse("market://details?id="+packageName));
}
  startActivity(intent); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-23T10:34:44.820

试试这个 -

只需`Button`在您的布局中创建一个。并且，单击该按钮检查以下条件 -

```
Button calculateButton = (Button) findViewById(R.id.buttonCalculate);
    calculateButton.setOnClickListener(new View.OnClickListener() {

          public void onClick(View v) 
          {
              if(check() == true)
              {
                  PackageManager pack = this.getPackageManager();
                  Intent app = pack.getLaunchIntentForPackage(packagename);
                  startActivity(app);
              }else
              {
                  Intent marketIntent = new Intent(Intent.ACTION_VIEW);
                  marketIntent.setData(Uri.parse("market://details?id=packagename"));
                  startActivity(marketIntent);
              }
         }
    });
}

public boolean check()
{
    try{
        ApplicationInfo info = getPackageManager().getApplicationInfo("packagename", 0 );
        return true;
    } catch( PackageManager.NameNotFoundException e ){
        return false;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:35:11.460

尝试使用其他应用程序包名称和活动名称或通过属于您需要调用的其他应用程序的意图过滤器从您的代码中调用应用程序活动...

```
 Intent newIntent;
    newIntent = new Intent("other application Package name","class name");
    startActivity(newIntent); 
```

检查它是否启动。

//如果启动了，什么都不做

//如果不是，则将 UI 导航到 Google Play Intent。

```
 Intent googlePlay = new Intent(Intent.ACTION_VIEW);
  googlePlay.setData(Uri.parse("market://details?id="+"other application package name"));
  startActivity(googlePlay); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-12-02T05:06:51.747

在onclick里面

```
@Override
public void onClick(View view){
  try{
    startActivity(getPackageManager().getLaunchIntentForPackage("applicationId"));
  } catch (PackageManager.NameNotFoundException e) {
    startActivity(new Intent(Intent.ACTION_VIEW).setData(Uri.parse("https://play.google.com/store/apps/details?id=" + "applicationId")));
 }
} 
```

# java - 字符串的简单日期格式

> ID：11610647
> 
> 赞同：2
> 
> 时间：2012-07-23T10:21:51.190
> 
> 标签：java, date, time, format, datetimeformatinfo

我有我当前的数据`2012-08-20T12:30:00+05:30`

```
 DateTime currentdata = "2012-08-20T12:30:00+05:30"; 
```

我在用

```
 String myDate = new SimpleDateFormat("MM/dd/yyyy").format(currentdata); 
```

我明白了`Cannot format given Object as a Date`

有什么线索吗？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T11:04:01.147

```
String myDate = new SimpleDateFormat("MM/dd/yyyy").format(currentdata.toDate()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T11:04:47.140

```
 String myDate = new SimpleDateFormat("MM/dd/yyyy").format(currentdata); 
```

根据这一行，currentdata 可以访问 String 或 Object。

```
 DateTime currentdata = "2012-08-2012:30:00+05:30"; 
```

根据这一行，当前数据可能是对象。这是错误点。'格式'方法访问日期对象。更改您的数据类型。如果您不想更改此内容，请更改您的当前数据（2012-08-20T12:30 :00+05:30) 到 (2012-08-2012 30:05:30)。如果不这样做，可能会发生非法参数异常。

# jquery - jQuery模板渲染

> ID：11610650
> 
> 赞同：0
> 
> 时间：2012-07-23T10:22:00.167
> 
> 标签：jquery

我试图填充 jQuery 模板并将结果附加到 div 中，但出现错误。我只是不明白我的代码中的缺陷在哪里。任何人都可以纠正它吗？我正在使用 jQuery 版本 1.4 ( **jquery-1.4.1.min.js** )。

这是我的完整代码：

* * *

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
<style type="text/css">
.no_results
{
    width:547px;
    height:50px;
    overflow: hidden;
    text-align: center;
    margin-top: 25px;
    -moz-box-shadow: 3px 3px 4px #000;
    -webkit-box-shadow: 3px 3px 4px #000;
    box-shadow: 3px 3px 4px #000;  
    display:table-cell; 
    vertical-align:middle;
    background:none repeat scroll 0 0 #FFFFE0;
    border:1px solid #FFC978;
}
</style>

<script src="Scripts/jquery-1.4.1.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function () {
var srchterm = 'Hello Sam';
var markup = "<ul><li><div class='no_results'><span>No results found for [${Name}] </span></div></li></ul>";

$("#showBtn").click(function () {
$("#SearchData").empty();
$.tmpl("movieTemplate", srchterm).appendTo("#SearchData");
});
});
</script>
</head>
<body>
<form id="form1" runat="server">
<asp:Button ID="showBtn" runat="server" Text="Change" /><br /><br />
<div id="SearchData"></div>
</form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:43:02.887

这是您要实现的目标吗：http: [//jsfiddle.net/2efSV/](http://jsfiddle.net/2efSV/)

我已将您的呼叫更改为 $.tmpl 从

```
$.tmpl("movieTemplate", srchterm).appendTo("#SearchData"); 
```

到

```
$.tmpl(markup, { "Name" : srchterm  }).appendTo("#SearchData"); 
```

第一个参数应该是您的模板，第二个参数应该是包含您在模板中使用的数据的对象：

# javascript - JS ext中函数的参数

> ID：11610651
> 
> 赞同：0
> 
> 时间：2012-07-23T10:22:05.870
> 
> 标签：javascript, extjs

这是我第一次使用 JS Ext (Sencha)，我遇到了一个问题。我定义了一个测试函数，它接收一个参数，也就是一个字符串，它如下：

```
function testlistener(p) {
       Ext.Msg.alert('testing', p.toString());
} 
```

我在弹出的警报中看到的只是“对象对象”而不是字符串，如果我只使用，我会得到相同的结果：

```
Ext.Msg.alert('testing', p); 
```

而且我尝试了很多其他方法，但都没有奏效，所以我不知道对象结构如何，我无法在api上找到它。

有人能帮我吗？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:26:03.943

这意味着您实际上并没有将字符串传递给您的函数，而是传递了一些不同的东西。看看`typeof p`返回什么，我猜`"object"`。确保您实际上传递的是字符串而不是对象。

# ios - iOS 5.1 UIView 调用 super ViewController 的选择器

> ID：11610653
> 
> 赞同：0
> 
> 时间：2012-07-23T10:22:08.257
> 
> 标签：ios, cocoa-touch, ios5

在我的项目中，我有一个 UIView 实例并附加了一个手势识别器。如果手势被识别，我想调用它的父视图控制器来重新组织场景。

这是它的实现方式

UIViewController 称为 HomeViewController。它有一个子视图，即 UIScrollview。UIScrollView 包含几个 UIView 实例。

我为所有这些 UIView 实例附加了一个手势识别器。当它触发时，我想消失并调用 HomeViewController 的 reOrganizeUI 方法。

我的问题是我无法从 UIViews 访问 HomeViewController。

有没有办法做到这一点？

真诚的，佐利

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:24:09.763

你当然可以。最简单的方法是向所有 UIView 子类添加一个属性，并在视图控制器的初始化方法中创建视图时将 HomeViewController 分配给该属性。然后，您将能够直接从视图访问控制器。

# java - Java Servlet 托管

> ID：11610657
> 
> 赞同：2
> 
> 时间：2012-07-23T10:22:18.093
> 
> 标签：java, servlets, hosting

我想为一个小型 Java servlet（在 Tomcat 上运行，不需要数据库）找到一个托管服务。有什么建议或任何我需要注意的事情吗？另外：我唯一需要上传到托管服务的是 .war 文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:41:49.177

看看这些链接可能会对您有所帮助.. :)
**1.** [在 Web 中托管 Java 应用程序](http://veerasundar.com/blog/2009/12/hosting-java-applications-in-the-web/)
**2.** [托管 Java Web 应用程序](http://java.dzone.com/news/hosting-java-web-applications-)
**3.** [我在哪里可以托管我的 JSP+Java Web 应用程序？](https://softwareengineering.stackexchange.com/questions/69135/where-can-i-host-my-jspjava-web-application)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:24:57.103

如果只是一场战争，那么eatj很好。

更新：2018 年 2 月亚马逊 AWS 是最好的。

# mysql - 设置密码时 SQL 语法错误

> ID：11610664
> 
> 赞同：-1
> 
> 时间：2012-07-23T10:22:42.590
> 
> 标签：mysql

我不知道这里有什么问题？

[http://shrani.si/f/1y/rX/1GAMFf7B/untitled.jpg](http://shrani.si/f/1y/rX/1GAMFf7B/untitled.jpg)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:26:18.437

您不应该在输入后按回车`mysql -u root`键`\c`取消它，然后在新的提示符上编写新的更新查询。

```
mysql> mysql -u root \c
mysql> update user set password = PASSWORD('value') where user = 'root'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:25:00.560

尝试将用户名（root）放在引号中 - 看起来 MySQL 可能认为它是一个列而不是字符串值

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:27:52.213

看到错误信息了吗？它正在竭尽全力告诉你一些事情。实际上，您的 SQL 语法中有一个错误：`mysql root -u`不是有效的 SQL。

换句话说，您将 mysql 客户端调用与 MySQL 查询混合在一起。在 mysql 客户端中，直到 a 的所有内容都`;`被视为一个查询（行尾不是命令分隔符）。因此，服务器试图理解这个 MySQL 查询：

```
mysql root -u UPDATE mysql.user SET password='(...etc)' 
```

正如错误消息有助于解释的那样，这就是无效的 SQL。

只运行以开头的查询`UPDATE`应该没问题。

# ruby-on-rails - Ruby/Rails：eval 似乎不起作用

> ID：11610666
> 
> 赞同：0
> 
> 时间：2012-07-23T10:22:51.433
> 
> 标签：ruby-on-rails, ruby, rspec, eval

我正在尝试使用 rspec 评估以下代码。

给定：

```
 # book = ...
   Rails.logger.info book.inspect 
```

上面的代码打印出返回类型的值为`boolean`ie`{:foo=>false}`

```
 eval(book[:foo]).should be_false 
```

但这似乎不起作用。在尝试运行 rspec 时，它会引发以下异常：

> ```
>  Failure/Error: eval(book[:foo]).should be_false
>  TypeError:
>    can't convert false into String 
> ```

那么，我如何评估一个方法的布尔值，比如我的最终结果是等价的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:26:40.497

`eval`执行传递的参数，将其解释为 Ruby 代码。您认为`false`对象中包含哪些 Ruby 代码？

```
eval(false)   # cannot execute false object
eval("false") # executes a string and returns false object 
```

看到不同？

我不知道你到底在测试什么，但你可以简单地尝试

```
book[:foo].should be_false 
```

# flash - 开发弹性应用程序时如何将一些日志输出到控制台？

> ID：11610669
> 
> 赞同：13
> 
> 时间：2012-07-23T10:23:00.077
> 
> 标签：flash, apache-flex, debugging, logging

我是 flex 新手，正在尝试编写一些演示应用程序。现在我有一个非常新手的问题：如何在 flex 应用程序中将一些日志输出到控制台（或我能看到的其他地方）？

用其他语言，我可以使用：

```
System.out.println("mylog");
console.log("mylog"); 
```

但我不知道如何在 flex 中做同样的事情。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2014-05-06T01:51:39.343

[正如这里](https://stackoverflow.com/questions/13493790/trace-on-chrome-browser-console)提到的，你可以通过这样做来实现这一点

```
import flash.external.ExternalInterface;
ExternalInterface.call("console.log", "YourString"); 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-07-23T10:29:46.333

您在这里有几个选择：

*   `trace()`
*   [弹性记录器](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/logging/package-detail.html)
*   [Flex 控制台](http://code.google.com/p/flex-console/)（使用`MiniDebugTarget`）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-23T10:51:19.910

我喜欢一个名为“TTrace”的特定于类的跟踪器，它可以为每个类启用和禁用。我还为我创建的每个函数的第一行编写它。跟踪一个故事经常使我免于远程调试，在这种情况下，您无法复制客户给您的错误。然后，您可以启用或禁用 ttrace 以清理您的输出并在您正在更新或更正的区域中启用它们。

SVN： [https ://code.google.com/p/darceys-as3-components/](https://code.google.com/p/darceys-as3-components/)

邮编： [http ://code.google.com/p/darceys-as3-components/downloads/list](http://code.google.com/p/darceys-as3-components/downloads/list)

使用 TTrace

```
 // var definition
  private var t:Ttrace;

  // Inside constructor
  t = new Ttrace(true,"",true,false,"Debug console title",600,300);
  t.ttrace("hello");
  addChild(t);

  // Var dump
  t.ttrace("myvar = " + myVar);

  // Warning
  t.warn("warning");

  // Error
  t.error("An error has occured in ......."); 
```

参数是：

```
 Ttrace(
        enabled:Boolean,
        applicationName:String="",
        useDebugBox:Boolean=false,
        debugBoxVisible:Boolean=true,
        debugBoxTitle:String="",
        debugBoxWidth:Number=800,
        debugBoxHeight:Number=400 
```

)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-23T10:27:25.720

最简单的方法是使用“trace”，这是一个顶级函数，您可以在运行 IDE 和 Flash Debug Player 时使用它。另一个解决方案是 ThunderBolt 记录器。

# javascript - Mootools getPosition() 给出错误的位置

> ID：11610670
> 
> 赞同：1
> 
> 时间：2012-07-23T10:23:01.713
> 
> 标签：javascript, position, mootools

在 Mootools getPosition() 函数的帮助下确定元素的位置时，我遇到了一个奇怪的问题。情况如下：

我有一个表单，它有两个表（我知道这在语义上是不正确的，但是我必须使用它）：

```
<form>
    <table>
        <!-- rows, columns and finally inputs, selects and teaxtarea here -->
    </table>
    <table>
        <!-- rows, columns and finally inputs, selects and teaxtarea here -->
    </table>
</form> 
```

这就是带有 Mootools 的 Javascript 发挥作用的地方。我有一个小脚本，当该字段处于焦点时显示特定表单字段的错误，这是一个工具提示的想法。在这种情况下，此工具提示或错误提示的位置由 getPosition() 确定。这在第一个表上完美工作，但是当关注第二个表中的元素时，就像第一个表的高度被忽略一样。

这里有一个 jsfiddle 链接：http: [//jsfiddle.net/Y4BVc/6/](http://jsfiddle.net/Y4BVc/6/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:29:49.310

`getPosition(relative)`将返回相对于 的位置`relative`。

只需简单地更改：

```
var pos = el.getPosition(el.getOffsetParent().getOffsetParent()); 
```

至

```
var pos = el.getPosition(); 
```

这将使其相对于文档的位置。

# java - java或scala中整数分解的库

> ID：11610676
> 
> 赞同：6
> 
> 时间：2012-07-23T10:23:39.823
> 
> 标签：java, scala, math, factorization

关于如何实现分解有很多问题，但是对于生产用途，我宁愿使用开源库来立即获得高效且经过良好测试的东西。我正在寻找的方法如下所示：

```
static int[] getPrimeFactors(int n) 
```

对于 n=12，它将返回 {2,2,3}

库也可能有处理 long 甚至 BigInteger 类型的重载

问题不在于特定的应用程序，而在于拥有一个能够很好地处理这个问题的库。许多人认为根据数字的范围需要不同的实现，在这方面，我希望库在运行时选择最合理的方法。

高效并不是指“世界上最快的”（我不会为此在 JVM 上工作……），我只是指在一秒钟而不是一小时内处理 int 和 long range。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T14:23:57.560

这取决于你想做什么。如果您的需求不大（例如，您想解决[Project Euler](http://projecteuler.net)问题），Pollard 的 rho 算法的简单实现将立即找到高达 10 或 12 位的因子；如果这是您想要的，请告诉我，我可以发布一些代码。如果您想要一个用 Java 编写的更强大的因式分解程序，您可以查看 Dario Alpern 的[小程序](http://www.alpertron.com.ar/ECM.HTM)背后的源代码；我不知道测试套件，它真的不是用开放的 api 设计的，但它确实有很多用户并且经过了很好的测试。大多数重型开源分解程序都是用 C 或 C++ 编写的，并使用 GMP 大整数库，但您可以通过您语言的外部函数接口访问它们；[msieve](http://msieve.sourceforge.net/)、[pari](http://pari.math.u-bordeaux.fr/)或[yafu](http://sourceforge.net/projects/yafu/)。如果这些不满足您，寻求更多帮助的好地方是[Mersenne 论坛](http://mersenneforum.org/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T17:25:40.687

如果你想解决你的问题，而不是得到你想要的，你想要一张桌子。您可以使用愚蠢的慢速方法预先计算它，存储它，然后以微秒为单位查找任何数字的因子。特别是，您想要一个表格，其中最小因子列在与数字对应的索引中 - 如果您使用试除法删除一些最小的素数，内存效率会更高 - 然后沿着表格向下走，直到你打了一个 1（意味着没有除数；你剩下的是素数）。每个表条目只需要两个字节，这意味着您可以将所有内容存储在比智能手机更重的任何现代机器上。

如果您有兴趣，我可以演示如何创建它，并展示如何以比您希望通过一个活跃的社区和复杂算法的单元测试实现的可靠性更高的可靠性来检查它是否正确（除非您运行算法来生成此表并验证一切正常）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T14:06:15.977

> 我需要它们来测试多项式是否是原始的。

这比试图找出所有数字的因数要快。

```
public static boolean gcdIsOne(int[] nums) {
    int smallest = Integer.MAX_VALUE;
    for (int num : nums) {
        if (num > 0 && smallest < num)
            smallest = num;
    }
    OUTER:
    for (int i = 2; i * i <= smallest; i = (i == 2 ? 3 : i + 2)) {
        for (int num : nums) {
            if (num % i != 0)
                continue OUTER;
        }
        return false;
    }
    return true;
} 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-07-23T12:14:22.970

我在scala中尝试了这个功能。这是我的结果：

```
def getPrimeFactores(i: Int) = {
  def loop(i: Int, mod: Int, primes: List[Int]): List[Int] = {
    if (i < 2) primes      // might be i == 1 as well and means we are done
    else {
      if (i % mod == 0) loop(i / mod, mod, mod :: primes)
      else loop(i, mod + 1, primes)
    }
  }
  loop(i, 2, Nil).reverse
} 
```

我试着让它尽可能地实用。
`if (i % mod == 0) loop(i / mod, mod, mod :: primes)`检查我们是否找到了除数。如果我们这样做了，我们将它添加到素数并将 i 除以 mod。
如果我们没有找到新的除数，我们只是增加除数。
`loop(i, 2, Nil).reverse`初始化函数并对结果进行递增排序。

# clojure - Clojure docstring for libraries/namespaces

> ID：11610678
> 
> 赞同：28
> 
> 时间：2012-07-23T10:23:42.790
> 
> 标签：clojure, documentation, docstring

How to add docstrings and/or comments to Clojure libaries/namespaces as a whole, i.e. not just to specific functions within the namespace?

I've noticed that the clojure source uses `(comment ...)` in some places to do this ([example](https://github.com/clojure/clojure/blob/master/src/clj/clojure/parallel.clj)), is that recommended?

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-07-23T11:08:36.297

You can add a docstring to any namespace in the `ns` form.

```
(ns my.name.space
  "Very cool namespace doing this and that."
  (:require other.cool.stuff)) 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-07-23T11:08:18.593

You can add it to the `ns` declaration:

```
(ns ^{:author "mikera"
      :doc "My awesome library"}
  foo.bar.core) 
```

The example you link to does that too - so not sure if this is what you mean? But I think it's the most "standard" - it will get picked up by documentation systems such as [Codox](https://github.com/hugoduncan/codox) and [Autodoc](https://github.com/tomfaulhaber/autodoc/).

# tridion - 如何将 ClassifiedItemsFilterData 用于 Tridion 2011 CoreService 中的文件夹？

> ID：11610681
> 
> 赞同：5
> 
> 时间：2012-07-23T10:23:51.673
> 
> 标签：tridion, tridion-2011

我正在重写一个 .NET 后端应用程序，以便它使用 Tridion 2011 CoreService。有一部分它会在 Tridion 中获得一个使用特定关键字的文件夹。在当前设置中，这是通过在关键字本身上调用方法“GetListClassifiedItems”来完成的，但是我想如何使用 CoreService 来做到这一点？

CoreService API 中有一个**ClassifiedItemsFilterData**可用，但我该如何使用它呢？

我试过这段代码：

```
ClassifiedItemsFilterData filter = new ClassifiedItemsFilterData()
{
    ItemTypes = new ItemType[] { ItemType.Folder }
};

XElement list = client.GetListXml("tcm:113-363331-1024", filter); 
```

但它只会返回关键字本身，URI tcm:113-363331-1024，而不是已经用它分类的文件夹。

如果我也将组件 ItemType 添加到过滤器中，我将获得所有已使用 this 关键字分类的组件，*但仍然不是该文件夹*。

我也如何获得文件夹？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T13:25:04.293

当我运行类似的测试时，我的结果中***确实***同时得到了文件夹和组件

```
var filter = new ClassifiedItemsFilterData();
filter.ItemTypes = new ItemType[] {ItemType.Folder};
var transactions = client.GetListXml("tcm:1-134-1024", filter);
Console.WriteLine(transactions.ToString()); 
```

我将关键字字段添加到元数据模式并将其与文件夹相关联。是不是和你做的一样？

当我从上面的代码中删除项目类型过滤器时，我会根据该关键字获得所有组件和文件夹，但我**没有**获得关键字本身。这些正是我期望的`ClassifiedItemsFilterData`工作方式，所以我们真的应该关注你的场景中的不同之处。

# javascript - 在 Sencha Touch 中请求 Payload 数据

> ID：11610684
> 
> 赞同：0
> 
> 时间：2012-07-23T10:23:59.037
> 
> 标签：javascript, xmlhttprequest, sencha-touch, sencha-touch-2

只是想在 Sencha Touch 中同步一个模型，发现它还不支持发送嵌套模型数据。所以我不得不手动执行 Ajax 请求。

如何通过“请求有效负载”而不是参数等发送数据？

```
Ext.Ajax.request({
        url: '/api/blah',
        method: 'POST',
        params: {
            request: toAdd,
        },
        success: function(response, opts) {

        },
        failure: function(response, opts) {

        }
    }); 
```

我猜它必须是我发送的特定标头？

谢谢，多米尼克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T17:36:21.833

```
Ext.Ajax.request({
    url: '/api/blah',
    method: 'POST',
    jsonData: {
        //the object data etc,
    },
    success: function(response, opts) {

    },
    failure: function(response, opts) {

    }
}); 
```

# bugzilla - 在 bugzilla 中解决了一个错误后，我发现该错误不再存在。我怎么能访问它？

> ID：11610687
> 
> 赞同：11
> 
> 时间：2012-07-23T10:24:39.623
> 
> 标签：bugzilla, quick-search

一旦设置`RESOLVED`了错误，该错误就会从我的错误中完全删除。我想跟踪已解决的问题数量。我怎么能看到它并在一个列表中返回所有内容？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-23T21:11:47.693

转到任何“搜索”页面并确保“状态”设置为“全部”（或其他）。默认值通常是“打开的”，这就是为什么您没有看到已关闭的错误。如果您打开搜索的“高级”选项卡，您可以非常精确地向下钻取。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2020-03-22T00:28:53.100

实际上我的 BzDeck 应用程序 [1] 也有同样的问题。它在主收件箱线程窗格中显示我的错误，这是应用程序的核心功能，但当它被解决时，错误会突然消失。我的解决方案是添加一个选择器来显示所有/打开/关闭的错误 [2]。

有两种不同的场景：

*   人们通常希望关注未解决的 bug（如果 bug 涉及的 bug 太多，My Bugs 列表可能会很长），但是，
*   人们有时会继续讨论已关闭的错误（在 BMO 上，已解决的 Firefox 错误仅表示补丁已提交到源代码存储库）

鉴于此，更好的可能解决方案是：

*   清楚地区分开放的错误和已关闭的错误，例如 GitHub 问题（这适用于 Bugzilla 上的所有 UI；GitHub 问题为此目的使用绿色和红色图标 [3]）
*   提供像 BzDeck 这样的选择器来切换所有/打开/关闭的 bug，默认显示所有 bug
*   延迟加载/显示错误列表以提高性能

如前所述，My Bugs 是 BzDeck 以及另一个名为 Buggy [4] 的实验性 Bugzilla 客户端的核心，我相信 Bugzilla 也应该实现相同的线程侧边栏，以便人们可以更快地查看他们的错误。

[https://bugzilla.mozilla.org/show_bug.cgi?id=1380026](https://bugzilla.mozilla.org/show_bug.cgi?id=1380026)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-04-07T15:29:30.710

您的搜索条件“解决方案”可能具有值“---”，它是一个值，而不是通配符。使事情复杂化的是，通常网络浏览器不会为您提供一种明显的方法来取消选择多选列表中唯一选定的值，例如这个。

**修复**：

您可以通过按住 Ctrl 键并单击“---”值来取消选择“分辨率”搜索字段的“---”值。

这适用于 Internet Explorer、Firefox 和 Chrome。如果我没记错的话，它也可以在 Safari 中使用，或者可能使用 Command 或 Option 修饰键而不是 Ctrl。

当然，此修复不适用于移动设备。长按？我不知道。

或者，在 Excrubulent 的回答中没有错：通过选择解决方案列表中的所有值来解决这个困难。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-17T04:51:38.807

在某些版本的 Bugzilla 中，无法在高级选项卡下搜索已解决的错误。*在 Bugzilla Bugzillaception*上查看此错误：

[https://bugzilla.mozilla.org/show_bug.cgi?id=663377](https://bugzilla.mozilla.org/show_bug.cgi?id=663377)

该错误表示已针对 4.2.1 解决，但我使用的是 4.2.5，并且对我来说没有修复，因此显然您的里程可能会有所不同。我已经在那个错误上提到了这个问题。

目前一个潜在的解决方法是搜索各种分辨率值（FIXED、WONTFIX、WORKSFORME 等）。设置了这些值的任何内容都应具有已解决或已验证的状态。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2022-02-18T11:05:02.603

当您使用*快速搜索*，`ALL`是您的朋友时，这个词必须在输入行的最开始输入并覆盖状态标准（可以在：[*简单查询示例中*](https://bugzilla.mozilla.org/page.cgi?id=quicksearch.html#basic_examples "Bugzilla 快速搜索")找到）。

顺便说一句：Bugzilla 的快速搜索也可以添加到浏览器的搜索引擎中，并在其地址栏中与关键字组合。^(（确认适用于 Firefox 和 Edge）)

[*我热烈推荐Bugzilla*](https://www.youtube.com/watch?v=14W-XguG--U "Bugzilla 快速搜索会让你大吃一惊 - YouTube") Quicksearch 中的 5½ 分钟摘要将在 YouTube 上让您大开眼界。

# javascript - 在网站本身上显示网站的 GA 统计信息

> ID：11610689
> 
> 赞同：3
> 
> 时间：2012-07-23T10:24:55.143
> 
> 标签：javascript, google-analytics, google-analytics-api

我们需要显示我们网站页面的访问次数。我们已经将 GA 用于一般报告，并且我们认为使用 GA API 从 GA 获取访问次数数据而不是构建我们自己的计数器并增加我们的数据库和 Web 服务器的负载可能是有意义的。

我阅读了文档并且已经知道如何构建我需要的查询。我现在要解决的主要问题是授权过程。听起来，如果我们使用 OAuth 2.0，每个用户都必须先进行身份验证，然后才能看到页面上的统计信息，并且他们将有权访问其网站的统计信息（如果他们已向 GA 注册）。在我们的例子中这是不正确的，我们需要的只是在我们自己的网站上显示我们自己的 GA 统计数据。我们最初认为的简单任务，但听起来不再那样了。

有没有办法将我们的网站授权给 Google（就像我们在使用 Maps API 时发送凭据一样）并自动向任何用户显示统计信息？我们想通过 JS 在客户端实现它，但如果可以仅在服务器端实现它 - 那没关系。服务器端实现的目标平台是 ASP.NET（以防万一）。有人能指出我们正确的方向吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:52:06.053

相当多的选择：

1.  您可以使用[OOCharts](http://oocharts.org/)和这样的[脚本](https://webapps.stackexchange.com/a/29152)
2.  使用[嵌入式分析](http://www.embeddedanalytics.com/)等服务（付费）
3.  使用[SeeTheStats](http://www.google.com/analytics/apps/about?app_id=421002)和它的[小部件](http://www.seethestats.com/faq#c43)
4.  使用[谷歌图表和 JavaScript](http://code.google.com/intl/de-DE/apis/analytics/docs/articles/gdataAnalyticsCharts.html)
5.  使用[explanium](http://explainum.com/)嵌入 ga 图
6.  [Piwik](http://piwik.org/)也可以[嵌入图表](http://piwik.org/docs/embed-piwik-report/)。

# android - 如何使用java android读取KML文件

> ID：11610699
> 
> 赞同：0
> 
> 时间：2012-07-23T10:25:21.447
> 
> 标签：android, xml, xml-parsing, kml, android-xml

我想读取 android 移动目录（sd 卡）上存在的 KML 文件，我想从该文件中获取信息并将其显示在屏幕上。

这是我拥有的 KML 文件：

```
<kml xmlns="http://www.opengis.net/kml/2.2" xmlns:gx="http://www.google.com/kml/ext/2.2"          xmlns:kml="http://www.opengis.net/kml/2.2" xmlns:atom="http://www.w3.org/2005/Atom">
    <Placemark>
        <name>Simple placemark</name>
        <description>Attached to the ground. Intelligently places itself at the
              height of the underlying terrain.</description>    
        <Point>
            <coordinates>-122.0822035425683,37.42228990140251,0</coordinates>
        </Point>
    </Placemark>
  </kml> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:38:34.040

只需在解析 XML 时解析它。这是我的看法。希望这有帮助：[https ://gist.github.com/3163006](https://gist.github.com/3163006)

# asp.net-web-api - Signalr 没有连接

> ID：11610702
> 
> 赞同：1
> 
> 时间：2012-07-23T10:25:33.430
> 
> 标签：asp.net-web-api, signalr

我正在尝试在处理从页面上传的 ApiController 中使用信号器。

本质上，我是从我的 uploadController 调用我的 Hub，然后我想与我的客户交谈。

缩短上传控制器看起来像这样：

```
public class UploadController : ApiController
{
  public Task<HttpResponseMessage> PostFile()
    {
        var hubMan = new HubManager();
        hubMan.showUpload("test");
    }
 } 
```

然后我有我的 HubManager 应该负责发送给我的客户：

```
public class HubManager : Hub
{

    public HubManager()
    {
    }

    public void showUpload(string src)
    {
        Caller.showUpload(src);
    }

} 
```

我也在我的 showUpload 中试过这个：

```
public void showUpload(string str)
    {
        var context = GlobalHost.ConnectionManager.GetHubContext<HubManager>();
        context.Clients[this.Context.ConnectionId].showUpload(str);
    } 
```

我的客户端代码如下所示：

```
$(document).ready(function () {

var progress = $.connection('/signalr/hubs/hubManager');

progress.showUpload = function (src) {
    alert(src);
};

// Start the connection
$.connection.hub.start();
}); 
```

现在的问题是，在我的 Hub 类中，一切都是空的。我的来电者、客户和上下文为空。所以似乎有些东西没有正确初始化。

有什么建议么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T15:13:14.337

您不能自己创建 SignalR 集线器的实例。集线器需要由 SignalR 初始化，以便客户端等属性可用。

如果您想从集线器外部（例如您的控制器）向客户端广播，则需要使用集线器的上下文对象，如[wiki 中所述](http://www.asp.net/signalr/overview/signalr-20/hubs-api/hubs-api-guide-server)：

```
public ActionResult ControllerAction()
{
    var context = GlobalHost.ConnectionManager.GetHubContext<HubManager>();
    context.Clients[ /* connectionId or group name */ ].showUpload();
    // ...
} 
```

请注意，您无法访问`context.ConnectionId`或`context.Caller`那里，因为您调用的是 ApiController 而不是 SignalR，因此在这种情况下，框架对 ConnectionId 一无所知。您需要以其他方式将其传递给控制器​​，例如 cookie 或作为控制器操作的参数。

# c# - 当我在 C# 的类中定义所有函数时，我是否在进行函数式编程？

> ID：11610706
> 
> 赞同：3
> 
> 时间：2012-07-23T10:25:56.157
> 
> 标签：c#, oop, functional-programming

我问这个问题是因为我不想在不久的将来在工作面试中羞辱自己。

我喜欢在编程时在一个地方创建许多函数，并尽可能避免创建类和处理实体状态。我可以说我喜欢函数式编程，这是我的编程风格或偏好，还是我必须使用像 F# 或 Haskell 这样的函数式编程语言才能这样说？

* * *

根据[http://en.wikipedia.org/wiki/Comparison_of_programming_paradigms](http://en.wikipedia.org/wiki/Comparison_of_programming_paradigms)，我实际上是在使用面向对象的语言进行命令式编程。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T10:30:19.043

不。

函数式编程的特点是

*   避免状态变化的对象（或其他任何东西）
*   避免可变数据和可变数据结构（更简单地说；变量不会改变它们的值）
*   所有（或几乎所有）函数都是[*pure*](http://en.wikipedia.org/wiki/Pure_function)。

许多函数式语言也依赖于模式匹配和强类型，尽管可以在缺少这些特性的语言中以函数式风格进行编程。

要了解有关函数式编程的更多信息，请考虑阅读该领域的介绍（例如[Learn You a Haskell for Great Good](http://learnyouahaskell.com/)）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-23T10:34:41.267

不。将所有方法放在一个类中会使您成为*过程*式编程的粉丝，换句话说，您是反 OOP 的。

如果您的大多数/所有变量/参数/函数是或，如果可以应用这些限定符，您可以声称在 C#中进行*函数式编程。*`const``readonly`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-23T10:31:58.407

我认为您所描述的是更多的过程编程，而不是功能编程。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-23T10:29:32.493

Afaik 你可以用 oop 语言进行函数式编程。如果我理解正确，功能只是意味着您传递函数所需的所有内容，然后再次取出结果，不存储任何内容以供下次调用等。换句话说，您的类和方法是无状态的。

# java - GroovyShell：嵌入式执行

> ID：11610717
> 
> 赞同：5
> 
> 时间：2012-07-23T10:26:30.760
> 
> 标签：java, groovy, groovyshell

我正在尝试将 groovy 嵌入到大型 Java 应用程序中。

Java 应用程序应该在启动时加载一些实用的 Groovy 脚本。

然后应用程序应该多次运行其他脚本。还需要在 GUI 上输入一些代码并根据用户请求执行它。

我面临的问题是：

我正在加载这样的启动脚本：

```
GroovyShell gShell = new GroovyShell();
gShell.evaluate(new FileReader("scripts/autoload.groovy")); 
```

假设我的 autoload.groovy 包含：

```
def prnt(m) {
    println("From Groovy: " + m);
} 
```

这工作正常。但是当我想使用以下命令运行用户命令时：

```
gShell.evaluate("prnt 66"); 
```

我得到错误： `groovy.lang.MissingMethodException: No signature of method: Script2.prnt() is applicable for argument types: (java.lang.Integer) values: [66]`

我的用户脚本如何访问已加载的方法？

注意：我也尝试过“autoload.prnt 88”，但仍然出现错误。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T10:37:35.417

每个`evaluate`调用都作为单独的编译和运行`Script`，并且

```
def prnt(m) {
    println("From Groovy: " + m);
} 
```

在从 生成的 Script 类中定义了一个方法，该`autoload.groovy`方法无法从后续的“调用”脚本中访问。但是，由相同运行的脚本`GroovyShell`共享相同的*绑定*，因此您可以将值从一个脚本存储在绑定中，并在另一个脚本中访问它们。在绑定中存储值只是将值分配给其他未声明的变量的一种情况：

```
prnt = { m ->
    println("From Groovy: " + m);
} 
```

这在绑定变量中存储了一个闭包`prnt`，您可以从同一个 shell 中的其他脚本调用该闭包。注意

```
def prnt = { m -> 
```

或者

```
Closure prnt = { m -> 
```

将*不起作用*，因为`def`or 类型使其成为局部变量声明（此特定脚本专用）而不是对绑定的赋值。

# javascript - JavaScript：将长日期解析为较短的日期

> ID：11610721
> 
> 赞同：0
> 
> 时间：2012-07-23T10:26:42.227
> 
> 标签：javascript

我正在使用 AJAX 拉入 RSS 提要并显示项目列表。但是，返回的日期非常长，需要更短。

例如`Mon, 11 Jun 2012 17:53:35 PDT`变得公正`11 Jun 2012 17:53`

可以用javascript做到这一点吗？

代码目前看起来像这样：

```
for(var i = 0; i < feed.items.length && i < 5; i++) {

                            var item = feed.items[i];

                            html += '<li>'
                            + item.updated;

                            html += ' | <span class="title">'
                            + '<a href="'
                            + item.link
                            + '">'
                            + item.title
                            + '</a>'
                            + '</span></li>';

                        } 
```

`item.updated`所以我需要对那个对象做点什么。

我已经对解析日期进行了快速搜索，但没有找到任何我可以使用的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:41:20.457

```
var longdate = "Mon, 11 Jun 2012 17:53:35 PDT";
var shortdate =  datestr.match(/\d[^:]*:\d\d/)[0];
//   ->  "11 Jun 2012 17:53" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:37:04.170

看起来您可以在第一个空格之前和最后一个冒号之后删除所有内容。[`indexOf` *^(使用[docs])*](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/indexOf)、[`lastIndexOf` *^([docs])*](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/lastIndexOf)和[`substr` *^([docs])*](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/substr)很容易：

```
date = date.substr(date.lastIndexOf(':')).substr(0, date.indexOf(' ')); 
```

当然，如果格式发生变化，您必须进行调整。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-23T10:43:50.870

您可以使用此正则表达式：

```
var result = "Mon, 11 Jun 2012 17:53:35 PDT".replace(
    /[A-Z][a-z]{2}, (\d+) ([A-Z][a-z]{2}) (\d+) (\d+):(\d+):\d+ [A-Z]{3}/,
    "$1 $2 $3 $4:$5"
); // result = "11 Jun 2012 17:53" 
```

或者更简单：

```
var result = "Mon, 11 Jun 2012 17:53:35 PDT".replace(
    /[A-Z][a-z]{2}, (\d+ [A-Z][a-z]{2} \d+ \d+:\d+):\d+ [A-Z]{3}/,
    "$1"
); // result = "11 Jun 2012 17:53" 
```

更简单：

```
var result = "Mon, 11 Jun 2012 17:53:35 PDT".match(
    /(\d+ [A-Z][a-z]{2} \d+ \d+:\d+)/
)[0]; // result = "11 Jun 2012 17:53" 
```

但如果你关心时区，即想显示客户端的时区，你可以这样做：

```
var Result = new Date("Mon, 11 Jun 2012 17:53:35 PDT").toString().match(
    /([A-Z][a-z]{2} \d+ \d+ \d+:\d+)/
)[0]; // result = "Jun 12 2012 08:53" // client's timezone, GMT+8 for example 
```

# c# - ASPX 服务器代码正在 .aspx 文件中创建

> ID：11610723
> 
> 赞同：0
> 
> 时间：2012-07-23T10:26:49.003
> 
> 标签：c#, asp.net

就在刚才，我发现了我的视觉工作室环境的奇怪行为。我正在使用 ASP.net Web 应用程序。添加网络表单时，我试图在网络表单上放置按钮，而不是在代码隐藏文件（WebForm.aspx.cs）中声明 button_Click 事件，此声明被放置在 aspx.file 中，如下所示：

```
<script runat="server">

protected void Button2_Click(object sender, EventArgs e)
{

} 
```

早些时候一切正常。我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T13:25:31.343

感谢大家的帮助。不幸的是，我不知道真正的原因，但我的问题是通过从解决方案中删除我的 Web 应用程序然后再次添加此应用程序来解决的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:29:03.443

**在新页面添加操作期间，选中“将代码放在单独的文件中**”复选框。

![在此处输入图像描述](../Images/3de7367c039cba7eace3bf77679a95c0.png)

# php - 标头函数 mail() php

> ID：11610729
> 
> 赞同：1
> 
> 时间：2012-07-23T10:27:23.390
> 
> 标签：php, email, email-headers

我必须使用 PHP 的函数 mail() 发送邮件。我必须插入回复标题，但它不起作用：

```
<?php
    $body = "<html>\n";
    $body .= "<body style=\"font-family:Verdana, Verdana, Geneva, sans-serif; font-size:12px; color:#666666;\">\n";
    $body = $message;
    $body .= "</body>\n";
    $body .= "</html>\n";

    $headers  = "From: My site<noreply@example.com>\r\n";
    $headers .= "Reply-To: info@example.com\r\n";
    $headers .= "Return-Path: info@example.com\r\n";
    $headers .= "X-Mailer: Drupal\n";
    $headers .= 'MIME-Version: 1.0' . "\n";
    $headers .= 'Content-type: text/html; charset=iso-8859-1' . "\r\n";

    return mail($recipient, $subject, $message, $headers); ?> 
```

在这个 php.net 的例子中有 $headers .= "Reply-To: info@example.com\r\n"; 但是如果复制并粘贴这个然后发送邮件，则没有回复标题。如果在我的 HTML 邮件中正确插入 From、CC、Bcc 等其他标头，则只有回复标头没有。我尝试过“回复”、“回复”、“回复”、“回复”等，但它不起作用。我已经用过 Php 5.4 能帮帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:40:33.883

尝试这个。

为收件人、主题和消息添加参数。

然后在这一行“return mail($recipient, $subject, $message, $headers);”

将 $message 替换为 $body。

看起来像这样

```
<?php

$recipient = "jack@example.com";
$subject = "test subject";
$message = "test message";
$body = "<html>\n";
$body .= "<body style=\"font-family:Verdana, Verdana, Geneva, sans-serif; font-size:12px; color:#666666;\">\n";
$body = $message;
$body .= "</body>\n";
$body .= "</html>\n";

$headers  = "From: My site<noreply@example.com>\r\n";
$headers .= "Reply-To: info@example.com\r\n";
$headers .= "Return-Path: info@example.com\r\n";
$headers .= "X-Mailer: Drupal\n";
$headers .= 'MIME-Version: 1.0' . "\n";
$headers .= 'Content-type: text/html; charset=iso-8859-1' . "\r\n";

$result = mail($recipient, $subject, $body, $headers); 
var_dump($result);

?> 
```

希望对你有帮助

# python - 对 XML 文件进行排序

> ID：11610731
> 
> 赞同：1
> 
> 时间：2012-07-23T10:27:34.147
> 
> 标签：python, xml, xslt, sorting, xpath

是否可以对 XML 文件进行如下排序：

```
<model name="ford">
<driver>Bob</driver>
<driver>Alice</driver>
</model>

<model name="audi">
<driver>Carly</driver>
<driver>Dean</driver>
</model> 
```

这将成为

```
<model name="audi">
<driver>Carly</driver>
<driver>Dean</driver>
</model>

<model name="ford">
<driver>Alice</driver>
<driver>Bob</driver>
</model> 
```

也就是说，最外面的元素首先排序，然后是第二个最外面的元素，依此类推。

他们需要先按元素名称排序。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T11:17:59.797

这是基里尔解决方案的改进，我认为它更好地反映了规定的要求，并且它避免了类型错误 XSLT 2.0 如果排序键包含多个值（但它仍然适用于 1.0）。

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" />

  <xsl:template match="*">
    <xsl:copy>
    <xsl:copy-of select="@*"/>
    <xsl:apply-templates select="*">
      <xsl:sort select="(@name | text())[1]"/>
    </xsl:apply-templates>
    </xsl:copy>
  </xsl:template>

</xsl:stylesheet> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:37:04.783

试试这个 XSLT：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" />

  <xsl:template match="@* | node()">
    <xsl:copy>
    <xsl:apply-templates select="@* | node()">
      <xsl:sort select="text() | @*"/>
        </xsl:apply-templates>
      </xsl:copy>
    </xsl:template>
</xsl:stylesheet> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-10-04T23:32:45.630

您可以通过将节点从父节点中删除并按预期顺序重新插入来对节点进行排序。例如：

```
def sort_tree(tree):
    """ recursively sorts the given etree in place """
    for child in tree:
        sort_tree(child)

    sorted_children = sorted(tree, key=lambda n: n.text)
    for child in tree:
        tree.remove(child)
    for child in reversed(sorted_children):
        tree.insert(0, child)

tree = etree.fromstring(YOUR_XML)
sort_tree(tree)
print(etree.tostring(tree, pretty_print=True)) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-23T11:01:36.220

您不需要对整个 xml dom 进行排序。而是将所需的节点放入列表中并对其进行排序。因为我们在处理时而不是在文件中需要排序顺序，所以最好在运行时完成。可能是这样，使用minidom。

```
import os, sys
from xml.dom import minidom
document = """\
<root>
<model name="ford">
<driver>Bob</driver>
<driver>Alice</driver>
</model><model name="audi">
<driver>Carly</driver>
<driver>Dean</driver>
</model>
</root>
"""

document = minidom.parseString(document)
elements = document.getElementsByTagName("model")
elements.sort(key=lambda elements:elements.attributes['name']) 
```

# c# - 在不使用 try catch 的情况下检查页面是否存在

> ID：11610732
> 
> 赞同：0
> 
> 时间：2012-07-23T10:27:32.933
> 
> 标签：c#, asp.net, vb.net

如何检查页面是否存在而不将其包装在try catch中

```
Dim myWebResponse As HttpWebResponse = CType(myWebRequest.GetResponse(), HttpWebResponse) 
```

如果页面不存在，那么当`myWebRequest.GetResponse(`) 触发时我会得到 404 异常。

是不是有类似 myWebRequest.DoesPageExist() 的东西返回 true 或 false 或状态？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:33:04.593

这是不可能的。

要检查页面是否存在，您必须执行 Web 请求，如果页面不存在，服务器将返回错误代码。如果页面存在，则服务器返回页面内容。所有这些都是一个服务器请求中的一个，如果您先检查，您将需要两个服务器请求，这是低效的。

当你执行一个 web 请求时，你应该总是捕获异常，因为很多意想不到的事情可能会发生。不仅该页面不存在，连接可能超时或中断，服务器本身已关闭......而且您应该捕获所有这些异常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:46:46.867

你试过用ajax做吗？（本示例使用 jQuery）

```
$.ajax({
    url:'http://www.example.com/somefile.ext',
    type:'HEAD',
    error: function()
    {
        //file not exists
    },
    success: function()
    {
        //file exists
    }
}); 
```

这是使用 jquery 检查 404 状态的代码

```
function UrlExists(url)
{
    var http = new XMLHttpRequest();
    http.open('HEAD', url, false);
    http.send();
    return http.status!=404;
} 
```

取自：

[如何检查文件是否存在于 jQuery 或 JavaScript 中？](https://stackoverflow.com/questions/3646914/how-do-i-check-if-file-exists-in-jquery-or-javascript)

# ruby-on-rails - 设计应用程序的rails测试错误

> ID：11610739
> 
> 赞同：4
> 
> 时间：2012-07-23T10:28:10.557
> 
> 标签：ruby-on-rails, ruby, testing

当我将设计模块添加到我的 Rails 应用程序时，我的测试出现错误

```
 73) Error:
test_should_update_task(TasksControllerTest):
ActionView::Template::Error: undefined method `authenticate' for nil:NilClass
    /home/razor/.gem/ruby/1.9.1/gems/devise-2.1.2/lib/devise/controllers/helpers.rb:56:in `current_user'
    /home/razor/.gem/ruby/1.9.1/gems/devise-2.1.2/lib/devise/controllers/helpers.rb:52:in `user_signed_in?'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/abstract_controller/helpers.rb:53:in `user_signed_in?'
    /home/razor/work/judgement/app/views/layouts/application.html.erb:11:in `_app_views_layouts_application_html_erb___67557477041607610_29516700'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_view/template.rb:145:in `block in render'
    /home/razor/.gem/ruby/1.9.1/gems/activesupport-3.2.6/lib/active_support/notifications.rb:123:in `block in instrument'
    /home/razor/.gem/ruby/1.9.1/gems/activesupport-3.2.6/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/razor/.gem/ruby/1.9.1/gems/activesupport-3.2.6/lib/active_support/notifications.rb:123:in `instrument'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_view/template.rb:143:in `render'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_view/renderer/template_renderer.rb:59:in `render_with_layout'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_view/renderer/template_renderer.rb:45:in `render_template'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_view/renderer/template_renderer.rb:18:in `render'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_view/renderer/renderer.rb:36:in `render_template'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_view/renderer/renderer.rb:17:in `render'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/abstract_controller/rendering.rb:110:in `_render_template'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_controller/metal/streaming.rb:225:in `_render_template'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/abstract_controller/rendering.rb:103:in `render_to_body'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_controller/metal/renderers.rb:28:in `render_to_body'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_controller/metal/compatibility.rb:50:in `render_to_body'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/abstract_controller/rendering.rb:88:in `render'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_controller/metal/rendering.rb:16:in `render'
    /home/razor/.gem/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
    /home/razor/.gem/ruby/1.9.1/gems/activesupport-3.2.6/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'

93 tests, 36 assertions, 0 failures, 73 errors, 0 skips
Errors running test:functionals! #<RuntimeError: Command failed with status (73): [/usr/bin/ruby19 -I"lib:test" -I"/usr/lib64...]> 
```

application.html.erb 在哪里

```
<!DOCTYPE html>
<html>
    <head>
        <title>Judgement</title>
        <%= stylesheet_link_tag    "application", :media => "all" %>
        <%= javascript_include_tag "application" %>
        <%= csrf_meta_tags %>
    </head>
    <body>
        <nav>
            <% if user_signed_in? then %>
            <%= link_to "You are #{current_user.email}", edit_user_registration_path %>
            <%= link_to "Exit", destroy_user_session_path, { :method => :delete,
                                                             :confirm => "Are you sure"} %>
            <% else %>
            <%= link_to "Sign In", new_user_session_path %>
            <%= link_to "Register", new_user_registration_path %>
            <% end %>
        </nav>
        <%= yield %>
        <div class="notice">
            <%= notice %>
        </div>
        <div class="alert">
            <%= alert %>
        </div>
    </body>
</html> 
```

所以这看起来像错误，因为“user_signed_in？” 帮手。但我不明白错误的意义何在。

我对所有 Rails 魔法都不是很熟悉。

更新：已解决

我必须添加

```
class ActionController::TestCase
  include Devise::TestHelpers
end 
```

到我的 test/test_helper.rb

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T12:27:10.000

我建议使用此功能：[https](https://gist.github.com/989413) ://gist.github.com/989413 。您的测试将更加孤立。在你的罐子里，你可以像这样存根：`helper.stub(:user_signed_in?) {false}`。函数 user_signed_in? 应该根据需要返回 true 或 false。

这里有一个类似的问题：[Testing helpers in Rails 3 with Rspec 2 and Devise](https://stackoverflow.com/questions/4663897/testing-helpers-in-rails-3-with-rspec-2-and-devise)

**编辑测试::单元**

它认为你应该重新定义一个用 Test::Unit 模拟的方法。像这样的东西：

```
module Devise
  module Controllers
    module Helpers    
      def user_signed_in?
        true #Return false if you want
      end
    end
  end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-03T16:19:04.553

如果您将其用于 rspec 中的视图规范，您需要将其存根于`view`，而不是`helper`.

```
allow(view).to receive(:user_signed_in?).and_return(true) 
```

[rspec 文档中的来源](https://www.relishapp.com/rspec/rspec-rails/v/3-3/docs/view-specs/view-spec#passing-view-spec-that-stubs-a-helper-method)

# symfony - 子选择上的 Symfony2 Doctrine SQL 对象映射

> ID：11610742
> 
> 赞同：3
> 
> 时间：2012-07-23T10:28:12.857
> 
> 标签：symfony, doctrine, dql

我正在尝试使用此查询： [MySQL SELECT DISTINCT by high value](https://stackoverflow.com/questions/11434124/mysql-select-distinct-by-highest-value)

```
 SELECT 
    p.*
FROM    
      product p
    INNER JOIN
        ( SELECT 
              magazine, MAX(onSale) AS latest
          FROM
              product
          GROUP BY 
              magazine
        ) AS groupedp
      ON  groupedp.magazine = p.magazine
      AND groupedp.latest = p.onSale ; 
```

在 Symfony2 和 DQL 中。

我有：

```
$query = $em->createQuery("SELECT p FROM MyBundle:Product p WHERE p.type = 'magazine' AND  p.maglink IS NOT NULL OR (p.type = 'magazine' AND  p.diglink IS NOT NULL) GROUP BY p.magazine ORDER BY p.onSale DESC"); 
```

哪个可以正常工作并输出对象但没有正确的`MAX(onSale)`

正在做：

```
 $query = $em->createQuery("SELECT p , MAX(p.onSale) FROM MyBundle:Product p WHERE p.type = 'magazine' AND  p.maglink IS NOT NULL OR (p.type = 'magazine' AND  p.diglink IS NOT NULL) GROUP BY p.magazine ORDER BY p.onSale DESC"); 
```

导致返回非对象。

这个：

```
$query = $em->createQuery("SELECT
            p.*
            FROM
            MyBundle:Product p
            INNER JOIN
            ( SELECT
                    p.magazine, MAX(onSale) AS p.latest
                    FROM
                    MyBundle:Product p
                    GROUP BY
                    p.magazine
            ) AS groupedp
            ON  groupedp.magazine = p.magazine
            AND groupedp.latest = p.onSale ;"); 
```

引发此错误：[Semantical Error] line 0, col 127 near 'SELECT': Error: Identification Variable（用于连接路径表达式，但之前未定义。

我假设由于这个[Symfony2 Doctrine 查询](https://stackoverflow.com/questions/8265393/symfony2-doctrine-query)

我怎样才能维护我的映射，同时仍然能够按 onsale 对每个项目进行排序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T16:56:20.027

您是否考虑过将其拆分为两个查询：

**首先**：直接针对数据库连接运行查询，并按您想要的顺序返回相关行的 ID。这将您的复杂查询与 DQL 分开。

**第二**：通过 Doctrine 查询行以获得您想要的完整实体，基于先前查询的 ID/订单。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-31T17:22:54.593

这是在黑暗中拍摄的，但似乎相当明显。您将两个表别名为相同的别名。因此，当您使用 p。在连接中，它认为您在连接之前从 p 的原始定义开始工作，然后您将连接别名为 p。更改连接的别名（以及对该表的引用），以便每个别名都是唯一的。

# c++ - 将二维向量保存到文本文件

> ID：11610743
> 
> 赞同：2
> 
> 时间：2012-07-23T10:28:18.673
> 
> 标签：c++, file-io, vector

我的问题是如何将二维向量写入文本文件。

我已经关注了[这里](https://stackoverflow.com/questions/6406356/writing-vector-values-to-a-file)的主题，这是我的代码根据我的需要进行了一些更改：

```
ofstream output_file("example.txt");
ostream_iterator<int> output_iterator(output_file, "\t");
for ( int i = 0 ; i < temp2d.size() ; i++ ) 
copy(temp2d.at(i).begin(), temp2d.at(i).end(), output_iterator); 
```

我的问题是如何将向量逐行写入文件？

这就是我要的：

```
22 33 44
66 77 88
88 44 22 
```

等等。

此代码将向量的所有元素写入同一行。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:38:27.357

我有 C++11，你可以这样做：

```
std::vector<std::vector<int> > v;

//do with v;

for(const auto& vt : v) {
     std::copy(vt.cbegin(), vt.cend(),
           std::ostream_iterator<int>(std::cout, " "));
     std::cout << '\n';
} 
```

其他明智的类型定义是你的朋友。

```
typedef std::vector<int> int_v;
typedef std::vector<int_v> int_mat;
int_mat v;

for(int_mat::const_iterator it=v.begin(); it!=v.end(); ++it) {
     std::copy(vt->begin(), vt->end(),
           std::ostream_iterator<int>(std::cout, " "));
     std::cout << '\n';
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:42:33.840

这是一种方式：

```
#include <vector>
#include <iostream>

int main(){
  std::vector<std::vector<int> > vec;

  /* fill the vector ... */

  for(const auto& row : vec) {
    std::copy(row.cbegin(), row.cend(), std::ostream_iterator<int>(std::cout, " "));
  std::cout << '\n';
  }

  return 0;
} 
```

用 编译`gcc --std=c++0x test_vector.cc`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-23T10:29:59.290

复制行后打印出一个换行符，即在 for 循环结束时：

```
for(...)
{
  : // other code
  output_file << '\n';
} 
```

# c# - 乒乓球 - 与桨的碰撞不工作和得分

> ID：11610744
> 
> 赞同：1
> 
> 时间：2012-07-23T10:28:20.307
> 
> 标签：c#, xna, xna-4.0

我正在尝试制作一个简单的乒乓球游戏，但我陷入了与桨的碰撞和添加到分数上的问题。这是我的球类代码：

```
namespace Pong
{
class Ball
{
    Game1 game;
    Player player;
    Computer computer;

    public Texture2D Texture;
    public Vector2 Position;

    public Vector2 Motion;
    float Speed;

    Rectangle ballRectangle;
    Rectangle playerPaddle;
    Rectangle computerPaddle;

    Random random = new Random();

    public void Initialize()
    {
        game = new Game1();
        player = new Player();
        computer = new Computer();

        Start();
    }

    public void Start()
    {
        Motion = Vector2.Zero;
        Position = new Vector2(391, 215);

        Speed = 0.8f;

        Motion = new Vector2(random.Next(-1, 1), random.Next(-1, 1));
    }

    public void Update()
    {
        Position += Motion * Speed;

        CheckForCollision();
    }

    public void CheckForCollision()
    {
        ballRectangle = new Rectangle((int)Position.X, (int)Position.Y, 20, 20);
        playerPaddle = new Rectangle((int)player.Position.X, (int)player.Position.Y, 25, 105);
        computerPaddle = new Rectangle((int)computer.Position.X, (int)computer.Position.Y, 25, 105);

        if (ballRectangle.Intersects(playerPaddle))
        {
            Motion.X *= -1;
        }
        if (ballRectangle.Intersects(computerPaddle))
        {
            Motion.X *= -1;
        }
        if (Position.Y < 0)
        {
            Motion.Y *= -1;
        }
        if (Position.Y > 450)
        {
            Motion.Y *= -1;
        }
        if (Position.X < 0)
        {
            game.computerScore += 1;
            Start();
        }
        if (Position.X > 800)
        {
            game.playerScore += 1;
            Start();
        }
    }

    public void LoadContent(ContentManager Content)
    {
        Texture = Content.Load<Texture2D>("ball");
    }

    public void Draw(SpriteBatch spriteBatch)
    {
        spriteBatch.Draw(Texture, Position,Color.White);
    }
}
} 
```

在矩形中，我使用了图像的实际像素而不是 player.texture.width

这是我的游戏课：

```
namespace Pong
{
/// <summary>
/// This is the main type for your game
/// </summary>
public class Game1 : Microsoft.Xna.Framework.Game
{
    GraphicsDeviceManager graphics;
    SpriteBatch spriteBatch;

    Texture2D bgtexture;
    Vector2 BGpos = new Vector2(0, 0);

    Ball ball;
    Player player;
    Computer computer;

    SpriteFont Score;
    Vector2 scorePosition = new Vector2(375, 5);
    public int playerScore;
    public int computerScore;
    string scoreOutput;

    public Game1()
    {
        graphics = new GraphicsDeviceManager(this);
        Content.RootDirectory = "Content";
    }

    /// <summary>
    /// Allows the game to perform any initialization it needs to before starting to run.
    /// This is where it can query for any required services and load any non-graphic
    /// related content.  Calling base.Initialize will enumerate through any components
    /// and initialize them as well.
    /// </summary>
    protected override void Initialize()
    {
        ball = new Ball();
        player = new Player();
        computer = new Computer();

        ball.Initialize();
        player.Initialze();
        computer.Initialize();

        this.graphics.PreferredBackBufferHeight = 450;
        this.graphics.PreferredBackBufferWidth = 800;
        this.graphics.ApplyChanges();

        base.Initialize();
    }

    /// <summary>
    /// LoadContent will be called once per game and is the place to load
    /// all of your content.
    /// </summary>
    protected override void LoadContent()
    {
        // Create a new SpriteBatch, which can be used to draw textures.
        spriteBatch = new SpriteBatch(GraphicsDevice);

        bgtexture = Content.Load<Texture2D>("PongBG");
        Score = Content.Load<SpriteFont>("Score");

        ball.LoadContent(this.Content);
        player.LoadContent(this.Content);
        computer.LoadContent(this.Content);
    }

    /// <summary>
    /// UnloadContent will be called once per game and is the place to unload
    /// all content.
    /// </summary>
    protected override void UnloadContent()
    {
        // TODO: Unload any non ContentManager content here
    }

    /// <summary>
    /// Allows the game to run logic such as updating the world,
    /// checking for collisions, gathering input, and playing audio.
    /// </summary>
    /// <param name="gameTime">Provides a snapshot of timing values.</param>
    protected override void Update(GameTime gameTime)
    {
        // Allows the game to exit
        if (GamePad.GetState(PlayerIndex.One).Buttons.Back == ButtonState.Pressed)
            this.Exit();

        scoreOutput = playerScore + " " + computerScore;

        ball.Update();
        player.Update();
        computer.Update();

        base.Update(gameTime);
    }

    /// <summary>
    /// This is called when the game should draw itself.
    /// </summary>
    /// <param name="gameTime">Provides a snapshot of timing values.</param>
    protected override void Draw(GameTime gameTime)
    {
        GraphicsDevice.Clear(Color.Black);

        spriteBatch.Begin();

        spriteBatch.Draw(bgtexture, BGpos, Color.White);

        ball.Draw(this.spriteBatch);
        player.Draw(this.spriteBatch);
        computer.Draw(this.spriteBatch);

        spriteBatch.DrawString(Score, scoreOutput, scorePosition, Color.AntiqueWhite);

        spriteBatch.End();

        base.Draw(gameTime);
    }
}
} 
```

球在顶部和底部很好地从屏幕边缘反弹，但它只是直接穿过桨。同样，一旦它击中桨后面的边缘，它就会像它应该的那样开始，但它不会将分数添加到玩家和计算机的分数上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T15:04:29.840

由于您正在进行逐像素碰撞，因此球的移动速度总是有可能比更新方法计算出的碰撞速度更快。如果球移动得太快，则可能始终是碰撞前的帧，球位于桨之前，并且在下一次更新中，应用速度并且球的新位置在桨后面。只是一个想法-这在我身上发生了几次。

# html - HTML5 - 每次调整窗口大小时如何刷新窗口？

> ID：11610746
> 
> 赞同：0
> 
> 时间：2012-07-23T10:28:30.097
> 
> 标签：html

我想在每次窗口大小更改时重绘元素（重新缩放以适应窗口）。我已经设法根据尺寸制作了适合窗口的代码，但是当我调整窗口大小时，我需要刷新它以重新缩放...

我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:35:41.507

窗口.onresize

[https://developer.mozilla.org/en/DOM/window.onresize](https://developer.mozilla.org/en/DOM/window.onresize)

```
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
</head>

<body>
</body>
<script>
window.addEventListener('resize',label,false);
function label(){
    document.body.innerHTML=window.innerWidth;  
}
</script>
</html> 
```

# regex - 正则表达式：简单的搜索正则表达式？

> ID：11610752
> 
> 赞同：0
> 
> 时间：2012-07-23T10:29:06.220
> 
> 标签：regex, search

我需要一个正则表达式来帮助我搜索数据库。

它应该能够做到：

1.  在单词搜索中。示例：*ell* => 你好，Yello，Mellt，...。
2.  相似词： 例子：gold => hold, golt, cost, ...

这可能与正则表达式有关吗？

如果是的话，这个正则表达式是什么样子的？

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:34:44.487

1.  通常会通过`LIKE`带有通配符的运算符来完成：

    ```
    WHERE column LIKE '%ell%' 
    ```

2.  可以使用字符串相似性度量来完成，例如 Levenshtein 距离。[这](http://kristiannissen.wordpress.com/2010/07/08/mysql-levenshtein/)是 MySQL 作为存储过程的实现。然而，对于几乎每个字符串相似度算法，“黄金”和“成本”相差甚远。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:34:52.453

这是一个非常笼统的问题。我只能推荐简单的解决方案：

让我们看看你所说的第一个例子：

```
$your_root = "el" 
```

然后：

```
$string =~ /\w*$your_root\w*/ 
```

匹配 'h **el** lo'、'y **el** lo' 但也匹配 'iafbi342b **el** erger64'

# ruby-on-rails - 无法使控制器与参数哈希一起工作

> ID：11610757
> 
> 赞同：0
> 
> 时间：2012-07-23T10:29:32.030
> 
> 标签：ruby-on-rails, model, controller

我有 has_many 关联并希望获取用户网站，并且从控制台 user.websites 给了我所有网站的列表，但是当我在控制器中尝试时：

```
 def index
      @websites = User.find(params[:user_id]).websites
    end 
```

给我错误：**编辑**

```
 Rendered C:/Ruby193/lib/ruby/gems/1.9.1/gems/actionpack-3.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.0ms)
    Rendered C:/Ruby193/lib/ruby/gems/1.9.1/gems/actionpack-3.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
   Rendered C:/Ruby193/lib/ruby/gems/1.9.1/gems/actionpack-3.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (99.0ms)
         ←[1m←[36mUser Load (2.0ms)←[0m  ←[1mSELECT `users`.* FROM `users` WHERE `users`.`id` =67 LIMIT 1←[0m
    Completed 500 Internal Server Error in 2ms
 ActiveRecord::RecordNotFound (Couldn't find User without an ID):
 app/controllers/websites_controller.rb:10:in `index' 
```

但我已登录并且确实有 id = 67 的用户：

```
 User.find(67)
         => #<User id: 67, first_name: "admin", ... 
```

在我看来：

```
 <% @websites.each do |website| %>
 <%= website.name  %>  
   <%= website.url %> 
  <p> <%= website.category %>
  <%= website.language %> 
<%end%> 
```

**EDIT.Tried 在索引视图中检查 params[:user_id] ，这并没有向我显示任何内容：**

```
 <%= params[:user_id]%> 
```

为什么我收到错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:50:44.450

你从哪里得到的`params[:user_id]`？

你有没有尝试过：

```
def index
  @websites = User.find(params[:id]).websites
end 
```

您需要解释如何找到用户。
你说你已经登录了，那么你有`current_user`吗？

```
def index
  @websites = current_user.websites
end 
```

或分部分进行：

```
def index
  @user = #find the user 
  @websites = @user.websites
end 
```

# jquery - 面板应该从底部向上滑动并将内容向上推，没有覆盖

> ID：11610760
> 
> 赞同：5
> 
> 时间：2012-07-23T10:29:42.333
> 
> 标签：jquery, css, slidetoggle

我对 jQuery 很陌生，但我几乎可以肯定我想要实现的目标是可能的。

我有一个底部固定有导航栏的页面。导航栏有一个按钮，它应该切换一个额外的面板，我想从底部向上滑动。这是我到目前为止所拥有的：http: [//jsfiddle.net/E4yGh/](http://jsfiddle.net/E4yGh/)

如您所见，面板向上滑动到页面的其余部分，并保持在原位。我想要的是让页面的其余部分向上滚动以显示面板。页面应该完全根据面板的高度向上滚动`div`，这样面板的底部就固定在页面的底部——理想情况下不需要指定面板的高度，这样它就会自动调整。

我该怎么做呢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-23T11:23:32.977

通过向上部 div 添加一个 id，您可以将 slideToggle() 应用于文本的上部。将以下行添加到您的 jQuery click 函数中：（这将切换整个上部 div）

```
$("#upper").slideToggle("slow"); 
```

要仅将上部 div 滑动底部的高度，您可以尝试使用 CSS 属性和 .animate()

编辑：

一个简单的解决方案是将导航栏移动到页面顶部并将文本的 CSS 位置更改为“相对”。 [这是一个例子](http://jsfiddle.net/7t6Eh/2/)

编辑：

这是我相信您最初正在寻找的内容：[Demo](http://jsfiddle.net/4k6du/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-23T11:31:04.107

给你；[您的代码的工作示例](http://jsfiddle.net/E4yGh/3/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-25T08:39:00.020

据我了解，您想在底部创建一个导航栏，单击该导航栏会向上滑动并显示更多详细信息。如果是这样，您可以查看此链接[CREATING A SLIDE UP FOOTER USING JQUERY](http://return-true.com/2010/03/creating-a-slide-up-footer-using-jquery/)。

希望它会有所帮助，祝你好运。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-23T22:19:21.023

我认为这个想法是为`div`具有内容的动画制作动画。检查这个：http: [//jsfiddle.net/52MeD/](http://jsfiddle.net/52MeD/)

`div#content`当您触发向上滑动时，会设置动画的高度。我通过反复试验选择了一个尺寸，但我相信你可以做一些数学计算来计算它应该缩小到多少以适合下面板——我很懒，抱歉。我还对其属性进行了动画`bottom`处理，因此感觉下面板确实将内容的底部向上推（而不是仅仅占据空间）。当然，为了使它起作用，`div#content`必须将位置设置为`relative`。

我希望你能明白。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-08-05T12:12:56.967

我给我的导航菜单一个负边距，所以它在页面上不可见（向左浮动）我对右边的内容没有做任何事情，除了让它向左浮动。

```
$('.slidingMenu').animate({ "margin-left": '+=200' }); 
```

所以所发生的一切就是滑动菜单滑入（我唯一要做的就是将正文的宽度增加 200 像素，因为我的内容不断下降到下一行。

这是一个真正有帮助的小提琴的链接

[http://jsfiddle.net/XNnHC/3/](http://jsfiddle.net/XNnHC/3/)

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-07-23T10:50:55.917

试试这段代码：

```
#lower {
      width: 90%;
      position: fixed;
      bottom: 0;
      background-color:#d5d5d5;
} 
```

这可能会帮助你。

# struts2 - 将非 osgi 与 osgi 捆绑包交互

> ID：11610764
> 
> 赞同：3
> 
> 时间：2012-07-23T10:29:51.620
> 
> 标签：struts2, osgi, bundles

我正在为我的 Web 应用程序使用 struts2，并且我想将 osgi 架构用于服务和 dao 层。现在我不想将我的 struts2 操作包装为 osgi 包，但希望将服务和 dao 层打包为包。现在谁能告诉我我的非 osgi 操作如何使用 osgi 包（服务和 dao 层）。我想在 web 容器中部署我的 struts2 web 应用程序，以便在这种情况下 web 容器将如何与 osgi 容器（我的服务和 dao 部署的地方）交互。请帮忙 。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T13:13:35.133

您需要在 Web 容器和 OSGi 环境之间建立一个所谓的“桥梁”。Felix 和 Equinox 都有这种能力，但对我来说，Felix 的实现效果要好得多。

你基本上想要做的是：

*   将上下文侦听器添加到您的 ServletContext
*   在启动 ServletContext 时启动 OSGi，在 ServletContext 被破坏时停止它。
*   通过将 ServletContext 注册为服务，将其传递给 OSGi 上下文
*   通过将 OSGi 框架对象注册为属性，将其存储在 ServletContext 中。

因此，要从 OSGi 访问 Web 上下文：检索 ServletContext 服务，然后从那里开始。

从 webcontext 访问 OSGi： 从 ServletContext 属性中检索 OSGi 框架并从那里开始。

检查[Felix 文档](http://felix.apache.org/site/apache-felix-http-service.html)，我也在[GitHub 上做了一个例子](https://github.com/flyaruu/felix-bridge)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-23T13:15:33.637

这肯定行不通。为什么您认为将一半的应用程序迁移到 OSGi 应该是个好主意？要么你应该全部移动，要么不移动。

您可以将 struts 层部署在 war 文件中并从中访问 OSGi 服务。我认为这在 Virgo 和 Apache Karaf 中是可能的。这意味着加强与 OSGi 结构的战争。例如，在 Karaf 中，您可以使用 wab 文件，该文件是带有 Manifest 的 war 文件。

# pointers - 在 gfortran 中传递过程指针会导致段错误

> ID：11610767
> 
> 赞同：2
> 
> 时间：2012-07-23T10:30:05.943
> 
> 标签：pointers, segmentation-fault, fortran, gfortran

我有一个过程指针，我需要向下传递一些函数，并且在使用 gfortran（但不是使用 ifort）编译时它会崩溃。这是一个演示问题的最小示例：

```
模块 mod1

    抽象接口
        函数 f(x)
            双精度 f
            双精度，intent(in) :: x
        结束函数 f
    端接口

包含

    子程序 printme(g)
        过程（f），指针，意图（in）：：g
        写(*,*) g(1d0), g(2d0), g(3d0)
    结束子程序 printme

    子程序 printme2(g)
        过程（f），指针，意图（in）：：g
        调用 printme(g)
    结束子程序 printme2

结束模块 mod1

程序测试

    使用 mod1

    过程（f），指针 :: pg

    pg => g
    调用 printme2(pg)

包含

    函数 g(x)
        双精度 g
        双精度，intent(in) :: x
        g = x**2
        返回
    结束函数 g

结束程序测试

```

显然，在我的程序中，我的“printme2”版本不仅仅做这些，但你明白了。它多次调用另一个例程，并且每次都传递过程指针。现在使用英特尔编译器可以按预期工作：

```
$ ifort segfault.f90 && ./a.out
1.00000000000000 4.00000000000000 9.00000000000000

```

但是，使用 gfortran (v4.4.5-8)：

```
$ gfortran segfault.f90 && ./a.out
分段故障

```

请注意，如果我在测试程序中替换`printme2`为，它会起作用。`printme`为什么会这样？我做错了什么，我该如何做对？

# ruby-on-rails - 使用 net-SFTP 进行 UI 监控

> ID：11610768
> 
> 赞同：0
> 
> 时间：2012-07-23T10:30:05.923
> 
> 标签：ruby-on-rails, ruby, download, monitoring, net-sftp

我正在开发一个应用程序，我需要使用 sftp 下载一些文件。我安装了 gem net-sftp 并且它工作正常。使用我在此页面上找到的监控过程：http: [//net-ssh.rubyforge.org/sftp/v2/api/](http://net-ssh.rubyforge.org/sftp/v2/api/)，我可以在终端中看到进度。问题是，我想让用户看到在这个过程中发生了什么，显示一个进度条，也许在我的用户界面中显示一条监控线。

我尝试了很多东西，但没有一个有效。当我进入下载循环时，我无法修改我的任何实例变量，因此我无法保存监控数据以使用 javascript 显示它。alter-filters 也不起作用。

我不知道如何将信息存储在循环中以在我的 UI 中使用它。任何想法 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-24T06:15:43.433

我会假设你有这样的事情发生......

```
1\. client ----> 'do sftp tranfer' ----> server
2\.                                      server ------> 'doing sftp'
3\. client <---- 'done sftp' ----------- server 
```

简短的回答是，在这种情况下，您不能轻易地为客户提供进展。

更长的答案是您必须与客户端打开[某种流](http://www.html5rocks.com/en/tutorials/eventsource/basics/)以发送进度。

```
1\. client ----> 'do sftp tranfer' ----> server    
2\.                                      server ------> 'doing sftp'
3\. client <====> 'open stream'    <===> server
4\. client <---- 'OK' -----------        server 
```

这里的技巧是在服务器上执行流和 sftp 的两个进程之间进行通信。s

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-14T15:00:59.210

我即将进入类似的领域，我相信这将是我的方法。我目前有服务器访问该位置并下载文件。发生这种情况时，我将让服务器每 5 秒检查一次文件的文件大小并报告大小。如果您在下载开始之前获取文件大小并报告回来，那么您将能够提供我认为的进度。

# iphone - 在应用程序委托中运行连续线程是否正确

> ID：11610770
> 
> 赞同：0
> 
> 时间：2012-07-23T10:30:08.487
> 
> 标签：iphone, objective-c

在我的应用程序要求中，当应用程序第一次启动时，它将向服务器发送请求以获取数据，对其进行解析并将其保存在将在整个项目中使用的文件夹中。再次在特定时间间隔后，应用程序将发送请求服务器获取更新的数据（如果有）并更新文档文件夹中的数据，这将再次在整个项目中更新。所有此过程都在后台线程中发生。此过程将重复，直到应用程序在前台运行一次用户关闭应用程序，应用程序将终止，它不会进入后台。

我在应用程序委托中创建的这个重复请求以及在接收到数据后进行 xml 解析并在解析后保存。现在我的问题是，这是否意味着在应用程序委托中做太多事情是安全的，还是有一些限制，或者这是糟糕的编程？

这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:44:16.600

这是不好的做法。理想情况下，您的应用程序委托应该只关注自己的职责，即。响应应用程序发送其委托的消息。将其他离散职责拆分为其他对象要好得多。例如，您可以有一个负责定期与服务器通信的“连接管理器”对象。如果您确定应用程序一次只能连接到一台服务器，您可能希望使用单例模式，以便应用程序中只有一个对象实例，并且任何其他类都可以轻松访问它。可以在[Singletons、AppDelegates 和 top-level data](http://cocoawithlove.com/2008/11/singletons-appdelegates-and-top-level.html)中找到关于应用程序委托和单例的正确角色的很好的讨论。关于编写单例的一个很好的概述可以在下面找到[单身人士的照顾和喂养](http://www.mikeash.com/pyblog/friday-qa-2009-10-02-care-and-feeding-of-singletons.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T14:48:01.270

我在一定程度上不同意 torrey.lyons。我认为创建单例一般来说是不好的做法，应该尽可能避免。您永远不应该做的一件事是编写一个类，使其*必须*是一个单例。专门构建的单例往往会增加耦合，并且在单元测试中可能会出现问题，您可能希望用存根类替换单例，或者您可能需要为每个单元测试重新初始化它。

如果这个获取数据的任务是应用程序级别的任务，那么它绝对没有理由不能在逻辑上位于应用程序委托中。但是，我会按照 torrey.lyons 的建议创建一个“连接管理器”，并将其作为应用程序委托的属性。

我也不会使用显式后台线程来进行数据更新，但我会使用[NSOperation](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/NSOperation_class/Reference/Reference.html)的子类。这比管理自己的线程要容易得多。

# android - 如何获得shell执行的响应

> ID：11610771
> 
> 赞同：0
> 
> 时间：2012-07-23T10:30:08.887
> 
> 标签：android, bash, shell, process

我想要实现的只是从执行中获得响应。例如，如果我执行像“ls”这样的命令，我想获取所有文件和目录的字符串

例如像这样

```
Runtime.getRuntime().exec("ls"); 
```

但我不知道如何得到回应。

我运行这样的东西，我以为我会重定向输出但仍然没有

```
Runtime.getRuntime().exec("ls",null,new File("/sdcard/myFile") ); 
```

我也尝试过类似的东西，但仍然没有

```
Runtime.getRuntime().exec("echo | ls > /sdcard/myfile"); 
```

有任何想法吗 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:33:00.100

你试过这个吗？

```
String cmd = "commands";
Process process = Runtime.getRuntime().exec(cmd);
BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));

StringBuilder log = new StringBuilder();
String line;
 while ((line = bufferedReader.readLine()).length() > -1)
 {
  log.append(line);
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:34:44.413

试试这个代码

```
try {
     String[] commands = {"dumpstate > /sdcard/log1.txt"};
     Process p = Runtime.getRuntime().exec("/system/bin/sh -");
     DataOutputStream os = new DataOutputStream(p.getOutputStream());            
        for (String tmpCmd : commands) {
                os.writeBytes(tmpCmd+"\n");
        }
    } catch (IOException e) {
    e.printStackTrace();
    } 
```

# android - Listview 显示覆盖项的 id，而不是标题

> ID：11610772
> 
> 赞同：1
> 
> 时间：2012-07-23T10:30:11.897
> 
> 标签：android, listview

在设置我的列表视图时，我将 OverlayItems 的 Arraylist 设置为列表视图的适配器，因为当我单击列表中的项目时，我想访问 Overlayitems 附带的地理点。

然而，这个解决方案给出了一个相当丑陋的列表视图，因为它没有显示 Overlayitems 的不同标题，而是显示类似`OverlayItem@jiozl26`.

有谁知道解决这个问题的最简单方法是什么（既显示标题，又能访问地理点？）我想我应该使用自定义列表视图来做到这一点，但我不确定这是最简单/最有效的方式。

```
adapter = new ArrayAdapter<OverlayItem>(this, android.R.layout.simple_list_item_1, custom.pinpoints);
        listView.setAdapter(adapter); 
```

`==>`整个代码：

```
public class Main extends MapActivity implements OnTabChangeListener{
    /** Called when the activity is first created. */
    private static final String LIST_TAB_TAG = "List";
    private static final String MAP_TAB_TAG = "Map";

    MapView map;
    ListView listView;

    TabHost tabHost;

    long start;
    long stop;
    int x, y;

    MyLocationOverlay compass;
    MyLocationOverlay MyLoc;
    MapController controller;

    GeoPoint touchedPoint;
    Drawable d;
    List<Overlay> overlayList;
    CustomPinpoint custom;

    static Context context;
    ArrayAdapter<OverlayItem> adapter;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.activity_main);

        tabHost = (TabHost) findViewById(android.R.id.tabhost);
        tabHost.setup();

        context = getApplicationContext();

        listView = (ListView) findViewById(R.id.list);
        listView.setEmptyView((TextView) findViewById(R.id.empty));
        d = getResources().getDrawable(R.drawable.ic_launcher);
        custom = new CustomPinpoint(d,Main.this);
        listView.setLongClickable(true);
        adapter = new ArrayAdapter<OverlayItem>(this, android.R.layout.simple_list_item_1, custom.pinpoints);
        listView.setAdapter(adapter);
        listView.setOnItemClickListener(new OnItemClickListener() {
            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                GeoPoint geoPoint = ((OverlayItem) listView.getAdapter().getItem(position)).getPoint();
                if(geoPoint != null) {

                    map.getController().animateTo(geoPoint);

                    tabHost.setCurrentTab(1);
                        }
                    }
            });

        listView.setOnItemLongClickListener(new OnItemLongClickListener() {

            public boolean onItemLongClick(AdapterView<?> parent, View view, final int position, long id) {
                final AlertDialog alert3 = new AlertDialog.Builder(Main.this).create();     
                alert3.setTitle("Pick an option.");
                alert3.setButton(DialogInterface.BUTTON_POSITIVE,"Cancel", new DialogInterface.OnClickListener() {
                    public void onClick(DialogInterface dialog, int which) {
                        // TODO Auto-generated method stub

                    }
            });
                alert3.setButton(DialogInterface.BUTTON_NEUTRAL,"Modify", new DialogInterface.OnClickListener() {

                    public void onClick(DialogInterface dialog, int which) {
                        // TODO Auto-generated method stub
                        LayoutInflater factory = LayoutInflater.from(context);
                        View promptsView = factory.inflate(R.layout.prompts, null);

                        final AlertDialog alert4 = new AlertDialog.Builder(Main.this).create();
                        alert4.setView(promptsView);
                            final EditText userInput1 = (EditText) promptsView.findViewById(R.id.editTextInput1);
                            final EditText userInput2 = (EditText) promptsView.findViewById(R.id.editTextInput2);
                            userInput1.setInputType(InputType.TYPE_CLASS_TEXT);
                            userInput1.setCursorVisible(true);
                            userInput2.setInputType(InputType.TYPE_CLASS_TEXT);
                            userInput2.setCursorVisible(true);
                            alert4.setButton (DialogInterface.BUTTON_NEGATIVE,"Save", new DialogInterface.OnClickListener() {

                                            public void onClick(DialogInterface dialog, int whichButton) {
                                                    custom.modifyPinpoint(userInput1.getText().toString(), userInput2.getText().toString(),position);
                                                    map.postInvalidate(); 
                                                        }
                            });         

                            alert4.setButton(DialogInterface.BUTTON_POSITIVE, "Cancel", new DialogInterface.OnClickListener() {

                                            public void onClick(DialogInterface dialog, int whichButton) {
                                                        }                       
                                });     
                    alert4.show();

                    }
            });
                alert3.setButton(DialogInterface.BUTTON_NEGATIVE,"Delete", new DialogInterface.OnClickListener() {

                        public void onClick(DialogInterface dialog, int which) {
                            custom.deletePinpoint(position);
                            adapter.notifyDataSetChanged();
                        }
                });
        alert3.show();
        return true;
            }
            });

        map = (MapView) findViewById(R.id.mapview);
        map.setBuiltInZoomControls(true);
        map.postInvalidate();

        Touch t = new Touch();
        overlayList = map.getOverlays();
        overlayList.add(t);
        compass = new MyLocationOverlay(Main.this, map);
        overlayList.add(compass);
        controller = map.getController();

        MyLoc = new MyLocationOverlay(Main.this, map);
        overlayList.add(MyLoc);
        map.postInvalidate();
        MyLoc.runOnFirstFix(new Runnable() {
            public void run() {
                map.getController().animateTo(MyLoc.getMyLocation());
                }
        }); 

        tabHost.addTab(tabHost.newTabSpec(LIST_TAB_TAG).setIndicator("List").setContent(new TabContentFactory() {
            public View createTabContent(String arg0) {
                return listView;
            }
        }));
        tabHost.addTab(tabHost.newTabSpec(MAP_TAB_TAG).setIndicator("Map").setContent(new TabContentFactory() {
            public View createTabContent(String arg0) {
                return map;
            }
        }));

        tabHost.setCurrentTab(1);
        tabHost.setCurrentTab(0);

    }

    @Override
    protected void onPause() {
        // TODO Auto-generated method stub
        compass.disableCompass();
        super.onPause();
        MyLoc.disableMyLocation();
        finish();
    }

    @Override
    protected void onResume() {
        // TODO Auto-generated method stub
        compass.enableCompass();
        super.onResume();
        MyLoc.enableMyLocation();

    }

    @Override
    protected boolean isRouteDisplayed() {
        // TODO Auto-generated method stub
        return false;
    }

    class Touch extends Overlay {
        public boolean onTouchEvent(MotionEvent e, MapView m) {
            if (e.getAction() == MotionEvent.ACTION_DOWN) {
                start = e.getEventTime();
                x = (int) e.getX();
                y = (int) e.getY();
                touchedPoint = map.getProjection().fromPixels(x, y);    
                        }
            if (e.getAction() == MotionEvent.ACTION_UP) {
                stop = e.getEventTime();
                        }
            if (stop - start > 1200) {
                final AlertDialog alert = new AlertDialog.Builder(Main.this).create();
                alert.setTitle("Pick an option.");
                alert.setButton(DialogInterface.BUTTON_POSITIVE,"Place a pinpoint.", new DialogInterface.OnClickListener() {

                                public void onClick(DialogInterface dialog, int which) {

                                    LayoutInflater factory = LayoutInflater.from(context);
                                    View promptsView = factory.inflate(R.layout.prompts, null);

                                    final AlertDialog alert2 = new AlertDialog.Builder(Main.this).create();
                                    alert2.setView(promptsView);
                                        final EditText userInput1 = (EditText) promptsView.findViewById(R.id.editTextInput1);
                                        final EditText userInput2 = (EditText) promptsView.findViewById(R.id.editTextInput2);
                                        userInput1.setInputType(InputType.TYPE_CLASS_TEXT);
                                        userInput1.setCursorVisible(true);
                                        userInput2.setInputType(InputType.TYPE_CLASS_TEXT);
                                        userInput2.setCursorVisible(true);
                                        alert2.setButton (DialogInterface.BUTTON_NEGATIVE,"Save", new DialogInterface.OnClickListener() {

                                                        public void onClick(DialogInterface dialog, int whichButton) {
                                                                OverlayItem overlayItem = new OverlayItem(touchedPoint, userInput1.getText().toString(), userInput2.getText().toString());
                                                                custom.insertPinpoint(overlayItem);
                                                                overlayList.add(custom);
                                                                map.postInvalidate(); 
                                                                    }
                                            });         

                                        alert2.setButton(DialogInterface.BUTTON_POSITIVE, "Cancel", new DialogInterface.OnClickListener() {

                                                        public void onClick(DialogInterface dialog, int whichButton) {
                                                                    }                       
                                            });     
                                alert2.show();
                                }
                });  

                alert.setButton(DialogInterface.BUTTON_NEUTRAL,"Get address.",new DialogInterface.OnClickListener() {

                                public void onClick(DialogInterface dialog,int which) {
                                // TODO Auto-generated method stub

                                    Geocoder geocoder = new Geocoder(getBaseContext(), Locale.getDefault());
                                        try{

                                                List<Address> address = geocoder.getFromLocation(touchedPoint.getLatitudeE6() /1E6, touchedPoint.getLongitudeE6()/1E6, 1);                          

                                                if (address.size() > 0){
                                                    String display = "";                                                
                                                    for (int i = 0; i < address.get(0).getMaxAddressLineIndex(); i++){

                                                        display += address.get(0).getAddressLine(i) + "\n";
                                                        }               
                                                    Toast t3 = Toast.makeText(getBaseContext(), display, Toast.LENGTH_LONG);
                                                    t3.show();
                                                }

                                        } catch (IOException e) {
                                            // TODO Auto-generated catch block
                                            e.printStackTrace();
                                        }finally{

                                        }

                            }
                });

                alert.setButton(DialogInterface.BUTTON_NEGATIVE,"Toggle View", new DialogInterface.OnClickListener() {

                                public void onClick(DialogInterface dialog, int which) {
                                    // TODO Auto-generated method stub

                                        if (map.isSatellite()){
                                            map.setSatellite(false);

                                            }else{

                                            map.setSatellite(true);
                                            }

                                }
                });
                alert.show();
                return true;
            }
            return false;
        }
    }

     public void gpsCurrentLocation()
     {

         tabHost.setCurrentTab(1);
         GeoPoint p = MyLoc.getMyLocation();
         if (p == null){
             Toast.makeText(Main.this, "Your location wasn't found.", Toast.LENGTH_SHORT).show();
         }
         else{
         map.getController().animateTo(p);
         }

     }

    // Menu XML file (menu.xml)
    @Override
     public boolean onCreateOptionsMenu(Menu menu)
     {
     MenuInflater menuInflater = getMenuInflater();
    menuInflater.inflate(R.menu.map_main, menu);

               return true;
     }

    @Override
     public boolean onOptionsItemSelected(MenuItem item)
     {

     switch (item.getItemId())
     {
     case R.id.my_location:
     Toast.makeText(Main.this, "Moving To Current location", Toast.LENGTH_SHORT).show();
     gpsCurrentLocation();
     return true;
     case R.id.menu_clear:   
         custom.clearPinpoint();
         adapter.notifyDataSetChanged();

     }

    return false;
     }

    public void onTabChanged(String tabId) {
        // TODO Auto-generated method stub

    } 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:48:58.850

只需覆盖`toString()`您的子类的方法`OverlayItem`即可返回该对象的标题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-23T10:47:59.893

使用自定义数组适配器扩展`ArrayAdapter<OverlayItem>`. 您可以在重写`getView()`方法中定义项目的视图，这样您就可以更好地控制显示的内容和方式。有很多关于如何创建自定义数组适配器的教程。例如参见[https://devtut.wordpress.com/2011/06/09/custom-arrayadapter-for-a-listview-android/](https://devtut.wordpress.com/2011/06/09/custom-arrayadapter-for-a-listview-android/)

您会看到`OverlayItem@jiozl26`，因为 ArrayAdapter 的默认行为是显示`toString()`数组中的每个对象。

# linux - 使用 awk 从文件中读取特定文本

> ID：11610774
> 
> 赞同：1
> 
> 时间：2012-07-23T10:30:20.280
> 
> 标签：linux, bash, shell, sed, awk

我需要使用 awk 从文件中读取一些值，然后需要使用我在 bash 中读取的值。例如，文件的结构将是

```
NICE = -13

LATENCY= 100

WMEM= 4 
```

我需要使用 awk 从文件中读取值 -13、100 和 4，然后在 bash 中使用它们。脚本的结构将是；

```
#!/bin/bash

awk'{}' 
```

然后在脚本中使用此处的值

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:50:49.443

```
values=($(awk 'NF{print $NF}' file)) 
```

这将在 bash 中创建一个数组。该数组包含非空行的所有最后一个标记。您可以访问数组中的值

```
echo ${values[0]} 
```

回显第一个值。注意周围不能有空格`=`

在 awk-Code 中，第一个`NF`过滤掉空行。如果您的文件不包含空行，您可以将其关闭。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-23T10:35:43.060

如果您的输入在其中，请`data.txt`尝试在脚本中运行以下命令：

```
values=`cat data.txt | awk -F '=' '{print $2}' | xargs` 
```

values 变量将包含：-13 100 4

# android - 清除数据时服务停止

> ID：11610775
> 
> 赞同：1
> 
> 时间：2012-07-23T10:30:22.410
> 
> 标签：android

我创建了一个与本地数据库通信的通知服务

当我在应用程序运行时按下设置清除数据按钮时，服务也会停止。但我需要在清理数据库时保持服务运行（用于测试）。这通常会发生吗？

提前致谢

**更新**

我正在使用 IntentService 创建后台服务。发生这种情况时，我正在尝试重新启动服务。我发现从 onStartCommand 返回 START_STICKY 可以重新启动服务。但是在 IntentService 中，它说不要覆盖此方法。有什么办法可以再次感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T12:05:00.523

回复 ::

> 我正在使用 IntentService 创建后台服务。发生这种情况时，我正在尝试重新启动服务。我发现从 onStartCommand 返回 START_STICKY 可以重新启动服务。但是在 IntentService 中，它说不要覆盖此方法。

他们在[这里](http://developer.android.com/reference/android/app/Service.html#onStartCommand%28android.content.Intent,%20int,%20int%29)覆盖了该方法-

# iphone - 从带有字体和 css 的 html 字符串显示 UIWebView

> ID：11610776
> 
> 赞同：0
> 
> 时间：2012-07-23T10:30:25.257
> 
> 标签：iphone, uiwebview

我想从 html 代码中显示一个视图，这是我从 web 视图添加到主视图的代码，

```
- (void) createWebViewWithHTML{
//create the string
NSMutableString *html = [NSMutableString stringWithString: @"<html><head><title></title></head><body style=\"background:transparent;\">"];

//continue building the string
[html appendString:@"body content here"];
[html appendString:@"</body></html>"];

//instantiate the web view
UIWebView *webView = [[UIWebView alloc] initWithFrame:self.view.frame];

//make the background transparent
[webView setBackgroundColor:[UIColor clearColor]];

//pass the string to the webview
[webView loadHTMLString:[html description] baseURL:nil];

//add it to the subview
[self.view addSubview:webView]; 
```

但问题是：1，uiwebview的背景是白色不透明2，我想在我的代码中添加css和自定义字体，请给我一个例子或解决方案或示例代码谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T11:29:11.557

这对我有用： [http ://www.edumobile.org/iphone/iphone-programming-tutorials/impliment-uiwebview-with-a-transparent-background-in-iphone/](http://www.edumobile.org/iphone/iphone-programming-tutorials/impliment-uiwebview-with-a-transparent-background-in-iphone/)

希望能帮助到你！

# asp.net - 特定字段长度和其他条件的自定义验证器

> ID：11610778
> 
> 赞同：0
> 
> 时间：2012-07-23T10:30:28.907
> 
> 标签：asp.net, validation

我有一个文本框，它的规则是文本长度不应少于 8 个字符，并且至少应包含一个数字字符。如果不满足上述条件，我有一个自定义验证控件来显示错误消息。

请让我知道如何做到这一点。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:49:09.547

```
function varFunction()
{
   var myLength = $("#myTextbox").val().length;
   if(myLength > 8)
   {
      alert('more than 8 characters');
   }
} 
```

长度不超过 8 个字符的代码

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:41:31.800

您可以考虑使用密码强度扩展器（假设您需要将其用于密码字段，但即使在其他情况下也可以使用此想法）。[在此处](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/PasswordStrength/PasswordStrength.aspx)查看演示。

如果要编写自定义验证器，请获取文本框中的值；然后检查文本的大小并验证它是否有数字。*记住也要编写一个服务器端验证方法。*

您还可以使用**正则表达式**来确定输入文本的有效性 - 查看[这篇](http://www.zorched.net/2009/05/08/password-strength-validation-with-regular-expressions/)文章以了解如何。

这些应该让你开始。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-24T05:40:52.417

请尝试以下

```
function test()
      {
       var str = $('#txtTest').val();
       var isValid = false;
       var cnt = 0;
       if(str.length >= 8)
       {
         for(var i=0; i < str.length; i++) 
         {
           if (isNumber(str.charAt(i)) == true)
           {
             cnt = cnt + 1;
           }
         }
       }
       if (cnt > 0)
       {
        isValid = true;
       }
       return isValid;
      }
      function isNumber(n) 
      {
        return !isNaN(parseFloat(n)) && isFinite(n);
      } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-24T06:11:00.047

在自定义验证器上，您需要使用正则表达式来满足您的要求。

正则表达式应该是：-

```
^(?=.*\d)(?=.*[a-zA-Z]).{8,} 
```

# javascript - CompositeView和ItemView，如何处理两个视图和模板？

> ID：11610779
> 
> 赞同：3
> 
> 时间：2012-07-23T10:30:30.773
> 
> 标签：javascript, backbone.js, marionette

我有以下 CompositeView(1)。
我想知道对于 MyCollection 的每个模型，渲染两个模板和视图以制作类似的东西的最佳方法是什么（2）。

* * *

(1)

```
var MyCompositeView = Marionette.CompositeView.extend({

    template: myTemplate,

    itemView: myView,

    collection: new MyCollection(),

    initialize: function () {
        this.collection.fetch();
    },

    appendHtml: function (collectionView, itemView) {
        collectionView.$el.find('ul').append(itemView.el);
    }

}); 
```

* * *

(2)

```
 appendHtml: function (collectionView, itemView1, itemView2) {
        collectionView.$el.find('ul').append(itemView1.el);
        itemView.$el.append(itemView2.el);
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T12:25:19.010

实现目标的另一种方法，结果应该是相同的，是定义`onRender funciton`在`Marionette.ItemView`：

您的代码`Marionette.ItemView`应如下所示：

```
 onRender: function () {
        var itemView2 = new ItemView2();

        itemView2.render();
        this.$el.append(itemView2.$el);
    } 
```

# javascript - SlickGrid：使用 DataView 而不是原始数据的简单示例？

> ID：11610781
> 
> 赞同：12
> 
> 时间：2012-07-23T10:30:36.030
> 
> 标签：javascript, jquery, datagrid, slickgrid

我正在使用 SlickGrid，将数据从 Ajax 调用直接绑定到网格。目前它运行良好，网格动态更新并且可排序，我正在为一列使用自定义格式化程序：

```
var grid;
var columns = [{
  id: "time",
  name: "Date",
  field: "time"
},
{
  id: "rating",
  name: "Rating",
  formatter: starFormatter // custom formatter 
}
];
var options = {
  enableColumnReorder: false,
  multiColumnSort: true
};
// When user clicks button, fetch data via Ajax, and bind it to the grid. 
$('#mybutton').click(function() {
  $.getJSON(my_url, function(data) {
    grid = new Slick.Grid("#myGrid", data, columns, options);
  });
}); 
```

但是，我想根据数据的值将一个类应用于网格中的行，所以看来我[需要使用 DataView 代替](https://stackoverflow.com/questions/8930167/how-do-i-add-a-css-class-to-particular-rows-in-slickgrid)。这[SlickGrid wiki 上](http://mleibman.github.com/SlickGrid/examples/example4-model.html)DataView 示例相当复杂，并且有各种额外的方法。

请有人解释一下我如何简单地转换`data`为`DataView`- 最初和 Ajax 重新加载 - 同时让网格可排序，并继续使用我的自定义格式化程序？（我不需要知道如何应用该类，只需要知道如何使用 DataView。）

我希望它是`.getJSON`通话中的一两行额外的行，但我担心它可能比这更复杂。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-07-23T11:19:24.463

关键部分是使用作为数据源的数据视图初始化网格，连接事件以便网格响应数据视图中的更改，最后将数据提供给数据视图。它应该看起来像这样：

```
dataView = new Slick.Data.DataView();
grid = new Slick.Grid("#myGrid", dataView, columns, options);

// wire up model events to drive the grid
dataView.onRowCountChanged.subscribe(function (e, args) {
  grid.updateRowCount();
  grid.render();
});

dataView.onRowsChanged.subscribe(function (e, args) {
  grid.invalidateRows(args.rows);
  grid.render();
});

// When user clicks button, fetch data via Ajax, and bind it to the dataview. 
$('#mybutton').click(function() {
  $.getJSON(my_url, function(data) {
    dataView.beginUpdate();
    dataView.setItems(data);
    dataView.endUpdate();
  });
}); 
```

请注意，您不需要每次都创建新网格，只需将数据绑定到数据视图即可。

如果要实现排序，还需要在网格接收到排序事件时告诉数据视图进行排序：

```
grid.onSort.subscribe(function (e, args) {
  sortcol = args.sortCol.field;  // Maybe args.sortcol.field ???
  dataView.sort(comparer, args.sortAsc);
});

function comparer(a, b) {
  var x = a[sortcol], y = b[sortcol];
  return (x == y ? 0 : (x > y ? 1 : -1));
} 
```

（此基本排序取自 SlickGrid 示例，但您可能想要实现一些本土的东西；例如，不使用全局变量）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-24T22:09:37.713

以下内容很好地解释了 dataView：[https ://github.com/mleibman/SlickGrid/wiki/DataView](https://github.com/mleibman/SlickGrid/wiki/DataView)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-11T07:31:47.907

multiColumnSort: true ==> sortCol 类型：数组。
multiColumnSort: false ==> sortCol 类型：对象。

# php - 使数据库操作和发送电子邮件成为一个事务

> ID：11610783
> 
> 赞同：1
> 
> 时间：2012-07-23T10:30:55.350
> 
> 标签：php, mysql, email

我有一个预订酒店的网站。预订成功后，将向客户发送一封电子邮件。我这样做如下：

```
- Update table "booking"
- Check the result
   + If true, send email
   + Else return error 
```

但是，如果没有发送电子邮件怎么办？已插入数据库但未发送电子邮件。这使得预订操作不正确。**如何进行数据库操作和发送电子邮件交易**？有什么简单的方法吗？A 和 B 必须成功或都不成功。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-23T10:42:22.407

严格意义上的事务不能在数据库**内部**和数据库**之外**扩展某些东西。所以我们必须将“交易”重新定义为，要么所有操作都失败，要么全部成功。

这是一个想法：

*   启动数据库事务
    *   更新表“预订”
    *   将撤消记录写入表中，状态为“已更新，未发送”。这需要有一些 ID，可用于撤消预订
*   提交数据库事务
*   如果失败，退出（无需回滚）

*   发送电子邮件

*   如果一切顺利
    *   删除撤消记录
    *   返回“成功”
*   别的
    *   使用撤消记录撤消预订
    *   删除撤消记录
    *   返回“错误”

有两点需要理解：

*   在操作系统崩溃、断电等情况下，您必须手动检查撤消表并将其与邮件服务器日志进行比较：崩溃可能发生在邮件刚刚失败或邮件刚刚发送但未记录的情况下
*   **最重要的是**：我还没有看到一个快速的机制，它可靠地告诉我们是否已经发送了一封电子邮件。**我的意思是真的发送，而不是在某个地方排队**

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-23T10:34:08.747

如果您使用 InnoDB，则可以使用数据库事务：

伪代码：

```
Start DB transaction
Update table "booking"
Check the result
If true, send email
If email sends, commit your transaction
Else rollback your transaction, and return error 
```

此处有关交易的更多信息：http: [//dev.mysql.com/doc/refman/5.0/en/commit.html](http://dev.mysql.com/doc/refman/5.0/en/commit.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-23T10:37:03.947

> 但是，如果没有发送电子邮件怎么办？已插入数据库但未发送电子邮件。这使得预订操作不正确。如何进行数据库操作和发送邮件交易？有什么简单的方法吗？A 和 B 必须成功或都不成功。

好吧，我想说：开始一个事务，将数据输入数据库并测试是否成功。如果成功，请发送电子邮件。如果数据输入和电子邮件发送都成功，则提交事务。如果其中任何一个都不成功，则回滚事务。

那就是说；没有可靠的方法来确定电子邮件是否已成功发送到电子邮件地址。您可以检查接受服务器的 SMTP 状态代码，但这并不能保证您的电子邮件以后不会被退回。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-23T10:40:15.293

`status_flag DEFAULT 0`您可以通过在主表上添加额外的列来实现这一点

脚步：

```
1\. Update table "booking" SET col1 = val1, status_flag = 1 WHERE tr_id = "abc"

2\. Send Email

3\. Update table "booking" SET status_flag = 2 WHERE tr_id = "abc" 
```

因此，如果您在预订表中找到任何`status_flag`值为 1 的记录，那么这些记录可能是发送电子邮件失败的记录。

因此，您可以从同一脚本重新发送电子邮件，也可以添加另一个 cron-job 脚本来识别失败的条目并采取相应的措施。

# iphone - 将图像部分转换为黑白效果

> ID：11610786
> 
> 赞同：1
> 
> 时间：2012-07-23T10:31:10.773
> 
> 标签：iphone, ios, cgcontext, uicolor, cgcolor

我有一张图像，我想在其中添加黑白效果，但仅限于某些部分。例如。当目标余额为 0 美元时，图像为 100% 灰色。图像颜色将以与储蓄目标的当前余额相同的百分比增加。例如，如果储蓄总额为 15000 美元，但储蓄余额为 7500 美元，则只有 50% 的图像是彩色的，另外 50% 是灰色的。我知道如何完全转换黑白图像，但不知道如何将图像部分转换为黑白阴影。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T10:33:48.847

一些简单的方法是创建图像的副本，根据百分比对其进行裁剪，将其转换为黑白，然后将其覆盖在另一张图像上

[如何裁剪图像的链接](https://stackoverflow.com/questions/158914/cropping-a-uiimage)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T11:52:47.137

You want to use Core Image. Essentially you will use your current image as the input to the core image filter, employ a black and white filter, and control the filter so that the image can go from completely color to completely B&W.

So find the Core Image info on the developer site, and then look at the 100 or so filters Apple provides - I'm pretty sure one of them already does what you want.

# java - java 属性文件对一个属性使用多行

> ID：11610789
> 
> 赞同：43
> 
> 时间：2012-07-23T10:31:18.510
> 
> 标签：java, spring, properties

我将 sql 存储在属性文件中并使用 spring 注入它，这很有效：

```
someSQL = select result from myTable where y = 2 and x = ? order by z 
```

但为了便于阅读，我想要这个：

```
 someSQL = select result 
              from myTable 
              where y = 2  
              and x = ? 
              order by z 
```

我需要使用的正确文本格式是什么？

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2012-07-23T10:32:38.273

在行尾使用 \ 就像

```
 someSQL = select result \
              from myTable \
              where y = 2  \
              and x = ? \
              order by z 
```

此外，请注意任何尾随空格，因为 Java 在组合行时会查找连续的反斜杠+换行符。

换句话说：反斜杠必须是换行前的最后一个字符。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-07-23T10:34:20.327

您添加 \（斜杠）以继续到下一行。属性文件将是这样的 -

```
prop1=first line of prop1 \
second line of prop1\
third line of prop1
prop2=first line of prop2 \n \
second line of prop2 \n \
third line of prop2 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2018-07-26T10:53:13.613

使用**\ 换行**，并确保每个\**之前有一个空格**

```
 someSQL = select result \
              from myTable \
              where y = 2  \
              and x = ? \
              order by z \ 
```

**如果没有给出一个空格，输出将是这样的**

```
 someSQL = select result\
              from myTable\
              where y = 2\
              and x = ?\
              order by z\
    someSQL=select resultfrom myTablewhere y = 2and x = ?order by z 
```

**这将导致**

**Java级别：** `java.sql.SQLSyntaxErrorException`

和**数据库级别** `Missing Keyword`

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2017-07-18T15:39:43.243

实际上很重要的一点是，**在“\”之后一定不能是任何东西，甚至不能是一个空格**！

# spring - xmlns定义在spring配置文件中有什么区别

> ID：11610790
> 
> 赞同：5
> 
> 时间：2012-07-23T10:31:22.883
> 
> 标签：spring, spring-mvc

学习Spring我在spring配置文件中发现了两种xmlns的定义。一个从这个开始：

```
 <beans xmlns="http://www.springframework.org/schema/beans" 
```

我在春季[文档中找到的](http://static.springsource.org/spring/docs/3.0.x/reference/xsd-config.html)

另一个从这个开始：

```
 <beans:beans  xmlns="http://www.springframework.org/schema/mvc" 
```

两者都工作正常。我观察到的一个区别是，如果您使用第二个定义，则必须以名称 beans 开始所有标签，如下所示：

```
<beans:import resource="hibernate-context.xml" /> 
```

否则可以写成

```
 <import resource="hibernate-context.xml" /> 
```

它们有什么主要区别？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-23T11:42:09.937

这不是 Spring 特有的，而是更多关于 XML 和命名空间的 - 参考在这里：[http://www.w3schools.com/xml/xml_namespaces.asp](http://www.w3schools.com/xml/xml_namespaces.asp)，[http://en.wikipedia.org/wiki/XML_namespace](http://en.wikipedia.org/wiki/XML_namespace)

总结一下：首先

```
<beans xmlns="http://www.springframework.org/schema/beans" 
```

使 beans 模式成为这个 xml 文件的默认值，这将允许在没有命名空间前缀的情况下引用这个 beans 模式中的元素。那么这个模式在哪里定义 - 对模式的引用通常包含在 schemaLocations 属性中，如下所示 -

```
xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd" 
```

上面说的是[http://www.springframework.org/schema/beans](http://www.springframework.org/schema/beans)的定义存在于对应的 .xsd 文件中

在你的第二个例子中 -

```
<beans:beans  xmlns="http://www.springframework.org/schema/mvc" xmlns:beans="http://www.springframework.org/schema/beans" 
```

您现在将 mvc 命名空间定义为默认命名空间，因此在这种情况下，可以在没有任何前缀的情况下引用 mvc 架构中的任何元素，但是如果您想引用 beans 架构中的任何元素，则必须引用它使用示例中的`beans:`前缀`beans:import`

# sql - 需要有关 DB2 “call @some.thing(?,?)” 语法的帮助

> ID：11610794
> 
> 赞同：0
> 
> 时间：2012-07-23T10:31:44.033
> 
> 标签：sql, stored-procedures, db2

我刚刚开始了一份新工作。我需要同时了解很多有趣的事情。现在，了解如何从程序调用的 DB2 对象中获取一些信息对我很有帮助

```
call @some.thing(?,?) 
```

我试过了：

```
select text from some.routines where routinename = 'thing' 
select PROCNAME,TEXT from SYSIBM.SYSPROCEDURES 
select text from syscat.routines where routinename = 'thing' 
```

但每次我得到类似的东西：

```
some.ROUTINES IS AN UNDEFINED NAME. SQLCODE=-204, SQLSTATE=42704,
DRIVER=4.8.86 
SYSCAT.ROUTINES IS AN UNDEFINED NAME. SQLCODE=-204,
SQLSTATE=42704, DRIVER=4.8.86 
SYSIBM.SYSPROCEDURES IS AN UNDEFINED
NAME. SQLCODE=-204, SQLSTATE=42704, DRIVER=4.8.86 
```

虽然`call @some.thing(?,?)`在 WID 的数据库开发视图中成功执行，但我在创建时找不到合适的对象`JDBC outbound import`.

预先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-24T04:26:29.673

您在哪个平台上运行 DB2？

如果你在 Linux/Unix/Windows (LUW) 上，那么你应该使用[`SYSCAT.SYSROUTINES`](http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/topic/com.ibm.db2.luw.sql.ref.doc/doc/r0001045.html)（虽然你已经提到这个不起作用，所以我猜不是它）。

对于 Mainframe DB2，您正在寻找[`SYSIBM.SYSROUTINES`](http://publib.boulder.ibm.com/infocenter/dzichelp/v2r2/topic/com.ibm.db2z9.doc.sqlref/src/tpc/db2z_sysibmsysroutinestable.htm).

如果您使用 iSeries，您可能想要[`SYSROUTINES`](http://publib.boulder.ibm.com/infocenter/iseries/v5r4/index.jsp?topic=/db2/rbafzmstcatalogtbls.htm)（尽管我对 iSeries 不太熟悉）。

# jquery - 使用 jQuery UI datepicker 选择日期时触发函数

> ID：11610797
> 
> 赞同：59
> 
> 时间：2012-07-23T10:31:47.980
> 
> 标签：jquery, events, datepicker

当我在 jQuery UI datepicker 上选择一个选定的日期时，如何触发 onSelect 事件？

* * *

## 回答 #1

> 赞同：104
> 
> 时间：2012-07-23T10:36:35.077

**工作演示**：http: [//jsfiddle.net/YbLnj/](http://jsfiddle.net/YbLnj/)

文档：http: [//jqueryui.com/demos/datepicker/](http://jqueryui.com/demos/datepicker/)

**代码**

```
$("#dt").datepicker({
    onSelect: function(dateText, inst) {
        var date = $(this).val();
        var time = $('#time').val();
        alert('on select triggered');
        $("#start").val(date + time.toString(' HH:mm').toString());

    }
}); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-07-23T10:37:09.703

使用以下代码：

```
$(document).ready(function() {
    $('.date-pick').datepicker( {
     onSelect: function(date) {
        alert(date)
     },
    selectWeek: true,
    inline: true,
    startDate: '01/01/2000',
    firstDay: 1,
  });
}); 
```

您可以自己调整参数:-)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-07-23T10:43:30.097

如果您还对用户关闭日期选择对话框而不选择日期（在我的情况下选择不选择日期也有意义）的情况感兴趣，您可以绑定到`onClose`事件：

```
$('#datePickerElement').datepicker({
         onClose: function (dateText, inst) {
            //you will get here once the user is done "choosing" - in the dateText you will have 
            //the new date or "" if no date has been selected             
      }); 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2017-08-27T13:25:11.263

```
$(".datepicker").datepicker().on("changeDate", function(e) {
   console.log("Date changed: ", e.date);
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-23T10:37:06.700

如果日期选择器在网格的一行中，请尝试类似

```
editoptions : {
    dataInit : function (e) {
        $(e).datepicker({
            onSelect : function (ev) {
                // here your code
            }
        });
    }
} 
```

# java - 无法使用 XMLRPC 使用 sales_order.list 获取销售数据

> ID：11610800
> 
> 赞同：0
> 
> 时间：2012-07-23T10:32:03.830
> 
> 标签：java, android, api, magento, xml-rpc

我不知道我调用`sales_order.list`Magento Store 方法的方式有什么问题。我从 Magento Store 得到的响应为零。实际上，Store 包含 5 个销售订单。
我使用的代码如下。
请有人帮助我，因为这是一个长期的问题，我无法找到它的解决方案。在此先感谢。

```
import java.util.HashMap;
import org.xmlrpc.android.XMLRPCClient;
import org.xmlrpc.android.XMLRPCException;
import android.app.Activity;
import android.content.Context;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.Toast;

    public class Dashboard extends Activity{
    Button loadProductList,loadSalesOrders;
    XMLRPCClient client;
    private Context mContext;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.dashboard);
        client = new XMLRPCClient( "http://192.168.1.237/machinetest/index.php/api/xmlrpc");
        mContext=Dashboard.this;
        loadSalesOrders();
      }     

   public void loadSalesOrders()
    {
        Object[] productsGroupList = {" "};
        try 
        {
            productsGroupList = (Object[])client.callEx( "call", new Object[] {Utils.sessionId,  "sales_order.list"});
        }   
        catch (XMLRPCException e) {e.printStackTrace();}
        Toast.makeText(mContext, productsGroupList.toString(), Toast.LENGTH_LONG).show();
        for(Object o :productsGroupList) 
        {
        Log.i( "**APP_INFO", o.getClass().getName());
            HashMap map = (HashMap)o;
            Log.i( "Products Keys", "Keys"+map.keySet().toString()); 

        }
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-24T05:29:16.897

我正在使用相同的代码，它对我有用。你得到正确的会话 ID 了吗？

XMLRPC 库中可能存在一些问题。[以下](http://code.google.com/p/android-xmlrpc/issues/detail?id=19)是 XMLRPC 库的两个更新类：`XMLRPCSerializer.java` 和`IXMLRPCSerializer.java`. 在代码中替换这两个文件，它将起作用。

```
 String sessionId = "";
    client = new XMLRPCClient(URL);
    try {
        sessionId = (String)client.call("login", "tester", "tester");
        Log.d("MY_XMLRPC_SUCCESS_SESSION_ID", sessionId);
    }
    catch (XMLRPCException e) {
        Log.d("MY_XMLRPCException_MSG", e.getMessage());
    }

    Object[] customerOrderList = null;           
    try {
        customerOrderList = (Object[])client.callEx("call", new Object[]{sessionId, "sales_order.list"});
    } catch (Exception e) {
        Log.d("APP_INFO", "Exception: " + e.getMessage());
    } 
```

# ruby-on-rails - Rails 加密：danpal/attr_encryptor 密钥生成

> ID：11610801
> 
> 赞同：1
> 
> 时间：2012-07-23T10:32:09.527
> 
> 标签：ruby-on-rails, attr-encrypted

使用 attr_encrypted 的 danpal 分支。

```
attr_encrypted  :col_int, :key => 'key', :if => :encryption_required, :marshall => true 
```

' 字符串是否`'key`生成带有新会话的新对象？由于我遇到了一个问题，我创建了一个具有加密值的实例并且它工作正常。但是，当我运行一个新的 rails 控制台会话或例如尝试通过视图访问该值时，我得到一个`bad decrypt`错误。我猜这与使用不正确的密钥有关？如在新会话中会传递不同的字符串对象作为键吗？

有没有办法避免这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-24T11:43:23.127

问题在于没有阅读文档，需要额外的`col_int_salt`和`col_int__iv`列

# java - 带有日期参数的 TimeZone 和 MessageFormat

> ID：11610802
> 
> 赞同：6
> 
> 时间：2012-07-23T10:32:10.150
> 
> 标签：java, spring, date-format, simpledateformat, messageformat

MessageFormat 类很酷，因为我们可以插入参数并直接使用它进行格式化。这使我能够轻松地直接在消息包属性文件中覆盖日期格式。

举个例子：

```
MessageFormat.format("Test inserting a date param here: {0,date,dd/MM/yyyy HH'h'mm} -> OK cool", new Date() ); 
```

但是如果我需要在不同的时区显示日期怎么办？

我知道我可以在将所有日期注入我的捆绑包之前对其进行格式化，但是格式化显示的每个日期很痛苦......

* * *

我们在工作中使用

> org.springframework.context.support.ReloadableResourceBundleMessageSource

我可能会尝试覆盖它并创建我自己的 MessageFormat 来考虑使用好的时区。但它可能不适合我们的架构。

你还有其他选择吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-28T09:32:20.007

我只是在看同样的问题。这个解决方案看起来很有趣：[https ://groups.google.com/d/msg/comp.lang.java.programmer/1AJIpwtn5HA/zd3Sw8IJrTQJ](https://groups.google.com/d/msg/comp.lang.java.programmer/1AJIpwtn5HA/zd3Sw8IJrTQJ)

```
public class Format {
  public static void main(String argv[]) {
    MessageFormat mf = new MessageFormat("The time is: {0, time, HH:mm}");

    TimeZone tz = TimeZone.getTimeZone("GMT");
    Object [] formats = mf.getFormats();
    for (int i = 0; i < formats.length; i++) {
        if (formats[i] instanceof SimpleDateFormat) {
            ((SimpleDateFormat)formats[i]).setTimeZone(tz);
        }
    }
    Date date = new Date();
    Object [] args = {date};
    System.out.println(mf.format(args));
  }
} 
```

想法是检查 MessageFormat 中的解析格式，并将 TimeZone 设置为日期格式。

# authentication - Trac Wiki - XMLRpc

> ID：11610804
> 
> 赞同：0
> 
> 时间：2012-07-23T10:32:25.540
> 
> 标签：authentication, wiki, xml-rpc, trac

我工作的公司有一个基于 Trac 的 wiki。

我创建了这个程序，它允许用户生成 wiki 页面的更新版本。

该程序有效并且页面已更新，但在历史记录中 - 用户是匿名的。

我在安装了相同 trac 的另一台服务器上进行了所有测试，在历史记录中，有关于用户的信息（非匿名）

我使用以下代码写入 wiki

```
wiki.putPage(getPageName(), newResult.toString(), h); 
```

这是我的验证码：

```
 Wiki wiki = null;

    XmlRpcClientConfigImpl conf = new XmlRpcClientConfigImpl();

    setAuthentication(conf, login, password);
    XmlRpcClient client = new XmlRpcClient();
    client.setConfig(conf); 
```

你知道为什么它把页面写成匿名用户吗？

谢谢您的回复

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-26T20:20:52.703

Your question did not include information about the URL used, but most likely you are not using a URL that challenges for authentication. A Trac instance is typically configured to just challenge for authentication at the `/login` URL, so your RPC call needs to use the `<tracproject>/login/rpc` URL (and not just `<tracproject>/rpc`).

# android - 如何使用 XML 布局作为可绘制图像

> ID：11610809
> 
> 赞同：5
> 
> 时间：2012-07-23T10:32:37.590
> 
> 标签：android, gallery

我想添加一个XML`Layout`为`drawable image`. `GalleryView`可能吗？这是场景，我`Layout`的应用程序中有一个。我想为我的画廊使用图像，这些图像看起来与 XML 完全一样`layout`（但背景和其他一些视图颜色会有所不同）。因此，我不想为画廊创建多个图像，而是想`drawables`在画廊视图中使用这些 xml 布局。可能吗，？如果是这样怎么做？请帮助我的朋友。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:40:24.247

看到我已经创建了这样的 XML

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">

<item android:drawable="@drawable/always_over" android:state_enabled="false"/>
<item android:drawable="@drawable/always_over" android:state_enabled="true" android:state_pressed="true"/>
<item android:drawable="@drawable/always_over" android:state_enabled="true" android:state_focused="true"/>
<item android:drawable="@drawable/always" android:state_enabled="true"/>

</selector> 
```

然后在 Button 中设置

```
 <Button
        android:id="@+id/btnAlways"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/always_xml" /> 
```

# c# - 传递给回调未更新的值

> ID：11610812
> 
> 赞同：0
> 
> 时间：2012-07-23T10:32:47.340
> 
> 标签：c#, asynchronous, callback, begininvoke, iasyncresult

使用*IAsyncResult*模式，我正在实现异步操作。

我的调用开始的签名是：

```
object[] data = new object[] {field1,field2};

AsyncSendMessageToSystem caller = SendMessageToSystem;
caller.BeginInvoke(field1,field2,field3, new AsyncCallback(callbackMethod),data); 
```

**调用callbackMethod**时，它具有**数据**对象作为输入。**field1** var 旨在在 SendMessageToSystem 内部进行修改，**但**callbackMethod**将**接收原始值，而不会收到更新的值。

我怎样才能通过回调更新的值？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T20:35:32.100

您是否验证了回调方法是否正在接收原始值？这样做的方式是您的回调方法获取对 object 的引用`data`，因为`object[]`它是一个引用类型。您需要确保在`field1`调用回调之前进行修改。

# sql - Oracle SQL where regexp_like and not like

> ID：11610815
> 
> 赞同：1
> 
> 时间：2012-07-23T10:33:10.883
> 
> 标签：sql, oracle, oracle-sqldeveloper

我想查询一个我正在与正则表达式进行比较的表，然后在这些结果中我想过滤掉任何以 999 开头的结果

这是我的查询，但这没有返回结果：

```
Select * FROM my_table 
WHERE REGEXP_LIKE(my_row, '[a-zA-Z]') 
AND my_row NOT LIKE '999%' 
```

有什么想法我会出错吗？我知道我应该得到几个结果。

示例日期如下...

```
my_row
______

12345
45673
G12354
1234B
999RT 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T10:41:05.820

鉴于此测试数据：

```
create table my_table (id number, my_row varchar2(10));

insert into my_table values (1, '7878')
/
insert into my_table values (2, 'THIS')
/
insert into my_table values (3, 'and this')
/
insert into my_table values (4, '999NOTthis')
/ 
```

您的查询返回以下结果：

```
ID     MY_ROW
--     ------
2      THIS
3      and this 
```

这是[一个 SQL Fiddle 来证明它](http://sqlfiddle.com/#!4/a5cd2/1)。

这些似乎是我们希望您的逻辑返回的行，因此问题显然出在您的数据中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:49:07.383

给定您的示例数据，此查询：

```
with my_table as (
  select '12345' as my_row from dual union all
  select '45673'           from dual union all
  select 'G12354'          from dual union all
  select '1234B'           from dual union all
  select '999RT'           from dual
)
select * from my_table
where regexp_like(my_row, '[a-zA-Z]') 
and my_row not like '999%' 
```

产量

```
MY_ROW
------
G12354
1234B 
```

所以我可以[支持 APC 的回答](https://stackoverflow.com/a/11610929/521799)，说问题出在其他地方

# android - 单元测试：在哪里跟踪 TextView 的输出结果

> ID：11610816
> 
> 赞同：0
> 
> 时间：2012-07-23T10:33:12.213
> 
> 标签：android, unit-testing, junit

所以我有这个包含 3 个元素的测试活动：TextView、EditText、Button。当用户单击按钮时，Activity 会将 EditText 中的文本转换为 TextView 中的某些文本。

问题是：我如何为此类活动编写单元测试？

我的问题：我应该在一个线程中的一个按钮上“单击”（.performClick），但在另一个线程中异步等待，但这会破坏单元测试的逻辑，因为它会运行以“test”前缀开头的每个测试并将测试标记为“好的”，如果没有不成功的断言。

单元测试代码：

```
public class ProjectToTestActivityTest extends ActivityInstrumentationTestCase2<ProjectToTestActivity> {

    private TextView resultView;
    private EditText editInput;
    private Button   sortButton;

    public ProjectToTestActivityTest(String pkg, Class activityClass) {
        super("com.projet.to.test", ProjectToTestActivity.class);
    }

public void onTextChanged(String str)
{
    Assert.assertTrue(str.equalsIgnoreCase("1234567890"));
}

       @Override  
       protected void setUp() throws Exception {  
           super.setUp();  

           Activity activity = getActivity();  
           resultView = (TextView) activity.findViewById(R.id.result);
           editInput = (EditText) activity.findViewById(R.id.editInput);
           sortButton = (Button) activity.findViewById(R.id.sortButton);

       resultView.addTextChangedListener(new TextWatcher() {

        public void afterTextChanged(Editable arg0) {
            onTextChanged(arg0.toString());
        }
           }
       }  

       protected void testSequenceInputAndSorting()
       {
           editInput.setText("1234567890");
           sortButton.performClick();   
       }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T04:59:40.497

假设业务逻辑在应用程序项目下的Activity中正确实现，换句话说，当单击按钮时，将文本从EditText复制到TextView。

### 我如何为此类活动编写单元测试？

```
public void testButtonClick() {

  // TextView is supposed to be empty initially.
  assertEquals("text should be empty", "", resultView.getText());

  // simulate a button click, which copy text from EditText to TextView.
  activity.runOnUiThread(new Runnable() {
    public void run() {
      sortButton.performClick();
    }
  });

  // wait some seconds so that you can see the change on emulator/device.
  try {
    Thread.sleep(3000);
  } catch (InterruptedException e) {
    e.printStackTrace();
  }

  // TextView is supposed to be "foo" rather than empty now.
  assertEquals("text should be foo", "foo", resultView.getText());
} 
```

### 更新：

如果你在主应用代码中不使用线程，主应用中只有 UI 线程，所有 UI 事件（按钮单击、textView 更新等）都在 UI 线程中连续处理，这种连续的 UI 不太可能事件将卡住/延迟超过几秒钟。如果您仍然不太确定，请使用[waitForIdleSync()](http://developer.android.com/reference/android/app/Instrumentation.html#waitForIdleSync%28%29)让测试应用程序等待，直到主应用程序的 UI 线程上没有更多 UI 事件要处理：

```
getInstrumentation().waitForIdleSync();
assertEquals("text should be foo", "foo", resultView.getText()); 
```

但是，`getInstrumentation().waitForIdleSync();`不会等待在您的主应用程序代码中产生的线程，例如，当单击按钮时，它会启动 AsyncTask 进程耗时的作业，并在完成后（例如 3 秒），它会更新 TextView，在这种情况下，您必须使用`Thread.sleep();`才能让您测试应用程序停止并等待，请查看[此链接中的答案以](https://stackoverflow.com/questions/10491526/how-can-i-test-the-result-of-a-button-click-that-changes-the-activitys-view-asy/10491965#10491965)获取代码示例。

# git - 将 --ff-only 设置为 git pull 的默认值，而不是 git merge 的默认值

> ID：11610818
> 
> 赞同：8
> 
> 时间：2012-07-23T10:33:24.940
> 
> 标签：git, git-pull

我的同事遇到了一个小问题，在处理同一个项目时，我的提交历史变得不必要的复杂。问题是如果只有一个提交差异等，则 git pull 合并非 ff。所以如果 ff 不可能，我喜欢让 git pull 失败，以便开发人员可以查看提交并确定是合并还是变基更合适。

我的问题：有没有办法为任何分支上的所有 git pull 命令默认设置 --ff-only 而不是 git merge ？我知道别名，但这不是我要找的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T08:40:12.800

别名可以满足您的需要，但我必须同意克里斯托弗的观点，即您不应该首先处理这个问题。

Git 使分支变得容易，因此如果您想在准备合并之前与人们共享一些代码，请推送到分支。

# iphone - iphone：在导航时强制将方向从纵向更改为横向

> ID：11610819
> 
> 赞同：3
> 
> 时间：2012-07-23T10:33:26.530
> 
> 标签：iphone, objective-c, uinavigationcontroller, orientation, landscape

有什么方法可以在导航时强制将应用程序方向从纵向更改为横向？

我有一个要求，在将控制器从 A 推到 B 时。B 应该是横向的，但我的 A 控制器是纵向的。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-23T11:07:03.337

在您的 ViewController-B 中，在 viewDidLoad 中添加以下代码行：

```
 [[UIApplication sharedApplication] setStatusBarOrientation:UIInterfaceOrientationLandscapeRight];

  float   angle = M_PI/2;  //rotate 180°, or 1 π radians
  self.view.layer.transform = CATransform3DMakeRotation(angle, 0, 0.0, 1.0); 
```

如果您使用导航控制器从 A 移动到 B，则此代码可以正常工作。

我用过这个。

希望这会帮助你。

享受编码:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T10:37:35.013

说`- (void)viewWillAppear:(BOOL)animated`：

```
 //this is to force the application to re-evaluate device orientation
    //comment the last lines and see
    //cannot use [[UIDevice currentDevice] setOrientation:UIInterfaceOrientationLandscapeLeft];
    //as "setOrientation" is a private method, and we risk to be kicked out by Apple
    UIViewController *c = [[[UIViewController alloc]init] autorelease];
    [self presentModalViewController:c animated:NO];
    [self dismissModalViewControllerAnimated:NO]; 
```

...但首先，在您的 xib 中，将视图的方向设置为所需的方向

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T10:57:19.337

根据我在上一个尝试这样做的应用程序的经验，我发现堆栈溢出的答案告诉不要强行更改基于导航的应用程序中的方向。

```
(BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
 if(interfaceOrientation == UIInterfaceOrientationPortrait || interfaceOrientation == UIInterfaceOrientationPortraitUpsideDown)
        return NO;
else
    return YES;
} 
```

此功能将让您以所需的方向使用视图控制器，在这种情况下，我将其设置为横向，并且不允许在纵向模式下旋转。

您将面临 B 视图控制器首先在 A 视图控制器上的方向加载的问题。所以我将应用程序的完整方向更改为横向。希望这可以帮助。

# django - 减少芹菜任务的内存使用？

> ID：11610821
> 
> 赞同：3
> 
> 时间：2012-07-23T10:33:35.653
> 
> 标签：django, celery

我正在使用 django、celery 和 rabbitmq 运行 2 个定期任务和 6 个临时任务。所有任务都位于 (app)/tasks.py 中。周期性任务和临时任务被分成两个单独的队列（high_priority_queue 和 low_priority_queue）。

我为节拍和两个队列设置了三个主管命令：

```
$ ./manage.py celeryd --concurrency=1 --verbosity=3 --loglevel=INFO --beat
$ ./manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=high_priority_queue
$ ./manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=low_priority_queue 
```

tasks.py 文件大约有 686 行 python，主要用于网络和数据库工作。有 15 行导入和大约 14 个 Django 模型。一个导入行中的模型类被导入。

在我的 ubuntu 服务器上，我可以看到每个线程正在使用 41-48MB 的 RES 内存。我觉得这很多，我想知道是否有办法降低每个线程的 RES 内存使用量。我可以做一个代码组织技巧吗？我应该在每个任务中使用模型之前就导入模型吗？

这是顶部的摘录：

```
VIRT  RES  SHR %MEM COMMAND                                                                                                                                                                                                            18701 mark      20   0  253m  61m 1396 S   26  8.3   0:10.90 /home/mark/.virtualenvs/searchrank.is/bin/python /home/mark/searchrank.is/src/manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=low_priority_queue                           
320m  59m 1400  8.1 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=low_priority_queue                           
317m  59m 1360  8.0 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=high_priority_queue                          
303m  45m 1172  6.2 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=high_priority_queue                          
300m  43m 1056  5.9 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=low_priority_queue                           
300m  43m  348  5.9 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=high_priority_queue                          
305m  30m    0  4.1 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=high_priority_queue                          
305m  29m    0  4.0 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=low_priority_queue                           
306m  27m    8  3.7 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=high_priority_queue                          
305m  25m   16  3.5 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=low_priority_queue                           
304m  24m    0  3.4 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=high_priority_queue                          
304m  24m   12  3.4 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=low_priority_queue                           
305m  19m    4  2.7 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=low_priority_queue                           
230m  19m  164  2.6 .../manage.py celeryd --concurrency=1 --verbosity=3 --loglevel=INFO --beat                                                                
306m  18m    0  2.5 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=high_priority_queue                          
303m  16m    4  2.3 .../manage.py celeryd --concurrency=1 --autoscale=2,1 --verbosity=3 --loglevel=INFO --queues=low_priority_queue                           
299m  15m 1020  2.2 .../manage.py celeryd --concurrency=1 --verbosity=3 --loglevel=INFO --beat 
```

# jqgrid - jqgrid：将图标添加到预定义的格式化列

> ID：11610825
> 
> 赞同：1
> 
> 时间：2012-07-23T10:34:07.873
> 
> 标签：jqgrid, jqgrid-formatter

```
var jqGridModel = [
            { name: 'month', index: 'Month', width: 120, sorttype: "String", hidden: true }, //hidden column
            {name: 'monthID', index: 'MonthID', width: 120, sorttype: "int", formatter: convertToMonthName },
            { name: 'amount', type: "Decimal", index: 'amount', width: 120, sorttype: "float", formatter: 'currency', formatoptions: { decimalSeparator: fmtr[0], thousandsSeparator: fmtr[1], decimalPlaces: 2, suffix: fmtr[3], prefix: fmtr[2]} },
            ]; 
```

`fmtr`是我定义的用于处理多种货币的自定义方法。

在上面的网格上，我想在金额值旁边的金额列内有一个图像。单击此图像后，它将带您进入另一个页面，该页面将显示金额的详细信息（分解）。

由于我已经使用了“货币”格式化程序，我不确定是否可以在该列上使用自定义格式化程序。有哪些选择可以实现这一目标。

我想像这样将图像添加到后缀：

```
// suffix: fmtr[3] + "<img src='../Content/img/show-detail-icon.png'/> onclick='showDetails'" 
```

但在这种情况下，我不知道如何将月份 ID 传递给 onclick 函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T13:47:55.837

您可以`currency`从自定义格式化程序函数调用格式化程序 - 请参阅[此答案](https://stackoverflow.com/questions/11080552/can-we-have-2-formatter-options-in-jqgrid-colmodel/11085711#11085711)以获取示例。使用格式化程序的好处是您可以访问单元格值以及行对象（对于同一行中的其他单元格值）。这样您就可以将所需的任何 ID 传递给`onclick`处理程序。

# android - 没有清单权限的Android显示拨号盘

> ID：11610827
> 
> 赞同：6
> 
> 时间：2012-07-23T10:34:10.560
> 
> 标签：android, android-manifest, android-permissions

用户抱怨 Google Play 中的通话权限。如何在不需要清单中的许可的情况下从我的应用程序中显示带有预填充号码的 Android 拨号盘？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-07-23T10:34:10.560

而不是使用 Intent.ACTION_CALL 或 Intent.ACTION_DIAL 执行以下操作：

```
 Intent callIntent = new Intent(Intent.ACTION_VIEW);
        callIntent.setData(Uri.parse("tel:0123456789"));
        startActivity(callIntent); 
```

这将打开具有给定号码的标准 Android 拨号盘。这样您就不需要使用权限 CALL_PHONE 或 DIAL。无需修改 manifest.xml。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-26T14:12:00.200

@QVDev 你也可以使用 ACTION_DIAL 而不是 ACTION_VIEW

# java - 如何确定文本是否具有平衡分隔符？

> ID：11610847
> 
> 赞同：0
> 
> 时间：2012-07-23T10:35:16.043
> 
> 标签：java, delimiter

我有这个问题，

编写一个函数来确定文本是否具有平衡的分隔符。有效分隔符对是 ()、[]、{} 和 <>。它们可能是嵌套的。此外，确定文本分隔符 ' 和 " 正确匹配。

顺便说一句，我正在用java编码..

对于每条测试线，如果有平衡分隔符，则输出为“1”，否则为“0”。

下面的一个例子，

```
4 --- 0

{123} --- 1

{qweqwe{sdad} --- 0 
```

问题是，如何在 java 代码中编写来检查这对有效分隔符是否匹配？抱歉，我对分隔符知之甚少。

下面是我的代码..

```
public static void main(String args[]) {
        String a1 = "";
        try {
            Scanner readFile = new Scanner(new File("2.in.txt"));
            while (readFile.hasNextLine()) {

                a1 = readFile.nextLine();
                System.out.println(a1);
                if (a1.equals("18")) {
                    System.out.println("0");
                } else {
                    System.out.println("1");
                }
            }
        } catch (FileNotFoundException ex) {
            ex.printStackTrace();
            return;
        }
    } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-23T10:43:49.333

这个问题的一般解决方案是使用堆栈。对于每个输入字符串，从一个空堆栈开始：

*   当遇到开括号时，将其推入堆栈。
*   当遇到右括号时，从堆栈中弹出并与右括号进行比较以查看它们是否是匹配对。如果没有，返回`false`。如果是，请继续。

遍历完字符串后，检查堆栈是否为空。如果是，则返回`true`，否则返回`false`。

对于引号`'`和的情况`"`，如果您不允许引号在同一个引号内，并且您不考虑转义语法，那么解决方案应该是相同的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-23T10:41:07.213

看看[这段代码](http://www.java2s.com/Tutorial/Java/0140__Collections/StackExampleDelimiterMatching.htm)，它解决了类似的任务。

```
import java.util.Stack;

class BracketChecker {
  private String input;

  public BracketChecker(String in) {
    input = in;
  }

  public void check() {
    Stack<Character> theStack = new Stack<Character>();

    for (int j = 0; j < input.length(); j++) {
      char ch = input.charAt(j);
      switch (ch) {
      case '{': 
      case '[':
      case '(':
        theStack.push(ch);
        break;
      case '}': 
      case ']':
      case ')':
        if (!theStack.isEmpty()) {
          char chx = theStack.pop();
          if ((ch == '}' && chx != '{') || (ch == ']' && chx != '[') || (ch == ')' && chx != '('))
            System.out.println("Error: " + ch + " at " + j);
        } else

          System.out.println("Error: " + ch + " at " + j);
        break;
      default:
        break;
      }
    }
    if (!theStack.isEmpty()){
      System.out.println("Error: missing right delimiter");
    }
  }
}

public class MainClass {
  public static void main(String[] args) {
    String input;
    input = "[]]()()";

    BracketChecker theChecker = new BracketChecker(input);
    theChecker.check();
  }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-09-16T07:18:31.403

```
boolean symbolsBalanced(String delimiter){
    String delimiters = "[]{}<>()";
    String text = "{(){}(){()(()())}}";
    Stack<Character> myStack= new Stack<Character>();
    int length = delimiters.length();
    left = new char[length/2];
    right = new char[length/2];
    for (int i=0; i<length/2; i++) {
        left[i] = delimiters.charAt(i+i); //It will contain [,{,<,(
        right[i] = delimiters.charAt(i+i+1); //It will contain ],},>,)
    }

    int tLen = text.length();
    for (int i=0; i<tLen; i++) {
        char c = text.charAt(i);
        for(int j=0; j<left.length; j++) {
            if(left[j]==c) {
                //If start braces is present, add in stack
                myStack.add(c);
                break;
            }
        }
        for(int j=0; j<right.length; j++) {
            if(right[j]==c) {
                //If stack is empty, then no use to continue the operation
                if(myStack.isEmpty()) return false;
                //If end braces is present, pop from stack
                myStack.pop();
                break;
            }
        }
    }
    if(myStack.isEmpty()) return true;
    return false;
} 
```

# android - Wiengine 中的初始化程序错误异常

> ID：11610848
> 
> 赞同：0
> 
> 时间：2012-07-23T10:35:19.017
> 
> 标签：android, game-engine

嗨，我正在尝试在三星 Galaxy Nexus 上加载我的游戏，但它给了我一个例外

java.lang.UnsatisfiedLinkError：无法加载 xml2：findLibrary 返回 null

从异常看来，好像有一个无法加载的库。我正在加载所有库，所有 so 文件都正确加载到其他设备上，但无法在 Galaxy Nexus 中加载。我的直觉说 Wiengine 不支持 ICS，但另一方面我可能错了，因为我对游戏开发非常陌生。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:15:34.507

这意味着未找到 libxml2，您可能没有在项目中包含必要的库或引用损坏。

尝试最新的 wiengine 版本，现在它进入开源：[https](https://github.com/stubma/WiEngine) ://github.com/stubma/WiEngine 。构建一个最新的wiengine，它应该有这样的问题。

# mysql - 将 MySQL 脚本转换为 H2

> ID：11610850
> 
> 赞同：23
> 
> 时间：2012-07-23T10:35:32.140
> 
> 标签：mysql, sql, h2

我的 MySQL 数据库有一个初始化脚本，但出于测试目的，我不想使用 H2 数据库。任何人都知道如何转换文件或至少有一个语法差异列表？谢谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2015-05-27T07:03:29.970

这是 Matthew Casperson 的一个很好的指导

[从 MySQL 导出到 H2](http://matthewcasperson.blogspot.de/2013/07/exporting-from-mysql-to-h2.html)

以下是从 mysql 转换为 h2 的简短步骤列表：

> 修复单引号

CREATE TABLE `user` ( `name` varchar(20) NOT NULL,
转换为
CREATE TABLE `user`( `name`varchar(20) NOT NULL,

> 修复十六进制数字
> 修复位
> 不要在键中包含范围
> 删除字符集（删除 CHARACTER SET ...）
> 删除 COLLATE 设置（fe COLLATE utf8_unicode_ci）
> 删除 BLOBS、CLOBS 和 TEXT 字段上的
> 索引 使所有索引名称唯一
> 使用 MySQL兼容模式（jdbc:h2:~/test;MODE=MySQL）

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-07-24T13:55:20.947

有[许多数据库工具](http://h2database.com/html/links.html#tools)可以帮助将数据从一个数据库迁移到另一个数据库，例如：

*   [飞路](http://flywaydb.org)
*   [SQuirreL 数据库复制插件](http://dbcopyplugin.sf.net/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-11-15T13:06:06.940

使用这个 java 工具，只需下载并运行 jar 文件即可轻松使用。它既有 GUI，也可以根据需要集成到您的代码中。[MysqlDumpToH2](https://github.com/katwekibs/MysqlDumpToH2)

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2012-09-10T09:23:41.880

我在 iConomy 常见问题解答 (http://ico.nexua.org/Main/FAQ#toc28) 上看到了这个：

> 如何将 H2 转换为 MySQL？
> 
> 由于它们都是基于 SQL 的，您只需将 h2 sql 数据导出到 .sql 文件中，然后使用 GUI 或 PHPMyAdmin、Admininer、SQLBuddy 等将其导入 MySQL 数据库。为此，您可以使用 h2 内置控制台或 RazorSQL h2 GUI（多平台）。如果你想要数据库的 SQL 输出，你的 minecraft.h2.db 的完整路径没有 .h2.db 部分
> 
> 在 h2.jar 所在的 /lib 文件夹内的 .sh / .bat 文件或控制台中使用以下行：

`java -cp h2*.jar org.h2.tools.Script -url jdbc:h2:path/to/minecraft -user sa -password sa`

> 这将输出一个名为 backup.sql 的文件，并将包含数据库的原始 SQL 输出。您可能需要对其进行一些编辑，使其与 MySQL 相匹配。:)

# java - 创建一个 jar 文件

> ID：11610851
> 
> 赞同：1
> 
> 时间：2012-07-23T10:35:32.380
> 
> 标签：java, jar

我必须创建一个 jar 文件。我是初学者。我创建了一个清单文件作为 forjar.txt，其中包含，

`Main-Class: gmain`

其中 gmain 是我的 java 文件名。在命令提示符下，我编译它并输入以下命令。

jar cfm v.jar forjar.txt gmain.class

它创建了一个 jar 文件。但是，当我运行它时，什么也没有发生。在我编译时，创建了近 25 个类，因为我的文件中包含许多类。那么，我应该在创建 jar 文件时也包含它吗？或者是否有任何简单的方法可以包括特定文件夹的全部内容。我的文件夹也包含程序所需的图像。请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:37:22.130

> ***那么，我应该在创建 jar 文件时也包含它吗？***

是的，所有文件都需要包含在内。尝试

```
jar cfm v.jar forjar.txt * 
```

# regex - Oracle 中的正则表达式用法

> ID：11610852
> 
> 赞同：0
> 
> 时间：2012-07-23T10:35:35.353
> 
> 标签：regex, oracle

在这里，我想从数据库列中复制一些子字符串并将其附加到列的末尾。

例如

列中的数据如下所示：

```
 string data -id pattern -xyz test some data 
```

这应该像这样替换

```
 string data -id pattern -xyz test some data -c test.pattern.pl 
```

您可以看到我想在`-id`前后复制字符串`-xyz`并将其附加到 test 和 pl 之间的末尾

如果某列是

```
string data -id john -xyz test some data 
```

那么替换的值应该是

```
string data -id john -xyz test some data -c test.john.pl 
```

我尝试使用`REGEXP_REPLACE`/`REGEXP_SUBSTR`但无法解决它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T12:15:04.083

Try this:

```
select p,
       p || regexp_replace(p, '(.*-id )(.*)( -xyz.*)', ' -c test.\2.pl') np
  from t 
```

(`t` is your table and `p` is the column name)

[Here](http://www.sqlfiddle.com/#!4/b8315/1) is a fiddle

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T12:12:54.897

在 11g 中，您可以使用[`regexp_substr`](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions150.htm#i1239858)直接获取模式：

```
select txt, regexp_substr(txt, '-id ([^ ]*)', 1, 1, '', '1')
  from (select 'string data -id john -xyz test some data' txt from dual)

TXT                                        REG
string data -id john -xyz test some data   john 
```

在 11g 之前，您可以使用`regexp_substr`和的组合`substr`：

```
select txt, 
       substr(regexp_substr(txt, '-id [^ ]*'), 4) sub
  from (select 'string data -id john -xyz test some data' txt from dual) 
```

# cassandra - Ubuntu 12.04 和 cassandra 安装 - +HeapDumpOnOutOfMemoryError -Xss128k

> ID：11610856
> 
> 赞同：6
> 
> 时间：2012-07-23T10:35:44.653
> 
> 标签：cassandra

我正在按照安装 Cassandra 的说明进行安装[Cassandra](http://www.datastax.com/docs/1.1/install/install_deb)

当我安装时，我得到以下内容。我该如何解决？

```
service cassandra start
xss =  -ea -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -Xms1001M -Xmx1001M -Xmn100M -XX:+HeapDumpOnOutOfMemoryError -Xss128k

root@i-157-16647-VM:~# service cassandra status
xss =  -ea -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -Xms1001M -Xmx1001M -Xmn100M -XX:+HeapDumpOnOutOfMemoryError -Xss128k
 * Cassandra is not running 
```

我在一台有 2 个 RAM 的机器上运行。这是我在裸机 VM 上安装的方法。

```
sudo vi /etc/apt/sources.list
#add sources.list
     deb http://debian.datastax.com/community stable main
     deb http://us.archive.ubuntu.com/ubuntu/ precise main contrib non-free

curl -L http://debian.datastax.com/debian/repo_key | sudo apt-key add -
sudo apt-get update
sudo apt-get install python-cql dsc1.1

root@i-157-16647-VM:~# java -version
java version "1.6.0_24"
OpenJDK Runtime Environment (IcedTea6 1.11.3) (6b24-1.11.3-1ubuntu0.12.04.1)
OpenJDK 64-Bit Server VM (build 20.0-b12, mixed mode)

/var/log/cassandra/output.log
Error: Exception thrown by the agent : java.net.MalformedURLException: Local host name unknown: java.net.UnknownHostException: i-157-16647-VM: i-157-16647-VM
Service exit with a return value of 1
Error: Exception thrown by the agent : java.net.MalformedURLException: Local host name unknown: java.net.UnknownHostException: i-157-16647-VM: i-157-16647-VM
Service exit with a return value of 1 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-18T14:40:44.833

您的 JAVA VM (128k) 分配的内存不足，太小了。

修改下面的行 (..."128k"...) 以达到文件中至少 160k 的堆栈大小

`/opt/cassandra/conf/cassandra-env.sh`或者`/etc/dse/cassandra/cassandra-env.sh`

```
JVM_OPTS="$JVM_OPTS -Xss160k" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-21T02:42:47.987

在我的情况下，执行 sudo chown -R cassandra:cassandra /var/lib/cassandra 和 sudo chown -R cassandra:cassandra /var/log/cassandra 有助于启动 Cassandra。 [https://issues.apache.org/jira/browse/CASSANDRA-4058#comment-13662604](https://issues.apache.org/jira/browse/CASSANDRA-4058#comment-13662604)有更多关于可能导致这种情况的详细信息

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-10-18T08:49:46.283

根本不要相信[cassandra 状态消息](http://alexander.holbreich.org/2013/10/installing-apache-cassandra/)，例如：

> *   Cassandra 没有运行消息

你试一试

> $nodetool -h 127.0.0.1 信息

你的 Cassandra 可能没问题！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-13T07:26:39.883

由于JDK，这很可能是可能的。我在使用 IBM JDK 时遇到了类似的错误，一旦我将 IBM JDK 替换为 Oracle JDK，它就可以工作。

# c - 为什么这一行打印 17 而不是 3？

> ID：11610858
> 
> 赞同：0
> 
> 时间：2012-07-23T10:35:52.613
> 
> 标签：c

为什么这一行打印 17 而不是 3？

```
printf("%d" ,0x11); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-23T10:37:10.750

`0x11`是*十六进制*（以 16 为底）数，并且`11`( *hexadecimal* ) 等于`17` *(decimal* )。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-23T10:37:18.363

因为`0x`引入了十六进制文字，而不是二进制文字。

# sqlite - sqlite3.OperationalError：表 card_data 有 11 列，但提供了 10 个值

> ID：11610859
> 
> 赞同：0
> 
> 时间：2012-07-23T10:36:09.167
> 
> 标签：sqlite, python-2.7

我尝试在 Apache2 上遵循 python 脚本，但失败了。根据 /var/log/apache2/error.log，“sqlite3.OperationalError：表 card_data 有 11 列但提供了 10 个值”。

我不明白为什么 card_data 表有 11 列。它应该是 10 列。

我也试过 con.execute("PRAGMA table_info(card_data)") 但 card_data 有 10 列。

我想知道为什么 card_data 有 11 列以及如何解决这个问题。谢谢你。

```
 #!/usr/bin/python
    # -*- coding: utf-8 -*-

    import cgi
    import sqlite3

    f = cgi.FieldStorage()
    cardname = unicode(f.getfirst("cardname", "default string"), 'utf-8')
    cardtype = unicode(f.getfirst("cardtype", "default string"), 'utf-8')
    cost = unicode(f.getfirst("cost", "default string"), 'utf-8')
    color = unicode(f.getfirst("color", "default string"), 'utf-8')
    text = unicode(f.getfirst("text", "default string"), 'utf-8')
    igflag = unicode(f.getfirst("igflag", "default string"), 'utf-8')
    tribe = unicode(f.getfirst("tribe", "default string"), 'utf-8')
    power = unicode(f.getfirst("power", "default string"), 'utf-8')
    cardid = unicode(f.getfirst("cardid", "default string"), 'utf-8')
    dispname = unicode(f.getfirst("displayname", cardname), 'utf-8')

    conn = sqlite3.connect("carddata.db")

    sql = u"""create table if not exists card_data(
        NAME TEXT,
        TYPE TEXT,
        COST, INTEGER,
        COLOR TEXT,
        CRADTEXT TEXT,
        IGNITION NULL,
        TRIBE TEXT,
        POWER INTEGER,
        CARDID TEXT,
        DISPLAY TEXT);
    """
    conn.execute(sql)
    conn.commit()

    sql = u"insert into card_data values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)"
    conn.execute(sql, (cardname, cardtype, int(cost), color, text, igflag, tribe, int(power), cardid, dispname))
    conn.commit() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:42:14.700

这条线

```
COST, INTEGER, 
```

创建*两*列。

# iphone - 是否可以使用 2 层推送自定义动画？

> ID：11610860
> 
> 赞同：1
> 
> 时间：2012-07-23T10:36:12.643
> 
> 标签：iphone, animation, uinavigationcontroller, pushviewcontroller

```
view 1 is current view
view 2 is view to push 
```

是否有可能

```
 view 1 draw at top layer
 view 2 draw at bottom layer 
```

将视图 1 向下移动到屏幕外，同时将 CGAffineTransformMakeScale 视图 2 从 0.1 移动到 1.0

我怎样才能做到这一点 ？

**更新**

我想将所有屏幕（包括导航控制器）移动到屏幕底部。那么我的问题是，当我将 navigationController 向下移动后，我在 navigationController 上绘制这两个层时，这两个层都会坚持使用 navigationController

我如何在 navigationController 后面创建一个临时视图 viewTopush(View 2) 并做动画

这是我的代码，但它还没有工作。

```
 RO_GALViewController *galView = [[RO_GALViewController alloc] initWithNibName:@"RO_GALViewController" bundle:nil];

        UINavigationController* navigationController;
        CGRect frame;

        navigationController = [self navigationController];

        frame = [navigationController.view convertRect:self.view.frame fromView:self.view.superview];

        galView.view.frame = frame;
        galView.view.transform = CGAffineTransformMakeScale(0.1,0.1);
        galView.view.alpha = 0;
        UIView *blackView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 320, 480)];
        blackView.backgroundColor = [UIColor blackColor];
        blackView.alpha = 0;
        [[self navigationController].view addSubview:blackView];
        [[self navigationController].view addSubview:galView.view];
        [navigationController.view bringSubviewToFront:self.view];

        [UIView animateWithDuration:1.3f
                              delay:0.0f
                            options:UIViewAnimationCurveEaseInOut
                         animations:^{
                             galView.view.alpha = 1.0f;
                             galView.view.transform = CGAffineTransformMakeScale(1.0f, 1.0f);
                             navigationController.view.frame = CGRectMake(self.view.frame.origin.x, 460, self.view.frame.size.width, self.view.frame.size.height);
                         } completion:^(BOOL finished) {
                             [[self navigationController] pushViewController:galView animated:NO];

                         }]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T17:52:25.370

只需将两个动画都放在 beginAnimations/commitAnimations 代码部分中。它将同时执行动画。您不必担心图层。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T20:50:36.763

您添加到这个问题的标签（`uinavigationcontroller`和`pushviewcontroller`）表明您正在谈论在屏幕上推送一个新的视图控制器，但您的描述听起来像是两个视图都是包含在同一个视图控制器中的两个子视图......

# 如果你正在推送一个新的视图控制器......

您可以轻松地继承 UIStoryboardSegue 来创建自己的动画。在您的情况下，您将向下更改源视图控制器视图的位置并应用（和动画）目标视图控制器视图的变换。动画本身就像任何其他动画一样。

# 如果两个视图都在同一个视图控制器内...

只做两个动画。您可以使用 UIView 动画轻松地同时完成它们，就像这样

```
view2.transform = CGAffineTransformMakeScale(0.1, 0.1); // the "from" value
[UIView animateWithDuration:2.0 // animate for 2 seconds
                 animations:^{
    view1.center = view1.center + theDistanceItShouldMoveDown;
    view2.transform = CGAffineTransformIdentity; // no scale
}]; 
```

# android - 使用现有图像和 android 中的相机应用程序捕获新图像

> ID：11610862
> 
> 赞同：0
> 
> 时间：2012-07-23T10:36:17.043
> 
> 标签：android, screenshot, android-camera

我打算在*Android*中制作一个应用程序，我们可以在其中从图库中选择一个图像，并使用该图像和*Android 相机*应用程序，我们必须捕获一个新图像并保存到*SD 卡*中。

从图库中选择图像并打开相机应用程序可以通过 Intent 完成，但是如何将这两者结合起来。

*我还在Android*中搜索了`screen shot`选项，但它说***出于安全目的，设备必须为此植根***。

 **任何帮助深表感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:46:02.217

私有静态最终 int GET_IMAGE = 2;

```
cameraButton.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View v) {
            AlertDialog alertDialog=new AlertDialog.Builder(FotografiActivity.this).setTitle("Byggekort")
            .setMessage(R.string.camera_open_msg).setPositiveButton("OK", new DialogInterface.OnClickListener() {
                @Override
                public void onClick(DialogInterface dialog, int which) {
                    takePhoto();
                }
            }).create();
            alertDialog.show();
        }
    });

private void takePhoto() {
    final Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
    intent.putExtra(MediaStore.EXTRA_OUTPUT,
            Uri.fromFile(getTempFile(this)));
    startActivityForResult(intent, TAKE_PHOTO_CODE);
}

public void onActivityResult(int requestCode, int resultCode, Intent data) {
if (requestCode == GET_IMAGE) {
                targetUri = data.getData();
                fotografiImageView.setImageURI(targetUri);
                selectedImagePath =getPath(targetUri);
                Bitmap captureBmp;
                try {
                    captureBmp = Media.getBitmap(getContentResolver(),
                            targetUri);
                    applicationActivity.dataArray.put(PHOTO_URI, captureBmp);
                    applicationActivity.dataUri.put(URI1, selectedImagePath);
                } catch (FileNotFoundException e) {
                    e.printStackTrace();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }
    } 
```**

# iphone - IOS TableView中的地图、搜索栏和结果列表

> ID：11610863
> 
> 赞同：0
> 
> 时间：2012-07-23T10:36:22.487
> 
> 标签：iphone, objective-c, ios, xcode, mapkit

我正在尝试为具有 3 个视图的 iphone 实现垂直拆分布局。搜索栏、地图和带有搜索结果的表格。数据是以 XML 格式从服务器接收的。我注意到foursquare 在他们的应用程序上做了类似的事情。 .我附上了一张很好地解释了我的要求的图片..我的问题是我应该怎么做才能得到这个布局..我不能直接在TableViewController上添加地图，还有其他方法吗？

![Foursquare 应用截图](../Images/87ef4404f702629e9660247aceadc851.png)

谢谢你的帮助。。

# r - R igraph 部分填充的顶点

> ID：11610865
> 
> 赞同：3
> 
> 时间：2012-07-23T10:36:34.510
> 
> 标签：r, plot, shape, vertex, igraph

给定一个分数向量（在域 [0:1] 上），我想绘制刚刚部分填充的顶点。即，如果分数是 1/2，则相应的顶点应该是半填充的（半球体），即如果分数是 1/4，则相应的顶点仅在四分之一（四分之一球体）中，依此类推......

```
library('igraph')
N <- 10
g <- graph.full(N)
values <- runif(N,0,1) # vector of fractions
V(g)$shape <-'circle'

plot.igraph(g,...) 
```

例如： http://www.google.ch/imgres?q=three+quarter-filled+circle&um=1&hl=de&sa=N&biw=1024&bih=751&tbm=isch&tbnid=fCz7FZ6JG38DzM:&imgrefurl=http: [//www.clipartstation.com /clipart_indexer4/index/search%3Fkeywords%3DART&docid=UPphGFugM1pYGM&imgurl=http://www.clipartstation.com/clipart/resized/Math/Transformations/__100x100//three%252520quarters%252520blue%252520circle.gif&w=100&h=99&ei=ETsNUNDeHbCL4gTTrjACg&zoom= 1&iact=rc&dur=331&sig=101088608959992434501&page=1&tbnh=79&tbnw=80&start=0&ndsp=24&ved=1t:429,r:8,s:0,i:97&tx=49&ty=38](http://www.google.ch/imgres?q=three+quarter-filled+circle&um=1&hl=de&sa=N&biw=1024&bih=751&tbm=isch&tbnid=fCz7FZ6JG38DzM:&imgrefurl=http://www.clipartstation.com/clipart_indexer4/index/search%3Fkeywords%3DART&docid=UPphGFugM1pYGM&imgurl=http://www.clipartstation.com/clipart/resized/Math/Transformations/__100x100//three%252520quarters%252520blue%252520circle.gif&w=100&h=99&ei=ETsNUNDeHbCL4gTT5rjACg&zoom=1&iact=rc&dur=331&sig=101088608959992434501&page=1&tbnh=79&tbnw=80&start=0&ndsp=24&ved=1t:429,r:8,s:0,i:97&tx=49&ty=38)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T14:17:17.383

如果你有`igraph`包版本 0.6，你应该能够使用[pie](http://igraph.sourceforge.net/doc/R/vertex.shape.pie.html)中的顶点`plot()`，在这种情况下你的代码是：

```
library(igraph)
N <- 10
g <- graph.full(N)

values <- runif(N,0,1) # vector of fractions
plot(g, vertex.shape="pie", vertex.pie=values, vertex.frame.color="white", 
     vertex.pie.color=list(heat.colors(5))) 
```

如果你没有这个工作（我没有），你可以在[这里](http://lists.gnu.org/archive/html/igraph-help/2010-10/msg00079.html)找到代码，你可以运行它然后`pie`用作顶点。

# php - Ajax PHP 上传脚本

> ID：11610868
> 
> 赞同：0
> 
> 时间：2012-07-23T10:36:41.097
> 
> 标签：php, javascript, ajax, image, upload

我在哪里放置我的 PHP SQL 查询，以将图像信息插入我的数据库？我在回声“成功”之前尝试过；但是它没有效果。

```
<!-- Upload Button-->
<div id="upload" >Upload File</div><span id="status" ></span>
<!--List Files-->
<ul id="files" ></ul> 
```

PHP处理

```
<?php
$uploaddir = './uploads/';
$file = $uploaddir . basename($_FILES['uploadfile']['name']); 

if (move_uploaded_file($_FILES['uploadfile']['tmp_name'], $file)) {
echo "success";
} else {
echo "error";
}
?> 
```

Javascript 部分

```
$(function () {
    var btnUpload = $('#upload');
    var status = $('#status');
    new AjaxUpload(btnUpload, {
        action: 'upload-file.php',
        //Name of the file input box
        name: 'uploadfile',
        onSubmit: function (file, ext) {
            if (!(ext && /^(jpg|png|jpeg|gif)$/.test(ext))) {
                // check for valid file extension
                status.text('Only JPG, PNG or GIF files are allowed');
                return false;
            }
            status.text('Uploading...');
        },
        onComplete: function (file, response) {
            //On completion clear the status
            status.text('');
            //Add uploaded file to list
            if (response === "success") {
                $('<li></li>').appendTo('#files').html('<img src="./uploads/' + file + '" alt="" /><br />' + file).addClass('success');
            } else {
                $('<li></li>').appendTo('#files').text(file).addClass('error');
            }
        }
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:47:01.850

查询应该在成功回显之前正确，因此您必须验证 move_uploaded_file 方法返回给您的内容。

验证 ./upload/ 是否是正确的路径，以及您是否对该目录具有读/写访问权限 (0777)。

还要确保您已连接到数据库：

```
<?php 

    $conn = mysql_connect("HOST","USER","PASSWORD");
    $db = mysql_select_db("DB_NAME");

    $uploaddir = './uploads/'; 
    $file = $uploaddir . basename($_FILES['uploadfile']['name']);  

    if (move_uploaded_file($_FILES['uploadfile']['tmp_name'], $file)) { 
        mysql_query("INSERT INTO photos VALUES ('your_values')");
        echo "success"; 
    } else { 
        echo "error"; 
    } 
 ?> 
```

# configuration - “流利”Log4Net

> ID：11610869
> 
> 赞同：3
> 
> 时间：2012-07-23T10:36:48.707
> 
> 标签：configuration, log4net, fluent

您好我正在尝试在不使用 XML 配置的情况下设置 log4net：

```
 public void InitLogger()
    {
        //Create exception log file if it haven't been created
        var exceptionLogFile = new FileInfo(System.Configuration.ConfigurationManager.AppSettings["ExceptionLogFilePath"]);
        if (!exceptionLogFile.Exists)
        {
            exceptionLogFile.Create();
        }
        //configure log4net
        var smtpAppender = new SmtpAppender
                               {
                                   SmtpHost = "",
                                   Authentication = SmtpAppender.SmtpAuthentication.None,
                                   BufferSize = 512,
                                   From = "",
                                   To = "",
                                   Layout = new PatternLayout(""),
                                   Lossy = true,
                                   Evaluator = new LevelEvaluator(Level.Error)
                               };

        var fileAppender = new FileAppender
                               {
                                   File = System.Configuration.ConfigurationManager.AppSettings["ExceptionLogFilePath"],
                                   AppendToFile = true,
                                   Layout = new PatternLayout(""),
                                   LockingModel = new FileAppender.MinimalLock() //use the minimal locking model that allows multiple processes to write to the same file
                               };

        BasicConfigurator.Configure(smtpAppender);
    } 
```

我的问题是我想使用两个附加程序（smtp 和文件）。使用

```
BasicConfigurator.Configure(smtpAppender); 
```

我可以设置初始值，但我还需要设置文件附加程序。你知道为什么要这样做吗？

谢谢你的时间 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T17:13:22.347

在这种情况下，您想要获取记录器的实例，然后添加您的附加程序。之后，只需配置存储库。IE ，

在 VB 中：

```
Public Class Test  
    Private Shared ReadOnly _logger As log4net.ILog = log4net.LogManager.GetLogger(System.Reflection.MethodInfo.GetCurrentMethod().DeclaringType)         
Sub InitLogger()
        Dim logger = CType(_logger.Logger, log4net.Repository.Hierarchy.Logger)
        Dim fileAppender = New log4net.Appender.FileAppender() With { _
         .File = "", _
         .AppendToFile = True, _
         .Layout = New log4net.Layout.PatternLayout(""), _
         .LockingModel = New log4net.Appender.FileAppender.MinimalLock() _
        }

        logger.AddAppender(fileAppender)

        Dim repository As log4net.Repository.ILoggerRepository = log4net.LogManager.GetRepository()
        log4net.Config.BasicConfigurator.Configure(repository)
    End Sub
End Class 
```

在 C# 中：

```
public class Test  
{  
    private static readonly log4net.ILog _logger = log4net.LogManager.GetLogger(System.Reflection.MethodInfo.GetCurrentMethod().DeclaringType);  
    public void InitLogger()
    {
        var logger = (log4net.Repository.Hierarchy.Logger)_logger.Logger;

        var fileAppender = new log4net.Appender.FileAppender {
            File = "",
            AppendToFile = true,
            Layout = new log4net.Layout.PatternLayout(""),
            LockingModel = new log4net.Appender.FileAppender.MinimalLock()
        };

        logger.AddAppender(fileAppender);

        log4net.Repository.ILoggerRepository repository = log4net.LogManager.GetRepository();
        log4net.Config.BasicConfigurator.Configure(repository);
    }
} 
```

# .net - 记录 WCF 服务超时（不是 svc 跟踪）

> ID：11610880
> 
> 赞同：2
> 
> 时间：2012-07-23T10:37:20.313
> 
> 标签：.net, wcf, logging, timeout

我们有一个自托管的 WCF 服务，它接收和处理来自专有设备的请求。在性能测试期间，我们淹没了服务，以查看当收到太多请求时会发生什么。

我们发现一些连接超时，这没关系。我们的问题是我们希望它记录在常规日志中。我们正在记录到 EventLog。

怎么可能做到这一点？是否有某种我们可以连接的 OnTimeOut 事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T11:25:21.717

以防万一，但您似乎确实知道这一点，这里是如何激活诊断（[WCF 跟踪](http://msdn.microsoft.com/en-us/library/ms733025.aspx)）。

在我看来，然后您可以创建自己的跟踪侦听器，将其写入 EventLog ？这里的困难是将诊断限制为您感兴趣的事件，但我想您可以在需要时在侦听器中添加自己的过滤器。

# java - GWT UiBinder - 将新对象分配给 UiField 引用

> ID：11610882
> 
> 赞同：0
> 
> 时间：2012-07-23T10:37:21.443
> 
> 标签：java, gwt, uibinder

我最近开始在我的一个应用程序中使用 GWT。我对 UiBinder 的使用有疑问。如果我在我的类中声明了一个 @UiField 属性（在 .ui.xml 中也是如此），我是否可以在我在构造函数？

例如，如果我的 ui.xml 文件有一个 DockLayoutPanel，它的中心有一个 PlotWidget。

```
public class PlotWidget extends Composite {

    @UiField (provided = true)
    SimplePlot plot;

    public Constructor() {
        plot = new SimplePlot(someArgument1, someArgument2);
    }

    // some method
    public doSomething() {
        // Is this valid?
        plot = new SimplePlot(someArgument3, someArgument4);    
    }
} 
```

该图是否仍然附加到 DockLayoutPanel 上？如果没有，我将如何实现需要创建上述新对象的功能？

任何指针将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:47:01.077

在这种情况下，我使用容器来更改小部件。

```
public class PlotWidget {

    @UiField
    SimplePanel plotContainer;

    public Constructor() {
        plotContainer.setWidget(new SimplePlot(someArgument1, someArgument2));
    }

    public doSomething() {
        plotContainer.setWidget(new SimplePlot(someArgument3, someArgument4));    
    }
} 
```

但是如果 plot 字段上有事件处理程序（由@UiHandler annptation 提供），它将无法正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T11:28:33.553

您的示例代码中缺少的是 ui binder create 调用，例如`initWidget(uiBinder.createAndBindUi(this));`. 这在初始化之后调用，在这种情况下，`plotContainer`构造函数中的 ui 字段。如果您将新实例重新分配给新实例，`SimplePlot`则不会将其附加到 DockLayoutPanel，并且如果您确实以某种方式替换了现有实例，则还需要重新附加处理程序。

一个解决方案可能是创建一个新的 SimplePlot 实例，或者不是创建一个新的 SimplePlot 实例，而是通过 SimplePlot 上的方法调用来设置参数。但是，如果创建 SimplePlot 的唯一方法是通过构造函数，如果您无法控制实现，则可以创建一个单独的 uibinder 类/小部件来创建 SimplePlot，它创建 SimplePlot 并附加处理程序并`setWidget`通过如 sinicyn 所描述的 PlotWidget。

# php - 检查用户名是否存在，如果是 PHP，则生成新用户名

> ID：11610892
> 
> 赞同：0
> 
> 时间：2012-07-23T10:38:13.980
> 
> 标签：php, mysql, validation, function

我正在尝试编写一个简单的函数来检查数据库中是否存在用户名，如果存在则调用另一个函数来生成新的用户名。我的代码似乎失败了：

用户名功能：-

```
$user1=create_username($fname, $company);

function create_username($surname, $company){

//$name_method=str_replace(" ", "", $surname);
$name_method=$surname.$forename;
$company_name_method=str_replace(" ", "", $company);

if(strlen($name_method)<=5)
{
    $addition=rand(11,99);
    $first=$addition.$name_method;
}
else
{
    $first=substr($name_method,0,5);
}
if(strlen($company_name_method)<=5)
{
    $addition2=rand(11,99);
    $second=$addition2.$company_name_method;
}
else
{
    $second=substr($company_name_method,0,5);
}
$middle=rand(100,1000);

$username=$first.$middle.$second;
return($username);
} 
```

检查用户名功能：

```
check_user($user1, $dbc, $fname, $company);

function check_user($user1, $dbc, $surname, $company){
$check_username="SELECT username FROM is_user_db WHERE username='$user1'";
$resultx=mysqli_query($dbc, $check_username) or die("Could not check username");
$num_rows=mysqli_num_rows($resultx);
if($num_rows>0)
{
    $user1=create_username($fname, $company);
    check_user($user1, $dbc, $fname, $company);

}
else
{
    return($user1);
}
} 
```

它似乎只是返回原始用户名。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T11:03:17.507

您可能需要稍微重构您的代码。在纸上写下步骤；这对我有帮助。到目前为止，我可以看到：

1.  您想检查用户名在表单提交时是否唯一
2.  如果不是，生成一个新的用户名

因此，请在发布表单时检查用户名：

```
<?php
    if (isset($_POST['submit'])) {
        if (username_unique($_POST['username'])) {
            // carry on processing form
        }
        else {
            $suggested_username = suggest_username($_POST['username']);
            // display form, with new suggested username?
        }
    } 
```

然后编写你的函数：

```
<?php
    // following on from code from above

    function check_username($username) {
        // get database connection (I use PDO)
        $sql = "SELECT COUNT(*) AS count FROM users_tbl WHERE username = ?";
        $stmt = $pdo->prepare($sql);
        $stmt->execute(array($username));
        $row = $stmt->fetchObject();
        return ($row->count > 0); // if 'count' is more than 0, username already exists
    }

    function suggest_username($username) {
        // take username, and add some random letters and numbers on the end
        return $username . uniqid();
    } 
```

希望这会有所帮助。显然，它需要一些修改才能在您的设置中工作，但这是您需要的一般流程。

# c# - 可以在没有 ObjectContext 的情况下删除实体吗？

> ID：11610894
> 
> 赞同：0
> 
> 时间：2012-07-23T10:38:17.527
> 
> 标签：c#, entity-framework

使用带有实体框架的默认代码生成实体，有没有办法在不使用 ObjectContext 的情况下删除实体对象？例如，自跟踪实体有一个`MarkAsDeleted`方法。此外，更新或添加对象不需要 ObjectContext，所以我希望这同样适用于删除对象。

不起作用的一件事是简单地将实体标记为已删除，因为该属性是只读的：

```
foo.EntityState = EntityState.Deleted; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-28T16:41:45.540

答案似乎是否定的，所以我使用我之前写过的一种技术来附加`ObjectContext`到所有需要删除子实体的实体：[http ://sixfeetsix.blogspot.com/2012/06/provide-entityobjects-access- to-their.html](http://sixfeetsix.blogspot.com/2012/06/provide-entityobjects-access-to-their.html)

# iphone - Facebook iOS SDK：登录被阻止的应用程序出现错误 - “您请求的页面现在无法显示。它可能暂时不可用......”

> ID：11610896
> 
> 赞同：1
> 
> 时间：2012-07-23T10:38:25.203
> 
> 标签：iphone, objective-c, facebook, facebook-graph-api, facebook-ios-sdk

我的应用程序使用 Facebook iOS SDK **2.0**通过 Facebook 进行注册，其中涉及 publish_stream 参数作为权限。现在，如果 FB 用户授权该应用程序进行注册，它就可以正常工作。我在应用程序中显示登录对话框，而无需切换到 safari 并存储 accesstoken 和其他所需的凭据。

然而，下面的测试用例给出了错误的结果——

测试场景：

第 1 步：同一用户稍后在墙上阻止应用程序活动。第 2 步：现在他转到 iOS 应用程序并执行 FConnect，即调用登录对话框。第 3 步：用户输入正确的 Facebook 凭据并点击“登录”。

结果：加载的WebView反映以下错误消息：**“您请求的页面现在无法显示。它可能暂时不可用，您点击的链接可能已损坏或过期，或者您可能无权查看此页面。 "** 使用 Facebook 应用程序登录。

是否可以在客户端检查和处理来自 Facebook 服务器的此响应？

# python - WTForms：在帖子中将表单值传回给用户

> ID：11610897
> 
> 赞同：4
> 
> 时间：2012-07-23T10:38:25.747
> 
> 标签：python, webapp2, wtforms

当 GET 和 POST 方法都在同一个处理程序类中，并且我想在表单验证失败后使用用户输入填充表单字段时，我这样做......

```
Class CommentHandler(BaseHandler):
    def get(self, form=None):
        if form is None: # create new form unless populated form is passed in
            form = CommentForm()
        # query DB and create template context
        self.render('page.html', **context)

    def post(self):
        form = CommentForm(self.request.POST)
        if form.validate():
            # populate entity with form data and save to DB
            return self.redirect_to('page')
        self.get(form=form) # pass populated form back to user for editing 
```

我不知道这是否是将表单数据返回给用户的最佳方式，但它似乎有效。我的问题是：如果 GET 和 POST 方法位于不同的处理程序类中，我如何将该数据传递回表单？

```
class PageHandler(BaseHandler):
    def get(self):
        # displays form to user

class CommentHandler(BaseHandler):
    def post(self):
        # processes POSTed form data...
        # but if form.validate() fails,
        # how can I pass the form data back to the user
        # so they can edit their form input? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-24T17:53:04.693

当您`post`调用`validate()`WTForms 时，会将表单编码数据绑定到`Form`实例。http`POST`可以像这样返回响应，`GET`这就是为什么当服务器应用程序验证失败并且您尝试刷新时，有时您会在浏览器中收到那些有趣的消息。这是因为刷新操作将调用`GET`处理管道，您将丢失`POST`数据。

您需要做的而不是委托回`get`实现，您只需要从您的`post`实现中呈现一个响应，该响应将`Form`带有绑定到它的数据的实例传递回响应中。如果您以推荐的方式设置模板，数据将自动显示在相应的字段中。下面是您`Handler`可能的样子的一个片段。

```
def post(self):

    form = CommentForm(self.request.POST)

    if form.validate():
        # populate entity with form data and save to DB
        return self.redirect_to('page')

    # If we are here it means we failed validation
    # We need to send back the data the use supplied 
    # with error messages so we can re-render the form
    # with their data and error messages indicating why
    # it was rejected.

    self.render('page.html', form=form) # pass populated form back to user for editing 
```

这当然假设您`page.html`知道如何处理该`Form`实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-21T22:44:41.727

这是一个可能有助于解决您的问题的工作流程。我选择提供工作流程而不是特定的代码片段，以避免在您用来解决问题的技术中过于规范。

```
GET
if session contains form data:
  add form data from session to template context
display form

POST
if form validates:
  clear this form data from session
  save to db
else:
  save form data to session
  redirect to GET handler 
```

# java - 如何使用 VisualVM 或使用 unix 命令杀死 java 线程？

> ID：11610902
> 
> 赞同：22
> 
> 时间：2012-07-23T10:39:01.577
> 
> 标签：java, multithreading

我正在使用 Windows 7 操作系统。我的应用程序中有`6`线程。为了测试警报以检查线程的健康状况，我需要手动终止线程并检查警报是否正常工作。我们可以像杀死一个进程一样杀死一个线程`pid`吗？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-04-09T19:46:31.540

Dan Woods 在此博客条目中记录了如何杀死线程... [https://web.archive.org/web/20160302023213/http://www.rhcedan.com/2010/06/22/killing-a-java -thread](https://web.archive.org/web/20160302023213/http://www.rhcedan.com/2010/06/22/killing-a-java-thread) 他执行的步骤涉及使用调试器 (JDB) 并在线程执行中注入异常。具体来说...

1.  确保使用以下参数启动您的 java 程序：

    > -Dcom.sun.management.jmxremote.port=50199
    > -Dcom.sun.management.jmxremote.authenticate=false
    > -Dcom.sun.management.jmxremote.ssl=false
    > -Xrunjdwp:transport=dt_socket,address=50100,server=y ,暂停=n

    这将允许我们在确定是哪个线程导致问题后，将 java 调试器附加到正在运行的进程。此外，请确保您正确设置了 iptables，以便仅允许来自您管理的主机/工作站的 50100 和 50199 连接。

2.  识别有问题的线程：
3.  杀死线程。在此示例中，ThreadName 为“btpool0-0？”。启动 java 调试器（也随 JDK 发行版一起提供），并附加到正在运行的 JVM……</p>

    > [root@host ~]# jdb -attach 50100

获取一个正在运行的线程列表——这也会给我们 JVM 看到的线程 id：

```
> threads  
--snip--  
(org.mortbay.thread.BoundedThreadPool$PoolThread)0x25cb
btpool0-0 running  
--snip-- 
```

我们要杀死的线程 id 是“0x25cb”。杀死线程的第一步是跳进去，然后挂起……</p>

```
thread 0x25cb
btpool0-0[1] suspend 0x25cb
btpool0-0[1] step
Step completed: <... snip ...>
btpool0-0[1] kill 0x25cb new java.lang.Exception()
killing thread: btpool0-0
btpool0-0[1] instance of 
com.site.package.name(name='btpool0-0', id=9675) killed btpool0-0[1] 
```

退出java调试器，你就完成了！

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-07-23T10:42:11.503

没有安全的方法来“杀死”一个线程而不杀死它所在的进程。这不是你会故意做的事情。出于测试目的，我会在您的应用程序中添加代码来支持这一点。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2015-04-09T22:24:52.567

这不是真的。如果您知道线程 ID，您始终可以使用 GDB 附加到 JVM 进程并调用 pthread_kill。您只需要从 java 线程转储（执行 kill -3）进行翻译，它会为您提供一个十六进制 id（本机 id），然后查看 GDB 中的线程列表（信息线程）并找到真正的线程 id。

这被证明是有效的。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-07-23T11:31:43.603

正如彼得所说，你不能安全地做到这一点。确实在某些平台`Thread.kill`上甚至没有实现。然而：

*   如果这*只是*为了测试，那么调用的单元测试`Thread.kill`是合理的……假设它在需要工作的测试平台上工作。（源代码中的“大声”注释是为了帮助人们移植单元测试......）

*   另一种选择是向可运行线程添加一些代码，允许您的单元测试告诉它死亡。如果线程代码需要（几乎）是生产代码才能工作，您可以创建一个覆盖某些内容的子类，以便它以适合您目的的方式“中断”......用于测试。事实上，这种方法允许您以受控方式“中断”线程，从而可能允许您测试警报代码的不同方面。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-07-23T10:44:16.940

您不能从外部（操作系统或调试器）执行此操作，您必须编写自己的线程看门狗，它可以与用户交互并杀死您想要的线程。

尝试在[这里](http://www.javaspecialists.eu/archive/Issue043.html)查看如何使用 java 处理信号

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-23T10:48:31.777

在线程中等待一段时间并在代码中终止线程 - 简单的方法。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-23T10:44:28.737

在java中你不能杀死喜欢的unix。您可以`interrupt`在 java 中执行，也可以在 unix 中终止进程。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-01-12T06:29:21.777

正如之前**buzz3791**的帖子中所提到的，它使用jdb 工作。然而我注意到的变化是，你不能杀死线程，但你可以中断或挂起线程。

#jdb -附加 50100

> 线程——这将显示在组和引用处理程序部分下的 jvm 上运行的所有线程。

| 团体 | 引用处理程序 |
| --- | --- |
| :(com.orienttechnologies.orient.server.network.protocol.binary.ONetworkProtocolBinary)0x36c1: | OrientDB (/xxx.xxx.xxx.xxx:123) <- BinaryClient (/xxx.xxx.xxx.xxx:678) |

> 线程 0x36c1——这将是线程 ID，可以从您希望杀死/中断的线程中的一个线程中选取并运行此**中断 0x36c1**

OrientDB (/xxx.xxx.xxx.xxx:123) <- BinaryClient (/xxx.xxx.xxx.xxx:678)[1]**中断 0x36c1**

您可以多次尝试相同的中断命令，如果已经中断，则会显示线程 id 无效。因此您知道线程已被杀死，这可以通过查看堆栈跟踪来验证并确认。

使用 jdk 8 在 OrientDB 数据库服务器上对此进行了测试，并且可以正常工作。

# facebook - Facebook 分享将不再通过任何图像

> ID：11610903
> 
> 赞同：-3
> 
> 时间：2012-07-23T10:39:13.713
> 
> 标签：facebook, wordpress, facebook-opengraph, sharing, meta

我创建了一个公司博客并开始实施各种社交分享插件，查看了与 OG 的集成，现在 Facebook 在页面共享时不会提取任何图像。

调试器工具说它可以找到合适的图像（每个帖子的特色图像），当我分享到 LinkedIn 的相同链接时，图像拉得很好。

我终其一生都无法弄清楚可能出了什么问题，这并不是说 Facebook 没有拉出正确的图像……它没有拉出任何东西。

有没有人有这方面的经验/知道可能出了什么问题？

www.chapman-freeborn.com/en/blog

（请参阅 stackoverflow 上的重复帖子[Facebook 共享将不再提取任何图像](https://stackoverflow.com/questions/11609149/facebook-sharing-wont-pull-through-any-images-anymore)）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T11:32:39.457

如果您通过[OG 调试工具](http://developers.facebook.com/tools/debug/og/object?q=http://www.chapman-freeborn.com/en/blog/)运行您的博客，您会看到您的页面存在需要修复的错误。这就是为什么图像无法通过的原因...

# c# - System.Windows.Controls.RadioButton 问题

> ID：11610904
> 
> 赞同：0
> 
> 时间：2012-07-23T10:39:13.857
> 
> 标签：c#, visual-studio-2010, wpf-controls

我正在尝试测试是否选中了单选按钮，并且我不断收到 Checked 和 isChecked 不是`RadioButton`该类的有效方法的错误。我正在使用 C# 和 Visual Studio 2010。

例子

```
if (radioButton4.Checked) maxTotal = 660; 
```

此错误似乎特定于`System.Windows.Controls.RadioButton`该类。如果我从代码中创建一个`System.Windows.Forms.RadioButton`，我不会得到错误。问题是`RadioButton`我从 WPF 控件工具箱拖到舞台上（我来自 as3）是`System.Windows.Controls`多种多样的。

我需要弄清楚如何将`System.Windows.Forms`各种 RadioButton 添加到我的工具箱中，或者弄清楚为什么 Checked 属性对 Controls 版本无效。这没有意义。我看过的所有地方都说它应该工作。

我将该应用程序创建为 WPF 应用程序。我正在使用其中一个表单控件来做一些我认为没有它就无法完成的事情。据我了解，Forms 组件旨在与 Windows Forms 应用程序一起使用。所以我的问题可能与此有关，但我不知道。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:44:28.613

要检查是否选中了 WPF 切换按钮，请使用该`IsChecked`属性。System.Windows.Controls.RadioButton 是 ToggleButton 的后代类。

如果不是绝对必要，您不应该混合 WPF 和 Windows 窗体控件。

# javascript - 未捕获的类型错误：对象 [对象窗口] 的属性“$”

> ID：11610906
> 
> 赞同：0
> 
> 时间：2012-07-23T10:39:17.400
> 
> 标签：javascript, jquery

我最近一直在研究一个现在出现 jQuery 错误的网站！直到最近我在 chromes 控制台中注意到这些错误时，它的表现一直很好。这些似乎是在谷歌托管的 jQuery 中出现的。我也尝试过使用以前版本的 jQuery，但它一直显示错误。

它在[https://www.upsandgeneratorparts.com/auction/上在线](https://www.upsandgeneratorparts.com/auction/)

头文件是[http://pastebin.com/PiKigvhg](http://pastebin.com/PiKigvhg)

这是显示的错误：

```
Uncaught TypeError: Property '$' of object [object Window] is not a function
(anonymous function)
e.extend.globalEval jquery-1.7.2.min.js:2
e.extend.globalEval jquery-1.7.2.min.js:2
f.fn.extend.domManip jquery-1.7.2.min.js:4
e.extend.each jquery-1.7.2.min.js:2
f.fn.extend.domManip jquery-1.7.2.min.js:4
f.fn.extend.append jquery-1.7.2.min.js:3
f.fn.extend.html jquery-1.7.2.min.js:4
e.extend.access jquery-1.7.2.min.js:2
f.fn.extend.html jquery-1.7.2.min.js:4
f.fn.extend.load.f.ajax.complete jquery-1.7.2.min.js:4
f.Callbacks.o jquery-1.7.2.min.js:2
f.Callbacks.p.fireWith jquery-1.7.2.min.js:2
w jquery-1.7.2.min.js:4
f.support.ajax.f.ajaxTransport.send.d jquery-1.7.2.min.js:4 
```

有没有办法使用 noconflict 对这个或另一个方便的功能进行排序，或者我只是完全错过了一些东西！

奥利弗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:48:03.357

您正在使用`noConflict`which sets `$`to `undefined`，因此它不再是一个函数。

`.noConflict()`除非您 110% 确定自己在做什么，否则请勿使用。它在技术上是完全无用的功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:45:08.287

如果您使用（您是），`$.noConflict`您将无法再访问该`$`对象。

因此，要么不使用它，要么总是使用`jQuery`对象而不是`$`.

在您提供的页面的来源上，我在第 737 行注意到了这一点：

```
$(document).ready(function() { ... 
```

# rdlc - RDLC 的报表数据工具箱中未出现类（业务对象）

> ID：11610907
> 
> 赞同：1
> 
> 时间：2012-07-23T10:39:18.767
> 
> 标签：rdlc, objectdatasource, business-objects

我在类库中创建了一个本地报表（作为嵌入式资源），我想使用现有的业务对象作为报表的数据源。当我尝试从 Report Data 工具箱添加业务对象时，我看不到要选择的类。我注意到的是，如果业务对象是另一个类库中存在的另一个类的子类，那么它就不会出现。有没有其他人看到这个？所以我尝试过的是：

场景一：

类库 1

1.  报告文件夹 > Report1.rdlc
2.  BO 文件夹 > MyBO 和 MySuperClass
3.  公共课 MyBO : MySuperClass

当我打开 Report1.rdlc 并尝试从 Report Data 工具箱中创建一个新的对象数据源时，MyBO 类是可见的，我可以选择它。如果我将解决方案更改为此：

类库 2 命名空间 ClassLibrary2 { public class MySuperClass { ... } }

类库 1

1.  报告文件夹 > Report1.rdlc
2.  BO 文件夹 > MyBO
3.  公共课 MyBO : ClassLibrary2.MySuperClass

现在，当我尝试添加 MyBO 类时，它不会出现在 Report Data 工具箱中。不幸的是，我正在使用一个产品，我的业务对象必须是另一个类库中的超类的子类。

有谁知道如何解决这个问题或者这是一个错误？哦，我正在使用 .Net 4 和 VS2010。谢谢。

亲切的问候

悉达思

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-02T01:09:43.950

我今天发现了同样的问题，并跟踪到当项目在调试模式下编译为 64 位时，数据源向导找不到任何东西。如果切换到 x86，它们会神奇地出现。我猜向导是 32 位的。

我目前的工作是将调试模式设置为 x86 并将发布模式设置为 x64。这样，我可以根据需要编辑数据源。最终版本运行没有任何问题。

但是，我没有看到它依赖于子类。也许您的其他库已将调试设置为 x86，因此该向导有效。

# html - 是否可以制作每行具有不同数字列和列宽的 CSS3 表？

> ID：11610908
> 
> 赞同：0
> 
> 时间：2012-07-23T10:39:38.457
> 
> 标签：html, css

是否可以使用 CSS3 表格使其看起来像这样

```
 +---A---+---B---+---C---+---D---+---E---+
 >>>>+---A---+---B---+---C---+---D---+<<<<  ---> case 1
 +---A---+---B---+---C---+---D---+---E---+ 
```

案例1：需要将第一个单元格留边距吗？是否有任何代码使自动保证金

```
 +---A---+---B---+---C---+---D---+---E---+
 +-----A-----+-------B-------+---C---+-D-+  ---> case 2 
```

案例 2： colspan 在单元格宽度上的工作是相同的。如果单元格宽度不同怎么办。可能吗？

所有这些代码都必须仅在 CSS3 和 HTML5 中。没用`<table>`，只有`<tr>`_`<td>``<div>`

我应该转换为使用网格而不是使用表格吗？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:48:24.793

如果它是表格数据，则使用表格，如果不是，则使用其他内容。

从您的示例中，列宽不匹配，并且 colspans 不符合您的要求，很难看出数据如何成为表格数据。

有几个选项，如果你以正确的方式做，colspan 可以工作。例如，在普通单跨单元格上设置 2 的 colspan 将允许您使其他单元格跨到另一列的中途。

或者，如果它真的不是表格数据，那么使用 DIV 并将它们适当地定位。

使用表格，您将无法在不影响所有其他行单元格的宽度的情况下改变一行单元格的宽度，但我什至不确定一旦绘制表格后您是否可以动态更改 colspan，老实说从未尝试过）。

老实说，我怀疑您真的希望使用 DIV 来解决这个问题，因为您的数据似乎确实不适合表格数据模型。Tbular 数据通常在列上具有与相应列中的列标题相对应的数据的标题。您的单元格似乎可以自由移动，因此不会固定在任何特定的列标题下。

我从布局中猜测您可能正在创建某种日历？并且事件可以跨越列的任何时间距离等？在这种情况下，我个人更喜欢 div，尽管我知道有些人更喜欢使用表格。

# apache-flex - 增加柱形图 y 轴值之间的边距

> ID：11610914
> 
> 赞同：0
> 
> 时间：2012-07-23T10:40:08.977
> 
> 标签：apache-flex, charts

这是我使用 Flash 帮助页面中提供的示例绘制的柱形图图像。

现在我需要增加 y 轴系列的边距。例如，根据所附图像，它是 200，我想制作 500，这样 y 轴标签栏上的点数就会减少。

![在此处输入图像描述](../Images/147bc0f4724317bffc7604d9fb2e1edc.png)

谢谢你的建议！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-24T12:51:57.923

我认为上述答案实际上并不能满足我的要求。

flash“间隔”中有一个简单的属性。它成功了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-24T06:29:40.733

1.  您可以创建自己的 labelFunction，通过它可以更改 Y 轴标签的默认值。
2.  您还可以使用 Mahesh Parate 的建议来设置 Y 轴标签的最小值和最大值。
3.  或者您可以同时使用 1 和 2

# android - 如何在布局（不是活动）之间添加过渡

> ID：11610918
> 
> 赞同：1
> 
> 时间：2012-07-23T10:40:23.230
> 
> 标签：android, android-layout

我有一个应用程序，当用户单击表格行时，它会更改布局。这是代码

```
 <TableRow
                android:id="@+id/tableRow1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:background="@drawable/cell_table"
                android:onClick="goAir" > 
```

以及 onClick 的方法：

```
public void goAir(View view){
    setContentView(R.layout.va_air);
} 
```

如何在布局更改之间添加过渡。幻灯片之类的东西。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:49:17.540

有多种方法可以做到这一点。我更喜欢使用片段。

```
/**
 * Adding given Fragment into content area without transition.
 * This is good for initializing view.
 * @param f
 */
private void addContentView(Fragment f){
    FragmentTransaction ft =getSupportFragmentManager().beginTransaction();
    ft.add(R.id.contentPane, f).commit();
}

/**
 * Replacing Fragment in content area with given Fragment
 * @param f Fragment to display
 * @param tag String of the content area
 * @param animIn Resource ID for new screen transition.
 * @param animOut Resource ID for old screen transition.
 */
private void replaceContentView(Fragment f, String tag, int animIn, int animOut){
    // -1 is passed when I want to use default animation.
    if(animIn == -1) animIn = R.anim.fragment_slide_left_enter;
    if(animOut == -1) animOut = R.anim.fragment_slide_left_exit;
    FragmentTransaction ft =getSupportFragmentManager().beginTransaction();
    ft.setCustomAnimations(animIn, animOut); // Animate new view in and existing view out

    ft.replace(R.id.contentPane, f, tag); // id of the FrameLayout to put the Fragment in
    ft.commit();
} 
```

# android - EditText.getLocationOnScreen() 为 2 个不同的位置返回相同的结果

> ID：11610920
> 
> 赞同：3
> 
> 时间：2012-07-23T10:40:28.913
> 
> 标签：android, keyboard, position, android-edittext

我有一个`dialog`，`EditText`当用户点击它时，软键盘会出现并向上推`dialog`（以免隐藏它）。当键盘被关闭时，它会`EditText`恢复到原来的位置。这是标准行为。`EditText`明显移动了，但是调用,`getLocationOnScreen()`等`getBottom()`对两个位置返回相同的结果。我在这里遗漏了什么还是这是Android中的错误？

顺便说一句，我问的原因是因为这种行为导致我们的一些 Robotium 测试失败，因为 Robotium 依赖于`getLocationOnScreen()`计算点击的位置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:46:58.443

您需要`android:windowSoftInputMode="adjustResize"`在 AndroidManifest.xml 文件中添加您的标签

或者

看看这个

[Android：当焦点在 EditText 上时自动显示软键盘](https://stackoverflow.com/questions/2403632/android-show-soft-keyboard-automatically-when-focus-is-on-an-edittext)

这肯定会帮助你。

谢谢 ：）

# internet-explorer - powershell优雅/干净地关闭Internet Explorer

> ID：11610922
> 
> 赞同：5
> 
> 时间：2012-07-23T10:40:36.433
> 
> 标签：internet-explorer, powershell

我想干净/优雅地关闭 Internet Explorer。taskkill 会关闭它，但是当重新打开它时，它会询问您是否要重新打开最后一个会话。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-23T12:35:16.760

尝试 CloseMainWindow 方法：通过向其主窗口发送关闭消息来关闭具有用户界面的进程。

```
Get-Process iexplore | Foreach-Object { $_.CloseMainWindow() } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-06-18T23:20:34.287

试试这个：`get-process iexplore | stop-process`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-15T18:38:05.687

这将循环并在其所有窗口上调用 CloseMainWindow，这是优雅的关闭 api 调用 - 它会休眠半秒，以便在四处走动之前有时间关闭每个窗口：

`powershell -Command "while ($true){Try{$process=Get-Process iexplore -ErrorAction Stop}Catch [Microsoft.PowerShell.Commands.ProcessCommandException]{break;}if ($process) {$whateva=$process.CloseMainWindow()}else {break;}Start-Sleep -m 500}"`

# java - sudzc for java的任何替代方案？

> ID：11610928
> 
> 赞同：1
> 
> 时间：2012-07-23T10:41:01.037
> 
> 标签：java, web-services, android-ksoap2, sudzc

[sudzc](http://sudzc.com/)是一个非常好的在线工具，用于获取捆绑的 API，用于向 SOAP 服务发送请求并使用该 Web 服务的 WSDL 链接从服务获取响应。我想知道有没有像 sudzc for java 这样的东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-24T15:06:57.990

我也在寻找类似的东西——那里似乎有很多 WSDL-to-Java 实用程序，但大多数都没有维护或不支持 Android。我能找到的最接近的是这个[Android ksoap2 存根生成器](http://www.davidgouveia.net/android-ksoap2-stub-generator/)。它看起来像是完美的东西，但我并没有取得很大的成功（生成的代码很容易出错），但这可能是我的 WSDL 文件。希望你有更多的运气。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-24T15:09:38.263

[SoapUI](http://www.soapui.org/)会做你需要的吗？它作为一种交互式测试工具非常有用，但它也可以与不同的 Java 库（Axis、Jax 等）连接以创建 Web 服务 Java 代码。

# android - 在 Android 上显示广告

> ID：11610935
> 
> 赞同：0
> 
> 时间：2012-07-23T10:41:28.473
> 
> 标签：android, leadbolt

我必须使用 jar 在屏幕底部显示一个广告。`leadboltcontroller`我已经实现了代码，并且我也提供了所有权限集。但我没有收到任何广告。这是我的代码：

```
public class Leadbolt_DemoActivity extends Activity {
    /** Called when the activity is first created. */

    private AdController mucontroller;
    private String MY_LB_SECTION_ID="328886602";
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
      RelativeLayout rlbottom=(RelativeLayout)findViewById(R.id.relbottom);
      final Activity act = this;  
      rlbottom.post(new Runnable() {

          public void run() { 
              mucontroller = new AdController(act, MY_LB_SECTION_ID); 
              mucontroller.setAsynchTask(true);

              mucontroller.loadNotification();
              mucontroller.setAdditionalDockingMargin(50);
              mucontroller.loadAd(); 
          } 
          //});
      }); 
```

我已经在另一台机器上给出了另一个应用程序的一个 addid，但我仍然没有得到任何 addid..每个应用程序和每台机器的 addid 是否唯一？请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T11:07:41.177

用于`Relativelayout`广告的页脚定位

```
 <?xml version="1.0" encoding="utf-8"?>
 <RelativeLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">
<bla.bla.AdView
        android:id="@+id/ad"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:background="#FF0000"/>
<ListView
        android:id="@android:id/list"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_above="@id/ad"/> 
```

[这](https://stackoverflow.com/questions/5380383/how-to-get-ad-to-show-at-bottom-of-screen-without-overlap)是您正在寻找的帖子..

# ios - 在 iOS 6 中使用 MapKit 提供步行路线

> ID：11610940
> 
> 赞同：1
> 
> 时间：2012-07-23T10:41:34.417
> 
> 标签：ios, mapkit

我意识到 iOS 6 仍处于保密协议之下，所以我会保持我的问题简洁明了。

有没有办法在我自己的应用程序中提供步行路线而不使用 Maps.app？我知道我可以向 Maps.app 发送请求以显示路线，但如果可能的话，我希望能够从我自己的应用程序中提供路线吗？

iOS 6 中有一些新类看起来可能会做我想做的事，但我目前无法测试它们。我会看看并尝试实现一些东西，但我想在浪费时间之前确保它是可能的。

任何信息将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T11:39:17.663

由于 iOS 6 现在已经完全脱离 NDA，我可以肯定地说，在您自己的应用程序中提供步行路线绝对是不可能的。

但是，如果需要，您可以使用格式正确的请求打开 Maps.app 以提供方向。

# ruby-on-rails-3 - 查找所有使用 .all 与 where

> ID：11610942
> 
> 赞同：2
> 
> 时间：2012-07-23T10:41:51.937
> 
> 标签：ruby-on-rails-3, activerecord

在我的控制器中，我将所有条目从这样的表中获取

```
@enums = Enuemerations.all 
```

然后我想通过做搜索并从中获取名称

```
@enums.find(107).name 
```

我收到一个错误

```
undefined method `name' for #<Enumerator:0xb5eb9d98> 
```

所以我在 rails 控制台试了一下，发现这个工作

```
Enumeration.where(false).find(107) 
```

这不起作用

```
Enumeration.all.find(107) 
```

有人可以向我解释这是如何工作的吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T10:58:42.710

使用`Enumeration.all`即时查询返回`Array`所有枚举记录的数据库（如果您只想要一条记录，这将非常低效）。它不再知道 ActiveRecord 方法：

```
 > Enumeration.all.class
  Enumeration Load (0.1ms)  SELECT "enumerations".* FROM "enumerations" 
 => Array 
```

调用需要不同语法`find`的`Array`用途，例如：[`Enumerable#find`](http://ruby-doc.org/core-1.9.3/Enumerable.html#method-i-find)

```
enums = Enumeration.all
enum = enums.find { |e| e.id == 2 }
 => #<Enumeration id: 2, name: "..."> 
```

* * *

使用`Enumeration.where(false)`只返回一个惰性`ActiveRecord::Relation`，它实际上并没有命中数据库（还），这允许您链接额外的 ActiveRecord 方法，`find`例如上面的示例。

```
> Enumeration.where(false).class
 => ActiveRecord::Relation 

> Enumeration.where(false).find(2)
  Enumeration Load (0.2ms)  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."id" = ? LIMIT 1  [["id", 2]]
 => #<Enumeration id: 2, name: "..."> 
```

# django - Django 1.4 - assertQuerysetEqual - 如何使用方法

> ID：11610943
> 
> 赞同：22
> 
> 时间：2012-07-23T10:41:55.730
> 
> 标签：django, testing, django-queryset

我想知道 TestCase.assertQuerysetEqual 方法是如何工作的。我以不同的方式进行了尝试，每种方式都将我引导到另一个错误消息。

```
#create a backup of all records in the tree
tree_record_backup = list(Tree.objects.all())

#do some updates on another table, which should not affect the tree table if everything goes wrong

#check if list of tree records did not changed
tree_record_qs = Tree.objects.all()
#Number1:
self.assertQuerysetEqual(tree_record_qs,[repr(tree_record_backup)])
#Number2:
self.assertQuerysetEqual(tree_record_qs,tree_record_backup) 
```

Number1 的错误消息：

```
First list contains 21 additional elements.
First extra element 1:
node.pk: 2 - node: node2 - pk: 2 - level: 0 - ancestor: 2 
```

编号 2 的错误消息：

```
AssertionError: Lists differ: ['<Tree: node.pk: 1 - node: ro... != [<Tree: node.pk: 1 - node: roo...

First differing element 0:
<Tree: node.pk: 1 - node: root - pk: 1 - level: 0 - ancestor: 1>
node.pk: 1 - node: root - pk: 1 - level: 0 - ancestor: 1 
```

感谢您提示如何正确使用 assertQuerysetEqual 方法。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-01-07T02:20:03.967

`assertQuerysetEqual`接受一个`queryset`，一个*值列表*和一个在查询集`transform`上调用的可调用对象，以将其转换为与值列表相当的东西。默认情况下，这个可调用对象是`repr`. 这有点烦人，因为它实际上并没有比较两个查询集，但大多数情况下的简单解决方法是使用`map(repr, your_second_queryset)`值列表。这[在 django 自版本 1.3 开始记录](https://docs.djangoproject.com/en/2.2/topics/testing/tools/#django.test.TransactionTestCase.assertQuerysetEqual)。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-09-25T20:35:30.047

试试这个：

```
self.assertQuerysetEqual(
    tree_record_qs,
    [repr(r) for r in tree_record_backup]
) 
```

这有点奇怪和无证；但是，这应该对你有用。

# android - Android 应用程序将标签发送到非接触式阅读器 ISO 14443 A 或 B 设备

> ID：11610946
> 
> 赞同：1
> 
> 时间：2012-07-23T10:42:07.257
> 
> 标签：android, nfc

每个人都知道如何构建可以向阅读器设备 ISO 14443 A / B 发送一些信息的 android nfc 应用程序吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T16:15:36.173

P2P是可能的。最具挑战性的是找到合适的库/SDK 和商业质量的阅读器。到目前为止，我们已经尝试了 3 种开源解决方案（nfclib、ISMB 等），但它们都没有真正为商业系统推出做好准备。现在我们已经订购了另外 2 种 NFC 阅读器和 SDK——我们正在等待它们交付给他们进行测试:(

问题还在于手机方面 - 到目前为止，我们已经测试了 5 款 NFC Android 手机，每款手机的行为都不同......对我们来说，最好的是模拟 NFC 标签或 MIFARE 芯片的阅读器......

彼得

# extjs - Ajax 数据未加载到组合框中

> ID：11610947
> 
> 赞同：3
> 
> 时间：2012-07-23T10:42:10.707
> 
> 标签：extjs

我在 extjs 应用程序中使用了组合框组件。我想通过json加载列表。但是当我点击组合框时，列表没有显示。请帮助我。

以下是ajax调用：

```
Ext.Ajax.request({
                            url: 'data/vgroup.json',
                            method: 'Get',
                            timeout: 9000,
                            success: function(response, opts) {
                                var device = Ext.decode(response.responseText);
                                var device_records = new Array();

                                for(var itr=0; itr < device.vgroup.length; itr++) {
                                    var record = new Array();
                                    record[0] = device.vgroup[itr].name;
                                    //alert(device.vgroup[itr].name);
                                    device_records[itr] = record;
                                }

                                vgfrmextension_device = new Ext.data.ArrayStore({
                                    fields: ['name'],
                                    data : device_records
                                });
                            },
                            failure: function(response, opts) {
                                Ext.MessageBox.alert('Failure', "Link not found");
                            }
                        }); 
```

以下是组件：

```
{
            xtype:'combobox',
            fieldLabel: 'Team name* ',
            editable:false,
            /*allowBlank: false,*/
            store: vgfrmextension_device,
            valueField:'name',
            displayField:'name',
            name: 'txtMode',
            id:'txtModeId',
            queryMode: 'local',
            triggerAction: 'all',
            emptyText:'Select Mode',    
            listeners: {

            }
        }, 
```

这是json：

```
{
    vgroup: [
        {
            'id': 'team1',
            'name': '100G',
            'size': '5646546546',
            'available': '545644541',
            'player': 'avi',
            'status': 'Good'
        }, 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T14:41:34.033

您应该通过商店进行加载。这是我的一个旧应用程序的一个示例：

```
FC.Global.Toolbar = [{
    xtype: 'combo',
    store: new Ext.data.JsonStore({
        proxy: new Ext.data.HttpProxy(new Ext.data.Connection({
            url: 'comboboxlist.php'
        })),
        root: 'items',
        fields: ['name']
    }),
    displayField: 'name',
    valueField: 'name',
    mode: 'local',
    triggerAction: 'all',
    typeAhead: true,
    minChars: 1,
    id: 'widgetloadcombobox',
    listeners: {render: function(e) {this.getStore().load();}}
},{
    // Other toolbar items
}] 
```

下面是 HttpProxy 调用返回的 JSON 的样子（只有一个项目）：

```
{"items":[{"name":"Generator"}]} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-17T07:21:45.983

可能您应该首先检查 device_records 数组。

```
Ext.Ajax.request({
                            url: 'data/vgroup.json',
                            method: 'Get',
                            timeout: 9000,
                            success: function(response, opts) {
                                var device = Ext.decode(response.responseText);
                                var device_records = [
                                         {"name":"John"},
                                         {"name":"Anna"},
                                         {"name":"Peter"}
                               ];
                                vgfrmextension_device = new Ext.data.ArrayStore({
                                    fields: ['name'],
                                    data : device_records
                                });
                            },
                            failure: function(response, opts) {
                                Ext.MessageBox.alert('Failure', "Link not found");
                            }
                        }); 
```

如果可行，您可以像这样更改填充策略：

```
Ext.Ajax.request({
                            url: 'data/vgroup.json',
                            method: 'Get',
                            timeout: 9000,
                            success: function(response, opts) {
                                var device = Ext.decode(response.responseText);
                                var device_records = [];

                                for(var itr=0; itr < device.vgroup.length; itr++) {
                                    device_records.push(
                                              {
                                               "name": device.vgroup[itr].name
                                            });
                                }

                                vgfrmextension_device = new Ext.data.ArrayStore({
                                    fields: ['name'],
                                    data : device_records
                                });
                            },
                            failure: function(response, opts) {
                                Ext.MessageBox.alert('Failure', "Link not found");
                            }
                        }); 
```

问候。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-17T07:36:57.610

您的问题主要是您正在进行 Ajax 调用，它是**异步**的，并在其中创建了一个 NEW 存储，该存储被设置到`vgfrmextension_device`变量中。

并且您使用与组合框中的存储*相同*的变量 - 但在异步调用完成之前。如此有效地告诉组合框：您的商店是`undefined`，然后您创建了一个商店，但该商店从未附加到组合框。

您应该在创建组件之前和开始请求之前创建 ArrayStore，并在返回时将数据加载到现有存储中：

```
var vgfrmextension_device = new Ext.data.ArrayStore({
    fields: ['name']
});
Ext.Ajax.request({
    url: 'data/vgroup.json',
    method: 'Get',
    timeout: 9000,
    success: function(response, opts) {
        var device = Ext.decode(response.responseText);
        var device_records = new Array();
        for(var itr=0; itr < device.vgroup.length; itr++) {
            var record = new Array();
            record[0] = device.vgroup[itr].name;
            //alert(device.vgroup[itr].name);
            device_records[itr] = record;
        }
        vgfrmextension_device.setData(device_records); 
```

**或者**，您可以将商店附加到`success`方法中的组合框：

```
vgfrmextension_device = new Ext.data.ArrayStore({
    fields: ['name'],
    data : device_records
});
Ext.getCmp("widgetloadcombobox").setStore(vgfrmextension_device); 
```

# java - 注射器的Guice和“注射”

> ID：11610957
> 
> 赞同：2
> 
> 时间：2012-07-23T10:42:55.597
> 
> 标签：java, singleton, instance, guice, cdi

阅读这篇文章后，我尝试了 Google Guice：http: [//tech.puredanger.com/2007/07/03/pattern-hate-singleton/](http://tech.puredanger.com/2007/07/03/pattern-hate-singleton/)

但是有一点我不明白：当您使用 Guice 的 @Singleton 注释时，注入会注入相同的实例，但只针对一个注入器。

如果我在其他地方创建另一个注入器，@Singletion 不起作用（如文档中所述）。

所以我将不得不在我的代码中的任何地方传递注入器实例，或者使其在单例中可用。

这正是我想避免的。

我们如何管理 injectorS 以使其每次都返回相同的实例？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:54:17.507

使用 Guice 的代码通常不需要访问注入器本身：`Provider<T>`如果对象需要构造多个，它们将接收它们的依赖关系或它们的依赖关系。

通常，对象仅在具有依赖项但本身不是由注入器创建的情况下才需要注入器（因此它们不能注入其依赖项）。如果您在任何地方都使用 Guice，您可能只需要在应用程序启动时执行此操作。如果您只在项目的一部分中使用 Guice，则注入器将成为一个单例，代理您现在通过它访问的所有其他单例。

请注意，带注释的类`@Singleton`仍然是单例对象，尽管没有与非注入单例相关的一些包袱。你仍然应该尽量避免过度依赖它们。

# statistics - 我在哪里可以看到 fb_ref 数据？

> ID：11610960
> 
> 赞同：0
> 
> 时间：2012-07-23T10:43:03.540
> 
> 标签：statistics, facebook-like, ref

我有一个带有赞按钮的外部页面，它喜欢我的 Facebook 页面。

点赞按钮是一个带有 app_id 等的应用程序。

该按钮通过调用

```
<div class="fb-like" data-href="http://www.facebook.com/My.Page?ref=likegametest20120723&fb_ref=likegametest20120723&fb_source=likegametest20120723" data-send="false" data-width="450" data-show-faces="false" ref="likegameref" fb_ref="likegamefbref" fb_source="likegamefbsource"></div> 
```

该按钮按应有的方式工作，但我在见解或其他地方找不到任何这些参考。

我应该在哪里寻找它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T11:21:20.187

`fb_ref`Facebook 不跟踪价值。Facebook 只是将`fb_ref`值传递给您的应用程序/网站，让您自己跟踪它们（即使用谷歌分析）。

来自 Facebook 的引述：

> 为 ref 属性指定一个值会将“fb_ref”参数添加到从插件中单击的返回您网站的任何链接。为页面中此插件的不同位置和配置使用不同的 ref 参数值，您可以跟踪哪些实例执行得最好。

# ios - 如何单独使用 Sencha touch 2 访问原生 iOS 文件系统

> ID：11610961
> 
> 赞同：0
> 
> 时间：2012-07-23T10:43:05.603
> 
> 标签：ios, ipad, cordova, filesystems, sencha-touch

我正在开发 Sencha Touch 应用程序。

此应用程序中有一个用例，我需要修改文本文件并将其再次保存在 iOS 设备上。

由于我已经处理了近 300-400 MB 的数据，所以我不能在这里使用本地存储（如果我错了，请纠正我）。

在这里，我不想使用 Phonegap 或任何其他框架来访问本机文件系统。

你能告诉我，我如何单独使用 Sencha touch 访问本机文件系统。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T10:51:25.773

由于 Sencha 是一个用于构建 HTML5 应用程序（因此是网站）的平台，因此您无法访问本机 iOS 文件系统，除非您使用 Sencha SDK 工具和本机打包（但您似乎不想使用它）。

# javascript - 使用 localStorage 在本地存储字体

> ID：11610965
> 
> 赞同：4
> 
> 时间：2012-07-23T10:43:40.123
> 
> 标签：javascript, caching, local-storage

如何使用 localStorage 存储 .woff 和 .ttf 文件？我不想使用应用程序缓存。帮我。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T11:16:47.563

localStorage 旨在存储文本键/值对，因此如果要保存二进制数据，您可能需要对数据进行 base64 编码。编码二进制数据的大小将大于原始大小，并且 localStorage 大小限制为几 MB（通常为 5-10M）。将字体文件保存在 localStorage 中可能不是一个好主意。

用于存储的磁盘空间：http: [//dev.w3.org/html5/webstorage/#disk-space](http://dev.w3.org/html5/webstorage/#disk-space)

测试 localStorga 限制：[http ://arty.name/localstorage.html](http://arty.name/localstorage.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:22:16.920

您可以将字体存储在 base64 数据中。

localStorage.font1 = string(指定字体的base64数据)

# c# - 我可以更改表单控件值但不触发事件吗？

> ID：11610969
> 
> 赞同：3
> 
> 时间：2012-07-23T10:43:48.130
> 
> 标签：c#, .net, winforms, events

这可能很难问，但我会尽力而为。SO 和其他地方有很多关于在更改时触发事件的东西，但我想要相反的东西（至少我认为我这样做！）。

`numericUpDowns`我在表单 ( )上有几个控件。对于每个 updown，我都在观察一个值是否已更改，它将触发一个“ValueChanged”方法。

```
private void numericUpDown1_ValueChanged(object sender, EventArgs e)
{
    //do some complicated code ...
} 
```

这一切都适用于对上下控件的更改导致重新计算 fomr 但是如果我想在一个方法中设置一些值并且`ValueChanged`直到最后才调用我的方法怎么办？

我几乎想要这样的东西

```
// start ignoring form events here
numericUpDown1.Value = 500;
numericUpDown2.Value = 50;
numericUpDown3.Value = 0;
// resume detecting form events here ! 
```

有没有办法打开和关闭它？这是我应该担心的事情吗？

我有限的 C# 知识将我带到这一点的最好的事情是创建一个名为“ `bIgnoreEvents`”的变量并在我的每个`ValueChanged`方法中使用它......

```
private void numericUpDown1_ValueChanged(object sender, EventArgs e)
{
    if (!bIgmoreEvents)
    {
        //do some complicated code ...
    }
} 
```

这会跳过代码，但看起来很乱。有没有更简单的方法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-23T11:32:59.190

你也可以这样做：

```
var eventHandler = new EventHandler((o, a) =>
{
    //do stuff
});

numericUpDown1.ValueChanged += eventHandler;

//normal behaviour

//remove eventHandler    
numericUpDown1.ValueChanged -= eventHandler;

numericUpDown1.Value = 500;
numericUpDown2.Value = 50;
numericUpDown3.Value = 0;

//add eventHandler
numericUpDown1.ValueChanged += eventHandler; 
```

# php - Ajax 到 php 不起作用

> ID：11610974
> 
> 赞同：1
> 
> 时间：2012-07-23T10:43:56.290
> 
> 标签：php, jquery, ajax

我正在尝试将事件侦听器附加到单击时将进行 ajax 调用的按钮。

我在一个名为 test.php 的文件中预留了一些 php。我使用了实时 jquery 函数来攻击按钮的点击事件。ajax 函数会将页面上输入元素的值传递给 test.php。然后 test.php 文件将使用该值来确定要使用的文件的 url。test.php 文件根据匹配的电子邮件对 csv 文件进行重复数据删除。csv 文件通过上传输入元素上传。

这是我的代码，目前不工作。Fiddler 显示正在向服务器发送请求，但没有响应。

**HTML**

```
<input type="button" id="csv_dedupe" value="dedupe-file"> 
```

**jQuery**

```
$_CFG_PROCESSORFILE = "http://localhost/Gene/IMEXporter/include/IMEXporter_processor.php";

$("#csv_dedupe").live("click", function(e) {
    file_name = 'C:\\server\\xampp\\Gene\\IMEXporter\\include\\files\\' + $("#IMEXp_import_var-uploadFile-file").val();
    $.post($_CFG_PROCESSORFILE, {"task": "csv_dupe", "file_name": file_name}, function(data) {
        alert("success");
    }, "json")
}); 
```

**PHP**

```
if ($task == "csv_dupe") {
$input_filename = $_REQUEST["file_name"];
$output_filename = $_REQUEST["file_name"];

$input_file = fopen($input_filename, 'r');
$output_file = fopen($output_filename, 'w');
$email_addresses = array();
// Read the header
$headers = fgetcsv($input_file, 0);
fputcsv($output_file, $headers);
// Flip it so it becomes name => ID
$headers = array_flip($headers);

// Read every row
while (($row = fgetcsv($input_file, 0)) !== FALSE)
{
    $email = $row[$headers['email']];
    // Do we already have this email address?
    if (isset($email_addresses[$email]))
        continue;

    // Mark this email as being found
    $email_addresses[$email] = true;
    // Write it to the output
    fputcsv($output_file, $row);
} 
```

}

我似乎无法弄清楚为什么它不起作用以及我做错了什么。任何想法将不胜感激。

**编辑** **已修复但显示新错误**

请求返回时，我收到了一些错误。

警告：fputcsv() 期望参数 2 是数组，布尔值在 C:\server\xampp\htdocs\Gene\IMEXporter\include\IMEXporter_processor.php 第 45 行给出

警告：array_flip() 期望参数 1 是数组，布尔值在 C:\server\xampp\htdocs\Gene\IMEXporter\include\IMEXporter_processor.php 第 47 行“成功”中给出

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T17:08:23.130

[在这里](http://www.php.net/manual/en/function.fgetcsv.php#87196)找到有类似问题的人。

打开文件前添加行

```
ini_set('auto_detect_line_endings',TRUE); 
```

fgetcsv() 在到达文件末尾时返回布尔值“false”。来自 php 手册：

```
fgetcsv() returns NULL if an invalid handle is supplied or FALSE on other errors, including end of file. 
```

参考：

*   [http://php.net/manual/en/function.fgetcsv.php](http://php.net/manual/en/function.fgetcsv.php)
*   [php fgetcsv 返回所有行](https://stackoverflow.com/questions/5539053/php-fgetcsv-returning-all-lines)

# google-api - 如何在 google API 服务帐户中创建时间驱动的触发器

> ID：11610975
> 
> 赞同：0
> 
> 时间：2012-07-23T10:44:12.640
> 
> 标签：google-api, google-apps-script

我们的一个 Java 应用程序使用*google API 服务帐户*来处理共享给它的所有 Google Drive 文档。由于[目前没有用于操作文档内容的 REST API](https://stackoverflow.com/questions/11578020)，因此我计划为此使用带有[时间驱动触发器的](https://developers.google.com/apps-script/understanding_triggers#TimeTriggers)*Google Apps 脚本*。

找不到如何为*google API 服务帐户*设置这样的触发器。需要一些帮助。谢谢。

桑杰

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T11:06:57.423

根据[文档](https://developers.google.com/apps-script/execution_time_triggers)，时间驱动触发器在触发器所有者身份下执行。因此，哪种帐户类型使用您的 Java 应用程序并不重要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T11:46:55.737

*google API 服务帐户*没有特殊的触发器设置触发器对于任何帐户都是相同的。查看[有关触发器的文档以](https://developers.google.com/apps-script/understanding_triggers)获取更多信息

# c# - 如何刷新 GridViewColumn 中的可见单元格？

> ID：11610983
> 
> 赞同：0
> 
> 时间：2012-07-23T10:44:45.883
> 
> 标签：c#, .net, wpf, telerik

我添加了带有自定义属性的自定义 GridViewColumn。我需要通过更改此属性来刷新此列中的可见单元格。我在 PropertyChanged 上添加了订阅，但我不知道下一步该做什么。如何刷新当前列中的单元格？

# eclipse - 使用 Eclipse 插件清理部署程序集

> ID：11610984
> 
> 赞同：1
> 
> 时间：2012-07-23T10:44:48.600
> 
> 标签：eclipse, google-app-engine, plugins

当面临在标准 Java EE/Tomcat 配置中清理所有生成的项目工件/资源的令人羡慕的任务时，我通常会做以下三件事中的一件（或全部）：

*   项目/清洁
*   右键单击我的服务器，然后删除任何人工制品（不记得确切的命令）
*   来源/清洁

我现在正在使用 Google Eclipse Plugin for Appengine，它使用内置的 Jetty 服务器。

首先，该插件没有任何选项可以在重新部署之前清除生成的类文件（好吧，无论如何我都看不到）。其次，服务器不能作为配置选项使用。

是否有任何快速修复可用于清理我的 war/WEB-INF 目录中的所有人工制品/资源？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-24T03:00:54.610

您可以轻松地一键完成它，而不是令人羡慕。只需使用 ant 和模式匹配。在 Eclipse 中打开 ant 视图并添加您的文件，只需单击一下即可。

在 1.7 之前，当应用程序大小受到更多限制时，我曾经复制几乎所有内容，以便可以上传并从 blobstore 提供服务（GWT 排列丰富！）。我经常这样做！！！

有关详细信息，请参阅这些[http://ant.apache.org/manual/Types/fileset.html](http://ant.apache.org/manual/Types/fileset.html)和[http://ant.apache.org/manual/Tasks/delete.html](http://ant.apache.org/manual/Tasks/delete.html)

这是我的简单代码示例：

```
<target name="moveXprojectGae">

     <delete includeemptydirs="true">
        <fileset dir="XprojectGae" includes="**/*"/>
      </delete>

    <move todir="XprojectGae">
        <fileset dir="war/XprojectGae">
            <exclude name="**.rpc"/>
            <exclude name="**nocache.js"/>
        </fileset>
    </move>

</target> 
```

# android - 如何配置应用程序以在每次启动移动设备时运行？

> ID：11610985
> 
> 赞同：4
> 
> 时间：2012-07-23T10:44:52.700
> 
> 标签：android, titanium, appcelerator

在`Titanium Appcelerator`如何配置我`App`的移动设备启动后立即开始运行？有任何想法吗 ？
谢谢你

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T10:59:16.800

要侦听系统启动事件，您应该注册一个`BroadcastReceiver`侦听`android.intent.action.BOOT_COMPLETED`操作。在其`onReceive()`方法中，您可以启动任何其他应用程序组件，例如`Services`或`Activities`。希望这可以帮助。

# c# - 如何使用 C#.net 在 Windows 应用程序中以一种形式将组合框中的数据传递给另一种形式的 gridview

> ID：11610987
> 
> 赞同：-1
> 
> 时间：2012-07-23T10:44:59.387
> 
> 标签：c#

我有一个表格的gridview和另一个表格的组合框。如果我在组合框中选择一个值，该值应该传递给gridview。我怎样才能实现这个...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T12:08:37.630

你的问题细节太少，但作为一个建议，我会尝试放置一些代码，也许它会给你一些提示。

```
// In case if you're dealing with WinForms
// For WPF solution could have similar approach

public class DataGridForm : Form
{
    private DataGrid _grid;

    public DataGridForm()
    {
        InitializeComponent();// <-- here _grid is instantiated      
    }

    public void LoadData(object data)
    {
        // load data into grid
        // I don't know, could be smt like
        DataGridCell cell = _grid.Cells[0,0];
        cell.Value = data; 
    }
}

public class FormWithComboBox : Form
{
    private ComboBox _comboBox;

    public DataGridForm DataGridForm { get; set; }// value is set by some externat user

    public FormWithComboBox()
    {
        InitializeComponent();// <-- here _grid is instantiated      
        // including handler for OnSelectedItemChanged event
    }

    private void _comboBox_OnSelectedItemChanged(object sender, EventArgs e)
    {
        DataGridForm.LoadData(_comboBox.SelectedItem);
    }
} 
```

# sql - 如何将 Perl 中的 2 个 CSV 文件与 DBI 和 DBD::CSV 合并？

> ID：11610991
> 
> 赞同：1
> 
> 时间：2012-07-23T10:45:14.090
> 
> 标签：sql, perl, dbi

我需要帮助来编写 perl DBD::CSV 包的 SQL 语句。我想合并 2 个 CSV 文件，如下所示：

文件 1.csv：

```
VM_Name,VM_Cluster,VM_Zone
VM1," Cluster4","Zone3"
VM2," Cluster3","Zone4"
VM3," Cluster2","Zone1"
VM4," Cluster1","Zone2" 
```

文件 2.csv：

```
VM_Name,vFiler_IP,vFiler_Zone
VM1," 10.10.10.10","Zone5"
VM2," 10.10.10.11","Zone8"
VM3," 10.10.10.12","Zone8"
VM4," 10.10.10.13","Zone8" 
```

合并文件应如下所示：

```
VM_Name,VM_Cluster,VM_Zone,vFiler_IP,vFiler_Zone
VM1," Cluster4","Zone3"," 10.10.10.10","Zone5"
VM2," Cluster3","Zone4"," 10.10.10.11","Zone8"
VM3," Cluster2","Zone1"," 10.10.10.12","Zone8"
VM4," Cluster1","Zone2"," 10.10.10.13","Zone8" 
```

这是我的 perl 代码：

```
#!/usr/bin/perl -w

use strict;
use Data::Dump qw/dump/;
use DBI;

my $dbh = DBI->connect ("dbi:CSV:",
                        "", "", 
                        {   
                              f_dir       =>      './Desktop',
                              f_schema    =>       undef,
                              f_ext       =>      '.csv/r',
                        }   
                    ) or die " Cannot create Database Handle: $DBI::errstr()";
$dbh->{RaiseError} =1 ;

my $table1 = "file1";
my $table2 = "file2";

my $query = "SELECT $table1.VM_Name, $tabel1.VM_Cluster, $table1.VM_Zone, $table2.vFiler_IP, $table2.vFiler_Zone FROM $table1 join $table2  WHERE $table1.VM_Name = $table2.VM_Name";
my $result = $dbh->selectall_arrayref ($query);
print dump ($result); 
```

输出应该是我在“[]”括号中使用的 talbe，但我得到的只是一个空的“[]”括号，如下所示：

```
[] 
```

我猜我写的“$query”语句是错误的。你能帮忙找出这个工作的正确查询吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:57:37.777

我不确定 DBD::CSV 如何尊重 SQL，但通常如果你`join`，你也应该说`on`加入什么：

```
select $table1.VM_Name,
       $tabel1.VM_Cluster,
       $table1.VM_Zone,
       $table2.vFiler_IP,
       $table2.vFiler_Zone
  FROM $table1 join $table2  
               ON $table1.VM_Name = $table2.VM_Name 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T12:31:14.530

您的 SQL 语句中有错字。更改此行：

```
my $query = "SELECT $table1.VM_Name, $tabel1.VM_Cluster, $table1.VM_Zone, $table2.vFiler_IP, $table2.vFiler_Zone FROM $table1 join $table2  WHERE $table1.VM_Name = $table2.VM_Name";
                                      ^--- $table1 
```

你需要使用：

```
my $query = "SELECT $table1.VM_Name, $table1.VM_Cluster, $table1.VM_Zone, $table2.vFiler_IP, $table2.vFiler_Zone FROM $table1 join $table2  WHERE $table1.VM_Name = $table2.VM_Name"; 
```

有了这个，我的输出是：

```
[
  ["VM1", " Cluster4", "Zone3", " 10.10.10.10", "Zone5"],
  ["VM2", " Cluster3", "Zone4", " 10.10.10.11", "Zone8"],
  ["VM3", " Cluster2", "Zone1", " 10.10.10.12", "Zone8"],
  ["VM4", " Cluster1", "Zone2", " 10.10.10.13", "Zone8"],
] 
```

* * *

**更新**：如果我运行你的代码，`use strict`因为你用错字​​发布它，我得到：

```
Global symbol "$tabel1" requires explicit package name at test.pl line 3726. 
```

如果我不严格地运行它，我会得到一堆错误：

```
Bad table or column name: '.VM_Zone' has chars not alphanumeric or underscore! at C:/Perl/site/lib/SQL/Statement.pm line 88
DBD::CSV::db selectall_arrayref failed: Bad table or column name: '.VM_Zone' has chars not alphanumeric or underscore! at C:/Perl/site/lib/SQL/Statement.pm line 88
 [for Statement "SELECT file1.VM_Name, file1.VM_Cluster, .VM_Zone, file2.vFiler_IP, file2.vFiler_Zone FROM file1 join file2  WHERE file1.VM_Name = file2.VM_Name"] at test.pl line 3727.
DBD::CSV::db selectall_arrayref failed: Bad table or column name: '.VM_Zone' has chars not alphanumeric or underscore! at C:/Perl/site/lib/SQL/Statement.pm line 88
 [for Statement "SELECT file1.VM_Name, file1.VM_Cluster, .VM_Zone, file2.vFiler_IP, file2.vFiler_Zone FROM file1 join file2  WHERE file1.VM_Name = file2.VM_Name"] at test.pl line 3727. 
```

您发布的内容与实际代码之间有什么区别吗？你重新输入了吗？即使没有`strict`，这也不会编译。它甚至不能输出，因为它在语句`[]`之前就死了。`print`

# linux - Linux / Windows 7 下的组织模式：如何在议程视图中包含相同的文件——这些文件位于不同的位置，具体取决于操作系统

> ID：11610997
> 
> 赞同：3
> 
> 时间：2012-07-23T10:45:26.787
> 
> 标签：linux, windows-7, emacs, path, org-mode

## 我的问题：

我的办公室电脑在 Windows 7 下运行，我的笔记本在 Linux (openSuse 12.1) 下运行。我想在 org-mode 的议程视图中包含某个文件“foo.org”。在 Windows 7 下，路径是 T:/123-12/foo.org ；在 Linux 下，路径是 ~/Documents/Projects/12-123-Projectname/foo.org

在两台计算机上都有一个相同的文件“Projects.org”，其中包含我的项目以及所有时间表、截止日期、花里胡哨。但是这个文件 Projects.org 太大了，我需要将内容交换到项目文件夹中。该文件每天在两台计算机之间同步，当然这两个项目也会同步。

如何将 foo.org 包含在两台计算机的议程视图中，并在主文件“Project.org”中包含一个条目？如果 linux / 如果 windows 7 是否有可能进行切换？或者可以用符号链接来完成吗？

* * *

## 1\. 编辑pmr对[https://stackoverflow.com/a/11611956/1171221的回答](https://stackoverflow.com/a/11611956/1171221)

我可以为每个操作系统添加许多文件吗？例如：

```
(setq org-agenda-files
      (if (eq system-type 'windows-nt)
          '("windows-path1/file1.org" "windows-path2/file1.org" "windows-path3/foo7.org")
          '("unix-path1/file1.org"    "unix-path2/file2.org"    "unix-path3/foo7.org"))) 
```

 感谢您的友好帮助。坦率地说，为每个新的“file-xy.org”更改 .emacs-file 很麻烦，但这似乎是 org.el 的设计。

*重新考虑*您的答案：我在 Linux 和 Windows 上自然有不同的“.emacs”，无法同步 .emacs 文件。要么我必须将此定义外包（我可以以某种方式将其放入我的大型 project.org 中吗？）到一个可以同步的文件中，或者，我必须添加任何额外的“foo-xy.org”手动到相应的 .emacs 文件，我不需要操作系统之间的区别。

* * *

## 2\. 编辑：解决方案

pmrs 的回答和评论是关键。我需要一个文件来提供 Windows 和 Linux 之间的切换。但是我在这两台机器上的 .emacs 文件向不同的方向增长，需要花费太多精力来对齐它们。

作为另一个可以在两台机器之间保持同步的文件，我编写了我的第一个 lisp 文件：AW-org-agenda-files.el，它基本上看起来像这样：

```
;;; AW-org-agenda-files.el --- *.org-Dateien mit TODOs in agenda-view einbeziehen 

;; Copyright: AW
;; Maintainer: AW
;; Keywords: customisation of Orgmode
;; Package: emacs

(setq org-agenda-files
      (if (eq system-type 'windows-nt)
      '("u:/Emacs/whatever.org" "u:/Emacs/Client1.org" "u:/Emacs/Client2.org" 
        "u:/Emacs/Privat.org" "t:/222-2012/file.org")
      '("~/Dokumente/Technik-u-Dokus/Emacs/whatever.org"
            "~/Dokumente/Technik-u-Dokus/Emacs/Client1.org" "~/Dokumente/Technik-u-Dokus/Emacs/Client2.org" "~/Dokumente/RA-win/2012-222-name/file.org")

))

(provide 'AW-org-agenda-files)
;;; end 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T11:50:17.353

用于生成议程的文件存储在变量 中`org-agenda-files`。您可以`.emacs` 根据平台使用变量有条件地初始化此`system-type`变量。

```
(setq org-agenda-files
      (if (eq system-type 'windows-nt)
          '("windows-path/file.org")
        '("unix-path/file.org"))) 
```

了解更多信息：`C-h v system-type RET`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-01T13:09:48.553

另一种解决方案是为系统之间的路径差异创建变量，并创建一个列出所有文件的变量。在您的情况下（省略不遵循相同模式的最终文件）：

```
(defvar my/org-windows "u:/Emacs")
(defvar my/org-linux "~/Dokumente/Technik-u-Dokus/Emacs")
(defvar my/org-agenda-files '("whatever.org"
                              "Client1.org"
                              "Client2.org"
                              "Privat.org")) 
```

然后你只是`mapcar`文件的路径，你就会有你的议程文件列表。

```
(mapcar (lambda (i)
          (expand-file-name i
                            (if (eq system-type 'windows-nt)
                                my/org-windows
                              my/org-linux)))
        my/org-agenda-files) 
```

这不适用于具有其他路径的任何文件，但如果您的路径集有限，您可以为每个位置定义一组变量，然后只需更新该文件夹中的实际文件列表。

# android - 设置apk的进程ID

> ID：11610998
> 
> 赞同：0
> 
> 时间：2012-07-23T10:45:38.427
> 
> 标签：android

我有一个请求。就像我有我创建的应用程序 A 和应用程序 B 的 APK。我是否可以为 apk 和应用程序 A 设置相同的进程 ID 和用户 ID。我没有应用程序 B 的清单，因为它是APK。我是否可以在同一进程中运行 apk 和我自己的应用程序？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T10:53:57.977

您需要`sharedUserId`在两个`manifest.xml`文件中设置 a 。每个设备上的进程 ID（正常安装）不能相同。您从设备获取 id。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:56:17.860

如果您有权访问 apk 的 manifest.xml，则可以设置[sharedUserId](http://developer.android.com/reference/android/R.attr.html#sharedUserId)。

编辑：

如果您只有 apk 文件。您可以使用[android-apktool](http://code.google.com/p/android-apktool/)，该工具允许您“将资源解码为几乎原始的形式并在进行一些修改后重建它们”。因此，您可以访问 AndroidManifest.xml 并更改[sharedUserId](http://developer.android.com/reference/android/R.attr.html#sharedUserId)。

# c++ - 引发异常的辅助方法是个好主意吗？

> ID：11610999
> 
> 赞同：1
> 
> 时间：2012-07-23T10:45:53.027
> 
> 标签：c++, exception, exception-handling

是否有任何理由使用辅助方法来创建和抛出异常是一个坏主意？在正常的编码术语中，这似乎是明智的，但这确实意味着您的堆栈跟踪会更加复杂，这是我唯一关心的问题。

我在这里专门研究 C++，但是如果您想涵盖其他语言以进行比较/启发，请继续！