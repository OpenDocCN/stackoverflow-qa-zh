# StackOverflow 问答 11446000-11446999

# c - C：打开的文件太多

> ID：11446000
> 
> 赞同：2
> 
> 时间：2012-07-12T06:17:49.497
> 
> 标签：c, windows, windows-7, fopen

此代码打开一个目录，对于目录中的每个文件，它都会遍历文件中的每一行数据，然后对其进行解析以进行一些计算并将结果数据输出到一个新文件中。

问题是我最多只能输出大约 1021 个文件。我`fopens`在输出所有数据后关闭了所有的，所以我不确定我做错了什么。

不`fclose()`应该关闭打开的文件，因此这不会发生？

```
int main(int argc, char *argv[])
{

 //sample data values
  double lat;
  double lon;  
  double convergence;   
  double pt_scale;        
  int    zone = 54;              
  double major_axis = 6378137.0000;        
  double flattening = (1/298.2572);        
  double zoneWidth = 6;         
  double centMeridian = -177;      
  double falseEast = FALSE_EASTING;         
  double falseNorth = FALSE_NORTHING;
  double scale = SCALE_FACTOR;  

  int max_size = 128;
  int current_size = max_size;
  char *pathStr = malloc(max_size);
  char *outPathStr = malloc(max_size);
  char coData[100]; //max length of line;
  long firstTerm, secondTerm; //terms we will split the line into, lat, lon, elevation.
  int counter = 0; //pos counter
  int d = EOF; //end of file ASCII
  char strIn[200];
  char* elevation;
  char strOut[200];
  char dirOut[200]; //sprintf must use a actual defined buffer otherwise there will be a buffer overflow.
  char* cchr;
  int j;
  _setmaxstdio(2048);
  printf("Please enter the path of the files: \n");
  getUserInput(pathStr, current_size, max_size); 
  printf("Please enter the output path of the files: \n");
  getUserInput(outPathStr, current_size, max_size);
  //loop through each file in the directory. Open the file, convert, then close it.
  //we will use dirent.h as it is cross platform so we wont have to worry about sharing issues
  DIR *dir; //new directory
  struct dirent *ent;
  dir = opendir(pathStr); //allcate it a path
  if(opendir(pathStr) == NULL)
  { printf("Error: %d (%s)\n", errno, strerror(errno));}
  int k;

  if(dir != NULL)
  {

         while((ent = readdir(dir)) != NULL) //loop through each file in the directory.
         {
                    //open the file and loop through each line converting it then outputing it into a new file
                if((!strcmp(ent->d_name,"..") || !strcmp(ent->d_name,".")) == 1)
                {
                        //dont want these directories
                        continue;
                }
                else
                {
                sprintf(strIn,"%s%s",pathStr,ent->d_name);    //get the file n
                FILE *fp = fopen(strIn, "r");
                if(fopen(strIn, "r") == NULL) //for inputting file
                { printf("Error: %d (%s)\n", errno, strerror(errno));
                                getchar();
                                  break; }

                sprintf(dirOut,"%s%d%s",outPathStr,counter,".geo");
                printf("%s \n",dirOut);
                FILE *fp2 = fopen(dirOut, "w"); //for outputting file
                if(fopen(dirOut, "w") == NULL)
                     { printf("Error: %d (%s)\n", errno, strerror(errno));
                      getchar();
                      break; }

                     while(fgets(coData, 100, fp) != NULL)//loop through line by line, allocate into 2 doubles and a string, pass the two coordinates and convert
                     {
                        //extract terms from coData                
                        char * pch; //pointer to array pos
                        char * pend;                          
                        pch = strtok(coData," ");                          
                        j = 0;

                            while(j <= 2) //We only want to split the first three parameters.
                            {
                                    //convert char array to double for co-oridinate conversion  

                                    if(j == 0)
                                    {
                                    firstTerm = atof(pch);         //latitude;           
                                    j++;
                                    continue;
                                    }
                                    if(j == 1)
                                    {
                                    pch = strtok(NULL, " ");
                                    secondTerm = atof(pch); //longitude
                                    j++;
                                    continue;
                                    }
                                    if(j == 2)
                                    {
                                    pch = strtok(NULL," ");
                                    elevation = pch; //elevation doesnt need to be converted because it isnt used in the coordinate conversion.
                                    break;
                                    }                                                               
                            }
                       grid2spheroid(&lat,&lon,&convergence,&pt_scale,firstTerm,secondTerm,zone,0, major_axis,flattening,zoneWidth,centMeridian,falseEast,falseNorth,scale);                                            
                       sprintf(strOut,"%f %f %s",lat,lon,elevation);
                       //printf("%d %d", lat, lon);                          
                       fputs(strOut,fp2);

                     }     //end of while        

                      fclose(fp2);
                      fclose(fp);
                      counter++;
                 }

                }
                closedir(dir);
  }
  free(pathStr); //finished using the path string so we can finish the 
  free(outPathStr);
  getchar(); 
  return 0;

 }

  void getUserInput(char *pathStr, int current_size, int max_size)
 {
 unsigned int i = 0;
 if(pathStr != NULL)
  {
              int c = EOF;

              //get the user input and reallocate the memory size if the input it too large.
              while((c = getchar()) != '\n' && c != EOF) //WHILE NOT END OF FILE OR NEW LINE (USER PRESSED ENTER)
              {
                   pathStr[i++] = (char)c;

                   if(i == current_size)
                   {
                        current_size = i+max_size;
                        pathStr = realloc(pathStr, current_size);
                   }    
              }
  }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T06:23:24.323

您没有关闭所有文件；-)

```
FILE *fp = fopen(strIn, "r");
if(fopen(strIn, "r") == NULL) //for inputting file 
```

同样适用于您的输出。

我认为您的意思更像是：

```
FILE *fp = fopen(strIn, "r");
if(fp == NULL) //for inputting file
{
     // error handling. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T06:23:51.163

不，不！您打开每个文件*两次*（并且只关闭一次）！

```
 /* Bad! */
  dir = opendir(pathStr); //allcate it a path
  if(opendir(pathStr) == NULL)
  { printf("Error: %d (%s)\n", errno, strerror(errno));}
  int k;

  /* Correct */
  dir = opendir(pathStr); //allocate it a path
  if(!dir) { 
    printf("Error: %d (%s)\n", errno, strerror(errno));
    return;
  } 
```

你也在用 fopen() 做同样的事情。在这两个地方:)

只需检查*指针*；不要第二次调用“fopen()”；不要第二次调用“opendir()”！

另外：请不要将代码与左大括号放在同一行。好的？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T06:24:12.883

```
dir = opendir(pathStr); //allcate it a path
if(opendir(pathStr) == NULL)

(...)

FILE *fp2 = fopen(dirOut, "w"); //for outputting file
if(fopen(dirOut, "w") == NULL)

(...)

FILE *fp = fopen(strIn, "r");
if(fopen(strIn, "r") == NULL) //for inputting file 
```

在这里，您打开文件两次，但只存储一次指针。将这些更改为：

```
FILE *fp = fopen(strIn, "r");
if(fp == NULL) //for inputting file 
```

和另一个以同样的方式。

# java - 从字符串列表到另一个列表的推土机映射

> ID：11446001
> 
> 赞同：0
> 
> 时间：2012-07-12T06:17:52.080
> 
> 标签：java, object, mapping, dozer

我需要映射两个对象。

具有原始字符串列表的对象 1 具有自定义对象列表的对象 2。

这在推土机中可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T06:22:24.067

您可以编写一个 CustomConverter 来处理这些对象。我不认为这是开箱即用的。检查[客户转换器](http://dozer.sourceforge.net/documentation/customconverter.html)文档。

# xsd - 使用 XSD 进行 XML Schema 验证

> ID：11446005
> 
> 赞同：0
> 
> 时间：2012-07-12T06:18:05.063
> 
> 标签：xsd, xsd-validation

我有一个如下所示的 XML，其中项目的数量可以从 0 到 n 不等。有没有办法编写 XSD 来验证 Schema 。

```
<?xml version="1.0" encoding="utf-8" ?> 
<ShoppingItems> 
  <CustomerName>John</CustomerName> 
  <Address>Walstreet,Newyork</Address> 
  <Item1>Milk</Item1> 
  <Price1>1$</Price1> 
  <Item2>IceCream</Item2> 
  <Price2>1$</Price2> 
  <Item3>Bread</Item3> 
  <Price3>1$</Price3> 
  <Item4>Egg</Item4> 
  <Price4>1$</Price4>   

  <Item..n>Egg</Item..n> 
  <Price..n>1$</Price..n> 
</ShoppingItems> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:14:59.867

不是现在的形式。XSD 定义非常严格——在上述情况下，您将指定所有可能的 ShoppingItems 类型（包括 Item..n 和 Price..n），这当然是不可能的。

更好的是更改 XML 文件，使其结构更合理：

```
<?xml version="1.0" encoding="utf-8" ?> 
<ShoppingItems> 
  <CustomerName>John</CustomerName> 
  <Address>Walstreet,Newyork</Address> 
  <Items>
    <Item price="1$">Milk</Item> 
    <Item price="3$">IceCream</Item>
    <Item price="1$">Bread</Item> 
    <Item price="1.5$">Egg</Item> 
  </Items>
</ShoppingItems> 
```

现在完全可以使用模式定义此文档。

# objective-c - 关于线程数

> ID：11446007
> 
> 赞同：1
> 
> 时间：2012-07-12T06:18:08.300
> 
> 标签：objective-c, multithreading

我正在阅读 ios 开发站点中的并发编程指南

当移动到“远离线程”部分时，Apple 说

> 尽管线程已经存在很多年并且继续有它们的用途，但它们并没有解决以可扩展方式执行多个任务的一般问题。使用线程，创建可扩展解决方案的重任完全落在了开发人员的肩上。**您必须决定创建多少线程，并随着系统条件的变化动态调整该数量**。另一个问题是您的应用程序承担了与创建和维护它使用的任何线程相关的大部分成本。

按照我之前的学习，操作系统会处理进程线程管理，程序员只是根据需要创建和销毁线程，

这是错的吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:24:44.123

不，这没有错。它的意思是当您使用线程进行编程时，大多数时候您会根据程序员在其代码中放置的某些条件动态创建线程。例如，查找素数可以与线程分开，但线程的创建和销毁是由程序员完成的。你是完全正确的，它只是以一种更具描述性和更详尽的方式说出你在说的话。哦，对于线程管理，有时如果开发人员发现大多数时候用户需要创建大量线程，那么生成线程池并使用它们会更便宜。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T15:09:01.460

假设您有 100 个任务要执行，所有任务都使用独立的（在任务期间）数据。您启动的每个线程都会花费相当多的开销。所以如果你有两个核心，你只想启动两个线程，因为无论如何这就是要运行的全部。然后你必须为每个线程提供任务以保持它们都运行。如果您有 100 个内核，您将启动 100 个线程。将工作完成速度提高 50 倍是值得的。

所以在老式编程中，你必须做两份工作。你必须找出你有多少个内核，你必须为每个线程提供任务，以便它们继续运行并且不会浪费内核。（如果你有 >= 100 个内核，这只是一项工作。）

我相信苹果正在为你提供这两个尴尬的工作。

如果您的工作共享数据，那将改变一切。两个线程运行时，一个可以阻塞另一个，即使在 2 核机器上运行三个或更多线程也是值得的。您很容易发现一次松动 100 个线程是有意义的，因为它提高了其中至少两个线程未被阻塞的机会。它可以防止一个被阻塞的任务阻止其线程中的其余任务。您为线程开销付出了代价，但在高 CPU 使用率下又得到了回报。

所以这个功能有时非常有用，有时又没有。它有助于*并行*编程，但会阻碍非并行并发（多线程）。

# php - php：如何创建一串图像二进制文件而不将其保存到文件中？

> ID：11446008
> 
> 赞同：7
> 
> 时间：2012-07-12T06:18:14.420
> 
> 标签：php, jpeg

我有一个图像变量，

```
$im = imagecreatetruecolor(400, 300); 
```

无论如何，是否可以在不将其保存到文件的情况下以 jpeg 格式获取该图像的二进制字符串？谢谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2018-03-16T15:58:14.230

是的，这是可能的（即使没有输出缓冲）。它似乎没有记录，但您可以传递流资源而不是文件名。

```
<?php

$stream = fopen("php://memory", "w+");
$i = imagecreatetruecolor(200, 200);
imagepng($i, $stream);
rewind($stream);
$png = stream_get_contents($stream); 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-07-12T06:25:47.850

```
ob_start();
imagejpeg($im);
$imageString = ob_get_clean(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-12-07T22:30:51.200

作为一个函数并添加`imagedestroy()`.

```
function imagejpeg_tostring($im,$quality=75) {
      ob_start(); //Stdout --> buffer
      imagejpeg($im,NULL,$quality); // output ...
      $imgString = ob_get_contents(); //store stdout in $imgString
      ob_end_clean(); //clear buffer
      imagedestroy($im); //destroy img
      return $imgString;
} 
```

# html - 无法使用 div 和 CSS 将嵌入式 flickr 幻灯片居中

> ID：11446024
> 
> 赞同：0
> 
> 时间：2012-07-12T06:19:32.267
> 
> 标签：html, css

代码看起来像这样

```
<div class="body">
    <div class="flickr">
        <object width="600" height="450"> ...flickr slideshow code ....</object>
    </div>
</div> 
```

然后像这样的CSS

```
div.body {
    height: 600px;
    width: 1024px;
}

.flickr {
    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 600px;
    height: 450px;
    margin-top: 50px;
} 
```

嵌入的对象只是粘在父元素的左上角。没有任何居中的 CSS 对其起作用。

我可以在 HTML 的 div 中指定 align="center" 并使其居中，但 CSS 中的 margin-top 将无法正常工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:52:04.923

```
.flickr 
{ 
  margin:0 auto;
} 
```

请尝试此代码而不是波纹管代码

```
.flickr 
{ 
  margin-left: auto;
  margin-right: auto;
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-12T06:26:26.197

检查这个更新的小提琴

[http://jsfiddle.net/bta5Q/20/](http://jsfiddle.net/bta5Q/20/)

# git - Git点对点共享-致命：读取错误：无效参数

> ID：11446026
> 
> 赞同：6
> 
> 时间：2012-07-12T06:19:48.277
> 
> 标签：git

在 Git 中，我尝试在本地网络中进行点对点共享，但以错误“致命：读取错误：无效参数”结束。

我按照以下步骤操作。

PC1：

```
$cd /d/all-repos
$git daemon --verbose --export-all –base-path=. 
```

PC2：

```
$cd <repository name>
$git remote add developer1 git://<PC1 name or IP address>/testrepo
$git fetch developer1
fatal: read error: Invalid argument 
```

Git 版本：git 版本 1.7.11.msysgit.0 操作系统：Win XP 注意：在两台 PC 的防火墙设置中添加了 git 端口 9418。

请指导我如何解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T13:55:33.277

执行以下步骤时，一切正常：

```
~/git1$ git init foo
# create some commits in foo
~/git1$ git daemon --verbose --export-all --port=9999 --base-path=$PWD

~/git1$ cd ../git2
~/git2$ git clone git://[::1]:9999/foo
# cloning works 
```

这意味着您的任何一个存储库都有问题，或者不是 git 问题而是网络问题。无论如何，您应该尝试使用比 stackoverflow 更具交互性的过程来解决您的问题，也许是一些 IRC #git 频道。

# big-o - 使用 big-O 证明 N^2 是 O(2^N)

> ID：11446029
> 
> 赞同：8
> 
> 时间：2012-07-12T06:20:00.973
> 
> 标签：big-o, proof

我可以清楚地看到 N^2 以 c2^N 为界，但是我如何通过使用 big-O 的正式定义来证明它。我可以简单地用 MI 来证明

这是我的尝试.. 根据定义，对于任何 n>n0，存在一个常数 C，其中 f(n) <= Cg(n) 其中 f(n) = n^2 和 g(n) = 2^n

我应该把日志带到两边并解决C吗？

还有一个关于斐波那契数列的问题，我想解决递归关系。

```
int fib(int n){
   if(n<=1) return n;
   else return fib(n-1) + fib(n-2); 
```

方程是..

```
T(n) = T(n-1)+T(n-2)+C // where c is for the adding operation
```

所以

```
T(n) = T(n-2) + 2T(n-3) + T(n-4) + 3c 
```

还有一个

```
T(n) = T(n-3) + 3T(n-4) + 3T(n-5) + T(n-6) + 6c
```

然后我开始迷路以形成一般方程 i 模式有点像帕斯卡三角形？

```
 t(n) = t(n-i) + aT(n-i-1) + bT(n-i-2) + ... + kT(n-i-i) + C 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-12T07:25:01.763

正如您所指出的，要查看*f(x) ϵ O(g(x))*是否需要找到...

*   ...一些*c > 0*和
*   ...一些*x [0]*

使得*f(x) < c·g(x)*对于所有*x > x [0]*。

在这种情况下，您可以选择*c = 1*和*x [0] = 2*。你需要证明的是

    *x ² < 2 ^x*对于所有*x > 2*

此时您可以记录双方（因为如果 log( *x* ) > log( *y* )，则*x > y*。）假设您使用的是 base-2 日志，您会得到以下信息

    *日志(x ² ) < 日志(2 ^x )*

根据标准的对数定律，你得到

    *2·log(x) < x·log(2)*

由于*log(2) = 1*这可以写成

    *2·log(x) < x*

如果我们设置*x* = 2，我们得到

    *2·log(2)* = 2

由于*x*的增长速度比*log(x)*快，我们知道*2·log(x) < x*对所有*x > 2*都成立。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-06-07T12:37:35.880

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-19T17:58:00.107

为了改进接受的答案：

你必须证明 x^2 < 2^x 对于所有 x > 2

两边取log，我们必须证明： 2·log(x) < x for all x > 2

因此我们必须证明函数 h(x)=x-2·log(x)>0 对于所有 x>2

h(2)=0

对 h(x) 对 x 微分，我们得到 h'(x)= 1 - 1/(x·ln(2))

对于所有 x>2，h'(x) 总是大于 0，因此 h(x) 不断增加，并且由于 h(2)=0，因此证明对于所有 x > 2，h(x) > 0，或 x^2 < 2^x 对于所有 x > 2

# perl - Unix 中的模式匹配

> ID：11446032
> 
> 赞同：1
> 
> 时间：2012-07-12T06:20:28.540
> 
> 标签：perl, bash, unix

第一个文件

```
D07        AAS@qqq
B82        GG^333
D84        GG@WW
F59        LL$$EE 
```

第二个文件

```
D84        /usr/ss
F59        /usr/jh
B82        /usr/kk
D07        /usr/ks 
```

输出应该是

```
D84     GG@WW       /usr/ss
F59     LL$$EE    /usr/jh
B82     GG^333      /usr/kk
D07     AAS@qqq     /usr/ks 
```

基本上，我想将第一个文件的数据排序到第二个文件

我试过：

```
BEGIN {
   FS = OFS = "\t";
}
NR==FNR {
   Values[$1+0] = $2;
   next;
}
{
   $1 = $1 OFS ($1+0 in Values ? Values[$1+0] : "");
   print $0;
}
' 1stfile 2ndfile 
```

任何人都可以提供任何简单的解决方案来实现这一目标吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:39:24.700

如果您愿意对文件进行排序然后使用 bash，则不需要 perl`join`

```
$ ll
file1
file2
$ cat file1
D07        AAS@qqq
D82        GG^333
D84        GG@WW
D59        LL$$EE
$ cat file2
D84        /usr/ss
D59        /usr/jh
D82        /usr/kk
D07        /usr/ks
$ sort -n file1 > file1a
$ sort -n file2 > file2a
$ cat file1a
D07        AAS@qqq
D59        LL$$EE
D82        GG^333
D84        GG@WW
$ cat file2a
D07        /usr/ks
D59        /usr/jh
D82        /usr/kk
D84        /usr/ss
$ join file1a file2a > file3
$ cat file3
D07 AAS@qqq /usr/ks
D59 LL$$EE /usr/jh
D82 GG^333 /usr/kk
D84 GG@WW /usr/ss 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T19:02:35.880

使用 perl：

```
perl -nle '/(.*?)\s+(.*)/&&($h{$1}[$t]=$2);eof&&$t++;END{while(($k,$v)=each%h){print"$k @{$v}"}}' 1stfile 2ndfile 
```

# c# - Membership.GetNumberOfUsersOnline() 不返回正确的值

> ID：11446036
> 
> 赞同：1
> 
> 时间：2012-07-12T06:20:35.053
> 
> 标签：c#, session, asp.net-membership

我基本上需要限制我的应用程序中登录用户的数量。我正在做的是使用`Membership.GetNumberOfUsersOnline()` 我在验证新用户时获取登录用户的数量我检查在线用户的数量到我想要限制的数量。 `Membership.GetNumberOfUsersOnline()`当新用户登录时工作正常，当用户注销时会出现问题 的值`Membership.GetNumberOfUsersOnline()`不会自动递减。我搜索了msdn，发现这个方法检查了最后一个用户活动时间，它不支持注销事件。提供者是否有任何其他方式`Membership`来限制用户数量。我正在使用`Silverlight`和`REST`服务。我`Membership.GetNumberOfUsersOnline()`在服务器端使用。

提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:37:12.940

[您可以在http://www.sarin.mobi/2008/11/aspnet-csharp-visitor-real-time-session-tracker/](http://www.sarin.mobi/2008/11/aspnet-csharp-visitor-real-time-session-tracker/)上试用 Sarin 的 ASP.NET C# 访客实时会话跟踪器

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T06:48:59.713

我假设您使用的是 SqlMembershipProvider。如果是这样，这就是我要采取的方向......

创建一个继承 SqlMembershipProvider 的类并覆盖 GetNumberOfUsersOnline() 和 ValidateUser() 方法...

```
using System.Web.Security;

public class MyMembershipProvider : SqlMembershipProvider
{
    public override bool ValidateUser(string username, string password)
    {
        if (base.ValidateUser(username, password))
        {
            // successfully logged in. add logic to increment online user count.

            return true;
        }

        return false;
    }

    public override int GetNumberOfUsersOnline()
    {
        // add logic to get online user count and return it.
    }
} 
```

现在，如果您使用 LoginStatus 控件来允许用户退出，您可以使用该`LoggedOut`事件在此处添加递减在线用户计数逻辑。

您必须在 web.config 中使用新的自定义成员资格提供程序。对于您的成员资格的 type 属性，将其从它所说的任何内容更改`type="System.Web.Security.SqlMembershipProvider, System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"`为类似`type="MyNameSpace.MyMembershipProvider"`. 我*想*这就是它的全部。

此解决方案允许您继续使用您的 SqlMembershipProvider 提供程序，只需添加几个。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T06:40:00.300

在数据库的用户表中添加一个名为 status 的新列。该状态列的数据类型位 (1/0)。每 15 分钟检查一次没有用户在线。在页面后面的代码中使用计时器。检查计时器并每 15 分钟引发该特定事件

# python - 在构建脚本中组合 -= 和 += 修饰符

> ID：11446038
> 
> 赞同：2
> 
> 时间：2012-07-12T06:20:40.630
> 
> 标签：python, buildout

这似乎不起作用：

```
[buildout]
extends = buildout.cfg
eggs -= python-ldap
eggs += psycopg2 
```

这种行为似乎总是好像这`eggs += psycopg2`条线不存在。两条线的顺序无关紧要。

这是一个错误吗？有没有办法达到这个结果？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T07:45:01.377

不幸的是，`zc.buildout`直到版本 1.5.2 不支持这个用例。加法*或*减法都会成功。

内部发生的事情是这样的：

*   对于继承部分中定义的每个键、值对：
    *   如果键是 using `+=`，则取继承的值，添加内容并将其存储为新值。
    *   如果键是 using `-=`，则取继承的值，删除一些东西，并将其存储为新值。

在这些更新之后，继承的部分被复制，用新值更新，这被用作最终结果。

排序由通常的 python 映射语义定义，因此未定义；加法或减法最后运行。因为这两个操作都从继承的部分中获取输入，对其进行修改，然后将其存储为新值，所以最后运行的操作会覆盖之前运行的操作的结果。

我已经[对此进行了修复](http://svn.zope.org/zc.buildout/trunk/?rev=127336&view=rev)；不过，我无权发布新版本的`buildout`pypi，我将不得不戳那些这样做的人。

**编辑**：[`zc.buildout`1.6 版](https://pypi.python.org/pypi/zc.buildout/1.6.0#id9)包含此修复程序。

# android - 在不影响图像质量的情况下在 android 中处理大图像

> ID：11446044
> 
> 赞同：1
> 
> 时间：2012-07-12T06:21:53.103
> 
> 标签：android, memory

我正在尝试构建一个应用程序来改变图像的对比度、亮度等并显示它。我无法处理大图像。有什么方法可以在不损失图像质量的情况下处理大图像？PS：我对该主题进行了很多搜索，但找不到任何解决方案。预先感谢您的宝贵建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T18:26:56.547

没有例子很难回答你的问题。但是，我建议您查看这篇专门讨论如何有效处理[加载大型位图](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)的文章。

本文介绍了如何：

1.  读取位图尺寸和类型
2.  将缩小版本加载到内存中

是的，我知道您不想降低图像质量，但本文为您提供了最佳指导方针，应该让您接近您想要的。在某些情况下，您需要缩小图像，而在某些情况下，您不需要这样做。

# c++ - C++ 迭代器难题

> ID：11446045
> 
> 赞同：1
> 
> 时间：2012-07-12T06:22:07.650
> 
> 标签：c++, iterator

下面程序的输出是

```
1: foo strlen: 3
2:  strlen: 0
3: foo strlen: 3
4: foo strlen: 3
5:  strlen: 0
6:  strlen: 0 
```

我不明白

*   为什么`1`打印字符串，但`2`不打印
*   三个循环之间的区别是什么

来源：

```
#include "stdafx.h"
#include <map>
#include <string>

using namespace std;

int _tmain(int argc, _TCHAR* argv[])
{
    map<string, string> m;
    m["foo"] = "bar";

    const char * s;

    for(map<string, string>::iterator it = m.begin(); it != m.end(); it++)
    {
        pair<string, string> kvPair = *it;
        s = kvPair.first.c_str();
        printf("1: %s strlen: %d\n", s, strlen(s));
        break;
    }
    printf("2: %s strlen: %d\n", s, strlen(s));

    for(map<string, string>::iterator it = m.begin(); it != m.end(); it++)
    {
        s = (*it).first.c_str();
        printf("3: %s strlen: %d\n", s, strlen(s));
        break;
    }
    printf("4: %s strlen: %d\n", s, strlen(s));

    for(map<string, string>::iterator it = m.begin(); it != m.end(); it++)
    {
        s = ((pair<string, string>) (*it)).first.c_str();
        printf("5: %s strlen: %d\n", s, strlen(s));
        break;
    }
    printf("6: %s strlen: %d\n", s, strlen(s));

    return 0;
} 
```

**更新**对于几乎没有 C++ 背景的程序员的解释将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T06:28:19.937

在您的第一个示例中，您调用which`c_str()`在-loop`kvPair`的范围内声明。退出循环`for`时结果无效，因为被破坏了。`for``kvPair`

在第二个示例中，您调用`c_str()`映射中的值。结果只有在地图被销毁时才变得无效，这在`_tmain(...)`返回时发生。

在您的第三个示例中，您调用`c_str()`了一个临时对象（由要配对的演员创建​​），并且该临时对象在`printf("5...`调用之前被销毁。

**解释**

指向它所`c_str()`拥有的一些内存的指针`string`被调用，所以当它`string`被销毁时，访问指针是未定义的行为。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-12T07:37:35.283

部分是偶然的。

在 1/2 中，您在循环中创建一个局部变量，将值从映射*复制*到`kvPair`. 您设置`s`为指向此副本中的数据。当您退出块时，副本被销毁（调用析构函数）。无论如何：`break`, `goto`, 一个异常，或者只是完成循环体并再次遍历它——每次循环，你都会得到一个新的`kvPair`，它在循环体的末尾被破坏。 `s`指向内部的数据`kvPair.first`，以及之后的任何使用`s` （甚至简单地复制它）`kvPair`已被破坏是未定义的行为。任何事情都可能发生，并且发生的事情可能会有所不同，具体取决于调试检查和优化的级别，甚至取决于程序完全不相关的方面。（如果你总是得到一个空字符串，可能是一些设计不佳的调试检查正在进行。设计良好的调试检查会导致立即崩溃，所以你会看到错误。）

在 2/3 中，您`s`使用地图的实际内容进行初始化，因此它在地图被破坏或元素从地图中移除之前一直有效。

在 4/5 中，您创建一个临时：使用给定的初始化`T( initialization )`构造一个临时类型`T`，用于任何类型`T`，包括类型`std::pair<std::string, std::string>`。（这并不完全正确；`T`例如，如果是引用，则行为是不同的。）并且您初始化`s`以指向此临时文件中的数据。临时变量的生命周期只到包含它的完整表达式的结尾，因此`s`在语句结束的分号处（在这种情况下是完整表达式的结尾），内容变得无效。与 1/2 一样，在此之后使用时会出现未定义的行为`s` 。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T06:28:50.950

第一个循环`s`指向该对中的数据-循环后该对超出范围，因此您的数据是伪造的

第二个和第三个循环`s`指向实际集合中的数据 - 所以它保持在范围内

# android - 打开跟踪文件时出错：没有这样的文件或目录 (2)

> ID：11446049
> 
> 赞同：63
> 
> 时间：2012-07-12T06:22:17.793
> 
> 标签：android, eclipse, android-emulator, logcat, android-sdcard

我收到上述错误：

> 打开跟踪文件时出错：没有这样的文件或目录 (2)

当我在模拟器上运行我的 android 应用程序时。有人可以告诉我这可能是什么原因吗？

我正在使用 android-sdk-20 并将以下行添加到 AndroidManifest.xml

```
<uses-sdk android:minSdkVersion="14" android:targetSdkVersion="15" /> 
```

我还添加了以下行：

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

因为我认为写入 sd 卡可能存在一些问题。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-08-06T17:25:43.927

发生这种情况是因为您尚未在计算机中安装 minSdkVersion 或 targetSdkVersion。我现在已经测试过了。

例如，如果您的 Manifest.xml 中有这些行：

```
<uses-sdk
android:minSdkVersion="8"
android:targetSdkVersion="17" /> 
```

而你的电脑只安装了API17，它会报错。如果您想对其进行测试，请尝试安装其他 API 版本（在本例中为 API 8）。

即便如此，这也不是一个重要的错误。这并不意味着您的应用程序是错误的。

对不起我的表情。英语不是我的语言。再见！

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-04-21T05:24:30.987

我认为这是问题所在

**一点背景**

Traceview 是用于执行日志的图形查看器，您可以使用 Debug 类在代码中记录跟踪信息。Traceview 可以帮助您调试应用程序并分析其性能。启用它会`.trace`在 sdcard 根文件夹中创建一个文件，然后该文件可由 ADB 提取并由 traceview bat 文件处理以进行处理。它也可以由 DDMS 添加。

它是记录器内部使用的系统。**一般来说，除非您使用 traceview 提取跟踪文件，否则此错误不会打扰您。** 您应该查看与您的应用程序直接相关的错误/日志

**如何启用它：**

> 有两种方法可以生成跟踪日志：
> 
> 1.  在代码中包含 Debug 类并调用其方法，例如`startMethodTracing()`和`stopMethodTracing()`，以启动和停止将跟踪信息记录到磁盘。此选项非常精确，因为您可以在代码中准确指定开始和停止记录跟踪数据的位置。
>     
>     
> 2.  使用 DDMS 的方法分析功能生成跟踪日志。此选项不太精确，因为您不修改代码，而是指定何时开始和停止使用 DDMS 进行日志记录。尽管您对日志记录开始和停止的确切位置控制较少，但如果您无权访问应用程序的代码，或者如果您不需要精确的日志计时，则此选项很有用。

但上述情况存在以下限制

> 如果您使用的是 Debug 类，您的应用程序必须有权写入外部存储 ( `WRITE_EXTERNAL_STORAGE`)。
> 
> 如果您使用的是 DDMS：Android 2.1 和更早版本的设备必须有 SD 卡，并且您的应用程序必须有权写入 SD 卡。Android 2.2 及更高版本的设备不需要 SD 卡。跟踪日志文件直接流式传输到您的开发机器。

所以本质上traceFile访问需要两件事

> 1.) 写入跟踪日志文件的权限，即`WRITE_EXTERNAL_STORAGE`良好`READ_EXTERNAL_STORAGE`的措施
> 
> 2.) 带有足够空间的 SDCard 的仿真器。文档没有说这是否仅适用于 DDMS 也适用于调试，所以我假设这对于通过应用程序进行调试也是如此。

**我该怎么办这个错误：**

现在，该错误本质上是由于没有 sdcard 路径来创建跟踪文件或没有访问它的权限。这是一个旧线程，但赏金背后的开发人员检查是否满足两个先决条件。然后，您可以在模拟器的 sdcard 文件夹中搜索该`.trace`文件。如果它存在，它不应该给你这个问题，如果它没有尝试通过添加`startMethodTracing`到你的应用程序来创建它。
我不确定为什么当记录器启动时它会自动查找此文件。我认为当发生错误/日志事件时，记录器在内部尝试写入跟踪文件但没有找到它，在这种情况下它会抛出错误.浏览了文档后，我没有找到太多关于为什么会自动打开的参考资料。但通常这不会直接影响您，您应该检查直接应用程序日志/错误。另外，Android 2.2 和更高版本的设备不需要 SD 卡来进行 DDMS 跟踪记录。跟踪日志文件直接流式传输到您的开发机器。

**关于 Traceview 的其他信息：**

> **将跟踪文件复制到主机**
> 
> 在您的应用程序运行并且系统在设备或模拟器上创建了您的跟踪文件 .trace 之后，您必须将这些文件复制到您的开发计算机。您可以使用 adb pull 来复制文件。下面的示例展示了如何将示例文件 calc.trace 从模拟器上的默认位置复制到模拟器主机上的 /tmp 目录：
> 
> adb pull /sdcard/calc.trace /tmp 在 Traceview 中查看跟踪文件 要运行 Traceview 并查看跟踪文件，请输入 traceview 。例如，要对上一节中复制的示例文件运行 Traceview，请使用：
> 
> traceview /tmp/calc 注意：如果您尝试查看启用 ProGuard 构建的应用程序的跟踪日志（发布模式构建），某些方法和成员名称可能会被混淆。您可以使用 Proguard mapping.txt 文件找出原始的未混淆名称。有关此文件的更多信息，请参阅 Proguard 文档。

我认为关于`oncreate`语句定位或删除的任何其他答案`uses-sdk`都不相关，但这是 Android，我可能是错的。将此问题重定向给android工程师或将其作为错误发布会很有用

更多在[文档中](http://developer.android.com/tools/debugging/debugging-tracing.html)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-11-02T23:43:34.190

尝试删除`uses-sdk`零件表单`AndroidManifest.xml`文件。它对我有用！

不要使用配置太低的 Android 虚拟设备。让它成为中等。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-07-12T19:22:09.483

将所有代码写在这 2 行下面：-

```
 super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main); 
```

它对我有用，无需再次重新安装。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-07-09T19:12:26.413

我不想重新安装所有东西，因为我安装了很多 SDK 版本，而且我的开发环境设置得恰到好处。重新设置它需要很长时间。

对我有用的是删除，然后重新创建 Android 虚拟设备，确保输入 SD 卡大小的值（我使用 200 MiB）。

![AVD 创建屏幕截图](../Images/1dd13d0f9db989556ad2d31079f41e59.png)

## 附加信息：

虽然上述确实暂时解决了问题，但它会反复出现。我刚刚在 Android Studio 中尝试了我的应用程序，并在输出日志中看到了这一点，这是我之前在 Eclipse 中没有注意到的：

```
"/Applications/Android Studio.app/sdk/tools/emulator" -avd AVD_for_Nexus_S_by_Google -netspeed full -netdelay none

WARNING: Data partition already in use. Changes will not persist!
WARNING: SD Card image already in use: /Users/[user]/.android/avd/AVD_for_Nexus_S_by_Google.avd/sdcard.img
ko:Snapshot storage already in use: /Users/[user]/.android/avd/AVD_for_Nexus_S_by_Google.avd/snapshots.img 
```

我怀疑对日志的更改没有保存到 SD 卡，所以当 LogCat 尝试访问日志时，它们不存在，从而导致错误消息。删除 AVD 并重新创建它会删除文件，下一次启动是全新启动，允许 LogCat 访问虚拟 SD 卡。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-07-12T06:50:25.800

您将无法在模拟器中访问您的真实 SD 卡。您必须按照本[教程](http://www.streamhead.com/android-tutorial-sd-card/)中的步骤将模拟器定向到开发环境中充当 SD 卡的目录。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2015-08-25T11:37:12.300

实际上，问题是要么`/sys/kernel/debug`没有挂载，要么正在运行的内核没有编译 ftrace 跟踪器，因此`/sys/kernel/debug/tracing`不可用。这是引发错误（`platform_frameworks_native/libs/utils/Trace.cpp`）的代码：

```
void Tracer::init() {
    Mutex::Autolock lock(sMutex);

    if (!sIsReady) {
        add_sysprop_change_callback(changeCallback, 0);

        const char* const traceFileName =
                "/sys/kernel/debug/tracing/trace_marker";
        sTraceFD = open(traceFileName, O_WRONLY);
        if (sTraceFD == -1) {
            ALOGE("error opening trace file: %s (%d)", strerror(errno), errno);
            sEnabledTags = 0;   // no tracing can occur
        } else {
            loadSystemProperty();
        }

        android_atomic_release_store(1, &sIsReady);
    }
} 
```

日志消息肯定会提供更多信息。

# java - 在 HDFS 上存储 WEKA jar 文件并从 mapreduce 调用 WEKA 方法

> ID：11446052
> 
> 赞同：0
> 
> 时间：2012-07-12T06:22:31.720
> 
> 标签：java, mapreduce, machine-learning, weka

我们可以将 weka.jar 存储在 hdfs 上，然后从 mapper 和 reducer 类调用它的方法吗？

假设我有大量实例存储在一个文件中，我想使用 WEKA 对它们进行集群。我可以读取这些实例，然后从我的 map-reduce 程序中调用 weka 的 SVM 方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-14T21:07:45.880

您不必手动将其存储在 HDFS 上。相反，当您运行您的作业时，您可以使用 -libjars jar1,jar2... 选项来自动将所需的 jar 分配给所有映射器，并自动将这些 jar 包含在所有映射器的类路径中。

另一种选择（即使第一个代表标准）是将您的 WEKA jar 包含在您的 hadoop 安装的 lib 目录中。

# php - 会话处理 - 如何区分用户

> ID：11446053
> 
> 赞同：0
> 
> 时间：2012-07-12T06:22:46.037
> 
> 标签：php, session

我在我的 Web 应用程序中使用 php 会话。对于单个用户，我需要存储许多变量，例如用户名、表示用户是否登录的标志等。我想将一个数组分配给 $_SESSION，作为一个包含所有值的变量。有没有办法做到这一点？

查鲁

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:25:50.097

基本上会话*用于*存储`user-specific`数据（状态）和身份。要为您的页面启用会话，请`session_start()`在将任何内容写入响应缓冲区之前调用该方法。

```
<?php
  session_start();
  ....
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:35:07.060

正如其他人所说，会话是一种存储用户特定信息的方式。但如果你对它是如何实现的感到困惑，这就是故事：

当有人启动浏览器并向您的网站发送请求时，您的网络服务器会发现这是浏览您网站的新会话，因此它会分配一个唯一编号作为*会话 ID*，并将此会话 ID 发送回您（通常是由 cookie 完成。也就是说，Web 服务器包含一个“SET-COOKIE”http 响应头字段。请参阅有关[cookie](http://msdn.microsoft.com/en-us/library/windows/desktop/aa384321%28v=vs.85%29.aspx)的更多信息）。
现在，您的浏览器在以后向您的 Web 服务器发送的每个请求中都会发送先前获得的“会话 ID”。
因此，您的 Web 服务器现在可以将您的流量与其他流量区分开来，并且您创建的每个 $_SESSION[] 变量都将分配给相应的会话 ID。
我希望这很清楚。
看到[这个](http://www.devshed.com/c/a/PHP/Sessions-and-Cookies/)链接还可以获取有关会话和 cookie 的更多信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T06:28:05.923

你试过什么了？您可以只使用数据库中的数据作为用户的唯一标识符：

```
session_start();
$_SESSION['user_data'] = array('username'=>$username, 'user_id'=>$user_id); 
```

# apache - 如何在 Unix soalris 上运行的 apache 上安装 mod_pagespeed 模块

> ID：11446056
> 
> 赞同：0
> 
> 时间：2012-07-12T06:22:53.233
> 
> 标签：apache, unix, solaris

我想在**Unix solaris**上运行的**apache 2.x上配置****mod_pagespeed**模块。

 ****你能告诉我，**mod_pagespeed**模块是否适用于上述配置。

如果是，请告诉我从哪里可以下载此模块，以及配置此模块的步骤。

您的帮助将是可观的。

提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T08:59:57.840

[编译mod_pagespeed](https://developers.google.com/speed/pagespeed/mod)所需的[构建工具](http://dev.chromium.org/developers/how-tos/install-depot-tools)和本[机库](http://code.google.com/p/page-speed/wiki/HowToBuildNativeLibraries)不适用于 Solaris。他们需要被移植。

据我所知，没有成功尝试在 Solaris 上构建 mod_pagespeed 的报道。****

# grails - 在 grails 石英 2 - grails 异步邮件插件中找不到符号？

> ID：11446058
> 
> 赞同：0
> 
> 时间：2012-07-12T06:22:56.297
> 
> 标签：grails, grails-plugin

启动项目时出现编译问题

```
java\grails\plugin\quartz2\GrailsJobFactory.java:49: cannot find symbol
    symbol  : method newJob(org.quartz.spi.TriggerFiredBundle,org.quartz.Scheduler)
    location: class org.quartz.simpl.PropertySettingJobFactory
                return super.newJob(bundle,scheduler); 
```

可能是什么问题呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T12:32:54.280

问题是异步邮件插件需要[Quartz2 插件](http://grails.org/plugin/quartz2)，而[石英监视器插件](http://grails.org/plugin/quartz-monitor)需要 Quartz（一个）。

你没有说你安装了石英显示器，但我怀疑你安装了，或者其他一些需要石英的插件（一个）。

我所做的是回滚到使用 Quartz（一）的异步邮件插件的 0.4，这为我解决了问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T05:34:06.830

只需[下载](http://quartz-scheduler.org/downloads/catalog)Quartz 2 Jar 文件并将其放在“Lib”文件夹中即可解决此编译问题

# android - Android：如何为每个发送的请求的每个响应获取唯一的序列号

> ID：11446065
> 
> 赞同：0
> 
> 时间：2012-07-12T06:23:26.913
> 
> 标签：android, http, sequence, httpresponse

我正在创建应用程序，即版本 4.0.3 上的即时消息 Android 应用程序。我必须为从服务器获得的每个响应创建一个序列号，这样我就不能重复从服务器/客户端获得的消息。我已经完成了谷歌并访问了许多网站，但没有找到解决问题的正确方法或想法。

如果有任何想法或帮助将不胜感激。

非常感谢..

# python - 将线程的输出重定向到python中的字符串

> ID：11446068
> 
> 赞同：0
> 
> 时间：2012-07-12T06:23:35.807
> 
> 标签：python, multithreading, subprocess

```
def findStats():
     thread1 = thread.start_new_thread(func1, (arg_1, arg_2))
     thread2 = thread.start_new_thread(func2, (arg_3, arg_4))

def func1(arg_1, arg_2):
     """
        Some code which prints some stuff
     """

def func2(arg_3, arg_4):
     """ 
        Some code which prints some other stuff
     """ 
```

在这里，我想做的是在两个单独的字符串中捕获来自 func1 和 func2 的打印输出，以便我可以使用 in 在我的 GUI 的两个不同选项卡中显示它们。

另外，我尝试使用 StringIO() 但由于它们是并行运行的线程，因此输出序列显然是混乱的。我正在学习使用子流程的东西，但不确定如何......仍在尝试。

可以做到吗？如果是这样，请告诉我一个方法。提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:46:36.930

使用 python 的日志记录模块。这处理访问的序列化，您可以为每个日志设置级别。可能需要使用日志标识符对消息进行时间戳记。

链接在这里[http://docs.python.org/howto/logging.html](http://docs.python.org/howto/logging.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T12:26:34.590

```
 import sys
  from cStringIO import StringIO
  from multiprocessing import Process, Queue

  def mp():
      queue = Queue()
      p = Process(target=loop,args=('lo','op'))
      q = Process(target=doop,args=('do','op'))
      p.start()
      q.start()
      p.join()
      q.join()

  def loop(p,x):
      old_stdout = sys.stdout  # Redirection of the printing output to a StringIO
      sys.stdout = mystdout = StringIO()
      for i in xrange(100):
          print p + x
      ### Write the code\functions necessary in here. ###
      sys.stdout = old_stdout
      dataStats_1 = mystdout.getvalue()    # Put all the redirected output into a string.

  def doop(q,y):
      old_stdout = sys.stdout   # Redirection of the printing output to a StringIO() 
      sys.stdout = mystdout = StringIO()
      for i in xrange(100):
          print q+y
      ### Write the code\functions necessary in here. ###
      sys.stdout = old_stdout
      dataStats_2 = mystdout.getvalue()                      

  if __name__ == "__main__":
      mp() 
```

因此，在每个 dataStats_1 和 dataStats_2 变量中都包含函数“doop”和“循环”的打印输出。

我不知道上述方法有多真实。但这实际上对我有用。

此外，如果您尝试使用线程而不是 Process，则这种将打印输出重定向到 StringIO 的方法将不起作用，因为线程继承父级的 I/O 源，并且当您在特定线程中更改它时，它会更改对于父线程也是如此。但是对于子进程，它不会干扰父进程的 I/O 源。所以，这行得通。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T18:26:07.963

> 我尝试使用 StringIO() 但由于它们是并行运行的线程，因此输出序列显然是混乱的。

既然你有这个方法工作，你可以坚持下去：为每个线程重定向`sys.stdout`到一个单独的对象。`StringIO`在创建第一个线程之前重定向一次；`StringIO`然后在创建第二个线程之前重定向到不同的对象。您的函数`findStats`可以完成所有这些操作，并且应该将两个字符串缓冲区作为元组返回。

# drupal - “发布答案”链接未显示在答案模块 Drupal 中的问题上

> ID：11446073
> 
> 赞同：0
> 
> 时间：2012-07-12T06:24:08.740
> 
> 标签：drupal, drupal-7

我在 Drupal 7 中使用**Answers**模块进行问答功能，但在问题上“发布答案”的链接没有显示.....它在全新安装时工作正常。我已授予此模块的所有权限。请帮帮我..这是链接[http://beta-box.info/pahcom/node/20](http://beta-box.info/pahcom/node/20)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T04:34:50.947

在问题视图中，您必须添加新字段 nid 并添加另一个额外字段 Nid，您必须选择将此字段作为选项中的链接并提供链接路径。所以链接可以指出答案模块的路径。

# sql - 通过在另一个表中查找插入记录（Access 2007）

> ID：11446074
> 
> 赞同：2
> 
> 时间：2012-07-12T06:24:10.233
> 
> 标签：sql, ms-access, ms-access-2007

我有一个 datagridview 行，包含三个字符串值。应在 Products 表中查找这些值以查找相应的产品 ID。然后这些将被插入到关系表中。我正在寻找实现这一目标的最佳查询。

```
Here is my Products Table
+------------+--------------+
| Product_ID | Product_Name |
+------------+--------------+
|          1 | Foo          |
|          2 | Bar          |
|          3 | Baz          |
|          4 | NewProduct   |
+------------+--------------+ 
```

和我试图插入的关系表

```
+------------+----------------+-----------------+
| Product_Id | RelatedProd_Id | RelatedProd_Id2 |
+------------+----------------+-----------------+
|          1 | 2              | null            |
|          2 | 3              | 1               |
|          3 | null           | null            |
+------------+----------------+-----------------+ 
```

下面的不是表格，它是一个示例 datagridview Row..

```
+------------+--------------+---------------+
|  ProdName  | RelProd_Name | RelProd_Name2 |
+------------+--------------+---------------+
| NewProduct | Foo          | Bar           |
+------------+--------------+---------------+ 
```

我试图从这一行中找到 id 并将其插入到关系表中。

我尝试了一个愚蠢的查询..但我不知道这样做的正确方法..类似，

```
INSERT INTO PROD_RELATIONS (Product_id,RelatedProd_Id,RelatedProd_Id2)
VALUES
(SELECT Product_Id FROM Products WHERE Product_Name = 'NewProduct'),
(SELECT Product_Id FROM Products WHERE Product_Name = 'Foo'),
(SELECT Product_Id FROM Products WHERE Product_Name = 'Bar') 
```

有人可以指导我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:08:14.617

使用您当前的表结构，这样的查询将起作用：

```
INSERT INTO Prod_Relations (Product_ID, RelatedProd_ID1, RelatedProd_ID2)
SELECT  t1.Product_ID, t2.PRoduct_ID, t3.Product_ID
FROM    Products t1, Products t2, Products t3
WHERE   T1.Product_Name = 'NewProduct'
AND     t2.Product_Name = 'Foo'
AND     t3.Product_Name = 'bar' 
```

但是，我建议您将关系表更改为更简单的布局，每个产品包含多行：

```
Product_ID  |   RelatedProd_ID
------------+-----------------
    4       |       1
    4       |       2 
```

这意味着如果产品具有 2 个以上的关系，您不必添加更多列。在这种情况下，您的插入语句将是：

```
INSERT INTO Prod_Relations (Product_ID, RelatedProd_ID)
SELECT  t1.Product_ID, t2.PRoduct_ID
FROM    Products t1, Products t2
WHERE   T1.Product_Name = 'NewProduct'
AND     t2.Product_Name IN ('Foo', 'Bar') 
```

如有必要，您始终可以查询您的产品关系表以将其恢复为 2 列格式

```
SELECT  t1.Product_ID, 
        MIN(t1.RelatedProd_ID) AS [RelatedProd_ID1],
        MIN(t2.RelatedProd_ID) AS [RelatedProd_ID2]
FROM    Prod_Relations t1
        LEFT JOIN Prod_Relations t2
            ON t2.Product_ID = t1.Product_ID
            AND t2.RelatedProd_ID > t1.RelatedProd_ID
GROUP BY t1.Product_ID 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T08:16:47.993

您可以使用 Access 的[DLookup 函数](http://office.microsoft.com/en-us/access-help/dlookup-function-HA001228825.aspx)来检索您的值`INSERT INTO PROD_RELATIONS`。

```
INSERT INTO PROD_RELATIONS (
    Product_id,
    RelatedProd_Id,
    RelatedProd_Id2
    )
VALUES (
    DLookup("Product_Id", "Products", "Product_Name = 'NewProduct'"),
    DLookup("Product_Id", "Products", "Product_Name = 'Foo'"),
    DLookup("Product_Id", "Products", "Product_Name = 'Bar'")
    ); 
```

将其与您的示例查询进行比较，并注意各个`SELECT`部分如何轻松转换为`DLookup()`表达式。`DLookup`很像一个`SELECT`返回一个值的查询。

如果您按照 Gareth 的建议重新设计您的桌子，您可以调整此`DLookup`方法以适应该结构。

# ios - 当从其父视图中删除第二个 ViewController 时，FirstViewController 不起作用

> ID：11446079
> 
> 赞同：0
> 
> 时间：2012-07-12T06:24:24.273
> 
> 标签：ios, xcode, uiviewcontroller, subview

我正在使用 UIStoryBoard 来允许 FirstViewController 将第二个 ViewController 的视图添加为子视图。使用以下方法删除子视图

第一视图控制器.m

```
 - (IBAction) btnMoveTo:(id)sender
{

 UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"MainStoryboard" bundle:nil];
 UIViewController *vc = [storyboard instantiateViewControllerWithIdentifier:@"Second"];
 vc.view.backgroundColor = [UIColor clearColor];
 self.modalPresentationStyle = UIModalPresentationCurrentContext;
 [self presentModalViewController:vc animated:NO];

} 
```

第二视图控制器.m

```
-(void)viewDidLoad{
   self.view.opaque = YES;
   self.view.backgroundColor = [UIColor clearColor];
}

 - (IBAction) withDraw:(id)sender{
     [self.view removeWithZoomOutAnimation:2 option:nil];
    } 
```

当我访问 withDraw 函数时，SecondViewController 的视图被删除并且 firstViewController 又回来了。但是，当我使用按钮访问 - (IBAction) btnMoveTo:(id)sender 函数时。它不起作用。什么都没有发生。任何建议或帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:44:41.170

您将视图与视图控制器混淆了。视图控制器是控制视图的对象，所以对于你写的第一行，

> 我正在使用 UIStoryBoard 来允许 FirstViewController 将第二个 ViewController 的视图添加为子视图。使用以下方法删除子视图

您不能将视图控制器添加为另一个视图控制器的子视图。您展示了一个管理自己的视图的视图控制器，并且您可以将 UIViews 添加为 UIViewController 的子视图。A`UIViewController`管理`UIView`s。

您发布的代码遇到的问题是，当您触发 withDraw: 函数时，您正在删除**视图**控制器的视图。不是视图控制器本身。您需要关闭 SecondViewController 才能再次访问 FirstViewController。

# c# - 在 C# 中检查 Null 的所有子属性

> ID：11446081
> 
> 赞同：3
> 
> 时间：2012-07-12T06:24:34.887
> 
> 标签：c#, null

我在下面有以下代码行。有没有一种方法可以检查 team、DivisionTeam、Team、Coordinator、Profile、Address 和最后一个属性 StateRegion 是否为空，而不是对每个属性都进行检查？

```
if(team.DivisionTeam.Team.Coordinator.Profile.Address.StateRegion != null) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T06:28:55.643

目前在 C# 中，您不能，您必须单独检查每个属性是否为空。

可能是您正在寻找“。？” 运算符，但在 C# 4.0 中不存在，查看这篇文章和 Eric Lippert 的回复：[深度空值检查，有没有更好的方法？](https://stackoverflow.com/questions/2080647/deep-null-checking-is-there-a-better-way)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T13:34:22.627

您应该查看以下文章：[Chained null checks and the Maybe monad](http://www.codeproject.com/Articles/109026/Chained-null-checks-and-the-Maybe-monad)。这是，IMO，真正“做”你所要求的最干净的方式。

而且，不，C# 中没有内置的方法可以直接执行此操作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-02-09T15:35:41.080

在 C# 6.0 中，您只需一个字符串即可：

`var something = team?.DivisionTeam?.Team?.Coordinator?.Profile?.Address?.StateRegion;`

查看这篇文章以进一步阅读：[空条件运算符](https://msdn.microsoft.com/en-us/library/dn986595.aspx)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T06:32:42.370

这是一个示例

```
private bool IsValidTeam(Team team)
{ 
    bool result = false;
    if (team != null)
        if (team.DivisionTeam != null)
            if (team.DivisionTeam.Team != null)
                if (team.DivisionTeam.Team.Coordinator != null)
                    if (team.DivisionTeam.Team.Coordinator.Profile != null)
                        if (team.DivisionTeam.Team.Coordinator.Profile.Address != null)
                            if (team.DivisionTeam.Team.Coordinator.Profile.Address.StateRegion != null)
                                result = true;
    return result;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-12-04T10:50:00.970

在这里检查我的答案：

[https://stackoverflow.com/a/34086283/4711853](https://stackoverflow.com/a/34086283/4711853)

你可以简单地编写一个小的扩展方法，它可以让你像这样编写链式 lambda：

```
var value = instance.DefaultOrValue(x => x.SecondInstance)
            .DefaultOrValue(x => x.ThirdInstance)
            .DefaultOrValue(x => x.Value); 
```

# php - 从 php 插入/读取 blob 数据

> ID：11446082
> 
> 赞同：0
> 
> 时间：2012-07-12T06:24:38.340
> 
> 标签：php, mysql, pdf, upload, blob

我正在使用以下脚本来测试插入然后读取 blob 数据。

插入脚本：

```
include('session.php');

$provider      =$_POST['provider_id'];
$trd_period    =$_POST['trading_period_month'];
$pdf_statement =stream_get_contents(fopen($_FILES['pdf_statement']['tmp_name'], 'rb'));
$pdf_statement_clean=addslashes($pdf_statement);

$insert="update rd_provider_statement
         set pdf_statement='".$pdf_statement_clean."', creation_user_id='SCO'
         where  provider_id='".$provider."' and trading_period_month='".$trd_period."'";

mysql_query($insert);
mysql_query("COMMIT"); 

echo mysql_error(); 
```

下载脚本：

```
include('session.php');

//Gather Post Variables
$TP_Month  =$_POST["trading_period_month"];
$provider =$_POST["provider_id"];
$TP_format =substr($TP_Month, 0, 7);

//Download Statement

$sql_qry="select *
          from   rd_provider_statement
          where  provider='".$provider."' and trading_period_month='".$TP_Month."'";
$sql_err_no=sql_select($sql_qry,$sql_res,$sql_row_count,$sql_err,$sql_uerr);

$row = mysql_fetch_assoc($sql_res);
$bytes =stripslashes($row['pdf_statement']);
header("Content-type: application/pdf");
header('Content-disposition: attachment; filename="'.$provider.'statement'.$TP_format.'"');
print $bytes; 
```

但是，下载文件后，由于格式不受支持，因此无法打开。我使用另一个页面上的脚本基础从数据库中下载 blob 数据，但是此处插入数据库是由 mysql 过程而不是 PHP 完成的。我认为是我的插入脚本导致了问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:30:22.303

尝试使用`mysql_real_escape_string()`而不是 `addslashes()`. 它可能会解决你的问题。

对于调试，您可以`md5()`在插入数据库之前计算字符串的值，然后在检索它之后计算。我敢打赌你会得到不同的哈希值，这意味着你没有正确插入它并且你的二进制数据在插入数据库时​​会被破坏。

旁注：

*   不要使用这样的插入，使用绑定 -[如何在 PHP 中绑定 SQL 变量？](https://stackoverflow.com/questions/1860130/how-to-bind-sql-variables-in-php)
*   检查错误并停止，不要简单地回显它们（我希望你在生产代码中这样做）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T06:50:11.937

通常，您不希望在 http 标头描述之前有任何输出代码。见[http://php.net/manual/en/function.header.php](http://php.net/manual/en/function.header.php)

将文件名和其他文件信息存储在会话中，然后在另一个页面中访问它们。

您需要检查的几件事：

*   my.ini 中的 max_allowed_pa​​cket 应该等于或大于您希望存储在数据库中的文件大小
*   检查您选择的数据类型是否适合您将存储的文件。有小斑点、博客、中斑点和长斑点。您可能想尝试最大的长斑点。
*   我不确定这个，但你是否已经检查过 file_get_contents 是否有效：

`mysql_real_escape_string(file_get_contents($file))`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-25T17:00:26.297

这是我的替代答案。

首先是更新查询：

准备文件（假设你的文件不是二进制文件）：

```
 $tmpName = $_FILES["pdf_statement"]["tmp_name"];
    $fp = fopen($tmpName, 'r');
    $data = fread($fp, filesize($tmpName));
    $data = addslashes($data);
    fclose($fp);

$insert="update rd_provider_statement
         set pdf_statement='".$data."', creation_user_id='SCO'
         where  provider_id='".$provider."' and trading_period_month='".$trd_period."'"; 
```

下载：

```
enter code here

$sql_qry="select provider_id, pdf_statement
          from   rd_provider_statement
          where  provider='".$provider."' 
         and trading_period_month='".$TP_Month."'";

$sql_err_no=sql_select($sql_qry,$sql_res,$sql_row_count,$sql_err,$sql_uerr);

$row = mysql_fetch_assoc($sql_res);
    $name=$row['provider_id'];
    $file=$row['pdf_statement'];

header("Content-Disposition: attachment; filename=\".$name_statement.$TP_format.\";" );
echo $file; 
```

希望它有帮助=)

# regex - 正则表达式域验证

> ID：11446085
> 
> 赞同：1
> 
> 时间：2012-07-12T06:24:44.460
> 
> 标签：regex

以下代码

```
/^(http|https):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,6}(:[0-9]{1,5})?(\/.*‌​)?$/ix 
```

验证所有类型的域。

我只想验证一个域或子域（例如`.cu.cc`or `.co.cc`）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T09:56:16.487

最后`\.[a-z]{2,6}`是匹配顶级域的内容。将其更改为您想要匹配的任何特定 TLD。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T06:36:18.767

您可以将其添加到域正则表达式的末尾：

```
(?<=\.cu\.cc)$ 
```

这是一个积极的回顾

# magento - 在 CMS 页面中阻止方法调用

> ID：11446087
> 
> 赞同：0
> 
> 时间：2012-07-12T06:24:54.883
> 
> 标签：magento

有没有办法在 CMS 页面中调用 Block 方法调用？

我想做的是。我的 CMS 页面中有一个超链接，我想检索客户的电子邮件地址以将其作为获取变量传递给另一个网站将使用。

例如在 CMS 页面中，我有

```
(someother website link)
<a href="www.xyz.com?email=<?php $getCutomer->getEmail();?>&&name=<?php $getCutomer->getName();?> 
```

我知道我们不能在 CMS 页面中添加 php 或阻止。我刚刚向您展示了我想要实现的目标。那么有什么方法可以使用 XML 或其他任何东西吗？

请指教。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T16:18:11.090

是的，正如 MagePsycho 所说，您需要创建 phtml 文件来调用块方法或获取动态数据。

在 .phtml 文件中，很简单，只需调用 $this->getCustomerEmail() 或您编写的任何方法来获取客户电子邮件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:34:19.903

为什么不能简单地将 .phtml 文件包含在 CMS 页面或静态块中：

```
{{block type="core/template" template="path/to/your-custom-template.phtml"}} 
```

现在您可以在该 .phtml 文件中使用任何 php 代码。

干杯!

# c# - 处理多个应用程序使用的库中非托管资源的优雅方式

> ID：11446090
> 
> 赞同：1
> 
> 时间：2012-07-12T06:25:00.577
> 
> 标签：c#, singleton, unmanaged, idisposable

我的应用程序中的库需要全局使用非托管资源。

为了促进这一点，图书馆有以下内容：

*   有一个单例类继承自`IDisposable`.*   非托管资源的获取发生在`Instance()`类的方法中。*   资源将始终通过`MySingleton`对象访问，因此这似乎是确保非托管资源在需要时可用的合乎逻辑的方式。

    ```
    public class MySingleton : IDisposable
    {
        private static MySingleton instance;

        public static MySingleton Instance
        {
            get
            {
                if (instance == null)
                {
                    lock (typeof(MySingleton))
                    {
                        if (instance == null)
                        {
                            instance = new MySingleton();

                            // Acquire unmanaged resource here
                        }
                    }
                }

                return instance;
            }
        }

        public void Dispose()
        {
            // Release unmanaged resource here
        }
    } 
    ```

    ### 问题

    *   具有上述单例的库被多个应用程序使用。
    *   为了确保正确清理非托管资源，我需要`MySingleton.Instance.Dispose()`在每个应用程序中调用（通常在一个`finally`块中以确保即使在所有情况下也会发生这种`exception`情况）。
    *   如果创建了另一个应用程序（即入口点）并且作者忘记调用该`Dispose`方法，这可能会导致未正确清理非托管资源。

    我尝试在`MySingleton`类中添加一个析构函数来执行此操作，但是在应用程序退出时似乎没有命中其中的断点。我猜这是因为 GC 是不确定的，也许应用程序在静态对象的析构函数被销毁之前就结束了，但我不确定。

    是否有一种优雅的方法来确保始终清理此资源，而不依赖于客户端应用程序显式调用`Dispose`以确保发生这种情况？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T15:42:49.723

无论其他人是否实际使用它，您对单例的静态引用都会使其保持活动状态。如果您希望检测对您的单例的所有外部引用何时消失而您自己却没有保持它活着，您必须执行以下操作之一：

1.  为单例保留一个 `WeakReference`，并在每次有人请求对象实例时返回它。您可能希望同时保留一个长短的 `WeakReference`；一旦对象符合最终确定的条件，短的就会失效；一个 long 将保持有效，直到对象完成后的 GC 周期。如果一个短的 `WeakReference` 失效，即使你有一个很长的弱引用并且终结器尚未运行，也可能需要创建一个新实例。另一方面，您可能需要一个长的 `WeakReference` 来帮助处理在旧对象上请求终结器的时间和它实际运行的时间之间请求新对象的情况。
2.  保持对“真实”单例的强烈引用，但永远不要将它暴露给任何人。相反，创建一个包装器并将一个 `WeakReference` 存储到它。包装器的终结器应要求单例自行清理。这种方法可能比第一种方法更安全，在这种情况下，代码在旧对象有资格进行最终确定和最终确定实际发生的时间之间请求单例实例。如果所有清理都通过一个 `Finalize` 方法发生，那么 get-singleton 方法可能会请求终结器跳过清理，并知道它是否及时发出请求（如果没有，它可能在创建新实例之前必须等待终结器完成）。
3.  保持对“真实”单例的强烈引用，并为每个需要它的不同实体提供不同的包装器。保留一个尚未调用 `finalize` 的包装器的列表（最多保留对包装器本身的弱引用，但保留对其信息的强引用），当列表为空时，执行清理。这种方法往往比第二种方法更复杂，但它可以确定谁持有对您的对象的引用。

如果您的资源是在旧实例存在时无法重新创建的资源，我的建议通常是方法#2。方法 #1 的一个问题是，如果有多个可终结对象与一个资源相关联，则可能会在相当长的时间间隔内部分清理资源，因此代码可能别无选择，只能等待其他对象' 终结者来完成。使用方法 #2 时，如果在终结器挂起时请求单例，则请求将很快到来以防止终结器执行清理（在这种情况下，它不需要等待终结器运行，因为终结器不会t 实际上做任何事情），它将在终结器运行之后出现（在这种情况下，可以立即创建新实例），

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:17:24.633

让单例实现 IDisposable 听起来是错误的。谁负责处置该物品？

当两个线程或两个进程尝试访问资源时应该发生什么？失败者应该阻止还是抛出异常？

我认为您最好采用 RAII 方法，其中您有一个实现 IDisposable 的类，并且仅在资源使用时才存在：

```
class MyResource : IDisposable { 
  public MyResource() {
    // Acquire resource here
  }

  public void Dispose() {
    // Free resource here, along with extra stuff to attempt
    // to catch situations where its not disposed 
  }
} 
```

然后：

```
using( var r = new MyResource() ) {
  // Do work here.
} 
```

您不能保证使用您的库的所有其他开发人员都会记得正确处理该类，但是任何未能在 using 语句中使用该类的人都可以用一根大尖棒进行教育。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T06:57:26.243

关于你的析构函数没有被击中，看这里：http: [//msdn.microsoft.com/en-us/library/66x5fx1b.aspx](http://msdn.microsoft.com/en-us/library/66x5fx1b.aspx) 析构函数被调用，但我认为你在调试时看不到。至于你的单例，很明显它在程序退出之前不会被调用，因为它是静态的。

关于确保调用 Dispose，我认为您能做的最好的事情就是继承 IDisposable 并记录处置的需要。如果有一种方法可以自动处理事情，你不认为 MS 会对 SqlConnection 或任何其他一次性类做到这一点吗？顺便说一句，我认为确定何时将实例放置在类本身中并不是一个好习惯。这样你就限制了你的类的使用，并且你不知道将使用你的类的其他组件想要做什么。

# ruby-on-rails - Heroku：Errno::ECONNREFUSED（连接被拒绝 - 连接（2））：

> ID：11446094
> 
> 赞同：9
> 
> 时间：2012-07-12T06:25:26.053
> 
> 标签：ruby-on-rails, heroku

我能够预编译资产以推送到 Enki 博客的 Heroku，我成功迁移了数据库。但是当我尝试运行时，我`heroku open`在 Heroku 上得到了错误消息页面（该应用程序在本地运行）。然后我跑了`heroku logs`，看到了这个错误

```
Errno::ECONNREFUSED (Connection refused - connect(2)): 
```

谁能解释可能是什么问题？

```
Processing by HomesController#index as HTML
2012-07-12T06:14:38+00:00 app[web.1]:   Rendered homes/index.html.erb within layouts/application (2.1ms)
2012-07-12T06:14:38+00:00 app[web.1]: Completed 500 Internal Server Error in 7ms
2012-07-12T06:14:38+00:00 app[web.1]:   Rendered vendor/bundle/ruby/1.9.1/gems/exception_notification-2.5.2/lib/exception_notifier/views/exception_notifier/_request.text.erb (0.2ms)
2012-07-12T06:14:38+00:00 app[web.1]:   Rendered vendor/bundle/ruby/1.9.1/gems/exception_notification-2.5.2/lib/exception_notifier/views/exception_notifier/_title.text.erb (0.1ms)
2012-07-12T06:14:38+00:00 app[web.1]:   Rendered vendor/bundle/ruby/1.9.1/gems/exception_notification-2.5.2/lib/exception_notifier/views/exception_notifier/_session.text.erb (0.3ms)
2012-07-12T06:14:38+00:00 app[web.1]:   Rendered vendor/bundle/ruby/1.9.1/gems/exception_notification-2.5.2/lib/exception_notifier/views/exception_notifier/_title.text.erb (0.0ms)
2012-07-12T06:14:38+00:00 app[web.1]:   Rendered vendor/bundle/ruby/1.9.1/gems/exception_notification-2.5.2/lib/exception_notifier/views/exception_notifier/_environment.text.erb (13.9ms)
2012-07-12T06:14:38+00:00 app[web.1]:   Rendered vendor/bundle/ruby/1.9.1/gems/exception_notification-2.5.2/lib/exception_notifier/views/exception_notifier/_title.text.erb (0.0ms)
2012-07-12T06:14:38+00:00 app[web.1]:   Rendered vendor/bundle/ruby/1.9.1/gems/exception_notification-2.5.2/lib/exception_notifier/views/exception_notifier/_backtrace.text.erb (0.1ms)
2012-07-12T06:14:38+00:00 app[web.1]:   Rendered vendor/bundle/ruby/1.9.1/gems/exception_notification-2.5.2/lib/exception_notifier/views/exception_notifier/_title.text.erb (0.1ms)
2012-07-12T06:14:38+00:00 app[web.1]:   Rendered vendor/bundle/ruby/1.9.1/gems/exception_notification-2.5.2/lib/exception_notifier/views/exception_notifier/exception_notification.text.erb (18.4ms)
2012-07-12T06:14:41+00:00 app[web.1]:   vendor/ruby-1.9.3/lib/ruby/1.9.1/net/smtp.rb:540:in `initialize'
2012-07-12T06:14:41+00:00 app[web.1]: 
2012-07-12T06:14:41+00:00 app[web.1]: Errno::ECONNREFUSED (Connection refused - connect(2)):
2012-07-12T06:14:41+00:00 app[web.1]:   vendor/ruby-1.9.3/lib/ruby/1.9.1/net/smtp.rb:540:in `open'
2012-07-12T06:14:41+00:00 app[web.1]:   vendor/ruby-1.9.3/lib/ruby/1.9.1/net/smtp.rb:540:in `tcp_socket'
2012-07-12T06:14:41+00:00 app[web.1]:   vendor/ruby-1.9.3/lib/ruby/1.9.1/net/smtp.rb:549:in `block in do_start'
2012-07-12T06:14:41+00:00 app[web.1]:   vendor/ruby-1.9.3/lib/ruby/1.9.1/timeout.rb:68:in `timeout'
2012-07-12T06:14:41+00:00 app[web.1]:   vendor/ruby-1.9.3/lib/ruby/1.9.1/net/smtp.rb:519:in `start'
2012-07-12T06:14:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/mail-2.4.4/lib/mail/message.rb:2034:in `do_delivery'
2012-07-12T06:14:41+00:00 app[web.1]:   vendor/ruby-1.9.3/lib/ruby/1.9.1/timeout.rb:99:in `timeout'
2012-07-12T06:14:41+00:00 app[web.1]:   vendor/ruby-1.9.3/lib/ruby/1.9.1/net/smtp.rb:549:in `do_start' 
```

**更新**

它试图发送一封电子邮件，因为通知我另一个错误。一旦我关闭了电子邮件，它就给了我这个错误消息。我找不到未定义的方法/Nil Class 将是它所指的。

```
Started GET "/" for 24.84.41.17 at 2012-07-12 17:44:12 +0000
2012-07-12T17:44:12+00:00 app[web.1]: Processing by HomesController#index as HTML
2012-07-12T17:44:12+00:00 app[web.1]:   Rendered homes/index.html.erb within layouts/application (1.2ms)
2012-07-12T17:44:12+00:00 app[web.1]: Completed 500 Internal Server Error in 99ms
2012-07-12T17:44:12+00:00 app[web.1]: 
2012-07-12T17:44:12+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/mail-2.4.4/lib/mail/fields/common/common_address.rb:20:in `encode_if_needed'
2012-07-12T17:44:12+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/mail-2.4.4/lib/mail/field.rb:169:in `new_field'
2012-07-12T17:44:12+00:00 app[web.1]: NoMethodError (undefined method `ascii_only?' for nil:NilClass):
2012-07-12T17:44:12+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/mail-2.4.4/lib/mail/encodings.rb:181:in `address_encode'
2012-07-12T17:44:12+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/mail-2.4.4/lib/mail/field.rb:169:in `new'
2012-07-12T17:44:12+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/mail-2.4.4/lib/mail/field.rb:156:in `create_field'
2012-07-12T17:44:12+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/mail-2.4.4/lib/mail/encodings.rb:189:in `encode_non_usascii'
2012-07-12T17:44:12+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/mail-2.4.4/lib/mail/encodings.rb:184:in `address_encode'
2012-07-12T17:44:12+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/mail-2.4.4/lib/mail/encodings.rb:181:in `block in address_encode'
2012-07-12T17:44:12+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/mail-2.4.4/lib/mail/encodings.rb:181:in `map'
2012-07-12T17:44:12+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/mail-2.4.4/lib/mail/fields/to_field.rb:42:in `initialize'
2012-07-12T17:44:12+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/mail-2.4.4/lib/mail/fields/common/common_address.rb:9:in `parse'
2012-07-12T17:44:12+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/mail-2.4.4/lib/mail/field.rb:87:in `initialize' 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-07-12T09:39:06.907

错误是由于您正在尝试发送电子邮件。Heroku 不提供外发邮件服务，但允许使用外部 SMTP 服务器。要启用免费的 Sendgrid 插件：`$ heroku addons:add sendgrid:starter`.

```
#Set config/environment.rb

config.action_mailer.delivery_method = :smtp 
```

然后配置您的 SMTP 连接。

`ActionMailer::Base.smtp_settings = { :address => "smtp.someserver.net", :port => 25, :user_name => "someone@someserver.net", :password => "mypass", :authentication => :login }`

**注意：** - 免费的 Sendgrid 插件受限（*每天最多发送 200 封电子邮件。*）。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-07-12T07:26:22.513

看起来您正在尝试从您的应用程序发送电子邮件 - Heroku 的平台不提供任何邮件服务。您需要使用像 SendGrid 这样的第三方（他们有 Heroku 插件）才能发送 SMTP 电子邮件。

# html - html-css 更改 img 悬停

> ID：11446095
> 
> 赞同：-2
> 
> 时间：2012-07-12T06:25:28.343
> 
> 标签：html, css

我一直在尝试将图像悬停更改为另一张图片。我发现的还没有为我工作。这是我的 HTML

```
<div id="navbar">
    <table style="margin-left: auto; margin-right: auto;">
        <tr>
            <td><a href="index.html"><div id="navbar_button" style="background-image: url(images/navbar_home.png); width: 213px;"></div></a></td>
            <td><a href="play.html"><div id="navbar_button" style="background-image: url(images/navbar_playnow.png); width: 213px;"></div></a></td>
            <td><a href="home/index.php"><div id="navbar_button" style="background-image: url(images/navbar_forum.png); width: 213px;"></div></a></td>
            <td><a href="highscores.php"><div id="navbar_button" style="background-image: url(images/navbar_highscores.png); width: 213px;"></div></a></td>
        </tr>
    </table>
</div> 
```

和我的 CSS

```
#navbar {
    background-image: url(../images/navbar_bg.png);
    height: 88px;
    width: 100%;
    margin:0;
    padding:0;
    position:absolute;
    top:0;
    left:0;
}
#navbar_button {
    height: 88px;
}
#navbar_button:hover {
    opacity:0.9;
    filter:alpha(opacity=90);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T06:32:57.730

不应为多个元素使用相同的 ID。ID 是唯一标识符，应该是唯一的，这是你的问题。

所以你需要把它改成class而不是ID：

```
.navbar_button {
    height: 88px; 
    width: 213px;
} 
.navbar_button:hover { 
    opacity:0.9; 
    filter:alpha(opacity=90); 
}

<div id="navbar"> 
    <table style="margin-left: auto; margin-right: auto;"> 
        <tr> 
            <td><a href="index.html"><div class="navbar_button" style="background-image: url(images/navbar_home.png);"></div></a></td> 
            <td><a href="play.html"><div class="navbar_button" style="background-image: url(images/navbar_playnow.png);"></div></a></td> 
            <td><a href="home/index.php"><div class="navbar_button" style="background-image: url(images/navbar_forum.png);"></div></a></td> 
            <td><a href="highscores.php"><div class="navbar_button" style="background-image: url(images/navbar_highscores.png);"></div></a></td> 
        </tr> 
    </table> 
</div> 
```

但是有了这个，你不能在悬停时更改图像，对于图像更改，你需要使用 ID 并给每个 div 另一个图像 + ID：

```
.navbar_button {
    height: 88px; 
} 
#navbar_button1:hover { 
    background-image: url(whatever1.png);
}
#navbar_button2:hover { 
    background-image: url(whatever2.png);
}

<div id="navbar"> 
    <table style="margin-left: auto; margin-right: auto;"> 
        <tr> 
            <td><a href="index.html"><div class="navbar_button" id="navbar_button1" style="background-image: url(images/navbar_home.png); width: 213px;"></div></a></td> 
            <td><a href="play.html"><div class="navbar_button" id="navbar_button2" style="background-image: url(images/navbar_playnow.png); width: 213px;"></div></a></td> 
        </tr> 
    </table> 
</div> 
```

**另一个技巧：**将解决方案一与类一起使用，并使用一个具有正常和悬停状态（平铺）的图像（左侧为正常状态，右侧为悬停图像）。不仅仅是写在你的CSS中：

```
.navbar_button {
    background-repeat: no-repeat;
    background-position:right;
    height: 88px; 
    width: 213px;
} 
.navbar_button:hover {
    background-position:left;
    opacity:0.9; 
    filter:alpha(opacity=90); 
} 
```

1.  你在图片上的图片必须与容器的高度和宽度相匹配，否则看起来不好看。
2.  您对图像的负载更大，因为它们的文件大小更大
3.  但是您不需要在悬停时加载图像，并且在较慢的服务器/浏览器/带宽上没有闪烁
4.  有了这个，您不需要为 CSS 中的每个图像编写 ID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T06:34:27.637

它奏效了。可以在[这里](http://jsfiddle.net/d77fx/)找到。

请检查图片的网址，您是否故意设置为 0.9 alpha？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T06:41:34.863

ID 是唯一标识符。您应该使用不同的 id 更改您的 id 并尝试以下操作：

```
.image-hover {
   display:block; /* if u need */
   background-image:url(http://first_image_url.jpg);
   width:100px; /* as your wish */
   height:100px; /* as your wish */
}
.image-hover:hover {
   background-image:url(http://second_image_url.jpg);
} 
```

或使用 javascript`mouseover`和`mouseout`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T06:37:37.657

像这样修改你的代码

```
<td><div class="navbar_button" style="background-image: url(images/navbar_home.png); width: 213px;"><a href="index.html"></a></div></td> 
```

并在 css: 中像这样修改，

```
div.navbar_button a:hover {
opacity:0.9;
filter:alpha(opacity=90);
} 
```

ID是唯一的..你不能重复它..所以我使用类而不是id..试试这个..希望这会有所帮助。

# c# - 将 mp3 数据转换为 wav 数据 C#

> ID：11446096
> 
> 赞同：8
> 
> 时间：2012-07-12T06:25:32.850
> 
> 标签：c#, mp3, wav

在我的项目中，我正在接收字节数组中的 mp3 数据。我想将该数据转换为 wav 格式并将其存储在另一个字节数组中。我在互联网上搜索了 mp3 到 wav 转换器，但它们都支持文件到文件的转换。他们似乎都没有将原始数据作为输入。有什么办法可以在 C# 中实现这一点？
这是我要创建的函数的原型。

```
 bool ConvertToWav(byte[] buffer){
      //Do some processing and store the wav data in buffer2
      Buffer.BlockCopy(buffer2,0,buffer,0,buffer.Length-1);
   } 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2015-10-12T19:43:44.627

这是相当晚的回应，但我自己才弄清楚。有一个名为 NAudio 的 NuGet 包，[https:](https://www.nuget.org/packages/NAudio/) //www.nuget.org/packages/NAudio/ 这为您想要做的事情提供了很棒的功能。

```
 using NAudio.Wave;        

    private static void ConvertMp3ToWav(string _inPath_, string _outPath_)
    {
        using (Mp3FileReader mp3 = new Mp3FileReader(_inPath_))
        {
            using (WaveStream pcm = WaveFormatConversionStream.CreatePcmStream(mp3))
            {
                WaveFileWriter.CreateWaveFile(_outPath_, pcm);
            }
        }
    } 
```

你去吧。

# java - 如何在 Java 中平滑地移动图形对象 360 度？

> ID：11446097
> 
> 赞同：1
> 
> 时间：2012-07-12T06:25:37.753
> 
> 标签：java, user-interface, graphics

我正在尝试制作几何战争风格的游戏，但遇到了障碍。我一直在试图找出一种方法来平稳地移动我的图形对象。但它只向一个方向移动。例如，如果我按下向上按钮，它就会上升，然后当我按下它上面的右键时，我会斜向右上角移动。但我希望我的对象从笔直向上平稳地转向右上角。到目前为止，这是我的代码：

```
public class MoveTest extends JPanel implements ActionListener, KeyListener {

Timer t = new Timer(5, this);
double x = 0, y = 0, velX = 0, velY = 0;
 private Set<Integer> pressed = new HashSet<Integer>();
private static int WIDTH = 800;
private static int HEIGHT = 600;
private double d = 0;
private double topSpeed = 0;
private boolean stop = false;
private double a = 0;

PVector location;
PVector velocity;
PVector acceleration;

public MoveTest() {
  location = new PVector(WIDTH/2,HEIGHT/2);
  velocity = new PVector(0,0);
  acceleration = new PVector(0,0);
  topSpeed = 5.0;
  t.start();
  addKeyListener(this);
  setFocusable(true);
  setFocusTraversalKeysEnabled(false);
}

public void paintComponent(Graphics g) {
  super.paintComponent(g);
  Graphics2D g2 = (Graphics2D) g;
  g2.setColor(Color.GREEN);
  g2.drawOval((int)location.x, (int)location.y, 40, 40);
}

void update() {
  velocity.add(acceleration);
  if(stop == false) {
    velocity.limit(topSpeed);
  }
  else {
    velocity.decellerate(0);
  }
  location.add(velocity);    
}

public void north() {
  acceleration = new PVector(0,-5);
}

public void south() {
  acceleration = new PVector(0,5);
}

public void west() {
  acceleration = new PVector(-5,0);
}

public void east() {
  acceleration = new PVector(5,0);
}

public void northEast() {
  acceleration = new PVector(5,-5);
}

public void northWest() {
  acceleration = new PVector(-5,-5);
}

public void southEast() {
  acceleration= new PVector(5,5);
}

public void southWest() {
  acceleration = new PVector(-5,5);
}

public void stop(){
  stop = true;
}

public void actionPerformed(ActionEvent arg0) {
  //System.out.println("" + velocity.x + " " + velocity.y);
  repaint();
  update();
  checkEdges();
}

public void keyPressed(KeyEvent e) {

int code = e.getKeyCode();

stop = false;

pressed.add(code);

if(pressed.size() > 1) {
  if(pressed.contains(KeyEvent.VK_W) && pressed.contains(KeyEvent.VK_D)) {
    northEast();
  }
  if(pressed.contains(KeyEvent.VK_W) && pressed.contains(KeyEvent.VK_A)) {
    northWest();
  }
  if(pressed.contains(KeyEvent.VK_S) && pressed.contains(KeyEvent.VK_D)) {
    southEast();
   }
  if(pressed.contains(KeyEvent.VK_S) && pressed.contains(KeyEvent.VK_A)) {
    southWest();
  } 
}

else if(pressed.size() == 1){
  if(code == KeyEvent.VK_W) {
    north();
  }
  if(code == KeyEvent.VK_S) {
    south();
  }
  if(code == KeyEvent.VK_D) {
    east();
  }
  if(code == KeyEvent.VK_A) {
    west();
  }
}
}

public void keyReleased(KeyEvent e) {
  pressed.remove(e.getKeyCode());
  if(pressed.size() == 0) {
    stop();
  }
}

public void keyTyped(KeyEvent e) {

}

void checkEdges() {
  if(location.x > WIDTH) {
    location.x = 0;
  }
  else if(location.x < 0) {
    location.x  = WIDTH;
  }
  if(location.y > HEIGHT) {
    location.y = 0;
  }
  else if(location.y < 0) {
    location.y = HEIGHT;
  }
}

} 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:06:32.723

```
//MoveTest
topSpeed = 5.0;

//update
velocity.add(acceleration);
if(stop == false) {
  velocity.limit(topSpeed);

//south
acceleration = new PVector(0,5); 
```

所以如果你按下你的键，你的加速度总是 5 或 7（这可能是一个错误）单位。然后你把它加到你的速度上，然后限制为 5。你的加速度非常强，几乎没有惯性。尝试更小的加速度或更大的 topSpeed，它应该会变得更平滑。

旁白：您是否在补偿帧速率？我在您的代码中没有看到它，但我不知道`PVector`实现。

# iphone - 使用 xcode 从 html 中检索某些属性

> ID：11446103
> 
> 赞同：0
> 
> 时间：2012-07-12T06:25:50.450
> 
> 标签：iphone, html, xcode, href

我正在尝试从 html 页面获取 href 值

```
NSURL *url = [[searchBar.text stringByReplacingOccurrencesofString:@" " withString:@"+"]];
NSString *html = [NSString stringWithContentOfURL:url encoding:NSASCIIStringEncoding error:&error
NSLog(@"Html = %@",html); 
```

到目前为止，到目前为止，在从 youtube 获取 html 并显示搜索结果第一页的 html 方面，它运行良好。

我尝试做的下一件事是删除一些我不需要的不需要的 HTML 标记，例如 ,,, 等。我想要留下的只是标记和它们的值或数据。

所以我尝试使用 NSScanner 和 Regex。但我似乎无法得到想要的结果。我现在正在尝试的代码是

```
NSScanner *scanner = [NSScanner scannerWithString:self];
[scanner setCharactersToBeSkipped:nil];
NSMutableSet *tags = [[NSMutableSet alloc] init];
NSString *tag;
do {    
tag = nil;      
      [scanner scanUpToString:@"<" intoString:NULL];        
      [scanner scanUpToString:@">" intoString:&tag];        

      if (tag) {            
                 NSString *t = [[NSString alloc] initWithFormat:@"%@>", tag];   
    [tags addObject:t];     

               }    
   } while (![scanner isAtEnd]);    

NSMutableString *result = [[NSMutableString alloc] initWithString:self];
NSString *finalString;  
NSString *replacement;  
 for (NSString *t in tags) {        
               replacement = @" ";      
                      if ([t isEqualToString:@"<a>"] ||
        [t isEqualToString:@"</a>"] ||  
              [t isEqualToString:@"<span>"] ||
        [t isEqualToString:@"</span>"] ||
        [t isEqualToString:@"<strong>"] ||
        [t isEqualToString:@"</strong>"] ||
        [t isEqualToString:@"<em>"] ||  
              [t isEqualToString:@"</em>"]||
                          [t isEqualToString:@"<script>"]||
                          [t isEqualToString:@"</script>"])

                          { 
                              replacement = @"";    
                    }
[result replaceOccurrencesOfString:t withString:replacement options:NSLiteralSearch MakeRange(0, result.length)];   

     }

finalString = [result stringByRemovingNewLinesAndWhitespace]; 
```

[将格式化的 HTML 文本字符串转换为 NSString 部分](https://stackoverflow.com/questions/8148291/convert-formatted-html-text-string-to-nsstring-parts) 这是我引用的地方。但是我仍然无法让它按照我需要的方式工作。我在同一个问题上被困了很多天，请帮助我。任何关于我应该如何去做的建议也会有很大帮助。谢谢进步。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-16T07:08:09.733

您最好的选择是从您的链接帖子中修改[NSString+HTML](https://github.com/renegade78/MWFeedParser/blob/master/Classes/NSString+HTML.m)类别。例如，如果您*不想*删除`<a>`标签，则可以将代码修改为以下内容：

将其插入上面链接文件的第 67 行：

```
if ([t isEqualToString:@"<a>"] || [t isEqualToString:@"</a>"]) continue; 
```

并从该行后面的 if 中删除`<a>`条件。

随意阅读、分析和使用这些代码，直到你得到你需要的东西：总而言之，开源世界中最好的事情是你可以从已经编写的代码中研究你不知道的一切。

# tridion - 关于在两个不同网站上使用 SiteEdit 发布的问题

> ID：11446104
> 
> 赞同：5
> 
> 时间：2012-07-12T06:25:52.373
> 
> 标签：tridion, tridion-2011

我们有两个网站，一个用于移动网站，一个可以从 PC 访问。我们的蓝图设置为在两个网站之间共享内容。PC 网站启用了 SiteEdit。我担心的是，当一个人在PC网站上使用SiteEdit时，移动网站的页面是否会自动发布？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-12T07:05:39.387

除非您明确配置，否则内容不会自动发布到移动网站。

但是，共享内容当然会被修改，一旦有人决定发布，移动站点就会更新为针对您的 PC 站点优化的内容。例如：您的 PC 站点可能有更多的文本空间，因此您可能想创建对您的移动站点来说太大的标题等。

基本问题是您是否可以在两种不同的媒体之间共享内容。一个更简单的蓝图的好处会超过可能的冲突吗？您必须自己决定。

# javascript - 简单的 Javascript 用循环替换

> ID：11446105
> 
> 赞同：6
> 
> 时间：2012-07-12T06:25:53.730
> 
> 标签：javascript, regex, string, replace

我试图用数组索引值替换所有出现的字符串，如下所示。

```
var str = '<a href="{0}" title="{1}">{1}</a>';
var params= [];
params.push('Url', 'TitleDisplay');

for (i in params) {
    var x = /'{' + i + '}'/g;
    str = str.replace(x, params[i]);
} 
```

无论我做什么，我似乎都无法让它发挥作用。删除 '/g' 适用于一场比赛，但不是全部。我知道这是基本的，但对于我来说，我无法让它发挥作用。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-12T07:44:36.200

[在这里提琴](http://jsfiddle.net/bdy6G/1/)

代码：

```
var rx = /{([0-9]+)}/g;
str=str.replace(rx,function($0,$1){return params[$1];}); 
```

replace 方法循环遍历字符串（因为 /g 在正则表达式中）并找到 {n} 的所有实例，其中 n 是一个数字。$1 捕获数字并且函数将 {n} 替换为 params[n]。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-12T06:36:00.560

尝试使用这个：

```
var x = new RegExp("\\{" + i + "\\}", "g"); 
```

而不是这个：

```
var x = /'{' + i + '}'/g; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-12T06:36:44.653

如果您需要它是动态的，您可以构建一个正则表达式对象

```
var str = '<a href="{0}" title="{1}">{1}</a>';
var params= [];
params.push('Url', 'TitleDisplay');

for (var i = 0; i < params.length; i++) {
    var x = new RegExp('(\\{'+i+'\\})', 'g');
    str = str.replace(x, params[i]);
}
alert(str);
​ 
```

[http://jsfiddle.net/LByBT/](http://jsfiddle.net/LByBT/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-08-07T19:29:19.010

如果您想跳过正则表达式解决方案怎么办..

```
function replaceAllOccurrences(inputString, oldStr, newStr) 
{
    while (inputString.indexOf(oldStr) >= 0)
    {
        inputString = inputString.replace(oldStr, newStr);
    }

    return inputString;
} 
```

# c# - 设计 gui，如何从变量集合中更新多个控件

> ID：11446106
> 
> 赞同：0
> 
> 时间：2012-07-12T06:26:02.443
> 
> 标签：c#, wpf, winforms

大约一年来，我一直在为制造机器开发 gui（或 HMI）。gui 需要读取访问权限的机器中大约有 5000 个参数。

目前我有一个守护线程从机器收集所有变量作为机器中的几个大数据块并将它们解析出来并将它们放在gui上的列表中。

我在不到 40 毫秒的时间内收集、更新和解析所有内容，这远低于所需的 1 秒的必要更新频率，因此我认为这工作得很好。

那么问题是如何在实际的 gui 中更新控件。因为我只能在创建它的同一线程上更新控件。我目前使用不同的线程循环所有控件，然后使用 BeginInvoke (winform) 或 Dispatcher (wpf) 为用户更新所有内容。这对我来说似乎过于复杂。

有没有人做过类似的事情或者有更优雅的方式来更新 gui？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T11:14:10.587

您可以触发执行添加项目、将文本框更新到列表的工作的事件，如下面的使用 ListView 的示例所示。您只需在全局范围内添加变量，以便任何后台工作人员以及 UpdateUiEvent 都可以访问它们。

```
ListViewItem _listViewItem;

private void BackgroundWorkerDoWork(object sender, DoWorkEventArgs e)
{
    //your loop to get list view item
    _listViewItem = new ListViewItem(mytext) {tag = mytagobject);
    _listViewItem.SubItems.Add(mysubitemtext);
    Invoke(new EventHandler(UpdateUiEvent), new[] { sender, e });
}

void UpdateUiEvent(object sender, EventArgs e)
{
    listView1.Items.Add(_listViewItem);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T06:43:37.347

尝试使用 BackgroundWorker

[http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker.aspx](http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker.aspx)

在 DoWork 事件中收集数据并使用报告进度功能将其分块传递或在结果中一次性传递。它使您无需使用 Invoke。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T06:48:33.107

还有另一种可选的线程方法，

在构造函数中定义此代码，

```
 RunAsynchroneWork(new DoWorkEventHandler(RestartOnLoaded), new    RunWorkerCompletedEventHandler(RestartOnLoaded_Completed)); 
```

并将以下代码写入相关位置

```
 //AsynchroneWorker 
    public void RunAsynchroneWork(DoWorkEventHandler workHandler, RunWorkerCompletedEventHandler workCompletedHandler = null)
    {
        BackgroundWorker backgroundWorker = new BackgroundWorker();
        backgroundWorker.DoWork += workHandler;
        if (workCompletedHandler != null) backgroundWorker.RunWorkerCompleted += workCompletedHandler;
        backgroundWorker.RunWorkerAsync();
    }

   public void RestartOnLoaded(object sender, DoWorkEventArgs e)
    {

    //DO SOMETHING HERE   

    }

    public void RestartOnLoaded_Completed(object sender, RunWorkerCompletedEventArgs e)
    {
      //DO SOMETHING HERE ( after completion of RestartOnLoaded ) 
    } 
```

# eclipse - 无法让 JRebel 工作

> ID：11446108
> 
> 赞同：1
> 
> 时间：2012-07-12T06:26:09.807
> 
> 标签：eclipse, glassfish, jrebel

我决定为一个开源的个人项目尝试社交 JRebel，但我无法让它发挥作用。我使用 Eclipse Indigo IDE，我已经通过 Eclipse 市场下载了 JRebel，并使用我的免费许可证激活了 JRebel。我已经使用启用 JRebel 并禁用自动发布来设置 Glassfish 应用程序服务器。

这是我的**rebel.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<application xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"     xmlns="http://www.zeroturnaround.com" xsi:schemaLocation="http://www.zeroturnaround.com   http://www.zeroturnaround.com/alderaan/rebel-2_0.xsd">

<classpath>
    <dir name="D:/workspace/jee/catiJava/src/ro/cati/actions"></dir>                   
</classpath>

<web>
    <link target="/">
        <dir name="D:/workspace/jee/catiJava/WebContent">
        </dir>
    </link>
</web> 
```

我的项目结构看起来像这样

![项目结构](../Images/539081053ee1549d2b328a2dce3c0014.png)

问题是，在我更改了作为源`DashboardAction.java`的包下的某些内容之后，什么也没有发生。`ro.cati.actions`我仍然需要重新部署才能看到实际的变化。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:00:44.020

您应该在 rebel.xml 的 <classpath> 中拥有 compile/build 目录，而不是源目录。因此，例如，如果 src/ 中的类被编译到 bin/ 你应该有：

```
...
<classpath>
  <dir name="D:/workspace/jee/catiJava/bin/ro/cati/actions"></dir>                   
</classpath>
... 
```

JRebel 使用已编译的 .class 文件并依赖 IDE 来编译它们。

# android - Android 应用程序权限访问

> ID：11446112
> 
> 赞同：1
> 
> 时间：2012-07-12T06:26:28.503
> 
> 标签：android, operating-system

我们知道，当一个应用程序安装在 android (/system/app 文件夹) 中时，它会被系统分配一个 userid 和 groupid (在 Linux 文件系统中使用)，应用程序配置保存在 package.xml 中。像文件管理器应用程序

```
<package name="com.android.filemanager" code Path ="/system/app/  FileManager.apk" flags="1" ts="1314087422000" version="1"  userId="10036"> 
```

此 xml 中没有权限标记。那么它从哪里获得执行权限？.. 有什么方法可以获得这个应用程序的权限。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T06:43:15.790

[这](http://developer.android.com/guide/topics/security/permissions.html#permissions)提供了一个洞察为什么不可能那么容易地获得权限。

不过，您可以在应用程序中使用此代码在列表中动态获取其权限：

```
final List<PackageInfo> permissions_list = getApplicationContext().getPackageManager().getInstalledPackages(PackageManager.GET_PERMISSIONS); 
```

使用您返回的 s 的[此](http://developer.android.com/reference/android/content/pm/PackageInfo.html#requestedPermissions)属性`PackageInfo`来获取清单中标记声明的所有权限的字符串数组`<uses-permission>`，而不是您在评论中写的权限。

由于上述文档链接中所述的安全预防措施，也无法以编程方式更改这些权限，但有一些应用程序允许阻止根设备的某些权限。我从来没有用过，所以我不知道它们是否有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T06:39:07.207

在我的情况下 package.xml 存在于数据/系统路径中，它包含所有带有包的权限列表

# javascript - 变量的Javascript JQuery连接（form.inputtag.value）

> ID：11446119
> 
> 赞同：0
> 
> 时间：2012-07-12T06:27:24.600
> 
> 标签：javascript, jquery, variables, concatenation

我有以下脚本：

```
<script type="text/javascript">
        function get(row){
        alert(row);
        $.post ('getpeopleinjobs.php',{ 
        postvarposition: form.position1.value,
        postvarjob: form.job1.value, 
        postvarperson: form.person1.value, 
        postrow: row}, 
            function(output){
                $('#training'+row).html(output).show();
                    });
                }
</script> 
```

这 100% 有效。但是，我希望附加到位置、工作和人员的“1”或数字成为变量“行”。类似下面的东西（不起作用）

postvarposition：form.position+row.value

我确实按照另一篇帖子的建议尝试了 form[position+row].value 但这不起作用。

如果 onchange="get(1)" 和 2 如果 onchange="get(2)" 等，则 alert(row) 返回 1，因此这是有效的。

如何将行变量连接到 positon、job 和 person 语句，以便随着行值的增加，我将得到 form.position1.value form.position2.value form.position3.value 等。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:32:36.513

通过字符串访问表单值

```
form["position" + row].value 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T06:59:38.453

您可以使用 jQuery 选择器来获取输入值。

```
$('#prefix' + row).val() 
```

## HTML

```
<input id="job1" name="job1" type="text"/>
<input id="person1" name="person1" type="text"/>
<input id="position1" name="position1" type="text"/>

<input id="job2" name="job2" type="text"/>
<input id="person2" name="person2" type="text"/>
<input id="position2" name="position2" type="text"/>

<input id="job3" name="job3" type="text"/>
<input id="person3" name="person3" type="text"/>
<input id="position3" name="position3" type="text"/> 
```

## jQuery

```
for(var i=0;i<3;i++){ //each row
    var postvars = {
        job : $('input#job'+i).val();
        person : $('input#person'+i).val();
        position : $('input#position'+i).val();
    }
//
    $.post('url/to/ajax', postvars, function(output){
        $('#training'+i).html(output).show();
    }
} 
```

# android - 如何为 Google Play 生成“密钥库”？

> ID：11446121
> 
> 赞同：19
> 
> 时间：2012-07-12T06:27:28.077
> 
> 标签：android, google-play, keytool, android-keystore

我正在尝试找出将应用程序上传到 Google Play 的拜占庭流程。

我正在使用 Phonegap 的 Applaud 系统来生成我的应用程序，为了让我创建“发布版本”，我需要生成一个“密钥库”。

但是，当我查看 Google 自己的[Publishing Checklist](http://developer.android.com/distribute/googleplay/publish/preparing.html)时，上面没有关于“密钥库”的内容。

我[在 Stack Overflow 上找到了这个答案，](https://stackoverflow.com/a/6327814/184108)用于生成“密钥库”，理论上它应该可以在 Ubuntu 上运行，这就是我正在使用的：

```
keytool –genkey –v –keystore just2try.keystore –alias someKindOfName –keyalg RSA –validity 10000 
```

首先，我到底应该在它说的地方放什么`someKindOfName`？我的应用程序的名称？

无论如何，当我运行它时，我会得到以下响应：

```
keytool error: java.lang.RuntimeException: Usage error, –genkey is not a legal command 
```

我用谷歌搜索了解决方案，但我发现的唯一解决方案是针对 Windows 的。

有人可以提供或指出一个对用户更友好的分步指南来生成我应该拥有的这个“密钥库”吗？一个具有适用于 Ubuntu/Linux 的工作命令？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-07-16T04:52:49.967

您为生成密钥库提供的命令是正确的，即

`keytool -v -genkey -v -keystore just2try.keystore -alias someKindOfName -keyalg RSA -validity 10000`

请执行以下操作。不要复制它，因为我相信您看到的错误与某些特殊字符有关。在命令提示符或 shell 中按原样键入整个内容。

这`just2try.keystore`是基于 Java 的密钥库文件的任何名称。您可以像所做的那样选择任何名称，或者给它一个您知道可以用来识别密钥库文件的名称。

最后，请记住，密钥库就像密钥的集合，其中每个都由名称或别名标识。因此，您应该选择一个您知道标识特定密钥的别名。示例：myorgkey、myandroidappkey 等。

如果您忘记了密钥库中存在什么别名，您可以随时使用 -list 命令查看密钥库中的所有密钥。例子 ：`keytool -v -list -keystore just2try.keystore`

# objective-c - 不使用 __autoreleasing 是否致命？

> ID：11446122
> 
> 赞同：2
> 
> 时间：2012-07-12T06:27:28.490
> 
> 标签：objective-c, xcode4.3, autorelease

from： [在什么情况下我们需要在ARC下写__autoreleasing所有权限定符？](https://stackoverflow.com/questions/8862023/in-which-situations-do-we-need-to-write-the-autoreleasing-ownership-qualifier)

*   ( BOOL ) 保存: ( NSError * __autoreleasing * );

然后编译器必须创建一个临时变量，设置为 __autoreleasing。所以：

```
NSError * e = nil;
[ database save: &error ]; 
```

将转化为：

```
NSError __strong * error = nil;
NSError __autoreleasing * tmpError = error;
[ database save: &tmpError ];
error = tmpError; 
```

好的，现在转换后的代码似乎工作得很好。最后，我预计它会正常工作，尽管效率“很少”（非常少）。那么为什么还要指定自动发布呢？

更准确地说。我知道`__autoreleasing`当我们将指针传递给指针时我们“应该”使用。**但是，如果我们得到的唯一结果只是非常轻微的性能提升，那又有什么意义呢？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T21:48:03.607

当变量通过引用传递并在 ARC 程序中分配时，您错过了此代码中实际发生的情况。

在非 ARC 编程中，保存函数如下所示：

```
- (BOOL)save:(NSError * __autoreleasing *)myError {
  *myError = [[[NSError error] retain] autorelease]
} 
```

在 ARC 编程中，保存函数如下所示：

```
- (BOOL)save:(NSError * __autoreleasing *)myError {
  *myError = [[NSError alloc] init];
} 
```

不管 ARC 代码是什么样子，两个保存函数都会创建一个已保留并自动释放的错误对象。

这是因为在 ARC 版本中，myError 的指针类型决定了错误对象的内存管理会发生什么。实际上，只要指针是 __autoreleasing 类型，*myError 赋值行就被*替换*为

```
*myError = [[[NSError error] retain] autorelease] 
```

在运行时。

因此，如果我们能够以某种方式将错误类型的指针传递给保存函数，就会导致保存函数做错事。

由于编译器将在您的示例中创建一个临时变量，因此您的代码可以以任何方式工作，但从 ARC 编程的角度来看，第一个版本没有意义。

# ruby - Sinatra 没有传递会话变量？

> ID：11446123
> 
> 赞同：1
> 
> 时间：2012-07-12T06:27:29.487
> 
> 标签：ruby, sinatra

我有以下代码：

```
enable :sessions
class CSFSWC < Sinatra::Application

post '/login' do

  username = params[:username]
  password = params[:password]

if csfsss.authenticate(username,password) == false
  redirect '/'
  # session[:loginsession] = nil
else
  # Start session here
  session[:username] = params[:username]
  @sessionID = session[:username]
  puts "Session : #{@sessionID}"
  redirect '/main'
end

get '/main' do
 puts "main session : #{@sessionID}"
end 
```

在 /main 中，puts 打印出一个空的 session[:username]。有任何想法吗？据我了解 Sinatra 中的会话，根据：[Sinatra Sessions](http://www.sinatrarb.com/faq.html#sessions)。

它应该可以工作。

事实上，即使我从[Sinatra Sessions复制示例](http://www.sinatrarb.com/faq.html#sessions)

```
class CSFSWC < Sinatra::Base
  enable :sessions

  get '/foo' do
    session[:message] = 'Hello World!'
    puts "foo : #{session[:message]}"
    redirect '/bar'
  end

  get '/bar' do
    puts "bar : #{session[:message]}"
  end 
```

它仍然不起作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T13:49:25.637

它工作得很好 - 查看您的应用程序到控制台的输出。它只是没有做你期望的事情。`puts`写入标准输出，而不是浏览器。使用 Sinatra，您返回的最后一个字符串就是发送到浏览器的内容。这就是你想要的：

```
class CSFSWC < Sinatra::Base
  enable :sessions

  get '/foo' do
    session[:message] = 'Hello World!'
    # This just writes it to your log
    puts "foo : #{session[:message]}"
    redirect '/bar'
  end

  get '/bar' do
    "bar : #{session[:message]}"
  end
end 
```

# android - 这是获取从 Web 请求返回的 xml 以进行解析的更好方法

> ID：11446126
> 
> 赞同：0
> 
> 时间：2012-07-12T06:27:32.633
> 
> 标签：android

***我需要通过我的 android 应用程序中的 Web 请求读取从 php 文件返回的 xml 输出。***

因此，我使用 Asynctask 将 xml 文件读取为逐字节存储在后台线程中的字节类型数组中，然后将数组放入文本文件中。完成异步任务后，我使用 SAX perser 解析从文本文件读取的 xml。

还有另一种方法可以执行以下相同的操作，其中完整的 xml 存储在 String 变量中：

```
DefaultHttpClient httpClient = new DefaultHttpClient();
HttpPost httpPost = new HttpPost("http://www.abcdefgh./abc/efg.php");
HttpResponse httpResponse = httpClient.execute(httpPost);
HttpEntity httpEntity = httpResponse.getEntity();
String line = EntityUtils.toString(httpEntity); 
```

这里 line 变量包含整个 xml 作为一个长字符串。**任何人都可以从以上两个程序中解释哪一个更好/更有效地完成这项工作......？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T06:43:32.287

通常他们使用 a `Reader`on `Entity`the`InputStream`

# java - java GUI简单登录后台mysql

> ID：11446128
> 
> 赞同：2
> 
> 时间：2012-07-12T06:27:52.637
> 
> 标签：java, swing, jdbc, jbutton, jtextfield

我正在尝试创建一个 GUI 程序，简单的 LOGIN 维护。我有 4 个 gui 组件，即：jlabel、jtextfield、jpasswordfield 和 jbutton。到目前为止，这是我的代码：

```
import java.awt.Container;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Statement;

import javax.swing.*;

public class BankGui extends JApplet implements ActionListener{

// GUI components
JLabel lblUser, lblPass;
JTextField txtUser;
JPasswordField txtPass;
JButton btnOk, btnClear;

// connections to MYSQL
private static Connection connection = null;
private static Statement statement = null;
private static ResultSet resultSet = null;
//public static Scanner in = new Scanner(System.in);

public void init(){
    Container c = getContentPane();
    c.setLayout( new FlowLayout() );

    lblUser = new JLabel( "Username: " );
    c.add( lblUser );
    txtUser = new JTextField( 10 );
    c.add( txtUser );

    lblPass = new JLabel( "Password:" );
    c.add( lblPass );
    txtPass = new JPasswordField( 10 );
    c.add( txtPass );

    btnOk = new JButton( "OK" );
    btnOk.addActionListener( this );
    c.add( btnOk );
}

@Override
public void actionPerformed(ActionEvent e) {
    // TODO Auto-generated method stub
    if( btnOk ){

    }
}

public void connect(){

    try {
        Class.forName("com.mysql.jdbc.Driver");
        connection = DriverManager.getConnection(
                "jdbc:mysql://localhost:3306/USERS", "root", "root");
        statement = connection.createStatement();
        resultSet = statement
                .executeQuery("SELECT lname, fname FROM employees");

    } catch (Exception e) {
        e.printStackTrace();
    }

}

} 
```

但我被困在方法 actionperformed 和我的 connect 方法中。我不知道该放什么来验证登录的人是否是授权用户。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T06:29:51.500

您无法*执行*SQL 操作，`Applet`请将其更改为 Java 应用程序（扩展*Frame/JFrame*）。阅读这篇文章 - [Applet 可以做什么和不能做什么](http://docs.oracle.com/javase/tutorial/deployment/applet/security.html)。

您必须`SELECT`使用 WHERE 子句编写语句。

```
String sql="SELECT userName FROM employees WHERE UserName=? and Password=?"; 
```

编辑：

`static`在块中注册 JDBC 驱动程序

```
 static {
   try{
       Class.forName("com.mysql.jdbc.Driver");
   }catch(Exception ex) { 
       System.err.println(ex);
   }
 } 
```

并在方法中编写代码`actionPerformed`：

```
PreparedStatement stmt=null;
boolean isFound=false;
try{
   connection = DriverManager.getConnection(
                        "jdbc:mysql://localhost:3306/USERS", "root", "root");
   String sql="SELECT userName FROM employees WHERE UserName=? and Password=?";
   stmt=connection.prepareStatement(sql);
   stmt.setString(1,txtUser.getText());
   stmt.setString(2,txtPass.getPassword());             
   resultSet=stmt.executeQuery();
   if(resultSet.next()){
     isFound=true;
   }
  //     
}catch(SQLException ex){
   System.err.println(ex);
}finally{
  if(stmt!=null){
      try{ 
         stmt.close();
      }catch(Exception ex) { /* */ }
  }
 if(connection!=null){
      try{ 
         connection.close();
      }catch(Exception ex) { /* */ }
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T06:35:28.127

将您的代码更改为此

```
 @Override
        public void actionPerformed(ActionEvent e) {
            // TODO Auto-generated method stub
            if (e.getActionCommand().equals("OK")){
                     if(connect(txtUser.getText(), txtPass.getText())) {
                                // Valid
                     }
                     else {
                           //Invalid
                     }

            }
        }

        public boolean connect(String usr, String pwd){

            try {
                Class.forName("com.mysql.jdbc.Driver");
                connection = DriverManager.getConnection(
                            "jdbc:mysql://localhost:3306/USERS", "root", "root");
                 PreparedStatement ps= connection.prepareStatement("SELECT lname, fname FROM employees where username=? and password =?");
                 ps.setString(1,usr);
                 ps.setString(2,pwd);

                resultSet = ps.executeQuery();

              if(resultSet.next()) {
                       return true;
              }

            } catch (Exception e) {
                e.printStackTrace();
            }

    return false;
        } 
```

# c# - 使用 linq 删除代码时出错

> ID：11446129
> 
> 赞同：1
> 
> 时间：2012-07-12T06:27:56.423
> 
> 标签：c#, mysql, linq, combobox

> **可能重复：**
> [使用 linq 删除的代码错误](https://stackoverflow.com/questions/11444719/errors-with-codes-for-deleting-using-linq)

我遇到了关于使用组合框删除数据的问题。该错误提示我不知道如何解决它。任何人都可以帮助我吗？

```
private void btnDel_Click(object sender, EventArgs e)
    {
        using (testEntities Setupctx = new testEntities())
        {
            var Lo = Convert.ToInt16(cbLocationData.SelectedValue);
            var DeleteLocation = (from delLocation in Setupctx.locations
                                  where delLocation.Location1 == Lo
                                  select delLocation).Single();
            Setupctx.DeleteObject(DeleteLocation);
            Setupctx.SaveChanges();
            this.Delete_Location_Load(null, EventArgs.Empty);
            MessageBox.Show("Selected Shift Timing Has Been Deleted.");
        }
    } 
```

`where delLocation.Location1 == Lo`向我显示错误的部分

> 运算符'=='不能应用于'string'和'short'类型的操作数。”。

对你的帮助表示感谢。

上述问题的答案如下

```
 private void btnDel_Click(object sender, EventArgs e)
    {
        using (testEntities Setupctx = new testEntities())
        {
            string selectLo = cbLocationData.SelectedItem.ToString();

            var DeleteLocation = (from delLocation in Setupctx.locations
                                  where delLocation.Location1 == selectLo
                                  select delLocation).SingleOrDefault();
            if (DeleteLocation != null)
            {
                Setupctx.DeleteObject(DeleteLocation);
                Setupctx.SaveChanges();
                cbLocationData.SelectedIndex = -1;
                this.Delete_Location_Load(null, EventArgs.Empty);
                MessageBox.Show("Selected Shift Timing Has Been Deleted.");
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T06:30:23.913

这意味着您无法*比较* `delLocation.Location1`，`Lo`因为它们属于不同的数据类型。尝试：

```
where delLocation.Location1.Equals(Lo.ToString()) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-12T06:30:52.117

显然`Location1`是 a `string`，不能与`short`using直接比较`==`。不要转换`Lo`为 a `short`，然后再转换为 a `string`，请尝试：

```
var Lo = (string)cbLocationData.SelectedValue; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T06:32:41.713

该错误表明您正在尝试将字符串与 Int16 进行比较。因为我们已经知道 Lo 是一个 Int16，所以 delLocation.Location1 必须是字符串。所以要解决这个问题，你删除`Convert.ToInt16()`（因为`SelectedValue`下拉列表是字符串）是这样的：

```
private void btnDel_Click(object sender, EventArgs e)
{
    using (testEntities Setupctx = new testEntities())
    {
        var Lo = Convert.ToString(cbLocationData.SelectedValue);
        var DeleteLocation = (from delLocation in Setupctx.locations
                              where delLocation.Location1 == Lo
                              select delLocation).Single();
        Setupctx.DeleteObject(DeleteLocation);
        Setupctx.SaveChanges();
        this.Delete_Location_Load(null, EventArgs.Empty);
        MessageBox.Show("Selected Shift Timing Has Been Deleted.");
    }
} 
```

## 更新

如果您收到错误“序列不包含元素”，这意味着您的查询没有返回任何结果，并且您不能`Single()`对空序列进行操作。您可以使用`SingleOrDefault()`然后检查该值是否为空，如下所示：

```
private void btnDel_Click(object sender, EventArgs e)
{
    using (testEntities Setupctx = new testEntities())
    {
        var Lo = Convert.ToString(cbLocationData.SelectedValue);
        var DeleteLocation = (from delLocation in Setupctx.locations
                              where delLocation.Location1 == Lo
                              select delLocation).SingleOrDefault();
        if (DeleteLocation != null)
        {
            Setupctx.DeleteObject(DeleteLocation);
            Setupctx.SaveChanges();
            this.Delete_Location_Load(null, EventArgs.Empty);
            MessageBox.Show("Selected Shift Timing Has Been Deleted.");
        }
    }
} 
```

# c++ - 将 int32 乘法转换为 int64

> ID：11446131
> 
> 赞同：0
> 
> 时间：2012-07-12T06:28:00.450
> 
> 标签：c++

我有以下结构

```
struct {
    int myData;
    int myAnotherData;
}Value;

struct AnotherStructure {
    unsigned int uiLowData;
    unsigned int uiHighData;
};

AnotherStructure m_AnotherStructure;
Value val;
val.myData = 10;
#define MULTIPLY 36000000000

unsigned __int64 &internalStructure = *(unsigned __int64*)&m_AnotherStructure;
internalStructure  = 0;
internalStructure += ((unsigned __int64)val.myData * MULTIPLY ); 
```

我的问题是在上述情况下是否存在任何数据溢出，因为我们将 unsigned int 与大值相乘，结果是否存储在 unsigned int 类型的临时值中，然后存储在 int 64 中？如果现在怎么不会有任何溢出？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T08:03:27.313

val.myData在乘法*之前*被强制转换为 unsigned __int64 ，因为您显式地强制转换。仍然可能发生溢出，具体取决于 val.myData 中存储的值 - 最大 int 乘以 36000000000 不适合 64 位。你用演员表松开你的代数符号。

你应该试试这个：

```
struct AnotherStructure {
    int64_t uiLowData;
    int64_t uiHighData;
};
// signed_128bit_integer: look into your compiler documentation
signed_128bit_integer &internalStructure = *(signed_128bit_integer*)&m_AnotherStructure;
internalStructure  = 0;
internalStructure += ((signed_128bit_integer)val.myData * MULTIPLY ); 
```

# jsf - 在 xhtml 页面中需要一个垂直的 tabview

> ID：11446132
> 
> 赞同：0
> 
> 时间：2012-07-12T06:28:04.333
> 
> 标签：jsf, xhtml, primefaces

我需要在我的 xhtml 页面中有一个垂直的 tabview。我看到使用 Primwe Faces p:tabview Orientation="left" 可以做到这一点，但我使用的是 Primefaces 2.2.1，并且 Orientation 属性似乎不起作用。我也不能使用 jQuery。有没有什么方法可以用 primefaces 2.2.1实现向左的垂直选项卡视图的效果（如[http://www.primefaces.org/showcase/ui/tabviewOrientation.jsf ）？](http://www.primefaces.org/showcase/ui/tabviewOrientation.jsf)

任何帮助，将不胜感激。

谢谢，拉兹。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T10:53:00.570

在 Primefaces 2.2.1 中不可能有垂直选项卡视图，除非您自己修改组件（我不建议这样做）您可以使用来自其他 JSF 实现的组件，例如 openfaces ( [http://openfaces. org/demo/tabset/TabSet_placementAndStyling.jsf](http://openfaces.org/demo/tabset/TabSet_placementAndStyling.jsf)），但您需要再次调整 CSS 样式，使其看起来像您正在使用的 primefaces 主题。

# c++ - 函数中的 C++ auto_ptr（作为参数和返回值）

> ID：11446136
> 
> 赞同：3
> 
> 时间：2012-07-12T06:28:27.187
> 
> 标签：c++, auto-ptr

我试图在我的代码中使用 auto_ptr，但显然出了点问题。

```
auto_ptr<ClassType> Class(s.Build(aFilename)); //Instantiation of the Class object
int vM = s.GetM(Class);
int vS = s.Draw(Class); 
```

奇怪的是Class实例化后Class对象存在，所以调用s.GetModelMean(Class)，Class不为空。但是退出函数 GetM 后，Class 为空，因此不再可用。调用函数 Draw 时发生崩溃。

我通过以下方式声明了这些函数：

```
int GetM(auto_ptr<ClassType> aM); 
```

似乎班级被破坏了，但我不明白为什么......

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-12T06:35:59.387

您大喊不要将 auto_ptr 作为函数的参数。要么做：

```
int GetM(const auto_ptr<ClassType>&) 
```

或者

```
int GetM(ClassType&) 
```

或者

```
int GetM(ClassType*) 
```

（也可能与 const 一起使用 - 取决于您使用它做什么）。第一个你会以同样的方式调用，你会这样调用第二个函数：

```
int vM = s.GetM(*Class.get()) 
```

最后一个没有星星。

原因是：GetM 会复制 auto_ptr（不是 Class 对象），并在返回时销毁 auto_ptr。auto_ptr （它是一个范围指针或唯一指针 - 不是引用计数器！）将破坏类。

无论如何：auto_ptr 很坏。只要有可能（您的编译器已经支持 C++11 的一些小部分），请使用 std::unique_ptr 和 std::shared_ptr （最后一个进行引用计数）。unique_ptr 不会让你像那样弄乱它（因为不允许复制它 - 恕我直言更有意义）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T06:32:35.300

auto_ptr 有一个与源对象混淆的“神奇”复制构造函数。通过将参数按值传递给您的函数，您触发了对复制构造函数的调用，并使原始 auto_ptr 处于它不指向任何内容的状态。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T06:44:16.233

打电话的原因

```
int GetM(auto_ptr<ClassType> aM); 
```

破坏给定对象是`auto_ptr`在复制对象时具有相当令人惊讶的行为；它不仅修改目标对象，还修改*源*对象。如果你这样做

```
std::auto_ptr<int> y = x;  // modifies x *and* y 
```

`x`存储的指针*移动*到`y`（`x`设置为空）。

这意味着`std::auto_ptr`非常不适合传递值或将它们存储在容器中（因为容器倾向于在内部复制对象）。它*适用*于确保某些对象在退出某个范围时被销毁 - 例如使代码异常安全。所以有类似的东西

```
void f() {
  std::auto_ptr<int> x = new int;
  ...
  // no need to delete anything, destroying 'x' will delete
} 
```

或者

```
class Widget {
public:
  Widget() : m_myData( new int ) { }

private:
  Widget(const Widget &other); // disabled
  void operator=( const Widget &other ); // disabled

  std::auto_ptr<int> m_myData;
}; 
```

其实很好，可以简化代码。

拥有`std::auto_ptr`意味着拥有所有权。因此，在您的特定情况下，我建议调整`GetM`签名以使其采用普通指针。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T07:03:34.643

`auto_ptr`使用了一个小技巧，这样每当您将 A“复制”到 B 时，B 都会获取对象并清除 A。您可以使用它来非常清楚地声明所有权传递语义（来源：Scott Meyers 和 Andrei Alexandrescus 的书籍。顺便说一句，如果您想了解更多信息，请阅读 Effective C++）。

当然，如果可能的话，你应该使用`unique_ptr`（你可以把它放在向量中！）来自 C++0x 或来自 Boost 而不是`auto_ptr`，因为`auto_ptr`已弃用。

如果您对技巧细节感兴趣，请知道没有神奇的复制构造函数。根本没有复制构造函数。复制构造函数采用 const 引用，您将无法清除复制的对象。所以当你写

```
std::auto_ptr<A> a1(new A);
std::auto_ptr<A> a2(a1); 
```

a1 首先被强制转换为某个临时对象。强制转换运算符采用非常量引用并清除 a1。然后 a2 被这个临时对象初始化。

# c# - 在 windows mobile 6.5 上创建弹出屏幕

> ID：11446137
> 
> 赞同：2
> 
> 时间：2012-07-12T06:28:32.163
> 
> 标签：c#, windows-mobile, popup

我对创建 Windows 移动应用程序非常陌生。我有一个名为“设置”的按钮 - 我希望它打开一个小弹出窗口，该窗口与当前窗口重叠，纯文本框要求输入密码。我该怎么办？我是否必须创建一个新表单，但要相应地调整表单的大小？

我创建了一个新表单并将其尺寸缩小了很多，但是当它打开时，它是全屏的。

任何帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T15:11:39.160

对于弹出对话框效果，将一个`Panel`控件放到主窗体上，您称之为“loginPnl”或类似的带有一个或多个`TextBox`控件以及一些`Button`用于“确定”和“取消”的控件。将 Visible 设置为 False 并将其粘贴在其他控件后面。

```
private Panel loginPnl;

public Form1() {
  InitializeComponent();
  loginPnl.SendToBack();
  loginPnl.Visible = false;
} 
```

现在，只要您准备好让某人登录，只需调用您的自定义登录例程：

```
private void LoginPanel(bool show) {
  // don't forget to reset your TextBox controls
  loginPnl.Visible = show;
  if (loginPnl.Visible) {
    loginPnl.BringToFront();
    txtLoginPwd1.Text = null;
    txtLoginPwdVerify.Text = null;
  } else {
    loginPnl.SendToBack();
  }
} 
```

不过，不要忘记之后隐藏您的登录面板。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T14:03:18.783

尝试创建一个封装您的登录功能的表单，然后使用 form.ShowDialog()。不过，这将提供的不仅仅是一个文本框，因为它还将提供关闭对话框的按钮（我会推荐它而不是只有一个文本框）。

如果您真的只想拥有文本框，那么您需要“淡化”屏幕的所有其他区域，以在显示文本框时（以及其他相关方面，如焦点遍历）给人一种印象，这些控件/区域暂时不可用。

# c# - 将 windows 窗体值发送到 wpf 控件以更新位于 wpf 控件中的属性。

> ID：11446144
> 
> 赞同：2
> 
> 时间：2012-07-12T06:29:10.890
> 
> 标签：c#, wpf, winforms, interop

我有一个混合应用程序，每当在 Windows 窗体中触发事件时，我都需要更新 WPF 控件。

我有一个按钮单击，它将更改字符串值的属性，并且根据字符串值，WPF 控件应该绘制一条线或一个矩形。那么当用户单击线条或矩形时，我如何将其传输到 WPF 控件？

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T12:41:22.857

假设您有一个名为 WPFUC 的 WPF UserControl。以及一个名为 elementHost1 的 ElementHost。elementHost 包含 WPFUC。WPFUC 有一个名为 String Parameter 的公共属性。然后：

```
WPFUC userControl = (WPFUC)elementHost1.Child;
userControl.Parameter = "line"; //To draw line
or
userControl.Parameter = "rectangle"; //To draw rectangle 
```

希望这可以帮助。

# java - Java 中的 NoDefClassFoundError

> ID：11446145
> 
> 赞同：0
> 
> 时间：2012-07-12T06:29:14.177
> 
> 标签：java, swing

```
public void setParent(Window parent) {
    if (true) {
        this.parent = ((abc.InvestRegPropertySeize) parent);
    } else {
        this.parent = ((cde.InvestRegPropertySeize) parent);
    }
} 
```

在上面，当我编译此代码时，它已成功编译，编译后我手动删除了“cde.InvestRegPropertySeize”的类文件，当我尝试运行此代码时，出现以下错误。

```
NoDefClassFoundError of'cde.InvestRegPropertySeize' 
```

但我认为这不应该发生，因为条件总是正确并且在运行时不需要'cde.InvestRegPropertySeize'类文件那么为什么会发生请告诉我解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:02:05.103

做这样的事情的唯一方法是使用[反射](http://docs.oracle.com/javase/tutorial/reflect/index.html)。删除代码中的两个强制转换，这样类就不会在运行时被解析。然后使用反射访问字段和调用方法。反射功能强大，但代码可读性不强，并且会带来一些性能开销。所以在使用它之前要三思而后行。

# java - 我正在尝试从 word 文件中读取 .. 我不知道我错过了哪个 jar 文件：

> ID：11446148
> 
> 赞同：3
> 
> 时间：2012-07-12T06:29:48.440
> 
> 标签：java, file, jar, apache-poi

我正在尝试读取一个 word 文件 .. 但实际上有一个问题，它说“org.apache.xmlbeans.XmlException 类型无法解析。它是从所需的 .class 文件中间接引用的” ..所以我可以知道问题 ？？

```
import org.apache.poi.xwpf.extractor.XWPFWordExtractor;
import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.*;
import org.apache.poi.poifs.filesystem.POIFSFileSystem;
import org.apache.poi.xwpf.usermodel.XWPFDocument;

public class Read_File {

    public static void main(String[] args) {
        try {
            FileInputStream fis = new FileInputStream("C:\\Users\\Desktop\\m.docx");
            org.apache.poi.xwpf.extractor.XWPFWordExtractor oleTextExtractor = new XWPFWordExtractor(new XWPFDocument(fis));
            System.out.print(oleTextExtractor.getText());            
        } catch (Exception e) {
                e.printStackTrace();
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-27T06:05:18.117

我以前也遇到过同样的问题。添加 xmlbeans-2.3.0.jar 可以解决这个问题。你可以从[这里下载 jar](http://www.java2s.com/Code/Jar/x/Downloadxmlbeansjar.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T06:53:55.633

确保您的类路径中有包含 XMLException 的 JAR 文件。您可能正在 Eclipse 内部运行以获取此消息。它是说它正在查找类，但是通过一些不在您的类路径中的 JAR 文件，您不允许这样做。XMLBeans 可能有一个 JAR 文件。

# c# - 是否有一个示例为什么 Equals/GetHashCode 应该在 NHibernate 中被覆盖？

> ID：11446152
> 
> 赞同：7
> 
> 时间：2012-07-12T06:30:07.223
> 
> 标签：c#, .net, nhibernate, domain-driven-design

我发现很多帖子都解释说应该始终覆盖 NHibernate 实体类上的 Equals/GetHashCode。如果我不使用 Sets，这真的有必要吗？

**我根本找不到显示缺少 Equals/GetHashCode 会导致意外和错误行为的示例。**没有它们，一切似乎都可以完美运行。这真的很奇怪，每个人都说这是必要的，但没有人能提供一个样本来说明*为什么*需要这样做。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-12T07:41:32.153

最近有一个[关于](https://stackoverflow.com/questions/11253529/nhibernate-n1-with-ternary-relationship-want-the-middle-entity-in-the-ternary)NHibernate 执行 select N+1 的问题，即使`fetch`已指定。问题[在于](https://stackoverflow.com/a/11254191/119230)缺少`Equals`/`GetHashCode`实施。

答案链接到另一个类似的[问题](https://stackoverflow.com/questions/10176862/nhibernate-producing-proxy-despite-hql-fetch)。

这是关于背后推理/覆盖的[另一个问题。](https://stackoverflow.com/questions/5851398/nhibernate-reasons-for-overriding-equals-and-gethashcode)`Equals``GetHashCode`

[具有三元关系的休眠 n+1。](https://stackoverflow.com/questions/11253529/nhibernate-n1-with-ternary-relationship-want-the-middle-entity-in-the-ternary)
[尽管 HQL 获取 NHibernate，但仍需要三元 Nhibernate 生成代理](https://stackoverflow.com/questions/10176862/nhibernate-producing-proxy-despite-hql-fetch)[中的中间实体](https://stackoverflow.com/questions/11253529/nhibernate-n1-with-ternary-relationship-want-the-middle-entity-in-the-ternary)
[：重写 Equals 和 GetHashCode](https://stackoverflow.com/questions/5851398/nhibernate-reasons-for-overriding-equals-and-gethashcode)
[的原因 为什么 Equals 和 GetHashCode 对 NHibernate 如此重要](http://blog.nerdbank.net/2006/01/why-equals-and-gethashcode-are-so.html)
[为什么在重写 Equals 方法时重写 GetHashCode 很重要？](https://stackoverflow.com/questions/371328/why-is-it-important-to-override-gethashcode-when-equals-method-is-overriden-in-c)

* * *

**编辑**

您不需要一直覆盖它们。如果您使用复合键、具有分离实体的多个会话或无状态会话，则可能有必要。

如果您只使用单个会话，NHibernate 使用身份映射将实体存储到第一级缓存。在这种情况下，实体比较是通过比较 id 来完成的。

在上述情况下（分离实体、无状态会话），NHibernate 比较实际实体，而不是它们的 id。默认情况下，`Object.Equals`确实引用相等。因此，如果两个对象指向完全相同的实例，则它们是相等的。您可能有两个具有相同身份的实例，但`Object.Equals`会`false`为它们返回。这与`Entity` [定义](http://en.wikipedia.org/wiki/Domain-driven_design)相反：

> 不是由其属性定义的对象，而是由连续性及其身份定义的对象。

JBoss Hibernate wiki 有[一个很好的解释](https://community.jboss.org/wiki/EqualsAndHashCode)，`Equals`并且`HashCode`很少有代码示例。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-12T10:44:04.180

事实上，只有极少数情况会导致副作用。但如果你得到它们，它们就会非常微妙。除了复合主键和字典键，它们总是需要正确的 Equals / GetHashCode 实现。

NH 只关心在内存中实例化一个实体一次，所以默认的引用比较应该可以工作……**如果没有延迟加载**的话。

如果不覆盖 Equals，则在处理代理时会遇到问题。总是有**两个实例：代理和真实实体**。它们都代表同一个实体。只有使用正确实现的 Equals 方法，它才会被视为相同。

# nhibernate - 流利的休眠没有在函数上正确生成模式

> ID：11446155
> 
> 赞同：2
> 
> 时间：2012-07-12T06:30:18.747
> 
> 标签：nhibernate, fluent-nhibernate

我有一种有趣的感觉，这只是我对 nHibernate 和 Fluent nHibernate 的理解。

我有一个小型控制台应用程序，它基于一堆实体类导出模式。在我这样做之前，一切都很好：

```
 public virtual int UserId { get; set; }
    public virtual string FirstName { get; set; }
    public virtual string LastName { get; set; }
    public virtual string Email { get; set; }
    public virtual UserType UserType { get; set; }
    public virtual Client Client { get; set; }
    public virtual string UniqueIdentifier { get; set; }

    public virtual IList<UserAttribute> UserAttributes { get; set; }

    /** CODE IN QUESTION **/
    public virtual string GetAttributeValue(string name)
    {
        var value = UserAttributes.FirstOrDefault(ua => ua.AttributeDefinition.AttributeName == name);
        if (value != null)
            return value.Value;
        else
            return string.Empty;
    } 
```

如果我注释掉这个函数，一切都会很好。即使我只有函数返回 string.Empty，一切正常。但是，一旦我添加回该行：

```
var value = UserAttributes.FirstOrDefault(ua => ua.AttributeDefinition.AttributeName == name); 
```

一切都因此错误而中断：

```
"The entity '<>c__DisplayClass1' doesn't have an Id mapped. Use the Id method to map your identity property. For example: Id(x => x.Id)." 
```

我正在使用自动映射。这个错误的原因是什么？我通常理解错误，但看起来它在匿名类上失败了。我只是对这一切应该如何协同工作有一个严重的误解吗？我绝对是一个 nHibernate 新手，无论是在实践上还是在哲学上。我很想开悟！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-12T08:37:01.043

lambda`ua => ua.AttributeDefinition.AttributeName == name`生成一个内部类来捕获 name 参数。自动映射器遍历每种类型并尝试对其进行映射，但不幸的是，它还选择了编译器生成的类型。

您可以实现 AutomappingConfiguration 以排除编译器生成的类

```
class MyAutomappingConfiguration : DefaultAutomappingConfiguration
{
    public override bool ShouldMap(Type type)
    {
        return !type.IsDefined(typeof(CompilerGeneratedAttribute), false) && base.ShouldMap(type);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-22T16:59:24.953

虽然，上面的@Firo 答案有效，但当您在另一个 Linq 查询中有 Linq 查询时，它似乎不起作用。例子：

```
DataTable Dt = FillData();
EnumerableRowCollection<DataRow> MasterProfileRows = null;
IList<RecordOwner> OwnedRecs = new List<RecordOwner>();
OwnedRecs.Add(new RecordOwner { ForeignRecordKey = 100 });
MasterProfileRows = from x in dt.AsEnumerable()
                    where OwnedRecs.Any(y => y.ForeignRecordKey.ToString() == x.Field<object>("ProfileID").ToString())
                    select x; 
```

为了解决这个问题，我将它添加到我的覆盖中，以检查类的 FullName 中“__displayclass”的出现次数，如果它大于 1，我们将忽略它的映射。

```
public override bool ShouldMap(Type type)
{
    // there is a bug where the fluent automapper tries to automap anonymous types within a lambda. the !type.IsDefined(typeof(CompilerGeneratedAttribute), false) works around this issue
    // except where there is a nest linq query.
    // see: 
    // https://github.com/jagregory/fluent-nhibernate/issues/146
    // http://stackoverflow.com/questions/11446155/fluent-nhibernate-not-generating-schema-correctly-on-function/11447966#11447966
    // http://stackoverflow.com/questions/14268568/odd-error-building-fluentnh-configuration
    // http://stackoverflow.com/questions/11446155/fluent-nhibernate-not-generating-schema-correctly-on-function/11447966
    // ignore nested linq queries (linq queries within linq queries) because they cause the auto mapper to error out.
    System.Text.RegularExpressions.Regex reg = new System.Text.RegularExpressions.Regex("__displayclass", System.Text.RegularExpressions.RegexOptions.IgnoreCase);
    if(reg.Matches(type.FullName).Count > 1)
        return false;

    return !type.IsDefined(typeof(CompilerGeneratedAttribute), false);
} 
```

# javascript - Javascript 事件对象：选择器在哪里

> ID：11446162
> 
> 赞同：0
> 
> 时间：2012-07-12T06:30:55.517
> 
> 标签：javascript, javascript-events, backbone.js

我的主干视图中有以下设置：

```
var SomeView;

SomeView = Backbone.View.extend({
    initialize: function() { this.render(); },
    render: function() { // render form },
    events: {
        "keydown form.registration input": "checkInput"
    },
    checkInput: function(e) {
        console.log(e);
        // this doesn't work but I am searching for such a function
        var attr = e.getAttributeWhichTriggeredEvent;
        $(attr).val();
        // validate...
    } 
}); 
```

如您所见，我想获取触发事件的元素的选择器，以便例如使用输入值。

当我在 Chromium 中查看控制台时，我在事件对象中发现了一些（当前）目标属性。不幸的是，它们不包含任何我可以用来识别元素的东西，但也许我看起来还不够……

那么我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:48:55.080

我想你想要..

```
$(e.target).val() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T06:49:54.643

DOM 事件对象的[类型](http://www.w3.org/TR/2011/WD-DOM-Level-3-Events-20110531/#event-types-list)反映了分派它们的事件类型（例如单击、鼠标按下等）。它们还具有引用与事件相关的 DOM 元素的*target*和*currentTarget*[属性，其中之一可能适合。](http://www.w3.org/TR/2011/WD-DOM-Level-3-Events-20110531/#interface-Event)

 **请注意，较旧的 IE 不支持*event.target*但有*event.srcElement*。**

# android - 内存驻留的android应用程序

> ID：11446165
> 
> 赞同：1
> 
> 时间：2012-07-12T06:31:02.087
> 
> 标签：android

我正在为 Android 编写一本英语到波斯语词典。它作为一个独立的应用程序可以正常工作，但我需要它驻留在内存中并且用户能够在其他应用程序上调用（运行）它。例如，用户正在阅读网页上的英文文本，需要翻译一个单词。他突出显示单词，字典应用程序会自动显示翻译。

![在此处输入图像描述](../Images/b0a7fb9a1743fc9eaae0be91d9ef8cd6.png)

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T11:24:42.073

目前无法在选择文本后添加一些操作。

但是还有另一种方法，用户选择一些文本后，他可以选择*共享*按钮，并将其*共享*到您的应用程序。您的 Android Manifest 必须包含类似这样的内容，才能处理它：

```
 <intent-filter>
                            <action android:name="android.intent.action.VIEW"></action>
                            <category android:name="android.intent.category.DEFAULT"></category>
                            <data android:mimeType="image/*" ></data>
                    </intent-filter>
                    <intent-filter>
                            <action android:name="android.intent.action.SEND"></action>
                            <category android:name="android.intent.category.DEFAULT"></category>
                            <data android:mimeType="image/*" ></data>
                    </intent-filter> 
```

# mysql - 将参考表中的数据附加到 Doctrine 和 Codeigniter 中的另一个表

> ID：11446166
> 
> 赞同：0
> 
> 时间：2012-07-12T06:31:08.340
> 
> 标签：mysql, database, doctrine-orm, codeigniter-2

我有一个部门参考表，例如：

```
Id Name
1\. Dept1
2\. Dept2
3\. Dept3 
```

我有一个用户表，如：

```
Id Name  
1\. User1 
2\. User2 
```

在添加用户时，我希望能够为他们分配一个部门。但是我不想将部门名称存储在用户表中，因此是参考表。所以我想我应该在 User 表中有一个 Dept_id 字段，以便引用 Department 表。

问题是我需要`User id, User Name and Department name`在添加用户后输出。挑战是我这样做：

```
$array['users'] = Users::getUsersAll();
$this -> table -> set_heading(array('id', 'Name'); 
```

在模型中，该`getUsersAll()`方法包含：

> $query = Doctrine_Query::create() -> select("id,Name") -> from("users")

在视图中，我通过以下方式生成表：

```
echo $this -> table -> generate($users); 
```

那么我如何能够查询和输出部门名称并将其附加到包含其余用户数据的表中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T08:05:46.507

通过加入 User 和 Department 表来创建视图。然后使用视图来获取记录。这将是表现最好的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:16:30.580

根据您的描述，用户类将是类似的。

```
class User
    {

    /** Other members ...... **/

    /** @ManyToOne(targetEntity="Department") */
    public $department;

    } 
```

您可以通过以下方式从用户对象访问部门名称`$user->department->name`

# c# - WPF Canvas Line 对象可见

> ID：11446167
> 
> 赞同：0
> 
> 时间：2012-07-12T06:31:13.897
> 
> 标签：c#, wpf, canvas, z-index

我有一个具有这种布局的 WPF 表单：

```
<Grid>
    <DataGrid>
    ...
    </DataGrid>
    <Canvas>
    ...contains lines created at runtime...
    </Canvas>
</Grid> 
```

您可以看到我有一个 DataGrid，我将文件加载到其中。Datagrid 的一些单元格通过线条连接起来。这些线条被放置到画布中。这一切都很好。

但现在我有一个大问题。我可以禁用所有行而不是通过 z-index 遍历我的整个表单。当我向下滚动时，它们所在的唯一区域是 DataGridColumnHeader。

你知道我可以做什么，这些行的 z-index 比我的 DataGridColumnHeader 低，但与我的 DataGridCells 更大或相同吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T08:53:29.427

您无法通过设置[ZIndex](http://msdn.microsoft.com/en-us/library/system.windows.controls.panel.zindex.aspx)来解决此问题，因为此索引仅控制一个面板内元素的 z 顺序。

但是，您可以设置 Canvas 的[边距](http://msdn.microsoft.com/en-us/library/system.windows.frameworkelement.margin)，使其不覆盖 DataGridColumnHeader，然后将其[ClipToBounds](http://msdn.microsoft.com/en-us/library/system.windows.uielement.cliptobounds)属性设置为 true。

```
<Grid> 
    <DataGrid Name="dataGrid"> 
    ... 
    </DataGrid> 
    <Canvas ClipToBounds="True"> 
        <Canvas.Margin>
            <Thickness Top="{Binding ColumnHeaderHeight, ElementName=dataGrid}"/>
        </Canvas.Margin>
    ...contains lines created at runtime... 
    </Canvas> 
</Grid> 
```

我还没有测试过上面的 XAML，但它*应该可以*工作。

# html - 是否可以收缩包装的内容？

> ID：11446169
> 
> 赞同：2
> 
> 时间：2012-07-12T06:31:28.157
> 
> 标签：html, css

如果您为容器使用`<span>`标签并将其设置为`display: inline-block`，则容器将*收缩包装*内容，**除非内容包装成多行**，在这种情况下，容器的宽度默认为 100%。有什么方法可以收缩包装的内容吗？这是我的代码（[http://jsfiddle.net/T8uGm/](http://jsfiddle.net/T8uGm/)）：

**HTML**

```
<span class="wrapper">
    <a href="#" class="block"></a>
    <a href="#" class="block"></a>
    <a href="#" class="block"></a>
    <a href="#" class="block"></a>
    <a href="#" class="block"></a>
    <a href="#" class="block"></a>
    <a href="#" class="block"></a>
</span>​ 
```

**CSS**

```
.block {
    display: inline-block;
    width: 100px;
    height: 100px;
    background: blue;
}
.wrapper {
    display: inline-block;
    border: solid 1px black;
} 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-12T07:06:26.220

试试这个CSS：

```
.block {
        display: inline-block;
        min-width: 100px; /* The fix minimum width of span/div */
        width: 19.5%;  /* Depending how much box in 1 row. Exm: 5 block = 20% (19.5% to give space) */
        height: 100px;
        background: blue;
    } 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-12T06:37:24.700

利用`white-space:nowrap;`

```
.wrapper {
    display: inline-block;
    border: solid 1px black;
    white-space:nowrap;
} 
```

**[演示](http://jsfiddle.net/T8uGm/5/)**

# objective-c - ios restkit中的日期时间格式化程序

> ID：11446173
> 
> 赞同：1
> 
> 时间：2012-07-12T06:31:45.830
> 
> 标签：objective-c, ios, rest, restkit

我有一个 .NET REST 服务，它以 JSON 格式返回数据。一个字段是 UTC 中的日期时间，如下所示：

```
"Synced":"2012-07-11T13:28:42.967" 
```

我想在我的 iOS 应用程序中获取这个日期，但每次我尝试都会得到 null：

```
NSDateFormatter *dateFormatter = [NSDateFormatter new];
[dateFormatter  setDateFormat:@"yyyy-MM-dd'T'HH:mm:ssZ"];
dateFormatter.timeZone = [NSTimeZone timeZoneWithAbbreviation:@"UTC"];
NSArray *dateFormatters = [[NSArray alloc]initWithObjects:dateFormatter, nil];
[RKObjectMapping setDefaultDateFormatters:dateFormatters]; 
```

我做错了什么？谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T09:07:37.977

日期格式为：`yyyy-MM-dd'T'HH:mm:ss.SSS`

```
[dateFormatter setDateFormat:@"yyyy-MM-dd'T'HH:mm:ss.SSS"]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-21T17:22:11.223

For future peeps with related RestKit/NSDate issues:

Note that if the RESTful api you are calling is returning a date format with .SSS (e.g. milliseconds) appended to the end, RestKit will not *correctly* support this format out of the box. The issue is that RestKit does not recognize the date as a standard date format.

In my setup, this did not result in explicit errors; it just meant that RestKit interpreted times in the wrong time zone. For iOS date formatters to work correctly, NSDates must be stored in UTC, but RestKit was converting all dates with the format @"yyyy-MM-dd'T'HH:mm:ss.SSS" into the local timezone, rather than UTC.

To correct this, I added the date formatter from [harakiri](https://stackoverflow.com/users/710350/harakiri) to RestKit's default date formatters.

Here is the code, applied during RestKit setup. Hopefully this helps someone down the line:

```
//Add .SSS dateformatter to default formatters:
NSDateFormatter* restKitDates = [NSDateFormatter new];
[restKitDates setDateFormat:@"yyyy-MM-dd'T'HH:mm:ss.SSS"];
[restKitDates setTimeZone:[NSTimeZone timeZoneWithAbbreviation:@"UTC"]];
[RKObjectMapping addDefaultDateFormatter:restKitDates]; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-12T09:09:37.277

尝试这个：

```
 NSDateFormatter *dateFormatter = [[NSDateFormatter alloc]init];
 [dateFormatter  setDateFormat:@"yyyy-MM-dd'T'HH:mm:ss.SSS"];
 dateFormatter.timeZone = [NSTimeZone timeZoneWithAbbreviation:@"UTC"];
 NSString *str = @"2012-07-11T13:28:42.967";
 //NSArray *dateFormatters = [[NSArray alloc]initWithObjects:dateFormatter, nil];
 NSDate *date = [dateFormatter dateFromString:str]; 
```

# jquery - 用于 animDropdown 的 Jquery 函数调用

> ID：11446177
> 
> 赞同：1
> 
> 时间：2012-07-12T06:32:10.667
> 
> 标签：jquery, jquery-ui, jquery-plugins

```
 function initSlideDrop(){
jQuery('#nav').animDropdown({
    hoverClass:'hover',
    dropClass:'drop-active',
    items: 'li',
    drop: '.drop',
    delay: 100,
    animSpeed: 300,
    effect: 'slide'
})
}
;(function($){
$.fn.animDropdown = function(o){
    // default options
    var options = $.extend({
        hoverClass:'hover',
        dropClass:'drop-active',
        items: '>li',
        drop: '>ul',
        delay: 100,
        animSpeed: 300,
        effect: 'fade'
    },o);
    ...
}}(jQuery)); 
```

这是我的 jquery.js 之一中的代码。当我试图调用 initSlideDrop() 方法时，它会`.aniDropDown()`执行该块。但是`$.fn.animDropdown = function(o)`没有被调用。有人可以帮忙吗？

# function - 试图理解循环流？

> ID：11446178
> 
> 赞同：0
> 
> 时间：2012-07-12T06:32:12.397
> 
> 标签：function, email, for-loop, html-email, download

我试图理解 for 循环在特殊情况下的工作，如果有人能解释它会对我有很大帮助。

好的，所以我正在做的是从邮箱中下载电子邮件（一次 50 封）说 Hotmail（我为此使用 MailBEE.NET 对象）然后在下载时我保存了一些东西，比如发件人姓名、附件名称（如果有的话）在数据库中等等......考虑到程序首先必须登录hotmail服务器然后下载消息然后运行查询以将内容保存在db中的事实，这是一个相当长的过程。

我的问题是，如果完成所有这些工作的函数是在一个单独的程序集（dll 文件）中定义的，并且调用程序是一个基于 Web 的应用程序，它使用这个程序集作为参考，如果我继续在 for 循环中调用这个函数会发生什么? for 循环是否等待函数完成？还是会继续多次调用这个函数？

你建议有什么更好的方法来完成这项工作？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:45:23.913

这取决于您如何编写执行下载的代码。如果它只是一种方法（尽管在单独的程序集中），那么您的 Web 界面将只是新建另一个实例，并且一次将执行多个循环下载。

您可以考虑使用某种队列功能，将下载请求添加到队列，然后让另一个工作人员/服务使用队列来获取其参数、用户名/密码/设置等，以了解要下载的内容。

我希望这会有所帮助，如果您需要任何进一步的信息，请告诉我。

问候菲尔

# php - Notepad++ - 是否可以使用自定义字体？

> ID：11446179
> 
> 赞同：2
> 
> 时间：2012-07-12T06:32:12.820
> 
> 标签：php, fonts, notepad++

由于我在工作中使用不同的语言（拉丁语和非拉丁语），并且其中一些（例如西里尔语）的符号看起来与拉丁语完全相同，所以有时我会遇到一些愚蠢的错误，这些错误在我不小心在我的代码中使用了西里尔符号而不是拉丁符号。

例如，以下变量名称（PHP 样式）看起来完全相同，尽管第二个名称中的一半字符是西里尔符号（因此具有不同的代码）：

```
 $iicuxiphametod vs $іiсuхiрhаmеtоd 
```

所以我想出了将拉丁文和西里尔文符号外观不同的字体用于样式配置的想法。我找到了几种这种类型的字体——SimSun-ExtB、NSimSun、MingLiU-ExtB 等——但问题是我想使用我自己创建的字体。

有人知道 Notepad++ 中使用了哪些字体吗？它们是自己的字体还是系统字体，是否可以在 Notepad++（设置->样式配置器->字体样式）中使用不同的（非系统、用户创建的）字体，或者只是编辑现有字体？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T06:43:48.980

设置 -> 样式配置器...

选择：全局样式和默认样式

在字体样式中，您可以在系统字体目录中选择默认字体（在 Windows 中）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T06:43:04.120

自从我接触到我的 Windows 机器和 Notepad++ 已经有一段时间了，但是，从我当时的记忆来看，当使用 notepad++ 时，你应该能够在某处的设置/首选项下更改字体，只要你的字体是有效的字体集，即 TTF 或其他受支持的格式，您所要做的或应该做的就是将其安装在 Windows 字体目录中，然后在这些设置/首选项中选择您创建的字体。

# jquery - 如何构建一个可以在里面显示轮播和自定义内容的 jQuery 灯箱

> ID：11446180
> 
> 赞同：-1
> 
> 时间：2012-07-12T06:32:19.747
> 
> 标签：jquery, html, lightbox

我正在寻找一个可以在灯箱内显示自定义 HTML5 内容和图像轮播的 jQuery 灯箱。我在网上搜索但没有找到任何现成的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:47:57.313

另一个是[GALLERIA](http://galleria.io/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T06:46:28.137

我希望你想像这样在灯箱内显示画廊[。](http://www.realestate.com.au/property-house-nsw-chatswood-110664113)漂亮的照片对你的需要很有用[Preety Photo 演示](http://www.no-margin-for-errors.com/projects/prettyphoto-jquery-lightbox-clone/)

# c# - 检查记录后阅读器无法继续

> ID：11446182
> 
> 赞同：3
> 
> 时间：2012-07-12T06:32:23.410
> 
> 标签：c#, database, null

我已成功检查数据库中是否存在值。

这是代码：

```
if (!reader.Read())
{
    MessageBox.Show(" Can not find user!");
    reader.Close();
}
else
{
    int count = 0;
    while (reader.Read())
    {
        string user = (string)reader.GetString(0);
        string name = (string)reader.GetString(1);
        int roll = (int)reader.GetInt32(2);
        string phone = (string)reader.GetString(3);
        string address = (string)reader.GetString(4);
        string birthofdate = (string)reader.GetString(5);
        label1.Text = "" + roll;
        label2.Text = name;
        label3.Text = birthofdate;
        label4.Text = "" + phone;
        label5.Text = address;
    }
} 
```

但问题是无论如何都会跳过while循环。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T06:35:08.123

代替

```
if (!reader.Read()) 
```

和

```
if (!reader.HasRows) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-12T07:05:02.013

我只会有循环，所以你`Read`在*一个*地方打电话，然后检查`count`：

```
int count = 0;
while (reader.Read())
{
    ...
}
if (count == 0)
{
    MessageBox.Show(" Can not find user!");
} 
```

我已经删除了这个`reader.Close()`电话——只要你`reader`在一个`using`声明中（它应该是）它就会自动关闭。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T06:37:32.680

你不应该使用 reader.Read() 两次，只使用一次

```
if (!reader.HasRows)
                {
                    MessageBox.Show(" Can not find user!");
                    reader.Close();
                }
                else
                {
                    int count = 0;
                    while (reader.Read())
                    {
                        string user = (string)reader.GetString(0);
                        string name = (string)reader.GetString(1);
                        int roll = (int)reader.GetInt32(2);
                        string phone = (string)reader.GetString(3);
                        string address = (string)reader.GetString(4);
                        string birthofdate = (string)reader.GetString(5);
                        label1.Text = "" + roll;
                        label2.Text = name;
                        label3.Text = birthofdate;
                        label4.Text = "" + phone;
                        label5.Text = address;

                    }
                } 
```

# web-scraping - 需要提取数据，从根站点开始

> ID：11446183
> 
> 赞同：-1
> 
> 时间：2012-07-12T06:32:32.930
> 
> 标签：web-scraping

我有一个引用外部网站的根站点。

目标是从根站点收集一些数据，然后跳转到每个引用的站点并找到一些特定的页面来收集想要的数据。

我不想从头开始写这个。

有谁知道这样的刮刀是否可以购买？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:14:40.303

访问此网站 [http://blog.outwit.com/?p=55](http://blog.outwit.com/?p=55)

# php - 解析具有 id 的 HTML Span 元素

> ID：11446184
> 
> 赞同：0
> 
> 时间：2012-07-12T06:32:34.383
> 
> 标签：php, html-parsing, html

我正在展示我正在处理的 HTML 代码片段。我想提取具有 ID 覆盖区域单元但没有类名的跨度下元素的值。我能够通过 HTML DOM 解析 $html->find('span.classname') 访问具有类名的跨度元素。我尝试了一些 id 为 $html->find('span#idname') 的 span 元素，但这不起作用。

我也试过 $html->find(#idname) 但这无济于事，我可以用另一种方式访问​​这个 span 元素（即通过使用 DOM 树元素和节点），但这太难看了。

片段

```
 ......
<span id="coveredAreaUnit" style="display:none;">Sq-ft</span>
<span id="coveredArea" style="display:none;">1350</span>
    ........ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:56:17.577

采用

```
document.getElementById("coveredAreaUnit").innerText; 
```

或者

```
document.getElementById("coveredAreaUnit").innerHTML; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T06:53:53.977

你在使用[简单的 HTML DOM](http://simplehtmldom.sourceforge.net/)吗？

如果是这样，您可以使用：

```
$html->find('span[id=coveredAreaUnit]'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T09:02:59.010

`id`此代码尚未使用 span 索引解析s 。可能对你有一些帮助：

```
<?php
include_once('simple_html_dom.php');
$html = str_get_html('<span id="coveredAreaUnit">Sq-ft</span><span id="coveredArea">1350</span>');
$res1 = $html->find('span',0); 
$res2 = $html->find('span',1); 
echo $res1;
echo $res2; 
```

# android - 安卓。xhdpi 文件夹

> ID：11446186
> 
> 赞同：0
> 
> 时间：2012-07-12T06:32:35.270
> 
> 标签：android, screen, dpi

因此，您可以在单独的文件夹中添加 3 种类型的图像`drawable-ldpi, -mdpi and -hdpi`，Android 会根据每个特定设备从中选择正确的图像。

我的问题是，xhdpi 呢？外面的大屏幕。我猜他们会使用 hdpi，但如果我想为这些屏幕添加另一个更大的图像，我是否应该在“res”目录中添加另一个文件夹，名为 drawable-xhdpi？Android 会知道从该文件夹中选择图像吗？

或者在 xhdpi 的情况下如何完成？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:36:20.670

是的，Android 知道从这个文件夹中选择图像。drawable-xhdpi 文件夹通常用于超大图像或高分辨率图像。有关更多信息，请查看此链接[http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T06:41:58.507

是的，您可以在名为**res**的目录中创建文件夹

**可绘制的 xhdpi**

并将超大图像保存在此文件夹中。Android 将为大屏幕挑选图片

# php - 如何在运行 ASP 的服务器上重定向 PHP url？

> ID：11446201
> 
> 赞同：0
> 
> 时间：2012-07-12T06:34:12.630
> 
> 标签：php, redirect, asp-classic

有问题的站点曾经在 PHP 文件上运行，但最近完全更改为 ASP。他们的其中一个链接仍在广告活动中使用，他们希望将其重定向到新页面。

旧链接[http://example.com/videos.php](http://example.com/videos.php) 新链接[http://example.com/videos.asp](http://example.com/videos.asp)

当我创建 PHP 文件并使用 header() 重定向时，它没有按我预期的方式运行 - 相反，它尝试下载 .php 文件。

重定向到此链接的流量的最佳方法是什么？

我在想 .htaccess 但这行得通吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:13:16.053

您可以简单地在您的 Web 服务器中编写一个*重写规则，将对*[http://example.com/videos.php](http://example.com/videos.asp)的请求重写为[http://example.com/videos.asp](http://example.com/videos.php)。如果您使用 IIS，[这里](http://learn.iis.net/page.aspx/461/creating-rewrite-rules-for-the-url-rewrite-module/)有一个关于如何创建重写规则的教程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:00:54.417

您可以使用[Mod_Rewrite](http://httpd.apache.org/docs/current/mod/mod_rewrite.html)来实现这一点，或者如果您使用的是 IIS ，则可以使用[URL Rewrite](http://www.iis.net/download/URLRewrite)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T06:46:25.063

您可以在 IIS 下安装 PHP（很容易做到），然后创建一个 php 页面[http://example.com/videos.php](http://example.com/videos.php)。在此页面中，您可以重定向到[http://example.com/videos.asp](http://example.com/videos.asp) ，仅插入此 php 代码：

```
<?php
header("location: http://example.com/videos.asp");
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T06:37:54.537

> 当我创建 PHP 文件并使用 header() 重定向时，它没有按我预期的方式运行 - 相反，它尝试下载 .php 文件。

您需要安装 PHP 才能使其正常工作

> 重定向到此链接的流量的最佳方法是什么？

这取决于服务器

> 我在想 .htaccess 但这行得通吗？

如果服务器支持 ASP 但不支持 PHP，那么它很有可能成为 IIS，据我所知，它不支持 .htaccess 文件。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-07-12T07:56:43.793

按照回复中的说明安装 PHP，然后告诉 IIS 将 .asp 文件解析为 php 并保留 url 原样。

# mysql - gem install mysql 检查 mysql.h... 否

> ID：11446208
> 
> 赞同：0
> 
> 时间：2012-07-12T06:34:52.363
> 
> 标签：mysql, ruby-on-rails, rubygems

尽管系统中存在 mysql.h，但我在 Arch Linux 上遇到了这个错误。有谁知道如何解决这个问题？以下是一些要害：

```
$ find /usr -name mysql.h
/usr/include/mysql/mysql.h
$ echo $PATH
/home/chris/.rvm/gems/ruby-1.8.7-p302@bogen/bin:/home/chris/.rvm/gems/ruby-1.8.7-p302@global/bin:/home/chris/.rvm/rubies/ruby-1.8.7-p302/bin:/home/chris/.rvm/bin:/bin:/usr/bin:/usr/lib:/sbin:/usr/sbin:/home/chris/bin:/home/chris/lib:/usr/share/eclipse:/opt/kde/bin:/usr/bin/perlbin/site:/usr/bin/perlbin/vendor:/usr/bin/perlbin/core:/opt/qt/bin:/usr/include:/usr/local/include:/opt/ruby1.8/bin:/usr/local/bin:/usr/local/sbin:/usr/bin/vendor_perl:/usr/bin/core_perl 
```

这是确切的输出`gem install mysql`

```
$ which ruby
/home/chris/.rvm/rubies/ruby-1.8.7-p302/bin/ruby
$ gem install mysql
    Building native extensions.  This could take a while...
    ERROR:  Error installing mysql:
    ERROR: Failed to build gem native extension.

    /home/chris/.rvm/rubies/ruby-1.8.7-p302/bin/ruby extconf.rb
checking for mysql_ssl_set()... no
checking for rb_str_set_len()... no
checking for rb_thread_start_timer()... no
checking for mysql.h... no
checking for mysql/mysql.h... no
*** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.

Provided configuration options:
    --with-opt-dir
    --without-opt-dir
    --with-opt-include
    --without-opt-include=${opt-dir}/include
    --with-opt-lib
    --without-opt-lib=${opt-dir}/lib
    --with-make-prog
    --without-make-prog
    --srcdir=.
    --curdir
    --ruby=/home/chris/.rvm/rubies/ruby-1.8.7-p302/bin/ruby
    --with-mysql-config
    --without-mysql-config

Gem files will remain installed in /home/chris/.rvm/gems/ruby-1.8.7-p302@bogen/gems/mysql-2.8.1 for inspection.
Results logged to /home/chris/.rvm/gems/ruby-1.8.7-p302@bogen/gems/mysql-2.8.1/ext/mysql_api/gem_make.out 
```

因为这是 Arch linux，所以没有像 Ubuntu 或 CentOS 这样的开发包。我尝试过的上述命令的变体包括：

```
gem install mysql -- --with-mysql-include=/usr/include/mysql --with-mysql-config
gem install mysql -- --with-mysql-include=/usr/include/mysql
gem install mysql -- --with-mysql-include=/usr/include 
```

一切都无济于事。不幸的是，我能够找到的所有其他有关此错误的报告要么与 Mac OS 有关，要么与其他 Linux 发行版上缺少开发包有关。由于头文件在我的情况下并且似乎在标准位置，因此我不确定接下来要尝试什么。任何提示将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-15T18:47:32.873

这也可能是由于未安装 GCC 造成的，因为这是检查的方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-02T15:35:03.157

这个对我有用。

`yum install libodb-mysql-devel.i686 mysql-devel.i686 soci-mysql-devel.i686`

# android - 项目“HelloWorldTest”中不存在目标“-resource-src”。它从目标“编译”中使用

> ID：11446212
> 
> 赞同：3
> 
> 时间：2012-07-12T06:35:05.437
> 
> 标签：android, build, robotium

```
<!-- override "compile" target in platform android_rules.xml to include tested app's external libraries -->
<target name="compile" depends="-resource-src, -aidl"
            description="Compiles project's .java files into .class files">
    <!-- If android rules are used for a test project, its classpath should include
         tested project's location -->
    <condition property="extensible.classpath"
                       value="${tested.project.absolute.dir}/bin/classes" else=".">
        <isset property="tested.project.absolute.dir" />
    </condition>
    <javac encoding="ascii" target="1.5" debug="true" extdirs=""
            destdir="${out.classes.absolute.dir}"
            bootclasspathref="android.target.classpath"
            verbose="${verbose}" classpath="${extensible.classpath}">
        <src path="${source.absolute.dir}" />
        <src path="${gen.absolute.dir}" />
        <classpath>
            <fileset dir="${tested.project.absolute.dir}/libs" includes="*.jar" />
            <fileset dir="${external.libs.absolute.dir}" includes="*.jar" />
        </classpath>
    </javac>
</target> 
```

为什么我会得到**BUILD FAILED**？

`"-resource-src"`项目中不存在目标`"HelloWorldTest"`。它从目标“编译”中使用。

我的 Android SDK 工具 Rev20....

我不明白，我觉得失去希望

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-15T10:36:49.247

可能是您的 ${build.target} 在 -set-debug-mode 和 -set-release-mode 任务中设置。因此，当直接调用 -compile 任务时，它不会将这些任务中的任何一个称为依赖项。所以 ${build.target} 从未真正设置过。

尝试覆盖其中一项任务，并在未设置时设置 ${build.target}。

您可以使用目标属性。

```
<javac encoding="${java.encoding}"
    source="${java.source}" target="${java.target}"
    debug="true" extdirs="" includeantruntime="false"
    .... 
> 
```

我希望这个对你有用。

# java - Can I write custom java methods inside map-reduce?

> ID：11446220
> 
> 赞同：0
> 
> 时间：2012-07-12T06:35:43.190
> 
> 标签：java, hadoop, mapreduce

Can I write my own custom static method in JAVA inside map-reduce that I may want to call for every key-value pair that enters my mapper?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T22:42:02.500

You can do such a thing and I do it all the time. The methods you call can be either static or not.

Basically:

If you call the outside code from code that you've written yourself thats included in your project, you need to bundle that up with your code when you export the project to a .jar file.

If you are referencing methods and such from a .jar file that you've included in the build path for your project, you need to place that .jar file on every node of your cluster where the job would run, and edit your HADOOP_CLASSPATH variable on your servers in the file $HADOOP_HOME/conf/hadoop-env.sh file and restart your cluster. Otherwise you will get a class not found error.

An example is:

```
export HBASE_CLASSPATH=/path/to/one/file.jar:/path/to/another/file.jar 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:07:46.030

Yes, you can do that. (I have to enter additional characters so I can submit this answer, so just ignore this sentence)

# c - 查找包含 0 的完整矩形

> ID：11446223
> 
> 赞同：29
> 
> 时间：2012-07-12T06:36:08.483
> 
> 标签：c, arrays, algorithm, math

在给定的 1000 x 1000 阵列中有不同的矩形。中`<Figure 1>`，显示为黄色单元格的序列“1”为矩形图案。矩形的最小尺寸`<Figure 1>`为 3 x 3，显示为绿色单元格。

矩形内应该至少有一个“0”。

但是，在这个阵列中，也存在不封闭的形状或直线图案。

![在此处输入图像描述](../Images/15c1e28d001dacf39f477b0d7d2b736c.png)

（数组的初始值为'0'，模式由一系列'1'表示。它们不重叠或相互包含。）

除了未闭合的形状或直线之外，找到数组中完整矩形的有效算法是什么？例如上图中完整矩形的数量为 3

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-07-12T11:26:48.847

这很简单。如果你有`n`正方形，你可以计算`O(n)`.

假设：

*   每个有效矩形的边框不与无效路径共享任何单元格。
*   如果一个矩形在另一个矩形内，您会很高兴找到它们

您将需要与输入一样大的额外内存。让我们调用它`visited`并用 0 进行初始化。

我们先构造一个辅助函数：

```
is_rectangle(square s)
    from s, go right while you see 1s and visited is 0
        mark them as 1 in visited
    if less than 3 steps
        return 0
    then, go down while you see 1s and visited is 0
        mark them as 1 in visited
    if less than 3 steps
        return 0
    then, go left while you see 1s and visited is 0
        mark them as 1 in visited
    if less than 3 steps
        return 0
    then, go up while you see 1s and visited is 0
        mark them as 1 in visited
    if then one above is not s
        return 0
    return 1 
```

该函数基本上沿右下左上的方向跟踪1，并检查是否满足条件（长度至少为3并到达起始位置）。它还标记了访问过的广场。

关于这个函数需要注意的重要一点是，它只有在初始正方形位于左上角时才能正常工作。

现在，问题的解决方案很简单：

```
num_rectangles = 0
initialize visited to 0 (rows x columns)
for r in rows
    for c in columns
        if visitied[r][c] or image[r][c] == 0
            continue
        num_rectangles += is_rectangle(<r,c>)
return num_rectangles 
```

以下是算法的执行方式：

![在此处输入图像描述](../Images/c202b940cd46c839605366c6e5888f20.png)
1.坏矩形的失败（和标记）部分

![在此处输入图像描述](../Images/96c249625f9eafe384093f3f68e68af0.png)
2\. 找到（并标记）一个矩形。

![在此处输入图像描述](../Images/dbdafbbdfde001582dc75d98c54643fa.png)
3.在单个正方形（垂直线）上失败

![在此处输入图像描述](../Images/32075866671253f71a08e297fa9bed89.png)
4.在一个正方形（垂直线）上失败

![在此处输入图像描述](../Images/b10678a4f09d95ba5f992e95f9af4397.png)
5.在一个正方形（垂直线）上失败

![在此处输入图像描述](../Images/cabaaf541bb7a4f11919c5a797ab16ec.png)
6.经过许多类似的步骤，找到下一个矩形。

![在此处输入图像描述](../Images/cef753c34ae8d52ac09abaf4b270da1e.png)
7\. 下一个矩形

![在此处输入图像描述](../Images/7ee18d7c199437b5c552687fad421eb6.png)
8.算法结束

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-12T15:01:26.013

以下 O(n) 算法适用**于任何 0/1 值的 2D 矩阵**（即，允许相交/重叠的矩形，任意非矩形开放/闭合形状也是如此）。我在这里使用的矩形的定义是“内部完全由 0 个单元组成”（例如，如果一个矩形完全包含另一个矩形，则只会找到内部矩形；如果还应考虑包含矩形，则可以删除每个找到的矩形并重新启动算法）。这是基于观察到每个 0-cell 最多可以在*一个 1-rectangle*的内部。

我使用约定 x = 0 是最左边的位置，y = 0 是最上面的位置。

1.  **找到左上角。** 从左上角的单元格开始，从左到右和从上到下，找到下一个未访问的单元格，它可能是一个实心 0 矩形的左上角：特别是它必须是一个 0 单元格在 SW、W、NW、N 和 NE 位置有 1 个单元格邻居，在其余 3 个相邻位置有 0 个单元格。
2.  **找到右上角。** 当这些单元格为 0 并且有一个单元格为 N 的邻居时，扫描其右侧的邻居。
3.  **这可能是实心 0 矩形的顶行吗？** 如果上述循环在结束之前找到的最后一个单元格是一个单元格，该单元格可能是一个实心 0 矩形中的右上角单元格（特别是在 NW、N、NE、E 中具有 1 个单元格邻居的 0 单元格）和 SE 单元格，以及其余 3 个位置的 0 单元格），那么我们已经建立了顶部 y 坐标和使用这些单元格中的任何一个的*唯一可能的实心 0 矩形的确切宽度。*如果最后一个单元格不满足这些右上角的条件，则这些单元格都不能成为实心 0 矩形的一部分：将它们标记为已访问并转到 1。
4.  调用 0 单元格 x1 和 x2 条带的起点和终点 x 坐标；调用垂直位置 y1。
5.  **向下扫描，一次一行。** 设置 y2 = y1，虽然 x1 和 x2 之间在垂直位置 y2 处的线可能是实心 0 矩形的一部分，但增加 y2。具体来说，在每个垂直位置 y2 的测试是：(x1 - 1, y2) 和 (x2 + 1, y2) 处的单元格必须都为 1，并且其间的所有单元格必须为 0。
6.  **这可能是实心 0 矩形的底行吗？** 如果上一个循环在它结束之前找到的最后一行是可能是实心 0-矩形的底行的行（具体来说，从 (x1 - 1, y2 + 1) 到 (x2) 一直有 1 个单元格+ 1, y2 + 1))，则我们找到了一个完整的实心 0 矩形，被 1 格包围：如果它的大小大于目前发现的最大矩形，则将其记录为新的最大矩形。否则（如果在下一行中没有实心行 1 单元格），则检查的 0 单元格都不能成为任何实心 0 矩形的一部分：将它们全部标记为已访问并转到 1。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-12T11:03:59.473

如果你的数组中只能有矩形，这相当于一个经典的二进制图像计算问题：只需对连通分量应用标准算法。您只标记 0 的连通分量，并计算它们。

例如，参见[http://en.wikipedia.org/wiki/Connected-component_labeling 。](http://en.wikipedia.org/wiki/Connected-component_labeling)这种类型的算法在图像上非常简单，但会占用一些内存（与输入数组大小相同，类型为 short 或 int）。注意连通性：如果您选择 4 连通性，即使缺少某些角，您也会计算封闭的矩形。但该算法比 8 连接更简单。

如果你可以有更复杂的封闭形状，只需添加一个后处理：对于每个连接的组件，计算组件边界框内的像素数（如果两个数字相等，你就有一个矩形）

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-12T12:05:26.020

想了一会儿。我想出了这个方法：

1）消除边缘周围的所有零 - 将它们的值更改为2

2）在2s左右填充矩阵

这只剩下零岛，现在可以测试凸度。所以对于每个岛屿：

3) 在 X 和 Y 中寻找 0 值的范围 - 给你一个潜在的内部矩形

4) 如果内部矩形包含 1 或外部矩形包含 0，则用 2s 填充这个岛，因为它不是凸的（因此不是矩形）

假设您可以找到一个好的洪水填充算法（不像我的那样），这应该可以有效地快速切割搜索空间。

现在是代码（对不起，它是升 C）：

```
using System;
using System.Collections.Generic;

namespace Test
{
class MainClass
{
    static private int [,] matrix = new int[,] {
        {0,0,0,0,0,0,0,0,1,1,1,1,0,0,0},
        {0,1,1,1,1,1,1,0,1,0,0,1,0,1,0},
        {0,1,0,0,0,0,1,0,1,0,0,1,0,1,0},
        {0,1,0,0,0,0,1,0,1,0,0,1,0,1,0},
        {0,1,0,0,0,0,1,0,1,0,0,0,0,1,0},
        {0,1,0,0,0,0,1,0,1,0,0,0,0,1,0},
        {0,1,1,1,1,1,1,0,1,0,0,1,0,1,0},
        {0,0,0,0,0,0,0,0,1,1,1,1,0,0,0},
        {0,0,1,1,1,1,0,0,0,0,0,0,0,0,0},
        {0,0,1,0,0,1,0,0,1,1,1,0,1,1,0},
        {0,0,1,1,1,1,0,0,1,0,1,0,0,0,0},
        {0,0,0,0,0,0,0,0,1,1,1,0,0,0,0}
    };

    static private int width = matrix.GetLength(0);
    static private int height = matrix.GetLength(1);

    private const int DEAD = 2;
    private const int RECT = 3;

    public static void Main (string[] args)
    {
        //width = matrix.GetLength(0);
        //height = matrix.GetLength(1);

        PrintMatrix ();
        EliminateFromEdges (DEAD);
        PrintMatrix ();
        FloodFill (DEAD); // very inefficient - find a better floodfill algorithm
        PrintMatrix ();

        // test each island of zeros for convexness
        for (int i = 0; i < width; i++) {
            for (int j = 0; j < height; j++) {
                if (matrix[i,j] == 0)
                {
                    if (TestIsland(i,j) == false)
                    {
                        // eliminate this island as it is not convex
                        matrix[i,j] = DEAD;
                        FloodFill(DEAD);
                        PrintMatrix ();
                    }
                    else
                    {
                        // flag this rectangle as such
                        matrix[i,j] = RECT;
                        FloodFill(RECT);
                        PrintMatrix ();
                    }
                }
            }
        }

        // We're done, anything flagged as RECT can be expanded to yield the rectangles
        PrintMatrix ();
    }

    // flag any zero at edge of matrix as 'dead'
    static private void EliminateFromEdges(int value)
    {
        for (int i = 0; i < width; i++) 
        {
            if (matrix [i, 0] == 0) 
            {
                matrix [i, 0] = value;
            }
            if (matrix [i, height - 1] == 0)
            {
                matrix [i, height - 1] = value;
            }
        }
        for (int j = 1; j < height - 1; j++)
        {
            if (matrix [0, j] == 0)
            {
                matrix [0, j] = value;
            }
            if (matrix [width - 1, j] == 0)
            {
                matrix [width - 1, j] = value;
            }
        }
    }

    // propagte a value to neighbouring cells
    static private void FloodFill (int value)
    {
        bool change_made = true; // set to true to start things off
        while (change_made) {
            change_made = false;
            for (int i = 1; i < width - 1; i++) {
                for (int j = 1; j < height - 1; j++) {
                    if ((matrix [i, j] == 0) &&
                        ((matrix [i - 1, j] == value) || 
                        (matrix [i + 1, j] == value) ||
                        (matrix [i, j - 1] == value) || 
                        (matrix [i, j + 1] == value))) {
                        matrix [i, j] = value;
                        change_made = true;
                    }
                }
            }
        }
    }

    static private bool TestIsland (int x, int y)
    {
        // find convex extend of island
        int x2 = x;
        int y2 = y;
        while (matrix[++x2, y] == 0);
        x2--;
        while (matrix[x,++y2] == 0);
        y2--;

        // check inner cells (want all zeroes)
        for (int i = x; i <= x2; i++) 
        {
            for (int j = y; j <= y2; j++) 
            {
                if (matrix[i,y] != 0)
                {
                    return false;
                }
            }
        }

        // check surrounding cells (want all ones)
        x--; y--;
        x2++; y2++;
        for (int i = x; i <= x2; i++) 
        {
            if ((matrix[i,y] != 1) || (matrix[i,y2] != 1))
            {
                return false;
            }
        }
        for (int j = y + 1; j <= y2 - 1; j++) 
        {
            if ((matrix[x,j] != 1) || (matrix[x2,j] != 1))
            {
                return false;
            }
        }

        return true;
    }

    // for debug purposes
    static private void PrintMatrix ()
    {
        for (int i = 0; i < width; i++) {
            for (int j = 0; j < height; j++) {
                switch(matrix[i,j])
                {
                case DEAD:
                    Console.Write("-");
                    break;
                case RECT:
                    Console.Write("+");
                    break;
                default:
                    Console.Write(matrix[i,j]);
                    break;
                }
            }
            Console.WriteLine();
        }
        Console.WriteLine();
    }
}
} 
```

此代码的输出

```
000000001111000
011111101001010
010000101001010
010000101001010
010000101000010
010000101000010
011111101001010
000000001111000
001111000000000
001001001110110
001111001010000
000000001110000

--------1111---
-1111110100101-
-1000010100101-
-1000010100101-
-1000010100001-
-1000010100001-
-1111110100101-
-0000000111100-
-0111100000000-
-0100100111011-
-0111100101000-
--------111----

--------1111---
-111111-1--1-1-
-100001-1--1-1-
-100001-1--1-1-
-100001-1----1-
-100001-1----1-
-111111-1--1-1-
--------1111---
--1111---------
--1001--111-11-
--1111--101----
--------111----

--------1111---
-111111-1--1-1-
-1++++1-1--1-1-
-1++++1-1--1-1-
-1++++1-1----1-
-1++++1-1----1-
-111111-1--1-1-
--------1111---
--1111---------
--1001--111-11-
--1111--101----
--------111----

--------1111---
-111111-1--1-1-
-1++++1-1--1-1-
-1++++1-1--1-1-
-1++++1-1----1-
-1++++1-1----1-
-111111-1--1-1-
--------1111---
--1111---------
--1++1--111-11-
--1111--101----
--------111----

--------1111---
-111111-1--1-1-
-1++++1-1--1-1-
-1++++1-1--1-1-
-1++++1-1----1-
-1++++1-1----1-
-111111-1--1-1-
--------1111---
--1111---------
--1++1--111-11-
--1111--1+1----
--------111----

--------1111---
-111111-1--1-1-
-1++++1-1--1-1-
-1++++1-1--1-1-
-1++++1-1----1-
-1++++1-1----1-
-111111-1--1-1-
--------1111---
--1111---------
--1++1--111-11-
--1111--1+1----
--------111---- 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-12T07:19:07.993

这就是我的想法，可能资源效率很低。不知道那件事。

1.  沿着一行遍历，除非你找到至少 3`1`秒。
2.  向下遍历并使用下面的行执行& 操作 -->如果它是一个有效的矩形`boolean`，它们的格式应该是这样的。`100..001`（假设你可以做所有的`boolean`操作）
3.  当您在步骤 2 中找到至少一行时，您已经找到了一个矩形，最后是所有`1`s。
4.  对行的下一个元素重复！

# php - google api 联系人 php simplexml

> ID：11446227
> 
> 赞同：4
> 
> 时间：2012-07-12T06:36:43.010
> 
> 标签：php, api, simplexml, contacts

我希望从谷歌联系人中获取联系人的名字，但没有任何运气。但是，我能够提取电子邮件地址没有问题。有人可以告诉我我做错了什么吗？

```
$xmlresponse=file_get_contents('https://www.google.com/m8/feeds/contacts/default/full?oauth_token='.$accesstoken);
//reading xml using SimpleXML
$xml=  new SimpleXMLElement($xmlresponse);
$xml->registerXPathNamespace('gd', 'http://schemas.google.com/g/2005');

$nameFirst = $xml->xpath('//gd:givenName'); // I have also tried //gd:name
$result = $xml->xpath('//gd:email');

foreach($nameFirst as $nameF){
echo $nameF->getName();
}
foreach ($result as $title) {
echo $title->attributes()->address . "<br>";
}
?> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-19T23:52:47.377

我从 Google Contacts API 获得的 XML 是混合的，名称是普通 XML 节点“标题”的节点值，但电子邮件是`gdata`tag中的参数`gd:email`。考虑到多个电子邮件地址的可能性，我使用以下方法来提取单个名称/电子邮件对的数组：

```
$req = new Google_HttpRequest("https://www.google.com/m8/feeds/contacts/default/property-email/");
$val = $this->client->getIo()->authenticatedRequest($req);
$xml = simplexml_load_string($val->getResponseBody());
$xml->registerXPathNamespace('gd', 'http://schemas.google.com/g/2005');

$output_array = array();
foreach ($xml->entry as $entry) {
  foreach ($entry->xpath('gd:email') as $email) {
    $output_array[] = array((string)$entry->title, (string)$email->attributes()->address);
  }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-22T13:51:45.407

上面的示例（来自 google 客户端 api 示例）不适用于电子邮件。我尝试了很多，对我来说，回复包含其他信息，但不包含电子邮件。我发现了一个谷歌 [小组的讨论](https://groups.google.com/forum/?fromgroups=#!topic/google-contacts-api/U63UnuqfMoA)，他们在讨论这个问题，这似乎是一个 bug，simplexml 没有看到一些 gd: 信息。

我像 Claude 一样使用 simpleXMLElements 和 xpath，但对我来说，我也只能收到电子邮件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T06:46:59.967

Google提供了[一个 PHP 客户端库，](http://code.google.com/p/google-api-php-client/)用于与它提供的各种服务进行交互。联系人就是其中之一。

联系人服务的示例代码使用了 json 编码和解码结果的技巧：

```
require_once '../../src/apiClient.php';
session_start();

$client = new apiClient();
$client->setApplicationName('Google Contacts PHP Sample');
$client->setScopes("http://www.google.com/m8/feeds/");
// Documentation: http://code.google.com/apis/gdata/docs/2.0/basics.html
// Visit https://code.google.com/apis/console?api=contacts to generate your
// oauth2_client_id, oauth2_client_secret, and register your oauth2_redirect_uri.
// $client->setClientId('insert_your_oauth2_client_id');
// $client->setClientSecret('insert_your_oauth2_client_secret');
// $client->setRedirectUri('insert_your_redirect_uri');
// $client->setDeveloperKey('insert_your_developer_key');

if (isset($_GET['code'])) {
  $client->authenticate();
  $_SESSION['token'] = $client->getAccessToken();
  $redirect = 'http://' . $_SERVER['HTTP_HOST'] . $_SERVER['PHP_SELF'];
  header('Location: ' . filter_var($redirect, FILTER_SANITIZE_URL));
}

if (isset($_SESSION['token'])) {
 $client->setAccessToken($_SESSION['token']);
}

if (isset($_REQUEST['logout'])) {
  unset($_SESSION['token']);
  $client->revokeToken();
}

if ($client->getAccessToken()) {
  $req = new apiHttpRequest("https://www.google.com/m8/feeds/contacts/default/full");
  $val = $client->getIo()->authenticatedRequest($req);

  // The contacts api only returns XML responses.
  $response = json_encode(simplexml_load_string($val->getResponseBody()));
  print "<pre>" . print_r(json_decode($response, true), true) . "</pre>";

  // The access token may have been updated lazily.
  $_SESSION['token'] = $client->getAccessToken();
} else {
  $auth = $client->createAuthUrl();
}

if (isset($auth)) {
    print "<a class=login href='$auth'>Connect Me!</a>";
  } else {
    print "<a class=logout href='?logout'>Logout</a>";
} 
```

# html - 如何在 layout.phtml 中获取 getRequestUri()

> ID：11446230
> 
> 赞同：2
> 
> 时间：2012-07-12T06:36:51.247
> 
> 标签：html, zend-framework

在我的 zend layout.phtml 中，我的导航服务如下：

```
<?php                                  
    $userInfo = new Zend_Session_Namespace('userInfo');             
    if($userInfo->userType=='admin')
    {   
        echo '<li ><a href="/adminhome">home</a></li>';
        echo '<li ><a href="addbook">Addbooks</a></li>';
        echo '<li class="selected"><a href="about.html">EditBook</a></li>';
        echo '<li><a href="logout">Adduser</a></li>';               
        echo '<li><a href="logout">Logout</a></li>';
    }
?> 
```

在普通页面中，我可以通过这种方式获取 url

```
$this->view->assign('url',$this->getRequest()->getRequestUri());
$url = $this->getRequest()->getRequestUri();
$b=basename($url);     
$this->view->assign('b',$b); 
```

我想要这个 url 在我的 layout.phtm 中如何将它从 bootstrap.php 传递到 layout.phtml？这里我的要求是像这样向 li 添加一个类：

```
 <li    <?php if($b==EditBook) echo 'class="selected'  ?> "><a href="about.html">EditBook</a></li> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:03:28.130

获得它的更好方法是编写一个视图助手来分配必要的变量

```
class Helper_Params extends Zend_Controller_Action_Helper_Abstract {
    $view = $this->getActionController()->view;
    $request = $this->getRequest();
    $view->requestUri = $request->getRequestUri();
} 
```

并在你的引导程序中初始化它

```
public function _initHelpers() {
    Zend_Controller_Action_HelperBroker::addHelper ( new Helper_Params () );
} 
```

# code-access-security - 如何保护项目的源文件？

> ID：11446231
> 
> 赞同：1
> 
> 时间：2012-07-12T06:36:54.170
> 
> 标签：code-access-security

在我的公司，我们正在针对本地服务器进行开发，我们不会在我们带回家的公司提供的个人笔记本电脑上保留文件库的副本。

有`2 problems`这样的：

1.  我们无法高效地远程工作。
2.  文件搜索（在我经常使用的 NetBeans 中查找 + 快速查找）非常慢。

我有什么选择可以保护我的笔记本电脑上的源代码，以防止盗贼/黑客可能会或可能不会把手放在我的笔记本电脑上？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:55:29.280

好吧，一个明显的选择是使用加密。现代加密工具中使用的密钥现在足够长，以至于一些黑客需要几十年才能破解它（我在这里假设你不会成为 NSA 攻击的受害者，即使他们可能很难破解1024 或 2048 位密钥 :-))

选择哪种工具主要取决于您的操作系统和预算。好消息是有许多可靠的免费程序可用于此目的，您可以在[此处](http://lifehacker.com/391555/best-free-ways-to-protect-your-private-files)、[此处](http://lifehacker.com/5677725/five-best-file-encryption-tools)和[此处](http://en.wikipedia.org/wiki/Comparison_of_disk_encryption_software)找到它们的列表。祝你好运。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:05:38.937

我推荐[TrueCrypt](http://www.truecrypt.org/)，因为它易于使用、免费、开源，并且可以在 Windows 和 Linux 上运行。

它即时加密/解密，没有临时的“纯文本”文件。

您可以只创建一个加密容器或加密整个驱动器，但我怀疑在您的情况下一个文件容器就足够了，因为您只需要保护源代码（即 httpdocs 文件夹）。

它具有在锁定计算机时自动卸载容器的选项（Windows 上的 WIN+L），因此当您离开笔记本电脑时（例如，在客户端位置），您也将立即受到保护。

*   选择一种加密方法（它们都是强大的加密算法 - 我更喜欢 AES，因为它更快并且是当前标准，但您可以使用另一种或 2-3 算法的组合）和散列方法（我会建议使用 SHA-512 而不是默认的 RIPEMD-160）
*   确保在创建容器时使用强密码（*主密钥）*
*   如果您打算在不使用 SVN/Git 的情况下工作一段时间，请务必备份您的容器文件。在硬盘故障的情况下，加密数据更难恢复（如果在某些情况下不是不可能的话）

# android - Phonegap 中的其他 Maps API？

> ID：11446233
> 
> 赞同：1
> 
> 时间：2012-07-12T06:37:08.127
> 
> 标签：android, cordova, maps

我可以在 Google Maps 旁边的 Phonegap 中使用其他地图 api 吗？我看到[了这个](http://tomschott.com/articles/phonegap-google-maps-example)教程，并且有一个代码

```
http://maps.googleapis.com/maps/api/staticmap?center="+ position.coords.latitude +","+ position.coords.longitude +"&amp;zoom=11&amp;size=300x300&amp;sensor=false 
```

据我所知，我可以简单地将其更改为其他 API url 对吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:01:57.610

是的，只要它能够在移动浏览器中运行，您就可以使用任何其他地图 API。如果您使用的是最新版本的 Phonegap，请确保您已将新的 api url[列入白名单。](http://docs.phonegap.com/en/1.9.0/guide_whitelist_index.md.html#Domain%20Whitelist%20Guide)

# iphone - 通过 asihttprequest 解压下载的文件

> ID：11446248
> 
> 赞同：0
> 
> 时间：2012-07-12T06:38:16.577
> 
> 标签：iphone, objective-c, ios, asihttprequest, unzip

我想知道使用 ASIHTTPRequest 是否可以解压缩 .zip 下载的文件，或者它只能解压缩 .gzip 压缩文件。

请让我知道，因为如果 ASIHTTPRequest 无法解压缩 .zip 压缩文件，那么我将不得不使用 ZipArchive 等第三方 api 来解压缩下载的文件。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T06:58:53.623

为什么不使用 gzip 压缩的 HTTP 通信，它会被 ASI（以及几乎所有其他 HTTP 访问框架）透明地解码。

ASIHTTP 支持解压，例如——

```
- (IBAction)grabURL:(id)sender
{
    NSURL *url              = [NSURL URLWithString:@"http://allseeing-i.com"];
    ASIHTTPRequest *request = [ASIHTTPRequest requestWithURL:url];

    // YES is the default, you can turn off gzip compression by setting this to NO
    [request setAllowCompressedResponse:YES];

    [request startSynchronous];
    BOOL *dataWasCompressed    = [request isResponseCompressed]; // Was the response gzip compressed?
    NSData *compressedResponse = [request rawResponseData]; // Compressed data
    NSData *uncompressedData   = [request responseData]; // Uncompressed data
    NSString *response         = [request responseString]; // Uncompressed data as a string
} 
```

**更新：**如果 asi 不支持 zip 文件解压缩，那么我过去曾成功使用过[ZipArchive](http://code.google.com/p/ziparchive/)。

它非常轻巧且易于使用，支持密码保护、ZIP 内的多个文件以及压缩和解压缩。所以你需要先通过 asi 获取 zip 文件，然后 unzip 使用的是 ziparchive。

基本用法是：

```
NSString *filepath = [[NSBundle mainBundle] pathForResource:@"ZipFileName" ofType:@"zip"];
ZipArchive *zipArchive = [[ZipArchive alloc] init];
[zipArchive UnzipOpenFile:filepath Password:@"xxxxxx"];
[zipArchive UnzipFileTo:{pathToDirectory} overWrite:YES];
[zipArchive UnzipCloseFile];
[zipArchive release]; 
```

# wpf - 如何像气泡一样设置 WPF 工具提示的样式？

> ID：11446250
> 
> 赞同：20
> 
> 时间：2012-07-12T06:38:26.587
> 
> 标签：wpf, xaml, styles, tooltip

我想塑造我的 WPF 工具提示，如下图所示：

![在此处输入图像描述](../Images/292eb53df44ed7bc157a0790dd39473a.png)

我如何实现这一目标？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-07-12T07:11:29.533

使用此代码：

```
<Window x:Class="WpfApplication2.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ed="http://schemas.microsoft.com/expression/2010/drawing"
    x:Name="Window"
    Title="MainWindow"
    Width="640"
    Height="480">

<Window.Resources>

    <Style x:Key="{x:Type ToolTip}" TargetType="ToolTip">
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="HasDropShadow" Value="True" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToolTip">
                    <ed:Callout Name="Border"
                                Width="{TemplateBinding Width}"
                                Height="{TemplateBinding Height}"
                                MinWidth="100"
                                MinHeight="30"
                                Margin="0,0,0,50"
                                AnchorPoint="0,1.5"
                                Background="{StaticResource LightBrush}"
                                BorderBrush="{StaticResource SolidBorderBrush}"
                                BorderThickness="1"
                                CalloutStyle="RoundedRectangle"
                                Fill="#FFF4F4F5"
                                FontSize="14.667"
                                Stroke="Black">
                        <ContentPresenter Margin="4"
                                          HorizontalAlignment="Left"
                                          VerticalAlignment="Top" />
                    </ed:Callout>

                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</Window.Resources>
<Grid>
    <Button ToolTip="Hello" />
</Grid> 
```

这是开始，现在你必须玩它......享受！

![在此处输入图像描述](../Images/4f2b87b4f74f9774f818a13ddff21754.png)

# powershell - 从 Msi ，如何获取每个功能中打包的文件列表？

> ID：11446252
> 
> 赞同：1
> 
> 时间：2012-07-12T06:38:30.460
> 
> 标签：powershell, wix, windows-installer, powershell-2.0

我们使用 wix 来创建 Msi。每个 Msi 将具有 1 或 2 或 3 个功能，例如 Appserver 功能、Webserver 功能和 DB 服务器功能。

现在我被要求获取每个功能中显示的配置文件列表。

通过 wxs 文件很难找到与每个功能相关的 web.config 文件列表。

是否可以找到与具有特定搜索模式的功能关联的文件列表？

例如。查找 Appserver 功能中打包的所有 web.config 文件。

有什么简单的方法（查询或其他一些自动化脚本，如 powershell）来获取列表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T11:50:06.947

Wix 附带一个称为 DTF（“部署工具基础”）的 .NET SDK。它包裹着窗户`msi.dll`等等。`Microsoft.Deployment.*.dll`您可以在 Wix Toolset 安装目录的 SDK 子目录中找到这些 .NET程序集。该文档位于doc 子目录中`dtf.chm`。`dtfapi.chm`

如文档中所示，您可以使用此 SDK 编写使用 SQL 查询 msi 数据库的代码。您将对[Feature](http://msdn.microsoft.com/en-us/library/windows/desktop/aa368585%28v=vs.85%29.aspx)、[FeatureComponents](http://msdn.microsoft.com/en-us/library/windows/desktop/aa368579%28v=vs.85%29.aspx)和[File](http://msdn.microsoft.com/en-us/library/windows/desktop/aa368596%28v=vs.85%29.aspx)表感兴趣。

如果您之前没有探索过 MSI 的内部结构，您可以使用[orca](http://msdn.microsoft.com/en-us/library/windows/desktop/aa370557%28v=vs.85%29.aspx)打开它来感受一下。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-28T20:02:40.970

您可以通过对[`Get-MsiProperties`这篇 PowerShell 文章中描述的函数](http://www.snowland.se/2010/02/21/read-msi-information-with-powershell/)进行轻微修改来完成此操作。

请阅读原文并创建规定的`comObject.types.ps1xml`文件。

```
function global:Get-MsiFeatures {
    PARAM (
        [Parameter(Mandatory=$true,ValueFromPipelineByPropertyName=$true,HelpMessage="MSI Database Filename",ValueFromPipeline=$true)]
        [Alias("Filename","Path","Database","Msi")]
        $msiDbName
    )

    # A quick check to see if the file exist
    if(!(Test-Path $msiDbName)){
        throw "Could not find " + $msiDbName
    }

    # Create an empty hashtable to store properties in
    $msiFeatures = @{}

    # Creating WI object and load MSI database
    $wiObject = New-Object -com WindowsInstaller.Installer
    $wiDatabase = $wiObject.InvokeMethod("OpenDatabase", (Resolve-Path $msiDbName).Path, 0)

    # Open the Property-view
    $view = $wiDatabase.InvokeMethod("OpenView", "SELECT * FROM Feature")
    $view.InvokeMethod("Execute")

    # Loop thru the table
    $r = $view.InvokeMethod("Fetch")
    while($r -ne $null) {
        # Add property and value to hash table
        $msiFeatures[$r.InvokeParamProperty("StringData",1)] = $r.InvokeParamProperty("StringData",2)

        # Fetch the next row
        $r = $view.InvokeMethod("Fetch")
    }

    $view.InvokeMethod("Close")

    # Return the hash table
    return $msiFeatures
} 
```

# sql - 如何在 R 中模拟 SQL 排名函数？

> ID：11446254
> 
> 赞同：21
> 
> 时间：2012-07-12T06:38:38.593
> 
> 标签：sql, r, data.table, dplyr, dense-rank

什么是 R 等价函数，如 Oracle `ROW_NUMBER()`、`RANK()`或`DENSE_RANK()`（“根据行的顺序为行分配整数值”；参见[http://www.orafaq.com/node/55](http://www.orafaq.com/node/55)）？

我同意每个功能的功能都可以通过特殊方式实现。但我主要关心的是性能。为了内存和速度，最好避免使用连接或索引访问。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-07-12T09:18:38.107

该`data.table`软件包，尤其是从 1.8.1 版开始，提供了 SQL 术语中的大部分分区功能。`rank(x, ties.method = "min")`在 R 中类似于 Oracle `RANK()`，并且有一种使用因子（如下所述）来模拟该`DENSE_RANK()`功能的方法。模仿的方式到`ROW_NUMBER`最后应该是显而易见的。

这是一个示例：`data.table`从 R-Forge 加载最新版本：

```
install.packages("data.table",
  repos= c("http://R-Forge.R-project.org", getOption("repos")))

library(data.table) 
```

创建一些示例数据：

```
set.seed(10)

DT<-data.table(ID=seq_len(4*3),group=rep(1:4,each=3),value=rnorm(4*3),
  info=c(sample(c("a","b"),4*2,replace=TRUE),
  sample(c("c","d"),4,replace=TRUE)),key="ID")

> DT
    ID group       value info
 1:  1     1  0.01874617    a
 2:  2     1 -0.18425254    b
 3:  3     1 -1.37133055    b
 4:  4     2 -0.59916772    a
 5:  5     2  0.29454513    b
 6:  6     2  0.38979430    a
 7:  7     3 -1.20807618    b
 8:  8     3 -0.36367602    a
 9:  9     3 -1.62667268    c
10: 10     4 -0.25647839    d
11: 11     4  1.10177950    c
12: 12     4  0.75578151    d 
```

通过在范围内`ID`递减来对每个进行排名（注意前面的表示递减顺序）：`value``group``-``value`

```
> DT[,valRank:=rank(-value),by="group"]
    ID group       value info valRank
 1:  1     1  0.01874617    a       1
 2:  2     1 -0.18425254    b       2
 3:  3     1 -1.37133055    b       3
 4:  4     2 -0.59916772    a       3
 5:  5     2  0.29454513    b       2
 6:  6     2  0.38979430    a       1
 7:  7     3 -1.20807618    b       2
 8:  8     3 -0.36367602    a       1
 9:  9     3 -1.62667268    c       3
10: 10     4 -0.25647839    d       3
11: 11     4  1.10177950    c       1
12: 12     4  0.75578151    d       2 
```

对于`DENSE_RANK()`正在排名的值的关系，您可以将该值转换为一个因子，然后返回基础整数值。例如，`ID`根据`info`within对每个进行排名`group`（与 比较`infoRank`）`infoRankDense`：

```
DT[,infoRank:=rank(info,ties.method="min"),by="group"]
DT[,infoRankDense:=as.integer(factor(info)),by="group"]

R> DT
    ID group       value info valRank infoRank infoRankDense
 1:  1     1  0.01874617    a       1        1             1
 2:  2     1 -0.18425254    b       2        2             2
 3:  3     1 -1.37133055    b       3        2             2
 4:  4     2 -0.59916772    a       3        1             1
 5:  5     2  0.29454513    b       2        3             2
 6:  6     2  0.38979430    a       1        1             1
 7:  7     3 -1.20807618    b       2        2             2
 8:  8     3 -0.36367602    a       1        1             1
 9:  9     3 -1.62667268    c       3        3             3
10: 10     4 -0.25647839    d       3        2             2
11: 11     4  1.10177950    c       1        1             1
12: 12     4  0.75578151    d       2        2             2 
```

ps 嗨，马修·道尔。

* * *

**领先和落后**

[要模仿 LEAD 和 LAG，请从此处](https://stackoverflow.com/a/10708124/1281189)提供的答案开始。我将根据组内 ID 的顺序创建一个排名变量。对于上面的假数据，这不是必需的，但如果 ID 在组内不是按顺序排列的，那么这会使生活变得更加困难。所以这里有一些新的带有非序列 ID 的假数据：

```
set.seed(10)

DT<-data.table(ID=sample(seq_len(4*3)),group=rep(1:4,each=3),value=rnorm(4*3),
  info=c(sample(c("a","b"),4*2,replace=TRUE),
  sample(c("c","d"),4,replace=TRUE)),key="ID")

DT[,idRank:=rank(ID),by="group"]
setkey(DT,group, idRank)

> DT
    ID group       value info idRank
 1:  4     1 -0.36367602    b      1
 2:  5     1 -1.62667268    b      2
 3:  7     1 -1.20807618    b      3
 4:  1     2  1.10177950    a      1
 5:  2     2  0.75578151    a      2
 6: 12     2 -0.25647839    b      3
 7:  3     3  0.74139013    c      1
 8:  6     3  0.98744470    b      2
 9:  9     3 -0.23823356    a      3
10:  8     4 -0.19515038    c      1
11: 10     4  0.08934727    c      2
12: 11     4 -0.95494386    c      3 
```

然后要获取前 1 条记录的值，请使用`group`and`idRank`变量并减去and 使用`1`参数。要从上面的两个记录中获取值，请减去。`idRank``multi = 'last'``2`

```
DT[,prev:=DT[J(group,idRank-1), value, mult='last']]
DT[,prev2:=DT[J(group,idRank-2), value, mult='last']]

    ID group       value info idRank        prev      prev2
 1:  4     1 -0.36367602    b      1          NA         NA
 2:  5     1 -1.62667268    b      2 -0.36367602         NA
 3:  7     1 -1.20807618    b      3 -1.62667268 -0.3636760
 4:  1     2  1.10177950    a      1          NA         NA
 5:  2     2  0.75578151    a      2  1.10177950         NA
 6: 12     2 -0.25647839    b      3  0.75578151  1.1017795
 7:  3     3  0.74139013    c      1          NA         NA
 8:  6     3  0.98744470    b      2  0.74139013         NA
 9:  9     3 -0.23823356    a      3  0.98744470  0.7413901
10:  8     4 -0.19515038    c      1          NA         NA
11: 10     4  0.08934727    c      2 -0.19515038         NA
12: 11     4 -0.95494386    c      3  0.08934727 -0.1951504 
```

对于 LEAD，将适当的偏移量添加到`idRank`变量并切换到`multi = 'first'`：

```
DT[,nex:=DT[J(group,idRank+1), value, mult='first']]
DT[,nex2:=DT[J(group,idRank+2), value, mult='first']]

    ID group       value info idRank        prev      prev2         nex       nex2
 1:  4     1 -0.36367602    b      1          NA         NA -1.62667268 -1.2080762
 2:  5     1 -1.62667268    b      2 -0.36367602         NA -1.20807618         NA
 3:  7     1 -1.20807618    b      3 -1.62667268 -0.3636760          NA         NA
 4:  1     2  1.10177950    a      1          NA         NA  0.75578151 -0.2564784
 5:  2     2  0.75578151    a      2  1.10177950         NA -0.25647839         NA
 6: 12     2 -0.25647839    b      3  0.75578151  1.1017795          NA         NA
 7:  3     3  0.74139013    c      1          NA         NA  0.98744470 -0.2382336
 8:  6     3  0.98744470    b      2  0.74139013         NA -0.23823356         NA
 9:  9     3 -0.23823356    a      3  0.98744470  0.7413901          NA         NA
10:  8     4 -0.19515038    c      1          NA         NA  0.08934727 -0.9549439
11: 10     4  0.08934727    c      2 -0.19515038         NA -0.95494386         NA
12: 11     4 -0.95494386    c      3  0.08934727 -0.1951504          NA         NA 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-01-25T20:20:55.753

从`data.table v1.9.5+`, 功能`frank()`（用于*快速*排名）已实现。`frank()`在交互式场景中很有用，其中 as`frankv()`允许轻松编程。

它实现了`base::rank`. 此外，优点是：

*   `frank()`除了*原子向量*之外，还对*list*、*data.frames*和*data.tables*进行操作。

**   我们可以为每一列指定*排名*是按升序还是降序计算。

    *   `dense`除了`base`. _

    *   您也可以`-`在字符列上使用降序排列。* 

 *这是使用来自@BenBarnes（优秀）帖子的相同*data.table* 对上述所有要点的说明。`DT`

### 数据：

```
require(data.table)
set.seed(10)
sample_n <- function(x, n) sample(x, n, replace=TRUE)
DT <- data.table(
        ID = seq_len(4*3),
        group = rep(1:4,each=3),
        value = rnorm(4*3),
        info = c(sample_n(letters[1:2], 8), sample_n(letters[3:4], 4))) 
```

### 在单列上：

*   计算`dense`排名：

    ```
    DT[, rank := frank(value, ties.method="dense"), by=group] 
    ```

您也可以使用其他方法`min`、`max`、`random`和。`average``first`

*   按降序排列：

    ```
    DT[, rank := frank(-value, ties.method="dense"), by=group] 
    ```

*   使用`frankv`，类似于`frank`：

    ```
    # increasing order
    frankv(DT, "value", ties.method="dense")

    # decreasing order
    frankv(DT, "value", order=-1L, ties.method="dense") 
    ```

### 在多个列上

您可以使用`.SD`，它代表*数据子集并包含与**该*组对应的数据。有关更多信息，请参阅[data.table HTML 小插图简介](https://github.com/Rdatatable/data.table/wiki/Getting-started)`.SD`。

*   `info, value`分组时按列排名`group`：

    ```
    DT[, rank := frank(.SD,  info, value, ties.method="dense"), by=group] 
    ```

*   用于`-`指定降序：

    ```
    DT[, rank := frank(.SD,  info, -value, ties.method="dense"), by=group] 
    ```

*   您也可以`-`直接在字符列上使用

    ```
    DT[, rank := frank(.SD, -info, -value, ties.method="dense"), by=group] 
    ```

您可以`frankv`类似地使用并将列提供给`cols`参数以及使用参数对列进行排名的顺序`order`。

* * *

比较的小基准`base::rank`：

```
set.seed(45L)
x = sample(1e4, 1e7, TRUE)
system.time(ans1 <- base::rank(x, ties.method="first"))
#    user  system elapsed 
#  22.200   0.255  22.536 
system.time(ans2 <- frank(x, ties.method="first"))
#    user  system elapsed 
#   0.745   0.014   0.762 
identical(ans1, ans2) # [1] TRUE 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-13T03:31:20.427

我和其他人一样喜欢**data.table**，但这并不总是必要的。**data.table**总是会更快，但即使对于中等大小的数据集，如果*组*数相当少，**plyr**仍然可以充分执行。

BenBarnes 使用s 所做的事情可以使用**plyr**`data.table`紧凑地完成（但正如我之前提到的，在许多情况下可能会更慢）：

 **```
library(plyr)                
ddply(DT,.(group),transform,valRank = rank(-value))
ddply(DT,.(group),transform,valRank = rank(info,ties.method = "min"),
                            valRankDense = as.integer(factor(info))) 
```

甚至根本没有加载一个额外的包：

```
do.call(rbind,by(DT,DT$group,transform,valRank = rank(-value)))
do.call(rbind,by(DT,DT$group,transform,valRank = rank(info,ties.method = "min"),
                                        valRankDense = as.integer(factor(info)))) 
```

尽管在最后一种情况下您确实丢失了一些语法细节。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-12-04T20:19:59.017

Dplyr 现在有 windows 函数，包括 row_number 和 dense_rank：[https://dplyr.tidyverse.org/reference/ranking.html](https://dplyr.tidyverse.org/reference/ranking.html)：

```
df <- tibble::tribble(
~subjects,        ~date, ~visits, 
     1L, "21/09/1999",      2L, 
     1L, "29/04/1999",      4L, 
     2L, "18/02/1999",     15L, 
     3L, "10/07/1999",     13L, 
     4L, "27/08/1999",      7L, 
     7L, "27/10/1999",     14L, 
    10L, "18/04/1999",      8L, 
    13L, "27/09/1999",     14L, 
    14L, "15/09/1999",      6L, 
    16L, "27/11/1999",     14L, 
    20L, "06/02/1999",      4L, 
    22L, "07/09/1999",     12L, 
    23L, "24/03/1999",     14L, 
    24L, "19/01/1999",      7L, 
 ) 
```

注意 ORDER BY 不需要像 ROW_NUMBER() SQL 代码那样规定。

```
df_partition <- df %>% 
  group_by(subjects) %>% # group_by is equivalent to GROUP BY in the SQL partition 
ROW_NUMBER()
  mutate(rn = row_number(visits),
         rn_reversed = row_number(desc(visits))) %>% 
ungroup() %>% # grouping by subjects remains on data unless removed like this
  mutate(dense_rank = dense_rank(visits)) 
```

* * *

## 回答 #5

> 赞同：-6
> 
> 时间：2012-07-12T08:14:10.953

我不认为有直接等同于 Oracle 的分析功能。Plyr 可能能够实现一些分析功能，但不能直接实现所有功能。我确信 R 可以单独复制每个功能，但我认为没有一个包可以做到这一切。

如果您需要在 R 中实现特定操作，则进行一些谷歌搜索，如果您没有找到，请在 StackOverflow 上提出特定问题。***

# php - PHP：通过 YT API 验证 YT 视频 ID 是否存在

> ID：11446260
> 
> 赞同：1
> 
> 时间：2012-07-12T06:39:23.547
> 
> 标签：php, youtube-api

从研究看来，验证 YT 视频 ID 是否存在的最佳做法似乎是通过 YT API。我是 php 的新手并构造了一个函数，但它有错误我不确定是否以正确的方式接近这个，或者是否需要大量更改我的代码。如何正确验证 youtube 视频 ID？

我得到两个错误：

```
 Warning: Wrong parameter count for preg_replace()
    Fatal error: Class 'HTTP' not found 
```

代码

```
function validYoutubeVideo($isValid) {

                        $isValid = false;

                            if ($videoID == preg_replace('~https?://(?:[0-9A-Z-]+\.)?(?:youtu\.be/| youtube\.com\S*[^\w\-\s])([\w\-]{11})      
                        (?=[^\w\-]|$)(?![?=&+%\w]*(?:[\'"][^<>]*>| </a>))[?=&+%\w-]*~ix','$1')){

                                $http = new HTTP("http://gdata.youtube.com/feeds/api/videos/".$serverVideoID, "GET");
                                $http = $result;

                                if ( $videoID == $result) {
                                    $isValid = true;
                                }
                            }

                        return $isValid;

                    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T07:06:48.400

检查 youtube API 的最佳方法是通过我使用的这种方法：

```
$headers = get_headers('http://gdata.youtube.com/feeds/api/videos/' . $videoID);
                if (!strpos($headers[0], '200')) {
                    echo "The YouTube video you entered does not exist";
                    return false;
                } 
```

只需复制并用其余代码替换它，您就可以开始了。

# android - 卸载应用程序时从主屏幕卸载应用程序图标

> ID：11446262
> 
> 赞同：-1
> 
> 时间：2012-07-12T06:39:39.717
> 
> 标签：android

安装应用程序时我已`app_icon`进入主屏幕

现在想删除它，当应用程序要卸载时

我知道如何删除`app_icon`，但不知道我需要在哪个事件上执行此操作

任何人都可以为我提供解决方案。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:41:54.593

没有`event`跟踪应用程序的卸载。此外，正如 Warpzit 所说，无论如何，图标都会自动删除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:37:37.223

当您卸载应用程序时，应用程序快捷方式图标将被删除（无论您制作了多少副本）。

# java - 如果摆动视图由控制器中的新线程设置，是否需要同步方法

> ID：11446263
> 
> 赞同：0
> 
> 时间：2012-07-12T06:39:41.127
> 
> 标签：java, swing, model-view-controller, concurrency

实际上有不止1个问题。

给定模型视图和控制器。（我的耦合很多 - View 知道它的 Controller，而 Controller 知道 View。）

控制器中的新线程是否可以以基本方式触发 -`new Runnable(){ (...) run(){}}`或者需要以某种“摆动方式”进行操作，才能正确执行？也许与`Timer`or `invokeLater()`？

第二件事是 - 假设新线程已经启动 - 当它直接在视图上运行时，设置一些`JTextField`s （等等） -`setThatTextFieldWithNewValue(msg)`由于从需要线程调用而需要同步等方法吗？如果是这样 - 有没有更好的方法可以减少耦合并减少考虑所需同步的时间？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:09:51.477

**Swing 不是线程安全的**

**1**、**UI线程是Event Dispatcher Thread**，负责GUI工作。

**2.**尝试在 UI 线程之外使用非 UI 线程。

**3\. 是的，当然你可以从 UI 线程中触发一个线程**，但建议将其置于 UI 线程之外，否则 GUI 可能看起来没有响应。

（即负责UI工作的UI线程的非UI线程OUT上的非UI工作）

**4.**还有一种swing方式...使用**SwingWorker**，它处理**UI和Non-UI线程之间的同步。**

**编辑部分：**

// 请注意，直接在框架/JFRAME 上添加组件并不好，但我这样做只是为了说明我的意思。

```
public class MyClass extends JFrame{

private final JButton b;

 public MyClass(){

  this.setSize(300,300);
  this.setComponent();
  this.setHandler();
}

public void setComponent(){

  b = new JButton("Click");
  this.add(b);

}

public void setHandler(){

  b.addActionListener(new ActionListener() {

    @Override
    public void actionPerformed(ActionEvent arg0) {

            // Do whatever you want...      

    }
});

}

public static void main (String[] args) { 
      EventQueue.invokeLater(new Runnable(){    // UI THREAD
        public void run(){

         MyClass s = new MyClass();   
         s.setVisible(true);
        }

      });
   }
} 
```

Main 方法在 Swing 中是短暂的，main method() 将 GUI 的构建调度到事件调度线程 (EDT)，然后退出。所以它的 EDT 有责任处理 GUI。因此，始终建议让非 UI 线程上的非 UI 工作远离 EDT。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-12T07:43:17.073

1.  有几种方法可以创建、管理和通知 MVC，以便更快地发布[SSCCE以获得更好的帮助](http://sscce.org/)

2.  `Runnable#Thread`是一种非常舒适、稳定和清晰的方式，但我建议将所有输出到 Swing GUI`invokeLater`中，包括线程安全方法`setText`，`append`例如 ..

3.  正如 Kumar Vivek Mitra (+1) 提到的，有`SwingWorke`r，但需要最深入的了解，[如何从 SwingWorker 获得异常](https://stackoverflow.com/questions/7053865/cant-get-arrayindexoutofboundsexception-from-future-and-swingworker-if-threa)`Java essential classes`存在一些问题`exceptions recycle`

4.  关于 MVC 也许会帮助你我的[类似问题](https://stackoverflow.com/questions/8169964/is-mvc-in-swing-thread-safe)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T19:55:42.037

任何正在发生的事情都必须在 EventQueue 上运行**。**如果你有一个从 swing 调用的方法，它将已经在那里运行（如在 Action 侦听器中）。如果您不知道您是否在事件队列中，`EventQueue.isDispatchThread()`会告诉您。当您知道自己不是时，请使用`EventQueue.invokeLater()`或者`invokeAndWait`如果您需要查看结果，请引用一个摇摆类或方法。（这必须从`main`方法中完成。）

对此要非常小心；你必须检查你的代码。如果不是这样，我的经验是摇摆 UI 会有点不稳定，偶尔会出现无法重现的奇怪现象。观察每一行代码没有简单的方法。

实际上，有。在 EventQueue 上做*所有事情*，你就不用担心了。无论如何，你可能不会在挥杆之外做很多工作。如果是这样，那么为了避免多线程问题而损失速度可能是值得的。如果您的非摇摆工作广泛但简单，请使用 SwingWorker 类。它在高度受控的条件下为您提供了额外的线索，并且应该为您节省很多悲伤。

您的类（视图和控制器）独立于线程，并且在一个线程中运行时应该可以正常工作。不要混淆类和线程。（我承认，我很想让控制器在各个方向触发线程，但你必须准备好*非常*小心，并且知道所有关于多线程的知识。）

If you do multithread, the EventQueue can be a bit handy because you don't have to protect fields referenced only there--it's an island of single threading in a dangerous sea. On the other hand, *don't* do any synchronization there; you'll block your UI. You can launch threads from there and you may have to just to avoid blocking. (Once you start multithreading, it's hard to stop.)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T07:58:11.700

最简单的方法是：

```
 SwingUtilities.invokeLater(new Runnable() {

        @Override
        public void run() {

            // Run your code here.

        }
    }); 
```

对于更复杂的任务（将进程块发送到 ui 线程，响应 jobFinished）：

```
 new SwingWorker<String, String>() {

        @Override
        protected void done() {

        }

        @Override
        protected void process(List<String> arg0) {

        }

        @Override
        protected String doInBackground() throws Exception {

        }

    }.execute(); 
```

# database - 当我需要大表中的一行时使用 Hibernate 或 JDBC

> ID：11446264
> 
> 赞同：0
> 
> 时间：2012-07-12T06:39:44.967
> 
> 标签：database, hibernate, jdbc

1>具有数百万行和 100 列的表我想运行一个查询，该查询将从表中返回一行（我需要 3-4 列）。对于这个用例，JDBC 或 Hibernate 中的哪一个是更好的选择。

2>如果我们在这种情况下使用休眠，也会有内存不足的风险。我对休眠中的缓存问题一无所知，并且听说人们得到 OOM。

3>hibernate/JDBC哪一个会给出更快的结果。因为时间对我来说很重要。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:50:42.253

1.  您可以使用 Hibernate 轻松完成此操作，只需使用“视图对象”即可。性能将与本机 JDBC 相同。
2.  不，Hibernate 只会处理结果集中返回的内容。如果仅包含一行，则不会有任何问题。
3.  Hibernate 在两种情况下会很慢：它生成次优查询（您可以使用 .hbm 配置文件和/或注释对其进行调整）或处理结果很慢（当返回的结果集很大时会发生这种情况）。

顺便说一句，请参阅我关于使用[Hibernate 进行 OLAP 样式查询](http://www.istvandevai.com/2012/06/jpa-query-result-as-pojo.html)的博客文章。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T06:54:50.893

如果这是一个已经在使用休眠的项目，那么没有理由不使用休眠。请参阅 Istvan Devai 的回答。

如果这是一个新项目，而这就是你对 db 所做的一切，我认为使用 hibernate（或任何其他 JPA 实现）没有太多好处，你最好使用普通的 JDBC。

# java - 如何找到两个人的最佳答案

> ID：11446268
> 
> 赞同：0
> 
> 时间：2012-07-12T06:40:32.247
> 
> 标签：java

我试图找到从控制台输入的两个最大的数字。我找到了第一个，但第二个的解决方案不起作用。程序正在编译并运行。这是代码。

```
import java.util.Scanner;

public class FindingSecondHighestScore_4_09 {

    public static void main(String[] args)
    {
        Scanner input = new Scanner(System.in);

        double max = 1;
        double score2 = 0;
        String firstName = "";
        String secondName = null;
        System.out.println("Enter number of students: ");
        int x = input.nextInt();
        while(x > 0)
        {
            System.out.println("Enter Sudent's name");
            String name = input.next();
            System.out.println("Enter Student's score");
            double score = input.nextDouble();

            //find max
            if(score > max)
            {
                max = score;
                firstName = name;
            }

            //find second max
            if(max < score2  || score < score2)
            {
                max = score2;
                score = score2;
            }
            else if(max > score2  && score2 < score)
            {
                score2 = score;
                secondName = name;
            }

            x--;
        }
        System.out.println("The student: " + firstName + " has the greatest score: " + max);
        System.out.println("Second studemt " + secondName + " with second results: " + score2);

    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:48:44.930

由于这看起来像家庭作业，因此我将给您一些提示：

*   当你找到一个新的`max`，应该`score2`怎么办？
*   `score2`即使你找到了一个新的，你是否应该寻找一个新的`max`？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T06:50:22.290

如果我们想解决 if 结构，请考虑重新排列为以下内容：

```
if (/* new score beats second score, but not first */) {
    // replace second score
} else if (/* new score beats both first and second */) {
    // move first score down to second
    // assign a new first score
} 
```

让您的思维过程与代码紧密对应，这将阐明每个块应该做什么，从而定位任何逻辑错误。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T07:29:39.110

我认为当分数大于最大值时，必须将最大值转移到第二个分数并用新分数设置最大值....当分数在 max 和 score2 之间时，只能用新分数更新 score2

```
 //find max
        if(score > max)
        {
            score2 = max;
            max = score;
            secondName = firstName;
            firstName = name;
        }

        //find second max
        if(score < max && score > score2)
        {
            score2 = score;
            secondName = name;
        } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-12T07:46:26.640

这是一个更详细的实现（我今天的起床练习）：

```
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class TopScores {

    private static final int TOP_SELECTION_SIZE = 2;

    public static class Student {
        private final String name;
        private double score;

        public Student(String name) {
            if (name == null || name.length() == 0) {
                throw new IllegalArgumentException("Name cannot be empty");
            }
            this.name = name;
        }

        public String getName() {
            return name;
        }

        public double getScore() {
            return score;
        }

        public void setScore(String score) {
            try {
                this.score = Double.parseDouble(score);
            } catch (NumberFormatException e) {
                throw new IllegalArgumentException("Illegal score: " + score);
            }
        }

        @Override
        public String toString() {
            return String.format("%s with score %s", name, score);
        }
    }

    public static void main(String[] args) {

        List<Student> students = new ArrayList<TopScores.Student>();
        System.out.println("Please enter students. Press <RETURN> to stop.");
        Scanner input = new Scanner(System.in);
        boolean enteringData = true;
        while (enteringData) {
            try {
                System.out.print("Enter student's name: ");
                Student student = new Student(input.nextLine());
                System.out.print("Enter student's score: ");
                student.setScore(input.nextLine());
                for (int i = 0; i < students.size(); i++) {
                    if (student.getScore() > students.get(i).getScore()) {
                        students.add(i, student);
                        break;
                    }
                }
                if (students.size() == 0) {
                    students.add(student);
                }
            } catch (IllegalArgumentException e) {
                enteringData = false;
            }
        }

        int studentsToDisplay = Math.min(TOP_SELECTION_SIZE, students.size());
        if (studentsToDisplay > 0) {
            System.out.println("Top students:");
            for (int i = 0; i < studentsToDisplay; i++) {
                System.out.println("* " + students.get(i));
            }
        } else {
            System.out.println("No students to display");
        }
    }
} 
```

我创建了一个单独的学生类，它保存姓名和分数，验证输入并为一个学生创建显示格式。

为了确定最高分，我通过将每个新学生添加到正确的位置来将所有输入的学生排序在一个列表中。

用户不必事先输入学生人数，但可以通过输入空行（或无效分数）来终止数据输入。

数据输入完成后，将打印所需数量的得分最高的学生。

这种方法更灵活；打印前 3 名或前 10 名学生只需更改 TOP_SELECTION_SIZE 的值即可。

最重要的收获：尽可能在课堂上思考（在这种情况下是学生），并将合理的责任委派给每个课堂。

# ios5 - 在 Xcode for iPhone 上创建液体

> ID：11446269
> 
> 赞同：3
> 
> 时间：2012-07-12T06:40:34.347
> 
> 标签：ios5, xcode4.3

我正在寻找如何为 iPhone 应用程序创建液体的代码。appStore 上有一些带有液体的应用程序，例如：Liquid lite、Liquid Dynamics、Ibeer、我的水在哪里......我需要制造水，我将使用加速度计移动。如果有人可以提供帮助，那就太好了。我看到这里有一个类似的问题：[iPhone流体模拟](https://stackoverflow.com/questions/1784745/iphone-fluid-simulation)但答案不好。

# drupal-7 - Drupal 图像幻灯片

> ID：11446274
> 
> 赞同：0
> 
> 时间：2012-07-12T06:41:06.263
> 
> 标签：drupal-7, drupal-views

我正在drupal 7中制作一个网站，需要一些帮助。我创建了一个名为 Itenary 的内容类型，用户将在其中上传信息和五张图片。我将图像作为 Image1，Image2.... Image5 作为图像类型的字段 pf itenary 内容类型。

现在我希望将这些图像显示为这样的[东西](http://slidesjs.com/)

所以我去视图模块->添加新视图现在当我之前尝试过这个时，我选择了

> 显示类型*itenary的**内容*

 *它并没有像我希望的那样工作。

所以这一次，我选择了

> 显示*图像*类型的*文件*

 *我希望这是我需要的正确选择。然后我去创建一个块，给它一个名字。

现在我的困境是如何将 Image1 Image2 .. Image5 的那些字段带入这个块？它默认显示的字段与文件相关，而不是我的内容类型的字段。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T08:05:02.710

确保检查了以下步骤。

1-尝试下载[jQuery循环插件](http://jquery.malsup.com/cycle/download.html)。

2-创建一个文件夹一个新文件夹`sites/all/libraries/jquery.cycle`并将`jquery.cycle.all.js`文件放入其中。

3-去测试结果:)。

希望这行得通……穆罕默德。**

# asp.net - Sharepoint 和 Asp.Net MVC3 之间的 SSO

> ID：11446279
> 
> 赞同：1
> 
> 时间：2012-07-12T06:42:00.463
> 
> 标签：asp.net, asp.net-mvc-3, sharepoint, sharepoint-2010, single-sign-on

我有一个 Sharepoint 站点（不是 SP 专家），其中用户登录是基于表单的身份验证模型，其中用户名密码存储在数据库中……现在当用户单击链接时，我希望他重定向到 MVC3 应用程序。这样做时，我希望用户自动登录到 MVC 应用程序。实现它的最佳方法是什么。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T23:48:00.427

一种方法是将 http 标头中的身份验证令牌从 SharePoint 传递到其他 Web 应用程序。然后，MVC 应用程序应该在访问网站之前验证令牌。

# asp.net-mvc-3 - “空”外键关系在 MVC3 + EF 上创建记录

> ID：11446280
> 
> 赞同：0
> 
> 时间：2012-07-12T06:42:41.910
> 
> 标签：asp.net-mvc-3, razor

我正在使用 EF + MVC3 + razor 我有我的 userProfile 模型类，其中包含名称、姓氏变量 + 外键爱好（因为我想将其视为下拉列表）我创建了一个控制器，只需选择这个类和数据上下文。

当我尝试创建记录时，它不允许我，因为它在验证区域中说：“爱好字段是必需的。”。我希望不需要“爱好”下拉菜单。我怎样才能做到这一点？！..

这就是我所拥有的：

模型：

```
public class UserProfile    {
    [Key]
    public int Id { get; set; }
    [Required]
    public string Name { get; set; }
    [Required]
    public string Surname { get; set; }

    public int HobbiesId { get; set; }
    public virtual Hobby Hobby { get; set; }}

public class Hobby
{
    public int HobbiesId { get; set; }
    public string HobbieName { get; set; }
    public virtual ICollection<UserProfile> UserProfiles { get; set; } 
}

 public class UserProfileDBContext : DbContext
{
    public DbSet<UserProfile> UserProfiles { get; set; }
    public DbSet<Hobby> Hobbies{ get; set; }
 } 
```

看法：

```
[..]@using (Html.BeginForm()) {
@Html.ValidationSummary(true)
<fieldset>
    <legend>UserProfile</legend>

    <div class="editor-label">
        @Html.LabelFor(model => model.Name)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.Name)
        @Html.ValidationMessageFor(model => model.Name)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.Surname)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.Surname)
        @Html.ValidationMessageFor(model => model.Surname)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.HobbyId, "Hobby")
    </div>
    <div class="editor-field">
        @Html.DropDownList("HobbyId", String.Empty)
        @Html.ValidationMessageFor(model =>  model.HobbyIdId)
    </div>
[..] 
```

控制器的创建是：

```
 [HttpPost]
    public ActionResult Create(UserProfile userprofile)
    {
        if (ModelState.IsValid)
        {
            db.UserProfiles.Add(userprofile);
            db.SaveChanges();
            return RedirectToAction("Index");  
        }

        ViewBag.HobbyId = new SelectList(db.Hobbies, "HobbyId", "Hobby", userprofile.HobbyId);
 return View(userprofile); } 
```

我已经尝试修改：

```
 public class Hobby
{
    public int ?HobbiesId { get; set; } 
```

但它没有用。

有什么帮助吗？...

提前致谢！..

即插即用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T07:45:00.783

添加外键约束，如下图：

```
 public int? HobbiesId { get; set; }
 [ForeignKey("HobbiesId")] 
```

# c# - 在 VS 表单设计器中从资源中分配控件的文本

> ID：11446288
> 
> 赞同：-1
> 
> 时间：2012-07-12T06:43:16.103
> 
> 标签：c#

我的字符串存在于手动创建的 resx 文件中。我正在我的应用程序中创建一个新的 C# Windows 窗体。在表单中，我创建了多个标签控件。我想指出要从资源中设置的控件的文本，而不是在属性面板中对它们进行硬编码。

有没有办法让设计师生成的代码引用我的资源中的字符串？

我有很多要使用 VS 表单设计器创建的表单，并且希望字符串来自资源。

请指教，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T06:46:58.857

```
//Name Spaces Required

using System.Resources;
using System.Reflection;

// Create the resource manager.
 Assembly assembly = this.GetType().Assembly;

//ResFile.Strings -> <Namespace>.<ResourceFileName i.e. Strings.resx> 
resman = new ResourceManager("StringResources.Strings", assembly);

// Load the value of string value for Client
strClientName = resman.GetString("IDS_MESSAGE"); 
```

# jquery - 为什么 jQuery ajax jsonp 请求会出错？

> ID：11446297
> 
> 赞同：1
> 
> 时间：2012-07-12T06:44:00.360
> 
> 标签：jquery, ajax, django, datatables

```
"fnServerData": function( sUrl, aoData, fnCallback, oSettings ) {
            oSettings.jqXHR = $.ajax( {
                "url": sUrl,
                "data": aoData,
                "success": fnCallback,
                "error":function(msg){
                    alert(msg);
                },
                "dataType": "jsonp",
                "cache": false
            } );
        }, 
```

当我提出该请求时，服务器会给出该响应。

```
Status Code: 200 OK
Cache-Control: max-age=0
Content-Language: en
Content-Type: application/javascript
Expires: Thu, 12 Jul 2012 06:23:18 GMT
Last-Modified: Thu, 12 Jul 2012 06:23:18 GMT
Vary: Accept-Language, Cookie 
```

以及响应正文中的 json 数据。

但是 ajax 代码说它有一个错误，并进入“错误”代码块。

为什么它在状态为 200 时给出错误？

更新：

在 Django 服务器代码中：

```
 response_dict = {}                
            response_dict.update({'aaData': aaData})
            response_dict.update({'sEcho': sEcho, 'iTotalRecords': iTotalRecords, 'iTotalDisplayRecords':iTotalDisplayRecords, 'sColumns':sColumns})
            response = HttpResponse(simplejson.dumps(response_dict), mimetype='application/javascript') 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T07:09:10.663

服务器响应是否包含带填充的 JSON？

你看，有两种方法可以从不同的域接收数据：

1.  [CORS](http://en.wikipedia.org/wiki/Cross-origin_resource_sharing)是新的，但需要`Access-Control-Allow-Origin`从服务器发送单独的标头。浏览器支持也有所限制。

2.  [JSONP](http://en.wikipedia.org/wiki/JSONP)不依赖于服务器标头，而是要求它使用所谓的*“填充”*发回 JSON 数据：

    ```
    callback('{"your": ["json", "data"}') 
    ```

    然后，您的 JavaScript 库（在本例中为 jQuery）将其包装到一个新`script`标签中，诱使您的浏览器对其进行评估。在这个`callback`函数中，jQuery 解析 JSON 数据并将其发送到您的`fnCallback`. 之后，它会`script`从页面中删除不必要的标签。一般来说，这是一个非常脆弱的解决方案，但它在实践中有效。例如，如果服务器不填充 JSON 数据，您最终会在标签内得到以下代码`script`：

    ```
    '{"your": ["json", "data"}' 
    ```

    请注意，它只是一个字符串，什么都不做。因此，请检查服务器是否发送包装的 JSON 而不是原始 JSON。我之前遇到过很多次同样的问题，这对我有帮助。

* * *

**编辑**：由于您发布了服务器端代码，我假设您可以修改它。我从来没有玩过 Django，但我会尝试给你一些提示：

1.  在`request`您收到的内部应该有一个名为的参数`callback`- 这是 jQuery 发送给您的内容以及您应该用于填充的内容。把它放在某个地方：

    ```
    # Like I said I don't know the exact API but you get the idea
    callback = request.GET["callback"] 
    ```

2.  之后，在将您的回复发送给客户之前*填充您的回复：*

    ```
    response = HttpResponse( # Put callback name before the actual JSON
                   callback + "(" + simplejson.dumps(response_dict) + ");", 
                   mimetype='application/javascript') 
    ```

这应该有效。

# jquery - Rails 3.2.3 - twitter 喜欢分页或无限分页

> ID：11446298
> 
> 赞同：0
> 
> 时间：2012-07-12T06:44:03.183
> 
> 标签：jquery, ajax, ruby-on-rails-3

我浏览了许多关于 twitter 的文章，例如使用 AJAX for Rails 进行分页，现在我有点困惑。我想我还没有找到我要找的东西。

我有一个网站，它显示照片并有一个表格布局。

```
<table>
  <% i = 0
     tdCount = 3
     @photos.each do |p|
       if i % tdCount == 0%>
          <tr>
      <%end%>
      <td>
              <%=image_tag(p.source , {:width => 240})%>
      </td>
      <%if i % tdCount == (tdCount-1)%>
          </tr>
      <%end%>
      <% i += 1 %>
  <% end %>
</table> 
```

就我而言，使用任何“无页”解决方案都非常困难，因为我有一个表格布局。如果不是这样，我应该使用哪一个？哪一个比其他的更现代并且效果很好？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:54:21.877

永无止境页面只不过是分页，在这种分页中，您不会像普通分页那样在底部有链接，而是当滚动到达底部时，您的下一页将附加在当前页面的底部。

请参考[rails cast无穷][1]

[1]：[http](http://railscasts.com/episodes/114-endless-page?view=comments) ://railscasts.com/episodes/114-endless-page?view=comments 为了更好地理解。

我已经在 J​​query ajax 中创建了它，尽管在链接中它是使用 Javascript 完成的。

# oracle - 使用 oracle 的企业级数据库 - 规范化和复制

> ID：11446300
> 
> 赞同：0
> 
> 时间：2012-07-12T06:44:12.827
> 
> 标签：oracle, oracle11g, duplicates, normalization

我正在开发一个带有 Oracle 后端的企业应用程序。我现在正在设计数据库架构的核心部分，我对此有一些疑问。

1.  首先也是最重要的是，我的大多数表都需要保留旧数据。例如

考虑一个包含字段的表

合同编号、合同名称、合同人员、合同邮箱

我有类似的记录

12, xxx, yyy, xxx@zzz.ccc

有人将其修改为

12, xxx, zzz, xxx@zzz.ccc

在任何时候，我都需要显示新记录，同时仍然拥有旧记录的副本。

所以我想的是放置旧数据的重复记录并更新已更改的字段并有一个标志来跟踪活动记录，例如“活动”为 1。

缺点是这会在表中产生冗余，并且看起来是一个糟糕的设计。但是任何其他模型似乎都不必要地复杂，这对我来说似乎更干净。此外，我也没有看到任何具有重复记录的性能问题。所以请让我知道这是否可以，或者我在这里遗漏了什么。

1.  有时存在一对多关系，我的假设是有一个映射表，我通过在每个记录中重复主 ID 和更改子 ID 来映射单个记录中的多个实体。这是正确的方法还是有更好的方法。

2.  有没有关于数据库最佳实践的书。

谢谢。

我处理的数据库是两节点 RAC 集群上的 Oracle 11g

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T10:33:05.963

> 此外，我也没有看到任何具有重复记录的性能问题。

假设您有一行，随着时间的推移，它有 15 次更新。如果您不存储任何时间数据（如果您不存储该行的不同版本），那么您最终会存储一行。如果您确实存储时态数据，则最终会存储 15 行。

您还需要更多索引，因为 id 号不再足以识别单行。

如果您只有相对较小的表，您可能不会看到任何性能差异。（*会有*一个，但用户可能不会注意到它。）但是具有 1000 万行的表与具有 1.5 亿行的表的性能不同。（每行 15 个版本，乘以 1000 万行。）

> 有时存在一对多关系，我的假设是有一个映射表，我通过在每个记录中重复主 ID 和更改子 ID 来映射单个记录中的多个实体。这是正确的方法还是有更好的方法。

您可能需要知道哪些子行属于哪些父行。因此，您需要多个主 ID 作为密钥。单独的主 ID 不会告诉您父表中该行的哪个版本适用于给定的子行。

> 有没有关于数据库最佳实践的书。

有关于时间数据库的书籍。我知道的第一个是 Snodgrass 的[*Developing Time-Oriented Database Applications in SQL*](http://www.cs.arizona.edu/~rts/publications.html)。它有多种格式，而且是免费的。它也有点老了，但其中的信息对于了解您是否要构建时态数据库很重要。另外，考虑阅读 Date 的书*Temporal Data and the Relational Model*。

维基百科有一篇文章总结了时[态数据库背后的思想](http://en.wikipedia.org/wiki/Temporal_database)。

> 标准化是完全强制性的。

这是一个没有意义的问题。标准化为 2NF 的表格与标准化为 5NF 或 6NF 的表格会有不同的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T11:13:40.073

我会将旧/历史记录保存在单独的表中。创建一个 upd/del 触发器来为您填充您的审计/历史记录表，并在您的主表中只保留最新的数据。

有关示例，请参见[此处。](https://stackoverflow.com/questions/11261929/auditing-50-columns-using-oracle-trigger/11262125#11262125)SO中还有许多其他类似的例子。

# ruby - Ruby - 在 zip 文件中读取文本文件的最简单方法

> ID：11446306
> 
> 赞同：6
> 
> 时间：2012-07-12T06:44:32.683
> 
> 标签：ruby, zip

在 Ruby 中读取 zip 文件中的文本文件的最简单方法是什么？类似于 PHP 的东西`file_get_contents("zip://archive.zip#article.txt")`

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-12T07:08:20.047

```
require 'zip/zip'

Zip::ZipFile.new("archive.zip").read("article.txt") 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-12T06:53:34.970

尝试一下

```
require 'zip/zip'

Zip::ZipFile.open("my.zip", Zip::ZipFile::CREATE) {|zipfile|  puts zipfile.read("first.txt")} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T06:50:31.467

我认为这应该有效：

```
require 'zipruby'

Zip::Archive.open('archive.zip') do |ar|
   ar.fopen('article.txt') do |f|
      content = f.read
      # do sth
   end
end 
```

# android - 从另一个应用程序销毁 Activity 或应用程序本身

> ID：11446309
> 
> 赞同：1
> 
> 时间：2012-07-12T06:44:37.773
> 
> 标签：android

我有两个应用程序。一个是接收器，它启动了我的应用程序。它工作正常。现在我想从接收器本身销毁我的应用程序。那可能吗 ？请注意，这些是我自己的应用程序

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T06:56:49.807

这是可能的，但活动必须使用 - 方法自行完成`finish()`。

`registerReceiver(..)`您可以使用和处理活动中的逻辑向接收者注册活动。不要忘记`unregisterReceiver(...)`在 OnDestroy 内部。

例子：

```
BroadcastReceiver mReceiver;

@Overrride
public void onCreate(Bundle savedInstanceState){

  IntentFilter filter = new IntentFilter();
  filter.addAction(...);

  mReceiver= new BroadcastReceiver() {
    @Override
    public void onReceive(Context context, Intent intent) {
      // implement logic
      finish();
    }
  }
  registerReceiver(mReceiver, filter);

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T06:50:02.413

你不能直接控制一个活动从另一个活动的生命周期替代这可能是：

*   您可以在新活动中设置一个[计时器](http://developer.android.com/reference/java/util/Timer.html)，如果您想在一定时间后结束它，然后调用`finish()' in`run()`
*   您可以使用[EventListeners](http://developer.android.com/reference/java/util/EventListener.html)`finish()`对某些事件进行新活动

# .net - 如何从base64字符串中删除无效字符

> ID：11446312
> 
> 赞同：2
> 
> 时间：2012-07-12T06:45:03.257
> 
> 标签：.net, c#-4.0, serialization, base64, compression

我正在序列化 xml 并压缩到数据库中的 ToBase64String 存储为 nvarchar，而从“FromBase64String”加载解压缩字符串会引发错误

“输入不是有效的 Base-64 字符串，因为它包含非 base 64 字符、两个以上的填充字符或填充字符中的非空白字符。”

我提到了这个[如何检查有效的 Base64 编码字符串](https://stackoverflow.com/questions/6309379/how-to-check-for-a-valid-base-64-encoded-string-in-c-sharp)但对我不起作用？无论如何要从字符串中删除不需要的字符。

下面是序列化字符串的一部分

```
5gAAAB+LCAAAAAAABADsvQdgHEmWJSYvbcp7f0r1StfgdKEIgGATJNiQQBDswYjN5pLsHWlHIymrKoHKZVZlXWYWQMztnbz33nvvvffee++997 
```

# tridion - 限制用户插入相同的组件和模板

> ID：11446313
> 
> 赞同：-4
> 
> 时间：2012-07-12T06:45:03.843
> 
> 标签：tridion

在一个页面里面**插入组件弹出窗口**。当用户尝试选择组件和模板时，如何 **限制他们选择*组件列表中已经存在的组件和模板的相同组合。

我想在插入按钮上写一个 javascript。请建议我是否以正确的方式进行。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-12T11:02:07.537

正如巴特在上面所说，您的问题非常模糊，但这是一个答案尝试，因为我刚刚做了类似的事情。鉴于含糊不清，我假设您对 JS 代码有深入了解，而我在这里的内容对您来说很有意义:)

在您的 javascript 中，当您的用户单击列表中的给定 cp 时，您可能会将选定的组件表示存储在属性中，例如：

```
// keeps stock of the current selected component presentation
p.selectedComponentPresentation; 
```

简单地使用：

```
var componentPresentation = p.selectedComponentPresentation; 
```

并设置你可以看到我首先得到选项卡控件，存储组件presentationTab并从那里调用*getSelectedComponentPresentation()*：

```
var masterTabControl = $controls.getControl($("#MasterTabControl"), 
                                            "Tridion.Controls.TabControl");
p.compPresTab = masterTabControl.getPage("ComponentPresentationsTab");
p.selectedComponentPresentation 
                       = p.compPresTab.getSelectedComponentPresentation(); 
```

我再次希望这是有道理的，我也假设现在你会知道如何获取 pageId

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T12:41:12.150

如果您在 Component 弹出窗口中，您可以通过以下方式获取 Component 的 ID

```
$display.getItem().getId() 
```

这实际上适用于任何项目编辑弹出窗口（页面和其他项目类型也是如此）。

它在主仪表板视图中不起作用（因此您在左侧看到树，在右侧看到列表），因为您没有单个“当前项目”。

**您必须使用有关代码运行位置**的信息来更新您的问题，因为我现在还不清楚。据我所知，Web GUI 中没有地方同时拥有“当前组件”和“当前页面”。

# ruby - 寻找用 Ruby 编写的 XMPP 服务器库

> ID：11446314
> 
> 赞同：3
> 
> 时间：2012-07-12T06:45:03.983
> 
> 标签：ruby, xmpp

我正在构建一个用 Ruby 编写的基于 Web 的聊天应用程序。我想提供使用 XMPP 客户端连接到这个聊天服务器的能力。所以我正在寻找一个库，它可以处理一个真正的 XMPP 服务器，我可以将它与我现有的 Ruby 代码绑定（或者在两者之间使用类似 Redis 的东西）。但是，我很难找到服务器库（尽管我可以找到许多库来充当使用服务器或与服务器交互的客户端）。我一开始对 XMPP 也不是很有经验，所以我可能要求错了。你知道我可以使用的 XMPP 服务器库吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T18:18:48.323

XMPP 服务器库通常没有多大意义，因为 XMPP 服务器（例如 HTTP 服务器）作为单独的独立长期进程运行。您通常不会将它们嵌入到您的应用程序中。

XMPP 甚至比 HTTP 更进了一步——有*一些*HTTP 服务器库允许您在端口上侦听、等待请求并发送响应。XMPP 在这方面完全不同——XMPP 会话是长期存在的，需要持续关注。使用 XMPP 服务器库，您的应用程序将大部分时间都花在该库中 - 在这一点上，为什么它不如运行一个单独的进程好？

我知道这是一个诱人的想法，但是在开发了 XMPP 服务器并考虑了这一点（人们在你之前提出过要求）之后，我得出的结论是它没有什么意义（即使它在*技术上*是可行的）。

许多 XMPP 服务器允许自定义插件与其他系统集成，如果您需要，可以使用 Ruby 中的服务器（例如[Vines](http://www.getvines.org/)）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-12T06:56:06.963

试试[XMPP4R](https://github.com/ln/xmpp4r)

例如 - 连接和身份验证：

```
require "xmpp4r"

robot = Jabber::Client::new(Jabber::JID::new("sample@xmpp.ru"))
robot.connect
robot.auth("password") 
```

并发送消息：

```
message = Jabber::Message::new("recipient@xmpp.ru", "Hi there!")
message.set_type(:chat)

robot.send message 
```

但是这个库在 Windows 下有些不稳定，但在 Linux 下很好。

在 Ruby 下还有 XMPP 服务器实现使用 XMPP4R - [http://code.google.com/p/xmpp-rserve/](http://code.google.com/p/xmpp-rserve/)

**编辑**

也许这就是你想要的。看起来像一个适合服务器使用的库 - [https://github.com/sprsquish/blather](https://github.com/sprsquish/blather)

在 XMPP 官方页面上找到它 - [http://xmpp.org/xmpp-software/libraries/](http://xmpp.org/xmpp-software/libraries/)

# sql-server - 随时随地使用新的唯一标识符

> ID：11446315
> 
> 赞同：2
> 
> 时间：2012-07-12T06:45:03.887
> 
> 标签：sql-server, sql-server-2008-r2, primary-key, uniqueidentifier, alter

我想为一个表添加一个列，该列将成为 PRIMARY KEY 并且类型为 uniqueidentifier。我有这个，但我想知道是否有更快（更少代码行）的方式？

```
ALTER TABLE [table] ADD [id] [uniqueidentifier] 
    DEFAULT('00000000-0000-0000-0000-000000000000') NOT NULL
GO    
UPDATE [table] SET [id] = NEWID()
GO    
ALTER TABLE [table] ADD CONSTRAINT [PK_table_id] PRIMARY KEY CLUSTERED 
GO 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T06:55:28.993

如果您想继续命名您的约束（并且应该），我认为我们不能将其减少到 2 个语句以下：

```
create table T (
    Col1 varchar(10) not null
)
go
insert into T (Col1)
values ('abc'),('def')
go
ALTER TABLE T ADD [id] [uniqueidentifier] constraint DF_T_id DEFAULT(NEWID()) NOT NULL
GO
ALTER TABLE T ADD constraint PK_T PRIMARY KEY CLUSTERED (id)
go
drop table T 
```

请注意，我已经为默认约束添加了一个名称。此外，这可确保新行也具有`id`分配的值。正如我在评论中所说，通常最好避免列具有由`NEWID()`集群生成的值 - 这会导致大量碎片。如果您想避免这种情况，请考虑[`NEWSEQUENTIALID()`](http://msdn.microsoft.com/en-us/library/ms189786.aspx).

如果您不关心约束名称，则可以将其作为单个查询进行：

```
ALTER TABLE T ADD [id] [uniqueidentifier] DEFAULT(NEWID()) NOT NULL PRIMARY KEY CLUSTERED 
```

# asp.net - 编辑 更新 删除 成员资格

> ID：11446316
> 
> 赞同：0
> 
> 时间：2012-07-12T06:45:04.070
> 
> 标签：asp.net, sql, edit, membership

我正在为管理员创建页面以查看系统数据库中的所有用户。我正在使用网格视图来检索成员资格表中的所有用户。现在的问题是管理员如何编辑、删除和更新管理员所做的更改？当我们要配置选择语句时，有一个高级按钮，我们可以放置一些额外的语句。我的 SQL 中的成员表没有主键。我该如何解决这个问题？非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T06:50:45.703

看看本教程，它完全符合您的要求[http://www.codeproject.com/Articles/24085/Insert-Update-Delete-with-Gridview-simple-way](http://www.codeproject.com/Articles/24085/Insert-Update-Delete-with-Gridview-simple-way)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:28:53.367

Ashwin 建议的那个教程对我来说太复杂了。我要走的方向...

将用户名字段存储在 gridview 的 datakey 属性中。并使用网格视图的 RowDeleting 和 RowUpdating 事件...

```
protected void GridView1_RowDeleting(object sender, GridViewDeleteEventArgs e)
{
    e.Cancel = true; // cancel default action.

    // delete user myself.
    string user = e.Keys["username"].ToString(); // think that's the name of the field in database.
    Membership.DeleteUser(user);
}

protected void GridView1_RowUpdating(object sender, GridViewUpdateEventArgs e)
{
    e.Cancel = true; // cancel default action.

    // update user myself.

    var userToUpdate = new MembershipUser();

    // get new values with e.NewValues[] and fill out all properties of userToUpdate.

    Membership.UpdateUser(userToUpdate);
} 
```

在我看来，从成员对象调用方法似乎要容易得多，然后您不必弄乱 asp.net 生成的表，如果操作不正确可能会搞砸。

# c# - 用于替换不在标签中的空格的正则表达式

> ID：11446317
> 
> 赞同：1
> 
> 时间：2012-07-12T06:45:06.953
> 
> 标签：c#, regex

我有带有一些自定义标签的纯文本。例如：

```
I like C#. <code lang="C#">public static void main</code>
THis is good language. 
```

我需要将所有不在标签内的空格替换为`&nbsp;`

替换后的文本必须是：

```
I&nbsp;like&nbsp;C#.&nbsp;<code lang="C#">public static void main</code>
THis&nbsp;is&nbsp;good&nbsp;language. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:22:22.660

如果你有有效的 XML 元素与文本混合，你可以使用 XML 解析类，例如 XDocument，你可以这样做：

```
 string input = @"I like C#. <code lang=""C#"">public static void main</code>THis is good language.";
        string rootedInput = String.Format("<root>{0}</root>", input);

        XDocument doc = XDocument.Parse(rootedInput);
        var nodes = doc.Root.DescendantNodes();

        StringBuilder sb = new StringBuilder();
        string nodeAsString = String.Empty;
        foreach (XNode node in nodes)
        {
            if (node.NodeType == XmlNodeType.Text)
                nodeAsString = node.ToString().Replace(" ", "&nbsp;");
            else
                nodeAsString = node.ToString();

            sb.Append(nodeAsString);
        }

        string newStr = sb.ToString(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T09:43:57.320

如果标签不能包含其他标签，并且没有自闭合标签或其他奇怪的东西。这将起作用。

使用 perl 表示法

`s/ (?![^>]*\<\/)/&nbsp;/g`

这也假设文件格式正确，并且开始和结束标签在同一行（但您可以轻松地将其更改为多行正则表达式。）

以下是它的工作原理：

因为（如您所指出的）标签不能包含其他标签，所以在您不想替换的文本之后的某个时间点会有一个结束标签，所有结束标签都以`</`. 这将发生在下一个开始标记之前。另一方面，您确实要替换的文本将在下一个结束标记之前跟随一个开始标记。

所以这只是匹配一个空格，然后进行负前瞻，以确保下一次 a`</`出现在 a 之前`>`（或开始标签的结尾。如果这是真的，那么匹配不会发生并且空格是没有被替换。

**这仅在标签不能包含其他标签时才有效。**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T07:08:59.963

一个简单的想法！这有效：

```
String ConvertString(String inputString)
{
    var first = new List<string>();
    var second = new List<string>();

    foreach (Match match in Regex.Matches(inputString, "(?<inTag><code[^>]+>[^<]*</code[^>]+>)"))
    {
        first.Add(match.Groups["inTag"].Value);
    }

    inputString = inputString.Replace(" ", "&nbsp;");

    foreach (Match match in Regex.Matches(inputString, "(?<inTag><code[^>]+>[^<]*</code[^>]+>)"))
    {
        second.Add(match.Groups["inTag"].Value);
    }

    for (int i = 0; i < first.Count(); i++)
    {
        inputString = inputString.Replace(second[i], first[i]);
    }

    return inputString;
} 
```

# javascript - javascript 如果条件 && 条件不起作用

> ID：11446323
> 
> 赞同：4
> 
> 时间：2012-07-12T06:45:37.003
> 
> 标签：javascript, if-statement, operator-keyword

AND && 运算符不起作用，但是当我用 OR || 替换它时 运行正常，为什么？我刚刚使用了 OR || 用于测试的运算符，我需要的是 && 运算符。请帮忙。谢谢

```
function validate() {
    if ((document.form.option.value == 1) && (document.form.des.value == '')) {
        alert("Please complete the form!");
        return false
    } else return true;
} 
```

我也尝试过嵌套 if 但它也不起作用

```
 if(document.form.option.value==1)
    {
         if(document.form.des.value=='')
        {   
            alert ("Please complete the form!");
            return false

        }
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T06:47:12.557

听起来这`||`就是您要在这里寻找的东西。`&&`仅当 的左侧和右侧都为真时，该运算符才`&&`为真。`1`在这种情况下，如果值为或为空，您似乎想要显示消息。这正是`||`运营商的目的。如果左或右为真，则为真

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-12T06:48:51.460

如果 Or 运算符正在工作，则表示您的第二部分条件中有一些 javascript 错误。检查 document.form.des.value=='' （也许只是在 Chrome/Firefox/IE8+ 中打开您的 javascript 控制台）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T06:51:37.150

这是因为上面指定的条件之一返回 false 和循环中断。您是否使用 OR ，只有一个必须经过验证并返回 true .. 检查您的代码是否符合这两个条件。

# iphone - 如何分别创建 UITableView 和详细视图

> ID：11446324
> 
> 赞同：0
> 
> 时间：2012-07-12T06:45:47.923
> 
> 标签：iphone, ios, xcode, uitableview, ios5

我已经使用基于单一视图的应用程序创建了一个应用程序。现在我必须显示 15 个菜单和每个菜单的描述。所以我想在其中使用`UITableView`插入。选择一个单元格时，它应该显示长文本和图像内容。Do i必须`ViewController`为每个描述或任何快捷方式创建每个描述以编程方式添加描述这是我的表格视图代码

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

static NSString *CellIdentifier = @"Cell";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
}

// Set up the cell...
cell.textLabel.font = [UIFont fontWithName:@"Helvetica" size:15];
cell.textLabel.text = [NSString  stringWithFormat:@"Cell Row #%d", [indexPath row]];

return cell;
}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
// open a alert with an OK and cancel button
NSString *alertString = [NSString stringWithFormat:@"Clicked on row #%d", [indexPath row]];
UIAlertView *alert = [[UIAlertView alloc] initWithTitle:alertString message:@"" delegate:self cancelButtonTitle:@"Done" otherButtonTitles:nil];
[alert show];
[alert release];
} 
```

这是为了`UIAlertView`在触摸单元格时创建。

我该怎么做长文本和图像显示。任何想法请。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:28:03.257

我认为您可以使用导航控制器并在其上推送 tableView。在选择表格的一个单元格时，您应该推送一个 detailView（所有单元格的一个详细视图）。这仅在您必须在 detailView 中显示相同格式的详细信息数据时才有效。否则，如果您必须为每个选择设置不同的屏幕，那么您可以设计所有那些也会使其变得沉重的屏幕。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-12T07:29:18.433

您可以创建一个使用图像和文本初始化的 ViewController，在视图控制器内部您应该创建 UITextView 和 UIImageView。ViewController 必须是这样的：

```
@interface ViewController : UIViewController {
    UIImageView *imageView;
    UITextView *textView;
}

-(id)initWithText:(NSString *)text image:(UIImage *)image;

@end

@implementation ViewController

-(id)initWithText:(NSString *)text image:(UIImage *)image {
    if (self = [super init]) {
        //ImageView initialization
        imageView.image = image;
        //TextViewInitialization
        textView.text = text;
    }
    return self;
}

@end 
```

在表视图的视图控制器中，您可以创建 2 个数组，其中包含对应的图像和文本到单元格。然后 didSelectRowAtIndexPath: must 看起来像这样：

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
    ViewController *vc = [[ViewController alloc]initWithText:[textArray objectAtIndex:indexPath.row] image:[imagesArray objectAtIndex:indexPath.row]];
    [[self navigationController] pushViewController:vc animated:YES];
    [vc release];
} 
```

# python - 日期错误？仅在某些日期收到错误

> ID：11446328
> 
> 赞同：0
> 
> 时间：2012-07-12T06:45:53.450
> 
> 标签：python, datetime, strftime

以下代码获取日期参数的星期开始：

```
weekstart = datetime.datetime.strptime(sys.argv[1], '%m/%d/%Y')

if weekstart.strftime('%A') != 'Sunday':
    print "Start date should be a Sunday"
    while weekstart.strftime('%A') != 'Sunday':
        #weekstart = weekstart - datetime.timedelta(a)
        a=a+1
    print "Using %s as start date instead" %weekstart.strftime('%m/%d/%Y') 
```

仅当输入的日期为 2012 年 7 月 10 日、2012 年 7 月 11 日、2012 年 7 月 12 日或 2012 年 7 月 13 日时，我才会收到以下错误：

```
while weekstart.strftime('%A') != 'Sunday':

ValueError: year=1899 is before 1900; the datetime strftime() methods require year >= 1900 
```

这有什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:10:25.597

是的，这是您概念中的一个错误。你错误地增加`a`和减少`weekstart`了`a`。所以它不是一天一天过去，而是 1、2、3、4、……天。

*   `7/10/2012`是星期二。减去 1 天……</li>
*   `7/9/2012`是星期一。减去 2 天……</li>
*   `7/7/2012`是星期六。减去 3 天……</li>
*   `7/4/2012`是星期三。减去 4 天……</li>
*   `6/30/2012`是星期六。减去 5 天……</li>
*   `6/25/2012`是星期一。减去 6 天……</li>
*   `6/19/2012`是星期二。减去 7 天，即一周，循环越来越快，直到 1899 年中断。

这意味着如果你的第一天是星期二，那么它永远不会以这种方式到达星期日。

它适用于 2012 年 7 月 11 日（和任何星期三），它会在 2012 年 7 月 12 日（和任何星期四）休息，它会在 2012 年 7 月 13 日（和任何星期五）休息，它适用于 2012 年 7 月 14 日（和任何星期六）它适用于 2012 年 7 月 16 日（和任何星期一），当然它会在任何星期日立即停止。

但这不是你想要的。

如果您想在没有循环的任何一天获得上一个（或今天的）星期天，只需使用以下命令：

```
weekstart = weekstart - datetime.timedelta((weekstart.weekday() - 6) % 7) 
```

或者，如果您想避免使用数学并使用库（[dateutil](http://labix.org/python-dateutil/)）：

```
from dateutil import relativedelta

weekstart = weekstart + relativedelta.relativedelta(weekday=relativedelta.SU(-1)) 
```

# android - 带有 ksoap2 库的 Android ICS 4.0.4 中的 WIFI 连接

> ID：11446329
> 
> 赞同：2
> 
> 时间：2012-07-12T06:45:58.927
> 
> 标签：android, wifi, android-4.0-ice-cream-sandwich, ksoap2

我正在使用三星 S3 (ICS 4.0.4)。我在 WIFI 上遇到了 ksoap2 库的问题。

使用 WIFI 连接时，我的网络服务有时无法使用 ksoap2 库。

它抛出一个异常，

```
 java.net.SocketTimeoutException at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:130) 
```

我必须将 webService 与 ksoap2 一起使用。

* ***主要的一点是它可以完美地与 3G 连接，但不能在 WIFI 上**

谁能帮我 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-04T12:05:20.367

我建议尝试设置更高的超时值，如下所示：

```
HttpTransportSE androidHttpTransport = new HttpTransportSE(URL,60000); 
```

超时值是第二个参数。如果这是您的网络服务或其他问题，这至少应该可以帮助您识别。

# security - Kopal 连接中的安全问题

> ID：11446331
> 
> 赞同：2
> 
> 时间：2012-07-12T06:46:02.880
> 
> 标签：security, protocols

有一个名为[Kopal Connect](http://code.google.com/p/kopal/wiki/Kopal_Connect)的社交网络协议。这种方法有问题吗，朋友请求看起来像这样`http://alice.example.net/profile/?kopal.connect=true&kopal.subject=friendship-request&kopal.identity=http://bob.example.org/profile/`，据我所知，当您访问恶意网站时，可以使用嵌入图像或 iframe 请求您的姓名。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-31T16:59:34.020

基于[kopal 连接好友请求的示例文档](http://code.google.com/p/kopal/wiki/Kopal_Connect#Example)。我会说这个请求可能容易受到[Cross-Site Request Forgery 的](https://www.owasp.org/index.php/Cross-Site_Request_Forgery_%28CSRF%29)攻击。然而影响很小，它更多的是让用户烦恼，因为 Alice 仍然需要批准友谊请求。为了执行这个 CSRF 攻击，你仍然需要`friendship key`for Alice 并且在这个过程中自动化这个步骤可能很困难。

# ios - 在 Xcode 4 中删除团队

> ID：11446341
> 
> 赞同：8
> 
> 时间：2012-07-12T06:47:04.443
> 
> 标签：ios, xcode4

我想删除出现在 Xcode（设备部分）中的团队。

我删除了分配给该团队的项目，删除了分配给该团队的配置文件，并重新启动了 Xcode。

但是团队仍然在那里（设备部分）。

任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T20:24:25.430

确保您在 developer.apple.com 中的开发者身份已从团队中移除。

# php - 以表格形式显示内容

> ID：11446344
> 
> 赞同：-1
> 
> 时间：2012-07-12T06:47:15.243
> 
> 标签：php, mysql, html

我正在尝试创建一个 html 表格并以表格格式显示内容

说明：- 我有一个带有逗号（，）分隔值的内容，例如：a、b、c、d、e、f 我的行数为 ex：4 我的列数为 ex：5

这三个信息在获取数据时存储在 DB 中，它应该创建一个表，其中包含 DB 中指定的行数和列数，并且内容应该加载到表中，就像每个值（逗号分隔）应该在一个单元格中一样

到目前为止我尝试过的代码：

```
$resultSet = mysql_query("SELECT * FROM table1");
$result = mysql_fetch_array($resultSet);
$tableContent = $result[0];
$tableResult = explode(',',$tableContent);
foreach($tableResult as $tabRes) {
echo $tabRes."<br/>";
}
$rows = $result[1];
$cols = $result[2];
$table = "<table border=\"1\">";
for($i=1; $i<=$rows; $i++){
    $table .= "<tr>";
    for($j=1; $j<=$cols; $j++){
        foreach($tableResult as $tabRes) {
        $table .= "<td>$tabRes</td>";
        }
    }
    $table .= "</tr>";
}
$table .= "</table>";
echo $table; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T06:54:52.210

让你靠近`tr`第一个循环块。

写

```
 $table .= "</tr>";
  } 
```

代替

```
 }
    $table .= "</tr>"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T06:56:24.670

**编辑答案：**

```
$resultSet = mysql_query("SELECT * FROM table1");
$result = mysql_fetch_array($resultSet); 
$content = $result[0];
$rows = $result[1];
$columns =  $result[2];

$cellcontent = explode(',', $content);
$table = '<table border="1">'; 
for($i = 0; $i < $rows; $i++) {
    $table .= '<tr>'; 
    for($j = 0; $j < $columns; $j++) { 
        $table .= '<td>'.$cellcontent[$j].'</td>';
    }
    $table .= '</tr>'; 
}
$table .= '</table>'; 
echo $table; 
```

**编辑：**

为了更好地理解，我尝试在这里查看数据库（这是我从阅读您的问题中了解到的）：

```
|  Content    | rows | columns |
| a,b,c,d,e,f |   3  |    6    | 
```

那正确吗？还是有更多的条目？像这样：

```
|  Content    | rows | columns |
| a,b,c,d,e,f |   3  |    6    |
| g,h,i,j,k,l |   1  |    6    |
| m,n,o,p,q,r |   5  |    6    | 
```

还是内容更长，需要分成行和列（第一个内容单元格有 2 x 6 内容，所以第一行在第一行，第二行在第二行）？

```
|  Content    | rows | columns |
| a,b,c,d,e,f |   2  |    6    |
| g,h,i,j,k,l |      |         |
| ------------|------|---------|
| g,h,i,j,k,l |   1  |    6    |
| m,n,o,p,q,r |   5  |    6    | 
```

因为现在，我每次都重复同一行。

# c# - 部署网站时缺少 using 指令或程序集引用错误

> ID：11446348
> 
> 赞同：0
> 
> 时间：2012-07-12T06:47:41.590
> 
> 标签：c#, asp.net, visual-studio-2010, web-deployment

我有一个网站，其中 *.cs 文件位于 App_Code 文件夹中（在我的项目中添加一个类项时，VS2010 建议我创建这个文件夹）。我有一个使用此类的 default.aspx.cs 文件。当我在 VS2010 上运行时，它运行没有任何错误。

但是，当我通过私人托管公司将网站部署在网络服务器上时。它给了我这个错误：

```
Compilation Error

Description: An error occurred during the compilation of a resource required to service this request. Please review the following specific error details and modify your source code appropriately. 

Compiler Error Message: CS0246: The type or namespace name 'SMSAPP' could not be found (are you missing a using directive or an assembly reference?) 
```

它指向我实例化类对象的代码行：

```
Line 84:         SMSAPP obj = new SMSAPP(); 
```

从本地版本到托管版本到底出了什么问题？请帮忙。谢谢。

我学到的是：

好的，所以我还不能运行我的项目。但是我学到了一些我想分享的东西——Web 应用程序和网站是完全不同的东西。我的是一个网站，这就是为什么 *.cs 代码的属性没有“构建操作”=“编译”选项。我将我的项目从网站转换为 Web 应用程序，我可以在此处的答案中看到建议的选项。但是，部署没有运气。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T06:50:37.527

右键单击 .cs 文件并选择属性，然后检查是否`"Build action"`设置为“编译”

![构建动作](../Images/c7eec0737c11bf2f7ccba32b89ab76e7.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T06:52:25.310

检查您本地的 App_Code 文件夹，在那里您必须有一个 class `SMSAPP`。

您一定忘记上传此文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T06:54:37.727

在 App_Code 中检查 *.cs 文件的属性。他们应该`Build Action`有`Compile`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-03T15:23:00.840

如果您的 Web 应用程序配置为使用正确的 .NET 版本，请检查 IIS 管理器

# php - 如何在我的 JS 代码中添加新的动态内容？

> ID：11446350
> 
> 赞同：0
> 
> 时间：2012-07-12T06:47:50.977
> 
> 标签：php, javascript, jquery, html

我一直在开发一个简单的页面，但问题是——我的页面包含一个有 2 列的表格；如果用户将光标移动到第二列，它会在可编辑字段中转换，用户可以对其进行编辑并执行一些操作。该页面还包含分页链接；如果用户通过链接单击，例如“2”，则表使用 Ajax/Jquery 动态更改其内容。因此，我的代码适用于初始屏幕，但如果我更改页面，则无法编辑第二列中的任何字段，即编辑代码现在不起作用。所以，请告诉我，我该如何解决？JS代码：

```
<script type="text/javascript" charset="utf-8"> 

    function hide_info_block(block_id) {
        $('#info_block').hide();
    }

    $(function() 
    {          
        var old_value='No translate';
        var item_id='';
        var item;

        $('.field').hover(
        function() 
        {
            old_value=$(this).text();
            item_id=$(this).attr('id');
            item=$(this).parent('td');
            new_value=(old_value=='Not translated') ? '' : old_value;

            $(this).empty(); 
            var field="<div id='save_button' class='btn btn-primary' style='float: right' href='#'>Save</div><form>"+
                "<div style='overflow: hidden; padding-right: .5em;'>"+
                "<input id='new_value' type='textarea' name='term' style='width: 100%;' value='"+new_value+"'/></div></form>";
            $(this).html(field);
        },
        function() 
        {

            $(this).empty();
            $(this).html(old_value);
        });

        $('#save_button').live('click', function() {
            if ($.trim($('#new_value').val()).length==0)
            {
                alert ('The string is empty');
                return;
            }

            var loader="<td><img id='small_loader' style='position:absolute' src='/small_loader.gif' /></td>";
            item.after(loader);
            var old_val=old_value;
            var new_val=$.trim($('#new_value').val());

            $.post("http://"+document.location.host+"/index.php/welcome/update_record", { old_value: old_val, 
                value: new_val, id: item_id} ,
            function(data) {
                var message="Message";
                var json = jQuery.parseJSON(data);
                var item_id=json.id.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g, "\\$1");
                if (json.result=='LOGIN') {
                    message="You need to enter before making any actions";
                    $('#'+item_id).html(json.old_value);
                }
                else {
                    if (json.result=='OK') {
                        $('#'+item_id).css('color', '#000000');
                        message="Your correction has been added successfully";
                        $("#"+item_id).html(json.language_value);
                    }
                    else {
                        message="Your correction has been updated successfully";
                        $('#'+item_id).html(json.language_value);
                    }
                }
                $('#small_loader').remove();
                alert(message);
            });
        });

        $('.page_button').live('click',function() {

            $('#ajaxBusy').show();
            $('.selected_page_button').attr('class','page_button');
            $(this).attr('class','selected_page_button');
            $.post("http://"+document.location.host+"/index.php/welcome/update_records_set/"+this.id,
            function(data)
            {
                if (data != "") 
                {
                    $(".records_content:last").empty();
                    $(".records_content").html(data);           
                }
                $('#ajaxBusy').hide();
            });
        });
    });                 
</script> 
```

表代码：

```
 <div class="records_content">
                <table>
                    <tbody>
                        <?php
                            $i=0;
                            foreach ($records as $record) {
                                //echo "<tr class = 'output' style='border-bottom: 1px dotted silver;'>";
                                echo "<tr class = 'output' style='border-bottom: 1px dotted silver;'>";
                                echo "<td width='400'>" . strip_tags($record['translate']['language_value']) . "</td>";
                                if ($record['translate']['coalesce(loc.language_value)'])
                                {
                                    echo "<td width='200' height='30'><div class='field' id='".$record['translate']['label_value']."/".$record['language_id']."'>".
                                        strip_tags($record['translate']['coalesce(loc.language_value)'])."</div>";
                                    if (count($record['alternatives']))
                                    {
                                        echo "<br/><b>Alternatives:</b>";
                                        echo "<ul>";
                                        foreach ($record['alternatives'] as $alternative)
                                        {
                                            echo "<li>".strip_tags($alternative['coalesce(loc.language_value)'])."</li>";
                                        }
                                        echo "</ul>";
                                    }
                                }
                                else
                                {
                                    echo "<td  width='200'>"."<div class='field' style='font-style: italic; color: #FF0000' id='".$record['translate']['label_value']."/".$record['language_id']."'>Not translated</div>";
                                    if (count($record['alternatives']))
                                    {
                                        echo "<br/><b>Alternatives:</b>";
                                        echo "<ul>";
                                        foreach ($record['alternatives'] as $alternative)
                                        {
                                            echo "<li>".strip_tags($alternative['coalesce(loc.language_value)'])."</li>";
                                        }
                                        echo "</ul>";
                                    }
                                }
                                echo "</td>";
                                $i++;
                            }
                        ?>

                    </tbody>
                </table> 
                </div> 
```

**更新 2：**

```
 $('body').on({
        mouseenter: function(event) 
        {
            old_value=$(this).text();
            item_id=$(this).attr('id');
            item=$(this).parent('td');
            new_value=(old_value=='Not translated') ? '' : old_value;

            $(this).empty(); 
            var field="<div id='save_button' class='btn btn-primary' style='float: right' href='#'>Save</div><form>"+
                "<div style='overflow: hidden; padding-right: .5em;'>"+
                "<input id='new_value' type='textarea' name='term' style='width: 100%;' value='"+new_value+"'/></div></form>";
            $(this).html(field);
        },
        mouseleave: function(event) 
        {

            $(this).empty();
            $(this).html(old_value);
        }}, '.field'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:53:53.780

您只添加一次`hover`处理程序`.field`。当您`.field`通过 AJAX 加载它来更改它时，它会变成一个没有任何事件处理程序的不同元素。

加载`hover`新的`.field`.

# 或者

使用委托的事件处理程序。

```
$('body').on({
 mouseenter: function() {
   //code when mouse enters .field
 },
 mouseleave: function() {
   //code when mouse leaves .field
 }
}, '.field'); 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-07-12T06:52:29.493

尝试在 Google Chrome 中运行它并按 F12，这样您就可以使用 JavaScript 调试器了。使用 [Console] 选项卡查看是否发生任何错误。令人惊讶的是，您可以从中学到什么以及 JavaScript 在幕后所做的事情！

# python - python线程模块中的Event和Lock有什么区别？

> ID：11446352
> 
> 赞同：11
> 
> 时间：2012-07-12T06:48:03.117
> 
> 标签：python, blocking, python-multithreading

在这些场景中是否`Event`做同样的事情？`Lock`

```
class MyThread1(threading.Thread):
    def __init__(event):
        self.event = event

    def run(self):
        self.event.wait()
        # do something
        self.event.clear() 
```

其他：

```
class MyThread2(threading.Thread):
    def __init__(lock):
        self.lock = lock

    def run(self):
        self.lock.acquire()
        # do something
        self.lock.release() 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-12T07:59:54.323

如果你等待一个事件，执行就会停止，直到一个`event.set()`事件发生

```
event.wait()  # waits for event.set() 
```

仅当已获取锁时，获取锁才会停止

```
lock.acquire() # first time: returns true
lock.acquire() # second time: stalls until lock.release() 
```

这两个类都有不同的用例。[本文](http://www.laurentluce.com/posts/python-threads-synchronization-locks-rlocks-semaphores-conditions-events-and-queues/)将帮助您了解差异。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2018-07-16T04:47:15.460

实际上，我发现 Python 中的 Event 与 Lock 之间的区别是：

*   一个事件可以有很多服务员，当事件被设置或触发时，所有这些服务员都会被唤醒。
*   一个锁可以有多个等待者，当锁被释放时，只有一个等待者会被唤醒，从而获得锁。

仍然可能存在更多差异，但以上对我来说是最明显的。

# android - Toast 未显示在 catch 块中

> ID：11446353
> 
> 赞同：4
> 
> 时间：2012-07-12T06:48:26.803
> 
> 标签：android, toast

你好 ！当网络关闭或服务器没有响应时，我试图显示一条消息。我的消息在 LOG 中可见，但未显示在屏幕上（未烘烤）。我有一个可以正常工作的示例代码，但我的代码不是。

```
import android.view.View.OnKeyListener;

public class AgAppHelperMethods  extends Activity  {

    private static final String LOG_TAG = null;
    private static AgAppHelperMethods instance = null;
    public static String varMobileNo;
    public static String varPinNo;

    String[][] xmlRespone = null;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.agapphelpermethods);
    }

    protected AgAppHelperMethods() {}

    public static AgAppHelperMethods getInstance() 
    {
        if(instance == null) 
        {
            instance = new AgAppHelperMethods();
        }
        return instance;
    }

    public static String getUrl () 
    {
        String url = "https://demo.accessgroup.mobi/";
        return url;
    }

    public  String[][] AgAppXMLParser(String parUrl) 
    {       
        String _node,_element;
        String[][] xmlRespone = null;
        try {
            String url = AgAppHelperMethods.getUrl() + parUrl;
            URL finalUrl = new URL(url);

            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
            DocumentBuilder db = dbf.newDocumentBuilder();
            Document doc = db.parse(new InputSource(finalUrl.openStream()));
            doc.getDocumentElement().normalize();

            NodeList list=doc.getElementsByTagName("*");
            _node=new String();
            _element = new String();
            xmlRespone = new String[list.getLength()][2];

            for (int i=0;i<list.getLength();i++)
            {
                Node value=list.item(i).      getChildNodes().item(0);
                _node=list.item(i).getNodeName();
                _element=value.getNodeValue();
                xmlRespone[i][0] = _node;
                xmlRespone[i][1] = _element;
            }
        }
        catch (Exception e)
        {
            Toast.makeText(getApplicationContext(), "error  server not responding " + e.getMessage(),
                Toast.LENGTH_SHORT).show();
            Log.e(LOG_TAG, "CONNECTION ERROR  FUNDAMO SERVER NOT RESPONDING", e);
        }
    }
} 
```

如何在屏幕上显示我的 toast 消息？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T06:51:16.823

你不能那样做。你可以做这样的事情

```
boolean flag=true;//take globally

//working thread
.
.
.

  catch (Exception e)
  {
    flag=false;
    Log.e(LOG_TAG, "CONNECTION ERROR  FUNDAMO SERVER NOT RESPONDING", e);
  } 
```

一旦你的工作线程结束检查标志值并显示 Toast。

```
//Main Thread
 if(!flag)
 Toast.makeText(getApplicationContext(), "error  server not responding " + e.getMessage(),
                Toast.LENGTH_SHORT).show(); 
```

注意：如果您仍想在非 UI 线程中显示，则可以使用`Handler`或`runOnUiThread()`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:00:59.017

尝试这个

```
Toast.makeText(AgAppHelperMethods.this, "error  server not responding " + e.getMessage(),
                Toast.LENGTH_SHORT).show();
   Log.e(LOG_TAG, "CONNECTION ERROR  FUNDAMO SERVER NOT RESPONDING", e); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-24T14:31:01.330

I'm surprised this hasn't been answered yet. It appears to me all you need to do is run the Toast on the UI thread. Thus, in your catch block:

```
runOnUiThread(new Runnable(){
    Toast.makeText(...);
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T06:56:57.743

确保传递正确的上下文，例如：

```
Toast.makeText(MyActivity.this , "error  server not responding " + e.getMessage(),
                Toast.LENGTH_SHORT).show(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-06-28T11:37:42.753

如果有人仍然需要帮助，此方法对我有用：

```
 getActivity().runOnUiThread(Runnable { Toast.makeText(getApplicationContext(), "Error", Toast.LENGTH_LONG).show() }) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-07-21T13:18:09.937

在 oncreate 中全局声明并仅在 catch 块中显示。

```
 Toast toast;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity);

        toast = Toast.makeText(ActivityDeliverables.this, "Server is not working, please contact with admin.", Toast.LENGTH_LONG);
   }

          try{
             } catch (Exception e) {

                toast.show();
            } 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-07-12T07:04:43.970

检查这对我来说工作正常

```
@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_location_finder);

        show();             
    }

    public void show()
    {
         try
         {
            throw new ArrayIndexOutOfBoundsException() ;
         }

         catch(Exception e)
         {
            Toast.makeText(getApplicationContext(), "HI", Toast.LENGTH_LONG).show();
         }
    }
} 
```

# iphone - 在滚动视图内的 ImageView 中裁剪缩放图像

> ID：11446355
> 
> 赞同：8
> 
> 时间：2012-07-12T06:48:37.033
> 
> 标签：iphone, ios, crop

我已经在我身边做了很多努力。最后我需要帮助。谢谢

目标：1）我如何将 imageView 放入 ScrollView

2）我如何在滚动视图中裁剪放大的图像。

我在滚动视图中有一个 imageView。我想要缩放后的裁剪图像，它显示在滚动视图边界内。我已经裁剪了图像，但它与我想要的不完全相同。

在这里，我将 backgroundColor Black 设置为我的滚动视图。当我将 imageView 放入其中时，它不合适。![在此处输入图像描述](../Images/987ee67d30e92df3eb0b425bf846d417.png)

在滚动视图内缩放图像后

![在此处输入图像描述](../Images/1e3533e511cef775655fdab013e5e96b.png)

裁剪图像后

![在此处输入图像描述](../Images/cc22132de83b3d8701293acbb0a0e347.png)

我的代码在这里：

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    CGRect frame1 = CGRectMake(50,50,200,200);

    CGRect frame2 = CGRectMake(50,50,200,200);

    imageView1=[[UIImageView alloc]initWithFrame:frame1];

   imageView1.image= [UIImage imageNamed:@"back.jpeg"];

   imageView1.backgroundColor=[UIColor brownColor];

   imageView1.contentMode = UIViewContentModeScaleAspectFit;

   scroll=[[UIScrollView alloc]initWithFrame:frame2];

   scroll.backgroundColor=[UIColor blackColor];

  [scroll addSubview:imageView1];

  scroll.delegate=self;

 [self.view addSubview:scroll];

 [self setContentSizeForScrollView];

 self.imageView1.userInteractionEnabled = YES;

} 
```

设置滚动视图 contentSize

```
-(void)setContentSizeForScrollView
{
 // scroll.contentSize = CGSizeMake(imageView1.frame.size.width,imageView1.frame.size.height);

    scroll.contentSize = CGSizeMake(200, 200);
   scroll.minimumZoomScale = .50;
  scroll.maximumZoomScale = 1.5;
} 
```

我的作物逻辑是

```
-(IBAction)cropButtonClicked
{
    //Calculate the required area from the scrollview

CGRect rect = CGRectMake(50, 50, 200,200);

UIImage *image = [self imageByCropping:imageView1.image toRect:rect];

imageView1.image=image;

imageView1.contentMode = UIViewContentModeScaleAspectFit;

 } 
```

这种方法裁剪图像：

```
- (UIImage*)imageByCropping:(UIImage *)myImage toRect:(CGRect)cropToArea{
    CGImageRef cropImageRef = CGImageCreateWithImageInRect(myImage.CGImage, cropToArea);
    UIImage* cropped = [UIImage imageWithCGImage:cropImageRef];

    CGImageRelease(cropImageRef);
    return cropped;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T12:04:46.100

**我自己的问题的答案：**经过多次努力，我找到了两个问题的答案。

它对我有用。我在这里分享，可能对某人有帮助。:)

1) 适合滚动视图内的图像视图。我使用这个[链接](http://www.raywenderlich.com/10518/how-to-use-uiscrollview-to-scroll-and-zoom-content)

```
- (void)centerScrollViewContents {

CGSize boundsSize = scroll.bounds.size;
CGRect contentsFrame = self.imageView1.frame;

if (contentsFrame.size.width < boundsSize.width) {
contentsFrame.origin.x = (boundsSize.width - contentsFrame.size.width) / 2.0f;
} 
else {
contentsFrame.origin.x = 0.0f;
}

if (contentsFrame.size.height < boundsSize.height) {
    contentsFrame.origin.y = (boundsSize.height - contentsFrame.size.height) / 2.0f;
} 
else {
contentsFrame.origin.y = 0.0f;
}

self.imageView1.frame = contentsFrame;
} 
```

2）在滚动视图中裁剪放大的图像。我使用这个[链接](http://aasims.wordpress.com/tag/uigraphicsgetimagefromcurrentimagecontext/)

```
 UIGraphicsBeginImageContext(CGSizeMake(200, 200));

    [scroll.layer renderInContext:UIGraphicsGetCurrentContext()];

    UIImage *fullScreenshot = UIGraphicsGetImageFromCurrentImageContext();

    UIGraphicsEndImageContext();

    imageView1.contentMode = UIViewContentModeScaleAspectFill;

    UIImageWriteToSavedPhotosAlbum(fullScreenshot, nil, nil, nil);

    return fullScreenshot; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-10-22T03:49:54.053

我最近遇到了类似的问题，我使用相对思想（ Xa,b = Xa,c - Xb,c ）得到了解决方案

```
-(IBAction)crop:(id)sender{

        // F = frame
        // i = image
        // iv = imageview
        // sv = self.view
        // of = offset

        //Frame Image in imageView coordinates
        CGRect Fi_iv = [self frameForImage:self.image inImageViewAspectFit:self.imageView];

        //Frame ImageView in self.view coordinates
        CGRect Fiv_sv = self.imageView.frame;

        //Frame Image in self.view coordinates
        CGRect Fi_sv = CGRectMake(Fi_iv.origin.x + Fiv_sv.origin.x
                                  ,Fi_iv.origin.y + Fiv_sv.origin.y,
                                  Fi_iv.size.width, Fi_iv.size.height);
        //ScrollView offset
        CGPoint offset = self.scrollView.contentOffset;

        //Frame Image in offset coordinates
        CGRect Fi_of = CGRectMake(Fi_sv.origin.x - offset.x,
                                        Fi_sv.origin.y - offset.y,
                                        Fi_sv.size.width,
                                        Fi_sv.size.height);

        CGFloat scale = self.imageView.image.size.width/Fi_of.size.width;

        //the crop frame in image offset coordinates
        CGRect Fcrop_iof = CGRectMake((self.cropView.frame.origin.x - Fi_of.origin.x)*scale,
                                      (self.cropView.frame.origin.y - Fi_of.origin.y)*scale,
                                      self.cropView.frame.size.width*scale,
                                      self.cropView.frame.size.height*scale);

        UIImage *image = [self image:self.imageView.image cropRect:Fcrop_iof];
        // Use this crop image... 
```

您可以使用以下方法裁剪图像：

```
//Use this code to crop when you have the right frame
-(UIImage*)image:(UIImage *)image cropRect:(CGRect)frame
{
    // Create a new UIImage
    CGImageRef imageRef = CGImageCreateWithImageInRect(image.CGImage, frame);
    UIImage *croppedImage = [UIImage imageWithCGImage:imageRef];
    CGImageRelease(imageRef);

    return croppedImage;
} 
```

由于您在 Aspect Fit 中使用 ImageView，因此您需要计算 imageView 内的图像帧

```
-(CGRect)frameForImage:(UIImage*)image inImageViewAspectFit:(UIImageView*)imageView
{
    float imageRatio = image.size.width / image.size.height;

    float viewRatio = imageView.frame.size.width / imageView.frame.size.height;

    if(imageRatio < viewRatio)
    {
        float scale = imageView.frame.size.height / image.size.height;

        float width = scale * image.size.width;

        float topLeftX = (imageView.frame.size.width - width) * 0.5;

        return CGRectMake(topLeftX, 0, width, imageView.frame.size.height);
    }
    else
    {
        float scale = imageView.frame.size.width / image.size.width;

        float height = scale * image.size.height;

        float topLeftY = (imageView.frame.size.height - height) * 0.5;

        return CGRectMake(0, topLeftY, imageView.frame.size.width, height);
    }
} 
```

我希望这段代码对你有用，因为它对我有用。

最好的，

拉斐尔。

# android - 在android中以编程方式使用纵向和横向模式

> ID：11446360
> 
> 赞同：4
> 
> 时间：2012-07-12T06:48:45.667
> 
> 标签：android, android-layout

我想为纵向和横向模式（在 java 中）创建布局，并在 java 文件中以编程方式更改方向。有谁能够帮助我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T06:55:49.567

`setRequestOrientation()`您可以使用Activity 类的方法以编程方式强制改变方向。

```
 public class Example extends Activity 
  {
  @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    //---change to landscape mode---
    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);
   }
 } 
```

要更改为纵向模式，请使用`ActivityInfo.SCREEN_ORIENTATION_PORTRAIT`常量：

有关更多信息，请参阅[此](http://developer.android.com/reference/android/content/pm/ActivityInfo.html)。

**编辑**

`Activity`您可以像这样为您的特定添加方向`AndroidManifest.xml`：

```
 <activity android:name=".DemoActivity"
  android:label="@string/app_name"
  android:screenOrientation="portrait"> 
```

就布局而言，最好在`res/`. 例如，您可以`res/layout-port`为纵向和`res/layout-land`横向创建。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-10T13:12:33.807

试试这个：

```
if(context.getResources().getConfiguration().orientation == Configuration.ORIENTATION_LANDSCAPE) 
    {
        // code to do for Landscape Mode     
    } else {

        // code to do for Portrait Mode  
    } 
```

# spring - spring批量读写执行时间

> ID：11446366
> 
> 赞同：2
> 
> 时间：2012-07-12T06:49:05.253
> 
> 标签：spring, spring-batch

我正在寻找测量 Spring Batch 读取、处理和写入操作执行时间的最佳方法。在[元数据](http://static.springsource.org/spring-batch/2.0.x/reference/html/metaDataSchema.html)中，有关于整个步骤的信息，但没有关于每个动作的信息。

我正在考虑[听众](http://static.springsource.org/spring-batch/2.0.x/reference/html/configureStep.html#interceptingStepExecution)，但这是正确的解决方案吗？

感谢您的所有回答！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T16:32:29.470

[ItemReadListener](http://static.springsource.org/spring-batch/apidocs/org/springframework/batch/core/ItemReadListener.html)、[ItemProcessListener](http://static.springsource.org/spring-batch/apidocs/org/springframework/batch/core/ItemProcessListener.html)和[ItemWriteListener](http://static.springsource.org/spring-batch/apidocs/org/springframework/batch/core/ItemWriteListener.html)接口的 beforeXXX 和 afterXXX 方法是衡量步内性能的正确方法。

只需在 beforeXXX() 初始化计时器并在 afterXXX() 方法输出结果。

# java - BorderLayout 和 LayoutRegion 上的 PagingToolBar 显示错误

> ID：11446367
> 
> 赞同：1
> 
> 时间：2012-07-12T06:49:09.633
> 
> 标签：java, gwt, extjs, gxt

我正在使用 gxt，我发现了以下问题。在我添加 PagingToolBar（作为 bottonComponent）的 ContentPanel 中，我遇到了显示问题：显示了 PagingToolBar 的栏，但所有图标都出现在右侧，分组在可显示的菜单中。就像所有的 pagingToolabr 都向右移动一样。仅当 ContentPanel 位于具有 BorderLayout 和 LayoutRegion.Center 或 West 等的 LayoutContainer 内时，才会发生这种情况。

有人遇到过这个问题吗？有什么解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T14:33:24.750

通过以下内容找到了我正在寻找的东西。

```
toolBar.setEnableOverflow(false); 
```

# facebook - 在 Facebook 的 Like Button Popup 中访问 dom

> ID：11446368
> 
> 赞同：0
> 
> 时间：2012-07-12T06:49:27.693
> 
> 标签：facebook, dom, iframe, undefined

我有一个从 ajax 加载到我的页面的类似按钮。当用户单击它时，会出现一个弹出窗口，其中包含用户可以填写的文本框和我的网站的描述。我想访问该弹出窗口的 dom，它位于 iframe 中。
这样我就可以在文本框中添加文本。

以下所有操作都在 Firebug 的控制台中完成。
我通过以下方式访问 iframe：

```
var x = document.getElementsByTagName("iframe")[3] // the '3' selects this specific iframe 
```

然后，我试试这个...

```
x.documentWindow 
```

我得到

```
undefined 
```

现在这可能与它有关，但 Firebug 的 DOM 窗口不会显示在 iframe 内。它只是显示了这一点：

```
<iframe id="f3fb49f36c" name="f1b13ffab" scrolling="no" style="border: none; overflow: hidden; height: 225px; width: 401px; " class="fb_ltr" src="http://www.facebook.com/plugins/comment_widget_shell.php?locale=en_US&master_frame_name=f39fb5fa34&offsetX=0&sdk=joey"/> 
```

但是，在 Chrome 的开发者工具下的元素选项卡中，我可以看到其中的所有内容。

感谢您提供的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:16:55.363

看看[https://en.wikipedia.org/wiki/Same-origin_policy](https://en.wikipedia.org/wiki/Same-origin_policy)。

这是不可能的。

# wordpress - 滑动手势和 Wordpress 模板

> ID：11446370
> 
> 赞同：0
> 
> 时间：2012-07-12T06:49:41.530
> 
> 标签：wordpress, wordpress-theming, swipe, swipe-gesture

我正在寻找在 Wordpress 中做一个移动网络应用程序。我需要模板在最顶部有一个薄的（~3/4 英寸）水平矩形部分，可以向左/向右滑动以用作导航。基本上，每次您向右/向左滑动此部分时，它都会更改其下方的页面。我已经看到了整个页面滑动但没有拆分的模板，就像我在这里描述的那样。如果有人对我如何自定义这样的模板有任何指示，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-14T07:42:27.630

试试[这个插件](https://github.com/pommiegranit/gestures/archive/master.zip)。它们支持向左、向右、向上、向下和双击。您可以指定希望 wordpress 注册手势的区域，例如在您的情况下，它将是您希望用户刷入的 Div 的 ID。如果您遇到任何困难，请告诉我。

# cucumber - Cucumber：支持文件中定义的实例变量未传递给步骤定义

> ID：11446373
> 
> 赞同：1
> 
> 时间：2012-07-12T06:49:53.333
> 
> 标签：cucumber

我在功能/支持中有一个文件 api_extensions.rb：

```
require 'rubygems'
require 'mechanize'
require 'json'

module ApiExtensions

    def initialize
        @agent = Mechanize.new
        @api_header = {'Accept' => 'application/json', 'Content-Type' => 'application/json'}
        @api_uris = {
            'the list of campuses' => 'http://example.com/servicehosts/campus.svc',
            'the list of settings' => 'http://example.com/servicehosts/setting.svc',
            'login' => 'http://example.com/servicehosts/Student.svc/login',
        }    
    end
end

World(ApiExtensions) 
```

`undefined method '[]' for nil:NilClass (NoMethodError)`但是，当我运行 cucumber 时，我仍然在步骤定义文件的第二行收到错误：

```
When /^I attempt to log in using a valid username and password$/ do 
    api_uri = @api_uris['login']
    request_body = {:username => "test1@test.com", :password => "testsecret"}.to_json
    @page = @agent.post(api_uri, request_body, @api_header)
end 
```

为什么`@api_uris`即使在我将其模块添加到 World 之后，实例变量也没有显示？此外，我已经通过向该文件添加一些工具来测试该模块正在执行，因此`@api_uris`正在设置，它只是不适用于我的步骤定义。

最后，如果我明确地`include ApiExtensions`作为我的步骤定义文件的第一行，它工作正常。但我认为调用`World(ApiExtensions)`应该自动将我的模块包含在所有步骤定义文件中。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-14T03:13:16.057

**问题：**我的理解是`World(ApiExtensions)`扩展世界对象（参见[https://github.com/cucumber/cucumber/wiki/A-Whole-New-World](https://github.com/cucumber/cucumber/wiki/A-Whole-New-World)）。此扩展将使 ApiExtensions 方法（即您的 initialize()）现在可用于您的步骤。在实例变量被创建并可供所有步骤使用之前，您仍然需要实际调用 initialize 方法。如果您添加`initialize`到步骤的开头，您的步骤应该可以工作。

**解决方案：** 如果你想在扩展 World 时初始化这些实例变量，你应该将你的模块更改为：

```
module ApiExtensions
    def self.extended(obj)
        obj.instance_exec{
            @agent = Mechanize.new
            @api_header = {'Accept' => 'application/json', 'Content-Type' => 'application/json'}
            @api_uris = {
                'the list of campuses' => 'http://example.com/servicehosts/campus.svc',
                'the list of settings' => 'http://example.com/servicehosts/setting.svc',
                'login' => 'http://example.com/servicehosts/Student.svc/login',
            }  
        }
    end
end 
```

当世界对象与您的模块一起扩展时，该`self.extended(obj)`方法将立即运行并初始化所有变量，使它们可用于您的所有步骤。

# git - 我可以在 git-svn 中使用交互式代理身份验证吗？

> ID：11446376
> 
> 赞同：5
> 
> 时间：2012-07-12T06:50:08.857
> 
> 标签：git, svn, proxy, git-svn, ntlm

我在身份验证代理后面，需要使用`git svn`.

代理在我的`~/.subversion/servers`文件中定义。

当我开始时`git svn fetch`，我收到一条错误消息：

> RA 层请求失败：' [http://url/to/repos/branches/experimental](http://url/to/repos/branches/experimental) '的选项

行。[没问题。](https://stackoverflow.com/a/5430368/520162)让我们把凭证写下来`~/.subversion/servers`→ 一切正常。

但是，将域凭据存储在硬盘上的纯文本文件中，我有点不舒服*。*

通过 https使用时，是否有其他方法（**尤其是交互式方法**）在我的代理上进行身份验证？`git svn`

**信息：**应该完成此操作的 PC 位于 Windows 域中，并且使用 NTLM 完成身份验证。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-16T10:43:21.637

您可以`~/.subversion/servers`通过确保您是唯一可以访问文件的人（和 root）来保护文件。

```
% chmod 600 ~/.subversion/servers

```

另一种方法是使用 http_proxy 环境变量。但是您不能在密码中使用 @ （和其他一些 shell 特殊字符）。

```
% 导出 http_proxy=http://user:pass@proxy:port

```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-23T07:32:54.943

如果我没记错的话，ntlmaps 也可以在您加入域时拉出登录表单窗口本身，值得一试

无论如何，如果这项工作很麻烦，您可以让 ntlmaps 在开始时要求输入密码

[Ntmlaps 网站](http://ntlmaps.sourceforge.net/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-14T21:37:32.887

[http://wiki.apache.org/subversion/EncryptedPasswordStorage](http://wiki.apache.org/subversion/EncryptedPasswordStorage)提到了 mac、pc、linux 上密码文件存储的替代方案

# indexing - SQLAlchemy根据继承的表键在mixin中添加索引？

> ID：11446382
> 
> 赞同：0
> 
> 时间：2012-07-12T06:50:26.437
> 
> 标签：indexing, sqlalchemy, mixins

在 SQLAlchemy 中，我想定义一个在继承表中自动创建索引的 mixin。

假设继承表有一个名为“keys”的成员列表，我希望 mixin 在继承表中创建一个对键中列出的列的单个多列索引。但是，在创建表之前，mixin 不知道键是什么！

我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T13:12:51.547

例子：

```
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.ext.declarative import declared_attr
from sqlalchemy import MetaData, Column, Index, Integer

metadata = MetaData()
Base = declarative_base(metadata=metadata)

class MyMixin(object):

    @declared_attr
    def __table_args__(cls):
        return (Index('test_idx_%s' % cls.__tablename__, *cls.INDEX),)

class MyModel(MyMixin, Base):
    __tablename__ = 'atable'
    INDEX = ('a', 'b',)
    id = Column(Integer, primary_key=True)
    a = Column(Integer)
    b = Column(Integer)
    c = Column(Integer)

if __name__ == '__main__':
    from sqlalchemy import create_engine
    engine = create_engine('sqlite:///', echo=True)
    metadata.bind = engine
    metadata.create_all() 
```

文档：[组合来自多个 Mixin 的表/映射器参数](http://docs.sqlalchemy.org/en/rel_0_7/orm/extensions/declarative.html#combining-table-mapper-arguments-from-multiple-mixins)

# c++ - c ++在将变量传递给函数时声明变量

> ID：11446386
> 
> 赞同：3
> 
> 时间：2012-07-12T06:50:38.397
> 
> 标签：c++, class, variables

我来自 c# 的世界，正在做这样的事情是允许的。当我在 c++ 中尝试它时，我没有得到任何编译器错误，但我不相信它确实有效。

因此，对于更有经验的人，您是否可以这样做：

```
Entity->SetPosition(Vector2(200, 400)); 
```

因为在 Vector2 中是一个类，设置位置的参数需要一个向量？这是允许的还是我需要像这样预初始化变量：

```
Vector2 aVector(200, 400);
Entity->SetPosition(aVector); 
```

谢谢大卫

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-12T06:53:33.827

```
Entity->SetPosition(Vector2(200, 400)); 
```

如果您定义为以下之一，则很好*（并且更可取） ：*`SetPosition`

```
void SetPosition(Vector2 const & v); //Okay : const reference
void SetPosition(Vector2  v);        //okay : value 
```

也就是说，`SetPosition`接受参数作为`const` *参考*，或者简单地作为*值*。

这虽然行不​​通：

```
void SetPosition(Vector2 & v);  //not okay : non-const reference 
```

--

在 C++11 中，您可以只写这个*（前提是您已经实现`Vector2`了[启用此行为](http://ideone.com/tbQZF)）*：

```
Entity->SetPosition({200, 400}); 
```

感谢@Simon 指出这一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T06:54:25.687

一般来说，是的，这很好。通常，C++ 中的 Set 样式 API 将采用一个值或 a`const &`来设置正在设置的值。在这两种情况下，都可以使用内联表达式。

```
class Entity { 
public:
  void SetPosition(const Vector2& value) { ... }
  void SetPosition(Vector2 value) { ... } 
}; 
```

`SetPosition`尽管在仅作为参考的情况下，这是不合法的

```
void SetPosition(Vector2& value) { ... } 
```

虽然这不是二传手的常用习语

# html - 创建新的 CSS 类名和 ID 名，确保没有中断

> ID：11446395
> 
> 赞同：0
> 
> 时间：2012-07-12T06:51:11.677
> 
> 标签：html, css, naming-conventions

我正在处理一些大型网络项目，并且正在使用许多 HTML ID 和类名。

当我在其中一个大型项目中创建新的东西时，命名新的 ID 和类可能会令人沮丧，因为我总是以类似的结尾`#subprojectname_title`，`.subprojectname_editor`以确保我不会覆盖以前为“父”项目，并确保我不继承以前编写的样式。

每当我为那个子项目创建一个新的类或 id 时，我总是必须写`subprojectname`，这很烦人。

我正在寻找有关如何使我的选择器更短的建议，而不必重置样式以确保我不会从以前的选择器继承，并且不会弄乱以前编写的样式（覆盖它们，更改它们的名称）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T06:56:01.823

我在我的项目中有一个简单的解决方案。

我对全局有效样式使用“唯一”名称，对本地范围使用“通用”名称。

即我的site.css 使用诸如“defaultList”或“defaultWhiteButton”之类的名称，而我的pageX.css 使用“list”和“button”。

我从不将 ID 用于我的选择器，因为 ID 用于（在我的目的中）所有编程行为而不是装饰。

我只在我的 CSS 中使用类。

我希望这有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:10:00.510

而不是 .subproject_thingie1 和 .subproject_thingie2 我通常去添加一个根类或 id 来区分项目/页面。

这样，您可以在相同类名的所有页面上维护全局样式，同时能够为特定页面添加特定规则。

但与往常一样，最好的解决方案取决于现有项目的编写情况。

# javascript - 自动滚动在 Ext JS 的视口中不起作用

> ID：11446405
> 
> 赞同：0
> 
> 时间：2012-07-12T06:51:42.437
> 
> 标签：javascript, extjs, extjs3

我必须允许在视口项目中滚动。我尝试了下面的代码。但它不起作用。

```
 var viewport = new Ext.Viewport({
               layout   :'column',
               applyTo  : 'divPanel',
                items   : [{
                    title: 'title',
                    collapsible: true,
                    autoScoll: true,
                    columnWidth: .57,
                    items: [grid],
                    width: 300
                },{
                    columnWidth: .01,
                },{
                    columnWidth: .42,
                    autoScoll: true,
                    collapsible: true,
                    items:[Panel],
                    width: 250
                }]
         }); 
```

任何帮助都必须感谢..thankz

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T23:42:12.843

为了进行滚动，您必须在 ViewPort 内的组件上定义一个高度。

# android - 如何在 TextView 中显示公式

> ID：11446406
> 
> 赞同：0
> 
> 时间：2012-07-12T06:51:48.840
> 
> 标签：android, textview

![如何在 TextView 中显示这样的字符串](../Images/aa0592e7ee12cb6cb273a5f4095a1f10.png)

如何在`TextView`.

我尝试了很多但找不到解决方案。我无法显示基值`CHA2DS2-VASc`。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-12T06:53:35.887

我建议您为此公式创建 HTML 字符串，并使用以下方法在 TextView 中显示它：

```
String formulaString = "<body>CHA<sub>2</sub>DS<sub>2</sub>-VAS<sub>c</sub></body>";
textView.setText(Html.fromHtml(formulaString)); 
```

# api - 电池 API 在 chrome 弹出窗口上不起作用

> ID：11446407
> 
> 赞同：0
> 
> 时间：2012-07-12T06:51:57.623
> 
> 标签：api, google-chrome, battery

有没有办法在 chrome 弹出窗口中获取 Battery 对象

我正在使用此代码创建弹出窗口

```
chrome.windows.create({'url': 'mypop.html', 'type': 'popup'}, function(window) {
  }); 
```

但使用此代码返回电池对象时遇到问题

```
var battery = navigator.webkitBattery; 
```

当我在 mypop.html 页面上调用 javascript 文件时。

弹出页面上不允许电池对象是 chrome 安全问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T10:07:05.527

看起来它已从 Chrome 中删除，因为`navigator.webkitBattery`未定义

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-02T07:04:29.650

Chrome 开发者倡导者已在此处回复了 SO。签出这个线程。

[navigator.webkitBattery 在 Google chrome 中不起作用](https://stackoverflow.com/questions/17522527/navigator-webkitbattery-not-working-in-google-chrome)

# signalr - SignalR - 如何从不同程序集中的类调用客户端方法？

> ID：11446413
> 
> 赞同：2
> 
> 时间：2012-07-12T06:52:30.813
> 
> 标签：signalr

有谁能帮我理解

如何使用 SignalR 从服务器方法调用客户端方法 服务器类驻留在不同程序集中的 CustomEvent 处理程序中。

我尝试了 3 种不同的方法来调用该方法：

我将我的中心命名为 [HubName("notificationhub")]

方法1

```
Clients.addMessage(message); 
```

这给出了“无法对空引用执行运行时绑定”

方法二

```
IHubContext context1 = GlobalHost.ConnectionManager.GetHubContext("notificationhub");
context1.Clients.addMessage('hello'); 
```

客户保持沉默。

方法3

```
var hubConnection = new HubConnection("http://localhost:21120/");
var notification= hubConnection.CreateProxy("notificationhub");
hubConnection.Start().Wait();
notification.Invoke("Send", "Hello").Wait(); 
```

此方法给出错误：{“远程服务器返回错误：（500）内部服务器错误。”}令我惊讶的是，我能够使用第三种方法从控制台应用程序调用此方法。

实现这一点的最佳解决方案是什么，我无法调用客户端方法的原因是什么？谁能帮我这个？

问候文斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T16:10:34.967

这就是我的做法，有点hack，但它有效。它仅在从控制器调用集线器时有效，否则将不起作用。使用 UpdateHubFromController 方法。

```
public class UpdateFeedActivity : Hub
{
    readonly IHubContext _hubContext ;

    public UpdateFeedActivity()
    {
        _hubContext = _hubContext ?? GlobalHost.ConnectionManager.GetHubContext<UpdateFeedActivity>();
    }

    public void UpdateFeed(string groupname, string itemId, Enums.FeedActivityTypes activityType,
                                                                               string userId="",
                                                                               string actionResult1="", 
                                                                               string actionResult2="", 
                                                                               string actionResult3="")
    {
       Clients.Group(groupname).updateMessages(new FeedHubResponse
                                              {
                                                  ItemId = itemId,
                                                  ActivityType = activityType.ToString(),
                                                  UserId = userId,
                                                  ActionResult1 = actionResult1,
                                                  ActionResult2 = actionResult2,
                                                  ActionResult3 = actionResult3
                                              });
    }

    public void UpdateFeedFromController(string groupname, string itemId, Enums.FeedActivityTypes activityType,
                                                                               string userId = "",
                                                                               string actionResult1 = "",
                                                                               string actionResult2 = "",
                                                                               string actionResult3 = "")
    {
        _hubContext.Clients.Group(groupname).updateMessages(new FeedHubResponse
        {
            ItemId = itemId,
            ActivityType = activityType.ToString(),
            UserId = userId,
            ActionResult1 = actionResult1,
            ActionResult2 = actionResult2,
            ActionResult3 = actionResult3
        });
    }

    public void Join(string groupname)
    {
        Groups.Add(Context.ConnectionId, groupname);  
    }
}

public class FeedHubResponse
{
    public string ItemId { get; set; }
    public string UserId { get; set; }
    public string ActionResult1 { get; set; }
    public string ActionResult2 { get; set; }
    public string ActionResult3 { get; set; }
    public string ActivityType { get; set; }
    public string Text { get; set; }
} 
```

# asp.net-mvc-4 - 处理列表上的 MVC4 应用程序

> ID：11446417
> 
> 赞同：0
> 
> 时间：2012-07-12T06:53:04.407
> 
> 标签：asp.net-mvc-4

这是我的模型类，有两个类 Employee 和 Employee list

```
 namespace EditMultiplerecords.Models
{
    public class Employee
    {

        public int Id { get; set; }
        public string Name { get; set; }
    }
    public class Employeelist : IEnumerable<Employee>
    {
        public List<Employee> employee { get; set; }

        public IEnumerator<Employee> GetEnumerator()
        {
            return employee.GetEnumerator();
        }

        System.Collections.IEnumerator System.Collections.IEnumerable.GetEnumerator()
        {
            return employee.GetEnumerator();
        }
    }

} 
```

这是我正在编写代码以使用 javascript 进行编辑的视图

```
 @model EditMultiplerecords.Models.Employeelist
@{
    ViewBag.Title = "Homepage";
}
<link href="../../Content/StyleSheet1.css" rel="stylesheet" type="text/css" />
<script src="../../Scripts/jquery-1.6.2.min.js" type="text/javascript"></script>
<script type="text/javascript">

    $(function () {

        $('.editor input').blur(function () {
            $(this).hide();
            $(this).closest('p').find('label').html($(this).val()).show();

        });

        $('.editor label').click(function () {
            $(this).hide();
            $(this).closest('p').find('input').show();

        });
    });
</script>
@foreach (var item in Model)
{

    using (Html.BeginForm())
    { 
    <div class="editor">
        <p>
            @Html.HiddenFor(x => item.Id)
            @Html.LabelFor(x => item.Name, item.Name)
            @Html.EditorFor(x => item.Name)
            <input type="submit" value="OK" />
        </p>
    </div> 

    }
@*        @Html.Partial("Details", item);*@
} 
```

而这个控制器类

```
 public ActionResult Homepage()
    {
        Employeelist el = new Employeelist();
        el.employee = new List<Employee>();
        el.employee.Add(new Employee { Id = 1, Name = "Rahul" });
        el.employee.Add(new Employee { Id = 2, Name = "America" });
        el.employee.Add(new Employee { Id = 3, Name = "NewJersey" });
        return View(el);

    }
    [HttpPost]
    public ActionResult Homepage(Employeelist el)
    {
        return View(el);
    } 
```

我的问题是，当我在 Post Action 上编辑 Rahul 或 America 或 NewJersey 时，我得到一个空值列表而不是更新列表

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:21:58.130

您需要在`@foreach (var item in Model)`里面添加循环`using (Html.BeginForm())`以接受修改后的列表

```
using (Html.BeginForm())
{

    @foreach (var item in Model)
    { 
    <div class="editor">
        <p>
            @Html.HiddenFor(x => item.Id)
            @Html.LabelFor(x => item.Name, item.Name)
            @Html.EditorFor(x => item.Name)
        </p>
    </div> 

    }
}
       <input type="submit" value="OK" />

@*        @Html.Partial("Details", item);*@ 
```

> -- 编辑接受表单集合

```
[HttpPost]
public ActionResult Homepage(FormCollection formCollection)
{
    var itemid = formCollection.GetValue("item.id");
    var itemname= formCollection.GetValue("item.name");
---//use values to send it back to view----
    return View();
} 
```

# oracle - EntityFramework / WCF RIA Services / Oracle / 自定义编号映射

> ID：11446419
> 
> 赞同：3
> 
> 时间：2012-07-12T06:53:13.920
> 
> 标签：oracle, entity-framework, mapping, numbers, wcf-ria-services

这篇文章旨在作为（非最佳）解决方案，适用于必须为同样的问题而苦苦挣扎的每个人，并且在网络 atm 中几乎没有答案......（当然，这篇文章将包含来自其他来源的信息）

我们在项目（VS2010/EntityFramework/WCF RIA Services/Oracle ODP.NET）中遇到了自定义数据类型映射（数字）的问题，我们能够通过以下方式解决：

我们不得不使用以下自定义 oracle 编号映射信息（因为遗留数据库）

```
</connectionStrings>
  <oracle.dataaccess.client>
    <settings>
      <add name="int16" value="edmmapping number(4,0)" />
      <add name="int32" value="edmmapping number(9,0)" />
      <add name="int64" value="edmmapping number(17,0)" />
    </settings>
  </oracle.dataaccess.client> 
```

我们将此信息与 EDMX 文件一起放在项目中的 App.Config 中，现在我们可以使用自定义映射创建我们的 EDMX 文件

1）有一个问题，当您重新启动VS2010时，可能会发生在项目编译时由于错误2019而无法编译，此错误当然与我们的自定义映射及其“VS2010错误？？？”有关 也许但一种解决方案是打开 VS2010 about 窗口然后关闭它然后编译......但更好的解决方案可能是将我们添加到 App.Config 文件中的相同信息添加到 devenv.exe.config 文件中。 ..

现在我们可以编译 EDMX 项目和使用我们的 EDM 的 My.Service.Web (.NET) 项目

2) 还有另一个问题... WCF RIA Service My.Service (SL5) 项目不知道 App.Config 设置，所以当我们尝试编译它时，我们也会收到错误 2019... 添加映射Web.Config 文件中的信息没有帮助，但是当我们将其添加到 machine.config 文件中时，我们终于可以编译...

摘要：将映射信息添加到 App.Config（您的 edmx 文件所在的位置） Machine.Config (C:\Windows\Microsoft.NET\Framework\v4.0.30319\Config) Web.Config（在您的 Web 项目中，不确定是否需要，因为我们将它添加到 Machine.config）

问题：没有比将其添加到 Machine.Config 更好的解决方案吗？我真的希望有人有一个更好的，因为它可能会限制其他项目的开发......

希望这会有所帮助，并希望有更好的（重新）解决方案

谢谢和欢呼

版本：VS2010 SP1 EntityFramework 4.1 WCF RIA 服务 1 SP2 Oracle 11g (ODAC/ODP.NET 11.2.0.3.0)

# java - 在 Java 中将字符串解析为日期

> ID：11446420
> 
> 赞同：6
> 
> 时间：2012-07-12T06:53:19.113
> 
> 标签：java, string, date, simpledateformat

我正在尝试将字符串解析为日期，这就是我所拥有的：

```
SimpleDateFormat sdf = new SimpleDateFormat("EEE MMM dd yyyy HH:mm:ss zZ (zzzz)");
Date date = new Date();
try {
    date = sdf.parse(time);
} catch (ParseException e) {
    e.printStackTrace();
} 
```

要解析的字符串是这样的：

```
Sun Jul 15 2012 12:22:00 GMT+0300 (FLE Daylight Time) 
```

我遵循了[http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)

很确定我已经按照书本做了所有事情。但它给了我`ParseException`。

```
java.text.ParseException: Unparseable date: 
"Sun Jul 15 2012 12:22:00 GMT+0300 (FLE Daylight Time)" 
```

我究竟做错了什么？我尝试过的模式：

```
EEE MMM dd yyyy HH:mm:ss zzz
EEE MMM dd yyyy HH:mm:ss zZ (zzzz) 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-12T07:12:28.587

您似乎正在混合 和 的`z`模式`Z`。如果您忽略`(FLE Daylight Time)`，因为这与 中的信息相同`GMT+0300`，问题就变成了`SimpleDateFormat`要么`GMT +0300`要么`GMT+03:00`。最后一个变体可以这样解析：

```
String time = "Sun Jul 15 2012 12:22:00 GMT+03:00 (FLE Daylight Time)";
SimpleDateFormat sdf = new SimpleDateFormat("EEE MMM dd yyyy HH:mm:ss zzz");
Date date = sdf.parse(time); 
```

**[编辑]**
鉴于其他有关其时间字符串工作的帖子，这可能是因为您的时间字符串包含冲突信息或混合格式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2021-08-05T18:49:56.910

## java.time

我想贡献现代答案。使用现代 Java 日期和时间 API java.time 进行日期和时间工作。

首先定义一个用于解析的格式化程序：

```
private static final DateTimeFormatter PARSER = DateTimeFormatter
        .ofPattern("EEE MMM dd yyyy HH:mm:ss 'GMT'Z (", Locale.ROOT); 
```

然后这样解析：

```
 String time = "Sun Jul 15 2012 12:22:00 GMT+0300 (FLE Daylight Time)";

    TemporalAccessor parsed = PARSER.parse(time, new ParsePosition(0));
    OffsetDateTime dateTime = OffsetDateTime.from(parsed);

    System.out.println(dateTime); 
```

输出是：

> 2012-07-15T12:22+03:00

我没有解析你的整个字符串，但足以建立一个时间点和与 GMT（或 UTC）的偏移量。Java 无法解析时区名称*FLE Daylight Time*。这是 Java 不知道的微软发明。*所以我解析到FLE*之前的圆括号，以验证这么多的字符串。为了指示`DateTimeFormatter`它不需要解析整个字符串，我使用了作为第二个参数的重载`parse`方法。`ParsePosition`

来自维基百科：

> 有时，由于它在 Microsoft Windows 上的使用，FLE 标准时间（芬兰、立陶宛、爱沙尼亚或有时芬兰、拉脱维亚、爱沙尼亚）……被用来指代东欧时间。

如果您不可或缺的需要一个`Date`对象，通常是用于您现在无法升级到 java.time 的遗留 API，请像这样转换：

```
 Date oldfashionedDate = Date.from(dateTime.toInstant());
    System.out.println(oldfashionedDate); 
```

在欧洲/塔林时区运行时的输出：

> 2012 年 7 月 15 日星期日 12:22:00 EEST

## 你的代码出了什么问题？

您`SimpleDateFormat`成功解析为与格式模式字符串中`GMT+03`的小字符匹配的“时区” 。`z`然后它尝试将剩余部分解析`00`为偏移量以匹配大写字母`Z`。由于偏移量需要符号，因此失败了。

> 我究竟做错了什么？

正如其他人所说，您不应该尝试解析`GMT`为时区缩写。`GMT` *可用作*时区缩写；但你的时间不是格林威治标准时间。所以你不想要那个。这只会产生误导。如果你成功了，你宁愿冒一个不正确的结果的风险，因为你解析了一个不符合你目的的时区。

## 链接

*   [Oracle 教程：日期时间](https://docs.oracle.com/javase/tutorial/datetime/)解释如何使用 java.time。
*   [维基百科上的东欧时间](https://en.wikipedia.org/wiki/Eastern_European_Time)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T07:12:43.893

试试这个方法。。

```
System.out.println(new SimpleDateFormat(
                "EEE MMM dd yyyy HH:mm:ss zZ (zzzz)").format(new Date())); 
```

**我得到的输出：**

```
Thu Jul 12 2012 12:41:35 IST+0530 (India Standard Time) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-12T07:15:51.087

您可以尝试打印日期格式字符串：

```
/**
 * @param args
 */
public static void main(String[] args) {
    SimpleDateFormat sdf = new SimpleDateFormat(
            "EEE MMM dd yyyy HH:mm:ss zZ (zzzz)");
    Date date = new Date();
    try {
        //
        System.out.println(sdf.format(date));
        date = sdf.parse(time);
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-12T07:27:05.747

如果您对语言环境有疑问，您可以为整个应用程序设置默认语言环境

```
Locale.setDefault(Locale.ENGLISH); 
```

或者只是在你的`SimpleDateFormat`

```
SimpleDateFormat sdf = new SimpleDateFormat("EEE MMM dd yyyy HH:mm:ss zZ (zzzz)", Locale.ENGLISH); 
```

您也可以使用`Locale.US`或`Locale.UK`。

# windows - VB6 程序使用的 32 位 dll 在 64 位 Win 7 中不起作用

> ID：11446421
> 
> 赞同：1
> 
> 时间：2012-07-12T06:53:20.677
> 
> 标签：windows, dll, vb6

1）一个32位的dll放在C:\Windows\SysWOW64

2) 使用 regasm.exe 注册

3）编译时，我将目标cpu设置为x86

我可以在我的 vb6 程序中添加引用，但是当我尝试在 dll 中调用该方法时，它失败了。错误信息如下：

```
 "Runtime Error '-2147467261' object instance not set to an instance of an object" 
```

这里的代码：

```
Set m_objCLogon = CreateObject("CommonLogon.Logon")
strResult = m_objCLogon.ValidateLogin(p_strUserID, p_strEncryptedPwd, p_strAppID) 
```

代码非常简单，只需传入凭据进行验证。

有谁知道哪一部分出了问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-12T08:29:33.277

显然注册没有问题，错误消息是.NET异常消息。您的代码正在轰炸 NullReferenceException。这是一个非常常见的异常，它（几乎）总是由代码中的错误引起的。

您需要调试代码。使用 Project + Properties，Debug 选项卡执行此操作。选择“启动外部程序”并将其设置为您的 vb6 程序或 c:\program files\microsoft visual studio\vb6\vb6.exe。然后 Debug + Exceptions，勾选 CLR exceptions 的 Throw 框。按 F5 开始。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-18T13:32:41.330

如果是我，我会将 DLL 复制到 System32 目录（因为它是 VB6 32 位 DLL），我会使用 regsvr32 c:\Windows\System32\MyDLL.DLL。就像在任何其他 32 位机器上使用它一样。

# c++ - 关于 windows 和 posix 中的 1 个刻度

> ID：11446427
> 
> 赞同：5
> 
> 时间：2012-07-12T06:53:44.673
> 
> 标签：c++, windows, timespan

我在 Windows 下看到 C++ 中的代码。

提到 1 个滴答等于 100 纳秒。这是特定于Windows的吗？或者这是任何通用标准，如果它是标准的名称？这在其他操作系统上也一样吗？

提出上述问题的原因我必须编写独立于平台的代码，如果它是特定于 Windows 的，我必须为这部分代码添加#ifdef WIN32。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:00:43.420

这是微软特有的：[看这里](http://msdn.microsoft.com/en-us/library/system.timespan.ticks.aspx)

> 最小的时间单位是滴答声，等于 100 纳秒。刻度可以是负数或正数。

在 Linux 系统中，您可以使用高粒度计时器来达到 100 纳秒的精度，但您肯定需要单独处理它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:06:51.510

记号的概念并不是微软特有的，但它在计算机科学中的使用几乎完全限于 Windows。大多数其他系统（即类 UNIX 和符合 POSIX 的系统）指的是毫秒、微秒、纳秒等单位的亚秒时间跨度。例如，`struct timeval`类型定义（在我的系统上）为：

```
struct timeval {
    __darwin_time_t         tv_sec;    /* seconds */
    __darwin_suseconds_t    tv_usec;   /* and microseconds */
}; 
```

# android - GPS状态的广播接收器？

> ID：11446428
> 
> 赞同：2
> 
> 时间：2012-07-12T06:53:45.420
> 
> 标签：android, gps, broadcastreceiver

有没有办法在 GPS 开启/关闭时得到通知？

我注意到当设备关闭然后再次打开时，getLastKnownLocation(provider) 为空。所以我想在 GPS 关闭时将位置保存到数据库中。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T06:56:53.827

注册一个 BroadcastReceiver 来监听 LocationManager 的[PROVIDERS_CHANGED_ACTION](http://developer.android.com/reference/android/location/LocationManager.html#PROVIDERS_CHANGED_ACTION) Intent。这将在 GPS 提供商（和其他提供商）启用/禁用时广播。

# spring - Spring AMQP Java 客户端中的队列大小

> ID：11446443
> 
> 赞同：11
> 
> 时间：2012-07-12T06:54:50.177
> 
> 标签：spring, rabbitmq, spring-amqp

我使用 Spring amqp 1.1 版本作为我的 java 客户端。我有一个大约有 2000 条消息的队列。我想要一个检查这个队列大小的服务，如果它是空的，它会发送一条消息说“所有项目已处理”。

我不知道如何获取当前队列大小？请帮忙

我用谷歌搜索并找到了早期版本 1.0 中存在的一个类“RabbitBrokerAdmin”。我认为它现在不存在于 1.1 中。

获取当前队列大小的任何指针？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2014-03-03T20:23:16.997

所以我知道这有点晚了，并且已经找到了解决方案，但这是查看队列中消息计数的另一种方法

此解决方案假定您使用的是 spring rabbitmq 框架，并已在应用程序配置中定义了队列，并定义了以下标签

```
<rabbit:queue>
<rabbit:admin> 
```

java类：

```
public class QueueStatsProcessor {
    @Autowired
    private RabbitAdmin admin;
    @Autowired
    private List<Queue> rabbitQueues;

    public void getCounts(){
        Properties props;
        Integer messageCount;
        for(Queue queue : rabbitQueues){
            props = admin.getQueueProperties(queue.getName());
            messageCount = Integer.parseInt(props.get("QUEUE_MESSAGE_COUNT").toString());
            System.out.println(queue.getName() + " has " + messageCount + " messages");
        }
    }
} 
```

您还可以使用此解决方案读取附加到队列的当前消费者 [http://docs.spring.io/spring-amqp/docs/1.2.1.RELEASE/api/org/springframework/amqp/rabbit/core/RabbitAdmin .html#getQueueProperties(java.lang.String)](http://docs.spring.io/spring-amqp/docs/1.2.1.RELEASE/api/org/springframework/amqp/rabbit/core/RabbitAdmin.html#getQueueProperties(java.lang.String))

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-08-27T19:31:01.667

您可以使用 RabbitAdmin 实例从队列中获取详细信息，如下所示：

```
@Resource RabbitAdmin admin;
...
protected int getQueueCount(final String name) {
    DeclareOk declareOk = admin.getRabbitTemplate().execute(new ChannelCallback<DeclareOk>() {
        public DeclareOk doInRabbit(Channel channel) throws Exception {
            return channel.queueDeclarePassive(name);
        }
    });
    return declareOk.getMessageCount();
} 
```

# javascript - 将变量值传递给脚本函数（Javascript）中的变量

> ID：11446447
> 
> 赞同：0
> 
> 时间：2012-07-12T06:54:53.607
> 
> 标签：javascript, jquery

我想知道如何将 JavaScript 文件中的变量值传递给写在 HTML 文件顶部的脚本函数中的变量。

我是这样写的：

*myjsfile.js*：

```
var abc = "10"; 
```

*HTML 文件*：

```
<html>
<head>
<script type="text/javascript">
(function() {

var test = document.createElement('script'); test.type = 'text/javascript'; test.async = true;

test.src = 'testquery.js';

var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(test, s);

alert(abc);
})();

</script>
</head>
<body>
</body>
</html> 
```

我没有得到输出。请帮忙！提前致谢。

基本上我正在尝试创建一个 jquery 插件，就像谷歌分析一样。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:01:24.770

脚本必须先加载，尝试使用`onload`

```
test.onload=function(){alert(abc);} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:09:25.270

尝试这个：

```
(function() {

    var test = document.createElement('script');
    document.getElementsByTagName('head')[0].appendChild(test);
    test.type = 'text/javascript';
    test.src = 'testquery.js';

    test.onload = function () {
        alert(abc);
    }

})();​ 
```

好吧.. onload 已经被告知了，但是您至少应该改变将其附加到头部的方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T07:00:35.103

```
<html>
  <head>
    <script type="text/javascript" src="testquery.js"></script>
    <script type="text/javascript">
        alert(abc);
    </script>
 </head>
 <body></body>
</html> 
```

# c# - 在 C# 中使用不同的浏览器进行 Web 浏览

> ID：11446449
> 
> 赞同：1
> 
> 时间：2012-07-12T06:55:04.543
> 
> 标签：c#, internet-explorer, firefox, google-chrome, browser

我需要构建一个小型应用程序来比较不同浏览器中不同分辨率的站点渲染。首先，我需要支持 IE、FF、Chrome，用户会选择以不同的分辨率预览她的网站。WebBrowser 控件不给我这个。你能告诉我在 C#、.Net 中是否有任何控件或库可以解决这个问题？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:02:09.610

Stack Overflow 本身提供了一些选项。

我想说您可以将以下各项放入 TabControl 中，以便用户可以轻松选择和切换视图。

*   对于 Internet Explorer，应该使用股票 WebBrowser 控件。
*   [Firefox 包装器 (GeckoFX)](https://stackoverflow.com/a/1306484/999042)
*   [Chrome 包装器 (Webkit.NET)](https://stackoverflow.com/a/2141684/999042)

# c# - TrackingProfile 参数名称

> ID：11446450
> 
> 赞同：1
> 
> 时间：2012-07-12T06:55:11.340
> 
> 标签：c#, workflow-foundation-4

我正在尝试捕获名为“arg1”的参数的跟踪，并使用此跟踪配置文件

```
 private  MyTrace CreateTrace()
    {
    string all="*"
        MyTrace trace = new MyTrace();
        trace.TrackingProfile = new TrackingProfile()
        {
            ImplementationVisibility = ImplementationVisibility.All,
            Name = "CustomTrackingProfile",
            Queries = 
                {
                    new CustomTrackingQuery() 
                    {
                     Name = all,
                     ActivityName = all
                    },
                    new WorkflowInstanceQuery()
                    {                                                       
                         // Limit workflow instance tracking records for started and completed workflow states
                           States = {WorkflowInstanceStates.Started, WorkflowInstanceStates.Completed }
                    },
                      ActivityStateQuery query = new ActivityStateQuery()
                    new ActivityStateQuery()
                    {
                        ActivityName = "*",
                        States = { ActivityStates.Executing ,ActivityStates.Closed},
                        Arguments={"arg1"}
                    }

                }
        };
        return trace;
    } 
```

要跟踪的活动：（非常简单 arg1="value"）

```
 <Activity mc:Ignorable="sap" x:Class="WorkflowConsoleApplication5.Workflow1" xmlns="http://schemas.microsoft.com/netfx/2009/xaml/activities" 
              xmlns:av="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
              xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
              xmlns:mv="clr-namespace:Microsoft.VisualBasic;assembly=System" 
              xmlns:mva="clr-namespace:Microsoft.VisualBasic.Activities;assembly=System.Activities" 
              xmlns:s="clr-namespace:System;assembly=mscorlib" 
              xmlns:s1="clr-namespace:System;assembly=System"
              xmlns:s2="clr-namespace:System;assembly=System.Xml" 
              xmlns:s3="clr-namespace:System;assembly=System.Core" 
              xmlns:s4="clr-namespace:System;assembly=System.ServiceModel" 
              xmlns:sa="clr-namespace:System.Activities;assembly=System.Activities" 
              xmlns:sad="clr-namespace:System.Activities.Debugger;assembly=System.Activities" 
              xmlns:sap="http://schemas.microsoft.com/netfx/2009/xaml/activities/presentation" 
              xmlns:scg="clr-namespace:System.Collections.Generic;assembly=System" 
              xmlns:scg1="clr-namespace:System.Collections.Generic;assembly=System.ServiceModel" 
              xmlns:scg2="clr-namespace:System.Collections.Generic;assembly=System.Core" 
              xmlns:scg3="clr-namespace:System.Collections.Generic;assembly=mscorlib" 
              xmlns:sd="clr-namespace:System.Data;assembly=System.Data" 
              xmlns:sl="clr-namespace:System.Linq;assembly=System.Core" 
              xmlns:st="clr-namespace:System.Text;assembly=mscorlib" 
              xmlns:w="clr-namespace:WorkflowConsoleApplication5" 
              xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
      <x:Members>
        <x:Property Name="arg1" Type="InArgument(x:String)" />
      </x:Members>
      <sap:VirtualizedContainerService.HintSize>654,676</sap:VirtualizedContainerService.HintSize>
      <mva:VisualBasic.Settings>Assembly references and imported namespaces for internal implementation</mva:VisualBasic.Settings>
      <Flowchart  sap:VirtualizedContainerService.HintSize="614,636">
        <sap:WorkflowViewStateService.ViewState>
          <scg3:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <av:Point x:Key="ShapeLocation">270,2.5</av:Point>
            <av:Size x:Key="ShapeSize">60,75</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">300,77.5 300,171</av:PointCollection>
          </scg3:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
        <Flowchart.StartNode>
          <FlowStep x:Name="__ReferenceID0">
            <sap:WorkflowViewStateService.ViewState>
              <scg3:Dictionary x:TypeArguments="x:String, x:Object">
                <av:Point x:Key="ShapeLocation">179,171</av:Point>
                <av:Size x:Key="ShapeSize">242,58</av:Size>
                <av:PointCollection x:Key="ConnectorLocation">300,229 300,259 290,259 290,299.5</av:PointCollection>
              </scg3:Dictionary>
            </sap:WorkflowViewStateService.ViewState>
            <Assign sap:VirtualizedContainerService.HintSize="242,58">
              <Assign.To>
                <OutArgument x:TypeArguments="x:String">[arg1]</OutArgument>
              </Assign.To>
              <Assign.Value>
                <InArgument x:TypeArguments="x:String">value</InArgument>
              </Assign.Value>
              <sap:WorkflowViewStateService.ViewState>
                <scg3:Dictionary x:TypeArguments="x:String, x:Object">
                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                </scg3:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
            </Assign>
            <FlowStep.Next>
              <FlowStep x:Name="__ReferenceID1">
                <sap:WorkflowViewStateService.ViewState>
                  <scg3:Dictionary x:TypeArguments="x:String, x:Object">
                    <av:Point x:Key="ShapeLocation">184.5,299.5</av:Point>
                    <av:Size x:Key="ShapeSize">211,61</av:Size>
                  </scg3:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
                <WriteLine sap:VirtualizedContainerService.HintSize="211,61" Text="[arg1]">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg3:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                    </scg3:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                </WriteLine>
              </FlowStep>
            </FlowStep.Next>
          </FlowStep>
        </Flowchart.StartNode>
        <x:Reference>__ReferenceID0</x:Reference>
        <x:Reference>__ReferenceID1</x:Reference>
      </Flowchart>
    </Activity>

 public class MyTrace : TrackingParticipant
{
    private  String participantName = "Mytrace";

    protected override void Track(TrackingRecord record, TimeSpan timeout)
    {
        Console.WriteLine("*{0}+++++++++++++++++++++++++++++++++++++",record.RecordNumber);
        Console.Write(String.Format(CultureInfo.InvariantCulture,        "{0} emitted trackRecord: {1}  Level: {2}, RecordNumber: {3}",     participantName, record.GetType().FullName, record.Level, record.RecordNumber));
        WorkflowInstanceRecord workflowInstanceRecord = record as WorkflowInstanceRecord;
        if (workflowInstanceRecord != null)
        {
            Console.WriteLine(String.Format(CultureInfo.InvariantCulture,
                " Workflow InstanceID: {0} Workflow instance state: {1}",
                record.InstanceId, workflowInstanceRecord.State));

        }
        ActivityStateRecord activityStateRecord = record as ActivityStateRecord;
        if (activityStateRecord != null)
        {
            IDictionary<String, object> variables = activityStateRecord.Variables;
            IDictionary<string, object> arguments = activityStateRecord.Arguments;
            StringBuilder vars = new StringBuilder();
            if (variables.Count > 0)
            {
                vars.AppendLine("\n\tVariables:");
                foreach (KeyValuePair<string, object> variable in variables)
                {
                    vars.AppendLine(String.Format(
                        "\t\tName: {0} Value: {1}", variable.Key, variable.Value));

                }
            }
            StringBuilder args = new StringBuilder();

            if (arguments.Count > 0)
            {
                args.AppendLine("\n\tArguments:");
                foreach (KeyValuePair<string, object> arg in arguments)
                {
                    args.AppendLine(String.Format(
                        "\t\tName: {0} Value: {1}", arg.Key, arg.Value));

                }
            }

            Console.WriteLine(String.Format(CultureInfo.InvariantCulture,
       " :Activity DisplayName: {0} :ActivityInstanceState: {1} {2} {3}",
          activityStateRecord.Activity.Name, activityStateRecord.State,
       ((variables.Count > 0) ? vars.ToString() : String.Empty),
       ((arguments.Count > 0) ? args.ToString() : String.Empty)));
        }

        CustomTrackingRecord customTrackingRecord = record as CustomTrackingRecord;

        if ((customTrackingRecord != null) && (customTrackingRecord.Data.Count > 0))
        {
            Console.WriteLine(String.Format(CultureInfo.InvariantCulture,
                "\n\tUser Data:"));
            foreach (string data in customTrackingRecord.Data.Keys)
            {
                Console.WriteLine(String.Format(CultureInfo.InvariantCulture,
                    " \t\t {0} : {1}", data, customTrackingRecord.Data[data]));
            }
        }
        Console.WriteLine();
    }
} 
```

当我执行 activity(Workflow1) 时，我收到此跟踪输出：

```
 *0+++++++++++++++++++++++++++++++++++++
        TrackingParticipant emitted trackRecord: System.Activities.Tracking.WorkflowInstanceRecord  Level: Info, RecordNumber: 0 Workflow InstanceID: a5b135ce-03d0-40ea-a491-15ff01030e05 Workflow instance state: Starte

        *1+++++++++++++++++++++++++++++++++++++
        TrackingParticipant emitted trackRecord: System.Activities.Tracking.ActivityStateRecord  Level: Info, RecordNumber: 1 :Activity DisplayName: Workflow1 :ActivityInstanceState: Executing
                Arguments:
                        Name: arg1 Value: HOLA

        *2+++++++++++++++++++++++++++++++++++++
        TrackingParticipant emitted trackRecord: System.Activities.Tracking.ActivityStateRecord  Level: Info, RecordNumber: 2 :Activity DisplayName: Flowchart :ActivityInstanceState: Executing

        *3+++++++++++++++++++++++++++++++++++++
        TrackingParticipant emitted trackRecord: System.Activities.Tracking.ActivityStateRecord  Level: Info, RecordNumber: 3 :Activity DisplayName: Assign :ActivityInstanceState: Executing

        *4+++++++++++++++++++++++++++++++++++++
        TrackingParticipant emitted trackRecord: System.Activities.Tracking.ActivityStateRecord  Level: Info, RecordNumber: 4 :Activity DisplayName: Assign :ActivityInstanceState: Closed

        value
        *5+++++++++++++++++++++++++++++++++++++
        TrackingParticipant emitted trackRecord: System.Activities.Tracking.ActivityStateRecord  Level: Info, RecordNumber: 5 :Activity DisplayName: WriteLine :ActivityInstanceState: Executing

        *6+++++++++++++++++++++++++++++++++++++
        TrackingParticipant emitted trackRecord: System.Activities.Tracking.ActivityStateRecord  Level: Info, RecordNumber: 6 :Activity DisplayName: WriteLine :ActivityInstanceState: Closed

        *7+++++++++++++++++++++++++++++++++++++
        TrackingParticipant emitted trackRecord: System.Activities.Tracking.ActivityStateRecord  Level: Info, RecordNumber: 7 :Activity DisplayName: Flowchart :ActivityInstanceState: Closed

        *8+++++++++++++++++++++++++++++++++++++
        TrackingParticipant emitted trackRecord: System.Activities.Tracking.ActivityStateRecord  Level: Info, RecordNumber: 8 :Activity DisplayName: Workflow1 :ActivityInstanceState: Closed
                Arguments:
                        Name: arg1 Value: value

        *9+++++++++++++++++++++++++++++++++++++ 
```

**为什么参数 (arg1) 仅在 Workflow1 关闭时才通知更改？assing arg1="value" 发生了什么？我认为它必须通知参数已更改**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T15:19:28.457

使用 Ron Jacobs 创建的跟踪参与者。在活动运行后查询真的很容易，因为它具有结构化的结果，并且您实际上可以在每个阶段获取该参数。它实际上为参与者使用了 Microsoft.Activities.UnitTesting 框架。该参与者实际上也可以同时跟踪子工作流程！

以下是 Ron 解释如何使用它的一些博客文章。

[http://blogs.msdn.com/b/rjacobs/archive/2011/01/13/wf4-how-tracking-helped-me-write-a-unit-test.aspx](http://blogs.msdn.com/b/rjacobs/archive/2011/01/13/wf4-how-tracking-helped-me-write-a-unit-test.aspx)

[http://blogs.msdn.com/b/rjacobs/archive/2011/05/26/tracking-child-workflow-with-invokeworkflow.aspx](http://blogs.msdn.com/b/rjacobs/archive/2011/05/26/tracking-child-workflow-with-invokeworkflow.aspx)

[http://blogs.msdn.com/b/rjacobs/archive/2012/06/18/what-state-is-my-statemachine-in.aspx](http://blogs.msdn.com/b/rjacobs/archive/2012/06/18/what-state-is-my-statemachine-in.aspx)

## 已编辑

我正在编辑此内容以澄清如果您必须获得更频繁的更新，您将需要跟踪变量而**不是**参数。因此，将变量的值设置为参数的值，然后如果需要在离开工作流之前将参数的值设置为变量的值，但在工作流结束时设置 InArgument 确实没有效果，因为没有人会使用它（至少我假设）。

# c - 在c中将大量稀疏数组读/写到磁盘的有效方法

> ID：11446452
> 
> 赞同：3
> 
> 时间：2012-07-12T06:55:15.497
> 
> 标签：c, io

我需要将大约 10 ^(3 个)稀疏双数组写入磁盘（一次一个）并稍后在程序中单独读取它们。

**编辑：**很抱歉没有更早地明确提出这个问题。具体来说，我希望尽可能多地存储在内存中，并将当前未使用的变量保存在磁盘上。我正在研究Linux。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T08:06:16.467

最快的方法是缓冲 I/O。您首先将尽可能多的复制到缓冲区，而不是单独写入每个数组。一旦该缓冲区已满，您将把整个缓冲区写入磁盘，清除缓冲区，然后重复。这最大限度地减少了磁盘的写入量，并提高了 I/O 效率。

如果您打算稍后按顺序读取数组，我建议您还缓冲读取，以便读取更多所需的内容，并且您可以在缓冲区外工作。

您可以更进一步并使用异步读/写操作，以便您的程序可以在等待磁盘时处理其他任务。

如果您担心它将消耗的磁盘大小，您可以添加另一个层，该层将在您写入/读取磁盘时压缩/解压缩数据流。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-12T09:17:38.620

HDF5 数据格式旨在高效地将大量数据写入磁盘。这种格式被 NASA 和大量科学应用使用：

[http://www.hdfgroup.org/HDF5/](http://www.hdfgroup.org/HDF5/)

[http://en.wikipedia.org/wiki/Hierarchical_Data_Format](http://en.wikipedia.org/wiki/Hierarchical_Data_Format)

# php - android用户名密码通过json发送到php-->sql

> ID：11446455
> 
> 赞同：0
> 
> 时间：2012-07-12T06:55:20.113
> 
> 标签：php, android, mysql, json

我试图找到一种使用 json 而不是我当前使用的普通 http 帖子来发布用户名和密码的方法。我一直在阅读大多数教程和示例来理解，但我无法得到一个想法。我有 json 移相器可用于从我的 sql 获取数据，但不能从 post json 获取数据。

感谢您的帮助

以下是当前使用的 json 帖子

```
EditText uname = (EditText) findViewById(R.id.log_Eu_name);
            String username = uname.getText().toString();

            EditText pword = (EditText) findViewById(R.id.log_Epass);
            String password = pword.getText().toString();

            String result = new String();
            result = "";

            ArrayList<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();
            nameValuePairs
                    .add(new BasicNameValuePair("username", username));
            nameValuePairs
                    .add(new BasicNameValuePair("password", password));

            InputStream is = null;
            try {
                HttpClient httpclient = new DefaultHttpClient();
                HttpPost httppost = new HttpPost("http://www.loshwickphotography.com/log.php");
                httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
                HttpResponse response = httpclient.execute(httppost);
                HttpEntity entity = response.getEntity();
                is = entity.getContent();
                Log.w("SENCIDE", "Execute HTTP Post Request");

                String str = inputStreamToString(
                        response.getEntity().getContent()).toString();
                Log.w("SENCIDE", str);

                if (str.toString().equalsIgnoreCase("true")) {
                    Log.w("SENCIDE", "TRUE");
                    Toast.makeText(getApplicationContext(),
                            "FUking hell yeh!", Toast.LENGTH_SHORT).show();
                } else {
                    Toast.makeText(getApplicationContext(),
                            "Sorry it failed", Toast.LENGTH_SHORT).show();
                }
            } catch (Exception e) {

                Log.e("log_tag", "Error in http connection " + e.toString());
            }
            try {
                BufferedReader reader = new BufferedReader(
                        new InputStreamReader(is, "iso-8859-1"), 8);
                StringBuilder sb = new StringBuilder();
                String line = null;
                while ((line = reader.readLine()) != null) {
                    sb.append(line + "\n");
                }
                is.close();

                result = sb.toString();

            } catch (Exception e) {
                Log.e("log_tag", "Error converting result " + e.toString());
            }

            try {
                if (result != null) {
                    JSONArray jArray = new JSONArray(result);
                    Log.i("log_tag", Integer.toString(jArray.length()));
                    for (int i = 0; i < jArray.length(); i++) {
                        JSONObject json_data = jArray.getJSONObject(i);

                    }
                } else {
                    Toast.makeText(getApplicationContext(), "NULL",
                            Toast.LENGTH_SHORT).show();
                }

            } catch (JSONException e) {
                Log.e("log_tag", "Error parsing data " + e.toString());

            }
        }

        private Object inputStreamToString(InputStream is) {
            // TODO Auto-generated method stub
            String line = "";
            StringBuilder total = new StringBuilder();
            // Wrap a BufferedReader around the InputStream
            BufferedReader rd = new BufferedReader(
                    new InputStreamReader(is));
            // Read response until the end
            try {
                while ((line = rd.readLine()) != null) {
                    total.append(line);
                }
            } catch (IOException e) {
                e.printStackTrace();
            }
            // Return full string
            return total;
        }

    }); 
```

这是我写的正确的吗？

如何为此编写Php？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:05:23.677

用这个

```
 JSONObject myjson=new JSONObject();
        myjson.put("userName", "someOne");
        myjson.put("password", "123"); 
```

和`StringEntity se = new StringEntity(myjson.toString());`

和`httpPost.setEntity(se);`

# c# - 将 TAP 与 wcf EAP 生成的代理一起使用

> ID：11446465
> 
> 赞同：0
> 
> 时间：2012-07-12T06:56:06.307
> 
> 标签：c#, silverlight, async-await

我有一个使用 WCF 服务的 Silverlight 5 应用程序。已生成的代理客户端只有异步方法（默认情况下，从 SL 客户端生成时）。

我想利用现在在 VS2012RC 中的基于任务的异步模式 (TAP)。

从生成的客户端代理中使用异步方法的最佳方法是什么？

（问题是，WCF 代理生成器创建的代码基于基于事件的异步模式 (EAP) 而不是 TAP ......）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T10:53:40.397

基于此文档： [http ://www.microsoft.com/en-us/download/details.aspx?id=19957](http://www.microsoft.com/en-us/download/details.aspx?id=19957)

我已经找到了解决方案。

请参见下面的代码：

```
public class MyDataListProvider : IMyDataListProvider
{
    private <ObservableCollection<IMyData>> myDataList;

    public Task<ObservableCollection<IMyData>> GetMyData()
            {
                TaskCompletionSource<ObservableCollection<IMyData>> taskCompletionSource = new TaskCompletionSource<ObservableCollection<IMyData>>();

                MyWCFClientProxy client = new MyWCFClientProxy();

                this.myDataList.Clear();

                client.GetMyDataCompleted += (o, e) =>
                {
                    if (e.Error != null)
                    {
                        taskCompletionSource.TrySetException(e.Error);
                    }
                    else
                    {
                        if (e.Cancelled)
                        {
                            taskCompletionSource.TrySetCanceled();
                        }
                        else
                        {
                            foreach (var s in e.Result)
                            {
                                var item = new MyData();
                                item.Name = s.Name;
                                item.Fullname = s.Fullname;

                                this.myDataList.Add(item);
                            }

                            taskCompletionSource.TrySetResult(this.myDataList);
                        }
                    }
                };

                client.GetMyDataAsync();

                return taskCompletionSource.Task;
            }
} 
```

客户 SL 代码：

```
private async void SetMyDataList()
        {
            this.MyDataList = await this.myDataListProvider.GetMyData();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T21:46:40.397

我不知道它是否在 RC 中可用，但是从 SDK 8.0A（包含在 VS2012 中的那个）开始，`svcutil.exe`将使用 TAP 模式生成异步方法。

默认情况下它将使用 TAP，因此请确保**不**包含`/async`，因为这将使其回退到生成方法的旧 APM 方法。

您可以`svcutil`通过查看程序的第一行来查看该版本是否足够新以使用 TAP，它将包括它至少是该工具的 4.0 版本。

> Microsoft (R) 服务模型元数据工具 [Microsoft (R) Windows (R)
> Communication Foundation，版本**4.0** .xxxxx.xxxxxx]

# html - 什么是创建网页布局的最佳工具？

> ID：11446467
> 
> 赞同：-2
> 
> 时间：2012-07-12T06:56:10.013
> 
> 标签：html

我使用 Firebug 来查看 Google 翻译 (http://translate.google.com.vn/) 的 HTML 源代码是否简单（内容）。

但它有一个非常复杂的布局（这么多的布局 div）。我猜这些页面是基于许多软件支持设计的布局。

我知道photoshop，但总的来说，在photoshop中创建布局非常困难，我想找到一个更简单的工具。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T08:06:27.367

我认为你应该使用`photoshop Sitegrinder 3.5`

Site Grinder 3.5 是生成任何 .psd 文件的 Html 和 CSS 的好工具。但在我看来，它适用于小型静态网站，不适用于动态网站。毫无疑问，这对开发网站很有帮助，但它需要在 Adob​​e Photoshop 中使用网站研磨工具工作的技术人员。我的意思是它对设计师有用，而不是对开发人员有用。Site Grinder 3.5 支持以下功能：

```
1\.  Rounded corner
2\.  Shadow
3\.  Borders
4\.  Cross-Paging  
5\.  Menus and Sub-Menus
6\.  Hide and show
7\.  One design for many pages.
8\.  More Powerful Hover And Click Behaviors
9\.  Smooth Scrolling to Targeted Page Areas
10\. Create Powerful Animated Accordions Using Only Hints
11\. Attach Elements to The Browser Window(using –fixed hint) 
```

**注意：**但其中一些功能，如圆角、阴影等，在 IE7 和 IE8 浏览器中无法运行。这意味着站点研磨器具有浏览器依赖性。

Site Grinder 3.5 有一些限制：

1.  不允许渐变色。
2.  为每个页面生成多个 css。
3.  带提示的图层名称必须正确。
4.  它仍然是错误的。一些已经使用过它的人说它会生成错误代码。但是我在使用它时没有发现任何错误。

使用 sitegrinder 3.5 设计网页时，请记住以下几行：

1.  设计分为两个阶段：

    1.  创建草稿 PSD 并保存。然后构建 Site Grinder 3.5
    2.  构建 PSD 文件后，使用 Design Manager Tool 进行完整的设计和效果，然后将其保存在构建窗口中。
2.  使用样式编辑工具构建 PSD 后，可以在设计管理器中设置背景颜色、阴影、圆角。

3.  提示是正确的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T06:59:17.003

我认为网站布局制造商是您要找的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T07:01:51.047

您可以使用**[Balsamic](http://www.balsamiq.com/)**等软件快速创建模型。这是了解布局的可靠而快速的方法。否则总是有笔和纸。我用的是 **[raincreativelab](http://www.raincreativelab.com/paperbrowser/)**的素描纸。它可以免费下载，并且标记了不同的浏览器视口。

在草图/样机之后，您可以继续使用 Photoshop 并设计细节。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T17:05:16.110

也许你会对[ForeUI](http://www.ForeUI.com/)感兴趣，它可以为你的布局（和交互）生成 HTML5 模拟。

# vb.net - VB6.SetItemData(combobox, i, rd.Fields("XXX").Value)

> ID：11446468
> 
> 赞同：0
> 
> 时间：2012-07-12T06:56:10.960
> 
> 标签：vb.net, vb6, vb.net-2010, vb6-migration

我正在使用 VS2010 将 VB6 转换为 VB.NET

当我在转换代码时，我发现一些我不明白代码正在做什么和得到的含义以及如何很好地转换它的东西。

```
i = 0

While Not rd.EOF

        cobTmp.Items.Insert(i, rd.Fields("d").Value)
        VB6.SetItemData(cobTmp, i, rd.Fields("r").Value)
        If rd.Fields("r").Value = "1234" Then
            intloc1234 = i
        End If
        rd.MoveNext()
        Debug.Print(VB6.TabLayout(VB6.GetItemData(cobTmp, i), VB6.GetItemString(cobTmp, i)))
        i = i + 1
    End While 
```

我怎样才能很好地处理这段代码以及这一行：

```
Debug.Print(VB6.TabLayout(VB6.GetItemData(cobTmp, i), VB6.GetItemString(cobTmp, i))) 
```

可以`cobTmp.item(i)`用来代替`VB6.GetItemData(cobTmp, i)`吗？

怎么样`VB6.TabLayout`？？

我知道这些可以忽略，但我想做得更好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T12:23:04.080

关于`GetItemData`，根据[微软支持](http://msdn.microsoft.com/en-us/library/microsoft.visualbasic.compatibility.vb6.support.getitemdata.aspx)：

> 在 Visual Basic 6.0 中，可以在设计时在“属性”窗口中设置 ListBox 或 ComboBox 控件的 ItemData 属性，以将 Integer 与 ListBox 或 ComboBox 项相关联。在 Visual Basic 2010 中，ItemData 属性不再存在；GetItemData 和 SetItemData 方法可用于模拟 ItemData 的行为。

关于`TabLayout`，根据这篇[微软支持文章](http://msdn.microsoft.com/en-us/library/microsoft.visualbasic.compatibility.vb6.support.tablayout.aspx)：

> 在 Visual Basic 6.0 中，Debug.Print 方法有一个 outputlist 参数，用于指定输出在立即窗口中的格式。升级工具使用此函数将 outputlist 参数转换为字符串以显示在立即窗口中。

# java - tomcat中的Java堆空间错误

> ID：11446469
> 
> 赞同：2
> 
> 时间：2012-07-12T06:56:11.097
> 
> 标签：java, tomcat

我正在使用 Tomcat 7.0.28。我已经部署了一个战争文件。在这个war文件中有一个类似服务器的结构，我们可以在其中上传文件。

现在，当我访问该网页时，它正在工作，但是当我尝试上传大文件时，它显示 JAVA Heap Space 错误。

我该如何解决？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-12T07:00:20.430

您可能正在尝试将整个文件放入内存中。您的第一个尝试应该是更改 Tomcat JVM 启动选项中的 -Xmx 参数，以提供更多记忆。除此之外，您必须一次读取一个文件，并将其写入硬盘驱动器，以释放内存。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-12T07:31:43.813

您可以`HeapSize`使用以下命令增加 tomcat 。

**Linux：**打开放在“bin”目录下的**Catalina.sh文件。**您必须将更改应用到此行

```
CATALINA_OPTS="$CATALINA_OPTS -server -Xms256m -Xmx1024m " 
```

**视窗：**

打开“bin”目录下的“ **Catalina.bat ”文件**

```
set CATALINA_OPTS=-server -Xms256m -Xmx1024m 
```

上述更改后重新启动tomcat。

# qt - PySide/PyQt 根据 minimumSize 截断 QLabel 中的文本

> ID：11446478
> 
> 赞同：6
> 
> 时间：2012-07-12T06:57:02.537
> 
> 标签：qt, pyqt4, pyside

我想知道如何根据它的最大宽度/高度最好地截断 QLabel 中的文本。传入的文本可以是任何长度，但为了保持布局整洁，我想截断长字符串以填充最大空间量（小部件的最大宽度/高度）。

例如：

```
 'A very long string where there should only be a short one, but I can't control input to the widget as it's a user given value' 
```

会成为：

```
'A very long string where there should only be a short one, but ...' 
```

根据当前字体所需的空间。

我怎样才能做到最好？

这是我所追求的一个简单示例，尽管这是基于字数，而不是可用空间：

```
import sys
from PySide.QtGui import *
from PySide.QtCore import *

def truncateText(text):
    maxWords = 10
    words = text.split(' ')
    return ' '.join(words[:maxWords]) + ' ...'

app = QApplication(sys.argv)

mainWindow = QWidget()
layout = QHBoxLayout()
mainWindow.setLayout(layout)

text = 'this is a very long string, '*10
label = QLabel(truncateText(text))
label.setWordWrap(True)
label.setFixedWidth(200)
layout.addWidget(label)

mainWindow.show()
sys.exit(app.exec_()) 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-08-01T17:43:12.697

更简单 - 使用 QFontMetrics.elidedText 方法并重载paintEvent，这是一个示例：

```
from PyQt4.QtCore import Qt
from PyQt4.QtGui import QApplication,\
                        QLabel,\
                        QFontMetrics,\
                        QPainter

class MyLabel(QLabel):
    def paintEvent( self, event ):
        painter = QPainter(self)

        metrics = QFontMetrics(self.font())
        elided  = metrics.elidedText(self.text(), Qt.ElideRight, self.width())

        painter.drawText(self.rect(), self.alignment(), elided)

if ( __name__ == '__main__' ):
    app = None
    if ( not QApplication.instance() ):
        app = QApplication([])

    label = MyLabel()
    label.setText('This is a really, long and poorly formatted runon sentence used to illustrate a point')
    label.setWindowFlags(Qt.Dialog)
    label.show()

    if ( app ):
        app.exec_() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-05-20T23:01:48.110

我发现@Eric Hulser 的回答虽然很棒，但在将标签放入另一个小部件时不起作用。

[我通过将 Eric 的响应和 Qt Elided Label Example](https://doc-snapshots.qt.io/qtforpython-5.15/overviews/qtwidgets-widgets-elidedlabel-example.html?highlight=elideright)结合起来想出了这个。如此处所写，它允许传入不同的省略模式并垂直保留文本（当然，它是水平省略的！）。

[根据文档](https://doc-snapshots.qt.io/qtforpython-5.15/PySide2/QtGui/QTextLayout.html?highlight=qtextlayout#detailed-description)实现的布局阶段对我来说并不清楚，所以我不能很好地说明这一点。基本上，它会检查标签文本是否没有超出标签的宽度；如果是这样，它会省略文本。

也不清楚[“有效”行](https://doc-snapshots.qt.io/qtforpython-5.15/PySide2/QtGui/QTextLine.html#PySide2.QtGui.PySide2.QtGui.QTextLine.isValid)是什么意思。删除这些检查会导致应用程序崩溃。我的猜测是，当它没有超出小部件时，这条线是有效的。

如果你想使用 PySide，

*   PyQt5 -> PySide2
*   pyqtSignal -> 信号

总之，享受吧！

```
import sys
from PyQt5 import QtCore, QtWidgets, QtGui

class EliderLabel(QtWidgets.QLabel):

    elision_changed = QtCore.pyqtSignal(bool)

    def __init__(self, text='', mode=QtCore.Qt.ElideRight, **kwargs):
        super().__init__(**kwargs)

        self._mode = mode
        self.elided = False

        self.setSizePolicy(QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Expanding)
        self.setText(text)

    def setText(self, text):
        self._contents = text
        # Changing the content require a repaint of the widget (or so
        # says the overview)
        self.update()

    def text(self):
        return self._contents

    def minimumSizeHint(self):
        metrics = QtGui.QFontMetrics(self.font())
        return QtCore.QSize(0, metrics.height())

    def paintEvent(self, event):

        super().paintEvent(event)

        did_elide = False

        painter = QtGui.QPainter(self)
        font_metrics = painter.fontMetrics()
        # fontMetrics.width() is deprecated; use horizontalAdvance
        text_width = font_metrics.horizontalAdvance(self.text())

        # Layout phase, per the docs
        text_layout = QtGui.QTextLayout(self._contents, painter.font())
        text_layout.beginLayout()

        while True:

            line = text_layout.createLine()

            if not line.isValid():
                break

            line.setLineWidth(self.width())

            if text_width >= self.width():
                elided_line = font_metrics.elidedText(self._contents, self._mode, self.width())
                painter.drawText(QtCore.QPoint(0, font_metrics.ascent()), elided_line)
                did_elide = line.isValid()
                break
            else:
                line.draw(painter, QtCore.QPoint(0, 0))

        text_layout.endLayout()

        self.elision_changed.emit(did_elide)

        if did_elide != self.elided:
            self.elided = did_elide
            self.elision_changed.emit(did_elide)

class MyDialog(QtWidgets.QWidget):

    def __init__(self):
        super().__init__()

        text = 'This is a really, long and poorly formatted runon sentence used to illustrate a point'
        label = EliderLabel(text, parent=self)

        label.elision_changed.connect(self.on_elide)

        layout = QtWidgets.QVBoxLayout()
        layout.addWidget(label)

        self.setLayout(layout)

    def on_elide(self, val):
        print('Elided: ', val, flush=True)

if __name__ == '__main__':
    app = QtWidgets.QApplication([])
    dia = MyDialog()
    dia.show()

    sys.exit(app.exec_()) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T07:06:42.000

您可以通过确定宽度来实现这一点`QFontMetrics`，请参阅[此答案](https://stackoverflow.com/questions/1337523/measuring-text-width-in-qt)。

您可能想要使用或创建一些算法来快速找到剪切的位置，除非在一个简单的 for 循环中执行它就足够了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2022-02-02T06:16:40.753

如果您想在提供区域的中心显示 QLabel，则更简单的解决方案

```
label.setAlignment(Qt.AlignmentFlag.AlignCenter)
label.minimumSizeHint = lambda self=label: QSize(0, QLabel.minimumSizeHint(self).height() ) 
```

# javascript - 重定向到同一页面，但其中包含一条消息

> ID：11446479
> 
> 赞同：0
> 
> 时间：2012-07-12T06:57:02.600
> 
> 标签：javascript, html, ajax, jsp

我正在 JSP 中创建一个登录页面。我有一个`index.jsp`页面存在表单和一些 javascript 脚本。连接到 oracle 数据库并检查数据库中的用户名和密码是在`check1.jsp`文件中完成的

我的问题是，输入用户名和密码后，当我按下登录按钮时，我已将表单链接到`check1.jsp`，如果用户名和密码匹配并存在，它会重定向到`welcome.jsp`，但如果用户名不存在或密码不匹配，我必须返回在`index.jsp` **框下方显示用户名不存在或密码不匹配的小消息**，目前我只是重定向到`index.jsp`。

`index.jsp`我应该如何在同一页面的登录框下方显示适当的小消息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:10:58.640

您可以有一个标志被触发`check1.jsp`并发送回`index.jsp`.

在 中`index.php`，您可以检查该标志是否已打开以显示错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:16:30.933

重定向到`index.jsp?message=<your custom msg>`

然后您可以检查是否设置了消息参数并通过 GET 参数获取它们

***编辑：（评论后）***

我不是 java 程序员，但谷歌搜索给了我这个，

```
if(request.getParameter("message") == null) {
     // User has opened index.jsp for first time (no redirection)
}
else{
    // user has been redirected from check1.jsp
    string message = request.getParameter("message");
    // Do anything with message

} 
```

# javascript - jqGrid没有填充数据？

> ID：11446481
> 
> 赞同：1
> 
> 时间：2012-07-12T06:57:04.943
> 
> 标签：javascript, jqgrid

我已经设置 jqGrid 来显示我的数据，即使数据来自服务器，数据也不会显示在网格中。这是服务器响应。![数据来自这样的服务器](../Images/319bfb9c5f58dfbc793a57ab56e58c2b.png)

这是JavaScript。

```
<table id="Grid1" class="scroll"></table>
<div id="pager" class="scroll" style="text-align:center;"> 
```

```
<script>
$(document).ready(function () {
    jQuery("#Grid1").jqGrid({
            url: 'api/matchingservicewebapi/getuser',
            datatype: 'json',
            mtype: 'GET',
            colNames: ['Id', 'Account', 'Ref', 'BDate'],
            colModel: [
                { name: 'Id', index: 'Id', width: 200 },
                { name: 'Account', index: 'Account', width: 300 },
                { name: 'Ref', index: 'Ref', width: 300 },
                { name: 'BDate', index: 'BDate', width: 300 }

            ],
            rowNum: 10,
            rowList: [10, 20, 30],
            pager: '#pager',
            sortname: 'Id',
            viewrecoreds: true,
            sortorder: "desc",
            imgpath: 'Themes/images'
        }).navGrid(pager, { edit: true, add: true, del: true, refresh: true, search: true });
}); 
```

下面是数据的JSON格式

```
{"Data":{"rows":[{"id":200.0,"cell":["100","AMX.Data.Account","200","1/10/2010 12:00:00 AM"]},{"id":14726632.0,"cell":["600146","AMX.Data.Account","14726632","1/8/2010 12:00:00 AM"]},{"id":6633000.0,"cell":["668152","AMX.Data.Account","6633000","1/8/2010 12:00:00 AM"]},{"id":2053178.0,"cell":["600146","AMX.Data.Account","2053178","1/8/2010 12:00:00 AM"]},{"id":753550.0,"cell":["668152","AMX.Data.Account","753550","1/8/2010 12:00:00 AM"]},{"id":121774.0,"cell":["600146","AMX.Data.Account","121774","1/8/2010 12:00:00 AM"]},{"id":37900.0,"cell":["600146","AMX.Data.Account","37900","1/8/2010 12:00:00 AM"]},{"id":6569.0,"cell":["668152","AMX.Data.Account","6569","1/8/2010 12:00:00 AM"]},{"id":-1124870617.0,"cell":["668152","AMX.Data.Account","-1124870617","1/8/2010 12:00:00 AM"]},{"id":-813658270.0,"cell":["668152","AMX.Data.Account","-813658270","1/8/2010 12:00:00 AM"]}]},"JsonRequestBehavior":0} 
```

但是数据没有被加载。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:18:11.920

正如 Mostafa 和 txominpelu 的评论中所述。尝试如下格式化您的 JSON 结果

```
{"total":1123,
 "page":1,
 "records":1123,
 "rows":[{"id":1174,
          "cell":["1174","4","",...]
        }]
 } 
```

在服务器端

```
public ActionResult GridData(int page, int rows, string searchField = "",
       string searchString = "", string searchOper = "", string sidx = "MY_ID",
       string sord = "desc")
{
    //...
    var jsonData = new {
        total = totalPages,
        page,
        records = totalRecords,
        rows = (from item in items.ToList()
                select new {
                    id = item.MY_ID,
                    cell = new[] {
                        #region items
                        ToSafeString(item.MY_ID), 
                        ToSafeString(item.ShiftID), 
                        //... 
                        #endregion
                    }
                }).ToArray()
    };
} 
```

# xaml - 如何更改 Windows-Phone 中 RadCalendar 的选定颜色？

> ID：11446487
> 
> 赞同：3
> 
> 时间：2012-07-12T06:57:51.687
> 
> 标签：xaml, c#-4.0, telerik, windows-phone-7.1

我正在为我的 WindowsPhone 应用程序使用 Telerik 的 RadCalendar 控件。我想在 WindowsPhone 的 RadCalendar 中更改 SelectedDate 的背景颜色...有什么办法可以更改吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-14T20:04:42.130

您可以通过使用特殊模板来更改 SelectedDay 的属性。这是一天的示例数据模板：

```
<telerikInput:RadCalendar>
  <telerikInput:RadCalendar.ItemTemplate>
    <DataTemplate>
      <Grid Margin="5">
        <TextBlock Text="{Binding DetailText}" FontSize="7" MaxHeight="25" VerticalAlignment="Top" Margin="0,-2,0,0" />
        <TextBlock Text="{Binding Text}" VerticalAlignment="Bottom" HorizontalAlignment="Left" />
      </Grid>
    </DataTemplate>
  </telerikInput:RadCalendar.ItemTemplate>
</telerikInput:RadCalendar> 
```

周末特殊模板示例

```
<?xml version="1.0" encoding="utf-8"?>
<UserControl.Resources>
  <local:WeekendDaySelector x:Key="WeekendDaySelector">
    <local:WeekendDaySelector.SpecialTemplate>
      <DataTemplate>
        <Grid Margin="5">
          <Image Source="/Calendar/Images/SpecialDay.png" Width="24" Height="24" />
          <TextBlock Text="{Binding Text}" x:Name="TextPresenter" VerticalAlignment="Bottom" HorizontalAlignment="Left" />
        </Grid>
      </DataTemplate>
    </local:WeekendDaySelector.SpecialTemplate>
  </local:WeekendDaySelector>
</UserControl.Resources>

<telerikInput:RadCalendar ItemTemplateSelector="{StaticResource WeekendDaySelector}" /> 
```

现在是模板选择器

```
public class WeekendDaySelector : DataTemplateSelector
{
    public DataTemplate SpecialTemplate
    {
        get;
          set;
    }

    public override DataTemplate SelectTemplate(object item, DependencyObject container)
    {
        CalendarButtonContentInfo info = item as CalendarButtonContentInfo;
          CalendarButton button = container as CalendarButton;
          if (!button.IsFromCurrentView) return null;
          if (info.Date == null) return null;
          if (info.Date.Value.DayOfWeek == DayOfWeek.Saturday ||
              info.Date.Value.DayOfWeek == DayOfWeek.Sunday)
          {
               return SpecialTemplate;
          }
          return base.SelectTemplate(item, container);
    }
} 
```

[您可以在此线程](http://www.telerik.com/community/forums/windows-phone/calendar/selected-date-indicator.aspx)中了解更多信息。

# spring - 如何将 GWT 命令模式与 spring 集成

> ID：11446490
> 
> 赞同：0
> 
> 时间：2012-07-12T06:58:17.293
> 
> 标签：spring, gwt, command-pattern, gwt-2.4

我有一个项目，我正在使用 GWT 命令模式来实现 RPC。在这里，我如何将 Spring 与 GWT 集成。没有 Spring 我能够实现 RPC。但是在这里我需要对 GWT 服务器端包使用 Spring Dependency Injection。

我找不到合适的示例或链接来实现它。任何人都可以提供有此要求的链接和示例。

如果没有命令模式，我可以通过参考以下链接将 spring 与 GWT 集成

[http://technophiliac.wordpress.com/2008/08/24/giving-gwt-a-spring-in-its-step/](http://technophiliac.wordpress.com/2008/08/24/giving-gwt-a-spring-in-its-step/)

[https://docs.google.com/document/pub?id=1USHYx9cB3B1s1zM4dlkzEZ759D3lEfavn_dDewvBkaA](https://docs.google.com/document/pub?id=1USHYx9cB3B1s1zM4dlkzEZ759D3lEfavn_dDewvBkaA)

谢谢，萨丽莎

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:08:51.367

如果您使用的是[gwt-dispatch](http://code.google.com/p/gwt-dispatch/)，那么您可以使用[gwt-dispatch-spring-ext](http://code.google.com/p/gwt-dispatch-spring-ext/)使其与 spring 而不是 guice 一起工作。我有一段时间没看这些了——不确定它们的维护程度——请在决定使用它们之前检查一下。

# php - PHP加密方式

> ID：11446491
> 
> 赞同：3
> 
> 时间：2012-07-12T06:58:25.363
> 
> 标签：php, encryption

我有一个具有以下行为的加密方法：密码的每个字符都经过一个方法，该方法获取该字符的 ASCII 值并以一种方式移动字节，然后以另一种方式移动字节，并返回以下内容：

`$shifted_left.$original_char.$shifted_right`.

哈希之前的密码示例：

`àp8Âa0æs9æs9îw;Þo7är9Èd2Îg3Þo7Êe2æs9Ðh4Êe2är9Êe2d2`

在此之后，通过原始密码中的每个字符形成的结果字符串使用 BCrypt 进行散列。用这些垃圾字符包围密码是否会提高密码的强度或保护它们不被彩虹表/字典攻击破解？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T07:04:58.220

通常是的，它确实阻止了*预先计算的*彩虹表，因为您有一个相当独特的算法，可能没有人会为创建彩虹表而烦恼。

但是，相同的密码仍然散列到相同的散列。因此，试图暴力破解所有密码哈希的攻击者会更容易，因为他只需要为所有用户破解相同的密码一次。

因此，仍然非常建议使用用户特定的盐。而且，如果您正在使用具有强大散列算法的用户特定盐，那么您是否也进行移位舞蹈并不重要。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-12T07:50:11.053

如果攻击者可以控制**数据库和代码**，那么添加乱码将毫无帮助（更多的只是一个微不足道的操作）。如果他只有**没有代码的数据库**（SQL-Injection），那么他将识别 bcrypt 哈希并且现在可以使用 bcrypt 暴力破解，但由于加扰，没有任何弱密码。就好像乱码就是破解密码一样，字典是没用的。

这是默默无闻的安全性，但只要代码未知，它就会有效。在使用带有唯一盐的 bcrypt 之前，您可以通过添加一个固定的硬编码盐（密钥）更容易获得相同的效果。

PS bcrypt 中使用的唯一盐将有助于防止彩虹表，而不是加密您的密码。一个大彩虹表还可以包含随机组合，例如您的加密密码。

# solr - 从查询中仅返回特定行（例如，每 10 次：#1、#11、#21...）

> ID：11446492
> 
> 赞同：0
> 
> 时间：2012-07-12T06:58:29.087
> 
> 标签：solr, solrj

我只需要从 Solr 索引中获取特定的（“第 n 行”类型）。例如，如果完整结果包含 10000 行，我只想接收每个 100 项存储桶的第一行和最后一行。

项目 1 和 100 项目 101 和 200 项目 201 和 300...

这种分组是动态的并且取决于结果的数量。因此，如果总结果行只有 5000 行，则存储桶大小为 50 而不是 100。我可以计算实际索引，但问题是如何从 Solr 获取这些索引。

没有可直接用作查询参数的索引字段。在实践中，我正在搜索“名称以 A 开头”（或其他字母），并希望收到以 A 开头的第 1 项，以 A 开头的第 100 项，以 A 开头的第 101 项等...

查询参数[http://wiki.apache.org/solr/CommonQueryParameters](http://wiki.apache.org/solr/CommonQueryParameters)有“rows”和“start”，但这些不能跳过项目，所以我需要用一个单独的查询来获取每个项目，这是低效的。我也在考虑实现一个过滤器查询，它只会过滤掉项目 2...99、192...199，但我不知道如何实现它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T18:00:35.747

我不知道有什么简单的方法可以做到这一点，但这会减少需要来回传递的数据量：使用通常的`start`和`rows`参数进行常规查询，但告诉 Solr 只返回 ID 字段每个文档（通过[`fl`参数](http://wiki.apache.org/solr/CommonQueryParameters#fl)）。在您的客户端代码中，存储第一个和最后一个文档的 ID，并使用下一个值重复查询`start`。到达搜索结果的末尾后，您将获得所需文档 ID 的列表。运行一个新查询并给它你想要返回的文档 ID 列表，这一次获取完整的文档。

# android - CYGWIN 中的 Repo 出现“Python 无法打开文件‘user/bin/repo’”之类的错误

> ID：11446495
> 
> 赞同：4
> 
> 时间：2012-07-12T06:58:38.773
> 
> 标签：android, cygwin, repository

我的电脑上有 Windows 7，我只想按照以下步骤查看 Android 源代码：http://source.android.com/source/downloading.html

我尝试了 CYGWIN 并完全按照教程中的说明进行操作。但这里没有运气：

```
$ repo init -u https://android.googlesource.com/platform/manifest -b android-4.0.1_r1 
```

CYGWIN bash 告诉我这个：

```
C:\Python27\python.exe: can't open file '/home/qhuang/bin/repo': [Errno 2] No such file or directory 
```

实际上这个文件存在，它可能需要一个前缀：

```
C:\cygwin\ 
```

在窗户里。

非常感谢任何人的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-05T14:14:46.140

为了帮助任何（像我一样）以后遇到这个问题的人。在 Cygwin 中安装 python 后，这为我解决了（我在 Windows 中安装了 python，但没有在 Cygwin 中安装）。如果它以 C:/blah/python 的形式返回，您可以检查它是否安装了“which python”，那么您没有在 Cygwin 中安装它；你希望 /usr/bin/python 回来让你知道它是内部 Cygwin 的。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-07-12T07:04:20.500

试试看`cd C:\cygwin\`，也许有帮助

# javascript - D3 不会加载树图

> ID：11446498
> 
> 赞同：3
> 
> 时间：2012-07-12T06:58:47.017
> 
> 标签：javascript, json, tree, d3.js, treemap

我正在尝试将 D3 与 JSON 文件一起使用来创建和显示树状图。很简单，只是为了好玩而尝试 D3。但是，在我将我`tree.js`的脚本放在一起并运行脚本之后，我得到了一个空白页。控制台说

```
XMLHttpRequest cannot load file:///Users/aczre/Desktop/d3TestApp/shreleases.json.
Cross origin requests are only supported for HTTP.

Uncaught TypeError: Cannot read property 'children' of null d3.v2.js:6081
d3_layout_hierarchyChildren d3.v2.js:6081
 recurse d3.v2.js:5990
 hierarchy d3.v2.js:6033
 tree d3.v2.js:6384
 object.nodes d3.v2.js:6074
 (anonymous function) tree.js:17
 d3.json d3.v2.js:514
 ready d3.v2.js:504
 d3.xhr.req.onreadystatechange d3.v2.js:497
 d3.xhr d3.v2.js:500
 d3.text d3.v2.js:510
 d3.json d3.v2.js:513
 (anonymous function) tree.js:16

Uncaught Error: NETWORK_ERR: XMLHttpRequest Exception 101 d3.v2.js:500
 d3.xhr d3.v2.js:500
 d3.text d3.v2.js:510
 d3.json d3.v2.js:513
 (anonymous function) tree.js:16 
```

不知道我做错了什么......这是我的`tree.js`

```
var width = 960,
    height = 2000;

var tree = d3.layout.tree()
    .size([height, width - 160]);

var diagonal = d3.svg.diagonal()
    .projection(function(d) { return [d.y, d.x]; });

var vis = d3.select("#chart").append("svg")
    .attr("width", width)
    .attr("height", height)
    .append("g")
    .attr("transform", "translate(40, 0)");

d3.json("shreleases.json", function(json) { // Line 16
  var nodes = tree.nodes(json);

  var link = vis.selectAll("path.link")
  .data(tree.links(nodes))
.enter().append("path")
  .attr("class", "link")
  .attr("d", diagonal);

  var node = vis.selectAll("g.node")
      .data(nodes)
     .enter().append("g")
      .attr("class", "node")
      .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; })

  node.append("circle")
      .attr("r", 4.5);

  node.append("text")
      .attr("dx", function(d) { return d.children ? -8 : 8; })
      .attr("dy", 3)
      .attr("text-anchor", function(d) { return d.children ? "end" : "start"; })
      .text(function(d) { return d.name; });
}); 
```

我试图坚持 D3 网站[https://github.com/mbostock/d3/wiki/Gallery](https://github.com/mbostock/d3/wiki/Gallery)上列出的示例， 但我不确定我是否完全理解语法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-06-28T10:25:43.890

在 chrome 中，您可以告诉它允许本地文件访问，因此您不需要服务器，例如

> “C:\Program Files (x86)\Google\Chrome\Application\chrome.exe”-allow-file-access-from-files

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-12T07:20:41.780

您可能需要从 Web 服务器发出对 JSON 文件的请求。错误消息抱怨它不是 http 请求，因为您的文件存储在本地。

如果你有一个，你可以把你的 JSON 文件放到你的网络主机上。[或者，您可以使用WAMP 之](http://www.wampserver.com/en/)类的东西创建本地服务器设置。

# r - r 编程：多个 substr

> ID：11446499
> 
> 赞同：4
> 
> 时间：2012-07-12T06:58:49.983
> 
> 标签：r, substring

我有一个想要子串的文本文档。我正在使用以下代码来子串：

```
substr(text, start,start+end) 
```

start 有一个包含 60 个元素的向量。但是，上面的代码只返回`substr(text,1109,1109+199)`. 我如何让它返回所有 60 个元素，即

*   `substr(text,1109,1109+199)`
*   `substr(text,11590,11590+199)`
*   ……

样本数据

```
start

[1] 11009 11590 11972 15674 16274 16659 19866 20541 20963 24787 25376
[12] 25746 29458 30011 30363 34086 34702 35087 38643 39095 39416 42626
[23] 43188 43545 46731 47367 47757 51029 51673 52072 55444 56076 56470
[34] 59794 60445 60851 64267 64877 65276 68659 69200 69547 72747 73303
[45] 73657 76896 77648 78103 81541 82050 82391 85277 85848 86227 89128
[56] 89656 90010 92830 93329 93656

end

[1] 199 199 199 201 201 201 218 218 218 186 186 186 177 177 177 192 192
[18] 192 160 160 160 178 178 178 194 194 194 200 200 200 197 197 197 205
[35] 205 205 200 200 200 174 174 174 178 178 178 235 235 235 171 171 171
[52] 190 190 190 179 179 179 169 169 169 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T07:08:57.830

而不是`substr`你可以使用 substring ：

```
substring(your_text,first=start,last=(start+end)) 
```

# iphone - 无法在 iPhone 设备上找到位置

> ID：11446500
> 
> 赞同：0
> 
> 时间：2012-07-12T06:58:51.807
> 
> 标签：iphone

我添加了查找位置的代码，这在模拟器上工作，但在 iPhone 设备上不起作用。我启用了定位服务，但仍然无法正常工作。

```
-(void)firstTimeRefresh {

CLLocation *bestLocation = [[[AppDelegate getAppDelegate] locationManager] bestLocation];
if ( bestLocation != NULL) {
    NSLog(@"Using Best Loaction");
    [self getArray: [NSArray arrayWithObjects: [NSNumber numberWithFloat:bestLocation.coordinate.latitude], 
                         [NSNumber numberWithFloat: bestLocation.coordinate.longitude], nil] :@"false":page_no];
} 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:02:46.190

试试这个代码和它在我的工作。

> ```
> locationManager = [[CLLocationManager alloc] init];
> [locationManager setDelegate:self];
> [locationManager setDesiredAccuracy:kCLLocationAccuracyBest];
> [locationManager startUpdatingLocation]; 
> ```

在更新位置时，在 .h 类文件中定义 CLLocationManagerDelegate 委托，此函数将被调用。

> ```
> - (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation {
> } 
> ```

# javascript - 如何将客户端javascript返回值传递给ASP经典服务器端

> ID：11446502
> 
> 赞同：3
> 
> 时间：2012-07-12T06:58:59.030
> 
> 标签：javascript, html, asp-classic

# javascript

```
 function test(abc) {
         var ddlArray = new Array();
            var ddl = document.getElementById('AdjusterList');
          for (i = 0; i < ddl.options.length; i++) {
            ddlArray[i] = ddl.options[i].value;
          }
  var indexsel = ddl.selectedIndex;
      return indexsel ;            
     } 
```

* * *

# ASP

```
 strArrayCRN = osRecordSet.RecordCount
                 strArrayCRN2 = osRecordSet2.RecordCount
                 dim StrCount 
                 StrCount =strArrayCRN+strArrayCRN2 
```

* * *

# HTML +ASP

```
<select name="AdjusterList" id="AdjusterList" onchange='test("<%=StrCount%>")'><%
%>
   <option value="0">Please choose an option from the list.</option>
  <% Do While (osRecordSet.EOF = False)
       %><option value="<%=osRecordSet.RowPosition%>">
          <%=osRecordSet.Fields("NAME")%></option>
      <%
     osRecordSet.MoveNext
      Loop        %><%
    Do While (osRecordSet2.EOF = False)
            %><option value="<%=osRecordSet2.RowPosition%>">
           <%=osRecordSet2.Fields("NAME")%></option>
       <%   osRecordSet2.MoveNext    Loop        %> 
```

在这里，我想将函数 test() 的返回值，即所选索引的值传递给 asp 服务器端

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T07:05:49.220

如果您想在正常的html页面提交期间将其发送到服务器，请将返回值放在隐藏字段中。

如果要在表单提交之前发送值，请使用 AJAX。

**隐藏场法**

JavaScript

```
function test(abc) {
         var ddlArray = new Array();
            var ddl = document.getElementById('AdjusterList');
          for (i = 0; i < ddl.options.length; i++) {
            ddlArray[i] = ddl.options[i].value;
          }
  var indexsel = ddl.selectedIndex;
      document.getElementById("returnValueField").value = indexsel;
      return indexsel ;            
     } 
```

HTML

```
<input type="hidden" id="returnValueField" name="returnValueField" /> 
```

在 ASP 中，像访问其他表单域一样访问这个隐藏域。

对于 AJAX，使用[jQuery 之](http://jquery.com)类的库来使事情[变得更容易](http://api.jquery.com/jQuery.ajax/)。

**将 AJAX 与 jQuery 结合使用**

首先，您需要在页面中[包含](http://docs.jquery.com/Tutorials%3aGetting_Started_with_jQuery#Setup)jQuery 库。

然后像这样修改你的函数

```
function test(abc) {
             var ddlArray = new Array();
                var ddl = document.getElementById('AdjusterList');
              for (i = 0; i < ddl.options.length; i++) {
                ddlArray[i] = ddl.options[i].value;
              }
      var indexsel = ddl.selectedIndex;
          // Ajax call starts
          $.ajax({
                 url: "your_asp_page_to_handle_request.asp",
                 data: {"selected_index": indexsel },
                 success: function() { 
                    alert("I am back after sending data sucessfully to server.");}
                 });
          // Ajax call ends  

          return indexsel ;            
         } 
```

**your_asp_page_to_handle_request.asp**中的 ASP 代码将是这样的

```
<%

dim selectedIndex
selectedIndex = Request.QueryString("selected_index")

%> 
```

请注意，您也可以使用[jQuery.get()](http://api.jquery.com/jQuery.get/)代替我们上面使用的 Ajax 函数。

# android - 关注电子邮件 ID 和用户名文本框会导致电子邮件 ID 和密码文本显示在文本框中吗？

> ID：11446506
> 
> 赞同：0
> 
> 时间：2012-07-12T06:59:21.850
> 
> 标签：android, jquery, html

![在此处输入图像描述](../Images/2b75a6187475812d9659658fd8dd9560.png)我有一个基于 html5 的应用程序，我使用两个输入标签来输入电子邮件 ID 和密码。我还为电子邮件 ID 和密码使用了两个标签。现在，当页面加载时，这些文本框中不会出现任何文本，但是当用户尝试在任何文本框中输入一些文本并将光标置于其中时，会出现相应的标签文本。这怎么能去掉。

该问题仅存在于 Android 中，而不存在于 iOS 中。

```
<label for="username" id="EmailAddress"></label>
            <input type="text" class="ui-input-text ui-body-a ui-corner-all ui-shadow-inset error" name="username" id="username" value="" autocorrect="off" autocapitalize="off" autocomplete="off" style="-moz-appearance:none;-webkit-appearance:none;-webkit-tap-highlight-color: rgba(0, 0, 0, 0)!important;" />
            <label for="password" id="Password"></label>
            <input type="password" class="ui-input-text ui-body-a ui-corner-all ui-shadow-inset error" title="" name="password" id="password" value="" style="-moz-appearance:none;-webkit-appearance:none;-webkit-tap-highlight-color: rgba(0, 0, 0, 0)!important;"  /> 
```

谢谢

# wpf - 如何在 WPF MVVM 应用程序中成功登录关闭 LoginView？

> ID：11446507
> 
> 赞同：2
> 
> 时间：2012-07-12T06:59:29.087
> 
> 标签：wpf, mvvm, autowired

我在 MVVM 架构中有一个 WPF 应用程序。当应用程序加载时，我需要显示一个用户输入用户名和密码的“登录”窗口。

然后将其传递给 ServiceLocator，后者会创建一个连接到 WCF 服务的客户端。

问题 ：

客户端成功连接后，如何关闭“登录”窗口，而不使用视图的*“.cs”*文件中的任何代码隐藏？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T08:24:14.700

我通常在 IDialogService 实现中向 ViewModel 传递一个关闭操作。

```
public void ShowDialog(IDialogViewModel vm)
{
    // create the dialog view
    ...
    vm.CloseAction = () => dialog.Close();
    dialog.DataContext = vm;
    ...
    // show the dialog 
    dialog.ShowDialog();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:17:44.577

我使用[对话](https://stackoverflow.com/questions/3801681/good-or-bad-practise-for-dialogs-in-wpf-with-mvvm)服务登录并公开事件

```
event EventHandler<RequestCloseEventArgs> RequestCloseDialog; 
```

当客户端成功登录时关闭对话框。

编辑：这是一个例子

在你的`app.xaml.cs`

```
protected override void OnStartup(StartupEventArgs e)
{
    var result = this._dialogService.Show("Login",this._myloginviewmodel);

    // When use click cancel in the login dialog
    if(!result)
    { 
        // Close app or whatever
    }

    // Access the properties of myloginviewmodel if you want

    // Now the only part of my app where I use view-first instead of viewmodel-first
    this.MainWindow = new MainWindow(_mainwindowviwemodel);
    this.MainWindow.Show();
} 
```

这就是我的全部内容`OnStartup()`，是的，这就是我的代码隐藏`app.xaml`，但这是我的应用程序根目录，这就是为什么这对我来说没问题。我没有 AppViewModel 或类似的东西，因为`app.xaml`永远不会“显示”给用户。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T07:21:58.223

您可以覆盖 Application 类的 OnStartup 方法，您可以在其中将登录屏幕作为对话框打开，一旦用户输入有效数据，您可以返回布尔值，在登录屏幕关闭时，您可以根据布尔值执行进一步的逻辑。

# php - php 2 文件输入字段

> ID：11446508
> 
> 赞同：0
> 
> 时间：2012-07-12T06:59:30.893
> 
> 标签：php

我有一个包含 2 个文件输入字段的表单，但它只从输入字段上传一个文件（第一个文件“u_img”）。下面是输入字段

```
<input name="u_img" type="file" />
<input name="u_upload" type="file" /> 
```

我使用这个 php 上传它。

```
$pic_upload_path = "/home/users/A006193/fgpostbus.nl/www.fgpostbus.nl/enquete/";

// foto 1
if (is_uploaded_file($_FILES['u_upload']['tmp_name']))
{
$pic_loc_1 = $pic_upload_path.md5(time()).'_'.$_FILES['u_upload']['name'];
$rel_pic_loc_1 = "enquete/";
    if (move_uploaded_file($_FILES['u_upload']['tmp_name'],$pic_loc_1))
    {
    //echo "Het bestand is verplaatst naar $pic_loc1!";
    }
$rel_pic_loc_1 .= "".md5(time()).'_'.$_FILES['u_upload']['name']."";
}

if (is_uploaded_file($_FILES['u_img']['tmp_name']))
{
$pic_loc_2 = $pic_upload_path.md5(time()).'_'.$_FILES['u_img']['name'];
$rel_pic_loc_2 = "enquete/";
    if (move_uploaded_file($_FILES['u_img']['tmp_name'],$pic_loc_2))
    {
    //echo "Het bestand is verplaatst naar $pic_loc2!";
    }
$rel_pic_loc_2 .= "".md5(time()).'_'.$_FILES['u_img']['name']."";
} 
```

我已经看这个很久了，我不明白为什么它不起作用。

添加：

结果来自 print_r($_FILES);

```
Array
(
[u_img] => Array
    (
        [name] => natasha.jpg
        [type] => image/jpeg
        [tmp_name] => /tmp/phpXU56Pg
        [error] => 0
        [size] => 5414
    )

[u_upload] => Array
    (
        [name] => DSC_0003.jpg
        [type] => image/jpeg
        [tmp_name] => /tmp/phpb4vAZj
        [error] => 0
        [size] => 110476
    )

) 
```

# c++ - 获取Openssl证书错误中的错误字符串

> ID：11446511
> 
> 赞同：1
> 
> 时间：2012-07-12T06:59:37.833
> 
> 标签：c++, openssl, x509certificate

在 openssl 中，我可以使用以下代码获取证书的错误号：

```
if(SSL_get_peer_certificate(ssl) != NULL){
    if((error = SSL_get_verify_result(ssl)) != X509_V_OK){
        std::cout << "error no = " << error << std::endl;
    }
} 
```

但是，如果我尝试从这个错误中获取错误字符串，如下所示：

```
std::string temp = ERR_error_string(SSL_get_verify_result(ssl), NULL) ; 
```

我得到的是：

```
error:00000013:lib(0):func(0):reason(19) 
```

有没有办法在这里得到确切的原因？我已经使用以下代码加载了错误字符串：

> SSL_load_error_strings();

但我仍然没有得到确切的原因。如果我尝试使用 `std::string a = ERR_reason_error_string(19);`，程序会崩溃。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T08:10:02.950

请使用函数[X509_verify_cert_error_string](http://www.manpagez.com/man/3/X509_verify_cert_error_string/)获取与 OpenSSL 中的证书验证相关的错误。ERR_error_string 为其他 SSL lib 相关错误而不是证书验证失败特定错误提供错误字符串。

至于崩溃，没有原因代码映射到值 19。所有 SSL 错误原因代码都从 100 开始。因此，ERR_reason_error_string 必须返回 NULL，这会导致您的代码崩溃。

# java-me - Java ME 中的 WebView 等效项

> ID：11446513
> 
> 赞同：1
> 
> 时间：2012-07-12T06:59:42.630
> 
> 标签：java-me, nokia

我正在开发一个混合移动应用程序，我们已经为该应用程序提供了一个移动界面，并且我们在 Android 上使用了 WebView 来给用户一种独立应用程序的感觉。问题是我如何在诺基亚手机上做到这一点？

- 谢谢;

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T12:00:57.933

如果您可以使用 LWUIT，则有 HTMLComponent：[http](http://docs.oracle.com/javame/dev-tools/lwuit-1.4/LWUIT_Developer_Guide_HTML/bbjidhgf.html) ://docs.oracle.com/javame/dev-tools/lwuit-1.4/LWUIT_Developer_Guide_HTML/bbjidhgf.html 。

HTMLComponent 最简单的用例是渲染富文本：

```
HTMLComponent htmlC = new HTMLComponent(null);
htmlC.setBodyText("Hello <b>bold text</b>"); 
```

# google-chrome-extension - 你知道使用 IndexeDB 和本地存储的 Chrome / Firefox 扩展吗？

> ID：11446522
> 
> 赞同：1
> 
> 时间：2012-07-12T07:00:20.830
> 
> 标签：google-chrome-extension, firefox-addon, local-storage, local, indexeddb

我需要查看 Chrome 和 Firefox 扩展的运行示例：

1°）IndexeDB 2°）本地存储

如果由 IndexeDB 或“本地存储”中的扩展创建的文件的文件名与网站创建的文件名不同，我现在想知道。

对于 Chrome 中的“本地存储”，文件名以“chrome-extensions”开头，对于 IndexedDB ？对于火狐？

感谢帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T07:46:09.543

是的，扩展程序和网页数据始终是分开的。

*   Firefox 中的 IndexedDB：扩展的数据位于`indexedDB/chrome`配置文件的目录中，网页位于`indexedDB/http+++example.com`.
*   Firefox 中的本地存储：数据存储在`webappsstore.sqlite`数据库中，范围字段确定数据的来源。扩展不能使用本地存储。
*   Chrome 中的 IndexedDB：扩展程序的数据位于`IndexedDB/chrome-extension_...`配置文件中的目录中，网站位于`IndexedDB/http_...`.
*   Chrome 中的本地存储：存储在`Local Storage`配置文件中的目录中。包含扩展数据的文件以 开头`chrome-extension_`，包含网站数据的文件以`http_`或开头`https_`。

# oracle - 从复合主键中删除一列

> ID：11446528
> 
> 赞同：6
> 
> 时间：2012-07-12T07:00:49.763
> 
> 标签：oracle

我想从复合主键中删除一列（不要从表中删除）。如果我的桌子是这样的。

```
create table "scott"."xyz"(
   "column1" not null,
   "column2" not null,
   "column3" not null,
   "column4" not null,
   "column5" not null,
   "column6",
    CONSTRAINT PRIMARY KEY ("column1","column2","column3","column4")
); 
```

我想将此主键更改为前三列而不删除它。因为我不知道约束名称。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T07:06:37.170

您不需要约束名称：

```
 ALTER TABLE "scott"."xyz" DROP PRIMARY KEY;
 ALTER TABLE "scott"."xyz" ADD PRIMARY KEY ("column1","column2","column3"); 
```

但是以后给你的PK起个名字可能是个好主意：

```
 ALTER TABLE "scott"."xyz" 
   ADD CONSTRAINT pk_xyz PRIMARY KEY ("column1","column2","column3"); 
```

而且我不建议使用带引号的标识符。从长远来看，您将遇到各种工具的问题。

# jquery - Jquery Autocomplete - 编程和硬编码响应

> ID：11446533
> 
> 赞同：0
> 
> 时间：2012-07-12T07:01:18.527
> 
> 标签：jquery, autocomplete, jquery-autocomplete

我正在修改一些 jquery 自动完成代码。当前代码运行良好，响应列表以编程方式生成，但我想在我的响应列表顶部添加一个硬编码的“所有公司”，它的作用与响应列表中的其他条目一样。这是我正在使用的代码：

```
 $(function() {
    $( "#report_generator_search" ).autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "lib/test.php",
                dataType: "json",
                type: "POST",
                data: {
                    action: "search_test",
                    featureClass: "P",
                    style: "full",
                    maxRows: 24,
                    searchTerm: request.term
                },
                success: function( f ) {
                    response( $.map( f, function( item ) {
                        return {
                            label: item.company_name + ' ('+item.company_id+') ' + item.generator_address,
                            value: item.company_name,
                            company_id: item.company_id
                        }
                    }));        
                }
            });
        },
        minLength: 1,
    }); 
```

我试过简单地添加另一个响应，但不行：

```
 response( $.map( f, function( item ) {
                        return {
                        label: "All Companies",
                        value: "All Companies",
                        company_id: ""
                    }
                    })); 
```

而且我尝试过前置，它将“所有公司”放在顶部，但该按钮根本不像其他列表元素那样起作用：

```
 $('.ui-autocomplete').prepend('<li class="ui-menu-item" role="menuitem"><a class="ui-corner-all" tabindex="-1">All Companies</a></li>'); 
```

任何帮助，将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T07:15:02.690

您只能调用 response() 一次。您需要创建一个结果列表：

```
success: function( f ) {
    // Begin with your hard-coded choices
    var staticChoices = [
        {
            label: "All Companies",
            value: "All Companies",
            company_id: ""
        }
    ];

    // Parse downloaded choices
    var dynamicChoices = $.map( f, function( item ) {
        return {
            label: item.company_name + ' ('+item.company_id+') ' + item.generator_address,
            value: item.company_name,
            company_id: item.company_id
        }
    });

    // Combine the two :)
    response(staticChoices.concat(dynamicChoices));
} 
```

# css - 在不移动其他元素的情况下放置 HTML/CSS

> ID：11446537
> 
> 赞同：1
> 
> 时间：2012-07-12T07:01:39.970
> 
> 标签：css, html

我试图在菜单右侧放置一个实时聊天按钮而不移动菜单。如果我把它放在菜单内，那么菜单将尝试将它用作一个项目，如果我把它放在上面它会将菜单向下移动，如果我把它放在下面，即使我使用填充它也不会正确对齐。

谁能告诉我如何在页面上自由移动元素而不影响它周围的其他元素（即移动它们）

CSS

```
/*===== header =====*/ 
#header .row-1 { height:110px; background:#0d0d0d; } 
#header .row-1 .logo { position:relative; margin-right: 55px; padding:0px 0 0 0; float:left; } 
#header .nav { float:right; } 
#header .nav li { } 
#header .nav li a { color:#727171; text-decoration:none; } 
#header .nav li a:hover, 
#header .nav li a.current { color:#fff; } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T07:04:41.783

通过`position:absolute`在特定元素上使用，您可以实现它。

例子：

```
 .chat{
     position:absolute;
     right: 0px;
     z-index: 9999;
     width: xyz;
     height: xyz;
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:06:54.693

您可以增加该元素的 z-index，这样它将位于页面中的其他图层之上，并且能够在其他元素上自由移动。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T07:04:39.830

嘿，现在你可以习惯这样的定位了

您的主菜单 div id 赋予相对位置

并像这样给聊天 id position absolute

**css**

```
 .nav{
    position:relative;
    }

.chat{
position:absolute;
right:-20px;
z-index:999;
width:xxx;
height:xxx;
} 
```

HTML

```
<div class="nav">

<div class="chat">
// your chat code here 
</div>
</div> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-12T07:05:00.373

在不知道确切代码的情况下，我认为这样的人会起作用：

将外部容器设置为相对位置。现在，您可以在其中插入一个带有绝对按钮的项目，该项目将覆盖所有其他项目，而无需移动它们。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-12T07:29:40.520

您可以尝试将其放在菜单上方，然后在菜单上使用负边距。

# pdf - ABCPdf 8.1网页到PDF图像压缩问题

> ID：11446538
> 
> 赞同：0
> 
> 时间：2012-07-12T07:01:43.997
> 
> 标签：pdf, pdf-generation, abcpdf

我刚刚从 ABCPdf 6 升级到 ABCPdf 8.1。
我有这个网页，我需要将其转换为 PDF 格式。
升级的全部原因是因为 ABCPdf 6 无法读取汉字，而 8.1 版可以。
我在 ABCPdf 演示站点 (http://www.abcpdfeditor.com/) 上对页面进行了测试，看起来一切正常。（1.2Mb pdf）

但是，当我尝试：

*   运行我自己的后端代码
*   或运行示例中提供的代码
    (C:\Program Files\WebSupergoo\ABCpdf .NET 8.1 x64\ExampleSite)
        - 与 www.abcpdfeditor.com 相同

所有生成的 PDF 都会生成真正像素化/压缩的图像！(121KB)

我要转换的页面是：
[http](http://debug.webpromos.com.au/certificate.htm)
://debug.webpromos.com.au/certificate.htm 据我所知，代码没有问题，但我还是把它附在了下面。 ..
[http://debug.webpromos.com.au/html2pdf.ashx.txt](http://debug.webpromos.com.au/html2pdf.ashx.txt)

我被卡住了，想不出其他任何东西可以使它生成一个 1.2Mb 的 PDF 文档，其中包含由 www 生成的非像素化图像.abcpdfeditor.com！

我希望我提供了足够的信息！

谢谢！威尔弗里德

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-15T23:21:58.640

解决了，我需要做的就是专门选择html引擎。

```
theDoc.HtmlOptions.Engine = EngineType.Gecko; 
```

# sql - where 条件基于绑定变量

> ID：11446539
> 
> 赞同：-3
> 
> 时间：2012-07-12T07:01:45.550
> 
> 标签：sql, oracle

我想要基于 Oracle sql 中的绑定变量对查询执行不同的条件集。这是我尝试过的

表 a 包含

```
a_id    primary key
a_role  varchar2(10)

SELECT  * 
  FROM  a
  WHERE a_role IN ('approved','rejected' , 'needInfo') AND
        :bind = 'new' OR
        :bind != 'new AND
        a_role IN ('complete') AND
        :bind = 'approved' OR
        :bind != 'approved' 
```

简而言之，我正在尝试根据我将在绑定变量中传递的当前角色来选择角色。我想要类似的东西

```
 if(:bind = 'new')
    {select 'approved' , 'rejected' , 'needInfo' }
    else if (:bind = 'approved')
    { select 'complete' } 
```

谢谢 ，

普奈特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T11:57:14.500

您的语句中同时混合了 AND 和 OR 条件，它们可能不会被解释为您想要的。此外，看起来这两个比较`a_role`应该是 OR'd 一起而不是 AND'd。尝试以下操作：

```
SELECT  *
  FROM  a
  WHERE (:bind = 'new' AND
         (a_role IN ('approved','rejected' , 'needInfo')) OR
        (:bind = 'approved' AND
         a_role IN ('complete')) 
```

分享和享受。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T12:00:13.583

我不能确定，因为我不清楚你的原始查询试图做什么——但它应该是这样的，假设你在 sqlPlus 中运行：

```
variable bind varchar2
bind := 'new'
SELECT  *    
FROM  a   
WHERE (:bind = 'new' AND a_role IN ('approved','rejected' , 'needInfo')) 
OR    (:bind = 'approved' AND a_role IN ('complete')) 
```

这篇[文章相当巧妙地解释了薄](http://www.akadia.com/services/ora_bind_variables.html)

# xcode - 如何在 Xcode 中编写运行脚本

> ID：11446549
> 
> 赞同：1
> 
> 时间：2012-07-12T07:02:23.640
> 
> 标签：xcode, ios5, run-script

在我的项目中，我有适用于 iPhone 模拟器和 iPhone 设备的不同框架，例如用于模拟器的 Rest 套件**“libRestKit_simulator.a”**和用于设备的**“libRestKit.a” ，**

我的要求是在 Xcode 中编写一个“运行脚本”以包含基于模拟器或设备的框架。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T12:58:04.263

不确定这是否是最好的解决方案，但它似乎对我有用。

如果您在目标依赖项下添加构建脚本，则添加以下代码。这假设您有 2 个库

1.  图书馆.a
2.  library_simulator.a

该项目将设置为使用 library.a，如果您使用的是模拟器，脚本将删除 library.a 并将其替换为 library_simulator.a。您需要将模拟器添加到您的构建方案中，以确保在构建时构建它，并且两个库都需要相同的接口。

```
if [[ "${SDKROOT}" == *Simulator* ]]
then

    if [[ -f "${BUILT_PRODUCTS_DIR}/library.a"]]
    then
        rm -rf "${BUILT_PRODUCTS_DIR}/library.a"
    fi

    mv "${BUILT_PRODUCTS_DIR}/library_simulator.a" "${BUILT_PRODUCTS_DIR}/library.a"
fi 
```

不知道这对你有多大用处，我只是简单地测试了一下。希望能帮助到你。

# javascript - CSS webkit溢出隐藏和HTML元素高度

> ID：11446550
> 
> 赞同：0
> 
> 时间：2012-07-12T07:02:30.070
> 
> 标签：javascript, html, css, webkit

[http://dev.anuary.com/1f1715ac-ad96-536a-a462-74381c7a2baf/test.html](http://dev.anuary.com/1f1715ac-ad96-536a-a462-74381c7a2baf/test.html) [http://dev.anuary.com/1f1715ac-ad96-536a-a462-74381c7a2baf/test2.html](http://dev.anuary.com/1f1715ac-ad96-536a-a462-74381c7a2baf/test2.html)

`test2.html`是预期的行为。但是，它没有实现`test.html`CSS `body {overflow: hidden;}`。后者是防止 WekKit 过度*滚动*所必需的。

本质上，我需要一个禁用 WebKit 过度滚动的页面，*元素*的 DOM 宽度和高度为 100%（100% 表示窗口大小）和`overflow-y: scroll`. 我设法弄清楚的唯一解决方法是使用 JavaScript 为或包装元素提供固定高度。不过，最好我正在寻找不涉及 JS 的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:08:37.950

您需要设置`height: 100%;`，`html`否则`body`它们将比可见窗口大小大得多。

演示：http: [//jsfiddle.net/ThinkingStiff/8ejtP/](http://jsfiddle.net/ThinkingStiff/8ejtP/)

```
html, body {
    height: 100%;
} 
```

# apache-flex - 在按钮栏内的单个按钮上设置 Horizo ntalGap 和 with

> ID：11446551
> 
> 赞同：0
> 
> 时间：2012-07-12T07:02:41.700
> 
> 标签：apache-flex, flex3

我有以下切换按钮栏：

```
<mx:ToggleButtonBar buttonWidth="85" height="45" id="menuBar" width="595" x="0" y="23">
        <mx:dataProvider>
            <mx:Object data="{LocalConfig.CONNECTION_STATE}" icon="@Embed(source='resources/images/Bonjour.png')" label="   "/>
            <mx:Object data="{LocalConfig.LANGUAGES_STATE}" icon="@Embed(source='resources/images/languages.png')" label="   "/>
            <mx:Object data="{LocalConfig.TAGGING_STATE}" icon="@Embed(source='resources/images/tag.png')" label="   "/>
            <mx:Object data="{LocalConfig.FONT_MAPPING_STATE}" icon="@Embed(source='resources/images/FontPanel.png')" label="   "/>
            <mx:Object data="{LocalConfig.ERROR_CHECKING_STATE}" icon="@Embed(source='resources/images/Clear-Green-Button.png')" label="   "/>
            <mx:Object data="{LocalConfig.USERS_STATE}" icon="@Embed(source='resources/images/UserAccounts.png')" label="   "/>
            <mx:Object data="{LocalConfig.UPLOAD_STATE}" icon="@Embed(source='resources/images/Network.png')" label="   "/>
        </mx:dataProvider>
    </mx:ToggleButtonBar> 
```

我想要的是最后一个按钮有一个 10 像素的水平间隙，因此它与其他按钮分开。我还希望它比其他按钮小一点。有可能做到还是我应该尝试不同的方法？我也尝试将它定义为一个单独的按钮，但随后你失去了按下按钮的效果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T17:57:44.783

您可以使用以下方法为切换按钮栏中的最后一个元素定义不同的样式：

```
lastButtonStyleName 
```

使用它，您可以随意设置它的样式。

如果您需要更深入，您可以扩展 ToggleButtonBar 类并根据需要在那里进行覆盖。:)

# javascript - html 可见性样式不起作用

> ID：11446552
> 
> 赞同：0
> 
> 时间：2012-07-12T07:02:43.160
> 
> 标签：javascript, html, css

我有一个奇怪的问题。我有按钮“NextButton”，我最初想隐藏它，但是当单击复选框时，它应该会出现。下面的代码不起作用，也没有给出任何错误。我已经在 IE9 和 FireFox 13 上对其进行了测试，我搜索了其他问题，但找不到我遇到的问题......

```
<html>
<head>
<script language="javascript">
        function enableNext() {
            alert("clicked");

            var s1 = document.getElementsByName("NextButton");
            s1.style.visibility = "visible";
        } 
    </script>
</head>

<body>
<input type="submit" name="NextButton" value="Next" style="visibility:hidden;"/>
<input type="checkbox" onClick="enableNext()" />
</body>

</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T07:05:34.833

在您的代码中返回一个数组，并且您正在将样式应用于数组。将其更改为下面的代码。

```
 function enableNext() {
            alert("clicked");

            var s1 = document.getElementsByName("NextButton")[0];//Get the first and only button in your case
            s1.style.visibility = "visible";
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:11:01.693

您应该`id`在 HTML 元素中使用，然后`document.getElementById()`. 这将给出完全匹配的元素。

```
<script language="javascript">
        function enableNext() {
            alert("clicked");

            var s1 = document.getElementById("NextButton");
            s1.style.visibility = "visible";
        } 
</script> 
```

`<input type="submit" id="NextButton" name="NextButton" value="Next" style="visibility:hidden;"/`>

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T07:05:23.580

document.getElementsByName 返回一个匹配元素的数组，您必须遍历它并更改数组中各个项目的样式。您可以使用 jQuery 轻松处理它，`$("[name='NextButton']").css("visibility", "visible")`或者如果您想使用 css`display`属性，您可以使用`$("[name='NextButton']").show()`或`.hide()`. 此外，如果您不想使用 jQuery，您可以只使用 id 而不是使用`getElementsByName`use `getElementById`，它将返回您需要的单个元素。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T07:05:55.757

我想你应该尝试单独使用 css 而不是 javascript。

尝试使用

```
document.getElementsByName("NextButton")[0]; 
```

# c# - EF 4.3 没有存储库的上下文

> ID：11446554
> 
> 赞同：1
> 
> 时间：2012-07-12T07:02:49.183
> 
> 标签：c#, entity-framework

我想在不使用存储库的情况下直接在业务/服务层中使用 EF，但想知道如果我想使用测试数据库使类可测试，创建/处理上下文的最佳位置在哪里？

它应该在服务构造函数中使用 DI 并将类标记为 IDisposable 并在那里摆脱它还是只是将每个调用包装在 using 块中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T10:09:33.570

我不确定您是否不愿意使用存储库类，但这是我一直在为我的服务层创建破坏 EF 上下文的地方。

因此，对于我的 MVC Web 应用程序，我使用 Autofac 和生命周期范围注册存储库

```
builder
       .RegisterType<AccountRepository>()
       .AsImplementedInterfaces()
       .InstancePerLifetimeScope(); 
```

我的帐户服务将从容器中获取对存储库实例的引用，并将在 Web 请求的整个生命周期内访问单个上下文。请求完成后，Autofac 将在存储库上调用 dispose 并清理上下文。

```
public sealed class AccountRepository : IAccountRepository, IDisposable
{
    private AccountContext _context = new AccountContext();

    public IList<AccountEntity> GetAccounts()
    {
        return _context.Accounts
            .OrderBy(x => x.Name)
            .ToList();
    } 

    public void Dispose()
    {
        _context.Dispose();
        _context = null;
    }
} 
```

# emacs - 当缓冲区等于文件时，EMACS如何重置缓冲区修改标志

> ID：11446559
> 
> 赞同：2
> 
> 时间：2012-07-12T07:03:00.763
> 
> 标签：emacs

当缓冲区等于文件但被标记为已修改时，有没有办法重置缓冲区修改标志？在这种情况下，我希望 emacs 不要要求我保存。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T13:28:15.450

鉴于您已经`diff`安装，这将做到这一点：

```
(defun my-update-modified-flag ()
  "Update the buffer modified flag."
  (interactive)
  (let* ((buffer (current-buffer))
         (basefile
          (or (buffer-file-name buffer)
              (error "Buffer %s has no associated file" buffer)))
         (tempfile (make-temp-file "buffer-content-")))
    (with-current-buffer buffer
      (save-restriction
        (widen)
        (write-region (point-min) (point-max) tempfile nil 'silent)))
    (if (= (call-process "diff" nil nil nil basefile tempfile) 0)
        (progn
          (set-buffer-modified-p nil)
          (message "Buffer matches file"))
      (message "Buffer doesn't match file"))
    (delete-file tempfile))) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:22:21.817

你可以使用这个表达式：

```
(set-buffer-modified-p nil) 
```

谨防！即使缓冲区确实被修改，它也会清除**标志**。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-09-01T01:22:07.020

受@scottfrazer 回答的启发，我编写了一组函数来自动检查与文件关联的缓冲区是否应更新为“未修改”：

# [`unmodified-buffer.el`](https://github.com/arthurcgusmao/unmodified-buffer)

对原始代码的一些改进是：

*   首先比较文件大小以避免不必要的运行差异/创建临时文件；
*   将要比较的文件大小限制为 50kb 以获得良好的性能；
*   必要时自动执行状态更新的挂钩；
*   Timer calls to make checking run only after an idle time period;
*   `combine-after-change-calls` so that Emacs can handle `'after-change-functions` hook more efficiently.

To be honest I am not so experienced with Elisp although I have been hacking with Emacs for a few years. I would appreciate very much the community's feedback to help improve this. Hope this can help!

# linq - 如何使用 Linq C# 获取层次结构

> ID：11446562
> 
> 赞同：0
> 
> 时间：2012-07-12T07:03:18.317
> 
> 标签：linq, c#-4.0

我遇到了 linq c# 的问题，我的数据库中有三个表首先是 `tbl_ActivitiesMaster (this contain Parent Child Data)`

```
CREATE TABLE  
tbl_ActivityMaster
(intActivityId int IDENTITY(1,1) NOT NULL,  
strActivityDesc varchar(max) NULL,  
intActivityUOMId int,
dtDatetime datetime,
IsParentActivity int,
IsAlerternateActivity int NULL,
intParentToId int NULL,
intTaskId int NULL,
intAlternateId int NULL,
CONSTRAINT PK_tbl_ActivityMaster PRIMARY KEY CLUSTERED  (   
[intActivityId] ASC )
WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS 
= ON, ALLOW_PAGE_LOCKS  = ON) 
ON [PRIMARY] ) ON [PRIMARY] 
```

其次是`tbl_TendersTaskActivities`

```
CREATE TABLE tbl_TendersTaskActivities(
    intID [int] IDENTITY(1,1) NOT NULL,
    intTaskId [int] NULL,
    intTenderId [int] NULL,
    intProjectWorkGroupId [int] NULL,
    intActivityId [int] NULL,
    ftActivityQty [float] NULL,
    ftActivityRate [float] NULL,
    intUomId int NULL,
    dtTaskStartDate [datetime] NULL,
    dtTaskCompletionDate [datetime] NULL,
    intFlag [int] NULL,
    IsCanceled [bit] NULL,
 CONSTRAINT [PK_tbl_TendersTask] PRIMARY KEY CLUSTERED 
(
    [intID] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY] 
```

我想要来自表 tbl_TendersTaskActivities 的数据，其中活动的父级作为层次结构输出请有人可以解决这个问题提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:08:31.723

```
from m in DataContext.tbl_ActivityMaster
             join d in DataContext.tbl_TendersTaskActivities on m.intActivityId equals d.intActivityId    into temp
             from t in temp.DefaultIfEmpty()
             group SysDocument by m 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T20:00:33.240

在 LinqToSql 中，您将使用`DataLoadOptions`拉入相关记录：

```
DataLoadOptions myOptions = new DataLoadOptions();
myOptions.LoadWith<ActivityMaster>(x => x.TendersTaskActivities);

using (CustomDataContext myDC = new CustomDataContext(connStr))
{
  myDC.LoadOptions = myOptions;

  List<ActivityMaster> masters = myDC.ActivityMasters
    .Where(filter)
    .ToList();  //TendersTaskActivities also loaded.
  return masters; 
} 
```

# sql - 我想验证一条 SQL 语句，然后返回它是否有效？

> ID：11446565
> 
> 赞同：0
> 
> 时间：2012-07-12T07:03:30.170
> 
> 标签：sql, sql-server, sql-server-2008

我已经制作了一个存储过程，我希望它根据 SQL 语句是否有效返回 true 或 false。

```
Create PROCEDURE [dbo].[CheckSQLStatement]
@SQL varchar(8000)
AS

SET NOEXEC ON
Exec @SQL 
SET NOEXEC OFF 
```

这是我到目前为止所拥有的，当语句有效时，在 SQL Server 管理工作室中，结果是***命令成功完成。***如果语句 i 无效，它会返回错误消息，EG ***'Selec' 附近的语法不正确。***

首先，如果语句有效，我如何返回 false 的值 True。

其次，我怎样才能返回无效的错误信息？

我在想类似的事情：

```
Create PROCEDURE [dbo].[CheckSQLStatement]
@SQL varchar(8000),
@IsValid bit OUTPUT,
@text NVARCHAR(1000)OUTPUT
AS

 SET NOEXEC ON
 Exec @SQL 
 SET NOEXEC OFF

Select @Isvalid
Select @Text 
```

但我不知道如何设置这些值？

有没有更好的方法？

任何帮助将不胜感激，在此先感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:48:54.840

我也在解决这个问题，我的解决方案涉及

```
 BEGIN TRANSACTION
   BEGIN TRY
       ... execute sql
       ROLLBACK TRANSACTION
   END TRY
   BEGIN CATCH
      WHILE @@TRANCOUNT > 0
         ROLLBACK

      ... check ERROR_*() functions
   END CATCH 
```

完整的 TSQL 代码在[我的博客上](http://devio.wordpress.com/2009/11/26/checking-ms-sql-server-stored-procedures/)，并且有一个[应用程序](http://devio.wordpress.com/2010/05/28/checking-ms-sql-server-objects/)。

# shell - 在 unix 中的 if 语句中使用 grep

> ID：11446566
> 
> 赞同：0
> 
> 时间：2012-07-12T07:03:31.767
> 
> 标签：shell, unix

我是 UNIX 的新手 我正在尝试编写一个脚本，它将在某个单词上 grep 并打印找到它的行和文件，如果它可用，如果它没有找到，则回显不可用

这是我的代码

```
#!/bin/csh
foreach file(`cat file1`)
set a=`echo $file | grep -n "ok"  `
if(" $a" -ne 0 ) then
echo "$a" | echo $file
else
echo "not found"
endif
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:16:16.610

正确的语法是

```
#!/bin/csh
foreach file(`cat file1`)
set a=`echo $file | grep -n "ok"  `
if(" $a" != " " ) then
echo "$a"
echo $file
else
echo "not found"
endif
end 
```

# java - 从安全约束中排除欢迎页面或 webroot（仅/）

> ID：11446568
> 
> 赞同：1
> 
> 时间：2012-07-12T07:03:35.437
> 
> 标签：java, security, struts2

我正在为 web.xml 配置而苦苦挣扎 这就是我所拥有的

```
<welcome-file-list> 
<welcome-file>/jsp/index.jsp</welcome-file> 
</welcome-file-list> 

<security-constraint> 
<display-name>Unsecure pages</display-name> 
<web-resource-collection> 
<web-resource-name>Unsecure pages</web-resource-name> 
<url-pattern>/jsp/index.jsp</url-pattern> 
</web-resource-collection> 
</security-constraint> 

<security-constraint> 
<display-name>Secure root resources</display-name> 
<web-resource-collection> 
<web-resource-name>Secure root resources</web-resource-name> 
<url-pattern>/*</url-pattern> 
</web-resource-collection> 
<auth-constraint> 
<role-name>RoleA</role-name> 
</auth-constraint> 
</security-constraint> 

<security-constraint> 
<display-name>Specific secure recourses</display-name> 
<web-resource-collection> 
<web-resource-name>Specific secure recourses</web-resource-name> 
<url-pattern>/home</url-pattern> 
<url-pattern>/search</url-pattern> 
</web-resource-collection> 
<auth-constraint> 
<role-name>RoleA</role-name> 
<role-name>RoleB</role-name> 
</auth-constraint> 
</security-constraint> 

and in the index.jsp i have this 
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"> 
<html> 
<head> 
<title>TITLE</title> 
<meta http-equiv="REFRESH" content="0; url=/mpbo/home"></HEAD> 
</HTML> 
```

我想要实现的是 RoleA 应该具有对站点的完全访问权限，而 RoleB 应该只能访问主页和搜索页面 主页是 RoleA 和 RoleB 的默认页面

我遇到的问题仅与 RoleB 中的用户有关当我作为 RoleB 的用户转到 `http://localhost:8080/mpbo/`登录页面时，我被提示进入登录页面，我登录它工作正常，然后重定向到 /jsp/index.jsp（欢迎文件) 它试图将我重定向到 /mpbo/home 文件夹，但在这里我得到访问被拒绝。如果我在登录后直接浏览到 /mpbo/home 文件夹，则成功如果我直接浏览到 /jsp/index.jsp 文件，它将成功将我重定向到 /mpbo/home 页面

所以我认为问题在于实际 / 对其有限制。我尝试添加一个带有 / only 且没有约束的 url 模式，甚至使用 RoleA 和 RoleB 但它也不起作用。

有什么想法可以让这个工作吗？

# r - 数据框行名如何在 R 中工作？

> ID：11446570
> 
> 赞同：0
> 
> 时间：2012-07-12T07:04:09.017
> 
> 标签：r

我有一个如下所示的数据框。

```
 > avg_data
            date  region AveElapsedTime
    1   5/1/2012 preprod             23
    2   5/2/2012    prod             76
    3   5/3/2012    Beta             34
    4   5/4/2012    prod             30
    5   5/5/2012    Beta             22
    6   5/6/2012 preprod             32
    7   5/7/2012    Beta             21
    8   5/8/2012    prod             44
    9   5/9/2012 preprod             45
    10 5/10/2012    Beta             23
    11 5/11/2012    prod             50
    12 5/13/2012    Beta             26
    13 5/14/2012 preprod             33
    14 5/15/2012    Beta             75
    15 5/16/2012 preprod             56
    16 5/17/2012    Beta             32
    17 5/18/2012 preprod             67
    18 5/19/2012    prod             40 
```

当我使用 cbind 时，它没有给出正确的行号..

```
 > cbind(avg_data[avg_data$region == "preprod", "date" ], avg_data[avg_data$region == "preprod", "AveElapsedTime" ])
         [,1] [,2]
    [1,]    3   23
    [2,]   15   32
    [3,]   18   45
    [4,]    5   33
    [5,]    7   56
    [6,]    9   67 
```

这在绘制图表时会出现问题。我将日期作为 x 轴，将 AveElapsedTime 值作为 Y 轴。不是从 2012 年 5 月 1 日开始第一个绘图，而是从 2012 年 5 月 3 日开始，并尝试根据上面给出的行号进行绘图。

如果显示如下，则图形将正确显示..请指教..

```
 Rownumber AveElapsedTime
         [,1] [,2]
    [1,]    1   23
    [2,]    6   32
    [3,]    9   45
    [4,]   13   33
    [5,]   15   56
    [6,]   17   67 
```

这是我的代码..现在正在运行..需要更改线条的颜色..

```
 avg_data <- read.table("qes.tbl", header=T, sep=",")
    avg_data
    #        dl <- avg_data[avg_data$region == "prod", "AveElapsedTime"]
            #datel <- avg_data[avg_data$region == "prod", "date"]
    #Creating the graph pdf in the below path to give as a link in the mail
    FL <- 20120631
    file <- paste("graph", FL, "pdf", sep=".")
    plot_colors <- c("blue","red","forestgreen","black")
    pdf(file, height=4.5, width=9.5, onefile=TRUE)
    graphplot <- function(l, REG, tl, num) {
            dl <- REG[REG$region == l, tl]
            datel <- REG[REG$region == l, "date"]
            dl <- cbind(as.numeric(rownames(REG[REG$region == l, ])), REG[REG$region == l, tl])
            lines(dl, type="l", pch=2, col=plot_colors[num])
            num <- num + 1
    }
    drawGraph <- function(ab, y, z, s) {
            #Creating X axis
            x <- ab[ab$region == "Beta", z]
            y <- ab[,1]
            g_range <- range(0,x[!is.na(x)])
            plot(NA, type="l", col="orange", xlim= c(1, length(y)),  ylim=g_range,axes=FALSE, ann=FALSE)
            num=1
            sapply(unique(ab$region[ab$region]), FUN=graphplot, REG=ab, tl=z, num)
            box()
            axis(1, at=1:length(y), lab=FALSE)
            text(1:length(y), par("usr")[3] - 2, srt=45, adj=1.2, labels=y, xpd=T, cex=0.3)
            scale <- s
            axis(2, las=1, at=scale*0:g_range[2], cex.axis=0.3)
            main_title<-as.expression(z)
            #Caculationg Mean, Upper limit and lower limit using the below commands
            MEANLIMIT <- seq(length=length(y), from=mean(x), by=0)
            ULIMIT <- seq(length=length(y), from=mean(x) + 2.66*sum(abs(diff(x)))/length(x), by=0)
            LLIMIT <- seq(length=length(y), from=mean(x) - 2.66*sum(abs(diff(x)))/length(x), by=0)
            lines(MEANLIMIT, type="l", col="black")
            lines(ULIMIT, type="l", pch=2, lty=2, col="grey")
            lines(LLIMIT, type="l", pch=2, lty=2, col="black")
            title(main=main_title, col.main="red", font.main=4)
            title(xlab="Test Execution Date", col.lab=rgb(0,0.5,0))
            title(ylab="Millisecond", col.lab=rgb(0,0.5,0))
            legend("topright", g_range[2], main_title, cex=0.4, col=c("blue"), lty=1);
    }
    lab<-as.character(avg_data$date)
    AET <- avg_data$AveElapsedTime
    MTitle <- "AveElapsedTime"
    #Creating graph for Average Elapsed time
            drawGraph(avg_data, lab, MTitle, 5) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T07:11:54.283

似乎您想从数据框中进行简单的提取，其中`region=="preprod"`.

这样做的方法是：

```
avg_data[avg_data$region=="preprod", c("date", "AveElapsedTime")]

        date AveElapsedTime
1   5/1/2012             23
6   5/6/2012             32
9   5/9/2012             45
13 5/14/2012             33
15 5/16/2012             56
17 5/18/2012             67 
```

* * *

要绘制数据，您需要将日期字符串转换为实际日期：

```
x <- avg_data[avg_data$region=="preprod", c("date", "AveElapsedTime")]
x$date <- as.Date(x$date, format="%m/%d/%Y")
x

         date AveElapsedTime
1  2012-05-01             23
6  2012-05-06             32
9  2012-05-09             45
13 2012-05-14             33
15 2012-05-16             56
17 2012-05-18             67 
```

* * *

然后我会`ggplot`像这样绘制它：

```
library(ggplot2)
x <- avg_data[avg_data$region=="preprod", c("date", "AveElapsedTime")]
ggplot(x, aes(date, AveElapsedTime)) + geom_bar(stat="identity") 
```

## ![在此处输入图像描述](../Images/f5a2b3b8a694f0f97d737488e59a957d.png)

或在基本图形中：

```
x <- avg_data[avg_data$region=="preprod", c("date", "AveElapsedTime")]
plot(AveElapsedTime ~ date, data=x) 
```

![在此处输入图像描述](../Images/31219c226b95f3c49f9bf0242544857a.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:11:11.100

这对你有用吗：

```
library(lubridate)
avg_data$date <- mdy(avg_data$date)
avg <- data.frame(avg_data[avg_data$region == "preprod", "date" ], avg_data[avg_data$region == "preprod", "AveElapsedTime" ])
plot(avg) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T07:19:44.170

似乎您只要求将行号作为第一列。如果是这样：

```
cbind(as.numeric(rownames(avg_data[avg_data$region == "preprod", ])), 
      avg_data[avg_data$region == "preprod", "AveElapsedTime" ])
#      [,1] [,2]
# [1,]    1   23
# [2,]    6   32
# [3,]    9   45
# [4,]   13   33
# [5,]   15   56
# [6,]   17   67 
```

如果您还想重命名流程中的列：

```
cbind(Rownames = as.numeric(rownames(
  avg_data[avg_data$region == "preprod", ])), 
      AveElapsedTime = avg_data[avg_data$region == "preprod", 
                                "AveElapsedTime" ]) 
```

# apache - 将请求重定向到路由器

> ID：11446572
> 
> 赞同：-2
> 
> 时间：2012-07-12T07:04:19.500
> 
> 标签：apache, wifi, wamp, router

我有一个无线路由器，想强制连接到它的人自动转发到我的本地 Apache(WAMP) 安装。

因此，当人们连接到我的 WI-FI 并启动浏览器时，它会显示我所拥有的，他们无法建立外部连接。

保重，李

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T16:08:43.720

这称为强制门户，并在多个开源产品中实现。看一眼：

*   辣椒酱
*   库瓦辣椒
*   无线狗
*   NoDogSplash
*   NoCatSplash

几个开源固件替代品都带有一个内置的强制门户。我知道[DD-WRT](http://www.dd-wrt.com/wiki/index.php/Captive_Portal)是开箱即用的。 [OpenWRT](http://wiki.openwrt.org/doc/howto/wireless.hotspot)、[Tomato](http://www.polarcloud.com/tomato/)和其他人支持某种强制门户，但我不确定设置是什么样的。

如果您不需要让人们进入开放的互联网，您可以安装上面的开源固件之一并使用防火墙将所有端口 80 流量重定向到您的 Apache 服务器的 IP 地址。

# c# - 窗体颜色

> ID：11446577
> 
> 赞同：0
> 
> 时间：2012-07-12T07:04:31.107
> 
> 标签：c#, winforms

我在 windows xp 中使用 Visual Studio 2010 创建了 windows 窗体应用程序，问题是，移动到 W7 等其他版本..或在我的系统中将主题更改为升级版本也会改变窗体的颜色，所以有人能告诉我如何更改窗体无论这些元素如何，都根据操作系统或主题动态着色？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:25:45.160

如果您不想使用系统主题，请在应用程序启动时添加此代码：

```
Application.VisualStyleState =
    System.Windows.Forms.VisualStyles.VisualStyleState.NoneEnabled; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:53:45.747

您只需从`Program.cs`文件中注释以下代码：

```
Application.EnableVisualStyles(); 
```

然后应用您想要的任何颜色或主题，无论操作系统如何，它都会受到影响。

# oauth - 使用 OpenID 时如何实现 SSO

> ID：11446579
> 
> 赞同：1
> 
> 时间：2012-07-12T07:04:35.997
> 
> 标签：oauth, openid, single-sign-on

我必须为我们所有的企业应用程序实施 SSO。这些应用程序可能驻留在不同的域中。我们控制所有应用程序的代码库，并且可以对其进行修改。

我们还为所有应用程序实现 OpenID 登录，如果用户尝试访问任何应用程序，他们将被自动重定向到自定义 openid 提供程序。OP 端点将被硬编码，所有用户将被重定向到此提供程序进行身份验证。

现在我们面临的一个挑战是如何实现 SSO。我们希望，如果用户曾经登录过，那么他不必再次登录另一个应用程序。我们如何做到这一点？

这方面的任何指示都可以完成吗？

谢谢，穆尔塔萨

# silverlight - 我可以在 Silverlight 上播放 xesc 文件吗？

> ID：11446580
> 
> 赞同：1
> 
> 时间：2012-07-12T07:04:36.110
> 
> 标签：silverlight, expression-encoder, expression-encoder-sdk, expression-encoder-4

感觉很奇怪，看不懂

为什么 xesc，Expression Encoder 4 Screen Capture 的输出，不能在 Silverlight 上播放？？

为什么 ScreenCaptureVideoProfile 编解码器总是未知的？

左手不知道右手在做什么？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-16T21:25:59.213

来自 Microsoft Expression Encoder 团队的回答

> XESC 编解码器针对屏幕捕获进行了优化，具有依赖于平台的依赖项，因此并不真正适合 Silverlight 模型。

[http://social.expression.microsoft.com/Forums/en-US/encoder/thread/12115880-e529-477f-a44d-2577e30770ac/](http://social.expression.microsoft.com/Forums/en-US/encoder/thread/12115880-e529-477f-a44d-2577e30770ac/)

# asp.net-mvc - asp.net authentication mode="Forms" 超时不起作用

> ID：11446591
> 
> 赞同：0
> 
> 时间：2012-07-12T07:05:13.930
> 
> 标签：asp.net-mvc, redirect, form-authentication

在过去的两天里，我遇到了这个问题。我的 MVC 项目正在使用表单身份验证。我将超时设置为 1 分钟（仅用于测试）。它成功超时。因为一分钟后页面不起作用。但我需要重定向到我的登录页面。我在表单身份验证中提供了登录网址。但它不会起作用。任何人请建议我解决这个问题。代码如下

```
<authentication mode="Forms">

<forms loginUrl="~/Login/Login" path="/" timeout="1" protection="All" />

</authentication> 
```

获取超时时，错误显示在以下代码中。通过这个错误，我发现超时将成功发生，但重定向只是一个问题。

```
public ActionResult Employee()
        {

            mod.StateDetails = objentity.ExecuteFunction<GetStateDetails_Result>("GetStateDetails").ToList();
            List<ObjectParameter> lstParam = new List<ObjectParameter>();
            int Divsion = Convert.ToInt32(logmodel.getDivisionId().ToString());
            ObjectParameter objparam5 = new ObjectParameter("Division", Divsion);
            lstParam.Add(objparam5);
            mod.custinfo = objentity.ExecuteFunction<GetCustomerInfoByDivision_Result>("GetCustomerInfoByDivision", lstParam.ToArray()).ToList();
            mod.SkillInfo = objentity.ExecuteFunction<GetSkillInfo_Result>("GetSkillInfo").ToList();
            mod.DivisionDetails = objentity.ExecuteFunction<GetDivisionDetails_Result>("GetDivisionDetails").ToList();
            int roleid = Convert.ToInt32(logmodel.getRoleId().ToString());
            mod.RoleId = roleid;
            return View(mod);
        } 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:27:27.777

`[Authorize]`如果您希望在访问需要身份验证的控制器操作时重定向用户，则必须使用该属性装饰您的控制器操作：

```
[Authorize]
public ActionResult Employee()
{
    mod.StateDetails = objentity.ExecuteFunction<GetStateDetails_Result>("GetStateDetails").ToList();
    List<ObjectParameter> lstParam = new List<ObjectParameter>();
    int Divsion = Convert.ToInt32(logmodel.getDivisionId().ToString());
    ObjectParameter objparam5 = new ObjectParameter("Division", Divsion);
    lstParam.Add(objparam5);
    mod.custinfo = objentity.ExecuteFunction<GetCustomerInfoByDivision_Result>("GetCustomerInfoByDivision", lstParam.ToArray()).ToList();
    mod.SkillInfo = objentity.ExecuteFunction<GetSkillInfo_Result>("GetSkillInfo").ToList();
    mod.DivisionDetails = objentity.ExecuteFunction<GetDivisionDetails_Result>("GetDivisionDetails").ToList();
    int roleid = Convert.ToInt32(logmodel.getRoleId().ToString());
    mod.RoleId = roleid;
    return View(mod);
} 
```

Authorize 属性将验证用户是否提供了有效的身份验证 cookie，如果没有将他重定向到您在 web.config 文件中指定的登录页面。

# sql - 我如何决定是否应该使用 CTE？

> ID：11446592
> 
> 赞同：5
> 
> 时间：2012-07-12T07:05:16.097
> 
> 标签：sql, database, sql-server-2008, tsql, common-table-expression

请耐心等待，我是中级新手。

我的问题是 - 我应该什么时候使用 CTE？我如何决定是否应该使用 CTE？

我什么时候应该使用这个：

```
;with cteTesting as
(
    select  *
    from    testing.first_table
)
select  *
from    testing.second_table s
        inner join cteTesting t
            on s.key = t.key 
```

在此：

```
select  *
from    testing.second_table s
        inner join
        (
            select  *
            from    testing.first_table
        ) t
        on s.key = t.key 
```

为什么？这只是为了代码流、代码可读性 - 还是有更多技术性的东西？在某些情况下会产生更好的执行计划吗？

**编辑**：刚刚意识到我的示例代码示例很差。我试图强调在很多情况下我可以在 from 语句中使用 select 而不是 CTE - 我如何决定应该使用哪一个？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T07:18:54.777

对于简单的示例，它没有太大区别。如果您需要使用[递归](http://msdn.microsoft.com/en-us/library/ms186243%28v=sql.105%29.aspx)功能来构建层次结构，那么您别无选择 - 您需要使用 CTE。

另一种情况可能不会产生太大的性能差异，但会提高可读性，即您需要多次加入同一个子查询。如果您使用子查询，则必须重复整个表达式，而使用 CTE，您只需使用名称两次：

```
;With NamedExpression as (
    select t1.ID,t2.ID as ID2,SUM(t3.Value) as Val
    from
      Table1 t1
        left join
      Table2 t2 on t1.id = t2.t1id
         inner join
      Table3 t3 on t3.col = t1.id or t3.col2 = t2.id
    group by
      t1.ID,t2.ID
)
select
    *
from
    NamedExpression ne
        inner join
    NamedExpression ne2
        on
            ne.ID2 = ne2.ID 
```

* * *

还应该注意的是，如果您将上述作为子查询进行，并且表达式特别复杂，阅读器/维护者有时可能需要一些时间来验证两个子查询实际上是否相同，并且它们之间没有一些细微的区别二

* * *

此外，如果您的缩进样式表明子查询应该比其封闭查询更靠右，那么构建在其他表达式上的表达式可能会导致所有代码向右移动 - 而对于 CTE，您会停止并移动在构建每个子表达式（CTE）时回到左边：

```
;WITH CTE1 AS (
    SELECT
    ...
), CTE2 as (
    SELECT
    ...
    FROM CTE1
), CTE3 as (
    SELECT
    ...
    FROM CTE2
)
select * from CTE3 
```

与：

```
select *
from
   (
        select ...
        from
             (
                 select ...
                 from
                     (
                          select ... 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-12T07:17:28.277

我*个人*发现 CTE 版本更具可读性，尤其是在选择变大的情况下。

当您在主 SELECT 中多次使用派生表时，使用 CTE 可能会更好，因为它告诉数据库您只想运行一次。虽然如果优化器足够聪明，可以在 from 子句中检测到两个相同的子选择并且只运行一次，我不会感到惊讶：

```
with foo as (
   select ..
   from bar
)
select f1.*
from foo f1 
  join foo f2 on ... 
```

对比

```
select f1.*
from (select ... from bar ) f1
  join (select ... from bar) f2 on ... 
```

我认为最重要的部分是保持一致（在你所写的内容和团队内部）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-12T07:41:17.717

我注意到当涉及大型数据集时，JOIN（尤其是与许多 WHERE 子句结合使用时）可能会产生灾难性的性能。

CTE 可以通过仅选择相关记录并加入这些子集来解决此问题。

将 CTE 视为一种为最终 SELECT 准备数据的预选。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-12T14:55:49.027

我使用 CTE 的另一个原因不是要替换派生表，而是要确保复杂的报表 SQL 包含正确的记录。因此，假设您正在做某种类型的财务报告，并且您想确保您返回的正是您想要的记录。当您有 10 个连接时，很难判断数据是否正确。

所以我使用 CTE 构建了一个复杂的查询。因此，例如，我只想要满足某些标准的订单。第一个 CTE 是挑选出来的。我编写它，然后在 CTE 上运行选择。这告诉我我的基本订单数量，以便在我增加复杂性时，我可以立即查看数量变化的位置并确定它是否应该改变或者我是否需要更改查询。如果我需要左连接或内连接，或者我可能需要相关表上的条件将其限制为一条记录，这让我可以相当快地知道。

通常，当我这样做时，我会在进入最终选择之前链接 CTES，这要简单得多。这样做的进一步价值是，我发现在需要更改这些复杂的报告查询时维护它们要容易得多。因此，假设我在链中有 CTE，例如：

*   订单
*   成本汇总
*   客户统计

然后，当我需要更改有关如何进行成本计算的某些内容时，既更容易找到在哪里进行更改，也更容易检查最终结果。

# c# - asp.net c#从函数订阅下一个Page.Load事件

> ID：11446593
> 
> 赞同：1
> 
> 时间：2012-07-12T07:05:23.213
> 
> 标签：c#, asp.net, events, delegates

我们需要从库中的函数订阅下一页加载事件

问题是订阅工作的唯一地方是如果我们在 Page.OnInit 中这样做：

```
override protected void OnInit(EventArgs e)
    {
        if (!IsPostBack){
            this.Load += test; //this would work only the first time if you want the test function to be called in each pageload you have to remove the !ispostback condition
    }

protected void test(object sender, EventArgs e)
    {//enters correctly

    } 
```

我们想要的是这样的：

```
In website proyect:

    buttonDoSomething_Click(object sender, EventArgs e)
    {
        Functions.CheckNextPageLoad(this);
    }

In function library proyect:

    CheckNextPageLoad(Page pagex)
    {
        pagex.Load+=CheckNextPageLoadEvent;
    }

CheckNextPageLoadEvent(object sender, EventArgs e)
{
   Page page = HttpContext.Current.Handler as Page; //or get it from the sender object

   //check especific property of the postback or change something especific

} 
```

这将有助于作为我们相关问题的替代解决方案（所以 2x1）： [ASP.NET c# Fix for the OK event of a custom ConfirmMessagebox inside a function library](https://stackoverflow.com/questions/10894116/asp-net-c-sharp-fix-for-the-ok-event-of-a-custom-confirmmessagebox-inside-a-func) (Getting the button clicked on the postback/next pageload we can call委托方法）

# c - 为什么字节是颠倒的？

> ID：11446601
> 
> 赞同：1
> 
> 时间：2012-07-12T07:05:44.343
> 
> 标签：c, byte

我对 C 函数有一个“有趣”的问题`fwrite`。我有一个`unsigned int`指针，我想将它写入二进制文件，所以我使用了`fwrite`. 但是文件中的字节是颠倒的。考虑到大小`unsigned int`（在我的情况下为 4 字节），例如，如果我的数据是`FE 45 78 D4 4C E9 EA F1`等，我会看到文件内容`D4 78 45 FE F1 EA E9 4C`等。我该如何解决这个问题？更多信息：当我说字节以错误的顺序写入时，我的意思是我用来读取文件的每个程序都以错误的顺序看到字节，当然会带来读取错误......我不明白为什么只有 fwrite函数使用不同的方式来表示数据...更多信息：我试过

```
fwrite(myuipointer,4,size,file);

fwrite(myuipointer,1,size*4,file); 
```

同样的结果。我还尝试使用指向我的数据的无符号字符指针并将其写入，但没有成功...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-12T07:11:28.620

这是因为您的计算机使用*小端*存储语义。这意味着数字的*小*端首先出现。您习惯于看到大端先出现的数字*（*例如`340,000`，千位列在十位之前。）

如果您的数据永远不会在*大端*系统（例如旧的 PowerPC Mac）上读取，那么您可以通过这种方式写出您的数字，然后在同一系统上将它们读回，然后您就会得到正确的排序。

如果您希望在使用不同字节序的系统之间共享此数据，则必须选择一个字节顺序，坚持使用它，并在写入文件时执行与该字节顺序的转换。（由于您不了解字节序的概念，我怀疑这不会对您起作用。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T08:15:43.247

其他人在他们的答案中涵盖了字节顺序的概念，这是小端计算机上的预期行为。

但是我查看了您的其他一些问题，您似乎正在使用 JPEG 文件，我猜这就是问题所在？

JPEG 文件需要在不同类型的计算机之间移植，不仅是 little-endian 和 big-endian，还包括 32 位和 64 位等等。因此 JPEG 定义了自己的标准大小和字节顺序，并且（如果不同）您需要将计算机的内部格式转换为 JPEG 格式。如果您只是将内部表示转储到文件中，这就是 fwrite 所做的，那么任何期望正确 JPEG 格式的程序都会失败。

如果您下载免费 JPEG 程序或库的源代码，例如[libjpeg](http://www.ijg.org/)，您会发现它们不仅使用 fread 和 fwrite，而且具有根据 JPEG 标准读取和写入每个字节的代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T07:11:03.523

查看小端和大端数字。存储“Big-endian”的整数首先存储（整数的）最高位，存储“Little-endian”的整数首先存储最低有效位。

试试[http://en.wikipedia.org/wiki/Endianness](http://en.wikipedia.org/wiki/Endianness) - 并不是说​​我会依赖 Wikipedia 来获取技术文章，但它很简单。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T07:11:47.483

这称为字节顺序，您应该阅读有关它的维基百科网页（也许更普遍地了解计算机体系结构）以更详细地理解它。同时，如果要发出特定的字节模式来表示特定数据，请使用 unsigned char 数组。除了 unsigned char 的情况外，您不能可移植地使用`fwrite`将结构、数组或原始类型写入磁盘文件（至少，您不能期望任何特定的输出模式）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-12T07:52:21.507

发生这种情况是因为您的计算机使用小端数据表示。这意味着诸如整数之类的数据从最低有效字节开始存储在内存中。
你的号码是：

```
FE 45 78 D4
4C E9 EA F1 
```

将从最低有效字节开始表示：

```
D4 78 45 FE
F1 EA E9 4C 
```

在使用数据的大端表示的系统中读取此数据时应小心，但如果您是唯一使用您的应用程序的人，或者您可以确定它只会在小端系统上使用，您不必担心。

PS：如果您在汇编中需要获取整数的最后两个字节（例如），这也可能是一个问题，您需要确切地知道机器如何表示数据。

# multithreading - Go 如何处理 Google App Engine 上的并发请求

> ID：11446602
> 
> 赞同：15
> 
> 时间：2012-07-12T07:05:48.030
> 
> 标签：multithreading, google-app-engine, go

我对 Go 如何处理 Google App Engine 上的并发请求有点困惑。所以我希望有人可以提供一些澄清。

以下是我收集到的事实：

1.  Go 在 App Engine 上是单线程的。-[这是因为可以通过创建多个线程的竞争条件来进行任意指针运算](https://stackoverflow.com/a/11443482/236564)

2.  [Goroutine 被多路复用到多个 OS 线程上，因此如果一个线程阻塞，例如在等待 I/O 时，其他线程会继续运行。](http://golang.org/doc/effective_go.html#goroutines)

3.  [[App Engine 有一个] 10 个并发限制 [这是通过限制每个运行时的并发线程来实施的。在大多数情况下，我们的调度程序会尝试启动一个新实例。](https://stackoverflow.com/a/11443482/236564)

如果 Go 在 App Engine 上是单线程的，那么第 3 点就没有实际意义。这留下了 1 和 2。如果 App Engine 上的 Go 是单线程的，并且线程需要在阻塞 I/O 时继续执行，那么看起来 App Engine Go 实例将在等待 I/O 时阻塞所有 goroutine。

它是否正确？如果不是，Go 的并发性如何在 App Engine 上真正发挥作用？

帮助量化事物。如果我要保持连接打开 30 秒。单个 AE Go 实例如何维持并发连接？

谢谢你。

> 编辑：这是允许 Go Instance 处理超过 10 个并发请求的功能请求[Allow configured limit of concurrent requests per instance](http://code.google.com/p/googleappengine/issues/detail?id=7927)。请给它加星。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-07-16T05:32:35.643

一个 Go App Engine 实例允许 10 个并发请求，但只运行一个 CPU 线程。实际上，可以同时处理多个请求，但一次只能有一个可以做 CPU 工作。例如，如果一个请求正在等待数据存储 API 调用返回，则另一个请求可以由同一实例自由处理。

您的陈述“如果 Go 在 App Engine 上是单线程的，那么第 3 点没有实际意义。” 是不正确的。对单个 Go App Engine 实例仍有 10 个并发进行中请求的限制。当谈到“线程”时，文档有点松散。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-12T22:50:43.053

我必须承认我对 AppEngine 没有内幕。这都是猜测和猜测，但我认为这有些合理。

您的应用永远不会达到十个线程的限制。这是因为创建线程的原因很少。首先，一次运行的 goroutine 的最大数量设置为 1 以[强制执行内存安全](http://research.swtch.com/gorace)。其次，与普通的 go 程序不同，应用引擎实际上不需要进行系统调用。它唯一的作用是用于网络。appengine 中的所有 IO 都可以复用到一个 epoll 线程中。这意味着您在任何给定时间只需要两个线程。然后，您可以添加第三个或第四个线程，以防不时需要运行其他系统调用，例如分配内存和接受/关闭连接。这些是阻塞时间非常短的快速系统调用。即使使用这些其他系统调用，您仍然离十个线程的限制很远。

并发不会受到影响，因为最终，您在 appengine 中所做的一切都归结为等待网络上的某些内容返回。您不需要多个线程一次做很多事情。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-03-30T02:02:46.893

我一直在寻找答案并偶然发现了这个问题/答案，但最终也找到了有关此事的更多官方文档。根据[Andrew Gerrand 和 Johan Euphrosine 的帖子，](https://blog.golang.org/appengine-dec2013#TOC_4.)这可以显式配置。

从那个帖子：

> 这会将应用程序的每个实例配置为同时处理最多 100 个请求（默认为 10 个）。您可以将 Go 实例配置为最多处理 500 个并发请求。

# blackberry - 如何调用和传递其他主屏幕？

> ID：11446608
> 
> 赞同：-1
> 
> 时间：2012-07-12T07:06:00.963
> 
> 标签：blackberry, screen, mainscreen

在课堂`a which extends MainScreen`上，我也想调用`b`class which `extends MainScreen`。

当我传入`b.this`显示的函数错误时`No enclosing instance of the type b is accessible in`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T08:06:56.470

嗨，这很简单，我会告诉你简单的方法

假设你有两个班级

1)屏幕1

2）屏幕2

screen1.java

```
public class screen1 extends MainScreen
{
   // some lines of code 
   //this is method to going to next screen in side that method 
   UiApplication.getUiApplication().pushScreen(new screen2(screen1.this));
} 
```

screen2.java

```
public class screen2 extends MainScreen
{
   private Screen1 screen1Object;
   // here take constructer
   public screen2(Screen1 screen1Object)
   {
      this.screen1Object=screen1Object;
   }
} 
```

在这里你可以使用那个 screen1Object

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T11:09:19.103

您可以使用此代码

```
UiApplication.getUiApplication().invokeAndWait(new Runnable() 
{   
    public void run() 
    {
        UiApplication.getUiApplication().pushScreen(new NewScreen());
    }
}); 
```

# c# - 即使在没有设置任何验证器的模型上也会发生 FluentValidation

> ID：11446611
> 
> 赞同：1
> 
> 时间：2012-07-12T07:06:21.803
> 
> 标签：c#, asp.net-mvc-3, fluentvalidation

我将 FluentValidation 与 MVC 3.0 一起使用；我已将其配置为与自定义验证器工厂和 IoC 容器（Unity）一起使用；

一切正常，我能够进行自定义验证并将它们与我的依赖项一起注入......但是发生了一件奇怪的事情：在我拥有 HtmlHelper 创建控件的所有强类型视图上（例如：Html.Editor），似乎MVC 正在尝试实例化验证器，这会导致 Unity 错误，因为在 Unity 中没有为这些模型映射验证器......在这些视图中，我没有任何检查来查看模型是否有效，也没有有任何自动模型绑定，那么我该如何阻止这种情况发生？我不想为每个模型创建空验证器并在 Unity 中注册它们只是为了摆脱这些错误..

这是我在 global.asax 中注册工厂的方法：

```
FluentValidationModelValidatorProvider.Configure(provider =>
{
    provider.ValidatorFactory = new UnityValidatorFactory(container);
});
DataAnnotationsModelValidatorProvider.AddImplicitRequiredAttributeForValueTypes = false; 
```

这就是我注册自定义验证器的方式：

```
container.RegisterType<IValidator<XViewModel>, XViewModel>(
    new ContainerControlledLifetimeManager(),
    new InjectionConstructor(container.Resolve<ILocalizationService>(),
    container.Resolve<ISessionService>())); 
```

对于 XView，一切正常，在我的操作方法中我做了一个 TryUpdateModel 并且验证工作正常；但是对于我不想进行任何验证的其他视图，MVC 仍然尝试为它们解析验证器并且通常会失败，因为在 Unity 中没有注册任何内容

您对如何解决此问题有任何想法吗？

谢谢，

乔治

**编辑：** 其他视图的错误是：当前类型 IValidator`1[...ViewModel] 是一个接口，无法构造。您是否缺少类型映射？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:42:23.327

当无法解析类型时，我修改了我的 UnityValidatorFactory 以返回 null；从性能的角度来看，我不知道这种解决方法有多好（因为引发了异常），但目前我没有更好的解决方案......

# ios - nsdictionary , nsarray 到可变版本

> ID：11446612
> 
> 赞同：0
> 
> 时间：2012-07-12T07:06:24.533
> 
> 标签：ios, nsmutablearray, nsmutabledictionary

我在这个数组的每个元素中都有一个数组是一个字典，每个字典都有一些数组。

就像那样

[ { [ ] }, { [ ] } ]

这是我从服务器响应中得到的架构。

这是我的问题，当我尝试改变我得到的东西时

```
[__NSCFDictionary setObject:forKey:]: mutating method sent to immutable object 
```

那么最好的方法是什么？我需要遍历所有项目以使它们可变？还是有其他方法？因为当我调用`mutable copy`方法时，它只是将外层转换为可变的。

任何帮助将不胜感激..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:17:21.953

TouchJSON[库](https://github.com/TouchCode/TouchJSON/)具有从 JSON 输入创建可变容器的选项。

查看[stackoverflow 上的这个答案](https://stackoverflow.com/a/7349743/901865)，了解如何设置 TouchJSON 的 CJSONDeserializer 对象以创建可变输出的示例。

# ios - 如何在 nsstring 中写入 \\\？

> ID：11446625
> 
> 赞同：1
> 
> 时间：2012-07-12T07:07:00.897
> 
> 标签：ios, nsstring

我必须在我的 nsstring 中写入“\\\”。我试过@"\\\" 但效果不好。你能帮助我吗？谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-12T07:08:23.377

你试过了`@"\\\\\\"`吗？您需要使用另一个斜杠来转义每个斜杠，因为在换行`\`等序列中用作转义字符。`\n`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:09:20.103

双反斜杠。每个都是一个转义字符，所以要写一个`\`你必须写一个`\\`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T07:09:15.827

您需要转义每个单独的反斜杠。`@"\\\\\\"` 在上面的代码中使用。这将逃避每个单独的反斜杠。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T07:10:41.353

如果你想要三个\，你必须将它乘以to。所以六\

# spring - 从 PLSQL 发送 http 请求，由 Spring Integration 接收并回复

> ID：11446628
> 
> 赞同：0
> 
> 时间：2012-07-12T07:07:46.770
> 
> 标签：spring, plsql, httprequest, httpresponse, spring-integration

我正在尝试从 PLSQL 发送一个 http 请求。它工作正常。

```
HttpRequest := UTL_HTTP.BEGIN_REQUEST (url => v_http_url, METHOD => 'POST');
utl_http.set_header(HttpRequest, 'Content-Type', 'text/xml; charset=utf-8' );
utl_http.set_header(HttpRequest, 'Content-Length', 64);
utl_http.write_line(HttpRequest, 'some string');
Httpresp := utl_http.get_response(HttpRequest);
utl_http.end_request(HttpRequest);
utl_http.end_response(Httpresp); 
```

Spring集成方面：

```
<int:channel id="inputChannel" />
<int:channel id="outputChannel" />

<int-http:inbound-gateway request-channel="inputChannel"
    reply-channel="outputChannel" supported-methods="POST" name="/req"
    message-converters="MyRequestConverter"
    request-payload-type="MyRequest">
</int-http:inbound-gateway>

<int:service-activator input-channel="inputChannel"
    method="getMessage" ref="dbmock"></int:service-activator> 
```

我用方法创建了 MyRequestConverter：

```
MyRequest readInternal(Class<? extends MyRequest > _class, HttpInputMessage message) throws IOException
void writeInternal(MyRequest request, HttpOutputMessage message) 
```

我的服务方法如下所示：

```
public Object getMessage(@Headers Map<String, Object> headers, @Payload MyRequest payload) 
```

问题是 PLSQL 站点没有得到响应 - 它无休止地等待。当我评论

```
Httpresp := utl_http.get_response(HttpRequest) 
```

PLSQL 过程成功执行。此外，我得到的例外是 java.lang.String 没有转换器。

有什么方法可以反向使用 MyRequestConverter 吗？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T12:01:09.210

您将内容长度设置为 64，但仅发送 11 个字节。服务器正在等待更多数据。

# java - Hadoop没有这样的方法异常

> ID：11446635
> 
> 赞同：30
> 
> 时间：2012-07-12T07:08:14.100
> 
> 标签：java, hadoop, mapreduce

当我从命令提示符运行 Hadoop .jar 文件时，它会抛出一个异常，说明没有 StockKey 方法这样的方法。

StockKey 是为我自己的密钥类型定义的自定义类。

这是一个例外：

```
12/07/12 00:18:47 INFO mapred.JobClient: Task Id :   
attempt_201207082224_0007_m_000000_1, Status : FAILED

java.lang.RuntimeException: java.lang.NoSuchMethodException: SecondarySort$StockKey.      
<init>()
    at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:115)
    at org.apache.hadoop.io.WritableComparator.newKey(WritableComparator.java:109)
    at org.apache.hadoop.io.WritableComparator.<init>(WritableComparator.java:95)
    at org.apache.hadoop.io.WritableComparator.get(WritableComparator.java:51)
    at org.apache.hadoop.mapred.JobConf.getOutputKeyComparator(JobConf.java:795)
    at org.apache.hadoop.mapred.MapTask$MapOutputBuffer.<init>(MapTask.java:817)
    at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:383)
    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:325)
    at org.apache.hadoop.mapred.Child$4.run(Child.java:270)
    at java.security.AccessController.doPrivileged(Native Method)
    at javax.security.auth.Subject.doAs(Subject.java:396)
    at     
   org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1127)
    at org.apache.hadoop.mapred.Child.main(Child.java:264) 
```

* * *

## 回答 #1

> 赞同：71
> 
> 时间：2013-08-13T10:16:03.310

对于可写对象、映射器、reducers 等类，当出现此类错误时，还有一件事需要检查。

如果该类是**内部类**，请确保已声明它`static`（即不需要封闭类的实例）。否则，Hadoop 无法实例化您的内部类并会给出同样的错误——需要一个零参数的构造函数。

* * *

## 回答 #2

> 赞同：57
> 
> 时间：2012-07-12T07:35:04.740

您必须在密钥类中提供一个空的默认构造函数。Hadoop 正在使用反射，它无法猜测要提供的任何参数。

所以只需添加默认构造函数：

```
public StockKey(){} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-02-18T14:26:30.520

确保您有默认构造函数，但我还必须将`static`关键字添加到我的类声明中。那是，

```
public class SecondarySort {
  public static void main(String[] args) {...}

  public static class StockKey extends ... {}
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-05-12T06:43:16.000

[对于 scala](https://stackoverflow.com/a/30183564/432903)，我修复了添加默认构造函数的问题，如下所示，

```
class IntPair (first : IntWritable, second : IntWritable) extends WritableComparable[IntPair] {

     def this() = this(first = new IntWritable(), second = new IntWritable())

     def getFirst () : IntWritable = {
         first
     }

     def getSecond () : IntWritable = {
         second
     }

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-07-21T23:16:19.510

没有任何答案对我有帮助。

就我而言，它发生在我错误地或匆忙地降低了构造函数的可见性时。

例如，父构造函数是公共的，而继承类的构造函数是默认的或受保护的！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-12-20T20:39:33.067

面临同样的问题。通过遵循@Thomas 和@Chris 的指示进行修复。

看起来需要这两种解决方案来解决问题：

*   需要@Thomas 的回答，因为 Hadoop 正在使用反射和构建大型项目。

*   使用内部类并从 main() 调用 Mappers/Reducers 时，需要来自 @Chris 的回答。

# linux - 为什么我在 Linux 中的管道卡住了？

> ID：11446639
> 
> 赞同：0
> 
> 时间：2012-07-12T07:08:20.863
> 
> 标签：linux, shell, pipe

我正在炮轰这个：

```
mkfifo my_fifo 
```

经此许可：

```
prw-r--r-- 
```

然后我做：

```
echo this is my fifo > my_fifo 
```

但它卡住了，从另一个外壳开始十秒钟后，大小`my_fifo`为零。

这是为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:18:11.350

在 1 号航站楼：

```
$ cat > my_fifo 
```

在 2 号航站楼：

```
$ cat my_fifo 
```

之后在终端 1 中输入一些内容并检查终端 2。

关于 FIFO 大小的注意事项：它始终为 0，因为它不是常规文件，而是使用 RAM 而不是磁盘的命名管道。

# iphone - 带有崩溃日志的 ios4.2 崩溃

> ID：11446642
> 
> 赞同：0
> 
> 时间：2012-07-12T07:08:25.567
> 
> 标签：iphone, objective-c, ios, xcode, ios4

我最近一直在做一个博客项目，很长一段时间以来，我的应用程序在任何 ios 设备上运行良好，例如在 iOs 4.1 及更高版本上运行的 iPhone 4、iPhone 3gs、iPad 2.0。但是，当我尝试在运行版本 iOs 4.2 的 iPhone 3g 上运行该应用程序时，该应用程序无法启动。相反，它会因访问错误而崩溃。我无法理解下面给出的崩溃日志。知道为什么会发生这种情况吗？所有帮助将不胜感激。

提前致谢。

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
 <key>AutoSubmitted</key>
 <true/>
 <key>SysInfoCrashReporterKey</key>
 <string>a3022f3eb822edd6e95add13d1e04a6ec2f47ff6</string>
 <key>SysInfoMachineConfigKey</key>
 <string>iPhone1,2</string>
 <key>SysInfoSystemProfileKey</key>
 <string></string>
 <key>bug_type</key>
 <string>109</string>
 <key>description</key>
 <string>Incident Identifier: 64EEA268-45AF-4D89-97B1-5CD20BBF8924
CrashReporter Key:   a3022f3eb822edd6e95add13d1e04a6ec2f47ff6
Hardware Model:      iPhone1,2
Process:         BlogApp [331]
Path:            /var/mobile/Applications/2C68454C-B938-4FB8-8B8C-E5560D1D1825/BlogApp.app/BlogApp
Identifier:      BlogApp
Version:         ??? (???)
Code Type:       ARM (Native)
Parent Process:  launchd [1]
Date/Time:       2012-06-21 16:11:28.928 +0100
OS Version:      iPhone OS 4.2.1 (8C148)
Report Version:  104
Exception Type:  EXC_BAD_ACCESS (SIGSEGV)
Exception Codes: KERN_INVALID_ADDRESS at 0x43480000
Crashed Thread:  0
Thread 0 Crashed:
0   ???                            0x43480000 0 + 1128792064
1   ???                            0x0015448c 0 + 1393804
Thread 1:
0   libSystem.B.dylib              0x35d8f974 0x35d5a000 + 219508
1   libSystem.B.dylib              0x35e5e2fc 0x35d5a000 + 1065724
2   libSystem.B.dylib              0x35e5dd68 0x35d5a000 + 1064296
3   libSystem.B.dylib              0x35e5d788 0x35d5a000 + 1062792
4   libSystem.B.dylib              0x35de6970 0x35d5a000 + 575856
5   libSystem.B.dylib              0x35ddd2fc 0x35d5a000 + 537340
Thread 2:
0   libSystem.B.dylib              0x35de72fc 0x35d5a000 + 578300
1   libSystem.B.dylib              0x35de6b50 0x35d5a000 + 576336
2   libSystem.B.dylib              0x35ddd2fc 0x35d5a000 + 537340
Thread 3:
0   libSystem.B.dylib              0x35d5b3b0 0x35d5a000 + 5040
1   libSystem.B.dylib              0x35d5d894 0x35d5a000 + 14484
2   CoreFoundation                 0x37521f7c 0x374f9000 + 167804
3   CoreFoundation                 0x37521780 0x374f9000 + 165760
4   CoreFoundation                 0x37521504 0x374f9000 + 165124
5   CoreFoundation                 0x37521412 0x374f9000 + 164882
6   WebCore                        0x3318bd14 0x33070000 + 1162516
7   libSystem.B.dylib              0x35de5b44 0x35d5a000 + 572228
8   libSystem.B.dylib              0x35dd77a4 0x35d5a000 + 513956
Thread 4:
0   libSystem.B.dylib              0x35d8f974 0x35d5a000 + 219508
1   libSystem.B.dylib              0x35e2cca8 0x35d5a000 + 863400
2   libSystem.B.dylib              0x35e2d5d0 0x35d5a000 + 865744
3   libSystem.B.dylib              0x35e2e95c 0x35d5a000 + 870748
4   libSystem.B.dylib              0x35e2eb30 0x35d5a000 + 871216
5   libSystem.B.dylib              0x35d8d8ec 0x35d5a000 + 211180
6   libSystem.B.dylib              0x35d8d350 0x35d5a000 + 209744
7   libSystem.B.dylib              0x35d8d158 0x35d5a000 + 209240
8   libSystem.B.dylib              0x35de5b44 0x35d5a000 + 572228
9   libSystem.B.dylib              0x35dd77a4 0x35d5a000 + 513956
Thread 5:
0   libSystem.B.dylib              0x35de72fc 0x35d5a000 + 578300
1   libSystem.B.dylib              0x35de6b50 0x35d5a000 + 576336
2   libSystem.B.dylib              0x35ddd2fc 0x35d5a000 + 537340
Thread 0 crashed with ARM Thread State:
r0: 0x00baf400    r1: 0x00baf400      r2: 0x00000000      r3: 0x00000000
r4: 0x0014b0e0    r5: 0x0007e25c      r6: 0x0014b0e0      r7: 0x001544f0
r8: 0x0014b0e0    r9: 0x3e6f5288     r10: 0x00000000     r11: 0x0014b4a0
ip: 0x0014d3a0    sp: 0x2fdfd8cc      lr: 0x33d93964      pc: 0x43480000
cpsr: 0x600f0010
Binary Images:
0x1000 -    0x68fff +BlogApp armv6  &lt;9ab51d06e6b3376a87039e286c9e56b1&gt; /var/mobile/Applications/2C68454C-B938-4FB8-8B8C-E5560D1D1825/BlogApp.app/BlogApp
0xe2000 -    0xe3fff  dns.so armv6  &lt;88b569311cca4a9593b2d670051860d1&gt; /usr/lib/info/dns.so
0x2fe00000 - 0x2fe29fff  dyld armv6  &lt;617f6daf4103547c47a8407a2e0b90de&gt; /usr/lib/dyld
0x30270000 - 0x3027bfff  ITSync armv6  &lt;a451205e89373cbdf0832688085e8f72&gt; /System/Library/PrivateFrameworks/ITSync.framework/ITSync
0x3027c000 - 0x3027efff  IOMobileFramebuffer armv6  &lt;f42bbbf67195a7b98d67ad021bba4784&gt; /System/Library/PrivateFrameworks/IOMobileFramebuffer.framework/IOMobileFramebuffer
0x3027f000 - 0x3038dfff  CFNetwork armv6  &lt;d6eeee83216ee9c553134f069f37cbc2&gt; /System/Library/Frameworks/CFNetwork.framework/CFNetwork
0x303ef000 - 0x303f4fff  CaptiveNetwork armv6  &lt;f41df4b358b77b29ff85e0eaea88ee1d&gt; /System/Library/PrivateFrameworks/CaptiveNetwork.framework/CaptiveNetwork
0x303f5000 - 0x30444fff  Security armv6  &lt;cf625b4dc7ea928891313444ef64a7cb&gt; /System/Library/Frameworks/Security.framework/Security
0x30445000 - 0x3055cfff  libicucore.A.dylib armv6  &lt;8968ff3f62d7780bb1bd75026a7628d0&gt; /usr/lib/libicucore.A.dylib
0x3055d000 - 0x30561fff  ApplePushService armv6  &lt;0560b630d26e261e205fc58942e1885c&gt; /System/Library/PrivateFrameworks/ApplePushService.framework/ApplePushService
0x3059d000 - 0x305a8fff  MobileWiFi armv6  &lt;c7532e63e083a1dd2a0ef7352b85749d&gt; /System/Library/PrivateFrameworks/MobileWiFi.framework/MobileWiFi
0x305aa000 - 0x30612fff  libvDSP.dylib armv6  &lt;9d264733fc675943c082bd3b9b567b59&gt; /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libvDSP.dylib
0x30613000 - 0x3064dfff  MobileCoreServices armv6  &lt;beb473ce80390554bb4af21554522286&gt; /System/Library/Frameworks/MobileCoreServices.framework/MobileCoreServices
0x3065c000 - 0x3066efff  libbsm.0.dylib armv6  &lt;51e7bb18da9afa44a33e54e42fbd0707&gt; /usr/lib/libbsm.0.dylib
0x3066f000 - 0x306c6fff  CoreMedia armv6  &lt;cd5e9398c161f129146931e888e1c92e&gt; /System/Library/Frameworks/CoreMedia.framework/CoreMedia
0x306f0000 - 0x306fefff  libz.1.dylib armv6  &lt;84592e96bae1a661374b0f9a5d03a3a0&gt; /usr/lib/libz.1.dylib
0x306ff000 - 0x30729fff  PrintKit armv6  &lt;74f9710fa01a33b5bb04c4aeabd6be7d&gt; /System/Library/PrivateFrameworks/PrintKit.framework/PrintKit
0x307d7000 - 0x3082afff  IOKit armv6  &lt;20da5e822f21a8d0a7c5b3e149330efd&gt; /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x30831000 - 0x3083bfff  AccountSettings armv6  &lt;eca67ab04f724e1fa7c6406c88e75433&gt; /System/Library/PrivateFrameworks/AccountSettings.framework/AccountSettings
0x30999000 - 0x309c5fff  DataAccess armv6  &lt;8c045822d57a369835f5b40653a48838&gt; /System/Library/PrivateFrameworks/DataAccess.framework/DataAccess
0x309c6000 - 0x309f4fff  MIME armv6  &lt;fac8f55c508ff476e07894af7abdb761&gt; /System/Library/PrivateFrameworks/MIME.framework/MIME
0x30a04000 - 0x30aa3fff  ProofReader armv6  &lt;2734920b62f174c17aeeb15f371615ef&gt; /System/Library/PrivateFrameworks/ProofReader.framework/ProofReader
0x30ad6000 - 0x30b1afff  AddressBook armv6  &lt;1f30c3370dad27331a491ba4b190813c&gt; /System/Library/Frameworks/AddressBook.framework/AddressBook
0x30b3d000 - 0x30b9cfff  CoreAudio armv6  &lt;ccc4bace0d6eca79a32ed84d566f72e9&gt; /System/Library/Frameworks/CoreAudio.framework/CoreAudio
0x32d7d000 - 0x32d89fff  libkxld.dylib armv6  &lt;f74f359de7bbe3ccdc37fa6f332aebf4&gt; /usr/lib/system/libkxld.dylib
0x32d95000 - 0x32e5cfff  libobjc.A.dylib armv6  &lt;429841269f8bcecd4ba3264a8725dad6&gt; /usr/lib/libobjc.A.dylib
0x32e5d000 - 0x32ecdfff  libsqlite3.dylib armv6  &lt;87b9bb47687902d9120d03d1da9eb9fc&gt; /usr/lib/libsqlite3.dylib
0x32f0c000 - 0x32f1ffff  libmis.dylib armv6  &lt;dba9c086b49bd9540930ff27211570d6&gt; /usr/lib/libmis.dylib
0x33055000 - 0x33061fff  SpringBoardServices armv6  &lt;fd0c472436b3306f5b56118c93c8a423&gt; /System/Library/PrivateFrameworks/SpringBoardServices.framework/SpringBoardServices
0x33062000 - 0x3306ffff  MobileBluetooth armv6  &lt;2b68516e1321011a4efbee2947d463c6&gt; /System/Library/PrivateFrameworks/MobileBluetooth.framework/MobileBluetooth
0x33070000 - 0x338bffff  WebCore armv6  &lt;aa3b6827f051da7a3494c9bee4ebe290&gt; /System/Library/PrivateFrameworks/WebCore.framework/WebCore
0x338c0000 - 0x338d4fff  MobileDeviceLink armv6  &lt;19d66078f8cf19be558713c13612c7a3&gt; /System/Library/PrivateFrameworks/MobileDeviceLink.framework/MobileDeviceLink
0x33a21000 - 0x33a6afff  CoreLocation armv6  &lt;a69399375024b2bfae8bb96e845f4fd0&gt; /System/Library/Frameworks/CoreLocation.framework/CoreLocation
0x33a6b000 - 0x33ab3fff  iCalendar armv6  &lt;fbb717874ea0ede24454a5def644ab69&gt; /System/Library/PrivateFrameworks/iCalendar.framework/iCalendar
0x33ab4000 - 0x33ab4fff  Accelerate armv6  &lt;cdde24a7ad004b2b2e600cd4f3ac5eb7&gt; /System/Library/Frameworks/Accelerate.framework/Accelerate
0x33b32000 - 0x33b72fff  QuickLook armv6  &lt;54400e0d48ec86c84e937e55790b9e54&gt; /System/Library/Frameworks/QuickLook.framework/QuickLook
0x33bbc000 - 0x33c0afff  CoreText armv6  &lt;16c9582fdffb598178287c6ce9fd6897&gt; /System/Library/Frameworks/CoreText.framework/CoreText
0x33c16000 - 0x33d73fff  libGLProgrammability.dylib armv6  &lt;aec6b54ffd532bb607aab4acbab679b6&gt; /System/Library/Frameworks/OpenGLES.framework/libGLProgrammability.dylib
0x33d76000 - 0x33d79fff  ActorKit armv6  &lt;d3ec50b4a7f0257ef31baf37936dc275&gt; /System/Library/PrivateFrameworks/ActorKit.framework/ActorKit
0x33d85000 - 0x33e71fff  QuartzCore armv6  &lt;77cd91ff21fe6c58c309f2c82eb95ca5&gt; /System/Library/Frameworks/QuartzCore.framework/QuartzCore
0x33e72000 - 0x33e81fff  GraphicsServices armv6  &lt;af20aba0ec96e7b7c42bb55ac763c784&gt; /System/Library/PrivateFrameworks/GraphicsServices.framework/GraphicsServices
0x33ead000 - 0x33f6efff  ImageIO armv6  &lt;0c1b6f466667ff345f2399d8142a9d10&gt; /System/Library/Frameworks/ImageIO.framework/ImageIO
0x33f78000 - 0x33f79fff  CoreSurface armv6  &lt;5e290514380c626e9b0f9f9985b9dc7a&gt; /System/Library/PrivateFrameworks/CoreSurface.framework/CoreSurface
0x340ac000 - 0x340bffff  Notes armv6  &lt;acf9e548948ecb299270c8398ef297a1&gt; /System/Library/PrivateFrameworks/Notes.framework/Notes
0x34137000 - 0x34156fff  EAP8021X armv6  &lt;fa56845b5396c3ebb368c2368331643c&gt; /System/Library/PrivateFrameworks/EAP8021X.framework/EAP8021X
0x341ad000 - 0x341ebfff  ContentIndex armv6  &lt;7f3334380acc72292571803f0b490189&gt; /System/Library/PrivateFrameworks/ContentIndex.framework/ContentIndex
0x343a0000 - 0x343bffff  Bom armv6  &lt;f41bef81e23e2bff59155e5ce46762d3&gt; /System/Library/PrivateFrameworks/Bom.framework/Bom
0x343c0000 - 0x344bdfff  JavaScriptCore armv6  &lt;3547c92c1efc0522b087e7f10eba7728&gt; /System/Library/PrivateFrameworks/JavaScriptCore.framework/JavaScriptCore
0x344be000 - 0x34500fff  ManagedConfiguration armv6  &lt;397723a33c19c3487d304d69580acbfc&gt; /System/Library/PrivateFrameworks/ManagedConfiguration.framework/ManagedConfiguration
0x34954000 - 0x34a5cfff  CoreData armv6  &lt;6e3af4b4648ae695f8d4bc0bf5a9dba5&gt; /System/Library/Frameworks/CoreData.framework/CoreData
0x34a6e000 - 0x34a72fff  CertUI armv6  &lt;57c499baf9d343a78fe1b43f0f3ef997&gt; /System/Library/PrivateFrameworks/CertUI.framework/CertUI
0x34b52000 - 0x34f1ffff  libLAPACK.dylib armv6  &lt;0eb734c91165416224b98c943ff6476b&gt; /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libLAPACK.dylib
0x34f20000 - 0x35014fff  libiconv.2.dylib armv6  &lt;01916d6784f4de8f3746978faae9c5fa&gt; /usr/lib/libiconv.2.dylib
0x35015000 - 0x35022fff  CoreVideo armv6  &lt;7b100fd5fdf98db1cd0f0649e7f6f316&gt; /System/Library/Frameworks/CoreVideo.framework/CoreVideo
0x35023000 - 0x3507dfff  MessageUI armv6  &lt;21bb9d93911f7015b79aef9dc6df55ef&gt; /System/Library/Frameworks/MessageUI.framework/MessageUI
0x35087000 - 0x35148fff  AddressBookUI armv6  &lt;fea72732451610277e22a667d35ad76d&gt; /System/Library/Frameworks/AddressBookUI.framework/AddressBookUI
0x35151000 - 0x35272fff  Foundation armv6  &lt;6bdeb19a1fcb93e2930dadb50416f881&gt; /System/Library/Frameworks/Foundation.framework/Foundation
0x3529b000 - 0x352a6fff  libbz2.1.0.dylib armv6  &lt;6aa8a4ed0906a495d059ace9125f525d&gt; /usr/lib/libbz2.1.0.dylib
0x352dc000 - 0x35342fff  libBLAS.dylib armv6  &lt;11a3677a08175a30df1b3d66d7e0951a&gt; /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libBLAS.dylib
0x35348000 - 0x353b0fff  GMM armv6  &lt;adcdfedd491ac237b385b6c2d7f684e3&gt; /System/Library/PrivateFrameworks/GMM.framework/GMM
0x35406000 - 0x35406fff  vecLib armv6  &lt;8f914b3e8a581d49fb21d2c0ff75be03&gt; /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/vecLib
0x35407000 - 0x3540afff  MobileInstallation armv6  &lt;456ed7fe6dd9fcd8e78df425085b1452&gt; /System/Library/PrivateFrameworks/MobileInstallation.framework/MobileInstallation
0x35541000 - 0x35547fff  MBX2D armv6  &lt;fad4955cab36e0179df6f8f27d365b8f&gt; /System/Library/PrivateFrameworks/MBX2D.framework/MBX2D
0x35758000 - 0x35778fff  AppleAccount armv6  &lt;0ef3f6564414f3ef030031ae25b28bbd&gt; /System/Library/PrivateFrameworks/AppleAccount.framework/AppleAccount
0x35815000 - 0x3581afff  AssetsLibraryServices armv6  &lt;224b3cf992a01814f91481244e3213eb&gt; /System/Library/PrivateFrameworks/AssetsLibraryServices.framework/AssetsLibraryServices
0x3581b000 - 0x35877fff  libGLImage.dylib armv6  &lt;7c1049f20c4e64591c09d3ac00c7d3ab&gt; /System/Library/Frameworks/OpenGLES.framework/libGLImage.dylib
0x358bc000 - 0x358c3fff  liblockdown.dylib armv6  &lt;f470dea180ddf23886df75eb256d3888&gt; /usr/lib/liblockdown.dylib
0x358cc000 - 0x358cffff  libgcc_s.1.dylib armv6  &lt;bed95ed187350ce27d22ed241ef892ea&gt; /usr/lib/libgcc_s.1.dylib
0x358d3000 - 0x35d4ffff  UIKit armv6  &lt;14ec6c926b8bda71b73136f6e1a6ac1b&gt; /System/Library/Frameworks/UIKit.framework/UIKit
0x35d5a000 - 0x35e98fff  libSystem.B.dylib armv6  &lt;70571c1e697e2ae7f7a9b1a499453bb6&gt; /usr/lib/libSystem.B.dylib
0x35f7e000 - 0x35fc2fff  VideoToolbox armv6  &lt;101dbbcd34cc3231a8be3fd6392556aa&gt; /System/Library/PrivateFrameworks/VideoToolbox.framework/VideoToolbox
0x35fdb000 - 0x36162fff  CoreGraphics armv6  &lt;9a1d72fa9549d83abc1e735ba37a4dc2&gt; /System/Library/Frameworks/CoreGraphics.framework/CoreGraphics
0x36167000 - 0x36178fff  DataAccessExpress armv6  &lt;c112bd2791eb706526db25407ec117d4&gt; /System/Library/PrivateFrameworks/DataAccessExpress.framework/DataAccessExpress
0x36179000 - 0x36255fff  WebKit armv6  &lt;83da207070be989ba81dba3a83d5206a&gt; /System/Library/PrivateFrameworks/WebKit.framework/WebKit
0x36269000 - 0x36278fff  OpenGLES armv6  &lt;37eda5ddcff210dd321157da35a87a5e&gt; /System/Library/Frameworks/OpenGLES.framework/OpenGLES
0x36279000 - 0x36362fff  MapKit armv6  &lt;d28b96a0107a7822fda677ed28901c0c&gt; /System/Library/Frameworks/MapKit.framework/MapKit
0x363f3000 - 0x363f9fff  MobileKeyBag armv6  &lt;2d83bf6a43bab972d77a1a6e0f3b03d2&gt; /System/Library/PrivateFrameworks/MobileKeyBag.framework/MobileKeyBag
0x363fa000 - 0x36483fff  Message armv6  &lt;9ed4944d998f99e69ba81afdda659bee&gt; /System/Library/PrivateFrameworks/Message.framework/Message
0x36500000 - 0x36508fff  ProtocolBuffer armv6  &lt;8ed6e560e85eecfaf625219a8247aea4&gt; /System/Library/PrivateFrameworks/ProtocolBuffer.framework/ProtocolBuffer
0x365db000 - 0x365f9fff  libresolv.9.dylib armv6  &lt;9c94634beea733e754dc115737b6e63c&gt; /usr/lib/libresolv.9.dylib
0x36746000 - 0x3683cfff  libxml2.2.dylib armv6  &lt;9c44d05cc67f1ebabd795903e581724e&gt; /usr/lib/libxml2.2.dylib
0x3683e000 - 0x36888fff  libCGFreetype.A.dylib armv6  &lt;cfc94cfa17958f2f94c9eff208a7dace&gt; /System/Library/Frameworks/CoreGraphics.framework/Resources/libCGFreetype.A.dylib
0x36889000 - 0x368b4fff  MobileSync armv6  &lt;b42cf746d993e6765d432edf47987835&gt; /System/Library/PrivateFrameworks/MobileSync.framework/MobileSync
0x368b5000 - 0x3692dfff  EventKit armv6  &lt;c1fb82d645d3bf1f2e0558cc884712e9&gt; /System/Library/Frameworks/EventKit.framework/EventKit
0x3694c000 - 0x3694ffff  libAccessibility.dylib armv6  &lt;74e0f77cc276a9412be268c795fdcbca&gt; /usr/lib/libAccessibility.dylib
0x36955000 - 0x36a1ffff  Celestial armv6  &lt;11172a6ee53bdf067548cd4496bc5fe0&gt; /System/Library/PrivateFrameworks/Celestial.framework/Celestial
0x36a20000 - 0x36a2cfff  WebBookmarks armv6  &lt;5d1eb10d851d0362e304d9d95f016df1&gt; /System/Library/PrivateFrameworks/WebBookmarks.framework/WebBookmarks
0x36a2d000 - 0x36a30fff  CrashReporterSupport armv6  &lt;00bc60f690e6328b64e7a7b718edf45a&gt; /System/Library/PrivateFrameworks/CrashReporterSupport.framework/CrashReporterSupport
0x36a31000 - 0x36a74fff  CoreTelephony armv6  &lt;cabbce0fa7630065dc7e7d3ca3bc616c&gt; /System/Library/Frameworks/CoreTelephony.framework/CoreTelephony
0x36c1c000 - 0x36c26fff  AggregateDictionary armv6  &lt;f7429444c955e4f13c6761d20032ab52&gt; /System/Library/PrivateFrameworks/AggregateDictionary.framework/AggregateDictionary
0x36c2b000 - 0x36de1fff  AudioToolbox armv6  &lt;bb65e8ed531fe5923eb8ac00a7c0d87d&gt; /System/Library/Frameworks/AudioToolbox.framework/AudioToolbox
0x36de2000 - 0x36e16fff  AppSupport armv6  &lt;783e14db9585fd063c0c2a755cd121b6&gt; /System/Library/PrivateFrameworks/AppSupport.framework/AppSupport
0x36e17000 - 0x36e2dfff  PersistentConnection armv6  &lt;006723906b8ac250c1681a1821fbe94d&gt; /System/Library/PrivateFrameworks/PersistentConnection.framework/PersistentConnection
0x36e2e000 - 0x37140fff  GeoServices armv6  &lt;570238d025d41838cc888a0b3f28f4b2&gt; /System/Library/PrivateFrameworks/GeoServices.framework/GeoServices
0x37141000 - 0x37184fff  SystemConfiguration armv6  &lt;207f362e707871e74a292cfd1ea7893d&gt; /System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration
0x372aa000 - 0x37477fff  MediaToolbox armv6  &lt;21ceabd0e5de17ad4e883c85fcd34d51&gt; /System/Library/PrivateFrameworks/MediaToolbox.framework/MediaToolbox
0x37478000 - 0x3747dfff  IOSurface armv6  &lt;ffd66ca04dfe7d382d6961f0df3839ff&gt; /System/Library/PrivateFrameworks/IOSurface.framework/IOSurface
0x3748d000 - 0x374f8fff  libstdc++.6.dylib armv6  &lt;eccd1d7183e73587b2c0aa5755a19c39&gt; /usr/lib/libstdc++.6.dylib
0x374f9000 - 0x375e4fff  CoreFoundation armv6  &lt;ab0eac0ddd5b4ae1bf8541116e3c0bd1&gt; /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
0x3760a000 - 0x3760bfff  DataMigration armv6  &lt;d2de7c0db77278484236669c2cdccabb&gt; /System/Library/PrivateFrameworks/DataMigration.framework/DataMigration
0x37731000 - 0x37736fff  libGFXShared.dylib armv6  &lt;bd1c480607cc286288db1ca1aec64180&gt; /System/Library/Frameworks/OpenGLES.framework/libGFXShared.dylib
0x377f6000 - 0x37817fff  libRIP.A.dylib armv6  &lt;22c6da37f3adf325f99c3a0494e04c02&gt; /System/Library/Frameworks/CoreGraphics.framework/Resources/libRIP.A.dylib
0x37992000 - 0x37999fff  libMobileGestalt.dylib armv6  &lt;de9b417e7278742e90b30b1ad45f31fa&gt; /usr/lib/libMobileGestalt.dylib
</string>
 <key>displayName</key>
 <string>BlogApp</string>
 <key>host_os_version</key>
 <string>OS:Macintosh;OSBuild:11C2002;OSMajorVersion:10.7.2;OSMinorVersion:-1;</string>
 <key>name</key>
 <string>BlogApp</string>
 <key>os_version</key>
 <string>iPhone OS 4.2.1 (8C148)</string>
 <key>system_ID</key>
 <string></string>
 <key>version</key>
 <string>??? (???)</string>
</dict>
</plist> 
```

# c# - 通过 Internet 传输大文件的可靠且快速的方法

> ID：11446643
> 
> 赞同：12
> 
> 时间：2012-07-12T07:08:27.720
> 
> 标签：c#, .net, networking, filesystems, file-transfer

我正在使用涉及许多客户端 PC 和一些服务器机器的设置。我需要在这些 PC 之间组织一种可靠且快速的文件传输方法，该方法将由在两者上运行的 C# 应用程序启动。任何客户端都可能希望从任何服务器发送/接收数据。选项包括：

*   FTP - 使用[FtpWebRequest](http://msdn.microsoft.com/en-us/library/ms229715.aspx)或[SOSFTP](http://sourceforge.net/projects/sosftp/)将文件上传到 FTP 服务器。服务器检查其文件系统上的新文件并执行所需的步骤。

*   SCP - 安全文件传输。用法与 FTP 相同，但增加了机器之间的安全性。可能比 FTP 慢。

*   DropBox / Box.Net - 使用在线云存储解决方案和[SharpBox](http://sharpbox.codeplex.com/)等库。可能是免费/付费的。考虑到该方拥有您的文件，可能不太安全。

*   UDP - 使用[EME](http://businessintegrationtechnology.com/CommunityEdition.html)或[GoAnywhere](http://www.goanywheremft.com/products)等库通过 UDP 直接将数据从 PC 传输到 PC。可能更快，但可能更不可靠，因为它使用定制技术。

你有什么建议吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-13T04:01:58.207

我有一个超级偏见的观点，来自一家生产文件传输软件的公司，所以我把免责声明放在前面和中心，以对我所说的一切持保留态度。;-)

如果您将非常大的文件共享到多个端点，那么您可以使用以下两种方法之一：

1.  MFT（托管文件传输）解决方案
2.  使用基于 UDP 协议的产品或 API

1 - MFT 解决方案通常使用基于 TCP 的传输（如 FTP）作为传输机制，但通常包含纯 TCP 中没有的附加可靠性机制。它们还将包括用于安排和组织许多端点之间的传输的工具。据我所知，没有任何重要的 MFT 解决方案可以免费或低成本获得，但有大量企业级 MFT 解决方案以预期的成本提供。

2 - 几年来，一些公司已经在 UDP 之上构建的协议中构建了专有的控制和可靠性机制。通过创建这个自定义层，UDP（它自己没有可靠性）实际上变得更加可靠，并且可以拥有比基于 TCP 的传输所能拥有的更多的功能，同时不会受到数据包丢失和延迟的不利影响（读作：通常更快的传输速度）。该协议也不一定独立于 MFT（它固有地具有一些 MFT 特性，供应商可能会将其烘焙到 MFT 解决方案中），但可能可用于其原始协议（通过 API），并且没有传统的所有 UI 陷阱“MFT 解决方案”。

有一些开源的基于 UDP 的文件传输协议，比如 Tsunami 或 UDT。它们不是特别维护良好或功能丰富（我有一些偏见！），据我所知，它们都没有原生 C# 库。然而，在同一点上，我所知道的商业产品都没有本地 C# 库，尽管包装器可用。

* * *

如果您描述的转移类型将成为组织日常活动的常规和持续部分，那么我很难推荐任何超出我上面提到的内容。并且要做到“正确”（或者至少没有不重要的开发项目），您可能需要一个商业解决方案。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-18T15:08:06.410

我发现这里提到 GoAnywhere 很有趣。它被认为是一种 MFT 解决方案。我已经使用 MFT 好几年了，发现它可以非常有效地完成您在此处描述的操作，而无需编写 C# 代码。它不是免费的，但我认为物有所值。

它允许您自动化和安排各种传输协议，例如 FTP、SFTP、FTPS、PGP、HTTPS，以及跨网络连接到多个共享 PC 和服务器。如果我需要按摩数据以使用不同的应用程序，MFT 还允许我进行格式更改。运行查询以仅从各种数据源中提取我需要的数据。它还记录所有交易，以便我可以验证它是否已发送文件，并且可以设置为在有任何错误时通过电子邮件提醒我。我发现它是满足我所有数据传输要求的完美工具。

我不是任何 MFT 软件公司的员工，而是一个非常喜欢该产品的客户。它让我的工作生活变得如此轻松。[在http://blog.linomasoftware.com/2012/01/24/managed-file-transfer-changed-my-life/](http://blog.linomasoftware.com/2012/01/24/managed-file-transfer-changed-my-life/)上有一个很好的例子来说明它如何帮助 IT 员工

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-12T07:21:29.643

您可以使用[WCF的](http://msdn.microsoft.com/en-us/library/ms751463.aspx)[流式传输](http://www.codeguru.com/csharp/.net/net_wcf/article.php/c18583/Passing-Large-Files-in-Windows-Communication-Foundation-WCF-using-Streaming-and-TCP.htm)功能

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-12T07:25:40.943

据我了解您所写的内容，数据作为服务器共享给每个客户端。那么为什么不考虑使用 torrent 协议呢。这是一个开源库。 [http://www.mono-project.com/MonoTorrent](http://www.mono-project.com/MonoTorrent)

# c++ - C++在程序文件中创建文件的过程

> ID：11446648
> 
> 赞同：2
> 
> 时间：2012-07-12T07:08:43.487
> 
> 标签：c++, windows, windows-shell

我正在尝试使用`CreateProcess`以运行位于用户的 Program Files 目录中的文件，因此我正在尝试使用`CSIDL_PROGRAM_FILESX86`该特定程序，因为该特定程序将始终位于 (x86) 文件夹中。

我的问题是我无法让它工作，由于某种原因，我找不到任何关于如何使用`createprocess`和`CSIDL_PROGRAM_FILESX86`

你能告诉我这样的例子吗？也许我应该使用不同的功能？

**编辑**：

这是我当前的代码：

```
wchar_t* localAppData = 0;
SHGetFolderPath(NULL, CSIDL_PROGRAM_FILESX86, 0, NULL, &localAppData);

wstringstream ss;
ss << localAppData << L"/MyApp/MyExe.exe";

CreateProcess(static_cast<void*>(localAppData)); 
```

我得到这个`SHGetFolderPath`：

`cannot convert parameter 5 from wchar_t ** to LPWSTR`

此外，即使我在标题中包含了 sstream，我也会收到以下错误：

`'wstringstream' : undeclared identifier`

注意：我正在使用 SHGetFolderPath 因为我需要它才能在 XP 和 Vista/7 上工作

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T17:53:18.537

The problem is the C style string handling that you need for the Windows API:

```
wchar_t localAppData[MAX_PATH]; // Array, not a pointer.
SHGetFolderPath(NULL, CSIDL_PROGRAM_FILES, 0, NULL, localAppData);

std::wstringstream ss;
ss << localAppData << L"/MyApp/MyExe.exe";

CreateProcess(ss.str().c_str(), ...); 
```

Also, note that only `CSIDL_PROGRAM_FILES` is supported with `SHGetFolderPath`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:20:23.580

winapi 文档中有一个[SHGetSpecialFolderPath ，也许它会有所帮助。](http://msdn.microsoft.com/en-us/library/windows/desktop/bb762204%28v=vs.85%29.aspx)

编辑：

似乎已弃用一个，因此请改用[SHGetFolderPath](http://msdn.microsoft.com/en-us/library/windows/desktop/bb762181%28v=vs.85%29.aspx)。

根据评论编辑：

如果您在 vista 及更高版本上，请使用[SHGetKnownFolderPath 。](http://msdn.microsoft.com/en-us/library/windows/desktop/bb762188%28v=vs.85%29.aspx)

编辑：[示例stackoverflow代码](https://stackoverflow.com/questions/7448057/how-do-i-convert-pwstr-to-string-in-c)

您可以将 CoTaskMemFree 替换为 CreateProcess。

# javascript - JavaScript 在 IE 中没有开发者控制台就无法运行（不能归因于缺少控制台）

> ID：11446650
> 
> 赞同：1
> 
> 时间：2012-07-12T07:08:50.483
> 
> 标签：javascript, internet-explorer, console

我正在编写一个为浏览器提供 JavaScript 应用程序的 Web 应用程序平台。不用说，我在加载文档后使用 JS 方法启动了一个应用程序，但在 IE9 上，如果开发者控制台没有被摆弄，什么都不会发生。

这似乎是典型的缺少控制台问题，但我无法通过添加控制台检查或从源代码中删除控制台调用来解决它。

你们能看出我哪里出错了吗？

*   网站：[http ://eiskis.net/proot/pika/proot/](http://eiskis.net/proot/pika/proot/)
*   JS 来源：[http ://eiskis.net/proot/pika/proot/assets/behavior](http://eiskis.net/proot/pika/proot/assets/behavior)

我正在使用同一平台为多个单独的 Web 应用程序提供服务，因此您还可以查看以下内容（问题似乎完全一样）：

*   [http://eiskis.net/proot/pika/baseline](http://eiskis.net/proot/pika/baseline)
*   [http://eiskis.net/proot/pika/docs](http://eiskis.net/proot/pika/docs)
*   [http://eiskis.net/proot/pika/fails](http://eiskis.net/proot/pika/fails)
*   [http://eiskis.net/proot/pika/helloworld](http://eiskis.net/proot/pika/helloworld)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:22:47.980

并非所有版本的 Internet Explorer 都支持 Object.keys：请参考以下内容：[https](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/keys) ://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/keys 以下（来自上述来源）添加Object.keys 到不支持它的浏览器：

```
 if (!Object.keys) {
  Object.keys = (function () {
    var hasOwnProperty = Object.prototype.hasOwnProperty,
        hasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),
        dontEnums = [
          'toString',
          'toLocaleString',
          'valueOf',
          'hasOwnProperty',
          'isPrototypeOf',
          'propertyIsEnumerable',
          'constructor'
        ],
        dontEnumsLength = dontEnums.length

    return function (obj) {
      if (typeof obj !== 'object' && typeof obj !== 'function' || obj === null) throw new TypeError('Object.keys called on non-object')

      var result = []

      for (var prop in obj) {
        if (hasOwnProperty.call(obj, prop)) result.push(prop)
      }

      if (hasDontEnumBug) {
        for (var i=0; i 
```

 `In addition, your method of checking the existence of console is erroneous :

Try running (http://jsfiddle.net/PytAh/) in internet explorer:

```
`if (console){
    alert("there");
} else {
    alert("not there");
}` 
```

`It will generate an error showing that console does not exist. You can replace it by :`

 ````
if (window.console){
    alert("there");
} else {
    alert("not there");
}

`````

# python - 从 Entry 小部件获取值并创建变量列表 Tkinter

> ID：11446652
> 
> 赞同：0
> 
> 时间：2012-07-12T07:08:53.630
> 
> 标签：python, list, tkinter, ttk

我有以下代码可以工作并给我每个值。一旦收集到所有值，我似乎无法创建它们的列表。我目前一次只获得一个价值..！我尝试了以下两种方法：

```
def numberwritten(self, event, key, index):
    self.values = []
    if not self.left[index]:
        self.box[key].config(fg='black')
        self.left[index] = True
        self.values.append(self.box[key].get())
        print self.values 
```

这适用于每次只打印一个值，但我想要一个可以分配“n”个变量的列表（每次获得的值的数量随机变化）。

例如，我想做 'Value %s" % i = 获得的值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T12:16:41.803

您正在创建小部件行。每行可能比其他行有更多或更少的小部件。在某些时候，您需要获得一个代表每行数据的列表。你在问，“我如何得到这个列表？”。我对么？

关于这个简单的问题，你一定问了 20 个问题。问题不在于这个或任何其他单一功能，而在于您的一般架构。一位非常非常聪明的程序员曾经告诉我“如果你想让我理解你的代码，不要给我看你的代码，给我看你的数据结构”。这里的根本问题是，您没有数据结构。如果你不组织你的数据，你就不能希望轻松地获取数据。

这个问题没什么难的。为每一行保留一个条目小部件列表，并在需要值时迭代该列表。以下伪代码显示了这有多简单：

```
class MyApp(object):
    def __init__(self):
        # this represents your data model. Each item in the 
        # dict will represent one row, with the key being the
        # row number 
        self.model = {}

    def add_row(self, parent, row_number):
        '''Create a new row'''
        e1 = Entry(parent, ...)
        e2 = Entry(parent, ...)
        e3 = Entry(parent, ...)
        ...
        # save the widgets to our model
        self.model[row_number] = [e1, e2, e3]

    def extend_row(self, parent, row_number, n):
        '''Add additional widgets to a row'''
        for i in range(n):
            e = Entry(parent, ...)
            self.model[row_number].append(e)

    def get_values(row_number):
        '''Return the values in the widgets for a row, in order'''
        result = [widget.get() for widget in self.model[row_number]]
        return result 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T12:11:10.387

`self.values = []`每次调用时都会清除列表`numberwritten()`，这就是您只打印一个值的原因。`self.values`全局声明或在`__init__()`类中的函数中声明。

在每次循环迭代期间打印一个值的格式方面，请尝试以下操作：

```
print("Value %i = %s" % (index, self.box[key].get()) 
```

* * *

*编辑：*如果您真的想在每次循环迭代中打印整个列表，我从[这个](https://stackoverflow.com/a/5445983/404469)答案中借用了以下内容：

```
# Map items in self.values to strings (necessary if they are not strings).
print("All values: [%s]" % ", ".join(map(str, self.values)))

# Use this if the contents of self.values are strings.
print("All values: [%s]" % ", ".join(self.values)) 
```

# php - 在 PHP 应用程序中验证和嵌入私有 Google 日历？

> ID：11446657
> 
> 赞同：2
> 
> 时间：2012-07-12T07:09:17.667
> 
> 标签：php, zend-framework, google-api, google-calendar-api

在我的 PHP 应用程序中，我为系统中的每个用户存储 GoogleCalender 用户名/密码。现在我想显示日历属于登录到系统的用户。

我想到的第一件事是使用 Zend Google Calender API 来获取日历数据并将它们填充到 FullCalender (http://arshaw.com/fullcalendar/) 之类的东西上。

但我想知道这就像重新发明轮子，有没有简单的方法可以做到这一点？可以直接集成谷歌日历小部件吗？

我已经看到嵌入公共日历的示例，但是私人日历和应用程序是否可以进行身份​​验证？

# javascript - 将 latlng 写入计算机上的文件

> ID：11446659
> 
> 赞同：2
> 
> 时间：2012-07-12T07:09:23.803
> 
> 标签：javascript

我制作了一个函数，它可以从 url 获取地址并返回其 latlng 并在地址上显示一个标记。是否有可以将 latlng 写入剪贴板的 javascript 函数。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T07:10:47.030

不，目前还没有 JavaScript 访问剪贴板的标准机制。有各种非标准机制，例如 Flash（[zeroclipboard](https://github.com/jonrohan/ZeroClipboard)等），但它们当然需要 Flash。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:35:41.123

正如[TJ Crowder](https://stackoverflow.com/users/157247/t-j-crowder)在他的回答和 afaicr 中所说，没有可以访问剪贴板的 javascript 函数。无论如何，如果您在 Windows 下，您可以尝试将您的 javascript 与[`WSH`](http://en.wikipedia.org/wiki/Windows_Script_Host) （Windows 脚本主机）脚本结合起来，并将 latlng 从脚本传递到剪贴板。**请注意，如果需要，您可以在同**一个文件中使用 javascript（JScript，Microsoft Javascript 风格，它与 javascript 相同，只是名称更改）和 VBscript 编写 WSH 文件的脚本。因此，您可以重新利用在线 VBscripts 执行对剪贴板的访问，并传递您在 JScript 中获得的变量值。

我找到的一些 URL，只是为了指出问题（尝试更好地搜索，甚至是 VBscript 或 WSH 教程）：

[http://www.memosoup.com/20100126/using-the-clipboard-in-wsh.html](http://www.memosoup.com/20100126/using-the-clipboard-in-wsh.html)

[http://www.codeproject.com/Articles/33702/WSH-Clipboard-Access](http://www.codeproject.com/Articles/33702/WSH-Clipboard-Access)

[http://nerds-central.blogspot.it/2007/01/using-jscript-to-paste-text-into.html](http://nerds-central.blogspot.it/2007/01/using-jscript-to-paste-text-into.html)

您可以将 latlng 值存储在 a`Cookie`中，然后从`WSH`脚本中读取它，该脚本将执行复制到剪贴板。以另一种方式，您可以编写一个简单的控制台`.exe`程序来执行相同的任务。我猜您可以从服务器端语言或 javascript 启动它们。

如果您是在 Unix 下开发，您可以尝试搜索有关`Unix shell script`在`Unix programming`.

# rubygems - 如何从 bugzilla 存储库转换为 redmine？

> ID：11446662
> 
> 赞同：0
> 
> 时间：2012-07-12T07:09:36.437
> 
> 标签：rubygems, migration, redmine, bugzilla

我尝试将[bz2redmine](https://github.com/ralli/bz2redmine)放入临时目录并按照自述文件的建议运行它：

```
sudo ruby bz2redmine.rb 
```

...但我收到一个错误：

```
/usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require': cannot load such file -- settings (LoadError)
    from /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from bz2redmine.rb:29:in `<main>' 
```

settings.rb 文件与 bz2redmine 脚本位于同一目录中。

我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-16T19:15:41.210

原来是迁移脚本中的一个错误：[https ://github.com/ralli/bz2redmine/issues/8](https://github.com/ralli/bz2redmine/issues/8)

# oracle11g - 恢复后更改数据库名称控制文件？

> ID：11446666
> 
> 赞同：4
> 
> 时间：2012-07-12T07:09:56.783
> 
> 标签：oracle11g, backup, restore, rman

我已将名为 DB 的数据库还原到另一个名为 DB01 的数据库

它处于 STARTED 状态（未安装），如果未安装，我似乎无法更改名称，并且由于名称我无法安装它，如果可能的话如何解决这个问题？

我在托管数据库 DB01 的当前服务器上从 DB 进行了 RMAN 完整备份，initdb01.ora 已准备好并配置了 DB01

接下来我能做什么

nid没有帮助！它要求安装数据库！我无法安装它

**ORA-01103: 控制文件中的数据库名称 'DB' 不是 'DB01'**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T05:37:49.840

所以这里将 db_name 设置为 DB，一旦数据库打开就开始恢复，您可以使用 nid 实用程序更改数据库名称。

```
SQL > ALTER SYSTEM SET DB_NAME=DB SCOPE=spfile; 
```

请参考链接： [Changing oracle db name in 10G](http://sabdarsyed.blogspot.in/2007_03_01_archive.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-19T07:21:50.690

您需要重新创建控制文件。最好的办法是先在原databasr中执行以下命令：

```
alter database backup controlfile to trace; 
```

这将在跟踪目录中创建一个文本文件。您需要更改文件路径以匹配新的数据库文件位置，并更改 db_name 参数。

完成上一步后，在 nomount 中启动新数据库并执行上述文件（确保您已连接到新数据库并且所有文件路径都指向新数据库）。这将创建一个新的控制文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-08T14:22:55.840

如果您要恢复到不同的盒子，那么您可以暂时使用原始数据库的名称来挂载恢复的数据库。然后，您可以挂载恢复的数据库并使用已挂载的数据库可用的工具。

*   更改`ORACLE_SID`为原始数据库名称

*   重命名 spfile 以包含原始数据库名称

*   使用它来更改 spfile 中的名称。

    ALTER SYSTEM SET DB_NAME=ORIGINAL_DBNAME SCOPE=spfile;

这不适用于运行原始数据库的机器，因为您不能在同一个机器上运行两个具有相同名称的数据库。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-14T13:46:47.393

请参阅 Oracle 支持文档 ID 1906009.1。

您需要从备份中重新创建控制文件，然后修改它以使用带有 SET DATABASE 选项和 RESETLOGS 的 REUSE。利用

```
alter database backup controlfile to trace; 
```

然后使用 create controlfile 命令找到相关的跟踪文件。修改 SQL 以包含推荐的选项。我只是这样做了，这是我的例子：

```
CREATE CONTROLFILE REUSE set DATABASE "ANDYSTBY" RESETLOGS  ARCHIVELOG
    MAXLOGFILES 16
    MAXLOGMEMBERS 3
    MAXDATAFILES 100
    MAXINSTANCES 8
    MAXLOGHISTORY 292
LOGFILE
  GROUP 1 (
    '+LOGS/ANDYSTBY/ONLINELOG/group_1.258.917112951',
    '+LOGS/ANDYSTBY/ONLINELOG/group_1.259.917113325'
  ) SIZE 50M BLOCKSIZE 512,
  GROUP 2 (
    '+LOGS/ANDYSTBY/ONLINELOG/group_2.257.917112935',
    '+LOGS/ANDYSTBY/ONLINELOG/group_2.260.917113339'
  ) SIZE 50M BLOCKSIZE 512,
  GROUP 3 (
    '+LOGS/ANDYSTBY/ONLINELOG/group_3.256.917112925',
    '+LOGS/ANDYSTBY/ONLINELOG/group_3.261.917113345'
  ) SIZE 50M BLOCKSIZE 512
-- STANDBY LOGFILE
DATAFILE
  '+DATA/ANDYSTBY/DATAFILE/system.257.917108631',
  '+DATA/ANDYSTBY/DATAFILE/sysaux.256.917108485',
  '+DATA/ANDYSTBY/DATAFILE/undotbs1.259.917108757',
  '+DATA/ANDYSTBY/DATAFILE/users.258.917108757'
CHARACTER SET AL32UTF8; 
```

恢复数据库后，您需要使用“使用备份控制文件”选项进行恢复。

使用备份控制文件恢复数据库直到取消；

# youtube - 你管视频不在 iOS6 中播放

> ID：11446669
> 
> 赞同：5
> 
> 时间：2012-07-12T07:10:06.083
> 
> 标签：youtube, ios6

我正在使用 iOS6 beta youtube 视频，这些视频在我的应用程序中没有在这个版本中播放。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T19:02:51.647

请写下您添加 youtube 视频的方式。因为唯一读过的是 Youtube 应用程序不再在 iOS6 中，但它必须继续工作。无论如何尝试

```
NSString* embeddedCode = @"embed code of the youtube video"
UIWebView* videoView = [[UIWebView alloc] initWithFrame:CGRectMake(0, 0, 320, 480)]; 
[videoView loadHTMLString:embeddedCode baseURL:nil];
[self.window addSubview:videoView]; 
```

希望它有效，但如果它不只是评论，我可以尝试另一件事。

# validation - 禁用基础设施超网格验证弹出窗口

> ID：11446670
> 
> 赞同：1
> 
> 时间：2012-07-12T07:10:07.327
> 
> 标签：validation, popup, infragistics, ultrawingrid

我正在开发一个应用程序，我将数据从 excel 复制到超网格中。

当我粘贴错误数据时（例如，我将字符串粘贴到需要整数的列中），我会从超网格中弹出一个显示粘贴错误的窗口。

我想在没有弹出窗口的情况下进行自己的验证。

有没有办法关闭这些弹出窗口？

问候

格特

（在设计时我创建了一个超数据源来配置超网格）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T10:31:06.580

找到了问题的解决方案（感谢您的回答，它让我有了正确的思路）这就是解决问题的方法：

```
private void ugData_Error(object sender, Infragistics.Win.UltraWinGrid.ErrorEventArgs e)
        {
            e.Cancel = true;
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:24:01.940

试试这个

```
private void ultraGrid1_CellDataError(object sender, Infragistics.Win.UltraWinGrid.CellDataErrorEventArgs e)
{
    e.RaiseErrorEvent = false;
    e.StayInEditMode = false;
} 
```

# iphone - segue 后属性设置为 null

> ID：11446673
> 
> 赞同：0
> 
> 时间：2012-07-12T07:10:11.427
> 
> 标签：iphone, objective-c, ios, segue

在我的 prepareForSegue 方法中，我正在这样做：

```
LoggedInViewController *view = segue.destinationViewController;

NSLog(@"Preparing for view logged in for user %@ with %d zombies with %@",
          self.context.userName, self.context.zombies.count, view.view);

[view initWithContext:self.context]; 
```

在我的`initWithContext`方法中：

```
- (void)initWithContext:(TestSRConnectionContext *)__context{
    _context = __context;
    NSLog(@"Ok init for user %@ with %d zombies", __context.userName, _context.zombies.count);

} 
```

在日志中一切都很好。

我正在加载的视图是 UITableViewController 但没有加载任何项目。我以前有这个表工作过，所以表的逻辑没问题。

所以 - 我遇到的问题是视图出现时 _context.zombies 设置为 null；在 viewDidAppear 方法中，我检查了 _context.zombies，它为空！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:28:53.783

我写错了问题 - context 不是 null 而是 context.zombies 是。

我将属性声明上的弱属性更改为强，现在它可以工作了。

# codeigniter - Codeigniter：来自 DB 表的 /application/config/constant.php 中的常量

> ID：11446677
> 
> 赞同：4
> 
> 时间：2012-07-12T07:10:16.750
> 
> 标签：codeigniter

是否可以从数据库表中声明 /application/config/constant.php 中的常量？

我正在尝试做这样的事情。

```
$result = $this->db->select( 'attr, value' )->from( 'app_conf')->where( 'city', 53 )->or_where( 'city', -1 )->order_by( 'city' )->get();
$app_conf = $result->result_array();
// var_dump( $app_conf );
foreach( $app_conf as $row )
{
    define( "_{$row['attr']}", $row['value'] );
} 
```

但是现在我必须在我创建的每个控制器中都这样做，所以复制代码并要求在需要时进行更改，这似乎没有必要！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T07:18:23.487

扩展 CI 控制器并将其作为 MY_Controller 放置在 application/core 目录中。在扩展控制器的构造函数中放置上面的代码。现在你可以从你的控制器扩展它来执行相同的代码。因此，您无需一次又一次地编写此代码。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-12T07:35:36.907

通过扩展`CI_Controller`和使用这个控制器作为你的主控制器来创建一个新的控制器（用它来创建新的控制器而不是 CI_Controller）

```
<?php 
class MY_Controller extends CI_Controller{
    function __construct()
    {
        parent::__construct();
        // Assuming that you have loaded all required library in autoload
        $result = $this->db->select( 'attr, value' )->from( 'app_conf')->where( 'city', 53 )->or_where( 'city', -1 )->order_by( 'city' )->get();
        $app_conf = $result->result_array();
        foreach( $app_conf as $row )
        {
            define( "_{$row['attr']}", $row['value'] );
        }
    }
} 
```

创建一个新控制器（来自 MY_Controller 而不是 CI_Controller 的普通控制器）

```
class Somecontroller extends MY_Controller {
    function __construct()
    {
        parent::__construct();
        // ...
    } 

    // other functions/mechods
 } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-12T07:18:07.900

使用[钩子](http://codeigniter.com/user_guide/general/hooks.html)或[MY_Controller](http://codeigniter.com/user_guide/general/core_classes.html)来解决这个问题。或者，如果您很懒惰，您可以自动加载一个帮手来为您执行此操作。

然后它将在每次调用中定义。

# ios - 使用 QuickLook 框架 iOS 创建的 Xml 观看 XLS

> ID：11446679
> 
> 赞同：0
> 
> 时间：2012-07-12T07:10:24.003
> 
> 标签：ios, xml, xls, quicklook

我创建了一个 XLS，并提供以下建议：

[通过使用 xml 在 iOS 5 应用程序上创建文件将数据导出到 *.xls 文件](https://stackoverflow.com/questions/10735805/export-data-to-xls-file-by-using-xml-to-create-the-file-on-an-ios-5-app)

和

[http://mobile.experts-exchange.com/Apple/Hardware/iPhone/A_4575-Create-Excel-Supported-XML-in-iPhone-using-Xcode.html](http://mobile.experts-exchange.com/Apple/Hardware/iPhone/A_4575-Create-Excel-Supported-XML-in-iPhone-using-Xcode.html)

如果我用 openOffice 打开它，它工作得很好。

我的问题是我想用 QuickLook 框架打开那个文件。

在 Apple 指南中寻找关于 QLPreviewController 类参考的内容：

[http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Reference/QLPreviewController_Class/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Reference/QLPreviewController_Class/Reference/Reference.html)

它说：快速查看预览控制器可以显示以下项目的预览：

Microsoft Office 文档（Office '97 和更高版本）

但是我尝试使用可以使用 openoffice 打开的相同文件 xlsx，但它不适用于 QLPreviewController。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-28T21:58:44.323

如果您对文件和支持它的 Quick Look 有任何疑问，请尝试在 Finder（在 OS X 上）中使用 Quick Look，看看它是否可以显示该文件，或者使用 Numbers。最后，尝试通过电子邮件将文件发送到您的 iOS 设备，并查看邮件应用程序是否可以显示该文件。

如果不支持，则可能是 Quick Look 底层转换引擎不支持您的文件格式（它以 Open Office 可以处理的微妙方式损坏，或者它是 Quick Look 无法理解的特殊格式）。

无论哪种方式，您都应该访问[Apple 的错误报告网站](http://bugreport.apple.com/)并提交错误，并将您的文件附加到其中。

# ios - 显示包含不同字体大小和样式的文本块

> ID：11446683
> 
> 赞同：0
> 
> 时间：2012-07-12T07:10:29.777
> 
> 标签：ios

我正在开发一个 iPhone 应用程序，我想知道如何以编程方式显示一个带有粗体和/或不同大小的子字符串的文本块。似乎它应该是可行的，但我很难找到一个例子或找到合适的东西来搜索。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:19:33.267

您唯一的选择是使用`UIWebView`. 使用动态创建您的 HTML `[NSString stringWithFormat:];`，然后您可以执行`[myWebView loadHTMLString:previouslyCreatedHTMLString baseURL:nil];`

希望这可以帮助。

干杯!

# php - 字符串格式 - 逻辑问题

> ID：11446684
> 
> 赞同：2
> 
> 时间：2012-07-12T07:10:31.820
> 
> 标签：php, json

> **可能重复：**
> [PHP：为 JSON 创建数组](https://stackoverflow.com/questions/6739871/php-create-array-for-json)

我需要以以下 JSON 格式输出数据。

输出 ：

```
[
    {
        "name": "jake",
        "age": "20"

}
] 
```

在下面的代码中，我需要设置键和值对以提供上述 JSON 输出。我怎么能这样做？

代码 ：

```
$result = array();
$key = array("name", "age");
$value = array("jake", "20");

while($i>2)
{
    $result [] = HERE I NEED TO SET <key : value> COMBINATION, I NEED IT TO SET IN A WAY IT WILL GIVE THE FORMAT OF THE JSON OUTPUT GIVEN ABOVE.
}

echo json_encode($result ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:16:45.793

```
$key = array("name", "age");
$value = array("jake", "20");
$json=array();
for($i=0;$i<=count($key)-1;$i++)
{
    $json[$key[$i]]=$value[$i];
}
echo json_encode($json); // {"name":"jake","age":"20"} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:13:04.920

您可以使用[`array_combine`](http://php.net/manual/en/function.array-combine.php)

```
$result = array_combine($key, $value); 
```

结果：

```
var_dump($result);

array(2) {
  ["name"]=>
  string(4) "jake"
  ["age"]=>
  string(2) "20"
}

var_dump(json_encode($result));

string(26) "{"name":"jake","age":"20"}" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T07:13:23.720

试试[array_combile](http://php.net/manual/en/function.array-combine.php)。

```
$result = array();
$key = array("name", "age");
$value = array("jake", "20");

$result[] = array_combine($key, $value);

echo json_encode($result); 
```

# android - ViewPager 上的 OutOfMemoryError

> ID：11446687
> 
> 赞同：2
> 
> 时间：2012-07-12T07:10:38.173
> 
> 标签：android, android-fragments, android-viewpager, out-of-memory

我正在使用 13 页的 ViewPager。它使用 FragmentStatePagerAdapter 进行管理，每个页面加载 250 个图像作为背景，有时每页加载 5 个图像。

我经常遇到 OutOfMemoryError 错误，我正在三星 Galaxy Tab 2 上测试我的应用程序，所以我想我做错了什么。

有没有办法在 ViewPager 上发布我的 Fragments 的生命周期中未使用的图像？还有什么想法吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T13:59:43.860

[在您的 UI 中显示位图的](http://developer.android.com/training/displaying-bitmaps/display-bitmap.html)所有内容都得到了很好的解释和详细说明

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-26T18:53:49.517

设置`android:largeHeap`to`true`对于这类问题也非常有用。

# java - 使用 DefaultHandler 进行 SAX 解析将所有文本转换为小写

> ID：11446702
> 
> 赞同：1
> 
> 时间：2012-07-12T07:11:32.180
> 
> 标签：java, xml, parsing, sax

我正在使用 DefaultHandler 解析出基于 XML 的 InputStream。它工作正常，但有一个例外。所有字符都转换为小写。例如，如果我的 xml 有一个像 VALUE 这样的元素，我在解析后看到的是值（而不是 VALUE）。任何线索如何在解析原始大小写时获取值（大写而不是小写）？

```
public void endElement(String uri, String name, String qName) throws SAXException {
    try {
         if(name.equalsIgnoreCase("taga")){
          System.err.println("value parsed .. "+_objBuffer.toString());

   }
   catch (Exception e) {}

}

public void characters(char[] ch, int start, int length) throws SAXException {
    try{
            _objBuffer.append(ch, start, length);
    } catch(Exception e) {}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-03-03T17:34:49.053

尝试检查实现功能`equalsIgnoreCase()`。

可能您应该使用`equals()`而不是`equalsIgnoreCase()`.

# c# - 用于单元测试的虚拟对象列表生成器

> ID：11446711
> 
> 赞同：3
> 
> 时间：2012-07-12T07:12:04.383
> 
> 标签：c#, unit-testing, dummy-data

谁能告知c#中是否有任何好的框架可以生成虚拟对象和列表，这样我们就不需要手动生成存根数据？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-12T08:22:08.493

你可以试试[NBuilder](http://nbuilder.org/)。它的目的是快速生成测试对象。

如果您有 Employee 类：

```
public class Employee
{
    public string Name { get; set; }
    public DateTime Birthday { get; set; }
} 
```

生成 10 个 Employee 对象的列表很简单，如下所示：

```
var employees = Builder<Employee>.CreateListOfSize(10).Build(); 
```

它将为对象的所有字段生成唯一的增量值：

```
Name1 7/12/2012
Name2 7/13/2012
Name3 7/14/2012
... 
```

NBuilder 还具有强大的流畅接口，允许为任何生成的对象设置自定义值：

```
var employees = Builder<Employee>.CreateListOfSize(10)
    .TheFirst(1).With(e => e.Name = "Sergey")
    .All().With(e => e.Address = Builder<Address>.CreateNew().Build())
    .Build(); 
```

你也可以看看：

*   [自动夹具](http://autofixture.codeplex.com/)
*   [AutoPoco](http://autopoco.codeplex.com/)
*   [Symply 测试数据](http://igor-toporet.github.com/simply-test-data/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:56:38.020

我喜欢使用并执行您要求的框架如下：[Rhino Mocks](http://ayende.com/blog/3384/rhino-mocks-3-5-design-decisions-the-role-of-stub-vs-mock)

这适用于 C# 及其优越性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T08:30:49.157

如果您需要创建接口或抽象类的假实现，那么有一堆“模拟框架”可用。其中之一是Harry提到的Rhimo Mocks。作为该领域的初学者，我还建议您使用[Moq](http://code.google.com/p/moq/)，因为与 Rhino Mocks (IMHO) 相比，它更简单。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T07:14:27.680

我喜欢使用并执行您要求的框架如下：[Unitils](http://unitils.org/summary.html)

但话又说回来，我不知道你问的是哪种编程语言？建议的一个是Java。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-06-23T12:06:43.617

每个人都喜欢真实的假数据，使用[Bogus](https://github.com/bchavez/Bogus)库。

> ```
> var faker = new Faker("en");
> 
> var emailList = Enumerable.Range(1, 5)
>       .Select(_ => faker.Internet.Email())
>       .ToList();
> 
> //OUTPUT:
> Gustave83@hotmail.com    
> Evie33@gmail.com 
> Abby_Wilkinson@yahoo.com 
> Cecilia.Hahn@yahoo.com   
> Jasen.Waelchi85@gmail.com 
> ```

# sql - 在不知道位置或长度时使用 SubString

> ID：11446712
> 
> 赞同：0
> 
> 时间：2012-07-12T07:12:12.440
> 
> 标签：sql

任何人都可以帮助我，因为我需要在之后提取数字`"Reference=" in the enclosed?`不可能知道数字之前或之后的字符数以及数字的长度（也可以是字母和数字），但它总是

`After "Reference=" Before ",Description"`

`Object=CTSENORaanG,Reference=0000021357,Description=Test,Currency=EUR,Initial_Date=15Aug2011....`

该字符串来自具有大量行的表，我需要将每一行的引用插入到另一个表中

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:28:49.017

SQL 服务器

```
declare @str varchar(1000)
set @str='Object=CTSENORaanG,Reference=0000021357,Description=Test,Currency=EUR,Initial_Date=15Aug2011....';

select substring(col,1,charindex(',',col)-1) from
(
select substring(@str,charindex('Reference=',@str)+10,100) as col
) as t; 
```

MySQL

```
set @str:='Object=CTSENORaanG,Reference=0000021357,Description=Test,Currency=EUR,Initial_Date=15Aug2011....';

select substring(col,1,locate(',',col)-1) from
(
select substring(@str,locate('Reference=',@str)+10,100) as col
) as t; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:18:35.007

如果分隔符始终是逗号`,`，则可以拆分字符串。然后，如果分隔的子字符串也与 . 一致，您可以将其进一步拆分`=`。一旦你捞出来`Reference`，你会得到它的等值。

```
/* your test string */
string s = "Object=CTSENORaanG,Reference=0000021357,Description=Test,Currency=EUR,Initial_Date=15Aug2011";     
string[] arr = s.Split(',');

/* will contain the value you're looking for */    
string target = String.Empty;

foreach (string item in arr)
{
   string[] entry = item.Split('=');
   if (entry.Length == 2 && entry[0] == "Reference")
   {
      target = entry[1];
      break;
   }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T07:26:31.970

```
use
pos = explode(",",string);
foreach(pos as po)
{
    p = explode("=",po)
    i=0;
    foreach(p as a)
    {
        if(a[i]== Reference)
        {
            echo p[i+1];
            i++;
        }
    }
} 
```

# scala - Scala 的 `AnyVal` 堆栈是否已分配？

> ID：11446714
> 
> 赞同：14
> 
> 时间：2012-07-12T07:12:31.593
> 
> 标签：scala

Scala`AnyVal`及其子类 [可以] 堆栈分配 [如 C# 结构或 Java 原语]？我们可以像 C# 在 Scala 上的结构一样制作自定义的堆栈分配变量吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-12T08:43:48.557

斯卡拉：

```
class A {
  val a: AnyVal = 1
  val b: Int = 1
} 
```

scalac A.scala

javap -c 一个

```
public class A extends java.lang.Object implements scala.ScalaObject{
 public java.lang.Object a();
  Code:
   0:   aload_0
   1:   getfield        #13; //Field a:Ljava/lang/Object;
   4:   areturn

 public int b();
  Code:
   0:   aload_0
   1:   getfield        #16; //Field b:I
   4:   ireturn

 public A();
  Code:
   0:   aload_0
   1:   invokespecial   #22; //Method java/lang/Object."<init>":()V
   4:   aload_0
   5:   iconst_1
   6:   invokestatic    #28; //Method scala/runtime/BoxesRunTime.boxToInteger:(I)Ljava/lang/Integer;
   9:   putfield        #13; //Field a:Ljava/lang/Object;
   12:  aload_0
   13:  iconst_1
   14:  putfield        #16; //Field b:I
   17:  return
} 
```

因此，正如预期的那样，明确的 AnyVal 使用会导致堆上的盒装原语。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-12T21:37:07.323

`AnyVal`在可能的情况下，子类是堆栈分配的。`AnyVal`如果对象超出范围，则在 2.10.0上扩展的较新的用户创建类会发生异常。

`Any`并将`AnyVal`存储在堆上......除非你`@specialized`.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-12T07:14:51.347

我也是 Scala 的新手，但是 AFAIK，Scala 变量不能包含实际对象。它最多可以包含对对象的*引用*。（你得到一个引用，`new`并且没有解引用运算符来*跟随*对对象的引用（例如`*`在 C++ 中）。）

换句话说，所有非原始值都存在于堆中。（就像在 Java 中一样。）

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-07-12T08:49:35.193

JVM 不支持对泛型的具体化，并且没有为所有原始类型提供原始超类型的方法。因此，类型的字段或参数`AnyVal`将始终是`java.lang.Object`字节码中的类型，并且将执行装箱/拆箱。

这并不一定意味着该值存储在堆上，因为 JVM 可能会执行某些优化。不过，您仍然必须期待运行时惩罚。

# html - html 属性正确（就标准而言）？

> ID：11446719
> 
> 赞同：0
> 
> 时间：2012-07-12T07:13:01.037
> 
> 标签：html, css

我在网站的源代码中发现了这种奇怪的（对我来说）语法：

```
<td style></td> 
```

是否应该在 html 元素中放置而不定义属性？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T07:14:27.140

AFAIK WebKit 将在未传递任何内容时删除`"`显示源时传入的所有内容。

示例：`<div style=""></div>`将成为`<div style></div>`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:23:05.787

这是合法的[HTML](http://www.w3.org/TR/html401/intro/sgmltut.html#h-3.2.2)：“元素*可能*[我的重点] 具有关联的属性，称为属性，可能具有值（默认情况下，或由作者或脚本设置）。”

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T10:44:38.937

在实践中，如果`style`单独用作属性，它会被忽略——除非 XHTML 文档以 XML 内容类型提供服务，在这种情况下，它构成格式正确错误，并且根本不显示文档，并且显示错误信息。

原则上，它取决于 HTML 版本。根据现有规范，这是一个错误。HTML5 对此含糊其辞，或者我找不到那里讨论这个的地方，但 HTML5 模式下的 W3C HTML Validator 接受。

# javascript - 无法在php上发送ajax请求

> ID：11446724
> 
> 赞同：0
> 
> 时间：2012-07-12T07:13:12.627
> 
> 标签：javascript

我正在使用在 php 上发送 ajax 请求。在表单方法中使用以下代码。

rohit1.php

```
<form action="index1.php" onsubmit="callfunc()">
<span id="raj"></span>
<input type="submit" value="submit"></div>

</FORM> 
```

在 javascript 中使用：callfun.js

```
function callfunc()
{

var http =new XMLHttpRequest(); 
    var name=prompt('enter name of the form');
    var name="rohit";
    var url = "index1.php";
    var s = document.getElementById('raj').innerHTML;
    alert(http);
    http.open("POST", "index1.php?name="+name, true);

    http.onreadystatechange = function() 
    {
        if(http.readyState == 4 && http.status == 200) 
        {

        }

    }

    http.send();
} 
```

当我使用这个功能时。然后在提交时这是重定向 index.php?label= 而不是 index.php?name= 我应该为此做什么？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:14:21.553

只需尝试在函数`return false`末尾添加即可。`callfunc()`它将阻止表单的默认事件，并且不会充当标准表单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:36:39.303

```
<form action="index1.php" onsubmit="callfunc()">
    <span id="raj"></span>
    <input type="submit" value="submit"></div>
</form> 
```

并且适当的 javascript 将如下所示：

```
function callfunc() {
    var name = "some name here"; // get this name from whereever you want
    window.location.href = "index1.php?name="+name;
    return false;
} 
```

这应该适合你

# php - 我如何将 json 从 php 传递给 js 并对其进行操作？

> ID：11446728
> 
> 赞同：1
> 
> 时间：2012-07-12T07:13:26.163
> 
> 标签：php, javascript, json, caching

这是我想做的

1.  我使用 codeigniter directory_map() 函数映射文件夹，将其保存为 $map；

    ```
     $map = directory_map($this->rootdir.$this->session->userdata('user_name')); 
    ```

2.  然后我对 $map 进行编码并回显它

    ```
     echo $dir = json_encode($map); 
    ```

3.  我想要的是以某种方式保存 $dir。所以当用户打开其中一个文件夹时，我可以使用 js 从保存的 $dir json 文件中获取文件夹的内容，而不是与服务器通信。如果这有意义，那么我该如何保存$dir json 文件或如何在 js 文件中获取它。

有更好的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:45:19.480

[我个人使用这里](http://davidwalsh.name/cache-ajax)提到的方法，基本上是沿着以下大纲：

**更新：（** *我想我让你有点困惑）以下是Javascript代码*

```
//Global object to store the cache
cache = {};
function makeRequest(requested_data){
   request_hash = hash(requested_data);
   if (cache[request_hash]){
       handleData(cache[request_hash]);
   }
   else{
       //Make Ajax call, get data response back and store it in the cache
       request_hash = hash(requested_data);
       cache[request_hash] = data;
       handleData(data);
   }
} 
```

**注意：**对于`hash()`，您可以使用任何散列算法，您实际上并不需要加密级别的散列，只需要创建基本签名的东西。我使用[Java 的 Javascript 实现`hashCode()`](http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/)

# mysql - Mysql存储过程SQLYog问题

> ID：11446734
> 
> 赞同：0
> 
> 时间：2012-07-12T07:14:03.367
> 
> 标签：mysql, sql, stored-procedures, sqlyog

我已经以我开发的方式设置了我的网站，`localhost`然后只是更新它，一切都很好，但是，`Stored Procedures`.

当我在 localhost 上创建存储过程，然后**使用 sqlyog 将其复制到实时服务器时，它会正常复制，但是无法在 live 上更改它**。为此，我必须创建另一个具有一些虚拟名称的名称，然后手动复制并粘贴实时 SP 的代码并执行以创建它。

知道这里可能是什么问题吗？

**更新**

我刚刚发现它与定义器的问题我认为是因为执行 SP 会导致此错误：

```
The user specified as a definer ('root'@'localhost') does not exist 
```

我没想到会出现这个问题，因为我`definer`在复制程序之前删除了它，但它是他们的。看起来像

> sqlyog可能会强制添加它

. 有什么想法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:41:57.277

当你上线时，代替

```
('root'@'localhost') 
```

将用户名替换为 root，将主机地址替换为 localhost。它可能对您同样适用。

# linux - 在期望脚本中终止屏幕会话

> ID：11446735
> 
> 赞同：3
> 
> 时间：2012-07-12T07:14:08.727
> 
> 标签：linux, expect, gnu-screen

我使用期望脚本中的 spawn 命令开始我的屏幕连接： spawn screen /dev/...

但是我不知道脚本完成后如何杀死屏幕

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:35:03.080

```
screen -X quit 
```

将`quit`命令发送到正在运行的屏幕会话。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T06:36:52.553

`screen -ls`然后尝试`screen -r #process id`进入屏幕。终止它可能使用`ctrl + d`.

# opencl - 刚启动内核后在主机上的执行流程

> ID：11446737
> 
> 赞同：0
> 
> 时间：2012-07-12T07:14:12.850
> 
> 标签：opencl

我有几个查询需要澄清。抱歉，如果它们看起来很基本。

1.  当我们使用 clEnqueueNDRangeKernel 启动内核时，主机代码实际上会发生什么，它是等待内核完成还是..？

2.  假设我们有多个内核，在这种情况下会发生什么？如果其中一个内核已经完成，主机是否可以从该内核检索结果，而其他内核仍在进行计算。

3.  我正在阅读 clCreateBuffer 的 OpenCL 规范（[链接在这里](http://www.khronos.org/registry/cl/sdk/1.1/docs/man/xhtml/clCreateBuffer.html)）。检查标志 CL_MEM_USE_HOST_PTR 的描述。为了您的方便，我在此处发布了它： **“它表明应用程序希望 OpenCL 实现使用 host_ptr 引用的内存作为内存对象的存储位。”**

我无法理解“应用程序”和“opencl 实现”的确切含义。此外，它还说**“允许 OpenCL 实现缓存缓冲区内容”。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:25:30.230

1.  内核模块入队并异步执行，clEnqueueNDRangeKernel 立即返回，主机程序继续执行。要使此调用同步，请等待来自最后一个可选参数的事件，或调用 clFinish 以等待所有排队的命令。

2.  如果多个内核属于同一个命令队列，它们将按照它们入队的顺序顺序执行。

3.  应用程序意味着您的代码在主机上运行。OpenCL implementation 是一个实现 OpenCL 接口的库。有几种 OpenCL 实现，例如 AMD、NVidia 等。

OpenCL 程序包含三个组件：运行在 CPU 中的主机代码、OpenCL 库（实现）和运行在 GPU 中的内核模块。

# actionscript-3 - 我可以检测显示器是宽屏还是方形并相应地设置视频吗？

> ID：11446738
> 
> 赞同：0
> 
> 时间：2012-07-12T07:14:14.113
> 
> 标签：actionscript-3, flash

我制作了一个全屏运行的 Flash 演示文稿，有几秒钟的动画，然后视频开始播放，当视频结束时，它进入主菜单。

视频是 720x1080 (16:9) 但我在 Flash 中的文档是 768x576 (4:3)。我根据 768x576 重新调整了视频的大小，因此顶部和底部出现了黑条。当我的 Flash 演示文稿在 Square 显示器上运行时没关系，如果显示器是宽的会怎样。我想要“动作脚本”来检测监视器的类型（宽或正方形），如果它是正方形，那么它会保持视频相同，但如果监视器很宽，那么它会以全屏模式启动视频。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:32:12.067

您可以使用[Capabilities](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/system/Capabilities.html)类，它有两个属性，`screenResolutionX`和`screenResolutionY`，它将为您提供此信息。这为您提供了主屏幕的分辨率。

您可能需要重新考虑您的假设，即显示器是方形的。屏幕分辨率要么是 4:3（640x480、800x600、1024x768、1280x1024），要么是在我的宽屏显示器上，其他比例既不是 4:3 也不是正方形（1920x1080）。您可能想对宽屏显示器使用的比率进行一些研究（笔记本电脑可能有一系列值）。

您的代码应向 Flash Player 查询屏幕分辨率：

```
var screenWidth:Number = Capabilities.screenResolutionX;
var screenHeight:Number = Capabilities.screenResolutionY; 
```

然后，您可以决定切换到全屏或以常规尺寸 (768x576) 渲染视频的适当时间。我可以想出几种方法来决定这一点，我相信你也可以。

以下是伪代码中的一些想法，可让您为您的应用考虑合适的解决方案：

```
if screen is not 4:3, assume wide screen and use full screen
if screenWidth >= actual width of video (1080), use full screen 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T08:13:09.733

不完全是在 ActionScript 中，但以下是您的代码应该是什么样子的记录。

```
var nScreenWidth:Number =  Capabilities.screenResolutionX,
    nScreenHeight:Number = Capanilities.screenResolutionY;

var nVideoWidth:Number = video.source.getWidth(), //assuming you are using video class, this should be video native size and not video component size.
    nVideoHeight:Number = video.source.getHeight();

var nRatioX:Number = nVideoWidth / nScreenWidth,  //Calculating X and Y ratio of video source and screen.
    nRatioY:Number = nVideoHeight / nScreenHeight;

var nRatio:Number = Math.min(nRatioX, nRatioY); //Picking up smaller ratio so that we can fit video in screen.

video.width = Math.round(nScreenWidth * nRatio); //Set video component width and height, this should make it fit to screen keeping aspect ratio.
video.height = Math.round(nScreenHeight * nRatio); 
```

# iphone - 弹出窗口中的导航栏

> ID：11446740
> 
> 赞同：0
> 
> 时间：2012-07-12T07:14:23.050
> 
> 标签：iphone, ios, xcode

我的 有问题`navigation bar`，当我通过弹出窗口显示它时，我的导航栏被隐藏了，如下所示：

![在此处输入图像描述](../Images/f7f3ad0b33b8b0f641269a6a10b1f46b.png)

应该是这样的：

![在此处输入图像描述](../Images/fea2760b23ab75c806af0e7addc9ca7d.png)

我的代码：

```
self.popoverController = 
[[UIPopoverController alloc] initWithContentViewController:imagePickerController]; 

popoverController.delegate = self;

CGRect popoverRect = [self.view convertRect:[tsuikaButton frame] 
                                   fromView:[tsuikaButton superview]];    
popoverRect.size.width = MIN(popoverRect.size.width, 100);

[self.popoverController 
 presentPopoverFromRect:popoverRect 
 inView:self.view 
 permittedArrowDirections:UIPopoverArrowDirectionAny 
 animated:YES];

[popoverController setPopoverContentSize:CGSizeMake(1024, 500)]; 
```

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T13:27:07.230

你想让 imagePickerController 占据整个屏幕吗？如果是这样，你有没有想过只推它而不使用弹出控制器？

# xcode - xcode：在设备上运行应用程序单元测试，断点没有命中

> ID：11446750
> 
> 赞同：3
> 
> 时间：2012-07-12T07:14:49.777
> 
> 标签：xcode

我添加了一个应用程序单元测试目标，当我在模拟器上运行它时，效果很好，我可以调试测试用例。但是当我在设备上运行它时，断点没有命中。所以我的问题是：当我在设备上运行应用程序单元测试时，如何调试它？

我的环境：xcode：4.3.3 设备：5.1.1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T04:24:52.600

我遇到了同样的问题。我刚刚清除了所有日志，删除了断点，退出了 xcode，然后重新启动了计算机。然后我重新添加了断点。这对你有用吗？

# asp.net-mvc - 在 Visual Studio 2010 中创建带有单元测试的基本 MVC 项目

> ID：11446751
> 
> 赞同：0
> 
> 时间：2012-07-12T07:14:51.063
> 
> 标签：asp.net-mvc, server-error

我想使用 C# 作为语言在 Visual Studio 2010 中设置 MVC 2 Web 应用程序。为此，我参考了链接： http: [//msdn.microsoft.com/en-us/library/dd410597.aspx](http://msdn.microsoft.com/en-us/library/dd410597.aspx)，我创建了相同的链接。当我按 F5 运行应用程序时，我的浏览器出现错误。我在下面附上了错误信息。 ![服务器错误](../Images/3f19ffdc88a7c99e6853bbbcc261522c.png)

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:20:51.147

如果您的控制器是使用教程中所示`MapsController`的操作调用的，那么您应该在浏览器中导航到以执行此操作。`ViewMaps``/maps/viewmaps`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:30:16.017

MVC 不同于常规的 ASP.NET。在 MVC 中，您使用 http-address 来告诉您的应用程序在哪个类中触发哪个方法。

在 MVC 语言中，**方法**被称为“*动作*”。并且**类**被称为“*控制器*”（粗暴地说）。如果要显示第一个视图，则必须告诉类“HomeController”执行其方法“Index()”。
您可以通过输入地址来执行此操作：“localhost/ **Home/Index** ”

请在此处阅读更多信息：http: [//msdn.microsoft.com/en-us/library/dd410269 (VS.98).aspx](http://msdn.microsoft.com/en-us/library/dd410269(VS.98).aspx)

# model - 使用 zeromq 实现actor模型

> ID：11446756
> 
> 赞同：6
> 
> 时间：2012-07-12T07:15:04.987
> 
> 标签：model, actor, zeromq

有没有人使用 zeromq 实现了演员模型？表现如何？使用什么模式？REQ/REP、PUB/SUB 还是 PUSH/PULL？

我确实使用了另一个名为 theron 的库。但是由于上下文切换，性能不太好。

可以分享您的想法/设计吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-15T07:00:47.440

“Akka 提供了一个 ZeroMQ 模块，它抽象了一个 ZeroMQ 连接，因此允许 Akka 参与者之间的交互通过 ZeroMQ 连接进行”

[http://doc.akka.io/docs/akka/2.0.2/java/zeromq.html](http://doc.akka.io/docs/akka/2.0.2/java/zeromq.html)

# java - 将 For 循环的即时值分配给 mutablearray

> ID：11446758
> 
> 赞同：0
> 
> 时间：2012-07-12T07:15:20.480
> 
> 标签：java, iphone, objective-c, for-loop

我有看起来像这样的java代码：

```
for(int i=0;i<codeWord.length;i++) {
  codeWord[i] = cw_bArray;
} 
```

这里的代码字是 NSDATA & cw_barray 是 NSMutableArray 并且在**Objective c**我正在做

```
for(int i=0;i<codeword.length;i++) {
  [codeword objectAtIndex:i] =[cw_bArray mutableCopy];
} 
```

但它会弹出一个像这样的错误
**分配给'readonly'返回一个objective-c消息的结果是不允许的**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:17:59.390

```
[codeword insertObject:[cw_bArray mutableCopy] atIndex:i]; 
```

应该为您解决问题。

基本上`objectAtIndex`返回一个不能分配给另一个对象的只读副本。您需要做的是用新对象替换该索引处的整个对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T08:43:37.817

如果您正在寻找将对象添加到数组中，Praven S 解决方案可以正常工作。java 代码看起来更像是用新对象替换数组中的对象。为了实现这一点，您应该使用： [codeword replaceObjectAtIndex:i withObject:[cw_bArray mutableCopy]];

就像他说的，`objectAtIndex`是一个getter方法。因此，您不能为方法结果分配值。这没有任何意义。基本上你写的是给我数组的 i 对象，但你知道吗？假设这个对象是另一个对象。

# dropbox - 如何在 dropbox 中使用 file_put api 上传文件的差异

> ID：11446766
> 
> 赞同：2
> 
> 时间：2012-07-12T07:16:08.897
> 
> 标签：dropbox

如何在 dropbox 中使用 file_put api 上传文件的差异？我想知道 dropbox 是否会支持仅上传或下载文件的差异。

我没有使用 Dropbox 同步工具。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-30T15:54:08.007

目前没有办法只发送或接收一个差异，最小的单位是整个文件。

# actionscript-3 - 在 Flex 4.5 中使用 ModuleLoader

> ID：11446767
> 
> 赞同：0
> 
> 时间：2012-07-12T07:16:13.937
> 
> 标签：actionscript-3, apache-flex, flex4.5

我想在我的 Flex 应用程序中加载我的模块时添加一个进度条。因此，我创建了一个模块加载器，如下所示。但我不知道如何在我的应用程序中使用它来加载模块。谁能帮我解决这个问题。我的代码如下。我的主应用程序有一个包含以下 2 个模块的视图堆栈。请注意，Module1 是一个登录表单，当我在登录表单上单击“确定”时，我必须加载 Module1。

```
<mx:ViewStack id="mainstack" width="100%" height="100%">

        <mx:HBox id="Mod1Loader" width="100%" height="100%" label="Mod1Loader" horizontalAlign="center" verticalAlign="middle">
            <mx:ModuleLoader url="Mod1.swf" id="Module1" />
        </mx:HBox>

        <mx:HBox id="Mod2Loader" width="100%" height="100%" label="Mod2Loader" horizontalAlign="center" verticalAlign="middle">
            <mx:ModuleLoader url="Mod2.swf" id="Module2" width="100%" height="100%"/>
        </mx:HBox>

    </mx:ViewStack> 
```

CustomModuleLoader.mxml 如下：

```
<?xml version="1.0" encoding="utf-8"?>
<s:ModuleLoader xmlns:fx="http://ns.adobe.com/mxml/2009" 
                xmlns:s="library://ns.adobe.com/flex/spark" 
                xmlns:mx="library://ns.adobe.com/flex/mx"
                width="400" height="300"
                creationComplete="init()">
    <fx:Declarations>
        <!-- Place non-visual elements (e.g., services, value objects) here -->
    </fx:Declarations>

    <fx:Script>
        <![CDATA[
            import mx.core.UIComponent;

            public var standin:UIComponent;

            public function init():void {
                addEventListener("urlChanged", onUrlChanged);
                addEventListener("loading", onLoading);
                addEventListener("progress", onProgress);
                addEventListener("setup", onSetup);
                addEventListener("ready", onReady);
                addEventListener("error", onError);
                addEventListener("unload", onUnload);

                standin = panel;
                removeElement(standin);        
            }

            public function onUrlChanged(event:Event):void {
                if (url == null) {
                    if (contains(standin))
                        removeElement(standin);
                } else {
                    if (!contains(standin))
                        addElement(standin);
                }
                progress.indeterminate=true;
            }

            public function onLoading(event:Event):void {
                progress.label="Loading module " + url;
                if (!contains(standin))
                    addElement(standin);

                progress.indeterminate=true;
            }

            public function onProgress(event:Event):void {
                progress.label="Loaded %1 of %2 bytes...";
                progress.indeterminate=false;
            }

            public function onSetup(event:Event):void {
                progress.label="Module " + url + " initialized!";
                progress.indeterminate=false;
            }

            public function onReady(event:Event):void {
                progress.label="Module " + url + " successfully loaded!";

                if (contains(standin))
                    removeElement(standin);
            }

            public function onError(event:Event):void {
                progress.label="Error loading module " + url;
            }

            public function onUnload(event:Event):void {
                if (url == null) {
                    if (contains(standin))
                        removeElement(standin);
                } else {
                    if (!contains(standin))
                        addElement(standin);
                }
                progress.indeterminate=true;
                progress.label="Module " + url + " was unloaded!";
            }
        ]]>
    </fx:Script>

    <s:Panel id="panel" width="100%" title="Status of Operations">
        <s:layout>
            <s:VerticalLayout/>
        </s:layout>
        <mx:ProgressBar width="100%" id="progress" source="{this}"/>
    </s:Panel>
</s:ModuleLoader> 
```

需要您宝贵的帮助。

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:24:54.350

正如文档中所写，您可以直接将模块的加载与进度条绑定：http: [//help.adobe.com/en_US/flex/using/WS2db454920e96a9e51e63e3d11c0bf69084-7d8c.html#WS2db454920e96a9e51e63e3d11c0bf63b33-7f97](http://help.adobe.com/en_US/flex/using/WS2db454920e96a9e51e63e3d11c0bf69084-7d8c.html#WS2db454920e96a9e51e63e3d11c0bf63b33-7f97)

您必须将`source`进度条设置为模块加载器并定义您的`label`. 设置`mode`为轮询，一切都应该自动运行。

-- 编辑事实上，由于某些原因，adobe 文档不同步，因为 ModuleLoader 没有这些属性。

一个简单的解决方案是添加所需的属性：

```
 [Bindable]
        public var bytesLoaded:Number = 0;

        [Bindable]
        public var bytesTotal:Number = 100; 
```

然后更改 onProgress 函数以更新属性：

```
 public function onProgress(event:ProgressEvent):void {
                            // update the attributes
            bytesLoaded = event.bytesLoaded;
            bytesTotal = event.bytesTotal;

            progress.label="Loaded %1 of %2 bytes...";
            progress.indeterminate=false;
        } 
```

当我在本地环境中进行测试时，我看不到进度条，但至少我没有任何问题。

M。

# export-to-excel - 从 asp.net 导出到 excel 值转换为日期

> ID：11446769
> 
> 赞同：2
> 
> 时间：2012-07-12T07:16:18.380
> 
> 标签：export-to-excel

我正在将一些值从数据网格导出到 excel。我的问题是将 2-3、3-4 等值转换为日期格式 - 2 月 3 日、3 月 4 日等。

请建议如何解决这个问题？我尝试将列格式设置为仅文本，但它不起作用。

问候五

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:28:23.517

在网格行数据绑定函数中，您必须设置单元格的格式如下

```
 e.Row.Cells(4).Attributes.Add("style", "vnd.ms-excel.numberformat:@") 
```

# intellij-idea - Intellij IDEA SCSS 支持

> ID：11446771
> 
> 赞同：5
> 
> 时间：2012-07-12T07:16:32.460
> 
> 标签：intellij-idea, sass

Intellij Idea 是否支持 SCSS？我有 Intellij Idea 11.1，但没有。我该如何解决（我不是 Ruby 开发人员）？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T13:22:58.760

确保您已启用**SASS 支持**捆绑插件`Settings`（`Preferences`在 Mac 上）| `Plugins`.

请注意，此功能仅在 IntelliJ Ultimate 中可用。

# python - Python：将不明确的时间转换为时间对象的有效方法？

> ID：11446772
> 
> 赞同：5
> 
> 时间：2012-07-12T07:16:32.890
> 
> 标签：python, datetime

我有一个字符串列表如下：

```
4:00-5:00PM
11:00-2:00PM
12:00-1:00PM
11:00-1:00AM 
```

我正在尝试找到一种有效的方法来创建两个时间对象（我想这是跟踪时间范围的唯一方法，稍后我将与日期对象结合使用）。人类很清楚我们所说的 11:00-1:00AM 的意思，但想知道什么是将其转换为的有效方法：

```
datetime.time(23, 0)
datetime.time(1, 0) 
```

我目前的方法是采用第一次，并创建一个 PM 和 AM 版本，采用 timedelta 和结束时间（已指定），并将两个差异中较短的一个作为正确的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T07:38:00.297

这是一个简单的实现。

```
 >>> def timeRange(timestr):
    ...     t1, t2 = timestr.split("-")
    ...     timeFormat = "%I:%M%p"
    ...     t1AM = datetime.datetime.strptime(t1 + "AM", timeFormat)
    ...     t1PM = datetime.datetime.strptime(t1 + "PM", timeFormat)
    ...     t2 = datetime.datetime.strptime(t2, timeFormat)
    ...       
    ...     if (t2 - t1AM).seconds < (t2-t1PM).seconds:
    ...         return t1AM.time(), t2.time()
    ...     else:
    ...         return t1PM.time(), t2.time()
    >>> timeRange("11:00-2:00PM")
    (datetime.time(11, 0), datetime.time(14, 0))
    >>> timeRange("4:00-5:00PM")
    (datetime.time(16, 0), datetime.time(17, 0))
    >>> timeRange("11:00-1:00AM")
    (datetime.time(23, 0), datetime.time(1, 0))
    >>> timeRange("11:00-2:00PM")
    (datetime.time(11, 0), datetime.time(14, 0))
    >>> timeRange("12:00-1:00PM")
    (datetime.time(12, 0), datetime.time(13, 0)) 
```

这将返回一个`time`对象，但如果需要，您可以将其滚动到日期时间对象中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-12T07:35:28.970

您的问题中隐含两个假设：

*   您正在寻找这些时间之间的最短持续时间
*   第一次是两者中较早的一次。

如果这些假设是正确的，那么快速优化将是：

*   如果第一个时间大于第二个时间（例如 11:00-1:00AM 或 11:00-1:00PM），则较早的时间是第二个“相反”的 AM/PM 指示符。否则，第一次的 AM/PM 相同。

这甚至适用于最长的时间段，例如 6:00-6:00AM（6:00PM-6:00AM 比 6:00AM-6:00AM 短）

第二个观察是你不能使用简单的时间对象，因为

*   AM->PM 持续时间发生在一天的边界（午夜）上。在这种情况下，这可能会搞砸你的 timedelta 的计算。

因此，我认为您必须使用日期时间，或者将所有这些都包装在一个结构中，该结构表明第一个时间对象中的时间是前一天。

希望这可以帮助 ：）

# android - 如何在Android中拦截传出的短信？

> ID：11446773
> 
> 赞同：0
> 
> 时间：2012-07-12T07:16:35.690
> 
> 标签：android, sms

**发送短信**时，请帮我找到从**Chooser**中选择**原生App后****拦截短信**的解决方案，我针对这个问题做了研发，发现当时我们在从**Chooser**中选择**原生App后无法拦截****外发短信**。

 ******因此，如果有人对此问题有经验，请分享，我们将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:20:11.453

从应用程序的角度来看这是不可能的，因为 SMS 的发送由 SMSManager 控制，该管理器与处理电话级别发送的框架交互，应用程序层**无法**访问。

然而; 您可以使用提供的评论建议之一访问数据库中的数据。******

# vb.net - 缩短包含数据的字符串

> ID：11446774
> 
> 赞同：1
> 
> 时间：2012-07-12T07:16:37.450
> 
> 标签：vb.net, vb.net-2010

我正在创建一个应用程序来创建每台计算机唯一的密钥。此信息来自操作系统序列号和处理器 ID。

有没有办法“缩短”字符串？也许通过将其转换为 HEX 或其他东西......

原因是这样的：我曾经使用 VB6 代码段 (http://www.planet-source-code.com/vb...48926&lngWId=1) 来获取详细信息，并且输出只有 13 位长。我的更长，但得到相同的信息......

顺便说一句，我在上面发布的链接获得了多个奖项，但我在将其转换为 .NET 时遇到了巨大的麻烦。有没有人有机会转换它，或者知道有人转换过它？还是真正有效的工具？

谢谢

**编辑**

这是完整的工作链接：[http ://www.planet-source-code.com/vb/scripts/ShowCode.asp?txtCodeId=48926&lngWId=1](http://www.planet-source-code.com/vb/scripts/ShowCode.asp?txtCodeId=48926&lngWId=1)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T14:56:43.643

听起来你想要一个“散列算法”或“散列函数”。它们是一个常见的概念：[http ://en.wikipedia.org/wiki/Hash_function](http://en.wikipedia.org/wiki/Hash_function)

一般来说，您可以简单地编写自己的函数来获取字符串并返回哈希数字，但这里有一些使用 .NET 框架的合适代码：http: [//support.microsoft.com/kb/301053](http://support.microsoft.com/kb/301053)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T15:57:56.863

这是一个工作示例，用于检索找到的第一个处理器的处理器 ID 和操作系统序列号；它将这些字符串连接在一起，然后对它们执行各种编码。

这是一个简单的 VB.Net 控制台项目。请务必在您的项目中引用**System.Management程序集。**只需将此代码示例复制并粘贴到主模块中，在 Sub Main() 的末尾设置一个断点，然后查看各种结果。

```
Module Module1

    Sub Main()
        Dim uniqueID As String = GetUniqueID()

        ' convert it to a base64 string
        Dim encoding As New Text.ASCIIEncoding()
        Dim result1 = Convert.ToBase64String(encoding.GetBytes(uniqueID))

        ' compress it
        Dim result2 As String = CompressString(uniqueID)
        Dim result3 As String = DecompressString(result2)

        ' encrypt it
        Dim result4 As String = AES_Encrypt(uniqueID, "password")
        Dim result5 As String = AES_Decrypt(result4, "password")

        ' hash it
        Dim result6 As String = HashString(uniqueID)
    End Sub

    Private Function GetUniqueID() As String
        Dim result As String = GetOSSerialNumber()
        Dim processorIDs() As String = GetProcessorIDs()
        If ((processorIDs IsNot Nothing) AndAlso (processorIDs.Count > 0)) Then
            result &= processorIDs(0)
        End If
        Return result
    End Function

    Private Function GetProcessorIDs() As String()
        Dim result As New List(Of String)
        Dim searcher = New System.Management.ManagementObjectSearcher("Select ProcessorId from Win32_Processor")
        For Each managementObj In searcher.Get()
            result.Add(CStr(managementObj.Properties("ProcessorId").Value))
        Next
        Return result.ToArray()
    End Function

    Private Function GetOSSerialNumber() As String
        Dim result As String = ""
        Dim searcher = New System.Management.ManagementObjectSearcher("Select SerialNumber from Win32_OperatingSystem")
        For Each managementObj In searcher.Get()
            result = CStr(managementObj.Properties("SerialNumber").Value)
        Next
        Return result
    End Function

    Public Function CompressString(ByVal source As String) As String
        Dim result As String = ""
        Dim encoding As New Text.ASCIIEncoding()
        Dim bytes() As Byte = encoding.GetBytes(source)
        Using ms As New IO.MemoryStream
            Using gzsw As New System.IO.Compression.GZipStream(ms, IO.Compression.CompressionMode.Compress)
                gzsw.Write(bytes, 0, bytes.Length)
                gzsw.Close()
                result = Convert.ToBase64String(ms.ToArray)
            End Using
        End Using
        Return result
    End Function

    Public Function DecompressString(ByVal source As String) As String
        Dim result As String = ""
        Dim bytes() As Byte = Convert.FromBase64String(source)
        Using ms As New IO.MemoryStream(bytes)
            Using gzsw As New System.IO.Compression.GZipStream(ms, IO.Compression.CompressionMode.Decompress)
                Dim data(CInt(ms.Length)) As Byte
                gzsw.Read(data, 0, CInt(ms.Length))
                Dim encoding As New Text.ASCIIEncoding()
                result = encoding.GetString(data)
            End Using
        End Using
        Return result
    End Function

    Public Function AES_Encrypt(ByVal input As String, ByVal pass As String) As String
        Dim AES As New System.Security.Cryptography.RijndaelManaged
        Dim Hash_AES As New System.Security.Cryptography.MD5CryptoServiceProvider
        Dim encrypted As String = ""
        Try
            Dim hash(31) As Byte
            Dim temp As Byte() = Hash_AES.ComputeHash(System.Text.ASCIIEncoding.ASCII.GetBytes(pass))
            Array.Copy(temp, 0, hash, 0, 16)
            Array.Copy(temp, 0, hash, 15, 16)
            AES.Key = hash
            AES.Mode = Security.Cryptography.CipherMode.ECB
            Dim DESEncrypter As System.Security.Cryptography.ICryptoTransform = AES.CreateEncryptor
            Dim Buffer As Byte() = System.Text.ASCIIEncoding.ASCII.GetBytes(input)
            encrypted = Convert.ToBase64String(DESEncrypter.TransformFinalBlock(Buffer, 0, Buffer.Length))
        Catch ex As Exception
        End Try
        Return encrypted
    End Function

    Public Function AES_Decrypt(ByVal input As String, ByVal pass As String) As String
        Dim AES As New System.Security.Cryptography.RijndaelManaged
        Dim Hash_AES As New System.Security.Cryptography.MD5CryptoServiceProvider
        Dim decrypted As String = ""
        Try
            Dim hash(31) As Byte
            Dim temp As Byte() = Hash_AES.ComputeHash(System.Text.ASCIIEncoding.ASCII.GetBytes(pass))
            Array.Copy(temp, 0, hash, 0, 16)
            Array.Copy(temp, 0, hash, 15, 16)
            AES.Key = hash
            AES.Mode = Security.Cryptography.CipherMode.ECB
            Dim DESDecrypter As System.Security.Cryptography.ICryptoTransform = AES.CreateDecryptor
            Dim Buffer As Byte() = Convert.FromBase64String(input)
            decrypted = System.Text.ASCIIEncoding.ASCII.GetString(DESDecrypter.TransformFinalBlock(Buffer, 0, Buffer.Length))
        Catch ex As Exception
        End Try
        Return decrypted
    End Function

    Private Function HashString(ByVal source As String) As String
        Dim encoding As New Text.ASCIIEncoding()
        Dim bytes() As Byte = encoding.GetBytes(source)
        Dim workingHash() As Byte = New System.Security.Cryptography.MD5CryptoServiceProvider().ComputeHash(bytes)
        Dim result As String = ""
        For Each b In workingHash
            result = result & b.ToString("X2")
        Next
        Return result
    End Function

End Module 
```

# iphone - 如何在 iPhone 中动态更改 sqlite 表结构？

> ID：11446779
> 
> 赞同：0
> 
> 时间：2012-07-12T07:16:50.090
> 
> 标签：iphone, sqlite, uitextfield

我正在开发一个 iPad 应用程序，我必须在其中将一些数据存储在数据库中。所以，我更喜欢使用 SQLite，在这里我对表结构有疑问。让我解释一下，实际上有一个视图，用户可以在其中添加人工数量，人工类型等，默认情况下我只显示一组字段。

![这是它的样子](../Images/42f02fb6b609651b4fb76632ac45c008.png)

我创建了包含五个字段（劳动力数量、劳动力类型.....）的表格，它工作正常。现在我需要在底部设置一个“添加新”按钮，我为低分辨率图像道歉，当用户单击该按钮时，将在前一个下方生成另外五个字段。那么我怎样才能将文本字段值放入数据库表中，因为我只为五个字段创建了。我尝试并用谷歌搜索，但找不到正确的方法。任何帮助表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:36:36.593

那么在这种情况下，你可以做的是跟随。

1.  把你的内容放在 UIScrollView
2.  在 UIWebView 中有文本框，然后单击添加新的创建新实例。
3.  以递增方式放置 X，Y 坐标，假设第一次是 10,50 第二次 40,50 第三次 70,50 等等，，
4.  还增加了按钮本身的 X、Y 坐标。

这样就可以实现上面的。

使用上述逻辑，您可以获得如下内容。![在此处输入图像描述](../Images/e8cca4df1e10cdb257778a99d3dc9229.png)

# visual-c++ - 在 Windows 中通过 C++ 控制正在运行的 VLC 进程

> ID：11446781
> 
> 赞同：2
> 
> 时间：2012-07-12T07:16:56.657
> 
> 标签：visual-c++, process, controls, vlc, libvlc

我想在 windows 下控制一个正在运行的 VLC 实例（不是带有 rc 的服务器）。是否有任何COM接口或其他接口可以这样做？我环顾四周，但我发现很少有提及[libvlc](https://stackoverflow.com/questions/785829/vlc-remotely-control-from-c-sharp)或通过[PostMessage](https://stackoverflow.com/questions/10904447/controlling-vlc-mediamonkey-using-c)控制它的实例。

我也看过一些 ActiveX 示例，我是否感到困惑？还是 VLC 不支持任何此类事情？

**调整**

只是想再次强调我正在寻找如何从我的外部进程控制**已经运行**的VLC。请不要发布有关 libVLCWrapper 将其嵌入到您的应用程序中的信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:35:51.187

正如您自己提到的，libvlc 是您必须控制 vlc 的主要接口。像下面这样的包装器很少......

[utlibvlc](http://code.google.com/p/utlibvlc/)

[VLCWrapper](http://www.codeproject.com/Articles/38952/VLCWrapper-A-Little-C-wrapper-Around-libvlc)

# spring-mvc - Spring-Roo 是否为查找器提供排序功能？

> ID：11446783
> 
> 赞同：4
> 
> 时间：2012-07-12T07:16:59.293
> 
> 标签：spring-mvc, spring-roo

我正在使用 Spring-roo 来构建我的项目，它是一个非常棒的工具。但是当我想在 GUI 上对实体进行排序时，我在生成的查找器中找不到排序支持。我不想修改这些自动生成的文件，所以我在这里问有人知道如何在查找器或其他方式中添加排序功能吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T20:56:15.627

spring roo jira issue：ROO-158的评论中有一些排序选项。你可以在[这里找到链接](https://jira.springsource.org/browse/ROO-158)

# zend-framework - 如何在zend db中引用列名？

> ID：11446790
> 
> 赞同：1
> 
> 时间：2012-07-12T07:17:27.847
> 
> 标签：zend-framework, zend-db, zend-db-table

如何引用列名，如 $column 和 $sorting

```
$result = $this 
    -> select() 
    -> from($this -> _name, new Zend_Db_Expr('SQL_CALC_FOUND_ROWS *'))
    -> order("$column $sorting") 
    -> limit("$start, $limit") 
    -> query() 
    -> fetchAll(); 
```

在这个查询中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:25:16.900

您可以`quoteIdentifier()`使用`Zend_Db_Adapter_Abstract`：

```
$columnSafe = $adapter->quoteIdentifier($column);
$sortingSafe = in_array(strtoupper($sorting) , array('ASC', 'DESC')) ? $sorting : 'ASC'; //default to ASC if illegal value passed 
```

# php - 获取现有数组并按值将其分解

> ID：11446793
> 
> 赞同：-1
> 
> 时间：2012-07-12T07:17:37.933
> 
> 标签：php, arrays, html, foreach, simplepie

我有一个简单的提要，它从加载到关联数组中的每个 URL 中吐出多个提要。

此关联数组用于使用值按字母顺序对数组进行排序。

我正在尝试使用相同的值排序并将所有具有相同 URL 或值的数组保持在一起，这样当 foreach 循环运行时，我会为每个 URL 获得一个 div，其中包含当天来自该 URL 的所有提要

```
<?php

require_once('php/autoloader.php');

$feed = new SimplePie(); // Create a new instance of SimplePie
// Load the feeds
$urls = array(
  'http://abcfamily.go.com/service/feed?id=774372' => 'abc',
  'http://animal.discovery.com/news/news.rss' => 'animalplanet',
  'http://www.insideaolvideo.com/rss.xml' => 'aolvideo',
  'http://feeds.bbci.co.uk/news/world/rss.xml' => 'bbcwn',
  'http://www.bing.com' => 'bing',
  'http://www.bravotv.com' => 'bravo',
  'http://www.cartoonnetwork.com' => 'cartoonnetwork',
  'http://feeds.cbsnews.com/CBSNewsMain?format=xml' => 'cbsnews',
  'http://www.clicker.com/' => 'clicker',
  'http://feeds.feedburner.com/cnet/NnTv?tag=contentBody.1' => 'cnet',
  'http://www.comedycentral.com/' => 'comedycentral',
  'http://www.crackle.com/' => 'crackle',
  'http://www.cwtv.com/feed/episodes/xml' => 'cw',
  'http://disney.go.com/disneyxd/' => 'disneyxd',
  'http://www.engadget.com/rss.xml' => 'engadget',
  'http://syndication.eonline.com/syndication/feeds/rssfeeds/video/index.xml' => 'eonline',
  'http://sports.espn.go.com/espn/rss/news' => 'espn',
  'http://facebook.com' => 'facebook',
  'http://flickr.com/espn/rss/news' => 'flickr',
  'http://www.fxnetworks.com//home/tonight_rss.php' => 'fxnetworks',
  'http://www.hgtv.com/' => 'hgtv',
  'http://www.history.com/this-day-in-history/rss' => 'history',
  'http://rss.hulu.com/HuluRecentlyAddedVideos?format=xml' => 'hulu',
  'http://rss.imdb.com/daily/born/' => 'imdb',
  'http://www.metacafe.com/' => 'metacafe',
  'http://feeds.feedburner.com/Monkeyseecom-NewestVideos?format=xml' => 'monkeysee',
  'http://pheedo.msnbc.msn.com/id/18424824/device/rss/' => 'msnbc',
  'http://www.nationalgeographic.com/' => 'nationalgeographic',
  'http://dvd.netflix.com/NewReleasesRSS' => 'netflix',
  'http://feeds.nytimes.com/nyt/rss/HomePage' => 'newyorktimes',
  'http://www.nick.com/' => 'nickelodeon',
  'http://www.nickjr.com/' => 'nickjr',
  'http://www.pandora.com/' => 'pandora',
  'http://www.pbskids.com/' => 'pbskids',
  'http://www.photobucket.com/' => 'photobucket',
  'http://feeds.reuters.com/Reuters/worldNews' => 'reuters',
  'http://www.revision3.com/' => 'revision3',
  'http://www.tbs.com/' => 'tbs',
  'http://www.theverge.com/rss/index.xml' => 'theverge',
  'http://www.tntdrama.com/' => 'tnt',
  'http://www.tvland.com/' => 'tvland',
  'http://www.vimeo.com/' => 'vimeo',
  'http://www.vudu.com/' => 'vudu',
  'http://feeds.wired.com/wired/index?format=xml' => 'wired',
  'http://www.xfinitytv.com/' => 'xfinitytv',
  'http://www.youtube.com/topic/4qRk91tndwg/most-popular#feed' => 'youtube',
);

$feed->set_feed_url(array_keys($urls));

$feed->enable_cache(true);
$feed->set_cache_location('cache');
$feed->set_cache_duration(1800); // Set the cache time
$feed->set_item_limit(0);
$success = $feed->init(); // Initialize SimplePie
$feed->handle_content_type(); // Take care of the character encoding

?>
<?php require_once("inc/connection.php"); ?>
<?php require_once("inc/functions.php"); ?>
<?php include("inc/header.php"); ?>

<?php

// Sort it
$feed_items = array();
$items = $feed->get_items();
$urls = array_unique($urls);

foreach ($urls as $url => $image) {
  $unset = array();
  $feed_items[$url] = array();

  foreach ($items as $i => $item) {
    if ($item->get_feed()->feed_url == $url) {
      $feed_items[$url][] = $item;
      $unset[] = $i;

        }
  }

  foreach ($unset as $i) {
    unset($items[$i]);
  }
}

foreach ($feed_items as $feed_url => $items) {
  if (empty($items)) {
  ?>
    <div class="item"><a href="<?php echo $feed_url; ?>"><img src="images/boreds/<?php echo $urls[$feed_url] ?>.png"/><p>Visit <?php echo $urls[$feed_url] ?> now!</p></a></div>
  <?
    continue;
  }
  $first_item = $items[0];
  $feed = $first_item->get_feed();
  ?>

  <?php

$feedCount = 0;
  foreach ($items as $item ) {

          $feedCount++;
    ?>

      <div class="item"><strong id="amount"><?php echo $feedCount; ?></strong><a href="<?php echo $item->get_permalink(); ?>"><img src="images/boreds/<?php echo $urls[$feed_url] ?>.png"/><p><?php echo $item->get_title(); ?></p></a></div>
    <?php
  }
}

?>

<?php require("inc/footer.php"); ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:44:40.963

也许你可以使用这个：

```
$feed = new SimplePie();
$feed->set_feed_url('http://myfirstfeed','http://mysecondfeed');

foreach( $feed->get_items() as $k => $item ) {
   echo "<div id='".$k.'">";
   echo $item->get_permalink();
   echo $title   = $item->get_title();
   echo $item->get_date('j M Y, g:i a');
   echo $item->get_content();
   echo "</div>";
} 
```

# php - 在txt文件中搜索，和+1并写入文件

> ID：11446799
> 
> 赞同：-1
> 
> 时间：2012-07-12T07:18:00.960
> 
> 标签：php, find, save, sum

美好的一天，伙计们，

对于做 PHP 编码的人来说，我真的无处可去，所以我问你。

我有 txt 格式的文件，并且在该文件的某处我与“count：(n)”有一行，其中“(n)”可以是任何数值。

我需要搜索 count: (n)，取 (n) 值，将其与 +1 相加并再次保存文件。

所以如果我有 count: 10 它必须是 10 + 1 = 11。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:25:30.993

您可能需要使用一些正则表达式来解析文件中的 'count: n' 字符串。虽然我的正则表达式有点生疏，但这种模式可能会有所帮助：

```
$file = fopen('text.txt', 'r+'); // Open the file for reading and writing into the variable $file.
$fileContents = file_get_contents($file); // Load the contents of the file to variable $fileContents.

$countString = preg_match('/count: [0-9]+/', $fileContents); // Find instances of string 'count: n' where n is an integer, load the string into $countString.
$count = preg_match('/[0-9]+/', $countString); // Find the integer from $countString, load into $count.
$count++; // Iterate count up one.

$newCountString = 'count: '.$count; // The 'count: n+1' string where n is the original integer.

$newFileContents = preg_replace('/count: [0-9]+/', $newCountString, $fileContents); // Find the string 'count: n' and replace with 'count: n+1' where n is the original integer.
fwrite($file, $newFileContents); // Write the new contents into the file.
fclose($file); 
```

祝你好运！

# android - AdWhirl 未展示 AdMob 广告

> ID：11446800
> 
> 赞同：5
> 
> 时间：2012-07-12T07:18:01.470
> 
> 标签：android, adwhirl

我已经在我的项目中集成了 AdWhirl，我现在只想显示 Admob。
但是只显示一个广告......没有其他广告出现......在 LogCat 中，它会在 30 秒后刷新广告，但它们没有显示在屏幕上。
我使用与 AdWhirl 官方网站上相同的编码。
请告诉我我该怎么做...我非常需要它。

```
 <LinearLayout
    android:id="@+id/layout_main"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_marginBottom="5dp"
    android:orientation="vertical" >

    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="" />

    <com.adwhirl.AdWhirlLayout
        android:id="@+id/adwhirl_layout"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" />
</LinearLayout> 
```

这是在我的主要课程中：

```
 try
    {
        AdWhirlManager.setConfigExpireTimeout(1000 * 60 * 5);

        AdWhirlTargeting.setAge(23);
 //         AdWhirlTargeting.setGender(AdWhirlTargeting.Gender.MALE);
  //            AdWhirlTargeting.setKeywords("online games gaming");
 //         AdWhirlTargeting.setPostalCode("94123");
        AdWhirlTargeting.setTestMode(false);

        AdWhirlLayout adWhirlLayout = (AdWhirlLayout) findViewById(R.id.adwhirl_layout);
//          TextView textView = new TextView(this);

        RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);

        int diWidth = 320;
        int diHeight = 52;
        int density = (int) getResources().getDisplayMetrics().density;

        adWhirlLayout.setAdWhirlInterface(this);
        adWhirlLayout.setMaxWidth((int) (diWidth * density));
        adWhirlLayout.setMaxHeight((int) (diHeight * density));

        layoutParams.addRule(RelativeLayout.CENTER_HORIZONTAL);
//          textView.setText("");

        LinearLayout layout = (LinearLayout) findViewById(R.id.layout_main);
        layout.setGravity(Gravity.CENTER_HORIZONTAL);
        layout.addView(adWhirlLayout, layoutParams);
//          layout.addView(textView, layoutParams);
//          layout.invalidate();
    }
    catch (Exception e)
    {
        Log.e("error", e.toString());
    } 
```

**编辑：**
我忘了在前面添加问题。
这是我的 manifest.xml 文件

```
<meta-data
        android:name="ADWHIRL_KEY"
        android:value="My_KEY" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T09:06:54.420

您的 Android 清单中缺少 AdWhirl 键

确保您的 AdWhirl 密钥也在清单中（在`<activity>`, 或`<application>`标签中）：

```
<meta-data android:value="Your Key"
     android:name="ADWHIRL_KEY"/> 
```

看起来您根本没有从所有网络中获得任何库存（广告）。您确定您在 AdWhirl 控制面板中正确设置了它们吗？

查看这些[说明](http://helpcenter.adwhirl.com/content/step-2-add-app)以添加您的 APP 并注册广告网络。您还必须在每个广告网络上注册一个帐户。

还要检查**网络库**是否正确安装？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T09:38:30.997

检查此[Adwhirl：AdWhirl 开源 SDK 和服务器](http://code.google.com/p/adwhirl/w/list)`register`以添加您的APP 以及`Ad networks`.

> 您还必须在每个广告网络上注册一个帐户。

# javascript - Javascript多幻灯片

> ID：11446802
> 
> 赞同：0
> 
> 时间：2012-07-12T07:18:03.083
> 
> 标签：javascript

我创建了一个 HTML 文件，它使用 java 脚本来显示随机显示在 3 个 div 标签中的图像。单击图像向左或向右移动。在我在页面中使用单个幻灯片之前它工作正常，但是当我在同一页面上尝试多个幻灯片时会产生问题。

这是一张幻灯片的代码：

```
**<script>
currentIndx = 2;

MyImages=new Array();

MyImages[0]='1images2.jpeg';

MyImages[1]='1images3.jpeg';

MyImages[2]='1images4.jpeg';

MyImages[3]='artwork.jpg';

MyImages[4]='1images5.jpeg';

imagesPreloaded = new Array(4)

for (var i = 0; i < MyImages.length ; i++)

{
imagesPreloaded[i] = new Image(120,120)

imagesPreloaded[i].src=MyImages[i]
}

/* we create the functions to go forward and go back          */

function Nexter()

{

if (currentIndx<MyImages.length-1){
alert(currentIndx);
document.leftimg.src=document.middleimg.src
document.middleimg.src=document.rightimg.src
document.rightimg.src=imagesPreloaded[++currentIndx].src

}
else {
alert("In nexter else")
currentIndx=0
document.leftimg.src = document.middleimg.src

document.middleimg.src = document.rightimg.src

document.rightimg.src = imagesPreloaded[currentIndx].src

}

writeImageNumber();

}
function Backer()
{
if (currentIndx>0)
{

 --currentIndx; 

alert("In Backer If");

document.rightimg.src=document.middleimg.src

document.middleimg.src=document.leftimg.src

document.leftimg.src=imagesPreloaded[currentIndx].src

}

else 
{

  currentIndx = MyImages.length-1

  alert(MyImages.length +"else");

  document.rightimg.src = document.middleimg.src

  document.middleimg.src = document.leftimg.src

  document.leftimg.src = imagesPreloaded[currentIndx].src

}

writeImageNumber();

}

/*###### function to reload the images and text when refresh is pressed ##### */

function setCurrentIndex()
{
currentIndx=0;

document.theImage.src=MyImages[0];

document.form1.text1.value=Messages[0];

writeImageNumber();

}

</script>

<body onload="setCurrentIndex();automaticly()">

<!-- start of form for image slide show ####################### -->

<div id ="left" style="float:left"> 

<a href="#" onclick="Backer()" ><img src="1images2.jpeg" width="265" height="262" 
border="0" name="leftimg"></a>
</div>

<div id ="middle"  style="float:left">

<a href="#" onclick=""><img src="1images3.jpeg" width="265" height="262" 
 border="0"    name="middleimg"></a>
</div>

<div id ="right" class="compimg" style="float:left"> 
<a href="#" onclick="Nexter()" ><img src="1images4.jpeg"
width="265" height="262"  alt="" border="0"name="rightimg"></a>
</div> 

<!-- end of form for image slide show ####################### -->**

Any suggestions... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:27:06.900

您没有将脚本包装在任何 javascript 类（对象）中，因此您使用的所有变量都具有全局范围（页面级别）。如果您尝试多次使用它，我猜您的变量会被覆盖。

如果您发布有关如何尝试在单页中创建多个幻灯片的 HTML 标记，您可以获得更好的答案...

# algorithm - 将 2D 网格图数据结构转换为树

> ID：11446809
> 
> 赞同：8
> 
> 时间：2012-07-12T07:18:14.800
> 
> 标签：algorithm, data-structures, graph, tree

我有一个网格：

![网格](../Images/8382faea9f90fa9d908f50c58433a070.png)

网格由单元格组成，递归地分成更小的单元格。网格中的每个子单元格都受其父单元格的约束。

网格中的单元格存储在类似图形的结构中。每个单元有四个连接，每个角落一个。每个角连接到另一个单元，使得单元的边缘平行于连接并且最接近它是齐平的。该网格可以由以下 JSON 表示：

```
{
    "grid1": 
    {
        "topLeft": null,
        "topRight": "grid2",
        "bottomLeft": "grid3",
        "bottomRight": "grid2",
        "topLeftDirection": null,
        "topRightDirection": "horizontal",
        "bottomLeftDirection": "vertical",
        "bottomRightDirection": "horizontal"
    },

    "grid2": 
    {
        "topLeft": "grid1",
        "topRight": "grid4",
        "bottomLeft": "grid1",
        "bottomRight": "grid5",
        "topLeftDirection": "horizontal",
        "topRightDirection": "horizontal",
        "bottomLeftDirection": "horizontal",
        "bottomRightDirection": "vertical"
    },

    "grid3": 
    {
        "topLeft": "grid1",
        "topRight": "grid2",
        "bottomLeft": null,
        "bottomRight": "grid10",
        "topLeftDirection": "vertical",
        "topRightDirection": "vertical",
        "bottomLeftDirection": null,
        "bottomRightDirection": "horizontal"
    },

    "grid4": 
    {
        "topLeft": "grid2",
        "topRight": "grid7",
        "bottomLeft": "grid5",
        "bottomRight": "grid5",
        "topLeftDirection": "horizontal",
        "topRightDirection": "horizontal",
        "bottomLeftDirection": "vertical",
        "bottomRightDirection": "vertical"
    },

    "grid5": 
    {
        "topLeft": "grid4",
        "topRight": "grid4",
        "bottomLeft": "grid6",
        "bottomRight": "grid6",
        "topLeftDirection": "vertical",
        "topRightDirection": "vertical",
        "bottomLeftDirection": "vertical",
        "bottomRightDirection": "vertical"
    },

    "grid6": 
    {
        "topLeft": "grid5",
        "topRight": "grid5",
        "bottomLeft": "grid9",
        "bottomRight": "grid8",
        "topLeftDirection": "vertical",
        "topRightDirection": "vertical",
        "bottomLeftDirection": "vertical",
        "bottomRightDirection": "horizontal"
    },

    "grid7": 
    {
        "topLeft": "grid4",
        "topRight": "grid11",
        "bottomLeft": "grid8",
        "bottomRight": "grid8",
        "topLeftDirection": "horizontal",
        "topRightDirection": "horizontal",
        "bottomLeftDirection": "vertical",
        "bottomRightDirection": "vertical"
    },

    "grid8": 
    {
        "topLeft": "grid7",
        "topRight": "grid7",
        "bottomLeft": "grid6",
        "bottomRight": "grid9",
        "topLeftDirection": "vertical",
        "topRightDirection": "vertical",
        "bottomLeftDirection": "horizontal",
        "bottomRightDirection": "vertical"
    },

    "grid9": 
    {
        "topLeft": "grid6",
        "topRight": "grid8",
        "bottomLeft": "grid10",
        "bottomRight": "grid10",
        "topLeftDirection": "vertical",
        "topRightDirection": "vertical",
        "bottomLeftDirection": "vertical",
        "bottomRightDirection": "vertical"
    },

    "grid10": 
    {
        "topLeft": "grid9",
        "topRight": "grid9",
        "bottomLeft": "grid3",
        "bottomRight": "grid12",
        "topLeftDirection": "vertical",
        "topRightDirection": "vertical",
        "bottomLeftDirection": "horizontal",
        "bottomRightDirection": "horizontal"
    },

    "grid11": 
    {
        "topLeft": "grid7",
        "topRight": null,
        "bottomLeft": "grid12",
        "bottomRight": "grid12",
        "topLeftDirection": "horizontal",
        "topRightDirection": null,
        "bottomLeftDirection": "vertical",
        "bottomRightDirection": "vertical"
    },

    "grid12": 
    {
        "topLeft": "grid11",
        "topRight": "grid11",
        "bottomLeft": "grid10",
        "bottomRight": null,
        "topLeftDirection": "vertical",
        "topRightDirection": "vertical",
        "bottomLeftDirection": "horizontal",
        "bottomRightDirection": null
    }
} 
```

这是结构的描述：

![网格图结构](../Images/c04f0493f3376bb4cdee8779a2e35373.png)

通过查看图表，人们可以看到较大的细胞组，其中包含较小的细胞组。 **我正在尝试开发一种可以采用网格数据结构并将其转换为树的算法**。树中的每个元素要么是叶子（表示网格中的一个单元格），要么是一个容器，其中包含较小的容器或网格中的单元格。这是网格看起来像一棵树的样子：

![网格树结构](../Images/01c21ef45b982522a0666760a65ce3b0.png)

到目前为止，我还没有多少运气。这是我到目前为止所尝试的：

*   我尝试在室外工作，确定网格的较大部分，然后将它们分开以找到较小的部分。问题是很难确定什么构成容器，以及如何在网格中挑选除网格本身之外最大的容器。
*   我尝试获取单个单元格并跟随一条链到它们最大的父级，然后将这些链组合成一个网格。这种方法的问题是父容器并不总是很明显。
*   我尝试取一个网格，将其拆分为较小的网格，然后沿其最大边缘将其拆分。然而，当遇到边缘的末端时，很难判断该末端是否实际上是网格的边缘，或者它是否是局部边缘。
*   我试图确定网格中的哪些单元格具有直接兄弟姐妹（通过注意哪些连接位于连接到同一单元格的单元格的同一侧。然后我将它们放在一个容器中，用容器替换结构中的单元格并重复过程。我相信这种方法可能确实有效，但它看起来非常繁琐且效率低下。
*   最后，我查看了几种不同的数据结构，包括树形图。我相信树形图是在这种情况下使用的非常好的数据结构，但我的网格已经内置了一个结构。我能找到的所有构建 kd 树的算法都没有假设网格中存在任何预先存在的结构。

我真的坚持这一点，如果有任何意见、建议或想法，我将不胜感激。

**更新**

看了 Yochai Timmer 的回答后，我想强调一下网格结构的重要性。下面是两个盒子的示例，它们看起来相同，但具有不同的结构，因此具有非常不同的树表示：

![不同结构的网格](../Images/5e62cd24900ad16bd1a7765d5f05dc96.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T16:24:24.747

我认为你的第四个选择是要走的路。我认为实现并不是*那么*复杂：我会维护一组森林的根节点，初始化为网格中的所有框（如大小为 1 的树）。然后继续遍历该集合，检查您正在检查的框是否连接到任何具有*两条*边的框。如果是，则将两者都替换为更大的框，并将该更大的框设为森林中的父节点。

有一个微妙之处，我不确定它在您的应用程序中有多重要。对于上面的主要示例，您不会在根处获得三元节点：而不是

```
 Root
/-----+-----\
|     |     |
A     B     C 
```

你会得到类似的东西

```
 Root
    /---^---\
   D        C
/--^--\
A     B 
```

但是，我认为您可以在后处理步骤中检测到此类情况并在之后进行纠正：遍历树，并检查每个节点是否代表水平或垂直连接，以及节点 X 是否具有与其父 Y 相同的方向，然后删除 X 并使其子级成为 Y 的附加子级。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:24:22.673

您可以从网格中制作一个图表，其中每个“框”之间都有一条边，是邻居。

然后决定边缘的权重（我会使用 min(v1,v2)）来决定某种排序。

然后只需使用**[最小生成树算法](http://en.wikipedia.org/wiki/Minimum_spanning_tree)**来创建树。

# java - 如何一次解析多个 XML 文档？

> ID：11446816
> 
> 赞同：0
> 
> 时间：2012-07-12T07:18:54.697
> 
> 标签：java, xml, multithreading, sax

我在 Java 中使用 SAXParser 来解析我的 XML 文档。现在我想提高性能并一次解析多个文档。

这可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T07:29:37.423

是的，您可以使用[并发编程](http://docs.oracle.com/javase/tutorial/essential/concurrency/)来做到这一点。产生不同的线程，每个线程解析一个文档将实现多线程 XML 解析。使用[线程池](http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html)将简化实现。

# android - Android：应用启动通知

> ID：11446818
> 
> 赞同：0
> 
> 时间：2012-07-12T07:19:03.930
> 
> 标签：android

我是 Android 开发的新手。我只是在寻找 Android 上的任何应用程序启动通知。每当在设备上启动任何其他第三方应用程序时，我的应用程序都会收到该应用程序信息的通知。它存在于 Palm、Windows Mobile 和所有设备中，只是想知道 Android 上是否有类似的功能。请给我建议。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:50:05.163

要测试是否要显示通知，请在应用程序的首次启动时显示 Dialog 并将结果存储在 SharedPreferences 中。如果此人选择 yes ：在 SharedPreference 中存储 true 并在 GCM 服务器中订阅用户以发送通知。

有关 GCM 的更多信息：[Doc Here](http://developer.android.com/guide/google/gcm/gs.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T11:37:54.047

> 每当在设备上启动任何其他第三方应用程序时，我的应用程序都会收到该应用程序信息的通知。

Android 中没有任何内容会通知您的应用程序有关其他应用程序的启动。

# c# - 在 Winform 中编辑 DataGridView

> ID：11446820
> 
> 赞同：0
> 
> 时间：2012-07-12T07:19:16.780
> 
> 标签：c#, .net, winforms

我正在尝试使用绑定和未绑定列实现 datagridview 。对于绑定列，我只使用了类型化数据集 (xsd)。如何将我的未绑定列变为可编辑并将更改保存回数据库。我是初学者谁能告诉我一个好的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T10:41:31.847

这里有几个教程

如何创建[未绑定](http://www.dotnetperls.com/datagridview-tutorial)的列

这篇[文章](http://social.msdn.microsoft.com/Forums/en-US/winformsdatacontrols/thread/d94cf29d-12bb-4f17-9426-2faac40d4c2f/)将解释更多关于将未绑定的列保存到数据库

此[zip](http://www.timvw.be/2007/04/05/datagridview-to-excel/)将向您展示如何将未绑定的列保存到数据库

# java - Android：目录和子目录列出连续活动问题

> ID：11446821
> 
> 赞同：1
> 
> 时间：2012-07-12T07:19:19.493
> 
> 标签：java, android, android-listview

我正在尝试创建一个目录列表，其中显示了文件夹名称的列表。如果用户单击目录名称并且该目录包含子目录，则将调用一个新活动来列出所有子目录。而这个过程将继续下去。我已经创建了第一页的列表，但现在因为它是一个连续的循环过程，我应该使用哪种方法。这个父活动可以自己调用吗，或者我应该使用 startActivity 作为结果还是 ViewFlipper 或其他任何东西。请建议。

编辑[代码添加：]

MainActivity 类

```
public class MainActivity extends ListActivity implements OnClickListener {

    Button done, cancel, selectAll;

    ListView listView;
    ArrayAdapter<Directory> adapter;
    List<Directory> list;
    HashMap<String, Boolean> checkedMap;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        try {
            setContentView(R.layout.main);

            done = (Button) findViewById(R.id.bDone);
            cancel = (Button) findViewById(R.id.bCancel);
            selectAll = (Button) findViewById(R.id.bSelAll);
            done.setOnClickListener(this);
            cancel.setOnClickListener(this);

            new AsyncHandler(this).execute();
            if (list != null) {
                checkedMap = new HashMap<String, Boolean>();
                Iterator<Directory> i = list.iterator();
                while (i.hasNext()) {
                    Directory d = (Directory) i.next();
                    checkedMap.put(d.getName(), d.isSelected());
                }
            }
        } catch (Exception e) {
            Toast.makeText(this, e.toString(), Toast.LENGTH_SHORT).show();
        }
    }

    @Override
    protected void onListItemClick(ListView l, View v, int position, long id) {
        // super.onListItemClick(l, v, position, id);
        Directory d = list.get(position);
        File[] subDir = d.getFile().listFiles();
        // TODO: UPDATE ACTIVITY
    }

    @Override
    public void onClick(View view) {
        switch (view.getId()) {
        case R.id.bDone:
            // Update CheckedMap in DB
            // Toast.makeText(this, m_checkedMap.values().toString(),
            // Toast.LENGTH_LONG).show();
            break;
        case R.id.bCancel:
            this.finish();
            break;
        }
    }

    public class AsyncHandler extends AsyncTask {

        Context context;

        public AsyncHandler(Context c) {
            context = c;
        }

        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            // Toast.makeText(context, "In onPreExecute()", Toast.LENGTH_SHORT)
            // .show();
        }

        @Override
        protected Object doInBackground(Object... arg0) {
            getList();
            return null;
        }

        @Override
        protected void onPostExecute(Object result) {
            // super.onPostExecute(result);
            setListAdapter(new ElementAdapter(context, list));
        }

        private void getList() {
            list = new ArrayList<Directory>();
            File root = new File("/");
            File[] files = root.listFiles();
            for (File f : files) {
                if (f.isDirectory() && !f.isHidden()) {
                    list.add(new Directory(f, f.getName()));
                }
            }
        }
    }
} 
```

自定义适配器

```
public class ElementAdapter extends ArrayAdapter {

    private Context context;
    private List<Directory> list;

    public ElementAdapter(Context c, List<Directory> list) {
        super(c, R.layout.row, list);
        this.context = c;
        this.list = list;
    }

    static class ViewHolder {
        protected TextView textView;
        protected CheckBox checkBox;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        ViewHolder viewHolder = null;
        View view = convertView;
        if (view == null) {
            LayoutInflater inflator = (LayoutInflater) context
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            view = inflator.inflate(R.layout.row, null);
            viewHolder = new ViewHolder();
            viewHolder.textView = (TextView) view.findViewById(R.id.tvElement);
            viewHolder.checkBox = (CheckBox) view.findViewById(R.id.checkBox1);
            viewHolder.checkBox
                    .setOnCheckedChangeListener(new OnCheckedChangeListener() {

                        @Override
                        public void onCheckedChanged(CompoundButton buttonView,
                                boolean isChecked) {
                            int getPosition = (Integer) buttonView.getTag();
                            list.get(getPosition).setSelected(
                                    buttonView.isChecked());
                        }
                    });
            view.setTag(viewHolder);
            view.setTag(R.id.tvElement, viewHolder.textView);
            view.setTag(R.id.checkBox1, viewHolder.checkBox);
        } else {
            viewHolder = (ViewHolder) view.getTag();
        }
        viewHolder.checkBox.setTag(position);
        viewHolder.textView.setText(list.get(position).getName());
        viewHolder.checkBox.setChecked(list.get(position).isSelected());

        return view;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T19:39:27.983

请参阅“user370305”上面的评论。

# xml - 你如何发送 SOAP 请求？

> ID：11446822
> 
> 赞同：17
> 
> 时间：2012-07-12T07:19:22.350
> 
> 标签：xml, http, soap

我是 SOAP 和 xml 的新手。我阅读了许多教程，但似乎没有什么足够清楚。

我有点困惑，如何发送 SOAP 请求？我尝试这样做的方法是将我的 SOAP 请求（如下所示）保存为：testRequest.xml。

```
POST /MobileCashPayout.asmx HTTP/1.1
Host: 192.168.1.80
Content-Type: application/soap+xml; charset=utf-8
Content-Length: length
<?xml version="1.0" encoding="utf-8"?>
<soap12:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:xsd="http://www.w3.org/2001/XMLSchema"
xmlns:soap12="http://www.w3.org/2003/05/soap-envelope">
<soap12:Body>
<Payout xmlns="http://www.mycel.com/">
<Username>string</Username>
<Password>string</Password>
<referenceID>string</referenceID>
<sourceMsisdn>string</sourceMsisdn>
<destMsisdn>string</destMsisdn>
<Amount>decimal</Amount>
<MobilePin>string</MobilePin>
<cashInformation>string</cashInformation>
<merchantName>string</merchantName>
</Payout>
</soap12:Body>
</soap12:Envelope> 
```

然后我用浏览器打开文件（testRequest.xml）以便发送它..

我得到的回报是一条错误消息，说明：XML Parsing Error: syntax error Location: localhost/projects/test.xml Line Number 1, Column 1:POST /MobileCashPayout.asmx HTTP/1.1 ^

我发送它的方式错误吗？请帮帮我？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-12T07:26:26.583

在浏览器中打开此文档不会发送请求。你有几个选择：

*   用任何熟悉的语言编写一个小脚本，脚本应该连接到指定的服务器并发送一个带有正文的 POST 请求，如您的消息中所述
*   使用一些现有的程序为您做到这一点

如果您没有经验，我肯定会推荐第二种选择。我个人最喜欢的是 SoapUI，请参见[此处](http://www.soapui.org)。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-07-16T18:20:40.430

这篇博文帮助了我。 [使用请求的 Python SOAP 请求](http://daycoder.blogspot.com/2013/03/python-soap-request-using-requests.html)

```
#!/usr/bin/env python
# encoding: utf-8

import requests
from XML import XML

request = u"""<?xml version="1.0" encoding="utf-8"?>
              <soapenv:envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:web="http://www.webserviceX.NET/">
                  <soapenv:header>
                  <soapenv:body>
                      <web:conversionrate>
                          <web:fromcurrency>GBP</web:fromcurrency>
                          <web:tocurrency>CHF</web:tocurrency>
                      </web:conversionrate>
                  </soapenv:body>
              </soapenv:header></soapenv:envelope>"""

encoded_request = request.encode('utf-8')

headers = {"Host": "www.webservicex.net",
           "Content-Type": "text/xml; charset=UTF-8",
           "Content-Length": len(encoded_request)}

response = requests.post(url="http://www.webservicex.net/CurrencyConvertor.asmx",
                         headers = headers,
                         data = encoded_request,
                         verify=False)

print unicode(XML(response.text)) 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2017-07-18T03:09:18.587

在 linux 上，您可以使用它`curl`来发送soap xml。这是如何做到的：

```
curl --header "Content-Type: text/xml;charset=UTF-8" --header "SOAPAction: ACTION_YOU_WANT_TO_CALL" --data @FILE_NAME URL_OF_THE_SOAP_WEB_SERVICE_ENDPOINT 
```

使用`testRequest.xml`创建的文件，您可以

```
curl --header "Content-Type: text/xml;charset=UTF-8" --header "SOAPAction: ACTION_YOU_WANT_TO_CALL" --data @testRequest.xml URL_OF_THE_SOAP_WEB_SERVICE_ENDPOINT 
```

这是一个描述完整过程的[链接](http://dasunhegoda.com/make-soap-request-command-line-curl/596/)。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-12T07:27:10.603

据我所知，您不能在浏览器时发送肥皂请求。我建议你使用像[Soap UI这样的工具](http://www.soapui.org/)

发送请求。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-08-20T05:22:37.150

你可以使用邮递员。这对 REST 和 Soap 有好处 [https://learning.postman.com/docs/sending-requests/supported-api-frameworks/making-soap-requests/](https://learning.postman.com/docs/sending-requests/supported-api-frameworks/making-soap-requests/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-10-14T14:12:58.900

PowerShell 解决方案。用正确的值替换尖括号中的所有项目。

```
$svc = New-WebServiceProxy -Uri "http://<server>/MobileCashPayout.asmx?op=Payout"
$x=$svc.Payout("<Username>","<Password>","<referenceID>","<sourceMsisdn>","<destMsisdn>",<Amount>,"<MobilePin>","<cashInformation>","<merchantName>") 
```

# eclipse - Eclipse 4.2 速度很慢，如何让它响应更快？

> ID：11446825
> 
> 赞同：61
> 
> 时间：2012-07-12T07:19:40.193
> 
> 标签：eclipse, performance, optimization, eclipse-juno

我在一个相当大的 PHP 项目上使用 Eclipse PDT，而 IDE 几乎无法使用。打开一个文件需要将近 30 秒，而其他操作，比如在文件资源管理器中选择一个文件夹、编辑一些文本等也同样慢。

我按照各种说明加快速度，但似乎没有任何效果。这是我当前的`eclipse.ini`文件。知道如何改进它吗？

```
-startup
plugins/org.eclipse.equinox.launcher_1.3.0.v20120522-1813.jar
--launcher.library
plugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.200.v20120522-1813
-showsplash
org.eclipse.platform
--launcher.XXMaxPermSize
256m
--launcher.defaultAction
openFile
-vmargs
-server
-Dosgi.requiredJavaVersion=1.7
-Xmn128m
-Xms1024m
-Xmx1024m
-Xss2m
-XX:PermSize=128m
-XX:MaxPermSize=128m
-XX:+UseParallelGC 
```

系统：Eclipse 4.2.0，Windows 7，4 GB RAM

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-12-18T09:09:19.417

看起来 Eclipse 默默地创建了一个修复程序，并通过他们的 wiki (!) 秘密地宣布了它。至少对我来说似乎缓解了这些问题；虽然我还没有测试它的长度。

请参阅[http://wiki.eclipse.org/Platform_UI/Juno_Performance_Investigation](http://wiki.eclipse.org/Platform_UI/Juno_Performance_Investigation)

基本上你应该从他们的 4.2 更新站点安装“Juno SR1 Patches/Eclipse UI Juno SR1 Optimization”：http: [//download.eclipse.org/eclipse/updates/4.2](http://download.eclipse.org/eclipse/updates/4.2)

此优化的错误跟踪：[https ://bugs.eclipse.org/bugs/show_bug.cgi?id=394588](https://bugs.eclipse.org/bugs/show_bug.cgi?id=394588)

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2012-09-05T07:11:19.517

PDT 3.1 和 eclipse 4.2 (juno) 存在已知的性能问题。

[https://bugs.eclipse.org/bugs/show_bug.cgi?id=385272](https://bugs.eclipse.org/bugs/show_bug.cgi?id=385272)

**这是解决方案：**

打开不同的透视图（例如 java，但不是 php）并重新启动 eclipse。之后，您可以节省地切换回 php 透视图。Eclipse 不会有性能问题。

[这里](http://wiki.eclipse.org/PDT/Installation_3.1.x)也提到

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-07-16T14:29:25.643

实际上，在查看您的机器配置时，您应该确保机器中没有发生任何其他事情并尝试减少所需的内存，例如 -Xmx512m。如果您请求的堆空间过多，那么您可能正在执行大量操作系统分页。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-09-03T20:02:51.027

还有一个已知的错误使某些系统上的 eclipse juno 变慢：

[https://bugs.eclipse.org/bugs/show_bug.cgi?id=385272](https://bugs.eclipse.org/bugs/show_bug.cgi?id=385272)

一种解决方法似乎是删除该`workbench.xmi`文件。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-01-17T11:50:16.433

来自[http://wiki.eclipse.org/Platform_UI/Juno_Performance_Investigation](http://wiki.eclipse.org/Platform_UI/Juno_Performance_Investigation)

1.  确保您已经在 J​​uno SR1 版本（2012 年 9 月）的包上运行
2.  调用帮助 > 安装新软件
3.  选择这个存储库：http: [//download.eclipse.org/eclipse/updates/4.2](http://download.eclipse.org/eclipse/updates/4.2)
4.  展开 Juno SR1 补丁并安装 Eclipse UI Juno SR1 优化

为我工作

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-10-22T05:20:16.537

我在运行 Eclipse 和 ARM 模拟器时遇到了类似的问题。当我在 Eclipse 上从一个选项卡切换到另一个选项卡时，它需要 5 秒钟才能切换，并且 Eclipse 会暂时处于“无响应”模式。实际上，我使用 -Xmx1024m 增加了 eclipse.ini 上的堆内存。它解决了这个问题。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-07-21T22:23:28.270

在切换到 4.2（使用 PDT）时，我遇到了非常大的 UI 性能问题，经过一段时间的调查，我注意到这是由于…… PHP 的观点。这没有任何意义，但我可以在两台不同的计算机上确认它。

尝试切换到另一个（如 Resource ），然后重新启动 Eclipse（最后一部分很重要）。

让我知道这是否有帮助。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2012-12-05T14:13:39.287

我在性能方面遇到了很大的问题（在编辑器窗口之间切换很慢）。我修改了 eclipse.ini 文件以使用 -Xmx1024m 而不是 -Xmx512m 并且性能要好得多。

更新——过了一会儿，我开始注意到上面的修复并没有让我的问题完全消失。我确实发现上面的另一篇文章很有帮助。我安装了 Spring Source Toolsuite 插件，我相信这可能是缓慢的根源。在以下链接安装补丁后，Eclipse 运行更加顺畅：[http ://wiki.eclipse.org/Platform_UI/Juno_Performance_Investigation](http://wiki.eclipse.org/Platform_UI/Juno_Performance_Investigation)

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2013-03-05T01:57:30.770

Eclipse 4.2 Service Release 2 于几天前（2013 年 3 月 1 日）发布。这是所有这些调查和之前建议的补丁的结果。试一试！

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-12-12T17:16:33.283

确保您在 Linux 上关闭了“显示空白字符”。（[https://bugs.eclipse.org/bugs/show_bug.cgi?id=320595](https://bugs.eclipse.org/bugs/show_bug.cgi?id=320595)）

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2014-06-07T13:07:49.103

我正在使用 Eclipse 4.2.2 版本来开发 android 应用程序。但是在编写我的应用程序时它很慢。（不是 XML 图形布局或 Android 模拟器）

我也在使用 NetBeans，但它工作得非常好！

特别是我想在这里通知我已经向 Eclipse 添加了更多插件，现在我已经卸载了所有这些。现在只有带有 Eclipse Base Plugins 的 ADT Plugin。

我已经看到了一些加速 Eclipse UI 的最佳设置。

我想知道我的笔记本电脑的最佳设置是什么。

Windows 8.1，12 GB 内存。

最后很抱歉在这里发帖，我不能发布任何问题，因为我被阻止了。

我希望从这里得到最好的解决方案。

# asp.net - 添加一个带有复选框的表格行，其标签使用文本框输入和删除 ASP.Net 中的行的按钮进行更新

> ID：11446826
> 
> 赞同：0
> 
> 时间：2012-07-12T07:19:40.733
> 
> 标签：asp.net

我尝试结合来自多个线程的答案，但我非常新的、欠发达的 ASP.Net 技能并没有发挥作用。

我正在尝试做一个待办事项清单。规格如下：

1.  在页面加载时，必须有一个带有灰色“添加任务”的输入文本框，旁边有一个提交按钮。

2.  当文本添加到文本框并单击提交按钮时，下方会出现一个复选框，其文本是来自文本框的用户输入。

3.  在刚刚出现的复选框的右侧，还应该出现一个“删除”按钮，单击该按钮会同时删除复选框和删除按钮本身。

4.  当复选框被选中时，其文本应被划掉（删除线）。

5.  浏览器刷新后，所有任务都应该消失。

6.  （这对我来说是个大麻烦）不使用数据库。

我会非常感谢一些指示，即使是关于使用什么模型（WF、MVC、Razor ......）......提前感谢您的时间！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:51:43.327

您可以将复选框放在面板中，并且可以将面板的视图状态设置为 OFF。所以刷新值将不会保留

# android - 更新小部件中的 textView

> ID：11446832
> 
> 赞同：3
> 
> 时间：2012-07-12T07:20:14.760
> 
> 标签：android, android-intent, widget, textview, remoteview

我已经阅读了很多问答，但我找不到我的答案。
可能是我的实施中有问题。
问题是我`TextView`在小部件中没有得到更新。

逻辑是这样的：

1.`setOnClickPendingIntent`在特定`button`的`onUpdate()`
2.单击此按钮将广播`intent`带有声明的`action`
3.最后我将更新中的`textView`文本`onRecieve()`

小部件2.class：

```
public class Widget2 extends AppWidgetProvider {

private static final String SCROLL_LEFT = "widget2.SCROLL_LEFT";

@Override
public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {

    super.onUpdate(context, appWidgetManager, appWidgetIds);

    for (int i = 0; i < appWidgetIds.length; i++) {
        int appWidgetId = appWidgetIds[i];
        RemoteViews remoteViews = new RemoteViews(context.getPackageName(), R.layout.small);

        Intent scrollLeft = new Intent(Widget2.SCROLL_LEFT);
        PendingIntent leftScrollPendingIntent = PendingIntent.getBroadcast(context,
                appWidgetId, scrollLeft, appWidgetId);
        remoteViews.setOnClickPendingIntent(R.id.left_scroller, leftScrollPendingIntent);

        appWidgetManager.updateAppWidget(appWidgetId, remoteViews);
    }
}

@Override
public void onReceive(Context context, Intent intent) {

    Log.e(getClass().getSimpleName(), "onReceive()");
    int appWidgetId = intent.getFlags();
    if (intent.getAction().equals(SCROLL_LEFT)) {
        updateCurrentWidget(context, appWidgetId);
        Log.i("onReceive", SCROLL_LEFT + "   appWidgetId = " + appWidgetId);
    }
            super.onReceive(context,intent);  
}

private void updateCurrentWidget(Context context, int appWidgetId) {
    RemoteViews remoteViews = new RemoteViews(context.getPackageName(), R.layout.small);
    remoteViews.setString(R.id.name_of_the_app, "setText", "android os");
    remoteViews.setTextViewText(R.id.description, "best ever");

    Log.i("updateCurrentWidget", "the text have been set");
    AppWidgetManager manager = AppWidgetManager.getInstance(context);
    manager.updateAppWidget(appWidgetId, remoteViews);
} 
```

清单.xml：

```
 <?xml version="1.0" encoding="utf-8"?>
    <manifest xmlns:android="http://schemas.android.com/apk/res/android"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="4"
        android:targetSdkVersion="14" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <receiver android:name=".Widget2" >
            <intent-filter>
                <action android:name="android.appwidget.action.APPWIDGET_UPDATE" />
                <action android:name="widget2.SCROLL_LEFT" />
            </intent-filter>

            <meta-data
                android:name="android.appwidget.provider"
                android:resource="@xml/widget_small" />
        </receiver>
    </application>

</manifest> 
```

这是简化的 logcat 日志：

```
 onReceive()
   "myPackageName".Widget2.SCROLL_LEFT
   the text have been set
   "myPackageName".Widget2.SCROLL_LEFT appWidgetId = 268435456 
```

一切似乎都是正确的，但文字从未改变！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-24T05:45:45.473

中的关键`widget`是您必须在调用方法之前设置每`View`一个。在这里您可以从您的方法中调用：`Intent``updateAppWidget()``updateWidgetInstance(...)``onReceive()`

```
// action = the String that you get from your intent in the onRecive() method
// id = the id of the appWidget instance that you want to update
// you can get the id in the onReceive() method like this:
// int id = intent.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, AppWidgetManager.INVALID_APPWIDGET_ID);
private static void updateWidgetInstance(Context context, AppWidgetManager manager, String action, int id) {
    RemoteViews remoteViews = updateCurrentWidget(context, id);
    remoteViews = setIntents(remoteViews, context, id);
    manager.updateAppWidget(id, remoteViews);
} 
```

更新视图：（这里您也可以根据需要更改此实例的布局）

```
 private static RemoteViews updateCurrentWidget(Context context, int appWidgetId) {
    RemoteViews remoteViews;

        remoteViews = new RemoteViews(context.getPackageName(), R.layout.widget_small_layout);
        remoteViews.setTextViewText(R.id.widget_name_of_the_app, "Android OS");
        remoteViews.setTextViewText(R.id.widget_app_description, "best ever");
        remoteViews.setImageViewUri(R.id.widget_icon_of_the_app, ...);

    return remoteViews;
} 
```

更新意图：

```
private static RemoteViews setIntents(RemoteViews rm, Context context, int appWidgetId) {

    Intent click = new Intent(context, Widget.class);
    click.setAction("[name of the action]");
    click.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);
    PendingIntent pendingIntent =
            PendingIntent.getBroadcast(context, appWidgetId, click, PendingIntent.FLAG_UPDATE_CURRENT);
    rm.setOnClickPendingIntent(R.id.button1, pendingIntent);

    return rm;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T14:19:12.200

您正在 PendingIntent 标志中设置您的 appWidgetId。这是错误的，因为 PendingIntet 标志是有意义的，它们并不是为了保存一些数据。

您应该为此使用附加功能。

# javascript - 如何将“悬停”功能更改为“开启”功能？

> ID：11446835
> 
> 赞同：4
> 
> 时间：2012-07-12T07:20:23.033
> 
> 标签：javascript, jquery

我需要使用“on”功能而不是“hover”。这是旧代码：

```
 $('.field').hover(
        function() 
        {
            old_value=$(this).text();
            item_id=$(this).attr('id');
            item=$(this).parent('td');
            new_value=(old_value=='Not translated') ? '' : old_value;

            $(this).empty(); 
            var field="<div id='save_button' class='btn btn-primary' style='float: right' href='#'>Save</div><form>"+
                "<div style='overflow: hidden; padding-right: .5em;'>"+
                "<input id='new_value' type='textarea' name='term' style='width: 100%;' value='"+new_value+"'/></div></form>";
            $(this).html(field);
        },
        function() 
        {

            $(this).empty();
            $(this).html(old_value);
        }); 
```

这是新代码：

```
 $('.field').on('hover',
        function(event) 
        {
            old_value=$(this).text();
            item_id=$(this).attr('id');
            item=$(this).parent('td');
            new_value=(old_value=='Not translated') ? '' : old_value;

            $(this).empty(); 
            var field="<div id='save_button' class='btn btn-primary' style='float: right' href='#'>Save</div><form>"+
                "<div style='overflow: hidden; padding-right: .5em;'>"+
                "<input id='new_value' type='textarea' name='term' style='width: 100%;' value='"+new_value+"'/></div></form>";
            $(this).html(field);
        },
        function(event) 
        {

            $(this).empty();
            $(this).html(old_value);
        }); 
```

旧代码运行良好，但新代码不起作用（只有 mouseout 功能有效）。请告诉我，我在哪里做错了？谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-12T07:24:17.470

最容易做的事情可能是单独绑定`mouseenter`（`mouseleave`这就是`hover`无论如何）。[这是该方法](http://james.padolsey.com/jquery/#v=1.7.2&fn=jQuery.fn.hover)的 jQuery[源代码`.hover()`](http://james.padolsey.com/jquery/#v=1.7.2&fn=jQuery.fn.hover)：

```
function (fnOver, fnOut) {
    return this.mouseenter(fnOver).mouseleave(fnOut || fnOver);
} 
```

您可以将事件名称映射传递给事件处理程序[`.on()`](http://api.jquery.com/on/)：

```
$('.field').on({
    mouseenter: function (event) {
        // First function passed to hover
    },
    mouseleave: function (event) {
        // Second function passed to hover
    }
}); 
```

但是 没有什么问题`.hover()`，所以你可以坚持下去。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:27:25.127

根据[jQuery API 文档](http://api.jquery.com/on/)，“hover”伪事件名称（用于“mouseenter mouseleave”）自 v1.8 起已弃用，您必须使用两个事件处理程序而不是：

```
$('.field').on({mouseenter: function (e) { /* code */ },
                mouseleave: function (e) { /* code */ }
}); 
```

# c# - 为什么空字符串上的 .ToString() 会导致空错误，而 .ToString() 在具有空值的可空 int 上工作正常？

> ID：11446838
> 
> 赞同：71
> 
> 时间：2012-07-12T07:20:28.613
> 
> 标签：c#, string, null, int, nullable

`selectedItem`有两个字段：

*   `int? _cost`
*   `string _serialNumber`

在这个例子中，`_cost`and `_serialNumber`of`selectedItem`都是空的。我正在阅读`selectedItem`它们的属性字段，并用它们的值填充文本框，当...

```
TextBox1.Text = selectedItem.Cost.ToString(); //no error
TextBox2.Text = selectedItem.SerialNumber.ToString(); //error 
```

我知道这`SerialNumber.ToString()`是多余的（因为它已经是一个字符串），但我不明白为什么这会导致这个异常：

> 可空对象必须有一个值。

*   `int? _cost`可以为空，并且没有值，但它没有给我例外。
*   `string _serialNumber`可以为空，并且没有值，但它**确实**给了我例外。

这个[问题](https://stackoverflow.com/questions/4793601/tostring-on-null-string)涉及到它，这家伙本质上是在问同样的事情，但是没有指定答案，也没有解释为什么可以为空`int`？例如，我可以`.ToString()`在可为空的 int 上使用但不能在空字符串上使用吗？

* * *

## 回答 #1

> 赞同：91
> 
> 时间：2012-07-12T07:25:02.643

因为`string`type`null`真的没有指向任何东西，所以内存中没有任何对象。
但是`int?`type(nullable) 即使值设置为`null`仍然指向某个对象。
如果您阅读 Jeffrey Richter 的“CLR via C#”，您会发现可空类型只是具有一些封装逻辑的常见类型的外观类，以便更方便地使用 DB null。

检查[msdn](http://msdn.microsoft.com/en-us/library/1t3y8s4s.aspx)以了解可空类型。

* * *

## 回答 #2

> 赞同：34
> 
> 时间：2012-07-12T07:24:05.357

A`Nullable<int>`是 a`struct`并且不能真正为空。因此，对“null”结构的方法调用仍然有效。

有一些“编译器魔法”可以`_cost == null`生成有效的表达式。

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2012-07-12T07:28:35.437

`int?`实际上它本身并不是一个对象，但它是一个`Nullable<int>`对象。

因此，当您声明时`int? _Cost`，您实际上是在声明，`Nullable<int> _Cost`并且的属性`_Cost.Value`不是对象本身。`undefined``_Cost`

> 它实际上是一种语法糖，可以轻松使用 ,`non nullable`等类型。`int``bool``decimal`

根据[MSDN](http://msdn.microsoft.com/en-us/library/1t3y8s4s%28v=vs.80%29.aspx)：

> 语法`T?`是 的简写`System.Nullable<T>`，其中`T`是值类型。这两种形式可以互换。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-07-12T07:31:07.583

字符串是引用类型，但可为空的 int 是值类型。这是对差异[http://www.albahari.com/valuevsreftypes.aspx](http://www.albahari.com/valuevsreftypes.aspx)的很好讨论。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-07-12T07:24:45.977

Nullable 实际上是一个公开两个属性的结构：HasValue 和 Value。如果你这样做，你会得到你的错误：

```
int? i = null;
i.Value.ToString() 
```

为了检查你的int？具有您可以访问的值`i.HasValue`

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-12T07:30:48.840

我认为原因是，当编译器遇到原始数据类型时，它会将其包装到相应的对象中。toString() 方法调用在这里只是间接调用（包装然后调用方法），异常在那里处理。而在 String 的情况下，我们直接调用该方法。当指向 null 时，该方法会引发异常。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2014-06-25T20:14:16.680

原因很简单。`int?`or[`Nullable<int>`](http://msdn.microsoft.com/en-us/library/b3h38hb0(v=vs.110).aspx)是*struct*或[value 类型](http://msdn.microsoft.com/en-us/library/s1ax56ch.aspx)，**它永远不能为 null**。

那么当我们这样做时会发生什么：

```
int? _cost = null; 
```

`_cost`将有两个字段`Value`，`HasValue`当我们分配`null`给`_cost`它的 `HasValue`标志时，它将被设置为`false`并且该`Value`字段将被分配`default(T)`以防`int?`万一`0`。

现在，当我们调用`ToString`时`_cost`，`Nullable<T>`有一个 的覆盖定义`ToString`，如果我们查看[Microsoft 提供的 Source Reference](http://referencesource.microsoft.com/#mscorlib/system/nullable.cs#d83d2db767b43db7#references)，它的实现如下：

```
public override string ToString() {
    return HasValue ? value.ToString() : "";
} 
```

因此它返回一个空字符串，因为`_cost`is assigned `null`。

现在是`string _serialNumber`. 因为`string`它是一个引用类型，它可以*纯粹*地持有`null`。如果它保持，`null`那么调用`ToString`它会按预期产生空引用异常。

您可能会看到：[值类型和引用类型 - MSDN](http://msdn.microsoft.com/en-us/library/t63sy5hs.aspx)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-07-12T12:05:17.553

```
TextBox2.Text = selectedItem.SerialNumber.ToString(); //error 
```

产生错误，因为它正在调用**System.String**成员的函数[ToString()](http://msdn.microsoft.com/en-us/library/system.string.tostring.aspx)。此函数返回此 System.String 实例；不执行实际转换。此外，String 是一种引用类型。引用类型包含指向另一个保存数据的内存位置的指针。

 **```
TextBox1.Text = selectedItem.Cost.ToString(); //no error 
```

不会产生错误，因为它正在调用 作为**System.Integer**成员的函数[ToString()](http://msdn.microsoft.com/en-us/library/x70d7t0y)。此函数将此实例的数值转换为其等效的字符串表示形式。此外，整数是一种值类型。如果数据类型将数据保存在自己的内存分配中，则该数据类型是值类型。

 **相同的函数名称 ToString() 但执行不同的任务。

[String.ToString 方法](http://msdn.microsoft.com/en-us/library/system.string.tostring.aspx)

[Int32.ToString 方法](http://msdn.microsoft.com/en-us/library/x70d7t0y)

[值类型和引用类型](http://msdn.microsoft.com/en-us/library/t63sy5hs%28v=vs.100%29.aspx)****

# html - css 表格单元格，内容有不必要的上边距

> ID：11446839
> 
> 赞同：14
> 
> 时间：2012-07-12T07:20:29.680
> 
> 标签：html, css, css-tables

我在我的代码中使用 div 块的表格单元格排列。我的代码有问题。

我的 html 外观预览在[这里](http://jsbin.com/avozik/10/edit#preview)

当我的第一个面板中有任何内容（文本或图像）时`.inner`，第二个和第三个面板的 div 的上边距约为 10-15 像素。这是为什么 ？

任何人都可以看看，让我知道我错过了什么。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-07-12T07:23:22.453

加入`vertical-align:top;`_`#wrapper > div`

见演示：http: [//jsbin.com/avozik/14/edit](http://jsbin.com/avozik/14/edit)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-02-13T07:42:51.837

我有一个类似的案例，并`vertical-align:top;`解决了这个问题。但是我想详细说明这背后的原因：

[https://jsfiddle.net/46tyc48y/1/](https://jsfiddle.net/46tyc48y/1/)

由于默认使用表格单元格`vertical-align:baseline;`，因此右侧单元格文本将与图像的基线（底部）对齐，从而在顶部创建幻影间距。所以我们需要显式设置`vertical-align`来绕过这种行为。

# c++ - 从设备上下文初始化控件的成员变量

> ID：11446842
> 
> 赞同：0
> 
> 时间：2012-07-12T07:20:50.813
> 
> 标签：c++, winapi, mfc, gdi

我正在编写一个从`CWnd`. 我想使用其设备上下文初始化我的自定义控件类的成员变量（例如：内存 dc）。哪种方法是正确的？我猜设备上下文不会在构造函数中准备好。那么下一个选择是什么。使用 dc`OnCreate`事件安全吗？我可能正在寻找类似的东西`OnInitDialog`，但它是一个自定义控件，而不是一个对话框。

**更新**：我通过资源编辑器将自定义控件添加到父对话框。因此没有机会获得`WM_CREATE`事件，因为它在子类化之前已经创建。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:45:43.883

调用基类的 OnCreate 方法后，可以在`OnCreate`( ) 中创建设备上下文。`WM_CREATE`

[http://msdn.microsoft.com/en-us/library/dd318297(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/dd318297(v=vs.85).aspx)

[从编程窗口](http://books.google.co.in/books?id=giW4IIY_eMoC&pg=PT237&lpg=PT237&dq=wm_create%20device%20context&source=bl&ots=dYW_vlLxCb&sig=3MfWZyxI2LoGDmPsSosh8jiLgZg&hl=en&sa=X&ei=6n_-T4_LDcftrAe97IjiBg&ved=0CFYQ6AEwBg#v=onepage&q=wm_create%20device%20context&f=false)

# google-app-engine - 来自 iOS 的 Google App engine rest api

> ID：11446845
> 
> 赞同：0
> 
> 时间：2012-07-12T07:21:02.810
> 
> 标签：google-app-engine, rest

在 I/O 2012 Google 应用引擎视频演示中，他们展示了适用于 iOS、Android 的 Rest Api 版本。

有没有人看到这个，如果有的话在哪里？

谢谢问候克里斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T11:11:25.017

我认为您指的是新的端点设施。看看这个线程[https://groups.google.com/forum/#!topic/google-appengine/UUu5Ztp6EPg](https://groups.google.com/forum/#!topic/google-appengine/UUu5Ztp6EPg)

它目前处于受信任的测试人员状态。

# html - 如何在wordpress中显示博客文章？

> ID：11446851
> 
> 赞同：0
> 
> 时间：2012-07-12T07:21:33.950
> 
> 标签：html, css, wordpress, themes

我有一个 wordpress 主题“Hatch”，我正在为我的摄影而做。我通常用 HTML/CSS（在 Dreamweaver 中）做网站，这是第一次做 Wordpress。

在我的主页中，您可以以缩略图的形式查看最近的帖子。我正在考虑创建一个名为“博客”的新菜单，基本上就像普通主题一样，显示博客文章。这可能很简单，但我只是找不到使帖子显示为正常显示的代码。

网站是 lizettephotography.com

多谢！

丽兹

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T10:07:16.840

无需编码。创建新类别“博客”。将该类别添加到您的主菜单中。

之后将新帖子添加到博客类别。单击博客菜单链接将显示所有具有博客类别的帖子。

您需要根据需要格式化后期设计。

**编辑 ：**

为了在 WordPress 3.1+ 中激活“帖子格式”，您需要打开主题的 functions.php 文件并粘贴以下代码：

```
add_theme_support( 'post-formats', array( 'aside', 'gallery' ) ); 
```

注意：除此之外，画廊并不是唯一可用的帖子格式。可用的帖子格式列表是：

搁置 – 典型风格的博客格式。

聊天 - 聊天记录。

画廊 - 图片画廊。

链接——指向另一个站点的链接。

图像 - 单个图像。

报价 - 报价。

status – 简短的状态更新，通常限制为 140 个字符。类似于 Twitter 状态更新。

视频 - 单个视频。

有关帖子格式的完整列表，请参阅 WordPress Codex。添加此代码后，您将在您看到发布的右侧列中的帖子写入面板中看到一个新字段。

撰写帖子后，您可以更改格式并点击发布。这将允许您以预先设置的格式显示您的帖子。

编辑您的帖子循环。

假设在您的案例中博客类别帖子格式是**asid**

我们将使用条件标签：has_post_format()

```
if ( has_post_format( 'aside' ) {

  // Blog Category format

} 
else 
{

   // Normal Formate

} 
```

我希望这能帮到您。[更多信息...](http://codex.wordpress.org/Post_Formats)

# ruby-on-rails - 无法调整上传图片的大小

> ID：11446852
> 
> 赞同：0
> 
> 时间：2012-07-12T07:21:34.407
> 
> 标签：ruby-on-rails, ruby-on-rails-3, imagemagick, paperclip

我正在使用回形针 gem 来上传和调整图像大小。此设置工作正常。我能够显示上传的图像。当我尝试调整上传图像的大小时，问题就来了。

这是模型文件的片段

```
has_attached_file :photo,
                  :size => {:small => "150x150>"} 
```

当我尝试上传图片时，出现此错误。

```
Photo /var/folders/gm/gm-SegRMHuOkSlYtTMkO8U+++TI/-Tmp-/file.jpg is not recognized by the 'identify' command. 
```

我确定该文件是jpg。这是文件命令的输出

```
file.jpg: JPEG image data, JFIF standard 1.01, comment: "CREATOR: gd-jpeg v1.0 (using IJ" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:33:36.747

我不确定，但在我们的应用程序中，我们做同样的事情并且它有效。我们的代码如下所示：

```
 has_attached_file :image,
             :styles => {:small => "280x173#", :medium => "635x393#"},
             :convert_options => {:all => "-quality 80"},#, 
             :default_style => :medium,
             :default_url => "/images/study/nophoto.jpg"

    validates_attachment_size :image, :less_than => 10.megabyte
    validates_attachment_content_type :image, :content_type => ['image/gif', 'image/png', 'image/x-png', 'image/jpeg', 'image/pjpeg', 'image/jpg'] 
```

我看到的不同之处在于，您可能必须提供 convert_options 才能调整大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T08:17:40.740

Have you tried any other jpg file, maybe with a simpler path also?

# javascript - 如何在我的 html 文件中使用外部 jquery 显示和图像

> ID：11446853
> 
> 赞同：-1
> 
> 时间：2012-07-12T07:21:37.117
> 
> 标签：javascript, jquery

我是 jquery 的新手，谁能告诉我如何在我的 html 文件中使用外部 jquery 显示和图像。

我希望我的 html 干净并加载外部 jquery 文件中提到图像路径的图像。

我的 jquery 文件会像这样 testjquery.js

```
 // url to load the image (which i dont know ,whats the code for it) 
```

并在我的 html 文件中。

```
<html>
  <head>
    <script type="text/javascript">
        (function() {
            var test = document.createElement('script');
            test.type = 'text/javascript'; 
            test.async = true;
            test.src = 'testquery.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(test, s);

            test.onload=function(){
                // function to load the external image
            }
         })();
    </script>
  </head>
  <body>
  </body>
</html> 
```

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:30:54.217

我不知道你的意思是什么......但我猜你的意思是突兀的 jQuery。所以你的 html 保持干净。您可以将 javascript 放在外部文件中或页面底部。如果将其放在外部文件中，则可以删除脚本标签。

```
<html>
  <head>
    <script src="style.js" type="text/javascript"></script>
  </head>
  <body>
    <div id="image"></div>
  </body>
</html> 
```

并在 style.js 中（可以放在同一个目录下）

```
 $(document).ready(function(){
    imagePath = 'your_image.png';
    $('#image').html("<img src='" + imagePath + "' />")
  }); 
```

您可以使用 html 或附加。html 函数清除整个图像 div 并将其替换为图像。追加，将其附加到 div 以便您以后可以添加另一个。(document).ready 函数将在整个文档加载后运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:31:39.650

我认为你的问题是错误的
，所以测试一下

首先确定加载的 Jquery 脚本文件

并为 div 元素设置 html

```
<div id="imageContainer"></div>

<script>
    $('#imageContainer').html('<img src="/images/test.jpg" />');
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T07:34:17.530

您可以简单地使用：

**HTML**

```
<div id="divWhereYouWantAddImage"></div> 
```

**查询**

```
$('#divWhereYouWantAddImage').append("<img src='img.jpg' />"); 
```

[您可以在此处](http://api.jquery.com/append/)阅读有关 jquery`.append()`函数的更多信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T07:41:01.777

下面是 ExternalJSFile.js 中的文件内容

```
imageUrl = 'your/img/path.png'; 
```

你的 html 文件

```
<html>  
</html>

<script src="ExternalJSFile.js" type="text/javascript"></script>

<script type="text/javascript">
 $(document).ready(function(){
     alert(imageUrl);
  });
</script> 
```

# android - 应用程序类中的静态引用和引用之间的区别？

> ID：11446854
> 
> 赞同：1
> 
> 时间：2012-07-12T07:21:49.157
> 
> 标签：android

假设我有一个类实例的引用，它没有对有问题的对象（如上下文、视图等）的任何直接/间接引用。在静态引用中使用这个引用和在扩展类的类中使用它有什么区别`Application`吗？

我的意思是，在这两种方式中，只有当进程被终止时（或者没有对它的引用），被引用的对象才会被释放，对吧？使用多个进程时可能会有所不同？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:26:43.250

一个细微的区别是，如果在静态引用和类内的引用之间进行选择的情况下，`Garbage Collector`将首先销毁绑定在`Activities`(or ) 中的静态引用，以防内存严重不足。出现这种情况是因为当(or ) 被销毁时，它会留下没有引用的静态变量（如果它们除了上述引用之外没有其他引用），因此它们可以被 GC 收集。即使 VM 重新初始化(or )，这些静态引用也将采用初始值，丢失任何可能发生的更新。作为一般经验法则，如果您想确保静态变量是持久的：`Services``Application``Activity``Service``Activity``Service`

1.  不要从`Activities`（或`Services`）引用它们，因为在内存不足的情况下它们可能会被破坏。
2.  从活动或服务中引用它们，但处理它们被手动销毁的情况（例如，使用`onSavedInsanceState`Android 的方法），就像使用非静态引用一样。

**编辑**这是对为什么会发生这种情况的解释：

> 静态引用绑定到首先初始化它们的类的类加载器。这意味着，如果任何类中的静态变量已由活动初始化，则当该活动被销毁时，其类也可能被卸载，因此该变量未初始化。而如果变量由应用程序类初始化，它的生命与应用程序进程相同，因此我们确信它永远不会再次未初始化。这就是为什么我选择初始化 MyApplication 类中的所有单例。

在此[链接](http://www.devahead.com/blog/2011/06/extending-the-android-application-class-and-dealing-with-singleton/)中找到。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-08T18:34:49.313

我相信@Angelo 在另一个答案中引用的[文章](http://www.devahead.com/blog/2011/06/extending-the-android-application-class-and-dealing-with-singleton/)是非常错误的（至少可以说）并且引起了很多混乱：android 中的类是基于每个进程而不是基于每个类卸载的。也就是说，如果您的应用程序被终止*并且*类被卸载，那么您将失去*所有*静态状态——如果不是的话。这就是我对@fadden 的回答的看法，至少：

[Android 从不卸载类的情况仍然如此吗？](https://stackoverflow.com/questions/18840093/is-it-still-the-case-that-android-never-unloads-classes/18929394#18929394)

[Android：系统何时卸载类？](https://stackoverflow.com/questions/2447588/android-when-do-classes-get-unloaded-by-the-system/2480248#2480248)

现在你的问题有点含糊......静态引用与使用它的非静态引用不同。如果您的意思是这两个变量都是静态的，那么它们在活动、应用程序或任何实例中都没有区别 - 每当加载类并且变量取某个值时，它们将保持不变，直到类被卸载。不确定卸载类是否有指定的顺序 - 或者这是否重要。

# json - wso2ESB 中 JSON 数据的消息中继

> ID：11446858
> 
> 赞同：1
> 
> 时间：2012-07-12T07:22:01.687
> 
> 标签：json, wso2, wso2esb

我正在尝试使用 wso2ESB 构建一个简单的 POC。[我使用 Alfresco 服务http://www.alfresco.com/](http://www.alfresco.com/)创建了一个简单的直通代理服务

问题是我没有得到完整的 JSON 数据。我读过它与axis2-JSON有关，并且当根目录中有JSONArray时会导致问题。所以我决定使用消息中继。

[WSO2 ESB 无法将完整的 JSON 数据转换为 XML](https://stackoverflow.com/questions/10750309/wso2-esb-unable-to-convert-complete-json-data-to-xml)

我已经按照文档中的描述编辑了axis2.xml，因此添加了以下几行

```
<messageFormatter contentType="application/json"
                        class="org.wso2.carbon.relay.ExpandingMessageFormatter"/> 
```

和

```
<messageBuilder contentType="application/xml"
                class="org.apache.axis2.builder.ApplicationXMLBuilder"/> 
```

但是，当我尝试通过 firefox REST 插件使用代理服务器时重新启动服务器后，ESB 会引发以下异常

```
 [2012-07-12 10:02:29,125]  WARN - ClientWorker Unexpected response received. HTTP response co
de : 405 HTTP status : Method Not Allowed exception : SOAP message MUST NOT contain a Documen
t Type Declaration(DTD)
[2012-07-12 10:02:29,125] ERROR - NativeWorkerPool Uncaught exception
java.lang.ClassCastException: org.apache.axiom.om.impl.llom.OMTextImpl cannot be cast to org.
apache.axiom.om.OMElement
        at org.apache.synapse.util.MessageHelper.cloneSOAPFault(MessageHelper.java:441)
        at org.apache.synapse.util.MessageHelper.cloneSOAPEnvelope(MessageHelper.java:254)
        at org.apache.synapse.core.axis2.SOAPUtils.convertSOAP11toSOAP12(SOAPUtils.java:95)
        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.handleMessage(SynapseCallbac
kReceiver.java:323)
        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.receive(SynapseCallbackRecei
ver.java:160)
        at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:181)
        at org.apache.synapse.transport.nhttp.ClientWorker.run(ClientWorker.java:275)
        at org.apache.axis2.transport.base.threads.NativeWorkerPool$1.run(NativeWorkerPool.ja
va:173)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886
)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662) 
```

这是什么原因造成的？问题是 ESB 仍然尝试转换 JSON 对象而不是尝试中继它吗？

解析这些 JSON 对象是否有另一种解决方法（即向 JSON 对象添加人工根？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T11:30:51.167

在构建器中，您还需要将 application/json 设置为使用 org.wso2.carbon.relay.BinaryRelayBuilder。

# c# - 用 C# 编写 HTML 代码

> ID：11446859
> 
> 赞同：0
> 
> 时间：2012-07-12T07:22:02.250
> 
> 标签：c#, html, html-table, html-email

我想做的是；

```
for (int i = 0; i < thexfiles.Length; i++)
{
    tosend = tosend + "<tr><td>"+thexfiles[i]+"</td><td>"+thexdates[i]+"</td></tr><tr>";
}
mail.Body = tosend; 
```

我想将数据插入到 C# 代码中的表中（也许使用 html？），所以当它被邮寄时，它看起来很干净。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:26:33.943

如果您正在使用该类：`System.Net.Mail.MailMessage`确保在将内容分配给该`Body`属性后，您还将该属性设置`IsBodyHtml`为`true`.

那应该工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:25:59.787

试试这个

```
 StringBuilder sb = new StringBuilder();
    sb.Append("<table>");
    sb.Append("<tr><td>Column 1</td><td>Column 2</td></tr>");

    for (int i = 0; i < thexfiles.Length; i++)
        sb.AppendFormat("<tr><td>{0}</td><td>{1}</td></tr>", thexfiles[i], thexdates[i]);

    sb.Append("</table>");

    mail.IsBodyHtml = true;
    mail.Body = sb.ToString(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T07:33:51.397

你只需要这样做：

```
for (int i = 0; i < thexfiles.Length; i++)
{
    tosend = tosend + "<tr><td>"+thexfiles[i]+"</td><td>"+thexdates[i]+"</td></tr>";
}

tosend = "<html><table>" + tosend + "</table></html>";

mail.IsBodyHtml = true;
mail.Body = tosend; 
```

就是这样，邮件正文将显示在 HTML 表格中。

# database - 创建没有 EXTERNAL 关键字的外部表？

> ID：11446861
> 
> 赞同：1
> 
> 时间：2012-07-12T07:22:07.507
> 
> 标签：database, hive

我正在使用蜂巢工作。今天在创建一些外部表的时候，忘记输入`EXTERNAL`关键字，HiveQL 是这样的：

```
CREATE TABLE year_2012_main (
    some BIGINT,
    fields BIGINT,
    should BIGINT,
    beee BIGINT,
    here STRING,
    buttt STRING,
    Iveee STRING,
    decide STRING,
    tohide STRING,
    them BIGINT)
    ROW FORMAT DELIMITED
    FIELDS TERMINATED BY ','
    COLLECTION ITEMS TERMINATED BY ' '
    MAP KEYS TERMINATED BY ':'
    STORED AS TEXTFILE location '/data/content/year_2012_main'; 
```

然后我试了一下`select count (*) from year_2012_main;`，效果很好。

所以，只是出于好奇，有或没有有什么区别`EXTERNAL`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-14T16:10:50.840

非外部的 Hive 表称为托管表。Hive 中的外部表和托管表之间的主要区别之一是，当删除外部表时，与其关联的数据（在您的情况下为 /data/content/year_2012_main）不会被删除，只有元数据（编号列数、列类型、终止符等）从 Hive 元存储中删除。当托管表被删除时，元数据和数据都会被删除。到目前为止，我一直更喜欢将表设为外部，因为如果我的 Hive 表的架构发生更改，我可以删除外部表并使用新架构在相同的 HDFS 数据上重新创建另一个外部表。然而，大多数（如果不是全部）模式的更改现在可以通过`ALTER TABLE`或类似的命令，因此我对使用外部表而不是托管表的建议/偏好可能比现代表更多的是遗留问题。

[您可以在此处](https://cwiki.apache.org/Hive/storagehandlers.html#StorageHandlers-Terminology)了解有关术语的更多信息。

# algorithm - 二叉搜索树性能

> ID：11446862
> 
> 赞同：1
> 
> 时间：2012-07-12T07:22:07.863
> 
> 标签：algorithm, data-structures

那么，找到一个 key 需要 O(height) 时间，需要多少时间才能找到所有 key 大于给定 key 的节点？什么是常数因子？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T07:26:58.260

如果正确完成，您可能会找到密钥，然后按顺序转到下一个。

所以它将是 O(logn) + m 。其中 m 是大于密钥的错误数。
最坏的情况是 O(logn) + n = O(n)

# c# - WPF 日期选择器中的 CalendarWeeks

> ID：11446869
> 
> 赞同：1
> 
> 时间：2012-07-12T07:22:35.887
> 
> 标签：c#, wpf, .net-4.0, datepicker

正如我的问题的标题所说：是否有可能在 WPF DatePicker-Control 中显示相应的 CalendarWeek？

使用 WinForms 可以在日历的左侧显示它。如何在 WPF 中实现这一点？

**更新：**感谢`Mare Infinitus`我能够在[Charles Petzold](http://www.charlespetzold.com/blog/2009/10/Adapting-the-Calendar-Control-for-Week-Numbers.html)的博客中找到正确（为我工作）解决方案的好答案。

我只需要更改逻辑来计算周数以通过 ISO 标准！:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T11:15:14.673

首先：是的，有可能：

这是您想要的源代码： [Datepicker final withcalender week](http://www.codeproject.com/Articles/88757/WPF-Calendar-and-Datepicker-Final)

请查看 WeekColumnVisibility 属性。

为了您的兴趣，这里是有关[自定义新 WPF 日历控件的更多信息](http://msdn.microsoft.com/en-us/magazine/dd882520.aspx)

[这是确定一年中星期几的](https://stackoverflow.com/questions/7918593/how-can-i-determine-the-week-number-of-a-certain-date)SO （最后很容易）

这里有一些详细信息如何处理这样的控件。 [介绍 WPF 4 日历控件](http://10rem.net/blog/2009/10/26/introducing-the-wpf-4-calendar-control)

[并且，如果您喜欢，这里有一些关于WPF 教程](http://wpftutorial.net/Calendar.html)的日历的快速动手示例

# c# - 带有本地化文件夹和类的项目？

> ID：11446875
> 
> 赞同：1
> 
> 时间：2012-07-12T07:23:18.627
> 
> 标签：c#, silverlight, resources

我正在尝试在 2009 年的 Silverlight 项目中使用具有本地化功能的新资源文件。

我在 Silverlight 应用程序的 Resources 文件夹中添加了一个新资源文件，如果

我尝试在控件 (.xaml) 中使用新资源，我得到蓝色下划线，并显示消息“无法解析 resTest.resx”。

我找到了一个文件夹“本地化”，其中包含如下类：

```
namespace SilverlightApplication.Localization{
public class ContentGrid
{
    public ContentGrid() { 

    }

    private static Resources.ContentGrid _Resource = new SilverlightApplication.Resources.ContentGrid();

    public Resources.ContentGrid Resource
    {
        get
        {
            return _Resource;
        }
    }
} 
```

}

我为我的新资源文件添加了一个新类，但它不起作用。还是同样的错误。我只知道自动资源方法，我将资源文件放在资源文件夹中，一切都会自动运行。

也许我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:42:39.700

我阅读了解释如何使 xaml 内容可本地化的流动文章。

[http://msdn.microsoft.com/en-us/library/dd882554%28v=vs.95%29.aspx](http://msdn.microsoft.com/en-us/library/dd882554%28v=vs.95%29.aspx)

我忘了在 app.xaml 文件中输入一个条目。

# c# - 用于比较 2 个表之间的数据的数据库查询问题或其他解决方案

> ID：11446877
> 
> 赞同：0
> 
> 时间：2012-07-12T07:23:22.440
> 
> 标签：c#, sql

我正在使用 Visual Studio 2010 创建 Windows 应用程序表单。现在，我处于这种情况：

我允许用户将项目添加到系统中，每个项目他们可能有不同的品牌、成本和供应商以及不同客户的销售价格。

例如，Item1，名称：ABC，品牌：TIM 和 Item2，名称：ABC，品牌：LD。

当用户想要将成本和供应商信息插入Item1时，当他们点击“ShowCost”按钮时，会弹出另一个Windows Form供用户填写。我打算使用DataGridView。我打算使用商品名称和品牌来确定商品的成本和售价

所以这是我的问题，我如何设置查询或其他解决方案以检查用户输入的商品名称和品牌何时会显示特定商品的成本和价格？我需要写什么查询？

我创建了 3 个数据库表，它们是 ItemInfo(Name, Brand, etc)、CostList(Name, Brand, SuppliersName, Cost) 和 SellingPrice(Name, Brand, CustomersName, SellingPrice)。如何比较 ItemInfo 表中的数据以在 CostList 中显示数据？

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T07:35:14.517

如果您使用的是数据库，则应考虑使用主键。这样，您可以将有关某个项目的信息存储在另一个表中。在所有三个表中，您都使用名称和品牌。我会像这样对我的表进行建模：

**项目**

*   ItemID（使该字段成为自动递增整数字段）
*   项目名称
*   品牌
*   供应商 ID
*   价格

**客户**

*   客户编号
*   客户名称
*   折扣百分比
*   电话号码

**供应商**

*   供应商 ID
*   供应商名称

在客户表中，供应商ID 字段是唯一编号。因此，当您想引用供应商时，您只需填写 SupplierID。例如，在 items 表中，ItemID 是项目的唯一标识符。供应商 ID 字段是指供应商表中的供应商 ID 字段。为了确保您的数据模型保持一致，我建议您使用外键约束。这确保您不能填写任何无效的 ID

[这是一个解释一些SQL 基础知识](http://www.youtube.com/watch?v=Rpp28U_K9Lk)的短片

# php - 使用 Stunnel 通过 Web 服务器向 MySQL 服务器提交表单数据？

> ID：11446879
> 
> 赞同：1
> 
> 时间：2012-07-12T07:23:33.003
> 
> 标签：php, mysql, encryption, ssl, stunnel

我有一个用户可以填写的表格，数据将使用 PHP 存储到 MySQL 数据库中。到 Apache 服务器的连接是通过 HTTPS 加密的，我想加密到 MySQL 数据库的连接。Apache 和 MySQL 都在同一台服务器机器上。

我在 Internet 上进行了挖掘，而 Stunnel 似乎正是我所需要的。在服务器上支持并激活 OpenSSL 和 SSL，因为我们可以选择使用标准端口和 stunnel 端口连接到 MySQL 服务器。但是，我在网上找到的所有文章都涉及使用 Stunnel 将 MySQL 客户端连接到外部 MySQL 服务器，而不是如何使用 PHP 连接到本地 MySQL 服务器。我是否可以假设仅仅因为表单是通过 https 传输的，并不意味着与数据库的连接也是加密的？

我用来连接 MySQL 的 PHP 代码是这样的：

```
$mysqli = new mysqli("ip","user", "password", "database", "standardport"); 
```

使用标准端口可以正常工作。但是，如果我将其更改为 Stunnel 端口，则会出现连接超时错误。显然我错过了一些东西；任何帮助和建议表示赞赏！谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T08:59:10.530

您已经说过您使用 HTTPS 连接来加密客户端浏览器和 Web 服务器之间的流量，并且 Web 服务器和 MySQL 实例位于同一台计算机上。

Assmuning HTTPS 连接是安全的，这应该是保护公共网络上的数据所需的全部内容，并且为仅存在于本地计算机上的连接使用安全隧道只会增加不必要的复杂性。

考虑以下示例。

* * *

首先是在没有安全隧道的情况下连接的外观。

`browser <--HTTPS--> [ webserver <--> mysql ]`

所以在这种情况下，webserver 和 mysql 之间的连接是未加密的。有权访问机器的人（取决于权限）将能够观察网络服务器之间的所有流量和/或从磁盘本身读取物理数据库。

* * *

现在，有了一个安全的隧道

`[ webserver <--> stunnel <--ENCRYPTED--> stunnel <--> mysql ]`

我希望你能看到 webserver 和一个安全隧道端点之间的连接，以及 mysql 和另一个端点之间的连接都是未加密的。在这种情况下，与以前完全相同，有权访问机器的人可能会看到所有流量并从磁盘读取数据库。

没有实现额外的安全性。

* * *

最后

`[ webserver <--> stunnel ] <--ENCRYPTED--> [ stunnel <--> mysql ]`

当您使用两个单独的服务器时，本地流量仍然是未加密的，但是 stunnel 可以保护两台机器**之间的流。**对机器具有本地访问权限的人可能仍然能够观察流量和读取数据，但是观察服务器之间的网络流量的人则不能。

* * *

## 一个办法？

综上所述，如果您真的想加密 PHP 和 MySQL 之间的流量，即使在同一台机器上，也存在比使用 stunnel 更好的解决方案。

MySQL 原生支持 SSL，就像 PHP 在*编译*时都支持 SSL 一样。（您的安装可能已经以这种方式配置，由您来检查它们）

MySQL 手册详细介绍[了如何使用 SSL 支持配置 MySQL 服务器，](http://dev.mysql.com/doc/refman/5.0/en/secure-using-ssl.html) PHP 提供了该功能[`mysqli_ssl_set`](http://php.net/manual/en/mysqli.ssl-set.php)

使用这种组合，您可以本地加密 PHP 和 mysql 服务器之间的连接。

`[ webserver <--ENCRYPTYED --> mysql ]`

**然而**，有权访问机器的人可能仍然能够从磁盘读取**未加密**的数据库，并且可能能够观察正在运行的进程的内存。

你说的很对，互联网是一个危险的地方，适当的安全是必不可少的。如果您的服务器本身及其包含的数据不安全，那么无论您采取何种预防措施来保护数据进入和离开的方式，一切都会丢失。

# jquery - jQuery找到具有特定样式的span标签

> ID：11446881
> 
> 赞同：0
> 
> 时间：2012-07-12T07:23:37.900
> 
> 标签：jquery, html

我有一个带有特定样式的`span`标签。我想找到该跨度标签并将其隐藏在下面是我拥有的代码：`td``table``color:red`

**HTML：**

```
<table class="table_1">
<tbody>
<tr>
<td>
<span id="dynamically generated" style="color:red;">
Error! correct it.
</span> 
</td>
<td>
<span>
// Three links to three different sites
<a>
</a>
<a>
</a>
<a>
</a>
</span>
</td>
</tr>
<tr>
</tr> 
</tbody>
</table> 
```

**编辑**第一个跨度的 id 是动态生成的，如 "Span1" "Span2"....

**查询：**

```
 $("table.table_1 tr").each(function (n) {
        $(this).find('td:eq(0)').find('span').html("");
    }); 
```

上面的 jquery 代码隐藏了这两个`span`标签，即使它们在不同的`td`. 难道我做错了什么？我只想隐藏第一个包含错误消息的跨度标签。有办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:29:46.887

通常你会在 tr 或 td 上放一个**类（比如 'error'），然后****hide()**它：

```
<span id="dynamically-generated" class="error">
Error! correct it.
</span>

...

$('table.table_1 .error').hide(); 
```

隐藏比调用 html('') 优雅得多，因为 hide() 不会破坏内容。因此，如果您想稍后显示错误，只需调用**show()**。:)

最后，您应该在 CSS 中添加红色：

```
.error { color:red; } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:32:03.470

尝试这个：

[演示](http://jsfiddle.net/LhWqb/3/)

```
$('.table_1 span').filter(function() {
    var colormatch= 'rgb(255, 0, 0)'; // match color:red

    return ( $(this).css('color') == colormatch);

}).css('display', 'none'); // hide the span​ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T07:41:10.930

您可以找到“错误”一词并以这种方式将其删除。

有关示例，请参见此处的[jsFiddle ，或以下内容。](http://jsfiddle.net/QAXZz/)

```
$(document).ready(function() {
    $("table.table_1 tr td span").each(function() {
        if ($(this).html().lastIndexOf("Error") > 0) {
            $(this).html("");
        }
    });
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-12T07:26:14.977

尝试这个：

```
$("table.table_1 tr span[style='color:red']:first") 
```

或者：

```
$(".table_1 span[style]:first") 
```

[演示](http://jsfiddle.net/QEbgV/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-12T07:28:33.123

首先，让我们看一下您的标记：

> ID 和 NAME 元素必须以字母开头，即大写 A 到 Z 或小写 a 到 z；不允许使用数字。在第一个字母之后允许有任意数量的字母（a 到 z、A 到 Z）、数字（0 到 9）、连字符 (-)、下划线 (_)、冒号 (:) 和句点 (.)。

来源：[http ://www.electrictoolbox.com/valid-characters-html-id-attribute/](http://www.electrictoolbox.com/valid-characters-html-id-attribute/)

因为不允许使用空格，所以您应该真正使用`id="dynamically-generated"`而不是`id="dynamically generated"`. 然后你可以简单地做

```
$('#dynamically-generated').hide() 
```

不过，我建议在此处使用类属性，因为您可能有多个`dynamically-generated`元素。所以使用`class="dynamically-generated"`你会写

```
$('.dynamically-generated').hide() 
```

# selenium-ide - 如何将 verifyElementPresent 的结果（即真/假）存储在变量中以供进一步使用？

> ID：11446882
> 
> 赞同：0
> 
> 时间：2012-07-12T07:23:39.490
> 
> 标签：selenium-ide

我想将结果用于进一步的条件目的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T08:09:56.390

您可以使用以下代码。您将在“check”变量中获得“true”或“false”值以供进一步使用。

```
<tr>
    <td>storeTextPresent</td>
    <td>How can i store the result of verifyElementPresent ie either true/false in a variable, for further use?</td>
    <td>check</td>
</tr>
<tr>
    <td>getEval</td>
    <td>alert(${check})</td>
    <td></td>
</tr> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-23T05:11:15.777

如果您打算在条件中使用，请使用“storeelementpresent”命令并将值存储在变量中并使用“gotoif”断言变量值。

# salesforce - 销售人员喋喋不休触发器

> ID：11446885
> 
> 赞同：1
> 
> 时间：2012-07-12T07:23:59.290
> 
> 标签：salesforce, salesforce-chatter, salesforce-service-cloud

我正在将我的消息与我的关注者分享到他们的手机上。我的问题是我的所有关注者都在收到短信。但它应该将短信发送给我在聊天中指定的特定关注者 @followername .Will @ woek in如果不是触发器，我如何在触发器中绘制该功能

任何建议都值得赞赏。

谢谢&问候 A.Anil kumar

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:39:56.700

目前，REST API 是在帖子中以 @ 格式以编程方式标记用户的唯一方法。[你可以在这里](http://www.salesforce.com/us/developer/docs/chatterapi/Content/connect_resources_how_to.htm#cc_post_mentions)阅读更多关于它的信息。

# bash - 最后一个空行后的外壳插入行

> ID：11446891
> 
> 赞同：1
> 
> 时间：2012-07-12T07:24:20.770
> 
> 标签：bash, shell, insert, sed

我试图在文件中间的最后一个空行之后插入一行文本。

### 示例文件：

```
some text
more text

blah blah blah
more blah

some more text
and even more text 
```

插入的文本应该在该文件的第 6 行。到目前为止，我尝试过这样的命令：

```
sed '/\n/ i some text' file 
```

但是，到目前为止，没有任何效果。有任何想法吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T08:03:08.610

grep 和 awk 的不同解决方案：

```
awk -v last_empty_line=$(grep -nE '^[[:blank:]]*$' your_file | tail -1 | cut -c 1) '{print; if (NR==last_empty_line) print "->some new text here"}' your_file 
```

awk 在最后一个空行之后插入新文本；使用适当的 grep 选择最后一个空行的索引，该 grep 找到空行（或仅填充空白字符），通过管道输送到尾部以选择最后一个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T09:55:36.773

也许这可以帮助

```
perl -p00e 'eof&&s/^/-- new text --\n\n/' text.txt 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T15:37:25.890

这可能对您有用（GNU sed）：

```
 sed ':a;$!{N;/\n$/!ba;p;d};s/^/-> some text\n/' file 
```

# java - Spring AOP - 为什么我需要 aspectjweaver？

> ID：11446893
> 
> 赞同：37
> 
> 时间：2012-07-12T07:24:29.860
> 
> 标签：java, spring, aop, aspectj, spring-aop

我用 Spring AOP 写了一个非常简单的 Aspect。它有效，但我在理解真正发生的事情时遇到了一些问题。我不明白为什么我必须添加 aspectjweaver.jar？Spring-AOP 文档明确指出，只要我只使用 Spring-AOP，我就不需要 aspectj 编译器或编织器：

> AOP 运行时仍然是纯 Spring AOP，并且不依赖于 AspectJ 编译器或编织器。

我的配置如下所示：

```
<aop:aspectj-autoproxy />

@Aspect
@Service
public class RemoteInvocationAspect {

    @Before("execution(* at.test.mypackage.*.*(..))")
    public void test() {
        System.out.println("test");
    }
    ... 
```

我也尝试了 XML 配置，但没有改变任何东西。也许我可以放手，但我真的很想了解为什么要使用 aspectj-weaver？如果我不在 Maven 中添加依赖项，我会得到 `java.lang.ClassNotFoundException: org.aspectj.weaver.reflect.ReflectionWorld$ReflectionWorldException`

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-07-12T07:51:05.853

我认为 Spring AOP 实现是重用了 aspectj-weaver 中的一些类。它仍然使用动态代理 - 不进行字节码修改。

春季论坛的以下[评论可能会澄清。](http://forum.springsource.org/showthread.php?33357-How-not-to-use-AspectJ-weaver&p=96974#post96974)

> 在这种情况下，Spring 没有使用 AspectJ 编织器。它只是重用了 aspectjweaver.jar 中的一些类。
> 
> -拉姆尼瓦斯

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-12T07:42:53.670

您正在使用 AspectJ 风格的切入点表达式`@Aspect`并且`@Before`是 AspectJ 的一部分。检查[此链接](http://www.mkyong.com/spring3/spring-aop-aspectj-annotation-example/)。

关于`AspectJ-weaver`，它实际上是一个字节码编织器，它**在加载时将方面编织到类中**。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-05-20T16:07:54.567

我最近有一个类似的问题[，如果spring不依赖于aspectj，为什么会抛出aspectj错误？](https://stackoverflow.com/questions/16568665/why-does-spring-throw-an-aspectj-error-if-it-does-not-depend-on-aspectj)

要在没有 AspectJ 依赖的情况下使用 Spring AoP，必须在 xml 中完成。注释是 AspectJ 的一部分。

此外，非常酷的表达语言仅由 AspectJ 支持。所以你必须定义明确的切入点。请参见第 6.3.2 节。声明切入点： [http](http://static.springsource.org/spring/docs/2.0.x/reference/aop.html) ://static.springsource.org/spring/docs/2.0.x/reference/aop.html部分

我仍然无法找到有关此技术的任何详细文档。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-11-01T20:00:14.860

当您使用 AspectJ 切入点表达式语言时，您需要 aspectjtools 或 aspectjweaver 依赖项。

请参阅以下课程：

**Foo.java**

```
public interface Foo {
    void foo();
    void baz();
} 
```

**FooImpl.java**

```
public class FooImpl implements Foo {
    @Override
    public void foo() {
        System.out.println("Foo!");
    }

    @Override
    public void baz() {
        System.out.println("Baz!");
    }
} 
```

**MethodBeforeAdviceBarImpl.java**

```
import org.springframework.aop.MethodBeforeAdvice;
import java.lang.reflect.Method;

public class MethodBeforeAdviceBarImpl implements MethodBeforeAdvice {
    @Override
    public void before(Method method, Object[] args, Object target) throws Throwable {
        System.out.println("Bar!");
    }
} 
```

请参阅**App.java**版本 - 1

```
import org.springframework.aop.MethodBeforeAdvice;
import org.springframework.aop.framework.ProxyFactory;
import org.springframework.aop.support.NameMatchMethodPointcutAdvisor;

public class App {

    public static void main(String[] args) {
        final MethodBeforeAdvice advice = new MethodBeforeAdviceBarImpl();

        final NameMatchMethodPointcutAdvisor nameMatchMethodPointcutAdvisor = new NameMatchMethodPointcutAdvisor();
        nameMatchMethodPointcutAdvisor.setMappedName("foo");
        nameMatchMethodPointcutAdvisor.setAdvice(advice);

        final ProxyFactory proxyFactory = new ProxyFactory();
        proxyFactory.addAdvisor(nameMatchMethodPointcutAdvisor);

        final Foo foo = new FooImpl();
        proxyFactory.setTarget(foo);

        final Foo fooProxy = (Foo) proxyFactory.getProxy();
        fooProxy.foo();
        fooProxy.baz();
    }
} 
```

运行此示例的输出将是：

```
Bar!
Foo!
Baz! 
```

我只需要类路径中的**org.springframework:spring-context.jar**。现在代替 NameMatchMethodPointcutAdvisor，让我们使用**AspectJExpressionPointcutAdvisor**：

```
import org.springframework.aop.MethodBeforeAdvice;
import org.springframework.aop.aspectj.AspectJExpressionPointcutAdvisor;
import org.springframework.aop.framework.ProxyFactory;

public class App {

    public static void main(String[] args) {
        final MethodBeforeAdvice advice = new MethodBeforeAdviceBarImpl();

        final AspectJExpressionPointcutAdvisor aspectJExpressionPointcutAdvisor = new AspectJExpressionPointcutAdvisor();
        aspectJExpressionPointcutAdvisor.setAdvice(advice);
        aspectJExpressionPointcutAdvisor.setExpression("execution(void biz.tugay.spashe.Foo.foo())");

        final ProxyFactory proxyFactory = new ProxyFactory();
        proxyFactory.addAdvisor(aspectJExpressionPointcutAdvisor);

        final Foo foo = new FooImpl();
        proxyFactory.setTarget(foo);

        final Foo fooProxy = (Foo) proxyFactory.getProxy();
        fooProxy.foo();
        fooProxy.baz();
    }
} 
```

同样，如果我的类路径中只有 spring-context.jar，我会得到：

```
An exception occured while executing the Java class. null: InvocationTargetException: org/aspectj/weaver/reflect/ReflectionWorld$ReflectionWorldException: org.aspectj.weaver.reflect.ReflectionWorld$ReflectionWorldException 
```

当您研究**AspectJExpressionPointcutAdvisor**类时，您会看到它扩展了**AbstractGenericPointcutAdvisor**并将工作委托给**AspectJExpressionPointcut**的一个实例。您可以看到 AspectJExpressionPointcut 有以下导入语句：

```
import org.aspectj.weaver.patterns.NamePattern;
import org.aspectj.weaver.reflect.ReflectionWorld.ReflectionWorldException;
import org.aspectj.weaver.reflect.ShadowMatchImpl;
import org.aspectj.weaver.tools.ContextBasedMatcher;
import org.aspectj.weaver.tools.FuzzyBoolean;
import org.aspectj.weaver.tools.JoinPointMatch;
import org.aspectj.weaver.tools.MatchingContext;
import org.aspectj.weaver.tools.PointcutDesignatorHandler;
import org.aspectj.weaver.tools.PointcutExpression;
import org.aspectj.weaver.tools.PointcutParameter;
import org.aspectj.weaver.tools.PointcutParser;
import org.aspectj.weaver.tools.PointcutPrimitive;
import org.aspectj.weaver.tools.ShadowMatch; 
```

您将需要在运行时类路径中的**aspectjtools**依赖项，以便 AspectJExpressionPointcut 可以加载它需要的类。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-07T01:49:27.250

您可以浏览 spring 网站并在[docs.spring.io页面上找到答案](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-aspectj-support)

> 可以使用 XML 或 Java 样式配置启用 @AspectJ 支持。在任何一种情况下，您还需要确保 AspectJ 的 aspectjweaver.jar 库位于应用程序的类路径中（版本 1.6.8 或更高版本）。该库在 AspectJ 发行版的“lib”目录中或通过 Maven 中央存储库可用。

# java - 当我使用 wkhtmltopdf 时，Unicode 字符被转换为损坏的符号

> ID：11446894
> 
> 赞同：4
> 
> 时间：2012-07-12T07:24:39.657
> 
> 标签：java, pdf, unicode, cjk, wkhtmltopdf

我有包含一些 Unicode 字符的 HTML，并以“UTF-8”保存到磁盘。我可以用less来显示它，所有字符都显示得很好：

```
<h1>什么是Action?</h1>
<p>Play程序接收到的大部分请求，都是由&lt;code>Action</code>来处理的。 
```

但是当我使用“wkhtmltopdf”将其转换为 PDF 时，它会显示损坏的字符：

![损坏的 unicode](../Images/458dda014fd9ba0122726f3bf858bd29.png)

我的命令是：

```
wkhtmltopdf --encoding utf-8 book.html book.pdf 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-12T10:17:30.740

最后我找到了原因：我的 ubuntu 服务器中没有 unicode 字体。

我从本地 ubuntu 上传了一些 truetype 字体到服务器，一切正常。

```
freewind@freewind:/usr/share/fonts$ cd truetype/
freewind@freewind:/usr/share/fonts/truetype$ ls
arphic             ttf-dejavu               ttf-lao
freefont           ttf-devanagari-fonts     ttf-liberation
kochi              ttf-gujarati-fonts       ttf-malayalam-fonts
msttcorefonts      ttf-indic-fonts-core     ttf-oriya-fonts
openoffice         ttf-japanese-gothic.ttf  ttf-punjabi-fonts
sazanami           ttf-japanese-mincho.ttf  ttf-tamil-fonts
takao              ttf-kacst-one            ttf-telugu-fonts
thai               ttf-kannada-fonts        unfonts
ttf-bengali-fonts  ttf-khmeros-core         wqy 
```

我只是将它们全部上传，它解决了这个问题，虽然我不知道哪种字体是关键。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-08-28T04:57:42.113

我也遇到了这个问题。原来，HTML 文件有一个`meta`标签设置错误`charset`。例如 HTML 文件有

```
<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<style> 
```

当我将其切换`utf-8`为字符集时，问题得到了解决，如下所示：

```
<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<style> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T09:23:50.980

试试 wkhtmltopdf-i386 book.html book.pdf

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-05-13T02:19:51.287

如果您使用的是 MS Windows 机器（以上答案适用于 X Windows 字体服务器），则以下内容对我有用：

1.  您可以将 YaHei 或 SimSun 与 wkhtmltoimage 一起使用。

2.  将使用中文字母的内容显式设置为您样式中的新字体系列：

    ```
    .smsnotification_chinese {
        font-size: 30px;    
        font-family: "Microsoft Yahei", SimSun;
    } 
    ```

    这将适用于库存的美国 Windows 机器。此处对其他人描述的字体后备有更可靠的描述：[中文标准网页字体：简体中文网页设计的 CSS 字体系列声明指南](http://www.kendraschaefer.com/2012/06/chinese-standard-web-fonts-the-ultimate-guide-to-css-font-family-declarations-for-web-design-in-simplified-chinese/)。

3.  **注意：**由于 GDI+ 沙盒限制，wkhtmltoimage 二进制文件在 Azure 工作机器上不起作用。您可以通过编写自己的 Web 服务包装器或使用此免费包装器来解决此问题：[在 Azure 上的 .Net 中将 HTML 转换为 PDF](https://stackoverflow.com/questions/25642451/convert-html-to-pdf-in-net-on-azure/26291022#26291022)

# php - 如何查看 tel: 是否实际链接到可以拨打电话的设备？

> ID：11446896
> 
> 赞同：9
> 
> 时间：2012-07-12T07:24:49.063
> 
> 标签：php, tel

我目前正在进行一个需要检测设备是否可以拨打电话的项目。根据是否可以，我需要切换视图并应用两个不同的功能，一个是使用 tel 拨打特定号码的按钮：在 html 上，另一个是您输入号码的按钮，我们会打电话给你使用fonality。

目前，我已经设法安装了诸如 wurfl 或 terawurfl 之类的插件/库，似乎没有一个 100% 可靠的方法来检测手机或平板电脑/台式机是否可以拨打电话。

是否有任何服务器端或用户端解决方案，比如我在 wurfl/terawurfl 中错过的标签，甚至是我可以用来检测“是的电话：工作”或类似性质的 javascript ajax 调用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T17:07:54.163

这是我使用的一个 PHP 类，它检测您可以免费下载的移动浏览器。 [http://code.google.com/p/php-mobile-detect/](http://code.google.com/p/php-mobile-detect/)

正确设置类后，您可以使用如下代码：

```
if ($detect->isMobile()) {
    // any mobile platform
    // place telephone code here
} 
```

或者你可以更具体：

```
if($detect->isiOS()){
    // code to run for the Apple iOS platform.
} 
```

这通常用于创建移动网站，但它会适合您的目的 :)

# deployment - 在 sharepoint server 2010 中激活 .wsp 文件时出错

> ID：11446907
> 
> 赞同：0
> 
> 时间：2012-07-12T07:25:25.030
> 
> 标签：deployment, sharepoint-2010

我在 Visual Studio 2010 中开发了一个示例应用程序。我创建了一个空 SharePoint 项目并提供了本地站点 url 用于调试。选中“部署为场”作为 SharePoint 解决方案的信任级别。为解决方案添加了一个可视化 Web 部件和一个类。我能够使用 Visual Studio 构建并成功运行该应用程序。在我的本地机器上，我正在使用 SharePoint Foundation 2010 来调试 SharePoint 应用程序。现在我想在虚拟机中的 SharePoint server 2010 中部署这个应用程序。1\. 我将创建的应用程序的 .wsp 文件复制到虚拟机。2\. 从 VM 中的中央管理员那里，我创建了一个 Web 应用程序和网站集。3\. 然后使用站点操作 -> 站点设置 -> 解决方案（画廊），选择 .wsp 文件进行上传。它显示“警告：如果您信任此解决方案，您应该只激活此解决方案。激活的解决方案可以读取、修改和删除您的数据。" 并且激活按钮被禁用。

然后我尝试在不同网站集的本地机器上做同样的事情。此处激活按钮已启用，但单击时会引发异常

> “/”应用程序中的服务器错误。
> 
> 此解决方案包含无法部署为沙盒解决方案的一部分的无效标记或元素。解决方案“aee60282-765d-4c9f-b67a-5981f18a6d3b”的解决方案清单验证失败，文件 manifest.xml，第 10 行，字符 4：命名空间“http://schemas.microsoft.com/sharepoint/”中的元素“解决方案”在命名空间“http://schemas.microsoft.com/sharepoint/”中有无效的子元素“TemplateFiles”。预期的可能元素列表：命名空间“http://schemas.microsoft.com/sharepoint/”中的“FeatureManifests、ActivationDependencies”。

这个错误可能是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T19:25:29.333

“TemplateFiles”元素是指将被复制到 Web 服务器上的项目。这适用于场解决方案（通过 CentralAdmin 部署），但不允许用于沙盒解决方案（通过解决方案库部署）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T21:39:45.380

当您使用 Visual Studio 部署 wsp 时，您将其部署为场解决方案。当您将 wsp 从站点设置部署到解决方案库中时，您将其部署为具有一些限制的用户解决方案（沙盒解决方案）：首先，避免使用开箱即用的可视化 webpart，这是被禁止的！通过编写 powershell 脚本来部署您的 wsp。一个很好的起点：patrickboom.wordpress.com/2010/05/31/using-powershell-to-deploy-sharepoint-solutions-wsp-2/

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-15T15:33:38.427

Le_Fredo 在这里是正确的，当尝试直接在站点设置下将 WSP 文件部署到站点集中时，您将无法做到。我发现这篇来自微软的文章非常有用 [http://technet.microsoft.com/en-us/library/ff607688(v=office.14).aspx](http://technet.microsoft.com/en-us/library/ff607688(v=office.14).aspx)

# iphone - 如何以编程方式在导航栏中添加下拉菜单？

> ID：11446912
> 
> 赞同：1
> 
> 时间：2012-07-12T07:25:45.940
> 
> 标签：iphone, objective-c, ios

谁能告诉我。如何在 iPhone 中创建下拉菜单，我想在导航栏中添加下拉菜单（我的概念是排序（过滤器），所以我想要菜单名称、标题、描述中的三个按钮.....） ![在此处输入图像描述](../Images/2f4fcc38374c61d138c8f32dd18b3e21.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:38:49.257

您可以使用`UIPopoverController`iPhone 版。

它在[这里](https://github.com/werner77/WEPopover)可用。

在弹出窗口中，您可以添加一个`UIPickerView`并且有下拉菜单。基本上，在 iPhone 上，您可以使用`UITableView`或`UIPickerView`来模拟下拉菜单。并将它放在一个漂亮的容器中，您可以使用上面提到的弹出框。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:40:47.330

中没有这样的组件`iOS`，需要自己创建。您可以通过`UIView`在按钮下方添加一个并为其设置动画来做到这一点。就像是...

```
 [self.view addSubview:myMenu];
[myMenu setFrame:CGRectMake(100,30,150,0)];
[UIView animateWithDuration:0.4 animation:^{
    [myMenu setFrame:CGRectMake(100,30,150,200)];
}]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T06:14:44.437

```
 //on Drop down button click  
 -(IBAction)btnDropdownPressed:(id)sender{
if (![popoverController isPopoverVisible]) 
{
  PopOverViewController *attShow=[[PopOverViewController alloc]initWithNibName:@"PopOverViewController" bundle:nil];
    NSLog(@"arrFiles==%@",arrFiles);

    attShow.arrFiles=arrFiles;
  {
    popoverController=[[[UIPopoverController alloc]initWithContentViewController:attShow] retain];
    [popoverController setPopoverContentSize:CGSizeMake(500,250)];

    [popoverController presentPopoverFromRect:CGRectMake(0,0, 500, 30) inView:btnMore permittedArrowDirections:UIPopoverArrowDirectionDown animated:YES];

}else {
    [popoverController dismissPopoverAnimated:YES];
   }

} 
```

PopOverViewController.h

```
 {
IBOutlet UITableView *tblView;
NSArray *arrFiles;
}
@property(nonatomic,retain)NSArray *arrFiles; 
```

PopOverViewController.m

```
 - (NSInteger)tableView:(UITableView *)aTableView numberOfRowsInSection:(NSInteger)section
   {
return [self.arrFiles count];
  }

 -(CGFloat)tableView:(UITableView *)aTableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
 {
return 40;
   }

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
 {
static NSString *CellIdentifier = @"Cell";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

if (cell == nil)
{
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
}

cell.textLabel.text=[self.arrFiles objectAtIndex:indexPath.row];
cell.textLabel.font=[UIFont fontWithName:@"Arial" size:14.0f];
cell.selectionStyle=UITableViewCellSelectionStyleNone;

return cell;
} 
```

# c# - Azure 计算模拟器未启动。DFAgent 因错误而崩溃（持续）

> ID：11446915
> 
> 赞同：0
> 
> 时间：2012-07-12T07:25:59.297
> 
> 标签：c#, azure

从 Visual Studio 启动默认 mvc 项目时遇到问题。这个问题是以下问题的延续：[Azure Compute Emulator does not start。DFAgent 因错误而崩溃](https://stackoverflow.com/questions/11391352/azure-compute-emulator-does-not-start-dfagent-crashes-with-error)。我还发现了这个 AppCrash 日志文件，其中包含有关已加载程序集的信息，但它不适合上一个问题：

```
Version=1
EventType=APPCRASH
EventTime=129860523658697840
ReportType=2
Consent=1
UploadTime=129860523659217892
ReportIdentifier=8caf429b-c768-11e1-a4ed-6cf04951e202
Response.BucketId=3054088369
Response.BucketTable=1
Response.type=4
Sig[0].Name=Application Name
Sig[0].Value=csrun.exe
Sig[1].Name=Application Version
Sig[1].Value=6.0.6002.18488
Sig[2].Name=Application Timestamp
Sig[2].Value=4fcaabdc
Sig[3].Name=Fault Module Name
Sig[3].Value=KERNELBASE.dll
Sig[4].Name=Fault Module Version
Sig[4].Value=6.1.7600.16850
Sig[5].Name=Fault Module Timestamp
Sig[5].Value=4e21132b
Sig[6].Name=Exception Code
Sig[6].Value=e0434f4d
Sig[7].Name=Exception Offset
Sig[7].Value=00009673
DynamicSig[1].Name=Версия ОС
DynamicSig[1].Value=6.1.7600.2.0.0.256.48
DynamicSig[2].Name=Код языка
DynamicSig[2].Value=1049
UI[2]=C:\Program Files\Microsoft SDKs\Windows Azure\Emulator\csrun.exe
UI[3]=Прекращена работа программы "Windows Azure Simulation Execution Tool"
UI[4]=Windows может провести поиск способа устранения этой ошибки в Интернете.
UI[5]=Искать решение проблемы в Интернете и закрыть программу
UI[6]=Проверить наличие способа исправления ошибки в Интернете позднее и закрыть программу
UI[7]=Закрыть программу
LoadedModule[0]=C:\Program Files\Microsoft SDKs\Windows Azure\Emulator\csrun.exe
LoadedModule[1]=C:\Windows\SYSTEM32\ntdll.dll
LoadedModule[2]=C:\Windows\SYSTEM32\MSCOREE.DLL
LoadedModule[3]=C:\Windows\system32\KERNEL32.dll
LoadedModule[4]=C:\Windows\system32\KERNELBASE.dll
LoadedModule[5]=C:\Windows\system32\ADVAPI32.dll
LoadedModule[6]=C:\Windows\system32\msvcrt.dll
LoadedModule[7]=C:\Windows\SYSTEM32\sechost.dll
LoadedModule[8]=C:\Windows\system32\RPCRT4.dll
LoadedModule[9]=C:\Windows\system32\apphelp.dll
LoadedModule[10]=C:\Windows\Microsoft.NET\Framework\v2.0.50727\mscorwks.dll
LoadedModule[11]=C:\Windows\WinSxS\x86_microsoft.vc80.crt_1fc8b3b9a1e18e3b_8.0.50727.4927_none_d08a205e442db5b5\MSVCR80.dll
LoadedModule[12]=C:\Windows\system32\USER32.dll
LoadedModule[13]=C:\Windows\system32\GDI32.dll
LoadedModule[14]=C:\Windows\system32\LPK.dll
LoadedModule[15]=C:\Windows\system32\USP10.dll
LoadedModule[16]=C:\Windows\system32\SHLWAPI.dll
LoadedModule[17]=C:\Windows\system32\IMM32.DLL
LoadedModule[18]=C:\Windows\system32\MSCTF.dll
LoadedModule[19]=C:\PROGRA~1\KASPER~1\KASPER~1.0FO\adialhk.dll
LoadedModule[20]=C:\PROGRA~1\KASPER~1\KASPER~1.0FO\kloehk.dll
LoadedModule[21]=C:\Windows\system32\shell32.dll
LoadedModule[22]=C:\Windows\system32\ole32.dll
LoadedModule[23]=C:\Windows\system32\profapi.dll
LoadedModule[24]=C:\Windows\assembly\GAC_32\mscorlib\2.0.0.0__b77a5c561934e089\mscorlib.dll
LoadedModule[25]=C:\Windows\Microsoft.NET\Framework\v2.0.50727\mscorsec.dll
LoadedModule[26]=C:\Windows\system32\WINTRUST.dll
LoadedModule[27]=C:\Windows\system32\CRYPT32.dll
LoadedModule[28]=C:\Windows\system32\MSASN1.dll
LoadedModule[29]=C:\Windows\WinSxS\x86_microsoft.windows.common-controls_6595b64144ccf1df_5.82.7600.16661_none_ebfb56996c72aefc\COMCTL32.dll
LoadedModule[30]=C:\Windows\system32\CRYPTSP.dll
LoadedModule[31]=C:\Windows\system32\rsaenh.dll
LoadedModule[32]=C:\Windows\system32\CRYPTBASE.dll
LoadedModule[33]=C:\Windows\system32\imagehlp.dll
LoadedModule[34]=C:\Windows\system32\ncrypt.dll
LoadedModule[35]=C:\Windows\system32\bcrypt.dll
LoadedModule[36]=C:\Windows\system32\bcryptprimitives.dll
LoadedModule[37]=C:\Windows\system32\USERENV.dll
LoadedModule[38]=C:\Windows\system32\GPAPI.dll
LoadedModule[39]=C:\Windows\system32\cryptnet.dll
LoadedModule[40]=C:\Windows\system32\WLDAP32.dll
LoadedModule[41]=C:\Windows\system32\SensApi.dll
LoadedModule[42]=C:\Windows\Microsoft.NET\Framework\v2.0.50727\mscorjit.dll
LoadedModule[43]=C:\Windows\assembly\GAC_MSIL\mscorlib.resources\2.0.0.0_ru_b77a5c561934e089\mscorlib.resources.dll
LoadedModule[44]=C:\Windows\system32\VERSION.dll
State[0].Key=Transport.DoneStage1
State[0].Value=1
State[1].Key=DataRequest
State[1].Value=Bucket=-1240878927/nBucketTable=1/nResponse=1/n
FriendlyEventName=APPCRASH
ConsentKey=APPCRASH
AppName=Windows Azure Simulation Execution Tool
AppPath=C:\Program Files\Microsoft SDKs\Windows Azure\Emulator\csrun.exe
ReportDescription=Stopped working 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T19:05:36.563

Such problems are mainly caused by one misconfiguration in your machine and it would be very hard to troubleshoot however based on your above info I can see 3 possible reason (there may be more..)

1.  Localization - Try to set the local to US and check if that helps.
2.  Problem with some old .net framework installation - Try to uninstalling all of older .net frameworks in your machine and then install .net 4.0 full and launch CSRUN with Emulator again.
3.  VC++ runtime incompatibility: Try removing VC++ runtime in your machine and then install 64bit VC++ runtime

Try making sure above changes and then check if that resolves the problem.

# iphone - 日期时间对象到 iOS 中的 NSDate/NSString

> ID：11446920
> 
> 赞同：2
> 
> 时间：2012-07-12T07:26:17.330
> 
> 标签：iphone, objective-c, ios, datetime

我从 Web 服务（oData Web 服务）以这种格式获取日期

```
/Date(847065600000) 
```

根据这个问题。[如何处理从 WCF 数据服务（OData）返回的 json DateTime](https://stackoverflow.com/questions/3818719/how-to-handle-json-datetime-returned-from-wcf-data-services-odata)

这是一个日期时间对象。如何将其转换为有效的 iOS 日期格式？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-12T07:32:59.973

该数字是一个 unix 时间戳，即自 1970 年以来经过的秒数。您可以使用其初始化程序将其转换为 NSDate：

```
 NSTimeInterval timeInterval = 847065600000;
  NSDate* date = [NSDate dateWithTimeIntervalSince1970:timeInterval]; 
```

**更新：**

我检查了你的号码，似乎它实际上是以毫秒为单位的。因此，您应该在传递给 dateWithTimeIntervalSince1970: 之前将其除以 1000：以获得正确的日期。

# macports - 端口自我更新：“macPorts 来源：命令执行失败”

> ID：11446923
> 
> 赞同：71
> 
> 时间：2012-07-12T07:26:29.330
> 
> 标签：macports

我正在尝试使用`selfupdate`我的 Macports，但收到以下消息：

```
Error: /opt/local/bin/port: port selfupdate failed: Error synchronizing 
MacPorts sources: command execution failed 
```

我检查了我`/opt/local/bin/macports`的目录不存在。相反，它位于`/opt/local/var`. 这可能是问题吗？

运行`-dt`，我得到以下信息：

```
[Users/user] > selfupdate
DEBUG: MacPorts sources location: /opt/local/var/macports/sources/rsync.macports.org/release/base
--->  Updating MacPorts base sources using rsync
rsync: failed to connect to rsync.macports.org: Connection refused (61)
rsync error: error in socket IO (code 10) at /SourceCache/rsync/rsync-42/rsync/clientserver.c(105) [receiver=2.6.9]
Command failed: /usr/bin/rsync -rtzv --delete-after rsync://rsync.macports.org/release/base/ /opt/local/var/macports/sources/rsync.macports.org/release/base
Exit code: 10
DEBUG: Error synchronizing MacPorts sources: command execution failed
    while executing
"macports::selfupdate [array get global_options] base_updated"
Error: /opt/local/bin/port: port selfupdate failed: Error synchronizing MacPorts sources: command execution failed 
```

什么是错误 61？有什么想法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：119
> 
> 时间：2013-02-11T19:13:23.053

我最近遇到了同样的问题，我忘了在root下运行命令。如果其他人遇到问题，请确保按如下方式运行命令：

```
sudo port selfupdate 
```

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2012-07-16T05:25:30.373

我在防火墙后面。在不同的网络上试过，它工作。

* * *

## 回答 #3

> 赞同：21
> 
> 时间：2012-07-12T08:45:15.710

没有`/opt/local/bin/macports`。您需要的可执行文件是`/opt/local/bin/port`. （端口文件在 中`/opt/local/var/...`，这是正确的。）

基于`command execution failed`：

*   您可能忘记了以 root 身份运行。
*   `port`分叉以下程序：`rsync`, `tclsh`, `openssl`, `tar`, `chmod`, `chown`. 这些是可执行的`PATH`吗？（`/opt/local/bin`在你`PATH`的也是？）

如果这没有帮助，请运行 port with`-dt`以获取各种调试信息。这可能有助于发现问题。也许将有趣的部分附加到您的问题中。

* * *

## 回答 #4

> 赞同：17
> 
> 时间：2015-02-24T08:59:42.540

我遇到了同样的问题。但后来我习惯了这种方法。

转到：（ `$prefix/etc/macports/sources.conf` *我的路径是这样的）*：

```
/opt/local/etc/macports/sources.conf 
```

注释掉**rsync**条目，并添加一个新条目，如下所示：

```
#rsync://rsync.macports.org/release/tarballs/ports.tar [default]
https://distfiles.macports.org/ports.tar.gz [default] 
```

之后，您可以运行：

```
sudo port -d sync 
```

[MacPorts.com](https://trac.macports.org/wiki/howto/PortTreeTarball)上也对此进行了解释。

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2013-10-23T19:02:44.307

Mavericks 更新：为确保安装了 XCode 命令行工具，打开终端并运行`xcode-select –-install`，然后按照弹出窗口中的说明进行操作：

*   接受许可

当然，这是对确保运行等其他提示的补充`sudo port selfupdate`。

* * *

## 回答 #6

> 赞同：11
> 
> 时间：2013-07-07T02:49:29.857

如果其他人遇到此问题并且他们最近更新了 XCode，那么我的问题的根源是命令行工具已从最新版本中省略。

通过 XCode 首选项面板打开 XCode 并安装命令行工具修复了 MacPorts 引发的此错误。

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2013-06-10T08:02:51.990

如果您的公司通过 rsync 阻止访问，您可以使用 http tarball。[在这里](http://trac.macports.org/wiki/howto/PortTreeTarball)解释

希望这可以帮助。

编辑：现在更喜欢使用[自制软件](http://brew.sh)

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2015-04-10T10:16:24.130

我也有同样的错误。这是因为网络连接被拒绝。如果您使用大学/公司 WiFi 或公共连接，防火墙将拒绝连接。

从 -dt "rsync: failed to connect to rsync.macports.org: Connection denied (61)" 的输出中可以看出

macports 网站上提供了一些可用的解决方法：

1）使用[svn](http://trac.macports.org/wiki/howto/SyncingWithSVN)。

2) 如果 svn 也失败了，你可以尝试使用[Daily tarball](http://trac.macports.org/wiki/howto/PortTreeTarball)。

您可以通过运行“sudo port -d sync”来测试更改

注意：如果 https 失败，您可以将其替换为 http。但不建议这样做，因为您将从不安全的连接中获取。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2014-06-30T22:27:07.613

我遇到了同样的问题。主要问题是我的网络。因为网络端口被阻止；

rsync://rsync.macports.org/release/tarballs/ports.tar

尝试使用其他网络。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2016-04-23T15:16:03.777

对于问题仍然存在的人，也许您忘记了同意 Xcode 许可证：

```
# sudo xcodebuild license 
```

记得仔细查看并在最后输入“同意”。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-05-20T07:51:55.530

就我而言，问题出在 Macports 内部！我用 Macports 更新了 rsync（Apple 提供的那个是旧的），然后 Macports 无法使用它（/opt/local/bin/rsync），而是要求使用不存在（或已经存在）的 /usr/bin/rsync使用 Macports rsync 强制删除？）。我在两者之间创建了一个软链接，现在它又可以工作了。

# sql-server - sql查询中的多个计数

> ID：11446931
> 
> 赞同：2
> 
> 时间：2012-07-12T07:26:57.533
> 
> 标签：sql-server, tsql

我需要来自数据库的报告，我需要最终结果，例如男性人数，女性人数，显示针对城市，最后针对州。我从类似的东西开始。

```
SELECT     p.StateName,  d.CityName,
 count(api.Gender) as Gender
FROM       dbo.Application_Personal_information as api INNER JOIN
           dbo.state as p ON api.State = p.ID INNER JOIN
           dbo.City as d ON api.City= d.ID
           group by p.StateName, d.CityName 
```

当我这样做时

```
 SELECT     p.StateName,  d.CityName,
     count(api.Gender = 'Male) as Male,
     count(api.Gender = 'Female) as Female,
    FROM       dbo.Application_Personal_information as api INNER JOIN
               dbo.state as p ON api.State = p.ID INNER JOIN
               dbo.City as d ON api.City= d.ID
               group by p.StateName, d.CityName 
```

它给了我错误。= 附近的语法不正确。我也尝试使用 select 语句

```
 COUNT(select api.Gender from api where api.Gender ='Male') as Male, 
```

但它也不起作用。... 任何想法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-12T07:51:50.790

如果您使用的是 SQL Server 2005 或更高版本，您可以尝试 PIVOT 功能：

```
WITH CTE AS
(   SELECT  p.StateName,  
            d.CityName,
            api.Gender
    FROM    dbo.Application_Personal_information as api 
            INNER JOIN dbo.state as p 
                ON api.State = p.ID 
            INNER JOIN dbo.City as d 
                ON api.City= d.ID
)
SELECT  *
FROM    CTE
        PIVOT
        (   COUNT(Gender)
            FOR Gender IN ([Male], [Female])
        ) pvt 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-12T07:38:59.930

```
SELECT     
    p.StateName,  d.CityName, 
    sum(case when Gender ='Male' then 1 else 0 end ) as Male_count,
    sum(case when Gender ='Female' then 1 else 0 end ) as Female_count

FROM
    dbo.Application_Personal_information as api INNER JOIN 
    dbo.state as p ON api.State = p.ID INNER JOIN 
    dbo.City as d ON api.City= d.ID 
group by 
    p.StateName, d.CityName 
```

# android - 在 Wiengine 中销毁层及其子层

> ID：11446942
> 
> 赞同：3
> 
> 时间：2012-07-12T07:27:55.983
> 
> 标签：android

我是安卓游戏新手，我使用的开发引擎是 Wiengine。我想知道如何用它的孩子破坏一个图层

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T08:32:36.293

我想出了怎么做

这将删除层 layer.removeAllChild(true); 的子层；

这将删除层及其子层 this.removeChild(layer, true);

# iphone - 从类中解析未声明的标识符（第 2 部分）

> ID：11446945
> 
> 赞同：1
> 
> 时间：2012-07-12T07:28:16.047
> 
> 标签：iphone, xcode

我想在一个类中创建并填充一个数组，然后在主程序中使用数组中的内容...作为示例，我将使用美国各州的名称列表...

这是对已解决一半的原始问题的更新，为了清晰起见，您可以正确查看代码。

ArrayStates.h

```
#import <Foundation/Foundation.h>
@interface ArrayStates : NSObject
@end 
```

数组状态.m

```
#import "ArrayStates.h"
@interface ArrayStates() { NSMutableArray *listOfStates; }
@implementation ArrayStates
- (void)viewDidLoad {
    //---initialize the array---
    listOfStates = [[NSMutableArray alloc] init];
    //---add items---
    [listOfStates addObject:@"ALABAMA"];

    [listOfStates addObject:@"WYOMING"];
    [super viewDidLoad];
}
@end 
```

这是上一个问题的更新代码，但它仍然在实现行上生成 Missing end 错误，void 想要一个 . 在方法原型之后，您仍然无法在主程序中引用该对象。

我相信如果接口和实现区分了数组是否可以在类内部或外部访问（感谢 iHungry），我相信会改变顺序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T21:11:45.090

创建一个像 Mundi 在 .h 中所说的属性，然后只需在需要访问数组的地方导入 ArrayStates.h。然后，您可以创建类 ArrayStates 的实例（创建一个对象和 alloc-init），然后使用该对象访问其 listOfStates 属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:33:39.987

在 viewDidLoad 方法中，必须先调用 super。顺便说一句，你的 ArrayStates 类是 NSObject 的子类，所以它的方法 viewDidLoad 不会被调用！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-12T07:43:12.307

```
// in ArrayStates.h
@interface ArrayStates : NSObject
@property NSMutableArray *listOfStates;
@end

// in ArrayStates.m
@implementation ArrayStates
@synthesize listOfStates;
//...
-(void)viewDidLoad {
    [super viewDidLoad];
    listOfStates = [[NSMutableArray alloc] init];
}
@end

// in some other class
ArrayStates *states = [[ArrayStates alloc] init];
NSLog(@"%@", states.listOfStates); 
```

# javascript - 以编程方式聚焦 UIWebView 中的 contenteditable div

> ID：11446949
> 
> 赞同：2
> 
> 时间：2012-07-12T07:28:22.813
> 
> 标签：javascript, objective-c, ios5, uiwebview, contenteditable

> **可能重复：**
> [以编程方式在 contenteditable UIWebView 中显示键盘](https://stackoverflow.com/questions/9835956/show-keyboard-in-contenteditable-uiwebview-programmatically)

我想在 iPhone (iOS5) 上制作类似于 WYSIWYG-Editor 的东西。在网上搜索后，我发现了一个很棒的[教程](http://ios-blog.co.uk/articles/tutorials/rich-text-editing-a-simple-start-part-1/)，它使用了 UIWebView 和 contenteditable div。它按预期工作，我对结果非常满意。

但有一件事是行不通的。我无法通过 JavaScript (stringByEvaluatingJavaScriptFromString:) 聚焦 contenteditable div。我已经尝试了我所知道的一切......焦点（w/和w/o jQuery），我试图模拟点击（也w/和w/o jQuery），......

我希望在视图出现后立即显示键盘。

![在此处输入图像描述](../Images/66d4eecce3ab82f85e55a9ea38d43c38.png)

# objective-c - 通过在 RunLoop 中添加观察者来监控键盘事件

> ID：11446951
> 
> 赞同：1
> 
> 时间：2012-07-12T07:28:28.150
> 
> 标签：objective-c, macos, cocoa, macos-carbon, runloop

我的**Run Loop Observer**是这样写的：

```
void observerCallback(CFRunLoopObserverRef observer,
    CFRunLoopActivity activity, void* info)
{
    println("%u", activity);
}
//----------------------------- 
void InstallObserver()
{
    CFRunLoopObserverRef myObserver = NULL;
    int myActivities = kCFRunLoopEntry;

    myObserver = CFRunLoopObserverCreate(NULL, myActivities, YES,
        /* repeat */ 0, &observerCallback, NULL);

    if (myObserver)
    {
        CFRunLoopAddObserver(CFRunLoopGetCurrent(), myObserver,
            kCFRunLoopCommonModes);
    }
} 
```

每次我在应用程序中按下任何键时，**observerCallback**都会被调用 4 次。问题是：如何在**observerCallback**中获取关键代码？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-24T04:17:40.780

根据对您问题的评论，您需要一个本地事件监视器，AKA：

+[NSEvent addLocalMonitorForEventsMatchingMask:handler:]

[https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSEvent_Class/Reference/Reference.html#//apple_ref/occ/clm/NSEvent/addLocalMonitorForEventsMatchingMask:handler](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSEvent_Class/Reference/Reference.html#//apple_ref/occ/clm/NSEvent/addLocalMonitorForEventsMatchingMask:handler)：

# mysql - 我有 3 列 x,y 和类型。我想使用 SQL 确定网格上是否至少有 3 个相同类型的连接

> ID：11446957
> 
> 赞同：4
> 
> 时间：2012-07-12T07:28:49.860
> 
> 标签：mysql, sql

我有一个游戏桌，例如：

```
CREATE TABLE game_piece(
  x Integer,
  y Integer,
  type Integer
); 
```

每个 (x,y) 只能有 1 件。表示一个网格（数字是类型）：

```
1235
1134
9678 
```

通过连接，我的意思是它们必须以垂直或水平方式直接靠近原点，例如：

```
 C   C=connected
COC  O=origin
 C 
```

如果有合适的解决方案，我想检查网格上是否有 3 个部分连接，而无需获取数据库的整个网格并在 python 中进行操作。建议？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T08:21:53.207

为了澄清我对 Xophmeister 答案的评论，如下所示：

```
SELECT o.x, o.y
FROM game_piece o
JOIN game_piece p
ON p.type = o.type
AND (
  (o.x = p.x AND p.y IN (o.y-1,o.y+1))
  OR
  (o.y = p.y AND p.x IN (o.x-1,o.x+1))
)
GROUP BY o.x, o.y
HAVING COUNT(*) > 1 
```

它正在处理您的测试数据：[http ://sqlfiddle.com/#!3/0bd34/1](http://sqlfiddle.com/#!3/0bd34/1)

**编辑：**由于您只想知道*条件是否*存在，因此最好的方法是推`LIMIT 1`到最后，看看查询是否返回结果。出于某种原因，sqlfiddle 不喜欢我将 LIMIT 放在那里，但我在我的服务器上对其进行了测试，它工作得很好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T07:43:39.890

通过“连接”，我将假设您的意思是相邻的：也就是说，（5,3,1234）和（4,3,1234）将被连接。

因此，您可以将表连接到自身两次，其中每个连接取决于之前的连接，条件包括：

```
on  nextPiece.type = lastPiece.type
and (nextPiece.x in (lastPiece.x - 1, lastPiece.x + 1)
or  nextPiece.y in (lastPiece.x - 1, lastPiece.x + 1)) 
```

请注意，这并不认为对角线是相邻的。

这种技术的问题在于它会返回重复项：如果记录 A 连接到记录 B，那么 A 和 B 都将显示在结果集中。当您加入两次时，您会看到三个重复项...`select distinct`如果您感兴趣的只是您是否找到匹配项，您可以做一个，但是查询通常不会特别快（取决于你的网格有多大，填充的有多稀疏）。

**编辑**见 Braiba 的解决方案（和评论，下面）：我犯了一个错误：P

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T07:44:57.657

根据连接的含义，您不需要转储整个数据库，而只需转储 4 个方向上的 2 个。

```
select x, y, 
from game_piece 
where (
       (x between origin_x - 2 AND origin_x + 2 AND y = origin_y) 
    OR (y between origin_y - 2 AND origin_y + 2 AND x = origin_x)
      ) 
 AND type = the_type; 
```

`origin_x`,`origin_y`是您要检查的棋子的坐标。

这将转储 1 到 8 件，您必须检查。

如果游戏表非常大，您应该在 x 和 y 列上添加索引，否则可能没有用。

希望能帮助到你。

M。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T07:47:01.337

这将返回不同连接类型的数量：

```
select count(distinct type) as connections
from game_piece
where ((y = $y and x between $x - 1 and $x + 1)
  or (x = $x and y between $y - 1 and $y + 1))
and (x != $x or y != $y) -- exclude the origin itself 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-12T08:01:22.517

您可以使用此解决方案：

```
SELECT 1
FROM game_piece
WHERE
    (x = $o_x AND y IN ($o_y + 1, $o_y - 1)) OR
    (y = $o_y AND x IN ($o_x + 1, $o_x - 1))
GROUP BY type
HAVING COUNT(1) = 3 
```

`$o_x`分别`$o_y`是 originX 和 originY 输入参数。

如果恰好有 3 个相同类型的片段连接到原点（垂直或水平），则返回`1`，否则返回空结果集。

* * *

## 编辑：

您可以尝试什么来确定网格上是否有任何块具有 2 个或多个相同的相邻类型：

```
SELECT COUNT(1) > 0 AS doesExist
FROM
(
    SELECT 1
    FROM game_piece p
    INNER JOIN game_piece o ON
         p.type = o.type AND (
             (p.x = o.x AND p.y IN (o.y + 1, o.y - 1)) OR
             (p.y = o.y AND p.x IN (o.x + 1, o.x - 1))
         )
    GROUP BY p.type, o.x, o.y
    HAVING COUNT(1) > 1
) a 
```

`1`如果有一件或多件，则返回，否则返回`0`。

# objective-c - 帮我理解 ABPeoplePickerNavigationController 类

> ID：11446958
> 
> 赞同：1
> 
> 时间：2012-07-12T07:28:52.270
> 
> 标签：objective-c, ios

我正在研究 iOS 通讯簿，但遇到了一些问题，我指的是[iOS 编程指南](http://developer.apple.com/library/ios/#DOCUMENTATION/ContactData/Conceptual/AddressBookProgrammingGuideforiPhone/Chapters/UI_Controllers.html#//apple_ref/doc/uid/TP40007744-CH5-SW1)，上面写着

> 提示用户选择人员记录： ABPeoplePickerNavigationController 类允许用户浏览他们的联系人列表并选择一个人，并根据您的选择选择该人的属性之一。要使用人员选择器，请执行以下操作：
> 
> *   创建并初始化该类的实例。
>     
>     
> *   设置委托，必须采用 ABPeoplePickerNavigationControllerDelegate 协议。
>     
>     
> *   （可选）将显示属性设置为要显示的属性数组。相关常量定义为整数；使用 numberWithInt: 方法将它们包装在 NSNumber 对象中，以获取可以放入数组的对象。
>     
>     
> *   使用 presentModalViewController:animated: 方法将人员选择器呈现为模态视图控制器。建议您使用动画呈现。

第一点说*创建并初始化一个类的实例*，它的init方法包括withnibname其他属性是inputview，这可以用来自定义通讯录gui吗？

第三点也是指向displayProperties *，*通讯录gui可以修改吗？

> 像whatsapp，viber等。我也想自定义通讯录，这样我也可以在联系人姓名下显示状态，所以我可以将自定义图像显示为附件等。请检查截图。

![在此处输入图像描述](../Images/4f7e7b3946bff82b99cf6b17d012c1e8.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:35:47.957

我相信他们没有使用 ABPeoplePickerNavigationController 类中的构建。

他们从通讯录中获取所有用户并将其填充到表格视图中。我不知道自定义 ABPeoplePickerNavigationController 类的任何方法。

# php - 从早上 6 点到 12 点显示脚本 1，其余时间显示脚本 2

> ID：11446965
> 
> 赞同：0
> 
> 时间：2012-07-12T07:29:15.963
> 
> 标签：php, javascript, time, timezone

我有两个 Javascript，但我想从早上 6 点到凌晨 12 点显示一个（服务器时间不是用户时间），其余时间脚本两个

这将如何完成？

[http://jsfiddle.net](http://jsfiddle.net)上的一个例子将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:37:57.403

```
<?php
$least=mktime(6,0,0,date("m"),date("d"),date("y"));
$most=mktime(0,0,0,date("m"),date("d")+1,date("y"));//12am next day OR
  $most=mktime(12,0,0,date("m"),date("d"),date("y"));//12pm
if (time()>=$least && time()<=$most){
    ?>
        <script ...1
    <?php
}else{?>
        <script ..2...
    <?php
}
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:36:31.663

> 嗨，我必须使用 Javascript，但我想从早上 6 点到凌晨 12 点显示 1（服务器时间不是用户时间），其余时间脚本 2

这是一个在 JavaScript 中使用 Date 对象的脚本，该脚本实际上非常简单，但缺点是它不是从服务器获取时间，而是从客户端获取时间。

[http://jsfiddle.net/45yd2/](http://jsfiddle.net/45yd2/)

对于使用服务器时间的方法，包括 jQuery 库，并创建此脚本：

```
jQuery.ajax({
    url: 'url-returing-hour',
    success: function( data ) {
        var hour = parseInt( data );
        if( hour > 6 && hour < 12 ) {
            jQuery('#first').show( );
        }
        else {
            jQuery('#second').show( );
        }
    }
}); 
```

在 PHP 中：

```
<?php
echo date('G'); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-12T07:38:38.840

您首先将服务器时间设置为客户端

喜欢这段代码

适用于 MVC3 剃须刀

```
 var serverTime = { year : @(DateTime.Now.Year) ; month : @(DateTime.Now.Month)  , day : @(DateTime.Now.Day) ; hour : @(DateTime.Now.Hour)  };
  // your coundition goes here like
  if(serverTime.hour >= 6 && serverTime.hour <= 12)
     alert('yep'); 
```

# c++ - 如何将内存硬件连接到 C++ 程序？

> ID：11446970
> 
> 赞同：1
> 
> 时间：2012-07-12T07:29:37.693
> 
> 标签：c++, interfacing

如果我有一个带有一些存储的特殊硬件单元连接到计算机并进行内存映射，以便在地址范围 0x55500000 – 0x555fffff 中访问它的存储，我如何将此硬件单元连接到我的 C++ 程序以便动态内存是在这个硬件单元中分配的，而不是在我电脑的内存中？我需要实现一个具有以下功能的类。

```
void * allocMemoryInMyHardware(int numberOfBytesToAllocate); 
```

它返回一个指向已分配内存块的指针，如果无法分配，则返回 null。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:48:05.237

您需要编写自己的分配器。在互联网上搜索示例代码并对其进行调整。如果您有简单的需求，可以在 2-4 小时内从头开始编写基本分配器。如果您的平台没有虚拟内存管理并且代码可以直接访问您的地址范围，则此方法将起作用。否则，您需要深入研究平台上的驱动程序开发。

典型的策略是为每个分配的单元添加标题，并为空闲内存区域组织一个双链表。NT 堆以类似的方式工作。

# java - 在Java中查找大数的阶乘

> ID：11446973
> 
> 赞同：7
> 
> 时间：2012-07-12T07:29:43.077
> 
> 标签：java, factorial, largenumber

我尝试使用 for 循环和双精度数据类型以典型方式找到大量的阶乘，例如 8785856。

但结果显示无穷大，可能是因为它超出了它的极限。

所以请指导我找到一个非常大的阶乘的方法。

我的代码：

```
class abc
{
    public static void main (String[]args)
    {
        double fact=1;
        for(int i=1;i<=8785856;i++)
        {
            fact=fact*i;
        }

        System.out.println(fact);
    }
} 
```

输出：-

```
Infinity 
```

我是 Java 新手，但已经学习了一些 IO 处理等概念。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-12T07:50:06.923

```
public static void main(String[] args) {
    BigInteger fact = BigInteger.valueOf(1);
    for (int i = 1; i <= 8785856; i++)
        fact = fact.multiply(BigInteger.valueOf(i));
    System.out.println(fact);
} 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-07-12T07:35:45.540

您可能需要重新考虑计算这个巨大的价值。[Wolfram Alpha 的近似](http://www.wolframalpha.com/input/?i=8785856!)表明它肯定不适合在你的主内存中显示。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-07-26T11:59:15.423

此代码应该可以正常工作：-

```
public class BigMath {
    public static String factorial(int n) {
        return factorial(n, 300);
    }

    private static String factorial(int n, int maxSize) {
        int res[] = new int[maxSize];
        res[0] = 1; // Initialize result
        int res_size = 1;

        // Apply simple factorial formula n! = 1 * 2 * 3 * 4... * n
        for (int x = 2; x <= n; x++) {
            res_size = multiply(x, res, res_size);
        }

        StringBuffer buff = new StringBuffer();
        for (int i = res_size - 1; i >= 0; i--) {
            buff.append(res[i]);
        }

        return buff.toString();
    }

    /**
     * This function multiplies x with the number represented by res[]. res_size
     * is size of res[] or number of digits in the number represented by res[].
     * This function uses simple school mathematics for multiplication.
     * 
     * This function may value of res_size and returns the new value of res_size.
     */
    private static int multiply(int x, int res[], int res_size) {
        int carry = 0; // Initialize carry.

        // One by one multiply n with individual digits of res[].
        for (int i = 0; i < res_size; i++) {
            int prod = res[i] * x + carry;
            res[i] = prod % 10; // Store last digit of 'prod' in res[]
            carry = prod / 10;  // Put rest in carry
        }

        // Put carry in res and increase result size.
        while (carry != 0) {
            res[res_size] = carry % 10;
            carry = carry / 10;
            res_size++;
        }

        return res_size;
    }

    /** Driver method. */
    public static void main(String[] args) {
        int n = 100;

        System.out.printf("Factorial %d = %s%n", n, factorial(n));
    }
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-07-12T07:33:21.023

提示：使用`BigInteger`类，并准备给 JVM 大量内存。的值`8785856!`是一个非常大的数字。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-12T07:31:47.700

使用类`BigInteger`。（我不确定这是否适用于如此巨大的整数）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-12T07:35:44.760

[`Infinity`](http://docs.oracle.com/javase/6/docs/api/java/lang/Double.html#POSITIVE_INFINITY)是[`Double`](http://docs.oracle.com/javase/6/docs/api/java/lang/Double.html)类中的一个特殊保留值，当您超过 a`double`可以容纳的最大数量时使用。

如果您希望您的代码工作，请使用`BigDecimal`该类，但给定输入数字，不要期望您的程序很快完成执行。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-08-31T12:18:30.347

使用 BigInteger 解决您的问题（8785856！）的上述解决方案将花费数小时的 CPU 时间，如果不是几天的话。您需要确切的结果还是近似值就足够了？

有一种数学方法叫做“ [Sterling's Approximation](http://mathworld.wolfram.com/StirlingsApproximation.html) ”，可以简单快速地计算出来，下面是Gosper的改进： [![在此处输入图像描述](../Images/2b4f23a2e5afc1f812f884112ebef30e.png)](https://i.stack.imgur.com/kYp8B.png)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-10-27T06:37:17.603

```
 public static void main (String[] args) throws java.lang.Exception
    {
        BigInteger fact= BigInteger.ONE;
        int factorialNo = 8785856 ;

        for (int i = 2; i <= factorialNo; i++) {
              fact = fact.multiply(new BigInteger(String.valueOf(i)));
        }

        System.out.println("Factorial of the given number is = " + fact);
     } 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-08-07T19:17:45.563

```
 import java.util.*;
 import java.math.*;

class main
{
public static void main(String args[])
{
    Scanner sc= new Scanner(System.in);

        int i;
        int n=sc.nextInt();

      BigInteger fact = BigInteger.valueOf(1);

        for ( i = 1; i <= n; i++)
        {
            fact = fact.multiply(BigInteger.valueOf(i));
        }
        System.out.println(fact);

}
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2018-06-10T02:50:22.867

尝试这个：

```
import java.math.BigInteger;

public class LargeFactorial
{
    public static void main(String[] args)
    {
        int n = 50; 
    }
    public static BigInteger factorial(int n)
    {
       BigInteger result = BigInteger.ONE;
       for (int i = 1; i <= n; i++)
           result = result.multiply(new BigInteger(i + ""));
       return result;
    }
} 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-11-21T11:00:05.223

```
 Scanner r = new Scanner(System.in);
    System.out.print("Input Number : ");
    int num = r.nextInt();
    int ans = 1;
    if (num <= 0) {
        ans = 0;
    }
    while (num > 0) {
        System.out.println(num + " x ");
        ans *= num--;
    }
    System.out.println("\b\b=" + ans); 
```

* * *

## 回答 #12

> 赞同：-2
> 
> 时间：2018-04-01T20:20:25.823

```
import java.util.Scanner;

public class factorial {
    public static void main(String[] args) {
        System.out.println("Enter the number : ");
        Scanner s=new Scanner(System.in);
        int n=s.nextInt();
        factorial f=new factorial();
        int result=f.fact(n);
        System.out.println("factorial of "+n+" is "+result);
    }
    int fact(int a)
    {
        if(a==1)
            return 1;
        else
            return a*fact(a-1);
    }

} 
```

# java - 如何以编程方式和动态方式设置 MDB

> ID：11446978
> 
> 赞同：1
> 
> 时间：2012-07-12T07:30:07.020
> 
> 标签：java, spring, jms, message-driven-bean

我在独立环境中使用 Spring3.1。

我以这种方式使用 jms 模板设置主题：

```
<bean id="mm1sessionsTopicSendingTemplate" class="org.springframework.jndi.JndiObjectFactoryBean"
    depends-on="jmsServerManagerImpl">
    <property name="jndiName">
        <value>/topic/mm1sessionsTopic</value>
    </property>
</bean> 
```

对于本主题，我以这种方式使用 DefaultMessageListenerContainer 设置 MDB：

```
<bean id="mm1sessionDispatcherListener"
        class="org.springframework.jms.listener.DefaultMessageListenerContainer">
        <property name="connectionFactory" ref="connectionFactory" />
        <property name="pubSubDomain" value="true" />
        <property name="concurrentConsumers" value="1" />
        <property name="destination" ref="mm1sessionsTopicSendingTemplate" />
        <property name="messageListener" ref="mm1SessionMDB" />
        <property name="sessionAcknowledgeModeName" value="AUTO_ACKNOWLEDGE" />
    </bean> 
```

这样，我必须通过 xml 高级设置 mm1SessionMDB：

```
<bean id="mm1SessionMDB" class="com.mdb.SessionMDB">
        <property name="feedPropertiesDTO" ref="feedListenerMarketMaker1Properties" />

    </bean> 
```

但我需要我的应用程序以**编程**方式创建 MDB 实例。

我的意思是我想通过代码创建 mdb，因为每个 MDB 将对将从主题中检索到的消息具有不同的验证值（通过 feedPropertiesDTO）

基本上，我将拥有一组具有相同逻辑的 MDB，但每个都有不同的属性。MDB 的创建时间必须在运行时。

那可能吗？

谢谢，雷。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T08:37:04.973

我认为您可以使用工厂方法来实例化您的 MDB bean 和使用方法

```
Object getBean(String name, Object... args) throws BeansException; 
```

代码中的*ApplicationContext*以语法方式实例化 bean。

据我所知，此方法允许您将参数路径传递给工厂方法。

这里是 java doc 中关于这个方法的内容：

返回指定 bean 的一个实例，该实例可以是共享的，也可以是独立的。

> 允许指定显式构造函数参数/工厂方法参数，覆盖 bean 定义中指定的默认参数（如果有）。

我从未使用过这种方法，但我认为它对您的情况有用。

**编辑。**

这是一个示例，演示了我在说什么（这很简单，但我没有足够的时间编写更复杂的内容）。

假设有接口和两个它的实现：

```
public interface StringMakerInterface {

    // Just return simple String depending on concrete implementation.
    String returnDummyString();

}

public class StringMakerImpl1 implements StringMakerInterface {

    public String returnDummyString() {
        return "test bean impl 1";
    }

}

public class StringMakerImpl2 implements StringMakerInterface{

    public String returnDummyString() {
        return "test bean impl 2";
    }

} 
```

我们有一个类使用这个接口的具体实现，我们应该动态地向它注入具体实现：

```
public class StringPrinter {

    private StringMakerInterface stringMaker;

    public StringMakerInterface getStringMaker() {
        return stringMaker;
    }

    public void setStringMaker(StringMakerInterface stringMaker) {
        this.stringMaker = stringMaker;
    }

    public StringPrinter() {

    }

    // Just print dummy string, returned by implementation
    public void printString() {
        System.out.println(stringMaker.returnDummyString());
    }
} 
```

这是我的示例的配置类：

```
@Configuration
public class TestFactoryMethodConfig {

    @Bean(name = "stringMaker1")
    public StringMakerImpl1 stringMaker1() {
        return new StringMakerImpl1();
    }

    @Bean(name = "stringMaker2")
    public StringMakerImpl2 stringMaker2() {
        return new StringMakerImpl2();
    }

    @Bean(name = "stringPrinter")
    @Scope(value = "prototype")
    public StringPrinter stringPrinter(@Qualifier("stringMaker1") StringMakerInterface stringMaker) {
        StringPrinter instance = new StringPrinter();
        instance.setStringMaker(stringMaker);

        return instance;
    }
} 
```

这是一个在运行时演示动态注入的测试用例：

```
@RunWith(value = SpringJUnit4ClassRunner.class)
@ContextConfiguration(classes={TestFactoryMethodConfig.class})
public class TestFactoryMethod {

    @Autowired
    private ApplicationContext applicationContext;

    @Resource(name = "stringMaker1")
    private StringMakerInterface stringMaker1;

    @Resource(name = "stringMaker2")
    private StringMakerInterface stringMaker2;

    @Test
    public void testFactoryMethodUsage() {

        StringPrinter stringPrinter1 = (StringPrinter) applicationContext.getBean("stringPrinter", stringMaker1);

        StringPrinter stringPrinter2 = (StringPrinter) applicationContext.getBean("stringPrinter", stringMaker2);

        stringPrinter1.printString();
        stringPrinter2.printString();
    }

} 
```

# asp.net - ASP.Net 以编程方式设置 Membership.Provider

> ID：11446979
> 
> 赞同：1
> 
> 时间：2012-07-12T07:30:09.413
> 
> 标签：asp.net, asp.net-membership, imperative

我想知道是否可以通过代码而不是通过配置文件来设置默认的成员资格提供程序（Membership.Provider）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T20:55:36.780

这不是直接解决您的问题。相反，实现自定义成员资格提供程序，并使用[IoC 容器](https://stackoverflow.com/questions/411660/enterprise-library-unity-vs-other-ioc-containers)（例如[Enterprise Library Unity](http://msdn.microsoft.com/en-us/library/ff649564.aspx)）在运行时注入所需的类。

例如，

```
public override MembershipUser GetUser(string username, bool userIsOnline)
{
   var user = IoC.Resolve<IUserService>().GetUserByUsername(username, userIsOnline);
} 
```

# java - java - 为什么replaceAll 不起作用？

> ID：11446982
> 
> 赞同：8
> 
> 时间：2012-07-12T07:30:50.147
> 
> 标签：java, regex

我开始学习正则表达式，我不知道我是否理解正确。

我对函数 replaceAll 有疑问，因为它不会替换我要替换的字符串中的字符。

这是我的代码：

```
public class TestingRegex {
   public static void main (String args[]) {
      String string = "Hel%l&+++o_Wor_++l%d&#";

      char specialCharacters[] = {'%', '%', '&', '_'};

      for (char sc : specialCharacters) {
          if (string.contains(sc + ""))
              string = string.replaceAll(sc + "", "\\" + sc);
      }

      System.out.println("New String: " + string);
   }
} 
```

输出与原始相同。没有改变。

我希望输出为 : `Hel\%l\&+++o\_Wor\_++l\%d\&\#`。

请帮忙。提前致谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-12T07:34:20.620

它不起作用的原因：您需要在 Java 字符串中使用四个反斜杠来创建一个“真正的”反斜杠。

```
string = string.replaceAll(sc, "\\\\" + sc); 
```

应该管用。但这不是正确的方法。您根本不需要`for`循环：

```
String string = "Hel%l&+++o_Wor_++l%d&#";
string = string.replaceAll("[%&_]", "\\\\$0"); 
```

你就完成了。

**解释：**

*   `[%&_]`匹配您要替换的三个字符中的任何一个
*   `$0`是比赛的结果，所以
*   `"\\\\$0"`表示“反斜杠加上正则表达式匹配的任何内容”。

* * *

警告：这个解决方案显然没有检查这些字符中的任何一个是否*已经*被转义过。所以

```
Hello\% 
```

会成为

```
Hello\\% 
```

这是你不希望发生的。这会是个问题吗？

# php - 如何使用 Facebook 请求对话框向用户所有朋友发送应用请求？

> ID：11446983
> 
> 赞同：2
> 
> 时间：2012-07-12T07:30:53.100
> 
> 标签：php, facebook, facebook-graph-api

我可以使用请求对话框向用户的 50 个朋友发送应用请求并`to=`修改字段，但我想像这个示例应用程序那样向用户的所有朋友发送请求：[邀请您的朋友按钮访问页面](https://apps.facebook.com/friendinvitesforpage/)

此应用程序邀请用户前 50 个朋友，然后再邀请用户下一个 50 个朋友，依此类推

在我的代码中，我使用 PHP 将用户转发到此 URL

```
https://www.facebook.com/dialog/apprequests?app_id=443468799026324
&to=" . $friend_ids .  "
&max_recipients=50&filters=app_non_users
&redirect_uri=" . urlencode($canvas_page2)  . "
&message=" . $message; 
```

[Facebook 请求对话官方指南](https://developers.facebook.com/docs/reference/dialogs/requests/)

我该如何从这里开始？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T09:14:13.870

您可以按如下方式执行此操作：首先，您将 50 个朋友 id 设置为参数，并在您发送请求时将剩余的朋友 id 存储在 cookie 中，然后它重定向到您的网站 url，您可以在其中重复上述步骤。即发送 50 个朋友请求并存储剩余在饼干里。

```
var to="";
    for(var j=0 ; j< 50 && j<friends.length ; j++){
        if(friends[j].checked == true){
            to += friends[j].value;
            if(j != friends.length-1 && j != 49){
                to += ',';
            }
        }
    }
    var redirect_uri=your_site_url+"?button=inviteresponse";
    var callbackto="";
    for(var i=j;i<friends.length;i++){
        callbackto += friends[i].value;
        if(i != friends.length-1){
            callbackto += ',';
        }
    }
    document.cookie = "param="+callbackto+";path=/";
    var url="https://www.facebook.com/dialog/apprequests?app_id="+app_id+"&to="+to+"&message=Checkout apps&redirect_uri="+redirect_uri;
    window.open(url,'', 'width=900,height=500,resizable=yes,scrollbars=yes');  

case "inviteresponse":
        if (empty($_COOKIE['param'])) {
            unset($_COOKIE['param']);
            echo "<script type='text/javascript'>window.close();</script>";
            die();
        } else {
            $friends = explode(",", $_COOKIE["param"]);
            $to = "";
            for ($j = 0; $j < 50 && $j < count($friends); $j++) {
                $to .= $friends[$j];
                if ($j != count($friends) - 1 && $j != 49) {
                    $to .= ",";
                }
            }
            $redirect_uri = your_site_url+"?button=inviteresponse";
            $callbackto = "";
            for ($i = $j; $i < count($friends); $i++) {
                $callbackto .= $friends[$i];
                if ($i != count($friends) - 1) {
                    $callbackto .= ",";
                }
            }
            unset($_COOKIE['param']);
            setcookie("param", $callbackto);
            $url = "https://www.facebook.com/dialog/apprequests?app_id=" . APP_ID . "&to=" . $to . "&message=Checkout apps&redirect_uri=" . $redirect_uri;
            header("Location: " . $url);
        } 
```

# c# - 在不知道索引的情况下在 C# 中解析 json

> ID：11446989
> 
> 赞同：10
> 
> 时间：2012-07-12T07:31:17.017
> 
> 标签：c#, .net, json, mono, json.net

我想用 JSON.NET 在 C# 中解析这段 JSON，但我不知道该怎么做。

杰森：

```
{
   "success":true,
   "rgInventory":{
       "967633758":{
          "id":"967633758",
          "classid":"23973033",
          "instanceid":"11040671",
          "amount":"1",
          "pos":1
       },
      "302756826":{
          "id":"302756826",
          "classid":"15",
          "instanceid":"11041143",
          "amount":"1",
          "pos":2
      },...
   }
} 
```

完整的 Json：[http ://steamcommunity.com/id/jessecar/inventory/json/440/2/?trading=1](http://steamcommunity.com/id/jessecar/inventory/json/440/2/?trading=1)

我需要获取每个“rgInventory”子元素的元素，但我无法为它创建一个类，因为项目名称总是在变化。

我尝试使用这段代码，但我总是遇到异常。

```
dynamic jsObject = JsonConvert.DeserializeObject(jsonString);

Console.WriteLine("Status: "+jsObject["success"]); //This works fine

foreach(var i in jsObject["rgInventory"]){
    Console.WriteLine("Item ID: "+i["id"]); //This gives an exception
} 
```

例外：

> 未处理的异常：System.InvalidOperationException：无法访问 Newtonsoft.Json.Linq.JProperty 上的子值。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-12T07:37:32.600

这应该有效。

```
var jObj = (JObject)JsonConvert.DeserializeObject(json);
foreach(var child in jObj["rgInventory"].Children())
{
    Console.WriteLine("Item ID: {0}", child.First()["id"]);
} 
```

此外，使用`dynamic`关键字可以使您的代码更具可读性：

```
dynamic jObj = JsonConvert.DeserializeObject(json);
Console.WriteLine("Status: " + jObj.success); 
foreach(var child in jObj.rgInventory.Children())
{
    Console.WriteLine("Item ID: {0}", child.First.id);
} 
```

# c# - C# 图片 outofboundmemory 异常

> ID：11446992
> 
> 赞同：0
> 
> 时间：2012-07-12T07:31:27.313
> 
> 标签：c#, image

我试图将二进制数据转换为图像。这是我的代码：

```
 Byte[] bytes = (byte[])(reader["Avatar"]);
 fs1.Write(bytes, 0, bytes.Length);
 pictureBox1.Image = Image.FromFile("image.jpg");
 pictureBox1.SizeMode = PictureBoxSizeMode.StretchImage;
 pictureBox1.Refresh(); 
```

但错误是行中的内存溢出异常：“pictureBox1.Image = Image.FromFile("image.jpg");" 我不知道为什么会这样，请帮助我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T07:36:44.977

如果 fs1 是一个流，您可能应该在下一行访问该文件之前关闭它。请注意，您也可以在内存中创建映像并完全避免使用文件系统。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-12T07:39:15.923

试试这个方法：

```
 public Image ImageFromBytes(byte[] bytes)
    {
        using(var ms = new MemoryStream(bytes))
        {
          return Image.FromStream(ms);
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T07:39:19.313

你桅杆`Close`和`Dispose`你的流：

```
fs1.Write(bytes, 0, bytes.Length);
//Make sure you closed your stream
fs1.Close();
// You should call Dispose too.
fs1.Dispose();
pictureBox1.Image = Image.FromFile("image.jpg"); 
```

或将您的写入文件过程包含在`using`块中：

```
using (Stream fs1 ...)
{
    ...
    fs1.Write(bytes, 0, bytes.Length);
} 
```

# wcf - Wan中的Wcf绑定

> ID：11446994
> 
> 赞同：1
> 
> 时间：2012-07-12T07:31:32.133
> 
> 标签：wcf, wcf-binding, wshttpbinding

我在 Wan 中使用 WCF。WCF 的基本活动是数据库同步。因此性能至关重要。目前我正在使用 wsHttpBindings。是否有任何其他优化选项可以在 Wan 和 Latency Options 中幸存下来？

# java - 如何创建项目所需的按钮和其他图像

> ID：11446997
> 
> 赞同：0
> 
> 时间：2012-07-12T07:31:47.253
> 
> 标签：java

基本上我是 Java 开发人员，我想知道如何创建 Java 项目所需的按钮和其他图像。

据我所知，我们将使用 Photoshop 来创建图像。

但是任何人都可以告诉我确切的过程以及任何相关的视频或链接，显示如何执行此任务。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:35:01.253

看看 Oracle 的[Swing 教程](http://docs.oracle.com/javase/tutorial/uiswing/)，它应该会让您朝着正确的方向开始。

编辑：根据您的评论，您可能想看看本[教程](http://www.jsptut.com/)。就按钮和图像而言，您只需要使用纯 HTML 标记即可。此外，如果您正在考虑构建 N 层 Web 应用程序，您可以考虑查看[Spring等框架（](http://www.springsource.org/spring-framework/)[此处](http://viralpatel.net/blogs/tutorial-spring-3-mvc-introduction-spring-mvc-framework/)为教程）。春天应该让一些事情变得更容易。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:45:29.027

尝试**合成器**（Java 1.5 及更高版本）。这可以将 xml 转换为 Gui 组件。这用于自定义 gui。

请参阅此链接：

[http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/synth.html](http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/synth.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-24T06:03:56.370

通常，Web 开发人员使用 Adob​​e Photoshop 和其他 Adob​​e 工具来创建项目所需的按钮和其他图像，最后他们会想出一个**原型。** Java 开发人员使用 Web 开发人员创建的文件（*.js、* .jpg...等），他们将编写业务逻辑和 DAO 实现。

# svn - 颠覆 1.7.5 和 svn-ant 1.3

> ID：11446999
> 
> 赞同：1
> 
> 时间：2012-07-12T07:31:47.837
> 
> 标签：svn, compatibility

我在 Solaris 版本 10 服务器中有 SVN 版本 1.7.1，在客户端中有 Tortoise SVN 1.7.1。我想将服务器升级到 SVN 1.7.5 但是我们在使用 svn-ant 1.3 的系统中有 ant 脚本

有谁知道 svn-ant 1.3 是否与新的 Subversion 1.7.5 兼容，如果您在哪里可以找到有关此交互或任何详细信息的文档？...谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T03:26:36.930

如果您更新您的 svnkit 库，您可以使您的旧 ant 脚本与 Subversion 1.7.x 和使用客户端 1.7.x 创建的工作副本一起工作。最新的 SVNKit 1.7.8 支持 1.7.x 工作副本格式和 Subversion 1.7 服务器。 有关详细信息，请参阅[Subversion 1.7 兼容性](http://svnkit.com/download.php)

*请注意，我的答案仅供 svnkit 使用。对于 javahl 的使用，如果可能的话，我会尝试更新这个答案。*

**设置**

您需要使用最新的 SVNKit 版本（1.7.8 或更高版本）更新 svnkit 相关库。svnant 1.3.1 中附带的 svnkit 库不能与 svnant 1.3.1 所需的 Subversion 1.7 库一起使用：

*   svnant.jar
*   svnClientAdapter.jar

SVNKit 1.7.8 所需的库：

*   svnkit-1.7.8.jar
*   svnkit-javahl16-1.7.8.jar
*   antlr-runtime-3.4.jar
*   序列库 1.0.2.jar
*   sqljet-1.1.6.jar

**蚂蚁脚本**

```
<!-- - - - - - - - - - - - - - - - - - 
      target: svn-test                      
 - - - - - - - - - - - - - - - - - -->
<target name="svn-test">
    <svnSetting svnkit="true" javahl="false" username="foo" password="bar" 
        id="svn.config" />
    <svn refid="svn.config">
        <info target="${basedir}" />
    </svn>
        <echo>${svn.info.lastRev}</echo>
</target> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T08:40:01.903

根据有关[底格里斯河](http://subclipse.tigris.org/ds/viewMessage.do?dsForumId=1045&dsMessageId=2758110)的信息，我会说。您可以使用 1.7.X 从服务器签出，但不能使用已由 1.7.X 客户端签出的工作副本，因为工作副本格式在 1.7.X 中已更改。