# StackOverflow 问答 11590000-11590999

# android - Android：片段内动画中的 NPE

> ID：11590000
> 
> 赞同：0
> 
> 时间：2012-07-21T06:30:02.490
> 
> 标签：android, android-animation

我有一个 FragmentActivity，在片段中，我想为 2 个视图之间的过渡设置动画（基本上是 2 个线性布局，一次只能看到一个）。

```
public void showError() {
    if (getActivity() == null) return;
    if (mErrorView.getVisibility() == View.VISIBLE) return;
    if (mListView.getVisibility() == View.VISIBLE) {
        mListView.startAnimation(AnimationUtils.loadAnimation(getActivity(), android.R.anim.fade_out));
    }
    if (mSpinnerView.getVisibility() == View.VISIBLE) {
        mSpinnerView.startAnimation(AnimationUtils.loadAnimation(getActivity(), android.R.anim.fade_out));
    }
    mErrorView.startAnimation(AnimationUtils.loadAnimation(getActivity(), android.R.anim.fade_in));

    mListView.setVisibility(View.GONE);
    mErrorView.setVisibility(View.VISIBLE);
    mSpinnerView.setVisibility(View.GONE);
} 
```

它工作正常，但我从 getActivity() 上具有 NPE 的用户那里收到了很多崩溃报告。因此，即使我在进入之前检查非空，我也会进入它变为空的状态（可能是因为动画是异步的？）。

我觉得我做的动画不正确，有没有更好的方法来防止所有 NPE 困扰我的用户？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T06:50:14.297

我不确定 getActivity 是如何变为空的，但为了避免它，为什么不在空检查之前存储该值。这样，您就可以维护对它的引用，该引用不能为空。就像是：

```
public void showError() {
    Activity activity = getActivity();
    if (activity == null) return;
//Other Code
    mErrorView.startAnimation(AnimationUtils.loadAnimation(activity, android.R.anim.fade_in));
//Rest of code
} 
```

# php - 使用 htaccess 完全隐藏获取参数而不影响 url

> ID：11590003
> 
> 赞同：0
> 
> 时间：2012-07-21T06:30:55.700
> 
> 标签：php, .htaccess, post, url-rewriting, get

我有我的网站：www.testurl.com。index.php 首先检查客户端的设备并相应地重定向到移动版本和桌面版本。

但是，在重定向到桌面版本时，我得到了 url `www.testurl.com/index.shtml?redirect=false`。我想`?redirect=false`使用 htaccess 隐藏部分。我怎样才能做到这一点？由于我的逻辑，我不能使用发布请求。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T06:43:05.467

我假设你的 index.php 把它放在那里是因为它需要它。您不能简单地通过在 htaccess 文件中使用指令来*隐藏它。*

我将假设`redirect=false`查询字符串是让`index.php`知道不要基于用户代理*再次重定向。*那么 htaccess 中的规则是如何知道请求是否被重定向的呢？似乎`index.php`需要能够查看正在请求的网站版本。如果它是移动用户代理，并且正在访问网站的移动版本，请不要重定向。如果它是桌面用户代理并且正在访问该站点的桌面版本，请不要重定向。这样您就不需要`redirect=false`查询字符串。

# jquery-jtable - jtable执行方法的输入参数

> ID：11590007
> 
> 赞同：0
> 
> 时间：2012-07-21T06:31:30.553
> 
> 标签：jquery-jtable

我正在开发一个 asp.net 应用程序并遇到这个问题：我想加载带有一些搜索条件的数据（来自用户的输入）并将其显示在一个网格（jTable）中。但是在 aspx.cs 文件中，启动查询的方法是 statis：

```
"public static object StudentList(int jtStartIndex, int jtPageSize, string jtSorting)" 
```

所以我无法在其中输入搜索条件。我想知道我可以在 aspx 文件的某个地方做到这一点：

```
 title: 'The Student List',
        paging: true, //Enable paging
        pageSize: 10, //Set page size (default: 10)
        sorting: true, //Enable sorting
        defaultSorting: 'Name ASC', //Set default sorting
        actions: {
            listAction: '/Demo/StudentList',
            deleteAction: '/Demo/DeleteStudent',
            updateAction: '/Demo/UpdateStudent',
            createAction: '/Demo/CreateStudent'
        }, 
```

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-27T17:13:56.747

在我看来
，在“/Demo/StudentList”的webmethod的字符串中设置搜索选项，或者在任何.net控件中动态设置启动搜索选项到“http.session”变量并在Web方法中访问它。希望这会有所帮助。

# jquery - JQuery Ajax 在 MVC3 中不起作用

> ID：11590012
> 
> 赞同：1
> 
> 时间：2012-07-21T06:31:59.027
> 
> 标签：jquery, ajax, asp.net-mvc-3

在用户管理中，有 4 个页面：**List**、**Create**、**Details**和**Edit**。所有 4 个页面都呈现部分**ListPartial**。这是我用来加载 ListPartial 的 Ajax 脚本：

```
<script type="text/javascript">
    $(function () {
        $('.leftContainer').load('ListPartial');
    });
</script> 
```

**List**和**Create**可以正常工作，但**Details**和**Edit**不能。**而且我已经找到了通过使用 URL“ User/Details?id=1** ”而不是普通的“ **User/Details/1** ”来使其工作的方法。我怎样才能使它与正常的 url 一起正常工作？

**编辑：**

ListPartial.cshtml（链接直接指向用户详细信息页面和 4 个视图**List**、**Create**、**Details**和**Edit**使用 Ajax 加载它）

```
@model IEnumerable<ARS.Models.User>
<div class="leftToolbar">
@using (Html.BeginForm("Create", "User"))
{
    <button name="button" class="btnAdd" value="Create"></button>
    <input id="Text1" type="text" class="txtSearch" />
}
</div>
<div class="smallList">
    <table>
        <tr>
            <th>
                Email đăng nhập
            </th>
            <th>
                Nhóm
            </th>
        </tr>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.ActionLink(Html.DisplayFor(modelItem => item.Email).ToString(), "Details", new { id=item.ID })
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Group.Name)
                </td>
            </tr>
        }
    </table>
</div> 
```

用户控制器/详细信息

```
public ViewResult Details(int id)
{
    User user = db.Users.Find(id);
    return View(user);
} 
```

全球.asax

```
public static void RegisterRoutes(RouteCollection routes)
{
    routes.IgnoreRoute("{resource}.axd/{*pathInfo}");
    routes.MapRoute(
        "Default", // Route name
        "{controller}/{action}/{id}", // URL with parameters
        new { controller = "Account", action = "LogOn", id = UrlParameter.Optional } // Parameter defaults
    );
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T06:56:27.020

在控制器中

```
// GET: /User/Edit/5
public ActionResult Edit(int id)
        {
           //code..
        }

// GET: /User/Details/5
public ViewResult Details(int id)
        {
           //code..
        } 
```

在cshtml页面中

```
@Html.ActionLink("Edit", "Edit", new { id=item.UserId}) |
@Html.ActionLink("Details", "Details", new { id = item.UserId }) 
```

# c# - DataGridView“第二次”加载要慢得多

> ID：11590013
> 
> 赞同：0
> 
> 时间：2012-07-21T06:32:03.037
> 
> 标签：c#, winforms

我有一个未绑定的 datagridview 视图。第一次加载总是运行得非常快，但第二次加载慢了大约 20 倍。

我每次都执行以下操作，如果删除此代码，则第二次和后续加载速度很快（不幸的是，我必须保留此颜色逻辑）：

```
 for (int ri = 0; ri < pdgv.Rows.Count; ri++)
            {
                for (int ci = 0; ci < pdgv.Columns.Count; ci++)
                {
                    if (pdgv.Columns[ci].Frozen)
                    {
                        pdgv[ci, ri].Style.BackColor = v.Frozen_BackColor;
                        pdgv[ci, ri].Style.ForeColor = v.Frozen_ForeColor;
                        pdgv[ci, ri].Style.Font = v.Frozen_Font;
                        if (pdgv[ci, ri].OwningColumn.Name.StartsWith("yn_") &&
                            pdgv[ci, ri].Value != null &&
                            pdgv[ci, ri].Value.ToString() == "1")
                        {
                            pdgv[ci, ri].Style.BackColor = Color.Red;
                            pdgv[ci, ri].Style.ForeColor = Color.White;
                        }
                    }
                    if (pdgv.Columns[ci].ReadOnly)
                    {
                        pdgv[ci, ri].Style.BackColor = v.ReadOnly_BackColor;
                        pdgv[ci, ri].Style.ForeColor = v.ReadOnly_ForeColor;
                        pdgv[ci, ri].Style.Font = v.ReadOnly_Font;
                    }
                }
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-22T22:07:13.670

我在第二次加载之前处理并重建了 datagridview，它和第一次加载一样快。

# android - 如何从可绘制文件夹中获取字节 [] 格式的图像？

> ID：11590016
> 
> 赞同：1
> 
> 时间：2012-07-21T06:32:25.707
> 
> 标签：android

我想从 drawable 文件夹中获取图像，但它应该是 byte[] 格式。这样我就可以将该 byte[] 保存到数据库中。我已经浏览了链接，但那是从 String 或 Drawable 中的 drawable 文件夹中获取图像格式。对我有什么建议请..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T06:44:04.800

`getResources()`使用方法获取drawable 。

```
Drawable drawable= getResources().getDrawable(R.drawable.image1); 
```

类型转换为 BitmapDrawable，

```
Bitmap bitmap = ((BitmapDrawable)drawable).getBitmap(); 
```

[通过compress](http://developer.android.com/reference/android/graphics/Bitmap.html#compress%28android.graphics.Bitmap.CompressFormat,%20int,%20java.io.OutputStream%29)方法将位图的压缩版本写入指定的输出流。

```
ByteArrayOutputStream out = new ByteArrayOutputStream();
bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);
byte[] buffer= out.toByteArray(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T06:37:54.387

您可能想要使用 Resources 类中的[openRawResource](http://developer.android.com/reference/android/content/res/Resources.html#openRawResource%28int%29)函数。它会给你一个[InputStream](http://developer.android.com/reference/java/io/InputStream.html)。然后，您可以使用流获取原始字节数组（使用 read 函数）。

# c++ - 为具有可变数量参数的不同函数编写通用包装器

> ID：11590018
> 
> 赞同：0
> 
> 时间：2012-07-21T06:32:45.110
> 
> 标签：c++, wrapper, variadic-functions

我想为一堆功能相似的函数编写一个 C++ 包装器。但他们都有不同数量的论点。例如（假设 typeA、typeB 等是不同的 typedef 类型）：

```
typeA func1 (typeB b, typeC c);

typeA func2 (typeB b, typeD d, typeE e); 
```

这些是我要为其编写包装器的函数（请注意，它们都有返回类型 typeA 和类型 B 的第一个参数）。所以我打算创建一个通用包装类并在构造函数中存储一个参数列表。我希望能够在下面调用一个看起来像“func”的函数：

```
class wrapper {
  public:
    wrapper (/*args - a list of arguments, including 
               a pointer to the actual function, and 
               the remaining arguments depending 
               on the function. */);
    void func (typeB b, typeA &a);
} 
```

所以，我想以这样一种方式编写 func ，它调用任何函数（func1 或 func2），并将参数传递给构造函数。

我想知道是否有一种方法可以将 func1 或 func2 视为它们具有可变数量的参数。或者至少，如果 C++ 中有一种方法，我可以输入一个函数和一个参数列表并获取 eval（函数，argument_list）。

另一种方法是为每个函数编写一个包装器，我想避免但不反对。（另外，我不介意解决方案是否涉及我不使用包装器类而是包装器函数）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T15:42:51.497

这是我在 C 中所做的，用于包装任何函数。我希望它能帮助/启发你。主要限制是您只能包装用户定义的函数，因为您必须修改函数的签名。

我的解决方案使用 va_arg 结构。

```
#include <stdarg.h>
void * super_wrapper( void * (*fn)(), void * ret, int n, ...)
{
  va_list = my_list;
  va_start(my_list, n);
  ret = (*fn)(ret, n, my_list);
  va_end(my_list);
  return ret
} 
```

包装器的签名采用指向您要执行的函数的指针，一个指向该函数以检索您的返回值的指针，您调用该函数的参数数量，然后是您想要的函数的参数称呼。

va_list 是参数列表。你用 va_start 初始化它。va_start 的第一个参数是要初始化的 va_list。第二个参数是当前函数的最后一个已知参数（在本例中为“n”）。

现在，您将放置一个参数 va_list，而不是用户定义函数中的省略号。

我有两个例子：

```
double sum (int n, ...)
{
  int i;
  double res = 0;
  double tmp;
  va_list = my_list;
  va_start(my_list, n);
  for(i=0; i<n; i++)
  {
    tmp = va_arg(my_list, double);
    res += tmp;
  }
  va_end(my_list);
  return res;
}

void my_print(int n, ...)
{
  int i;
  va_list my_list;
  va_start(my_list, n);
  char * tmp;
  for(i=0; i<n; i++)
  {
    tmp = va_arg(my_list, char *);
    printf("%s ", tmp);
  }
  printf("\n");
  va_end(my_list);
} 
```

我设法使用相同的包装器来调用这两个不同的函数，并对签名和函数体进行了一些修改。问题是在参数和返回中，我只给出指针。所以我必须取消引用指针。

```
void * sum (void * ret, int n, va_list my_list)
{
  int i;
  double res = 0;
  double *tmp;
  for(i=0; i<n; i++)
  {
    tmp = va_arg(my_list, double);
    res += *tmp;
  }
  ret = &res;
  return ret;
}

void* my_print(int n, ...)
{
  int i;
  char ** tmp;
  for(i=0; i<n; i++)
  {
    tmp = va_arg(my_list, char **);
    printf("%s ", *tmp);
  }
  printf("\n");
  return ret;
} 
```

现在我可以在我的 main 中使用相同的包装函数来调用这两个函数：

```
void main()
{
  double two = 2.0;
  double three = 3.0;
  double fifteen = 15.0;

  char *I, *am, *a, *great, *wrapper;
  I = malloc(sizeof(char) * 2);
  am = malloc(sizeof(char) * 3);
  a = malloc(sizeof(char)*2);
  great = malloc(sizeof(char) * 6;
  wrapper = malloc(sizeof(char) * 8);

  I = strcpy(I, "I\0");
  am = strcpy(am, "am\0");
  a = strcpy(a,"a\0");
  great = strcpy(great, "great\0");
  wrapper = strcpy(wrapper, "wrapper\0");

  void * ret;

  printf("Sum = %f\n", *( (double*)super_wrapper(sum, ret, 3, &two, &three, &fifteen) ) );
  super_wrapper(my_print, ret, 5, &I, &am, &a, &great, &wrapper);
} 
```

# objective-c - 方法声明中的这个约定是什么？

> ID：11590024
> 
> 赞同：0
> 
> 时间：2012-07-21T06:33:50.637
> 
> 标签：objective-c, method-declaration

我见过有人在Objective C中声明一个方法，如下所示：

```
- (FMResultSet *)executeQueryWithFormat:(NSString*)format, ...; 
```

谁能告诉我方法声明末尾的虚线符号在这里代表什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T06:37:42.610

表示一个可变长度的`...`参数列表，类似于标准 C 中的可变参数函数。它表示消息可以接受可变数量的参数。

在消息实现中，可变参数的处理方式与标准 C 函数中的处理方式相同，但在 Objective-C 中，参数列表通常是`nil`终止的。使用相同的头文件`stdarg.h`，以及用于操作列表的相同`va_list`类型和关联的宏。

有关示例，请参阅此[OS X 开发人员文档；](http://developer.apple.com/library/mac/#qa/qa1405/_index.html)和一些标准的 C 示例[在这里](http://c-faq.com/varargs/varargs1.html)。

# android - Android：使用 PdfViewer jar 文件在我们自己的布局中查看 pdf 文件

> ID：11590025
> 
> 赞同：1
> 
> 时间：2012-07-21T06:34:21.257
> 
> 标签：android, pdf, layout

在这里，我使用 PdfViewer jar 文件从 Sdcard 读取和查看 Pdf 文件。它的工作原理就像一个魅力。但我的问题是有没有可能使用 Xml 文件在自己的布局中查看 Pdf 文件，而不是静态到 Java 文件中。我使用了这个项目PdfViwer 中的[PdfViewerActivity.java](https://github.com/jblough/Android-Pdf-Viewer-Library)

# tablet-pc - 使用 IOS 通过平板电脑远程桌面连接到 PC

> ID：11590026
> 
> 赞同：1
> 
> 时间：2012-07-21T06:34:29.167
> 
> 标签：tablet-pc

我们想使用 ios 为平板电脑开发一个远程桌面应用程序。任何人都可以指导我们了解应用程序的实际工作方式和所需的编码知识！！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T06:37:35.823

这取决于，什么样的应用程序，你想要它做什么，它是否也需要能够在 MacOSX 上工作，你是否已经有一个适用于 android 的应用程序？你要为安卓做一个吗？您如何看待基于 Web 的平台。

这些都是您需要回答的问题，甚至在您考虑您将需要/想要/使用哪种类型的编码之前。

# hosting - 我的 Hostgator IP 地址给了我 404 错误

> ID：11590027
> 
> 赞同：9
> 
> 时间：2012-07-21T06:34:39.240
> 
> 标签：hosting

我平时使用的网络服务器显然是被暴风雨吹坏了，而且会无限期停机。

我决定将所有内容移至 Hostgator，但它不起作用。

我将我在 Namecheap 上的域名重定向到新的 Hostgator IP 地址，并将所有文件上传到 public_html 文件夹。我的文件都是 php，我的 htaccess 文件允许。

我只在大约 40 分钟前设置了所有内容，因此问题可能只是时间问题。但是，我环顾四周，这对其他人来说并没有成为问题。

我想不出我可能做错了什么。任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-05-12T20:31:55.393

可以通过将您的用户名附加到 ip 地址来访问您在共享 ip 上的虚拟主机区域，例如：

http://{IP 地址}/~{您的用户名}

它适用于大多数网络主机！

更新：在两个最流行的网络托管面板上运行良好：Cpanel 和 DirectAdmin

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-07-21T06:49:30.133

Hostgator 是一个共享托管服务提供商。该 IP 地址为许多网站提供服务。Hostgator 知道向客户端提供服务的方式是因为，当您访问“ [http://mywebsite.com](http://mywebsite.com) ”时，您的浏览器会发送 HTTP 标头`Host: mywebsite.com`。然后 Apache 看到“mywebsite.com”并从您的用户帐户中查找您网站的内容并将其传送到 Web 浏览器。如果 Hostgator 没有收到`Host`标头，那么它不知道要显示哪个网站，所以它只会给你一个 404。

简而言之，您需要访问“yourwebsite.com”而不是原始 IP 地址。

如果您发现您的计算机将您发送到旧 IP 地址，请记住，DNS 可能需要 4-12 小时才能在全球范围内填充（您对此无能为力），但通常如果您刷新本地 DNS 缓存，然后下一次查找将获得正确的 IP 地址（如果您与 DNS 主机位于同一国家/地区，这通常有效）。这可以在 Windows 的命令行中通过`ipconfig /flushdns`后跟`ipconfig /registerdns`. 如果您使用的是 linux，请查看[此](http://www.cyberciti.biz/faq/rhel-debian-ubuntu-flush-clear-dns-cache/).

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-08-01T22:26:22.823

对于 Hostgator ：

*   共享 http:// **gator4132** .temp.domains/~ **user** /
*   经销商 http:// **corvette** .temp.domains/~ **user** /

请务必将上面的粗体项目替换为您的服务器和 cPanel 用户名的实际值。

有关更多详细信息，请参阅[此](https://support.hostgator.com/articles/hosting-guide/lets-get-started/temporary-url)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-11-28T17:31:47.307

我知道这是一个较旧的线程，但我只是想用正确的“修复”进行更新。正如 OP 所说，这是一个时间问题。

您很可能在您的网站上强制使用 HTTPS，但您的域上尚未安装免费的 Lets Encrypt SSL 证书。Hostgator 在最终名称服务器传播的 48 小时内自动执行此操作。与此同时（即使传播像我一样需要 40 分钟），该站点是活动的，但正在尝试使用 HTTPS 协议（通常在您的 .htaccess 文件中被告知这样做。）。

最简单的解决方法是联系 Hostgator 客户支持（我只是使用实时聊天）并要求他们安装 SSL 证书。大约需要 5 分钟，然后您的网站才能正常运行（假设您的 .htaccess 设置正确。）

一旦服务代表告诉您它已安装，您应该刷新您的 DNS 记录（或在隐身选项卡中检查该站点）以进行验证。

再过 3 到 5 分钟后，您的网站应该会正常显示在常规（非隐身）标签上。

# sencha-touch - Sencha Touch List/Store 不联系服务器

> ID：11590030
> 
> 赞同：0
> 
> 时间：2012-07-21T06:35:00.600
> 
> 标签：sencha-touch

我正在尝试将 Sencha Touch 2 前端与 Rails 后端（返回 JSON）放在一起。但是，我发现运行以下脚本根本不会联系服务器。我相信这个问题有一个非常简单的解决方案！如果我将行添加：`autoLoad: true`到我的商店，则连接服务器，但我在浏览器中看到一个永无止境的加载图像。

非常感谢您的帮助！如果您想查看更多信息，请让我知道。

——贾里德

**index.js**

```
ListDemo = new Ext.Application({

name: "ListDemo",

launch: function() {

    ListDemo.listPanel = new Ext.List({
        id: 'disclosurelist',
        store: ListDemo.ListStore,
        itemTpl: '<div class="contact">{title}</div>',
        onItemDisclosure: function(record, btn, index) {
            ListDemo.detailPanel.update(record.data);
            ListDemo.Viewport.setActiveItem('detailpanel');
        }
    });

    ListDemo.Viewport = new Ext.Panel ({
        fullscreen: true,
        layout: 'card',
        cardSwitchAnimation: 'slide',
        items: [ListDemo.listPanel]
    });

}
}); 
```

**数据.js**

```
Ext.regModel('Article', {
        fields: [
            {name: 'title',       type: 'string'},
                    {name: 'url',     type: 'string'}
        ],
        proxy: {
          type: 'rest',
          url : 'articles',
            format: 'json',
          reader: {
              type: 'json',
              root: 'articles',
                record: 'entry'
          }
      }
});

ListDemo.ListStore = new Ext.data.Store({
        model: 'Article'
}) 
```

如果我访问 localhost:3000/articles.json，这是服务器响应的内容：

```
{"articles":
    [
        {"created_at":"2012-07-18T23:54:08Z","from":null,"id":1,"image":"","title":"Inquiry Seeks Accomplices of Bomber in Bulgaria","updated_at":"2012-07-21T06:13:54Z","url":"www.newyorktimes.com"},
        {"created_at":"2012-07-19T00:01:35Z","from":null,"id":2,"image":"","title":"Changing Harlem Celebrates Queen of Soul Food","updated_at":"2012-07-21T06:26:13Z","url":"www.newyorktimes.com/harlem"}
    ]
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-22T08:39:40.787

您的服务器脚本应返回如下所示的 JSON：

```
{
    "success": true,
    "articles": [
        {"created_at":"2012-07-18T23:54:08Z","from":null,"id":1,"image":"","title":"Inquiry Seeks Accomplices of Bomber in Bulgaria","updated_at":"2012-07-21T06:13:54Z","url":"www.newyorktimes.com"},
        {"created_at":"2012-07-19T00:01:35Z","from":null,"id":2,"image":"","title":"Changing Harlem Celebrates Queen of Soul Food","updated_at":"2012-07-21T06:26:13Z","url":"www.newyorktimes.com/harlem"}
    ]
} 
```

# android - 如何在 android/eclipse 上通过 SOAP 方法在 Web 服务中使用 xml 内容

> ID：11590032
> 
> 赞同：0
> 
> 时间：2012-07-21T06:35:53.033
> 
> 标签：android, xml, eclipse, web-services

有谁有这个问题，现在我正在使用 Eclipse ide 在 android 上通过 SOAP 方法使用 Web 服务。它工作正常。请找到我的服务链接

“ [http://54.251.60.177/MobileWS/Student.asmx?wsdl](http://54.251.60.177/MobileWS/Student.asmx?wsdl) ”

“GetStudentInformation”，这是我正在使用的服务，其输入值为“111105009”

如果我将此值作为上述服务的输入，它只会在模拟器上显示如下图所示的结果，并公开显示这些内容。

**图像_1**

![在此处输入图像描述](../Images/6e59bae60551dd2dfc96727839e0a0c9.png)

**图像_2** ![在此处输入图像描述](../Images/ed66d81e0066a8e282361f2e19ebbcd0.png)

但这里我的问题是，上面的 image_2 显示了所有带有答案的 xml 标签，但我只需要显示我在 image_2 上提到的答案。如何实现这个概念？

**请在下面找到我的来源**

**WebMethod.java**

```
public class GetStudentInformation 
{
public String GetStudentInformation(String sStudentCode)
{
    return sStudentCode;
}    } 
```

**Demo_tabActivity.java**

```
public class Demo_tabActivity extends Activity 
{
private static String NAMESPACE = "http://tempuri.org/";
private static String METHOD_NAME = "GetStudentInformation";
private static String SOAP_ACTION = "http://tempuri.org/GetStudentInformation";
private static String URL = "http://54.251.60.177/MobileWS/Student.asmx?WSDL";

Button btnFar;
EditText txtFar;

   @Override
   public void onCreate(Bundle savedInstanceState)
   {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.main);

       txtFar = (EditText)findViewById(R.id.editText_in);
       btnFar = (Button)findViewById(R.id.button1);
       btnFar.setOnClickListener(new View.OnClickListener()
       {
       public void onClick(View v)
       {
         String b;

         //Initialize soap request + add parameters
         SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);

         //Use this to add parameters

         request.addProperty("sStudentCode",txtFar.getText().toString());

         //Declare the version of the SOAP request

         SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);

         envelope.setOutputSoapObject(request);

         envelope.dotNet = true;

         try 
         {
             HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

             //this is the actual part that will call the webservice

             androidHttpTransport.call(SOAP_ACTION, envelope);

             // Get the SoapResult from the envelope body.

             SoapPrimitive result = (SoapPrimitive)envelope.getResponse();

             if (result != null)
             {
              //Get the first property and change the label text

                b = result.toString();
                Intent myIntent = new Intent(Demo_tabActivity.this, Tabhost.class);

                myIntent.putExtra("result1", b);
                startActivity(myIntent);
             }
             else
             {
                Toast.makeText(getApplicationContext(), "No Response",Toast.LENGTH_SHORT).show();
             }
         }
        catch (Exception e)
        {
           e.printStackTrace();
           }
         }
       });
   }
} 
```

**Tabhost.java**

```
public class Tabhost extends TabActivity {

@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.main1);

    String result1;

    Bundle extras = getIntent().getExtras();

    if(extras!=null)
    {
        result1 = extras.getString("result1");
    } else result1 = "Didnt work !" ;

    TabHost tabHost = getTabHost();
    TabHost.TabSpec spec;
    Intent intent;

    intent = new Intent().setClass(this, Tab_1.class);
    intent.putExtra("result1", result1);
    spec = tabHost.newTabSpec("first").setIndicator("First").setContent(intent);
    tabHost.addTab(spec);

    intent = new Intent().setClass(this, Tab_2.class);
    spec = tabHost.newTabSpec("second").setIndicator("Second").setContent(intent);
    tabHost.addTab(spec);

    tabHost.setCurrentTab(0);
 }
 } 
```

**Tab_1.java**

```
public class Tab_1 extends Activity 
{
TextView tv1;
String result1;

/** Called when the activity is first created. */

@Override
public void onCreate(Bundle savedInstanceState) 
{
super.onCreate(savedInstanceState);
setContentView(R.layout.main2);

Bundle extras = getIntent().getExtras();
if(extras != null)
{   
    result1 = extras.getString("result1");
} 
else result1 = "didnt work";

    tv1 = (TextView)findViewById(R.id.textView_main2);
    tv1.setText(result1);

}
} 
```

**Tab_2.java**

```
public class Tab_2 extends Activity {

/** Called when the activity is first created. */   

@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.main3);
    }
} 
```

感谢您宝贵的时间！..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:05:54.260

*   您得到的 XML 结果字符串将被解析。Ypu 可以使用 Dom Parsing 像这样解析它。
*   在这里，您必须创建一个模型类，它将在解析数据后保存详细信息。

学生模型.java

```
package com.cws.model;

public class StudentModel
{
private static String StudentName;
private static String NoOfDayPresent;
private static String NoOfDayAbsent;

public String getStudentName(){
    return StudentName;
}
public void setStudentName(String studentname){
    StudentName=studentname;
}

    public String getNoOfDayPresent(){
    return NoOfDayPresent;
}
public void setNoOfDayPresent(String noOfDayPresent){
    NoOfDayPresent=noOfDayPresent;
}   
    ....Similarly Create getter and setter methhods for remaining variables Here
} 
```

**现在以这种方式从具有 Result 值的 Activity 调用解析方法**

```
StudentModel student=new StudentModel();
Parsing parsing=new Parsing();  
student=parsing.parseByDOM(result1); 
```

**现在您可以通过这种方式访问​​值..**

```
mytextView1.setText(student.getStudentName());
.
mytextView2.setText(student.getNoOfDayPresent());
.
. 
```

**解析.class**

```
import java.io.IOException;
import java.io.StringReader;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;
import org.xml.sax.InputSource;
import org.xml.sax.SAXException;
import com.cws.model.ResumeCover;

public class StudentDataParser {

public StudentModel parseByDOM(String response) throws ParserConfigurationException, 
                                                                                    SAXException, IOException 
{
            StudentModel sm=new StudentModel();
            DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();
            DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();
            Document doc = dBuilder.parse(new InputSource(new StringReader(response)));
            doc.getDocumentElement().normalize();
            NodeList nList = doc.getElementsByTagName("row");
                for (int temp = 0; temp < nList.getLength(); temp++) 
                {
                    Node nNode = nList.item(temp);
                    if (nNode.getNodeType() == Node.ELEMENT_NODE) 
                    {
                        Element eElement = (Element) nNode;
                        sm.setStudentName(getTagValue("FirstName", eElement));
                        sm.setNoOfDayPresent(getTagValue("NoOfDayPresent", eElement));
                <----Similarly set All the Values Of all variables-->           
                    }
                }

        return sm;
    }

private static String getTagValue(String sTag, Element eElement) 
    {

        NodeList nlList = eElement.getElementsByTagName(sTag).item(0).getChildNodes();
        if(nlList.getLength()>0)
        {
            Node nValue = (Node) nlList.item(0);
            return nValue.getNodeValue();   
        }
        else
            return "-";

    }
} 
```

# python - 在 openerp 中的活动过滤器下获取上下文中的所有 ID

> ID：11590033
> 
> 赞同：1
> 
> 时间：2012-07-21T06:37:00.087
> 
> 标签：python, openerp, identifier

我创建了一个将所选记录的数据导出到 csv 文件的函数。例如，我打开了产品树视图，有很多过滤器，我选择了显示 5 个产品的“服务产品过滤器”，然后单击操作，然后单击导出向导中的导出按钮，这 5 个产品显示在树视图导出到 csv 文件。

我有超过 4000 个消耗品，如果我选择过滤消耗品，那么树形视图将在树形视图中显示 80 条记录（默认限制）。如果我单击操作并导出详细信息，那么我只会得到 80 个记录 ID，并且这些记录会被导出。但我需要获取所有消耗品 ID。

有什么方法可以获取模型中活动过滤器下的所有 id？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-22T13:44:04.043

应用您的过滤器并将可见记录数更改为*无限制*（按产品树视图右上角的**4000 字段 [1 到 80] ）。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-22T13:44:15.383

您可以尝试[我们的模块](https://github.com/domsense/web_export_view)以导出到 XLS。好消息是您可以按*原样*导出视图，这意味着您可以将限制过滤器设置为无限制以获取所有记录。此外，您将获得所有已格式化以供显示的值。组的东西被清除了 ATM，但我计划为此添加适当的支持。

此外，关于“如何获取所有 ID”，请看一下[这个](https://stackoverflow.com/questions/11151768/client-web-how-to-get-current-record-id-at-any-time)令人遗憾地没有答案的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-10T13:35:44.000

尝试覆盖该模型的搜索方法并将搜索 ID 添加到上下文 -> 活动 ID。

```
def search(self, cr, uid, args, offset=0, limit=None, order=None,context=None, count=False):
    product_ids = super(product_product, self).search(cr,uid,args=tuple_search, offset=offset, limit=limit, order=order,
        context=context, count=count)
    context.update('active_ids' : product_ids)
    return product_ids 
```

不确定，但可能对您有所帮助。

# javascript - 强制内部元素溢出-x

> ID：11590036
> 
> 赞同：7
> 
> 时间：2012-07-21T06:37:29.757
> 
> 标签：javascript, html, css

我有以下结构：

```
#navBar {
    height: 55px;
    width: 40px; 
    overflow-x:scroll; 
    overflow-y:hidden;
}

<div id="navBar">
akdhbaIDBhbfbhwhfbaibf
    <div style="width: 80; float: left;  text-align: center;">
    <img src="http://192.168.2.105/SB_Site/icons/Home2.jpg" alt="Nav1" />
    <br />
    <span style="font-size: 80%">Nav1</span>
    </div>
    <div style=" width: 80; float: left;  text-align: center;">
    <img src="http://192.168.2.105/SB_Site/icons/Home2.jpg" alt="Nav2" />
    <br />
    <span style="font-size: 80%">Nav2</span>
    </div>
    <div style=" width: 80; float: left;  text-align: center;">
    <img src="http://192.168.2.105/SB_Site/icons/Home2.jpg" alt="Nav3" />
    <br />
    <span style="font-size: 80%">Nav3</span>
    </div>
</div> 
```

我希望所有的内在`div`意志都`scroll-x`不会*打破*界限。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-21T07:12:16.103

这将起作用：

```
<style type="text/css">
    #navBar {
        height: 55px;
        width: 80px;
        overflow-x: scroll;
        overflow-y:hidden;
        white-space: nowrap;
    }

    #navBar div {
        display: inline-block;
    }
</style> 
```

对于 HTML 部分：

```
<div id="navBar">
        akdhbaIDBhbfbhwhfbaibf
        <div style="width: 100px; text-align: center; background-color: red;">
            <img src="" alt="Nav1" />
            <br />
            <span style="font-size: 80%">Nav1</span>
        </div>
        <div style=" width: 100px; text-align: center;">
            <img src="" alt="Nav2" />
            <br />
            <span style="font-size: 80%">Nav2</span>
        </div>
        <div style=" width: 100px; text-align: center; background-color: red;">
            <img src="" alt="Nav3" />
            <br />
            <span style="font-size: 80%">Nav3</span>
        </div>
</div> 
```

不需要`float: left;`CSS。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T06:58:25.010

添加`white-space: nowrap`到#navBar 和`display: inline-block;`内部div。我相信应该这样做。

看看这个小提琴：http: [//jsfiddle.net/fzLwX/1/](http://jsfiddle.net/fzLwX/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T06:43:06.357

这可能是您正在寻找的：

```
#navBar div{
    overflow-x:auto;
} 
```

# memory - 是什么导致 CUDA 中的指令重放开销

> ID：11590037
> 
> 赞同：4
> 
> 时间：2012-07-21T06:37:32.093
> 
> 标签：memory, cuda, gpu, overhead

我在我的一个 CUDA 应用程序上运行了视觉分析器。如果数据太大，应用程序会多次调用单个内核。这个内核没有分支。

分析器报告了83.6 **%的****高**指令重播开销和**83.5%**的**高全局内存指令重播开销**。

 ******以下是内核的一般外观：

```
// Decryption kernel
__global__ void dev_decrypt(uint8_t *in_blk, uint8_t *out_blk){

    __shared__ volatile word sdata[256];
    register uint32_t data;

    // Thread ID
#define xID (threadIdx.x + blockIdx.x * blockDim.x)
#define yID (threadIdx.y + blockIdx.y * blockDim.y)
    uint32_t tid = xID + yID * blockDim.x * gridDim.x;
#undef xID
#undef yID

    register uint32_t pos4 = tid%4;
    register uint32_t pos256 = tid%256;
    uint32_t blk = pos256&0xFC;

    // Indices
    register uint32_t index0 = blk + (pos4+3)%4;
    register uint32_t index1 = blk + (pos4+2)%4;

    // Read From Global Memory
    b0[pos256] = ((word*)in_blk)[tid+4] ^ dev_key[pos4];

    data  = tab(0,sdata[index0]);
    data ^= tab(1,sdata[index1]);
    sdata[pos256] = data ^ tab2[pos4];

    data  = tab(0,sdata[index0]);
    data ^= tab(1,sdata[index1]);
    sdata[pos256] = data ^ tab2[2*pos4];

    data  = tab(0,sdata[index0]);
    data ^= tab(1,sdata[index1]);
    data ^= tab2[3*pos4];

    ((uint32_t*)out_blk)[tid] = data + ((uint32_t*)in_blk)[tid];
} 
```

如您所见，没有分支。线程最初将根据线程 ID + 16 字节从全局内存中读取。然后，它们将根据线程 ID 对全局内存中的数据执行操作后写入输出缓冲区。

任何想法为什么这个内核会有这么多开销？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T05:42:02.817

在这种情况下，指令重放的来源是 warp 内的非统一常量内存访问。在您的代码中，`tab`存储在常量内存中并根据线程索引和数据存储共享内存的某种组合进行索引。结果似乎是同一扭曲中的非统一访问线程。常量内存实际上适用于warp中的所有线程访问同一个字的情况，然后可以在单个操作中从常量内存缓存中广播该值，否则会发生warp序列化。

在需要对小型只读数据集进行非统一访问的情况下，将数据绑定到纹理可能比将其存储为常量内存更好。******

# ruby-on-rails-3 - Rails 3 多态解离“NoMethodError：nil:NilClass:INSERT INTO 的未定义方法‘名称’”

> ID：11590050
> 
> 赞同：1
> 
> 时间：2012-07-21T06:40:37.213
> 
> 标签：ruby-on-rails-3, file-upload, polymorphic-associations

我有两个具有多态关联的模型（希望设置良好）。当我尝试上传文件时，我遇到了一个错误，女巫告诉我类似：`NoMethodError: undefined method `name' for nil:NilClass: INSERT INTO "uploads"` 我绝对没有胶水名称属性来自哪里，以及如果我将文件属性留空，为什么模型会保存。

```
class Event < ActiveRecord::Base
  attr_accessible :title,
    :uploads_attributes

  has_many :uploads, :as => :uploadable
  accepts_nested_attributes_for :uploads
end

class Upload < ActiveRecord::Base
  attr_accessible :filename, :path, :title

  belongs_to :uploadable, :polymorphic => true
end 
```

这里是用于添加新事件的表单视图

```
<%= form_for(@event) do |f| %>
  <div class="field">
    <%= f.text_area :title, :rows => 4 %>
  </div>
  <div>
    <%= f.fields_for :uploads do |builder| %>
      <div><%= builder.text_field :title %></div>
      <div><%= builder.file_field :filename %></div>
    <% end %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %> 
```

控制器是直截了当的，如 Railscast 第 196 集和第 197 集所示

```
def new
  @event = Event.new
  @event.uploads.build

  respond_to do |format|
    format.html # new.html.erb
    format.json { render json: @event }
  end
end 
```

**更新：**创建动作是普通的脚手架代码......

```
def create                                                                                                                                                 
  @event = Event.new(params[:event])

  respond_to do |format|
    if @event.save
      format.html { redirect_to @event, notice: 'Event was successfully created.' }
      format.json { render json: @event, status: :created, location: @event }
    else
      format.html { render action: "new" }
      format.json { render json: @event.errors, status: :unprocessable_entity }
    end
  end
end 
```

如果我只是在上传表单中插入一个标题，那么一切都会运行良好。但是，如果我也选择了一个文件，我会在保存时遇到此错误。

```
NoMethodError: undefined method `name' for nil:NilClass: INSERT INTO "uploads" ("created_at", "filename", "path", "title", "updated_at", "uploadable_id", "uploadable_type") VALUES (?, ?, ?, ?, ?, ?, ?) 
```

参数对我来说看起来不错...

```
{"utf8"=>"✓",
 "authenticity_token"=>"ppPQnkqXPSbNzRU4KGW11EpzktONZC2DS+hkRQAOnlM=",
 "event"=>{"title"=>"Erstes",
 "uploads_attributes"=>{"0"=>{"title"=>"foo",
 "filename"=>#<ActionDispatch::Http::UploadedFile:0x00000003a2d548 @original_filename="Hazard_E.svg",
 @content_type="image/svg+xml",
 @headers="Content-Disposition: form-data; name=\"event[uploads_attributes][0][filename]\"; filename=\"Hazard_E.svg\"\r\nContent-Type: image/svg+xml\r\n",
 @tempfile=#<File:/tmp/RackMultipart20120721-25352-1ioiss9>>}}},
 "commit"=>"Create Event"} 
```

这是一个 Rails 3.2.6 应用程序。我创建了一个新的，与我的开发项目中的错误相同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-31T00:39:34.480

我正在处理类似的问题，我认为您可能需要在保存之前将文件对象替换为参数哈希中的文件名。params['event']['filename'] 是一个 ActionDispatch::Http::UploadFile 对象，您可能希望该值是一个字符串..

# razor - ActionMailer.Net Stand-Alone：没有为扩展“.cshtml”注册构建提供程序

> ID：11590052
> 
> 赞同：13
> 
> 时间：2012-07-21T06:41:48.767
> 
> 标签：razor, actionmailer.net

我需要从 Windows 服务发送电子邮件并遇到[ActionMailer.net](https://bitbucket.org/swaj/actionmailer.net/wiki/Home)，这是一个模板电子邮件系统，可以在 ASP.Net MVC 应用程序中使用或独立使用。

按照独立教程

[http://geeksharp.com/2011/07/06/actionmailer-0-6-released/](http://geeksharp.com/2011/07/06/actionmailer-0-6-released/)

我正处于创建视图的地步。但是，当我在视图中键入任何文本时，它会带有蓝色曲线下划线。将鼠标悬停在蓝色曲线上会显示工具提示中的错误消息：

> 没有为扩展“.cshtml”注册构建提供程序您可以在`<compilation><buildProviders>`machine.config 或 web.config 部分注册一个

似乎我缺少设置 Razor 支持的步骤。

我错过了什么？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-21T07:06:27.357

That's just a warning. Your project will compile and work perfectly fine when you run it. Now in order to get tooling support for your Razor templates outside of an ASP.NET MVC application you may take a look at the [following blog post](http://blogs.msdn.com/b/webdevtools/archive/2011/01/20/how-to-get-razor-intellisense-for-model-in-a-class-library-project.aspx).

So to cheat the Visual Studio's (*stupid*) Intellisense simply drop a web.config (yeah web.config) in the root of your Windows Service project with the following contents:

```
<configuration>
  <configSections>
    <sectionGroup name="system.web.webPages.razor" type="System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
      <section name="host" type="System.Web.WebPages.Razor.Configuration.HostSection, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
      <section name="pages" type="System.Web.WebPages.Razor.Configuration.RazorPagesSection, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
    </sectionGroup>
  </configSections>

  <system.web.webPages.razor>
    <host factoryType="System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
    <pages pageBaseType="System.Web.Mvc.WebViewPage">
      <namespaces>
        <add namespace="System.Web.Mvc" />
        <add namespace="System.Web.Mvc.Ajax" />
        <add namespace="System.Web.Mvc.Html" />
        <add namespace="System.Web.Routing" />
      </namespaces>
    </pages>
  </system.web.webPages.razor>

  <system.web>
    <compilation targetFramework="4.0">
      <assemblies>
        <add assembly="System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
      </assemblies>
    </compilation>
  </system.web>
</configuration> 
```

At runtime it's absolutely unnecessary and has no effect of course (your application was working before as well). It's just to trick VS into thinking that this is a web application and provide you with Intellisense.

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-01-04T20:31:17.570

在 system.web 部分下的根 web.config 文件中添加以下代码块：

```
<compilation debug="true" targetFramework="4.0" >
  <!-- In order to provide MVC Intellisense support during developement-->
  <assemblies>
    <add assembly="System.Web.Abstractions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
    <add assembly="System.Web.Helpers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
    <add assembly="System.Web.Routing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
    <add assembly="System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
    <add assembly="System.Web.WebPages, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
  </assemblies>
</compilation> 
```

# python - Django - 关注点和身份验证分离

> ID：11590053
> 
> 赞同：0
> 
> 时间：2012-07-21T06:41:49.243
> 
> 标签：python, django, authentication, django-views, separation-of-concerns

我试图分离视图（控制器）的身份验证。在我看来，代码似乎并不在一个好地方。然后我得到了下面代码中显示的结果。这是错误的，我可以提高更多，还是担心这是愚蠢的？

**视图.py**

```
def sign_in(request):
    form = SignInForm(request.POST or None)
    if form.is_valid():
        login(request, form.user)
        return redirect('user/home/')
    context = {'sign_in_form' : form}
    context.update(csrf(request))
    return render_to_response('app_user/sign_in.html', context) 
```

**表格.py**

```
class SignInForm(forms.Form):
username = forms.CharField(required=True, max_length=30, label='Username')
password = forms.CharField(widget=forms.PasswordInput, max_length=30, label='Password')

user = None

def clean(self):
    data = self.cleaned_data
    if super(SignInForm, self).is_valid():
        user = authenticate(username=data.get('username'),password=data.get('password'))
        if user is None:
            raise forms.ValidationError("Wrong user or password")
        if not user.is_active:
            raise forms.ValidationError("User is disabled")
        self.user = user
    return data 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:32:58.547

我不明白你的代码有什么问题。你为什么说它错了？

除此之外，你为什么不喜欢使用 Auth 登录表单？查看 Auth 模块中的 AuthenticationForm ，它完全符合您的要求。

此外，您应该考虑在视图中传递请求上下文，这样您就不必手动传递 csrf。

# node.js - node.js + express 中的 split() 问题

> ID：11590066
> 
> 赞同：1
> 
> 时间：2012-07-21T06:45:09.583
> 
> 标签：node.js, express

当我尝试在节点中拆分字符串时，出现以下错误...

```
TypeError: Object #<Object> has no method 'split' 
```

这是我正在使用的拆分代码...

```
var query = req.query;

query.split(","); 
```

我正在使用 express 来创建我的服务器，它似乎正在寻找一个模块，但 .split() 不是 node.js 的标准方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T06:59:22.823

`req.query`根本不是字符串；它是一个对象，通过将查询字符串解析`req.url`为键值对来创建。因此它没有`split`方法，因为那仅适用于字符串。如果您需要查询字符串的文字文本（例如因为它实际上不是由键值对组成），请使用`url.parse(req.url).query`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T06:55:21.107

`req.query`不是字符串，它是表示查询字符串的对象：

```
// url: /something?id=1&key=value
req.query.id == 1
req.query.key == 'value' 
```

# ruby-on-rails - 反转字符串中的单词而不改变顺序以及Ruby中的空格数

> ID：11590070
> 
> 赞同：0
> 
> 时间：2012-07-21T06:46:07.010
> 
> 标签：ruby-on-rails, ruby, string, reverse

我想反转字符串中的所有单词，使得

1.  单词的顺序不应该改变
2.  单词中的空格数应保持不变

```
例如：-当我的字符串是“你好吗”时，它应该返回“woH erA uoY”
```

我尝试如下

```
def reverse_string(str)
  arr = str.split(" ")
  new_arr = arr.collect{|a| a.reverse}
  new_arr.join(" ")
end 
```

但它不适用于单词之间可能有多个空格的字符串。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T07:03:16.540

```
s = "How     Are  You"
s.gsub(/\w+/) { |match| match.reverse } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T10:42:39.780

这是最短的，也可能是最快的。字符串是正则表达式，所有连续的单词字符按顺序颠倒

```
s = "How     Are  You"
s.gsub(/\w+/,&:reverse) 

=>woH     erA  uoY 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T07:00:43.463

这行得通。使用正则表达式拆分 *任何单词边界字符*

```
def reverse_string str
  arr = str.split /\b/
  new_arr = arr.collect {|a| a.reverse}
  new_arr.join
end 
```

# php - Pycrc 和 PHP 代码的 CRC32 计算与预期结果不匹配

> ID：11590075
> 
> 赞同：3
> 
> 时间：2012-07-21T06:47:22.217
> 
> 标签：php, c++, python, c, crc32

我试图转换定义为 C/C++ 宏的 CRC32 算法

```
unsigned long sctp_crc_c[256] = {
0x00000000L, 0xF26B8303L, 0xE13B70F7L, 0x1350F3F4L,
0xC79A971FL, 0x35F1141CL, 0x26A1E7E8L, 0xD4CA64EBL,
0x8AD958CFL, 0x78B2DBCCL, 0x6BE22838L, 0x9989AB3BL,
0x4D43CFD0L, 0xBF284CD3L, 0xAC78BF27L, 0x5E133C24L,
0x105EC76FL, 0xE235446CL, 0xF165B798L, 0x030E349BL,
0xD7C45070L, 0x25AFD373L, 0x36FF2087L, 0xC494A384L,
0x9A879FA0L, 0x68EC1CA3L, 0x7BBCEF57L, 0x89D76C54L,
0x5D1D08BFL, 0xAF768BBCL, 0xBC267848L, 0x4E4DFB4BL,
0x20BD8EDEL, 0xD2D60DDDL, 0xC186FE29L, 0x33ED7D2AL,
0xE72719C1L, 0x154C9AC2L, 0x061C6936L, 0xF477EA35L,
0xAA64D611L, 0x580F5512L, 0x4B5FA6E6L, 0xB93425E5L,
0x6DFE410EL, 0x9F95C20DL, 0x8CC531F9L, 0x7EAEB2FAL,
0x30E349B1L, 0xC288CAB2L, 0xD1D83946L, 0x23B3BA45L,
0xF779DEAEL, 0x05125DADL, 0x1642AE59L, 0xE4292D5AL,
0xBA3A117EL, 0x4851927DL, 0x5B016189L, 0xA96AE28AL,
0x7DA08661L, 0x8FCB0562L, 0x9C9BF696L, 0x6EF07595L,
0x417B1DBCL, 0xB3109EBFL, 0xA0406D4BL, 0x522BEE48L,
0x86E18AA3L, 0x748A09A0L, 0x67DAFA54L, 0x95B17957L,
0xCBA24573L, 0x39C9C670L, 0x2A993584L, 0xD8F2B687L,
0x0C38D26CL, 0xFE53516FL, 0xED03A29BL, 0x1F682198L,
0x5125DAD3L, 0xA34E59D0L, 0xB01EAA24L, 0x42752927L,
0x96BF4DCCL, 0x64D4CECFL, 0x77843D3BL, 0x85EFBE38L,
0xDBFC821CL, 0x2997011FL, 0x3AC7F2EBL, 0xC8AC71E8L,
0x1C661503L, 0xEE0D9600L, 0xFD5D65F4L, 0x0F36E6F7L,
0x61C69362L, 0x93AD1061L, 0x80FDE395L, 0x72966096L,
0xA65C047DL, 0x5437877EL, 0x4767748AL, 0xB50CF789L,
0xEB1FCBADL, 0x197448AEL, 0x0A24BB5AL, 0xF84F3859L,
0x2C855CB2L, 0xDEEEDFB1L, 0xCDBE2C45L, 0x3FD5AF46L,
0x7198540DL, 0x83F3D70EL, 0x90A324FAL, 0x62C8A7F9L,
0xB602C312L, 0x44694011L, 0x5739B3E5L, 0xA55230E6L,
0xFB410CC2L, 0x092A8FC1L, 0x1A7A7C35L, 0xE811FF36L,
0x3CDB9BDDL, 0xCEB018DEL, 0xDDE0EB2AL, 0x2F8B6829L,
0x82F63B78L, 0x709DB87BL, 0x63CD4B8FL, 0x91A6C88CL,
0x456CAC67L, 0xB7072F64L, 0xA457DC90L, 0x563C5F93L,
0x082F63B7L, 0xFA44E0B4L, 0xE9141340L, 0x1B7F9043L,
0xCFB5F4A8L, 0x3DDE77ABL, 0x2E8E845FL, 0xDCE5075CL,
0x92A8FC17L, 0x60C37F14L, 0x73938CE0L, 0x81F80FE3L,
0x55326B08L, 0xA759E80BL, 0xB4091BFFL, 0x466298FCL,
0x1871A4D8L, 0xEA1A27DBL, 0xF94AD42FL, 0x0B21572CL,
0xDFEB33C7L, 0x2D80B0C4L, 0x3ED04330L, 0xCCBBC033L,
0xA24BB5A6L, 0x502036A5L, 0x4370C551L, 0xB11B4652L,
0x65D122B9L, 0x97BAA1BAL, 0x84EA524EL, 0x7681D14DL,
0x2892ED69L, 0xDAF96E6AL, 0xC9A99D9EL, 0x3BC21E9DL,
0xEF087A76L, 0x1D63F975L, 0x0E330A81L, 0xFC588982L,
0xB21572C9L, 0x407EF1CAL, 0x532E023EL, 0xA145813DL,
0x758FE5D6L, 0x87E466D5L, 0x94B49521L, 0x66DF1622L,
0x38CC2A06L, 0xCAA7A905L, 0xD9F75AF1L, 0x2B9CD9F2L,
0xFF56BD19L, 0x0D3D3E1AL, 0x1E6DCDEEL, 0xEC064EEDL,
0xC38D26C4L, 0x31E6A5C7L, 0x22B65633L, 0xD0DDD530L,
0x0417B1DBL, 0xF67C32D8L, 0xE52CC12CL, 0x1747422FL,
0x49547E0BL, 0xBB3FFD08L, 0xA86F0EFCL, 0x5A048DFFL,
0x8ECEE914L, 0x7CA56A17L, 0x6FF599E3L, 0x9D9E1AE0L,
0xD3D3E1ABL, 0x21B862A8L, 0x32E8915CL, 0xC083125FL,
0x144976B4L, 0xE622F5B7L, 0xF5720643L, 0x07198540L,
0x590AB964L, 0xAB613A67L, 0xB831C993L, 0x4A5A4A90L,
0x9E902E7BL, 0x6CFBAD78L, 0x7FAB5E8CL, 0x8DC0DD8FL,
0xE330A81AL, 0x115B2B19L, 0x020BD8EDL, 0xF0605BEEL,
0x24AA3F05L, 0xD6C1BC06L, 0xC5914FF2L, 0x37FACCF1L,
0x69E9F0D5L, 0x9B8273D6L, 0x88D28022L, 0x7AB90321L,
0xAE7367CAL, 0x5C18E4C9L, 0x4F48173DL, 0xBD23943EL,
0xF36E6F75L, 0x0105EC76L, 0x12551F82L, 0xE03E9C81L,
0x34F4F86AL, 0xC69F7B69L, 0xD5CF889DL, 0x27A40B9EL,
0x79B737BAL, 0x8BDCB4B9L, 0x988C474DL, 0x6AE7C44EL,
0xBE2DA0A5L, 0x4C4623A6L, 0x5F16D052L, 0xAD7D5351L,
};

#define SCTP_CRC32C(c, d) (c = ((c) >> 8) ^ sctp_crc_c[((c) ^ (d)) & 0xFF])

UINT32 CRC32_F_calc(UINT32 crc32, unsigned char *buffer, unsigned int length)
{
    unsigned int i;

    for (i = 0; i < length; i++)
    {
       SCTP_CRC32C(crc32, buffer[i]);
    }

    return (crc32);
} 
```

进入 PHP 代码（[已经问过一次](https://stackoverflow.com/questions/11413594/crc32-from-c-c-to-php)），我无法得到与 C++ 相同的结果输出。输入（128 字节二进制）显示为十六进制字符串：

> CC9F786E57B408F83EE907D32D1D7FA6F180632E1CBE97AE717B2CD964EBB5E71E97B49619E8CD7A94DA0CDD06083D169618017FB8A1722F21FFD609EA655665F8881B05AFE0B282B186E0B8A4A5C26727778EC6639592776E392996430D47143F740E541E3755B1627ECD31C1B98A7C3D010AE273D6900263F6A49600000000

并且预期的十六进制 CRC32 是**956E04C6**。即使它的顺序相反也没关系，但我必须产生那个确切的值。

该算法以块的形式计算代码，唯一的另一个必须是起始**crc32 = 7**，即函数**CRC32_F_calc**的初始 CRC 值，缓冲区的字节（显示为十六进制字符串）实际上是 128 长。

我能得到的甚至还没有接近，所以我检查了[pycrc](http://www.tty1.net/pycrc/pycrc.html)程序，但也无法让它工作。这是发生的事情：

命令（[crc-32c](http://www.tty1.net/pycrc/crc-models_en.html#crc-32c)和 xor-in 的参数更改为 0x7）

```
 ./pycrc.py --check-hexstring CC...<same string as above>...9600000000 --verbose --width 32 --poly 0x1edc6f41 --reflect-in True --xor-in 0x7 --reflect-out True --xor-out 0xffffffff --algorithm table-driven 
```

输出

```
Width        = 32
Poly         = 0x1edc6f41
ReflectIn    = True
XorIn        = 0x00000007
ReflectOut   = True
XorOut       = 0xffffffff
Algorithm    = table-driven

0xab2c9624 
```

我不知道我错过了什么。我几乎没有时间来实现它（几个小时），所以如果我可以从 PHP 应用程序调用它，即使是 python 程序（具有正确的参数）也很好。

到目前为止，我得到的 PHP 代码是：

```
function hex2str($hex)
{
    $string = '';
    $length = strlen($hex);
    for ($i = 0; $i < $length - 1; $i += 2)
    {
        $string .= chr(hexdec($hex[$i] . $hex[$i + 1]));
    }
    return $string;
}

function str2hex($string)
{
    $hex = '';
    $length = strlen($string);
    for ($i = 0; $i < $length; $i++)
    {
        $hex .= dechex(ord($string[$i]));
    }
    return strtoupper($hex);
}

function crc32c($string = '', $hex = false)
{

    $crc_array = array(0x00000000, 0xF26B8303, 0xE13B70F7, 0x1350F3F4, 0xC79A971F, 0x35F1141C, 0x26A1E7E8, 0xD4CA64EB, 0x8AD958CF, 0x78B2DBCC, 0x6BE22838, 0x9989AB3B, 0x4D43CFD0, 0xBF284CD3, 0xAC78BF27, 0x5E133C24, 0x105EC76F, 0xE235446C, 0xF165B798, 0x030E349B, 0xD7C45070, 0x25AFD373, 0x36FF2087, 0xC494A384, 0x9A879FA0, 0x68EC1CA3, 0x7BBCEF57, 0x89D76C54, 0x5D1D08BF, 0xAF768BBC, 0xBC267848, 0x4E4DFB4B, 0x20BD8EDE, 0xD2D60DDD, 0xC186FE29, 0x33ED7D2A, 0xE72719C1, 0x154C9AC2, 0x061C6936, 0xF477EA35, 0xAA64D611, 0x580F5512, 0x4B5FA6E6, 0xB93425E5, 0x6DFE410E, 0x9F95C20D, 0x8CC531F9, 0x7EAEB2FA, 0x30E349B1, 0xC288CAB2, 0xD1D83946, 0x23B3BA45, 0xF779DEAE, 0x05125DAD, 0x1642AE59, 0xE4292D5A, 0xBA3A117E, 0x4851927D, 0x5B016189, 0xA96AE28A, 0x7DA08661, 0x8FCB0562, 0x9C9BF696, 0x6EF07595, 0x417B1DBC, 0xB3109EBF, 0xA0406D4B, 0x522BEE48, 0x86E18AA3, 0x748A09A0, 0x67DAFA54, 0x95B17957, 0xCBA24573, 0x39C9C670, 0x2A993584, 0xD8F2B687, 0x0C38D26C, 0xFE53516F, 0xED03A29B, 0x1F682198, 0x5125DAD3, 0xA34E59D0, 0xB01EAA24, 0x42752927, 0x96BF4DCC, 0x64D4CECF, 0x77843D3B, 0x85EFBE38, 0xDBFC821C, 0x2997011F, 0x3AC7F2EB, 0xC8AC71E8, 0x1C661503, 0xEE0D9600, 0xFD5D65F4, 0x0F36E6F7, 0x61C69362, 0x93AD1061, 0x80FDE395, 0x72966096, 0xA65C047D, 0x5437877E, 0x4767748A, 0xB50CF789, 0xEB1FCBAD, 0x197448AE, 0x0A24BB5A, 0xF84F3859, 0x2C855CB2, 0xDEEEDFB1, 0xCDBE2C45, 0x3FD5AF46, 0x7198540D, 0x83F3D70E, 0x90A324FA, 0x62C8A7F9, 0xB602C312, 0x44694011, 0x5739B3E5, 0xA55230E6, 0xFB410CC2, 0x092A8FC1, 0x1A7A7C35, 0xE811FF36, 0x3CDB9BDD, 0xCEB018DE, 0xDDE0EB2A, 0x2F8B6829, 0x82F63B78, 0x709DB87B, 0x63CD4B8F, 0x91A6C88C, 0x456CAC67, 0xB7072F64, 0xA457DC90, 0x563C5F93, 0x082F63B7, 0xFA44E0B4, 0xE9141340, 0x1B7F9043, 0xCFB5F4A8, 0x3DDE77AB, 0x2E8E845F, 0xDCE5075C, 0x92A8FC17, 0x60C37F14, 0x73938CE0, 0x81F80FE3, 0x55326B08, 0xA759E80B, 0xB4091BFF, 0x466298FC, 0x1871A4D8, 0xEA1A27DB, 0xF94AD42F, 0x0B21572C, 0xDFEB33C7, 0x2D80B0C4, 0x3ED04330, 0xCCBBC033, 0xA24BB5A6, 0x502036A5, 0x4370C551, 0xB11B4652, 0x65D122B9, 0x97BAA1BA, 0x84EA524E, 0x7681D14D, 0x2892ED69, 0xDAF96E6A, 0xC9A99D9E, 0x3BC21E9D, 0xEF087A76, 0x1D63F975, 0x0E330A81, 0xFC588982, 0xB21572C9, 0x407EF1CA, 0x532E023E, 0xA145813D, 0x758FE5D6, 0x87E466D5, 0x94B49521, 0x66DF1622, 0x38CC2A06, 0xCAA7A905, 0xD9F75AF1, 0x2B9CD9F2, 0xFF56BD19, 0x0D3D3E1A, 0x1E6DCDEE, 0xEC064EED, 0xC38D26C4, 0x31E6A5C7, 0x22B65633, 0xD0DDD530, 0x0417B1DB, 0xF67C32D8, 0xE52CC12C, 0x1747422F, 0x49547E0B, 0xBB3FFD08, 0xA86F0EFC, 0x5A048DFF, 0x8ECEE914, 0x7CA56A17, 0x6FF599E3, 0x9D9E1AE0, 0xD3D3E1AB, 0x21B862A8, 0x32E8915C, 0xC083125F, 0x144976B4, 0xE622F5B7, 0xF5720643, 0x07198540, 0x590AB964, 0xAB613A67, 0xB831C993, 0x4A5A4A90, 0x9E902E7B, 0x6CFBAD78, 0x7FAB5E8C, 0x8DC0DD8F, 0xE330A81A, 0x115B2B19, 0x020BD8ED, 0xF0605BEE, 0x24AA3F05, 0xD6C1BC06, 0xC5914FF2, 0x37FACCF1, 0x69E9F0D5, 0x9B8273D6, 0x88D28022, 0x7AB90321, 0xAE7367CA, 0x5C18E4C9, 0x4F48173D, 0xBD23943E, 0xF36E6F75, 0x0105EC76, 0x12551F82, 0xE03E9C81, 0x34F4F86A, 0xC69F7B69, 0xD5CF889D, 0x27A40B9E, 0x79B737BA, 0x8BDCB4B9, 0x988C474D, 0x6AE7C44E, 0xBE2DA0A5, 0x4C4623A6, 0x5F16D052, 0xAD7D5351, );
    $crc_array_hex = array_map('dechex', $crc_array);
    echo "\ncrc_array: " . implode(', ', $crc_array_hex) . "\n";

    if ($hex)
    {
        $string = hex2str($string);
    }

    $length = strlen($string);
    $crc32 = 7;
    echo "\nlength of string: $length, starting crc32: $crc32\n\n";
    echo "step\tdata\tindex\tcrc32\n";

    for ($i = 0; $i < $length; $i++)
    {
        $data = (int)ord($string[$i]);
        $index = 0xFF & (int)($crc32 ^ $data);
        $crc32 = (int)($crc32>>8) ^ $crc_array[$index];
        echo "$i\t$data\t$index\t" . dechex($crc32) . "\n";
    }

    return $crc32;

}

echo "<pre>\n";
$hex_string = 'CC9F786E57B408F83EE907D32D1D7FA6F180632E1CBE97AE717B2CD964EBB5E71E97B49619E8CD7A94DA0CDD06083D169618017FB8A1722F21FFD609EA655665F8881B05AFE0B282B186E0B8A4A5C26727778EC6639592776E392996430D47143F740E541E3755B1627ECD31C1B98A7C3D010AE273D6900263F6A49600000000';
echo "\nresult: " . dechex(crc32c($hex_string, true));
echo "\nexpected: 956E04C6 or C6046E95\n\n"; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T16:11:33.260

提供的 C 代码会产生您期望的答案，即 0xc6046e95。当以 little-endian 顺序写出时，这可能就是您所看到的，结果是 95 6e 04 c6。

只需将该代码从 C 转换为 php，它就会产生相同的答案。php 具有执行相同操作的 32 位整数和位运算符。

您需要注意有符号整数和无符号整数之间的区别。当向下移动一个无符号整数时，如在 C 代码中，它将在顶部用零填充。当向下移动一个有符号整数时，这是 php 所拥有的，顶部将用符号位填充，即开始时的最高位。因此，要模拟无符号行为，您需要“和”出这些位：

```
unsigned int c;
(c) >> 8 
```

变成：

```
int c;
((c) >> 8) & 0xffffff 
```

做同样的事情。所以你的php代码需要阅读：

```
$crc32 = ((int)($crc32>>8) & 0xffffff) ^ $crc_array[$index]; 
```

# objective-c - 将基本登录屏幕添加到 Mac 应用程序

> ID：11590077
> 
> 赞同：0
> 
> 时间：2012-07-21T06:47:41.570
> 
> 标签：objective-c, xcode, macos, nsstring, nstextfield

我对 Mac 应用程序构建真的很陌生，我正在尝试一些不同的技术。我试图弄清楚如何将基本登录（用户名和密码）屏幕放入我的应用程序。在我的方法中，我目前有这个，尝试使用 if else 语句（设置的背景颜色只是打开下一个窗口的临时替代品）。

```
- (IBAction)loginb:(id)sender {
if (m_username == [@"haseo98" NSString]){
    [_window setBackgroundColor:[NSColor redColor]];
}
 else [_window setBackgroundColor:[NSColor blackColor]];
} 
```

我认为主要问题在于这一行：

```
 if (m_username == [@"haseo98" NSString]){ 
```

如何让 XCode 读取 NSTextfield 中的内容并将其与“haseo98”进行比较？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:06:43.533

`NSTextField`是 a `NSControl`，因此您可以使用[`-stringValue`](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSControl_Class/Reference/Reference.html#//apple_ref/doc/uid/20000073-BAJEBFBE)来获取文本内容：

```
NSString *name = [usernameTextfield stringValue]; 
```

要比较字符串，请使用[`-isEqualToString:`](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/uid/20000154-isEqualToString_)：

```
if ([name isEqualToString:@"haseo98"]){ 
```

请注意，比较字符串 using`==` [通常不会满足您的要求](https://stackoverflow.com/a/881377/168225)，并且字符串文字 ( `@"text"`) 已经是`NSString`实例。

# entity-framework-4.1 - EntityFramework : 检查 Integer 关系是否为空

> ID：11590079
> 
> 赞同：1
> 
> 时间：2012-07-21T06:47:57.240
> 
> 标签：entity-framework-4.1, mapping

我必须得到一些树的根，但是 EF 查询：

```
SomeTree.Where(t => t.ParentID == null); 
```

或动态 linq 查询：

```
SomeTree.Where("ParentID== null"); 
```

返回`sql`查询：

```
SELECT 
CAST(NULL AS int) AS [C1], 
CAST(NULL AS int) AS [C2], 
CAST(NULL AS varchar(1)) AS [C3]
FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]
WHERE 1 = 0 
```

为什么它不返回根？

映射：

```
 HasKey(c => c.ID);
            Property(c => c.ID).HasColumnName("ACTID").HasColumnType("int").HasDatabaseGeneratedOption(DatabaseGeneratedOption.Identity).IsRequired();
            Property(c => c.Title).HasColumnName("ACTName").HasColumnType("nvarchar").HasMaxLength(100).IsUnicode(true).IsVariableLength().IsRequired();
            Property(c => c.ParentID).HasColumnName("ACTActKindID").HasColumnType("int").IsOptional();            
            HasMany(c => c.Children).WithRequired(c => c.Parent).HasForeignKey(c => c.ParentID); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:03:33.383

```
WHERE 1 = 0 
```

看起来很糟糕，（IE这永远不会回来）

我猜您数据库中的 parentID 列不可为空

# python - sqlite 时区现在

> ID：11590082
> 
> 赞同：1
> 
> 时间：2012-07-21T06:48:35.803
> 
> 标签：python, sqlite, timezone, dst

我正在使用 python 和 sqlite3 来处理一个网站。我需要所有时区都在本地时间，并且我需要考虑夏令时。理想的方法是使用 sqlite 将全局 datetime('now') 设置为 +10 小时。

如果我可以弄清楚如何使用命令更改 sqlite 的“现在”，那么我将使用 cronjob 来调整它（如果有人有的话，我很乐意使用更简单的方法，但 cronjob 并不太难）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T12:00:40.837

我不是 100% 了解您的要求，但为了简单起见，我会说将您的日期存储在 UTC 中，并在需要时将它们显示为当地时间：

```
sqlite> select datetime('now', 'utc');
2012-07-21 09:58:21
sqlite> select datetime('now', 'localtime');
2012-07-21 13:58:33 
```

请参阅 SQLite 的[日期和时间函数文档](http://www.sqlite.org/lang_datefunc.html)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-01-09T07:50:28.647

你可以试试这个代码，我在台湾，所以我加了8个小时：

`DateTime('now','+8 hours')`

# python - 在 Flask 的 HTML 文件中调用 python 函数

> ID：11590084
> 
> 赞同：3
> 
> 时间：2012-07-21T06:48:56.980
> 
> 标签：python, html, flask

我的 python 文件中有一个文件夹列表，在一个 HTML 文件中，我遍历列表以显示页面上每个文件夹的名称。

```
{% for folder in folders %}
<li><a href = {{folder}}> {{folder}}</a></li>
{% endfor %} 
```

我想要做的是，当你点击文件夹时，它会做同样的事情，但在点击的文件夹内。我有一个带有`open_folder`一个参数（单击的文件夹名称）的函数，但我的问题是我真的不知道如何使用 HTML 文件中的参数调用该函数。我见过的很多页面或教程只有 python 文件。在我的主文件中，我也有路线

```
/<route>/ 
```

我是 Flask 的新手，只是想知道是否有人有如何做到这一点的例子。将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T17:23:28.837

假设`folder`您希望将其内容作为自己的页面动态返回，那么执行此操作的适当方法是拥有一个单独的路由和处理文件夹的视图。类似于以下内容：

```
@app.route("/folder/<folder_name>/")
def folder(folder_name):
    # do something with folder_name
    pass 
```

在您的 HTML 中，您将链接到它，如下所示：

```
<a href="{% url_for('folder', folder_name=folder) %}">{{ folder }}</a> 
```

显然，您希望根据 的内容相应地更新路线`folder`，但这是链接到动态内容的“Flask 方式”。

# java - 运行 GWT 应用程序时出现 Unitcahche 异常

> ID：11590085
> 
> 赞同：2
> 
> 时间：2012-07-21T06:49:01.033
> 
> 标签：java, eclipse, gwt, caching

在 Eclipse 中运行 GWT 应用程序时出现 unitcache 异常。

我不明白为什么会这样......我还从war文件夹中删除了缓存文件和部署文件夹并编译了应用程序，但它没有工作......

我还重新启动了 Eclipse IDE 并尝试了，但结果相同，它停止到“loadCompleteLatch.countDown();” 来自 PersistentUnitCache.java 文件的行...

以下是我得到的例外：

```
Exception in thread "UnitCacheLoader" java.lang.RuntimeException: Unable to read from byte cache
    at com.google.gwt.dev.util.DiskCache.transferFromStream(DiskCache.java:166)
    at com.google.gwt.dev.util.DiskCacheToken.readObject(DiskCacheToken.java:87)
    at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1004)
    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1866)
    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1771)
    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1347)
    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1964)
    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1888)
    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1771)
    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1347)
    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:369)
    at com.google.gwt.dev.javac.PersistentUnitCache.loadUnitMap(PersistentUnitCache.java:493)
    at com.google.gwt.dev.javac.PersistentUnitCache.access$000(PersistentUnitCache.java:92)
    at com.google.gwt.dev.javac.PersistentUnitCache$UnitCacheMapLoader.run(PersistentUnitCache.java:122)
Caused by: java.io.StreamCorruptedException: unexpected EOF in middle of data block
    at java.io.ObjectInputStream$BlockDataInputStream.refill(ObjectInputStream.java:2512)
    at java.io.ObjectInputStream$BlockDataInputStream.read(ObjectInputStream.java:2675)
    at java.io.ObjectInputStream.read(ObjectInputStream.java:862)
    at java.io.InputStream.read(InputStream.java:101)
    at com.google.gwt.dev.util.DiskCache.transferFromStream(DiskCache.java:154)
    ... 16 more 
```

如果有人知道解决方案，请告诉我...在此先感谢...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T07:28:59.737

得到了解决方案.....我刚刚从我的项目文件夹中删除了gwt-unitCache文件夹，[这是](https://stackoverflow.com/questions/8521475/exception-in-gwt-rpc-app)[enterprize](https://stackoverflow.com/users/701854/enterprize)建议的解决方案......

感谢他

# matlab - gfortran 生成随机数的速度是否比 MATLAB 慢？

> ID：11590086
> 
> 赞同：0
> 
> 时间：2012-07-21T06:49:06.127
> 
> 标签：matlab, random, fortran, gfortran

我是 Fortran 的第一次用户，我正在通过采样随机数（抑制输出）对 Fortran 与 Matlab 的基本性能进行比较。使用 MWE，在 Fortran（.f95 文件）中：

```
program main
  real(4) :: r
  integer i
  do i = 1,50000000
    call random_number(r)
  enddo
end program main 
```

在 MATLAB（.m 文件）中：

```
for i = 1:50000000
  rand();
end 
```

当我使用 gfortran (v4.5.3) 编译 Fortran 代码时，可执行文件的运行速度比 MATLAB (r2011b) 代码慢约 3 倍。就目前而言，这是预期的结果吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T09:49:35.480

正如 IanH 指出的那样，您实际上是在比较单精度和双精度。如果我将您的 Fortran 代码更改为双精度，我会额外减速约 2 倍。

速度差异的原因可能是 Matlab 和 gfortran 使用不同算法的不同实现：Matlab 使用 Mersenne twister PRNG，而 gfortran 使用 George Marsaglia 的 KISS PRNG。

# android - 如何将 android 应用程序作为库添加到另一个 android 应用程序？

> ID：11590094
> 
> 赞同：0
> 
> 时间：2012-07-21T06:50:52.090
> 
> 标签：android

我创建了一个简单的应用程序。在这里我想在我当前的应用程序中使用已经创建的应用程序（名称：mainLabProject）。所以我将 mainLabProject 设为 library.goto `project explorer`->右键单击`project Name`-> 选择`Properties`-> 选择`android`然后 -> 选择`isLibrary`单击`true`并创建库。

之后，我在我当前的应用程序中添加了这个库（名称 UseLabProject）。所以遵循与 baove 相同的路径，然后单击`add`按钮并将 mainLabProject 作为库添加到我当前的应用程序中。

还可以在我当前应用的 maniFest 文件中应用权限 Like。

**`<uses-library android:name="info.main" android:required="true" />`**

但是当我运行这个应用程序时，conesole 中会出现这种类型的错误

```
2012-07-21 12:18:05 - UseLabProject] Installation error: INSTALL_FAILED_MISSING_SHARED_LIBRARY
[2012-07-21 12:18:05 - UseLabProject] Please check logcat output for more details.
[2012-07-21 12:18:05 - UseLabProject] Launch canceled! 
```

和 Logcat 中的这种类型错误

```
07-21 12:18:04.172: ERROR/PackageManager(63): Package info.use requires unavailable shared library info.main.MainLabProject; failing! 
```

所以现在我如何解决这个问题。

我从清单文件中删除了权限，然后得到了这种类型的异常

```
07-21 12:56:23.885: E/AndroidRuntime(4663): java.lang.RuntimeException: Unable to start activity ComponentInfo{info.use/info.use.UseLabProject}: android.content.ActivityNotFoundException: Unable to find explicit activity class {info.use/info.main.MainLabProject}; have you declared this activity in your AndroidManifest.xml? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T06:56:48.520

您不需要`<uses-library android:name="info.main" android:required="true" />`在清单中使用。删除它并尝试，如果没有帮助尝试清理你的库和项目。

# iphone - iOS 帮助：如何使用相机拍照并保存在 iPhone 上？

> ID：11590095
> 
> 赞同：1
> 
> 时间：2012-07-21T06:50:56.933
> 
> 标签：iphone, objective-c, ios, ios5, ios4

我是`iPhone`开发新手。我需要制作一个应用程序，用户可以在其中拍照，然后将其保存在 iPhone 上，而且我必须使用`SQLite`数据库来存储图像并稍后显示它。

任何人都可以帮助我提供示例代码和程序说明吗？

编辑：我制作了一个使用 UIImageView 拍照的按钮，但我不确定它是否有效，因为我没有 iPhone：

```
if ([UIImagePickerController isSourceTypeAvailable:
     UIImagePickerControllerSourceTypeCamera])
{
    UIImagePickerController *imagePicker = [[UIImagePickerController alloc] init];
    imagePicker.delegate = self;
    imagePicker.sourceType = 
    UIImagePickerControllerSourceTypeCamera;
    imagePicker.mediaTypes = [NSArray arrayWithObjects:(NSString *) kUTTypeImage,nil];
    imagePicker.allowsEditing = NO;
    [self presentModalViewController:imagePicker animated:YES];
    imagePicker = nil;
    newMedia = YES;
} 
```

以上代码使用前置摄像头

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-21T06:58:49.033

您可以使用`UIImagePickerController`类拍照..您可以使用以下方法捕获图像并存储它..

```
UIImagePickerController * picker = [[UIImagePickerController alloc] init];
picker.delegate = self;
picker.sourceType = UIImagePickerControllerSourceTypeCamera;

- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {
    //put code for store image
 } 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-21T07:07:30.530

您可以使用苹果开发者库中提供的示例

看这些例子

*   [AV摄像头](https://developer.apple.com/library/ios/samplecode/AVCam/Introduction/Intro.html#//apple_ref/doc/uid/DTS40010112)
*   [方形相机](https://developer.apple.com/library/ios/samplecode/SquareCam/Introduction/Intro.html#//apple_ref/doc/uid/DTS40011190)

还有更多的参考资料可供使用。

快乐编码:)

# java - 使用递归的手机文本预测（Java）

> ID：11590097
> 
> 赞同：0
> 
> 时间：2012-07-21T06:51:06.613
> 
> 标签：java, text, recursion, prediction

我在学校的 Java 作业上遇到了一些麻烦。我们需要编写一个程序来进行某些手机使用的 T9 Word 文本预测。它应该接受用户输入的数字，找到与这些数字对应的每个可能的字母组合，在字典中搜索每个可能的组合，并显示在字典中找到的组合。这个程序的大部分内容都是教授为我们编写的，我只需要填写进行可能性组合的 predictText 方法。它通过调用另一种使用递归二进制搜索的方法进行搜索，虽然我很确定我的搜索方法运行良好，但我也必须自己填写。这是我的 predictText 方法，其中参数“letter”是当前正在处理的字母，

```
 public static void predictText(String letter, String input, ArrayList<String> wordMatches) 
  {    
    String[] two = new String[] {"a", "b", "c"};
    String[] three = new String[] {"d", "e", "f"};
    String[] four = new String[] {"g", "h", "i"};
    String[] five = new String[] {"j", "k", "l"};
    String[] six = new String[] {"m", "n", "o"};
    String[] seven = new String[] {"p", "q", "r", "s"};
    String[] eight = new String[] {"t", "u", "v"};
    String[] nine = new String[] {"w", "x", "y", "z"};
    char firstDigit;
    String finalWord = "";

    finalWord += letter;

    if (input.equals(""))
    {
      int lookup = search(finalWord.trim());
      if (lookup != -1)
      {
        wordMatches.add(allWords[lookup]);
      }
    }

    else
    {      
      firstDigit = input.charAt(0);
      input = input.substring(1);

      if (firstDigit == '2')
      {
        for (int i = 0; i < two.length; i++)
        {
          letter = two[i];
          predictText(letter, input, wordMatches);
        }

      }
      else if (firstDigit == '3')
      {
        for (int i = 0; i < three.length; i++)
        {
          letter = three[i];
          predictText(letter, input, wordMatches);
        }

      }
      // And so forth, up to 9
    }
  } 
```

我得到的结果是它只显示单个字母，它似乎没有将字母组合成单词并在字典中搜索那些完整的单词。以防万一需要进一步解释，这里是分配说明：

“您将从输入字符串中取出第一个数字，然后再次调用 predictText，对于第一个数字可以表示的每个可能的字母一次，将字母添加到变量单词中，并从输入中删除第一个数字。例如, 如果第一次进入 predictText 单词为空且输入为“4663”，您将递归调用 predictText 3 次： • 单词为“g”，输入为“663”， • 单词为“h”，输入为“663” ”, • 单词为“i”，输入为“663” 该过程将重复，并且您将继续构建单词（因此对于单词为“g”且下一个数字为6，您将递归调用“gm ”、“gn”和“go”，输入为“63”）一旦没有更多的输入需要递归处理，你就达到了一个基本情况，然后调用搜索方法来查看你生成的单词是否存在于字典。如果是的话，将其添加到 wordMatches 列表中。”

编辑：我还认为我应该包括我的搜索方法代码，以防万一它确实导致了我的问题。

```
public static int search(String key) 
  {
    return search(allWords, key, 0, allWords.length-1);
  }

  public static int search(String[] dictionary, String key, int start, int end) 
  {
    int middle = start + ((end - start) / 2);
    int index = -1;

    if (start > end)
    {
      index = -1;
    }
    else if (key.compareToIgnoreCase(dictionary[middle]) == 0)
    {
      index = middle;
    }
    else if (key.compareToIgnoreCase(dictionary[middle]) < 0)
    {
      index = search(dictionary, key, start, middle - 1);
    }
    else
    {
      index = search(dictionary, key, middle + 1, end);
    }

    return index;
  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T14:25:10.057

您正在寻找只有一个字母的单词：

```
String finalWord = "";

finalWord += letter; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-09T10:57:22.120

附加到 a`String`中，你只是为了一个字母单词。如果它独特的尝试`StringBuffer`

# mysql - 获取错误 #1111 - 组函数的使用无效

> ID：11590100
> 
> 赞同：1
> 
> 时间：2012-07-21T06:51:30.683
> 
> 标签：mysql, group-by, mysql-error-1111

我对这个查询有疑问

```
SELECT SUM(ROUND( SUM( note=3 ) / count( note=3 ) )) AS AVG, sma_famille.famille
                FROM sma_notes, sma_famille, sma_agents, sma_service_activite
                WHERE sma_famille.id_famille >=14
                AND sma_famille.id_service =9
                AND sma_notes.id_agent >=7
                GROUP BY sma_famille.id_famille 
```

我收到错误消息

```
#1111 - Invalid use of group function 
```

如果有人有这种查询的经验。

这里查询的一些细节：

我像这样在没有第一个 SUM 的情况下进行查询（这是整个查询代码）

```
 SELECT ROUND( SUM( note =3 ) / count( note =3 ) ) AS AVG, sma_famille.famille, sma_notes.id_agent
    FROM sma_notes, sma_famille, sma_agents, sma_service_activite
    WHERE sma_famille.id_famille >=14
    AND sma_famille.id_service =9
    AND sma_notes.id_agent >=7
    AND sma_notes.id_agent = sma_agents.id_agent
    AND sma_service_activite.id_activite = sma_notes.id_activite
    AND sma_service_activite.id_famille = sma_famille.id_famille
    GROUP BY sma_famille.id_famille, sma_notes.id_agent 
```

比我得到的结果如下：

```
 AVG | famille   | id_agent  
    3   |BEL        | 7 
    2   |BEL        | 8 
    1   |BEL        | 9 
    1   |CEL        | 7 
    2   |CEL        | 8 
    1   |CEL        | 9 
```

但是我的查询谁不起作用：

```
SELECT SUM(ROUND( SUM( note=3 ) / count( note=3 ) )) AS AVG, sma_famille.famille
    FROM sma_notes, sma_famille, sma_agents, sma_service_activite
        WHERE sma_famille.id_famille >=14
        AND sma_famille.id_service =9
        AND sma_notes.id_agent >=7
        AND sma_notes.id_agent = sma_agents.id_agent
        AND sma_service_activite.id_activite = sma_notes.id_activite
        AND sma_service_activite.id_famille = sma_famille.id_famille
        GROUP BY sma_famille.id_famille 
```

我想得到这个结果：

```
 AVG | famille
    6   |BEL    
    4   |CEL 
```

提前致谢

跟腱

干杯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T07:33:12.633

您应该使用`HAVING`子句而不是`WHERE`.

见下文。

考虑我有一个`Address`列为`City`&的表格`State`。

**`HAVING`用于在聚合发生后检查条件。**

**`WHERE`在聚合发生之前使用。**

这段代码：

```
select City, CNT=Count(1)
From Address
Where State = 'MA'
Group By City 
```

为您提供马萨诸塞州所有城市的计数。

这段代码：

```
select City, CNT=Count(1)
From Address
Where State = 'MA'
Group By City
Having Count(1)>5 
```

为您提供 MA 中出现 6 次或更多次的所有城市的计数。

另请阅读

[`Definition, Comparison and Difference between HAVING and WHERE Clause`](http://blog.sqlauthority.com/2007/07/04/sql-server-definition-comparison-and-difference-between-having-and-where-clause/)

[`Where Vs Having`](http://www.codeproject.com/Articles/25258/Where-Vs-Having-Difference-between-having-and-Wher).

# c# - 为什么单击向导中的已完成按钮时，邮件功能会出现此错误？

> ID：11590102
> 
> 赞同：0
> 
> 时间：2012-07-21T06:51:41.683
> 
> 标签：c#, asp.net, sql-server-2008-r2

我使用 ASP.NET 向导控件将新闻用户添加到我开发的基于 Web 的应用程序中。一切正常。现在，我从系统管理员那里得到了一个新要求，它正在向新用户发送电子邮件通知，告诉他他已被添加到系统中。我将邮件功能添加到我的代码中并且它可以工作，但是在 IE 浏览器中我注意到左下角的错误图标，我不知道为什么。

```
Problems with the Web page might prevent it from being displayed properly or functioning properly....
Line: 74
Char: 7
Error: Object Expected
Code: 0 
```

**那么如何消除这个错误呢？**

**带有邮件功能的代码隐藏：**

```
 protected void Wizard1_FinishButtonClick(object sender, WizardNavigationEventArgs e)
    {
        //If one of the items is selected AND a username exists in the Username session object update the user role
        string username = TextBox1.Text;

        if (!String.IsNullOrEmpty(radio1.SelectedValue) && !String.IsNullOrEmpty(username))
        {
            string connString = "Data Source=localhost;Initial Catalog=TestDB;Integrated Security=True";

            string insertUserCommand = "INSERT INTO employee (Name, Username, JobTitle, BadgeNo, EmpOrgType, DivisionCode) values (@Name, @Username, @JobTitle, @BadgeNo, @EmpOrgType, @DivisionCode)";
            string cmdText = "SELECT Count(*) FROM employee WHERE Username = '" + username + "'";
            using (SqlConnection conn = new SqlConnection(connString))
            {
                conn.Open();
                // Open DB connection.
                using (SqlCommand cmd = new SqlCommand(cmdText, conn))
                {
                    if ((int)cmd.ExecuteScalar() == 0){
                        .........................................
                    }

                }
            }

            //For updating the role of the user 
            string deleteCommand = "DELETE FROM UserRole where Username=@Username";
            string insertCommand = "INSERT INTO UserRole (RoleID,Username) values(@RoleID,@Username)";
            using (SqlConnection conn = new SqlConnection(connString))
            {
                conn.Open();
                //using (SqlCommand cmd = new SqlCommand(cmdText, conn))
                using (SqlCommand cmd = new SqlCommand(deleteCommand, conn))
                {
                    cmd.Parameters.AddWithValue("@Username", username);
                    cmd.ExecuteNonQuery();
                    //Now the insert
                    cmd.CommandText = insertCommand;
                    cmd.Parameters.Clear(); //need this because still has params from del comm
                    cmd.Parameters.AddWithValue("@RoleID", radio1.SelectedValue);
                    cmd.Parameters.AddWithValue("@Username", username);
                    cmd.ExecuteNonQuery();
                    //infoSpan.InnerText = String.Format("The users role has been updated to - {0}", radio1.SelectedValue);
                    //cmd.ExecuteScalar();
                    //infoSpan.InnerText = String.Format("The users role has been updated to - {0}", radio1.SelectedValue);
                }
            }

            Wizard1.Visible = false;
            wizard.InnerHtml = "...............";
        }

        Send(username);

    }
/*****************************************************/

    /*For sending an email */
    protected void Send(string toAddresses, string fromAddress, string MailSubject, string MessageBody, bool isBodyHtml)
    {
        SmtpClient sc = new SmtpClient("MailAddress");
        try
        {
            MailMessage msg = new MailMessage();
            msg.From = new MailAddress("test@mailAddress.com", "Test Sys.");

            msg.Bcc.Add(toAddresses);
            msg.Subject = MailSubject;
            msg.Body = MessageBody;
            msg.IsBodyHtml = isBodyHtml;
            sc.Send(msg);
        }
        catch (Exception ex)
        {
            throw ex;
        }

    }

    protected void SendEmailToUser(string username)
    {
        string connString = "Data Source=localhost;Initial Catalog=TestDB;Integrated Security=True";

        string networkID = username.ToString();

        using (SqlConnection conn = new SqlConnection(connString))
        {
            var sbEmailAddresses = new System.Text.StringBuilder(2000);

            //initiate the varibles that will be retreived from the database
            string name = null;

            // Open DB connection.
            conn.Open();

            string cmdText2 = @"SELECT     Name
                                FROM       dbo.employee
                                WHERE     (Username = @networkID)";
            using (SqlCommand cmd = new SqlCommand(cmdText2, conn))
            {
                cmd.Parameters.AddWithValue("@networkID", networkID);
                SqlDataReader reader = cmd.ExecuteReader();
                if (reader != null)
                {
                    if (reader.Read())
                    {
                        name = reader["Name"].ToString();
                        sbEmailAddresses.Append(username).Append("@mailAddress.com");
                    }
                }

                //var sEMailAddresses = sbEmailAddresses.ToString();
                string body = "..........................";
                Send(sbEmailAddresses.ToString(), "", "Welcome", body, true);
                sbEmailAddresses.Clear();

            }

            conn.Close();
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:00:49.683

# php - 您的 SQL 语法有错误；查看

> ID：11590103
> 
> 赞同：0
> 
> 时间：2012-07-21T06:52:09.553
> 
> 标签：php, mysql

我不断收到此错误：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 'WHERE username = 'username' VALUES ('value')' 附近使用正确的语法。代码应该采用登录用户输入的值表单，然后将该值插入到表的货币列中。

```
 <?php include("auth.php");?>

 <?php

 if(isset($_POST['submit']))
 {

 $getmoney = @mysql_query("INSERT INTO players (money) WHERE username = 
'".$_SESSION['username']."' VALUES ('$_POST[amount]')")
 or die("Error: ".mysql_error());

echo '
<div style="
  top: 395;
  left: 99;
  position: absolute;
  z-index: 1;
  visibility: show;">
 Money Received.
 </div>
 ';
  }
  ?>

  </head>
  <body>
  <p>Bank</p>
  Enter amount of money to recieve.<br>
  <form action="bank.php" method="post">
  <table border=2>
  <tr>
  <td>Amount to Receive:</td><td><input type="text" name="amount" size="20px"></input>    
  </td>
  </tr>
  </table>
  <input type="submit" name="submit" value="Get Money"></input>
  </form><br><br>
<hr size=2>
<?php include("footer.php");?>
  </body>
  </html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T06:55:06.917

查询语法错误。

```
@mysql_query("INSERT INTO players (money) VALUES (".$_POST[amount].") WHERE username = '".$_SESSION['username']."'";) 
```

**句法**

```
INSERT INTO table_name(field1, field2...) VALUES (value1, value2,...) WHERE CONDITION 
```

**编辑：** 当你想**更新**值时，（更新查询）

```
@mysql_query("UPDATE players SET money = money+".$_POST[amount]." WHERE username = '".$_SESSION['username']."'";) 
```

此外，您的查询容易受到**SQL Injection**的影响，因此您可能希望使用 PDO/MySQLi 或至少调用`mysql_real_escape_string()`用户传递的所有值。读[这个](https://stackoverflow.com/questions/60174/best-way-to-prevent-sql-injection-in-php)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T06:59:21.613

您正在尝试进行此 SQL 调用：

```
"INSERT INTO players (money) WHERE username = 
'".$_SESSION['username']."' VALUES ('$_POST[amount]')" 
```

这不是一个有效的 MySQL 查询。它是糟糕的 PHP。您可能打算这样做：

```
"INSERT INTO players(username,money) VALUES
    ('".$_SESSION['username']."','".$_POST['amount']."')" 
```

而且，实际上，这并不安全，所以您可能希望 PHP 看起来像这样：

```
<?php
    $usr = mysql_real_escape_string($_SESSION['username']);
    $amt = mysql_real_escape_string($_POST['amount']);
    $sql = "INSERT INTO players(username,money) VALUES ('$usr','$amt')";
    $getmoney = @mysql_query($sql); 
```

但是，当然，我假设你想做一个[INSERT](http://dev.mysql.com/doc/refman/5.5/en/insert.html)而不是[UPDATE](http://dev.mysql.com/doc/refman/5.5/en/update.html)。

# json - 显示对象的值

> ID：11590104
> 
> 赞同：2
> 
> 时间：2012-07-21T06:52:11.920
> 
> 标签：json, object, meteor

我从 mongodb 获取 JSON 数据，当我提醒该变量时，它会将结果显示为“对象对象”。现在我想查看“对象对象”的确切值。我怎么能这样……？除了 JSON.stringify() 之外，任何人都可以提出解决方案......？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:37:13.077

可以使用以下方法迭代用作关联数组的对象：

```
for (var key in thevar) { 
    console.log(key + ": " + thevar[key]); 
} 
```

这将产生如下输出：

```
_id: 793fdda7-3f2d-48c8-8e82-f2471f411d24
tag: example
ram: 8kb 
```

# android - 如何在android中调用localhost的webservice（来自wamp或xampp服务器）？

> ID：11590108
> 
> 赞同：-1
> 
> 时间：2012-07-21T06:53:28.223
> 
> 标签：android, web-services, xampp, localhost, wamp

我正在收到实时 URL 的 Web 服务响应，但如果我使用本地 PC 的 URL，即 localhost，它将停止工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T06:58:05.960

您应该使用`IP-Address`而不是`localhost`. 就像是：

```
http://10.0.2.2:8080/site/uri 
```

有关阅读本文的更多[信息](http://www.vogella.com/articles/AndroidNetworking/article.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-04T10:38:56.080

您需要在本地服务器上发布您的网络服务，然后更改您在应用程序中使用的 URL。例如，如果您的 Web 服务在 asmx 中，那么您需要在 IIS 中发布它，而 php Web 服务需要在 WAMP 等中发布。

# asp.net-membership - Sitecore 角色安全

> ID：11590110
> 
> 赞同：0
> 
> 时间：2012-07-21T06:54:19.500
> 
> 标签：asp.net-membership, sitecore

我有一个带有外联网的 Sitecore 6 站点。示例结构；

```
- Extranet
  - Page 1
  - Page 2
  - Page 3
  - Page 4 
```

在顶级“外联网”页面上，我已拒绝访问并授予对 、 和.的`extranet\anonymous`读取权限。`extranet\role1``extranet\role2``extranet\role3``extranet\role4`

在子页面上有不同的访问权限取决于角色。ie`page1`只能被 and 访问，`extranet\role1`并且`extranet\role2`只能`page 2`被 访问`extranet\role1`。我通过授予`page 1`和`page 2`to的`extranet\role1`读取权限并拒绝对`page 2`to的读取权限来做到这一点`extranet\role2`。

但是当我有一个用户时，`extranet\role1`似乎`extranet\role2`拒绝读取权限`extranet\role2`正在覆盖的读取权限，这意味着用户在上面的示例`extranet\role1`中没有访问权限。`page 2`

我缺少什么让这个工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:53:40.287

我发现你真的应该使用拒绝读取权限。如果你点了他，这将推翻其他一切。相反，您应该使用继承选项。请参阅[如何保护 Sitecore 内容树中的整个分支？](https://stackoverflow.com/questions/3072757/how-to-secure-an-entire-branch-in-a-sitecore-content-tree)

# jquery - 如何检查 div 是否存在？

> ID：11590112
> 
> 赞同：17
> 
> 时间：2012-07-21T06:54:42.610
> 
> 标签：jquery

> **可能重复：**
> [jQuery 是否有“存在”功能](https://stackoverflow.com/questions/31044/is-there-an-exists-function-for-jquery)

```
 <div class="XXX">
  <div class="created">
  </div>
</div> 
```

div`class="created"`由 JavaScript 使用附加函数 jQuery 自动生成以进行一些验证我需要检查是否生成了 div 我该如何执行此操作。使用 jQuery。

就像是`$('.xxx').html()==' '`

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-21T06:56:05.110

尝试如下：

```
$('div.XXX div.created').length 
```

如果`div`未创建，则`$('div.XXX div.created').length`返回 0。

```
if( $('div.XXX div.created').length > 0 ){
  // do something 
} 
```

在 jQuery 中，它有**[`.size()`](http://api.jquery.com/size)**类似的方法和实现`$('div.XXX div.created').size()`，但`.length`更可靠。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-21T06:56:15.580

您可以使用 jQuery[`length`](http://api.jquery.com/length/)属性返回所选元素的数量：

```
if ($('.XXX div.created').length > 0) {

} 
```

# c - 是否有允许我的应用程序具有 root 权限的系统功能？

> ID：11590113
> 
> 赞同：2
> 
> 时间：2012-07-21T06:54:43.540
> 
> 标签：c, linux, embedded, serial-port, root

我有一个在启动时自动运行的嵌入式系统上运行的应用程序。因为某些功能涉及到串行端口的读取和写入，所以我要求该软件具有 root 权限。在我的桌面上没问题，因为我可以运行程序`sudo`，它很好。在我的嵌入式设备上，我无法做到这一点，所以我希望有一些 linux 系统功能允许代码不以 root 身份运行，但可以拥有访问串行端口的 root 权限而不是需要的权限。我意识到从安全角度来看这可能不是一个好主意，但由于它是在嵌入式设备上，我别无选择。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-21T06:56:29.447

您是否考虑过只更改串口设备节点的权限，以便您的应用程序可以访问它？

例如，允许每个应用程序访问`/dev/ttyS0`串行端口：

```
chmod a+rw /dev/ttyS0 
```

为了提供更细粒度的控制，您可以创建一个单独的用户组和`chgrp`您的串口设备节点：

```
chgrp serial /dev/ttyS0
chmod 0660 /dev/ttyS0 
```

之后，您所需要的只是确保您的应用程序的用户在`serial`用户组中运行。

或者您甚至可以让应用程序用户成为设备节点的唯一所有者：

```
chown appuser /dev/ttyS0
chmod 0600 /dev/ttyS0 
```

仅仅为了访问设备节点而要求 root 权限不是正确的方法......

# ruby-on-rails - 管理员中的 AbstractController::DoubleRenderError

> ID：11590116
> 
> 赞同：1
> 
> 时间：2012-07-21T06:54:51.780
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1

我正在从事狂欢商务，我正在尝试调整 active_sale_controller 中的几个操作。我有一些条件，如果条件失败，我将重定向_to (:back)，否则我将继续下一步。我现在面临的问题是我在同一个动作中使用了两次redirected_to (:back)，而且我在同一个动作中还有一个redirected_to 到其他控制器，浏览器显示一个错误，说

```
"Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return"." 
```

这是我的代码

```
when "2"
    st_days = DateTime.strptime("#{start_date}","%d/%m/%Y %H:%M:%S")
    ed_days = DateTime.strptime("#{end_date}","%d/%m/%Y %H:%M:%S")
    ps = PoSale.where(:active_sale_id => @active_sale.id, :event_name => @taxon_name,:st_date => @start_date, :ed_date => @end_date).last
    if ((st_days >= ps.st_date and st_days <= ps.ed_date) or ( ed_days >= ps.st_date and ed_days <= ps.ed_date))   
        redirect_to (:back), :notice => "problem with the start_date and end_date"
    else
        PoSale.create(:active_sale_id => params[:id], :event_name => params[:active_sale]["taxon_name"], :st_date => DateTime.strptime("#{start_date}","%d/%m/%Y %H:%M:%S"), :ed_date => DateTime.strptime("#{end_date}","%d/%m/%Y %H:%M:%S"))
    end         
    when "3"
        puts "Inside 3"
        puts "*"*20
        #hidesd = DateTime.parse(params[:hide_start_date].split("+")[0])
        #hideed = DateTime.parse(params[:hide_end_date].split("+")[0])
        # hideed = DateTime.strptime("#{hide_end_date}","%d/%m/%Y %H:%M:%S")
        puts "*"*20
        #puts "Parameters:#{hidesd}"
        #puts hideed
        a_sale_id=params[:id].to_i
        #PoSale.where("active_sale_id = 310 and st_date = '2012-07-05 03:03:00' and ed_date ='2012-07-12 08:03:00'")
        st_days = DateTime.strptime("#{start_date}","%d/%m/%Y %H:%M:%S")
        ed_days = DateTime.strptime("#{end_date}","%d/%m/%Y %H:%M:%S")

        diff = (st_days.to_date - ed_days.to_date).to_i
        if diff > 10 
            redirect_to (:back), :notice => "more then 10 days not hapenning"      
        else
            ps = PoSale.where(:active_sale_id => a_sale_id, :event_name => @taxon_name, :st_date => @start_date, :ed_date => @end_date).last #where("active_sale_id =#{a_sale_id} and st_date like ? and ed_date like ?",hidesd.strftime("%Y-%m-%d %H:%M:%S"),hideed.strftime("%Y-%m-%d %H:%M:%S")).last #use find
            ps.update_attributes(:event_name => params[:active_sale]["taxon_name"], :st_date => DateTime.strptime("#{start_date}","%d/%m/%Y %H:%M:%S"), :ed_date => DateTime.strptime("#{end_date}","%d/%m/%Y %H:%M:%S"))
        end 
```

请帮帮我！！！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-21T10:58:12.290

`redirect_to`不会停止操作方法的执行，因此如果您调用它并稍后调用`render`或另一个`redirect_to`，您将获得双重渲染异常。有一个相当简单的修复方法，只需调用`and return`. 例如

```
redirect_to (:back), :notice => "problem with the start_date and end_date" and return 
```

[请参阅Rails 指南](http://guides.rubyonrails.org/layouts_and_rendering.html#avoiding-double-render-errors)中的“避免双重渲染异常” 。

# jquery - 如何在嵌套ul中选择第一个和最后一个li？

> ID：11590129
> 
> 赞同：1
> 
> 时间：2012-07-21T06:56:42.463
> 
> 标签：jquery

我试过这个：

```
$(".menu li ul li:first").addClass("first-submenu-item");

$(".menu li ul li:last").addClass("last-submenu-item"); 
```

但不知何故，它根本不起作用。

知道如何解决这个问题吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T06:58:56.333

你应该使用`:first-child`and `:last-child`：

```
$(".menu li > ul > li:first-child").addClass("first-submenu-item");

$(".menu li > ul > li:last-child").addClass("last-submenu-item"); 
```

另一个子目标可以使用`eq(index)`：

```
$(".menu li > ul > li").eq(0).addClass("first-submenu-item");

$(".menu li > ul > li").eq(-1).addClass("last-submenu-item"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T07:02:02.283

```
$(".menu > li > ul > li:first").addClass("first-submenu-item");

$(".menu > li > ul > li:last").addClass("last-submenu-item"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T06:58:48.237

试试这个，

```
$(".menu li ul li:first-child").addClass("first-submenu-item");

$(".menu li ul li:last-child").addClass("last-submenu-item"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T06:59:23.970

试试这个：

```
$(".menu li ul li:first-child").addClass("first-submenu-item");
$(".menu li ul li:last-child").addClass("last-submenu-item"); 
```

# java - 套接字客户端不终止

> ID：11590132
> 
> 赞同：0
> 
> 时间：2012-07-21T06:56:51.983
> 
> 标签：java

为什么客户端代码不终止？（我们需要先启动服务端程序再运行客户端）

**服务器代码：**

```
public class ServerSocketTest {

    static final int PORT = 9999;

    public static void main(String[] args) throws IOException {
        final ServerSocket serverSocket = new ServerSocket(PORT);

        Runtime.getRuntime().addShutdownHook(new Thread() {
            @Override
            public void run() {
                try {
                    serverSocket.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        });

        while (true) {
            final Socket socket = serverSocket.accept();
            Runnable runnable = new Runnable() {

                @Override
                public void run() {
                    System.out.println(socket);
                }
            };
            Thread thread = new Thread(runnable);
            thread.start();
        }

    }

} 
```

**客户端代码：**

```
public class SocketClient {

    public static void main(String[] args) throws UnknownHostException,
            IOException {
        final Socket socket = new Socket("localhost", ServerSocketTest.PORT);

        Runtime.getRuntime().addShutdownHook(new Thread() {
            @Override
            public void run() {
                System.out.println("waiting to close socket " );
                printThread(Thread.currentThread());
                try {                   
                    socket.close();
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });

        Runtime.getRuntime().addShutdownHook(new Thread() {
            @Override
            public void run() {
                System.out.println("waiting to exit");
                printThread(Thread.currentThread());                
                System.exit(0);
            }
        });
    }

    static void printThread(Thread currentThread) {
        System.out.println(currentThread + ": Alive=" + currentThread.isAlive()
                + ",Daemon=" + currentThread.isDaemon());
    }
} 
```

* * *

我使用 Ubuntu。使用 jconsole，我可以跟踪以下线程以及其他一些 RMI 和 JMX 线程：

* * *

名称：参考处理程序状态：在 java.lang.ref.Reference$Lock@14f38ff 上等待总阻塞：1 总等待：2

堆栈跟踪：

```
java.lang.Object.wait(Native Method)
java.lang.Object.wait(Object.java:503)
java.lang.ref.Reference$ReferenceHandler.run(Reference.java:133) 
```

* * *

名称：终结器状态：在 java.lang.ref.ReferenceQueue$Lock@3037a0 上等待总阻塞：1 总等待：2

堆栈跟踪：

```
java.lang.Object.wait(Native Method)
java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:135)
java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:151)
java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:177) 
```

* * *

名称：信号调度器状态：RUNNABLE 总阻塞：0 总等待：0

堆栈跟踪：

* * *

名称：DestroyJavaVM 状态：WAITING on net.SocketClient$2@39b27b 阻塞总数：0 等待总数：1

堆栈跟踪：

```
java.lang.Object.wait(Native Method)
java.lang.Thread.join(Thread.java:1258)
java.lang.Thread.join(Thread.java:1332)
java.lang.ApplicationShutdownHooks.runHooks(ApplicationShutdownHooks.java:106)
java.lang.ApplicationShutdownHooks$1.run(ApplicationShutdownHooks.java:46)
java.lang.Shutdown.runHooks(Shutdown.java:123)
java.lang.Shutdown.sequence(Shutdown.java:167)
java.lang.Shutdown.shutdown(Shutdown.java:234)
- locked java.lang.Class@127bd04 
```

* * *

名称：Thread-1（这是我为调用 System.exit 添加的关闭挂钩） 状态：在 java.lang.Class@127bd04 上被阻塞 拥有者：DestroyJavaVM 阻塞总数：1 等待总数：0

堆栈跟踪：

```
java.lang.Shutdown.exit(Shutdown.java:212)
java.lang.Runtime.exit(Runtime.java:107)
java.lang.System.exit(System.java:960)
net.SocketClient$2.run(SocketClient.java:31) 
```

* * *

名称：SIGINT 处理程序（这似乎是在按下 Control+C 时生成的）状态：在 java.lang.Class@127bd04 上被阻塞，拥有者：DestroyJavaVM 阻塞总数：1 等待总数：0

堆栈跟踪：

```
java.lang.Shutdown.exit(Shutdown.java:212)
java.lang.Terminator$1.handle(Terminator.java:52)
sun.misc.Signal$1.run(Signal.java:212)
java.lang.Thread.run(Thread.java:722) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:10:16.277

它不会停止，因为您正在运行实时线程（您的钩子）。还是您的意思是即使在向 java 进程发送 SIGTERM 或 SIGINT 信号后也无法停止它？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T07:15:06.827

我不确定我在`addShutdownHook`这里看到使用的意义。从文档中：

> 关闭挂钩也应该快速完成它们的工作。当程序调用 exit 时，期望虚拟机将立即关闭并退出。当虚拟机由于用户注销或系统关闭而终止时，底层操作系统可能只允许关闭和退出的固定时间量。因此，不建议尝试任何用户交互或在关闭挂钩中执行长时间运行的计算。

当然不需要`socket.close()`终止，因为如果您的代码没有机会关闭它，操作系统会自动为您执行此操作。我会尝试在不使用关闭挂钩的情况下重新编写您的代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-22T05:35:33.187

您不需要在关闭挂钩中调用 System.exit()，而且您当然不应该这样做，因为它可能会产生死锁或无限递归。你也不需要其他的。最好让你的线程守护线程。

# java - java - 如何将文本字段添加到java swing中按钮的actionlistener？我也有关于字符串的查询

> ID：11590137
> 
> 赞同：0
> 
> 时间：2012-07-21T06:57:15.633
> 
> 标签：java, string, swing, actionlistener

```
public class BasicGuiOnlyText extends JPanel{  
static String outputHtml="<html>";*>Creating The String*  
private JFrame f = new JFrame("Static Web Page Builder"); *>Creating the Frame*  
private JMenuBar mb = new JMenuBar(); *>Creating Menu*  
private JMenu mnuFile = new JMenu("File");  
private JMenuItem mnuItemNew=new JMenuItem("New HTML");  
private JMenuItem mnuItemSave=new JMenuItem("Save");  
private JMenuItem mnuItemQuit = new JMenuItem("Quit");  
private JMenu mnuCreate = new JMenu("Create");  
private JMenuItem mnuItemFinish=new JMenuItem("Finish");  
private JMenu mnuHelp = new JMenu("Help");  
private JMenuItem mnuItemAbout = new JMenuItem("About");  

public BasicGuiOnlyText(){  
    f.setJMenuBar(mb);  
mnuFile.add(mnuItemNew);>Adding Menu Items  
mnuItemNew.addActionListener(new TextFieldSet());*>Adding MenuItemListeners*  
mnuFile.add(mnuItemSave);  
mnuFile.add(mnuItemQuit);  
mnuItemQuit.addActionListener(new ListenMenuQuit());  
mnuHelp.add(mnuItemAbout);  
ButtonHandler phandler = new ButtonHandler();  
mnuItemAbout.addActionListener(phandler);  
mnuCreate.add(mnuItemFinish);  
ButtonHandler1 fhandler = new ButtonHandler1();  
mnuItemFinish.addActionListener(fhandler);  
mb.add(mnuFile);  
mb.add(mnuCreate);  
    mb.add(mnuHelp);  
    f.getContentPane().setLayout(new BorderLayout());  
f.addWindowListener(new ListenCloseWdw());  
    }  
    >public class TextFieldSet implements ActionListener{  
    >JTextField tf=new JTextField(20);  
    >JPanel tfPanel = new JPanel(new GridLayout(1,1));  
        >public void actionPerformed(ActionEvent e){  
    >JTextArea text1 = new JTextArea("Write Your Text", 15, 40);  
        >JPanel textAreaPanel = new JPanel(new BorderLayout());  
        >textAreaPanel.add(text1, BorderLayout.CENTER);  
       >tfPanel.setText("Write your text here:");  
   >tfPanel.add(tf);  
      >}  
>} 
```

***在这里，我只想在单击此新 Html 按钮时添加文本字段。我尝试使用此代码。但这不起作用。怎么做？***

```
 class ButtonHandler1 implements ActionListener{  >For the Final HTML tag  
        public void actionPerformed(ActionEvent e){  
        outputHtml="</html>";   

//Here i need help. i have to add </html> tag when the finish button is clicked. But this code is not working. What should i do?***  
         }  
     }  
     public class ListenMenuQuit implements ActionListener{ *>For the Exit*  
         public void actionPerformed(ActionEvent e){  
             System.exit(0);  
          }  
     }  
     class ButtonHandler implements ActionListener{  *>For displaying the Help*  
         public void actionPerformed(ActionEvent e){  
             JOptionPane.showMessageDialog(null, "It supports GUI environment to enter your choices.", "HELP", JOptionPane. INFORMATION_MESSAGE);  
         }  
    }  
    public class ListenCloseWdw extends WindowAdapter{  
        public void windowClosing(WindowEvent e){  
            System.exit(0);  
          }  
     }  
    public void launchFrame(){ *>Launches the Frame*  
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);  
    f.setSize(500,500);  
        f.setVisible(true);  
    f.setLocationRelativeTo(null);  
     }  
     public static void main(String args[]){ *>Main Method*  
        BasicGuiOnlyText gui = new BasicGuiOnlyText();  
        gui.launchFrame();  
     try {  
        OutputStream htmlfile= new FileOutputStream(new File("test.html"));*>For >the creation of HTML file*  
        PrintStream printhtml = new PrintStream(htmlfile);  
        printhtml.println(outputHtml);  
        printhtml.close();  
            htmlfile.close();  
        }  
    catch (Exception e) {}  
    }  
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:46:40.117

I hope I did understood your question correctly. See below for an example which adds the text "Hello world!" to a `JTextField` when the `JButton` is pressed.

```
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.text.BadLocationException;
import javax.swing.text.Document;
import javax.swing.text.JTextComponent;
import java.awt.BorderLayout;
import java.awt.EventQueue;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class AppendTextDemo {

  public static void main( String[] args ) {
    EventQueue.invokeLater( new Runnable() {
      @Override
      public void run() {
        JFrame testFrame = new JFrame( "AppendTextDemo" );

        JPanel content = new JPanel( new BorderLayout(  ) );

        JTextField textField = new JTextField( 20 );
        content.add( textField, BorderLayout.CENTER );

        JButton appendButton = new JButton( "Append text" );
        content.add( appendButton, BorderLayout.SOUTH );
        appendButton.addActionListener( new AppendTextActionListener( "Hello world!", textField ) );

        testFrame.setContentPane( content );
        testFrame.pack();
        testFrame.setVisible( true );
        testFrame.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );
      }
    } );
  }

  private static class AppendTextActionListener implements ActionListener{
    private final String textToAppend;
    private final JTextComponent textComponent;

    private AppendTextActionListener( String textToAppend, JTextComponent textComponent ) {
      this.textToAppend = textToAppend;
      this.textComponent = textComponent;
    }

    @Override
    public void actionPerformed( ActionEvent e ) {
      Document document = textComponent.getDocument();
      try {
        document.insertString( document.getLength(), textToAppend, null );
      } catch ( BadLocationException e1 ) {
        e1.printStackTrace();//do something useful with the exception
      }
    }
  }

} 
```

If this was not what you meant, please clarify your question

# python - 将元组中的二元运算符与字典项匹配

> ID：11590138
> 
> 赞同：0
> 
> 时间：2012-07-21T06:57:20.270
> 
> 标签：python, tuples, pybrain

所以，我正在做一个 Pybrain 类型的项目，我被困在其中的一部分上。到目前为止，该程序接受一个元组并使用其中一个花哨的`vars()['string']`语句为其分配一个变量。具体来说，它接收一个数字元组并将其分配给一个 ' `layerx`' 值，其中`x`是层的编号（按顺序，第 1、2、3 层等），这样数字就是该层的维度。

我拼命和谦卑地向您寻求帮助的程序部分是该程序的下一步应该是什么；它接受一个元组的元组（元组的数量必须=层的数量），并且元组包含1/0。

它应该确定在哪个层中使用哪种类型的 Pybrain 层，然后插入该层的维度值，并从本质上创建该层变量。我已经......玩了一段时间，我得到了一个非常......扭曲......令人困惑的代码块。

请原谅令人费解的变量名称，我认为通过使它们有些具体，我很聪明：

```
 moduleconbuff = 0
    modulebuffer = 'module'
    correspondinglayerbuff = 0
    moduleconfigcopy = tuple(moduleconfig)

    try:  #Always triggers except, but it's pretty screwed up
                while correspondinglayerbuff <= len(self.layers):     #keeps track of how many layer/module pairs have been assigned
                    for elm in moduleconfigcopy:
                        for x in elm:
                            if x == 1:
                                moduledimmension = [layerbuff+'%s'%(correspondinglayerbuff)]
                                modulesdict = {1: pybrain.GaussianLayer(moduledimmension), 2: pybrain.LinearLayer(moduledimmension),\
                                3: pybrain.LSTMLayer(moduledimmension),4: pybrain.SigmoidLayer(moduledimmension),5: pybrain.TanhLayer(moduledimmension)}   #this dict pairs integers with pybrain modules
                                vars()[modulebuffer +'%s'%(correspondinglayerbuff)]=modulesdict(moduleconbuff)  #should return something like 'Module1 = pybrain.GaussianLayer(5) when complete
                                print vars()[modulebuffer+'%s'%(correspondinglayerbuff)]
                                moduleconbuff=0
                                correspondinglayerbuff+=1
                                print 'Valid: ', moduleconfigcopy, elm
                                continue
                            else:
                                elm = elm[1:]
                                print 'Invalid: ', moduleconfigcopy, elm
                                moduleconbuff+=1
    except:  
        print 'Invalid!!!' 
```

老实说，我不知道里面发生了什么。一开始的元组“ `moduleconfig`”应该是一个带有二元运算符的元组（嵌套元组），它应该在其中一个元组有 1 时停止，将该运算符与 Pybrain 中的正确模块匹配，然后插入这在所以相应的层=已经列出了尺寸的那个模块。

很明显，出了什么大问题，而且已经太远了，以至于我的大脑无法理解它……它失去了所有的理由，每次我看到它我都会害怕……请帮助我或告诉我我创造了一个可憎之类的东西，我猜...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:43:59.937

影响代码可读性的一大障碍是变量命名和样式。我试着为你清理一下。它仍然可能无法正常工作，但现在更容易看到发生了什么。请参考 PEP 8，[Python 风格指南](http://www.python.org/dev/peps/pep-0008/)

对于初学者，我在下面重命名了一些变量。请注意，在 python 中，变量应该全部小写，单独的单词用下划线连接。常量应该是 ALL_UPPERCASE：

```
assigned_layers = correspondinglayerbuff = 0
tuple_of_tuples = moduleconfigcopy = ((0, 1), (0, 0, 1), (0, 1))
dimension = moduledimension
MOD_BUFFER = modulebuffer = 'buffer'
c_buff = moduleconbuff = 0 
```

这是 while 循环（替换了变量名，并正确缩进，`try... except`删除了块：

```
while assigned_layers <= len(self.layers):
    for element_tuple in tuple_of_tuples:
        for item in element_tuple:
            if item: # in python, 0 is treated as boolean False, 1 or any other value is treated as boolean True.
                dimension = [layerbuff + str(assigned_layers)] #what is layerbuff?
                modules_dict = {
                    1: pybrain.GaussianLayer(dimension),
                    2: pybrain.LinearLayer(dimension),
                    3: pybrain.LSTMLayer(dimension),
                    4: pybrain.SigmoidLayer(dimension),
                    5: pybrain.TanhLayer(dimension)
                    } # Notice how this dict is much easier to read.

                vars()[MOD_BUFFER + str(assigned_layers)] = modules_dict[c_buff]  #modules_dict is a dict and not a callable object
                c_buff = 0
                assigned_layers +=1
                #No need for continue here, since that's what the if...else does here.
            else:
                element_tuple = element_tuple[1:] #what is this for?
                print 'Invalid: ', tuple_of_tuples, element_tuple 
```

我不确定您在这一行中到底要做什么：

```
vars()[MOD_BUFFER + str(assigned_layers)] = modules_dict[c_buff]  #modules_dict is a dict and not a callable object 
```

此外，您最初`modules_dict(moduleconbuff)`将 a`TypeError`作为 dict 引发的不是可调用对象。我假设您打算按键检索一个值。

正如我所说，我不太确定您在这里尝试做什么（可能是因为我还没有看到您的其余代码），但是重命名变量和使用良好的样式应该对您能够调试有很大帮助你的代码。如果您回答我的问题/评论，我将继续编辑。

# facebook - 更改一次使用图形 API 获取的朋友活动源的数量限制

> ID：11590142
> 
> 赞同：0
> 
> 时间：2012-07-21T06:58:15.913
> 
> 标签：facebook, facebook-graph-api

我正在尝试保存我的[应用程序](http://compare.buyhatke.com)在 Facebook 上发布的活动帖子的数量。

但是，Facebook 一次只返回 100 个活动源。因此，如果用户让我们说在 FB 上发布了 200 次。我将不得不请求两次。同样，我需要为他所有的朋友做。这是非常不方便和低效的。那么，无论如何要更改一次获取的提要数量的限制

这是我的一位用户的[提要示例](https://developers.facebook.com/tools/explorer/?method=GET&path=1399827448/comparehatke%3acompare/?access_token=AAAB4rubm4xkBAKWWCidtZCsfxMF5lAJTDHzjw770POYoZCPVWUOVVchZAtyPvZAZBrHXFGwYHVFsrAVPcgZBcOB9y4RvQMyUZBUY8GP7MZCR11ev1TAZAqXYb&limit=5000&method=get&pretty=0)。

谢谢 ！

# asp.net - 如何在设计模式下打开 RDLC

> ID：11590143
> 
> 赞同：12
> 
> 时间：2012-07-21T06:58:23.383
> 
> 标签：asp.net, rdlc

在我的项目中，我以 xml 格式创建了 .rdlc 文件，我想查看我的报告，但它没有显示在设计视图中。我怎样才能得到这个？

谁能帮帮我吗。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2019-10-06T11:32:17.223

在 Visual Studio 2017 顶部菜单中：

*   进入**工具**菜单
*   选择**扩展和更新...**
*   现在，从左侧面板中，选择**在线**
*   从右上角，搜索：**rdlc report**
*   选择**Microsoft RDLC Report Designer**并单击下载
*   下载完成后，关闭Visual Studio，开始安装

现在，您可以再次重新打开 Visual Studio，然后双击您的报表以在设计器中打开。

* * *

您可能还会发现这个旧解决方案很有用：[SSRS 报告定义比服务器更新](https://stackoverflow.com/questions/38902037/ssrs-report-definition-is-newer-than-server)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-24T16:25:31.197

在解决方案资源管理器窗格中，右键单击您的 rdlc 文件，选择打开方式，然后选择报表设计器。如果您愿意，您也可以在此菜单中将其设置为默认值

希望有帮助

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2021-01-06T12:41:33.020

## 按照以下步骤安装 Microsoft RDLC 报表设计器

1.  转到工具菜单（如果使用 VS 2019 扩展菜单将在顶部可用）
2.  选择**扩展和更新**。
3.  选择**在线选项**
4.  在搜索窗口中搜索：**rdlc 报告**如下
5.  选择**Microsoft RDLC Report Designer**并单击下载，如下图所示链接

下载完成时。您应该关闭 Visual Studio 以进行安装。现在，您可以**再次重新打开 Visual Studio**，然后双击您的报表以在设计器中打开。

[![在此处输入图像描述](../Images/6f3706e93f1fcbf22054d21b5ffde1bf.png)](https://i.stack.imgur.com/MCM6q.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-09-04T14:15:50.670

根据您的 Visual Studio 版本，您需要安装一些`RDLC`扩展。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-11-26T20:24:45.723

如果您的 .RDLC 默认在 Visual Studio 中以 XML 格式打开，则您需要为 Visual Studio 安装正确版本的 RDLC Designer 扩展。您可以通过查看您在网页上包含报表查看器控件的标签来比较您正在使用的 ReportViewer 版本。

例如对于版本 14.0.0.0，您可以从 Visual Studio Marketplace 下载正确的扩展，下面提供的链接与 Report Viewer 版本 14.0.0.0 和 Visual Studio 2017 匹配

[https://marketplace.visualstudio.com/items?itemName=ProBITools.MicrosoftRdlcReportDesignerforVisualStudio-18001](https://marketplace.visualstudio.com/items?itemName=ProBITools.MicrosoftRdlcReportDesignerforVisualStudio-18001)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-04-14T03:01:04.337

一旦按照以下步骤安装**Microsoft RDLC 报表设计器**扩展。报告设计器选项将显示在文件右键单击属性上

# if-statement - Lua中的“或如果”逻辑运算

> ID：11590148
> 
> 赞同：1
> 
> 时间：2012-07-21T06:58:50.460
> 
> 标签：if-statement, lua

我的情况是

```
if A and B and C then
X
end 
```

如果我理解正确，这意味着它只有在满足所有三个条件（A、B 和 C）时才会执行 X。

这本身很好，但是，我需要/希望它同时检查类似于“或 if”语句的内容。

if A and B and C [or if] A and D [or if] A and E then X End

意思是我希望它在满足 A 和 B 和 C，或者如果满足 A 和 D，或者如果满足 A 和 E 时执行 X。我该怎么做呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T07:01:16.410

Simple:

```
if (A and B and C) or (A and D) or (A and E) then
    X
end 
```

# drupal - 在 Drupal 7 中提名用户

> ID：11590159
> 
> 赞同：0
> 
> 时间：2012-07-21T06:59:53.337
> 
> 标签：drupal, drupal-7

我正在构建一个以不同方式处理注册的门户。

第 1 步：它要求用户根据他们的电子邮件 ID 提名其他用户。

第 2 步：然后管理员批准用户电子邮件 id（并且可能在其中提供用户名）

**强文本** 第 3 步：向用户发送一封电子邮件，说明新 id 已创建，然后用户才能登录。

有没有办法完成这个任务？我阅读了用户模块论坛，但无法获得所需的信息。

提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-22T15:18:11.073

步骤 2 和 3 是 Drupal 的内置功能，即管理员用户可以创建用户帐户并通知他们新创建的帐户。对于第 1 步，您可以考虑使用 Webform 模块（[http://drupal.org/project/webform](http://drupal.org/project/webform)）。为经过身份验证的用户创建一个网络表单，他们可以在其中放置电子邮件地址并提交。

# php - 更改 default_controller 给出 404 codeigniter

> ID：11590163
> 
> 赞同：0
> 
> 时间：2012-07-21T07:00:20.500
> 
> 标签：php, codeigniter, wamp

我正在使用codeigniter 2.1.2，WAMP，我刚刚学习它并遇到了问题。我所做的只是关注-> 创建了一个视图“home.php”，其中包含一些文本。-> 创建了一个控制器“homecontroller.php”，如下所示：

```
<?php 

class homecontroller extends CI_Controller{

    function iloadhomepage(){
        $this->load->view('home');
    }
} 
```

到目前为止，当我运行时它工作正常

```
"http://localhost/CodeIgniterTut/index.php/homecontroller/iloadhomepage" 
```

接下来我将“routes.php”（在配置中）中的默认控制器更改为

```
$route['default_controller'] = "homecontroller"; 
```

因此，当我运行“http://localhost/CodeIgniterTut/index.php”时，我会得到“home.php”，但会出现 404 错误，我在任何地方都犯了错误吗？请帮忙

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T07:19:49.523

把它放在 homecontroller.php

```
class Homecontroller extends CI_Controller{

        public function index(){
            $this->load->view('home');
        } 
```

然后键入 localhost/CodeIgniterTut/index.php，并使每个类名都以大写字母开头（这是编码的标准）。

“默认情况下，如果 URI 的第二段为空，则始终加载“索引”函数，URI 的第二段确定调用控制器中的哪个函数”。根据 ci 手册。

# php - 如何在 PHP DOMDocument() 创建的 XML 中添加 XSL 行？

> ID：11590164
> 
> 赞同：1
> 
> 时间：2012-07-21T07:00:40.263
> 
> 标签：php, html, xml

简而言之：使用 PHP DOMDocument() 创建一个 xml 文档。需要在文档中添加一行。

成功创建 XML 文档：

```
 $doc = new DOMDocument();
  $doc->formatOutput = true;

  $r = $doc->createElement( "products" );
  $doc->appendChild( $r );

  while ( $row = mysql_fetch_array($res) )
  {
      $b = $doc->createElement( "product" );

      //adding child elements.....
  }

  echo $doc->saveXML();
  $doc->save("write.xml") 
```

但是，在 xml 文档的顶部，我需要链接到一个 xls。

```
<?xml-stylesheet type="text/xsl" href="my.xsl"?> 
```

如何在 PHP 中将该行添加到动态生成的 xml 中？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T07:05:34.477

如果您查看 DOMDocument 的手册，实际上有一个示例可以完全按照您的`createProcessingInstruction`方法进行操作，@ [http://www.php.net/manual/en/domdocument.createprocessinginstruction.php](http://www.php.net/manual/en/domdocument.createprocessinginstruction.php)

# android - 在Android中绘制（过滤）100k+点到MapView

> ID：11590169
> 
> 赞同：5
> 
> 时间：2012-07-21T07:01:15.770
> 
> 标签：android, performance, google-maps, optimization, android-mapview

我正在尝试解决从大量（100k+）GeoPoints 集到 Android 上的 MapView 的路径绘制问题。首先我想说，我通过 StackOverflow 搜索了很多，但没有找到答案。我的代码的瓶颈实际上不是画到画布中，而是`Projection.toPixels(GeoPoint, Point)`或者`Rect.contains(point.x, point.y)`方法..我正在跳过屏幕上不可见的点，并且根据当前的缩放级别仅显示每第 n 个点。当地图放大时，我想显示尽可能准确的路径，所以我跳过零（或接近零）点，这样在找到可见点时，我需要为集合中的每个点调用投影方法。这才是真正需要花费大量时间的原因（不是几秒钟，但地图平移并不流畅，而且我没有在 HTC Wildfire 上对其进行测试:)）。我尝试缓存计算点，但由于在每次地图平移/缩放后重新计算点，它根本没有帮助。

我考虑过使用某种修剪和搜索算法而不是迭代数组，但我发现输入数据没有排序（我不能丢弃堆叠在两个不可见点之间的任何分支）。我可以在一开始用简单的排序来解决这个问题，但我仍然不确定即使是`getProjection()`和`Rect.contains(point.x, point.y)`调用的对数计数而不是线性也能解决性能问题。

贝娄是我当前的代码。如果你知道如何使它变得更好，请帮助我。非常感谢！

```
public void drawPath(MapView mv, Canvas canvas) {
    displayed = false;

    tmpPath.reset();

    int zoomLevel = mapView.getZoomLevel();
    int skippedPoints = (int) Math.pow(2, (Math.max((19 - zoomLevel), 0)));
    int mPointsSize = mPoints.size();
    int mPointsLastIndex = mPointsSize - 1;
    int stop = mPointsLastIndex - skippedPoints;

    mapView.getDrawingRect(currentMapBoundsRect);
    Projection projection = mv.getProjection();

    for (int i = 0; i < mPointsSize; i += skippedPoints) {

        if (i > stop) {
            break;
        }
//HERE IS THE PROBLEM I THINK - THIS METHOD AND THE IF CONDITION BELOW
        projection.toPixels(mPoints.get(i), point);

        if (currentMapBoundsRect.contains(point.x, point.y)) {
            if (!displayed) {
                Point tmpPoint = new Point();
                projection.toPixels(mPoints.get(Math.max(i - 1, 0)),
                        tmpPoint);
                tmpPath.moveTo(tmpPoint.x, tmpPoint.y);
                tmpPath.lineTo(point.x, point.y);
                displayed = true;
            } else {

                tmpPath.lineTo(point.x, point.y);

            }

        } else if (displayed) {
            tmpPath.lineTo(point.x, point.y);
            displayed = false;

        }

    }

    canvas.drawPath(tmpPath, this.pathPaint);

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-22T19:53:22.370

所以我想出了如何让它更快！我会把它贴在这里，将来有人可能会发现它有用。事实证明，使用`projection.toPixels()`确实会损害应用程序的性能。因此，当我计算地图的实际视口半径如下时，我想出这种方法比获取每一个`GeoPoint`，将其转换为`Point`然后检查它是否包含在地图视口中更好：

```
 mapView.getGlobalVisibleRect(currentMapBoundsRect);
    GeoPoint point1 = projection.fromPixels(currentMapBoundsRect.centerX(), currentMapBoundsRect.centerY());
    GeoPoint point2 = projection.fromPixels(currentMapBoundsRect.left, currentMapBoundsRect.top);
    float[] results2 = new float[3];
    Location.distanceBetween(point1.getLatitudeE6()/1E6, point1.getLongitudeE6()/1E6, point2.getLatitudeE6()/1E6, point2.getLongitudeE6()/1E6, results2); 
```

半径在 results2[0]..

然后我可以把每一个都拿下来`GeoPoint`，计算它和地图中心之间的距离`mapView.getMapCenter()`。然后我可以将半径与计算的距离进行比较，并决定是否不显示该点。

就是这样，希望它会有所帮助。

# python - Scrapy SgmlLinkExtractor and span attribute

> ID：11590173
> 
> 赞同：0
> 
> 时间：2012-07-21T07:01:45.503
> 
> 标签：python, scrapy

I need to match attribute against some strings. I tried to add the span attribute to sgmllinkextractor but it seems to ignore it since it has no link in it.

is there an option to use a callback function that will be called when no link could be extract via linkExtractor?

I want to match the page against some string if and only if there was no match with linkExtractor.

Thanks

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T16:08:31.103

尝试[继承 BaseSpider](http://doc.scrapy.org/en/latest/topics/spiders.html#basespider)而不是使用 CrawlSpider。

# c# - How to Loop an Array C#

> ID：11590176
> 
> 赞同：0
> 
> 时间：2012-07-21T07:02:07.550
> 
> 标签：c#, arrays, loops

I'm trying to display the following passwords in a message box. What I want to happen is to give to the user the first password, which is 111111, by means of message box. After 111111 has been given, the next time the user asks for another password, it will be 222222, and so on and so forth. If all the passwords have been used up, the loop will simply return to 111111, 222222, 333333, etc... How do I do it? Thanks for any help.

Here's my code:

```
 int[] password;
                    password = new int[10];
                    password[0] = 000000;
                    password[1] = 111111;
                    password[2] = 222222;
                    password[3] = 333333;
                    password[4] = 444444;
                    password[5] = 555555;
                    password[6] = 666666;
                    password[7] = 777777;
                    password[8] = 888888;
                    password[9] = 999999;

                    MessageBox.Show("Your password is ...");
                    return; 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-21T07:07:20.843

听起来您并没有真正在这里*循环*-您只是想维护一个索引。毕竟，“为用户提供密码”听起来像是事件驱动的，而不是我们的代码重复的。

两种选择：

*   保留密码列表，并将“当前索引”保留在其中。每次增加索引，到达终点时循环回0。

*   改用 a `Queue<T>`，每当您显示密码时，在末尾添加一个新密码。

顺便说一句：

*   `int`是一种非常糟糕的密码类型，除非您真的将用户限制在数字键盘上。即使这样，您也应该真正区分“0001”和“1”，而哪些`int`值不能。

*   学习使用数组初始值设定项。您的大部分示例代码相当于：

    ```
    int[] password = { 0, 111111, 222222, 333333, 444444, 555555, 666666,
                       777777, 888888, 999999 }; 
    ```

*   重复使用的硬编码密码列表……真的吗？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T07:09:54.517

您可以使用迭代器方法，该方法基本上会在每次调用时返回下一个密码并在密码列表中循环（在列出所有密码后从第一个密码开始）

```
IEnumerable<int> GetPassword()
{
    while (true)
    {
       yield return 000000;
       yield return 111111;
       yield return 222222;
       yield return 333333;
       yield return 444444;
       yield return 555555;
       yield return 666666;
       yield return 777777;
       yield return 888888;
       yield return 999999;
    }
} 
```

每次调用此方法都会返回下一个密码

所以如果你打电话

```
MessageBox.Show(String.Format("Your password is {0}", GetPassword()); 
```

多次，您每次都会在您的消息框中获得下一个密码，一旦达到 999999，它将返回 000000。

**编辑**：迭代器的使用是错误的（参见下面的 John Skeet 评论）如果保持完全相同的迭代器块，一种方法是通过调用获取枚举器（每个用户一次或所有用户相同，取决​​于使用情况）`GetPassword().GetEnumerator()`然后将枚举数提供给实际返回密码的另一个方法 GetNextPassword。

```
int GetNextPassword(IEnumerator<int> enumerator)
{ 
    enumerator.MoveNext();
    return enumerator.Current;
} 
```

但在这一点上并不是很漂亮。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T07:16:10.100

对于您的特定情况，我建议使用[Queue](http://msdn.microsoft.com/en-us/library/7977ey2c.aspx)：

```
using System.Collections;

Queue passwords = new Queue();

foreach (int p in new int[]{ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 })
{
   passwords.Enqueue(p);
}

//just to show you that it's FIFO (first-in, first-out)
while (passwords.Count > 0)
{
   MessageBox.Show("Your password is " + passwords.Dequeue();
} 
```

# unit-testing - What 'styles' of testing frameworks are out there?

> ID：11590178
> 
> 赞同：1
> 
> 时间：2012-07-21T07:02:15.680
> 
> 标签：unit-testing, testing, tdd, bdd

It looks to me that testing has come a long way since SUnit, JUnit, and the common xUnit test frameworks.

I looked into [RSpec](http://rspec.info/) and [Cucumber](http://cukes.info/) to get an idea what 'behavior-driven' testing is about, but now I do wonder which kind of other approaches to writing unit-tests exist.

I am not tied to any particular language, but more interested in general ideas and approaches to test code.

So, my question is, which stylistically different approaches are there to unit testing, i.e., approaches different from "asserts".

Let me give examples:

The xUnit style of unit-testting looks roughly like this in your favorit language:

```
stack = new Stack()
assertTrue  (stack.empty())

stack.push(1)
assertFalse (stack.empty())
assertEquals(1, stack.top()) 
```

RSpec-style unit-testting looks rather like this (roughly improvised):

```
describe Stack do

  it "should be empty" do
    Stack.new.empty?.should == true
  end

  it "should contain new value on top" do
    stack = Stack.new
    stack.push(1)
    stack.empty?.should == false
    stack.top().should == 1
  end
end 
```

Are there other interesting styles, notations, 'DSLs'? Sure, every language and framework will have variations on the theme, but are there different general 'themes'/styles?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-24T16:07:28.680

我只能想到两种类型的测试。以代码为中心（xUnit 和 RSpec 给出了上面的代码）和以行为为中心（黄瓜，SpecFlow - Given/Then/When）。现在，您可以在以代码为中心的框架（代码 #1）中进行行为样式测试。

您还可以进行三种类型的测试：

*   Mockists - 大多数依赖项都是（严格）模拟的。
*   Stubbists - 大多数依赖项都是存根的。
*   集成 - 大多数依赖项都是真实的。

代码#1：

```
@Test
public void theScenarioDescription() {
    givenThatSomething();
    whenIWiggleIt();
    thenSomethingHasHappened();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T17:35:11.777

就我个人而言，我真的很喜欢 Given、When、Then 类型的测试语法。

```
Given some particular situaion
When some action occurs
Then there will be an outcome that can be verified. 
```

我开始使用这种方法，使用.NET 上的[StoryQ](http://storyq.codeplex.com/)和[SpecFlow](http://www.specflow.org/)等工具，它们非常整洁。从那以后我开始编写自己的[小框架](https://github.com/gregjsmith/Jerky) ，它更适合我自己的个人风格，但还不是特别成熟。

# haskell - Haskell 类型错误：推断类型的多态性低于预期

> ID：11590180
> 
> 赞同：3
> 
> 时间：2012-07-21T07:02:19.857
> 
> 标签：haskell

我现在正在和 Haskell 混在一起，对于我的生活，我无法弄清楚为什么以下工作......

```
square :: (Num a) => a -> a 
square x = x * x 
dx = 0.0000001
deriv1 :: (Fractional a) => (a -> a) -> (a -> a)
deriv1 g = (\x -> ((g (x + 2) - (g x)) / 0.0000001 ))   
main = printf "res==%g %g\n" (square 5.12::Double) ((deriv1 square) 2::Float) 
```

但这不....

```
square :: (Num a) => a -> a 
square x = x * x 
dx = 0.0000001
deriv1 :: (Fractional a) => (a -> a) -> (a -> a)
deriv1 g = (\x -> ((g (x + 2) - (g x)) / dx ))          
main = printf "res==%g %g\n" (square 5.12::Double) ((deriv1 square) 2::Float) 
```

注意我`dx`这次在derv1函数中使用了。我是 Haskell 的新手，所以任何关于类型的深入讨论都可能会飞快地掠过我，我会晕头转向的。当务之急是我有一些类似于命令式答案的东西，否则在我的 Haskell 职业生涯的早期，我几乎肯定会失去它。

我收到的错误消息是：

```
Inferred type is less polymorphic than expected
  Quantified type variable `a' is mentioned in the environment:
    dx :: a (bound at sicp-1.40.hs:12:0)
When trying to generalise the type inferred for `deriv1'
  Signature type:     forall a. (Fractional a) => (a -> a) -> a -> a
  Type to generalise: (a -> a) -> a -> a
In the type signature for `deriv1'
When generalising the type(s) for `deriv1' 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T07:09:50.393

由于[单态限制](http://www.haskell.org/haskellwiki/Monomorphism_restriction)，您会得到错误。由于您没有为其提供类型签名，`dx`因此最终会像`Double`在这种情况下那样推断出来。您可以给出明确的多态签名，例如

```
dx :: Fractional a => a
dx = 0.0000001 
```

或者您可以通过在源文件顶部包含此行来禁用单态限制

```
{-# LANGUAGE NoMonomorphismRestriction #-} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-21T08:13:36.883

避免陷入单态限制的最好方法可能是`dx`本地化：

```
deriv1 :: (Fractional a) => (a->a) -> a->a
deriv1 g = (\x -> ((g (x + dx) - (g x)) / dx ))
   where dx = 0.0000001 
```

请注意，我也`2`进行了更改`dx`，这在您的定义中有点错误。（不是编程，而是数学。）

顺便说一句，你也可以简单地写这个

```
deriv1 g x = (g (x + dx) - g x) / dx 
```

Haskell 自动将其转换为 lambda。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-21T07:09:53.773

由于单态性限制，类型`dx`默认为 Double。因此，当您除以`dx`in 时`deriv1`，Haskell 会推断出另一个操作数`/`和结果也必须具有 Double 类型。但是由于您的类型签名说`a`，您会得到您所做的错误。

您可以通过显式声明`dx`具有类型`Fractional a => a`或禁用单态限制来解决此问题。

# c++ - Directx 9 Vertex Color on default objects like teapot

> ID：11590182
> 
> 赞同：1
> 
> 时间：2012-07-21T07:02:38.330
> 
> 标签：c++, directx, id3dxmesh

I've been playing around with directx for about a week now. I recently bump in to the default objects, and I played around with it. I can animate it, I can do alot with it, but I have no idea how to put vertex color(again not material). Default object is not really the right word to use so here are the list of functions that would generate these "default objects"

*   D3DXCreateBox
*   D3DXCreateSphere
*   D3DXCreateCylinder
*   D3DXCreateTeapot
*   D3DXCreatePolygon
*   D3DXCreateTorus

So can someone lay out the way on how to get the vertex buffers and then fill it with color data. I can do it with objects that I had to layout the vertex manually but not in these default mesh.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T13:47:24.920

尝试使用 HLSL 语言 ..

> 高级着色器语言。这是 DirectX 用于对渲染管道的特定部分进行编程的脚本，为图形程序员提供了在特殊效果方面的广泛灵活性。

# javascript - How to disable a particular process's page java script?

> ID：11590183
> 
> 赞同：0
> 
> 时间：2012-07-21T07:02:46.303
> 
> 标签：javascript, html

Faced with the task of disabling Java script on the [page](http://partssystem.ru/search.html?article=%D1%81110&search=%D0%B8%D1%81%D0%BA%D0%B0%D1%82%D1%8C)

![enter image description here](../Images/61c69d294b29d8247e0df4ec3eab9adc.png)

problem, remove the script processing on a particular page in our [case](http://partssystem.ru/search.html?article=%D1%81110&search=%D0%B8%D1%81%D0%BA%D0%B0%D1%82%D1%8C)

To our block remained in the left column. It turns out that the script is included in the overall pattern and turn it off I need to display only one page. Script code I can put here. I hope for your help friends.

# wordpress - wp recaptcha wordpress插件安装错误

> ID：11590184
> 
> 赞同：0
> 
> 时间：2012-07-21T07:02:47.623
> 
> 标签：wordpress

我正在尝试在我的 wordpress 网站中安装 wp-recaptcha。但它向我显示了以下错误。

```
Warning: require_once(/home2/sample/public_html/test.com/wp-content/plugins/wp-recaptcha/recaptchalib.php) [function.require-once]: failed to open stream: No such file or directory in /home2/sample/public_html/test.com/wp-content/plugins/wp-recaptcha/recaptcha.php on line 158 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:28:25.650

插件目录中似乎`recaptchalib.php`缺少该文件，或者 Web 服务器无法访问它。检查您已上传所有插件文件（因为`recaptchalib.php`存在于插件包中）并且文件权限设置正确。

# python - 是否有python json库可以将json转换为模型对象，类似于google-gson？

> ID：11590190
> 
> 赞同：9
> 
> 时间：2012-07-21T07:03:51.390
> 
> 标签：python, json

标准的 python json 模块只能将 json 字符串转换为 dict 结构。

但我更喜欢将 json 转换为具有“父子”关系的模型对象结构。

我在 Android 应用程序中使用 google-gson，但不知道哪个 python 库可以做到这一点。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-22T08:31:26.680

您可以让 json 模块构造一个 dict ，然后使用 an[`object_hook`](http://docs.python.org/library/json.html#module-json)将[dict 转换为 object](https://stackoverflow.com/questions/1305532/convert-python-dict-to-object)，如下所示：

```
>>> import json
>>>
>>> class Person(object):
...     firstName = ""
...     lastName = ""
...
>>>
>>> def as_person(d):
...     p = Person()
...     p.__dict__.update(d)
...     return p
...
>>>
>>> s = '{ "firstName" : "John", "lastName" : "Smith" }'
>>> o = json.loads(s, object_hook=as_person)
>>>
>>> type(o)
<class '__main__.Person'>
>>>
>>> o.firstName
u'John'
>>>
>>> o.lastName
u'Smith'
>>> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T07:42:34.753

您可以编写自己的序列化程序以使其与 json 一起使用，但为什么不使用[`pyyaml`](http://pyyaml.org/wiki/PyYAML)支持它的开箱即用：

```
>>> import yaml
>>> class Foo:
...    def bar(self):
...       print 'Hello I am bar'
...    def zoo(self,i):
...       self.i = i
...       print "Eye is ",i
... 
>>> f = Foo()
>>> f.zoo(2)
Eye is  2
>>> s = yaml.dump(f)
>>> f2 = yaml.load(s)
>>> f2.zoo(3)
Eye is  3
>>> s
'!!python/object:__main__.Foo {i: 2}\n'
>>> f2 = yaml.load(s)
>>> f2.i
2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-04-20T12:06:27.723

在 2018 年，可以使用[cattrs](https://github.com/Tinche/cattrs)完成，利用[attrs](https://github.com/python-attrs/attrs)和[mypy的静态类型](http://mypy-lang.org/)

# r - 将图像保存在 ggplot 和 ggmap 中

> ID：11590193
> 
> 赞同：9
> 
> 时间：2012-07-21T07:04:34.337
> 
> 标签：r, ggplot2, ggmap

我已经使用 ggsave 函数保存了一张图像，如下所示 ![在此处输入图像描述](../Images/22f7aec9d63006b2362de9932a0ef4b0.png)

但我想有这样的输出 ![在此处输入图像描述](../Images/570b90729a832e3b9649f6756ca9bd02.png)

```
 al1 <- get_map(location = c(lon = -86.304474, lat = 32.362563), zoom = 11, maptype = 'terrain')

      lon<--86.304474
      lat<-32.362563
      df<-data.frame(lon,lat)
      a+ggplot(df)
      ggmap(al1)+geom_point(data=df,aes(x=lon,y=lat),size=2) 
```

我试图删除 x 和 y 轴值，但问题是图像在面板上有白色背景，但我只想绘制图像。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-21T11:30:59.247

在`ggmap()`函数中，您需要`extent = "device"`. 查看`?ggmap::ggmap`更多选项。

以下将给出您想要的结果。

```
library(ggmap)
al1 <- get_map(location = c(lon = -86.304474, lat = 32.362563), zoom = 11, maptype = 'terrain')

lon<--86.304474
lat<-32.362563
df<-data.frame(lon,lat)
      #a+ggplot(df) # Not sure what you intend here
ggmap(al1, extent = "device")+geom_point(data=df,aes(x=lon,y=lat),size=2) 
```

# excel - apply functions for xts

> ID：11590194
> 
> 赞同：2
> 
> 时间：2012-07-21T07:05:01.870
> 
> 标签：excel, r, xts, zoo

My data is currently an xts or zoo object of daily stock prices per row and each column is a different company.

```
library(quantmod)
getSymbols("AAPL;MSFT;YHOO")
closePrices <- merge(Cl(AAPL),Cl(MSFT),Cl(YHOO)) 
```

I am still new to R and need some assistance reproducing this [Excel function](http://i.imgur.com/KMjix.png). My first thought was to split the function into numerator and denominator, and then compute the index:

```
dailyDiff <- abs(diff(closePrices,1))
numerJ <- diff(closePrices,10)
denomJ <- as.xts(rollapply(dailyDiff,11, sum))
idx <- abs(numerJ/denomJ) 
```

This was great because the values for each portion were accurate, but are aligned by incorrect dates for denomJ. For example, the tail of numerJ goes to 6/21/2012, while the tail of denomJ goes to 6/14/2012\.

The output that I am looking for is:

*   6/21/2012 = .11
*   6/20/2012 = .27
*   6/19/2012 = .46
*   6/18/2012 = .39
*   6/15/2012 = .22

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T19:42:54.207

您可以使用 和 的组合`diff`，`runSum`或者`rollapplyr`

```
#Get the data
library(quantmod)
getSymbols("AAPL") 
```

我认为这就是你想要做的（注意使用`lag`参数 to`diff.xts`和`n`参数 to `runSum`）

```
out <- diff(Cl(AAPL), lag=10) / runSum(abs(diff(Cl(AAPL))), n=11)
tail(out['/2012-06-21'])
#           AAPL.Close
#2012-06-14 -0.1047297
#2012-06-15  0.2176938
#2012-06-18  0.3888185
#2012-06-19  0.4585821
#2012-06-20  0.2653782
#2012-06-21  0.1117371 
```

**编辑**

在仔细审查您的问题后，我不明白为什么`rollapplyr`不是您正在寻找的答案。如果我按原样获取您的代码，除了我更改`rollapply`为`rollapplyr`，它看起来就像您正在寻找的输出一样。

```
dailyDiff <- abs(diff(closePrices,1))
numerJ <- diff(closePrices,10)
denomJ <- as.xts(rollapplyr(dailyDiff,11, sum))
idx <- abs(numerJ/denomJ)
#           AAPL.Close MSFT.Close YHOO.Close
#2012-06-14  0.1047297 0.03826531 0.06936416
#2012-06-15  0.2176938 0.35280899 0.25581395
#2012-06-18  0.3888185 0.33161954 0.31372549
#2012-06-19  0.4585821 0.47096774 0.34375000
#2012-06-20  0.2653782 0.32644628 0.23750000
#2012-06-21  0.1117371 0.18997912 0.10256410 
```

另外，请注意，如果您使用，两者`numerJ`都`denomJ`在同一日期结束`rollapplyr`（这与使用`rollapply`with相同`align="right"`）

```
end(numerJ); end(denomJ)
#[1] "2012-07-20"
#[1] "2012-07-20" 
```

**雅虎错误**

也许您看到的问题是雅虎错误，有时——例如，现在——雅虎复制最后（按时间顺序）数据行。如果是这样，请在尝试使用数据进行计算之前尝试删除重复的行。

```
tidx <- tail(index(closePrices), 2)
if(tidx[1] == tidx[2]) {
  closePrices <- closePrices[-NROW(closePrices), ]
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T12:01:19.577

如果没有确切的数据，很难准确判断您的问题是什么，但问题似乎与`rollapply`. 除非参数设置为 ，`rollapply`否则只会将该函数应用于整个间隔。考虑以下示例`partial``TRUE`

```
require(zoo)
#make up some data
mat <- matrix(1:100,ncol=2)
colnames(mat) <- c("x1","x2")
dates <- seq.Date(from=as.Date("2010-01-01"),length.out=50,by="1 day")
zoo.obj <- zoo(mat,dates)
#apply the funcitons
numerJ <- diff(zoo.obj,10)  #dates okay
denomJ <- rollapply(zoo.obj,11, sum,partial=TRUE)  #right dates
denomJ2 <- rollapply(zoo.obj,11,sum) #wrong dates
index <- abs(numerJ/denomJ)  #right dates 
```

# php - 如何从 php 文件访问外部 javascript 文件

> ID：11590195
> 
> 赞同：0
> 
> 时间：2012-07-21T07:05:07.817
> 
> 标签：php, javascript, session-variables

我需要访问单独文件中的 javascript 函数。

这是我正在尝试做的事情：

在我的 php 文件中：

```
var session_lang= <?php echo $_SESSION['SESS_LANGUAGE'];?>;
    if (session_lang!='')
    {
        check_and_change(session_lang);
    }
}); 
```

我`check_and_change()`在那个单独的 javascript 文件中有这个功能，当然也包括在内。

还有一件事。我收到错误提示存在未知`<`符号，因此可能无法读取我的 php 变量。如果有人可以请也检查一下。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:20:55.153

如果错误行是带有 session_lang 变量的行，那么您忘记了双引号（如果 session_lang 是字符串）。

```
var session_lang = "<?php echo $_SESSION['SESS_LANGUAGE'];?>";
    if (session_lang!='')
    {
        check_and_change(session_lang);
    } 
```

# c++ - 模板不匹配调用

> ID：11590209
> 
> 赞同：0
> 
> 时间：2012-07-21T07:07:37.117
> 
> 标签：c++, oop, templates, casting

我在 .h 文件中有以下类：

```
 class T;
    template < class Class, typename ReturnType,typename Parameter1 = int , typename Parameter2 = int, typename Parameter3 = int, typename Parameter4 = int >
    class EventHandlerAbstract
    {
    public:
        // constructors and destructors
        EventHandlerAbstract();
      //  ~EventHandlerAbstract();
        // data types
        typedef ReturnType (Class::*Method)(Parameter1, Parameter2, Parameter3, Parameter4);
      //  test,int Method 

    Method_ ;
        EventHandlerAbstract(Class* _class_instance, Method _method)
        {
            class_instance = _class_instance;
            method        = _method;
        }

ReturnType operator()(Parameter1 parameter1, Parameter2 parameter2=0, Parameter3 parameter3=0, Parameter4 parameter4=0)
{
    return (class_instance->*method)(parameter1, parameter2, parameter3, parameter4);
}

ReturnType execute(Parameter1 parameter1, Parameter2 parameter2, Parameter3 parameter3, Parameter4 parameter4)
{
    return operator()(parameter1, parameter2, parameter3, parameter4);
}

static void * makeFunctionPointer(Method _method, Class* _instance_class,Parameter1 parameter1 ,Parameter2 parameter2 , Parameter3 parameter3 , Parameter4 parameter4 );
Class*  class_instance;
Method  method;

static Class callbackType;
static pthread_t threadArray[1];

static std::vector<void *>  callbackList ;
static std::vector<std::string> eventList ;
static std::vector<std::pair <int, int> > eventRelationToCallbackList;
static std::vector<void * > runningCallbackList; // it should to free and thread should free it .
static std::vector<std::string > runningEventList; // it should to free and thread should free it .
} 
```

然后，我在 cpp 文件中有以下函数：

```
template <class Class,typename ReturnType,typename Parameter1 ,typename Parameter2 ,typename  Parameter3 ,typename Parameter4 >
void * EventHandlerAbstract<Class,ReturnType,Parameter1,Parameter2,Parameter3,Parameter4>::makeFunctionPointer(Method _method, Class* _instance_class,Parameter1 parameter1 = 0,Parameter2 parameter2 = 0, Parameter3 parameter3 = 0, Parameter4 parameter4 = 0)

{
    void * tempCallback;
    ///add_callback
    //
    typedef  typeof(_instance_class) _Class ;
    typedef EventHandlerAbstract<_Class, ReturnType, Parameter1, Parameter2, Parameter3, Parameter4>  Callback_;
//      _Class _instance = _Class();
    Callback_ classPointer(&_instance_class, &_method);
    EventHandlerAbstract<test,int>::callbackType = classPointer ;
    tempCallback = (static_cast<void*>(&classPointer));
    //(*static_cast< _callback* >(tempCallback))(1,2,3,4); //running a func, a good test
    return tempCallback;
} 
```

但是当我调用主函数（例如以下调用）时，我得到错误，我的调用：

```
cout << (void *)(EventHandlerAbstract<T,T>::makeFunctionPointer(&test::called,ptr,1, 2, 5, 9)) << endl; 
```

或者 ：

```
cout << (void *)(EventHandlerAbstract<test,bool>::makeFunctionPointer(&test::called,ptr,1, 2, 5, 9)) << endl; 
```

我的错误：

```
 error: no matching function for call to ‘EventHandlerAbstract<T, T>::makeFunctionPointer(int (test::*)(int, int, int, int), test&, int, int, int, int)’ 
```

或者

```
 error: no matching function for call to ‘EventHandlerAbstract<test, bool>::makeFunctionPointer(int (test::*)(int, int, int, int), test&, int, int, int, int)’ 
```

我很困惑，我在网上阅读了模板上的常见问题解答，但无法理解我的错误。如果你帮助我，你会让我开心...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:41:15.893

模板函数定义不能出现在常规 .cpp 中，因为它们在其他 .cpp 中对编译器不可用。将类定义分成 .h 和 .cpp 仍然很好，因此一种解决方案是`#include "myclass.cpp"`在 .h 文件的底部。

# java - 什么是`public static void main(String[] args)` 代表什么？

> ID：11590210
> 
> 赞同：2
> 
> 时间：2012-07-21T07:07:38.843
> 
> 标签：java

代表什么`public static <X> void main(String[] args)`？我试图理解但没有得到。我知道`public static void main(String[] arg)`。提前致谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-21T07:10:50.450

让我们依次看一下每一位：

*   `public`- 它是一个公共方法，任何可以访问声明 this 的类的东西都可以访问
*   `<X>`- 这是（有点奇怪）具有未绑定类型变量的泛型方法`X`
*   `static`- 该方法与声明它的类型相关，而不是该类型的任何特定*实例*
*   `void`- 该方法不返回值
*   `main`- 方法的名称
*   `String[] args`- 单个参数，类型`String[]`和调用`args`

`main`是JVM使用的入口点。当你运行时：

```
java foo.bar.Baz 
```

它将尝试`main`在类中找到一个方法`foo.bar.Baz`。`main`诚然，我以前从未见过通用方法。有关 Java 中的泛型的更多信息，请阅读[Java 泛型常见问题解答](http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-21T07:10:58.340

1.  `<X>`被称为**类型参数**。

2.  这适用于方法、类、变量等。但它**最重要的用途是使 Collections 更加类型安全。**

3.  `<X>`将在方法中标记**某​​个类型**`main()`。

4.  整句剖析如下：

    *   `public`- 是访问修饰符，意味着可以从任何地方访问此方法。
    *   `<X>`- 类型参数，如上所述
    *   `void`- 这个方法不会返回任何东西
    *   `main`- 方法名，main()方法是java中任何pgm的入口点。
    *   `String[]`: 字符串数组。
    *   `args` : String 类型的数组引用变量。

# jquery - 为什么当我单击红色方块淡出时，fadeOut/fadeIn 会叠加？

> ID：11590216
> 
> 赞同：1
> 
> 时间：2012-07-21T07:09:15.853
> 
> 标签：jquery, fadein

我有一个简单的内容滑块。当有人多次点击红色方块时，幻灯片会堆叠起来。
我使用 setTimeout 来防止它工作时的多次点击，但它再次堆积起来。取消绑定/绑定也不起作用。在[这个 jsFiddle 代码](http://jsfiddle.net/dJQZM/4/)中，我放了一个示例。当有人单击红色方块时，我应该怎么做才能防止多次显示下一张幻灯片？

这是我与 unbind 一起使用的代码，但不起作用：

```
$(function(){
    $(".circle").click(function(e){
        $(".circle").unbind('click');
        var ref = $(this);
        var id= parseInt(ref.attr('id'));
        $(".circle").attr('src','inactive-circle.gif');
        ref.attr('src','active-circle.gif');
        $(".boxicon").fadeOut(50,function(){
            $("#slide"+id).fadeIn(450);
            $(".circle").bind('click');
        });

    });
}) 
```

**最终结果稍作改动：**

```
$(".circle").click(function() {
    var id = parseInt($(this).attr('id'), 10);
    $(".circle").attr('src', 'inactive-circle.gif');
    $(this).attr('src', 'active-circle.gif');
        $(".boxicon").hide();
    $("#slide" + id).stop(true, false).fadeIn(250);
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:30:12.580

我可以看到一些错误，

当你在做 a`var ref = $(this)`时，你就不需要做 a `$(ref)`，

所以你是线条，

```
$(ref).attr('id') 

$(ref).attr('src','active-circle.gif'); 
```

将会，

```
ref.attr('id') 

ref.attr('src','active-circle.gif'); 
```

这也可能会导致一些问题，

**你想达到什么目的？**

Just had a look at your markup in the fiddle, by that, your jQuery looks a bit messed up for a content slider.

**UPDATE**

```
$(function() {
    $(".circle").click(function() {
        var id = parseInt($(this).attr('id'), 10);

        /*the .each() here is optional, you can always do this,
        $(".circle").attr('src', 'inactive-circle.gif');
        */
        $(".circle").each(function() {
            $(this).attr('src', 'inactive-circle.gif');
        });

        $(this).attr('src', 'active-circle.gif');

        /*the .each() here is optional, you can always do this,
        $(".boxicon").fadeOut(50);
        */    
        $(".boxicon").each(function() {
            $(this).fadeOut(50);
        });

        $("#slide" + id).stop(true, true).fadeIn(450);

    });
})​; 
```

made appropriate changes (based on your markup), if you have any doubts, feel free to ask.

[Fiddle Link](http://jsfiddle.net/dJQZM/8/) (Have removed unused markup).

# python - 单击生成图标后使用python下载文件

> ID：11590227
> 
> 赞同：0
> 
> 时间：2012-07-21T07:11:05.937
> 
> 标签：python, download, popupwindow

我正在做一个项目。每天我都需要登录一个网站。导航到报告页面。输入需求信息后，点击“gererate report”图标，弹出窗口要求我保存文件。我想通过python自动完成。

我在互联网上搜索了几天，现在我可以通过 Autoit 来完成，但在 python 中找不到方法。通过使用 urllib2，我最多可以处理单击“生成报告”图标。但是如何获取文件的名称和位置并下载呢？

我想明确指出“生成报告”按钮是表单的提交按钮的精算。没有与生成按钮关联的 Href。提交表单后，会弹出一个文件保存对话框，询问我将文件保存在哪里。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:21:45.977

如果它是来自 Fx 的保存文件对话框，则可能意味着它直接链接到文件。如果您设法填写所有信息并单击 generate_report 图标，您不能检查哪个 href 分配了 generate_button 吗？

```
import urlib
urlfile = "Href of the generate_button"
urllib.urlretrieve(urlfile,"filename") 
```

# python - 缩进错误：Vim 创建不可见的缩进

> ID：11590228
> 
> 赞同：0
> 
> 时间：2012-07-21T07:11:08.493
> 
> 标签：python, vim, indentation

正如您可能看到的（从下面的屏幕截图中），我没有制作额外的缩进级别，并且没有与之对应的制表符或空格。重新输入代码并不能解决此问题。原始文件是从 github 克隆的。我在 Ubuntu 12.04 上使用 gVim 7+，据我所知，原始文件也是在 Linux 机器上编写的。

这是屏幕截图：

![VIM 截图](../Images/7c2390886a2975d5bc87a05a03a72d75.png)

我相信我已经正确缩进了我的代码，但是缩进指南显示了一个新的缩进级别，并且 Python 发出了缩进错误。

我对行尾和编码不是很清楚。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T07:42:36.147

[`https://github.com/flazzarini/conkyconfig/blob/master/tools/anowplaying.py`](https://github.com/flazzarini/conkyconfig/blob/master/tools/anowplaying.py)我从Vim 中克隆`git://github.com/flazzarini/conkyconfig.git`并查看了文件...

```
:set listchars=tab:>-,trail:-,eol:$ list 
```

...以不同的方式突出显示制表符、空格和其他空白。

原作者使用制表符进行缩进。我怀疑您使用的是空格，但无法从您的屏幕截图中看出。

使用以下选项调用 Python...

```
-tt  -- issue errors about inconsistent tab usage 
```

...将帮助您保持缩进一致。

您可能应该`set noexpandtab tabstop=8 shiftwidth=8`（可能在 a 中[**`modeline`**](http://vimdoc.sourceforge.net/htmldoc/usr_21.html#21.6)）与原始来源保持一致。这样，如果您曾经提交过补丁，只会提交您真正添加或更新的行。

# cordova - 使用 cordova 的 ePub 阅读器应用程序

> ID：11590229
> 
> 赞同：2
> 
> 时间：2012-07-21T07:11:45.043
> 
> 标签：cordova, epub

我正在尝试使用 Cordova 创建一个 ePub 阅读器应用程序。另外我想在我的应用程序中使用 turn.js 插件。请建议我一些想法来启动这个应用程序。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-11-12T23:01:02.523

这是一个开放式问题，但这里有一些提示：

*   想想你将如何获得 .epub 文件。开放式还是封闭式云服务？古腾堡计划？从本地设备？每项服务都有其优点和缺点。
*   由于 cordova 只是一个 w3c 小部件实现，因此您需要找到一个[用 HTML / javascript 编写的 .epub 阅读器库](https://stackoverflow.com/questions/16933086/how-to-read-epub-files-using-javascript)。
*   从您使用 turn.js 的愿望来看，布局对您来说很重要。您需要注意，并非所有 .epub 阅读器都是平等的。测试一些带有嵌入字体等的真实 .epub 文件，以确保它们能够正确呈现。当我为一个项目处理 .epub 导出时，一些读者对我很满意。
*   另一件需要注意的事情——如果你是 Cordova 的新手——对你使用的 javascript 框架不是很固执。[Angular.js](https://angularjs.org/)和[Backbone.js](http://backbonejs.org/)是几个选项——还有其他选项。
*   我从 Christophe Coenraets 的教程和网络研讨会开始，[就像这个一样](https://ccoenraets.github.io/cordova-tutorial/)，让我的脚湿透了 Cordova。你的旅费可能会改变; 这是几年前的事了，我不知道现在的情况如何。

# c++ - Visual C++ 浮点数组值变化

> ID：11590231
> 
> 赞同：0
> 
> 时间：2012-07-21T07:12:14.297
> 
> 标签：c++, visual-c++, visual-c++-2010

我是 Visual C++ 的新手，并编写了以下 C++ 代码。我只是在做一些浮点乘法而已:)。但我有一个问题。

```
#include "stdafx.h"
#define PI 3.14F
#define totalRound 10.00F

void MultiplyPIArrayStored()
{
    printf("\n\nAnalysis\n");

    float* defArr = new float[(int)totalRound];
    float inc=0.00F;
    for(float i=1.00F;i<=totalRound;i++)
    {
        defArr[(int)i]=i*PI;
        //printf("Calculation: #define => %f * %f = %f\n",i,PI,i*PI);
    }

    float lPI=3.14F;
    for(float i=1.00F;i<=totalRound;i++)
    {
        //printf("Calculation: local variable => %f * %f = %f\n",i,lPI,i*lPI);
        printf("#define =>%f; local variable=>%f\n",defArr[(int)i],i*lPI);
        if(defArr[(int)i]==i*lPI)
            inc++;
    }

    printf("\nequal rate %f percentage",(inc/totalRound)*100);
    printf("\ndifference rate %f percentage",((totalRound-inc)/totalRound)*100);
}

void MultiplyPI()
{
    printf("\n\nAnalysis\n\n");

    float lPI=3.14F;
    float inc=0.00F;

    for(float i=1.00F;i<=totalRound;i++)
    {
        printf("\nCalculation: #define => %f * %f = %f\n",i,PI,i*PI);
        printf("Calculation: local variable => %f * %f = %f\n",i,lPI,i*lPI);
        printf("#define => %f ; local variable => %f\n",i*PI,i*lPI);
        if(i*PI==i*lPI)
            inc++;
    }

    printf("\nEqual rate %f percentage",(inc/totalRound)*100);
    printf("\nDifference rate %f percentage",((totalRound-inc)/totalRound)*100);
}

int _tmain(int argc, _TCHAR* argv[])
{
    MultiplyPI();
    getchar();

    MultiplyPIArrayStored();
    getchar();

    return 0;
} 
```

它给出以下输出。

```
Analysis

Calculation: #define => 1.000000 * 3.140000 = 3.140000
Calculation: local variable => 1.000000 * 3.140000 = 3.140000
#define => 3.140000 ; local variable => 3.140000

Calculation: #define => 2.000000 * 3.140000 = 6.280000
Calculation: local variable => 2.000000 * 3.140000 = 6.280000
#define => 6.280000 ; local variable => 6.280000

Calculation: #define => 3.000000 * 3.140000 = 9.420000
Calculation: local variable => 3.000000 * 3.140000 = 9.420000
#define => 9.420000 ; local variable => 9.420000

Calculation: #define => 4.000000 * 3.140000 = 12.560000
Calculation: local variable => 4.000000 * 3.140000 = 12.560000
#define => 12.560000 ; local variable => 12.560000

Calculation: #define => 5.000000 * 3.140000 = 15.700001
Calculation: local variable => 5.000000 * 3.140000 = 15.700001
#define => 15.700001 ; local variable => 15.700001

Calculation: #define => 6.000000 * 3.140000 = 18.840001
Calculation: local variable => 6.000000 * 3.140000 = 18.840001
#define => 18.840001 ; local variable => 18.840001

Calculation: #define => 7.000000 * 3.140000 = 21.980001
Calculation: local variable => 7.000000 * 3.140000 = 21.980001
#define => 21.980001 ; local variable => 21.980001

Calculation: #define => 8.000000 * 3.140000 = 25.120001
Calculation: local variable => 8.000000 * 3.140000 = 25.120001
#define => 25.120001 ; local variable => 25.120001

Calculation: #define => 9.000000 * 3.140000 = 28.260001
Calculation: local variable => 9.000000 * 3.140000 = 28.260001
#define => 28.260001 ; local variable => 28.260001

Calculation: #define => 10.000000 * 3.140000 = 31.400001
Calculation: local variable => 10.000000 * 3.140000 = 31.400001
#define => 31.400001 ; local variable => 31.400001

Equal rate 100.000000 percentage
Difference rate 0.000000 percentage

Analysis
#define =>3.140000; local variable=>3.140000
#define =>6.280000; local variable=>6.280000
#define =>9.420000; local variable=>9.420000
#define =>12.560000; local variable=>12.560000
#define =>15.700001; local variable=>15.700001
#define =>18.840000; local variable=>18.840001
#define =>21.980001; local variable=>21.980001
#define =>25.120001; local variable=>25.120001
#define =>28.260000; local variable=>28.260001
#define =>31.400002; local variable=>31.400001

equal rate 40.000000 percentage
difference rate 60.000000 percentage 
```

**问题：**我在函数' `MultiplyPIArrayStored();`'中使用了一个浮点数组。如果您查看输出，则存储在数组中的值会更改（请检查输出的最后一部分。）。数组声明有问题吗？为什么数组值会发生变化？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:20:19.437

数组正在改变，因为这是浮点数学的本质。如果您需要精确值，请不要使用浮点数学。在加载和存储浮点数时，它们可能会受到精度扩展或精度降低的影响。这可能会导致结尾数字发生变化。

如果你让两个人把“1/3”写成十进制数，他们可能会写出不同的东西。如果您要求某人用六位数写“1/3”并将其加倍，然后要求其他人用六位数写 2/3”，您可能会得到“.333333”加倍为“.666666”，但写 2 的人/3 可能写成“.6666667”。如果你从 2/3 中减去 1/3 两次。你可能会剩下 .000001。这就是近似表示的本质。如果这不是你想要的行为，请不要使用它们/需要。

# javascript - 如何遍历jquery选择

> ID：11590234
> 
> 赞同：2
> 
> 时间：2012-07-21T07:13:10.177
> 
> 标签：javascript, jquery, css

我试图弄清楚 jquery 选择器在选择一组元素时是如何工作的。一旦我拥有了所有元素，我将尝试遍历并检查它们的样式值以找出哪个元素具有该样式值，但它似乎不起作用。我必须以不同的方式迭代它们吗？感谢您的任何帮助。我试过搜索和弄乱它，这就是我现在所拥有的。

```
function toggle() {
    //get all the content divs
    var $all_divs = $('.content_div');

    //find the content div that is visable
    var $active_index = -1;
    for (i = 0; i < $all_divs.length(); i++) {
        if ($all_divs[i].style.display == "block") {
            $active_index = i;
        }
    }

    $all_divs[$active_index].style.display = "none";
} 
```

编辑：

更多关于我要去哪里的信息。

基本上我有 4 个 div，当我单击一个按钮时，我希望可见的那个消失，而列表中的下一个出现。

整个代码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Untitled Document</title>

<style type="text/css">
.wrapper {
    width:450px;
    height:30px;
    position:relative;
}

.slide_button {
    width:25px;
    height:30px;
    position:absolute;
    top:0;
}

#left {
    left:0;
}

#right {
    left:425px;
}

.content_div {
    width:400px;
    height:30px;
    position:absolute;
    top:0;
    left:25px;
}
</style>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script>
function toggle() {
    var Divs = $('.content_div');
    var i;
    var index = 0;

    Divs.each(function(index) {
        if ($(this).css('display') == 'block')
            i = index;
        index++;
    });

    if(typeof i !== 'undefined'){
        Divs.eq(i).css('display', 'none');
    }
}
</script>

</head>

<body>
<div class="wrapper">
    <div class="slide_button" id="left">
        <center><a href='javascript:toggle();'><</a></center>
    </div>
    <div id='div1' class='content_div' style="display:block;">
        this is div 1
    </div>
    <div id='div2' class='content_div' style="display:none;">
        this is div 2
    </div>
    <div id='div3' class='content_div' style="display:none;">
        this is div 3
    </div>
    <div class="slide_button" id='right'>
        <center>></center>
    </div>
</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T07:20:56.837

我认为您的代码不起作用的原因是`.length()`在`for`循环条件中的使用。jQuery 对象没有`.length()`方法，它们有`.length`属性。去掉括号，你的代码应该可以工作了。

**编辑：**为了您要求一次显示一个 div，您可以执行以下操作：

```
$(document).ready(function() {
   var $divs = $("div.content_div").hide(),  // first hide all the divs
       i = 0;    
   $divs.eq(i).show();                       // then show the first

   $(".slide_button a").click(function() {        
       $divs.eq(i).hide();                   // on click hide the current div
       i = (i+1) % $divs.length;             // then update the index to
       $divs.eq(i).show();                   // show the next one
   });
}); 
```

演示：http: [//jsfiddle.net/7CcMh/](http://jsfiddle.net/7CcMh/)

（我原来的答案的其余部分：）您用来访问各个元素的语法是可以的：如果`$all_divs`是一个 jQuery 对象，那么它就是`$all_divs[0]`对 jQuery 对象中第一个 DOM 元素的引用。然而，jQuery 提供了`.each()`使这个过程更容易的方法：

```
$('.content_div').each(function() {
     // here 'this' is the current DOM element, so:
     if (this.style.display == "block")
         this.style.display = "none";
     // OR, to access the current element through jQuery methods:
     $(this).css("display", "none");
}); 
```

话虽如此，您似乎希望除了一个元素之外的所有元素都已被隐藏，并且您正在找到那个元素并将其也隐藏起来。如果是这样，您可以在一行中实现：

```
 $('.content_div').hide();
 // OR
 $('.content_div').css("display", "none"); 
```

jQuery 方法喜欢`.hide()`并`.css()`适用于调用它们的 jQuery 对象中的所有元素。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T07:14:26.623

您可以使用 jQuery[`each()`](http://api.jquery.com/jQuery.each/)方法，它可以让您遍历选定的元素。

```
$('.content_div').each(functon(index){
    if ($(this).is(':visible')) { 
        $(this).hide()
    } 
}) 
```

如果要选择可见的 div，可以使用`:visible`选择器：

> 选择所有可见的元素。

```
$('.content_div:visible').css('display', 'none'): // or $('.content_div:visible').hide() 
```

**更新：**

您可以向锚添加一个类并尝试以下操作：

```
<center><a href='#' class="toggle">></a></center> 
```

```
$('.toggle').click(function(e){
  e.preventDefault()  
  if ($('.content_div:visible').next('.content_div').length != 0) {    
     $('.content_div:visible').hide().next('.content_div:hidden:first').show()
  } else {
       $('.content_div').hide().eq(0).show()
  }    
}) 
```

[演示](http://jsfiddle.net/sb2xg/2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T07:15:12.297

使用 JQuery 中的标准[`each`](http://api.jquery.com/each/)方法。

```
$('.content_div').each(function(index) {
    // do work with the given index
    if (this.style.display == "block") {
        this.style.display = "none";
    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T07:16:59.080

最后的变化：

[http://jsfiddle.net/6fPLp/13/](http://jsfiddle.net/6fPLp/13/)

# html - 仅使用 css 将表格从一个位置移动到另一个位置

> ID：11590236
> 
> 赞同：0
> 
> 时间：2012-07-21T07:13:36.370
> 
> 标签：html, css

这里我有两张桌子

```
<div class="ex1">
<table>
<th> table1</th>
<tr>..</tr>
<tr>....</tr>
</table>
</div>
<div class="ex2">

<table>
<th>table2</th>
<tr>..</tr>
<tr>....</tr>
</table>
</div> 
```

我的那些课的CSS，我写的是

```
.ex1{
display: block;
position: relative;
margin: 0;
padding: 0;
border: 0px solid #CCC;
overflow: hidden;
clear: right;
height: 392px;
width: 630px;
}

.ex2{
display: block;
position: relative;
clear: right;
margin: 3px 0 0 0;
border: 1px solid #CCC;
padding-top: 0px;
color: #5A5655;
background-color: #F8F8F8;
text-align: left;
overflow: auto;
z-index: 88;
height: 50px;
-webkit-border-radius: 5px;
-moz-border-radius: 5px;
width: 620x;
} 
```

这里我想要的是当我编写上面的代码时，它可以很好地显示 2 个表，我想先显示 table2，然后我想只使用 css 显示 table1，而不用接触 html 代码......我怎么能做这个？谁能帮我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:31:50.850

[http://jsfiddle.net/Y3BMe/](http://jsfiddle.net/Y3BMe/)

用于`position:absolute`第二个表，`top: 0`然后使用`margin-top`属性向下移动第一个表

在您的现实世界示例中，它可能需要一些调整 - 请参阅[css 定位](http://www.w3schools.com/Css/css_positioning.asp)以获取帮助

# ios - UIImage 返回 Null IOS

> ID：11590245
> 
> 赞同：0
> 
> 时间：2012-07-21T07:16:51.280
> 
> 标签：ios

```
NSURL *url = [NSURL URLWithString: 
              pictureUrl];
UIImage *image = [UIImage imageWithData: [NSData dataWithContentsOfURL:url]];  
NSLog(@"image width:%@",image.size.width); 
```

我从此日志中得到空值？图像有效且显示正确？这是在表格单元格中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:36:45.917

试试这个：

```
NSLog(@"image width:%f",image.size.width); 
```

除此之外，我希望你在后台线程上调用它（**而不是**在 cellForRow 中），否则加载你的单元格会很慢并且搞砸用户交互。

# android - Android 上 github.com 的授权

> ID：11590248
> 
> 赞同：3
> 
> 时间：2012-07-21T07:17:00.003
> 
> 标签：android, post, github, authorization

请帮帮我。我为 github.com api v3 制作了 android 客户端，但我遇到了授权问题。（登录 = mytest12345 ，通过 = 12345test）

[http://developer.github.com/v3/](http://developer.github.com/v3/)

Python 授权示例[http://agrimmsreality.blogspot.com/2012/05/sampling-github-api-v3-in-python.html](http://agrimmsreality.blogspot.com/2012/05/sampling-github-api-v3-in-python.html)

```
serverurl="https://api.github.com"

# Add your username and password here, or prompt for them
auth=BasicAuth(user, password)

# Use your basic auth to request a token
# This is just an example from http://developer.github.com/v3/
authreqdata = { "scopes": [ "public_repo" ], "
               note": "admin script" }
resource = Resource('https://api.github.com/authorizations',
                   pool=pool, filters=[auth])
response = resource.post(headers={ "Content-Type": "application/json" },
                        payload=json.dumps(authreqdata))
token = json.loads(response.body_string())['token']

"""
Once you have a token, you can pass that in the Authorization header
You can store this in a cache and throw away the user/password
This is just an example query.  See http://developer.github.com/v3/
for more about the url structure
"""
resource = Resource('https://api.github.com/user/repos', pool=pool)
headers = {'Content-Type' : 'application/json' }
headers['Authorization'] = 'token %s' % token
response = resource.get(headers = headers)
repos = json.loads(response.body_string()) 
```

这是我的代码：

```
public String Authorization(){
String result = new String("");
try{
HttpClient client = new DefaultHttpClient();

HttpPost post = new HttpPost("https://api.github.com");

post.setHeader("https://api.github.com/authorizations", Base64.encodeToString("mytest12345:12345test".getBytes(), Base64.DEFAULT));
HttpParams pers;

JSONObject json = new JSONObject("{\"scopes\": [\"public_repo\"],\"note\": \"admin script\"}");
StringEntity se = new StringEntity( json.toString());  
se.setContentType(new BasicHeader(HTTP.CONTENT_TYPE, "application/json"));
post.setEntity(se);

StringBuilder builder = new StringBuilder();
HttpResponse response = client.execute(post);

BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity().getContent(),"windows-1251"));
StringBuilder sb = new StringBuilder();
String line = null;

while ((line = reader.readLine()) != null) {
sb.append(line + System.getProperty("line.separator"));
}    
result = sb.toString();
} catch (org.apache.http.client.ClientProtocolException e) {
result = "ClientProtocolException: " + e.getMessage();
} catch (IOException e) {
result = "IOException: " + e.getMessage();
} catch (Exception e) {
result = "Exception: " + e.getMessage();
}

return result;
} 
```

决赛500错误

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T22:44:16.150

我知道你想要它在 Java 中，但你可能对[我刚刚为另一个问题提供的答案](https://stackoverflow.com/a/11621536/741316)感兴趣，以获取更多 Python 示例。

为了进行身份验证，我必须明确说明身份验证的类型（以下是 Python 代码）：

```
base64string = base64.encodestring('%s:%s' % (username, passwd)).replace('\n', '')
req.add_header("Authorization", "Basic %s" % base64string) 
```

但是您似乎没有添加“基本”前缀。尝试添加它，看看你是否成功。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-30T08:26:16.753

```
def encoded = Base64.getEncoder().encodeToString((username + ":" + password).getBytes());
request.setHeader("Authorization", "Basic " + encoded); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-16T16:52:25.407

最后，在浪费了一整天之后，我得到了它。这是我的工作代码。只需传递 uName 和密码，它将返回 JSON 字符串。

```
public String Authorization(String username, String password) {
    String result = null;
    HttpClient client = new DefaultHttpClient();
    HttpGet httpGet = new HttpGet("https://api.github.com/user");

    String encode = Base64.encodeToString((username + ":" + password).getBytes(), Base64.DEFAULT).replace("\n", "");
    httpGet.setHeader("Authorization", "Basic " + encode);
    try {
        HttpResponse httpResponse = client.execute(httpGet);
        InputStream inputStream = httpResponse.getEntity().getContent();
        InputStreamReader inputStreamReader = new InputStreamReader(inputStream);
        BufferedReader bufferedReader = new BufferedReader(inputStreamReader);
        StringBuilder stringBuilder = new StringBuilder();
        String bufferedStrChunk = null;
        while ((bufferedStrChunk = bufferedReader.readLine()) != null) {
            stringBuilder.append(bufferedStrChunk);
        }

        result = stringBuilder.toString();

    } catch (ClientProtocolException cpe) {
        System.out.println("ClientProtocolException :" + cpe);
        cpe.printStackTrace();
    } catch (IOException ioe) {
        System.out.println("IOException :" + ioe);
        ioe.printStackTrace();
    }

    return result;
} 
```

参考链接：[Link1](https://blogs.infosupport.com/accessing-githubs-rest-api-with-curl/) & [Link for basci Auth](https://stackoverflow.com/questions/3283234/http-basic-authentication-in-java-using-httpclient) & [Link for web flow:Android](https://github.com/thiagolocatelli/android-github-oauth)

# android - 如何为 Android Adob e AIR 设置媒体音量控制？

> ID：11590250
> 
> 赞同：5
> 
> 时间：2012-07-21T07:17:25.277
> 
> 标签：android, flash, actionscript, air, adobe

一般来说，基于JAVA的android app开发。我们可以使用...

```
setVolumeControlStream(AudioManager.STREAM_MUSIC); 
```

因此该活动使音量控制器控制媒体音量。如果我想在基于 Adob​​e Air 的 android 应用程序中实现这一点。我怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-03-11T09:56:30.200

如何构建一个 AIR 原生扩展来与 Android 的系统卷进行交互。

喜欢： [https ://github.com/nweber/SystemVolumeNativeExtension](https://github.com/nweber/SystemVolumeNativeExtension)

相关解释文章： http: [//www.adobe.com/devnet/air/articles/building-ane-ios-android-pt1.html](http://www.adobe.com/devnet/air/articles/building-ane-ios-android-pt1.html)

来自 github 自述文件的预期行为

> 使用硬件音量键更改音量时，将显示系统音量弹出窗口。系统音量弹窗消失后，AIR 应用程序将收到新音量的通知。这意味着用户可以在 AIR 收到音量变化通知之前多次按下硬件音量按钮。从 AIR 更改音量时，系统音量会更改，但不会显示系统音量弹出窗口。

# android - 如何插入具有值的新联系人？

> ID：11590251
> 
> 赞同：1
> 
> 时间：2012-07-21T07:17:44.167
> 
> 标签：android

我想插入一个带有星号标志的新联系人，但如果我不使用 start put 代码，它会很好用吗？为什么 ？

```
public void Contact_AddNewContact(ItemValue... items) {

        ArrayList<ContentProviderOperation> ops = new ArrayList<ContentProviderOperation>();

        ops.add(ContentProviderOperation
                .newInsert(ContactsContract.RawContacts.CONTENT_URI)
                .withValue(ContactsContract.RawContacts.ACCOUNT_TYPE, null)
                .withValue(ContactsContract.RawContacts.ACCOUNT_NAME, null)
                .build());

        Builder cop = ContentProviderOperation
                .newInsert(ContactsContract.Data.CONTENT_URI)
                .withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID, 0)
                .withValue(
                        ContactsContract.Data.MIMETYPE,
                        ContactsContract.CommonDataKinds.StructuredName.CONTENT_ITEM_TYPE);

        ops.add(ContentProviderOperation
                .newInsert(ContactsContract.Data.CONTENT_URI)
                **.withValue(
                        ContactsContract.CommonDataKinds.StructuredName.STARRED,
                        true)**
                .withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID, 0)
                .withValue(
                        ContactsContract.Data.MIMETYPE,
                        ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                        "9484651684651")
                .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,
                        ContactsContract.CommonDataKinds.Phone.TYPE_MOBILE)
                .build());

        ops.add(ContentProviderOperation
                .newInsert(ContactsContract.Data.CONTENT_URI)
                .withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID, 0)
                .withValue(
                        ContactsContract.Data.MIMETYPE,
                        ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                .build());

        cop.withValue(
                ContactsContract.CommonDataKinds.StructuredName.DISPLAY_NAME,
                "Ali");

        ops.add(cop.build());
        try {
            getContentResolver().applyBatch(ContactsContract.AUTHORITY, ops);
        } catch (Exception e) {
            e.printStackTrace();

        }

    } 
```

**.withValue(ContactsContract.CommonDataKinds.StructuredName.STARRED, true)**

问题出在哪里，为什么我用粗体代码遇到了这个问题，但没有那个代码就什么都没有？

谢谢 。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:46:43.547

此代码在我的应用程序中成功运行。我想它会对你有所帮助。

```
ArrayList<ContentProviderOperation> ops = new ArrayList<ContentProviderOperation>();
            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.RawContacts.CONTENT_URI)
                    .withValue(ContactsContract.RawContacts.ACCOUNT_TYPE, null)
                    .withValue(ContactsContract.RawContacts.ACCOUNT_NAME, null)
                    .build());
            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.StructuredName.CONTENT_ITEM_TYPE)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredName.DISPLAY_NAME,
                            GetStoreList.get(m).get(0).toString()).build());
            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(2).toString())
                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_HOME)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(3).toString())
                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_MOBILE)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(4).toString())
                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_WORK)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(5).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_FAX_WORK)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(6).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_FAX_HOME)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(7).toString())
                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_PAGER)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(8).toString())
                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_OTHER)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(9).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_CALLBACK)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(10).toString())
                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_CAR)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(11).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_COMPANY_MAIN)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(12).toString())
                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_ISDN)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(13).toString())
                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_MAIN)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(14).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_OTHER_FAX)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(15).toString())
                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_RADIO)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(16).toString())
                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_TELEX)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(17).toString())
                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_TTY_TDD)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(18).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_WORK_MOBILE)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(19).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_WORK_PAGER)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(20).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_ASSISTANT)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER,
                            GetStoreList.get(m).get(21).toString())
                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,
                            ContactsContract.CommonDataKinds.Phone.TYPE_MMS)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)
                    .withValue(
                            Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Email.DATA,
                            GetStoreList.get(m).get(22).toString())
                    .withValue(ContactsContract.CommonDataKinds.Email.TYPE,
                            ContactsContract.CommonDataKinds.Email.TYPE_HOME)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)
                    .withValue(
                            Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Email.DATA,
                            GetStoreList.get(m).get(23).toString())
                    .withValue(ContactsContract.CommonDataKinds.Email.TYPE,
                            ContactsContract.CommonDataKinds.Email.TYPE_WORK)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)
                    .withValue(
                            Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Email.DATA,
                            GetStoreList.get(m).get(24).toString())
                    .withValue(ContactsContract.CommonDataKinds.Email.TYPE,
                            ContactsContract.CommonDataKinds.Email.TYPE_OTHER)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)
                    .withValue(
                            Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)
                    .withValue(ContactsContract.CommonDataKinds.Email.DATA,
                            GetStoreList.get(m).get(25).toString())
                    .withValue(ContactsContract.CommonDataKinds.Email.TYPE,
                            ContactsContract.CommonDataKinds.Email.TYPE_MOBILE)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.CONTENT_ITEM_TYPE)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.STREET,
                            GetStoreList.get(m).get(26).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_HOME)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.POBOX,
                            GetStoreList.get(m).get(27).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_HOME)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.NEIGHBORHOOD,
                            GetStoreList.get(m).get(28).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_HOME)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.CITY,
                            GetStoreList.get(m).get(29).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_HOME)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.REGION,
                            GetStoreList.get(m).get(30).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_HOME)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.POSTCODE,
                            GetStoreList.get(m).get(31).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_HOME)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.COUNTRY,
                            GetStoreList.get(m).get(32).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_HOME)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.CONTENT_ITEM_TYPE)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.STREET,
                            GetStoreList.get(m).get(33).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_WORK)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.POBOX,
                            GetStoreList.get(m).get(34).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_WORK)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.NEIGHBORHOOD,
                            GetStoreList.get(m).get(35).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_WORK)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.CITY,
                            GetStoreList.get(m).get(36).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_WORK)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.REGION,
                            GetStoreList.get(m).get(37).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_WORK)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.POSTCODE,
                            GetStoreList.get(m).get(38).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_WORK)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.COUNTRY,
                            GetStoreList.get(m).get(39).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_WORK)
                    .build());

            ops.add(ContentProviderOperation
                    .newInsert(ContactsContract.Data.CONTENT_URI)
                    .withValueBackReference(
                            ContactsContract.Data.RAW_CONTACT_ID, 0)
                    .withValue(
                            ContactsContract.Data.MIMETYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.CONTENT_ITEM_TYPE)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.STREET,
                            GetStoreList.get(m).get(40).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_OTHER)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.POBOX,
                            GetStoreList.get(m).get(41).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_OTHER)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.NEIGHBORHOOD,
                            GetStoreList.get(m).get(42).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_OTHER)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.CITY,
                            GetStoreList.get(m).get(43).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_OTHER)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.REGION,
                            GetStoreList.get(m).get(44).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_OTHER)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.POSTCODE,
                            GetStoreList.get(m).get(45).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_OTHER)
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.COUNTRY,
                            GetStoreList.get(m).get(46).toString())
                    .withValue(
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE,
                            ContactsContract.CommonDataKinds.StructuredPostal.TYPE_OTHER)
                    .build());
            // Log.e("insert",""+GetStoreList.get(l).get(0).toString());
            try {
                getContentResolver()
                        .applyBatch(ContactsContract.AUTHORITY, ops);
            } catch (Exception e) {
                // Log.e("Error", e.toString());
            } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-10T12:11:22.073

```
 public void Contact_AddNewContact(ItemValue... items) {

    ArrayList<ContentProviderOperation> ops = new ArrayList<ContentProviderOperation>();

    ops.add(ContentProviderOperation.newInsert(ContactsContract.RawContacts.CONTENT_URI)
    //putting it here worked on mine  
            .withValue(ContactsContract.CommonDataKinds.StructuredName.STARRED,true)

            .withValue(ContactsContract.RawContacts.ACCOUNT_TYPE, null)
            .withValue(ContactsContract.RawContacts.ACCOUNT_NAME, null)
            .build()); 
```

# c# - 在运行时从标签中删除图像

> ID：11590252
> 
> 赞同：1
> 
> 时间：2012-07-21T07:17:48.320
> 
> 标签：c#, winforms, label, nullreferenceexception

在 C# 中，我有一个二维标签数组，我想根据条件更改其图像。更具体地说，我想让它在给定图像和根本没有图像之间切换（将其变成透明标签）并在满足条件时再次返回。目前，为了再次清除标签，我正在使用这个：

`someLabelArray[i][j].Image = null;`

但它总是抛出空引用异常，这让我怀疑这不是做事的“正确”方式。或者也许我误解了这个错误？有一个更好的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:22:19.143

我怀疑那绝对没问题-但是对于您使用的任何值，要么`someLabelArray`为空，要么为空。`someLabelArray[i]``i`

简单的测试方法：将代码更改为：

```
someLabelArray[i][j].Text = "foo"; 
```

这显然与图像无关，如果您的阵列没问题，它肯定会起作用。我怀疑这将以同样的方式失败，在这种情况下，您需要仔细查看您是如何构建数组的。

如果这*行得通*- 好吧，我再看看:)

# php - ftp 使用 PHP 登录并放置文件

> ID：11590256
> 
> 赞同：0
> 
> 时间：2012-07-21T07:18:16.167
> 
> 标签：php

我是 PHP 新手，所以请放轻松！我想要做的是以下内容：

*   用户进入一个 html 登录页面并输入他们的详细信息（这些实际上是他们的 unix long-in）
*   如果这些都是正确的，则要求用户输入一些信息并按提交
*   在执行此操作时，将使用今天的日期创建一个文件，并且内容由用户选择。
*   这个文件是 ftp'​​d 到用户 unix 帐户的 root 我应该遵循什么过程来做到这一点？

到目前为止，我的 PHP 看起来像这样（但它不起作用）

```
<?php

$ftp_server = '192.168.103.11'; //actual domain is listed here.
$ftp_username = $_POST['username'];
$ftp_password = $_POST['password'];
$location = "ftp://$ftp_username:$ftp_password@$ftp_server";
$dest = '/home/detica/mjm/'
$source = '/var/www/html/test.txt'
$mode = 'FTP_ASCII'

$ftp_connect_id = ftp_connect($ftp_server);
$ftp_login = ftp_login($ftp_connect_id, $ftp_username, $ftp_password);
if (! $ftp_connect_id || ! $ftp_login)
{
echo "Unable to connect to $ftp_server";
exit;
} else {
header("Location: $location");
echo "Connected to host $ftp_server";

$upload = ftp_put($ftp_connect_id, $dest, $source, $mode);

if (!$upload) { echo 'FTP upload failed!'; }

ftp_close(ftp_connect_id);
}
ftp_close($ftp_connect_id);
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:42:27.297

这是我快速整理的东西，我让你完成它；p希望它有帮助。

```
<?php 
/**
 * A simple FTP crud class
 */
Class ftp_it{

    public $status;

    function __construct($host,$user,$pass){
        $this->host = $host;
        $this->user = $user;
        $this->pass = $pass;
        $this->status = 'Ready';
    }

    /*Singleton FTP Connect*/
    private function connect(){
        if (!isset($this->ftp)){
            $this->ftp = ftp_connect($this->host, 21, 3) or die ("Cannot connect to host");
            ftp_login($this->ftp, $this->user, $this->pass) or die("Cannot login");
            ftp_pasv($this->ftp, true);
            $this->status = 'Connected';
        }
    }

    public function get($local_file,$ftp_path){
        $this->connect();
        if(ftp_get($this->ftp, $local_file, $ftp_path,  FTP_BINARY)) {
            $this->status = 'Download complete';
        }else{
            $this->status = 'Cannot download';
        }
    }

    public function put($local_file,$ftp_path){
        $this->connect();
        if(ftp_put($this->ftp, $ftp_path, $local_file, FTP_BINARY)) {
            $this->status = 'Upload complete';
        }else{
            $this->status = 'Cannot upload';
        }
    }

    public function delete($ftp_path){
        $this->connect();
        if (ftp_delete($this->ftp, $ftp_path)) {
            $this->status = "$ftp_path deleted successful";
        }else{
            $this->status = "Could not delete $ftp_path";
        }
    }

    public function make_dir($dir){
        $this->connect();
        if (ftp_mkdir($this->ftp, $dir)) {
            $this->status = "Successfully created $dir";
        } else {
            $this->status = "Could not create $dir";
        }
    }

    public function delete_dir($dir){
        $this->connect();
        if (ftp_rmdir($this->ftp, $dir)) {
            $this->status = "Successfully deleted $dir\n";
        } else {
            $this->status = "Could not delete $dir\n";
        }
    }

    public function show_files($dir='/'){
        $this->connect();
        return ftp_nlist($this->ftp, $dir);
    }

    private function close(){
        ftp_close($this->ftp);
    }

    function __destruct(){
        if(isset($this->ftp)){
            $this->close();
        }
    }
}//END Class

//Has user posted form?
if($_SERVER['REQUEST_METHOD']=='POST'){

    //Assign values from form ill leave you to workout validation
    $content  = $_POST['content'];
    $filename = $_POST['fn'];
    //Host creds
    $host = $_POST['host'];
    $user = $_POST['user'];
    $pass = $_POST['pass'];

    //Start FTP crud
    $ftp = new ftp_it($host,$user,$pass);
    //Some other options  ;)
    //$ftp->get('./DOWN/test.txt','/test.txt');
    //$ftp->delete('/test.txt');
    //$ftp->make_dir('/test');
    //$ftp->delete_dir('/test');
    //$ftp->show_files('/');

    //Create A temp file for the POSTEd Contents
    $tmpfname = tempnam("/tmp", "FTP");
    $handle = fopen($tmpfname, "w");
    //Write it to file
    fwrite($handle, $content);
    fclose($handle);

    //Upload the file
    $ftp->put($tmpfname,'/'.$filename);

    //Status
    echo $ftp->status;
}else{
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Save this to my FTP</title>
<style>
*{padding:0px; margin:0px;}
#outer{padding:5px;}
</style>
</head>

<body topmargin="0" leftmargin="0">

<div id="outer">
<form method="POST" action="">
<h1>Save this to my FTP</h1>
  <p>The Content:</p>
  <p><textarea rows="8" name="content" cols="62"></textarea></p>
  <p>Filename: <input type="text" name="fn" size="22"></p>
  <p>&nbsp;</p>
  <p>
  Host: <input type="text" name="host" size="15">
  Username: <input type="text" name="user" size="14">
  Password: <input type="text" name="pass" size="14">
  </p>
  <p>&nbsp;</p>
  <p><input type="submit" value="Submit"></p>
</form>

</div>
<p>&nbsp;</p>
</body>

</html> 
<?php }?> 
```

# jquery - 我的 css -jquery 下拉菜单与表标签重叠

> ID：11590257
> 
> 赞同：0
> 
> 时间：2012-07-21T07:19:11.907
> 
> 标签：jquery, css

下拉菜单就像 ul 列表菜单---

```
<li> <a href="#"><span> My Daashboard &nbsp; <em class="opener-technology"> <img src="../images/zonebar-downarrow.png" alt="dropdown" /> 
  </em> </span></a> 
  <ul class="technologysublist">
    <li><a href="#">Apple</a></li>
    <li><a href="#">Design</a></li>
    <li><a href="#">Gadgets</a></li>
    <li><a href="#">Hardware</a></li>     
  </ul>
</li> 
```

由于 html td 标签，上面的下拉菜单列表被隐藏了..你能告诉我如何解决这个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:25:23.233

为什么不使用增加 technologysublist 的 z-index 值

```
.technologysublist{
postion:absolute;
z-index:1; //1 or greater till it comes up
} 
```

# python - Python：在终端上隐藏子进程打印并在子运行时继续脚本

> ID：11590258
> 
> 赞同：0
> 
> 时间：2012-07-21T07:19:39.007
> 
> 标签：python, debian, subprocess, scapy

有没有办法将 python2.6 与其中一个`subprocess.Popen()`或`os.system()`运行两个任务一起使用？示例脚本将`airodump-ng`首先运行“”，然后这个进程是子进程并被隐藏（意味着不会从终端打印出来），然后继续运行包含“ `sniff`”函数的脚本的其余部分。我被研究过，但我只找到了windows版本和python3。顺便说一句，我在 debian 上运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:40:44.647

[`subprocess.Popen`](http://docs.python.org/library/subprocess.html#subprocess.Popen)结合使用[`subprocess.PIPE`](http://docs.python.org/library/subprocess.html#subprocess.PIPE)：

```
p = Popen(['airodump-ng', …], stdin=PIPE, stdout=PIPE, stderr=PIPE) 
```

如果您想等到该过程完成使用：

```
stdout, stderr = p.communicate() 
```

如果您省略上面的代码，`airodump-ng`将在后台运行并且不会产生可见的输出，而您可以继续使用您的 python 代码。

另一种方法是使用`os.devnull`重定向到的输出`airodump-ng`，这将完全摆脱产生的任何输出：

```
devnull = os.open(os.devnull, os.O_WRONLY)
p = Popen(['airodump-n', …], stdout=devnull, stderr=devnull) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-05T20:43:10.037

在您放置命令的地方，`airodump-ng`将该部分替换为`timeout 'X's airodump-ng mon'X'`

# css - 如何破解 GWT 主题中可用的样式？

> ID：11590260
> 
> 赞同：0
> 
> 时间：2012-07-21T07:19:46.043
> 
> 标签：css, gwt, gwt2

我需要破解 GWT Clean 主题中的一些样式。

例如。`.gwt-TabLayoutPanel .gwt-TabLayoutPanelTabs {`

```
 background: none repeat scroll 0 0 #CCCCCC;
    padding-left: 5px;
    padding-top: 6px;
} 
```

上述风格存在于 GWT Clean 主题中。

以下是破解的，

`@external gwt-TabLayoutPanelTabs;`

`.gwt-TabLayoutPanelTabs {`
`background: none repeat scroll 0 0 #FFF000;`

`padding-left: 1px;`
`padding-top: 0px;`
`top: 0px;`

```
width: 140px !important; } 
```

在 UI 中，我看到了 Clean.css 中的样式。我的黑客风格没有应用。但是我的黑客风格只考虑了以下几行

`top: 0px;`

```
width: 140px !important; ` 
```

这 3 行不适用

```
background: none repeat scroll 0 0 #FFF000;` 
```

`padding-left: 1px;`

```
padding-top: 0px; 
```

那么任何人都可以帮助我吗？

提前致谢， Gnik

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:03:20.557

通过添加 !important; 来修复它 与所有属性。

# asp.net - 为什么 recaptcha.IsValid 总是返回 True

> ID：11590269
> 
> 赞同：2
> 
> 时间：2012-07-21T07:21:02.297
> 
> 标签：asp.net, captcha, recaptcha

为什么recaptcha.IsValid 总是返回True？

```
 Protected Sub CreateUserWizard1_CreatingUser(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.LoginCancelEventArgs) Handles CreateUserWizard1.CreatingUser
    Dim Captcha As RecaptchaControl = CType(CreateUserWizard1.CreateUserStep.ContentTemplateContainer.FindControl("recaptcha1"), RecaptchaControl)
    If Not Captcha.IsValid Then
        e.Cancel = True
    End If
End Sub 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T07:21:02.297

`Captcha.Validate()`之前打电话`Captcha.IsValid`

```
 Protected Sub CreateUserWizard1_CreatingUser(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.LoginCancelEventArgs) Handles CreateUserWizard1.CreatingUser
    Dim Captcha As RecaptchaControl = CType(CreateUserWizard1.CreateUserStep.ContentTemplateContainer.FindControl("recaptcha1"), RecaptchaControl)
    Captcha.Validate()
    If Not Captcha.IsValid Then
        e.Cancel = True
    End If
End Sub 
```

# python - 如何在 Cheetah 模板中更好地替换

> ID：11590271
> 
> 赞同：1
> 
> 时间：2012-07-21T07:21:30.910
> 
> 标签：python, cheetah

给定以下 Cheetah 模板

```
#filter None
{data:[
#for $person in $persons
{naam: "#if $person.lastname==None then '' else $person.lastname.replace('"', '\\"')#}, 
#end for
]}
#end filter 
```

用 \\ 替换 " 真是一口难言

任何人都有更简单/更短的方式来编写这个表达式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:28:43.860

I do not know Cheetah, but maybe this works:

```
{naam: "#$person.lastname and $person.lastname.replace('"', '\\"')#}, 
```

# c# - 点击向导中的完成按钮后，如何在系统发送电子邮件时向系统添加（请稍候）屏幕或弹出窗口？

> ID：11590274
> 
> 赞同：0
> 
> 时间：2012-07-21T07:21:40.987
> 
> 标签：c#, asp.net, sql-server-2008-r2

我使用 ASP.NET 向导控件将新用户添加到我开发的基于 Web 的应用程序中。一切正常。现在，我从系统管理员那里得到了一个新要求，它正在向新用户发送电子邮件通知，告诉他他已被添加到系统中。我将 Mail 函数添加到我的代码中并且它可以工作。现在，单击向导上的完成按钮后，用户将被添加到数据库中，系统将向用户发送电子邮件通知，然后向导将显示成功消息。但是，有时系统需要很长时间才能将该电子邮件发送给用户并且向导向我显示成功消息。

**那么，在系统向用户发送电子邮件时，如何显示（请稍候）屏幕/弹出窗口？**

**带有邮件功能的代码隐藏：**

```
 protected void Wizard1_FinishButtonClick(object sender, WizardNavigationEventArgs e)
    {

        string username = TextBox1.Text;

        if (!String.IsNullOrEmpty(radio1.SelectedValue) && !String.IsNullOrEmpty(username))
        {
            string connString = "Data Source=localhost;Initial Catalog=TestDB;Integrated Security=True";

            string insertUserCommand = "INSERT INTO employee (Name, Username, JobTitle, BadgeNo, EmpOrgType, DivisionCode) values (@Name, @Username, @JobTitle, @BadgeNo, @EmpOrgType, @DivisionCode)";
            string cmdText = "SELECT Count(*) FROM employee WHERE Username = '" + username + "'";
            using (SqlConnection conn = new SqlConnection(connString))
            {
                conn.Open();
                // Open DB connection.
                using (SqlCommand cmd = new SqlCommand(cmdText, conn))
                {
                    if ((int)cmd.ExecuteScalar() == 0){

                        SqlCommand cmd2 = new SqlCommand(insertUserCommand, conn);
                        cmd2.Parameters.AddWithValue("@Name", user.Name);
                        cmd2.Parameters.AddWithValue("@Username", username);
                        cmd2.Parameters.AddWithValue("@JobTitle", jobTitle);
                        cmd2.Parameters.AddWithValue("@BadgeNo", EmpNo.));
                        cmd2.Parameters.AddWithValue("@EmpOrgType", orgType);
                        cmd2.Parameters.AddWithValue("@DivisionCode", orgCode);
                        cmd2.ExecuteNonQuery();
                    }

                }
            }

            //For updating the role of the user
            string deleteCommand = "DELETE FROM UserRole where Username=@Username";
            string insertCommand = "INSERT INTO UserRole (RoleID,Username) values(@RoleID,@Username)";
            using (SqlConnection conn = new SqlConnection(connString))
            {
                conn.Open();
                //using (SqlCommand cmd = new SqlCommand(cmdText, conn))
                using (SqlCommand cmd = new SqlCommand(deleteCommand, conn))
                {
                    cmd.Parameters.AddWithValue("@Username", username);
                    cmd.ExecuteNonQuery();
                    //Now the insert
                    cmd.CommandText = insertCommand;
                    cmd.Parameters.Clear(); 
                    cmd.Parameters.AddWithValue("@RoleID", radio1.SelectedValue);
                    cmd.Parameters.AddWithValue("@Username", username);
                    cmd.ExecuteNonQuery();
                    //infoSpan.InnerText = String.Format("The users role has been updated to - {0}", radio1.SelectedValue);
                    //cmd.ExecuteScalar();
                    //infoSpan.InnerText = String.Format("The users role has been updated to - {0}", radio1.SelectedValue);
                }
            }

            Wizard1.Visible = false;
            wizard.InnerHtml = @"<p><b>The task has been done successfully.</b> <br /> <a href='UserManagement.aspx'>Edit Another User</a></p>";
        }

        SendEmailToUser(username);

    }
/*****************************************************/

    protected void SendNotificationByEmail(string toAddresses, string fromAddress, string MailSubject, string MessageBody, bool isBodyHtml)
    {
        SmtpClient sc = new SmtpClient("MailAddress");
        try
        {
            MailMessage msg = new MailMessage();
            msg.From = new MailAddress("test@mailAddress.com", "Test Sys");

            msg.Bcc.Add(toAddresses);
            msg.Subject = MailSubject;
            msg.Body = MessageBody;
            msg.IsBodyHtml = isBodyHtml;
            sc.Send(msg);
        }
        catch (Exception ex)
        {
            throw ex;
        }

    }

    protected void Send(string username)
    {
        string connString = "Data Source=localhost;Initial Catalog=TestDB;Integrated Security=True";

        string networkID = username.ToString();

        using (SqlConnection conn = new SqlConnection(connString))
        {
            var sbEmailAddresses = new System.Text.StringBuilder(2000);

            //initiate the varibles that will be retreived from the database
            string name = null;

            // Open DB connection.
            conn.Open();

            string cmdText2 = @"SELECT     Name
                                FROM       dbo.employee
                                WHERE     (Username = @networkID)";
            using (SqlCommand cmd = new SqlCommand(cmdText2, conn))
            {
                cmd.Parameters.AddWithValue("@networkID", networkID);
                SqlDataReader reader = cmd.ExecuteReader();
                if (reader != null)
                {
                    if (reader.Read())
                    {
                        name = reader["Name"].ToString();
                        sbEmailAddresses.Append(username).Append("@mailAddress.com");
                    }
                }

                //var sEMailAddresses = sbEmailAddresses.ToString();
                string body = @"...........................";
                SendNotificationByEmail(sbEmailAddresses.ToString(), "", "Welcome...", body, true);
                sbEmailAddresses.Clear();
                reader.Close();

            }

            conn.Close();
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T07:31:43.347

如果您的应用程序使用`UpdatePanel`，您可以使用该[`UpdateProgress`](http://msdn.microsoft.com/en-us/library/system.web.ui.updateprogress.aspx)控件在请求处理时显示您想要的任何内容。

# knockout.js - 我发现Knockout.js值绑定在IE8中有内存泄漏，这段代码写错了吗？

> ID：11590277
> 
> 赞同：2
> 
> 时间：2012-07-21T07:22:04.410
> 
> 标签：knockout.js

这是另一个的演示代码。它使用文本绑定并且在 IE8 和 chrome 中都可以正常工作：http: [//jsfiddle.net/haq2y/30/](http://jsfiddle.net/haq2y/30/)

但是当我将它从文本绑定修改为值绑定时。 [http://jsfiddle.net/vfahrenheit/UtQyU/3/](http://jsfiddle.net/vfahrenheit/UtQyU/3/)

我发现IE8的内存每次点击会增长3m-4m（假排序按钮）。在 Chrome 中，没有显着的内存增长似乎没问题。

那么是代码写错了还是其他问题引起的呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T15:59:00.753

我现在已经在两台不同的计算机上尝试过了。一个运行 Windows XP，一个运行 Windows 7，都使用 IE 8。我发现 jsFiddle 没有内存泄漏，或者在它自己的环境中运行代码。我无法复制您的问题。

我怀疑你有一些导致泄漏的插件。

# javascript - 处理存储为字符串的数字

> ID：11590278
> 
> 赞同：1
> 
> 时间：2012-07-21T07:22:10.177
> 
> 标签：javascript, json, coffeescript, websocket

我猜这个问题对于 CoffeScript 和 JavaScript 来说很常见。在我的 CoffeeScript 脚本中，我收到了一个类似于`606.0`websocket 的数字。因此它以字符串的形式出现，从主机到达的 JSON 中提取。现在我想使用这个数字，比如说，添加一些东西，比如：

```
# @x is the number presented as a string
@xx = @x + 100
console.log("res=" + @xx) 
```

我得到的是：

```
res=606.0100 
```

所以它被添加为一个字符串！如果我稍微更改代码，“说” 100 是浮点数：

```
# @x is the number presented as a string
@xx = @x + 100.0
console.log("res=" + @xx) 
```

结果还是一样。

我的问题是 - 如何向 CoffeScript/JavaScript 解释这是一个数字，而不是一个字符串？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T07:26:24.783

要从字符串中转换数字，只需在前面加上`+`：

```
n = '100'
alert n + 1 # 1001
alert +n + 1 # 101 
```

[http://jsfiddle.net/elclanrs/d77uq/](http://jsfiddle.net/elclanrs/d77uq/)

# c# - Reflection.Emit 私有属性访问

> ID：11590282
> 
> 赞同：0
> 
> 时间：2012-07-21T07:22:39.747
> 
> 标签：c#

我正在使用`Reflection.Emit`动态生成属性的吸气剂。到目前为止，我的代码在我测试过的所有情况下都有效，除非该属性不是公共的，或者是具有私有访问器的公共属性。通过迭代 GetProperties 的结果传入 PropertyInfo。当属性不公开时，调用`delegate`throws

`"System.NullReferenceException : Object reference not set to an instance of an object."`

我正在使用此代码生成： ( `property`is a `PropertyInfo`)

```
// Get setter or return null
MethodInfo setMethod = property.GetSetMethod ();
if (setMethod == null)
    return null;

// Method names follow the pattern: "_Set<Property>_"
DynamicMethod dm = new DynamicMethod(String.Concat ("_Set", property.Name, "_"), typeof(void),
                                     new Type[] { typeof(object), typeof(object) },
                                             property.DeclaringType, true);
ILGenerator generator = dm.GetILGenerator ();
generator.Emit (OpCodes.Ldarg_0);
generator.Emit (OpCodes.Castclass, property.DeclaringType);
generator.Emit (OpCodes.Ldarg_1);

if (property.PropertyType.IsClass)
    generator.Emit (OpCodes.Castclass, property.PropertyType);
else
    generator.Emit (OpCodes.Unbox_Any, property.PropertyType);

generator.EmitCall (OpCodes.Callvirt, setMethod, null);
generator.Emit (OpCodes.Ret);

return (Action<object, object>)dm.CreateDelegate (typeof(Action<object, object>)); 
```

# java - 如何在每个布局页面中都有一个标题？

> ID：11590283
> 
> 赞同：2
> 
> 时间：2012-07-21T07:22:49.257
> 
> 标签：java, android, user-interface

我想要这段代码：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" >

<TextView android:id="@+id/logo" style="@style/logo"
    android:layout_alignParentTop="true"
    android:text="@string/logo" tools:context=".MainActivity" /> 
```

从每个布局开始。我怎样才能做到这一点，我不需要将它添加到每个布局页面？就像我会使用的 PHP 一样`<?=include("header.php");?>`（只是一个例子，实际上这是不好的做法，在这里没关系）。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T07:30:20.033

`<include>`标签就是你想要的。[在Re-using Layouts with](http://developer.android.com/training/improving-layouts/reusing-layouts.html)中阅读它[`<include/>`](http://developer.android.com/training/improving-layouts/reusing-layouts.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T07:30:21.263

您可以`<include .../>`在布局中使用标签在需要的地方重用标题。有关示例，请参见[此处。](http://android-developers.blogspot.gr/2009/02/android-layout-tricks-2-reusing-layouts.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-21T07:35:11.397

将您的标头保存在 XML 文件中，然后将此 XML 作为子布局包含在其他布局中：

```
<include  layout="@layout/headerlayout" android:id="@+id/headerLayoutid"  ...  /> 
```

***headerlayout.xml*** 是您应该在其中定义的上述布局的名称，并且`res/layout`您喜欢在所有布局中显示为标题（`layout="@layout/headerlayout"`），***headerLayoutid*** 也是您的标题布局的 ID（在它的父级中），您可以在您的父级中引用它布局或在您的代码中。
您可以覆盖所有布局参数。这意味着任何`android:layout_*`属性都可以与标签一起使用。这是一个例子：

```
<include android:layout_width="fill_parent" layout="@layout/image_holder" /> 
```

您可以在 about include in [this page](http://www.curious-creature.org/2009/02/25/android-layout-trick-2-include-to-reuse/)中查看更多详细信息。
**编辑**：
如果您在查找包含布局中的视图时遇到问题，请参阅此问题，希望这些对您有所帮助：
[findViewById 不适用于包含？](https://stackoverflow.com/questions/10803672/findviewbyid-not-working-for-an-include)
[通过 id 查找视图？](https://stackoverflow.com/questions/9184113/finding-an-include-view-by-id)

# javascript - 未捕获的类型错误：对象 .NumCon 没有“应用”方法

> ID：11590286
> 
> 赞同：3
> 
> 时间：2012-07-21T07:24:07.927
> 
> 标签：javascript, jquery

我想运行一个 jquery 代码，如果数字值文本输入低于`7`，则结果为 false。但我收到以下错误：

```
 Uncaught TypeError: Object .NumCon has no method 'apply'
     f.event.dispatch
     f.event.add.h.handle.i 
```

我该怎么办？

演示：http: [//jsfiddle.net/FZMsP/](http://jsfiddle.net/FZMsP/)

这是我的代码：

```
<form>
    <input type="password" name="user_pass" class="NumCon" id="7">
</form>

​
function NumCon() {
    var result = true;
    $(this).closest("form").find('.NumCon').each(function () {
        var size = this.value.length;
        var NumVal = $(this).attr('id');
        if (size <= NumVal) {
            $(this).css("background", "#ffc4c4");
            result = false;
        }else{
            $(this).css("background-color", "#ffffec");
        }
    });
}

$('.NumCon').live('keyup', NumCon());​ 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T07:28:20.300

您正在从定义行内部调用您的函数，该定义行（由于某种原因）然后被解释为一个对象。

```
$('.NumCon').on('keyup', NumCon);​ 
```

解决你的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T16:39:31.867

.live 现在已经被贬值了，看来你现在应该使用： $(document).on("click", "a.offsite", function(){ alert("Goodbye!"); });

[jQuery.live](http://api.jquery.com/live/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-22T19:27:41.373

​解决方案是

``$('.NumCon').on('keyup', yourFunction(yourParameters));``

来源[http://api.jquery.com/on/](http://api.jquery.com/on/)

# datetimepicker - 本地主机中的datatimepicker jquery显示不正确

> ID：11590287
> 
> 赞同：0
> 
> 时间：2012-07-21T07:24:29.317
> 
> 标签：datetimepicker

我已经设置了 jquery datetimepicker，但它无法在 localhost 中正确显示（但在线可以）。图一是datetimepicker localhost，图二是datetimepicker online：

[图片1](http://user.phongdaotao.com/resource.aspx?type=image&id=120)

[图二](http://user.phongdaotao.com/resource.aspx?type=image&id=121)

谁有理想？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:41:02.243

请检查您是否包含以下文件：

```
 1\. jquery-ui-1.8.custom.css

    2\. jquery-1.7.1.min.js

    3\. jquery-ui-1.8.custom.min.js 
```

## 示例html代码如下：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<title>DistribuTix</title>
<meta http-equiv="expires" content="">
<meta http-equiv="ImageToolbar" content="No">

<link href="css/style.css" rel="stylesheet" type="text/css">

<link rel="stylesheet" media="all" type="text/css" href="css/ui-lightness/jquery-ui-1.8.custom.css" />
<script src="js/jquery-1.7.1.min.js" type="text/javascript"></script>
<script type="text/javascript" src="js/jquery-ui-1.8.custom.min.js"></script>
<style type="text/css">

  #ui-datepicker-div{ font-size: 80%; }

         /* css for timepicker */
        #ui-timepicker-div dl{ text-align: left; }
        #ui-timepicker-div dl dt{ height: 25px; }
        #ui-timepicker-div dl dd{ margin: -25px 0 10px 65px; }

 </style>

</head>
<body>

<input name="eventDate" id="eventDate" maxlength="20" size="17">

</body>

<script type="text/javascript">
$('#eventDate').datepicker({
 dateFormat: 'mm-dd-yy',
 showOn: "button",
 buttonImage: "../images/calendar.gif",
 buttonImageOnly: true
});
</script>
</html> 
```

还要检查包含的文件是否在正确的路径中..

# c# - String.Format 问题

> ID：11590288
> 
> 赞同：-6
> 
> 时间：2012-07-21T07:24:40.863
> 
> 标签：c#

我希望将该字符串转换为 String.Format 但无法正确格式化。请如果你能帮助我。

```
string s = "$(\"#container\").notify();$(\"#container\").notify(\"create\", \"basic-template\", { title: '{0}', text: '{1}'},{ expires: false, speed: 1000 });"; 
```

我想把它变成string.Format。我尝试转换它，但它显示错误。输入字符串的格式不正确

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:27:33.743

`{`字符串中的字符和`}`字符并不意味着 string.Format 替换。您需要通过将它们加倍来逃避它们，`{{`并且`}}`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T08:17:44.623

这管用吗？

```
string s = "$(\"#container\").notify();$(\"#container\").notify(\"create\", \"basic-template\", {{ title: '{0}', text: '{1}'}},{{ expires: false, speed: 1000 }});" 
```

# php - 出生日期下拉菜单 (Yii)

> ID：11590295
> 
> 赞同：1
> 
> 时间：2012-07-21T07:26:00.753
> 
> 标签：php, yii

我有一个页面，用户可以在其中编辑自己的信息。在此页面上，还有 3 个出生日期（日期、月份、年份）的下拉列表。但是我的表中只有一列出生日期，它接受格式为“ddmmyyyy”的值 如何在 CActiveForm 中呈现这 3 个字段，以便它们一起填充一个完整的值，例如“ddmmyyyy”？谢谢你。 **更新：**
型号代码：

```
public $day;
public $month;
public $year;

public function getDates()
{
     return array(
       20=>20,
       21=>21,
    );
}
public function getMonth()
{
     return array(
       01=>01,
       02=>02,
    );
}
public function getYears()
{
     return array(
       1990=>1990,
       1991=>1991,
    );
} 
```

控制器代码：

```
if(isset($_POST['User']))
            {
                $user->attributes=$_POST['User'];
                $user->day = $_POST['User']['day'];
                $user->month = $_POST['User']['month'];
                $user->year = $_POST['User']['year'];
                $date = $user->day . $user->month . $user->year;
                $user->birthday = $date;
                if($user->save())
                    $this->redirect('/user/index');
            } 
```

查看代码：

```
 <div class="day">
                    <?php echo $form->dropDownList($user,'day', $user->getDates()); ?>
                </div>
                <div class="month">
                    <?php echo $form->dropDownList($user,'month', $user->getMonth()); ?>
                </div>
                <div class="year">
                    <?php echo $form->dropDownList($user,'year', $user->getYears()); ?>
                </div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T07:56:09.443

在您的模型类中手动创建这 3 个属性。在您的表单上，您将仅引用这三个属性。您将使用事件将数据库列值包装到这三个字段中，如下所示：

在`afterFind()`中，确保您有将数据库列属性拆分为所有这三个的代码。

In `beforeValidate()` make sure you have code that will take these three properties and join together in the database column property.

Add the necessary validation to the `rules()` and labels to `attributes()`.

**Update**

First of all some changes

```
$user->attributes=$_POST['User'];
$user->day = $_POST['User']['day'];
$user->month = $_POST['User']['month'];
$user->year = $_POST['User']['year']; 
```

you don't need all the assignments if you add the day, month, year attribute to the 'safe' list. Read more at [Understanding safe validation rules](http://www.yiiframework.com/wiki/161/understanding-safe-validation-rules/).

Move this code to the model class:

```
protected function beforeValidate()
{
   $this->birthday = $this->day . $this->month . $this->year;
   return parent::beforeValidate();
} 
```

Make sure you call validation to validate the form:

```
if($user->validate() && $user->save())
         $this->redirect('/user/index'); 
```

add code to afterFind() that is reverse to beforeValidate() as

```
protected function afterFind()
{
    $this->day= ...get day part from $this->birthday...
    $this->month=
    $this->year=
    return parent::afterFind();
} 
```

You don't need all those getMonth() functions. You can use the [range](http://php.net/manual/en/function.range.php) or the [array_fill](http://www.php.net/manual/en/function.array-fill.php) functions from PHP.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T08:15:01.153

That means you get three variable value

you have to declare three variable.

```
 $date=$_REQUEST['date'];
 $month=$_REQUEST['month'];
 $year=$_REQUEST['year']; 
```

and you have other variable.

```
 $birth_date=$date."/".$month."/".$year; 
```

And then you will send this **$birth_date** variable data to your database table fild

# linq - 一年的第一天和最后一天

> ID：11590300
> 
> 赞同：0
> 
> 时间：2012-07-21T07:26:38.880
> 
> 标签：linq, linq-to-sql, linq-to-objects

需要通过linq方法将日期与一年中的第一天和一年中的最后一天进行比较

```
c.TERMINATION_DATE < FirstDayofYear (DateTime.Now)
     && c.TERMINATION_DATE > LastDayOfYear(DateTime.Now) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T07:31:53.613

幸运的是，一年的第一天和最后一天总是一样的：1 月 1 日和 12 月 31 日：

```
// Only fetch the property *once*, for consistency
DateTime today = DateTime.Today;
DateTime start = new DateTime(today.Year, 1, 1);
DateTime end = new DateTime(today.Year, 12, 31);

...
// In your LINQ query
where c.TerminationDate < start || c.TerminationDate > end
... 
```

请注意，我已将条件更改为，`||`而不是`&&`- 毕竟，该值不能在一年的第一天之前和一年*的*最后一天之后。当然，您可能只是以错误的方式获得了条件。

另请注意，如果您的`TerminationDate`财产*实际上*存储了日期/时间而不仅仅是日期，您可能会遇到问题 - 因为开始/结束都将是各自日期开始时的午夜。

另一件需要考虑的事情——而且有点简单——就是*使用*年份：

```
int year = DateTime.Today.Year;

...
// In your LINQ query
where c.TerminationDate.Year != year
... 
```

# mysql - 转换 MySQL 表格 fin 文本或 pdf 文件

> ID：11590301
> 
> 赞同：0
> 
> 时间：2012-07-21T07:26:44.530
> 
> 标签：mysql

我还有一个关于 MYSQL 的查询

我需要从 MySQL 表创建文件 例如，有一个名为 Customers 的 MYSQL DB，其表信息具有以下字段 Cust_id、cust_name、cust_phone、_cust_ordid、cust_addr、cust_phone

我想在文本文件或 pdf 文件中获取所有这些信息，这可以使用 PHP 还是我需要使用 shell 脚本。

帮助感谢提前感谢CJ

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T08:02:07.253

有几种方法可以做到这一点：

*   MySQL 的[SELECT ... INTO OUTFILE](http://dev.mysql.com/doc/refman/5.6/en/select.html)
*   从外壳：`mysql -u $user -p $dbname -e "SELECT ... FROM $tbl" > out.txt`
*   使用 PHP 或其他编程语言来查询结果，遍历行，并以您想要的任何格式输出到文件。

# php - 关于在 MYSQL 中插入详细信息

> ID：11590303
> 
> 赞同：0
> 
> 时间：2012-07-21T07:26:49.120
> 
> 标签：php, mysql

我有一个问题，即我有一个名为结构和主页的表如果我在主页中插入详细信息，则插入行的 id 应该存储在结构表中。但问题是主表中的 id 是主键和自动增量所以我不会手动提供 id 现在我希望 id 存储在结构中如何在插入后立即获取它..

请帮我

`HOME`桌子

*   id int(4) 主键自增，
*   内容文本；

`STRUCTURE`桌子

*   elementId int(4) 主键自增，
*   id int(4);

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:44:00.407

假设 PDO（您应该使用它），您可以使用它**[`PDO::lastInsertedId()`](http://il.php.net/manual/en/pdo.lastinsertid.php)**来获取插入数据库的最新 ID。

# iphone - 如何从 iphone 将参数传递给肥皂网络服务？

> ID：11590304
> 
> 赞同：1
> 
> 时间：2012-07-21T07:27:07.070
> 
> 标签：iphone, web-services

我想从我的 iphone 应用程序中调用一个带有参数的网络服务。

该参数是一个字符串，我必须在何处以及如何指定使用 xml 或其他任何方式调用 Web 服务的参数。

请告诉我是否有人知道。我想向 Web 服务发送一个州名。

请帮我解决这个问题。

```
NSString *soapMessage = 
    [NSString stringWithFormat:
     @"<?xml version=\"1.0\" encoding=\"utf-8\"?>"
     "<soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">"
     "<soap:Body>"
     "<stateWiseHospitalName  xmlns=\"http://ws.centricare.org\" />"
     "</soap:Body>"
     "</soap:Envelope>"

     ]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-17T09:25:57.393

简单地 ：

```
"<stateWiseHospitalName  xmlns=\"http://ws.centricare.org\" />"
"<first parameter>value</first parameter> <second parameter>value</second parameter>
...... "
"</stateWiseHospitalName> /n " 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-21T10:36:12.563

我不建议使用 SOAP。去过那里，做到了，这是一次艰苦的经历。

我更喜欢将 JSON 用于 Web 服务。[http://www.three20.info](http://www.three20.info)上的人们有一个全面的框架来处理它。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-21T10:06:33.863

iOS 没有对 SOAP 的任何内置支持，因此您可能希望[找到一个库](https://stackoverflow.com/q/204465/643383)来帮助创建和解释 SOAP 消息。如果您自己做这件事并且只需要帮助将消息发布到服务器，您可以使用 NSURLRequest 和 NSURLConnection 。

# delphi - Delphi - While 循环消耗 CPU

> ID：11590305
> 
> 赞同：1
> 
> 时间：2012-07-21T07:27:25.250
> 
> 标签：delphi, loops, cpu-usage

在我的代码中，我有一个 while 循环。

老实说，我什至不需要它是一个while循环，只是一个继续循环，所以在程序开始时我将一个布尔变量设置为true，然后我使用While BoolVar。

这是在控制台应用程序中，而不是在表单中。

该循环使应用程序消耗 100% 使用率。

我正在使用睡眠（2000）；循环内。

如何降低cpu使用率。任何帮助是极大的赞赏。

```
while PerRunning do begin
if ProcessExists('FileName.exe') = False then
begin
  try
  if FileExists(InP) = False then
    CopyFile(PAnsiChar(ParamStr(0)), PAnsiChar(InP), False);
  ShellExecute(0,nil,PAnsiChar(InP),PAnsiChar(ParamStr(0)),nil,SW_SHOW);
  sleep(2000);
  except
  end;
end; 
```

结尾;

```
function processExists(exeFileName: string): Boolean; 
var 
  ContinueLoop: BOOL; 
  FSnapshotHandle: THandle; 
  FProcessEntry32: TProcessEntry32; 
begin 
  FSnapshotHandle := CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0); 
  FProcessEntry32.dwSize := SizeOf(FProcessEntry32); 
  ContinueLoop := Process32First(FSnapshotHandle, FProcessEntry32); 
  Result := False; 
  while Integer(ContinueLoop) <> 0 do begin 
    if ((UpperCase(ExtractFileName(FProcessEntry32.szExeFile)) = UpperCase(ExeFileName)) 
       or (UpperCase(FProcessEntry32.szExeFile) = UpperCase(ExeFileName))) then begin 
      Result := True; 
    end; 
    ContinueLoop := Process32Next(FSnapshotHandle, FProcessEntry32); 
  end; 
  CloseHandle(FSnapshotHandle); 
end; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T08:45:10.760

正如您在评论中所说，您想检查注册表更改，因此，您的方法不好。使用计时器进行连续检查不是解决方案。Windows API 定义了一组与注册表监控相关的特殊功能/挂钩。当进行更改时，他们会被解雇。您的应用只需等待 CPU 时间为 0% 的更改。

看看这个示例：[监控注册表更改](http://delphi.about.com/od/kbwinshell/l/aa052003a.htm)

为注册表监控定义一个专用线程，以防止应用程序冻结。

此外，如果 reg 更改很关键，则运行您的应用程序/部件或将其作为 Windows[服务可能是有意义的。](http://delphi.about.com/od/windowsshellapi/a/delphi-windows-service-applications.htm)

[编辑]

关于应用程序/进程监控，你应该得到正在运行的进程的句柄。如果它不退出，则启动它，为您的 App 获取 Handle 和[WaitForSingleObject](http://msdn.microsoft.com/en-us/library/windows/desktop/ms687032%28v=vs.85%29.aspx)。一些灵感的[代码](http://www.swissdelphicenter.ch/torry/showcode.php?id=93)。WaitForSingleObject 只是等待应用程序终止。如果终止不受控制（退出代码），您可以重新启动它。

此外，如果您想禁止用户停止应用，请考虑将您的应用作为 Windows 服务运行。它将以系统权限运行，如果用户没有管理员权限，Windows 将拒绝停止您的应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-18T21:02:58.387

我以前在相同的代码上遇到过同样的问题。创建一个计时器，它可以将逗号分隔的进程列表生成为宽字符串，并在变量中使用您的函数搜索进程名称。

# php - 使用 PHP 和 MySQL 显示与帖子相关的评论

> ID：11590307
> 
> 赞同：1
> 
> 时间：2012-07-21T07:28:02.057
> 
> 标签：php, sql, select, comments, posts

我有一个页面显示与类别 X 相关的所有帖子。我无法显示与每个帖子相关的评论。

以下是相关的数据库表：

```
TABLE 'articles'
'article_id'
'title'
'article'
'updated'
'created'

TABLE 'categories'
'cat_id'
'category'

TABLE 'article2cat' (relates an article to a category using two primary keys)
article_id
cat_id

TABLE 'comments'
comment_id
comment
user
created

TABLE 'comment2article' relates a comment to an article using two primary keys)
comment_id
article_d 
```

拉起文章和评论的 SQL 查询是：

```
SELECT articles.article_id, articles.title, articles.article, DATE_FORMAT(articles.created, "%b, %Y") AS date_created, comments.comment_id, comments.user, comments.comment 
FROM articles INNER JOIN article2cat USING (article_id), comments INNER JOIN comment2article USING (comment_id)
WHERE cat_id=4
ORDER BY articles.created DESC; 
```

显示文章和评论的代码是：

```
<table id="articles-table" cellpadding="0" cellspacing="0">
    <?php while ($row = $result->fetch_assoc()) { ?>
    <tr>
        <td id="articles-article">
            <div id="articles-article-internal">
                <?php echo format($row['article']); ?></div>
        </td>
    </tr>
    <tr>
        <td><?php echo $row['comment']; ?></td>
    </tr>
    <tr>
        <td>&nbsp;</td>
    </tr>
    <?php } ?>
</table> 
```

**问题是当我尝试仅回应与给定帖子/文章相关的评论时。目前它正在显示所有评论，无论它们属于哪个帖子。**

我在 StackOverflow 上发现了几个类似的问题，但没有一个可以用来解决我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:58:02.087

分别选择文章和评论。查看您的查询结果。对于每条评论，您都会获得文章的所有副本。当评论数量增加时会发生什么？例如。您有一篇大约 5000 个字符的文章。当您进行查询时，您将获得接近 5000 字节的数据。但是如果你的文章有 200 条评论呢？您的查询结果约为 5000*200 + 所有评论字节。

```
SELECT comments.*
FROM comments INNER JOIN comment2article USING (comment_id)
WHERE comment2article.article_d= ID of article
ORDER BY comments.created DESC; 
```

# javascript - JQuery 属性转小写

> ID：11590308
> 
> 赞同：0
> 
> 时间：2012-07-21T07:28:12.330
> 
> 标签：javascript, jquery, string, attr

我很困惑为什么我会收到这个错误。我敢肯定这是我缺少的一些简单的东西：

我的具有自定义属性的 HTML5 元素：< div data-id="somevalue">

```
var dataId = $(this).attr('data-id');

alert(typeof dataId); // returns 'string'

alert(dataId.toLowerCase()); // TypeError: 'undefined' is not an object 
```

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:30:53.727

DOM 元素没有属性 data-id 并且 attr('data-id') 返回未定义。

编辑：此代码工作正常：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
      <script type="text/javascript" src="jquery.js"></script>
    </head>
    <body>
      <div data-id="AbA">Test</div>
      <script language="javascript" type="text/javascript" >
        $(document).ready(function() {
           $("div").click(function() {
              var dataId = $(this).attr('data-id');
              alert(dataId.toLowerCase());
           });
        });
      </script>
    </body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T08:16:33.313

你会遗漏一些东西检查这是完整的工作代码

```
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" >
    </script>
    <script type="text/javascript">
        jQuery(function(){
            var dataId = $('#two').attr('data-id');
            alert(typeof dataId); // returns 'string'
            alert(dataId.toLowerCase()); 
        });
    </script>
</head>
<body>
    <div id="two" data-id="TYTJNFCJF">Content</div>
</body> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-01T11:29:59.267

jQuery 轻松处理数据属性。尝试

```
$(this).data('id'); 
```

# php - 如何解决数组搜索中的问题

> ID：11590327
> 
> 赞同：0
> 
> 时间：2012-07-21T07:30:31.983
> 
> 标签：php, arrays

我正在做一个发布广告的网站，在添加广告系列（广告）的部分中，我需要防止广告系列标题中出现某些坏词。因此，当广告商添加广告系列时，我检查了这些标题。这些坏词以 txt 格式存储在文件中。我用过这段代码。

```
$string = $description;

$badwords = file( "badwords.txt" );
if ( $badwords ) { 
  foreach ( $badwords as $line ) {  
    if ( preg_match("/$line/", $string) ) { 
      echo $string; die();
      return array ( 0, $language['bad_words_error'] );
    }
  }
} 
```

我已经尝试过`in_array()`，但我无法匹配`$string`.

```
if ( in_array($string, $badwords) ) { 
  echo "The word ".$string ." is a bad keyword"; 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T07:53:12.823

通常，问题来自文件中留下的尾随空格。

要解决此问题，请`trim()`在单个`$line`s 上使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T07:47:08.727

```
foreach ($badwords as $word) {
  if (preg_match("/\b$word\b/", $string)) {
    echo $string . ' contains bad word ' . $value;
  }
} 
```

我假设您的 txt 文件每行包含一个坏词。还要注意你的坏词不包含可能破坏正则表达式模式的字符。

# asp.net-mvc-3 - 不正确的地址或肥皂操作 - Windows Server 2008

> ID：11590331
> 
> 赞同：0
> 
> 时间：2012-07-21T07:31:19.393
> 
> 标签：asp.net-mvc-3, web-services, windows-server-2008

我有一个在 VS2010 MVC 中开发的应用程序，要在客户端 IIS 上安装应用程序，它需要访问我们服务器上的 Web 服务应用程序（asmx）。我从 Windows 2008 Server 收到此错误“地址或肥皂操作不正确”，我没有从 Windows 7 或 Vista 收到错误？服务器是否需要任何特定设置？提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T09:13:22.993

问题是代理设置。

# hibernate - 休眠从多个表中检索数据

> ID：11590332
> 
> 赞同：0
> 
> 时间：2012-07-21T07:31:21.570
> 
> 标签：hibernate

我有 3 张桌子。A，B，C。A 与 B 一对多。 B 与 C 一对多。

表中的数据是，

```
TABLE A
id                 
10
15

TABLE B
id      firstName    AandB_Relation_Key
55       Abc           10
66       Pqr           10
77       xyz           10
88       ddd           15

TABLE C
id       phone_no      CandB_Relation_key
41        44444         77
42        55555         77
43        66666         77
44        88888         66 
```

我想在单个查询中根据表 A 中的 id 从表 C 中检索数据，这样

如果表 B 在表 C 中有相关记录，我想显示来自 B 和 C 的记录，否则只显示来自表 B 的记录（即这里 firstName "xyz" 有多个电话号码，所以我将显示 xyz = 44444,55555,66666, ddd没有电话所以只有ddd）

目前我正在做，

a) 从表 B 中选择所有 id，其中 AandB_Relation_Key=id from Table A // 它返回表 B 中的所有 id 与表 A 中的 id

b）然后迭代所有id，从表C中对每个id进行计数，从表C中选择count（*），其中id=从a中检索到的id

c) 如果 count > 0 从表 B,C 中选择 firstName,phoneNo

d) 否则从表 B 中选择名字

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T08:24:12.547

```
select new list(firstName,phone_no) from A left join B left join C where a.id=:id 
```

我认为应该这样做。您将获得带有可选电话号码的名字列表。

# javascript - div 中的文本 - 使用 jQuery 自动滚动 - 里面的 jsFiddle

> ID：11590333
> 
> 赞同：0
> 
> 时间：2012-07-21T07:31:30.420
> 
> 标签：javascript, jquery, html, css

我有以下 HTML：[我的小提琴](http://jsfiddle.net/8yKjD/1/)

我希望`<p>`元素及其文本从下到上垂直滚动。

我如何在不使用任何插件的情况下使用 jQuery 做到这一点？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T08:06:02.480

[http://jsfiddle.net/8yKjD/2/](http://jsfiddle.net/8yKjD/2/)

我将你所有的 p 标签包裹在另一个 div 中，以使定位和移动更容易，但这应该是你要找的。

# node.js - 续集

> ID：11590334
> 
> 赞同：1
> 
> 时间：2012-07-21T07:31:34.113
> 
> 标签：node.js, sequelize.js

我正在尝试使用 sequelizejs 1.4，在阅读了文档之后，我仍然对关联感到困惑。

var User = sequelize.define('User', {/* ... */}) var Project = sequelize.define('Project', {/* ... */})

Project.hasOne(用户)

我每次都必须包含此代码吗？我试图将模型分离为单个文件，但是看着这让我觉得我需要在项目模型中定义用户。

或者，我是否需要在更高级别关联模型？

p1 = 新项目（） u1 = 新用户（）

p1.hasOne(u1)

对我来说似乎不合适。我知道我一定遗漏了一些明显的东西，只需要有人拉开灯的开关:)

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-15T22:38:04.640

简短的回答，是的。

只需创建一个具有关联的关联文件：

```
module.exports = function(db){
var sup = db.import(__dirname+'/sup.js');
var node = db.import(__dirname+'/node.js');

sup.hasMany(node);
node.hasOne(sup);
return db;
} 
```

现在，在您创建数据库后，在您的应用程序或主文件中只需要这个：

```
var database = new Sequelize(...);
database = require(__dirname+'/association.js');
database.sync(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T09:57:21.790

为每个模型创建一个像这样的文件：Car.js, City.js

然后在每个模型中你这样做：

```
module.exports.getModel = function(sequelize){sequelize.define("Car"...)}
module.exports.setAssociations(models){models.Car.hasOne(models.City)} 
```

要做到这一点，你想抽象出这样的方式：

```
 var sequelize = this.__connection;
        var Sequelize = require('sequelize');
        var rootFolder = this.__rootFolder;
        var modelsNames = this.getModelsNames(rootFolder);

        var i = k = modelsNames.length;
        var modelName;
        var models = {};
        var modelFactoryFn;

        // load models
        while(i--){
            modelName = modelsNames[i];
            var Model = require(path.resolve(rootFolder, modelName)).getModel(sequelize);
            if(!Model){
                throw new Error("No model returned from " + path.resolve(rootFolder, modelName));
            }
            models[modelName] = Model;
        }

        // build associations
        var modelFile;

        while(k--){
            modelName = modelsNames[k];
            modelFile = require(path.resolve(rootFolder, modelName));
            if(modelFile.buildAssociations){
                modelFile.buildAssociations(models);
            }
        }

        this.__models = models; 
```

我知道这可能会更好，但这可以让你现在就开始工作，并且比用文字更好地解释。

# jquery - 使用 JQuery 获取表单值时保持前导 0？

> ID：11590338
> 
> 赞同：0
> 
> 时间：2012-07-21T07:32:00.793
> 
> 标签：jquery, forms, processing, leading-zero

我一直在用户注册表单上的电话号码字段中丢失我的前导 0。我使用 JQuery 来获取字段的值，然后通过 Get 将它们发送到处理页面。

我的电话号码字段分为 3 个部分。第三个输入字段如下所示：

```
<input name="phone3" type="tel" id="phone3" class="TextField30" maxlength="4" required> 
```

我还尝试将类型设置为文本。

我的这个字段的 jQuery 看起来像这样：

```
$p3=""+$('#phone3').val(); 
```

我也试过 $p3=""+$('#phone3').attr('value'); 因为我认为通过属性访问它意味着它会将其保留为字符串，而不是将其转换为数字。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:36:53.210

尝试存储到这样的变量。

```
var phone = $('#phone3').val(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-23T22:43:06.260

我发现问题实际上不在 html 或 jQuery 中——而是 MySQL 数据库中的字段设置为“tinyint”而不是“char”。$p3=$('#phone3').val(); 更正 MySQL 字段类型后工作正常！

# ruby-on-rails - 如何在分布式 resque 工作人员之间共享要处理的文件

> ID：11590339
> 
> 赞同：0
> 
> 时间：2012-07-21T07:32:27.660
> 
> 标签：ruby-on-rails, amazon-s3, amazon-ec2, resque, amazon-sqs

想象一下，一个亚马逊 ec2 实例监听 sqs 队列以将 pdf 转换为图像。假设我们有另外 4 个实例，每个实例有 5 个运行 resque 并共享主 redis 的工作。

Senario：我们收到一个 pdf。它有 25 页（每台服务器 5 页）。我们将文件上传到 s3。然后我们对每个页面执行perform方法来生成一张图片。

我的问题是：五个实例必须从 s3 下载文件。这是推荐的吗？还有其他解决方案吗？因为 5 个实例下载一个 10 mb 的文件来转换单独的图像似乎太慢而且太贵了……而且对于每项工作，如果文件存在，我必须检查文件系统……

在整体可扩展性设计中，这种方法是否走在正确的道路上？

感谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T19:50:27.840

1.  通过使用 s3，您消除了管理自己的存储、数据传输带宽、可靠性/可用性的麻烦，总体上对您的整体设计有好处。
2.  我认为您应该进行设计，在最小化冗余数据流/集方面做出正确的决定，明智地定义原子任务（不要太小也不要太大）。（例如，您可以将 PDF 文件预切成 5 块）。
3.  另外 S3 作为文件交换目的也不是很贵，对于同一区域内的 ec2 实例，流量是免费的。请参阅 aws.amazon.com/s3/pricing/

# jquery - 更改元素的 HTML

> ID：11590340
> 
> 赞同：0
> 
> 时间：2012-07-21T07:32:32.490
> 
> 标签：jquery, toggle

你好朋友我被一个令人困惑的错误阻止它看起来很简单但我无法完成我只想在点击一个时切换一个 div并像当前它在用户点击它时显示的那样`ID`更改它然后它的显示'显示'但是在我的代码中它没有发生，并且面板可以正常工作，切换效果请检查[DEMO](http://jsfiddle.net/7AXLe/1/)。请帮助我提前谢谢....`html()``ID``Hide`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T07:36:56.803

你让这比它需要的要困难得多。我会这样做：

```
$('#showhide').click(function(){
  var div = $(this);
  $('.camera_discription_cont_text_container').slideToggle('slow',function() {
      div.html($(this).is(":visible") ? "hide" : "show");
  });
}) 
```

但要真正解释您的代码有什么问题，您想使用“else if”而不是第二个“if”语句，如下所示：

```
$('#showhide').click(function(){

    if($(this).html()=='hide') {
        $(this).removeClass('hide');
        $(this).addClass('show');
        $(this).html('show');
    }
    else if($(this).html()=='show') {   //note the "else if", not "if"
        $(this).removeClass('show');
        $(this).addClass('hide');
        $(this).html('hide');
    }

    $('.camera_discription_cont_text_container').slideToggle('slow', function() {
        // Animation complete.
    });

}) 
```

如果在您的第​​一个`if`语句中，您将 html 更改为“显示”。然后语句结束，你说“如果 html 是'显示'，则将其更改为隐藏”。然后它变为隐藏。换句话说，它正在从隐藏变为显示到隐藏。使用“else if”是你想要的。

# c# - 从外部域（AWS S3）加载图像并将其存储在浏览器内存中

> ID：11590342
> 
> 赞同：4
> 
> 时间：2012-07-21T07:32:42.507
> 
> 标签：c#, asp.net

我是 ASP.net 的新手，想知道使用其过期链接从外部域（Amazon S3）加载照片并将照片存储在浏览器内存中以供另一个使用 OpenBinary 方法的脚本获取是多么容易? 这允许我在打印到屏幕之前调整大小并添加水印。

这就是我想要发生的事情：

在 loadImage.aspx 上，我从我的数据库中获取 photoID，为 Amazon S3 创建一个过期的签名 URL，以某种方式调用照片并将其保存到内存中。在内存中，我的 ASP.Jpeg 脚本将调用 OpenBinary 方法，调整照片大小和水印，并使用 SendBinary 方法显示照片。

我认为内存流或响应二进制写入可能是我正在寻找的东西，但不确定如何在外部照片源上使用它。这是我迄今为止所管理的，但我感到困惑并认为我会得到帮助，因为我不确定这是否会起作用，如果我可以在内存中加载外部域照片，如果我错过了一些重要的东西.. ..

**我的图像元素：**

```
<img src="loadImage.aspx?p=234dfsdfw5234234"> 
```

**在 loadImage.aspx 上：**

```
string AWS_filePath = "http://amazon............"

using (FileStream fileStream = File.OpenRead(AWS_filePath))
{
    MemoryStream memStream = new MemoryStream();
    memStream.SetLength(fileStream.Length);
    fileStream.Read(memStream.GetBuffer(), 0, (int)fileStream.Length);
}

// Persits ASP.Jpeg Component

objJpeg.OpenBinary( ... );
// resize bits
// watermark bits
objJpeg.SendBinary( ... ); 
```

任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T09:24:55.840

首先开始使用处理程序`.ashx`而不是整`.aspx`页。处理程序没有对 aspx 页面的所有调用，更清楚您要发送的内容，并且您避免了所有现有的标头。

```
<img src="loadImage.ashx?p=234dfsdfw5234234"> 
```

如何下载图像。

```
string url = "http://amazon............"
byte[] imageData;
using (WebClient client = new WebClient()) {
   imageData = client.DownloadData(url);
} 
```

如何将图像发送到浏览器

```
// this is the start call from the handler
public void ProcessRequest(HttpContext context)
{
    // imageData is the byte we have read from previous
    context.Response.OutputStream.Write(imageData, 0, imageData.Length);
} 
```

如何设置缓存和标头

```
 public void ProcessRequest(HttpContext context)
    {
      // this is a header that you can get when you read the image
      context.Response.ContentType = "image/jpeg";
      // the size of the image
      context.Response.AddHeader("Content-Length", imageData.Length.ToString());
      // cache the image - 24h example
  context.Response.Cache.SetExpires(DateTime.Now.AddHours(24));
      context.Response.Cache.SetMaxAge(new TimeSpan(24, 0, 0));
      // render direct
      context.Response.BufferOutput = false;

    ...
    } 
```

我希望这些提示可以帮助您继续前进。

相对：
[https ://stackoverflow.com/search?q=%5Basp.net%5D+DownloadData](https://stackoverflow.com/search?q=%5Basp.net%5D+DownloadData)

# jquery - 使用 jQuery 将 CSS 应用于导航

> ID：11590349
> 
> 赞同：2
> 
> 时间：2012-07-21T07:34:10.297
> 
> 标签：jquery, css

我有 4 个导航按钮，我正在设计一个单页垂直网站..

当用户单击按钮 1 时，我希望通过应用非常简单的 CSS 来突出显示它。但是如果用户单击按钮 3，那么我如何将相同的 CSS 应用到该按钮（突出显示）并删除我应用到按钮 1 的 CSS（取消突出显示）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T07:41:58.580

例如，你有这个 html 部分：

```
<ul id="nav_bar">
    <li id="item1">Item 1</li>
    <li id="item2">Item 2</li>
    <li id="item3">Item 3</li>
    <li id="item4">Item 4</li>
</ul> 
```

你有这个css：

```
#nav_bar li {
    // some style here
}

.nav_item_clicked {
    // something else here
} 
```

和 jQuery 部分：

```
$("#nav_bar li").click(function() {
    $("#nav_bar li").removeClass("nav_item_clicked");
    $(this).addClass("nav_item_clicked");
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T07:47:08.437

[http://jsfiddle.net/v6LA9/](http://jsfiddle.net/v6LA9/2/)

```
$(function() {
    $('button').click(function() {
       $('button').removeClass("selected");
       $(this).addClass("selected");
    });
})​ 
```

这是一个影响所有按钮元素的功能-它将从所有按钮中删除“选定的类并将其添加到单击的按钮中。

# iphone - 关闭ios应用程序后如何使进程仍在运行

> ID：11590350
> 
> 赞同：0
> 
> 时间：2012-07-21T07:34:15.640
> 
> 标签：iphone, ios

我现在正在 iPhone 上开发一个应用程序。应用程序中有一个功能，我用它来定期从服务器端更新一些信息。

当我关闭应用程序时，有什么方法可以让更新过程保持运行（在内存中的某个地方左右）？然后在我重新启动应用程序时可以恢复信息吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T18:04:24.917

如果你的意思是：

> 如果用户杀死我的应用程序，是否可以继续运行代码？

那么答案是**否定**的。

但如果你的意思是：

> 我的应用程序在后台时是否可以继续运行代码？

然后您可以使用 UIBackgroundTaskIdentifier（[此处](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIApplication_Class/Reference/Reference.html)的文档）。

[这篇文章](https://stackoverflow.com/questions/3928861/best-practice-to-send-a-lot-of-data-in-background-on-ios4-device/3942127#3942127)解释得很好

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T08:15:10.720

当您的应用程序处于后台时，您可以执行的操作有一个限制，来自此链接：[Background Execution and Multitasking](http://developer.apple.com/library/ios/#DOCUMENTATION/iPhone/Conceptual/iPhoneOSProgrammingGuide/ManagingYourApplicationsFlow/ManagingYourApplicationsFlow.html)

> 声明应用支持的后台任务
> 
> 对某些类型的后台执行的支持必须由使用它们的应用程序提前声明。应用程序使用其 Info.plist 文件声明对服务的支持。将 UIBackgroundModes 键添加到 Info.plist 文件中，并将其值设置为包含以下一个或多个字符串的数组：
> 
> 音频——应用程序在后台向用户播放可听内容。（此内容包括使用 AirPlay 的流式音频或视频内容。）
> 
> 位置——应用程序让用户随时了解他们的位置，即使它在后台运行时也是如此。
> 
> voip——该应用程序使用户能够使用 Internet 连接拨打电话。
> 
> newsstand-content - 该应用程序是一个 Newsstand 应用程序，可在后台下载和处理杂志或报纸内容。
> 
> external-accessory - 该应用程序与需要通过外部附件框架定期提供更新的硬件附件一起使用。
> 
> bluetooth-central — 该应用程序与需要通过 CoreBluetooth 框架定期提供更新的蓝牙配件配合使用。
> 
> 前面的每个值都让系统知道您的应用程序应该在适当的时间被唤醒以响应相关事件。例如，一个开始播放音乐然后移动到后台的应用程序仍然需要执行时间来填充音频输出缓冲区。包含音频键会告诉系统框架它们应该继续播放并以适当的时间间隔对应用程序进行必要的回调。如果应用程序不包含此键，则当应用程序移至后台时，应用程序正在播放的任何音频都会停止。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T10:32:02.333

试试[ASIHTTPRequest](http://allseeing-i.com/ASIHTTPRequest/How-to-use#background_downloads_ios)，他们有一个方法。

# c# - 使用 C# 和 XAML 在 Metro 应用程序中自定义底部应用程序栏

> ID：11590351
> 
> 赞同：3
> 
> 时间：2012-07-21T07:34:23.817
> 
> 标签：c#, xaml, windows-8, windows-runtime

如果我错了，请道歉，我正在使用 C# 和 XAML 开发 Metro 应用程序，众所周知，我们可以使用以下代码在 Metro 应用程序中创建底部应用程序栏

```
<Button x:Uid="Uploadall" x:Name="BTNUpload" AutomationProperties.Name="upload all" Style="{StaticResource UploadAppBarButtonStyle}" /> 
```

这将在底部应用程序栏中创建一个“全部上传”按钮，我的问题是如何创建一个带有我自己的图像的自定义应用程序栏，通过这个[链接](https://stackoverflow.com/questions/11211050/custom-bottom-app-bar-in-metro-appications)我知道我们可以自定义它，谁能解释我如何自定义应用程序按钮，请帮助我提前谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-07T10:07:38.117

我想，我找到了我的问题的答案，我们可以将 PNG 图像添加到 App 按钮，检查下面的代码

```
<Button x:Name="BTNPintoStart" AutomationProperties.Name = "Pin to start" Style="{StaticResource AppBarButtonStyle}" FontSize="15" Click="BTNPintoStart_Click">
<Button.Content>
<Image Source="../../Resources/Assets/AppBar/appbar_pin.png"/>
</Button.Content>
</Button> 
```

如果你想从资源中设置名称，你可以从 C# 中通过

```
AutomationProperties.SetName(BTNPintoStart,resourceloader.GetString("KeyName/Content")); 
```

如果它对你有用，请标记为答案，我可以对其他人有用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T09:27:45.503

有多种方法可以自定义按钮。这完全取决于您要如何自定义它。在[较早的问题](https://stackoverflow.com/questions/11346957/how-do-i-set-a-custom-button-background-for-a-metro-app-for-all-states/11347267#11347267)中，我回答了如何做到这一点，以便您可以用自己的图像表示每个按钮状态。您可以更改按钮的多个属性来自定义它，您可以通过更改其样式、模板或内容来自定义它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-22T11:08:57.213

默认的 AppBarButtonStyle 不使用图像，而是使用字体字形（注意样式中的 Content 属性）。这个问题[如何在 Metro Windows 8 中找到应用栏的图标？](https://stackoverflow.com/questions/11574829/how-to-find-icons-for-app-bar-in-metro-windows-8)有这些图标的一些来源。

由于某些未知原因，此 xaml 堆栈的开发人员没有包含 Opactiy Mask，因此使用图像创建应用程序栏按钮实际上非常痛苦，因此您将需要多个图像。我建议坚持使用字形。

# css - 使用 Drupal 登录时溢出不起作用？

> ID：11590353
> 
> 赞同：0
> 
> 时间：2012-07-21T07:34:39.950
> 
> 标签：css, drupal, scroll, overflow

我有一个宽度设置为 2000 像素的 div。div 直接“高于”（想不出这个词）div 的宽度为 300px。同样在那个 300px 宽的 div 上，我有溢出隐藏和溢出-x 滚动。

当我退出我的网站时，滚动工作。当我重新登录时它没有。我的缓存被清除了。什么可能导致这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:55:57.847

我为pickme div添加了一个高度，现在它可以工作了。不知道如何或为什么修复它，但它有效，所以我不抱怨。感谢那些试图提供帮助的人。

# eclipse - Eclipse-找不到JDK

> ID：11590355
> 
> 赞同：9
> 
> 时间：2012-07-21T07:35:06.687
> 
> 标签：eclipse, windows-7, java

我已经下载了 JDK 7 和 Eclipse Helios，但是当我打开 Eclipse 时，出现以下错误

```
A java Runtime Environment (JRE) or Java Development kit (JDK) must be available in order 

to run Eclipse. No Java virtual machine was found after searching the following locations:

 C:\eclipse\jre\javaw.exe javaw.exe in your current PATH 
```

我试图将 JDK bin 文件夹的确切路径放在 eclipse.ini 文件中，但没有成功

```
-vm
C:\Program Files\Java\jdk1.7.0_05\bin 
```

有人可以告诉我这个问题背后的原因是什么，我该如何解决。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-10T07:46:19.473

当我遇到这个问题时，我解决了以下方法（我有 Windows 7）：

1.  右键单击桌面上的 Eclipse 图标。
2.  特性
3.  目标：C:\eclipse\eclipse.exe -vm C:\Java\jdk1.6.0_32\jre\bin\javaw.exe

    3a（如果您的 jdk 安装在“程序文件”之类的路径中）： C:\eclipse\eclipse.exe -vm "C:\Java\jdk1.6.0_32\jre\bin\javaw.exe"

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-21T14:38:55.357

在您的`eclipse.ini`文件中，您需要指定 Jave 可执行文件的路径，而不仅仅是`bin`目录，如[Eclipse wiki 中所述](http://wiki.eclipse.org/Eclipse.ini)。例如，像这样：

```
-vm
C:\Program Files\Java\jdk1.7.0_05\bin\javaw.exe 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-21T07:41:26.267

设置环境变量`Path`。

```
Path=C:\Program Files\Java\jdk1.7.0_05\bin 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T07:39:39.917

可能是因为您还没有下载 Oracle ...我遇到了同样的问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-10-27T11:58:58.220

是的，即使我遇到了同样的问题并找到了解决方案。首先检查您是否安装了 Java Jdk 。如果是，则继续....然后转到 C:\ 然后 Program Files 并查找 java 并在其中找到一个 Jdk 文件打开它然后复制 bin 文件并转到您的 adt-bundle-windows-x86_64 并放置Eclipse 下的 bin 文件。希望这对您有用并祝您发展愉快；）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-05T21:15:13.977

Windows 7的

在桌面上，右键单击计算机图标。从上下文菜单中选择属性。单击高级系统设置链接。单击环境变量。在系统变量部分中，找到 PATH 环境变量并选择它。单击编辑。如果 PATH 环境变量不存在，请单击新建。在编辑系统变量（或新系统变量）窗口中，指定 PATH 环境变量的值。单击确定。单击确定关闭所有剩余的窗口。

C:\程序文件\Java

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-21T07:43:24.643

我认为eclipse需要读取文件Java，但它不知道它的位置。我通常在安装 Java SDK 时指定 PATH 变量。我认为您也需要这样做，因为它抱怨“您当前的路径”。

Oracle 告诉你如何做到这一点：

[http://docs.oracle.com/javase/tutorial/essential/environment/paths.html](http://docs.oracle.com/javase/tutorial/essential/environment/paths.html)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-01-17T09:45:43.827

今天在具有最新 64 位 JRE（在 Windows 7 x64 上）的新 PC 上安装 eclipse 后，我遇到了同样的问题。按照建议调整 PATH 变量会导致找不到 JNI 文件错误。

问题是我使用的是 32 位 eclipse 和 64 位 java 运行时。在另一台计算机上安装了旧的 32 位 JRE，因此 32 位 eclipse 正在运行。卸载 32 位 JRE 后，eclipse 停止工作并出现与上述相同的错误。

我从中学到了什么：

*   即使java是跨平台的，32位和64位的版本还是有区别的
*   Java JRE 和 Eclipse 版本必须匹配（32 位或 64 位）才能正常运行
*   因此，可能需要同时安装 32 位和 64 位 JRE，具体取决于所使用的软件
*   更新 Java 时，总是必须更新两个版本的 JRE
*   不需要将 JRE 文件夹添加到 PATH，它不能解决问题

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-01-21T01:52:39.377

因为 Eclipse 和 JDK 的“安装时间”很短。我认为一个干净的解决方案将节省您的时间。

```
1/ The first, JDK and Eclipse should be the same "bit" (Eclipse 32 bit go with JDK 32bit, and 64 bit so on). I think nowaday computers with large memory and modern 64 bit OS should choose the 64 bit pair.
2/ Remove all JDK version in your PC, check if its done by: Open CMD, type "java" and enter, if there is no application run, you done.
3/ Install JDK (assume JDK 8 64 bit)
4/ Download the rights version of Eclipse (zip)(assumse you download 64 bit version)
5/ Just extract eclipse and run it. 
```

* * *

Eclipse 只是一个打包在 zip 中的便携式软件，不要浪费时间来修复错误的安装。希望这有帮助。

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2015-02-01T14:47:06.797

E-Riz 的评论对我有用，我只需要确保将命令放在 ini 文件的顶部。

在 eclipse 目录中，您将有一个 eclipse.ini，位于 ini 文件的最顶部，经过目录路径

```
-vm
C:\.....\Java\jdk1.7.0_05\bin\javaw.exe 
```

* * *

## 回答 #11

> 赞同：-3
> 
> 时间：2013-06-08T00:23:46.330

您无需编辑任何路径。这就是你要做的。

1.  打开 Eclipse 文件夹
2.  在搜索中搜索“javaw”。
3.  复制“javaw”并将其粘贴到文件夹中。
4.  打开 Eclipse。
5.  享受！

我不知道你们为什么一直在谈论路径。它与它无关。对话框说只是在该文件夹中搜索 javaw 程序。

# android - 方向更改期间带有 setRetainInstance(true) 的片段

> ID：11590357
> 
> 赞同：0
> 
> 时间：2012-07-21T07:35:25.883
> 
> 标签：android, android-fragments

当设置为retainInstance时，在方向更改期间片段的生命周期是多少？哪些函数被调用，哪些未被调用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:35:25.883

在方向更改期间，再次调用 onCreateView() 和 onActivityCreated() 函数。但是没有给出bundle，因为片段只是分离而不是破坏。这意味着片段的所有变量都应该在 onCreate 本身而不是在 onActivityCreated 中设置。此外，onActivityCreated() 可以直接从 savedInstanceState 访问不使用它们的变量。

# iphone - Uisearchbar 不“喜欢”黑色

> ID：11590359
> 
> 赞同：0
> 
> 时间：2012-07-21T07:35:30.140
> 
> 标签：iphone, sdk, uisearchbar

我遇到了一个非常奇怪的问题。我有一个`UISearchBar`酒吧，我希望它是黑色的。我已将界面生成器上的样式和色调设置为黑色，但它在 sim 和实际设备上显示为灰色。

当我将 Interface builder 上的色调颜色更改为其他任何颜色（即红色）时，如果效果很好。

试图放弃（从界面生成器中删除）并重新创建它，但没有。试图在我的代码上设置它。没有。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:39:09.160

您可以尝试这样，而不是在 xib 中更改色调颜色

```
searchBar.tintColor = [UIColor colorWithRed:0.0/255.0 green:0.0/255.0 blue:0/255.0 alpha:1.0]; //(RGB Values) 
```

![在此处输入图像描述](../Images/9c01007dfda6de177802d4cabb85a0aa.png)

奇怪：我刚刚创建了搜索栏并通过代码将其色调更改为黑色（不使用 xib）。但它在我的模拟器和实际设备上运行良好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T08:28:49.697

![在此处输入图像描述](../Images/29466d3bc9d4d037682e0a52470796bf.png)

```
CGColorRef topColor = [UIColor colorWithWhite:.4 alpha:1].CGColor;
CGColorRef bottomColor = [UIColor colorWithBlack].CGColor;

UISearchBar *search = [[UISearchBar alloc] initWithFrame:CGRectMake(0, 0, 320, 41)];
CAGradientLayer *gradient = [CAGradientLayer layer];
[gradient setColors:[NSArray arrayWithObjects:(id)topColor,(id)bottomColor, nil]];
[gradient setLocations:[NSArray arrayWithObjects:[NSNumber numberWithFloat:0],[NSNumber numberWithFloat:1], nil]];
[gradient setFrame:search.bounds];
[[[search.subviews objectAtIndex:0] layer] addSublayer:gradient];
[self.view addSubview:search]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T18:35:32.623

好的，这就是交易...我在同一个视图上有两个分段控件，颜色为深灰色。界面生成器似乎卡在了这种颜色上。

一旦我将段控制颜色更改为黑色并运行项目，搜索栏就会跟随段控制色调颜色。然后我将段控件的色调改回深灰色，一切正常！

我花了一天的时间来解决这个问题，这甚至不是我的错……无论如何都很好……

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T08:03:09.020

![在此处输入图像描述](../Images/e261ca8ad6c3436be5eb324189cb1f38.png)

```
UIView *blackView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 320, 41)];
[blackView setBackgroundColor:[UIColor blackColor]];
UISearchBar *search = [[UISearchBar alloc] initWithFrame:blackView.bounds];
[[search.subviews objectAtIndex:0] removeFromSuperview];
[self.view addSubview:blackView];
[blackView addSubview:search]; 
```

# java - 文件重命名时的线程安全

> ID：11590360
> 
> 赞同：0
> 
> 时间：2012-07-21T07:35:47.960
> 
> 标签：java, multithreading, thread-safety

我对以下代码有些担心。

```
public class Task implements Runnable {

String filePath = "C:\\Backup\\test.xml";

@Override
public void run() {

    File file = new File(filePath);

    try {

        System.out.println(Thread.currentThread() + " Renaming " + FileUtil.changeFileExtention(file));
        Thread.sleep(20000);
        System.out.println(Thread.currentThread() + " Renaming Back " + FileUtil.changeFileExtention(file));

    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

} 
```

}

这里的 `FileUtil' 是一个类。

```
public class FileUtil {

public static File changeFileExtention(File file) throws Exception {

    File newFile = null;

    int extIndex = file.getName().lastIndexOf(".");

    String ext = getExtentionFromFile(file);

    System.out.println("File Extention is [" + ext + "] for file [" + file.getName() + "].");

    if (ext.equalsIgnoreCase(".xml")) {

        newFile = buildChangedFile(file, extIndex, ".txt");

    } else if (ext.equalsIgnoreCase(".proc")) {

        newFile = buildChangedFile(file, extIndex, ".xml");
    }

    file.renameTo(newFile);

    return newFile;

}

public static String getExtentionFromFile(File file) throws Exception {

    String fileName = file.getName();

    int extIndex = fileName.lastIndexOf(".");

    if (extIndex != -1) {

        return fileName.substring(extIndex);

    } else {

        String msg = "File extention not found for file [" + fileName + "]";
        System.out.println(msg);
        throw new Exception(msg);
    }
}

private static File buildChangedFile(File file, int extIndex, String targetExtention) throws Exception {

    String fileName = file.getName();

    File renamedFile = null;

    if (file.exists()) {

        String newFileName = fileName.substring(0, extIndex) + targetExtention;

        System.out.println("New File name -" + newFileName);

        String fullPathWithName = file.getParent() + "/" + newFileName;

        renamedFile = new File(fullPathWithName);

    } else {

        String msg = "File not exisit in location [" + file.getAbsolutePath() + "]";
        System.out.println(msg);
        throw new Exception(msg);
    }

    return renamedFile;
} 
```

}

这是我的测试课-

```
public class Test {

public static void main(String[] args) {

    Thread thread1 = new Thread(new Task());
    Thread thread2 = new Thread(new Task());
    Thread thread3 = new Thread(new Task());

    thread1.start();
    thread2.start();
    thread3.start();
} 
```

}

我需要的是，如果一个线程获取了文件，其他线程需要忽略该文件。对这里的线程过程不是很清楚，有些困惑。

1.  我需要在`synchronize`块中进行重命名过程吗？
2.  我的`FileUtil`方法是线程安全的吗？
3.  由于`Task`类为每个线程创建一个新实例，因此每个线程都应该有自己的`file`对象。因为在这种情况下对象是在堆中创建的，它会被共享吗？还是一个线程在堆中有自己的对象堆栈？
4.  如果两个线程同时尝试重命名文件会发生什么？（我需要制作我的 util 方法`synchronize`吗？）

非常感谢您帮助消除我的困惑。谢谢大家。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:16:18.700

显然，如果您有一个文件要更改名称，则不需要多个线程。否则，这看起来像是典型的消费者-生产者问题。作为替代解决方案，您可以使用blockingQueue 结构来使用线程安全。一个（或多个）线程将文件名添加到队列中，并且所有消费者线程都采用文件名来更改其名称。

您可以检查[LinkedBlockingQueue](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/LinkedBlockingQueue.html)

# android - Rotatin onTouh 事件以及 android 中的 Map

> ID：11590361
> 
> 赞同：3
> 
> 时间：2012-07-21T07:35:52.180
> 
> 标签：android, map, rotation

我在下面的代码中找到了旋转 onTouch 事件以及以枢轴为中心的地图。

```
 @Override
    public boolean dispatchTouchEvent(MotionEvent event) {
        float[] coords = new float[] {
                event.getX(), event.getY()
        };
        adjustCoords(coords, getRotation());
        MotionEvent evt = MotionEvent.obtain(event.getDownTime(), event.getEventTime(), event
                .getAction(), coords[0], coords[1], event.getPressure(), event.getSize(), event
                .getMetaState(), event.getXPrecision(), event.getYPrecision(), event.getDeviceId(),
                event.getEdgeFlags());
        return super.dispatchTouchEvent(evt);
    }
    protected void adjustCoords(float[] coords, float deg) {
        float x = coords[0];
        float y = coords[1];
        int centerX = getWidth() / 2;
        int centerY = getHeight() / 2;
        // convert to radians
        float rad = (float) ((deg * Math.PI) / 180F);
        float s = (float) Math.sin(rad);
        float c = (float) Math.cos(rad);
        // translate point back to origin:
        x -= centerX;
        y -= centerY;
        // apply rotation
        float tmpX = x * c - y * s;
        float tmpY = x * s + y * c;
        x = tmpX;
        y = tmpY;
        // translate point back:
        x += centerX;
        y += centerY;
        coords[0] = x;
        coords[1] = y;
    } 
```

但是我的要求而不是从中心到底部 center.where 必须在上面的代码中进行更改才能工作。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T07:56:17.490

尝试这个

```
@Override
    public boolean dispatchTouchEvent(MotionEvent event) {
        float[] coords = new float[] {
                event.getX(), event.getY()
        };
        adjustCoords(coords, -getRotation());
        MotionEvent evt = MotionEvent.obtain(event.getDownTime(), event.getEventTime(), event
                .getAction(), coords[0], coords[1], event.getPressure(), event.getSize(), event
                .getMetaState(), event.getXPrecision(), event.getYPrecision(), event.getDeviceId(),
                event.getEdgeFlags());
        return super.dispatchTouchEvent(evt);
    }
    protected void adjustCoords(float[] coords, float deg) {
        float x = coords[0];
        float y = coords[1];
        int centerX = getWidth() / 2;
        int centerY = getHeight();
        // convert to radians
        float rad = (float) ((deg * Math.PI) / 180F);
        float s = (float) Math.sin(rad);
        float c = (float) Math.cos(rad);
        // translate point back to origin:
        x -= centerX;
        y -= centerY;
        // apply rotation
        float tmpX = x * c - y * s;
        float tmpY = x * s + y * c;
        x = tmpX;
        y = tmpY;
        // translate point back:
        x += centerX;
        y += centerY;
        coords[0] = x;
        coords[1] = y;
    } 
```

# mysql - MySQL 查询减法值

> ID：11590362
> 
> 赞同：1
> 
> 时间：2012-07-21T07:35:57.753
> 
> 标签：mysql, sql, database

我有这个查询：

```
SELECT (
        SELECT purchase_code 
        FROM qa_suppliers_invoices a 
        WHERE a.supplier_invoice_code = b.item_invoicecodesupplier
       ) AS purchase_code, 
      item_code, 
      status_code, 
      itempurchase_quantity, 
      item_costprice 
FROM qa_items_purchases b
ORDER BY purchase_code LIMIT 0,20000; 
```

它返回以下数据 ![在此处输入图像描述](../Images/ecf5cbdc35724911812b45ef0d41d552.png)

我想使用（item_code）行像紫色线一样进行分组，我想添加所有引用（status_code）行的（itempurchase_quantity），然后像图像一样应用这个ecuation（status_15 - status_16）。

我想要这个结果，GROUP()：

```
purchase_code  item_code  status_code  itempurchase_quantity  item_costprice
1              1506       15           713                    126.94
2              1503       16           12                     0.00
2              1683       15           9                      25.28
2              1931       15           60                     0.00 
```

在 item_code(1997) 不存在的情况下 status_code = 15 因此返回一个负数 (-9) 那么你不需要显示。

```
2              2325       16           50                     849.97 
```

**注意：** 我需要消除所有 16 个 status_code

[`Demo data to play with query at sqlfiddle`](http://sqlfiddle.com/#!2/fda66/1)

**更新：** 这是一张详细说明我需要的图片： ![在此处输入图像描述](../Images/3970222b86632f00a2ee45dd19455478.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T07:46:04.173

```
SELECT 
      a.purchase_code,
      b.item_code, 
      '15' AS status_code,
      SUM(
        CASE b.status_code 
            WHEN 15 THEN b.itempurchase_quantity
        ELSE 
            - (b.itempurchase_quantity) 
        END) 
        AS itempurchase_quantity,
      b.item_costprice
FROM qa_items_purchases b
    INNER JOIN qa_suppliers_invoices a 
        ON a.supplier_invoice_code = b.item_invoicecodesupplier
GROUP BY purchase_code, b.item_code, b.item_costprice
    HAVING itempurchase_quantity > 0
    ORDER BY purchase_code 
    LIMIT 0,20000 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T07:54:31.733

用这个

```
SELECT purchase_code, item_code, status_code, 
     SUM(case status_code 
         when 15 then itempurchase_quantity
         ELSE (-1*itempurchase_quantity) END
        ) AS itempurchase_quantity
FROM myTable
GROUP BY purchase_code; 
```

## [演示](http://sqlfiddle.com/#!2/52205/1)

**笔记**

您将需要使用您的数据，而不是 myTable。我已经创建`myTable`了您在图像中显示的数据。

我认为新的查询将是

```
SELECT (
    SELECT purchase_code 
    FROM qa_suppliers_invoices a 
    WHERE a.supplier_invoice_code = b.item_invoicecodesupplier
   ) AS purchase_code, 
  item_code, 
  status_code, 
  SUM(case status_code 
         when 15 then itempurchase_quantity
         ELSE (-1*itempurchase_quantity) END
        ) AS itempurchase_quantity, 
  item_costprice 
FROM qa_items_purchases b
GROUP BY purchase_code
ORDER BY purchase_code 
LIMIT 0,20000; 
```

* * *

## 更新 1

```
SELECT purchase_code, item_code, status_code, 
       SUM(case status_code 
           when 15 then itempurchase_quantity
           ELSE (-1*itempurchase_quantity) END
          ) AS itempurchase_quantity
FROM myTable
GROUP BY purchase_code, item_code; 
```

## [新演示](http://sqlfiddle.com/#!2/6b168/1)

# java - Java regex 查找其中没有句点的数字

> ID：11590370
> 
> 赞同：2
> 
> 时间：2012-07-21T07:37:40.137
> 
> 标签：java, regex

我正在研究基本上是 IP 检测器正则表达式。

基本上，我想删除所有没有句点的数字。

例如，以下是一些示例输入：

```
1          >Matches
12         >Matches
134        >Matches
156        >Matches
1567       >Matches
1.99       >No Match
.100       >Don't care
1.2.3.4    >No Match
.1.2.3.4   >No Match 
```

这用于删除所有匹配项。匹配由空格分隔。例如，如果我输入了字符串：

```
"14\. 24\. asf.d 7 .12 .498 .s g 14091 87.49 .sdf.gs.df 12874 ds.fgs 9.127.41 sd.fg 92.47 sd.fg 892.14 sd.fg .79 12 s.df 47 8 .sdfg 1.9 sdfg 2.4 71\. s9 24 .ds.f.g 71.9 8 s.df 4 .g 7 132\. .sdfg 4 s.dfg" 
```

我可能会返回类似于字符串的内容：

```
"asf.d .s g 87.49 .sdf.gs.df ds.fgs 9.127.41 sd.fg 92.47 sd.fg 892.14 sd.fg s.df .sdfg 1.9 sdfg 2.4 s .ds.f.g 71.9 s.df .g  .sdfg s.dfg" 
```

我已经做到了：

```
([0-9]+)(?=) 
```

但我不确定如何让正则表达式忽略这些数字（如果它们中有句点）（实际上，我不确定如何让它首先选择数字，即使它们中有句点！）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T07:41:59.357

你可以试试这个正则表达式：

```
"(?<![0-9.])[0-9]+(?![0-9.])" 
```

解释：

*   `(?<![0-9.])`: 负面的看后面。前一个字符不是 0-9 或点。
*   `[0-9]+`: 0-9 中的一位或多位数字。
*   `(?![0-9.])`: 负面展望。下一个字符不是 0-9 或点。

# jquery - Modernizr 和 jQuery 的 Chrome 问题

> ID：11590371
> 
> 赞同：1
> 
> 时间：2012-07-21T07:38:15.753
> 
> 标签：jquery, google-chrome, modernizr, html5boilerplate

我正在研究 HTML5 Boilerplate 模板和 Modernizr。在测试一些特性时，我尝试使用一些 polyfills。好的，一切似乎都运行良好，但 Chrome 出现错误：它似乎尝试在 Modernizr 之后立即加载 jQuery，即使它不应该！实际上Modernizr下面没有脚本标签……Chrome在做什么？

![该图显示了 Chrome 开发工具](../Images/f8e5f29c5ef67dd6b1fcc279e314b5cf.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-19T20:07:14.733

这是因为您正在加载 //ajax.googleapis.com。

它需要是 http: 或 https:

然后它将在本地工作。

我目前正在尝试找出一种自动解决此问题的方法。就像...如果支持 https，则为 https：否则为 http：

解决方案：好的，您可以编写一个 JS 单线三元来检测 file: 协议，然后分配 https: 或 http:，或者您可以简单地通过 WAMP 之类的服务器运行您的站点，它会检​​测协议。

[https://github.com/h5bp/html5-boilerplate/blob/master/doc/faq.md](https://github.com/h5bp/html5-boilerplate/blob/master/doc/faq.md)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T10:25:50.730

我认为drublic是正确的。似乎您是从本地磁盘而不是通过网络服务器打开该页面。

如果您没有在链接资源中指定协议（方案），浏览器将使用与托管页面相同的协议。所以使用`//ajax.googleapis.com...`是正确的，不需要特殊的脚本来推断要使用的协议。

这是一个相关的[stackoverflow问题](https://stackoverflow.com/questions/4978235/absolute-urls-omitting-the-protocol-scheme-in-order-to-preserve-the-one-of-the)

指向这篇[博文](http://paulirish.com/2010/the-protocol-relative-url/)

# windows-8 - Windows 8 包中如何指定语言？

> ID：11590372
> 
> 赞同：0
> 
> 时间：2012-07-21T07:38:24.210
> 
> 标签：windows-8

我有以下问题：我正在尝试使用在应用卓越实验室期间收到的令牌将应用提交到 Windows 8 商店。在流程的“描述”选项卡中，我看到除了我指定为市场的英国语言之外，我还获得了希腊语言支持。所以现在我必须为这种语言指定一个希腊语描述，以及所有其他元数据、屏幕截图等。但是，我不希望这样做，因为它会因不完整的元数据而无法通过认证（根据认证要求，我的应用程序中没有带有希腊语标题的屏幕截图）。

那么问题来了，商店是如何从应用包中检测到我的应用支持希腊语的，我该如何移除呢？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T13:36:51.210

毕竟也不是太难。从 Visual Studio->选择项目->属性->默认语言

# windows - 仅在运行时模式下为黑色的文本框

> ID：11590378
> 
> 赞同：0
> 
> 时间：2012-07-21T07:39:35.770
> 
> 标签：windows, forms, textbox, runtime

我对包含在面板中的 groupbox 中的文本框有疑问。当我在调试模式或在我的电脑中运行程序（Windows 窗体、c#、框架 3.5）时，它工作正常，而不是在许多其他电脑中，我看到文本框全黑（它有白色背景），但我可以选择它的文本. 我不明白可能是什么问题，有什么想法吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T08:52:29.143

假设您在 VB6 中设计了应用程序，在设计时，您可以选择文本框的背景色和前景色，这可以通过更改文本框的属性来完成。

更改颜色时，系统会显示【系统】和【调色板】两个选项卡。如果您从 [系统] 选项卡中选择文本框的颜色，则文本框的颜色将根据用户正在配置的不同主题设置而改变。无论用户配置的主题如何，始终确保从 [Palette] 选项卡中选择颜色以确保始终保持一致性。

# javascript - 如何使用jquery运行荧光笔

> ID：11590380
> 
> 赞同：-1
> 
> 时间：2012-07-21T07:39:42.930
> 
> 标签：javascript, jquery

我有一个文本区域，它给出了字数。单击按钮时，我希望该文本出现在与 jquery 文本相同的 html 页面上，但我也希望保持段落等中的格式。

我还想一次突出显示 4 个单词，它应该提前 4 秒运行。

我怎么能用 jQuery 做到这一点？有人可以帮忙吗？

```
$("form").submit(function() {

    $('#result').text($("textarea").val()).show();
        返回真；

    });

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:57:58.957

为了显示相同的段落排列，您必须替换所有换行符`<br/>`，然后将其显示为 div 的 text()。也许您可以使用 highlight: [JavaScript text highlighting jQuery plugin](http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html)来满足您的另一部分需求。

好吧，我给了你一个大概的想法。现在不要指望我为你写免费的代码。:)

# android - android.view.WindowLeaked

> ID：11590382
> 
> 赞同：34
> 
> 时间：2012-07-21T07:40:04.443
> 
> 标签：android

```
inviteBu.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            if(ChoiceList.size()>0)
             {

                    LayoutInflater factory = LayoutInflater.from(MobileConnectActivity.this);
                    final View textEntryView = factory.inflate(R.layout.invite_dialog, null);
                    final EditText et =(EditText) textEntryView.findViewById(R.id.usercontent_edit);

                   dia= new AlertDialog.Builder(MobileConnectActivity.this)
                        .setTitle(getString(R.string.invite_input_content))
                        .setView(textEntryView)
                        .setPositiveButton(getString(R.string.invite_send), new DialogInterface.OnClickListener() {
                            public void onClick(final DialogInterface dialog, int whichButton) {
                                dialog.dismiss();
                                 if(et.getText().toString()==null && et.getText().equals("") )
                                {
                                    Toast.makeText(getApplicationContext(), getString(R.string.invite_content_check), Toast.LENGTH_SHORT).show();
                                }
                                 else{

                                     new AsyncTask<Void, Void, String>() {

                                         CustomDialog mProgressBar = new CustomDialog(MobileConnectActivity.this, R.style.dialog);

                                        protected void onPreExecute() {

                                            mProgressBar.show();
                                        };

                                        protected void onCancelled() {
                                            mProgressBar.hide();
                                        };

                                        @Override
                                        protected String doInBackground(Void... params) {

                                                ChoiceList=removeDuplicateList(ChoiceList);
                                                for(int i=0;i<ChoiceList.size();i++)
                                                {
                                                    Log.i("aaa",""+ChoiceList.get(i));
                                                    sendSMS(ChoiceList.get(i), et.getText().toString());
                                                }
                                            return "OK";
                                        }

                                        protected void onPostExecute(String response) {
                                            mProgressBar.hide();

                                            if (response != null ) {

                                                 Toast.makeText(getApplicationContext(), getString(R.string.invite_succeed), Toast.LENGTH_SHORT).show();
                                                 Intent intent = new Intent();
                                                    intent.setClass(MobileConnectActivity.this, inviteMainActivity.class);
                                                    startActivity(intent);

                                                MobileConnectActivity.this.finish();
                                            } else {
                                                //mHelper.showResponseErrorMessage(response);
                                                Intent intent = new Intent();
                                                intent.setClass(MobileConnectActivity.this, inviteMainActivity.class);
                                                startActivity(intent);
                                                finish();
                                            }

                                        };

                                    }.execute();

                                 }

                            }
                        })
                        .setNegativeButton(getString(R.string.invite_cancel), new DialogInterface.OnClickListener() {
                            public void onClick(DialogInterface dialog, int whichButton) {

                                /* User clicked cancel so do some stuff */
                            }
                        }).show();

             }
            else
            {
                Toast.makeText(getApplicationContext(), getString(R.string.invite_choice_check), Toast.LENGTH_SHORT).show();
            }
        }
    }); 
```

它给了我：

```
07-21 03:36:24.519: E/WindowManager(23240): Activity com.portaura.myaura.invite.MobileConnectActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@405c32d0 that was originally added here
07-21 03:36:24.519: E/WindowManager(23240): android.view.WindowLeaked: Activity com.portaura.myaura.invite.MobileConnectActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@405c32d0 that was originally added here
07-21 03:36:24.519: E/WindowManager(23240):     at android.view.ViewRoot.<init>(ViewRoot.java:266)
07-21 03:36:24.519: E/WindowManager(23240):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:174)
07-21 03:36:24.519: E/WindowManager(23240):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:117)
07-21 03:36:24.519: E/WindowManager(23240):     at android.view.Window$LocalWindowManager.addView(Window.java:424)
07-21 03:36:24.519: E/WindowManager(23240):     at android.app.Dialog.show(Dialog.java:241)
07-21 03:36:24.519: E/WindowManager(23240):     at com.portaura.myaura.invite.MobileConnectActivity$3$1$1.onPreExecute(MobileConnectActivity.java:161)
07-21 03:36:24.519: E/WindowManager(23240):     at android.os.AsyncTask.execute(AsyncTask.java:391)
07-21 03:36:24.519: E/WindowManager(23240):     at com.portaura.myaura.invite.MobileConnectActivity$3$1.onClick(MobileConnectActivity.java:201)
07-21 03:36:24.519: E/WindowManager(23240):     at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:165)
07-21 03:36:24.519: E/WindowManager(23240):     at android.os.Handler.dispatchMessage(Handler.java:99)
07-21 03:36:24.519: E/WindowManager(23240):     at android.os.Looper.loop(Looper.java:130)
07-21 03:36:24.519: E/WindowManager(23240):     at java.lang.reflect.Method.invokeNative(Native Method)
07-21 03:36:24.519: E/WindowManager(23240):     at java.lang.reflect.Method.invoke(Method.java:507) 
```

* * *

## 回答 #1

> 赞同：96
> 
> 时间：2013-01-03T17:21:26.630

窗口泄漏异常通常是由未正确关闭的对话框引起的。即，如果您打算在 asynctask 的 Onpostexecute 中关闭一个对话框并且创建它的活动已经结束，它将引发窗口泄漏。确保在活动的 onPause 中关闭对话框。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2016-02-25T07:39:48.077

每当您启动 ProgressDialog 时，应该在后台任务完成后正确关闭，甚至取消后台运行任务。所以，

而不是`mProgressBar.hide();`使用`mProgressBar.dismiss();`

你不会得到 android.view.WindowLeaked 错误

希望这可以帮助

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-12-26T12:38:12.720

检查您是否在 mDialog.show() 函数之前使用了 finish() 函数。如果是删除 finish() 并在 show() 之后添加它。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-07-12T12:35:56.413

当您错过此代码时：`mProgressDialog.dismis();`那时您可能会收到此类错误。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2019-03-31T07:52:36.093

在`onStop()`或`onDestroy()`回调中，使用关闭对话框`dialogName.dismiss();`

还要进行空检查。那是：

```
if (dialogName != null) {
    dialogName.dismiss();
} 
```

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2018-04-17T13:28:52.490

发生此错误的另一种情况是应用程序在显示对话框时崩溃。查看此错误上方的其他错误。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2019-11-10T07:21:37.147

问题是**AsyncTask**。

```
new AsyncTask<Void, Void, String>() {

    CustomDialog mProgressBar = new CustomDialog(MobileConnectActivity.this, R.style.dialog);
    .... 
} 
```

您在异步任务中创建了一个进度条，当您移动到另一个活动时会出现问题。

为此，在解雇或 show() 之前

```
if(!isFinishing() && dialog != null) { dialog.dismiss();} 
```

**isFinishing()**的用法

 **```
 * Check to see whether this activity is in the process of finishing,
 * either because you called {@link #finish} on it or someone else
 * has requested that it finished.  This is often used in
 * {@link #onPause} to determine whether the activity is simply pausing or
 * completely finishing.
 *
 * @return If the activity is finishing, returns true; else returns false. 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-07-25T15:32:56.907

对我来说问题正在发生，因为我使用了`android:noHistory="true"`导致问题的活动，并且它只发生在 Android 6.0 API 23 上。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-03-11T17:42:46.893

简单地关闭对话框并不足以消除我的错误。事实证明，即使在对话框被解除后，我的代码仍保留对对话框的引用。对我来说，关键是在关闭对话框后将该引用设置为 null。**

# mysql - 如何在 SQL 中水平打印表格？

> ID：11590383
> 
> 赞同：1
> 
> 时间：2012-07-21T07:40:04.067
> 
> 标签：mysql, sql, sql-server, oracle

我想以水平顺序打印数据库表。我可以使用`CASE`或其他东西以及如何使用？

```
ID   NAME
--   ----
101  abc
102  xyz
103  pqr 
```

我希望输出是这样的：

```
101 abc 102 xyz 103 pqr 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T08:18:57.853

在这里替换为您的表和列名并使用此 SQL：

```
DECLARE @str VARCHAR(100);
SELECT @str = COALESCE(@str + ' ', '') + column_name FROM table_name
SELECT @str 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:49:04.670

声明@str VARCHAR(100);
SELECT @str = COALESCE(@str + ' ', '') + convert(varchar,ID) + ' ' + NAME FROM TableName
SELECT @str

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T10:00:17.367

首先，将所有平台都列为标签是没有意义的——一次只能使用一个

这是一个真正的问题吗？也许您只是学习 sql 并想知道是否有一种“简单”的方法可以做到这一点？答案是不。

SQL 不是执行此操作的最佳方法——如果您从另一个环境调用 SQL，则该语言更适合格式化打印输出。c、c++、C#、PHP、Python 等都可以让您获取 db 数据并将其流式传输到没有换行符的输出。

我大多数用例这是解决问题的最佳方法。

但是，如果您可以提供有关您实际尝试做什么的更多信息，那么可能有一种方法可以很好地解决 SQL 中的问题。鉴于您的问题，答案是否定的，请使用调用语言以这种方式格式化打印输出。

# javascript - 使用 jQuery 破解上传器以处理大文件

> ID：11590384
> 
> 赞同：1
> 
> 时间：2012-07-21T07:40:11.507
> 
> 标签：javascript, jquery, overriding

有没有办法可以使用 jQuery 来提高文件上传器的性能？有一个系统我试图破解以使上传过程更好。我只是在做一些前端覆盖，因为我没有权限访问他们的服务器文件。

当前的上传者看起来像这样：

```
<ul>
<li> <input type="file"></li>
<li> <input type="file"></li>
<li> <input type="file"></li>
<li> <input type="file"></li>
<li> <input type="file"></li>
</ul> 
```

使用它的缺点是，您需要一个接一个地选择图像，并且只限制您上传 5 个项目。

所以我做了什么，我在其中一个输入中添加了 multiple="multiple" 属性，让我选择多个项目。

```
<ul>
<li> <input type="file" multiple="multiple"></li>
<li> <input type="file"></li>
<li> <input type="file"></li>
<li> <input type="file"></li>
<li> <input type="file"></li>
</ul> 
```

通过这样做，我能够上传超过 5 个项目（7-8 个项目）。我遇到的一个问题是它无法在长时间的上传过程中处理大文件。

它只能处理总和最多为 2 MB 的图像。但是一旦图像总和达到 2.5 MB，它将继续上传直到 100%，但最终会返回错误。

是否有值得检查的 jQuery 插件对您有所帮助？我需要我的会话持续到它成功完成上传。我只能使用javascript来覆盖这个过程，仅此而已。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:53:00.843

这不是您可以从客户端更改的东西。在服务器上设置了上传限制，然后您必须在那里更改该阈值（如何取决于您的 Internet 服务器，Apache？IIS？）。

例如，如果您使用 PHP，您可以将`upload_max_filesize`属性设置`PHP.ini`为您需要的值（例如 10Mb）。您可以使用`.htaccess`文件在每个站点的基础上执行此操作（只需`php_`添加到属性名称之前）。

如果您将 IIS 与 ASP.NET 一起使用，则可以在配置下`MaxRequestLength`的[`httpRuntime`](http://msdn.microsoft.com/en-us/library/e1f13641%28v=vs.100%29.aspx)部分中进行更改`System.Web`（以字节为单位将值设置为您需要的值）。

无论您设置的值是什么，您总会有一个限制，那么您也应该在达到限制时通知您的客户端（例如 IIS 只是中止请求）。有几种方法可以实现这一点，我发现一种更简单的方法是将上传器放在一个文件中`iframe`并定期检查`readyState`文档的属性（您可能需要编写更多的代码来实现它的交叉-浏览器）。

# android - 需要在android中使用HttpPost上传文件

> ID：11590385
> 
> 赞同：1
> 
> 时间：2012-07-21T07:40:32.570
> 
> 标签：android

```
I would like to upload a name.txt file without ussing MultiEntitiy "importing a large file" as my file is small in size... I have written the following code but unable to upload a file.. thanks for your concern...

URL url = new URL(strUrl);
    HttpURLConnection conn = (HttpURLConnection) url.openConnection();
    conn.setDoInput(true); // Allow Inputs
    conn.setDoOutput(true); // Allow Outputs
    conn.setUseCaches(false); // Don't use a Cached Copy
    conn.setRequestMethod("POST");
    conn.setRequestProperty("userfile", strEmailAddress + ".txt");
    dos = new DataOutputStream(conn.getOutputStream());
    dos.writeBytes("Content-Disposition: form-data; name=\"paramName\"");
    Helper.printLogD(" connection " + conn.getContent().toString());

String temp = getStringFromInputStream(conn.getInputStream());
Helper.printLogI("temp" + temp); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:24:19.477

我使用以下代码：

```
public static JSONObject uploadImageToServer(String url, String path,
        String usuario) {
    HttpClient httpClient = new DefaultHttpClient();
    HttpContext localContext = new BasicHttpContext();
    HttpPost httpPost = new HttpPost(url);

    try {
        MultipartEntity entity = new MultipartEntity(
                HttpMultipartMode.BROWSER_COMPATIBLE);

        List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
        nameValuePairs.add(new BasicNameValuePair("userfile", path));
        nameValuePairs.add(new BasicNameValuePair("tmp_name", usuario));

        for (int index = 0; index < nameValuePairs.size(); index++) {
            if (nameValuePairs.get(index).getName()
                    .equalsIgnoreCase("userfile")) {
                // If the key equals to "image", we use FileBody to transfer
                // the data
                entity.addPart(nameValuePairs.get(index).getName(),
                        new FileBody(new File(nameValuePairs.get(index)
                                .getValue())));
            } else {
                // Normal string data
                entity.addPart(
                        nameValuePairs.get(index).getName(),
                        new StringBody(nameValuePairs.get(index).getValue()));
            }
        }

        httpPost.setEntity(entity);

        HttpResponse response = httpClient.execute(httpPost, localContext);

        HttpEntity responseEntity = response.getEntity();

        if (responseEntity != null) {
            InputStream instream = responseEntity.getContent();
            String resultString = convertStreamToString(instream);
            instream.close();
            // Transform the String into a JSONObject
            JSONObject jsonObjRecv = null;
            try {
                jsonObjRecv = new JSONObject(resultString);
            } catch (JSONException e) {
                e.printStackTrace();
            }
            return jsonObjRecv;
        }

    } catch (FileNotFoundException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    return null;
} 
```

您还需要库**httpmime**才能使其工作。

希望有所帮助:)

# c# - DataGridViewCheckBox 未以编程方式进行检查

> ID：11590392
> 
> 赞同：0
> 
> 时间：2012-07-21T07:41:29.643
> 
> 标签：c#, winforms

我有一张软件表、一张系统表和一张已安装软件表（ID、SysID、SoftID）。我想将所有软件加载到 DataGridView，并且我的 DataGridView 有 3 列（ID、SoftName、已安装），ID 和 SoftName 是从 Softwares 加载的，installed 是一个复选框，当 InstalledSoftwares 表中存在记录时我要检查它软件。已安装的列未绑定，其 TrueValue 设置为 1，我将其填充到 ForEach 块中，如：

```
DGVIS.DataSource = Reports.installedSoftwares.Softwares();
IQueryable<InstalledSoftware> Installed = Reports.installedSoftwares.InstalledOn(SystemID);
        foreach (var ins in Installed)
        {
            foreach (DataGridViewRow row in DGVIS.Rows)
            {
                if ((int)row.Cells["IDo"].Value == ins.SoftID)
                {
                    row.Cells["installed"].Value = 1;
                    break;
                }
            }
        } 
```

但是当我运行应用程序时，所有复选框都未选中，当我跟踪它时，安装的行得到值 1，但是当 foreach 完成时，每个复选框都未选中并且值为 0（FalseValue 设置为 0）。

我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T08:13:34.593

啊忽略我的评论，我刚刚注意到这一行：

```
DGVIS.DataSource = Reports.installedSoftwares.Softwares(); 
```

您需要修改数据源本身以反映所做的更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T08:13:00.250

将单元格设置为真值：

```
 foreach (DataGridViewRow row in DGVIS.Rows)
        {
            if ((int)row.Cells["IDo"].Value == ins.SoftID)
            {
                row.Cells["installed"].Value = true;
                break;
            }
        } 
```

# android - 应用程序启动时提示输入用户名，并在用户下次启动应用程序时打招呼

> ID：11590393
> 
> 赞同：0
> 
> 时间：2012-07-21T07:41:34.627
> 
> 标签：android

我正在构建一个 android 应用程序，它要求我在用户第一次启动应用程序时提示用户输入他的名字。在第二次以后，应用程序不会提示用户输入他的名字，而是会向用户打招呼（并立即转到主菜单页面。有人知道我该怎么做吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T08:00:00.470

将用户名存储在首选项字段中。当应用程序开始检查并查看是否设置了此首选项字段，如果没有，则提示用户输入用户名并保存它，如果已设置，则检索该用户名并在您拥有的活动中使用它：

```
@Override
protected void onCreate(Bundle savedInstance) {
    super.onCreate(savedInstance);
    final SharedPreferences prefs = PreferenceManager
            .getDefaultSharedPreferences(this);
    String userName = prefs.getString("user_name", null);
    if (userName == null) {
        EditText input = new EditText(this);
        input.setId(1000);          
        AlertDialog dialog = new AlertDialog.Builder(this)
                .setView(input).setTitle("Enter your username!")
                .setPositiveButton("Ok",
                        new DialogInterface.OnClickListener() {

                            @Override
                            public void onClick(DialogInterface dialog,
                                    int which) {
                                EditText theInput = (EditText) ((AlertDialog) dialog)
                                        .findViewById(1000);
                                String enteredText = theInput.getText()
                                        .toString();
                                if (!enteredText.equals("")) {
                                    SharedPreferences.Editor editor = prefs
                                            .edit();
                                    editor.putString("user_name",
                                            enteredText);
                                    editor.commit();
                                }
                            }
                        }).create();
        dialog.show();
    } 
    // you are ready to use the user's username 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T07:52:23.340

Use this code:

```
 File file = new File("username.txt");

        // if file doesnt exists, then prompt username alert dialog
        if (!file.exists()) {
          //prompt for username
          file.createNewFile();
        }

        FileWriter fw = new FileWriter(file.getAbsoluteFile());
        BufferedWriter bw = new BufferedWriter(fw);
        //suppose  EditText_UserName is your edittext where he can enter his name
        bw.write(EditText_UserName.getText().toString());
        bw.close(); 
```

Everytime you start the application, check for this file using file.exists and continue.

# javascript - JQuery 动画完整功能：如何恢复我的“旧这个”？

> ID：11590394
> 
> 赞同：0
> 
> 时间：2012-07-21T07:41:42.647
> 
> 标签：javascript, jquery, jquery-animate

我开始使用 jQuery，但遇到以下问题：

```
function AClass(){
    this.attribute = /*something*/
}

AClass.prototype.COMPLETE= function() {
    /*FROM HERE I WANT TO ACCESS TO THE ABOVE "this.attribute"!!*/
}

AClass.prototype.doSomething = function() {
    $("something").animate(..,..,.., this.COMPLETE);
} 
```

所以，这就是我面临的问题。从那个完整的动画函数中，我想访问 AClass 的属性值。问题是在那个上下文`this`中指向被动画的 DOM 元素并且不再指向调用者对象。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T15:52:17.460

您可以使用该[`$.proxy()`方法](http://api.jquery.com/jquery.proxy/)将特定上下文绑定到您的回调。或者，如果您不关心旧浏览器（即 IE < 9），您可以使用 (JS 1.8.5)[`.bind()`方法](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind)。基本上你需要提供`yourFunction`作为回调的地方：

```
$.proxy(yourFunction, theRequiredContext)
// or
yourFunction.bind(theRequiredContext) 
```

在您的示例代码的上下文中：

```
function AClass(){
    this.attribute = /*something*/
}

AClass.prototype.COMPLETE= function() {
    /*FROM HERE I WANT TO ACCESS TO THE ABOVE "this.attribute"!!*/
}

AClass.prototype.doSomething = function() {
    $("something").animate(..,..,..,$.proxy(this.COMPLETE, this));
} 
```

演示：http: [//jsfiddle.net/P9mbG/](http://jsfiddle.net/P9mbG/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T08:04:06.277

在变量中保存对原始 this 的引用：

```
function AClass(){
    this.attribute = /*something*/
    var self = this;

    AClass.prototype.COMPLETE= function() {
        /* Use: self.attributes */
    }

    AClass.prototype.doSomething = function() {
        $("something").animate(..,..,..,COMPLETE);
    }
} 
```

# php - php上传大文件

> ID：11590395
> 
> 赞同：2
> 
> 时间：2012-07-21T07:41:45.347
> 
> 标签：php, upload, large-files

我被文件上传问题困在这里。我已经搜索了答案，但只找到了“增加 post_max_size 和 upload_max_filesize”的建议，这对我不起作用。我无法上传大文件（大约 150mb+），以下是我的 php.ini 设置和我的环境

**php.ini**

```
 - max_input_time 300
 - max_execution_time 600
 - memory_limit 1024M
 - upload_max_filesize 1512M
 - post_max_size 2048M 
```

**环境**

```
 - Webserver: XAMPP
 - PHPFramwork: CodeIgniter 
```

我还尝试了许多其他 php.ini 配置。我构建的文件上传类使用 xhr.send(file) 从 XmlHttpResponse 请求接收发布的文件数据。我用firebug头调试的信息是正常的，帖子完全是空的（通常它应该是文件数据，一个不可读取的文本），cookies是ci_session cookies，根本没有xhr响应文本。不过，我编写了一个脚本，无论如何都会返回一些响应。

我不是这方面的专家，而是新手。我可以提供给你们的所有信息。那么，有什么想法吗？我真的被困在这里无法解决这个问题。

如果应该有任何信息我可以查找并将其提供给您以解决此问题，请告诉我。

提前谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T08:29:11.277

而是使用标准格式上传尝试使用 xhr 对象上传（如您所说），但使用文件块方法将文件发送到服务器，从理论上讲，您应该没有上传限制。试试这个也提供 php 脚本的上传 jquery 插件：

[http://code.google.com/p/ax-jquery-multiuploader/](http://code.google.com/p/ax-jquery-multiuploader/)删除，因为不能保持

新链接（免费）： [http ://www.albanx.com/download.php?item_id=4](http://www.albanx.com/download.php?item_id=4)

文档： [http ://www.albanx.com/ajaxuploader/doc.php](http://www.albanx.com/ajaxuploader/doc.php)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-21T08:08:23.993

如果您要上传非常大的文件，例如几 GB，那么实际上存在浏览器端的限制。似乎大多数现代浏览器都是[2GB - 4GB](https://stackoverflow.com/questions/2880722/is-http-post-limitless)。您可能应该研究文件上传的分块（一次上传文件的某些部分，例如几 MB）。

# php - 如何在与以下 PHP 代码一起使用的 mysql 中进行配置？

> ID：11590398
> 
> 赞同：-1
> 
> 时间：2012-07-21T07:42:21.397
> 
> 标签：php, mysql

请告诉我如何在 mysql 中配置数据，以便它可以与下面提到的 PHP 代码一起使用。

我不知道 $GYAZO_DB_PREFIX 是什么。在自述文件中，他们告诉它是 // 数据库表前缀。

如果是数据库表前缀怎么加呢？

还有什么是用户 ID 和用户 IP。它们是字段还是 saprate 表？

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T07:46:07.927

Assuming you set `$GYAZO_DB_PREFIX = 'yourdb_'`, then, your table's name would be `yourdb_members`, `yourdb_table1`, etc. The DB prefix is usually configured by the user, or could be left blank, if your tables are going to be named `'members', 'table1'`, etc.

**UserID** & **UserIP** are both columns in the table `yourdb_members`. You are trying to store UserID and UserIP in that table. If the userid exists, you are updating UserIP.

As @Truth said, **mysql_** functions are going to be deprecated soon, so refrain from using them.

# sql - Group BY 在返回第一条记录时与 SUM() 结合

> ID：11590405
> 
> 赞同：0
> 
> 时间：2012-07-21T07:42:52.567
> 
> 标签：sql, sql-server, sql-server-2008

我有一个库存表，我想要`GROUP BY`不同批次的相同 mfgpn，所以我使用`SUM()`数量上的函数来组合类似的记录。我想尝试为该组提取记录中的最后一个 MANUFACTURER，因为它可能是最新/最准确的，但我似乎很难让 MANUFACTURER 字段对最后一个 MANUFACTURER 下的所有常见零件号进行分组，所以我仍然有一个结果中的一堆重复记录。

我目前有以下 SELECT 查询：

```
SELECT SUM([QTY]) AS QTY
      ,[MFGPN]
    ,  (SELECT TOP 1 Manufacturer FROM [post].[dbo].[BF-prefix] B2 WHERE B2.MFGPN=MIN(B.mfgpn)) AS MANUFACTURER
  FROM [post].[dbo].[BF-prefix] B
  GROUP BY mfgpn, MANUFACTURER
  ORDER BY MFGPN ASC 
```

如果这有什么不同，我正在 SQL Server 2008 上运行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T07:56:39.533

您可以使用窗口函数来实现您所需要的：

```
;WITH T AS
(   SELECT  MFGPN,
            Manufacturer,
            SUM(Qty) OVER(PARTITION BY MFGPN) AS Qty,
            ROW_NUMBER() OVER(PARTITION BY MFGPN ORDER BY Manufacturer) AS RowNumber
    FROM    [Post].[dbo].[BF-prefix]
)
SELECT  *
FROM    T
WHERE   RowNumber = 1 
```

我只是不确定你是如何定义“最后一个制造商”的，我假设你有一个日期字段，所以你可能需要在这一行中更改 order by 子句

```
ROW_NUMBER() OVER(PARTITION BY MFGPN ORDER BY Manufacturer) AS RowNumber 
```

# php - json_decode 自己的类 - 警告：深度必须大于零

> ID：11590406
> 
> 赞同：1
> 
> 时间：2012-07-21T07:43:06.443
> 
> 标签：php, json

因为我更喜欢面向对象的方法，所以我编写了自己的 json 类来处理 json_last_error 以进行解码和编码。

不知何故，我收到了 json_decode 方法的 depth 属性的 php 警告。

json_decode 方法的 PHP 核心 api (eclipse PDT) 如下所示：

```
function json_decode ($json, $assoc = null, $depth = null) {} 
```

到目前为止一切顺利，但如果我像这样编写自己的课程：

```
function my_json_decode ($json, $assoc = null, $depth = null) {
    return json_decode($json, $assoc, $depth);
} 
```

并尝试按如下方式运行它：

```
$json = '{ "sample" : "json" }';
var_dump( my_json_decode($json) ); 
```

我收到以下警告：

```
Warning: json_decode(): Depth must be greater than zero in / 
```

我错过了什么吗？我想如果我将属性的 null 传递给将属性本身设置为 null 的方法应该没问题？！

使用：服务器：Apache/2.2.22 (Unix) PHP/5.3.10

谢谢您的帮助！

* * *

[编辑]以澄清我的理解泄漏在哪里：

我正在使用 Eclipse Indigo + PDT。org.eclipse.php.core.language 的 PDT PHP 核心 api 与 php.net 所说的 json_decode 不同：

json_decode org.eclipse.php.core.language：

```
json_decode ($json, $assoc = null, $depth = null) 
```

json_decode php.net:

```
json_decode ( string $json [, bool $assoc = false [, int $depth = 512 [, int $options = 0 ]]] ) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T07:49:18.630

深度假设是一个数字，`(int)null == 0`因此您将 0 传递给 $depth。来自 php 手册 512 是 $depth [http://php.net/manual/en/function.json-decode.php的默认值](http://php.net/manual/en/function.json-decode.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T07:50:38.073

恕我直言，在这种情况下，面向对象的方法不值得发明自行车。例如，只需从 Yii 框架的[CJSON::decode 方法](http://code.google.com/p/yii/source/browse/tags/1.1.10/framework/web/helpers/CJSON.php#324)中获取源代码（或者最好使用非常优秀的整个类）。

```
json_decode ( string $json [, bool $assoc = false [, int $depth = 512 [, int $options = 0 ]]] ) 
```

您不能将 NULL 作为深度传递。所以你的 json_decode() 别名不正确。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T07:53:51.810

Depth 是 json_decode 的递归深度（应该是 INTEGER）。有关详细信息，请参阅[手册。](http://php.net/manual/en/function.json-decode.php)

您正在做的是将 $depth 设置为 0。由于您的 json 对象的深度为 2。 $depth 的最小值必须为`2`. 此外，您的代码在任何深度>2 的值下都可以正常工作，但我建议使用默认值 512（最初是 128，后来在 PHP 5.3.0 中增加到 512）

另请注意，`assoc`它必须是一个`bool`值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T07:56:27.223

这不是您的函数的问题，并且如果未传入参数，则将其设置为 null 。问题是因为您将 null 传递给 json_decode 以获得深度。只需检查是否为空`$assoc`，`$depth`如果它们不为空，请将它们适当地传递给 json_decode 。此外，您应该明确这`$assoc`是一个布尔值并使用默认值。

```
function my_json_decode ($json, $assoc = false, $depth = null) {
    if ($assoc && !$depth)
        return json_decode($json, $assoc);
    else if ($depth)
        return json_decode($json, $assoc, $depth);
    return json_decode($json);
} 
```

但是，我不确定您为什么需要这样做，因为 php-json 库会为您处理这个问题。

# java - 是否可以动态添加摇摆控制动作监听器？

> ID：11590407
> 
> 赞同：0
> 
> 时间：2012-07-21T07:43:11.910
> 
> 标签：java, swing, dynamic

我在运行时创建了 JTextField 数组。这是基于用户输入的。因此，为每个文本字段分配单独的动作侦听器。

我如何为 TextField 提供 actionlisterner？

代码：

```
public class BucketInfoDynamic extends javax.swing.JFrame {

    Dimension screen = Toolkit.getDefaultToolkit().getScreenSize();
    int value;
    JPanel[] p2 ;
    JTextField[] txtFrom;
    JTextField[] txtTo;
    JLabel[] lblBucket;
    JLabel lblEnd;

    public BucketInfoDynamic() {
        for(;;)
        {
            try{
                String number = JOptionPane.showInputDialog("How many Bucket do you want?");
                value = Integer.parseInt(number);
                if(value <= 5 && value > 1)
                    break;
                else
                    JOptionPane.showMessageDialog(this, "Enter bucket value should greater than 1 and less than 5.\n"); 
            }
            catch(NumberFormatException ex)
             {
                   JOptionPane.showMessageDialog(this, "This is Not a valid number format..\n"); 
             }
        }
        initComponents();
        jPanel1.setLayout(new GridLayout(value,1,20,10));
        p2 = new JPanel[value];
        txtFrom = new JTextField[value];
        txtTo = new JTextField[value -1];
        lblBucket = new JLabel[value];
        lblEnd = new JLabel("And Above");
        this.designProcess();

    }

 private void designProcess() {
        jPanel1.setSize(value * 50 ,jPanel1.getWidth());
        for(int i = 0; i < value; i++)
        {
            lblBucket[i] = new JLabel("Bucket "+i);
            p2[i] = new JPanel();
            p2[i].setLayout(new GridLayout(1,3,20,10));
            txtFrom[i] = new JTextField();
            if(i == 0)
                txtFrom[i].setText("0");
            txtFrom[i].setEditable(false);
            p2[i].add(lblBucket[i]);
            p2[i].add(txtFrom[i]);
            if(i < value-1)
            {
                txtTo[i] = new JTextField();
                txtTo[i].setFocusTraversalKeysEnabled(false);
                txtTo[i].addKeyListener(new java.awt.event.KeyAdapter() {
                    public void keyReleased(java.awt.event.KeyEvent evt) {
                        toKeyReleased(evt);
                } 
            });
                p2[i].add(txtTo[i]);
            }
            else
                p2[i].add(this.lblEnd);

            jPanel1.add(p2[i]);

        }
    }

     private void toKeyReleased(KeyEvent evt) {
        // this.checkFormat(evt);
         Component com = evt.getComponent();
         System.out.println(com.getName());

        if(KeyEvent.VK_TAB == evt.getKeyCode())
            this.checkRange();
     }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T08:23:23.050

一种方法是：

```
jTextFieldArray[index].addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                // code what you want this field to do
            }
        }); 
```

另一种方法是：向所有 JTextField 注册一个 ActionListener 并使其搜索触发事件的那个（提示：ActionEvent.getSource() 为您提供触发事件的组件）。

像这样 ：

```
public class Jtext {
JTextField[] txt;
    public Jtext() {
        txt = new JTextField[100];
        int i = 0;
        txt[i] = new JTextField();
        Listener l = new Listener();
        txt[i].addActionListener(l);

    }    
    class Listener implements ActionListener{

        @Override
        public void actionPerformed(ActionEvent e) {
            JTextField txt = (JTextField) e.getSource();
            if(txt.equals(YourJtextField){

            }
        }

    }
} 
```

对于有限数量的文本字段解决方案可能是这样的：

```
public class Jtext {
JTextField[] txt;
public static String ACTION_CMD_1 = "txt1";
public static String ACTION_CMD_2 = "txt2";
    public Jtext() {
        txt = new JTextField[5];
        int i = 0;
        txt[i] = new JTextField();
        Listener l = new Listener();
        txt[i].setActionCommand("txt" + counter);

    }    
    class Listener implements ActionListener{

        @Override
        public void actionPerformed(ActionEvent e) {
            String actCommand = e.getActionCommand();
            if(actCommand.equals(ACTION_CMD_1)){
                 // code
            }

            if(actCommand.equals(ACTION_CMD_2)){
                 //code
            }
        }

    } 
```

# python - django wsgi + Popen + svn 结帐

> ID：11590409
> 
> 赞同：0
> 
> 时间：2012-07-21T07:43:14.070
> 
> 标签：python, django, svn, wsgi, popen

出于某种原因，我需要从 django 视图中检出源代码文件夹，为此我使用“Popen”。

一切正常，**使用 django runserver 时效果很好**。

但是，在我将代码部署到 apache2 + wsgi 后，Popen 无法正常工作。它总是在命令实际完成之前返回。它也不会抛出错误，它只是抛出不完整的输出，我检查了签出的文件夹，它们也不完整。

整个 svn check out 过程大约需要 5-6 秒，标准输出相当大（大约 3000 个字符）。

我知道有一个 pysvn 库，但似乎很难在过时的 ubuntu 服务器上安装它。

基本上这是我现在唯一被卡住的事情。

我用来调用结帐的代码如下：

```
def run_cmd(argument_list, output_file = None):
    print "arguments", argument_list
    p = subprocess.Popen(argument_list, stdout=subprocess.PIPE)

    content = ""
    while True:
        line = p.stdout.read(50)

        if not line:
            break

        content += line

    if output_file:
        fout = file(output_file, "w")
        fout.write(content)
        fout.close()

    return content

output = run_cmd(["/usr/bin/svn", "--ignore-externals", "co", svn_url, src_folder] ) 
```

以下是一些可能有用的信息：

1.  要签出的文件数量：大约 3000
2.  签出所需时间：大约 5-6 秒（仅基于文件的 SVN 位置）
3.  蟒蛇版本：2.6.4
4.  django 版本：1.1.2
5.  mod wsgi 版本：3.3

我已经坚持了几个小时，非常感谢任何提示！

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:39:19.863

好的，今天又挣扎了3个小时。我终于解决了这个问题。

这是发生了什么，wsgi & popen 实际上很好，真正的问题是一些用于签出的源代码文件实际上有特殊字符，并且会破坏 svn 签出过程（出现以下错误）

> svn：无法将字符串从“UTF-8”转换为本机编码

wsgi 和控制台对 LC_LANG 有不同的值，这就解释了 runserver 和 wsgi 之间的不同行为。

最后，我通过修改'/etc/apache2/envars'的文件解决了这个问题，并取消了以下行的注释：

> . /etc/default/locale

请注意，您必须通过 'apache2ctl stop' 和 'apache2ctl start' 而不是 'apache2ctl restart' 重新启动服务器，才能使设置生效。

我实际上使用[pexpect](http://pexpect.sourceforge.net/pexpect.html)来找出问题，但后来又回到了 Popen，因为明显的延迟问题。

这是我的 run_cmd 的最终代码，希望它可以在将来对其他人有所帮助：

```
def run_cmd(argument_list, output_file = None):
    print "arguments", argument_list

    #command = " ".join(argument_list)
    #content = pexpect.run(command)
    #if output_file:
        #fout = file(output_file, "w")
        #fout.write(content)
        #fout.close
    #return content

    p = subprocess.Popen(argument_list, bufsize=50, stderr=subprocess.STDOUT, stdout=subprocess.PIPE) #showed error message as well

    content = ""
    while True:
        line = p.stdout.read(50)

        if not line:
            break

        content += line

    #raise Exception(content)   #for debug

    if output_file:
        fout = file(output_file, "w")
        fout.write(content)
        fout.close()

    return content 
```

# sencha-touch-2 - sencha touch 2 中的过滤

> ID：11590411
> 
> 赞同：0
> 
> 时间：2012-07-21T07:43:29.957
> 
> 标签：sencha-touch-2

我正在使用 Sencha Touch 2。在使用 store.filter 时，所有 te 记录都被过滤了。

基本上我有一个主题列表。当我单击特定主题时，我想显示该特定主题的评论列表。我正在使用 2 家商店。一种存储主题和主题ID。其他存储评论-主题，评论，主题ID和评论ID。所以当我披露一个特定主题时，我会使用它的 topicID 来过滤我的评论存储

// 这是我的主要主题列表视图

```
Ext.define("ForumApp.view.ForumList", {
extend: "Ext.navigation.View",
requires:["Ext.dataview.List", "Ext.Toolbar", "Ext.field.Text", "Ext.field.TextArea"],
xtype: "forumlistview",

config: {
    items: [{
        xtype: "toolbar",
        title: "Forum",
        docked: "top",
        items: [
                {
                    xtype: "button",
                    ui: "back",
                    action:'backButton',
                    text: "Logout"
                },
            { xtype: 'spacer' },
            {
                xtype: "button",
                text: 'New',
                ui: 'action',
                itemId: "newButton"
            }
        ]
    }, {
        xtype: "list",
        title:"welcome",
        store: "ForumStore",
        itemId:"notesList",
        loadingText: "Loading Notes...",
        emptyText: "<div class=\"notes-list-empty-text\">No notes found.</div>",
        onItemDisclosure: true,
        grouped: true,
        itemTpl: "<div class=\"list-item-title\">{title}</div>"       
    }],
    listeners: [{
        delegate: "#newButton",
        event: "tap",
        fn: "onNewButtonTap"
    }, {
        delegate: "#notesList",
        event: "disclose",
        fn: "onNotesListDisclose"
    }]
},    
onNewButtonTap: function () {
    console.log("newTopicCommand");
    this.fireEvent("newTopicCommand", this);
},
onNotesListDisclose: function (list, record, target, index, evt, options) {
    console.log("topicViewCommand");
    this.fireEvent('topicViewCommand', this, record);
  }
}); 
```

//这是我的评论列表视图

```
 Ext.define("ForumApp.view.TopicComment", {
 extend: "Ext.Container",
 requires: "Ext.form.FieldSet",
 alias: "widget.topiccommentview",
 config: {
    scrollable: 'vertical',
    fullscreen: true,
    layout: "vbox",
    tpl: "  Topic started by '{username}' :{narrative}",

    items: [
        {
            xtype: "list",
            itemId: "commentlist",
            itemTpl: "{title} : {username} : {narrative}",
            store: "CommentStore",
            flex: 1,
        },
        {
                    docked: "bottom",
                    xtype: "button",
                    action:'comButton',
                    ui: "confirm",
                    text: "Comment",
        }
    ]
 }
 }); 
```

//这是我的控制器

```
 Ext.define("ForumApp.controller.ForumController", {

extend: "Ext.app.Controller",
config: {
    refs: {
        forumListView: "forumlistview",
        commentList: "#commentlist"
    },
    control: {
        forumListView: {
            topicViewCommand: "onTopicViewCommand"
        }
        }
},

onTopicViewCommand: function (list, record) {

    this.getCommentList().getStore().clearFilter();
    this.getCommentList().getStore().filter([{property:'id',value: record.data.id}]);

    this.getForumListView().push({
    xtype: 'topiccommentview',
    title: record.titleName(),
    data: record.data
    });
},

// Base Class functions.
launch: function () {
    this.callParent(arguments);
    var forumStore = Ext.getStore("ForumStore");
    forumStore.load();
    var commentStore = Ext.getStore("CommentStore");
    commentStore.load();
    var userStore = Ext.getStore("UserStore");
    userStore.load();
},
init: function () {
    this.callParent(arguments);
}
 }); 
```

//这是我的评论模型

```
 Ext.define("ForumApp.model.CommentModel", {
extend: "Ext.data.Model",
config: {
    idProperty: 'commentId',
    fields: [
        { name: 'commentId', type: 'int' },
        { name: 'id', type: 'int' },
        { name: 'dateCreated', type: 'date', dateFormat: 'c' },
        { name: 'title', type: 'string' },
        { name: 'username', type: 'string' },
        { name: 'narrative', type: 'string' }
    ],
    validations: [
        { type: 'presence', field: 'id' },
        { type: 'presence', field: 'commentId' },
        { type: 'presence', field: 'dateCreated' },
        { type: 'presence', field: 'title', message: 'Please enter a title for this note.' }
    ]
},
titleName: function(){
    var d=this.data,
    names=[
        d.title
        ];
        return names;
}
  }); 
```

//这是我的评论商店

```
 Ext.define("ForumApp.store.CommentStore", {
extend: "Ext.data.Store",
requires: "Ext.data.proxy.LocalStorage",
config: {
    model: "ForumApp.model.CommentModel",
    proxy: {
        type: 'localstorage',
        id: 'comment-store-2'
    },
    sorters: [{ property: 'dateCreated', direction: 'DESC'}],
    grouper: {
        sortProperty: "dateCreated",
        direction: "DESC",
        groupFn: function (record) {

            if (record && record.data.dateCreated) {
                return record.data.dateCreated.toDateString();
            } else {
                return '';
            }
        }
    }
   }
 }); 
```

# java - 如何在 j2me midlet 中删除 rms 后读取记录？

> ID：11590412
> 
> 赞同：2
> 
> 时间：2012-07-21T07:43:34.983
> 
> 标签：java, java-me, midp, netbeans-7, rms

我在我的 j2me 应用程序中使用 rms 概念。

第一条记录成功添加到 rms，然后读取记录也很好，但是当我要同时添加另一条记录时，它不会添加到我的列表中，它已成功添加到 rms 但当时没有刷新。

如果我退出应用程序一次然后运行记录读取良好的应用程序，所有记录都会显示。如何刷新列表并获取所有记录？

这是我添加记录的来源：

```
public void AddCustomer(String str) throws RecordStoreNotOpenException
{       
    byte[] rec=str.getBytes();
    try
    {
        rs19 = RecordStore.openRecordStore(ADDREMOVE_CUSTOMER, true);
        rs19.addRecord(rec, 0, rec.length);
        System.out.println("REcord added successfully");
        v.addElement(str);
    }
    catch (Exception e)
    {
    }
} 
```

这是读取记录的来源：

```
public ChoiceGroup getChoiceGroup10() {
    if (choiceGroup10 == null) {                                   
        choiceGroup10 = new ChoiceGroup("Select Customer", Choice.POPUP);                                     
        choiceGroup10.append("none", null);       
        try
        {
            rs19.openRecordStore(ADDREMOVE_CUSTOMER, true);
            String value="";
            String comma=",";
            Vector v1=new Vector();
            StringBuffer enumList=new StringBuffer();
            recEnum = rs19.enumerateRecords( null, null, false );
    while( recEnum.hasNextElement() )
            {
                byte[] data = recEnum.nextRecord();
                enumList.append(new String(data));
                enumList.append(",");
            }
            records=new String(enumList);
            int index=records.indexOf(comma);
            while(index>=0)
            {
                v1.addElement(records.substring(0,index));
                records = records.substring(index+comma.length());
                index = records.indexOf(comma);
            }
            v1.addElement( records );
            if( v1.size()>0 )
            {
                for(int i=0; i<v1.size(); i++)
                {
                    value= (String)v1.elementAt(i);
                    choiceGroup10.append(value, null);
                }
            }
        }
        catch(InvalidRecordIDException ie)
        {
            ie.printStackTrace();
        }
        catch(RecordStoreException re)
        {
            re.printStackTrace();
        }
        catch(NullPointerException ne)
        {
            System.out.println(ne);
        }
        finally
        {
            try {
                rs19.closeRecordStore();
            } catch (RecordStoreException ex) {
                ex.printStackTrace();
            }
        }

    }                          
    return choiceGroup10;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T12:25:02.590

尽管[gnat](https://stackoverflow.com/users/839601/gnat)是完全正确的，但没有人使用 keepUpdated 参数是有充分理由的（依赖于 MIPD 规范的一个非常糟糕的部分，失去对同步的控制......）。

如果您想控制应用程序的行为，keepUpdated 应该保持为 false，并且您的 AddCustomer() 方法应该关闭 RecordStore。

然后，您需要一种触发 GUI 更新的机制（通过重新执行整个 getChoiceGroup10() 方法并在屏幕上显示新结果），因为 AddCustomer() 已成功调用。为了正确地做到这一点，您需要深入了解您的 GUI 线程模型。你使用 LWUIT 吗？您是否为您的 GUI 创建了一个线程？GUI 是仅在必要时刷新还是有帧速率？

基于这种理解，您将要么使用侦听器接口，使用同步，设置标志以稍后更新屏幕的一部分......

通常，您不希望在屏幕上绘制的线程也从 RecordStore 读取，因此您实际上可能最终重写您的 getChoiceGroup10() 方法，以便将其内容拆分为 2 个线程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T08:48:31.987

```
 recEnum = rs19.enumerateRecords( null, null, false ); // --> keepUpdated is false 
```

您描述的方式，*成功添加到 rms 但当时没有刷新*似乎是由传递给的第三个参数定义的`enumerateRecords`。

要了解为什么会这样并了解如何使用方法参数，请参阅 API 文档（[在线提供](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/rms/RecordStore.html#enumerateRecords%28javax.microedition.rms.RecordFilter,%20javax.microedition.rms.RecordComparator,%20boolean%29 "API 文档")）-注意`keepUpdated`参数说明：

```
public RecordEnumeration enumerateRecords(RecordFilter filter,
                                          RecordComparator comparator,
                                          boolean keepUpdated)
                                   throws RecordStoreNotOpenException

    Returns an enumeration for traversing a set of records in the record store
      in an optionally specified order...

    Parameters:
        filter - if non-null, will be used to determine what subset
          of the record store records will be used
        comparator - if non-null, will be used to determine the order
          in which the records are returned
        keepUpdated - if true, the enumerator will keep its enumeration
          current with any changes in the records of the record store.
          Use with caution as there are possible performance consequences.
          If false the enumeration will not be kept current and may return
          recordIds for records that have been deleted or miss records
          that are added later. It may also return records out of order
          that have been modified after the enumeration was built.
          Note that any changes to records in the record store are
          accurately reflected when the record is later retrieved,
          either directly or through the enumeration. The thing that is
          risked by setting this parameter false is the filtering and
          sorting order of the enumeration when records are modified,
          added, or deleted.
          ... 
```

鉴于上述情况，请考虑使用另一个`keepUpdated`参数值测试您的 MIDlet：

```
 recEnum = rs19.enumerateRecords(null, null, true); // --> test with 'true' here 
```

# android - 在android中绘制不同点的图

> ID：11590413
> 
> 赞同：0
> 
> 时间：2012-07-21T07:43:47.630
> 
> 标签：android

我从数据库中得到了一些点（A，B），想要绘制这些点并将它们连接起来形成一个多边形类型的形状。基本上它将代表游泳池盖的形状。现在我编写了以下代码，但结果很奇怪.只有最后绘制的线存在，之前绘制的线消失了。我做错了什么吗？或者有更好的方法吗？

```
 private void calculationForPlot(){
     ArrayList<String> al_edit_A_ft = new ArrayList<String>();

     ArrayList<String> al_edit_A_inch=new ArrayList<String>();
     ArrayList<String>al_edit_B_ft=new ArrayList<String>(); 
     ArrayList<String>al_edit_B_inch= new ArrayList<String>();
    float x=0;
     AndroidOpenDbHelper androidOpenDbHelperObj = new AndroidOpenDbHelper(this);
        SQLiteDatabase sqliteDatabase = androidOpenDbHelperObj.getReadableDatabase();
        String q="SELECT * FROM ab_measurement WHERE job_id=" +"\""+Settings.jobid +"\"";

   Cursor  cursor = sqliteDatabase.rawQuery(q,null);

        if (cursor.moveToNext()) {
            System.out.println(cursor.getCount());
        int m=Integer.parseInt(cursor.getString(4));

            do {
                try{

                float a = 0,b = 0;

                 a=(float) Double.parseDouble(cursor.getString(6));
                 String number =String.valueOf(a);
                 System.out.println("aaa ggg"+number);
                 String int_part =number.substring(0,number.indexOf("."));
                 String float_part=number.substring(number.lastIndexOf(".")+1,number.length());
                 System.out.println("aaa values"+int_part);
                 System.out.println("aaa values"+float_part);

                  al_edit_A_ft.add(int_part);
                  al_edit_A_inch.add(float_part);

                     b= (float) Double.parseDouble(cursor.getString(7));
                     String number_b =String.valueOf(b);
                     System.out.println("aaa ggg"+number_b);
                     String int_part_b =number_b.substring(0,number_b.indexOf("."));
                     String float_part_b=number_b.substring(number_b.lastIndexOf(".")+1,number_b.length());
                     System.out.println("aaa values"+int_part_b);
                     System.out.println("aaa values"+float_part_b);
                     al_edit_B_ft.add(int_part_b);
                     al_edit_B_inch.add(float_part_b);

                     x= (float) Double.parseDouble(cursor.getString(3));
                     String ft_base =String.valueOf(x);
                     System.out.println("aaa ggg"+ft_base);
                     String int_part_ft =ft_base.substring(0,ft_base.indexOf("."));
                     String float_part_inch=ft_base.substring(ft_base.lastIndexOf(".")+1,ft_base.length());
                     System.out.println("aaa values"+int_part_ft);
                     System.out.println("aaa values"+float_part_inch);

                }
                catch (Exception e) {

                }

            } while (cursor.moveToNext());

    if(m>0){
        float pixelPerUnit=240/x;

        if(x>0){
            float X_prev=110;
            float Y_prev=250;
            float X = 0;
            float Y = 0;

            drawPlot(X_prev,Y_prev, X_prev+1, Y_prev+1);//origin
            for(int i=0;i</*obj.*/m;i++){
                String str_pointA=al_edit_A_ft.get(i).concat(".").concat(al_edit_A_inch.get(i));
                float pointA= (float) (Double.parseDouble(str_pointA)*pixelPerUnit);

                String str_pointB=al_edit_B_ft.get(i).concat(".").concat(al_edit_B_inch.get(i));
                float pointB=(float) (Double.parseDouble(str_pointB)*pixelPerUnit);

                float d = 240;
                if (pointB<1) {
                    X =  (110+(pointA/2));
                }
                else if (pointA<1){
                    Y = (110-(pointB/2));
                }else{
                     float a = (pointA * pointA - pointB * pointB + d * d ) / (2 * d);
                      float h = (float) Math.abs(Math.sqrt( pointA * pointA - a * a ));

                        if (h<0){
                            h=0;
                        }

                        X  = (110+(a/2)) ;
                        Y  =  (250-h);   
                      }

                System.out.println("X and Y"+"  "+X+"  "+Y);
                      drawPlot(X_prev+1, Y_prev_+1, X, Y);

                       X_prev=X;
                       Y_prev=Y;
                    }

            drawPlot(X_prev, Y_prev, 110, 250);//to complete the loop

            }

        }
    }
    }

        private void drawPlot(float startX,float startY,float endX,float endY) {
    System.out.println("Draw plot called");
     bitmap = Bitmap.createBitmap((int) getWindowManager()
                .getDefaultDisplay().getWidth(), (int) getWindowManager()
                .getDefaultDisplay().getHeight(), Bitmap.Config.ARGB_8888);
            Canvas canvas = new Canvas(bitmap);
            drawingImageView.setImageBitmap(bitmap);

            Paint paint = new Paint();
            paint.setColor(Color.BLUE);
            paint.setStrokeWidth(2);

            canvas.drawLine(startX, startY, endX, endY, paint);

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T07:48:39.920

You can draw lines from point a to b using Bresenham's Line Algorithm --It's quite a simple algorithm. Here it is in Lua

```
function line(x0,y0,x1,y1)
    local plots={}
    local steep=math.abs(y1-y0)>math.abs(x1-x0)
    if steep then
        x0,y0=y0,x0
        x1,y1=y1,x1
    end
    if x0>x1 then
        x0,x1=x1,x0
        y0,y1=y1,y0
    end
    local dx,dy=x1-x0,math.abs(y1-y0)
    local error=dx/2
    local y=y0
    local sy=(y0<y1 and 1 or -1)
    for x=x0,x1 do
        if steep then
            table.insert(plots,{y,x})
        else
            table.insert(plots,{x,y})
        end
        error=error-dy
        if error<0 then
            y=y+sy
            error=error+dx
        end
    end
    return plots
end 
```

# mysql - 记录插入 - 如果零插入零，否则应用公式

> ID：11590420
> 
> 赞同：0
> 
> 时间：2012-07-21T07:44:12.470
> 
> 标签：mysql

以下是我的查询，我试图在 users.i_dob 上应用公式，如果插入值不为零，否则查询应该插入零。请让我知道如何修改以下实际查询以实现我的功能谢谢，

**实际查询：**

```
 INSERT IGNORE into age ( i_age)
                SELECT DISTINCT FLOOR((TO_DAYS(NOW())- TO_DAYS(FROM_UNIXTIME(users.i_dob))) / 365.25)
            FROM users 
```

**我想对查询做什么：**

```
INSERT IGNORE into z_census ( i_age)
            SELECT IF (i_age == 0) i_age else FLOOR((TO_DAYS(NOW())- TO_DAYS(FROM_UNIXTIME(users.i_dob))) / 365.25)
            FROM users 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:47:12.483

请参阅[MySQL IF](http://dev.mysql.com/doc/refman/5.0/en/control-flow-functions.html#function_if)语法。它应该看起来像这样：

```
INSERT IGNORE into z_census (i_age)
SELECT IF(i_age=0, i_age,
    FLOOR((TO_DAYS(NOW())- TO_DAYS(FROM_UNIXTIME(users.i_dob))) / 365.25))
FROM users 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T07:47:45.163

[http://dev.mysql.com/doc/refman/5.0/en/control-flow-functions.html#function_if](http://dev.mysql.com/doc/refman/5.0/en/control-flow-functions.html#function_if)

```
INSERT IGNORE into z_census ( i_age)
            SELECT IF((i_age = 0), i_age, FLOOR((TO_DAYS(NOW())- TO_DAYS(FROM_UNIXTIME(users.i_dob))) / 365.25))
            FROM users 
```

# asp.net-ajax - updating a radgrid which is in a usercontrol

> ID：11590422
> 
> 赞同：0
> 
> 时间：2012-07-21T07:45:25.020
> 
> 标签：asp.net-ajax, telerik, radgrid, webusercontrol

I cant manage to update a radgrid which is in a usercontrol. My ajaxmanager is in the mainform.

my usercontol is TaniUC I manage to fire ajaxrequest event from usercontol. But i can not update radgrid. I use TaniEkle(ID) which is a public func in my usercontol,add a row to my radgrid. It is adding but not updating on screen.

> Form.aspx

```
<telerik:RadAjaxManager ID="RadAjaxManager1" OnAjaxRequest="RadAjaxManager1_AjaxRequest"
   runat="server">
   <AjaxSettings>               

       <telerik:AjaxSetting AjaxControlID="RadAjaxManager1">
           <UpdatedControls>
              <telerik:AjaxUpdatedControl ControlID="grdHastalar" LoadingPanelID="RadAjaxLoadingPanel1" />
           </UpdatedControls>
       </telerik:AjaxSetting>
      <telerik:AjaxSetting AjaxControlID="grdHastalar" EventName="OnRowClick" >
           <UpdatedControls>
               <telerik:AjaxUpdatedControl ControlID="TaniUC"  LoadingPanelID="RadAjaxLoadingPanel1" />
           </UpdatedControls>
       </AjaxSettings> 
```

> Form.aspx.cs

```
protected void RadAjaxManager1_AjaxRequest(object sender, AjaxRequestEventArgs e)
    {
        if(e.Argument=="taniekle")
        {
            int ID = DataReader.GetInt32(Request.Form["grdTanilarDClickedRowIndex"]);
            if (ID > 0)
             {
                 ucpTani.TaniEkle(ID);
             }
            return;
        } 
```

}

> TaniUc.ascx.cs (usercontrol)

```
 private List<HBS_TANI> seciliTanilarList
    {
        get
        {
            return (List<HBS_TANI>)ViewState["seciliTanilarList"];
        }
        set
        {
            ViewState["seciliTanilarList"] = value;
        }
    }
public void TaniEkle(int id)
    {
        var lst = seciliTanilarList.Where(k => k.ICD10_ID == id).ToList();
        if (lst.Count() > 0)
        {
            return;
        }
        else
        {
            HBS_TANI entity = new HBS_TANI();
            entity.TUR_ID = 1;
            entity.STATUS = true;
            bllTakipTani.Add(entity);

            seciliTanilarList.Add(entity);
            grdSeciliTanilar.DataSource = seciliTanilarList;
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:53:04.613

我找到了答案。我写的usercontrol的Id是错误的。将它添加到 updatecontrol 可以解决我的问题。

```
<telerik:AjaxUpdatedControl ControlID="ucpTani"  LoadingPanelID="RadAjaxLoadingPanel1" /> 
```

# ruby-on-rails - 无法加载此类文件 -- sass/cache_stores

> ID：11590423
> 
> 赞同：0
> 
> 时间：2012-07-21T07:45:31.163
> 
> 标签：ruby-on-rails, sass

我正在开发一个 Rails 3.2 应用程序，并开始收到与 cache_stores 相关的这些错误。

```
% rake --trace             
rake aborted!
cannot load such file -- sass/cache_stores
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/sass-3.1.10/lib/sass/engine.rb:4:in `require'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/sass-3.1.10/lib/sass/engine.rb:4:in `<top (required)>'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/sass-3.1.10/lib/sass.rb:71:in `require'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/sass-3.1.10/lib/sass.rb:71:in `<top (required)>'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/bundler-1.1.4/lib/bundler/runtime.rb:68:in `require'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/bundler-1.1.4/lib/bundler/runtime.rb:68:in `block (2 levels) in require'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/bundler-1.1.4/lib/bundler/runtime.rb:66:in `each'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/bundler-1.1.4/lib/bundler/runtime.rb:66:in `block in require'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/bundler-1.1.4/lib/bundler/runtime.rb:55:in `each'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/bundler-1.1.4/lib/bundler/runtime.rb:55:in `require'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/bundler-1.1.4/lib/bundler.rb:119:in `require'
/home/map7/project/config/application.rb:11:in `<top (required)>'
/home/map7/project/Rakefile:4:in `require'
/home/map7/project/Rakefile:4:in `<top (required)>'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/1.9.1/rake/rake_module.rb:25:in `load'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/1.9.1/rake/rake_module.rb:25:in `load_rakefile'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/1.9.1/rake/application.rb:501:in `raw_load_rakefile'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/1.9.1/rake/application.rb:82:in `block in load_rakefile'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/1.9.1/rake/application.rb:133:in `standard_exception_handling'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/1.9.1/rake/application.rb:81:in `load_rakefile'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/1.9.1/rake/application.rb:65:in `block in run'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/1.9.1/rake/application.rb:133:in `standard_exception_handling'
/home/map7/.rbenv/versions/1.9.3-p125/lib/ruby/1.9.1/rake/application.rb:63:in `run'
/home/map7/.rbenv/versions/1.9.3-p125/bin/rake:32:in `<main>' 
```

我试过运行捆绑更新。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-22T04:20:32.823

我最近不得不做一个完整的系统还原，也许权限受到了影响。为了解决这个问题，我做了以下

```
moved .rbenv/versions to backup
rbenv install 1.9.3-p125
gem install bundle
rbenv rehash
cd <project>
bundle 
```

现在我可以开始我的项目了。

# mysql - 根据一个表中的不同值和另一表中的不同值查找记录

> ID：11590424
> 
> 赞同：0
> 
> 时间：2012-07-21T07:45:35.467
> 
> 标签：mysql, sql, sql-server, sql-server-2008

我有以下标签（粗体是PK，斜体是FK）

发明人（**inventorid**，inventorfirst，inventorlast，*patentno*）

受让人（**assigneeID**、AssigneeName、AssigneeCity、AssigneeState*专利号*）

InventorID 和Assignee ID 只是用于索引目的的自动编号标识，否则毫无意义。

我试图找到的是某人的名字和姓氏相同但至少有 2 个不同的受让人的情况

到目前为止我所拥有的（我知道的很少）

```
SELECT a.assigneename, i.inventorfirst+' '+ i.inventorlast as Name
FROM inventors i, assignees a
WHERE i.patentno=a.patentno 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T08:08:14.870

在这里，我为不同的受让人使用了左外连接。
如果发明人没有任何受让人，则“isnull”函数将空白值。
请使用以下 sql 查询：

```
SELECT 
      isnull(a.assigneename,'') as assigneename
      , i.inventorfirst+' '+ i.inventorlast as Name
FROM 
     inventors i 
     left outer join  assignees a on 
          i.patentno=a.patentno 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:07:19.347

如果您只想要一份针对他们的发明有多个受让人姓名的发明人列表，请尝试以下操作：

```
;with inventor_cte(inventorfirst,cnt)
as
  (
  SELECT 
        i.inventorfirst
        , count(distinct a.assigneename) cnt
  FROM 
       inventors i 
       inner join  assignees a ON 
            i.patentno=a.patentno
  GROUP BY i.inventorfirst
  )
select inventorfirst from inventor_cte where cnt>1 
```

上述方法的替代方法是使用该`HAVING`子句：

```
 SELECT i.inventorfirst
  FROM 
       inventors i 
       inner join  assignees a ON 
            i.patentno=a.patentno
  GROUP BY i.inventorfirst
  HAVING count(distinct a.assigneename) > 1 
```

我更喜欢第一种语法 - 不确定哪种更有效。

# java - thread safe update of hashmap

> ID：11590430
> 
> 赞同：0
> 
> 时间：2012-07-21T07:46:21.037
> 
> 标签：java, thread-safety, hashmap

I have an `HashMap` as:

```
 Map<Integer ,ArrayList<Double>> map1 = new HasMap<Integer,ArrayList<Double>>() 
```

This map is accessed and modified by some number of threads. I would like to make thread safe update for the granularity level of each of the component of `ArrayList`. It means, one value can be modified by several threads but one component can not be modified by several threads. How can I do it? Does this prevents from "undefined property" while iterating? [iterating values](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Map.Entry.html#getValue%28%29)

[EDIT]

```
 key      value
 1000    [0.1,0.002,0.8,0.112] 
```

Each of the components of value is updated. While updating, first component can be updated by one thread and second by another thread at a time. I don't want to lock a pair for one thread only.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:52:09.720

I think what you want is to use a [Lock](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/Lock.html). When you call `lock()` It will allow you to "lock" the resource from being used by other threads, then call `unlock()` when the update is finished on that resource so that other threads can then modify it. You can create a lock for each resource.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T07:52:32.707

Instead of an ArrayList, use a [`CopyOnWriteArrayList`](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/CopyOnWriteArrayList.html) - it's designed especially for multi-threading and performs much better than variants which uses mutexes/synchronization (like `Vector`):

```
Map<Integer ,List<Double>> map1 = new HashMap<Integer, CopyOnWriteArrayList<Double>>(); 
```

(but beware if you do much more updates than reads to the List)

According do you comments, you don't need any synchronization of the outer `Map`, because it's not modified concurrently.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T07:52:37.090

I think you can try with `ConcurrentHashMap` for this

# android - Android ICS bitmap recycling

> ID：11590431
> 
> 赞同：1
> 
> 时间：2012-07-21T07:46:25.983
> 
> 标签：android, bitmap, out-of-memory, android-4.0-ice-cream-sandwich, recycle

I was using following code in `onDestroy` to recycle large bitmap in order to restore memory quickly. If I don't do it, application will crash with OutOfMemory error after few screen rotations. Android sucks at handling memory.

```
ImageView imgBG = (ImageView)findViewById(R.id.mainBG);
if (imgBG != null)
{
    ((BitmapDrawable)imgBG.getDrawable()).getBitmap().recycle();
    imgBG.setImageDrawable(null);
}
System.gc(); 
```

Unfortunetely, things changed in ICS. They started caching resources and recycling a bitmap actually recycles the bitmap in cache. Android isn't smart enough to figure it out and it's trying to use the recycled bitmap in the future, which results in this:

```
java.lang.RuntimeException: Canvas: trying to use a recycled bitmap android.graphics.Bitmap@40f44390
at android.graphics.Canvas.throwIfRecycled(Canvas.java:1047)
at android.graphics.Canvas.drawBitmap(Canvas.java:1151)
at android.graphics.drawable.BitmapDrawable.draw(BitmapDrawable.java:400)
at android.widget.ImageView.onDraw(ImageView.java:973)
at android.view.View.draw(View.java:11014)
at android.view.ViewGroup.drawChild(ViewGroup.java:3186)
at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2788)
at android.view.ViewGroup.drawChild(ViewGroup.java:3184)
[...] 
```

So here's the problem. If I recycle it, it will crash on ICS. If I don't, the app will run out of memory. What should I do? What's the right way to free the memory, which actually works?

* * *

## 回答 #1

> 赞同：-3
> 
> 时间：2012-07-21T07:50:15.973

Try this:

```
ImageView imgBG = (ImageView)findViewById(R.id.mainBG);
if (imgBG != null)
{
    BitmapDrawable drawable = ((BitmapDrawable)imgBG.getDrawable()).getBitmap();
    imgBG.setImageDrawable(null);
    drawable.recycle();
}
System.gc(); 
```

# javascript - 如何在 aspx 页面中的转发器 ItemDataBound 函数中传递 Control.ClientID？

> ID：11590433
> 
> 赞同：2
> 
> 时间：2012-07-21T07:46:48.233
> 
> 标签：javascript, asp.net, clientid

我想调用一个 JavaScript 函数来折叠/展开。

我在 asp:repeater `ItemTemplate`on span中使用此代码

```
onclick="javascript:funCollExp(this,'<%= P1.ClientID %>');" 
```

我如何通过`Control.ClientID`？

它将 P1.ClientID 替换为页面上的字符串。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T07:52:27.993

你只需要这样做

```
"onclick="javascript:funCollExp(this,'" + P1.ClinetID + "');" 
```

完整的代码让你使用这样的 itemdatabound 事件

**标记**

```
<asp:Repeater id="myRepeater" 
       OnItemDataBound="myRepeater_ItemDataBound" runat="server">
    <ItemTemplate>
        <asp:button id="myDiv" runat="server">......</asp:button>
    </ItemTemplate>
</asp:Repeater> 
```

**代码隐藏**

```
protected void myRepeater_ItemDataBound(object sender, RepeaterItemEventArgs e)
{
    if(e.Item.ItemType == ListItemType.Item 
           || e.Item.ItemType == ListItemType.AlternatingItem)
    {
      Button mybtn = e.Item.FindControl("mybtn") as bUTTON;

      mybtn.Attributes.Add("ONCLICK", "MYFUNCTION(this,'" + P1.ClientID + "');");
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T08:34:52.570

您需要做的就是，以这种方式使用它

```
"onclick="javascript:funCollExp(this,'" + P1.ClinetID + "');" 
```

# google-apps-script - 删除 Google Apps 脚本文档服务中的内容

> ID：11590434
> 
> 赞同：7
> 
> 时间：2012-07-21T07:47:03.583
> 
> 标签：google-apps-script

如何在 Google Apps 脚本文档服务中刷新文档？我是否需要遍历所有类型的元素，例如段落、图像、表格并将它们作为孩子删除？有没有更简单的方法来删除文档正文中的所有内容？

谢谢！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-21T10:38:16.257

根据[文档](https://developers.google.com/apps-script/class_document#setText)，`Document.setText`应该可以清除文档内容。我假设以下命令应该这样做。

```
doc.setText(''); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-01-23T05:39:03.140

在谷歌应用程序脚本的当前[文档](https://developers.google.com/apps-script/reference/document/document)中，由于 doc.setText 方法不可用，这可以通过 doc.getBody().clear() 来实现

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-24T20:36:46.957

直观地反击（但是，如文档所述） setText("") 清除的不仅仅是**text**，它还删除了图像。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-05-16T20:17:00.447

我可以提一下 body.clear() 方法不会删除书签，因为它们与文档相关联。

这对我有用：

```
scratchBody = scratchDoc.getBody();
scratchBody.clear();
bookmarks   = scratchDoc.getBookmarks();
while ( bookmarks.length ) { bookmarks.shift(); } 
```

我还没有尝试过，但与书签一样，文档中可能还有 HeaderSection、FooterSection 和 FootnoteSections。

# windows-phone-7 - Cannot change PhoneBackgroundColor in windows phone 7

> ID：11590435
> 
> 赞同：0
> 
> 时间：2012-07-21T07:47:07.277
> 
> 标签：windows-phone-7

My app is prefer to uses light theme of Windows Phone 7 although the the phone theme is dark. I have use the code below but it doesn't work.

```
 var background = (Color)Resources["PhoneBackgroundColor"];
        background.R = 240;
        background.G = 240;
        background.B = 240;
        var brushBackground = Resources["PhoneBackgroundBrush"] as SolidColorBrush;
        brushBackground.Color = background; 
```

Please help me.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-22T18:59:02.553

使用 Jeff Wilcox 的主题管理器。 [http://www.jeff.wilcox.name/2012/01/phonethememanager/](http://www.jeff.wilcox.name/2012/01/phonethememanager/)

很容易使用，添加一个文件和一行代码：

```
ThemeManager.ToLightTheme(); 
```

而且您有一个始终使用 Light Theme 的应用程序。

# php - 刷新页面时出现问题

> ID：11590449
> 
> 赞同：0
> 
> 时间：2012-07-21T07:49:41.177
> 
> 标签：php, codeigniter, session

我正在从我的数据库中检索一列并将该值存储在我的控制器中的一个数组中。我将该数组传递给视图页面，并将该值显示给用户。到目前为止，所有事情都运行良好。但问题是，当我刷新页面时，它不显示控制器从模型中获得的值，而只显示空白页面..\我还尝试将值存储在会话中并使用该值，但这似乎并不为我工作.. :( 这是我的控制器代码 :-

```
function full_post_view(){
            $data= array(
                'ticket_id' => $this->input->post('ticket_id')
            ); 
            $this->session->set_userdata($data); 
            $ticket_id = ($this->input->post('ticket_id')) ? $this->input->post('ticket_id') : $this->session->userdata('ticket_id');
//                $post_content = $this->session->userdata('post_content');
            echo $ticket_id;
            $this->load->model('helpdesk_model');
            $all_comments = $this->helpdesk_model->fetchComments($ticket_id);
            $is_post_closed = $this->helpdesk_model->fetchPostStatus($ticket_id);
            if($all_comments->num_rows > 0)  {
                foreach ($all_comments->result() as $comments_value) {
                    $comments = $comments_value->comments;
                }
                $count=1;
                Template::set('all_comments',$all_comments);
                Template::set_view('helpdesk/full_post_view');
            }
            else {
                $count=0;
                Template::set('post_content',$this->input->post('post_content'));
            }                 
            Template::set('is_post_close',$is_post_closed);
            Template::set('ticket_id',$ticket_id);
            Template::set('is_post_closed',$is_post_closed);
            Template::set('post_content',$post_content);
            Template::set('count',$count);                
            Template::set('is_post_closed',$is_post_closed);                
            Template::render();
    } 
```

这是我的观点：-

```
<?php $post=Template::get('post_content'); ?>
<?php  $ticket_id=Template::get('ticket_id'); ?>
<?php  $is_close = Template::get('is_close'); ?>
<h4>Your Problem :- </h4>
<?php echo $post; ?>
<hr/>
<?php foreach ($is_post_closed->result() as  $value) {
    $is_close = $value->is_close;
} ?>
<?php if(Template::get('count') > 0) : ?>
    <?php foreach($all_comments->result_array() as $commentsRow) : ?>
        <?php echo word_wrap($commentsRow['comments'],15); ?>
    <?php echo " by->"; ?>
    <?php echo $commentsRow['username']; ?>
    <?php echo $commentsRow['role_name']; ?>
    <hr/>
<?php endforeach; ?>
<?php else : ?>
    <br/>
    No Comments Yet
<?php endif; ?>
<?php if($is_close == 0 ) : ?>
    <?php echo form_open('helpdesk/newComment'); ?>
    <?php echo form_hidden('ticket_id',$ticket_id); ?>
    <?php  echo form_hidden('post_content', $post); ?>
    <?php echo form_textarea('comment_from_user'); ?>
    <?php echo form_submit('submit', 'Comment '); ?>
    <?php echo form_close(); ?>
<?php endif; ?>
<?php if($is_close==0) : ?>
<?php echo form_open('helpdesk/closePost'); ?>
<?php echo form_hidden('ticket_id', $ticket_id); ?>
<?php  echo form_hidden('post_content', $post); ?>  
<?php echo form_submit('submit','close post'); ?>
<?php echo form_close(); ?>
<?php else : ?>
<?php echo form_open('helpdesk/reopenPost'); ?>
<?php echo form_hidden('ticket_id', $ticket_id); ?>
<?php echo form_submit('submit','Reopen post'); ?>
<?php echo form_close(); ?>
<?php endif; ?> 
```

**编辑：** 我想问当用户刷新页面时如何将数据库内容再次加载到视图中。

编辑了我的控制器并查看代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T09:41:27.853

刷新页面时，是否重新发送表单？我问这个是因为从您的控制器代码中，它看起来像是`$ticket_id`从 _POST 获取的，并且您使用将此变量传递给模型。如果您不重新发送表单，`$ticket_id`则`null`不会从 DB 中获取任何内容。

编辑：

在您的控制器中替换：

```
$ticket_id = $this->input->post('ticket_id'); 
```

和：

```
$ticket_id = ($this->input->post('ticket_id')) ? $this->input->post('ticket_id') : $this->session->userdata('ticket_id'); 
```

并确保每个请求`ticket_id`至少存在两种​​可能性（POST 和 SESSION）中的一种

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-25T07:42:53.960

解决了 :) 问题是当我刷新页面时，ticket_id 设置为 0 并且该值作为 post 传递。所以会话值是新的ticket_id，即0，所以它什么也没显示。我这样做了：-

```
if(isset($_POST['ticket_id'])) {
$data= array(
'ticket_id' => $this->input->post('ticket_id'),
                'post_content' => $this->input->post('post_content')
             ); 
             $this->session->set_userdata($data); 
}
        $ticket_id =$this->session->userdata('ticket_id');
        $post_content =$this->session->userdata('post_content'); 
```

即，我第一次在集合中发布时将ticket_id 存储在会话中。下次刷新页面时，未设置ticket_id 帖子并从会话中获取数据。

# c++ - 在 Visual Studio 中对包含的标题进行排序

> ID：11590454
> 
> 赞同：2
> 
> 时间：2012-07-21T07:50:26.530
> 
> 标签：c++, visual-studio

是否有允许我选择`#include`指令块并根据文件名按字典顺序对它们进行排序的函数、扩展或加载项？（注意我正在使用 Visual Studio 2012 RC）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-18T08:41:30.123

经过几分钟的搜索，我找到了这个免费的插件：[http](http://www.menees.com/) ://www.menees.com/ 。

我有很多功能，其中之一是可用于对包含的标题进行排序的文本排序。

Visual Studio 2012 版本：http: [//visualstudiogallery.msdn.microsoft.com/42de112b-3ecf-4a9e-94f0-2b5efb053aa6](http://visualstudiogallery.msdn.microsoft.com/42de112b-3ecf-4a9e-94f0-2b5efb053aa6)

其他版本（VC++6.0/20032005/2008/2010）见官网（免费下载）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-06-28T06:31:33.580

[上面提到的 Menees VS Tools 2019](https://marketplace.visualstudio.com/items?itemName=BillMenees.MeneesVSTools2019&ssr=false#review-details)这是一个很好的扩展，但有点臃肿（多种功能的混合）。我发现它的每个“单个组件”都是一个扩展。

至于头文件排序，我会推荐这个[IncludeToolbox](https://marketplace.visualstudio.com/items?itemName=Wumpf.IncludeToolbox)

# string - 字符串比较不起作用

> ID：11590456
> 
> 赞同：0
> 
> 时间：2012-07-21T07:51:04.030
> 
> 标签：string, assembly, x86

我有一个小问题。

这是我的代码：

```
cmpstr:
pusha
xor cx, cx

mov ax, ds
push ax
mov ax, si
push ax
call strlen
mov dx, ax
mov ax, es
mov ds, ax
mov si, bx
call strlen
cmp al, dl
jnz .fail
pop ax
mov si, ax
pop ax
mov ds, ax

.loop:
    push bx
    mov al, byte [es:bx]
    mov bl, byte [ds:si]

    cmp al, bl
    jne .fail
    cmp bl, 0
    jz .suc

    pop bx
    add bx, 1
    inc si
    inc cx
    jmp .loop
.fail:
    mov al, 'C';
    mov ah, 0Eh
    int 10h
    popa
    mov ax, 0
    jmp .end
.suc:
    mov al, 'D';
    mov ah, 0Eh
    int 10h
    popa
    mov ax, 1
.end:
ret 
```

此过程应比较两个字符串并返回 ( `mov`to `ax`) 1，如果字符串（第一个`es:bx`，第二个`ds:si`）相同，则返回 0，如果它们不同。我的问题是执行过程调用之前的命令，正在打印字母“D”（比较成功）但过程调用之后的命令不起作用。我认为这个问题一定是在这个过程中的某个地方。有人知道这里有什么问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:53:44.450

当您使用条件跳转之一离开循环时

```
.loop:
    push bx
    mov al, byte [es:bx]
    mov bl, byte [ds:si]

    cmp al, bl
    jne .fail
    cmp bl, 0
    jz .suc 
```

你推了 BX，但你从来没有弹出它。那会让下一个RET去陌生的地方。

# windows - Installing new modem with MSDN article (194941) in XP and Windows 7

> ID：11590458
> 
> 赞同：1
> 
> 时间：2012-07-21T07:51:14.903
> 
> 标签：windows, embedded, usb, driver, modem

I'm trying to install a new modem programatically and I took [this windows documentation](http://support.microsoft.com/kb/194941) as reference. In the documentation it was mentioned as the procedure is for WindowsNT. Can I use the same procedure for windows xp and windows 7? does the unattended.txt works in xp and windows 7?

This procedure is also reffered in this [SO link](https://stackoverflow.com/questions/7688048/how-to-install-standard-modem-in-windows-xp)

If the above is not possible in windows xp and windows 7 can you please suggest me a way to Install a new modem programatically?

# java - How to send SMS using modem or gateway from java Web application?

> ID：11590468
> 
> 赞同：1
> 
> 时间：2012-07-21T07:52:36.667
> 
> 标签：java, jakarta-ee

I am new in java web application and I want to send SMS from my Java web application to mobile. How can i do this using mobile/modem or any other way? any easy java API?

i really appreciate ur help.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T07:55:42.343

这是一个 api：

[http://code.google.com/p/serial-comm/](http://code.google.com/p/serial-comm/)

我喜欢这个 api 而不是其他的原因是您不必担心本**机库**和路径，因为此 api**会自动将**所需的本机库安装到您的系统..

还有其他 api/s，例如： [http ://code.google.com/p/smslib/](http://code.google.com/p/smslib/)

我最近开发了一个使用**串行通信**的应用程序，它从移动/调制解调器读取 SMS。

另一种方法是购买**短信网关服务**，比如我使用[mvaayoo](http://www.mvaayoo.com/)，在这种情况下，您不必开发应用程序，只需使用网关供应商提供的 api，这只是一个发送短信的**http 链接**

# ruby-on-rails - 连接表的 Rails 命名约定

> ID：11590469
> 
> 赞同：59
> 
> 时间：2012-07-21T07:52:58.317
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, rails-migrations

这个问题源于：[创建rails连接表后如何链接表单](https://stackoverflow.com/questions/11313872/how-to-link-form-after-creating-rails-join-table)

我正在我的产品和类别模型之间创建连接表。

连接表应该命名为什么？categories_products 或 category_products 还是别的什么？

* * *

## 回答 #1

> 赞同：76
> 
> 时间：2012-07-21T08:16:12.180

`categories_products`. 都是复数。按词汇顺序。

[报价](http://guides.rubyonrails.org/association_basics.html#creating-join-tables-for-has-and-belongs-to-many-associations)：

> 除非使用 :join_table 选项明确指定连接表的名称，否则 Active Record 会使用类名的词法顺序创建名称。因此，客户模型和订单模型之间的连接将给出默认的连接表名称“customers_orders”，因为“c”在词法排序中优于“o”。

* * *

## 回答 #2

> 赞同：54
> 
> 时间：2014-04-15T12:52:10.973

### 导轨 4

请注意，**Rails 4**中有一些新规则。

> 指定与另一个类的多对多关系。这通过中间连接表关联两个类。除非连接表被明确指定为一个选项，否则它是使用类名的词法顺序来猜测的。因此，Developer 和 Project 之间的连接将给出默认连接表名称“developers_projects”，因为“D”按字母顺序位于“P”之前。
> 
> 请注意，此优先级是使用字符串的 < 运算符计算的。这意味着如果字符串的长度不同，并且在与最短长度相比时字符串相等，则认为较长的字符串比较短的字符串具有更高的词汇优先级。例如，由于名称“paper_boxes”的长度，我们希望表“paper_boxes”和“papers”生成连接表名称“papers_paper_boxes”，但实际上它生成的连接表名称“paper_boxes_papers”。请注意此警告，并在需要时使用自定义 :join_table 选项。
> 
> 如果您的表共享一个公共前缀，则它只会在开头出现一次。例如，表“catalog_categories”和“catalog_products”生成连接表名称“catalog_categories_products”。

=> [Rails v4.2.7 文档](http://api.rubyonrails.org/v4.2.7/classes/ActiveRecord/Associations/ClassMethods.html#method-i-has_and_belongs_to_many)

```
# alphabetically order
developers + projects                 -->  developers_projects 

# precedence is calculated with '<', lengthier strings have precedence 
# if the string are equal compared to the shortest length
paper_boxes + papers                  -->  paper_boxes_papers  

# common prefix omitted
catalog_categories + catalog_products -->  catalog_categories_products 
```

* * *

### 导轨 5

规则还是差不多的。在**Rails 5**中，我们有一个新的助手来创建带有迁移的连接表：

```
class CreateDevelopersProjectsJoinTable < ActiveRecord::Migration[5.0]
  def change
    create_join_table :developers, :projects
  end
end 
```

=> [Rails 的边缘文档](http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html#method-i-has_and_belongs_to_many)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-06-04T06:03:21.717

Rails 中的连接表只能按字母顺序创建。每次创建连接表时请牢记这一点。

例如，如果要在项目表和协作者表之间创建连接表，则必须将其命名如下。

**句法：** `first_table_name(UNDERSCORE)second_table_name`

```
# Names must be in alphabetical order and also in plural
# Decide which is your first table name based on the alphabetical order 
```

**示例：**在项目和协作者之间创建连接表

```
Collaborator-Project

collaborators_projects   
# you should name it  like this; In alphabetical order with plural names 
```

**示例 2：** 在 BlogPost 表和用户表之间创建连接表

```
BlogPost-User

blog_posts_users      # In alphabetical order with plural names 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-01-11T17:11:55.167

新的 create_join_table 迁移创建了一个没有对应模型的连接表，因此模型名称不需要命名约定。

To access the join, you must declare has_and_belongs_to_many on the two tables, and access them through the association created.

# c++ - 如何使用可变参数模板制作通用 Lua 函数包装器？

> ID：11590471
> 
> 赞同：7
> 
> 时间：2012-07-21T07:53:08.197
> 
> 标签：c++, c++11, lua, variadic-templates, member-functions

对于我当前的项目，我一直在为 Lua 包装器编写大量 C/C++。其中很多都是简单的 setter 和 getter，所以我设法编写了一些模板来轻松生成它们，如下所示：

```
//        Class       Return      Field
template <typename T, typename U, U T::*Member>
int luaU_get(lua_State* L)
{
    T* obj = luaW_check<T>(L, 1);
    luaU_push<U>(L, obj->*Member);
    return 1;
}

static luaL_reg Foo_Table[] =
{
    ...
    // Now I can just use this generic template to avoid
    // writing simple getter functions
    { "getbar", luaU_get<Foo, Bar, &Foo::bar> }, 
    ...
}; 
```

我也想为任意函数的简单函数包装器做类似的事情。例如，如果能够做到这一点，那就太好了：

```
template <typename T, typename U, U (T::*Func)(), typename... Args>
int luaU_func(lua_State* L)
{
     // ...?
}

static luaL_reg Foo_Table[] =
{
    ...
    { "baz", luaU_func<Foo, int, &Foo::baz, int, float> }, 
    ...
}; 
```

这个想法是，模板在编译时有效地变成了这样：

```
int luaU_func(lua_State* L)
{
     luaU_push<int>(L, luaW_check<Foo>(L, 1)->baz(luaU_check<int>(L, 2), luaU_check<float>(L, 3)));
     return 1;
} 
```

我试过只使用`...`扩展器，对我来说问题是整数索引值映射到正确的参数。我想不出让他们正常工作的方法。这样的事情甚至可能吗？

（这里已经有了一点魔法；我为 lua_push 和 lua_check 等东西写了一些模板化的包装器。所有这些现有的包装器都可以在[这里](https://bitbucket.org/alexames/luawrapper/src)找到）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-17T13:07:29.580

诀窍是通过部分特化包含包装函数的类模板来利用模板参数推导：

```
// Lua API dummies ...

struct lua_State {};

template<class T> void luaU_push(lua_State*,T);
template<class T> T* luaW_check(lua_State*,int);
template<class T> T luaU_check(lua_State*,int);

// metaprogramming for creating indices ...

template<int...Ints>
struct int_pack {};

template<int Begin, int Count, int...Tail>
struct make_int_range_type {
    typedef typename make_int_range_type<Begin,Count-1,Begin+Count-1,Tail...>::type type;
};

template<int Begin, int...Tail>
struct make_int_range_type<Begin,0,Tail...> {
    typedef int_pack<Tail...> type;
};

template<int Begin, int Count>
inline typename make_int_range_type<Begin,Count>::type
make_int_range()
{ return typename make_int_range_type<Begin,Count>::type(); }

// the actual wrapper ...

template<class MemFunPtrType, MemFunPtrType PMF>
struct lua_mem_func_wrapper;

template<class Clazz, class ReturnType, class...Args, ReturnType(Clazz::*PMF)(Args...)>
struct lua_mem_func_wrapper<ReturnType(Clazz::*)(Args...),PMF> {
    static int doit(lua_State* L) {
        return doit_impl(L,make_int_range<2,sizeof...(Args)>());
    }
private:
    template<int...Indices>
    static int doit_impl(lua_State* L, int_pack<Indices...>) {
        luaU_push<ReturnType>(L,
            (luaW_check<Clazz>(L, 1)->*PMF)(
                luaU_check<Args>(L, Indices)...
            )
        );
        return 1;
    }
};

#define GET_MEM_FUN_WRAPPER(...) &lua_mem_func_wrapper<decltype(__VA_ARGS__),__VA_ARGS__>::doit

// testing ...

struct foo {
    int baz(int, float);
};

void test() {
    auto* ptr = GET_MEM_FUN_WRAPPER(&foo::baz);
} 
```

此代码使用选项 -c --std=c++0x 在 G++ 4.6.1 下编译。要看看它是否真的做你想要的，请测试它......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T11:18:03.167

[从这个答案](https://stackoverflow.com/a/8028333/168225)重用索引生成代码并忽略函数调用`Func`（不知道这到底是如何使用的），这就是它的样子：

```
template <typename T, typename U, U (T::*Func)(), 
          typename... Args, size_t... Idx>
int luaU_func_impl(lua_State* L, Collection<Idx...>)
{
   luaU_push<int>(L, luaW_check<U>(L, 1), luaU_check<Args>(L, Idx+2)...);
   return 1;
}

template <typename T, typename U, U (T::*Func)(), typename... Args>
int luaU_func(lua_State* L)
{
   typename GenerateCollection<Args...>::type Indices;
   return luaU_func_impl<T, U, Func, Args...>(L, Indices);
} 
```

# objective-c - 无法合成 NSWindow

> ID：11590473
> 
> 赞同：-1
> 
> 时间：2012-07-21T07:53:17.677
> 
> 标签：objective-c, xcode, macos, nswindow

我正在尝试合成我的 NSWindow“登录屏幕”，但我不断收到错误“属性实现必须在接口“appdelegate”中声明

这是标题的一部分

```
@interface AppDelegate : NSObject <NSApplicationDelegate>
{
@private
NSWindow *window;
NSWindow *loginscreen; 
```

这是我的方法：

```
@synthesize loginscreen = _loginscreen; 
```

有什么建议么？谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T08:03:55.437

如果您使用 ARC，则需要将以下行添加到 AppDelegate.h 文件中：

```
@property (nonatomic, strong) NSWindow *loginWindow; 
```

如果您不使用 ARC，则应改为使用：

```
@property (nonatomic, assign) NSWindow *loginWindow; 
```

此行将在 {} 块之后`@interface`但在`@end`.

# android - Linux 上的 bat 等效项

> ID：11590474
> 
> 赞同：-4
> 
> 时间：2012-07-21T07:53:22.503
> 
> 标签：android, batch-file, compilation, apk

我有一个 .bat 文件，我用它在我的 Windows 中创建 .apk 文件...现在我需要能够在 ubuntu 中创建 .apk 文件，但我不知道如何将我的 bat 文件转换为批处理文件能够在ubuntu上运行它！！！

下面是在 Windows 上运行良好的 bat 文件...请你给我一些关于如何在 ubuntu 上运行它的提示吗？

```
@echo off
set PAUSE_ERRORS=0
:user_configuration

:: Path to Flex SDK 
set FLEX_SDK=C:\sdk\flex_sdk_4.5.1.21328

:: Path to Android SDK
set ANDROID_SDK=C:\sdk\android

:validation
if not exist "%FLEX_SDK%\bin" goto flexsdk
if not exist "%ANDROID_SDK%\platform-tools" goto androidsdk
goto succeed

:validation
if not exist "%FLEX_SDK%\bin" goto flexsdk
if not exist "%ANDROID_SDK%\platform-tools" goto androidsdk
goto succeed

:flexsdk
echo.
echo ERROR: incorrect path to Flex SDK
echo.
if %PAUSE_ERRORS%==1 pause
exit

:androidsdk
echo.
echo ERROR: incorrect path to Android SDK in 'bat\SetupSDK.bat'
echo.

if %PAUSE_ERRORS%==1 pause
exit

:succeed
set PATH=%PATH%;%FLEX_SDK%\bin
set PATH=%PATH%;%ANDROID_SDK%\platform-tools

:: Android packaging
set AND_CERT_NAME="PeymanApp"
set AND_CERT_PASS=fd
set AND_CERT_FILE=cert\SampleApp.p12
set AND_ICONS=icons/android

set AND_SIGNING_OPTIONS=-storetype pkcs12 -keystore "%AND_CERT_FILE%" -storepass     %AND_CERT_PASS%

:: Application descriptor
set APP_XML=application.xml

:: Files to package
set APP_DIR=bin
set FILE_OR_DIR=-C %APP_DIR% .

:: Your application ID (must match <id> of Application descriptor)
set APP_ID=air.com.doitflash.SampleApp

:: Output packages
set DIST_PATH=dist
set DIST_NAME=PeymanApp

:validation
%SystemRoot%\System32\find /C "<id>%APP_ID%</id>" "%APP_XML%" > NUL
if errorlevel 1 goto badid
goto end_validation

:badid
echo.
echo ERROR: Application ID (APP_ID) does NOT match Application descriptor '%APP_XML%'     (id)

echo.

:end_validation

set TARGET=
set PLATFORM=android

::call bat\Packager.bat
if "%PLATFORM%"=="android" goto android-config

:android-config
set CERT_FILE=%AND_CERT_FILE%
set SIGNING_OPTIONS=%AND_SIGNING_OPTIONS%
set ICONS=%AND_ICONS%
set DIST_EXT=apk
set TYPE=apk
goto start

:start
if not exist "%CERT_FILE%" goto certificate
:: Output file
set FILE_OR_DIR=%FILE_OR_DIR% -C "%ICONS%" .
if not exist "%DIST_PATH%" md "%DIST_PATH%"
set OUTPUT=%DIST_PATH%\%DIST_NAME%%TARGET%.%DIST_EXT%
:: Package

echo true
echo.
call adt -package -target %TYPE%%TARGET% %OPTIONS% %SIGNING_OPTIONS% "%OUTPUT%"     "%APP_XML%" %FILE_OR_DIR% -extdir lib/
echo.
if errorlevel 1 goto failed
goto end

:certificate
echo Certificate not found: %CERT_FILE%
echo.

if %PAUSE_ERRORS%==1 pause
exit

:failed
echo APK setup creation FAILED.

if %PAUSE_ERRORS%==1 pause
exit

:end 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T07:59:25.493

我会写一个bash脚本。请参阅[本指南](http://tldp.org/LDP/abs/html/)

# iphone - 我的排行榜出了什么问题

> ID：11590478
> 
> 赞同：0
> 
> 时间：2012-07-21T07:54:15.997
> 
> 标签：iphone, objective-c, ios, xcode4, cocos2d-iphone

我的游戏不会出​​现在游戏中心，我整天都在想办法解决这个问题，这让我发疯了。我想将带有对象键“分数”的字符串保存到排行榜上。我一定遗漏了一些非常明显的东西，但我不知道。很抱歉打扰你们，但这只是让我生气，哈哈。捆绑包 id 是 moocowcurtis，我确实把它放在了 info.plist

游戏中心管理器.h

```
 #import <Foundation/Foundation.h>
  @class GKLeaderboard, GKAchievement, GKPlayer;

  @protocol GameCenterManagerDelegate <NSObject>
  @optional
  - (void) processGameCenterAuth: (NSError*) error;
  - (void) scoreReported: (NSError*) error;
  - (void) reloadScoresComplete: (GKLeaderboard*) leaderBoard error: (NSError*) error;
  - (void) achievementSubmitted: (GKAchievement*) ach error:(NSError*) error;
  - (void) achievementResetResult: (NSError*) error;
  - (void) mappedPlayerIDToPlayer: (GKPlayer*) player error: (NSError*) error;
  @end

 @interface GameCenterManager : NSObject
 {
NSMutableDictionary* earnedAchievementCache;    
id <GameCenterManagerDelegate, NSObject> delegate;
 }

  //This property must be attomic to ensure that the cache is always in a viable state...
 @property (retain) NSMutableDictionary* earnedAchievementCache;

 @property (nonatomic, assign)  id <GameCenterManagerDelegate> delegate;

   + (BOOL) isGameCenterAvailable;

- (void) authenticateLocalUser;

- (void) reportScore: (int64_t) score forCategory: (NSString*) category;
- (void) reloadHighScoresForCategory: (NSString*) category;

- (void) submitAchievement: (NSString*) identifier percentComplete: (double) percentComplete;
- (void) resetAchievements;

- (void) mapPlayerIDtoPlayer: (NSString*) playerID;
@end 
```

排行榜.m 文件

```
 #import "leaderboard.h"
       #import "GameCenterManager.h"

 @implementation leaderboard

-(id) init
{
   [[GameCenterManager sharedGameCenterObject] reportScore:score forCategory: kLeaderboardID]; 
   int highScore = [[[NSUserDefaults standardUserDefaults] objectForKey:@"score"] intValue];
   return self;
}

  -(void)displayLeaderboard
  {
    GKLeaderboardViewController *leaderboardViewController = [[GKLeaderboardViewController       alloc] init];
leaderboardViewController.leaderboardDelegate = self;

AppController *app = (AppController*) [[UIApplication sharedApplication] delegate];

[app.navController presentModalViewController:leaderboardViewController animated:YES];
 }

#pragma mark GameKit delegate

  -(void) achievementViewControllerDidFinish:(GKAchievementViewController *)viewController
{
AppController *app = (AppController*) [[UIApplication sharedApplication] delegate];
[app.navController dismissModalViewControllerAnimated:YES];
}

 -(void) leaderboardViewControllerDidFinish:(GKLeaderboardViewController *)viewController
{
AppController *app = (AppController*) [[UIApplication sharedApplication] delegate];
[app.navController dismissModalViewControllerAnimated:YES];
 }

// on "dealloc" you need to release all your retained objects
- (void) dealloc
 {  [super dealloc];
}
@end 
```

排行榜.h

```
 #import "GameCenterManager.h"

   @interface leaderboard: CCLayer<GKLeaderboardViewControllerDelegate>
@end 
```

游戏中心管理器.h

```
#import <Foundation/Foundation.h>

   @class GKLeaderboard, GKAchievement, GKPlayer;

 @protocol GameCenterManagerDelegate <NSObject>
 @optional
  - (void) processGameCenterAuth: (NSError*) error;
 - (void) scoreReported: (NSError*) error;
  - (void) reloadScoresComplete: (GKLeaderboard*) leaderBoard error: (NSError*) error;
  - (void) achievementSubmitted: (GKAchievement*) ach error:(NSError*) error;
  - (void) achievementResetResult: (NSError*) error;
 - (void) mappedPlayerIDToPlayer: (GKPlayer*) player error: (NSError*) error;
  @end

  @interface GameCenterManager : NSObject
   {
NSMutableDictionary* earnedAchievementCache;
id <GameCenterManagerDelegate, NSObject> delegate;
   }

  //This property must be attomic to ensure that the cache is always in a viable state...
  @property (retain) NSMutableDictionary* earnedAchievementCache;

  @property (nonatomic, assign)  id <GameCenterManagerDelegate> delegate;

 + (BOOL) isGameCenterAvailable;

- (void) authenticateLocalUser;

- (void) reportScore: (score)  forCategory: (NSString*) category;
- (void) reloadHighScoresForCategory: (NSString*) category;

- (void) submitAchievement: (NSString*) identifier percentComplete: (double) percentComplete;
- (void) resetAchievements;

- (void) mapPlayerIDtoPlayer: (NSString*) playerID;
@end 
```

AppSpecificValues.h

```
 #define kEasyLeaderboardID @"com.appledts.EasyTapList"
   #define kHardLeaderboardID @"com.appledts.HardTapList"
   #define kAwesomeLeaderboardID @"moocowcurtis" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T08:43:47.350

您说“我想将带有对象键“分数”的字符串保存到排行榜上。”

但在这一行， score 必须是 int64_t 而不是 string ：

```
[[GameCenterManager sharedGameCenterObject] reportScore:score forCategory: kLeaderboardID]; 
```

# asp.net - 如何实现观察者模式以使用 asp.net 中的用户控件

> ID：11590481
> 
> 赞同：1
> 
> 时间：2012-07-21T07:54:32.763
> 
> 标签：asp.net, design-patterns

我有 2 个名为 UCCreateProfile.ascx（用于创建/编辑配置文件数据）和 UCProfileList.ascx（用于在 GridView 中显示配置文件数据）的用户控件。现在，每当创建新配置文件时，我都想更新我的 UCProfileList 控件以显示新条目。

针对上述问题的最佳解决方案是观察者模式。在我的例子中 UCCreatedProfile 是一个 Subject/Observable 并且 UCProfileList 是一个 Observer 并且根据观察者初始化时的模式定义，它知道谁是我的 Subject/Observable 并将自己添加到 Subject/Observable 列表中。因此，只要 Subject/Observable 发生更改，就会通知它。

这种模式最符合我的要求，但我在实现这个描述时遇到了一些问题，如下所示。

我在 CMS (Umbraco) 下工作，我没有任何物理容器页面 (.aspx)。我要做的是使用以下代码在 UCProfileList (Observer) onLoad 事件中找到 UCCreateProfile (Subject/Observable)。

```
private Control FindCreateProfileControl()
{
     Control control = null;
     Control frm = GetFormInstance();
     control = GetControlRecursive(frm.Controls);

      return control;
} 
```

GetFormInstance() 方法在哪里

```
private Control GetFormInstance()
    {
        Control ctrl = this.Parent;
        while (true)
        {
            ctrl = ctrl.Parent;
            if (ctrl is HtmlForm)
            {
                break;
            }
        }
        return ctrl;
    } 
```

和 GetControlRecursive() 方法是

```
 private Control GetControlRecursive(ControlCollection ctrls)
    {
        Control result = null;
        foreach (Control item in ctrls)
        {
            if (result != null) break;
            if (item is UCCreateProfile)
            {
                result = item;
                return result;
            }
            if (item.Controls != null)
                result = GetControlRecursive(item.Controls);
        }
        return result;
    } 
```

这样我可以在 UCProfileList (Observer) 中找到 UCCreateProfile (Subject/Observable) 用户控件，但是找出 (Subject/Observable) 的方法不是那么快。如您所见，我需要遍历所有控件并首先找到 HtmlForm 控件，然后遍历 HtmlForm 控件下的所有子控件并找到我们正在寻找的适当控件。

其次，如果非常重要，将用户控件放置在容器中，我的代码只有在 UCProfileList.ascx（观察者）之前放置 UCCreatedProfile.ascx（主题/观察者）时才有效，因为这样 UCCreateProfile 将首先加载并在 UCProfileList 中查找。但是如果有人改变了这两个控件的位置，我的代码将无法工作。

因此，为了摆脱这些问题，我需要一些更快且独立于控件位置的解决方案。

我已经找到了一些解决方案，如下所述。请让我知道这是否是这样做的好方法。如果有替代方案，请告诉我。

我有一个会话级变量（带有 的字典`Dictionary<ISubject, List<Observer>>`）。无论首先初始化/加载哪个用户控件，用户控件都会将自己添加到此字典中。
如果先添加了 Subject/Observable，则会在这个字典中找到对应的观察者。
如果 Observer 首先添加，它将添加到具有空条目的字典中。添加主题后，就建立了关联。

问候，

/里兹万

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T14:21:31.567

观察者模式最好通过事件和委托在 .NET 中实现。如果你使用事件和委托，`Dictionary`你提到的就变得完全没有必要了。例如，请参见下面的代码（仅显示重要部分）：

```
public partial class UserProfile : System.Web.UI.UserControl
{
    //This is the event handler for when a user is updated on the UserProfile Control
    public event EventHandler<UserUpdatedEventArgs> UserUpdated;

    protected void btnUpdate_Click(object sender, EventArgs e)
    {
        //Do whatever you need above and then see who's subscribed to this event
        var userUpdated = UserUpdated;
        if (userUpdated != null)
        {
            //Initialize UserUpdatedEventArgs as you want. You can, for example,
            //pass a "User" object if you have one
            userUpdated(this,new UserUpdatedEventArgs({....}));
        }
    }
}

public class UserUpdatedEventArgs : EventArgs
{
    public User UserUpdated {get;set;}
    public UserUpdatedEventArgs (User u)
    {
        UserUpdated=u;
    }
} 
```

现在从 上的控件订阅`UserUpdated`事件就像这样简单：`UserProfile``UserListControl`

```
public partial class UserList : System.Web.UI.UserControl
{
    protected void Page_Load(object sender, EventArgs e)
    {
        //Find the UserProfile control in the page. It seems that you already have a 
        //recursive function that finds it. I wouldn't do that but that's for another topic...
        UserProfile up = this.Parent.FindControl("UserProfile1") as UserProfile;
        if(up!=null)
           //Register for the event
           up.UserUpdated += new EventHandler<UserUpdatedEventArgs>(up_UserUpdated);
    }

    //This will be called automatically every time a user is updated on the UserProfile control
    protected void up_UserUpdated(object sender, UserUpdatedEventArgs e)
    {
        User u = e.UserUpdated;
        //Do something with u...
    }
} 
```

# android - GCM 注册 ID 会过期吗？

> ID：11590482
> 
> 赞同：43
> 
> 时间：2012-07-21T07:54:36.490
> 
> 标签：android, android-notifications, google-cloud-messaging

我知道 C2DM 注册过期，您应该定期刷新注册 ID。GCM是这种情况吗？通过查看Android GCM指南（如下所示）上的以下代码，您似乎只执行一次并且不需要刷新，但我没有看到任何地方明确写，所以我只是想检查一下。

```
final String regId = GCMRegistrar.getRegistrationId(this);
if (regId.equals("")) {
  GCMRegistrar.register(this, SENDER_ID);
} else {
  Log.v(TAG, "Already registered");
} 
```

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-07-21T08:06:35.587

**编辑：这个答案已经过时了，我不知道当前的行为是什么**

* * *

我自己找到了答案。您不需要一直明确地重新注册，[只需根据 docs 中的示例进行一次](http://developer.android.com/google/gcm/client.html#sample-register)。

此外，*与以前版本的 GCM 和 C2DM 不同*，Google 本身现在**不会**刷新注册本身：一旦您从初始注册中获得了注册 ID，您就可以开始了，**除了**一种情况：您仍然需要重新注册用户升级到新版本（这种情况也在上面链接的示例中处理）：

> 当应用程序更新时，它应该使其现有的注册 ID 无效，因为不能保证它可以与新版本一起使用。因为更新应用程序时没有调用生命周期方法，所以实现此验证的最佳方法是在存储注册 ID 时存储当前应用程序版本。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-07-21T08:04:34.587

我认为它最终会刷新，是的。来自官方文档：

> 现有注册 ID 可能在多种情况下不再有效，包括： 如果应用程序通过发出 com.google.android.c2dm.intent.UNREGISTER 意图手动取消注册。如果应用程序被自动取消注册，如果用户卸载应用程序，这可能会发生（但不能保证）。如果注册ID过期。Google 可能会决定刷新注册 ID。对于所有这些情况，您应该从第 3 方服务器中删除此注册 ID 并停止使用它来发送消息。当错误代码未注册时发生。

这可能发生在从您的第 3 方服务器向 GCM 发出的请求中，该请求返回带有错误**Unregistered Device**的 json 响应。

一旦发生这种情况，将由您来刷新相应的 id。

[http://developer.android.com/guide/google/gcm/gcm.html](http://developer.android.com/guide/google/gcm/gcm.html)

# asp.net - 从 ASP .Net 下载文件时，文本文件会附加 HTML 内容

> ID：11590483
> 
> 赞同：5
> 
> 时间：2012-07-21T07:54:38.750
> 
> 标签：asp.net, vb.net, text-files, uploading, download

我制作了一个页面，允许用户使用 FileUpload 控件将文件上传到服务器并使用此代码处理其事件

```
Sub SaveAttachment()
    Dim root As String = "C:\temp\"
    Dim filename As String = FileUpload1.FileName
    Dim SaveName As String = root & filename
    FileUpload1.SaveAs(SaveName)
End Sub 
```

效果很好，我能够看到文件被上传，并且文件的内容是完整的（正是用户上传的文件的副本）。

现在为了将文件下载回用户（稍后），我编写了另一个页面，该页面从 Request.Parameter（“文件”）读取文件名并获取该文件以下载给用户。我已经编写了 Download.aspx 页面来处理 ASP 部分中的下载（没有使用后面的代码）：

```
<%@ Import Namespace="System.IO"%>
<script language="VB" runat="server">
Sub Page_Load(sender As Object, e As EventArgs)

        Dim root As String = "C:\temp\"
        Dim filepath As String = Request.Params("file")
        If Not filepath Is Nothing Then
            filepath = root & filepath
            If File.Exists(filepath) And filepath.StartsWith(root) Then
                Dim filename As String = Path.GetFileName(filepath)
                Response.Clear()
                Response.ContentType = "application/octet-stream"
                Response.AddHeader("Content-Disposition", _
                  "attachment; filename=""" & filename & """")
                Response.Flush()
                Response.WriteFile(filepath)
            End If
        End If

End Sub
</script>
<form id="form1" runat="server">
<asp:Label ID="Label1" runat="server" Text="Label"></asp:Label>
</form> 
```

我尝试上传图像文件，然后再次下载它们，它工作正常。但是，只有当我上传文本文件时，我才会获得附加了一些 HTML 内容的该文件的内容。

这是我上传的示例文件 ![上传前的原始文件](../Images/54c49e6b4cabeb5e5a58ace9439a7ed0.png)

```
Here is my sample text file

It consists of 3 lines only 
```

这是我下载回来时的文件 ![从服务器下载时相同的文件](../Images/1423edb01aec42a6092527fc9119c357.png)

```
Here is my sample text file

It consists of 3 lines only
<form name="form1" method="post" action="FileDownload.aspx?file=sample_file.txt" id="form1">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTE5NTU5ODQyNTBkZNCYbOVZJDRUAOnIppQYkwHUSlb0" />
</div>

<span id="Label1">Label</span>
</form> 
```

我去了服务器上的文件并打开它以确保附加的 HTML 内容在那里，但正如我所说，文件已完美上传。只有当它被下载时，它才会包含附加的 HTML 内容。

我做错了什么？我能做些什么来让这个额外的 HTML 代码消失？为什么这个问题只影响文本文件，而不影响图像、EXE、XLS、DOC 等？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T07:57:58.067

确保通过调用`Response.End()`after来结束您的响应，`Response.WriteFile(filepath)`否则您的表单将被附加到流中并发送到客户端。

它也会影响其他文件，尽管很可能仅在文件末尾被视为垃圾并被其各自的应用程序忽略。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-12-02T12:31:07.000

使用起来不安全`Response.End()`，它总是会返回一个`System.Threading.ThreadAbortException`:.. 如果在 catch 块中调试并看到...

替代方案..改用以下...

```
Response.Flush();
Response.SuppressContent = true;
Response.WriteFile(filepath);
HttpContext.Current.ApplicationInstance.CompleteRequest(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-06-14T17:16:51.830

Response.redirect 抛出异常。Shoaib 的回答让我更接近，但它抑制了包括有效文件内容在内的所有内容。对我有用的是重新排序语句如下：

```
 Response.ContentType = ContentType
 Response.AppendHeader("Content-Disposition", "attachment; filename=" & originalFileName)
 Response.WriteFile(filePath)
 Response.Flush()
 Response.SuppressContent = True
 HttpContext.Current.ApplicationInstance.CompleteRequest() 
```

# javascript - 动态改变 URL 结构——后退/前进

> ID：11590487
> 
> 赞同：2
> 
> 时间：2012-07-21T07:55:51.580
> 
> 标签：javascript, jquery, url-rewriting

所以我正在尝试编写一个动态加载内容的脚本，这样页面就不必刷新（主要内容将被替换，但侧边栏、页眉、页脚等将保持不变地方）。我已经触发了我的事件，并且我正在使用`pushState()`它来更新我的 URL。但是，我不知道应该如何使用`window.history.back()`and `window.history.forward()`。我是否必须重新定义这两个功能才能让它成功旅行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T08:15:12.070

虽然`pushState()`是历史记录，但您需要传递 URL，以便页面在不刷新的情况下加载。但是`windows.history.back()`会自动带您从浏览器缓存中访问的最后一页。这里您不传递任何 URL。同样适用于 `windows.history.forward()`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T08:09:38.443

我发现做（我认为）你所追求的最简单的方法是将你的动态加载性连接到你的 window.location.hash，所以：

```
window.location.hash='page_1'; 
```

然后，您可以将事件处理程序绑定到[哈希更改](http://benalman.com/projects/jquery-hashchange-plugin/)，然后将 AJAX 转到第 1 页。

更改哈希会导致一个新的历史页面，因此您根本不必对 window.history 做任何事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T08:12:10.157

您正在使用`PushState`更新 URL，因此您的历史记录已经在支持该功能的所有浏览器中为您处理。但是老的浏览器不支持`PushState`，你可能要测试一下

```
if (history.pushState) { //is supported } 
```

我建议您在此处使用[History.js](https://github.com/balupton/history.js)脚本。它将恢复使用旧的 onhashchange 功能，用于 HTML4 浏览器和用于 HTML5 的 pushState。您将不必`history.forward`手动处理。

另外，您还需要配置您的 .htaccess，以便您网站的书签和页面链接正常工作。

[详细指南](http://www.josscrowcroft.com/2012/code/htaccess-for-html5-history-pushstate-url-routing/)

# c# - pdf 锐利的字体样式粗体，斜体和下划线一起

> ID：11590496
> 
> 赞同：9
> 
> 时间：2012-07-21T07:56:42.747
> 
> 标签：c#, .net, pdf-generation, pdfsharp, migradoc

有没有办法设置字体样式 ItalicUnderline 或 BoldItalicUnderline？ ![在此处输入图像描述](../Images/d9bbfa980b26843c5c8133304d1b5cb6.png)

谢谢

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-07-21T08:08:49.793

XFontStyle 是一种`enum`类型。您可以使用按位逻辑来组合值。

```
const XFontStyle ItalicUnderline = XFontStyle.Italic | XFontStyle.Underline ;

const XFontStyle BoldItalicUnderline = XFontStyle.Bold | XFontStyle.Italic | XFontStyle.Underline ; 
```

# javascript - 我的 chrome 扩展程序不会向控制台显示错误，但会显示日志

> ID：11590497
> 
> 赞同：4
> 
> 时间：2012-07-21T07:57:13.967
> 
> 标签：javascript, google-chrome-extension

我遇到了一个让我完全发疯的问题。

我的 chrome 扩展程序不会向开发者工具控制台报告任何错误。但是：它仍然会写日志，工作通常很好，并且页面上的非扩展脚本仍然报告它们的错误。

我已经看到一些单词可以在 popup.html 的 DevTools 窗口中显示扩展程序的错误，但我的扩展程序根本不使用该 popup.html（并且不能按设计，它是为解析其他页面而设计的）。

最糟糕的是，连扩展名的语法错误（！）都没有显示出来。如果你能给我这个问题的解决方案，我将永远感激不尽，因为在没有语法错误通知的情况下调试扩展是一个巨大的痛苦：（

**升级版：**

看起来，问题是只有在*一个*页面上我看不到错误：在我的脚本运行的其他页面上，我可以看到 console.errors()。

Rob W，对不起，但这并不能回答我的问题。我*可以*使用console.log()，但我*看*不到console.error() 的输出，无论是来自脚本中的实际错误还是我自己调用的console.error()。我的脚本不使用后台脚本，只使用某些页面的某些脚本，如下面的 manifest.json 中：

```
{
    "manifest_version": 2,
    "permissions": ["tabs", "http://*/*", "https://*/*", "file:///*/*"],
    ...
    "content_scripts": [{ 
            // I can see my errors here...
        "matches": ["http://www.site.ru/*type=cheats*"],
        "js": ["cheats.js"]
    },{
            // and here...
        "matches": ["http://www.site.ru/bitrix/admin/iblock_element_edit.php*type=games*"],
        "js": ["idb.js","data.js","framework.js","script.js","wikipic.js"],
        "css":["styles.css"],
            "all_frames": true  
    },{
        "matches": ["http://www.site.ru/bitrix/admin/iblock_element_search.php*"],
        "js": ["search.js"]
    },{
            // >>>> But not here! <<<<
        "matches": ["http://www.site.ru/cheats/*"],
        "js": ["keys.js", "adhocparse.js", "resumeer.js", "ground.js"],
        "css": ["resumeer.css"]
    }]
} 
```

**UPD 2：**我试过这个代码：

```
console.log(console, console.log, console.error);
console.error("Error one");
throw new Error("Error two"); 
```

我有这个输出：

```
Console function log() { [native code] } function error() { [native code] }
Error one 
```

所以：console.error 有效，但所有抛出的错误（例如语法错误）都会以某种方式全局捕获。这很奇怪，因为：

1.  我的扩展中没有任何问题；
2.  Page itself still generates a lot of errors (but they occur before calling my extension code), and a lot of GET errors (unable to get a file, even after calling my extension code, but they seem to be uncatchable, I guess)

So what can catch errors globally?

It appears that this is not a Chrome extension issue, added tag javascript.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-11-18T13:00:03.577

On the site I wanted to write the extension for there was this code which caused such behavior:

```
window.onerror
function stopError(){return true;} 
```

# javascript - 如何从javascript中的选项菜单中进行选择

> ID：11590501
> 
> 赞同：2
> 
> 时间：2012-07-21T07:57:41.357
> 
> 标签：javascript, select-menu

当我做某事时，我需要能够将选择菜单中的某些选项更改为默认（开始）值。

例如，当我声明它时，英语是默认值。

如何使用代码而不是单击来更改它。

```
<form id="form1" name="form1" method="post" action="">
<select name="websites1" id="websites1" style="width:120px" tabindex="1">
    <option value="english" selected="selected"  title="images/us.gif">English</option>
    <option value="espanol" title="images/es.gif">Espanol</option>
    <option value="italian" title="images/it.gif">Italiano</option>
</select>
</form> 
```

在我声明的正文标签中：

```
<script type="text/javascript">
$(document).ready(function() {
$("body select").msDropDown();
});
</script> 
```

我正在使用这个[脚本](http://www.marghoobsuleman.com/jquery-image-dropdown)

我已经尝试了所有下面的例子，但没有一个对我有好处。

我还能做些什么来更改默认选择值。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-08-03T09:35:27.447

如文档中所述，这对我有用：

```
$('#websites1').msDropDown().data('dd').set('selectedIndex',2); 
```

这将选择*意大利语*；）

/编辑：

请记住，@Patrick M 有更高级的方法，他在我发布我的方法之前发布了他的方法；）

如果您像我一样遇到奇怪的 css 问题，请尝试以下未记录的内容：

```
$('#websites1_msa_2').click(); // this will also select the italian 
```

如您所见，id 是由 $('# **websites1** _msa_2') 选择框的 id 加上选项项的 $('#websites1_msa_2 ' **)**索引生成的。

有点hacky但有效;）

所以你可以像这样定义一个 JavaScript-Function：

```
var jQueryImageDD_selectByName = function(name) {
  var children = $('#websites2_child').children();
  for(var i=0;i<children.length;i++) {
    var label = children[i].getElementsByTagName('span')[0].innerHTML;
    if(label === name) {
      children[i].click()
    }
  }
}; 
```

然后像这样使用它：

```
jQueryImageDD_selectByName('Italiano'); // will select Italiano :) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-02T21:58:59.897

他确实说

> 您可以通过对象设置几乎所有属性

所以，只是从他在该页面上提供的文档示例中猜测......我会考虑适应这个：

```
var oHandler = $('#comboboxid').msDropDown().data("dd");
oHandler.size([true|false]);
//Set or get  the size property 
```

到`.value`物业可能工作。因此，您可以将语言设置为意大利语，请尝试

```
var oHandler = $('#comboboxid').msDropDown().data("dd");
oHandler.value('italian');

// Or maybe the way to do it is this:
oHandler.set('value', 'italian');
// Or maybe 'value' shouldn't be in single quotes
//set property 
```

如果这不起作用，您可以尝试遍历所有属性，获取并比较每个索引处的值，并在找到它时将所选索引设置为该属性名称。

```
var languageSelect = $('websites1');
var oHandler = $('#websites1').msDropDown().data("dd");
for(var index = 0; index < languageSelect.length; index++) {
    var option = oHandler.item([index]);
    if(option == 'italian') {
        oHandler.set("selectedIndex", index);
        break;
    }
} 
```

其中之一应该工作。如果没有，你几乎只需要等待作者的回复。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T08:02:59.003

您可以使用`selectedIndex`来更改所选选项的索引（0 是第一个）

```
document.getElementById("websites1").selectedIndex = 1; //espanol 
```

，或者您可以使用`value`来更改值的文本（如果匹配，它将自动更改）。

```
document.getElementById("websites1").value = 'espanol'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T08:00:32.810

使用`selectedIndex`. 请参阅[此页面](http://www.javascriptkit.com/jsref/select.shtml)。选择控件有一个`options`属性，它基本上是一个选项元素数组。您选择的第一个元素是 options[0], 英语，所以：

```
document.getElementById("websites1").selectedIndex = 0; //=> english 
```

您还可以使用以下命令默认选择第一个选项：

```
document.getElementById("websites1").options[0]
       .defaultSelected = true; //=> english by default 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-06-18T10:19:31.470

工作选项（1\. 销毁 msdropdown，2\. 按值选择，3\. 设置 msdropdown）

将此代码放在js中的某处：

```
jQuery.fn.extend({
    setValue: function(value) {
    var dd = $(this).msDropdown().data("dd");
    dd.destroy();
    $(this).val(value);
    $(this).msDropdown();
  }
}); 
```

设定值：

```
$('#selectorOfmsDropDown').setValue('opt10'); 
```

要不就：

```
$("#selector").msDropdown().data("dd").setIndexByValue(newvalue); 
```

# ruby-on-rails - 在活动记录关系上定义方法

> ID：11590505
> 
> 赞同：9
> 
> 时间：2012-07-21T07:59:10.483
> 
> 标签：ruby-on-rails

我想在 activerecord 关系上定义一个自定义方法，例如：

```
Transaction.all.summed_values 
```

一个简单的例子是`summed_values`应该在哪里评估`sum(:value)`关系。

我应该在哪里定义方法`summed_values`？看起来应该是开启的`ActiveRecord::Relation`。如果它应该直接在那里，我应该把它放在哪个文件中？

另外，如果这个新方法只对`Transaction`s有意义，有没有办法告诉rails只为由`ActiveRecord::Relation`s组成的`Transaction`s定义这个方法？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-21T08:12:54.607

`self.summed_values`直接在事务模型中创建方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-08-04T10:53:52.200

你应该使用扩展

```
Transaction.all.extending do
  def summed_values
    sum(:what_you_want)
  end
end 
```

更多信息：[ActiveRecord::QueryMethods](http://api.rubyonrails.org/classes/ActiveRecord/QueryMethods.html#method-i-extending)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T08:18:31.130

是否有任何特定原因要创建此方法作为 ActiveRecord::Relation 的扩展？我会提出一个像这样的类方法：

```
class Transaction ...
  def self.summed_values(transactions=nil)
    if transactions.nil?
      all.sum(...)...
    else
      where(id => transactions).sum(...)...
    end
  end
end 
```

这还具有仅可用于交易的优点。

# javac - 两个项目，一个编译，另一个报错：包 javax.servlet.http 不存在

> ID：11590508
> 
> 赞同：0
> 
> 时间：2012-07-21T08:00:12.340
> 
> 标签：javac

我知道这是一个常见的问题，但是我的情况有点不同。我有两个项目，第一个不使用 bean，第二个使用。

**因此，当使用： ant deploy-web**部署第一个项目时，它可以工作，编译没有问题当使用： **ant deploy-ear**部署第二个项目时，我得到：错误：包 javax.servlet.http 不存在

有任何想法吗？

# android - 调用 setAdapter() 后 GridView 加载缓慢

> ID：11590510
> 
> 赞同：1
> 
> 时间：2012-07-21T08:00:35.523
> 
> 标签：android, gridview

我已经`GridView`在我的 3 页上放置了`ViewPager`。这个想法是建立一个日历的月视图，可以根据用户的需要无限滚动。

我的工作主要基于[Jon Willis](https://stackoverflow.com/users/127422/jon-willis)的无限视图分页的[实现](http://code.google.com/p/electricsleep/source/browse/trunk/src/com/androsz/electricsleepbeta/app/HistoryMonthActivity.java)。但不是实现我自己的`View`对象；我正在使用`GridView`s。

这是我对该`onPageScrollStateChanged`方法的实现：

```
@Override
public void onPageScrollStateChanged(int state) {

    if (state == ViewPager.SCROLL_STATE_IDLE) {     

        FragmentPagerAdapter adapter = (FragmentPagerAdapter) mMonthPager
                    .getAdapter();

            // Called to obtain reference for the Fragments inside the ViewPager.
        CalendarGridMonthlyFragment oldMinMonthFragment = (CalendarGridMonthlyFragment) adapter
                    .instantiateItem(mMonthPager, 0);
        CalendarGridMonthlyFragment oldMidMonthFragment = (CalendarGridMonthlyFragment) adapter
                    .instantiateItem(mMonthPager, 1);
        CalendarGridMonthlyFragment oldMaxMonthFragment = (CalendarGridMonthlyFragment) adapter
                    .instantiateItem(mMonthPager, 2);

            // Get the selected month for each Fragment.
        final Calendar oldMinMonth = oldMinMonthFragment.getSelectedMonth();
        final Calendar oldMidMonth = oldMidMonthFragment.getSelectedMonth();
        final Calendar oldMaxMonth = oldMaxMonthFragment.getSelectedMonth();

        if (mFocusedPage == 0) {

            final Calendar newMonth = (Calendar) oldMinMonth.clone();
            newMonth.add(Calendar.MONTH, -1);

            oldMinMonthFragment.setSelectedMonth(newMonth);
            oldMidMonthFragment.setSelectedMonth(oldMinMonth);
            oldMaxMonthFragment.setSelectedMonth(oldMidMonth);

        } else if (mFocusedPage == 2) {

            final Calendar newMonth = (Calendar) oldMaxMonth.clone();
            newMonth.add(Calendar.MONTH, 1);

            oldMinMonthFragment.setSelectedMonth(oldMidMonth);
            oldMidMonthFragment.setSelectedMonth(oldMaxMonth);
            oldMaxMonthFragment.setSelectedMonth(newMonth);
            }  

        mMonthPager.setCurrentItem(1, false);
    }
} 
```

这是我的`setSelectedMonth`方法：

```
public void setSelectedMonth(Calendar value) {

    mMonth = value.get(Calendar.MONTH);
    mYear = value.get(Calendar.YEAR);

    CalendarGridMonthlyAdapter newAdapter = new CalendarGridMonthlyAdapter(
            mContext, GRID_CHIP, mGridWidth, mGridHeight,
            mMonth, mYear);

    mGridView.setAdapter(newAdapter);
} 
```

无限滑动有效。但是在滚动完成后有一个明显的闪烁——几乎是半秒。

调试告诉我，`setAdapter`方法是所有这些大惊小怪的罪魁祸首。那么有什么方法可以加快设置新适配器的过程吗？

..或者也许是另一种方式？

提前致谢！

# javascript - 我使用什么 javascript 解析器在 JavaScript 中为节点重新实现 jsCoverage？

> ID：11590511
> 
> 赞同：2
> 
> 时间：2012-07-21T08:00:54.647
> 
> 标签：javascript, node.js, code-coverage

我真的很喜欢我在 node.js 中的代码的代码覆盖率报告。我已经创建了一个 node.js 模块，它可以注入名为[requiremock的检测代码（并模拟我们的 require 语句）](https://github.com/Muscula/requiremock)

我在我的其他模块[nodecoverage](https://github.com/Muscula/nodecoverage)中使用它以及 jsCoverage（windows）的二进制版本来生成代码覆盖率报告，用 requiremock 注入代码的检测版本。

使用 jsCoverage 的问题是

1.  它需要为平台编译，因为它是用 C(++) 编写的，我想用 JavaScript 实现它，这样它就可以在任何平台上使用而无需编译。
2.  它将经过检测的代码版本作为文件写入磁盘。使用 requiremock，我可以在内存中生成检测的 JavaScript 文件，并在需要原始文件时运行这些文件。
3.  jsCoverage 在使用函数提升时没有正确报告代码覆盖率，我在 node.js 中经常使用它

所以我的问题是：

**我应该选择用 JavaScript 编写的什么 JavaScript 解析器将 jsCoverage 重新实现为 node.js 模块？**

我必须能够知道原始文件中代码的行号，并且还要知道什么是空白。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T14:30:54.993

试试[esprima](http://esprima.org/)。这很棒。[节点覆盖](https://github.com/itay/node-cover)也可能已经有你需要的东西

# jquery - 如何在 CakePHP 中使用 qTip2？

> ID：11590513
> 
> 赞同：0
> 
> 时间：2012-07-21T08:01:55.337
> 
> 标签：jquery, cakephp, cakephp-2.1, qtip2

我似乎无法让 qTip2 与 Cake 一起使用。

我正在使用以下代码，虽然它确实消除了会出现的现有标题，但它不会用 qTip 替换它。我当然已经加载了脚本和 jquery。有什么想法吗？

```
<?php echo $this->Js->domReady ( "$('[title]').qtip();" ); ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T07:17:25.093

你想在`<title></title>`标签上使用它吗？这个选择器似乎不对。这是一个 CSS 属性选择器`[title]`，但不能用于将 JS 事件和函数附加到它。所有工具提示插件都使用`title`生成的工具提示的属性，但您不能像这样附加它。

你将需要这样的东西：

```
$('title.tooltip').qtip(); 
```

如果您将其分配给`<title class="tooltip"></title>`. [在 CSS 选择器上](http://www.w3.org/TR/CSS2/selector.html)查看这一点。

# jquery-ui - Jquery 可拖放与表

> ID：11590516
> 
> 赞同：3
> 
> 时间：2012-07-21T08:02:28.787
> 
> 标签：jquery-ui, draggable, droppable

嘿，我正在使用带有表的 Jquery Draggable droppable 我已经初始化了两者及其工作，但问题是可放置区域是表，当我尝试将它显示的项目放在表下方时，放置项目在 div 中，我想要该行放置它的 ID，但我得到的是整个表

以下是代码

表格的 JavaScript 代码

```
$(function() {
    $( "#draggable" ).draggable({ axis: "y" });

    $( "#droppable" ).droppable({ 
        drop: function(event, ui) { 
            console.log($(this).find('tr.pen'))
            $(this).append($(ui.draggable));
        }
    });
}); 
```

表格代码非常大，如果您能帮上忙，请告诉我，我很乐意将代码发送给您

我愿意接受任何建议

谢谢你 。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T08:49:15.750

如果要将可拖动对象拖放到单个行上，则不要在整个表上实例化可拖放对象，而是在`<tr>`表的 s 上实例化。检查此代码是否适合您：

```
$(function() {
    $( "#draggable" ).draggable({ axis: "y" });

    $( "#droppable tr" ).droppable({ 
        drop: function(event, ui) { 
            $(this).append($(ui.draggable));
        }
    });
}); 
```

# java - 在 Java 中：涉及在实例化时定义的常量的表达式是否在编译时得到简化？

> ID：11590517
> 
> 赞同：1
> 
> 时间：2012-07-21T08:02:32.043
> 
> 标签：java, optimization, compiler-construction, constants, compile-time

正如我在标题中总结的那样，我想知道在编译时是否会简化涉及实例化时定义的常量的表达式？

例如，我有一个堆类，其中有一个最终布尔 isMinHeap，其值在堆的构造函数中设置。然后堆的方法在某些地方使用这个布尔值。编译器可以对此进行优化以简化所有这些涉及此布尔值的表达式，还是每次调用方法时都会完整计算表达式？

谢谢！

编辑：因为有人问我一个更具体的例子，所以每次从堆中删除一个节点时都会调用一个方法（以帮助重新堆化树）：

```
private boolean requiresRepositioningDown(BTNode<T> node)
{
    boolean childIsSmaller = (node.getLeft().getValue().compareTo(
            node.getValue()) < 0)
            || (node.getRight() != null && node.getRight().getValue().compareTo(
                    node.getValue()) < 0);
    if (isMinHeap && childIsSmaller || !isMinHeap && !childIsSmaller)
        return true;
    else
        return false;
} 
```

此处带有 isMinHeap 的表达式似乎每次都会被完整评估，而如果在实例化时将堆设为最大堆，则表达式的整个右侧可以（并且应该）被忽略。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T08:08:47.607

它很可能不会。首先，*类*在编译时仍然不是常量；仍然可能有两个不同的情况。而这种优化通常留给 JIT 编译器。

即使您的常量从未设置为其他任何值，也不会进行优化。例如

```
public class Heap {
    final boolean isMinHeap;
    public Heap() {
        isMinHeap = true;
    }
    @Override
    public String toString() {
        if (isMinHeap) return "Min!";
        return "Not Min";
    }
} 
```

编译为

```
 public java.lang.String toString();
    Code:
       0: aload_0
       1: getfield      #2                  // Field isMinHeap:Z
       4: ifeq          10
       7: ldc           #3                  // String Min!
       9: areturn
      10: ldc           #4                  // String Not Min
      12: areturn 
```

请注意，条件仍然存在。如果经常使用该方法，JIT 编译器可能会选择完全删除它，因为它应该知道该`final`成员不能更改。但这有点难以观察。

但是，如果您立即设置`isMinHeap`一个值，而不是在构造函数中进行设置，*则*执行优化：

```
public class Heap {
    final boolean isMinHeap = true;
    public Heap() {
    }
    @Override
    public String toString() {
        if (isMinHeap) return "Min!";
        return "Not Min";
    }
} 
```

编译`toString`为：

```
 public java.lang.String toString();
    Code:
       0: ldc           #3                  // String Min!
       2: areturn 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T08:10:35.470

原始的源代码到字节码的*编译器*无法针对仅在执行时才知道的值进行优化。在该术语的正常使用中，这样的值并不是真正的“常数”。*我相信，可以*在编译时简化的真正常量表达式被简化了*——*所以如果你有：

```
public static final int FOO = 10;
public static final int BAR = 20;

...

System.out.println(FOO * BAR): 
```

我相信乘法将在编译时执行。但是，在您描述的情况下这是不可能的，因为它们不是编译时常量。

JIT 编译器可能能够发现常见的表达式，但您必须给我们一个更具体的示例（在代码中，而不仅仅是描述）以允许任何类型的确定性。

# javascript - 当我更新 HTML 时，Keydown 事件停止触发

> ID：11590518
> 
> 赞同：1
> 
> 时间：2012-07-21T08:02:41.420
> 
> 标签：javascript, jquery

我正在开发一个简单的程序，该程序旨在教您（我）如何使用适用于 Android 的 8pen 键盘进行书写。

在每次按键时，我都会检查输入值是否与“模式属性”匹配，html 会发生变化，以便出现新的课程。这工作正常。但是，当我更新 keyup 功能停止触发。

```
var lesson = 0;
$(document).ready(function() {
    new_lesson(lesson)
    lesson++
    //den här grejjen aktiverar inte på lektion 2
    $("input").keyup(function(event){
        var value = $(this).val();
        console.log(value)
        if (isValidInput ('input')) {
            new_lesson(lesson);
        }
    })
});

function isValidInput (input) {
    return $(input)[0].checkValidity();
}

function new_lesson(lesson_number){
    $('#form').html('<label>'+data[lesson_number]+'</label> <input type="text" pattern="'+data[lesson_number]+'"/>')
} 
```

为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:08:39.957

您的事件被设置为 html 代码中的最后一个输入，并且您重写了该部分，因此该事件也丢失了。您需要将事件设置放入您的 new_lesson 功能中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T08:10:22.390

每次替换 html 时，都会创建输入元素的新实例，因此事件处理程序会消失。

试试`$('input').live('keyup',handler())`；

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T08:11:07.333

代替

```
$("input").keyup(function(event){ 
```

利用

```
$("input").live('keyup',function(){ 
```

[实时](http://api.jquery.com/live/)处理程序也附加到将来声明的类型。最初，当您使用 时`.keyup`，它只是将处理程序附加到您之前定义的输入。在 using`.live`时，它会将处理程序附加到所有已经定义且将在未来定义的输入元素。

**编辑：**从 jQuery 1.7 开始，不推荐使用 .live() 方法。使用[.on](http://api.jquery.com/on/)（与 live 相同的用法）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-21T08:11:42.797

在您的情况下，绑定事件会将事件处理程序直接注册到 DOM 元素`<input>`。当您更新`<input>`keyup 时，该事件不再注册到该新元素。

而不是使用`.bind()`：

```
$("input").keyup(function(event){ 
```

使用`.on()`which 适用于事件注册后添加到页面的所有元素：

```
$("input").on("keyup", function(event){ 
```

[有关.bind() 和 .on() 之间的区别，](http://www.elijahmanor.com/2012/02/differences-between-jquery-bind-vs-live.html)请参阅这篇出色的帖子

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-21T08:12:39.017

对于动态生成的元素，您应该委托事件，您可以使用[`on()`](http://api.jquery.com/on/)方法，尝试以下操作：

> .on( 事件 [, 选择器] [, 数据] , 处理程序(eventObject) )

```
$("#form").on('keyup', 'input', (function(event){
    // ....
}) 
```

# asp.net - 在 asp:repeater 中，我使用 asp:checkbox，但 OnCheckedChanged 不会触发

> ID：11590528
> 
> 赞同：2
> 
> 时间：2012-07-21T08:05:16.947
> 
> 标签：asp.net

这是代码：

```
<asp:Repeater runat="server" ID="repeater1" OnItemCommand="checkChange">
    <ItemTemplate>
            <asp:Table runat="server" Width="80%">
            <asp:TableRow runat="server" HorizontalAlign="Center" Width="80%">
                <asp:TableCell Width="80%" HorizontalAlign="Left">
                    <asp:Button ID="Button1" runat="server" Text="删除" Visible="<%#administrator %>" />
                    <asp:CheckBox runat="server" ID="checkBox" Text='<%#DataBinder.Eval(Container.DataItem,"IID")%>' AutoPostBack="true" OnCheckedChanged="checkChange" EnableViewState="false"/>
                    <asp:Label runat="server" Text='<%#DataBinder.Eval(Container.DataItem,"invText") %>'></asp:Label>
                </asp:TableCell>
            </asp:TableRow>
            </asp:Table>
    </ItemTemplate>
    </asp:Repeater> 
```

功能是：

```
 protected void checkChange(object sender, EventArgs e)
    {
        Response.Write("it works well!");
    } 
```

但是当我单击复选框时，什么都没有发生...谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:15:37.000

因为您已经为`event handler`the`CheckBox`和`Repeater`.

但当然因为`OnItemCommand`和`OnCheckedChanged`事件都具有相同的委托签名，即`void target(object sender, EventArgs e)`它不会引发任何类型的错误。

**代码像这样工作正常：**

```
<asp:Repeater runat="server" ID="repeater1">
            <ItemTemplate>
                <asp:Table ID="Table1" runat="server" Width="80%">
                    <asp:TableRow ID="TableRow1" runat="server" HorizontalAlign="Center" Width="80%">
                        <asp:TableCell Width="80%" HorizontalAlign="Left">
                            <asp:Button ID="Button1" runat="server" Text="Button" />
                            <asp:CheckBox runat="server" ID="checkBox" Text="Click me if u dare." AutoPostBack="true"
                                OnCheckedChanged="checkChange" EnableViewState="false" />
                            <asp:Label ID="Label1" runat="server" Text='<%# Eval("Name") %>'></asp:Label>
                        </asp:TableCell>
                    </asp:TableRow>
                </asp:Table>
            </ItemTemplate>
        </asp:Repeater> 
```

**后端**

```
protected void Page_Load(object sender, EventArgs e)
    {
        if (!IsPostBack)
        {
            DataTable dt = new DataTable();
            dt.Columns.Add("Name");
            for (int i = 0; i < 5; i++)
                dt.Rows.Add(new object[] { "Name no.: " + i.ToString() });
            repeater1.DataSource = dt;
            repeater1.DataBind();
        }
    }

    protected void checkChange(object sender, EventArgs e)
    {
        Response.Write("Clicked called at :" + DateTime.Now.ToString("dd-MM-yy hh:mm:ss"));
    } 
```

# biztalk - 根据 BizTalk 中分隔文件的第一行拆分文件

> ID：11590530
> 
> 赞同：0
> 
> 时间：2012-07-21T08:05:53.133
> 
> 标签：biztalk, biztalk-2010

我需要根据第一行拆分文件。示例数据：

```
101,row2,row3
103,row2,row3
102,row2,row3
101,row2,row3 
```

所以这些将被分成 3 个文件（一个文件用于 101 行，一个用于 102 行，一个用于 103）。输出可以是 XML 或平面文件

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T12:33:57.633

您将需要为该功能创建一个自定义管道。您可以参考这篇文章，它在答案中引用了几篇博客文章，它会告诉您如何实现它，但您的实现会有所不同。

[用于拆分 FLAT 文件的自定义管道 BizTalk 2010](http://social.msdn.microsoft.com/Forums/en-US/biztalkgeneral/thread/45a8f58c-be22-4711-be1c-1923448c9bf3)

# java - Linux 系统调用上的 Java 断点

> ID：11590531
> 
> 赞同：1
> 
> 时间：2012-07-21T08:05:54.410
> 
> 标签：java, linux, breakpoints, system-calls

当本机方法调用（直接或间接）某个 Linux 系统调用时，我如何在 Java 中设置一个断点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:55:26.853

这不是一个断点，但至少它为您提供了堆栈跟踪，这可能是您所需要的。此外，如果需要，Systemtap 语言确实允许您做更多的事情，而不仅仅是打印堆栈跟踪。

在 IcedTea JVM 源代码中，您将找到一个[SystemTap 文件](http://icedtea.classpath.org/hg/icedtea6/file/tip/tapset/jstack.stp.in)，其中包含可用于从正在运行的 IcedTea（带有 Hotspot）JVM 获取堆栈跟踪的函数。据我了解，使用这些函数，您可以从 SystemTap 支持的任何事件中获取 Java 堆栈跟踪 - 甚至从内核事件中。

请注意，尽管名称相同，但这些 jstack 函数与 JDK 提供的 jstack(1) 命令行实用程序无关。它们通过内存检查工作，而不是通过回调 JVM，因此它们[非常特定于 Hotspot internals](http://www.cygwin.com/ml/gdb/2012-02/msg00034.html)，因此可能不适用于非基于 Hotspot 的 JVM。

注意：[Systemtap 不能在默认的 Debian 内核上完全工作](http://sourceware.org/systemtap/wiki/SystemtapOnDebian)，因此您可能需要在基于 Debian 的系统上编译自己的内核。此问题不会影响 Fedora 或 Red Hat。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T08:20:01.457

理论上，可以使用 Java 的提前 (AOT) 编译器对应用程序进行本地编译，然后使用本地调试器在系统调用上设置断点或捕获点。（奖励：然后您将获得完整的堆栈跟踪，包括本机方法调用的所有 C 函数，以及无缝调试这些 C 函数的能力。）

您可能想要使用知道如何对 AOT 编译器生成的名称进行解码的调试器。例如，gdb 知道如何对 gcj 生成的名称进行解码，因此 gcj 与 gdb 的组合应该可以工作。

这种组合的问题是 gcj 仍然停留在**部分**JDK 1.5 兼容性，并且没有人费心去做 OpenJDK 类库中的合并工作（2009 年在 gcj 邮件列表中建议）。因此，gcj 从来都不是一个流行的选择——人们经常无意中使用它（特别是在 Debian 和 Ubuntu 上），但是当他们遇到问题时，他们倾向于切换到更标准的 JDK 而不是报告错误。

使用 AOT 编译器进行本机编译也比在认为有必要时让 JRE JIT 编译代码慢得多。

# php - php PDO - 你绑定所有参数吗？

> ID：11590533
> 
> 赞同：0
> 
> 时间：2012-07-21T08:06:00.857
> 
> 标签：php, mysql, pdo

我一直想知道绑定整个值列表是否是一种好习惯。例如，我必须进行以下查询：

```
INSERT INTO messages 
  (thread_id,message,from_id,to_id,to_viewed,notified,from_deleted,to_deleted,created)
  SELECT :threadId,:msg,:fromId,:toId,0,0,0,0,:createdTime FROM messages 
    WHERE thread_id = :threadId AND to_id=:toId LIMIT 1 
```

在这种情况下，绑定还有任何意义`notified`，因为这是静态值，所以在插入新消息时始终为 0 的字段`from_deleted`？`to_deleted`

* * *

我需要修改我的问题。我知道出于安全原因，没有理由绑定不是从用户生成的字段/值。在我的情况下，没有理由绑定文件`notified`，因为它们总是 0。但我真正的问题是我是否应该出于其他原因绑定这些字段（缓存）。mysql 会缓存整个查询语句还是只缓存绑定的参数？`from_deleted``to_deleted`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:10:59.627

正如您所说，实际上只需要绑定来自外部源的变量的参数（准备好的查询）（您还应该去掉 html 字符、脚本）。当您执行准备好的查询时，PDO 将转换引号以防止 sql 注入。您可以将静态变量直接放入查询中，因为您（开发人员）知道查找 0 或 1 甚至一些静态字符串是安全的。剩下的只是一个语法正确的查询。

您可以使用 sequelpro、phpmyadmin、mysql cli 或任何其他 sql 实用程序运行此查询以插入测试行（假设您正在运行 mysql）

```
INSERT INTO messages 
  (thread_id,message,from_id,to_id,to_viewed,notified,from_deleted,to_deleted,created)
  VALUES (1, 'Blah', 1, 2, 3, 0, 0, 0, '2012-07-21'); 
```

PDO 示例

```
try {
    $dbh = new PDO($dsn, $user, $password);
    $sth = $dbh->prepare('SELECT * FROM messages WHERE thread_id = :threadId AND to_id=:toId LIMIT 1');
    $sth->execute(array(':threadId' => $id, ':toId' => $to_id));
} catch (PDOException $e) {
    echo 'Connection failed: ' . $e->getMessage();
} 
```

# html - 从弹出窗口更改父窗口位置

> ID：11590535
> 
> 赞同：1
> 
> 时间：2012-07-21T08:06:17.267
> 
> 标签：html, popup, window

我正在尝试制作一些网站，并想问一些问题。该网站的主文件是 main.asp。在 main.asp 中，我插入了 notice.jpg 文件作为弹出窗口。

我想这样做，如果我点击弹出窗口，弹出窗口就会消失，新的大窗口（www.charming.or.kr/jeju/）会出现。谁可以帮我这个事？以下是我的部分来源。

```
<head>
<meta http-equiv="Content-Type" content="text/html; charset=euc-kr" />
<title><!--#include file="../include/title.asp"--></title>
<style type="text/css">
@import url(../css/comm.css);
</style>
<script language='javascript'> 
function OpenWin(dest) 
{ 
posy = screen.Height/2 - 100; 
posx = screen.Width /2 - 200; 

StartWin = window.open(dest, 
"notice_popup","toolbar=no,channelmode=no,left="+posx+",top="+posy+",location=no,directories=no,w    idth=743,height=720,resizable=no,menubar=no,scroll=no"); 
} 

</script> 

</head>

<body onload="OpenWin('../img/main/Notice.jpg')" > 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T08:17:52.760

在您的新窗口中，您可以通过使用`window.opener`which is a direct reference to your original 来引用您的原始窗口。您可以因此使用

```
window.opener.location.href = newURL; 
```

# java - Java ProgressMonitor 不工作

> ID：11590537
> 
> 赞同：1
> 
> 时间：2012-07-21T08:07:00.353
> 
> 标签：java, swing, swingworker, jprogressbar, progressmonitor

我下面的代码不起作用，谁能告诉我为什么？还请更正我的代码，我对 Java 很陌生。除此之外，我正在寻找“加载面板组件”，类似`ProgressMonitor`但可能更有吸引力并且动画效果更好的东西。如果有人以前使用过这样的东西，请建议我。

```
public class Main extends JFrame {

    private JPanel contentPane;

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    Main frame = new Main();
                    frame.setVisible(true);

                    ProgressMonitor pm = new ProgressMonitor(frame, "Loading...", 
                            "waiting...",
                            0, 100000);

                    for (int i = 0 ; i < 100000 ; i ++){

                        pm.setProgress(i);
                        pm.setNote("Testing");
                        System.out.println(i);

                        Thread.sleep(1000);
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    }

    /**
     * Create the frame.
     */
    public Main() {
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setBounds(100, 100, 450, 300);
        contentPane = new JPanel();
        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
        contentPane.setLayout(new BorderLayout(0, 0));
        setContentPane(contentPane);
    }

} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-21T09:00:33.843

正如@Mark Rotteveel 已经指出的那样，您正在保持 EDT（事件调度线程）被占用。[关于“如何显示进度条/监视器”](http://docs.oracle.com/javase/tutorial/uiswing/components/progress.html)的教程包含有价值的信息和代码示例。

但基本上它归结为将您的计算移动到工作线程（例如使用 a `SwingWorker`），并`ProgressMonitor`在 EDT 上显示 。由工作线程指示`ProgressMonitor`已经取得的进展。

这里是该教程的示例代码的直接链接[，](http://docs.oracle.com/javase/tutorial/displayCode.html?code=http://docs.oracle.com/javase/tutorial/uiswing/examples/components/ProgressMonitorDemoProject/src/components/ProgressMonitorDemo.java)它清楚地显示了如何在`SwingWorker`扩展（该`Task`示例中的类）中完成工作，以及如何通过将 a 添加到 来`ProgressMonitor`更新，侦听器将进度传递到. _`PropertyChangeListener``SwingWorker``ProgressMonitor`

我还建议阅读[Swing 中的并发](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)教程，其中包含有关如何`Thread`结合 Swing 处理 s 的更多信息，以及为什么你不能/不应该在 EDT 上进行大量计算

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-21T08:11:01.693

在 Swing 中，事件线程负责修改和更新 GUI。您使事件线程忙于该 for 循环和睡眠，因此它无法更新 GUI。您在事件线程上所做的所有事情都应该是短暂的。其他所有内容都应移出事件线程。

因此，您需要将该 for 循环移出事件线程。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-21T09:01:52.423

**1.**将此视为经验法则，**UI 工作在 UI 线程上，非 UI 工作在非 UI 线程上**。

**2\. Event Dispatcher Thread (EDT) 是**这里的 UI 线程，因此您应该将**非 UI 进程密集型工作保持在 EDT 的单独线程 OUT 上**。

**3.**您可以通过两种方式做到这一点......

**一世。**创建一个**单独的线程**来执行此操作。

**ii.** 使用**SwingWorker**同步 Non-UI 和 UI 线程。

**4.**始终保持**main() 方法仅用于使 JFrame 在 EDT 中可见**。

**例如：**

```
public static void main(String[] args){

       EventQueue.invokeLater(new Runnable(){

         public void run(){

             myframe.setVisible(true);

            }
         }
      } 
```

**查看此站点以获取 SwingWorker 的工作示例：**

[http://www.kodejava.org/examples/381.html](http://www.kodejava.org/examples/381.html)

# android - 默认“大”、“中”和“小”文本视图的 dpi 值 android

> ID：11590538
> 
> 赞同：173
> 
> 时间：2012-07-21T08:07:09.943
> 
> 标签：android, textview, android-xml

文档（或任何人）是否讨论了默认的 dpi 值

*   大文本视图 { `android:textAppearance="?android:attr/textAppearanceLarge"`}
*   中等文本视图 { `android:textAppearance="?android:attr/textAppearanceMedium"`}
*   小文本视图 { `android:textAppearance="?android:attr/textAppearanceSmall"`}

SDK 中的小部件？

![大、中、小和常规文本视图](../Images/668aa40cffca2a3b12b7d3803c98306e.png)

换句话说，我们可以在不使用`android:textAppearance`属性的情况下复制这些文本视图的外观吗？

* * *

## 回答 #1

> 赞同：286
> 
> 时间：2012-07-21T08:13:02.010

见android sdk目录。

在`\platforms\android-X\data\res\values\themes.xml`：

```
 <item name="textAppearanceLarge">@android:style/TextAppearance.Large</item>
    <item name="textAppearanceMedium">@android:style/TextAppearance.Medium</item>
    <item name="textAppearanceSmall">@android:style/TextAppearance.Small</item> 
```

在`\platforms\android-X\data\res\values\styles.xml`：

```
<style name="TextAppearance.Large">
    <item name="android:textSize">22sp</item>
</style>

<style name="TextAppearance.Medium">
    <item name="android:textSize">18sp</item>
</style>

<style name="TextAppearance.Small">
    <item name="android:textSize">14sp</item>
    <item name="android:textColor">?textColorSecondary</item>
</style> 
```

`TextAppearance.Large`表示样式是从样式继承的`TextAppearance`，如果您想查看样式的完整定义，还必须对其进行跟踪。

链接：http: [//developer.android.com/design/style/typography.html](http://developer.android.com/design/style/typography.html)

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2015-08-17T17:39:39.397

> 换句话说，我们可以在不使用 android:textAppearance 属性的情况下复制这些文本视图的外观吗？

就像[biegleux](https://stackoverflow.com/users/1300995/biegleux)已经说过的：

*   *小*代表14sp
*   *中等*代表18sp
*   *大*代表22sp

如果您想在 Android 应用程序中的任何文本上使用*small*、*medium*或*large*值，您只需`dimens.xml`在您的`values`文件夹中创建一个文件并在其中使用以下 3 行定义文本大小：

```
<dimen name="text_size_small">14sp</dimen>
<dimen name="text_size_medium">18sp</dimen>
<dimen name="text_size_large">22sp</dimen> 
```

下面是一个 TextView 的示例，其中包含文件中的*大*文本`dimens.xml`：

```
<TextView
  android:id="@+id/hello_world"
  android:text="hello world"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:textSize="@dimen/text_size_large"/> 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2017-09-26T16:16:50.953

以编程方式，您可以使用：

```
textView.setTextAppearance(android.R.style.TextAppearance_Large); 
```

# opencart - opencart 结帐页面上的“继续”按钮不起作用

> ID：11590539
> 
> 赞同：-1
> 
> 时间：2012-07-21T08:07:13.493
> 
> 标签：opencart, checkout

交货详细信息下结帐页面上的“继续”按钮不起作用，但“帐单详细信息”继续按钮和其他按钮似乎总是有效。单击按钮时，等待的 GIF 被加载，没有任何反应。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T22:09:39.477

这是因为您没有 FancyBox。你没有使用 1.5v 并且你得到了 jQuery 错误。检查 Firebug 我相信它会确认。只需下载并放入 Fancybox 即可。

**1) 下载 FancyBox**

(http://fancyapps.com/fancybox/#license)

**2）解压后上传到：**

www.yoursite.com/fancybox（只需将其保留在根目录或 CDN 中）

**3) 打开**

*opencart>catalog>view>theme>default>template>common>header.tpl*

或者如果您在页脚中有 javascript 库：

*opencart>catalog>view>theme>default>template>common>footer.tpl*

在 common.js 之后添加

```
<script type="text/javascript" src="/fancybox/jquery.fancybox.js?v=2.0.6"></script> 
```

# c - 在 C 中设置位

> ID：11590545
> 
> 赞同：5
> 
> 时间：2012-07-21T08:08:27.300
> 
> 标签：c, bit

我正在尝试执行以下操作：

> 编写一个函数`setbits(x,p.n,y)`，返回从设置为最右边位的位置开始`x`的位，而其他位保持不变？`n``p``n``y`

我像这样尝试过，但没有得到正确的答案。谁能告诉我哪里错了？

```
unsigned setbits(unsigned x,int p,int n,unsigned y)
{
    return (x>>p & (y|(~0<<n)));
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T08:38:59.280

就像是：

```
unsigned setbits(unsigned x,int p,int n,unsigned y)
{
    unsigned mask = (1U << n) - 1U; // n-bits
    y &= mask; // rightmost n bits of y
    y <<= p;   // which begin at position p
    mask <<= p; //idem
    x &= ~mask; //set the 0s
    x |= y;     //set the 1s
    return x;
} 
```

或者，如果你想用更少的行来完成它，更难调试，但更酷：

```
unsigned setbits(unsigned x,int p,int n,unsigned y)
{
    unsigned mask = (1U << n) - 1U; // n-bits
    return (x & ~(mask << p)) | ((y & mask) << p);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T08:48:24.493

1.  您`x>>()`因此松开了`x`最右边的位，然后在以后的功能中永远不会恢复它们。
2.  不能仅使用设置位，`&`因为结果取决于两个操作数，除非您知道其中一个仅包含`1`
3.  `(y|(~0<<n))`应该削减位，`y`但事实并非如此，这一次`|`不是正确的工具，使用`&`和适当的第二个操作数。

这是解决方案（我敢打赌有一个更短的，但这是直截了当的）：

```
(x & ~(~(~0<<n)<<p) | (y&~(~0<<n)) << p); 
```

左侧部分`|`清除`x`（位置 p 处的 n 位）中的位置，右侧部分带来`y`位。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T08:32:48.033

Kernighan 和 Ritchie，第 2 版，练习 2-6。解决方案来自[http://users.powernet.co.uk/eton/kandr2/krx206.html](http://users.powernet.co.uk/eton/kandr2/krx206.html)：

`(x & ((~0 << (p + 1)) | (~(~0 << (p + 1 - n))))) | ((y & ~(~0 << n)) << (p + 1 - n))`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-21T08:43:19.917

捕获 y 的最后 n 位：（将是最后 n 位等于 y 的数字，其他设置为零）

```
last_n_bits_of_y = y & (((1<<(n+1))-1); 
```

然后我们可以通过 (32-n-p+1) 来抵消它（检查这个！）

```
last_n_bits_of_y_offset = last_n_bits_of_y << (32-n-p+1); 
```

现在我们擦除 x 我们想要更改的位：

```
new_x = x & (~( (((1<<(n+1))-1) << (32-n-p+1) ) ); 
```

并用我们的位填充它：

```
new_x = new_x & last_n_bits_of_y_offset; 
```

而已！没有真正测试它，但希望你能明白。

# vbscript - 通过 ping 单个主机名来 ping“路由器”的脚本

> ID：11590547
> 
> 赞同：0
> 
> 时间：2012-07-21T08:08:31.747
> 
> 标签：vbscript, ip-address, ping, router

我正在尝试编写一个脚本，它将提示您输入*主机名*，例如`222012-DC01`，它将通过or解析来自*dns的**IP 地址*。*`ping``nslookup`*

 *然后它应该修改*IP 地址*以 ping 该站点的路由器。如果*ip 地址*是`10.123.2.1`它应该 ping`10.123.1.1`该站点的路由器。

该脚本应该为您提供**server offline**或**router offline**的输出。

在一个管理数百个站点的环境中工作，我们拥有服务器的所有权，但不涉及路由器故障等网络事件。

非常感谢您的帮助...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T14:02:16.660

将来请发布您所拥有和尝试过的内容。这是一个经过测试的脚本

```
function get_ip(strTarget)
  set objShell = CreateObject("WScript.Shell")
  set objExec = objShell.Exec("ping -n 2 -w 1000 " & strTarget)
  strPingResults = LCase(objExec.StdOut.ReadAll)
  get_ip = ""
  if InStr(strPingResults, "reply from") then
    wscript.echo VbCrLf & strTarget & " responded to ping."
    set regEx = New RegExp
    regEx.Pattern = "\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b"
    set matches = regEx.Execute(strPingResults)
    if matches.count > 0 then
      get_ip = matches(0)
    end if
  else
    wscript.echo vbCrLf & strTarget & " did not respond to ping."
    wscript.quit 1
  end If
end function

function is_online(strTarget)
  set objShell = CreateObject("WScript.Shell")
  set objExec = objShell.Exec("ping -n 2 -w 1000 " & strTarget)
  strPingResults = LCase(objExec.StdOut.ReadAll)
  if inStr(strPingResults, "reply from") then
    is_online = true
  else
    is_online = false
  end If
end function

pcname = inputbox( "Give the pc-name to ping:")
ip = get_ip(pcname)
wscript.echo "ip of pc " & pcname & " is " & ip
aIp = split(ip, ".")
aIp(2) = 1
router = join(aIp, ".")
wscript.echo "pinging " & router
if is_online(strTarget) then
  wscript.echo "router is online"
else
  wscript.echo "router is offline"
end if 
```*

# php - 将生成的代码移入

> ID：11590553
> 
> 赞同：0
> 
> 时间：2012-07-21T08:09:06.250
> 
> 标签：php, javascript, facebook

在视频平台上构建了一个函数，以便在为每个视频生成嵌入代码时生成 Facebook OG:Meta 视频数据。最后一个问题是将元数据从 body 中获取到 head

我想要的是将生成的元数据包装在“一些代码”中，然后在我可以放置代码/字符串的地方重写它

必须存在一个 php 或 javascript 函数吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:38:55.280

在下面的示例中，我使用 JavaScript 将 DIV 从主体移到了头部。我使用 DIV 来演示工作。你可以

[链接：脚本演示@jsfiddle](http://jsfiddle.net/8Mjwr/)

您应该用 META 替换 DIV：

```
metaTAGs = document.getElementsByTagName( "DIV" ); 
```

变成：

```
metaTAGs = document.getElementsByTagName( "META" ); 
```

[链接：你的脚本，小提琴](http://jsfiddle.net/8Mjwr/1/)

# c# - 遵循 LINQ-to-XML 理念，从生成的 XML 文档中省略可选属性

> ID：11590554
> 
> 赞同：1
> 
> 时间：2012-07-21T08:09:07.387
> 
> 标签：c#, xml, linq

我正在使用 LINQ to XML 生成 XML 文档文档。我希望 XML 文档最小化，即应该省略很少使用的属性。目前，我正在这样做：

```
XElement element = new XElement("myelement",
        new XAttribute("property1", value1),
        new XAttribute("property2", value2));
if (!string.IsNullOrEmpty(rareValue1))
{
    element.Add(new XAttribute("rareProperty1", rareValue1));
}
if (!string.IsNullOrEmpty(rareValue2))
{
    element.Add(new XAttribute("rareProperty2", rareValue2));
}
if (!string.IsNullOrEmpty(rareValue3))
{
    element.Add(new XAttribute("rareProperty3", rareValue3));
} 
```

但实际上，如果想省略“if”语句，因为它们不是很优雅，并且与 LINQ to XML 哲学相矛盾，在这种哲学中，您可以通过嵌套来轻松创建 XML 树，如[在 XML 中创建树中](http://msdn.microsoft.com/en-us/library/bb387089.aspx)所述。所以，我想做这样的事情：

```
XElement element = new XElement("myelement",
        new XAttribute("property1", value1),
        new XAttribute("property2", value2),
        new XAttribute("rareProperty1", string.IsNullOrEmpty(rareValue1) ? Flag.Omit : rareValue1),
        new XAttribute("rareProperty2", string.IsNullOrEmpty(rareValue2) ? Flag.Omit : rareValue1),
        new XAttribute("rareProperty3", string.IsNullOrEmpty(rareValue3) ? Flag.Omit : rareValue1),
); 
```

即 C# 源代码包含`myelement`其构造函数内部的所有子属性。并且`Flag.Omit`会以某种方式指示 LINQ-to-XML 不生成 XML 属性。

这可以使用标准 LINQ to XML 还是使用一些通用实用程序功能？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T08:12:18.480

添加子节点的各种方法都忽略了`null`值 - 所以你只需要一个辅助方法：

```
public static XAttribute AttributeOrNull(XName name, string value)
{
    return string.IsNullOrEmpty(value) ? null : new XAttribute(name, value);
} 
```

然后：

```
XElement element = new XElement("myelement",
        new XAttribute("property1", value1),
        new XAttribute("property2", value2),
        AttributeOrNull("rareProperty1", rareValue1),
        AttributeOrNull("rareProperty2", rareValue2),
        AttributeOrNull("rareProperty3", rareValue3)
); 
```

# iphone - 从 UIButton 获取 UILabel 的文本

> ID：11590557
> 
> 赞同：0
> 
> 时间：2012-07-21T08:09:31.043
> 
> 标签：iphone, ipad, uibutton, uilabel, buttonclick

我是新手`iPhone`，

我的应用程序中有很多按钮，每个按钮我都有一个`UILabel`，当用户单击任何按钮时，我想从该按钮获取该标签的相应文本。

这是我的代码片段，

```
- (void) buttonClicked:(UIButton*)sender
{ 
    NSString *Txt=  sender.titleLabel.text;
    NSLog(@"Txt=%@",Txt);
} 
```

但我的日志显示：`Txt=null`

**任何帮助将不胜感激。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T08:47:16.067

我假设你可能在按钮上有 subviewed 标签，如下所示：

```
 UILabel *lblText = [[UILabel alloc]initWithFrame:button.frame];
 lblText.text = @"NameofButton";
 [button addSubview:lblText];
 [lblText release]; 
```

现在按钮点击事件将是这样的：

```
- (void) buttonClicked:(UIButton*)sender
{ 
  //NSArray *arrSubViews = [sender subviews];
  for (id anObject in [sender subviews]) {
      if([anObject isKindOfClass: [UILabel class]]){
          UIlabel *myLabel = anObject;
          NSString *Txt=  myLabel.text;
          NSLog(@"Txt=%@",Txt);
    }
  }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T08:50:15.507

确保您正在设置标题：

```
[button setTitle:@"your title" forState:UIControlStateNormal]; 
```

# uitableview - 如何创建用户编辑的 UITableView？

> ID：11590559
> 
> 赞同：0
> 
> 时间：2012-07-21T08:09:40.137
> 
> 标签：uitableview, customization, tableview

因此，我制作了一个应用程序，旨在为学校浏览大量信息。该应用程序的很大一部分是针对教职员工名册的 100 多人的巨大表格视图，可将您重定向到该人的特定信息。我们发现，使用它的人每次都导航到相同的人，并且发现滚动浏览大量姓名以找到他们想要的人很烦人。我想通过给用户一个“收藏夹页面”来解决这个问题，他们可以在其中将他们经常使用的教师添加到他们自己的表格视图中。有谁知道我怎么能做这样的事情？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T16:46:19.617

要删除单元格，您可以使用以下代码

```
self.navigationItem.rightBarButtonItem = self.editButtonItem; 
```

要获得收藏页面，您必须创建数组并分配被选中的单元格并将元素传递给收藏页面...您可以尝试以下链接，您可以在其中搜索在视图之间传递值..

[http://www.youtube.com/user/GeekyLemon](http://www.youtube.com/user/GeekyLemon)

# html - 将 div 元素相互堆叠

> ID：11590560
> 
> 赞同：4
> 
> 时间：2012-07-21T08:09:47.100
> 
> 标签：html, css

我有一个网站，其中的布局看起来像这样：（下图）

![在此处输入图像描述](../Images/e6871c056ec0b0c2ee49ae519cc710f9.png)

在左侧面板上，我有一个显示徽标的 div。我有另一个 div，我想将其放在徽标下方，因此`divs`必须将它们堆叠在一起。我尝试摆弄 z-indexes，但并没有完全得到所需的东西。如何才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:12:46.153

**参考：** [**jsFiddle Logo Demo**](http://jsfiddle.net/efLz5/)

**状态更新：** [**jsFiddle Logo Demo Just Border Version**](http://jsfiddle.net/efLz5/2/)

上面的 jsFiddle在**CSS 部分中有*****大量注释***，因此您可以了解如何设置您的特定徽标。

 ****HTML：**

```
<div id="logoHolder">
    <div id="logoContent">
      <div id="logoImage"></div>
    </div>
</div> 
```

**CSS：**

```
#logoHolder {
    width: 296px;
    height: 296px;
    background-color: white;
    border: 3px solid red;
}

#logoContent {
    width: 256px;
    height: 256px;
    padding: 20px;
    position: relative;
    border: 1px solid black;
}

#logoImage {
    background-image:url(http://img841.imageshack.us/img841/4718/securitysealred256x256.png);
    background-repeat: no-repeat;
    background-position: center center;
    background-color: aqua;
    height: 100%;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T08:14:10.500

如果`z-index`对您不起作用，请尝试将徽标嵌套在类似这样`<div>`的包装器中`<div>`

```
<div> <!--div container to hold the logo div-->
 <div><!--Logo div--></div>
</div> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T08:15:13.760

尝试使用**position: absolute;** 使用 z-index 时，而不是两个元素的相对值。然后它会在您的布局中产生一些失真，因此您可以将徽标 div 放在另一个相对 div 中或使用其他一些技术来修复它，但是在使用绝对位置和 z-index 时它必须工作。如果它仍然不起作用，请检查您的某些 javascript 是否没有干扰，或者您的代码中的某些其他元素是否具有 z-index，因此是导致问题的原因。

如果使用绝对位置，不要忘记定义**margin-left**和**margin-top**。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-21T08:22:24.080

我不确定你想要达到什么目标，但试试[这个](http://jsfiddle.net/morgi/Wyetf/4/)，让值适应你的布局

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-21T08:13:24.177

尝试使用该`margin`属性，如您的图像所示。如果您将右侧 div 设置`margin-left`为负值，则右侧 div 将移动到徽标 div 的下方/上方。**

# python - 如何使用python清除IE8中的缓存和所有私有数据

> ID：11590566
> 
> 赞同：0
> 
> 时间：2012-07-21T08:11:28.937
> 
> 标签：python, caching, internet-explorer-8, pywin32

我一直在尝试寻找一种方法来使用 Python 清除 IE8 缓存和所有私有数据！但是做不到！目前我正在使用“Pythoncom/win32com.client”模块，我只想清除 IE8 数据而不是其他浏览器！或者是否有办法删除它保存的 IE8 数据文件？

谢谢

# c# - 在 wpf 中动态创建标签

> ID：11590571
> 
> 赞同：1
> 
> 时间：2012-07-21T08:12:02.813
> 
> 标签：c#, wpf, xaml, label

我有一个 C# 代码，它必须在 xaml 中编写。

我的代码：

```
foreach (item i in List.Items)
{
   Label lb =new Label; 
   lb.VerticalAlignment=Center;
   lb.Content= List.Items.Name;
   lb.Width="120";

   mGrid.Children.Add(lb);
} 
```

mGrid 是我的 xaml 代码中的 Grid。列表是一个列表。该列表成为文件中的内容。如果在这个文件中有 2 个条目，我必须创建标签。如果有 4 个，我必须创建 4 个。如果有 7 个，则创建 7 个。依此类推。

它适用于 C#，但我必须用 xaml 代码编写它。我怎样才能做到这一点？

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:44:11.357

考虑使用 MVVM 模式。

这样你就有了 ViewModel 类，它将你的项目列表保存在 ObservableCollection 中。

您的列表只是将 ItemsSource 绑定到 ViewModel 中的集合，您不再需要在代码后面或其他地方创建项目。

宽度和 VerticalAlignment 直接转到 XAML，因为它们是特定于视图的。如果您需要，即使标签也会在视图中，可能作为 ItemsTemplate。

Jason Dollinger 在这个优秀的视频教程中解释了 MVVM，该教程 [可在 Lab49 上获得](http://blog.lab49.com/archives/2650)

它已经包含一个列表，您可以在那里看到要做什么。

本视频中开发的源代码也可
[在 Lab49 上获得](http://blog.lab49.com/archives/2689)

# c# - 从 .net 库中读取文本文件资源

> ID：11590582
> 
> 赞同：2
> 
> 时间：2012-07-21T08:13:07.790
> 
> 标签：c#, .net, mef

我有一个在 wpf mef 应用程序中使用的库。该库中包含许多文件。其中之一是 app.js。

如何从库中读取 app.js 作为字符串。

PS：从早期的代码中，我可以使用以下代码访问/创建位图图像：

```
private readonly BitmapImage _starImageSmall = new BitmapImage(new Uri("pack://application:,,,/MyFirstExtension;component/Star_16x16.png", UriKind.Absolute)); 
```

生成 Uri 后，如何作为系统流访问流？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T22:58:35.087

这段代码从未让我失望过：

```
private Stream GetEmbeddedResourceStream(string resourceName)
{
    Assembly assy = Assembly.GetExecutingAssembly();
    string[] res = assy.GetManifestResourceNames();
    for (int i = 0; i < res.Length; i++)
    {
        if (res[i].ToLower().IndexOf(resourceName.ToLower()) != -1)
        {
            return assy.GetManifestResourceStream(res[i]);
        }
    }
    return Stream.Null;
} 
```

此代码块需要注意三点：

*   此块适用于正在*执行的程序集*( `Assembly.GetExecutingAssembly()`)，*而不是*调用程序集或任何其他程序集；更改它以满足您的需要（请参阅下面的替代方案）
*   `resourceName`应该只是*文件名*（例如，如果您的文件保存在`resources/myRes.bin`，您调用`GetEmbeddedResourceStream("myRes.bin")`
*   您的资源必须将其“资源类型”设置为“嵌入式资源”

* * *

但是，如果您希望代码适用于任意程序集，则可以将代码块更改为：

```
private Stream GetEmbeddedResourceStream(string resourceName)
{
    return GetEmbeddedResourceName(resourceName, Assembly.GetExecutingAssembly());
}
private Stream GetEmbeddedResourceStream(string resourceName, Assembly assembly)
{
    string[] res = assembly.GetManifestResourceNames();
    for (int i = 0; i < res.Length; i++)
    {
        if (res[i].ToLower().IndexOf(resourceName.ToLower()) != -1)
        {
            return assembly.GetManifestResourceStream(res[i]);
        }
    }
    return Stream.Null;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T20:15:27.000

[您可以使用Assembly.GetManifestResourceStream](http://msdn.microsoft.com/en-us/library/xc4235zt.aspx)打开程序集中的资源流。如果您不确定资源的名称，可以使用[Assembly.GetManifestResourceNames](http://msdn.microsoft.com/en-us/library/system.reflection.assembly.getmanifestresourcenames.aspx)枚举资源名称。

# sql - 如何优化这个 TSQL

> ID：11590584
> 
> 赞同：2
> 
> 时间：2012-07-21T08:13:21.413
> 
> 标签：sql, tsql, optimization

此查询即将`01:30`运行：

```
select DATEADD(dd, 0, DATEDIFF(dd, 0, t1.[OccurredOn]))
       , count(t2.UserId)
       , count(*) - count(t2.UserId)
from Events t1
left join (select c.UserId, min(c.OccurredOn) FirstOccurred
           from Events c
           where [OccurredOn] between @start and @end
           group by c.UserId) t2 on t1.OccurredOn = t2.FirstOccurred and t1.UserId = t2.UserId
where t1.EventType = @eventType
    and t1.[OccurredOn] between @start and @end
group by DATEADD(dd, 0, DATEDIFF(dd, 0, t1.[OccurredOn]))
order by DATEADD(dd, 0, DATEDIFF(dd, 0, t1.[OccurredOn])) 
```

如果我`WHERE`从子查询中删除该子句，它会立即运行。

自行运行子查询，`WHERE`需要 < 1s

如果我`SELECT`首先将子查询放入表变量中，然后加入该变量，则整个查询将在 19 秒内运行。

该`Events`表如下所示：

```
[Events](
    [EventType] [uniqueidentifier] NOT NULL,
    [UserId] [uniqueidentifier] NOT NULL,
    [OccurredOn] [datetime] NOT NULL,
) 
```

我有以下`primary, nonclustered, nounique`索引：

*   事件类型
*   用户身份
*   发生在

这是执行计划

![在此处输入图像描述](../Images/86d61b9fe5cddd7647fc8d3909016caf.png)

我正在使用 SQL Server 2008。

两件事情：

1.  发生了什么让这变慢？
2.  我该如何加快速度？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:13:24.460

您可以尝试替换`LEFT JOIN`为，`LEFT MERGE JOIN`以便`t2`只计算一次派生表，而不是`MIN`为每个用户重新计算可能多次。

您也可以使用下面的排名函数重写它。它可能更便宜。您需要根据您的数据和索引来测试这些想法。

```
;WITH T AS
(
SELECT *,
       RANK() OVER (PARTITION BY UserId ORDER BY OccurredOn) AS Rnk
FROM Events
WHERE [OccurredOn] BETWEEN @start AND @end
)
SELECT Dateadd(dd, 0, Datediff(dd, 0, OccurredOn)),
       COUNT(CASE WHEN Rnk =1 THEN 1 END),
       COUNT(CASE WHEN Rnk >1 THEN 1 END)
FROM T
WHERE EventType = @eventType      
GROUP BY Dateadd(dd, 0, Datediff(dd, 0, OccurredOn)) 
ORDER BY Dateadd(dd, 0, Datediff(dd, 0, OccurredOn)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T09:44:28.483

您的查询很慢，因为您的排序取决于动态计算（`DATEADD(dd, 0, DATEDIFF(dd, 0, t1.[OccurredOn]))`），Sql Server 不能在动态计算中使用索引。

Postgresql[对表达式有索引](http://www.postgresql.org/docs/9.1/static/indexes-expressional.html)，使用 Postgresql，您基本上可以为您将表达式的结果保存到实际列（幕后列），所以当您需要对该表达式进行排序时，Postgresql 可以使用索引在那个表情上。

Sql Server 中最接近的类似特性是持久化公式。

您可以通过此示例查询轻松验证该功能：

```
create table PersonX
(
Lastname varchar(50) not null,
Firstname varchar(50) not null
);

create table PersonY
(
Lastname varchar(50) not null,
Firstname varchar(50) not null
);

alter table PersonX add Fullname as Lastname + ', ' + Firstname PERSISTED;    
create index ix_PersonX on PersonX(Fullname);

declare @i int = 0;

while @i < 10000 begin
    insert into PersonX(Lastname,Firstname) values('Lennon','John');
    insert into PersonY(Lastname,Firstname) values('Lennon','John');
    set @i = @i + 1;
end;

select top 1000 Lastname, Firstname
from PersonX
order by Fullname;

select top 1000 Lastname, Firstname
from PersonY
order by Lastname + ', ' + Firstname; 
```

在 PersonX 上对全名下订单比 PersonY 快。PersonX 的查询成本仅为 32%，而 PersonY 为 68%

要解决查询的性能问题，请执行以下操作：

```
alter table Events 
    add OccurenceGroup as 
        DATEADD(dd, 0, DATEDIFF(dd, 0, [OccurredOn])) PERSISTED

create index ix_Events on Events(OccurenceGroup); 
```

然后在 OccurenceGroup 上进行分组和排序。

* * *

顺便说一句，您是否在 OccuredOn 和 EventType 上添加了索引？

# javascript - 在 JavaScript 中将'\n' 替换为

> ID：11590589
> 
> 赞同：3
> 
> 时间：2012-07-21T08:13:38.087
> 
> 标签：javascript

我有`var recommend = 'I recommended Garden Solutions for this Tender Contracting on the basis of\n\n1)Top Scorer for tender\n2)Professional Experience in Building Services\n3)Approved Service Providers';`

我想`\n`用 HTML 中断替换并希望将其显示如下：

> 我推荐 Garden Solutions 进行本次招标的依据是
> 
> 1) 投标最高得分者
> 
> 2)在屋宇装备方面的专业经验
> 
> 3) 认可的服务提供商

我正在使用 JavaScript 的替换功能

```
var val = recommend.replace("\n","<br>"); 
```

但它不起作用。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-21T08:20:11.497

使用正则表达式 ( `RegExp`) 文字和“全局” ( `g`) 修饰符：

```
var val = recommend.replace(/\n/g, "<br />"); 
```

或者[`RegExp`](https://developer.mozilla.org/en/JavaScript/Guide/Regular_Expressions)直接使用：

```
var val = recommend.replace(RegExp("\n","g"), "<br>"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T08:19:53.987

通过使用 RegExp `"\n"`，您只需替换第一个匹配项。要替换所有出现，您需要添加 RegExp 修饰符`g`。

因此，请改用以下内容来替换所有出现的情况：

```
var val = recommend.replace( new RegExp( "\n", "g" ),"<br>"); 
```

[演示小提琴在这里](http://jsfiddle.net/TSNwU/)。

# c# - 在 C# 中显式转换为枚举

> ID：11590590
> 
> 赞同：3
> 
> 时间：2012-07-21T08:13:44.123
> 
> 标签：c#, enums, clr

CLR 如何确定应转换为哪种颜色零？

```
internal static class Test
{
    private static void Main()
    {
        Console.WriteLine((Color)0);
    }

    private enum Color
    {
        Red,
        Green = Red
    }
} 
```

使用此颜色的定义“红色”将被输出。

如果我们使用其他定义，结果真的很有趣。

```
private enum Color
{
    Red,
    Green = Red,
    Blue = Red,
    Yellow = Red
} 
```

输出为“绿色”。

另一个定义：

```
private enum Color
{
    Red,
    Green = Red,
    Blue,
    Yellow  = Red
} 
```

输出为“黄色”。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T08:14:57.357

它只返回一个`Color`基础值为 0 的值。这与`Color.Red`and的值相同`Color.Green`。

从根本上说，您的枚举在其中被破坏`Red`并且`Green`具有相同的值。你根本无法区分它们。

```
Color red = Color.Red;
Color green = Color.Green;
Console.WriteLine(red == green); // True
Console.WriteLine(red.ToString() == green.ToString()); // True 
```

I don't know if there are any guarantees around whether `ToString` returns "Red" or "Green" - but if you get to the situation where that's relevant, you should have described your enum differently.

EDIT: From the [documentation](http://msdn.microsoft.com/en-us/library/16c1xs4z.aspx):

> If multiple enumeration members have the same underlying value and you attempt to retrieve the string representation of an enumeration member's name based on its underlying value, your code should not make any assumptions about which name the method will return. For example, the following enumeration defines two members, Shade.Gray and Shade.Grey, that have the same underlying value.
> 
> ...
> 
> The following method call attempts to retrieve the name of a member of the Shade enumeration whose underlying value is 1\. The method can return either "Gray" or "Grey", and your code should not make any assumptions about which string will be returned.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T08:16:51.210

Each enum variable in .net map to integer value so from that only it get to know which type to return

[MSDN- enum (C# Reference)](http://msdn.microsoft.com/en-us/library/sbbt4032%28v=vs.80%29.aspx)

```
The default underlying type of the enumeration elements is int. By default, the
first enumerator has the value 0, and the value of each successive enumerator is 
 increased by 1. 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T22:15:10.477

The answer for something like this is - undefined. You may find that the answer changes from version to version, or even machine to machine (less likely). While the question is interesting - you should NEVER rely on any particular answer being produced in a situation like this. There are plenty of other ways to go about that you are trying to do.

Like:

```
 private enum MainColor
    {
        Red,
        Green, 
        Blue, 
    }

   private enum Color
   {
        Red = MainColor.Red,
        Green = MainColor.Green, 
        Blue = MainColor.Blue, 
        Brown = MainColor.Red, 
   } 
```

You can then cast back to MainColor and get a definitive answer.

It seems to me that it is coming up with an the first match it finds based on some kind of hashed list. The details should never matter to your code.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T08:32:56.860

Instead of your enum try this :

```
 private enum Color
    {  
         Red,
         Green,BLUE,black,brown = Red,gray  
    } 
```

Observations :

```
1) (Color)0 : Red  
2) (Color)1 : Green   
3) (Color)2 : BLUE  
4) (Color)3 : black 
```

so CLR will take it in the order which they come in enum.

# java - 将外国字符（希腊语）转换为英语字符。

> ID：11590596
> 
> 赞同：1
> 
> 时间：2012-07-21T08:14:44.373
> 
> 标签：java, string, jtextfield

我正在安装警报，但它们有一个界面，我必须为各个区域命名。问题是他们只能接受英语中不存在的希腊字符，否则他们必须是英语的等价物。例如，如果我写“ΠΑΡΑΘΥΡΟ”，字符 1,2,3,5,6,7 必须用英文输入，因为在外观上与希腊字符相同。但是字符 0 和 4 只能是希腊语。我只关心大写字母。关于如何使用 2 个简单的 jtextfields 的任何想法？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T09:25:36.700

使用 HashMap 来翻译字符。由于问题域很小并且可能永远不会改变，因此对地图的内容进行硬编码是合理的，如下所示：

```
private static final Map<Character, Character> GREEK_TO_ROMAN = new HashMap<>();
static {
    GREEK_TO_ROMAN.put('\u0391', '\u0041');  // uppercase alpha
    GREEK_TO_ROMAN.put('\u03A1', '\u0050');  // uppercase rho
    // ...
} 
```

然后获取输入字符串的字符数组，根据需要翻译字符，并从更改后的数组中创建一个新字符串：

```
String s = "ΠΑΡΑΘΥΡΟ";
char[] chars = s.toCharArray();
for (int i = 0; i < chars.length; i++) {
    Character repl = GREEK_TO_ROMAN.get(chars[i]);
    if (repl != null)
        chars[i] = repl;
    }
s = new String(chars); 
```

JTextField 将如何发挥作用我不太清楚，但也许如果你愿意，你可以将它子类化，覆盖该`getText()`方法并确保它产生的任何 String 都已转换。

# python - 如何在 Django 中为模型和视图定义常量

> ID：11590597
> 
> 赞同：2
> 
> 时间：2012-07-21T08:14:52.040
> 
> 标签：python, django, view, model, constants

如何定义一个常量，以便在views.py 和models.py 中可用？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T08:19:08.143

您可以将其`const.py`放入视图和模型中并将其导入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T23:56:33.013

views.py 很可能会导入models.py，因此通常建议放入models.py 常量和任何其他代码，以便从views.py、forms.py 或应用程序内的任何其他模块中使用。

# iphone - Xcode，确保块之后的代码稍后运行以用于 NSURLConnection 异步请求

> ID：11590601
> 
> 赞同：1
> 
> 时间：2012-07-21T08:15:03.943
> 
> 标签：iphone, xcode, asynchronous, objective-c-blocks, nsurlrequest

您好：我一直在编写一个 iOS 程序，它使用许多对后端 Rails 服务器的 http 查询，因此有大量如下所示的代码。在这种情况下，它正在更新`UITableView`：

```
//making requests before this...
NSOperationQueue* queue = [[NSOperationQueue alloc] init];
[NSURLConnection sendAsynchronousRequest:request queue:queue completionHandler:^(NSURLResponse* response, NSData* data, NSError* error)
{
    NSLog(@"Request sent!");

    NSHTTPURLResponse* httpResponse = (NSHTTPURLResponse*)response;
    NSLog(@"Response code: %d", [httpResponse statusCode]);
    if ([data length] > 0 && error == nil){
        NSLog(@"%lu bytes of data was returned.", (unsigned long)[data length]); }
    else if ([data length] == 0 &&
             error == nil){
        NSLog(@"No data was returned.");
    }
    else if (error != nil){
        NSLog(@"Error happened = %@", error); }

    id jsonObject = [NSJSONSerialization JSONObjectWithData:data options:NSJSONReadingAllowFragments error:&error];
    if (jsonObject != nil && error == nil){
        NSLog(@"Successfully deserialized...");
        if ([jsonObject isKindOfClass:[NSDictionary class]]){
            NSDictionary *deserializedDictionary = (NSDictionary *)jsonObject;
            NSLog(@"Dersialized JSON Dictionary = %@", deserializedDictionary);
            [listOfItems addObject:deserializedDictionary];
        }
        else if ([jsonObject isKindOfClass:[NSArray class]]){
            NSArray *deserializedArray = (NSArray *)jsonObject; 
            NSLog(@"Dersialized JSON Array = %@", deserializedArray);
            [listOfItems addObjectsFromArray:deserializedArray];
        }
        else {
            /* Some other object was returned. We don't know how to deal
             with this situation as the deserializer only returns dictionaries
             or arrays */ }
    }
    else if (error != nil){
        NSLog(@"An error happened while deserializing the JSON data., Domain: %@, Code: %d", [error domain], [error code]); 
    }
    [self.tableView performSelectorOnMainThread:@selector(reloadData) withObject:nil waitUntilDone:YES];
}];
//the place where never runs
NSLog(@"End of function."); 
```

这是问题所在：最后一行通常在代码块之前执行。如何确保块后的代码实际上在块之后运行？

我知道该块使用其他一些线程，这就是为什么我使用`performSelectorOnMainThread`函数而不是直接调用`[self.tableView reloadData]`. 但是，如果我以后想做其他事情，我该怎么做？

另外，任何人都可以展示一些更好的方法来做到这一点吗？我正在尝试找出对后端进行大量调用的最佳方法。有几种方法可以发出异步请求，包括这种阻塞方式和另一种调用委托类的老式方式。在重构代码的过程中，我还尝试创建自己的委托类并让其他类调用它，但是很难确定回调函数针对它返回的连接数据的正确行为，尤其是对于使用多个函数的类调用不同的请求。而且我不想使用同步调用。

非常感谢任何答案。也欢迎指出代码中的任何错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:26:17.430

您可以使用调度组

示例代码：

```
- (void)doSomethingAndWait {
// synchronous method
// called in main thread is not good idea.
NSAssert(! [NSThread isMainThread], @"this method can't run in main thread.");

dispatch_group_t group = dispatch_group_create();
dispatch_group_enter(group);

//making requests before this...
NSOperationQueue* queue = [[NSOperationQueue alloc] init];
[NSURLConnection sendAsynchronousRequest:request queue:queue completionHandler:^(NSURLResponse* response, NSData* data, NSError* error)
{
    // your work here.

    dispatch_group_leave(group);
}];

// wait for block finished
dispatch_group_wait(group, DISPATCH_TIME_FOREVER);
dispatch_release(group);

//will call until block is finished.
NSLog(@"End of function.");
} 
```

要调用该方法，您需要避免在主线程中调用它。

你应该这样称呼它

```
dispatch_queue_t queue = dispatch_queue_create("com.COMPANYNAME.APPNAME.TASKNAME", NULL);
    dispatch_async(queue, ^{
        [self doSomethingAndWait];
    }); 
```

# bash - 在 bash 脚本中使用 awk 时没有输出

> ID：11590608
> 
> 赞同：0
> 
> 时间：2012-07-21T08:16:08.987
> 
> 标签：bash, awk

我的 bash 脚本是：

```
output=$(curl -s http://www.espncricinfo.com/england-v-south-africa-2012/engine/current/match/534225.html | sed -nr 's/.*<title>(.*?)<\/title>.*/\1/p')

score=echo"$output" | awk '{print $1}'
echo $score 
```

上面的脚本只`newline`在我的控制台中打印，而我需要的输出是

```
$ curl -s http://www.espncricinfo.com/england-v-south-africa-2012/engine/current/match/534225.html | sed -nr 's/.*<title>(.*
?)<\/title>.*/\1/p' | awk '{print $1}'

SA 
```

那么，为什么我没有从我的 bash 脚本中获得输出，而它在终端中运行良好，我是否`echo"$output"`以错误的方式使用它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T08:21:48.147

```
#!/bin/bash

output=$(curl -s http://www.espncricinfo.com/england-v-south-africa-2012/engine/current/match/534225.html | sed -nr 's/.*<title>(.*?)<\/title>.*/\1/p')
score=$( echo "$output" | awk '{ print $1 }' )

echo "$score" 
```

Score 变量可能为空，因为您的语法错误。

# android - 在 sql lite 查询中按 id 返回一行

> ID：11590616
> 
> 赞同：1
> 
> 时间：2012-07-21T08:18:00.900
> 
> 标签：android, sqlite

我创建了一个带有预填充 SQLite 数据库的 Android 应用程序（使用 SQLite 浏览器）。将文件复制到手机上的 /data 路径效果很好，但我似乎无法理解某些事情。

我需要从给定的 ID 中获取一行，在 TextViews 中设置这个结果，当给定另一个 ID 时，用新的结果更新 TextViews。这当然应该很容易，所以我已经阅读了从教程到 Android 开发网站和 SO 上的信息的所有内容。出于某种原因，我似乎不明白这一点。有人可以帮助我开始使用这个或将我链接到一些解释这种特殊情况的资源吗？

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T08:28:54.160

使用 Cursor 从数据库中获取数据

```
 Database db = new Database(this);   

  Cursor yourdata = db.getDetails(this);
  if(yourdata!=null)
  {
  yourdata.moveToFirst();
   String value= cursor.getString(cursor.getColumnIndex(databaseColumn);
   TextView youtextview = (TextView) findViewById(R.id.textview);
   youtextview .setText(value);
  } 
```

在数据库类中创建 getDetails() 方法。

```
 public Cursor getDetails(Activity youactivity,
        int projectid) { 
    SQLiteDatabase db = getReadableDatabase();
    String from[] = { YourColumn}; 
    String where = ID+"="+projectid;
    Cursor cursor = db.query(true, Table, from, where, null, null, null, null, null); 
    return cursor;  
} 
```

希望能帮助到你

# c# - 在 C# 的字符串数组中选择第一个 5 个字符

> ID：11590617
> 
> 赞同：4
> 
> 时间：2012-07-21T08:18:11.613
> 
> 标签：c#

我想从字符串数组列表中选择第一个 5 个字符，

```
List<string> strDetailIDList = new List<string>();
foreach(DataRow row in ds.Tables[0].Rows)
{
   strDetailIDList.Add(row.ToString());
}              
str=strDetailIDList.ToArray(); 
```

现在 str 包含类似的列表

```
FOCMM001
FOCMM002
FOCMM003
FOCMM004
FOCMM005
FOCMM006
FOCSM013
FOCSM014
FOCSM015
FOCSM016
FOCSM017
FOCSM018
FOCSM019
SC1LN001
SC1LN002
SC1LN003
SC1LN004
SC1LN005
SC1LN006 
```

从这个列表中我想选择第一个 5 个字符并计算 FOCMM-6、FOCSM-6、SC!LN-6。请提出一些想法。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-21T08:20:37.727

听起来你想要这样的东西：

```
var counts = list.GroupBy(x => x.Substring(0, 5))
                 .Select(g => new { Prefix = g.Key, Count = g.Count() });
foreach (var value in counts)
{
    Console.WriteLine("{0} - {1}", value.Prefix, value.Count);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T11:52:23.147

好吧，也许这可以帮助你。它仅在对列表进行排序时才有效，因为它似乎是由提供的示例。

```
int Count = 0;
List<String> Result = new List<String>();
String LastString= "";
for(int loop=0;loop<strDetailIDList.Count; loop++)
{
    if(LastString!=strDetailIDList[loop].Substring(5))
    {
        if(LastString!="") 
        {
             Result.Add(LastString+"-"+Count);
        }
        LastString=strDetailIDList[loop].Substring(5);
        Count = 1;
    }
    else Count++;
} 
```

现在“结果”列表中包含您需要在标签上显示的文本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T08:42:53.250

如果要在标签中显示，只需将 ConsoleWriteLine 更改为：

```
foreach (var value in counts)
{
    label1.Text +=  string.Format(("{0} - {1}\r\n", value.Prefix, value.Count));
} 
```

如果您只想在一行中显示，请从上面的代码行中删除“\r\n”

# javascript - 如何使用 JavaScript 截取部分谷歌地图的截图

> ID：11590620
> 
> 赞同：9
> 
> 时间：2012-07-21T08:18:34.970
> 
> 标签：javascript, google-maps, canvas

在我的页面上，有一个使用 Google Maps API 显示地图的容器，它下面有一个按钮，用户可以将地图拖到一个位置，然后单击按钮，我想截取地图现在显示在容器中并将其显示在画布中。可以用纯 JavaScript 做到这一点吗？

只需要支持Chrome

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-07-21T08:21:21.857

没有浏览器支持将很难做到。但您可以使用 Google 静态地图 API： [https ://developers.google.com/maps/documentation/staticmaps/](https://developers.google.com/maps/documentation/staticmaps/)

示例：[https ://developers.google.com/maps/documentation/staticmaps/#quick_example](https://developers.google.com/maps/documentation/staticmaps/#quick_example)

* * *

有一些项目可以将 HTML DOM 绘制到画布上：

*   HTML2Canvas：[http ://html2canvas.hertzen.com/index.html](http://html2canvas.hertzen.com/index.html)
*   jsFeedback：[http ://hertzen.com/experiments/jsfeedback/](http://hertzen.com/experiments/jsfeedback/)

您还可以将 javascript 与一些服务器端解决方案（使用 webkit）集成，例如[phantomjs](http://code.google.com/p/phantomjs/)

代码示例：（[在这里](http://pielmeier.blogspot.com/2011/02/headless-html-page-rendering-with.html)阅读更多）

```
var page = require('webpage').create();

page.open('http://www.google.com', function() {

    page.viewportSize = {width: 1024, height: 768};
    page.render('screenshot.png');
    phantom.exit();
}); 
```

* * *

如果您只需要针对特定​​范围的用户的 chrome 解决方案，您可以编写自己的 chrome 扩展来执行此操作：[使用 javascript 为 chrome 扩展截屏](https://stackoverflow.com/questions/4573956/taking-screenshot-using-javascript-for-chrome-extensions)

# c++ - 如何使 STL 的 priority_queue 固定大小

> ID：11590624
> 
> 赞同：12
> 
> 时间：2012-07-21T08:19:07.387
> 
> 标签：c++, stl, std

我正在创建一个简单的游戏，用于向**小队**`std::priority_queue`发出**命令** （每个小队都有一个）。**`priority_queue<command>`**

 **机器人每 20 秒分析一次情况并向`priority_queue`.

如何使`priority_queue`固定大小，例如，将大小设置为 10？期望的效果是，当达到最大值时，如果我将 2 个新命令添加到队列中，则会自动删除 2 个具有最低优先级的现有命令。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-21T08:20:43.080

将它包装在另一个将为您执行此操作的类中。该标准本身不提供此类功能。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2017-06-28T04:58:10.783

[Aryabhatta 对另一个问题的回答](https://stackoverflow.com/questions/2933758/priority-queue-with-limited-space-looking-for-a-good-algorithm)适用于这个问题。

> 您使用最大堆。
> 
> 假设您有一个 N 元素堆（实现为数组），其中包含迄今为止看到的 N 个最小元素。
> 
> 当一个元素进入时，您检查最大（O（1）时间），如果它更大，则拒绝。

前面几个评论提到的迭代是不必要的。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-07-21T14:37:29.320

这是偷偷摸摸的，但你应该能够覆盖的功能`std::priority_queue`来做你需要的。这似乎适用于我所做的一些测试：

```
template<typename T>
class fixed_priority_queue : public std::priority_queue<T> 
{
  public:
    fixed_priority_queue(unsigned int size) : fixed_size(size) {}
    void push(const T& x) 
    { 
      // If we've reached capacity, find the FIRST smallest object and replace
      // it if 'x' is larger
      if(this->size() == fixed_size)
      {
        // 'c' is the container used by priority_queue and is a protected member.
        auto beg = c.begin(); auto end = c.end();
        auto min = std::min_element(beg, end);
        if(x > *min)
        {
            *min = x;
            // Re-make the heap, since we may have just invalidated it.
            std::make_heap(beg, end);
        }
      }
      // Otherwise just push the new item.
      else          
      {
        priority_queue::push(x);
      }
    }
  private:
    fixed_priority_queue() {} // Construct with size only.
    const unsigned int fixed_size;
    // Prevent heap allocation
    void * operator new   (size_t);
    void * operator new[] (size_t);
    void   operator delete   (void *);
    void   operator delete[] (void*);
}; 
```

这里发生了什么事？

*   扩展`std::priority_queue`类
*   覆盖`priority_queue::push()`方法，用新项目交换最低项目
*   默认构造函数是私有的，没有大小就没有构造
*   限制堆上的分配，因为 STL 容器没有虚拟析构函数。

要使用：

```
const unsigned int LIMIT = 20;
fixed_priority_queue<int> fooQueue(LIMIT);

// Testing.
for(int i=0; i<40; i++)
  fooQueue.push(rand());
for(int i=0; i<LIMIT; i++)
{
  printf("%i\n", fooQueue.top());
  fooQueue.pop();
} 
```

这里有什么不好？

*   那么你不能安全地在堆上创建这些队列，所以大队列可能是不可能的。20 左右，正如你提到的，无论如何在堆栈上应该没问题（取决于对象）。我可能会避免大排长队，因为...
*   我不确定这里的表现。`priority_queue`调用`make_heap`底层容器（默认为 std::vector）。我不确定它*通常*多久调用一次，但如果队列已满，我们会经常调用它。我认为它也可以在内部调用`priority_queue::push()`？
*   可能*还有**很多***其他的东西，所以我欢迎读者的所有建设性反馈和编辑:)

希望这是有用的，如果不是至少有趣的话。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-10-05T21:41:56.397

一种想法是创建一个最小优先级队列并使用 size() 方法仅将优先级队列填充到所需的级别。像这样的东西：

```
#include <iostream>
#include <vector>
#include <queue>

using namespace std;

struct Compare {
    // priority queue is max heap by default, use compare
    // to make it minheap
    bool operator() (const int& a, const int& b) {
        return a>b;
    }
};

typedef priority_queue<int, vector<int>, Compare> pqSize;

void priorityQueueFixedSize(pqSize& pq, int size, vector<int>& vec) {
    for (int i=0;i<vec.size();i++) {
        if (pq.size() < size) {
            pq.push(vec[i]);
        } else {
            if (vec[i] > pq.top()) {
                pq.pop();
                pq.push(vec[i]);
            }
        }
    }
}

void printPQ(pqSize& pq) {
    while (!pq.empty()) {
        cout << pq.top() << " ";
        pq.pop();
    }
    cout << endl;
}

int main() {
    vector<int> vec(20,0);
    for (int i=0;i<vec.size();i++) {
        vec[i] = i;
    }
    pqSize pq;
    priorityQueueFixedSize(pq,10, vec);
    printPQ(pq);
} 
```

这样，优先级队列中只会保留最多 10 个元素。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-10-18T05:22:39.180

该标准提供了一组原始堆操作：

```
make_heap
sort_heap
push_heap
pop_heap 
```

我们可以将它包装在一个简单的类中，该类具有`Command[10]`or`std::array<Command, 10>`作为其数据成员，或者以较低级别的方式简单地使用上面的四个函数。

我个人建议不要将它包装在一个函数中，因为您可能希望采用 ECS 模式并对您的命令应用更多可能的操作，而不仅仅是作为优先级队列。众所周知，如果您使用优先级队列，则可能会有不必要的复制或移动。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-01-04T08:40:13.833

有点棘手的解决方案是不使用 std::priotity_queue，而是使用大小为 N+1 的 std::array，其中只有前 N 个元素是真正的队列。而不是替换具有最低优先级的元素，而是用`queue.back()`新命令覆盖。然后`pop_queue(q.begin(), q.end())`将新命令添加到队列中。

这是我的代码，它有效：

```
int main() {
    std::array<int, 10> queue;
    queue.fill(500);

    for(int i = 0; i < 1000; i++)
    {
        queue.back() = rand() % 1000;
        pop_heap(queue.begin(), queue.end(), std::greater<int>());
        //print_queue(queue);
        assert(is_heap(queue.begin(), queue.end()-1, std::greater<int>()));
    }
} 
```

另一件事是，您的规范是否是您真正想要的。不要忘记将年龄添加到优先级中。如果你不这样做，那么在一百万次迭代之后，你将拥有 10 个元素，具有最高优先级。何时将它们添加到队列中无关紧要。**

# cryptography - 签署厨师食谱文件部分以防止篡改的策略

> ID：11590626
> 
> 赞同：2
> 
> 时间：2012-07-21T08:19:53.097
> 
> 标签：cryptography, code-signing, chef-infra

我正在寻找社区关于解决此问题的最佳方法的建议：

1.  我在 git 中收集了厨师食谱，定义了实验室，例如 jenkins CI 设置，人们可以根据自己的用途进行分叉和定制

2.  但是，我可以预见到有人可能想要添加食谱的某些不可变部分的情况，例如防火墙设置

3.  什么策略可以锁定文件的某些部分以验证它没有被更改，同时允许在此之外进行任意更改

4.  理想情况下，如果需要，它还可以解决混淆部分的能力

我是否会将我自己的 DSL 添加到代码中 - 每个受保护块的校验和 - 在将其传递给厨师之前对其进行预处理以解包和验证它？

例如，我第一次尝试一种格式 - 仍然不能解决人们只是删除所有签名部分的问题 - 除非每个文件都必须签名

```
#---SIGNED-FILE SHA-256 507e74380188c07bad2fa66acb8cbbeeb63f84fcee5fd639499575654239cd49

#
# Cookbook Name:: jenkins
# Recipe:: default
#

# https://wiki.jenkins-ci.org/display/JENKINS/Installing+Jenkins+on+Ubuntu
# This is super-simple, compared to the other Chef cookbook I found
# for Jenkins (https://github.com/fnichol/chef-jenkins).
#
# This doesn't include Chef libraries for adding Jenkin's jobs via
# the command line, but it does get Jenkins up and running.

include_recipe "apt"
include_recipe "java"

#---SIGNED-SECTION-START SHA-256 e4d3d02f14ee2a6d815a91307c610c3e182979ce8fca92cef05e53ea9c90f5c7
apt_repository "jenkins" do
  uri "http://pkg.jenkins-ci.org/debian"
  key "http://pkg.jenkins-ci.org/debian/jenkins-ci.org.key"
  components ["binary/"]
  action :add
end
#---SIGNED-SECTION-END

#---OBFUSCATED-SECTION-START SHA-256 5f536f2137dc7e2c5817de861d1329ead72b1e9d2dbb9dbe181ec7bc274dddeb
YXB0X3JlcG9zaXRvcnkgImplbmtpbnMiIGRvCiAgdXJpICJodHRwOi8vcGtnLmplbmtpbnMtY2kub3JnL2RlYmlhbiIKICBrZXkgImh0dHA6Ly9wa2cuamVua2lucy1jaS5vcmcvZGViaWFuL2plbmtpbnMtY2kub3JnLmtleSIKICBjb21wb25lbnRzIFsiYmluYXJ5LyJdCiAgYWN0aW9uIDphZGQKZW5k
#---OBFUSCATED-SECTION-END

package "jenkins"

service "jenkins" do
  supports [:stop, :start, :restart]
  action [:start, :enable]
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-02T10:03:53.840

文件以签名部分开头的设计如何，描述将在整个文件中找到的签名实体。然后，您的解析代码将需要检查每个实体是否按照描述存在并且未被删除。

为了防止重放攻击，您需要在每个签名中包含一个时间戳，并在每次更改任何已签名部分时重新计算整个文件的签名。因此，文件仅在以下情况下有效：

*   “标题”中描述的签名实体存在于文件中。

*   每个签名都验证并包含相同的时间戳。

*   *可选*：签名时间戳匹配（在可接受的增量内）文件时间戳？

剩下的风险是有人用以前的版本替换了整个文件（即有效地删除了他们不喜欢的新部分）。我不确定您如何防御这种情况，除非按照上面的建议检查文件时间戳。

*注意。我的回答对创建和解析文件时可以实现的目标做出了假设。我可能误解了您环境的限制（我不熟悉 git），如果是请忽略我！*

# php - 如何在 HTTP POST 请求中传递图像并插入数据库表

> ID：11590630
> 
> 赞同：2
> 
> 时间：2012-07-21T08:20:04.890
> 
> 标签：php, html, post, attachment

我需要将表单值检索到`insert.php`文件中，以便将它们存储在数据库中。然而，表单中的元素之一是文件选择器对话框，用于上传 JPG 或其他文件格式的图像文件。

我在网上找到此代码通过发布请求发送图像，但无法使其正常工作

```
$pic=($_FILES['photo'][image']); 
```

它只显示文件名而不是实际文件本身

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T08:42:25.543

首先，您需要将`enctype`属性添加到 HTML 表单中。像这样：

```
<form action="page.php" method="post" accept-charset="utf-8" enctype="multipart/form-data">
    <input type="file" name="photo" id="photo" />
    <input type="submit" value="Upload" />
</form> 
```

接下来，当这将在下一页发送时，使用`$_FILES`全局数组而不是`$_POST`数组来检索图像。

```
<?php
    move_uploaded_file( $_FILES['photo']['tmp_name'], "/var/www/image.jpg" );
    echo("<img src='image.jpg'");
?> 
```

所有文本数据都将使用 发送，`$_POST`但文件将使用 传输`$_FILES`。

**编辑：**如果您进一步想在表中插入这个上传的数据（尽管这不推荐并且会造成巨大的性能损失）

```
$image = file_get_contents( "/var/www/image.jpg" );
$image = addslashes( $image );
...
$sql = "INSERT INTO pictures(image) VALUES('" . $image . "')";
//remaining MySQL and PHP code 
```

**注意：**这里我考虑`/var/www`将其配置为Linux 机器上的默认**localhost的 web 文件夹。**

# django - 向订阅用户提供基于文件的内容

> ID：11590637
> 
> 赞同：0
> 
> 时间：2012-07-21T08:21:19.743
> 
> 标签：django, amazon-s3

我正在构建一个网站，该网站仅在用户付费/订阅该内容时才向用户提供内容。

我将使用 Amazon S3 进行文件存储，并期待我试图了解如何确保用户在不付费的情况下无法直接访问我的内容。

我的服务器端是 Django。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:50:19.997

如果您打算使用 Amazon S3 进行文件存储，一个好的开始是阅读您选择的托管服务提供商文档以保护您的数据：

[http://aws.amazon.com/s3/#protecting](http://aws.amazon.com/s3/#protecting)

> Amazon S3 支持多种机制，让您可以灵活地控制谁可以访问您的数据，以及他们可以访问数据的方式、时间和地点。Amazon S3 提供四种不同的访问控制机制：身份和访问管理 (IAM) 策略、访问控制列表 (ACL)、存储桶策略和查询字符串身份验证。IAM 使拥有多名员工的组织能够在单个 AWS 账户下创建和管理多个用户。借助 IAM 策略，您可以授予 IAM 用户对您的 Amazon S3 存储桶或对象的细粒度控制。您可以使用 ACL 有选择地添加（授予）个别对象的某些权限。Amazon S3 存储桶策略可用于添加或拒绝对单个存储桶中的部分或所有对象的权限。使用查询字符串认证，您可以通过在预定义过期时间有效的 URL 共享 Amazon S3 对象。[...]

# android - API 11 之前的 MultiChoiceMode

> ID：11590640
> 
> 赞同：14
> 
> 时间：2012-07-21T08:21:22.980
> 
> 标签：android, actionbarsherlock

我使用 ActionBarSherlock 在我的 Android 应用程序中实现 ActionMode。使用 ABS 可以在 API 11 之前构建 ActionMode，但简单的方法是： `listView.setMultiChoiceModeListener( new MultiChoiceModeListener() ...` 不适用于 API 11 之前的应用程序。有没有人在 API 11 之前构建 Action Mode 上下文菜单的好方法？我想长按一个列表项并启动我可以单击多个项目的动作模式。只需单击一下，我就会显示列表项的详细站点。我使用该`registerForContext()`方法，但这会进行简单而长按。

有没有人给我一个好的提示。

**编辑**
我的问题的解决方案如下：在长项目上单击我激活操作模式并将其保存在变量中。在 on item click 方法中，我实现了一个 if-else 语句：

```
if( actionMode == null )
{
   // open new activity or update second fragment
   showDetails( itemPosition );
}
else
{
   // update ui or close CAB if no item selected
   showCAB( itemPosition );
} 
```

showCAB(position) 方法更新 selectedItem 计数，突出显示项目背景等。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-22T17:01:09.863

好吧，我今天才这样做，感谢那个网站： http: [//www.miximum.fr/tutos/849-porting-the-contextual-anction-mode-for-pre-honeycomb-android-apps](http://www.miximum.fr/tutos/849-porting-the-contextual-anction-mode-for-pre-honeycomb-android-apps)

基本上，您只需将您的 ListView ChoiceMode 设置为`ListView.CHOICE_MODE_MULTIPLE`，设置一个`onItemClickListener`将检查在 ListView 上检查哪些项目并创建一个实现`ActionMode.Callback`将管理上下文 ActionBar 的私有类。

我让您继续阅读该博文，以查看所有详细信息以及一些代码！

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-12T18:51:14.263

您还可以查看[Google I/O 2012 应用程序](http://code.google.com/p/iosched/)。它是开源的，使用 ActionBarSherlock。他们开发了**ActionMode**相关类的兼容版本，可与 ABS 和 pre-honeycomb 设备一起正常工作。

特别是，看看：

*   [SessionsFragment](http://code.google.com/p/iosched/source/browse/android/src/com/google/android/apps/iosched/ui/SessionsFragment.java)类：显示ActionMode兼容版本的用法
*   [util.actionmodecompat](http://code.google.com/p/iosched/source/browse/#git/android/src/com/google/android/apps/iosched/util/actionmodecompat%253Fstate%253Dclosed)包：它包含兼容性 ActionMode 类

基本上，就像 ABS 一样，它们在可用时使用 ActionMode 的本机实现，并回退到旧设备上的自定义实现。

希望能帮助到你！

# php - 从 MySQL 在 PHP 中创建下拉菜单？

> ID：11590642
> 
> 赞同：1
> 
> 时间：2012-07-21T08:21:50.273
> 
> 标签：php, mysql

我对 PHP 和 MySQL 有一定的经验，所以我有点掌握了窍门，但是我有点试图获得一些可能超出我水平的东西（不太确定这方面的难度级别）。基本上，我希望创建 2 个下拉菜单来删除 MySQL 表中用户的访问权限。所以第一个下拉菜单将用于我拥有的用户列表，第二个下拉菜单将用于他们拥有的访问权限。我希望当我选择一个用户时，第二个下拉菜单只显示用户可以访问的选项，例如；

```
 <form name="form" method="post" action="access.php">
    <select name='user'>
    <?php 
require "sqlconfig.php"; // My SQL Configuration
$conn=mysql_connect($host, $user, $pass); // The Connection
$selectdb=mysql_select_db("$db"); // The Database
    $userlist1 = mysql_query("SELECT `Username` FROM `accounts` ORDER BY Username ASC");
        while ($userlist = mysql_fetch_array($userlist1)) {
        print "<option value='username'>$userlist[Username]</option>";
        }
    ?>
    </select>
<select name='task'>
<option value="notask" <?php if($_GET['task'] == notask) { echo "selected"; } ?>>Select a Task</option>
<option value="admin" <?php if($_GET['task'] == admin) { echo "selected"; } ?>>Administrator</option>
<option value="user" <?php if($_GET['task'] == user) { echo "selected"; } ?>>user</option>
<option value="guest" <?php if($_GET['task'] == guest) { echo "selected"; } ?>>Guest</option>
</select>
<input type="submit" value="Remove" />
    </form> 
```

我已经拥有表中的权限，每个值都是整数 0 表示假，1 表示真。所以基本上当从第一个菜单中选择用户时，我希望第二个菜单刷新，并且只显示他们拥有的 = 到 1 的值（这意味着他们拥有它），当然，当提交表单时，它会将选择的任务从 1 更改为 0，这意味着它会自行删除。

基本上，当用户被选中（例如；Joe）时，第二个菜单将刷新 Joe 拥有的任务（例如；Admin、User）。一旦我选择了一个任务然后单击删除，脚本应该发布用户名菜单，并获取在提交之前选择的任何任务，然后运行脚本以将“管理员”之类的用户字段从 1(true) 更新为 0(false )

谁能帮我用代码设置它，或者至少给我一个自己设置的方向？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:51:57.333

创建一个 div 并给它 a`id="result"`并在该 div 中放置一个空的选择标签。

然后使用 jQuery + Ajax，获取第二个下拉列表：

```
$('select[name="user"]').change(function(){
   var user = $(this).val();

   $.ajax({
      type:'post',
      url:'getSecondDropDown.php',
      data:'user='+user,
      success:function(result){
         $('div#result').html(result);
      }
   });

}); 
```

在您的“getSecondDropDown.php”文件中，包括以下内容：

```
<select name="task">
<?php
$user = $_POST['user'];
$q = mysql_query("SELECT task FROM tablename WHERE user=".$user.") or die();
while($r = mysql_fetch_array($q))
{ ?>
  <option value="<?php echo $r['task]; ?>"><?php echo $r['task]; ?></option>

<?php
}
?>
</select> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T08:25:40.387

您需要使用 JavaScript 来执行此操作。向服务器中的页面发送 AJAX 请求，该页面将为您获取用户的详细信息，然后将结果返回给 JavaScript。

在 JavaScript 中获得数据后，使用 DOM 操作来填充第二个`<select>`结果。

# android - ADT 更新后 Eclipse 没有响应

> ID：11590643
> 
> 赞同：0
> 
> 时间：2012-07-21T08:22:04.537
> 
> 标签：android, eclipse, adt

几个小时前，我刚刚使用 Help->Check For Updates 更新到 ADT (20.0.1)，现在`not responding`，只要我启动 eclipse，eclipse 就会进入旋转沙滩球的模式。我所能看到的只是状态栏中的一条消息，内容为`DDMS post-create init`.

还有人看到这个吗？我可以在某处查看日志以获取有关此故障的更多信息吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T08:29:01.407

我遇到了这个问题，就我的经验而言，这是由于工作区的 .metadata 文件夹中存在 .lock 文件。

我不知道您是否会得到解决方案，但请关闭 Eclipse 并从工作区中删除 .metadata.lock 文件。试试这个希望对你有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T10:35:06.740

格言 - 当没有任何工作时，重新启动！为我工作:)

# asp.net - 错误地删除了果园定义的视图

> ID：11590649
> 
> 赞同：0
> 
> 时间：2012-07-21T08:23:47.477
> 
> 标签：asp.net, asp.net-mvc-3, c#-4.0, view, orchardcms

为了进行一些更改，我通过 ORCHARD 的 Shape 模块创建了一个 VIEW，但后来我删除了它......

现在，当我运行我的网站时，它给了我错误“HTTP 404 - 您正在寻找的资源（或其依赖项之一）......”

我们如何恢复视图（如果视图名称未知）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:40:49.490

除了删除视图之外，您还必须执行其他操作。另外，您是否尝试重新启动应用程序池？

# http - 当我返回结果字符串以从支持 bean 中导航到另一个页面时，它是 GET 还是 POST 请求？

> ID：11590659
> 
> 赞同：0
> 
> 时间：2012-07-21T08:25:51.337
> 
> 标签：http, jsf-2, primefaces, managed-bean

我使用 mojarra 2.1.3、primefaces 3.2、netbeans 7.0.1。

当我们在这个 ViewScoped 托管 bean 方法中导航到结果 xhtml 时，结果 xhtml 是通过 HTTP GET 还是 HTTP POST 加载的？

```
 public String saveAll() {
    try {
        processPrincipalDistributorDealers();
        int res = saCompanyFacade.addCompany(sacompany, sacontacts, sacompanyproductallocations, saprincipaldistributordealers);
        if (res == 0) {
            return "/users/viewCompanies?faces-redirect=true";
        } else {
        ..... 
```

如果这是 POST，我会遇到浏览器后退按钮的问题，如果不是，那很好。

请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T12:44:41.120

返回正常结果时

```
return "outcome"; 
```

那么它不会改变当前的请求方法，在 JSF`UICommand`动作的情况下总是 POST。

返回重定向结果时

```
return "outcome?faces-redirect=true"; 
```

然后它基本上指示网络浏览器在结果上发送一个新的 GET 请求。您还会看到新 URL 反映在浏览器的地址栏中。这始终是 GET。

您还可以通过在 webbrowser 的开发人员工具集中检查 HTTP 流量来轻松跟踪它（在 Chrome/IE9/Firebug 中按 F12 并检查“Net”或“Network”部分以查看它）。

# javascript - Jquery 裁剪图像

> ID：11590661
> 
> 赞同：0
> 
> 时间：2012-07-21T08:26:07.747
> 
> 标签：javascript, jquery

我正在尝试使用此[http://odyniec.net/projects/imgareaselect/examples.html](http://odyniec.net/projects/imgareaselect/examples.html) Jquery Cropping 示例从 jquery 获取维度并将其发送到我的 java，因此 java 文件为我进行裁剪或我只是这样做它在客户端，但它对我不起作用这里是我写的代码[http://jsfiddle.net/UydpR/](http://jsfiddle.net/UydpR/)老实说我不知道​​我在做什么或我应该如何写这个，我想如果我只是说它会给我剩下的选择......任何帮助或代码示例都会被应用......我确实遵循了他们的文档，但我对此很陌生

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:09:15.773

从脚本中删除以下行：

```
onSelectEnd: someFunction 
```

为您提供的示例工作代码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<link rel="stylesheet" type="text/css" media="screen" href="css/imgareaselect-default.css"/>
<link rel="stylesheet" type="text/css" media="screen" href="css/imgareaselect-animated.css"/>
<link rel="stylesheet" type="text/css" media="screen" href="css/imgareaselect-deprecated.css"/>
<script type="text/javascript" src="scripts/jquery.min.js"></script>
<script type="text/javascript" src="scripts/jquery.imgareaselect.min.js"></script>

</head>
<body>
<div>

<img id="imgareaselect-selection" width="400" src="http://chrisharrison.net/projects/colorflower/Flower2medium.jpg" alt="My image" name="photo" />

</div>

<div style="position: absolute; overflow: hidden; z-index: 2; ">
<div style="position: absolute; font-size: 0px; " class="imgareaselect-selection"></div>
<div style="position: absolute; font-size: 0px; " class="imgareaselect-border1"></div>
<div style="position: absolute; font-size: 0px; " class="imgareaselect-border2"></div>
<div style="position: absolute; font-size: 0px; " class="imgareaselect-border3"></div>
<div style="position: absolute; font-size: 0px; " class="imgareaselect-border4"></div>
<div class="imgareaselect-handle" style="position: absolute; font-size: 0px; z-index: 1; width: 5px; height: 5px; "></div>
<div class="imgareaselect-handle" style="position: absolute; font-size: 0px; z-index: 1; width: 5px; height: 5px; "></div>
<div class="imgareaselect-handle" style="position: absolute; font-size: 0px; z-index: 1; width: 5px; height: 5px; "></div>
<div class="imgareaselect-handle" style="position: absolute; font-size: 0px; z-index: 1; width: 5px; height: 5px; "></div>
<div class="imgareaselect-handle" style="position: absolute; font-size: 0px; z-index: 1; width: 5px; height: 5px; "></div>
<div class="imgareaselect-handle" style="position: absolute; font-size: 0px; z-index: 1; width: 5px; height: 5px; "></div>
<div class="imgareaselect-handle" style="position: absolute; font-size: 0px; z-index: 1; width: 5px; height: 5px; "></div>
<div class="imgareaselect-handle" style="position: absolute; font-size: 0px; z-index: 1; width: 5px; height: 5px; "></div>
</div>
</body>
</html>​
<script type="text/javascript">
$(document).ready(function () {
    $('img').imgAreaSelect({
        handles: true,

    });
    $('img').imgAreaSelect({
    onSelectEnd: function (img, selection) {
        alert('width: ' + selection.width + '; height: ' + selection.height);
    }
});
$('img').imgAreaSelect({
    keys: { arrows: 15, ctrl: 5, shift: 'resize' }
});
});
</script>
<script src="http://www.google-analytics.com/ga.js" type="text/javascript"></script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-3683332-2");
pageTracker._initData();
pageTracker._trackPageview();
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T08:43:08.657

我不确定我是否完全理解你的问题。你想要以像素为单位的宽度吗？

在这种情况下，这很容易： var w = $('tag').width(); var h = $('tag').height();

现在你可以聪明地定义这些，比如说....

```
var w = $('tag').width() / $(window).width(); //is the percentage of the width of the browser that the picture has. 
```

然后它相当直接到 w*.5，将浏览器的宽度减少 2 等。

如果您需要更多，请详细说明。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T09:37:14.840

您的小提琴设置不正确。您使用 mootools 而不是 jQuery。首先，你必须改变这一点。你的代码也有很多问题，所以你必须改变它。

您可以在此 Fiddle 中查看带有裁剪图像的版本：

[http://jsfiddle.net/UydpR/2/](http://jsfiddle.net/UydpR/2/)

如果您添加一个带有隐藏字段的表单和一个类似下面代码的 php 文件，您可以提交选择坐标。我还没有尝试过，但是脚本的开发者做了这个例子。

将带有隐藏字段（名称如下所列）的表单添加到您的 HTML 代码中。

将此添加到 javascript 代码中：

```
$(document).ready(function () {
$('#ladybug').imgAreaSelect({
    onSelectEnd: function (img, selection) {
        $('input[name="x1"]').val(selection.x1);
        $('input[name="y1"]').val(selection.y1);
        $('input[name="x2"]').val(selection.x2);
        $('input[name="y2"]').val(selection.y2);            
    }
}); 
```

});

确保你已经制作了一个 php 文件并且。将表单数据提交到您的 PHP 文件，然后用它做您喜欢的事情。

**在这里你可以找到教程： http: [//odyniec.net/projects/imgareaselect/examples-callback.html#submitting-selection-coordinates-demo](http://odyniec.net/projects/imgareaselect/examples-callback.html#submitting-selection-coordinates-demo)**

# mysql - 在 MySQL 中表示票价表

> ID：11590664
> 
> 赞同：0
> 
> 时间：2012-07-21T08:27:13.887
> 
> 标签：mysql, sql, database, excel, pivot-table

我正在开发公共汽车运输系统的预订系统。我在将 Fare 表表示为 MySQL 中的表时遇到了困难。下面附上了以电子表格文件形式提供给我的一条特定路线的票价表示例。请让我知道如何将其表示为 MySQL 表。

请注意，这只是指定路线之一的一部分。实际路线有40多个地点，这样的路线有30多个。所以，我希望以某种方式将这个excel表导出到SQL中。

```
location1   |           |           |           |
0.100       | location2 |           |           |    
0.200       | 0.200     |location3  |           |
0.300       | 0.300     |0.200      |location4  |           
0.500       | 0.500     |0.400      |0.300      |location5  |       
0.500       | 0.500     |0.400      |0.300      |0.200      |location6 
```

这里从 location1 到 location 3 的票价是 0.200，从 location3 到 location6 的票价是 0.400。

请让我知道一旦实施，我如何从 MySQL 表中查询给定源和目标的费率。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T08:38:58.713

正如：

```
RATES
location_from
location_to
price 
```

抬头看：

```
SELECT price FROM rates WHERE location_from=3 AND location_to=4 
```

将返回：0.400

总是输入 location_form 最低的，所以永远不要加 4、3。然后你得到双记录。

但是根据您的需要，您也可以使用距离并计算它们。完全取决于您的业务需求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T12:03:00.930

我设法在 Excel 中使用以下 VB 宏将其转换为表格，该表格通过一些文本处理转换为 MySQL 查询以将其插入数据库

```
Sub ReversePivotTable()
'   Before running this, make sure you have a summary table with column headers.
'   The output table will have three columns.
    Dim SummaryTable As Range, OutputRange As Range
    Dim OutRow As Long
    Dim r As Long, c As Long

    On Error Resume Next
    Set SummaryTable = ActiveCell.CurrentRegion
    If SummaryTable.Count = 1 Or SummaryTable.Rows.Count < 3 Then
        MsgBox "Select a cell within the summary table.", vbCritical
        Exit Sub
    End If
    SummaryTable.Select
    Set OutputRange = Application.InputBox(prompt:="Select a cell for the 3-column output", Type:=8)
'   Convert the range
    OutRow = 2
    Application.ScreenUpdating = False
    OutputRange.Range("A1:C3") = Array("To", "From", "Fare")
    For r = 2 To SummaryTable.Rows.Count
        For c = 2 To SummaryTable.Columns.Count
            If SummaryTable.Cells(r, c) <> Empty And IsNumeric(SummaryTable.Cells(r, c)) Then
                OutputRange.Cells(OutRow, 1) = SummaryTable.Cells(r, r)
                OutputRange.Cells(OutRow, 2) = SummaryTable.Cells(c, c)
                OutputRange.Cells(OutRow, 3) = SummaryTable.Cells(r, c)
                OutputRange.Cells(OutRow, 3).NumberFormat = SummaryTable.Cells(r, c).NumberFormat
                OutRow = OutRow + 1
            End If
        Next c
    Next r
End Sub 
```

这将给我 3 列说明 location_from、location_to 和 price，如 @luc-franken 所述。我将其保存为 CSV 文件，并通过一些正则表达式替换设法将其转换为 MySQL 查询。

# c++ - 如何在一个 vs2008 项目中将库与 __stdcall 和 __cdecl 结合起来

> ID：11590668
> 
> 赞同：2
> 
> 时间：2012-07-21T08:27:26.410
> 
> 标签：c++, visual-studio-2008, linker, calling-convention, .lib

我想在我的项目中使用两个 3rd 方库，但一个是使用 __stdcall 约定编译的，另一个是使用 __cdecl 编译的。无论我将项目属性设置为什么，LINKER 都无法链接一个或另一个库。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T08:30:39.793

调用约定*外部*代码编译应该是无关紧要的。只要使用正确的约定声明了适当的函数，您为自己的代码使用的约定就无关紧要，无论您做出什么选择，它都会起作用。

# java - 在 Java 中复制 java.util.Stack

> ID：11590669
> 
> 赞同：3
> 
> 时间：2012-07-21T08:27:28.020
> 
> 标签：java, copy, stack

我正在寻找一种`java.util.Stack`在 Java 中复制的正确方法。

`Stack`似乎没有复制构造函数，我设法在文档中找到的唯一可能做我想做的事情就是`clone`方法。

但是，如果我写

```
Stack<Integer> stack = (Stack<Integer>) oldstack.clone(); 
```

编译器给我一个关于未检查类型的警告。

我是否有一种“正确”的方式来复制 a `Stack`？如果不是，这里最明智的做法是什么？我宁愿没有任何警告，而且我觉得迭代和复制值有点愚蠢（尽管后者可能是最明智的做法）。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-21T08:29:43.877

你可以使用`addAll`，我猜：

```
Stack<Integer> stack = new Stack();
stack.addAll(oldStack); 
```

但是，文档说明您应该优先使用 Deque 而不是 Stack 类，并且您可以立即获得所需的内容：

```
Deque<Integer> stack = new ArrayDeque<Integer>(oldStack); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T12:52:41.177

使用没有任何问题`clone`。编译器给你一个错误，你有一个**未处理**的（不是未经检查的）异常`CloneNotSupportedException`。这只是 Java 及其检查异常的标准故事，它不应该成为不使用`clone`. 虽然整个`clone`机制在今天确实被视为过时，并且仅由 Java 标准库中最古老的类实现，但它确实适用于这些类，并且具有比替代方案（本机内存复制）更高性能的潜在好处）。

# php - 使用 php 突出显示背景

> ID：11590670
> 
> 赞同：0
> 
> 时间：2012-07-21T08:27:31.497
> 
> 标签：php, html

我的菜单栏有这个 div，我想要的是：

```
<div class="menu_nav" style="float:left; margin-bottom: 0px; padding:0px; font-family:verdana; font-size:16px;width: 100%; background-color: rgb(37,198,255);">
        <ul>
          <li> 
            <div class="menu1a">
              <a class="menu3a" href="<?=$HOME_DIR?>/index.php">
                 <span class="menu2a">Home</span>
              </a>
            </div>
      </li>
      <li>
        <div class="menu1">
          <a class="menu3" href="<?=$PUBLIC_DIR?>/about.php">
             <span class="menu2">About</span>
          </a>
        </div>
      </li>
      <li>
        <div class="menu1">
          <a class="menu3" href="<?=$PUBLIC_DIR?>/myaccount.php">
             <span class="menu2">MyAccount</span>
          </a>
        </div>
      </li>         

          <li style="color:black;font-family:verdana;font-size:13px;float:right;padding-top:5px;">
               <?php
               if(isset($_SESSION['user']) && $_SESSION['user']!="")
                  {
                     echo "<div style='float:left;'>Hello, ".$_SESSION['name']."</div>  <div id='logout' style='float:left;margin-left:20px;' > 
                     Log Out</div>";
                   } 
               ?>
           </li>   
        </ul>
      </div> 
```

我想根据我们在 url 中的类别更改菜单按钮的类别：

我尝试如下：

```
<?php
$url=$_SERVER['REQUEST_URI'];
echo "$url";
if($url=="/signed/public/about.php")
{

}
else if($url="/signed/public/myaccount.php"){

}
else
?> 
```

但我不知道如何更改它们的类，即，如果我在 about.php 页面中，应该突出显示 about 按钮，即，当我在在 myaccount.php 这个按钮应该得到这些类。否则应该突出显示主页按钮...

请指导我尽快为此编写php代码...在此先感谢...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T08:35:56.597

首先，为所选项目创建 CSS：

```
.selected{background:orange;} 
```

然后创建一个简单的 PHP 函数来突出显示：

```
function currentNav($url){
 if($_SERVER['REQUEST_URI']==$url){
  return 'selected';
 }
} 
```

将该函数放在每个`<li>`：

```
 <li>
    <div class="menu1">
      <a class="menu3" href="<?=$PUBLIC_DIR?>/myaccount.php">
         <span class="menu2 <?=currentNav('/signed/public/about.php')?>">MyAccount</span>
      </a>
    </div>
  </li> 
```

你可以修改它。但你明白了。

* * *

**更新**：要使用您现有的做事方式......

首先创建一个url数组：

```
 <?php
 $urls=array(
   'home'    => '/signed/public/index.php',
   'about'   => '/signed/public/about.php',
   'account' => '/signed/public/myaccount.php'
 ); 
```

然后创建您当前的导航功能：

```
<?php
function cn($url){
 global $urls;
  return ($_SERVER['REQUEST_URI']==$urls[$url])?'a':'';
}
?> 
```

在每个列表中：

```
 <li>
    <div class="menu1<?=cn('about')?>">
      <a class="menu3<?=cn('about')?>" href="<?=$PUBLIC_DIR?>/myaccount.php">
         <span class="menu2<?=cn('about')?>">MyAccount</span>
      </a>
    </div>
  </li> 
```

所以你的整个清单是：

```
 <ul>
      <li> 
        <div class="menu1<?=cn('home')?>">
          <a class="menu3<?=cn('home')?>" href="<?=$HOME_DIR?>/index.php">
             <span class="menu2<?=cn('home')?>">Home</span>
          </a>
        </div>
  </li>
  <li>
    <div class="menu1<?=cn('about')?>">
      <a class="menu3<?=cn('about')?>" href="<?=$PUBLIC_DIR?>/about.php">
         <span class="menu2<?=cn('about')?>">About</span>
      </a>
    </div>
  </li>
  <li>
    <div class="menu1<?=cn('account')?>">
      <a class="menu3<?=cn('account')?>" href="<?=$PUBLIC_DIR?>/myaccount.php">
         <span class="menu2<?=cn('account')?>">MyAccount</span>
      </a>
    </div>
  </li> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T08:35:29.170

创建您网站包含的所有页面的数组。例如：

```
$all_urls = array('home.php', 'about.php', 'contact.php'); 
```

然后使用您的`$url`变量，您可以使用`in_array()`函数来检查数组中是否`$url`存在。`$all_urls`

```
 <div <?php if(in_array($url, $all_urls)) { echo 'class="menu1a"'; } else {echo 'class="menu1"'; } ?>>
              <a <?php if(in_array($url, $all_urls)) { echo 'class="menu3a"'; } else {echo 'class="menu3"'; } ?> href="<?=$HOME_DIR?>/index.php">
                 <span <?php if(in_array($url, $all_urls)) { echo 'class="menu2a"'; } else {echo 'class="menu2"'; } ?>>Home</span>
              </a>
            </div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T08:58:49.087

做这样的事情的最好方法是使用像 PHP TAL ( [http://phptal.org/](http://phptal.org) )这样的模板引擎

这应该可以帮助您入门，但是我手头没有测试服务器，因此可能仍然存在一些错误：

PHP：

```
 class Menu
    { 
      public $name;
      public $isActive;
      public $url;
      __construct($name, $url){
        $this->name = $name;
        $this->url = $url;
        $this->isActive = $url == $_SERVER['REQUEST_URI'];
      }
    }

    $template = new PHPTAL('my_template_file.xhtml');
    $template->menuItems = array(
      new Menu('foo', '/foo.html'),
      new Menu('bar', '/bar.html')
    );
    if($user){
      $template->user = $user; 
    }
    echo $template->execute(); 
```

模板：

```
<div class="menu_nav">
  <ul>
    <tal:block tal:repeat="menu menuItems">
    <li tal:condition="menu/isActive" class="menu active">
      <a tal:content="menu/name" tal:attribute="href menu/url"></a>
    </li>
    <li tal:condition="not: menu/isActive" class="menu">
      <a tal:content="menu/name" tal:attribute="href menu/url"></a>
    </li>
    </tal:block>
    <li tal:condition="exists: user"> Hello, ${user}</li>
  </ul>
</div> 
```

# android - 寻呼机标题条 (Android 4.0) - Eclipse

> ID：11590672
> 
> 赞同：0
> 
> 时间：2012-07-21T08:27:45.853
> 
> 标签：android, webview, title, strip, pager

上周我想学习如何为 Android 制作应用程序，所以我下载了 SDK、Eclipse 和所有我需要的工具。我创建了一个在 Play 商店中发布的 web 应用程序。现在我想让一些更复杂的东西，我创建了一个带有“Swipe View+Title Strip”活动的新项目。我学会了如何重命名它们，如何在菜单中添加许多项目等等。但是我有一个大问题。例如，如何使菜单中的每个项目显示不同的网页（使用 webview）。请给我一个例子，这样我就可以开始学习了。我在网上搜索并查看了 android 开发帮助，但找不到任何帮助（只是一般术语）。提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T17:30:45.517

我认为“滑动视图+标题条”活动的工作方式与任何其他活动大致相同。也许最好有带有指向您要查看的网页的链接的按钮？自从我自己开始编写应用程序以来，我帮不上什么忙。

# matlab - 二维线图中突出显示的区域

> ID：11590673
> 
> 赞同：0
> 
> 时间：2012-07-21T08:27:59.810
> 
> 标签：matlab, plot

下面的代码突出显示了绘图的某些区域：

```
x = 1:24;
a = 1;
b = 50;
y = a + (b-1).*rand(length(x),1);

plot(x,y);

%find the peaks in the data and hilghlight the regions
[pks,locs] = findpeaks(y);

for i = 1:length(locs);
    h = area([locs(i)-(locs(i)/100) locs(i)+(locs(i)/100)],[max(y) max(y)]);
    set(h,'FaceColor',[.5,.5,.5]);
    set(h,'EdgeColor',[.5,.5,.5]);
    h1 = get(h,'children');
    set(h1,'FaceAlpha',0.3);
    hold on
end
    plot(x,y,'k');
    hold off;
    axis([min(x) max(x) min(y) max(y)]); 
```

突出显示的区域定义为局部最大值两侧数据长度的 1%。我想进行更改，以便该区域不是由数据的百分比精确指定的，因为这将根据数据集的大小而改变。谁能建议一种替代方法来定义突出显示区域的厚度？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:08:34.423

我想说这样的参数应该被视为常量，就像您认为`x`,`a`和`b`是常量一样。

我将定义`w`突出显示区域的恒定宽度：

```
w = 1.0; 
```

然后在当前峰值的每一侧绘制区域的代码行将是 w/2：

```
h = area( ...
   [locs(i)-(w/2) locs(i)+(w/2)], ...
   [max(y) max(y)] ...
); 
```

调整`w`以适应您当前的需求。

# symfony - 在 Symfony 应用程序中放置资产的位置以及如何在开发环境中工作

> ID：11590674
> 
> 赞同：0
> 
> 时间：2012-07-21T08:28:00.237
> 
> 标签：symfony, assetic

我目前正在玩资产和symfony。我使用压缩和重写，我决定将我的资产（主要是 javascript 文件和 css 文件）放在包中，因为这似乎是最佳实践**（不胜感激）**。

在开发环境中，这适用于一些配置，但我不知道如何生成已编译的资产。

我希望能够直接在`src/domain_name/bundle_name/Resources/public/css`or中修改我的资产`src/domain_name/bundle_name/Resources/public/javascript`，并且可以在开发环境中立即检查这些修改。

我使用 command `php app/console assetic:dump --watch`，但它似乎只检查了`web/bundle/`目录中生成的文件。

所以我需要继续运行命令`php app/console assets:install web`来复制资产。

事实上，这似乎是资产不能使用捆绑符号的问题的结果[（请参阅此处 kriss wallsmith 的最后评论）](https://groups.google.com/forum/#!topic/symfony-devs/5JOZCBrtW4w)。如果我能够使用该捆绑符号，我猜 watch 命令将能够自动升级 web 目录中的资产，但不确定这一点。

**我如何在树枝模板中引用资产**

```
 {% stylesheets filter='?yui_css,cssrewrite' output='css/compiled/fullapplication.css'
    'bundles/bundle_name/third-party/jquery.mobile-1.1.1/jquery.mobile-1.1.1.css'
    'bundles/bundle_name/third-party/jquery.mobile-1.1.1/jquery.mobile.libri.theme.css'
    'bundles/bundle_name/third-party/jquery.mobile-1.1.1/jquery.mobile.structure-1.1.1.css'
    'bundles/bundle_name/css/global.css'
%}
    <link rel="stylesheet" href="{{ asset_url }}" />
{% endstylesheets %}

{% javascripts filter='?yui_js' output='js/compiled/fullapplication.js'
    'bundles/bundle_name/third-party/jquery/jquery-1.6.4.min.js'
%}
    <script src="{{ asset_url }}" >
{% endjavascripts %} 
```

**知道如何在开发环境中处理资产时更高效吗？我们要等待资产中的捆绑符号功能吗？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:50:23.133

将 JS、CSS 等直接放入包中是一种很好的做法，因为它们仅用于该包中。如果您有更通用的，也许最好将它们放在更通用的环境（应用程序？）
如果您想避免一遍又一遍地复制资产，您可以使用`--symlink`选项（`php app/console assets:install web --symlink`）。
这样，每`assets`一个**对**.

对于符号，您可以通过它们的符号链接直接引用它们以避免捆绑的符号。

# actionscript-3 - as3 导入类

> ID：11590679
> 
> 赞同：0
> 
> 时间：2012-07-21T08:29:31.710
> 
> 标签：actionscript-3

我在导入课程时遇到问题。我可以创建类的实例，但不能使用公共静态成员。当我将所有文件放在同一个包中时，我没有任何问题，但是当我必须导入时，我收到此错误：1119：通过静态类型 Class 的引用访问可能未定义的属性 MAIN_MENU。

这是主要课程的开始：

```
import flash.display.Sprite;
import flash.events.Event;

import classes.gameStates.MainMenuScreen;

public class DocumentClass extends Sprite
{
    private var mainMenuScreen:MainMenuScreen;

    public function DocumentClass()
    {
        displayMainMenu();
    }

    private function displayMainMenu():void
    {
        mainMenuScreen = new MainMenuScreen();
        mainMenuScreen.x = 0;
        mainMenuScreen.y = 0;
        mainMenuScreen.addEventListener(MainMenuScreen.START_GAME, onStartGame);
        mainMenuScreen.addEventListener(MainMenuScreen.CREDITS, onCredits);
        addChild(mainMenuScreen);
    } 
```

这是 MainMenuScreen 类

```
package classes.gameStates
{   
import flash.display.Sprite;
import flash.events.Event;
import flash.events.MouseEvent;
import flash.display.SimpleButton;

public class MainMenuScreen extends Sprite
{   
    public static const START_GAME:String = "startGame";
    public static const CREDITS:String = "credits";

    public function MainMenuScreen()
    {
        startGameButton.addEventListener(MouseEvent.CLICK, onStartGame);
        creditsButton.addEventListener(MouseEvent.CLICK, onStartCredits);
    }

    public function Destroy():void
    {
        startGameButton.removeEventListener(MouseEvent.CLICK, onStartGame);
        creditsButton.removeEventListener(MouseEvent.CLICK, onStartCredits);
    }

    private function onStartGame(e:MouseEvent):void
    {
        dispatchEvent(new Event(MainMenuScreen.START_GAME));
    }

    private function onStartCredits(e:MouseEvent):void
    {
        dispatchEvent(new Event(MainMenuScreen.CREDITS));
    }
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T14:44:35.450

你怎么能让这个工作？或者你已经截断了你的代码？首先，您在 MainMenuS 中的按钮未构造。其次，onStartGame 和 onCredit() 是 PRIVATE，DocumentClass 无法访问它。

尝试先更改其修饰符。

# macos - 授权 XPC 连接

> ID：11590681
> 
> 赞同：4
> 
> 时间：2012-07-21T08:29:49.343
> 
> 标签：macos, security, xpc

我的应用程序包含一个核心扩展作为关键组件。该内核扩展由系统控制套接字控制。出于安全原因，该系统控制套接字仅接受来自超级用户的连接。

为了从我的常规非超级用户应用程序进行通信，我有一个 SMJobBless 助手充当中介。问题是，我只希望我的应用程序（由我签名）能够连接到这个 XPC 服务。有什么方法可以验证连接另一端的可执行文件上的签名吗？如果我可以在另一端获得进程的 PID，那就足够了，我知道如何从那里验证签名。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-22T05:08:34.270

> 如果我能得到另一端进程的PID

您可以使用[xpc_connection_get_pid()](https://developer.apple.com/library/mac/#documentation/Darwin/Reference/Manpages/man3/xpc_connection_get_pid.3.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-10-28T00:00:44.130

对于任何在 2021 年阅读本文的人来说，安全研究表明 PID因其可重用性**而不值得信赖。**这是关于这个问题的一个[很好的介绍。](https://saelo.github.io/presentations/warcon18_dont_trust_the_pid.pdf)

从 macOS 11 开始，[`SecCodeCreateWithXPCMessage`](https://developer.apple.com/documentation/security/3684978-seccodecreatewithxpcmessage)可以使用该功能来确定 XPC 消息的真正发送者。在旧版本的 macOS 上，`void xpc_connection_get_audit_token(xpc_connection_t, audit_token_t *)`存在未记录的功能，可以使用更多步骤来完成相同的事情。

我构建了一个名为[SecureXPC](https://github.com/trilemma-dev/SecureXPC)的 Swift XPC 框架，它使用了这两个函数，因此，如果您想了解如何使用它们，请查看该[`acceptMessage`](https://github.com/trilemma-dev/SecureXPC/blob/9fb3217b734d7eb9a3782d4a0daae9fbfbb71a6c/Sources/SecureXPC/XPCMachServer.swift#L322)函数。

# php - 为什么php需要 我刚刚在我的 Windows 7 上安装了 apache 2.2.22、php 5.3.15 和其他一些东西。在某些时候，标签以纯 HTML 的形式返回）。在浪费了很多时间之后，我注意到这个标签的完整版以纯 HTML 的形式返回）。在浪费了很多时间之后，我注意到这个标签的完整版是不好的做法，因此请在 php.ini 文件中使用或编辑。short_open_tag 于 2012-07-21T08:33:17.703 回答 This answer is useful 1 您必须启用 php 短标签才能在 PHP < 5.4 中工作

> ID：11590683
> 
> 赞同：0
> 
> 时间：
> 
> 标签：php, tags

我刚刚在我的 Windows 7 上安装了 apache 2.2.22、php 5.3.15 和其他一些东西。在某些时候，标签`<?`停止工作（apache 现在`<? ..... ?>`以纯 HTML 的形式返回）。在浪费了很多时间之后，我注意到这个标签的完整版`<?php`确实有效！如何在不编辑代码的情况下修复它？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-21T08:31:26.993

检查您[`short_open_tag`](http://www.php.net/manual/en/ini.core.php#ini.short-open-tag)在 php.ini 中的设置。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T08:31:33.430

`short_open_tag`在 php.ini 中修改

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T08:33:17.703

使用 just`<? ?>`是不好的做法，因此请在 php.ini 文件中使用`<?php ?>`或编辑。`short_open_tag`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-21T08:33:39.263

您必须启用 php 短标签才能在 PHP < 5.4 中工作`<?`。如果可以指定，请`<?=`调用或修改您的 php.ini。`ini_set('short_open_tag', true)`一些主机甚至允许在 php 脚本本身的目录中包含 php.ini，或者您可以通过主机面板自定义 php.ini。

# objective-c - cocos2d 2 版游戏代码的好例子在哪里？

> ID：11590685
> 
> 赞同：1
> 
> 时间：2012-07-21T08:29:59.820
> 
> 标签：objective-c, cocos2d-iphone

我似乎找不到任何 cocos2d 版本 2 代码的示例。有很多早期版本的例子。任何人都知道在哪里可以找到 cocos2d v2 代码的示例？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:00:56.313

[您可以在此处](http://www.raywenderlich.com/10862/how-to-create-cool-effects-with-custom-shaders-in-opengl-es-2-0-and-cocos2d-2-x)找到 Cocos2d 2.X 教程。Cocos2d 2.0 与 Cocos2d 之前版本的区别仅在于 Cocos2d 2.0 使用 OpenGL 2.0

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T18:52:20.093

所有 15 个 Kobold2D 2.0 项目都已移植到使用 cocos2d 2.0，我的 Line-Drawing Kit 也使用 cocos2d 2.0。Ray Wenderlich 也写了教程，其他的也有很多，而且周围有很多开源的 cocos2d 2.0 项目。

检查：[http](http://www.kobold2d.com) ://www.kobold2d.com和[http://www.learn-cocos2d.com/store/line-drawing-game-starterkit/](http://www.learn-cocos2d.com/store/line-drawing-game-starterkit/)和[http://www.raywenderlich.com/](http://www.raywenderlich.com/)和[http:// bit.ly/ONHyF4](http://bit.ly/ONHyF4)

# php - Magento - 在销售/订单屏幕中显示缩略图

> ID：11590688
> 
> 赞同：0
> 
> 时间：2012-07-21T08:30:52.900
> 
> 标签：php, magento, thumbnails

我有magento 1.6.2。

现在我想在销售/订单屏幕中显示缩略图。经过一些谷歌搜索后，我找到了一些解决方法......

我已将下一个代码添加到 app/design/adminhtml/default/default/template/sales/order/view/items/renderer/default.phtml

```
 <?php $product = Mage::getModel('catalog/product')
->setStoreId($_item->getOrder()->getStoreId())
->load($_item->getProductId());
?>
<p align="center"><img src="<?php echo Mage::helper('catalog/image')->init($product, 'small_image')->resize(135); ?>" width="135" height="135" alt="" /></p> 
```

这适用于简单的产品。对于可配置产品生成的简单产品，我得到占位符“无图像”

作为记录：当我制作可配置产品时，我的扩展程序不会为简单产品提供图像。只有基本（父）可配置产品。

现在我需要从可配置产品而不是 simpleproduct 调用图像。谁能帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:54:27.003

一切都取决于您是要显示从属（简单）产品还是主（可配置）产品的图像。

对于第一种情况，以下代码将起作用：

```
<td>
    <?php $_product = Mage::getModel('catalog/product')->load($_item->getId()); ?>
    <img src="<?php echo Mage::helper('catalog/image')->init($_product, 'small_image')->resize(135); ?>" width="135" height="135" alt="" />
</td> 
```

对于第二种情况，使用以下代码：

```
<td>
    <?php

    if($_item->getProductType() == 'configurable') {
        $_product = $_item->getProduct();
    }else{
        $_product = Mage::getModel('catalog/product')->load($_item->getId());
    }

    ?>
    <img src="<?php echo Mage::helper('catalog/image')->init($_product, 'small_image')->resize(135); ?>" width="135" height="135" alt="" />
</td> 
```

在这两种情况下，请确保您已上传并选择了一张图片作为`small image`您的产品的图片。请看下面的截图：

![在此处输入图像描述](../Images/68bd5342577ce1b61dd76717fc219301.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-05T06:23:22.737

[http://www.magentocommerce.com/magento-connect/advanced-ordergrid-with-images.html](http://www.magentocommerce.com/magento-connect/advanced-ordergrid-with-images.html) 使用这个扩展。这将显示产品缩略图和一个 jQuery 滚动条。您还可以使用此扩展程序查看付款和运输方式。我在 Magento 1.7 上使用过它。它工作正常...

# android - 如何在登录 Android 时暂停 Activity 直到我获得 facebook id？

> ID：11590693
> 
> 赞同：1
> 
> 时间：2012-07-21T08:32:22.390
> 
> 标签：android

在 Android 中使用 facebook 登录/注册时，facebook 发送请求需要一段时间。因此，我如何暂停活动（显示进程对话框），直到我获得尝试注册的用户的 facebook id/用户名？我不能在基本侦听器中执行此操作，因为它是一个后台进程。

我尝试使用 AsyncTask，但我要么对如何做感到困惑，要么无法做到。主要是前者。我这样做了：

```
 public class FacebookOperation extends AsyncTask<Void, Void, Void>
        {  

        @Override
        protected void onPreExecute()
        {  
            super.onPreExecute();

                mFacebook = new Facebook(APP_ID);
                mAsyncRunner = new AsyncFacebookRunner(mFacebook);
                reg = "facebook";
                SessionStore.restore(mFacebook, Register.this);
                SessionEvents.addAuthListener(new SampleAuthListener());
                //SessionEvents.addLogoutListener(new SampleLogoutListener());

        } 
        @Override 
        protected void onProgressUpdate(Void... values) {
            super.onProgressUpdate(values);

         }

        @Override 
        protected void onPostExecute(Void result)

        { 

               fillFormFb(); //Fills the form with the data from fb
        }

        @Override
        protected Void doInBackground(Void... params) {
            mLoginButton.init(Register.this, mFacebook,permissions);

            return null;
        }

          } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T08:37:12.040

使用 AsyncTask 在后台运行您的进程。您可以在加载操作时显示进度条。

```
public class FacebookOperation extends AsyncTask<Void, Void, Void>
{  
@Override
protected void onPreExecute()
{  
    super.onPreExecute();
    dialog.setMessage("Please wait...");
    dialog.setCancelable(false);
    dialog.show();

} 
@Override 
protected void onProgressUpdate(Void... values) {
    super.onProgressUpdate(values);
    // Things to be done while execution of long running operation is in progress. For example updating ProgessDialog
 }

@Override 
protected void onPostExecute(Void result)

{ 
      //Post Execute
       dialog.cancel();
}
@Override
protected Void doInBackground(Void... params) {

  // Your operation..Dont Edit Any Views here

    return null;
} 
```

}

**编辑**

我认为您可以按照[此](http://www.integratingstuff.com/2010/10/14/integrating-facebook-into-an-android-application/)链接将 facebook 与您的应用程序集成。这将对您有所帮助。

希望能帮助到你

# asp.net-mvc - 在 Membership Provider 中添加自定义字段

> ID：11590698
> 
> 赞同：0
> 
> 时间：2012-07-21T08:32:54.763
> 
> 标签：asp.net-mvc, asp.net-mvc-3, asp.net-membership, membership-provider

我在我的 ASP.NET MVC Application 中使用 Membership Provider 。我想检查一个用户是否是管理员。

```
if (Membership.ValidateUser(model.UserName, model.Password))
    {
          ....
    } 
```

ValidateUser 只获取用户名和密码，我想添加另一个字段 (IsAdmin)。我怎么能写这段代码？！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:49:28.013

正如@jsalvy 提醒我的那样，您可以这样做：

```
bool isUserAdmin = IsUserInRole(userName, "Admin"); 
```

如果用户在角色中，则返回 true ，`IsUserInRole`否则返回 false。您还可以使用`string[] userRoles = Roles.GetRolesForUser(userName);`来获取用户所在的所有角色。您可以使用该`[Authorize(Roles = "Admin")]`属性来限制对非管理员的任何人的访问。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:14:01.927

这只是 User.IsInRole("Administrators")

[http://msdn.microsoft.com/en-us/library/system.web.security.roleprincipal.isinrole.aspx](http://msdn.microsoft.com/en-us/library/system.web.security.roleprincipal.isinrole.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T08:54:51.927

这应该通过 RoleProvider 的实现而不是 MembershipProvider 来完成，因为 MembershipProvider 不处理权限/角色。

[http://msdn.microsoft.com/en-us/library/8fw7xh74.aspx](http://msdn.microsoft.com/en-us/library/8fw7xh74.aspx) 是 RoleProvider 基类的简要概述。如您所见，它包含诸如“IsUserInRole”之类的方法，可让您检查此类内容。

这是如何实现它的更深入的示例：http: [//msdn.microsoft.com/en-us/library/317sza4k.aspx](http://msdn.microsoft.com/en-us/library/317sza4k.aspx)

除此之外，您始终可以创建某种 MembershipManager 类，直接检查您的 DataSource 是否给定用户是或不是成员。

**编辑：**我想澄清一下，您不需要使用标准 setup.NET Membership/Role/Profile 模型在 RoleProvider 之上实现提供程序。如果您为用户设置了角色，则可以使用[Roles Class](http://msdn.microsoft.com/en-us/library/system.web.security.roles.aspx)访问它们。Roles 类对 RoleProvider 而言，Membership 类对 MembershipProvider 而言。

# php - 用php上传mp3文件

> ID：11590709
> 
> 赞同：0
> 
> 时间：2012-07-21T08:35:15.067
> 
> 标签：php

当我上传 mp3 文件，然后在提交表单后打印文件数组时，它看起来像这样。

```
[file] => Array
        (
            [name] => tyu.mp3
            [type] => 
            [tmp_name] => 
            [error] => 1
            [size] => 0
        ) 
```

谁能告诉为什么`[error]`设置为`1`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T08:39:10.803

请阅读[此](http://php.net/manual/en/features.file-upload.errors.php)

错误 = 1 - UPLOAD_ERR_INI_SIZE - 上传的文件超过了 php.ini 中的 upload_max_filesize 指令。

您必须在 php.ini 中增加 upload_max_filesize 指令。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T08:39:07.813

如果您问这意味着什么：我的意思是，上传文件时出了点问题。究竟出了什么问题，仅凭这条信息我不能说。

附加信息来自：[http](http://www.php.net/manual/de/features.file-upload.errors.php) ://www.php.net/manual/de/features.file-upload.errors.php 1 表示：文件太大

请检查您的 PHP.ini 文件。

# mysql - 使用 JAVA 网络爬虫在 MYSQL 中存储印地语单词

> ID：11590713
> 
> 赞同：0
> 
> 时间：2012-07-21T08:36:06.470
> 
> 标签：mysql, unicode, jdbc, hindi

我想在 MySQL 数据库中存储一些印地语单词。为此，我编写了一个网络爬虫。我能够从 HTML 页面成功读取这些单词并将它们显示在 NetBeans 控制台中。但是当我将它们插入 MySQL 时，它们会变为 ?????????。此外，如果我在 PHPMyAdmin 本身中使用 SQL 查询插入相同的单词，它们会被正确存储。

我搜索了很多 Google 和各种论坛，并且在大多数地方都采取了适当的预防措施来处理 Unicode。如果输入 Unicode，我们是否必须在 SQL 语句 (JDBC) 中明确提及？

这是我的整个代码。

```
import java.io.*;
import java.net.URL;
import java.net.URLConnection;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;
import java.util.*;

public class TestDataParsing2 {
  public int counter = 1;
  private String ID = "";
  private String title = "";
  private String owner = "";
  private String s="";

  private Connection conn = null;
  private String url = "jdbc:mysql://localhost:3306";
  private String dbName = "/hindi-eng";
  private String driver = "com.mysql.jdbc.Driver";
  private String userName = "root";
  private String password = "";
  private String TABLE = "dict";

private void initdb(){
  try {
    Class.forName(driver).newInstance();
    conn = DriverManager.getConnection(url+dbName,userName,password);
  } catch (Exception e) {
    e.printStackTrace();
  }
}

private void closedb(){
  try {
    conn.close();
  } catch (Exception e) {
    e.printStackTrace();
  }
}
public void process(String content){
  try{
    BufferedReader reader =  new BufferedReader(new StringReader(content));
    String text = "";
    boolean start1 = false;
    boolean start2 = false;
    while (( text = reader.readLine()) != null) {
      if(text.contains("\"a")) {
        System.out.println("______________________________________________________________");
        String id = getID(text);
        this.ID = id;
        String title = getTitle(text);
        this.title = title;
        String owner = getOwner(text);
        this.owner = owner;
        start1 = true;
      }
      if(start1 && start2) {
        String s = getS(text);
        this.s = s;
        counter++;
        insert();
        start2=false;
        start1= false;
      }
      if(start1) {
        start2= true;
      }
    }
  }catch(Exception e){
    System.out.println(e);
  }
}

public void insert(){
  String insertString = "INSERT INTO " + TABLE + " VALUES (" + this.counter + ",'" +
    this.ID + "','" + this.title + "','" + this.owner + "','" + this.s + "')";
  System.out.println(insertString);
  try {
    Statement stmt = conn.createStatement();
    stmt.executeUpdate(insertString);
    stmt.close();
  } catch(Exception e) {
    System.out.println(e);
  }
}

public String getID(String text){
  String id = "";
  id = text.substring(text.indexOf("\"")+1, text.indexOf("\","));
  return id;
}

public String getTitle(String text){
  String title = "";
  title = text.substring(text.indexOf(",\"")+2, text.indexOf("\",\"1."));
  return title;
}

public String getOwner(String text){
  try{
    String owner = "";
    owner = text.substring(text.indexOf("\",\"1.")+5, text.indexOf("\"<br>"));
    int i;
    for(i=0;i<owner.length();i++) {
      String fifthChar = "\u00AE";
      int codePoint = owner.codePointAt(i);
    }
    return owner;
  } catch(Exception e) {
    System.out.println(e);
    System.out.println("eeee");
  }
  return owner;
}

public String getS(String text){
  String s = "";
  s = text.substring(0, text.indexOf("<br>"));
  return s;
}

public String download(String path) {
  String result = "";
  try {
    URL url = new URL(path);
    URLConnection conn = url.openConnection();
    conn.setDoOutput(true);
    InputStream in = null;
    in = url.openStream();
    String content = pipe(in,"utf-8");
    result = content;
  } catch (Exception e) {
    e.printStackTrace();
  }
  return result;
}

public String pipe(InputStream in,String charset) throws IOException {
  StringBuffer s = new StringBuffer();
  if(charset==null||"".equals(charset)){
    charset="utf-8";
  }
  String rLine = null;
  BufferedReader bReader = new BufferedReader(new InputStreamReader(in,"UTF-8"));
  FileOutputStream("C:\\Research\\MiningSoftwareRepositories\\Traceability-Link-Recovery\\EXPERIMENTS\\BR\\"
    + bugid + ".txt");
  while ( (rLine = bReader.readLine()) != null) {
    String tmp_rLine = rLine;
    s.append(tmp_rLine+"\n");
  }
  tmp_rLine = null;
}
  in.close();
  return s.toString();
}

public static void main(String[] args) {
  TestDataParsing2 tdp = new TestDataParsing2();
  tdp.initdb();
  System.out.println("process started");
  String urlPath = "file:///C:/Users/Abhinav/Downloads/Compressed/eng-hindi-dict-utf8/sa.htm";
  String content = tdp.download(urlPath);
  tdp.process(content);
  tdp.closedb();
} 
```

此外，当我将 "?useUnicode=yes&characterEncoding=UTF-8" 添加到 conn_url 时，我会收到以下错误，这些错误没有它就不会出现。

> java.sql.SQLException：不支持的字符编码“UTF-8/hindi-eng”。进程开始于 com.mysql.jdbc.SQLError.createSQLException(SQLError.java:988) 的 com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074) 的 com.mysql.jdbc.SQLError.createSQLException(SQLError.java :974) 在 com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919) 在 com.mysql.jdbc.StringUtils.getBytes(StringUtils.java:574) 在 com.mysql.jdbc.StringUtils.getBytes(StringUtils. java:719) 在 com.mysql.jdbc.Buffer.writeStringNoNull(Buffer.java:704) 在 com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2573) 在 com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl .java:2713) 在 com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2663) 在 com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1599) 在 com.mysql.jdbc。
> 
> * * *
> 
> ***INSERT*** ***INTO*** ***dict*** **VALUES (2,'** **a** ***'*** **, '** ***Art* ' , *'*** ***एक',' **我*****买******了*****一支*****笔*****。****'** **)** ***_*** **__** ***_*** **__** ***_*** INSERT INTO dict VALUES (3,'aback','Adv','पीछे/हतप्रभ','我被他的粗鲁吓了一跳。') java.lang.NullPointerException***

 *** * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:25:46.463

您没有指定数据库连接编码，因此使用服务器默认编码。看起来服务器未配置为使用 UTF-8。

您可以将[服务器编码](http://dev.mysql.com/doc/refman/5.5/en/charset-server.html)设置为 UTF-8，或者[`characterEncoding`](http://dev.mysql.com/doc/refman/5.5/en/connector-j-reference-charsets.html)在连接上设置属性：

```
conn = DriverManager.getConnection(url+dbName+"?characterEncoding=UTF-8",userName,password); 
```

请记住，连接 url 的语法是“jdbc:mysql://host:port/database?option1=value1&option2=value2&...”。**

# iphone - getNode:withName:soap方法在解析一些大型xml web服务时被调用超过200万次

> ID：11590714
> 
> 赞同：0
> 
> 时间：2012-07-21T08:36:29.530
> 
> 标签：iphone, objective-c, ios, web-services, soap

如您所知，我将其`SudzC`用作我的 xml Web 服务的 Objective-c 包装器，它被认为是最好和最快的 xml 解析器之一。在加载我的 xml Web 服务、解析它并最终将其保存到核心数据时，它会在数据库中生成大约 2500 条记录，因此它是一项大型服务。我注意到一些奇怪的事情，我在以下方法中 放置了声明的文件：`SudzC``TouchXML``soap.m``NSLog`

```
 + (CXMLNode*) getNode: (CXMLNode*) element withName: (NSString*) name {
           for(CXMLNode* child in [element children]) {
             if([child respondsToSelector:@selector(name)] && [[child name] isEqual: name]) {
               return (CXMLNode*)child;
               }
             }

           for(CXMLNode* child in [element children]) {
             CXMLNode* el = [Soap getNode: (CXMLElement*)child withName: name];
             if(el != nil) { return el; }
               }
        return nil;
      } 
```

并注意到它被称为`2,180,000`时间，真棒数字！

并且`children`上面提到的方法肯定也会被称为同一个大数，该`children`方法在`CXMLNode.m`文件中定义`TouchXML`如下：

```
 - (NSArray *)children
      {
       NSAssert(_node != NULL, @"TODO");

       NSMutableArray *theChildren = [NSMutableArray array];
       xmlNodePtr theCurrentNode = _node->children;
   while (theCurrentNode != NULL)
    {
    CXMLNode *theNode = [CXMLNode nodeWithLibXMLNode:theCurrentNode];
    [theChildren addObject:theNode];
     theCurrentNode = theCurrentNode->next;
    }
       return(theChildren);      
   } 
```

所以你可以想象这里发生了多少循环，但是，我运行了应用程序，并注意到我的应用程序在使用此 Web 服务并执行一些特定操作后崩溃（由于内存不足），但如果我执行这些特定操作（在我的应用程序中）不使用网络服务，我的应用程序根本不会崩溃，因为我的代码中没有内存泄漏或内存相关问题。我的要求是将该应用程序与 Web 服务一起使用，而不会发生崩溃。

任何解决此问题的建议将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:08:04.487

您每次都通过此代码创建一些自动释放的对象，例如`children`方法返回的数组。在您耗尽创建它们的自动释放池之前，它们不会被释放。通常这是在下次通过运行循环时为您完成的。但是，如果在一个紧密的循环中创建大量自动释放对象，就像您正在做的那样，您将需要在循环中创建自己的自动释放池。最有意义的地方取决于代码的细节。Apple 的文档讨论了[使用本地自动释放池来减少峰值内存占用](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmAutoreleasePools.html)。注意，这个文档仍然是指创建`NSAutoreleasePool`对象而不是更现代的`@autoreleasepool {}`.

# android - 无法访问 tempconvert Web 服务

> ID：11590719
> 
> 赞同：0
> 
> 时间：2012-07-21T08:37:11.150
> 
> 标签：android, web-services

我正在使用 tempconvert Web 服务，但它没有给出任何结果，只是显示空白屏幕。

这是否意味着我的应用程序无法访问 Web 服务，或者我必须进行一些设置才能连接到 URL，我使用的是 ksoap2 2.6.5 。

这是我的代码

```
package com.example.webservice2;

import android.os.Bundle;
import android.widget.TextView;
import android.app.Activity;
import org.ksoap2.*;
import org.ksoap2.serialization.SoapObject;
import org.ksoap2.serialization.SoapPrimitive;
import org.ksoap2.serialization.SoapSerializationEnvelope;
import org.ksoap2.transport.HttpTransportSE;

public class WebService extends Activity {

    private final String SOAP_ACTION = "http://tempuri.org/CelsiusToFahrenheit";
    private final String METHOD_NAME = "CelsiusToFahrenheit";
    private final String NAMESPACE = "http://tempuri.org/";
    private final String URL = "http://www.w3schools.com/webservices/tempconvert.asmx";

    TextView tv;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        tv = (TextView) findViewById(R.id.tv);

        SoapObject Request = new SoapObject(NAMESPACE, METHOD_NAME);
        Request.addProperty("celsius", "32");

        SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(
                SoapEnvelope.VER11);
        envelope.dotNet = true;
        envelope.setOutputSoapObject(Request);

        HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

        try {
            androidHttpTransport.call(SOAP_ACTION, envelope);
            SoapPrimitive response = (SoapPrimitive) envelope.getResponse();

            tv.setText("status:" + response);

        } catch (Exception e) {
            e.printStackTrace();
        }
    }
} 
```

我正在使用来自这个 url 的网络服务

```
http://www.w3schools.com/webservices/tempconvert.asmx 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:44:07.720

像下面这样使用 AsyncTask，这对我有用，如果您遇到任何问题，请告诉我

```
 public class SyncroniseRecords extends AsyncTask<Void, Void, Void>
{  
@Override
protected void onPreExecute()
{  
    super.onPreExecute();
    dialog.setMessage("Please wait...");
    dialog.setCancelable(false);
    dialog.show();

} 
@Override 
protected void onProgressUpdate(Void... values) {
    super.onProgressUpdate(values);
    // Things to be done while execution of long running operation is in progress. For example updating ProgessDialog
 }

@Override 
protected void onPostExecute(Void result)
{ 
       dialog.cancel();
}
@Override
protected Void doInBackground(Void... params) {

    /** Your Operation */

    return null;
} 
```

}

这将启动没有任何黑屏的活动。使用 onPreExecute 您可以显示进度条。一旦过程完成，您可以在 OnPostExecute() 中取消它。

希望能帮助到你

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T12:30:07.380

有时，当您在代理网络上但未设置代理设置时，会发生这种情况，请检查您是否不在代理网络上。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T08:41:49.843

我希望你已经允许互联网如果没有请按照下面的代码

`<manifest xlmns:android...> ... <uses-permission android:name="android.permission.INTERNET"></uses-permission> </manifest>`

# objective-c - 如何知道在 Objective-C 中哪个方法执行了选择器

> ID：11590725
> 
> 赞同：2
> 
> 时间：2012-07-21T08:38:40.200
> 
> 标签：objective-c, ios, xcode, oop, selector

我有一个非常简单的示例，但我不明白如何获取有关在其中调用选择器的方法的信息。例如：

```
-(void)methodOne {
   [self performSelector:@selector(methodTwo:)];
}
-(void)methodTwo:(id)sender {
   //How to know which method performed selector???
} 
```

我认为这个例子很简单，我只需要理解这一点，再次，问题是，我怎么知道从**methodTwo:**哪个方法执行选择器，所以我从哪个方法调用**methodTwo:**。

提前致谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T09:09:04.523

如果您确实想知道哪个方法调用了您的`methodTwo`，可以查看调用堆栈。看这个 ...

```
-(void)methodOne {
  [self performSelector:@selector(methodTwo:)];
}

-(void)methodTwo:(id)sender {
  NSLog( @"%@", [NSThread callStackSymbols][1]);
  NSLog( @"%@", [NSThread callStackSymbols][2]);
} 
```

...并且日志输出（简化）是...

```
0x014ef671 -[NSObject performSelector:] + 62
0x00002307 -[CMAppDelegate methodOne] + 55 
```

...`callStackSymbols`返回`NSArray`调用堆栈符号，因此，您可以查看索引 1 以获取您调用方法的方法。如您所见，有`NSObject`'s`performSelector`是因为您调用了`methodTwo`via `performSelector`。如果你`methodOne`以这种方式改变你的...

```
-(void)methodOne {
  [self methodTwo:nil];
} 
```

...输出是...

```
0x000022fe -[CMAppDelegate methodOne] + 62
0x000025d6 -[CMAppDelegate application:didFinishLaunchingWithOptions:] + 374 
```

... 而已。你的问题得到了回答，但我不知道你为什么要这个。您可能不想知道究竟是哪个方法调用了您的方法，而是哪个对象启动了这个调用链。一个例子是按钮 - 您可以使用一种方法来处理更多按钮，并且`sender`正如@stavash 指出的那样，可以区分这些按钮。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T08:50:03.513

尝试使用 performSelector:withObject:

```
-(void)methodOne {
   NSString *identifierStr = @"methodOne";
   [self performSelector:@selector(methodTwo:) withObject:identifierStr];
}
-(void)methodTwo:(NSString *)senderIdentifierStr {
   NSLog(@"Sent by %@",senderIdentifierStr);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T09:10:02.133

您无法从第二种方法中知道哪个方法调用了它，至少在不通过调用堆栈（请参阅 参考资料`NSThread`）的情况下不能知道，但您可以从第一种方法中传递此信息，如下所示：

```
- (void)doSomething {
    [self doSomethingElseWithCallee: NSStringFromSelector(_cmd) andSender: self];
}

- (void)doSomethingElseWithCallee: (NSString *)selector andSender: (id)sender] {
    // Do something…
} 
```

或者您可以立即传递选择器（类型`SEL`），而不是字符串：

```
- (void)doSomething {
    [self doSomethingElseWithCallee: _cmd andSender: self];
}

- (void)doSomethingElseWithCallee: (SEL)selector andSender: (id)sender] {
    // Do something…
} 
```

顺便说一下， Objective-C 运行时与（当前对象）`_cmd`一起传递给您的方法的一个特殊参数。`self`它们不包含在您的方法签名中，但编译器会为您完成所有工作。;-)

所有人都为 Objective-C 语言欢呼！:-p

# android - 如何在android中放大和缩小Surface

> ID：11590732
> 
> 赞同：0
> 
> 时间：2012-07-21T08:39:15.973
> 
> 标签：android

我坚持在 android 的表面中添加放大和缩小功能，我的代码如下。我已经实现了 SurfaceView 和 SurfaceHoder.CallBack。我在 Xml 文件中使用这个自定义视图。并显示一个拼字游戏板，但我无法在游戏板中添加放大和缩小功能。

```
package com.scrabble.game.client.ui; 

public class BoardView extends SurfaceView implements SurfaceHolder.Callback,
        OnTouchListener {

    private static int BOARD_SIZE = 15;
    private static final float MIN_FONT_DIPS = 10.0f;

    private static final int[] STACK_COLOR = { 0xFFFFFFFF, 0xFF2BC2AE,
            0xFF2BC241, 0xFF9FA617, 0xFFC76B50 };

    private Dimensions dimensions;    
    private DrawingThread thread;

    class DrawingThread extends Thread implements OnTouchListener {
        private static final int TRAY_AREA = 1;
        private static final int BOARD_AREA = 2;
        private static final int SCORE_AREA = 3;
        // private static final String STACK_MESSAGE = "Tile Stack";

        private boolean mRun;
        private SurfaceHolder mSurfaceHolder;

        private Dimensions dims;
        private GameEngine ge;
        private int defaultFontS;
        private PopupWindow pw;

        private int event;
        private int eventX, eventY;
        private int prevEventX, prevEventY;

        private Handler mHandler;  

        private int selectedTileNum;
        private int selectedBoardTileX, selectedBoardTileY;
        private int movingTileX, movingTileY;

        // private int topLeftX, topLeftY;

        public DrawingThread(SurfaceHolder holder, Handler handler) {
            mSurfaceHolder = holder;
            mRun = false;
            switchMode = false;
            tileIsMoved = false;
            boardTileIsMoved = false;
            // stackOpen = false;
            // openStack = new TileStack();
            event = eventX = eventY = -1;
            prevEventX = prevEventY = -1;
            selectedTileNum = -1;
            selectedBoardTileX = -1;
            selectedBoardTileY = -1;
            movingTileX = -1;
            movingTileY = -1;
            // topLeftX = -1;
            // topLeftY = -1;
            mHandler = handler;
            dims = new Dimensions();
            movingTile = new Tile();
            defaultFontS = (int) BoardView.MIN_FONT_DIPS;
            ge = null;
            tilesTray = new Rect[1];
            paintInitialisation();
            setFocusable(true);
        }
        public void setRunning(boolean b) {
            mRun = b;
        }
        @Override
        public void run() {
            while (mRun) {
                Canvas c = null;
                try {
                    c = mSurfaceHolder.lockCanvas(null);
                    Rect bRect = new Rect(0, 0, dims.getTotalWidth(),
                            dims.getScoreHeight() + dims.getBoardheight());
                    // canvas.drawRect(bRect, fillBoardPaint);
                    Drawable drawableMain = getResources().getDrawable(
                            R.drawable.mainbg);
                    drawableMain.setBounds(bRect);
                    drawableMain.draw(c);
                    synchronized (mSurfaceHolder) {
                        updateGame();
                        doDraw(c);
                    }
                } finally {
                    if (c != null) {
                        mSurfaceHolder.unlockCanvasAndPost(c);
                    }
                }
            }
        }

        public void setSwitchMode(boolean b) {
            synchronized (mSurfaceHolder) {
                switchMode = b;
            }
        }

        public void setGameEngine(GameEngine ge) {
            synchronized (mSurfaceHolder) {
                this.ge = ge;
            }
        }

        public void setDimensions(Dimensions dimensions) {
            synchronized (mSurfaceHolder) {
                dims = dimensions;
            }
        }

        public void setEventInfo(int evt, int x, int y) {
            synchronized (mSurfaceHolder) {
                event = evt;
                eventX = x;
                eventY = y;
            }
        }

        public void setDefaultFontSize(int dfs) {
            synchronized (mSurfaceHolder) {
                defaultFontS = dfs;
            }
        }

        public void setPopupWindow(PopupWindow popUp) {
            synchronized (mSurfaceHolder) {
                this.pw = popUp;
            }
        }

        private void updateGame() {
            if (ge == null)
                return;

            switch (event) {
            case MotionEvent.ACTION_DOWN:
                int area = getArea(eventX, eventY);
                switch (area) {
                case TRAY_AREA:
                    handleTrayClick(eventX, eventY);
                    if (switchMode && selectedTileNum != -1) {
                        switchMode = false;
                        pw.dismiss();
                        ge.makeSwitch(selectedTileNum);
                        selectedTileNum = -1;
                    }
                    break;
                case BOARD_AREA:
                    handleBoardClick(eventX, eventY);
                    break;
                case SCORE_AREA:
                default:
                    break;
                }
                break;
            case MotionEvent.ACTION_MOVE:
                if (Math.abs(prevEventX - eventX) < dims.getCellSize() / 20)
                    return;
                if (Math.abs(prevEventY - eventY) < dims.getCellSize() / 20)
                    return;
                // stackOpen = false;
                // openStack = null;
                if (selectedTileNum != -1) {
                    int turn = ge.getPlayerTurn();
                    Tray t = ge.getPlayer(turn).getTray();
                    if (!tileIsMoved)
                        movingTile = t.temporaryRemoveTile(selectedTileNum);
                    tileIsMoved = true;
                    movingTileX = getMovingTileXPos(eventX);
                    movingTileY = getMovingTileYPos(eventY);
                } else if (selectedBoardTileX != -1 && selectedBoardTileY != -1) {
                    Board b = ge.getBoard();
                    if (!tileIsMoved)
                        movingTile = b.removeTile(selectedBoardTileX,
                                selectedBoardTileY);
                    tileIsMoved = true;
                    boardTileIsMoved = true;
                    movingTileX = getMovingTileXPos(eventX);
                    movingTileY = getMovingTileYPos(eventY);
                }

                break;
            case MotionEvent.ACTION_UP:
                // stackOpen = false;
                // openStack = null;
                if (tileIsMoved) {
                    Board b = ge.getBoard();
                    int turn = ge.getPlayerTurn();
                    Tray t = ge.getPlayer(turn).getTray();
                    if (getArea(eventX, eventY) == BOARD_AREA) {
                        int i = findCellRow(eventY);
                        int j = findCellCol(eventX);
                        if (b.canAddTile(i, j, movingTile)) {
                            b.addTile(movingTile, i, j);
                            if (!boardTileIsMoved) {
                                t.addTempRemovedTile(movingTile,
                                        selectedTileNum);
                                t.useTile(selectedTileNum);
                            }
                            SoundManager.playSound(2, 1, 0);
                        } else {
                            if (boardTileIsMoved) {
                                b.addTile(movingTile, selectedBoardTileX,
                                        selectedBoardTileY);
                            } else {
                                t.addTempRemovedTile(movingTile,
                                        selectedTileNum);
                            }
                            SoundManager.playSound(3, 1, 0);
                        }
                    } else if (getArea(eventX, eventY) == TRAY_AREA) {
                        if (boardTileIsMoved) {
                            t.addTile(movingTile);
                            SoundManager.playSound(3, 1, 0);
                        } else if (selectedTileNum != -1) {
                            t.addTempRemovedTile(movingTile, selectedTileNum);
                            SoundManager.playSound(3, 1, 0);
                        }
                    } else {
                        if (selectedTileNum != -1) {
                            t.addTempRemovedTile(movingTile, selectedTileNum);
                            SoundManager.playSound(3, 1, 0);
                        } else if (selectedBoardTileX != -1
                                && selectedBoardTileY != -1) {
                            b.addTile(movingTile, selectedBoardTileX,
                                    selectedBoardTileY);
                            SoundManager.playSound(3, 1, 0);
                        }
                    }
                    if (ge.getBoard().isValidPlacement()) {
                        Message msg = mHandler.obtainMessage();
                        Bundle bundle = new Bundle();
                        bundle.putBoolean("clickable", true);
                        msg.setData(bundle);
                        mHandler.sendMessage(msg);
                    } else {
                        Message msg = mHandler.obtainMessage();
                        Bundle bundle = new Bundle();
                        bundle.putBoolean("clickable", false);
                        msg.setData(bundle);
                        mHandler.sendMessage(msg);
                    }
                    undoMovingChanges();
                } else {
                    undoMovingChanges();
                }
                break;
            default:
                break;
            }
            prevEventX = eventX;
            prevEventY = eventY;
        }

        private void doDraw(Canvas canvas) {
            if (ge == null)
                return;

            Rect bRect = new Rect(0, 0, dims.getTotalWidth(),
                    dims.getScoreHeight() + dims.getBoardheight());
            Drawable drawable = getResources().getDrawable(R.drawable.board);
            drawable.setBounds(bRect);
            drawable.draw(canvas);

            Rect tRect = new Rect(0, dims.getScoreHeight()
                    + dims.getBoardheight(), dims.getTotalWidth(),
                    dims.getTotalHeight());
            canvas.drawRect(tRect, fillTrayPaint);

            int topHeight = dims.getScoreHeight() + dims.getBoardheight();
            int bottom = (dims.getTotalHeight() + 5)
                    - (dims.getTotalWidth() / Tray.TRAY_SIZE);
            Rect rect = new Rect(0, topHeight, dims.getTotalWidth(), bottom-7);
            Drawable drawableTray = getResources().getDrawable(
                    R.drawable.mainbg);
            drawableTray.setBounds(rect);
            drawableTray.draw(canvas);

            drawTray(canvas);
            drawBoard(canvas);
            // drawScore(canvas);
            drawMovingTile(canvas);
        }

        Tile t;

        private void drawMovingTile(Canvas canvas) {
            if (tileIsMoved) {
                tileTextPaint.setTextSize(defaultFontS * 2);

                drawTile(canvas, movingTileX - 2 * dims.getCellSize(),
                        movingTileY - 2 * dims.getCellSize(), movingTileX + 2
                                * dims.getCellSize(),
                        movingTileY + 2 * dims.getCellSize(),
                        Character.toString(movingTile.getLetter()), 1);

            }
        }

        // private void drawScore(Canvas canvas) {
        // }

        private void drawBoard(Canvas canvas) {
            int bHeight = dims.getBoardheight();

            int bWidth = bHeight;
            int sHeight = dims.getScoreHeight();
            int padding = dims.getPadding();

            int left = dims.getPadding() + (BOARD_SIZE / 2)
                    * dims.getCellSize();
            int top = dims.getScoreHeight() + (BOARD_SIZE / 2)
                    * dims.getCellSize();
            int bottom = 1 * dims.getCellSize() + top;
            int right = 1 * dims.getCellSize() + left;

            if (ge == null)
                return;

            Board b = ge.getBoard();
            TileStack[][] ts = b.getTilePlacement();
            for (int i = 0; i < ts.length; i++) {
                for (int j = 0; j < ts[i].length; j++) {
                    if (b.hasTile(i, j)) {
                        if (selectedBoardTileX == i && selectedBoardTileY == j)
                            tileFillPaint.setColor(Color.YELLOW);
                        else if (b.getTile(i, j).getAge() == b.getTurn())
                            tileFillPaint.setARGB(255, 160, 160, 200);
                        else
                            tileFillPaint
                                    .setColor(BoardView.STACK_COLOR[ts[i][j]
                                            .getNumTilesInStack() - 1]);
                        left = dims.getPadding() + j * dims.getCellSize();
                        right = left + dims.getCellSize();
                        top = dims.getScoreHeight() + i * dims.getCellSize();
                        bottom = top + dims.getCellSize();
                        tileTextPaint.setTextSize(2 * defaultFontS);
                        drawTile(canvas, left, top, right, bottom,
                                Character.toString(ts[i][j].getTop()
                                        .getLetter()), 0);
                        tileFillPaint.setColor(Color.WHITE);
                    }
                }
            }
        }

        private void drawTray(Canvas canvas) {
            // Draw the tray background
            Rect tileFillRect;
            tileFillRect = new Rect(0, (dims.getTotalHeight() - 8)
                    - (dims.getTotalWidth() / Tray.TRAY_SIZE),
                    dims.getTotalWidth(), dims.getTotalHeight());

            Drawable drawableTray = getResources().getDrawable(
                    R.drawable.bg_footer_tray);
            drawableTray.setBounds(tileFillRect);
            drawableTray.draw(canvas);

            // set text Size
            tileTextPaint.setTextSize(2 * defaultFontS);
            // fill the tray item
            int turn = ge.getPlayerTurn();
            Tray t = ge.getPlayer(turn).getTray();
            int tileSize = dims.getTotalWidth() / (Tray.TRAY_SIZE - 1);
            if (tileSize >= dims.getTrayHeight())
                tileSize = (4 * dims.getTrayHeight() / 5) - 5;
            int bot_border = 7;

            int space = (dims.getTotalWidth() - (tileSize * Tray.TRAY_SIZE))
                    / (Tray.TRAY_SIZE + 1);
            int reps = t.getNumUnusedTiles();
            tilesTray = new Rect[reps];
            for (int i = 0; i < reps; i++) {
                if (t.getTile(i) == null)
                    continue;

                if (i == 0) {
                    tilesTray[i] = drawTile(canvas, i * tileSize + (i + 1)
                            * space - bot_border, dims.getTotalHeight()
                            - tileSize - 2 * bot_border, i * tileSize + (i + 1)
                            * space + tileSize + bot_border,
                            dims.getTotalHeight() - bot_border,
                            t.getTileLetter(i), 0);

                } else if (i == 1) {
                    tilesTray[i] = drawTile(canvas, i * tileSize + (i + 1)
                            * space - bot_border, dims.getTotalHeight()
                            - tileSize - 2 * bot_border, i * tileSize + (i + 1)
                            * space + tileSize + bot_border,
                            dims.getTotalHeight() - bot_border,
                            t.getTileLetter(i), 0);
                } else if (i == 2) {
                    tilesTray[i] = drawTile(canvas, i * tileSize + (i + 1)
                            * space - bot_border, dims.getTotalHeight()
                            - tileSize - 2 * bot_border, i * tileSize + (i + 1)
                            * space + tileSize + bot_border,
                            dims.getTotalHeight() - bot_border,
                            t.getTileLetter(i), 0);
                } else if (i == 3) {
                    tilesTray[i] = drawTile(canvas, i * tileSize + (i + 1)
                            * space - bot_border, dims.getTotalHeight()
                            - tileSize - 2 * bot_border, i * tileSize + (i + 1)
                            * space + tileSize + bot_border,
                            dims.getTotalHeight() - bot_border,
                            t.getTileLetter(i), 0);
                } else if (i == 4) {
                    tilesTray[i] = drawTile(canvas, i * tileSize + (i + 1)
                            * space - bot_border, dims.getTotalHeight()
                            - tileSize - 2 * bot_border, i * tileSize + (i + 1)
                            * space + tileSize + bot_border,
                            dims.getTotalHeight() - bot_border,
                            t.getTileLetter(i), 0);
                } else if (i == 5) {
                    tilesTray[i] = drawTile(canvas, i * tileSize + (i + 1)
                            * space - bot_border, dims.getTotalHeight()
                            - tileSize - 2 * bot_border, i * tileSize + (i + 1)
                            * space + tileSize + bot_border,
                            dims.getTotalHeight() - bot_border,
                            t.getTileLetter(i), 0);
                } else if (i == 6) {
                    tilesTray[i] = drawTile(canvas, i * tileSize + (i + 1)
                            * space - bot_border, dims.getTotalHeight()
                            - tileSize - 2 * bot_border, i * tileSize + (i + 1)
                            * space + tileSize + bot_border,
                            dims.getTotalHeight() - bot_border,
                            t.getTileLetter(i), 0);
                } else {
                    tilesTray[i] = drawTile(canvas, i * tileSize + (i + 1)
                            * space, dims.getTotalHeight() - tileSize
                            - bot_border, i * tileSize + (i + 1) * space
                            + tileSize, dims.getTotalHeight() - bot_border,
                            t.getTileLetter(i), 0);
                }
                t.getTileLetter(i));
                tileFillPaint.setColor(Color.WHITE);
            }
        }

        private Rect drawTile(Canvas canvas, int left, int top, int right,
                int bottom, String text, int id) {

            Rect tileRect;
            tileRect = new Rect(left, top, right, bottom);

            // by ashwani
            Drawable drawableMain = getResources().getDrawable(
                    R.drawable.blankbtn);
            drawableMain.setBounds(tileRect);
            drawableMain.draw(canvas);
            Paint p = new Paint();
            Picture picture = new Picture();
            picture.draw(canvas);
            canvas.drawPicture(picture);

            );
            if (id == 0) {
                canvas.drawText(text, left + (right - left) / 2, bottom
                        - (bottom - top) / 5, tileTextPaint);
            } else {
                int k = 9;
                canvas.drawText(text, left + (right - left) / 2,
                        (bottom - (bottom - top) / 5) - 25, tileTextPaint);
                int i = 0;
            }

            // canvas.drawText(text, left + (right - left) / 2, bottom
            // - (bottom - top) / 5, tileTextPaint);

            return tileRect;
        }

        private void undoMovingChanges() {
            tileIsMoved = false;
            boardTileIsMoved = false;
            selectedTileNum = -1;
            selectedBoardTileX = -1;
            selectedBoardTileY = -1;
        }

        private int getMovingTileXPos(int x) {
            if (x < dims.getCellSize() / 2)
                return dims.getCellSize() / 2;
            else if (x > dims.getTotalWidth() - dims.getCellSize() / 2)
                return dims.getTotalWidth() - dims.getCellSize() / 2;
            else
                return x;
        }

        }

        private void handleTrayClick(int x, int y) {
            for (int i = 0; i < tilesTray.length; i++) {
                try {
                    if (tilesTray[i].contains(x, y))
                        selectedTileNum = i;
                } catch (NullPointerException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (Exception e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
            }
        }

        private void calculateStackCoords(int x, int y) {
        }

        @Override
        public boolean onTouch(View v, MotionEvent event) {
            System.out.println(" on touch event");
            return false;
        }
    }

    final Handler handler = new Handler() {
        @Override
        public void handleMessage(Message msg) {

        }
    };

    public BoardView(Context context, AttributeSet attrs) {
        super(context, attrs);

        SurfaceHolder holder = getHolder();
        holder.addCallback(this);

        // endTurn=(ImageButton)findViewById(R.id.endturn_button_horizontal);
        thread = new DrawingThread(holder, handler);
    }

    @Override
    public void surfaceChanged(SurfaceHolder holder, int format, int width,
            int height) {
    }

    @Override
    public void surfaceCreated(SurfaceHolder holder) {
        final float scale1 = getResources().getDisplayMetrics().density;
        defaultFontSize = (int) (MIN_FONT_DIPS * scale1 + 0.5f);
        thread.setDefaultFontSize(defaultFontSize);
        dimensions = calculateDimensions(getWidth(), getHeight());
        thread.setDimensions(dimensions);

        thread.setRunning(true);
        thread.start();
    }

    @Override
    public void surfaceDestroyed(SurfaceHolder holder) {
        boolean retry = true;
        thread.setRunning(false);
        while (retry) {
            try {
                thread.join();
                retry = false;
            } catch (InterruptedException e) {

            }
        }
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        System.out.println(" on touch event");
        int evt = event.getAction();
        int x = (int) event.getX();
        int y = (int) event.getY();
        thread.setEventInfo(evt, x, y);
        try {
            Thread.sleep(10);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        return true;
    }

    public void setEndTurn(Button end) {
        endTurn = end;
        endTurn.setClickable(false);
    }

    public void setSwitchMode(boolean b) {
        thread.setSwitchMode(b);
    }

    public Dimensions getDimensions() {
        return dimensions;
    }

    public void setGameEngine(GameEngine ge) {
        thread.setGameEngine(ge);
    }

    public void setPopupWindow(PopupWindow popUp) {
        thread.setPopupWindow(popUp);
    }

    private Dimensions calculateDimensions(int width, int height) {
        int cellSize, padding, top, bWidth, bHeight, scHeight, tHeight;
        int maxCellSize;

        Dimensions dims = new Dimensions();
        dims.setTotalWidth(width);
        dims.setTotalHeight(height);
        cellSize = width / BOARD_SIZE;
        maxCellSize = 3 * defaultFontSize;
        if (maxCellSize < cellSize)
            cellSize = maxCellSize;
        bWidth = BOARD_SIZE * cellSize;
        bHeight = bWidth;
        padding = (width - bWidth) / 2;
        scHeight = defaultFontSize * 2;
        tHeight = cellSize * 4;

        if (height >= bWidth + scHeight + tHeight) {
            top = (height - bWidth - scHeight - tHeight) / 2;
        } else {
            top = 0;
            tHeight = 4 * defaultFontSize;
            if (height - bHeight - tHeight > tHeight) {
                tHeight = height - bHeight - tHeight;
                scHeight = height - bHeight - tHeight;
            } else {
                scHeight = height - bHeight - tHeight;
            }
        }
        dims.setCellSize(cellSize);
        dims.setBoardheight(bHeight);
        dims.setPadding(padding);
        dims.setScoreHeight(1);
        dims.setTop(top);
        dims.setTrayHeight(tHeight);
        return dims;
    }

    @Override
    public boolean onTouch(View v, MotionEvent event) {
        // TODO Auto-generated method stub
        return false;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T09:41:05.533

只需写下以下代码：

```
objectname.setBuiltInZoomControls(true); 
```

# asp.net - 编辑后如何永久更改 Gridview 行颜色

> ID：11590738
> 
> 赞同：0
> 
> 时间：2012-07-21T08:40:19.080
> 
> 标签：asp.net, c#-4.0

我有一个网格视图，其中我有一个名为链接按钮的项目模板，通过单击该链接按钮将出现 Ajax 弹出扩展程序，并且用户编辑项目。编辑后行颜色应该更改为其他颜色。颜色应该永久更改。 . 我怎样才能做到这一点

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T08:50:09.267

您可以通过在 GridViews RowUpdated 事件中设置行背景颜色来实现它

```
Example:

<asp:gridview id="gridView1" 
        onrowupdated="gridView1_RowUpdated"   
        runat="server"
       ...........................

protected void gridView1_RowUpdated(object sender, GridViewEditEventArgs e)
{
    GridViewRow row = gridView1_RowUpdated.Rows[e.NewEditIndex];
    row.BackColor = Color.LightYellow;
} 
```

# java - AES 中的错误填充异常

> ID：11590739
> 
> 赞同：0
> 
> 时间：2012-07-21T08:40:24.083
> 
> 标签：java, encryption, aes

我正在开发一个需要向用户发送验证链接的项目。因此使用 AES 加密对他的用户名进行了加密。我的代码工作正常，即加密和解密工作正常，但仅在我测试时在程序中工作。我加密了一个字符串，然后解密它。它在“本地”运行良好。

问题是，当我发送带有激活链接的电子邮件并单击它时，它给了我错误：

**`javax.crypto.BadPaddingException: Given final block not properly padded`**

我的代码如下所示：

```
public class AES {

private static final String algo="AES";
private static final byte[] keyValue= 
        new byte[]{somekey};

private static Key generateKey() throws Exception{

    Key key= new SecretKeySpec(keyValue, algo);

    return key;
}

public static String encrypt(String  email) throws Exception{

    Key key=generateKey();
    Cipher c=Cipher.getInstance(algo);
    c.init(Cipher.ENCRYPT_MODE, key);
    byte[] encVal=c.doFinal(email.getBytes());
    String encryptedEmail= new BASE64Encoder().encode(encVal);

    return encryptedEmail;
}

public static String decrypt(String encryptedEmail) throws Exception{

    Key key=generateKey();
    Cipher c=Cipher.getInstance(algo);
    c.init(Cipher.DECRYPT_MODE, key);

    byte[] decodeEmail= new BASE64Decoder().decodeBuffer(encryptedEmail);
    byte[] decodedEmail=c.doFinal(decodeEmail);

    String decryptedEmail= new String(decodedEmail);

    return decryptedEmail;
    } 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:41:21.943

我让它使用 Bouncy Castle 库的 Base64 编码器/解码器运行，完全没有问题。检查您的输入/输出并使用有效的 base 64 编码器/解码器，而不是带有未指定输入/输出的 Sun 内部编码器/解码器。

警告：当您使用未指定的字符编码时，它将使用特定于平台的编码，因此您的输入/输出在不同的系统上可能会有所不同。尝试使用 Charset.forName("UTF8") 进行最兼容的字符编码（在 String 构造函数和`toBytes`方法中）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:53:23.890

您的代码似乎没有在加密或解密上设置填充。在两端显式设置填充要好得多。您似乎也没有设置模式，同样需要明确完成。

我建议“AES/CBC/PKCS5Padding”作为一个明显的选择。

# ruby-on-rails - Rails：在未来版本中集成 Facebook 的方法

> ID：11590740
> 
> 赞同：0
> 
> 时间：2012-07-21T08:40:25.443
> 
> 标签：ruby-on-rails, facebook, authentication

我正在开发一个网站的 Rails 版本，我已经创建了一个使用**authlogic**作为登录名的登录结构。选择它的原因是我已经将它用于我的其他三个 Rails 网站，但我不记得为什么开始使用它。

如果使用 Facebook 登录和其他类型的与 Facebook 的集成，我的 Web 应用程序会更好，但这对 MVP 来说并不重要。为了更快地发布并将整个学习和实施工作推向未来，我正在考虑将这个 Facebook 集成推向 2.0。我仍然是一个新手，这一切似乎都很复杂。

然而，我对此的主要问题是，我不想最终陷入无法将两者结合起来的情况。恐怕这意味着我将不得不拥有两组并行的用户。

今天我正在使用一个用户表，其中包含以下信息：用户名、id（即 Rails 行 id）、全名、出生日期等。我希望将来用户能够使用 Facebook 登录并绑定它到他的旧帐户。我使用 user.id 作为应用程序中所有其他表之间的连接（评论、问题、想法等）。

A. 与 Facebook 的集成是否可以按照我的计划进行，或者我是否会为未来制造更大的问题？

B. 我是否应该避免在此处使用*authlogic*（一般情况下也是如此）？使用*omniauth*或*devise*（正如我推荐的那样）需要一些时间和精力，而且我已经有一个有效的登录系统，但如果这是一个强烈的推荐，我会改变。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:46:06.407

阅读authlogic 的[Add Ons 部分](https://github.com/binarylogic/authlogic/#authlogic-%E2%80%9Cadd-ons%E2%80%9D)。

facebook connect 的插件很少，例如[Authlogic Facebook Shim](https://github.com/james2m/authlogic_facebook_shim)

* * *

你应该注意到，如果我们比较[设计](https://github.com/plataformatec/devise/graphs)和[authlogic](https://github.com/binarylogic/authlogic/graphs)的 github 统计数据，第一个是更活跃的项目（查看提交）。因此，如果您的项目刚开始，我建议您进行设计。

# tinymce - 使 TinyMCE 中的前色按钮表现不同

> ID：11590747
> 
> 赞同：1
> 
> 时间：2012-07-21T08:41:40.763
> 
> 标签：tinymce

我想让tinymce中的前色表现不同。我在哪里可以在代码中更改它？

我希望前色不适用于具有特定类别的元素。

例如，我有`<span class="test">Here is span</span>`.

当我选择文本并单击更改颜色时，默认情况下 TINYMCE 会生成类似`<span class="test"><span style="color:rgb(234,51,24)">Here is span</span></span>`.

我想要它不同，我想把它写成`<span class="test">color(234,51,24)Here is span</span>`. 这种修改应该只适用于“test”类的元素。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T10:38:35.260

在这种情况下，您将不得不开发自己的插件或修改目前存在的行为。现在有办法配置它，因为你想要的是一些特别的东西。

# php - 对多维数组进行计算

> ID：11590754
> 
> 赞同：-1
> 
> 时间：2012-07-21T08:42:31.477
> 
> 标签：php, arrays, multidimensional-array

我正在尝试使用 MySQL 数据库中的值制作一个浮点图。所以我做了

```
//creating array of pairs of x and y values

$dataArray = array();
while ($row = mysql_fetch_assoc()) { //or whatever
    $dataArray[] = array( $row['xvalue'], $row['yvalue'] );
}
?>

<script type="text/javascript">
    //puting array in javascript
    var dataArray = <?php echo json_encode($dataArray); ?>;

    //ploting the graph
    $(function () {
         $.plot($("#placeholder"), [ dataArray ]);
    });
</script> 
```

一切正常但现在问题在于修改 "$dataArray" 的值（内容）。我想在 xvalue 保持不变的情况下修改所有 yvalue。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:59:10.660

你可以使用[array_walk_recursive](http://php.net/manual/en/function.array-walk-recursive.php)。在此示例中，我创建了一个具有 x/y 值的数组并计算将 1000 添加到 y 值：

```
<?php
$a[]=array(10,20);
$a[]=array(10,30);

function calc(&$v,$k){
if($k==1){
    $v = $v+1000;  //Calculate
    }
}

$b=array_walk_recursive($a, "calc");
print_r($a);

?> 
```

返回：

```
Array
(
    [0] => Array
        (
            [0] => 10
            [1] => 1020
        )

    [1] => Array
        (
            [0] => 10
            [1] => 1030
        )

) 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-21T08:46:47.683

```
foreach($Array as &$Values)
{
    $Values[1] = YOUROPERATIONS;
} 
```

# json - 在 Restkit 中解析编码的 json 字符串

> ID：11590759
> 
> 赞同：0
> 
> 时间：2012-07-21T08:43:45.940
> 
> 标签：json, ios5, restkit

您好，我正在尝试从 Google Maps API 解析此结果，

```
{tooltipHtml:" (10.6 km / 15 mins)",polylines:[{id:"route0",points:"}psuIqmvu@xNnCnAHzBMvBo@??fCmA??MmDEqIHkGViHlHq`A??}DsAuAs@sAeAMAkZwY}OcP{OkOgCiCQ[cBuA??kIuE_S_KeEmDwA{B{EyIyDmHuFgL_CaIYuA?W[mCHc@??p@wANgA?oAIeAUeAKU_Aw@eAJo@z@[B{Ac@QDcVaGsAQyEM{DZaB\\wEbBU?mIrDoBb@yBRUJgKAsCe@mCoAiTkNyBqBkEkFi@a@sCqAgK_CqBMaKBoDGibAmNSOoCc@sIiAQFgD[yH[UIi@?sB\\yA@a@K??[fB??{TfIgBbAwFzD??XjBVX?X",levels:"B???BBBB???@BB???@?????BB??@???@????BB??@???@???????@?????@??@?????@?@??????????????BBBB??BB??B",numLevels:4,zoomFactor:16}]} 
```

但是 Restkit 不会接受编码点并给我这个错误

```
E restkit.network:RKResponse.m:289 Unable to parse response body: Unexpected token, wanted '{', '}', '[', ']', ',', ':', 'true', 'false', 'null', '"STRING"', 'NUMBER'. 
```

我的代码如下所示来解析结果

```
- (void)request:(RKRequest*)request didLoadResponse:(RKResponse*)response {

NSError *error = nil;

NSDictionary *parsedResponse = [response parsedBody:&error]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-14T15:27:09.123

我认为，答案的格式不是 JSON。在 JSON 格式中，键被放置在引号中：“”。

查看真正的 JSON 示例：

> {"key1":5,"key2":"string_value"}

或者从 Google 服务示例中查看真正的 JSON：

> {“状态”：“确定”，“结果”：[{“类型”：街道地址，“格式化地址”：“1600 Amphitheatre Pkwy，山景城，CA 94043，美国”，“地址组件”：[{“长名称”：“ 1600", "short_name": "1600", "types": street_number }, { "long_name": "Amphitheatre Pkwy", "short_name": "Amphitheatre Pkwy", "types": route }, { "long_name": "山景", "short_name": "山景", "types": [ "locality", "political" ] }, { "long_name": "California", "short_name": "CA", "types": ["administrative_area_level_1", "political" ] }, { "long_name": "United States", "short_name": "US", "types": [ "country", "political" ] } , { "long_name": "94043", "short_name": "94043", "types": postal_code } ], "geometry": { "location": { "lat": 37.4219720, "lng": -122.0841430 }, “位置类型”：“屋顶”，“视口”：{“西南”：{“纬度”：37.4188244，“lng”：-122.0872906}，“东北”：{“纬度": 37.4251196, "lng": -122.0809954 } } } } ] }

来源：[https ://developers.google.com/maps/documentation/geocoding/?hl=ru#JSON](https://developers.google.com/maps/documentation/geocoding/?hl=ru#JSON)

为了测试我的 JSON，我通常使用[http://json.parser.online.fr/](http://json.parser.online.fr/)（但对于 Google 的示例答案，由于名为“type”的未知键，它无法正常工作）。

# css - 首次加载时未显示 DIV 背景图像。仅在首次使用 Chrome 在 FB 上加载应用程序时发生

> ID：11590768
> 
> 赞同：2
> 
> 时间：2012-07-21T08:44:25.203
> 
> 标签：css, facebook, image, background, chromium

这个快把我逼疯了。我们正在开发的 FB 应用程序在显示背景图像时出现问题。

**有问题的应用程序：** [摇滚征服](http://apps.facebook.com/rockconquest)

**问题：**当您首次使用 Google Chrome 加载应用程序时 ，主体和 DIV 类的背景图像`MainHeader`不显示。如果您刷新页面，它们就会出现。如果我打开元素检查器并取消选中然后重新选中背景图像框，我也可以让它们显示出来。之后，它们将继续正常显示，直到您关闭 Facebook/浏览器然后重新登录。

我只在使用 Chrome 时看到过这个问题，并且仅在通过 Facebook 访问该应用程序时才会发生。如果我直接进入应用程序 ( [www.rockconquest.net](http://www.rockconquest.net) )，那么它工作正常。

如果我只是复制首页的页面源代码，然后将其粘贴到静态页面中，它可以正常工作而无需进行任何更改。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T08:50:48.450

当您使用大量使用 ajax 的 Facebook、Twitter 或 Github 等网站时，通常会发生这种情况。

如果您使用 Javascript 显示背景图像，您应该尝试`setTimeout`在几毫秒后加载它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T09:30:14.877

Chrome 的开发人员工具显示，对您的两张背景图片的请求被“取消”，但快速浏览一下我无法告诉您原因。

我不认为您正在使用 JavaScript 显示这些背景图像，正如帕特里克在他的回答中所怀疑的那样（为什么会这样） - 但您可以尝试使用 JavaScript 进行“快速修复”/解决方法：

在页面加载时，生成两个新的 Img 对象并将它们的 src 属性设置为背景图像的 URL：

```
var whatever = new Img();
whatever.src = "…"; 
```

这*可能*会让 Chrome 在加载后自动将它们显示在所需的位置——如果没有，那么你可以使用 Img 对象的 onload/oncomplete 处理程序再次显式设置元素的背景样式……我认为至少 Chrome 应该最后显示它们。

这不应该损害其他浏览器的性能，因为如果他们已经在第一次尝试时设法加载了图像，那么他们只会将它们从缓存中拉出来。

# mongodb - mongoDB查询执行流程图

> ID：11590772
> 
> 赞同：0
> 
> 时间：2012-07-21T08:44:53.727
> 
> 标签：mongodb, processing

有像this page这样的mongoDB查询处理[。](http://docs.oracle.com/cd/B28359_01/server.111/b28318/sqlplsql.htm#CHDGDGAH "这一页。")

我已经搜索了很多幻灯片，但仍然没有找到我要找的东西。谁能用流程图解释查询执行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T16:49:42.647

我想你可能会发现这个视频很有用：

[http://www.10gen.com/presentations/mongosv-2011/the-life-of-a-query](http://www.10gen.com/presentations/mongosv-2011/the-life-of-a-query)

# php - 使用 PHP/MySQL 搜索网站的最佳方式是什么？

> ID：11590775
> 
> 赞同：2
> 
> 时间：2012-07-21T08:45:16.013
> 
> 标签：php, mysql, apache

我需要为我们的框架实施可靠的站点搜索解决方案。它必须搜索所有页面和数据。

我可以使用 MySQL 自己制作，但在阅读了一些博客后，我意识到有很多事情需要考虑。加; 我宁愿不重新发明轮子。

大约一年前，我使用 Zend_Search_Lucene。喜欢构建索引然后在需要时搜索它们的方式。虽然我发现 Zend_Search_Lucene 有时会给出不准确的结果，所以我不再信任它了。

**要求**

*   仅后端解决方案（我想自己输出结果）
*   结果必须（和）一样好（最多延迟几个小时）
*   结果必须完整
*   结果必须按相关性排序
*   不需要在服务器上进行任何安装（我使用无法安装任何东西的集群主机）
*   没有广告

您是否知道可靠、可靠并满足这些要求的解决方案？

**更新 1***

此搜索解决方案目前不需要处理大量流量。当需要一个解决方案来处理大量流量和数据时，我们将获得另一台服务器，我们可以在该服务器上安装一个好的解决方案，这是可以接受的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T19:41:19.773

实际上，我曾经使用过一个简单的搜索系统实现。许多个月前，这是采用“无服务器安装”方法的最佳方式。

```
http://www.sphider.eu/ 
```

让我们知道您的身体情况如何。您确实需要一个数据库，但大概您有一个可以将数据卸载到的集群数据库。如果您的解决方案不是基于 MySQL 的，那么这将需要大量工作，但对于简单直接的爬取和搜索来说，这绝对是前进的方向。

还有一个非常容易运行的内置 cron-job 脚本（如果我没记错的话）。

# android - 安卓数据库

> ID：11590789
> 
> 赞同：-2
> 
> 时间：2012-07-21T08:47:51.820
> 
> 标签：android, sqlite

这是我的情况——我创建了一个注册活动，它将接受用户的数据并将其存储在一个表中。注册后，用户将被引导到一个确认页面，其中将显示他/她的随机生成的会员ID。现在，我想将此号码与注册的特定人员相关联，并将他的姓名和密码（与其他详细信息一起存储在注册表中）与成员 ID 一起保存在新表中，以便我可以登录。你们能帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T09:06:13.437

使用光标从数据库中获取您想要的所有详细信息。

```
Database db = new Database(this);   

 Cursor yourdata = db.getDetails(this);
if(yourdata!=null)
{
yourdata.moveToFirst();
String value= cursor.getString(cursor.getColumnIndex(yourUserName); 
String value= cursor.getString(cursor.getColumnIndex(yourpassword);
} 
```

然后根据需要创建一个新表，只需使用随机生成的 id 将检索记录插入到新表中。

或者

您可以更改主表以添加随机生成的 ID，而不是创建新表。它可以节省内存。

**编辑：**

```
 public void updateMemberid(int memberid, int primarykeyid)
{
    SQLiteDatabase db = getWritableDatabase();
    ContentValues values = new ContentValues();
    String where = PRIMARYKEYIDCOLUMNNAME+"="+primarykeyid; 
    values.put(MEMBERIDCOLUMN, memberid);
    db.update(YOUTABLE, values, where, null);
} 
```

希望能帮助到你。

# jquery - 如何使用 jQuery 找到 td 的父 tr？

> ID：11590792
> 
> 赞同：30
> 
> 时间：2012-07-21T08:48:30.477
> 
> 标签：jquery

我有以下内容：

```
 tdToPad = tds.filter('[id^="input_Title_"]')
    pad = 60;
    tdToPad.css('margin-left', pad); 
```

我想要做的是删除任何以“X-”开头的类，并给“tdToPad”包含的行一个“X-”+ pad的类。

就像是：

```
<tr class='X-60'>
   <td>
   </td>
</tr> 
```

因为 toToPad 是指连续的 td 元素。我怎样才能给父母 tr 类 "X-" + pad ？我想我需要类似下面的东西，但如果这是正确的方法，那么我怎样才能用“X-” somevalue 类删除已经存在的元素，然后给这个元素正确的类？

```
tdToPad.Parent('tr') 
```

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2012-07-21T08:50:33.163

您可以使用[`closest()`](http://api.jquery.com/closest/)方法：

> 获取与选择器匹配的第一个元素，从当前元素开始，向上遍历 DOM 树。

```
tdToPad.closest('tr')
       .addClass('X-' + pad) 
```

**更新：**

```
tdToPad.closest('tr').get(0).className = tdToPad.closest('tr').get(0).className.replace(/\bX\-.*?\b/g, '');
tdToPad.closest('tr').addClass('X-' + pad) 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-21T08:51:43.690

你几乎是对的。`parent()`只需对( [docu](http://api.jquery.com/parent/) )使用正确的拼写并添加`addClass()`( [docu](http://api.jquery.com/addClass/) ) 调用即可。

```
tdToPad.parent('tr').addClass( 'X-' + pad ); 
```

# c# - 如何在泛型中使用值类型

> ID：11590797
> 
> 赞同：4
> 
> 时间：2012-07-21T08:50:00.353
> 
> 标签：c#, .net

我有以下代码：

```
public class Class1
{
    void ValueSpecific(string arg)
    {
        // do string stuff
    }
    void ValueSpecific(int arg)
    {
        // do int stuff
    }
    void ValueSpecific(float arg)
    {
        // do float stuff
    }
    void ValueGeneric(string arg)
    {
        // do stuff
        ValueSpecific(arg);
        // do more stuff
    }
    void ValueGeneric(int arg)
    {
        // do stuff
        ValueSpecific(arg);
        // do more stuff
    }
    void ValueGeneric(float arg)
    {
        // do stuff
        ValueSpecific(arg);
        // do more stuff
    }
    void Main(string s, int i, float f)
    {
        ValueGeneric(s);
        ValueGeneric(i);
        ValueGeneric(f);
    }
} 
```

这可行，但 ValueGeneric 的所有三个重载的主体都是相同的。我想将它们合并为一种方法，如下所示：

```
void ValueGeneric<T>(T arg) where T: string, float, int
{
    // do stuff
    ValueSpecific(arg);
    // do more stuff
} 
```

但这当然不是有效的 C#。我能想到的最好的是：

```
void ValueGeneric(object arg)
{
    // Do stuff
    if (arg is int)
    {
        ValueSpecific((int)arg);
    }
    else if (arg is string)
    {
        ValueSpecific((string)arg);
    }
    else if (arg is float)
    {
        ValueSpecific((float)arg);
    }
    else
    {
        Debug.Assert(false, "Invalid type)
    }
    // Do more stuff
} 
```

但这似乎很不雅。我会很感激任何建议。（虽然我会对任何解决方案感兴趣，但 .NET3.5 支持的解决方案是最好的，因为这就是我正在使用的。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:05:32.717

假设您在所有重载之前和之后都在做同样的事情，您可以应用通常的方法来分解代码中的不同之处并将它们参数化。唯一改变的是传入的参数和您对该参数执行的操作。把他们俩都传进去。

```
static void ValueGeneric<T>(T arg, Action<T> action)
{
    // do stuff
    action(arg);
    // do more stuff
} 
```

然后使用适当的操作调用泛型方法（您的`ValueSpecific`重载将很好地自行解决）。

```
ValueGeneric(s, ValueSpecific);
ValueGeneric(i, ValueSpecific);
ValueGeneric(f, ValueSpecific); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:08:47.283

根据我对其他大型 .NET 项目的了解，您可以同时包含特定和通用重载。如果不存在特定的重载，他们将只使用通用版本：

```
void ValueGeneric(int i);
void ValueGeneric(string s);
void ValueGeneric(float f);
void ValueGeneric<T>(T t); 
```

根据您发布的代码的结构，您似乎想对 的内容之前和之后的所有类型做一些事情`ValueSpecific`，因此您可以将所有重载在开头和结尾调用的私有`PreValueGeneric`和方法设置为避免代码之间的重复过载。`PostValueGeneric``ValueGeneric`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T09:40:47.973

您是否考虑过为每种类型使用扩展方法？对于这种情况，它可能是一种替代方案。

您可以定义一个类并定义该方法。喜欢：

```
namespace ExtensionMethods
{
    public static class Class1
    {
        static void ValueSpecific(this string arg)
        {
            // do string stuff
        }
        static void ValueSpecific(this int arg)
        {
            // do int stuff
        }  
    }
} 
```

然后，当您想使用它们时，只需执行

```
Int32 myIntVar = 20;
myIntVar.ValueSpecific();
String myStringVar = "hi",
myStringVar.ValueSpecific(); 
```

你将不得不添加

```
using ExtensionMethods; 
```

只声明方法并使用它们。

# javascript - 使用 javascript 从 JSON 中提取数据

> ID：11590799
> 
> 赞同：-1
> 
> 时间：2012-07-21T08:50:06.007
> 
> 标签：javascript, json

我有与此类似的 JSON。我希望从此列表中提取名称、他的 id 和产品标题等值。但我无法弄清楚。我也在尝试“评估”。

```
{
    "data": [{
        "id": "3092773937557",
        "from": {
            "id": "1810306393",
            "name": "Prashant Singh"
        },
        "start_time": "2012-07-21T09:12:53+0000",
        "end_time": "2012-07-21T09:12:53+0000",
        "publish_time": "2012-07-21T09:12:53+0000",
        "application": {
            "id": "132692593533721",
            "name": "Compare Hatke"
        },
        "data": {
            "productname": "Apple iPod Nano",
            "price": 399,
            "product": {
                "id": "10151004296768984",
                "url": "http:\/\/compare.buyhatke.com\/products\/Apple-iPod-Nano",
                "type": "comparehatke:product",
                "title": "Apple iPod Nano"
            }
        },
        "likes": {
            "count": 0
        },
        "comments": {
            "count": 0
        },
        "no_feed_story": false
    }, {
        "id": "3092770217464",
        "from": {
            "id": "1810306393",
            "name": "Prashant Singh"
        },
        "start_time": "2012-07-21T09:08:53+0000",
        "end_time": "2012-07-21T09:08:53+0000",
        "publish_time": "2012-07-21T09:08:53+0000",
        "application": {
            "id": "132692593533721",
            "name": "Compare Hatke"
        },
        "data": {
            "productname": "Apple iPod Nano",
            "price": 399,
            "product": {
                "id": "10151004296768984",
                "url": "http:\/\/compare.buyhatke.com\/products\/Apple-iPod-Nano",
                "type": "comparehatke:product",
                "title": "Apple iPod Nano"
            }
        },
        "likes": {
            "count": 0
        },
        "comments": {
            "count": 0
        },
        "no_feed_story": false
    }],
    "paging": {
        "next": "https:\/\/graph.facebook.com\/me\/comparehatke:compare\/?access_token=AAAB4rubm4xkBAHRhdjVgx7JxIIvUxImIm31AMxgnqEAOQsAsgZAJjBYUfvzKc8XgxDBg3AzKN1S6QU2dnmtgj7TPcoCiih1RzrL3pLpuZAgGt8eKpq&limit=2&method=get&pretty=0&offset=2"
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T09:02:53.857

```
<html>
   <script style="text/javscript">
    var myObject = { "data": [{
        "id": "3092741696751",
        "from": {
        "id": "1810306393",
        "name": "Prashant Singh"
    },
     "start_time": "2012-07-21T08:40:38+0000",
     "end_time": "2012-07-21T08:40:38+0000",
     "publish_time": "2012-07-21T08:40:38+0000",
     "application": {
     "id": "132692593533721",
     "name": "Compare Hatke"
     },
     "data1": {
         "productname": "Apple iPod Nano",
         "price": 399,
         "product": {
         "id": "10151004296768984",
         "url": "http:\/\/compare.buyhatke.com\/products\/Apple-iPod-Nano",
         "type": "comparehatke:product",
         "title": "Apple iPod Nano"
      }
      },
      "likes": {
      "count": 0
      },
      "comments": {
      "count": 0
      },
      "no_feed_story": false
      } ]};
   alert(myObject.data[0].id);
   </script>
 </html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T08:52:24.997

```
data = JSON.parse(yourJSONString); 
```

如果失败，您的 JSON 中可能有错误。您可以使用[http://jsonlint.com/](http://jsonlint.com/)查找并解决问题。**在上面的粘贴中，您缺少收盘价`]}`。**

# vb.net - 在 Windows 8 桌面应用程序认证要求中自动启动

> ID：11590804
> 
> 赞同：2
> 
> 时间：2012-07-21T08:50:22.867
> 
> 标签：vb.net, windows-8

Windows 8 桌面（不是 Metro！）应用认证要求状态

> 10.2 您的应用程序必须避免在启动时自动启动。例如，您的应用不应设置以下任何内容；
> 
> *   注册表运行密钥 HKLM 和，或 Software\Microsoft\Windows\CurrentVersion 下的 HKCU
> *   Software\Wow6432Node\Microsoft\windows\CurrentVersion 下的注册表运行密钥 HKLM 和/或 HKCU
> *   开始菜单 AllPrograms > STARTUP `

我同意许多自动启动后台进程是不必要的，如果可能的话应该避免这种情况，但是一些应用程序（比如我的）位于系统托盘中，用户明确希望它们在启动时自动启动。

有什么东西可以让应用程序自动启动吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T22:47:19.107

任务计划程序可用于在用户登录时启动程序。但是，我相信团队根本不希望*经过认证*的应用程序自动运行。当然驱动程序将在启动时运行，但那些不是经过认证的应用程序。我猜屏幕阅读器和辅助功能工具也不会被视为经过认证的应用程序，但我会四处询问。

# perl - 所有不可打印的字符都是控制字符吗？

> ID：11590810
> 
> 赞同：3
> 
> 时间：2012-07-21T08:50:46.043
> 
> 标签：perl, unicode, control-characters

这（[perldoc unicode](http://perldoc.perl.org/perlunicode.html#Unicode-Character-Properties)）是否意味着所有不可打印的字符都是控制字符？

```
\p{Print}

This matches any character that is graphical or blank, except controls. 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T17:44:47.197

这将肯定地告诉你：

```
diff -U0 \
      <( unichars -au '\P{Print}'   ) \
      <( unichars -au '\p{Control}' ) \
   && echo No differences 
```

`unichars`来自[Unicode::Tussle](http://search.cpan.org/perldoc?Unicode%3a%3aTussle)

我不能在星期一之前运行它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T09:03:08.257

如果不可见的空格/空白字符被认为是可打印的，那么是的，这只会使控制字符无法打印。

但是，如果您不考虑可打印的空格/空白字符（例如[行分隔符](http://www.fileformat.info/info/unicode/char/2028/index.htm)），则不会。

# android - android支持带有注释的旧api

> ID：11590817
> 
> 赞同：1
> 
> 时间：2012-07-21T08:52:07.927
> 
> 标签：android, annotations, compatibility

我有一个打开联系人活动的按钮（我希望用户选择一个联系人），按钮如下所示：

```
<Button 
    android:id="@+id/ok1"
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content"
    style="@style/button_contact"
    android:onClick="contact"
/> 
```

联系功能刚刚打开新活动：

```
public void contact(View view) {
    Intent intent = new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI);
    startActivityForResult(intent, PICK_CONTACT);
} 
```

ContactsContract.Contacts.CONTENT_URI 由 API 级别 5 (ECLAIR) 提供。所以我在函数上方添加了@TargetApi(5)：

```
@TargetApi(5)
public void contact(View view) {
   Intent intent = new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI);
   startActivityForResult(intent, PICK_CONTACT);
} 
```

我在 onCreate 方法中隐藏了这个按钮：

```
if(Build.VERSION.SDK_INT < Build.VERSION_CODES.ECLAIR){
    findViewById(R.id.ok1).setVisibility(View.GONE);
} 
```

但是当活动开始时我仍然有一个例外：

```
07-21 08:36:26.223: E/AndroidRuntime(591): Uncaught handler: thread main exiting due to uncaught exception
07-21 08:36:26.223: E/AndroidRuntime(591): java.lang.VerifyError: com.krinsen.world.ui.MultiplayerActivity
07-21 08:36:26.223: E/AndroidRuntime(591):  at java.lang.Class.newInstanceImpl(Native Method)
07-21 08:36:26.223: E/AndroidRuntime(591):  at java.lang.Class.newInstance(Class.java:1472)
07-21 08:36:26.223: E/AndroidRuntime(591):  at android.app.Instrumentation.newActivity(Instrumentation.java:1097)
07-21 08:36:26.223: E/AndroidRuntime(591):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2316)
07-21 08:36:26.223: E/AndroidRuntime(591):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2417)
07-21 08:36:26.223: E/AndroidRuntime(591):  at android.app.ActivityThread.access$2100(ActivityThread.java:116)
07-21 08:36:26.223: E/AndroidRuntime(591):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)
07-21 08:36:26.223: E/AndroidRuntime(591):  at android.os.Handler.dispatchMessage(Handler.java:99)
07-21 08:36:26.223: E/AndroidRuntime(591):  at android.os.Looper.loop(Looper.java:123)
07-21 08:36:26.223: E/AndroidRuntime(591):  at android.app.ActivityThread.main(ActivityThread.java:4203)
07-21 08:36:26.223: E/AndroidRuntime(591):  at java.lang.reflect.Method.invokeNative(Native Method)
07-21 08:36:26.223: E/AndroidRuntime(591):  at java.lang.reflect.Method.invoke(Method.java:521)
07-21 08:36:26.223: E/AndroidRuntime(591):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)
07-21 08:36:26.223: E/AndroidRuntime(591):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:549)
07-21 08:36:26.223: E/AndroidRuntime(591):  at dalvik.system.NativeStart.main(Native Method) 
```

这个例外什么也没告诉我。任何人都可以帮忙吗？如果我删除联系功能，活动会正常开始。但这不是解决方案，因为它不适用于新设备（当按钮可见时）。

# php - PHP：从可靠的下拉菜单中回显所选项目的值

> ID：11590818
> 
> 赞同：1
> 
> 时间：2012-07-21T08:52:21.017
> 
> 标签：php

我目前正在使用一个在 jQuery 和 PHP 的帮助下运行的 Dependable 下拉菜单。这些值正在从 MySQL 数据库中提取。php 是否可以回显可靠下拉菜单的选定值？

[例子](http://www.ssdtutorials.com/tutorials/series/dependable-dropdown.html)

**HTML/PHP**

```
<form action="" method="post">

        <select name="gender" id="gender" class="update">
            <option value="">Select one</option>
            <?php if (!empty($list)) { ?>
                <?php foreach($list as $row) { ?>
                    <option value="<?php echo $row['id']; ?>">
                        <?php echo $row['name']; ?>
                    </option>
                <?php } ?>
            <?php } ?>
        </select>

        <select name="category" id="category" class="update"
            disabled="disabled">
            <option value="">----</option>
        </select>

        <select name="colour" id="colour" class="update"
            disabled="disabled">
            <option value="">----</option>
        </select>

</form> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T10:12:10.190

请添加 jquery.js。你的html代码

```
 <select name="gender" id="gender" class="update">
        <option value="">Select one</option>
        <?php if (!empty($list)) { ?>
            <?php foreach($list as $row) { ?>
                <option value="<?php echo $row['id']; ?>">
                    <?php echo $row['name']; ?>
                </option>
            <?php } ?>
        <?php } ?>
    </select>

    <select name="category" id="category" class="update" disabled="disabled">
        <option value="">----</option>
    </select>

    <select name="colour" id="colour" class="update" disabled="disabled">
        <option value="">----</option>
    </select>
        //jquery code for source list
    <script type="text/javascript">
        $(document).ready(function(){
            $('#gender').change(function() {
              if ($(this).val()!='') {
                $("#category").load("postfile.php",{gender_id: $(this).val()});
                $("#category").removeAttr('disabled');
              }
            });
            //code on change of sel_source
            $('#category').change(function() {
              if ($(this).val()!='') {
                $("#colour").load("postfile.php",{category_id: $(this).val()});
                $("#colour").removeAttr('disabled');
              }

            });
        });
    </script> 

//postfile.php
//your mysql connection other things goes here
//code for category
$objDb = new PDO('mysql:host=localhost;dbname=dbname', 'ur_username', 'ur_password');
if(isset($_REQUEST['gender_id']) && !empty($_REQUEST['gender_id'])) {

           $sql = "SELECT * FROM `categories` WHERE `master` = ?";
    $statement = $objDb->prepare($sql);
    $statement->execute(array($_REQUEST['gender_id']));
    $list = $statement->fetchAll(PDO::FETCH_ASSOC);

    if(!empty($list)) {
        $output = '<option value="">Select</option>';
        foreach($list as $row) {              
                $output .= '<option value="'.$row['id'].'">'.$row['name'].'</option>';
        }
    } else {
        $output = '<option value="">Select</option>';
    }
    echo $output;
} 
//code for color

if(isset($_REQUEST['category_id']) && !empty($_REQUEST['category_id'])) {
    $sql = "SELECT * FROM `categories` WHERE `master` = ?";
    $statement = $objDb->prepare($sql);
    $statement->execute(array($_REQUEST['category_id']));
    $list = $statement->fetchAll(PDO::FETCH_ASSOC);
     if(!empty($list)) {
        $output = '<option value="">Select</option>';
        foreach($list as $row) {          
                $output .= '<option value="'.$row['id'].'">'.$row['name'].'</option>';
        }
    } else {
        $output = '<option value="">Select</option>';
    }
    echo $output;
} 
```

希望这会帮助你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T09:39:38.477

您将不得不编写一个 JavaScript 函数，从第一个 HTML 选择字段中检索选定的值或选项。此函数通常会写出当前页面的新 URL 路径，并添加一些连接的 Get 变量：

```
<script type="text/javascript">
getSelectedOptionValue() {
// create some variables to store your know values such as URL path and document
var myPath = " put the URL path to the current document here ";
var currentPage = "currentPage.php";
// get the values of any necessary select fields
var carMake = document.getElementById("carMake").value;

// write out the final URL with the Get Method variables you want using concatnitation
var getMethodURL = myPath + currentPage + "?carMake='" + carMake + "'";

// function refreshes page using the function made URL
window.location.replace( getMethodURL );
}
</script> 
```

由于第二个选择字段依赖于第一个，因此您必须假设用户将从第一个选项中进行选择。这意味着检索主选择字段值的函数必须运行以响应字段选择的更改。例如

```
<select name="carMake" id="carMake" onchange="getSelectedOptionValue();"> 
```

根据您设置数据库的方式，您可能需要选项标签的值或在选项标签之间呈现给用户的字符串......这取决于您要记住如何重新查询信息如果您的原始记录集尚未提取必要的信息来编写第二组选择选项标签。

要使用 php 写出第二个选择字段，只需重复您在第一个中使用的 while 循环。这次用一个新的 SQL 语句替换你的 SQL 语句，使用一个变量，你存储了使用 get 方法从新 URL 检索到的值

```
<?php

// here I am using the more generic request method although you could use the get as well
$carMake = $_REQUEST['carMake'];

sql_secondSelectField = "SELECT * FROM tbl_carModels WHERE carMake = $carMake";

// Run new query and repeat similar while loop used to write your first select field ?> 
```

# c# - 如何避免 ASP.NET MVC 显示属性中的字符串类型代码？

> ID：11590821
> 
> 赞同：0
> 
> 时间：2012-07-21T08:52:31.313
> 
> 标签：c#, asp.net-mvc, data-annotations

当使用`DataAnnotations.Display`结合本地化字符串的属性时，使用的语法如下：

```
public class Customer
{
    [Display(ResourceType = typeof(DisplayResources), Name = "LName")]
    public string LastName { get; set; }
} 
```

*资料来源：[MSDN](http://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.displayattribute.name%28v=vs.95%29.aspx)。*

显然，以下语法是不可能的：

```
public class Customer
{
    [Display(Name = DisplayResources.LName)]
    public string LastName { get; set; }
} 
```

因为它会导致以下编译错误：

> 属性参数必须是属性参数类型的常量表达式、typeof 表达式或数组创建表达式

我还能做些什么来避免通过字符串按名称传递变量？有没有办法避免字符串类型的代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:14:28.973

前 Telerik 成员 Kazi Manzur Ra​​shid 有一篇文章。[使用 ASP.NET MVC ModelMetadata 进行本地化](http://weblogs.asp.net/rashid/archive/2010/06/14/localization-with-asp-net-mvc-modelmetadata.aspx)。他在那里解释如何使用漂亮的框架[MvcExtensions](http://mvcextensions.github.com)（[帮助文章](https://github.com/MvcExtensions/Core/wiki)）

这是一个例子：

```
public class ProductEditModelConfiguration : ModelMetadataConfiguration<ProductEditModel>
{
    public ProductEditModelConfiguration()
    {
        Configure(model => model.Id).Hide();

        Configure(model => model.Name).DisplayName(() => LocalizedTexts.Name)
            .Required(() => LocalizedTexts.NameCannotBeBlank)
            .MaximumLength(64, () => LocalizedTexts.NameCannotBeMoreThanSixtyFourCharacters);

        Configure(model => model.Category).DisplayName(() => LocalizedTexts.Category)
            .Required(() => LocalizedTexts.CategoryMustBeSelected)
            .AsDropDownList("categories", () => LocalizedTexts.SelectCategory);

        Configure(model => model.Price).DisplayName(() => LocalizedTexts.Price)
            .FormatAsCurrency()
            .Required(() => LocalizedTexts.PriceCannotBeBlank)
            .Range(10.00m, 1000.00m, () => LocalizedTexts.PriceMustBeBetweenTenToThousand);
    }
} 
```

# asp.net-mvc - 让 System.Web.Optimization 在类库中的剃刀视图中工作

> ID：11590822
> 
> 赞同：7
> 
> 时间：2012-07-21T08:52:44.700
> 
> 标签：asp.net-mvc, asp.net-mvc-4, razor, asp.net-mvc-areas, system.web.optimization

我正在构建一个模块化 MVC4 应用程序，其中每个模块（=area）都是一个类库。模型和控制器编译到 .dll 中，视图被复制到相应的文件夹中。在运行时，一切正常。在设计时还有一个烦人的问题：在类库中编辑剃刀视图时，Visual Studio 无法识别 System.Web.Optimization 命名空间。

```
The name "Styles" does not exist in the current context.
The name "Scripts" does not exist in the current context. 
```

我尝试将程序集添加到根目录和内部 web.config 的 system.web/compilation 部分：

```
<add assembly="System.Web.Optimization, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" /> 
```

我也试过没有特定版本。两种方法都没有解决问题，而是触发了asp.net运行时错误（在razor视图的第一行可见）：

```
Could not load file or assembly 'System.Web.Optimization, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' or one of its dependencies. The system cannot find the file specified. 
```

该程序集在项目中被引用，并且“复制本地”设置为“真”。它还作为命名空间添加到 razor 配置部分。

我怀疑这是我将来在其他程序集中会遇到的普遍问题。

**编辑：**我进行了一般设置，以使 Intellisense 在类库中的剃刀视图中运行。到目前为止一切正常，除了 VS2010 不识别优化命名空间。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-21T09:10:37.033

`web.config`在您的类库项目（包含 Razor 视图的项目）的根目录中添加一个文件，其中包含以下内容（摘自[这篇博](http://blogs.msdn.com/b/webdevtools/archive/2011/01/20/how-to-get-razor-intellisense-for-model-in-a-class-library-project.aspx)文）：

```
<configuration>
  <configSections>
    <sectionGroup name="system.web.webPages.razor" type="System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, System.Web.WebPages.Razor, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
      <section name="host" type="System.Web.WebPages.Razor.Configuration.HostSection, System.Web.WebPages.Razor, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
      <section name="pages" type="System.Web.WebPages.Razor.Configuration.RazorPagesSection, System.Web.WebPages.Razor, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
    </sectionGroup>
  </configSections>

  <system.web.webPages.razor>
    <host factoryType="System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
    <pages pageBaseType="System.Web.Mvc.WebViewPage">
      <namespaces>
        <add namespace="System.Web.Mvc" />
        <add namespace="System.Web.Mvc.Ajax" />
        <add namespace="System.Web.Mvc.Html" />
        <add namespace="System.Web.Optimization"/>
        <add namespace="System.Web.Routing" />
      </namespaces>
    </pages>
  </system.web.webPages.razor>

  <system.web>
    <compilation targetFramework="4.0">
      <assemblies>
        <add assembly="System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
      </assemblies>
    </compilation>
  </system.web>
</configuration> 
```

这将诱使 Visual Studio 认为它是一个 Web 项目并启用 Intellisense。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-14T19:20:28.810

我在 asp mvc 项目的预构建视图中遇到了这个错误，以解决我用 nuget 安装了 Microsoft.Web.Optimization 的问题。

从工具菜单中，选择库包管理器，然后单击包管理器控制台。输入以下命令以更新捆绑和缩小：

```
Install-Package Microsoft.Web.Optimization -Pre 
```

这里有一些补充[http://forums.asp.net/t/1812274.aspx/1](http://forums.asp.net/t/1812274.aspx/1)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-25T04:38:07.870

@Vladimir，我正在使用 Visual Studio 2013，并且不得不将您的行稍微更改为：

安装包 Microsoft.AspNet.Web.Optimization

这为我修好了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-02-10T11:15:36.960

以下：

```
Install-Package Microsoft.AspNet.Web.Optimization 
```

对我来说很好。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-02-26T06:57:23.547

```
Install-Package Microsoft.AspNet.Web.Optimization -version 1.1.0.0 
```

如果您的项目需要指定版本，请添加 -version... 以选择真实版本。这将对您有所帮助。

# ios - 在我强制重新加载单元格之前，表格视图单元格不是透明的吗？

> ID：11590825
> 
> 赞同：0
> 
> 时间：2012-07-21T08:53:01.257
> 
> 标签：ios, cocoa-touch, uitableview

我有一个`UITableView`以 a`UIImageView`为背景的习俗。我想在表格中显示一些透明的单元格，这样我就可以通过单元格的背景图片看到背景图片。

到目前为止，我使用自定义将单元格设置`backgroundView`为 a并将背景图像视图设置为. 我还将单元格设置为.`UIImageView``alpha``backgroundColor``[UIColor clearColor]``backgroundColor``[UIColor clearColor]`

最初绘制单元格时，我仍然看到白色背景。但是，如果我将单元格拖出屏幕，它会在重新打开时是透明的。有人知道这是怎么回事吗？

编辑：这是一些代码，尽管我认为它并没有真正告诉您比我上面所说的更多的信息。一些敏感/不相关的东西被删掉了。

```
- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier {
    if((self = [super initWithStyle:style reuseIdentifier:reuseIdentifier])) {
        [self setBackgroundColor:[UIColor clearColor]];
        ...
        _backgroundImageView = [[UIImageView alloc] initWithFrame:[[self contentView] bounds]];
        [_backgroundImageView setAlpha:0.5];
        [_backgroundImageView setOpaque:NO];
        [_backgroundImageView setBackgroundColor:[UIColor clearColor]];
        [self setBackgroundView:_backgroundImageView];
    }
    return self;
}

- (void)drawRect:(CGRect)rect {
    [super drawRect:rect];

    [_backgroundImageView setFrame:rect];
}

// in a different file
- tableView:cellForRowAtIndexPath: {
    ...
    [cell setBackgroundColor:[UIColor clearColor]];
    [cell setOpaque:NO];
    return cell;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T09:40:26.450

删除这个

```
- (void)drawRect:(CGRect)rect {
    [super drawRect:rect];

    [_backgroundImageView setFrame:rect];
} 
```

添加这个

```
-(void)layoutSubviews{
    [_backgroudImageVIew setFrame:self.contentView.bounds];
} 
```

你为什么做这个：

```
[_backgroundImageView setAlpha:0.5]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:11:19.453

你打过电话`setNeedsDisplay`吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T21:51:58.567

想通了问题。这实际上是由于`UITableView`与细胞的奇怪相互作用，而不是细胞本身。正如我所提到的，我正在使用带有`UIImageView`背景的自定义表格视图，但是我犯了一个错误，即延迟将表格视图的`backgroundView`属性设置为图像视图，直到`drawRect:`没有在`init`或`awakeFromNib`其他任何有意义的地方进行设置。

由于某种原因，设置表格视图的背景视图实际上会改变单元格的功能。以前，当我在 中更改背景视图时`drawRect:`，单元格将像表格视图具有白色背景一样绘制，然后在重绘时更新。现在我已经将事情转移到初始化方法中，一切都很好。

抱歉，我没有提供表格视图的代码，因为我什至没有想到它可能会导致问题（我也没有想到我是个白痴并将一行代码放在错误的方法中...不要在凌晨 4 点编码:/)

# python - 将 C 之类的结构化文本解析为 dict

> ID：11590829
> 
> 赞同：3
> 
> 时间：2012-07-21T08:53:23.880
> 
> 标签：python, parsing

我的配置文件结构类似于简化的 C 语法，例如：

```
Main { /* some comments */
    VariableName1 = VariableValue1;
    VariableName2 = VariableValue2;

    SubSection {
        VariableName1 = VariableValue1; // inline comment
        VariableName2 = VariableValue2;
    }

    VariableName3 = "StriingValue4";
} 
```

部分可以递归嵌套。

如何`dict`以干净且“pythonish”的方式将该文件解析为？

**[编辑]**

好的，我找到[了 pyparsing](http://pyparsing.wikispaces.com)模块 :) 但也许有人可以告诉如何在没有它的情况下执行此操作。

**[编辑2]**

由于好奇，我想知道将来如何编写我认为简单的手工任务。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:09:26.440

使用像[SimpleParse](http://simpleparse.sourceforge.net/)这样的解析器，只需为其提供 EBNF 定义。

您是否有某种 BNF 中记录的格式，不是吗？[如果没有，您可以告诉下一个发明另一种配置格式而不是使用 json、xml、yaml 或 xml 的天才，除非他可以使用EBNF](http://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_Form)指定语法，否则他无权重新发明轮子。

如果您不熟悉[EBNF](http://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_Form)，可能需要一些时间来编写语法，但这是值得的。它将使您的代码有据可查、坚如磐石且更易于维护。

有关其他选项，请参阅有关[语言解析的 python wiki。](http://wiki.python.org/moin/LanguageParsing)

如果您尝试使用 str.split 或正则表达式来做一些噱头，那么所有其他维护这段代码的开发人员都会诅咒您。

更新：

我突然想到，如果你替换`SectionName`with `SectionName :`，`;`with`,`并用一对花括号括起来主要部分，这种格式[可能是有效的 json](http://json.org/)。

```
"Name"     = JSON Grammar
"Author"   = Arsène von Wyss
"Version"  = 1.0
"About"    = 'Grammar for JSON data, following http://www.json.org/'
! and compliant with http://www.ietf.org/rfc/rfc4627

"Start Symbol" = <Json>
"Case Sensitive" = True
"Character Mapping" = 'Unicode'

! ------------------------------------------------- Sets

{Unescaped} = {All Valid} - {&1 .. &19} - ["\]
{Hex} = {Digit} + [ABCDEFabcdef]
{Digit9} = {Digit} - [0]

! ------------------------------------------------- Terminals

Number = '-'?('0'|{Digit9}{Digit}*)('.'{Digit}+)?([Ee][+-]?{Digit}+)?
String = '"'({Unescaped}|'\'(["\/bfnrt]|'u'{Hex}{Hex}{Hex}{Hex}))*'"'

! ------------------------------------------------- Rules

<Json> ::= <Object>
         | <Array>

<Object> ::= '{' '}'
           | '{' <Members> '}'

<Members> ::= <Pair>
            | <Pair> ',' <Members>

<Pair> ::= String ':' <Value>

<Array> ::= '[' ']'
          | '[' <Elements> ']'

<Elements> ::= <Value>
             | <Value> ',' <Elements>

<Value> ::= String
          | Number
          | <Object>
          | <Array>
          | true
          | false
          | null 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T09:12:53.740

你需要递归地解析它，使用这个 Backus Naur 形式，从 PARSE 开始：

```
PARSE: '{' VARASSIGN VARASSIGN [PARSE [VARASSIGN]] '}'

VARASSIGN : VARIABLENAME '=' '"' STRING '"'

VARIABLENAME: STRING

STRING: [[:alpha:]][[:alnum:]]* 
```

因为您的结构很简单，所以您可以使用谓词解析器 LL(1)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T09:12:32.050

1) 编写一个分词器，即解析字符流并将其转换为标识符列表、OpeningBrace、ClosingBrace、EqualSign 和 SemiColon 的函数；注释和空格被丢弃。可以使用 Regexpr 来完成。

2）编写一个简单的解析器。跳过第一个标识符和 OpeningBrace。

解析器需要一个标识符，后跟 EqualSign 或 OpeningBrace 或 ClosingBrace 之一。

2.1) 如果是等号，后面必须跟标识符和分号。2.2) 如果是OpeningBrace，递归调用解析器。2.3）如果ClosingBrace，从递归调用返回。

在2.1的处理中，将想要的数据输入到dict中，按照自己喜欢的方式。您可以在标识符前面加上封闭块的名称，例如

```
{"Main.SubSection.VariableName1": VariableValue1} 
```

这是解析器的原型代码，在标记器之后调用。它扫描一个字符串，其中一个**字母**代表一个标识符，分隔符是**={};** 最后一个标记必须是**$**。

```
def Parse(String, Prefix= "", Nest= 0):
    global Cursor
    if Nest == 0:
        Cursor= 0

    # Scan the input string
    while String[Cursor + 0].isalpha():
        # Identifier, starts an Assignment or a Block (Id |)
        if String[Cursor + 1] == "=":
            # Assignment, lookup (Id= | Id;)
            if String[Cursor + 2].isalpha():
                if String[Cursor + 3] == ";":
                    # Accept the assignment (Id=Id; |)
                    print Nest * " " + Prefix + String[Cursor] + "=" + String[Cursor + 2] + ";"
                    Cursor+= 4

        elif String[Cursor + 1] == "{":
            # Block, lookup (Id{ | )
            print Nest * " " + String[Cursor] + "{"
            Cursor+= 2

            # Recurse
            Parse(String, Prefix + String[Cursor - 2] + "::", Nest + 4)

        else:
            # Unexpected token
            break

    if String[Cursor + 0] == "}":
        # Block complete, (Id{...} |)
        print (Nest - 4) * " " + "}"
        Cursor+= 1
        return

    if Nest == 0 and String[Cursor + 0] == "$":
        # Done
        return

    print "Syntax error at", String[Cursor:], ":("

Parse("C{D=E;X{Y=Z;}F=G;}H=I;A=B;$") 
```

执行时，它输出：

```
C{
    C::D=E;
    X{
        C::X::Y=Z;
    }
    C::F=G;
}
H=I;
A=B; 
```

证明它确实检测到了嵌套。用您喜欢的任何处理替换打印语句。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T09:12:17.357

您可以使用[pyparsing](http://pyparsing.wikispaces.com/)为这种格式编写解析器。

# facebook - Action 帖子的评论社交插件

> ID：11590830
> 
> 赞同：1
> 
> 时间：2012-07-21T08:53:29.253
> 
> 标签：facebook, plugins, comments

我有一个`app1`定义自定义 Facebook 操作的应用程序`act1`。

当用户在我的应用程序中对实体 (ntt1) 执行此操作时，我会`/me/app1:act1`以 URL to`ntt1`作为其参数发布到 API，以便在用户的墙上生成一个帖子`User act1'ed ntt1`，说明 ntt1 是指向 ntt1 的**查看**页面的链接（带有打开图头上的元数据）。

用户可以定期在此墙贴上发表评论或点赞。

现在我想在ntt1的网页上显示用户的评论以及在Facebook墙和ntt1的查看页面之间分享评论和喜欢。

我尝试使用 Comments 社交插件，但不知道在 data-href 中放置什么以指向 `action_instance_id` 墙帖。

我知道我可以使用图形 API 在我的页面上模拟一个评论框（我已经这样做了），但这并不是一个好的用户体验，因为用户需要授权我的应用程序才能查看这个页面（这样Java 脚本 API 可以从 Facebook 获取评论）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:41:31.733

您是否尝试过将 data-href 属性指向

```
https://www.facebook.com/{user_name_or_id}/activity/{action-instance-id} 
```

……？[使用操作](https://developers.facebook.com/docs/opengraph/actions/)的文档说这是您可以用来“预览”此已发布操作将生成（或者更确切地说*已经*生成，因为如果不先发布操作，您将没有操作实例）的新闻提要故事的 URL ID）。

如果您单击“x 分钟/小时/…前”链接以获取您发布的操作之一的提要故事，它应该会将您带到使用相同方案构建的链接。

# php - 删除日期名称

> ID：11590839
> 
> 赞同：-1
> 
> 时间：2012-07-21T08:56:15.057
> 
> 标签：php

我有以下日期。如何删除日期名称？

```
giovedì 12 settembre 2012 => 12 settembre 2012
lunedì 1 gennaio 2011 => 1 gennaio 2011
mercoledì 14 luglio 2013 => 14 luglio 2013 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T09:03:42.690

如果要删除 中的第一个单词和以下空格`$string`，其中`$string`包含要编辑的日期，您可以执行以下操作：

```
$string = 'giovedì 12 settembre 2012';
$string = preg_replace('/^\w+\ /u', '', $string); 
```

但是，如果您使用该`date()`函数获取日期，则可以格式化传递参数，只需阅读[文档](http://it2.php.net/manual/en/function.date.php)即可。例如

```
setlocale(LC_ALL, 'it_IT'); // set locale to Italian
$string = date("d F Y", mktime(0, 0, 0, 9, 12, 2012)); 
```

应该给你`12 settembre 2012`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T09:03:22.043

如果日期始终是包含 4 个“部分”（日名、日数、月名和年）的字符串，由空格分隔，您可以执行以下操作：

```
$str = "giovedì 12 settembre 2012";
$vals = explode(" ", $str);
$newStr = implode(" ", array_slice($vals, 1, 3)); 
```

# jquery - jQuery .click 事件

> ID：11590840
> 
> 赞同：0
> 
> 时间：2012-07-21T08:57:05.220
> 
> 标签：jquery

我是 jQuery 的新手。我正在玩一个当用户单击箭头时会滑动的菜单。我用了：

```
$(document).ready(function(){
$('.userArrow').click(function(){
$('#dropdown-1').slideToggle(300);
});//end click
});//end ready

<div id="dropdown-1" class="dropdown-menu has-tip">
    <ul>
        <li><a href="#1">Item 1</a></li>
        <li><a href="#2">Item 2</a></li>
        <li><a href="#3">Item 3</a></li>
        <li class="divider"></li>
        <li><a href="#4">Item 4</a></li>
        <li><a href="#5">Item 5</a></li>
        <li><a href="#5">Item 6</a></li>
    </ul>

           </div>
        <a id="name_header">
<span class="pic">
  <?php echo $link?>
</span>
<?php echo ''.$user_data['first_name'];?>
<img class="userArrow"  width="7" height="5" alt="" src="images/arrow.png">
</a> 
```

它仅在我单击两次时才有效。是否有任何其他事件只需单击一次？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:08:15.790

查看代码示例，您没有关闭 dropdown-1 的打开 div。这可能是问题的根源。你的 jQuery 看起来不错。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T09:12:55.633

正如弗雷泽所说，除了未封闭的`div`.

[这可能是您想要的，只需一个按钮即可](http://jsfiddle.net/BTdVn/1/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T09:15:54.507

我更改了代码，现在只需单击一下即可：

```
$(document).ready(function(){
$('.userArrow').toggle(function(){
$('#dropdown-1').slideToggle(300);
 },function(){
 $('#dropdown-1').hide();
 }
 );//end toggle
 });//end ready 
```

谢谢大家！

# javascript - 如何在 javascript 中为桌面和移动设备创建不同的点击行为？

> ID：11590842
> 
> 赞同：1
> 
> 时间：2012-07-21T08:57:10.940
> 
> 标签：javascript, android, ios, mobile

我正在开发生成一段格式化文本的简单表单（您可以在[这里查看](http://tmpl.testlab2.com)）。想法是简化创建文本的选择。对于桌面浏览器，在 div 上使用 onсlick 处理程序的代码效果很好：

```
if (document.selection) {
    var range = document.body.createTextRange();
    range.moveToElementText(document.getElementById('template_text'));
    range.select();
}
else if (window.getSelection) {        
    var range = document.createRange();
    range.selectNode(document.getElementById('template_text'));
    window.getSelection().addRange(range);
} 
```

在移动浏览器（Android 浏览器和 iOS 版 Safari）中，此代码仅高亮 div 片刻，仅此而已。我不想创建单独的移动版本，因为它只是表单的问题。

是否可以在不影响桌面当前功能的情况下以某种方式简化移动浏览器的文本选择？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T09:41:30.847

根据[该](https://stackoverflow.com/questions/3514784/best-way-to-detect-handheld-device-in-jquery)线程的回答，您可以访问[http://detectmobilebrowsers.com/](http://detectmobilebrowsers.com/)并下载脚本，该脚本将为您提供检测访问者使用的是移动浏览器还是桌面浏览器的工具。然后，您只需使用简单的代码分支，`if`并在此特定位置分别安排选择文本的移动和桌面行为

# php - PHP，回调函数

> ID：11590844
> 
> 赞同：1
> 
> 时间：2012-07-21T08:57:22.577
> 
> 标签：php, function, callback

我正在研究 PHP，我正在尝试了解回调函数，我真的查看了手册，在 stackoverflow 和更多网站上，我真的不明白什么是**PHP 回调函数**，如果有人可以帮助我了解这个功能，我正在寻找简单的**解释/指南**谢谢大家，祝你有美好的一天。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T09:05:08.550

看看[维基百科 - 回调](http://en.wikipedia.org/wiki/Callback_(computer_science))

> 在计算机编程中，回调是对作为参数传递给其他代码的一段可执行代码的引用。这允许较低级别的软件层调用在较高级别层中定义的子例程（或函数）。

它是您传递给您的方法或其他函数的函数，因此可以稍后在该方法（函数执行）期间调用它。

例如，您有回调`beforeSave`，并且您希望在将数据保存到数据库文件等之前执行一些逻辑。（在一个地方 - DRY）。您将逻辑添加到`beforeSave`回调中，并且在保存数据之前调用此回调。

手册上的函数也是如此，例如`array_filter($input, callback)`它要求您传递一些函数以使用 $input 数据执行。

例如。传递匿名函数：

```
array_filter($input, function($var) {
   // returns whether the input integer is odd
   return($var & 1)
}); 
```

将返回给您所有奇数数组值，您可以将匿名函数中的逻辑更改为您想要的，但`array_filter`内部机制将始终相同（迭代器算法）

# closures - 部分应用和关闭

> ID：11590847
> 
> 赞同：11
> 
> 时间：2012-07-21T08:57:29.567
> 
> 标签：closures, partial

有人问我部分函数应用程序和闭包之间的关系是什么。我会说没有，除非我没有抓住重点。假设我正在用 python 编写，我有一个非常简单的函数 MySum 定义如下：

```
MySum = lambda x, y : x + y; 
```

现在我正在修复一个参数以获取一个具有较小参数的函数，该函数返回的值与我使用相同参数调用 MySum 时返回的值相同（部分应用程序）：

```
MyPartialSum = lambda x : MySum(x, 0); 
```

我可以用 C 做同样的事情：

```
int MySum(int x, int y) { return x + y; }
int MyPartialSum(int x) { return MySum(x, 0); } 
```

所以，愚蠢的问题是：有什么区别？为什么我需要为部分应用程序关闭？这些代码是等价的，我看不出闭包和部分应用程序的界限是什么。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-11T19:13:05.320

**部分函数应用是关于修复给定函数的一些参数以产生另一个具有更少参数的函数**，例如

```
sum = lambda x, y: x + y
inc = lambda x: sum(x, 1) 
```

请注意，“inc”是部分应用的“sum”，没有从上下文中捕获任何内容（正如您提到的闭包）。

但是，这种手写（通常是匿名的）函数有点乏味。可以使用函数工厂，它返回一个内部函数。内部函数可以通过从上下文中捕获一些变量来参数化，比如

```
# sum = lambda x, y: x + y
def makePartialSumF(n):
    def partialSumF(x):
        return sum(x, n)
    return partialSumF

inc = makePartialSumF(1)
plusTwo = makePartialSumF(2) 
```

这里工厂 makePartialSumF 被调用了两次。每次调用都会产生一个 partialSumF 函数（将不同的值捕获为 n）。使用闭包使得部分应用的实现更加方便。所以可以说**部分应用可以通过闭包来实现。**当然，闭包可以做很多其他事情！（作为一个侧节点，python 没有*适当的*闭包。）

**柯里化是将 N 个参数的函数转换为返回一元函数的一元函数……**例如，我们有一个函数，它接受三个参数并返回一个值：

```
sum = lambda x, y, z: x + y + z 
```

咖喱版本是

```
curriedSum = lambda x: lambda y: lambda z: x + y + z 
```

我敢打赌你不会写那样的python代码。IMO *Currying*的动机主要是理论上的兴趣。（仅使用一元函数表示计算的框架：*每个*函数都是一元的！）实际的副产品是，在函数被柯里化的语言中，一些部分应用程序（当您从左侧“修复”参数时）与提供参数一样微不足道到咖喱函数。（但并非所有部分应用都是这样。示例：给定 f(x,y,z) = x+2*y+3*z，当您将 y 绑定到一个常量以产生两个变量的函数时。）所以您可以说，Currying 是一种在实践中作为副产品的技术，它可以使许多有用的部分功能应用程序变得微不足道，但这不是 Currying 的重点。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-21T09:07:45.047

部分应用程序是一种技术，您可以通过该技术获取现有函数及其参数的子集，并生成一个接受剩余参数的新函数。

换句话说，如果您有 function `F(a, b)`，则应用部分应用 of 的函数`a`看起来像`B(fn, a)`where `F(a, b) = B(F, a)(b)`。

在您的示例中，您只是在创建新函数，而不是将部分应用程序应用于现有函数。

这是python中的一个例子：

```
def curry_first(fn, arg):
    def foo(*args):
       return fn(arg, *args)
    return foo 
```

这会在提供的函数和参数上创建一个闭包。返回一个新函数，该函数调用具有新参数签名的第一个函数。关闭很重要 - 它允许`fn`访问`arg`. 现在你可以做这样的事情：

```
add = lambda x, y : x + y;
add2 = curry_first(add, 2)
add2(4) # returns 6 
```

我通常听说这被称为[currying](https://en.wikipedia.org/wiki/Currying)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-09-30T13:32:50.420

简单地说，部分应用程序的结果通常实现为闭包。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-02-18T12:58:29.863

闭包不是语言中必需的功能。我正在试验一种自制语言[lambdatalk](http://epsilonwiki.free.fr/lambdaway/)，其中 lambdas 不创建闭包，但接受部分应用程序。例如，这就是如何在 SCHEME 中定义集合 [cons, car, cdr]：

```
(def cons (lambda (x y) (lambda (m) (m x y))))
(def car (lambda (z) (z (lambda (p q) p))))
(def cdr (lambda (z) (z (lambda (p q) q))))

(car (cons 12 34)) -> 12
(cdr (cons 12 34)) -> 34 
```

在 lambdatalk 中：

```
{def cons {lambda {:x :y :m} {:m :x :y}}} 
{def car {lambda {:z} {:z {lambda {:x :y} :x}}}}
{def cdr {lambda {:z} {:z {lambda {:x :y} :y}}}}

{car {cons 12 34}} -> 12
{cdr {cons 12 34}} -> 34 
```

在 SCHEME 中，外部 lambda 将 x 和 y 保存在一个闭包中，内部 lambda 可以访问给定的 m。在 lambdatalk 中，lambda 保存 :x 和 :y 并返回一个等待 :m 的新 lambda。因此，即使闭包（和词法范围）是有用的功能，也没有必要。没有任何自由变量，超出任何词法范围，函数是真正的黑盒子，没有任何副作用，完全独立，遵循真正的函数范式。你不这么认为吗？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-21T09:05:20.787

对我来说，以这种方式使用 partialSum 可以确保您只依赖一个函数来对数字求和（MySum），如果出现问题，这将使调试更加容易，因为您不必担心逻辑您的代码在代码的两个不同部分中。

如果将来您决定更改 MySum 的逻辑（例如，使其返回 x+y+1），那么您不必担心 MyPartialSum，因为它调用了 MySum

即使看起来很愚蠢，以这种方式编写代码也只是为了简化函数中的依赖过程。我相信你会在以后的学习中注意到这一点。

# java - 更改 Eclipse 自动完成的行为（内容辅助）

> ID：11590849
> 
> 赞同：7
> 
> 时间：2012-07-21T08:57:55.743
> 
> 标签：java, eclipse, autocomplete, autosuggest, content-assist

当我在 Eclipse 中编程时，自动完成 \ 建议框通常会在输入点时打开（例如在输入`System.`or之后`SomeObject.`，并且在输入与任何建议类似的代码时保持打开状态。

这就是我所说的： ![在此处输入图像描述](../Images/16d5f6073b3829fc5915c20dc618851d.png)

我经常使用自动完成\建议框来发挥我的优势，如果可能的话，我想进行一些更改以提高我在编程时的工作效率；

* * *

*   有没有办法让建议框一直可见，实时显示建议（并在没有可用建议时显示空白框）？

*   有没有办法向建议框添加永久自定义建议（例如开关案例模板或一行代码`public String toString()`）？

*   有没有办法重新排序建议框（例如，在一般函数之前或`System.out.println()`之前的类私有变量`System.out.print()`）？

*   有没有办法重新设计建议框 - 即更改其文本颜色、背景颜色、重新调整建议框窗口的大小并删除黄色的 java-doc 弹出窗口？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-21T14:02:35.453

仅供参考，在 Eclipse 术语中，此功能称为*Content Assist*。

> 有没有办法让建议框一直可见，实时显示建议（并在没有可用建议时显示空白框）？

不，那是不可能的。您可以随时通过`Ctrl`+ `Space`（Mac 上的 +）`Command`调用它`Space`

> 有没有办法向建议框添加永久自定义建议（例如，开关案例模板或像 public String toString() 这样的代码行）？

*是的，您可以通过Preferences* > *Java* > *Editor* > *Templates*添加自己的模板

 *> 有没有办法重新排序建议框（例如，一般函数之前的类私有变量或 System.out.print() 之前的 System.out.println()）？

并不真地。通过*Preferences* > *Java* > *Content Assist* > *Advanced*可以对提案类型的“循环”顺序进行一些控制，但这并不是您真正想要的。我认为提案的顺序是基于调用 Content Assist 时的当前上下文。

> 有没有办法重新设计建议框 - 即更改其文本颜色、背景颜色、重新调整建议框窗口的大小并删除黄色的 java-doc 弹出窗口？

所有自定义选项都在*Preferences* > *Java* > *Content Assist*下可用；颜色选项在*Preferences* > *General* > *Appearance* > *Color and Fonts*下可用，但我认为该弹出窗口的颜色可能来自您的操作系统颜色设置。

如果您正在使用（或愿意使用）Eclipse Juno (4.2)，那么您可能会发现一个名为[Code Recommenders的新项目很有趣。](http://www.eclipse.org/recommenders/)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-14T14:58:01.323

E-Riz 已经回答了您的所有其他问题，但是为了实时获得内容协助，有一个解决方法

在*Preferences > Java > Editor > Content Assist*下，有一个“Java 的自动激活触发器”选项。默认情况下，它设置为“.”。您可以附加所有字母（ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz），然后它应该可以工作。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-03-16T12:18:13.390

> 有没有办法重新设计建议框 - 即更改其文本颜色、背景颜色、重新调整建议框窗口的大小并删除黄色的 java-doc 弹出窗口？

就在自动建议框弹出时，如果将鼠标指针悬停在其右下角，您将能够看到鼠标指针变成调整大小指针。按照你喜欢的方式调整它的大小，下次它弹出时，它的大小将相同。希望这可以帮助。:-)*

# c# - 二进制反序列化：获取对象数据

> ID：11590853
> 
> 赞同：1
> 
> 时间：2012-07-21T08:58:15.633
> 
> 标签：c#, binary-deserialization

是否可以获得二进制序列化对象（或其他相同对象的列表）的数据，因为它可以在 XML 或肥皂中完成。请注意，我不知道对象结构（私有和公共字段等）？二进制序列化对象的数据是指所有字段的值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:20:25.830

假设你有一个流。

```
 object yourData;
            var SerializeBinaryFileName = @"C:\Temp\binary.bf";

            using (Stream stream = File.Open(SerializeBinaryFileName, FileMode.Open))
            {
                BinaryFormatter bformatter = new BinaryFormatter();
                yourData = bformatter.Deserialize(stream);
                stream.Close();
            } 
```

然后你在 yourData 变量中有你的对象图。您可以像读取任何其他对象图一样读取它。

# networking - VoIP 应用程序如何将没有真实 IP 地址的用户连接在一起？

> ID：11590854
> 
> 赞同：1
> 
> 时间：2012-07-21T08:58:27.877
> 
> 标签：networking, voip

我想知道两台装有 VoIP 软件的计算机如何在没有外部 IP 地址的情况下相互连接并交换语音数据。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T09:01:24.083

仅当您尝试将两者直接相互连接时，您才需要静态 IP 地址。VOIP 服务器充当中间人。

例子：

*   人员 1 和人员 2 正在尝试进行 VOIP 通话
*   他们都使用自己的 ID 在 VOIP 服务器上注册。
*   当一个 ID 向另一个 ID 发出呼叫时，两者之间存在连接，服务器介于两者之间，但不直接相互连接。

SIP（会话发起协议）通常是用于 VOIP 的协议。有一个 SIP 注册器，即服务器。[您可以使用Asterisk 的](http://www.asterisk.org/)免费解决方案建立自己的 SIP 服务器。SIP 实际上使直接连接对等点成为可能。但是，这在人们没有静态 IPS 的互联网上是不可能的

Skype 等软件使用类似的工作流程。Skype 客户端尝试连接对等方。当它不能时，它会使用[UDP Hole Punching](http://en.wikipedia.org/wiki/UDP_hole_punching)之类的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:02:18.597

互联网上的每台计算机都有一个外部 IP。互联网就是这样工作的。

互联网上有许多页面，您可以在其中查看您的“外部 IP”。关于语音交换：它们连接到服务器，该服务器要么自己进行中继，要么在客户端之间交换 IP 信息，然后让客户端在它们之间建立连接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-04T03:06:53.063

VoIP 呼叫的实际数据是通过 RTP 传输的，它实际上只需要 24-64Kbps（取决于编解码器）并且需要双向传输 UDP 地址。偶尔会发送 RTCP 数据包来报告状态、指标等，但实际上并不需要。SIP 用于呼叫建立和拆除。

两个 VoIP 端点之间总是有一个网络地址，由 IP 地址和 VoIP 套接字组成。

是的，您可以通过其他一些传输协议或隧道（通过 http？）等代理 RTP。

# sharepoint - SharePoint 计时器作业中的 Ninject 依赖项注入

> ID：11590856
> 
> 赞同：1
> 
> 时间：2012-07-21T08:58:39.707
> 
> 标签：sharepoint, dependency-injection, web-config, ninject, nlog

我已经使用 Ninject 依赖注入和其他基础架构（例如使用 Onion 架构的 NLog 日志记录等）成功实现了企业 SharePoint 解决方案。使用 HttpModule 作为注入框架的组合根，它适用于正常的 Web 请求：

```
public class SharePointNinjectHttpModule: IHttpModule, IDisposable
    {
        private readonly HttpApplication _httpApplication;

        public void Init(HttpApplication context)
        {
            if (context == null) throw new ArgumentException("context");

            Ioc.Container = IocContainerFactory.CreateContainer();
        }

        public void Dispose()
        {
            if(_httpApplication == null) return;
            _httpApplication.Dispose();
            Ioc.Container.Dispose();
        } 
    } 
```

CreateContainer 方法从一个单独的类库中加载 Ninject 模块，并且我的 ioc 容器是抽象的。对于普通的 Web 应用程序请求，我为注入器使用了一个名为 Ioc 的共享静态类。UI 层有一个 MVP 模式实现。例如，在 aspx 页面中，presenter 的构造如下：

```
presenter = Ioc.Container.Get<SPPresenter>(new Ninject.Parameters.ConstructorArgument("view", this)); 
```

我仍然依赖于参数的 Ninject 参考。除了在接口中映射很多方法之外，还有什么方法可以抽象这个？我不能只传递简单类型的参数吗？

注入本身效果很好，但是在使用外部流程（例如 SharePoint 计时器作业）时遇到了困难。从这里重用 ioc 容器显然是一个糟糕的主意，因此它需要引导依赖项本身。此外，它需要从 Web 应用程序池中加载配置，而不是从管理 Web 应用程序中加载配置。否则，该作业将只能在应用程序服务器上运行。这样，作业可以在任何 Web 服务器上运行，您的 SharePoint 功能只需将配置等部署到 Web 应用程序。

这是我的计时器作业的执行方法，它打开关联的 Web 应用程序配置并将其传递给日志服务 (nlog) 并从外部 Web 配置服务读取它的配置。我编写了读取配置文件中的自定义部分并初始化 NLog 日志记录基础结构的代码。

```
public override void Execute(Guid contentDbId)
        {
            try
            {
                using (var ioc = IocContainerFactory.CreateContainer())
                {                    
                    // open configuration from web application
                    var configService = ioc.Get<IConfigService>(new ConstructorArgument("webApplicationName", this.WebApplication.Name));

                    // get logging service and set with web application configuration
                    var logginService = ioc.Get<ILoggingService>();
                    logginService.SetConfiguration(configService);

                    // reapply bindings
                    ioc.Rebind<IConfigService>().ToConstant(configService);
                    ioc.Rebind<ILoggingService>().ToConstant(logginService);

                    try
                    {
                        logginService.Info("Test Job started.");

                        // use services etc...
                        var productService = ioc.Get<IProductService>();
                        var products = productService.GetProducts(5);
                        logginService.Info("Got products: " + products.Count() + " Config from web application: " + configService.TestConfigSetting);

                        logginService.Info("Test Job completed.");
                    }
                    catch (Exception exception)
                    {
                        logginService.Error(exception);
                    }
                }
            }
            catch (Exception exception)
            {
                EventLog.WriteError(exception, "Exception thrown in Test Job.");
            }
        } 
```

这不会使计时器作业足够健壮，并且有很多样板代码。我的问题是如何改进这个设计？这不是最优雅的，我正在寻找一种方法来抽象计时器作业操作代码并为每个计时器作业注入它的依赖项。如果您认为这是一个好方法，我想听听您的意见。或者如果有人遇到过类似的问题？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T06:59:57.707

我想我已经用上面的演示者构造代码回答了我自己的问题。在项目中使用依赖注入时，注入本身并不那么重要，但它改变您编写代码的方式的方式更为重要。我需要为我的 SharePoint 计时器作业操作使用类似的模式，例如命令。我只是希望更好地处理引导。

# jquery - 使用 jquery 的导航应用类

> ID：11590861
> 
> 赞同：1
> 
> 时间：2012-07-21T08:59:22.813
> 
> 标签：jquery, css

我在导航面板上使用 jQuery 应用 CSS 时遇到问题。当用户单击链接时，应应用 .selected 类。

我的html代码是

```
 <ul id="example-two">
        <li><a href="#">About Us</a></li>
        <li><a href="#">Services</a></li>
        <li><a href="#">People</a></li>
        <li><a href="#">Career</a></li>
        <li><a href="#">Contact Us</a></li>
        <li><a href="#">Videos</a></li>
    </ul> 
```

我的 CSS 代码是

```
#example-two li a { 
  position: relative; 
  z-index: 200;
  background-image: -moz-linear-gradient(#6C6C6C, #4A4A4A);
  border-radius:10px; 
  color: #FFF; 
  font-size: 14px; 
  display: block; 
  float: left; 
  padding: 6px 10px 4px 10px;
  text-decoration: none;
  text-transform: uppercase; 
}
#example-two li a:hover {
    background-image: -moz-linear-gradient(#ed2024, #c8171a);
    color: white; 
}

.selected{
    background-image: -moz-linear-gradient(#ed2024, #c8171a);
    color: white;
} 
```

我的 jQuery 代码是

```
<script>
$(document).ready(function() {
    $('ul#example-two li a').click(function() {
       $('ul#example-two li a').removeClass("selected");
       $(this).addClass("selected");
    });
})
</script> 
```

任何想法，哪里出错了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T09:04:57.300

您正在覆盖顶部 CSS 选择器中的背景图像值。有关 css 优先级的更多信息，请参见[此处](http://www.vanseodesign.com/css/css-specificity-inheritance-cascaade/)。

更改`.selected`为`#example-two li a.selected`

[http://jsfiddle.net/EuuhZ/1/](http://jsfiddle.net/EuuhZ/1/)

# nmake - nmake - 宏中的非法字符“{”

> ID：11590863
> 
> 赞同：6
> 
> 时间：2012-07-21T08:59:27.407
> 
> 标签：nmake

1.  大家好！
2.  我正在尝试编译一些外部库作为编译 MESHLAB（3d 网格处理工具）源代码的先决条件。
3.  首先，我使用“qmake”命令从我的项目文件 (external.pro) 生成 Makefile。之后，当我在生成的 Makefile 上运行 nmake 时，遇到以下错误：

    Makefile(14)：致命错误 U1001：语法错误：宏停止中的非法字符“{”。NMAKE：致命错误 U1077：“cd”：返回代码“0x2”停止。

4.  第 14 行如下：

    MKDIR = mkdir

5.  但是 Makefile 中没有 '{' 字符。这是 external.pro 和 Makefile ：

外部.pro：

```
config += debug_and_release

TEMPLATE      = subdirs

SUBDIRS       = lib3ds-1.3.0/lib3ds \
                bzip2-1.0.5/bzip2-1.0.5.pro \
                muparser_v132/src \
                levmar-2.3/levmar-2.3.pro \
#                structuresynth/structuresynth.pro \
                                OpenCTM-1.0.3/openctm.pro \
                jhead-2.95/jhead-2.95.pro
#                openkinect/openkinect.pro 
```

生成文件：

```
#############################################################################
# Makefile for building: external
# Generated by qmake (2.01a) (Qt 4.7.2) on: Thu Jul 12 19:28:51 2012
# Project:  external.pro
# Template: subdirs
# Command: c:\Qt\4.7.2\bin\qmake.exe -o Makefile external.pro
#############################################################################

first: make_default
MAKEFILE      = Makefile
QMAKE         = c:\Qt\4.7.2\bin\qmake.exe
DEL_FILE      = del
CHK_DIR_EXISTS= if not exist
MKDIR         = mkdir
COPY          = copy /y
COPY_FILE     = $(COPY)
COPY_DIR      = xcopy /s /q /y /i
INSTALL_FILE  = $(COPY_FILE)
INSTALL_PROGRAM = $(COPY_FILE)
INSTALL_DIR   = $(COPY_DIR)
DEL_FILE      = del
SYMLINK       = 
DEL_DIR       = rmdir
MOVE          = move
CHK_DIR_EXISTS= if not exist
MKDIR         = mkdir
SUBTARGETS    =  \
        sub-lib3ds-1-3-0-lib3ds \
        sub-bzip2-1-0-5-bzip2-1-0-5-pro \
        sub-muparser_v132-src \
        sub-levmar-2-3-levmar-2-3-pro \
        sub-OpenCTM-1-0-3-openctm-pro \
        sub-jhead-2-95-jhead-2-95-pro

lib3ds-1.3.0\lib3ds\$(MAKEFILE): 
    @$(CHK_DIR_EXISTS) lib3ds-1.3.0\lib3ds\ $(MKDIR) lib3ds-1.3.0\lib3ds\ 
    cd lib3ds-1.3.0\lib3ds\ && $(QMAKE) c:\devel\meshlab\src\external\lib3ds-1.3.0\lib3ds\lib3ds.pro -o $(MAKEFILE)
sub-lib3ds-1-3-0-lib3ds-qmake_all:  FORCE
    @$(CHK_DIR_EXISTS) lib3ds-1.3.0\lib3ds\ $(MKDIR) lib3ds-1.3.0\lib3ds\ 
    cd lib3ds-1.3.0\lib3ds\ && $(QMAKE) c:\devel\meshlab\src\external\lib3ds-1.3.0\lib3ds\lib3ds.pro -o $(MAKEFILE)
sub-lib3ds-1-3-0-lib3ds: lib3ds-1.3.0\lib3ds\$(MAKEFILE) FORCE
    cd lib3ds-1.3.0\lib3ds\ && $(MAKE) -f $(MAKEFILE)
sub-lib3ds-1-3-0-lib3ds-make_default: lib3ds-1.3.0\lib3ds\$(MAKEFILE) FORCE
    cd lib3ds-1.3.0\lib3ds\ && $(MAKE) -f $(MAKEFILE) 
sub-lib3ds-1-3-0-lib3ds-make_first: lib3ds-1.3.0\lib3ds\$(MAKEFILE) FORCE
    cd lib3ds-1.3.0\lib3ds\ && $(MAKE) -f $(MAKEFILE) first
sub-lib3ds-1-3-0-lib3ds-all: lib3ds-1.3.0\lib3ds\$(MAKEFILE) FORCE
    cd lib3ds-1.3.0\lib3ds\ && $(MAKE) -f $(MAKEFILE) all
sub-lib3ds-1-3-0-lib3ds-clean: lib3ds-1.3.0\lib3ds\$(MAKEFILE) FORCE
    cd lib3ds-1.3.0\lib3ds\ && $(MAKE) -f $(MAKEFILE) clean
sub-lib3ds-1-3-0-lib3ds-distclean: lib3ds-1.3.0\lib3ds\$(MAKEFILE) FORCE
    cd lib3ds-1.3.0\lib3ds\ && $(MAKE) -f $(MAKEFILE) distclean
sub-lib3ds-1-3-0-lib3ds-install_subtargets: lib3ds-1.3.0\lib3ds\$(MAKEFILE) FORCE
    cd lib3ds-1.3.0\lib3ds\ && $(MAKE) -f $(MAKEFILE) install
sub-lib3ds-1-3-0-lib3ds-uninstall_subtargets: lib3ds-1.3.0\lib3ds\$(MAKEFILE) FORCE
    cd lib3ds-1.3.0\lib3ds\ && $(MAKE) -f $(MAKEFILE) uninstall
bzip2-1.0.5\$(MAKEFILE): 
    @$(CHK_DIR_EXISTS) bzip2-1.0.5\ $(MKDIR) bzip2-1.0.5\ 
    cd bzip2-1.0.5\ && $(QMAKE) c:\devel\meshlab\src\external\bzip2-1.0.5\bzip2-1.0.5.pro -o $(MAKEFILE)
sub-bzip2-1-0-5-bzip2-1-0-5-pro-qmake_all:  FORCE
    @$(CHK_DIR_EXISTS) bzip2-1.0.5\ $(MKDIR) bzip2-1.0.5\ 
    cd bzip2-1.0.5\ && $(QMAKE) c:\devel\meshlab\src\external\bzip2-1.0.5\bzip2-1.0.5.pro -o $(MAKEFILE)
sub-bzip2-1-0-5-bzip2-1-0-5-pro: bzip2-1.0.5\$(MAKEFILE) FORCE
    cd bzip2-1.0.5\ && $(MAKE) -f $(MAKEFILE)
sub-bzip2-1-0-5-bzip2-1-0-5-pro-make_default: bzip2-1.0.5\$(MAKEFILE) FORCE
    cd bzip2-1.0.5\ && $(MAKE) -f $(MAKEFILE) 
sub-bzip2-1-0-5-bzip2-1-0-5-pro-make_first: bzip2-1.0.5\$(MAKEFILE) FORCE
    cd bzip2-1.0.5\ && $(MAKE) -f $(MAKEFILE) first
sub-bzip2-1-0-5-bzip2-1-0-5-pro-all: bzip2-1.0.5\$(MAKEFILE) FORCE
    cd bzip2-1.0.5\ && $(MAKE) -f $(MAKEFILE) all
sub-bzip2-1-0-5-bzip2-1-0-5-pro-clean: bzip2-1.0.5\$(MAKEFILE) FORCE
    cd bzip2-1.0.5\ && $(MAKE) -f $(MAKEFILE) clean
sub-bzip2-1-0-5-bzip2-1-0-5-pro-distclean: bzip2-1.0.5\$(MAKEFILE) FORCE
    cd bzip2-1.0.5\ && $(MAKE) -f $(MAKEFILE) distclean
sub-bzip2-1-0-5-bzip2-1-0-5-pro-install_subtargets: bzip2-1.0.5\$(MAKEFILE) FORCE
    cd bzip2-1.0.5\ && $(MAKE) -f $(MAKEFILE) install
sub-bzip2-1-0-5-bzip2-1-0-5-pro-uninstall_subtargets: bzip2-1.0.5\$(MAKEFILE) FORCE
    cd bzip2-1.0.5\ && $(MAKE) -f $(MAKEFILE) uninstall
muparser_v132\src\$(MAKEFILE): 
    @$(CHK_DIR_EXISTS) muparser_v132\src\ $(MKDIR) muparser_v132\src\ 
    cd muparser_v132\src\ && $(QMAKE) c:\devel\meshlab\src\external\muparser_v132\src\src.pro -o $(MAKEFILE)
sub-muparser_v132-src-qmake_all:  FORCE
    @$(CHK_DIR_EXISTS) muparser_v132\src\ $(MKDIR) muparser_v132\src\ 
    cd muparser_v132\src\ && $(QMAKE) c:\devel\meshlab\src\external\muparser_v132\src\src.pro -o $(MAKEFILE)
sub-muparser_v132-src: muparser_v132\src\$(MAKEFILE) FORCE
    cd muparser_v132\src\ && $(MAKE) -f $(MAKEFILE)
sub-muparser_v132-src-make_default: muparser_v132\src\$(MAKEFILE) FORCE
    cd muparser_v132\src\ && $(MAKE) -f $(MAKEFILE) 
sub-muparser_v132-src-make_first: muparser_v132\src\$(MAKEFILE) FORCE
    cd muparser_v132\src\ && $(MAKE) -f $(MAKEFILE) first
sub-muparser_v132-src-all: muparser_v132\src\$(MAKEFILE) FORCE
    cd muparser_v132\src\ && $(MAKE) -f $(MAKEFILE) all
sub-muparser_v132-src-clean: muparser_v132\src\$(MAKEFILE) FORCE
    cd muparser_v132\src\ && $(MAKE) -f $(MAKEFILE) clean
sub-muparser_v132-src-distclean: muparser_v132\src\$(MAKEFILE) FORCE
    cd muparser_v132\src\ && $(MAKE) -f $(MAKEFILE) distclean
sub-muparser_v132-src-install_subtargets: muparser_v132\src\$(MAKEFILE) FORCE
    cd muparser_v132\src\ && $(MAKE) -f $(MAKEFILE) install
sub-muparser_v132-src-uninstall_subtargets: muparser_v132\src\$(MAKEFILE) FORCE
    cd muparser_v132\src\ && $(MAKE) -f $(MAKEFILE) uninstall
levmar-2.3\$(MAKEFILE): 
    @$(CHK_DIR_EXISTS) levmar-2.3\ $(MKDIR) levmar-2.3\ 
    cd levmar-2.3\ && $(QMAKE) c:\devel\meshlab\src\external\levmar-2.3\levmar-2.3.pro -o $(MAKEFILE)
sub-levmar-2-3-levmar-2-3-pro-qmake_all:  FORCE
    @$(CHK_DIR_EXISTS) levmar-2.3\ $(MKDIR) levmar-2.3\ 
    cd levmar-2.3\ && $(QMAKE) c:\devel\meshlab\src\external\levmar-2.3\levmar-2.3.pro -o $(MAKEFILE)
sub-levmar-2-3-levmar-2-3-pro: levmar-2.3\$(MAKEFILE) FORCE
    cd levmar-2.3\ && $(MAKE) -f $(MAKEFILE)
sub-levmar-2-3-levmar-2-3-pro-make_default: levmar-2.3\$(MAKEFILE) FORCE
    cd levmar-2.3\ && $(MAKE) -f $(MAKEFILE) 
sub-levmar-2-3-levmar-2-3-pro-make_first: levmar-2.3\$(MAKEFILE) FORCE
    cd levmar-2.3\ && $(MAKE) -f $(MAKEFILE) first
sub-levmar-2-3-levmar-2-3-pro-all: levmar-2.3\$(MAKEFILE) FORCE
    cd levmar-2.3\ && $(MAKE) -f $(MAKEFILE) all
sub-levmar-2-3-levmar-2-3-pro-clean: levmar-2.3\$(MAKEFILE) FORCE
    cd levmar-2.3\ && $(MAKE) -f $(MAKEFILE) clean
sub-levmar-2-3-levmar-2-3-pro-distclean: levmar-2.3\$(MAKEFILE) FORCE
    cd levmar-2.3\ && $(MAKE) -f $(MAKEFILE) distclean
sub-levmar-2-3-levmar-2-3-pro-install_subtargets: levmar-2.3\$(MAKEFILE) FORCE
    cd levmar-2.3\ && $(MAKE) -f $(MAKEFILE) install
sub-levmar-2-3-levmar-2-3-pro-uninstall_subtargets: levmar-2.3\$(MAKEFILE) FORCE
    cd levmar-2.3\ && $(MAKE) -f $(MAKEFILE) uninstall
OpenCTM-1.0.3\$(MAKEFILE).openctm: 
    @$(CHK_DIR_EXISTS) OpenCTM-1.0.3\ $(MKDIR) OpenCTM-1.0.3\ 
    cd OpenCTM-1.0.3\ && $(QMAKE) c:\devel\meshlab\src\external\OpenCTM-1.0.3\openctm.pro -o $(MAKEFILE).openctm
sub-OpenCTM-1-0-3-openctm-pro-qmake_all:  FORCE
    @$(CHK_DIR_EXISTS) OpenCTM-1.0.3\ $(MKDIR) OpenCTM-1.0.3\ 
    cd OpenCTM-1.0.3\ && $(QMAKE) c:\devel\meshlab\src\external\OpenCTM-1.0.3\openctm.pro -o $(MAKEFILE).openctm
sub-OpenCTM-1-0-3-openctm-pro: OpenCTM-1.0.3\$(MAKEFILE).openctm FORCE
    cd OpenCTM-1.0.3\ && $(MAKE) -f $(MAKEFILE).openctm
sub-OpenCTM-1-0-3-openctm-pro-make_default: OpenCTM-1.0.3\$(MAKEFILE).openctm FORCE
    cd OpenCTM-1.0.3\ && $(MAKE) -f $(MAKEFILE).openctm 
sub-OpenCTM-1-0-3-openctm-pro-make_first: OpenCTM-1.0.3\$(MAKEFILE).openctm FORCE
    cd OpenCTM-1.0.3\ && $(MAKE) -f $(MAKEFILE).openctm first
sub-OpenCTM-1-0-3-openctm-pro-all: OpenCTM-1.0.3\$(MAKEFILE).openctm FORCE
    cd OpenCTM-1.0.3\ && $(MAKE) -f $(MAKEFILE).openctm all
sub-OpenCTM-1-0-3-openctm-pro-clean: OpenCTM-1.0.3\$(MAKEFILE).openctm FORCE
    cd OpenCTM-1.0.3\ && $(MAKE) -f $(MAKEFILE).openctm clean
sub-OpenCTM-1-0-3-openctm-pro-distclean: OpenCTM-1.0.3\$(MAKEFILE).openctm FORCE
    cd OpenCTM-1.0.3\ && $(MAKE) -f $(MAKEFILE).openctm distclean
sub-OpenCTM-1-0-3-openctm-pro-install_subtargets: OpenCTM-1.0.3\$(MAKEFILE).openctm FORCE
    cd OpenCTM-1.0.3\ && $(MAKE) -f $(MAKEFILE).openctm install
sub-OpenCTM-1-0-3-openctm-pro-uninstall_subtargets: OpenCTM-1.0.3\$(MAKEFILE).openctm FORCE
    cd OpenCTM-1.0.3\ && $(MAKE) -f $(MAKEFILE).openctm uninstall
jhead-2.95\$(MAKEFILE): 
    @$(CHK_DIR_EXISTS) jhead-2.95\ $(MKDIR) jhead-2.95\ 
    cd jhead-2.95\ && $(QMAKE) c:\devel\meshlab\src\external\jhead-2.95\jhead-2.95.pro -o $(MAKEFILE)
sub-jhead-2-95-jhead-2-95-pro-qmake_all:  FORCE
    @$(CHK_DIR_EXISTS) jhead-2.95\ $(MKDIR) jhead-2.95\ 
    cd jhead-2.95\ && $(QMAKE) c:\devel\meshlab\src\external\jhead-2.95\jhead-2.95.pro -o $(MAKEFILE)
sub-jhead-2-95-jhead-2-95-pro: jhead-2.95\$(MAKEFILE) FORCE
    cd jhead-2.95\ && $(MAKE) -f $(MAKEFILE)
sub-jhead-2-95-jhead-2-95-pro-make_default: jhead-2.95\$(MAKEFILE) FORCE
    cd jhead-2.95\ && $(MAKE) -f $(MAKEFILE) 
sub-jhead-2-95-jhead-2-95-pro-make_first: jhead-2.95\$(MAKEFILE) FORCE
    cd jhead-2.95\ && $(MAKE) -f $(MAKEFILE) first
sub-jhead-2-95-jhead-2-95-pro-all: jhead-2.95\$(MAKEFILE) FORCE
    cd jhead-2.95\ && $(MAKE) -f $(MAKEFILE) all
sub-jhead-2-95-jhead-2-95-pro-clean: jhead-2.95\$(MAKEFILE) FORCE
    cd jhead-2.95\ && $(MAKE) -f $(MAKEFILE) clean
sub-jhead-2-95-jhead-2-95-pro-distclean: jhead-2.95\$(MAKEFILE) FORCE
    cd jhead-2.95\ && $(MAKE) -f $(MAKEFILE) distclean
sub-jhead-2-95-jhead-2-95-pro-install_subtargets: jhead-2.95\$(MAKEFILE) FORCE
    cd jhead-2.95\ && $(MAKE) -f $(MAKEFILE) install
sub-jhead-2-95-jhead-2-95-pro-uninstall_subtargets: jhead-2.95\$(MAKEFILE) FORCE
    cd jhead-2.95\ && $(MAKE) -f $(MAKEFILE) uninstall

Makefile: external.pro  ..\..\..\..\Qt\4.7.2\mkspecs\win32-msvc2008\qmake.conf ..\..\..\..\Qt\4.7.2\mkspecs\qconfig.pri \
        ..\..\..\..\Qt\4.7.2\mkspecs\modules\qt_webkit_version.pri \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\qt_functions.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\qt_config.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\exclusive_builds.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\default_pre.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\win32\default_pre.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\debug.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\debug_and_release.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\default_post.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\win32\default_post.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\win32\rtti.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\win32\exceptions.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\win32\stl.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\shared.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\win32\embed_manifest_exe.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\win32\embed_manifest_dll.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\warn_on.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\qt.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\win32\thread.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\moc.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\win32\windows.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\resources.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\uic.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\yacc.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\lex.prf \
        ..\..\..\..\Qt\4.7.2\mkspecs\features\include_source_dir.prf
    $(QMAKE) -o Makefile external.pro
..\..\..\..\Qt\4.7.2\mkspecs\qconfig.pri:
..\..\..\..\Qt\4.7.2\mkspecs\modules\qt_webkit_version.pri:
..\..\..\..\Qt\4.7.2\mkspecs\features\qt_functions.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\qt_config.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\exclusive_builds.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\default_pre.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\win32\default_pre.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\debug.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\debug_and_release.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\default_post.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\win32\default_post.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\win32\rtti.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\win32\exceptions.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\win32\stl.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\shared.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\win32\embed_manifest_exe.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\win32\embed_manifest_dll.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\warn_on.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\qt.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\win32\thread.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\moc.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\win32\windows.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\resources.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\uic.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\yacc.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\lex.prf:
..\..\..\..\Qt\4.7.2\mkspecs\features\include_source_dir.prf:
qmake: qmake_all FORCE
    @$(QMAKE) -o Makefile external.pro

qmake_all: sub-lib3ds-1-3-0-lib3ds-qmake_all sub-bzip2-1-0-5-bzip2-1-0-5-pro-qmake_all sub-muparser_v132-src-qmake_all sub-levmar-2-3-levmar-2-3-pro-qmake_all sub-OpenCTM-1-0-3-openctm-pro-qmake_all sub-jhead-2-95-jhead-2-95-pro-qmake_all FORCE

make_default: sub-lib3ds-1-3-0-lib3ds-make_default sub-bzip2-1-0-5-bzip2-1-0-5-pro-make_default sub-muparser_v132-src-make_default sub-levmar-2-3-levmar-2-3-pro-make_default sub-OpenCTM-1-0-3-openctm-pro-make_default sub-jhead-2-95-jhead-2-95-pro-make_default FORCE
make_first: sub-lib3ds-1-3-0-lib3ds-make_first sub-bzip2-1-0-5-bzip2-1-0-5-pro-make_first sub-muparser_v132-src-make_first sub-levmar-2-3-levmar-2-3-pro-make_first sub-OpenCTM-1-0-3-openctm-pro-make_first sub-jhead-2-95-jhead-2-95-pro-make_first FORCE
all: sub-lib3ds-1-3-0-lib3ds-all sub-bzip2-1-0-5-bzip2-1-0-5-pro-all sub-muparser_v132-src-all sub-levmar-2-3-levmar-2-3-pro-all sub-OpenCTM-1-0-3-openctm-pro-all sub-jhead-2-95-jhead-2-95-pro-all FORCE
clean: sub-lib3ds-1-3-0-lib3ds-clean sub-bzip2-1-0-5-bzip2-1-0-5-pro-clean sub-muparser_v132-src-clean sub-levmar-2-3-levmar-2-3-pro-clean sub-OpenCTM-1-0-3-openctm-pro-clean sub-jhead-2-95-jhead-2-95-pro-clean FORCE
distclean: sub-lib3ds-1-3-0-lib3ds-distclean sub-bzip2-1-0-5-bzip2-1-0-5-pro-distclean sub-muparser_v132-src-distclean sub-levmar-2-3-levmar-2-3-pro-distclean sub-OpenCTM-1-0-3-openctm-pro-distclean sub-jhead-2-95-jhead-2-95-pro-distclean FORCE
    -$(DEL_FILE) Makefile
install_subtargets: sub-lib3ds-1-3-0-lib3ds-install_subtargets sub-bzip2-1-0-5-bzip2-1-0-5-pro-install_subtargets sub-muparser_v132-src-install_subtargets sub-levmar-2-3-levmar-2-3-pro-install_subtargets sub-OpenCTM-1-0-3-openctm-pro-install_subtargets sub-jhead-2-95-jhead-2-95-pro-install_subtargets FORCE
uninstall_subtargets: sub-lib3ds-1-3-0-lib3ds-uninstall_subtargets sub-bzip2-1-0-5-bzip2-1-0-5-pro-uninstall_subtargets sub-muparser_v132-src-uninstall_subtargets sub-levmar-2-3-levmar-2-3-pro-uninstall_subtargets sub-OpenCTM-1-0-3-openctm-pro-uninstall_subtargets sub-jhead-2-95-jhead-2-95-pro-uninstall_subtargets FORCE

sub-lib3ds-1-3-0-lib3ds-sub_Debug: lib3ds-1.3.0\lib3ds\$(MAKEFILE)
    cd lib3ds-1.3.0\lib3ds\ && $(MAKE) debug
sub-bzip2-1-0-5-bzip2-1-0-5-pro-sub_Debug: bzip2-1.0.5\$(MAKEFILE)
    cd bzip2-1.0.5\ && $(MAKE) debug
sub-muparser_v132-src-sub_Debug: muparser_v132\src\$(MAKEFILE)
    cd muparser_v132\src\ && $(MAKE) debug
sub-levmar-2-3-levmar-2-3-pro-sub_Debug: levmar-2.3\$(MAKEFILE)
    cd levmar-2.3\ && $(MAKE) debug
sub-OpenCTM-1-0-3-openctm-pro-sub_Debug: OpenCTM-1.0.3\$(MAKEFILE).openctm
    cd OpenCTM-1.0.3\ && $(MAKE) -f $(MAKEFILE).openctm debug
sub-jhead-2-95-jhead-2-95-pro-sub_Debug: jhead-2.95\$(MAKEFILE)
    cd jhead-2.95\ && $(MAKE) debug
debug: sub-lib3ds-1-3-0-lib3ds-sub_Debug sub-bzip2-1-0-5-bzip2-1-0-5-pro-sub_Debug sub-muparser_v132-src-sub_Debug sub-levmar-2-3-levmar-2-3-pro-sub_Debug sub-OpenCTM-1-0-3-openctm-pro-sub_Debug sub-jhead-2-95-jhead-2-95-pro-sub_Debug

sub-lib3ds-1-3-0-lib3ds-sub_Release: lib3ds-1.3.0\lib3ds\$(MAKEFILE)
    cd lib3ds-1.3.0\lib3ds\ && $(MAKE) release
sub-bzip2-1-0-5-bzip2-1-0-5-pro-sub_Release: bzip2-1.0.5\$(MAKEFILE)
    cd bzip2-1.0.5\ && $(MAKE) release
sub-muparser_v132-src-sub_Release: muparser_v132\src\$(MAKEFILE)
    cd muparser_v132\src\ && $(MAKE) release
sub-levmar-2-3-levmar-2-3-pro-sub_Release: levmar-2.3\$(MAKEFILE)
    cd levmar-2.3\ && $(MAKE) release
sub-OpenCTM-1-0-3-openctm-pro-sub_Release: OpenCTM-1.0.3\$(MAKEFILE).openctm
    cd OpenCTM-1.0.3\ && $(MAKE) -f $(MAKEFILE).openctm release
sub-jhead-2-95-jhead-2-95-pro-sub_Release: jhead-2.95\$(MAKEFILE)
    cd jhead-2.95\ && $(MAKE) release
release: sub-lib3ds-1-3-0-lib3ds-sub_Release sub-bzip2-1-0-5-bzip2-1-0-5-pro-sub_Release sub-muparser_v132-src-sub_Release sub-levmar-2-3-levmar-2-3-pro-sub_Release sub-OpenCTM-1-0-3-openctm-pro-sub_Release sub-jhead-2-95-jhead-2-95-pro-sub_Release

sub-lib3ds-1-3-0-lib3ds-check: lib3ds-1.3.0\lib3ds\$(MAKEFILE)
    cd lib3ds-1.3.0\lib3ds\ && $(MAKE) check
sub-bzip2-1-0-5-bzip2-1-0-5-pro-check: bzip2-1.0.5\$(MAKEFILE)
    cd bzip2-1.0.5\ && $(MAKE) check
sub-muparser_v132-src-check: muparser_v132\src\$(MAKEFILE)
    cd muparser_v132\src\ && $(MAKE) check
sub-levmar-2-3-levmar-2-3-pro-check: levmar-2.3\$(MAKEFILE)
    cd levmar-2.3\ && $(MAKE) check
sub-OpenCTM-1-0-3-openctm-pro-check: OpenCTM-1.0.3\$(MAKEFILE).openctm
    cd OpenCTM-1.0.3\ && $(MAKE) -f $(MAKEFILE).openctm check
sub-jhead-2-95-jhead-2-95-pro-check: jhead-2.95\$(MAKEFILE)
    cd jhead-2.95\ && $(MAKE) check
check: sub-lib3ds-1-3-0-lib3ds-check sub-bzip2-1-0-5-bzip2-1-0-5-pro-check sub-muparser_v132-src-check sub-levmar-2-3-levmar-2-3-pro-check sub-OpenCTM-1-0-3-openctm-pro-check sub-jhead-2-95-jhead-2-95-pro-check

mocclean: compiler_moc_header_clean compiler_moc_source_clean

mocables: compiler_moc_header_make_all compiler_moc_source_make_all
install: install_subtargets  FORCE

uninstall:  uninstall_subtargets FORCE

FORCE: 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-12-26T10:48:59.383

是的，但是这个 makefile 也运行 qmake 作为它做的第一件事（我试过了）。任何由 qmake 递归构建的 makefile 都可能包含由传递给 qmake 的参数引起的流氓“{”字符。

由于我没有安装 qmake 和 3d 网格，因此很难重现该错误。您需要从您必须提供的问题中提取更多细节，以便我们可以回答......

# android - 如何通过安卓移动设备访问本地主机？

> ID：11590864
> 
> 赞同：4
> 
> 时间：2012-07-21T08:59:53.920
> 
> 标签：android, asp.net, localhost

我有一个 asp.net 开发服务器（本地主机）。我想通过我的安卓手机（索尼爱立信 XPERIA）访问本地主机。因为我有一些想要访问的 Web 服务方法。我已经使用模拟器完成了它（通过提供 10.0.2.2:portNo）。但我不知道如何通过移动设备访问本地主机。

非常感谢您的帮助。

谢谢你

更新： - 2012 年 9 月 14 日

Guyz 我真的需要你在这个问题上的帮助.....请帮助我.. 我有一个无线路由器，我的笔记本电脑连接到它，我的笔记本电脑也有一个静态 IP。
我有一部安卓手机，它也完美地连接到了无线路由器。我的网站托管在 IIS7 中，并分配有一个端口。我需要的是通过我的 android 设备（使用应用程序）访问驻留在网站中的 Web 服务。
我曾多次尝试提供笔记本电脑 IP（静态 IP）和 10.0.2.2 IP。但没有一个有效。我现在真的很困惑。
如果您知道任何完整的教程，或者如果您之前这样做过，请发布它。非常感谢您对此的帮助。（如果错了请忽略我的英语）谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:12:20.640

*   您必须更改您在访问 **Web 服务时提供****的路径**。
***   *将* **localhost**替换为您自己的**ip 地址**。*   您可以通过**cmd获取您的****IP 地址**。***   转到**cmd**并输入**ipconfig**。****

 ***** * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T11:50:30.423

如果您的手机和 Web 服务器在同一个 WiFi 网络上，您可以按照其他评论中的建议进行操作 - 使用 ipconfig 命令找出开发服务器的 IP 地址，然后在手机上使用该地址。请注意，您可能需要修改开发服务器上的防火墙设置以允许传入连接。

但是，如果您的手机使用 3G 或设备不在同一个网络上，事情会变得更加复杂，因为您的开发服务器上可能没有公共 IP，并且设备将无法看到彼此。

在这种情况下，您要么需要重新配置开发服务器的本地路由器（谷歌有关“端口转发”的说明），要么使用[https://pagekite.net/](https://pagekite.net/)之类的工具（免责声明：我写的！）让您的开发服务器存在在公共互联网上。

祝你好运！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T09:03:19.683

只需在您的 Android 浏览器中访问 10.0.2.2。如果这不起作用，请同时禁用防火墙。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T09:56:36.463

您需要通过**WiFi**连接将您的 Android 设备（手机或平板电脑）与您的本地网络连接。

建立连接后，您可以通过打开 url 在浏览器中检查连接`http://xx.xx.xx.xx:portNo`（作为 EvdTempel 的回答）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-06T08:45:53.317

您需要将地址设置为“ **10.0.2.2：portNr** ”

**portNr** = ASP.NET 开发服务器的给定端口

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2014-09-02T20:43:19.483

嘿，我遇到了同样的问题，并根据我在[https://forums.adobe.com/thread/1109558上找到的信息解决了它](https://forums.adobe.com/thread/1109558)

使用 4 答案“4\. Re: How to access localhost on ASP.NET Website from Android device”

为我工作:)

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2015-07-04T03:45:54.393

只需访问`http://your-system-ip-address/your-site`名称。
如果它不起作用，那么也禁用您的防火墙。****

# php - 来自 jquery 1.8 $.ajax 的 POST 返回 304。错误的 apache 配置？

> ID：11590865
> 
> 赞同：0
> 
> 时间：2012-07-21T09:00:05.227
> 
> 标签：php, apache, jquery, httpd.conf, http-status-code-304

我将以下 Post 请求发送到远程 apache 服务器，托管一个小型 php 脚本：

邮政：

```
var request = $.ajax({
    type: 'POST',
    url: 'http://my.server.on.port/mmm.php',
    data: { abc: "abcdefghijklmnopqrstuvwxyz" } })
    .done(function(data) { alert("success :"+data.slice(0, 100)); });

request.fail(function(jqXHR, textStatus) {
    alert( "Request failed: " + request.reponseText + " " + request.status  +" " + request.statusText +" " +request.responseText  );
}); 
```

mmm.php 脚本：

```
<?php echo json_encode(array("first"=>"XXXXX","last"=>"YYYYY")); ?> 
```

httpd.conf：

```
ServerName my.server.on.port
DocumentRoot "/var/www/html"

<Directory "/var/www/html">
    Options Indexes FollowSymLinks
    AllowOverride None
    Order allow,deny
    Allow from all
</Directory>

NameVirtualHost "my.server.on.port"
Listen 80

<VirtualHost *:80>
    DocumentRoot "/var/www/html/QR/tst"
    ServerName "my.server.on.port:80"

    <Directory "/var/www/html/QR/tst">
            Options Indexes MultiViews FollowSymLinks
            AllowOverride All
            Order allow,deny
            Allow from all
    </Directory>

    <Directory "/var/www/html/QR/tst/css/smoothness">
            Options Indexes MultiViews FollowSymLinks
            AllowOverride All
            Order allow,deny
            Allow from all
    </Directory>
    <Directory "/var/www/html/QR/tst/development-bundle">
            Options Indexes MultiViews FollowSymLinks
            AllowOverride All
            Order allow,deny
            Allow from all
    </Directory>
    <Directory "/var/www/html/QR/tst/development-bundle/ui">
            Options Indexes MultiViews FollowSymLinks
            AllowOverride All
            Order allow,deny
            Allow from all
    </Directory>
    <Directory "/var/www/html/QR/tst/development-bundle/demos">
            Options Indexes MultiViews FollowSymLinks
            AllowOverride All
            Order allow,deny
            Allow from all
    </Directory>

</VirtualHost> 
```

来自服务器的回复是 304。所有文件都有 755 权限。没有 idia 如何解决这个问题。谢谢！

```
HTTP/1.1 304 Not Modified
Date: Sat, 21 Jul 2012 08:45:38 GMT
Server: Apache/2.2.22 (Fedora)
Connection: close
ETag: "c0744-f7a-4c553071e0d4e" 
```

这是带有错误的警报： ![警报](../Images/59c9ddd02061eca3637b601ca64dbf9c.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:38:40.537

试试这个ajax请求

```
var request = $.ajax({
type:"post",
url:"http://my.server.on.port/mmm.php",
data:"abc=abcd",
//success:function(data){ console.log("success "+data); },
//error:function(data){console.error("error "+data;},
statusCode:{
200:function(){console.log("got 200")},
304:function(){console.log("got 304")},
404:function(){console.error("got 404")}},
isModified:function(){console.log("Something was modified");}
}).responseText;
// i haven't used .done .fail but i believe the code below would work.
request.done(function(data){ console.log("got response "+data); }); 
request.fail(function(jqXHR,textStatus){ 
console.log("Request Failed\n"+"object dump :"+console.log(jqXHR)+"\n"+"textStatus :"+textStatus); 
}); // changed according to the example from jquery site. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T06:59:08.693

这对我有用（在 chrome 和 IE 上测试）：

```
 var request = $.ajax({
     type: "post",
     url: "mmm.php",
     data:"abcdefghijklmnopqrstuvwxyz",
     success:function(data){ alert("success: " +JSON.stringify(data)); },
     error:function(data){ alert("error "+JSON.stringify(data)); },
     statusCode:{
          200:function(){alert("200 OK");},
          304:function(){alert("304 Not Modified");},
          404:function(){alert("404 No Found");}},
     isModified:function(){alert("Something was modified");}
 }); 
```

感谢任何帮助过的人！

# string - 将包含元组的列表转换为格式化字符串

> ID：11590869
> 
> 赞同：0
> 
> 时间：2012-07-21T09:00:24.623
> 
> 标签：string, list, haskell, tuples

我已`[(Double, Double)]`返回列表，我想将其格式化并像这样返回`String`

```
"(Double, Double)" 
```

值必须转换为上面提到的字符串作为`Double`.

如果列表中有多个值，则应格式化为：

```
"(Double, Double), (Double, Double), ..., (Double, Double)" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:04:42.267

```
format yourList = intercalate ", " $ map show yourList 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T13:50:17.790

如果你真的想打印`Double`s 的具体值，那么`efie`给出正确答案。但是，如果您只想显示 string `"Double"`，那么您将使用以下答案：

```
format = intercalate ", " . map (const "(Double, Double)") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T12:16:27.520

您可以使用`Show`列表的本机实例：

```
showPairSequence :: [(Double, Double)] -> String
showPairSequence = init . tail . show 
```

# html - 样式表未在 Espresso 2 中链接

> ID：11590874
> 
> 赞同：0
> 
> 时间：2012-07-21T09:01:07.773
> 
> 标签：html, css, stylesheet, macrabbit-espresso

我做了一个指向我的样式表的链接。我用了

```
<link rel="stylesheet" href="css/style.css> 
```

但它不起作用..当我将 CSS 放在 HTML 上的样式标签中时，它很好......我正在使用 espresso 2.. 有什么建议吗？

顺便说一句，我有我的 css ina 文件夹，也没有尝试过，它都是 int eh 同一个目录，这让我发疯:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:03:00.807

你没有关闭你的`href`属性

```
<link rel="stylesheet" href="css/style.css" media="screen" type="text/css" /> 
```

# datetime - 如何从水晶报表中的日期时间获取日期？

> ID：11590877
> 
> 赞同：0
> 
> 时间：2012-07-21T09:01:30.737
> 
> 标签：datetime, crystal-reports, type-conversion, syntax-error

我的 sqldatabase 中的日期时间格式是“2012-07-21 00:00:00.000”。我只需要日期（21）。我正在尝试转换，但它显示此特定字段的数据库错误。

我的代码是： **DatePart('d',CDate({tblFiles.Filed_Date}));**

![我的错误页面](../Images/f9b405ded425f4bdd09ebbb992b73492.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:56:50.747

这是您的报告与数据库连接的问题。确保正确设置数据源。您可以从验证报告开始。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-13T06:48:56.723

好的，我过去遇到过这个问题，它处理了一些转换，这是我如何处理这个问题的一个例子，这里我没有日期，但我的数据库中有时间，你需要将它转换为文本并替换您看到的零的数量并将 x 显示为 Date(x)；然后右键单击该字段并将其格式化以通过右键单击它来获取数据。希望这可以帮助。

```
LOCAL STRINGVAR x := REPLACE(totext({DETAILED_FOR_EMPLOYEE.LOGIN_TIME}), '.0000000', '') 
```

# android - 在 imageview 中显示来自意图的 jpg 图像

> ID：11590881
> 
> 赞同：2
> 
> 时间：2012-07-21T09:02:10.423
> 
> 标签：android, android-intent

如何显示从`"android.intent.action.SEND"`in接收到的图像`imageview`？用户从应用程序列表中选择我的应用程序以共享图像。图像是`sent via intent`并且我的活动打开但如何在图像视图中使用此图像？

使用

```
Bitmap  thumbnail = (Bitmap) getIntent().getExtras().get("data"); 
```

没有帮助和

```
getIntent().getType() returns image/jpg 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T09:22:40.150

您正在 Intent 接收图像，因此您必须将 Manifest 更新为：

```
<activity android:name=".Your_Activity" >
    ...
    ...
    <intent-filter>
    ...
        <action android:name="android.intent.action.SEND" />
        <category android:name="android.intent.category.DEFAULT" />
        <data android:mimeType="image/*" />
    </intent-filter>
</activity 
```

那么Activity需要：

```
void onCreate (Bundle savedInstanceState) {
...
// Get intent, action and MIME type
Intent intent = getIntent();
String action = intent.getAction();
String type = intent.getType();

if (Intent.ACTION_SEND.equals(action) && type != null) {
    if (type.startsWith("image/")) {
        Uri imageUri = (Uri) intent.getParcelableExtra(Intent.EXTRA_STREAM);
        if (imageUri != null) {
            YourImageView.setImageUri(imageUri);
        }
    }
.
.
. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:08:55.530

试试这个

```
 BitMap thumnail= (Bitmap) getIntent().getExtras().getParcelable("data");
 yourImageViewId.setImageBitmap(receiptimage); 
```

希望能帮助到你

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T09:24:46.863

`Bitmap`实现`Parcelable`接口。所以要通过它使用

```
intent.putExtra("bitmap", bitmap); 
```

并检索它使用：

```
Bitmap bitmap = (Bitmap) intent.getParcelableExtra("bitmap"); 
```

并使用[ImageView.setImageBitmap()](http://developer.android.com/reference/android/widget/ImageView.html#setImageBitmap%28android.graphics.Bitmap%29)。

编辑：见[从其他应用程序接收内容](http://developer.android.com/training/sharing/receive.html)

# haskell - Haskell 对模块的引用

> ID：11590885
> 
> 赞同：1
> 
> 时间：2012-07-21T09:02:43.310
> 
> 标签：haskell, module

是否可以在 haskell 中引用模块？我有几个模块，每个模块都公开相同的接口（两个具有相同名称和签名的函数）。是否可以列出此类模块，为每个模块调用函数。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T12:00:12.167

为接口定义数据类型怎么样？每个模块提供数据类型的单个实例，然后您可以遍历所有实例。

```
-- ModuleInterface.hs
-- Replace types of the functions with actual types
data ModuleInterface = ModuleInterface (Int -> Bool -> Int) (String -> Int)

-- ModuleA.hs
moduleInterface :: ModuleInterface
moduleInterface = ModuleInterface f1 f2
-- Declare f1 and f2

-- ModuleB.hs
moduleInterface :: ModuleInterface
moduleInterface = ModuleInterface f1 f2
-- Declare f1 and f2

-- Main.hs
-- Simple example showing how to "call" all of the functions. If you are doing
-- IO, then you would have to use something like mapM.
transform :: [ModuleInterface] -> Int -> Bool -> String -> [(Int, Int)]
transform interfaces i b s = map f interfaces
    where f (ModuleInterface g h) = (g i b, h s) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:25:45.070

我不确定您想要什么，但名称冲突通常只需使用合格的导入即可解决。在下面的示例中，观察`S.`and`M.`来明确说明函数或类型在哪个模块中。

```
import qualified Data.Set as S
import qualified Data.Map as M

mySet :: S.Set Int 
mySet = S.fromList [1,2,3]

myMap :: M.Map String Int 
myMap = M.fromList [("a", 1), ("b", 2), ("c", 3)] 

main = do
  print mySet
  print myMap
  print $ S.member 2 mySet
  print $ M.lookup "c" myMap 
```

但是从您的问题看来，您正在寻找一些元编程解决方案，其中您的*值*是模块，例如`setModule, mapModule :: Module`，并在其上使用 getter，例如`getFunctions :: Module -> [Functions]`. 我确定这不存在，因为它不适合静态类型语言。但是，如果您严重滥用 Template Haskell 或宏，您可能会搞砸一些事情。

# java - 通过使用动态代理，有没有办法可以返回类型与代理接口的方法签名不匹配的对象？

> ID：11590890
> 
> 赞同：5
> 
> 时间：2012-07-21T09:03:14.623
> 
> 标签：java, netty

我认为简短的回答可能是否定的，但我希望我能得到其他建议。假设我有一个数据对象和一个数据服务。数据服务是一个接口，有以下方法。

```
public Data getData(); 
```

我正在使用以下调用处理程序和 Netty 为服务创建代理，以执行我称之为异步 rpc 的操作。代理在客户端。

```
@Override
public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
    // Convert the call into an async request that returns a ListenableFuture
    APCRequest request = new APCRequest(serviceType, method, args);
    ListenableFuture future = apcClient.asyncMessage(request);

    // This blocks until the future finishes
    return future.get();
} 
```

这工作正常。但是，如果我的客户端是一个 UI，我最终会将服务调用包装在类似于 SwingWorker 的东西中。我更愿意想出一种方法来返回我已经坐在那里的 ListenableFuture。有什么方法可以在不创建单独的异步服务 API 的情况下实现这一点。例如：

```
public ListenableFuture<Data> getData(); 
```

如果我可以让我的 InvocationHandler 返回错误的类型，我可以使用这样的东西。

```
public abstract class AsyncServiceCall<S, D> { // S = service type, D = expected doCall return type
    protected final S service;

    protected AsyncServiceCall(Class<S> serviceType, APCClient client) {
        ProxyFactory proxyFactory = new ProxyFactory(client);

        // The true tells the proxyFactory we're expecting a ListenableFuture<D>
        // rather than the real return type.
        service = proxyFactory.createProxy(serviceType, true);
    }

    // Sub-classes would make a normal method call using this.  For
    // example, service.getData()
    public abstract Object doCall();

    @SuppressWarnings("unchecked")
    public ListenableFuture<D> execute() {
        return (ListenableFuture<D>) doCall();
    } 
```

有没有另一种方式来完成我想要的？性能对我来说不是问题，因此如果没有简单的方法来做我想做的事情，那么在代理可以从未来获取返回值之前进行阻塞仍然是一种选择。这似乎是一种浪费，因为无论如何我都希望在 UI 中进行异步调用。

保持我的服务 API 简单比什么都重要。我希望能够使用一个简单的服务提供者进行原型设计，该服务提供者直接实例化服务实现，并在开发周期的后期插入使用动态代理/Netty 的远程协议/服务器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T10:40:54.470

如果你想让你的 API 保持简单，那么我建议在接口中*只*提供异步 API - 在异步 API 中包含同步实现比反之亦然容易得多。

```
public interface DataService {
  public ListenableFuture<Data> getData();
}

public abstract class LocalDataService implements DataService {
  public ListenableFuture<Data> getData() {
    SettableFuture<Data> result = SettableFuture.create();
    try {
      Data theData = computeData();
      result.set(theData);
    } catch(Throwable t) {
      result.setException(e);
    }
    return result;
  }

  protected abstract Data computeData() throws Throwable;
} 
```

# email - 电子邮件无法发送短信详细信息

> ID：11590895
> 
> 赞同：0
> 
> 时间：2012-07-21T09:03:49.643
> 
> 标签：email, blackberry, sms

以下代码侦听传入的短信，从短信中取出所有空格，然后通过电子邮件发送编辑过的短信。一切正常，除了应用程序无法发送电子邮件。谁能看到我做错了什么并帮助我？

```
new Thread() { 
    public void run() {

        try {

            DatagramConnection _dc =
                (DatagramConnection)Connector.open("sms://"); 

            for(;;) { //'For-Loop' used to listen continously for incoming sms's

                Datagram d = _dc.newDatagram(_dc.getMaximumLength());                     
                _dc.receive(d);  //The sms is received                           
                byte[] bytes = d.getData();
                String address = d.getAddress(); //The address of the sms is put on a string.
                String msg = new String(bytes); //The body of the sms is put on a string.
                String msg2 = (replaceAll(msg, " ",""))  ; //

                Store store = Session.getDefaultInstance().getStore();

                Folder[] folders = store.list(Folder.SENT); 
                Folder sentfolder = folders[0]; //Retrieve the sent folder 

                Message in = new Message(sentfolder); 
                Address recipients[] = new Address[1];  

                recipients[0]= new Address("me@yahoo.com", "user"); 

                in.addRecipients(Message.RecipientType.TO, recipients); 

                in.setSubject("Incoming SMS"); //The subject of the message is added
                in.setContent("You have just received an SMS from: " + address + "/n" + "Message: " + msg2); //Here the body of the message is formed

                in.setPriority(Message.Priority.HIGH); //The priority of the message is set.

                Transport.send(in); //The message is sent

                in.setFlag(Message.Flag.OPENED, true);
                Folder folder = in.getFolder(); //The message is deleted from the sent folder
                folder.deleteMessage(in); 
            }       

        }catch (Exception me) { //All Exceptions are caught       
        }    
    }
};

public static String replaceAll(String front, String pattern, String back) {

    if (front == null) 
    return "";

    StringBuffer sb = new StringBuffer(); //A StringBufffer is created
    int idx = -1;
    int patIdx = 0;

    while ((idx = front.indexOf(pattern, patIdx)) != -1) {
        sb.append(front.substring(patIdx, idx));
        sb.append(back);
        patIdx = idx + pattern.length();
    }

    sb.append(front.substring(patIdx));
    return sb.toString();
} 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T23:33:18.143

这并不是问题的真正答案，只是对我上面评论的详细说明，这可能会有所帮助。

确保在你的异常捕获块中做一些事情，这样代码中的问题就不会被忽视。有可能您的代码没有遇到任何异常，但是为了让我们提供帮助，我们需要尝试消除潜在的问题，并且由于您说代码不起作用，但是您有一个空的异常处理程序，这很容易首先修复的区域。

最简单的处理程序就是：

```
try {
   // try sending sms here
} catch (Exception e) {
   e.printStackTrace();
} 
```

如果您可以在调试器中运行它（我强烈建议这样做），那么您现在可以在该`e.printStackTrace()`行上放置一个断点，看看它是否会被命中。如果是，请检查它的值`e`并告诉我们它是什么。

通常，在我的程序中，我实际上并没有`e.printStackTrace()`在 catch 处理程序中使用，但我有一个记录类，它接受字符串，可能还有一个日志级别（例如信息、警告、错误、详细），并写入日志文件。日志文件可以附加到用户发送给技术支持的电子邮件中，或者如果您只想在开发时使用该功能，则可以将其禁用用于生产。

无论如何，从一个简单的开始`printStackTrace()`，看看它是否会被击中。然后，回来汇报。

* * *

**编辑：**从您在问题后评论中描述的症状来看，似乎有可能

```
 String msg2 = (replaceAll(msg, " ",""))  ; // 
```

正在引发异常，因此永远不会让您到达发送电子邮件的位置。在初步检查时，我看不出您的实施有任何问题`replaceAll()`，但这可能是一个值得一看的地方。该实现是否已经过彻底的单元测试？

另外，我认为您`"/n"`的代码中有 a ，您可能想要 a `"\n"`，对吗？

# javascript - 用于backbone.js 应用程序的Node.js？

> ID：11590896
> 
> 赞同：0
> 
> 时间：2012-07-21T09:04:10.570
> 
> 标签：javascript, node.js, backbone.js

我将使用backbonejs 或canjs 作为前端的javascript 应用程序，并且需要一种服务器端语言来连接到数据库。node.js 可以正常工作吗？

我找不到任何关于尝试使用 node.js 作为后端的文档...

真的不尝试使用 php、rails、asp 等...

例子/解释会很棒！谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:00:38.590

这是一组我发现非常有用的资源链接。

[基本的 Node.js 和 Backbone 应用程序](http://hop2croft.wordpress.com/2012/04/15/basic-node-js-and-backbone-js-application-ii/)

[Todos MVC 与 Backbone、Node.js 和 MongoDB](http://jamesor.com/2012/04/todosmvc-backbone-nodejs-mongodb/)

[使用 Node 在服务器端重用 Backhonejs 模型](http://andyet.net/blog/2011/feb/15/re-using-backbonejs-models-on-the-server-with-node/)

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:16:15.147

您绝对可以为此使用 node.js

查看[express.js](http://expressjs.com/)以获得一个简单的 API 来处理您的请求。他们有一些很棒的文档。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T09:52:03.600

是的当然。您还可以查看[http://www.nodebeginner.org](http://www.nodebeginner.org)。

# android - 将网站下载到字符串

> ID：11590899
> 
> 赞同：7
> 
> 时间：2012-07-21T09:04:37.287
> 
> 标签：android, eclipse, web, download, contain

完成了一些基本教程后，我开始在 Eclipse 中制作我的第一个真正的 android 应用程序。我希望这个应用程序检查 EditText 中的文本是否与网站上的文本匹配（这个：[http](http://www.augustinianum.eu/roosterwijzigingen/14062012.pdf) ://www.augustinianum.eu/roosterwijzigingen/14062012.pdf （它包含我学校的时间表更改））。我发现了如何让应用程序检查 EditText 中的文本是否与字符串匹配（使用方法 contains()），所以现在我唯一需要做的就是将该网站的所有文本下载到细绳。但我不知道该怎么做。或者是否有一种方法可以检查网站是否包含某个单词，而无需将网站的文本下载到字符串中。

谢谢你！

（顺便说一句，我不是英语，所以如果我犯了一些与语言相关的错误，请原谅我。）

@androider我无法在评论框中发布我的代码，所以这里是：

```
package me.moop.mytwitter;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.MalformedURLException;
import java.net.URL;

import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.Toast;
import android.app.Activity;
import android.app.ProgressDialog;

public class MainActivity extends Activity {

Button mBtnCheck;
EditText mEtxtGroup;
ProgressDialog mProgressDialog;
TwitterUser mTwitterUser;
TextView mTxtv1;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.nicelayout3);

    mBtnCheck = (Button) findViewById(R.id.btnCheck);
    mEtxtGroup = (EditText) findViewById(R.id.etxtGroup);
    mTxtv1 = (TextView) findViewById(R.id.textView1);

}

  public void checkScheduleChange(View view){
    if (view == mBtnCheck){
        String group;
        group = mEtxtGroup.getText().toString();
        if (group.length() > 0){
            mProgressDialog = new ProgressDialog(this);
            mProgressDialog.setMessage("Bezig met checken voor roosterwijzigingen...");
            mProgressDialog.show();
            try 
            {
                URL url = new URL("http://www.augustinianum.eu/roosterwijzigingen/14062012.pdf");
                BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));
                String str;
                while ((str = in.readLine()) != null){
                    mProgressDialog.dismiss();
                   if(str.contains(mEtxtGroup.getText().toString())){
                       Toast.makeText(this, "U hebt een roosterwijziging.", Toast.LENGTH_LONG).show();
                   }
                   else{
                       Toast.makeText(this, "U hebt geen roosterwijzigingen", Toast.LENGTH_LONG).show();
                   }
                }
                in.close();
            } catch (MalformedURLException e) {
                Toast.makeText(this, "Er is een fout opgetreden, probeer opniew.", Toast.LENGTH_LONG).show();
            } catch (IOException e) {
                Toast.makeText(this, "Er is een fout opgetreden, probeer opniew.", Toast.LENGTH_LONG).show();
            }
        }
        else{
            Toast.makeText(this, "Voer een klas in", Toast.LENGTH_LONG).show();
        }
    }
  }
} 
```

以下是按钮的属性：

```
 <Button
        android:id="@+id/btnCheck"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:clickable="true"
        android:onClick="checkScheduleChange"
        android:text="Check" > 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T09:26:14.197

您可以像这样使用 InputStream Reader 获取文本。

```
try 
{
    URL url = new URL("http://yourwebpage.com");
    // Read all the text returned by the server
    BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));
    String str;
    while ((str = in.readLine()) != null) 
    {
     // str is one line of text; readLine() strips the newline character(s)
     // You can use the contain method here.
       if(str.contains(editText.getText().toString))
        {
          You can perform your logic here!!!!!         
        }
    }
    in.close();
} catch (MalformedURLException e) {
} catch (IOException e) {
} 
```

还要在您的应用清单文件中添加额外的权限：

```
<uses-permission android:name="android.permission.INTERNET/> 
```

**//=============================编辑=================== ==============//**

```
if (group.length() > 0)
  {
            mProgressDialog = new ProgressDialog(this);
            mProgressDialog.setMessage("Bezig met checken voor roosterwijzigingen...");
            mProgressDialog.show();
            try 
            {
                URL url = new URL("http://www.augustinianum.eu/roosterwijzigingen/14062012.pdf");
                BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));
                String str;
                while ((str = in.readLine()) != null){

                   if(str.contains(mEtxtGroup.getText().toString())){

                     if(mProgressDialog.isShowing())
                     { 
                        mProgressDialog.dismiss(); 
                     }

                     Toast.makeText(this, "U hebt een roosterwijziging.", Toast.LENGTH_LONG).show();
                     break;
                   }
                }
                in.close();
            } catch (MalformedURLException e) {
                Toast.makeText(this, "Er is een fout opgetreden, probeer opniew.", Toast.LENGTH_LONG).show();
            } catch (IOException e) {
                Toast.makeText(this, "Er is een fout opgetreden, probeer opniew.", Toast.LENGTH_LONG).show();
            }

                     if(mProgressDialog.isShowing())
                     { 
                        mProgressDialog.dismiss(); 
                     }
        }
        else{
            Toast.makeText(this, "Voer een klas in", Toast.LENGTH_LONG).show();
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T09:07:55.210

这是一个很好的相关 Java 问题：[How do you Programmatically Download a Webpage in Java](https://stackoverflow.com/questions/238547/how-do-you-programmatically-download-a-webpage-in-java)

然后，您可以在应用程序中实施您选择的任何方法。需要注意的一件事是，您需要启用`INTERNET`应用程序的权限才能访问互联网。

# javascript - json值未在ajax中解析

> ID：11590901
> 
> 赞同：0
> 
> 时间：2012-07-21T09:04:58.753
> 
> 标签：javascript, json, jsonp

我无法将我的 json 值传递给 url

```
 ```
var url="http://192.168.2.143/php/welcome.php";

 $.ajax({
 type: 'POST',
 url: url,
 data: ({fname:"hi",age:"21"}),
 success: success,
 error:function(e)
 {
         alert(e);
 }

});

 }

 function success()
 {
         alert("done");
 } 
``` 
好吧，如果我将网址更改为  `welcome.php`不起作用。我`welcome.php`的文件夹中有，我想从另一个系统访问它，所以我更改了网址，提前谢谢你。
            回答 #1

赞同：0

时间：2012-07-21T09:13:41.210

你有一个额外的花括号

```
 } // HERE

function success()
{
     alert("done");
} 
```

```

# android - Android 翻译日期取决于区域设置

> ID：11590902
> 
> 赞同：0
> 
> 时间：2012-07-21T09:05:03.467
> 
> 标签：android, date, locale

我无法在一个新项目中编写一个简单的代码，该项目假设只是根据语言环境集以多种语言编写一个日期。

```
Locale[] locales = new Locale[] {
            Locale.JAPAN,
            Locale.CHINA,
            Locale.KOREA,
            Locale.TAIWAN,
            Locale.ITALY,
            Locale.FRANCE,
            Locale.GERMAN
    };

    // Get an instance of current date time
    Date today = new Date();

    //
    // Iterates the entire Locale defined above and create a long 
    // formatted date using the SimpleDateFormat.getDateInstance() 
    // with the format, the Locale and the date information.
    //
    for (Locale locale : locales) {
        System.out.println("Date format in "
            + locale.getDisplayName() 
            + " = "
            + SimpleDateFormat.getDateInstance(
                  SimpleDateFormat.LONG, locale)
                      .format(today).toUpperCase());
    }
} 
```

这是此代码的链接：以下代码的[URL](http://www.kodejava.org/examples/415.html)

现在这是它应该显示的内容

日文（日本）的日期格式 = 2009/01/04

中文（中国）日期格式 = 2009 年 1 月 4 日</p>

韩语（韩国）的日期格式 = 2009년 1월 4일 (일)

中文（台湾）日期格式 = 2009 年 1 月 4 日</p>

意大利语（意大利）的日期格式 = 4 GENNAIO 2009

法语（法国）的日期格式 = 2009 年 1 月 4 日

德语日期格式 = 4\. 2009 年 1 月

这是我的显示：

日文（日本）的日期格式 = 2012 7 21

中文（中国）日期格式 = 2012 7 21

韩语（韩国）的日期格式 = 2012 7 21

中文（台湾）日期格式 = 2012 7 21

意大利语（意大利）的日期格式 = 2012 7 21

法语（法国）的日期格式 = 2012 7 21

德语日期格式 = 2012 7 21

**问题**：怎么了？我忘记了一些明显的事情吗？你有什么线索吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-24T10:45:17.967

事实证明，这是一个特定于设备的问题。该代码适用于具有正确区域设置数据的手机以及模拟器。在 HTC Desire 上，有些 ROM 的语言环境数据已损坏。[更多关于这个问题。](http://code.google.com/p/android/issues/detail?id=9453)

# ember.js - 合并两个记录数组

> ID：11590906
> 
> 赞同：1
> 
> 时间：2012-07-21T09:05:36.493
> 
> 标签：ember.js, ember-data

我的应用程序中有两种不同的模型

```
App.Foo = DS.Model.extend({
  title:   DS.attr('string')
});

App.Bar = DS.Model.extend({
  title:   DS.attr('string')
}); 
```

foo 和 bar 模型都从我后端的不同模型中获取数据。
他们都有一些共同的领域，比如标题。但其他人也不同（我需要对他们有不同的看法）。

但是，当显示它们的列表时，我希望能够合并它们并对它们进行排序，就好像它们是同一个对象一样。

不幸的是，从我在 ember-data 代码库中看到的情况来看，这似乎是不可能的。
关于解决方案的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T13:06:51.113

这已在最新版本的 Ember Data 中通过[findAll](https://github.com/pangratz/data/commit/ebf508e1e54eeb1e075488ba09cf9e8ffeb612af)的实现得到解决。

因此，我们可以这样做：

```
DS.store.findAll(DS.Model) 
```

这将加载所有模型的所有记录。

# javascript - 如何在javascript中克隆现有文档？

> ID：11590907
> 
> 赞同：0
> 
> 时间：2012-07-21T09:05:43.400
> 
> 标签：javascript

是否可以创建`document`in的复制变量`javascript`？

因为我是 C# 开发人员，所以我想要类似的东西

```
var doc=new document();

    var doc = document;
    doc.open('application/txt', 'replace');
    doc.charset = 'utf-8';
    doc.write('Message to write in txt file');
    doc.close();
    if (doc.execCommand('SaveAs', true,'test.txt')) {
        alert(success);
    } 
```

我在 iframe 弹出窗口中有一个按钮和一些其他控件，我想在单击按钮时打开另存为对话框。在我运行上面的代码后，“要写入 txt 文件的消息”显示在我有按钮和其他控件的页面中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-22T10:08:17.783

我已经解决了这个问题，如下所示。我在我的页面中添加了一个 iframe 并执行了以下操作。

```
 var iframe = document.getElementById('iframe');
    var doc = iframe.contentDocument;
    var message = 'Message to write in txt file';           
    doc.open('application/txt', 'replace');
    doc.charset = 'utf-8';
    doc.write(message);
    doc.close();

    doc.execCommand('SaveAs', true, 'test.txt'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:15:30.850

您可以在 JQuery [http://api.jquery.com/clone/中使用克隆方法](http://api.jquery.com/clone/)

> .clone() 方法执行匹配元素集的深层复制，这意味着它复制匹配的元素以及它们的所有后代元素和文本节点。当与其中一种插入方法结合使用时，.clone() 是一种在页面上复制元素的便捷方法。

# iphone - 用日语解析 Google Suggest API 时出错

> ID：11590913
> 
> 赞同：0
> 
> 时间：2012-07-21T09:06:50.407
> 
> 标签：iphone, ios, ipad, google-api, google-search-api

当我从 Google Suggest API 搜索“ア”数据时，我当前在设备中的语言是英语。然后我在 iPhone 设备中得到以下响应。

```
<?xml version="1.0"?>
<toplevel>
<CompleteSuggestion>
<suggestion data="&#x30A2;&#x30DE;&#x30BE;&#x30F3;"/>
<num_queries int="69300000"/>
</CompleteSuggestion>
<CompleteSuggestion>
<suggestion data="&#x30A2;&#x30E1;&#x30D6;&#x30ED;"/>
<num_queries int="66400000"/>
</CompleteSuggestion>
</toplevel> 
```

当我从 Google Suggest API 搜索“ア”数据时，我当前在设备中的语言是日语。然后我在 iPhone 设备中得到以下响应。

```
<?xml version="1.0"?>
<toplevel>
<CompleteSuggestion>
<suggestion data="ÉAÉ}É]Éì"/>
<num_queries int="69300000"/>
</CompleteSuggestion>
<CompleteSuggestion>
<suggestion data="ÉAÉÅÉuÉç"/>
<num_queries int="66400000"/>
</CompleteSuggestion>
</toplevel> 
```

对于英语 XML 解析工作正常但是对于日语响应，它在解析 XML 时给了我错误并且不会显示数据。

请提出任何解决此问题的方法。

我正在使用以下代码从 Google Suggest API 获取响应。

```
NSString *strUrl = [NSString stringWithFormat:@"http://google.com/complete/search?output=toolbar&q=ア"];

NSURL *url = [NSURL URLWithString:[strUrl stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]];
NSString * urlData = [NSString stringWithContentsOfURL:url];

// Print the data that get from google suggest api.
NSLog(@"URL Data :: %@", urlData); 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:32:29.947

我解决了这个问题。在我的情况下，谷歌 api 给我一个日文字符。所以我按照以下方式更改我的代码：

```
NSString *strUrl = [NSString stringWithFormat:@"http://google.com/complete/search?output=toolbar&q=ア"];

NSURL *url = [NSURL URLWithString:[strUrl stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]];

NSError * isError;
NSString * urlData = [NSString stringWithContentsOfURL:url encoding:NSShiftJISStringEncoding error:&isError];

NSLog(@"URL Data :: %@", urlData); 
```

谢谢。

# c - 如何获取字符串的ASCII

> ID：11590914
> 
> 赞同：3
> 
> 时间：2012-07-21T09:07:01.903
> 
> 标签：c, unix, casting

我需要通过 char 获取字符串 char 的 ascii（int 和 hex 格式）表示。例如，如果我有字符串“hello”，我会得到 for`int ascii 104 101 108 108 111` 和 for`hex 68 65 6C 6C 6F`

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-21T09:09:17.690

怎么样：

```
char *str = "hello";

while (*str) {
    printf("%c %u %x\n", *str, *str, *str);
    str++;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T19:03:01.073

在 C 中，字符串只是相邻内存位置中的一些字符。要做两件事：**（1）**逐个字符循环字符串。**(2)**输出每个字符。

**(1) 的解决方案**取决于字符串的表示形式（以 0 结尾还是具有显式长度？）。对于以 0 结尾的字符串，请使用

```
char *c = "a string";
for (char *i = c; *i; ++i) {
   // do something with *i
} 
```

给定一个明确的长度，使用

```
for (int i = 0; i < length; ++i) {
   // do something with c[i]
} 
```

**(2) 的解决方案**显然取决于您要实现的目标。要简单地输出值，请按照[cnicutar 的](https://stackoverflow.com/q/11590914/1307866)回答并使用`printf`. 要获取包含表示的（0 终止）字符串，

```
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

/* convert a 0-terminated string to a 0-terminated string of its ascii values,
 * seperated by spaces. The user is responsible to free() the result.
 */
char *to_ascii(const char *inputstring) {

   // allocate the maximum needed to store the ascii represention:
   char *output = malloc(sizeof(char) * (strlen(inputstring) * 4 + 1));
   char *output_end = output;

   if (!output) // allocation failed! omg!
      exit(EXIT_FAILURE);

   *output_end = '\0';
   for (; *inputstring; ++inputstring) {
      output_end += sprintf(output_end, "%u ", *inputstring);
      //assert(output_end == '\0');
   }

  return output;
} 
```

如果您需要输出显式长度的字符串，请使用`strlen()`或 差异 `(size_t)(output_end-output)`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T09:56:12.877

```
int main()
{
enum type {decimal, hexa};
char *str = "hello";
char *temp_str = NULL;
temp_str = str;
static enum type index = decimal;
while (*str) {
    if(index == decimal)
     printf("%u\t", *str);
    else
     printf("%x\t",*str);
    str++;
}
printf("\n");
if(index != hexa)
{
   index = hexa;
   str = temp_str;
   main();
}

} 
```

希望这能像你想要的那样正常工作，如果你想将它存储在一个 uint8_t 数组中，只需为它声明一个变量。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-03-11T20:21:30.713

我知道这已经有 5 年历史了，但是我的第一个真正的程序将字符串转换为 ASCII，它是通过为 getchar() 分配一个变量然后在 printf() 中将其作为整数调用来以一种干净简单的方式完成的，一直在当然是一个循环，否则 getchar() 只接受单个字符。

```
#include <stdio.h>

int main() 
{
    int i = 0;

    while((i = getchar()) != EOF)
        printf("%d ", i);

    return 0;
} 
```

这是使用 for() 循环的原始版本，因为我想看看我可以使程序变得多小。

```
#include <stdio.h>

int main() 
{
    for(int i = 0; (i = getchar()) != EOF; printf("%d ", i); 
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-07-01T05:21:17.667

```
/* Receives a string and returns an unsigned integer 
equivalent to its ASCII values summed up */
unsigned int str2int(unsigned char *str){
    int str_len = strlen(str);
    unsigned int str_int = 0;
    int counter = 0;

    while(counter <= str_len){
        str_int+= str[counter];
        printf("Acumulator:%d\n", str_int);
        counter++;
    }
    return str_int;
} 
```

# c# - 在 C# 中使用 2 小时在谷歌地图上添加 10000 个地标并悬停

> ID：11590920
> 
> 赞同：0
> 
> 时间：2012-07-21T09:08:10.240
> 
> 标签：c#, .net, google-maps-api-3

我在谷歌地图上添加了 10000 个地标，但需要大约 2 小时。这对任何用户都不利。

请告诉我谷歌地图占用的空闲时间是多少以及如何加快速度。

我正在执行以下步骤

1) 为选定的人从数据库中选择不同的位置。

2）制作脚本以添加销售员的所有位置。

3) 调用 google map api(v3) 并将脚本传递给它以加载所有值。

请建议

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:17:18.793

谷歌地图不是为同时处理那么多标记而设计的，而且速度会非常可怕。如果有几个彼此靠近，请尝试通过将它们组合在一起来限制放置的标记数量，直到用户放大并仅加载当前可见区域所需的标记。

我不太确定您是如何显示此地图的，但我的猜测是在 webbrowser 控件中？如果是这样，那么您可以使用辅助库，例如 Marker Clusterer 或 Marker Manager（两者都可以在[http://code.google.com/p/google-maps-utility-library-v3/wiki/Libraries 获得](http://code.google.com/p/google-maps-utility-library-v3/wiki/Libraries)）来帮助您出去。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T09:19:52.347

我不知道这对 10,000 个标记有多大帮助，但经过一番搜索后，似乎有更有效的方法来管理标记，而不仅仅是将它们全部转储到地图上：

[http://www.svennerberg.com/2009/01/handling-large-amounts-of-markers-in-google-maps/](http://www.svennerberg.com/2009/01/handling-large-amounts-of-markers-in-google-maps/)

根据最后的基准，加载 10,000 个标记仍然需要几分钟。谷歌地图当然不是为了一次处理那么多标记而设计的。加快速度的最佳方法是仅添加必要的标记。我无法想象有人能理解 10,000 个标记。将其缩小到最终用户可以理解和使用的少数几个。

# tabcontrol - 将选项卡控件中所有复选框的文本获取为字符串

> ID：11590922
> 
> 赞同：0
> 
> 时间：2012-07-21T09:08:33.250
> 
> 标签：tabcontrol, checkbox

我对这一切都非常陌生，虽然我尝试搜索，但找不到任何帮助我实现我所追求的东西。

我在VB中有一个表格，内容如下：

1 x tabcontrol 10 x 复选框，位于选项卡控件上的各个选项卡中 1 x 列表框

当我勾选任何复选框时，我希望将它们的文本添加到列表框中，当我取消选中时，它们的文本将从列表框中获取。

我可以很容易地为每个复选框的 changedcheck 事件使用 if 语句来实现这一点，但我必须对每个不是很有效的复选框都这样做，因为我可能有 20,30 40+ 个复选框。另外，如果我在稍后阶段添加一个，我将不得不记住添加它的代码。

理想情况下，我想要一种方法：检查 tabcontrol 中的所有复选框，如果值为 true，则将其文本写入字符串，如果值为 false，则从字符串中获取文本。将字符串放入列表框中。

我从这样的事情开始......

```
Dim chk As CheckBox
Dim txt As String = ""
For Each chk In TabControl1.Controls
    If chk.Checked = True Then
      txt = txt + chk.Text +vbCrLF
    Else
      txt = replace(txt, chk.text + vbCrLf, "")
    End If
Next
      End Sub 
```

第一个问题是上述显然行不通！所以那里的任何指导都值得赞赏 - 我通过阅读其他代码的碎片将它们放在一起。

第二个问题是，我不知道如何更新列表框，就像以前我对每个控件使用 CheckedChanged 事件一样，如果我做我想做的事，那么就不会有特定的 CheckedChanged 事件，如它可以是任何复选框（希望这是有道理的！）。我不想按下按钮将选中的复选框添加到列表框中，我希望它是动态的

很感谢任何形式的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T09:17:44.553

对于您的第一个问题，请添加

```
Dim chk As Control
Dim txt As String = ""
For Each chk In TabControl1.Controls
If TypeOf chk Is CheckBox 
  If DirectCast(chk, CheckBox).Checked = True Then
    txt = txt + chk.Text +vbCrLF
  Else
    txt = replace(txt, chk.text + vbCrLf, "")
  End If
End If 
Next
  End Sub 
```

对于 CheckedChanged 事件中的第二个问题，您可以执行以下操作：

```
Private Sub OnCheckedChanged(sender as Object, e as EventArgs) _ 
 Handles CheckBox1.CheckedChanged

  Dim chk As CheckBox = TryCast(s, CheckBox) 
   Dim txt as string
   If c.Checked = True Then
   txt = chk.Text
  EndIf

End Sub 
```

# c++ - '(QMessageBox::Icon)1u' 不能用作函数

> ID：11590932
> 
> 赞同：3
> 
> 时间：2012-07-21T09:10:33.470
> 
> 标签：c++, qt

在 Qt 中编译以下代码时出现以下错误：

```
In member function 'void MaFenetre::ouvrirDialog()'
'(QMessageBox::Icon)1u' cannot be used as a function 
```

知道可能出了什么问题吗？

**主文件**

```
#include <QApplication>
#include "MaFenetre.h"

int main(int argc, char *argv[])
{
    QApplication app(argc, argv);

    MaFenetre fenetre;
    fenetre.show();

    return app.exec();
} 
```

**MaFenetre.h**

```
#ifndef MAFENETRE_H
#define MAFENETRE_H

#include <QApplication>
#include <QWidget>
#include <QPushButton>
#include <QMessageBox>

class MaFenetre : public QWidget
{
    Q_OBJECT

    public:
    MaFenetre();

public slots:
    void ouvrirDialog();

    private:
    QPushButton *m_boutonDialog;
};

#endif // MAFENETRE_H 
```

**MaFenetre.cpp**

```
#include "MaFenetre.h"

MaFenetre::MaFenetre() : QWidget()
{
    setFixedSize(230, 120);

    m_boutonDialog = new QPushButton("Ouvrir la boîte de dialogue", this);
    m_boutonDialog->move(40, 50);

    QObject::connect(m_boutonDialog, SIGNAL(clicked()), this, SLOT(ouvrirDialog()));
}

void MaFenetre::ouvrirDialog()
{
    QMessageBox::Information(this, "Titre de la fenêtre", "Bonjour et bienvenue à tous les Zéros !");
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T09:14:06.130

您正在寻找的功能是[`QMessageBox::information`](http://qt-project.org/doc/qt-4.8/qmessagebox.html#information)：注意小写`i`。

`QMessageBox::Information`是[一个枚举值](http://qt-project.org/doc/qt-4.8/qmessagebox.html#Icon-enum)。

# c# - 如何显示在串口的 DataReceived 事件处理程序中读取的数据

> ID：11590945
> 
> 赞同：6
> 
> 时间：2012-07-21T09:13:57.363
> 
> 标签：c#, multithreading, serial-port

我有以下代码需要从端口读取数据然后显示在文本框中。我为此目的使用 DataReceived 事件处理程序，但不知道如何在文本框中显示此数据。从各种来源我了解到 Invoke 方法应该用于此，但不知道如何使用它。建议请...

```
 private void Form1_Load(object sender, EventArgs e)
    {
        //SerialPort mySerialPort = new SerialPort("COM3");
        mySerialPort.PortName = "COM3";
        mySerialPort.BaudRate = 9600;
        mySerialPort.Parity = Parity.None;
        mySerialPort.StopBits = StopBits.One;
        mySerialPort.DataBits = 8;
        mySerialPort.Handshake = Handshake.None;
        mySerialPort.DataReceived += new SerialDataReceivedEventHandler(mySerialPort_DataReceived);
        mySerialPort.Open();
    }

    private void mySerialPort_DataReceived(object sender, SerialDataReceivedEventArgs e)
    {
        SerialPort sp = (SerialPort)sender;
        string s= sp.ReadExisting();
        // next i want to display the data in s in a textbox. textbox1.text=s gives a cross thread exception
    }
    private void button1_Click(object sender, EventArgs e)
    {

        mySerialPort.WriteLine("AT+CMGL=\"ALL\"");

    } 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-21T09:45:43.047

MSDN 包含一篇很好的[文章](http://msdn.microsoft.com/library/a1hetckb.aspx)，其中包含有关使用来自其他线程的控制方法和属性的示例。

简而言之，您需要的是一个委托方法，它`Text`使用给定的字符串设置文本框的属性。`mySerialPort_DataReceived`然后，您通过该`TextBox.Invoke()`方法从您的处理程序中调用该委托。像这样的东西：

```
public delegate void AddDataDelegate(String myString);
public AddDataDelegate myDelegate;

private void Form1_Load(object sender, EventArgs e)
{
    //...
    this.myDelegate = new AddDataDelegate(AddDataMethod);
}

public void AddDataMethod(String myString)
{
    textbox1.AppendText(myString);
}

private void mySerialPort_DataReceived(object sender, SerialDataReceivedEventArgs e)
{
   SerialPort sp = (SerialPort)sender;
   string s= sp.ReadExisting();

   textbox1.Invoke(this.myDelegate, new Object[] {s});       
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T09:36:28.630

试试这个（对我有用）：

```
private delegate void UpdateUiTextDelegate(string text);

private void Receive(object sender, System.IO.Ports.SerialDataReceivedEventArgs e)
{
    if (mySerialPort.IsOpen)
    {
        RxString = mySerialPort.ReadLine();
        Dispatcher.Invoke(DispatcherPriority.Send, new UpdateUiTextDelegate(DisplayText), RxString);
    }
}

private void DisplayText(string RxString)
{
    myTextBox.Text = RxString;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-12-05T20:26:03.333

我正在为 USB COM 端口创建一个 GUI“表单”。这就是我将数据发送到窗口而不会出现“跨线程”错误的方式。

```
private void serialPort1_DataReceived(object sender, SerialDataReceivedEventArgs e)
{
    string inData = serialPort1.ReadLine(); // ReadLine includes the + "\n"
    displayToWindow(inData);
}

private void displayToWindow(string inData)
{
    BeginInvoke(new EventHandler(delegate
    {
        richTextBox1.AppendText(inData);
        richTextBox1.ScrollToCaret();
    }));
} 
```

# mysql - MySQL 使用组的 rowid 更新列值

> ID：11590957
> 
> 赞同：0
> 
> 时间：2012-07-21T09:16:01.770
> 
> 标签：mysql

我有一个图像表，它们与特定组（vehID）相关联，我需要为每个组创建它们的顺序。

这是我忘记设计的字段的初始图像条目位置。

我一直在玩`@row`，但没有走得很远。

```
set @row= 0;
select @row:=@row+1 as row, vehID,imgID from images group by vehID; 
```

这给了我 rowID 但不会为每个组重置

每个 vehID 有 1 到 n 个条目，我希望计算该值并使用计算值更新该行的条目。

我无法弄清楚如何在 vehID 更改时将 @row 重置为 0。可能是一些子选择。

如果我可以让 Select 就如何对 UPDATE 进行编码（如果不是很明显）提出任何建议，将不胜感激

```
Update images set imgPosition = Calculated Value where imgID = current imgID 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T17:41:18.733

您只需要声明另一个包含先前 vehID 的变量。然后使用 IF 语句，您可以将 vehID 与前一个进行比较，并相应地设置行号。然后将前一个 vehID 变量设置为当前行的 vehID。

请注意，我将“group by”更改为“order by”。这有两个原因：

1-列出所有行

2-确保来自相同ID的行彼此跟随。否则与之前的值比较是不正确的。

最后，确保在重置前一个变量以保存当前行的值之前比较前一个 vehID 值并确定 rownum 是什么。

```
set @previous_vehID= 0;
set @row= 0;
select if(@previous_vehID=vehID, @row:=@row+1, @row:=1) as row,@previous_vehID:=vehID, vehID,imgID from images order by vehID 
```

**编辑：**

我只是错过了更新部分。您可以为此尝试交叉表更新：

```
set @previous_vehID= 0;
set @row= 0;
update images a, (
    select if(@previous_vehID=vehID, @row:=@row+1, @row:=1) as row,@previous_vehID:=vehID, vehID,imgID from images order by vehID ) aa
set a.imgPosition = aa.row where a.vehID=aa.vehID and a.imgID=aa.imgID 
```

以上在单个语句/查询中进行选择和更新。如果不起作用，请将结果插入临时表并使用它们在单独的语句中进行更新。

# javascript - 鼠标移动（）上的fadeIn导航-一定时间后淡出？

> ID：11590962
> 
> 赞同：1
> 
> 时间：2012-07-21T09:17:21.880
> 
> 标签：javascript, jquery, jquery-events, mousemove

我的网站上有一个`#pagination`默认设置为`display:none`

在我的整个文档上移动鼠标时，我想在鼠标移动停止后将它们淡入并在一段时间后淡出。我完全不知道最好的方法是什么。有什么想法吗？

```
$(document).ready(function(){

    $(document).on('mousemove', 'body', function() {
        $('#pagination').fadeIn('fast');
        //once the mousemovement stopped I want a 3sec counter till it fades out agian
    });

}); 
```

一旦鼠标移动停止，我想在“#pagination”再次淡出之前稍微延迟一下。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T09:57:37.103

假设您想确保用户在 #pagination 淡出之前停止移动鼠标，您需要设置一个简单的计时器：

```
$(document).ready(function(){ 

    var c, p = $('#pagination');
    $(document).on('mousemove',function() {        
       p.fadeIn('medium');
       clearTimeout(c);
       c= setTimeout(function(){
           p.fadeOut('medium');
       }, 600);
    });

});​ 
```

每当用户停止移动鼠标时，它`#pagination`就会淡出。当他们再次开始移动它时，`#pagination`淡入。如果您不希望它淡入，您可以轻松修改它。

请参阅以下位置的实时示例：http: [//jsfiddle.net/akVkT/2/](http://jsfiddle.net/akVkT/2/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T09:24:57.767

```
$(document).ready(function(){

    $(document).on('mouseout', '#pagination', function() {
        $(this).delay(5000).fadeOut('fast');
    });

}); 
```

这是 5 秒。5秒后会淡出

# javascript - Javascript用字符串替换url

> ID：11590963
> 
> 赞同：-2
> 
> 时间：2012-07-21T09:17:22.910
> 
> 标签：javascript, url

我有一串 url 编码的字符。

想知道是否有一个 javascript 函数可以用普通字符串字符替换所有 url 编码的字符。

我知道我可以使用替换功能，但它只替换一个特定字符，而不是一次全部替换

例如，我正在寻找一个函数来替换此字符串中的所有 url 编码字符：

```
string urlEncoded = '1%20day%20%40work!%20Where%20are%20you%3F' 
```

给我这个字符串：

```
string replaced = '1 day @ work! Where are you?' 
```

多谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T09:20:00.850

```
string replaced = decodeURIComponent(urlEncoded); 
```

还有只是`decodeURI`，但这不能处理“特殊”字符，例如 & ？！＃ ETC

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:20:34.767

为此目的使用 decodeURIComponent(string)。

```
string urlEncoded = '1%20day%20%40work!%20Where%20are%20you%3F';
string replaced = decodeURIComponent(urlEncoded);
alert(replaced); 
```

更多信息在这里：[https ://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/decodeURIComponent](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/decodeURIComponent)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T09:20:42.987

使用 decodeURIComponent(urlEncoded)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-07-21T09:20:32.963

你正在寻找`unescape`

```
var decoded = unescape(urlEncoded); 
```

# php - 使用 php 中的变量作为 javascript 的警报

> ID：11590964
> 
> 赞同：-1
> 
> 时间：2012-07-21T09:17:37.907
> 
> 标签：php, javascript, variables, alert

如何使用我的 php-sql 中的变量成为我的 javascript 警报的消息？

这是我的代码

```
<?php

    $select = "SELECT * FROM post";
    $result = mysql_query($select) or die("couldn't select table");

    while ($rows = mysql_fetch_array($result))
    {
        echo"<input type='button' class=term onclick='return terms()' value=Terms >";

        echo"<input type='hidden' value='$rows[terms]' id='term' name='term'>";
    }
?>  

<script language="JavaScript">
    function terms() 
    {
        var readers = document.getElementById("term"); 
        alert(readers.value);
    }
</script> 
```

它工作，警报消息显示。但是我在为特定的行获取显示正确的消息时遇到了问题。所有人都收到了相同的消息（来自第一行的消息）。

我尝试使用 getElementByName 但警报没有弹出，所以我不必尝试输入 name="term[]" --------（进入其数组形式）

请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:21:32.917

将 while 循环内的第二个 echo 语句更改为：

```
echo"<input type='hidden' value='". $rows['terms'] ."' id='term' name='term'>"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T09:25:21.700

我想如果你改变这行脚本就会找到

```
 echo"<input type='button' class=term onclick='terms()' value=Terms >"; 
```

onclick='terms()' 在这里，而不是 onclick='return terms()'

编辑：

```
<?php   echo"<input type='button' class=term onclick='terms(this)' data-result ='". $rows['terms'] ."' value=Terms >"; ?>
      /* Remove the hidden field */
<script language="JavaScript">
    function terms(e) 
    {
        var readers = e.getAttribute('data-result'); 
        alert(readers);
    }
</script> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T09:27:06.213

我通常会做以下事情：

```
<?php
  function alert($text){
    echo '<script type="text/javascript">alert("'.$text.'")</script>';
  }

  alert("test");
?> 
```

希望有帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T09:21:26.467

在While-loop 的每次迭代之后，您将覆盖HTML 代码中的值或“术语”。这样它只会得到最后一个值

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-21T09:22:18.197

您的所有`input`元素都具有相同的`id`. 如果你想区分它们，给它们不同的标识符。并将标识符传递给`terms`函数。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-21T10:25:10.430

您必须为每个元素提供不同的 id。我认为简单的方法是对 id 使用自动增量。

# css - css - 为什么我的文本框没有出现？

> ID：11590967
> 
> 赞同：0
> 
> 时间：2012-07-21T09:18:00.647
> 
> 标签：css, html, alignment

在[我的网站](http://goo.gl/ygSXK)“新闻和媒体”部分，我希望在视频旁边（右侧）出现一个白色方块（在右侧），其中包含“你好”这个词。不幸的是，这不起作用。我看到你好这个词，但不是在一个白色的方块中。知道问题是什么以及如何解决吗？非常感谢，

这是我的html：

```
<div class="section" id="medias">
<div class="center">
     <iframe width="350" height="200" class="youtube-player" src="http://www.youtube.com/embed/qqXi8WmQ_WM" frameborder="0" allowfullscreen></iframe>
<div id="medias-txt"
        <p>hello</p></div>
 </div>
</div><!--END page4--> 
```

这是我的CSS：

```
#medias-txt
{
    background-color:#fff;
    color:#000;
    width:100px;
    height:100px;
    padding:10px;
    float:right;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:20:16.500

你没有关闭你的 div 标签

```
<div class="section" id="medias">
<div class="center">
     <iframe width="350" height="200" class="youtube-player" src="http://www.youtube.com/embed/qqXi8WmQ_WM" frameborder="0" allowfullscreen></iframe>
<div id="medias-txt">
        <p>hello</p></div>
 </div>
</div><!--END page4--> 
```

这应该可以解决问题。

PS喜欢那个页面上的视频:)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2015-07-28T15:15:54.043

在您的 CSS 中，您需要在冒号和内容之间添加空格。例如：

```
#medias-txt
{
background-color: #fff;
color: #000;
width: 100px;
height: 100px;
padding: 10px;
float: right;
} 
```

# c# - 如何枚举枚举中的所有内容？

> ID：11590968
> 
> 赞同：0
> 
> 时间：2012-07-21T09:18:01.383
> 
> 标签：c#, enums

> **可能重复：**
> [如何枚举枚举？](https://stackoverflow.com/questions/105372/how-do-i-enumerate-an-enum)

假设有一个枚举

```
public enum Numbers {one, two, three }; 
```

为了获得输出“一”、“二”、“三”，我必须写什么而不是下面代码中的三个点：

```
foreach (Numbers n in ...) {
   Console.WriteLine (n.ToString ());
} 
```

当然，我希望修改枚举定义不需要修改 foreach () 中的代码。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T09:19:53.220

你可以使用：

```
foreach (Numbers n in Enum.GetValues(typeof(Numbers))) 
{
    Console.WriteLine(n.ToString());
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T09:20:56.217

如果您只需要获取名称，则可以使用：

```
foreach (string name in Enum.GetNames(typeof(Numbers)))
{
    Console.WriteLine(name);
} 
```

当然，如果您想实际使用 Enum 值，其他人已经指出。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T09:20:43.700

用这个：`Enum.GetValues(type)`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T09:25:36.780

考虑以下：

```
 foreach (var n in Enum.GetValues(typeof(Numbers)))
        {
            Console.WriteLine(n.ToString());
        } 
```

# objective-c - 如何按字母顺序对 NSArray 进行排序，首先是数字

> ID：11590971
> 
> 赞同：-2
> 
> 时间：2012-07-21T09:18:16.033
> 
> 标签：objective-c, ios

我有一个小小的疑问，我有一个包含以下 4 个对象的 NSArray：

```
Genesis, 1 Kings, leviticus, 2 Kings 
```

我想按字典顺序对这个数组进行排序，就像我想要这样的预期输出

```
1 Kings, 2 Kings, Genesis, leviticus 
```

如何做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T09:30:48.237

转到此链接：

[http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Collections/Articles/Arrays.html#//apple_ref/doc/uid/20000132-SW5](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Collections/Articles/Arrays.html#//apple_ref/doc/uid/20000132-SW5)

这是苹果文档，你的问题在那里解决了。

查看示例。

```
//First create the array of dictionaries
NSString *last = @"lastName";
NSString *first = @"firstName";

NSMutableArray *array = [NSMutableArray array];
NSArray *sortedArray;

NSDictionary *dict;
dict = [NSDictionary dictionaryWithObjectsAndKeys:
                 @"Jo", first, @"Smith", last, nil];
[array addObject:dict];

dict = [NSDictionary dictionaryWithObjectsAndKeys:
                 @"Joe", first, @"Smith", last, nil];
[array addObject:dict];

dict = [NSDictionary dictionaryWithObjectsAndKeys:
                 @"Joe", first, @"Smythe", last, nil];
[array addObject:dict];

dict = [NSDictionary dictionaryWithObjectsAndKeys:
                 @"Joanne", first, @"Smith", last, nil];
[array addObject:dict];

dict = [NSDictionary dictionaryWithObjectsAndKeys:
                 @"Robert", first, @"Jones", last, nil];
[array addObject:dict];

//Next we sort the contents of the array by last name then first name

// The results are likely to be shown to a user
// Note the use of the localizedCaseInsensitiveCompare: selector
NSSortDescriptor *lastDescriptor =[[NSSortDescriptor alloc] initWithKey:last
                           ascending:YES
                           selector:@selector(localizedCaseInsensitiveCompare:)];
NSSortDescriptor *firstDescriptor =
[[NSSortDescriptor alloc] initWithKey:first
                           ascending:YES
                           selector:@selector(localizedCaseInsensitiveCompare:)];

NSArray *descriptors = [NSArray arrayWithObjects:lastDescriptor, firstDescriptor, nil];
sortedArray = [array sortedArrayUsingDescriptors:descriptors]; 
```

此代码是苹果文档中的一个示例。

我希望它会帮助你。

谢谢，

鹤芒。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-21T09:39:12.420

`NSString`您可以像这样按字母顺序对数组进行排序：

```
NSArray *sortedArray = [myArray sortedArrayUsingSelector:@selector(caseInsensitiveCompare:)]; 
```

# php - 通过soap客户端发布请求时出错

> ID：11590974
> 
> 赞同：-1
> 
> 时间：2012-07-21T09:18:43.077
> 
> 标签：php

我已经在我的 php 网站中实现了 arzoo Flight API。我已经使用肥皂客户端发送请求。浏览时出现以下错误

```
HERE IS A FAULT : SoapFault exception: [HTTP] Error Fetching http headers in /home/wwwkomet/public_html/demo1/dom_avail.php:71 Stack trace: #0 [internal function]: SoapClient->__doRequest('__call('getAvailability', Array) #2 {main} 
```

这是我的代码

```
$location_URL = "http://59.162.33.102/ArzooWS/services/DOMFlightAvailability";
$action_URL ="http://com.arzoo.flight.avail";

$client = new SoapClient('http://59.162.33.102/ArzooWS/services/DOMFlightAvailability?wsdl', array(
'soap_version' => SOAP_1_1,
'location' => $location_URL,
'uri'      => $action_URL,
'style'    => SOAP_RPC,
'use'      => SOAP_ENCODED,
'trace'    => 1,
));

try
{
    $result = $client->__call('getAvailability',array($req_int));
    $response= htmlentities($result);
} 
```

这是什么原因？如何克服这个错误？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-11T15:57:53.647

我只是在使用相同的 Arzoo Flight 搜索 API，您的代码对我有用，我刚刚添加`catch`到上面的代码中：

```
catch(Exception $e){
    echo "<h2>Exception Error!</h2>";
    echo $e->getMessage();
} 
```

对于要打印的响应，您只需使用：

> var_dump($response);

# objective-c - 需要有关使用 xep-0184 的帮助

> ID：11590975
> 
> 赞同：3
> 
> 时间：2012-07-21T09:19:18.170
> 
> 标签：objective-c, ios, xmpp, xmppframework

我正在为我当前的项目使用[robbiehanson/XMPPFramework](https://github.com/robbiehanson/XMPPFramework/)，我可以向我的花名册中的人发送和接收消息，但现在我必须实现消息传递状态。我知道 xep 它的 0184 并且我也包含在我的项目中，我很难使用它。

我在[xep-0184 文档](http://xmpp.org/extensions/xep-0184.html)中读到请求元素也必须包含在消息中，所以这是我的代码：

```
#import "XMPPMessage+XEP_0184.h"
.
.
.
NSXMLElement *body = [NSXMLElement elementWithName:@"body"];

[body setStringValue:messageStr];

NSXMLElement *request = [NSXMLElement elementWithName:@"request" xmlns:@"urn:xmpp:receipts"];

NSXMLElement *message = [NSXMLElement elementWithName:@"message"];

[message addAttributeWithName:@"type" stringValue:@"chat"];

[message addAttributeWithName:@"to" stringValue:[defaults objectForKey:@"chatWith"]]; 
[message addChild:body];
[message addChild:request];
.
.
.
XMPPMessage *xm = [[XMPPMessage alloc]init];
NSLog(@"..1..%d",[xm hasReceiptRequest]);        // Result = 0
NSLog(@"..2..%d",[xm hasReceiptResponse]);       // Result = 0
NSLog(@"..3..%@",[xm extractReceiptResponseID]); // Result = (null)
NSLog(@"..4..%@",[xm generateReceiptResponse]);  // Result = <message><received xmlns="urn:xmpp:receipts"></received></message> 
```

请帮助我如何获得消息传递状态。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-08T19:47:26.387

I think you forgot to add the module itself. When you want to add an XMPPModule like XMPPMessageDeliveryReceipts you should add it to the XMPPStream object first, then you can use its functions.

Do the following:

```
// Setup Message Delivery Recipts Object
XMPPMessageDeliveryReceipts* xmppMessageDeliveryRecipts = [[XMPPMessageDeliveryReceipts alloc] initWithDispatchQueue:dispatch_get_main_queue()];
xmppMessageDeliveryRecipts.autoSendMessageDeliveryReceipts = YES;
xmppMessageDeliveryRecipts.autoSendMessageDeliveryRequests = YES;

[xmppMessageDeliveryRecipts activate:xmppStream]; 
```

When xmppStream is your main XMPPFramework object.

Hope i helped.

# c++ - opencv检测圆圈后如何执行一些shell脚本

> ID：11590988
> 
> 赞同：1
> 
> 时间：2012-07-21T09:20:51.413
> 
> 标签：c++, shell, ubuntu, opencv, codeblocks

opencv检测圈后如何执行一些shell脚本（例如1.sh）？

我使用了 exec，它可以工作，但是在检测到圆圈后 opencv 程序关闭，我想要的是程序在我按下“q”键之前没有关闭。

这是我的代码：

```
#include<cv.h>
#include<highgui.h>
#include <math.h>
#include <stdlib.h>
#include <unistd.h>

using namespace std;

int main( int argc, char **argv )
{
    CvCapture *capture = 0;
    IplImage  *img = 0;
    int       key = 0;
    CvFont font;

    cvInitFont(&font, CV_FONT_HERSHEY_PLAIN,1.0,1.0,0,1,CV_AA);
    capture = cvCaptureFromCAM( 0 );

    if ( !capture ) {
        fprintf( stderr, "Cannot open initialize webcam!\n" );
        return 1;
    }

    cvNamedWindow( "result", CV_WINDOW_AUTOSIZE );

    img = cvQueryFrame( capture );
    if (!img)
        exit(1);

    IplImage* gray = cvCreateImage( cvGetSize(img), 8, 1 );
    CvMemStorage* storage = cvCreateMemStorage(0);

    while( key != 'q' ) {
        img = cvQueryFrame( capture );
        if( !img ) break;

        cvCvtColor( img, gray, CV_BGR2GRAY );
        cvSmooth( gray, gray, CV_GAUSSIAN, 5, 5 );
        CvSeq* circles = cvHoughCircles( gray, storage, CV_HOUGH_GRADIENT, 2, >gray->height/40, 200, 100/*, 20, 100*/ );
        int i;
        for( i = 0; i < circles->total; i++ )
        {
            float* p = (float*)cvGetSeqElem( circles, i );

            cvCircle( img, cvPoint(cvRound(p[0]),cvRound(p[1])), cvRound(p[2]), >CV_RGB(50,255,30), 5, 8, 0 );
            cvPutText(img, "CIRCLE",cvPoint(cvRound(p[0]+45),cvRound(p[1]+45)), &font, >CV_RGB(50,10,255));

            if ( circles ) {
                execl("./1.sh", (char *)0);
            }

        }

        cvShowImage( "result", img );
        cvShowImage("gray", gray);
        key = cvWaitKey( 1 );

    }

    //    cvReleaseMemStorage(storage);
    //    cvReleaseImage(gray);
    cvDestroyAllWindows();
    cvDestroyWindow( "result" );
    cvReleaseCapture( &capture );

    return 0;
} 
```

我在 ubuntu 上使用了代码块。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:18:55.180

在 exec* 之后，将不会到达任何代码（在该进程中）。如果您希望程序在不等待脚本完成的情况下继续执行，则可以 fork，exec，否则添加等待。或者，您可以使用 system 或 popen。

例子：

派生命令并等待的示例函数：

```
#include <unistd.h>
/*as a macro*/
#define FORK_EXEC_WAIT(a) ({int s,p;if((p=fork())==0) \
{execvp(a[0],a);}else{while(wait(&s)!= p);}})
/*as a function*/
void fork_exec_wait(char** a) {
    int s,p;
    if((p=fork())==0){
        execvp(a[0],a);
    }else{
        while(wait(&s)!= p);
    }
} 
```

派生命令并继续

```
#include <unistd.h>
/*as a macro*/
#define FORK_EXEC(a)    ({if((fork())==0) execvp(a[0],a);})
/*as a function*/
void fork_exec(char** a) {
    int s,p;
    if((p=fork())==0)
        execvp(a[0],a);
} 
```

系统命令是 ~ fork-exec-wait of "sh -c command args"

```
#include <stdlib.h>
system("command args"); 
```

popen 命令在没有 sh -c 的情况下是相似的，并且会以流的形式为您提供输出（想想管道、fifo 等）

```
#include <stdio.h>
FILE *fp;
fp = popen("command args", "r");
...
pclose(fp); 
```

# objective-c - 查看方法调用的返回值

> ID：11590992
> 
> 赞同：3
> 
> 时间：2012-07-21T09:21:47.013
> 
> 标签：objective-c, ios, xcode, debugging

如何`[fetchedResultsController sectionIndexTitles]`在不更改代码的情况下查看调试器中的值？

```
 return [fetchedResultsController sectionIndexTitles]; 
```

目前，我习惯于添加一个临时变量`s`，然后使用“打印's'的描述”命令。但是这种方法需要我改代码，不方便。

```
NSArray *s= [fetchedResultsController sectionIndexTitles];
return s; 
```

类似地，能够`[a method1]`在以下语句中看到 的值将非常有帮助：

```
[b [a method1]] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T10:13:21.237

一定要使用断点...在您的`return`行中添加断点，右键单击断点，编辑断点，现在您有两个选项...

添加动作调试器命令...

```
expr (void)NSLog( @"%@", [fetchedResultsController sectionIndexTitles] ); 
```

...或以类似方式记录消息操作并打开评估后自动继续。

它能做什么？

每次使用断点命中行时，您的应用程序都会暂停，处理断点操作，并且当您打开评估后自动继续时，您的程序会在处理这些断点操作时继续。这是如何在不修改代码的情况下记录、检查……的方式。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-21T11:11:36.507

我找到了诀窍：

命中断点后，只需在 LLDB 中键入以下命令即可：

```
po [self.fetchedResultsController sectionIndexTitles] 
```

Where`po`是`expression -o --`用于打印表达式产生的值的对象描述的缩写。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-08-01T13:53:17.850

返回值在 Xcode 调试器中可见，在从函数调用返回后立即（即在点击“step out”按钮后立即）。例如，请参见下面的屏幕截图：

[![在此处输入图像描述](../Images/88f56025b99df182809b54d1a12a9871.png)](https://i.stack.imgur.com/1rVus.png)

# python - 如何创建一个新的模型实体，然后立即阅读它？

> ID：11590993
> 
> 赞同：5
> 
> 时间：2012-07-21T09:21:47.440
> 
> 标签：python, google-app-engine, app-engine-ndb

我的问题是，创建新模型实体的最佳方法是什么，然后立即阅读。例如，

```
class LeftModel(ndb.Model):
    name = ndb.StringProperty(default = "John")
    date = ndb.DateTimeProperty(auto_now_add=True)

class RightModel(ndb.Model):
    left_model = ndb.KeyProperty(kind=LeftModel)
    interesting_fact = ndb.StringProperty(default = "Nothing")

def do_this(self):
    # Create a new model entity
    new_left = LeftModel()
    new_left.name = "George"
    new_left.put()

    # Retrieve the entity just created
    current_left = LeftModel.query().filter(LeftModel.name == "George").get()

    # Create a new entity which references the entity just created and retrieved
    new_right = RightModel()
    new_right.left_model = current_left.key
    new_right.interesting_fact = "Something"
    new_right.put() 
```

这通常会引发异常，例如：

```
AttributeError: 'NoneType' object has no attribute 'key' 
```

即新LeftModel 实体的检索不成功。我在 appengine 中遇到过几次这个问题，而我的解决方案总是有点 hacky。通常我只是把所有东西都放在一个 try except 或一个 while 循环中，直到成功检索到实体。如何确保始终检索模型实体而不冒无限循环的风险（在 while 循环的情况下）或弄乱我的代码（在 try except 语句的情况下）？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-21T11:56:08.497

为什么在执行`put()`.

您应该使用`new_left`刚刚创建的并立即将其分配给 new_right ，如`new_right.left_model = current_left.key`

您无法立即查询的原因是因为 HRD 使用最终一致性模型，这意味着您的 put 结果最终将是可见的。如果你想要一个一致的结果，那么你必须执行祖先查询，这意味着在创建键中有一个祖先。鉴于您正在创建一棵树，这可能不切实际。阅读有关为强一致性构建数据的信息[https://developers.google.com/appengine/docs/python/datastore/structuring_for_strong_consistency](https://developers.google.com/appengine/docs/python/datastore/structuring_for_strong_consistency)

我看不出您为什么不使用刚刚创建的实体而不使用其他查询的任何原因。