# StackOverflow 问答 11535000-11535999

# android - 在动画开始之前需要清除图像按钮

> ID：11535003
> 
> 赞同：0
> 
> 时间：2012-07-18T05:50:20.767
> 
> 标签：android, animation, scale

所以我开始我的活动，然后

```
setContentView(R.layout.myxmllayoutfile); 
```

一切都很好，但我想让我的 imagebutton 从无到有（即 1%）突然增长（缩放）。然而，布局已经显示了按钮，所以它突然消失然后又长回来了，而不是从无到有。

我有一些替代方案，但有真正的解决方案吗？： 1\. 从屏幕外飞入 imagebutton 动画？; 或者 2\. 在 xml 中使它变小然后增长它，然后如果需要更改可点击区域？或 3\. 有更好的解决方案吗？

更新：正如我所建议的那样：

```
<ImageButton
android:id="@+id/spinner"
android:scaleType="fitXY"
android:layout_width="120dp"
android:layout_height="120dp"
android:layout_alignParentBottom="true"
android:layout_centerHorizontal="true"
android:background="@drawable/clear"
android:orientation="horizontal"
android:visibility="invisible"
android:src="@drawable/spin" 
/> 
```

在我的java中：

```
scaleView.startAnimation(scanimation);
ImageButton spinnerbutton=(ImageButton)findViewById(R.id.spinner);
spinnerbutton.setVisibility(View.VISIBLE); 
```

但它在缩小到 1% 然后增长之前仍然可见！欢迎提出建议。

更新2：

编辑下面的代码没有任何改变：

```
public void growit() {
final ImageView scaleView = (ImageView) findViewById(R.id.spinner);
Animation scanimation = AnimationUtils.loadAnimation(this, R.anim.throbbing2);
scanimation.setFillAfter(true);
scanimation.setAnimationListener(new Animation.AnimationListener() {
public void onAnimationStart(Animation a) { Log.e("growit", "---- animation start listener called");
scaleView.setVisibility(View.VISIBLE);
}
public void onAnimationRepeat(Animation a) {
}
public void onAnimationEnd(Animation a) {
}
});
scaleView.startAnimation(scanimation);

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T05:53:11.920

**使图像按钮隐藏。** 然后在您的动画集动画侦听器和启动动画回调方法中设置按钮可见

更新：

```
 Animation animation = new ScaleAnimation(0.0f, 1.0f, 0.0f, 1.0f); 
        animation.setAnimationListener(new AnimationListener() {
            @Override
            public void onAnimationStart(Animation animation) {
                mImageButton.setVisibility(View.VISIBLE);
            }
            @Override
            public void onAnimationRepeat(Animation animation) { }
            @Override
            public void onAnimationEnd(Animation animation) { }
        });
        mImageButton.startAnimation(animation); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T14:43:52.120

没有永久的解决方案。只是使用了一种解决方法，使其在 xml 中变得很小，然后按照问题中的建议将其增长为可能的“解决方案”/解决方法，但并不理想。

# javascript - 粘性页脚 chrome 不适用于动态内容

> ID：11535006
> 
> 赞同：1
> 
> 时间：2012-07-18T05:50:29.590
> 
> 标签：javascript, html, css, google-chrome, compass-sass

我最近注意到，在某些版本的 Google Chrome 中，当内容由脚本生成时，指南针使用的经典的纯 CSS 粘页脚解决方案不起作用。页脚只是覆盖内容而不是向下移动。当您调整窗口大小时，布局将更改为正确的布局。指南针中的 css/html 基于[http://ryanfait.com/resources/footer-stick-to-bottom-of-page/上提供的解决方案](http://ryanfait.com/resources/footer-stick-to-bottom-of-page/)

```
html, body {
  height: 100%;
}
.wrapper {
  min-height: 100%;
  height: auto !important;
  height: 100%; 
  margin: 0 auto -4em;
}
.footer, .push {
 height: 4em;
} 
```

使用以下html：

任何想法如何解决这一问题？

```
<html>
    <head>
        <link rel="stylesheet" href="layout.css" ... />
    </head>
    <body>
        <div class="wrapper">
            <p>Your website content here.</p>
            <div class="push"></div>
        </div>
       <div class="footer">
            <p>Copyright (c) 2008</p>
       </div>
   </body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:10:09.387

我认为你应该添加`clear:both`

```
.footer, .push  
  {
 clear:both; 
 height: 4em;
  } 
```

或试试这个链接

[http://css-tricks.com/snippets/css/sticky-footer/](http://css-tricks.com/snippets/css/sticky-footer/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-11T21:37:21.757

我也有这个问题。动态表正在重叠，但我的其他页面都没有。这个解决方案对我有用。

```
.wrapper {
  min-height: 100%;
  height: auto !important;
  height: 100%; 
  margin: 0 auto;      /*!! margin: 0 auto -4em; !!*/
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:21:20.373

```
html,body {
    margin:0;
    padding:0;
    height:100%;
}
p {
    margin-top:0;
}
.push{
    height:4em;
}
.wrapper {
    position:relative;
    z-index:1;
    margin:0 auto;
    min-height: 100%;
    height: auto;
}
.footer{
    position:relative;
    z-index:2;
    height: 4em;
    margin-top:-4em; /*!!!*/
} 
```

# iphone - 是否可以在 iphone 中设置两种颜色 inUILabel？

> ID：11535010
> 
> 赞同：3
> 
> 时间：2012-07-18T05:51:04.740
> 
> 标签：iphone, ios, nsstring, uilabel, uicolor

目前我正在使用简单的 iPhone 应用程序，使用 UILabel 显示名称，如 Delivered minu，我想显示两种颜色，如（Deliverd）为黑色和（minu）为蓝色，这可能吗？请帮我。

提前感谢

我试过这个，但我无法解决这个问题：

```
 deliveredLabel.text = [NSString stringWithFormat:@"Delivered"]; 
     deliveredLabel.textColor = [UIColor blackColor];
     nameLabel.text = [NSString stringWithFormat:@"Minu"];
     nameLabel.text.textColor = [UIColor blueColor];
     label.text = [NSString stringWithFormat:@"%@ %@",deliveredLabel.text,name.text]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T07:38:32.247

创建一个 UIView 并在其中添加 2 个标签，其中包含已交付文本和另一个带有 Minu 的标签，并相应地设置颜色。

```
deliveredLabel.text = [NSString stringWithFormat:@"Delivered"]; 
    deliveredLabel.textColor = [UIColor blackColor];
    deliveredLabel.textAlignment = UITextAlignmentRight;
    nameLabel.text = [NSString stringWithFormat:@"Minu"];
    nameLabel.textColor = [UIColor blueColor];
    nameLabel.textAlignment = UITextAlignmentLeft; 
```

# android - 在移动到另一个活动之前需要 editText 字段

> ID：11535011
> 
> 赞同：31
> 
> 时间：2012-07-18T05:51:20.587
> 
> 标签：android, validation, android-edittext, onclicklistener

我对`editText`. 如果该`editText`字段为空，则它应该无法通过验证并停止用户移动到另一个`Activity`，因为需要一个值。怎么做？我知道这是一个基本问题，但我不知道该怎么做。

我的代码：

```
btninsert = (Button)findViewById(R.id.btn_insert);
btninsert.setOnClickListener( new View.OnClickListener() {
    public void onClick(View v) {
        insertValues();
        EditText userName = (EditText) findViewById(R.id.editText1);

        if( userName.getText().toString().length() == 0 )
            userName.setError( "First name is required!" );

        Intent i = new Intent(getApplicationContext(), Login.class);
        startActivity(i);
    }
}); 
```

单击此`Button` 按钮时，用户将重定向到下一个屏幕，但我需要如果验证失败，它们会停留在 current 上`Activity`，并且只有在验证成功时（即已输入值），它们才会转到下一个`Activity`。

* * *

## 回答 #1

> 赞同：79
> 
> 时间：2012-07-18T05:56:01.063

这很容易...检查您的 EditText 是否为空，如下例所示。

```
if( TextUtils.isEmpty(userName.getText())){
   /**
    *   You can Toast a message here that the Username is Empty    
    **/

   userName.setError( "First name is required!" );

}else{
   Intent i = new Intent(getApplicationContext(), Login.class);
   startActivity(i);
} 
```

这是一个 Kotlin 版本：

```
userName.takeIf { it.isEmpty() }?.let {
  userName.error = "First name is required!"
} ?: run {
   startActivity(Intent(applicationContext, this))
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-18T06:22:17.050

试试这个：

```
bt.setOnClickListener(new OnClickListener() {
    public void onClick(View arg0)
    {
        String  str=et.getText().toString();

        if(str.equalsIgnoreCase(""))
        {
            et.setHint("please enter username");//it gives user to hint
            et.setError("please enter username");//it gives user to info message //use any one //
        }
        else
        {
            Intent in=new Intent(getApplicationContext(),second.class);
            startActivity(in);
        }
    }
}); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-06-02T13:54:39.787

你也可以试试这个：

```
 if ( ( userName.getText().toString().trim().equals("")) ) 
 {
      Toast.makeText(getApplicationContext(), "User name is empty", Toast.LENGTH_SHORT).show();
 }
 else
 {
      Intent i = new Intent(getApplicationContext(), Login.class);
      startActivity(i);
 } 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-10-04T17:40:17.580

我遇到了类似的问题。就我而言，我有很多 Edittexts 需要验证，其中一些是另一个布局的子级。提示：所有视图必须在同一个根视图中。所以，简单来说：

```
...
LinearLayout viewGroup = (LinearLayout) findViewById(R.id.viewGroup);
checkFieldsRequired(viewGroup);
...

public boolean checkFieldsRequired(ViewGroup viewGroup){

    int count = viewGroup.getChildCount();
    for (int i = 0; i < count; i++) {
        View view = viewGroup.getChildAt(i);
        if (view instanceof ViewGroup)
            checkFieldsRequired((ViewGroup) view);
        else if (view instanceof EditText) {
            EditText edittext = (EditText) view;
            if (edittext.getText().toString().trim().equals("")) {                  
                edittext.setError("Required!");                 
            }
        }
    }

    return false;
} 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2017-11-08T06:29:59.463

我知道这是一个老问题，但这可能会有所帮助，您可以使用 .isEmpty() 而不是 .equals()

```
if( userName.getText().toString().isEmpty()){

   /**
    *   You can Toast a message here that the Username is Empty    
    **/

   userName.setError( "First name is required!" );

}else{
   Intent i = new Intent(getApplicationContext(), Login.class);
   startActivity(i);
} 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-08-17T08:05:04.980

最好使用 If 条件来测试所有必需或特殊验证情况的空文本字段，并使用 setError 来聚焦。

```
If(txtName.getText().toString().trim().equals(""))
{
//Your message or any other validation
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-05-27T21:57:06.820

我知道这是一篇旧文章，但我的应用程序中需要类似的功能，所以我决定开发一个简单但功能强大的验证器，以便于重用。

[github repo](https://github.com/okdee/android-ui-validator) 的链接它非常易于使用。

1.  创建您想要强制的字段列表
2.  调用`validateViewFields`方法并传递视图列表

活动的代码示例：

```
 public class AddContractActivity extends AppCompatActivity {

    TextView contractDescriptionTextView;
    TextView totalAmountTextView;

    List<View> fieldsToBeValidated;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_add_contract);

        contractDescriptionTextView = findViewById(R.id.contractDescriptionEditText);
        totalAmountTextView = findViewById(R.id.totalAmountText);

        fieldsToBeValidated = new ArrayList<>(Arrays.asList(
                contractDescriptionTextView,
                totalAmountTextView));

        saveButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                if (!UIValidator.validateViewFields(fieldsToBeValidated, true)) {
                    Toast.makeText(AddContractActivity.this, "Missing Fields", Toast.LENGTH_SHORT).show();
                    mainScrollView.post(new Runnable() {
                        @Override
                        public void run() {
                            mainScrollView.smoothScrollTo(0, 0);
                        }
                    });
                    return;
                }
            }
        });
    }
} 
```

# c# - C#，属性“文本”的代码生成失败。错误是：找不到文件“...path...image.jpg”

> ID：11535013
> 
> 赞同：0
> 
> 时间：2012-07-18T05:51:26.063
> 
> 标签：c#, winforms

我的表单项目中有几个`.jpg`图像，我将它们作为背景颜色导入到我的表单中，但现在我将它们从我的项目中排除，我没有删除它们，它们仍在资源文件中。

尽管我一遍又一遍地遇到这个烦人的错误..我该如何解决这个问题？

# lua - Corona sdk：读取文件

> ID：11535014
> 
> 赞同：0
> 
> 时间：2012-07-18T05:51:28.920
> 
> 标签：lua, coronasdk

我最近开始研究 corona sdk 并试图读取文件并逐行打印。我到处搜索代码，但没有用……这很重要，因为我正在实习，需要尽快完成。

这是我使用的代码：

```
local path = system.pathForFile( "Level File Structure.txt", system. ResourceDirectory  )
local file = io.open( path, "r" )

for line in file:lines() do
  print( line )
end
io.close( file ) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-19T17:47:00.787

如果文件存在并且路径正确，这应该可以工作；

```
local path = "Level File Structure.txt", system.ResourceDirectory

local function printWords()
    local file = io.open(path, "r")
    for lines in file:lines() do
        print (lines)
    end
    io.close(file)
end
printWords() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-28T07:19:24.550

可能这段代码会帮助你.....试试这个

```
 display.setStatusBar( display.HiddenStatusBar )
-- read the file path
local filePath = system.pathForFile( "myFile.txt", system.ResourceDirectory )

local file = io.open( filePath, "r" )
if file then
 -- read all contents of file into a string
local contents = file:read( "*a" )

print( "The file path is" .. filePath )
print( contents )

io.close( file )

end 
```

有关更多说明，请参见此处

[http://eazyprogramming.blogspot.in/2013/10/read-text-file-in-corona.html](http://eazyprogramming.blogspot.in/2013/10/read-text-file-in-corona.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T13:44:10.833

您可能希望查看[此博客](http://www.coronalabs.com/blog/2012/02/14/reading-and-writing-files-in-corona/)，该博客描述了如何读取和写入文件。

# asp.net-mvc - 用名字显示性别而不是显示真假。

> ID：11535016
> 
> 赞同：0
> 
> 时间：2012-07-18T05:51:31.977
> 
> 标签：asp.net-mvc, model-view-controller

我有 2 张桌子候选人和工作。候选表有性别字段。工作表有男性和女性。如果单击工作或候选人，它将转到详细信息页面。在此页面中，我的性别为 0 或 1。它没有显示男性或女性的名字。因为在表中我只存储了 0 或 1 之类的值。但我需要 UI 页面必须显示名称。我需要帮助。

我的代码在详细信息页面中，

```
<p>
      <strong>Gender :</strong>
      <%: Html.Encode(Model.Gender) %>
</p> 
```

我有个主意。给if条件这个如何编码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:36:04.963

Model.Gender 是整数，值为 1 或 0，不是吗？

您可以执行以下操作：

```
<p>
  <strong>Gender :</strong>
  <%: Html.Encode(Model.Gender==1?"male":"female") %>
</p> 
```

当然，最好将 viewModel 对象（带有字符串属性 ("male"|"female")）传递给您的 View。

# java - 传递一个字符串数组作为参数

> ID：11535017
> 
> 赞同：14
> 
> 时间：2012-07-18T05:51:36.343
> 
> 标签：java, arrays, string

可以通过以下方式声明和初始化 String 数组：

```
String[] str = {"A", "B"}; 
```

但是对于接受字符串数组作为参数的方法，为什么不能在那里使用相同的方法？

例如：如果在下面的代码中，我将对 show() 的调用替换`show(str);`为`show({"A" "B"});`，它会显示编译器错误。为什么？

```
public class StringArray {

    /**
     * @param args
     */
    public static void main(String[] args) {
        // TODO Auto-generated method stub
        String[] str = {"A", "B"};
        show(str);
    }
    static void show(String[] s) {
        System.out.println(s[0] + s[1]);
    }
} 
```

显示的编译器错误是：

```
StringArray.java:9: illegal start of expression
                show({"A", "B"});
                     ^
StringArray.java:9: ';' expected
                show({"A", "B"});
                      ^
StringArray.java:9: illegal start of expression
                show({"A", "B"});
                         ^
StringArray.java:9: ';' expected
                show({"A", "B"});
                          ^
StringArray.java:9: illegal start of type
                show({"A", "B"});
                               ^
StringArray.java:11: class, interface, or enum expected
        static void show(String[] s) {
               ^
StringArray.java:13: class, interface, or enum expected
        }
        ^
7 errors 
```

也`show(new String[] {"A", "B"});`允许使用。与将它们作为方法参数传递时有何不同`new String[]{"A", "B"}`？`{"A", "B"}`提前谢谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-18T05:56:14.083

语法`{"A", "B"}`（`new String[]`前面没有）只能用作数组初始化表达式。在所有其他上下文中（包括方法调用），您需要使用`new`运算符。

有关更多信息，请参阅[Java 数组教程。](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-18T05:57:00.687

`String[] str = {"A", "B"};`是 的缩小版本`String[] str = new String[]{"A", "B"};`，除非您明确提及，否则编译器不知道 plain`{"A", "B"}`作为字符串数组。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-03-24T14:12:30.617

## 简答

它与内存管理有关。

* * *

## 长答案

**背景**：

还有[另一个关于将数组作为参数传递](https://stackoverflow.com/questions/42992390/why-cant-one-pass-an-array-literal-in-java)（标记为重复）的问题，它询问相同的行为，但对更深层次的“为什么”感兴趣。

[其他答案](https://stackoverflow.com/a/11536375/135078)已经正确解释了

一种）

```
new String[]{"A", "B"} 
```

和

二）

```
{"A", "B"} 
```

将它们作为方法参数传递时。

A) 在堆上构造一个数组的实例，并且表达式导致对该实例的引用。

B) 是定义数组的语法，但该语法仅在局部数组变量的初始化期间有效。此语法不是一个可以自行评估的表达式，它期望有一个已经实例化但未初始化的数组，然后将此块用作初始化程序。

## 归咎于Java

所有这一切都已经提到过，所以我想回答的是为什么语言设计决策背后会出现这种行为。

Java 的基本原则之一是它管理内存以真正最小化当每个程序员必须了解所有细节和动态内存管理的所有边缘情况时引入的巨大问题。因此，当他们设计语言的类型系统时，他们希望每个变量都是引用类型，但为了提高效率，他们允许一些基本类型可以通过值作为参数传递给方法，结果是一个简单的克隆变量的内容，这些被称为原始类型、int、char 等。所有其他类型都需要对堆的引用，这样可以提高参数传递的效率，这些被称为引用类型。顾名思义，引用类型实际上是对通常在堆上分配的内存的引用，但也可以是堆栈上的内存。

## 数组初始化器

好的，这就是 Java Primer 的内容，但为什么这很重要？这是因为当您尝试将数组作为参数传递但使用文字语法时，该语言需要引用类型，但数组初始值设定项构造不会解析为引用。

现在，下一个问题可能是编译器是否有可能采用初始化语法并将其转换为正确分配的数组实例。那将是一个公平的问题。答案可以追溯到使用初始化子句的语法：

字符串[] str = {"A", "B"}

如果你只有等号右边的表达式，你怎么知道应该构造什么类型的数组？简单的答案是你没有。如果我们采用相同的初始化程序并像这样使用它

```
Circle[] cir = {"A", "B"} 
```

为什么会这样变得更清楚了。首先，您可能会注意到似乎缺少“新”关键字。它并没有丢失，而是被编译器隐式包含在内。这是因为初始化器语法是以下代码的缩写形式

```
Circle[2] cir = new Circle[]();
cir[0] = new Circle("A");
cir[1] = new Circle("B"); 
```

编译器使用数组变量的构造函数根据提供的列表实例化数组的每个元素，所以当你尝试传递

```
{"A", "B"} 
```

编译器没有关于应该构造什么类型的数组的信息，也不知道如何构造数组的各个元素，因此需要使用显式分配内存的形式。

## 对于语言学生

引用的类型和数组每个元素的类型之间的这种分离也是允许数组类型成为元素的父类型的原因，例如

```
Circle[2] shapes = new Circle[]();
shapes[0] = new Circle();  // parent
shapes[1] = new Ellipse(); // child of Circle 
```

和 Java 对父类的使用，`Object`对于所有类都允许具有完全不相关对象的数组

```
Object[2] myThings = new Object[]();
myThings[0] = new Car();  
myThings[1] = new Guitar(); // unrelated object 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-18T06:02:46.703

当您传递 {"A", "B"} 时，没有对象引用它，因为该数组尚未在内存中创建，需要传递该引用。但是我们可以直接[没有引用]将像“A”这样的字符串传递给接受字符串的方法，因为字符串是java的特殊对象，为它维护字符串池。而数组不是这种情况，它就像简单的 java 对象。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-18T05:57:14.143

由于`String[] str = {"A", "B"};`定义它是一个字符串数组，所以`{"A", "B"}`没有地方说这是一个字符串数组，因为对象数组也可以这样定义，因此编译器不知道您指的是什么类型的数组:)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-18T05:59:03.323

如果你这样做，它会起作用

```
public class StringArray 
{

    /**
     * @param args
     */
    public static void main(String[] args) 
    {
        show(new String[]{"A", "B"});
    }
    static void show(String[] s)
    {
        System.out.println(s[0] + s[1]);
    }
} 
```

因为您实际上是在创建一个新的数组“对象”。另一方面，{"A", "B"} 没有任何意义。{"A", "B"} 不是数组对象，所以它不起作用。第一种方法有效，因为您实际上指定传递给函数的是数组对象。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-18T07:30:55.620

显示（{“A”“B”}）；此表达式未传递数组对象。传递数组对象您必须首先声明和初始化数组对象，然后将数组引用传递给方法。

字符串[] str = {"A", "B"}; 显示（str）；

或者

字符串[] str = {"A", "B"}; 显示（新字符串 []{“A”，“B”}）；

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-07-18T12:27:13.353

在上面的例子中，show() 方法的签名告诉编译器在调用时它期望一个 String 引用，因此我们在调用 show() 方法时只能传递一个 String 类型的引用变量。另一方面 {"A","B"} 只是一个表达式而不是一个引用，这就是为什么它会给出一个编译错误，比如“Illegal Start of Expression”。

# ruby - 创建/构建挂钩后的 DRY FactoryGirl

> ID：11535018
> 
> 赞同：7
> 
> 时间：2012-07-18T05:51:50.237
> 
> 标签：ruby, ruby-on-rails-3, factory-bot

我想在我的工厂中干掉创建/构建后的钩子：

```
FactoryGirl.define do

  factory :poll do

    sequence :title do |n|
      "MyPollTitle#{n}"
    end
    sequence :description do |n|
      "MyPollDescription#{n}"
    end
    user

    factory :poll_with_answers do

      ignore do
        answers_count 2
      end

      after(:build) do |poll, evaluator|
        evaluator.answers_count.times do
          poll.answers << build(:answer, poll: poll)
        end
      end

      after(:create) do |poll, evaluator|
        evaluator.answers_count.times do
          poll.answers << create(:answer, poll: poll)
        end
      end
    end
  end
end 
```

我面临的问题是我似乎无法在 FG 中定义方法？想法如何干燥？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-02-25T19:14:30.920

首先，`after(:create)`隐式调用`after(:build)`，至少在最新版本的 FactoryGirl 中：

> after(:build) - 在工厂建成后调用（通过 FactoryGirl.build、FactoryGirl.create）

[https://github.com/thoughtbot/factory_girl/blob/master/GETTING_STARTED.md#callbacks](https://github.com/thoughtbot/factory_girl/blob/master/GETTING_STARTED.md#callbacks)

因此，在您的情况下，以下代码就足够了：

```
after(:build) do |poll, evaluator|
  evaluator.answers_count.times do
    poll.answers << build(:answer, poll: poll)
  end
end 
```

但是，当您使用而不是`after(:build)`时不会触发，这是我遇到此线程时尝试做的事情。要干掉这段代码，事实证明你可以使用该方法为多个方法调用同一个块：`build_stubbed()``build()``callback()`

```
factory :user do
  callback(:after_build, :after_stub) do |user|
    do_something_with(user)
  end
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T08:28:24.280

这可能是一个便宜的技巧，但您可以在第二个工厂中创建一个 lambda：

```
factory :poll_with_answers do
  ignore do
    answers_count 2
  end

  make_answers = lambda do |poll, evaluator, method|
    evaluator.answers_count.times do
      poll.answers << send(method, :answer, poll: poll)
    end
  end

  after(:build) do |poll, evaluator|
    make_answers.call poll, evaluator, :build
  end

  after(:create) do |poll, evaluator|
    make_answers.call poll, evaluator, :create
  end
end 
```

我对这种模式一点也不满意，但至少它是干的。

# ruby-on-rails - Rails 中外键约束和引用的区别

> ID：11535025
> 
> 赞同：8
> 
> 时间：2012-07-18T05:52:37.403
> 
> 标签：ruby-on-rails, ruby-on-rails-3

`t.references`使用和执行命令创建和表`SQL`之间的外键关系有什么区别，如下所示？换句话说，是做同一件事的两种不同方式还是我在这里遗漏了什么？`products``category`

```
class ExampleMigration < ActiveRecord::Migration
  def up
    create_table :products do |t|
      t.references :category
    end
    #add a foreign key
    execute <<-SQL
      ALTER TABLE products
        ADD CONSTRAINT fk_products_categories
        FOREIGN KEY (category_id)
        REFERENCES categories(id)
    SQL
    add_column :users, :home_page_url, :string
    rename_column :users, :email, :email_address
  end

  def down
    rename_column :users, :email_address, :email
    remove_column :users, :home_page_url
    execute <<-SQL
      ALTER TABLE products
        DROP FOREIGN KEY fk_products_categories
    SQL
    drop_table :products
  end
end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T05:58:07.043

他们不是一回事。默认情况下，Rails 不会在数据库中强制使用外键。相反，从命令行创建时的引用也会创建一个常规索引，如下所示：

```
add_index :products, :category_id 
```

**更新：**

Rails 5 现在实际上做了同样的事情。所以，回答最初的问题：如今，两者都是一样的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:12:20.167

我在这个页面中发现了一些有趣的东西。

[http://railsforum.com/viewtopic.php?id=17318](http://railsforum.com/viewtopic.php?id=17318)

来自评论：

> Rails 不使用外键来执行他的后端任务。这是因为一些像 sqlite 这样的数据库不允许在其表上使用外键。所以 Rails 没有提供帮助来构建外键

还有一个 gem [foreigner](https://github.com/matthuhiggins/foreigner)用于向数据库表添加外键。 [是什么在 Ruby on Rails 3 中创建了 FOREIGN KEY 约束？](https://stackoverflow.com/questions/4406075/what-creates-the-foreign-key-constraint-in-ruby-on-rails-3)

# sql-server-2008 - SQL Server 网络特定错误

> ID：11535030
> 
> 赞同：0
> 
> 时间：2012-07-18T05:53:09.793
> 
> 标签：sql-server-2008

好吧，我正在尝试连接到我的服务器计算机的 SQL Server，但我总是遇到与网络相关的错误..

尝试了一切，例如：关闭防火墙，打开端口 1433，关闭防病毒软件，更改 sql server 中的一些安全选项等...

我还可以做些什么？！

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-18T08:57:59.837

尝试这个

1.  开放管理工作室
2.  单击连接 -> 数据库引擎
3.  单击服务器名称下拉菜单，然后单击
4.  在本地服务器选项卡中展开数据库引擎
5.  选择服务器实例，单击确定。
6.  根据您在安装时设置的内容使用 windows 或 sql 身份验证。

# arrays - 如何访问其键以 PHP 中某个唯一字符串开头的数组元素？

> ID：11535031
> 
> 赞同：2
> 
> 时间：2012-07-18T05:53:09.213
> 
> 标签：arrays, key, prefix

从以下数组：

```
area = Array
    (
        sur12 => 2
        abb12 => 5
        sur13 => 6
        abb13 => 4
        sur14 => 8
        abb14 => 4
        sur15 => 2
        abb15 => 5
        abb16 => 8
        abb17 => 5
        abb18 => 4
        abb19 => 2
        abb20 => 6
        abb21 => 9
        abb22 => 5
        abb23 => 9
        abb24 => 8
        sur_count15 => 4
        abb_count24 => 2
    ) 
```

`area['sur_count15']`如果我只知道前缀`sur_count`，或者`area['abb_count24']`我只知道前缀，我该如何访问`abb_count`？

有没有办法在 PHP 中做到这一点，例如在 CSS 中，我可以访问一个`abc_count`以 using开头的 ID `[id*="abc_count"]`？

前缀对于前 3 个字符是唯一的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:23:12.560

我最终在[How to get a subset of $_POST 数组中使用了其他问题的答案，其中的键以前缀开头](https://stackoverflow.com/questions/10583591/how-to-get-a-subset-of-post-array-with-keys-starting-with-a-prefix)。如果我能重组数组就好了，但现在不行。谢谢大家。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:05:35.613

您上述问题的解决方案之一可能如下，但我强烈建议您寻找另一种解决方案，因为这个解决方案可能不是非常优化的解决方案：

```
for(int $i=0;$i<30;$i++)
{
  if(in_array('sur_count' . $i,$area))
  {
    //your code here
  }
  if(in_array('abb_count' . $i,$area))
  {
    //your code here
  }
} 
```

也许这可以帮助你一点......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:20:48.423

`/sur_count[0-9]*/`尝试获取 array_keys，然后使用 regexp或类似方法搜索匹配项。

有关详细信息，请参见此处： [php 函数 array_key_exists 和正则表达式](https://stackoverflow.com/questions/2471120/php-function-array-key-exists-and-regular-expressions)

# drupal - 德鲁巴 | 动态主链接菜单

> ID：11535034
> 
> 赞同：0
> 
> 时间：2012-07-18T05:53:21.113
> 
> 标签：drupal, drupal-6, drupal-navigation

我有一个主链接菜单和子菜单。我通过 drupal 配置创建了它。但不知何故，子菜单需要根据内容动态。我有一组带有标题和路径的菜单和子菜单，这个数组不时是动态的。我想编写一个代码来删除以前可用的子菜单并添加新的子菜单。

所以基本上问题是如何从代码中删除可用的主链接子菜单并添加新的子菜单？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T10:11:45.057

我建议您使用令牌模块，因为它会根据您的内容或节点生成动态链接（菜单）。

[在这里下载](http://drupal.org/project/menu_token)

# joomla - 无法取消发布 joomla 2.5 模块

> ID：11535040
> 
> 赞同：0
> 
> 时间：2012-07-18T05:53:54.790
> 
> 标签：joomla, joomla2.5, joomla-module

我的网站上安装了 joomla 2.5.6 软件包。问题是，在扩展管理器中我不能取消发布任何模块，也不能以其他方式工作。那可能是什么？感谢任何帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T07:59:18.727

要取消发布模块，您需要进入模块管理器，而不是扩展管理器。一旦在“状态”列中的绿色和红色按钮之间切换，或者单击模块并转到“状态”选择框。

扩展管理器用于安装/卸载、更新和发现。

# nginx - 如何配置 nginx 以显示特定位置的错误消息？

> ID：11535042
> 
> 赞同：1
> 
> 时间：2012-07-18T05:54:00.883
> 
> 标签：nginx, custom-error-pages

假设我的 base_url 上有两组操作：

*   base_url/action_a
*   base_url/everything_else

当我的任何操作引发 500 时，我想显示自定义 500.html，但对于 action_a 引发的 500，我想绕过自定义 500.html，但让操作的响应就足够了。

如何配置`action_a`不使用 nginx 配置中的 error_page 指令？

目前，我可以通过一般服务我的自定义 500.html

```
error_page 501 502 503 504 505 /50X.html; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T11:08:48.313

```
location /base_url/action_a {
    error_page 501 502 503 504 505 /some_page.html;
} 
```

*   [http://nginx.org/r/location](http://nginx.org/r/location)
*   [http://nginx.org/r/error_page](http://nginx.org/r/error_page)
*   [http://nginx.org/en/docs/http/request_processing.html](http://nginx.org/en/docs/http/request_processing.html)

# azure - AZURE：ProviderIncompatibleException 未被用户代码处理

> ID：11535043
> 
> 赞同：1
> 
> 时间：2012-07-18T05:54:09.637
> 
> 标签：azure, azure-sql-database, azure-storage

在 localhost 上运行应用程序时出现以下异常： **ProviderIncompatibleException 未被用户代码处理。**

Provider 未返回 ProviderManifestToken 字符串。

***内部异常：*** * *{“与服务器建立连接成功，但在登录前握手期间发生错误。（提供者：SSL Provider，错误：0 - 等待操作超时。）”}* *

早些时候此应用程序运行良好，但突然开始收到此错误消息。使用相同数据库凭据托管的实时应用程序运行良好，没有任何错误。

我正在使用窗口天蓝色数据库。即使是 windows.azure.com 中提供的管理数据库（即数据库..windows.net）的链接也没有打开任何页面......它显示错误。

任何解决方案或建议都会有很大帮助。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:01:20.400

如果它曾经正常工作，我认为这可能是因为您安装了 VS11 / VS2012。有一些人在安装新版本的 Visual Studio 后连接到 SQL Azure 时遇到问题的报告：http: [//social.msdn.microsoft.com/Forums/en-NZ/vssetup/thread/2d11b6f9-3ada-4682 -b643-c721a97af4ba](http://social.msdn.microsoft.com/Forums/en-NZ/vssetup/thread/2d11b6f9-3ada-4682-b643-c721a97af4ba)

对于大多数人来说，卸载 VS11 / VS2012 帮助他们重新开始工作。

或者，您可以尝试将连接线更改为：**Trusted_Connection=False;Encrypt=True;trustServerCertificate=true;** （见韦德的[博文](http://www.wadewegner.com/2010/08/using-the-trustservercertificate-property-with-sql-azure-and-entity-framework/)）。

# visual-studio-2010 - JQuery Mobile 未正确显示框架图形

> ID：11535045
> 
> 赞同：0
> 
> 时间：2012-07-18T05:54:16.007
> 
> 标签：visual-studio-2010, jquery-mobile, asp.net-mvc-4

我正在学习 JQuery 并试图让它与 ASP.NET MVC 4 一起工作。我似乎无法让它在移动浏览器中正确显示。主页按钮、列表视图、按钮……等等……为什么会这样显示？

![在此处输入图像描述](../Images/83598a00b7e7e7129f03578e58bb1bd6.png)

我的主布局页面的代码：

```
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale = 1" />
    <link href="@Url.Content("~/Content/jquery.mobile.theme-1.1.0.min.css")" rel="stylesheet" type="text/css" />
    <script src="@Url.Content("~/Scripts/jquery-1.7.2.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.mobile-1.1.0.min.js")" type="text/javascript"></script>

    @*<link rel="stylesheet" href="@Url.Content("~/Content/Site.Mobile.css")" />*@

</head>
<body>
    <div data-role="page" data-theme="b">

        <div data-role="header" data-theme="a">
        <a href="@Url.Content("~")" data-icon="home" data-iconpos="notext">Home</a>
            @Html.Label("Hello World")

            <div data-role="navbar">
                <ul>
                    <li><a href="#">Logo</a></li>
                    <li><a href="#">Apparel</a></li>
                    <li><a href="#">Design</a></li>
                    <li><a href="#">Art</a></li>
                </ul>
            </div>
        </div>
        <div data-role="content">
            @*@RenderSection("featured", false)*@
            @RenderBody()
        </div>
        <div data-role="footer">
        <h1>Thank you</h1>
        @Html.Partial("_ViewSwitcher")
        </div>
    </div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:15:25.647

你`~/`之前`Content/jquery.mobile.theme-1.1.0.min.css`在第 6 行失踪了。这是你的意图吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:31:24.947

知道了。必须引用“jquery.mobile-1.1.0.css”文件，而不是 mobile.theme 文件。

谢谢你。

# javascript - 是否可以将modernizr添加到jsFiddle并在Chrome/firefox中查看css3透视图

> ID：11535046
> 
> 赞同：1
> 
> 时间：2012-07-18T05:54:19.350
> 
> 标签：javascript, jquery, animation, css

我有***Chrome*** **“版本 20.0.1132.57 m”**和***firefox*** **“版本 14.0.1** ”

两个浏览器我都看不到 css3 perspective 的效果。

几天来，我试图了解什么是透视属性。但如果我没有能力查看它，我怎么知道。今天我安装了 safari，我可以看到什么是透视图。

是否可以使用添加链接作为`http://ajax.aspnetcdn.com/ajax/modernizr/modernizr-2.0.6-development-only.js`

到 jsFiddle 并从透视效果中享受？

如果是的话，我该怎么做？

[演示 jsFiddle](http://jsfiddle.net/centerwow/tvXgG/5/)

很多谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T05:57:43.847

不幸的是，不，`Modernizr`只检测浏览器支持哪些功能，不扩展它的功能。

> Modernizr 是一个小型 JavaScript 库，用于检测下一代 Web 技术的本地实现的可用性，即源自 HTML5 和 CSS3 规范的特性。

# oracle - oracle 表未在特定模式的 Toad 模式浏览 器中列出

> ID：11535047
> 
> 赞同：-1
> 
> 时间：2012-07-18T05:54:28.340
> 
> 标签：oracle, toad

我在 oracle 11g 数据库中有一个名为 TableA 的表，我可以通过使用 toad 中的特定用户 id 来选择这个表，但是我在 toad 模式浏览​​器中找不到这个表在 toad 中的那个模式。请告诉我为什么我无法在模式浏览器中找到该表或如何找到该表？让我知道是否需要任何进一步的信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:01:47.497

可以是一个视图。可以是另一个模式中的表的公共同义词。

在查询中的表名上使用`ctrl`+`left`鼠标按钮转到对象详细信息。

# c# - 如何在单击按钮时打开两个弹出窗口？

> ID：11535048
> 
> 赞同：0
> 
> 时间：2012-07-18T05:54:31.360
> 
> 标签：c#

我需要在 asp.net C# 中单击一个按钮时打开两个 pdf 文件作为弹出窗口，但现在它只打开第一个弹出窗口？有人可以帮我同时打开两个窗口吗？

这是我的代码：

```
string PDFPath = folderpath + filename;
                string PopupName = "popUp";
                string PopupSettings = "height=900,width=1000,top=100,left=100,scrollbars=no,resizable=no,toolbar=no,menubar=no,location=no,status=yes";
                string NewPath = "var popup=window.open('../PopupForReport.aspx?pdfPath="
                    + PDFPath.Replace("\\", "/") + "','" + PopupName + "','" + PopupSettings + "')";
ScriptManager.RegisterStartupScript(updatePanel1, updatePanel1.GetType(), "popupOpener", NewPath, true);

string PDFPath1 = folderpath + filename1;
                string PopupName = "popUp";
                string PopupSettings = "height=900,width=1000,top=100,left=100,scrollbars=no,resizable=no,toolbar=no,menubar=no,location=no,status=yes";
                string NewPath1 = "var popup=window.open('../PopupForReport.aspx?pdfPath="
                    + PDFPath1.Replace("\\", "/") + "','" + PopupName + "','" + PopupSettings + "')";
ScriptManager.RegisterStartupScript(updatePanel1, updatePanel1.GetType(), "popupOpener", NewPath1, true); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T05:56:45.003

这两个窗口需要唯一的名称。尝试更改第二个 PopupName 并查看是否有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:02:01.263

我通常会这样做..

```
string PDFPath = folderpath + filename;
string wndName = "Window" + DateTime.Now;

//this would make the window name unique
.
.
. 
```

# vb.net - 通过 vb.net 比较 2 个数据集值时出错

> ID：11535049
> 
> 赞同：0
> 
> 时间：2012-07-18T05:54:41.493
> 
> 标签：vb.net, dataset

我有 2 个数据集。命名为ds，ds1。数据集值包含这样的值

```
dataset(values from excel sheet)
--------
no  phone       title
91  9942321400  MR
91  9865015695  MR
91  9677031515  MR
91  9994828285  MR
91  9688104229  MR

dataset1 contain value like this(values from mysql table)
-------------------------------
phone
9942321400
9865015695
9677031515 
```

比较 2 个数据集。如果数据集不等于 datset1 phone ，我们必须在记事本中写入该数据集 phone no 。但结果错误。

```
mycode

Dim i As Integer = 0
        Do While (i <= ds1.Tables(0).Rows.Count - 1)
            Dim phone As String = ds1.Tables(0).Rows(i).Item(1).ToString
            Dim j As Integer = 0
            Do While (j <= Ds.Tables(0).Rows.Count - 1)
                Dim dumphone As String = Ds.Tables(0).Rows(j).Item(4).ToString
                If (dumphone <> phone) Then
                    TextBox1.AppendText(a.ToString & "|" & b.ToString & "|" & c.ToString)
                    sw.WriteLine(TextBox1.Text)
                    TextBox1.Text = ""
                End If
                j = (j + 1)
                'i = i + 1
            Loop
            i = (i + 1)
        Loop 
```

我在记事本中的结果

* * *

```
|91|9942321400|MR
|91|9942321400|MR
|91|9942321400|MR
|91|9942321400|MR
|91|9865015695|MR
|91|9865015695|MR
|91|9865015695|MR
|91|9865015695|MR
|91|9677031515|MR
|91|9677031515|MR
|91|9677031515|MR
|91|9677031515|MR    

but expected output in notepad like this
----------------------------------------
91|9994828285|MR
91|9688104229|MR 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:10:46.240

您的代码正在比较第二个数据集的每一行与第一行的每一行。

你的 Do While 块遍历整个事情，没有排除代码。

因此，在您的示例中，它比较的第一个数字是 dumphone(0) = 9942321400 当 phone(0) = 9942321400 时，它与第一次通过 Do While 时匹配。但是您的 Do While 仍在继续。当它到达第二个数字，dumphone(1) = 9865015695，它不匹配，所以你得到你的输出线。

这是您如何获得所需输出的一种选择

```
Dim toggle as Boolean = false
Do While (i <= ds1.Tables(0).Rows.Count - 1)
        Dim phone As String = ds1.Tables(0).Rows(i).Item(1).ToString
        Dim j As Integer = 0
        Do While (j <= Ds.Tables(0).Rows.Count - 1)
            Dim dumphone As String = Ds.Tables(0).Rows(j).Item(4).ToString
            If dumphone = phone Then toggle = true 'This will set your flag to add the output.
            j = (j + 1)
        Loop
            'After we're done checking if there's a match, we decided to add it to the output.
            If toggle = true Then
                TextBox1.AppendText(a.ToString & "|" & b.ToString & "|" & c.ToString)
                sw.WriteLine(TextBox1.Text)
                TextBox1.Text = ""
                toggle = false 'Reset the flag for the next value
            End If
            i = (i + 1) 'Move to the next value to check against.
    Loop 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:14:17.153

我认为，您需要比较数据集和两者共有的数字不应该出现在您的文本框中。

如果数字相等，则设置一个标志，如果未设置该标志，则仅将值写入文本框。

# eclipse - 无法在 IValidationContext Eclipse EMF 中设置多个 IStatus 消息

> ID：11535053
> 
> 赞同：2
> 
> 时间：2012-07-18T05:55:18.823
> 
> 标签：eclipse, eclipse-plugin, eclipse-emf

我正在使用 EMF 验证框架，需要在同一个验证器类中验证两个变量。我无法在 IValidationContext 对象中设置 2 条错误消息，即我尝试过：

```
IValidationContext ctx;
ctx.createFailureMessage(new String[]{a,b}); 
```

这没有用。我也尝试设置一个列表，`IStatus`这`ctx.createFailureMessage().`也不起作用。

不能在同一个验证上下文中添加多个失败消息吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T08:53:45.453

您需要在方法中返回`MultiStatus`包含所有状态消息的`createFailureStatus`

# android - 来自pictureTaken的图像被拉伸

> ID：11535062
> 
> 赞同：3
> 
> 时间：2012-07-18T05:56:07.197
> 
> 标签：android, camera

我使用我在网上找到的代码设置了一个简单的相机应用程序。我已经对其进行了很多修改，直到它按我喜欢的方式工作。但是，即使预览看起来不错，由于某种原因，它所拍摄的图像最终还是会被垂直拉伸。我在 Galaxy Nexus 上运行这个应用程序

这是使用内置相机应用程序拍摄时的样子：![正确的形象](../Images/de883328f4befd513dcfad3ed4699f37.png)

这是我的应用程序的图像：![拉伸图像](../Images/82f73285fcd957f167aac92ae4bee9a8.png)

知道这是为什么吗？两个图像的尺寸相同

提前致谢。我的代码如下

```
public class CameraActivity extends Activity implements SurfaceHolder.Callback,
OnClickListener {
    private static final String TAG = "CameraTest";
    Camera mCamera;
    boolean mPreviewRunning = false;

    @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);

        Log.i(TAG, "onCreate");

        getWindow().setFormat(PixelFormat.TRANSLUCENT);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
                WindowManager.LayoutParams.FLAG_FULLSCREEN);
        setContentView(R.layout.surface_camera);
        mSurfaceView = (SurfaceView) findViewById(R.id.surface_camera);
        mSurfaceView.setOnClickListener(this);
        mSurfaceHolder = mSurfaceView.getHolder();
        mSurfaceHolder.addCallback(this);
        mSurfaceHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);
    }

    @Override
    protected void onRestoreInstanceState(Bundle savedInstanceState) {
        super.onRestoreInstanceState(savedInstanceState);
    }

    Camera.PictureCallback mJpegCallback = new Camera.PictureCallback() {
        public void onPictureTaken(byte[] imageData, Camera c) {

            if (imageData != null) {

                handleJPEGData(imageData);
                mCamera.startPreview();

            }
        }
    };

    Camera.PictureCallback mRawCallback = new Camera.PictureCallback() {

        public void onPictureTaken(byte[] data, Camera camera) {
            BitmapFactory.Options opts = new BitmapFactory.Options();
            opts.inPreferQualityOverSpeed = true;
            opts.inPreferredConfig = Bitmap.Config.RGB_565;
            Bitmap bmp = BitmapFactory.decodeByteArray(data, 0, data.length, opts);

            Log.i(TAG, "Saving picture");

            MediaStore.Images.Media.insertImage(getContentResolver(), bmp, "1234", "124");
            Log.i(TAG, "Picture Saved");

        }
    };

    private void handleJPEGData(byte[] data) {
        Log.i(TAG, "Saving picture");
        ContentValues vals = new ContentValues();
        vals.put(Images.Media.DATE_TAKEN, new Date().getTime());
        vals.put(Images.Media.DATE_ADDED, new Date().getTime());
        vals.put(Images.Media.MIME_TYPE, "images/jpeg");
//        vals.put(Images.Media., value)
        Uri uriTarget = getContentResolver().insert(Media.EXTERNAL_CONTENT_URI, new ContentValues());

        OutputStream imageFileOS;
        try {
            imageFileOS = getContentResolver().openOutputStream(uriTarget);
            imageFileOS.write(data);
            imageFileOS.flush();
            imageFileOS.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
        Log.i(TAG, "Picture Saved");

        mRawCallback.onPictureTaken(data, mCamera);
    }

    @Override
    protected void onResume() {
        Log.i(TAG, "onResume");
        super.onResume();
    }

    @Override
    protected void onSaveInstanceState(Bundle outState) {
        super.onSaveInstanceState(outState);
    }

    @Override
    protected void onStop() {
        Log.i(TAG, "onStop");
        super.onStop();
    }

    public void surfaceCreated(SurfaceHolder holder) {
        Log.i(TAG, "surfaceCreated");
        mCamera = Camera.open();

    }

    public void surfaceChanged(SurfaceHolder holder, int format, int w, int h) {
        Log.i(TAG, "surfaceChanged");

        // XXX stopPreview() will crash if preview is not running
        if (mPreviewRunning) {
            mCamera.stopPreview();
        }

        Camera.Parameters p = mCamera.getParameters();
        p.setPreviewSize(1920, 1080);
        p.setAntibanding(Camera.Parameters.ANTIBANDING_AUTO);
        p.setFocusMode(Camera.Parameters.FOCUS_MODE_CONTINUOUS_PICTURE);
        p.setJpegQuality(100);
        p.setPictureFormat(ImageFormat.JPEG);
        p.setPictureSize(2592,1944);
        mCamera.setParameters(p);

        try {
            mCamera.setPreviewDisplay(holder);
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        mCamera.startPreview();
        mPreviewRunning = true;
    }

    public void surfaceDestroyed(SurfaceHolder holder) {
        Log.i(TAG, "surfaceDestroyed");
        mCamera.stopPreview();
        mPreviewRunning = false;
        mCamera.release();
    }

    private SurfaceView mSurfaceView;
    private SurfaceHolder mSurfaceHolder;

    public void onClick(View arg0) {

        mCamera.takePicture(null, null, mJpegCallback);

    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-24T18:03:17.160

弄清楚了。这是因为预览尺寸与图片尺寸不同。这样做有点愚蠢，但确实如此。所以解决方案是让它们具有相同的纵横比。然而，在其他新闻中，这似乎已在 Jelly Bean 中得到解决

# php - 用于用户和管理界面的 CodeIgniter 路由

> ID：11535065
> 
> 赞同：1
> 
> 时间：2012-07-18T05:56:15.487
> 
> 标签：php, codeigniter

我正在使用 CodeIgniter 创建一个网站，并且我想要一个管理界面和一个用户界面。

我正在使用这种方法

*   控制器/

    *   管理员/dashboard.php
    *   admin.php（加载 admin/login.php 视图）
    *   仪表板.php
*   楷模/

    *   行政/
*   意见/

    *   admin/dashboard.php, login.php
    *   dasboardh.php, login.php

好的，如果我去 example.com/admin 它可以工作，它会加载登录视图，但如果我想去 example.com/admin/dashboard 它不会加载.. 说找不到页面

我尝试将 followinf route['admin/dashboard']='admin/dashboard'; 添加到路由中 但它仍然不起作用。同样在我的网址中，我总是有 index.php，我不能用 htacess 把它取下来，这是我的 htaccess：

```
php_flag display_startup_errors on  
php_flag display_errors on  
php_flag html_errors on

RewriteEngine on  
RewriteCond $1 !^(index\.php|images|robots\.txt)
RewriteRule ^(.*)$ /index.php/$1 [L] 
```

每一个帮助将不胜感激，非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:05:02.587

对于用户

```
$route['(inbox|sent|trash)'] = "message/$1";
$route['(settings|change_password|signout)'] = "account/$1"; 
```

对于管理员

```
$route['(inbox|sent|trash)'] = "admin/message/$1";
$route['(settings|change_password|signout)'] = "admin/account/$1"; 
```

确保**$route**中的所有键都应该在指定的控制器中定义

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:27:17.663

您可以删除 admin 控制器并在 admin 文件夹中创建一个名称为 login 的控制器，这样可以正常工作。因为当您已经拥有 admin.php 控制器时，Codeigniter 会寻找方法仪表板。

# processing - 如何在现有的 word/pdf 文档上创建“生成艺术”？

> ID：11535067
> 
> 赞同：1
> 
> 时间：2012-07-18T05:56:29.480
> 
> 标签：processing, processing.js, generative-art

我是处理和使用 processing.js 来创建一些“生成艺术”的新手。我想知道是否有任何参考、工具、代码、脚本（基于 processing.js）允许我们在现有 word/pdf 文档的顶部/背景上创建这些模式？

目前，我可以在图像顶部创建这些图案，还可以设置属性，例如不透明度。

提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-14T17:40:16.697

在 Processing 2+ 和 Processing.js 中，您可以将 Illustrator 和 Inkscape 创建的 SVG 加载到`PShape`带有`loadShape()`. 我不知道有任何东西可以让您使用 PDF 或 Word 文档执行此操作。

如果您能找到可能是解决方案的 Java 库（Processing 2+）或 Javascript 库（Processing.js）。

# android - 如何将“alert_light_frame”正确设置为布局的背景？

> ID：11535068
> 
> 赞同：0
> 
> 时间：2012-07-18T05:56:42.003
> 
> 标签：android

我正在使用一个包含三个段的自定义段栏，我设置`alert_light_frame`为背景，`android:background="@android:drawable/alert_light_frame"`但在 2.2 中它不适合段栏的高度，但在 2.3.6 中它的完美。背景的高度超过分段栏。任何人都可以帮我解决这个问题吗？

这是我的段栏的 xml 布局

```
<com.com.app.SegmentedRadioGroup
                android:layout_width="wrap_content" android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:id="@+id/segment_text" 
                 android:background="@android:drawable/alert_light_frame"
                android:checkedButton="@+id/button_one">
                <RadioButton android:id="@id/button_one" 
                    android:minHeight="35dip" android:text="one"
                    android:textAppearance="?android:attr/textAppearanceSmall"
                    android:button="@null" android:gravity="center" android:textColor="@color/radio_colors" />
                <RadioButton android:id="@+id/button_two"
                    android:minHeight="35dip" android:text="two"
                    android:button="@null" android:gravity="center"
                    android:textAppearance="?android:attr/textAppearanceSmall"
                    android:textColor="@color/radio_colors" />
                <RadioButton android:id="@+id/button_three"
                     android:minHeight="35dip" android:text="three"
                    android:button="@null" android:gravity="center"
                    android:textAppearance="?android:attr/textAppearanceSmall"
                    android:textColor="@color/radio_colors" />
            </com.com.app.SegmentedRadioGroup> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:18:23.480

不同版本的 Android 可能有不同版本的可绘制对象。

当您想使用 android drawable 时，最好在您的 sdk (platforms/android-xx/data/res/) 中找到它并将其包含在您的项目中。

因此，您将使用`@drawable/your_alert_light_frame`而不是`@android:drawable/alert_light_frame`

这样，无论运行哪个 android 版本，您的应用程序都将保持一致。

因此，如果 2.3.6 中的 drawable 工作正常，请从 sdk 中检索并使用它。

# oauth - YQL：获取私人 Twitter 帐户的朋友列表时为空结果

> ID：11535073
> 
> 赞同：3
> 
> 时间：2012-07-18T05:57:40.227
> 
> 标签：oauth, twitter, twitter-oauth, yql

我使用 YQL:js 来获取数据。

我在[https://developer.yahoo.com/yql/console/](https://developer.yahoo.com/yql/console/)做：

```
select * from twitter.friends where id='some_not_private_account' 
```

它工作完美。它返回朋友列表。现在我对私人帐户做同样的事情：

```
select * from twitter.friends where id='some_private_account' and 
oauth_consumer_key='some_key' and 
oauth_consumer_secret='some_secret' and 
oauth_token='some_token' and 
oauth_token_secret='some_token_secret' 
```

调试中没有任何错误，但结果部分为空。为什么？我做错了什么？

**#更新1：**

这是带有调试和诊断选项的 xml 答案：

```
<?xml version="1.0" encoding="UTF-8"?>
<query xmlns:yahoo="http://www.yahooapis.com/v1/base.rng"
    yahoo:count="0" yahoo:created="2012-07-22T13:09:23Z" yahoo:lang="en-US">
    <diagnostics>
        <publiclyCallable>true</publiclyCallable>
        <url execution-start-time="361" execution-stop-time="363"
            execution-time="2" proxy="DEFAULT"><![CDATA[http://www.datatables.org/twitter/twitter.friends.xml]]></url>
        <url execution-start-time="367" execution-stop-time="849"
            execution-time="482" proxy="DEFAULT"><![CDATA[http://zachgrav.es/twitter/yql/oauth.utils.js]]></url>
        <url execution-start-time="850" execution-stop-time="909"
            execution-time="59" proxy="DEFAULT"><![CDATA[http://oauth.googlecode.com/svn/code/javascript/oauth.js]]></url>
        <url execution-start-time="912" execution-stop-time="943"
            execution-time="31" proxy="DEFAULT"><![CDATA[http://oauth.googlecode.com/svn/code/javascript/sha1.js]]></url>
        <url execution-start-time="965" execution-stop-time="1253"
            execution-time="288" proxy="DEFAULT"><![CDATA[http://api.twitter.com/1/friends/ids/some_private_account.xml]]></url>
        <javascript execution-time="888" instructions-used="1032031" table-name="twitter.friends"/>
        <user-time>1254</user-time>
        <service-time>1187</service-time>
        <build-version>28958</build-version>
    </diagnostics> 
    <results/>
</query> 
```

**更新 2：**

[http://i.stack.imgur.com/nuFw1.jpg](https://i.stack.imgur.com/nuFw1.jpg)

![在此处输入图像描述](../Images/386e2f86199007c6d209179d692cac28.png)

**更新 3：** [我的查询](https://developer.yahoo.com/yql/console/?q=show%20tables&env=store://datatables.org/alltableswithkeys&debug=true#h=select%20*%20from%20twitter.friends%20where%20id=%27scranthony%27)

# asp.net-mvc - 使用成员资格提供程序的 ASP.NET MVC 4 Web API 身份验证

> ID：11535075
> 
> 赞同：47
> 
> 时间：2012-07-18T05:57:46.670
> 
> 标签：asp.net-mvc, asp.net-membership, forms-authentication, asp.net-web-api, fiddler

我有一个使用 Web API 的 ASP.NET MVC 4 项目。在控制器上，我已使用 [Authorize] 属性将类设置为需要授权。对于身份验证，我使用 ASP.NET Membership Provider 并将我的 Web.Config 设置为使用“表单”身份验证。这是我卡住的地方：

一切都很好，直到我完成了对 API 的测试，我想用 [Authorize] 属性保护控制器，这样我就可以开始在我的会员提供者中测试对用户的身份验证。因此，我启动了 Fiddler 并进行了相同的调用，添加了 Authorization:Basic 属性以及来自我的会员提供者的用户名：密码，如下所示：

![在此处输入图像描述](../Images/57d28561e6152866448a277601564985.png)

我得到的响应是 401 未授权，在“Auth”下我得到“没有 WWW-Authenticate Header is present”。然后我意识到 API 正在寻找一个 SHA1 编码的密钥。所以我从搜索中启动了一个 SHA1 生成器，并为我的 username:password 获取了一个哈希，并像这样更新我的请求标头：

![在此处输入图像描述](../Images/38081e7b57bcfc2b01beb0d1d2358afe.png)

这也不起作用，我得到相同的结果。此外，我显然需要某种“共享密​​钥”来与服务器一起使用来解码我的用户名/密码。

所以我的问题：

1.  如何从服务器获取此密钥（或者在这种情况下，虚拟 IIS 在 VS 2012 上运行）。
2.  如何使用它在 Fiddler 中使用来自 ASP.NET 成员资格提供程序的用户名/密码进行经过身份验证的调用。
3.  我将如何在我的客户端应用程序中使用它来进行相同的调用（C# WPF 应用程序）。
4.  在我的 HTTP 调用上与 SSL 结合使用时，这是最佳实践吗？如果不是，那是什么？

提前致谢！

* * *

## 回答 #1

> 赞同：71
> 
> 时间：2012-07-18T07:29:47.270

您可以使用SSL 的[基本身份验证。](http://en.wikipedia.org/wiki/Basic_access_authentication)在服务器端，我们可以编写一个自定义委托处理程序，它将通过查询我们注册的成员资格提供程序来验证凭据，如果有效，则检索角色并设置当前主体：

```
public class BasicAuthenticationMessageHandler : DelegatingHandler
{
    protected override Task<HttpResponseMessage> SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
    {
        var authHeader = request.Headers.Authorization;

        if (authHeader == null)
        {
            return base.SendAsync(request, cancellationToken);
        }

        if (authHeader.Scheme != "Basic")
        {
            return base.SendAsync(request, cancellationToken);
        }

        var encodedUserPass = authHeader.Parameter.Trim();
        var userPass = Encoding.ASCII.GetString(Convert.FromBase64String(encodedUserPass));
        var parts = userPass.Split(":".ToCharArray());
        var username = parts[0];
        var password = parts[1];

        if (!Membership.ValidateUser(username, password))
        {
            return base.SendAsync(request, cancellationToken);
        }

        var identity = new GenericIdentity(username, "Basic");
        string[] roles = Roles.Provider.GetRolesForUser(username);
        var principal = new GenericPrincipal(identity, roles);
        Thread.CurrentPrincipal = principal;
        if (HttpContext.Current != null)
        {
            HttpContext.Current.User = principal;
        }

        return base.SendAsync(request, cancellationToken);
    }
} 
```

然后我们在下面注册这个处理程序`Application_Start`：

```
GlobalConfiguration.Configuration.MessageHandlers.Add(
    new BasicAuthenticationMessageHandler()
); 
```

现在我们可以有一个 Api 控制器，该控制器将使用 [Authorize] 属性进行修饰，以确保只有经过身份验证的用户才能访问其操作：

```
[Authorize]
public class ValuesController : ApiController
{
    public string Get()
    {
        return string.Format("Hello {0}", User.Identity.Name);
    }
} 
```

好的，现在让我们看一个示例客户端：

```
using System;
using System.Net;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Text;

class Program
{
    static void Main()
    {
        // since for testing purposes I am using IIS Express
        // with an invalid SSL certificate I need to desactivate
        // the check for this certificate.
        ServicePointManager.ServerCertificateValidationCallback += 
            (sender, certificate, chain, sslPolicyErrors) => true;

        using (var client = new HttpClient())
        {
            var buffer = Encoding.ASCII.GetBytes("john:secret");
            var authHeader = new AuthenticationHeaderValue("Basic", Convert.ToBase64String(buffer));
            client.DefaultRequestHeaders.Authorization = authHeader;
            var task = client.GetAsync("https://localhost:44300/api/values");
            if (task.Result.StatusCode == HttpStatusCode.Unauthorized)
            {
                Console.WriteLine("wrong credentials");
            }
            else
            {
                task.Result.EnsureSuccessStatusCode();
                Console.WriteLine(task.Result.Content.ReadAsAsync<string>().Result);
            }
        }
    }
} 
```

# facebook - Facebook 发送按钮返回“无效来源”错误

> ID：11535076
> 
> 赞同：3
> 
> 时间：2012-07-18T05:57:47.000
> 
> 标签：facebook, button, send

最近我们的 Facebook 发送按钮停止工作。

由于某种原因，它返回“无效源”。目前尚不清楚这是指什么。网站上的其他 Facebook 代码可以正常工作，并且发送按钮也没有源属性，这让这更加混乱！

从 Facebook 返回到浏览器的实际代码如下： for (;;);{"__ar":1,"payload":null,"onload":["SendButtonForm.getInstance(\"uzu1w0_1\").handleError( \"无效来源：\");"]}

如果有人至少可以告诉我们无效源返回的内容，那它本身可能会有所帮助！

谢谢，马克

编辑：看起来可能是这个错误 [http://developers.facebook.com/bugs/502095993139983?browse=search_500f3189916434754803073](http://developers.facebook.com/bugs/502095993139983?browse=search_500f3189916434754803073)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-22T16:09:57.190

该错误仍然出现。当我们`<?php the_permalink() ?>`用作 data-href 标签时，会出现“Invalid Source”。但是，如果我们将 data-href 指定为例如[http://www.example.com/](http://www.example.com/)那么这个 FB-recommendation/like 可以正常工作。（当然，如果我们使用 Wordpress 或其他 PHP 页面，这是无稽之谈。）

我验证了代码`<?php the_permalink() ?>`生成，这是一个正确的 HTTP 地址，这意味着这是一个 Facebook 错误。马克，请打你的程序员的脸！谢谢！:)

# unix - Ubuntu 10.10 上使用了哪个 gcc

> ID：11535077
> 
> 赞同：0
> 
> 时间：2012-07-18T05:57:48.560
> 
> 标签：unix, gcc, ubuntu, compiler-construction, x86

`gcc`我`linux-x86`从命令行安装了最新版本的。显示`/usr/bin/`两个`gcc`s，即`gcc`和`gcc-4.4`。浏览了几个网站后，我导航到我的`/usr/lib/gcc/i686-linux-gnu`. 它包含一个文件夹`4.4/`和两个其他文件，`4.4.4`以及`4.4.5`.

当我使用`gcc -v`时，我得到

> gcc 版本 4.4.5 (Ubuntu/Linaro 4.4.4-14ubuntu5.1)

`whereis gcc`节目

> gcc: /usr/bin/gcc /usr/lib/gcc

哪个 gcc 显示`/usr/bin/gcc`。

我在我的 中找到的两个 gcc 有什么区别`/usr/bin/`？系统接的是哪一个？

whereis gcc 和 which gcc 的输出有什么区别？

我相信如果我理解了这些，我将能够调试我的构建中的错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:30:37.577

我认为系统会选择回复的版本`gcc -v`。也许您安装了多个 GCC 版本？或者您已经编译了需要使用特定 GCC 版本的软件？这可能是因为某些构建配置引用特定的 GCC 名称版本或使用 GCC 版本的指令细节，就像某些 Java 软件对 Java 虚拟机所做的那样。Java 软件通常会安装它们的 JVM，而不管您是否已经安装了一个。

来自[http://www.linfo.org/whereis.html](http://www.linfo.org/whereis.html)：

whereis 命令用于查找任何指定程序的二进制文件、源代码和在线手册页。

从[http://linux.about.com/library/cmd/blcmdl1_which.htm](http://linux.about.com/library/cmd/blcmdl1_which.htm)：

其中 - 显示（shell）命令的完整路径（因此可执行文件）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T11:09:31.270

是的，它肯定会显示两个 gcc。你要做的是在通过命令行安装 gcc 之后你必须链接它。例如对于 c 首先你必须删除 cc1 然后用绝对路径链接新的 cc1。有关更多参考，请通过此链接
[http://buildall.wordpress.com/2011/04/20/installing-gcc-4-6-in-the-ubuntu-10-10/](http://buildall.wordpress.com/2011/04/20/installing-gcc-4-6-in-the-ubuntu-10-10/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:18:45.497

“/usr/bin/gcc”中的二进制文件可能只是一个别名。由于“which gcc”指向那个，请按照该别名查找您的默认系统 gcc，如果我不得不猜测，它被设置为 gcc“4.4.5”。4.4/ 文件夹中有什么？

另外，我的猜测是 gcc-4.4 是另一个别名，可能是 4.4.4 或 4.4/ 文件夹中的一个 bin。这些只是猜测，所以我解决这个问题的第一步是跟随他们，看看他们指向哪里。

# jquery - jQuery 交叉淡入淡出转换加载

> ID：11535086
> 
> 赞同：0
> 
> 时间：2012-07-18T05:59:03.537
> 
> 标签：jquery, transition, onload, fade

我想要实现的目标很简单。我见过插件这样做，但我不想使用插件。

我在锚点中有两个图像。a#fade1 我要加载，然后显示 3 秒然后淡出。然后 a#fade2 我想在 a#fade1 之后淡入并显示 3 秒，然后在重复该过程时淡出。

但是，当我将 a#fade2 设置为 900 时，它会以 450 毫秒的速度淡入，而其他的淡入淡出。那么任何人都可以帮助我解决这个问题，并解释为什么我刚才提到的不起作用？

这是我的代码。

```
$('a#fade1, a#fade2').hide();

$('div#fadetransitions').ready(function() {
    $('a#fade1').fadeIn(450).delay(3000).fadeOut(450);
    $('a#fade2').delay(3450).fadeIn(900).delay(3000).fadeOut(450);
    return false;
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:13:15.413

你可以这样做：

```
$('a#fade1, a#fade2').hide();

function show1() {
    $('a#fade1').fadeIn(450).delay(3000).fadeOut(450, function(){show2();});
}

function show2() {
    $('a#fade2').fadeIn(450).delay(3000).fadeOut(450, function(){show1();});
}

$().ready(function() {
    show1();
});​ 
```

# android - 应用程序显示黑屏？

> ID：11535088
> 
> 赞同：1
> 
> 时间：2012-07-18T05:59:07.543
> 
> 标签：android, android-asynctask

我正在实现一个android应用程序。我在一项活动中使用网络服务。我正在显示一个进度对话框，直到它加载第二个活动。但它不会一直显示并显示一段时间黑屏。它看起来像应用程序挂起。我应该怎么办？我浪费了我的三天。我正在为这些过程使用 asynctask。请帮我 。

```
protected void onListItemClick(ListView l, View v, final int position,
        long id) {
    super.onListItemClick(l, v, position, id);

    progressDialog = ProgressDialog.show(ProjectListActivity.this,
            "Please wait...", "Loading...");

    new Thread() {

        public void run() {

            try {
                String project = titles.get(position - 1);

                performBackgroundProcess(project);

            } catch (Exception e) {

                Log.e("tag", e.getMessage());

            }

            progressDialog.dismiss();
        }

    }.start();

}

   private void performBackgroundProcess(String project) {

    String spaceId = null;
    String spaceName = null;
    /*
     * for (Space space : spaces){
     * if(space.getName().equalsIgnoreCase((String) ((TextView)
     * v).getText())){ spaceId = space.getId(); } }
     */
    for (Space space : spaces) {

        if (project.equals(space.getName())) {

            newSpace = space;
        }

    }

    spaceId = newSpace.getId();
    spaceName = newSpace.getName();

    /*
     * Intent intent = new Intent(this, SpaceComponentsActivity.class);
     * intent.putExtra("spaceId", spaceId); intent.putExtra("tabId", 0);
     * intent.putExtra("className", "TicketListActivity"); TabSettings ts =
     * new TabSettings(); ts.setSelTab(1); this.startActivity(intent);
     */
    Intent intent = new Intent(this, SpaceComponentsActivity.class);
    intent.putExtra("spaceId", spaceId);
    intent.putExtra("tabId", 0);
    intent.putExtra("spaceName", spaceName);

    // intent.putExtra("className", "TicketListActivity");
    TabSettings ts = new TabSettings();
    ts.setSelTab(0);
    ts.setSelTabClass("TicketListActivity");
    this.startActivity(intent);

    /*
     * Toast.makeText(getApplicationContext(), ((TextView) v).getText(),
     * Toast.LENGTH_SHORT).show();
     */
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:11:44.940

对于您的情况，请使用此...

向`progressDialog`您公开`Activity`

```
progressDialog = ProgressDialog.show(ProjectListActivity.this,
        "Please wait...", "Loading...");

new Thread() {

    public void run() {

        try {
            String project = titles.get(position - 1);

            performBackgroundProcess(project);
            ProjectListActivity.this.runOnUiThread(new Runnable() {

        @Override
        public void run() {
            progressDialog.dismiss();

        }
    });

        } catch (Exception e) {

            Log.e("tag", e.getMessage());

        }

    }

}.start(); 
```

但使用[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)并不是一个好的方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:16:20.427

```
private class ProgressTask extends AsyncTask<String, Void, Boolean> {

    private ProgressDialog dialog = new ProgressDialog(HomeActivity.this);

    protected void onPreExecute() {
        this.dialog.setMessage("Please wait");
        this.dialog.show();
    }

    protected Boolean doInBackground(final String... args) {
        try {

            Utilities.arrayRSS = objRSSFeed
                    .FetchRSSFeeds(Constants.Feed_URL);
            return true;
        } catch (Exception e) {
            Log.e("tag", "error", e);
            return false;
        }
    }

    @Override
    protected void onPostExecute(final Boolean success) {

        if (dialog.isShowing()) {
            dialog.dismiss();
        }

        if (success) {
            // display UI
            txtTitle.setText(Utilities.RSSTitle);
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-28T03:24:06.033

这就是我实现它的方式。在此处复制代码以供其他人使用。希望它也适用于你。您可以复制此函数“display_splash_screen()”并从 OnCreate() 函数（或任何需要的地方）调用它。

显示我的对话框（启动画面） R.layout.welcome_splash_screen，然后在一个线程中，我在 3 秒后关闭对话框。

`

```
private void display_splash_screen() {
    try{
        // custom dialog
        final Dialog dialog = new Dialog(MainActivity.this);
        dialog.setContentView(R.layout.welcome_splash_screen);
        dialog.setTitle("Bulk SMS");
        dialog.setCancelable(true);

        dialog.setOnShowListener(new DialogInterface.OnShowListener() {
            @Override
            public void onShow(DialogInterface dialogInterface) {
                Thread thrDialogClose = new Thread(){
                    @Override
                    public void run() {
                        super.run();

                        try {
                              // Let the dialog be displayed for 3 secs
                              sleep(3000);        
                        } catch (InterruptedException e) {
                             e.printStackTrace();
                        }

                        dialog.dismiss();
                    }
            };
            thrDialogClose.start();
        }});
        dialog.setCanceledOnTouchOutside(true);
        dialog.show();
        }catch (Exception ex){
        Log.e("Bulk SMS:", ex.getStackTrace().toString());
    }
} 
```

`

# r - R/sqldf/mclapply，如何同时使用 sqldf 和 mclapply？

> ID：11535092
> 
> 赞同：3
> 
> 时间：2012-07-18T05:59:33.183
> 
> 标签：r, sqldf, mclapply

您好我正在尝试使用 sqldf 从我的数据库中获取数据。由于 sqldf 总是会加载 tcltk，所以我不能使用 mclapply 函数。我该怎么办？谢谢。

这是一个例子。

```
options(gsubfn.engine = "R")
require("sqldf")
require("parallel")
sqldf("select * from iris limit 5")

for ( i in 1:3) {
  mclapply(1:30, rnorm)
} 
```

# iphone - CoreAudio：在 iphone 中播放系统声音并录制播放声音

> ID：11535097
> 
> 赞同：3
> 
> 时间：2012-07-18T06:00:08.613
> 
> 标签：iphone, ios, core-audio

我在录制应用程序播放的系统声音时遇到问题。与“会说话的汤姆”iOS 应用程序类似，我的应用程序应该录制屏幕视频和声音。屏幕录制并转换为视频工作正常，问题在于使用核心音频录制音频。我是第一次使用 Core Audio，请帮助我解决我的问题。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T10:57:28.153

[AudioRecordind 使用 coreAudio](https://github.com/aranm/iPhone-ExtAudioFile-Record)

这个应用程序在我的项目中很有用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-26T18:52:35.553

您应该提供有关您遇到的问题的更多详细信息。Core Audio 涵盖了很多领域，很难给出一般性的建议。这里说的是一个可能有帮助的教程

[http://www.chupamobile.com/tutorial/details/47](http://www.chupamobile.com/tutorial/details/47)

# c# - 如何将容器标签添加到以下 xml Web 服务

> ID：11535103
> 
> 赞同：1
> 
> 时间：2012-07-18T06:00:31.067
> 
> 标签：c#, xml, web-services

我正在创建一个 xml 架构

 `````
<?xml version="1.0" encoding="UTF-8"?>
<string xmlns="http://tempuri.org/">
<Inventories>
<ID>           </ID>
<Category>     </Category>
<Identity>     </Identity>
<Name>         </Name>
</Inventories>
</string> 
````  `使用以下代码

```
resultList = remoteWeb.Lists.GetByTitle("Server");
context.Load(resultList);
context.ExecuteQuery();
items = resultList.GetItems(new CamlQuery());
context.Load(items);
context.ExecuteQuery();
foreach (ListItem item in items)
{
    rootNode.AppendChild(doc.CreateElement("ID")).InnerText = "pcat:401820";
    rootNode.AppendChild(doc.CreateElement("Category")).InnerText = "Infrastructure.Server";
    rootNode.AppendChild(doc.CreateElement("Identity")).InnerText = Convert.ToString(item["ID"]);
    rootNode.AppendChild(doc.CreateElement("Name")).InnerText = Convert.ToString(item["Server_Name"]) + " >> " + Convert.ToString(item["Computer_Name"]) + " >> " + Convert.ToString(item["IP"]);
} 
```

但是我们需要将xml设置为

```
<?xml version="1.0" encoding="UTF-8"?>
<string xmlns="http://tempuri.org/">
<Inventories>
<Inventory>
<ID>            </ID>
<Category>      </Category>
<Identity>      </Identity>
<Name>          </Name>
</Inventory>
</Inventories> 
```

但没有弄清楚如何在下添加容器节点

所有帮助将不胜感激，并在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:13:51.910

```
List<Inventory> items = new List<Inventory>();
items.Add(new Inventory() { ID = "id1", Category = "c1", Identity = "i1", Name = "n1" });
items.Add(new Inventory() { ID = "id2", Category = "c2", Identity = "i2", Name = "n2" });

XmlSerializer xml = new XmlSerializer(typeof(List<Inventory>),new XmlRootAttribute("Inventories"));
xml.Serialize(stream, items); 
```

-

```
public class Inventory
{
    public string ID;
    public string Category;
    public string Identity;
    public string Name;
} 
`````

# java - 如何使用 XStream 将 XML 节点中的不同子 XML 元素转换为通用 java 类型实例？

> ID：11535106
> 
> 赞同：0
> 
> 时间：2012-07-18T06:00:49.790
> 
> 标签：java, xml, xstream

从下面的简单 XML 中，我想创建一个带有*Field*实例集合的*SomeApplication*实例，其中每个*Field*实例代表 <some-application> 的一个子元素。*Field*实例将有两个字符串属性，名称和值，它们分别从节点名称和节点值分配。

 *****XML 输入：**

```
<some-application>
    <field1>foo</field1>
    <field2>bar</field2>
</some-application> 
```

**Java 类型：**

```
public class Field {

    private String name;   
    private String value;

    public Field(String name, String value) {
        this.name = name;
        this.value = value;
    }

    public String getName(){
        return name;
    }

    public String getValue(){
        return value;
    }
}

public class SomeApplication {

    private List<Field> fields;

    public SomeApplication(){
        fields = new ArrayList<Field>();
    }

    public void addField(Field field){
        fields.add(field);
    }
} 
```

将字段元素（<some-application> 的子元素）转换为*Field*实例的最佳策略是什么？

请注意，为了简洁起见，我已经简化了要求。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-19T08:00:23.800

我已经设法使用自定义转换器 - *SomeApplicationConverter*来实现它。在我的自定义转换器中，在解组时，对于我遇到的每个子节点，我使用节点名称和值创建我的*Field*类型实例。下面是我的自定义转换器

```
public class SomeApplicationConverter implements Converter {

    @Override
    @SuppressWarnings("unchecked")
    public boolean canConvert(Class type) {
        if (type.equals(SomeApplication.class)) {
            return true;
        }
        return false;
    }

    @Override
    public void marshal(Object source, HierarchicalStreamWriter writer,
            MarshallingContext context) {
        throw new UnsupportedOperationException(
                "Marshalling is not supported yet");
    }

    @Override
    public Object unmarshal(HierarchicalStreamReader reader,
            UnmarshallingContext context) {
        SomeApplication application = new SomeApplication();
        while (reader.hasMoreChildren()) {
            reader.moveDown();
            String name = reader.getNodeName();
            String value = reader.getValue();
            Field field = new Field(name, value);
            application.addField(field);
            reader.moveUp();
        }
        return application;
    } 
```***

# php - Chrome 和 Firefox 不会取消设置会话数组，但 IE 和 Safari 可以

> ID：11535116
> 
> 赞同：0
> 
> 时间：2012-07-18T06:01:38.180
> 
> 标签：php, javascript, session

我对 firefox 和 chrome 有一个大问题，我的编码在 IE 和 sfari 上完美运行。在 firfox 和 chrome 中不起作用的事情是我有一个二维会话数组调用“bill_array”。在这两个浏览器中没有完美地清除它。当我按下 x 按钮时。但其他两个做得很好。

```
<?php
//checking for perfect loging
session_start();
require ("connection.php");
if (!isset($_COOKIE['username']) && !isset($_COOKIE['password'])) {
    header('location:home.php');
    exit();
}
else {
    $user_name = $_COOKIE['username'];
    $user_pass = $_COOKIE['password'];
}
/////////////////////////////////////
?>
<?php
//#####################################################################################################//
//CANCELING THE BILl//      
//#####################################################################################################//
?>
<script type="text/javascript">
function textsizer(e) {
    var evtobj=window.event? event : e;
    var element = evtobj.target ? evtobj.target : evtobj.srcElement;
    if (element.tagName.toLowerCase() == "body") {
        var unicode=evtobj.charCode? evtobj.charCode : evtobj.keyCode;
        var actualkey=String.fromCharCode(unicode)
        if(actualkey=="x"){
            location.href="clearsession.php";
            }

            }
        }

document.onkeypress=textsizer
</script>

<?php 
        //collecting posted variables by pressing addanother button
        if(isset($_POST['adnother'])) {
        $date = $_POST['date'];
        $billnmbr = $_POST['billnmbr'];
        $optionlist=$_POST['optionlist'];
        $itemcode = $_POST['itemcode'];
        $itemname = $_POST['itemname'];
        $exdate = $_POST['exdate']; 
        $eachprice = $_POST['eachprice'];   
        $itmtotal = $_POST['itmtotal'];
        $qty = $_POST['qty'];
        $wasFound=false;
        $i=0;   
// check for >>>>>>>>>>> if the session bill_array  array  is not set or cart array is empty <<<<<<<<<<<<<<<
    if(!isset($_SESSION["bill_array"]) || count($_SESSION["bill_array"]) < 1 ) {
        // Run if the bill_array is empty or not set
        $_SESSION["bill_array"]= array(1 => array("date"=> $date, "billnmbr"=> $billnmbr, "itemcode"=> $itemcode, "itemname"=> $itemname, "exdate"=> $exdate, "eachprice"=> $eachprice, "qty"=> $qty, "itmtotal"=> $itmtotal));
    } else {
        // Run if the bill has at least one item in it
        foreach($_SESSION["bill_array"] as $each_item) {
            $i++;
            while(list($key,$value)=each($each_item)){
                if($key=="itemcode" && $value == $itemcode){
                    // That item is in cart already so push a error message in to screen
                    $wasFound = true; ?>
                    <script type="text/javascript">
                    var error = "<?= $wasFound ?>";
                    if(error == "1") {
                    alert("You trying to add same item twice")
                    }
                    </script>
                    <?php 
                    }//close if condition
            }//close while loop
        }//close foreach loop
//if the next item is not in the bill and then add it to the bill_array     
    if($wasFound==false){
    array_push($_SESSION["bill_array"],array("date"=> $date, "billnmbr"=> $billnmbr, "itemcode"=> $itemcode, "itemname"=> $itemname, "exdate"=> $exdate, "eachprice"=> $eachprice, "qty"=>$qty, "itmtotal"=> $itmtotal));
}//clos if condition
    }//close else statment
        }//close ifisset
        ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Front-end Billing</title>
<META HTTP-EQUIV="Pragma" CONTENT="no-cache">
<link href="main.css" rel="stylesheet" type="text/css" media="all" />
<style type="text/css">
.mainheder {
    font-size: 36px;
    font-weight: bolder;
    color: #00C;
    text-align: center;
}
#headertopic {
    position:absolute;
    left:304px;
    top:1px;
    width:395px;
    height:44px;
    z-index:1;
    background-color: #999900;
}
#mainmenue {
    position:absolute;
    left:208px;
    top:78px;
    width:614px;
    height:696px;
    z-index:1;
}
#dateandtime {
    position:absolute;
    left:790px;
    top:251px;
    width:208px;
    height:82px;
    z-index:1;
}
#redcross {
    position:absolute;
    left:377px;
    top:321px;
    width:247px;
    height:239px;
    z-index:0;
}
#usrlogin {
    position:absolute;
    left:4px;
    top:216px;
    width:265px;
    height:184px;
    z-index:1;
}
#address {
    position:absolute;
    left:2px;
    top:462px;
    width:204px;
    height:155px;
    z-index:2;
}

#logdas {
    position:absolute;
    left:10px;
    top:92px;
    width:197px;
    height:58px;
    z-index:1;
}
.logdas {
    font-weight: bold;
    color: #00F;
}
#pagetheam {
    position:absolute;
    left:330px;
    top:186px;
    width:341px;
    height:24px;
    text-align: center;
    font-size: 18px;
    font-weight: bolder;
    color: #0CF;
    text-decoration: underline;
}
#billingitems {
    position:absolute;
    left:21px;
    top:266px;
    width:731px;
    height:240px;
    z-index:10000;
    border-style:groove;
    border-width:thick;
}
#printlayout {
    position:absolute;
    left:768px;
    top:267px;
    width:211px;
    height:279px;
    z-index:100000;
    text-align: center;
    overflow: auto;
    border-style:solid;
    border-width:thin;
}
.printlayoutshopname {
    font-size: 14px;
    font-weight: bold;
    color: #000;
}
.billaddrs {
    font-size: 10px;
}
.bilnmbr {
    font-size: 10px;
    text-align: left;
}
.amount {
    font-size: 12px;
    font-weight: bold;
}
.itemcode {
    font-size: 14px;
    font-weight: bold;
}
.expiredate {
    font-size: 14px;
    font-weight: bolder;
    color: #F00;
    text-decoration: blink;
}
#copyright2 {
    position:absolute;
    left:757px;
    top:565px;
    width:223px;
    height:87px;
    z-index:1;
}
.copyright2 {
    font-size: 12px;
    font-weight: bold;
}
#packsize {
    position:absolute;
    left:321px;
    top:7px;
    width:173px;
    height:24px;
    z-index:1;
}
</style></head>
<? // this java script used to submit item code on -> arrow key press unicode value of that button is 39 ?>
<script type="text/javascript">
function submitthis(e){
var unicode=e.keyCode? e.keyCode : e.charCode
if (unicode ==39)   {
    var value1 = document.form1.itemcode.value;
    location.href="biling.php?itmcde="+value1;
    //alert(unicode)
    var optionvalue1 = form1.optionlist.selectedIndex;
    var optionvalue2 = form1.optionlist.options[optionvalue1].text
    if( optionvalue2 == "set size"){ alert ("select a size"); }
}
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//this java script used to submit item name on -> arrow key press unicode value of that button is 39
function submitname(e){
var unicode=e.keyCode? e.keyCode : e.charCode
if (unicode ==39)   {
    var value1 = document.form1.itemname.value;
    location.href="biling.php?itmnam="+value1;
    //alert(unicode)
}
}
</script>
<? ///////////////////////////*********************************//////////////////////////////////////////////// ?>
<?php 
//when item code typed and pressed the -> arrow key, the itemcode field is submited to this form using get method
//below code grab that submited value, and retrive information on that itemcode 
if(isset($_GET['itmcde'])) {
    $itmcde =$_GET['itmcde'];
    $query = "SELECT *
                FROM `stock`
                WHERE Item_code = '{$itmcde}' 
                ";
$rs_result = mysql_query ($query); 
//if the item code is not in our database below if condition will give an error message and it will redirect the user to billing.php
if (mysql_num_rows($rs_result)==0){ ?>
                    <script type="text/javascript">
                    alert("This item code is not in oure data base")
                    location.href="biling.php";
                    </script>
                    <?php exit(); }
else {
while ($row = mysql_fetch_assoc($rs_result)) { 
$itemname=$row["Item_name"];
$expdate=$row["expier_date"];
}

//if the items expire date is passed or if it has only 3,2 or 1 day to expier belove code push a error message.
$ex_expdate = preg_replace('\'-\'', '', $expdate);
$today=Date("Ymd");
$moredate=$ex_expdate-Date("Ymd");
if($ex_expdate <= $today){ ?>
                    <script type="text/javascript">
                    alert("Item has Expired")
                    </script>
                    <?php ;}
if($moredate==3){ ?>
                    <script type="text/javascript">
                    alert("3 more days to expire")
                    </script>
                    <?php ;}
if($moredate==2){ ?>
                    <script type="text/javascript">
                    alert("2 more days to expire")
                    </script>
                    <?php ;}
if($moredate==1){ ?>
                    <script type="text/javascript">
                    alert("1 more days to expire")
                    </script>
                    <?php ;}
}
}
//////////////////////////////^^^^^^^^^^^^^^^^^^^^//////////////////////////////
//when item name typed and pressed the -> arrow key, the itemname field is submited to this form using get method
//below code grab that submited value, and retrive information on that itemname 
if(isset($_GET['itmnam'])) {
    $itmnam =$_GET['itmnam'];
    $query = "SELECT *
                FROM `stock`
                WHERE Item_name = '{$itmnam}' 
                ";
$rs_result = mysql_query ($query); 
//if the item code is not in our database below if condition will give an error message and it will redirect the user to billing.php
if (mysql_num_rows($rs_result)==0){ ?>
                    <script type="text/javascript">
                    alert("This item name is not in oure data base")
                    location.href="biling.php";
                    </script>
                    <?php exit(); }
else {
while ($row = mysql_fetch_assoc($rs_result)) { 
$itemcodename=$row["Item_code"];
$expdatename=$row["expier_date"];
}

//if the items expire date is passed or if it has only 3,2 or 1 day to expier belove code push a error message.
$ex_expdate = preg_replace('\'-\'', '', $expdatename);
$today=Date("Ymd");
$moredate=$ex_expdate-Date("Ymd");
if($ex_expdate <= $today){ ?>
                    <script type="text/javascript">
                    alert("Item has Expired")
                    </script>
                    <?php ;}
if($moredate==3){ ?>
                    <script type="text/javascript">
                    alert("3 more days to expire")
                    </script>
                    <?php ;}
if($moredate==2){ ?>
                    <script type="text/javascript">
                    alert("2 more days to expire")
                    </script>
                    <?php ;}
if($moredate==1){ ?>
                    <script type="text/javascript">
                    alert("1 more days to expire")
                    </script>
                    <?php ;}
}
}
////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////
?>
<script type="text/javascript">
var expdate = "<?= $expdate ?>";
</script>
<body>
<div id="wrap">
<div id="headertopic" class="mainheder">Accoutnig for Phamacy</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div id="mainmenue"> <?php  
                        //including the menu
                        include 'index.html' ;?> </div>
<?php
      //select a bill number form the database and increment it.    
      $data = mysql_query("SELECT * FROM billnumber ") ;
      $info = mysql_fetch_array( $data ); 
      $oldnumber = $info['bill_number'];
      $oldnumber= $oldnumber + 1;
      $Transaction_number = "PM". $oldnumber ;
      ?>
<div id="logdas">
 <p class="logdas">Logged in as :  <?php echo $user_name; ?></p>
 <p class="logdas"> Date : <?php echo date("Y-m-d") ?> </p>
 <p class="logdas"> Bill Number : <?php  echo $Transaction_number; ?></p>
</div>
<div id="pagetheam">Front-end Billing </div>
<div id="billingitems">
<form id="form1" name="form1" method="post" action="biling.php">
<input type="hidden" name="date" id="date" value=" <?php echo date("Y-m-d") ?> " />
<input type="hidden" name="billnmbr" id="billnmbr" value="<?php  echo $Transaction_number; ?>" />
<table width="731" height="224" border="1"  style="border:thin; border-color:#FFF;" >
<tr>
<td height="26" class="itemcode">Tablet/pack/ size </td>
<td><select name="optionlist"  onchange="handleselect(this.form)" id="optionlist">
     <option>set size</option>
     <option>pac.</option>
     <option>each.</option>
     <option>mg</option>
     <option>g</option>
     <option>ml</option>
     </select>
</td>
<td align="right" class="itemcode">&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td width="120" height="26" class="itemcode">Item Code</td>
<td width="144"><input type="text" name="itemcode" id="itemcode" tabindex="1"   value="<?php if(isset($_GET['itmcde'])) {echo $itmcde; }if(isset($_GET['itmnam'])) {echo $itemcodename; }?>" onKeyUp="submitthis(event)" /></td>
<td width="215" align="left" class="itemcode">&nbsp;</td>
<td width="222"><div id="packsize"></div>
<script>
//creating a text box when select mg/g/ml/l frm the drp dwn   
function handleselect(form1){
    var selIndex = form1.optionlist.selectedIndex;
    var selName = form1.optionlist.options[selIndex].text
    if(selName == "mg" || selName == "g") {
    //var yesitis = '<input type="text" name="size" id="size" />'   }
    //alert (yesitis);
    //document.getElementById('apDiv2').write(yesitis);
    var txt=document.getElementById("packsize");
    txt.innerHTML='<input type="text" name="size" id="size" />';
}
    }
</script>
</td>
</tr>
<tr>
<td height="26" class="itemcode">Item Name</td>
<td><input type="text" name="itemname" id="itemname" tabindex="2"  value="<?php if(isset($_GET['itmcde'])) { echo $itemname  ;}if(isset($_GET['itmnam'])) { echo $itmnam  ;}   ?>"onKeyUp="submitname(event)" /></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td height="26" class="itemcode">Expier Date</td>
<td><input type="text" name="exdate" id="exdate"  value="<?php if(isset($_GET['itmcde'])) { echo $expdate;}if(isset($_GET['itmnam'])) { echo $expdatename ;}?>"  /></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td height="23" class="itemcode">Item Price</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td height="26" colspan="2"><span class="itemcode">Each :&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" name="eachprice" id="eachprice" /></td>
<td><span class="itemcode">Qty :</span><input type="text" name="qty" id="qty" tabindex="3" /></td>
<td><span class="itemcode">Total :</span><input type="text" name="itmtotal" id="itmtotal" /></td>
</tr>
<tr>
<td height="23" colspan="4">&nbsp;</td>
</tr>
<tr>
<td height="28"><input name="Submit" type="submit" id="Submit" value="Print" /></td>
<td height="28"><input type="submit" name="adnother" id="adnother" value="add another item" tabindex="4" /></form></td>
<td><input type="button"  name="rmvitm" id="rmvitm" value="Remove Itm" /></td>
<td>
<form id="form2" name="form2" method="post" action="biling.php">
<input type="submit"  name="cancelbill" id="cancelbill" value="Cancell Bill" />
</form></td>
</tr>
</table>

</div>
<div id="printlayout">
<table width="211" border="0">
<tr>
<td colspan="4" align="center" class="printlayoutshopname"> Yasitha Pharacy <br /> </span>
<span class="billaddrs">22,Colombathanthiri Mawatha, Ethulkotte, Kotte.</span></td>
</tr>
<tr>
<td colspan="2" class="bilnmbr">Bill NO:<?php  echo $Transaction_number; ?></td>
<td width="39" class="bilnmbr">&nbsp;</td>
<td width="67" class="bilnmbr">Date:<?php echo date("Y-m-d") ?></td>
</tr>
<tr>
<td width="42">&nbsp;</td>
<td width="45" class="bilnmbr">Each</td>
<td class="bilnmbr">Qty.</td>
<td class="bilnmbr">Total</td>
</tr>
<?php 
if(isset($_POST['adnother'])) {
//taking items in the bill to variables if the bill_array is not empty.
$cartOutput="";
if(!isset($_SESSION["bill_array"]) || count($_SESSION["bill_array"]) < 1 ) { //if not yet any item added to the session array , do nothing. 
}
else {
//else if there is any item on session array take its value and print
$i = 0;
foreach ($_SESSION["bill_array"]as $each_item ): ?>
<tr>
<td colspan="4" height="2" class="bilnmbr"><?php echo $each_item['itemcode']."-".$each_item['itemname'] ; ?></td>
</tr>
<tr>
<td>&nbsp;</td>
<td class="bilnmbr"><?php echo $each_item['eachprice']; ?></td>
<td class="bilnmbr"><?php echo $each_item['qty']; ?></td>
<td class="bilnmbr"><?php echo $each_item['itmtotal']; ?></td>
</tr>
<?php endforeach; 
}
}
////////////////////////////////////////
?>   
</table>
<p class="bilnmbr">User ID:<?php echo $user_name; ?></p>
</div>

<div id="copyright2">
<p class="copyright2">Version- alpha release 0.0.1<br />
<sup> &copy; </sup> 2012 3Links ITS <sup>&reg;</sup>- All   Rights Reserved.<br />
3Links ITS <sup>&reg;</sup><br />
22,Colombathanthiri Mawatha,<br />
Ethulkotte Kotte    <br />
Tel : 011-2871106<br />
Mobile :0715716890  </p>
</div>
<?php //closing div for wrapper?></div> 

</body>
</html> 
```

这是我的 clearsession.php 页面

```
<?php 
session_start();
session_unset();
session_destroy();
$_SESSION["bill_array"] = array();
header('location:biling.php') ;
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-25T13:58:19.503

我刚刚遇到了非常相似的问题，经过大量的头部撞击后，我找到了解决方案。我把它贴在这里，所以它可以帮助别人。我的问题；示例代码

```
//set my variable
$_SESSION['variable'] = array(1,2);
// unset my variable
unset($_SESSION['variable']);
// check variable isset
if ( isset($_SESSION['variable']) ) {
   echo "isset";
} else {
    echo "not set";
} 
```

对于 IE、Chrome、Safari，所有浏览器都报告“未设置”，而 Firefox 报告“isset”。原来我的域上有 2 个 PHPSESSID cookie；例如

*   域名.co.uk
*   www.domain.co.uk

我删除了非 www cookie（因为我使用的是 www），我立即得到了与其他浏览器相同的结果，并且符合预期。解决方案：确保只使用一个 PHPSESSID cookie。

我希望这对其他人有帮助。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-18T06:16:18.963

您应该取消设置单个变量以取消设置整个数组。

# html - 更改 iframe 上的鼠标光标

> ID：11535117
> 
> 赞同：4
> 
> 时间：2012-07-18T06:01:39.430
> 
> 标签：html, css

我想将鼠标光标从手取消到默认（白色箭头出现的地方）。我有一个简单的 iframe ..但我认为 iframe 中有一个链接导致光标变为指针/手..我该如何改变这种行为？

这不起作用：

```
iframe{
        cursor:default; 
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-18T06:08:53.660

如果您可以访问 iframe src 的 CSS。添加 -

```
a{ cursor: default; } //in iframe src CSS 
```

如果不是，如果 iframe 在同一个域中，您可以使用 jquery 执行此操作 -

```
$("#iframe").contents().find("a").css('cursor', 'default'); 
```

**编辑：** 如果它是类似 facebook 的按钮，那么检查这个 facebook 开发者门户，它为您提供了设置其组件样式的选项 - [http://developers.facebook.com/docs/reference/plugins/like/](http://developers.facebook.com/docs/reference/plugins/like/)

# ruby-on-rails - 保存 mongoid 模型

> ID：11535123
> 
> 赞同：1
> 
> 时间：2012-07-18T06:02:05.553
> 
> 标签：ruby-on-rails, mongodb, mongoid

我有以下 mongoid 模型：

```
class Exercise
  include Mongoid::Document
  field :name, :type => String
  field :description, :type => String

  belongs_to :group

  validates_presence_of :name, :description
end 
```

我想通过我的控制器持久化一个模型：

```
class ExercisesController < ApplicationController
  respond_to :json

  def create
    @exercise = Exercise.create(params[:exercise])
    @exercise.save!
    respond_with @exercise
  end
end 
```

当我传递以下 json 时：

```
"{\"_id\":\"50064f2e26a31829ca000001\",\"description\":\"Do something\",\"group_id\":\"4fbc6f5a26a3181742000004\",\"name\":\"Preacher curls\"}" 
```

我收到此错误：

> 失败/错误：post :create, :exercise => exercise.to_json NoMethodError: undefined method `reject' for #

谁能看到我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:27:29.923

像这样通过

```
params[:excercise] = JSON.parse("{\"_id\":\"50064f2e26a31829ca000001\",\"description\":\"Do something\",\"group_id\":\"4fbc6f5a26a3181742000004\",\"name\":\"Preacher curls\"}") 
```

# c++ - 在 C/C++ 中自动调用函数

> ID：11535124
> 
> 赞同：3
> 
> 时间：2012-07-18T06:02:19.703
> 
> 标签：c++, c

我的主程序读取配置文件，配置文件告诉它要运行哪些功能。这些函数在一个单独的文件中，目前当我创建一个新函数时，我必须在主程序中添加函数调用（所以当配置文件指示它时可以调用它）

我的问题是，有什么方法可以让我不理会主程序，当我添加一个新函数时，可以通过某种数组调用它。

示例（请耐心等待，我不太确定你能做到这一点）。

我有一个数组（或枚举），

```
char functions [3] = ["hello()","run()","find()"]; 
```

当我读取配置文件并显示运行 hello() 时，我可以使用数组运行它吗（我可以找到数组中是否存在测试）

我也可以轻松地将新函数添加到数组中。

注意：我知道它不能用数组来完成，所以只是一个例子

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-18T06:06:25.097

我想是这样的。

```
#include <functional>
#include <map>
#include <iostream>
#include <string>

void hello()
{
   std::cout << "Hello" << std::endl;
}

void what()
{
   std::cout << "What" << std::endl;
}

int main()
{
   std::map<std::string, std::function<void()>> functions = 
   {
      std::make_pair("hello", hello),
      std::make_pair("what", what)
   };
   functions["hello"]();
} 
```

[http://liveworkspace.org/code/49685630531cd6284de6eed9b10e0870](http://liveworkspace.org/code/49685630531cd6284de6eed9b10e0870)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-18T06:18:30.960

从您的 main 公开一个可以`{ function_name, function_pointer}`在地图中注册新元组的函数（如其他答案所建议的那样）。

通常：

```
// main.h
typedef void (*my_function)(void *);
int register_function(const std::string &name, my_function function);

// main.c
int register_function(const std::string &name, my_function function)
{
  static std::map<std::string, my_function> s_functions;
  s_functions[name] = function;
  return 0;
}

int main()
{
  for( std::map<std::string, my_function>::const_iterator i=s_functions.begin();
       i != s_functions.end();
       ++i)
  {
    if( i->second )
    {
      // excecute each function that was registered
      (my_function)(i->second)(NULL);
    }
  }

  // another possibility: execute only the one you know the name of:
  std::string function_name = "hello";
  std::map<std::string, my_function>::const_iterator found = s_functions.find(function_name);
  if( found != s_functions.end() )
  {
    // found the function we have to run, do it
    (my_function)(found->second)(NULL);
  }
} 
```

现在，在实现要运行的功能的每个 auther 源文件中，执行以下操作：

```
// hello.c
#include "main.h"

void my_hello_function(void *)
{
  // your code
}

static int s_hello = register_function("hello", &my_hello); 
```

这意味着每次您使用这种语句添加新的源文件时，它都会自动添加到您可以执行的函数列表中。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-18T06:05:16.350

使用指向函数的指针来完成它。

例如（我不确定语法）：

```
map<string,void(*)()> funcs; 
```

然后做`funcs[name]();`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-18T06:13:51.273

查看[函数指针](http://www.newty.de/fpt/intro.html#what)（也称为“函子”）。您可以有条件地调用对您选择的各种函数之一的引用，而不是调用特定函数。[此处](http://www.newty.de/fpt/index.html)的教程提供了对该主题的详细介绍。

# ruby - Ruby 语言中的 C 'for' 循环

> ID：11535126
> 
> 赞同：2
> 
> 时间：2012-07-18T06:02:28.903
> 
> 标签：ruby

如何以 ruby​​sh 方式表达下一个 for 循环？

```
for (r = 1; r < R; r++) {
    for (i = 0; i < 4; i++) {
            #do something
            }
} 
```

我想用优雅的 ruby​​ 语法来表达上面的代码。提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T06:08:12.070

```
1.upto(R-1) { |r|
   4.times {|i| 
      # Do something
   }
} 
```

[红宝石小提琴](http://rubyfiddle.com/riddles/cb45f/1)。

这是使用`Integer`'s[`upto`](http://www.ruby-doc.org/core-1.9.3/Integer.html#method-i-upto)和[`times`](http://www.ruby-doc.org/core-1.9.3/Integer.html#method-i-times)方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:10:31.377

默认情况下，我在 Ruby 中的写法是这样的：

```
for r in 1..(R-1) do
  for i in 0..3 do
    # Do something
  end
end 
```

但更好的方法是利用@PedroNascimento 在他的回答中指出的范围功能，使用三个点而不是两个点，以便将最后一项留在范围之外：

```
for r in 1...R do
  for i in 0...4 do
    # Do something
  end
end 
```

这既更好看，也更清楚地表达了代码的含义。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-18T06:28:13.443

只是为了让事情更漂亮：范围也可以有三个点，不包括最后一个数字。因此，如果这样写，代码会表现得更紧密：

```
for r in 1...R do
  for i in 0...4 do
    # Do something
  end
end 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T06:05:22.783

```
 for r in 1..R-1
       for i on 0..3
          do something
       end
    end 
```

[在这里](http://www.tutorialspoint.com/ruby/ruby_loops.htm)你可以找到更多关于 Ruby 的语法帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-18T06:21:10.503

只是另一个使用[Range](http://www.ruby-doc.org/core-1.9.3/Range.html#method-i-each)的答案。

```
r = 5 #
(1..r-1).each do|i|
  (1..3).each do |j|
       puts "i => #{i} , j => #{j}"
   end
end 
```

这个版本的灵感来自@Pedro Nascimento 的回答。

```
r = 5 #
(1...r).each do|i|
  (1...3).each do |j|
       puts "i => #{i} , j => #{j}"
   end
end 
```

# archiva - 在档案中检查 Maven 远程存储库的健康状态

> ID：11535129
> 
> 赞同：0
> 
> 时间：2012-07-18T06:03:00.637
> 
> 标签：archiva

我使用的是 Nexus OSS。由于问题，我开始使用 Archiva。存档很好。但我不知道如何检查 Maven 远程存储库的健康状况。即档案是否能够连接到配置的远程存储库。

在 Nexus 中很容易。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T21:13:53.807

现在不可能，我同意这可能是一个不错的功能！我不记得它是否已经记录在这里[http://jira.codehaus.org/browse/MRM](http://jira.codehaus.org/browse/MRM)？如果没有，您可以为此添加一个 jira 条目。

## 谢谢！

奥利维尔

# ios - 如何在整个屏幕上创建透明覆盖，包括活动键盘

> ID：11535130
> 
> 赞同：5
> 
> 时间：2012-07-18T06:03:06.547
> 
> 标签：ios, objective-c, uiview, uiwindow, messageui

我已经能够在所有其他视图（包括键盘）之上放置一个半透明视图，以使用以下代码为屏幕着色：

```
int count = [[[UIApplication sharedApplication]windows]count];
[[[UIApplication sharedApplication] windows] objectAtIndex:count-1]addSubview:tintView]; 
```

现在我遇到了一个问题。我的应用程序使用 MessageUI.framework 来显示一个 MFMessageComposeViewController，它允许用户发送文本消息。这是我遇到问题的地方。

当我在这种情况下执行上述代码时（显示消息视图时），它可以正常工作。问题是，用户不能再与它下面的消息视图交互。我一直在我的 tintView 上将 userinteractionenabled 设置为 NO，但在这种情况下，它对问题没有帮助。

但是，将 tint view hidden 设置为 YES 确实允许交互。通过更改此属性可以与消息视图进行交互。不过，显然我希望 tintView 可见。

我在最顶层的 UIWindow 中对视图进行 NSLogged 处理，发现 UIRemoteView（我找不到任何相关信息，但似乎是在 MessageUI.framework 中显示视图的内容）是当 tintView 位于其上方时未接收到触摸的视图。

我如何允许与 MFMessageComposeViewController 交互，即使它上面显示了另一个 UIView。Userinteractionenabled 在这种情况下不起作用，但是将视图设置为隐藏（这不是我想要的）可以。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-18T06:14:27.293

我认为您可以`-hitTest:`在色调视图中覆盖以返回`nil`

但是：将子视图插入到您不“拥有”的窗口中似乎是一种不好的做法……您最好为此创建自己的窗口。请问您为什么要为键盘着色？

编辑：

我写了一些代码来演示这个工作：

[https://gist.github.com/3139219](https://gist.github.com/3139219)

编辑 2：这仅适用于键盘，但对于模式视图控制器会中断，所以回到绘图板.. 抱歉！

# asp.net - 在特定国家/地区内进行 Google 位置搜索，而不在 asp.net 文本框中显示地图

> ID：11535131
> 
> 赞同：0
> 
> 时间：2012-07-18T06:03:10.473
> 
> 标签：asp.net, google-maps, google-maps-api-3

我想使用谷歌位置搜索 api 在我的 c# asp.net 应用程序中搜索我的国家（孟加拉国）位置而不显示地图。请提供有关谷歌位置搜索 api 的详细信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:30:58.167

嘿，兄弟，您可以按如下方式使用它：在 aspx 页面中，由于标题部分

```
<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyAaczGkYJhz_uP1Xo03sWxYnBB7R1NXzZE&sensor=false&libraries=places&language=eng&types=establishment"
    type="text/javascript"></script>

function SearchAddressByGoogle() {

        var options = {
            // types: ['(cities)'],
            componentRestrictions: { country: "bd" }//Here bd for bangladesh location only
        };

        var input = document.getElementById('Your_Search_TextBox_Name');
        var autocomplete = new google.maps.places.Autocomplete(input, options);
    } 
```

在您的 .cs 文件中

```
if (!IsPostBack)
    {
      Your_Search_TextBox_Name.Attributes.Add("onkeyUp", "SearchAddressByGoogle();");
    } 
```

或者这是另一个过程

```
<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyAaczGkYJhz_uP1Xo03sWxYnBB7R1NXzZE&sensor=false&libraries=places&language=eng&types=establishment"

<script type="text/javascript">
      function initialize() {

        var options = {
            // types: ['(cities)'],
            componentRestrictions: { country: "bd" }
        };

        var input = document.getElementById('Your_Search_TextBox_Name');
        var autocomplete = new google.maps.places.Autocomplete(input, options);
    }

    google.maps.event.addDomListener(window, 'load', initialize);
</script> 
```

有关 google map api 的更多详细信息，请点击以下链接：[单击此处](https://developers.google.com/places/documentation/#PlaceSearchRequests)。

对于 google api 密钥，请参阅链接[单击以获取密钥详细信息](https://developers.google.com/maps/documentation/android/mapkey)

# localization - WebSphere Portal Server 正在控制台上输出本地化消息。如何改变这个？

> ID：11535132
> 
> 赞同：0
> 
> 时间：2012-07-18T06:03:17.663
> 
> 标签：localization, message, websphere-portal

我正在使用 RAD 7.5.0 在 IBM WebSphere Portal Server 6.1.0 上开发 portlet。当我在 RAD 中启动门户服务器时，它会将消息中的一些问号输出到控制台，例如

```
[7/18/12 11:15:36:329 CST] 00000014 SchedulerImpl I   SCHD0032I: Scheduler wps/Scheduler ??????
[7/18/12 11:15:37:815 CST] 00000014 InternalGener I   DSRA8203I: Database ????Apache Derby
[7/18/12 11:15:37:831 CST] 00000014 InternalGener I   DSRA8204I: Database ?????10.1.3.3 
```

我在另一台机器上检查，正常的日志信息应该是：

```
[7/17/12 21:03:21:710 CDT] 0000001a SchedulerImpl I   SCHD0032I: The Scheduler wps/Scheduler is initializing.
[7/17/12 21:03:25:382 CDT] 0000001a InternalGener I   DSRA8203I: Database product name : Apache Derby
[7/17/12 21:03:25:382 CDT] 0000001a InternalGener I   DSRA8204I: Database product version : 10.1.3.3 
```

我的电脑的语言设置为中文，所以我想它正在尝试输出一些中文本地化消息。但即使我将语言设置更改为英语，消息也没有改变。

我还尝试了[Websphere Application Server 6.1 (localized) 中的解决方案：Override locale for console messages](https://stackoverflow.com/questions/5666916/websphere-application-server-6-1-localized-override-locale-for-console-messag) 它并没有解决我的问题。

我还注意到日志消息的前半部分以英文正常输出，而另一部分似乎与服务有关则异常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T02:09:57.770

通过将门户服务器设置更改为英语解决了此问题：
管理 -> 门户设置 -> 全局设置 -> 默认门户语言

# jquery - 通过 id 而不是 name 使用 getelement

> ID：11535134
> 
> 赞同：0
> 
> 时间：2012-07-18T06:03:25.063
> 
> 标签：jquery

一直在尝试看看这是多么灵活。[http://jsfiddle.net/PJSha/4/](http://jsfiddle.net/PJSha/4/)我已将 get 元素从 Name 更改为 ClassName 两者都有效，但当我尝试使用 Id 实现它时不起作用...是否有原因

代码：

```
<link rel="stylesheet" href="http://code.jquery.com/ui/1.8.21/themes/base/jquery-ui.css" type="text/css" media="all" />

<input type="text" id="foo" class="bar" name="domain">
<div onclick="check_domain_input()">Click</div>

<div id="dialog" title="Attention!" style="display:none">
    Please enter a domain name to search for.
</div>

<script>
    function check_domain_input()  {        
        var domain_val = document.getElementById('foo');

        if (domain_val[0].value.length > 0) {
            return true;
        }

        $( "#dialog" ).dialog();

        return false;
    }
</script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T06:04:58.433

`getElementsById`应该是`getElementById`（没有`s`在之后`Element`）。它只返回一个元素的引用，或者`null`.

因为它返回一个引用，而不是 a `NodeList`，所以当您访问它的属性`[0]`时，它不是必需的。`value`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:10:55.760

`Id`s`explicitly`在您使用 ids 两次的页面中使用，它的 override 尝试使用不同的 ids 并让我知道它是否修复。

```
<input type="text" id="foo" class="bar" name="domain">
<div id="foo" onclick="check_domain_input()">Click</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:06:30.510

要求您获取的元素也应使用`id="foo"`

请参考这个链接..一个[实际的例子](http://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_doc_getelementbyid)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T06:08:23.430

或者通过这个，

```
onclick="check_domain_input(this)" 
```

然后获取 id：

```
function check_domain_input(t) { alert(t.id); ... 
```

# wcf-ria-services - WCF RIA 服务 - 使用参数查询

> ID：11535139
> 
> 赞同：1
> 
> 时间：2012-07-18T06:04:14.317
> 
> 标签：wcf-ria-services

我正在通过 WCF RIA 服务处理我的数据。我通过 RIA 查询公开我的数据，它工作正常。现在我需要获取参数化查询方法。我在服务器端的查询方法中添加了参数：

```
public IQueryable<User> GetUsers(string param1)
{
    return _dataContext.Users;
} 
```

..并在客户端传递参数值：

```
var query = _context.GetUsersQuery("a");
_context.Load(query, LoadBehavior.MergeIntoCurrent,
                            (LoadOperation lo) =>
                            {
                                if (lo.HasError == false)
                                {
                                    ResultList.ItemsSource = lo.Entities;
                                }

                            }, null); 
```

结果，当我尝试获取数据时，我在客户端收到 NullReferenceExeption。它是 WCF RIA 服务的已知错误还是我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T22:31:40.620

看起来它是空的 ResultList - 确保在运行查询之前对其进行初始化

# cloud-foundry - 向 CloudFoundry 添加新的运行时

> ID：11535141
> 
> 赞同：0
> 
> 时间：2012-07-18T06:04:29.467
> 
> 标签：cloud-foundry

我目前正在评估向 CloudFoundry PaaS 平台添加新运行时（例如 Perl 运行时）的可能性。

*   是否可以向**CLOUDFOUNDRY PAAS PLATFORM (CloudFoundry.com) 添加新的运行时（例如 Perl 运行时）**？如果是，请分享一些相关细节......

*   是否可以向**PRIVATE CLOUDFOUNDRY INSTANCE**添加新的运行时（例如 Perl 运行时） ？如果是，请分享一些相关细节......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T11:01:16.703

1.  您可以将新的运行时添加到您自己的私有云代工厂实例中。[这](http://programminggems.wordpress.com/2012/02/07/adding-a-runtime-and-framework-to-the-new-cloud-foundry/)是一个很好的起点。

2.  您可以在本地服务器上运行此实例，也可以在[AWS](http://www.cloudsoftcorp.com/blog/first-steps-with-cloud-foundry-on-amazon-ec2/)或 Rackspace 上的远程实例上运行。

# ios - 在 iOS 设备上更新现有 MDM 配置文件中的 ServerURL

> ID：11535145
> 
> 赞同：3
> 
> 时间：2012-07-18T06:04:36.990
> 
> 标签：ios, mobile, profile, mdm

我正在编写一个 iOS MDM 服务器，并希望在已注册的 iOS 设备中更新 MDM 有效负载中的 ServerURL 属性。

我可以在不先删除 MDM 配置文件的情况下更新它吗？

当我尝试在现有配置文件上再次安装配置文件时，我收到错误：4001 - 配置文件无法安装 4015 - 在安装此配置文件之前删除配置文件“XXX”。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-02T16:19:54.790

您收到 4001 错误是因为您尝试更改服务器 URL。

只有在以下情况下，MDM 服务器才能替换包含 MDM 有效负载的配置文件：

*   新配置文件还包含一个 MDM 有效负载，并且
*   新有效载荷中服务器的 URL 与旧有效载荷相同，并且
*   题目相同，而且
*   新的有效载荷不包含新的访问权限

# iphone - UIpopoverviewcontroller 单击按钮隐藏 popoverview 并从父视图打开 imagepicker

> ID：11535153
> 
> 赞同：2
> 
> 时间：2012-07-18T06:05:00.957
> 
> 标签：iphone, ios, ios4, xcode4.2

大家好，我是新的 iphone 开发人员，

打开 uiimagepickercontroller 时出现问题。

我可以选择拍照并在 popoverview 中打开图库以拍摄照片并打开相机，此时隐藏 popoverview 并打开图库隐藏弹出框并从父视图控制器打开图像选择器图像选择器不应从弹出视图控制器打开。

请分享你的想法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:15:07.817

// 用于打开相机

```
-(void)btnCameraClicked {
    if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) {
        imgPicker.sourceType = UIImagePickerControllerSourceTypeCamera;
        [self presentModalViewController:imgPicker animated:YES];
    }
    else {
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"" message:@"Camera is not Available" delegate:self cancelButtonTitle:nil otherButtonTitles:@"Ok",nil];
        [alert show];
        [alert release];
    }
} 
```

// 用于打开图像选择器控制器

```
-(void)btnGalleryClicked {
    if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypePhotoLibrary]) {
        imgPicker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;
        [self presentModalViewController:imgPicker animated:YES];
    }
    else {
        UIAlertView *alert = [[UIAlertView alloc]initWithTitle:nil message:@"Photos are not available" delegate:self cancelButtonTitle:nil otherButtonTitles:@"Ok",nil];
        [alert show];
        [alert release];
    }
} 
```

在此之后，您可以使用 ImagePicking 方法，例如：

```
- (void)imagePickerControllerDidCancel:(UIImagePickerController *)picker

- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-18T06:48:01.467

您可以使用 UIPopoverControllerDelegate 方法

```
-(void)popoverControllerDidDismissPopover:(UIPopoverController *)popoverController; 
```

# types - 为 D 中的所有类型添加用户定义的属性

> ID：11535160
> 
> 赞同：2
> 
> 时间：2012-07-18T06:05:32.197
> 
> 标签：types, casting, d, alias

我将 Derelict 用于我的 OpenGL 工作，并且我厌倦了一直使用`cast(GLvoid*) Vec3.sizeof`glVertexAttribPointer 之类的函数。所以我想我会做一个功能，`glsizeof`

```
import std.stdio;

alias void GLvoid;

struct Vec3 {
    float x, y, z;
}

GLvoid* glsizeof(T)(T t) {
    return cast(GLvoid*) t.sizeof;
}

void main() {

    Vec3 vec = { x: 2.5, y: 4.8, z: 3.2 };

    writeln(cast(GLvoid*) vec.sizeof);  // prints 'C'
    writeln(cast(GLvoid*) Vec3.sizeof); // prints 'C'
    writeln(cast(GLvoid*) int.sizeof);  // prints '4'

    // Now to try using glsizeof :)

    GLvoid* size_vec  = vec.glsizeof;   // call glsizeof using a uniform function call
    GLvoid* size_vec3 = Vec3.glsizeof;
    GLvoid* size_int  = int.glsizeof;

    writeln(size_vec);  // should print 'C'
    writeln(size_vec3); // should print 'C'
    writeln(size_int);  // should print '4'
} 
```

我收到此错误：

```
test.d(25): Error: no property 'glsizeof' for type 'Vec3'
test.d(26): Error: no property 'glsizeof' for type 'int' 
```

有没有办法向类型添加属性？或者我可以用另一种方式做到这一点，例如使用别名？或者我想做的事情是不可能的？

这是DPaste 上[的代码](http://dpaste.dzfl.pl/edit/5e7eb3f5)。

*编辑：在我的预期输出中添加了更多细节。*

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-18T06:43:14.423

简短的回答：没有。你不能将类型传递给函数，只能传递模板，如果你想给某个东西添加属性，你需要声明一个属性函数。

但是，由于您*可以*将类型传递给模板，因此您可以声明

```
template glsizeof(T)
{
    enum glsizeof = cast(GLvoid*)T.sizeof;
} 
```

然后你可以做

```
GLvoid* size_vec3 = glsizeof!Vec3;
GLvoid* size_int  = glsizeof!int; 
```

所以，只要你对使用语法不挑剔`Type.glsizeof`，你就有一个解决方案。如果您*对此很*挑剔，那么对不起，但您不走运。您可以为您定义`glsizeof`的每种类型定义。例如

```
struct S
{
    enum glsizeof = cast(GLvoid*)S.sizeof;
} 
```

但这不适用于您未定义的任何类型，包括内置类型。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-18T06:36:24.513

UFCS 当前无法添加静态方法。请参阅D 新闻组上关于它的[对话。](http://forum.dlang.org/thread/jrc1bm%241v2l%241@digitalmars.com)

# c - 如何编辑proc文件？

> ID：11535161
> 
> 赞同：0
> 
> 时间：2012-07-18T06:05:32.563
> 
> 标签：c, linux, network-programming, linux-kernel, proc

我想在正在运行的内核中间编辑 proc 文件 /proc/sys/net/ipv6/route/gc_interval 的值。我想编辑这个 proc 文件值相对于另一个值的值。

根据文件 net/ipv6/ndisc.c 中函数 ndisc_router_discovery 的生命周期值，我想在 1 到 30 之间切换 gc_intervel 的值。我在 google 中搜索但只能找到创建一个新的 proc 条目。但是这个文件已经存在。请告诉我如何即时更改此文件的值。

编辑：我想通过编辑内核代码来做到这一点。我想在 ndisc.c 中添加一些额外的代码，根据生命周期更改 gc_interval 值

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T07:46:39.980

proc 条目`sys/net/ipv6/route/gc_interval`定义在`net/ipv6/route.c`：

```
{
    .procname   =   "gc_interval",
    .data       =   &init_net.ipv6.sysctl.ip6_rt_gc_interval,
    .maxlen     =   sizeof(int),
    .mode       =   0644,
    .proc_handler   =   proc_dointvec_jiffies,
} 
```

因此，该`gc_interval`文件是整数变量的用户级表示， `init_net.ipv6.sysctl.ip6_rt_gc_interval`具有 jiffies 到秒的转换（变量存储在 jiffies 中，而 proc 条目以秒为单位处理值）

如果您需要以编程方式更改内核中的该值，则只需更改该变量：

```
...
init_net.ipv6.sysctl.ip6_rt_gc_interval = new_gc_interval_sec * HZ;
... 
```

*笔记：*

*   *内核参考基于 Linux 3.4.5 源*
*   `<net/net_namespace.h>` *应包含在访问* `init_net` *结构中*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T07:20:42.093

使用 sysctl 命令`sudo sysctl -w net.ipv6.route.gc_interval=20`

如果您想将此值永久附加`net.ipv6.route.gc_interval=20`到`/etc/sysctl.conf`文件

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T08:28:25.903

要不就：

```
echo 20 > /proc/sys/net/ipv6/route/gc_interval 
```

/etc/sysctl.conf 允许在系统启动时执行此操作。

# spring - 如何在不使用注释的情况下获取 Spring MVC @PathVariable？

> ID：11535166
> 
> 赞同：0
> 
> 时间：2012-07-18T06:06:16.580
> 
> 标签：spring, spring-mvc

给定如下所示的 spring mvc 方法。

```
@RequestMapping(value="/owners/{ownerId}/pets/{petId}/edit")
public String processSubmit(@PathVariable("ownerId", int ownerId, 
                            @PathVariable("petId") int petid) {

} 
```

是否有某种方法可以编写该方法，以便将所有 URI 模板变量作为映射传递给处理程序？类似的东西？

```
@RequestMapping(value="/owners/{ownerId}/pets/{petId}/edit")
public String processSubmit(Map<String,Object> allPathVariables) {
     Integer ownerId = allPathVariables.get("ownerId");
     Integer petId = allPathVariables.get("petId"); 
} 
```

有没有办法将所有 URI 模板放在传递给处理程序方法的 Map 中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:17:39.627

看起来这不能用 Spring MVC 3.1 完成，在 Spring MVC 3.2 上标记为已修复的 Spring JIRA 上有一个问题[https://jira.springsource.org/browse/SPR-9289](https://jira.springsource.org/browse/SPR-9289)

# c# - 查询可用域列表，环境有多个 NIC 卡用于两个不同的域

> ID：11535168
> 
> 赞同：0
> 
> 时间：2012-07-18T06:06:24.363
> 
> 标签：c#, .net, ldap, directoryentry

我正在使用 LDAP 来查询可用域的列表。当我在有一张网卡可用并且成功查询域列表的机器上运行它时，我的逻辑工作正常，但是当我在有多个网卡的机器上运行它时，即一个用于域 A，另一个用于域 B，我得到异常原因很简单，即 DirectoryEntry() 绑定失败。

***我只需要为此使用 LDAP 提供程序。***

下面是代码片段：

```
using (DirectoryEntry RootDSE = new DirectoryEntry("LDAP://rootDSE"))
    {
        // Retrieve the Configuration Naming Context from RootDSE
        string configNC = RootDSE.Properties["configurationNamingContext"].Value.ToString();

        // Connect to the Configuration Naming Context
        using (DirectoryEntry configSearchRoot = new DirectoryEntry("LDAP://" + configNC))
        {
            // Search for all partitions where the NetBIOSName is set.
            using (DirectorySearcher configSearch = new DirectorySearcher(configSearchRoot))
            {
                configSearch.Filter = ("(NETBIOSName=*)");

                // Configure search to return dnsroot and ncname attributes
                configSearch.PropertiesToLoad.Add("dnsroot");
                configSearch.PropertiesToLoad.Add("ncname");
                using (SearchResultCollection forestPartitionList = configSearch.FindAll())
                { 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-26T16:00:52.670

当使用没有服务器或域的 LDAP 绑定字符串时，例如`LDAP://rootDSE`，默认域将是计算机加入的域。如果计算机未加入域，则绑定将失败（您还需要提供用户名和密码）。运行应用程序的用户，或网站/服务的线程，或绑定期间指定的用户，必须能够在目标域上读取，否则绑定将失败。

如果这些都不能解决您的问题，那么您需要提供有关这两个域的更多信息。例如，他们是否在同一个森林中？

# ruby-on-rails-3 - 有没有办法在黄瓜测试中测试 cookie 过期？

> ID：11535173
> 
> 赞同：2
> 
> 时间：2012-07-18T06:06:36.873
> 
> 标签：ruby-on-rails-3, testing, cucumber, capybara, timecop

我想在我的网站上设置一个“记住我”的 cookie，有效期为 2 周而不是永久，并想对此进行测试。

到目前为止，我在这方面的尝试没有成功。

这是我的黄瓜场景；

```
Scenario: A user logs in with the remember me checkbox ticked and then remains inactive for more than 2 weeks
    Given I am a registered user
    When I log in with the remember me checkbox ticked
    And more than 2 weeks passes
    And I visit the dashboard page
    Then I should be logged out 
```

我对第三步（重要的一步）的步骤定义如下

```
When /^more than (\d+) weeks passes with no activity$/ do |num|
  Timecop.freeze(Time.now + num.to_i.weeks + 1.day)
end 
```

为没有“记住我”的用户进行类似的会话到期测试工作得很好，但这取决于我的用户表中的 last_request_at 列。此测试取决于浏览器（在本例中为 Capybara）使我的 auth_token cookie 过期。有没有办法做这个测试？

# r - R - 将许多 1D 格式的时间序列转换为 3D 数组，每个时间序列都标记有两个标签

> ID：11535175
> 
> 赞同：2
> 
> 时间：2012-07-18T06:06:39.450
> 
> 标签：r

我有一个包含许多时间序列数据的一维 csv，每个时间序列都标有两个标签。

将文件读入 R 后，我应该使用哪些关键函数将数据快速转换为 3D 矩阵？

数据格式如下：

```
Date, Price, Stock Ticker, Country
1/1/2012, 98, ABC.US, US
1/2/2012, 100, ABC.US, US
.
.
.
1/1/2012, 36, XYZ.US, US
1/2/2012, 34, XYZ.US, US
.
.
.
.
1/1/2012, 78, MNO.LN, UK
1/2/2012, 75, MNO.LN, UK
.
. 
```

我想将此表转换为具有日期、股票代码和国家/地区维度的 3D 数组：

```
3DTable[Date,Ticker,Country] 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T08:22:17.267

假设@sebastian-c 正确解释了您的问题，这是基本 R 中的一条线，可以让您到达那里：

```
tapply(x$Price, x[, -2], c)
# , , Country = UK
# 
#           Stock.Ticker
# Date       ABC.US MNO.LN XYZ.US
#   1/1/2012     NA     78     NA
#   1/2/2012     NA     75     NA
# 
# , , Country = US
# 
#           Stock.Ticker
# Date       ABC.US MNO.LN XYZ.US
#   1/1/2012     98     NA     36
#   1/2/2012    100     NA     34 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:56:49.700

我想我有你想要的答案。

创建数据框

```
x <- data.frame(Date=rep(c("1/1/2012", "1/2/2012"), 3), 
  Price=c(98, 100, 36, 34, 78, 75),
  "Stock Ticker"=rep(c("ABC.US", "XYZ.US", "MNO.LN"), each=2), 
  Country=rep(c("US", "US", "UK"), each=2)) 
```

创建所有可能选项的集合

```
all.opts <- expand.grid(Date=levels(x$Date), 
  Stock.Ticker=levels(x$Stock.Ticker), 
  Country=levels(x$Country)) 
```

将它与数据连接起来（base R 中可能有一种方法，但我不知道）

```
library(plyr)
x2 <- join(all.opts, x) 
```

制作数组

```
x.arr2 <- array(x2$Price, dim=c(2, 3, 2), 
  dimnames=list(levels(x2$Date), levels(x2$Stock.Ticker), levels(x2$Country))) 
```

欣赏手工：

```
x.arr2

#, , UK
#
#         ABC.US MNO.LN XYZ.US
#1/1/2012     NA     78     NA
#1/2/2012     NA     75     NA
#
#, , US
#
#         ABC.US MNO.LN XYZ.US
#1/1/2012     98     NA     36
#1/2/2012    100     NA     34 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T08:17:26.027

尝试这个：

```
library(plyr)
daply(x, c("Date", "Stock Ticker", "Country"), function(y) y$Price) 
```

第一个参数`daply`是您的数据框，第二个参数是您要用作维度的变量（也许您需要将空间更改为一个点，具体取决于您读取数据的方式），第三个是计算daraframe 行中的数组值。

# ocaml - `B 是什么意思？

> ID：11535186
> 
> 赞同：4
> 
> 时间：2012-07-18T06:07:48.700
> 
> 标签：ocaml

在顶层，我得到以下输出：

```
#`B
- : [> `B ] = `B 
```

那么'B是什么意思？为什么我们需要它？

真挚地！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-18T06:49:21.380

以反引号为前缀的标识符是[多态变体](http://caml.inria.fr/pub/docs/manual-ocaml/manual006.html#htoc41)类型``B`的构造函数。它类似于代数类型的构造函数：

```
type abc = A | B | C 
```

但是，您可以在不声明它们的情况下使用多态变量值，并且通常它们比通常的代数类型灵活得多。权衡是它们使用起来也有点棘手。

人们使用它们的一件事是作为简单的命名值，如`enum`C 中的值。或者更准确地说，如 Lisp 中的原子。您可以为此使用普通的代数类型，但您需要仔细维护它们的定义并防止重复。使用多态变体，您无需执行其中任何一项。您可以在不声明它们的情况下使用它们，并且构造函数不需要是唯一的（两种不同的类型可以具有相同的构造函数）。

多态变体构造函数也可以带参数，就像代数构造函数一样。所以你也可以编写`(`B 77)`一个带有单个`int`参数的构造函数。

这是一个相当大的话题——有关更多详细信息，请参阅 OCaml 手册的上述链接部分。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-18T06:48:33.433

它是一个多态变体。从[文档](http://caml.inria.fr/pub/docs/manual-ocaml/manual006.html#toc36)中：

> 1.4 节中介绍的变体是构建数据结构和算法的强大工具。然而，它们在模块化编程中使用时有时缺乏灵活性。这是因为每个构造函数都保留了一个名称以用于唯一类型。不能在另一种类型中使用相同的名称，或者认为某种类型的值属于具有更多构造函数的其他类型。
> 
> 对于多态变体，这个原始假设被删除。也就是说，一个变体标签不属于任何特定的类型，类型系统只会根据它的用途检查它是否是一个可接受的值。在使用变体标记之前，您无需定义类型。变体类型将针对其每种用途独立推断。

# csv - Apache Solr：未定义字段“？publicationNumber”

> ID：11535188
> 
> 赞同：0
> 
> 时间：2012-07-18T06:07:59.183
> 
> 标签：csv, solr

我正在使用 solr 做我的第一步，为此我尝试使用根据提供的示例改编的模式从 csv 加载我自己的数据。我用自己的字段替换了字段。

```
<field name="publicationNumber" type="string" indexed="true" stored="true" required="true" /> 
```

加上更多的领域。当我知道尝试使用 solr 文档中的命令加载数据时：

```
curl http://localhost:8983/solr/update/csv?stream.file=exampledocs/test.csv^&stream.contentType=text/csv;charset=utf-8 
```

（Windows 因此在 & 之前有 ^）

我得到错误：

```
undefined field: "?publicationNumber" 
```

csv 中的第一列是publicationNumber。但是，该领域已明确定义，它是什么？在字段名称之前？如何加载数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:20:18.533

总是一样。你尝试了几个小时，一旦你在论坛发帖，你就会找到解决方案。很简单。即便如此，命令说 charset=utf-8 csv 文件也不能是 utf-8 编码，而是 ANSI。例如。转换为 ANSI 并且没有问题。

# php - MySQL更新查询不起作用

> ID：11535189
> 
> 赞同：0
> 
> 时间：2012-07-18T06:08:00.307
> 
> 标签：php, mysql, sql-update, unix-timestamp

我有一个 MySQL 表，其中包含以下列

```
urlByCustomer table
----------------------------------------------
|customerID | TeamID | date | numUrlsConsumed|
----------------------------------------------
|           |        |      |                | 
----------------------------------------------

urlmapping

Column  Type    Null    Default Comments    MIME
urlMappingID    bigint(20)  No           
customerID  int(11) Yes     0        
activityID  int(11) Yes     0        
contactID   int(11) Yes     0        
fullURL mediumtext  Yes     NULL         
lastModified    timestamp   No  CURRENT_TIMESTAMP        
developerSandbox    varchar(25) Yes 
```

我有正在执行的代码来更新表

```
 $start = strtotime(date('Y-m-d 00:00:00'));
                             $end = strtotime(date('Y-m-d 23:59:59'));
                             $countAllThisGuysVals = "SELECT COUNT( DISTINCT`customerID`,`fullURL`)  
                                                      FROM `urlmapping` 
                                                      WHERE `urlMappingID` >= $ORIGINAL_COPY 
                                                      AND `customerID` = $currentCustomerID";
                            $countTheVals= $conn->query($countAllThisGuysVals);
                            $countedfinal =0;
                            foreach ($countTheVals as $countRow) {
                                $countedfinal = array_sum($countRow)/2;
                            }
                                $tableUpdateQuery = "UPDATE `urlByCustomer`
                                                SET `date` = NOW()
                                                WHERE `customerID`= $currentCustomerID AND 
                                                      UNIX_TIMESTAMP(`date`) BETWEEN '{$start}' and '{$end}'";

                                $conn->exec($tableUpdateQuery);

                                 $tableUpdateQuery = "UPDATE `urlByCustomer`
                                                SET `numUrlsConsumed` = $countedfinal
                                                WHERE `customerID`= $currentCustomerID AND 
                                                      UNIX_TIMESTAMP(`date`) BETWEEN '{$start}' and '{$end}'";
                                $conn->exec($tableUpdateQuery);
                                echo "update path <br>";
                                $tableModified = true;
                                $originalLPID++; 
```

变量几乎都被声明了，但是声明被分散了，所以我只是发布这部分来缩短它。对日期列的更新查询似乎有效，但第二次更新无效。虽然它在 17 分钟前工作，所以我很困惑，因为在下一次测试之间唯一改变的是我添加了一些新值，这些值应该会导致它更新该列。

同上。我想一种可能性可能是 UNIX_TIMESTAMP。我在 Mac 上的 Parallels 中运行它，所以我不确定时间戳的含义。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:10:59.553

看起来您在第一次更新中更改了“日期”的值，而没有考虑到您的第二次更新现在不会在 WHERE 子句中找到相同的行（因为您刚刚更改了日期）。

您可以在单个语句中进行更新：：

```
UPDATE urlByCustomer
SET `date` = NOW()
, numUrlsConsumed = $countedfinal
WHERE customerID= $currentCustomerID 
AND UNIX_TIMESTAMP(`date`) BETWEEN '{$start}' and '{$end}' 
```

# c++ - 什么时候结束？

> ID：11535190
> 
> 赞同：0
> 
> 时间：2012-07-18T06:08:01.943
> 
> 标签：c++, while-loop

如果代码的任何部分导致退出循环而不退出整个程序，则有一段代码我无法理解。

这是代码：

```
/* per-packet event loop */
while (true)
{
  perf_push (PERF_EVENT_LOOP);

  /* wait on tun/socket list */
  multi_get_timeout (&multi, &multi.top.c2.timeval);
  status = multi_tcp_wait (&multi.top, multi.mtcp);
  MULTI_CHECK_SIG (&multi);

  /* check on status of coarse timers */
  multi_process_per_second_timers (&multi);

  /* timeout? */
  if (status > 0)
  {
    /* process the I/O which triggered select */
    multi_tcp_process_io (&multi);
    MULTI_CHECK_SIG (&multi);
  }
  else if (status == 0)
  {
    multi_tcp_action (&multi, NULL, TA_TIMEOUT, false);
  }

  perf_pop ();
}
  /* shut down management interface */
 uninit_management_callback_multi (&multi); 
```

最后一行可以到达吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T06:41:59.020

看看宏的定义`MULTI_CHECK_SIG`。我搜索并找到了另一个包含语句`MULTI_CHECK_SIG`的宏的定义。`EVENT_LOOP_CHECK_SIGNAL``break`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:14:48.847

循环看起来没有结局。这在嵌入式系统编程中经常出现。然后通过断开电源简单地结束循环。硬件不能停止工作，所以总会有一个没有结束条件的循环。在 Linux（和其他操作系统）中，您还可以通过实现 IPC 信号函数来终止程序。

# ios - 从 url 获取 NSData 在模拟器中有效，但在设备上无效

> ID：11535192
> 
> 赞同：1
> 
> 时间：2012-07-18T06:08:05.993
> 
> 标签：ios, ios-simulator, nsdata, nsurl

我实现了一个向服务器发送注释的方法：

```
-(IBAction)inserttotextfied:(id)sender{

    NSString *strurl=[NSString stringWithFormat:@"http://localhost/get-data/insert.php?Name=%@&message=%@",txtf.text,txt2.text];
    NSData *dataurl=[NSData dataWithContentsOfURL:[NSURL URLWithString:strurl]];
    NSString *stresult=[[[NSString alloc]initWithData:dataurl encoding:NSUTF8StringEncoding]autorelease];
    NSLog(@"%a",stresult);
} 
```

问题是当我通过模拟器测试它时正在发送，但是当我在设备中测试它时，数据没有被保存

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:20:49.893

格式说明符`%a`是`64-bit floating-point number (double), printed in scientific notation with a leading 0x and one hexadecimal digit before the decimal point using a lowercase p to introduce the exponent.`

如果这不是你的意图，试试这个：

```
NSLog(@"%@", stresult); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:36:54.983

模拟器响应速度更快。所以url返回数据并正确打印。但在设备上，响应时间比模拟器高。你的 NSLog(@"%a",stresult); 语句在从响应中获取任何数据之前正在执行。我会建议给一些延迟或使用委托，以便您在得到响应后可以使用数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:15:03.077

您可能不想在您的设备上向 localhost 发送内容，或者您​​是否在设备构建中使用了不同的 url？

# javascript - 使用javascript在css中添加一个字母？

> ID：11535198
> 
> 赞同：0
> 
> 时间：2012-07-18T06:08:33.170
> 
> 标签：javascript, html, css

我的脑袋有问题……请帮我回答这个问题：

是否可以在css中将单个字母添加到字符串中？（我会假设它是通过存储原始字符串并在特定位置添加一个字母）

这是我的代码：

```
.u_usa{
background-image: url(../images/icons/usa_24.png);
} 
```

我要做的是 onclick 将 css 属性更改为：

```
.u_usa{
    background-image: url(../images/icons/usa_24t.png);
    } 
```

然后单击时，将其改回（删除“t”）...

问题是我有几个不同的类，我想在上面使用相同的函数，每个类都有不同的背景图像位置。保持不变的是一个图像有一个没有......

我需要一个函数，无论我更改什么类，都能够简单地更改 css 属性中的一个字母（无论哪个类调用该函数）

在此先感谢您，如果您无法通过我的胡言乱语来判断，我已经研究这些问题一段时间了，并且已经修复了除了这一项之外的所有内容。

再次感谢你...

编辑：我想要实现的是创建一个函数，当运行时会进行 css 切换，但对于运行它的任何类都是动态的。我有 60 多个具有背景的不同 div，单击时我想从 css 背景图像 url 的第 4 个到最后一个字符位置添加或删除“t”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:23:33.393

您应该使用双类选择器为每个类添加第二条 CSS 规则，例如：

```
.u_usa {
    background-image: url(../images/icons/usa_24.png);
}

.u_usa.clicked {
    background-image: url(../images/icons/usa_24t.png);
} 
```

然后在您的`onclick`事件处理程序中，从适当的元素中添加或删除`clicked`该类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:30:03.703

有多种方法：

### 切换类

一个类指定一个背景图像，另一个类指定一个不同的背景图像。找到一个类的所有元素，遍历它们，删除一个类并添加另一个类。对于少于 100 个具有相同类的元素来说，它相当快，但在有更多元素的地方可能会很慢。

### 根据背景图像选择元素并进行更改

非常慢且计算密集型，对于少量元素来说还可以，但就是这样。

### 更改样式规则

在适当的样式表中找到样式规则并更改 background-image 属性的值。它更多的代码（如果您必须从头开始编写函数，但我相信您可以找到合适的函数并将其添加到您的代码集合中）。无论您需要修改多少元素，它都非常快。唯一的缺点是它会改变类中的*每个*元素，除了一些基于逻辑的元素，就像使用 toggle 方法一样。

你的选择。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:15:31.143

首先，您可以使样式内联而不是类。

然后使用下面的代码片段

从正常到“t”图像

```
var img = document.getElementsByClassName('className')[0].style.backgroundImage;
img = img.replace('.png','t.png');
document.getElementsByClassName('className')[0].style.backgroundImage = img; 
```

和反向

```
var img = document.getElementsByClassName('className')[0].style.backgroundImage;
img = img.replace('t.png','.png');
document.getElementsByClassName('className')[0].style.backgroundImage = img; 
```

或者

制作两个不同的类并在每次需要更改背景图像时更改类

```
document.getElementsByClassName('className')[0].setAttribute('class','newClassName'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T06:16:32.323

当单击按钮时，我们可以在 JQuery 中使用 addClass 函数来做到这一点。当然，如果没有 javascript，我们就无法做到这一点

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-07-18T06:11:53.427

恐怕用 CSS 是不可能的。您必须使用 javascript，或者更可能使用 jQuery 之类的库来创建该功能。

# c# - C#.net POP3 无法连接 Gmail (pop.gmail.com, 995)

> ID：11535200
> 
> 赞同：1
> 
> 时间：2012-07-18T06:08:36.260
> 
> 标签：c#, gmail, pop3

我正在尝试使用 C# pop3 连接 gmail，但它给出了一个错误：根据验证过程，远程证书无效。

我使用下面给出的代码进行连接

```
using System;
using System.Collections.Generic;
using System.Collections.Specialized;
using System.Configuration;
using System.IO;
using System.Linq;
using System.Net;
using System.Net.Security;
using System.Net.Sockets;
using System.Text;
using System.Text.RegularExpressions;
using System.Web;
using System.Xml;

    public void Connect()
            {
                if (Client == null)
                    Client = new TcpClient();
                if (!Client.Connected)
                    Client.Connect(Host, Port);
                if (IsSecure)
                {
                    SslStream secureStream = new SslStream(Client.GetStream());
                    secureStream.AuthenticateAsClient(Host);
                    ClientStream = secureStream;
                    secureStream = null;
                }
                else
                    ClientStream = Client.GetStream();
                Writer = new StreamWriter(ClientStream);
                Reader = new StreamReader(ClientStream);
                ReadLine();
                Login();
            } 
```

这里我的主机是“pop.gmail.com”，端口是“995”

secureStream.AuthenticateAsClient(Host); 在这一行发生了错误

“根据验证程序，远程证书无效。”

请给我一些解决这个问题的建议..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:19:46.383

作为一种解决方法，您可以关闭证书验证

把这段代码放在前面`smtpclient.Send()`：

```
ServicePointManager.ServerCertificateValidationCallback = delegate(object s, X509Certificate certificate, X509Chain chain, SslPolicyErrors sslPolicyErrors) { return true; }; 
```

# php - Textarea撇号变成反斜杠？

> ID：11535203
> 
> 赞同：0
> 
> 时间：2012-07-18T06:08:44.820
> 
> 标签：php, html, textarea

我有一个文本区域，用户可以在其中输入帖子的文本。然后我在网站上显示数据。如何防止在结果中出现带有反斜杠的撇号？例如：

“我们开工吧”

将会：

“我们开工吧”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:20:49.113

您也许可以使用该功能[`stripslashes()`](http://php.net/manual/en/function.stripslashes.php)。

但是，禁用魔术引号和转义输入也是谨慎的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:12:21.990

1.  [禁用魔术引号](http://php.net/manual/en/security.magicquotes.disabling.php)。

2.  [在 HTML 的上下文中转义用户输入](http://php.net/manual/en/function.htmlspecialchars.php)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:44:48.023

是的，禁用magicquotes 或strip slashes。

您还需要剥离标签。如果您不这样做，您的网站将很容易受到攻击。

# java - 如何在java中重载具有泛型参数的方法？

> ID：11535206
> 
> 赞同：20
> 
> 时间：2012-07-18T06:08:47.623
> 
> 标签：java, generics, type-erasure

> **可能重复：**
> [使用泛型重载（非覆盖）的 Java 擦除](https://stackoverflow.com/questions/7201231/java-erasure-with-generic-overloading-not-overriding)

如何在java中使用泛型参数重载方法？

说我有以下课程

```
import java.util.List;

public class C {

    public void foo(List<String> a){

    }

    public void foo(List<Integer> b){

    }

} 
```

这会产生编译错误，并且正确，因为擦除正在完成它的工作并删除类型信息，因此在编译后，这两种方法将仅具有相同的列表参数。

如果我不想使用

```
public void foo(List<T> a){

} 
```

有没有其他方法可以重载方法 foo()？

# php - 如何使用 PHP 从我自己的网站上的 Google Drive 获取文件和文件夹列表？

> ID：11535214
> 
> 赞同：0
> 
> 时间：2012-07-18T06:09:14.393
> 
> 标签：php, javascript, google-drive-api

我有一个案例，我需要在我自己的网站上显示用户的谷歌驱动器数据。这该怎么做。我已经设置了 Google 的示例 DriRdit。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:14:42.723

第一步是身份验证。您可以使用[此处](https://developers.google.com/drive/examples/php)详述的 Google 自己的示例，该示例将引导您完成整个过程。

完成身份验证后，您可以执行以下操作：[在此处](https://code.google.com/apis/console)注册 API 密钥。

[您现在可以使用 PHP 中的cURL](http://php.net/manual/en/book.curl.php)或[file_get_contents()](http://php.net/manual/en/function.file-get-contents.php)向 URL发送 HTTP GET 请求`https://developers.google.com/drive/v2/files/list`。对页面的 AJAX 请求不起作用，因为该页面不属于您的域。您需要使用以下参数发送请求。

> maxResults integer 要返回的最大文件数。
> 
> pageToken 字符串 文件的页面标记。
> 
> q string 用于搜索文件的查询字符串。

最终请求可能看起来像

```
file_get_contents("https://developers.google.com/drive/v2/files/list?maxResults=".$maxResults."&pageToken=".$pageToken"); 
```

链接：[文档](https://developers.google.com/drive/v2/reference/files/list)

# sql - 两个表中两个字段的总和

> ID：11535215
> 
> 赞同：2
> 
> 时间：2012-07-18T06:09:21.163
> 
> 标签：sql, ms-access

我在数据库中有四个表，如下所示：

**tbl发票：**

```
 invcid,customerid,invoicedate 
```

**tblInvc详细信息：**

```
ID,invcid,item,itemprice,itemquantity 
```

**支付宝：**

```
payid,invcid,paydate 
```

**tblPay详细信息：**

```
payid,amount 
```

我需要在给出用户 ID 的地方创建一个 invoiceid、invoicedate、（itemprice*itemquantity 的总和）、（金额的总和）的列表。我试过这个查询：

```
SELECT tblinvoice.invcid,
       tblinvoice.invcdate,
       Sum(tblinvcdetail.itemprice * tblinvcdetail.itemquantity) AS SumOfInvoice,
       Sum(tblpaydetail.amount) AS SumOfAmount
FROM   ((tblinvoice
         LEFT JOIN tblpay
           ON tblinvoice.invcid = tblpay.invcid)
        LEFT JOIN tblinvcdetail
          ON tblinvoice.invcid = tblinvcdetail.invcid)
       LEFT JOIN tblpaydetail
         ON tblpay.payid = tblpaydetail.payid
GROUP  BY tblinvoice.invcid,
          tblinvoice.invcdate; 
```

但结果不太正确请帮助我。非常感谢。

样本数据：

**tbl发票：**

```
invcid   customerid invcdate        |invcsum(manualy calculated)
18      8             6/30/2012     |$140,000
39      8             7/12/2012     |$170,000
40      8             7/12/2012     |$80,000
43      8             7/14/2012     |$80,000
44      8             7/14/2012     |$80,000
45      8             7/15/2012     |$700,000
46      8             7/17/2012     |$180,000 
```

**tblInvc详细信息：**

```
ID  invccid  itemname       itemprice   itemquantity
19  18              X           $70,000     2
92  39              Y           $80,000     1
93  39              Z           $90,000     1
94  40              Y           $80,000     1
97  43              Y           $80,000     1
98  44              Y           $80,000     1
99  45              W           $700,000       1
100 46              Y           $80,000     1
101 46              U           $100,000       1 
```

**支付宝：**

```
payid   invcid      paydate           |AmountSUM(Manually Calculated)     
35          18         7/11/2012    |$120,000
40          18         7/12/2012    |$147,000
41          40         7/12/2012    |$84,000
44          44         7/14/2012    |$84,000
46          45         7/15/2012    |$700,000 
```

**tblPay详细信息：**

```
payid       amount
35          $100,000
35          $20,000
40          $147,000
41          $84,000
44          $84,000
46          $700,000 
```

**最后查询结果是：**

```
invcid  invcdate    SumOfInvoice    SumOfAmount
18      6/30/2012   $420,000.00     $267,000.00
39      7/12/2012   $170,000.00 
40      7/12/2012   $80,000.00      $84,000.00
43      7/14/2012   $80,000.00  
44      7/14/2012   $80,000.00      $84,000.00
45      7/15/2012   $700,000.00     $700,000.00
46      7/17/2012   $180,000.00 
```

可以看到第一行（SumOfInvoice 列）的计算是错误的，其余的都是正确的！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T09:15:56.217

怎么样：

```
SELECT a.invcid,
       a.invcdate,
       a.sumofinvoice,
       b.sumofamount
FROM   (SELECT ti.invcid,
               ti.invcdate,
               SUM(td.itemprice * td.itemquantity) AS SumOfInvoice
        FROM   tblinvoice AS ti
               LEFT JOIN tblinvcdetail AS td
                      ON ti.invcid = td.invcid
        GROUP  BY ti.invcid,
                  ti.invcdate) a
       LEFT JOIN (SELECT tp.invcid,
                         SUM(tpd.amount) AS SumOfAmount
                  FROM   tblpay AS tp
                         LEFT JOIN tblpaydetail AS tpd
                                ON tp.payid = tpd.payid
                  GROUP  BY tp.invcid) b
              ON a.invcid = b.invcid 
```

# android - 在 Android 中写入 SQLite 数据库的推荐设计模式

> ID：11535222
> 
> 赞同：7
> 
> 时间：2012-07-18T06:09:56.487
> 
> 标签：android, multithreading, sqlite, synchronization

伙计们，

我正在寻找一种设计模式，使 UI 线程能够与客户端 SQLite 数据库进行交互，该数据库可能具有批量插入（需要 10 秒）、快速插入和读取，并且不会阻塞 UI 线程。

我想知道我是否为此使用了最佳设计模式，因为我最近一直在调试死锁和同步问题，而且我对我的最终产品不是 100% 有信心。

现在，所有数据库访问都通过单例类成为瓶颈。这是显示我如何在我的单例 DataManager 中进行写入的伪代码：

```
public class DataManager {

  private SQLiteDatabase mDb;
  private ArrayList<Message> mCachedMessages;

  public ArrayList<Message> readMessages() { 
    return mCachedMessages; 
  }

  public void writeMessage(Message m) {
    new WriteMessageAsyncTask().execute(m);
  }

  protected synchronized void dbWriteMessage(Message m) {
    this.mDb.replace(MESSAGE_TABLE_NAME, null, m.toContentValues());
  }

  protected ArrayList<Message> dbReadMessages() {
    // SQLite query for messages
  }

  private class WriteMessageAsyncTask extends AsyncTask<Message, Void, ArrayList<Messages>> {
    protected Void doInBackground(Message... args) {
       DataManager.this.mDb.execSQL("BEGIN TRANSACTION;");
       DataManager.this.dbWriteMessage(args[0]);
       // More possibly expensive DB writes
       DataManager.this.mDb.execSQL("COMMIT TRANSACTION;");
       ArrayList<Messages> newMessages = DataManager.this.dbReadMessages();
       return newMessages;
    }
    protected void onPostExecute(ArrayList<Message> newMessages) {
       DataManager.this.mCachedMessages = newMessages;
    }
  }
} 
```

*强调：*

*   第一：所有公共写操作（writeMessage）都通过 AsyncTask 发生，从不在主线程上
*   下一篇：所有写操作都同步并包裹在BEGIN TRANSACTIONS中
*   Next: 读操作是非同步的，因为它们在写期间不需要阻塞
*   最后：读操作的结果缓存在onPostExecute中的主线程上

这是否代表了将潜在的大量数据写入 SQLite 数据库同时最小化对 UI 线程的影响的 Android 最佳实践？您在上面看到的伪代码是否存在任何明显的同步问题？

***更新***

我上面的代码有一个重大的bug，具体如下：

```
DataManager.this.mDb.execSQL("BEGIN TRANSACTION;"); 
```

该行获取数据库上的锁。但是，它是一个 DEFERRED 锁，因此在发生写入之前，[其他客户端既可以读取也可以写入](http://www.sqlite.org/lang_transaction.html)。

```
DataManager.this.dbWriteMessage(args[0]); 
```

该行实际上修改了数据库。此时，锁是一个保留锁，所以没有其他客户端可以写。

请注意，在第一次 dbWriteMessage 调用之后，可能会有更昂贵的数据库写入。假设每个写操作都发生在受保护的同步方法中。这意味着在 DataManager 上获得了一个锁，写入发生，并且锁被释放。如果 WriteAsyncMessageTask 是唯一的写入器，这很好。

现在让我们假设还有一些其他任务也执行写入操作，但不使用事务（因为它是快速写入）。下面是它的样子：

```
 private class WriteSingleMessageAsyncTask extends AsyncTask<Message, Void, Message> {
    protected Message doInBackground(Message... args) {
       DataManager.this.dbWriteMessage(args[0]);
       return args[0];
    }
    protected void onPostExecute(Message newMessages) {
       if (DataManager.this.mCachedMessages != null)
         DataManager.this.mCachedMessages.add(newMessages);
    }
  } 
```

在这种情况下，如果 WriteSingleMessageAsyncTask 与 WriteMessageAsyncTask 同时执行，并且 WriteMessageAsyncTask 已经执行了至少一次写入，则 WriteSingleMessageAsyncTask 可能调用 dbWriteMessage，获取 DataManager 上的锁，但由于以下原因而被阻止完成其写入保留锁。WriteMessageAsyncTask 反复获取和放弃DataManager 上的锁，这是一个问题。

**要点：将事务和单例对象级锁定结合起来可能会导致死锁。确保在开始事务之前拥有对象级锁。**

对我原来的 WriteMessageAsyncTask 类的修复：

```
 synchronized(DataManager.this) {
     DataManager.this.mDb.execSQL("BEGIN TRANSACTION;");
     DataManager.this.dbWriteMessage(args[0]);
     // More possibly expensive DB writes
     DataManager.this.mDb.execSQL("COMMIT TRANSACTION;");
   } 
```

**更新 2**

观看来自 Google I/O 2012 的视频：http: //youtu.be/gbQb1PVjfqM?t= [19m13s](http://youtu.be/gbQb1PVjfqM?t=19m13s)

它建议使用内置独占事务然后使用[yieldIfContendedSafely的设计模式](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#yieldIfContendedSafely%28long%29)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:22:59.393

关于同步/死锁部分，我真的不能说太多，这将在很大程度上取决于您的其余代码。由于`DataManager`类并不真正与 UI 交互，因此您可能希望使用服务 ( `IntentService`) 而不是`AsyncTask`. 您可以在完成同步后显示通知。`onPostExecute()`如果您不调用 UI 代码，则实际上并不需要。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:28:09.573

您可能需要考虑 SDK 中的此信息（[http://developer.android.com/reference/android/os/AsyncTask.html）](http://developer.android.com/reference/android/os/AsyncTask.html)

> 首次引入时，AsyncTask 在单个后台线程上串行执行。从 DONUT 开始，这被更改为允许多个任务并行运行的线程池。从 HONEYCOMB 开始，任务在单个线程上执行，以避免并行执行导致的常见应用程序错误。
> 
> 如果你真的想要并行执行，你可以使用 THREAD_POOL_EXECUTOR 调用 executeOnExecutor(java.util.concurrent.Executor, Object[])。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:47:25.477

仅供参考，在 SQLite 上运行的每个 SQL 语句都在事务下运行，即使您没有指定一个。

如果您**在 SQLite 中进行批量插入，**请检查以下线程：

1.  [Android 数据库事务](https://stackoverflow.com/a/8163179/379693)
2.  [SQLite 批量插入](http://www.mostlydevelopers.com/blog/post/2012/02/19/SQLite-Bulk-Insert.aspx)

# android - 显示当前位置的地图应用程序

> ID：11535223
> 
> 赞同：-4
> 
> 时间：2012-07-18T06:09:57.470
> 
> 标签：android

> **可能重复：**
> [如何在 Google 地图中显示我的当前位置？](https://stackoverflow.com/questions/5202071/how-to-show-the-my-current-location-in-the-google-map)

我想在谷歌地图中显示我当前的位置。它应该是动态的，即应该动态设置经度和纬度。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-18T06:16:34.137

您需要按照以下步骤操作。

1) 打开浏览器输入 www.google.com

2) 搜索“*地图应用教程+Android* ”并在其中按搜索。

3）我发现这个[地图视图应用程序](https://developers.google.com/maps/documentation/android/hello-mapview)作为第三个链接，它有完整的教程（*为位置创建地图和覆盖*）来自 Android 的开发者网站

快乐编码。:)

# c# - wpf：如何编辑可能取消的选定项目？

> ID：11535233
> 
> 赞同：2
> 
> 时间：2012-07-18T06:10:53.053
> 
> 标签：c#, wpf, data-binding, user-interface

我基本上想创建这样的东西：

![](../Images/86ae882f2f760ed00b40a688285a5218.png)

因此，用户可以从列表中添加/删除项目并在列表下方的红色面板中对其进行编辑。选择项目后，可以在面板中进行更改。

然后，可以使用以下按钮之一保存或取消更改。如果不明确取消更改，用户将无法选择列表中的其他项目。

这该怎么做？我只看到使红色面板成为单独控件并`DataContext`在更改时手动更改它的选项`ListView.SelectedItem`。红色面板`DataContext`是“项目”的特殊包装`ListView`，具有“保存”和“取消”选项。`ListView`设置为`IsEnabled = False`以便`SelectedItem`在编辑过程中它不会改变。

你会怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T07:42:44.053

最简单的方法是使用对话框来编辑选定项目。这就是我在我的项目中所做的。我使用[这个对话服务](https://stackoverflow.com/questions/3801681/good-or-bad-practise-for-dialogs-in-wpf-with-mvvm)并处理结果。

如果您想在一个视图中处理所有内容，您可以在设置 SelecteItem 时设置属性 SelectionEnabled=false。然后在调用保存或取消命令时 SelectionEnabled=true。

您的编辑面板的数据上下文就是您的 SelectedItem。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-18T08:47:19.747

例如，这个问题与这个问题非常接近： [如何停止绑定属性的更新？](https://stackoverflow.com/questions/914173/how-do-i-stop-binding-properties-from-updating)

无论如何，将处理此问题的 WPF 对象是 BindingGroup：http:
[//msdn.microsoft.com/en-us/library/system.windows.data.bindinggroup.aspx](http://msdn.microsoft.com/en-us/library/system.windows.data.bindinggroup.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-30T21:04:20.647

您可以尝试将绑定与`UpdateSourceTrigger=Explicit`. 博客文章[Edit With Explicit UpdateSourceTrigger](http://kvelikov.wordpress.com/2013/07/30/edit-with-explicit-updatesourcetrigger/)将为您提供有关如何实现此功能的更多信息。

# java - 静态方法和线程安全中的局部变量

> ID：11535237
> 
> 赞同：22
> 
> 时间：2012-07-18T06:11:14.467
> 
> 标签：java, static, thread-safety

我有一个关于变量范围的问题。

例如：

```
class A {
    private static void test() {
        // do something with local variables
    }
} 
```

`A`现在我创建两个线程，并为每个线程创建一个实例。

1.  当我调用`test()`每个线程时，我可以保证这`test()`是线程安全的吗？

2.  本地变量`test()`存储在哪里？每个线程的堆栈？堆空间？

PS我知道在这种情况下静态是完全没有意义的。我在我们的遗留代码中找到了它；我只是想确定我所知道的！

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-07-18T06:18:45.153

局部变量存储在每个线程自己的堆栈中。这意味着局部变量永远不会在线程之间共享。这也意味着所有局部原始变量都是线程安全的。

对对象的本地引用有点不同。引用本身不共享。然而，引用的对象并不存储在每个线程的本地堆栈中。所有对象都存储在共享堆中。如果本地创建的对象从不逃避创建它的方法，则它是线程安全的。实际上，您也可以将其传递给其他方法和对象，只要这些方法或对象都不使传递的对象可用于其他线程。

对象成员与对象一起存储在堆中。因此，如果两个线程在同一个对象实例上调用一个方法并且该方法更新对象成员，则该方法不是线程安全的。

线程安全检查：如果一个资源在同一个线程的控制下被创建、使用和处置，并且从未脱离该线程的控制，则该资源的使用是线程安全的。

来自：[http ://tutorials.jenkov.com/java-concurrency/thread-safety.html](http://tutorials.jenkov.com/java-concurrency/thread-safety.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-18T06:18:07.660

当我在每个线程中调用 test() 时，我可以保证 test() 是线程安全的吗？

> 是的，如果在 test() 方法中您正在处理方法局部变量，那将是线程安全的。

test() 中的本地变量存储在哪里？每个线程的堆栈？堆空间？

> 方法局部变量存储在每个线程自己的堆栈中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:16:59.970

对于数字 1，我不知道是什么`test()`，所以我无法回答。如果他们修改了`static`A 类的某个变量，那么它可能不是线程安全的。如果沿途的两个线程都引用了同一个对象，则取决于对象的定义方式，它可能不是线程安全的。

对于数字 2，局部变量在每个线程的堆栈中（或者至少在概念上是这样的），因此不必担心局部变量会被其他线程修改。

# jquery - 打印 div 内容在使用 ajax 创建的 jquery 对话框中显示为空

> ID：11535243
> 
> 赞同：0
> 
> 时间：2012-07-18T06:11:24.207
> 
> 标签：jquery, printing, dialog

我通过 ajax 创建了一个包含一个表的对话框（它必须以这种方式创建，因为它是一组非常复杂的嵌套 mysql 查询，基于动态生成的许多因素以及用户选择的集合）。它工作正常。

我想打印对话框内容，所以用 id 为 przone 的 div 将所需内容括起来。

当我使用检查元素工具时，Firebug 会显示 div - 我可以通过这种方式复制它的内容。

但是，我通过对话框按钮触发的 printElement 插件（正如我在此处搜索的帖子中所建议的那样）不起作用，所以我做了最简单的检查 - 将一个功能附加到打印按钮

```
buttons: { 
"Print": function() { var cont = $('#przone').html();
    alert(cont);},     etc 
```

这会提示 null，因此是否可以获取 div 内容，如果可以，如何获取。在发布此之前，我真的花了很长时间试图找到答案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T08:24:45.043

在成功完成 ajax 并且您的数据成功加载到 id 为 przone 的 div 后创建对话框。不要在文档就绪功能上创建对话框

# java - 将验证码添加到 PlayFramework 1.2.x 登录页面

> ID：11535244
> 
> 赞同：0
> 
> 时间：2012-07-18T06:11:31.623
> 
> 标签：java, login, playframework, captcha, playframework-1.x

我的任务是维护一个用 PlayFramework 1.2.x 编写的小型应用程序。需要完成的一项：向登录页面添加验证码。这显然比人们想象的要难，因为登录页面是由 Secure 模块半自动处理的。

在处理普通的 HTTP 表单时，PlayFramework 将表单变量作为参数传递给控制器​​方法。使用标准的 Secure 模块，登录表单只包含用户名和密码，这些被传递给 authenticate 方法。

现在，我可以创建一个包含验证码的自定义登录表单，并且我还可以覆盖 Secure 模块中的 authenticate 方法。问题是这样的：我无法更改验证方法的参数以包含验证码，否则它不再覆盖超类中的方法（然后永远不会调用该方法）。

这是一个简单的登录表单，验证码改编自“yabe”示例：

```
#{extends 'main.html' /} #{set title:'Login' /}

#{form @authenticate()}

<p>
    <label for="username">User name: </label> <input type="text"
        name="username" id="username" maxlength="30"
        value="${params.username}" />
</p>
<p>
    <label for="password">Password: </label> <input type="password"
        name="password" id="password" maxlength="30" " />
</p>
<p>
    <label for="code">Please type the code below: </label> <img
        src="@{Captcha.captcha(randomID)}" /> <br /> <input type="text"
        name="code" id="code" size="18" value="" /> <input type="hidden"
        name="randomID" value="${randomID}" />
</p>
<p>
    <input type="submit" id="signin" value="Log in" />
</p>

#{/form} 
```

这是一个*不起作用*的简单身份验证方法，因为“code”和“randomID”未定义。同样，我不能只添加参数来进行身份验证，否则它不再覆盖超类中的方法，并且不会被调用。

```
package controllers;

import play.cache.Cache;
import play.data.validation.Required;
import models.*;

public class Security extends Secure.Security {

    static boolean authenticate(String username, String password) {
        boolean auth = false;
        if (code.equals(Cache.get(randomID))) {
            auth = (User.connect(username, password) != null);
        }
        return auth;
    }
} 
```

Question: how can I get the values "code" and "randomID" from the form to the authenticate method? Is there some other way of accessing values from the form?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:32:13.597

You are in a Play! controller, so you have access to the object `request.params`, out of which you can fetch the parameters, as in `request.params.get("code")`.

# spring-mvc - 关于spring mvc注解使用属性文件

> ID：11535245
> 
> 赞同：1
> 
> 时间：2012-07-18T06:11:33.327
> 
> 标签：spring-mvc, properties

你知道我们可以在 Spring mvc xml 文件中使用属性文件数据。例如：

```
<bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"> 
<property name="location"> 
<value>xxxx.properties</value> 
</property> 
</bean>

...
<mvc:mapping path="/${path}/*" />
... 
```

但是我如何在注释中使用它，例如：

```
@Controller
@RequestMapping("/${url}") 
```

现在错了。

告诉我怎么做 非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T09:27:24.227

Spring doesnt resolve `${x}` inside `@RequestMapping`, indeed `{x}` is used for `@PathVariable`. It's not possible to pass non-constant variables to annotations so you can't use `@Value` either.

I believe its not possible to do what you intend through annotations.

# objective-c - 关闭 MFMailComposeViewController 时出现奇怪的错误：错误：地址不包含指向目标文件中某个部分的部分

> ID：11535251
> 
> 赞同：2
> 
> 时间：2012-07-18T06:12:02.937
> 
> 标签：objective-c, ios, modalviewcontroller, mfmailcomposeviewcontroller, nserror

我收到一个非常奇怪的错误 MFMailCompseViewController。错误是“错误：地址不包含指向目标文件中某个部分的部分”。MFMailCompseViewController 关闭并且电子邮件实际发送后，应用程序崩溃。

这是 MFMailComposeViewController 特有的，因为我试图以模态方式呈现一个普通的视图控制器，它可以很好地解散。

这是我写给 calland 的代码，并展示了邮件编写器：

```
- (void) emailImage:(UIImage *)img {
//verified that the image is being returned correctly
UIImage *img1 = [[_delegate photoBrowser:self photoAtIndex:0] underlyingImage];

MFMailComposeViewController *mfViewController = [[MFMailComposeViewController alloc] init];
mfViewController.mailComposeDelegate = self;

NSString *subject = @"Check out this photo I took - Cap That App";

[mfViewController setSubject:subject];
NSData *imgData = UIImageJPEGRepresentation(img1, 1.0);
[mfViewController addAttachmentData:imgData mimeType:@"image/jpg" fileName:@"photo.jpg"];

NSString *contactMessage = @"\n\n<a href=\"http://www.agilerocket.com\">Sent via Cap That - Available in the Apple App Store</a>";

[mfViewController setMessageBody:contactMessage isHTML:YES];

[self presentViewController:mfViewController animated:YES completion:nil]; 
```

}

```
- (void)mailComposeController:(MFMailComposeViewController*)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error {
UIAlertView *alert = [[[UIAlertView alloc] initWithTitle:@"Status:" message:@"" delegate:nil cancelButtonTitle:@"ok" otherButtonTitles:nil] autorelease];

switch (result) {
    case MFMailComposeResultCancelled:
        alert.message = @"You chose not to send the email.";
        break;
    case MFMailComposeResultSaved:
        alert.message = @"Your email was saved as a draft. It has not been sent yet.";
        break;
    case MFMailComposeResultSent:
        alert.message = @"Your email has been sent!";
        break;
    case MFMailComposeResultFailed:
        alert.message = @"There was an error sending the email. Please verify your email is working and try again.";
        break;
    default:
        alert.message = @"You chose not to send the email.";
        break;
}

[self dismissViewControllerAnimated:YES completion:^(void) {
    [alert show];
}]; 
```

}

提前感谢任何人对此的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-24T17:24:32.653

我在我的应用程序中遇到了同样的错误，在 HUD 上点击手势。我的手势识别器方法是使用 HUD 上的块属性来执行必要的操作，并且它在哪里崩溃（块中的代码永远不会运行）。显然程序无法访问该代码，并且由于您还有一个完成块，它可能是正在发生的事情的线索。

我没有看到我在代码中做错了什么，而且您似乎也没有这样做，所以也许这是一个错误。您是否有机会运行 Xcode（4.4 或 4.5）的开发人员预览版？

**编辑：**原来我的问题是代码块属性在它有机会运行之前就被释放了。我认为在你的情况下可能会发生类似的事情，警报 var。您可以尝试在完成块内移动警报初始化吗？

**编辑2：**作为替代方案，尝试在警报初始化前加上`__weak`（或者`__unsafe_unretained`如果您的目标是iOS 4.3），应该这样做。如果您不使用 ARC，请`__block`改用。

# ssh - 如何在 SSH 中运行程序？

> ID：11535256
> 
> 赞同：0
> 
> 时间：2012-07-18T06:12:15.010
> 
> 标签：ssh, exe

所以我想在 SSH 中运行一个 .exe 但不知道，请帮忙？

我正在尝试为我正在制作的游戏运行服务器，并且需要在我的 vps 上使用它，以便任何人都可以连接，但不知道如何在我的 vps 上的 SSH 中运行它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T06:23:55.627

SSH 是一种协议，它本身永远不会运行任何程序。根据您在 SSH 中运行的 Shell 和使用的操作系统，您将启动可执行文件：

```
Linux: ./program
Windows: program.exe 
```

注意：exe 通常表示 Windows 程序。大多数 Linux/Unix 服务器都具有 SSH 访问权限，而 Microsoft 服务器通常没有。你想在 Linux 机器上启动一个 windows exe 吗？那将行不通（永远）。除非它是 .NET 可执行文件，在这种情况下，您可以开始使用单框架。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T08:14:29.773

你想安装一个 SSH 服务器并让它运行你自己的程序而不是默认的 shell？如何配置完全取决于您使用的产品/包；但也许为您重新表述问题足以帮助您在文档中找到所需的配置指令。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-06-24T01:46:14.077

你需要**./**在程序名称之前，像这样

```
./program.exe 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-09T18:18:02.833

Linux：这将使用 ssh 在远程机器上远程运行一系列命令（确保您的用户名可以直接访问并且不需要密码）：

> ssh remotemachine'命令1 | 命令2 | 命令3'

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-10-24T21:00:39.773

对于 Windows，您可以使用以下命令：

```
ssh username@remotePcIP "\file.exe" 
```

# dns - 使用 DNS 在 Tomcat7 上部署 WAR 文件

> ID：11535265
> 
> 赞同：1
> 
> 时间：2012-07-18T06:12:42.653
> 
> 标签：dns, war, tomcat7

我有一个在 Tomcat 7 上部署的 WAR 文件。我可以使用“HTTP://192.xxx.xx.xxx:8080/TestApp/”来使用我的应用程序，但我想通过地址“http: //www.mycompany.com/TestApp”。我们公司也有域政策，而且我想让外部用户通过互联网访问这个应用程序......这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:44:03.830

您需要在公司配置域服务器，以便 mycompany.com 的地址与您的 IP 相关联。

[对于通用 Internet 访问，您还需要一个由外部DNS](http://en.wikipedia.org/wiki/Domain_Name_System)服务器识别的有效 WWW 域。

# google-app-engine - 使用 google API 而不是 OpenID 进行身份验证

> ID：11535266
> 
> 赞同：1
> 
> 时间：2012-07-18T06:12:52.433
> 
> 标签：google-app-engine, authentication, openid

我需要使用他们的 gmail ID 对用户进行身份验证。但是我需要这样做而不像使用 OpenID 那样重定向到谷歌的登录页面。

是否可以使用 API 调用来做到这一点？谷歌是否提供此类和身份验证 API？

谢谢，穆尔塔萨

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T16:07:17.787

没有这样的 API。不应该有这样的 API。

重定向到 Google 登录页面有几个很好的原因。它让用户确切地知道发生了什么。他们知道您正在根据他们的 Gmail ID 进行身份验证。

它在使用 Gmail Id 的应用程序和提供 Gmail Id 的用户之间提供了一层安全保护。如果用户直接向您提供了用户名和密码，他们无法知道您不会保留该信息并使用它做一些邪恶或愚蠢的事情。

提供这种访问权限将帮助恶意程序员默默地使用暴力破解其他用户的密码。API 无法阻止恶意程序员输入某个随机人的 Gmail 地址并非常有效地尝试任意数量的密码。

因此，您可以接受重定向，也可以推出自己的与 Gmail 无关的用户名和密码系统。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T15:43:08.343

为什么不直接使用用户 API？这是有据可查的。缺点是您必须使用 gmail id 登录。

[https://developers.google.com/appengine/docs/python/users/](https://developers.google.com/appengine/docs/python/users/)

# iphone - 如何从 AVAudioplayer 中获取数据

> ID：11535268
> 
> 赞同：1
> 
> 时间：2012-07-18T06:12:54.367
> 
> 标签：iphone, ios, xcode, cocoa, touch

我是 iOS 开发的新手。现在我正在做应用程序，比如会说话的汤姆。此应用程序必须同时录制屏幕和音频。我可以使用 AVAudioRecorder 录制，但我想要由 AVAudioPlayer 一点一点播放的数据，因为有时用户可能会从音频剪辑的中间开始录制。我知道 AVAudioPlayer 的数据属性，但是我得到了数据格式的所有数据。我想一边玩一边一点一点的数据。

# css - 使图像在 div:hover 上可见，但如果该 div 中的另一个图像悬停，则不可见？

> ID：11535269
> 
> 赞同：0
> 
> 时间：2012-07-18T06:12:57.650
> 
> 标签：css, hover, css-selectors

在我的[摄影作品](http://element17.com)集上，我设置了缩略图，因此当您将鼠标悬停在缩略图（实际上是背景图像设置为缩略图的 div）上时，通过 CSS 设置放大镜图标（这是一个绝对定位的 img）不透明度：1.0。

但是，对于某些图像，我将提供可供下载的壁纸（左上角的第一张图像是示例）。为了表明这一点，我将在这个 div 内（在对角）也有一个监视器图标（也是绝对定位的）。当此图像悬停时，我不希望出现放大镜图标。

编辑：

这是由 PHP 生成的实际 HTML：

```
<div class="thumbnail" style="width:240px; height:160px;">
  <a href="gallery/01_CONSTRUCTS/Steam.jpg" class="shadowbox[CONSTRUCTS]" title="Steam">
    <span class="rounded_corners thumb_back" style=" background-image:url('gallery/01_CONSTRUCTS/thumbs/Steam_thumb.jpg');">&nbsp;</span>
    <span class="rounded_corners hover_dim">&nbsp;</span>
    <img class="zoom" src="images/zoom.png" alt="Zoom" />
  </a>
  <img class="thumb_new" src="images/new.png" alt="New" />
  <a class="wall_hover" href="gallery/01_CONSTRUCTS/wallpaper/Steam.jpg">
    <img class="wallpaper" src="images/monitor.png" alt="DownloadWallpaper" />
  </a>
</div> 
```

以及相关的 CSS：

```
.thumbnail {
  display: block;
  position: relative;
  float: left;
}

.thumbnail:hover, .thumbnail:hover .zoom {
  opacity: 1.0;
  -webkit-opacity: 1.0;
  -moz-opacity: 1.0;
}

.thumbnail a.wall_hover + a .zoom {
  display: none;
}

.thumb_new {
  position: absolute;
  top: 2px;
  left: 2px;
  z-index: 100;
}

.zoom {
  position: absolute;
  bottom: 3px;
  right: 3px;
  opacity: 0;
  -webkit-opacity: 0;
  -moz-opacity: 0;
  transition: opacity .25s ease-in;
  -webkit-transition: opacity .25s ease-in;
  -moz-transition: opacity .25s ease-in;
}

.hover_dim {
  background-color: rgba(0,0,0,0.5);
  position:absolute;
  top:0;
  right:0;
  bottom:0;
  left:0;
  transition: background-color .25s ease-in;
  -webkit-transition: background-color .25s ease-in;
  -moz-transition: background-color .25s ease-in;
}

.thumbnail:hover .hover_dim {
  background-color: rgba(0,0,0,0);
}

.wallpaper {
  position: absolute;
  bottom: 3px;
  left: 3px;
}

.rounded_corners {
  padding: 0;
  margin: 0 5px 5px 0;
  border: 0;
  border-radius: 6px;
  -webkit-border-radius: 6px;
  -moz-border-radius: 6px;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-19T16:12:00.533

如果您的结构现在正确，这应该可以工作。与简的回答类似，只是必须`.wall_hover:hover`不是`.wallpaper:hover`。

```
.thumbnail:hover > .wall_hover:hover + .zoom {
  opacity: 0;
  -webkit-opacity: 0;
  -moz-opacity: 0;
} 
```

## 更新做你的休息

你真的需要了解一些关于 css 选择器实际在做什么的知识，否则你可能会再次破坏。所以，让我一起帮助教育。首先，您的“新”（截至目前）html 结构是这样的：

```
<div class="thumbnail" style="width:240px; height:160px;">
  <a class="shadowbox[CONSTRUCTS]" title="Steam" href="gallery/01_CONSTRUCTS/Steam.jpg">
    <span class="rounded_corners thumb_back" style=" background-image:url('gallery/01_CONSTRUCTS/thumbs/Steam_thumb.jpg');">&nbsp;</span>
   <span class="rounded_corners hover_dim">&nbsp;</span>
   <img class="thumb_new" alt="New Image" src="images/new.png">
   <img class="zoom" alt="Zoom In" src="images/zoom.png">
  </a>
  <a class="wall_hover" href="gallery/01_CONSTRUCTS/wallpaper/Steam.jpg">
    <img class="wallpaper" alt="Download Wallpaper" src="images/monitor.png">
  </a>
</div> 
```

***这将无法达到您想要的效果***（无论如何，通过纯 css）。您必须“交换”`a`标签上的位置。简短示例（为简洁起见，删除了一些代码）：

```
 <a class="wall_hover">
    <img class="wallpaper" >
  </a>
  <a class="shadowbox[CONSTRUCTS]">
   <img class="zoom" />
  </a> 
```

这样做的原因是 css 可以*在*元素内或在某些情况下对*后面*的元素进行选择，但***不能在****前面*的元素或*父*元素中进行选择。所以这就是为什么 html 顺序必须改变，因为你想影响`.zoom`. `.wall_hover`我们使用相邻的兄弟选择器来做到这一点，它只选择*紧随其后*`+`的元素。所以现在，要让你的 CSS 工作，你需要：

 *```
.thumbnail:hover > .wall_hover:hover + .shadowbox[CONSTRUCTS] .zoom {
  opacity: 0;
  -webkit-opacity: 0;
  -moz-opacity: 0;
} 
```

请注意，更改是因为您包裹`.zoom`在一个父元素`shadowbox[CONSTRUCTS]`中。上面说的是：

> 当**.thumbnail**悬停时，转到其直接子级 ( **>** )，即**.wall_hover**类，如果悬停，则移动到其直接相邻的兄弟级，如果是 **.shadowbox[CONSTRUCTS]**类，然后选择**.zoom**的子元素 。您可以在**.zoom**之前添加**>**，但在您的情况下没有必要（实际上，在您的情况下，在**.wall_hover**之前也确实没有必要，但我保留它是为了便于说明。

 ***** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:31:35.140

**在您的 html 中将 .zoom 放在 .wallpaper 之后**

```
<div class="thumbnail" style="background-image:url('img.jpg'); position:relative">
  <img src="monitor.jpg" class="wallpaper" />
  <img src="magnifying.jpg" class="zoom" />
</div> 
```

**所以CSS会**

```
.thumbnail:hover > .wallpaper:hover + .zoom {
  opacity: 0;
  -webkit-opacity: 0;
  -moz-opacity: 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:50:46.890

您可以使用带有兄弟选择器的 CSS 来做到这一点，但前提是您切换图像的顺序：

```
.thumbnail .wallpaper + .zoom {
    display: none;
} 
```

正如我在您的网站上看到的，您的结构更复杂。图像包含在`a`标签内。您需要将兄弟选择器应用于`a`标签，如下所示：

```
.thumbnail a.wall_hover + a .zoom {
    display: none;
} 
```

请注意，要使其正常工作，您需要将`a.wall_hover`其作为第一个链接放入`div`.

还有另一种使用 jQuery 的替代方法，只需将这一行放在文档加载上：

```
$(".thumbnail").has(".wallpaper").find(".zoom").hide(); 
```*****

# c# - 这种负面的单元测试是否有意义

> ID：11535274
> 
> 赞同：0
> 
> 时间：2012-07-18T06:13:30.580
> 
> 标签：c#, unit-testing

我有这样的测试。负单元测试。

这个测试有意义吗？只测试预期的异常情况不是更好吗？

```
[Test]
public void Get_Root_Units_By_Non_Existing_TemplateId()
{
// ARRANGE
ITemplateUnitDataProvider provider = new TemplateUnitDataProvider(_connectionString);
int templateId = -1;

// ACT
var units = provider.GetRootUnits(templateId);

// ASSERT
Assert.IsNotNull(units);
Assert.Count(0, units);           
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T06:16:00.267

对我来说，这个测试是有意义的。如果未找到与输入参数匹配的任何记录，您正在检查 SUT（被测对象）是否返回一个空数组。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:18:29.783

在我看来，单元测试用于检查您的方法的正确性。正确处理不正确的输入也是您要测试的内容。

单元测试旨在让您对代码有一种安全感，因此处理无效输入肯定是我会测试的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:20:39.767

写失败测试的一个很好的理由是任何单元测试都比没有单元测试好

编写失败测试可以让你很好地了解你的系统它应该失败的地方，否则你有一些你不知道的其他场景

# php - 使用ajax响应刷新数据后如何将jquery对话框与html元素绑定？

> ID：11535281
> 
> 赞同：0
> 
> 时间：2012-07-18T06:14:07.617
> 
> 标签：php, ajax, jquery-ui, jquery

在我的 php 页面中，我有一个 jquery 脚本来打开一个对话窗口。代码如下

```
<script type="text/javascript">
            $(document).ready(function() {
                var $loading = $('<img src="loading.gif" alt="loading" class="loading">');

                $('#data-specs a').each(function() {
                    var $dialog = $('<div></div>')
                        .append($loading.clone());

                    var $link = $(this).one('click', function() {
                        $dialog

                            .load($link.attr('href'))
                            .dialog({
                                title: '<?php echo $_GET["indQ"];?>',
                                modal: true,
                                width: 500,
                                height: 300,
                                minHeight: 300,
                                maxHeight: 600,
                                minWidth: 500,
                                maxWidth: 800
                                });

                            $link.click(function() {
                            $dialog.dialog('open');

                            return false;
                        });

                        return false;
                    });
                });

                $('#dav').val(getURLParameter('davQ'));

                $('#pathogen').val(getURLParameter('pathogenQ'));

                $('#topicF').val(getURLParameter('topicQ'));

                $('#ind').val(getURLParameter('indQ'));

                $('#subind').val(getURLParameter('subindQ'));

                $(".selfont").change(function (event) {
                        window.location = '?davQ=' + $('#dav').val() + '&pathogenQ=' + $('#pathogen').val() + '&topicQ=' + $('#topicF').val() + '&indQ=' + encodeURIComponent($('#ind').val()) + '&subindQ=' + encodeURIComponent($('#subind').val());
                });

                function getURLParameter(name) {
                         return decodeURIComponent((RegExp(name + '=' + '(.+?)(&|$)').exec(location.search) || [, null])[1]);
                }

            });
    </script> 
```

数据位于 id='data-specs' 的表中。而且效果很好。最近我添加了一个带有值的下拉框，以使用 ajax 脚本对该表进行排序，它也可以工作。但问题是在这个 ajax 调用之后，当我单击链接以打开对话框窗口时，它会在父窗口本身中打开，如果我们按下浏览器后退按钮然后单击链接，它将打开没有错误的对话框窗口！即使在使用 ajax 完成排序后，我如何才能做到这一点？请给我一些解决方案。我要排序的ajax代码如下所示

```
function ajaxFunction(){

    //to keep selection in countryList - GP
    var ref = document.getElementById('countryRF');
    for(i=0; i<ref.options.length; i++)
    ref.options[i].selected = true;

    var ajaxRequest;  // The variable that makes Ajax possible!

    try{
        // Opera 8.0+, Firefox, Safari
        ajaxRequest = new XMLHttpRequest();
    } catch (e){
        // Internet Explorer Browsers
        try{
            ajaxRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try{
                ajaxRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e){
                // Something went wrong
                alert("Your browser broke!");
                return false;
            }
        }
    }
    // Create a function that will receive data sent from the server
    ajaxRequest.onreadystatechange = function(){
        if(ajaxRequest.readyState == 4){
            //document.myForm.time.value = ajaxRequest.responseText;
            document.getElementById("result").innerHTML=ajaxRequest.responseText

        }
    }

    var dav = document.getElementById('dav').value;
    var pathogen = document.getElementById('pathogen').value;
    var topicF = document.getElementById('topicF').value;
    var ind = document.getElementById('ind').value;
    var subind = document.getElementById('subind').value;
    var selObj = document.getElementById('countryRF');
    var cnty = loopSelected(selObj).join('~');  // join array into a string
    var sortby = document.getElementById('sortby').value;

    var queryString = "?dav=" + dav + "&pathogen=" + pathogen + "&topicF=" + topicF + "&ind=" + encodeURIComponent(ind) + "&subind=" + encodeURIComponent(subind) + "&cnty=" + encodeURIComponent(cnty) + "&sortby=" + sortby;
    ajaxRequest.open("GET", "sortbyD.php" + queryString, true);
    ajaxRequest.send(null);
    return false;
} 
```

请帮我解决这个问题..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:30:36.103

第一次加载页面时，对话框事件与元素绑定，在 ajax 之后，您需要再次使用 .bind() 函数绑定对话框事件

# ruby-on-rails - 在 Rails ActiveRecord 中通过外键获取数据库值

> ID：11535283
> 
> 赞同：0
> 
> 时间：2012-07-18T06:14:09.397
> 
> 标签：ruby-on-rails, activerecord

我有一个被标记的项目列表，我想在每个项目旁边列出标签名称。例如：

*我的酷列表项 - “Awesome Tag”*

每个列表项都有一个且只有一个标签；`tag_id`是我的列表中的外键，它是我的模型中的必填字段。

我一直在考虑可以尝试的方法，但不太确定最佳实践...

1.  创建一个`@tags`包含所有标签的数组的类变量，并为每个列表项循环遍历它以查看 id 是否匹配。如果有，请显示标签名称。

2.  在我的模型中有一个自定义方法，`list_item`我循环遍历列表项并将标签名称附加到列表对象，以便我可以在我的视图中访问它`@list_item.tag_name`（我不确定这是否可以通过这种方式完成）。

3.  编写自定义 SQL 查询以将标签名称添加到活动记录结果中。例如：

    ```
    SELECT list.descriptions, tag.name 
    FROM list_items AS list 
    INNER JOIN tags AS tag 
    ON(list.tag_id = tag.id) 
    ```

虽然它似乎是对资源最友好的，但对于如此基本的东西，第三个选项似乎需要做很多工作。

霍勒，如果您想了解更多信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T07:01:53.597

使用委托

在 list_item 模型中添加这一行

```
delegate :name, :to => :tag, :prefix => true 
```

现在您可以使用访问标签名称

> @list_item.tag_name

这更像是您的第二个选择。

在此处查看有关代表的更多详细信息： [http ://www.simonecarletti.com/blog/2009/12/inside-ruby-on-rails-delegate/](http://www.simonecarletti.com/blog/2009/12/inside-ruby-on-rails-delegate/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T08:08:53.483

您还可以使用：

```
@list_item.tag.name 
```

它不需要任何额外的代码，所以对于不熟悉的人来说是可以理解的`delegate`。

# android - OAuthNotAuthorizedException，当 twitter 在 android 应用程序中运行时

> ID：11535286
> 
> 赞同：1
> 
> 时间：2012-07-18T06:14:26.647
> 
> 标签：android, twitter, twitter-oauth, android-twitter

我正在开发一个应用程序，我必须从现有代码创建一个新项目。父项目包含 Twitter 支持类，并且 Twitter 在该应用程序中运行良好。但在新创建的项目中，Twitter 抛出以下错误：

```
oauth.signpost.exception.OAuthNotAuthorizedException: Authorization failed (server replied
with a 401). This can happen if the consumer key was not correct or the signatures did not
match. 
```

这对我来说很奇怪。推特不工作。但是，如果我运行旧代码段，它可以工作......为什么不在新代码段上？当两个项目中的 Twitter 实现没有区别时。我已经验证了设备上的日期/时间..但这不是问题。任何帮助请..???

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:53:38.920

使用您发布的内容几乎不可能为您提供帮助。我可以提供一些帮助：

首先检查您从 twitter 获得的密钥（秘密和 id）。

检查你的权限（可能有这个权利，因为它是来自推特的回应）

然后检查您的身份验证过程是否正常。也就是说，如果请求签名正确，

然后检查 auth 回调，如果它被正确处理（你的实现如何返回 oauth 令牌？）。

# php - 在 PHP 中内爆一个数组范围

> ID：11535288
> 
> 赞同：0
> 
> 时间：2012-07-18T06:14:33.120
> 
> 标签：php, implode

有没有一种简单的方法，最好是单行，来内爆数组范围。

**例子：**

```
array(1,4,6,88,51,3,5,48,59,4); 
```

另外，我怎么能只在第一个和第三个值之间内爆？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-18T06:15:28.487

```
implode(',', $range);
implode(',', array_slice($range, 0, 3)); 
```

# javascript - 如果在外部单击，则隐藏弹出窗口。为什么我的脚本不起作用？

> ID：11535289
> 
> 赞同：1
> 
> 时间：2012-07-18T06:14:37.700
> 
> 标签：javascript, jquery, jquery-selectors

我在这里找到了一个解决方案，在stackoverflow上，脚本如下：

```
jQuery(document).mouseup(function (e){
    var container = jQuery(".quick-info");
    if (container.has(e.target).length === 0) {
        container.hide();
    }
}); 
```

我的尝试是：

```
jQuery('body:has(.quick-info:visible):not(.quick-info)').click(function (e) {
    jQuery(".quick-info").hide();
}); 
```

所以我的脚本意味着：捕捉在 body 上而不是在 .quick-info 上的点击，并且 body 有 .quick-info 可见。可能是什么问题？可能是一些错误的选择器？

**更新 1**

*基于拉明森的回答。*

```
jQuery('body > *:not(.quick-info)').click(function (e) {    
    var container = jQuery(".quick-info");
    if (container.has(e.target).length === 0 && e.target.nodeName != 'A'){
    jQuery(".quick-info").hide();
    }

});

```

因此，只有 > 选择了单个选择器。

e.target.nodeName != 'A' 用于链接，打开此窗口。我知道，我可以在那里上课或其他东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:24:24.700

或者 ：

```
jQuery('body:has(.quick-info:visible)').click(function (e){
    if($(e.target).is(".quick-info")) return;
    jQuery(".quick-info").hide();
});

//if($(e.target).hasClass("quick-info")) return; 
```

基于 VisioN 评论和[这篇](https://stackoverflow.com/questions/4901553/jquery-hasclass-vs-is)文章 hasClass() 更喜欢 is()

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T08:16:31.643

我在试图让“点击外部”逻辑工作时遇到了很多问题。我遇到了这个插件：[http](http://benalman.com/projects/jquery-outside-events-plugin/) ://benalman.com/projects/jquery-outside-events-plugin/ ，它为我解决了所有问题。您只需将事件绑定到元素上。你可以试一试，即使我看到你已经解决了你自己的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:19:31.880

尝试以下操作：

```
$(document).on("click", function(e) {
  if (!$(e.target).hasClass("quick-info") && $('.quick-info').is(':visible')) {
     $(".quick-info").hide();
  }
}); 
```

[演示](http://jsfiddle.net/J2rmV/2/)

# java - 将两个映射迭代到两个映射的键上的第三个映射

> ID：11535291
> 
> 赞同：0
> 
> 时间：2012-07-18T06:14:44.620
> 
> 标签：java, collections, map

我有两个映射，键为整数，值为双精度。

我想创建第三个按键排序的映射，值将是两个映射的双精度列表。

地图1：

```
1, 90.00
5, 75.45
8, 76.50 
```

地图2：

```
4, 12.00
5, 322.09
8, 11.09
9, 21.00 
```

最终地图：

```
1, (90.00,0.00)
5, (75.45,322.09)
8, (76.50,11.09)
9, (0.00, 21.00) 
```

如上所述，如果其中一个映射中的某个键在另一个映射中丢失，则另一个映射的最终映射中的值应默认为 0.00

```
Map firstMap = new HashMap<Integer, Double>();
Map secondMap = new HashMap<Integer, Double>();

Map finalMap = new HashMap<Integer, List<Double>>();

firstMap.put(1, 90.00);
firstMap.put(5, 75.45);
firstMap.put(8, 76.50);

secondMap.put(4, 12.00);
secondMap.put(5, 322.09);
secondMap.put(8, 11.09);
secondMap.put(9, 21.00); 
```

我可以使用 putAll 方法将所有键放入第三张地图。但是如何按照我的意愿放置这些值？

谢谢阅读！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:20:10.337

简单地做

```
// Create a sorted map
Map<Integer, List<Double>> finalMap = new TreeMap<Integer, List<Double>>();

Set<Integer> keys = new HashSet<Integer>();
keys.addAll(firstMap.keySet());
keys.addAll(secondMap.keySet());
for (Integer key : keys) {
    double first  = firstMap.containsKey(key)  ? firstMap.get(key)  : 0.0;
    double second = secondMap.containsKey(key) ? secondMap.get(key) : 0.0;
    finalMap.put(key, Arrays.asList(first, second));
} 
```

**使用番石榴**很简单

```
Multimap<Integer, Double> finalMultiMap = ArrayListMultimap.create();
finalMultiMap.putAll(Multimaps.forMap(firstMap));
finalMultiMap.putAll(Multimaps.forMap(secondMap));

Map<Integer, Collection<Double>> finalMap = finalMultiMap.asMap(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:31:28.283

以下代码将执行请求的操作

```
List<Map<Integer, Double>> originals = getOriginalLists();

Map<Integer, List<Double>> result = new HashMap<Integer, List<Double>>();
for (Map<Integer, Double> original : originals) {
    for (Map.Entry<Integer, Double> entry : original.entrySet()) {
        if (!result.containsKey(entry.getKey())) {
            result.put(entry.getKey(), new ArrayList<Double>());
        }
        result.get(entry.getKey()).add(entry.getValue());
    }
} 
```

它适用于一张地图列表，因此解决方案不限于两张地图。

# c# - 使用 FindByValue 从查询中填充 CheckBoxList

> ID：11535293
> 
> 赞同：1
> 
> 时间：2012-07-18T06:14:48.130
> 
> 标签：c#, asp.net, checkboxlist

我有一个 asp.net chckebox 列表：

```
 <asp:EntityDataSource ID="GradeLevelEntityDataSource" runat="server" 
            ConnectionString="name=NewCourseRequestDataEntities" 
            DefaultContainerName="NewCourseRequestDataEntities" EnableFlattening="False" 
            EntitySetName="grade_levels" OrderBy="it.grade_level_index">
        </asp:EntityDataSource>
        <asp:CheckBoxList ID="GradeLevelCheckBoxList" runat="server" cssClass="horizontalcontrols"
            DataSourceID="GradeLevelEntityDataSource" 
            DataTextField="grade_level_description" DataValueField="grade_level_id" AutoPostBack="True"
            OnSelectedIndexChanged="CollegeInstitutionsListboxChange"
            RepeatDirection="Horizontal" RepeatLayout="Flow">
        </asp:CheckBoxList> 
```

用户可以返回页面，获取记录 ID，提取记录数据，并应选中相应的复选框：

```
 CheckBoxList grades = (CheckBoxList)FindControl("GradeLevelCheckBoxList");
        foreach (request_grade_college r in CurrentRequest.request_grade_college)
            {
                ListItem grade = grades.Items.FindByValue(r.grade_level_id.ToString());
                    if (grade != null)
                      {
                          grade.Selected = true;
                      }
            } 
```

代码 r.grade_level_id.ToString() 的部分确实返回了正确的 GUID，作为 String 类型。但是，ListItem 等级保持为空，因此没有检查任何 GradeLevelCheckboxList。请问我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:55:56.317

请确保`listbox`项目的`Value`属性具有正确的值，如果项目的`Text`和`Value`不同。

此外，`Value`Property 和`grade_level_id`的大小写完全相同，并带有修剪的空格。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:30:27.493

我认为当您尝试使用 Items.FindByValue() 访问数据时，数据尚未绑定，请尝试调用

```
grades.DataBind(); 
```

在 foreach 循环之前。

# java - java中的井字游戏重置按钮

> ID：11535294
> 
> 赞同：1
> 
> 时间：2012-07-18T06:14:54.330
> 
> 标签：java, jtextarea, tic-tac-toe

我已经添加了一个按钮来休息游戏，但我不知道如何添加一个监听器或者当我点击按钮时如何调用一个方法。请告诉我如何让重置按钮工作。谢谢你。

```
 private String[] board = new String[ 9 ]; // tic-tac-toe board
   private JTextArea outputArea; // for outputting moves
   private Player[] players; // array of Players
  private ServerSocket server; // server socket to connect with clients
  private int currentPlayer; // keeps track of player with current move
  private final static int PLAYER_X = 0; // constant for first player
   private final static int PLAYER_O = 1; // constant for second player
  private final static String[] MARKS = { "X", "O" }; // array of marks
  private ExecutorService runGame; // will run players
  private Lock gameLock; // to lock game for synchronization
  private Condition otherPlayerConnected; // to wait for other player
  private Condition otherPlayerTurn; // to wait for other player's turn
  private boolean win;
 public TicTacToeServer()
  {
  super( "Tic-Tac-Toe Server" ); // set title of window

  // create ExecutorService with a thread for each player
  runGame = Executors.newFixedThreadPool( 2 );
  gameLock = new ReentrantLock(); // create lock for game

  // condition variable for both players being connected
  otherPlayerConnected = gameLock.newCondition();

  // condition variable for the other player's turn
  otherPlayerTurn = gameLock.newCondition();      

  for ( int i = 0; i < 9; i++ )
     board[ i ] = new String( "" ); 
  players = new Player[ 2 ]; // create array of players
  currentPlayer = PLAYER_X; // set current player to first player

  try
  {
     server = new ServerSocket( 12345, 2 ); // set up ServerSocket
  } // end try
  catch ( IOException ioException ) 
  {
     ioException.printStackTrace();
     System.exit( 1 );
  } // end catch

  outputArea = new JTextArea(); // create JTextArea for output
  add( outputArea, BorderLayout.CENTER );
  JButton reset= new JButton ("Reset");
  add(reset, BorderLayout.SOUTH);
  reset.setActionCommand("reset");
  //reset.addActionListener(this);
  outputArea.setText( "Server awaiting connections\n" );

  setSize( 300, 300 ); // set size of window
  setVisible( true ); // show window
  } // end TicTacToeServer constructor 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:25:58.090

你应该使用 ActionListener：

将其注册到按钮，实现将包含单击按钮后将自动调用的代码。这就是 java 事件系统的工作原理。

这是一个教程[动作监听器](http://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:29:26.853

你可以像这样添加一个动作监听器

```
 reset.addActionListener(new ActionListener() { 
      public void actionPerformed(ActionEvent e)
      {
         //Execute when button is pressed
      }        
    }); 
```

# iphone - 如何将 Table View Controller 的类型更改为常规 View Controller？

> ID：11535297
> 
> 赞同：16
> 
> 时间：2012-07-18T06:14:58.357
> 
> 标签：iphone, objective-c, ios, xcode, storyboard

我按照“故事板教程”制作了一些表格视图控制器；现在我想将其中一个更改为常规视图控制器。

有没有办法在不制作新的情况下做到这一点？

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2013-05-04T16:21:48.200

一种选择是直接编辑情节提要文件。导航到 Finder 中的 Storyboard 并使用任何文本编辑器打开。找到有问题的视图控制器并将 xml 中的节点从 更改`tableViewController`为`viewController`。

这省去了重新创建视图控制器的痛苦，当您建立大量连接时，它会派上用场。这也适用于相反的方式。如果你有一个 viewController 最初是一个普通的视图控制器，但你想把它变成一个表视图控制器，你可以简单地编辑文件反转节点。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-07-18T06:18:42.917

您需要创建一个新的视图控制器并将一个 tableview 拖入其中。请记住将 tableview 的委托和数据源设置为视图控制器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-18T07:08:23.320

我有同样的场景，我需要将 Tableviewcontroller 更改为视图控制器。我搜索了一个解决方法，但最终没有一个确切的解决方案。我所做的是添加视图控制器的子类并删除 UITableview 并添加更多我想要的控件。相当不方便，但最终还是成功了！

# iphone - 用于移动网页的 jquery 实时点击绑定

> ID：11535308
> 
> 赞同：1
> 
> 时间：2012-07-18T06:15:57.817
> 
> 标签：iphone, jquery

我正在为移动设备制作一个网站，其中我有一个名称列表，我需要将点击事件绑定到列表。我使用 jquery 完成了这个。在所有网络设备（android、blackberry、nokia）中，当我单击列表时，结果会出现，但只有在 iphone 中事件不会触发。我该如何解决。

```
<ol id="movie-list">
 <li> Movie 1 </li>
 <li> Movie 2 </li>
 <li> Movie 3 </li>
</ol>

$('#movie-list li").live("click", function() {
 console.log($(this).html());
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:32:36.387

[http://bugs.jquery.com/ticket/5677](http://bugs.jquery.com/ticket/5677) - 实时点击事件不要在 MobileSafari (iPhone) 上注册

显然这是一个 jQuery 错误。"*解决方法是将 onclick="" 添加到您要附加到的元素中....* "

但另一方面，[`.live()`已弃用](http://api.jquery.com/live/)。

该链接提供了有关移植到较新方法的信息。如果使用 jQuery 1.7+：

```
$(document).on("click", "#movie-list li", function() {
    console.log($(this).html());
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:31:29.500

使用 jquery`.on`而不是`.live`

您的代码中有错字`'#movie-list li"`应该是`"#movie-list li"`

```
$(document).on("click", "#movie-list li", function() {
   alert($(this).html());
}); 
```

**编辑：** 完全重复 -[如何在 iPhone Web 应用程序中使用 jQuery 进行点击事件](https://stackoverflow.com/questions/3025348/how-do-i-use-jquery-for-click-event-in-iphone-web-application)

# java - java中的Environment.tickcount

> ID：11535318
> 
> 赞同：2
> 
> 时间：2012-07-18T06:16:51.763
> 
> 标签：java, jsp

这个 C# 代码在 Java 中的等价物是什么？

```
int tick = 0;
tick = Environment.TickCount; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:25:12.170

在 Java 中没有让系统正常运行的标准方法。如果你知道你在一个类 Unix 系统上，你可以使用：

```
Runtime.getRuntime().exec('uptime'); 
```

或者您可以读取系统文件：

```
new Scanner(new FileInputStream("/proc/uptime")).next(); 
```

在某些系统上，这也将是 的返回值`System.nanoTime()`，但不能保证 的来源`System.nanoTime()`（甚至不能保证返回值为正）。

如果您想要这样做的唯一原因是测量经过的时间，您可以使用`System.nanoTime()`，或者，如果您想测量经过的挂钟时间（包括在计时时可能进行的任何调整），请使用`System.currentTimeMillis()`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-06T01:54:39.913

正如@TedHopp 提到的，一种可能性是使用 System.currentTimeMillis()。就我而言，我想要以秒为单位的“滴答计数”，而不是毫秒。这是我目前用于 Java 版本的相应 C# 方法的内容。

```
 // Static field used by the tickCountInSeconds() method
   private static long _firstCallTimeSeconds = 0; 
```

...

```
 /**
    * Method to get an arbitrary constantly increasing time in seconds, i.e., a time in seconds that
    * can be used to compare the relative times of two events, but without having any other meaning.
    *
    * The .Net version of this method uses the Windows "tick count" facility, but since that doesn't
    * exist in Java we fake it by getting the system (Unix-style) time in milliseconds and
    * converting it to seconds. But to avoid the "year 2038 problem" (or to avoid criticism for
    * creating a year 2038 vulnerability) the time of the first call is saved in a static field and
    * subtracted from the returned result.
    */
   private synchronized static int tickCountInSeconds() {
      long currentTimeSeconds = System.currentTimeMillis() / 1000L;
      if (_firstCallTimeSeconds == 0) {
         _firstCallTimeSeconds = currentTimeSeconds;
      }

      return (int)(currentTimeSeconds - _firstCallTimeSeconds);
   } 
```

# css - 流入同级之间的展开边距

> ID：11535320
> 
> 赞同：3
> 
> 时间：2012-07-18T06:16:55.400
> 
> 标签：css, margin, collapse

这就是让我在晚上哭泣的原因。有人会希望 CSS 有一个指令`margin-collapse:none;`，但可惜，这是我的想象。

你如何让两个流入的兄弟姐妹不崩溃？

我之前在元素和生成元素上都尝试过`overflow:hidden`, `clear:both`，但没有任何效果。`border:1px solid white`

这是[示例](http://jsfiddle.net/dkYPA/)。H2 已从流程中移除，以便在侧面看起来很漂亮，而不是崩溃，而 H3 则坐在那里，无论如何都与其前身一起崩溃。现在边距折叠使得 H2 和 H3 以连贯的方式垂直对齐，独立于前面的元素，不可能。

约束：不能添加 HTML 标记，因为内容是通过 Markdown 生成的。

这可以解决吗？

**编辑**：事实上，这里的目标是让`h2` 和他们的第一个`h3`出现在相同的高度。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T17:55:14.063

## 一种解决方案

在您的特定情况下，您似乎不一定需要`h2`退出流程，而是将其设置为`position: relative`，因为[它应该达到](http://jsfiddle.net/dkYPA/4/)您想要的效果。

但是，这并不能真正解决您的保证金崩溃问题。

## 另一种解决方案

如果您将`h3`a 后面的设置`h2`为`display: inline-block`，则使用...

```
h2+h3 {display: inline-block;} 
```

...然后[**它解决了您的折叠问题**](http://jsfiddle.net/dkYPA/5/)，假设您没有`inline` [紧跟](http://jsfiddle.net/dkYPA/7/)`h3`标签的元素。您似乎计划在块级`p`标签中包含任何以下文本，因此这不应该成为问题。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-22T05:44:07.713

这是我想出的解决方法：

```
.ncFix {
  display: inline-block;
}

/*ensures width isn't cropped. 
  acts as width: auto - like a
  regular block-level element*/
.ncFix:before {
  content:". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .";
  display: block;
  height: 0;
  overflow: hidden;
} 
```

该伪元素使元素的`width: auto`行为就像`width: auto`带有 的元素一样`display: block`。这是内容“属性”的一个长字符串，但这几乎是我能想到的让它工作的唯一方法。

看看演示 -> [http://tinkerbin.com/H3G7HjWg](http://tinkerbin.com/H3G7HjWg)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-18T07:04:53.627

您是否试图避免两个边距折叠在一起？您能否在 h3 标签中添加 1px 白色边框（并将其边距调整 1px 以进行补偿）？我认为这应该可以防止利润崩溃。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-24T12:40:36.530

我重写了你的 css - 对我来说它看起来有点不对劲

```
*{
 border: 1px solid red;   
}
html {}
body{ border:0 solid gray; border-top:none; border-bottom:none;
   width:8.5in; margin:auto;
   font-family:Helvetica, sans-serif; padding:1em; padding-left:3.5in; }

h1{ font-size:36pt;}
h2, h3{
 display: block;   
}
h2{margin-left: -200px; display: block; float: left}
h3{margin-top: 40px;} 
```

同样在 HTML 中，您的 UL 标记之一没有正确关闭（它是用 ul 而不是 /ul 关闭的。这导致了一个问题。

我还建议在您的尺寸中使用像素而不是英寸 - 英寸和厘米有时会在布局方面产生不可靠的结果。

# android - 表仅包含_id时的Android Sqlite INSERT错误

> ID：11535329
> 
> 赞同：3
> 
> 时间：2012-07-18T06:17:47.193
> 
> 标签：android, sqlite

我有一个只包含 _id 的 SQLite 表：

```
"create table rule (_id integer primary key);"; 
```

运行这组命令时：

```
ContentValues initialValues = new ContentValues();
mDb.insert(TABLE, null, initialValues) 
```

我得到以下异常：

```
android.database.sqlite.SQLiteException: near "null": syntax error (code 1): , while compiling: INSERT INTO rule(null) VALUES (NULL) 
```

发生初始错误是因为 ContentValues 不能为空。Android 提供了一个名为 nullColumnHack 的便利参数，它允许您传递值为 null 的单个列，以绕过此问题。

但是，这不适用于我的情况，因为行 id (_id) 不能为空！根据[SQLite 语言文档](http://www.sqlite.org/lang_insert.html)中的语法，我希望能够运行 SQLite 代码：

```
INSERT INTO rule DEFAULT VALUES; 
```

我怎样才能使用android插入方法来实现这样的事情？或者有什么我需要添加到我的创建语句中的吗？

**更新：**在表仅包含 rowid 的情况下，正确的语法是使用 INSERT INTO *_* _ DEFAULT VALUES。

android 中列出的 sqlite 插入方法不支持将 DEFAULT VALUES 作为选项。

[已向 google 提交了一个错误](http://code.google.com/p/android/issues/detail?id=20536)，为了获得对默认值的支持，需要执行以下命令：

```
mDb.execSQL("INSERT INTO rule DEFAULT VALUES;");
Cursor c = mDb.rawQuery("SELECT last_insert_rowid()",null);
c.moveToFirst();
int rowid = c.getInt(0); 
```

如已接受的答案中所述，我们可以通过使用 nullHackColumn 并将行 id (_id) 分配给 null 并让 SQLite 从 null 转换为自动递增值来解决此问题（和默认值）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T07:23:47.430

正如 jeet 提到的，您可以提供`nullColumnHack`第二个参数。正如您自己提到`autoincrement`的，没有必要增加主键的值。所以语法：

```
insert into rule (_id) values(null) 
```

其中 _id 是主键，自动增量值对于 sql 是正确的。我认为大多数 SQL 数据库都会替换`null`为新的增量值，至少 MySQL、SQLite 和 Oracle 可以做到这一点

因此：

```
ContentValues cv = new ContentValues();
db.insert("rule", "_id", cv); 
```

应该给你想要的结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:19:55.663

您需要添加`autoincrement`到您的创建表查询，如：

```
"create table rule (_id integer primary key autoincrement);"; 
```

在您的情况下，您需要在每次插入时手动设置行的 ID。这样，当您插入一个空行时，它会自动增加它，就像您在案例中所做的那样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:25:33.160

试试这种方式：

```
ContentValues initialValues= new ContentValues();
if(check here --id is null----)
{
  initialValues.put("_id", "0");  
}
else
{
  initialValues.put("_id", id);  
}

mDb.insert(TABLE, null, initialValues) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T07:06:37.097

检查以下内容：

[http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#insert(java.lang.String, java.lang.String, android.content.ContentValues)](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#insert%28java.lang.String,%20java.lang.String,%20android.content.ContentValues%29)

SQL 不允许插入一个完全空的行而不命名至少一个列名。如果您提供的值为空，则表示不知道列名并且无法插入空行。如果未设置为 null，则 nullColumnHack 参数提供可空列名称的名称，以便在您的值为空的情况下显式插入 NULL。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-05-27T04:43:02.260

插入需要一个空值，您只需输入

```
db.insert ("people", null, c); 
```

# java - 如何为 MS Dynamics CRM 2011 服务生成 Java 代码

> ID：11535333
> 
> 赞同：2
> 
> 时间：2012-07-18T06:18:06.100
> 
> 标签：java, axis2, dynamics-crm, dynamics-crm-2011

我尝试使用“Eclipse 1.6.2 的 Apache Axis2 工具代码生成器向导插件”生成 Java 代码，但出现以下错误

> 完成过程时出错 - java.lang.InterruptedException: org.apache.axis2.wsdl.codegen.CodeGenerationException: java.lang.RuntimeException: can't serialize the policy ...

任何的想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-28T10:33:13.340

我们在开发中使用 apache ant 从 Web 服务生成存根

它很好并且易于使用。

这是链接 [http://ant.apache.org/](http://ant.apache.org/)

# php - 使用 php 访问哈希元素

> ID：11535334
> 
> 赞同：0
> 
> 时间：2012-07-18T06:18:12.470
> 
> 标签：php, arrays, hash

我有一个哈希数组的形式

```
[{"sector":"Consumer, Cyclical","ticker":"NWY","entity":"New York & Co","New_York_&_Co":[{"count":1,"entity":"New York"}],"type":"SCap"}] 
```

我正在尝试列出与所有出现的键值“实体”​​相对应的值。我确实使用了 json_decode，

```
$testJson = json_decode('[{"sector":"Consumer, Cyclical","ticker":"NWY","entity":"New York & Co","New_York_&_Co":[{"count":1,"entity":"New York"}],"type":"SCap"}]'); 
```

当我尝试 `echo var_dump($testJson[0]);
它以形式显示输出

```
array
  0 => 
  object(stdClass)[438]
  public 'sector' => string 'Consumer, Cyclical' (length=18)
  public 'ticker' => string 'NWY' (length=3)
  public 'entity' => string 'New York & Co' (length=13)
  public 'New_York_&_Co' => 
    array
      0 => 
        object(stdClass)[439]
          ...
  public 'type' => string 'SCap' (length=4) 
```

但是`echo var_dump($testJson[0]->entity)` 或 echo var_dump($testJson[0]->sector) 给我错误..“试图获取非对象的属性”..我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:31:33.287

```
$testJSon= json_decode('[{"sector":"Consumer, Cyclical","ticker":"NWY","entity":"New York & Co","New_York_&_Co":[{"count":1,"entity":"New York"}],"type":"SCap"}]');
//var_dump($testJSon);
echo $testJSon['0']->sector; // will output `Consumer, Cyclical`
echo $testJSon[0]->{'sector'}; // will also output same 
```

您可以将其转换为数组并获取如下值：

```
$testJSon= json_decode('[{"sector":"Consumer, Cyclical","ticker":"NWY","entity":"New York & Co","New_York_&_Co":[{"count":1,"entity":"New York"}],"type":"SCap"}]',true);
echo $testJSon[0]['entity']; // will return "New York & Co" 
```

# php - 使用 Zend 时在数据库中存储加密电子邮件的最佳实践

> ID：11535336
> 
> 赞同：2
> 
> 时间：2012-07-18T06:18:18.860
> 
> 标签：php, mysql, zend-framework, encryption

我正在使用带有 LAMP 堆栈的 Zend Framework。客户要求保护敏感数据，包括电子邮件。在这个项目中，电子邮件将以两种方式使用：发送自动消息和发送新闻通讯。

有没有人用这个工作过？哪些算法快速、可靠并且可以与可变加密密钥一起使用？我应该在哪里存储加密密钥？数据库表应该使用什么引擎？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T08:01:50.160

好的，这是我的 2cent。

对于需要即时加密和解密的数据，我建议使用对称密钥算法，首先想到的是[Blowfish](http://en.wikipedia.org/wiki/Blowfish_%28cipher%29)。它既快速又相对安全。

至于变量键。通常，为需要加密和解密的每个条目使用不同的密钥几乎没有任何好处。因此，我建议使用在配置文件中某处设置的单个密钥。

如果您确实需要为每个用户/记录提供一个密钥，我建议不要将它们保存在数据库中。将它们保存到磁盘上的平面文件中。

至于表引擎，你选择哪一个并不重要，只要它不是基于内存的。

* * *

至于优点 - 我认为有优点，如果客户特别要求的话。即使在技术上几乎没有理由创建这种加密，这也将有助于客户感到安全。当然，这可能是错误的，但它确实有助于使数据更加安全，并让客户睡得更香。因此，如果**客户要求，那就**去吧！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T09:21:17.507

如果您真的必须这样做，Janis Peisenieks 给出的答案是一个很好的起点。

据我所知，在 PHP 中存储密钥没有安全的方法——这意味着对您的系统有适度控制的攻击者可以从配置文件中检索密钥，并使用它来解密数据。

想要知道您用户的电子邮件地址的攻击者将有多种选择来检索该数据 - 正如 GordonM 所写，如果您的系统向这些用户发送电子邮件，则该电子邮件相对容易被拦截，而正文可能被加密，到“解决”不是。

只需检查您是否将对密码进行散列（而不是加密）密码（如果您的系统使用这些密码？）

# coldfusion - ColdFusion：Android strings.xml 文件功能

> ID：11535346
> 
> 赞同：0
> 
> 时间：2012-07-18T06:18:49.027
> 
> 标签：coldfusion

我想知道 ColdFusion 中是否有类似于 Android strings.xml 文件的字符串集中化。因此，如果我想对字符串进行任何更改，我的代码将保持不变

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T06:34:08.057

ColdFusion 是一种编程语言，而不是用户界面框架。

ColdFusion 中没有内置 Android 的字符串资源管理功能，但您自己可以很容易地实现它。

`resources/strings.xml`：

```
<!-- keep as a structure with unique element names -->
<strings>
  <heading>This is a test.</heading>
  <greetings>
    <hello>Hello World!</hello>
    <bye>Goodbye World!</bye>
  </greetings>
</strings> 
```

ColdFusion 实用功能（例如在 CFC 组件中`util.cfc`）：

```
<cffunction name="ReadResouceXml" returntype="struct" access="public" output="no">
  <cfargument name="path"   type="string" required="yes">
  <!--- internal use argument --->
  <cfargument name="xmlDoc" type="xml"    required="no">

  <cfset var xmlElem = "">
  <cfset var output  = StructNew()>

  <!--- read XML file from disk --->
  <cfif not StructKeyExists(arguments, "xmlDoc")>
    <cffile action="read" file="#ExpandPath(path)#" variable="xmlDoc" charset="UTF-8">
    <cfset xmlDoc = XmlParse(xmlDoc).XmlRoot>
  </cfif>      

  <!--- recursively convert XML to a CF struct --->
  <cfloop index="i" from="1" to="#ArrayLen(xmlDoc.XmlChildren)#">
    <cfset xmlElem = xmlDoc.XmlChildren[i]>
    <cfif ArrayLen(xmlElem.XmlChildren) gt 0>
      <cfset output[xmlElem.XmlName] = ReadResouceXml("", xmlElem)>
    <cfelse>
      <cfset output[xmlElem.XmlName] = xmlElem.XmlText>
    </cfif>
  </cfloop>
  <cfreturn output>
</cffunction> 
```

冷熔用法：

```
<cfobject type="component" name="util" component="util">
<cfset strings = util.ReadResouceXml("resources/strings.xml")>

<cfoutput>
<h1>#strings.heading#</h1>
#strings.greetings.hello# - #strings.greetings.bye#
</cfoutput> 
```

# mysql - 从 mysql 的列中删除所有或特定的不可打印字符

> ID：11535350
> 
> 赞同：2
> 
> 时间：2012-07-18T06:19:10.283
> 
> 标签：mysql, regex, ascii, non-printable

我想从我的 mysql 列中删除所有 OR 特定的不可打印字符。我认为这可以使用**regexp_replace()** 函数来实现，但我不知道。不可打印字符的 Ascii 值从 o 到 31。我有一种解决方案，如下所示：如果我编写一个从输入字符串中读取所有字符并转换为 ASCII 的函数。然后每次我将此 Ascii 值与输入的 ascii 值进行比较，如果匹配则替换它，我的函数将返回替换字符串。但是在我的应用程序中，数据总是批量的，所以我认为即使我使用选择查询和我的用户定义函数，它也会消耗很多时间来处理。所以我想要替代方法来执行这项任务。我认为**regexp_replace()**会很棒，但我不知道如何使用它

请帮忙

谢谢你，罗纳克

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T08:01:24.473

```
DROP function IF EXISTS mysql_replaceallnonprintablecharacters; 

CREATE function mysql_replaceallnonprintablecharacters (data VARCHAR(1024)) 
returns VARCHAR(1024) 
begin 
  DECLARE i INT DEFAULT 0; 

  DECLARE finaldata VARCHAR(1024) DEFAULT ''; 

  SET FINALDATA:=data; 

  WHILE i < 31 do 
    SET FINALDATA:=REPLACE(finaldata, CHAR(i), ''); 
    SET i := i+1; 
  end WHILE; 

  RETURN finaldata; 
end 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-18T07:16:16.220

MySQL 本身不支持正则表达式替换操作，仅支持搜索。

也就是说，有些[包](https://launchpad.net/mysql-udf-regexp)确实提供了一些功能，例如 Oracle 的 REGEXP_REPLACE() 作为用户定义的函数。

正则表达式`[[:cntrl:]]+`匹配一个或多个不可打印字符（ASCII 0-31 和 ASCII 127）。

因此，使用上述包，`REGEXP_REPLACE?(text, "[[:cntrl:]]+", "")`将通过删除`text`所有不可打印字符来进行修改。

# c# - 在按钮上单击我生成一个 PDF 文件，然后在服务器端打开它：

> ID：11535353
> 
> 赞同：0
> 
> 时间：2012-07-18T06:19:24.437
> 
> 标签：c#, asp.net, pdf

```
Response.ContentType = "application/pdf";
Response.TransmitFile(path); 
```

在同一个标​​签中打开我想打开不同的标签。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:24:49.200

将您的链接或表单目标设置为`_blank`. 这将迫使它在另一个窗口中打开结果

```
<a href="urlOfThePage" targret="_blank" >Click me</a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:26:53.040

如果您必须在新选项卡中打开 pdf，则必须使用`_blank`in [target](http://www.w3schools.com/tags/att_a_target.asp)属性按以下方式在新选项卡中打开下载页面

```
<a href="pdf.aspx" target="_blank">PDF</a> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:22:38.740

将代码放在新页面中，然后单击按钮在新窗口中打开该页面。

# android - 如何检测自定义操作栏的点击？

> ID：11535360
> 
> 赞同：1
> 
> 时间：2012-07-18T06:19:39.313
> 
> 标签：android, custom-controls, android-actionbar, actionbarsherlock

我有一个要求，我需要在操作栏的左侧有一个图标（不是应用程序图标）。

我尝试创建自定义视图，但我不知道如何检测对该图标的点击。

想到的其他选项是使用 setIcon(mycustomicon) 并处理 onOptionSelected 方法的点击事件；但是这个方法也没有被调用并且不起作用。

我正在使用 actionbar sherlockholmes 库。是不是因为这个？

请帮助我，因为我坚持了好几天。

提前致谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-04-29T10:08:59.943

这可能会帮助你

```
 getSupportActionBar().setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);
            getSupportActionBar().setCustomView(R.layout.actionbar);
            /***THis will be used to creatre a custom action bar click listener **/
            View v =getSupportActionBar().getCustomView();
           /*** sample click is a id of the view i have used in action bar view ***/
            ((Button)v.findViewById(R.id.smaple_click)).setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    /*****Add your click function here******/

                }
            }); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-18T06:37:24.077

如果要添加自定义视图`getSupportActionBar().setCustomView(resId)`，则需要通过调用来获取新创建的 View 对象`getSupportActionBar().getCustomView()`。`setOnClickListener`然后，您可以像通常对其他视图所做的那样设置您的点击处理程序。

另一方面，如果您正在使用将 View 作为第一个参数的 setCustomView 的重载之一，则可以省略第一步，因为您已经有一个 View 对象可以使用。

这是第一种情况的示例：

```
getSupportActionBar().setCustomView(R.layout.test);
getSupportActionBar().setDisplayShowCustomEnabled(true);

getSupportActionBar().getCustomView().setOnClickListener(new OnClickListener() {

    @Override
    public void onClick(View view) {
        // your code here
    }
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-18T07:04:12.537

您可以制作自己的“动作”，就像这样

```
public class CustomAction extends AbstractAction
{
    public interface CustomActionListener
    {
        public void onAction(int drawable);
    }

    private CustomActionListener listener;
    private int drawable;

    public CustomAction(CustomActionListener listener, int drawable)
    {
        super(drawable);

        this.listener = listener;
        this.drawable = drawable;
    }

    @Override
    public void performAction(View view)
    {
        if (listener != null)
        {
            listener.onAction(drawable);
        }
    }
} 
```

然后，将操作添加到操作栏。

```
CustomAction menuAction = new CustomAction(this, R.drawable.ic_menu);
ActionBar.addAction(menuAction); 
```

确保活动实现了 CustomActionListener，您几乎可以在其中执行任何操作。

```
@Override
public void onAction(int drawable)
{
    // your code goes here...
} 
```

我必须承认我使用的是[johannilsson/android-actionbar](https://github.com/johannilsson/android-actionbar/)的略微修改版本。但主要思想是要知道如何使用 Action 和 AbstractAction。查看库中“BackAction”的实现。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-07-18T06:58:19.513

您不需要创建自定义视图 jst 在菜单布局中添加项目（具有所需的图标）。然后处理 onOptionSelected() 并确保您返回**true**

# asp.net-mvc - 为什么我的 MVC4 应用程序中未修改的模板代码尝试注册区域两次？

> ID：11535369
> 
> 赞同：0
> 
> 时间：2012-07-18T06:20:34.747
> 
> 标签：asp.net-mvc, asp.net-mvc-routing, asp.net-mvc-4

我有一个新的 MVC4 应用程序，我在 VS11 beta 中使用 MVC4 互联网项目模板创建。现在，当我将应用程序部署到我的网站托管服务提供商，并在 Global.asax 类中保持以下行处于活动状态时，我收到有关 MVC 尝试注册已存在的路由的错误。当我注释掉这一行时，一切运行正常，但是到特定区域控制器的操作链接被破坏，正如我在[这个问题](https://stackoverflow.com/questions/11531046/what-is-wrong-with-my-area-routing-in-my-bin-deployed-mvc4-app)中所问的那样。

```
AreaRegistration.RegisterAllAreas(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T12:58:08.437

如果您的部署 bin 目录中有旧的 dll（如果您在某个时候重命名了项目或 dll），那么您会收到此错误。

确保在部署时清理 bin 目录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-28T14:09:24.007

当您在与根网站中的控制器同名的区域中拥有控制器时，通常会发生这种情况。即“WebsiteNamespace.Controllers.HomeController”和“WebsiteNamespace.Areas.MyArea.Controllers.HomeController”。

为了纠正这个问题，您需要在您的基础网站路由上声明命名空间：

```
 routes.MapRoute("Default", "{controller}/{action}/{id}", new {
            controller = "Home",
            action = "Index",
            id = UrlParameter.Optional
        }, new[] { "WebsiteNamespace.Controllers" }); 
```

# .htaccess - 将多个动态 URL 重定向到单个静态 URL

> ID：11535372
> 
> 赞同：0
> 
> 时间：2012-07-18T06:20:41.340
> 
> 标签：.htaccess

我们有多个旧网址，例如：

```
blog/index.php?d=26&m=12&y=11   
blog/index.php?m=03&y=12&d=22&entry=entry120322-135153
blog/index.php?m=06&y=12&d=&entry=entry120602-191105    
blog/index.php?d=19&m=02&y=12 
```

index.php 之后的逻辑始终是 ?d、?m 或 ?y。

我需要将这些全部重定向到：

```
www.domain.com/blog 
```

我从这里尝试了几种不同的方法，但似乎把逻辑搞混了。

# 附录

按照 TerryE 的建议，当我输入链接时

> `http://www.coreyogaasia.com/blog/index.php?m=12&y=11&d=26&entry=entry111226-110412`

在我的浏览器中，它解析为

> `http://www.coreyogaasia.com/blog/?m=12&y=11&d=26&entry=entry111226-110412`

（index.php 被删除）。但是，它不会

> `http://www.coreyogaasia.com/blog`

我也把它放在 wordpress 上面：

```
# BEGIN WordPress 
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase / 
RewriteRule ^index\.php$ - [L] 
RewriteCond %{REQUEST_FILENAME} !-f 
RewriteCond %{REQUEST_FILENAME} !-d 
RewriteRule . /index.php [L] 
</IfModule> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T10:23:21.233

您需要使用**QUERY_STRING**条件来查看参数，例如：

```
RewriteEngine  On
RewriteBase    /

RewriteCond %{QUERY_STRING} ^(d|m|y)=\d
RewriteRule blog/index.php  http://www.domain.com/blog?  [R=302,L] 
```

如果要保留参数，请删除 ? 在重定向字符串中。但是，*如果*您这样做并且目标重定向到同一目录，那么您将需要额外的条件来防止方向循环。

一旦你得到这个工作交换 302 到 301。有关此的更多信息，请参阅[调试 .htaccess 重写规则的提示](https://stackoverflow.com/questions/9153262/tips-for-debugging-htaccess-rewrite-rules)。

# 碰撞请求后的附录

如果你有一个`.htaccess`in`DOCROOT/blog`那么你需要在 RewriteBase 下方和第一个 WP cond/rule 上方插入它：

```
RewriteCond %{QUERY_STRING} ^(d|m|y)=\d
RewriteRule index.php       http://www.domain.com/blog/?  [R=302,L] 
```

# c++ - 具有可变大小行的 C++ 二维数组

> ID：11535384
> 
> 赞同：13
> 
> 时间：2012-07-18T06:22:03.607
> 
> 标签：c++, arrays, vector, multidimensional-array, jagged-arrays

你怎么能创建一个二维数组，比如说，`arr[][]`有 5 行，每行有可变数量的列？

可能有 4 列`arr[5][]` 的第一行`arr[0][]`

第二行`arr[1][]`有 5 列等等？

我不介意 STL 矢量解决方案，但我还不太了解矢量。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-18T06:24:13.763

使用 C++11，您可以使用向量轻松完成此操作（添加换行符以提高可读性）：

```
std::vector< std::vector <int > > arr = {
{1,2,3},
{4,5},
{6,7,8,9,0}
}; 
```

如果您没有 C++11 编译器，它的工作方式完全相同，但您将无法轻松初始化它们。您可以单独设置元素：

```
std::vector< std::vector <int > > arr;//vector of vectors. Think of each element as of a "row"
std::vector<int> sub;//a temporary "row"
sub.push_back(1);
sub.push_back(2);
arr.push_back(sub);//Adding a "row" to the vector
sub.clear();//Making another one
sub.push_back(1);
sub.push_back(12);
sub.push_back(54);
arr.push_back(sub);//Adding another "row" to the vector 
```

或者您可以使用普通数组初始化每个“行”：

```
std::vector< std::vector <int > > arr;
static const int arr[] = {1,2,3,4};//A "row" as an ordinary array
vector<int> vec (arr, arr + sizeof(arr) / sizeof(arr[0]) ); //Setting a "Row" as a vector
arr.push_back(vec);//Adding the "row" to the vector of vectors. 
```

用普通数组做你想做的事并不完全可能，因为当你制作一个 时`array[X][Y]`，它会自动成为一个`X*Y`矩阵。但是，您可以使用指针数组：

```
int * array[3];
//also possible: int ** array =  new int*[3]; but don't forget to delete it afterwards.
int sub1[3] = {1,2,3};
int sub2[2] = {1,2};
int sub3[4] = {1,2,3,4};
array[0] = sub1;
array[1] = sub2;
array[2] = sub3; 
```

并使用 . 访问元素`array[X][Y]`。但是，矢量解决方案总体上要好得多。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-18T06:26:19.197

你可以这样做（假设一个`int`元素数组）：

```
int** arr = new int*[5];
for(size_t i = 0; i < 5; ++i)
{
    arr[i] = new int[4];
} 
```

这为您提供了一个 5 x 4 的二维动态分配数组。然后您可以像这样使用它：`arr[i][j] = 15;`

使用完数组后不要忘记取消分配内存：

```
for(size_t i = 0; i < 5; ++i)
{
    delete[] arr[i];
}
delete[] arr; 
```

但是，我建议使用`std::vector`。您可以查看其他答案以供参考。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-05-02T03:30:40.563

一种不同行大小的方法

```
#include <iostream>
#include <string>
int main()
{
  int test1[]={1,2,3};
  int test2[]={4,5};

  int *test[]={test1,test2};

  std::cout << test[0][1];//2
  std::cout << test[1][1];//5
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-07-18T06:23:58.340

所以，二维数组是`std::vector<std::vector<T>>`，`T`类型是哪里。另外，mb `std::array<std::vector<int>, 5>`。或者编写自己的数组类。

# c++ - 理解“最令人头疼的解析”——为什么允许模棱两可的语法？

> ID：11535388
> 
> 赞同：3
> 
> 时间：2012-07-18T06:22:26.953
> 
> 标签：c++, most-vexing-parse

在试图理解 C/C++ 中“最令人头疼的解析”问题时，这个问题立刻浮现在脑海中——为什么有一个语法会导致这个问题开始呢？

例如，

```
class Timer
{
public:
    Timer();
};

class TimeKeeper
{
public:
    TimeKeeper(const Timer& t);

    int get_time()
    {
        return 1;
    }
};

int main()
{
    TimeKeeper time_keeper(Timer());
    // the above is eq to this: TimeKeeper time_keeper(Timer (*)());
} 
```

那么，为什么不简单地禁止`TimeKeeper time_keeper(Timer())`函数声明采用未命名函数 ptr 返回类型 Timer 呢？作为一个函数声明器是`TimeKeeper time_keeper(Timer (*)())`劣等的吗？

是不是由于这种语法，我们甚至会产生这种歧义，或者我错过了什么？

编辑：就个人而言，我从未用作`TimeKeeper time_keeper(Timer())`函数声明。我一直使用`Timer (*)()`来指定函数指针，因为我发现它更清晰。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-18T06:46:21.053

> 那么为什么不简单地禁止 TimeKeeper time_keeper(Timer()) 成为一个函数声明，它接受一个未命名的函数 ptr 返回类型 Timer 呢？

假设这个函数声明是允许的，因为它使用了*未命名*的 参数。如果是这样，那么以下*声明*也将被禁止：

```
int max(int,int);  //error (in hypothetical C++)
int min(int,int);  //error (in hypothetical C++) 
```

然后程序员将*被迫**在*声明中写入参数*名称*：

```
int max(int a,int b);  //ok 
int min(int a,int b);  //ok 
```

但是接下来又有人会站出来问：*“为什么我在声明中不使用参数名称时要强制写它？为什么它不是可选的？* ”

我认为这家伙是理性的，他问的有道理。*强迫*程序员在声明中命名参数确实是不合理的。

--

阅读您的评论，您似乎认为以下声明*完全相同*：

```
int max(Timer());
int max(Timer(*)()); 
```

不。从*语法*的角度来看，它们并不完全相同，尽管从*行为**的*角度来看它们是完全相同的。

 **细微的区别在于，前者的参数类型是一个不接受任何内容并返回的函数`Timer`，而在后者中，参数类型是*指向*一个不接受任何内容并返回的函数的指针`Timer`。你看得到差别吗？

但问题是，为什么它们在行为方面是相同的？那么答案是，在前一个声明中，参数类型被*调整*，然后*变成*了一个指针类型，所以它的行为和第二个声明一样。

C++03 标准在 §13.1/3 中说，

> 仅在一个是*函数类型* 而另一个是*指向相同函数类型的指针的*参数声明是等价的。 **即函数类型被调整为指向函数类型的指针**（8.3.5）。

我希望它在 C++11 中也是一样的。

--

您的疑问（取自评论）：

> 仍然没有更接近理解为什么我们需要 2 语法？

因为它们是两种*不同*的类型。函数类型和指向函数类型的指针。仅作为参数类型，它们的行为相同。否则，它们是不同的。请在此处查看我的答案，以了解它们在哪里表现不同：

*   [参考函数语法 - 有和没有 &](https://stackoverflow.com/questions/7321993/reference-to-function-syntax-with-and-without)

而且由于它们在其他情况下的行为不同，我们*拥有*它们，我们*需要*它们。该标准不（也不应该）禁止一种语法，因为它们作为参数类型的行为相同。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-18T07:49:15.603

请注意...您已被听到:)

C++11 通过引入统一初始化语法专门解决了这个问题。现在您可以编写`TimeKeeper time_keeper{Timer{}};`并且没有解析歧义。**

# java-me - 我们可以使用 j2me(java) 流式传输和观看 youtube 视频吗

> ID：11535389
> 
> 赞同：3
> 
> 时间：2012-07-18T06:22:35.187
> 
> 标签：java-me, midp-2.0

谁能在 j2me java MIDlet 上播放 youtube 视频？我想从 Rss Feed 播放视频？我的输入网址： [http ://teluguone.com/tmdb/videos/Chinna-Smokes-Cigarette--Fabulous-Comedy-9533.html](http://teluguone.com/tmdb/videos/Chinna-Smokes-Cigarette--Fabulous-Comedy-9533.html)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T11:51:01.583

从 html 页面源代码中，搜索 src 指向[http://www.youtube.com/embed/](http://www.youtube.com/embed/)的 iframe 标记。src url 的最后一部分是 VIDEO_ID。例如，在[http://www.youtube.com/embed/zqpAkb5TdXo](http://www.youtube.com/embed/zqpAkb5TdXo) URL VIDEO_ID 等于 zqpAkb5TdXo。

打开[http://gdata.youtube.com/feeds/mobile/videos/VIDEO_ID](http://gdata.youtube.com/feeds/mobile/videos/VIDEO_ID)并在源代码中搜索 media:content 标签。这些标签指向带有 type='video/3gpp' 和 rtsp 协议的 url，通常可以由 J2ME 应用程序使用[Manager.createPlayer(url)](http://java.sun.com/javame/reference/apis/jsr135/javax/microedition/media/Manager.html#createPlayer(java.lang.String))打开。

# css - 如何在 CSS 中降低图像亮度

> ID：11535392
> 
> 赞同：120
> 
> 时间：2012-07-18T06:22:42.650
> 
> 标签：css

我想降低 CSS 中的图像亮度。我搜索了很多，但我所得到的只是关于如何改变不透明度，但这会使图像更亮。谁能帮我 ？

* * *

## 回答 #1

> 赞同：198
> 
> 时间：2012-07-18T06:30:16.010

您正在寻找的功能是`filter`. 它能够进行一系列图像效果，包括亮度：

```
#myimage {
    filter: brightness(50%);
} 
```

你可以在这里找到一篇有用的文章：http: [//www.html5rocks.com/en/tutorials/filters/understanding-css/](http://www.html5rocks.com/en/tutorials/filters/understanding-css/)

另一个：[http ://davidwalsh.name/css-filters](http://davidwalsh.name/css-filters)

最重要的是，W3C 规范：[https ://dvcs.w3.org/hg/FXTF/raw-file/tip/filters/index.html](https://dvcs.w3.org/hg/FXTF/raw-file/tip/filters/index.html)

请注意，这是最近才作为一项功能进入 CSS 的。它是可用的，但是大量的浏览器还不支持它，而那些支持它的浏览器将需要供应商前缀（即`-webkit-filter:`，`-moz-filter`等）。

也可以使用 SVG 来实现这样的滤镜效果。SVG 对这些效果的支持已经建立并得到广泛支持（CSS 过滤器规范取自现有的 SVG 规范）

另请注意，不要将这与`filter`旧版本 IE 中可用的专有样式混淆（尽管我可以预测当新样式删除其供应商前缀时命名空间冲突会出现问题）。

如果这些都不适合您，您仍然可以使用现有`opacity`功能，但不是您想的方式：只需创建一个具有纯黑色的新元素，将其放在图像顶部，然后使用`opacity`. 效果将是后面的图像变暗。

最后你可以在`filter` [这里](https://caniuse.com/#feat=css-filters)查看浏览器支持。

* * *

## 回答 #2

> 赞同：32
> 
> 时间：2012-07-18T06:33:23.300

OP想要*降低*亮度，而不是增加它。不透明度使图像看起来更亮，而不是更暗。

您可以通过在图像上覆盖黑色 div 并设置该 div 的不透明度来做到这一点。

```
<style>
#container {
    position: relative;
}
div.overlay {
    opacity: .9;
    background-color: black;
    position: absolute;
    left: 0; top: 0; height: 256px; width: 256px;
}
</style>

Normal:<br />
<img src="http://i.imgur.com/G8eyr.png">
<br />
Decreased brightness:<br />
<div id="container">
    <div class="overlay"></div>
    <img src="http://i.imgur.com/G8eyr.png">
</div> 
```

[演示](http://jsbin.com/edibug)

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2012-07-18T06:28:43.630

简而言之，将黑色放在图像后面，并降低不透明度。您可以通过将图像包装在 div 中，然后降低图像的不透明度来做到这一点。

例如：

```
<!DOCTYPE html>

<style>
    .img-wrap {
        background: black;
        display: inline-block;
        line-height: 0;
    }
        .img-wrap > img {
            opacity: 0.8;
        }
</style>

<div class="img-wrap">
    <img src="http://mikecane.files.wordpress.com/2007/03/kitten.jpg" />
</div> 
```

[这](http://jsfiddle.net/Dq8Sc/)是一个JSFiddle。

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2013-09-03T00:41:08.400

你可以使用：

```
filter: brightness(50%);
-webkit-filter: brightness(50%);
-moz-filter: brightness(50%);
-o-filter: brightness(50%);
-ms-filter: brightness(50%); 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2014-01-19T12:23:56.823

使用 CSS3，我们可以轻松调整图像。但请记住，这不会改变图像。它只显示调整后的图像。

有关详细信息，请参阅以下代码。

使图像变灰：

```
img {
 -webkit-filter: grayscale(100%);
 -moz-filter: grayscale(100%);
} 
```

给一个棕褐色的外观：

```
 img {
     -webkit-filter: sepia(100%);
    -moz-filter: sepia(100%);
} 
```

调整亮度：

```
 img {
     -webkit-filter: brightness(50%);
     -moz-filter: brightness(50%);  
  } 
```

调整对比度：

```
 img {
     -webkit-filter: contrast(200%);
     -moz-filter: contrast(200%);    
} 
```

模糊图像：

```
 img {
     -webkit-filter: blur(10px);
    -moz-filter: blur(10px);
  } 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2014-12-07T18:04:53.073

我今天发现了这个。它真的帮助了我。[http://www.propra.nl/playground/css_filters/](http://www.propra.nl/playground/css_filters/)

您只需将其添加到您的 css 样式中即可：

```
div {-webkit-filter: brightness(57%)} 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2019-03-11T09:22:56.530

如果你有背景图像，你可以这样做：在背景图像上设置一个 rgba() 渐变。

```
.img_container {
  float: left;
  width: 300px;
  height: 300px;
  display: flex;
  justify-content: center;
  align-items: center;
  border : 1px solid #fff;
}

.image_original {
  background: url(https://i.ibb.co/GkDXWYW/demo-img.jpg);
}

.image_brighness {
  background: linear-gradient(0deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), /* the gradient on top, adjust color and opacity to your taste */
  url(https://i.ibb.co/GkDXWYW/demo-img.jpg);
}

.img_container p {
  color: #fff;
  font-size: 28px;
}
```

```
<div class="img_container image_original">
  <p>normal</p>
</div>
<div class="img_container image_brighness ">
  <p>less brightness</p>
</div>
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2014-10-18T19:00:38.417

您可以使用 css 过滤器，下面和 web-kit 的示例。请看这个例子：http: [//jsfiddle.net/m9sjdbx6/4/](http://jsfiddle.net/m9sjdbx6/4/)

```
 img { -webkit-filter: brightness(0.2);} 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2021-03-17T21:06:25.550

很明显，你需要做的就是这个

```
<img src="https://rb.gy/njdqof" class="IMG"> 
```

CSS 跟随

```
/*if you go lower than 100% the lighting goes dark and above 100% your lighting is brighter*/

.IMG {
  filter: brightness(20%);
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-03-28T02:31:47.057

```
-webkit-filter: brightness(0.50); 
```

**我有这个很酷的解决方案：** **[https ://jsfiddle.net/yLcd5z0h/](https://jsfiddle.net/yLcd5z0h/)**

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-02-12T18:53:18.557

如果您需要将黑色图像转换为白色，请尝试以下操作：

```
.classname{
    filter: brightness(0) invert(1);
} 
```

* * *

## 回答 #12

> 赞同：-4
> 
> 时间：2012-07-18T06:25:23.227

像

```
.classname
{
 opacity: 0.5;
} 
```

# php - 如何在 Zend_Soap_Server 的函数 phpDoc 中定义 minOccurs 和 maxOccurs？

> ID：11535397
> 
> 赞同：1
> 
> 时间：2012-07-18T06:23:07.237
> 
> 标签：php, zend-framework, soap, wsdl, autodiscovery

我正在使用 Zend_Soap_Server 在 PHP 中使用自动发现模式创建 Web 服务，我想知道如何使用 phpDoc 或任何其他方式在特定变量/函数参数上生成限制（minOccurs，maxOccurs）。

像下面这样，当我在一个函数上使用这个 phpDoc 时`myFunction`，

```
 /**
 *
 * @param   string $param1  Parameter One
 * @param   string $param2  Parameter Two
 * @return  array  $return
 */ 
```

它在 WSDL 中给了我以下消息：

```
<message name="myFunctionIn">
  <part name="param1" type="xsd:string"/>
  <part name="param2" type="xsd:string"/>
</message>
<message name="myFunctionOut">
  <part name="return" type="soap-enc:Array"/>
</message> 
```

因此，如果我想限制函数 params( `param1`& `param2`) 的使用`minOccurs`，`maxOccurs`我该怎么做才能使 WSDL 消息如下所示：

```
 <message name="myFunctionIn">
  <part name="param1" minOccurs="0" maxOccurs="1" type="xsd:string"/>
  <part name="param2" minOccurs="1" maxOccurs="1" type="xsd:string"/>
 </message> 
```

我在互联网上搜索过，但找不到任何有用的信息。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-05-01T18:36:02.997

如果有些人仍然感兴趣……这里的 zend 框架邮件列表上发布了一个相当简单的[补丁](http://zend-framework-community.634137.n4.nabble.com/Zend-Soap-Autodiscover-how-to-generate-minOccurs-and-maxOccurs-in-WSDL-td675932.html)。它允许以以下样式定义 minOccurs 和 maxOccurs：

```
/** 
* @var string ___FOR_ZEND_minOccurs=0 ___FOR_ZEND_maxOccurs=1 
*/ 
public $Username; 
```

在 WSDL 中被翻译为：

```
<xsd:element name="Username" type="xsd:string" nillable="true" maxOccurs="1" minOccurs="0"/> 
```

需要在第 58 行之后插入必要的代码更改，如下所示：

```
($element->setAttribute('type', $this->getContext()->getType(trim($matches[1][0])));) 
```

要插入的代码：

```
$tempo = $property->getDocComment(); 
if (preg_match('/___FOR_ZEND_minOccurs\s*=\s*(\d+|unbounded)/',$tempo,$matches)) { 
    $element->setAttribute('minOccurs', $matches[1]); 
} 
if (preg_match('/___FOR_ZEND_maxOccurs\s*=\s*(\d+|unbounded)/',$tempo,$matches)) { 
  $element->setAttribute('maxOccurs', $matches[1]); 
} 
```

显然，如果您喜欢不同的定义模式，您可以调整这些正则表达式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-05-09T15:11:24.960

如果这仍然与某人相关：一种更简洁的方法可能是实现一个自定义策略类来构建复杂的类型定义——这实际上是 Zend_Soap 官方支持的。

这样做，创建一个继承自 Zend_Soap_Wsdl_Strategy_ArrayOfTypeSequence 的类（参考 ZF 1.x，但在较新的框架版本中看起来相似，只是命名空间）。

在您的新类中，通过从父类复制整个方法体来重载 _addElementFromWsdlAndChildTypes 方法。

现在，您可以通过为给定的 $childTypeName 创建反射对象来开始操作代码并添加 docblock 解析器：

```
// add the following after 
// $element = $dom->createElement('xsd:element');
$strippedTypeName = substr($childTypeName, 4); // strip xml namespace
$reflect = new \Zend_Reflection_Class($strippedTypeName);
if ($reflect->getDocblock()->hasTag('myTagName')) {
   $tagValues = $reflect->getDocblock()->getTags('myTagName');
   // do whatever you want with your attribute values and then
   // add them to the XML element:
   $element->setAttribute($attributeName, $attributeValue);
} 
```

完成后，您可以在创建 AutoDiscover 实例时将新类设置为类型策略：

```
new Zend_Soap_AutoDiscover(
    'MyNewStrategyClass', $namespace
); 
```

你完成了。现在，每当您有一个定义复杂类型的类时，该类应该具有自定义 minOccurs、maxOccurs 或任何其他设置，您可以使用 @myTagName 标记和您喜欢定义属性值的任何语法来注释该类，例如

```
/**
 * MyCustomType DocBlock description
 * @myTagName minOccurs=0
 * @myTagName maxOccurs=10
 */
class MyCustomType { ... } 
```

希望这可以帮助某人。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T20:29:40.720

在最近的一个项目中，我一直在寻找这个问题的答案。据我所知，这在当前版本的 ZF 中是不可能的（参见“[错误](http://framework.zend.com/issues/browse/ZF-9180?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel)”）。

我认为 AutoDiscovery 仅适用于最基本的 WSDL 生成。或者至少当前版本是。也许未来的版本会更全面。

这是一个很好的起点，您可以使用模板手动构建更复杂的约束。或者，您可以构建自己的课程来处理您的特定要求（如该[问题](https://stackoverflow.com/questions/6041577/zend-soap-autodiscovery-and-nillable-true-in-generated-wsdl)答案的评论中所建议）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-25T16:47:01.267

我发现了一个提案，其中包括针对复杂类型的修改代码，但我不确定它是否曾经实现过，而且我还没有机会对其进行测试。查看：

[http://framework.zend.com/wiki/display/ZFPROP/Zend_Soap_Wsdl_Strategy_DefaultComplexType+-+Improvement+for+the+AutoDiscover+-+Jeannie+BOFFEL](http://framework.zend.com/wiki/display/ZFPROP/Zend_Soap_Wsdl_Strategy_DefaultComplexType+-+Improvement+for+the+AutoDiscover+-+Jeannie+BOFFEL)

# android - 更新到 Android Jelly Beans 后重复的动画

> ID：11535413
> 
> 赞同：6
> 
> 时间：2012-07-18T06:24:45.790
> 
> 标签：android, jquery, jquery-mobile, cordova

我正在使用 JQuery 1.1.0 和 Phonegap 1.9.0 为 Android 开发一个 html5 应用程序。我有一个小动画，它在画布上绘制电池并更新它。它看起来像一个正在加载的电池。它在 android 4.0.4 上运行良好。

昨天，我在 Galaxy Nexus 上收到了 Android 4.1.1 的更新。在那次更改之后，我的动画出现了问题。现在它在画布上绘制图像，一个在前面，另一个在后面，坐标错误。我认为这与 Java Script Engine V8 的更改有关，也许是缓存问题？！在我电脑上的每个浏览器上，动画效果都很好。

我的html代码是：

```
<!DOCTYPE html>
<html>
<head> 
<title>Hella App</title> 
<meta name="viewport" content="width=device-width, initial-scale=1"> 

<link rel="stylesheet" href="jquery.mobile-1.1.1.min.css"/>
<script src="jquery-1.7.2.min.js"></script>
<script src="jquery.mobile-1.1.1.min.js"></script>
<script type="text/javascript" charset="utf-8" src="cordova-1.9.0.js"></script>

<style>
    .ui-page { background: black;}
</style>

</head>

   <body>

<div data-role="page" id="dataPageBattery" data-theme="a">
    <h2 align="center">Battery State</h2>
    <div data-role="header" data-position="fixed" data-theme="a">
        <h1>Car Data</h1>
    </div>

    <div data-role="content" align="center">
        <canvas id="myBatteryCanvas" width="device-width"
            height="device-height">                        
            Sorry, your browser doesn't support canvas technology        
        </canvas>
    </div>
    <h4 align="center" id="batteryProzent"></h4>

    <script type="text/javascript" src="battery.js"></script>
    <script>$(document).on("pageshow",init());</script> 

    <div data-role="footer" data-position="fixed" data-id="persFooter">
        <div data-role="navbar">
            <ul>
                <li><a href="home.html" data-icon="home">Connect</a></li>
                <li><a href="carView.html" data-icon="gear">Cars</a></li>
                <li><a href="infoView.html" data-icon="info">Info</a></li>
            </ul>
        </div>
    </div>

<script>                                       
$('#dataPageBattery').on('swipeleft',function(){ 
 $.mobile.changePage("geolocation.html", { transition: "slide"});   
 console.log('slideLeft');
})  

$('#dataPageBattery').on('swiperight',function(){ 
 $.mobile.changePage("fuelGauge.html", { transition: "slide", reverse: 'true'});    
 console.log('slideLeft');
})  
     </script>
</div>

    </body>
    </html> 
```

我正在加载的 java 脚本代码：

```
 var canvas = document.getElementById("myBatteryCanvas");
      var ctx = canvas.getContext("2d");
      var x = 50;
      var y = canvas.height - 30;
      var mx = 2;
      var my = 1;
      var WIDTH = canvas.width;
      var HEIGHT = canvas.height;
     var prozent = 1;

  function drawRect(y, farbe) {
ctx.beginPath();
ctx.rect(124, y, 50, 21);
ctx.fillStyle = farbe;
ctx.fill();

window.setTimeout("draw()", 10);
 }

 function draw() {
if (y >= 80) {
    y -= my;
    window.setTimeout("drawRect(y,'red')", 10);
} else if (y >= 50) {
    y -= my;
    window.setTimeout("drawRect(y,'orange')", 10);
    ctx.rect(124, 50 + 50, 50, 40);
    ctx.fillStyle = 'orange';
    ctx.fill();

} else {
    ctx.rect(124, 50, 50, canvas.height - 60);
    ctx.fillStyle = 'lightgreen';
    ctx.fill();
}

document.getElementById('batteryProzent').innerHTML = '> ' + prozent + ' %';
prozent++;
if (prozent % 4 == 0)
    prozent++;
 }

 function init() {
ctx.rect(122, 40, 54, 100);
ctx.fillStyle = 'floralwhite';
ctx.fill();
ctx.lineWidth = 4;
ctx.strokeStyle = '#303030';
ctx.stroke();

draw();
 } 
```

另一个很好的问题：如果我在 Phonegap 代码中使用这个 html 页面作为第一页，没有问题。但是如果我在整个应用程序中使用它，我就会遇到问题。出于这个原因，我也发布了我的第一页：

```
<!DOCTYPE html> 
<html> 
<head> 
<title> BLE App</title> 
<script type="text/javascript" charset="utf-8" src="cordova-1.9.0.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1"> 

<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="apple-touch-icon" href="Logo.png" />

<link rel="stylesheet" href="jquery.mobile-1.1.0.min.css"/>
<script src="jquery-1.7.1.min.js"></script>
<script src="jquery.mobile-1.1.0.min.js"></script>
<script src="http://maps.google.com/maps/api/js?sensor=true"></script>

<style>
    .ui-page { background: black;}
</style>

</head> 
  <body> 

 <div data-role="page" id="mainPage" data-theme="a"> 
<div data-role="header" data-position="fixed" data-theme="a">
    <h1> BLE</h1>
</div><!-- /header -->

<div data-role="content">   
    <!-- <p> BLE Test App</p> -->
    <label for="mainPage_textFrage">Find BLE Devices:</label>
    <!-- <input type="text" id="mainPage_textFrage" value="" placeholder="Ihre Frage"/> -->
    <a data-role=button id="mainPage_showAnswerButton">Search</a>
</div><!-- /content -->

<div data-role="footer" data-position="fixed" data-id="persFooter">
    <div data-role="navbar">
        <ul>
            <li><a href="home.html" data-icon="home">Connect</a></li>
            <li><a href="carView.html" data-icon="gear">Cars</a></li>
            <li><a href="infoView.html" data-icon="info">Info</a></li>
        </ul>
    </div><!-- /navbar -->
</div><!-- /footer -->
  </div>

   <script>                                    
$('#mainPage_showAnswerButton').on('click',function(){
 $.mobile.changePage("searchResult.html", { transition: "slideup"});
 console.log('click');
})                                       
 </script>

 </body>
 </html> 
```

有人有同样的问题吗？有人可以帮忙吗？

到目前为止感谢！

更新：我将 JQuery 更新到 1.7.2，将 JQuery Mobile 更新到 1.1.1。但仍然没有任何变化。动画不工作。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T11:12:58.677

可能的解决方案：

从 jquery-mobile-css 中删除以下行可以解决问题：

```
/*content area*/
.ui-content { border-width: 0; overflow: visible; overflow-x: hidden; padding: 15px; } 
```

（删除“溢出-x：隐藏”就足够了）。

更好的解决方案是覆盖周围 div 元素（而不是画布元素本身）上的“overflow-x”属性。

示例（电池状态）：

```
<div data-role="content" align="center" data-theme="a" style="overflow-x: visible">
 <canvas id="myBatteryCanvas" width="device-width" height="device-height">                        
    Sorry, your browser doesn't support canvas technology        
 </canvas>
</div> 
```

另请参阅[http://code.google.com/p/android/issues/detail?id=35474](http://code.google.com/p/android/issues/detail?id=35474)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T16:05:55.467

我们在运行 Android 4.1.1 的手机上遇到了同样的问题。我们有一个显示滑块的 html5 画布应用程序。滑块的图像显示 2 次。在我们的 android 4.1、4.0、2.3 设备上，它显示正常。我认为您无法通过简单的 java 脚本更改来解决此缺陷。它只是在最新的 Jellybean 补丁中被破坏了。

我们已经使用 Nexus S 和 Galaxy Nexus 手机与多个不同版本的 android 来证明这一点（它不是特定于手机的）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T08:18:32.907

当您从一个页面转换到另一个页面时出现问题，而不是在您独立加载页面本身时出现问题，听起来您需要在页面转换期间（卸载）加载内容。jQuery Mobile`<div data-role="page">...</div>`在页面转换中加载任何内容。这也意味着这些 div 之外的任何内容都将被忽略。不仅如此，上一页的 javascript 代码仍然继续到下一页。

我在 2 个 HTML 页面的底部看到了两个块，`<script>...</script>`其中只有一个会加载，即您刷新的页面上的那个。`data-role="page`确保通过在div中插入脚本来加载这些脚本

您应该更改以下内容

```
<script>$(document).ready(window.setTimeout("init()", 500));</script> 
```

至

```
<script>$(document).on("pageshow",window.setTimeout("init()", 500));</script> 
```

根据你不应该使用的[jQM 文档](http://jquerymobile.com/test/docs/api/events.html)`$(document).ready(...)`

# ios - 重定向 iOS MDM 原生代理

> ID：11535417
> 
> 赞同：4
> 
> 时间：2012-07-18T06:25:04.710
> 
> 标签：ios, http, redirect, mobile, mdm

我观察到 iOS MDM 本机代理的奇怪但一致的行为。

当我们通过响应 HTTP 301、302 或 307 将其重定向到另一个 URL 时，代理已将其 HTTP PUT 动词更改为 GET，同时完全删除了 HTTP 请求正文。

例如，这是设备对 [URL-1] 的第一个 HTTP 请求：

```
PUT [URL-1] HTTP/1.1
Host: [HOST]
User-Agent: MDM/1.0
Content-Length: 306
Accept: */*
Content-Type: application/x-apple-aspen-mdm
Accept-Language: en-us
Accept-Encoding: gzip, deflate
Connection: keep-alive
Proxy-Connection: keep-alive

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
       <key>Status</key>
       <string>Idle</string>
       <key>UDID</key>
       <string>86ff0b7c0129f1c1ed4ff36984c1a2a3e5e06c81</string>
</dict>
</plist> 
```

我们已经响应 HTTP 301 并将其重定向到 [URL-2]：

```
HTTP/1.1 301 Moved Permanently
Content-Type: text/html; charset=UTF-8
Location: [URL-2]
X-Powered-By: ASP.NET
Date: Tue, 10 Jul 2012 10:48:31 GMT
Content-Length: 182
<head><title>Document Moved</title></head>
<body><h1>Object Moved</h1>This document may be found <a HREF="[URL-2]">here</a></body> 
```

设备已使用此 HTTP 请求访问 [URL-2]（将 HTTP 动词更改为 GET 并完全删除了 HTTP 正文）：

```
GET [URL-2] HTTP/1.1
Host: [HOST]
User-Agent: MDM/1.0
Accept: */*
Accept-Language: en-us
Accept-Encoding: gzip, deflate
Connection: keep-alive
Proxy-Connection: keep-alive 
```

MDM 本机代理是否支持 HTTP 重定向？如果是这样，我们需要更改什么以使其不删除 HTTP 正文并且不更改 HTTP PUT 动词？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T20:22:15.787

它支持带有异常的 HTTP 重定向。改用安全层进行重定向。

# ruby-on-rails-3 - TypeError（不能将字符串强制转换为 Fixnum）？

> ID：11535418
> 
> 赞同：6
> 
> 时间：2012-07-18T06:25:04.673
> 
> 标签：ruby-on-rails-3, heroku

我收到一个奇怪的错误。我的应用程序在我的本地主机上运行得非常好，但在我的 Heroku 服务器上它给出了这个错误：`TypeError (String can't be coerced into Fixnum):`

这是我的代码：

```
@rep = rep_score(@u) 
```

根据日志，这是引发错误的行。我已将其注释掉并将更改推送到 Heroku，该应用程序现在运行良好。

这是`rep_score`方法：

```
def rep_score(user)
 rep = 0
 user.badges.each do |b|
   rep = rep + b.rep_bonus
 end
 return rep
end 
```

也是`rep_bonus`数据库中的整数。

同样，这在 localhost 上运行得很好。让我知道你的想法。

* * *

`return`从方法中删除后，`rep_score`它工作正常。我还是 Ruby 的新手，put 有什么问题`return`吗？这是其他语言的习惯。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-18T13:39:02.913

Ruby`+`用作字符串和数学情况的组合工具。

简单修复：

```
def rep_score(user)
 rep = 0
 user.badges.each do |b|
   rep = rep + b.rep_bonus.to_i
 end
 return rep
end 
```

`to_i`正在改变`rep_bonus`，这可能来自数据库模型，从字符串结果变为整数。您可以设置几种不同的类型转换。仅举几例转换：

*   大批：`to_a`
*   漂浮：`to_f`
*   整数：`to_i`
*   细绳：`to_s`

# drools - 尝试使用来自 guvnor 的 changeset.xml 读取规则会导致错误

> ID：11535422
> 
> 赞同：2
> 
> 时间：2012-07-18T06:25:17.470
> 
> 标签：drools, eclipse-indigo, drools-guvnor

我尝试使用以下代码从 Guvnor 加载包：-

```
 KnowledgeBuilder kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder();
    kbuilder.add(ResourceFactory.newClassPathResource("GenderFact.xml"),ResourceType.CHANGE_SET);
    System.out.println("fair trial");
    KnowledgeBuilderErrors errors = kbuilder.getErrors();
    if (errors.size() > 0) {
        for (KnowledgeBuilderError error: errors) {
            System.err.println(error);
        }
        throw new IllegalArgumentException("Could not parse knowledge.");
    }
    KnowledgeBase kbase = KnowledgeBaseFactory.newKnowledgeBase();
    kbase.addKnowledgePackages(kbuilder.getKnowledgePackages());
    return kbase; 
```

GenderFact.xml 的内容是：-

```
<change-set xmlns="http://drools.org/drools-5.0/change-set"
xmlns:xs="http://www.w3.org/2001/XMLSchema-instance"
xs:schemaLocation="http://drools.org/drools-5.0/change-set http://anonsvn.jboss.org/repos/labs/labs/jbossrules/trunk/drools-api/src/main/resources/change-set-1.0.0.xsd">
<add>
    <resource
        source="http://localhost:8080/drools-guvnor/org.drools.guvnor.Guvnor/package/MyLastTrial/LATEST/"
        type="PKG" basicAuthentication="disabled" username="admin" password="admin" />
</add> 
```

当我尝试从 Eclipse 执行此操作时，出现以下错误：-

> java.lang.RuntimeException：java.io.InvalidClassException：org.drools.rule.MVELDialectRuntimeData；本地类不兼容：流classdesc serialVersionUID = 5166066541265170937，本地类serialVersionUID = -64624826351992706 at org.drools.compiler.PackageBuilder.addKnowledgeResource(PackageBuilder.java:705) at org.drools.compiler.PackageBuilder.addPackageFromChangeSet(PackageBuilder.java:772)在 org.drools.compiler.PackageBuilder.addKnowledgeResource(PackageBuilder.java:694) 在 org.drools.builder.impl.KnowledgeBuilderImpl.add(KnowledgeBuilderImpl.java:45) 在 org.drools.builder.impl.KnowledgeBuilderImpl.add(KnowledgeBuilderImpl .java:34) at com.sample.DroolsTest.readKnowledgeBase(DroolsTest.java:43) at com.sample.DroolsTest.main(DroolsTest.java:26) 原因：java.io.InvalidClassException: org. drools.rule.MVELDialectRuntimeData; 本地类不兼容：流classdesc serialVersionUID = 5166066541265170937，本地类serialVersionUID = -64624826351992706 at java.io.ObjectStreamClass.initNonProxy(Unknown Source) at java.io.ObjectInputStream.readNonProxyDesc(Unknown Source) at java.io.ObjectInputStream.readClassDesc(Unknown源) 在 java.io.ObjectInputStream.readOrdinaryObject(Unknown Source) 在 java.io.ObjectInputStream.readObject0(Unknown Source) 在 java.io.ObjectInputStream.readObject(Unknown Source) 在 java.util.HashMap.readObject(Unknown Source)在 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 在 sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) 在 sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) 在 java.lang.reflect.Method。

先决条件：-

*   我将 Guvnor 5.3 与 jboss AS 7.0 一起使用。
*   客户端和服务器都共享同一个 jre7。
*   Eclipse Indigo 中的 Drools 运行时 5.3（服务版本 2）

请求解决方法...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-24T05:38:57.120

java 项目中使用的 Drools 相关 jar 与 GUvnor 5.3 中使用的版本不同。使用 Guvnor 5.3 中的 jar 到您的 java 项目中。它将解决问题。:)

# c# - 如何将 GetKey 中的数字返回到列表 ? （与我所做的相反）

> ID：11535426
> 
> 赞同：-1
> 
> 时间：2012-07-18T06:25:29.697
> 
> 标签：c#

这是 SetKey 的代码，我在列表上循环，取出数字转换为字符串并将其放入 SetKey 现在我需要使用 GetKey 反转操作并将数字放回列表，因此 eahc List Point_X 和 Point_Y 将和以前一样有数字。

```
string[] xFrames = new string[wocl.Count];
                string[] yFrames = new string[wocl.Count];

                string X="";
                string Y="";
                for (int i = 0; i < wocl.Count; i++)
                {
                    X  = string.Format("Frame_X_{0} ", i + 1);
                    Y  = string.Format("Frame_Y_{0} ", i + 1);

                    for (int j = 0; j < wocl[i].Point_X.Count; j++)
                    {
                        xFrames[i] += string.Format("{0},", wocl[i].Point_X[j]);
                        yFrames[i] += string.Format("{0},", wocl[i].Point_Y[j]);

                    }

                    string tt = xFrames[i].Trim(",".ToCharArray());
                    string yy =  yFrames[i].Trim(",".ToCharArray());

                     setting_file.SetKey(X, tt);
                     setting_file.SetKey(Y, yy);   

                } 
```

现在 tt 是一串数字，例如 122,33,44,55,121

现在我需要解析这些数字。现在我需要获取字符串并解析数字并将它们放回浮点列表：

列出 a = setting_file.GetKey(X);

但是 X 是表示一串数字而不是数字列表的键。

这是函数 GetKey 和 SetKey 的 OptionsFile 中的代码：

```
/*----------------------------------------------------------
 * Function     : GetKey
 * Description  : gets the value of the key.
 * Parameters   : key
 * Return       : value of the key if key exist, null if not exist
 * --------------------------------------------------------*/
    public string GetKey(string key)
    {

      //  string value_of_each_key;
        string key_of_each_line;
        string line;
        int index;
        string key_value;
        key_value = null;

        sr = new StreamReader(Options_File);
        while (null != (line = sr.ReadLine()))
        {

            index = line.IndexOf("=");

           //    value_of_each_key = line.Substring(index+1);

            if (index >= 1)
            {
                key_of_each_line = line.Substring(0, index);
                if (key_of_each_line == key)
                {
                    key_value = line.Substring(key.Length + 1);
                }

            }
            else
            {
            }

        }
        sr.Close();
        return key_value;
    }

/*----------------------------------------------------------
 * Function     : SetKey
 * Description  : sets a value to the specified key
 * Parameters   : key and a value
 * Return       : none
 * --------------------------------------------------------*/
    public void SetKey(string key , string value)
    {
        bool key_was_found_inside_the_loop;
        string value_of_each_key;
        string key_of_each_line ;
        string line;
        int index;
        key_was_found_inside_the_loop = false;

        temp_settings_file = "\\temp_settings_file.txt";
        temp_settings_dir = path_exe + @"\temp_settings";
        if (!Directory.Exists(temp_settings_dir))
        {
            Directory.CreateDirectory(temp_settings_dir);
        }

        sw = new StreamWriter(temp_settings_dir+temp_settings_file);
        sr = new StreamReader(Options_File);
        while (null != (line = sr.ReadLine()))
        {

            index = line.IndexOf("=");
            key_of_each_line = line.Substring(0, index);
            value_of_each_key = line.Substring( index + 1);
         //   key_value = line.Substring(0,value.Length);
            if (key_of_each_line == key)
            {
                sw.WriteLine(key + " = " + value);
                key_was_found_inside_the_loop = true;

            }
            else
            {
                sw.WriteLine(key_of_each_line+"="+value_of_each_key);
            }

        }

        if (!key_was_found_inside_the_loop)
        {
           sw.WriteLine(key + "=" + value);
        }
        sr.Close();
        sw.Close();
        File.Delete(Options_File);
        File.Move(temp_settings_dir + temp_settings_file, Options_File);
        return;

    } 
```

我需要的是在 List a 中它将包含字符串 X 中的数字

X 就像一个键 SetKey 函数中的结果是 Key = Value

例如：Hello = 122,33,44,55,66 Hello 就像变量 X 一样，它是键，右侧的数字是键值。

所以现在我需要获取关键的 X 值并将它们放入列表中

无法弄清楚如何做到这一点。

* * *

如果在我有一个列表之前我循环它并从列表中取出数字并创建一个数字字符串并将它们放入 SetKey 现在我需要使用 GetKey 并获取数字并将它们放回列表

* * *

编辑：

```
public void Load(string path,string fileName)
        {
            string X = "";
            string t = path + "\\" + fileName;
            OptionsFile setting_file = new OptionsFile(t);
            for (int i = 0; i <= wocl.Count ; i++)
            {
            X  = string.Format("Frame_X_{0} ", i + 1);

            }
            string test = setting_file.GetKey(X);
        } 
```

Theproblem 是，如果我在 List wocl 上的循环中运行，那么当我运行程序时，这个 List 计数为 0 或 1。但在文本文件中的 GetKey 中，我可能有 4 帧或 1 帧，我的意思是我怎么知道在循环中要计算多少？

我尝试使用 wocl 列表进行测试，但现在在字符串测试中，我得到了第一个 Frame_X_1 的数字，仅此而已。

虽然在 hte 文件中，但它本身看起来像：

```
Frame_X_1 =332,325,336,334,332,325,333,328,332
Frame_Y_1 =218,217,202,212,211,210,204,202,204
Frame_X_2 =270,325,336,347,321,325,333,328,332
Frame_Y_2 =257,217,202,282,156,210,204,202,204
Frame_X_3 =270,325,336,347,321,336,270,371,332
Frame_Y_3 =257,217,202,282,156,250,199,135,204 
```

我的意思是，当我运行程序时，所有列表都是空的，计数为 0，但我需要检索每个键 Frame_X_1，然后是 Frame_Y_1 等等……而且我不知道有多少键。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:43:45.873

假设你有一个像“123,33.44.55.66”这样的字符串，并且你知道这个字符串是逗号分隔的。检索数字：

```
string str = "123,33,44,55,66";
string[] strArray = str.Split(','); 
```

然后，您可以将其转换`strArray`为任何兼容的类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:57:50.417

将此添加到静态帮助程序类

```
public static List<T> ToListOf<T>(this IEnumerable enumerable)
        {
            var list = new List<T>();

            foreach (var item in enumerable)
            {
                list.Add(item.ConvertTo<T>());
            }

            return list;
        } 
```

然后：`var myFloats = tt.Split(',').ToListOf<float>();` 优雅，不是吗？:)

编辑

我忘记了另一种扩展方法：

```
public static T ConvertTo<T>(this object source)
        {
            return (T)Convert.ChangeType(source, typeof(T));
        } 
```

# macos - MonoMac 使用“代码设计”为 Mac 商店签名。（无效的二进制）

> ID：11535427
> 
> 赞同：3
> 
> 时间：2012-07-18T06:25:32.117
> 
> 标签：macos, store, app-store-connect, codesign, monomac

嗨，我正在尝试通过“Application Loader”为 Mac Store 的 MonoMac 二进制文件进行代码签名。我可以提交应用程序，但“iTunes Connect”中的状态总是说“无效二进制”！？我必须手动执行此操作的原因是 MonoMac 签名中存在错误。但我现在开始拔头发了，因为已经过了一天半了。

我还收到一封电子邮件说：

> 签名无效 - 路径 Paper Tanks.app 的主应用程序包 Paper Tanks 已签名，但签名无效。

如果我尝试用这个对二进制文件进行签名，“Application Loader”将给出一个错误：

```
codesign -v --force --sign "A72F25F56B7D6C43332AE795288EA092009BE737" "--resource-rules=/Users/Andrew/Reign/Games/papertanks/PaperTanks_OSX/PaperTanks_OSX/bin/AppStore/Paper Tanks.app/Contents/Resources/ResourceRules.plist" --entitlements "/Users/Andrew/Reign/Games/papertanks/PaperTanks_OSX/PaperTanks_OSX/bin/AppStore/Paper Tanks.xcent" "/Users/Andrew/Reign/Games/papertanks/PaperTanks_OSX/PaperTanks_OSX/bin/AppStore/Paper Tanks.app"

Application Loader error = "Invalid Code Signing Entitlements. The entitlements in your app bundle signature do not match the ones that are contained in the provisioning profile. The bundle contains a key that is not included in the provisioning profile: 'com.apple.application-indetifier' in Paper Tanks.app/Contents/macOS/Paper Tanks'." 
```

因此，由于上述步骤失败，因此我对应用程序进行代码签名，如下所示：

> codesign -v --force --sign "第 3 方 Mac 开发者应用程序：Andrew Witte" "--resource-rules=.../AppStore/Paper Tanks.app/Contents/Resources/ResourceRules.plist" ".... /AppStore/Paper Tanks.app"

然后我对内部单声道posix库进行代码签名，因为最后一步似乎没有。

> codesign -v --force --sign "第 3 方 Mac 开发者应用程序：Andrew Witte" .../AppStore/Paper\ Tanks.app/Contents/Resources/libMonoPosixHelper.dylib

然后我构建并签署 pkg：

> productbuild --component ".../AppStore/Paper Tanks.app" /Applications --sign "第 3 方 Mac 开发者安装程序：Andrew Witte" ".../AppStore/PaperTanks_OSX-0.1.pkg"

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T18:26:41.560

我升级到 Xcode 4.4 解决了这个问题

# jquery - 为什么数据没有传递给 JQuery 中的控制器

> ID：11535431
> 
> 赞同：4
> 
> 时间：2012-07-18T06:25:52.313
> 
> 标签：jquery, telerik-grid, telerik-mvc

我在 MVC2 中有一个页面，其中包含一个网格和图像按钮。单击图像按钮时，currentPage、orderBy 和 filter 将被发送到 JQuery 中的控制器。代码是，

```
<script type="text/javascript">
$("#ExportExcel").click(function (e) {
e.preventDefault();

var resourceId = $('#resourceId').val();
var grid = $('#Grid').data('tGrid');
var pagenum = grid.currentPage;
var orderBy = grid.orderBy
var filter = grid.filterBy;

$.ajax({
url: '@Url.Action("ExportToExcel", "ExportExcelButton")',
data: { resourceId: resourceId, pagenum: pagenum, orderBy: orderBy, filter: filter },
type: 'POST',
success: function (data) {
}
});
});
</script>

<a href="<%: Url.Action("ExportToExcel", "ExportExcelButton") %>"> <img src='<%: Url.Content("~/Content/Images/ExportExcelButton.gif") %>'/></a>

public ActionResult ExportToExcel(string resourceId, string pagenum, string orderBy, string filter) 
```

但是，当单击图像按钮时，ExportToExcel 操作中的所有数据都为空。我想知道什么是正确的方法。非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T13:40:55.123

我在您的代码中看到两个问题：

1.  在 html 中，您没有指定链接的 id，因此单击它只是导航到操作，这就是您在参数中看到 null 的原因 - 没有发送
    它应该是：

    ```
    <a id="ExportExcel" href="<%: Url.Action("ExportToExcel", "ExportExcelButton") %>"> <img src='<%: Url.Content("~/Content/Images/ExportExcelButton.gif") %>'/></a> 
    ```

2.  在 $(document).ready(..) 期间将脚本标记放在链接减速或绑定下方

# html - 如何在 IE9 中调整文本字段的大小？

> ID：11535439
> 
> 赞同：0
> 
> 时间：2012-07-18T06:26:35.703
> 
> 标签：html, internet-explorer, google-chrome, textfield

我可以在 Chrome 和其他浏览器中调整文本字段的大小。但是，即使在为 IE 安装了 Chrome 框架之后，我也无法在 IE9 中进行相同的工作。我用于 Ex: style="resize:horizo​​ntal;"

前任：

有人可以建议我如何让它在 IE 浏览器中工作吗？谢谢。

****编辑****

好的，所以经过大量调整，我终于使它适用于 IE9 ！耶 ：）

首先要做的是：您需要在 IE9 上安装 Chrome Frame。

然后你添加一些标签让它在 IE 上呈现。

```
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"> 
```

这是完整的代码：

```
<!DOCTYPE >

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- <meta http-equiv="X-UA-Compatible" content="chrome=IE9">
<!-- X-UA-Compatible: chrome=1-->

<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">

<head>
    <title>Text Feilds</title>

   <script src="Scripts/jquery-1.7.2.js" type="text/javascript"></script>

 </head>
<body>
<input type="text" id="txt1" style= "resize: horizontal"; />
<input type="text" id="txt2" style= "resize: both"; />

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:37:57.847

如果您查看[http://www.w3schools.com/cssref/css3_pr_resize.asp](http://www.w3schools.com/cssref/css3_pr_resize.asp)，您会发现 IE 根本不支持此功能。

如果您想在所有浏览器中支持此功能，您将必须在 javascript 中创建自己的调整大小功能（如果有，我们使用任何框架）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:38:03.217

你不能，以任何简单的方式。根据[http://caniuse.com/#feat=css-resize](http://caniuse.com/#feat=css-resize) IE 9 不支持，IE 10 状态未知。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T07:32:46.683

那是 HTML5 标记，旧版本的 IE 不支持 HTML5 或 HTML5 就绪。IE 9 仅部分支持

# java - 用 windows 程序调用 Java 程序

> ID：11535440
> 
> 赞同：2
> 
> 时间：2012-07-18T06:26:38.760
> 
> 标签：java, swing

打开 Windows 中的应用程序/程序时如何调用任何 Java 程序？例如，当我启动 VLC 媒体播放器时，我希望 Java 应用程序在 VLC 媒体播放器启动之前启动。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-18T06:37:11.113

像这样创建一个批处理文件：

```
set echo off
java -jar "your java file path"
"your vlc path to run" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:32:34.877

您可以编写一个同时运行它们的批处理文件，也可以编写一个监视 vlc.exe 进程并对此做出反应的应用程序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:43:02.803

换句话说：总是使用创建的批处理来运行 vlc: java yourApplication vlc

或编写一个应用程序，定期检查给定程序的所有进程。我知道，C 中有一些用于 Java 的库可以做到这一点，但它们都依赖于平台。如果您使用的是 Windows Vista 或更高版本，我认为您可以执行并解析 tasklist 命令的结果。

# iphone - 在不添加 appDelegate 文件的情况下制作 UITabBar

> ID：11535441
> 
> 赞同：0
> 
> 时间：2012-07-18T06:26:44.750
> 
> 标签：iphone, objective-c, ios, xcode, uitabbar

我正在制作一个有 3 页的应用程序

1.  登录页面 - 应用加载后的第一页
2.  **我的第一页**- 当用户成功登录时，他会进入这个页面。这个页面
    包含一个带有两个 UITabBarItems 的 UITabBar。第一个连接到

    我的第一页

    另一个是我的第二页。

3.  **我的第二页**- 这是另一个 UIViewController。

我已经创建了登录页面，但我无法在我的第一页中找到添加 UITabBar 的解决方案

请帮帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:35:32.810

试试这个，

假设这是 LoginViewController.m

```
-(IBAction)loginButtonClicked:(id)sender
{
    [self createTabBarView];
}

//Create TabBar View here 
-(void)createTabBarView
{
     NSMutableArray *tabItems = [NSMutableArray array];
     UIViewController *firstViewController = [[FirstViewController alloc] init];;
     firstViewController = @"First View";
     firstViewController = [[UITabBarItem alloc]initWithTabBarSystemItem:UITabBarSystemItemContacts tag:0];
      [tabItems addObject:firstViewController];
      UIViewController *secondViewController = [[SecondViewController alloc] init];;
      secondViewController = @"Second View";
      secondViewController = [[UITabBarItem alloc]initWithTabBarSystemItem:UITabBarSystemItemContacts tag:1];
      [tabItems addObject:secondViewController];
      self.tabBarController = [[UITabBarController alloc]init];
      self.tabBarController.viewControllers = tabItems;    
      self.tabBarController.modalTransitionStyle = UIModalTransitionStyleFlipHorizontal;
      [self presentModalViewController:tabBarController animated:YES];
} 
```

谢谢，

尼基尔。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:42:10.503

定义 AppDelegate.h

```
@property (strong, nonatomic) UITabBarController *tabBarController; 
```

在 AppDelegate.m

didFinishLaunchingWithOptions

```
self.tabBarController = [[UITabBarController alloc] init];
self.tabBarController.delegate=self;
self.tabBarController.selectedIndex=0;
self.tabBarController.delegate=self;

 - (BOOL)tabBarController:(UITabBarController *)tabBarController shouldSelectViewController:(UIViewController *)viewController{

return YES;
} 
```

现在，当您成功登录时，在该方法中编写以下代码

```
 AppDelegate *delegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];
    UIViewController *viewController1 = [[FirstViewController alloc] initWithNibName:@"FirstViewController" bundle:nil];
    UIViewController *viewController2 = [[SecondViewController alloc] initWithNibName:@"SecondViewController" bundle:nil];

    delegate.tabBarController = [[UITabBarController alloc] init];
    delegate.tabBarController.selectedIndex = 0;
    delegate.tabBarController.viewControllers = [NSArray arrayWithObjects:viewController1, viewController2, nil];
    delegate.tabBarController.modalTransitionStyle = UIModalTransitionStyleCoverVertical;
    [self.navigationController pushViewController:delegate.tabBarController animated:YES]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:47:42.723

你在使用界面生成器吗？从我的角度来看，我宁愿使用编程方式来实现它。

```
//In the appDidFinishLaunch method

    BOOL loggedIn = [[NSUserDefault standDefault]boolForKey:"userlogin"];

    if(loggedIn)
    {

        //Setup your UITabbarViewController

    }
    else
    {

        //Setup your loginView Controller
    } 
```

登录 LogInViewController 后

```
- (void)didLogin
{

   YourAppDelegate *delegate = [UIApplication shareApplication].delegate;  

   [delegate.window addSubView:self.tabBarViewController.view];

   [delegate.window removeSubView:self.view]

   //Other Config

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T07:04:07.917

您应该在可以识别登录已成功完成的地方创建标签栏。这个方法应该是你 loginViewController 的一部分。创建一个像下面这样的函数来创建一个 Tabbar 并将其呈现在 loginController 上。

```
-(void) createTabBarController
{
     UITabBarController *tabBar = [[UITabBarController alloc]init];

     UIViewController *firstViewController = [[[UIViewController alloc] init]autorelease];
     UINavigationController *firstNavController = [[UINavigationController alloc]initWithRootViewController:firstViewController];
     firstNavController.tabBarItem.title=@"First Controller";
     firstNavController.tabBarItem.image = [UIImage imageNamed:@"first.png"];

     UIViewController *secondViewController = [[[UIViewController alloc] init]autorelease];
     UINavigationController *secondNavController = [[UINavigationController alloc]initWithRootViewController:secondViewController];
     secondNavController.tabBarItem.title=@"First Controller";
     secondNavController.tabBarItem.image = [UIImage imageNamed:@"first.png"];

     [tabBar setViewControllers:[NSArray arrayWithObject:firstNavController,secondNavController,nil]];    
     [firstNavController release];
     [secondNavController release];

     [self presentModalViewController: tabBar];
     [tabBar release];
} 
```

# asp.net - 如何访问当前页面中的 iframe 文本框 ID？

> ID：11535443
> 
> 赞同：0
> 
> 时间：2012-07-18T06:26:48.863
> 
> 标签：asp.net, vb.net, iframe

朋友我有一个父页面（default.aspx），其中包括一个 iframe 页面（iframe.aspx），该页面包含字段中的文本框。父页面包含“保存”按钮。现在我想在提交父页面时获取 iframe 页面的值。如何访问父页面提交中的 iframe 页面字段？

iframe.aspx 页面,,,, 在 iframe 页面中我有两个文本框,,

```
<asp:textbox id="txtfromdate" runat="server"></asp:textbox> 
<asp:textbox id="txttodate" runat="server"></asp:textbox> 
```

default.aspx 页面

```
<iframe id="iframebody" runat="server" src="iframe.aspx" style="width:900px; height:600px"></iframe>

<asp:button id="submit" text="save" runat="server" /> 
```

当我单击按钮时，frdz 如何在父页面（default.aspx）中访问 iframe 页面 id（txtfromdate，txtTodate）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:30:34.293

点击按钮试试这个javascript。

**HTML**

```
<input type="hidden" id="txtHidData" runat="server" /> 
```

**Javascript**

```
var iframe = document.getElementById('iframebody');
var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
var usernameTextBox = innerDoc.getElementById('txtfromdate');
document.getElementById ( "txtHidData" ).value = usernameTextBox.value; 
```

**C＃**

```
string valueInCodeBehind = txtHidData.Value; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:33:03.940

您无法使用服务器端代码访问 iframe 的内容。

要访问 iframe 的内容，您应该使用 javascript。

在 jquery 中，您可以访问它：

```
var iFrameContent = $('#iframebody').content();
var fromDate = iFrameContent.find('#txtfromdate').val();
var toDate= iFrameContent.find('#txttodate').val(); 
```

将其存储在页面上的隐藏字段中，然后在服务器端代码中访问

在您的 aspx 页面上放置两个隐藏字段。像

```
<asp:HiddenField id="hdffromdate" runat="server"></asp:textbox> 
<asp:HiddenField id="hdftodate" runat="server"></asp:textbox> 
```

在这些隐藏字段中设置值，例如

```
$('[id$=hdffromdate]').val(fromDate );
$('[id$=hdftodate]').val(toDate); 
```

在您的提交按钮单击事件处理程序

```
protected void submit_Click(object sender, EventArgs e)
{
      var fromDate = Convert.ToDateTime(hdffromdate.Value);
      var toDate = Convert.ToDateTime(hdftodate.Value);
      //...
} 
```

# html - 不能同时使用 @Html.LabelFor和

> ID：11535449
> 
> 赞同：4
> 
> 时间：2012-07-18T06:27:15.200
> 
> 标签：html, asp.net-mvc, twitter-bootstrap

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T08:26:41.927

发现了问题。:) Twitterbootstrap.css 造成了这个问题。

```
label, input, button, select, textarea {
font-size: 13px;
font-weight: normal;
line-height: 18px;
} 
```

当我更改字体粗细时，它可以正常工作。谢谢大家...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:37:29.273

在我的机器上工作！:)

如果您在输出 Razor 标签时遇到任何问题，请在其周围加上一组额外的括号：

```
<strong>@(Html.LabelFor(model => model.Author))</strong> 
```

# datetime - 高图表中的日期时间 xaxis 显示额外的标签

> ID：11535451
> 
> 赞同：1
> 
> 时间：2012-07-18T06:27:19.413
> 
> 标签：datetime, highcharts

```
xAxis: {
  type: 'datetime',
  maxZoom: 14 * 24 * 3600000,
  dateTimeLabelFormats:{
    day: '%e-%b-%Y',
    week: '%e-%b-%Y',
    month: '%b \'%Y',
    year: '%Y'
  },
  title: {
    text: 'Days'
  },
  labels: {
    y: 40,
    rotation: 60                          
  },    
  tickmarkPlacement:'on',
  startOnTick: true,
  endOnTick: true
} 
```

我使用高图表库添加了一个柱形图。我使用 xaxis 作为日期时间类型。此图表显示之前 30 天的报告。我给它一个开始日期，但是当图表被渲染时，它在开始时显示 1 或 2 个额外的日期，在结束时显示相同的日期。例如，如果我将 1 月作为开始日期，它应该显示为 5 月 1 日至 30 日，但显示时间为 4 月 30 日至 6 月 1 日或 4 月 30 日至 31 日？

# xml - Xsl 总和（） 的 同名

> ID：11535452
> 
> 赞同：0
> 
> 时间：2012-07-18T06:27:25.940
> 
> 标签：xml, xslt

我是 xsl 的初学者。
我需要计算同名用户的总流量**(name NOT "name" + "last name")**，例如计算所有名为 "Jonh" 的用户的总流量。而xsl版本应该只有1.0。
我找到了一个有同样问题的话题

> [http://social.msdn.microsoft.com/Forums/eu/xmlandnetfx/thread/c9f09ba6-1c79-43df-bbc2-3966710fff23](http://social.msdn.microsoft.com/Forums/eu/xmlandnetfx/thread/c9f09ba6-1c79-43df-bbc2-3966710fff23)

我试图使用它：

```
<span>Total: <xsl:value-of select="sum(//user[contains(name,'Jonh')]../traffic)" /></span> 
```

或者

```
<span>Total: <xsl:value-of select="sum(//user[contains(name,'Jonh')]/traffic)" /></span> 
```

但没有效果。它不计算总和。谁能帮我找到解决办法。

文件

```
<?xml version='1.0' encoding='UTF-8'?>
<?xml-stylesheet type='text/xsl' href='traffic.xsl'?>
<root>
   <user>
       <name>Jonh Connor</name>
       <traffic>800</traffic>
   </user>
   <user>
       <name>John Kennedy</name>
       <traffic>200</traffic>
   </user>
   <user>
       <name>Jack London</name>
       <traffic>100</traffic>
   </user>
   <user>
       <name>Sema Schlumberger</name>
       <traffic>300</traffic>
   </user>
   <user>
       <name>Jack Vorobey</name>
       <traffic>700</traffic>
   </user>
   <user>
       <name>John Lennon</name>
       <traffic>500</traffic>
   </user>
   <user>
       <name>John Romero</name>
       <traffic>4003</traffic>
   </user>
</root> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:40:00.387

你的第二个表达有效......

```
 <xsl:value-of select="sum(//user[contains(name,'Jonh')]/traffic)" /> 
```

我对此进行了测试，并且可以正常工作。请注意名称中明显的拼写错误： 'Jonh' 和 'John' 。

请注意，尽管您的表达是正确的，但如果您可以依赖示例输入所暗示的结构，当上下文节点是文档根时，您可能更喜欢更有效的解决方案：

```
 <xsl:value-of select="sum(root/user/name[contains(.,'Jonh')]/../traffic)" /> 
```

## 警告

这种表达形式不区分名称和名称的一部分。因此，如果您对“Rom”求和，您将得到 4003，因为姓氏“John Romero”包含“Rom”。如果这不是想要的结果，那么您需要阐明匹配规则。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:51:36.720

第二个表达式工作正常。无论如何，我宁愿`contains()`从表达式中删除函数，因为它可能会导致您的计算出错。要仅获取名称为“John”的用户的结果，您应该使用以下示例：

```
<span>Total: <xsl:value-of select="sum(/root/user[name = 'Jonh']/traffic)" /></span> 
```

# linux - 无法将 perforce 输出从标准输出重定向到文件/变量

> ID：11535454
> 
> 赞同：1
> 
> 时间：2012-07-18T06:27:25.497
> 
> 标签：linux, shell, perforce, io-redirection

我正在 Ubuntu 10.4 Linux 中编写一个 bash shell 脚本。它使用一些`p4`命令。`>`问题是 p4 命令的所有输出都显示在终端上，即使在变量中使用或捕获它时也不会重定向。

例子：

```
p4 files *.c > results.txt   // displays results on the screen and results.txt is empty
result=$(p4 files *.c)       // result is empty 
```

是否有任何标志`p4`可用于完成任务或 Linux 中的其他开关？

# java - 使用 DataURL 字符串将图像上传到 picasa

> ID：11535465
> 
> 赞同：1
> 
> 时间：2012-07-18T06:28:41.010
> 
> 标签：java, javascript, picasa

我正在使用 HTML5 创建一个完全基于 Web 的“相机”应用程序。（没有电话间隙）

我现在有一个 DataURL，如下所示

```
canvas.getContext("2d").drawImage(video, 0, 0, 640, 480, 0, 0, 640, 480);
var img = canvas.toDataURL("image/png"); 
```

将其作为字符串发送到服务器端后，我可以将其上传到 picasa 吗？

以下代码不起作用，并给了我一个“com.google.gdata.util.InvalidEntryException：OK Not an image”。例外。（imgStr 是上面的 DataURL）

```
MediaByteArraySource imageByteArr = new MediaByteArraySource(imgStr.getBytes("UTF-16LE"), "image/jpeg");
myPhoto.setMediaSource(imageByteArr);
PhotoEntry returnedPhoto = client.insert(imagePostUrl, myPhoto); 
```

提前致谢

编辑：字符串看起来像这样“data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAHgCAYAAAA10dzkAAAgAElEQVR4Xuy92ZI....”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-19T05:44:01.580

需要对字符串进行解码，然后才能将其传递给 MediaBytearraySource。

```
String imgStrBase64 = req.getParameter("photo").split(",")[1];          
byte[] dataBytes= Base64.decode(imgStrBase64);
MediaByteArraySource imageByteArr = new MediaByteArraySource(dataBytes, "image/jpeg"); 
```

希望这可以帮助某人。

# kettle - 每种类型的水壶样品行

> ID：11535470
> 
> 赞同：0
> 
> 时间：2012-07-18T06:29:21.453
> 
> 标签：kettle

我有一组行，比如说“rowId”、“type”、“value”。我需要每个“类型”的 10 个样本行的输出集。我该怎么做？“类型”大约有。100 种不同且不断变化的值，因此切换不是一个好的选择。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T10:12:24.403

好吧，我已经从这种情况中找到了解决办法。我将转换分成几部分。第一部分将所有数据收集到一个临时表中，找到唯一类型，并将它们复制到结果中。

第二个针对每个输入行（我们有类型）运行，并从临时表中收集给定类型的数据。那么你不需要分组来做分层样本。

# c# - 了解 CUITe 框架如何工作以及如何在一个简单的项目中实现？

> ID：11535475
> 
> 赞同：1
> 
> 时间：2012-07-18T06:29:30.803
> 
> 标签：c#, .net, unit-testing, automation, coded-ui-tests

我的经理让我为关于 CUITe（编码 UI 测试增强框架）的技术提案提供一些意见。我已经下载了[CUITe 1.05 发布](http://cuite.codeplex.com/downloads/get/340643)。我发现很少有文章/博客说它是如何工作的： [CUITe 框架（编码 UI 测试）](http://automationspecialist.wordpress.com/2011/09/24/cuite-framework-coded-ui-test/)、[CUITe 快速入门指南](http://cuite.codeplex.com/wikipage?title=Quick%20Start&referringTitle=Frequently%20Asked%20Questions)。但我仍然不知道如何使用它，它如何帮助我对一个简单的“Helloworld”类型的项目进行单元测试。

任何人都可以通过一个例子帮助我逐步理解它的使用。任何想法，链接将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-19T13:24:49.230

标准编码 UI 测试有时会在您记录单击单个按钮时生成 200 多行代码（尤其是在具有多个嵌套控件容器和自定义控件的复杂应用程序中）。大多数生成的代码都是多余的。由于不是您自己编写的，并且代码量很大，因此很难阅读它，并且以后需要时进行修复。

CUITE 旨在解决这些问题。CUITe 有一些优化可以减少生成的代码量，并且它以一种希望将来易于维护的方式编写代码。

# amazon-s3 - Jenkins 与 Amazon S3 的持续集成 - 一切都上传到根目录？

> ID：11535479
> 
> 赞同：11
> 
> 时间：2012-07-18T06:29:52.397
> 
> 标签：amazon-s3, continuous-integration, jenkins, amazon

我正在运行 Jenkins，它成功地与我的 Github 帐户一起工作，但我无法让它与 Amazon S3 一起正常工作。

我安装了 S3 插件，当我运行构建时，它成功上传到我指定的 S3 存储桶，但所有上传的文件最终都在存储桶的根目录中。我有一堆文件夹（例如 /css /js 等），但是来自 hithub 的这些文件夹中的所有文件最终都在我的 S3 帐户的根目录中。

是否可以让 S3 插件上传并保留文件夹结构？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-07-18T19:28:56.707

看起来这是不可能的。相反，我使用 s3cmd 来执行此操作。您必须首先将它安装在您的服务器上，然后在您可以使用的 Jenkins 作业中的一个 bash 脚本中：

```
s3cmd sync -r -P $WORKSPACE/ s3://YOUR_BUCKET_NAME 
```

这会将所有文件复制到您的 S3 帐户，以维护文件夹结构。-P 保留每个人的读取权限（如果您将存储桶用作 Web 服务器，则需要）。这是使用同步功能的绝佳解决方案，因为它将所有本地文件与 S3 存储桶进行比较，并且仅复制已更改的文件（通过比较文件大小和校验和）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-18T13:38:52.863

我从未使用过 Jenkins 的 S3 插件（但现在我知道它存在，我可能会试一试），但是，查看代码，似乎您只能使用变通方法来做您想做的事情。

以下是实际插件代码的作用（取自 github）——为了便于阅读，我删除了代码中不相关的部分：

类`hudson.plugins.s3.S3Profile`，方法`upload`：

```
final Destination dest = new Destination(bucketName,filePath.getName());
getClient().putObject(dest.bucketName, dest.objectName, filePath.read(), metadata); 
```

现在，如果您查看`hudson.FilePath.getName()`'s JavaDoc：

> 仅获取不带目录的文件名部分。

现在，看看`hudson.plugins.s3.Destination`'s 的构造函数：

```
public Destination(final String userBucketName, final String fileName) {

    if (userBucketName == null || fileName == null) 
        throw new IllegalArgumentException("Not defined for null parameters: "+userBucketName+","+fileName);

    final String[] bucketNameArray = userBucketName.split("/", 2);
    bucketName = bucketNameArray[0];
    if (bucketNameArray.length > 1) {
        objectName = bucketNameArray[1] + "/" + fileName;
    } else {
        objectName = fileName;
    }
} 
```

`Destination`JavaDoc 类说：

> 这里实现的约定是桶名中的 / 用于构造对象名中的结构。也就是说，将 file.txt 放入存储桶名称“mybucket/v1”将导致在 mybucket 中创建对象“v1/file.txt”。

结论：调用剥离了您添加到文件的`filePath.getName()`任何前缀（S3 没有任何目录，而是前缀，请参阅[此](https://stackoverflow.com/questions/9329234/amazon-aws-ios-sdk-how-to-list-all-file-names-in-a-folder/)和[此线程以获取更多信息）。](https://stackoverflow.com/questions/7396606/aws-s3-sdk-get-the-folder-instead-of-a-file/)如果您确实需要将文件放入“文件夹”（即具有包含斜杠 ( `/`) 的特定前缀），我建议您将此前缀添加到存储桶名称的末尾，如`Destination`JavaDoc 类中所明确说明的那样。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-10T22:07:58.080

是的，这是可能的。

看起来对于每个文件夹目标，您都需要一个单独的 S3 插件实例。

“源”是您要上传的文件。

“目标桶”是您放置路径的地方。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-03-27T14:40:43.763

使用 Jenkins 1.532.2 和 S3 Publisher Plug-In 0.5，UI 配置作业屏幕拒绝额外的 S3 发布条目。如果插件重新创建工作区目录结构，我们也会有很大的维护好处，因为我们将创建许多目录。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-09-18T18:47:50.520

1.  设置你的 git 插件。

[![在此处输入图像描述](../Images/0a9e59c34f84206cba024aa7bd1bce84.png)](https://i.stack.imgur.com/lYDcc.jpg)

2.  设置你的 Bash 脚本

[![在此处输入图像描述](../Images/d6fe507a0e71a00a372c1f5cef848c98.png)](https://i.stack.imgur.com/SvO74.jpg)

3.  标记为“*”的文件夹中的所有内容都将转到存储桶

# python - 模糊分组依据，对相似词进行分组

> ID：11535483
> 
> 赞同：6
> 
> 时间：2012-07-18T06:30:24.477
> 
> 标签：python, algorithm, machine-learning, nlp, cluster-analysis

之前在这里问过这个问题

[将相似词分组的好策略是什么？](https://stackoverflow.com/questions/6579263/what-is-a-good-strategy-to-group-similar-words)

但没有给出关于如何“分组”项目的明确答案。基于 difflib 的解决方案基本上是搜索，对于给定的项目，difflib 可以从列表中返回最相似的单词。但是这如何用于分组呢？

我想减少

```
['ape', 'appel', 'apple', 'peach', 'puppy'] 
```

到

```
['ape', 'appel', 'peach', 'puppy'] 
```

或者

```
['ape', 'apple', 'peach', 'puppy'] 
```

我尝试过的一个想法是，对于每个项目，遍历列表，如果 get_close_matches 返回多个匹配项，则使用它，如果不保持原样。这部分有效，但它可以建议 apple for appel，然后 appel for apple，这些词只会换位，什么都不会改变。

我将不胜感激任何指针，库名称等。

注意：同样在性能方面，我们有一个 300,000 个项目的列表，get_close_matches 似乎有点慢。有人知道那里有基于 C/++ 的解决方案吗？

谢谢，

注意：进一步调查显示 kmedoid 是正确的算法（以及层次聚类），因为 kmedoid 不需要“中心”，它使用/使用数据点本身作为中心（这些点被称为 medoids，因此得名）。在词组的情况下，中心点将是该组/集群的代表元素。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-18T06:39:04.437

您需要对组进行规范化。在每个组中，选择一个代表该组的单词或编码。然后按他们的代表对单词进行分组。

一些可能的方法：

*   选择第一个遇到的单词。
*   选择字典顺序的第一个单词。
*   推导出所有单词的模式。
*   选择一个唯一索引。
*   使用[soundex](http://en.wikipedia.org/wiki/Soundex "WP：Soundex")作为模式。

但是，将单词分组可能很困难。如果 A 与 B 相似，B 与 C 相似，则 A 和 C 不一定彼此相似。如果 B 是代表，则 A 和 C 都可以包含在该组中。但如果 A 或 C 是​​代表，则不能包括另一个。

* * *

按照第一个选择（第一个遇到的单词）：

```
class Seeder:
    def __init__(self):
        self.seeds = set()
        self.cache = dict()

    def get_seed(self, word):
        LIMIT = 2
        seed = self.cache.get(word,None)
        if seed is not None:
            return seed
        for seed in self.seeds:
            if self.distance(seed, word) <= LIMIT:
                self.cache[word] = seed
                return seed
        self.seeds.add(word)
        self.cache[word] = word
        return word

    def distance(self, s1, s2):
        l1 = len(s1)
        l2 = len(s2)
        matrix = [range(zz,zz + l1 + 1) for zz in xrange(l2 + 1)]
        for zz in xrange(0,l2):
            for sz in xrange(0,l1):
                if s1[sz] == s2[zz]:
                    matrix[zz+1][sz+1] = min(matrix[zz+1][sz] + 1, matrix[zz][sz+1] + 1, matrix[zz][sz])
                else:
                    matrix[zz+1][sz+1] = min(matrix[zz+1][sz] + 1, matrix[zz][sz+1] + 1, matrix[zz][sz] + 1)
        return matrix[l2][l1]

import itertools

def group_similar(words):
    seeder = Seeder()
    words = sorted(words, key=seeder.get_seed)
    groups = itertools.groupby(words, key=seeder.get_seed)
    return [list(v) for k,v in groups] 
```

**例子：**

```
import pprint

print pprint.pprint(group_similar([
    'the', 'be', 'to', 'of', 'and', 'a', 'in', 'that', 'have',
    'I', 'it', 'for', 'not', 'on', 'with', 'he', 'as', 'you',
    'do', 'at', 'this', 'but', 'his', 'by', 'from', 'they', 'we',
    'say', 'her', 'she', 'or', 'an', 'will', 'my', 'one', 'all',
    'would', 'there', 'their', 'what', 'so', 'up', 'out', 'if',
    'about', 'who', 'get', 'which', 'go', 'me', 'when', 'make',
    'can', 'like', 'time', 'no', 'just', 'him', 'know', 'take',
    'people', 'into', 'year', 'your', 'good', 'some', 'could',
    'them', 'see', 'other', 'than', 'then', 'now', 'look',
    'only', 'come', 'its', 'over', 'think', 'also', 'back',
    'after', 'use', 'two', 'how', 'our', 'work', 'first', 'well',
    'way', 'even', 'new', 'want', 'because', 'any', 'these',
    'give', 'day', 'most', 'us'
]), width=120) 
```

**输出：**

```
[['after'],
 ['also'],
 ['and', 'a', 'in', 'on', 'as', 'at', 'an', 'one', 'all', 'can', 'no', 'want', 'any'],
 ['back'],
 ['because'],
 ['but', 'about', 'get', 'just'],
 ['first'],
 ['from'],
 ['good', 'look'],
 ['have', 'make', 'give'],
 ['his', 'her', 'if', 'him', 'its', 'how', 'us'],
 ['into'],
 ['know', 'new'],
 ['like', 'time', 'take'],
 ['most'],
 ['of', 'I', 'it', 'for', 'not', 'he', 'you', 'do', 'by', 'we', 'or', 'my', 'so', 'up', 'out', 'go', 'me', 'now'],
 ['only'],
 ['over', 'our', 'even'],
 ['people'],
 ['say', 'she', 'way', 'day'],
 ['some', 'see', 'come'],
 ['the', 'be', 'to', 'that', 'this', 'they', 'there', 'their', 'them', 'other', 'then', 'use', 'two', 'these'],
 ['think'],
 ['well'],
 ['what', 'who', 'when', 'than'],
 ['with', 'will', 'which'],
 ['work'],
 ['would', 'could'],
 ['year', 'your']] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-18T06:48:51.790

您必须在封闭匹配词中决定要使用哪些词。可能是从 get_close_matches 返回的列表中获取第一个元素，或者只是在该列表上使用随机函数并从封闭匹配中获取一个元素。

必须有某种规则，因为它..

```
In [19]: import difflib

In [20]: a = ['ape', 'appel', 'apple', 'peach', 'puppy']

In [21]: a = ['appel', 'apple', 'peach', 'puppy']

In [22]: b = difflib.get_close_matches('ape',a)

In [23]: b
Out[23]: ['apple', 'appel']

In [24]: import random

In [25]: c = random.choice(b)

In [26]: c
Out[26]: 'apple'

In [27]: 
```

现在从初始列表中删除 c，就是这样...对于 c++，您可以使用[Levenshtein_distance](http://en.wikipedia.org/wiki/Levenshtein_distance)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-05T18:05:09.150

这是另一个使用 Affinity Propagation 算法的版本。

```
import numpy as np
import scipy.linalg as lin
import Levenshtein as leven
import matplotlib.pyplot as plt
from sklearn.cluster import KMeans
from sklearn.cluster import AffinityPropagation
import itertools

words = np.array(
    ['the', 'be', 'to', 'of', 'and', 'a', 'in', 'that', 'have',
     'I', 'it', 'for', 'not', 'on', 'with', 'he', 'as', 'you',
     'do', 'at', 'this', 'but', 'his', 'by', 'from', 'they', 'we',
     'say', 'her', 'she', 'or', 'an', 'will', 'my', 'one', 'all',
     'would', 'there', 'their', 'what', 'so', 'up', 'out', 'if',
     'about', 'who', 'get', 'which', 'go', 'me', 'when', 'make',
     'can', 'like', 'time', 'no', 'just', 'him', 'know', 'take',
     'people', 'into', 'year', 'your', 'good', 'some', 'could',
     'them', 'see', 'other', 'than', 'then', 'now', 'look',
     'only', 'come', 'its', 'over', 'think', 'also', 'back',
     'after', 'use', 'two', 'how', 'our', 'work', 'first', 'well',
     'way', 'even', 'new', 'want', 'because', 'any', 'these',
     'give', 'day', 'most', 'us'])

print "calculating distances..."

(dim,) = words.shape

f = lambda (x,y): -leven.distance(x,y)

res=np.fromiter(itertools.imap(f, itertools.product(words, words)), dtype=np.uint8)
A = np.reshape(res,(dim,dim))

af = AffinityPropagation().fit(A)
cluster_centers_indices = af.cluster_centers_indices_
labels = af.labels_

unique_labels = set(labels)
for i in unique_labels:
    print words[labels==i] 
```

距离必须转换为相似度，我通过取负数来做到这一点。输出是

```
['to' 'you' 'do' 'by' 'so' 'who' 'go' 'into' 'also' 'two']
['it' 'with' 'at' 'if' 'get' 'its' 'first']
['of' 'for' 'from' 'or' 'your' 'look' 'after' 'work']
['the' 'be' 'have' 'I' 'he' 'we' 'her' 'she' 'me' 'give']
['this' 'his' 'which' 'him']
['and' 'a' 'in' 'an' 'my' 'all' 'can' 'any']
['on' 'one' 'good' 'some' 'see' 'only' 'come' 'over']
['would' 'could']
['but' 'out' 'about' 'our' 'most']
['make' 'like' 'time' 'take' 'back']
['that' 'they' 'there' 'their' 'when' 'them' 'other' 'than' 'then' 'think'
 'even' 'these']
['not' 'no' 'know' 'now' 'how' 'new']
['will' 'people' 'year' 'well']
['say' 'what' 'way' 'want' 'day']
['because']
['as' 'up' 'just' 'use' 'us'] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-20T14:43:03.700

另一种方法可能是使用矩阵分解，使用 SVD。首先我们创建单词距离矩阵，对于 100 个单词，这将是 100 x 100 矩阵，表示每个单词到所有其他单词的距离。然后，在这个矩阵上运行 SVD，得到的 u,s,v 中的 u 可以看作是每个集群的成员强度。

代码

```
import numpy as np
import scipy.linalg as lin
import Levenshtein as leven
import matplotlib.pyplot as plt
from sklearn.cluster import KMeans
import itertools

words = np.array(
    ['the', 'be', 'to', 'of', 'and', 'a', 'in', 'that', 'have',
     'I', 'it', 'for', 'not', 'on', 'with', 'he', 'as', 'you',
     'do', 'at', 'this', 'but', 'his', 'by', 'from', 'they', 'we',
     'say', 'her', 'she', 'or', 'an', 'will', 'my', 'one', 'all',
     'would', 'there', 'their', 'what', 'so', 'up', 'out', 'if',
     'about', 'who', 'get', 'which', 'go', 'me', 'when', 'make',
     'can', 'like', 'time', 'no', 'just', 'him', 'know', 'take',
     'people', 'into', 'year', 'your', 'good', 'some', 'could',
     'them', 'see', 'other', 'than', 'then', 'now', 'look',
     'only', 'come', 'its', 'over', 'think', 'also', 'back',
     'after', 'use', 'two', 'how', 'our', 'work', 'first', 'well',
     'way', 'even', 'new', 'want', 'because', 'any', 'these',
     'give', 'day', 'most', 'us'])

print "calculating distances..."

(dim,) = words.shape

f = lambda (x,y): leven.distance(x,y)
res=np.fromiter(itertools.imap(f, itertools.product(words, words)),
                dtype=np.uint8)
A = np.reshape(res,(dim,dim))

print "svd..."

u,s,v = lin.svd(A, full_matrices=False)

print u.shape
print s.shape
print s
print v.shape

data = u[:,0:10]
k=KMeans(init='k-means++', k=25, n_init=10)
k.fit(data)
centroids = k.cluster_centers_
labels = k.labels_
print labels

for i in range(np.max(labels)):
    print words[labels==i]

def dist(x,y):   
    return np.sqrt(np.sum((x-y)**2, axis=1))

print "centroid points.."
for i,c in enumerate(centroids):
    idx = np.argmin(dist(c,data[labels==i]))
    print words[labels==i][idx]
    print words[labels==i]

plt.plot(centroids[:,0],centroids[:,1],'x')
plt.hold(True)
plt.plot(u[:,0], u[:,1], '.')
plt.show()

from mpl_toolkits.mplot3d import Axes3D
fig = plt.figure()
ax = Axes3D(fig)
ax.plot(u[:,0], u[:,1], u[:,2],'.', zs=0,
        zdir='z', label='zs=0, zdir=z')
plt.show() 
```

结果

```
any
['and' 'an' 'can' 'any']
do
['to' 'you' 'do' 'so' 'go' 'no' 'two' 'how']
when
['who' 'when' 'well']
my
['be' 'I' 'by' 'we' 'my' 'up' 'me' 'use']
your
['for' 'or' 'out' 'about' 'your' 'our']
its
['it' 'his' 'if' 'him' 'its']
could
['would' 'people' 'could']
this
['this' 'think' 'these']
she
['the' 'he' 'she' 'see']
back
['all' 'back' 'want']
one
['of' 'on' 'one' 'only' 'even' 'new']
just
['but' 'just' 'first' 'most']
come
['some' 'come']
that
['that' 'than']
way
['say' 'what' 'way' 'day']
like
['like' 'time' 'give']
in
['in' 'into']
get
['her' 'get' 'year']
because
['because']
will
['with' 'will' 'which']
over
['other' 'over' 'after']
as
['a' 'as' 'at' 'also' 'us']
them
['they' 'there' 'their' 'them' 'then']
good
['not' 'from' 'know' 'good' 'now' 'look' 'work']
have
['have' 'make' 'take'] 
```

为集群数量选择 k 很重要，例如，k=25 比 k=20 给出更好的结果。

该代码还通过选择其 u[..] 坐标最接近集群质心的词来为每个集群选择一个代表词。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-18T13:22:33.623

这是一种基于 medoids 的方法。首先安装 MlPy。在 Ubuntu 上

```
sudo apt-get install python-mlpy 
```

然后

```
import numpy as np
import mlpy

class distance:    
    def compute(self, s1, s2):
        l1 = len(s1)
        l2 = len(s2)
        matrix = [range(zz,zz + l1 + 1) for zz in xrange(l2 + 1)]
        for zz in xrange(0,l2):
            for sz in xrange(0,l1):
                if s1[sz] == s2[zz]:
                    matrix[zz+1][sz+1] = min(matrix[zz+1][sz] + 1, matrix[zz][sz+1] + 1, matrix[zz][sz])
                else:
                    matrix[zz+1][sz+1] = min(matrix[zz+1][sz] + 1, matrix[zz][sz+1] + 1, matrix[zz][sz] + 1)
        return matrix[l2][l1]

x =  np.array(['ape', 'appel', 'apple', 'peach', 'puppy'])

km = mlpy.Kmedoids(k=3, dist=distance())
medoids,clusters,a,b = km.compute(x)

print medoids
print clusters
print a

print x[medoids] 
for i,c in enumerate(x[medoids]):
    print "medoid", c
    print x[clusters[a==i]] 
```

输出是

```
[4 3 1]
[0 2]
[2 2]
['puppy' 'peach' 'appel']
medoid puppy
[]
medoid peach
[]
medoid appel
['ape' 'apple'] 
```

更大的单词列表并使用 k=10

```
medoid he
['or' 'his' 'my' 'have' 'if' 'year' 'of' 'who' 'us' 'use' 'people' 'see'
 'make' 'be' 'up' 'we' 'the' 'one' 'her' 'by' 'it' 'him' 'she' 'me' 'over'
 'after' 'get' 'what' 'I']
medoid out
['just' 'only' 'your' 'you' 'could' 'our' 'most' 'first' 'would' 'but'
 'about']
medoid to
['from' 'go' 'its' 'do' 'into' 'so' 'for' 'also' 'no' 'two']
medoid now
['new' 'how' 'know' 'not']
medoid time
['like' 'take' 'come' 'some' 'give']
medoid because
[]
medoid an
['want' 'on' 'in' 'back' 'say' 'and' 'a' 'all' 'can' 'as' 'way' 'at' 'day'
 'any']
medoid look
['work' 'good']
medoid will
['with' 'well' 'which']
medoid then
['think' 'that' 'these' 'even' 'their' 'when' 'other' 'this' 'they' 'there'
 'than' 'them'] 
```

# sharepoint - 业务数据连接错误拒绝访问

> ID：11535488
> 
> 赞同：3
> 
> 时间：2012-07-18T06:30:45.620
> 
> 标签：sharepoint, sharepoint-2010

我在共享点设计器中创建了外部内容类型并创建了一个列表。我去了 URL，当刷新页面时，列表出现了。当我单击列表时，它显示为

> “业务数据连接拒绝访问。相关 ID：bab07ba2-5ac1-463c-ab8d-f4f2233fb26”

在 Central admin 中，我将我的帐户的权限授予了该外部内容类型。它仍然显示此消息。这个有什么解决办法。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-18T07:14:32.060

得到了解决方案。需要添加

> “设置元数据存储权限”

![在此处输入图像描述](../Images/f94c54ebd7c665dac6381ccb2261d237.png)

我在这里添加了我的用户。现在生成的列表没有任何问题。

谢谢你们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-28T22:40:20.580

转到：中央管理 -> 管理服务应用程序 ( [http://CentralAdminURL/_admin/ServiceApplications.aspx](http://CentralAdminURL/_admin/ServiceApplications.aspx) ) -> 业务数据连接服务

然后选择您要查找的外部内容类型，并确保您向所有经过身份验证的用户提供权限（功能区上的按钮）。

问候罗纳德

# eclipse - Java JDK 到 Eclipse 的目的是什么？

> ID：11535490
> 
> 赞同：5
> 
> 时间：2012-07-18T06:30:53.173
> 
> 标签：eclipse, java

在我安装了 java JDK 之后，我刚刚安装了 Eclipse。入门指南（在 Eclipse 中）说我应该在 Window>Preferences>Java>Installed **JREs**中引用我的 JDK 安装，但是 JRE 也可以工作。

> 选择 Java > Installed JREs 首选项页面以显示已安装的 Java Runtime Environments。确认已检测到 JRE。默认情况下，用于运行工作台的 JRE 将用于构建和运行 Java 程序。它应该在已安装的 JRE 列表中出现一个复选标记。我们建议您使用 Java SDK 而不是 JRE。SDK 专为开发而设计，包含 Java 库的源代码，便于调试。

那里已经设置了一个 JRE（不是 JDK），所以我什么也没做，而是尝试编译一个 Hello World（只是想看看会发生什么）。令我惊讶的是，它编译了！

我搜索了一下，看起来这很有效，因为 Eclipse 有一个内置的 Java 编译器。我尝试使用相同的 Eclipse 设置进行调试，它也成功了。

那么，在那里设置 JDK 和 JRE 有什么区别？为什么下载 JDK 很重要，因为在我的默认配置中 Eclipse 似乎没有使用它？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-18T06:33:51.123

可能主要区别在于您获得了所有 Java 运行时库（使用 JDK）的源代码，这可能会有很大帮助。出于这个原因，我总是使用 JDK。

此外，如果您正在调试，这将允许您有意义地进入 Java 运行时库。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-18T06:47:49.953

JDK 附带了许多 JRE 不附带的工具 - JConsole (http://java.sun.com/developer/technicalArticles/J2SE/jconsole.html) 浮现在脑海中。例如，这可以帮助您了解和监控应用程序的内存使用情况等。无论哪种方式，如果您进入不熟悉的领域，我强烈建议您遵循 Eclipse 建议并使用 JDK！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-18T07:03:40.670

正如 DotMasta 所提到的，JDK 配备了不同的有用工具。Eclipse 的“版本”JDK 称为[JDT](http://www.eclipse.org/jdt/overview.php)。`javac`除了附带的工具范围外，与 Eclipse 内置编译器之间也存在差异`ecj`，因此请查看[此处](https://stackoverflow.com/questions/3061654/what-is-the-difference-between-javac-and-the-eclipse-compiler)查看比较。最重要的区别之一`javac`是严格，即`ecj`即使代码出错，您也可以创建一个类文件，这非常适合测试阶段，但不适用于启动:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T07:00:17.233

JDK包含用于编译和运行Java程序的软件开发工具。

*   标准 jdk 库中的大量类和方法
*   Javac 编译器

差异以及为什么需要这个？

JDK 包括 JVM、标准类库和开发人员创建 Java 程序所需的其他几个工具。JRE 包括 JVM，因为 JRE 提供了一些标准库和可用于执行 Java 程序的 JVM。

您甚至可以在那里查看：[http ://en.wikipedia.org/wiki/Java_Development_Kit](http://en.wikipedia.org/wiki/Java_Development_Kit)

# sql-server-2008 - SQL 2008 OPENXML，无法解析 NTEXT 数据

> ID：11535491
> 
> 赞同：0
> 
> 时间：2012-07-18T06:30:54.450
> 
> 标签：sql-server-2008, openxml

嗨，我有一个 xml 字符串

```
DECLARE @XmlQue     NTEXT

SET @XmlQue='<?xml version="1.0" encoding="UTF-16"?><Template TId="1">
       <QueInfo QId="1" QDetails="Are you " IsYes="Yes" IsNo="No" Eligibleyes="Y" Eligibleno="N"/>
       <QueInfo QId="2" QDetails=" राज्य " IsYes="Yes" IsNo="No" Eligibleyes="Y" Eligibleno="N"/>
     </Template>' 
```

我想将数据插入到某些列中具有 NTEXT 数据类型的表中

我写了以下插入语句。

```
INSERT INTO ExpertSystem_Master 
    SELECT QIdx,@TemplateId,QDetailsx,IsYesx,IsNox,Eligibleyesx,Eligiblenox,0,0
    FROM 
    OPENXML(@XmlHdl,'/Template/QueInfo',1)
    WITH
    (    QIdx           INT '@QId',
         QDetailsx      Ntext '@QDetails',
         IsYesx         Ntext  '@IsYes', 
         IsNox          Ntext  '@IsNo', 
         Eligibleyesx   CHAR(1) '@Eligibleyes',
         Eligiblenox    CHAR(1) '@Eligibleno'   
    ) 
```

数据已插入表中，但问题不是设置**“राज्य”**，而是将数据插入为**“?????”**

当我尝试直接插入数据时，它被正确插入，问题是在使用 OPENXML 解析它时。

任何人都可以帮忙吗？我错过了什么吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:33:03.233

在你的文字前放一个 N .. 例子：

```
SET @XmlQue=N'<?xml version="1.0" encoding="UTF-16"?><Template TId="1"> 
       <QueInfo QId="1" QDetails="Are you " IsYes="Yes" IsNo="No" Eligibleyes="Y" Eligibleno="N"/> 
       <QueInfo QId="2" QDetails=" राज्य " IsYes="Yes" IsNo="No" Eligibleyes="Y" Eligibleno="N"/> 
     </Template>' 
```

# phpmailer - 每个邮件列表收件人的个性化电子邮件

> ID：11535503
> 
> 赞同：1
> 
> 时间：2012-07-18T06:31:47.427
> 
> 标签：phpmailer, mailing-list

我正在使用 PHPmailer 向大约 1000 个联系人一一发送电子邮件（通讯）。问题是我的网络托管服务提供商将我的帐户列入黑名单，并坚持我使用邮件列表（包含所有联系人）而不是一一发送电子邮件。

AFAIK 邮件列表的问题在于每个人发送的电子邮件都是相同的，这会阻止您个性化每条消息。除了不能包含联系人姓名和产品偏好等个人信息外，您还不能包含联系人的唯一 ID，用于取消订阅和跟踪对链接/优惠/广告的响应。

所以我的问题是，发送批量电子邮件的行业标准/接受的方式/模式是什么？是单独发送，还是使用邮件列表？如果是后者，您可以为邮件列表中的每个人自定义电子邮件吗？

到目前为止，我只能从我的网络主机提供商处运行 PHPmailer，并且选择不使用 MailChimp 等第三方服务。

谢谢

# android - 带有phonegap的Android id

> ID：11535505
> 
> 赞同：1
> 
> 时间：2012-07-18T06:32:06.130
> 
> 标签：android, cordova

正如我们可以在本机代码中找到android唯一ID一样 -

```
import android.provider.Settings.Secure;

private String android_id = Secure.getString(getContext().getContentResolver(),
                                                    Secure.ANDROID_ID); 
```

但是请建议我他们有什么方法可以使用phonegap做同样的事情吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:35:09.377

[http://docs.phonegap.com/en/1.0.0/phonegap_device_device.md.html#device.uuid](http://docs.phonegap.com/en/1.0.0/phonegap_device_device.md.html#device.uuid)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-23T21:18:38.963

实际上，这是您调用时的默认行为`device.uuid`，至少在 Phonegap 3.5.0 上是这样。你可以看到，如果你检查源代码`org.apache.cordova.device.Device`

```
public class Device extends CordovaPlugin {
...
    /**
     * Get the device's Universally Unique Identifier (UUID).
     *
     * @return
     */
    public String getUuid() {
        String uuid = Settings.Secure.getString(this.cordova.getActivity().getContentResolver(), android.provider.Settings.Secure.ANDROID_ID);
        return uuid;
    }
...
} 
```

# delphi - 在自定义 Delphi 组件中实现 Columns.Columns 属性

> ID：11535513
> 
> 赞同：2
> 
> 时间：2012-07-18T06:32:44.460
> 
> 标签：delphi

我正在将几个 Delphi 2005 应用程序转换为 XE2，它们使用的组件不再可用，因此我编写了自己的自定义组件来处理基础知识，当您将组件放到表单上时通常可以，但是当我打开一个包含此组件的 VCL 表单时，我遇到了一个问题，该组件已在 DFM 中设置了属性。

Delphi 2005 DFM 包含如下内容：

```
 object ExtendedGrid1: TExtendedGrid
    Left = 32
    Top = 16
    Width = 577
    Height = 257
    TabOrder = 0
    Columns.Columns = (
      'OE6.02'
      (
        'Test1'
        64
        False
        0
        'clWindowText'
        -11
        'Tahoma'
        0
        8
        False
        False
        False
        False
        0
        1
        0
        0
        0
        1
        0
        'clWindowText'
        -11
        'Tahoma'
        0
        8
        False
        False
        False
        False
        0
        1
        0
        'test2'
        64
        False
        0
        'clWindowText'
        -11
        'Trebuchet MS'
        0
        8
        True
        True
        False
        False
        0
        1
        0
        0
        0
        1
        0
        'clWindowText'
        -11
        'Tahoma'
        0
        8
        False
        False
        False
        False
        0
        1
        0
        ''
        '0'))
    RowHeights = (
      19
      19)
  end 
```

即使我的组件具有基于从 TCollection 继承的类的 Columns 属性，并且我已将 Columns 属性添加到使用继承的 Items 的集合中，但当我尝试在设计器中打开表单时出现此错误：

创建表单时出错：读取 MyGrid1.Columns.Columns 时出错：属性列不存在。

如果我创建组件的新副本，然后设置列，我会在 DFM 中看到完全不同的内容：

```
Columns = <
  item
    Title = 'Test1'
    Width = 64
    Editable = False
    HeaderClipStyle = csClip
    HeaderFont.Charset = DEFAULT_CHARSET
    HeaderFont.Color = clWindowText
    HeaderFont.Height = -11
    HeaderFont.Name = 'Tahoma'
    HeaderFont.Style = []
    HeaderHAlign = haRight
    HeaderInnerBevel = bvNone
    HeaderOuterBevel = bvNone
    HeaderBorderWidth = 0
    HeaderBevelWidth = 0
    ContentsClipStyle = csClip
    ContentsFont.Charset = DEFAULT_CHARSET
    ContentsFont.Color = clWindowText
    ContentsFont.Height = -11
    ContentsFont.Name = 'Tahoma'
    ContentsFont.Style = []
    ComboFilled = False
    ComboEditable = False
  end
  item
    Title = 'test2'
    Width = 64
    Editable = False
    HeaderClipStyle = csClip
    HeaderFont.Charset = DEFAULT_CHARSET
    HeaderFont.Color = clWindowText
    HeaderFont.Height = -11
    HeaderFont.Name = 'Trebuchet MS'
    HeaderFont.Style = []
    HeaderInnerBevel = bvNone
    HeaderOuterBevel = bvNone
    HeaderBorderWidth = 0
    HeaderBevelWidth = 0
    ContentsClipStyle = csClip
    ContentsFont.Charset = DEFAULT_CHARSET
    ContentsFont.Color = clWindowText
    ContentsFont.Height = -11
    ContentsFont.Name = 'Tahoma'
    ContentsFont.Style = []
    ComboFilled = False
    ComboEditable = False
  end
  end> 
```

谁能给我一些文章或解释，让我编写我的自定义组件，以便它可以处理旧的 Delphi 2005 DFM？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T09:24:06.180

这不是一个完整的答案，但它可能会让您入门（您需要将所有必需的属性添加到并在/方法`TColumn`中实现它们的读/写）：`ReadColumn``WriteColumn`

```
unit Unit2;

interface

uses
  Classes, SysUtils, Contnrs;

type
  TColumn = class
  private
    FName: string;
    FWidth: Integer;
  public
    property Name: string read FName;
    property Width: Integer read FWidth;
  end;

  TColumns = class(TPersistent)
  private
    FItems: TObjectList;
    FOwner: TComponent;
    function GetCount: Integer;
    function GetItems(Index: Integer): TColumn;
  protected
    procedure DefineProperties(Filer: TFiler); override;
    function GetOwner: TPersistent; override;
    function ReadColumn(Reader: TReader): TColumn;
    procedure ReadColumns(Reader: TReader);
    procedure WriteColumn(Writer: TWriter; Column: TColumn);
    procedure WriteColumns(Writer: TWriter);
  public
    constructor Create(AOwner: TComponent);
    destructor Destroy; override;
    procedure Assign(Source: TPersistent); override;
    property Count: Integer read GetCount;
    property Items[Index: Integer]: TColumn read GetItems; default;
  end;

  TTestComponent = class(TComponent)
  private
    FColumns: TColumns;
    procedure AddTestColumns;
    procedure SetColumns(Value: TColumns);
  public
    constructor Create(AOwner: TComponent); override;
    destructor Destroy; override;
  published
    property Columns: TColumns read FColumns write SetColumns;
  end;

procedure Register;

implementation

procedure Register;
begin
  RegisterComponents('Test', [TTestComponent]);
end;

{ TColumns }

function TColumns.GetCount: Integer;
begin
  Result := FItems.Count;
end;

function TColumns.GetItems(Index: Integer): TColumn;
begin
  Result := TColumn(FItems[Index]);
end;

function TColumns.GetOwner: TPersistent;
begin
  Result := FOwner;
end;

procedure TColumns.DefineProperties(Filer: TFiler);
begin
  inherited DefineProperties(Filer);
  Filer.DefineProperty('Columns', ReadColumns, WriteColumns, Count > 0);
end;

function TColumns.ReadColumn(Reader: TReader): TColumn;
begin
  Result := TColumn.Create;
  try
    Result.FName := Reader.ReadString;
    Result.FWidth := Reader.ReadInteger;
  except
    Result.Free;
    raise;
  end;
end;

procedure TColumns.ReadColumns(Reader: TReader);
var
  Version: string;
begin
  Reader.ReadListBegin;
  Version := Reader.ReadString;
  if Version = 'OE6.02' then
  begin
    Reader.ReadListBegin;
    FItems.Clear;
    while not Reader.EndOfList do
      FItems.Add(ReadColumn(Reader));
    Reader.ReadListEnd;
  end;
  Reader.ReadListEnd;
end;

procedure TColumns.WriteColumn(Writer: TWriter; Column: TColumn);
begin
  Writer.WriteString(Column.FName);
  Writer.WriteInteger(Column.FWidth);
end;

procedure TColumns.WriteColumns(Writer: TWriter);
var
  I: Integer;
begin
  Writer.WriteListBegin;
  Writer.WriteString('OE6.02');
  Writer.WriteListBegin;
  for I := 0 to Count - 1 do
    WriteColumn(Writer, Items[I]);
  Writer.WriteListEnd;
  Writer.WriteListEnd;
end;

constructor TColumns.Create(AOwner: TComponent);
begin
  inherited Create;
  FOwner := AOwner;
  FItems := TObjectList.Create;
end;

destructor TColumns.Destroy;
begin
  FItems.Free;
  inherited Destroy;
end;

procedure TColumns.Assign(Source: TPersistent);
var
  Column: TColumn;
  I: Integer;
begin
  if Source is TColumns then
  begin
    FItems.Clear;
    for I := 0 to TColumns(Source).Count - 1 do
    begin
      Column := TColumn.Create;
      try
        Column.FName := TColumns(Source)[I].FName;
        Column.FWidth := TColumns(Source)[I].FWidth;
        FItems.Add(Column);
      except
        Column.Free;
        raise;
      end;
    end;
  end;
end;

{ TTestComponent }

procedure TTestComponent.AddTestColumns;
  procedure AddColumn(const AName: string; AWidth: Integer);
  var
    Column: TColumn;
  begin
    Column := TColumn.Create;
    try
      Column.FName := AName;
      Column.FWidth := AWidth;
      FColumns.FItems.Add(Column);
    except
      Column.Free;
      raise;
    end;
  end;
begin
  AddColumn('Test1', 64);
  AddColumn('Test2', 128);
end;

procedure TTestComponent.SetColumns(Value: TColumns);
begin
  FColumns.Assign(Value);
end;

constructor TTestComponent.Create(AOwner: TComponent);
begin
  inherited Create(AOwner);
  FColumns := TColumns.Create(Self);
  AddTestColumns;
end;

destructor TTestComponent.Destroy;
begin
  FColumns.Free;
  inherited Destroy;
end;

end. 
```

此代码在 .dfm 中产生以下结果：

```
object Form1: TForm1
  Left = 0
  Top = 0
  Caption = 'Form1'
  ClientHeight = 282
  ClientWidth = 418
  Color = clBtnFace
  Font.Charset = DEFAULT_CHARSET
  Font.Color = clWindowText
  Font.Height = -11
  Font.Name = 'Tahoma'
  Font.Style = []
  OldCreateOrder = False
  PixelsPerInch = 96
  TextHeight = 13
  object TestComponent1: TTestComponent
    Columns.Columns = (
      'OE6.02'
      (
        'Test1'
        64
        'Test2'
        128))
    Left = 200
    Top = 144
  end
end 
```

# telerik - Rad 窗口可以在屏幕边界之外拖动/打开

> ID：11535516
> 
> 赞同：0
> 
> 时间：2012-07-18T06:33:03.517
> 
> 标签：telerik, radwindow, telerik-window

我有两个关于 rad 窗口的问题：

1.  是否可以防止 rad 窗口被拖动到屏幕边界之外？我尝试使用 KeepInScreenBounds 属性，但没有帮助。

这是我的代码示例，并附有屏幕截图：

```
<telerik:RadWindowManager ID="rwm" runat="server" ShowContentDuringLoad="false" Behaviors="Close,Move" VisibleStatusbar="false" Skin="Gray" Modal="true" KeepInScreenBounds = "true">

<Windows>

<telerik:RadWindow ID="rwAuditCredentials" runat="server" NavigateUrl="~/Pages/Audits/AuditCredentials.aspx" Title="Audit Credentials" Height="230px" Width="360px" KeepInScreenBounds="true">  

</telerik:RadWindow>

</Windows>

</telerik:RadWindowManager> 
```

1.  如何防止 radwindow 在屏幕边界之外打开？当标题栏位于屏幕边界之外（就像它在我的打印屏幕中显示的那样）时，我打开了我的 radwindow，我无法拖动或关闭它。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T10:05:54.500

我看不到屏幕截图，所以我假设您遇到了与我们相同的问题，如果将 RadWindow 拖到窗口的边界，那么它会自动开始滚动，您可以将其留在您的边缘窗户。

我们通过使用 Restriction Zone 属性解决了同样的问题。

示例显示它在专门用于纯粹用于窗口的页面部分的表格中使用，但如果您将其用作模式弹出窗口，则可以将其设置为主页 div 的 id。

例如

```
<div id="zone1">
    <p>Other page content as required</p>
</div>

<telerik:RadWindowManager ID="rwm" runat="server" ShowContentDuringLoad="false" Behaviors="Close,Move" VisibleStatusbar="false" Skin="Gray" Modal="true" KeepInScreenBounds = "true" RestrictionZoneID="zone1">
<Windows>
<telerik:RadWindow ID="rwAuditCredentials" runat="server" NavigateUrl="~/Pages/Audits/AuditCredentials.aspx" Title="Audit Credentials" Height="230px" Width="360px" KeepInScreenBounds="true">  
</telerik:RadWindow>
</Windows>
</telerik:RadWindowManager> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-02T21:46:29.440

谢谢，大卫！（迟到 3 年）。您的解决方案对我有用，混合了模态和非模态窗口，在代码中显示......

```
 <body>
        <form id="form2" runat="server">
            <telerik:RadSplitter runat="server" ID="RadSplitter1" BorderStyle="None" PanesBorderSize="0">
                <telerik:RadPane ID="RadPane1" runat="server">
                    <div id="ContentPane">
                        <asp:ContentPlaceHolder ID="ContentPlaceHolder1" runat="server" >
                        </asp:ContentPlaceHolder>
                        <asp:ContentPlaceHolder ID="ContentPlaceHolder2" runat="server" >
                        </asp:ContentPlaceHolder>
                        <asp:ContentPlaceHolder ID="ContentPlaceHolder3" runat="server" >
                        </asp:ContentPlaceHolder>
                    </div>
                </telerik:RadPane>
            </telerik:RadSplitter>
            <telerik:RadWindowManager ID="RadWindowManager1" runat="server" EnableShadow="true" Style="z-index: 12345" KeepInScreenBounds="true" RestrictionZoneID="ContentPane">
                <Windows>
                    <telerik:RadWindow ID="RadWindow1" runat="server" Title="Login" Height="250px"
                        Width="300px" Left="200px" ReloadOnShow="true" ShowContentDuringLoad="false" VisibleStatusbar="false" 
                        Modal="true" Behaviors="Move, Close">
                    </telerik:RadWindow>
                    <telerik:RadWindow ID="RadWindow2" runat="server" Title="Copy Asset" Height="250px" 
                        Width="400px" Left="200px" ReloadOnShow="true" ShowContentDuringLoad="false" VisibleStatusbar="false" 
                        Modal="true" Behaviors="Move, Close">
                    </telerik:RadWindow>
                    <telerik:RadWindow ID="RadWindow3" runat="server" Title="Create Asset" Height="650px" Top="50px"
                        Width="800px" Left="125px" ReloadOnShow="true" ShowContentDuringLoad="false" VisibleStatusbar="false"  
                        Modal="true" Behaviors="Move, Resize, Close">
                    </telerik:RadWindow>
                    <telerik:RadWindow ID="RadWindow4" runat="server" Title="View/Edit Connections" Height="800px"
                        Width="800px" Left="50px" ReloadOnShow="true" ShowContentDuringLoad="false" 
                        Modal="false" Behaviors="Move, Resize, Close, Maximize, Minimize">
                    </telerik:RadWindow>
                    <telerik:RadWindow ID="RadWindow5" runat="server" Title="Make Connections" Height="750px"
                        Width="1150px" Left="100px" Top="75px" ReloadOnShow="true" ShowContentDuringLoad="false" 
                        Modal="false" Behaviors="Move, Resize, Close">
                    </telerik:RadWindow>
                    <telerik:RadWindow ID="RadWindow6" runat="server" Title="User Doc" Height="750px"
                        Width="1150px" Left="100px" Top="25px" ReloadOnShow="false" ShowContentDuringLoad="true" 
                        Modal="true" Behaviors="Move, Resize, Close" NavigateUrl="~/Doc/CoreConnect.pdf">
                    </telerik:RadWindow>
                    <telerik:RadWindow ID="RadWindow7" runat="server" Title="About" Height="300px"
                        Width="500px" Left="100px" Top="100px" ReloadOnShow="false" ShowContentDuringLoad="true" 
                        Modal="true" Behaviors="Move, Resize, Close" VisibleStatusbar="false"  >
                    </telerik:RadWindow>
                </Windows>
            </telerik:RadWindowManager>
        </form>
    </body> 
```

# database - 处理 Paypal 和本地 Datasase 之间的交易

> ID：11535517
> 
> 赞同：3
> 
> 时间：2012-07-18T06:33:03.890
> 
> 标签：database, transactions, paypal, distributed-transactions

处理应用程序和贝宝之间交易的最佳实践是什么。

考虑：

*   我是 Alice，我想给 Bob 汇款
*   在我的数据库中，我看到 Bob 有 200 美元，我想给他 150 美元。
*   发送交易后，我想更新 Bob 的帐户，使其包含 50 美元。

现在根据 PayPal API，我可以发送付款并接收成功。但是，如果我发送 Pay 成功但由于网络问题而未能收到响应，会发生什么情况。所以我假设错误发生了，然后再试一次，从技术上讲，我会向 Bob 发送 300 美元而不是 150 美元？

我该如何处理这样的交易 - 在保留帐户的本地数据库和远程 PayPal API 之间？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T20:31:14.987

**我最近对我正在为客户完成的一个 ASP.NET MVC 项目有这个确切的担忧。**

我学到了两件事：

*   无法信任 Paypal 和您的数据库之间的通信（嗯，并没有真正了解这一点，但它完全得到了加强）

*   我现在明白为什么有这么多将 Paypal 作为交易类型的网站提到在交易完成和产品运输/交付完成之间可能会有一个处理期。

* * *

*您处理这种情况的方式类似于企业处理个人支票的方式：*

*   个人支票看起来像货币（通常是），但许多企业希望银行在接受付款之前对资金可用进行某种形式的验证——因此他们使用一台机器询问银行是否有实际可用的资金。
*   如果机器说资金可用，则企业信任它并且您完成交易。 **但是**，机器可能会发出错误消息，通常意味着“资金不可用或出现问题”，并且企业需要做出以下决定：
    *   我们可以信任客户并接受支票，交付产品，并希望在以后将支票存入银行时做到最好。
    *   或者我们可以告诉客户，支票清算、存入支票、等待资金实际到达我们的账户以及（如果成功）在企业收到资金后交付产品需要时间。

对于当今许多企业的运营方式而言，这听起来效率低下，但确实会出现这种情况。事实上，这就是为什么许多企业不接受个人支票的原因，与其他付款方式相比，它们不可靠。

*现在这与处理 Paypal 付款有什么关系？*

*   Paypal 付款看起来像货币（通常是），但许多企业希望在接受付款之前从 Paypal 进行某种验证以确保资金可用 - 因此他们使用 Paypal PDT、IPN 或其他方法来检查交易得到了妥善处理。
*   如果 Paypal 正确响应了其中一个验证请求，则企业可以信任它并完成交易。 **但是**，您的网站可能会抛出某种错误（即 Paypal 可能会回复 IPN 响应`NOTVALID`，或者您永远无法从 Paypal 获得回复）。企业需要做出以下决定：
    *   企业可以信任客户并接受他们已经支付了 Paypal 付款，一切都应该没问题（*在 Paypal 交易的情况下，这是一个非常糟糕的决定*）
    *   或者企业可以在结账时告诉客户，Paypal 付款可能有 72 小时的处理期。

这听起来可能不是经营您的业务的最佳方式，但它是我们必须处理不完善的互联网的方式。

## 我会设置类似这样的 Paypal 支付流程：

1.  用户 A 想使用 Paypal 向另一个用户 B 发送 100 美元
2.  UserA 在“结帐字段”中输入值，然后发送到 Paypal 以验证交易。
3.  UserA 从 Paypal 发送回您的网站，您的网站使用 Paypal 已发布到您网站的详细信息执行 IPN 检查（在这种情况下，我选择了 IPN - 就好像我们使用的是[Express Checkout](https://cms.paypal.com/us/cgi-bin/?cmd=_render-content&content_ID=developer/e_howto_api_ECGettingStarted)而不是 Paypal 的其他支付网关优惠）。
4.  如果 IPN 是`VALID`，则按预期处理事务。
5.  如果 IPN 不是`VALID`，请向客户说明处理可能会延迟，让您的应用程序向您发送通知，告知您可能发生了 Paypal 交易问题（您可能需要包含参考 ID，以便您可以快速找到哪个此通知引用的交易），并将交易标记`pending`为相对`complete`或类似的东西。
6.  处理这些通知的网站管理员将手动调查交易（或强制网站再次与 Paypal 核对 - 有关详细信息，请参阅 Paypal API 文档）并手动将交易标记为`complete`或`failed`。
7.  通知相关人员交易状态。

令人讨厌的是，我们必须采取额外的步骤来确保资金转移，但是，如前所述，我们使用的系统不完善，我们希望非常确定金融交易的成功/失败。

此过程的另一个好处是，当有人篡改 Paypal 支付系统时可能会收到通知 - 让您在未来更好地应对作恶者。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-23T10:45:09.270

请参考此链接，希望 PayPal Authorization & Capture 方法适合您，因为您不希望丢失响应以及错误计算的金额转移，PayPal 提供相关 id 可以参考 PayPal 以确认您的订单状态，它将订单ID传递给PayPal API会更好。

[https://cms.paypal.com/us/cgi-bin/?cmd=_render-content&content_ID=developer/howto_admin_authcapture](https://cms.paypal.com/us/cgi-bin/?cmd=_render-content&content_ID=developer/howto_admin_authcapture)

[http://www.scribd.com/doc/6303345/40/CorrelationID-for-Reporting-Problems-to-PayPal](http://www.scribd.com/doc/6303345/40/CorrelationID-for-Reporting-Problems-to-PayPal)

祝你好运！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T06:56:48.333

这称为两阶段提交。只要贝宝不参与同一笔交易，就会遇到问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-22T02:35:16.137

我会向 Alice 借 150 美元并反映交易是***“待确认”***，然后定期轮询 PayPal 以同步您的数据库，因为您无法控制网络或 PayPal 何时可用、发布、撤销或调整交易。PayPal 处理完交易后，您可以将数据库中的状态从“待处理”更改为“已完成”。顺便说一句，这就是银行账户和信用卡的处理方式。您可以对您的数据库应用复式记账法。（见此[问答）](https://stackoverflow.com/questions/11479800/double-entry-accrual-accounting-concept/11480209#11480209)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-07-20T12:19:27.600

据我所知，您需要确保交易完成，否则不应该做任何事情。
如果您将钱存入 PayPal API 并且您没有收到来自 PAYPAL API 的响应，那么您需要在您的数据库中回滚交易。

# java - 在Java中使用套接字连接的同时发送数据

> ID：11535522
> 
> 赞同：0
> 
> 时间：2012-07-18T06:33:37.487
> 
> 标签：java, sockets, client

在java中使用套接字，是否可以在连接的同时发送信息？

例如，我希望远程设备使用“客户端服务器”控制另一个设备（例如虚拟设备）。因此遥控器将打开设备。当我连接到服务器时，我希望服务器能够确定它是什么类型的设备，无论是远程设备还是设备，而无需在连接后发送消息。

这可能吗？还是有更好的方法来实现这一点？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T08:09:06.967

您可以在服务器上设置不同的端口，并让不同类型的设备连接到不同的端口。这样，传入连接的端口号将在传输有效载荷数据的第一个字节之前识别设备。

# operating-system - 键盘输入如何在 GUI 中到达正确的虚拟终端

> ID：11535523
> 
> 赞同：0
> 
> 时间：2012-07-18T06:33:44.220
> 
> 标签：operating-system, linux-kernel, linux-device-driver

假设我们有一个运行 linux 的 8 核系统，您正在使用 GUI 桌面并打开 10-20 个终端。

当您键入内容时，用户输入会出现在正确的终端上。怎么会这样。例如，键盘中断可以到达任何 cpu，它如何路由到正确的进程是我的问题（假设一次有 10 个进程正在等待用户输入）

# 这是我所知道的：

1.  键盘驱动程序将有一个中断处理程序，它读取输入并将其复制到可能由某些高优先级工作队列处理的缓冲区。（没有必要，但这就是我觉得会发生的事情）

2.  * * *

3.  必须将此缓冲区复制到当前活动 shell 的标准输入文件描述符的缓冲区中。

# 我不知道的

工作队列工作函数如何确定哪个进程正在运行当前活动的 shell。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-19T03:03:03.827

工作队列功能不能确定哪个进程正在运行——这是在更高的级别上完成的。键盘设备是由内核通过设备文件导出的`/dev/input/`（在我的系统上它是`/dev/input/event3`- 你可以`/dev/input/by-id`查看哪个对应于你的键盘）。X 服务器打开此设备文件以接收事件（在其中查找设备文件`/var/log/Xorg.0.log`以查看发生这种情况的位置）。X 服务器因此接收所有键盘事件并将它们分派给正确的客户端本身。知道了哪个窗口有焦点，就可以将对应的输入事件放入客户端队列队列中，并向对应的进程发送信号，该进程被唤醒，可以处理该事件。

有关详细信息，请参阅[http://en.wikipedia.org/wiki/Evdev](http://en.wikipedia.org/wiki/Evdev)和相关链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:54:27.080

它只是知道。所有进程之一被标记为当前用于控制台 I/O。你切换到另一个，另一个被标记为当前。我不知道实施的细节，但这就是想法。

# qt - 如何在 Qt 布局中设置小部件之间的显示比例？

> ID：11535525
> 
> 赞同：9
> 
> 时间：2012-07-18T06:33:45.130
> 
> 标签：qt, qt-designer

在标签页中，我确实在垂直布局中有一个树视图小部件和一个标签小部件，我想始终将 60% 的屏幕空间设置为树视图，将 40% 设置为标签小部件。我怎样才能在 Qt Designer 中做到这一点？

平台：Qt Creator 2.4.1 / Win 7。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-18T06:41:16.843

如果单击父小部件并向下滚动其属性，您将在最底部找到其布局的属性。

您可以在那里设置`layoutRowStretch`和`layoutColumnStretch`属性。例如，在垂直布局的情况下，您可以将“60,40”（或“6,4”或“3,2”）设置为`layoutRowStretch`属性的值。

这意味着第一行到第二行的因子将是 60:40 = 3:2

# java - Spring ApplicationContext.getBean(Class c) 不适用于代理类

> ID：11535527
> 
> 赞同：8
> 
> 时间：2012-07-18T06:33:53.063
> 
> 标签：java, spring, proxy, applicationcontext

我需要通过它们的类类型查找 bean。当 bean 被代理包装时（某些方法是 @Transactional）- ApplicatoinContext 找不到它们。我发现如果我通过接口查找它们，它可以工作，但在这种情况下，我正在使用具体的类类型。我知道 bean 是我正在寻找的类型，但是 getBean() 方法失败了。

我可以在 Spring 的 AbstractBeanFactory 代码中调试（并修复）问题。问题是它根据我请求的类型检查 beanInstance 的类型，但 beanInstance.getClass() 是代理。AbstractBeanFactory 应该对此进行补偿并将类型与代理的目标类进行比较。

我对此有一个修复，但我不是特别想使用 Spring 的补丁版本，我怀疑我必须配置一些东西才能让它工作，或者这真的是一个错误吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-18T06:45:30.383

Spring 实现 AOP（例如支持）有两种主要方式`@Transactional`：使用代理接口或 CGLIB。

使用接口（默认）如果你的类实现了任何接口，Spring 将创建一个实现所有接口的代理。从现在开始，您只能通过该接口使用您的 bean。你的班级深深地埋在他们里面。

如果您通过[cglib](/questions/tagged/cglib "显示标记为“cglib”的问题")启用代理目标类：

```
<aop:config proxy-target-class="true"> 
```

Spring 将创建一个子类（显然仍然实现所有接口）。这将解决您的问题。但是请记住，返回的对象实际上并不是您的类，而是动态生成的子类，它包装并委托给您的原始对象。在大多数情况下，这应该不是问题。

不，这当然不是错误，而是众所周知的行为，不，不需要修补 Spring。

# 也可以看看

*   [Spring AOP 生成的代理类的位置](https://stackoverflow.com/questions/11520330)
*   [在Jenkins中出现Spring错误“名为'x'的Bean必须是[y]类型，但实际上是[$Proxy]类型”](https://stackoverflow.com/questions/8391944)
*   [如何在 Spring 配置文件中混合 CGLIB 和 JDK 代理？](https://stackoverflow.com/questions/10110569)
*   [模拟 CGLIB 代理服务的属性不起作用](https://stackoverflow.com/questions/9033874)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T12:16:42.063

```
<context:component-scan base-package="<Your base package name goes here>" />
<aop:aspectj-autoproxy />
<aop:config proxy-target-class="true"/> 
```

在 applicationContext.xml 中写下这三行这对我有用。

# grails - 如何将 postgresql 配置为 grails 应用程序

> ID：11535537
> 
> 赞同：2
> 
> 时间：2012-07-18T06:34:30.770
> 
> 标签：grails, postgresql-9.1

我正在尝试在 grails 应用程序中配置 PostgreSQL，并将`postgresql-9.1-902.jdbc4.jar`文件添加到 grails app lib 文件夹，然后`runtime 'postgresql:postgresql:9.1-902.jdbc4'`在`BuildConfig.groovy`. 我正在尝试通过 运行应用程序`run-app`，但它显示以下错误：

```
| Loading Grails 2.0.1
| Configuring classpath.
| Environment set to development.....
| Packaging Grails application.....
| Compiling 1 source files.....
| Running Grails application
| Error 2012-07-18 11:29:47,573 [pool-7-thread-1] ERROR context.GrailsContextLoader  - Error executing bootstraps: Error creating bean with name 'transactionManagerPostProcessor': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionManager': Cannot resolve reference to bean 'sessionFactory' while setting bean property 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Cannot resolve reference to bean 'lobHandlerDetector' while setting bean property 'lobHandler'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'lobHandlerDetector': Invocation of init method failed; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create JDBC driver of class 'org.postgresql.Driver' for connect URL 'jdbc:postgres://localhost:5432/empapp'
Message: Error creating bean with name 'transactionManagerPostProcessor': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionManager': Cannot resolve reference to bean 'sessionFactory' while setting bean property 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Cannot resolve reference to bean 'lobHandlerDetector' while setting bean property 'lobHandler'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'lobHandlerDetector': Invocation of init method failed; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create JDBC driver of class 'org.postgresql.Driver' for connect URL 'jdbc:postgres://localhost:5432/empapp'
   Line | Method
->> 303 | innerRun in java.util.concurrent.FutureTask$Sync
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|   138 | run      in java.util.concurrent.FutureTask
|   886 | runTask  in java.util.concurrent.ThreadPoolExecutor$Worker
|   908 | run      in     ''
^   662 | run . .  in java.lang.Thread
Caused by BeanCreationException: Error creating bean with name 'transactionManager': Cannot resolve reference to bean 'sessionFactory' while setting bean property 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Cannot resolve reference to bean 'lobHandlerDetector' while setting bean property 'lobHandler'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'lobHandlerDetector': Invocation of init method failed; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create JDBC driver of class 'org.postgresql.Driver' for connect URL 'jdbc:postgres://localhost:5432/empapp'
->> 303 | innerRun in java.util.concurrent.FutureTask$Sync
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|   138 | run      in java.util.concurrent.FutureTask
|   886 | runTask  in java.util.concurrent.ThreadPoolExecutor$Worker
|   908 | run      in     ''
^   662 | run . .  in java.lang.Thread
Caused by BeanCreationException: Error creating bean with name 'sessionFactory': Cannot resolve reference to bean 'lobHandlerDetector' while setting bean property 'lobHandler'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'lobHandlerDetector': Invocation of init method failed; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create JDBC driver of class 'org.postgresql.Driver' for connect URL 'jdbc:postgres://localhost:5432/empapp'
->> 303 | innerRun in java.util.concurrent.FutureTask$Sync
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|   138 | run      in java.util.concurrent.FutureTask
|   886 | runTask  in java.util.concurrent.ThreadPoolExecutor$Worker
|   908 | run      in     ''
^   662 | run . .  in java.lang.Thread
Caused by BeanCreationException: Error creating bean with name 'lobHandlerDetector': Invocation of init method failed; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create JDBC driver of class 'org.postgresql.Driver' for connect URL 'jdbc:postgres://localhost:5432/empapp'
->> 303 | innerRun in java.util.concurrent.FutureTask$Sync
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|   138 | run      in java.util.concurrent.FutureTask
|   886 | runTask  in java.util.concurrent.ThreadPoolExecutor$Worker
|   908 | run      in     ''
^   662 | run . .  in java.lang.Thread
Caused by MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create JDBC driver of class 'org.postgresql.Driver' for connect URL 'jdbc:postgres://localhost:5432/empapp'
->> 303 | innerRun in java.util.concurrent.FutureTask$Sync
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|   138 | run      in java.util.concurrent.FutureTask
|   886 | runTask  in java.util.concurrent.ThreadPoolExecutor$Worker
|   908 | run      in     ''
^   662 | run . .  in java.lang.Thread
Caused by SQLNestedException: Cannot create JDBC driver of class 'org.postgresql.Driver' for connect URL 'jdbc:postgres://localhost:5432/empapp'
->> 1452 | createConnectionFactory in org.apache.commons.dbcp.BasicDataSource
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|   1371 | createDataSource in     ''
|   1044 | getConnection in     ''
|   303 | innerRun in java.util.concurrent.FutureTask$Sync
|   138 | run . .  in java.util.concurrent.FutureTask
|   886 | runTask  in java.util.concurrent.ThreadPoolExecutor$Worker
|   908 | run . .  in     ''
^   662 | run      in java.lang.Thread
Caused by SQLException: No suitable driver
->> 264 | getDriver in java.sql.DriverManager
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
|   1437 | createConnectionFactory in org.apache.commons.dbcp.BasicDataSource
|   1371 | createDataSource in     ''
|   1044 | getConnection in     ''
|   303 | innerRun in java.util.concurrent.FutureTask$Sync
|   138 | run      in java.util.concurrent.FutureTask
|   886 | runTask  in java.util.concurrent.ThreadPoolExecutor$Worker
|   908 | run      in     ''
^   662 | run . .  in java.lang.Thread 
```

这是我的`datasource.groovy`文件：

```
dataSource {
      pooled = true
    driverClassName = "org.postgresql.Driver"
    dialect = org.hibernate.dialect.PostgreSQLDialect
    username = "postgres"
    password = "password"
}
hibernate {
    cache.use_second_level_cache = true
    cache.use_query_cache = true
    cache.provider_class='org.hibernate.cache.EhCacheProvider'
}
// environment specific settings
environments {
    development {
        dataSource {
            dbCreate = "create-drop" // one of 'create', 'create-drop', 'update', 'validate', ''
                url = "jdbc:postgres://localhost:5432/empapp"
        }
    }
    test {
        dataSource {
            dbCreate = "update"
            url = "jdbc:postgres://localhost:5432/empapp"
        }
    }
    production {
        dataSource {
            dbCreate = "update"
            url = "jdbc:postgres://localhost:5432/empapp"
            pooled = true
            properties {
               maxActive = -1
               minEvictableIdleTimeMillis=1800000
               timeBetweenEvictionRunsMillis=1800000
               numTestsPerEvictionRun=3
               testOnBorrow=true
               testWhileIdle=true
               testOnReturn=true
               validationQuery="SELECT 1"
            }
        }
    }
} 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T14:45:15.057

如果您在 BuildConfig.groovy 中使用依赖项管理，则不应将 jar 文件放在 lib 目录中 - 这是多余的。但这不太可能是问题所在。我不太使用 PostgreSQL，但似乎 JDBC URL 必须使用“postgresql”，而不是“postgres”：

```
url = "jdbc:postgresql://localhost:5432/empapp" 
```

如果是默认端口号 (5432)，您可以省略端口号：

```
url = "jdbc:postgresql://localhost/empapp" 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-18T09:01:13.253

您在开发环境中使用 PGS 数据库，因此您还应该在 BuildConfig.groovy 中为开发环境提供 JDBC 驱动程序：

```
runtime: 'postgresql:postgresql:9.1-902.jdbc4' 
```

# java - 调用values()时需要同步一个并发HashMap吗？

> ID：11535543
> 
> 赞同：2
> 
> 时间：2012-07-18T06:35:02.107
> 
> 标签：java, concurrency, hashmap

在以下代码中：

```
private final Map<A, B> entriesMap = Collections
  .synchronizedMap(new HashMap<A, B>());

// ...

List<B> entries = new ArrayList<>(this.entriesMap.values()); 
```

如果`entriesMap`在其他方法中被多个线程访问/修改，是否有必要`synchronize`打开`entriesMap`？换句话说：

```
List<B> entries;

synchronize (this.entriesMap) {
  entries = new ArrayList<>(this.entriesMap.values());
} 
```

如果我是正确的，`values()`不是原子操作，不像`put()`and `get()`，对吧？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:40:22.727

问题是，即使它`values()`本身是原子的，*迭代*它的行为也不是。构造`ArrayList`函数不能以原子方式获取值的副本 - 如果另一个线程在复制它们时更改了映射，则迭代器将失效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:40:58.513

好吧，*调用*值很可能是一个原子操作，但是它返回的 Collection 不是快照副本，而是由底层 Map 支持，因此当您在*之后*迭代 Map时（复制它时）对 Map 进行并发修改时，它会发出嘶哑的声音到 ArrayList 中）。

请注意，当只有一个线程时也会发生这种（ConcurrentModificationException），只要您以交错的方式迭代值并修改 Map，因此这并不是线程同步的真正问题。

进一步注意，有[ConcurrentHashMap](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentHashMap.html)，它确实提供了一个快照迭代器，您可以在修改 Map 时进行迭代（修改不会反映在迭代器中）。但即使使用 ConcurrentHashMap，values() 的集合也不是快照，它的工作方式与普通 HashMap 一样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:41:47.103

是的你是对的。

将地图的值放入 中时`ArrayList`，将对这些值执行迭代。所以你需要同步块。请参阅此[页面](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Collections.html#synchronizedMap%28java.util.Map%29)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T06:42:49.740

`Collections.synchronizedMap()`保证您要在地图上运行的每个原子操作都会同步。并且`values()`也是 atomic ，但是当您将值放入时`ArrayList`，在这种情况下将不会同步您还需要同步列表。

# python - 需要“[1:]”符号的参考链接

> ID：11535547
> 
> 赞同：-2
> 
> 时间：2012-07-18T06:35:22.150
> 
> 标签：python, scrapy

> **可能重复：**
> [Python Slice Notation 的良好入门](https://stackoverflow.com/questions/509211/good-primer-for-python-slice-notation)

```
hxs = HtmlXPathSelector(response)
sites = hxs.select('//table/tr')[1:] 
```

在这里，我了解第二排的刮擦。但我找不到任何链接来理解关于“[1:]”的高级主题。请分享我任何参考链接

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T09:24:17.173

它用于从数组/列表中提取切片。

可以使用 [start:end[:ratio]]

ration 是可选的，它是跳转—— ratio=2 表示提取偶数索引。

如果 end 为负数，则从列表末尾开始计算该数字。

```
[1,2,3,4][1:-1:2] 
```

方法

```
[2] 
```

# ios - 即使在应用程序被删除后仍接收推送通知 iPhone

> ID：11535548
> 
> 赞同：6
> 
> 时间：2012-07-18T06:35:25.030
> 
> 标签：ios, objective-c, push-notification, apple-push-notifications

我在我的应用程序中实现了推送通知。

它工作正常。

现在的问题是，即使我从设备中删除了我的应用程序，它也会收到推送通知。

那么，当从设备中删除应用程序时，有什么方法可以从推送通知中取消注册应用程序。

希望得到您的帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-18T06:45:34.280

在 Apple 推送通知中，有一个叫做反馈服务的东西。因此，当用户删除应用程序时，服务提供商最好停止向该设备发送通知。但苹果并没有通知服务“这个设备没有使用你的应用，不要发送通知”。因此，您需要轮询此信息。

每天您可能需要访问 Apple 通知服务器，要求它为您提供删除了您的应用程序的设备 ID。一旦你得到它们，你就会在你的数据库中将它们标记为已删除，从而不再发送任何通知。希望这是你想要的。

来自[Apple 文档](https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/BinaryProviderAPI.html#//apple_ref/doc/uid/TP40008194-CH13-SW12)-

> ... Apple Push Notification Service 包括一项反馈服务，APN 会不断更新每个应用程序的失败交付尝试设备列表。设备由以二进制格式编码的设备令牌标识。提供商应定期查询反馈服务以获取其应用程序的设备令牌列表，每个设备令牌都由其主题标识。然后，在验证应用程序最近没有在识别的设备上重新注册后，提供商应该停止向这些设备发送通知。
> 
> 通过类似于用于发送推送通知的二进制接口访问反馈服务。您通过feedback.push.apple.com，端口2196访问生产反馈服务；您可以通过 feedback.sandbox.push.apple.com 的 2196 端口访问沙盒反馈服务。与推送通知的二进制接口一样，您必须使用 TLS（或 SSL）来建立安全的通信通道。这些连接所需的 SSL 证书与为发送通知而配置的证书相同。要建立受信任的提供者身份，您应该在连接时使用点对点身份验证将此证书提供给 APN。

请务必结帐 -[反馈服务问题](http://developer.apple.com/library/ios/technotes/tn2265/_index.html#//apple_ref/doc/uid/DTS40010376-CH1-TNTAG34)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-04T23:10:13.220

到目前为止还没有看到这个答案，Apple“Troubleshooting Push Notifications”文档中有一个小注释。
简而言之，如果您删除了最后一个启用推送的应用程序，那么在服务器被告知该应用程序已被删除之前，从设备到 Apple 推送服务器的持久连接就会中断。
解决方案：在您的设备上至少保留一个支持推送的应用程序。

文档中有解释：

> 使用反馈服务的问题 如果您从设备或计算机中删除您的应用程序，然后向其发送推送通知，您可能会拒绝设备令牌，并且无效的设备令牌应该出现在反馈服务上。但是，如果这是设备或计算机上最后一个启用推送的应用程序，它将不会显示在反馈服务中。这是因为删除最后一个应用程序会在发送删除通知之前断开与推送服务的持久连接。
> 
> 您可以通过在设备或计算机上保留至少一个支持推送的应用程序来解决此问题，以保持持久连接。要保持与生产环境的持久连接，只需从 App Store 安装任何支持推送的免费应用程序，然后您应该能够删除您的应用程序并看到它出现在反馈服务中。

回想一下，每个推送环境都有自己的持久连接。因此，要保持与沙盒环境的持久连接，请安装另一个支持开发推送的应用程序。”

# logging - 学习 OSGi : ExtendedLogService & ExtendedLogReaderService

> ID：11535553
> 
> 赞同：1
> 
> 时间：2012-07-18T06:35:53.047
> 
> 标签：logging, osgi

我正在尝试为我的项目学习 OSGi，并且遇到了Equinox 3.5 中引入的`ExtendedLogService`和。`ExtendedLogReaderService`是否有任何可用的教程或示例可以帮助我了解它的工作原理并在我的项目中使用它？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T12:01:42.977

我还没有尝试过 ExtendedLogService。在查看接口时，它看起来类似于流行的日志框架。所以最大的问题是为什么不直接使用已建立的日志记录 API？使用 OSGi 日志服务会将您的所有代码绑定到 OSGi。已建立的框架可以在 OSGi 内部和外部工作。我可以建议在您的应用程序中使用 slf4j。要在 OSGi 中进行这项工作，您需要[pax 日志框架](http://team.ops4j.org/wiki/display/paxlogging/Pax+Logging)。Pax 日志记录还支持其他大型日志记录 API，例如 log4j 和 java.util.logging。如果您正在做一个服务器项目，那么您可能还想看看[Apache Karaf](http://karaf.apache.org/)，它已经包含了 pax 日志记录和许多其他库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T07:44:43.793

好吧，我没有实现 ExtendedLogService，但我确实实现了`org.osgi.service.log.LogReaderService` `org.osgi.service.log.LogEntry , org.osgi.service.log.LogListener`我认为有帮助的。

关于教程我按照这个[Logger Tutorial](http://code.google.com/p/osgi-logging/wiki/UnderstandingTheOSGiLogging "记录器教程")

我对 OSGi 中的日志记录功能的看法，

OSGi 中的日志结构

我特别避免使用 log4j 和 slf4j，因为它们不适用于 S0A 架构。虽然有可用的 PaxLogging 使 log4j 可以在 OSGi 环境下工作，但我认为将捆绑到 log4j 属性中的信息会破坏设计模式。有很多开发者质疑 OSGified env 中的 log4j。

```
 LogListener (LogListnerImpl)
                                                ^
                                                |       
                                                | Dispatches the LogEvent to LogListner
                                                |
 Log Service ---- Send a LogEvent -->   LogReaderService (log.jar)  
    ^
    |
    |
Bundle write a log 
```

==================================================== ==========================

如果有经验的开发人员纠正我，我将不胜感激。

# asp.net - 将 GROUP BY 与 SQLDataSource 一起使用

> ID：11535563
> 
> 赞同：0
> 
> 时间：2012-07-18T06:37:06.007
> 
> 标签：asp.net, sql, gridview, sqldatasource

我有一个`SQLDataSource`ASP.NET Web 窗体，绑定到 a`GridView`并希望`GROUP BY`在绑定后对基础数据执行 a 。

我希望分组数据出现在单独的`GridView`.

我将如何完成这项任务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T13:34:01.350

> 想**在绑定后**对基础数据执行 GROUP BY 。

你不能这样做。一旦数据被绑定，它就被绑定了。相同的数据将显示在 gridview 中，但是它在没有分组的情况下被拉入查询。之后您无法更改它。

我想你想要一些不同的东西，正如你的问题所暗示的那样。您希望能够根据用户选择的字段即时分组。为此，您将需要不同的控件集。可能是一个下拉列表和一个 Gridview 组合？那将是一个不同的场景。

您还可以在 C# 代码中而不是在 ASP.NET 代码中动态绑定 sql 数据源。因为您可以通过一些额外的控件来实现它，例如如果单击此按钮，则按此字段分组，或者如果单击该按钮，则按该字段分组。

# javascript - 如何在谷歌地图 api 中使用 MarkerClusterer

> ID：11535566
> 
> 赞同：1
> 
> 时间：2012-07-18T06:37:15.867
> 
> 标签：javascript, google-maps, google-maps-api-3

如何在 Google Maps API 中使用 MarkerClusterer？我尝试使用它，但它不起作用。我的代码编写如下。

```
function InitializeMap(lat, lng, location, username, town, is_paid) {
   var myOptions;
   var latlng = new google.maps.LatLng(lat, lng);

   if (is_paid != "True") {
      myOptions = {
         zoom: 10,
         center: latlng,
         scrollwheel: false,
         streetViewControl: false,
         //navigationControlOptions: {style: google.maps.NavigationControlStyle.SMALL},
         //scaleControl: false,
         navigationControl: false,
         mapTypeId: google.maps.MapTypeId.ROADMAP
      };
   }
   else {
      myOptions = {
         zoom: 10,
         center: latlng,
         scrollwheel: true,
         streetViewControl: true,
         navigationControlOptions: { style: google.maps.NavigationControlStyle.SMALL },
         mapTypeId: google.maps.MapTypeId.ROADMAP
      };
   }

   map = new google.maps.Map(document.getElementById('map'), myOptions);
   var mcOptions = {gridSize: 100, maxZoom: 10};

   generateMarkers(location, is_paid);
   generateUserMarker(lat, lng, username, town, is_paid);

   alert(groupMarkers.length);

   var mc = new MarkerClusterer(map, groupMarkers, mcOptions);
   //mc.addMarkers(groupMarkers,true);
   alert("hello");

}

function generateMarkers(locations, is_paid) {
   var marker
   for (var i = 0; i < locations.length; i++) {
      createMarker(new google.maps.LatLng(locations[i][0], locations[i][1]), locations[i][2], locations[i][3], is_paid);
   }
}

function createMarker(pos, name, town, is_paid) {
   var infowindow;

   var marker = new google.maps.Marker({
      position: pos,
      map: map,  // google.maps.Map 
      title: name,
      icon: "images/red.png"
   });

   groupMarkers.push(marker);

} 
```

# iphone - 插入读卡器时 AudioServicesPlaySystemSound 在 iphone 中不起作用

> ID：11535568
> 
> 赞同：4
> 
> 时间：2012-07-18T06:37:24.870
> 
> 标签：iphone, ios, xcode, cocoa-touch, cardreader

我正在为 iPhone 使用读卡器，我需要在插入读卡器时播放声音。由于其他一些问题，我使用了 AudioServicesPlaySystemSound。但是当阅读器插入时，声音并没有通过扬声器播放。

使用 AudioServicesPlaySystemSound 时是否有任何方法可以将音频通道更改为扬声器？

* * *

```
UInt32 doChangeDefaultRoute = 1;

AudioSessionSetProperty (kAudioSessionProperty_OverrideCategoryDefaultToSpeaker,
                         sizeof (doChangeDefaultRoute),
                         &doChangeDefaultRoute
                         ); 
```

我试过上面的代码。它显示了一些奇怪的行为。我观察到以下案例：

*   **案例1：**插入阅读器并尝试播放声音。无法播放声音。
*   **案例2：**拔下阅读器，通过扬声器播放一次声音。然后插入阅读器并尝试播放相同的声音。有用！

但我需要在这两种情况下播放声音。

注意：您可以使用任何带有音频插孔的设备来代替读卡器。甚至可以使用耳机。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:50:37.250

您可以尝试覆盖到扬声器的声音输出：

```
UInt32 doChangeDefaultRoute = 1;

AudioSessionSetProperty (kAudioSessionProperty_OverrideCategoryDefaultToSpeaker,
                         sizeof (doChangeDefaultRoute),
                         &doChangeDefaultRoute
                         ); 
```

# iphone - 任何 iPhone 大师请告诉我我的应用程序崩溃的原因是我的日志？

> ID：11535575
> 
> 赞同：0
> 
> 时间：2012-07-18T06:37:57.943
> 
> 标签：iphone

我正在用四个标签在 iPhone 中做标签应用程序。我的应用程序几乎完成，但是当应用程序运行时它崩溃了。我观察到当我在导航中切换两个视图（如前后视图）时出现了这个问题。任何 iPhone 大师请帮我解决这个问题？

```
## Log ##  
   Mon Jul 16 21:07:55 unknown MyApp[167] <Warning>: NVVC Dealloc 
    Mon Jul 16 21:08:23 unknown com.apple.launchd[1] <Notice>: (UIKitApplication:com.company.MyApp[0xe271]) Bug: launchd_core_logic.c:2688 (24132):10 
    Mon Jul 16 21:08:23 unknown com.apple.launchd[1] <Notice>: (UIKitApplication:com.company.MyApp[0xe271]) Working around 5020256\. Assuming the job crashed. 
    Mon Jul 16 21:08:23 unknown com.apple.launchd[1] <Warning>: (UIKitApplication:com.company.MyApp[0xe271]) Job appears to have crashed: Segmentation 
    fault 
    Mon Jul 16 21:08:23 unknown SpringBoard[29] <Warning>: Application 'MyApp' exited abnormally with signal 11: Segmentation fault 
    Mon Jul 16 21:09:04 unknown lockdownd[20] <Error>: (0x403000) handle_connection: Could not receive USB message #7 from Xcode. Killing connection 
    Mon Jul 16 22:00:39 unknown com.apple.launchd[1] <Notice>: (UIKitApplication:com.apple.mobilemail[0x55fb]) Exited: Killed 
    Mon Jul 16 22:00:39 unknown com.apple.launchd[1] <Notice>: (UIKitApplication:com.apple.mobilephone[0xa13c]) Exited: Killed 
    Mon Jul 16 22:00:39 unknown com.apple.launchd[1] <Notice>: (UIKitApplication:com.MyApp.app[0x137]) Exited: Killed 
    Mon Jul 16 22:00:39 unknown com.apple.launchd[1] <Notice>: (com.apple.accessoryd) Exited: Killed 
    Mon Jul 16 22:00:41 unknown SpringBoard[29] <Warning>: Application 'Mail' exited abnormally with signal 9: Killed 
    Mon Jul 16 22:00:41 unknown SpringBoard[29] <Warning>: Memory level is not normal (15%). Delaying auto-relaunch of 'Mail' for 30 seconds. Mon Jul 16 22:00:41 unknown SpringBoard[29] <Warning>: Application 'app' exited abnormally with signal 9: Killed 
    Mon Jul 16 22:00:42 unknown SpringBoard[29] <Warning>: Application 'Phone' exited abnormally with signal 9: Killed 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:45:25.447

这看起来很熟悉：

```
Application 'MyApp' exited abnormally with signal 11: Segmentation fault 
```

`Segmentation fault`意味着您正在尝试访问尚未分配的内存区域，或者通常您引用了无效的指针，我会仔细检查代码的相关部分。

由于您正在切换视图，您可能会假设一些与内存相关的任务已经被处理，但实际上它们还没有处理。

# visual-c++ - 将目录加载到树控件中

> ID：11535579
> 
> 赞同：1
> 
> 时间：2012-07-18T06:38:18.353
> 
> 标签：visual-c++

如何使用 vc++ 将文件和文件夹加载到树控件中。有没有可用的功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:48:54.310

如果它是基于 Windows 的系统，您可以使用 Win32 API [FindFirstFile](http://msdn.microsoft.com/en-us/library/aa364418%28VS.85%29.aspx)、[FindNextFile](http://msdn.microsoft.com/en-us/library/aa364428%28VS.85%29.aspx)和[FindClose](http://msdn.microsoft.com/en-us/library/aa364413%28VS.85%29.aspx)函数。一个小[例子](http://vcpptips.wordpress.com/tag/findfirstfile/)。

如果它是 MFC 应用程序，您可以使用[CFileFind](http://msdn.microsoft.com/en-us/library/f33e1618%28v=vs.80%29.aspx)类。从 MSDN 签出此示例。

```
#include <afxwin.h>
#include <iostream>

using namespace std;

void Recurse(LPCTSTR pstr)
{
   CFileFind finder;

   // build a string with wildcards
   CString strWildcard(pstr);
   strWildcard += _T("\\*.*");

   // start working for files
   BOOL bWorking = finder.FindFile(strWildcard);

   while (bWorking)
   {
      bWorking = finder.FindNextFile();

      // skip . and .. files; otherwise, we'd
      // recur infinitely!

      if (finder.IsDots())
         continue;

      // if it's a directory, recursively search it

      if (finder.IsDirectory())
      {
         CString str = finder.GetFilePath();
         cout << (LPCTSTR) str << endl;
         Recurse(str);
      }
   }

   finder.Close();
} 
```

# oracle - play2访问oracle时表或视图不存在

> ID：11535585
> 
> 赞同：0
> 
> 时间：2012-07-18T06:39:04.350
> 
> 标签：oracle, hibernate, jpa, playframework, playframework-2.0

每个人。我在 play2.0 中使用休眠 jpa。首先我使用 H2，它运行良好。然后我改用 oracle，jpa 为我正确创建表。但是当我发送任何播放请求时，它会报告错误：

```
[info] play - datasource [jdbc:oracle:thin:@58.215.201.110:1521:orcl2167] bound
to JNDI as DefaultDS
[info] play - database [default] connected at jdbc:oracle:thin:@58.215.201.110:1
521:orcl2167
[warn] application - play_evolutions table already existed
[error] application -

! @6b43j2ce2 - Internal server error, for request [GET /] ->

play.api.UnexpectedException: Unexpected exception [sqlexception ora-00942 table or view does not exist]
        at play.core.ReloadableApplication$$anonfun$get$1$$anonfun$apply$3$$anon
fun$1.apply(ApplicationProvider.scala:134) ~[play_2.9.1.jar:2.0]
        at play.core.ReloadableApplication$$anonfun$get$1$$anonfun$apply$3$$anon
fun$1.apply(ApplicationProvider.scala:112) ~[play_2.9.1.jar:2.0]
        at scala.Option.map(Option.scala:133) ~[scala-library.jar:0.11.2]
        at play.core.ReloadableApplication$$anonfun$get$1$$anonfun$apply$3.apply
(ApplicationProvider.scala:112) ~[play_2.9.1.jar:2.0]
        at play.core.ReloadableApplication$$anonfun$get$1$$anonfun$apply$3.apply
(ApplicationProvider.scala:110) ~[play_2.9.1.jar:2.0]
        at scala.Either$RightProjection.flatMap(Either.scala:277) ~[scala-librar
y.jar:0.11.2]
Caused by: java.sql.SQLException: ORA-00942: table or view does not exist
        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java
:111) ~[classes12.jar:Oracle JDBC Driver version - "10.2.0.1.0"]
        at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:330) ~[class
es12.jar:Oracle JDBC Driver version - "10.2.0.1.0"]
        at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:287) ~[class
es12.jar:Oracle JDBC Driver version - "10.2.0.1.0"]
        at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:742) ~[classes12.ja
r:Oracle JDBC Driver version - "10.2.0.1.0"]
        at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:206) ~[clas
ses12.jar:Oracle JDBC Driver version - "10.2.0.1.0"]
        at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:
789) ~[classes12.jar:Oracle JDBC Driver version - "10.2.0.1.0"] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:23:41.437

尝试连接到数据库并验证表是否存在（只读）。在您的 application.conf 文件中执行类似 Evolution=disabled 的操作。

# java - 可以将泛型添加到 Java 中的非泛型接口的实现中吗？

> ID：11535586
> 
> 赞同：2
> 
> 时间：2012-07-18T06:39:29.443
> 
> 标签：java, generics, java-6

如果接口定义不使用泛型，是否可以生成接口的实现？我无法控制我需要实现的接口，但想为我的实现抑制“未经检查”的警告。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T06:43:29.273

有些问题可以解决，有些则不能。

例如，如果界面如下所示：

```
interface OldInterface {
    List someMethod();
} 
```

那么当然，你可以通过

```
class NewClass implements OldInterface {
    public List<String> someMethod() {          // DOES COMPILE.
        ...
    }
} 
```

另一方面，如果界面看起来像

```
interface OldInterface {
    void someMethod(ArrayList list);
} 
```

那么你对它的编程无能为力。

```
class NewClass implements OldInterface {
    public void someMethod(ArrayList<String> list) { // DOES NOT COMPILE.
        ...
    }
} 
```

这就是所谓的[不可避免的泛型类型问题](https://stackoverflow.com/questions/9762717/what-are-unavoidable-generic-type-problems-in-eclipse-for-java)。幸运的是，至少在 Eclipse 中，这些警告可以通过选中Ignore *unavoidable generic type questions来抑制*

*Windows > 首选项 > Java > 编译器 > 错误/警告*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:02:48.673

覆盖时总是可以限制返回值，它被称为*协变返回类型*。添加泛型元素就是这样。

否则，如前所述，不允许限制参数。重写时，您可以为参数使用更广泛的类型，称为*逆变*。

# php - 如何使用 php 从 MySQL 查询中获取索引值？

> ID：11535591
> 
> 赞同：0
> 
> 时间：2012-07-18T06:39:56.680
> 
> 标签：php, mysql

嗨，我正在从 mysql 数据库中获取数据，我想获取表中列的索引

```
<?php 
//connects to database 
$con = mysql_connect("locahost","root","");
if (!$con) 
{ 
die('Could not connect: ' . mysql_error()); 
} 

mysql_select_db("appulentoweb", $con); 

//retrieve data from database 
$result = mysql_query("SELECT * FROM questions"); 
?> 
```

我想获取表中列的索引，然后我将在屏幕上显示该数据。

在表中我有 2 列，即 qno 和标题我想在输出页面中显示标题

提前致谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:50:29.490

请试试这个..

```
 <?php  
        //connects to database  
        $con = mysql_connect("locahost","root",""); 
        if (!$con)  
        {  
        die('Could not connect: ' . mysql_error());  
        }  

        mysql_select_db("appulentoweb", $con);  

        //retrieve data from database  
        $result = mysql_query("SELECT * FROM questions"); ?>

        <table>
           <tr>
              <th> Question no</th>
              <th> Question </th>
           </tr>
        <?php 
        while($row=mysql_fetch_array($result))
        {
         ?>
         <tr>
            <td><?php echo $row['qno'];?></td>
            <td><?php echo $row['question'];?></td></tr>
  <?php } ?>
    </table> 
```

我希望它对你有帮助......

如果您有任何问题，请告诉我...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:43:22.690

试试这个;

```
 <?php  
//connects to database  
$con = mysql_connect("locahost","root",""); 
if (!$con)  
{  
die('Could not connect: ' . mysql_error());  
}  

mysql_select_db("appulentoweb", $con);  

//retrieve data from database  
$result = mysql_query("SELECT * FROM questions");  
    $rows = mysql_fetch_array($result, MYSQL_ASSOC);
    echo $rows['qno'];
    echo $rows['title']; 
```

**或者**

```
$rows = mysql_fetch_array($result, MYSQL_NUM);
        echo $rows[0];
        echo $rows[1];

?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:47:21.177

您可以使用函数 mysql_fetch_array 返回索引和关联数组。

# ios - 使用 UIStepper 编辑 UITextField 字体大小

> ID：11535600
> 
> 赞同：0
> 
> 时间：2012-07-18T06:40:27.927
> 
> 标签：ios, xcode, uitextfield, font-size, uistepper

有没有办法用 UIStepper 编辑 UITextField 的字体大小？即，点击添加按钮，UITextField 的字体大小增加 1 或 5？到目前为止，我尝试`[textField adjustsFontSizeToFitWidth:value];`过没有运气。我怎么能这样做？另外，如果我不能用 UIStepper 控制字体大小，我还能如何编辑字体大小？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T06:42:37.323

我认为你应该使用：

```
[textField setFont:[UIFont systemFontOfSize:value]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:51:38.407

```
UIFont *textFont = [UIFont fontWithName:@"Helvetica-Bold" size:8.0];
[textField setFont:textFont]; 
```

试试这个...

# javascript - JSLint 字符串比较错误应为 '===' 而看到的是 '=='

> ID：11535601
> 
> 赞同：1
> 
> 时间：2012-07-18T06:40:35.227
> 
> 标签：javascript, jslint

我在 JSLint 中使用这段代码

```
var string = "Hello";
if (string == "Hello") {
    string = "World";
} 
```

我收到了这个错误

```
Expected '===' and instead saw '=='.
if (string == "Hello") { 
```

为什么 JSLint 会抛出这个错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:40:35.227

**来自== 和 !=**下的JSLint[文档](http://www.jslint.com/lint.html)

 **> == 和 != 运算符在比较之前进行强制类型转换。这很糟糕，因为它会导致 ' \t\r\n' == 0 为真。这可以掩盖类型错误。JSLint 无法可靠地确定 == 是否被正确使用，因此最好不要使用 == 和 != 并始终使用更可靠的 === 和 !== 运算符。
> 
> 如果你只关心一个值是真还是假，那么使用简写形式。代替
> 
> （富！= 0）
> 
> 说啊
> 
> （富）
> 
> 而不是
> 
> (foo == 0)
> 
> 说
> 
> (!foo)
> 
> 有一个 eqeq 选项允许使用 == 和 !=。

如何告诉 JSLint 不要抛出这个错误。

使用 JSLint 指令***eqeq***

像这样

```
/*jslint eqeq: true*/ 
```

所以完整的代码看起来像

```
/*jslint eqeq: true*/
var string = "Hello";
if (string == "Hello") {
    string = "World";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:43:38.820

因为 JSLint 认为`==`永远不应该使用（平等系统有点奇怪）*。*

我的建议是学习如何`==`和`===`工作，以及他们如何比较（[检查规范](http://es5.github.com/#x11.9.3)）。*然后*，您可以自己做出最好的决定，而不是简单地标记一个语言结构，并用*从不使用它*。**

# configuration - Weblogic 10 JDBC 数据源说明

> ID：11535604
> 
> 赞同：0
> 
> 时间：2012-07-18T06:40:39.143
> 
> 标签：configuration, weblogic, weblogic-10.x, portal

**介绍**

为 Weblogic Portal 10.3.0.0 创建新域时，默认情况下会创建以下数据源以供 Weblogic Server 使用（包括名称和 JNDI 名称）。

例如：

我确信身份验证提供程序`p13nDataSource`会访问它`SQLAuthenticator`以执行 DBMS 身份验证。

```
NAME                        JNDI NAME 

cgDataSource                cgDataSource
cgDataSource-nonXA          cgDataSource-nonXA
p13nDataSource              p13n.trackingDataSource p13n.sequencerDataSource cm.sequencerDataSource p13n.leasemanager p13n.dataSyncDataSource p13n.entitlementsDataSource p13n.quiescenceDataSource p13n.credentialsDataSource
portalDataSource            weblogic.jdbc.jts.commercePool contentDataSource contentVersioningDataSource portalFrameworkPool
portalDataSourceAlwaysXA    portalDataSourceAlwaysXA
portalDataSourceNeverXA     portalFrameworkPoolNeverXA 
```

**问题**

我了解 和 之间的区别`XA`，`Non-XA`但是是否有人对其他每个数据源的用途有任何信息或描述？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T13:09:30.120

[Oracle 文档中基本 WebLogic 平台域](http://docs.oracle.com/cd/E13196_01/platform/docs81/db_mgmt/default_JDBC_configs.html)文档的默认 JDBC 配置为您提供了一些见解。不幸的是，这些文档适用于 8.1 版（我还没有找到它的 10.3 版），但其中很多文档仍然适用于 10.3。

# java - jsp中的正则表达式

> ID：11535607
> 
> 赞同：4
> 
> 时间：2012-07-18T06:40:53.217
> 
> 标签：java

我需要一个正则表达式，它既可以接受字母数字也可以接受字母，但不能单独接受数字，并且允许的特殊字符是 .(dot) 和 _(underscore)。

有效条目是

1.ABC123de（字母数字 - 不分大小写）
2\. ABCDEfgh（仅字母 - 不分大小写）
3\. Abc_.123（仅允许特殊字符为 _ 和 .）

无效条目：（`666666`仅数字）

谢谢， 巴拉吉

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T06:47:46.210

`[A-Za-z0-9._]*[A-Za-z]+[A-Za-z0-9._]*`

将匹配任何带有字母数字或两个特殊字符的字符串，前提是它包含至少一个字母字符。

编辑：随着我们的进展，您似乎发现了很多要求......下面的模式将匹配以字母 or 开头`_`、以字母或数字结尾且仅由字母、数字`.`和. 组成的字符串`_`。 `^[\\p{L}_](?[\\p{L}\\d._]*[\\p{L}\\d])?$`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:56:31.667

这个怎么样？

`[0-9a-zA-Z_.]*[a-zA-Z]+[0-9a-zA-Z_.]*`

它不允许使用这样的字符串：

```
......
____
_._._._
666
666.
666.6
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:49:13.150

试试这个正则表达式：

```
^\w*[a-zA-Z_\.]+\w*$ 
```

# c# - 看不到无限循环

> ID：11535608
> 
> 赞同：1
> 
> 时间：2012-07-18T06:40:53.800
> 
> 标签：c#, multithreading, stack-overflow

所以我正在处理一个自动更新服务器列表，它加载所有服务器 ip:port 组合并将它们显示到列表视图中。我在一个线程中执行所有这些操作，因此我需要调用我的控件来对它们执行操作。这是我的调用方法..

```
 public void invoke(MethodInvoker m) {
        try { invoke(m); } catch {} 
    } 
```

这是我的更新线程方法：

```
 public void updater()
    {
        while (autoUpdate)
        {
            reader = new StreamReader("servers.list");
            servers = reader.ReadToEnd().Split('\n');
            reader.Close();

            invoke(new MethodInvoker(delegate { list.Clear(); }));

            foreach (String s in servers)
            {
                String[] part = new String[] { s };
                invoke(new MethodInvoker(delegate { list.Items.Add("Server Name").SubItems.AddRange(part); }));
            }

            Thread.Sleep(5000);
        }
    } 
```

有谁知道它为什么这样做？我以前做过这样的应用程序，没有遇到过这个问题。也许我错过了一些东西，但任何帮助将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T06:45:37.383

这看起来像一个无限递归调用，缺少结束条件？

```
public void invoke(MethodInvoker m) 
{
   try { invoke(m); } catch {} 
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-18T06:49:21.577

您需要将其更改为：

```
public void invoke(MethodInvoker m) 
{
   try { someControl.Invoke(m); } catch {} 
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-18T06:47:17.433

您的`invoke`方法在没有终止条件的情况下递归调用自身。您需要做的是检查控件是否要求在 UI 线程上分派操作，并适当地重新调用该方法。

您应该[`Invoke`](http://msdn.microsoft.com/en-us/library/zyzhdc6b.aspx)在同一线程上创建的某个控件上使用该方法（这可能是要更新的控件，也可能是父窗体；这并不重要）：

```
public void invoke(MethodInvoker m) 
{
   try { this.Invoke(m); } catch {} 
} 
```

不过，附带说明一下，像这样有一个空的雨伞`catch`块是非常糟糕的做法。这样做你基本上忽略了任何可能发生的错误，无论它是否可以/应该被忽略。您应该只尝试捕获您知道如何处理的异常；否则，让它传播回堆栈到一些*可以*处理它的代码。

# winforms - 如何在另一个面板下制作 tableLayoutPanel 幻灯片？

> ID：11535614
> 
> 赞同：0
> 
> 时间：2012-07-18T06:41:09.463
> 
> 标签：winforms

在我的表单上，我在它们之间有一个顶部面板、一个底部面板和一个 TableLayoutPanel，其中显示了主要信息。当用户单击此 TableLayoutPanel 中的一行时，该项目被视为已查看，下一个项目应向前滑动一个位置（第 1 行变为第 2 行，第 2 行变为第 3 行，第 3 行获取新数据）。我希望用户通过此幻灯片操作来可视化更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T12:25:35.700

您必须自己实现所需的绘画。

您可以覆盖`OnPaint`并让所有绘画都由原始绘画处理，`OnPaint`除非您的滑动应该发生......

当您发生滑动时，您可以花一秒钟`TableLayoutPanel`的时间在您的表单上，其中包含所有 4 行（旧 3 行 + 新行）并将其绘制到位图图像上（`Control.DrawToBitmap()`）

现在你有一个比你的滑动更大的位图`TableLayoutPanel`...现在获取该位图并使用它的所需部分来获取您的滑动动画...而不是调用原始的`OnPaint`，您可以从位图中获取所需的区域.. .你当然必须首先计算所需的区域，这取决于你的滑动动画的所需速度，平滑的开始和停止，或者你想到的任何东西......

# java - 在生成的接口中公开 void 指针

> ID：11535615
> 
> 赞同：2
> 
> 时间：2012-07-18T06:41:09.940
> 
> 标签：java, java-native-interface, swig

我使用 SWIG 为Java中的[Spotify 库](https://developer.spotify.com/technologies/libspotify/)生成了一个包装器。头文件包含

```
typedef struct sp_session_config {
   ...
  const void *application_key;           ///< Your application key
  ... 
```

这应该允许我在 Java 中设置应用程序密钥：

```
sp_session_config cfg = new sp_session_config();
cfg.setApplication_key(appkey); 
```

C中的键是这样声明的

```
const uint8_t g_appkey[] = {0x01, 0xB4, 0xF9, 0x33, .... } 
```

问题是我不知道如何在 Java 中创建密钥。appkey 的类型必须是`SWIGTYPE_p_void`.

我尝试在 .i 文件中添加：

```
%include "carrays.i"
%array_functions(uint8_t, uint8Array); 
```

能够使用这些函数在 Java 中创建 C 数组：

```
new_uint8Array
uint8Array_setitem 
```

没有成功。

我该如何解决我的问题？欢迎提供一个简单的小例子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-19T08:11:23.797

你在 carrays.i 的正确路线上，虽然通常我更喜欢使用`%array_class`而不是`%array_functions`在有选择的情况下使用。问题是您的 array_functions/array_class 为您提供了一个`SWIGTYPE_p_unsigned_char`（即指针的代理`unsigned char`），而您需要一个`void`指针，并且由于 Java 中的强类型化，没有简单的方法可以在两者之间进行转换。我们可以解决这个问题。

为了说明这个答案，我创建了一个非常简单的头文件来重现您的问题：

```
typedef struct sp_session_config {
  const void *application_key;           ///< Your application key
} session_config; 
```

所以问题是我们不能`setApplication_key()`用 array_class/array_function 生成`uint8_t`的数组调用，因为类型不匹配。

有很多可能的解决方案。一种方法可能是告诉 SWIG 忽略`application_key`in`sp_session_config`并假装它是`uint8_t* application_key`. 为此，您需要在 C 中为执行工作的包装器提供一个 set/get 函数（在这种情况下是微不足道的）并用于`%ignore`隐藏“真实”成员，`%extend`添加“假”成员并`%rename`停止`%ignore`忽略假一：

```
%module test

%{
#include "test.h"
#include <stdint.h>

// Internal helpers for our fake memeber
static void session_config_application_key_set(session_config *cfg, const uint8_t *arr) {
  cfg->application_key = arr;
}

static const uint8_t *session_config_application_key_get(const session_config *cfg) {
  return cfg->application_key;
}
%}

%include <carrays.i>
%include <stdint.i>

%array_class(uint8_t, uint8Array);

%ignore sp_session_config::application_key; // ignore the real one when we see it
%include "test.h"
%rename("%s") sp_session_config::application_key; // unignore for extend
%extend session_config {
  uint8_t *application_key;
} 
```

这足以让我们用 Java 编写：

```
public class run {
  public static void main(String[] argv) {
    session_config cfg = new session_config();
    uint8Array key = new uint8Array(4);
    key.setitem(0, (short)100); key.setitem(1, (short)101); 
    key.setitem(2, (short)102); key.setitem(3, (short)103);    
    cfg.setApplication_key(key.cast());
  }
} 
```

或者，如果您愿意，您可以使用类型映射系统将成员公开为`uint8_t*`：

```
%module test

%{
#include "test.h"
%}

%include <carrays.i>
%include <stdint.i>

%array_class(uint8_t, uint8Array);

%typemap(jstype) const void *application_key "$typemap(jstype, const uint8_t*)"
%typemap(javain) const void *application_key "$typemap(jstype, const uint8_t*).getCPtr($javainput)"
%typemap(javaout) const void *application_key {
  long cPtr = $jnicall;
  return (cPtr == 0) ? null : new $typemap(jstype, const uint8_t*)(cPtr, $owner);
}
%include "test.h" 
```

它仅匹配`const void *application_key`并在接口中生成代码以使用包装的`uint8_t*`而不是`void*`.

另一种可能的方法是通过提供接口文件内部的特殊定义，简单地向 SWIG 声明该成员*是*a ：`uint8_t*``struct`

```
%module test

%{
#include "test.h"
%}

%include <carrays.i>
%include <stdint.i>

%array_class(uint8_t, uint8Array);

typedef struct sp_session_config {
  const uint8_t *application_key;
} session_config;

// Ignore the one in the header file, use our special version instead
%ignore sp_session_config;
%include "test.h" 
```

这样做很简单，但维护起来更棘手 - 每次`sp_session_config`更改时，您都必须确保更新接口文件以匹配它，否则您可能不会暴露，甚至不正确地暴露`struct`.

请注意：注意这些示例中的所有权 - Java 端的数组保留所有权，因此您需要确保：

1.  C 库不会尝试释放它（如果释放它，你会看到一个 double `free()`）
2.  Java中数组的生命周期超过了它在C库中的使用。

如果需要，您可以让 C 库获得内存的所有权，这些示例中最容易做到这一点的是使用类型映射的示例。（您可以修改 javain 类型映射以获取所有权）。

最后，对于另一种可能的解决方案，您可以使用[一点 JNI](https://stackoverflow.com/a/11038906/168175)或[更多其他技术](https://stackoverflow.com/a/11018918/168175)，正如我过去回答的那样，使用 Java 数组或为此生成合适的代码。

# amazon-web-services - 将 EBS 添加到 Ubuntu EC2 实例

> ID：11535617
> 
> 赞同：140
> 
> 时间：2012-07-18T06:41:12.643
> 
> 标签：amazon-web-services, amazon-ec2, amazon-ebs

我在将 EBS 卷连接到我的 Ubuntu EC2 实例时遇到问题。

这是我所做的：

1.  在 Amazon AWS 控制台中，我创建了一个 EBS 150GB 卷并将其附加到一个 Ubuntu 11.10 EC2 实例。在 EBS 卷属性下，“附件”显示：“[my Ubuntu instance id]:/dev/sdf (attached)”

2.  尝试在 Ubuntu 机器上安装驱动器，它告诉我“安装：/dev/sdf 不是块设备”

    `sudo mount /dev/sdf /vol`

3.  所以我检查了 fdisk 并尝试从新位置挂载，它告诉我它不是正确的文件系统。

    `sudo fdisk -l`

    `sudo mount -v -t ext4 /dev/xvdf /vol`

    错误：

    > mount: 错误的 fs 类型、错误的选项、/dev/xvdf 上的错误超级块、缺少代码页或帮助程序或其他错误 在某些情况下，在 syslog 中找到有用的信息 - 尝试 dmesg | 尾巴左右

    “dmesg | tail”告诉我它给出了以下错误：

    > EXT4-fs (sda1): VFS: 找不到 ext4 文件系统

[我还尝试按照http://www.webmastersessions.com/how-to-attach-ebs-volume-to-amazon-ec2-instance](http://www.webmastersessions.com/how-to-attach-ebs-volume-to-amazon-ec2-instance)上的说明将配置放入 /etc/fstab 文件中，但仍然不正确文件系统错误。

问题：

Q1：基于第 1 点（上），为什么卷实际上映射到 '/dev/xvdf' 时却映射到了 'dev/sdf'？

Q2：我还需要做什么才能加载 EBS 卷？我认为当我将它附加到实例时，它会为我处理所有事情。

* * *

## 回答 #1

> 赞同：326
> 
> 时间：2012-07-18T08:38:42.810

由于这是一个新卷，因此您需要在步骤 1 和步骤 2 之间使用文件系统格式化 EBS 卷（块设备）。因此，使用示例挂载点的整个过程是：

1.  创建 EBS 卷。

2.  将 EBS 卷附加到`/dev/sdf`（EC2 的此特定设备号的外部名称）。

3.  格式化文件系统`/dev/xvdf`（这个特定设备号的 Ubuntu 内部名称）：

    ```
    sudo mkfs.ext4 /dev/xvdf 
    ```

    *仅当这是一个没有数据的新卷时才格式化文件系统。格式化将使检索以前在此卷上的任何数据变得困难或不可能。*

4.  挂载文件系统（更新 /etc/fstab 使其在重新启动时保持挂载）：

    ```
    sudo mkdir -m 000 /vol
    echo "/dev/xvdf /vol auto noatime 0 0" | sudo tee -a /etc/fstab
    sudo mount /vol 
    ```

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2015-01-16T09:49:53.570

第 1 步：创建卷
第 2 步：附加到您的实例根卷
第 3 步：运行 sudo resize 2fs -p /dev/xvde
第 4 步：重新启动 apache2 sudo service apache2 重新启动
第 4 步：运行 df -h

您可以查看附加到您的实例的总卷。

# android - 解析csv文件时出现Android OutOfMemoryError

> ID：11535618
> 
> 赞同：1
> 
> 时间：2012-07-18T06:41:14.363
> 
> 标签：android, multithreading, csv, out-of-memory

我有一个应用程序可以在线下载 csv 文件，然后将其保存在本地，因此即使它处于脱机状态，该应用程序也能正常工作。我的问题是当用户关闭应用程序然后立即再次打开它时，应用程序在解析保存的 csv 文件时挂起并抛出 OutOfMemoryError。但是，我注意到当我在几分钟后再次打开该应用程序时，它工作得很好。下载、解析和保存在不同的线程上完成。有什么办法可以解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T15:23:24.773

一种可能性：内存不足错误*可能*更多地与过度工作的 GC 相关，而不是与实际内存不足有关。如果您分配大块内存，然后释放它们，然后分配更大的块，您会达到这样一个点，即您有大量可用内存占用空间，但由于它们不够大而无法使用。GC 疯狂地试图移动东西并将这些碎片合并到一个连续的块中以进行下一次分配，但它不会因为花费太长时间而看起来很糟糕，它只会抛出 OutOfMemory 异常，即使理论上 90% 的内存是可用的（如果你能给它一分钟，它将可用）。

在你的情况下，我怀疑 ArrayList。它保留了一个引用数组。当您添加条目时，它会添加到数组中。当它跑到最后时，它会分配一个新的、更大的，并释放旧的。如果您保持忙碌，这些丢弃物就会堆积起来。哈希表也有类似的问题。LinkedList 和 TreeMap 不会，因为它们使用少量内存。

我对 Android 了解不多，但我猜当你短暂关闭它时应用程序并没有真正关闭，所以当你重新启动它时，它与以前一样是自由内存碎片执行。如果你等待一段时间，它可能是一个新的执行。即使不是，GC 也有时间清理一切，你很好。

您想要的解决方案可能是每次“启动”系统时强制进行垃圾收集（System.gc()）。它使 GC 有机会在为您分配空间之前将所有内容整理好，并且不会花费很长时间。从某种意义上说，您授予 GC 将您的程序锁定半秒钟的权限，而它自己不会这样做。（如果确实如此，它会选择一个尴尬的时间来做这件事——比如说，在用户输入文本的时候。）

通过使用链接集合来避免大型数组是另一种解决方案，但数组速度很快，当您可以腾出半秒的用户时间时，没有理由切换。

希望这可以帮助。如果这一次不是问题，也许下次会是。

**另外：** 不幸的是， System.gc() 只是一个“建议”。它可能没有做我们希望它做的工作。或者您可能会在通话后遇到麻烦。我之前应该提到的另一个重大修复是将**ArrayList 的初始大小设置为非常大**，如果这是您正在使用的。将其设置为所需大小的两到三倍可能会在一次运行中为您节省十倍的内存量 - 并节省时间。这适用于任何基于数组的结构（哈希表和普通数组）。除此之外，如果你能绕过它们的缺点，像 LinkedList 这样的基于指针的结构就不会有这个问题。

# wix - 将命令行参数传递给 exe 的自定义操作

> ID：11535620
> 
> 赞同：0
> 
> 时间：2012-07-18T06:41:27.760
> 
> 标签：wix, custom-action

我正在使用 Wix 安装程序，在该安装程序中，我使用自定义操作通过命令行参数执行我的 exe（Windows 表单）。我尝试了以下方式来执行我的自定义操作。

```
<CustomAction Id="ConnMgrCACmd" Property="ConnMgrCAWithProperty"
          Value="&quot;[#ConnectionManagerExe.exe]&quot; /COMMAND=ADD FILEPATH="[INSTALLDIR]" KEY="[DB_KEY]" Execute="immediate"/>
<CustomAction Id="ConnMgrCAWithProperty" BinaryKey="WixCA" DllEntry="CAQuietExec"
          Execute="deferred" Return="check" Impersonate="no"/> 
```

但是上面的代码对我不起作用。我的自定义操作是否正确？

# c# - 我们如何从变换矩阵中得到 x 和 y？

> ID：11535621
> 
> 赞同：0
> 
> 时间：2012-07-18T06:41:31.883
> 
> 标签：c#, math, matrix, svg, transform

> **可能重复：**
> [如何通过转换和矩阵获取 SVG 中元素的实际 x/y 位置](https://stackoverflow.com/questions/8851023/how-to-get-the-actual-x-y-position-of-an-element-in-svg-with-transformations-and)

我需要获取在 SVG 中这样编写的元素的 x/y 位置：

```
<image
   y="-421.28461"
   x="335.27295"
   id="image2991"
   xlink:href="file:///C:/Users/tom/Documents/t.jpg"
   height="369"
   width="360"
   transform="matrix(0.22297057,0.97482518,-0.97482518,0.22297057,0,0)" /> 
```

这里给出了`x`&`y`属性，但这并没有给出图像的实际位置。据我所知

变换矩阵`[a,b,c,d,e,f]` `e`&`f`分别给出 x 和 y 的平移轴。但是

问题是这里`( e & f )`都是 0。现在我可以得到这个图像的实际值吗`x`？`y`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-18T07:21:37.230

假设，

```
x="335.27295"
y="-421.28461" 
```

给定变换矩阵

```
a              b          e
c              d          f
0              0          1 
```

拥有价值观

```
0.22297057     0.97482518 0
-0.97482518    0.22297057 0
0              0          1 
```

会心

*   a, d 负责分别缩放 x, y
*   e, f 分别负责转换 x, y

你最终会得到

```
newX = x * a + e
newY = y * d + f 
```

或者，

```
newX = 335.27295 * 0.22297057 + 0 = 74.75
newY = -421.28461 * 0.22297057 + 0 = -93.93 
```

# php - 使用 PHP 来自数据库的实时数据流

> ID：11535623
> 
> 赞同：0
> 
> 时间：2012-07-18T06:41:33.663
> 
> 标签：php, database, stream

我正在使用 php 创建一种社交网络兼云计算脚本。我已经成功完成了新闻提要部分。但现在我需要有一个实时流。是否可以使用纯 php 或者我们应该使用任何其他语言？我对此一无所知。请向我推荐一些关于它的好网站或完成它的任何想法。各种帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:47:04.110

我建议在[setInterval](http://www.w3schools.com/jsref/met_win_setinterval.asp)函数上使用[AJAX](http://api.jquery.com/load/)

这就是要走的路:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:00:45.080

“实时流”，从某种意义上说，插入的任何新数据都将自动（近）实时地传播到其他客户端，这对于标准 SQL 数据库来说几乎是不可能的。这些是基于*查询*的，但您需要一个*推送*架构。

研究消息传递系统、消息队列（如 AMQP 或 ZeroMQ）、PubSub 系统、打开和侦听套接字等等。*除了*将它们插入到数据库等永久存储中之外，您还可以使用它们将数据推送给订阅者。

如果，OTOH，您只是想每隔一段时间自动更新您的网站，请使用偶尔的 AJAX 请求到服务器。

# r - 基于 R 中字符串比较的相似度得分（编辑距离）

> ID：11535625
> 
> 赞同：25
> 
> 时间：2012-07-18T06:41:39.620
> 
> 标签：r, string-comparison, edit-distance

我正在尝试根据 2 个字符串之间的比较来分配相似度分数。R中是否有相同的功能。我知道SAS中有这样一个名为SPEDIS的功能。请让我知道R中是否有这样的功能。

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-07-18T06:51:32.720

函数[adist](http://stat.ethz.ch/R-manual/R-patched/library/utils/html/adist.html)计算两个字符串之间的[Levenshtein 编辑距离。](http://en.wikipedia.org/wiki/Levenshtein_distance)这可以转换为 1 - （Levenshtein 编辑距离/更长的字符串长度）的相似性度量。

[RecordLinkage](http://cran.r-project.org/web/packages/RecordLinkage/index.html)包中的`levenshteinSim`函数也直接执行此操作，并且可能比.`adist`

```
library(RecordLinkage)
> levenshteinSim("apple", "apple")
[1] 1
> levenshteinSim("apple", "aaple")
[1] 0.8
> levenshteinSim("apple", "appled")
[1] 0.8333333
> levenshteinSim("appl", "apple")
[1] 0.8 
```

ETA：有趣的是，虽然`levenshteinDist`在 RecordLinkage 包中似乎比 略快`adist`，`levenshteinSim`但比任何一个都慢得多。使用[rbenchmark](http://cran.r-project.org/web/packages/rbenchmark/index.html)包：

```
> benchmark(levenshteinDist("applesauce", "aaplesauce"), replications=100000)
                                         test replications elapsed relative
1 levenshteinDist("applesauce", "aaplesauce")       100000   4.012        1
  user.self sys.self user.child sys.child
1     3.583    0.452          0         0
> benchmark(adist("applesauce", "aaplesauce"), replications=100000)
                               test replications elapsed relative user.self
1 adist("applesauce", "aaplesauce")       100000   4.277        1     3.707
  sys.self user.child sys.child
1    0.461          0         0
> benchmark(levenshteinSim("applesauce", "aaplesauce"), replications=100000)
                                        test replications elapsed relative
1 levenshteinSim("applesauce", "aaplesauce")       100000   7.206        1
  user.self sys.self user.child sys.child
1      6.49    0.743          0         0 
```

这种开销仅仅是由于 的代码`levenshteinSim`，它只是一个包装器`levenshteinDist`：

```
> levenshteinSim
function (str1, str2) 
{
    return(1 - (levenshteinDist(str1, str2)/pmax(nchar(str1), 
        nchar(str2))))
} 
```

仅供参考：如果您总是比较两个字符串而不是向量，您可以创建一个新版本，使用`max`而不是，`pmax`并减少约 25% 的运行时间：

```
mylevsim = function (str1, str2) 
{
    return(1 - (levenshteinDist(str1, str2)/max(nchar(str1), 
        nchar(str2))))
}
> benchmark(mylevsim("applesauce", "aaplesauce"), replications=100000)
                                  test replications elapsed relative user.self
1 mylevsim("applesauce", "aaplesauce")       100000   5.608        1     4.987
  sys.self user.child sys.child
1    0.627          0         0 
```

长话短说-性能之间`adist`和`levenshteinDist`性能方面几乎没有区别，但如果您不想添加包依赖项，则前者更可取。如何将其转换为相似性度量确实会对性能产生一些影响。

# jdeveloper - 迭代表中的所有行并在另一个表中选择数据 - jdeveloper

> ID：11535634
> 
> 赞同：0
> 
> 时间：2012-07-18T06:42:05.253
> 
> 标签：jdeveloper, oracle-adf

我有一张桌子，称之为交易明细。在它上面，我有一个提交按钮。当我单击按钮时，它会弹出一个名为 items 的表中的复选框，并且 trans.detail 表中的所有项目都将在 items 复选框中被选中。

我的问题是当我选中/取消选中复选框中的某些项目时，如何选择复选框中的项目并更新表交易详细信息？

我希望我解释清楚。谢谢..

更新：更多解释...

实际上有 3 个表，事务、事务详细信息和项目。一笔交易有多个trans detail，trans detail对应一个item。所以在 trans 细节中，我有 trans.ID 和 items.ID 属性。我也有一个视图链接。我的用例是，我单击 trans 表中的一行，事务详细信息表将自行更新（已经完成）。现在，当我单击“编辑详细信息按钮”时，将出现一个弹出窗口，其中包含项目表，并且已经在跨详细信息中的项目将在弹出窗口中检查。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:59:14.140

你的用例对我来说不是很清楚。复选框可以绑定到表的属性（可以是临时的）（在您的情况下为项目）。现在，您必须遍历事务详细信息并为绑定到相应行的复选框的项目属性设置属性。您没有提到交易细节和 itwms 是如何相关的，以及您是否有连接两者的查看链接。所以我不能就如何找到相应的行给出建议。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:05:09.593

与此类似的方法可能会有所帮助：[http ://www.oracle.com/technetwork/developer-tools/adf/learnmore/99-checkbox-for-delete-in-table-1539659.pdf](http://www.oracle.com/technetwork/developer-tools/adf/learnmore/99-checkbox-for-delete-in-table-1539659.pdf)

坦率

# ios - 如何使用钥匙串保存密码，如 GenericKeychain 示例代码

> ID：11535639
> 
> 赞同：6
> 
> 时间：2012-07-18T06:42:24.480
> 
> 标签：ios, encryption, passwords, keychain

我想将用户的 ID 和密码保存在 App 中。

当我保存 ID 和密码时，推荐的加密方式是什么。

我正在从越狱或黑客那里找到更安全的方法。

GenericKeychain 示例代码怎么样？

[http://developer.apple.com/library/ios/#samplecode/GenericKeychain/Introduction/Intro.html#//apple_ref/doc/uid/DTS40007797](http://developer.apple.com/library/ios/#samplecode/GenericKeychain/Introduction/Intro.html#//apple_ref/doc/uid/DTS40007797)

我对如何安全地使用像 GenericKeychain 示例代码这样的 Keychain 没有信心。

请告诉我一些建议。谢谢你^^*

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-07-18T12:49:47.193

您可以使用安全框架

`#import <Security/Security.h>`

**保存服务器的用户名和密码：**

```
-(void) saveUsername:(NSString*)user withPassword:(NSString*)pass forServer:(NSString*)server {

    // Create dictionary of search parameters
    NSDictionary* dict = [NSDictionary dictionaryWithObjectsAndKeys:(__bridge id)(kSecClassInternetPassword),  kSecClass, server, kSecAttrServer, kCFBooleanTrue, kSecReturnAttributes, nil];

    // Remove any old values from the keychain
    OSStatus err = SecItemDelete((__bridge CFDictionaryRef) dict);

    // Create dictionary of parameters to add
    NSData* passwordData = [pass dataUsingEncoding:NSUTF8StringEncoding];
    dict = [NSDictionary dictionaryWithObjectsAndKeys:(__bridge id)(kSecClassInternetPassword), kSecClass, server, kSecAttrServer, passwordData, kSecValueData, user, kSecAttrAccount, nil];

    // Try to save to keychain
    err = SecItemAdd((__bridge CFDictionaryRef) dict, NULL);

} 
```

**去除：**

```
-(void) removeAllCredentialsForServer:(NSString*)server {

    // Create dictionary of search parameters
    NSDictionary* dict = [NSDictionary dictionaryWithObjectsAndKeys:(__bridge id)(kSecClassInternetPassword),  kSecClass, server, kSecAttrServer, kCFBooleanTrue, kSecReturnAttributes, kCFBooleanTrue, kSecReturnData, nil];

    // Remove any old values from the keychain
    OSStatus err = SecItemDelete((__bridge CFDictionaryRef) dict);

} 
```

**读书：**

```
-(void) getCredentialsForServer:(NSString*)server {

    // Create dictionary of search parameters
    NSDictionary* dict = [NSDictionary dictionaryWithObjectsAndKeys:(__bridge id)(kSecClassInternetPassword),  kSecClass, server, kSecAttrServer, kCFBooleanTrue, kSecReturnAttributes, kCFBooleanTrue, kSecReturnData, nil];

    // Look up server in the keychain
    NSDictionary* found = nil;
    CFDictionaryRef foundCF;
    OSStatus err = SecItemCopyMatching((__bridge CFDictionaryRef) dict, (CFTypeRef*)&foundCF);

    // Check if found
    found = (__bridge NSDictionary*)(foundCF);
    if (!found) 
        return;

    // Found
    NSString* user = (NSString*) [found objectForKey:(__bridge id)(kSecAttrAccount)];
    NSString* pass = [[NSString alloc] initWithData:[found objectForKey:(__bridge id)(kSecValueData)] encoding:NSUTF8StringEncoding];

} 
```

# blackberry - BlackBerry GPS 问题与 LocationListener - 蜂窝基站直到 GPS 锁定

> ID：11535640
> 
> 赞同：0
> 
> 时间：2012-07-18T06:42:34.050
> 
> 标签：blackberry, gps, locationlistener

我正在做一个针对 5.0 及更高版本的 BlackBerry 应用程序。我有一个扩展 Thread 并实现 LocationListener 的类。

我设法在 CellSite 以及其他模式（如辅助和无辅助）上获取 gps 更新。

我真正想做的是在其他人不可用时使用 Cellsite，然后在它们可用时切换到它们。

正确的路线似乎是通过“providerStateChanged”，但这永远不会触发。

有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-18T11:43:18.980

使用[BlackBerryLocationProvider](http://www.blackberry.com/developers/docs/7.0.0api/net/rim/device/api/gps/BlackBerryLocationProvider.html)和[BlackBerryCriteria](http://www.blackberry.com/developers/docs/7.0.0api/net/rim/device/api/gps/BlackBerryCriteria.html)，您可以指定 GPS 位置，然后使用 GPS 启用地理定位。然后，如果 GPS 不可用，系统将提供基于地理位置的修复（Cellsite 或 Wi-Fi）。这从 OS 5.0 开始可用。请参阅链接的 API 文档。

# sql - 查询两个相同的列

> ID：11535642
> 
> 赞同：1
> 
> 时间：2012-07-18T06:42:46.687
> 
> 标签：sql, sqlite

是否可以像“或”函数一样以这种方式查询。

更新示例：

```
Select S.*, U.* from Staff S, Unit U where S.Unit='' OR S.Unit= U.UnitCode; 
```

员工表架构：

```
Staff ID, Staff Name, UnitCode, StaffNumber 
```

单元架构：

```
UnitCode, ClassCode 
```

上面更新的示例有效。但单位为空白的员工记录将与所有单位代码重复。

例如结果输出：

```
Staff ID     Staff Name     UnitCode     ClassCode    Staff Number
1            John            IT1         B123         234
2            Sally           BUS2        B234         0589
3            Johnson         IT1         B123          111
4            Johnson         BUS2        B234          111 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:58:25.860

由于您使用的是 SQLite，请使用`OR`而不是`||`

```
Select S.*, U.* 
from Staff S, Unit U 
where S.Unit = '' OR S.Unit= U.UnitCode; 
```

如果我删除了这个条件，结果是什么？`S.Unit = ''`

```
Select S.*, U.* 
from Staff S INNER JOIN Unit U 
         on S.Unit = U.UnitCode; 
```

**更新 1**

你能试试这个吗？

```
SELECT x.*
FROM Staff x INNER JOIN
    (Select DISTINCT S.StaffID
     from Staff S INNER JOIN Unit U 
             on (S.Unit = U.UnitCode) OR
                (S.Unit = '')
     ) y ON x.StaffID = y.StaffID 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T06:44:29.120

是的，你可以，使用[OR](http://www.techonthenet.com/sql/or.php)代替 ||

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-18T06:51:40.290

```
Select S.*, U.* from Staff S, Unit U where S.Unit='' OR S.Unit IS null OR S.Unit= U.UnitCode; 
```

编辑：

```
SELECT 
CASE WHEN S.Unit='' THEN S.Unit END AS blankOne, 
CASE WHEN S.Unit= U.UnitCode THEN S.Unit END AS MatchOne
FROM Staff S, Unit U
WHERE S.Unit= U.UnitCode 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-18T07:42:01.983

我认为您在[left join](http://www.sqlite.org/syntaxdiagrams.html#join-op)之后：

```
Select S.*, U.* 
  from Staff S
  left join Unit U 
    on S.Unit= U.UnitCode 
```

这将从 Unit 检索所有员工记录和匹配记录（如果存在）。如果不是此记录的 Unit 中的所有列都将为空。

# c# - 没有侦听器的事件会对性能产生相当大的影响吗？

> ID：11535646
> 
> 赞同：3
> 
> 时间：2012-07-18T06:43:07.357
> 
> 标签：c#, .net, events

考虑类中以下与事件相关的基本代码：

```
public event EventHandler Updated;

public void OnUpdated() {
    if (Updated != null) Updated(sender: this, e: null)
} 
```

如果没有人订阅 Updated 事件，我不希望第四行造成任何显着的性能拖累（这个想法是让订阅者选择最细粒度的事件来订阅以仅触发最少数量的事件并防止消息队列过载）。

我是否应该关心和跟踪订阅者的存在（例如，使用`if (Updated != null && OnUpdateSubscribed) Updated(sender: this, e: null)`或信任编译器/运行时？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-18T06:47:01.647

检查`OnUpdate != null` **定义**了一个被订阅/取消订阅的事件。实际上，布尔检查和空检查之间没有真正的区别，因为最终它们都只是一个“加载字段”，“如果为假则分支” - 因为就逻辑检查而言，空引用算作“假”担心。

我唯一的建议是：将其存储在局部变量中，以防止（极不可能，但可能）竞争条件：

```
var snapshot = Updated;
if(snapshot != null) snapshot(this, EventArgs.Empty); 
```

所以：不，基本上：没有开销。

例子：

```
public event EventHandler SomeEvent;
protected virtual void OnSomeEvent()
{
    var snapshot = SomeEvent;
    if (snapshot != null) snapshot(this, EventArgs.Empty);
} 
```

编译为（评论是我的）：

```
.method family hidebysig newslot virtual instance void OnSomeEvent() cil managed
{
    .maxstack 3
    .locals init (
        [0] class [mscorlib]System.EventHandler snapshot)

    // var snapshot = SomeEvent
    L_0000: ldarg.0 
    L_0001: ldfld class [mscorlib]System.EventHandler Foo::SomeEvent
    L_0006: stloc.0

    // if(snapshot == null) goto L_0016;
    L_0007: ldloc.0 
    L_0008: brfalse.s L_0016

    // snapshot(this, EventArgs.Empty);
    L_000a: ldloc.0 
    L_000b: ldarg.0 
    L_000c: ldsfld class [mscorlib]System.EventArgs [mscorlib]System.EventArgs::Empty
    L_0011: callvirt instance void [mscorlib]System.EventHandler::Invoke(object, class [mscorlib]System.EventArgs)

    // L_0016: return;
    L_0016: ret 
} 
```

# javascript - 如何将 javascript 变量放入 javascript 数组中？

> ID：11535649
> 
> 赞同：0
> 
> 时间：2012-07-18T06:43:15.563
> 
> 标签：javascript

我确信这是一个简单的问题，但我找不到答案。

我已经包含了代码以及我的解释。

```
var dates = "'2012-07-22','2012-07-26','2012-07-28'"; 
```

我有这个 JavaScript 变量，我需要将它传递给下面的`filterDates`数组......像这样

```
filterDates = [dates]; 
```

或者

```
filterDates = [document.write(dates)];

var filterDates = []; 
```

我真的不知道如何用 JavaScript 来做到这一点......例如我们可以像这样在 php 中做到这一点

```
filterDates = [<?php echo $thatVariable; ?>]; 
```

我如何在 JavaScript 中做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-18T06:45:59.993

使用拆分

```
filterDates = dates.split(',') 
```

这将为您提供以下数组：

```
filterDates = ["'2012-07-22'","'2012-07-26'","'2012-07-28'"] 
```

如果您希望它们是实际日期，而不是日期的字符串表示形式，则必须进行更多处理，但我不确定您是否要这样做？

```
filterDates.forEach(function(d, i) { 
    filterDates[i] = new Date(d.replace(/\'/g, ''));
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-18T06:49:09.850

```
var filterDates = dates.split(',');
$.each(filterDates,function(i,val){
    filterDates[i] = val.split("'")[1];
}) 
```

# java - 使用 Beanutils 或相关类填充只读属性

> ID：11535651
> 
> 赞同：0
> 
> 时间：2012-07-18T06:43:25.563
> 
> 标签：java, properties, readonly, apache-commons-beanutils

Beanutils 或任何关联的类是否提供了填充只读属性的方法，如下例所示？

```
class MyBean {
    private String check;

    public String getCheck() {
        return check;
    }

    @SuppressWarnings("unused")
    private void setCheck(String check) {
        this.check = check;
    }
} 
```

谢谢你的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T11:18:46.630

很抱歉发布这个问题实际上这可以使用反射而不是beanUtils来实现，

```
 MyBean bean = new MyBean();
        Class<?> c = bean.getClass();
        Field f = c.getDeclaredField("id");
        f.setAccessible(true);
        f.set(bean, 12346l); 
```

这就是我一直在寻找的。

瓦布哈夫

# windows - 在 DOS / Linux 中递归解压缩文件

> ID：11535653
> 
> 赞同：0
> 
> 时间：2012-07-18T06:43:30.393
> 
> 标签：windows, linux, shell, recursion, zip

我有一个压缩文件夹，其中包含数千个压缩文件夹，它本身包含在层次结构中，我必须解压缩每个文件并将其放在一个文件夹中。

此任务在 Windows 或 linux 上与平台无关。

您的帮助将不胜感激。谢谢你。

# linq - 如何使用 linq 将枚举值与某些枚举值匹配

> ID：11535654
> 
> 赞同：0
> 
> 时间：2012-07-18T06:43:31.783
> 
> 标签：linq

我想知道什么可能是最短的 linq 查询，而不是遵循 if 语句。

```
public enum ErrorMessage { Error1=1, Error2=2, Error3=3, Error4=4 }
ErrorMessage error = ErrorMessage.Error4;

if (error == ErrorMessage.Error1 || error == ErrorMessage.Error2)
{ 
    //do something
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:50:32.860

Linq 会使这段代码变得复杂，你提供的代码比 Linq 更易读、更快速、更易于维护

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:23:31.447

你可以使用

```
if (new [] {ErrorMessage.Error1, ErrorMessage.Error2}.Contains(error))
{ 
    //do something 
} 
```

或者

```
var bad_errors = new [] {ErrorMessage.Error1, ErrorMessage.Error2};

if (bad_errors.Contains(error))
{ 
    //do something 
} 
```

[如果对扩展方法](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.contains.aspx)的一次调用对您来说就足够了 LINQ。

我想对于大多数 C# 开发人员来说，这样的模式似乎很奇怪（而且完全是这样），但是如果您已经在处理要检查的动态创建的错误列表...

否则，坚持`if.`

* * *

它实际上在样板较少的语言中工作得更好，例如 Python，这种模式很常用并且看起来更好：

```
if error in (Error1, Error2):
    # do something 
```

# scala - Scala 特征语法

> ID：11535657
> 
> 赞同：3
> 
> 时间：2012-07-18T06:43:41.037
> 
> 标签：scala

我正在阅读 Odersky 的书，并且有一个带有以下代码部分的电子表格示例：

```
package org.stairwaybook.scells
    trait Arithmetic { this: Evaluator =>
      operations += (
        "add"  -> { case List(x, y) => x + y },
        "sub"  -> { case List(x, y) => x - y },
        "div"  -> { case List(x, y) => x / y },
        "mul"  -> { case List(x, y) => x * y },
        "mod"  -> { case List(x, y) => x % y },
        "sum"  -> { xs => (0.0 /: xs)(_ + _) },
        "prod" -> { xs => (1.0 /: xs)(_ * _) }
      )
    } 
```

“这个：评估者”指的是什么？有人可以帮助理解这个特征吗？正如我所看到的，它定义了不同的操作，这些操作是函数，但我看不到大图......

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-18T06:53:22.887

你在这里看到的

```
this:Evaluator => 
```

是自我类型对特征的使用。它基本上强制将混合 trait Arithmetic 的类也混合 trait Evaluator。

如果您尝试创建如下类：

```
class ArithmeticClass extends Arithmetic 
```

你会得到一个编译时错误，而如果你尝试这样做：

```
class ArithmeticClass extends Arithmetic with Evaluator 
```

这将起作用。正如你所看到的，Arithmetic 类修改了一些操作，这可能是在 Evaluator trait 中定义的一个集合。

请注意，与简单继承相比，自类型可以让您设计更清晰的类层次结构：

如果您使用 self 类型，您可以考虑以下内容：

```
trait Evaluator { def runEvaluation : Int }
trait Arithmetic { self: Evaluator => def evaluate: Int = runEvaluation }
trait NullEvaluator extends Evaluator { def runEvaluation: Int = 0 }

class MyClass1 extends Arithmetic with Evaluator {... concrete methods .... }
class MyClass2 extends Arithmetic with NullEvaluator { ....concrete methods ..... } 
```

所以 self 类型可以让你表达一些不同于继承的东西。

# db2 - 如何在 Informatica ETL 中调用 DB2 函数？

> ID：11535665
> 
> 赞同：1
> 
> 时间：2012-07-18T06:44:30.740
> 
> 标签：db2, etl, informatica-powercenter

如何在 Informatica ETL 中调用 DB2 函数？

以前只在 ETL 中使用过视图，不知道如何为函数执行此操作，有人知道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T01:17:17.913

@MarekGrzenkowicz 是正确的，它与 envoke 存储过程相同。

# android - 如何过滤来电（黑名单） - 无反射

> ID：11535666
> 
> 赞同：2
> 
> 时间：2012-07-18T06:44:34.717
> 
> 标签：android, blacklist

我想知道是否有一种方法可以过滤（阻止）Android 上的来电（考虑 2.1 及更高版本）。我找到了使用反射的解决方案，但它似乎不是非常干净和可靠的解决方案。有没有标准或谷歌推荐的方法来做到这一点？

更新：有人吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:54:32.097

使用以下广播接收器获取传入的电话号码并将其与您创建的过滤器列表中的号码进行比较

```
@Override
public void onReceive(Context context, Intent intent) {
    Bundle extras = intent.getExtras();
    if (extras != null) {
        String state = extras.getString(TelephonyManager.EXTRA_STATE);
        Log.w("DEBUG", state);
        if (state.equals(TelephonyManager.EXTRA_STATE_RINGING)) {
            String phoneNumber = extras
                    .getString(TelephonyManager.EXTRA_INCOMING_NUMBER);
            Toast.makeText(context, phoneNumber, 2000).show();
            Log.w("DEBUG", phoneNumber);
        }
    }
} 
```

希望它会有所帮助。您需要通过应用程序的用户界面在黑名单中创建一个号码列表。

# oracle - 可以在 oracle 表中定义多个 NCLOB 列吗？

> ID：11535667
> 
> 赞同：0
> 
> 时间：2012-07-18T06:44:37.373
> 
> 标签：oracle

我必须在 oracle 数据库中存储多个可变长度的文本字段。我需要将它们定义为同一个表的列，以便能够在查询时对结果进行排序。

我不知道字段内容的最大大小，其中大多数将少于 100 个字符，但可能有数千个字符。此外，字段的数量会发生动态变化。

我正在考虑定义一个包含多个 NCLOB 列的表，它允许我在其中存储任何内容（非常短和非常长的文本）但我想知道这是否是正确的设计。

概括：

*   可变数量的字段（同一对象的元数据）
*   内容的可变长度
*   我需要订购结果

谢谢

吉隆坡

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T08:27:42.813

当您需要可变数量的字段时，最好将表拆分为父级和子级。然后你可以有效地拥有任意数量的字段。您可以添加订单列来存储订购信息以订购结果。您可以通过连接两个表并使用`order by`子句对结果进行排序来查询。您还可以添加外键约束以确保关系和数据完整性。

在内容长度可变的情况下，您可以使用 varchar2（或 nvarchar2）来存储文本日期。Varchar2 最多可容纳 4000 个字节的字符。如果你知道内容的最大长度可以超过 4000 字节，你应该使用 CLOB（或 NCLOB）。

# objective-c - 使 if 语句与数学一起工作的麻烦

> ID：11535669
> 
> 赞同：-1
> 
> 时间：2012-07-18T06:44:45.667
> 
> 标签：objective-c, xcode

嗨，我是 xcode 的新手，使用 if 语句表示重量

```
int weight;

if (weight <10) { 
([ input.text * @" 100 " Floatvalue); }

if (weight 10-20){ 
([ input.text == 1000 + 50 for each kg more than 10);}

if (weight >20 ){
([ input.text == 1000 + 20 for each kg more than 20);} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:55:05.283

如果我理解您的问题（例如，我收集到您希望您的输出为字符串），以下内容可能对您有用：

```
if (weight < 10) {
    input.text = [NSString stringWithFormat:@"%d", 100 * weight];  // I'm not really sure what you wanted to do here.
}
else if (weight > 20) {
    input.text = [NSString stringWithFormat:@"%d", 1000 + 20 * (weight - 20)];
}
else {
    input.text = [NSString stringWithFormat:@"%d", 1000 + 50 * (weight - 10)];
} 
```

# batch-file - 调用从另一个批处理文件调用批处理文件并将控制权传递给前者/

> ID：11535680
> 
> 赞同：1
> 
> 时间：2012-07-18T06:45:35.477
> 
> 标签：batch-file

> **可能重复：**
> [从另一个或从提示符调用 Windows 批处理文件的几种方法。哪种情况下？](https://stackoverflow.com/questions/2607856/several-ways-to-call-a-windows-batch-file-from-another-one-or-from-prompt-which)

整个过程是这样的，不使用批处理文件：

1.  将目录更改为`c:\ris`.

2.  启动一个批处理文件`c:\python26\env\scripts\activate.bat`。然后这会启动某种 python 控制台，提示更改为`(env) c:\ris`.

3.  在这里我运行命令`paster serve --reload development.ini`。

我已经完成了第 1 步和第 2 步，但无法执行第 3 步。当我运行我的批处理文件 ( `mapfishstart.bat`) 时，我可以打开新的控制台，`activate.bat`但不能自动将命令传递给`activate.bat`（我必须输入它并希望它是自动的）。我不希望对`activate.bat`文件进行任何更改。

任何人都可以帮助自动化第三个过程吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T15:02:19.877

如果我正确理解了您的问题并且您想在控制台中自动运行命令，那么`echo paster serve --reload development.ini | c:\python26\env\scripts\activate.bat` *可能会*起作用，这取决于启动 python 控制台之前的任何命令是否消耗标准输入。

# python - 什么是虚拟环境（python）中的 $HOME 等价物 - 特别是对于 matplotlibrc

> ID：11535683
> 
> 赞同：5
> 
> 时间：2012-07-18T06:45:43.217
> 
> 标签：python, matplotlib, virtualenv

我[为 matplotlib 找到了这个漂亮的 ggplot 灵感配色方案，](http://www.huyng.com/posts/sane-color-scheme-for-matplotlib/)并希望将其用于特定项目。

根据 matplotlib 文档，自定义配色方案不应覆盖默认值，`site-packages`而应放置在`$HOME/.matplotlib`. 但是`$HOME`in a的等价物是`venv`什么？具体来说：如何确保在安装/升级新配色方案时不会覆盖此配色方案`matplotlib`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T06:57:59.440

你有什么理由不想把它保存在你的实际`$HOME`目录下？

Virtualenv 是一个用于创建隔离*Python*环境的工具。因此，它不会尝试提供完整的用户环境。所以基本上，`$HOME`virtualenv 只是`$HOME`用户的正常情况。

至于 Matplotlib，[文档](http://matplotlib.sourceforge.net/users/customizing.html)提到了如何`matplotlibrc`搜索文件：

1.  首先，它**在当前目录中查找****a`matplotlibrc`**。这可能是您的 venv 特定配置的候选位置。
2.  其次，它查看用户的配置 ( `~/.matplotlib/matplotlibrc`)。
3.  最后，它在安装目录中查找。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-31T07:23:22.153

接受 Voithos 的回答后，我找到了 MPLtools，它可以帮助：

> mpltools 的一个关键特性是能够设置“样式”——本质上是类似于 matplotlibrc 文件的样式表。此示例演示“ggplot”样式，它调整样式以模拟 ggplot

在这里张贴后代:-)

[http://tonysyu.github.com/mpltools/auto_examples/style/plot_ggplot.html](http://tonysyu.github.com/mpltools/auto_examples/style/plot_ggplot.html)

# database - 一个数据库单元中的多个元素

> ID：11535685
> 
> 赞同：0
> 
> 时间：2012-07-18T06:45:44.707
> 
> 标签：database, sqlite, database-design

问题是我应该如何应用数据库设计来应对这种情况：

**主表：**

```
ID | name | number_of_parameters | parameters 
```

**参数表：**

```
parameter | parameter | parameter 
```

参数表中的元素数量不变。单元格定义应该在下一个单元格中存储`number_of_parameters`多少表。`parameters`

我有问题要从对象思维转移到数据库设计。因此，当我们谈论对象时，一行的参数与`number_of_parameters`所说的一样多。

我希望对需求的描述清楚。设计此类数据库的正确方法是什么。如果有人可以提供一些 SQL 语句来获取它，那就太好了。但是这个问题的主要目标是了解如何制作这样的架构。

我想使用 SQLite 创建这个数据库。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T07:39:24.533

关系方式是有两个表。主表有一个 ID、名称和尽可能多的其他普遍存在的参数。参数表包含从主表中的ID到参数名称和参数值的映射；主表ID应该是外键，ID和名字的组合应该是唯一的。

只需计算具有特定 ID 的行数即可找到参数的数量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T07:37:42.333

如果您可以在保存到数据库的同时序列化数据并在获取记录时将其反序列化，它将起作用。您可以获取序列化容器中的对象总数并将计数保存到`number_of_parameters`字段和字段中的序列化数据`parameters`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-18T07:51:56.617

没有一种完美正确的方法，但如果你想使用关系数据库，你最好有关系表。

如果您有一个键值数据库，则将序列化数据作为附加到您的键的文档放置。

如果您想要一个混合解决方案，包括人工可编辑和单表，您可以将数据序列化为人工可读的格式，例如 yaml，这种格式在开源项目的配置部分有大量使用。

# javascript - 如何调整信息窗口的大小？

> ID：11535693
> 
> 赞同：0
> 
> 时间：2012-07-18T06:46:05.213
> 
> 标签：javascript, google-maps-api-3, google-api

我的地图上有一些标记，每个标记都有信息窗口。地图很小，大约 260px/260px，所以 infowindow popup 太大了。我想将此弹出窗口调整为较小的大小，但没有效果。这是我的代码 - 我尝试使用 maxWidth - 没有效果，并且使用 infowindow.resize(50,50) -> 错误“infowindow 不是函数”：

```
 for (var i = 0; i < arraylng.length-1; i++) {
                var marker = new google.maps.Marker({
                    position: new google.maps.LatLng(arraylng[i], arraylat[i])
                    });
                var infowindow = new google.maps.InfoWindow({
                    content: " ",
                    maxWidth: 10
                  });     

              makeInfoWindowEvent(map, infowindow, marker, i);

                markers.push(marker);
                }
                var currentMarker;

            function makeInfoWindowEvent(map, infowindow, marker, i) {
              google.maps.event.addListener(marker, 'click', function() {
                 currentMarker=marker;
                 Googleapi.GetAddressMarker(arrayidunion[i], setmarker); // webservice
              });
            }

            function setmarker(result)
            {
            var address1 = result;
                infowindow.setContent(address1);
                infowindow.open(map, currentMarker);
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T10:52:26.233

好的，问题解决了！如果有人和我有同样的问题，看看这个：http: [//google-maps-utility-library-v3.googlecode.com/svn/trunk/infobox/docs/examples.html](http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobox/docs/examples.html) 完美:)

# php - 在页面退出时运行 AJAX 调用

> ID：11535696
> 
> 赞同：0
> 
> 时间：2012-07-18T06:46:31.300
> 
> 标签：php, jquery, ajax, dom

我在尝试使用 event 运行同步 AJAX 调用时遇到了一些问题`$(window).unload`。

但是根据文档：

> 从 jQuery 1.8 开始，不推荐使用 async: false 。

我试图在用户退出页面之前将用户的数据（姓名、年龄和一大串数字）一次性发送到一个 php 文件。

这可能吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:57:27.007

你可以`beforeunload`试试

```
$(window).bind('beforeunload', function() {
//Do your processing
return "You want to close the window?"
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T07:12:41.127

如果这些数据很重要，我什至不会尝试这样做，因为无法保证即使`unload`事件发生。该人可以关闭浏览器，拉出计算机上的 plu 等。

我会在页面上有一个保存按钮。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:50:14.913

是的，但您不知道浏览器是否会在请求离开您的计算机之前中断请求。我认为这取决于浏览器。几乎可以肯定，客户端无法处理响应。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T07:03:50.087

看看这些：

[可以使用 unload 事件可靠地触发 ajax 请求吗？](https://stackoverflow.com/questions/3584288/can-the-unload-event-be-used-to-reliably-fire-ajax-request)

[为什么我不能使用 jQuery 从卸载事件处理程序触发 AJAX 请求？](https://stackoverflow.com/questions/2274949/why-cant-i-use-jquery-to-fire-an-ajax-request-from-an-unload-event-handler)

[在卸载时通过 Ajax 运行 PHP](https://stackoverflow.com/questions/1297750/running-a-php-through-ajax-on-unload)

结论：

最好不要有异步请求。并且您必须在您的 php 中设置**ignore_user_abort()**以便在连接断开时它不会终止！

# android - Eclipse 没有使用 adt 插件创建 main.xml

> ID：11535697
> 
> 赞同：0
> 
> 时间：2012-07-18T06:46:37.043
> 
> 标签：android, eclipse, adt, main, generated

我正在使用 Windows 7，我正在尝试创建一个应用程序。我在 android 网站上遵循了我的第一个应用程序（我也在工作时在 windows xp 中完成了这个，这很好）但现在有些不对劲。当我创建我的 android 项目时，它不会生成 main.xml 文件，而是生成 activity_my_first.xml。我正确地遵循了所有说明，我重新安装了所有配置的所有插件，就像我在工作中所做的那样。我尝试按照此页面[http://developer.android.com/training/basics/firstapp/building-ui.html](http://developer.android.com/training/basics/firstapp/building-ui.html)上的说明进行操作 ，它给了我错误：错误：找不到与给定名称匹配的资源（在'标题'，值为'@string/menu_settings'）。

我很困惑，因为我在工作中遵循了相同的说明，并且该应用程序在 xp 中运行良好。我无法弄清楚这里发生了什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T07:12:33.240

最近对 ADT 的更新进行了一些更改：

1.  您使用向导添加的活动的布局 XML 文件的命名`activiy_<activityname>.xml`方式与旧的命名约定相同。

2.  **该向导还会在res/menu**文件夹中自动生成与上述名称相同的菜单布局 xml，并添加`onCreateContextMenu(..`到活动源中。

3.  最后它为上面创建的菜单 xml 添加字符串值到**values/strings.xml**，它看起来像：

> ```
> <resources>
>     <string name="app_name">MyApp</string>
>     <string name="hello_world">Hello world!</string>
>     <string name="menu_settings">Settings</string>
>     <string name="title_activity_main">MainActivity</string>
> </resources> 
> ```

看起来`menu_settings`此 XML 中缺少该值，或者在您的情况下缺少 XML 文件。

# php - UPS epl 标签显示在网页上

> ID：11535698
> 
> 赞同：0
> 
> 时间：2012-07-18T06:46:40.390
> 
> 标签：php, ups

我正在使用 ue UPS 运输 API ...

```
<LabelSpecification>
    <LabelStockSize>
        <Height>4</Height>
        <Width>6</Width>
    </LabelStockSize>
    <LabelPrintMethod>
        <Code>EPL</Code>
        <Description>epl file</Description>
    </LabelPrintMethod>
    <HTTPUserAgent>Mozilla/4.5</HTTPUserAgent>
    <LabelImageFormat>
        <Code>GIF</Code>
        <Description>gif</Description>
    </LabelImageFormat>
    </LabelSpecification> 
```

. . .

it's return raw format of image like STgsQSwwMDEKSTgsQSwwMDEKT0QKcTc5NQpRMTYwMCwyNApTMgpEMTAKSkYKTgpaVApiMTMsNDI5LE0sIjAxNSw4NDAsMTk0MDYsMDAwMCxbKT4eMDEdOTYxWjk0NjM4NzYzHVVQU04dNDRBQTE1HjA3L1RNRjItODIlKVFNKE1VQloyMDcpWEoyK0JORUlZOEorXCJcDVEgLBxZJDhEXA1cDR4EIgpBMTcsNywwLDIsMSwxLE4sIlRFU1QiCkExNywyNCwwLDIsMSwxLE4sIjExMS0xMTEtMTExMSIKQTE3LDQxLDAsMiwxLDEsTiwiMTE1MCBGSVJTVCBBVkUiCkExNyw1OCwwLDIsMSwxLE4sIktJTkcgT0YgUFJVU1NJQSAgUEEgMTk0MDYiCkE2MiwxNjQAAAAP/////....

我想知道如何将图像保存到我的电脑并在网页上显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T01:56:19.007

我在 php 中成功了，使用 fopen 和 fwrite 创建一个 gif 文件，例如

```
$file=fopen("temp.gif","w");
fwrite($file,base64_decode("the encoded string...")); 
```

这将得到一个 gif 文件，然后你可以把它放到 web 上。请记住用 apache:apache 将 gif 文件保存到的文件夹中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:58:17.770

不熟悉 UPS API，但 USPS 返回标签数据 base64 编码。也许尝试使用函数 base64_decode 然后 file_put_contents 保存到磁盘。

# android - 如何高效地将 YUV 转换为 RGB

> ID：11535705
> 
> 赞同：2
> 
> 时间：2012-07-18T06:47:14.110
> 
> 标签：android, camera, java-native-interface, rgb, yuv

``我想在相机的预览中使用RGB。我使用JNI进行YUV到RGB的转换。我更改了RGB中的数据，然后我使用drawBitmap在预览中显示RGB。但是它显示很慢，我怎么能改进它

```
 public void onPreviewFrame(final byte[] data, Camera camera) {

    Thread showPic = new Thread(new Runnable() {

        @Override
        public void run() {
            // TODO Auto-generated method stub
            Canvas c = mHolder.lockCanvas(null);
            try {

                synchronized (mHolder) {

                    // TODO Auto-generated method stub
                    int imageWidth = mCamera.getParameters()
                            .getPreviewSize().width;
                    int imageHeight = mCamera.getParameters()
                            .getPreviewSize().height;
                    int RGBData[] = new int[imageWidth * imageHeight];
                    int RGBDataa[] = new int[imageWidth * imageHeight];
                    int RGBDatab[] = new int[imageWidth * imageHeight];
                    int center = imageWidth * imageHeight / 2;

                    Jni.decodeYUV420SP(RGBData, data, imageWidth,
                            imageHeight); // decode
                    for (int i = 0; i < center; i++)
                        RGBDataa[i] = RGBData[i];
                    for (int i = center; i < imageWidth * imageHeight; i++)
                        RGBDatab[i - center] = RGBData[i];
                    for (int i = 0; i < center; i++)
                        RGBData[i] = RGBDatab[i];
                    for (int i = center; i < imageWidth * imageHeight; i++)
                        RGBData[i] = RGBDataa[i - center];

                    c.drawBitmap(RGBData, 0, imageWidth, 0, 0, imageWidth,
                            imageHeight, false, new Paint());

                    // Bitmap bm = Bitmap.createBitmap(RGBData, imageWidth,
                    // imageHeight, Config.ARGB_8888);

                }

            } finally {
                if (data != null)
                    mHolder.unlockCanvasAndPost(c);
            }
        }
    });
    showPic.run();

} 
```

以下代码是Jni

```
 public class Jni {
public native static void decodeYUV420SP(int[] rgb, byte[] yuv420sp, int width,
        int height); 
```

方法decodeYUV420SP由C完成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-02-07T12:57:47.263

我遇到了这个寻找 YUV420sp 到 RGB565 转换的线程。按照上面的建议使用 decodeYUV420SP 可以正常工作，但我想添加一些运行时注意事项。

我在 Java 中使用 decodeYUV420SP 进行的第一次测试**需要 74 秒**解码和转换一个 10 秒的 .mp4 全高清视频（使用 Nexus 6 Android 设备）。分析器报告 96% 的整个过程都花在了 decodeYUV420SP 上。

**将 decodeYUV420SP 移动到 JNI / C 使得总时间减少到 32 秒。开启GCC代码优化，降到12秒。**

尽管 OP 已经建议了这一点，但我想强调将例程移至 Java 不会是一种改进。虽然 Java 和 C 之间的上下文更改是有代价的，但这是一个很好的例子，在本机函数中执行的昂贵操作很容易补偿这种开销。间接费用声明对于非常简单的 JNI 函数有效，并且在需要来回查找方法和字段的情况下有效。这一切都不适用于这里。

为了提高 OP 代码的性能：摆脱为每个帧完成的内存分配并将其全局存储，摆脱 RGBData* 上的算法并将这些东西也移动到 JNI。可以使用*关键*函数在 JNI 级别上免费访问数组。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-09-26T09:49:06.283

不建议使用 jni，因为编译器将 java 代码转换为 C++ 的速度很慢。我认为你应该使用这样的直接方法

```
public void decodeYUV420SP(int[] rgb, byte[] yuv420sp, int width, int height) {
    final int frameSize = width * height;

    for (int j = 0, yp = 0; j < height; j++) {
        int uvp = frameSize + (j >> 1) * width, u = 0, v = 0;
        for (int i = 0; i < width; i++, yp++) {
            int y = (0xff & ((int) yuv420sp[yp])) - 16;
            if (y < 0) y = 0;
            if ((i & 1) == 0) {
                v = (0xff & yuv420sp[uvp++]) - 128;
                u = (0xff & yuv420sp[uvp++]) - 128;
            }

            int y1192 = 1192 * y;
            int r = (y1192 + 1634 * v);
            int g = (y1192 - 833 * v - 400 * u);
            int b = (y1192 + 2066 * u);

            if (r < 0) r = 0; else if (r > 262143) r = 262143;
            if (g < 0) g = 0; else if (g > 262143) g = 262143;
            if (b < 0) b = 0; else if (b > 262143) b = 262143;

            rgb[yp] = 0xff000000 | ((r << 6) & 0xff0000) | ((g >> 2) & 0xff00) | ((b >> 10) & 0xff);
        }
    }
} 
```

或者简单地使用这个

```
Camera.Parameters.setPreviewFormat(ImageFormat.RGB_565); 
```

直接将格式输出更改为 rgb

# r - R应用错误 - as.matrix.data.frame() 中的错误

> ID：11535706
> 
> 赞同：1
> 
> 时间：2012-07-18T06:47:14.907
> 
> 标签：r, apply

我遇到了一个令人费解的错误。我正在使用以下函数删除在任何列中包含 NA 观察的数据帧的行

```
##### removes NA'd rows from a dataFrame
wipeNArows<-function(X){
  rowsToDelete<-unique(unlist(apply(apply(X,2,is.na),2,which)))
  if (length(rowsToDelete)>0){
    return (X[-rowsToDelete,])
  }
  else{
    return (X)
  }
} 
```

这个函数可以正常工作，例如一个可重现的例子是：

```
testFrame<-data.frame(x=rpois(20,10),y=rpois(20,10),z=rpois(20,10))
rowsToDelete<-sample(1:nrow(testFrame),5,FALSE)
testFrame$x[rowsToDelete]<-NA
testFrame
wipeNArows(testFrame) ### removes the rows where NA is encountered 
```

现在我有一个包含大约 2993 行的数据框。当我通过函数传递这个数据框时，我面临以下错误：

```
Error in apply(apply(X, 2, is.na), 2, which) : 
error in evaluating the argument 'X' in selecting a method for function 'apply': Error in as.matrix.data.frame(X) : 
dims [product 14965] do not match the length of object [14974] 
```

感谢您的回复，

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-18T06:50:29.747

对我来说很好，但为什么不使用`?complete.cases`

```
testFrame[complete.cases(testFrame),]
    x  y  z
2  10  8 13
3  11 16 18
4  11  7  7
6   8  8 14
7   9 11 11
8  12 11  5
9  10  7  4
10  7 12  9
11 10 13 11
12  9 12 10
13 10  5  8
14 13  5  8
15 11  5  5
18 13 14  7
19  2 13  8

identical(testFrame[complete.cases(testFrame),], wipeNArows(testFrame))
[1] TRUE 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-18T08:03:56.570

解决您的问题的另一种方法是`na.omit`

```
na.omit(testFrame)

    x  y  z
2   7 11 11
3  12 10 10
4  13 10  9
6  11 10 12
7  13 14  8
8   7  9  7
9   8 11 12
10  5 10  7
11  5 15  9
12  7 13  9
15 15  8  9
16 13  7 15
17  5 10 12
18  9  8  6
20 18  7  6 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-18T07:02:59.063

嗯，感谢您的回复，不知道 complete.cases 功能。但这给出了另一个错误

```
 Error in complete.cases(dFrame) : not all arguments have the same length 
```

[chisq.test 错误消息](https://stackoverflow.com/questions/4740244/chisq-test-error-message)--> 似乎以某种方式解决了这个问题。

有问题的数据框的问题在于它包含一个带有日期的 POSIXlt 对象列。显然 complete.cases 和 apply 内部工作并没有很好地处理这个问题。解决方法是使用 strftime 转换为字符，然后使用 strptime 返回。

谢谢，

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-05-01T11:02:46.167

一般情况下，如果您的数据中没有 na，​​那么正如 Aditya Sihag 所建议的那样，问题可能是您的 data.frame 列的数据类型之一可能是对象列表，例如列表或 POSIXlt 对象。您可以投射它们，也可以仅在列上使用 lapply。但在应用 lapply 之前再次确保您的列数据类型不是列表或 POSIXlt，如果是，则只需转换它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-18T06:54:47.633

没有问题数据，我只能建议一个不同的功能

```
wipe_na_rows <- function(X){
  X[!apply(X, 1, function(x) any(is.na(x))),]
} 
```

# c# - 如何分配 Excel VSTO 安装的装配位置？

> ID：11535707
> 
> 赞同：7
> 
> 时间：2012-07-18T06:47:14.483
> 
> 标签：c#, installation, vsto

我正在创建一个用 C# 编写的文档级工作簿/模板，并使用 VSTO 安装程序来部署代码。安装项目后，我拥有电子表格的全部功能，但是，当我将安装的工作表保存或复制到安装文件夹之外的另一个路径时，我收到以下错误：

![哦哦！](../Images/ef38035c3d34ac8195c29488644dec37.png)

包含以下完整详细信息：

```
Name: 
From: file:///C:/Users/Kronos/Desktop/ExcelTemplate1.vsto

************** Exception Text **************
System.Deployment.Application.DeploymentDownloadException: Downloading file:///C:/Users/Kronos/Desktop/ExcelTemplate1.vsto did not succeed. ---> System.Net.WebException: Could not find file 'C:\Users\Kronos\Desktop\ExcelTemplate1.vsto'. ---> System.Net.WebException: Could not find file 'C:\Users\Kronos\Desktop\ExcelTemplate1.vsto'. ---> System.IO.FileNotFoundException: Could not find file 'C:\Users\Kronos\Desktop\ExcelTemplate1.vsto'.
   at System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)
   at System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, String msgPath, Boolean bFromProxy)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, Boolean useAsync)
   at System.Net.FileWebStream..ctor(FileWebRequest request, String path, FileMode mode, FileAccess access, FileShare sharing, Int32 length, Boolean async)
   at System.Net.FileWebResponse..ctor(FileWebRequest request, Uri uri, FileAccess access, Boolean asyncHint)
   --- End of inner exception stack trace ---
   at System.Net.FileWebResponse..ctor(FileWebRequest request, Uri uri, FileAccess access, Boolean asyncHint)
   at System.Net.FileWebRequest.GetResponseCallback(Object state)
   --- End of inner exception stack trace ---
   at System.Net.FileWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.FileWebRequest.GetResponse()
   at System.Deployment.Application.SystemNetDownloader.DownloadSingleFile(DownloadQueueItem next)
   --- End of inner exception stack trace ---
   at Microsoft.VisualStudio.Tools.Applications.Deployment.ClickOnceAddInDeploymentManager.GetManifests(TimeSpan timeout)
   at Microsoft.VisualStudio.Tools.Applications.Deployment.ClickOnceAddInDeploymentManager.InstallAddIn() 
```

我意识到这是由于Excel 电子表格不再驻留在安装路径中，因此没有正确引用to`.VSTO`和`.manifest`&文件。`.DLL`在做[了一些研究](https://chat.stackexchange.com/rooms/116/conversation/kronos-koders-kodes-of-horror)之后，我可以通过更改文件中复制/保存的 Excels`custom.xml`文件来手动解决这个`.xlsx`问题：

```
name="_AssemblyLocation"><vt:lpwstr>ExcelTemplate1.vsto|ca022788-e7c0-41d8-b8ae-2c0ba9edbbf8|vstolocal 
```

对此：

```
name="_AssemblyLocation"><vt:lpwstr>file://c:/<path to install dir>/ExcelTemplate1.vsto|ca022788-e7c0-41d8-b8ae-2c0ba9edbbf8|vstolocal 
```

由于这对我的客户来说不是一个可行的解决方案，我如何使用 C# 代码或（更优选）安装程序进行上述更改？

*注意：我尝试创建自定义安装操作（[根据此 MSDN 教程](http://msdn.microsoft.com/en-us/library/ff937654.aspx)），其中设置了以下内容`CustomActionData`：*

```
/assemblyLocation="[TARGETDIR]ExcelWorkbookProject.dll"/deploymentManifestLocation="[TARGETDIR]ExcelWorkbookProject.vsto"/documentLocation="[TARGETDIR]ExcelWorkbookProject.xlsx" 
```

*无济于事。*

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-18T21:50:46.843

您需要按照您引用的[MSDN 文章中概述的说明进行操作，再多一点。](http://msdn.microsoft.com/en-us/library/ff937654.aspx)但是，这有点令人困惑，并且文章中有错误。希望这将有助于澄清：

## 您需要定义类似于文章提供的用户脚本

在文章中，您可以[下载](http://archive.msdn.microsoft.com/VSTO2010MSI/Release/ProjectReleases.aspx?ReleaseId=4539)一个包含项目示例的文件。从那里你可以参考你`Custom Actions`对那个cs项目的输出。创建一个作为 CS 类库的新项目，复制以下特定于解决您的问题的用户脚本：

```
using System;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration.Install;
using System.Linq;
using Microsoft.VisualStudio.Tools.Applications;
using Microsoft.VisualStudio.Tools.Applications.Runtime;
using System.IO;
using System.Windows.Forms;

namespace AddCustomizationCustomAction
{
    [RunInstaller(true)]
    public partial class AddCustomization : System.Configuration.Install.Installer
    {
        //Note: you'll have to get the Guid from your specific project in order for it to work.  The MSDN article show you how.
        static readonly Guid SolutionID = new Guid("20cb4d1d-3d14-43c9-93a8-7ebf98f50da5");

        public override void Install(IDictionary stateSaver)
        {
            string[] nonpublicCachedDataMembers = null;

            // Use the following for debugging during the install
            //string parameters = "Parameters in Context.Paramters:";
            //foreach (DictionaryEntry parameter in Context.Parameters)
            //{
            //    parameters = parameters + "\n" + parameter.Key + ":" + parameter.Value;
            //}

            //MessageBox.Show(parameters);

            //MessageBox.Show("total items in parameters: " + Context.Parameters.Count);
            //MessageBox.Show("Document Manifest Location:" + Context.Parameters["deploymentManifestLocation"]);

            Uri deploymentManifestLocation = null;
            if (Uri.TryCreate(
                Context.Parameters["deploymentManifestLocation"],
                UriKind.RelativeOrAbsolute,
                out deploymentManifestLocation) == false)
            {
                throw new InstallException(
                    "The location of the deployment manifest " +
                    "is missing or invalid.");
            }
            string documentLocation =
                Context.Parameters["documentLocation"];
            if (String.IsNullOrEmpty(documentLocation))
            {
                throw new InstallException(
                    "The location of the document is missing.");
            }
            string assemblyLocation =
                Context.Parameters["assemblyLocation"];
            if (String.IsNullOrEmpty(assemblyLocation))
            {
                throw new InstallException(
                    "The location of the assembly is missing.");
            }

            // use the following for debugging
            MessageBox.Show(documentLocation);

            if (ServerDocument.IsCustomized(documentLocation))
            {
                ServerDocument.RemoveCustomization(documentLocation);
            }
            ServerDocument.AddCustomization(
                documentLocation,
                assemblyLocation,
                SolutionID,
                deploymentManifestLocation,
                false,
                out nonpublicCachedDataMembers);
            stateSaver.Add("documentlocation", documentLocation);
            base.Install(stateSaver);
        }

        public override void Commit(IDictionary savedState)
        {
            base.Commit(savedState);
        }

        public override void Rollback(IDictionary savedState)
        {
            base.Rollback(savedState);
        }

        public override void Uninstall(IDictionary savedState)
        {
            base.Uninstall(savedState);
        }

    }
} 
```

这会覆盖安装程序的安装过程。调用其余`base.Install(stateSaver)`代码以正常继续安装。

## MSDN文章中的错误：

文章说使用以下`CustomActionData`安装自定义操作：

```
/assemblyLocation="[TARGETDIR]<YourProjectName>.dll"/deploymentManifestLocation="[TARGETDIR]<YourProjectName>.vsto"/documentLocation="[TARGETDIR]<YourProjectName>.xltx" 
```

但是应该是这样的（注意参数之间的空格）：

```
/assemblyLocation="[TARGETDIR]<YourProjectName>.dll" /deploymentManifestLocation="[TARGETDIR]<YourProjectName>.vsto" /documentLocation="[TARGETDIR]<YourProejctName>.xltx" 
```

这应该可以解决您的问题，但是请确保在重新构建安装程序之前将您的 Excel 项目的任何更改重新构建为发布版本，因为它指向的是发布版本而不是调试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-02-21T23:12:31.457

虽然 James Mertz 的回答是正确的，但它也有点过时（尽管它只是在拔掉我的头发一天后救了我）。对于较新版本的 Visual Studio，应用程序构建的这一部分的说明已移至[此处](https://docs.microsoft.com/en-us/visualstudio/vsto/deploying-an-office-solution-by-using-windows-installer?view=vs-2017)。我建议你去阅读它们，或者你可以阅读下面我的悬崖笔记版本：

应在现有解决方案中作为新项目构建的新控制台应用程序。`Program.cs`应该看起来像：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using Microsoft.VisualStudio.Tools.Applications.Runtime;
using Microsoft.VisualStudio.Tools.Applications;

namespace SetExcelDocumentProperties
{
    class Program
    {
        static void Main(string[] args)
        {
            string assemblyLocation = "";
            Guid solutionID = new Guid();
            Uri deploymentManifestLocation = null;
            string documentLocation = "";
            string[] nonpublicCachedDataMembers = null;

            for (int i = 0; i <= args.Count() - 1; i++)
            {
                Console.WriteLine(args[i]);
                string[] oArugment = args[i].Split('=');

                switch (oArugment[0])
                {
                    case "/assemblyLocation":
                        assemblyLocation = oArugment[1];
                        break;
                    case "/deploymentManifestLocation":
                        if (!Uri.TryCreate(oArugment[1], UriKind.Absolute, out deploymentManifestLocation))
                        {
                            Console.WriteLine("Error creating URI");
                        }
                        break;
                    case "/documentLocation":
                        documentLocation = oArugment[1];
                        break;
                    case "/solutionID":
                        solutionID = Guid.Parse(oArugment[1]);
                        break;
                }
            }
            try
            {
                ServerDocument.RemoveCustomization(documentLocation);
                ServerDocument.AddCustomization(documentLocation, assemblyLocation,
                                            solutionID, deploymentManifestLocation,
                                            true, out nonpublicCachedDataMembers);

            }
            catch (System.IO.FileNotFoundException)
            {
                Console.WriteLine("The specified document does not exist.");
            }
            catch (System.IO.IOException)
            {
                Console.WriteLine("The specified document is read-only.");
            }
            catch (InvalidOperationException ex)
            {
                Console.WriteLine("The customization could not be removed.\n" +
                    ex.Message);
            }
            catch (DocumentNotCustomizedException ex)
            {
                Console.WriteLine("The document could not be customized.\n" +
                    ex.Message);
            }
        }
    }
} 
```

无需更改任何内容，因为我们将从 InstallShield Setup 向其传递参数。

这需要新项目中的两个引用：

*   Microsoft.VisualStudio.Tools.Applications.Runtime
*   Microsoft.VisualStudio.Tools.Applications.ServerDocument

现在在安装完成后调用这个新应用程序并将其传递参数（***也在该指令链接中***）：将该新项目的主要输出添加到您的 Install Shield“应用程序文件”

然后转到Install Shield 中的*“自定义操作”*，然后双击“安装*期间的自定义操作”*部分中的“*安装完成成功后对话框”*。安装完成后，您可以在此处运行 vbscript、jscript 或可执行文件。在这里，我们将运行我们的新控制台应用程序可执行文件并传递它的参数。

 *在您的新*自定义操作*中，在*Source Location*属性的列表中，选择*“Installed with the Product”*并浏览到您的新项目*主输出*文件，您的 VSTO 应用程序将安装在目标上。

现在在*“命令行”*属性框中，放置控制台应用程序运行所需的参数列表：

```
/assemblyLocation="[INSTALLDIR]ExcelWorkbook.dll" /deploymentManifestLocation="[INSTALLDIR]ExcelWorkbook.vsto" /documentLocation="[INSTALLDIR]ExcelWorkbook.xlsx" /solutionID="Your Solution ID" 
```

**必须为您的 dll、vsto、工作簿和解决方案 id 更改这些内容**。解决方案 ID 可以在您的`.csproj`文件中找到（在文件资源管理器中找到它并在记事本中打开它）。

现在你是金子了。当您的应用程序安装成功时，此控制台应用程序将启动，它将`manifestLocation`您的工作簿更改为安装路径，而不是当前工作簿的相对路径。

如果安装的人在他们的计算机上没有管理员权限并且您正在安装到 Program Files 目录中，您可能会发现在执行此步骤之前他们能够安装和运行，但之后他们不能。这是因为工作簿在该位置是只读的。在这种情况下，您必须选择另一个位置来安装您的应用程序（AppDataLocal 是一个不错的选择）。*

# eclipse - 无法检查 Eclipse rcp 类加载器中的注释

> ID：11535712
> 
> 赞同：0
> 
> 时间：2012-07-18T06:47:28.903
> 
> 标签：eclipse, annotations, rcp

我有以下代码。它适用于加载我指出的类 TestSuiteSample。TestSuiteSample 只是一个带有注释的标准 JUnit4 测试套件。作为正常的 java 项目运行，这将打印“true”，但在 eclipse rcp 下运行，这将打印“false”。任何想法为什么？

```
File testSuiteDir = new File("D:/TestDir/");
URL classUrl; 
classUrl = testSuiteDir.toURI().toURL(); 
URL[] classUrls = { classUrl }; 
URLClassLoader ucl = new URLClassLoader(classUrls); 
Class<?> cls = ucl.loadClass("TestSuiteSample"); 

if (cls.isAnnotationPresent(SuiteClasses.class)) { 
     System.out.println("true"); 
} else {
     System.out.println("false"); 
```

}

我试过这个来检查 cls 中的注释，但仍然返回 0 个注释。

```
Annotation[] annotations = new TestClass(clazz).getAnnotations();
for (Annotation annotation : annotations) {
    System.out.println(annotation.annotationType().getName());
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:28:43.157

问题是`SuiteClasses`该类来自一个不相关的`ClassLoader`而不是来自`URLClassLoader`您用来加载您正在测试的类的类。`URLClassLoader`如果您创建包或线程上下文的父级，`ClassLoader`那么它应该解析为同一个类。

# php - 我需要将文件 composer.json 放在哪里，以便 composer 与 Symfony 一起工作

> ID：11535713
> 
> 赞同：10
> 
> 时间：2012-07-18T06:47:31.567
> 
> 标签：php, symfony, composer-php

我已经从[这个链接](http://getcomposer.org/doc/00-intro.md)安装了作曲家，但我仍然找不到我需要在哪里放置`composer.json`文件。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-18T06:52:21.463

在项目的根目录中。因为你提到了symfony，所以看看`composer.json`symfony-standard edition

[https://github.com/symfony/symfony-standard/](https://github.com/symfony/symfony-standard/)

甚至更好：遵循[官方说明](http://symfony.com/doc/current/book/installation.html)并直接使用 symfony-standard 作为项目的起点。

> 首先访问[http://symfony.com/download](http://symfony.com/download)的 Symfony2 下载页面。在这个页面上，你会看到 Symfony 标准版，它是 Symfony2 的主要发行版。

您可以[直接从 github 分叉它](https://github.com/symfony/symfony-standard/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-05T07:39:46.047

您可能需要创建一个名为“composer.json”的文件，请参阅此文档“ [https://getcomposer.org/doc/00-intro.md#declaring-dependencies](https://getcomposer.org/doc/00-intro.md#declaring-dependencies) ”

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-04-11T08:13:15.230

我刚刚发现您可以使用的其他主题：

```
php composer.phar --working-dir=/home/user/folder/ update 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-12-22T13:58:09.117

您可以在您希望在其中创建它的目录中使用 composer init 命令创建一个 composer.json 文件

```
composer init 
```

或者

路径/到/composer.phar 初始化

# java - 无法与 Magento 商店建立联系

> ID：11535714
> 
> 赞同：3
> 
> 时间：2012-07-18T06:47:36.123
> 
> 标签：java, android, soap, wsdl2java, magento

在这里发布之前，我已经检查了许多替代方案。
我不明白为什么我会收到这个错误，比如..请`UnKnownHost Exception`有人指导我找到解决方案。

**MyCalling 类**

```
public class AndroidLoginExampleActivity extends Activity 
{
    private static final String SOAP_ACTION ="urn:Mage_Api_Model_Server_HandlerAction";
    private static final String NAMESPACE = "urn:Magento";
    private  static final String Method_Name="login";
    private static final String URL ="http://cws24/machinetest/api/?wsdl";

    TextView tv;
    Context mContext;
    /** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    tv=(TextView)findViewById(R.id.tv_status);

    SoapObject request = new SoapObject(NAMESPACE,Method_Name);
    request.addProperty("username", "android");
    request.addProperty("apiKey", "android");

    SoapSerializationEnvelope envelopes = new SoapSerializationEnvelope(
    SoapEnvelope.VER11);
    envelopes.dotNet = false;
    envelopes.setOutputSoapObject(request);
    mContext=AndroidLoginExampleActivity.this;
    try 
    {
        AndroidHttpTransport androidHttpTransport = new AndroidHttpTransport(URL);
        androidHttpTransport.debug =true;
        androidHttpTransport.call(SOAP_ACTION, envelopes);//Getting the Exception here
        SoapPrimitive resultString=(SoapPrimitive)envelopes.getResponse();
        tv.setText("Status "+resultString);
        new AlertDialog.Builder(mContext).setMessage(""+resultString).show();
    } 
    catch (Exception e) {e.printStackTrace();
    new AlertDialog.Builder(mContext).setMessage(""+e.toString()).show();
    }   
}
} 
```

**日志输出::**

```
07-17 02:20:43.376: WARN/System.err(25212): java.net.UnknownHostException: Host is unresolved: cws24:80
07-17 02:20:43.416: WARN/System.err(25212):     at java.net.Socket.connect(Socket.java:1037)
07-17 02:20:43.466: WARN/System.err(25212):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpConnection.<init>(HttpConnection.java:62)
07-17 02:20:43.486: WARN/System.err(25212):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpConnectionManager$ConnectionPool.getHttpConnection(HttpConnectionManager.java:145)
07-17 02:20:43.496: WARN/System.err(25212):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpConnectionManager.getConnection(HttpConnectionManager.java:67)
07-17 02:20:43.496: WARN/System.err(25212):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnection.getHTTPConnection(HttpURLConnection.java:821)
07-17 02:20:43.496: WARN/System.err(25212):     at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:807)
07-17 02:20:43.496: WARN/System.err(25212):     at org.ksoap2.transport.ServiceConnectionSE.connect(ServiceConnectionSE.java:46)
07-17 02:20:43.506: WARN/System.err(25212):     at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:68)
07-17 02:20:43.506: WARN/System.err(25212):     at com.magento.example.AndroidLoginExampleActivity.onCreate(AndroidLoginExampleActivity.java:44)
07-17 02:20:43.506: WARN/System.err(25212):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
07-17 02:20:43.506: WARN/System.err(25212):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)
07-17 02:20:43.516: WARN/System.err(25212):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2512)
07-17 02:20:43.516: WARN/System.err(25212):     at android.app.ActivityThread.access$2200(ActivityThread.java:119)
07-17 02:20:43.516: WARN/System.err(25212):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1863)
07-17 02:20:43.546: WARN/System.err(25212):     at android.os.Handler.dispatchMessage(Handler.java:99)
07-17 02:20:43.546: WARN/System.err(25212):     at android.os.Looper.loop(Looper.java:123)
07-17 02:20:43.556: WARN/System.err(25212):     at android.app.ActivityThread.main(ActivityThread.java:4363)
07-17 02:20:43.556: WARN/System.err(25212):     at java.lang.reflect.Method.invokeNative(Native Method)
07-17 02:20:43.567: WARN/System.err(25212):     at java.lang.reflect.Method.invoke(Method.java:521)
07-17 02:20:43.567: WARN/System.err(25212):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
07-17 02:20:43.576: WARN/System.err(25212):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
07-17 02:20:43.576: WARN/System.err(25212):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T10:43:21.837

从**SOAP API**转向使用**XMLRPC API**解决了我的问题。 下面是我使用 **XMLRPC的代码**

 ****你必须去`DownLoad`图书馆`XMLRPC`。

[**单击此处下载适用于 Android 的 XMLRPC 库**](http://code.google.com/p/android-xmlrpc/downloads/list)

```
package org.xmlrpc;

import org.xmlrpc.android.XMLRPCClient;
import org.xmlrpc.android.XMLRPCException;

import android.app.Activity;
import android.app.ProgressDialog;
import android.content.Context;
import android.content.Intent;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Toast;

public class Test extends Activity {

    String sessionId ="";
    ProgressDialog pd;
    Context mContext;
    EditText username,apikey;
    Button login;

   @Override
   public void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.main);
       mContext=Test.this;

       username=(EditText)findViewById(R.id.username);
       apikey=(EditText)findViewById(R.id.apikey);
       login=(Button)findViewById(R.id.login);
   }
   public void checkUser(View v) 
   {
       if(username.getText().toString().equals("") || apikey.getText().toString().equals(""))
       {
           if(username.getText().toString().equals(""))
           {
               username.requestFocus();
           }
           else
           {
               apikey.requestFocus();
           }
           Toast.makeText(mContext, "Please fill this empty field", Toast.LENGTH_LONG).show();
        }
       else
       {
           new DownloadWebPageTask().execute();   
       }
    }

   private class DownloadWebPageTask extends AsyncTask<Void, Integer, Void> {
       @Override
          protected void onPreExecute() 
          {
                pd=ProgressDialog.show(mContext, "", "Please Wait...\nLoading data...", false);
          }
          @Override
          protected void onPostExecute(Void v) 
          {
              if(pd.isShowing())
                    {
                       pd.dismiss();
                    }
            if(sessionId.equals(""))
            {
                Toast.makeText(mContext, "in Correct Details..Please try again", 
                        Toast.LENGTH_LONG).show();
            }
            else
            {
                Utils.sessionId=sessionId;
                startActivity(new Intent(mContext,Dashboard.class));
                finish();   
            }

          }

       @Override
       protected Void doInBackground(Void... arg0) 
       {
           XMLRPCClient client = new XMLRPCClient( "http://192.168.1.237/machinetest/index.php/api/xmlrpc");
           try 
           {
                   sessionId = (String)client.call( "login", username.getText().toString(),
                           apikey.getText().toString());
                   Log.d( "MY_XMLRPC_SUCCESS_SESSION_ID", sessionId);
           }
           catch (XMLRPCException e) 
           {
               Log.d( "APP_INFO ",  "Exception:  " + e.getMessage());
               Log.e( "APP_INFO ",  "Exception:  " + e.toString());
           }     
           return null;
       }
   }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:46:02.090

您应该检查 URL 是否正确。****

# php - 如果 object_id 相同，如何通过 MySql 和 Php 获取结果

> ID：11535721
> 
> 赞同：0
> 
> 时间：2012-07-18T06:48:07.150
> 
> 标签：php, mysql, select

插入 3 个表中的值

**表 1：wp_terms**

![在此处输入图像描述](../Images/6ab7ca4c9aca0f72160ed0ff4450d9dd.png)

**表 2：wp_term_taxonomy**

![在此处输入图像描述](../Images/a283d4627609f4d8c5a26039ef075ca3.png)

**表 3：wp_term_relationships**

![在此处输入图像描述](../Images/8ab12c38be20285ddbf02a58dbc6ece8.png)

我需要这样的输出（我想根据类别获取所有品牌和设计师）

![在此处输入图像描述](../Images/658cadfe27472a3b40725e0832ce3a8c.png)

我试过这个

```
$sql="select term_taxonomy_id from wp_term_taxonomy where term_id=177";
mysql_query($sql); 
```

我得到了输出 251

但我被困在**Table3: wp_term_relationships** on how to fetch data where `object_id`are similar: 550, 540(for category, band, design)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:59:04.863

我猜查询 shd 看起来像这样：

```
SELECT m.name, t.taxanomy, t.description from wp_term_relationships r
INNER JOIN  wp_term_taxonomy t on r.term_taxonomy_id = t.term_taxonomy_id
INNER JOIN wp_terms m on m.term_id=t.term_id  
WHERE (r.object_id=550 or  r.object_id=540) and t.term_id=177 
```

# mysql - jsp中两个下拉列表之间的链接

> ID：11535723
> 
> 赞同：-5
> 
> 时间：2012-07-18T06:48:15.943
> 
> 标签：mysql, hibernate, jsp, struts2

我的 jsp 1-CLASS 2-SECTION 中的 2 个下拉列表有问题。两者都应该来自数据库，如果我在类下拉列表中选择一个类，则相应的部分值来自数据库。请通过在 jsp 中提供代码来提供帮助。我正在使用 mysql 数据库示例：

类部分

类 1 sec1_1 类 1 sec1_2 类 2 sec2_1

1.  假设在***类下拉列表***中选择了值“class1”
2.  然后***部分下拉列表*** 从数据库中获取“sec1_1”、“sec1_2”值

    *   我在第 2 步遇到问题，请在不使用 jquery 和 ajax 的情况下给我代码

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T16:54:48.250

我的页面.jsp

```
<s:select name="classId" id="class_select" value="classId" list="yourClassList" onchange="classChanged(this.value)"/>
<s:select id="sec_select" list="yourSecList"/> 
```

**Javascript**

```
function classChanged(value){
  var url="getSectionsOfClass?classId="+value;
  window.location=url;
} 
```

struts.xml

```
<action name="getSectionsOfClass" class="com.xx.action.GetSectionOfClass">
  <result name="success">MyPage.jsp</result>
</action> 
```

在`GetSectionOfClass`declare`classId`和（使用 getter/setter）中，`yourClassList`并`yourSecList`使用您的业务逻辑填充列表。`yourClassList`将包含所有类，而`yourSecList`将包含基于`classId`.

# ios - 仅具有 LandscapeRight 的 UINavigation

> ID：11535730
> 
> 赞同：0
> 
> 时间：2012-07-18T06:48:44.000
> 
> 标签：ios, uinavigationcontroller, uiinterfaceorientation

我的应用程序仅支持横向权利。

如果我以横向方式启动应用程序并持有 iPhone，则所有连续视图都以横向模式呈现。而且它们不会自动旋转到任何方向，因为我的应用程序禁止在所有视图控制器中使用以下代码

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation == UIInterfaceOrientationLandscapeRight);
} 
```

但是，如果我在 iPhone 以纵向模式启动应用程序时，我的视图会以纵向模式显示和推送：o（我的视图控制器根本不支持纵向模式）

我的应用程序的第一个视图呈现为 UINavigationController 上的 ModalView，然后将其关闭并将新的 HomeController 推送到堆栈上。

如何重新构建我的应用程序以便导航控制器正确推送视图？

这是我的`didFinishLaunchingWithOptions`方法的一些代码

```
_splashController = [[SplashController alloc] initWithNibName:kViewForSplash bundle:nil];

_navC = [[UINavigationController alloc] init];
_splashController.navC = _navC;
_navC.navigationBarHidden = YES;
[application setStatusBarHidden:YES];

[self.window addSubview:_navC.view];
[_navC presentModalViewController:_splashController animated:YES]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:36:38.870

尝试在 Info.plist 中设置属性`Initial interface orientation`和`Supported interface orientations``Landscape (right)`

无论您如何握住它，这都会强制应用程序以横向方式启动

# asp.net - 我想将我的 2 个下拉列表的值传递给查询字符串并将它们传递给不同的形式

> ID：11535734
> 
> 赞同：0
> 
> 时间：2012-07-18T06:49:04.000
> 
> 标签：asp.net

我有一个表单 default.aspx，其中我有 2 个下拉列表。我还有两个表格，daily.aspx 和monthly.aspx。我想将两个下拉列表的选定值保存在两个表格的表格中。每个表格都有自己的表格。我使用 3 层架构。我主要想通过查询字符串来实现。

有什么建议么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:51:35.357

将值传递为

```
Passing Parameters:
Response.Redirect("yourpagename.aspx?key="+DropDown1.Text);

On Receiving page
Getting Parameters:
string key  = Request.QuerString["key"];
  // OR
string key = Request.QueryString.Get("key"); 
```

# c# - C# Selenium webdriver mouseOver。如何冻结出现的对象

> ID：11535741
> 
> 赞同：0
> 
> 时间：2012-07-18T06:49:31.790
> 
> 标签：c#, selenium, webdriver, mouseover

是否可以在 mouseOver 后冻结出现的对象？

例如，我有一个对象。当我将鼠标指向它时，它会出现一个很大的工具提示，其中包含我需要检查的大量信息。

问题是当我使用这样的构造时：

动作生成器 = 新动作（驱动程序）；动作 hoverOverRegistrar = builder.moveToElement(menuRegistrar); hoverOverRegistrar.perform();

工具提示出现片刻，然后隐藏。如何冻结它几秒钟？

System.Threading.Thread.Sleep(100000); - 不工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:26:46.327

在您移动到该特定元素后，工具提示正在消失，可能是因为鼠标在此之后移动或者 javascript 是这样编写的。

对你有帮助`moveToElement(element).clickAndHold();`吗？

也许在移动到元素然后单击并按住可能会避免隐藏工具提示。

# asp.net-mvc - 在 MVC 控制器中访问 HTML 表单数据

> ID：11535742
> 
> 赞同：1
> 
> 时间：2012-07-18T06:49:30.920
> 
> 标签：asp.net-mvc, asp.net-mvc-3, forms, razor

我有这个问题。我需要在控制器方法期间通过语句访问用户输入的数据。

这是我的代码，也许这会让它更清楚：

```
// client side
@using (Html.BeginForm())
{
    if (competitorList.Count > 0 && eventList.Count > 0)
    {
        foreach (Event evt in eventList)
        {
            <table>
            <tr><th>@evt.activity.Name</th></tr>
            <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Score</th>
            <th>New Score</th>
            <th>Update</th>
            </tr>
            @foreach (Results res in resultList)
            {
                if (res.EventID == evt.id)
                {
                    string competitorName = Person.getUserByEmail(res.CompetitorEmail).FirstName + Person.getUserByEmail(res.CompetitorEmail).LastName;

                    <tr>
                        <td>@competitorName</td>
                        <td>@res.CompetitorEmail</td>
                        <td>@res.Score</td>
                        <td><form action="EventResults"><input type="text" name="score" id="score" /></form></td>
                        <td>@Html.ActionLink("Update", "UpdateResults", "Competition", new { compId = evt.competitionId, evtId = res.EventID, email = res.CompetitorEmail }, null)</td>
                    </tr>
                }
            }
            </table>
            <hr />
        }
    }
    else
    {
        <p>There are currently no competitors invited to participate</p>
    }
}

// controller
public ActionResult UpdateResults(FormCollection form, int compId, int evtId, string email)
        {
            //////     this returns 0.0     /////
            double score = Convert.ToDouble(form["score"]);

            BINC.Models.Results.UpdateResults(evtId, email, score);

            List<Event> CompetitionEvents = Event.getEventsByCompetitionId(compId);
            ViewBag.CompetitionEvents = CompetitionEvents;

            List<Competitor> Competitors = Competitor.getCompetitors(compId);
            ViewBag.Competitors = Competitors;

            List<Results> Results = Competition.getCompetitorResultsPairings(CompetitionEvents, Competitors);
            ViewBag.Results = Results;

            ViewBag.Competition = Competition.getCompetitionById(compId);

            return View("EventResults");
        } 
```

您在控制器方法中看到的内容不起作用；我认为这是因为该页面实际上并未“提交”？我真的很想使用链接而不是提交按钮。有人可以帮帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T06:53:55.330

给它 ActionType 喜欢 `[HttpPost],[HttpGet],[HttpDelete]`

```
[HttpPost]
public ActionResult UpdateResults(FormCollection form, int compId, int evtId, string email)
{
//Code
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T19:04:41.243

如果要使用链接，则使用的是 GET 请求而不是发布请求。

您使用链接的选项是使其成为 ajax 请求（请参阅我之前在[MVC3 Html.ActionLink Post](https://stackoverflow.com/questions/8421074/mvc3-html-actionlink-post)的回答）

或使用 javascript 发布表单： [How can I use an anchor tag to submit a form with jquery](https://stackoverflow.com/questions/4674625/how-can-i-use-an-anchor-tag-to-submit-a-form-with-jquery)

```
$(文档).ready(函数(){
  $("a").click(函数(){
     $("#requestNew").submit();
  });
});

或使用 $("#yourHrefId") 如果您想通过 id 而不是所有 href 引用。

```

# php - 使用带有 GET 方法的 PHP 复选框数组

> ID：11535743
> 
> 赞同：3
> 
> 时间：2012-07-18T06:49:41.720
> 
> 标签：php, arrays, forms, checkbox

我可以将 PHP`checkbox`数组与 GET 方法一起使用吗？如果点击了两个复选框，会导致： some.php?param=1¶m=2 吗？

如您所知，我不习惯写入数据库，我只是获取参数。谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-18T07:09:06.837

您需要传递具有相同字段名称的复选框，然后`[]`PHP 才能识别该数组。

像这样：

```
<input type="checkbox" name="foo[]" value="bar1">
<input type="checkbox" name="foo[]" value="bar2">
<input type="checkbox" name="foo[]" value="bar3"> 
```

所以 GET 将是：

```
phpfile.php?foo[]=bar1&foo[]=bar2&foo[]=bar3 
```

如果每个复选框都被点击。（发布类似）

请注意，只有被点击的复选框才会被提交。所以，如果只是`bar1`和`bar2`被点击，那么 GET 将是

```
phpfile.php?foo[]=bar1&foo[]=bar2 
```

然后你可以通过访问该数组

```
$_GET["foo"] 
```

或类似于 POST

```
$_POST["foo"] 
```

希望有帮助:-)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-18T07:15:41.640

除了 steve 所说的之外，如果您愿意，您还可以添加某些键：

```
<input type="checkbox" name="foo[my_id_1]" value="bar1">
<input type="checkbox" name="foo[my_id_2]" value="bar2">
<input type="checkbox" name="foo[my_id_3]" value="bar3"> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:54:11.347

```
some.php?param[]=1&param[key]=2 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T07:13:24.273

假设复选框名称为 aa，值分别为 1 和 2。将表单方法设为 GET，复选框名称为 aa[0],aa[1]。当您提交表单时，数据将像 some.php?aa[0]=1&aa[1]=2 这样的 url 传递

# django - DjangoCMS 中的多个导航菜单

> ID：11535744
> 
> 赞同：1
> 
> 时间：2012-07-18T06:49:52.847
> 
> 标签：django, django-cms

我的任务是在网站上制作**两个导航菜单**：

1.  “主”菜单（“关于”、“联系人”等）
2.  目录菜单（“项目”、“画廊 1”、“画廊 2”等）

我知道我可以使用一些 django-sitetree - 但是将它提供给客户非常复杂:(

我怎样才能通过 Django CMS 做到这一点？

**更新：**

似乎最好的办法是制作两个不会在导航中显示的“文件夹”（有一个特殊的复选框）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:34:34.237

django-cms 有它自己的内置菜单系统。例如，这个片段将加载一个完整的菜单。页面和子页面。

```
{% load menu_tags %}
<ul>
    {% show_menu 0 100 100 100 %}
</ul> 
```

你应该在这里阅读这个页面来查看你可以从 django-cms 获得的所有不同的菜单。 [django-cms navigation](http://django-cms.readthedocs.org/en/2.3/getting_started/navigation.html) 所有的工作都为你完成了！

如果您有一个自定义应用程序并且想自己构建一个菜单，那么这也很容易。最好是阅读此页面，甚至复制粘贴此代码并放入您自己的东西。 [自定义应用菜单](http://django-cms.readthedocs.org/en/2.3/extending_cms/app_integration.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-24T05:47:28.183

1.  创建一个带有元“目录”的页面。
2.  在导航中隐藏页面（使用 cms ）
3.  为页面“目录”创建子页面“项目”、“画廊 1”、“画廊 2”
4.  使用带有元“目录”的 show_menu_below_id 标记在模板中显示您的目录菜单
5.  像往常一样使用主菜单

这对我有用，希望对你有帮助

# xslt - 为什么 local-name() 不返回任何内容？

> ID：11535746
> 
> 赞同：0
> 
> 时间：2012-07-18T06:49:56.530
> 
> 标签：xslt

我正在尝试运行以下模板：

```
<xsl:template match="*[starts-with(., 'ATTITUDE_')]/text()">
 <xsl:variable name="ElementName" select="local-name()"/>
 <xsl:variable name="vVal" select= "$vAttitudes[. = substring-after(current(), '_')]/@val"/>
 <xsl:choose>
    <xsl:when test="contains($ElementName, 'Refuse')">
      <xsl:value-of select="civf:book-capitalise($vAttitudes[@val = $vVal+1])"/>
    </xsl:when>
   <xsl:otherwise>
    <xsl:value-of select="civf:book-capitalise($vAttitudes[@val = $vVal])"/>
   </xsl:otherwise>
 </xsl:choose>
</xsl:template> 
```

所以前提是，找到元素的名称，如果它的名称中有文本“拒绝”，那么“doTheThing”+1，否则就是“doTheThing”。但是，此测试总是失败，因此即使元素名称中有“拒绝”，也不会调用 +1。如果我只输出本地名称，那么我也会变空。为什么 local-name() 似乎在这里不起作用？

我之前确实尝试过使用以下方法启动模板：

```
<xsl:template match="*[contains(., 'Refuse')]/name()"> 
```

但 Saxon 抱怨我在匹配序列中运行了太多函数。

对于对 XSLT 不太了解，我提前道歉。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T07:02:27.643

我相信这`local-name()`不起作用，因为您正在匹配文本节点（`/text()`在`match`属性中），并且文本节点没有本地名称。

我不确定您要做什么，但我认为您实际上并不想匹配`/text()`，而是要匹配整个元素，然后再获取它`text()`。

或者，您可以尝试使用`local-name(..)`来获取父节点的名称，但我不确定。

# python - Gtk3 接口中的 Gtk.main() 阻塞

> ID：11535748
> 
> 赞同：0
> 
> 时间：2012-07-18T06:49:58.537
> 
> 标签：python, linux, gtk, pygtk

我正在设计一个小型 GUI 来与我编写的一段代码交互。

我的问题是该`Gtk.main()`命令似乎被阻止了，即使当我单击销毁按钮时我的窗口关闭了，我的终端仍然挂起。

我也没有看到与信号的任何交互。

这是我的示例：

```
#!/usr/bin/env python

from gi.repository import Gtk, Gdk, GObject

GObject.threads_init()

class Ivolution():       

    def __init__(self):

        print "in"
        self.builder = Gtk.Builder()
        self.builder.add_from_file("data/ui/IvolutionWindow.glade")
        #builder.connect_signals({ "on_window_destroy" : gtk.main_quit })
        self.window = self.builder.get_object("ivolution_window")
        print "in fin"

    def on_stopbutton_clicked(self, widget):
        """
        Asks the Facemovie thread to terminate
        """
        print "Stop"    

    def on_ivolutionwindow_destroy(self, widget, data=None):
        """Called when the IvolutionWindow is closed."""

        # Clean up code for saving application state should be added here.
        print "Exiting"
        Gtk.main_quit()
        print "Exited"

if __name__ == "__main__":
    app = Ivolution()
    print "deb"
    app.window.show()
    Gdk.threads_init()
    Gdk.threads_enter()
    print "but"
    Gtk.main()
    print "end"
    Gdk.thread_leave()
    print "ding" 
```

我删除了所有非必要的部分。

Gobject 和 gdk.threads 是我在互联网上查看不同源代码所做的测试。

我想不出他们的成功组合。

如果我将程序运行到控制台中，这就是我得到的：

```
in

(Ivolution.py:4635): Gtk-CRITICAL **: gtk_radio_button_set_group: assertion `!g_slist_find (group, radio_button)' failed

(Ivolution.py:4635): Gtk-CRITICAL **: gtk_radio_button_set_group: assertion `!g_slist_find (group, radio_button)' failed
in fin
deb
but 
```

即使我按下停止按钮并关闭窗口。

关闭窗口后，控制台保持不变，甚至 ctrl+c 也不会停止应用程序。

我确信我错过了一些基本的东西，但作为一个完整的 GUI 菜鸟，我看不到什么。[这个示例代码](http://www.micahcarrick.com/gtk-glade-tutorial-part-3.html#3)看起来非常接近我的。任何的想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T11:42:24.980

好吧，我在这里既生气又傻。

我尝试重用我使用[Quickly所做的尝试中的代码](https://wiki.ubuntu.com/Quickly)

我的林间空地文件中没有定义任何信号。出于某种原因，我不完全明白，Quickly 允许您调用事件而无需在 glade 文件中定义它们。

确定它不能工作。

上面的 Python 代码可以正常工作，前提是您在 glade 文件中定义了正确的信号

编辑 ：

作为信息的补充，下面是信号在 glade 文件中的样子

```
<signal name="delete-event" handler="on_destroy" swapped="no"/> 
```

# android - 在不使用第 3 方扫描仪的情况下集成 ZXing？

> ID：11535751
> 
> 赞同：0
> 
> 时间：2012-07-18T06:50:04.863
> 
> 标签：android, zxing

我已经阅读了许多主题，人们询问如何将 ZXing 集成到 Android 应用程序中，他们必须安装第 3 方扫描仪应用程序才能扫描 QR 码。

这正是我想做的。这是我到目前为止所做的：

我下载了ZXing项目。我将所有相关的源代码复制到我的 Android 应用程序中。到目前为止一切顺利，一切都很好。当我在我的应用程序中按下一个按钮时，它会打开一个小对话框，询问我要使用什么条形码扫描仪。我有以下选择：

1.  QR-Droid（第三方应用程序）
2.  我自己的应用

当我使用第一个选项时，相机会被激活，我可以扫描二维码。但是当我使用第二个选项（我自己的应用程序）时，什么也没有发生。我以为 ZXing 也有扫描仪，所以不需要 3rd 方 QR 扫描仪？？

但也许我还必须采取其他步骤？这就是我的清单的样子：

添加了这个：

```
<intent-filter>
    <action android:name="com.google.zxing.client.android.SCAN"/>
    <category android:name="android.intent.category.DEFAULT"/>
</intent-filter> 
```

在一个按钮动作中，我有：

```
Intent intent = new Intent("com.google.zxing.client.android.SCAN");         
intent.putExtra("com.google.zxing.client.android.SCAN.SCAN_MODE", "QR_CODE_MODE");  
startActivityForResult(intent, 0); 
```

有什么方法可以在不需要第三方扫描仪的情况下启动 QR 扫描仪？我在我的项目中导入了所有源。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T09:17:13.790

这很混乱，你接受的方法是有害的。

首先，请不要复制我们的应用程序批发，正如我们在这里反复强调的那样。如果您克隆 UI，这不仅不鼓励，而且违反了我们的商标。只是不要这样做。

其次，您正在复制我们的代码，然后尝试使用 Intent 的扫描仪。为什么？如果你想使用 Intents，你不需要使用任何代码。

第三，您声明您的应用程序响应*我们的*应用程序 Intent。您正在拦截用于 Barcode Scanner 的呼叫。如果你能以完全相同的方式回复，好的，但是，我想你不能保证这一点。这样做会伤害 Barcode Scanner 的用户，这是您从中获利的开源项目。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-18T07:06:46.893

修改你的清单并添加这个

```
 <activity
            android:configChanges="orientation|keyboardHidden"
            android:name="com.google.zxing.client.android.CaptureActivity"
            android:screenOrientation="landscape"
            android:theme="@android:style/Theme.NoTitleBar.Fullscreen"
            android:windowSoftInputMode="stateAlwaysHidden" >
            <intent-filter >
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
            <intent-filter >
                <action android:name="com.google.zxing.client.android.SCAN" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity> 
```

还添加相机权限

```
<uses-permission android:name="android.permission.CAMERA"/> 
```

并在您的 Activity 中实现 onActivityResult 方法

```
 public void onActivityResult(int requestCode, int resultCode, Intent intent) 
    {
        if (requestCode == 0) 
        {
            if (resultCode == RESULT_OK)
            {
                String contents = intent.getStringExtra("SCAN_RESULT");
                String format = intent.getStringExtra("SCAN_RESULT_FORMAT");
                Log.i("xZing", "contents: "+contents+" format: "+format);
                // Handle successful scan
            } 
            else if (resultCode == RESULT_CANCELED)
            {
                // Handle cancel
            }
        }
    } 
```

有关更多信息或任何问题，请参阅[此](http://damianflannery.wordpress.com/2011/06/13/integrate-zxing-barcode-scanner-into-your-android-app-natively-using-eclipse/)链接

# c# - 如何从.cs文件asp.net调用HttpHandler

> ID：11535754
> 
> 赞同：8
> 
> 时间：2012-07-18T06:50:20.940
> 
> 标签：c#, asp.net, httphandler

我已经为我的 Jquery ajax 调用创建了一个 http 处理程序。工作正常，下面提到了 jquery 调用

```
 $.ajax({
    url: "Services/name.ashx",
    contentType: "text/plain",
    data: {
        CustMobile: a,
        CustName: b,
        CustEmail: c
    },
    contentType: "application/json; charset=utf-8",
    success: function (data) {
        $("#loading").hide();
    },
    error: function () {
        $("#loading").hide();
    }
}); 
```

现在我的问题是我可以通过后面的代码调用 name.ashx 处理程序。我正在使用带有 C# 的 asp.net。我知道它可以通过 Response.write("") 编写整个脚本部分来调用。Ans 还注册页面方法的脚本。
但是有什么方法可以向处理程序发送请求并使用 c# 从处理程序获取响应。

谢谢。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-07-18T06:56:38.140

`HttpWebRequest`您可以使用(System.Net 命名空间)从代码后面调用任何 http 资源

### 样本

```
HttpWebRequest request = (HttpWebRequest) WebRequest.Create("<YourDomain>/Services/name.ashx?CustMobile=ValueOfA&CustName=ValueOfB&CustEmail=ValueOfC");
HttpWebResponse response = (HttpWebResponse)request.GetResponse(); 
```

您需要一个绝对路径，但如果您不想对域进行硬编码，则可以从 HttpContext 获取您的域或服务器 url

### 更多信息

*   [MSDN - HttpWebRequest 类](http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.aspx)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-06-04T04:57:03.627

我找到了另一种方法。如果您想从同一个项目中访问它，这非常容易。

在后面的代码中使用它的步骤

1.  基本上它创建一个具有类名的类。
2.  您可以创建该类的对象。
3.  然后就可以调用了`ProcessRequest`。
4.  它将执行该处理程序。

假设我创建了一个处理程序如下

```
public class HandlerName : IHttpHandler
{
    public void ProcessRequest(HttpContext context)
    {
       //some code
    }
    public bool IsReusable
    {
        get
        {
            return false;
        }
    }
} 
```

所以你可以按如下方式使用它

```
HandlerName obj=new HandlerName();
obj.ProcessRequest(HttpContext); 
```

请注意，您可以获得当前上下文，您需要在流程请求中传递它。更多关于 HttpContext ^([ [1](http://msdn.microsoft.com/en-us/library/system.web.httpcontext.aspx)) ^([2](https://stackoverflow.com/questions/14149815/httpcontext-not-available-in-class-library) ])

## 编辑 1

`ProcessRequest`如果需要，您还可以重载该方法。

```
public class HandlerName : IHttpHandler
{
    public void ProcessRequest(HttpContext context)
    {
      // some code
    }
    public void ProcessRequest(HttpContext context, string someString)
    {
       // do your coding here
    }
    public bool IsReusable
    {
        get
        {
            return false;
        }
    }
} 
```

如果您不想覆盖该方法，您可以按如下方式传递值
您可以在`HttpContext.Current.Items`

```
HttpContext.Current.Items["ModuleInfo"] = "Custom Module Info" 
```

`ProcessRequest`并在方法中得到它

```
public class HandlerName : IHttpHandler
{
    public void ProcessRequest(HttpContext context)
    {
      string contextData = (string)(HttpContext.Current.Items["ModuleInfo"]);
    }
    public bool IsReusable
    {
        get
        {
            return false;
        }
    }
} 
```

# html - 在 inline-block 元素上使用 box-align 使文本垂直居中

> ID：11535755
> 
> 赞同：0
> 
> 时间：2012-07-18T06:50:22.403
> 
> 标签：html, firefox, css, webkit

我正在尝试在 inline-block 元素中垂直居中文本（尤其是在 webkit 浏览器中）。<button> 元素开箱即用的功能几乎完全相同。

我尝试过使用 box-align，如这个问题[Vertical align text in block element](https://stackoverflow.com/questions/5166574/vertical-align-text-in-block-element)但我不想在元素上设置显式宽度：我希望它适合其内容，即我想要显示：inline-块类型行为。

在 Firefox 中，-moz-box 似乎按照我想要的方式运行，但在 Safari 和 Chrome 中，-webkit-box 使 div 想要水平填充其容器。

[哎呀，因为我是菜鸟，所以无法发布图像]

[在这里](http://jsfiddle.net/JLttS/5/)摆弄各种设置的示例。

在实际的 <button> 元素上查看 webkit 的检查器，它默认为 display: inline-block ，但它遵循 -webkit-box-align ，就好像它被设置为 display: -webkit-box 一样。请参阅我在 <button> 上显式设置 display:inline-block 和 -webkit-box-align: end 以进行演示的[小提琴。](http://jsfiddle.net/JLttS/5/)

似乎通过在混合中添加一个额外的 <div> ，我可以获得我想要的行为，但我真的不想那样做。我也知道显示：垂直居中的表格单元技术；这在这里不合适，因为它有其他副作用。

那么 webkit 的行为是否正确？<button> 元素如何做 <div> 不能做的事情？是否有一些我没有发现的底层 webkit CSS 属性可以使 <div> 表现得像 <button>？或者更好的是，任何跨浏览器的方式来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T06:53:26.040

使用 css 的 line-height 属性。使其等于包含文本的框的高度。

[http://www.w3schools.com/cssref/pr_dim_line-height.asp](http://www.w3schools.com/cssref/pr_dim_line-height.asp)

# sql-server - 如何将两个动态sql与union ALL结合起来

> ID：11535760
> 
> 赞同：0
> 
> 时间：2012-07-18T06:50:32.167
> 
> 标签：sql-server

我有两个这样的动态 sql 查询

```
@sql = 'select productname,year from products'

@sql2 = 'select productname,year from products_sample' 
```

我需要这样的东西

```
select @query= (@SQL+'UNION ALL' +@SQL1 ) 
```

但它不工作

任何帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T07:08:16.883

由于查询根本没有参数化，您也可以简单地使用

```
EXEC (@SQL + ' UNION ALL ' +  @SQL1) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T07:09:26.940

试试这个

```
declare  @SQL varchar(200)
declare @sql2 varchar(200)
declare @sqlresult varchar(200)
set @SQL = 'select productname,year from Products'

set @sql2 = 'select productname,year from products_sample'
set @sqlresult=@SQL+' UNION ALL ' +@sql2
exec @sqlresult 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:52:24.830

尝试

```
@sql = 'select productname,year from products'

@sql2 = 'select productname,year from products_sample'

sp_executeSQL @SQL+' UNION ALL ' +@SQL1 
```

# ios - 在 iOS 上将数据导出到 XLS（不是通过 CSV）

> ID：11535772
> 
> 赞同：4
> 
> 时间：2012-07-18T06:51:38.057
> 
> 标签：ios, csv, xls

我需要将一些数据导出到 .XLS 文件、pdf 和打印。

我已经尝试过简单的解决方案：使用[CHCSVWriter](https://github.com/davedelong/CHCSVParser)将其导出为 .CSV 。它适用于打印并将其保存为 pdf（我在 UIWebView 中打开 CSV 并[获取 PDF](https://stackoverflow.com/questions/9528658/is-there-any-way-to-generate-pdf-file-from-a-xml-html-template-in-ios)或从那里打印）。但是，使用 CSV 在 excel 中打开有两个主要问题：

1 - 首先，顾名思义，在 CSV 中，值用逗号分隔，**在某些版本**的 Excel 中，它要求用户[在单元格中“手动”分隔](http://www.ehow.com/how_2212387_separate-cell-data-excel.html)。

2 - 我有希伯来语字符，我已经尝试了所有的字符串编码，不能同时有希伯来语和拉丁语字符。

因此，在尝试使用 CSV 解决上述问题数天后，我放弃了。如何将我的数据导出到 XLS？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T07:55:09.220

LibXL库为和[格式](http://www.libxl.com/)提供此功能。没有iOS版本，但[人们说](https://stackoverflow.com/a/10270108/730701)iOS版本即将到来。您可能需要[联系 LibXL 支持](http://www.libxl.com/contact.html)以确认这一点。`xls``xlsx`

编辑：iOS 版本现已推出。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-23T11:00:42.433

[本文](http://csharpprogramming.blogspot.it/2010/12/export-datatable-to-excel.html)`.xls`介绍如何在不使用任何外部库的情况下以编程方式创建 Excel ( ) 文件。它只是打开一个文件流并将 XML 内容直接写入其中。

它是用 C# 编写的，但从中得出的核心信息是 XML 格式，用于为相应的单元格值和格式创建节点和填充属性。

请考虑我自己没有尝试过，我在搜索时发现了它。如果某些 C# 位不清楚，请随时询问。高温高压

# xml - 带有“小于”符号的 XSLT 格式字符串

> ID：11535774
> 
> 赞同：1
> 
> 时间：2012-07-18T06:51:41.200
> 
> 标签：xml, string, xslt

我有一个 XML 节点，它是如下较大 XML 的一部分，其中包含下标中的某些符号。

```
<MT N="Abstract" V="Centre-of-mass energies in the region 142&lt;W&lt;sub&gt;γp&lt;/sub&gt;&lt;293 GeV with the ZEUS detector at HERA using an integrated luminosity"/> 
```

我需要格式化`@V`属性中的值，以便在使用 XSLT 解析时，每个`&lt;`由`&lt;W`上面的字母组成的值都应该替换为`&lt; W`，它们之间有一个空格。

这可能吗？首选 XSLT 1.0 解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T08:24:47.400

有可能的。在 XSLT 2.0 中，这将是一件轻而易举的事（使用正则表达式）。但是，这是 XSLT 1.0 中直接的“你所说的”脚本：

```
<xsl:template match="/">
    <xsl:call-template name="process">
        <xsl:with-param name="text" select="/tutorial/MT/@V"/>
    </xsl:call-template>
</xsl:template>

<xsl:template name="process">
    <xsl:param name="text" select="."/>
    <xsl:variable name="modtext" select="translate($text,'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ','aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa')"/>
    <xsl:variable name="pretext" select="substring-before($modtext,'&lt;a')"/>        
    <xsl:choose>
        <xsl:when test="not($pretext)">
            <xsl:value-of select="$text"/>
        </xsl:when>
        <xsl:otherwise>
            <xsl:variable name="endpos" select="string-length($pretext)+1"/>
            <xsl:value-of select="concat(substring($text,1, $endpos),' ')"/>
            <xsl:call-template name="process">
                <xsl:with-param name="text"
                    select="substring($text,$endpos+1)"/>
            </xsl:call-template>
        </xsl:otherwise>
    </xsl:choose>
</xsl:template> 
```

它会产生您所要求的内容，尽管它对数字和 / 字符的行为很有趣。

它产生：

```
Centre-of-mass energies in the region 142&lt; W&lt; sub&gt;γp&lt;/sub&gt;&lt;293 GeV with the ZEUS detector at HERA using an integrated luminosity 
```

显然，如果您使用 / 和 1234567890 更新翻译，它也会处理数字和斜杠。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T08:24:05.347

在 XSLT 2.0 中很容易：

```
replace(@V, '(&lt;)(\p{L})', '$1 $2') 
```

在 XSLT 1.0 中更难，我没有时间尝试它。

# javascript - 跨域是什么意思，JSONP 在这种情况下代表什么？

> ID：11535777
> 
> 赞同：-3
> 
> 时间：2012-07-18T06:51:58.757
> 
> 标签：javascript, json, web-services, jsonp

我是一个新手 .net 程序员，创建了一个 web 服务（JS 在我的代码中调用了 Webserice），只是试图通过我的手机浏览器调用它，就像在同一个网络上一样。使用 localhost 它可以完美运行。但它也无法从其他机器调用 webservice 方法。它背后的想法是什么？ JSONP 有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:05:32.667

如果您描述了您尝试调用的 Web 服务类型，那将会有很大帮助。我假设您的网络服务是 RESTFUL 的。[在这种情况下，如果您尝试通过 XHR 从不同的域调用它，由于浏览器的Same origin policy](http://en.wikipedia.org/wiki/Same_origin_policy)，它不会成功。是的，JSONP 将是这里最可行的选择。

您可能还想查看[跨源资源共享 (CORS)。](https://developer.mozilla.org/en/http_access_control)它为 Web 服务器提供了一种支持跨站点访问控制的方法。

# android - 在 Android 中显示 SVG 文件

> ID：11535780
> 
> 赞同：25
> 
> 时间：2012-07-18T06:52:08.543
> 
> 标签：android, svg, vector-graphics

我想创建一个在某些平面图上显示位置的应用程序。导航是以某种方式通过 WiFi 实现的，我已经完成了，所以现在我在显示平面图时遇到了问题。

它可能是某种矢量格式，在上网一段时间后我决定它必须是 svg 文件。我找到了一些解决方案，但它对我不起作用！

1.  **[库 svg-android](http://code.google.com/p/svg-android/)**

    有机会显示 .svg 文件，但只有“简单”文件。它仅适用于教程中的文件，但不适用于任何其他`.svg`文件（例如，您将使用 Inkscape 创建的其他文件）。

    所以，我决定，我将解析`.svg`文件，从中制作 DOM，以某种方式获取对象和属性并通过 OpenGL ES 绘制它。

2.  **[阿帕奇蜡染](http://xmlgraphics.apache.org/batik/)**

    乍一看，很好的解决方案，但是有一个问题。Android 有一些“本机”apache 库，当我尝试使用 batik 做某事时，它会抛出`NoClassDefFoundError`，因为它不是在 batik 库中搜索，而是在“本机”库中搜索。

    当然，我们可以在我们的项目中添加源代码，只对`.svg`文件使用 batik 解析器并以某种方式对其进行编辑，但是有很多工作，同样成功我们可以编写自己的解析器。

3.  **[小线](http://www.tinyline.com/)**

    没有试用版，但如果我们[看到](http://www.tinyline.com/svgt/index.html)它如何用于 svg 文件和 android 的描述，我们会看到只有此类文件的光栅化，仅此而已。

有没有比编写自己的解析器更好的解决方案？有没有人遇到过这个问题？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-18T07:00:43.680

我建议使用#1。不要编写自己的解析器。这将是一个巨大的头痛。

您的平面图必须有多详细？android-svg 很好地支持 SVG。它只是对过滤器或光源没有很好的支持。您的 SVG 中不会包含这些（我希望如此）。

如果您不想这样做，请查看四叉树。您可以渲染出一个巨大的图像并将其分解为类似四叉树的格式，然后只加载您需要的四边形。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-26T17:10:31.240

我为 android 编写了一个 SVG libaray，该网站是 [http://www.vectoroid.com](http://www.vectoroid.com)

缺少的主要是 SVG arc 支持，目前已修复，并将在不久的将来发布。

我正在寻找有关它的反馈，因为我已经研究了大约一年。所以如果你有任何请告诉...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-09-29T13:54:11.127

[我已经为 Android](http://scand.com/products/svgkit-android/index.html)使用了另一个SVG ；似乎它是比较新的。

GPLv3、CSS2 支持、字体、文本和跨度、线性和径向渐变、SVG 和 SVGZ、初始过滤支持、来自资产的图像、来自 Web 和内联 base64 编码的图像。我尝试过的最快的。

当然过滤器支持可能会更好，但除此之外它运行良好，甚至可以显示 20 兆字节的 SVG 文件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-07-30T18:34:07.333

成功测试了这两个库：

[https://github.com/BigBadaboom/androidsvg](https://github.com/BigBadaboom/androidsvg) - Apache 许可证 2.0

[https://scand.com/products/svgkit-android/](https://scand.com/products/svgkit-android/) - 需要调整以使用现代 SDK 进行编译（抑制警告，更新 gradle 文件）；LGPL / 商业

到目前为止，androidsvg 看起来更好。

# iphone - Zend：是否可以在使用 Web 服务的移动设备上设置 cookie？

> ID：11535782
> 
> 赞同：0
> 
> 时间：2012-07-18T06:52:17.373
> 
> 标签：iphone, web-services, zend-framework, cookies

我有一个 Iphone 应用程序，它使用我的 Web 服务（在 Zend 中编码）来验证登录凭据。它通过 POST 将登录凭据发送到我的 Web 服务的 URL。

现在 Zend 有什么方法可以通过 Web 服务在 Iphone 本地存储设备中设置 cookie。更清楚地说，我想在用户通过 iphone 设备上的用户信息进行身份验证后设置 cookie，当它发出 http POST 请求时，这可能吗？为什么或者为什么不？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T15:37:38.593

```
if(isset($_GET['mac']))     
session_id($_GET['mac']);
else
die(session_id()); 
```

如果您的移动客户端在没有 mac（第一个请求）的情况下发送请求，那么它会得到 mac。一旦你有了 mac，然后只需发送每个请求，这将为你提供类似 cookie-session 的功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T09:04:15.760

如果我假设您需要为 Web 服务上的每个新请求保留凭据，则 Cookie 不是解决方案。

一旦用户通过身份验证，您应该保留会话或凭据的哈希，然后将其作为每个新请求的参数发送，此外您将能够跟踪您的用户。

# java - Eclipse 缺少动作集

> ID：11535784
> 
> 赞同：17
> 
> 时间：2012-07-18T06:52:23.733
> 
> 标签：java, eclipse, adt

打开 Eclipse 时遇到问题。在错误日志中它说：

```
unable to find action set org.eclipse.wb.core.ui.actionset 
       org.eclipse.rse.core.search.searchActionSet
       org.eclipse.rse.core.search.searchActionSet
       org.eclipse.mylyn.doc.actionSet
       org.eclipse.mylyn.context.ui.actionSet 
```

我正在使用 Eclipse juno（4.2 版），我的 ADT 是 20 版和 Java 1.6 你知道我应该做什么吗？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-12-14T18:38:47.800

一般来说，这是你卸载的东西的遗留物。要消除该错误，请关闭 Eclipse，在任一文件夹中找到`workbench.xml`(XML) 和`workbench.xmi`(XMI) 文件

```
.metadata\.plugins\org.eclipse.ui.workbench\ 
```

或者

```
.metadata\.plugins\org.eclipse.e4.workbench\ 
```

工作区中的目录并删除所有相应的行（搜索您在消息中看到的包名称）。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-08-01T17:47:26.327

我认为当从 Eclipse 中删除功能并且工作区没有正确更新时，可能会发生这种情况。创建一个新工作区，导入所有项目，然后删除旧工作区。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-04-27T20:33:37.430

我转到了我拥有的 RCP 应用程序的运行配置（使用 EMF 创建），并在运行前检查了运行 - > 配置...对话框下的单选框以“清除工作区”。这解决了有关缺少 ActionSet 的问题。我尝试按照上述方法查找对丢失的 ActionSet 的引用，但这并没有修复错误（workbench.xml 或 workbench.xmi 文件中没有对丢失的 ActionSet 的引用。我在 Mac OS X 上使用 Kepler SR2 10.9.2.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-17T10:21:48.787

由于特定的观点，我遇到了这个问题（尽管我不确定首先是什么原因造成的）。我只是关闭了视图并重新启动了 Eclipse - 问题解决了！

# c# - 如何将布尔值绑定到组合框

> ID：11535788
> 
> 赞同：3
> 
> 时间：2012-07-18T06:52:41.960
> 
> 标签：c#, linq, combobox, boolean

我面临一个关于数据库和组合框的问题。我有一个表名“站”，表内是列、站名和座位。列席设置为“BIT”。我使用组合框让用户选择“是”或“否”，但如何将它们转换为 BIT 并存储到数据库中。这是我的创建代码。

```
private void btnCreate_Click(object sender, EventArgs e)
    {
        using (testEntities Setupctx = new testEntities())
        {
            string[] stations = StationNameList();
            station creStation = new station();
            creStation.Station1 = txtStation.Text;
            creStation.Seat = cbSeats.SelectedItem();
            if (stations.Contains(txtStation.Text))
            {
                MessageBox.Show("This Station is already been created. Please enter a new Station.");
            }
            else
            {
                Setupctx.stations.AddObject(creStation);
                Setupctx.SaveChanges();
                txtStation.Text = "";
                cbSeats.SelectedIndex = -1;
                MessageBox.Show("New Station Has Been Created.");
            }
        }
    } 
```

错误在这里：

```
creStation.Seat = cbSeats.SelectedItem(); 
```

他们提示我无法从字符串转换为布尔值。有什么帮助吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-18T06:54:50.993

如同

```
creStation.Seat = cbSeats.SelectedValue=="Yes"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:11:12.550

```
bool.TryParse(cbSeats.SelectedValue, out creStation.Seat); 
```

# java - Java中的通用工厂方法

> ID：11535797
> 
> 赞同：3
> 
> 时间：2012-07-18T06:53:46.657
> 
> 标签：java, generics, factory-pattern

我知道这个主题有几个线程，但我不知道我的问题出在哪里。上下翻阅搜索结果，我比以往任何时候都更加困惑。我希望我能把我的问题说清楚。

我有一个消息类型层次结构，并且我有这些消息的通用处理器层次结构。这是我到目前为止运行的。现在我想为处理器实现一个工厂方法，并坚持使用我选择的通用方法。请看我的例子：

```
abstract class Message
{
    abstract int getTest();
}

class MyMessage1 extends Message
{
    @Override
    int getTest()
    {
        return 1;
    }
}

class MyMessage2 extends Message
{
    @Override
    int getTest()
    {
        return 2;
    }
}

interface Processor<T extends Message>
{
    void initialize(final T p_message);

    void doWork();
}

abstract class BaseMessageProcessor<T extends Message> implements Processor<T>
{
    private T message;

    @Override
    public void initialize(T p_message)
    {
        message = p_message;
    }

    protected T getMessage()
    {
        return message;
    }
}

class MyMessage1Processor extends BaseMessageProcessor<MyMessage1>
{
    @Override
    public void doWork()
    {
        // perfectly valid assignment
        MyMessage1 msg = getMessage();
        // do something
    }
}

class MyMessage2Processor extends BaseMessageProcessor<MyMessage2>
{
    @Override
    public void doWork()
    {
        // perfectly valid assignment
        MyMessage2 msg = getMessage();
        // do something
    }
} 
```

到目前为止，这是有效的并且按预期工作。但现在工厂来了：

```
class ProcessorFactory
{
    <T extends Message> Processor<T> createProcessor(final Class<T> p_msgType)
    {
        if (p_msgType.equals(MyMessage1.class))
        {
            // Type mismatch: cannot convert from MyMessage1Processor to Processor<T>
            return new MyMessage1Processor();
        }
        else if (p_msgType.equals(MyMessage2.class))
        {
            // Type mismatch: cannot convert from MyMessage2Processor to Processor<T>
            return new MyMessage2Processor();
        }
        else
        {
            throw new Exception("Unsupported message type: " + p_msgType);
        }
    }
} 
```

也许这是我在这里犯的一个愚蠢的失败，但我看不到它。如果有人能给我一个提示，我将不胜感激。

问候

塞巴斯蒂安

编辑：好吧，我的错。问题是我得到的编译器错误表示为“默认语言环境”的注释（例如，对于第二个返回语句，我得到编译错误）：

> 类型不匹配：无法从 MyMessage2Processor 转换为 Processor

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T07:23:59.337

要了解失败的原因，您必须了解类型擦除的工作原理：

> 虽然您清楚地知道自己在做正确的事情，但编译器却不知道，最重要的是，对于设计，编译器不知道，因为信息已被取消

让我尝试进一步解释这个概念：由于类型擦除，类型 T 在编译时转换为 java.lang.Object 并且 Java 编译器没有编译时信息表明

如果`a.getClass().equals(MyClass.class)`then`a.getClass()`将是类型`MyClass<MyClass>`

* * *

**重要提示**：请尽可能避免编写此代码，因为这会导致糟糕的设计。如果您不想死在错误和无法维护的代码的地狱中，请不要强制类型安全语言使用类型安全的逻辑证据并且不要编译类型证据。*如果你在编译器中强制类型安全，你就有可能有一天你改变了类结构而你忘记了改变工厂，一切都编译得很好，但在运行时你会得到一个 BOOM。*

工厂方法通常是一种向调用者隐藏生成对象的逻辑的模式，如果您最终遇到这种情况，则可能意味着您没有正确使用泛型。再写一个类并拥有一个干净的设计要好得多。

也许您可以添加一个额外的问题：如何以类型安全的方式实现此模式？

# iphone - 具有多个 UIImageView 实例的 iOS CGRectIntersectsRect？

> ID：11535798
> 
> 赞同：1
> 
> 时间：2012-07-18T06:53:49.107
> 
> 标签：iphone, objective-c, ios, sdk, cgrect

我有一个应用程序的布局，它需要检测图像何时与另一个图像发生碰撞。

在这里，用户通过点击他们想要的位置在屏幕上创建多个“球”，即名为“imgView”的 UIImageView 的同一实例：

```
- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event {

    UITouch *myTouch = [[event allTouches] anyObject];
    imgView = [[UIImageView alloc] initWithFrame:CGRectMake(40, 40, 40, 40)];
    imgView.image = [UIImage imageNamed:@"ball.png"];
    [self.view addSubview:imgView];
    imgView.center = [myTouch locationInView:self.view];

} 
```

（imgView 在标头中声明为 UIImageView）：

```
 UIImageView *imgView; 
```

现在，我还有一个名为“员工”的图像。它是一个在屏幕上水平平移的长条。我希望图像“工作人员”检测它与变量“imgView”或用户放置在屏幕上的球的每一次碰撞。因此，用户可以点击屏幕上的 10 个不同位置，并且“员工”应该能够捕捉到每一个位置。

我使用这个由 NSTimer 激活的 CGRectIntersectsRect 代码：

```
-(void)checkCollision {
    if( CGRectIntersectsRect(staff.frame,imgView.frame)) {
    [self playSound];
    }
} 
```

但是，仅在最后一个实例或用户创建的“球”中检测到交叉点。工作人员对此做出了反应，但对其余部分进行了平移。任何帮助修复我的代码以检测所有实例将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T07:14:05.100

每次创建新球时，都会覆盖`imgView`实例变量。因此，您的`checkCollision`方法只能看到 的最新值`imgView`，即创建的最后一个球。

相反，您可以在 中跟踪屏幕上的每个球`NSArray`，然后检查与该数组中每个元素的碰撞。为此，请将您的`imgView`实例变量替换为：

```
NSMutableArray *imgViews 
```

然后，在早期的某个时候，说`viewDidLoad`初始化数组：

```
 imgViews = [[NSMutableArray alloc] init] 
```

`-touchesEnded:withEvent:`将新的添加到`UIImageView`数组中：

```
- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event {

     UITouch *myTouch = [[event allTouches] anyObject];
     UIImageView *imgView = [[UIImageView alloc] initWithFrame:CGRectMake(40, 40, 40, 40)];
     imgView.image = [UIImage imageNamed:@"ball.png"];
     [self.view addSubview:imgView];
     imgView.center = [myTouch locationInView:self.view];
     [imgViews addObject:imgView]
} 
```

最后，`checkCollision`遍历您的数组并对每个元素执行检查

```
 - (void)checkCollision {
      for (UIImageView *imgView in imgViews) {
           if( CGRectIntersectsRect(staff.frame,imgView.frame)) {
                 [self playSound];
      }
   } 
```

# javascript - Android XmlHttpRequest 上的 Phonegap 在模拟器中工作，而不是在设备上

> ID：11535802
> 
> 赞同：2
> 
> 时间：2012-07-18T06:54:14.570
> 
> 标签：javascript, android, ajax, cordova, xmlhttprequest

我看到了一个非常相似的问题，但从未得到完全回答。它在[这里](https://stackoverflow.com/questions/10523720/phonegap-android-project-works-on-emulator-not-on-actual-phone)。

基本问题是我终于得到了一个在 Android 上使用 Phonegap 的 XmlHttpRequest AJAX 调用，但问题是它只适用于 Android 模拟器。

当我在模拟器上运行它时，我会收到一条带有 XML 回复的警报。当我在设备上运行它时，我得到一个什么都没有的警报，它只是空白。

我正在运行最新的 Phonegap 1.9，模拟器运行 Android 2.3.3，API 级别 10。该设备是运行 2.3.5 的三星 Galaxy S。

这是用于发出请求的 JavaScript：

```
function sendXMLRequest() {
    request = new XMLHttpRequest();
    request.open("POST","http://www.xxx.com/path/to.cgi",true);

    request.onreadystatechange = function() {
        if (request.readyState == 4) {
            if (request.status == 200 || request.status == 0) {
                    alert("Server responded with: " + request.responseText);
                }
            }
        }

    postdata = "big long XML string that I've quadruple checked";
    try {
        request.send(postdata);
    } catch(e) {
        console.log(e);
        alert("Error, could not locate vehicle, please try again later.");
    }
} 
```

我有 cordova.xml 和 plugins.xml 并且我拥有所有权限，并且我尝试在清单中删除 INTERNET 权限。该设备肯定有互联网连接。

提前感谢您的帮助，我很感激。

# php - java - 如何在更改PHP我的附加代码时交换下拉值？

> ID：11535803
> 
> 赞同：0
> 
> 时间：2012-07-18T06:54:16.237
> 
> 标签：php, javascript, drop-down-menu

我想在更改事件上交换下拉值，就好像我在下拉列表中选择从“4”到“1”的值，然后它将更改该下拉列表的值，值为“1”我的代码定义如下，

```
 <?php

 $host="****"; // Host name 
 $username="***"; // Mysql username 
     $password="****"; // Mysql password 
         $db_name="****"; // Database name 
         $tbl_name="*****"; // Table name

mysql_connect("$host", "$username", "$password")or die("cannot connect"); 
mysql_select_db("$db_name")or die("cannot select DB");
$arr = explode("?", $_SERVER['REQUEST_URI']);
$arr1=explode("&",$arr[1]);
$arr2=explode("=",$arr1[0]);

$sql="SELECT * FROM $tbl_name where idTemplates=$arr2[1]";
$result=mysql_query($sql);
$count=0;
//$templateName=mysql_result($result,$i,"TempName");
//$tempID=mysql_result($result,$i,"idTemplates");
$Section1=mysql_fetch_row($result);
for($j=6;$j<=15;$j++)
{
if($Section1[$j]!="")
{
$count++;  
}
}
for($j=6;$j<=15;$j++)
{
if($Section1[$j]!="")
{
echo("<tr>");
      echo("<td>");
      echo("$Section1[$j] <input type='hidden' value='$Section1[$j]' name='Sections[]' />");
           echo("</td>");
echo("<td>");
$counting=$j-5;
echo("<select id='Numbering".$counting."' onchange='OnChangeSelection(Numbering".$counting.".options[Numbering".$counting.".selectedIndex].value);'>");
for($k=1;$k<=$count;$k++)
{
if($k==($j-5))
{
echo("<option value='$k' selected='".$counting."'>$k</option>");
}
else
{
echo("<option value='$k'>$k</option>");
}
}
echo("</select>");
echo("</td>");
           echo("</tr>");
}
}
?> 
```

在上面的代码中，我打印三列第一部分是部分名称，第二列是部分详细信息，第三列是组合下拉框，其中包含 nuber 值，如图所示，

![在此处输入图像描述](../Images/9433c9abbd8729d2ebc0fae77f8db191.png)

这是改变的js，

```
function OnChangeSelection(selection)
{
alert(selection);
} 
```

如何更改它，以便在我们更改下拉值时它会更改具有相同值的另一个下拉？

希望您的建议提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:24:02.253

您在选择第一个组合以加载第二个下拉列表时调用一个 Ajax 函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T08:59:02.607

我在这里做了一些你需要的样本：http: [//jsfiddle.net/u8ySM/](http://jsfiddle.net/u8ySM/)

希望能帮助到你！

# telerik-grid - 删除方法中的参数始终为 NULL，不知道为什么

> ID：11535806
> 
> 赞同：0
> 
> 时间：2012-07-18T06:54:36.777
> 
> 标签：telerik-grid, telerik-mvc

我正在使用 Telerik mvc 3。

我有一个绑定到 ViewModel 的 Grid。

```
@(Html.Telerik().Grid<SampleProject.ViewModels.Location.RoomViewModel>()
            .Name("Grid")
            .ToolBar(cmd => cmd.Insert())
            .DataKeys(keys => keys.Add(c => c.RoomId))
            .DataBinding(dataBinding => dataBinding
                   .Ajax()
                   .Select("Selecting", "Location")
                        .Insert("Inserting", "Location")
                           .Update("Updating", "Location")
                           .Delete("Deleting", "Location" )
                       )
            .Columns(c =>
                {
                    c.Bound(o => o.RoomName);
                    c.Bound(o => o.MaxSeats);
                    c.Bound(o => o.HasScanner);
                    c.Bound(o => o.HasPrinter);
                    c.Bound(o => o.HasFlipchart);
                    c.Bound(o => o.HasBeamer);
                    c.Command(cmd =>
                        {
                            cmd.Edit();
                            cmd.Delete();
                        });
                })
          ) 
```

“插入”方法工作正常（我将 RoomViewModel 作为参数）。“选择”方法也有效，但“删除”方法不起作用。

```
 #region GridActions
    [GridAction]
    public ActionResult Selecting()
    {
        return View(new GridModel(this._currentLocation.Rooms));
    }

    [AcceptVerbs(HttpVerbs.Post)]
    [GridAction]
    public ActionResult Inserting(RoomViewModel rvm)
    {
        this._currentLocation.Rooms.Add(rvm);
        return View(new GridModel(this._currentLocation.Rooms));
    }

    [AcceptVerbs(HttpVerbs.Post)]
    [GridAction]
    public ActionResult Deleting(RoomViewModel rvm)
    {
        this._currentLocation.Rooms.Remove(rvm);
        return View(new GridModel(this._currentLocation.Rooms));
    } 
```

我也试过：

```
 public ActionResult Deleting(int rvm) --> internal error 500 - doesnt hit the breakpoint

        public ActionResult Deleting(string rvm)

        public ActionResult Deleting(object rvm) 
```

总是“NULL”，知道吗？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-28T19:54:26.047

实际上删除操作方法需要实体身份作为参数：

```
public ActionResult _DeleteAjaxEditing(int id) 
```

# c# - 复制 SharePoint 组的应用程序

> ID：11535807
> 
> 赞同：3
> 
> 时间：2012-07-18T06:54:41.080
> 
> 标签：c#, sharepoint, sharepoint-2007, sharepoint-api

根据此条目：[克隆共享点角色组](https://stackoverflow.com/questions/7990975/cloning-a-sharepoint-rolegroup)我正在尝试创建一个控制台应用程序来复制 SharePoint 组，包括其权限。

根据 Tjassens 的回答，我得出以下结论：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Microsoft.SharePoint;  

namespace REGroupCopy
{
    class Program
    {
        static void Main(string[] args)
        {
            using (SPSite spSite = new SPSite("http://dev"))
            {
                using (SPWeb spWeb = spSite.RootWeb)
                {
                    // first we find the group that we want to clone
                    SPGroup group = spWeb.Groups["Test Group"];

                    // then we use this retreived group to get the roleassignments on the SPWeb object
                    SPRoleAssignment ass = spWeb.RoleAssignments.GetAssignmentByPrincipal(group);

                    string groupName = "Test Group 2"; // group to create
                    string groupDescription = "Group created by REGroupCopy";
                    string user = "michael";

                    spWeb.SiteGroups.Add(groupName, user, user, groupDescription);
                    SPGroup newGroup = spWeb.SiteGroups[groupName];
                    SPRoleAssignment roleAssignment = new SPRoleAssignment(newGroup);

                    //add role to web
                    spWeb.RoleAssignments.Add(roleAssignment);
                    spWeb.Update();
                }
            }         
        }
    }
} 
```

不幸的是，我认为我没有正确理解所有内容。具体来说，我认为这些行是不正确的，但我不确定它们应该是什么：

```
 string groupName = "Test Group 2"; // group to create
                string groupDescription = "Group created by REGroupCopy";
                string user = "michael";

                spWeb.SiteGroups.Add(groupName, user, user, groupDescription); 
```

我不一定需要有人来帮我解决这个问题（毕竟，这是一个学习练习）。相反，您能否帮助我了解我的思维过程在哪里失败以及我需要学习什么来纠正这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-19T08:06:35.077

添加方法：First Param：新组名

第二个参数：所有者（SPUser 对象）

第三个参数：组的默认用户（SPMember 对象）。

第四个参数：新组描述

来自站点管理员新组

第一个参数就像**Name** TextBox

第二个参数和第三个参数就像**组所有者**人员选择器

第四个参数就像**关于我**RichTextBox

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-24T09:27:15.477

您已发现代码的正确问题。当您调用以下方法时：

```
spWeb.SiteGroups.Add(groupName, user, user, groupDescription); 
```

你忘记了用户不应该是一个字符串，而是一个实际的`SPUser`对象。如果您获得该`SPUser`对象，您应该能够将新组添加到 SPWeb/SPSite。

您可以使用例如获取用户对象：

```
SPUser spUser = spWeb.EnsureUser(loginName); 
```

# sql - 如何在 CakePHP 中实现距离查询？

> ID：11535808
> 
> 赞同：0
> 
> 时间：2012-07-18T06:54:46.043
> 
> 标签：sql, cakephp, cakephp-2.0, cakephp-2.1

我有一个查询（来自谷歌地图），如下所示：

```
SELECT ( 3959 * acos( cos( radians(MY_LAT) ) * cos( radians( LATITUDE ) ) * 
cos( radians( LONGITUDE ) - radians(MY_LONG) ) + sin( radians(MY_LAT) ) * sin( radians( 
LATITUDE ) ) ) ) AS distance
FROM zips
ORDER BY distance 
```

我宁愿这是 Cakephp 中的自定义查找，那么我该怎么做呢？

MY_LAT 和 MY_LONG 是传入的参数。 LATITUDE 和 LONGITUDE 是 zips 表中的列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T10:10:38.687

您可以使用类似地理编码器行为（[https://github.com/dereuromark/tools/blob/2.0/Model/Behavior/GeocoderBehavior.php#L208](https://github.com/dereuromark/tools/blob/2.0/Model/Behavior/GeocoderBehavior.php#L208)）的行为并将其附加到您的模型

```
$this->Model->Behaviors->attach('Tools.Geocoder'); 
```

并打电话

```
$this->Model->setDistanceAsVirtualField($lat, $lng, $fieldName); 
```

通过这种方式附加了一个虚拟字段，并将像任何其他普通字段一样检索并包含您的距离值。然后，您还可以按该字段排序/过滤。

# php - 使用 ms_connect 在 PHP 中连接 MS sql 2005

> ID：11535809
> 
> 赞同：0
> 
> 时间：2012-07-18T06:54:46.237
> 
> 标签：php, sql-server

我有 PHP 连接和使用 MS SQL 的问题。我在互联网上发现名为 mssql_connect() 的函数可以连接它并通过 remove 激活该函数；在 php.ini 之前。但是，在我重新启动 appserv 2.5.10 后，我在 phpinfo.php 页面中看不到 mssql_connect。任何人都可以给我一个建议。提前致谢！

我的 php.ini 文件

```
;extension=php_bz2.dll
;extension=php_curl.dll
;extension=php_dba.dll
;extension=php_dbase.dll
;extension=php_exif.dll
;extension=php_fdf.dll
;extension=php_gd2.dll
;extension=php_gettext.dll
;extension=php_gmp.dll
;extension=php_ifx.dll
;extension=php_imap.dll
;extension=php_interbase.dll
;extension=php_ldap.dll
;extension=php_mbstring.dll
;extension=php_mcrypt.dll
;extension=php_mhash.dll
;extension=php_mime_magic.dll
extension=php_ming.dll
extension=php_msql.dll
extension=php_mssql.dll
;extension=php_mysql.dll
;extension=php_mysqli.dll
;extension=php_oci8.dll
;extension=php_openssl.dll
;extension=php_pdo.dll
;extension=php_pdo_firebird.dll
extension=php_pdo_mssql.dll
;extension=php_pdo_mysql.dll
;extension=php_pdo_oci.dll
;extension=php_pdo_oci8.dll
;extension=php_pdo_odbc.dll
;extension=php_pdo_pgsql.dll
;extension=php_pdo_sqlite.dll
;extension=php_pgsql.dll
;extension=php_pspell.dll
;extension=php_shmop.dll
;extension=php_snmp.dll
;extension=php_soap.dll
;extension=php_sockets.dll
;extension=php_sqlite.dll
;extension=php_sybase_ct.dll
;extension=php_tidy.dll
;extension=php_xmlrpc.dll
;extension=php_xsl.dll
;extension=php_zip.dll 
```

注意：我不使用 IIS（有影响吗？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:58:10.573

能否请您检查文件夹中的 php_msql.dll 是否可用，如果没有，您需要从 Internet 下载...

# xcode - Windows 身份验证/SSO 在 Mac OS X 机器上使用 XCode 到 Windows Server 2008 上的 Subversion

> ID：11535812
> 
> 赞同：1
> 
> 时间：2012-07-18T06:54:55.513
> 
> 标签：xcode, svn, windows-server-2008

我的任务是提出一个代码存储库来托管我们内部开发的 iOS 应用程序的 Objective-C 代码。虽然我们确实有一个现有的 Microsoft TFS 实例，但将 TFS 与 XCode 桥接的可用解决方案（例如 SVNBridge 和 Team Explorer Everywhere）对于我们的要求来说有点麻烦和“hackish”。

我推荐使用 Subversion，但我们主要是微软公司，使用 Windows 身份验证/SSO/Kerberos 来满足我们的身份验证要求。我的问题如下：

*   SVN 是否支持这些认证协议？
*   显然我们需要使用 Mac OS X/XCode 进行开发 - 虽然 Mac OS X 可以支持 windows 域身份验证，但如果我们需要将身份验证与 SVN 集成，使用 SSO，这将如何工作？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T13:02:07.683

做了一些进一步的研究，我能够找到自己的答案，并进一步创建了一个可行的概念验证。

***SVN 是否支持这些认证协议？*** 据我所知，SVN 可以通过在 Apache 中运行 SVN 并使用 SSPI 模块与您的 Windows 域控制器进行交互来支持 Windows 身份验证。这些链接非常有帮助：

[使用 SVN + Apache 进行版本控制](http://csliu.com/2009/07/version-control-using-svn-apache/)

[http://geekswithblogs.net/flanakin/archive/2005/08/31/51743.aspx](http://geekswithblogs.net/flanakin/archive/2005/08/31/51743.aspx)

***显然我们需要使用 Mac OS X/XCode 进行开发 - 虽然 Mac OS X 可以支持 windows 域身份验证，但如果我们需要将身份验证与 SVN 集成，使用 SSO，这将如何工作？*** 我不清楚的是 Xcode 使用什么来验证 SVN - Mac 凭据或在命令行中使用 svn 时输入的凭据。我注意到的一件事是，除非您在命令行中进行结帐，否则 Xcode 将无法使用 SVN 工作/连接或进行身份验证。我假设 Xcode 以某种方式使用这些凭据。执行结帐并重新启动 Xcode 后，我就可以顺利连接到我的存储库。也无需在管理器中存储库的用户名和密码字段中输入凭据。

重要的是要注意客户端（Xcode 和 svn 命令行）在身份验证方面发生的事情仍然是基本身份验证，因此您的凭据以清晰的 base64 编码文本通过线路发送。应实施 SSL/TLS 以规避此风险。

# c# - MSMQ并发处理设计问题

> ID：11535813
> 
> 赞同：6
> 
> 时间：2012-07-18T06:55:00.177
> 
> 标签：c#, concurrency, windows-services, msmq

我有一个用 C# 编写的 Windows 服务，它从 MSMQ 读取并根据消息的类型将它们分配给在工作线程中处理该消息的代理。应用程序在没有代理的情况下启动，并在消息到达 MSMQ 时在运行时动态创建

这是它如何工作的基本图：

![在此处输入图像描述](../Images/e7d20f15f7411badbbebf2c21078e2b9.png)

如果代理工作线程忙于工作，则消息将排队到其本地队列中。到目前为止，一切都很好。但是如果由于某种原因停止了服务，本地队列内容就会丢失。

我试图找出处理这种情况的最佳方法。现在本地队列是一个`System.Concurrent.ConcurrentQueue`. 我可能会使用 Sql Ce db 或其他一些持久存储，但我担心性能。我想到的另一件事是只有在代理准备好处理消息时才从 MSMQ 读取，但问题是我不知道 MSMQ 将包含什么消息。

在这个问题上我可以采取哪些可能的方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T07:18:30.460

您的设计基本上实现了以下模式：[http ://www.eaipatterns.com/MessageDispatcher.html](http://www.eaipatterns.com/MessageDispatcher.html)

但是，您选择在多线程代码中实现调度程序，而不是使用实际的消息传递。

相反，每个处理代理应该是一个具有自己的物理消息队列的自治进程。这将在失败的情况下提供消息持久性。它还允许您通过托管更多处理代理实例来进行扩展。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T07:12:17.610

我已经建立了一个类似的依赖于 Redis 的系统。这个想法是它提供了内存 - 与应用程序的其余部分隔离的快速数据访问，并且不会在我的服务关闭时关闭。此外，它最终会将我的数据保存到磁盘上，因此我在可靠性和速度之间取得了很好的折衷。

如果您将其设计为每个客户端都从其自己的将托管在 Redis 中的消息队列中读取，那么您可以使队列独立于服务的停机时间，并且在您下次启动服务时分配每个工作人员的负载。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T07:17:59.830

为什么不简单地创建两个新的 msms 队列来接收 Agenta 和 agentb 的消息，并创建一个新的代理（以事务方式）从主队列中获取命令并将消息分派到正确的代理队列？

# css - 如何在 CSS 中使用媒体查询

> ID：11535814
> 
> 赞同：3
> 
> 时间：2012-07-18T06:54:59.717
> 
> 标签：css

我非常热衷于在我的 CSS 中使用媒体查询，但我对如何使用它感到困惑。我有立场

我的查询要求是

如果屏幕宽度是 100 到 480 则不同的风格来了，

如果屏幕宽度为 481 到 600 则不同的风格来了，

如果屏幕宽度 601 到 800 则不同的风格来了，

如果屏幕宽度为 801，则默认 CSS 应该可以工作。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-18T07:01:24.690

```
.class { /* default style */ }

@media (min-width: 100px) and (max-width: 480px) {
 .class { /* style */ }
}

@media (min-width: 481px) and (max-width: 600px) {
 .class { /* style */ }
}

@media (min-width: 601px) and (max-width: 800px) {
 .class { /* style */ }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-18T07:03:58.090

基本依赖于使用这种查询：

```
@media (min-width: 768px) and (max-width: 979px) {
/*here goes the exact changes you need to make in order to make 
your site pretty on this range.*/
} 
```

请记住，在使用响应式网页设计时，您应该尽可能使用百分比，字体也应使用 em。

媒体查询现在可用于 IE。当您可以使用它们时，请查看[http://caniuse.com/#feat=css-mediaqueries 。](http://caniuse.com/#feat=css-mediaqueries)我使用的一个效果很好的 polyfil 是 response.js

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-18T06:59:00.067

我相信类似的东西：

```
@media screen and (min-width: 100px) and (max-width: 480px)
{
    /* Change main container '.wrapper' */
    .wrapper
    {
        width: 100px;
    }
}

@media screen and (min-width: 480px) and (max-width: 600px)
{
    .wrapper
    {
        width: 480px;
    }
} 
```

..ETC

# jasper-reports - 使用 jrxml 生成 pdf

> ID：11535817
> 
> 赞同：0
> 
> 时间：2012-07-18T06:55:09.887
> 
> 标签：jasper-reports, pdf-generation

> **可能重复：**
> [jasper ireport 字段长度问题](https://stackoverflow.com/questions/3985286/jasper-ireport-field-length-problem)

我正在使用 spring 完成这个 web 应用程序。它使用 .jrxml 文件生成 pdf 文件。

我面临的问题是，当文本数据的宽度太长时，pdf 中的所有对齐方式都会出错，它会显示一个有线的 pdf 语句。

我是 jrxml 东西和碧玉报告的新手。

有什么方法可以修改 jrxml 文件以动态更改以 pdf 格式打印的表格的宽度，或多行打印文本来解决此问题？

目前它有一个固定的宽度

```
 <line>
            <reportElement x="395" y="28" width="79" height="1"/>
        </line> 
```

希望这些信息就足够了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T20:40:47.197

您可以将文本字段属性“Stretch With Overflow”设置为 true，这可能会对您有所帮助。

# ruby - 删除ruby中的重复数据

> ID：11535818
> 
> 赞同：0
> 
> 时间：2012-07-18T06:55:11.097
> 
> 标签：ruby

我想根据所有三个字段从我的代码中删除重复项，即基于事件名称、日期和时间，如果所有三个字段都匹配两个事件，那么应该删除一个仅显示唯一事件的代码。我编写的代码有效仅适用于一个字段，即基于事件名称的删除条目。我如何匹配所有三个字段。我正在使用 & 但没有成功。

```
include Enumerable

list = [
  {
     :eventname => "music show",
     :date => "1st august",
     :time => "9 pm"
  },
  {
      :eventname => "dance show",
      :date => "11st august",
      :time => "9 pm"
  },
  {
      :eventname => "music show",
      :date => "1st august",
      :time => "9 pm"
  },
  {
       :eventname => "music show",
       :date => "15st august",
       :time => "9 pm"
  },
  {
      :eventname => "magic show",
      :date => "12st august",
      :time => "9 pm"
  },
  {
      :eventname => "rock show",
      :date => "1st august",
      :time => "9 pm"
  }
]

b=list.group_by{|r| r[:eventname]}.map do |k, v|
    v.inject({}) { |r, h| r.merge(h){ |key, o, n| o || n } }
end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T07:06:47.720

使用`uniq`方法`Array`：

```
list.uniq 
```

# javascript - 如何使用 setinterval 访问“this”

> ID：11535819
> 
> 赞同：0
> 
> 时间：2012-07-18T06:55:19.740
> 
> 标签：javascript

我尝试在 setinterval 函数实现后访问“this”，但无法从该函数访问它。图示如下：

```
apple:'apple',
orange:'orange',
pie:'pie',
initialize:function(){
    var self = this;
    setInterval(this.print(),100);
},
print:function(){
    console.log('print '+ this.apple + ' - ' + this.orange + ' - ' + this.pie);
} 
```

**输出**：未定义

如果我将 this 作为函数的参数传入，则间隔只调用一次并停止。

```
apple:'apple',
orange:'orange',
pie:'pie',
initialize:function(){
    var self = this;
    setInterval(this.print(this),100);
},
print:function(self){
    console.log('print '+ self.apple + ' - ' + self.orange + ' - ' + self.pie);
} 
```

**输出**：打印苹果 - 橙 - 派（之后停止）

在我调用 setinterval 之后，我将如何访问“this”变量？

这是[jsfiddle 示例](http://jsfiddle.net/mochatony/bwB9W/18/)。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T07:06:38.527

使用匿名函数调用使用 self 变量的函数，这将确保函数将在 self 的范围内调用，因此您可以使用 this 直接访问变量

```
initialize:function(){
    var self = this;
    setInterval(function() { self.print() },100);
},
print:function(){
    console.log('print '+ this.apple + ' - ' + this.orange + ' - ' + this.pie);
    //console.log(apple);
    //console.log(apple);
} 
```

[http://jsfiddle.net/RHqk6/2/](http://jsfiddle.net/RHqk6/2/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-18T06:59:22.030

```
setInterval(_.bind(this.print, this), 100); 
```

[http://jsfiddle.net/bwB9W/21/](http://jsfiddle.net/bwB9W/21/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T01:25:17.910

我今天遇到了这个问题，但在 mozilla.org 上找到了一个很好的解释，解释**了这个问题**和不同的解决方案：

来自 [https://developer.mozilla.org/en-US/docs/DOM/window.setInterval#The_.22this.22_problem](https://developer.mozilla.org/en-US/docs/DOM/window.setInterval#The_.22this.22_problem)

> 解释
> 
> 由 setInterval() 执行的代码在与调用它的函数不同的执行上下文中运行。因此，被调用函数的 this 关键字将被设置为窗口（或全局）对象，它不会与调用 setTimeout 的函数的 this 值相同。请参阅以下示例（实际使用 setTimeout() 而不是 setInterval() - 实际上两个计时器的问题是相同的）：

他们在那里有一个对我有用的解决方案

> 一个可能的解决方案
> 
> 解决“this”问题的一种可能方法是将两个本地 setTimeout() 或 setInterval() 全局函数替换为两个非本地函数，这将通过 Function.prototype.call 方法启用它们的调用。以下示例显示了可能的替换：

```
// Enable the passage of the 'this' object through the JavaScript timers

var __nativeST__ = window.setTimeout, __nativeSI__ = window.setInterval;

window.setTimeout = function (vCallback, nDelay /*, argumentToPass1, argumentToPass2, etc. */) {
  var oThis = this, aArgs = Array.prototype.slice.call(arguments, 2);
  return __nativeST__(vCallback instanceof Function ? function () {
    vCallback.apply(oThis, aArgs);
  } : vCallback, nDelay);
};

window.setInterval = function (vCallback, nDelay /*, argumentToPass1, argumentToPass2, etc. */) {
  var oThis = this, aArgs = Array.prototype.slice.call(arguments, 2);
  return __nativeSI__(vCallback instanceof Function ? function () {
    vCallback.apply(oThis, aArgs);
  } : vCallback, nDelay);
}; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T06:59:04.183

您应该使用匿名函数。

```
apple:'apple',
orange:'orange',
pie:'pie',
initialize:function(){
    var self = this;
    setInterval( function() { self.print() },100);
},
print:function(){
    console.log('print '+ this.apple + ' - ' + this.orange + ' - ' + this.pie);
} 
```

# android - 如何将 ImageView 添加为 ListView 标头？

> ID：11535826
> 
> 赞同：4
> 
> 时间：2012-07-18T06:56:07.437
> 
> 标签：android, listview, header

谁能帮我找出如何将 ImageView 作为标题添加到 ListView？

我的代码在这里：

```
LayoutInflater inflater = (LayoutInflater) getApplicationContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
View snapshot = inflater.inflate(R.layout.map_snapshot, null);

ListView channelsList = (ListView) findViewById(R.id.channelsList);
channelsList.addHeaderView(snapshot); 
```

到目前为止，它什么也没显示。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-18T07:00:27.850

尝试通过父（ListView）作为参数来膨胀你的标题视图：

```
ListView channelsList = (ListView) findViewById(R.id.channelsList);
View snapshot = inflater.inflate(R.layout.map_snapshot, channelList, false); 
```

然后，只需将其添加到 ListView：

```
channelsList.addHeaderView(snapshot); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:59:50.810

您可以使用 CommonsWare [MergeAdapter](https://github.com/commonsguy/cwac-merge)或[SectionedListAdapter](https://github.com/commonsguy/cw-advandroid/tree/master/ListView)。有了这个库，您可以`View`在`Listview`. 有关更多信息，请参阅[此 SO 问题](https://stackoverflow.com/questions/1606320/android-custom-separator-or-even-item-in-listview-depening-on-content-of-item)和接受的答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T06:59:52.413

尝试：

```
ListView channelsList = (ListView) findViewById(R.id.channelsList);
LayoutInflater inflater = getLayoutInflater();
ViewGroup header = (ViewGroup)inflater.inflate(R.layout.map_snapshot, channelsList , false);
channelsList .addHeaderView(header, null, false); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T07:00:34.170

在布局 map_snapshot 中，你必须有父布局，因为这里我采用了线性布局，同样采用了它。

```
 ListView channelsList = (ListView) findViewById(R.id.channelsList);
    LinearLayout headerView = (LinearLayout) getLayoutInflater().inflate(R.layout.map_snapshot, null);
    listView.addHeaderView(headerView); 
```

如果要在布局中添加视图：

```
TextView mUsername=(TextView) headerView.findViewById(R.id.user_name); 
```

# html - 响应高度与宽度成比例

> ID：11535827
> 
> 赞同：28
> 
> 时间：2012-07-18T06:56:14.537
> 
> 标签：html, css, responsive-design

是否可以实现以下逻辑使用 HTML 和 CSS？

```
width: 100%;
height: 30% of width; 
```

我要实现的内容：如果我减小宽度，高度也会按比例减小。

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2013-08-10T18:18:34.130

## 填充百分比

这可以通过给出元素`height:0`和来实现`padding-bottom:30%`。

在所有浏览器中，当以 % 指定填充时，它是相对于父元素的宽度计算的。这对于响应式设计来说是一个非常有用的功能。

[JSFiddle 演示](http://jsfiddle.net/Matt_Coughlin/agtyt/3/)

在[演示](http://jsfiddle.net/Matt_Coughlin/agtyt/3/)中，页面顶部的蓝色框是单个`div`. 高度是响应式的，它可以在不增加高度的情况下包含可变数量的内联内容。它在 IE7/8/9/10、Firefox、Chrome、Safari 和 Opera 中测试良好。

```
.content {
    width: 100%;
    height: 0;
    padding-bottom: 30%;
}
...
<div class="content"></div> 
```

## 填充百分比和绝对位置

如果使用 0 高度元素有任何问题，该[演示](http://jsfiddle.net/Matt_Coughlin/agtyt/3/)还有一个使用包装器元素和绝对位置实现的绿色框。不确定这种方法是否有任何优势。

```
.wrapper {
    position: relative;
    width: 100%;
    padding-bottom: 30%;
}
.wrapper .content {
    position: absolute;
    width: 100%;
    height: 100%;
}
...
<div class="wrapper">
    <div class="content"></div>
</div> 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2016-07-06T06:12:26.357

这现在可以在具有`vw`和`vh`单位的现代浏览器上实现：

```
width: 100vw;
height: 30vw; /* 30% of width */ 
```

浏览器支持：[http ://caniuse.com/#feat=viewport-units](http://caniuse.com/#feat=viewport-units)

是的！

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-04-09T20:52:26.740

同样使用 JQuery，您可以执行以下操作：

```
$(window).ready(function () {
    var ratio = 3 / 10, $div = $('#my_proportional_div');
    $div.height($div.width() * ratio);
    $(window).bind('resize', function() { $div.height($div.width() * ratio); });
}); 
```

因为建议的**Padding %**解决方案不适用于`max/min-width`and `max-min height`。

# c# - 将桌面应用程序转换为 Web 应用程序

> ID：11535829
> 
> 赞同：2
> 
> 时间：2012-07-18T06:56:35.020
> 
> 标签：c#, asp.net, sql, webforms, vb6-migration

在工作中，我们目前正在讨论我们的产品需要成为 Web 应用程序的可能性，这主要是因为易于分发（例如，让我们客户的 IT 部门设置服务器）。

我们的桌面应用程序严重依赖用户输入，它有很多表单和数百个控件，这些控件根据其他控件显示和隐藏。

我的问题是，是否有一种 NICE/EASY 的方式——无需改造整个产品，这是我们目前的解决方案——来简化 Web 开发？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T09:30:24.343

如果易于分发是主要问题，那么使用 Windows 窗体 ClickOnce 可能是一个可行的选择，因为您可以在网页上发布应用程序，并且用户可以从该网页运行应用程序，但它作为本地 Windows 窗体应用程序运行 - 并且如果您不需要对本地注册表或其他提升权限操作进行任何更改，那么您在该计算机上只需要正确的 .NET Framework 即可运行。

# android - 为什么处理程序中的文本没有更新？

> ID：11535835
> 
> 赞同：0
> 
> 时间：2012-07-18T06:57:19.480
> 
> 标签：android, textview

我正在尝试更新两个`TextViews`txtName 和 textEndName。当我调试时，它有时会更新文本，但其余时间它不起作用。有时它可以工作，但并不完全符合预期。下面给出的代码有什么问题？

```
 txtName = (TextView) findViewById(R.id.txtstarttag);
    textEndName = (TextView) findViewById(R.id.txtendtag);
    startSec = (TextView) findViewById(R.id.txtstartsecnd);
    endSec = (TextView) findViewById(R.id.txtendsecnd);
    btnplay = (ImageButton) findViewById(R.id.btnplay);
    btnback = (Button) findViewById(R.id.btnback);
    btnback.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            ((MyMixes) getParent()).goBack();
        }
    });

    btnplay.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            btnClick();
        }
    });

    splitArray();

    Thread t = new Thread()
    {
        public void run() 
        {
            while (isDownloading) 
            {
                if (Data.filenames != null && Data.filenames.size() >= (getIntent() .getExtras().getInt("index") + 1) && Data.filenames.get(getIntent().getExtras() .getInt("index")) != null) 
                {
                    try 
                    {
                        mediaPlayer = new MediaPlayer();
                        mediaPlayer.setDataSource(Data.filenames.get(getIntent().getExtras().getInt("index")));
                        mediaPlayer.prepare();
                        mediaPlayer.start();
                        Timer t = new Timer();

                        handler.postDelayed(onEverySecond, 1000);
                        mediaPlayer.setOnCompletionListener(new OnCompletionListener() 
                        {
                            @Override
                            public void onCompletion(MediaPlayer mp) {
                                mediaPlayer.seekTo(0);
                            }
                        });
                        boolean isPlaying = mediaPlayer.isPlaying();
                        if(!isPlaying){
                            mediaPlayer.pause();

                        }
                    } catch (IllegalArgumentException e) {
                        e.printStackTrace();
                    } catch (IllegalStateException e) {
                        e.printStackTrace();
                    } catch (IOException e) {
                        e.printStackTrace();
                    } catch (Exception e) {
                        e.printStackTrace();
                    } finally {
                        isDownloading = false;
                    }
                }
            }
        }
    };
    t.start();
}

private Runnable onEverySecond=new Runnable()
{
    public void run() 
    {
        if (mediaPlayer.isPlaying()) 
        {
            for (int i = index; i < intervals.length; i++) 
            {
                if (i != index && mediaPlayer.getCurrentPosition() > intervals[i]) 
                {
                    index = i;
                    handler.dispatchMessage(handler.obtainMessage());
                    handler.postDelayed(onEverySecond, 1000);
                    break;
                }
            }
        }
    }
};

Handler handler = new Handler() 
{
    @Override
    public void handleMessage(Message msg) {
        txtName.setText(arrName.get(index));
        textEndName.setText(arrName.get(index+1));
        super.handleMessage(msg);
    }
};

public void splitArray()
{

    strSplit = kggg.split("\n");// string array
    intervals = new long[strSplit.length];
    Time timer;

    for (int j = 0; j < strSplit.length; j++) 
    {
        split = strSplit[j];// string
        split1 = split.split("-");// string array

        arrName.add(split1[0]);
        String timeq = split1[1];

        String[] timed = timeq.split(":");

        if(timed.length == 3)
        {
            timer = new Time(Integer.parseInt(timed[0].trim()), Integer.parseInt(timed[1].trim()), Integer.parseInt(timed[2].trim()));
            intervals[j] = timer.getTime();
        }
        else if(timed.length == 2)
        {
            timer = new Time(0, Integer.parseInt(timed[0].trim()), Integer.parseInt(timed[1].trim()));
            intervals[j] = timer.getTime();
        }
        else if(timed.length == 1)
        {
            timer = new Time(0, 0, Integer.parseInt(timed[0].trim()));
            intervals[j] = timer.getTime();
        }
    }

    for (int j = intervals.length-1; j >= 0 ; j--) 
    {
        intervals[j] = intervals[j] - intervals[0]; 
    }
}
public void btnClick()
{
    k++;
    k = k % 2;
    startSong(k);
}
private void startSong(int i) {
    if (i == 1) {
        System.out.println("11111" + i);
        btnplay.setImageResource(R.drawable.pause);
        try {
            System.out.println("start try chech------");
            mediaPlayer.start();
        } catch (Exception e) {
            mediaPlayer.pause();
        }
    }
    if (i == 0) {
        btnplay.setImageResource(R.drawable.play);
        mediaPlayer.pause();
        System.out.println("00000" + i);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T09:08:36.457

你不应该这样做：

```
handler.dispatchMessage(handler.obtainMessage()); 
```

试试这个：

```
handler.sendMessage(handler.obtainMessage()); 
```

**编辑：添加了我注意到的其他内容**

我还看到，在您的 Thread 中有一个循环`while (isDownloading)`，并且您在块中设置`isDownloading`为。这个循环虽然永远不会运行超过一次。`false``finally`

另外，你做

```
btnplay.setImageResource(R.drawable.play); 
```

在一个头内。这不好。您需要在主 (UI) 线程上执行与 UI 相关的所有操作。

# parallel-processing - 制作“原子”的东西本质上只是一种锁定机制吗？

> ID：11535837
> 
> 赞同：1
> 
> 时间：2012-07-18T06:57:27.833
> 
> 标签：parallel-processing, theory, atomic

来自 OpenMP 摘要 pdf：“操作确保以原子方式更新特定存储位置”。这为我提出了一个问题，什么是“原子”，以及它是否只是一种锁定机制。因此，如果我没记错的话，“原子”意味着内置了一些硬件支持以防止其他任何东西改变值。那么做一些“原子”的东西本质上只是实现了一个锁定机制还是更多的东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T00:04:59.157

我认为围绕“原子性”与“隔离”可能存在一些混淆。它们是相似的概念，但它们之间存在细微差别。原子性意味着操作要么完全完成，要么根本不完成。隔离保证同时发生的操作会导致可能由它们串行执行引起的状态。

例如，如果操作是“将 1 加到 x，然后将 x 乘以 2”，并且 x 从 3 开始，则如果有任何失败，结果将为 3，如果没有，则结果为 8。即使加 1 后立即断电，重启时的结果也保证为 3。

现在考虑如果这个操作同时执行两次会发生什么。两者都可能失败，导​​致 x=3。一个可能会失败，x=8。两者都可以成功，x=18。如果我们保证隔离，这些是唯一的结果。但是，如果我们只给定原子性，而不是隔离，可能会发生第四个结果，其中各个部分交错为“加 1，加 1，乘以 2，乘以 2”，导致 x=20！

如果只保证隔离，但不保证原子性，则最终可能会得到 x=3、4、5、8、10 或 18。

尽管如此，这是一个常见的误解，当人们说“原子性”时，他们通常是指两者。这是我对 OpenMP 文档中它们的含义的怀疑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T11:09:29.447

更新存储在内存中的值是一个三步过程。首先，从内存中取出值并将其带到 CPU 的一个寄存器中。然后，寄存器中的值以某种方式改变（比如递增）。最后，将新值写回内存，以便再次使用。

以原子方式执行此（或任何其他）操作仅意味着所有这三个步骤都会发生，或者它们都不会发生。

只有当您有另一个线程或进程也需要使用相同的内存值时，它才会变得有趣或重要。假设两者都想增加最初为零的值。如果没有原子操作，第二个线程可能会从内存中读取原始值 (0)，即使第一个线程在寄存器中递增它也是如此。实际上，两个线程都可以看到值 0，将其递增到 1，然后将其返回到内存。在此序列结束时，尽管已增加两次，但内存中的值仍为 1。

使用原子增量操作，该序列不可能发生。一旦第一个线程进入原子序列，在第一个线程递增并将其写回内存之前，第二个线程无法读取内存中的值。您将始终获得正确的值 (2)。

因此，要回答您的问题，它*几乎*就像一个锁定机制。特别是，它就像一个锁定机制存在于任何原始操作周围。原子操作本身经常用于其他锁定机制的实现，例如互斥锁和信号量。

# windows - 无论如何用mingw编译webkit？

> ID：11535838
> 
> 赞同：1
> 
> 时间：2012-07-18T06:57:29.403
> 
> 标签：windows, webkit, mingw, wxwidgets

我会为 Windows 构建 webkit。但是在[webkit 构建页面上，](http://www.webkit.org/building/tools.html)他们说要使用 msvc 编译器，而我想使用 mingw。我看到可以用它构建 qtWebKit，但我不想要 qt。我可以直接使用 mingw 而不是 msvc 编译而不进行修改还是必须更改一些文件？

谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T15:11:40.157

我建议你构建 mingw32-webkitgtk 的 fedora 包，而不是依赖于 msvc 或任何其他 Windows 特定工具。

# jquery - 表单标签中的名称属性在 jquery 的 Firefox 中无法正常工作

> ID：11535840
> 
> 赞同：1
> 
> 时间：2012-07-18T06:57:38.327
> 
> 标签：jquery, html, firefox, google-chrome

这是我的jQuery：

```
$(document).ready(function(){
    $(myForm.elements).hide();
} 
```

这是表单在 html 中的外观：

```
<form name="myForm"></form> 
```

在 Firefox 中运行它会抛出一个错误：`myForm is not defined`

但是，此代码将在 Chrome 和 Opera 中成功运行。如何解决 Firefox 中的此错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T07:03:49.703

您可以`document.forms[0]`改用，但如果您的页面上有多个表单，这可能不是最佳解决方案。

我会使用选择器而不是对象

```
$('form[name="myForm"] :input') 
```

或者

```
$('#myForm :input');

<form id="myForm"> 
```

: [input 选择器](http://api.jquery.com/input-selector/)“选择所有输入、文本区域、选择和按钮元素。”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T06:57:38.327

代替

```
 `myForm.elements` 
```

和

```
 `document.forms[0].elements` 
```

现在它将适用于所有浏览器。注意，这是我的第一个表格，所以我的索引为 0，用适当的数字替换它。

# xcode - 无法附加到进程 ID Xcode

> ID：11535844
> 
> 赞同：114
> 
> 时间：2012-07-18T06:57:47.407
> 
> 标签：xcode, build, ios-simulator, pid

有人遇到过这个问题吗？昨天我仍然可以在模拟器中运行我的应用程序，但现在我无法运行我的应用程序，因为 Xcode 在控制台中打印了这个错误：

```
error: failed to attach to process ID <ID number> 
```

[![错误截图](../Images/91ef3c309efc295ecd23c937874956bc.png)](https://i.stack.imgur.com/FzEfO.png)

我试图重新安装，做这篇[文章](https://stackoverflow.com/questions/10323481/thread-1-stopped-at-breakpoint-1/10323839#10323839)并创建新项目，但没有成功。任何人都可以解决这个问题？

我使用 Xcode 4.5 Preview 2 并尝试运行 iOS 模拟器 6

* * *

## 回答 #1

> 赞同：153
> 
> 时间：2012-10-10T12:49:56.747

重置模拟器中的内容和设置对我有用。这在“iOS 模拟器”菜单中可用。

* * *

## 回答 #2

> 赞同：45
> 
> 时间：2012-09-14T11:47:38.280

转到产品菜单并在那里找到编辑方案菜单。

在 Edit Scheme 窗口中，选择屏幕左侧的“Run”选项，然后在右侧，将调试器从 LLDB 更改为 GDB。

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2012-10-11T08:44:20.610

我遇到了同样的问题，过了一会儿我发现这是由于我的 XCode 项目包含对名为***Resources*****的文件夹的文件夹引用**。

 *XCode 似乎不喜欢这个名字。

只需**删除文件夹引用**或**重命名文件夹**即可解决问题。

* * *

## 回答 #4

> 赞同：20
> 
> 时间：2012-10-08T05:35:52.057

**两种方法**

**方法1**：在文件夹**Application Support -> iPhone Simulator ->*在iOS的每个模拟器版本中*-> Applications ->*删除此处存在的所有文件。***

现在转到**产品 -> 清洁**

现在在任何模拟器上运行它，它就会工作。

**方法二**：

![点击重置](../Images/b49105eec9ac58436c0741a55db94a46.png)

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2013-04-08T05:57:54.843

# 第一步：平

```
$ ping localhost 
```

这应该返回类似

```
PING localhost (127.0.0.1): 56 data bytes
64 bytes from 127.0.0.1: icmp_seq=0 ttl=64 time=0.028 ms
64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.048 ms
... 
```

如果可行，此答案将无法解决您的问题，请尝试其他方法。

如果 ping 返回其他内容，例如：`ping: cannot resolve localhost: Unknown host`您的`/etc/hosts`文件有问题，请转到**第 2 步**

# 第二步：检查 /etc/hosts

检查`/etc/hosts`文件的顶部是否如下所示

```
127.0.0.1       localhost
255.255.255.255 broadcasthost
::1             localhost 
fe80::1%lo0     localhost 
```

如果文件中没有这些条目，请在文件顶部输入它们，使用刷新 dns 缓存`$ dscacheutil -flushcache`并返回**步骤 1**，否则继续**步骤 3**。

# 第三步：正确的文件格式：应该是 unix 或 LF [*](http://techpatio.com/2011/guides-how-to/fixed-mac-osx-lion-etc-hosts-bugs-dns)

```
$ file /etc/hosts 
```

这应该返回：`/etc/hosts: ASCII English text`

如果它返回类似`/etc/hosts: ASCII English text, with CR line terminators` 的内容，则文件格式错误，可能会被忽略。

使用您喜欢的文本编辑器将文件行结尾更改为 unix 或 LF。

*   在 Sublime Text 2 中，这可以通过视图菜单完成： **View > Line Endings > Unix**

刷新 dns 缓存 ( `$ dscacheutil -flushcache`) 并返回**步骤 1**

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2012-12-12T23:46:53.400

与fundtimer的回答类似，本地主机文件似乎是罪魁祸首。

无意更改后，我不得不将`/etc/hosts`权限更改回默认值：

```
sudo chmod 644 /etc/hosts 
```

之后，模拟器/LLDB 为我工作。

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2018-09-05T13:23:40.257

这是一个老话题，但我相信最新版本的 macOS 发生了一些变化。

我在尝试在 macOS Mojave Beta 和 Xcode 9.4.1 的模拟器中为 iOS 应用程序运行 UI 测试套件时偶然发现了这个问题。

事实证明，在 macOS Mojave 上，该`codesign`工具（它是操作系统本身的一部分，而不是命令行工具或 Xcode 的一部分）将进程签名到一个**强化的运行时**环境中，其中包括运行时代码签名强制、库验证、hard、kill、和调试限制。这与 macOS Mojave 中的系统完整性保护一起防止 lldb 调试器连接到正在运行的目标。

要解决此问题，您必须选择：

1.  一个明显的可能就是使用 Xcode 10。它似乎可以优雅地处理连接。

2.  将操作系统重新启动到恢复模式，然后使用 . 从终端关闭系统完整性保护`csrutil disable`。调试器然后愉快地连接。

我花了很多时间来解决这个问题，并且在阅读以下文章后能够解决所有问题：[http ://www.lapcatsoftware.com/articles/debugging-mojave.html](http://www.lapcatsoftware.com/articles/debugging-mojave.html)

只是我的两分钱。希望这可以帮助某人。

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2013-01-19T11:49:29.097

我以某种方式从 /etc/hosts 文件中删除或删除了记录，我得到了同样的错误。您应该检查 /etc/hosts 文件中是否有“127.0.0.1 localhost”行。这对我有帮助！

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2015-10-04T01:54:48.747

我知道这是一个老问题，但当我在谷歌搜索“未能附加到进程 ID”时，它首先出现在我身上。我正在使用 Xcode 7。在 iOS9 发布之后发生，我已经为 swift 2 更新了我的 swift 应用程序。

在模拟器中删除我的应用程序并进行新的构建并运行将其清除。

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2013-07-16T06:53:43.200

我通过删除 Xcode Derived 数据内容解决了这个问题。

在查找器中按 SHIFT+CMD+G 并在路径下方键入并删除 DerivedData 中的所有数据：

```
 ~/Library/Developer/Xcode/DerivedData 
```

![在此处输入图像描述](../Images/8524049253f6a7a4123376982e1c04a9.png)

还重置模拟器版本

```
 ~/Library/Application Support/iPhone Simulator/6.0/Applications 
```

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2013-03-07T17:34:24.850

我刚刚从模拟器中删除了应用程序（就像在实际设备上一样），当我重新运行它时，一切正常。

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2012-12-20T12:37:59.797

我在设备上调试时遇到了同样的问题。该应用程序在启动时崩溃，但未显示为正在运行的进程。

我的解决方案是使用一些进程查看器应用程序（例如系统状态或类似的）。找到过时的应用程序，然后找到通常是*debugserver**的父进程 ID*。

 *继续 Xcode，产品 -> 附加到进程 -> 按进程 ID 并附**加到*调试服务器***进程 PID。稍等片刻，然后按*停止*按钮。

陈旧的调试服务器和应用程序进程消失。

（使用模拟器时，相当于使用终端，ps，并杀死App进程。虽然没有尝试过）。

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2013-05-09T09:37:33.290

我也有同样的问题，对我来说解决方案是：-

只需从模拟器中删除应用程序，然后清除并运行项目。

愿它也对其他人有所帮助。

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2012-11-29T03:02:10.070

我刚刚在开发者论坛上发布了这个。这是一个简单的解决方案，可以帮助这里的人：

我遇到了完全相同的问题：当使用任何当前版本的 Xcode 4.xx 和 LLDB 调试器，以及任何版本的模拟器时，XCode 始终以“无法附加到进程...”而崩溃我唯一的解决办法是切换到GDB 调试器。这令人失望，因为我真的很想在 XCode 4.6-DP 中尝试新的、强大的 LLDB。

然后我想起来了；前段时间我在 ...etc/hosts 更改了我的网络/服务器主机文件以容纳几个 Apache2 服务器虚拟主机，即，我删除了以下行：

127.0.0.1 本地主机

就是这样。删除该行后，XCode 在使用 LLDB 附加到模拟器时崩溃。恢复那条线，XCode 与 LLDB 和模拟器一起工作得很好。

无论如何，这可能不是您的问题，但值得探索。就我而言，这是一个严重的未记录错误。

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2013-10-07T11:15:18.707

我通过退出 XCode 和 Simulator 解决了这个问题。重新打开项目。完毕。

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2013-04-09T12:20:19.080

就我而言，解决方案有所不同：运行模式是“发布”。更改为“调试”修复了它。Xcode 4.5.x 没有问题。

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2013-07-11T08:19:11.260

对我来说，这个问题是由一个非常愚蠢的错误引起的：我通过复制现有目标为我的项目创建了一个新目标，却忘记更改目标 info.plist 文件中的*捆绑标识符*。

* * *

## 回答 #18

> 赞同：1
> 
> 时间：2013-08-23T05:06:15.137

上面的答案真的帮助了我。 [https://stackoverflow.com/a/12819757/1752988](https://stackoverflow.com/a/12819757/1752988) 因为在我的 XCode 中我使用了故事板和自定义视图控制器。在它的警告列表中，我看到一些 nib 文件丢失了。看到那个我很想念。但是，我看到了这个答案，尽管我不喜欢重置我的 App 模拟器内容，但我做到了，它确实对我有用。

而且将调试器从 Product -> Scheme -> Edit Scheme (Run) 从 LLDB 更改为 GDB 也对我不起作用。

Ps：- 请原谅我，我将此答案作为支持评论添加到上面，因为我没有 15 声望支持上述答案或 50 声望点来评论上面的评论。

* * *

## 回答 #19

> 赞同：1
> 
> 时间：2017-11-17T15:41:02.247

在 Xcode 9+ 上执行以下操作：转到 Xcode 菜单：**Product-Scheme - Edit Scheme**并在**Run**选项卡下确保选中**Debug Executable**复选框！而已！

[![在此处输入图像描述](../Images/4d7ada7dc5fff059088aab467115f12e.png)](https://i.stack.imgur.com/hjmiy.png)

* * *

## 回答 #20

> 赞同：1
> 
> 时间：2016-11-17T08:55:57.540

我正在研究 Ionic 2 应用程序，我对此甚至 Xcode 和模拟器都是新手。
最初我的应用程序正在模拟器上运行，但一段时间后它开始生成错误，例如 -
xcode error: failed to attach to process id

我搜索，尝试了以上所有答案，但我的问题没有解决。
然后我更新了（[Ionic](https://ionicframework.com/docs/v2/getting-started/installation/)，[npm](https://docs.npmjs.com/cli/install)，[cordova](https://www.npmjs.com/package/cordova)）我的机器设置-

```
******************************************************
 Dependency warning - for the CLI to run correctly,      
 it is highly recommended to install/upgrade the following:     

 Install ios-deploy to deploy iOS applications to devices.  `npm install -g ios-deploy` (may require sudo)

******************************************************

Your system information:

Cordova CLI: 6.4.0 
Ionic Framework Version: 2.0.0-beta.10
Ionic CLI Version: 2.1.8
Ionic App Lib Version: 2.1.4
ios-deploy version: Not installed
ios-sim version: 5.0.8 
OS: OS X Yosemite
Node Version: v6.2.2
Xcode version: Xcode 7.2 Build version 7C68

****************************************************** 
```

在此之后，我只是从我的应用程序主目录运行命令

1.  离子运行-l
2.  离子构建 ios。
3.  导入的 xcode 更改为 xcode。
4.  重置内容并设置为-
    [![在此处输入图像描述](../Images/21868123f528555c6b4f6e8089f9a8d8.png)](https://i.stack.imgur.com/ImgUw.png)
5.  从 xcode 清除产品，
    [![在此处输入图像描述](../Images/35b69ef42b60740591bd1262e9e10edc.png)](https://i.stack.imgur.com/mN71x.png)
6.  运行 Xcode，现在它正在模拟器上运行。

看到这个很开心！！！

* * *

## 回答 #21

> 赞同：1
> 
> 时间：2015-11-23T22:57:48.710

以下在 iOS 9.1 上对我有用：

1.  只需从模拟器中卸载应用程序
2.  退出模拟器（Cmd+Q）
3.  清理你的 Xcode 项目
4.  在模拟器上运行

注意：无需重置模拟器。

* * *

## 回答 #22

> 赞同：1
> 
> 时间：2019-07-26T22:40:49.710

这么多答案，我没有看到我认为正确的答案。是授权的问题。在终端中输入：

`sudo DevToolsSecurity -enable`

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2013-09-01T16:38:10.433

您是否有多个用户登录到您的机器？我的笔记本电脑上有“个人”和“工作”帐户。当我尝试从我的个人帐户进行调试时出现此错误，但我让模拟器在我的工作帐户中运行。在另一个帐户中退出模拟器解决了我的问题。

* * *

## 回答 #24

> 赞同：0
> 
> 时间：2013-07-30T08:52:41.830

try to do next steps:

*   Go to Product/Scheme/Edit Scheme then select Run section.
*   Select Info Tan and set Debugger None.
*   Run project. It must be working (without debugger)
*   Go back to Edit Scheme and selecet debugger LLDB
*   Run project. It is working.

Maybe additionally you need to delete derived data and do Product/Clean

* * *

## 回答 #25

> 赞同：0
> 
> 时间：2012-11-15T05:09:47.800

只需重置 iOS 模拟器的内容和设置，然后按 command+shift+k 键清理代码即可清理代码。这对我有用

* * *

## 回答 #26

> 赞同：0
> 
> 时间：2013-07-21T19:20:03.720

今天遇到了这个。我不小心从我的目标设置中删除了我的启动图像。

* * *

## 回答 #27

> 赞同：0
> 
> 时间：2013-07-02T19:02:33.127

我有同样的问题。我做了一些给出的答案组合以使其工作。:)

通过单击菜单栏中的“产品”来清理构建文件夹。按住 Alt 键的同时单击“清理构建文件夹”。现在重新启动您的 xcode 和模拟器。现在它应该可以工作了。如果没有，也尝试更改捆绑标识符和模拟器“内容重置”，然后重新启动 xcode 和模拟器。

* * *

## 回答 #28

> 赞同：0
> 
> 时间：2013-06-11T20:34:31.153

尽管很蹩脚，但重新启动我的计算机是唯一有效的解决方案。我尝试从 LLDB 切换到 GDB，重置模拟器的内容，然后重新启动 Xcode。唯一有效的是重新启动我的计算机，重新打开 Xcode，然后重新运行应用程序。

* * *

## 回答 #29

> 赞同：0
> 
> 时间：2013-09-11T17:06:28.117

还有一个记录在案：（没有一个建议对我有用）

**山狮：XCode 4.6.3**

*   我`moved the whole Application to Trash`并删除了以下其他文件夹
*   `/Users/[USERNAME]/Library/Developer`
*   `/Users/[USERNAME]/Library/Caches/com.apple.dt.XCode`
*   `/Users/[USERNAME]/Library/Application Support/iPhone Simulator`

*   重启系统并重新安装 XCode

* * *

## 回答 #30

> 赞同：0
> 
> 时间：2015-04-29T11:30:29.860

我遇到了同样的问题，就我而言，问题是：-

已设置“构建活动架构：否”。只需将其更改为 YES 即可。

* * *

## 回答 #31

> 赞同：0
> 
> 时间：2014-02-27T07:46:36.730

今天也遇到了同样的问题。我使用的是 Xcode 4.6.3。我关闭了我的项目并在 Xcode 5 中打开它，它运行完美。

奇怪但真实

* * *

## 回答 #32

> 赞同：0
> 
> 时间：2021-06-17T19:11:45.290

如果您的应用在运行时使用了一项或多项**XPC 服务**，请尝试在您的应用的调试方案中禁用这些服务的调试：

1.  在 Xcode 中，单击菜单项**Product** > **Scheme** > **Edit Scheme**。
2.  单击**选项选项**卡。
3.  禁用设置**应用程序使用的调试 XPC 服务**。

在我的例子中，XPC 服务与 Sparkle 更新框架相关。

* * *

## 回答 #33

> 赞同：0
> 
> 时间：2019-04-19T19:54:55.643

如果您使用的是 Cocoapods，请确保您通过`use_frameworks!`在 Podfile 中构建动态框架。

当我在 Xcode 10.2.1 和 Cocoapods 1.6.1 上构建我的 Cocoapods 依赖项的静态库时，由于这个“无法附加”错误，我无法调试目标。使用`use_frameworks!`，错误消失了，我可以再次调试。

* * *

**细节**

在我的 Podfile 中，我构建了一个静态框架，这是默认的，混合了基于 swift 和 Objective-c 的 Pod。我`:modular_headers => true`与其中一个豆荚一起使用。我的 Podfile 看起来像这样：

```
swift_version = '5.0'

target 'TargetName' do
  platform :ios, '12.2'

  pod 'IGListKit', :modular_headers => true
  pod 'PromiseKit/CorePromise', '~> 6.0'
end 
```

上面的 Podfile 不能用 Xcode 10.2.1 调试，总是导致“Could not attach to PID” modal。

但是，当我添加时`use_frameworks!`，它起作用了！我能够在有和没有的情况下复制它。这是有效的 Podfile：

```
swift_version = '5.0'
use_frameworks!

target 'TargetName' do
  platform :ios, '12.2'

  pod 'IGListKit'
  pod 'PromiseKit/CorePromise', '~> 6.0'
end 
```

* * *

## 回答 #34

> 赞同：0
> 
> 时间：2019-12-12T12:11:52.880

此页面或相关页面上的所有答案都[无法附加到 pid：“####”无法附加](https://stackoverflow.com/questions/37582096/could-not-attach-to-pid-unable-to-attach)对我有用。（此外，我看到的症状还有一个在这些页面中没有提到的附加细节，即 Gatekeeper 会出现并说它正在“验证”应用程序，即使它是一个运行在上的 iOS 应用程序模拟器。这总是在 PID 错误之前。）

以下是最终奏效的方法：

我让 xcode 尝试在模拟器中启动并附加到应用程序。它像往常一样失败，看门人“验证”，然后是 PID 错误。但是后来该应用程序安装在模拟器上，所以我只是在那里启动它并且它开始正常（如预期的那样）。但后来我使用了 xcode 的 Debug > Attach to process ... 菜单项并附加到运行应用程序的模拟器上。那行得通，现在它似乎已经解决了问题，我可以从 xcode 启动应用程序，它可以很好地连接到模拟器并让我调试，我不再得到 Gatekeeper“验证”对话框。

* * *

## 回答 #35

> 赞同：0
> 
> 时间：2016-03-29T21:02:43.970

我知道这是旧的 - 但我的解决方案如下：

转到：目标>构建设置>链接-> Mach-O类型=可执行

* * *

## 回答 #36

> 赞同：0
> 
> 时间：2018-10-11T14:47:04.150

正如@eploko 在他在 Mojave 中的回答中提到的，可调试性策略发生了变化。此答案仅适用于那些在使用 Xcode 9.4.1 和 Mojave 运行测试框架时遇到问题的人。

根据 Apple 的说法，这是一种预期行为，因此您有两种解决方案：

1.  使用 Xcode 10，你的问题就会消失。
2.  在测试目标的方案编辑器中禁用调试器。

为此，请选择您的 Test 目标，然后选择**Edit Scheme**。在那里选择左侧的**Test部分并取消选中****Debug executable**。

[![在此处输入图像描述](../Images/6f8581824e1de228679f8efaa93718cb.png)](https://i.stack.imgur.com/aoJO4.png)

[此雷达](http://www.openradar.me/44945549)中的更多信息。我希望这可以帮助你。**

# java-me - 如何在 LWUIT 中创建自定义日历？

> ID：11535847
> 
> 赞同：5
> 
> 时间：2012-07-18T06:58:04.100
> 
> 标签：java-me, calendar, lwuit, codenameone

目前在 LWUIT 中，我可以使用`Calendar`. 但我不能在特定日期添加注释。

如何`Calendar`在 LWUIT 中创建自定义？因为我需要在 LWUIT 上显示生日笔记，`Calendar`并且希望在用户选择特定日期时显示生日笔记。请参阅此示例图像，

![在此处输入图像描述](../Images/79f9f6ab78c685d0c144b99b4e07eb72.png)

这可以`Calendar`在 LWUIT 中创建像上面的示例吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T09:05:57.527

您可以派生日历并覆盖：

```
protected void updateButtonDayDate(Button dayButton, int currentMonth, int day); 
```

在这里，您可以通过设置 UIID 或类似的任何方式以您选择的任何方式有效地自定义按钮。

如果您想通过继承向按钮添加基本功能，您可以覆盖：

```
protected Button createDay(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-23T00:45:27.527

您可以在主题/设计器中修改日历的所有内容，包括颜色、字体等。

![在此处输入图像描述](../Images/f5e2bd95f81480757005f951c221fe9d.png)

只需添加适当的组件..

谢谢，阿卡什

# dotnetnuke-6 - Dotnetnuke 中的站点地图

> ID：11535853
> 
> 赞同：1
> 
> 时间：2012-07-18T06:58:19.793
> 
> 标签：dotnetnuke-6

我正在使用 Dotnetnuke（版本 6）。我想在我的网站上添加站点地图（仅显示页面的超链接）。我已经浏览了互联网上的许多免费站点地图模块

1.  [http://www.derektrauger.com/Products/DotNetNukeModules/DNNSiteMapModule.aspx](http://www.derektrauger.com/Products/DotNetNukeModules/DNNSiteMapModule.aspx)
2.  [http://www.codeproject.com/Articles/12645/DotNetNuke-SiteMap](http://www.codeproject.com/Articles/12645/DotNetNuke-SiteMap)

它们都可以正常工作并在第一级显示链接，但它们不显示隐藏页面和页面内页面的页面链接。我已授予完全权限，并且站点地图链接（steMap.aspx）也显示隐藏页面。

我该如何解决这个问题？有没有其他免费的站点地图模块可以解决这个问题？

问候和 Thnakx

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-19T05:19:16.637

你怎么不使用核心站点地图？

例如 www.yourdomain.com/sitemap.aspx

它应该打印出您网站中的所有页面。

我的当前打印出所有页面[http://www.ventrian.com/sitemap.aspx](http://www.ventrian.com/sitemap.aspx)，即使是那些被“在菜单中显示”隐藏的页面设置为 false [http://www.ventrian.com/Home/WhereAreThey.aspx](http://www.ventrian.com/Home/WhereAreThey.aspx)

--

只是为了更新这个线程，我现在实际上将它用于站点地图： [http ://searchenginesitemaps.codeplex.com/](http://searchenginesitemaps.codeplex.com/)

它是 DotNetNuke 的开源站点地图。[http://www.ventrian.com/SearchEngineSitemap.aspx](http://www.ventrian.com/SearchEngineSitemap.aspx)

它允许模块开发人员编写他们自己的提供程序，以在站点地图中包含他们的特定日期（例如画廊、文章等）。

# c++ - 为什么 sort() 不起作用？

> ID：11535854
> 
> 赞同：2
> 
> 时间：2012-07-18T06:58:20.887
> 
> 标签：c++, stdvector

我把这个简单的程序读入了一个像“13 11 9 10”这样的字符串。我想拆分字符串然后对它们进行排序。但是 sort() 似乎不起作用，有什么帮助吗？输入： 13 11 9 10 ，输出： 13 11 9 10 谢谢！

```
#include <string>
#include <sstream>
#include <iostream>
#include <algorithm>
#include <vector>
using namespace std;

vector<int> split(string s)
{
    istringstream iss(s);
    vector<int> result;

    do{
        string sub;
        iss>>sub;
        if(sub!="")
            result.push_back((int)atoi(sub.c_str()));
    }while(iss);

    return result;
}
int main(void)
{   
    string s;
    while(cin>>s)
    {
        vector<int> vec;
        vec=split(s);
        sort(vec.begin(), vec.end());
        for (int i = 0; i < vec.size(); ++i)
        {
            cout<<vec[i]<<endl;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-18T07:04:44.950

那是因为`cin >> s`停在第一个空白处。

换句话说，如果您键入`1 4 2 3`,仅`s`包含`1`，而不是整行。

相反，请使用以下内容阅读整行：

```
std::getline(std::cin, s); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:39:50.617

您的主要代码部分不正确，cin 已经将数据拆分为多个部分，使用带有缓冲区的 cin.getline 或 Cicida 上面的建议，我的工作代码如下所示：

```
string s;
char buffer[ 256 ];
do
{
    cin.getline( buffer, 255 );
    s.assign( buffer );
    vector<int> vec;
    vec=split(s);
    sort(vec.begin(), vec.end());
    for (int i = 0; i < vec.size(); ++i)
    {
        cout<<vec[i]<<endl;
    }
}while( !s.empty( )); 
```

# wireless - 用于传感器项目的最佳无线技术，具有很大的室内范围？

> ID：11535866
> 
> 赞同：2
> 
> 时间：2012-07-18T06:59:16.947
> 
> 标签：wireless, zigbee, xbee

亲爱的 Stack Overflow 社区，

我正在开展一个项目，该项目将在几栋建筑的复杂中拥有许多不同的传感器，我想用传感器覆盖整个地方。该应用程序需要所有这些微控制器将数据发送到本地主微控制器。数据必须从本地主微控制器通过串行连接传输到台式 PC，然后从那里传输到云中的服务器。

我查看了 2.4Ghz 模块，但由于在室内，我更倾向于低于 1Ghz 的范围。根据我的在线研究，我得出结论，有两个主要参与者；带有 XBee Pro 的 Digi 和带有 Snap 的 Synapse Wireless。还有其他我应该看的制造商吗？

Digi 和 Synapse 驱动器都支持 2.4Ghz 和 900 Mhz 范围，对于低带宽的室内使用，2.4Ghz 不是一个选项，因此是 900 Ghz。

美国和欧盟都有 900 Mhz ISM 频段，欧盟是 868 Mhz，美国是 915 Mhz。

有人在 915 Mhz 或 868 Mhz 上比较室内范围 Xbee Pro 和 Synapse Snap 吗？

哪一个更容易使用传感器和微控制器实现和部署？

# android - 在android中将数据库检索为字符串

> ID：11535868
> 
> 赞同：0
> 
> 时间：2012-07-18T06:59:23.667
> 
> 标签：android, database

我必须使用他们的 id 从数据库中检索一个字符串。我完成了检索，但它以某种对象格式返回，而不是作为字符串。请帮助我..

我的检索地点：

```
db.open();
     for(int i=1;i<=5;i++)
     {       
     if(i==1)
         group1=db.getspintitle(1);
     if(i==2)
         group1=db.getspintitle(2);
     if(i==3)
         group1=db.getspintitle(3);
     if(i==4)
         group1=db.getspintitle(4);
     if(i==5)
         group1=db.getspintitle(5);     
     } 
```

db.getspintitle() 方法：

```
public String getspintitle(int rowId)throws SQLException
{

    String sumtotal="";
    Cursor cursor1 = db.rawQuery(
             "SELECT spin from spinner WHERE _id='rowId'", null);  
     sumtotal=cursor1.toString();   
     cursor1.close();       
     return sumtotal;   
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:04:13.267

供您参考，下面将返回您`Cursor`，而不是简单的字符串。

```
Cursor cursor1 = db.rawQuery("SELECT spin from spinner WHERE _id='rowId'", null); 
```

要从游标中检索值，您必须遍历游标。

现在，在您的情况下，您可以执行以下操作：

```
 Cursor cursor1 = db.rawQuery("SELECT spin from spinner WHERE _id='rowId'", null);  

     if (cursor != null && cursor.getCount() > 0) {
         cursor.moveToNext();
         sumtotal= cursor.getString(0);
         cursor.close();
     } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:07:59.660

```
 String[] sumTotal= new String[cursor.getCount()]
   while(cursor.moveToNext())
         sumtotal[i] = cursor.getString(0); 
```

# java - AES-128位字节数组到java中的数据库

> ID：11535872
> 
> 赞同：0
> 
> 时间：2012-07-18T06:59:30.843
> 
> 标签：java, encryption, aes

我有一个字符串 (stringToEncrypt) ，它由 AES-128 加密并得到一个字节 []。我尝试将该字节 [] 作为字符串写入数据库。下面的一个例子：

`String encryptedString = new String(aes.encode(stringToEncrypt.getBytes()));`

"encode" 方法获取一个 byte[] 作为参数并返回一个 byte[]。“aes”对象进行 AES-128 编码过程。问题是，当我尝试将 encryptedString 写入 DB 时，写入 DB 的某些字符与“String encryptedString”不同。我认为问题在于数据库的字符集或我的代码。请问有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T07:02:51.320

是的，它是一个字符编码问题。我以前在别的地方见过。我要么对其进行base64编码，要么将其存储为一个大整数。

```
// byte array[];
BigInteger value = new BigInteger(array); 
```

你可以用 BigInteger 作弊并将它用于 Base64 的东西：

```
String b64 = value.toString(64); 
```

[BigInteger 文档](http://docs.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T07:03:30.647

`String`是您的问题的错误数据类型。如果您确实需要将原始字节编码为字符串，请使用[base64](http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Base64.html)。

如果可能，请尝试`byte[]`直接存储到数据库中。

# html - 不使用媒体查询的 CSS 图像处理

> ID：11535878
> 
> 赞同：2
> 
> 时间：2012-07-18T06:59:55.553
> 
> 标签：html, css

谁能让我知道如何以各种方式处理图像尺寸（宽度和高度），例如笔记本电脑、个人电脑、ipad 和移动屏幕的纵向和横向视图。但不使用媒体查询。

有一次我用来获取更大的图像，有时我得到更小的图像，但我想只使用普通 css 显示所有相同大小的图像，而不使用任何媒体查询。

请只做那些需要的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T07:20:47.163

通常，首选图像分辨率应该**对响应式布局做出响应**......这意味着图像大小应该是css`width:100%`和`height:auto`html 相同，图像将排列在任何屏幕上......

请记住在页面上方的 head 标签上添加此行：-

```
<meta name="viewport" content="width=device-width, initial-scale=1"> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T07:28:44.070

您可以将 max-width 样式属性设置为 100%，在较大的分辨率上，您的图像将包含其正常大小，而在较小的窗口（如手机）上，图像将成为屏幕（容器）的宽度。图像将按比例缩放。

```
<img src="sample.jpg" style="max-width:100%;" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T07:18:12.873

```
<img src="img1.jpg" width="100%" height="100%" />
<img src="img2.jpg" width="100%" height="100%" /> 
```

...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T07:23:24.990

您可以在 CSS 本身中设置高度和宽度

例如，如果使用 div id 作为 sample_div_img 然后使用以下代码

```
#sample_div_img img{
height:100px;
width:100px
} 
```

在 php/html 中

```
<div id='sample_div_img>
 <img src='sample.jpg'>
</div> 
```

一件事如果图像大小与css中提到的不同，图像可能看起来模糊

让我知道这方面的任何问题

# css - 自定义 CSS 字体加载问题

> ID：11535881
> 
> 赞同：0
> 
> 时间：2012-07-18T07:00:06.203
> 
> 标签：css

这是一个小问题，我不知道如何确切地问，但基本上发生的事情是我上传了一个自定义的 opentype 字体，但是在加载实际文本之前将它加载到网站上会留下几秒钟的空白。我见过几个网站通过在更改为自定义字体之前加载本地字体来攻击这些问题，但我忘记了这些（罕见的）网站以了解它们是如何做到的。

我将如何解决这个问题？我是否必须使用某种形式的 javascript 来完成这项任务？

提前致谢！所有答案表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T07:11:52.843

这是个好问题:)

阅读此[http://paulirish.com/2009/fighting-the-font-face-fout/](http://paulirish.com/2009/fighting-the-font-face-fout/)

**并添加到文件脚本中** （如果您在 css 中添加了 @font-face ...）：

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">
$(function(){
    //load fonts
    (function(){
      // if firefox 3.5+, hide content till load (or 3 seconds) to prevent FOUT
      var d = document, e = d.documentElement, s = d.createElement('style');
      if (e.style.MozTransform === ''){ // gecko 1.9.1 inference
        s.textContent = 'body{visibility:hidden}';
        var r = document.getElementsByTagName('script')[0];
        r.parentNode.insertBefore(s, r);
        function f(){ s.parentNode && s.parentNode.removeChild(s); }
        addEventListener('load',f,false);
        setTimeout(f,3000); 
      }
    })();

});
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T08:11:17.917

我阻止 fout 仅为字体规则创建 css 文件，并在链接我的主 css 文件之前使用页面标题中的链接标记

# java - 使用数据报的简单客户端/服务器聊天数据包路由

> ID：11535882
> 
> 赞同：0
> 
> 时间：2012-07-18T07:00:10.143
> 
> 标签：java, sockets, datagram

所以我有 3 个客户端和 1 个服务器应该将消息路由到正确的客户端。客户端发送一条消息以及应该获取该消息的另一个客户端的名称。并且服务器应该比较接收客户端的名称并替换数据包中的正确IP并将消息发送到正确的客户端。问题是服务器没有替换 IP，因此没有传递消息。请帮我解决问题。这是我的服务器代码：

```
import java.io.IOException;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetAddress;
import java.net.SocketException;
import java.awt.BorderLayout;
import javax.swing.JFrame;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.SwingUtilities;

public class Server extends JFrame 
{
   private JTextArea displayArea; // displays packets received
   private DatagramSocket socket; // socket to connect to client
   private String[] message; 
   private String pcName, pc1, pc2, pc3;
   private InetAddress clientIPAddress, nextClient;

   // set up GUI and DatagramSocket
   public Server()
   {
   super( "Server" );

  displayArea = new JTextArea(); // create displayArea
  add( new JScrollPane( displayArea ), BorderLayout.CENTER );
  setSize( 400, 300 ); // set size of window
  setVisible( true ); // show window

  try // create DatagramSocket for sending and receiving packets
  {
     socket = new DatagramSocket( 5000 );
  } // end try
  catch ( SocketException socketException ) 
  {
     socketException.printStackTrace();
     System.exit( 1 );
  } // end catch
  } // end Server constructor

 // wait for packets to arrive, display data and echo packet to client
 public void waitForPackets()
 {
  while ( true ) 
  {
     try // receive packet, display contents, return copy to client
     {
        byte[] data = new byte[ 100 ]; // set up packet
        DatagramPacket receivePacket = 
           new DatagramPacket( data, data.length );

        socket.receive( receivePacket ); // wait to receive packet
        clientIPAddress = receivePacket.getAddress();
        byte[] msgByte = receivePacket.getData();
        String str = new String(msgByte);
        String[] words = str.split(" ");  

         pcName= words[words.length-1];

        if (pcName.equals(pc1)){
            nextClient=  InetAddress.getByName("192.168.1.19");
            }
        else if (pcName.equals(pc2)) 
        {
        nextClient=  InetAddress.getByName("192.168.1.18");
        } else{
            nextClient=  InetAddress.getByName("192.168.1.17");
            }

        // display information from received packet 
        displayMessage( "\nPacket received:" +pcName +
           "\nFrom host: " + nextClient + 
           "\nHost port: " + receivePacket.getPort() + 
           "\nLength: " + receivePacket.getLength() + 
           "\nContaining:\n\t" + new String( receivePacket.getData(), 
              0, receivePacket.getLength() ) );

        sendPacketToClient( receivePacket, nextClient ); // send packet to client
     } // end try
     catch ( IOException ioException )
     {
        displayMessage( ioException + "\n" );
        ioException.printStackTrace();
     } // end catch
  } // end while
 } // end method waitForPackets

  // echo packet to client
  private void sendPacketToClient( DatagramPacket receivePacket, 
  InetAddress nextClient) 
  throws IOException
    {

    displayMessage( "\n\nsending data to client:"+pcName +
          "\nIP:" + clientIPAddress );

     // create packet to send
     DatagramPacket sendPacket = new DatagramPacket( 
     receivePacket.getData(), receivePacket.getLength(), 
      clientIPAddress, receivePacket.getPort() );

     socket.send( sendPacket ); // send packet to client
     displayMessage( "Packet sent\n" );
    } // end method sendPacketToClient

    // manipulates displayArea in the event-dispatch thread
    private void displayMessage( final String messageToDisplay )
    {
     SwingUtilities.invokeLater(
     new Runnable() 
     {
        public void run() // updates displayArea
        {
           displayArea.append( messageToDisplay ); // display message
        } // end method run
     } // end anonymous inner class
  ); // end call to SwingUtilities.invokeLater
  } // end method displayMessage
} // end class Server 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T07:10:56.803

问题可能出在这条线上`sendPacketToClient`

```
// create packet to send
DatagramPacket sendPacket = new DatagramPacket(receivePacket.getData(),
   receivePacket.getLength(),
   clientIPAddress,
   receivePacket.getPort()); 
```

您可能应该将已解决`InetAddress`的数据包放入新数据包中，而不是从发送客户端获得的数据包。

```
// create packet to send
DatagramPacket sendPacket = new DatagramPacket(receivePacket.getData(),
   receivePacket.getLength(),
   nextClient,
   receivePacket.getPort()); 
```

# mysql - 如何通过 SQL 删除停用词

> ID：11535888
> 
> 赞同：0
> 
> 时间：2012-07-18T07:00:30.407
> 
> 标签：mysql

我有一张包含数百万条消息的表格。我想从每条消息中删除停用词列表 - 在 SQL 中

示例输入：

```
id  message
-------------------------------
1   we are on top of the world
2   too bad the apple is rotten
3   there is no I in team
4   it matters where you go to 
```

要删除的停用词：

```
in, on, of, to, too 
```

期望的输出：

```
id  message
-------------------------------
1   we are top the world
2   bad the apple is rotten
3   there is no I team
4   it matters where you go 
```

我猜这里的问题是，任何一个停用词都可能出现在消息的开头、中间或结尾。因此，这样的查询将是令人满意的：

```
UPDATE table SET message = REPLACE(message, ' in ', '');
UPDATE table SET message = REPLACE(message, ' on ', '');
UPDATE table SET message = REPLACE(message, ' of ', '');
etc... 
```

有更好的解决方案吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-18T07:07:44.730

为了解决无法更新消息开头和结尾的停用词的问题，您可以做的只是在每条消息的开头和结尾连接一个空格，*然后*执行替换，然后修剪前导/尾随空格退出：

```
UPDATE tbl 
SET message = TRIM(REPLACE(CONCAT(' ', REPLACE(message, ' in ', ' in  '), ' '), ' in ', '')); 
```

**编辑：**您还必须考虑的是，消息中间的停用词在被替换后仍然必须保留空格，因为您不想以`no I in team`->结尾`no Iteam`。我们通过在停用词后添加另一个空格来解决此问题，以便在右侧有两个空格......然后，当它被替换时，多余的空格会被保留，因为我们只替换每侧有***一个空格的停用词。***

* * *

## [SQLFiddle 演示](http://sqlfiddle.com/#!2/b05ca/1/0)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-18T07:25:05.200

如果您创建一个名为 stopwords 的表，其中包含一个字段停用词，其中包含所有停用词的列表，您可以这样做：

```
CREATE TABLE [dbo].[stopwords](
    [stopword] char(100) NOT NULL
) 

insert into stopwords values ('in');
insert into stopwords values ('on');
insert into stopwords values ('of');
insert into stopwords values ('to');
insert into stopwords values ('too');

-- DEBUG: select message ,stopword, replace(message,CONCAT(' ', stopword , ' '), ' ')
update table 
set message = trim(replace(CONCAT(' ',message, ' '),CONCAT(' ',stopword,' '),' ')) 
from stopwords
where CONCAT(' ', message , ' ')  like CONCAT('% ' ,stopword , ' %') 
```

# wpf - WPF DataGrid 列中的标记属性

> ID：11535894
> 
> 赞同：4
> 
> 时间：2012-07-18T07:00:45.977
> 
> 标签：wpf, datagrid, tags, datagridcolumn

我需要在与标题不同的 Datagrid 列中保存一个字符串。

这是必需的，因为我动态生成 Datagrid 并希望在生成列标题时翻译它们。然后我将整个 XAML 绑定到 ContentControl。

到这里为止没问题......但我想重新排序和调整列的大小，所以我需要在后面查找它们。为此，我需要原始（未翻译）ColumnHeader。

在我看来，列的 Tag 属性可以解决这个问题，但是没有:(

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-18T07:07:42.507

在 WPF 中，您可以使用[Attached Properties](http://msdn.microsoft.com/en-us/library/ms749011.aspx)获得几乎无限的“标签”属性。可以在任何`DependencyObject`. 这种附加属性的一个很好的例子是`Grid.Row`. 由于您可以定义它们，因此您也可以将它们命名为比 Tag 更有意义的名称。

定义附加属性的示例代码：

```
public static class SomeClass {

    public static readonly DependencyProperty TagProperty = DependencyProperty.RegisterAttached(
        "Tag",
        typeof(object),
        typeof(SomeClass),
        new FrameworkPropertyMetadata(null));

    public static object GetTag(DependencyObject dependencyObject) {
        return dependencyObject.GetValue(TagProperty);
    }

    public static void SetTag(DependencyObject dependencyObject, object value) {
        dependencyObject.SetValue(TagProperty, value);
    }

} 
```

用法 ：

```
<DataGridColumn SomeClass.Tag="abc" /> 
```

# iphone - 改变字符串中字符的位置

> ID：11535895
> 
> 赞同：0
> 
> 时间：2012-07-18T07:00:59.057
> 
> 标签：iphone, objective-c, ios, nsstring

我有一个像“SANFRANSICO”和“CHICAGO”这样的两个字符串

现在我想让它就像字符串是反向的，但是在一个单一的字符串中，比如“OOCGIASCNIAHRCFNAS”

我已经完成了代码，但它给了我错误的结果

查看我的代码

```
- (NSString *)changeString1:(NSString *)string string2:(NSString *)string2{
    int first = [string length];
    int second = [string2 length];
    int total = first+second;
    NSMutableString *str = [[NSMutableString alloc] init];
    string = [self reverseString:string];
    string2 = [self reverseString:string2];

    for (int i=0; i<total+1; i++) 
    {
        if (i%2==1) {
            int j = i/2;
            if(j < second){
                NSString *ichar  = [NSString stringWithFormat:@"%c", [string2 characterAtIndex:j]];
                [str appendString:ichar];
            }
            else{
                NSString *ichar  = [NSString stringWithFormat:@"%c", [string characterAtIndex:j+1]];
                NSLog(@"222 %d %@",j+1, ichar );
                [str appendString:ichar];
                check = YES;
            }
        }
        else {
            int j = i/2;
            if(check == YES){
            }
            else{
                NSString *ichar  = [NSString stringWithFormat:@"%c", [string characterAtIndex:j]];
                 NSLog(@"1111 %d %@",j, ichar );
                [str appendString:ichar];
            }
        }
    }
    return str;

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:17:26.117

发布此问题后我很快找到了答案 抱歉发布此问题

看看我的回答

```
- (NSString *)changeString1:(NSString *)string string2:(NSMutableString *)string2{
    int first = [string length];
    int second = [string2 length];
    string = [self reverseString:string];
    string2 = [self reverseString:string2];

    for(int i =second; i<first; i ++){
        [string2 appendString:@" "];
    }
   int total = first*2;
    NSMutableString *str = [[NSMutableString alloc] init];
    for (int i=0; i<total; i++) 
    {
        if (i%2==1) {
            int j = i/2;
            if(j < second){
                NSString *ichar  = [NSString stringWithFormat:@"%c", [string2 characterAtIndex:j]];
                [str appendString:ichar];
            }
        }
        else {
            int j = i/2;
            if(j < first){
                NSString *ichar  = [NSString stringWithFormat:@"%c", [string characterAtIndex:j]];
                [str appendString:ichar];
            }
            else{
                NSString *ichar  = [NSString stringWithFormat:@"%c", [string2 characterAtIndex:j]];
                [str appendString:ichar];
            }
        }
    }
    NSLog(@"str %@", str);
    return str;

} 
```

# vb.net - 时间数据表格式

> ID：11535902
> 
> 赞同：0
> 
> 时间：2012-07-18T07:01:50.273
> 
> 标签：vb.net, ado.net

我有一个用于填充数据网格的数据表。

我正在用数据库中的数据填充表格。其中一列是“开始类”，它需要是一个时间，但“GetType（日期）”也给出了日期。

```
Using con As New OleDbConnection(My.Settings.ConnectionPath)
        strSQL = "SELECT * FROM Groups"

        daGroups = New OleDbDataAdapter(strSQL, con)
        daGroups.Fill(dsGroups, "strSQL")

        Table.Columns.Add("Class Start", GetType(Date))

        For Each Row In dsGroups.Tables("strSQL").Rows
            Table.Rows.Add(Row.Item(0))
        Next

        dtTable = Table
    End Using 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T07:10:40.503

以我的经验，最好将数据类型保存在数据容器中，并在它显示在视图中后对其进行格式化。我不确定您是否会遇到这种情况，您可以使用

```
date.ToString("hh:mm") 
```

在代码中格式化或

```
<asp:Label id="lblDate" runat="server" Text="<%# Bind('data.date', '{0:hh:mm}') %>" /> 
```

对于 asp 页面

不知道这是否对你有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:09:20.077

您可以使用`DateTime.ToString("hh:mm")`仅从您的`DateTime`实例中获取时间，有关更多信息，请[访问此](http://msdn.microsoft.com/en-us/library/az4se3k1%28v=vs.71%29.aspx)

# java - Greenmail 不会在 Junit 测试失败时关闭

> ID：11535904
> 
> 赞同：4
> 
> 时间：2012-07-18T07:01:56.610
> 
> 标签：java, greenmail

我们一直在试图弄清楚如何停止 Greenmail，以便在 Junit 测试用例失败时它不会占用 3025 端口。

当单元测试失败时，Junit 似乎绕过了 @After 注释（如果我错了，请纠正），并继续进行以下测试。不幸的是，其他测试运行@Before，它启动了一个新的greenmail服务器，试图挂接到端口3025，从而导致另一个测试出现错误。

理想情况下，我们希望仅在实际失败的那些上显示失败，并且没有 1 或 2 个测试用例由于 Greenmail 问题而使测试套件的其余部分失败。

有什么帮助吗？

示例代码

* * *

```
@Before
public void setup() {
    greenMail = new GreenMail(ServerSetupTest.SMTP);
    greenMail.start();
}

@After
public void tearDown() {
    greenMail.stop();
}

@Test
public void someFailTest() throws IOException{fail();};

@Test
public void someGoodTest(){assert(true);}; // greenmail busted so this also throws up 
```

# c++ - 运算符重载 c++ (<<)

> ID：11535906
> 
> 赞同：1
> 
> 时间：2012-07-18T07:02:20.120
> 
> 标签：c++, map, operator-overloading

这是我为一些测试编写的以下程序。

```
class tgsetmap
{
public:
std::map<std::string,std::string> tgsetlist;
void operator<<(const char *str1,const char *str2)
{
  tgsetlist.insert( std::map<std::string,std::string>::value_type(str1,str2));
}

};

int main()
{

tgsetmap obj;

obj<<("tgset10","mystring");

obj.tgsetlist.size();
} 
```

这会引发编译错误：

*“test.cc”，第 10 行：错误：tgsetmap::operator<<(const char* , const char*) 的参数数量非法。“test.cc”，第 22 行：错误：操作“tgsetmap << const char*”是非法的。检测到 2 个错误。*

我在哪里错了吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T07:16:22.733

您不能强制`operator<<`在右侧接受两个参数。以下代码：

```
obj<<("tgset10","mystring"); 
```

不能用作带有两个参数的函数调用，而是仅使用`,`运算符。但这可能不是你感兴趣的。

如果您需要将两个参数传递给`<<`运算符，则需要将它们包装在其他（单一）类型中。例如，您可以使用标准的[std::pair](http://www.cplusplus.com/reference/std/utility/pair/)，即`std::pair<const char*, const char*>`.

但请注意，`operator<<`还应该返回一些适合`<<`链接的合理类型。这可能是`tgsetmap&`你的情况。以下版本应该可以正常工作：

```
#include <map>
#include <string>
#include <iostream>

class tgsetmap
{
public:
    typedef std::map<std::string, std::string> list_type;
    typedef list_type::value_type item_type;

    list_type tgsetlist;

    tgsetmap& operator<<(item_type item)
    {
        tgsetlist.insert(item);
        return *this;
    }
};

int main()
{
    tgsetmap obj;

    obj << tgsetmap::item_type("tgset10","mystring")
        << tgsetmap::item_type("tgset20","anotherstring");

    std::cout << obj.tgsetlist.size() << std::endl;
} 
```

请注意，我添加了 typedef 以不必一遍又一遍地重复类型名称。我还做了`operator<<`return a`tgsetmap&`以便`<<`可以链接（如`main()`上面修改的那样使用）。最后，我重用了`std::map<...>::value_type`以使其更简单，但您也可以使用您自己的任何其他类型。

* * *

但我相信您可能更喜欢使用常规方法。就像是：

```
void add(const char *str1, const char *str2)
{
    tgsetlist.insert( std::map<std::string, std::string>::value_type(str1, str2));
} 
```

（在类声明中），然后：

```
obj.add("tgset10", "mystring"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T07:04:34.617

类的`operator<<`内部必须像这样重载：

```
T T::operator <<(const T& b) const; 
```

如果你想用 2 个参数重载它，你可以在类之外进行：

```
T operator <<(const T& a, const T& b); 
```

例如，我的编译器为您发布的代码提供了更详细的错误消息： ![在此处输入图像描述](../Images/a774ca8072b00e2f41723da78905a668.png)

如果您不确定运算符重载语法，请[参阅 wiki 文章](http://en.wikipedia.org/wiki/Operators_in_C_and_C++)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T07:04:08.570

是的。运算符 << 是二元运算符。不是三元的。不要忘记这个指针。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T08:07:31.967

如前所述，`<<`is 二元运算符，因此它不可能占用两个以上的参数（如果您在类内声明，则应该是 this，如果在类外声明，则应该是 LHS）。但是，您可以通过执行相同的功能`obj<<"tgset10". <<"mystring";`。但是由于`<<`是二元运算符，因此您必须为此做一些修改。

为此，我分配了一个静态变量`op_count`，我将在其中确定它是值还是类型。还有另一个静态变量`temp_str`，用于跨调用存储先前的值。

```
class tgsetmap
{
    public:
    std::map<std::string,std::string> tgsetlist;

    static int op_count = 0;
    static const char *temp_str;
    tgsetmap& operator<<(const char *str)
    {
        op_count++;
        if (op_count%2 != 0) {
            temp_str = str;
        }
        else {
            tgsetlist.insert( std::map<std::string,std::string>::value_type(temp_str,str));
        }
        return this;
    }
}; 
```

所以你可以做

```
int main()
{
    tgsetmap obj;
    obj<<"tgset10"<<"mystring";
    obj.tgsetlist.size();
} 
```

或者只是你可以使用一些分隔符将值和类型嵌入到相同的字符串中，

值：类型 = 分隔符是：

value_type = 分隔符是_。

# amazon-rds - 跨 Amazon Oracle RDS 实例的实时数据库同步

> ID：11535910
> 
> 赞同：2
> 
> 时间：2012-07-18T07:02:32.977
> 
> 标签：amazon-rds

目前我们在欧洲有一个 Amazon EC2 实例和 Oracle RDS。出于性能原因，我们还希望在亚洲设置服务器，但我们需要能够使数据库的内容在两个站点之间保持同步。显然 Amazon RDS 不支持 RAC，所以我想知道是否有其他解决方案可以使两个数据库实时同步？

谢谢！

# unix - AIX 文件名：无法使用 . （点）登录名

> ID：11535911
> 
> 赞同：2
> 
> 时间：2012-07-18T07:02:35.267
> 
> 标签：unix, console, cron, aix

当我尝试使用`mkdir -p`命令创建目录时出现问题。（点）登录目录名称。从名称中删除点号后，目录将正常创建。但是，如果我没记错的话，点号对于类 unix 系统的文件名是不被禁止的。有什么建议么？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T12:21:35.980

“出现问题”是什么意思？是否有错误消息，或者只是创建后看不到目录？

确保使用显示隐藏文件夹的命令浏览文件夹，例如 ls -a :-)

我也不了解 AIX，如果我的回答不准确，请见谅。

# jquery - 多个类名 - 如何只找到下一个直接的？

> ID：11535912
> 
> 赞同：0
> 
> 时间：2012-07-18T07:02:35.937
> 
> 标签：jquery

我有 3 个具有相同结构的扩展 div。就像是：

```
<div class="expand">
    <h3 class="more">Click to expand</h3>
    <div class="wrapper">Iasdfgh qwerty zxcvbn</div>
</div> 
```

jQuery

```
$(document).ready(function(){
    var toggleButton = $('.expand h3.more');
    var expandWrap = $(toggleButton).next('.wrapper');
    $(toggleButton).click(function(){
        if ($(expandWrap).is('.closed')) {
            $(toggleButton).removeClass('closed');
            $(expandWrap)
                .removeClass('closed')
                .slideDown('slow');

        } else {
            $(expandWrap)
                $(expandWrap).slideUp('slow', function(){
                    $(this).addClass('closed');
                    $(toggleButton).addClass('closed');
                });
        }
    });
}); 
```

现在，当我单击“单击以展开”`h3`时，所有`.wrapper`幻灯片都会上下滑动。我怎样才能只定位下一个立即数`.wrapper`，以便一次只能切换一个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:07:04.857

也许使用函数 next() ：

[http://api.jquery.com/next/](http://api.jquery.com/next/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:07:13.840

试试这个

```
$(document).ready(function(){
    var toggleButton = $('.expand h3.more');

    $(toggleButton).click(function(){
        var thisToggleButton = this;
        var expandWrap = $(thisToggleButton ).next('.wrapper');
        if (expandWrap.is('.closed')) {
            $(thisToggleButton ).removeClass('closed');
            expandWrap
                .removeClass('closed')
                .slideDown('slow');

        } else {
           expandWrap.slideUp('slow', function(){
                    $(this).addClass('closed');
                    $(thisToggleButton).addClass('closed');
                });
        }
    });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T07:09:42.560

你可以稍微简化一下：

```
$(function(){
    $('.expand h3.more').on('click',function(){
        $(this).next('div.wrapper').toggle('slow');
    });
}); 
```

jsFiddle：http: [//jsfiddle.net/QzHYX/](http://jsfiddle.net/QzHYX/)

**编辑：**请注意，如果您使用的是旧版本的 jQuery，则必须更改`on`为`live`才能使用。

# ios - 在视图控制器之间传递数据：从 uitableview 到细节视图控制器

> ID：11535915
> 
> 赞同：0
> 
> 时间：2012-07-18T07:02:51.887
> 
> 标签：ios, xcode, uitableview, uistoryboard

我正在使用 IOS 5 和 Storyboard 编码。我已经构建了一个应用程序，其中我有一个 tableView 连接到一个带有搜索栏的 sqlite 数据库。当我们触摸一行时，它会自动将我们带到另一个名为“Details”的视图控制器。我需要将数据从我的表格视图传递到详细信息视图控制器，例如将 author.title 传递给 labelText.text 字段。有任何想法吗？

编辑问题：

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender{
//    NSString *Title;
    Details *dv = (Details*)segue.destinationViewController;
    author.title = dv.labelText.text;
} 
```

部分代码：

```
//
//  Details.m
//  AuthorsApp
//
//  Created by georges ouyoun on 7/17/12.
//  Copyright (c) 2012 __MyCompanyName__. All rights reserved.
//

#import "Details.h"
#import "Author.h"

@interface Details ()

@end

@implementation Details

@synthesize labelText;
@synthesize selectedAuthors;
@synthesize author;

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
   self.labelText.text = self.author.title;
    // Do any additional setup after loading the view.
    NSLog(@"Everything is ok now !");
}

- (void)viewDidUnload
{
  //  [self setLabelText:nil];
    NSLog(@"U have entered view did unload");
    [super viewDidUnload];

    [self setLabelText:Nil];
    // Release any retained subviews of the main view.
}

- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender{
//    NSString *Title;
    Details *dv = (Details*)segue.destinationViewController;
  //  author.title = dv.labelText.text;
    dv.labelText.text = author.title;
}

/*
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender{

    if ([segue.identifier isEqualToString:@"AuthorsCell"]) {

        [segue.destinationViewController setLabelText:author.title];

    }

}

/*
-(void)viewWillAppear:(BOOL)animated
{ 

    self.labelText.text = author.title;

    NSLog(@"U have entered the viewWillAppear tag");
  //  detailsLabel.text = food.description;
}
*/

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return YES;
}

- (void)dealloc {
    [labelText release];
    [super dealloc];
}
@end 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-11-06T07:43:26.913

出于演示目的，我假设我们有两个视图控制器`ListViewController`和`DetailViewController`. ListViewController 有 tableview，你已经创建了一个`segue between your tableview cell and details view controller`.

我假设您将其命名为“DetailSegue”。您的故事板应该类似于下图。

![在此处输入图像描述](../Images/b18e8d6a6a844f67b3c336ffa3c37c80.png)

选择 tableViewCell 和 DetailViewController 之间的 segue，打开属性检查器并将标识符指定为“DetailSegue”。见下图，

![在此处输入图像描述](../Images/c650a92a81ceafcd08367011a704d2f7.png)

现在运行应用程序，您应该会看到从 ListViewController 到 DetailViewController 的平滑导航。

`Assuming you datasource is an array of stings and you have your datasource and delegate setup already properly for your list tableView`.

在您的列表视图控制器中添加一个方法 prepareForSegue:sender，这个方法将在 segue 即将执行时被调用。这个方法将被自动调用。

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
   if ([segue.identifier isEqualToString:@"DetailSegue"]) {
    DetailViewController *detailVC = (DetailViewController*)segue.destinationViewController;
    NSIndexPath *indexPath = [self.tableView indexPathForCell:(UITableViewCell *)sender];
    detailVC.title = [self.source objectAtIndex:indexPath.row];
  }
} 
```

添加一个`title`在 DetailViewController 中调用的属性来存储选定的标题，并为 UILabel 添加另一个出口以在视图中显示标题。

DetailViewController.h

```
#import <Foundation/Foundation.h>

@interface RecipeListViewController : NSObject

@property (weak, nonatomic) NSString *title;
@property (weak, nonatomic) IBOutlet UILabel *titleLabel;

@end 
```

* * *

细节视图控制器.m

```
@implementation RecipeListViewController

- (void)viewDidLoad
{
    [super viewDidLoad];
    self.titleLabel.text = self.title;
}
@end 
```

不要忘记连接插座。我希望这能让你大致了解我们如何在视图控制器之间传递数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:12:37.947

是的，您需要使用

`- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender`

方法（覆盖）女巫允许您通过获取 segue.destinationViewController 来传递详细信息，然后设置目标控制器的属性。

例如

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender{
detailViewController *dv = (detailViewController*)segue.destinationViewController;
dv.attribute1 = dataFromTable;
} 
```

例如，如果您在数组中有表格数据，那么一种简单的方法是获取推送的行的行号并将其设置为变量

```
int rowPressed;

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{

rowPressed = indexPath.row;

} 
```

然后在将`PrepareForSegue`数据传递给DetailViewController。使用 rowPressed 从您的数据模型中获取相关数据。

希望这可以帮助！

# javascript - JQuery 监听单击并使用单击元素的 href 发出警报

> ID：11535918
> 
> 赞同：3
> 
> 时间：2012-07-18T07:03:01.487
> 
> 标签：javascript, jquery

标题非常不言自明。

```
$(".js").click(function (e) {
        alert('this elements href is: ' + href);
    }); 
```

如何用单击元素的 href 替换“href”？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-18T07:04:23.307

像这样：

```
$(".js").click(function (e) {
    alert('this elements href is: ' + $(this).attr('href'));
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-18T07:05:59.980

试试这个：

```
alert('this elements href is: ' + this.href);//best one 
```

或者

```
alert('this elements href is: ' + $(this).attr("href"));//but it is unnecessary to wrap an object into another object 
```

# iphone - 没有 GLKViewController 的 GLKVIew

> ID：11535919
> 
> 赞同：1
> 
> 时间：2012-07-18T07:03:01.653
> 
> 标签：iphone, opengl-es

我正在尝试在 iPhone 的相机视图前放置一个 3D 对象。对于我正在使用的相机视图`AVFoundation`。我尝试创建一个`GLKView`并将其作为子视图添加到显示相机视图的视图中。现在我面临的问题是如何调用`update`函数。我是否`drawInRect`每次都手动调用以重绘对象？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T07:06:11.870

除非您真的知道自己在做什么，否则永远不要自己调用 drawInRect。

设置一个定时器（可以是CADisplayLink类型）并调用glkview显示方法：

```
[self.drawingSpace display]; 
```

# emacs - Emacs jabber 为 gmail talk 设置状态

> ID：11535920
> 
> 赞同：3
> 
> 时间：2012-07-18T07:03:14.003
> 
> 标签：emacs, xmpp

通过 jabber.el 连接时是否可以更改 Gmail 通话的状态？

在我的浏览器中，我设置了“忙碌”，但在 jabber 中它仍然显示“在线”。如果可能的话，我也希望能够设置为“不可见”。

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T10:08:43.313

您可以使用以下键绑定：

*   `C-x C-j C-a`- 离开
*   `C-x C-j C-x`- 向外延伸
*   `C-x C-j C-o`- 在线的

还有其他两个选项（“请勿打扰”和“可用于聊天”）。`C-x C-j C-p`您可以使用(for )访问这些内容以及输入自定义消息的选项`jabber-send-presence`。

不直接支持“不可见”，但如果您打开控制台（设置并切换到`jabber-debug-log-xml`缓冲区），您应该能够按照[http://chinmaykamat.wordpress.com/2010/01/22上的说明进行操作](http://chinmaykamat.wordpress.com/2010/01/22/google-talk-invisible-mode-in-pidgin/)[/google-talk-invisible-mode-in-pidgin/](http://chinmaykamat.wordpress.com/2010/01/22/google-talk-invisible-mode-in-pidgin/)。`t``*-jabber-console-JID-*`

# java - Servlet 映射在本地工作，但不在应用引擎中的网络服务器上工作

> ID：11535928
> 
> 赞同：2
> 
> 时间：2012-07-18T07:03:51.997
> 
> 标签：java, google-app-engine, servlets, redirect, web.xml

我在应用程序引擎上遇到了 servlet 映射问题。

**详细信息**
使用我的 web.xml 配置文件，我将 URL 模式“/i”映射到重定向到我的 WAR 路径根目录上的 info.html。

当我在本地运行它并访问 url localhost:8888/i 时，Web 服务器正确地重定向到 info.html 站点。但是当我推送到应用引擎并尝试访问 www.mysite.com/i 时，我收到 404**错误：NOT_FOUND**

**问题**
1\. 为什么我的服务器映射在本地工作而不是远程工作？2\. 是否有另一种方法可以将像 www.mysite.com/i 这样的 url 模式映射到我的战争路径中的静态文件？

*虽然我使用的是应用程序引擎，但我认为这与其他通过 web.xml 使用 servlet-mappings 的 Java 服务器类似。我也知道映射到静态 html 文件可能看起来很奇怪，但目前我没有加载任何动态内容。

**下面的代码示例**
我已经包含了我的 web.xml 文件的精简版本以供参考。它隔离了我如何进行重定向。

```
<?xml version="1.0" encoding="utf-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" version="2.5">

    <servlet>
        <servlet-name>Info</servlet-name>
        <jsp-file>info.html</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>Info</servlet-name>
        <url-pattern>/i</url-pattern>
    </servlet-mapping>

    <welcome-file-list>
        <welcome-file>index.html</welcome-file>
    </welcome-file-list>
</web-app> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T08:04:59.597

请记住，AE 并不完全相同：

> 默认情况下，App Engine 将 WAR 中的所有文件作为静态文件提供，但 JSP 和 WEB-INF/ 中的文件除外。对路径与静态文件匹配的 URL 的任何请求都将文件直接提供给浏览器——即使该路径也与 servlet 或过滤器映射匹配。您可以使用 appengine-web.xml 文件配置 App Engine 将哪些文件视为静态文件。

来自[https://developers.google.com/appengine/docs/java/gettingstarted/staticfiles](https://developers.google.com/appengine/docs/java/gettingstarted/staticfiles)

配置 appengine-web.xml 的说明在这里[https://developers.google.com/appengine/docs/java/config/appconfig](https://developers.google.com/appengine/docs/java/config/appconfig)

我会尝试明确声明它：

```
<static-files>
    <include path="info.html" />
</static-files> 
```

如果这不起作用，只会将我的 .html 页面更改为真正的 jsp 页面（即使没有动态内容）。

如果这不起作用，请尝试从 servlet 中使用 RequestDispatcher 来转发 html 页面，请参阅[http://www.jguru.com/faq/view.jsp?EID=1310997](http://www.jguru.com/faq/view.jsp?EID=1310997)

顺便说一句，我的经验是，即使 appengine-web.xml 相同，devmode 服务器和部署服务器有时也会以不同的方式解析文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-21T13:08:57.550

> 静态文件，即逐字提供给用户的文件，例如图像、CSS 或 JavaScript，与部署描述符中提到的路径分开处理。**对与 WAR中被视为静态文件的**文件的路径匹配的 URL 路径请求将为该文件提供服务，而不管部署描述符中的 servlet 和过滤器映射如何。您可以使用 appengine-web.xml 文件从那些被视为静态文件的文件中排除文件。

也就是说，如果要将 .html 映射到 URL，则必须确保它不是静态的；*因为我们知道无论 servlet 和过滤器映射如何，都会提供*静态文件。

为此，您必须使用以下命令将其从静态文件中排除：

```
<static-files>
    <exclude path="/**.html"/>
</static-files> 
```

这将使该 .html 文件仅成为资源文件（默认情况下，所有文件都是静态文件和资源文件；除了 .jsp 文件和 web-inf 文件夹中的文件）。

但不幸的是，这仍然不会使 App Engine 获取 .html 文件的 URL 映射（使用“jsp-file”定义）。很可能是因为 servlet 映射最终指向一个 servlet，并且虽然为每个 .jsp 文件生成了一个 servlet，但对于 .html 文件（或任何其他文件）却不是这样。

我能想出的唯一解决方案是将 .html 文件重命名为 .jsp （并删除静态文件排除项；您不再需要它了）。这样您就可以将其映射到任何 URL。

有趣的是，您可以将非 .jsp 文件映射到开发服务器上的 URL；只是与 App Engine 的另一个不一致之处。;)

# android - 如何从 Assets 文件夹加载动画？

> ID：11535930
> 
> 赞同：0
> 
> 时间：2012-07-18T07:03:52.767
> 
> 标签：android

我正在为 Unity3D 开发 Android Java 插件。

我是我的 Android 项目，我有一个不扩展 Activity 的类，但我从统一调用一个函数并在其中发送当前活动。

```
public class abc{    
  void init(final Activity currActivity, .. and some other params)
  {
    .....
    my code here.//
    .... .
  }    
} 
```

我正在使用

```
currAnimation_StartAd = AnimationUtils.loadAnimation(currActivity, R.anim.slide_in_right); 
```

在我扩展 Activity 时从**res文件夹加载我的动画。**

现在我的问题是，我无法访问**res**文件夹 bcoz**我不再扩展 Activity**。**实际上，即使我在R.anim.slide_in_right**上也没有收到任何编译时错误。但在运行时，Resource **R.anim.slide_in_right: 0x7f040001** not found..

**有没有办法从资产文件夹加载我的动画。？**

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T07:30:04.573

在这种情况下，您可以使用 getApplicationContext() .. 将您喜欢的代码更改为

```
currAnimation_StartAd =  AnimationUtils.loadAnimation(getApplicationContext(), R.anim.slide_in_right); 
```

这应该有效。

或者用 gautam 更好地解释 currAnimation_StartAd = AnimationUtils.loadAnimation(currActivity.getApplicationContext, R.anim.slide_in_right);

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:14:54.667

为了在任何视图上设置动画：

```
view.setInAnimation(AnimationUtils.loadAnimation(this, R.anim.push_up_in));
view.setOutAnimation(AnimationUtils.loadAnimation(this, R.anim.push_up_out)); 
```

为此，您必须在项目的 res 下创建 anim 文件夹并将 xml 文件创建为： **push_up_in：**

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android">
        <translate android:fromYDelta="100%p" android:toYDelta="0" android:duration="300"/>
        <alpha android:fromAlpha="0.0" android:toAlpha="1.0" android:duration="300" />
</set> 
```

**push_up_out：**

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android">
        <translate android:fromYDelta="0" android:toYDelta="-100%p" android:duration="300"/>
        <alpha android:fromAlpha="1.0" android:toAlpha="0.0" android:duration="300" />
</set> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T09:37:49.660

您仍然可以通过 Application 获取 Context 对象来访问 res 文件夹。创建一个应用程序类：

```
public class app extends Application{
    public static Context c;
    @Override
    public void onCreate() {
        super.onCreate();
        c = this;
    }
    @Override
    public void onTerminate() {
        super.onTerminate();
        c = null;
    }
} 
```

记得也要在清单中声明。现在你可以在任何地方都有一个上下文

```
app.context 
```

# c++ - 如何在 C++ 中动态地将大小分配给数组？

> ID：11535935
> 
> 赞同：2
> 
> 时间：2012-07-18T07:04:10.143
> 
> 标签：c++, arrays, dynamic, size, cardinality

所以现在我有一个 C++ 类，叫做 Set。在其中，我有一个名为 mCardinality 的整数和一个名为 mElements 的整数数组。我希望能够在 mCardinality 的构造函数中接受一个整数，然后使用它来为我的整数数组分配一个大小，有没有办法做到这一点，或者我绝对必须马上为它设置一个大小? （我想我可以将大小设为最大整数，然后只使用基数来限制我处理元素的循环，但更简洁的解决方案会更好）。

我确实在这里看到，可能有一种方法可以使用 std::vector 来调整数组的大小，这行得通吗？而且...该代码看起来如何？对于我想做的所有其他事情，向量是否像 C++ 中的数组一样工作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T07:07:21.703

你的选择是这些：

1.  使用 std::vector 或
2.  使用普通的旧数组

带矢量（推荐）：

```
class YourSet {
public:
   YourSet(int size) : elements(size)
   {
   }
private:
   std::vector<int> elements;
}; 
```

使用数组（由于可能存在异常安全问题，因此不推荐）：

```
class YourSet {
public:
   YourSet(int size)
   {
       elements = new int[size];
   }
   ~YourSet()
   {
        delete[] elements;
   }
private:
   int* elements;
   // no implementation to prevent shallow copying
   YourSet( const YourSet&);
   void operator=(const YourSet&);
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T07:07:47.193

`std::vector`将适用于您的目的。

```
#include <vector>

class Set
{
  Set(int len)
   : mElements(len)
  {
  }

  void do_smth()
  {
    size_t vector_len = mElements.size();

    int index = 0;
    int element = mElements[index];
  }

  std::vector<int> mElements;
}; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-18T07:08:02.080

Vector 保存指针，并在需要时重新分配内存。

```
T* new_ptr = new T[new_size];
std::copy(ptr, ptr + size, new_ptr);
delete[] ptr;
ptr = new_ptr;
size = new_size; 
```

这是一个简单的例子。Vector使用分配器，但实际上是这样的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-18T07:09:05.857

去一个向量。当您从中添加或删除项目时，它会自动调整大小，如果需要，您也可以指定它的大小。

```
 vector<myClass> m_vClasses;
 myClass myNewObject;
 m_Classes.push_back(myNewObject); // Vector resized when you add new element 
```

`myClass`假设您的析构函数正确释放了该类分配的任何内存，您无需担心内存或其他问题（除非 myClass 是指向动态分配的内存的指针） 。矢量将自动为您处理调整大小。

# c# - 代码格式中的缩进与对齐

> ID：11535938
> 
> 赞同：1
> 
> 时间：2012-07-18T07:04:13.843
> 
> 标签：c#, java, php, asp.net

我正在阅读此线程[https://stackoverflow.com/questions/268538/tab-versus-space-indentation-in-c-sharp](https://stackoverflow.com/questions/268538/tab-versus-space-indentation-in-c-sharp)重新调整制表符与空格缩进。该线程的寓意导致“缩进的制表符，对齐的空格”。你能用一些代码示例来解释一下缩进是什么意思吗？空格是什么意思？我只是对代码上下文中的两件事感到困惑？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T07:11:36.923

该线程的示例：

```
switch(foo)
{
   case bar:      Do1(); break;
   case foobar_2: Do2(); break;
} 
```

在这里，关键字“case”是缩进的。"bar:" 和 "foobar_2:" 向左对齐。

您可以想象有一个框，其中相同的单词可以左对齐或右对齐。剩下：

```
switch(foo)
{
   case bar:      Do1(); break;
   case foobar_2: Do2(); break;
} 
```

对：

```
switch(foo)
{
   case      bar: Do1(); break;
   case foobar_2: Do2(); break;
} 
```

由于选项卡配置不同，如果使用选项卡完成这种事情会变得一团糟，所以这里必须有空格。但是，使用不同的制表符宽度配置，缩进就变成了这样：

```
switch(foo)
{
       case bar:      Do1(); break;
       case foobar_2: Do2(); break;
} 
```

这更像是一个偏好问题，因为它不会弄乱哪条线匹配什么。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T07:10:44.373

在[Java 代码约定](http://www.oracle.com/technetwork/java/codeconv-138413.html)中，它建议始终使用空格。这在每个编辑器中都以相同的缩进出现，并且比混合制表符/空格方法更简单。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-18T07:24:56.347

在这里你可以看到一个对齐的例子——条件被对齐在另一个之下。通常，您无法使用选项卡来实现此目的，因为

a) 如果制表符大小为 2 或 4，则不能用制表符表示 3 个空格

b）即使您计算机上的标签大小为 3 并且您设法与标签对齐，另一个人也可以有不同的标签大小并且对齐会中断（条件不会在另一个之下。

![对齐示例](../Images/35d4a051c8f5f35e9d0aaa8b99a65549.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T07:16:50.970

```
public class SwitchDemo {
    public static void main(String[] args) {

        int month = 8;
        String monthString;
        switch (month) {
            case 1:  monthString = "January";
                     break;
            case 2:  monthString = "February";
                     break;
            case 3:  monthString = "March";
                     break;
            case 4:  monthString = "April";
                     break;
            case 5:  monthString = "May";
                     break;
            case 6:  monthString = "June";
                     break;
            case 7:  monthString = "July";
                     break;
            case 8:  monthString = "August";
                     break;
            case 9:  monthString = "September";
                     break;
            case 10: monthString = "October";
                     break;
            case 11: monthString = "November";
                     break;
            case 12: monthString = "December";
                     break;
            default: monthString = "Invalid month";
                     break;
        }
        System.out.println(monthString);
    }
} 
```

行上的缩进是用制表符制作的。
switch-case 语句中的对齐是用空格完成的。

```
ttttttttttttttttcase 9:ssmonthString = "September";
ttttttttttttttttttttttttsbreak;
ttttttttttttttttcase 10:smonthString = "October";
ttttttttttttttttttttttttsbreak; 
```

`tttt`s代表一个tab
`s`代表一个空格

# sql - 可以在用于获取另一列的公式中使用使用公式获得的列吗？

> ID：11535947
> 
> 赞同：1
> 
> 时间：2012-07-18T07:04:44.377
> 
> 标签：sql, oracle

我正在使用如下查询：

```
SELECT C1, C1+C2,C (C1+C2)*C3 FROM T1 WHERE C2='XX' 
```

现在，第二列的公式是 C1+C2，第三列是第二列乘以 C3。所以，我想知道的是，如果这样的事情是可能的：

```
SELECT C1,C1+C2 AS NEWC, NEWC*C3 FROM T1 WHERE C2='XX' 
```

这个查询看起来微不足道，但实际上我有一个巨大的 4 行查询，如果有的话，我想使用一个出路，因为由于重复前面列中已经说明的公式，查询被毫无意义地延长了。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-18T07:46:57.203

您可以使用子查询来删除重复的代码：

```
SELECT C1, NEWC, NEWC*C3
  FROM (SELECT C1, C1+C2 NEWC, C3 
          FROM T1 
         WHERE C2='XX') 
```

有时，可以通过将子查询移至`WITH`子句来提高可读性：

```
WITH intermediate_result AS (
   SELECT C1, C1+C2 NEWC, C3 
     FROM T1 
    WHERE C2='XX'
)
SELECT C1, NEWC, NEWC*C3 
  FROM intermediate_result 
```

# selenium - Selenium RC 和 WebDriver 的区别

> ID：11535950
> 
> 赞同：37
> 
> 时间：2012-07-18T07:04:58.953
> 
> 标签：selenium, selenium-webdriver, selenium-rc

`Selenium RC`和之间的基本区别是`WebDriver`什么？

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2012-07-18T07:20:45.683

引用[WebDriver 和 Selenium RC](http://seleniumhq.org/docs/03_webdriver.html)：

> Selenium-WebDriver 使用每个浏览器对自动化的原生支持直接调用浏览器。这些直接调用的方式以及它们支持的功能取决于您使用的浏览器。本章稍后将提供有关每个“浏览器驱动程序”的信息。
> 
> 对于熟悉 Selenium-RC 的人来说，这与您习惯的完全不同。Selenium-RC 对于每个支持的浏览器都以相同的方式工作。它在浏览器加载时将 javascript 函数“注入”到浏览器中，然后使用其 javascript 在浏览器中驱动 AUT。WebDriver 不使用这种技术。同样，它使用浏览器内置的自动化支持直接驱动浏览器。
> 
> 您可能需要也可能不需要 Selenium 服务器，具体取决于您打算如何使用 Selenium-WebDriver。如果您只使用 WebDriver API，则不需要 Selenium-Server。如果您的浏览器和测试都将在同一台机器上运行，并且您的测试只使用 WebDriver API，那么您不需要运行 Selenium-Server；WebDriver 将直接运行浏览器。
> 
> 将 Selenium-Server 与 Selenium-WebDriver 一起使用是有一些原因的。
> 
> *   您正在使用 Selenium-Grid 将测试分布在多台机器或虚拟机 (VM) 上。
> *   您想要连接到具有特定浏览器版本的远程计算机，该版本不在您当前的计算机上。
> *   您没有使用 Java 绑定（即 Python、C# 或 Ruby）并希望使用 HtmlUnit 驱动程序。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2014-02-22T19:24:49.630

**Selenium RC**在加载网页时将 javascript 函数注入浏览器。

**Selenium WebDriver**使用浏览器的内置支持来驱动浏览器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-16T06:37:15.190

想在上面的答案中添加一点，

由于 selenium RC 将 java 脚本代码注入浏览器，浏览器的行为方式几乎相似。

但是对于 WebDriver，调用是直接使用特定浏览器的本机支持进行的，浏览器的行为更像是在用户交互的情况下

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-01-31T10:45:08.263

WebDriver 是一个使用不同编程语言在不同浏览器上测试 Web 应用程序的工具。您现在可以进行强大的测试，因为 WebDriver 允许您在设计测试时使用您选择的编程语言。WebDriver 比 Selenium RC 更快，因为它的架构更简单。WebDriver 直接与浏览器对话，而 Selenium RC 需要 RC 服务器的帮助才能这样做。WebDriver 的 API 比 Selenium RC 的更简洁。WebDriver 可以支持 HtmlUnit 而 Selenium RC 不能。WebDriver 唯一的缺点是：它不能轻易地支持新的浏览器，但 Selenium RC 可以。它没有用于自动生成测试结果的内置命令。

[http://www.guru99.com/introduction-webdriver-comparison-selenium-rc.html](http://www.guru99.com/introduction-webdriver-comparison-selenium-rc.html)

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2015-03-17T05:16:32.500

在这里，我正在讨论 Web 驱动程序功能，这些是 RC 中的缺点：

1.  无需启动服务器即可运行程序
2.  Web 驱动程序默认最大化窗口或浏览器
3.  隐藏命令历史窗口
4.  Web 驱动程序默认保持页面加载同步。如果是页面刷新我们必须使用thread.sleep()来维护；
5.  我们可以借助“WebDriverBackedSelenium”在一个类下开发 RC 脚本和 Web 驱动程序脚本。
6.  我们可以使用高级 Web 驱动程序概念从应用程序中获取信息。
7.  Web Driver 比 Selenium RC 更快，因为它的架构更简单。
8.  Web Driver 直接与浏览器对话，而 Selenium RC 需要 RC Server 的帮助才能做到这一点。
9.  Web Driver 的 API 比 Selenium RC 的更简洁。
10.  Web Driver 可以支持 Html Unit 而 Selenium RC 不能。

# c# - 获取附加属性“Canvas.Left”

> ID：11535952
> 
> 赞同：1
> 
> 时间：2012-07-18T07:05:05.757
> 
> 标签：c#, attached-properties, getproperty

我有以下代码：

```
this.Object.GetType().GetProperty(this.PropertyName).GetValue(this.Object, null); 
```

PropertyName 是一个字符串，包含我要获取的属性的名称。这适用于“正常”属性，但我无法获得“Canvas.LeftProperty”或“Canvas.TopProperty”。

谁能帮我吗？

谢谢，克里斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T07:16:40.970

我认为这是因为 Canvas.Left 是附加属性，要检索它们，请尝试以下操作：

```
private DependencyProperty GetAttachedProperty(DependencyObject obj, string propertyName, Type ownerType)
{

    foreach (PropertyDescriptor pd in TypeDescriptor.GetProperties(obj,
        new Attribute[] { new PropertyFilterAttribute(PropertyFilterOptions.All) }))
    {
        DependencyPropertyDescriptor dpd =
            DependencyPropertyDescriptor.FromProperty(pd);

        if (dpd != null && dpd.IsAttached)
        {
            if (string.Compare(dpd.DependencyProperty.Name, propertyName, StringComparison.CurrentCultureIgnoreCase) == 0 && dpd.DependencyProperty.OwnerType == ownerType)
            {
                return dpd.DependencyProperty;
            }
        }
    }

    return null;
} 
```

[来源](http://social.msdn.microsoft.com/Forums/en/wpf/thread/8662f3a0-4a7e-47d1-857d-1a5954e5cf59)

# c++ - 检查是否可以删除目录树而不实际开始删除它

> ID：11535954
> 
> 赞同：1
> 
> 时间：2012-07-18T07:05:17.533
> 
> 标签：c++, windows, winapi

在我的程序中，我需要能够删除带有旧输出的目录。但是里面的一些文件可能被锁定了。在这种情况下，我想通过重试/取消对话框警告用户他需要在程序继续之前关闭锁定它们的应用程序，如果用户单击取消，我希望目录保持不变。

那么，谁能告诉我一种方法来检查是否可以删除整个目录树（在任何子目录中都没有锁定的文件），而无需修改其内容 - 就像试运行一样。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T07:11:51.830

也许您可以尝试重命名父目录，至少在 Windows 中您会收到一条错误消息，指出如果子文件夹中的文件被锁定，这是不可能的。如果重命名成功，删除它应该是安全的，并防止其他人在删除之前访问树。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-18T07:55:20.353

您可以在目录树中的每个文件上调用[_access函数。](http://msdn.microsoft.com/en-us/library/1w06ktdy%28v=vs.71%29.aspx)但是仍然有人可以在检查文件后锁定文件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-19T15:30:30.747

使用重新启动管理器将告诉您是否有任何文件正在使用并提供关闭它们。但是，没有什么可以防止在您检查后锁定它们的竞争条件。

# c - 关闭使用 shm_open() 打开的 FD（文件描述符），而不使用 close()？

> ID：11535956
> 
> 赞同：4
> 
> 时间：2012-07-18T07:05:27.660
> 
> 标签：c, file-descriptor

我想关闭一个用`shm_open`.

这是代码：

```
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
 #include <unistd.h>             
 #include <sys/file.h>           
 #include <sys/mman.h>          
 #include <sys/wait.h>

 void errorAndExit(const char *msg)
 {
     perror(msg);
     exit(EXIT_FAILURE);
 }

 int main(int argc, char *argv[])
 {
      /* shm_open recommends using a leading '/' in
      the region name for portability, but Linux
      doesn't require it. */

      const char *memname = "/myMkfifo.txt";

      // Use one page for this example

      const size_t region_size = sysconf(_SC_PAGE_SIZE);

     /* Create the shared memory region.
      Notice the args are identical to open(2).*/

     int fd = shm_open(memname, O_CREAT | O_TRUNC | O_RDWR, 0666);
     if (fd == -1)
         errorAndExit("shm_open");

    /* Allocate some memory in the region. We use ftruncate, but
     write(2) would work just as well. */

     int r = ftruncate(fd, region_size);
     if (r != 0)
         errorAndExit("ftruncate");

    // Map the region into memory.

     void *ptr =
         mmap(0, region_size, PROT_READ | PROT_WRITE, MAP_SHARED, fd,
              0);
     if (ptr == MAP_FAILED)
         errorAndExit("mmap");

     // Don't need the fd after the mmmap call.

     close(fd);
     pid_t pid = fork();

     if (pid == 0)   // son
     {
         // Child process inherits the shared memory mapping.

         u_long *d = (u_long *) ptr;
         *d = 200;
         printf("I'm the child process and I wrote: %#lx\n", *(u_long *) d);
         exit(0);
     }

     else    
     {   /* child
          Synchronize with the child process. */

         int status;
         waitpid(pid, &status, 0);

         // Parent process sees the same memory.

         printf("I'm the father process , and my child wrote: %#lx\n", *(u_long *) ptr);

     }

     // errorAndExit with the memory, umap it.

     r = munmap(ptr, region_size);
     if (r != 0)
         errorAndExit("munmap");

     // Remove the shared memory region.

     r = shm_unlink(memname);
     if (r != 0)
         errorAndExit("shm_unlink");

    return 0;
} 
```

我怎样才能关闭`fd`没有`close()`？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-18T08:22:49.990

对我来说这听起来像是一个谜：如何在不调用 fd 的 close 的情况下关闭文件描述符？这是一种方法：

```
int close_without_close (int fd) {
    if (dup2(!fd, fd) < 0) return -1; // assumes 0 and 1 are open
    return close(!fd);
} 
```

这是另一个：

```
int close_without_close2 (int fd) {
    if (fcntl(fd, fcntl(fd, F_SETFD, FD_CLOEXEC) < 0) return -1;
    switch (fork()) {
    case -1: return -1;
    case 0:  break;
    default: exit(EXIT_SUCCESS);
    }
    return 0;
} 
```

好的，直到你之后，第二个才起作用`exec`。那好吧...

多一个：

```
int close_without_close3 (int fd) {
    return syscall(SYS_close, fd);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-18T09:06:09.187

这是一种（昂贵的......）绕过 close() 的方法......

```
#include <unistd.h>
#include <fcntl.h>

int main (int argc, char **argv)
{
int val;
int fd = -1;

val = fcntl(fd, F_GETFD, 0);
val |= FD_CLOEXEC;
fcntl(fd, F_SETFD, val);

execve(argv[0], argv, NULL);
return 0; /* not reached */
} 
```

# c# - 来自 asp.net Web 配置文件的 SSRS 连接字符串

> ID：11535958
> 
> 赞同：1
> 
> 时间：2012-07-18T07:05:29.800
> 
> 标签：c#, reporting-services

我目前在我的 Web 应用程序中使用 ssrs 报告，我正在从位于报告服务器中的数据源中检索连接字符串。但我想从我的 C# 应用程序的 Web 配置文件中获取连接字符串信息。任何人都知道如何实现那？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T15:49:23.460

至少据我所知，这在 SSRS 中并非微不足道，也不是那么安全。一种设置可能是这样的：

*   在您的报告中创建一个*隐藏*参数。`@ConnString`
*   使用[数据源表达式](http://msdn.microsoft.com/en-us/library/ms156450%28v=sql.90%29.aspx)设置连接：`=@ConnString`。
*   为确保报表可以使用这种动态连接字符串运行，您可能需要[启用无人值守执行帐户](http://msdn.microsoft.com/en-us/library/ms156302.aspx)。

您尚未在问题中指定如何显示报告。假设您使用的是 WebForms ReportViewer，您需要在加载时以编程方式注入参数。

请注意，此设置可能非常不安全，具体取决于您从 Web 服务器到报表服务器的请求所采用的网络路由。

# javascript - JavaScript 代码仅适用于 IE

> ID：11535960
> 
> 赞同：0
> 
> 时间：2012-07-18T07:05:32.260
> 
> 标签：javascript, asp.net, datagrid

在我的页面上我有一些 JS 代码。它仅适用于 IE。不适用于 Firefox 和 Google Chrome。

JS 函数在 Datagrid 的 checkox onclick 函数时触发。

```
<asp:TemplateColumn Visible="true">
                                                        <ItemTemplate>
                                                            <asp:CheckBox ID="chkSelect" Runat="server" onclick="kontrol(this);"></asp:CheckBox>
                                                        </ItemTemplate>
                                                    </asp:TemplateColumn> 
```

这是JS代码..

```
<asp:Content ID="Content1" ContentPlaceHolderID="HeadContent" runat="server">
<script type="text/javascript">
    var secilenler = "";
    var birim = "";
    function kontrol(obj) {
        var sira = parseInt(obj.id.substring(obj.id.length - 1, obj.id.length)) + 1;
        var grid = document.getElementById("<%= grdIslemler.ClientID %>");
        if (secilenler == "") {
            secilenler += obj.id + "|";
            birim = grid.rows(sira).cells(1).innerHTML;
        }
        else {
            if (birim == grid.rows(sira).cells(1).innerHTML) {
                secilenler += obj.id + "|";
            }
            else {
                secilenler = secilenler.substring(0, secilenler.length - 1);
                var arr = new Array();
                arr = secilenler.split("|");
                for (var i = 0; i < arr.length; i++) {
                    var chk = document.getElementById(arr[i]);
                    chk.checked = false;
                    secilenler = obj.id + "|";
                    birim = grid.rows(sira).cells(1).innerHTML;
                }
            }
        }
    }
</script> 
```

# asp.net - Twitter 标题文本

> ID：11535962
> 
> 赞同：0
> 
> 时间：2012-07-18T07:05:40.000
> 
> 标签：asp.net, twitter

我希望创建一个应用程序并有一个按钮，可以将推文发布到我的推特帐户。我在网上找到了这段代码。代码很棒，但我有一个问题。当我单击按钮时，会打开一个弹出窗口，但文本框上方的文本是“发生了什么？”。

我现在的问题，如何更改此文本？

请参阅下面的代码。

谢谢

瑞玉

```
<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="Default.aspx.cs" Inherits="FacebookUserImport.Twitter.Default" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <!-- other smart stuff here... -->
    <script type="text/javascript">
        function popup_share(url, width, height) {
            day = new Date();
            id = day.getTime();
            eval("page" + id + " = window.open(url, '" + id + "', 'toolbar=0,scrollbars=1,location=1,statusbar=0,menubar=0,resizable=0,width=" + width + ", height=" + height + ", left = 363, top = 144');");
        }
    </script>
</head>

<body>
    <!-- other smart stuff here... -->
    <% var link = "Practice: some text here http://www.florian-hacquebart.eu/?p=113',800,320"; %>
    <a href="javascript:popup_share('http://twitter.com/home?status=<%= link %>)" title="Share on Twitter">
        <img src="twitter_button.png" alt="share this article on twitter" />
    </a>
</body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:07:07.060

您正在打开 Twitter 网站 ( `http://twitter.com/home?status=...`) 的一部分，因此您无法更改此窗口上的内容。

# xml - 是否可以用流星解析 xml 服务器端？

> ID：11535964
> 
> 赞同：3
> 
> 时间：2012-07-18T07:05:58.353
> 
> 标签：xml, api, meteor

我想编写一个与外部 api 接口的简单应用程序。不幸的是，我正在使用的 api 不支持 json。

我想知道是否可以解析 xml 服务器端，所以我不必只将 xml 传递给客户端并使用 jquery 来解析它。

我尝试使用的 api 是[Pivotal Tracker Api](https://www.pivotaltracker.com/help/api)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T23:52:15.003

是的，您可以在 Meteor 中安装 npm 模块。转到 .meteor/local/build/server 并在那里安装模块。它将进入 node_modules。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-10T11:26:15.987

查看将节点模块安装到流星中的最新方法： [2013 Meteor NPM Packages](https://stackoverflow.com/questions/15583438/2013-meteor-npm-packages)

# jquery - jquery 无法用 c-cedilla 解码 json

> ID：11535968
> 
> 赞同：0
> 
> 时间：2012-07-18T07:06:15.840
> 
> 标签：jquery, json, character, response

jQuery 无法解析包含法语 C-cedilla 字符的有效 json 响应。

jQuery json 请求是这样的：

```
$.ajax({
    url: "retrieve",
    dataType: 'json',
    success: function (x) { },
    error: function (jqXHR, textStatus, errorThrown) { }); 
```

服务器发送此响应：

```
{
    "trist":"{\"Lines\":[{\"C\":\"Director: Beça\"}]}"
} 
```

jQuery 失败，因为 Beça 中的 c-cedilla 而抱怨无效字符。如果我只检查浏览器中的原始 json 响应，就会恢复正常。到目前为止，我的所有调查都表明这应该是可行的，所以我不知道如何进一步发展。

经过进一步审查......“trist”字段的值本身就是json对象；换句话说，“trist”的值旨在提取为字符串，然后解析为 Lines 对象。也许那个内部 json 没有正确 utf-8 编码？也许内部 json 需要以某种方式“转义”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T16:56:33.703

问题是网页上的编码不匹配。一旦我将服务器设置为使用 UTF-8 进行响应并将网页字符集标头设置为 UTF-8，一切正常。感谢所有查看此内容的人，包括 devnull69，他们的评论让我重新参与其中。

# android - 在 android 4 中使用 Asynctask 和 web 服务自动完成 TextView

> ID：11535974
> 
> 赞同：5
> 
> 时间：2012-07-18T07:06:45.880
> 
> 标签：android, android-asynctask, android-4.0-ice-cream-sandwich

我正在尝试使用`AsyncTask`服务器进行自动完成。我在这里分享了我的代码。

这是我的代码`AutocompleteTextwatcher`：

```
AutoCompleteTextView textView = (AutoCompleteTextView) findViewById(R.id.mainautocomplete);
textView.addTextChangedListener(new TextWatcher() {
    @Override
    public void afterTextChanged(Editable editable) {

    }

    @Override
    public void beforeTextChanged(CharSequence charSequence, int arg1, int arg2, int arg3) {

    }

    @Override
    public void onTextChanged(CharSequence charSequence, int start, int before, int count) {
        String text=charSequence.toString();
        if (text.length() > 3) {
            MyAsyncTask myTask = new MyAsyncTask();
            try {
                ArrayList<String> adapterList = new ArrayList<String>();
                adapterList=myTask.execute(url).get();/*My Web service url*/
                if(!adapterList.isEmpty()){
                    Log.v("ADPTER LIST",adapterList.toString());
                    adapter = new ArrayAdapter<String>(getApplicationContext(), R.layout.list_item, adapterList);
                    textView.setAdapter(adapter);
                }else{
                    Log.v("ADPTER LIST","No VALUES");
                }
            } catch (InterruptedException e) {
                Log.v("catch",e.getMessage());
            } catch (ExecutionException e) {
                Log.v("catch2",e.getMessage());
            }
        }
    }
}); 
```

我的`AsyncTask`代码是，

```
private class MyAsyncTask extends AsyncTask<String, Void, ArrayList<String>>{
    @Override
    protected void onPreExecute(){
        pd = ProgressDialog.show(HomeLayoutActivity.this,"", "Please Wait!");
    }

    @Override
    protected ArrayList<String> doInBackground(String... params) {
        try {
            String myQuery=params[0];
            HttpClient httpClient = new DefaultHttpClient();
            HttpResponse response = null;
            InputStream is = null;
            String result = null;
            StringBuilder sb = null;

            response = httpClient.execute(new HttpGet(myQuery));
            is = response.getEntity().getContent();
            BufferedReader reader = new BufferedReader(new InputStreamReader(is, "UTF-8"));
            sb = new StringBuilder();
            sb.append(reader.readLine() + "\n");
            String line = "0";

            while ((line = reader.readLine()) != null) {
                sb.append(line + "\n");
            }

            is.close();
            result = sb.toString();
            JSONArray jArray = new JSONArray(result);
            JSONObject jData = null;
            tags.clear();

            for (int i = 0; i < jArray.length(); i++) {
                jData = jArray.getJSONObject(i);
                tags.add(jData.getString("tagname"));
            }
            Log.v("JSON",""+tags.toString());

        } catch(Exception e){
            Log.v("MUGBUG4",e.getMessage());
        }
        return tags;
    }

    @Override
    protected void onProgressUpdate(Void...strings ){

    }

    @Override
    protected void onPostExecute(ArrayList<String> result){
        Log.v("OPE",result.toString());
        pd.dismiss();
    }

} 
```

我的问题是，

*   我可以记录`ArrayList`来自`AsyncTask`（我记录并检查）的结果。但是这些值未显示在自动完成下拉列表中。
*   我很惊讶，我向网络服务器发出了自动完成请求，输入了三个以上的字符。一旦输入超过 3 个字符，请求就会进行，不会显示任何建议。但是在请求发生后显示输入少于 3 个字符的建议。
*   我的代码没有抛出异常。

我尝试的是，

*   我试图`onPostExecute`在`AsyncTask`. 显示相同的输出。
*   我尝试使用 android 2.3 模拟器。它工作正常。

android 4和有什么问题`Asynctask` `doInBackground()`吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-04T15:44:27.637

我也有同样的情况。我不知道它是否有帮助，但我建议您在添加适配器后添加这些代码行。

```
 if (!textView.isPopupShowing()) {
        textView.showDropDown();
    } 
```

它帮助了我。说实话，我不知道这种行为的确切原因，但在 AutoCompleteTextView 的早期实现中，他们使用 ListView 来显示下拉菜单。在 4.0（可能更早）中，他们开始使用 ListPopupWindow。可能是这个原因。干杯

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-28T07:12:03.040

在 MyAsyncTask() OnPostExecute() 方法中编写以下代码

```
ArrayList<String> adapterList = new ArrayList<String>();
adapterList=myTask.execute(url).get();
if(!adapterList.isEmpty()){
     .....
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-25T17:19:21.570

您需要实现一个过滤器，类似于此处的答案：

[Android - AutoCompleteTextView 仅在退格时有效](https://stackoverflow.com/questions/17857334/android-autocompletetextview-only-works-when-backspacing/17862403#17862403)

# validation - 为什么 isvalid("integer","1,5") = YES？

> ID：11535979
> 
> 赞同：12
> 
> 时间：2012-07-18T07:06:49.220
> 
> 标签：validation, coldfusion, integer, coldfusion-9

为什么`#isValid("integer","1,5")#`输出YES？我希望它会像这样输出 NO `#isValid("integer","1.5")#`。

我要验证`<CFIF isvalid("integer","1,5") AND isnumeric("1,5")>`...

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-07-18T07:58:44.057

Adobe 意识到了这一点，但...

> 状态：关闭
> 
> 状态：撤回
> 
> 原因：AsDesigned

[https://bugbase.adobe.com/index.cfm?event=bug&id=3169196](https://bugbase.adobe.com/index.cfm?event=bug&id=3169196)

TBH 我对使用一种甚至无法正确验证整数的语言感到有些尴尬。

**更新：**

猜猜看，它将在**CF12**中解决！

> 毫无疑问，这种行为是不正确的。这显然是错误的，应该予以纠正。然而，它一直都是这样，做出这样一个根本性的改变有很大的潜力破坏很多应用程序。我们不想在这个版本中这样做。正如 Rakshith 已经传达的那样，我们计划在“Dazzle”中进行此类更改，我们将在不担心向后兼容性的情况下纠正行为。

[http://blog.adamcameron.me/2014/02/can-we-please-agree-that-adobe-is-not.html](http://blog.adamcameron.me/2014/02/can-we-please-agree-that-adobe-is-not.html)

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-07-18T11:31:03.390

只是在这里扩展答案并解释实际发生的事情。

请参阅[此相关错误](https://bugbase.adobe.com/index.cfm?event=bug&id=3134331)，其中的详细信息摘要是 CF 将尽可能将“ 、”（其中和是数字）`m`解释`n`为`m`DATE 。`n`这太荒谬了：“ `m`, `n`”不是代表地球上任何人的日期的格式，因此 CF 没有理由以这种方式解释它。

Adobe 以同样的理由拒绝解决这个问题，理由是它会破坏向后兼容。废话会的。

无论如何...因为日期可以转换为 CF 中的整数，所以 CF 认为“1,5”是一个合法整数，因为它实际上是一个日期。作为一个专门的 CF 开发人员，不得不为您提供解释是多么令人尴尬。对不起。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-07-18T10:32:26.087

如果你想绝对确定你有一个 Integer，你可以使用 Java Integer 方法。

```
<cfscript>
createObject("java","java.lang.Integer").parseInt("1,5");
</cfscript> 
```

parseInt() 方法在给出任何不能被解释为整数的东西时抛出。这包括`"1,5"`.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-08-08T18:37:29.630

服务器端验证（只需要`cfif`逻辑，循环举例）

```
<cfloop list="2.123,a,4" index="myVal">
    <cfif !isNumeric(myVal)> ...error code for not numeric<br />
    <cfelseif myVal neq int(myVal)> ...error code for not integer<br />
    <cfelse>is integer<br />
    </cfif>
</cfloop> 
```

更严格的直接代码：

```
<cfif !isNumeric(myVal) and myVal neq int(myVal)> ...error code for not integer<br />
</cfif> 
```

`cffunction`你也可以写一个

# ruby-on-rails-3 - 如何在 rails 中定义关系，以便模型可以具有不同类型的关联模型？

> ID：11535982
> 
> 赞同：1
> 
> 时间：2012-07-18T07:06:55.947
> 
> 标签：ruby-on-rails-3, associations, model-associations

我不知道正确的数据库术语来解释我在问什么，所以我会尽力解释它。

我有一个发票模型，它有一个发票人。

发票人可以是内部部门或外部部门。

我可以用一个发票表来设置它，该表的列让人感觉很乱（它会留下很多 nil 列）。

我可以设置一个 internal_invoicee 和 external_invoicee 表，并且只根据需要创建一个看起来更好的表，但是我必须管理 2 个不同的关联。

然后，我可以在我的发票模型中设置一个 invoicee 方法，该方法根据存在的发票返回内部或外部发票，并管理业务逻辑以便只存在一个。

第二种解决方案似乎是更好的方法，但对我来说仍然感觉很混乱。在 Rails 中有内置的方法吗？感觉就像一个多态关联，只是反向。

我从来没有看过 NoSQL 数据库，但这是他们擅长的事情吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T07:41:06.217

您是否将拥有更多的部门，而不仅仅是内部或外部？或者您是否需要对单独的部门表进行级联更新？

如果没有，则将 boolean department_type 列添加到 invoicee 表。不需要关系。

如果是这样，请在您的发票模型中编写一个方法来确定具有外键的部门类型。将 department_id 和 invoice_id 列添加到 invoicee 并在 invoice 上添加 invoicee_id 列。

在发票人、部门和发票上使用`has_one :department`和。`has_many :invoices``has_many :invoices``belongs_to :invoicee`

旁注：你能选择一个比发票人更好的名字吗？离发票太近了！

# svn - SVN：如何使用 SVN 从第一个版本中获取修改文件名的日志？

> ID：11535983
> 
> 赞同：0
> 
> 时间：2012-07-18T07:06:55.640
> 
> 标签：svn

我想准备开发人员从项目开始时修改和添加的文件名列表。项目在 SVN 上设置。

那么，如何从 SVN 的第一版中获取修改/添加的文件列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:10:45.370

使用 svn log，你可以看到所有的提交和评论。

这是对你有好处？

如果你想写一个文件，就像这样：`svn log > log.txt`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:18:41.703

> svn diff -r --summarize

如果您只对添加/修改的文件感兴趣，您可能还需要添加一些过滤以删除有关删除的记录。

或者在 TortoiseSVN 中选择两个版本并比较它们（从上下文菜单中）。

# python - python multiprocessing - 访问使用 Process.start(target=func) 调用的函数内的进程名称

> ID：11535984
> 
> 赞同：12
> 
> 时间：2012-07-18T07:07:01.820
> 
> 标签：python, inheritance, multiprocessing

我正在玩 python 多处理模块，并希望能够显示当前正在执行的进程的名称。

如果我创建一个继承自 multiprocessing.Process 的自定义 MyProcess 类，我可以通过以下方式打印进程的名称

```
from multiprocessing import Process

class MyProcess(Process):
   def __init__(self):
        Process.__init__(self)

   def run(self):
        #do something nasty and print the name
        print self.name

p = MyProcess()
p.start() 
```

但是，如果我使用 Process 类的构造函数创建进程

```
from multiprocessing import Process
def somefunc():
    print Process.name                 #1

p = Process(target=somefunc)
p.start()
print p.name                           #2 
```

#2 有效，但 #1 无效。有没有办法可以在里面打印当前正在执行的进程的名称`somefunc`？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-18T07:49:16.860

您可以使用以下[`current_process`](http://docs.python.org/library/multiprocessing.html#multiprocessing.current_process)功能：

```
from multiprocessing import Process, current_process

def somefunc():
    print current_process().name

if __name__ == '__main__':
    p = Process(target=somefunc)
    p.start()
    print p.name 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-18T07:28:51.313

而不是传递`target`参数，覆盖`run`方法。从那里，您可以调用`someFunc`流程对象并将其传递给它。

该名称不是操作系统级别的概念。`Process`它是 Python 级别的，您执行的过程甚至在任何地方都有一个对象，这不是自动的。

# java - 在 Java 6 和 Java 7 中使用透明窗口

> ID：11535990
> 
> 赞同：6
> 
> 时间：2012-07-18T07:07:25.913
> 
> 标签：java, swing, transparency, java-7, jdk6

我正在`Java 6`（1.6.0_24）中开发应用程序，它使用透明`JFrame`来获得消失的动画。这是我的代码：

```
public static void slowDisappearWindowAction(Window source, int milisSlow, int milisFast) throws InterruptedException{
    float level = 1.0f;
    //slow effect -> 50%
    for(int i=0; i<8 ; i++){
        level=level-0.05f;
        AWTUtilities.setWindowOpacity(source,level);
        Thread.sleep(milisSlow);
    }
    //fast effect -> 0% 
    for(int i=0; i<8 ; i++){
        level=level-0.05f;
        AWTUtilities.setWindowOpacity(source,level);
        Thread.sleep(milisFast);
    }
    AWTUtilities.setWindowOpacity(source,0.1f);
} 
```

`Java 7`它在我的机器上运行良好，但是当我在另一台已安装的 PC 上测试它时，出现以下错误：

```
 Exception in thread "AWT-EventQueue-0" java.awt.IllegalComponentStateException:
 The frame is decorated
    at java.awt.Frame.setOpacity(Unknown Source)
    at java.awt.Window$1.setOpacity(Unknown Source)
    at com.sun.awt.AWTUtilities.setWindowOpacity(Unknown Source)
    at pl.design.bead.pattern.model.window.WindowHelper.slowDisappearWindowAction(WindowHelper.java:21)
    at pl.design.bead.pattern.forms.MainForm$ExitController.windowClosing(MainForm.java:123)
    at java.awt.AWTEventMulticaster.windowClosing(Unknown Source)
    at java.awt.Window.processWindowEvent(Unknown Source)
    at javax.swing.JFrame.processWindowEvent(Unknown Source)
    at java.awt.Window.processEvent(Unknown Source)
    at java.awt.Component.dispatchEventImpl(Unknown Source)
    at java.awt.Container.dispatchEventImpl(Unknown Source)
    at java.awt.Window.dispatchEventImpl(Unknown Source)
    at java.awt.Component.dispatchEvent(Unknown Source)
    at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
    at java.awt.EventQueue.access$000(Unknown Source)
    at java.awt.EventQueue$3.run(Unknown Source)
    at java.awt.EventQueue$3.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
    at java.awt.EventQueue$4.run(Unknown Source)
    at java.awt.EventQueue$4.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
    at java.awt.EventQueue.dispatchEvent(Unknown Source)
    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
    at java.awt.EventDispatchThread.run(Unknown Source) 
```

我认为这是因为`Java 7`我应该使用`Window.setOpacity(...)`而不是`AWTUtilities`方法。

可以在`Java 6`应用程序中使用透明度，它将运行在`Java 7`?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T07:10:58.273

请参阅[如何创建半透明和成形窗口](http://docs.oracle.com/javase/tutorial/uiswing/misc/trans_shaped_windows.html)。它提到了“每像素”半透明性，您可以利用它来使用 java 7 制作一个窗口，该窗口具有 java 6 中不再可用的半透明窗口的外观和感觉。因此，基本上您必须编写代码以适应其中任何一个，或者您可以使用适用于两者的“统一半透明”。

![渐变半透明窗口](../Images/1ed6a3f2387ed2f1803b7133e144cbc0.png)

# sql - 使用多个表提高 sql 的性能

> ID：11535991
> 
> 赞同：4
> 
> 时间：2012-07-18T07:07:26.583
> 
> 标签：sql, sql-server, join, sql-server-2008-r2, nested

我有两个表：Log(id,user,action,date) 和 ActionTypes(action,type)。给定一个动作 A0 和一个类型 T0，我想为每个用户计算她在 A0 之后使用彼此动作 Ai 的次数，但跳过了不属于 T0 类型的 Log 动作。例如：

日志：

```
id   user   action        date
----------------------------------------
1    mary   start   2012-07-16 08:00:00
2    mary   open    2012-07-16 09:00:00
3    john   start   2012-07-16 09:00:00
4    mary   play    2012-07-16 10:00:00
5    john   open    2012-07-16 10:30:00
6    mary   start   2012-07-16 11:00:00
7    mary   jump    2012-07-16 12:00:00
8    mary   close   2012-07-16 13:00:00
9    mary   delete  2012-07-16 14:00:00
10   mary   start   2012-07-16 15:00:00
11   mary   open    2012-07-16 16:00:00 
```

动作类型：

```
action  type
--------------
start   0
open    1
play    1
jump    2
close   1
delete  1 
```

因此，给定动作“开始”和类型“1”，答案将是：

```
user   action    ntimes
------------------------
mary   open      2
mary   close     1
john   open      1 
```

我的尝试是

```
SELECT b.user,b.action, count(*)
FROM log a, log b
WHERE a.action='start' AND b.date>a.date AND a.user=b.user AND
      1=(select type from ActionTypes where action=b.action) AND
      not exists (SELECT c.action FROM log c where c.user=a.user AND                  
                  c.date>a.date and c.date<b.date and                            
                  1=(select type from ActionTypes where action=c.action))
GROUP BY b.user,b.action 
```

我们的 Log 表有大约 100 万个元组，并且查询工作正常，但速度太慢。我们正在使用 SQLServer。有关如何使其更快的任何提示？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-18T09:38:27.603

你能试试这个查询吗？它使用存在来测试以前的时间顺序记录是否是请求的类型。我相信它会比自加入更快。[我已经放了一个演示@Sql Fiddle](http://sqlfiddle.com/#!3/17f25/20)。

```
select log.[user], log.action, count(*) ntimes
  from log
 inner join actiontype t
    on log.action = t.action
 where t.type = 1
   and exists (select *
                 from 
                   (select top 1 t1.type
                      from log l1
                     inner join actiontype t1
                        on l1.action = t1.action
                     where l1.[user] = log.[user]
                       and l1.date < log.date
                       and t1.type in (0, 1)
                     order by l1.date desc
                   ) prevEntry
                where prevEntry.type = 0
               )
 group by log.[user], log.action 
```

我不明白为什么`mary`\`close`在结果列表中。上一条记录是 jump 类型的`2`，不应该跳过来开始。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-18T10:53:28.597

借用[@Nikola Markovinović 的](https://stackoverflow.com/a/11538469/297408)设置后，我想出了以下解决方案：

```
WITH ranked AS (
  SELECT
    L1.[user],
    L2.action,
    rnk = ROW_NUMBER() OVER (PARTITION BY L1.id ORDER BY L2.date)
  FROM Log L1
    INNER JOIN Log L2 ON L2.[user] = L1.[user] AND L2.date > L1.date
    INNER JOIN ActionType at ON L2.action = at.action
  WHERE L1.action = @Action
    AND at.type   = @Type
)
SELECT
  [user],
  action,
  ntimes = COUNT(*)
FROM ranked
WHERE rnk = 1
GROUP BY
  [user],
  action
; 
```

基本上，此查询从`Log`表中选择具有指定操作的所有用户记录，然后将该子集连接回`Log`以检索第一个子集中的所有指定类型的操作，并按升序排列`date`它们（使用该[`ROW_NUMBER()`](http://msdn.microsoft.com/en-us/library/ms186734.aspx "ROW_NUMBER (Transact-SQL)")功能）。然后查询只检索排名为 的行，按和对`1`它们进行分组，并对组中的行进行计数。`user``action`

[您可以在 SQL Fiddle](http://sqlfiddle.com/#!3/9e615/2)查看（并使用）一个工作示例。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-18T07:12:56.527

您的操作查询和所有关系字段成为整数而不是字符串要快得多。

加快查询速度的唯一方法是更改​​数据库的结构。关系必须被索引并且必须是整数而不是字符串。例如这样的：

```
id   user   action        date
----------------------------------------
1    mary   1   2012-07-16 08:00:00
2    mary   2   2012-07-16 09:00:00
3    john   3   2012-07-16 09:00:00
4    mary   1   2012-07-16 10:00:00
5    john   3   2012-07-16 10:30:00
6    mary   4   2012-07-16 11:00:00
7    mary   5   2012-07-16 12:00:00
8    mary   6   2012-07-16 13:00:00
9    mary   1   2012-07-16 14:00:00
10   mary   3   2012-07-16 15:00:00
11   mary   1   2012-07-16 16:00:00 
```

将解决您的问题。

此外，如果您有 1-9 种操作类型，您可以对 tinyint 进行操作，并且如果您添加一个带有主键的 id 和 tinyint，那么您的查询肯定会更容易（使用简单的连接），并且您的数据库也会更多灵活应对未来的变化。例如，您可以拥有：

```
id action  type
--------------
1  start   0
2  open    1
3  play    1
4  jump    2
5  close   1
6  delete  1 
```

其中 id 是主键，“Log”表中的“action”具有该 id 的外键。

我认为主要问题是您没有索引和外键关系。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-18T08:06:50.100

我完全不同意以下说法：

1.  > ...成为整数而不是字符串要快得多

    这不完全正确，一旦列`action`被索引，整数或字符串之间几乎没有区别。

2.  > ...加快查询速度的唯一方法是更改​​数据库的结构

    在这种情况下，可以通过多种方式优化查询：

    *   避免过滤连接的数据集（Log x ActionTypes）并尝试更早地进行过滤（在下面的示例中，过滤发生在内部子选择中）。
    *   避免重复过滤条件（where）。即使 sql server 内部会优化此查询器重复通常表明您正在执行计算几次，并且大多数时候您可以找到只能放置一次条件的解决方案（在下面的示例中，您可以将`where`条件放在之前`group by`）。
    *   你最好的朋友是“SQL 查询分析器（优化器）”。它在 Sql Server Manager Studio 中的内置工具，它将向您显示考虑数据量的 sql 查询执行成本。它确实是一个很好的工具，有助于找到查询中的瓶颈。

    这是简化的查询，它将产生您需要的结果（它是在 Oracle 上编写和测试的，因为我使用 ms sql server 已经有一段时间了）：

> ```
> select
>   "user",
>   action,
>   count(*)
> from action_log
> where action not in ( --exclusion criteria
>     select action_type."action"from action_type where action_type."type" = 1
> )
> group by "user", action 
> ```

# garbage-collection - 如何在 Jboss EAP 5.1 的 JMX 控制台中打开 XX:+PrintGCDetails 和 -Xloggc:gc.log

> ID：11535993
> 
> 赞同：3
> 
> 时间：2012-07-18T07:07:33.357
> 
> 标签：garbage-collection, jmx, jboss5.x

如何在 Jboss EAP 5.1 的 JMX 控制台中打开 XX:+PrintGCDetails 和 -Xloggc:gc.log？我只需要打开一小段时间，所以我需要动态地做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T18:28:29.123

您可以在运行时启用 PrintGCDetails，但只能在启动时启用 loggc 选项。如果您使用的是 java 6 或更高版本，另一种实现类似功能的方法是使用**jstat**实用程序。您可以连接到实时 pid 并使用 gcutil swtich 显示统计信息，或根据您的情况将其重定向到文件。

在 Windows 上，像这样： **`<JDK>/bin/jstat -gcutil 11002 5000 > c:/gc.log`**

假设 jboss 进程 ID 是 11002，您告诉它每 5 秒将 gc stats 输出到 gc.log。

这是一篇很棒的文章：http: [//java.sun.com/developer/technicalArticles/J2SE/monitoring/](http://java.sun.com/developer/technicalArticles/J2SE/monitoring/)

# java - 如何建立知识库？

> ID：11535997
> 
> 赞同：2
> 
> 时间：2012-07-18T07:07:51.847
> 
> 标签：java, mysql

我正在构建一个项目，当用户询问某个特定地点或产品时，它会提供一些相关信息。我目前正在使用 JAVA 和 MySQL 进行此操作。这里我需要维护一个知识库来保存FAQ和最近的搜索等等。

我对知识库完全陌生，我找不到开始这个的方法。有没有关于这个的教程或者我可以在我的项目中使用的任何免费可用的知识库？如果有任何这样的知识库，我可以将它与我的项目联系起来吗？

如果有人可以指导我建立知识库，我将非常感谢。再次感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T07:24:17.630

使用 MediaWiki 它是免费的，维基百科也使用它。您也可以使用 Share Point，但它需要您需要购买的 MSSQL 数据库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T07:18:39.907

我使用 Confluence，它不是免费的，但最多 10 个用户需要 10 美元。这是一个专业的 wiki，值得您花时间购买它。