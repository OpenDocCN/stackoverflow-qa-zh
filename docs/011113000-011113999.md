# StackOverflow 问答 11113000-11113999

# database - 如何将 MVC4、DropDownList 和 C# 类结合在一起？

> ID：11113001
> 
> 赞同：1
> 
> 时间：2012-06-20T04:51:26.000
> 
> 标签：database, asp.net-mvc, visual-studio-2010, asp.net-mvc-4, drop-down-menu

我有一个`DropDownList`包含“站”代码。

```
@Html.DropDownList("Station", null, new { id = "dd_custom"}); 
```

由（SelectListItem 列表）`DropDownList`填充。`ViewData["Station"]`

我的目标很简单：当`DropDownList` **CHANGES**（粗体，因为我知道 onchange 存在，但不能使它工作。）时，我希望`@ViewBag.CurrentStation`等于所选电台。

我试过的：

1.  Javascript 通过[本网站](http://www.kodefuguru.com/post/2009/11/29/ASPNET-MVC-DropdownList-PostBack.aspx)、[本网站](http://code.msdn.microsoft.com/Cascading-DropDownList-in-833683f9)和*许多*其他网站。
2.  阿贾克斯

尽管如此，我还是不知道如何使这个下拉列表与我的控制器（来自 MVC4 模板（Internet 应用程序）的基本控制器）进行交互。

最简单的方法是从我的 index.cshtml 到 HomeController.cs 进行交互，但我不知道如何。

有人可以帮忙吗？

谢谢

* * *

编辑：我需要所有页面的站代码。用户只能在主页上修改站，但我需要在其他页面上的站来生成报告。全局变量可能是答案，比如使用 Application["VarName"]，但仍然不知道如何与我的 DropDownList => C# 类进行交互。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T05:14:09.680

您存储在`ViewData`,中的数据`ViewBag`仅针对一个请求存在。说前。如果您正在向服务器发出请求并将新值设置为`@ViewBag.CurrentStation`但下拉列表更改时，下一个请求将无法使用它，因为它已经消失了。

如果您想在下拉列表更改时调用某些控制器操作，您可以使用 jquery 通过 ajax 来执行此操作。

要将下拉列表的选定值提交到服务器，您可以参考此[线程](https://stackoverflow.com/questions/8902320/update-table-when-dropdownoption-changes)。

如果您希望当前站为一个用户提供多个请求，那么您可以使用 session.

**服务器端**

```
public class StationController: Controller
{
   public ActionResult SaveCurrentStation(int stationId)
   {
       Session["CurrentStation"] = stationId;

       return new EmptyResult();
   }
} 
```

**客户端**

```
$("#dropdownId").change(function(){
   var selStationId = $(this).val();
   $.post("/Station/SaveCurrentStation", {stationId: selStationId });
}); 
```

# c# - 如何处理方法调用程序异常

> ID：11113005
> 
> 赞同：0
> 
> 时间：2012-06-20T04:51:46.600
> 
> 标签：c#, exception-handling

```
 this.Invoke((MethodInvoker)delegate
                { code;
                }); 
```

这导致异常为

> 无法访问已处置的对象。对象名称：'...'。

这个怎么处理？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:03:18.483

`InnerException`[TargetInvocationException](http://msdn.microsoft.com/en-us/library/system.reflection.targetinvocationexception.aspx)的属性包含您需要调查的信息（请参阅[Reflection MethodInfo.Invoke() 从方法内部捕获异常以](https://stackoverflow.com/questions/4117228/c-reflection-methodinfo-invoke-block-exceptions-from-inside-the-method)获取示例）。

在您的情况下，您似乎正在访问委托中的一些已处置对象（如关闭的流）。与 Invoke 本身没有多大关系。

# javascript - 在 JavaScript 中，如何使用函数参数作为对象的键？

> ID：11113008
> 
> 赞同：19
> 
> 时间：2012-06-20T04:52:09.950
> 
> 标签：javascript

例如下面的代码打印

> {键：'b'}

```
function myFunc(key, value) {
    myFunc2({key: value});
}

function myFunc2(obj) {
    console.log(obj);
}

myFunc('a', 'b'); 
```

我怎样才能打印出来

> {'a'：'b'}

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-20T04:54:50.107

您可以从构造中单独添加属性：

```
function myFunc(key, value) { 
  var item = {};
  item[key] = value;
  myFunc2(item);
} 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2017-01-16T13:42:52.853

ES6

```
function myFunc(key, value) {
  myFunc2({[`${key}`]: value});
} 
```

[增强的对象文字](https://github.com/lukehoban/es6features#enhanced-object-literals)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-20T04:57:47.753

您不能，Javascript 对象文字 ({}) 中的键必须是文字，而不是变量。使用传统的 Object 语法。

```
function myFunc(key, value) {
    myObj = new Object();
    myObj[key] = value;
    myFunc2(myObj);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-20T04:55:26.450

```
var a=new Object();
a[key]=value;
myFunc2(a); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-20T04:58:53.010

```
function myFunc(key, value) {
    var obj = new Object();
    obj[key] = value;
    console.log(obj);
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-20T05:24:22.023

简而言之：

```
function myFunc(key, value) {
    var tmp = {};
    myFunc2((tmp[key] = value,tmp));
} 
```

# ruby-on-rails - 如何在 ubuntu 10.10 中将 mongoDb 1.4.4 升级到 1.6.5？

> ID：11113013
> 
> 赞同：0
> 
> 时间：2012-06-20T04:52:58.037
> 
> 标签：ruby-on-rails, mongodb, mongoid

我想将 mongoDb 1.4.4 升级到 1.6.5 因为 mongoid 不支持 1.4.4 通过[http://www.mongodb.org/display/DOCS/Upgrading+to+1.8](http://www.mongodb.org/display/DOCS/Upgrading+to+1.8)这个但无法理解请给我一个简单的相同的升级教程

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:17:26.030

[使用10gen Ubuntu 安装说明](http://docs.mongodb.org/manual/tutorial/install-mongodb-on-debian-or-ubuntu-linux/)进行升级应该很简单。

最新的 MongoDB 生产版本目前是 2.0 系列（截至今日为 2.0.6）；这也是[Mongoid 3 所需的最低版本](http://mongoid.org/en/mongoid/docs/installation.html#installation)。

[发行说明](http://www.mongodb.org/display/DOCS/2.0+Release+Notes#2.0ReleaseNotes-Upgrading)包括有关升级的信息，但一般来说，这些发行版是直接替换的，不需要对您的数据文件进行任何更改。

[与任何升级一样，您应该首先使用mongodump](http://www.mongodb.org/display/DOCS/Import+Export+Tools#ImportExportTools-mongodumpandmongorestore)备份现有数据，以防出现任何意外问题。

# .net - WCF 是否适用于我的要求？

> ID：11113016
> 
> 赞同：0
> 
> 时间：2012-06-20T04:53:15.570
> 
> 标签：.net, wcf

我正在为组织视图生成图表。截至目前，我从数据库收集数据并生成 XML 文件。该 XML 文件将被输入到图表中以供显示。整个任务需要更多时间来显示图表。我觉得在这里创建 WCF 服务来收集数据库信息并生成 XML 文件。有成果吗？谢谢，玫瑰

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:29:50.000

它是一个完美的选择。构建服务以公开您的数据。这将使您能够在不同的应用程序之间共享数据。今天它的图表，明天它可能是一些内部 Intranet 网站。我会建议您尝试构建宁静的 Web 服务，或者您甚至可以使用[MVC Web API](http://www.sitepoint.com/asp-net-mvc-4-web-api/)

与 SOAP 相比，Restful Services 可扩展性很好，并且还有许多其他优势

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:00:47.003

> 我觉得在这里创建 WCF 服务来收集数据库信息并生成 XML 文件。有成果吗？

如果创建的服务有可能从不同类型的应用程序中使用，例如。从silverlight你可以去WCF。当进行 db 交互和生成 xml 的组件具有在许多地方重用的能力时，将其作为服务为您提供轻松的维护，并且您可以通过添加新的绑定和端点轻松支持许多客户端。

如果组件只有一个客户端，我认为将其作为服务并没有多大好处。事实上，与直接调用方法相比，服务调用会更慢。您可能需要花费数小时来解决单个客户端的所有简单配置问题。

如果只有一个客户端，并且客户端调用了 less no 的组件方法。的地方然后您可以最初创建一个组件，然后在任何时间点您都可以通过创建包装类甚至直接在类上应用服务属性轻松地将其更改为服务。由于只有一个客户端，您可以轻松地强制客户端使用服务而不是直接使用组件。

# javascript - 较新的浏览器版本是否可以确定是否对 .js 文件进行了更改？

> ID：11113018
> 
> 赞同：1
> 
> 时间：2012-06-20T04:53:31.327
> 
> 标签：javascript

我一直在阅读人们在浏览器缓存旧版本的 javascript 文件时遇到的问题，并且在进行更改时不下载新版本。但是，每次我对 js 文件进行更改时，关闭浏览器并打开它（甚至刷新页面）都会反映更改。我已经在 IE9、FF13、Chrome18 和 Safari 5 中尝试过。

较新的浏览器版本是否可以确定是否对 .js 文件进行了更改，然后用缓存中的新版本替换旧版本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:56:08.193

这与浏览器或浏览器版本无关。这与缓存指令有关。

如果您的服务器正在输出标头，允许客户端缓存资源，那么它将被缓存。如果您的服务器输出标头指示客户端不缓存，那么它（通常）不会被缓存。

另见： [http ://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html](http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html)

如果服务器指定，浏览器会检测是否需要加载新版本`Must-Revalidate`。

[https://stackoverflow.com/a/8729854/362536](https://stackoverflow.com/a/8729854/362536)

# django - 在 Google Map 信息窗口中使用 json 序列化指向 Django 对象的链接

> ID：11113024
> 
> 赞同：1
> 
> 时间：2012-06-20T04:54:10.630
> 
> 标签：django, json, google-maps-api-3

我正在将 Django 模型中的数据序列化为 json，并将该信息放在 Google 地图的信息窗口中。到目前为止它工作正常。但我还想包含一个指向每个实际对象的链接，以便用户可以单击一个将他们带到完整报告的 url。我不确定如何使用 json 来完成此操作，因为我仍在处理它。

本质上使用 json 在 Google Map infowindow 中提供指向实际对象的链接，在这种情况下是“故事”模型。我希望实际故事的链接出现在 Google Map info 窗口中。

这是我的看法：

```
def all_stories(request):
    if not request.user.is_authenticated():
        return redirect("django.contrib.auth.views.login")
    all_stories = Story.objects.select_related().order_by('-date')
    storyJson = []
    for story in all_stories:
        storyJson.append({
            "latitude": story.latitude,
            "longitude": story.longitude,
                "headline": story.title,
                "copy": story.copy,
                'author': story.author.username,
                'topic': story.topic
        })
    return render_to_response("report/storyline.html",
                                {'stories': all_stories,
                                "story_Json":json.dumps(storyJson)},
                                context_instance=RequestContext(request)) 
```

这是与显示当前信息相关的模板部分：

```
 function loadMarkers(stories){
    for (i=0;i<stories.length;i++) {
        var story = stories[i];

        (function(story) {
            var pinColor = "69f2ff";
                var pinImage = new google.maps.MarkerImage("http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=S|" + pinColor,
                    new google.maps.Size(21, 34),
                    new google.maps.Point(0,0),
                    new google.maps.Point(10, 34));
          var point = new google.maps.LatLng(story.latitude, story.longitude);
          var marker = new google.maps.Marker({position: point, map: map, icon: pinImage});
          var infowindow = new google.maps.InfoWindow({
            content: '<div >'+
                '<div >'+
                '</div>'+
                '<h2 class="firstHeading">'+story.headline+'</h2>'+
                '<div>'+
                '<p>'+story.author+'</p>'+
                '<p>'+story.topic+'</p>'+
                '<p>'+story.copy+'</p>'+

                '</div>'+
                '</div>'

          });
          google.maps.event.addListener(marker, 'click', function() {
            infowindow.open(map,this);
          });
        })(story);
    }
} 
```

任何有关如何实现这一点的见解将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:35:30.137

部分答案涉及您尚未发布的内容，因此我将做出假设，您可以进行推断。

您真正需要做的就是[`reverse()`](https://docs.djangoproject.com/en/dev/topics/http/urls/#reverse)为每个故事使用一个值并将它们包含在您的 json 值中。[反向](https://docs.djangoproject.com/en/dev/topics/http/urls/#reverse)需要指向您指向单个故事视图的 url 。让我们假设您的单个故事视图如下所示：

```
url(r'^story/(\d+)/$', 'story.views.story_details', name="story-details") 
```

现在，当您为每个故事构建 dict 值时，请包含一个[反向](https://docs.djangoproject.com/en/dev/topics/http/urls/#reverse)url：

```
from django.core.urlresolvers import reverse

host_url = "http://%s" % request.META['HTTP_HOST']

for story in all_stories:
    full_url = '%s%s' % (host_url, reverse('story-details', args=(story.id,)))
    storyJson.append({
        "latitude": story.latitude,
        "longitude": story.longitude,
            "headline": story.title,
            "copy": story.copy,
            'author': story.author.username,
        'topic': story.topic,
        'url': full_url
    }) 
```

这部分只是一个假设，但我认为您的“信息窗口”格式可能如下所示：

```
content: '<div >'+
...
'<a href="'+story.url+'">View Story</a>'+
'</div>'+ 
```

# c# - select 子句中的表达式类型不正确。调用“选择”时类型推断失败

> ID：11113027
> 
> 赞同：2
> 
> 时间：2012-06-20T04:54:14.913
> 
> 标签：c#, linq

我正在学习 LINQ 并且正在尝试这个与`select`子句相关的示例。

```
var q = from c in xmlDoc.Descendants("site").Where(tech => tech.Attribute("technical").Value == "true")
                   .Select(n => new { SiteName = n.Element("name").Value}); 
```

上面的查询给了我一个错误：
`The type of the expression in the select clause is incorrect. Type inference failed in the call to 'Select'.`

上面的语法有什么问题？

除了上述之外，我还必须转换`selected`options `ToDictionary`。如何通过 LINQ 在同一个查询中完成？

我想到的第三个问题是关于编写相同查询的不同语法（例如：下面的第二种方法编写示例）。首选什么语法，为什么？

```
from c in xmlDoc.Descendants
where c.Attriubute("technical").Value == "true"
select c.Element("site").Value; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T05:24:38.997

1\. 你有混合 lambda 表达式和 linq 语法。以 linq 开始，以 lambda 表达式结束。试试这个

```
 var q = xmlDoc.Descendants("site").Where(tech => tech.Attribute("technical").Value == "true")
                   .Select(n => new { SiteName = n.Element("name").Value}); 
```

或者您应该在 linq 中使用整个查询

```
var q = from c in xmlDoc.Descendants("site") where c.Attribute("technical").Value == "true"
                   select new { SiteName = c.Element("name").Value}; 
```

2\. 只在查询结束时使用 ToDictionary

```
var q = xmlDoc.Descendants("site").Where(tech => tech.Attribute("technical").Value == "true")
                   .Select(n => new { SiteName = n.Element("name").Value,Key= n.Element("id").Value }).ToDictionary(n=>n.Key,l=>l.SiteName); 
```

n=>n.Key 将是字典的键，而 l=>l.siteName 将是值。

3\. 创建此类查询有两种方法，一种是使用 linq，另一种是使用使用 lambda 表达式作为参数的方法。两者都很简单，linq 有点像 SQL 查询，而使用 lambda 的方法更像是通过描述方法操作数据的简写。我个人喜欢 lambda 的面向方法的方式，因为它更具顺序可读性。

# php - .jpg 在 php 中的元数据

> ID：11113031
> 
> 赞同：-2
> 
> 时间：2012-06-20T04:54:38.570
> 
> 标签：php, comments, metadata

从.jpg的元数据中获取评论并使用php显示它的最简单方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T04:57:57.127

使用 PHP`exif_read_data()`方法检索元数据。

使用此参考链接 -

[参考链接](http://php.net/manual/en/function.exif-read-data.php)

示例代码——

```
<?php
$image = "image.jpg";
$exif = exif_read_data($image, 0, true);
foreach ($exif as $key => $section) {
foreach ($section as $name => $val) {
if($key == "IFD0"){
echo "$key.$name: $val\n";
}
}
}
?> 
```

> IFD0：主要包含有关相机本身、用于编辑图像的软件、上次修改时间等信息

# .net - DBA 将在 EF 4.1 代码优先模型中扮演什么角色

> ID：11113033
> 
> 赞同：0
> 
> 时间：2012-06-20T04:54:51.777
> 
> 标签：.net, sql, entity-framework

使用 EF 4.1 代码优先模型，我发现很难看出 DBA 将在 DB 设计和创建中扮演什么角色。您如何看待 DotNet 开发人员承担的数据库设计任务。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T08:29:16.390

如果我们有一家公司，在哪里

*   .net 开发人员将通过 EF Code First 设计数据库
*   没有真正了解数据库设计/性能
*   还有很多TPT继承

我认为他的角色将是

1.  对管理层表示怀疑并警告将出现的问题
2.  解决性能问题
3.  拉出头发
4.  尝试教开发人员基本的 DB 设计
5.  解决性能问题
6.  头撞墙
7.  重新设计完整的数据库
8.  解决性能问题
9.  在互联网上查找其他职位发布

    ……

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T08:59:44.433

DBA 是管理员而不是开发人员。我认为您正在考虑 SQL Developers，您仍然可以将它们用于数据建模（即使用 C# 代码表示）、在需要时编写存储过程等。

# java - 在 EC2 实例上运行和监控 Java

> ID：11113037
> 
> 赞同：2
> 
> 时间：2012-06-20T04:55:08.533
> 
> 标签：java, ssh, amazon-ec2, cloud

我目前正在第一次部署一个用 Java 编写的大型服务器端应用程序。有连续的控制台输出，我想偶尔监控并验证它是否正在运行，理想情况下，如果它因任何原因崩溃时会收到警报。

如果我 SSH 进入服务器并执行可执行文件，然后注销该会话，我相信它会终止该可执行文件。那么，即使我的客户端计算机没有 24/7 全天候登录，我如何启动可执行文件并允许它运行？当我*确实*想查看可执行文件的输出时，我可以利用它吗？

我通过 AWS 设置了一个基本警报，如果网络流量低于 2kb/s，它会提醒我。除此之外我还能设置什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-21T04:13:25.567

与 AWS 无关。您可以假设您的 EC2 实例为远程机器。如果它是基于 Unix 的机器。这很简单。SSH 到您的机器，然后...

1.  运行您的可执行文件

    ```
    sudo nohup /path/to/my/exec > /path/to/log/file.log & 
    ```

2.  如果您想查看机器的 SSH 输出并使用`vi`

    ```
    vi /path/to/log/file.log 
    ```

    查看运行日志使用`tail`

    ```
    tail -f /path/to/log/file.log 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:00:00.327

使用屏幕 ( [http://en.wikipedia.org/wiki/GNU_Screen](http://en.wikipedia.org/wiki/GNU_Screen) ) 或 Byobu ( [http://en.wikipedia.org/wiki/Byobu_%28software%29](http://en.wikipedia.org/wiki/Byobu_%28software%29) ) 允许进程在您注销时继续运行. 您可以在重新登录时重新连接到会话。您可以在 Google 上找到您选择的教程；有许多。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T07:22:40.127

AFAIK，你最好的选择是使用`nohup`（[这里](http://linux.die.net/man/1/nohup)和[这里](http://en.wikipedia.org/wiki/Nohup)）。它允许运行命令、退出并在`nohup.log`文件中查看进程的输出。

而且由于它是一个标准命令，它已经可以在任何 linux 发行版上使用（无需安装任何东西）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-21T04:07:02.023

正如上面的帖子中提到的。如果您的服务器是 Linux 机器，您可以随时执行 nohup commandname.sh ，这会将您的执行日志附加到 nohup 日志中。因此，您可以随时关闭控制台并重新登录，然后转到 nohup 文件的位置并查看 tail -f nohup.out。

# python - 在字符串中找到相同的部分

> ID：11113042
> 
> 赞同：1
> 
> 时间：2012-06-20T04:56:04.307
> 
> 标签：python, genome

我有一个字符串，例如：abcgdfabc

我想做以下事情：输入：一个字符串，例如：

```
abcgdfabc 
```

输出：一个字典（键是“单词”，值是它出现的时间），

```
abc:2
gdf:1 
```

words 是 "words" 的最大长度，它应该是贪婪匹配。

我花了很多时间在上面，无法弄清楚。字符串长度超过5000，是一个基因组，我们要搞清楚它的关系，第一次找这样的dict让数据更清晰，求助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:00:14.803

此正则表达式查找字母数字组，后跟任意数量的其他字符，然后再单独查找。然后它遍历这个列表并删除重复项，并为您提供这些字符组及其出现次数：

```
import re

s = "eg,abcgdfabc"
for word in set(re.findall(r'(\w+)(\w*?\1)+', s)):
    print word, s.count(word) 
```

印刷

```
abc 2 
```

但是，如果我们不确切知道一个词是什么，那么它只会在以下字符串中找到一个重复的词，尽管还有另一个候选词：

```
abcdeabcecd
abc  abc    <- this will be found
  cd     cd <- this won't be found 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:51:00.103

这是一个丑陋的解决方案：

```
def parse(s,L=None):
    do_return=L is None
    if(not s):
        return
    if(do_return):
        L=[]
    substr=s[0]
    for i in range(1,len(s)-1):
        if s[:i] in s[i:]:
            substr=s[:i]
        else:
            L.append(substr)
            parse(s.replace(substr,''),L=L)
            break
    else:
        L.append(s)

    if(do_return):
        LL=[(ss,s.count(ss)) for ss in L] #Count the number of times each substring appears
        LLL=[]
        #Now some of our (unmatched) substrings will be adjacent to each other.
        #We should merge all adjacent unmatched strings together.
        while LL:
            LLL.append(LL.pop(0))
            while LLL[-1][1] == 1 and LL: #check if next is unmatched
                if(LL[0][1]==1): #unmatched, merge and remove
                    LLL[-1]=(LLL[-1][0]+LL[0][0],1)
                    LL.pop(0)
                else: #matched, keep on going.
                    break
        d={}
        for k,v in LLL:
            d[k]=v

        return d

S='eg,abcgdfabc'
print parse(S)  #{ 'e':1, 'g':2, ',':1, 'abc': 2, 'df', 1} 
```

当然，这并不像您期望的那样工作，因为 g 匹配两次（因为它是贪婪的）......

如果您总是想以 3 个为一组进行迭代，这会变得容易得多（也更漂亮）：

```
from collections import defaultdict
def parse(s,stride=3):
    d=defaultdict(lambda:0)
    while s:
        key=s[:stride]
        d[key]+=1
        s=s[stride:]

    #if you need a regular dictionary:  dd={}; dd.update(d); return dd      
    return d 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:28:38.643

如果您使用的是 Python 2.7+

```
>>> from itertools import islice
>>> from collections import Counter
>>> def split_steps(step, sequence):
...    it = iter(sequence)
...    bits = ''.join(islice(it,step))
...    while bits:
...        yield bits
...        bits = ''.join(islice(it,step))
...
>>> Counter(split_steps(3,'abcdgfabc')).most_common()
[('abc', 2), ('dgf', 1)] 
```

# linux - 在 CentOS 中将 MP3 转换为 OGG

> ID：11113046
> 
> 赞同：3
> 
> 时间：2012-06-20T04:56:22.510
> 
> 标签：linux, unix, multimedia

我们需要在 JPlayer 中播放 MP3 文件。我们不想使用闪存回退。因此，为了在 Firefox 上播放这些文件，我想将其转换为 OGG。你们有什么选择/替代方案吗？我尝试在 CentOS 中使用 dir2ogg，但它说没有找到 MP3 的解码器。请推荐在 CentOS 中将 mp3 转换为 ogg 的最佳工具。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-07-03T08:20:36.690

您也可以尝试使用 sox：

```
sox input.mp3 output.ogg 
```

这应该够了吧。

PS：sox 可以通过 CentOS 上的 yum 获得。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T04:59:06.960

我通常为此使用[FFmpeg ：](http://ffmpeg.org/)

```
ffmpeg -i source.mp3 -codec:a libvorbis -qscale:a 8 output.ogg 
```

请注意，您应该真正从无损源转换，而不是 MP3。通过对已经使用有损编解码器压缩的文件使用有损编解码器，您将失去另一个质量级别。

另外，考虑到问题的时间，我假设您想使用 Vorbis 作为编解码器。对于现在找到此答案的任何人，请考虑 Opus。它将适合您的 Ogg 容器，但对于给定的比特率具有更高的质量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-15T18:12:37.203

有一个很好的音频/视频转换实用程序`avconv`。所以能够做到：

```
 avconv -i file.mp3 file.ogg 
```

与`sox`它不同的是，它还能够转换`aac`, 和`webm`格式。

# ios - iOS 非消耗性应用内购买的恢复按钮

> ID：11113047
> 
> 赞同：13
> 
> 时间：2012-06-20T04:56:30.987
> 
> 标签：ios, in-app-purchase

不幸的是，Apple 拒绝了我的应用程序，因为它没有恢复按钮。我想为用户提供无缝体验，但存在一些问题。

```
- (void)purchaseProUpgrade
{ 
   [[SKPaymentQueue defaultQueue] addTransactionObserver:self];

   // User is prompted for iTunes username and password here (1)
   [[SKPaymentQueue defaultQueue] restoreCompletedTransactions];
}

// Then this delegate Function Will be fired
- (void) paymentQueueRestoreCompletedTransactionsFinished:(SKPaymentQueue *)queue
{
    if( queue.transactions.count == 0 ) {

        [self setUpgradeProductId];

       // User is prompted for iTunes username and password here (2)
        SKPayment *payment = [SKPayment paymentWithProductIdentifier:kInAppPurchaseProUpgradeProductId];
       [[SKPaymentQueue defaultQueue] addPayment:payment];                                                                 

    }else {

      [[NSNotificationCenter defaultCenter] postNotificationName:kInAppPurchaseManagerTransactionSucceededNotification object:self userInfo:NULL];
    }
  } 
```

以上是一个好的解决方案吗？逻辑是：

1.  用户按下按钮删除应用内购买。
2.  检查用户是否已经购买（用户必须输入用户名和密码）
3.  如果用户已经购买，则恢复
4.  如果用户还没有购买，提示支付（用户必须再次输入密码）。

这种方法的问题是： 1\. 额外的服务器调用 2\. 用户必须输入两次详细信息。

有没有人真正实现了他们可以演示的恢复按钮？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-20T05:30:42.213

不需要实现你自己的逻辑只需实现这个

```
- (IBAction)restorePreviousTransaction:(id)sender {
    [[SKPaymentQueue defaultQueue] addTransactionObserver:self];
    [[SKPaymentQueue defaultQueue] restoreCompletedTransactions];
} 
```

这将调用此方法

```
 - (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions
{
   case SKPaymentTransactionStateRestored:
                if ([self respondsToSelector:@selector(restoreTransaction:)]) {
                    [self restoreTransaction:transaction];
                    return;                
} 
```

这将调用这些委托方法以获取事务成功或失败

```
- (void)restoreTransaction:(SKPaymentTransaction *)transaction
-(void)paymentQueue:(SKPaymentQueue *)queue restoreCompletedTransactionsFailedWithError:(NSError *)error
-(void)paymentQueueRestoreCompletedTransactionsFinished:(SKPaymentQueue *)queue 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-20T10:27:09.170

将此代码添加到您添加了恢复按钮的页面：

```
- (void)paymentQueue:(SKPaymentQueue *)queue restoreCompletedTransactionsFailedWithError:(NSError *)error {  
     NSLog(@"%@",error);
}

// Call This Function
- (void) checkPurchasedItems
{
    [[SKPaymentQueue defaultQueue] addTransactionObserver:self];
    [[SKPaymentQueue defaultQueue] restoreCompletedTransactions];
}

//Then this delegate Function Will be fired
- (void) paymentQueueRestoreCompletedTransactionsFinished:(SKPaymentQueue *)queue
{
    purchasedItemIDs = [[NSMutableArray alloc] init];
    NSLog(@"received restored transactions: %i", queue.transactions.count);

    for (SKPaymentTransaction *transaction in queue.transactions)
    {
        NSString *productID = transaction.payment.productIdentifier;

        [purchasedItemIDs addObject:productID];

        NSLog(@"%@",purchasedItemIDs);
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-29T05:15:12.980

Apple 拒绝带有 In App Purchase 的应用程序，该应用程序没有恢复购买按钮。在应用视图中，添加一个恢复按钮。然后在 In App Purchase 帮助器类中，添加以下方法：

```
- (void)restoreCompletedTransactions {
    [[SKPaymentQueue defaultQueue] restoreCompletedTransactions]; 
} 
```

现在从按钮单击操作中调用此方法，它将恢复以前的购买。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-01-24T09:56:23.543

```
*- (IBAction)restorePreviousTransaction:(id)sender {
    [[SKPaymentQueue defaultQueue] addTransactionObserver:self];
    [[SKPaymentQueue defaultQueue] restoreCompletedTransactions];
}
delegate method call:
 - (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions
{
   case SKPaymentTransactionStateRestored:
                if ([self respondsToSelector:@selector(restoreTransaction:)]) {
                    [self restoreTransaction:transaction];
                    return;                
}
- (void) paymentQueueRestoreCompletedTransactionsFinished:(SKPaymentQueue *)queue
{
    purchasedItemIDs = [[NSMutableArray alloc] init];
    NSLog(@"received restored transactions: %i", queue.transactions.count);
    for (SKPaymentTransaction *transaction in queue.transactions)
    {
        NSString *productID = transaction.payment.productIdentifier;
        [purchasedItemIDs addObject:productID];
        NSLog(@"%@",purchasedItemIDs);
    }
}* 
```

# c++ - 在此字符串操作代码中出现 out_of_range 错误

> ID：11113050
> 
> 赞同：0
> 
> 时间：2012-06-20T04:56:53.357
> 
> 标签：c++, string

嗨，我 在以下代码中遇到了**std::out_of_range: basic_string::substr 。**一直在努力修复它，但无法完成。

```
std::string orig_str = "1-1,2-3,4-4,56-75,77-77";
size_t number_digits;
for (size_t i = 0; i < orig_str.size(); ++i)
{
    number_digits = orig_str.find_first_of(",", i) - i - 1;
    if(orig_str.find("-", i) != std::string::npos)
    if (orig_str.substr(i - number_digits, i - 1) == orig_str.substr(i + 1, i + number_digits))
    orig_str.erase(i-number_digits, number_digits + 1);            
} 
```

基本上这段代码正在操作字符串以删除一些范围预期的行为是： **输入字符串：** “0-0,2-7,88-88”**输出字符串：** “0,2-7,88”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:13:44.640

AJ，这是我们在聊天中讨论的伪代码：

```
input_string = "1-1,2-3,4-4,56-75,77-77"
output_string = ""
while (input_string is not empty)
    sub = input_string.substr(up to first comma)
    input_string = input_string.substr(after first comma)
    if (sub.substr(up to dash) == sub.substr(after dash))
        output_string += sub.substr(up to dash)
    else
        output_string += sub
    if (input_string is not empty)
        output_string += "," 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:43:25.190

```
 int flag = 0;
    int num_ch;
    char * fnum = NULL, * snum = NULL;
    int numOfLoop = orig_str.size();
    for(int i = 0; i < numOfLoop; i++)
    {
        if(orig_str[i] == '-')
        {
            flag = 1;
        }
        else if(orig_str[i] == ',')
        {
            int ret = strcmp(fnum, snum);
            if(ret == 0)
            {
                int sizeOfNUM = strlen(fnum);
                int numOfChToReplace = sizeOfNUM + sizeOfNUM + 1;
                orig_str.replace(i - numOfChToReplace,numOfChToReplace, fnum); 
                numOfLoop = numOfLoop - (sizeOfNUM + 1);
                i = i - (sizeOfNUM + 1);
            }

            flag = 0;
            delete [] fnum;
            delete [] snum;
            fnum = NULL;
            snum = NULL;
        }
        else
        {
            if(flag == 1)
            {
                if(snum == NULL)
                {
                    snum = new char[2];
                    snum[0] = orig_str[i];
                    snum[1] = '\0';
                }
                else
                {
                    int size = strlen(snum);
                    char * tmp = snum;
                    snum = new char[size + 2];
                    for( int j = 0; j < size; j++)
                        snum[j] = tmp[j];
                    snum[size] = orig_str[i];
                    snum[size + 1] = '\0';
                }
            }
            else 
            {
                if(fnum == NULL)
                {
                    fnum = new char[2];
                    fnum[0] = orig_str[i];
                    fnum[1] = '\0';
                }
                else
                {
                    int size = strlen(fnum);
                    char * tmp = fnum;
                    fnum = new char[size + 2];
                    for( int j = 0; j < size; j++)
                        fnum[j] = tmp[j];
                    fnum[size] = orig_str[i];
                    fnum[size + 1] = '\0';
                }
            }
        }
    }

    int ret = strcmp(fnum, snum);
    if(ret == 0)
    {
        int sizeOfNUM = strlen(fnum);
        int numOfChToReplace = sizeOfNUM + sizeOfNUM + 1;
        orig_str.replace(i - numOfChToReplace,numOfChToReplace, fnum); 
        numOfLoop = numOfLoop - (sizeOfNUM + 1);
        i = i - (sizeOfNUM + 1);
    }

    flag = 0;
    delete [] fnum;
    delete [] snum;
    fnum = NULL;
    snum = NULL;

    std::cout << orig_str.c_str() << std::endl; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:02:15.870

您迭代原始字符串的长度，并修改它并因此更改长度。编译器可能会优化调用，`orig_str.size()`这意味着它将获取一次长度并让您迭代超过字符串的新长度。

您可能应该更改以`orig_str`从一开始就保持原样（否则它的命名非常糟糕）并将结果放入一个新字符串中。

# iphone - UIScrollView 在第一次触摸时会向下跳

> ID：11113052
> 
> 赞同：5
> 
> 时间：2012-06-20T04:57:20.440
> 
> 标签：iphone, ios, cocoa-touch, uiscrollview

我有两个 UIScrollViews，一个水平的，一个垂直的，每个两个页面（如，水平的一个是两页宽，垂直的一个是两页高）。水平滚动视图位于垂直滚动视图中。我正在尝试模仿 Calcbot 的设计，您可以在其中向左/向右滚动按钮和向上/向下滚动历史记录。

然而，当视图加载时，水平滚动视图比它应该的位置高出大约 100 像素。然后，当我触摸它并开始稍微移动它时，它会跳/跳到正确的位置并停留在那里。我如何让它从一开始就正确显示？

这是我的 viewDidLoad 代码：

```
-(void)viewDidLoad {
horizontalScrollView.pagingEnabled = YES;
verticalScrollView.pagingEnabled = YES;

horizontalScrollView.contentSize = CGSizeMake(horizontalScrollView.bounds.size.width * 2, horizontalScrollView.bounds.size.height); // 2 pages wide.
verticalScrollView.contentSize = CGSizeMake(verticalScrollView.bounds.size.width, verticalScrollView.bounds.size.height * 2);

horizontalScrollView.delegate = self;
verticalScrollView.delegate = self;

[verticalScrollView addSubview:horizontalScrollView];

[verticalScrollView setContentOffset:CGPointMake(0, 640)];

[self.view addSubview:verticalScrollView];

horizontalScrollView.frame = CGRectMake(0, 540, 320, 460);

} 
```

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-26T06:34:33.957

当您设置 pagingEnabled = YES 并且 contentOffset 设置为不在页面边界上的位置（可被 bounds.size.height 整除）时，通常会在 UIScrollView 中跳转。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:13:40.793

只是一个快速的想法，因为我目前也在搞乱 UIScrollView 。您可以尝试使用`-(void)viewWillAppear:(BOOL)animated`. 例如，我在该方法中设置了最小和最大滚动，因为它取决于内容的大小，从我阅读的内容来看，直到 viewWillAppear 才设置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:13:54.733

移动这条线

```
horizontalScrollView.frame = CGRectMake(0, 540, 320, 460); 
```

在`viewWillAppear`而不是`viewDidLoad`，看看它是否有效

# c# - Watin--无法在嵌套框架中寻址按钮

> ID：11113057
> 
> 赞同：2
> 
> 时间：2012-06-20T04:57:49.753
> 
> 标签：c#, visual-studio-2010, frame, watin

我已经使用Watin 几个月了。我学到了很多，但似乎无法弄清楚这一点：

我需要访问框架中的按钮。当我查看 IE 开发人员工具 (F12) 时，我看到一个`<frameset name="WRAPPER">`then 嵌套在里面，我看到另一个`<frameset name="MAIN">`then 嵌套在里面，我看到我需要访问的框架：`<frame name="leftFrame">`.

当我尝试这段代码时：

```
FrameCollection wrapper = ie.Frames; 
```

我收到此错误：

> 无法使用已与其底层 RCW 分离的 COM 对象。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:24:18.540

尝试改变

`"htmlDocument.all.tags("iframe")"`

至

`"htmlDocument.all.tags("frame")"`

它似乎解决了这个问题。

它是[在带有 win7 的 Watin 2.1 中报告的](http://sourceforge.net/tracker/?func=detail&aid=3290877&group_id=167632&atid=843727)，

检查此相关线程： [在 Watin 新版本 2.1 中访问框架时出错](https://stackoverflow.com/questions/5882415/error-when-accessing-the-frames-in-watin-new-version-2-1)

# git - smartgit 和 kdiff3 集成

> ID：11113061
> 
> 赞同：7
> 
> 时间：2012-06-20T04:58:18.440
> 
> 标签：git, smartgit, kdiff3

smartgit 自带的合并工具非常混乱。
我无法配置 kdiff3。我没有配置共同祖先。
这些是他们给我配置的仅有的三个文件： ${mergedFile} ${rightFile} ${leftFile}
有没有办法配置 kdiff3 并使用 3 路合并？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-20T07:59:07.733

Actually SmartGit provides the `${baseFile}` argument for 3-way merges (at least in version 3.0.x)

In the Preferences panel, under Tools > Conflict Solver make sure External Conflict Solver is selected.

```
Command: kdiff3
Arguments: ${baseFile} ${leftFile} ${rightFile} -o ${mergedFile} 
```

# dynamics-crm-2011 - 更新插件 crm2011 中的货币基础值

> ID：11113067
> 
> 赞同：1
> 
> 时间：2012-06-20T04:59:03.123
> 
> 标签：dynamics-crm-2011, dynamics-crm-online

我有一个与 crm 货币字段（estimatedrevenue）有关的问题，这是自定义字段和小数字段（RevenueIncludingTax）。我计算货币基值 = Math.ceil(RevenueIncludingTax)。当我尝试使用 Javascript 时，有时是正确的，有时是错误的。所以我尝试编写插件，并更新基值。虽然插件正在工作并在编码中更新值，但是当打开表单时它会显示错误消息并且不会更新基值。**我怀疑我可以更新货币基础价值吗？**

这是我的插件代码，

```
public class EstimatedRevenue : IPlugin
{
    #region Class Level Variables
    //IServiceProvider _serviceProvider;
    //IOrganizationServiceFactory _serviceFactory = null;
    //IOrganizationService _service = null;
    //IPluginExecutionContext _context = null;

    Entity _target = null;
    Entity _preImage = null;
    Entity _postImage = null;
    Guid _currentUser;
    decimal revinvtax;
    #endregion

    #region  IPlugin Members
    public void Execute(IServiceProvider serviceProvider)
    {
        try
        {
            string message = null;
            IPluginExecutionContext _context = (IPluginExecutionContext)serviceProvider.GetService(typeof(IPluginExecutionContext));

            #region Organization Services
            // Obtain the organization service reference.
            IOrganizationServiceFactory serviceFactory = (IOrganizationServiceFactory)serviceProvider.GetService(typeof(IOrganizationServiceFactory));
            IOrganizationService service = serviceFactory.CreateOrganizationService(_context.UserId);
            #endregion

            var ServiceContext = new OrganizationServiceContext(service);

            _currentUser = _context.UserId;
            message = _context.MessageName.ToLower();

            if (message == "create") 
            {
                if (_context.InputParameters.Contains("Target") && _context.InputParameters["Target"] != null)
                    _target = (Entity)_context.InputParameters["Target"];

                if (_context.PreEntityImages.Contains("PreImage") && _context.PreEntityImages["PreImage"] != null)
                    _preImage = (Entity)_context.PreEntityImages["PreImage"];

                if (_context.PostEntityImages.Contains("PostImage") && _context.PostEntityImages["PostImage"] != null)
                    _postImage = (Entity)_context.PostEntityImages["PostImage"];

                if (_target.Attributes.Contains("hm_revenueincludingtax"))
                {
                    revinvtax = (decimal)_target.Attributes["hm_revenueincludingtax"];
                    decimal ceilvalue = Math.Ceiling(revinvtax);
                    _target.Attributes["hm_estimatedrevenue_base"] = ceilvalue;
                    service.Update(_target);
                }
            }
            if (message == "update")
            {
                if (_context.InputParameters.Contains("Target") && _context.InputParameters["Target"] != null)
                    _target = (Entity)_context.InputParameters["Target"];

                if (_context.PreEntityImages.Contains("PreImage") && _context.PreEntityImages["PreImage"] != null)
                    _preImage = (Entity)_context.PreEntityImages["PreImage"];

                if (_context.PostEntityImages.Contains("PostImage") && _context.PostEntityImages["PostImage"] != null)
                    _postImage = (Entity)_context.PostEntityImages["PostImage"];

                if (_target.Attributes.Contains("hm_revenueincludingtax"))
                {
                    revinvtax = (decimal)_target.Attributes["hm_revenueincludingtax"];
                    decimal ceilvalue = Math.Ceiling(revinvtax);
                    _target.Attributes["hm_estimatedrevenue_base"] = ceilvalue;
                    //service.Update(_target);
                    //ServiceContext.AddObject(_target);
                    //ServiceContext.SaveChanges();
                }
            }
        }
        catch (Exception ex)
        {
            throw new InvalidPluginExecutionException(ex.Message, ex);
        }
    }
    #endregion
} 
```

这是我打开表单时的错误页面， ![在此处输入图像描述](../Images/25918cdd0480dff465ed13be565b2b2d.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:30:17.840

不要更新`_base`属性 - 它的内部。而是更新您创建的属性 ( `hm_estimatedrevenue`)。它将采用调用用户的货币，并`_base`会自动处理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-02T16:16:59.357

`_base`顾名思义，它存储在基础货币值中。因此，如果您在欧洲并在安装过程中将基础货币设置为欧元，那么它在`_base`. 如果输入 250 欧元，`_base`将有 250 的值。

`hm_estimatedrevenue`字段计算：`_bases/exchange_rate`以适应多币种组织。

但是，您必须更新`hm_estimatedrevenue`，因为`_base`它是一个`readonly`字段。

希望这可以帮助。

# wpf - 来自绑定集合的 WPF ListBox 项标签为空白

> ID：11113070
> 
> 赞同：0
> 
> 时间：2012-06-20T04:59:26.627
> 
> 标签：wpf, data-binding, styles

我的 WPF 样式有一些问题。我有一个`ListBox`包含一堆*空白*（不应该是空白）标签。在我的 XAML 中定义如下：

```
 <ListBox Height="auto" Name="ProjectsList" Width="auto" DockPanel.Dock="Top" ItemsSource="{Binding Projects}">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Grid Margin="3">
                            <Label Content="{Binding Path=Name}" Foreground="Black" Height="40" Padding="7" VerticalAlignment="Center" ScrollViewer.HorizontalScrollBarVisibility="Hidden" Name="ProjectName" />
                            <Label Content="{Binding Path=TaskCount}" Foreground="Gray" Width="25" Name="ProjectTaskCount" />
                        </Grid>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox> 
```

`Projects`是一个`ObservableCollection`填充了`Project`结构（我定义的）的结构，这些结构是在数据库查询之后创建的以获取相应的数据。我可以单步执行代码并看到查询返回正常，并看到结构被填写并添加到集合中。我也知道它正在填充`ListBox`因为我可以选择其中的空白项并突出显示。但是没有应该有的文字。

`Project`属性是`Name`a并且`string`是。`TaskCount``int`

这是`Project`定义

```
public struct Project
{
    public Int64 Id;
    public string Name;
    public string Description;
    public bool HasDueDate;
    public DateTime DueDate;
    public Int64 UserId;
    public int TaskCount;
} 
```

问题是：为什么文本不显示？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T08:29:25.133

您可以绑定到**public Properties**。我只看到你的结构上的字段。就像其他人说的：实施 INotifyPropertyChanged 并正确提高它

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:10:50.760

您应该为您的业务对象实现 INotifyPropertyChanged。这将使用 PropertyChanged 回调直接通知 UI 的属性更改.. 但我不确定您是否使用它来绑定 ListBox....

[http://www.codeproject.com/Articles/165368/WPF-MVVM-Quick-Start-Tutorial](http://www.codeproject.com/Articles/165368/WPF-MVVM-Quick-Start-Tutorial)

[http://www.codeproject.com/Articles/81484/A-Practical-Quick-start-Tutorial-on-MVVM-in-WPF](http://www.codeproject.com/Articles/81484/A-Practical-Quick-start-Tutorial-on-MVVM-in-WPF)

[http://wpftutorial.net/MVVM.html](http://wpftutorial.net/MVVM.html)

# c# - 依赖属性或普通属性

> ID：11113072
> 
> 赞同：1
> 
> 时间：2012-06-20T04:59:50.870
> 
> 标签：c#, wpf, dependency-properties

我有一个`UserControl`，它包含一个`Button`. 现在，在某些 Windows 中，我不想显示这个`Button`. 为了实现这一点，我看到了两个选择。

1.  创建一个 DP。
2.  直接与 viewModel 的属性绑定，而不是创建 DP。

应该使用以上 2 个选项中的哪一个？

**更新：**

我也找到了第三种方法。

我在绑定命令的 CanCommandExecute 中传递了 false，这将使其 IsEnabled 为 false。

我正在使用带有可见性的 IsEnabled 使用 Converter。

这个解决方案怎么样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:49:12.460

为可见性拥有一个属性 IsVisible（这里不需要 DP，只要您的 ViewModel 不是 DependencyObject 而是 INotifyPropertyChanged 的​​实现）是最干净的方法。这也可以调用按钮命令的 CanExecute。这样你就可以清楚地表达你想以某种方式改变可见性，并绑定到那个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:06:17.520

创建 DP 是更干净的实现方式，而后者是快速而肮脏的方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T06:23:04.313

以下应该是考虑的顺序
1\. DP -> 更清洁的方法
2\. 如果不是 DP，则 CanCommandExecute -> 此机制的唯一目的是提供对命令处理的启用/禁用支持
3\. 如果不是 DP，CanCommandExecute，Normal 属性 on虚拟机（带有 BooleanToVisibilityConverter）。这不应该是首选（特别是如果需要启用/禁用多个控件）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-20T06:06:03.633

CanCommandExecute 将是最好的解决方案，因为它会让我更干净，而且它的 c# 代码数量也会更少。

# java - 在方法中更改类成员？

> ID：11113074
> 
> 赞同：1
> 
> 时间：2012-06-20T05:00:13.917
> 
> 标签：java, android, object, reference

好的，这绝对是一个 n00b 问题，但这里有。

我理解它的方式是，Java 中的对象是按值传递的，而不是按引用传递的。那么如何通过将引用传递给方法来更改方法中的类成员呢？

我知道这是可能的，因为 getRotationMatrix 方法可以做到这一点......即如果我在类级别编写以下内容：

```
private float rotationMatrix[] = new float[9]; 
```

然后在我调用的方法中：

```
SensorManager.getRotationMatrix(rotationMatrix, inclinationMatrix, gData, mData); 
```

它将改变旋转矩阵。我的问题是，如果所有内容都是按值传递的，那么该方法如何改变我传递给它的对象中的内容？

我问的原因是我正在尝试编写一个做同样事情的方法，但一直遇到按值传递的难题。我正在尝试通过将对 FloatBuffer 的引用传递给方法来初始化它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T05:09:27.467

是的，对象是按值传递的。但是 Object 是一个引用，所以传递了一个引用的副本。使用引用可以修改对象，但更改引用不会对调用者产生任何影响。

例如：

```
List list = new ArrayList();
modifyList(list);
noOp(list);

void modifyList(List l)
{
   l.add("A"); // A is added to list
}

void noOp(List l)
{
   l = null; // No effect to list, you are modifying local variable l.
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:51:25.160

好吧，如果您正在处理 java 中的对象，那么请了解有两件事。第一个是对象，第二个是对对象的引用。

因此，当您将对象的引用传递给方法时，引用本身是按值传递的，即在您的方法中创建一个与传递的引用相同的新引用。但请注意，虽然引用已被复制，但对象已就位，可以通过此新引用进行操作。

```
SensorManager.getRotationMatrix(rotationMatrix, inclinationMatrix, gData, mData); 
```

在您的示例中，为 getRotationMatrix() 方法提供了一个新的 rotationMatrix 引用。但是通过这个参考，没有人可以阻止您操作实际的 Array 对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:06:38.377

Java 对象通过引用传递。您可能会将引用与始终按值传递的原语混淆。

# node.js - 哪个数据库用于基于 gps 的跟踪

> ID：11113078
> 
> 赞同：7
> 
> 时间：2012-06-20T05:00:23.290
> 
> 标签：node.js, gps, gis, neo4j

我对使用通用图形数据库（neo4j）到 mongodb 来跟踪 gps 设备感​​到困惑。

我需要的功能：

*   跟踪和分析每个被跟踪设备的路径。
*   经纬度/基于地址的设备搜索
*   基于来自所有设备的聚合数据的流量估计
*   我将为其实现算法的一些更智能的东西。
*   应该有一个稳定的**Nodejs接口**

有什么建议么 ？

这里的一些答案建议使用 GIS 数据库，一些建议使用图表，有人可以澄清区别吗？

[NoSQL 和空间数据](https://stackoverflow.com/q/2041622/383677)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-23T20:30:24.717

我建议使用对象关系数据库，而不是 mongo 等无 sql 数据库，因为听起来您的数据分析将利用 mongo 排除的许多关系特性。

根据您的规范，我建议使用 PostGis 插件的 PostgreSQL。PostGIS 是 PostgreSQL 关系数据库服务器的空间数据库插件。它包括对 OpenGIS “Simple Features for SQL”规范中定义的所有函数和对象的支持。使用 PostGIS 中的许多空间功能，可以完全在 SQL 命令行中进行高级空间处理和查询。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-26T19:02:35.790

你可能想看看[couchdb的](http://couchdb.apache.org/)[geocouch](https://github.com/couchbase/geocouch)扩展，它支持空间信息和边界框查询。显然，您可以为您的特定用例添加带有 map reduce 功能的自己的视图。

我的用例有点不同，但涉及每 5 分钟存储一次 GPS 坐标，持续时间约为 3 周，几乎没有停止超过 6000 公里。我有自定义视图来计算距离、平均速度等，以及列表函数以 KML 格式等输出行程。还提供了一个网络界面来实时跟踪当前位置。CouchDB 没有任何问题。

至于 node 的客户端库，我在一些项目中一直在使用[cradle](https://github.com/cloudhead/cradle/)，我对它的稳定性和易用性感到满意。只要确保您在更改视图和所有内容时没有在开发中进行缓存。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-17T13:15:52.990

考虑到具体实现决定采用 mongodb + postgis 配置。

# c++ - win2003服务器多字符串注册表字段中的垃圾字符

> ID：11113079
> 
> 赞同：0
> 
> 时间：2012-06-20T05:00:35.040
> 
> 标签：c++, windows, winapi, registry

我已经编写了代码来读取和写入注册表，这在除 win2003 之外的所有操作系统中都可以正常工作。基本上在注册表（RegSetValueExW）中设置值之后，我能够正确读取它（RegQueryValueExW）。但是当我打开 regedit 时，我看到里面有一些垃圾字符。

打开使用

```
RegOpenKeyExW(HKEY_LOCAL_MACHINE, subKey , 0, KEY_WRITE | KEY_WOW64_64KEY, &_regKey); 
```

设置：（值是 wstring）

```
::RegSetValueExW(_regKey, key, NULL, REG_MULTI_SZ, reinterpret_cast<const BYTE*>(value.c_str()), static_cast<DWORD>(value.length()*2 + 1)); 
```

查询：

```
::RegQueryValueExW(regKey, key, NULL, &type, reinterpret_cast<LPBYTE>(&value[0]), &valueLength); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:58:34.907

从 MSDN 手册页[`RegSetValueExW`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724923%28v=vs.85%29.aspx)：

> 对于 REG_MULTI_SZ 数据类型，字符串必须以两个**空**字符结束。

您需要构造一个`BYTE`包含两个终止符的数组并将其传递给函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:33:00.673

您应该使用`(value.length() + 1)*2`而不是`value.length()*2 + 1`.

# php - 如何在另一个页面上访问另一个类中的 mysqli 连接？

> ID：11113080
> 
> 赞同：3
> 
> 时间：2012-06-20T05:00:42.913
> 
> 标签：php, mysql, oop, mysqli

如何在用户类中打开数据库连接，在哪里可以进行数据库操作？为什么需要在 DBConnection 类中定义内置的创建函数..????

我创造了

1.  数据库.php
2.  用户.php
3.  结果.php

**在 db.php 中**

```
class DBConnection  
{       
  protected $mysqli;
  private  $db_host="127.0.0.1";
  private  $db_name="test";
  private  $db_username="root";
  private  $db_password="";

  public function __construct()
    {
        $this->mysqli=new mysqli($this->db_host,$this->db_username,
                $this->  db_password,$this->db_name) or die($this->mysqli->error);

         return $this->mysqli;
    }

public function query($query)  // why i need to creat this function
     {
    return $this->mysqli->query($query);
     }

public function real_escape_string($str)
 {
    return $this->mysqli->real_escape_string();
 }

   function __destruct(){
     //Close the Connection
     $this->mysqli->close();
    }
}
?> 
```

**在用户.php**

```
<?php
  require "db.php"; 

  class User {  

  public function __construct($conn)
{
    $this->mysqli=$conn;

}

   public function addUser($name,$username,$email,$pwd)
   {
     $query="  ";

     $res=$this->mysqli->query($query);

  //pls chek the query function in DBConnection,what is the need to define query               >       function in DBConnection ?

    return $res;
    }
   }    
?> 
```

**在结果.php**

```
 <?php

      require "user.php";

      $conn=new DBConnection();

      if(isset($_POST['submit']))
  { 
```

> ```
>  $name = $conn->real_escape_string(trim(strip_tags($_POST['name'])));
>    $username =  $conn->real_escape_string(trim(strip_tags($_POST['username'])));
>    $email =     $conn->real_escape_string(trim(strip_tags($_POST['email'])));
>    $password    = $conn->real_escape_string(trim(strip_tags($_POST['pass']))); 
> ```

```
//echo $name."".$username."".$email."".$password;
  $uObj=new User($conn);
  $uObj->addUser($name,$username,$email,$password);

echo " hi your name is <I>".$name."</I> and your email ID is <I>".$email."</I>";
        }

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:16:37.173

你的`DBConnection`班级需要一个额外的方法：

```
public function getLink()
{
    return $this->mysqli;
} 
```

看来您的原始`User`类是 的子类`DBConnection`，因为`mysqli`属性 on `DBConnection`is`protected`并且`User`class 有一个`parent::__construct()`调用。

最好使用依赖注入，这样您的`User`类将通过构造函数接收其数据库连接：

```
public function __construct(DBConnection $db)
{
    $this->mysqli = $db->getLink();
} 
```

然后从您的代码中，您可以运行：

```
$db = new DBConnection;
$uObj = new User($db); 
```

# tridion - 错误：名称和目录对于 SG 是唯一的。根据导入日志检查 SG 是否导致错误。有什么办法找出来吗？

> ID：11113085
> 
> 赞同：1
> 
> 时间：2012-06-20T05:01:33.353
> 
> 标签：tridion, tridion-2011

通过内容搬运工导入网站时，我收到一个错误，即名称和目录对于结构组必须是唯一的。

在日志中，我找到了引发错误的结构组的 TCM-ID。但是我已经在网站主文件中检查了该结构组及其子结构组的名称和目录。但我还没有发现任何这样的东西。

在 BluePrinting 中，我有许多子网站。这个问题可能出在儿童网站上吗？

给我一个解决方案，如何找到问题实际存在的地方。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-20T12:41:39.710

**项目名称在整个 BluePrint 链**中的组织项目（因此它们所在的文件夹或结构组）中必须是唯一的。Tridion 不允许您在蓝图的任何位置创建冲突项目，因为在父出版物中创建这样的项目会使子项目无效。

解决此问题的最简单方法是在子出版物中找到冲突的项目，将它们重命名为独特的名称，然后再次运行 Content Porter。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-20T13:46:34.780

我在这种情况下看到了类似的错误消息：

*   在导出前导入已在 SOURCE 中本地化的结构组
*   导入前未选中“使用蓝图映射解析共享项目”复选框

解决方案是先在目标服务器中本地化结构组，然后恢复导入，或者在选中该选项的情况下重新导入。

无论哪种方式，要回答您的确切问题，是的，它可能是由具有完全相同名称的子出版物中的 SG 引起的，在这种情况下，唯一的解决方案是重命名其中一个 - 您正在导入的那个或现有的。如果您查看 Windows 事件查看器，您应该会收到有关此蓝图冲突的错误消息，其中应包括导致冲突的项目的 TCM URI。

# jsf - jsf primefaces验证消息重复显示

> ID：11113089
> 
> 赞同：1
> 
> 时间：2012-06-20T05:01:47.533
> 
> 标签：jsf, primefaces, datatable, message

我正在使用primefaces 3.3。

我有一个如下所示的数据表：

```
<p:dataTable value="#{someBean.items}" var="item" ..>
  <p:column>
    <p:inputText id="someInputText" validation="#{someBean.someValidator}">
  </p:column>
  ..
</p:dataTable> 
```

验证器是标准的：

```
public void someValidator (FacesContext context, UIComponent component, Object value) throws ValidatorException {

  if(someCondition) {
    throw new ValidatorException(
                    new FacesMessage(FacesMessage.SEVERITY_ERROR, "error: ", "validation failed"));
  } 
```

我遇到的问题是，如果 dataTable 中有多个项目，并且 inputText 组件“someInputText”的验证仅针对其中一个项目失败，则为每个项目显示验证错误消息。

有什么想法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T06:15:28.033

像这样使用 p:message 的 for 属性：

```
<p:dataTable value="#{someBean.items}" var="item">
  <p:column>
    <p:inputText id="someInputText1" validator="#{someBean.someValidator}" value="item.name">
    <p:message id="someInputText1Msg" for="someInputText1" />
  </p:column>
  <p:column>
    <p:inputText id="someInputText2" validator="#{someBean.someValidator}" value="item.model">
    <p:message id="someInputText2Msg" for="someInputText2" />
  </p:column>
</p:dataTable> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-22T14:08:12.007

修改您对新 FacesMessage 的创建以使用 component.getClientId() 而不是“error:”。

那是：

```
if(someCondition) {
    throw new ValidatorException(
                    new FacesMessage(FacesMessage.SEVERITY_ERROR, component.getClientId(), "validation failed"));
  } 
```

# java - 如何初始化我的通用数组？

> ID：11113095
> 
> 赞同：3
> 
> 时间：2012-06-20T05:02:44.697
> 
> 标签：java, android, generics, arraylist, initialization

我想要一个 ArrayLists 数组：

```
ArrayList<MyClass>[] myArray; 
```

我想通过以下代码对其进行初始化：

```
myArray = new ArrayList<MyClass>[2]; 
```

但我得到这个错误：

```
Cannot create a generic array of ArrayList<MyClass> 
```

我怎样才能初始化它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T05:06:52.170

这在 Java 中严格来说是不可能的，并且自实施以来就没有。

您可以像这样解决它：

```
ArrayList<MyClass>[] lists = (ArrayList<MyClass>[])new ArrayList[2]; 
```

这可能（真的，应该）产生警告，但没有其他方法可以绕过它。老实说，你最好创建一个`ArrayList`of `ArrayList`s：

```
ArrayList<ArrayList<MyClass>> lists = new ArrayList<ArrayList<MyClass>>(2); 
```

后者是我推荐的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:05:58.767

您可以使用

```
HashMap<some key,ArrayList<MyClass>> or ArrayList<ArrayList<MyClass>> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:07:32.307

由于数组本质上是静态的并且在编译时解析，所以你不能这样做，而是可以使用 ArrayList。作为

```
ArrayList<ArrayList<MyClass>> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T05:08:46.610

这个怎么样？

```
ArrayList<String>[] f = (ArrayList<String>[]) Array.newInstance(ArrayList.class, size);

for(int ix = 0; ix < f.length;ix++)
    f[ix] = new ArrayList<String>(); 
```

# android - 在 Android Phonegap 中显示具有自定义时间间隔的本地通知

> ID：11113096
> 
> 赞同：1
> 
> 时间：2012-06-20T05:02:45.817
> 
> 标签：android, cordova

我正在使用 Android PhoneGap。我想显示本地通知，我参考了一些关于本地通知的链接，我从以下链接中获得了一些信息，

[https://github.com/saileshmittal/phonegap-system-notification-plugin/tree/master/android-statusbar-notificaion](https://github.com/saileshmittal/phonegap-system-notification-plugin/tree/master/android-statusbar-notificaion)

[https://github.com/phonegap/phonegap-plugins/tree/master/Android/LocalNotification](https://github.com/phonegap/phonegap-plugins/tree/master/Android/LocalNotification)

我尝试了两个链接，该`LocalNotification`链接工作正常，但在这里我想设置日期和时间，如闹钟，上面的`LocalNotification`链接有闹钟类，但我不清楚，我不知道如何在 android 的本地通知中使用闹钟电话间隙。

否则

如果可能的话，在 android phonegap Toast 通知中设置日期和时间？

# c# - 这个 SeBackupPrivilege（备份模式）实现有什么问题？

> ID：11113097
> 
> 赞同：2
> 
> 时间：2012-06-20T05:03:09.153
> 
> 标签：c#, winapi, elevated-privileges

（背景信息：随意跳到最后一段）

目前，我有一个硬盘驱动器，它是另一台计算机上的 O/S 驱动器的完整映像。它是一个外部 USB 驱动器，连接到写入阻止程序，然后连接到我的计算机。我正在使用它来测试一些用于复制文件（除其他外）的代码，并且我遇到了一个仅凭管理员权限无法复制的文件。

在阅读了 Windows 中的权限后，我确定我需要备份权限才能访问本地驱动器上的所有文件。我已经通过使用带有“/b”标志的 robocopy 验证了这是我需要的，该标志可以为副本启用备份模式。一切都复制得很好，没有问题。我只需要能够让我自己的代码能够在备份权限下运行。

在我的代码 (C#) 中，我尝试实现必要的 winapi 调用 (AdjustTokenPrivileges) 以赋予当前进程备份权限，但结果未经验证。我使用了这篇文章 (http://www.codeproject.com/Articles/21202/Reparse-Points-in-Vista) 中的一些代码来使用已知的“工作”实现。在代码项目中，我尝试添加带有“拒绝访问”错误的 File.Copy()。我也尝试过使用 winapi 调用 CopyFileW() 时出现相同的错误。在这一点上，我没有想法:(。

作为参考（来自文章），这是我用于权限提升的代码：

```
bool success;
IntPtr token;
TOKEN_PRIVILEGES tokenPrivileges = new TOKEN_PRIVILEGES();
tokenPrivileges.Privileges = new LUID_AND_ATTRIBUTES[1];
success = OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES, 
                           out token);
if (success)
{
    // null for local system

    success = LookupPrivilegeValue(null, SE_BACKUP_NAME, 
                                   out tokenPrivileges.Privileges[0].Luid);
    if (success)
    {
        tokenPrivileges.PrivilegeCount = 1;
        tokenPrivileges.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED;
        success = AdjustTokenPrivileges(
            token,
            false,
            ref tokenPrivileges,
            Marshal.SizeOf(tokenPrivileges),
            IntPtr.Zero,
            IntPtr.Zero);
    }
    CloseHandle(token);
} 
```

编辑：要添加更多信息，如果我按原样运行项目，链接的 ReparsePoint 代码就可以正常工作。当我删除对 AdjustTokenPrivilege 的调用时，它会引发“拒绝访问”错误。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T12:50:56.523

您仍然必须`CreateFile`使用指定的[`FILE_FLAG_BACKUP_SEMANTICS`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa363858(v=vs.85).aspx)标志进行调用。这意味着您不能使用标准的 Windows API，因为它们没有指定该标志。

# vb.net - 来自模块的 VB.NET 控件表单

> ID：11113099
> 
> 赞同：0
> 
> 时间：2012-06-20T05:03:18.550
> 
> 标签：vb.net

我最近将我的项目从 VB6 转换为 VB.NET2008，在这里转换后是一个从我创建的模块控制表单的子，错误类似于

> “cmdAdd 不是 System.Windows.Forms.Form 的成员”

```
Public Sub ButtonSet(ByRef frmObj As System.Windows.Forms.Form)
    frmObj.cmdAdd.Visible = True
    frmObj.cmdCopy.Visible = True
    frmObj.cmdEdit.Visible = True
    frmObj.cmdCorrection.Visible = True
End Sub 
```

它是如何调用的：

```
Private Sub frmAPNote_Load(ByVal eventSender As System.Object, ByVal eventArgs As System.EventArgs) Handles MyBase.Load
ButtonSet(Me)
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:05:14.833

将参数类型更改为`YourFormName`。

```
Public Sub ButtonSet(ByRef frmObj As frmAPNote)
    frmObj.cmdAdd.Visible = True
    frmObj.cmdCopy.Visible = True
    frmObj.cmdEdit.Visible = True
    frmObj.cmdCorrection.Visible = True
End Sub 
```

PS：不需要为对象指定 ByRef 参数类型。

> 问题是模块中的子不仅被“frmAPNote”调用，还被其他形式如“frmARNote”和“frmRTNote”调用

`Form.Controls`您可以从集合中获取特定控件的引用。

```
Public Sub ButtonSet(ByVal frmObj As Form)
    Dim btnAdd = frmObj.Controls("btnAdd")

    If Not IsNothing(btnAdd) Then
        btnAdd.Visible = False
    End If

    ....
End Sub 
```

# java - Maven 使用旧文件构建 .war

> ID：11113100
> 
> 赞同：1
> 
> 时间：2012-06-20T05:03:19.620
> 
> 标签：java, maven, war

我有一个项目，它使用 maven 并且工作正常。但前一段时间我决定将我的 JDK 从 1.6007 更改为 1.6032 版本。并且大概在更改 JDK 之后，我的 Maven`.war`使用旧`.class`文件构建。即使在`cleaning`项目之后，我也得到了日期为 24.05（我更改 JDK 的日期）的文件，但我今天编译了它们。注意：所有问题都与 .war 文件有关（可能与 maven-war-plugin 相关，但我不会更改插件的属性，因为它工作正常），因为我还使用 Jetty 作为本地 Web 服务器进行测试，并且在码头一切正常。谢谢，

**编辑：**我注意到当我运行`package`目标时，maven 总是使用不同的 JDK 版本（我在 Eclipse 控制台中看到它）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T07:03:48.097

您是否更改了 maven-compiler-plugin 的编译器版本

```
<plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>2.5.1</version>
        <configuration>
          <verbose>true</verbose>
          <fork>true</fork>
          <executable><!-- path-to-javac --></executable>
          <compilerVersion>1.6032</compilerVersion>
        </configuration>
      </plugin> 
```

# javascript - 查看用户点击图片的次数

> ID：11113101
> 
> 赞同：4
> 
> 时间：2012-06-20T05:03:32.713
> 
> 标签：javascript, jquery

我正在尝试计算用户单击任何图像的次数。这就是我想出的：

```
 var count = 0

   $('document').ready(function() {
        function countClicks() {
            $('img').click(function() {
                count++;
            }
        )};
    )}; 
```

我想知道这是否可行，以及它是否是我解决方案的最佳方法。另外，我以后如何访问“计数”？例如，如果我要输入一个检查“count”是否大于 10 的基本条件，它将是一个单独的函数还是在“countClicks”函数中？谢谢，如果这个问题过于简单，我很抱歉。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T05:08:27.483

您可以使用[`data()`](http://api.jquery.com/data/)存储：

```
$('img')
    .data('counter', 0)
    .click(function() {
        var counter = $(this).data('counter');
        $(this).data('counter', counter + 1);
    }); 
```

**演示：http:** [//jsfiddle.net/elclanrs/QEKMf/](http://jsfiddle.net/elclanrs/QEKMf/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:05:32.540

如果您想检索该值以供以后使用，您应该尝试考虑持久化计数值（在数据库中）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-10-25T06:26:11.853

使用事件侦听器代替 onClick**是一种很好的做法。**这是一个**简单**的方法。JS 小提琴：[https ://jsfiddle.net/xomkq7dv/3/](https://jsfiddle.net/xomkq7dv/3/)

```
document.getElementById ("cat").addEventListener ("click", updateCounter, false);
    var count = 0;
    function updateCounter() {
        count++;  
        document.getElementById("counted").innerHTML = "This has been clicked " + count + " times.";
    } 
```

# python - Python中两个列表列表的有效比较

> ID：11113106
> 
> 赞同：3
> 
> 时间：2012-06-20T05:04:47.863
> 
> 标签：python, list

我是 python 的新手，只是在做我的项目时学习东西，这里我有两个列表列表，我需要比较和分离在 A --> B 中找到的差异和在 b --> A 中找到的差异最好的比较方式。

```
A=[[1L, 'test_case_1'], [1L, 'test_case_2'], [2L, 'test_case_1']]
B=[[1L, 'test_case_1'], [1L, 'test_case_4'], [2L, 'test_case_1'], [2L, 'test_case_3']] 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T05:36:59.513

假设您可以按照我的评论使用*元组*列表，那么对 Junuxx 答案的简单修改会更有效

甲 - 乙：

```
>>> setb = set(B)
>>> [x for x in A if not x in setb]
[(1L, 'test_case_2')] 
```

乙 - 甲：

```
>>> seta = set(A)
>>> [x for x in B if not x in seta]
[(1L, 'test_case_4'), (2L, 'test_case_3')] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T05:09:32.257

您可以通过列表理解轻松完成此操作，

甲 - 乙：

```
>>> [x for x in A if not x in B]
[[1L, 'test_case_2']] 
```

乙 - 甲：

```
>>> [x for x in B if not x in A]
[[1L, 'test_case_4'], [2L, 'test_case_3']] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T05:46:23.007

只需使用[列表理解](http://docs.python.org/tutorial/datastructures.html#list-comprehensions)

**甲 - 乙：**

```
>>>[p for p in A if p not in B]
[[1L, 'test_case_2']] 
```

**乙 - 甲：**

```
>>>[p for p in B if p not in A]
[(1L, 'test_case_4'), (2L, 'test_case_3')] 
```

一个快速的方法：首先可以制作`B`to a `set()`，然后使用**[Generator](http://docs.python.org/tutorial/classes.html#generator-expressions)**

对于**A - B：**

```
>>>B = [(l[0], l[1]) for l in B]
>>>set_b = set(B)
>>>(p for p in A if p not in set_b)
<generator object <genexpr> at 0x00BCBBE8> 
```

# asp.net - 在 SQL 中设置日期时间

> ID：11113107
> 
> 赞同：0
> 
> 时间：2012-06-20T05:04:57.583
> 
> 标签：asp.net, sql, datetime

我想在我的数据库中设置当前时间

我的专栏是“日期时间”格式

我的插入 SQL 如下。

```
// Set last login
DateTime date = DateTime.Now;
string insertSQLDet = "INSERT INTO [dbo].[user] (last_login) VALUES (" + date + ") WHERE user_id=" + user_id; 
```

但我收到一条错误消息，说我在“WHERE”附近有错误。任何人都可以看到有什么问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:08:57.937

我猜！您想更新该`last_login`字段，因此请使用该`UPDATE`语句并始终使用参数。

```
DateTime date = DateTime.Now;
string sql = "UPDATE [dbo].[user] SET last_login=@date WHERE user_id=@userid";
using(SqlCommand cmd=new SqlCommand(sql,conn))
  {
    cmd.Parameters.Add("@date",SqlDbType.DateTime).Value=date;
    cmd.Parameters.Add("@userid",SqlDbType.VarChar,20).Vaule=user_id;
    conn.Open();
    cmd.ExecuteNonQuery();
    conn.Close();
   } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:07:00.873

`INSERT`语句不允许使用谓词，因为您没有选择任何内容。你的意思是发表`UPDATE`声明吗？

```
"UPDATE [dbo].[user] SET last_login = " + date + " WHERE user_id = " + user_id 
```

另外，我强烈建议您[使用参数来提供值](http://msdn.microsoft.com/en-us/library/ms254953.aspx)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T05:19:15.687

您使用的是什么 RDBMS？MSSQL 还是 MySQL？如果要获取服务器的日期时间，则不必传递参数。有一个函数会自动获取服务器的日期时间。

对于 MSSQL 选择 GetDate() 作为 ServerDate 对于 MySQL 选择 TIMESTAMP 作为 ServerDate

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T05:24:21.417

您没有从任何其他表中选择行。您手动给出了为什么在这种情况下不能使用 where 子句的值。

如果您尝试更新，那么以下查询将为您工作，

```
"UPDATE [dbo].[user] SET last_login = " + date + " WHERE user_id = " + user_id 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-20T06:42:10.250

您不需要将 datetime 作为参数传递。您可以在插入语句中的服务器上选择它。还可以使用参数化查询来绑定您的参数。

```
string qry="INSERT INTO [dbo].[user] (last_login) VALUES  ((SELECT CURRENT_TIMESTAMP)) WHERE user_id=@userId" 
```

# java - JVM Internals - 为什么同一段代码在不同的时间运行？

> ID：11113108
> 
> 赞同：1
> 
> 时间：2012-06-20T05:05:01.483
> 
> 标签：java, jvm

我正在尝试了解 JVM 选项并遇到了该选项`CompileThreshold`。我正在运行以下程序：

```
public class Main {    
    public static void main (String [] args) {    
        for (int repeat = 0; repeat < 200; ++ repeat) {    
            long start = System.nanoTime();    
            sum (100);    
            long end = System.nanoTime();    
            long diff = end - start;    
            System.out.println (repeat + ": " + diff);    
        }    
    }    `

    public static int sum (int n) {
        if (n <= 1)
            return 1;
        else
            return n + sum (n - 1);
    }
} 
```

我得到以下输出：

```
0: 8555
1: 6416
2: 6416
3: 5988
4: 6416
5: 8555
6: 5989
7: 6416
8: 6416
9: 5988
10: 5561
11: 5988
12: 5988
13: 5988
14: 5988
15: 5988
16: 5988
17: 5988
18: 5988
19: 6416
20: 5988
21: 5988
22: 5988
23: 5988
24: 5560
25: 6416
26: 5988
27: 5561
28: 5560
29: 5989
30: 5989
31: 5988
32: 21814
33: 6416
34: 6843
35: 6416
36: 6844
37: 6416
38: 6416
39: 6844
40: 6416
41: 6415
42: 6416
43: 5988
44: 6416
45: 6844
46: 6416
47: 6416
48: 6416
49: 6416
50: 6416
51: 6416
52: 5988
53: 6416
54: 6844
55: 6843
56: 6416
57: 6844
58: 6416
59: 6416
60: 6415
61: 6416
62: 6416
63: 6416
64: 5988
65: 5988
66: 6416
67: 6416
68: 6844
69: 6416
70: 6416
71: 6416
72: 6416
73: 6416
74: 6415
75: 6416
76: 6416
77: 6416
78: 6416
79: 6415
80: 6844
81: 5988
82: 6415
83: 6416
84: 6416
85: 6416
86: 6416
87: 6416
88: 7272
89: 6416
90: 6416
91: 6844
92: 6844
93: 6415
94: 6416
95: 6415
96: 6415
97: 6416
98: 6416
99: 25236
100: 6416
101: 6416
102: 6843
103: 6416
104: 5988
105: 6416
106: 6415
107: 6416
108: 6416
109: 6416
110: 6416
111: 6416
112: 6416
113: 6844
114: 6416
115: 6416
116: 6416
117: 5988
118: 6416
119: 6416
120: 6416
121: 6415
122: 6416
123: 6415
124: 6416
125: 6416
126: 6416
127: 6416
128: 5988
129: 5988
130: 6416
131: 6416
132: 5988
133: 5988
134: 6416
135: 6416
136: 5989
137: 6416
138: 6416
139: 5988
140: 5988
141: 6416
142: 5560
143: 5988
144: 6416
145: 6843
146: 6415
147: 6416
148: 6843
149: 11549
150: 6416
151: 6844
152: 6416
153: 6415
154: 6416
155: 5988
156: 5988
157: 6416
158: 6416
159: 6416
160: 6416
161: 6415
162: 6416
163: 6416
164: 6416
165: 6416
166: 5988
167: 5988
168: 5988
169: 6416
170: 6416
171: 6416
172: 5988
173: 5988
174: 6844
175: 5988
176: 6416
177: 6416
178: 6844
179: 6416
180: 6415
181: 6416
182: 5988
183: 5989
184: 6416
185: 6416
186: 6416
187: 6416
188: 5989
189: 5560
190: 5988
191: 6416
192: 6415
193: 6416
194: 18820
195: 1711
196: 1284
197: 2139
198: 1711
199: 1711 
```

如果您观察到，在 32、99、149、194 处会出现峰值。

194之后，跑起来的时间比较少。请解释这种行为。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:11:41.363

最初的峰值是 JIT 开始决定编译代码，其余的是 GC 运行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:19:58.077

JVM re-JITs 方法中最可能的 HotSpot 在 194 次运行后导致加速的许多调用：http: [//java.sun.com/docs/books/performance/1st_edition/html/JPAppHotspot.fm.html](http://java.sun.com/docs/books/performance/1st_edition/html/JPAppHotspot.fm.html)

> B.5.3 编译阈值
> 
> 默认值：1500
> 
> 示例用法：java -XX:CompileThreshold=1000000
> 
> HotSpot 的当前实现通常在编译之前等待一个方法执行一定次数。不编译每种方法有助于缩短启动时间并减少 RAM 占用。此选项允许您控制该阈值。通过增加数量，您可以用 RAM 占用量的轻微减少换取更长的时间，然后您的程序才能达到峰值性能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:26:35.283

恕我直言，这个问题是不完整的，除非您提到在后台/前台运行的其他进程的活动，即在不了解整个系统负载的情况下，很难*预测*这些时间的原因。运行此类基准测试时，请确保您捕获/监控整个系统负载，或者至少确保*没有*后台活动正在运行，即病毒扫描等。另外，您会错过其他可能重要的信息，例如 JVM 版本、平台和核心数。

是否有可能确认相同并重新发布您的结果？

# powershell - PowerShell 1.0 中的“grep”

> ID：11113113
> 
> 赞同：5
> 
> 时间：2012-06-20T05:05:27.110
> 
> 标签：powershell, grep

我想在文件中的任何位置找到包含单词“navbar”的文件。我可以使用 Mac 的 grep 命令来做到这一点，如下所示：

```
grep -R "navbar" * 
```

它在 PowerShell 1.0 中的等价物是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-20T05:10:16.887

```
findstr /s "navbar" * 
```

这是一个本机命令，但应该工作得很好。

我认为PowerShell 1.0 本身有点棘手，因为`Select-String`（直接等效）只存在于 2.0 之后。因此，您必须使用以下方法：

```
Get-ChildItem -Recurse |
  ForEach-Object {
    $file = $_
    ($_ | Get-Content) -cmatch 'navbar' |
      ForEach-Object { $file.Name + ':' + $_ }
  } 
```

简洁版本：

```
ls -r|%{$f=$_;($_|gc)-cmatch'navbar'|%{$f.Name+":$_"}} 
```

这是字面上的意思：

1.  递归查找所有文件（`-R`部分）。
2.  读取每个文件并使用文件名打印匹配的行。

# javascript - 用外部页面替换innerhtml

> ID：11113119
> 
> 赞同：3
> 
> 时间：2012-06-20T05:06:29.517
> 
> 标签：javascript, innerhtml

我有一个页面，其中包含一个用于导航的标题 div、一个用于内容的内容 div 和一个仅包含一些静态信息的页脚 div。

这个想法是，当您单击标题栏中的某些内容时，内容 div 会相应地更改其内容。为了便于开发，我想将每个内容元素存储在自己的文件中。我该如何填写`magicLoad`我在下面写的这个函数？

我目前没有使用任何框架（想到 jquery），但我肯定不反对使用一个。如果我在这里违反了其他最佳实践，我也很想知道，但我的主要目标是从外部页面加载。我怎样才能做到这一点？

这是我现在设置的基本骨架模型。（当然不止这 3 个，但这些足以说明这一点。）

```
<html>
    <script type="text/javascript">
    function show(which) {
        document.getElementById(which).innerHtml = magicLoad(which + ".html");
        return false;
    }       
    function showHome() { show('home'); return false;} // for onload

    </script>
    <body>
    <div id="header">
        <a href="javascript:void(0)" onclick="show('home')">HOME</a> |
        <a href="javascript:void(0)" onclick="show('training')">TRAINING</a> |
        <a href="javascript:void(0)" onclick="show('audits')">AUDITS</a>
    </div>
    <div id="content">

    </div>
    <div id="footer">

    </div>
    </body>
    <script> window.onload=showHome; </script>
</html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T05:22:05.793

使用以下，简单直接

```
$('#which').load('test.html'); 
```

if which 作为参数

```
$('#'+which).load('test.html'); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T05:08:38.893

如果你想在一个网页中嵌入另一个网页，你应该考虑使用`<iframe>`. 就像是：

```
<script type="text/javascript">
function show(which) {
    document.getElementById(which).src=which+".html";
    return false;
}       
function showHome() { show('home'); return false;} // for onload

</script>
<iframe id="home"></iframe> 
```

# javascript - 有没有更短的方法来编写这个 Jquery 代码？

> ID：11113123
> 
> 赞同：1
> 
> 时间：2012-06-20T05:07:00.267
> 
> 标签：javascript, jquery

如果我需要预先选择具有特定值的下拉选项，我可以使用这个：

```
$('select option[value="123"]').attr('selected', 'selected'); 
```

但是如果我需要根据它包含的文本预先选择一个选项，我需要执行所有这些操作：

```
 $('select option').each(function() {
            var $this = $(this);
            if($this.text() == 'My Text') {
                $this.attr('selected', 'selected');
            }
        }); 
```

有没有办法做到这一点，而不像第一种方式那样循环遍历所有选项标签，而是基于文本而不是值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:08:55.067

查看`:contains()`选择器。

[http://api.jquery.com/contains-selector/](http://api.jquery.com/contains-selector/)

```
$('select option:contains("My Text")').prop('selected', true); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:09:16.563

使用[:contains](http://api.jquery.com/contains-selector/)选择器。例如：

```
$('select option:contains("My Text")').attr('selected', 'selected'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:12:55.903

我会使用`filter()`我认为比`:contains`选择器更快的方法：

```
$('select option')
  .filter(function(){ return $(this).text() === 'my text' })
  .prop('selected', true) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T05:16:50.000

搁置`:contains`一旁

```
$('select option').each(function() {
    this.selected = this.text == 'lol2'
}); 
```

# ruby-on-rails-3 - 任何人都知道rails 3.2的良好私人消息宝石吗？

> ID：11113132
> 
> 赞同：5
> 
> 时间：2012-06-20T05:07:35.907
> 
> 标签：ruby-on-rails-3, ruby-on-rails-plugins

我花了一天又一天的时间来弄清楚如何通过设计在注册会员之间建立良好的消息传递系统。

但在所有情况下，这些 gem 都已过时并且它们不支持 rails3。

如果你们正在尝试制作包含这些功能的系统。你怎么做？

1.  会员注册（设计）
2.  私人消息系统（带有行动邮件程序）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T06:02:49.237

[https://github.com/ging/mailboxer](https://github.com/ging/mailboxer)？

/config/initializer/mailboxer.rb ：

```
Mailboxer.setup do |config|
  config.uses_emails = true  
  config.default_from = "no-reply@youraddress.com"
end 
```

最小模型

```
class User < ActiveRecord::Base
  devise :database_authenticatable, :registerable,
         :recoverable, :rememberable, :trackable, :validatable

  acts_as_messageable

  attr_accessible :email, :password, :password_confirmation, :remember_me

  def name
    email
  end

  def mailboxer_email(object)
    email
  end  
end 
```

当然还有标准的邮件配置。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T05:14:43.233

为什么要尝试使用 ActionMailer？您是否在应用程序内发送电子邮件或消息？如果您只是在应用程序中进行私人消息传递，您应该能够创建一个`PrivateMessage`类：

```
class PrivateMessage
  has_one :sender, :class => 'User'
  has_one :recipient, :class => 'User'
end 
```

# python - 从系统读取 Excel 文件时出错？

> ID：11113138
> 
> 赞同：-3
> 
> 时间：2012-06-20T05:08:12.243
> 
> 标签：python

```
 import xlrd
 book = xlrd.open_workbook("File_1.xls")
 sheet = book.sheet_by_index(0)
 print sheet.row_values(0)[0] 
```

我正在尝试读取存储在系统（桌面）中的 excel 文件，相关的 excel 表只有一张表，当我运行代码时它给出了一个错误：-

```
 Traceback (most recent call last):
 File "C:/Python26/readingExlfiles.py", line 2, in <module>
 book = xlrd.open_workbook("File_1.xls")
 File "C:\Python26\Lib\site-packages\xlrd\__init__.py", line 449, in open_workbook
 ragged_rows=ragged_rows,
 File "C:\Python26\Lib\site-packages\xlrd\__init__.py", line 941, in biff2_8_load
   f = open(filename, open_mode)
 IOError: [Errno 2] No such file or directory: 'File_1.xls' 
```

请帮助我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T05:19:52.713

```
No such file or directory: 'File_1.xls' 
```

它*告诉*你问题是什么。它找不到文件。

您只指定文件名，因此您的程序将在当前工作目录中查找该文件。通常这是您的 Python 脚本所在的目录。

尝试指定文件的完整路径，或者将 Python 脚本放在与您正在打开的文件相同的目录中。

# c#-4.0 - 首先将 OnPropertyChanged 与实体框架代码一起使用

> ID：11113139
> 
> 赞同：1
> 
> 时间：2012-06-20T05:08:16.203
> 
> 标签：c#-4.0, entity-framework-4.1

我首先使用 C# 2010 实体框架代码如果我有这样的类

```
partial class test    
{
        public double value1;
        public double value2;
        public double value3;
        public double totals;
} 
```

由代码生成的

我如何创建部分类来计算总计

```
partial class test    
{
        public double totals { get  { return value1 + value2 + value3; }    } 
```

1 - 您知道更改生成的类是不切实际的。2 - 无法部分定义属性总计。3 - 并且使用元数据类在保存更改之前不会更新总数。

如果有人可以定义我如何实现 OnpropertyChanged 并用于解决此问题，我将不胜感激

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:32:26.270

您在第二类中的属性缺少“get”关键字：

```
partial class test    
{
        public double totals {  
            get { return value1 + value2 + value3; }
        }
} 
```

或者，您可以定义一个 Total() 方法。

据我从您的问题（“我如何创建部分类来计算总计”）中得知，您不需要使用 OnPropertyChanged，因为总计属性/方法每次都会使用总计中的新值运行计算。您可以从原始类中删除该字段，因为它是一个计算并且实际上不应该存储。

如果您必须实际更新数据库中的总值，则可以按照您的建议使用 OnPropertyChanged 部分方法。您需要使用属性来调用新方法：

```
partial class test
{
    public double Value1
    {
        get { return value1; }
        set
        {
            value1 = value;
            Onvalue1Changed(value);
        }
    }

    partial void Onvalue1Changed(double value)
    {
        UpdateTotals();
    }

    private void UpdateTotals()
    {
        totals = value1 + value2 + value3;
    }
} 
```

您应该将原始字段设为私有，并且仅通过该属性提供公共访问。这不仅是更好的代码设计，而且还允许您实现所需的功能。

当然，您可以遵循其他模式，但这应该可以帮助您入门。

# mysql - 当slave在master后面运行时插入重复条目？

> ID：11113140
> 
> 赞同：0
> 
> 时间：2012-06-20T05:08:27.267
> 
> 标签：mysql

我每天都有一个 MySQL/Slave 设置，我们在从机上执行查询以进行审计。该数据库上的表有超过 5000 万行。如果我在 slave 上执行这些查询，则 slave 正在 master 后面运行。此时如果在 Master DB 中执行插入查询。此插入查询在从属数据库上执行多次。示例场景：每次用户登录时，我们都会插入他们的详细信息以供审核。看下面的数据，它将在表上多次插入。用户无法在同一秒内多次登录。为什么会发生，我该如何解决？

```
| Kannan | 2012-04-28 12:27:57           | 
| Kannan | 2012-04-28 12:27:57           | 
| Kannan | 2012-04-28 12:27:57           | 
| Kannan | 2012-04-28 12:27:57           | 
| Kannan | 2012-04-28 12:27:57 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T07:44:14.203

如果你需要实时数据，你真的需要从master中选择。在主/从环境中插入/选择通常不是一个好主意。如果您使用基于语句的复制，则 SELECT 也需要在从属服务器上运行。如果 SELECT 需要 10 秒才能运行，那么您的从站将落后 10 秒。

插入通常非常非常快。由于所需的准备时间，SELECT 大大减慢了 INSERT。在大多数情况下，MySQL 一次复制 1 条语句。在该语句完成之前，复制到从站将落后。

虽然违反直觉，但通常最好选择数据，创建 INSERT 语句（即在应用层），然后运行 ​​INSERT。

# jquery - Jquery 你什么时候使用 $.get(index) 而不是普通的选择器

> ID：11113144
> 
> 赞同：0
> 
> 时间：2012-06-20T05:08:41.623
> 
> 标签：jquery

只是想知道你什么时候真正使用 $.get(index); 当您可以通过获取 id 或类名直接获取任何元素时，我对何时何地使用 $.get(index) 感到有点困惑？

（注意我不是在谈论 $.get() ajax 调用）对不起，我让你们的一些人感到困惑

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T05:12:19.950

正如文档所述，[.get()](http://api.jquery.com/get/)检索 DOM 对象，而不是 jQuery 对象。因此，如果您需要本机 DOM 对象，您将使用 .get()。

为什么需要原生 DOM 元素？例如，您可能希望在 HTML5 视频上访问 .play() 之类的方法。

`$('#myvideo').play()`行不通。`$('#myvideo').get(0).play()`将。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:16:54.123

假设您有一个没有 id 或类但想要定位中间列表项的列表：

```
<ul>
  <li>One</li>
  <li>Two</li>
  <li>Three</li>
</ul> 
```

然后你可以使用：

```
$('li').get(1) 
```

检索列表项二（索引从零开始）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:11:39.780

jQuery 中的 $.get 函数用于进行 Ajax 调用，而不是选择元素。请在 jQuery 文档中查看：http: [//api.jquery.com/jQuery.get/](http://api.jquery.com/jQuery.get/)

# c# - 无法通过链接服务器访问数据库

> ID：11113146
> 
> 赞同：3
> 
> 时间：2012-06-20T05:08:47.390
> 
> 标签：c#, exception-handling, ado.net, linked-server, sqlbulkcopy

我正在使用 SqlBulkCopy 功能将批量数据存储到 Sql 数据库中。

例如：bulkCopy.DestinationTableName = "employeetable"。这段代码工作正常。但在一个场景中，我无法通过连接字符串直接访问目标数据库。链接服务器仅提供给目标数据库。当我尝试通过链接服务器连接目标数据库时（下面的代码）

例如：

```
using (SqlBulkCopy bulkCopy = new SqlBulkCopy(destcon, SqlBulkCopyOptions.Default, sqltran))
{
    bulkCopy.DestinationTableName = "LinkedSeverName.database.dbo." + employeetable;  
    bulkCopy.WriteToServer(dt);
} 
```

我收到以下错误，

> 无法访问目标表“LinkedSeverName.database.dbo.employeetable”。---> System.Data.SqlClient.SqlException：无法在 sysdatabases 中找到数据库“XXX”的条目。未找到具有该名称的条目。确保名称输入正确

有没有其他方法可以克服这个错误并完成任务。非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:18:48.840

您可以查看的一件事是，四部分名称区分大小写。确保您指定正确的大小写。

# facebook-fql - Facebook FQL does not find photo privacy for photos on wall album

> ID：11113152
> 
> 赞同：0
> 
> 时间：2012-06-20T05:09:17.903
> 
> 标签：facebook-fql

I am trying to get the privacy values (from privacy table) for photos that are on the Wall Album. For photos on a Wall album, the privacy can be set independently for each photo (which is not the case for other albums).

The following query returns empty for all wall photos:

```
select id, value from privacy where id=<photo_id_here> 
```

Does anyone else have this problem? I have been granted all permissions before trying this query on Graph API Explorer.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-23T15:09:03.440

hope you follow your post..

use the object_id instead of pid and id. its done

# java - 嵌套JPanel中的背景图像？

> ID：11113159
> 
> 赞同：1
> 
> 时间：2012-06-20T05:09:41.977
> 
> 标签：java, swing, jpanel, background-image

我有一个 JPanel，其中包含另外 2 个 JPanel。位于左侧（leftBox）和右侧（rB），我想在右侧JPanel（rB）上添加背景图像。

但我得到的结果是

> [http://i.imgur.com/tHz1x.jpg](http://i.imgur.com/tHz1x.jpg)

我想要的结果

> [http://i.imgur.com/xHbpx.jpg](http://i.imgur.com/xHbpx.jpg)

```
public void paintComponent(Graphics g)
{
    //this.paintComponent(g);
    if(wdimage != null) g.drawImage(wdimage,0,0,800,800,rB); //(image,location x, location y, size x, size y)

} 
```

rB 面板阻止了图像，我想要在 JPanel 上显示图像，稍后在 JPanel 和图像顶部添加一些 jlabels 和文本字段。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T05:45:31.493

![背景图像输出](../Images/be3015de18ac9a52998505a28b1d26ff.png)

在这里它出现没有任何问题，看看：

```
import java.awt.*;
import java.awt.image.BufferedImage;
import java.net.URL;
import javax.imageio.ImageIO;
import javax.swing.*;

public class PanelExample
{
    private void createAndDisplayGUI()
    {
        JFrame frame = new JFrame("Panel Example");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        JPanel contentPane = new JPanel();
        contentPane.setOpaque(true);
        contentPane.setBorder(
                    BorderFactory.createMatteBorder(
                                    5, 5, 5, 5, Color.WHITE));
        contentPane.setBackground(Color.WHITE);
        contentPane.setLayout(new BorderLayout(10, 10));

        ImagePanel imagePanel = new ImagePanel();
        //imagePanel.createGUI();
        BlankPanel blankPanel = new BlankPanel();

        contentPane.add(blankPanel, BorderLayout.LINE_START);
        contentPane.add(imagePanel, BorderLayout.CENTER);
        frame.setContentPane(contentPane);
        frame.pack();
        frame.setLocationByPlatform(true);
        frame.setVisible(true);
    }

    public static void main(String... args)
    {
        SwingUtilities.invokeLater(new Runnable()
        {
            public void run()
            {
                new PanelExample().createAndDisplayGUI();
            }
        });
    }
}

class ImagePanel extends JPanel
{
    private BufferedImage image;

    public ImagePanel()
    {
        setOpaque(true);
        setBorder(BorderFactory.createLineBorder(Color.BLACK, 5));
        try
        {
            image = ImageIO.read(new URL("http://gagandeepbali.uk.to/gaganisonline/images/background.jpg"));
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }
        createGUI();
    }

    public void createGUI()
    {
        setLayout(new GridBagLayout());
        JPanel loginPanel = new JPanel();
        loginPanel.setOpaque(false);
        loginPanel.setLayout(new GridLayout(2, 2, 2, 2));
        JLabel userLabel = new JLabel("USERNAME : ");
        userLabel.setForeground(Color.WHITE);
        JTextField userField = new JTextField(10);
        JLabel passLabel = new JLabel("PASSWORD : ");
        passLabel.setForeground(Color.WHITE);
        JPasswordField passField = new JPasswordField(10);

        loginPanel.add(userLabel);
        loginPanel.add(userField);
        loginPanel.add(passLabel);
        loginPanel.add(passField);

        add(loginPanel);
        System.out.println("I am finished");
    }

    @Override
    public Dimension getPreferredSize()
    {
        return (new Dimension(300, 300));
    }

    public void paintComponent(Graphics g)
    {
        super.paintComponent(g);
        g.drawImage(image, 0, 0, this);
    }
}

class BlankPanel extends JPanel
{
    public BlankPanel()
    {
        setOpaque(true);
        setBorder(BorderFactory.createLineBorder(Color.BLACK, 5));
        setBackground(Color.WHITE);
    }

    @Override
    public Dimension getPreferredSize()
    {
        return (new Dimension(100, 300));
    }
} 
```

# xslt-2.0 - 使用 XSLT 基于属性值的平面到嵌套结构

> ID：11113161
> 
> 赞同：5
> 
> 时间：2012-06-20T05:09:43.027
> 
> 标签：xslt-2.0

***我有一个平面结构的 XML 文件，如下所示：***

```
<rs>
    <r id="r1" lev="0"/>
    <r id="r2" lev="1"/>
    <r id="r3" lev="0"/>
    <r id="r4" lev="1"/>
    <r id="r5" lev="2"/>
    <r id="r6" lev="3"/>
    <r id="r7" lev="0"/>
    <r id="r8" lev="1"/>
    <r id="r9" lev="2"/>
</rs> 
```

***我需要将其转换为嵌套的。规则是东西，都`r[number(@lev) gt 0]`应该嵌套在`r[number(@lev) eq 0]`. 输出将是这样的：***

```
<rs>
    <r id="r1">
        <r id="r2"/>
    </r>
    <r id="r3">
        <r id="r4">
            <r id="r5">
                <r id="r6"/>
            </r>
        </r>
    </r>
    <r id="r7">
        <r id="r8">
            <r id="r9"/>
        </r>
    </r>
</rs> 
```

***我尝试过的是以下转换：***

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    exclude-result-prefixes="xs"
    version="2.0">

    <xsl:output indent="yes"/>

    <xsl:template match="/">
        <rs>
            <xsl:apply-templates select="node()|@*"/>
        </rs>
    </xsl:template>

    <xsl:template match="r">
        <xsl:variable name="lev" select="number(@lev)" as="xs:double"/>
        <r>
            <xsl:copy-of select="@id"/>
            <xsl:apply-templates select="following-sibling::r[not(number(@lev) eq $lev)
                                         and 
                                         count(preceding-sibling::r[number(@lev) eq $lev]) eq 1]"/>
        </r>
    </xsl:template>

</xsl:stylesheet> 
```

*但是，这并没有给我想要的结果。非常感谢指出我的编码错误或任何其他完成工作的方法。*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T05:32:36.040

**这种转变**：

```
<xsl:stylesheet version="1.0"
 xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>

 <xsl:key name="kRByLevelAndParent" match="r"
  use="concat(generate-id(preceding-sibling::r
                            [not(@lev >= current()/@lev)][1]),
                          @lev
                          )"/>

 <xsl:template match="/*">
  <rs>
    <xsl:apply-templates select="key('kRByLevelAndParent', '0')"/>
  </rs>
 </xsl:template>

 <xsl:template match="r">
  <r id="{@id}">
    <xsl:apply-templates select=
    "key('kRByLevelAndParent',
         concat(generate-id(), @lev+1)
         )"/>
  </r>
 </xsl:template>
</xsl:stylesheet> 
```

**应用于提供的 XML 文档时：**

```
<rs>
    <r id="r1" lev="0"/>
    <r id="r2" lev="1"/>
    <r id="r3" lev="0"/>
    <r id="r4" lev="1"/>
    <r id="r5" lev="2"/>
    <r id="r6" lev="3"/>
    <r id="r7" lev="0"/>
    <r id="r8" lev="1"/>
    <r id="r9" lev="2"/>
</rs> 
```

**产生想要的正确结果：**

```
<rs>
   <r id="r1">
      <r id="r2"/>
   </r>
   <r id="r3">
      <r id="r4">
         <r id="r5">
            <r id="r6"/>
         </r>
      </r>
   </r>
   <r id="r7">
      <r id="r8">
         <r id="r9"/>
      </r>
   </r>
</rs> 
```

**说明**：

使用复合键的位置分组——对于它的所有“子元素”，一个元素是第一个在前的兄弟元素，因此它的`lev`属性小于它们各自的`lev`属性。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T08:10:14.833

除非另有要求，否则 Dimitre 倾向于使用 XSLT 1.0 回答问题。这可能是一个正确的猜测，但我认为值得指出的是，XSLT 2.0 现在已经被广泛使用和使用，并且 XSLT 2.0 中用于分组问题的代码要简单得多（它可能并不总是短得多，但它是更具可读性）。与 Dimitre 不同，我没有时间也没有意愿为每个问题提供完整且经过测试的完美解决方案，但如果您想查看该问题的 XSLT 2.0 解决方案，我几年前在这里写的一篇论文中有一篇：

[http://www.saxonica.com/papers/ideadb-1.1/mhk-paper.xml](http://www.saxonica.com/papers/ideadb-1.1/mhk-paper.xml)

搜索递归模板名称="process-level"。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T10:24:22.270

由于我需要在临时变量中应用转换，因此使用`xsl:key`无济于事。如果我必须使用***Dimitre 的解决方案***，我必须更改我现有的代码。

显然，我的问题是我没有在这方面描述太多，这是我的错误。

从***Dr. Kay***`//programlisting[contains(.,'xsl:template name="process-level"')]`提供的链接中，我已经得出了解决方案，以后可能会有其他人使用它：

 ***样式表**

```
<xsl:stylesheet version="2.0" 
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    exclude-result-prefixes="xs">
    <xsl:output indent="yes"/>

    <xsl:template match="/*">
        <rs>
            <xsl:call-template name="process-level">
                <xsl:with-param name="context" 
                    select="r"/>
                <xsl:with-param name="level" 
                    select="0"/>
            </xsl:call-template>
        </rs>
    </xsl:template>

    <xsl:template name="process-level">
        <xsl:param name="context" required="yes" as="element()*"/>
        <xsl:param name="level" as="xs:double"/>
        <xsl:for-each-group select="$context"
            group-starting-with="*[number(@lev) eq $level]">
            <xsl:element name="{name()}">
                <!--<xsl:variable name="position" as="xs:double">
                    <xsl:number level="any" count="*[starts-with(local-name(), 'r')]"/>
                </xsl:variable>-->
                <xsl:copy-of select="@id"/>
                <xsl:call-template name="process-level">
                    <xsl:with-param name="context" select="current-group()[position() != 1]"/>
                    <xsl:with-param name="level" select="$level + 1"/>
                </xsl:call-template>
            </xsl:element>
        </xsl:for-each-group>
    </xsl:template>

</xsl:stylesheet> 
```

**输入 XML**

```
<rs>
    <r id="r1" lev="0"/>
    <r id="r2" lev="1"/>
    <r id="r3" lev="0"/>
    <r id="r4" lev="1"/>
    <r id="r5" lev="2"/>
    <r id="r6" lev="3"/>
    <r id="r7" lev="0"/>
    <r id="r8" lev="1"/>
    <r id="r9" lev="2"/>
</rs> 
```

**结果**

```
<rs>
   <r id="r1">
      <r id="r2"/>
   </r>
   <r id="r3">
      <r id="r4">
         <r id="r5">
            <r id="r6"/>
         </r>
      </r>
   </r>
   <r id="r7">
      <r id="r8">
         <r id="r9"/>
      </r>
   </r>
</rs> 
```*

# ios - 在本地存储数据还是仅在移动设备上使用 ajax？- 加速器

> ID：11113165
> 
> 赞同：0
> 
> 时间：2012-06-20T05:10:17.847
> 
> 标签：ios, database, mobile, titanium, local-storage

目前，我正在构建一些移动应用程序（目前在 iOS 上，但后来在 Android 上），它们通过 Ruby on Rails 应用程序中的 ajax 调用（返回 JSON）检索信息。这显然也适用于使用其他源返回 JSON 数据的其他应用程序。

主要问题是何时存储数据以及何时仅使用 ajax 调用来检索数据。目前，我的应用程序不会在本地存储任何东西，而是需要对所有数据进行 ajax 调用。我认为对于这个例子，我们可以使用 Twitter 移动应用程序，这是一个很多人都熟悉的应用程序，并且有很多功能，我想知道他们是如何做到的（逻辑上比技术上更重要）。

问题：

**1)**当您登录时，您首先看到的是您的信息流中所有项目的列表。该列表可离线使用。这是否意味着当您最初登录时，Twitter 已经将您最后的所有 X（100 个？）流项目提取到本地数据库中，然后未来的视图只是从那里提取它？

**2）**如果您随后将手机置于飞行模式（或只是关闭移动数据）并单击其中一条推文，则会打开包含所有这些数据的推文页面。所以现在，看起来他们并没有在您每次访问推文页面时单独提取这些信息（这是我的应用程序当前所做的，需要一些时间来加载该数据并创建视图）。他们可能只是使用他们在创建流项目时提取的相同信息，这是否有意义？

**3)**用户。更好的做法是（例如在查看用户“个人资料”页面时）在本地存储用户数据，然后在未来访问时刷新，还是每次都通过 ajax 提取所有数据？理论上每个都需要一个ajax调用......

我认为这些是我现在的主要问题。如果有人对这些事情（或对移动存储的任何其他见解）有任何想法，那就太好了！如果有人需要我引用的任何内容的屏幕截图，请告诉我，我很乐意为您获取。

目前使用：

Titanium Appcelerator for iOS
Ruby on Rails 用于后端和远程存储

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T13:50:43.893

好的，首先本地存储和设备缓存之间存在差异。

手机会缓存大量数据，这样就不必每次都用完您的数据计划。当您在 safari 上打开页面时，它的想法相同，转到主屏幕并返回 safari，它仍然存在。这不是本地保存的，它只是被 IOS 缓存了。

当您应该使用本地存储时，数据永远不会改变，以 twitter 为例，在第一次启动时，它会下载您当前的活动，如果其中一个包含链接，那么它将生成一个新请求，如果您有关掉蜂窝数据还是可以点击链接，这不是因为推特已经在本地存储了，而是因为IOS暂时缓存了它，以避免多次下载。twitter 可以很好地在本地存储你们中的一些活动，但至少从我所见，它从最近开始存储它们的最大限制，它会经常下载其余的活动。

一般来说，如果数据基于网络，则可以使用 ajax 调用，这是大多数人所做的，本地存储是指仅在设备上创建/查看数据（如记笔记的应用程序）。如果您希望提供本地存储，以便某人可以离线查看那里的活动，那很好，但这不是必需的功能。

如果用户经常一遍又一遍地请求相同的数据并且它不会经常更改，大多数人只会开始考虑这一点，那么您将需要开发一个最后修改的系统，在那里您发送一个 ajax 调用以查看是否有任何新内容，如果不是从本地读取。如果数据是动态的并且经常更改，请坚持使用 ajax 调用

# gwt - 如何以与其他元素相同的方式滚动弹出窗口？

> ID：11113166
> 
> 赞同：0
> 
> 时间：2012-06-20T05:10:17.997
> 
> 标签：gwt, popup, scroll

我无法解决我的问题。例如，我的网站：www.mananaseguro.com。在主页中，我在电影海报下方出现了一些弹出窗口（当鼠标悬停在海报上时）。但是当我向上滚动（例如）时，弹出窗口不会出现在海报下方。他们是他们之间的空间。我试图将弹出窗口添加到主页面板，但没有成功。

那么是否可以模拟良好的弹出行为？（弹出窗口必须留在海报下方）。或者更准确地说，是否可以将 DecoratedPopupPanel 附加到页面内的另一个面板，以使弹出窗口以与其他元素相同的方式滚动？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T12:26:26.457

尝试使用[PopupPanel#showRelativeTo()](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/user/client/ui/PopupPanel.html#showRelativeTo%28com.google.gwt.user.client.ui.UIObject%29)方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:30:06.137

您可以使用以下属性实现良好的弹出行为。

```
popup.setPopupPosition(left, top) 
```

在顶部和左侧传递电影图像 x 和 y 索引位置。并做出一致的外观和填充。

# google-app-engine - developer.google.com 上的 GWT 教程出错

> ID：11113169
> 
> 赞同：1
> 
> 时间：2012-06-20T05:10:53.383
> 
> 标签：google-app-engine, gwt, dev-mode

我试图运行这里给出的逐字示例[https://developers.google.com/web-toolkit/doc/latest/tutorial/appengine](https://developers.google.com/web-toolkit/doc/latest/tutorial/appengine)

这部分处理将 gwt 项目转换为应用程序引擎项目并进行部署。在我使用 ant devmode 进行本地测试时，在完成设置项目标题中的所有步骤后，我收到以下错误 ERROR shell failed in doStartUpServer 方法。

在终端中我得到了这些错误。

开发模式：

```
 [java] Unable to start embedded HTTP server
     [java] java.lang.RuntimeException: Unable to locate the App Engine agent. Please use dev_appserver, KickStart,  or set the jvm flag: "-javaagent:<sdk_root>/lib/agent/appengine-agent.jar"
     [java]     at com.google.appengine.tools.development.DevAppServerFactory.testAgentIsInstalled(DevAppServerFactory.java:171)
     [java]     at com.google.appengine.tools.development.DevAppServerFactory.createDevAppServer(DevAppServerFactory.java:142)
     [java]     at com.google.appengine.tools.development.DevAppServerFactory.createDevAppServer(DevAppServerFactory.java:78)
     [java]     at com.google.appengine.tools.development.DevAppServerFactory.createDevAppServer(DevAppServerFactory.java:52)
     [java]     at com.google.appengine.tools.development.gwt.AppEngineLauncher.start(AppEngineLauncher.java:84)
     [java]     at com.google.gwt.dev.DevMode.doStartUpServer(DevMode.java:509)
     [java]     at com.google.gwt.dev.DevModeBase.startUp(DevModeBase.java:1068)
     [java]     at com.google.gwt.dev.DevModeBase.run(DevModeBase.java:811)
     [java]     at com.google.gwt.dev.DevMode.main(DevMode.java:311)
     [java] Caused by: java.lang.NoClassDefFoundError: com/google/appengine/tools/development/agent/AppEngineDevAgent
     [java]     at com.google.appengine.tools.development.DevAppServerFactory.testAgentIsInstalled(DevAppServerFactory.java:167)
     [java]     ... 8 more
     [java] Caused by: java.lang.ClassNotFoundException: com.google.appengine.tools.development.agent.AppEngineDevAgent
     [java]     at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
     [java]     at java.security.AccessController.doPrivileged(Native Method)
     [java]     at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
     [java]     at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
     [java]     at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
     [java]     at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
     [java]     ... 9 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T08:57:53.677

幸运的是，我能够解决这个问题。我将 appengine-agent.jar 和 appengine-agentimpl.jar 手动复制到 WEB-INF/lib 目录中。不知何故，ant devmode 无法将这些 jar 复制到 lib 文件夹中。不知道为什么会有这种行为。

:)

# iphone - 如何将多个标签添加到图像视图中？

> ID：11113170
> 
> 赞同：1
> 
> 时间：2012-06-20T05:10:55.373
> 
> 标签：iphone, ios5, xcode4.3

我是这个 iphone 开发的新手。我现在遇到了一个问题。在我的应用程序中，我需要显示多个标签的封面流。因此，我添加了一个图像作为视图的子视图，然后将标签添加为图像视图的子视图。前 7 个元素的一切工作正常但是当我滚动它时，它再次显示相同的元素，我正在使用 [https://github.com/nicklockwood/iCarousel](https://github.com/nicklockwood/iCarousel) 这个来实现覆盖流

```
 - (UIView *)carousel:(iCarousel *)carousel viewForItemAtIndex:(NSUInteger)index    reusingView:(ReflectionView *)view
{

UIImageView *imageView =nil;
UILabel *yourLabel=nil;
UILabel *yourLabel1=nil;
UILabel *yourLabel2=nil;
cardAvailableDataObject *singleCard=[self.cards objectAtIndex:index];

if (view == nil)
{
    //set up reflection view
    view = [[[ReflectionView alloc] initWithFrame:CGRectMake(0,0,200,self.view.frame.size.width/1.42)] autorelease];
    imageView = [ [ UIImageView alloc ] initWithFrame:CGRectMake(0,0,200,self.view.frame.size.width/1.42)];
    [view addSubview:imageView];

    yourLabel = [[UILabel alloc] initWithFrame:CGRectMake(0, -5, 200, 50)];
    yourLabel.textAlignment = UITextAlignmentCenter;

    [yourLabel setTextColor:[UIColor colorWithRed:(38/255.f) green:(171/255.f) blue:(226/255.f) alpha:1.0f]];  
    [yourLabel setBackgroundColor:[UIColor clearColor]];
    [yourLabel setFont:[UIFont fontWithName: @"Trebuchet MS" size: 17.0f]]; 
    [imageView addSubview:yourLabel];

    yourLabel1 = [[UILabel alloc] initWithFrame:CGRectMake(90, 40, 300, 20)];

    [yourLabel1 setTextColor:[UIColor blackColor]];
    [yourLabel1 setBackgroundColor:[UIColor clearColor]];
    [yourLabel1 setFont:[UIFont fontWithName: @"Trebuchet MS" size: 12.0f]]; 
    [imageView addSubview:yourLabel1];

    yourLabel2 = [[UILabel alloc] initWithFrame:CGRectMake(90, 61, 300, 20)];

    [yourLabel2 setTextColor:[UIColor blackColor]];
    [yourLabel2 setBackgroundColor:[UIColor clearColor]];
    [yourLabel2 setFont:[UIFont fontWithName: @"Trebuchet MS" size: 12.0f]]; 
    [imageView addSubview:yourLabel2];

}
else
{
    imageView = [[view subviews] lastObject];
    yourLabel = [[imageView subviews] lastObject];
    yourLabel1 = [[imageView subviews] lastObject];
    yourLabel2= [[imageView subviews] lastObject];
}

 yourLabel.text=singleCard.name; 

 yourLabel2.text=singleCard.companyname; 
 yourLabel1.text=singleCard.designation;
 imageView.image=[profile objectAtIndex:index];

return view;

  } 
```

这是我的代码。任何人都可以建议如何解决这个问题

# google-apps-script - 谷歌应用脚 本授权 - 必须调用脚本两次？

> ID：11113173
> 
> 赞同：0
> 
> 时间：2012-06-20T05:11:10.280
> 
> 标签：google-apps-script

我想知道是否有一种方法可以运行需要授权的脚本而不必调用它两次。例如，如果我在我的谷歌网站上有一个调用脚本的链接，我必须点击它两次——一次开始授权过程，然后一次实际运行脚本。我觉得这会让用户感到非常困惑。

谢谢！杰夫

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T07:57:22.143

没有办法避免这种情况，但我发现创建一个必须调用一次的虚拟函数（我通常称之为“授权”）通常不会那么混乱，除了触发授权过程并显示一个小的解释文本。这对于“普通”用户来说可能会更清楚，因为它是一个单独的过程，而不是让人感觉有问题的重复......

# sql-server - 从给定表动态构建外键图查询

> ID：11113176
> 
> 赞同：3
> 
> 时间：2012-06-20T05:11:39.357
> 
> 标签：sql-server, sql-server-2008, tsql, sql-server-2008-r2, cascading-deletes

我目前有一个删除问题。我们无权对记录启用级联删除。我有用户表，其中 userId 是大约 20 个不同表中的引用。我希望能够编写一个动态查询，该查询将递归查找所有引用 userId 的表并删除这些表（对于每个表，它都必须找到自己的外键并删除它们），所以基本上是一个递归函数/将表名作为参数和主键 id 并将执行级联删除的过程。任何脚本可以做到这一点？我可以在 information_schema 上运行查询以检索 User 表的一级依赖关系，但我需要以某种方式递归地找到链接表的所有依赖关系，以便能够擦除记录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-21T03:03:12.090

正如“Nathan Skerl”所建议的那样，我使用了这个链接[http://www.sqlteam.com/forums/topic.asp?TOPIC_ID=97454](http://www.sqlteam.com/forums/topic.asp?TOPIC_ID=97454)并且它完成了这项工作。唯一的事情是我修改了 fnCascadingDelete 函数以包含 RecordID 参数，这样您就可以传递要删除的记录的 id，然后我搜索 %1 并将其替换为 @RecordID。它工作得很好，对于非常深的嵌套来说有点慢，但我想这是意料之中的。

# java - 如何在java中存储有变音符号的字符串

> ID：11113185
> 
> 赞同：1
> 
> 时间：2012-06-20T05:12:48.780
> 
> 标签：java, database, string, character-encoding

我`<input/>`在 jsp whare 上有一个标签，用户可以输入公司名称，然后我将该名称存储到数据库中，并在视图页面上再次显示该名称（结果 jsp）。

如果我只处理`Romanized names without diacritics`.

但是如果有人输入了公司名称，`"Československá obchodní banka"`那么字符串就会被更改，并且在查看页面上我会得到一些垃圾值。

所以我的任务是如何存储`Romanized names with diacritics`在 java 变量和数据库中，以便我可以显示用户`<input/>`在视图页面上的字段中输入的相同字符串。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:17:03.347

您应该研究字符编码。将 UTF-8 通过应用程序。HTML/JSP -> Servlets/Controller -> 数据库，你应该没问题。

# dojo - Dojo EnhancedGrid：如何获取选定列的索引？

> ID：11113186
> 
> 赞同：0
> 
> 时间：2012-06-20T05:12:55.080
> 
> 标签：dojo, dojox.grid, dojox.grid.datagrid

如果我单击dojo 增强网格的列标题，则整个列被选中。我想知道此类选定列的列索引。

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-07T15:14:29.203

这边走：

```
dojo.connect(grid,"onRowClick",function(event){
 var items = grid.selection.getSelected();
     dojo.forEach(items, function(selectedItem) {
            if (selectedItem !== null) {
                var id = grid.store.getValues(selectedItem, 'ID');
                     #whatever you want to do...
            }
     });

}); 
```

# node.js - 重启 node.js 生产服务器

> ID：11113190
> 
> 赞同：4
> 
> 时间：2012-06-20T05:13:08.327
> 
> 标签：node.js, express

假设我在生产服务器上有一个 nodejs/express 应用程序。如果我想添加一个新的路由器，我必须重新启动一个，对吗？但是如果我重新启动我的 node.js 服务器，那么用户可能会收到错误消息。

那么我应该如何重新启动我的 node.js 服务器而不会为我的用户带来错误？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-20T07:35:02.540

如果你使用 Nginx 代理到你的 Node.js 应用程序，你可以告诉你的 Node 应用程序监听一个套接字，然后只有在新服务器正确启动时才关闭旧服务器；一旦旧服务器关闭，Nginx 会将请求路由到服务器的新实例。这就是流行的 Ruby 服务器[Unicorn的工作原理。](http://unicorn.bogomips.org/)

在 Nginx 中，您可以像这样指定上游：

```
upstream node_server {
  server unix:/path/to/socket.sock;
}

server {
  ...
  location / {
    ...
     proxy_pass http://node_server;
  }
} 
```

在节点中，您可以使用

```
server.listen('/path/to/socket.sock', function() {
  console.log("Listening on socket.");
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:59:49.013

我想答案是首先在登台服务器中测试所有内容（即您计划部署的代码的精确副本，就在现有生产代码旁边）并选择一个低流量时间，然后将目录切换到新的一。

如果有问题，请切换回来。

但实际的“停机时间”只有一秒钟，除非当前正在处理某人的请求，否则他们不会收到错误消息。

也就是说，我自己从未尝试过这个，我很想知道最好的答案是什么！好问题！

# android - 设置来电随机铃声

> ID：11113197
> 
> 赞同：0
> 
> 时间：2012-06-20T05:14:19.403
> 
> 标签：android, ringtone

我是android应用程序开发的新手。我需要一个为来电设置随机铃声的解决方案。

如果来电是第一次来电，我的第一个铃声被选为默认铃声。对于第二个来电，必须更改铃声。第三次通话也是这样。之后第四次通话再次第一个铃声将是默认铃声。

就像一个洗牌的方式。我需要一个用于铃声随机旋转的程序化解决方案。

我有一个设置默认铃声的解决方案。如果我将它设置为默认铃声，我该如何将它添加到列表中。三次我从 sdcard 中选择铃声，并将其设置为默认铃声。将三首歌曲一起设置为一个默认铃声的任何解决方案。

请帮我做。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:33:32.960

首先使用`Random()`函数创建随机编号

```
Random rng = new Random(); 
Integer next = rng.nextInt(20) ; // you can change this count. 
```

根据此号码，您可以设置铃声

# android - 从服务器获取图像并在 Android 中将其显示为横幅

> ID：11113204
> 
> 赞同：0
> 
> 时间：2012-06-20T05:14:56.657
> 
> 标签：android, android-layout, android-intent, android-emulator, android-widget

*   `application`加载 时，服务器正在发送图像的 url 列表。

*   解析 url 后，应用程序应该从服务器获取图像并将这些图像显示为**MARQUEE**在其标题上作为**BANNER**。

*   单击该`banner`...a`link`将打开（例如任何链接`WebSite`）。

    谁能告诉我如何从网址和横幅中获取此`Save it temporarily`图像`Display them`。

    问候。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:21:46.050

*   使用[**AsyncTask**](http://developer.android.com/reference/android/os/AsyncTask.html)从服务器下载图像（将它们存储在外部存储中）。
*   完成下载后，在[**图库**](http://developer.android.com/resources/tutorials/views/hello-gallery.html)视图中将这些图像显示为横幅。（将图库视图放在横幅中）。
*   由于 Android Gallery**不支持 Marquee** ，请为 Gallery 视图使用**动画（**[如 Marquee](http://www.androidzeitgeist.com/2012/06/creating-marqueelayout-with-android.html)）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T05:30:52.510

我使用此代码来加载 img 表单 url

```
ImageView v_thumburl = (ImageView) rowView
                .findViewById(R.id.v_thumb_url);
        thumburl = temp.getString(temp.getColumnIndex("thumburl"));
        Drawable drawable = LoadImageFromWebOperations(thumburl);
        v_thumburl.setImageDrawable(drawable);

private Drawable LoadImageFromWebOperations(String url) {
    try {
        InputStream is = (InputStream) new URL(url).getContent();
        Drawable d = Drawable.createFromStream(is, "src name");
        return d;
    } catch (Exception e) {
        System.out.println("Exc=" + e);
        return null;
    }
} 
```

试试这个，我希望它可以帮助你

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T05:40:26.330

对于从服务器加载图像，您可以使用[LasyList](https://github.com/thest1/LazyList)从服务器获取图像并将其存储到 SD 卡中。

SlideShow 会比 Marquee 更好，所以如果你想要 SlideShow 看[这个](https://github.com/blessenm/SlideshowDemo)

如果你想要选框，那么你可以拥有和[Horizo​​ntalListView](https://github.com/vieux/Android-Horizontal-ListView)

在 Horizo​​ntalListView 类中添加一个 public Method 如下所示

```
public void getScrollWidth() {
        return mMaxX;
    }

public void getCurrentScrollX() {
      return mNextX;
} 
```

和 For Marquee在你的类中有一个线程和一个[处理程序，就像这样。](http://developer.android.com/reference/android/os/Handler.html)

```
new Thread(new Runnable() {

                @Override
                public void run() {
                    try {
                        handler.post(new Runnable() {
                            @Override
                            public void run() {

                                if((horizontalListView.getCurrentScrollX() + 50) < horizontalListView.getScrollWidth())
                                {
                                    horizontalListView.scrollTo(horizontalListView.getCurrentScrollX() + 50);
                                }
                                else
                                {
                                    horizontalListView.scrollTo(0);
                                }
                            }
                        });

                        Thread.sleep(1000);

                    } catch (Exception e) {

                    }

                }
            }).start(); 
```

# monkeyrunner - 使用 Python 实现 Android UI 自动化 - Monkeyrunner - 空点异常

> ID：11113205
> 
> 赞同：1
> 
> 时间：2012-06-20T05:15:23.600
> 
> 标签：monkeyrunner

代码：

# 导入此程序使用的 monkeyrunner 模块

从 com.android.monkeyrunner 导入 MonkeyRunner，MonkeyDevice

# 连接到当前设备，返回一个 MonkeyDevice 对象

设备 = MonkeyRunner.waitForConnection()

打印“你好世界！”

错误：

回溯（最后一次调用）：文件“D:\AndroidApps\Sample\src\com\android\diagnostics\click\click1.py”，第 5 行，位于 com.android.monkeyrunner 的 device = MonkeyRunner.waitForConnection() 中。 MonkeyRunner.waitForConnection(MonkeyRunner.java:74)

```
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)

at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)

at java.lang.reflect.Method.invoke(Unknown Source) 
```

java.lang.NullPointerException: java.lang.NullPointerException

我正在尝试通过使用monkey runner 来自动化android 应用程序，即使用python 脚本进行UI 测试任何机构都可以帮助解决上述代码的空点异常吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T12:33:04.027

如果我查看您的错误的堆栈跟踪，这看起来像是您的 jython monkeyrunner 库存在问题。

因为，反射包发生异常，无法调用本机 java 调用。确保你的 monkeyrunner.bat 文件引用了 android SDK 提供的 lib 文件夹。

更新 android SDK 也可能有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-10T08:41:25.103

我有同样的问题。最后我发现这是一个硬件问题，所以请先在模拟器或其他手机上运行它。

# java - Eclipse GEF 模型编辑器执行拖放操作

> ID：11113208
> 
> 赞同：-1
> 
> 时间：2012-06-20T05:15:52.243
> 
> 标签：java, eclipse, eclipse-plugin, drag-and-drop, eclipse-gef

我正在开发 Eclipse 插件，我需要对编辑器执行拖放支持。Editor 是一个带有多个 EditPart 的画布。我需要：当用户将（一个编辑部分/几个选定的编辑部分）放在另一个编辑部分上时，系统会检测到它并确定编辑部分的所有模型并执行一些代码。正如我所理解的，我应该使用策略（XYLayoutEditPolicy 的某个子类），但是当用户丢弃部分/部分时，我无法捕获事件。我需要帮助。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T04:38:21.547

刚解决。只需覆盖 getAddCommand 方法。EventTarget - 是主机。您可以通过 getHost() 调用来获取它。无需 cath 事件 - 只需创建命令，它会在需要时执行。

# vb.net - VB.Net中的动态Linq .OrderBy不接受字符串

> ID：11113209
> 
> 赞同：1
> 
> 时间：2012-06-20T05:15:58.810
> 
> 标签：vb.net

我在[http://weblogs.asp.net/scottgu/archive/2008/01/07/dynamic-linq-part-1-using-the-linq-dynamic-实现 Scott G 的 Dynamic.vb 扩展时遇到问题query-library.aspx](http://weblogs.asp.net/scottgu/archive/2008/01/07/dynamic-linq-part-1-using-the-linq-dynamic-query-library.aspx)在我的 vb 解决方案中。我知道可能还有其他方法，但是这种方法会给我很大的灵活性。我搜索了 StackOverflow（80 多个问答）和许多其他网站，但运气不佳。我正在使用 VS 2010。

我已将 Dynamic.vb 包含在没有根名称空间的问题中，然后在我的主要项目中添加了对该项目的引用。我得到了 4 个重载（而不是 2 个）的智能感知，所以我很确定扩展在范围内。

我在使用条款时遇到了困难，尤其是 Scott 演示的 OrderBy。如果我只是将字符串作为 Scott 的 VB 示例传递，我会收到错误“重载解析失败，因为无法使用这些参数调用可访问的 'OrderBy'。”

代码行是：

```
Dim FilteredComponentList = From Component As MX.Component In ComponentList.AsQueryable _
                                    .OrderBy("Name") 
```

因此，我找到了其他说明传递 Lambda 表达式的参考资料。所以我尝试了这个，至少我没有收到错误，即使排序功能似乎仍然不起作用。这是编译和执行的代码。

```
 Private Sub SortByColumn()

        If Not cmbComponentFilter.SelectedItem.ToString = "All" Then
            Dim FilteredComponentList = From Component As MX.Component In ComponentList.AsQueryable _
                               Where Component.ComponentType.ToString = cmbComponentFilter.SelectedItem.ToString _
                               Order By Component.Name

            Dim OrderedFilteredComponentList = From Component As MX.Component In FilteredComponentList.AsQueryable _
                                               .OrderBy(Function(str) dgvComponents.Columns(e.ColumnIndex).Name)

            bsComponentList.DataSource = OrderedFilteredComponentList
            dgvComponents.DataSource = bsComponentList
        Else
            Dim FilteredComponentList = From Component As MX.Component In ComponentList.AsQueryable _
                                        .OrderBy(Function(str) dgvComponents.Columns(e.ColumnIndex).Name)

            bsComponentList.DataSource = FilteredComponentList
            dgvComponents.DataSource = bsComponentList

        End If

    End Sub 
```

当我询问 dgvComponents.Columns(e.ColumnIndex).Name 时，它​​给出了我希望排序的对象属性，但排序仍然不起作用。我担心为什么我不能让 Scott 的实现工作，但我听过他的主题演讲并阅读了他的博客，所以我猜问题出在我的实现上。

我想要么工作，但也需要了解原因。为什么传递字符串不起作用？函数中声明的PARAMARRAY不是可选的吗？我已经在这方面投入了 8 个小时，虽然我可以走其他路，但我太致力于寻找这种方法的答案而放弃（与方法的自杀协议。）

任何指导将不胜感激。我非常沮丧，如果这是一个愚蠢的错误（通常是这样），我什至不会打扰我。

感谢您的任何帮助。

r/杰米

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T16:04:57.263

好吧，我是个白痴。我忘了包括：

```
Imports System.Linq.Dynamic 
```

在使用扩展的类中。现在我已经做到了，这在没有 lambda express 的情况下工作。有效的新代码如下，不需要 Lambda：

```
 Private Sub SortByColumn()

    If cmbComponentFilter.SelectedItem.ToString <> "All" Then
        Dim FilteredComponentList = From Component As MX.Component In ComponentList.AsQueryable _
                           Where Component.ComponentType.ToString = cmbComponentFilter.SelectedItem.ToString

        Dim OrderedFilteredComponentList = From Component As MX.Component In FilteredComponentList.AsQueryable _
                                           .OrderBy(dgvComponents.Columns(e.ColumnIndex).Name)

        bsComponentList.DataSource = OrderedFilteredComponentList
        dgvComponents.DataSource = bsComponentList
    Else
        Dim FilteredComponentList = From Component As MX.Component In ComponentList.AsQueryable _
                                    .OrderBy(dgvComponents.Columns(e.ColumnIndex).Name)

        bsComponentList.DataSource = FilteredComponentList
        dgvComponents.DataSource = bsComponentList

    End If

End Sub 
```

现在我的扩展工作了，我认为这种方法将增加很多价值并减少编码工作，以便根据用户选择动态选择、排序、过滤等数据。我希望我的麻烦可以帮助我水平的其他人更好地了解如何在 vb.net 中进行这项工作。

# java - 线程“主”java.lang.NoClassDefFoundError 中的异常：org/dom4j/io/SAXReader

> ID：11113210
> 
> 赞同：0
> 
> 时间：2012-06-20T05:15:59.340
> 
> 标签：java, dom4j

我正在尝试编译并运行以下类：

```
import org.dom4j.io.SAXReader;
import org.dom4j.Document;
import org.dom4j.Element;

import java.net.URL;
import java.net.Authenticator;
import java.net.PasswordAuthentication;
import java.util.List;

/**
 * Java client program to demonstrate how to access Hudson remote API.
 *
 * @author Kohsuke Kawaguchi
 * @see http://hudson.gotdns.com/wiki/display/HUDSON/Remote+access+API
 */
public class Main {
    @SuppressWarnings("unchecked")
    public static void main(String[] args) throws Exception {
        // every Hudson model object exposes the .../api/xml, but in this example
        // we'll just take the root object as an example
        URL url = new URL("http://deadlock.netbeans.org/hudson/api/xml");

        // if you are calling security-enabled Hudson and
        // need to invoke operations and APIs that are protected,
        // consult the 'SecuredMain" class
        // in this package for an example using HttpClient.

        // read it into DOM.
        Document dom = new SAXReader().read(url);

        // scan through the job list and print its status
        for( Element job : (List<Element>)dom.getRootElement().elements("job")) {
        //for( Element job : (java.util.List<org.dom4j.Element>)dom.getRootElement().elements("job")) {
            System.out.println(String.format("Name:%s\tStatus:%s",
                job.elementText("name"), job.elementText("color")));
        }
    }
} 
```

我使用以下方法编译它：

```
javac -cp /usr/share/java/dom4j.jar Main.java 
```

但是当我试图运行它时，我得到一个异常：

> $java 主要
> 
> 线程“main”中的异常 java.lang.NoClassDefFoundError: org/dom4j/io/SAXReader at Main.main(Main.java:31) 原因：java.lang.ClassNotFoundException: org.dom4j.io.SAXReader at java.net .URLClassLoader$1.run(URLClassLoader.java:202) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader.java:190) at java.lang.ClassLoader.loadClass(ClassLoader. java:306) 在 sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301) 在 java.lang.ClassLoader.loadClass(ClassLoader.java:247) ... 还有 1 个

如果我查看 jar 文件：

> jar tvf /usr/share/java/dom4j.jar | grep SAXReader*
> 
> 1061 Mon Jan 25 09:34:34 EST 2010 org/dom4j/io/SAXReader$SAXEntityResolver.class 13170 Mon Jan 25 09:34:34 EST 2010 org/dom4j/io/SAXReader.class

JAR 中存在“缺失”类。关于如何解决这个问题的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:19:33.890

您还需要在运行时使用相同的类路径

```
java -cp /usr/share/java/dom4j.jar;. Main 
```

# ios - 无法创建配置文件

> ID：11113213
> 
> 赞同：0
> 
> 时间：2012-06-20T05:16:38.857
> 
> 标签：ios, iphone, provisioning-profile

解释问题的最快方法是显示屏幕截图。每当我尝试在 Apple 的开发人员网站上设置配置文件时，都会得到以下结果：

![在此处输入图像描述](../Images/12977c751a630f7d98b242032b7d877b.png)

请注意“状态”列下的“错误”。目前，每当我尝试创建任何类型的配置文件（开发、分发、临时）时，都会发生这种情况，证书会立即从“待定”状态变为“错误”状态。有没有人遇到过类似的问题？

我确信我在创建配置文件时正确配置了它。基本上我正在遵循过去多次工作的相同步骤（在设置配置文件时很难做一些无效的事情），但由于某种原因，它给了我上面显示的屏幕。

任何有关类似问题及其解决方法的信息将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T08:17:30.277

从昨天开始，很多人都遇到了这个问题：[https ://devforums.apple.com/message/680208](https://devforums.apple.com/message/680208)

# javascript - 如何组织国家和地区的数据库以进行 javascript 操作？

> ID：11113214
> 
> 赞同：0
> 
> 时间：2012-06-20T05:16:49.160
> 
> 标签：javascript, xml, database, json

我不是程序员，但我自己为我的网上商店完成了所有的定制。我使用禅车。我试图让它对国际客户更加用户友好，很明显 zen-cart 只是粗略的“国际”。它非常以美国为中心，向加拿大、英国等其他“共同”国家致敬。

无论如何，我正在尝试重新制作注册表单，这样地址对于任何访问者来说都更有意义，无论他们的国家/地区如何。所以他们选择国家和“州”自动填充......这已经内置（只需将每个国家的所有“州”手动添加到数据库中）但问题是JS变得相当大。除此之外，我想更改标签的显示方式。IE。对于来自阿根廷的游客，“城市”应改为“市政”。一个明显的例子是加拿大的“省”等。但是JS变得更大了。

你最终会得到一系列庞大的 if 语句，涵盖大约 260 个国家，每个国家平均有大约 8 到 10 个“州”，然后每个国家都有自己的“街道”、“郊区”、“城市”、“州”和“邮政”标签。

所以我的问题是......这能有效吗？这可以“精简”吗？我们真的必须用所有这些数据填充客户端浏览器还是有更好的方法（并且在没有多余页面加载的情况下仍然是动态的）？

还是把所有东西都堆在那里就可以了？在我的本地服务器上，它加载相当快。我没有在网络服务器上尝试过，我真的没有办法在“慢”连接上进行测试，所以我只想从一开始就正确编码。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:27:36.040

如果您要使用它来改进用户界面，那么数据量并不大。

您的服务器应该实现一个 gzip 方法来压缩数据，然后再发送到客户端，并且重复数据压缩得非常好。

我希望您应该在 JSON 中使用类似这样的数据结构

```
var countryData = [
  { name: "USA",
    provinceName: "City",
    suburbName: "Suburb"
  },
  { name: "Canada",
    provinceName: "Province",
    suburbName: "Suburb"
  }
] 
```

您可以将所有内容保存在一个单独的文件中以帮助保持您的 javascript 井井有条，并`script`在主脚本运行之前使用标签来加载它。

另外，为了测试性能，我会使用像 YSlow 这样的工具，它在 firefox 浏览器的 firebug 扩展中运行。它由 yahoo 制作，允许您查看页面所有组件的加载时间，无论是否缓存，并允许您检查哪些文件被压缩或未压缩。

# c# - 已分配调用 waveOutOpen 错误

> ID：11113216
> 
> 赞同：4
> 
> 时间：2012-06-20T05:16:53.020
> 
> 标签：c#, .net, wpf, exception-handling, naudio

```
 private void receiveAudio(object sender)
        {
            IPEndPoint senderEP = new IPEndPoint(IPAddress.Any, 0);
            MemoryStream audioDataStream;
            BufferedWaveProvider bufferedWaveProvider; 
            //RawSourceWaveStream receivedRawAudioData;          
            byte[] receivedAudioData;
            waveOutStream = new WaveOut();

            while (IsAudioTransferActive)
            {
                receivedAudioData = audioUDPClient.Receive(ref senderEP);               
                audioDataStream = new MemoryStream(receivedAudioData);                
                //receivedRawAudioData = new RawSourceWaveStream(audioDataStream, audioFormat);
                bufferedWaveProvider = new BufferedWaveProvider(audioFormat);
//How can I feed "audioDataStream " to "bufferedWaveProvider "
                waveOutStream.Init(bufferedWaveProvider);
                waveOutStream.Play();
            } 
            waveOutStream.Stop();
            waveOutStream.Dispose();
        } 
```

@Mark Heath：-正如你所说，我尝试过使用 BufferedWaveProvider 但我如何才能为 bufferedWaveProvider 提供“audioDataStream”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-21T09:19:33.013

您不断在您的 while 循环内创建未处理的 WaveOut 对象，这是问题的一部分。在这种情况下，最好的方法是创建一个 WaveOut 对象并使用 BufferedWaveProvider 提供给它。然后当音频可用时，将其写入 BufferedWaveProvider。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-29T20:48:16.827

`WaveOut`使用 SineWaveProviders 初始化新对象时，我遇到了类似的问题。我想到了使用类似于 ringlist 的东西来交换不同提供者的值（频率和幅度）的想法，因为至少在我的情况下，我听不到 5 个恒定正弦波以上的任何差异。此外，在我在不同机器上的测试中，一次使用超过 6-7 个`WaveOut`对象通常会导致`MemoryAllocationError`s ，因此是 ringlist。这就是我得出的结论：

```
private Queue<SineWaveGenerator> generators;

// constructor
public Player()
{
    for (int i = 0; i < 5; i++)
    {
        var generator = new SineWaveGenerator();
        generator.Amplitude = 0.25f;

        generators.Enqueue(generator);
    }
}

// just a helper method
private SineWaveGenerator GetGenerator(int frequency)
{
    return generators.FirstOrDefault(x => x.Frequency == frequency);
}

private void Play(int frequency)
{
    var generator = GetGenerator(frequency);

    if (generator == null)
    {
        generator = generators.Dequeue(); // get generator from the top of the list
        generator.Frequency = GetFrequency(key); // modify the generator
        generators.Enqueue(generator); // and append it to the back
    }

    generator.Play();
}

private void Stop(int frequency)
{
    var generator = GetGenerator(frequency);

    if (generator != null)
    {
        generator.Stop();
    }
} 
```

注意：在其构造函数中`SineWaveGenerator`初始化一个新的。`WaveOut`

# iphone - -[CustomWindow hitTest:withEvent:] 实现转发事件

> ID：11113223
> 
> 赞同：4
> 
> 时间：2012-06-20T05:17:52.433
> 
> 标签：iphone, objective-c, ios, events, uiwindow

我有一个自定义窗口（应该在所有内容之上，包括键盘）来显示叠加层，就像您在设备中按下音量增大/减小按钮时看到的叠加层。

所以我做了一个自定义窗口 OverlayWindow 到目前为止一切正常，后面的窗口正常接收它们的事件。然而`hitTest:withEvent:`，它被多次调用，有时它甚至返回 nil。我想知道这是否正常/正确？如果不是，我该如何解决？

```
// A small (WIDTH_MAX:100) window in the center of the screen. If it matters
const CGSize screenSize = [[UIScreen mainScreen] bounds].size; 
const CGRect rect = CGRectMake(((int)(screenSize.width - WIDTH_MAX)*0.5),
　　　　　　　((int)(screenSize.height - WIDTH_MAX)*0.5), WIDTH_MAX, WIDTH_MAX);
overlayWindow = [[CustomWindow alloc] initWithFrame:rect];
overlayWindow.windowLevel = UIWindowLevelStatusBar; //1000.0
overlayWindow.hidden = NO; // I don't need it to be the key (no makeKeyAndVisible) 
```

```
- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event
{
    // Find the front most window (with the highest window level) and
    // call this method on that window. It should will make the event be
    // forwarded to it

    // Situation1: This method is called twice (or even more, it depend
    // on the number of windows the app has) per event: Why? Is this the
    // *normal* behaviour?

    NSLog(@" ");
    NSLog(@"Point: %@ Event: %p\n", NSStringFromCGPoint(point), event);
    UIView *view = nil;
    if (CGRectContainsPoint(self.bounds, point)) {
        NSLog(@"inside window\n");
        NSArray *wins = [[UIApplication sharedApplication] windows];
        __block UIWindow *frontMostWin = nil;
        [wins enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {
            NSLog(@"win: %@\n", obj);
            if ([obj windowLevel] >= [frontMostWin windowLevel] && obj != self) {
                frontMostWin = obj;
            }
        }];
        NSLog(@"frontMostWindow:%@\n finding a new view ...\n", frontMostWin);
        CGPoint p = [frontMostWindow convertPoint:point fromWindow:self];
        view = [frontMostWindow hitTest:p withEvent:event];

       // Situation2: sometimes view is nil here, Is that correct?
    }
    NSLog(@"resultView: %@\n", view);
    return view;
} 
```

### 编辑：

我也注意到了

1.  如果`hitTest:withEvent:`总是返回`nil`它也可以。只有当我打电话时`overlayWindow.hidden = NO;`

2.  如果我打电话`[overlayWindow makeKeyAndVisible]`回来并不总是有效`nil`。`hitTest:withEvent:`看起来关键窗口需要正确实施命中测试方法？

我在这里错过了关于事件转发的一些东西吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-28T14:49:34.287

frontMostWindow 是指 frontMostWin 吗？

看起来即使我们只使用一个 UIWindow，`hitTest:withEvent:`也会在它上面执行至少 2 次。所以，我想这很正常。

您可以在收到 null

```
view = [frontMostWindow hitTest:p withEvent:event]; 
```

由于以下原因：

*   frontMostWindow 本身为空（例如，如果您只有一个窗口）
*   p 在 frontMostWindow 边界之外（例如，当 frontMostWindow 是键盘并且您的触摸在其他地方时）
*   frontMostWindow 的属性 userInteractionEnabled 设置为 NO；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:13:04.470

hitTest:withEvent: 被多次调用是正常的。这可能是因为您只在覆盖的窗口上显示 UILabel 或 UIImageView ，因此会自动转发触摸。

但是我认为您并不真的需要另一个 OverlayWindow，而是您可以考虑在 keyWindow 顶部使用 UIView。这应该使您的应用程序更清洁...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-19T04:46:51.297

我确实遇到了同样的问题。

我试图根据您的帖子解决它，并找到了另一个解决方案。

此代码在顶部覆盖的 uiwindow 中实现。

当区域没有视图时，此代码将通过下窗口传递事件。

```
- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event
{
    NSLog(@" ");
    NSLog(@"Point: %@ Event: %p\n", NSStringFromCGPoint(point), event);
    UIView *view = nil;

    UIView *resultView = [super hitTest:point withEvent:event];

    if (resultView == self) {
        NSLog(@"touched in transparent window !!");
        return nil;
    }

    NSLog(@"touched in view!!");
    return resultView;
 }
```

毕竟，谢谢。你的帖子很有帮助。

# chef-infra - 从 github 添加厨师食谱

> ID：11113224
> 
> 赞同：18
> 
> 时间：2012-06-20T05:17:58.323
> 
> 标签：chef-infra

我使用以下命令从 opscode 站点下载了许多食谱：例如， **knife cookbook site install git**。但是现在我想从 github 上的存储库中下载一本食谱到我当前的食谱目录中。我该怎么做呢？我应该将存储库克隆到我的食谱目录中吗？

谢谢！

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-06-20T07:43:03.710

[您可以从https://github.com/websterclay/knife-github-cookbooks](https://github.com/websterclay/knife-github-cookbooks)安装刀 github 插件，之后您可以简单地使用`knife cookbook github install cookbooks/yum`从[https://github.com/cookbooks/yum](https://github.com/cookbooks/yum)安装 yum 。

但是，我建议使用来自[https://github.com/applicationsonline/librarian](https://github.com/applicationsonline/librarian)的 Librarian-Chef ，它的工作原理与 bundler 对 ruby​​ gem 的作用非常相似（如果你熟悉的话）。

编辑：由于这显然仍然收到意见，我会失职更不用说[berkshelf](http://berkshelf.com/)，这太棒了。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-09-22T14:20:49.100

要下载和管理说明书，您可以使用**Berkshelf**，它本身带有一种自行管理说明书依赖关系的方法。如果你熟悉 Ruby，它就像 Gemfile 一样工作。您可以通过在 BerksFile 中添加此命令从 github 下载食谱

> 食谱'nginx'，路径：'食谱的github url'

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-03-21T10:07:27.013

你可以试试这个命令

```
knife cookbook site download cookbookname 
```

# mysql - 一起使用 COUNT 和 DISTINCT 关键字来计算不同的值

> ID：11113229
> 
> 赞同：0
> 
> 时间：2012-06-20T05:18:26.240
> 
> 标签：mysql, sql, database, count, distinct

我正在编写查询来计算数据库表中不同值的数量。所以我把查询写成：

`select count ( distinct user_id ) as unique_users from 1_time_access;`

我收到错误

`ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'distinct user_id ) as unique_users from 1_time_access' at line 1`

谁能解释我错过了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T05:22:53.297

删除`count`和左括号之间的空格。

```
select count(distinct user_id) as unique_users from 1_time_access; 
```

# android - 加载 swf 文件时热设置 Web 视图区域

> ID：11113230
> 
> 赞同：0
> 
> 时间：2012-06-20T05:18:32.413
> 
> 标签：android, flash, android-webview

好的，所以我有一个从 sdcard 加载到 webview 中的 swf 文件。我想知道是否有人知道加载页面后是否可以设置视图的“缩放”和位置？那么我怎么能在没有用户放大和滚动文章顶部的情况下将视图焦点放在 swf 文件上。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:23:37.827

你可以使用这个代码

```
public class FLVplayerActivity extends Activity {
    WebView webView;
    String htmlPre = "<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"utf-8\"></head><body style='margin:0; pading:0; background-color: black;'>";  
    String htmlCode = 
            " <embed style='width:100%; height:100%' src='http://www.platipus.nl/flvplayer/download/1.0/FLVPlayer.swf?fullscreen=true&video=http://www.platipus.nl/flvplayer/download/pl-600.flv&autoplay=true' " +
            "  autoplay='true' " +
            "  quality='high' bgcolor='#000000' " +
            "  name='VideoPlayer' align='middle'" + // width='640' height='480' 
            "  allowScriptAccess='*' allowFullScreen='true'" +
            "  type='application/x-shockwave-flash' " +
            "  pluginspage='http://www.macromedia.com/go/getflashplayer' />" +
            "";
    String htmlPost = "</body></html>";

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main); 

        webView = (WebView)findViewById(R.id.webview);

        webView.getSettings().setJavaScriptEnabled(true);
        webView.getSettings().setAllowFileAccess(true);
        webView.getSettings().setPluginsEnabled(true);

            webView.getSettings().setSupportZoom(false);
            webView.getSettings().setAppCacheEnabled(false);
            webView.getSettings().setAllowContentAccess(true);
            webView.getSettings().setCacheMode(webView.getSettings().LOAD_NO_CACHE);

        webView.setScrollBarStyle(View.SCROLLBARS_OUTSIDE_OVERLAY); //thanks Patrick!

        //webView.loadUrl("file:///android_asset/index.html");
        //htmlCode = htmlCode.replaceAll("@VIDEO@", "file:///android_asset/20051210-w50s.flv");
        webView.loadDataWithBaseURL("file:///android_asset/FLVPlayer.swf", htmlPre+htmlCode+htmlPost, "text/html", "UTF-8", null);  
    } 
```

# php - xpath 排除具有类的元素

> ID：11113232
> 
> 赞同：14
> 
> 时间：2012-06-20T05:18:54.447
> 
> 标签：php, dom, xpath, domdocument

我正在尝试选择所有具有`id="mydiv"`但不包括也具有`class="exclass"`. 现在我正在做第一部分`//*[@id="mydiv"]`。如何添加类排除部分？

PS 如果您想知道为什么我需要选择多个具有相同 id 的元素，我只是在处理我无法控制的现有 DOM。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-20T05:33:01.273

您可以使用否定：

```
//*[@id="mydiv" and @class!="exclass"] 
```

如果该`class`属性可能并非在所有节点上都存在，则需要：

```
//*[@id="mydiv" and (not(@class) or @class!="exclass")] 
```

最后一个（有点）奇怪的逻辑可以变成迈克尔提出的：

```
//*[@id="mydiv" and not(@class="exclass")] 
```

不过，就个人而言，如果缺少属性，XPath 无法进行比较这一事实感觉有点像缺点。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-20T08:03:08.927

书面问题的答案是

```
//*[@id="mydiv" and not(@class="exclass")] 
```

如果存在@id 属性并且其值为mydiv，则条件的前半部分为真。如果没有值为 exclass 的 @class 属性，则后半部分为真：也就是说，如果没有类属性，或者如果有一个类属性并且它的值不是“exclass”。

在这种情况下避免使用 !=：90% 的情况下，如果你想到写`A!=B`，你可能想要`not(A=B)`. 在 A 或 B 不是单例的情况下，含义是不同的，也就是说，它要么是空的，要么可以包含多个值。

# android - 当我按 CTRL+Space 时，自动完成在我的 Ecllipse 中不起作用

> ID：11113234
> 
> 赞同：3
> 
> 时间：2012-06-20T05:19:02.597
> 
> 标签：android, eclipse

当我按`CTRL`+`Space`时，自动完成不起作用。

它没有显示我们在之后看到的任何建议`objName`。*方法名*

可能是什么问题，我该如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T05:36:56.547

检查您的“键”首选项：可能“内容辅助”快捷方式已被另一个也使用 ctrl+空格的命令覆盖。

还可以查看这些链接，您可能会在那里找到您的解决方案：

[http://www.mkyong.com/java/content-assist-ctrl-space-is-not-working-eclipse/](http://www.mkyong.com/java/content-assist-ctrl-space-is-not-working-eclipse/)

[http://blog.rtwilson.com/how-to-solve-the-ctrl-space-auto-complete-not-working-problem-in-eclipse/](http://blog.rtwilson.com/how-to-solve-the-ctrl-space-auto-complete-not-working-problem-in-eclipse/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T04:45:19.747

@NilayOnAndroid，亲爱的，我也遇到了dis问题，我已经尽了所有可能的尝试来解决它，但失败了。在最后我再次下载了 New eclipse Juno，这已经足够好了。您不必再次安装所有东西，只需从 [http://www.eclipse.org/downloads/packages/eclipse-parallel-application-developers/junosr1-rc3] 下载 Eclipse juno，一切都将保持不变，只需提供新的为工作区命名，以便您可以在此 Juno Eclipse 上使用以前的软件。在 dis 之后，您只需要从 [https://dl-ssl.google.com/android/eclipse/] 在 HELP>INSTALL NEW SOFTWARE 中下载 Android 支持库，然后添加此链接，就这样......享受 android

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-27T12:44:06.993

配置 Eclipse 的内容辅助，进入“Preferences>Java>Editor>Content Assist>Advanced”。确保勾选“Other Java Proposals”

# javascript - 在 Angular.js 中渲染模板时遇到问题

> ID：11113235
> 
> 赞同：0
> 
> 时间：2012-06-20T05:19:08.747
> 
> 标签：javascript, angularjs

我在我的 JS 错误控制台上收到此错误：

```
DOMException
code: 8
message: "NOT_FOUND_ERR: DOM Exception 8"
name: "NOT_FOUND_ERR"
__proto__: DOMException 
```

我无法在我定义的模板上呈现 json 数据。

下面是我的代码：

索引.html

```
<!doctype html>
<html lang="en" ng-app="picsography">
<head>
  <meta charset="utf-8">
  <title>Picsography</title>
  <link rel="stylesheet" href="css/app.css"/>
  <link rel="stylesheet/less" href="lib/bootstrap/less/bootstrap.less">
  <link rel="stylesheet/less" href="css/500.less">
</head>
<body>
        <header class="navbar navbar-fixed-top" id="header">
            <div class="navbar-inner">
                <nav class="container">
                    <div class="brand">Picsography</div>
                    <div class="input-append pull-left">
                <div class="input-append"><input type="text" id="search-field" data-provide="typeahead" placeholder="Search"><button class="btn btn-primary" style="margin-left: 0;" type="button">Search</button></div>
              </div>
                    <div class="btn-group pull-right" id="user-menu">
                        <a class="btn" href="#/posts"><i class="icon-plus"></i><span> Share</span></a>
                        <a class="btn" href="#/view2"><i class="icon-inbox"></i><span> Inbox</span></a>
                        <a class="btn" href="#posts"><i class="icon-home"></i><span> Dashboard</span></a>
                        <a class="btn" href="#view2"><i class="icon-shopping-cart"></i><span> Marketplace</span></a>
                        <button class="btn dropdown-toggle" data-toggle="dropdown"><i class="icon-user"></i><span></span> <span class="caret"></span></button>
                            <ul class="dropdown-menu">
                                <li><a href="#">Account Settings</span></a></li>
                                <li><a href="#">Privacy Settings</a></li>
                                <li><a href="#">Logout</a></li>
                                <li class="divider"></li>
                                <li><a href="#">Help</a></li>
                            </ul>
                    </div>
                    <div class="btn-group pull-right">
                        <a class="btn btn-mini" href="#"> 0 </span></a>
                    </div>
                </nav>
            </div>
        </header>
        <section class="container-fluid">
            <div class="row-fluid">
                <aside id="side-nav" class="well span2">
                    <ul class="nav nav-list">
                      <li class="nav-header"><i class="icon-star"></i>TRENDING NOW</li>
                      <li><a href="#"><i class="icon-arrow-up"></i>Animal Humor</a></li>
                      <li><a href="#"><i class="icon-arrow-down"></i>Movie Jokes</a></li>
                      <li><a href="#"><i class="icon-arrow-up"></i>Memes</a></li>
                      <li><a href="#"><i class="icon-arrow-down"></i>Celebrity Jokes</a></li>
                      <li><a href="#"><i class="icon-arrow-up"></i>Political Humor</a></li>
                      <li class="nav-header"><i class="icon-tags"></i>RECOMMENDED FOR YOU</li>
                      <li><a href="#"><i class="icon-tag"></i>Political Humor</a></li>
                      <li><a href="#"><i class="icon-tag"></i>Celebrity Jokes</a></li>
                      <li><a href="#"><i class="icon-tag"></i>Hollywood Humor</a></li>
                      <li><a href="#"><i class="icon-tag"></i>Animal Humor</a></li>
                      <li><a href="#"><i class="icon-tag"></i>Adult Humor</a></li>
                    </ul>
                </aside>
                <div ng-view class="row span10"></div>  
            </div>
        </section>

    <script src="js/less-1.3.0.min.js"></script>
    <script src="lib/jquery/jquery-1.3.2.min.js"></script>
    <script src="lib/angular/angular.js"></script>
    <script src="lib/angular/angular-resource.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/services.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/directives.js"></script>
    <script src="lib/bootstrap/js/bootstrap.min.js"></script>
    <script src="lib/bootstrap/js/bootstrap-alert.js"></script>
    <script src="lib/bootstrap/js/bootstrap-button.js"></script>
    <script src="lib/bootstrap/js/bootstrap-carousel.js"></script>
    <script src="lib/bootstrap/js/bootstrap-collapse.js"></script>
    <script src="lib/bootstrap/js/bootstrap-dropdown.js"></script>
    <script src="lib/bootstrap/js/bootstrap-modal.js"></script>
    <script src="lib/bootstrap/js/bootstrap-popover.js"></script>
    <script src="lib/bootstrap/js/bootstrap-scrollspy.js"></script>
    <script src="lib/bootstrap/js/bootstrap-tab.js"></script>
    <script src="lib/bootstrap/js/bootstrap-tooltip.js"></script>
    <script src="lib/bootstrap/js/bootstrap-transition.js"></script>
    <script src="lib/bootstrap/js/bootstrap-typeahead.js"></script>
</body>
</html> 
```

部分/post-list.html

```
<div class="subnav span12" id="subnav">
  <div class="btn-group pull-left" id="sort-nav">
    <a class="btn active">Popular</a>
    <a class="btn">Recent</a>
    <a class="btn">Favorite</a>
  </div>
  <div class="btn-group pull-right " id="view-nav">
      <a class="btn active" id="2col"><i class="icon-th-large"></i></a>
      <a class="btn" id="3col"><i class="icon-th"></i></a>
      <a class="btn" id="6col"><i class="icon-th-list"></i></a>
  </div>
  <div class="btn-group pull-right">
    <a id="reload" class="btn"><i class="icon-refresh"></i></a>
      <a class="btn"><i class="icon-random"></i></a>
  </div>
  <div class="row span12" id="img-container">
    <ul class="unstyled row">
      <li class="span3" ng-repeat="post in posts">
        <img src="img/1.jpg">
        <p>{{post.description}}</p>
      </li>
      <li class="span3">
        <img src="img/1.jpg">
        <p>Image Description</p>
      </li>
      <li class="span3">
        <img src="img/1.jpg">
        <p>Image Description</p>
      </li>
      <li class="span3">
        <img src="img/1.jpg">
        <p>Image Description</p>
      </li>
    </ul>
  </div>
</div> 
```

服务.js

```
angular.module('picsographyServices', ['ngResource']).
    factory('Post', function($resource){
  return $resource('json/posts.json', {}, {
    query: {method:'GET', isArray:true}
  });
}); 
```

控制器.js

```
function PostListCtrl($scope, Post) {
  $scope.posts = Post.query();
} 
```

应用程序.js

```
angular.module('picsography', ['picsographyServices']).
  config(['$routeProvider', function($routeProvider) {
    $routeProvider.when('/posts', {templateUrl: 'partials/post-list.html', controller: PostListCtrl});
    $routeProvider.when('/view2', {templateUrl: 'partials/partial2.html', controller: MyCtrl2});
    $routeProvider.otherwise({redirectTo: '/posts'});
  }]); 
```

帖子.json

```
[{
    "url": "details",
    "title": "Test Title",
    "description": "Sample Description",
    "image": "assets/images/1.jpg",
    "tags": ["photo", "internet"],
    "user": "hilarl",
    "comments": ["sample comment"],
    "likes": 23,
    "dislikes": 100,
    "resolution": { "x": 150, "y": 58 }
},
{
    "url": "details",
    "title": "Test Title",
    "description": "Sample Description",
    "image": "assets/img/2.jpg",
    "tags": ["photo", "internet"],
    "user": "hilarl",
    "comments": ["sample comment"],
    "likes": 23,
    "dislikes": 100,
    "resolution": { "x": 150, "y": 58 }
},
{
    "url": "details",
    "title": "Test Title",
    "description": "Sample Description",
    "image": "assets/img/3.jpg",
    "tags": ["photo", "internet"],
    "user": "hilarl",
    "comments": ["sample comment"],
    "likes": 23,
    "dislikes": 100,
    "resolution": { "x": 150, "y": 58 }
}] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-20T15:09:05.740

当我升级到 jQuery 1.8.0 时，这个错误就消失了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-25T13:46:34.283

我同意 - 面临同样的问题并更新到 cdn 链接（指向 1.9.1）并且它有效。感谢您为我指明正确的方向

# java - 从数字 EditText 字段中获取 NumberFormatException

> ID：11113238
> 
> 赞同：1
> 
> 时间：2012-06-20T05:19:27.983
> 
> 标签：java, android, android-edittext, numberformatexception

我正在尝试创建一个`for`-loop 来将视图添加到布局中。-loop 工作正常（我尝试使用`for`初始化变量），但我需要从`EditText`. 我使用了 a`try-catch`并且 LogCat 告诉我以下内容...

```
java.lang.NumberFormatException: invalid int "". 
```

网站developers.android.com 说这是由于错误地将字符串转换为整数，但我不明白我是如何错误地从`EditText`.

这是我的代码...

```
public class UserPref2Activity extends Activity 

{
@Override

public void onCreate(Bundle savedInstanceState) 
{
    try
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        EditText numSensors = (EditText) findViewById(R.id.num_sensors);
        String change = numSensors.getText().toString();
        int i = Integer.parseInt(change);

        int j; //iterates through the for loop 

        ScrollView sv = new ScrollView(this);
        LinearLayout ll = new LinearLayout(this);
        ll.setOrientation(LinearLayout.VERTICAL);
        sv.addView(ll);

        for(j=1;j<i;j++)
        {
            EditText name = new EditText(this);
            name.setText("Name:");
            EditText type = new EditText(this);
            type.setText("Type:");
            EditText bits = new EditText(this);
            bits.setText("Bits:");
            ll.addView(name);
            ll.addView(type);
            ll.addView(bits);
        } 
        this.setContentView(sv);
    }
    catch (Exception e)
    {
        //sends actual error message to the log
        Log.e("ERROR", "ERROR IN CODE:" + e.toString());
        //prints out location of error
        e.printStackTrace();
    }
  }
} 
```

这是我的 XML 文件...

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" 
android:id="@+id/userLayout" >

<TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Enter number of sensors:" />

<EditText
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:inputType="number"
    android:id="@+id/num_sensors" /> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T13:51:25.307

您`EditText`最初的值是空`String`的（即`""`）。这显然不是一个数字，因此当您尝试调用`int i = Integer.parseInt(change);`它时，会出现这样的错误。

有几种方法可以解决这个问题，但基本上可以归结为通过设置初始值来防止错误，或者检测空字符串并正确处理它。

为了防止错误发生...

```
EditText numSensors = (EditText) findViewById(R.id.num_sensors);
String change = numSensors.getText().toString();
if (change.equals("")){ // detect an empty string and set it to "0" instead
    change = "0";
}
int i = Integer.parseInt(change); 
```

或者将初始值设置`"0"`为`EditText`，但是这也会`0`在`EditText`界面上显示值而不是空的，因此它可能不适合所有用途...

```
<EditText android:layout_width="wrap_content"
          android:layout_height="wrap_content"
          android:inputType="number"
          android:text="0"
          android:id="@+id/num_sensors" /> 
```

如果你想检测错误并正确处理它，你会这样做......

```
EditText numSensors = (EditText) findViewById(R.id.num_sensors);
String change = numSensors.getText().toString();
int i = 0; // set it to 0 as the default
try {
    i = Integer.parseInt(change);
}
catch (NumberFormatException e){} 
```

这基本上设置了 的值，并且只有在代码没有给出错误`i = 0`时才会将其更改为不同的值。`try{}`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:23:27.460

如果您尝试解析空字符串，它将始终抛出`NumberFormatException`.

将您的代码更改为以下。

```
int i;
String change = numSensors.getText().toString();
if(change.length>0)
{
  i = Integer.parseInt(change);
}
else
{
   i=0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:23:09.223

我认为初始编辑文本将为空，因此“”（`blank is not a valid input`）是错误的，您应该在编辑文本中填写数据，然后单击任何事件，您应该进行解析工作....

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T05:24:42.553

编辑布局文件

```
<EditText
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:inputType="number"
android:text="0"
    android:id="@+id/num_sensors" /> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-20T05:27:16.833

您收到此错误是因为`""`您的编辑文本中最初没有任何内容或 /Empty String。获取仍在显示的编辑文本的文本是没有意义的。您可能想要一个按钮或其他一些事件来表示用户已完成在编辑文本中输入值，然后您可以继续获取编辑文本的值。但总是检查空字符串

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-20T05:29:22.317

因为您在 parseInt() 中传递了空字符串，所以在将字符串解析为 int 之前进行检查：

```
EditText numSensors  = (EditText) findViewById(R.id.num_sensors);
String change  = numSensors.getText().toString();
if (change.trim().equals("")) {
 //DO SOMETHING HERE
}
else
{
int i = Integer.parseInt(change);
YOUR CODE HERE....
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-11-15T23:25:15.777

为了防止 int 获得“”值，这是在空的 EditText 字段中第二次单击时发生的情况，您可以在 java 代码中抛出这一行：

```
int i;
String change = numSensors.getText().toString();
if(!(change.equals("")))
{
  i = Integer.parseInt(change);
} 
```

# python - 如何使主窗口中的按钮打开另一个窗口？

> ID：11113247
> 
> 赞同：0
> 
> 时间：2012-06-20T05:21:11.700
> 
> 标签：python, qt, pyside

我对此很陌生，并且使用 Qt Designer 制作了一个非常简单的主窗口 ui。我在项目中想要的第一个功能是单击按钮以打开不同的窗口。

所以基本上我有`autoGenUI.py`使用 pyside-uic 生成的文件，其中包括

```
from PySide import QtCore, QtGui

class AutoGeneratedUI(object): 
    def setupUi(self, MainWindow):
        #Auto generated code

    def retranslateUi(self, MainWindow):
        #Auto generated code 
```

当然，这一切都很好，因为 Qt 设计师做到了。然后我有我自己的 .py 文件，它基本上是我的应用程序的东西。

它看起来像这样：

```
import sys

from PySide.QtCore import *
from PySide.QtGui import *

from autoGenUI import *

class MyMainWindow(QtGui.QMainWindow):
    def __init__(self, parent=None):
        super(MyMainWindow, self).__init__(parent)
        self.ui = AutoGeneratedUI()
        self.ui.setupUi(self)

if __name__ == "__main__":
    app = QApplication(sys.argv)
    myMainWindow = MyMainWindow()
    myMainWindow.show()
    sys.exit(app.exec_()) 
```

我的按钮`self.pushButton`在自动生成的 python UI 中被调用。我想设计另一个窗口，然后调用那个窗口，但现在任何事情都可以。我只是不知道把代码放在哪里让我的按钮做某事。

我试图按照[文档](http://qt-project.org/wiki/Signals_and_Slots_in_PySide)进行操作，但无法正常工作。

任何帮助是极大的赞赏。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:26:42.157

需要将 pushButton 的 clicked 信号连接到 on_button_clicked() 等方法：

```
def __init__(self, parent=None):
    super(MyMainWindow, self).__init__(parent)
    self.ui = AutoGeneratedUI()
    self.ui.setupUi(self)
    # connect the clicked signal to on_button_clicked() method
    self.pushButton.clicked.connect(self.on_button_clicked) 

def on_button_clicked(self):
    print "button clicked"
    # here is the code to open a new window 
```

# c# - 使用 OpenXML 编写器将数据写入 Excel 的特定单元格

> ID：11113249
> 
> 赞同：1
> 
> 时间：2012-06-20T05:21:18.467
> 
> 标签：c#, export-to-excel, openxml-sdk

我有一个共同的要求，我有一个带有 3 个预定义工作表的 excel 模板，我必须动态地将值输入这些工作表，即通过从数据库中获取值。

我已经阅读了 StackOverFlow 上关于 OpenXMLWriter 的几乎所有文章，但没有一篇文章能帮助我实现我的要求。

模板不能更改，但只需将值填写到特定单元格中，顺便说一下，这些单元格有列标题。我必须使用 SAX 方法，因为从 DB 中检索的数据很大，而 DOM 方法是纯内存开销。

如果有人可以给我一个 C# 示例，我可以根据我的要求实现它，这将有很大帮助。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:03:29.267

有许多有用的 Excel 库允许您使用托管的 .NET 代码（EG、[Excel Helper Library](http://ehl.codeplex.com/)和[ExcelPackage](http://excelpackage.codeplex.com/)）与根据您的问题出现的最有用的“ExcelPackage”库进行交互。

[查看Excel Helper Library](http://ehl.codeplex.com/)中提供的示例，使用 Excel 数据看起来相当简单......

```
excel.Add(new ExcelCell(1, 1, "test1,1"));
excel.Add(new ExcelCell(1, 2, "test1,2"));
excel.Add(new ExcelCell(2, 2, "test2,2"));
excel.Add(new ExcelCell(2, 3, "test2,3")); 
```

如果没有更多信息，将很难提供帮助，因此如果您需要更多帮助，请提供有关您所面临问题的更多信息。

# google-maps - 谷歌地图：避免显示大海

> ID：11113252
> 
> 赞同：1
> 
> 时间：2012-06-20T05:21:44.263
> 
> 标签：google-maps

我试图找出一种方法来限制谷歌地图的拖动选项，例如：

*   地图视图仅限于显示某些国家。
*   但是在更高的缩放级别下，用户可以以只有大海在视图中的方式拖动地图。

我的要求是，不管用户的缩放级别如何，他都不能拖动地图来查看海景。那就是只应该显示陆地，如果试图进入大海，应该限制（防止拖动）。

我已经定义了边界以成功限制地图视图。但问题在于更高的缩放级别，用户可以拖动地图，仍在边界内，但只显示我想要阻止的大海。

但我仍然想不出一种方法来完成这项任务。任何人都可以请建议一种方法/机制吗？

谢谢你...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:40:03.080

乍一看，这似乎很难。如果有一点点可见的土地，你会怎么做，可以吗？

但是，您可以阻止用户拖动地图。在 MapOptions 中设置 draggable:false。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T07:01:11.093

我对你的问题有点困惑。

你说

“在更高的缩放级别下，用户可以以只有大海在视图中的方式拖动地图”

然后你说

“尽管用户处于什么缩放级别，但他不应该能够拖动地图来查看海景”

无论如何，我有一个解决方案，您可以使地图不可拖动，然后在缩放时更改该值。

例如：

```
function intialize{

    map = new google.maps.Map(document.getElementById("map_canvas");
    map.setOptions({ draggable : true });

}

google.maps.event.addListener(map,'zoom_changed',function () { 
  if (map.getZoom() >= 4) {
   map.setOptions({ draggable : false});
  }
}); 
```

编辑：我想我开始明白你在说什么了。我相信你想要的是让用户放大和探索一个国家，而不是把地图拖到水面上。如果你缩小，你不能再拖动了。我不太确定您是否可以完全实现这一点，但您绝对可以根据缩放级别确定地图是否可拖动。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:25:14.650

你好，我已经看过这个例子，所以如果你能找到一些解决方案，我建议你看一次。 [地图视图示例](http://mobiforge.com/developing/story/using-google-maps-android)

[我提到的另一个例子是这个](http://www.vogella.com/articles/AndroidLocationAPI/article.html)

# php - php 货币取值

> ID：11113254
> 
> 赞同：1
> 
> 时间：2012-06-20T05:22:01.117
> 
> 标签：php, numbers, currency

我需要知道如何服用

> 10.25 并将其转为 1025

基本上它需要从任何数字中删除句号，例如 1500.25 它应该是 150025

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T05:22:54.903

```
$number = str_replace('.','',$number); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T05:23:19.013

如果货币是浮点数：乘以 100（并将结果转换为`int`）。

```
$currency = 10.25;
$number = (int)($currency * 100); //1025 
```

请注意，此解决方案只会保存前两位小数 - 如果您有类似 的数字`10.123`，`3`则只会将其截断而不进行四舍五入。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-20T05:48:33.937

浮点运算的定义并不准确。因此，如果它是一个字符串，则不要将值转换为浮点数，如果它是浮点数，则避免将其转换为字符串。

这是一个检查值类型的函数：

```
function toCents($value) {
  // Strings with a dot is specially handled
  // so they won't be converted to float
  if (is_string($value) && strpos($value, '.') !== false) {
    list($integer, $decimals) = explode('.', $value);
    $decimals = (int) substr($decimals . '00', 0, 2);
    return ((int) $integer) * 100 + $decimals;

  // float values are rounded to avoid errors when a value
  // like ".10" is saved as ".099"
  } elseif (is_float($value) {
    return round($value * 100);

  // Other values are strings or integers, which are cast
  // to int and multiplied directly.
  } else {
    return ((int) $value) * 100;
  }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T08:16:29.443

如果您只想替换一个字符，请使用 strtr 代替 str_replace

```
$number = str_replace('.','',$number); 
```

和

```
$number = strtr($number, array('.', '')); 
```

相同的输出，但 strtr 更好。

# c# - 如何使用反射调用自定义运算符

> ID：11113259
> 
> 赞同：29
> 
> 时间：2012-06-20T05:22:44.623
> 
> 标签：c#, reflection, operator-overloading, operators, system.reflection

在我的小项目中，我使用`System.Reflection`类来生成可执行代码。我需要调用`+`自定义类型的运算符。有人知道如何使用 C# 反射调用自定义类的自定义运算符吗？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-06-20T05:43:13.800

C# 编译器将重载的运算符转换为名称为`op_XXXX`where的函数`XXXX`。例如，`operator +`编译为`op_Addition`.

以下是可重载运算符及其各自方法名称的完整列表：

```
┌──────────────────────────┬───────────────────────┬──────────────────────────┐
│         Operator         │      Method Name      │       Description        │
├──────────────────────────┼───────────────────────┼──────────────────────────┤
│ operator +               │ op_UnaryPlus          │ Unary                    │
│ operator -               │ op_UnaryNegation      │ Unary                    │
│ operator ++              │ op_Increment          │                          │
│ operator --              │ op_Decrement          │                          │
│ operator !               │ op_LogicalNot         │                          │
│ operator +               │ op_Addition           │                          │
│ operator -               │ op_Subtraction        │                          │
│ operator *               │ op_Multiply           │                          │
│ operator /               │ op_Division           │                          │
│ operator &               │ op_BitwiseAnd         │                          │
│ operator |               │ op_BitwiseOr          │                          │
│ operator ^               │ op_ExclusiveOr        │                          │
│ operator ~               │ op_OnesComplement     │                          │
│ operator ==              │ op_Equality           │                          │
│ operator !=              │ op_Inequality         │                          │
│ operator <               │ op_LessThan           │                          │
│ operator >               │ op_GreaterThan        │                          │
│ operator <=              │ op_LessThanOrEqual    │                          │
│ operator >=              │ op_GreaterThanOrEqual │                          │
│ operator <<              │ op_LeftShift          │                          │
│ operator >>              │ op_RightShift         │                          │
│ operator %               │ op_Modulus            │                          │
│ implicit operator <type> │ op_Implicit           │ Implicit type conversion │
│ explicit operator <type> │ op_Explicit           │ Explicit type conversion │
│ operator true            │ op_True               │                          │
│ operator false           │ op_False              │                          │
└──────────────────────────┴───────────────────────┴──────────────────────────┘ 
```

因此，要检索结构的`operator+`方法`DateTime`，您需要编写：

```
MethodInfo mi = typeof(DateTime).GetMethod("op_Addition",
    BindingFlags.Static | BindingFlags.Public ); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-20T05:37:59.840

```
typeof(A).GetMethod("op_Addition").Invoke(null, instance1, instance2); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:32:49.690

考虑将您的自定义运算符设为`property`您的`Class`. 然后访问`property`及其`value`通过`reflection`。

像

```
PropertyInfo pinfo = obj.GetType().GetProperty("CustomOperator", BindingFlags.Public | BindingFlags.Instance);
string customOperator = pinfo.GetValue(obj,null) as string; 
```

# android - Android：View Pager 水平滚动不流畅

> ID：11113267
> 
> 赞同：4
> 
> 时间：2012-06-20T05:23:09.163
> 
> 标签：android, android-viewpager, indicator

我正在使用视图寻呼机指示器，并且我已经成功实现了它，但我的问题是我的滑动速度很慢。对此的任何帮助将不胜感激。

我的指标活动：

```
public class ViewPagerIndicatorActivity extends FragmentActivity {
static PagerAdapter mPagerAdapter;
static ViewPager  mViewPager;
static ViewPagerIndicator mIndicator;

static int position,position1;
static String PositionTitle;
static String addposition;
ProgressDialog dialog;
public Context _context=this;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    // Create our custom adapter to supply pages to the viewpager.
try{

    mPagerAdapter = new PagerAdapter(getSupportFragmentManager());
    mViewPager = (ViewPager)findViewById(R.id.pager);
    mViewPager.setAdapter(mPagerAdapter);
    // Start at a custom position
    RelativeLayout firsthead=(RelativeLayout)findViewById(R.id.firsthead);
    firsthead.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            Intent ii=new Intent(getApplicationContext(),WebviewNew.class);
            startActivity(ii);
        }
    });

    mViewPager.setCurrentItem(0);

    mIndicator = (ViewPagerIndicator)findViewById(R.id.indicator);

    mViewPager.setOnPageChangeListener(mIndicator);

}catch (Exception e) {
    // TODO: handle exception
    System.out.println(e);
}
}

@Override
protected void onDestroy() {
    // TODO Auto-generated method stub
     mViewPager.setAdapter(null);
    super.onDestroy();
}

class OnIndicatorClickListener implements ViewPagerIndicator.OnClickListener{
    @Override
    public void onCurrentClicked(View v) {
        Toast.makeText(ViewPagerIndicatorActivity.this, "Hello", Toast.LENGTH_SHORT).show();
    }

    @Override
    public void onNextClicked(View v) {
        mViewPager.setCurrentItem(Math.min(mPagerAdapter.getCount() - 1, mIndicator.getCurrentPosition() + 1));
    }

    @Override
    public void onPreviousClicked(View v) {
        mViewPager.setCurrentItem(Math.max(0, mIndicator.getCurrentPosition() - 1));
    }

}

class PagerAdapter extends FragmentPagerAdapter implements ViewPagerIndicator.PageInfoProvider{

    public PagerAdapter(FragmentManager fm) {
        super(fm);
    }

    @Override
    public Fragment getItem(int pos) {
        Fragment f = new Fragment();
        if(pos==0)
        {
            f=LayoutOne.newInstance(_context);
        }
        if(pos==1)
        {
            f=LayoutTwo.newInstance(_context);  
        }
        if(pos==2)
        {
            f=Layoutthree.newInstance(_context);

        }
        if(pos==3)
        {
            f=Layoutfour.newInstance(_context); 
        }

    return f;
    }

    @Override
    public int getCount() {
        return list2.length;
    }

    @Override
    public String getTitle(int pos){

        PositionTitle=list2[pos];

        return PositionTitle;   
    }   
}

public static class ItemFragment extends ListFragment{

    String[] l1;

    static ItemFragment newInstance1(String[] date) {
        ItemFragment f = new ItemFragment();

        // Supply num input as an argument.
        Bundle args = new Bundle();

        args.putStringArray("date", date);
        f.setArguments(args);

        return f;
    }

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        try {
            this.l1=list2;

        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
       View v = inflater.inflate(R.layout.date_fragment, container, false);

         return v;
    }

    @Override 
    public void onActivityCreated(Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);

    }

}

public static final String[] list2 = new String[]{"Catagories","Latest","Most Downloaded","Top Rated"};

private class StartTaskP extends AsyncTask<String, String, String>
{

    @Override
    protected void onPreExecute()
    {
        // TODO Auto-generated method stub
        super.onPreExecute();
         dialog = ProgressDialog.show(ViewPagerIndicatorActivity.this, "Please wait", "Loading...");
    }

    @Override
    protected String doInBackground(String... params)
    {
        String hello = null;
        try
        {} catch (Exception e)
        {
            e.printStackTrace();
        }
  return hello;
    }

    @Override
    protected void onPostExecute(String result)
    {
        // TODO Auto-generated method stub
        super.onPostExecute(result);
        try{
            mIndicator.init(0, mPagerAdapter.getCount(), mPagerAdapter);
            Resources res = getResources();
            System.out.println("test11");
            Drawable prev = res.getDrawable(R.drawable.indicator_prev_arrow);
            Drawable next = res.getDrawable(R.drawable.indicator_next_arrow);
            mIndicator.setFocusedTextColor(new int[]{78, 103, 0});
            mIndicator.setUnfocusedTextColor(new int[]{255,255,255});
            //mIndicator.setFocusedTextColor(R.drawable.navigationtextcurrent);

            // Set images for previous and next arrows.
            mIndicator.setArrows(prev, next);

            mIndicator.setOnClickListener(new OnIndicatorClickListener());  
        }

        catch (Exception e) {
        // TODO: handle exception
        System.out.println(e);
    }
        dialog.dismiss();
    }
} 
```

和我的 ViewPagerIndicator：

```
public class ViewPagerIndicator extends RelativeLayout implements OnPageChangeListener {
private static final int PADDING = 10;
int i=0;
TextView mPrevious;
TextView mCurrent;
TextView mNext;
static int mCurItem;
int mRestoreCurItem = -1;

Intent ii= new Intent();
Context mContext;

static int PresentPosition1;

static String textCarrier;

LinearLayout mPreviousGroup;
LinearLayout mNextGroup;

int mArrowPadding;
int mSize;

ImageView mCurrentIndicator;
ImageView mPrevArrow;
ImageView mNextArrow;

 static PageInfoProvider mPageInfoProvider;

int[] mFocusedTextColor;
int[] mUnfocusedTextColor;

OnClickListener mOnClickHandler;

public interface PageInfoProvider{
    String getTitle(int pos);

}

public interface OnClickListener{
    void onNextClicked(View v);
    void onPreviousClicked(View v);
    void onCurrentClicked(View v);
}

public void setOnClickListener(OnClickListener handler){
    this.mOnClickHandler = handler;
    mPreviousGroup.setOnClickListener(new OnPreviousClickedListener());
    mCurrent.setOnClickListener(new OnCurrentClickedListener());
    mNextGroup.setOnClickListener(new OnNextClickedListener());
}

public int getCurrentPosition(){
    return mCurItem;
}

public void setPageInfoProvider(PageInfoProvider pageInfoProvider){
    this.mPageInfoProvider = pageInfoProvider;
}

public void setFocusedTextColor(int[] col){
    System.arraycopy(col, 0, mFocusedTextColor, 0, 3);
    updateColor(0);
}

public void setUnfocusedTextColor(int[] col){
    System.arraycopy(col, 0, mUnfocusedTextColor, 0, 3);
    mNext.setTextColor(Color.argb(160, col[0], col[1], col[2]));
    mPrevious.setTextColor(Color.argb(160, col[0], col[1], col[2]));
    updateColor(0);
}

@Override
protected Parcelable onSaveInstanceState() {
    Parcelable state = super.onSaveInstanceState();
    Bundle b = new Bundle();
    b.putInt("current", this.mCurItem);
    b.putParcelable("viewstate", state);
    return b;
}

@Override
protected void onRestoreInstanceState(Parcelable state) {
    super.onRestoreInstanceState(((Bundle)state).getParcelable("viewstate"));
    mCurItem = ((Bundle)state).getInt("current", mCurItem);
    this.setText(mCurItem - 1);
    this.updateArrows(mCurItem);
    this.invalidate();
}

/**
 * Initialization
 * 
 * @param startPos The initially selected element in the ViewPager
 * @param size Total amount of elements in the ViewPager
 * @param pageInfoProvider Interface that returns page titles
 */
public void init(int startPos, int size, PageInfoProvider pageInfoProvider){
    setPageInfoProvider(pageInfoProvider);
    this.mSize = size;
    setText(startPos - 1);
    mCurItem = startPos;
}

public ViewPagerIndicator(Context context, AttributeSet attrs) {
    super(context, attrs);
    addContent();
}

public ViewPagerIndicator(Context context, AttributeSet attrs, int defStyle){
    super(context, attrs, defStyle);
    addContent();
}

public ViewPagerIndicator(Context context) {
    super(context);
    addContent();
}

/**
 * Add drawables for arrows
 * 
 * @param prev Left pointing arrow
 * @param next Right pointing arrow
 */
public void setArrows(Drawable prev, Drawable next){
    this.mPrevArrow = new ImageView(getContext());
    //this.mPrevArrow.setImageDrawable(prev);
    this.mPrevArrow.setVisibility(View.INVISIBLE);

    this.mNextArrow = new ImageView(getContext());
    //this.mNextArrow.setImageDrawable(next);

    LinearLayout.LayoutParams arrowLayoutParams = new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
    //arrowLayoutParams.gravity = Gravity.CENTER;

    mPreviousGroup.removeAllViews();
    mPreviousGroup.addView(mPrevArrow, arrowLayoutParams);
    mPreviousGroup.addView(mPrevious, arrowLayoutParams);

    mPrevious.setPadding(PADDING, 0, 0, 0);
    mNext.setPadding(0, 0, PADDING, 0);

    mArrowPadding = PADDING + prev.getIntrinsicWidth();

    mNextGroup.addView(mNextArrow, arrowLayoutParams);
    updateArrows(mCurItem);
}

/**
 * Create all views, build the layout
 */
private void addContent(){
    mFocusedTextColor = new int[]{244, 240, 211};
    mUnfocusedTextColor = new int[]{160,131,21};

    // Text views

    // set font

    mPrevious = new TextView(getContext());
    mCurrent = new TextView(getContext());
    mNext = new TextView(getContext());

    RelativeLayout.LayoutParams previousParams = new RelativeLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
    previousParams.addRule(RelativeLayout.ALIGN_LEFT);
    previousParams.leftMargin=-28;
    previousParams.topMargin=10;

    RelativeLayout.LayoutParams currentParams = new RelativeLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
    currentParams.addRule(RelativeLayout.CENTER_HORIZONTAL);
    currentParams.topMargin=10;

    RelativeLayout.LayoutParams nextParams = new RelativeLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
    nextParams.addRule(RelativeLayout.ALIGN_PARENT_RIGHT);
    nextParams.rightMargin=-40;
    nextParams.topMargin=10;
    // Groups holding text and arrows
    mPreviousGroup = new LinearLayout(getContext());
    mPreviousGroup.setOrientation(LinearLayout.HORIZONTAL);
    mNextGroup = new LinearLayout(getContext());
    mNextGroup.setOrientation(LinearLayout.HORIZONTAL);

    mPreviousGroup.addView(mPrevious, new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
    mNextGroup.addView(mNext, new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));

    addView(mPreviousGroup, previousParams);
    addView(mCurrent, currentParams);
    addView(mNextGroup, nextParams);

    mPrevious.setSingleLine();
    mCurrent.setSingleLine();
    mNext.setSingleLine();

    mPrevious.setText("previous");
    mCurrent.setText("current");
    mNext.setText("next");

    try{
        Typeface tf=Typeface.createFromAsset(getContext().getAssets(), "fonts/trebuc.otf");

        mPrevious.setTypeface(tf);
        mCurrent.setTypeface(tf);
        mNext.setTypeface(tf);

        }catch (Exception e) {
            // TODO: handle exception
            System.out.println(e);
        }

    mPrevious.setClickable(false);
    mNext.setClickable(false);
    mCurrent.setClickable(true);
    mPreviousGroup.setClickable(true);
    mNextGroup.setClickable(true);

    // Set colors
    mNext.setTextColor(Color.argb(255, mUnfocusedTextColor[0], mUnfocusedTextColor[1], mUnfocusedTextColor[2]));
    mPrevious.setTextColor(Color.argb(255, mUnfocusedTextColor[0], mUnfocusedTextColor[1], mUnfocusedTextColor[2]));
    updateColor(0);
}

@Override
public void onPageScrollStateChanged(int state) {

}  

@Override
public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {
    positionOffsetPixels = adjustOffset(positionOffsetPixels);
    position = updatePosition(position, positionOffsetPixels);
    setText(position - 1);

    /*System.out.println("PageScrolled:"+(position-1));
    System.out.println("PageScrollednew:"+PresentPosition);
    */updateColor(positionOffsetPixels-1);
    updateArrows(position);
    //updatePositions(positionOffsetPixels);
    updatePositions(position);
    mCurItem = position;
    Bundle ii=new Bundle();
    //ii.putExtra("mcurItem", mCurItem);
    ii.putInt("key", mCurItem);

}

void updatePositions(int positionOffsetPixels){
    int textWidth = mCurrent.getWidth() - mCurrent.getPaddingLeft() - mCurrent.getPaddingRight();
    int maxOffset = this.getWidth() / 2 - textWidth / 2 - mArrowPadding;

    if(positionOffsetPixels > 0){
        maxOffset %= this.getPaddingLeft();
        int offset = Math.min(positionOffsetPixels, maxOffset);
        mCurrent.setPadding(0, 0, 2 * offset, 0);

    }else{

        maxOffset -= this.getPaddingRight();
        int offset = Math.max(positionOffsetPixels, -maxOffset);
        mCurrent.setPadding(-2 * offset, 0, 0, 0);

    }
}

void updateArrows(int position){
    if(mPrevArrow != null){
        mPrevArrow.setVisibility(position == 0 ? View.INVISIBLE : View.VISIBLE);
        mNextArrow.setVisibility(position == mSize - 1 ? View.INVISIBLE : View.VISIBLE);
    }
}

int updatePosition(int givenPosition, int offset){
    int pos;
    if(offset < 0){
        pos = givenPosition + 1;
    }else{
        pos = givenPosition;
    }
    return pos; 
}

/**
 * Fade "currently showing" color depending on it's position
 * 
 * @param offset
 */
void updateColor(int offset){
    offset = Math.abs(offset);
    // Initial condition: offset is always 0, this.getWidth is also 0! 0/0 = NaN
    int width = this.getWidth();
    float fraction = width == 0 ? 0 : offset / ((float)width / 4.0f);
    fraction = Math.min(1, fraction);
    int r = (int)(mUnfocusedTextColor[0] * fraction + mFocusedTextColor[0] * (1 - fraction));
    int g = (int)(mUnfocusedTextColor[1] * fraction + mFocusedTextColor[1] * (1 - fraction));
    int b = (int)(mUnfocusedTextColor[2] * fraction + mFocusedTextColor[2] * (1 - fraction));
    mCurrent.setTextColor(Color.argb(255, r, g, b));
}

/**
 * Update text depending on it's position
 * 
 * @param prevPos
 */
void setText(int prevPos){
    PresentPosition1=prevPos;
    if(prevPos < 0){
        mPrevious.setText("");
    }else{
        mPrevious.setText(mPageInfoProvider.getTitle(prevPos));
        }
    mCurrent.setText(mPageInfoProvider.getTitle(prevPos + 1));
    PresentPosition1=prevPos;

    //System.out.println("present text"+mPageInfoProvider.getTitle(prevPos + 1));

    if(prevPos + 2 == this.mSize){
        mNext.setText("");
    }else{
        mNext.setText(mPageInfoProvider.getTitle(prevPos + 2));
    }
}

// Original:
// 244, 245, 0, 1, 2
// New:
// -2, -1, 0, 1, 2
int adjustOffset(int positionOffsetPixels){
    // Move offset half width
    positionOffsetPixels += this.getWidth() / 2;
    // Clamp to width
    positionOffsetPixels %= this.getWidth();
    // Center around zero
    positionOffsetPixels -= this.getWidth() / 2;
    return positionOffsetPixels;
}

@Override
public void onPageSelected(int position) {
    // Reset padding when the page is finally selected (May not be necessary)
    mCurrent.setPadding(0, 0, 0, 0);
}

class OnPreviousClickedListener implements android.view.View.OnClickListener{
    @Override
    public void onClick(View v) {
        if(mOnClickHandler != null){
            mOnClickHandler.onPreviousClicked(ViewPagerIndicator.this);
        }
    }
}
class OnCurrentClickedListener implements android.view.View.OnClickListener{
    @Override
    public void onClick(View v) {
        if(mOnClickHandler != null){
            mOnClickHandler.onCurrentClicked(ViewPagerIndicator.this);
        }
    }
}
class OnNextClickedListener implements android.view.View.OnClickListener{
    @Override
    public void onClick(View v) {
        if(mOnClickHandler != null){
            mOnClickHandler.onNextClicked(ViewPagerIndicator.this);
        }
    }
}
} 
```

# jboss - 从 jboss 4 迁移到 jboss 5.1.1 eap

> ID：11113268
> 
> 赞同：1
> 
> 时间：2012-06-20T05:23:10.210
> 
> 标签：jboss, jboss5.x, ejb-2.x

如果我想部署在 jboss 4 中运行并使用 ejb 2.0 构建的应用程序，请告诉我需要做哪些更改

我正在尝试部署在 jboss 4 中运行并使用 ejb 2.0 构建的同一耳朵，但我遇到了部署异常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T15:39:19.883

有一个相当大的列表，但值得庆幸的是，它已经被一些以前做过的好心人记录在案。这是关于可能的迁移问题的 JBoss 社区文档：

[从 JBoss 4 迁移到 5](https://community.jboss.org/wiki/MigrationFromJBoss4?_sscc=t)

# javascript - 我想为非 ajax 调用显示预加载器并在加载资源后隐藏预加载器？

> ID：11113271
> 
> 赞同：0
> 
> 时间：2012-06-20T05:23:27.297
> 
> 标签：javascript, html

我正在请求一个包含图像和声音文件的 html5 网页。加载所有图像和声音文件后，我想使用样式属性隐藏预加载器。我如何知道为网页请求加载的最后一个资源，以便隐藏预加载器？注意：这是我的情况，我不使用任何 ajax 调用它是一个正常的网页请求。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:50:54.783

> 我如何知道为网页请求加载的最后一个资源，以便隐藏预加载器？

`load`当所有文件从所有资源（包括广告和图像）完成加载时触发该事件。来自 IE9测试驱动器的此链接 ( [http://ie.microsoft.com/testdrive/HTML5/DOMContentLoaded/Default.html](http://ie.microsoft.com/testdrive/HTML5/DOMContentLoaded/Default.html)`load` ) 演示了事件和`DOMContentLoaded`事件之间的差异（IE8 不支持）。

结果：

1.  当页面开始加载时，您必须为`load`事件注册事件处理程序并显示*预加载器消息*。
2.  当`load`事件发生时，浏览器执行您的加载事件处理程序，您可以在其中隐藏*预加载器消息*。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:33:52.233

好吧，您实际上无法访问图像和声音文件的“加载状态”。但是，如果加载了组件，浏览器会触发 onLoad 事件。这甚至适用于图像（可能还有声音文件）。请参阅[http://www.htmlcodetutorial.com/images/_IMG_onLoad.html](http://www.htmlcodetutorial.com/images/_IMG_onLoad.html)。`$(document).ready(...)`如果您使用 jQuery，您也可以使用（用于您的 html 页面）。

# google-apps-script - 将分隔文本作为字符串写入电子表格

> ID：11113273
> 
> 赞同：1
> 
> 时间：2012-06-20T05:23:37.157
> 
> 标签：google-apps-script

我有一个简短的脚本，我试图从 URL 中获取数据并将其写入现有电子表格的工作表中。脚本如下：

```
function urlDataImport() {
  var input = "https://reports.acc-q-data.com/clientreports/ecaldwell_201206192722/ecaldwell_20122722.txt";
  // The code below gets the HTML code.
  var response = UrlFetchApp.fetch(input);
  var data = response.getContentText();
  Logger.log(data);
  var ss = SpreadsheetApp.getActiveSpreadsheet();
  var ptSheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName("pt");
  ptSheet.getActiveRange().setValues(data);
} 
```

**data**中的信息是制表符分隔的，并在日志中正确显示，但因为它是一个字符串，我不能使用 .setValues 将其写入工作表**pt**，而且我不确定如何从任何其他 URL 中获取信息方法。

我很抱歉这个问题的基本性质，但我对脚本很陌生，所以任何帮助都将不胜感激。

更新代码：

```
function ptDataImport() { 
  var input = "https://reports.acc-q-data.com/clientreports/ecaldwell_201206192722/ecaldwell_2012062.txt";  
  var response = UrlFetchApp.fetch(input);  // Get the data from the URL as an object.
  var data = response.getContentText();  // Convet the object to text
  var dataSheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName("pt");  // Get the sheet to write the data to  
  var rows = data.split('\n');  // Splits the text into rows
  dataSheet.clear();
  var dataSet = new Array();
  for ( var i in rows){
    dataSet[i] = rows[i].split('\t'); // Split the rows into individual fields and add them to the 2d array
  }
  dataSet.pop(); // Had a blank row at the bottom that was giving me an error when trying to set the range - need to make this conditional somehow
  var numColumns = dataSet[0].length;
  var numRows = dataSet.length;
  var lastRow = dataSet[(numRows -1)];
  dataSheet.getRange(1,1,numRows,numColumns).setValues(dataSet);  // Get a range the size of the data and set the values
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-21T04:38:35.233

@Serge，我认为埃文的问题不同。Evan 担心拆分没有考虑行。

解决方案是使用两个拆分。第一的，

```
var rows = data.split('\n'); 
```

接着

```
for ( var i in rows){
  tmp = rows[i].split('\t'); // Use Serge's method if this doesn't work
  /* Get the range here */
  range.setValues([tmp]); 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T10:03:39.663

Range.setValues() 将二维数组作为输入。

我不确定你想做什么。如果您只想将数据写入单元格，请使用这段代码

```
ptSheet.getActiveRange().setValues([[data]]); 
```

如果要将数据中的每个元素写入电子表格中的一行，则可以使用

```
var tmp = data.split(DELIMITER); 
/* Get the correct range here */
range.setValues([tmp]); 
```

请注意在第一种情况和第二种情况下如何创建二维数组。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T15:10:35.070

我想最简单的做法是将这些选项卡转换为其他内容，例如逗号，毕竟这就是 csv 的“c”的来源......然后你可以在任何你想要的地方写它。

示例： `commaString = tabString.replace(\t/g,',') ;`应该可以，但我不是正则表达式的专家......如果我错了，肯定有人会纠正它;-)

# java - 在 VPS 中将域名指向 java 应用程序

> ID：11113282
> 
> 赞同：1
> 
> 时间：2012-06-20T05:24:19.250
> 
> 标签：java, tomcat, hosting, vps

我已经购买了 VPS 主机。安装了java 1.7和Tomcat 7。我在tomcat中部署了war文件，它在本地主机上工作正常；我得到了想要的输出。我也购买了托管空间。创建了一个目录（例如：mywebsite.com），如果我在其中放置一些静态 index.html 页面并以[http://www.mywebsite.com](http://www.mywebsite.com)访问该站点，它工作正常，即显示 index.html。我的问题不是显示那个 index.html，而是在键入那个网址后，我的 java 应用程序需要被调用。我怎样才能做到这一点？请指导我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:45:04.987

你需要做两件事

1) 在 tomcat conf/server.xml 文件中修改标签条目为

```
<Host name="mywebsite.com"  appBase="d:/webapps"
            unpackWARs="true" autoDeploy="true"
            xmlValidation="false" xmlNamespaceAware="false"> 
```

d:/webapps --> 在这个文件夹中你应该有你的 web 应用程序或 war 文件。

2) 在您的 Web 应用程序中，您需要在 web.xml 中添加欢迎文件列表标记为

```
<welcome-file-list>
      <welcome-file>pages/index.jsp</welcome-file>
</welcome-file-list> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:26:56.287

我建议你映射，你的域 www 记录到你的 vps IP 地址。

您可以通过登录域控制面板来完成

无需托管空间，因为您已经拥有 VPS

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-12-04T02:48:43.807

您可以简单地更新域配置，将任何对 yourwebsite.com 的请求转发到 VPS 服务器地址，例如 http://ipaddress:port /myAPP

# javascript - JavaScript 中基于作用域的变量阴影

> ID：11113292
> 
> 赞同：3
> 
> 时间：2012-06-20T05:25:39.507
> 
> 标签：javascript, function, scope

我很难理解基于范围的 JavaScript 中的变量阴影。考虑这个小代码片段：

```
var k = {
    prop1: 'test',
    prop2: 'anotherTest'
}

for(var k = 0; k < 10; k++) {
    console.log(k);
}

//prints number
console.log(typeof k);

//prints 10
console.log(k);

//undefined
console.log(k.prop1); 
```

这很好，因为由于立即函数作用域，循环计数器变量 k 会影响我们之前声明的 json 变量 k。因此，可以说 json 变量 k 变得不可访问。

**问题：**

* * *

1.  在内存分配方面，既然没有办法访问原始的json var k，是否有资格进行垃圾回收？分配的内存会被释放吗？还是“引用孤儿”变量仍然存在？如果是，为什么以及持续多长时间？

2.  有没有一种方法可以访问原始 json var k 而无需在 for 循环之前编写任何代码？

现在考虑另一个稍作修改的代码片段：

```
var k = {
    prop1: 'test',
    prop2: 'anotherTest'
}

var m = {
    prop1: k
}

for(var k = 0; k < 11; k++) {
    console.log(k);
}

//prints number
console.log(typeof k);

//prints 10
console.log(k);

//undefined
console.log(k.prop1);

//reference altered? No, this reference points to the original json k
//firebug dumps object to console
console.log(m.prop1); 
```

**问题：**

* * *

1.  这一次，我们事先在另一个 json 对象中保存了对原始 k 的引用。当然，内存不会被释放。但是，评估 m.prop1 不会解析为更新后的整数 k，其值为 10？为什么这个分辨率不会导致值为 10 的循环计数器？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T05:46:56.783

> 1#在内存分配方面，既然没有办法访问原始的json var k，是否有资格进行垃圾回收？分配的内存会被释放吗？还是“引用孤儿”变量仍然存在？如果是，为什么以及持续多长时间？

只有**一个**变量叫做`k`。`var` *不“声明一个变量”* ¹在其他语言的意义上。这里*没有阴影*。相反，它是一个*提升*到函数顶部的注释。

先前已知的对象`k`不再是*强可达*的，因此可以回收。（具体*何时*依赖于实现，但它是合格的。）

> 2# 有没有办法访问原始的 json var k 而无需在 for 循环之前编写任何代码？

只有**一个**变量叫做`k`。`var` *不“声明一个变量”* ¹在其他语言的意义上。这里*没有阴影*。相反，它是一个*提升*到函数顶部的注释。

循环中的赋值会覆盖*相同* `k`的变量。

> 3#这一次，我们在另一个json对象中保存了对原始k的引用。当然，内存不会被释放。但是，评估 m.prop1 不会解析为更新后的整数 k，其值为 10？为什么这个分辨率不会导致值为 10 的循环计数器？

变量不是对象。表达式，包括变量名，在 JavaScript中被*急切地求值。**评估*时由变量*命名*的对象现在由 命名。*因此，为变量*分配新值对*先前*评估的内容没有影响。`k``m = { prop1: k }`*`m.prop1` *`k``k`**

 ***JavaScript 中对变量的唯一引用出现在赋值的左侧或像`typeof`or之类的运算符`del`。否则，变量*永远不会*在表达式产生中被引用。不要将引用与[Call-By-Object-Sharing](http://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing)或“对象变异”语义混淆：更改对象的*属性会使**该*对象发生变异。（如所见，某些类型`number`是*不可变*的，不允许自定义属性“粘贴”。）

* * *

以上假设代码出现在函数中。在任何函数之外的规则`var`略有不同——在这种情况下，它*不*声明局部变量，而`k`只是（仍然）引用全局`window.k`属性。

¹正确的术语*是*“声明”；但是，我发现将其视为注释，因为它是一个函数范围的属性，`x`并且在陈述的意义上不是“评估”的，所以更清楚。例如，这两个函数是等价的：

```
function () { var x = 1; return x }
function () { x = 1; return x; var x } 
```

* * *

也可以看看：

*   [JavaScript 作用域和提升](http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting)

*   [在 JavaScript 中使用 var 和不使用 var 的区别（kangax 的回答）](https://stackoverflow.com/a/1471738/166390)***

# qt - 如何在qt中更改textcolor编辑器

> ID：11113293
> 
> 赞同：0
> 
> 时间：2012-06-20T05:25:39.517
> 
> 标签：qt, colors, qsettings

这是我的语法编辑器程序，我想显示关键字、类、函数和...用单独的颜色我在配置文件中设置颜色（使用 Qsetting），例如在我的配置文件中：

```
FunctionColor=blue 
```

在我的鳕鱼中，我阅读了配置文件：

```
QString FunctionColor=settings.value("FunctionColor").toString(); 
```

我如何在此指令中设置颜色：

```
functionFormat.setForeground(Qt::FunctionColor); 
```

编译器给出错误？我必须做什么？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:59:46.793

如果您提供清晰的代码段而不是上面的示例说明，那就太好了。但是，根据我的猜测，如果您查看 Qt 文档，

```
setForeground 
```

采用 QBrush 类型的参数。这意味着，要获得您可能想要的内容，您需要添加一些逻辑来将字符串值转换为 QBrush 值，例如：

```
if (FunctionColor == "blue")
{
   functionFormat.setForeground(Qt::blue);    
} 
```

看看这是否可以解决问题。

# c# - 将 dd/MM/yyyy 转换为 yyyy/MM/dd？

> ID：11113301
> 
> 赞同：3
> 
> 时间：2012-06-20T05:26:28.633
> 
> 标签：c#, asp.net

我想将字符串“30/12/2012”转换为“2012/12/30”。我的应用程序设置为“en-CA”，但数据库默认接受 yyyy/MM/dd。

> 如何在不依赖服务器上设置的当前文化信息的情况下做到这一点？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-20T05:51:03.640

正如所有评论所说，但到目前为止没有一个答案说：*不要将它作为 string 传递给数据库*。

尽早解析您收到的任何文本，然后在其他任何地方使用*它*`DateTime`来表示它，包括您如何通过参数化 SQL ¹将其发送到数据库。这适用于所有类型的值：尽快将其*转换*为数据的“自然”类型，并尽可能长时间地保持这种自然表示。日期不是字符串，只有在确实需要时才应将其转换为字符串 - 理想情况下*是*在将其显示给用户之前。

 ***解析可以使用`DateTime.ParseExact`或`DateTime.TryParseExact`取决于这是“可疑”数据（例如来自用户）还是应该*真正*正确并且异常是对不可解析值的最适当反应的数据。`CultureInfo.InvariantCulture`我建议您使用自定义格式字符串传入。例如：

```
DateTime date = DateTime.ParseExact(text, "dd/MM/yyyy",
                                    CultureInfo.InvariantCulture); 
```

（如果你做了很多日期/时间工作，你可能还想考虑使用我的[Noda Time 项目](http://noda-time.googlecode.com)，它可以让你以更丰富的方式表达价值——在这种情况下，你可能会使用`LocalDate`.）

* * *

¹如果您尚未使用参数化 SQL，而是将值直接烘焙到 SQL 中，那么您遇到的问题比日期/时间转换更大。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-20T05:29:13.537

您可以在 Format 和大多数 ToString 函数中指定 CultureInfo。

即[DateTime.ToString(CultureInfo)](http://msdn.microsoft.com/en-us/library/ht77y576.aspx)和[DateTime.Parse(string, CultureInfo)](http://msdn.microsoft.com/en-us/library/kc8s65zs)将让您在一种文化（即当前或`new CultureInfo("en-CA")`）中解析字符串并使用另一种类似的格式`new CultureInfo("en-us")`。

注意：您可以考虑通过设置 Thread.CurrentCulture 在其他文化（即`en-US`）下运行所有​​数据库访问，因为有时数字格式也会受到影响（如果数字存储为字符串）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-20T05:32:54.293

如果它总是采用相同的格式。然后在`/`角色上拆分

```
string[] tempsplit = datestring.Split('/'); 
```

然后把它放回去

```
string joinstring = "/";
string newdate = tempsplit[2] + joinstring + tempsplit[1] + joinstring + tempsplit[0]; 
```

简单的。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-20T05:45:19.043

首先使用将您的字符串转换为 DateTime 格式

```
DateTime dt = Convert.ToDateTime("your string value"); 
```

然后使用以下命令将其保存在字符串中：

```
string st=dt.ToString("yyyy/MM/dd"); 
```

这会将您的日期格式转换为您想要的任何所需格式，而不取决于文化

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-20T05:34:38.513

这似乎有效。

```
 var x = new string[] { "2012/06/12", "20/06/2012", "111/111/1111" };
        foreach (var ds in x)
        {
            DateTime d = default(DateTime);
            try
            {
                d = DateTime.Parse(ds, CultureInfo.GetCultureInfo("en-CA"));
            }
            catch (Exception ex)
            {
                try
                {
                    d = DateTime.ParseExact(ds, "yyyy/MM/dd", CultureInfo.InvariantCulture);
                }
                catch
                {
                }
            }
            if (d == default(DateTime))
                Console.WriteLine("error");
            else
                Console.WriteLine(d.ToString());
        } 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-06-20T05:35:36.553

无需讨论数据库接受或不接受什么格式的问题，您可以像这样进行转换：

*   将字符串转换为日期时间，如此[处所述](http://www.codeproject.com/Articles/14743/Easy-String-to-DateTime-DateTime-to-String-and-For)
*   [像这样](http://www.dotnetperls.com/datetime-format)更改格式并再次将其转换为字符串***

# database - 在 Postgresql 中限制 Double Precision 或 float8 类型中的小数位数

> ID：11113306
> 
> 赞同：4
> 
> 时间：2012-06-20T05:27:11.163
> 
> 标签：database, postgresql, floating-point, precision

我有一个 postgresql 数据库，并将其用于处理货币价值的项目。我的问题是：如何将 postgresql 表中的双精度或 float8 类型列的小数位数限制为两位？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-20T05:35:42.887

只需使用`Decimal`( `Numeric`) 类型，如[手册中所述](http://www.postgresql.org/docs/9.1/static/datatype-numeric.html)，例如`cost decimal(10,2)`.

第一个数字 (10) 定义数字的总*长度*（所有数字，包括小数点后的数字），而第二个数字 (2) 表示其中有多少在小数点后。上面的声明在点前面给了你 8 位数字。当然，您可以增加它 -`Numeric`类型的限制要高得多。

在我看来，当您处理货币或其他与货币相关的值时，没有必要使用浮点数。我不知道这两种类型之间的性能比较，但`Decimal`有一个优点 - 它是一个精确的数字（浮点通常不是这种情况）。我还建议阅读[有关该主题的有趣但简短的讨论](http://forums.devshed.com/postgresql-help-21/numeric-vs-float-607281.html)。

# android - 如何实现语音识别和录音的“完成”

> ID：11113314
> 
> 赞同：0
> 
> 时间：2012-06-20T05:27:41.193
> 
> 标签：android, android-intent

我们使用的是安卓 4.0.4。使用键盘时，它有一个麦克风按钮。当我们使用麦克风按钮时，它会在对话框中显示一个“完成”按钮。您可以在以下视频中看到一个完成按钮（尽管他没有按下它）：

[http://www.youtube.com/watch?v=-ftGIv3w8R8](http://www.youtube.com/watch?v=-ftGIv3w8R8)

实际上，一个人按下完成按钮表示他说完了。这就是我们想要在我们正在开发的应用程序中实现的。我们目前的工作，基于

[http://www.jameselsey.co.uk/blogs/techblog/android-how-to-implement-voice-recognition-a-nice-easy-tutorial/](http://www.jameselsey.co.uk/blogs/techblog/android-how-to-implement-voice-recognition-a-nice-easy-tutorial/)

没有此功能，应用程序只是选择“静音”并停止输入。我们希望能够说话，当我们单击“完成”时，即停止接收输入。我们缺少什么，我们需要在哪里看？感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:48:03.737

如果您想要做的不是在一个语音识别周期后停止输入，您可以听到点击完成按钮并重新启动语音识别。

在我提供帮助之前，我可以使用更多信息，可能是语音识别部分的屏幕截图。

谢谢。

# sql-server - 数据仓库设计的哪个部分用于分析 KPI？

> ID：11113315
> 
> 赞同：0
> 
> 时间：2012-06-20T05:27:58.090
> 
> 标签：sql-server, data-warehouse

嘿伙计们，我刚开始在大学学习数据仓库，谁能告诉我哪个部分可以用来分析和调查 kpi 度量？

是一个人可以了解kpis的ETL过程吗？

感谢帮助将不胜感激

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T05:32:12.797

性能指标 (KPI) 与分析服务 (SSAS) 中的多维数据集相关。请通过 msdn 链接了解更多详细信息

[关键绩效指标](http://msdn.microsoft.com/en-US/library/ms174538%28v=sql.90%29)

# mysql - 在一个查询中使用具有不同属性的两个数据库

> ID：11113319
> 
> 赞同：0
> 
> 时间：2012-06-20T05:28:57.897
> 
> 标签：mysql, sql

我在同一台服务器上有两个数据库。

当用户搜索任何术语时，我想显示来自两个不同数据库的单个结果！我们应该怎么做？我正在使用 JSP

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T08:13:27.013

您不需要连接两个数据库。让我解释..

> 我们有两个数据库 DB_1 和 DB_2，它们都有表 DB_1.Table1 和 DB_2.Table2。

假设 DB_1 有更多的表要使用。这里你只需`GRANT`要将 DB_2 的 Table2 提供给 DB_1。或者您可以为 DB_2 的所有表提供授权（根据您的需要）。这就是 Oracle 的行为方式。如果您的数据库服务器不支持相同的，只需授予您 DB_1 的用户使用不同数据库的多个表的权限 ( [GRANT )。](http://dev.mysql.com/doc/refman/5.1/en/grant.html)

查询看起来像..

```
Select t1.id, t1.name,t2.id, t2.name t2 from DB_1.Table1 t1, DB_2.Table2 t2 where... 
```

正如你所写

> *当用户搜索任何术语时，我想显示来自两个不同数据库的单个结果！*

您的查询将是..

```
Select t1.id, t1.name from DB_1.Table1 t1 where...
Union All
Select t2.id, t2.name from DB_2.Table2 t2 where... 
```

# git - 从我的 git 历史记录中删除 4 个提交

> ID：11113322
> 
> 赞同：17
> 
> 时间：2012-06-20T05:29:07.590
> 
> 标签：git, git-rebase

我做了一些提交并将它们推送到我的存储库中。然后我做了一个拉取请求，但我意识到有些提交我不想在拉取请求中。

它们看起来像这样：

```
My commits look like this:

Correct HTML    
ab1c41c 

HTML escaping   
8b38955 

Merge branch 'master' into internationalized    
2854662

Modified config 
b942f13 

tried pushing   
b73d792 

Added assets    
f20106e 

Added config    
408118f 

Fixed views conflicts   
86f2509 

added layouts   
da27e11 

Fixed layout markup
92d6bcc 
```

如果我想摆脱这些提交：

```
Modified config 
b942f13 

tried pushing   
b73d792 

Added assets    
f20106e 

Added config    
408118f 
```

我该怎么做？请注意，我想保留这些早于我要删除的那些：

```
Correct HTML    
ab1c41c 

HTML escaping   
8b38955 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-06-20T07:09:08.480

您可以进行[交互式变基](http://git-scm.com/book/en/Git-Tools-Rewriting-History)。

假设您的头在`ab1c41c`您的示例中，请按如下方式调用变基

```
git rebase -i HEAD~7 
```

这告诉 git 你想要操纵最后 8 个左右的提交。您将进入您的编辑器，其中包含提交列表和一些说明。

删除包含要删除、保存和退出的提交的行。Git 将执行 rebase，仅此而已。

请记住，由于变基，如果你想推送到同一个分支，你需要传递 option `--force`。

**免责声明**重新定位和强制推送可能会导致您失去工作或惹恼他人，因此请确保您了解自己在做什么。:)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-20T08:24:21.907

正如 Blake Taylor 在[这里](https://stackoverflow.com/a/11114517/1365319)提到的，您可以使用[交互式 rebase](http://git-scm.com/book/en/Git-Tools-Rewriting-History)来重新排序提交（或）删除中间提交。

但这必须在您将这些提交推送到公共存储库之前完成。[参考这里](http://git-scm.com/book/en/Git-Branching-Rebasing#The-Perils-of-Rebasing)。在您的情况下，这些提交已经在公共存储库中可用。所以，我不建议使用rebase。

如果您不希望这些提交在您的工作目录中。

*   a) 创建一个分支，指向 86f2509（工作树中的最后一个稳定提交）。

    `git checkout -b <branch name> 86f2509`

*   b)`Cherry Pick`你想要的那些提交。在你的情况下`ab1c41c`和`8b38955`.

    `git cherry-pick 8b38955 ab1c41c`

现在您的工作目录将不会有那些不需要的提交。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:31:39.077

只需在之前的提交上使用 --hard 重置：

```
git reset --hard 86f2509 
```

当心：你将永远失去这些提交，没有办法回去。此外，如果有人拉入了您想要摆脱的提交，事情可能会变得一团糟。在这种情况下，您可能想查看“git revert”。

# iphone - 我想使用 UIBezierPath 之类的任何关闭路径来裁剪图像。可以在 iPhone 应用程序中使用吗？

> ID：11113330
> 
> 赞同：5
> 
> 时间：2012-06-20T05:29:47.217
> 
> 标签：iphone, objective-c, ios, xcode, image-processing

我想使用 UIBezierPath 之类的任何关闭路径在我的 iPhone 应用程序中裁剪图像。我知道可以使用矩形，但我想裁剪成不同的形状。就像我使用触摸制作一个形状并想裁剪该图像，这样它是如何可能的。任何建议或帮助。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T07:52:14.237

您可以使用 shapelayer 裁剪图像。为此，您必须创建一个路径，该路径将用作新图像的边框。你应该看看这个[问题](https://stackoverflow.com/questions/9637270/cashapelayer-croping-image)。

```
CALayer* contentLayer = [CALayer layer];
[contentLayer setFrame:CGRectMake(0, 0, 80, 80)];
CAShapeLayer* mask = [CAShapeLayer layer];

CGMutablePathRef path = CGPathCreateMutable();

CGPathMoveToPoint(path, NULL, 10, 10);
CGPathAddLineToPoint(path, NULL, 10, 80);
CGPathAddLineToPoint(path, NULL, 80, 80);
CGPathAddLineToPoint(path, NULL, 80, 10);
mask.path = path;

[contentLayer setContents:(id)[[UIImage imageNamed:@"image.png"] CGImage]];
[contentLayer setMask:mask];          

[[self layer]addSublayer:contentLayer]; 
```

像这样的东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T08:08:23.597

您可以使用掩码来完成此操作。您可以使用`CGImageMaskCreate`.

如果您需要示例：

[知道为什么这个图像屏蔽代码不起作用吗？](https://stackoverflow.com/questions/1133248/any-idea-why-this-image-masking-code-does-not-work)

[http://mobiledevelopertips.com/cocoa/how-to-mask-an-image.html](http://mobiledevelopertips.com/cocoa/how-to-mask-an-image.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-06-01T09:36:51.590

// 在代码中使用：

```
 -(UIImage *)croppedImage

{
   UIImage *myImage = UIGraphicsGetImageFromCurrentImageContext();

UIGraphicsEndImageContext();
[self.bezierPath closePath];

CGContextSetRGBStrokeColor(UIGraphicsGetCurrentContext(), 0.0, 0.0,   0.0, 0.0);
_b_image = self.bg_imageview.image;

CGSize imageSize = _b_image.size;
CGRect imageRect = CGRectMake(0, 0, imageSize.width, imageSize.height);

UIGraphicsBeginImageContextWithOptions(imageSize, NO, [[UIScreen mainScreen] scale]);
[self.bezierPath addClip];
[_b_image drawInRect:imageRect];
UIImage *croppedImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
return croppedImage;} 
```

# php - CakePHP：安全删除记录的正确方法

> ID：11113333
> 
> 赞同：0
> 
> 时间：2012-06-20T05:29:51.103
> 
> 标签：php, cakephp, cakephp-2.0, cakephp-2.1

我的控制器中有这个。

```
public function delete($id) {
    if($this->request->is('get')) {
        throw new MethodNotAllowedException();
    }

    $this->Memberlist->id = $id;
    if (!$this->Memberlist->exists()) {
        throw new NotFoundException(__('Invalid list.'));
    }
    if ($this->Memberlist->delete()) {
        $this->Session->setFlash(__('List deleted.'), 'success');
        return $this->redirect(array('action'=>'index'));
    }
    $this->Session->setFlash(__('List was not deleted.'), 'error');
    return $this->redirect(array('action'=>'index'));
} 
```

我的模型看起来像这样：（属于）

```
<?php

class Memberlist extends AppModel {
    public $name = 'Memberlist';
    public $belongsTo = array(
            'Account' => array(
            'className' => 'Account',
            'foreignKey' => 'account_id'
        )
    ); 
```

在我的一种观点中，我有这样的事情：

```
echo $this->Form->postLink('Delete', 
                    array('action' => 'delete', $list['Memberlist']['id']),
                    array('class'=>'btn-mini btn', 'confirm' => 'Are you sure?')); 
```

它创建了一个这样的 HTML：

```
<form id="post_4fe15efc0d284" method="post" style="display:none;" name="post_4fe15efc0d284" action="/Grid/memberlists/delete/9">
<input type="hidden" value="POST" name="_method">
<input id="Token1627936788" type="hidden" value="8756f7ad21f3ab93dd6fb9a4861e3aed4496f3f9" name="data[_Token][key]">
<div style="display:none;">
</form>
<a class="btn-mini btn" onclick="if (confirm('Are you sure?')) { document.post_4fe15efc0d284.submit(); } event.returnValue = false; return false;" href="#">Delete</a> 
```

问题是，当我使用 Firebug（或任何开发人员工具）更新`ID`发现的内容时`action="/Grid/memberlists/delete/9"`，我几乎可以删除任何内容！即使来自不同的帐户。即使我打开了安全组件。

这样做的正确方法是什么？我正在考虑检查`account_id`当前登录用户的 account_id。但我只是好奇 CakePHP 是否有一些开箱即用的东西可以解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T05:55:20.073

您可以在模型中添加`beforeDelete`回调，并查询数据库并检查用户是否被允许删除记录，或者他是所有者。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T06:35:10.360

要真正阻止您的用户完成不同的操作，例如删除不属于用户的内容，您应该使用[Auth 组件](http://book.cakephp.org/2.0/en/tutorials-and-examples/blog-auth-example/auth.html)。

我假设 Account 模型存储用户数据。您需要按照说明书中的教程进行操作，但我强调了删除权限将如何被拒绝。

您的 isAuthorized 方法看起来像这样：

```
public function isAuthorized($account) {
    // The owner of a post can edit and delete it
    if (in_array($this->action, array('edit', 'delete'))) {
        $memberListId = $this->request->params['pass'][0];
        if ($this->MemberList->isOwnedBy($memberListId, $account['id'])) {
            return true;
        }
    }

    // Default deny
    return false;
} 
```

这将进入模型：

```
public function isOwnedBy($memberList, $account) {
    return $this->field('id', array('id' => $memberList, 'account_id' => $account)) === $post;
} 
```

# ruby-on-rails - 我的 Rspec 测试拒绝运行

> ID：11113335
> 
> 赞同：1
> 
> 时间：2012-06-20T05:30:12.273
> 
> 标签：ruby-on-rails, testing

[http://ruby.railstutorial.org/chapters/static-pages#code:pages_controller_spec_title](http://ruby.railstutorial.org/chapters/static-pages#code:pages_controller_spec_title)

我的代码如下。未注释时，测试不会运行。下面是允许定义的测试启动的代码的注释版本。我不知道如何用 ruby​​ 语法颜色格式化这个问题。不要对我大喊大叫。

```
require 'spec_helper'

describe "Static Pages" do
  describe "Home page" do
    it "should have the h1 'Sample App'" do
      visit '/static_pages/home'
      page.should have_selector('h1', :text =>'Sample App')  
    end
    it "should have the title 'Home'" do
      visit '/static_pages/home'
      page.should have_selector('title',
       :text => "Ruby on Rails Tutorial Sample App | Home")  
    end   
  end

  describe "Help Page" do
    it "should have the h1 'Help'" do
      visit '/static_pages/help'
      page.should have_selector('h1', :text =>'Help')
    end
    it "should have the title 'Help'" do
      visit '/static_pages/help'
      page.should have_selector('title', 
      :text => "Ruby on Rails Tutorial Sample App | Help")
    end
  end

  describe "About Page" do
    it "should have the h1 'About us'" do
      visit '/static_pages/about'
      page.should have_selector('h1', :text => 'About us')
    end
    it "should have the title 'About us'" do
      visit '/static_pages/about'
      page.should have_selector('title', 
      :text => "Ruby on Rails Tutorial Sample App | About us")
    end  
  end

  # describe 'Contact' do
  #     it "Should have the h1 'Contact'" do
  #       visit "static_pages/contact"
  #       page.should have_selector('h1', :text => 'Contact')
  #     end
  #     it "should have the title 'Contact'"
  #       visit "static_pages/contact"
  #       page.should have_selector('title',
  #       :text => "Ruby on Rails Tutorial Sample App | Contact")
  #     end
  #   end      
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:48:28.243

`do`我猜你在这一行的末尾忘记了：

```
 it "should have the title 'Contact'" 
                                       ^ 
```

# c++ - 我可以在什么 IDE/编译器中开发将部署在 FreeBSD 服务器上的 C++ 代码。

> ID：11113336
> 
> 赞同：1
> 
> 时间：2012-06-20T05:30:14.450
> 
> 标签：c++, linux, ide, freebsd

我的代码将部署在 FreeBSD 上。我可以在 Win7 中使用 VS2010 进行编码吗？这可以使用 gcc 在 Linux 上完成吗？或者我需要在我的笔记本电脑上安装freebsd。

我计划购买新的超极本，但不确定 FreeBSD 是否支持驱动程序或无线。这里的最佳做法是什么？虚拟机？

感谢模组。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:51:19.933

您可以只在 Visual Studio 中编写代码，但是您将无法在 Windows 中编译和运行它，除非您只使用标准库。

要编译和测试你的代码，你需要一个 FreeBSD。

我从来没有在笔记本电脑上使用过 FreeBSD，所以我不能说用 Windows 双重引导它是否是个好主意。

最好的情况是您可以访问与您的生产服务器具有相同配置的测试服务器（即相同的 FreeBSD 版本、相同的软件包等）。然后，您可以在 VS 中编写代码，将其签入存储库，通过 SSH 连接到服务器，在那里更新源的本地副本并构建。

如果这不是一个选项，我建议设置一个虚拟环境。下载[VirtualBox](http://virtualbox.org)，获取 FreeBSD 并安装在虚拟机上。为 SSH设置[端口转发](http://www.virtualbox.org/manual/ch06.html#natforward)，然后该过程与使用单独的服务器几乎相同。根据您将要进行的工作的性质，您可能需要进行一些额外的调整。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:07:24.593

这是我在不使用任何操作系统特定库的情况下使用的设置。

1.  在您的 Windows 7 机器上像往常一样开发您的应用程序，而无需使用 MFC/ATL 等。如果您要链接到外部库/API，您将不得不使用可跨 Windows 和 Linux 移植的一个（例如 Boost 库）。不要使用预编译的头文件 (stdfax.h) 或任何其他特定于 Windows 的选项。

2.  获取 VirtualBox 并安装您最喜欢的操作系统（在本例中为 FreeBSD）和您最喜欢的工具链（gcc clang）

3.  在 Windows 文件系统中共享您正在开发应用程序的磁盘/文件夹，以便它在 VirtualBox 中可见。在 Ubuntu 中，它们最终位于 /media/sf_Folder。

4.  在 VirtualBox 中的 FreeBSD 中编译。除了 Visual Studio 创建的东西之外，您还需要并行进行替代 make 系统设置。确保在 FreeBSD 和 Windows 之间构建系统使用的目录（用于存储目标文件等）没有任何冲突。您可以尝试这个[http://code.google.com/p/make-it-so/](http://code.google.com/p/make-it-so/)将您的 VS 解决方案转换为 gcc makefile。

通过这种方式，您可以继续使用您最喜欢的 IDE，并在同一台机器上的目标 *ix OS 上进行重建。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:13:41.997

gcc + gvim +（（带有[omnicppcomplete](http://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&sqi=2&ved=0CFoQFjAA&url=http://www.vim.org/scripts/script.php?script_id=1520&ei=wWnhT6DdG-iV0QXv8qWkAw&usg=AFQjCNE8YjH5nTSTfJvV79-y0Ww_0r0dtA)的ctags ）或（带有[clang_complete的](http://www.vim.org/scripts/script.php?script_id=3302)[clang](http://clang.llvm.org/)）和STL + Boost。

# c# - 页面设计中的错误处理（来源）

> ID：11113337
> 
> 赞同：0
> 
> 时间：2012-06-20T05:30:17.997
> 
> 标签：c#, asp.net, try-catch, eval

我在 GridView 中有一个控件，它将 dateformat 从**MMddyyyy**转换为**ddMMyyyy**。

```
<ItemTemplate>
  <asp:Label ID="lblName" runat="server"
       Text='<%# Eval("Value1") != DBNull.Value ? 
                (Convert.ToDateTime(Eval("Value1")).ToString("dd/MM/yyyy")) : Eval("Value1") %>'>
  </asp:Label>
</ItemTemplate> 
```

如果它得到一个**日期**或**空**值，这将非常有效。

但在我的情况下，**Value1（绑定字段）**可以是包含任何内容的字符串。说 - ***'garbageStr'***。

因此它无法转换为日期并引发错误。

相反，当它无法转换为 DateTime 格式时，我想显示***空值***或***空白值。***

有没有办法处理这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:35:56.863

您可以在后面的代码中为此目的定义一个方法，然后调用它，然后在方法实现中尝试转换 `DateTime.TryParse`并相应地返回字符串

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T05:57:18.003

在您的 aspx 文件中：

```
<asp:Label ID="lblName" runat="server" Text='<%# ReturnPropertDateTime(Eval("Value1")) %>'>   </asp:Label> 
```

在您的代码隐藏文件中：

```
protected DateTime ReturnPropertDateTime(object val)
{
        DateTime dt = null;
         string dateTimeValue = Convert.ToString(val);
    DateTime dateTime2;
    if (DateTime.TryParse(dateTimeValue.ToString("ddMMyyyy"), out dateTime2))
    {
        dt = dateTime2;     
      }
    else
    {
         dt = // Just Assign Default date time value you want.
    }

return dt;

} 
```

虽然它很乏味，但是您可以通过这种方法使您的 aspx 文件更具可读性，因为它可以防止混乱并提供灵活的处理。

# java - javax.net.ssl.SSLHandshakeException：收到致命警报：APN 中的 handshake_failure 错误

> ID：11113338
> 
> 赞同：4
> 
> 时间：2012-06-20T05:30:32.523
> 
> 标签：java, ssl

我正在尝试使用 Java-pns 向 iPhone 发送推送通知，但出现以下错误...

```
javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure 
```

这是我的代码...

```
String token="95076d2846e8979b46efd1884206a590d99d0f3f6139d947635ac4186cdc5942";

String host = "gateway.sandbox.push.apple.com";
int port = 2195;
String payload = "{\"aps\":{\"alert\":\"Message from Java o_O\"}}";

NotificationTest.verifyKeystore("res/myFile.p12", "password", false);
KeyStore keyStore = KeyStore.getInstance("PKCS12");
keyStore.load(getClass().getResourceAsStream("res/myFile.p12"), "password".toCharArray());

KeyManagerFactory keyMgrFactory = KeyManagerFactory.getInstance("SunX509");
keyMgrFactory.init(keyStore, "password".toCharArray());

SSLContext sslContext = SSLContext.getInstance("TLS");
sslContext.init(keyMgrFactory.getKeyManagers(), null, null);
SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();

SSLSocket sslSocket = (SSLSocket) sslSocketFactory.createSocket(host, port);
String[] cipherSuites = sslSocket.getSupportedCipherSuites();
sslSocket.setEnabledCipherSuites(cipherSuites);
sslSocket.startHandshake();

char[] t = token.toCharArray();
byte[] b = Hex.decodeHex(t);

OutputStream outputstream = sslSocket.getOutputStream();

outputstream.write(0);
outputstream.write(0);
outputstream.write(32);
outputstream.write(b);
outputstream.write(0);
outputstream.write(payload.length());
outputstream.write(payload.getBytes());

outputstream.flush();
outputstream.close();

System.out.println("Message sent .... "); 
```

因为`NotificationTest.verifyKeystore`我知道这个有效的是`File`and `Keystore`。

我不明白为什么会收到此错误。

这是我的错误日志...

```
** CertificateRequest
Cert Types: RSA, DSS, ECDSA
Cert Authorities:
<empty>
[read] MD5 and SHA1 hashes: len = 10
0000: 0D 00 00 06 03 01 02 40 00 00 .......@..
** ServerHelloDone
[read] MD5 and SHA1 hashes: len = 4
0000: 0E 00 00 00 ....
** Certificate chain
**
** ClientKeyExchange, RSA PreMasterSecret, TLSv1
[write] MD5 and SHA1 hashes: len = 269
...
main, READ: TLSv1 Alert, length = 2
main, RECV TLSv1 ALERT: fatal, handshake_failure
main, called closeSocket()
main, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure 
```

我不明白为什么 Cert Authorities 是空的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-07T20:43:07.307

我建议您使用 keytool -list 将客户端上的密钥库与服务器已知的密钥库进行比较。您收到的握手错误是因为服务器已经完成了它的问候，并期待客户端证书作为回复。你没有发送一个。要解决此问题，应将 PKCS12 证书转换为 PEM 格式（使用 openssl 是一种方法），然后使用 keytool 将其导入密钥库。

我怀疑如果您通过将客户端证书导入密钥库来解决此问题，那么您将遇到第二个错误。第二个错误与空 CA 证书有关 - 可能是因为您的密钥库中没有服务器已知的 CA 证书。导入您的 CA 并重试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-11T13:38:14.243

看起来您需要安装“Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files”。这为我解决了这个问题。

* * *

## 回答 #3

> 赞同：-4
> 
> 时间：2013-12-31T05:35:59.933

要向 iPhone/iPad 发送推送通知，我使用[**了 JavaPNS**](http://code.google.com/p/javapns/)。

它非常易于使用，并且对我有用。

我们可以简单地按照[**这个**](http://code.google.com/p/javapns/source/browse/wiki/How2UseJavapns.wiki)来使用它。

# android - C2DM 注册 ID 为空

> ID：11113347
> 
> 赞同：0
> 
> 时间：2012-06-20T05:31:35.793
> 
> 标签：android, push-notification, android-c2dm

我按照本教程[http://www.vogella.com/articles/AndroidCloudToDeviceMessaging/article.html](http://www.vogella.com/articles/AndroidCloudToDeviceMessaging/article.html) 我编写了清单文件，提供了所有足够的权限。但是我的注册 ID 为空。请帮助这是我写的代码：

```
public class C2DMClientActivity extends Activity {
/** Called when the activity is first created. */
final static String AUTH="authentication";
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
}
public void register(View view){//Register Button onclick event
    Log.w("C2DM","startRegistrationProcess");
    Intent intent=new Intent("com.google.android.c2dm.intent.REGISTER");
    intent.putExtra("app",PendingIntent.getBroadcast(this, 0, new Intent(), 0));
    intent.putExtra("sender","shubhamjindal18@gmail.com");
    startService(intent);
}
public void showRegistrationId(View view){//Show button onclick event
    SharedPreferences prefs=PreferenceManager.getDefaultSharedPreferences(this);
    String string=prefs.getString(AUTH,"n/a");
    Toast.makeText(this,string,Toast.LENGTH_LONG).show();
    Log.d("C2DM RegId",string);
}
}
public class C2DMRegistrationReceiver extends BroadcastReceiver{
@Override
public void onReceive(Context context,Intent intent){
    String string=intent.getAction();
    Log.w("C2DM","Registration Receiver Called");
    if ("com.google.android.c2dm.intent.REGISTRATION".equals(string)){
        Log.w("C2DM", "Received registration ID");
        final String str=intent.getStringExtra("registation_id");
        final String error=intent.getStringExtra("error");
        Log.d("C2DM", "dmControl: registrationId = " + str
                + ", error = " + error);
        String deviceId = Secure.getString(context.getContentResolver(),
                Secure.ANDROID_ID);
        createNotification(context, str);
        sendRegistrationIdToServer(deviceId,str);

        saveRegistrationId(context,str);
    }
}
public void saveRegistrationId(Context context,String str){
    SharedPreferences   prefs=PreferenceManager.getDefaultSharedPreferences(context);
    Editor edit=prefs.edit();
    edit.putString(C2DMClientActivity.AUTH,str);
    edit.commit();
}
public void createNotification(Context context,String str){
    NotificationManager notim=(NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);
    Notification noti=new Notification(R.drawable.ic_launcher,"Registation Successful",System.currentTimeMillis());
    noti.flags|=Notification.FLAG_AUTO_CANCEL;
    Intent intent=new Intent(context,RegistrationResultActivity.class);
    intent.putExtra("registration_id", str);
    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0,
            intent, 0);
    noti.setLatestEventInfo(context, "Registration",
            "Successfully registered", pendingIntent);
    notim.notify(0, noti);
}
public void sendRegistrationIdToServer(String deviceId,
        String registrationId) {
    Log.d("C2DM", "Sending registration ID to my application server");
    HttpClient client = new DefaultHttpClient();
    HttpPost post = new HttpPost("");
    try {
        List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
        // Get the deviceID
        nameValuePairs.add(new BasicNameValuePair("deviceid", deviceId));
        nameValuePairs.add(new BasicNameValuePair("registrationid",
                registrationId));

        post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
        HttpResponse response = client.execute(post);
        BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));

        String line = "";
        while ((line = rd.readLine()) != null) {
            Log.e("HttpResponse", line);
        }
    } catch (IOException e) {
        e.printStackTrace();
    }
}

}

public class RegistrationResultActivity extends Activity {
 @Override
    public void onCreate(Bundle savedInstanceState) {

        setContentView(R.layout.activity);
        Bundle extras=getIntent().getExtras();
        if (extras!=null){
            String str=extras.getString("registration_id");
            TextView tv=(TextView) findViewById(R.id.textView1);
            tv.setText(str);
        }
        super.onCreate(savedInstanceState);
    }
}
public class C2DMMessageReceiver extends BroadcastReceiver{
@Override
public void onReceive(Context context,Intent intent){
    String action=intent.getAction();
    Log.w("C2DM","Message Receiver called");
    if ("com.google.android.c2dm.intent.RECEIVE".equals(action)){
        Log.w("C2DM", "Received message");
        final String payload = intent.getStringExtra("payload");
        Log.d("C2DM", "dmControl: payload = " + payload);
        createNoti(context,payload);
    }
}
public void createNoti(Context context,String str){
    NotificationManager notim=(NotificationManager) context.getSystemService(context.NOTIFICATION_SERVICE);
    Notification noti=new Notification(R.drawable.ic_launcher,"Message received",System.currentTimeMillis());
    noti.flags|=Notification.FLAG_AUTO_CANCEL;
    Intent intent=new Intent(context,MessageResultActivity.class);
    intent.putExtra("payload",str);
    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0,
            intent, 0);
    noti.setLatestEventInfo(context, "Message",
            "New message received", pendingIntent);
    notim.notify(0, noti);
}
}
public class MessageResultActivity extends Activity{

 @Override
    public void onCreate(Bundle savedInstanceState) {

        setContentView(R.layout.activity);
        Bundle extras=getIntent().getExtras();
        if (extras!=null){
            String payload=extras.getString("payload");
            TextView tv=(TextView) findViewById(R.id.textView1);
            tv.setText(payload);
        }
        super.onCreate(savedInstanceState);
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:35:40.793

应该是`registration_id`，但它是`registation_id`

```
 final String str=intent.getStringExtra("registation_id"); 
```

应该

```
final String str=intent.getStringExtra("registration_id "); 
```

[https://developers.google.com/android/c2dm/#push](https://developers.google.com/android/c2dm/#push)

# android - java中的Dumpsys权限拒绝

> ID：11113349
> 
> 赞同：5
> 
> 时间：2012-06-20T05:31:54.677
> 
> 标签：android

我正在尝试获取 dumpsys 统计信息 [如 dumpsys cpuinfo、dumpsys 电池]。我在java中执行这些并将其写入文件。但我得到，

```
2012.06.20 07:32:19
Permission Denial: can't dump cpuinfo from from pid=862, uid=10040 without permission android.permission.DUMP
for all dumpsys commands. 
```

我已经在 android.manifest`"android.permission.DUMP"`中添加了权限。`"android.permission.BATTERY_STATS"`但是，没有得到结果请帮助作为它的关键。我使用的代码如下，其中 cmd 包含 dumpsys cpuinfo 或 dumpsys battery [任何人]

```
Calendar cal = Calendar.getInstance();
SimpleDateFormat sdf = new SimpleDateFormat("yyyy.MM.dd HH:mm:ss");
System.setOut(new PrintStream(new FileOutputStream("/sdcard/Monitor/"+file+".txt",false)));
System.out.println("\n\n"+sdf.format(cal.getTime()));           
Log.w("cmd-fn", cmd);
process=Runtime.getRuntime().exec(cmd);
process.waitFor();
BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));
String buffer="";

while((buffer=bufferedReader.readLine())!=null)
      {
    //fileobj.write(buffer);
    System.out.println(buffer);
    //output.write(buffer);
}
    buffer="";
    BufferedReader buffered = new BufferedReader(new InputStreamReader(process.getErrorStream()));
    while((buffer=buffered.readLine())!=null)
        {
        Log.w("exception",buffer);
        } 
```

以下是我的清单条目

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.DUMP" />
<uses-permission android:name="android.permission.BATTERY_STATS" />
<uses-permission android:name="android.permission.READ_PHONE_STATE" /> 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-20T08:39:50.320

DUMP 权限被定义为 `android:protectionLevel="signatureOrSystem"`除非您的应用使用平台密钥签名或安装在系统分区中，否则您无法获得它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-01-27T12:24:32.483

android 开发团队决定停止向第三方应用授予这些权限。现在只有系统应用程序可以获取它们。

更多详情：[https ://code.google.com/p/acra/issues/detail?id=100](https://code.google.com/p/acra/issues/detail?id=100)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-26T00:56:02.903

您可以通过检查 /proc/meminfo 文件来访问一些内存信息，/proc/ 下还有其他有趣的文件。希望这些文件在未来的版本中是可读的

获取 meminfo 的代码示例：

```
 public static String showMemInfo() {
    StringBuilder meminfo = new StringBuilder();
    try {
        ArrayList<String> commandLine = new ArrayList<String>();
        commandLine.add("cat");
        commandLine.add("/proc/meminfo");

        Process process = Runtime.getRuntime().exec(commandLine.toArray(new String[commandLine.size()]));
        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));

        String line;
        while ((line = bufferedReader.readLine()) != null) {
            meminfo.append(line);
            meminfo.append("\n");
        }

    } catch (IOException e) {
        Log.e(LOG_TAG, "Could not read /proc/meminfo", e);
    }

    return meminfo.toString();
} 
```

PS：我知道它不像 dumpsys 那样冗长；）

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-08-11T07:04:25.780

您可以使用其他两种方法来获取 cpu 信息

1.  使用 top 命令 int adb shell，获取大部分信息

    ```
    top -n 1 
    ```

2.  您还可以在 /proc/stat 和 /proc/pid/stat 中查找信息以获取 cpu 信息

    ```
    cat /proc/stat 
    ```

    如果您想了解详细信息，请查看[获取内存使用情况](https://stackoverflow.com/questions/3118234/get-memory-usage-in-android)

# java - 删除时Java中字母数字的编号顺序排序

> ID：11113353
> 
> 赞同：0
> 
> 时间：2012-06-20T05:32:26.563
> 
> 标签：java, numbers

我在一个数组列表中有数字，其中还包含字母数字。例如。

```
1          1a
2          1b
3          2
4a         3
4b         4
4c         5a
4d   (or)  5b   (or) [in any sequence may be]
5          5c
6          6
7          7
8          8 
9a         9
9b         10
10 
```

我这是如何删除单个元素并重新排序整个列表。例如从上面的列表中我要删除 2，那么结果必须是。

```
1          1a
           1b
2           
3a         2
3b         3
3c         4a
3d   (or)  4b   (or) [in any sequence may be]
4          4c
5          5
6          6
7          7
8a         8
8b         9
9 
```

我这是如何删除单个元素并重新排序整个列表。例如，从上面的列表中，我将删除左侧列表中的 3a 和另一方面删除 1b（或）1a，那么结果必须是。

```
 1
1          
2           
           2
3a         3
3b         4a
3c   (or)  4b   (or) [in any sequence may be]
4          4c
5          5
6          6
7          7
8a         8
8b         9
9 
```

我希望这将解释我所需要的。如何实现这个？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T07:18:23.047

在此，您可以更改`string idString and itemToDelete`任何您喜欢更改的值。它将提供所需的输出。

```
import java.util.ArrayList;
import java.util.List;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class OrderTheListBasedOnItemDeleted {

    public static void main(String[] args) {

        List<String> idList = new ArrayList<String>();
        String idToBeDeleted="5a";

        String idString= "1,2a,2b,2c,3,4,5a,5b";

        String idArray[]=idString.split(",");

        for(int i=0;i<idArray.length;i++){
            idList.add(idArray[i]); 
        }

        int duplicateCount=0;
         List<Integer>indexOfItemsForReorder = new ArrayList<Integer>();

            Pattern patternDigit = Pattern.compile("\\d+",Pattern.CASE_INSENSITIVE);
            Pattern patternLetter = Pattern.compile("[a-zA-Z]+",Pattern.CASE_INSENSITIVE);
            String digit="";
            String letter="";
            String digit2="";
            String letter2="";

        for(String a :idList){
            System.out.println(a);
        }
        System.out.println();

        Matcher mD = patternDigit.matcher(idToBeDeleted);
        Matcher mL = patternLetter.matcher(idToBeDeleted);
        if (mD.find()) {
            digit  = mD.group();
        }
        if (mL.find()) {
            letter  = mL.group();
        }

        if(letter!=""){
                for(String idToBeDeleted : idList){

                            Pattern patternDigitLetter = Pattern.compile(digit+"[a-zA-Z]+",Pattern.CASE_INSENSITIVE);   
                            Matcher digitletterMatcher = patternDigitLetter.matcher(idToBeDeleted);
                            if(digitletterMatcher.find()){
                                indexOfItemsForReorder.add(idList.indexOf(digitletterMatcher.group()));
                                duplicateCount=duplicateCount+1;
                            }
                }
                int indexofContentToBeReplaced = indexOfItemsForReorder.get(indexOfItemsForReorder.size()-1);
                //for letter more than 2...
                if(duplicateCount>2){
                    idList.remove(indexofContentToBeReplaced);
                }else if(duplicateCount>=1&&duplicateCount<=2){
                    //for letter more than 1 and less than 2...

                    idList.remove(indexofContentToBeReplaced);
                    idList.remove(indexofContentToBeReplaced-1);
                    idList.add(indexofContentToBeReplaced-1, digit);

                }

                System.out.println("result...");

    }else{
            int indexOfItemToBeDeleted=idList.indexOf(idToBeDeleted);       
            List <String> newIdList = new ArrayList<String>();

            for(int i=0;i<indexOfItemToBeDeleted ;i++){

                newIdList.add(idList.get(i));
            }
            idList.remove(idToBeDeleted);

            for(int i=indexOfItemToBeDeleted; i<idList.size(); i++){
                digit2="";
                letter2="";
                Matcher mD2 = patternDigit.matcher(idList.get(i));
                Matcher mL2 = patternLetter.matcher(idList.get(i));
                if(mD2.find()){
                    digit2=mD2.group();
                }

                if (mL2.find()) {
                    letter2  = mL2.group();
                }

                int d=Integer.parseInt(digit2);
                d=d-1;
                newIdList.add(i, Integer.toString(d)+letter2);

            }

            if(newIdList.contains("0")){
                newIdList.remove("0");
            }

            System.out.println("result...");
            idList.clear();
            idList=newIdList;
    }

        for(String a :idList){
            System.out.println(a);
        }

    }
} 
```

**输出**

```
Input
1
2a
2b
2c
3
4
5a
5b

result...
1
2a
2b
2c
3
4
5 
```

# php - Imagick PHP - 用图像填充替换纯色区域？

> ID：11113362
> 
> 赞同：1
> 
> 时间：2012-06-20T05:33:09.967
> 
> 标签：php, imagemagick, imagick

我是 Imagemagick 和 PHP imagick 的新手。我一直在寻找一种功能或方法，它可以让我用另一张图像的内容替换一个图像中的纯色或透明区域。

例如：

图像#1 是一个人的预制图片，面部区域被移除并填充了纯白色 (#FFFFFF)。

图像#2 是一张人脸的透明PNG，其中人脸已被剪掉，背景是透明的。

我想将这两个图像合并在一起，并用图像#2 上的人脸填充图像#1 的纯白色区域。

这可能与imagick吗？我在谷歌上没有找到任何关于这个的信息，但我已经接近了屏蔽函数和复合函数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:43:20.043

是的，可以使用 ImageMagick。它被称为“合成”，将一个图像重叠到另一个图像。有关更多详细信息，请转到[脚本示例](http://www.imagemagick.org/script/composite.php?ImageMagick=qqmnmp2cu8s1j991g9qdrb7bm5)

# apache - HTACCESS ErrorDocument 404 /404.htm 不工作

> ID：11113366
> 
> 赞同：0
> 
> 时间：2012-06-20T05:33:30.823
> 
> 标签：apache, .htaccess, codeigniter, mod-rewrite, redirect

我正在使用 COdeigniter .. 我有一个 .htaccess。问题是服务器在访问服务器上不可用的 www.example.com/notfoundimage.png 时，应将其重定向到 .404htm （设计的错误文档模板）......但是，它却给出了服务器错误

访问：

```
ErrorDocument 404 /404.htm 
ErrorDocument 400 /404.htm
ErrorDocument 403 /404.htm

ErrorDocument 500 /404.htm 
```

访问不存在的文件 www.example.com/notfoundimage.png 时出错

> [服务器错误 网站在检索http://www.example.com/notfoundimage.png](http://www.example.com/notfoundimage.png)时遇到错误 。它可能因维护而停机或配置不正确。

如果我从 htaccess 评论这一行

> 错误文档 404 /404.htm

出现错误 404（应该是）。但我需要以上行将 404 重定向到我的模板页面：404.htm

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-16T19:16:17.143

此服务器无法验证您是否有权访问所请求的文档。要么您提供了错误的凭据（例如，错误的密码），要么您的浏览器不了解如何提供所需的凭据。

此外，在尝试使用 ErrorDocument 处理请求时遇到 404 Not Found 错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-13T03:14:25.020

确保您的文件具有读取权限，并尝试`.html`文件扩展名。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T12:32:46.923

我不认为 mod_rewrite 会重写 ErrorDocument 文件，但我可能错了。这是未经测试的，但您可以通过将其放在您的 mod_rewrite 部分中的早期来快速测试：

```
RewriteCond  %{REQUEST_FILENAME}  -f
RewriteRule  .*                   -     [L] 
```

如果这没有效果，那么只需将其删除。还要检查它是否不会破坏任何东西！（我确信它可以缩短为一行，但这只是我在 mod_rewrite 中使用的样式）。

# asp.net - 需要有关如何使用 asp.net 创建小型网站的最佳实践建议

> ID：11113368
> 
> 赞同：0
> 
> 时间：2012-06-20T05:33:33.727
> 
> 标签：asp.net

我需要使用带有登录页面的 asp.net 创建一个小型应用程序。登录后我想要导航菜单项。如何创建这些导航菜单项？我有一些使用 iframe、用户控件或母版页的想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:39:11.323

你可能会调查[站点地图](http://msdn.microsoft.com/en-us/library/yy2ykkab.aspx)

另请查看本教程： [构建我们的母版页和站点导航结构](http://weblogs.asp.net/scottgu/archive/2006/01/17/Data-Tutorial-_2300_2_3A00_-Building-our-Master-Page-and-Site-Navigation-Structure.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:55:58.787

听起来您正在开始使用 ASP.NET，因此取决于您喜欢哪种技术（MVC 或 Web 窗体），Microsoft 提供的这两组教程中的任何一个都会有很大帮助。

*   MVC：[http ://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc)
*   网络表单：[http ://www.asp.net/web-forms/tutorials](http://www.asp.net/web-forms/tutorials)

恕我直言，您最好使用预定义的 CSS 框架（例如[来自 Twitter 的 Bootstrap](http://twitter.github.com/bootstrap/)）和 MVC。

# ruby - 使用 Mongoid 进行批量更新

> ID：11113369
> 
> 赞同：0
> 
> 时间：2012-06-20T05:33:33.947
> 
> 标签：ruby, mongodb, mongoid, bulk

如何使用 Mongoid 进行批量更新？

具体来说，将一个现有字段复制到同一文档的另一个字段。

```
Product.collection.command("db.products.find(
    {gender : { $ne : null } }
  ).forEach(function(doc) {
    doc.archive_gender = doc.gender;
    doc.gender = null;
    db.products.save(doc);
  })"
) 
```

干杯，科亚。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:40:15.823

好的，所以我们可以 $eval 任何 javascript，但请告诉我更好的解决方案。这就是我能够从一个字段与另一个字段在 MongoDB 中实现批量更新的方式。

```
db = Mongoid::Config::master
db.command({"$eval" => <<-ENDJS})
  db.products.find({
    gender:{ $ne: null }
  }).forEach(function(doc) {
    doc.archive_gender = doc.gender;
    doc.gender = null;
    db.products.save(doc);
  })
ENDJS 
```

干杯，科亚。

# simperium - 应用程序/存储桶的权限如何工作？

> ID：11113373
> 
> 赞同：3
> 
> 时间：2012-06-20T05:33:57.007
> 
> 标签：simperium

我已经阅读了文档，并试图了解应用程序（即我的应用程序 ID）、存储桶和用户之间的关系。

在我看来，还没有深入研究 API，就像一旦获得应用程序 ID，任何人都可以创建一个帐户并访问该 API 中的任何存储桶。

我想了解创建和存储数据的基本过程（我不是在寻找代码，只是在寻找策略）：

*   个人用户私有（例如用户的帐户数据）
*   在一组私人用户之间共享（例如私人留言板）
*   对所有用户公开（例如问答线程）

感谢您阅读我的问题！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-21T23:13:00.967

目前，只有每个用户的命名空间，并且用户的数据只能由该用户查看/修改。因此，您提到的第一种情况是默认情况。

对于私有用户组和对所有人公开的共享，目前还没有明确支持，但在我们的路线图上是下一个。

现在可以模拟它，例如，对于一个私有组，创建一个代表该组的新用户，并将该访问令牌提供给作为该组成员的所有实际用户（尽管您需要管理它自己分发）。

# ios - 如何在 MPMoviePlayerController 上添加 UIImageView | iOS | 目标 C

> ID：11113375
> 
> 赞同：2
> 
> 时间：2012-06-20T05:34:03.583
> 
> 标签：ios, uiimageview, mpmovieplayercontroller

我有一个控制器，我在其中使用 MPMoviePlayerController 显示视频。我需要在视频上放一张图片。

我正在尝试使用以下代码，但它没有显示出来。我错过了什么？

```
// method to play the video
- (void)playVideoInLoopMode:(BOOL)loop {
    NSURL *url = [NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@"myvideo" ofType:@"m4v"]];

    MPMoviePlayerController *mp = [[MPMoviePlayerController alloc] initWithContentURL:url];
    mp.controlStyle = MPMovieControlStyleNone;

    if (loop) {
        mp.repeatMode = MPMovieRepeatModeOne;        
    }

    mp.view.frame = CGRectMake(0.0, 0.0, self.view.bounds.size.width, self.view.bounds.size.height);
    self.player = mp;
    [self.view addSubview:self.player.view];

    [self.player prepareToPlay];

    [self.player play];
}

// method to add the image
- (void) addImageLayer {
    image = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"myimage"]];
    image.frame = CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height);
    [self.view addSubview:image];
} 
```

首先，我使用以下方法运行视频：[self playVideoInLoopMode:YES] 5 秒后，我尝试使用 [self addImageLayer] 方法放置图像层；

在我的 AppDelegate.h 中，我在 didFinishLaunchingWithOptions 中有以下代码：

```
 MyViewController *myVC = [[MyViewController alloc] initWithNibName:@"MyView" bundle:nil];

    [self.window addSubview:myVC.view];
    [self.window makeKeyAndVisible]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T13:50:56.263

尝试将图像视图添加到 mp.view，然后将 mp.view 添加到一般视图，例如，如果图像始终相同，则可以将其添加到起始代码中并删除添加视图的方法。 .

```
// method to play the video
- (void)playVideoInLoopMode:(BOOL)loop 
{
   NSURL *url = [NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@"myvideo" ofType:@"m4v"]];

   MPMoviePlayerController *mp = [[MPMoviePlayerController alloc] initWithContentURL:url];
   mp.controlStyle = MPMovieControlStyleNone;

   if (loop) 
   {
       mp.repeatMode = MPMovieRepeatModeOne;        
   }

   mp.view.frame = CGRectMake(0.0, 0.0, self.view.bounds.size.width, self.view.bounds.size.height);
   self.player = mp;
   [self.view addSubview:self.player.view];
   image = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"myimage.png"]];
   image.frame = CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height);
   [self.player addSubview:image];
   [self.player prepareToPlay];
   [self.player play];
} 
```

# iphone - AVCam 与 UIImagepicker

> ID：11113377
> 
> 赞同：4
> 
> 时间：2012-06-20T05:34:11.750
> 
> 标签：iphone, ios, uiimagepickercontroller, avfoundation, avcam

我是 iPhone 的新手，我想知道黑白 AVFoundation 的 AVCam 和用于相机​​的 UIImagePicker 有什么区别。我们什么时候应该选择 AVCam，什么时候应该选择 UIImagePicker

提前致谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-20T05:49:03.660

AVCam 只是一个示例，说明如何使用 AVFoundation 生成自己的捕获函数。

> AVCam 演示了如何使用 AV Foundation 捕获 API 来录制电影和拍摄静止图像。有一个用于录制电影的录制按钮，一个用于在前后摄像头之间切换的相机按钮（在支持的设备上），以及一个用于拍摄静止图像的静止按钮。下一个

所以AVFoundation和ImagePicker的区别：

Image Picker 就像一个可定制的黑匣子，除了实现它的委托来从相机或相机胶卷中获取捕获的图像之外，您实际上不需要做任何事情。因此它非常易于使用，如果您正在寻找基本行为，请选择这个。请注意，您可以更改外观的“皮肤”，网上有关于这样做的教程。

AVFoundation 是对 iPhone 摄像头的实际访问，如果您采用这种方法，您必须自己实现所有内容（或复制示例并进行相应修改）。您必须仔细阅读文档，但结果是您可以做更多的事情，这通常用于图像处理，具有特殊功能的相机等。

所以你真正想问自己的是你需要什么级别的定制并相应地选择。

（如果您通常是 ios 新手，请使用图像选择器）

# python - 使用python默认开发http服务器，错误，当前URL，，不匹配这些

> ID：11113378
> 
> 赞同：0
> 
> 时间：2012-06-20T05:34:22.400
> 
> 标签：python, django, django-admin

我正在使用python默认开发http服务器，它工作正常。错误，当前 URL，，不匹配任何这些，在“http://127.0.0.1:8000 我的软件版本：django 1.4 python 2.6.6

我的 urls.py 文件：

```
from django.conf.urls import patterns, include, url
#from django.conf.urls.defaults import *

# Uncomment the next two lines to enable the admin:
# from django.contrib import admin
# admin.autodiscover()
from django.contrib import admin
admin.autodiscover()

urlpatterns = patterns('',
    # Examples:
    # url(r'^$', 'djproject.views.home', name='home'),
    # url(r'^djproject/', include('djproject.foo.urls')),

    # Uncomment the admin/doc line below to enable admin documentation:
    # url(r'^admin/doc/', include('django.contrib.admindocs.urls')),

    # Uncomment the next line to enable the admin:
    #    url(r'^admin/', admin.site.urls),
    url(r'^admin/', admin.site.urls),
) 
```

错误：

```
Page not found (404)
    Request Method:     GET
    Request URL:    http://127.0.0.1:8000/
Using the URLconf defined in djproject.urls, Django tried these URL patterns, in this order:

    ^admin/

The current URL, , didn't match any of these. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:39:11.460

目前在您的项目中安装的唯一 url 是那些前缀为`admin/`.

您尝试获取的那个不是以这个前缀开头的。

尝试：`http://127.0.0.1:8000/admin/`

看起来您刚刚开始使用 django：您完成本教程了吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:50:28.810

如果您查看其中注释掉的“示例”部分，`urlpatterns`您将看到这一行：

```
# url(r'^$', 'djproject.views.home', name='home'), 
```

这是默认的模式和视图。取消注释，并设置您需要的视图和参数。并阅读[教程](https://docs.djangoproject.com/en/dev/intro/tutorial01/)！

# c++ - 如何在 opencv 中创建 cv::matrix 向量并将图像数据的子矩阵分配给向量的所有索引上的矩阵

> ID：11113379
> 
> 赞同：0
> 
> 时间：2012-06-20T05:34:34.193
> 
> 标签：c++, opencv

例如，我想在 C++ 程序中创建一个 cv::Matrix 向量，并且在每个索引上我想复制图像的子矩阵； 但这不起作用，我也尝试使用我正在使用的循环方法）复制子矩阵中的矩阵数据，但程序挂起。在opencv中获取子矩阵并将其复制到 cv::Mat 向量中的最佳方法是什么
`vector<Mat> VectorMat;
VectorMat[i]=threshImage(cv::Rect(x,y,max.x-min.x,max.y-min.y));`
`mat.at<uchar>(row,col`

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T07:14:19.593

要制作真正的副本，您可以这样做

```
VectorMat[i]=threshImage(cv::Rect(x,y,max.x-min.x,max.y-min.y)).clone(); 
```

或者

```
threshImage(cv::Rect(x,y,max.x-min.x,max.y-min.y)).copyTo(VectorMat[i]); 
```

# sharepoint - 如何通过 SAP PI 集成 SAP 和 SharePoint？

> ID：11113381
> 
> 赞同：1
> 
> 时间：2012-06-20T05:34:55.767
> 
> 标签：sharepoint, sap, integration, sap-xi, sap-pi

我对 SAP 不熟悉，但我最近的项目是通过 SAP PI 将 SAP 和 SharePoint Portal 结合起来；SAP PI 将用于自动化 SAP 和 SharePoint Portal 之间的数据流...我在 Web 上没有找到足够有价值的信息。有人可以给我一些想法，或者告诉我在哪里可以找到这种信息？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-21T08:49:44.027

对于 SharePoint 与 SAP 的集成，您可以使用以下几种选择，但其中很多取决于您想要驱动数据的方式。它是否已经存在于 SP 中并将其驱动到 SAP 中，或者 SAP 中是否有您想要在 SP 中公开的流程或数据方法？

有许多不同的方法可以做到这一点，我不按特定顺序列出您可能希望考虑的方法。

*   对您的 SP 和 SAP 环境进行大量定制以强制集成的开发工作
*   预建场景实施 - 涉及安装第 3 方软件和配置 SAP 和 SP
*   SAP 开箱即用的有限 SP 集成方法
*   构建您自己的方法 - 涉及最少的 SAP 更改，但允许您在 SP 上公开对 SAP 的访问，反之亦然

该领域的主要参与者是 Winshuttle 以及 SAP 和微软的合作计划，称为 Duet

推荐阅读

*   [http://wiki.sdn.sap.com/wiki/display/Community/SAP+and+SharePoint+Integration](http://wiki.sdn.sap.com/wiki/display/Community/SAP+and+SharePoint+Integration)
*   [http://technet.microsoft.com/en-us/library/cc261738(v=office.12).aspx](http://technet.microsoft.com/en-us/library/cc261738(v=office.12).aspx)

您还可以通过阅读 WINshuttle 社区网站上的 Vikram Chalana 的博客文章，了解所有方法的优缺点。***只需在谷歌搜索中输入SharePoint 和 SAP 集成方法 chalana***即可找到此内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-02-06T12:01:45.593

这完全取决于你想做什么。

也许除了另一个答案：

S/4 HANA Cloud Essentials 2120 内置了对 SharePoint 和其他 DMS 的支持，作为文档等的文件存储（我没有使用它，但可能您必须进行一些自定义）。

如果文件较少但信息级别，S/4 HANA 有一些您可以使用的 OData API 和一个企业消息传递套接字，您可以与 PI 或 CPI 一起使用来提取数据并将其发送到 Sharepoint API。

# c++ - cpp依赖。问题？发行说明？社区？支持？

> ID：11113382
> 
> 赞同：4
> 
> 时间：2012-06-20T05:35:18.357
> 
> 标签：c++, code-analysis, static-analysis, cppdepend

我**发现了一个用于分析大型项目的 cppdepend**工具。但正如我所见，它有一些问题。

例如，主要和关键（对我来说）是一些依赖关系，我自己在代码中看到，cppdepends 没有看到并告诉元素彼此独立。正如我所见，问题出在 C++ 代码中的模板和宏附近。

所以我试着想办法避免这个问题，也许我可以帮助 cppdepend 查看这个依赖关系。谷歌搜索对我没有帮助。我没有找到任何社区/论坛/组/博客，开发人员（包括来自 cppdepend 团队的）可以讨论此工具以找到他们问题的答案。最后的博客，问题报告可以追溯到**2010 年**。

此外，官方网站**不包含任何发行说明**、错误报告、“新功能”列表。

令人难以置信的是，所有关于如此强大的工具的参考资料，顺便说一下有文档、视频、课程等，都只出现在这样的帖子中：

> “你会推荐什么工具？”
> 
> “试试 cppdepend。”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T12:45:51.183

正如 Ira Baxter 所说，CppDepend 2.X 使用 Doxygen，并且找不到一些依赖项，版本 3 使用 Clang 而不是 Doxygen，请通过 support@cppdepend.com 与我们联系以试用 CppDepend 3 Beta；

对于 CppDepend 2.X 的任何其他问题，请通过 support@cppdepend.com 与我们联系，我们将尽快解决。

# iphone - pdf文件和内存泄漏

> ID：11113383
> 
> 赞同：-1
> 
> 时间：2012-06-20T05:35:22.047
> 
> 标签：iphone, ios, pdf, memory

我只是在 webView 上显示一个 pdf 文件。当我双击 pdf 时， Product -> Analyze 没有问题，但 Instruments（所有责任目录 -> CORE PDF）几乎没有泄漏。在 App Store 上提交应用程序之前必须删除所有泄漏？

谁能告诉我。我在资源文件夹中使用的 PDF 文件有任何限制吗？因为我的设计师在 PDF 文件中提供索引（通过软件）？

问题出在我的代码中还是在 PDF 文件中？

我的代码是

-(void)viewDidLoad { [超级 viewDidLoad];

```
NSString *path = [[NSBundle mainBundle] pathForResource:@"brochure1" ofType:@"pdf"];
NSURL *url = [NSURL fileURLWithPath:path];
NSURLRequest *request = [NSURLRequest requestWithURL:url];

[webview loadRequest:request];
[webview setScalesPageToFit:YES]; 
```

}

谢谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-20T06:18:45.550

根据苹果。

> 2.1 崩溃的应用将被拒绝
> 
> 2.15 “大小超​​过 20MB 的应用程序不会通过蜂窝网络下载（App Store 自动禁止）”

[https://developer.apple.com/appstore/resources/approval/guidelines.html](https://developer.apple.com/appstore/resources/approval/guidelines.html)

检查产品的文件大小。并确保在提交应用程序之前它不会崩溃。内存泄漏可能会导致应用程序崩溃。

希望有帮助:)

# php - 在 PHP 中尽可能快地点击 URL

> ID：11113384
> 
> 赞同：0
> 
> 时间：2012-06-20T05:35:26.367
> 
> 标签：php, performance, api, rest

在我的 PHP 应用程序的一部分中，我需要进行 REST 风格的 API 调用并继续工作。我不关心 API 调用的结果（所以我不需要查看返回值），但我确实需要能够将其关闭并继续工作。

如果我曾经`file_get_contents()`这样做，那么它将等到 url 返回。我可以在 CURL 中设置超时，但它允许的最小超时是一秒，所以这不是很有用。我已经在 CURL 中寻找其他选项，但我还没有找到任何东西。

由于我已经编写了这部分被击中的 API，我目前让它立即返回并继续在该代码中工作，但将来如果我与其他外部 API 交谈，那么我将需要知道如何做到这一点和它似乎更好的做法是不要依赖一些外部代码来让你的脚本继续工作。请求一个 URL 并且不关心返回的内容可能不是很正常，但这就是我需要的！有谁知道怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T05:40:56.143

只需使用[`curl_multi_exec()`](http://php.net/manual/en/function.curl-multi-exec.php), 并在返回响应标头后终止连接。

这假定响应标头在内容开始处理之前发送，并且一旦您断开连接，远程脚本将继续运行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T05:41:09.810

听起来您可能需要考虑将对 api 的调用移至后台作业。

您可能需要考虑 php resque，[https://github.com/chrisboulton/php-resque](https://github.com/chrisboulton/php-resque)

或使用 db 表和 cron 作业自行开发。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-23T06:25:38.363

如果您的输出是 HTML，您可能需要考虑将调用移动到 iframe 中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T05:40:34.207

如果您可以从客户端尝试，这可能会有所帮助！

```
function loadNow()
{
    $.load('cURL URL');
}
setInterval('loadNow()', 500); 
```

希望这可以帮助！:)

# ios - 块崩溃中的核心数据对象属性访问

> ID：11113386
> 
> 赞同：0
> 
> 时间：2012-06-20T05:35:30.820
> 
> 标签：ios, core-data, objective-c-blocks

## 编辑

好吧，我想我明白了。

我的整体操作流程是这样的：

```
-(void)submitRegistration
{    
    //[[AppDelegate sharedDelegate] drupalLogin];

    [self validateFields];

    if(fieldsValid)
    {
        [self createBike];

        // save member node will save bike node too if successful
        // bike node will not be saved if member node did not save successful
        [self saveMemberNode];

        // save the updated member node and bike node to Core Data
        [self saveLocalRegistration]; 
        // *** ABOVE LINE GETS EXECUTED BEFORE ASYNC REQUEST FINISHES ***
    }
} 
```

我的“[self saveLocalRegistration];” 代码在异步请求“块”完成执行之前执行，导致它崩溃。

“saveLocalRegistration”方法调用[managedObjectContext save:&error];

## 原始问题

刚开始我第一次潜入核心数据。

在我的应用程序中，我想做的一件事是将一些数据发送到 Drupal 服务器。

我已经将问题缩小到这个：

```
// *** *** *** 
// doesn't crash here
// *** *** ***
NSLog(@"bike.brand = %@", bike.brand);
NSLog(@"bike.model = %@", bike.model);
NSLog(@"bike.features = %@", bike.features);

// save new member node to Drupal
[DIOSNode nodeSave:memberData success:^(AFHTTPRequestOperation *operation, id responseObject) 
 {
     NSLog(@"Node saved!");
     NSDictionary *serverNodeData = (NSDictionary *)responseObject;

     NSLog(@"Server node details = %@", serverNodeData);

     // set the member's memberId to the newly created Drupal member node's nodeId
     member.memberId = [NSNumber numberWithLong:[[serverNodeData valueForKey:@"nid"] longLongValue]];

     // *** *** ***
     // accessing bike properties here inside this objective c "Block" crashes app
     // somehow the above line "member.memberId = .... " doesn't crash despite both being Core Data entities
     // *** *** ***
     NSLog(@"bike.brand = %@", bike.brand); // <--- CRASH HERE ***
     NSLog(@"bike.model = %@", bike.model);
     NSLog(@"bike.features = %@", bike.features);

     //bike.ownerId = member.memberId;

     // save bike node with member id
     [self saveBikeNode];
 } 
           failure:^(AFHTTPRequestOperation *operation, NSError *error) 
 {
     NSLog(@"Failed to save node, error: %@", [error localizedDescription]);
 }]; 
```

从上面的源代码可以看出，第一个 NSLogs 块并没有使应用程序崩溃，但在目标 c“块”内，同一块 NSLogs 使应用程序崩溃。

注意：我相信“[DIOSNode nodeSave:memberData success:....”Objective C 块是一个异步请求。不知道这是否是多线程问题。

bike.brand、bike.model 和bike.features 是“字符串”数据类型。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T08:20:49.200

我可以通过在崩溃前查看调试器的状态来确认这一点，但我的理解是您正在从一个不属于它的线程访问一个托管对象。

您必须在托管对象上下文设计队列（performBlock 和 performBlockAndWait）上安排成功块。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:45:00.763

在块外声明它并在你的块内使用它而不是'self'

```
__block <classname> *blocksafeSelf = self; 
```

# ruby-on-rails - 如何从 ActiveRecord 验证中捕获错误消息？

> ID：11113394
> 
> 赞同：3
> 
> 时间：2012-06-20T05:36:22.397
> 
> 标签：ruby-on-rails

我正在使用 User 模型中的验证创建注册表单，例如

```
 validates_confirmation_of :password, :message = "Passwords do not match"
 validates_uniqueness_of :email, :message = "Email in use" 
```

注册看起来像这样

```
def register
@user = User.new(params[:user])
  if @user.save
    redirect_to(:action => 'login')
  else
  end
end 
```

我只是不知道一旦触发任何这些验证，如何将这些消息返回给用户。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-20T05:44:40.467

好吧，您不必明确执行此操作如果您的验证失败，则错误消息将写入您的情况下该对象的错误对象@user

所以检查

`@user.errors.count()` 或者 `@user.errors`

在页面上显示错误消息

您可以只遍历错误对象

# 编辑：

```
<% @user.errors.full_messages.each do |message| %>

<%= message %>

<%end%> 
```

# bionic - 为什么memcmp在仿生中是这样的？

> ID：11113404
> 
> 赞同：1
> 
> 时间：2012-06-20T05:37:10.000
> 
> 标签：bionic

我发现仿生中的memcmp.c是这样的：

```
 30 int memcmp(const void *s1, const void *s2, size_t n)
 31 {
 32     const unsigned char*  p1   = s1;
 33     const unsigned char*  end1 = p1 + n;
 34     const unsigned char*  p2   = s2;
 35     int                   d = 0;
 36 
 37     for (;;) {
 38         if (d || p1 >= end1) break;
 39         d = (int)*p1++ - (int)*p2++;
 40 
 41         if (d || p1 >= end1) break;
 42         d = (int)*p1++ - (int)*p2++;
 43 
 44         if (d || p1 >= end1) break;
 45         d = (int)*p1++ - (int)*p2++;
 46 
 47         if (d || p1 >= end1) break;
 48         d = (int)*p1++ - (int)*p2++;
 49     }
 50     return d;
 51 } 
```

在for循环中，同样的逻辑重复了4次，为什么？可以不重复吗？

谢谢，维克多

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:37:48.187

这是一个手动*循环展开*。它可以只做一次，甚至用常规循环代替无限循环，也可以做 4 次以上。有人认为这给了编译器一个更好的机会来优化生成的代码。

有关更多信息，请查看[http://en.wikipedia.org/wiki/Loop_unrolling](http://en.wikipedia.org/wiki/Loop_unrolling)

# php - PHP / MySQL - 显示名称/用户名/密码的安全字符，带有 PDO

> ID：11113406
> 
> 赞同：6
> 
> 时间：2012-06-20T05:37:16.547
> 
> 标签：php, mysql, sql, character-encoding, pdo

这里有点 PHP / MySQL 新手...

我一直在构建一个基于 PHP 的站点，该站点使用 MySQL 数据库来存储用户信息，例如他们的显示名称、用户名和密码。

我一直在学习转义、预处理语句等，以及如何防止 SQL 注入，如“bobby'); drop table users--”。

我正在使用 PDO 准备好的语句从表单中获取用户输入，以便将它们注册到数据库中。但是，我需要知道一些事情：

1.  由于我使用准备好的语句，用于显示名称、用户名、密码等，我可以允许像 @、#、$ 甚至“单”或“双”引号这样的特殊字符吗？那么空格、国际字符、带重音符号的字符或 ♥ 之类的东西呢？当我问允许这些字符是否“可以”时，我想知道是否存在任何进一步的安全风险，因为允许在人们的用户名中使用引号或括号，或者诸如粗体或斜体的 html 标签之类的东西？

2.  如果允许*大多数*特殊字符是可以的，但不是*一些*：是否有任何特定的“危险”字符（在 MySQL 的范围内）我绝对需要将其设为非法？（我觉得引用可能适合这个议程，但我得到的信号好坏参半。）

3.  如果我允许使用典型的“字母数字和下划线”范围之外的字符，那么我以后（在 MySQL、SQL 或 PHP 中）是否会因为允许奇怪的字符而遇到任何陷阱？在显示人们的用户名时，我是否需要以某种方式使 html 标签显示为字符串，而不是实际的标签？或者，每当我想向他们查询时，我是否需要转义用户名中的引号？还是因为我将在 PDO 中使用准备好的语句，所以这些都不重要？

4.  像 utf8 或 utf16 这样的字符集是否出现在任何地方，以便我可以接受最广泛的显示名称和用户名，同时仍然确保这些字母可以在我的网站上呈现？

5.  我知道有些西里尔字母看起来与英文字母相同。我曾经直接从 MS Word 中复制这些内容并在我的用户名中使用它们。我意识到这些可以用来在感知上模仿其他成员，只需将英文“a”换成西里尔字母“a”。如果某人不精通 alt 代码，则可能很难搜索其中带有 ♥ 的用户名。这应该是一个问题吗？你对此的看法如何？

在此先感谢任何能给我一些见解的人。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T06:50:17.950

这个[SQL 注入备忘单](http://ferruh.mavituna.com/sql-injection-cheatsheet-oku/)有几个 MySQL 查询示例，您可以在开发过程中进行测试。

这是一个很好的资源，可以帮助您了解关于什么是“可接受”的一些问题，并且您必须考虑“一段数据”的整个生命周期。

通常，一段数据可能以**HTML 表单**开始，然后被**POST**到您的 PHP 脚本（因此，如果用户想要他们可以直接 POST 数据而无需表单）。然后您的 php 脚本（希望）对数据进行**清理**，然后将其**存储**。

在数据库中，您可能正在执行**备份**操作、将其保存到**SQLDump**或其他类型的维护。

那么很明显，数据会在某个时候被**读取，如果它是一种降价语言，它可能会被****编译**，最终它会被发送到某人的浏览器，在那里它可能会被**注入到 html**中并**显示**。

如您所见，在数据的生命周期中有很多地方可能会出错。如果您没有考虑所有这些，您可能会看到一些常见的错误，例如每次保存/加载数据时都会堆积起来的反斜杠.. sql 错误，容易受到攻击等。

你想支持什么样的数据？随你（由你决定。只要确保你正确处理它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T06:29:41.007

首先让我说我真的很喜欢你的风格。似乎大多数人没有花时间思考这些事情，只是将查询放在一起，根本没有数据清理。所以恭喜你很勤奋。:)

也就是说，使用 PDO，您不必担心引号会弄乱您的查询。特别是如果您使用[bindParam](http://php.net/manual/en/pdostatement.bindparam.php)绑定变量，这允许严格的参数控制。有了它，您可以转换变量类型和长度。此外，特殊字符不会弄乱您的查询，因为 PDO 也会对它们进行转义。所以不必担心这一点。

至于使 HTML 显示为文本而不是实际的 HTML，一个非常有用的函数是[htmlspecialchars()](http://php.net/manual/en/function.htmlspecialchars.php)，它将 html 代码转换为字符代码。此函数也可以与可选的 ENT_QUOTES 标志一起使用，它将 this`"`变成 this `&quot;`。htmlspecialchars() 还可以选择将输出设置为您选择的编码。

# android - 打开警报对话框并锁定屏幕时无法销毁活动

> ID：11113412
> 
> 赞同：0
> 
> 时间：2012-06-20T05:38:30.000
> 
> 标签：android, android-activity, android-alertdialog, andengine, lockscreen

当我的游戏显示暂停警报对话框并在一段时间后自动锁定屏幕时，我收到“无法销毁活动（NullPointer）”错误。

我一直在阅读类似的帖子，但我无法让它工作。

这是用户按下后退或菜单按钮时调用的方法：

```
private void showPauseDialog()
    {
        this.runOnUiThread(new Runnable() {
            @Override
            public void run() {
                //Handler mHandler = new Handler(); 
                MadhonActivity.this.mMusic.pause();
                AlertDialog.Builder builder;
                //AlertDialog alertDialog;

                LayoutInflater inflater = (LayoutInflater) MadhonActivity.this.getSystemService(LAYOUT_INFLATER_SERVICE);
                View layout = inflater.inflate(R.layout.pause,(ViewGroup) getCurrentFocus());//findViewById(R.id.layout_root));

                //TextView text = (TextView) layout.findViewById(R.id.stcomplete_score);
                TextView text_0 = (TextView) layout.findViewById(R.id.pause_tv);
                //text.setText("200");
                Typeface font = Typeface.createFromAsset(getAssets(), "font/mvb2.ttf");  
                //text.setTypeface(font);
                text_0.setTypeface(font);

                ImageButton btnext = (ImageButton)layout.findViewById(R.id.pause__btnext);

                builder = new AlertDialog.Builder(MadhonActivity.this);
                builder.setView(layout);

                final AlertDialog alertDialog = builder.create();
                alertDialog.setCancelable(true);

                btnext.setOnClickListener(new OnClickListener(){

                    @Override
                    public void onClick(View v) {
                        // TODO Auto-generated method stub
                        alertDialog.dismiss();
                        MadhonActivity.this.mMusic.play();
                    }});

                alertDialog.show();

                alertDialog.getWindow().setBackgroundDrawable(new ColorDrawable(0));

            }
        });
    } 
```

这里是我的 onDestroy 方法：

```
protected void onDestroy()
 {  
     madhon_ko.stop(); //sound
     mMusic.stop(); //sound
     super.onDestroy();

 } 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-23T05:26:27.893

我认为在`onClickListener()`方法中，您必须调用`finish()`要关闭的活动的方法。

# silverlight - 不允许对 myStore.CreateFile(fileName) 方法上的 IsolatedStorageFileStream 进行操作

> ID：11113414
> 
> 赞同：1
> 
> 时间：2012-06-20T05:38:33.603
> 
> 标签：silverlight, windows-phone-7, isolatedstorage

我不知道为什么我会遇到这个错误！这是我的代码片段：

```
public void SaveImageTo(string fileName="ABC.jpg") 
    {
        var myStore = IsolatedStorageFile.GetUserStoreForApplication();
        if (myStore.FileExists(fileName))
        {
            myStore.DeleteFile(fileName);
        }

        IsolatedStorageFileStream myFileStream = myStore.CreateFile(fileName);
        qrImage.SaveJpeg(myFileStream, qrImage.PixelWidth, qrImage.PixelHeight, 0, 85);
        myFileStream.Close();

        // Create a new stream from isolated storage, and save the JPEG file to the media library on Windows Phone.
        myFileStream = myStore.OpenFile(fileName, FileMode.Open, FileAccess.Read);
        MediaLibrary library = new MediaLibrary();
        //byte[] buffer = ToByteArray(qrImage);
        library.SavePicture(fileName, myFileStream);
    } 
```

它给了我“IsolatedStorageFileStream 上不允许的操作”，这里 qrImage 是一个全局可写位图。需要帮忙 ！提前致谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:48:08.607

做到了 ！断开USB就可以了！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T09:01:26.713

只是为了补充更多信息。这发生在您连接到 Zune 时，因此在 Sync 下。在移除 USB 时，同步完成。因此，您现在可以访问媒体库。这样错误就解决了

# wpf - 错误：- 在循环播放时调用 waveOutOpen 的 MemoryAllocationError

> ID：11113418
> 
> 赞同：0
> 
> 时间：2012-06-20T05:39:16.380
> 
> 标签：wpf, naudio

我有一个在从 UDP 套接字接收数据的循环内播放的 waveOut。但不幸的是，它在大约 30 秒后抛出一个错误，说“MemoryAllocationError 调用 waveOutOpen”。

我使用下面的代码来实现这一点

```
private void startAudioTransfer(bool startSending, IPAddress receipientIP, bool startReceiving, IPAddress senderIP)
        {
            if (IsAudioSupported)
            {
                IsAudioTransferActive = true;
                audioUDPClient = new UdpClient(audioPort);

                if (startSending)
                {
                    startRecording();

                    audioSender = new Thread(new ParameterizedThreadStart(sendAudio));
                    audioSender.Start(receipientIP);
                }

                if (startReceiving)
                {
                    audioReceiver = new Thread(new ParameterizedThreadStart(receiveAudio));
                    audioReceiver.Start(senderIP);
                }
            }
            else
            {
                MessageBox.Show("Audio Transfer is not supported by your computer", "Error", MessageBoxButton.OK, MessageBoxImage.Error, MessageBoxResult.OK);
            }
        }
private void receiveAudio(object sender)
        {
            IPEndPoint senderEP = new IPEndPoint(IPAddress.Any, 0);
            MemoryStream audioDataStream;
            RawSourceWaveStream receivedRawAudioData;
            byte[] receivedAudioData;

            while (IsAudioTransferActive)
            {
                receivedAudioData = audioUDPClient.Receive(ref senderEP);
                waveOutStream = new WaveOut();
                audioDataStream = new MemoryStream(receivedAudioData);
                receivedRawAudioData = new RawSourceWaveStream(audioDataStream, audioFormat);
                waveOutStream.Init(receivedRawAudioData);
                waveOutStream.Play();
            }
            waveOutStream.Stop();
            waveOutStream.Dispose();
        } 
```

# actionscript-3 - Actionscript 3 中的奇怪错误

> ID：11113419
> 
> 赞同：0
> 
> 时间：2012-06-20T05:39:55.937
> 
> 标签：actionscript-3

我写了一个公式来计算一个对象跟随另一个对象的 x 和 y 速度，因为我希望速度 = 5。

也许我只是个白痴，我的工作不正确，但是当我尝试运行 Flash 游戏时，它会编译但会出现运行时错误：

```
TypeError: Error #1006: value is not a function.
    at avoiderv2_fla::MainTimeline/anenemyMovement() 
```

这是我正在使用的计算（是的，我已经将问题追溯到这一特定行）

```
e.target.ndx = (Math.sin((Math.asin(e.target.dx(Math.sin(90)/e.target.speed)))*180/Math.PI)*(e.target.speed/Math.sin(90))) 
```

知道为什么我会收到此错误吗？干杯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:46:08.980

`...e.target.dx(Math.sin(90)...`部分看起来很可疑。你确定 dx 是一个函数吗？

我认为它应该是`...e.target.dx * (Math.sin(90)...`或类似的东西（注意`*`）。

# objective-c - 从 xib 调用自定义视图时调用 xib 会导致崩溃

> ID：11113421
> 
> 赞同：0
> 
> 时间：2012-06-20T05:40:04.580
> 
> 标签：objective-c, ios, exc-bad-access, runtime-error

在一个 .xib 文件中，我添加了一个视图并将其类修改为我的`CustomViewClass`. 在该类中，我有在创建 .xib 时调用的重写方法：

```
- (id)initWithCoder:(NSCoder *)aDecoder{
if(self == [super initWithCoder:aDecoder]){
    //Load  the xib
    NSArray *array = [[NSBundle mainBundle] loadNibNamed:@"SliderVW" owner:nil options:Nil];
    self = [array objectAtIndex:0];
}
return self;
} 
```

此方法调用一个xib 分配给self 视图`CustomViewClass`但有问题；我得到一个 EXC_BAD_ACCESS 就行了

```
NSArray *array = [[NSBundle mainBundle] loadNibNamed:@"SliderVW" owner:nil options:Nil]; 
```

但我不明白为什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:39:43.180

使用下面的，看看它是否有效：

```
NSArray *array = [[NSBundle mainBundle] loadNibNamed:@"SliderVW" owner:self options:nil]; 
```

已将所有者的参数“nil”更改为“self”。

# android - Android ListView OutOfMemoryError：位图大小超出VM预算

> ID：11113422
> 
> 赞同：-2
> 
> 时间：2012-06-20T05:40:12.137
> 
> 标签：android, listview, bitmap, out-of-memory

好的，这是一个非常常见的问题，但我的问题有点不同，我找不到其他主题的解决方案，所以我在这里发布新问题。我有一个显示 ListView 的应用程序。ListView 的每一行，我都有一个 ImageView 来使用 ListAdapter 从 SD 卡加载一个小位图图标（它很小，所以问题不在于大小）。现在，如果我慢慢滚动列表，它工作正常。但是如果我滚动得非常快，当 ListView 足够长时，它不再显示图标，logcat 中的消息是这样的：

```
126 600-byte external allocation too large for this process. 
```

VM 不会让我们分配 126,600 字节

然后应用程序崩溃和 logcat 显示：

```
java.lang.OutOfMemoryError: bitmap size exceeds VM budget 
```

我在 2 台不同的设备上进行了测试，其中只有 1 台出现此错误，其他的正常。请注意，此错误仅在 ListView 滚动非常快时发生。那是因为创建的新线程与垃圾收集的速度不匹配吗？在这种情况下，有人可以给我一些建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:49:54.373

在使用位图时，当与 ListView 一起使用时，您通常会得到 OutOfMemory。

所以你应该选择[LasyList](https://github.com/thest1/LazyList)，如图所示。

将负责您的图像加载。

要使用 SDCard，您需要替换 ImageLoader 类中的方法，如下所示

```
private Bitmap getBitmap(String url) 
    {
        // If is from SD Card
        try {
            File file = new File(url);
            if(file.exists())
            {
                return BitmapFactory.decodeFile(url);
            }
        } catch (Exception e) {

        }

        File f=fileCache.getFile(url);

        //from SD cache
        Bitmap b = decodeFile(f);
        if(b!=null)
            return b;

        //from web
        try {
            Bitmap bitmap=null;
            URL imageUrl = new URL(url);
            HttpURLConnection conn = (HttpURLConnection)imageUrl.openConnection();
            conn.setConnectTimeout(30000);
            conn.setReadTimeout(30000);
            conn.setInstanceFollowRedirects(true);
            InputStream is=conn.getInputStream();
            OutputStream os = new FileOutputStream(f);
            Utils.CopyStream(is, os);
            os.close();
            bitmap = decodeFile(f);
            return bitmap;
        } catch (Exception ex){
           ex.printStackTrace();
           return null;
        }
    } 
```

# php - 捕获PHP脚本的正常和异常终止

> ID：11113429
> 
> 赞同：0
> 
> 时间：2012-06-20T05:40:47.797
> 
> 标签：php, event-handling, shutdown

我有一个 PHP 脚本，它有时会耗尽内存（进程耗尽它）并异常终止。我想知道 PHP 中是否有任何功能允许我在脚本终止时运行“清理”操作。我尝试了“关闭处理程序”，但它们似乎没有被调用。

我可以使用“信号处理程序”或“关闭回调”之类的东西吗？我想调用一个在脚本退出（正常或异常）时执行某些操作的函数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:15:51.387

PHP 中没有像您希望的那样工作的清理功能。您可以/应该做的是查看您的代码，以了解如何最好地进行优化，以便在不耗尽内存的情况下完成您需要的操作。

PHP 有一个内置函数，可以让您获取分配给 PHP 的当前内存量，称为[memory_get_usage](http://php.net/manual/en/function.memory-get-usage.php)。使用它，您可以检查 PHP 当前使用了多少内存，并将其与`php.ini`文件中分配的内存量进行比较。当您接近这一点时，您可以退后或在另一个线程中重新开始。

以下是您可以做的一些事情来调整 PHP 并可能节省一些内存，其中一些您可能已经知道，但如果我遇到同样的问题，我会看：

*   如果可以的话，增加文件中的内存量`php.ini`，或者尝试使用[ini_set](http://us.php.net/manual/en/function.ini-set.php)来增加 PHP 的内存大小。如果您提高内存量，这可能是问题的临时解决方案
*   使用[unset](http://php.net/manual/en/function.unset.php)函数，因为这将释放/删除变量并恢复 PHP 使用的一些内存
*   尽可能重用变量，这包括在可重用的方法/函数中封装代码以及充分利用 for/foreach/for..in 循环
*   尽量不要在内存中长时间存储大数据（文本或二进制）
*   编写一个服务来卸载内存或处理器密集型操作，这样你的主代码就不会超时执行
*   使用排队，这样您就不会被绑定到一个线程或脚本超时，以便处理您需要的一切。也许[rabbitMQ](http://www.rabbitmq.com/)或其他包会为你工作

PHP 应该能够处理大量数据和大量转换，但您可以做的任何事情来提高效率都会帮助它一路走来。

希望这会有所帮助，利亚姆-

# ruby-on-rails - Rails 国际化

> ID：11113433
> 
> 赞同：0
> 
> 时间：2012-06-20T05:41:17.153
> 
> 标签：ruby-on-rails, internationalization

我目前对rails很陌生，很困惑。我正在做一个需要制作网站的学校项目，而我的部分是做国际化部分。So far i have made a drop down menu that would change the language whenever the language is selected, but i am unable to translate. 我不确定我是否应该包含另一个文件来指定我希望能够支持的语言，因为在检查了许多网站之后，它让我更加困惑。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T07:49:28.897

你读过 i18n 上的 rails 指南吗？有很好的描述如何做到这一点。通常在您的 config/lang 中是不同语言的文件。

文本元素放置在 <%= t :first_text_block, :default => "Hello I'm a multilanguage text", %>

[国际化的导轨](http://guides.rubyonrails.org/i18n.html)

# dotcloud - 无法解析 dotcloud.yml

> ID：11113437
> 
> 赞同：1
> 
> 时间：2012-06-20T05:41:46.300
> 
> 标签：dotcloud

自上次推送以来，我什至没有触摸 dotcloud.yml，但现在尝试推送时出现了这个奇怪的错误：

```
Could not parse dotcloud.yml: Invalid characters (lowercase alphanum only) for service "rails_production" in "dotcloud.yml", line 6, column 3 
```

我很确定在 dotcloud.yml 中只使用小写字母。有什么建议吗？

* * *

dotcloud.yml 文件按要求：

```
rails:
  type: ruby
  approot: rails

rails_production:
  type: mysql

html5:
  type: ruby
  approot: html5

redis:
  type: redis

resque:
  type: ruby-worker
  approot: rails

web:
  type: static
  approot: web

statsd:
  type: nodejs
  approot: statsd
  ports:
    node: udp 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T13:02:13.167

> **更新：**
> 
> dotCloud 刚刚推出了一项更改，该更改恢复了服务名称中没有下划线的强制执行。这应该可以解决您的问题，如果您重新推送，您现在应该已经准备就绪。我不确定这会持续多久，所以如果您可以重命名您的服务，最好这样做，否则将来可能会再次发生这种情况。

验证中进行了更改，`dotcloud.yml`以更好地标准化服务名称，并解决服务名称包含某些字符时导致的问题。看起来这种变化正在影响您。

错误说

> “无效字符（仅限小写字母）”

这意味着这`'rails_production'`是一个无效的名称，因为它有一个下划线。尝试将其更改为`railsproduction`或类似的东西。

同样重要的是要注意，这可能是一个错误，如果您无法轻松重命名您的服务，请随时联系 dotCloud。

# regex - 这个正则表达式是什么意思？

> ID：11113441
> 
> 赞同：-1
> 
> 时间：2012-06-20T05:41:58.683
> 
> 标签：regex

在以下正则表达式中：

`[a-zA-Z_]?\"(\\.|[^\\"])*\"`

是什么`\"(\\.|[^\\"])*\"`意思？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:05:02.993

这是描述：

```
[              # start character class
  a-zA-Z         # case insensitive character match
  _              # underscores are allowed too
]              # end character class
?              # match zero or one time
(              # start group
  \\.            # dot character
  |              # OR
  [              # start character class
    ^              # match any character
    \\"            # except double quote
  ]              # end character class
)              # end group
*              # match zero or more occurrences 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:02:49.937

它看起来像 java，所以崩溃了

```
\"(\\.|[^\\"])*\" 
```

我们得到：

*   `\"`字面引用`"`
*   `(`开始组
*   `\\.`字面点
*   `|`逻辑“或”
*   `[`开始字符类
*   `^`否定
*   `\\"`不必要的转义引号 - 相当于`\"`- 也应该有 3 个或 1 个反斜杠，所以这是一个语法错误
*   `]`结束字符类
*   `)`端组
*   `*`任意数量的
*   `\"`字面引用`"`

总之，这意味着：引号之间的任意数量的点（包括零点）

字符类试图不贪婪，但有一种更简单的方法可以做到这一点 - 只需使用“非贪婪”运算符`*?`。即它可以被替换为：

```
\"\\.*?\" 
```

# jquery - 在 iframe 的内容从服务器加载之前加载 gif 动画

> ID：11113444
> 
> 赞同：0
> 
> 时间：2012-06-20T05:42:30.497
> 
> 标签：jquery, asp.net, css, blockui, updateprogress

在加载 iframe 之前，我需要在我的应用程序中显示“正在加载”的 gif 动画。我尝试了 3 种方法。
1.在更新面板中使用Updateprogress。更新进度运行良好，但在浏览器中加载后会导致 iframe 模糊。
2\. 使用 BlockUI 使用 jquery
3\. 使用 css。在所有方法中，都规定了加载gif动画的时间限制。但在我的应用程序中，iframe 从 pentaho 服务器和负载获取报告。如果我手动指定一个时间，比如 3000 秒，它与 iframe 的内容加载不同。我找不到动画的确切时间限制。如何从服务器获取 iframe 的内容加载时间并实现此动画。我的 Updateprogress 和 BlockUI 方法的代码源：
[http://www.codedigest.com/Articles/ASPNETAJAX/125_Using_UpdateProgress_Control_Effectively.aspx](http://www.codedigest.com/Articles/ASPNETAJAX/125_Using_UpdateProgress_Control_Effectively.aspx)
http://www.malsup.com/jquery/block/#demos
css 方法实现为来源：jQuery 警报对话框插件和 mycode

```
 <script type="text/javascript">
    $(document).ready(function () {
    $("#alert").click(function () {
    jAlertload();
    setTimeout(hideit,seconds); 
     });
     });
     function hideit() {
            $("#popup_containerload").remove();
            $("#popup_overlayload").remove();
        }
        beforeload = (new Date()).getTime();
        function pageloadingtime() {
         afterload = (new Date()).getTime();
         var seconds = 0;
         seconds = (afterload - beforeload) / 1000;   
         seconds1 = seconds * 1000;    
         }
        window.onload=pageloadingtime;
    </script> 
```

css

```
#popup_containerload {
    font-family: Arial, sans-serif;
    font-size: 12px;min-width: 10px; 
    max-width: 600px; 
    background:  none repeat scroll 0 0 transparent;
    position:absolute;color: #000; top: 547px;
    z-index: 99999;
}    
#popup_contentload {
    padding: 1em 1.75em;margin: 0em;
}    
#popup_contentload.alert 
{
    position:absolute;height:100px;width: 100px;top: 55px;
    background: url(ajax-loader-5.gif) 10px 16px no-repeat;
} 
```

任何建议都会有所帮助。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:09:08.940

服务器不知道客户端加载特定资源需要多长时间。这个时间基本上是资源通过 Internet 从服务器到达客户端所需的时间。

更好的方法是在调用资源时显示图像，即`jAlertload()`查找内容的加载事件。加载内容后，您可以隐藏您的`.gif`

可以使用`$(document).ready(....);`iframe 内容中的事件触发加载事件。

更流畅的方法是通过 CSS 隐藏 iframe 的内容，并在完全加载后显示，同时隐藏`.gif`图像。

# iphone - 导航控制器中的 UITableView 刷新数据

> ID：11113445
> 
> 赞同：2
> 
> 时间：2012-06-20T05:42:31.460
> 
> 标签：iphone, ios, xcode

我在 viewController 1 中有一个 UITableView。所以当我点击一行时，它会将我发送到 Viewcontroller2 这里我有一个按钮，可以从 ViewController1 添加或删除一行 UITableView 的值。

因此，当我删除一个值并返回 ViewC 1 时，我仍然突出显示该行，如果我返回主视图并重新进入此 ViewC 1，它将被删除......我该如何刷新 tableView 时我通过返回按钮从 Viewcontroller2 返回。所有这些都在导航视图控制器中。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:01:39.003

重新加载表格视图的数据。

```
[yourTableView reloadData]; //to reload 
```

在 ViewController1 的 didSelectRowAtIndexPath 方法中，添加此代码以在您推送或导航到 VC2 后立即删除突出显示。

```
[tableView deselectRowAtIndexPath:indexPath animated:NO]; 
```

# android - 在 android 中播放来自我的 youtube 频道的视频

> ID：11113446
> 
> 赞同：1
> 
> 时间：2012-06-20T05:42:31.653
> 
> 标签：android, youtube

我正在制作一个需要列出相应 YouTube 频道的播放列表的应用程序。我有一个可用的 YouTube 播放器。现在我需要的是获取频道的播放列表及其视频缩略图以及所有视频 ID。我该如何实施？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2017-11-14T09:32:50.640

这个问题很老了，但是它对那些正在寻找 Android 应用程序中的 youtube 频道集成的开发人员会有所帮助。我提出一个粗略的想法。您可以按照本教程[在 Android 中集成 Youtube 频道](http://www.techiesatish.com/youtube-channel-integration-android-using-youtubeplayerview/)按照以下步骤操作：-

1.  查找 youtube 频道 ID。
2.  类型 SHA1 密钥
3.  获取 Youtube Data API v3 的 API 密钥并粘贴 SHA1 密钥以限制使用
4.  通过单击**在 APIs Explorer 中加载，从此**[链接](https://developers.google.com/youtube/v3/docs/search/list)获取频道视频列表和带有 JSON 格式缩略图的描述。将您的频道 ID 放在**ChannelId**文本字段中，您将获得 JSON 格式的视频数据。
*****   在 AndroidManifest 文件中添加 Internet 权限。*   [下载](https://developers.google.com/youtube/android/player/downloads/)您的 Android 项目库中的 YoutubePlayerApi.jar 文件和 build.gradle 文件中的 volley 库。*   创建一个 Channel Activity 并使用 JSON 解析来解析 Video 列表。*   通过 intent.putExtra() 将 videoId 从 yourAdapter 传递到另一个 Activity。*   通过 getExtra() 获取另一个 Activity 中的 videoId。*   使用 cueVideo() 显示视频。****

 ***** * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T05:58:46.013

例如，您可以使用[you tube API](https://developers.google.com/youtube/2.0/developers_guide_protocol_audience)来获取播放列表

```
http://gdata.youtube.com/feeds/api/playlists/PLAYLIST_ID 
```****

# java - Eclipse / RAD 运行菜单消失

> ID：11113447
> 
> 赞同：0
> 
> 时间：2012-06-20T05:42:34.300
> 
> 标签：java, eclipse, execute, rad

我有一个项目，一切正常，然后由于某些原因，我不得不从存储库中进行新的签出，现在我的 IDE 无法正常工作。以前有一个作为应用程序运行的菜单——现在只有一些移动选择。我只想将其作为 java 类运行。为什么我不能？

![在此处输入图像描述](../Images/12ddd0fd2b9e53d546643d1e379fb370.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:05:23.407

src 不是源文件夹，因此您的源未编译且无法运行。图标中的空心 J 正是表明了这一点。

将 src 添加到构建路径。

# iphone - 如何修复 uitableviewcell 中的 uiimageview 在滚动表时调整大小？

> ID：11113449
> 
> 赞同：2
> 
> 时间：2012-06-20T05:43:01.117
> 
> 标签：iphone, ios

我的代码是

```
 [cell.imageView setImageWithURL:[NSURL URLWithString:[medium fullThumbnailURL]] placeholderImage:[UIImage imageNamed:@"missing"]];
    [cell.imageView setContentMode:UIViewContentModeScaleAspectFit]; 
```

![开始](../Images/d2a24fa2eac79628c9542306f81ce95b.png)

但是当向下滚动并再次返回顶部时。

![滚动后](../Images/a054465ac62e7865bd3e50ed40867d3d.png)

如何解决这个问题。请帮忙。

[编辑]

我像这样创建表格单元格

![细胞](../Images/97c0dde2e66d8a42a460b191552736d9.png)

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-11-02T04:31:05.270

我一直有同样的问题，我终于想通了！UITableViewCells 有自己的 imageView 属性，它们似乎以一种无法访问的方式设置样式。我的解决方案是为我自己的 UIImageView 使用不同的实例名称，这样 UITableViewCell 的任何实例都不会自己设置样式。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T05:49:14.623

您需要使用此方法将图像缩放到所需大小

```
-(UIImage*)scaleTheImage:(UIImage*)image
{
    CGSize size = CGSizeMake(70, 70); 
    UIGraphicsBeginImageContext(size);
    [image drawInRect:CGRectMake(0, 0, size.width, size.height)];
    UIImage *scaledImage = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    return scaledImage;
} 
```

# android - 将空值替换为 0 或 Android 中的任何其他值

> ID：11113452
> 
> 赞同：0
> 
> 时间：2012-06-20T05:43:22.363
> 
> 标签：android, null

我正在开发一个 Android 应用程序，但不知道如何在公式计算中处理空值。这是我试图跳过空值的代码，但这不起作用。

**更新**

实际上我正在尝试这样做

```
package ecc.ecc.pkg;

import java.text.DecimalFormat;
import java.text.NumberFormat;
import ecc.ecc.pkg.R;
import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;

public class ECCActivity extends Activity {
    Button    btncalc;
    EditText  molcostper;
    TextView  costper;
    double    molcost = 0;
    double    cstperusd = 0;
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        initcontrols();
    }
    public void initcontrols()
    {
        molcostper=(EditText)findViewById(R.id.molcostper);
            costper=(TextView)findViewById(R.id.costper);  

        btncalc=(Button)findViewById(R.id.btnCalc);
        btncalc.setOnClickListener(new Button.OnClickListener(){
            public void onClick(View v)
            {
                calculate();
            }

        });
    }
    public void calculate()
    {
        NumberFormat formatter = new DecimalFormat("#,###,###,###.##");

        molcost=Double.parseDouble(molcostper.getText().toString());

        cstperusd = replaceIfNull(molcost,8500)*94

        costper.setText(formatter.format(cstperusd));
    }
 public static <T> T replaceIfNull(T objectToCheck, T defaultValue) {
          return objectToCheck==null ? defaultValue : objectToCheck;
        }
} 
```

此方法正在产生错误，请任何人帮助处理此问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:45:17.357

这一点应该没有完整的解决方案......

molcost 的范围应该更大，因为有两个 molcost `one local to if` `other is in else with greater scope`...

```
double molcost =0;
if (molcostper != null)
        {   
        molcost=Double.parseDouble(molcostper.getText().toString());
        }
        else
        {
        molcost=8500;
            }
result=molcost*10; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:47:07.200

将您的代码更改为：

```
double molcost =0;
EditText molcostperss  = (EditText) findViewById(R.id.molcostper);
String change  = molcostperss.getText().toString();
if (change.trim().equals("") && change!=null ) {
 molcost=Double.parseDouble(change);
}
else
{
molcost=8500;

}
result=molcost*10; 
```

**编辑：**通过将 costper 初始化为来更新您的 initcontrols() 方法

```
 public void initcontrols()
    {
        molcostper=(EditText)findViewById(R.id.molcostper);
        costper=(TextView)findViewById(R.id.costper);
        btncalc=(Button)findViewById(R.id.btnCalc);
        btncalc.setOnClickListener(new Button.OnClickListener(){
            public void onClick(View v)
            {
                calculate();
            }

        });
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:55:52.733

您需要在代码中初始化 molcost 变量。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T06:59:18.640

试试这个。

```
if (molcostper != null && !molcostper.getText().toString().isEmpty() )
{   
    molcost=Double.parseDouble(molcostper.getText().toString());
}
else
{
    molcost=8500;
} 
```

if it doesn't work then try to download the '/data/anr/traces.txt' file and check the log. It might provide you some hints. If possible please paste the log here which can help us to identify the problem.

# python - 检查字符串

> ID：11113454
> 
> 赞同：0
> 
> 时间：2012-06-20T05:43:43.270
> 
> 标签：python

我在这样的函数中有一系列 if 语句：

```
if time == "%%00":
    #code
elif time == "%%15":
    #code
elif time == "%%30":
    #code
elif time == "%%45":
    #code 
```

时间是 24 小时格式，即。0000-2400，我正在检查 15 间隔时间是多少。但是，所有语句都被忽略，因此“%%interval”不起作用。只是我在这里遗漏了一些简单的东西，还是我需要一种不同的方法？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-20T05:46:36.577

有几种方法可以做到：

```
if time.endswith("00"):
    #code
elif time[-2:] == "15":
    #code
elif re.match(".{2}30", time):
    #code
elif time.endswith("45"):
    #code 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:59:31.660

从根本上讲，您是在比较字符串文字，仅此而已，有几种方法可以做到这一点，这是一种没有正则表达式的方法。

```
if   time[-2:] == "00":
    #code
elif time[-2:] == "15":
    #code
elif time[-2:] == "30":
    #code
elif time[-2:] == "45":
    #code 
```

`[-2:]`将从字符串中获取最后两个字符

这是一个带有正则表达式的，我不是它们的忠实粉丝，它们会产生微妙的错误，但这只是我的看法。

```
if re.match('..00', time):
    #code
elif re.match('..15', time):
    # code
elif re.match('..30', time):
    # code
elif re.match('..45', time):
    # code 
```

简单的`.`意思是匹配任何字符，除了`\n`，`re.match`返回一个对象或者`None`如果没有匹配。

# android - 如何在黑莓中运行工作灯的本机代码

> ID：11113456
> 
> 赞同：2
> 
> 时间：2012-06-20T05:43:54.547
> 
> 标签：android, blackberry, cordova, ibm-mobilefirst

在worklight中，我试图提取android的本机代码并在android sdk eclipse其工作gud支持的模拟器中运行它。现在我在黑莓中做了同样的事情。我已经使用他们的插件下载了 Blackberry SDK。但我试图从工作灯中提取黑莓的本机代码。我不能做和我在 android 中做的一样的事情。它没有生成一些文件。如何在 Blackberry stimulator 中运行 Worklight 本机代码？有什么建议么

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-21T07:55:29.360

Worklight 不会像为 iOS/Android/WindowsPhone 那样为 BlackBerry 生成本机代码。相反，它正在生成一个 BlackBerry WebWorks 项目，该项目本质上是一个 Web 应用程序，将在 BlackBerry 设备上的 WebWorks 容器中运行。

[您可以在https://developer.blackberry.com/html5/](https://developer.blackberry.com/html5/)阅读有关 BlackBerry WebWorks 应用程序开发的更多信息

[此外，您可以在http://www-01.ibm.com/software/mobile-solutions/worklight/library/](http://www-01.ibm.com/software/mobile-solutions/worklight/library/)上获得有关使用 Worklight 开发 BlackBerry 应用程序的更多信息

参考模块：

模块 02.3 - 设置您的 BlackBerry 开发环境

模块 03.3 - 在 BlackBerry 环境中预览您的应用程序

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T21:15:07.093

一些旧版本的黑莓不支持文件名中的连字符（'-'）。如果您的任何文件（甚至图像）中有连字符，那么您的 Worklight 应用程序中的黑莓环境将不会构建，并且在尝试构建时您将在控制台中收到错误消息。你能检查一下你是否收到这个错误吗？

# iphone - 带导航的 Ipad 多个详细视图

> ID：11113457
> 
> 赞同：0
> 
> 时间：2012-06-20T05:44:04.703
> 
> 标签：iphone, ipad, uisplitviewcontroller, detailview

对于我的 ipad 应用程序，我有这样的要求

对于根视图中的每一行，我想显示不同的详细视图和

详细视图有一些按钮单击它将显示另一个视图（详细视图需要在导航控制器下）

任何人都可以给我满足此要求的教程/示例代码/视频吗？

我在这里尝试了 20 多个类似的问题并搜索了 youtube，但几乎没有运气。

我有一个链接[http://kshitizghimire.com.np/uisplitviewcontroller-multipledetailviews-with-navigation-controller/](http://kshitizghimire.com.np/uisplitviewcontroller-multipledetailviews-with-navigation-controller/)但是当我们在纵向模式下选择一行时，弹出窗口没有被隐藏有一些问题。

任何帮助，将不胜感激。

谢谢。

PS：我的要求是这样的

```
根视图
|— 选项 1
|—（用户导航控制器）
| |OPT1_DETAILVIEW
| |– OPT1_DRILLDOWNVIEW1
| |–OPT1_DRILLDOWNVIEW2
| |–等
|— 选项 2
|—（用户导航控制器）
| |OPT2_DETAILVIEW
| |– OPT2_DRILLDOWNVIEW1
| |–等
|— 选项 3 等
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-21T12:59:43.943

我的项目也遇到了这个问题。我使用以下代码完成了此操作

您需要做的是，当您点击根视图控制器的 tableview 的任何单元格时，您必须加载适当的视图控制器。

您必须在根视图控制器的 tableview 的 tableViewDidSelectRowaAtIndexPath 部分编写以下代码。

```
- (void)tableView:(UITableView *)aTableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {

    //Load previous controllers array.

    NSMutableArray *viewControllerArray=[[NSMutableArray alloc] initWithArray:splitViewController.viewControllers]; 

    //Remove last Detail View controller Object.

    [viewControllerArray removeLastObject];

    // Check appropirate row value.

    if (indexPath.row == 0) {
        // Add new Detail controller in your array ...
        FirstViewController *fvc=[[[FirstViewController alloc] initWithNibName:@"FirstViewController"  bundle:nil] autorelease];        
        [viewControllerArray addObject:fvc];
    }
    else if (indexPath.row == 1) {
        // Add new Detail controller in your array ...
        SecondViewController *svc=[[[SecondViewController alloc] initWithNibName:@"SecondViewController"  bundle:nil] autorelease];        
        [viewControllerArray addObject:svc];
    }
    // And so on..

    // Set New View Controllers of SplitViewController

    [splitViewController setViewControllers:viewControllerArray];   
    [viewControllerArray release];      
} 
```

我这样做了，它奏效了。我希望它会有所帮助。

# java - 在网页中存储和使用从数据库加载的数据的最有效方法是什么？

> ID：11113458
> 
> 赞同：2
> 
> 时间：2012-06-20T05:44:07.080
> 
> 标签：java, javascript, jquery, html

我有一个网站，其中有很多`combo boxes`和`auto-complete` `textboxes`，它从数据库主机中获取数据。

我不希望每次用户输入登录信息或页面刷新时都加载数据。

为客户端加载和存储数据的最有效、最安全和最快的方法是什么。还考虑一个中型数据库。

我尝试了一些事情，例如，

1.  存储在`Javascript`数组中 - 一旦用户刷新，它就会丢失。
2.  包括`Servlets`加载数据和在页面上填写，刷新也有同样的问题。
3.  需要时使用`ajax`和填充。
4.  `server side`通过加载一次来存储数据，这节省了我每次查询数据库的时间。但是每次注销/登录时都必须对其进行维护。

有没有比这更好的方法

PS尽量不要让这个太主观，请只回复带有简要描述的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:48:06.623

您应该考虑使用[HTML5 本地存储](http://diveintohtml5.info/storage.html)。

这是一个[演示](http://people.w3.org/mike/localstorage.html)！

和一个[教程](http://net.tutsplus.com/tutorials/html-css-techniques/quick-tip-learning-about-html5-local-storage/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:12:29.947

HTML5 本地存储应该适合您，但是，如果您希望它在不支持 HTML5 的旧浏览器上工作，请查看：[http ://code.google.com/p/sessionstorage/](http://code.google.com/p/sessionstorage/)

我以前在不同的应用程序中使用过它，效果很好。另外，为什么不使用好的旧饼干呢？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:57:09.710

它还取决于查询和加载数据的设置。ASP.NET 有一些非常好的内置缓存，可以设置这些缓存来避免整个问题。

最终，在任何给定的项目中，我发现我使用了一些不同的选项；
从`page caching`（因此服务器缓存页面输出），
到`session cookies`用于保存可以在站点周围携带的某些数据，
到`persistant cookies`如果需要，
某些数据适合由 携带`QueryStrings`，一些适合`ajax`或`json`设置来按需获取数据，最后一些只适合普通查询并加载到页面中。

有了所有这些，您就可以为工作选择合适的工具了。200 个字符的字符串不适合传入`QueryString`. 如果它只在一页上使用一次，那么把它放在一个`session cookie`可能是合适的。如果要经常更新，那么`ajax`/`json`调用可能会更好。

然而， an`ID`更适合在 a 中传递`QueryString`，以及表单值（比如下拉列表的索引）等等。

作为最后一点，值得检查这些对数据库的查询花费了多长时间，因为您可能会为毫秒级的返回付出很多努力。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T19:46:39.330

HTML5 本地存储似乎是一个很好的解决方案，但如果 HTML5 不适合您，我会通过简单地序列化选项并将其保存到 cookie 中做与您过去尝试做的类似的事情。

# android - 如何解码图像文件

> ID：11113463
> 
> 赞同：0
> 
> 时间：2012-06-20T05:44:45.577
> 
> 标签：android, bitmap

我有一个高度为 200 和 400 像素的图像。我想显示所有这些图像的方式是 200 像素的高度。我的意思是说无论图像的大小如何，在显示该图像时，我想将图像显示到 200 像素的高度。图像的其余部分被隐藏。那怎么做呢？我使用了一个代码进行解码，但在这里它拉伸了更大尺寸的图像，然后显示它。就我而言，我不希望图像拉伸，而只显示高度为 200 像素的图像。

**我使用的代码：**

```
private Bitmap decodeFile(File f)
{
    try 
    {
        // decode image size
        BitmapFactory.Options o = new BitmapFactory.Options();

        // Find the correct scale value.
        final int REQUIRED_SIZE = 200;
        int height_tmp = o.outHeight;
        while(true)
        {
            if(height_tmp/2 < REQUIRED_SIZE)
                break;          
            height_tmp/=2;
        }

        o.inSampleSize = height_tmp;
        return BitmapFactory.decodeStream(new FileInputStream(f), null, o);
    } 
    catch (FileNotFoundException e) 
    {}
    return null;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:24:20.753

好的，所以尝试 layoutParams 以编程方式执行相同的任务。

```
 public void taskCompleted ()
{

    ImageView iv = new ImageView(this);

    Bitmap completionBitmap = null;
    completionBitmap = BitmapFactory.decodeFile(CommonMessageConstants.BASE_IMAGE_FOLDER_ON_DEVICE +"completionimage.png");

    iv.setImageBitmap(completionBitmap);
    RelativeLayout rl = (RelativeLayout) findViewById(R.id.randomImageView);
    RelativeLayout.LayoutParams lp = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, RelativeLayout.LayoutParams.WRAP_CONTENT);
    //lp.setMargins(200, 200, 0, 0);

    lp.addRule(RelativeLayout.CENTER_IN_PARENT);

    rl.addView(iv, lp);

    Toast.makeText (getApplicationContext(), msg, Toast.LENGTH_SHORT).show ();

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:55:04.527

只需编辑您的 main.xml

```
 android:layout_width="200dp"
    android:layout_height="200dp" 
```

# iphone - 如何从 webView 中搜索和选择文本？

> ID：11113464
> 
> 赞同：2
> 
> 时间：2012-06-20T05:44:51.163
> 
> 标签：iphone

我正在实现一个应用程序，我需要在其中从 Internet 获取 .pdf 文件并将其显示到 Web 视图中。我已经完成了。但是在将 .pdf 文件呈现给网络视图之后，我想允许用户搜索文本和选定的文本。当我在 Web 视图中显示 .pdf 文件时，它只允许我放大和缩小。那么我该怎么做呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T09:28:23.640

从这里获取一个开源库：[https ://github.com/mobfarm/FastPdfKit](https://github.com/mobfarm/FastPdfKit)

# android - 将特定日期设置为 Date 对象

> ID：11113470
> 
> 赞同：0
> 
> 时间：2012-06-20T05:45:09.573
> 
> 标签：android, date-comparison, android-date

我已经尝试了很长时间。
我有今天的日期，我想将它与特定日期进行比较。

但是当我像这样设置**特定**日期时，它给了我错误的输出：

```
 Calendar cal;
    SimpleDateFormat dateformatter;
    String currentdate;
    cal = Calendar.getInstance();
    dateformatter = new SimpleDateFormat("yyyy-MM-dd");

    //Getting today's date
    currentdate = dateformatter.format(cal.getTime());
    Log.i(Class_Tag, "current = " + currentdate);

    //Setting specific date
    Date start = cal.getTime();
    cal.set(2012, 06, 20);
    Date end = cal.getTime();
    Log.i(Class_Tag, "end = " + dateformatter.format(end));

    long diff = end.getDate() - start.getDate();
    Log.i(Class_Tag, "diff : " + diff);

    long diff1 = end.getMonth() - start.getMonth();
    Log.i(Class_Tag, "diff mnth : " + diff1);

    long diff2 = end.getYear() - start.getYear();
    Log.i(Class_Tag, "diff yr : " + diff2);

    if (start.compareTo(end) == 0) {
        Log.i(Class_Tag, "EQUAL");
    } else if (start.compareTo(end) < 0) {
        Log.i(Class_Tag, "end b4 start, delete");
    } else {
        Log.i(Class_Tag, "start b4 end, do nothing"); 
```

**输出：**

```
current = 2012-06-20
end = 2012-07-20 ////WHY it is showing month as '7' when I've set it to '6'?
diff : 0
diff mnth : 1 //Because of the wrong month in end date, this comes 1 instead of 0
diff yr : 0
end b4 start, delete //this also is not correct 
```

我尝试了几种解决方案，但没有任何收获。

我唯一的目标是了解该特定日期是否**已超过**今天的日期。

任何帮助表示赞赏。

* * *

## 编辑

在下面的代码片段中，

```
//Setting specific date
    Date start = cal.getTime();
    cal.set(2012, 06, 20);
    Date end = cal.getTime(); 
```

如果我设置`cal.set(2012, 06, 20);`为`cal.set(2012, 05, 20);`，则月份差异。出来为 0。

这意味着`month`特定日期会增加“1”，*但是* ***为什么***？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:59:09.180

试试这个;

```
Calendar cal = Calendar.getInstance();

long dateNowMillis = cal.getTimeInMillis();

cal.set(2013, 1, 23);

long specDate = cal.getTimeInMillis();

if(dateNowMillis > specDate)
{
    System.out.println("Passed");
}
else if(dateNowMillis == specDate)
{
    System.out.println("Now");
}
else
{
    System.out.println("Not passed");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:52:41.173

仅供参考，一个月由 0 到 11 的整数表示；0 是一月，1 是二月，以此类推；因此 11 是 12 月。

您可以在此处查看有关[Date](http://docs.oracle.com/javase/6/docs/api/java/util/Date.html)的更多信息以及有关[SimpleDateFormat](http://developer.android.com/reference/java/text/SimpleDateFormat.html)的更多信息。

**更新：**

**关于getMonth()** => 它已被弃用的另一件事`Calendar.get(Calendar.MONTH)`，请查看[此处](http://developer.android.com/reference/java/util/Date.html#getMonth%28%29)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T06:04:30.053

@GAMA 像这样你会得到：

```
yourDate.setDate(yourDate.getDate() - daysToSubtract); 
```

希望能帮助到你。

# iphone - 如何以编程方式从照片应用程序中检索所有照片/视频并将其复制到我的应用程序？

> ID：11113471
> 
> 赞同：1
> 
> 时间：2012-06-20T05:45:13.720
> 
> 标签：iphone, ipad

如何以编程方式从照片应用程序中检索所有照片/视频并将其复制到我的应用程序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:55:39.493

您需要使用适用于 iOS 4.0–9.0的[ALAssetsLibrary ，或适用于 iOS 8.0 及更高版本的](https://developer.apple.com/documentation/assetslibrary/alassetslibrary)[照片框架](https://developer.apple.com/documentation/photokit/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:53:20.563

我认为这不可能——Apple 不允许访问照片库。（虽然我确信有一种方法可以通过越狱/私人方法，但它不会受到 Apple 的认可）。

但是，您可以使用[UIImageWriteToSavedPhotosAlbum保存照片，并使用](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIKitFunctionReference/Reference/reference.html)[UIImagePickerController](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIImagePickerController_Class/UIImagePickerController/UIImagePickerController.html)从照片库中手动挑选照片。

编辑：实际上，您似乎可以使用资产库获取照片。看看这个[教程](http://www.fiveminutes.eu/accessing-photo-library-using-assets-library-framework-on-iphone/)。

# javascript - 字符串匹配和高亮

> ID：11113476
> 
> 赞同：0
> 
> 时间：2012-06-20T05:45:19.280
> 
> 标签：javascript, jquery, html

我正在尝试向我的网站添加文本突出显示功能。我正在使用 JavaScript。当我尝试匹配的字符串在单行时，它工作正常。但是当我尝试一个很长并且有两行或更多行的句子时它不会。我在 jsfidde 中指定了一个示例。可能是什么问题？

[http://jsfiddle.net/ehzPQ/21/](http://jsfiddle.net/ehzPQ/21/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:13:04.493

该示例工作正常。文本中只有一个例子是*另一个由金融引发*的危机。如果您更改`$('#entity').html()`为*危机*，该字符串的 2 个实例将在 中突出显示`$('#article')`。如果您想在任何地方（因此，也在内部）强调*另一场以金融为主导的危机，请尝试*[在此处](http://jsfiddle.net/KooiInc/ehzPQ/26/)`$('#entity')`用点赞来包围它`div#container`

# c# - 伪造 Expando

> ID：11113478
> 
> 赞同：0
> 
> 时间：2012-06-20T05:45:28.907
> 
> 标签：c#, .net, dynamic

我有兴趣将`Expando`接口实现为一种访问非 Expando 格式的复杂数据的方法。我希望有类似 expando 的动态访问，而不需要重新格式化为 Expando 对象。

那么，您如何实施`IDynamicMetaObjectProvider`？

这是一个基本`ExpandoObject`定义：

```
ExpandoObject : IDynamicMetaObjectProvider
, IDictionary<string, object>
, ICollection<KeyValuePair<string, object>>
, IEnumerable<KeyValuePair<string, object>>
, IEnumerable
, INotifyPropertyChanged 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T05:52:20.133

这是链接：[Implementing Dynamic Interfaces](http://msdn.microsoft.com/en-us/vstudio//ff800651.aspx)有一个示例（在这里重新发布的方式很大......）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T09:36:58.737

因此，既然您提出了要求，这里有一个未经测试的示例，将索引器添加到[此处](http://blogs.msdn.com/b/csharpfaq/archive/2009/10/19/dynamic-in-c-4-0-creating-wrappers-with-dynamicobject.aspx)`XElement`描述的动态包装器（我在这台机器上没有 .Net 4，所以请指出任何错误）：

```
public class DynamicXMLNode : DynamicObject
{
    XElement node;
    //all the other stuff necessary...

    public override bool TryGetIndex(GetIndexBinder binder, object[] indexes, out object result)
    {

        string name = (string)indexes[0];
        result = node.Attribute(name); //maybe check for null here
        return true;
    }

    public override bool TrySetIndex(SetIndexBinder binder, object[] indexes, object value)
    {
        string name = (string)indexes[0];
        node.SetAttributeValue(name, value);
        return true;
    }
} 
```

现在您应该能够做到这一点（也使用链接中定义的其他方法）：

```
dynamic contact = new DynamicXMLNode("Contact");
contact["type"] = "business";
contact.Name = "Patrick Hines";
contact.Address = new DynamicXMLNode(); // I think it should even work without this line. Can anybody confirm this?
contact.Address["street"] = "123 Main St";
contact.Address["city"] = "Mercer Island";
contact.Address["state"] = "WA";
contact.Address["postal"] = "68402"; 
```

生产

```
<Contact type="business">
    <Name>Patrick Hines</Name>
    <Address street="123 Main St" city="Mercer Island" state="WA" postal="68402" />
</Contact> 
```

也看看`TryConvert`例子。它允许人们在需要底层类型的地方使用动态包装器——这使得整个事情变得非常棒。

最后，[这](http://msdn.microsoft.com/en-us/library/system.dynamic.dynamicobject.aspx)`DynamicObject`是成员名单。这些名称是不言自明的，您可以看到您可以对对象执行的所有操作都可以被覆盖。

# performance - XAMPP 上的 WordPress 用户导入速度极慢

> ID：11113481
> 
> 赞同：0
> 
> 时间：2012-06-20T05:46:04.453
> 
> 标签：performance, wordpress, xampp

我在这里发布这个问题是因为我不确定这是一个 WordPress 问题。

我在本地系统上运行 XAMPP，最大空间为 512MB，php 超时为 2.5 小时。我通过自定义脚本将大约 11,000 条记录导入 WordPress wp_user 和 wp_usermeta 表。WordPress 端唯一未知的数量（性能方面）是`wp_insert_user`and`update_user_meta`调用。否则，它是直接的 CSV 导入。

导入 11,000 个用户和创建 180,000 个 usermeta 条目的过程花费了 2 多个小时才能完成。它每分钟导入大约 120 条记录。这似乎非常缓慢。

将用户数据导入 WordPress 是否存在已知的性能问题？快速的谷歌搜索是无效的（对我来说）。

除了 XAMPP 中的超时之外，我是否应该调整设置？它的 mySQL 实现是出了名的慢吗？

我读过一些关于病毒软件大大减慢 XAMPP 的内容。这是神话吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:59:21.233

是的，本地与托管几乎没有问题。要记住的重要事情之一是 php 脚本的 max_execution 时间。您可能需要在数据上传期间不时重置计时器。

我想你有一些循环，例如从 CSV 文件中逐行获取数据，并使用 SQL 查询将其插入 WP 数据库。我通常将这个简单的片段放入我的循环中，这样它就会保持 PHP max_exec_time 重置：

```
$counter = 1;

// some upload query
if (($handle = fopen("some-file.csv", "r")) !== FALSE) {

        while (($data = fgetcsv($handle, 1000, ",")) !== FALSE) {

mysql_query..... blablabla....

// snippet
if($counter == '20')  // this count 20 loops and resets the counter
{
    set_time_limit(0); 
    $counter = 0;
}       
 $counter = $counter + 1;

} //end of the loop 
```

.. 顺便说一句，如果数据库很大，512MB 的空间并不多。计算您的操作系统和所有正在运行的应用程序占用了多少资源。我有超过 2Gb WO 数据库，我的 MySql 需要大量 RAM 才能快速运行。（也取决于您使用的查询）

# facebook - 独特的社交分享

> ID：11113482
> 
> 赞同：1
> 
> 时间：2012-06-20T05:46:06.173
> 
> 标签：facebook, unique, share, social

我有一个问题，我就是找不到答案。

我正在开发一个用户可以通过 facebook 共享内容的应用程序，但是他们只能一次且一次地共享每条内容。

我需要找到一种方法（无需将共享数据本地存储在某处的数据库中）来获取 URL 的唯一共享数量。这可以使用 facebook API 来完成吗？或者我是否需要使用 facebook 应用程序作为中间点来确保人们不能多次分享？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:25:44.843

你肯定不能使用 Facebook API 做到这一点

您只能通过以下方式获取 url 的共享数量 -

例如。找出 url 的共享数量`http://yahoo.com`

```
http://graph.facebook.com/?id=http://yahoo.com 
```

不确定此方法返回的共享数量是否唯一

# cuda - 如何施放推力::device_vector 到原始指针

> ID：11113485
> 
> 赞同：24
> 
> 时间：2012-06-20T05:46:13.363
> 
> 标签：cuda, gpu, thrust

我有推力`device_vector`。我想将它转换为原始指针，以便我可以将它传递给内核。我该怎么做？

```
thrust::device_vector<int> dv(10);
//CAST TO RAW
kernel<<<bl,tpb>>>(pass raw) 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-06-20T05:56:34.843

您可以使用`thrust::raw_pointer_cast`. 设备向量类有一个成员函数`data`，它会将 a 返回`thrust::device_ptr`到向量持有的内存中，可以强制转换，如下所示：

```
thrust::device_vector<int> dv(10);

int * dv_ptr = thrust::raw_pointer_cast(dv.data());

kernel<<<bl,tpb>>>(dv_ptr) 
```

（免责声明：用浏览器编写，从未编译，从未测试）。推力包含一个完整的工作示例：[unwrap_pointer.cu](https://github.com/thrust/thrust/blob/master/examples/cuda/unwrap_pointer.cu)

# c++ - 是否启用了“this”指针 RTTI？

> ID：11113486
> 
> 赞同：5
> 
> 时间：2012-06-20T05:46:15.003
> 
> 标签：c++, rtti

我试图在其继承树中某个类的构造函数中发现对象的最派生类。我现在已经花了几个小时在这上面，我不知道我还能怎么做，或者为什么它没有意义。这似乎很合理，但它拒绝工作。我找到了很多关于 RTTI 的页面，但基本上都没有找到。在我的测试用例及其输出之后，我将继续解释。

来源：

```
#include <iostream>
#include <typeinfo>
#include <string>

class A
{
public:
  A(std::string foo);

  virtual void bar(A* a) = 0;
};

class B : public A
{
public:
  B();

  virtual void bar(A* a);
};

A::A(std::string foo)
{
  std::cout << "type as passed to A constructor: " << foo << " (" << this << ")" << std::endl;
  std::cout << "type as determined in A constructor: " << typeid(*this).name() << " (" << this << ")" << std::endl;
}

B::B() : A(typeid(*this).name())
{
  A* a = (A*)this;
  std::cout << "type as determined in B constructor: " << typeid(*a).name() << " (" << this << ")" << std::endl;
  this->bar(this);
}

void B::bar(A* a)
{
  std::cout << "type as determined in bar: " << typeid(*a).name() << " (" << a << ")" << std::endl;
}

int main()
{
  B b;
  b.bar(&b);

  return 0;
} 
```

输出（在 g++ 上）：

```
type as passed to A constructor: 1B (0x7fff5fbff910)
type as determined in A constructor: 1A (0x7fff5fbff910)
type as determined in B constructor: 1B (0x7fff5fbff910)
type as determined in bar: 1B (0x7fff5fbff910)
type as determined in bar: 1B (0x7fff5fbff910) 
```

我试图让输出的第二行说“1B”而不是“1A”。**出于某种我无法想象的原因，RTTI 是否从“这个”中剥离出来？这怎么不打破虚函数的概念呢？**（我已经用虚函数实现了这个，直到我发现我正在重新实现 RTTI 的一部分，这是我以前不知道的。）如输出所示，如果我避免使用“this”，我可以完成这项工作，但需要这样做似乎是设计上的破坏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T05:49:16.420

你不能这样做，因为你误解了所涉及的动态。

规则是：

> ***任何类的`this`in 构造函数/析构函数都指向其构造函数/析构函数所在的类。***

此外，这也是`virtual`在构造函数中调用的函数的行为不像您通常期望的`virtual`函数在使用动态调度时那样工作的原因。

您应该在调用构造函数*之后检测**类型*。您可以在除构造函数和析构函数之外的任何成员函数中执行此操作。

 ** * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T05:55:25.953

您正在看到预期的行为。在构造函数的主体中，正在构造的对象的类型与正在执行构造函数的类的类型相同，而不是正在构造的最派生类的类。

`typeid(*this)`当在成员初始化表达式中使用时，异常确实存在于表达式中。这在 C++03 中曾经是*未定义的行为*，但在 C++11 中已更改，因此您获取的是构造函数类的类型，而不是尚未构造的实际对象的类型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:49:26.557

考虑你的继承关系，你应该已经知道 will 的构造函数`A`首先执行，然后是 will的构造函数`B`。在 的构造函数中`A`，对象还不是 a `B`，因为它还没有被构造。因此，构造函数中对象的动态类型始终是类本身的类型，而不是派生类的类型。同样的情况也发生在析构函数中。

简而言之，你想做的事情不能*在施工时*完成。*

# javascript - 如何在 Java 脚本中获取逗号之前的值我的脚本附件出现错误？

> ID：11113490
> 
> 赞同：0
> 
> 时间：2012-06-20T05:46:45.967
> 
> 标签：javascript, html, split

嗨，我在拆分它以在我的 java 脚本中使用它之后放置值时出错，而如果我给它提供不需要拆分的值，那么它运行良好我需要拆分的值是

```
option value="intro.wmv,1" 
```

当我给它简单的介绍 .wmv 值并相应地在脚本中获取它时，它运行良好，而在上述情况下它给了我错误？我的脚本如下所示，它在点击时起作用，也就是说，

```
function PlayIt(){
var s = "'+document.getElementById('cancion').value+'";
var str_array = s.split(',');
document.getElementById("music1").innerHTML='<object id="mediaPlayer" width="470" height="400" '
+'classid="CLSID:22d6f312-b0f6-11d0-94ab-0080c74c7e95" '
+'codebase="http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701" '
+'standby="Loading Microsoft Windows Media Player components..." type="application/x-oleobject">'
+'<param name="fileName" value="'+str_array[0].value+'">'
+'<param name="animationatStart" value="true">'
+'<param name="transparentatStart" value="true">'
+'<param name="autoStart" value="1">'
+'<param name="showControls" value="true">'
+'<param name="loop" value="true">'
+'<param name="ShowStatusBar" value="true">'
+'<param name="ShowPositionControls" value="true">'
+'<param name="enableContextMenu" value="1" />'
+'<param name="fullScreen" value="0" />'
+'<embed type="application/x-mplayer2" '
+'pluginspage="http://microsoft.com/windows/mediaplayer/en/download/" '
+'bgcolor="darkblue" showcontrols="true" showpositioncontrols="true" showstatusbar="true" showgotobar="true" width="470" height="400" '
+'src="'+str_array[0].value+'" autostart="true" designtimesp="5311" loop="true">'
+'</embed>'
+'</object>'
} 
```

希望得到你的答复

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:51:39.150

使用**str_array[0]**而不是**str_array[0].value访问数组的元素**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:49:31.713

变量 s 的值不会给出预期的期权价值。

尝试将其更改为 `var s = "'"+ document.getElementById('cancion').value + "'";`

无需使用`str_array[0].value`. 尝试简单`str_array[0]`。这应该可以消除问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:04:53.123

您的`s`变量似乎不包含任何逗号`,`。

`var s = "'+document.getElementById('cancion').value+'";`

用于`console.log(s, s.split(','));`查看输出。

我假设您正在尝试访问`select`元素的值，因此请尝试以下操作；

```
var select = document.getElementById('cancion');
var selectedValue = select.options[select.selectedIndex].value;
var valueBeforeComma = selectedValue.split(',')[0]; 
```

# iis - 将虚拟目录转换为 IIS 上的应用程序

> ID：11113492
> 
> 赞同：4
> 
> 时间：2012-06-20T05:46:49.603
> 
> 标签：iis

我已经工作了一年，在服务器端应用程序上，每次我将站点添加到 iis 时，它都会作为虚拟目录添加。我的网站都没有在 iis 上用作虚拟目录。所有应用程序总是有错误，直到我将它们转换为应用程序。将主文件夹转换为应用程序后，一切正常。“转换为应用程序”是什么意思，为什么当我这样做时所有问题都解决了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T05:52:15.963

您是否阅读过 IIS 团队提供的指南[http://learn.iis.net/page.aspx/150/understanding-sites-applications-and-virtual-directories-on-iis/](http://learn.iis.net/page.aspx/150/understanding-sites-applications-and-virtual-directories-on-iis/)？

# c++ - 如何制作一个使用 C++ 将文件写入 cd 的 Windows 程序？

> ID：11113496
> 
> 赞同：-2
> 
> 时间：2012-06-20T05:47:03.313
> 
> 标签：c++, visual-studio-2010

我正在使用 Microsoft Visual Studio 2010。我想为 Windows 开发一个用于读取和写入 CD 的应用程序。请推荐任何 Windows 库、API、头文件、C++ 源代码。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-20T05:48:48.793

看看我在[scsi.codeplex.com](http://scsi.codeplex.com/)上的 (C#) 库。如果您了解 C++，应该不难理解。

# iphone - 将字符串的一部分与整个字符串分开

> ID：11113498
> 
> 赞同：0
> 
> 时间：2012-06-20T05:47:11.633
> 
> 标签：iphone, string, ipad, nsstring

> **可能重复：**
> [目标 C：如何提取字符串的一部分（例如以“#”开头）](https://stackoverflow.com/questions/6825834/objective-c-how-to-extract-part-of-a-string-e-g-start-with)

我想将字符串分成几部分。我的字符串是：

```
NSString * myString = @"Multiply top and bottom to get < mathtype x3y2z3 over x3yz2 >,now cancel down the powers of < i >x, y, z< /i >.If you prefer, you can cancel down before you start multiplying."; 
```

我需要这三个部分。1\. 上下相乘得到 2\. < mathtype x3y2z3 over x3yz2 > 3\. 现在取消 < i >x, y, z</i > 的幂。如果您愿意，可以在开始相乘之前取消.

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T08:31:05.307

如果上述方法失败，您始终可以将其转换为字符数组并循环遍历它。

```
- (const char *)cStringUsingEncoding:(NSStringEncoding)encoding 
```

[NSString Docs](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html)中有更多详细信息

# android - 将图像从 Android 中的 SD 卡上传到 Facebook

> ID：11113500
> 
> 赞同：0
> 
> 时间：2012-06-20T05:47:17.043
> 
> 标签：android, facebook

我无法从 SD 卡上传 Facebook 上的图片......我使用了下面的代码......但它没有给我错误但同时它没有上传图片

```
 byte[] data = null;
     try {
         FileInputStream fis = new FileInputStream(filepath);
         BitmapFactory.Options options = new BitmapFactory.Options();                   
            options.inSampleSize = 2; 
         Bitmap bi = BitmapFactory.decodeStream(fis);

         ByteArrayOutputStream baos = new ByteArrayOutputStream();
         bi.compress(Bitmap.CompressFormat.JPEG, 100, baos);
         data = baos.toByteArray();  
      } catch (FileNotFoundException e) { 
         e.printStackTrace();
         Log.d("onCreate", "debug error  e = " + e.toString());
      }     

         Bundle params = new Bundle(); 
         params.putString("method", "photos.upload");  
         params.putByteArray("picture", data); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:30:55.470

试试下面的 SDCard 发布图片的片段：

将图像转换为位图并继续

```
private void postToWall() {   
    AsyncFacebookRunner mAsyncRunner = new   AsyncFacebookRunner(facebook);
    ByteArrayOutputStream stream = new ByteArrayOutputStream();
    bm.compress(Bitmap.CompressFormat.PNG, 100, stream);  // where bm is bitmap from Sdcard
    byte[] byteArray = stream.toByteArray();
    Bundle param = new Bundle();
    param = new Bundle();
    param.putString("message", "All");
    param.putString("filename", "TEst");
    param.putByteArray("image", byteArray);
    mAsyncRunner.request("me/photos", param, "POST", new fbRequestListener(), null);
  }

  public class fbRequestListener implements RequestListener {

      @Override
      public void onComplete(String response, Object state) {
          // TODO Auto-generated method stub
          Log.d("RESPONSE",""+response);

      }

      @Override
      public void onIOException(IOException e, Object state) {
          // TODO Auto-generated method stub
          Log.d("RESPONSE",""+e);

      }

      @Override
      public void onFileNotFoundException(FileNotFoundException e,
              Object state) {
          // TODO Auto-generated method stub
          Log.d("RESPONSE",""+e);

      }

      @Override
      public void onMalformedURLException(MalformedURLException e,
              Object state) {
          // TODO Auto-generated method stub

      }

      @Override
      public void onFacebookError(FacebookError e, Object state) {
          // TODO Auto-generated method stub
          Log.d("RESPONSE",""+e);

      }

      } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:18:43.717

你必须这样做：

```
 mAsyncRunner = new AsyncFacebookRunner(fbObj);  
  mAsyncRunner.request(null, parameters, "POST",
                        new RequestListener() {

                            @Override
                            public void onMalformedURLException(
                                    MalformedURLException e, Object state) {
                                // TODO Auto-generated method stub

                            }

                            @Override
                            public void onIOException(IOException e, Object state) {
                                // TODO Auto-generated method stub

                            }

                            @Override
                            public void onFileNotFoundException(
                                    FileNotFoundException e, Object state) {
                                // TODO Auto-generated method stub

                            }

                            @Override
                            public void onFacebookError(FacebookError e,
                                    Object state) {
                                // TODO Auto-generated method stub

                            }

                            @Override
                            public void onComplete(String response, Object state) {
                                // TODO Auto-generated method stub
                                Log.i("upload", "image uploaded!!!! " + response);
                            }
                        }, null); 
```

# java - 如何在 Java 代码中添加检查以仅从结果集中获取非负值

> ID：11113502
> 
> 赞同：1
> 
> 时间：2012-06-20T05:48:04.077
> 
> 标签：java

在我的 Java 代码中，我嵌入了一个 SQL 查询，它从数据库中获取数据并将其存储在**result-set**中。我想添加一个函数或一段代码，它只会从结果集中获取非负数据以进行进一步处理。

假设：结果集可以包含正/负/零数据值以及字符。此外，我无法更改 SQL 查询，因为它超出了我的范围。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:00:29.897

```
while (resultSet.next()) {

      if(resultSet.getInt("Column name") > 0);                       
      Processmethod(resultSet.getInt("Column name") );

     } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:04:21.377

尝试这样的事情，我认为它会完成这项工作

```
 private ArrayList getNegativeNumbers(ResultSet rs, String coulumnName ) throws SQLException
  { 
    ArrayList ret = new ArrayList();
    while(rs.next()){
      try {
        int x = rs.getInt(coulumnName);
        if(x>=0){
          ret.add(new Integer(x));
        }
      } catch (Exception ex) {
          String x = rs.getString(coulumnName);
          ret.add(x);
      } 
    }
    return ret;
  } 
```

**更新 2**。抱歉我的编辑，我错过了这个问题

# django - django 视图功能可以相互覆盖吗？

> ID：11113508
> 
> 赞同：0
> 
> 时间：2012-06-20T05:48:41.550
> 
> 标签：django, django-views

我正在阅读 django 教程，我想知道当你在 views.py 中有 2 个同名的函数时会发生什么？

例如：

```
def results(request, poll_id):
   p = get_object_or_404(Poll, pk=poll_id)
   return render_to_response('polls/results.html', {'poll': p})

def results(request, poll_id):
    return HttpResponse("You're looking at the results of poll %s." % poll_id) 
```

当我运行代码时，底部函数是被调用的函数。这是如何运作的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T05:58:20.797

在 Python 中，方法和函数可以接受任意数量的参数；这否定了需要不同的函数“签名”来支持传递的不同类型的参数；这是函数重载的常见用例。见[4.7.3。python 文档中的任意参数列表](http://docs.python.org/tutorial/controlflow.html#arbitrary-argument-lists)。

调用第二个方法的原因是，当您使用相同的名称（和相同的参数列表）定义方法定义时，您只需覆盖方法定义。对于python，它与以下内容相同：

```
>>> x = 1
>>> x = 'Hello'
>>> print x
Hello 
```

您只是再次重新定义了相同的方法，因此它使用最后一个定义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T05:51:38.000

如果我没记错的话，如果您需要扩展或覆盖视图方法，则需要使用类......或者使用“if”语句:)

[https://docs.djangoproject.com/en/dev/topics/class-based-views/](https://docs.djangoproject.com/en/dev/topics/class-based-views/)

在你的例子中，这只是python的正常行为......从左上角读取文件......然后它编译并使用它......

# php - 如何将这个 PHP IF 简化为 MySQL WHERE？

> ID：11113510
> 
> 赞同：-3
> 
> 时间：2012-06-20T05:48:45.470
> 
> 标签：php, mysql, if-statement, where

我的 PHP 脚本可以正常工作，如下所示：

```
while($row4 = mysql_fetch_array($result4))
{
if (($row4['Username'] != 'root') && ($row4['ToUpline'] == 1)){
if (!(($row4['Username'] != $MyUsername) && ($row4['Private'] == 1))){

//some other scripts here...

}}; 
```

另一方面，我已经有了 MySQL 命令的 WHERE 条件：

```
WHERE (NetworkTree.LeftNum <= $MyLeftNum AND NetworkTree.RightNum >= $MyRightNum) 
AND MyBlackList.HideWho IS NULL 
```

如何将这些 PHP 条件组合成 1 个 SQL 命令，以便我可以删除 PHP IF。谢谢...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T05:53:34.653

```
WHERE
  NetworkTree.LeftNum <= $MyLeftNum AND
  NetworkTree.RightNum >= $MyRightNum AND
  MyBlackList.HideWho IS NULL AND
  Username <> 'root' AND
  ToUpline = 1 AND
  NOT(Username <> 'myUsername' AND
      Private = 1) 
```

您如何填写`'myUsername'`上面的内容取决于您执行查询的方式。由于您使用的是[过时的 mysql_*](http://php.net/manual/en/faq.databases.php#faq.databases.mysql.deprecated)函数，因此您不能使用准备好的语句，但您可以使用字符串连接或[sprintf](http://php.net/sprintf)（不要忘记使用[mysql_real_escape_string](http://php.net/mysql_real_escape_string)进行转义！）。以下是使用 sprintf 的方法：

```
$query = sprintf("SELECT ... WHERE ... NOT(Username <> '%s' ...)",
                 mysql_real_escape_string($username)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:53:23.147

```
WHERE (NetworkTree.LeftNum <= $MyLeftNum AND NetworkTree.RightNum >= $MyRightNum) AND MyBlackList.HideWho IS NULL AND Username != 'root' AND ToUpLine = 1 AND NOT (Username != '$MyUsername' AND Private = 1) 
```

# ios - NSString 表情符号文字

> ID：11113515
> 
> 赞同：0
> 
> 时间：2012-06-20T05:49:04.657
> 
> 标签：ios, objective-c, nsstring, emoji

我正在尝试获取`NSString`utf `emoji`-8 代码为：`0xF0 0x9F 0x98 0x84`. 这有效：

```
NSString *smile = [NSString stringWithUTF8String:"\xf0\x9f\x98\x84"]; 
```

但这不是：

```
NSString *smile = @"\uf0\u9f\u98\u84"; 
```

我收到错误消息：“ `Incomplete universal character name`”。谁能帮我这个？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:09:20.380

您在这里缺少 2 个字节。\u 期望数字为 4。

例如：NSString *s = @"\u0234\u0355\u0666\u0621";

# amazon-ec2 - Capistrano 部署到具有不同身份验证方法的不同服务器

> ID：11113520
> 
> 赞同：2
> 
> 时间：2012-06-20T05:49:25.530
> 
> 标签：amazon-ec2, capistrano

我需要部署到 2 个不同的服务器，这 2 个服务器具有不同的身份验证方法（一个是我大学的服务器，另一个是亚马逊网络服务器 AWS）

我已经为我大学的服务器运行 capistrano，但我不知道如何将部署添加到 AWS，因为为此我需要添加 ssh 选项，例如用户 .pem 文件，如下所示：

```
ssh_options[:keys] = [File.join(ENV["HOME"], ".ssh", "test.pem")] 
ssh_options[:forward_agent] = true 
```

我浏览了starckoverflow，没有提及如何处理不同的身份验证方法[this](https://stackoverflow.com/questions/2633758/deploying-a-rails-app-to-multiple-servers-using-capistrano-best-practices)和[this](https://stackoverflow.com/questions/1661868/using-capistrano-to-deploy-a-rails-application-to-multiple-web-servers)

我[发现一篇文章](https://stackoverflow.com/questions/7154161/capistrano-and-several-ssh-keys)谈到了 2 个不同的密钥，但这个是指服务器和 git，两者都使用不同的 pem 文件。不是这种情况。

我到了[这个教程](http://guides.beanstalkapp.com/deployments/deploy-with-capistrano.html)，但找不到我需要的东西。

我不知道这是否与我要问的有关：我正在使用 ruby​​ 1.9.2p290 和 rails 3.0.10 开发 rails 应用程序，并且我正在使用 svn 存储库

欢迎任何帮助。非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-27T19:22:59.940

您需要使用 capistrano 多级。有一个 gem 可以做到这一点，或者您可以直接将环境或阶段文件包含到 capfile 中。

您将无法同时部署到这些环境，但可以按顺序部署。

```
desc "deploy to dev environment"
 task :dev do
 set :stage_name, "dev"
 set :user, "dev"
 set :deploy_to, "/usr/applications/dev"
 role :app, "10.1.1.1"
end

desc "deploy to aws environment"
 task :aws do
  set :stage_name, "aws"
  set :user, "aws"
  set :deploy_to, "/usr/applications/aws" 
  ssh_options[:keys] = [File.join(ENV["HOME"], ".ssh", "test.pem")] 
  ssh_options[:forward_agent] = true
  role :app, "10.2.2.2"
 end 
```

你会运行：

```
cap dev deploy; cap aws deploy 
```

您可以扩展这种复杂性以打开 VPN、用户、网关等。

# jquery - Jquery中的fadeIn和faceOut效果

> ID：11113525
> 
> 赞同：-1
> 
> 时间：2012-06-20T05:50:01.290
> 
> 标签：jquery, jquery-animate

我需要在以下脚本中添加淡入淡出功能。我需要`css element`获得样式`display: none`fadeOut 和`css element`获得样式`display: block`fadeIn 的那个。我该怎么做？

```
$(document).ready(function() {
    $("#contacts").toggle(function() {
        $("#phone_2").css("display", "block");
        $("#phone_1").css("display", "none");
    }, function() {
        $("#phone_1").css("display", "block");
        $("#phone_2").css("display", "none");
    });
});​ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T05:52:37.933

```
$(document).ready(function() {
    $("#contacts").toggle(function() {
        $("#phone_2").fadeIn();
        $("#phone_1").fadeOut();
    }, function() {
        $("#phone_1").fadeIn();
        $("#phone_2").fadeOut();
    });
});​ 
```

顺便说一句，您可以通过以下方式**更简单**地做到这一点：

```
$(document).ready(function() {
    $("#contacts").click(function() {
        $("#phone_2, #phone_1").toggle(400);
    });
});​ 
```

[**现场演示**](http://jsfiddle.net/zZjpd/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T05:51:48.763

```
<script type="text/javascript">

$(document).ready(function() {
    $("#contacts").toggle(function() {
        $("#phone_2").fadeIn();
        $("#phone_1").fadeOut();
    }, function() {
        $("#phone_1").fadeIn();
        $("#phone_2").fadeOut();
    });
});​

</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:57:09.723

这是一个[小提琴](http://jsfiddle.net/ZKKnR/)

和代码

```
$(document).ready(function() {
    $("#contacts").toggle(function() {
        $("#phone_2").fadeIn();
        $("#phone_1").fadeOut();
    }, function() {
        $("#phone_1").fadeIn();
        $("#phone_2").fadeOut();
    });
});​ 
```

# grails - HQL 加入 Grails：Part Deux

> ID：11113527
> 
> 赞同：1
> 
> 时间：2012-06-20T05:50:14.247
> 
> 标签：grails, join, groovy, hql

这是我[在这里提出的问题的扩展](https://stackoverflow.com/questions/11112758/hql-joins-in-grails/11112867#11112867)

我有这样的关系

```
class Foo {
    static hasMany = [bars: Bar]
}

class Bar {
    // Has nothing to tie it back to Foo or Thing
}

class Thing {
    static hasMany = [bars: Bar]
} 
```

我有一个`Thing`. **我想获取与我拥有的实例相关`Foo`联的所有实例相关联的所有实例。`Bar``Thing`**

我想通过 HQL 实现什么（HQL 是否知道`Thing`and之间的间接关系`Foo`）？

**更新：**

这是可能的关系的图片。

![在此处输入图像描述](../Images/7d488f3f8f53ed2034d1b8f63bc9a82f.png)

如果我有`Thing1`并且我希望所有实例`Foo`都通过它间接关联，`Bar`那么我需要的解决方案将返回`Foo1`并且`Foo2`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T06:01:13.943

像这样的东西应该工作：

```
select foo from Foo foo
where not exists (select thingBar.id from Thing thing left join thing.bars thingBar
                  where thing.id = :thingId
                  and thingBar.id not in (select fooBar.id from Foo foo2
                                          left join foo2.bars fooBar
                                          where foo2.id = foo.id)) 
```

编辑：既然你已经用一张漂亮的照片解释了你想要的东西，那就更简单了。实际上，您想要的是所有链接到**至少一个**栏（而不是所有栏）的所有 Foos 也链接到 Thing。因此，查询将是：

```
select foo from Foo foo
inner join foo.bars fooBar
where fooBar.id in (select thingBar.id from Thing thing inner join thing.bars thingBar) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T12:43:09.630

像这样的工作吗？

```
Foo.withCriteria {
    bars {
        in('id', thing.bars.collect { it.id })
    }
} 
```

# netbeans - Netbeans 6.8 build-impl.xml:166 错误部署的 Axis2 Web 服务

> ID：11113528
> 
> 赞同：0
> 
> 时间：2012-06-20T05:50:23.670
> 
> 标签：netbeans, axis2, deploying

我尝试像本教程一样使用 Axis2 + Tom cat + Netbeans 6.8 创建一个简单的 Web 服务。

[http://netbeans.org/kb/69/websvc/gs-axis.html#deploy_axis](http://netbeans.org/kb/69/websvc/gs-axis.html#deploy_axis)

但毕竟按照它所说的进行配置，并且在开发时它给出了这个错误：

E:\WorkDesk\Java Projects\MyWebservice\MyWebservice\nbproject\build-impl.xml:166：必须设置 src.dir BUILD FAILED（总时间：0 秒）

请帮我解决这个错误。非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T21:14:52.730

对我们来说，没有正确创建 project.properties，这是定义 src.dir 的地方。删除文件然后重新运行 ant 解决了这个问题。

# ios - 除非配置了 SSO，否则此应用程序将无法在 iOS 上访问

> ID：11113530
> 
> 赞同：-1
> 
> 时间：2012-06-20T05:50:33.860
> 
> 标签：ios, single-sign-on, facebook-authorization

我收到了对移动网络应用程序的以下限制，这没有任何意义，因为 SSO 仅适用于本机应用程序。

“除非配置了 SSO，否则此应用程序将无法在 iOS 上访问”

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T16:26:30.817

[您需要使用iOS SDK 文档](https://developers.facebook.com/docs/mobile/ios/build/)第 3 部分中的 SSO 说明为您的本机应用程序配置 SSO - 完成后，该应用程序将可以正常访问。

如果该应用没有原生 iOS 版本，您的应用可能会因为不符合 Apple 关于 iOS 批准的支付方式的政策而被限制从 Facebook 的原生应用内部访问。

如果是这种情况，您需要咨询您的律师或 Facebook 的政策团队 - 我在这里只能回答有关如何为您的原生应用启用 SSO 的信息（如果适用）

# javascript - 由于 IE 中的错误 80020101 无法完成操作

> ID：11113547
> 
> 赞同：2
> 
> 时间：2012-06-20T05:52:01.160
> 
> 标签：javascript, internet-explorer

我在我的网站中使用 jQuery 1.7.2 和 lightbox。我想在灯箱中加载的 HTML 代码如下：

```
//script type="text/javascript">
//jquery code
</script>

//html code.. 
```

使用 firefox 和 chrome 打开灯箱时没有问题，但使用 IE 时显示以下错误：

> SCRIPT257：由于错误 80020101，无法完成操作。jquery.min.js，第 2 行字符 11497..

当我将脚本类型从 更改`text/javascript`为 时`text/html`，灯箱可以正常打开，但现在 javascript 代码不起作用...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-22T18:06:12.570

我也遇到过这个问题。我一直在使用`jQuery 1.7.2`，但我无法通过这个。

一个解决方案被发布为正在实施`jQ 1.8.2`，但这并不影响我的结果。

我将字符编码更改为 UTF-8（我遇到的另一个建议），但这也无济于事。

最终我回滚到`jQ 1.4.2`（本地存储的下一个先前版本）并且问题消失了。我知道这不是一个“解决方案”，但它是一种解决方法，让我重新回到游戏中并转向可部署的 EAR。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-13T21:39:12.070

您有一个无法正确评估的 Javascript 代码。我有完全相同的场景，解决方案是将关联数组键的名称从更改`class`为`"class"`（这只是评估错误的一个示例）。

有关更多详细信息，请参阅此[答案](https://stackoverflow.com/questions/10903989/could-not-complete-the-operation-due-to-error-80020101-ie)

# bash - 如何在 bash 中定义自动更新 $DATE 变量？

> ID：11113548
> 
> 赞同：3
> 
> 时间：2012-06-20T05:52:14.190
> 
> 标签：bash

当我备份一个文件时，我会为其添加一个时间戳。

例如：

```
$ DATE=$(date +%F)
$ cp file{,.$DATE.bk}
$ ls
file  file.2012-06-20.bk 
```

有一个 bash 变量`RANDOM`，每次我回显它时，它都会给我不同的值：

```
$ echo $RANDOM
20511
$ echo $RANDOM
12577
$ echo $RANDOM
32433 
```

如何定义这种变量`DATE`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T06:00:20.797

您可以保留命令语句并在使用时对其进行评估。

```
$ DATE="date +%F"
$ echo $DATE
date +%F
$ echo `$DATE`
2012-06-20 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T07:37:55.453

你从错误的角度解决问题。编写一个创建备份的脚本。

```
#!/bin/sh
for f; do
    cp "$f" "$f.$(date +%F).bk"
done 
```

`.profile`如果您不想乱扔垃圾，这很简单，可以作为您的一项功能`$HOME/bin`使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T07:51:12.347

Bash 没有这样的功能。如果您需要 getter/setter/properties 以及通常需要 OO 的任何东西，您应该使用 ksh93 的*规则函数。*

```
#!/usr/bin/env ksh

function DATE.get {
    .sh.value=$(printf '%(%F)T')
}

cp file{,".${DATE}.bk"} 
```

除了可能通过它们各自的可加载扩展接口之外，我不知道有任何其他 shell 可以做到这一点。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-20T11:23:43.660

Bash 有一个自动更新的变量，其中包含自 shell 启动以来的秒数。

您可以设置该值，它将从该基础开始更新。缺点是它使用纪元秒时间戳格式。您可以使用`date`将其转换回来。

这是一个演示：

```
$ bash
$ echo "$SECONDS"
5
$ date +%s; SECONDS=$(date +%s); echo "$SECONDS"
1340191083
1340191083
$ sleep 10
$ date +%s; echo "$SECONDS"
1340191097
1340191097
$ date -d "@$SECONDS"
Wed Jun 20 06:18:24 CDT 2012
$ date -d "@$SECONDS" +%F
2012-06-20 
```

额外的秒数是因为 Bash 的启动时间和键入命令所需的时间。

```
$ bash -c 'echo $SECONDS'
0 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-20T05:55:31.897

您需要编辑 bash 源代码才能提供它。但请确保在执行之前知道每个人都希望他们的日期采用什么格式。

# iphone - UIWebView 未正确加载 XHTML 文件

> ID：11113554
> 
> 赞同：0
> 
> 时间：2012-06-20T05:52:42.177
> 
> 标签：iphone, objective-c, uiwebview

我有一个包含几行 javascript 的 sample.xhtml 文件。这个 javascript 将从网上加载一个 pdf 文件。

如果我使用简单的 .xhtml 文件，它会正确加载。如果我使用 Javascript，webView 无法正确显示 .xhtml 文件

```
[_webView loadData:htmlData MIMEType:@"application/xhtml+xml" textEncodingName:@"UTF-8" baseURL:url]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:00:15.590

```
- (void)viewDidLoad {   

 //NSString *strHTML;  (.h)
 [self.myWebView loadHTMLString:strHTML baseURL:nil];
 }

//delegate

 - (void)webViewDidFinishLoad:(UIWebView *)webView {
[myWebView stringByEvaluatingJavaScriptFromString:strHTML];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:35:48.600

试试这个。加载你的文件路径

```
- (void)viewDidLoad {  
  filePath = [[NSBundle mainBundle] pathForResource:@"test" ofType:@"xhtml"]; 
  NSURL* url = [NSURL fileURLWithPath:filePath]; 
  [self.myWebView loadRequest:[NSURLRequest requestWithURL:url]];
} 
```

# ios - 使用phonegap在ios中调用sharepoint webservice

> ID：11113557
> 
> 赞同：0
> 
> 时间：2012-06-20T05:53:06.560
> 
> 标签：ios, html, cordova, sharepoint-2010

我是phonegap的新手。我需要使用 html5 中的 phonegap 将 SharePoint Web 服务调用到我的 ios 应用程序。任何人都可以帮忙吗？怎么能叫？有可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T07:22:07.507

虽然我不确定您的服务返回什么类型的数据，但通常它返回 XML，所以这个插件可以帮助您轻松捕获数据并以常规 JSON 格式处理输出。

[https://github.com/bobby/jquery-sharepoint-json](https://github.com/bobby/jquery-sharepoint-json)

[还要在白名单中包含您的服务 IP 地址，否则由于 cordova 安全模型Domain Whitelist](http://docs.phonegap.com/en/1.8.1/guide_whitelist_index.md.html#Domain%20Whitelist%20Guide)将无法访问。

# dompdf - 使用 dompdf 在新选项卡中打开 PDF

> ID：11113562
> 
> 赞同：16
> 
> 时间：2012-06-20T05:53:24.660
> 
> 标签：dompdf

我正在尝试使用 dompdf 生成 pdf，如何在浏览器的新选项卡中打开 pdf？就像，我单击 PDF 的链接，它应该在新选项卡中打开，而不是自动保存。我想让用户在第一次看到文件后选择保存文件。我怎么做？

每当我在文件末尾使用 $pdf->output 时，它不会改变任何东西，文件仍然会自动下载。请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2012-07-03T17:13:17.637

是否在浏览器中下载或查看 PDF 取决于几个因素。一个是您的浏览器设置，但我们无法控制。第二个是 dompdf 如何将 PDF 呈现给浏览器。您可以告诉 dompdf 提供 PDF 以便使用`$dompdf->stream('my.pdf',array('Attachment'=>0));`.

至于在新标签中打开。这取决于您如何生成 PDF。但最简单的方法是提供带有目标属性的链接。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-09-27T18:52:14.580

我的网站也有同样的问题（[http://www.pdfwebcreator.com](http://www.pdfwebcreator.com)）

我的解决方案是：

```
 $myfile = fopen($strFileName, "r") or die("Unable to open file!");
    $fileSize = filesize($strFileName);
    header("HTTP/1.1 200 OK");
    header("Pragma: public");
    header("Cache-Control: must-revalidate, post-check=0, pre-check=0");

    header("Cache-Control: private", false);

    header("Content-type: application/pdf");
    header("Content-Disposition: attachment; filename=\"temporaryPdf.pdf\""); 

    header("Content-Transfer-Encoding: binary");
    header("Content-Length: " . $fileSize);

    echo fread($myfile, $fileSize);
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-12-06T10:33:19.243

我不知道你有没有，但如果你在这一行中使用 false：

```
$dompdf-> stream("pasta/doc/relatorio.pdf", array("Attachment" => false)); 
```

您可以在浏览器中查看pdf。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-09-07T02:38:19.933

好吧，您可以使用 ->stream(); 在链的末端。

**示例**：

```
//Routes  (web.php in case laravel version >= 5.4)
Route::get('/pdf', 'PdfController@pdfStream')->name('pdfStream');

//PdfController.php
public function pdfStream(Request $request) {
   $data["info"] = "I is usefull!";
   $pdf = PDF::loadView('whateveryourviewname', $data);
   return $pdf->stream('whateveryourviewname.pdf');
}

//yourViewPage.blade.php
<a href="{{route("pdfStream")}}" target="_blank" > click me to pdf </a> 
```

[这里有更多信息](https://github.com/barryvdh/laravel-dompdf/issues/419)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-01-23T08:44:18.887

我仍在尝试，但这样的东西也可以正常工作

```
$pdf->loadView('file/path', compact('values'));
return $pdf->stream(); 
```

有了这个，您可以在浏览器中将动态值添加到您的 pdf 文件页面。

# ios - 如何为 AFNetwork 指定哪个 JSON 库

> ID：11113565
> 
> 赞同：0
> 
> 时间：2012-06-20T05:53:37.807
> 
> 标签：ios, afnetworking

对于[AFNetwork](https://github.com/AFNetworking/AFNetworking)，它提供了选择多个 JSON 开源库的能力，例如

> 如果可用，AFNetworking 会使用 NSJSONSerialization。如果您的应用针对此类不可用的平台，您可以将以下 JSON 库之一包含到您的项目中，以便 AFNetworking 自动检测和使用。

*   JSONKit
*   SBJson
*   雅嘉
*   NextiveJson

我的问题是如何使用代码或配置而不是自动方式来指定 JSON 库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:00:08.447

要使用原生 iOS JSON API，只需在 .pch 文件中编写类似这样的代码

# 定义 _AFNETWORKING_PREFER_NSJSONSERIALIZATION_ 1

# javascript - Netbeans 中外部 JS 库的代码完成

> ID：11113566
> 
> 赞同：4
> 
> 时间：2012-06-20T05:53:49.240
> 
> 标签：javascript, netbeans, code-completion

我目前正在 Netbeans 中制作一些小型 JS 游戏，并且我已经启动了一个 PHP 项目，这似乎是 JS 项目唯一可行的选择。我正在使用一个与我的游戏不在同一个库中的外部 JS 库。

我没有得到任何代码完成或引用此代码。我试图将它包含在 PHP 包含路径中，但这似乎不起作用。

我怎样才能找回我宝贵的代码完成？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T10:19:19.910

将 js 文件复制到您的网站根目录并与

```
<script src=""/> 
```

或者

```
<link href=""/> 
```

它会起作用。项目结束后，您可以将其链接到外部源。另外，不推荐使用外部 js 文件。确保您正在下载 JS 文件的开发版本或记录的开发版本。

# ruby-on-rails - 如何创建附加到两个用户的模型？不干扰 attr_accessible

> ID：11113567
> 
> 赞同：1
> 
> 时间：2012-06-20T05:53:58.653
> 
> 标签：ruby-on-rails, ruby-on-rails-3, model, attr-accessible

我正在制作游戏，并且有一个 Game 模型和一个 User 模型。

游戏模型如下所示：

```
class Game < ActiveRecord::Base
  belongs_to :first_user, :class_name => 'User', :foreign_key =>'first_user_id'
  belongs_to :second_user, :class_name => 'User', :foreign_key =>'second_user_id'
  validates_presence_of :first_user, :second_user

  attr_accessible :created_at, :finished_datetime, :first_user_id, :second_user_id, :status, :winner_user_id
  ... 
```

现在，在我的游戏控制器中，我调用 Game.new。我确定它是用 current_user 和 challenge_user 调用的，因为我检查了日志记录。

```
Game.new(:first_user => current_user, :second_user => challenge_user) 
```

不幸的是，我得到了错误：

```
Can't mass-assign protected attributes: first_user, second_user 
```

我不明白这一点，因为我使用了 attr_accessible，而不是 attr_accessor，所以它们应该是可分配的。Rails，我应该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T05:57:07.727

您传递的所有内容（例如`.new`或`.update_attributes`作为属性）都是“质量分配”。您需要“手动”分配它们，如下所示：

```
@game = current_user.games.new(params[:my_game_mass_assignment_attributes])
@game.second_user = # your second user 
```

一次分配一个属性不是“质量分配”，出于安全原因会起作用（请参阅[http://guides.rubyonrails.org/security.html#mass-assignment](http://guides.rubyonrails.org/security.html#mass-assignment)）

# c# - 下拉菜单中的多项选择和更新查询字符串

> ID：11113570
> 
> 赞同：0
> 
> 时间：2012-06-20T05:54:58.647
> 
> 标签：c#

我根据公司及其客户的选择生成报告。我为公司使用一个下拉菜单，并根据公司显示客户。但是，我想让选择多个客户成为可能，并且当用户单击查看报告的按钮时，我想使用该选择更新查询字符串。如果客户的选择是三个，我想使用查询字符串传递他们的客户代码。在排序查询字符串是根据客户的选择发送。

请帮我。

谢谢并恭祝安康。

米特什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T07:04:48.470

在您的选择页面 (aspx) 中：

```
...
<script type="text/javascript">
        function submitSelection() {
            var customerList = document.getElementById('<%= lbCustomers.ClientID %>');
            var companyList = document.getElementById('<%= lbCompany.ClientID %>');
            var selectedCustomerQuery = [];
            for (var i = 0; i < customerList.options.length; i++) {                
                if (customerList.options[i].selected)
                    selectedCustomerQuery.push('customer_id=' + customerList.options[i].value);
            }
            location.href = 'Report.aspx?company_id=' + companyList.value + '&' + selectedCustomerQuery.join('&');
        }
    </script>
        <asp:DropDownList ID="lbCompany" runat="server" SelectionMode="Single" >
        <asp:ListItem Value="1">Company 1</asp:ListItem>
        <asp:ListItem Value="2">Company 2</asp:ListItem>
    </asp:DropDownList><br />
    <asp:ListBox ID="lbCustomers" runat="server" SelectionMode="Multiple">
        <asp:ListItem Text="John" Value="1"></asp:ListItem>
        <asp:ListItem Text="Paul" Value="2"></asp:ListItem>
        <asp:ListItem Text="Peter" Value="3"></asp:ListItem>
    </asp:ListBox><br />
    <input id="Button1" type="button" value="View Report" onclick="submitSelection()" />
... 
```

然后在您的 Report.aspx.cs 中：

```
...
protected void Page_Load(object sender, EventArgs e)
        {
            var selectedCompany = Request.QueryString["company_id"];
            //get passed selected customers, will be stored in an array
            var selectedCustomers = Request.QueryString.GetValues("customer_id");

            Response.Write(string.Format("Company ID: {0}, Customers: {1}", selectedCompany.ToString(), string.Join(",", selectedCustomers)));
        }
... 
```

这说明了一个没有回发到页面的示例。如果您需要回发以处理后面代码中的其他逻辑，则必须将 <input> 按钮更改为 ASP.NET 按钮控件并处理其 OnClick 事件。

# iphone - iphone中的tableView没有更新

> ID：11113571
> 
> 赞同：0
> 
> 时间：2012-06-20T05:54:59.237
> 
> 标签：iphone, uitableview, ios5

我正在开发一个类似于 iphone 中的设置应用程序的应用程序。

在我的第一个 VC 中，我在选择第二个 VC 时有 4 行。我的第二个 VC 显示项目列表。用户选择后，所选文本应显示在与所选文本相邻的 firstVC 上。如何在字典对象或其他方式的帮助下实现它。！在此先感谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-21T06:23:51.713

几天前我做了一个类似的任务，这就是我如何完成的。请注意，可能有很多替代方法可以实现您想要的。

关键点：UITableView 依赖于它的 DataSource（数组或字典），它的数据在单元格中显示以及每个部分的节数和行数。

现在，最初您的 DataSource 具有显示为默认值的值。点击该行后，初始化 2ndViewController 并将其推送到导航堆栈上。在这个 2ndViewController 中，您必须以某种方式更新 1stViewController 的 DataSource（替换原始值）。

### 方法一

您可以使用协议和委托

创建一个协议如下。

```
@protocol MyTableDelegate 
- (void) dismissWithData:(NSString*)data; 
```

在 2ndViewController 中创建一个委托引用，调用该委托方法并传递选定的数据

```
@interface 2ndViewController : UIViewController
@property (assign) id<MyTableDelegate> delegate;
@property (assign) NSIndexPath *ip;
// Also synthesize it

@implementation 2ndViewController
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
    [self.delegate dismissWithData:@"Second Table Selection"];
    [self.navigationController popViewControllerAnimated:YES];
} 
```

现在在 1stViewController 中，实现 TableView & Protocol 方法

```
@interface 1stViewController : UIViewController <MyTableDelegate>

@implementation 1stViewController

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
    2ndViewController *controller = [[2ndViewController alloc] initWithNib....];
    // Set the Delegate to Self
    controller.delegate = self;
    self.ip = indexPath;
    // Push Controller on to Navigation Stack
}

- (void) dismissWithData: (NSString*) data
{
     // We Will Store NSIndexPath ip in didSelectRowAtIndex method
     // Use the ip to get the Appropriate index of DataSource Array
     // And replace it with incoming data         // Reload TableView
     [self.dataSource replaceObjectAtIndex:[ip row] withObject:data];
     [self.tableView reloadData];
} 
```

### 方法二

您还可以在 didSelectRowAtIndexPath 方法中将数据源传递给 2ndViewController。

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
    2ndViewController *controller = [[2ndViewController alloc] initWithNib....];
    controller.dataArray = self.dataSource;
    // Push Controller on to Stack
} 
```

然后在 2ndViewController 的同一个 didSelectRowAtIndexPath 方法中，更新数据源，调用

```
[self.navigationController popViewControllerAnimated:YES]; 
```

此外，您需要在 1stController 的 ViewWillAppear 方法中重新加载您的表格视图

```
- (void)ViewWillAppear:(BOOL)animated
{
     [self.tableView reloadData];
     [super ViewWillAppear:animated];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:00:04.267

我认为您需要在 viewDidAppear 中调用 [self.tableView reloadData]。如果可能，请[在返回时通过此链接重新加载 UITableView？](https://stackoverflow.com/questions/3747842/reload-uitableview-when-navigating-back)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T06:05:44.360

您在第一个 VC 中使用的数组。将该数组传递给第二个 VC，在 secondVC 类中对其进行更新，并在 firstVC 类的 viewWillAppear 方法中写入此语句“[firstVC.tableView reloadData]”。

当用户在 secondVC 类中选择任何内容时，这将更新您在 secondVC 类中的 firstVC 类数组，而不是当用户重新加载 firstVC 的返回表视图时。以便更新数组反映在表视图中。

# c# - C# Regex 用于检索引号中的大写字符串

> ID：11113577
> 
> 赞同：0
> 
> 时间：2012-06-20T05:55:25.867
> 
> 标签：c#, .net, regex

给定一个字符串，我想检索一个引号之间的字符串，并且完全大写。

例如，如果一个字符串

> oqr"awr"q q"ASRQ" asd "qIKQWIR"

已输入，正则表达式只会将“ASRQ”评估为匹配字符串。

解决这个问题的最佳方法是什么？

编辑：忘了提到字符串也需要一个数字输入 IE：“IO8917AS”是一个有效的输入

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T05:58:33.550

编辑：如果您*实际上*想要“一个或多个字符，并且没有一个字符是小写字母”，那么您可能想要：

```
Regex regex = new Regex("\"\\P{Ll}+\""); 
```

这也将允许数字......和标点符号。如果你想允许数字和大写字母但没有别的，你可以使用：

```
Regex regex = new Regex("\"[\\p{Lu}\\d]+\""); 
```

或以逐字字符串文字形式（使引号更加混乱，但反斜杠则更少）：

```
Regex regex = new Regex(@"""[\p{Lu}\d]+"""); 
```

* * *

**原始答案**（在需要数字之前）

听起来你只是想要（在模式内）

```
 "[A-Z]*" 
```

所以像：

```
Regex regex = new Regex("\"[A-Z]*\""); 
```

或者要获得完整的 Unicode 支持，请使用`Lu`Unicode 字符类别：

```
Regex regex = new Regex("\"\\p{Lu}*\""); 
```

编辑：如前所述，如果您不想匹配引号中的*空*字符串（仍然是“所有内容均为大写的字符串”），则使用`+`代替`*`，例如

```
Regex regex = new Regex("\"\\p{Lu}+\"); 
```

查找和显示第一个匹配项的简短但完整的示例：

```
using System;
using System.Text.RegularExpressions;

class Program
{    
    public static void Main()
    {
        Regex regex = new Regex("\"\\p{Lu}+\"");
        string text = "oqr\"awr\"q q\"ASRQ\" asd \"qIKQWIR\"";

        Match match = regex.Match(text);
        Console.WriteLine(match.Success); // True
        Console.WriteLine(match.Value);   // "ASRQ"
    }    
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:03:12.427

像这样："\"[AZ]+\""

最外面的引号不是正则表达式的一部分，它们分隔 C# 字符串。

这要求引号之间至少有一个大写字符，并且适用于英语。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:08:48.530

请尝试以下方法：

`[\w]*"([A-Z0-9]+)"`

# python - 如何在python中逐个字符串读取文件字符串并在读取分配给列表后

> ID：11113579
> 
> 赞同：-4
> 
> 时间：2012-06-20T05:55:28.510
> 
> 标签：python

比如：创建一个文件`bit0.txt` 里面的文件内容是：

```
Port   Command        ExpectedResult           Comments

A        C            Ack Resp:\x43\x80   ;  All flags bit of port A clear
B        C            Ack Resp:\x43\x80   ;  All flags bit of port B clear
A     S001002         Ack Resp:\x06\x53   ;  S command Change output 1
A        C            Ack Resp:\x43\x81   ;  port A bit 0 set
B        C            Ack Resp:\x43\x81   ;  port B bit 0 set
A        Q            Ack Resp:\x51\x31   ;  read change queue on port A
A        C            Ack Resp:\x43\x80   ;  port A bit 0 clear
B        C            Ack Resp:\x43\x81   ;  port B bit 0 set
B        Q            Ack Resp:\x51\x31   ;  read change queue on port B
A        C            Ack Resp:\x43\x80   ;  port A bit 0 clear
B        C            Ack Resp:\x43\x80   ;  port B bit 0 clear 
```

现在我必须通过另一个 python 程序读取这个文件，输出应该是这样的：

读取文件后，API 应返回：

```
result = [['A','C', 'Ack Resp:\x43\x80'],
          ['B','C', 'Ack Resp:\x43\x80'],
          ['A','S001002', 'Ack Resp:\x06\x53'],
          ...............till end of file ] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:13:30.657

您可以`import csv`或自己编写代码。有一个例子：

```
result = []
with open(bit0.txt) as f:
    for index, l in enumerate(f):
        if index > 1:
            result.append((l.split(';')[0]).split()) 
```

`result`论据是你想要的

或者可以`function`这样定义：

```
def helper(filename):
    result = []
    with open(filename) as f:
        for index, l in enumerate(f):
            if index > 1:
                result.append((l.split(';')[0]).split())
    return result

print helper(bit0.txt) 
```

输出是

```
[['A','C', 'Ack Resp:\x43\x80'],
      ['B','C', 'Ack Resp:\x43\x80'],
      ['A','S001002', 'Ack Resp:\x06\x53'],
      ...............till end of file ] 
```

# iphone - 如何使文本字段在 iphone 中接受十进制输入

> ID：11113586
> 
> 赞同：0
> 
> 时间：2012-06-20T05:56:06.387
> 
> 标签：iphone, xcode, uitextfield

我有一个计算器应用程序，其中有一个文本字段，如果我在其中输入任何数字；然后它工作正常。如果我不输入数字，则会显示警报。我也希望用户能够输入 1.5，但是当我这样做时，它会显示警报“请输入数字”

那么如何输入十进制数呢？我正在使用以下代码：

```
 NSCharacterSet * set = [[NSCharacterSet characterSetWithCharactersInString:@"0123456789"] invertedSet];

  NSString*string=costToClientTextField.text;

 if ([string rangeOfCharacterFromSet:set].location != NSNotFound) {

 UIAlertView * alert = [[UIAlertView alloc] initWithTitle:@"Warning" message:@"Only a number can be entered into this input field " delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
 [alert show];
 [alert release];

 costToClientTextField.text=@"";

  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:05:18.100

添加“。” 在你的集合中，像这样

```
 NSCharacterSet * set = [[NSCharacterSet characterSetWithCharactersInString:@"0123456789."] invertedSet]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:10:03.917

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
    {

    NSNumberFormatter *numberFormatter = [[NSNumberFormatter alloc] init];
    [numberFormatter setNumberStyle:NSNumberFormatterDecimalStyle];

    NSNumber* candidateNumber;

    NSString* candidateString = [textField.text stringByReplacingCharactersInRange:range withString:string];

    range = NSMakeRange(0, [candidateString length]);

    [numberFormatter getObjectValue:&candidateNumber forString:candidateString range:&range error:nil];

    if (([candidateString length] > 0) && (candidateNumber == nil || range.length < [candidateString length])) {

        return NO;
    }
    else 
    {
        return YES;
    }
} 
```

也许这会对你有所帮助。还输入键盘类型编号和标点符号。

# android - Android android.database.sqlite.SQLiteException：无法打开数据库文件

> ID：11113591
> 
> 赞同：2
> 
> 时间：2012-06-20T05:56:55.313
> 
> 标签：android, sqlite, google-analytics

在我的 android 应用程序中，有两个进程，假设进程 A 和 B

有趣的是，如果进程 A 尝试访问 sqlite 数据库，一切都很好。但是，如果进程 B 这样做，将显示以下异常

> android.database.sqlite.SQLiteException：无法打开数据库文件：BEGIN EXCLUSIVE；

仅供参考，实际上不是我的应用程序尝试使用 SQLite 数据库。相反，我使用 Google Analytics 来跟踪用户，它使用 SQLite 数据库。

为什么会这样？谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:06:56.010

实际上，您使用的是`Transaction`.and 当事务正在进行时，没有其他进程可以访问数据库。

我认为这就是你得到这个例外的原因

有时候这种情况会发生

1.  when`beginTransaction`在未打开的数据库连接上调用。
2.  当 SQL 语句包含语法错误时

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T06:36:23.027

*   在开始将数据库与**进程 B**一起使用之前，您必须先与**进程 A**`close`的数据库建立连接。
*****   这将解决您的`concurrency`.*   我们用`db.close();`****

 ****我希望这可能是你的问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T06:02:22.527

> 如果进程 A 尝试访问 sqlite 数据库，一切都很好。但是，如果进程 B 这样做，将显示以下异常

Sqlite 只会从您的应用程序数据库目录中打开数据库。

```
DB_PATH = "/data/data/"+ context.getPackageName() + "/databases/"; 
```

在您的情况下，数据库存在于进程 A 目录中，因此它可以访问它。但是进程 B 无法从进程 A 目录中读取数据库。

您可以做的是通过提供上述路径将该数据库文件复制到 Process B 目录中。****

# java - 在 Applet 中显示图像

> ID：11113594
> 
> 赞同：0
> 
> 时间：2012-06-20T05:57:16.740
> 
> 标签：java, applet

```
package org.kodejava.example.applet;

import java.applet.Applet;
import java.awt.*;

public class AppletGetImage extends Applet {
    private Image logo;

    @Override
    public void init() {

        logo = getImage(getDocumentBase(), "/images/logo.png");
    }

    @Override
    public void paint(Graphics g) {
        g.drawRect(0, 0, getWidth() - 1, getHeight() - 1);
        g.drawImage(logo, 10, 10, this);
    }
} 
```

问题：

1.  在所有java程序中声明compalsary包？
2.  `private Image logo;`这个变量可以在applet类中用于什么目的？
3.  `public void init()`这个方法可以在applet类中用于什么目的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:12:52.490

> 在所有java程序中声明compalsary包？

不，请参阅此处了解更多信息：[Java 包](http://en.wikipedia.org/wiki/Java_package)

> 私人形象标志；这个变量可以在applet类中用于什么目的？

请参阅此处：[在 Java 中声明成员变量](http://docs.oracle.com/javase/tutorial/java/javaOO/variables.html)

> public void init() 这个方法可以在applet 类中用于什么目的？

请参阅此处： Applet和[Applet](http://docs.oracle.com/javase/7/docs/api/java/applet/Applet.html#init%28%29)[方法](http://docs.oracle.com/javase/7/docs/api/java/applet/Applet.html#init%28%29)[的生命周期](http://docs.oracle.com/javase/tutorial/deployment/applet/lifeCycle.html)[`init()`](http://docs.oracle.com/javase/7/docs/api/java/applet/Applet.html#init%28%29)

# javascript - Div 不会自动计算高度

> ID：11113601
> 
> 赞同：0
> 
> 时间：2012-06-20T05:58:26.070
> 
> 标签：javascript, jquery, css

我有一个包含 2 个元素的 div。第一个元素是 a `span`，第二个元素是 a `input`，例如：

```
<div id="container">
   <span>FirstName</span>
   <br />
   <input type="text" />
</div> 
```

的div 设置为`width`，我期待它会根据其孩子的身高自动计算它。这里它计算它的高度，但它不包括元素高度。`container``300px``height``input`

这里发生了什么？

**编辑**

我的容器`position : absolute`，由于某种原因我无法设置`overflow : hidden`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:11:04.557

这是使用 jQuery 的工作演示 - [http://jsfiddle.net/dccF2/3/](http://jsfiddle.net/dccF2/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:05:19.177

`height:inherit;`在子元素中使用。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-20T06:06:53.640

尝试以下 -

```
#container{
width:300px;
height:auto;
overflow:hidden;
}​ 
```

工作[**演示**](http://jsfiddle.net/UyJgV/1/)

编辑：添加`Position:absoulte`

更新[**了演示**](http://jsfiddle.net/UyJgV/3/)

# ios - 涉及 NSOperation 版本的 Stacktrace

> ID：11113608
> 
> 赞同：0
> 
> 时间：2012-06-20T05:59:08.143
> 
> 标签：ios, crash, stack-trace, nsoperation, nsoperationqueue

我收到了非常模糊的崩溃报告。堆栈跟踪的策略是什么，如下所示。

```
Thread 7 crashed

0 libobjc.A.dylib objc_msgSend + 9
1 Foundation -[NSOperation release] + 148
2 Foundation __release_object_op + 22
3 libdispatch.dylib _dispatch_async_f_redirect_invoke + 82
4 libdispatch.dylib _dispatch_worker_thread2 + 262
5 libsystem_c.dylib _pthread_wqthread + 294 
```

我一直在查看不同的线程，看看其中一个是否可以指向我的应用程序的某个特定部分，但所有线程都在某些系统库或主循环中等待。

有什么提示吗？

布鲁诺

# sql - 从另一个表中选择计数到结果行中的每一行

> ID：11113614
> 
> 赞同：8
> 
> 时间：2012-06-20T05:59:51.277
> 
> 标签：sql, sql-server, sql-server-2008, stored-procedures

以下是表格：

```
CREATE TABLE [dbo].[Classes](
    [ClassId] [int] NOT NULL,
    [ClassName] [nvarchar](50) NOT NULL,
 CONSTRAINT [PK_Classes] PRIMARY KEY CLUSTERED 
(
    [ClassId] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Students](
    [StudentId] [int] NOT NULL,
    [ClassId] [int] NOT NULL,
 CONSTRAINT [PK_Students] PRIMARY KEY CLUSTERED 
(
    [StudentId] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
ALTER TABLE [dbo].[Students]  WITH CHECK ADD  CONSTRAINT [FK_Students_Classes] FOREIGN KEY([ClassId])
REFERENCES [dbo].[Classes] ([ClassId])
GO
ALTER TABLE [dbo].[Students] CHECK CONSTRAINT [FK_Students_Classes]
GO 
```

我想获取班级列表和每个班级 - 属于每个班级的学生人数。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-06-20T06:05:22.400

你需要这样做——

```
SELECT C.ClassId, C.ClassName, count(S.StudentId) AS studentCount
FROM CLASSES C LEFT JOIN STUDENTS S ON (C.ClassId=S.ClassId)
GROUP BY C.ClassId, C.ClassName 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T06:05:33.413

你的意思是这样的？

```
SELECT C.[ClassName], COUNT(*) AS 'Number of Students'
FROM [dbo].[Classes] AS C
    INNER JOIN [dbo].[Students] AS S ON S.[ClassId] = C.[ClassId]
GROUP BY C.[ClassName] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-02-25T09:09:05.240

无需添加`group by`子句，您可以执行以下操作：

创建一个函数来计算学生人数：

```
go
CREATE FUNCTION [dbo].GetStudentsCountByClass(@classId int) RETURNS INT
AS BEGIN
    declare @count as int

    select @count = count(*) from STUDENTS  
    where ClassId = @classId

    RETURN @count
END 
```

然后在你的`select`陈述中使用它

```
SELECT * , dbo.GetStudentsCountByClass(ClassId) AS StudentsCount
FROM Classes 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T06:31:28.610

```
SELECT class.ClassId, count(student .StudentId) AS studentCount
FROM dbo.CLASSES class LEFT JOIN dbo.STUDENTS student ON (class.ClassId=student.ClassId)
GROUP BY class.ClassId 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-20T08:17:56.550

```
 select c.ClassId,C.ClassName,COUNT(*) [Number of students]
 from Classes C,Students S
 where c.ClassId=S.ClassId
 group by C.ClassId,C.ClassName 
```

# jquery - 使用子元素访问其他父属性

> ID：11113615
> 
> 赞同：1
> 
> 时间：2012-06-20T05:59:52.423
> 
> 标签：jquery, jquery-ui, parent-child

我创建了一个 jqueryUI 拖放列表。现在，我需要从中删除一个对象。我为此使用了以下功能：

```
function remove(el) {
$(el).hide();
$(el).parent().parent().effect("highlight", {color: "#ff0000"}, 1000);
$(el).parent().parent().fadeOut('1000');
setTimeout(function() {
    $(el).parent().parent().remove();
    });
} 
```

这是执行此函数的代码（remove(this) 函数）：

```
var html = '<div class="item i">';
html = html + '<div class="divrm">';
html = html + '<a onclick="remove(this)" class="remove '+itemid+'">&times;</a>';
html = html + '<div/>'+item+'</div>'; 
```

假设我有一个这样的元素：

```
<div class="item" id="i2">
<img src="img/2.jpg"/>
<label class="title">Title</label>
<label class="weight">Heavy</label>
</div> 
```

现在在删除功能中，我需要具有“.title”类的标签之间的文本。我怎样才能做到这一点？我已经尝试过了，但它似乎不起作用：

var remtitle = $(el).parent().parent().find(".title").val();

我究竟做错了什么？我对 jquery 相当陌生，所以这可能是一个业余错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:04:01.930

使用`html()`or`text()`代替，`val()`因为标签不是输入类型：

```
var remtitle = $(el).closest('.item').find(".title").html(); 
```

Notice that addition of `closest()` function also, it helps find a parent easily rather than using `parent()` again and again. Also make sure to put your code in jQuery `ready()` handler.

# c# - 使用 Datagridview 读取和写入数据库

> ID：11113619
> 
> 赞同：0
> 
> 时间：2012-06-20T06:00:06.870
> 
> 标签：c#, winforms, visual-studio-2010, entity-framework-4, datagridview

我有一个使用 EF4 数据库第一种方法的 Winforms 应用程序（具有用于数据访问的 .edmx 文件），现在我需要一个双向 dataviewgrid，它使我能够显示、修改、删除和添加列到数据库表，显示数据似乎很容易并且可以单独使用向导完成，但是将数据写回数据库是复杂的部分，我发现了很多关于这个问题的线程，但没有一个线程涉及 EF4 组件来访问数据（如果可能的话），大多数示例使用 datase / datasource / bindingnavigator /bindingcontext 和更令人困惑的东西。

问题是我真的需要所有这些组件吗？或者我可以使用我的对象模型来做到这一点吗？

如果有人能就所有这些对象如何协同工作提供一些说明，那就太好了，也欢迎任何好的链接或小代码部分。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T09:15:39.570

DataGridView 只是您的数据中的一个视图。您应该编写一个类，其中表中的每一列都由一个属性表示。然后将表中的所有数据加载到对象列表（列表）中。将 UpdateMethod 添加到您的类。现在您可以在 GridView 中读取/更改数据，并且您的对象属性将自动更改。单击保存按钮或其他内容后，您为列表中的所有对象调用更新方法。因此，您可以在 GridView 中编辑数据并将其保存到您的数据库

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T08:37:18.617

[这是](https://stackoverflow.com/a/5793795/395659)@RobertHarvey链接的答案：

> 线的问题：
> 
> `select new { c.UserName, c.Password, c.Description }`
> 
> 是它正在创建一个匿名类型，而匿名类型是不可变的——即只读。这就是为什么您的更改不会反映在新类型或原始 EF 对象中的原因。
> 
> 现在，关于不显示您要绑定的对象的所有列的方法，我在下面给出了三个选项。

# php - php-fpm 进程进入不间断睡眠

> ID：11113630
> 
> 赞同：1
> 
> 时间：2012-06-20T06:01:14.767
> 
> 标签：php, ps, server-load

我收到关于服务器的 nagios 严重警告，当我检查时`ps -aux`发现所有 nginx (php-fpm) 都处于不间断睡眠状态

```
www-data  1330  0.4  0.3 299992 108560 ?       D    16:06   0:16 php-fpm: pool www
www-data  1338  0.4  0.2 254728 92728 ?        D    16:06   0:16 php-fpm: pool www
www-data  1346  0.4  0.3 293544 100272 ?       D    16:06   0:17 php-fpm: pool www
www-data  1356  0.7  0.3 302504 101532 ?       D    16:06   0:29 php-fpm: pool www
www-data  1357  0.3  0.2 270672 85952 ?        D    16:06   0:13 php-fpm: pool www
.... 
```

我被困住了，甚至无法重新启动 nginx。最后我重新启动服务器来解决这个问题！今天问题再次发生，我设法重新启动 php5-fpm，这将服务器负载从 300 减少到 1.XX，
尽管我在 /etc/php5/fpm/php.ini 中有这个

```
emergency_restart_threshold=10
emergency_restart_interval=1m
process_control_timeout=10s 
```

这意味着 php5-fpm 应该在这种情况下重新启动，但它没有！
知道什么可能导致这些进程进入不间断的睡眠状态以及将来如何避免这种情况？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-21T09:29:11.267

*不间断睡眠*转换为 I/O。处于这种状态的进程**不处理信号**。因此，PHP-FPM 无法重新启动处于此状态的进程。

您可能有一个坏的硬盘驱动器，PHP 脚本试图访问的网络挂载（nfs，cifs？）陈旧/死机，或者 I/O 争用的非常糟糕的情况。

此外，这根本与[nginx](/questions/tagged/nginx "显示标记为“nginx”的问题")无关。

# git - 为什么 git 不尝试将更改合并到重命名的文件？

> ID：11113632
> 
> 赞同：19
> 
> 时间：2012-06-20T06:01:35.750
> 
> 标签：git, merge

假设我有一个文件

1.  在master中修改
2.  在功能分支中修改
3.  在功能分支中重命名

当我尝试从 master 合并到 feature 分支时，合并失败

> CONFLICT（修改/删除）：X 在 HEAD 中删除并在 origin/master 中修改。X 的版本起源/主控留在树中。

我知道存在冲突，但为什么它甚至不尝试合并更改并在文件中放置冲突标记？[以前的答案似乎暗示它应该。](https://stackoverflow.com/questions/1739364/move-a-file-directory-but-still-merge-changes-easily)我得到的只是文件的两个不同版本，我必须手动找出差异，并从主版本到我的版本逐行更改端口。

重现步骤：

```
git init
touch a
git add a
git commit -m 'initial import'

git checkout -b feature1
echo feature1 > a
git add a
git commit -m feature1
git mv a b
git commit -m feature1

git checkout master
echo bugfix > a
git add a
git commit -m bugfix

git checkout feature1 
git merge master 
```

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-06-20T08:10:28.890

因为在 git 中实际上没有一级重命名操作的概念，它只是使用文件差异的阈值来“检测”重命名。您的文件可能太不同了。

尝试合并： `git merge master -s recursive -X rename-threshold=5%`

# linux - 一台服务器发生故障时如何处理 TCP 长连接？

> ID：11113635
> 
> 赞同：0
> 
> 时间：2012-06-20T06:01:42.247
> 
> 标签：linux, cluster-computing, high-availability

我有许多 linux 服务器（集群）来运行我的应用程序。应用程序使用 C/S 结构，客户端使用 TCP 长连接连接到服务器（服务器基于 apache mina 套接字框架）。

我的问题是：当一台服务器关闭时，其他服务器如何保持故障服务器和客户端之间建立的套接字连接？因此服务器关闭故障对客户端是透明的，客户端不需要重新连接到服务器。

谢谢LJW

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T06:13:55.560

您不能简单地迁移 TCP 连接，除非中间有某种永不失败的代理，例如第 4 层交换机。

# backbone.js - Stackmob 与 requires.js

> ID：11113636
> 
> 赞同：2
> 
> 时间：2012-06-20T06:01:43.347
> 
> 标签：backbone.js, requirejs, stackmob

我正在布置基本结构并刚刚开始创建模型。问题是对初始化 Stackmob 的引用在模型中丢失了。

```
main.js
require(['modernizr','jquery','backbone', 'underscore', 'routers/router', 'stackmob'], function(Modernizr, $, Backbone, _, Router, Stackmob) {

    StackMob.init({
        appName: {appName},
        clientSubdomain: {clientSubdomain},
        apiVersion: 0
    });

    // Instantiates a new Router
    this.router = new Router();
});

Model.js
define(['jquery', 'backbone', 'stackmob', 'models/business'], function($, Backbone, Stackmob, Business) {

    var BusinessesCollection = StackMob.Collection.extend({

            model: Business,

            // Model Constructor
            initialize: function() {

            }

    });

    // Returns the Model class
    return BusinessesCollection;

}); 
```

如何让模型模块可以访问已初始化的 StackMob 对象？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T11:10:03.843

介绍一种StackMob*的实例？*

## 我的-stackmob.js

```
define(['stackmob'], function(StackMob) {
    StackMob.init({
        appName: {appName},
        clientSubdomain: {clientSubdomain},
        apiVersion: 0
    });
    // return a particular StackMob that we've initialised
    return StackMob;
}); 
```

## main.js

（根据您的示例代码，似乎不再直接使用 StackMob）

```
require(['modernizr','jquery','backbone', 'underscore', 'routers/router'], function(Modernizr, $, Backbone, _, Router) {
    // Instantiates a new Router
    this.router = new Router();
}); 
```

## 模型.js

（使用我的stackmob）

```
define(['jquery', 'backbone', 'my-stackmob', 'models/business'], function($, Backbone, Stackmob, Business) {
    var BusinessesCollection = StackMob.Collection.extend({

            model: Business,

            // Model Constructor
            initialize: function() {

            }

    });

    // Returns the Model class
    return BusinessesCollection;
}); 
```

# java - 数据更改时刷新 JTable

> ID：11113637
> 
> 赞同：0
> 
> 时间：2012-06-20T06:01:45.923
> 
> 标签：java, swing, jtable, tablemodel, abstracttablemodel

我在刷新`JTable`. 我从一个空的开始`ArrayList`，在设置我选择的组合框后，我将内容加载到`ArrayList`但`JTable`不对其作出反应 - 它仍然是空的。有问题`TableModel`吗？

这是我的代码...

```
public class ProjectTableModel extends AbstractTableModel{

    private static final long serialVersionUID = 1L;

    private static ArrayList<String> caseList = new ArrayList<String>();

    @Override
    public int getColumnCount() {
        return 1;
    }

    @Override
    public int getRowCount() {
        return caseList.size();
    }

    @Override
    public Object getValueAt( int row , int col) {
        getRowCount();
        switch(col){
            case 0:
                System.out.println("mam to");
                return caseList.get(row);
        }   
        return null;            
    }

    public void setCaseList(String[] list){
        for (int i =list.length - 1; i >= 0; i--) {
            caseList.add(list[i]);
        }
        System.out.println(getRowCount());
        fireTableDataChanged();
    }

    public String setValueAt(int row, int col){ 
        return null;
    }

    public void addTestCase(String name) throws IOException{    
        File newDir = new File(TestCaseMaker.currentDir, 
            "Przypadek testowy"+(caseList.size()+1));
        newDir.createNewFile();
        caseList.add(name);

        fireTableDataChanged();
    }

    public String getColumnName(int col) {
        return "Przypadki testowe";
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:20:58.400

您的实施`setValueAt()`不正确。它有错误的签名，它没有通知它的视图。

附录：*我* `JTable` *对数据模型的任何更改都没有反应*

作为参考，[`EnvTableTest`](https://stackoverflow.com/a/9134371/230513)是一个使用`AbstractTableModel`排除编辑的示例；`isCellEditable()`总是返回的默认实现`false`。

```
@Override
public void setValueAt(Object aValue, int row, int col) {
    if (col == 1) {
        System.out.println("setValueAt: " + row + " " + aValue);
        // update caseList here
        this.fireTableCellUpdated(row, col);
    }
} 
```

[这里](https://sites.google.com/site/drjohnbmatthews/table)有一个相关的例子。

# java - Spring页面重定向：找不到页面问题

> ID：11113647
> 
> 赞同：-2
> 
> 时间：2012-06-20T06:02:55.153
> 
> 标签：java, hibernate, spring-mvc, jdbc, spring-jdbc

我正在尝试从[这个站点](http://viralpatel.net/blogs/spring3-mvc-hibernate-maven-tutorial-eclipse-example/)运行一个示例项目。Jboss开始时没有任何错误但是当我进入路径时

> `http://localhost:8080/Spring3Hibernate/index`

我收到异常“请求的资源不可用”。

我的 spring-servlet.xml 类是

```
 <?xml  version="1.0" encoding="UTF-8"?>
    <beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:aop="http://www.springframework.org/schema/aop"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:jee="http://www.springframework.org/schema/jee"
    xmlns:lang="http://www.springframework.org/schema/lang"
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xmlns:util="http://www.springframework.org/schema/util"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee.xsd
        http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

    <context:annotation-config />
    <context:component-scan base-package="net.viralpatel.contact" />

    <bean id="jspViewResolver"
        class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="viewClass"
            value="org.springframework.web.servlet.view.JstlView" />
        <property name="prefix" value="/WEB-INF/jsp/" />
        <property name="suffix" value=".jsp" />
    </bean>

    <bean id="messageSource"
        class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <property name="basename" value="classpath:messages" />
        <property name="defaultEncoding" value="UTF-8" />
    </bean>
    <bean id="propertyConfigurer"
        class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"
        p:location="/WEB-INF/jdbc.properties" />

        <bean id="dataSource" destroy-method="close" class="org.apache.commons.dbcp.BasicDataSource">
        <property name="driverClassName" value="com.mysql.jdbc.Driver"/>
        <property name="url" value="jdbc:mysql://192.168.101.163:3306/db_roseindia"/>
        <property name="username" value="root"/>
        <property name="password" value=""/>

    </bean>

    <bean id="sessionFactory"
        class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
        <property name="dataSource" ref="dataSource" />
        <property name="configLocation">
            <value>classpath:hibernate.cfg.xml</value>
        </property>
        <property name="configurationClass">
            <value>org.hibernate.cfg.AnnotationConfiguration</value>
        </property>
        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">${jdbc.dialect}</prop>
                <prop key="hibernate.show_sql">true</prop>
            </props>
        </property>
    </bean>

    <tx:annotation-driven />

    <bean id="transactionManager"
        class="org.springframework.orm.hibernate3.HibernateTransactionManager">
        <property name="sessionFactory" ref="sessionFactory" />
    </bean>

</beans> 
```

和 web.xml 是

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    id="WebApp_ID" version="2.5">
    <display-name>Spring3-Hibernate</display-name>
    <welcome-file-list>
        <welcome-file>list.html</welcome-file>
    </welcome-file-list>
    <servlet>
        <servlet-name>spring</servlet-name>
        <servlet-class>
            org.springframework.web.servlet.DispatcherServlet
        </servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>spring</servlet-name>
        <url-pattern>/*</url-pattern>
    </servlet-mapping>
</web-app> 
```

控制器类是

```
package main.java.net.viralpatel.contact.controller;

import java.util.Map;

import main.java.net.viralpatel.contact.form.Contact;
import main.java.net.viralpatel.contact.service.ContactService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.validation.BindingResult;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;

@Controller
public class ContactController {

    @Autowired
    private ContactService contactService;

    @RequestMapping("/index")

    public String listContacts(Map<String, Object> map) {

        System.out.println("In Index method");

        map.put("contact", new Contact());
        map.put("contactList", contactService.listContact());

        return "contact";
    }

    @RequestMapping(value = "/add", method = RequestMethod.POST)
    public String addContact(@ModelAttribute("contact")
    Contact contact, BindingResult result) {
        System.out.println("in ADD method");

        contactService.addContact(contact);

        return "redirect:/index";
    }

    @RequestMapping("/delete/{contactId}")
    public String deleteContact(@PathVariable("contactId")
    Integer contactId) {

        System.out.println("IN delete method");

        contactService.removeContact(contactId);

        return "redirect:/index";
    }
} 
```

当我尝试运行该项目时，我得到了

```
10:33:25,415 WARN  [PageNotFound] No mapping found for HTTP request with URI [/Spring3Hibernate/index] in DispatcherServlet with name 'spring' 
```

在 Lib 文件夹中，我有这些罐子

![在此处输入图像描述](../Images/312e16a7e11844a3669d13d495129578.png)

在构建路径中我有 ![在此处输入图像描述](../Images/1fb3efb62fd440378dc6d901ef76e1f9.png)

我的 pom.xml 是

```
<?xml version="1.0" encoding="UTF-8"?><project>
  <modelVersion>4.0.0</modelVersion>
  <groupId>Spring3HibernateMaven</groupId>
  <artifactId>Spring3HibernateMaven</artifactId>
  <packaging>war</packaging>
  <version>0.0.1-SNAPSHOT</version>
  <description></description>
  <build>
    <plugins>
      <plugin>
        <artifactId>maven-compiler-plugin</artifactId>
        <configuration>
          <source>1.5</source>
          <target>1.5</target>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-war-plugin</artifactId>
        <version>2.0</version>
      </plugin>
    </plugins>
  </build>
  <dependencies>
    <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>servlet-api</artifactId>
      <version>2.5</version>
    </dependency>
    <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-beans</artifactId>
      <version>${org.springframework.version}</version>
    </dependency>
    <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-jdbc</artifactId>
      <version>${org.springframework.version}</version>
    </dependency>
    <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-web</artifactId>
      <version>${org.springframework.version}</version>
    </dependency>
    <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-webmvc</artifactId>
      <version>${org.springframework.version}</version>
    </dependency>
    <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-orm</artifactId>
      <version>${org.springframework.version}</version>
    </dependency>
    <dependency>
      <groupId>org.hibernate</groupId>
      <artifactId>hibernate-entitymanager</artifactId>
      <version>3.3.2.ga</version>
    </dependency>
    <!-- dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-log4j12</artifactId>
      <version>1.4.2</version>
    </dependency -->
    <dependency>
      <groupId>taglibs</groupId>
      <artifactId>standard</artifactId>
      <version>1.1.2</version>
    </dependency>
    <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>jstl</artifactId>
      <version>1.1.2</version>
    </dependency>
    <dependency>
      <groupId>mysql</groupId>
      <artifactId>mysql-connector-java</artifactId>
      <version>5.1.10</version>
    </dependency>
    <dependency>
      <groupId>commons-dbcp</groupId>
      <artifactId>commons-dbcp</artifactId>
      <version>20030825.184428</version>
    </dependency>
    <dependency>
      <groupId>commons-pool</groupId>
      <artifactId>commons-pool</artifactId>
      <version>20030825.183949</version>
    </dependency>
  </dependencies>
  <properties>
    <org.springframework.version>3.0.2.RELEASE</org.springframework.version>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>
</project> 
```

我会非常感谢您宝贵的时间和帮助。我正在使用 eclipes 3.4 和 jboss 4.2

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:09:01.477

是`http://localhost:8080/Spring3Hibernate/index`还是`http://localhost:8080/Spring3-Hibernate/index`

请验证您的上下文路径是否正确

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:21:04.067

在您从中获取代码的站点中，web.xml 中的 servlet 映射是这样完成的。

```
<servlet-mapping>
        <servlet-name>spring</servlet-name>
        <url-pattern>/</url-pattern>
 </servlet-mapping> 
```

在您已在其上方发布的代码中

```
<url-pattern>/*</url-pattern> 
```

网址模式意味着：

```
/ by itself is the default servlet called if there are no other matches. 
```

和

```
/* mapping in web.xml it answers all requests except other path mappings. 
```

检查并使用你真正想要的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-26T12:57:01.203

试试这个在类级别指定 RequestMapping 为

```
@Controller
@RequestMapping("/contact")
public class ContactController 
```

然后在方法级别指定

```
@RequestMapping(value = "/list", method = RequestMethod.GET)
public String listContacts(Map<String, Object> map) 
```

现在尝试将 URL 设为

> “http://localhost:8080/Spring3Hibernate/contact/list”

# python - 如何运行 .py 模块？

> ID：11113649
> 
> 赞同：3
> 
> 时间：2012-06-20T06:03:09.380
> 
> 标签：python, numpy, scipy, rdf, factorization

我对 Python 的经验为零。我查看了一些教程材料，但似乎很难理解高级代码。所以我来这里是为了更具体的答案。对我来说，任务是重做我电脑中的代码。

这是场景：

我是一名在关系学习中研究张量分解的研究生。一篇论文[1] 提供了运行该算法的代码，如下：

```
import logging, time
from numpy import dot, zeros, kron, array, eye, argmax
from numpy.linalg import qr, pinv, norm, inv 
from scipy.linalg import eigh
from numpy.random import rand

__version__ = "0.1" 
__all__ = ['rescal', 'rescal_with_random_restarts']

__DEF_MAXITER = 500
__DEF_INIT = 'nvecs'
__DEF_PROJ = True
__DEF_CONV = 1e-5
__DEF_LMBDA = 0

_log = logging.getLogger('RESCAL') 

def rescal_with_random_restarts(X, rank, restarts=10, **kwargs):
    """
    Restarts RESCAL multiple time from random starting point and 
    returns factorization with best fit.
    """
    models = []
    fits = []
    for i in range(restarts):
        res = rescal(X, rank, init='random', **kwargs)
        models.append(res)
        fits.append(res[2])
    return models[argmax(fits)]

def rescal(X, rank, **kwargs):
    """
    RESCAL 

    Factors a three-way tensor X such that each frontal slice 
    X_k = A * R_k * A.T. The frontal slices of a tensor are 
    N x N matrices that correspond to the adjecency matrices 
    of the relational graph for a particular relation.

    For a full description of the algorithm see: 
      Maximilian Nickel, Volker Tresp, Hans-Peter-Kriegel, 
      "A Three-Way Model for Collective Learning on Multi-Relational Data",
      ICML 2011, Bellevue, WA, USA

    Parameters
    ----------
    X : list
        List of frontal slices X_k of the tensor X. The shape of each X_k is ('N', 'N')
    rank : int 
        Rank of the factorization
    lmbda : float, optional 
        Regularization parameter for A and R_k factor matrices. 0 by default 
    init : string, optional
        Initialization method of the factor matrices. 'nvecs' (default) 
        initializes A based on the eigenvectors of X. 'random' initializes 
        the factor matrices randomly.
    proj : boolean, optional 
        Whether or not to use the QR decomposition when computing R_k.
        True by default 
    maxIter : int, optional 
        Maximium number of iterations of the ALS algorithm. 500 by default. 
    conv : float, optional 
        Stop when residual of factorization is less than conv. 1e-5 by default

    Returns 
    -------
    A : ndarray 
        array of shape ('N', 'rank') corresponding to the factor matrix A
    R : list
        list of 'M' arrays of shape ('rank', 'rank') corresponding to the factor matrices R_k 
    f : float 
        function value of the factorization 
    iter : int 
        number of iterations until convergence 
    exectimes : ndarray 
        execution times to compute the updates in each iteration
    """

    # init options
    ainit = kwargs.pop('init', __DEF_INIT)
    proj = kwargs.pop('proj', __DEF_PROJ)
    maxIter = kwargs.pop('maxIter', __DEF_MAXITER)
    conv = kwargs.pop('conv', __DEF_CONV)
    lmbda = kwargs.pop('lmbda', __DEF_LMBDA)
    if not len(kwargs) == 0:
        raise ValueError( 'Unknown keywords (%s)' % (kwargs.keys()) )

    sz = X[0].shape
    dtype = X[0].dtype 
    n = sz[0]
    k = len(X) 

    _log.debug('[Config] rank: %d | maxIter: %d | conv: %7.1e | lmbda: %7.1e' % (rank, 
        maxIter, conv, lmbda))
    _log.debug('[Config] dtype: %s' % dtype)

    # precompute norms of X 
    normX = [norm(M)**2 for M in X]
    Xflat = [M.flatten() for M in X]
    sumNormX = sum(normX)

    # initialize A
    if ainit == 'random':
        A = array(rand(n, rank), dtype=dtype)
    elif ainit == 'nvecs':
        S = zeros((n, n), dtype=dtype)
        T = zeros((n, n), dtype=dtype)
        for i in range(k):
            T = X[i]
            S = S + T + T.T
        evals, A = eigh(S,eigvals=(n-rank,n-1))
    else :
        raise 'Unknown init option ("%s")' % ainit

    # initialize R
    if proj:
        Q, A2 = qr(A)
        X2 = __projectSlices(X, Q)
        R = __updateR(X2, A2, lmbda)
    else :
        R = __updateR(X, A, lmbda)

    # compute factorization
    fit = fitchange = fitold = f = 0
    exectimes = []
    ARAt = zeros((n,n), dtype=dtype)
    for iter in xrange(maxIter):
        tic = time.clock()
        fitold = fit
        A = __updateA(X, A, R, lmbda)
        if proj:
            Q, A2 = qr(A)
            X2 = __projectSlices(X, Q)
            R = __updateR(X2, A2, lmbda)
        else :
            R = __updateR(X, A, lmbda)

        # compute fit value
        f = lmbda*(norm(A)**2)
        for i in range(k):
            ARAt = dot(A, dot(R[i], A.T))
            f += normX[i] + norm(ARAt)**2 - 2*dot(Xflat[i], ARAt.flatten()) + lmbda*(R[i].flatten()**2).sum()
        f *= 0.5

        fit = 1 - f / sumNormX
        fitchange = abs(fitold - fit)

        toc = time.clock()
        exectimes.append( toc - tic )
        _log.debug('[%3d] fit: %.5f | delta: %7.1e | secs: %.5f' % (iter, 
            fit, fitchange, exectimes[-1]))
        if iter > 1 and fitchange < conv:
            break
    return A, R, f, iter+1, array(exectimes)

def __updateA(X, A, R, lmbda):
    n, rank = A.shape
    F = zeros((n, rank), dtype=X[0].dtype)
    E = zeros((rank, rank), dtype=X[0].dtype)

    AtA = dot(A.T,A)
    for i in range(len(X)):
        F += dot(X[i], dot(A, R[i].T)) + dot(X[i].T, dot(A, R[i]))
        E += dot(R[i], dot(AtA, R[i].T)) + dot(R[i].T, dot(AtA, R[i]))
    A = dot(F, inv(lmbda * eye(rank) + E))
    return A

def __updateR(X, A, lmbda):
    r = A.shape[1]
    R = []
    At = A.T    
    if lmbda == 0:
        ainv = dot(pinv(dot(At, A)), At)
        for i in range(len(X)):
            R.append( dot(ainv, dot(X[i], ainv.T)) )
    else :
        AtA = dot(At, A)
        tmp = inv(kron(AtA, AtA) + lmbda * eye(r**2))
        for i in range(len(X)):
            AtXA = dot(At, dot(X[i], A)) 
            R.append( dot(AtXA.flatten(), tmp).reshape(r, r) )
    return R

def __projectSlices(X, Q):
    q = Q.shape[1]
    X2 = []
    for i in range(len(X)):
        X2.append( dot(Q.T, dot(X[i], Q)) )
    return X2 
```

粘贴这么长的代码很无聊，但没有其他方法可以找出我的问题。我很抱歉这件事。

我根据作者的[网站](http://www.cip.ifi.lmu.de/~nickel/doc/rescal/index.html)导入这个模块并传递参数：

```
import pickle, sys
from rescal import rescal

rank = sys.argv[1]
X = pickle.load('us-presidents.pickle')
A, R, f, iter, exectimes = rescal(X, rank, lmbda=1.0) 
```

数据集 us-presidents.rdf 可以在[这里](http://www.cip.ifi.lmu.de/~nickel/)找到。

我的问题是：

1.  根据代码说明，张量 X 是一个列表。我不太明白这一点，如何将列表与 Python 中的张量相关联？我可以理解 Python 中的 tensor = list 吗？
2.  我应该先将 RDF 格式转换为三元组（主语、谓语、宾语）格式吗？我不确定 X 的数据结构。如何手动为 X 赋值？
3.  那么，如何运行呢？

未经作者授权粘贴代码，是否侵权？如果是这样，我很抱歉，我会尽快删除它。

这些问题可能有点无聊，但这些对我来说很重要。任何帮助将不胜感激。

[1] Maximilian Nickel, Volker Tresp, Hans-Peter Kriegel, A Three-Way Model for Collective Learning on Multi-Relational Data, 第 28 届机器学习国际会议论文集，2011 年，美国华盛顿州贝尔维尤

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:50:39.380

要回答问题 2：您需要先转换 RDF 并保存它，然后才能从文件“us-presidents.pickle”加载它。该代码的作者可能曾经这样做过，因为 Python 本机 pickle 格式加载速度更快。由于 pickle 格式包含数据的数据类型，因此可能`X`是一些 numpy 类实例，您需要此代码使用的示例 pickle 文件，或者一些执行 pickle.dump 的代码来确定如何从RDF 到这个特定的 pickle 文件，正如`rescal`预期的那样。

所以这可能会回答 Q1：张量由元素列表组成。从代码中您可以看到`X`要重新缩放的参数有一个长度 ( `k = len(X)`) 并且可以被索引 ( `T = X[i]`)。所以它的元素被用作一个列表（即使它可能是其他一些数据类型，也就是这样。

顺便说一句：如果您不熟悉 Python，并且只对计算结果感兴趣，您可能会获得更多帮助，请联系该软件的作者。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:54:50.323

> 1.  根据代码说明，张量 X 是一个列表。我不太明白这一点，如何将列表与 Python 中的张量相关联？我可以理解 Python 中的 tensor = list 吗？

不一定，但代码的作者已决定将张量数据表示为列表数据结构。如评论所示，列表 X 包含：

> 张量 X 的正面切片 X_k 的列表。每个 X_k 的形状为 ('N', 'N')

这意味着张量被表示为元组列表：`[(N, N), ..., (N, N)]`。

> 1.  我不确定 X 的数据结构。如何手动为 X 赋值？

现在我们有了 X 的数据结构，我们可以使用赋值给它赋值。下面将把元组分配给`(1, 3)`列表 X 中的第一个位置（因为第一个位置在索引 0 处，第二个在位置 1 处，等等）：

```
X[0] = (1, 3) 
```

同样，以下将元组分配`(2, 4)`到第二个位置：

```
X[1] = (2, 4) 
```

# scala - 使用助手获取列表中的最后一个元素

> ID：11113651
> 
> 赞同：0
> 
> 时间：2012-06-20T06:03:19.290
> 
> 标签：scala, playframework-2.0

我正在将一个列表传递给我的 scala 页面，并且我有一个表单，我想为列表中的最后一个元素设置一些默认值：如下所示：

```
System Name: <input type="text" id="systemSourceName" name="systemSourceName" value="@configs[@configs.size() - 1].systemSourceName" > 
```

但它会在第二个@ 处引发错误：

```
identifier expected but '@' found. 
```

有没有办法我可以做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-20T06:19:02.893

1.  使用圆括号，方括号用于类型参数
2.  不需要 second `@`，解析器知道他已经在 scala 表达式中。

[最好使用List](http://www.scala-lang.org/api/current/scala/collection/immutable/List.html)类的内置方法：

```
value="@configs.last.systemSourceName" 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T06:49:20.513

Scala 不通过 list[index] 而是通过 list(index) 访问列表元素。所以以下应该工作：

```
value="@configs(configs.size - 1).systemSourceName" 
```

一个更简单的解决方案是

```
value="@configs.last.systemSourceName" 
```

# android - 隐藏我的电话正在拨打的号码？

> ID：11113653
> 
> 赞同：2
> 
> 时间：2012-06-20T06:03:35.110
> 
> 标签：android, phone-call

> **可能重复：**
> [是否可以隐藏从应用程序调用的号码？](https://stackoverflow.com/questions/5969881/is-it-possible-to-hide-the-number-that-is-called-from-an-app)
> [呼叫时如何隐藏电话号码](https://stackoverflow.com/questions/10934562/ios-how-to-hide-phone-number-when-calling)
> [我可以以编程方式拨打匿名电话吗？](https://stackoverflow.com/questions/10526007/can-i-programmatically-place-an-anonymous-phone-call)

当我使用 android 拨打号码时，它会显示我正在拨打的人的号码或姓名，有没有办法从显示屏上隐藏该号码？换句话说，用户看不到正在拨打哪个号码？

# java - 跨 Web 方法 + java 的对象

> ID：11113654
> 
> 赞同：0
> 
> 时间：2012-06-20T06:03:36.343
> 
> 标签：java, web-services

我正在使用 Java Web 服务

```
@WebService()
public class myWebService {

    /**
     * Web service operation
     */
    MyClass Obj ;

    @WebMethod(operationName = "webmethod1")
    @Oneway
    public void webmethod1(@WebParam(name = "serailNo") String serailNo) {

        obj = new MyClass();
        //do some operations on obj;

    }

    /**
     * Web service operation
     */
    @WebMethod(operationName = "webmethod2")
    public void webmethod2() {

        //do some operations on obj after doing intial operations in web method1

    }
} 
```

我无法在 webmethod2 中访问 obj。它得到一个空指针异常。作为一个细节：我想创建一个对象。该对象应该可以通过所有 Web 方法访问。这样，webmethod1 将对 obj 进行初始操作，随后的 web method2 将使用相同的 obj。我怎样才能做到这一点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:08:32.087

如果您正在创建一个全新的对象，您可以做的是让您`webmethod1`返回它创建的任何对象，然后`webmethod2`将相同的对象作为参数。

另一种选择是`webmethod2`接受`serialNo`参数并检查`obj`变量是否不为空。如果是，它将`webmethod1`通过传递相同的序列号来调用它，并创建对象以便它可以处理一些事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:19:37.463

你得到一个空指针的原因是因为 web 服务不是有状态的，即在第二次调用期间对象不存在**。**可以创建有状态的网络服务，但这取决于网络服务的类型和运行它的服务器......

正如 npinti 提到的，您可以将对象与服务一起发送。尽管这可能不利，例如如果对象很大。

您可以在服务器上创建一个本地缓存，其中包含所有创建的对象，并使用序列号映射它们。

# asp.net - ASP.NET 在转发器中找不到控件

> ID：11113655
> 
> 赞同：1
> 
> 时间：2012-06-20T06:03:48.720
> 
> 标签：asp.net, repeater, findcontrol

中继器标记：

```
<asp:Repeater ID="Repeater_sorular" runat="server" OnItemCommand="Repeater_sorular_ItemCommand"
        OnItemDataBound="Repeater_sorular_ItemBound">
        <HeaderTemplate>
        </HeaderTemplate>
        <ItemTemplate>
            <table>
                <tr>
                    <td>
                        <rad:RadChart ID="RadChart1" runat="server" DefaultType="Pie" Width="700">
                            <PlotArea Appearance-FillStyle-FillType="Gradient" Appearance-FillStyle-MainColor="#D90420"
                                Appearance-FillStyle-SecondColor="#FFAD4A" Appearance-Border-Visible="false">
                                <EmptySeriesMessage>
                                    <TextBlock Text="Seçilen anket henüz oylanmamıştır.">
                                        <Appearance TextProperties-Font="Tahoma, 10pt, style=Bold">
                                        </Appearance>
                                    </TextBlock>
                                </EmptySeriesMessage>
                            </PlotArea>
                            <ChartTitle>
                                <TextBlock Appearance-TextProperties-Font="Tahoma">
                                </TextBlock>
                            </ChartTitle>
                            <Appearance ImageQuality="HighQuality" Border-Color="#DFDDDD" TextQuality="ClearTypeGridFit">
                            </Appearance>
                            <Series>
                                <rad:ChartSeries Type="Pie" Appearance-TextAppearance-TextProperties-Color="#FFFFFF"
                                    Appearance-TextAppearance-TextProperties-Font="Tahoma">
                                </rad:ChartSeries>
                            </Series>
                            <Legend Visible="True">
                                <TextBlock Visible="True">
                                </TextBlock>
                            </Legend>
                        </rad:RadChart>
                    </td>
                    <td>
                        <div style="font-weight: bolder; padding: 5px;">
                            <%#(((RepeaterItem)Container).ItemIndex+1).ToString() %>.
                            <%#Eval("Subject")%>
                        </div>
                        <asp:BulletedList ID="BulletedList_secenekler" runat="server" DataSource='<%#Eval("Secenekler")%>'
                            DataTextField="OptionName" DataValueField="OptionId" CssClass="sira_numarali">
                        </asp:BulletedList>
                    </td>
                </tr>
            </table>
        </ItemTemplate>
        <FooterTemplate>
        </FooterTemplate>
    </asp:Repeater> 
```

和中继器`ItemDataBoundEvent`：

```
protected void Repeater_sorular_ItemBound(object sender, RepeaterItemEventArgs e)
{
    RadChart RadChart1 = (RadChart)e.Item.FindControl("RadChart1");
    BulletedList bl = (BulletedList)e.Item.FindControl("BulletedList_secenekler");
} 
```

当我调试它控制返回null。我该如何解决。

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T06:10:21.477

为您拥有的每一行调用该方法，包括标题。第一行可能是空的，因为第一行是标题（它是空的）。为了解决它，您需要使用过滤方法

```
if(e.Item.ItemType == ListItemType.Item || e.Item.ItemType == ListItemType.AlternatingItem) {
    //your code 
} 
```

# ajax - 仅在 Opera 中：JSON.parse：未终止的字符串

> ID：11113663
> 
> 赞同：1
> 
> 时间：2012-06-20T06:04:31.247
> 
> 标签：ajax, json, string, parsing, opera

仅在 Opera 中，我在[访问 http://www.underfashion.nl/babys](http://www.underfashion.nl/babys)`"JSON.parse: Unterminated string"`时收到 该字符串确实未终止，不以 . 结尾。`"]}`

在其他浏览器（IE、FF、Chrome）中，它可以正常工作并接收整个字符串。

字符串很长：217529 个字符。这可能是问题吗？其他浏览器收到 220374 个以结尾的字符`"]}`

我尝试了 3 种 AJAXways 来获取数据，所有的字符串都与结果相同：第一个：

```
var value = (function () {
     var val = null;
    $.ajax({'async': false, 'global': false, 'url': uf_urlsearch,
         'success': function (data) { val = data;
alert("Data Loaded: " + data.slice(-100) + "<br/>Numofchars: " + data.length);
         }
     });
    return val;
 })(); 
```

第二：

```
$.get(uf_urlsearch, function(data){
alert("Data Loaded: " + data.slice(-100));
}); 
```

第三：

```
uf_XMLHttpProductlist.onreadystatechange=function(){
  if (uf_XMLHttpProductlist.readyState==4 && uf_XMLHttpProductlist.status==200){
//Get the returned menu-items in Responsetext, expected to look like this:
  ...
  };//if (uf_XMLHttp.readyState==4 && uf_XMLHttp.status==200){
};//uf_XMLHttp.onreadystatechange=function()

uf_urlsearch = "http://www.underfashion.nl/php/get_productlist.php?"+uf_PHPsearchstring;
uf_XMLHttpProductlist.open("GET",uf_urlsearch,true);
uf_XMLHttpProductlist.send();
}; 
```

有人看到任何解决方案吗？

此致，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T14:04:42.700

要检查网络活动，请转到 Opera 菜单 -> 工具 -> 高级 -> Opera Dragonfly。然后在地址栏中输入 URL。

在网络选项卡中，您可以看到资源列表。选择 XHR 按钮，您将看到 get_productlist.php 资源。值得一提的是，我对您的网站没有任何意见。HTTP 请求是：

```
GET /php/get_productlist.php?afdeling=babys HTTP/1.1 
User-Agent: Opera/9.80 (Macintosh; Intel Mac OS X 10.7.4; U; fr) Presto/2.10.289 Version/12.00
Host:   www.underfashion.nl
Accept-Language:    fr,en;q=0.9,en-US;q=0.8,ja;q=0.7,pt;q=0.6,de;q=0.5,zh-CN;q=0.4,es;q=0.3,it;q=0.2,nl;q=0.1,sv;q=0.1,nb;q=0.1,da;q=0.1,fi;q=0.1,zh-TW;q=0.1,ko;q=0.1,pl;q=0.1,pt-PT;q=0.1,ru;q=0.1,ar;q=0.1,cs;q=0.1,hu;q=0.1,tr;q=0.1,ca;q=0.1,el;q=0.1,he;q=0.1,hr;q=0.1,ro;q=0.1,sk;q=0.1,th;q=0.1,uk;q=0.1
Accept-Encoding:    gzip, deflate
Referer:    http://www.underfashion.nl/babys
Cookie: JSESSIONID=9ABC3B0357487E01298EBC7A02B5FDCD; __atuvc=1%7C25; __utma=137714676.906129982.1340200451.1340200451.1340200451.1; __utmb=137714676.1.10.1340200451; __utmc=137714676; __utmz=137714676.1340200451.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); __utmv=
Connection: Keep-Alive
X-Requested-With:   XMLHttpRequest
Accept: */* 
```

现在 HTTP 响应很有趣：

```
HTTP/1.1 200 OK 
Date:   Wed, 20 Jun 2012 13:54:11 GMT
Server: Apache/2.2.14 (Ubuntu)
X-Powered-By:   PHP/5.3.2-1ubuntu4.15
Vary:   Accept-Encoding
Content-Encoding:   gzip
Content-Length: 11469
Keep-Alive: timeout=15, max=100
Connection: Keep-Alive
Content-Type:   text/html 
```

然后是json内容。你看到上面的 HTTP 响应有什么问题了吗？对。

```
Content-Type: text/html 
```

JSON 的 mime 类型在[RFC 4627](https://www.rfc-editor.org/rfc/rfc4627)中定义。请使用 JSON 内容发送以下 mime 类型。

```
Content-Type: application/json 
```

那就是说您在某些特定的 URI 上仍然存在问题（我没有）。能分享一下是哪一个吗？

# php - php通过没有curl的代理

> ID：11113664
> 
> 赞同：0
> 
> 时间：2012-06-20T06:04:33.690
> 
> 标签：php

如何通过 localhost:8888 代理连接 php 以便 fiddler 可以调试 php 网络流量？在不使用 curl 库的情况下如何做到这一点？使用 fsockopen 代替。与 fwrite 和 fread 一起使用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T19:13:20.830

```
$o = array(
    'http'=> array(
        'method'=>"GET",
        'header'=>"User-Agent: ...\r\n".
        "Accept-Language: en-US,en;q=0.8\r\n",
        'proxy' => 'localhost:8888')
  );            

$x = stream_context_create($o);

$file = file_get_contents('http://www.....com',false,$x); 
```

# algorithm - 有人可以用简单的英语向我解释 Daniel Page 的 Restricted Weak Composition 算法吗？

> ID：11113672
> 
> 赞同：4
> 
> 时间：2012-06-20T06:05:08.553
> 
> 标签：algorithm, combinatorics

我一直在尝试理解 Daniel Page [生成受限弱构图](http://drpage.pagewizardgames.com/handout_gmrwce_danielpage_mar6.pdf)的算法。但是，我完全无法理解。有人可以用更简单的术语解释吗？我没有理论数学背景。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T16:30:07.453

您可以在[http://www.springerlink.com/content/w31081rw26p610t1/?MUD=MP找到我的论文，或者在](http://www.springerlink.com/content/w31081rw26p610t1/?MUD=MP)[http://drpage.pagewizardgames.com/daniel_r_page_GAfRWCG.pdf](http://drpage.pagewizardgames.com/daniel_r_page_GAfRWCG.pdf)找到我接受的版本（请引用最终版本，不是公认的版本）如果您对算法有任何疑问。这是关于该算法的论文。

# css - 第一次在 IE 中页面加载空白，重新加载时正确呈现

> ID：11113691
> 
> 赞同：1
> 
> 时间：2012-06-20T06:06:52.707
> 
> 标签：css, html, responsive-design

在我的网站中，我使用响应式设计并根据浏览器大小加载不同的样式表。我在 IE8 中遇到了一个奇怪的问题。当页面第一次加载时，它加载为空白。当我们点击刷新页面加载。

这是页面，[https://www.planningsimple.com](https://www.planningsimple.com)。开发人员工具中没有显示脚本错误。谁能帮我弄清楚发生了什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:14:49.780

以下是您页面中的错误。核实。

```
Message: Syntax error
Line: 1
Char: 1
Code: 0
URI: https://maps.gstatic.com/intl/en_us/mapfiles/api-3/9/4/main.js

Message: Syntax error
Line: 1
Char: 1
Code: 0
URI: https://maps.gstatic.com/cat_js/intl/en_us/mapfiles/api-3/9/4/%7Bmain,places%7D.js 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-22T17:20:58.297

我将响应式布局的脚本源放在页面顶部的样式表之前。我猜这与浏览器没有正确下载此脚本有关，因此不确定要加载哪个样式表。

# c# - 如何通过区分项目来计算一个特定列的总数？

> ID：11113695
> 
> 赞同：0
> 
> 时间：2012-06-20T06:07:13.530
> 
> 标签：c#, .net, winforms, ado.net, datagridview

我有一个`DataGridView`，包含项目、描述、数量、费率和总计列。我有两种类型的项目，一个项目有 vapasi == 是（vapasi 是一种存款金额），另一个项目有 vapasi == 否。我想通过区分项目与 vapasi & 来计算“总”列的总和没有 vapasi 的项目，&想要将这个计算的总数显示到两个相应的文本框中，即 'txtboxwithvapasi'，n 'txtboxwithoutvapasi'，它们在网格之后。我做了以下代码：

```
private void grdPurchase_CellEndEdit_1(object sender, DataGridViewCellEventArgs e)
{
    try
    {
        try
        {
            string value = grdPurchase.Rows[e.RowIndex].Cells[e.ColumnIndex].Value.ToString();
            if (e.ColumnIndex == 2)
            {
                int val = int.Parse(value);
                quantity = val;
            }
            if (e.ColumnIndex == 4)
            {
                float val = float.Parse(value);
                total = val;

                if (vapasi1 == "Yes")
                {
                    vtot += total; //vtot=0+10

                    txt_forvapasitotal.Text = vtot.ToString(); //10
                    float vapsitot =float.Parse(txt_forvapasitotal.Text);
                    float vapsicalculate = (vapsitot * a);
                    float tax = vapsicalculate / 100;
                    float with_vapasi = vtot + tax;
                    txt_withvapasi.Text =Convert.ToString(with_vapasi);
                }
                else
                {
                    nvtot = 0;

                    for (int i = 0; i < grdPurchase.Rows.Count; i++)
                    {
                        if (vapasi1 == "No")
                        {
                            if (grdPurchase.Rows[e.RowIndex].Cells[3].Selected == true)
                            {
                                nvtot += float.Parse(grdPurchase[4, i].EditedFormattedValue.ToString());
                                txt_withoutvapasitot.Text = nvtot.ToString();
                            }
                        }
                    }
                }
              txt_vapasiincludedtot.Text =(float.Parse(txt_withvapasi.Text) +float.Parse(txt_withoutvapasitot.Text)).ToString();
          }
          if (e.ColumnIndex == 1)
          {
              int val = int.Parse(value);
              materialid = val;
              string vapasi = "Select material_vapasi from tbl_material_master where active_flag=1 AND material_id =" + materialid + "";
              SqlCommand cmd = new SqlCommand(vapasi, con);
              sdr = cmd.ExecuteReader();
              if (sdr.HasRows)
              {
                  while (sdr.Read())
                  {
                      vapasi1 = sdr["material_vapasi"].ToString();
                  }
              }
           }
        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.Message.ToString());
        }
        grdPurchase.Columns[3].ReadOnly = false;
    }
    catch (Exception ex)
    {
        MessageBox.Show(ex.Message.ToString());
    }
} 
```

问题是：-当我在第一行选择带有 vapasi 的项目和在第二行没有 vapasi 的项目时，它工作正常。但是如果我在第三行选择任何项目，那么它在 'txtboxwithoutvapasi' 中的所有三个项目的总和没有区分项目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T08:04:41.603

您需要跟踪网格中每一行的**vapasi**是“是”还是“否”，但您使用的是单个变量。您不能将此列添加到网格中（如果您不想将其显示给用户，则作为隐藏列）？然后，每当您需要计算总数时，您只需遍历网格行并检查**vapasi 列**而不是**vapasi1 变量**。

# windows-phone-7 - 无法检测 Windows Phone 中的主题更改

> ID：11113698
> 
> 赞同：0
> 
> 时间：2012-06-20T06:07:25.603
> 
> 标签：windows-phone-7, windows-phone-7.1

我正在使用提供的默认主题资源创建一个 Windows Phone 应用程序。

我面临主题更改的问题，当我将主题从浅色更改为深色时，反之亦然，我的应用程序中不会立即看到更改。我没有使用任何自定义颜色。但是，如果我关闭我的应用程序并重新启动，则会应用主题更改。

有人可以帮助我，看看我是否做错了什么？任何帮助将不胜感激
Thanx 提前

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T11:35:45.730

这是设计使然。

主题设置是在应用程序首次启动时设置的。
在停用/墓碑状态下，预计不会响应在系统级别所做的更改。

实际上，我只在测试期间看到过这一点。人们不会经常改变他们的主题和强调色。

# android - 在android中将微调器和其他文本值插入sqlite数据库时出现空指针异常？

> ID：11113700
> 
> 赞同：1
> 
> 时间：2012-06-20T06:07:38.570
> 
> 标签：android, database, sqlite, nullpointerexception

主要活动：

```
private Button btnSubmit;
private DataSource mDataSource;
private Context mContext;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    final EditText first_name = (EditText) findViewById(R.id.first_name);
    final Spinner relation = (Spinner) findViewById(R.id.relation);
    final EditText address = (EditText) findViewById(R.id.address);
    Button  mSubmitButton = (Button) findViewById(R.id.btnSubmit);
    relation.setOnItemSelectedListener(new CustomOnItemSelectedListener());
    mSubmitButton.setOnClickListener(new View.OnClickListener() {

           @Override
           public void onClick(View v) {
                 String fName = first_name.getText().toString();
                 String re_lation = (String) relation.getSelectedItem(); 
                 String add_ress = address.getText().toString();
                 if ((fName.length() <=0) || (re_lation.length()<=0) || (add_ress.length()<=0)) {
                        Toast.makeText(MyAndroidAppActivity.this, "please fill the data", Toast.LENGTH_SHORT).show();
                 } else{
                        Log.i("name",fName);
                        Log.i("rel",re_lation);
                        Log.i("e",add_ress);
                        mDataSource.addUser(fName, re_lation, add_ress);

                 }
           }
     });
} 
```

数据源.java

```
private SQLiteDatabase mSQLiteDatabase;
private MySQLiteHelper mSQLiteHelper;
private String[] mAllColumns = {
      MySQLiteHelper.COLUMN_ID, MySQLiteHelper.COLUMN_FIRST_NAME, MySQLiteHelper.COLUMN_RELATION, MySQLiteHelper.COLUMN_ADDRESS
};

public DataSource (Context context){
      mSQLiteHelper = new MySQLiteHelper(context);
}

public void open() throws SQLiteException {
      mSQLiteDatabase = mSQLiteHelper.getWritableDatabase();
}

public void close() {
      mSQLiteHelper.close();
}

public void addUser(String first_name, String relation, String address){
      ContentValues values = new ContentValues();
      Log.i("name",first_name);
      values.put(MySQLiteHelper.COLUMN_FIRST_NAME, first_name);
      values.put(MySQLiteHelper.COLUMN_RELATION, relation);
      values.put(MySQLiteHelper.COLUMN_ADDRESS, address);
      mSQLiteDatabase.insert(MySQLiteHelper.TABLE_USERS, null, values);
      //Cursor cursor = mSQLiteDatabase.query(MySQLiteHelper.TABLE_USERS, allcolumns, selection, selectionArgs, groupBy, having, orderBy)
} 
```

MySQLiteHelper.java

```
public class MySQLiteHelper extends SQLiteOpenHelper {
        public static final String TABLE_USERS = "users";
        public static final String COLUMN_ID = "_id";
        public static final String COLUMN_FIRST_NAME = "first_name";
        public static final String COLUMN_RELATION = "relation";
        public static final String COLUMN_ADDRESS = "address";

        private static final String DATABASE_NAME = "users.db";
        private static final int DATABASE_VERSION = 1;

        // Database creation sql statement
        private static final String DATABASE_CREATE = "create table "
                + TABLE_USERS + "( " + COLUMN_ID
                + " integer primary key autoincrement, " + COLUMN_FIRST_NAME
                + " text not null," + COLUMN_RELATION + " text not null," +
                COLUMN_ADDRESS + " text not null);";

        public MySQLiteHelper(Context context) {
            super(context, DATABASE_NAME, null, DATABASE_VERSION);
        }

        @Override
        public void onCreate(SQLiteDatabase db) {
            db.execSQL(DATABASE_CREATE);

        }

        @Override
        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
            db.execSQL("DROP TABLE IF EXISTS "+TABLE_USERS);
            onCreate(db);

        }
} 
```

错误日志：

```
06-20 11:26:02.043: E/AndroidRuntime(342): FATAL EXCEPTION: main
06-20 11:26:02.043: E/AndroidRuntime(342): java.lang.NullPointerException
06-20 11:26:02.043: E/AndroidRuntime(342):  at com.mkyong.android.MyAndroidAppActivity$1.onClick(MyAndroidAppActivity.java:62)
06-20 11:26:02.043: E/AndroidRuntime(342):  at android.view.View.performClick(View.java:2485)
06-20 11:26:02.043: E/AndroidRuntime(342):  at android.view.View$PerformClick.run(View.java:9080)
06-20 11:26:02.043: E/AndroidRuntime(342):  at android.os.Handler.handleCallback(Handler.java:587)
06-20 11:26:02.043: E/AndroidRuntime(342):  at android.os.Handler.dispatchMessage(Handler.java:92)
06-20 11:26:02.043: E/AndroidRuntime(342):  at android.os.Looper.loop(Looper.java:123)
06-20 11:26:02.043: E/AndroidRuntime(342):  at android.app.ActivityThread.main(ActivityThread.java:3683)
06-20 11:26:02.043: E/AndroidRuntime(342):  at java.lang.reflect.Method.invokeNative(Native Method)
06-20 11:26:02.043: E/AndroidRuntime(342):  at java.lang.reflect.Method.invoke(Method.java:507)
06-20 11:26:02.043: E/AndroidRuntime(342):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
06-20 11:26:02.043: E/AndroidRuntime(342):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597) 
```

在这里，在错误行中，我在 sqlite 数据库中插入微调器和其他文本值时出现空指针异常 `mDataSource.addUser(fName, re_lation, add_ress);`

我得到了三个值。但是这里没有创建数据库。我指出了错误行，并且在将值提交到数据库时，它抛出了空指针异常。我的程序中的错误是什么。有人可以告诉我吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:14:10.707

`mDataSource`尚未初始化

你应该在你的`onCreate()`回调中初始化它

```
protected void onCreate(Bundle savedInstanceState)
{

setContentView(R.layout.layout);
mDataSource = new DataSource(getBaseContext());

// ... The Rest of your code
} 
```

并且在您的数据源的构造函数调用中还有 open() 方法

```
public DataSource (Context context){

mSQLiteHelper = new MySQLiteHelper(context);
open();
}

public void open() throws SQLiteException {
        mSQLiteDatabase = mSQLiteHelper.getWritableDatabase();
} 
```

# android - 首选项屏幕中的文本大小问题

> ID：11113701
> 
> 赞同：3
> 
> 时间：2012-06-20T06:07:52.513
> 
> 标签：android, android-layout

我正在编写一个用于启动首选项屏幕的应用程序。第一项只是一个偏好。第二项是右侧带有图标的首选项。为了做第二个项目，我所做的是调用具有文本视图和图像视图的布局。

```
 <Preference
    android:key="advanced_settings"
    android:persistent="false"
    android:layout="@layout/main" 
```

主要布局是：

```
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
   android:layout_width="fill_parent"
   android:layout_height="fill_parent"
   android:orientation="vertical" >

<TextView
android:id="@+id/textView1"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_centerVertical="true"
android:text="Advanced settings" 
/>

<ImageView android:id="@+id/imageview1"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_alignParentRight="true"
android:layout_centerVertical="true"
android:src="@drawable/ic_bt_config"
/>

</RelativeLayout> 
```

但是启动应用后发现文字显示是文字尺寸小，空间与其他空间不兼容。我不想硬编码任何东西。

请帮助我如何使首选项屏幕的第二项与第一项的格式相同。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T09:42:20.437

您可以使用

```
 android:textAppearance="?android:attr/textAppearanceLarge" 
```

这样我就会看起来像首选项的文本

# c++ - 如何统计一个模板类的 CRTP 子类数量？

> ID：11113702
> 
> 赞同：6
> 
> 时间：2012-06-20T06:08:00.220
> 
> 标签：c++, counter, template-meta-programming, crtp, subclass

有谁知道使用 CRTP 计算对象子类数量的方法？

假设我们有一个类似于以下的设置：

```
template <typename T>    
class Object
{
    ....  
};

const unsigned int ObjectSubClassCount = ...; 

class Subobject : public Object<SubObject>
{
    ....
};

class Second : public Object<Second>
{
    ....
}; 
```

等等，这样，使用 TMP，我们可能有一个常数 ( `ObjectSubClassCount`) 来表示子类的总数？

有谁知道这样做的方法？

编辑：我想稍后将结果用作模板参数，所以我需要使用 TMP 来完成...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:59:14.787

以后不需要将结果用作模板参数，我会尝试这样做：

```
// Class which increments a given counter at instanciation
struct Increment {
  Increment(std::size_t& counter)
  {
    counter++;
  }
};

// This is your template base
template <typename T>    
class Object
{
  private:
    // For every instanciation of the template (which is done for a subclass)
    // the class counter should get incremented
    static Increment incrementCounter;
};

// This is the global object counter
static std::size_t classCounter;

// Static Member Variable
template<typename T>
Object<T>::incrementCounter(classCounter); 
```

没试过，但应该可以。要再次将结果用作模板参数（MPL），我在 MPL 方面没有足够的经验，但我怀疑这是可能的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T08:16:54.143

好的，所以我找到了一个……可以接受的答案。我认为如果子类完全不了解彼此（我的意思是，我们正在谈论一些函数式编程......），那将不会奏效。

这是一个解决方案。这绝对不是我想要的解决方案；然而，这是一个开始。我已经强制所有对象使用一种 CRTP 形式，但更多的是使用链表格式。这样，我们的子类必须派生自一个 Object<> 模板：

A：自身和 B：最近定义的子类

这是我的代码（我`<type_traits>`曾经使用过一个模板，只是一个注释）

```
template <typename T>   //SFINAE check for the existance of subclasscount static member
struct has_subclasscount
{

    template <typename U>
    static typename std::enable_if<sizeof(U::subclasscount) != 0, int>::type test(int);

    template <typename U>
    static char test(...);

    static const bool result = (sizeof(test<T>(0)) == sizeof(int))?(true):(false);
};

template <bool res, typename T>
struct return_subclasscount //the value to return is 0 if false
{
    static const int result = 0;
};

template <typename T>       
struct return_subclasscount<true, T>    //returns subclasscount only if the first parameter is true
{
    static const int result = T::subclasscount;
};

template <typename T>               //combines return_subclasscount and has_subclasscount
struct get_subclasscount
{
    static const int result = return_subclasscount<has_subclasscount<T>::result, T>::result;
};

template <typename This, typename Prev>
class Object
{
public:

    static const int subclasscount = 1 + get_subclasscount<Prev>::result;   //the subclass count
};

class sub1 : public Object<sub1, int>
{

};

class sub2 : public Object<sub2, sub1>
{

};

class sub3 : public Object<sub3, sub2>
{

}; 
```

最后 3 个空类是我们计算的子类。这是我们的头文件。在我们的主 .cpp 文件中，我们有：

```
int main() {

std::cout << sub3::subclasscount;

char c;
std::cin >> c;
} 
```

运行它，我们得到一个简单的输出：

> 3

这证实了它已经奏效。现在，这个解决方案的一些缺点是：

*   在添加之前，我们必须知道我们最后定义的子类是什么。
*   我们必须跟上我们使用子类计数器的任何地方，始终将其修改为来自列表中的最后一个子类（这可以通过使用一致的“endoflist”子类来避免，这需要维护）

不过，好处包括我们不需要维护我们之前定义的任何子类。但是，我认为这个答案更多的是“起点”而不是“最终解决方案”；也许可以扩展的东西？

（此外，这很容易被滥用来形成一种树结构，其中`subclasscount`实际上表示树中任何给定节点的深度）

有人从这里有什么想法吗？

# javascript - jw播放器控制栏在鼠标悬停时隐藏和显示

> ID：11113703
> 
> 赞同：0
> 
> 时间：2012-06-20T06:08:08.820
> 
> 标签：javascript, jwplayer

我正在使用 jw 播放器。如果鼠标悬停的客户端要求显示控制栏，否则一直隐藏控制器..请建议我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:14:32.257

设置 controlbar.idlehide=true 和 controlbar=over：

controlbar.idlehide ( false ) 如果 controlbar.position 设置为 over，此选项确定当播放器暂停或停止时控制栏是否保持隐藏。

更正的播放器代码（工作演示：http: [//jsfiddle.net/epinapala/8nHKt/](http://jsfiddle.net/epinapala/8nHKt/)）：

```
<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000' width='470' height='320' id='single1' name='single1'>
<param name='movie' value='http://player.longtailvideo.com/player.swf'>
<param name='allowfullscreen' value='true'>
<param name='allowscriptaccess' value='always'>
<param name='wmode' value='transparent'>
<param name='flashvars' value='image=http://content.longtailvideo.com/videos/flvplayer.jpg&file=http://content.longtailvideo.com/videos/flvplayer.flv&controlbar.idlehide=true&controlbar=over&duration=34&fullscreen=true&stretching=fill'>
<embed
  id='single2'
  name='single2'
  src='http://player.longtailvideo.com/player.swf'
  width='470'
  height='320'
  bgcolor='#000000'
  allowscriptaccess='always'
  allowfullscreen='true'
  flashvars='image=http://content.longtailvideo.com/videos/flvplayer.jpg&file=http://content.longtailvideo.com/videos/flvplayer.flv&controlbar.idlehide=true&controlbar=over&duration=34&fullscreen=true&stretching=fill'
/>
</object> 
```

# c++ - 从 python 运行 c++ 代码

> ID：11113704
> 
> 赞同：11
> 
> 时间：2012-06-20T06:08:15.823
> 
> 标签：c++, python, ctypes, cython, boost-python

我想执行一个代码 helloword.cpp，它接受来自控制台的一些参数解析这些参数，然后在控制台中打印“hello world”。

现在，我想从 python 脚本 parsearguments.py 解析这些参数

例如：

```
def parse_arguments:
  ...# some code
  return arguments 
```

现在，我如何在 python 和 c++ 之间进行通信。我一直在阅读并看到 cython、boost python 是选项，但我很难找到正确的简单 hello world 示例。

任何建议将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-20T06:20:07.963

要在 python 中执行 C++ 代码，你可以有效地使用 boost python，这里有一个教程： http: [//www.boost.org/doc/libs/1_59_0/libs/python/doc/index.html](http://www.boost.org/doc/libs/1_59_0/libs/python/doc/index.html) 你写了一种包装器在 C++ 代码之外。

如果是 C 代码，python 有一个名为 ctypes 的内部库。

在这两种情况下，您都应该将 C/C++ 代码编译到共享库中。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-20T06:19:52.457

将使用 Python 生成的任何文本传递到 C++ 程序的标准输入中怎么样？基本上，您必须使用 Python 的`subprocess`模块来启动 C++ 程序并将文本转储到其标准输出中。

如果您的 C++ 程序需要在后台单独运行，您可以尝试另一种形式的进程间通信，例如 unix 域套接字。

使用 boost::python 也是一种选择，但处理起来可能有点困难。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-20T06:50:25.333

除了 Boost.python 之外的其他几个选项是 SIP 和 SWIG（简化的包装器和接口生成器）。与 Boost 一样，SIP 和 SWIG 也是开源的。

SWIG 特别强大，但也有点毛骨悚然。它支持将 C 和 C++ 与大量其他语言连接，包括（不是完整列表）Python、Perl、Lua、Tcl/Tk、Ocaml、Ruby、Java。SWIG 的一个方面是它解析您的 C++ 标头。这有好处也有陷阱。一个好处是它完成了生成接口的大部分工作。一个缺点是它不能处理 C++ 2003 的一些黑暗角落，而且它根本没有升级到 C++11。另一个缺点是大型项目的编译变得很慢。非常非常慢。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-20T06:20:30.193

使用 boost.python 听起来对我来说是一个很好的解决方案。但根据您的 C++ 经验，这可能会非常棘手。一个好的开始点在这里：

[http://wiki.python.org/moin/boost.python](http://wiki.python.org/moin/boost.python)

Boost.Python 使您能够将 C++ 类和成员函数导出到 Python，以便能够从那里使用它们。

# objective-c - RubyMotion 和 SpriteSheet

> ID：11113705
> 
> 赞同：1
> 
> 时间：2012-06-20T06:08:28.487
> 
> 标签：objective-c, ios, uiview, rubymotion

我有一个精灵表，并想在 Rubymotion 中使用 UIImage 来使用它。

任何人都可以提供有关如何从 spritesheet 显示图像的示例代码？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-21T21:23:28.627

最近有一个名为“motion-sprites”的 Rubymotion gem，参见[http://jjuliano.github.com/motion-sprites/](http://jjuliano.github.com/motion-sprites/)

# javascript - 隐藏除选定的所有 LI

> ID：11113707
> 
> 赞同：2
> 
> 时间：2012-06-20T06:08:33.503
> 
> 标签：javascript, jquery, html-lists

除了我选择的 LI，我想隐藏某个 UL 中的所有其他 LI。

```
<ul>
  <li><div></div></li>
  <li><div></div></li>
</ul>
<ul>
  <li><div></div></li>     -- HIDE
  <li><div></div></li>     -- SELECT
  <li><div></div></li>     -- HIDE
</ul>
<ul>
  <li><div></div></li>
  <li><div></div></li>
</ul> 
```

我怎样才能以最好的方式解决这个问题？

我试过使用索引，但在让它工作和选择正确的 UL 时遇到了一些问题。如您所见，我没有关于 UL 或 LI 的课程，所以我认为唯一的选择是 LI。

我真正做的是在 LI 中选择一个 div，因此，我通过以下方式获取所选 LI 的索引：

```
var li_index = $(this).parent().index(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:12:54.170

尝试过这样的事情吗？

```
$(this).closest('ul').find('li').not(this).hide(); 
```

或者

```
$('li', $(this).closest('ul')).not(this).hide(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T06:23:40.620

您从单击的 div 向上遍历 DOM，然后使用`.not($(this).parent()).toggle()`-> Not the`li`隐藏其他元素`div`

```
$('div').click(function () {
    $(this).closest('ul').find('li').not($(this).parent()).toggle();
}); 
```

`.toggle()``.hide()`如果您不希望用户能够撤销他们的决定，则可以替换为。

JS 小提琴：http: [//jsfiddle.net/tDmy3/2/](http://jsfiddle.net/tDmy3/2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:13:03.330

获取包含所有相关`<li>`元素的 jQuery 元素集，然后删除所选元素。例如：

```
$('ul#mylist li').not(selector).hide(); 
```

从[JQuery 文档](http://api.jquery.com/not/)：

> 给定一个表示一组 DOM 元素的 jQuery 对象，.not() 方法从匹配元素的子集构造一个新的 jQuery 对象。提供的选择器针对每个元素进行测试；与选择器不匹配的元素将包含在结果中。

如果你有一个对它的引用，你也可以给元素对象本身而不是选择器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T06:21:24.410

这应该有效：

```
$( 'ul li' ).click( function( e ) {
        // by default, hide all li's
    $( 'ul li' ).hide();
        // show only the selected li
    $( this ).show();
}); 
```

[http://jsfiddle.net/BqKun/](http://jsfiddle.net/BqKun/)

希望这可以帮助。

# ejb-3.0 - 从客户端调用部署在 jboss 5.x 上的会话 Bean

> ID：11113708
> 
> 赞同：0
> 
> 时间：2012-06-20T06:08:33.723
> 
> 标签：ejb-3.0, client-side, jboss5.x

我在 Linux 上使用 JDK 1.6 运行 JBoss 5.1 GA 并尝试调用会话 bean（包含此会话 bean 的 jar 部署在 jboss 服务器上），现在我想从客户端调用此会话 bean，但没有工作。

客户端的 Java 代码

```
public class CallingJbossSessionBeanFromClient {

/**
 * @param args
 * @throws Exception 
 */
public static void main(String[] args) throws Exception 
{
    Properties p = new Properties();
    p.put(Context.INITIAL_CONTEXT_FACTORY, "org.jnp.interfaces.NamingContextFactory");
    p.put(Context.URL_PKG_PREFIXES, "org.jboss.naming:org.jnp.interfaces");
    p.put(Context.PROVIDER_URL, "jnp://182.158.93.41:8080");
    Context context = new InitialContext(p);
    System.out.println("Successfully Lookup and going to call SessionBean Function deployed on JBoss-5.1.0 Server");
    SlsSessiongRemote remote=(SlsSessionRemote) context.lookup("SlsSessionBean/remote");
//SlsSessionBean/remote is RemoteBinding of session Bean
    System.out.println("Called");
}
} 
```

其中“SlsSessionBean/remote”是部署在 jboss 服务器上的会话 bean 的远程绑定。@Stateless @RemoteBinding(jndiBinding="SlsSessionBean/remote")

但最终出现以下错误

```
Exception in thread "main" javax.naming.NoInitialContextException: Cannot instantiate class: org.jnp.interfaces.NamingContextFactory [Root exception is java.lang.ClassNotFoundException: org.jnp.interfaces.NamingContextFactory]
at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:657)
at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:288)
at javax.naming.InitialContext.init(InitialContext.java:223)
at javax.naming.InitialContext.<init>(InitialContext.java:197)
at CallingJbossSessionBeanFromClient.main(CallingJbossSessionBeanFromClient.java:20)
     Caused by: java.lang.ClassNotFoundException: org.jnp.interfaces.NamingContextFactory
at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
at java.lang.ClassLoader.loadClass(ClassLoader.java:303)
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
at java.lang.ClassLoader.loadClass(ClassLoader.java:248)
at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:316)
at java.lang.Class.forName0(Native Method)
at java.lang.Class.forName(Class.java:247)
at com.sun.naming.internal.VersionHelper12.loadClass(VersionHelper12.java:46)
at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:654)
... 4 more 
```

看到上述错误后，我在“CallingJbossSessionBeanFromClient”类的类路径中添加了 jbossjmx-ant.jar 并得到以下错误

```
Exception in thread "main" java.lang.NoClassDefFoundError: org/jboss/logging/Logger
at org.jnp.interfaces.NamingContext.<clinit>(NamingContext.java:181)
at org.jnp.interfaces.NamingContextFactory.getInitialContext(NamingContextFactory.java:55)
at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:667)
at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:288)
at javax.naming.InitialContext.init(InitialContext.java:223)
at javax.naming.InitialContext.<init>(InitialContext.java:197)
at CallingJbossSessionBeanFromClient.main(CallingJbossSessionBeanFromClient.java:20)
    Caused by: java.lang.ClassNotFoundException: org.jboss.logging.Logger
at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
at java.lang.ClassLoader.loadClass(ClassLoader.java:303)
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
at java.lang.ClassLoader.loadClass(ClassLoader.java:248)
at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:316)
... 7 more 
```

看到上述错误后，我在“CallingJbossSessionBeanFromClient”类的类路径中添加了 jboss-logging-spi.jar 并得到以下错误

```
Exception in thread "main" javax.naming.CommunicationException: Could not obtain connection to any of these urls: 182.158.93.41:8080 and discovery failed with error: javax.naming.CommunicationException: Receive timed out [Root exception is java.net.SocketTimeoutException: Receive timed out] [Root exception is javax.naming.CommunicationException: Failed to retrieve stub from server /182.158.93.41:8080 [Root exception is java.io.EOFException]]
at org.jnp.interfaces.NamingContext.checkRef(NamingContext.java:1763)
at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:693)
at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:686)
at javax.naming.InitialContext.lookup(InitialContext.java:392)
at CallingJbossSessionBeanFromClient.main(CallingJbossSessionBeanFromClient.java:22)
       Caused by: javax.naming.CommunicationException: Failed to retrieve stub from server /182.158.93.41:8080 [Root exception is java.io.EOFException]
at org.jnp.interfaces.NamingContext.getServer(NamingContext.java:327)
at org.jnp.interfaces.NamingContext.checkRef(NamingContext.java:1734)
... 4 more
    Caused by: java.io.EOFException
at java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2281)
at java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:2750)
at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:780)
at java.io.ObjectInputStream.<init>(ObjectInputStream.java:280)
at org.jnp.interfaces.NamingContext.getServer(NamingContext.java:312)
... 5 more 
```

请告诉我，我是否以正确的方式从客户端 Java 类调用会话 bean？我花了几个小时在谷歌上寻找解决方案。但是我似乎找不到任何能握住手的东西..试着更清楚一点，我在这个问题上缺乏想法，即使这听起来像是一个经典的 Plz 建议解决方案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-21T05:00:21.703

这个问题的解决方法是打开JMX-Console，点击service=Naming，查看Naming服务的MBean视图。检查使用的端口是否仍然是1099.....将URL更改为jnp://182.158.93.41:1299，客户端可以与EJB通信。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T09:56:55.250

如果您在 JBoss AS 5.x 上运行 这里是基于 RMI 的 JNDI 描述。

RMI-Port：默认 -1099 / 如果动态端口更改为 ports-01 则端口为 1199

现在，剩下的事情都OK了，修改下面的代码

```
Properties p = new Properties();
p.put(Context.INITIAL_CONTEXT_FACTORY, "org.jnp.interfaces.NamingContextFactory");
p.put(Context.URL_PKG_PREFIXES, "org.jboss.naming:org.jnp.interfaces");
p.put(Context.PROVIDER_URL, "jnp://182.158.93.41:1199"); 
```

另一点是访问的情况

SlsSessiongRemote remote=(SlsSessionRemote) context.lookup("SlsSessionBean/remote"); 如果 - @Stateless(name="SlsSessionBean")

然后是远程 JNDI- [SlsSessionBean/remote] 和本地 JNDI - [SlsSessionBean/local]

如果 - @Stateless(name="SlsSessionBean", mappedName="SlsSessionBeanGlobal")

然后是远程 JNDI- [SlsSessionBeanGlobal] 和本地 JNDI - [SlsSessionBean/local]

# parsing - xls2csv：错误的日期单元格解析

> ID：11113713
> 
> 赞同：7
> 
> 时间：2012-06-20T06:08:56.543
> 
> 标签：parsing, xls

我使用命令行选项 -f %Y-%m-%d 甚至 %d-%b-%y 格式化日期

但是每个日期都比我输入的日期提前了四年零一天

例如，`01.06.2012`在没有 -f 选项的情况下解析后的日期与`2016-06-02` 玩弄 -f 给出相同的结果

是什么原因？是否有任何解决方法，除了硬编码和减去这 4 年零 1 天？

我正在使用 xls2csv（由 VBWagner 提供，在 debian 中附带 catdoc 包），切换到另一个解析器可能是非常昂贵的选择

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T17:26:43.793

Tools **xls2csv**是一个使用`Spreadsheet::ParseExcel`库的 Perl 应用程序。

基于此类库[文档](http://search.cpan.org/~jmcnamara/Spreadsheet-ParseExcel-0.59/lib/Spreadsheet/ParseExcel.pm#KNOWN_PROBLEMS)，**已知问题**之一是：

*   **如果**Excel 具有指定**格式等于**短日期区域设置的系统默认值的日期字段，则**Excel 不存储 format**，而是默认为系统相关的内部格式。在这些情况下，ParseExcel 使用日期格式“yyyy-mm-dd”。

因此，由于上述问题，您可能使用不包含日期格式的 Excel 文件进行操作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-25T15:06:04.807

这是一个已知的错误。补丁可在 [https://www.wagner.pp.ru/cgi-bin/cvstrac/catdoc/tktview?tn=14,4](https://www.wagner.pp.ru/cgi-bin/cvstrac/catdoc/tktview?tn=14,4)

有用。顺便说一句，有两个名为 xls2csv 的程序，我们谈论的是 catdoc 包中的一个，而不是 Perl 程序。

# testing - 如何访问函数库中的共享对象库

> ID：11113714
> 
> 赞同：1
> 
> 时间：2012-06-20T06:08:59.990
> 
> 标签：testing, automation, qtp

我从一个基于关键字驱动框架的测试自动化项目开始（使用 QTP 11 完成）。我已经完成了 QTP 基础知识。基本上我的所有函数都将出现在函数库中（与我的测试相关联），我将通过我在具有不同参数的测试项目中的操作调用它们。例如：使用用户名和密码参数从 Action1 调用登录函数。现在如何访问函数库中的共享对象库来访问，修改共享库中存在的对象？如果对象的位置发生变化，我的脚本会中断吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T08:00:36.143

当您从动作调用函数库时，您仍然处于该动作的上下文中。这意味着与操作关联的所有对象存储库（本地 OR 和任何共享 OR）都可用。

您所要做的就是确保函数库使用的所有对象都在 SOR（共享对象存储库）中，并且该 SOR 与测试中的所有操作相关联。

# apache - 虚拟主机当前内容，同时保留存档

> ID：11113716
> 
> 赞同：0
> 
> 时间：2012-06-20T06:09:02.310
> 
> 标签：apache, .htaccess, mod-rewrite, virtualhost

这可能不是最大的主题行，但我不知道该怎么问。

我正在为一年一度的节日设计一个网站，将根目录中的每一年的网站作为一年（即`/2012`，`/2011`等`/2010`）我们不希望在 URL 中显示当前年份，所以我找到了如何修改.htaccess 文件如下：

```
RewriteEngine On
RewriteCond %{REQUEST_URI} !^/2012/
RewriteRule ^(.*) /2012/$1 [L] 
```

问题是，这样所有档案都无法正确解析，我们希望保留过去节日的可见档案。最终目标是拥有这样的 URL

```
http://www.mysite.com/
http://www.mysite.com/2011/
http://www.mysite.com/2010/
http://www.mysite.com/2009/ 
```

我该怎么做？如果用虚拟主机完成，是否应该通过重写来完成？我不太了解这些东西，也不想破坏网站！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T08:30:31.743

现在，您的 RewriteCond 检查 URI 是否不在 /2012/ 内

```
RewriteCond %{REQUEST_URI} !^/2012/ 
```

相反，您应该检查它是否不在*任何年份*文件夹中：

```
RewriteCond %{REQUEST_URI} !^/[0-9]{4}/ 
```

# sql-server-2005 - 如何在 SQL Server 2005 的单行中显示以逗号分隔的多行值？

> ID：11113723
> 
> 赞同：0
> 
> 时间：2012-06-20T06:09:48.043
> 
> 标签：sql-server-2005

下面我展示了两个表和结果表。

![在此处输入图像描述](../Images/8d8389df556ad139f652a001bc7ad57c.png)

如上所示，如何以这种方式获取结果表？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T19:31:05.723

```
select min(ID) as ID,
       Val,
       stuff((select ','+Cat
              from Table2 as T2
              where T1.Val = T2.Val
              for xml path(''), type).value('.', 'nvarchar(max)'), 1, 1, '') as Cat
from Table2 as T1
group by Val
order by ID 
```

[SQL小提琴](http://sqlfiddle.com/#!3/0129d/2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T19:38:51.423

您可以定义一个**CLR 用户定义的聚合**来执行此操作。我发布了对这种解决方案的详细描述，作为对另一个问题[TSQL Comma Separation](https://stackoverflow.com/a/905849/95)的回答。在那里，您还可以找到博客文章的链接，该文章讨论了您在开发 CLR 聚合时可能遇到的问题。

将自定义聚合部署到服务器后（我为函数命名，`Concat`但您的命名可能不同），您将能够通过以下查询获得所需的结果：

```
SELECT Val, dbo.Concat(Cat)
FROM Table2
GROUP BY Val 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T19:34:44.540

```
DECLARE @Table1 TABLE
( 
 id INT
 ,Val VARCHAR(100)
)
DECLARE @Table2 TABLE
(
id INT
,Val VARCHAR(100)
,Cat VARCHAR(100)
)

INSERT INTO @Table1
VALUES(1,'XYZ')

INSERT INTO @Table1
VALUES(2,'abc')

INSERT INTO @Table2
VALUES(1,'XYZ','a')

INSERT INTO @Table2
VALUES(1,'abc','e')

INSERT INTO @Table2
VALUES(1,'XYZ','b')

INSERT INTO @Table2
VALUES(1,'XYZ','f')

INSERT INTO @Table2
VALUES(1,'abc','g')

SELECT t1.id,t1.Val ,( SELECT STUFF((SELECT ',' + cat  FROM @Table2 t2 WHERE  t2.Val =                   t1.val FOR XML PATH('')),1,1,''))
 FROM   @Table1 t1 
```

# c# - 使用基于 iTextSharp 的模板创建 PDF 文档

> ID：11113731
> 
> 赞同：4
> 
> 时间：2012-06-20T06:10:27.653
> 
> 标签：c#, itextsharp

我想使用 iTextSharp 创建基于 PDF 模板的多页 PDF 文档。不幸的是，模板只有一页，但我想在生成的文档中增加它。

```
 public static void GeberateFromTamplate(string pathTamplate)
 {
     //string pathTamplate = Server.MapPath("PDFs");
     string pdfTemplate = pathTamplate + @"\newTemplate.pdf";
     string newFile = pathTamplate + @"\Filled-outForm.pdf";

     PdfReader pdfReader = new PdfReader(pdfTemplate);
     PdfStamper pdfStamper = new PdfStamper(pdfReader, new FileStream(
         newFile, FileMode.Create));

     AcroFields pdfFormFields = pdfStamper.AcroFields;
     // set form pdfFormFields                                
     // 
     pdfFormFields.SetField("f1_01(0)", "1");
     pdfFormFields.SetField("f1_02(0)", "1");
     pdfFormFields.SetField("f1_03(0)", "1");
     pdfFormFields.SetField("f1_04(0)", "8");
     pdfFormFields.SetField("f1_05(0)", "0");
     pdfFormFields.SetField("f1_06(0)", "1");
     pdfFormFields.SetField("f1_07(0)", "16");
     pdfFormFields.SetField("f1_08(0)", "28");
     pdfFormFields.SetField("f1_09(0)", "Franklin A.");
     pdfFormFields.SetField("f1_10(0)", "Benefield");
     pdfFormFields.SetField("f1_11(0)", "532");
     pdfFormFields.SetField("f1_12(0)", "12");
     pdfFormFields.SetField("f1_13(0)", "1234");

     // The form's checkboxes
     pdfFormFields.SetField("c1_01(0)", "0");
     pdfFormFields.SetField("c1_02(0)", "Yes");
     pdfFormFields.SetField("c1_03(0)", "0");
     pdfFormFields.SetField("c1_04(0)", "Yes");

     pdfStamper.FormFlattening = false;

     // close the pdf
     pdfStamper.Close();
 } 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-18T22:00:27.143

您可以尝试使用以下帖子构建页面：

[itextsharp：我如何添加一个新页面并写入它？](https://stackoverflow.com/questions/1940352/itextsharp-how-do-i-add-a-new-page-and-write-to-it)

然后在您构建的每个页面上，您都可以应用您的脚本。

# iphone - 无法导航到下一页 iPhone

> ID：11113732
> 
> 赞同：0
> 
> 时间：2012-06-20T06:10:27.987
> 
> 标签：iphone, ipad, uitableview, uinavigationcontroller, rootview

我是 iPhone 开发者的新手，

我的应用程序中有`4`页面，我的应用程序是`viewBasedApplication`.

我将我的第一页（`LicAppViewController`）设为`RootViewController`，这是我的代码。

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]] autorelease]; 
    self.viewController = [[[LicAppViewController alloc] initWithNibName:@"LicAppViewController" bundle:nil] autorelease]; 

    UINavigationController *navigationController=[[UINavigationController alloc] initWithRootViewController:self.viewController];
    [self.window addSubview:navigationController.view];
    [self.window makeKeyAndVisible];
    return YES; 
} 
```

在按钮上单击我导航到第二页（`PlanPage`）

```
-(void)btnClicked{

    PlanPage *viewController = [[PlanPage alloc]initWithNibName:@"PlanPage" bundle:nil];
    [UIView beginAnimations:@"Flip" context:nil]; 
    [UIView setAnimationDuration:0.7]; 
    [UIView setAnimationCurve:UIViewAnimationOptionCurveEaseInOut]; 
    [UIView setAnimationTransition:UIViewAnimationTransitionFlipFromLeft forView:self.navigationController.view cache:NO]; 
    [self.navigationController pushViewController:viewController animated:YES];
    [UIView commitAnimations];
    [viewController release];

} 
```

到目前为止它工作正常，但是当我在第二页中选择一行时，它会使我的应用程序崩溃，我想导航到第三页（`DetailPlanPage`），这是我的代码

```
 DetailPlanPage *nextController = [[DetailPlanPage alloc] initWithNibName:@"DetailPlanPage" bundle:nil];
    [self.navigationController presentModalViewController:nextController animated:TRUE]; 
```

但是当我写的时候，这一行：

```
 [self.navigationController pushViewController:nextController animated:YES]; 
```

代替：

```
 [self.navigationController presentModalViewController:nextController animated:TRUE]; 
```

它工作正常。（**我不确定，但我的应用程序崩溃可能是因为基于视图的应用程序**）

***提前致谢 ！***

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:24:44.000

尝试

```
[self presentModalViewController:nextController animated:YES]; 
```

您还希望将 nextController 的委托设置为 self 并添加一个委托函数来关闭模态视图控制器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T07:21:55.963

先设置rootview控制器

删除该代码

```
[self.window addSubview:navigationController.view]; 
```

并包括

```
self.window.rootViewController = navigationController; 
```

在目前的模态视图控制器中，你可以这样尝试

```
 yourview *detailViewController = [[yourview alloc] initWithNibName:@"yourview" bundle:nil];
         UIBarButtonItem *doneButton = [[UIBarButtonItem alloc ] initWithBarButtonSystemItem:UIBarButtonSystemItemCancel target:self action:@selector(dismiss)];
     detailViewController.navigationItem.leftBarButtonItem = doneButton;
        UINavigationController *nav;
        nav=[[[UINavigationController alloc] initWithRootViewController:detailViewController] autorelease];
        [self presentModalViewController:nav animated:YES];
        [detailViewController release];
[doneButton release];

-(void) dismiss
{
      [self dismissModalViewControllerAnimated:YES];
  } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:26:07.823

最重要的区别在于语义。模态视图控制器通常指示用户必须提供一些信息或做某事。此链接更深入地解释它：

[http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/ModalViewControllers/ModalViewControllers.html](http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/ModalViewControllers/ModalViewControllers.html)

当您呈现一个模态视图控制器时，系统会在执行呈现的视图控制器和被呈现的视图控制器之间创建父子关系。具体来说，执行呈现的视图控制器更新其 modalViewController 属性以指向其呈现的（子）视图控制器。类似地，呈现的视图控制器更新其 parentViewController 属性以指向呈现它的视图控制器。还有另一个[链接](https://stackoverflow.com/questions/5775643/why-present-modal-view-controller)。

# git - egit master:master [拒绝] github

> ID：11113733
> 
> 赞同：0
> 
> 时间：2012-06-20T06:10:29.327
> 
> 标签：git, egit

有时当我尝试将代码推送到 github 时会遇到一些问题。让我解释一下场景：

我只使用 master 分支（因为我的产品处于早期阶段，目前不需要创建功能分支）。我的远程仓库在 github，我是唯一一个在做这个项目的人，所以没有对 master 分支进行并行修改。

然后我写了一些代码，在我编码的所有测试都是绿色的之后，我使用 egit 提交到我的本地存储库和 github。没问题，所有更改都被推送到 github，但有时，不知道确切原因，因为我的“理论”（或者至少对我来说是这样的）egit（实际上是 git）不允许我推送声称的更改master:master [rejected] 错误。在推送到窗口中，我将 [master] 分支作为源引用和目标引用，并添加“所有分支规范”。当然，在这种情况下，我必须从远程提取并合并代码，然后再次重新提交。我理解为什么会发生这种情况的理论，当前分支在远程分支之后，但是如果我是唯一以线性方式修改代码的人，为什么会发生这种情况？

它在大多数情况下都有效，但为什么有时会发生此错误？我可以理解如果我们是一个开发人员团队推送到同一个 github 帐户，但事实并非如此。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T14:14:57.693

如果您在主分支上进行变基或重置，则可能会发生这种情况。这些操作改变了一个分支的历史，使得 github master 分支的尖端不再在你本地 master 分支的行中。因此，您会收到“被拒绝”的错误消息。

# objective-c - 如何唯一识别 Mac 系统

> ID：11113735
> 
> 赞同：9
> 
> 时间：2012-06-20T06:10:38.247
> 
> 标签：objective-c, macos, hardware-id

我想通过代码唯一地识别我的 mac 系统。我在关于这台 Mac 中找到了硬件 UUID。那么如何以编程方式从 MAC OS X 访问唯一的 uuid。

如果对我的问题有任何替代建议，请提供给我。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-06-25T16:41:48.417

所以，如果你不关心新的 AppStore 规则等......你去：

```
- (NSString *)getSystemUUID {
    io_service_t platformExpert = IOServiceGetMatchingService(kIOMasterPortDefault,IOServiceMatching("IOPlatformExpertDevice"));
    if (!platformExpert)
        return nil;

    CFTypeRef serialNumberAsCFString = IORegistryEntryCreateCFProperty(platformExpert,CFSTR(kIOPlatformUUIDKey),kCFAllocatorDefault, 0);
    IOObjectRelease(platformExpert);
    if (!serialNumberAsCFString)
        return nil;

    return (__bridge NSString *)(serialNumberAsCFString);;
} 
```

**请注意：**

*   您需要添加`IOKit.framework`到您的项目中才能使其正常工作。
*   此代码符合 ARC；
*   这段代码是安全的，`nil` `NSString`如果出现问题它会返回一个；
*   Apple 不保证所有未来的系统都将具有软件可读的序列号。
*   开发人员不应对序列号的格式做出任何假设，例如序列号的长度或可能包含的字符。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T06:43:16.247

从这里：[https ://stackoverflow.com/a/2754563/610351](https://stackoverflow.com/a/2754563/610351)

```
void get_platform_uuid(char * buf, int bufSize) {
    io_registry_entry_t ioRegistryRoot = IORegistryEntryFromPath(kIOMasterPortDefault, "IOService:/");
    CFStringRef uuidCf = (CFStringRef) IORegistryEntryCreateCFProperty(ioRegistryRoot, CFSTR(kIOPlatformUUIDKey), kCFAllocatorDefault, 0);
    IOObjectRelease(ioRegistryRoot);
    CFStringGetCString(uuidCf, buf, bufSize, kCFStringEncodingMacRoman);
    CFRelease(uuidCf);    
} 
```

您可以将 CFStringGetCString 替换为对 NSString* 的简单转换。

# c - 来自两个 3D 点的平面方程以及该平面与点之间的垂直距离

> ID：11113736
> 
> 赞同：-3
> 
> 时间：2012-06-20T06:10:40.540
> 
> 标签：c, math

我有三个 3d 点，例如 A(x1,y1,z1)、B(x2,y2,z2) 和 C(x3,y3,z3)。如何获得通过点 A 和 B 的平面方程，然后如何获得从点 C 到该平面的垂直距离。垂直距离将是通过点 C 的平面与平行于平面 b/w A 和 B 之间的距离。是否有任何捷径可以实现这些计算，因为我希望这些计算以 C 语言的代码实现，以执行时间为主要关心。主要目的是找到垂直距离 b/w C 和包含 A 和 B 的平面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T21:37:59.127

您的问题在书面上受到限制。有无穷多个平面包含两点 A 和 B；到任何第三点 P 的距离将在 [0, X] 范围内，其中 X 是 P 与连接点 A 和 B 的线之间的距离。因此，如果您感兴趣的只是找到点之间的距离P 和连接 A 和 B 的线，[有一个算法](http://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html)。这也将唯一地定义包含 A 和 B 且距离 P 最远的平面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T11:37:43.157

2 点定义一条*线*。您始终可以选择包含该 line 和 point 的平面`C`，因此距离始终为零。

您正在寻找的 C 类似于：

```
struct Point {
    double x;
    double y;
    double z;
};

double perpendicular_distance(struct Point *a, struct Point *b, struct Point *c)
{
    return 0.0;
} 
```

说真的，先了解数学。

# java - 如何更彻底地访问 Android 传感器？

> ID：11113743
> 
> 赞同：0
> 
> 时间：2012-06-20T06:11:14.577
> 
> 标签：java, android, proximity

我正在尝试访问三星 Galaxy S3 上的传感器（特别是接近传感器和 RGBW 传感器），并获得了运行代码来访问接近传感器。但是，我只得到值 1 或 8（近/远）。我知道有时硬件只能访问近/远读数，但通过使用三星的*#0* # 代码并进行传感器测试，我能够看到来自接近传感器的 ADC 读数，显示相对距离测量值和 RGBW 值。我想知道是否有什么办法可以在 Android 应用程序中访问这些值。

总之，有什么方法可以通过 Android 应用访问接近传感器的 ADC 值？Google API 中是否有允许我访问 RGBW 传感器的代码，这些传感器很新，开发人员通常不使用？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T11:06:06.343

> 总之，有什么方法可以通过 Android 应用访问接近传感器的 ADC 值？

不是通过使用已知`Sensor`类型的 Android SDK。某些设备制造商可能会为此提供 SDK 附加组件，尽管我不知道有什么。或者，设备制造商可能会为此支持一些替代`Sensor`类型名称，尽管我也不知道。

# .net - 使用项目的属性将项目突出显示到 ControlTemplate

> ID：11113745
> 
> 赞同：0
> 
> 时间：2012-06-20T06:11:33.417
> 
> 标签：.net, wpf, styles, datatemplate, controltemplate

我有一个绑定到适当 ViewModel 的用户控件。我在这个绑定到 ViewModel.Graph 属性的控件上有一个 GraphLayout （使用[Graph# ）：](http://graphsharp.codeplex.com/)

```
<graph:ProductGraphLayout Graph="{Binding Path=Graph}" /> 
```

许多包含 ProductVertex 的 VertexControl 被放置在这个布局上。内容由 DataTemplate 表示，并使用 Style 应用主题：

```
<DataTemplate x:Key="VertexTemplate" DataType="{x:Type graph:ProductVertex}">
    <TextBlock Text="{Binding Path=ID, Mode=OneWay}" />
</DataTemplate>
<Style TargetType="{x:Type graphsharp:VertexControl}">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type graphsharp:VertexControl}">
                <Border>
                    <Border.Style>
                        <Style TargetType="{x:Type Border}">
                            <Setter Property="BorderBrush" Value="#6695C4" />
                            <Setter Property="BorderThickness" Value="2" />
                        </Style>
                    </Border.Style>
                    <ContentPresenter Content="{TemplateBinding Vertex}" ContentTemplate="{StaticResource VertexTemplate}" />
                </Border>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

如何根据 ProductVertex 属性更改容器 (VertexControl) 的样式，比如 IsCurrent？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:37:18.023

据我了解的数据结构，您可以使用`ProductVertex`带有`ControlTemplate`. `VertexControl`您现在可以例如使用[ValueConverter](http://msdn.microsoft.com/en-us/library/system.windows.data.ivalueconverter.aspx)来根据顶点对象更改边框的颜色。

```
<ControlTemplate TargetType="{x:Type graphsharp:VertexControl}">
    <Border>
        <Border.Style>
            <Style TargetType="{x:Type Border}">
                <Setter Property="BorderBrush" Value="{TemplateBinding Vertex.IsCurrent, Converter={StaticResource YourBoolToColorConverter}" />
                <Setter Property="BorderThickness" Value="2" />
            </Style>
        </Border.Style>
        <ContentPresenter Content="{TemplateBinding Vertex}" ContentTemplate="{StaticResource VertexTemplate}" />
    </Border>
</ControlTemplate> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:46:45.237

似乎我已经自己管理了如何实现这一目标：

```
<DataTemplate x:Key="VertexTemplate" DataType="{x:Type graph:ProductSubstitutionVertex}">
    <TextBlock Text="{Binding Path=ID, Mode=OneWay}">
        <TextBlock.Style>
            <Style TargetType="TextBlock">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding IsCurrent}" Value="true">
                        <Setter Property="Background" Value="#EDF2F6" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
        </TextBlock.Style>
    </TextBlock>
</DataTemplate> 
```

# javascript - 如何在 Firefox 中取消事件冒泡？

> ID：11113747
> 
> 赞同：2
> 
> 时间：2012-06-20T06:12:10.290
> 
> 标签：javascript, firefox, event-bubbling

我有一个表格单元格（td），单击时会触发脚本。我在该表格单元格中有一个 div，单击该单元格时会触发另一个 div。我已成功使用下面的代码取消事件冒泡（因此 div 事件不会触发 td 事件）。

```
if (!e) var e = window.event;

e.cancelBubble = true;
e.stopImmediatePropagation();
e.returnValue = false;

if (e.stopPropagation)
{
    e.stopImmediatePropagation();
    e.stopPropagation();
    e.preventDefault(); 
} 
```

在 Chrome、Safari 和 Opera 中一切正常。为什么它不能防止 Firefox 中的事件冒泡？我需要注意某种 Firefox 修复吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:22:52.797

我认为`event.stopImmediatePropagation()`阻止同一事件的其他听众被调用，从而`event.stopPropagation()`在无效后进行调用。尝试使用`event.stopPropagation()`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:20:19.367

我相信这段代码应该足够了：

```
e = e || window.event;

if (e.stopPropagation) {
  e.stopPropagation();
}

// other piece of code here 
```

# database - 使用代理单调递增 int 作为 PK 创建数据库表是一种新趋势吗？

> ID：11113751
> 
> 赞同：1
> 
> 时间：2012-06-20T06:12:24.577
> 
> 标签：database, entity-framework, orm, entity-framework-4.1, ef-code-first

很多code-first的例子表明，表的PK是XXXXXID，如果XXXXX匹配实体名；否则 ORM 将使用以“ID”结尾的列创建 PK。（也许它会为多对多关系创建组合键）。

如果实体已经有一个自然键怎么办？如果需要健全的数据库设计，也许应该避免代码优先？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T08:50:50.367

正如评论中所描述的@marc_s，您可以使用自己的密钥（甚至是[复合](https://stackoverflow.com/questions/5466374/composite-key-with-ef-4-1-code-first/5468507#5468507)密钥），但您必须记住，EF 对密钥使用的限制更多。您不能更改现有实体的 PK 值 - EF 中的键是不可变的。唯一可以为 PK 定义值的时间是在将其插入数据库之前。

# dojo - Dojo 选项卡未加载外部 html

> ID：11113753
> 
> 赞同：0
> 
> 时间：2012-06-20T06:12:27.543
> 
> 标签：dojo, tabcontainer

当我单击第二个选项卡时，我希望加载 callrecords.html 代码，但它没有加载任何内容并且窗格保持空白。我有点菜鸟，似乎无法弄清楚为什么会这样。

也是一个侧面问题。为什么有些代码示例说 dojoType 而其他示例使用 data-dojo-type。

```
<body class="tundra">

    <div class="formContainer" dojoType="dijit.layout.TabContainer" >

        <div dojoType="dijit.layout.ContentPane" title="Advanced Search">
            <label for="first_name">First Name:</label>
            <input type="text" name="first_name" id="first_name" 
                   size="30" /><br/>
            <label for="last_name">Last Name:</label>
            <input type="text" name="last_name" id="last_name" 
                   size="30" /><br/>
            <label for="middle_initial">Middle Initial:</label>
            <input type="text" name="middle_initial" id="middle_initial" 
                   size="1" /><br/>
        </div>

        <div dojoType="dijit.layout.ContentPane" title="Call Records" data-dojo-props='href:"modules/content_panes/callrecords.html", refresnOnShow:true'></div>

        <div dojoType="dijit.layout.ContentPane" title="Phones">
            <label for="home_phone">Home Phone:</label>
            <input type="text" name="home_phone" id="home_phone" 
                   size="30" /><br/>
            <label for="work_phone">Work Phone:</label>
            <input type="text" name="work_phone" id="work_phone" 
                   size="30" /><br/>
            <label for="cell_phone">Cell Phone:</label>
            <input type="text" name="cell_phone" id="cell_phone" 
                   size="30" /><br/>
        </div>

    </div>

</body> 
```

呼叫记录.html

```
<h1>Tab 2</h1>

<p>I am tab 2\. I was loaded externally as well.</p> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T16:29:50.630

夫妇的事情。

1）你有一个错字：`refresnOnShow`。应该是`refreshOnShow`。

2)`data-dojo-props`仅适用于 Dojo > 1.7。您使用的是 dojo 1.7 或更高版本吗？如果没有，那是行不通的。

我的建议是尝试以编程方式设置窗格 href：

```
dijit.byId('tab2').attr('href', 'modules/content_panes/callrecords.html') 
```

看看这是否有效。dojo 1.7 语法是：

```
require(["dojo/dom-attr"], function(domAttr){
var t = dijit.byId('tab2');
domAttr.set(t,'href','http://localhost:8080/vewpon/')
}) 
```

如果程序化设置有效，那么你就知道它只是你的标记中的一些东西。

* * *

更新：为了将来参考，Dojo 1.6 设置类型的方式是：`dojo-type="dijit.layout.ContentPane"`

# c# - 从客户端（javascript/jquery）在asp.net c#中的特定时间触发回发

> ID：11113756
> 
> 赞同：1
> 
> 时间：2012-06-20T06:12:40.140
> 
> 标签：c#, javascript, jquery, asp.net, timer

我需要在 javascript/jquery 的特定时间后执行 btnRate_Click

```
protected void btnRate_Click(object sender, EventArgs e) 

      {
        if (Session["User"] != null && Session["ActiveDoctor"] != null)
        {                 
            if (objRate.InsertRecord())
                Response.Redirect("../Clinics.aspx", true);
         }
     } 
```

请帮忙....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:21:43.500

假设有一个按钮有一个与 btnRate_Click 相关的点击事件，您可以使用 __doPostback 来触发回发。

这意味着您可以执行以下操作：

`window.setTimeout(function() { __doPostback('<%= btnRate.UniqueID %>', '');}, 1000);`

这应该在调用代码 1 秒后“点击”btnRate。

有关 __doPostback 的更多信息，请参阅以下问题：

[如何使用 __doPostBack()](https://stackoverflow.com/questions/3591634/how-to-use-dopostback)

# java - 我们可以从内置的电子邮件应用程序中获取邮件吗？

> ID：11113757
> 
> 赞同：0
> 
> 时间：2012-06-20T06:12:42.320
> 
> 标签：java, android, email

有没有办法从android 设备本身附带的内置**电子邮件应用程序中获取邮件？**请注意，我**指**的不是**Gmail 应用程序**。？？？如果是，请给出提示。根据我到目前为止的研究，我无法找到任何方法来做到这一点。

提前致谢....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T15:20:20.390

这仅适用于通过某种形式的 API 公开此数据的应用程序。作为 Android 开源项目一部分的电子邮件应用程序没有记录或支持的此类 API。

# watir - Watir 提供的浏览器支持

> ID：11113758
> 
> 赞同：1
> 
> 时间：2012-06-20T06:12:43.010
> 
> 标签：watir, watir-webdriver

我知道 Watir 支持 Firefox 和 Chrome。有人知道支持哪些版本的 Firefox 和 Chrome 吗？

根据 Watir 网站，他们支持 Firefox 5，这是一个相当旧的版本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T07:30:01.263

据我所知，Watir 支持所有最新版本的 Internet Explorer、Chrome、Firefox、Safari 和 Opera。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T03:58:54.843

在工作中，使用 Webdriver 后端，我不得不从 Firefox 13 降级到 Firefox 10.0.2。这似乎是一个很大的不同，但他们最近一直在推出 FF 版本。这可能是因为端口的变化，但我只是推测。

# asp.net-4.0 - asp.net 4.0 - 路由根页面和验证器控制问题

> ID：11113759
> 
> 赞同：0
> 
> 时间：2012-06-20T06:12:48.353
> 
> 标签：asp.net-4.0, asp.net-routing

我正在简化我的问题：

当我在 global.asax 中通过以下方式在我的 Web 应用程序根目录上路由我的所有 .aspx 页面时：

```
routes.MapPageRoute("RootPages", "{file}", "~/{file}.aspx"); 
```

就路由而言，一切正常，但我的 requiredfieldvalidators 都不再触发，它只是在不验证我的字段的情况下进行完整的回发。当我从验证器中删除上述代码时，再次工作。

有人可以验证他们是否遇到同样的问题，还是我做错了什么？

*当您对此进行测试时，请确保在添加或删除代码后在浏览器屏幕上进行硬刷新 (CTRL-F5)。顺便说一句，我在 IE、FireFox 和 Chrome 上对此进行了测试，它们的行为方式都相同。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-26T23:02:13.787

在需要添加到 global.aspx 的这段代码中的答案：

```
routes.Ignore("{resource}.axd/{*pathInfo}"); 
```

请参阅这篇文章了解更多详情：

[文章](http://haacked.com/archive/2008/07/14/make-routing-ignore-requests-for-a-file-extension.aspx)

我希望这可能对某人有所帮助，我花了太多天来为此挠头。

# android - roboguice 从膨胀的布局注入

> ID：11113760
> 
> 赞同：1
> 
> 时间：2012-06-20T06:12:48.530
> 
> 标签：android, layout-inflater, roboguice

我在 RoboListFragment 类上使用 Roboguice（到目前为止很喜欢）。对于标题，我需要为我想要的布局充气。我会很高兴然后从那个膨胀的视图中@InjectView，而不是默认的内容视图。这可能吗？

# java - 向表中添加对象和从表中检索对象

> ID：11113762
> 
> 赞同：1
> 
> 时间：2012-06-20T06:12:53.050
> 
> 标签：java, swing, jtable, abstracttablemodel, defaulttablemodel

假设我有这样的课程：

```
public Class FooBar {
  String foo;
  String bar;
  String unvisibleField;
  String id;
} 
```

然后我创建了一个表，使用`DefaultTableModel`并向其添加元素，如下所示（我没有向用户显示该类的所有属性）：

```
for(int i=0;i<fooBarList.size();i++){
  model.addRow(new String[]{fooBarList.get(i).getFoo(), fooBarList.get(i).getBar()});
} 
```

但我想从表中检索 FooBar 类对象。像这样的东西：

`model.getRow()`将返回一个 FooBar 对象所以可能我还需要类似的东西

```
model.addRow(FooBar item) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:14:44.257

如果您绝对确定只会返回 FooBar 对象，则只需将模型的对象转换为 FooBar

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:30:08.740

*   这种最简单直接（也是正确）的方式如何将新数据添加到`(Abstract/Default) TableModel`

*   请尝试阅读[@camickr 的行表模型/列表模型，以](http://tips4java.wordpress.com/2008/11/21/row-table-model/)了解您放置/同步的想法`FooBar item`

*   在这个论坛上是如何[基于 HashXxx 或 List 实现 AbstractTableModel 的](https://stackoverflow.com/search?tab=newest&q=%5Bjava%5D%20%5Bswing%5D%20%5Bjtable%5D%20abstracttablemodel)答案，您必须检查[AbstractTableModel 中的方法是否正确触发和所需事件](https://stackoverflow.com/a/6901508/714968)

# php - 解析日志 - 单个 sql 查询，多个循环或多个 sql 查询，没有循环

> ID：11113766
> 
> 赞同：0
> 
> 时间：2012-06-20T06:13:07.020
> 
> 标签：php, mysql, loops, grouping

我正在尝试找出解析我为我的网站存储的日志文件的最佳方法，因为我想为以下项目创建图表

*   过去 7 天内每天的点击次数
*   按国家代码点击
*   推荐网址的点击次数
*   浏览器点击

由于记录了每个“命中”，因此实际上返回了 xxx,000 个结果，我不确定将结果分组的最有效方法是什么。目前我正在研究以下方法：

```
$sql =mysql_query(sprintf("SELECT * FROM logs WHERE sub = 'www' AND code = '%s'",
        mysql_real_escape_string($code)));

while ($res = mysql_fetch_array($sql)) {
    // hits per country
    if (isset($res['country_code'])) {$stat['cc'][$res['country_code']]++;}

    // hits by referrer
    if (isset($res['referrer'])) {$stat['rf'][$res['referrer']]++;}

    // hits by day
    if (isset($res['click_time'])) {
        $date = strtotime($res['click_time']);
        $date = date("d/m", $date);
        $stat['dt'][$date]++;
    }
} 
```

我认为这是一种非常粗暴的做事方式，但以我有限的技能是我能做到的最好的。本质上，它只是遍历 sql 结果，将每个国家/地区代码放入自己的数组中并为其添加匹配项。它需要大量改进，但在一定程度上确实有效。

我考虑的另一种更传统的方式是多个带有分组的 sql 语句：

```
$query1 = "SELECT count(`country_code`) as country_num,`country_code` FROM `logs` GROUP BY `country_code`";
$result= mysql_query($query1);

$user_agent = "SELECT count(`user_agent`) as browser_num,`user_agent` FROM `logs` GROUP BY `user_agent`";
$browser= mysql_query($user_agent);

$referrer_url = "SELECT count(`referrer`) as ref_num, referrer FROM `logs` where referrer!='' GROUP BY `referrer`";
$result_ref= mysql_query($referrer_url);

$last_month= mysql_query("select count('click_time') as day_num, click_time from logs where click_time between '".$date1."' AND '".$date2."' GROUP BY DAY(click_time)"); 
```

问题是，哪一个会更快......如果两者都不是特别有效，还有什么替代方案？

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:54:36.493

如果设置正确的索引，则底部代码块中的前三个示例非常有效。这就是 MySQL 所做的——非常好地吐出“组”、“总和”和“计数”。不过，索引对于获得良好的效率至关重要。

您需要获取所有数据并将其拉入 php 的顶部代码块，然后使用您自己的代码进行循环（效率低于预编译的 SQL 函数）。所以你浪费了带宽和 CPU 周期。

[最后一个（按 DAY() 分组）不是这样，但添加正确的索引也会有所帮助。]

但是 - 这是最困难的部分，这是一种平衡行为。如果 SQL 服务器很忙，您可能希望将一些功能移动到 Web 服务器（Web 服务器可以负载平衡，DB 服务器没有那么容易）。并且每个索引在添加/编辑记录时都会增加时间/资源。所以只在需要时创建。所以运行测试，然后再运行一些测试。真的，对于庞大的数据集，别无他法。

# python - 如何在不丢失精度的情况下将浮点数存储为文本？

> ID：11113767
> 
> 赞同：7
> 
> 时间：2012-06-20T06:13:12.763
> 
> 标签：python, floating-point

就像问题说的那样。转换为/从（截断的）字符串表示形式可能会影响其精度。但是将它们存储为其他格式（例如 pickle）会使它们不可读（是的，我也想要这个）。

如何在不丢失精度的情况下将浮点数存储在文本中？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-20T06:22:34.577

将其存储为二进制或其幂。

```
>>> (3.4).hex()
'0x1.b333333333333p+1'

>>> float.fromhex('0x1.b333333333333p+1')
3.4 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T06:28:23.427

我建议使用内置函数`repr()`。从文档中：

> 代表（对象）-> 字符串
> 
> 返回对象的规范字符串表示。对于大多数对象类型，eval(repr(object)) == object。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-20T06:20:15.113

`pickle.dumps`会做到的，但我`float(str(floatval)) == floatval`也相信——至少在同一个系统上......

# sharepoint - 沙盒解决方案资源配额中有哪些要点

> ID：11113769
> 
> 赞同：2
> 
> 时间：2012-06-20T06:13:21.253
> 
> 标签：sharepoint, sharepoint-2010

沙盒解决方案资源配额中的点是什么意思。1分等于什么？是否与共享点站点中该解决方案的任何使用有关。你能澄清一下这个困惑吗？ ![在此处输入图像描述](../Images/8841c2c02b129649a66cf8a6bd226d55.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T07:30:19.607

这不是一个简单的答案 - [MSDN - SharePoint 2010 中沙盒解决方案的资源使用限制](http://msdn.microsoft.com/en-us/library/gg615462.aspx)

我不相信微软对究竟是什么构成“点”持开放态度

> 资源点。这些积分基于**专有算法**累积，该算法考虑了 15 个资源类别中的资源使用情况

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-16T20:57:55.303

根据上面@Ryan 共享的链接，“每​​个网站集都受可配置的最大每日资源点数的限制。这些点数基于专有算法累积，该算法考虑了沙盒解决方案对 15 个资源类别中资源的使用情况，已安装在网站集中。”

这 15 个资源类别在同一页面上进行了概述，在[此处直接链接](http://msdn.microsoft.com/en-us/library/gg615462.aspx#sectionSection1)

它基本上描述了执行的次数、执行的持续时间、失败等都对总分有一定的贡献。

# ios - 使用 Storyboard 与以编程方式进行 iOS 开发的速度？

> ID：11113773
> 
> 赞同：5
> 
> 时间：2012-06-20T06:13:36.770
> 
> 标签：ios, storyboard

作为 iOS 新手开发者，哪种方法可以实现更快更高效的开发？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-20T06:25:09.303

对此没有正确答案。对于使用 Xcode 开发 2-3 年的人来说，旧的程序化方式效率更高，而故事板感觉很陌生。这是我个人的情况。对于今天刚刚开始使用 Xcode 或 iOS 开发的人来说，Storyboards 可能更有意义，并且学习曲线更短。我可以通过**避免**使用故事板来快速完成工作，但那是因为我太老套了。做任何对您“感觉正确”的事情，并随着 IDE 的发展进行调整。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-20T06:37:24.653

使用 Storyboard Paradigm 创建基本布局比编程更快。然而，最好的方法是结合所有三种方式（笔尖、故事板、程序化），具体取决于您要做的事情。

因为很少或没有定制的基本布局不卖。

我使用故事板只是为了创建一个骨架图以将其展示给客户并检查视图的流程是否正确。

在我看来，故事板似乎更难在以后使用代码进行自定义，因为更难访问内部元素。

Nibs 通过创建虚拟视图来避免在代码中计算所有内容，从而加快开发速度。

使用 Quartz 进行自定义和动画的代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T07:57:08.173

就速度而言，您可能不会有很大的时差。但是，我确实建议您开始使用 nib 并继续使用情节提要。我保证你会遇到使用 nib 和可能（如果不是可能的话）手动引用计数的代码。我的一位同事开设了一个 iOS 培训课程，仍然教授 nib 和手动引用计数，然后转到 StoryBoards 和 ARC。学习可能需要更长的时间，但将来可能会节省您的时间。我建议如果你正在考虑做很多，或者认真的 iOS 开发，你确实采用这种方法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-20T06:24:49.363

我会选择第三个选项：Nib 文件。老实说，我认为我使用它们比使用 Storyboard 更灵活。我确实认为在不久的将来我会使用 Storyboard，但目前还不是，对我来说这还不是一个成熟的“方法”。虽然有时我需要通过代码创建一些 UI 组件，但如果我要手工完成所有事情，我注定要失败。

# stringbuilder - 据说字符串生成器是不可变的？这在 C# .NET 中意味着什么？

> ID：11113774
> 
> 赞同：0
> 
> 时间：2012-06-20T06:13:38.117
> 
> 标签：stringbuilder

最近有人问我这个问题：**String 和 StringBuilders 有什么区别？**

我知道我在某处读到过 StringBuilders 是**不可变**的，但什么是不可变的，以及 StringBuilder 上的操作如何比 String 更快，这是我不知道的。

请任何人都可以帮助我理解这一点吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T06:16:30.270

不，`String`是不可变的 - 而是`StringBuilder`可变的。这就是它的全部意义所在。您使用它来构建字符串，通常来自大量附加操作。您无需每次都创建所有数据的新副本即可执行此操作，如果您使用以下命令会发生这种情况`String`：

```
// Bad
string x = "";
for (int i = 0; i < 100; i++)
{
    x += i;
}

// Good
StringBuilder builder = new StringBuilder();
for (int i = 0; i < 100; i++)
{
    builder.Append(i);
}
string x = builder.ToString(); 
```

有关更多详细信息，请参阅我[关于字符串连接的文章](http://pobox.com/~skeet/csharp/stringbuilder.html)和我[关于字符串的其他文章](http://csharpindepth.com/Articles/General/Strings.aspx)。

通常，*不可变*数据类型是一种在创建后无法更改对象中的数据的数据类型，而*可变*数据类型允许您更改（*mutate*，因此得名）它。这并不像听起来那么简单 - 请参阅[Eric Lippert 关于各种不变性的博客文章以](http://blogs.msdn.com/b/ericlippert/archive/2007/11/13/immutability-in-c-part-one-kinds-of-immutability.aspx)获取更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:20:35.670

对于字符串：每次对字符串执行操作以更改它，都会导致一个新实例。

更多解释请参考以下链接：

[c#中string和StringBuilder的区别](https://stackoverflow.com/questions/3069416/difference-between-string-and-stringbuilder-in-c-sharp)

# iphone - UIImageView 显示

> ID：11113778
> 
> 赞同：0
> 
> 时间：2012-06-20T06:13:42.673
> 
> 标签：iphone, ios, xcode

我正在使用Ray的自定义选择器，当我按下一个按钮时，选择器是弹出窗口的，然后选择映像时，它将解散选择器并在UIImageView中显示图像。我放了，`viewWillAppear`但是当我去另一个时`ViewController`，选择的图像消失了。即使在转到不同的 View Controller 之后，如何保持 UIImageView 中选择的内容仍然显示，只有再次选择另一个图像时才会改变。

```
- (void)viewWillAppear:(BOOL)animated {

    secondView.image = _imagePicker.selectedImage;
}

- (IBAction)chooseCustomImageTapped:(id)sender {
    _imagePicker = [[CustomImagePicker alloc] init];
    _imagePicker.title = @"Choose Custom Image";
   for(int i = 0; i <= 10; i++) 
    { 
        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
        NSString *documentsDir = [paths objectAtIndex:0];
        NSString *savedImagePath = [documentsDir stringByAppendingPathComponent:[NSString stringWithFormat:@"Images%d.png", i]]; 

        if([[NSFileManager defaultManager] fileExistsAtPath:savedImagePath]){ 
            [_imagePicker addImage:[UIImage imageWithContentsOfFile:savedImagePath]]; 

        } 
    } 
     [self presentModalViewController:_imagePicker animated:NO];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:40:07.447

当您转到指定的视图控制器时，您是否分配了新的视图控制器？如果是这样，当你去一个新的视图控制器时，你分配它，所以所有的数据都被初始化了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:44:46.867

使用pickerview 委托功能。

```
 - (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component {
         // put your logic here.

 NSUserDefaults *udf=[NSUserDefaults standardUserDefaults];
    [udf setObject:@"Imagename" forKey:@"LastSelectImage"];

    } 
```

因此，您的图像在此处更改了您的图像名称。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:23:30.550

我认为您应该`UIImage`在选择完成后将图像放入对象中`UIImage *image = _imagePicker.selectedImage;`，并将其保留到下一次更改。然后将该图像设置为您的图像视图`secondView.image = image;`。

# download - 无法从服务器下载扩展名为 .7z 的文件

> ID：11113780
> 
> 赞同：4
> 
> 时间：2012-06-20T06:13:52.490
> 
> 标签：download, 7zip

我已将扩展名为 .7z 和 .zip、“test.7z”和“test.zip”的文件上传到我们的服务器。

当我尝试下载“test.zip”时，它会下载

[files2.syncfusion.com/dtSupport/DirectTrac/95453/test.zip](http://files2.syncfusion.com/dtSupport/DirectTrac/95453/test.zip)

但我无法下载“test.7z”文件。

[http://files2.syncfusion.com/dtSupport/DirectTrac/95453/test.7z](http://files2.syncfusion.com/dtSupport/DirectTrac/95453/test.7z)

为什么我不能从服务器下载 7z 文件？这是默认行为还是我需要在服务器中设置任何 MIME 类型。谁能给我解决这个问题？

问候，卡蒂克。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:25:23.000

我试过用不同的浏览器下载 .7z 文件。结果让我认为这更多地与服务器配置有关，尽管设置 MIME 类型总是值得一试。

可能让您高兴的一件事是，下载在*Safari*中运行良好。

*如果您使用*右键单击并另存为，* *Firefox*、*Internet Explorer*和*Chrome*允许下载。*

 **只有*Opera*根本不允许您访问该文件。

如果您尝试的其他任何方法都不起作用，您总是可以添加一个小的不请使用其中一个工作浏览器和另存为选项。**

# open-source - jmeter记录和回放

> ID：11113783
> 
> 赞同：0
> 
> 时间：2012-06-20T06:14:05.163
> 
> 标签：open-source, jmeter, performance-testing

我们可以像在 selenium/QTP 中那样使用 jmeter 记录和回放 Web 应用程序（想测试不使用 localhost 的实时服务器）吗？

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T06:16:31.757

是的你可以。 [http://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.pdf](http://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.pdf) 这会给你一个好主意。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-31T10:51:39.203

您可以**使用 Workbench Non Test Elements 中提供的 HTTP 代理服务器**来执行记录。您只需要遵循以下三个步骤：
1\. 使用 localhost 的任何未使用端口添加 HTTP 代理。
2\. 配置您的默认浏览器 LAN 设置以使用 localhost 和上述步骤中指定的端口，用作代理。
3\. 单击 JMETER Http Proxy Server 中的开始，然后在您选择的任何浏览器中记录操作。

您也可以点击此**链接** [http://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.pdf](http://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.pdf) 了解更多详细信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:16:29.133

> 我们可以使用 jmeter 记录和回放 Web 应用程序吗？

是的。看[这里](http://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.pdf)和[这里](http://girliemangalo.wordpress.com/2009/03/18/jmeter-101-using-http-proxy-to-record-your-test/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-24T02:52:56.490

也许你可以试试 Badboy？你可以在这里下载软件： [http ://www.badboy.com.au/](http://www.badboy.com.au/)

这是 HOWTO 文档： [http ://www.badboysoftware.biz/docs/jmeter.htm](http://www.badboysoftware.biz/docs/jmeter.htm)

# javascript - Javascript 意外结果

> ID：11113785
> 
> 赞同：5
> 
> 时间：2012-06-20T06:14:12.600
> 
> 标签：javascript

我正在用 java 脚本进行计算，但由于十进制数的精度，我面临一个问题。我无法发布确切的计算结果，但这就是我正在做的事情，这会导致意想不到的结果

当我写： `alert(100.01-36.01);`// 结果是 64

但是当我写： `alert(100.01-37.01);` //结果是 63.00000000000001

38.01.... 以此类推。任何人都可以帮助我了解为什么这会表现出如此意外的行为。我陷入了计算中。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:22:12.017

尝试这个 ：

```
<script type="text/javascript">
var n1 = parseFloat(100.01);
var n2 = parseFloat(37.01);
变量 res = (n1-n2)
警报（res.toFixed（2））；
</脚本>

```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:29:56.187

如果你不将数字声明为数字，js 将自动将其用作字符串，如果字符串不仅用于数字。

parseFloat(123.45) 将其设置为十进制数。

# ubuntu - 在android flite中制作flite / main文件夹时出现Android crt0.o错误

> ID：11113786
> 
> 赞同：1
> 
> 时间：2012-06-20T06:14:13.917
> 
> 标签：ubuntu, for-loop, android-ndk, flite

当我尝试在`flite/main`android flite 的文件夹中制作时出现以下错误

> android-ndk-r4-crystax/build/prebuilt/linux-x86/arm-eabi-4.4.0/bin/../lib/gcc/arm-eabi/4.4.0/../../../ ../arm-eabi/bin/ld: crt0.o: 没有这样的文件: 没有这样的文件或目录 collect2: ld 返回 1 退出状态

我该如何解决这个问题？

# php - 如何检查谷歌浏览器是否安装了扩展程序？

> ID：11113787
> 
> 赞同：0
> 
> 时间：2012-06-20T06:14:17.773
> 
> 标签：php, javascript, google-chrome-extension

我正在为**Google Chrome开发一个****扩展**。我需要每次（安装时）检查**这个扩展是否已经安装？**. 我正在寻求帮助...

 ***** * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:17:31.913

[使用此处](http://code.google.com/chrome/extensions/extension.html#global-events)找到的连接方法：

未经测试的方法

```
var myPort=chrome.extension.connect('yourextensionid_qwerqweroijwefoijwef', some_object_to_send_on_connect); 
```

[类似问题](https://stackoverflow.com/questions/6293498/check-whether-user-has-my-chrome-extension-installed)****

# java - 将 guice 与自定义数据源一起使用

> ID：11113788
> 
> 赞同：0
> 
> 时间：2012-06-20T06:14:20.443
> 
> 标签：java, dependency-injection, guice

假设我有一个类之间的依赖关系树。没有周期，但它有几个层次。在最底部有一个 hibernate `Session`。

```
MyService -> MyDao -> Session
MyService -> MyCollaborator -> AnotherCollaborator
MyCollaborator -> MyDao
AnotherCollaborator -> MyDao
AnotherCollaborator -> AnotherDao -> Session 
```

你明白了。

我想`Session`在 Guice 外部手动创建，然后使用 Guice 从`MyService`下生成整个图形，使用 this `Session`。我该怎么做？。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T06:16:19.700

听起来您正在寻找[Provider](http://code.google.com/p/google-guice/wiki/ProviderBindings)？

**编辑**

提供者是一个用户定义的工厂，可以在进行绑定时声明为 guice。

它允许用户注入未指定数量的实例（通过注入提供程序本身并手动调用）或提供有趣的创建行为，例如创建所需的副作用，而不是由类型自己的构造函数执行。

因此，它是一种方便的工具，可以将其他 3rd-party API 结合到您的依赖项中：为每种所需类型创建一个提供程序，并让它执行所需的任何设置。

具体来说，它们是一个提供单一`get()`方法的通用接口，模板化为您希望在其中手动创建的类型。

# mongodb - 当在 rails 3.2 应用程序中创建用户时，在 xmpp 服务器上创建相同的用户

> ID：11113789
> 
> 赞同：0
> 
> 时间：2012-06-20T06:14:22.160
> 
> 标签：mongodb, ruby-on-rails-3.1, xmpp

我正在构建一个应用程序，其中前端是 iPhone，我使用 ROR 作为后端，使用 mongoDB 作为我的数据库。这是我使用 jabber 协议和 XMPP 服务器的一种聊天应用程序。现在我希望在我的 rails 应用程序中创建用户时，应该在 XMPP 服务器上创建相同的用户。任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T13:12:39.290

理想的情况是只有一个用户源，并将 XMPP 服务器配置为使用相同的服务。

例如，通常让 XMPP 服务器针对 LDAP 进行身份验证，然后将所有用户管理委托给 LDAP 服务器。XMPP 服务器根本不处理用户管理，而是将任何与用户相关的查询推迟到 LDAP。

这最终将比试图使两个独立的系统保持同步更可靠。如果您的用户管理是自定义的（看起来是自定义的），这可能意味着您还必须向 XMPP 服务器添加自定义模块/插件（您没有提到您使用的是哪个）才能使用它服务。

# asp.net - 如何使用 C# 将 Sap 水晶报告集成到 .net 安装程序

> ID：11113790
> 
> 赞同：0
> 
> 时间：2012-06-20T06:14:30.873
> 
> 标签：asp.net, windows, crystal-reports, installation

我有一个安装程序，我想将 Sap Crystal Report 添加到此安装程序。我们可以这样做吗，如果可以，请告诉我怎么做？我有大麻烦请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:25:18.943

没有什么是困难的。

1.  在 MSI 安装程序中打开应用程序文件夹。
2.  选择添加新文件选项。
3.  选择您在应用程序中使用的所有水晶报表。
4.  报告位置与您的应用程序相同。意味着如果您将水晶报表放在文件夹中，那么您需要创建应用程序文件夹的同一个文件夹。
5.  如果您使用 xml,xsd 文件进行支持，请在安装后验证它们对 ApplicationDirectory 具有完全的读写访问权限。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-21T20:51:15.533

如果您使用的是 Web 设置项目。您可以使用非常好的工具 Bootstrapper Manifest Generator将称为[Bootstrapper Manifest 包](http://msdn.microsoft.com/en-us/library/ms165429.aspx)的Prequisities 添加到您的 VS2010。[这是一个很好的教程，如何构建自定义先决条件](http://ntsblog.homedev.com.au/index.php/2011/03/03/bootstrap-manifest-generator-2008-how-to-guide-v2/)，然后将它们添加到 Microsoft SDKs\Windows\v7.0A\Bootstrapper\Packages 文件夹（v7.0A 案例 windows 7 或 2008）希望它有所帮助

# database - 查看 iPhone 的 Web 存储数据库的内容

> ID：11113792
> 
> 赞同：1
> 
> 时间：2012-06-20T06:14:34.113
> 
> 标签：database, cordova, web-storage

网上好像没有这方面的东西。在 Android 中，我可以通过浏览*Logcat*中的文件系统来访问数据库文件。但是，我不知道如何在 iPhone 上查看我的数据库的内容，该数据库是使用[Phonegap Storage API](http://docs.phonegap.com/en/1.2.0/phonegap_storage_storage.md.html)填充的。

由于该问题不包含任何代码，因此如果我在这里可能错了，请告诉我在哪里提问。

非常感谢您的时间。

# python - 从迭代器中删除 N 个值的 Pythonic 解决方案

> ID：11113803
> 
> 赞同：8
> 
> 时间：2012-06-20T06:15:35.293
> 
> 标签：python, iterator

是否有`n`从迭代器中删除值的 Pythonic 解决方案？您可以通过丢弃`n`值来做到这一点，如下所示：

```
def _drop(it, n):
    for _ in xrange(n):
        it.next() 
```

但这在 IMO 中并不像 Python 代码那样优雅。我在这里缺少更好的方法吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-20T06:20:40.397

我相信您正在寻找“消费”食谱

[http://docs.python.org/library/itertools.html#recipes](http://docs.python.org/library/itertools.html#recipes)

```
def consume(iterator, n):
    "Advance the iterator n-steps ahead. If n is none, consume entirely."
    # Use functions that consume iterators at C speed.
    if n is None:
        # feed the entire iterator into a zero-length deque
        collections.deque(iterator, maxlen=0)
    else:
        # advance to the empty slice starting at position n
        next(islice(iterator, n, n), None) 
```

如果你不需要特殊行为 when `n`is `None`，你可以使用

```
next(islice(iterator, n, n), None) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-20T06:20:48.030

您可以创建一个从 element 开始的迭代切片`n`：

```
import itertools
def drop(it, n):
    return itertools.islice(it, n, None) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:25:08.740

你*可以*通过花哨的使用来做到这一点`itertools.dropwhile`，但我会犹豫以任何方式称之为优雅：

```
def makepred(n):
   def pred(x):
      pred.count += 1
      return pred.count < n
   pred.count = 0
   return pred

itertools.dropwhile(it, makepred(5)) 
```

不过，我真的不推荐这样做——依赖谓词函数的副作用非常奇怪。

# java - 如何在使用 POI 生成的 Excel 工作表中创建相关下拉列表？

> ID：11113804
> 
> 赞同：3
> 
> 时间：2012-06-20T06:15:40.067
> 
> 标签：java, excel, apache-poi

我们在基于 Java 的 Web 应用程序中有一个功能，用户可以从 Web 应用程序下载 Excel 工作表模板。在此模板中填写他们的数据，然后上传相同的 Excel 表。

然后系统读取该excel文件并将该数据保存在数据库中。

下面是模板文件的快照，其中包含一些示例数据。

我想要的是当用户下载模板文件时（模板文件通常只有标题，所以用户知道哪些数据放在哪一列），excel表应该有部门，产品，二级产品，地区和国家的下拉列表。这样用户就不会在这些列中输入任何无效值。

同样，产品因部门而异，二级产品因产品而异。它更像是依赖下拉菜单。

基本上，我需要使用 Apache POI 创建 excel 表，用户将在其中从下拉列表中选择值，而不是自行输入。

即使我们确实有服务器端验证，我们也会检查用户输入的值是否有效。

我们这样做的原因是，例如一些用户可能会进入美国，一些作为美国，一些作为美国。

产品等也是如此。用户可以输入产品为 GFFX 或 GFFX Structuring 或 gffx 等。

是否可以使用 POI 在 Excel 表中执行此操作？如果不是，还有哪些其他可能的解决方案或确保用户知道他们必须在每列中输入的内容？

**编辑 1：**

我可以创建下拉菜单，但是否可以创建相关下拉菜单？

![在此处输入图像描述](../Images/3763f384359f76c9addff12a2c53fb1c.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-20T08:14:00.607

我正要建议 AurA 的解决方案，但看起来您确实必须在运行时构建验证列表。

你应该看看[POI Quick Guide](http://poi.apache.org/spreadsheet/quick-guide.html#Validation)，它们似乎正是你所需要的：

hssf.usermodel（二进制 .xls 格式）

```
HSSFWorkbook workbook = new HSSFWorkbook();
HSSFSheet sheet = workbook.createSheet("Data Validation");
CellRangeAddressList addressList = new CellRangeAddressList(0, 0, 0, 0);
DVConstraint dvConstraint = DVConstraint.createExplicitListConstraint(new String[]{"10", "20", "30"});
DataValidation dataValidation = new HSSFDataValidation(addressList, dvConstraint);
dataValidation.setSuppressDropDownArrow(false);
sheet.addValidationData(dataValidation); 
```

xssf.usermodel（.xlsx 格式）

```
XSSFWorkbook workbook = new XSSFWorkbook();
XSSFSheet sheet = workbook.createSheet("Data Validation");
XSSFDataValidationHelper dvHelper = new XSSFDataValidationHelper(sheet);
XSSFDataValidationConstraint dvConstraint = (XSSFDataValidationConstraint)
dvHelper.createExplicitListConstraint(new String[]{"11", "21", "31"});
CellRangeAddressList addressList = new CellRangeAddressList(0, 0, 0, 0);
XSSFDataValidation validation = (XSSFDataValidation)dvHelper.createValidation(
dvConstraint, addressList);
validation.setShowErrorBox(true);
sheet.addValidationData(validation); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:30:12.733

如果您已将（使用 POI）建议添加到用户可见且应填充的第一行上方的行（因此标题下方的行包含建议并隐藏）。

您不会获得（AFAIK）与 POI 的类别依赖关系，甚至不会获得纯 excel（没有 VBA）下拉列表（根据之前输入的值保存建议）。

您可以做的是使用 POI 使用适当的原始数据填充帮助表，并使用 VBA 动态生成允许从列表中选择值的下拉列表。

# jquery - 获取实际宽度与样式宽度

> ID：11113805
> 
> 赞同：0
> 
> 时间：2012-06-20T06:15:40.863
> 
> 标签：jquery, width

我有一个表格，其中我将所有 TD 元素的样式宽度指定为 200 像素。但是，当单元格中的内容占用更多空间时，单元格只会增长以适应。我需要能够获得 TD 元素的实际宽度，但是当我尝试使用 jQuery 的 width() 和 outerWidth() 函数时，我真的只获得了样式宽度。如何获得 TD 增长到的宽度以适应内容？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:22:22.663

您可以使用

```
 window.getComputedStyle(element, property) 
```

# android - 如何让我的设备上的布局像在 Eclipse 图形设计器中一样呈现？

> ID：11113807
> 
> 赞同：2
> 
> 时间：2012-06-20T06:15:47.447
> 
> 标签：android, eclipse, layout, rendering

我意识到 Eclipse 图形布局编辑器通常（通常？）不会以与物理设备或模拟器相同的方式呈现事物。我通常可以处理。但是，我有一种情况，我无法弄清楚为什么会有如此大的差异，更重要的是，我无法弄清楚如何在目标设备上获得我想要的布局。

我正在尝试使用一些带有自定义图形文件的自定义 ImageButton 小部件作为按钮。我只是想让按钮填充它们所在的父布局。在设计器中，它们看起来像我认为的那样。但是当我在设备上运行它时，按钮太小了。这是设计的样子，使用设置为模拟我正在测试的 Droid X 的设备。

[http://pozzy.com/consulting/LayoutDesignInEclipse.PNG](http://pozzy.com/consulting/LayoutDesignInEclipse.PNG)

这是在我的 Droid X 上运行时的屏幕截图：

[http://pozzy.com/consulting/ScoreEntryDroidXScreenCapture.png](http://pozzy.com/consulting/ScoreEntryDroidXScreenCapture.png)

我试图精简代码，但它仍然依赖于许多按钮图像文件。这是布局 XML：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    Android:layout_height="fill_parent">

     <LinearLayout
         android:id="@+id/scoreEntryPlayersAndMainEntry"
         android:layout_width="fill_parent"
         android:layout_height="wrap_content"
         android:orientation="horizontal" >

         <LinearLayout
             android:id="@+id/scoreEntryPlayers"
             android:layout_width="0dp"
             android:layout_height="fill_parent"
             android:layout_weight=".5"
             android:orientation="vertical"
             android:paddingBottom="4dp"
             android:paddingTop="4dp"
             android:paddingLeft="4dp" >                                             
         </LinearLayout>

         <LinearLayout
             android:id="@+id/scoreEntryMainEntry"
             android:layout_width="0dp"
             android:layout_height="fill_parent"
             android:layout_weight=".5"
             android:maxWidth="100dp"
             android:orientation="vertical"
             android:paddingBottom="4dp"
             android:paddingLeft="4dp"
             android:paddingRight="4dp"
             android:paddingTop="4dp" >

             <LinearLayout android:id="@+id/scoreEntryPreviousHoleNumberNextRow"
                 android:orientation="horizontal"
                   android:background="@drawable/score_entry_background_top"
                 android:layout_width="fill_parent"
                 android:layout_height="wrap_content"
                 android:layout_weight=".1"
                 android:gravity="center|top" >

                 <ImageButton
                     android:id="@+id/previousHoleButton"
                     android:layout_width="0dp"
                     android:layout_height="fill_parent"
                    android:layout_weight="2"
                     android:layout_margin="5dp"
                    android:scaleType="fitCenter"
                     android:background="@null"
                     android:contentDescription="Previous Hole"
                     android:src="@drawable/score_entry_prev" />

                 <TextView
                     android:id="@+id/holeNumber"
                     android:layout_width="0dp"
                     android:layout_height="match_parent"
                     android:layout_weight="1"
                     android:background="@null"
                     android:paddingTop="20dp"
                     android:text="##"
                     android:textColor="#FFFFFF"
                     android:textSize="24sp"
                     android:textStyle="bold" />

                    <ImageButton
                        android:id="@+id/nextHoleButton"
                        android:layout_width="0dp"
                        android:layout_height="fill_parent"
                    android:layout_weight="2"
                        android:layout_margin="5dp"
                        android:scaleType="fitCenter"
                        android:background="@null"
                        android:contentDescription="Next Hole"
                        android:src="@drawable/score_entry_next" />
             </LinearLayout>

             <LinearLayout
                 android:id="@+id/scoreEntryCurrentScore"
                   android:background="@drawable/score_entry_background_middle"
                 android:layout_width="fill_parent"
                 android:layout_height="wrap_content"
                 android:layout_weight=".8" >

                 <FrameLayout
                     android:id="@+id/scoreEntryScoreOverlays"
                     android:layout_width="fill_parent"
                     android:layout_height="wrap_content" >
                     <LinearLayout
                         android:visibility="invisible"
                         android:id="@+id/scoreEntryPlayerScoreLayout"
                         android:layout_width="fill_parent"
                         android:layout_height="wrap_content"
                         android:orientation="vertical" >

                         <TextView
                             android:id="@+id/currentPlayer"
                             android:layout_width="fill_parent"
                             android:layout_height="wrap_content"
                             android:layout_margin="10dp"
                             android:gravity="center"
                             android:text="Player Name"
                             android:textColor="#aaaaaa"
                             android:textSize="16sp"
                             android:textStyle="italic" />

                         <TextView
                             android:id="@+id/currentScore"
                             android:layout_width="fill_parent"
                             android:layout_height="fill_parent"
                             android:text="99"
                             android:gravity="center"
                             android:layout_gravity="bottom"
                             android:textColor="#ff0000"
                             android:textSize="100sp"
                             android:textStyle="bold|italic" />
                     </LinearLayout>
                </FrameLayout>
             </LinearLayout>

             <LinearLayout
                 android:id="@+id/scoreEntryScoreDownUpRow"
                 android:layout_width="fill_parent"
                 android:layout_height="wrap_content"
                 android:background="@drawable/score_entry_background_bottom"
                 android:gravity="bottom"
                 android:layout_weight=".1"
                 android:orientation="horizontal" >
                 <ImageButton
                     android:id="@+id/scoreDownButton"
                     android:layout_width="0dp"
                     android:layout_height="fill_parent"
                     android:layout_margin="5dp"
                     android:layout_weight="1"
                     android:background="@null"
                     android:scaleType="fitCenter"
                     android:src="@drawable/score_entry_minus" />

                 <ImageButton
                     android:id="@+id/scoreUpButton"
                     android:layout_width="0dp"
                     android:layout_height="fill_parent"
                     android:layout_margin="5dp"
                     android:layout_weight="1"
                     android:background="@null"
                     android:scaleType="fitCenter"
                     android:src="@drawable/score_entry_plus" />

             </LinearLayout>

         </LinearLayout>
     </LinearLayout>     
</RelativeLayout> 
```

任何帮助弄清楚如何让按钮填充它们各自的区域将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:31:00.817

我遇到了完全相同的问题，我不得不通过每次操作它来解决它以适应这两个地方，这是可悲的。日食图形可视化器有时真的很糟糕。我已经
尝试过[http://www.droiddraw.org/](http://www.droiddraw.org/)，因为很多人说这非常好 - 但不知何故，在可视化器上看到的内容与在实际设备上看到的内容之间似乎存在差距。我想经验法则是遵循这个[http://developer.android.com/training/multiscreen/screensizes.html](http://developer.android.com/training/multiscreen/screensizes.html)并继续尝试。我认为 Droid Draw 比 Eclipse 更适合我，我想按照上面的开发链接并使用说 Droid Draw 应该最适合你。

# sql - 我应该在 NULL 上为可选值设置一列吗？

> ID：11113811
> 
> 赞同：1
> 
> 时间：2012-06-20T06:15:58.110
> 
> 标签：sql, sql-server

我正在使用 SQL Server 数据库，我正在开发一个房地产网站。

我有一个表格，其中列出了一个名为`SIZE`.

用户可以选择输入`SIZE`属性的值（仅整数和正数）。

目前我正在使用这个

```
int   Size   NULL 
```

我想知道：

*   如果在这种情况下 NULL 值是有意义的（我读了一些不鼓励使用 NULL 的文章，所以我想如果是这种情况）
*   size的值应该在0到100000之间，我想知道数据类型`Int`是否合适。

如果您认为这个问题不恰当，请仅发表评论，我会将其从网站上删除。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:21:55.810

`NULL`这是正确的，因为它特别意味着*没有输入任何值*，这就是您要表示的内容。任何其他值实际上都会有一些意义。例如`0`是一个有效值——即使在这种情况下它可能没有意义。特别将其设置为`NULL`意味着您明确声明未输入任何值。

至于 max int 问题，来自[文档](http://msdn.microsoft.com/en-us/library/aa258271%28v=sql.80%29.aspx)：

> 整数
> 
> 从 -2^31 (-2,147,483,648) 到 2^31 - 1 (2,147,483,647) 的整数（整数）数据。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T06:25:12.597

> 如果在这种情况下 NULL 值是有意义的（我读了一些不鼓励使用 NULL 的文章，所以我想如果是这种情况）

`NULL`如果您想要代表非价值的东西，那很好。这比为每种不同的数据类型制作不同的表示形式（例如，数字中的 -1 或空字符串）要好。如果没有看到您阅读的文章并知道它提出了什么论点（以及在什么背景下），我们真的无法进一步评论。

> size的值应该在0到100000之间，我想知道DataType`int`是否被占用。

它是大小最合适的整数类型 -最大值低于 100000。如果你想彻底，也可以在你的表中添加一个`tinyint`约束：`smallint``CHECK`

```
CREATE TABLE Properties (
    -- Various Columns
    Size int null,
    constraint CK_Properties_Sizes CHECK (Size between 0 and 100000)
    -- More columns, constraints, etc
) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-20T06:30:36.750

`NULL`是“正确”的方法，但它会使编写查询变得痛苦，因为`NULL`不会匹配除`IS NULL`. 例如，假设您想要一个查询来查找大小在 x 和 y 之间的所有行，但您还想要显示没有任何大小的行。您的查询将如下所示：

```
select * from some_table
where size between x and y or size is null; 
```

这可能会引入不必要的复杂性，并且您还需要处理如何呈现空大小。

恕我直言，更好的选择是制作列`NOT NULL`并强制用户输入尺寸。这将简化您的应用程序和查询代码。

不要告诉我客户拥有房产，但不知道它有多大。

# android - Kindle Fire：内容浏览

> ID：11113814
> 
> 赞同：1
> 
> 时间：2012-06-20T06:16:12.493
> 
> 标签：android, kindle-fire

我想将 apk 文件放入 Kindle Fire 存储（通过 USB 电缆）并希望将其安装在设备上。关于如何做的任何建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:22:01.707

你基本上必须侧载。

请参阅此[http://www.tested.com/news/feature/3179-how-to-sideload-android-apps-on-the-amazon-kindle-fire-in-3-steps/](http://www.tested.com/news/feature/3179-how-to-sideload-android-apps-on-the-amazon-kindle-fire-in-3-steps/)

# html - 使用makefile的jade输出路径目录

> ID：11113818
> 
> 赞同：0
> 
> 时间：2012-06-20T06:16:26.027
> 
> 标签：html, makefile, pug

我正在使用[makefile](https://github.com/visionmedia/jade#example-makefile)将jade文件编译成html。我应该如何用翡翠选项修改这一行，以便我的最终 index.html 在目录中的上一级，而不是在与翡翠文件相同的文件夹中？目前，我在文件夹jade 中有index.html。

```
%.html: %.jade
    jade < $< --out $< --path $< --pretty > $@ 
```

我希望文件夹结构是这样的：

```
|--jade
   |--index.jade
|--index.html 
```

我不希望我的文件夹结构是这样的：

```
|--jade
   |--index.jade
   |--index.html 
```

我的整个makefile包括：

```
JADE = $(shell find jade/*.jade)
HTML = $(JADE:.jade=.html)

all: $(HTML)

%.html: %.jade
    jade < $< --out $< --path $< --pretty > $@

clean:
    rm -f $(HTML)

.PHONY: clean 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T16:30:28.330

如果您希望*所有*html 文件进入上一级目录：

```
JADE = $(shell find jade/*.jade)
HTML = $(patsubst jade/%.jade, %.html, $(JADE))

all: $(HTML)

%.html: jade/%.jade
    jade < $< --out $< --path $< --pretty > $@ 
```

如果你想`index.html`进入上层目录，但所有其他 html 文件都进入`jade/`：

```
JADE = $(shell find jade/*.jade)
HTML := $(JADE:.jade=.html)
HTML := $(subst jade/index.html, index.html, $(HTML))

all: $(HTML)

%.html: %.jade
    jade < $< --out $< --path $< --pretty > $@

index.html: jade/index.jade
    jade < $< --out $< --path $< --pretty > $@ 
```

如果有*很多*html 文件应该进入上层目录，您可以`HTML`按照自己喜欢的方式构建列表，然后：

```
%.html: %.jade
    jade < $< --out $< --path $< --pretty > $@

%.html: jade/%.jade
    jade < $< --out $< --path $< --pretty > $@ 
```

# android - 如何在android中自定义listview？

> ID：11113822
> 
> 赞同：0
> 
> 时间：2012-06-20T06:16:33.623
> 
> 标签：android, listview, android-layout

在我的游戏应用程序中，我使用列表视图来选择关卡。如果上一个级别被清除，我将激活此列表视图项 onclickable。我需要区分列表视图中的激活和未激活级别。我怎样才能使它成为可能？如果可能的话建议我教程。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:18:38.057

您可以将激活和未激活级别的逻辑放入`getView`方法中，检查是否已激活然后膨胀激活行否则未激活行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:20:38.713

首先检查[这个](https://stackoverflow.com/questions/2183610/android-how-to-disable-list-items-on-list-creation)和[这个](https://stackoverflow.com/questions/2662358/how-to-disable-items-in-a-list-view)stackoverflow问题，如果你有任何问题，尝试一些代码并发布你的问题。请先尝试。

您可以使用`setClickable(false)`禁用列表上的触摸事件。为了使它看起来被禁用，您可以更改列表项中的 textView 颜色并获得这样的效果。

谢谢

# jasper-reports - Jasper 报告：一条记录 中的第 x 页，共 y 页

> ID：11113824
> 
> 赞同：2
> 
> 时间：2012-06-20T06:16:45.270
> 
> 标签：jasper-reports

我有多条记录的报告，其中一条记录由 1-5 页组成。如何显示`"page x of y"`，`x`实际记录`y`的页数和实际记录的总页数在哪里？我有类似下面的`x`变量（在新记录上重置，按页递增），但它不起作用（在每个页面上 x 有 1 个值）：

```
<variable name="x" class="java.lang.Integer" resetType="Group" resetGroup="report_count" incrementType="Page" calculation="Count">
    <variableExpression><![CDATA[1]]></variableExpression>
    <initialValueExpression><![CDATA[new Integer(1)]]></initialValueExpression>
</variable>

<!-- group by record -->
<group name="report_count" isStartNewPage="true">
    <groupExpression><![CDATA[$V{REPORT_COUNT}]]></groupExpression>
</group>

<textField evaluationTime="Now" evaluationGroup="report_count">
    <reportElement x="141" y="5" width="156" height="20"/>
    <textElement textAlignment="Right"/>
    <textFieldExpression><![CDATA["Page "+$V{x}+" of"]]></textFieldExpression>
</textField> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-21T15:17:32.247

问题是它`calculation="count"`没有做你期望的事情。它返回您返回的非空值的计数`variableExpression`。由于您`variableExpression`只返回一个值，因此该变量始终设置为 1。

一个简单的解决方案是将计算类型设置为`"Nothing"`，并将 variableExpression 设置为`$V{x}+1`

IE：

```
<variable name="x" class="java.lang.Integer" resetType="Group" resetGroup="report_count" incrementType="Page" calculation="Nothing">
    <variableExpression><![CDATA[$V{x} + 1]]></variableExpression>
    <initialValueExpression><![CDATA[new Integer(1)]]></initialValueExpression>
</variable> 
```

* * *

## 编辑：替代解决方案

标签可以有`group`属性`isResetPageNumber`。`PAGE_NUMBER`当设置为 true 时，它​​将在每个组的开头重置内置变量。由于您已经按每条记录分组，我认为这应该会给您带来您正在寻找的效果。

# html - IE9 在新窗口/选项卡中打开链接不起作用

> ID：11113831
> 
> 赞同：3
> 
> 时间：2012-06-20T06:18:06.060
> 
> 标签：html, internet-explorer, internet-explorer-9

今天我刚刚注意到 Internet Explorer 9 在单击`target`设置为`_blank`. 它将在同一选项卡本身上打开链接。

```
<a href="www.mydomain.com" target="_blank">Link should open in new tab</a> 
```

**此功能适用于所有其他版本的 IE**

我尝试[了微软的这个解决方案，](http://support.microsoft.com/kb/281679)但根本没有用。

有没有人有这个错误的有效解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T11:10:18.883

让我们`http://`在前面输入`www.mydomain.com`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-15T04:15:02.923

在 IE9 中您只能更改 TAB 设置，似乎没有地方可以更改窗口行为。

我还发现，当我尝试在新窗口中打开页面（任何网站）时，即在同一窗口中打开它。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-10-08T19:15:23.953

它与某些网页无关。IE软件肯定有问题。即使您右键单击链接并选择“在新选项卡中打开链接”选项，它仍然会在新窗口而不是选项卡中打开它。这不会是设置问题，因为这些设置会影响单击鼠标左键的行为，而不是您告诉 IE 在 TAB 中打开特定链接的选择！我的 IE 设置虽然设置为在新选项卡中打开链接，并且与遇到弹出窗口时相同，但设置为在新选项卡中打开。所以软件有问题。请修复它

# javascript - 通过鼠标悬停切换打开并通过移动关闭，而不是通过单击

> ID：11113843
> 
> 赞同：0
> 
> 时间：2012-06-20T06:19:26.043
> 
> 标签：javascript, jquery, stack, toggle

jQuery“切换”功能问题。

可以切换由鼠标悬停启动的打开和通过鼠标悬停关闭，但不能通过单击...

目前的情况在这里：[http ://temp.wave-pr.com.hk/gbf/dock](http://temp.wave-pr.com.hk/gbf/dock)

如何通过 mouseover 和 mouseout 打开和关闭它？

js如下：

```
$(function () { 
// Stack initialize
var openspeed = 300;
var closespeed = 100;
$('.stack>img').toggle(function(){
    var vertical = 0;
    var horizontal = 0;
    var $el=$(this);
    $el.next().children().each(function(){
        $(this).animate({top: '-' + vertical + 'px', left: horizontal + 'px'}, openspeed);
        vertical = vertical + 55;
        horizontal = (horizontal+.75)*2;
    });
    $el.next().animate({top: '-50px', left: '10px'}, openspeed).addClass('openStack')
       .find('li a>img').animate({width: '50px', marginLeft: '9px'}, openspeed);
    $el.animate({paddingTop: '0'});
}, function(){
    //reverse above
    var $el=$(this);
    $el.next().removeClass('openStack').children('li').animate({top: '55px', left: '-10px'}, closespeed);
    $el.next().find('li a>img').animate({width: '79px', marginLeft: '0'}, closespeed);
    $el.animate({paddingTop: '35px'});
});
// Stacks additional animation
$('.stack li a').hover(function(){
    $("img",this).animate({width: '56px'}, 100);
    $("span",this).animate({marginRight: '10px'});
},function(){
    $("img",this).animate({width: '50px'}, 100);
    $("span",this).animate({marginRight: '0'});
}); 
```

});

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:23:14.377

代替`.toggle`, 使用`.hover`函数。前任，

```
$('.stack>img').hover(function() {
    //previos was togle 
```

# powershell - 使用 Powershell 测量 Invoke-Command

> ID：11113844
> 
> 赞同：0
> 
> 时间：2012-06-20T06:19:30.370
> 
> 标签：powershell, instrumentation, measure

我需要测量脚本块（远程执行）花费的时间。

这是我的代码：

```
try
{

    Invoke-Command -credential $testCred -computer $ServerName -scriptblock { 
        param([String]$scriptDeploy, [String]$destino)  &"$scriptDeploy" 'parametro1' $destino
        $ScriptBlockOutput = $Error
    } -ArgumentList $RutaRemotaParaScriptDeInstalacion, "$dirRemotoDestino" 

    "`r`n`r`nOK para script de despliegue"
    exit 0;

}
catch
{
    "`r`n`r`nError en script de despliegue"
    "`r`nError in " + $_.InvocationInfo.ScriptName + " at line: " + $_.InvocationInfo.ScriptLineNumber + ", offset: " + $_.InvocationInfo.OffsetInLine + ".";

    exit -1
} 
```

我想要这样的东西：http:
[//powershell.com/cs/blogs/tips/archive/2012/06/19/check-powershell-speed.aspx](http://powershell.com/cs/blogs/tips/archive/2012/06/19/check-powershell-speed.aspx)

```
 $timespan = Measure-Command $code
 "Your code took {0:0.000} seconds to run" -f $timespan.TotalSeconds 
```

有什么建议吗？

更新：我的解决方案

```
 $timespan = Measure-Command -Expression {

        Invoke-Command -credential $testCred -computer $ServerName -scriptblock { 
            param([String]$scriptDeploy, [String]$destino)  &"$scriptDeploy" 'parametro1' $destino
            $ScriptBlockOutput = $Error
        } -ArgumentList $RutaRemotaParaScriptDeInstalacion, "$dirRemotoDestino" 

    }

"`r`n`r`nScript ha tardado {0:0.000} segundos en ejectuarse" -f $timespan.TotalSeconds 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:59:45.913

问题是什么？你写的一切都很好。

```
$timespan = Measure-Command -Expression { <your code here> } 
```

最好的祝福

# asp.net - 会话变量在页面之间设置为空

> ID：11113846
> 
> 赞同：0
> 
> 时间：2012-06-20T06:19:37.260
> 
> 标签：asp.net, session-variables

我有一个包含 2 个项目的解决方案：Core 和 Web。在核心中，我管理会话我做一些事情，我称之为这个方法：

```
public void SetLog()
{
    HttpContext.Current.Session["Logged"] = true;
} 
```

那是工作。

当我更改页面时（我使用 ASP.NET 4.0 默认模板进行测试），我单击“关于”链接并调用此方法：

```
public bool IsLogged()
{
    if (HttpContext.Current.Session["Logged"] == null)
        return false;

    return true;
} 
```

在关于页面上，会话为空，正常吗？如何解决这个问题？

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:24:10.987

我怀疑您有 2 个 Web 应用程序：Core 和 Web 托管在 2 个不同的域上：`http://localhost:1234`和`http://localhost:5678`. 您似乎在第一个 Web 应用程序中设置会话变量，但此会话仅与第一个应用程序有关。一旦你离开这个应用程序，另一个就会有一个完全不同的会话。请记住，会话不能在 ASP.NET 应用程序之间共享。有解决方法，但开箱即用它不起作用。

# android - 如何在 ANDROID 中取消贝宝交易并从贝宝退还金额？

> ID：11113851
> 
> 赞同：3
> 
> 时间：2012-06-20T06:20:01.723
> 
> 标签：android, paypal

有很多例子解释了使用 PayPal 付款，但我需要如何在 Android 中取消 PayPal 交易并从 PayPal 退还金额？任何人都帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-03-31T09:25:12.980

这在 Android 方面是不可能在完成后取消您的交易的。传递您的客户端 ID 和付款 ID 后，您需要在服务器端执行

# javascript - 如何使 HTML 页面视图源不可读？

> ID：11113857
> 
> 赞同：3
> 
> 时间：2012-06-20T06:20:35.003
> 
> 标签：javascript, jquery, asp.net, xhtml

我们有一个选项可以禁用 HTML 页面上的右键单击事件，同时用户可以单击查看菜单 > 源代码，并且可以获得所显示内容的副本。我如何使它变成不可读的格式？就像当您进行谷歌搜索并看到非常相似的页面来源一样？如何才能做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-20T06:27:14.870

你不能。您可以[混淆](http://en.wikipedia.org/wiki/Obfuscation_%28software%29)脚本并缩小 html（删除所有不必要的空格），这就是谷歌所做的）。因此，使 html 的可读性（通过混淆、缩小）更加困难是最好的选择（如果必须的话）。

你也可以去flash ofcourse，就像在[这个网站上一样](https://www.nalden.net/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-15T07:41:15.573

尝试使用此站点[http://www.textfixer.com/html/compress-html-compression.php压缩代码](http://www.textfixer.com/html/compress-html-compression.php)

它将删除所有空格并压缩代码以使其不可读。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:36:02.973

`How do i make it into unreadable format?`好吧，你不能改变格式，它的纯文本，这就是浏览器期望 AFAIK 的方式，当 gmail 第一次出现时，它的源代码有点隐藏，他们实际上所做的是使用隐藏的 iframe 呈现页面的整个源代码和 JS，因为这样的用户会右键单击并获取`<!DOCTYPE html><html><head></head><body><div></div></body></html>`，但情况不再如此。

[Gmail 如何隐藏其来源](https://stackoverflow.com/questions/4656595/how-does-gmail-hide-its-source)

# asp.net-mvc-3 - 图片路径正在搜索控制器

> ID：11113860
> 
> 赞同：2
> 
> 时间：2012-06-20T06:20:39.353
> 
> 标签：asp.net-mvc-3

在运行应用程序时，我在**Application_Error**处理程序中得到异常：

```
The controller for path '/Content/images/ui-bg_glass_65_ffffff_1x400.png' was not found or does not implement IController. 
```

谁能解释一下，为什么**Image 路径**被**解释**为**MVC Action**？

MVC**路由器**正在**搜索**等效**控制器**。

这种行为真的很奇怪。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:46:37.353

我认为这是因为您的文件系统中不存在图像（IIS 首先检查文件系统中的静态内容）。尝试在 global.asax 路由注册中使用下一个代码：

```
protected void Application_Start()
{
    RegisterRoutes(RouteTable.Routes);
}
public static void RegisterRoutes(RouteCollection routes)
{
    routes.IgnoreRoute("/Content/{*path}");
} 
```

# android - 运行时的水平和垂直滚动视图

> ID：11113862
> 
> 赞同：2
> 
> 时间：2012-06-20T06:20:40.917
> 
> 标签：android, android-scrollview

我想在运行时在我的 Android 应用程序中添加水平和垂直滚动视图。

```
ScrollView sv = new ScrollView(this);
LinearLayout ll = new LinearLayout(this);
ll.setBackgroundResource(R.drawable.opsbuds);
ll.setLayoutParams (new LayoutParams 
        (LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));
ll.setOrientation(LinearLayout.VERTICAL);
LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(
    LinearLayout.LayoutParams.WRAP_CONTENT, 
    LinearLayout.LayoutParams.WRAP_CONTENT);
lp.setMargins(40, 20, 0, 0);
sv.addView(ll); 
```

现在我的代码是这样的，但它不能正常工作

```
ScrollView sv = new ScrollView(this);
HorizontalScrollView horizontal = new HorizontalScrollView(this);
LinearLayout ll = new LinearLayout(this);
ll.setBackgroundResource(R.drawable.opsbuds);
ll.setLayoutParams (new LayoutParams 
        (LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));
ll.setOrientation(LinearLayout.VERTICAL);
LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(
    LinearLayout.LayoutParams.WRAP_CONTENT, 
    LinearLayout.LayoutParams.WRAP_CONTENT);
lp.setMargins(40, 20, 0, 0);
horizontal.addView(ll); 
```

通过使用上面的代码，我可以添加垂直滚动视图。但是当我同时使用水平和垂直时，它并没有正常...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-12-29T05:50:15.063

您需要在 ScrollView 中进行布局。那个布局是什么并不重要，但我喜欢使用RelativeLayouts。您的 ScrollView 应该只有一个布局子级，并且该布局应该有一个 Horizo​​ntalScrollView 子级。

# css - 背景图像在 LocalServer 上工作正常，但通过 Internet (DynDNS) 访问时不显示

> ID：11113868
> 
> 赞同：0
> 
> 时间：2012-06-20T06:21:04.047
> 
> 标签：css, localhost, background-image, wampserver, dyndns

花了一个小时试图解决这个问题 - 但无济于事。

我在我的主计算机上运行 WAMPserver 进行开发，并且从 localhost 查看我的站点没有问题。但是，我已经使用 DynDNS 设置了通过 Internet 访问此本地服务器的权限，以向人们展示我正在处理的内容。工作正常，只是以这种方式访问​​时不显示背景图像。其他一切都显示正常。

我正在为我的背景图像 src 使用相对路径（但已经尝试过绝对路径 - 问题仍然存在）。它与我在另一台计算机上的浏览器缓存无关（我注意到这个错误）（试过了）。

任何想法可能会发生什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:49:07.607

您只需先上传图像，然后将该路径提供给图像 src。

IE`www.yoursitename.com/images/yourimage.jpg`

# java - 如果计算的哈希码超过 INTEGER MAX LIMIT 会怎样？

> ID：11113871
> 
> 赞同：4
> 
> 时间：2012-06-20T06:21:08.980
> 
> 标签：java, hash, integer, hashmap, hashtable

这是 Java HashTable 类的 hashCode() 实现。如果哈希表中的元素数量很大并且哈希码超过 INTEGER MAX LIMIT -2,147,483,648 到 2,147,483,647 怎么办？我假设 hashCodes 将是正整数。

```
 public synchronized int hashCode() {

    int h = 0;
    if (count == 0 || loadFactor < 0)
        return h;  // Returns zero

    loadFactor = -loadFactor;  // Mark hashCode computation in progress
    Entry[] tab = table;
    for (int i = 0; i < tab.length; i++)
        for (Entry e = tab[i]; e != null; e = e.next)
            h += e.key.hashCode() ^ e.value.hashCode();
    loadFactor = -loadFactor;  // Mark hashCode computation complete

    return h;
} 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-20T06:23:11.440

> 我假设 hashCodes 将是正整数。

不，不一定。它们只是整数。它们绝对可以是负数，并且在计算哈希码时出现整数溢出是可以的。理想的哈希码将均匀分布在其整个范围内（`int`在这种情况下）。任何*使用*哈希码的东西都必须考虑到值为负的可能性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:31:49.150

有时整数溢出可能不适合您的需要。我有时这样说。我还没有遇到这种情况，但我想阻止它。

我将向您粘贴我用来生成哈希码的代码。我通常通过从对象中获取所有变量并将它们转换为字符串并进行计算来做到这一点。

```
public static int generateHashCode(String ... args)
{
    int length = 0;
    char[] cArray = null;
    if(args.length == 1) {
        length = args[0].length();
        cArray = args[0].toCharArray();
    }
    else {
        for(int i = 0; i < args.length; i++) {
            length += args[i].length();
        }

        cArray = new char[length];
        int incrementer = 0;
        for(int i = 0; i < args.length; i++) {
            String str = args[i];
            for(int j = 0; j < str.length(); j++) {
                cArray[incrementer] = str.charAt(j);
                ++incrementer;
            }
        }
    }

    int h = 0;
    for (int i = 0; i < cArray.length; i++) {
        h = 31*h + cArray[i];
    }

    return h;
} 
```

# javascript - 单击时如何将图像从一个表格的单元格移动到另一个表格的单元格

> ID：11113872
> 
> 赞同：0
> 
> 时间：2012-06-20T06:21:14.297
> 
> 标签：javascript, html, css

我知道这听起来很基础，但我是 Javascript 新手。

这是我的问题：我有两个表格 - Table1 只有一个单元格，table2 有一行 4 列，包含 4 张图像（可点击）。我想要做的是当我单击任何图像时，它应该转到 Table1 的单元格。如果我单击另一个图像（在 Table2 中），它应该用第二个图像替换 Table1 中的第一个图像。

我认为我们在 Javascript 中需要两种方法——一种用于移动图像，另一种用于检索表格单元格中的图像。

任何帮助总是有帮助的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:26:24.203

```
$('#table1 tr td').click(function(){
$('#table2 tr td').html(this.html());    

}); 
```

Javascript

`onclick="copyimage(this.innerHTML)"`在 table1 的每个 td 上定义

```
function copyimage(thehtml)
{
 var x=document.getElementById("table2ID").rows[0].cells;//you can replace 0 with row index if you have more than one rows

 x[0].innerHTML=this.innerHTML;//you can replace 0 with cell index if you have more than one cells

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T07:09:09.657

我将引导您完成它而不为您编写代码。

假设您有两张桌子，`tableA`并且`tableB`. 他们都有一个`tbody`带`tr`*的。 `tableA`将只有一个`td`单元格；`tablB will have four`td`细胞。

^(*`tr`是“表格行”，因为表格的设计大部分是为了保存数据 `td`。`table data`)

使用[文档对象模型 (DOM)](https://developer.mozilla.org/en/DOM)方法，您需要在文档对象中查找并选择元素的 DOM 节点。为此，最简单的方法是将`id`属性放在您要查找的元素上。请记住，`id`页面的属性应该是唯一的（**不要欺骗！**）。这意味着`<img id="imageLanding" src="...">`and `<img id="image1" src="...">`,等是元素`<img id="image2" src="...">`的最终结果。`img`

^(旁注：HTML5 允许`id`s 为`id="1"`，但我认为这是一种不好的做法，建议不要使用这种形式。这是原则性的事情。)

至此，您应该拥有近似于：

```
table
    tbody
        tr
            td
                img id="imageLanding"
table
    tbody
        tr
            td
                img id="image1"
            td
                img id="image"
            td
                img id="image3"

... etc ... 
```

DOM 元素具有属性（“属性”的含义略有不同）和方法。例如，一个`img`元素将具有一个`src="..."`属性，在这种情况下，该`element.src`属性在`img`DOM 元素上具有相应的属性。属性是您在页面加载时给解析器的内容，而属性是属性在元素中作为 DOM 节点的内容。在某些情况下，访问的属性可能不会以您想象的方式更新，这就是存在区别的原因。

接下来，花点时间考虑使用您对事件的描述会发生什么。有人将看到*两张桌子，并***提供**点击一张桌子中**的图像**的选项，然后该功能会将点击的图像与另一张桌子的一张图像**交换。**粗体文本标识操作发生的任何地方，无论是在设置中还是在执行中。（从其中删除单击的图像并在删除另一个图像后将其移动到另一个表是另一种方法；我在这里不演示）。****`td`****

 ****所以你必须等“某事”发生后才能行动。这个“东西”是一个[*事件*](https://developer.mozilla.org/en/DOM/DOM_event_reference)。所有 DOM 元素都支持某种类型的事件（但并非所有相同的事件都发生在每种类型的元素上），这允许您在发生某些事情*时*执行某些操作：`ONclick`、、、`ONmouseover`等`ONmouseout`。它正在“发生”一个事件。考虑：

> 放学回家后，我吃了一个三明治。

请注意，如果您使用属性或直接 DOM 属性来设置带有元素的事件处理程序，则需要附加`on`到每个事件名称。换句话说，`onclick`,`onmouseover`和`onsubmit`, 用于在提交表单元素之前对其进行处理。

使用 DOM 方法（首选`onclick="stuff()"`）在实践中意味着：

```
element.onclick = function(){};` 
```

你看到的那种形式的函数称为变量函数，当以这种方式使用时，它会返回一个值给它左边的变量或属性。这样做允许您使用变量名称调用该函数并`()`添加，即，`myVar.myFunc()`或如此处所述，`element.onclick()`。

请注意，还有另一种（在一定程度上“更好”）将事件“附加”到元素的方式，但我不想用太多的选项混淆您。您还可以使用`function name(){}`格式声明，然后使用它的引用，例如`element.onclick = name;`. 请注意，当我这样做时，**no `()`​​are used**。否则，您将立即调用该函数并将其返回的结果传递给变量。在大多数情况下，您不想这样做。

现在，您对两个表的标记和“事件”的布局有了大致的了解。将两者结合起来，我们有五个带有标识符的元素。查找这些元素的 DOM 方法是：

```
var img1 = document.getElementById('image1'); 
```

将不同的 id 输入其中，您将获得对元素 DOM 节点的引用。此时，您可以操纵它，从中获取属性值等内容，并为其分配一个特殊事件，当该事件发生在该元素上时，该事件被告知“处理”该事件。例如：

```
img2.onclick = function(){
    alert('You clicked image ' + this.id);
}; 
```

或者将函数声明的引用传递给事件处理程序属性：

```
function alertID(){
    alert('You clicked image ' + this.id);
};

img2.onclick = alertID; 
```

如果您使用 DOM 元素属性设置事件处理程序，则可以使用`this`该函数内部进行自引用，即获取有关调用该函数的元素的信息。*当时在该函数内部，*您处于该元素的“上下文”中。

使用标签属性来附加事件处理程序，你最终会得到这个很无聊而且不那么有趣的东西：

```
<img id="image1" onclick="whyme(this)"/>

function whyme(el){
    alert('You clicked image ' + el.id);
}; 
```

或者，也许不是致命但肯定很痛苦，传递一个“识别”你的元素的值：

```
<img id="image1" onclick="whyme('image1')"/>

function whyme(id){
    alert('You clicked image ' + document.getElementById('id').id;
}; 
```

当然是迂回。

所以在这一点上，你必须把这些部分放在一起。你的标签中有你的表的`body`标记，你知道你需要在一个函数中“跟随一个带有动作的事件”，你知道你需要做*一些事情*来交换图像。

关于页面加载和解析的说明。在页面加载时，如果您尝试运行脚本来调用元素，则该元素必须在页面加载时按解析顺序（从上到下）位于脚本之前，或者您必须等到页面最初被解析，之后构建 DOM，现在您可以随意访问任何元素（或多或少）。jQuery 和其他语言使用自定义`ready`事件，但该事件实际上并不作为方法存在于 DOM 中。

所以你不能`onready`在纯 DOM 中使用该业务。您可以使用的是：

```
window.onload = function(){}; 
```

这将在页面被解析后触发。`onready`可能会在 before 或 after 触发`onload`，因为它通过独立监控其他东西来检测 DOM 是否准备好。对于常规的 DOM 方法，此时不要担心。

两个受影响的`img`标签被解析并转换为 DOM 元素。所以你知道你可以选择它们（使用`id`属性和 DOM 文档方法），将它们保存到变量或对象/元素属性中，然后......鼓声......你也可以访问该元素上的属性和方法使您的预期结果发生。

现在，页面已经加载，标记被解析，当`onload`事件被触发时，你有一个脚本要运行，现在呢？好吧，你写代码。当鼠标单击您告诉特别“处理”的元素之一时，您想要做的是：

```
[Function swapImages() is called and executed when mouse is clicked]
    Get the imageLanding element reference

    With the imageLanding element's reference
        Set a variable to be equal to the img tag's src attribute, img.src

    Using the clicked element's reference (hopefully this)...
        Set the imageLanding's img.sr equal to the clicked element's src attribute

    Set the clicked element's this.src = the saved value you put in the variable 

    return to the awaiting events state
[Function ends] 
```

就是这样，或多或少。我知道这听起来很多，但是你做的次数越多就越容易。您尝试做的有几种到达那里的方法（例如在 DOM 中交换元素的父标记值，如 CodeAddict 所示），但这是迄今为止最简单的方法并且具有几乎相同的效果（对于您的目的， 相同）。

一旦你了解了更多，你就可以在你的代码中做一些事情，比如动态地寻找、检测和操作事件以及对元素执行的其他相关操作，而无需事先了解太多或任何关于它们的信息。

但现在不要担心那个级别。试试这个。然后使用[MDN 的教程](https://developer.mozilla.org/en-US/learn)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T07:14:18.200

```
$('#table1 tr td img').click(function()
{
  $(this).clone().appendTo($('#table2 tr td'))
  $(this).remove();
}) 
```****

# amazon-web-services - 在 ec2 实例上执行 .sh 脚本而无需重新启动

> ID：11113873
> 
> 赞同：0
> 
> 时间：2012-06-20T06:21:17.233
> 
> 标签：amazon-web-services, ec2-ami

我目前将我的应用程序代码保留在 S3 上，并有一个 startup.sh 脚本，该脚本通过 /etc/rc.local 触发并安装应用程序和任何编辑等。因此，当我进行更改时，我需要重新启动我的所有实例更改生效。

有没有办法在不重启实例的情况下触发脚本？

编辑：

我不想单独登录我的所有实例。我更喜欢一种可以编写脚本的方法，以便一次应用于我的所有实例——这些实例位于自动缩放组中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T23:51:33.060

您可以使用 Chef 和 Puppet 等工具来实现此目的。

这是推荐的方式（至少在有 Amazon Linux AMI 的情况下），实际上，根据您的需要，似乎是这样。我认为它实际上[甚至支持 Amazon CloudFormation](https://s3.amazonaws.com/cloudformation-examples/IntegratingAWSCloudFormationWithPuppet.pdf)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T14:52:27.167

您可以登录到实例并运行脚本吗？请参阅这篇[文章](https://stackoverflow.com/a/8919031/667608)，了解如何设置服务器和登录。

根据您的编辑，您有 3 个选项 IMO。

1.  使用 CSSHX - 很棒的程序

2.  手动操作-正如您所说，这很痛苦。

3.  使用厨师或木偶或 RightScale

# jquery - 获取选中的复选框并添加到总数

> ID：11113875
> 
> 赞同：1
> 
> 时间：2012-06-20T06:21:36.170
> 
> 标签：jquery, checkbox

我有三组复选框（serviceA、B 和 C），每组有 5 个复选框，每组具有相同的类名。

我需要计算每组选中的复选框，将它们与 a、b、c（每个服务 A、B、C 的不同值）相乘，并在文本框、div 或其他任何内容中显示所有选择的总和。

到目前为止，我得到了想要的结果，一切正常，但我希望 jquery 专家告诉我是否有更好的方法或者更短甚至更整洁的方法来编写代码。

这是我的代码，也在[jsfiddle](http://jsfiddle.net/fQTUp/66/)：

HTML：

```
<html>
<body>
serviceA1 <input type="checkbox" name="serviceA1" id="serviceA1" value="1" class="serviceA" /><br />
serviceA2 <input type="checkbox" name="serviceA2" id="serviceA2" value="1" class="serviceA" /><br />
serviceA3 <input type="checkbox" name="serviceA3" id="serviceA3" value="1" class="serviceA" /><br />
serviceA4 <input type="checkbox" name="serviceA4" id="serviceA4" value="1" class="serviceA" /><br />

serviceB1 <input type="checkbox" name="serviceB1" id="serviceB1" value="1" class="serviceB" /><br />
serviceB2 <input type="checkbox" name="serviceB2" id="serviceB2" value="1" class="serviceB" /><br />
serviceB3 <input type="checkbox" name="serviceB3" id="serviceB3" value="1" class="serviceB" /><br />
serviceB4 <input type="checkbox" name="serviceB4" id="serviceB4" value="1" class="serviceB" /><br />

<p>Total<input type="text" name="TotlCost" id="TotalCost" size="10"/></p>
</body>
</html>​ 
```

Javascript：

```
$(document).ready(function() {
    $("input:checkbox").click(function(event) {
        var total = 0;
        var a = 5;
        var b = 10;
        var c = 8;
        var totalA = 0;
        var totalB = 0;
        var totalC = 0;

        $(".serviceA:checkbox:checked").each(function() {
            totalA += parseInt($(this).val());
        });
        $(".serviceB:checkbox:checked").each(function() {
            totalB += parseInt($(this).val());
        });
        $(".serviceC:checkbox:checked").each(function() {
            totalC += parseInt($(this).val());
        });

        total = totalA*a + totalB*b + totalC*c;

        if (total == 0) {
            $('#TotalCost').val('0');
        } else {
            $('#TotalCost').val(total);
        }
    });
});​ 
```

更新：另外，#TotalCost 已经从页面上的其他选择中获得了一个值，如何将复选框总计添加到 #TotalCost？

新添加：将接受的答案应用于我的代码后，我现在有另一个问题。我的表单上的控件之一是选择：

```
<select id="symb" class="big" name="symb">
  <option value="1#10#6">Basic Personal</option>
  <option value="2#20#6">Basic Family</option>
  <option value="10#90#12">Advanced Personal</option>
  <option value="11#120#12">Advanced Family</option>
</select> 
```

分隔值中的中间数字是每个选择的成本。每次用户进行选择时，如何将该成本添加到#cost 字段？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-09T09:42:30.420

你也试试

```
$('input.className:checked').length; 
```

用于计算特定复选框类中选中的复选框的总数

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:25:54.263

利用：

```
$('[name=serviceA]:checked').length;
$('[name=serviceB]:checked').length;
$('[name=serviceC]:checked').length; 
```

如果你想一起检查所有

```
$('checkbox:checked').length; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T06:36:23.043

我已经重写了您的示例，以便它从`#TotalCost`. 这意味着选中/取消选中复选框应该`#TotalCost`正确更新值，即使值`#TotalCost`是从其他地方设置的。

```
$(document).ready(function() {
    $("input.serviceA:checkbox").click(function(event) {
        var total = parseInt($("#TotalCost").val());

        if (isNaN(total)) total = 0;

        if ($(this).attr('checked')) {
            total += 5;
        } else {
            total -= 5;
        }

        $("#TotalCost").val(total);
    });

    $("input.serviceB:checkbox").click(function(event) {
        var total = parseInt($("#TotalCost").val());

        if (isNaN(total)) total = 0;

        if ($(this).attr('checked')) {
            total += 10;
        } else {
            total -= 10;
        }

        $("#TotalCost").val(total);
    });

    $("input.serviceC:checkbox").click(function(event) {
        var total = parseInt($("#TotalCost").val());

        if (isNaN(total)) total = 0;

        if ($(this).attr('checked')) {
            total += 8;
        } else {
            total -= 8;
        }

        $("#TotalCost").val(total);
    });

});​ 
```

以上几乎可以肯定是可以改进的。例如，如果给定相同类的所有复选框，例如`service`，并且`value`参数已更新为具有要添加/减去的值：

```
<html>
<body>
serviceA1 <input type="checkbox" name="serviceA1" id="serviceA1" value="5" class="service" /><br />
serviceA2 <input type="checkbox" name="serviceA2" id="serviceA2" value="5" class="service" /><br />
serviceA3 <input type="checkbox" name="serviceA3" id="serviceA3" value="5" class="service" /><br />
serviceA4 <input type="checkbox" name="serviceA4" id="serviceA4" value="5" class="service" /><br />

serviceB1 <input type="checkbox" name="serviceB1" id="serviceB1" value="10" class="service" /><br />
serviceB2 <input type="checkbox" name="serviceB2" id="serviceB2" value="10" class="service" /><br />
serviceB3 <input type="checkbox" name="serviceB3" id="serviceB3" value="10" class="service" /><br />
serviceB4 <input type="checkbox" name="serviceB4" id="serviceB4" value="10" class="service" /><br />

<p>Total<input type="text" name="TotlCost" id="TotalCost" size="10"/></p>
</body>
</html>​ 
```

您可以将代码简化为以下内容：

```
$(document).ready(function() {
    $("input.service:checkbox").click(function(event) {
        var total = parseInt($("#TotalCost").val());

        var value = parseInt($(this).val());

        if (isNaN(total)) total = 0;

        if ($(this).attr('checked')) {
            total += value;
        } else {
            total -= value;
        }

        $("#TotalCost").val(total);
    });
});​ 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-20T06:36:25.667

用这个 ：

```
$(document).ready(function() {
    $("input:checkbox").click(function(event) {
        var total = 0;
        var a = 5;
        var b = 10;
        var c = 8;
        var totalA = 0;

        $("input[type=checkbox]:checked").each(function() {
           totalA = parseInt($(this).val());
            if($(this).hasClass('serviceA')){
               total +=totalA*a;   
            }
            if($(this).hasClass('serviceB')){
               total += totalA*b;   
            }
            if($(this).hasClass('serviceC')){
               total +=totalA*c;   
            }

        });
      if (total == 0) {
            $('#TotalCost').val('0');
        } else {
            $('#TotalCost').val(total);
        }

});
});​ 
```

这里是[jsfiddle](http://jsfiddle.net/N37en/)

或者你可以使用这个：

```
$(document).ready(function() {
    $("input:checkbox").click(function() {
        var total = 0;
        var a = 5;
        var b = 10;
        var c = 8;
        var lengthA = $(".serviceA:checkbox:checked").length;
        var lengthB = $(".serviceB:checkbox:checked").length;
        var lengthC = $(".serviceC:checkbox:checked").length;
        total += lengthA*a + lengthB *b + lengthC *c;   
        $('#TotalCost').val(total);

});
});​ 
```

这是[演示](http://jsfiddle.net/VwfrA/2/)

# facebook - Facebook 没有从 url 中抓取元数据

> ID：11113883
> 
> 赞同：5
> 
> 时间：2012-06-20T06:22:27.920
> 
> 标签：facebook, html, facebook-opengraph, meta-tags

我正在尝试在我的网页上实现一个赞按钮。标题部分包含相关的元标记：

```
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:og="http://ogp.me/ns#"
  xmlns:fb="http://ogp.me/ns/fb#" >
<head>
<title>
What have you for the world today - Blogs by Antezen
</title>
<link rel="shortcut icon" href="/images/favicon3.ico" type="image/x-icon">
<link rel="icon" href="/images/favicon3.ico" type="image/x-icon">

<meta name="description" content="It was a sunny afternoon..&lt;br&gt;">
<meta property="og:site_name" content="Antezen" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />

<meta property="og:title" content="Beginning of a new chapter" />
<meta property="og:url" content="http://antezen.com/blogs/1" />
<link rel="canonical" href="http://antezen.com/blogs/1">
<meta property="og:image" content="http://www.antezen.com/system/pics/645/medium/photo.jpg?1337587175" />
<link rel="image_src" href="http://www.antezen.com/system/pics/645/medium/photo.jpg?1337587175">
<meta property="og:description" content="It was a sunny afternoon..&lt;br&gt;" />

<meta property="fb:admins" content="FB_ADMIN_ID" />
<meta property="fb:app_id" content="FB_APP_ID" /> 
```

在 body 标记内，我指定了 javascript sdk：

```
<body class='app_cont_body'>
<!-- fb JSDK -->
<div id="fb-root"></div>
<script>
  window.fbAsyncInit = function() {
    if(typeof FB != 'undefined') {
      FB.init({
        appId      : 'FB_APP_ID',
        status     : true, 
        cookie     : true,
        xfbml      : true,
        oauth      : true
      });
    }
  }

  // Load the SDK Asynchronously
  (function(d){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
      js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=FB_APP_ID";
    ref.parentNode.insertBefore(js, ref);
  }(document));
</script>
.... 
```

还有一个类似 fb 的按钮，带有这样的 xfbml 代码：

```
<div id='fblike' class='inline'>
 <fb:like href="http://antezen.com/blogs/1" send="false" layout="button_count" width="450" show_faces="false" font="arial"></fb:like> 
</div> 
```

但是在检查 facebook 调试器工具[https://developers.facebook.com/tools/debug](https://developers.facebook.com/tools/debug)中的 url 时，它表明 facebook 无法抓取 og:type 标签，如 og:image、og:title 等。我们的刮板看到您的 URL 的内容，我得到以下输出：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
 <head><meta http-equiv="content-type" content="text/html; charset=utf-8"></head>
 <body>
  <p>$(document).ready(function(){
   $(".cast_container").html("\n</p>....
   ...
   ...
   </body>
   </html> 
```

我不明白为什么 facebook 不从页面中删除元标记。请帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T18:17:58.217

我用

```
<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/Blog" xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US" xmlns:fb="https://www.facebook.com/2008/fbml">
<head prefix="og:http://ogp.me/ns# anotherfeed:http://ogp.me/ns/apps/anotherfeed#"> 
```

anotherfeed 是我的应用程序的名称空间 - 例如；[http://apps.facebook.com/anotherfeed/?ref=FSOF](http://apps.facebook.com/anotherfeed/?ref=FSOF) 头部前缀用于开放图，希望这会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2022-03-02T17:47:03.110

我遇到了同样的问题，遵循以下程序

1.  我们已经为 header.js 文件中的每个页面实现了 OGP 元标记，这些标记是从 React js 应用程序中的 CMS API 获取的。

2.  通过使用 Inspect Element 选项，我们可以在浏览器的应用程序的标题部分中看到 OGP 元标记

3.  无法获取第 3 方元标记工具，例如[https://www.opengraph.xyz/](https://www.opengraph.xyz/)或[https://developers.facebook.com/tools/debug/](https://developers.facebook.com/tools/debug/)工具，并且未显示在页面的“查看源代码”中我们已尝试使用 react-meta-tags 和 react-helmet npm 包但没有运气

# perl - Perl远程写文件连接报错Net::SFTP::Foreign

> ID：11113889
> 
> 赞同：1
> 
> 时间：2012-06-20T06:22:47.173
> 
> 标签：perl, ssh, sftp, perl-module, ssh-keys

当我手动运行这个 Perl 脚本时，它可以建立连接。但是当我实施到系统中时，它会显示：`authenticity of the target host can't be established, the remote host public key is probably not present on the '~/.ssh/known_hosts' file`.

我需要这方面的帮助和建议。

```
my $host = "xxxs.com";
my $sftp = Net::SFTP::Foreign->new($host,user => 'xxx', password => 'xxx',
                                   more => '-v',stderr_fh => $ssherr); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T07:51:03.717

查看Net::SFTP::Foreign 文档中的[常见问题解答。](http://search.cpan.org/~salva/Net-SFTP-Foreign-1.73/lib/Net/SFTP/Foreign.pm#FAQ)**它在主机密钥检查**下归档，是最后一个条目。这是一个摘录。

> 主机密钥检查
> 
> 问：使用密码验证连接到远程服务器失败，并出现以下错误：
> 
> ```
> The authenticity of the target host can not be established,
> connect from the command line first 
> ```
> 
> A：这可能意味着来自远程服务器的公钥没有存储在`~/.ssh/known_hosts file`. 以与脚本相同的用户身份从命令行运行 SSH 连接，并在被要求确认提供的密钥时回答“是”。

那里也有一个例子。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-07T19:05:39.943

我的解决方案是：

```
my $ftp = Net::SFTP::Foreign->new( $HOST, 
                                    user => $USERNAME, 
                                    password => $PASSWORD, 
                                    more => [-o => 'StrictHostKeyChecking no'] ); 
```

StrictHostKeyChecking 成功的地方。

参考：[https ://www.freebsd.org/cgi/man.cgi?query=Net::SFTP::Foreign](https://www.freebsd.org/cgi/man.cgi?query=Net::SFTP::Foreign)

# ruby-on-rails - Rails 中的跨平台文件名

> ID：11113892
> 
> 赞同：0
> 
> 时间：2012-06-20T06:23:06.297
> 
> 标签：ruby-on-rails, ruby, filesystems, cross-platform

我有一个输入字段，用户正在其中插入文件名。然后正在创建具有此名称的文件。问题在于不同操作系统上的文件系统之间存在差异。在用户方面，我有一个 javascript 正则表达式。这里是：

```
/^[0-9a-zA-Z\^\&\'\@\{\}\[\]\,\$\=\!\-\#\(\)\.\%\+\~\_ ]{1,228}$/ 
```

它只允许使用字母数字字符和指定的符号。我还需要我的服务器端代码来尝试创建文件（如 UNIX/LINUX 操作系统中的触摸命令）并处理错误（如果有）。我怎么能在 Ruby 上做到这一点？跨平台产品有更好的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T13:49:15.250

当文件名无效并为用户打印时，我已经解决了捕获异常的问题。

```
begin
     touch_file = open("#{@base_dir}#{file_name}", 'w')
     if touch_file
        #here goes code for opening file and inserting some text into it
     end
     rescue Exception => msg
          #here I return msg.message to user

 end 
```

# python - 在 Python 代码中使用 Git 命令

> ID：11113896
> 
> 赞同：23
> 
> 时间：2012-06-20T06:23:18.007
> 
> 标签：python, git

我被要求编写一个脚本，从 Git 中提取最新代码，进行构建，并执行一些自动化单元测试。

我发现有两个现成的用于与 Git 交互的内置 Python 模块：`GitPython`和`libgit2`.

我应该使用什么方法/模块？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-06-20T06:33:24.223

一个更简单的解决方案是使用 Python`subprocess`模块来调用 git。在您的情况下，这将提取最新代码并构建：

```
import subprocess
subprocess.call(["git", "pull"])
subprocess.call(["make"])
subprocess.call(["make", "test"]) 
```

文件：

*   [子进程 - Python 2.x](https://docs.python.org/2/library/subprocess.html)
*   [子进程 - Python 3.x](https://docs.python.org/3/library/subprocess.html)

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-06-20T08:37:16.263

我同意伊恩·韦瑟比的观点。您应该使用 subprocess 直接调用 git。如果您需要对命令的输出执行一些逻辑，那么您将使用以下子进程调用格式。

```
import subprocess
PIPE = subprocess.PIPE
branch = 'my_branch'

process = subprocess.Popen(['git', 'pull', branch], stdout=PIPE, stderr=PIPE)
stdoutput, stderroutput = process.communicate()

if 'fatal' in stdoutput:
    # Handle error case
else:
    # Success! 
```

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2019-10-22T20:41:47.830

因此，在 Python 3.5 及更高版本中， .call() 方法已被弃用。

[https://docs.python.org/3.6/library/subprocess.html#older-high-level-api](https://docs.python.org/3.6/library/subprocess.html#older-high-level-api)

当前推荐的方法是在子进程上使用 .run() 方法。

```
import subprocess
subprocess.run(["git", "pull"])
subprocess.run(["make"])
subprocess.run(["make", "test"]) 
```

当我去阅读文档时添加这个，上面的链接与接受的答案相矛盾，我不得不做一些研究。加上我的 2 美分，希望能为别人节省一点时间。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-20T08:38:22.317

在[EasyBuild](https://github.com/hpcugent/easybuild)中，我们依赖 GitPython，效果很好。

有关如何使用它的示例，请参见[此处。](https://github.com/hpcugent/easybuild-framework/blob/master/easybuild/tools/repository/gitrepo.py)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-11-21T20:11:23.753

如果 GitPython 包不适合你，还有 PyGit 和 Dulwich 包。这些可以通过 pip 轻松安装。

但是，我个人只是使​​用了子流程调用。非常适合我需要的东西，这只是基本的 git 调用。对于更高级的东西，我推荐一个 git 包。

* * *

## 回答 #6

> 赞同：-8
> 
> 时间：2012-06-20T06:53:04.780

如果您在 Linux 或 Mac 上，为什么要使用 python 来完成这项任务？编写一个shell脚本。

```
#!/bin/sh
set -e
git pull
make
./your_test #change this line to actually launch the thing that does your test 
```

# cuda - 如何释放 device_vector

> ID：11113899
> 
> 赞同：4
> 
> 时间：2012-06-20T06:23:39.957
> 
> 标签：cuda, gpu, thrust

我使用推力设备矢量分配了一些空间，如下所示：

```
thrust::device_vector<int> s(10000000000); 
```

我如何明确*和正确地*释放这个空间？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-20T17:29:26.150

`device_vector`当超出范围时释放关联的存储，就像任何标准 c++ 容器一样。

如果您想在 Thrust`vector`的生命周期内手动解除分配任何 Thrust 的存储空间，您可以使用以下方法执行此操作：

```
// empty the vector
vec.clear();

// deallocate any capacity which may currently be associated with vec
vec.shrink_to_fit(); 
```

`swap`罗杰达尔的回答中提到的技巧也应该有效。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-20T15:25:30.367

`clear()`将向量的大小设置为 0，但可能不会释放关联的内存。使用 STL 释放内存的标准方法是将向量与空向量交换。它也应该适用于推力。

```
v.clear();
device_vector<T>().swap(v); 
```

# python - 用于烧瓶应用程序的内存存储

> ID：11113903
> 
> 赞同：9
> 
> 时间：2012-06-20T06:24:02.093
> 
> 标签：python, flask

我的烧瓶应用程序将一些数据存储在数据库中。如果我的应用程序已关闭一段时间，我希望丢弃这些数据。这样做的原因是我想确保我没有错过对我的应用程序的 REST 调用。

显而易见且有效的解决方案是将这些数据存储在内存中，但我对任何解决方案都持开放态度（例如，在应用程序重新启动时删除旧记录）。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-21T10:09:13.797

如果您的应用程序不需要持久性，为什么不使用 SQLite 后端（[在 flask 中很容易](http://flask.pocoo.org/docs/patterns/sqlite3/)）并将数据库存储在内存中（使用`:memory:`文件名作为数据库），然后在每次关闭时清理您的数据。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T06:35:41.983

您可以使用[持久的内存映射文件](http://msdn.microsoft.com/en-us/library/dd997372.aspx)。Python 有一个[工具](http://www.linux-support.com/cms/mmap-memory-mapped-files-in-python/)（[mmap](http://docs.python.org/library/mmap.html)）来处理这些文件。

# javascript - 模板引擎中的“with”和“no with”

> ID：11113909
> 
> 赞同：2
> 
> 时间：2012-06-20T06:24:39.523
> 
> 标签：javascript, underscore.js, template-engine, dot.js

我正在寻找一个 javascript 模板引擎，它在**大型 js 应用程序**中使用时性能良好，也非常适合**移动应用程序**。因此，我已经针对这些进行了各种 jsPerf 测试。似乎有很多显示不同的结果，并且很难找出哪个是标准测试。

有人可以指导我一个我可以参考的标准 jsPerf，它还应该包括以下模板：灰尘、下划线、霍根、小胡子、车把。

1.  从我观察到的 dot.js 是一个稳定的表现者，具有良好的渲染速度，但它对于大型应用程序是否足够成熟？

2.  jsPerf 测试中显示的“with”和“no with”（特定于**underscore.js**）是什么？有人可以解释一下。

3.  在所有测试中，我看到流行的模板，如 mustache、handlebars、dust、hogan 等似乎比其他模板性能落后，那么为什么人们使用它们而忽略了表现最好的模板，是因为这些模板引擎的成熟度吗？

提前致谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-07-10T01:29:14.287

> 有人可以指导我一个我可以参考的标准 jsPerf，它还应该包括以下模板：灰尘、下划线、霍根、小胡子、车把。

我知道非手无寸铁。这是必需的吗？为什么？

## 下划线

> jsPerf 测试中显示的“with”和“no with”（特定于 underscore.js）是什么？有人可以解释一下。

### 有，方便，性能慢

```
_.template("<%= myvar %>", { myvar: "foo" }); 
```

### 不带，不方便，性能更快

```
_.template("<%= data.myvar %>", { myvar: "foo" }, { variable: "data" }); 
```

### 两全其美

```
_.extend( _.templateSettings, { variable: "data" } ); // Do this once.
_.template("<%= data.myvar %>", { myvar: "foo" });
_.template("<%= data %>", "foo");
_.template("<%= override.myvar %>", { myvar: "foo" }, { variable: "override" }); 
```

另请注意，如果第二个参数为 null、未定义或未给出，则模板函数将返回已编译的模板。所以在覆盖变量的情况下：

```
var renderFn = _.template("<%= override.myvar %>", null, { variable: "override" });
renderFn({ myvar: "foo" }); 
```

## 性能与可读性

> 在所有测试中，我看到流行的模板，如 mustache、handlebars、dust、hogan 等似乎比其他模板性能落后，那么为什么人们使用它们而忽略了表现最好的模板，是因为这些模板引擎的成熟度吗？

并非 JavaScript 中的所有内容都与性能有关。必须在可扩展性、可维护性、可读性和便利性之间取得平衡。经验法则是代码的可读性和便利性，然后只在需要时优化性能。有一个[SO 线程](https://stackoverflow.com/questions/30754/performance-vs-readability)对此主题进行了很好的讨论。

So to answer, other template methods are often chosen with performance at a lower priority then others.

# jquery - jqGrid getRowData 返回错误的结果

> ID：11113913
> 
> 赞同：1
> 
> 时间：2012-06-20T06:24:58.740
> 
> 标签：jquery, jquery-ui, jqgrid

我有 jqGrid 如下..

```
$('#addPGrid').button();
    jQuery("#pGrid").jqGrid({ 
    datatype: "local", 
    height: 400, 
    width:500,
    ondblClickRow:dblClck,
    colNames:['PName','PValue',"pid","pValue"], 
    colModel:[ {name:'pName',index:'pName', width:140}, {name:'pValue',index:'pValue', width:100}, {name:'pId',index:'pId', width:1, hidden:true}, {name:'pValue',index:'pValue', width:1, hidden:true}],
    caption: "FP" }); 
```

每次要输入数据时，我都会创建一个 jsonObject，并将其添加到 JqGrid 中，如下所示，

```
var jsonObj = [];
jsonObj.push({pName: pNameP, pValue:pValuePlForGrid , pId:pId, dValue:dValueName});
jQuery("#pGrid").jqGrid('addRowData',1,jsonObj[0]); 
```

我正在尝试以这种方式从网格中获取数据，

```
 for(var u=1;u<=jQuery('#pGrid').jqGrid('getGridParam','records');u++)
          {
          alert(u);
           var fg = jQuery("#pGrid").jqGrid('getRowData',u);
           alert(fg.pName+"   "+fg.pValue+"   "+fg.pId+"   "+fg.dValue);
           } 
```

仅显示 rowId 1 的元素，其余显示为未定义..

请帮助..!!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T15:37:50.887

您的问题在于调用`addRowData`：

```
.jqGrid('addRowData',1,jsonObj[0]); 
```

您正在指定行 ID，`1`因此每行都具有相同的 ID - 因此除`1`未定义之外的所有其他行。

根据以下[文档`addRowData`](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3amethods)：

> **参数**
> 
> rowid, 数据, 位置, srcrowid
> 
> **描述**
> 
> 在指定位置（表中的第一个、表中的最后一个或在 srcrowid 中指定的行之前或之后）插入一个 id = rowid 的新行，该行包含 data（对象）中的数据。数据对象的语法是：`{name1:value1,name2: value2…}`其中 name 是 colModel 中描述的列的名称， value 是值。此方法可以一次插入多行。在这种情况下，数据参数应该是定义为的数组 `[{name1:value1,name2: value2…}, {name1:value1,name2: value2…} ]`，第一个选项 rowid 应该包含来自数据对象的名称，该名称应该作为行的 id。在这种情况下，rowid 的名称不必是 colModel 的一部分。

因此，为了解决您的问题，当您调用时，`addRowData`您可以使用每次递增的变量，也可以设置`rowid`为应用作行 ID 的数据对象的名称。

这有帮助吗？

# android - 将 sqlitedatabase 中的文件放在我们应用程序的什么位置

> ID：11113914
> 
> 赞同：0
> 
> 时间：2012-06-20T06:25:03.250
> 
> 标签：android, database, sqlite, android-layout

我为数据库创建了一个应用程序，其中包含一个学生表和 3 个字段，但我不知道如何将应用程序中的文件添加到`sqlite database`.

**数据库助手：**

```
 public class DatabaseHelper extends SQLiteOpenHelper {

  public static final String DATA_BASE="Mydatabase.db";
public static final String TABLE_NAME="Student";
public static final int DATABASE_VERSION =1;

public DatabaseHelper(Context context) {
 super(context, DATA_BASE, null, DATABASE_VERSION);
}

@Override
public void onCreate(SQLiteDatabase db) {

db.execSQL("CREATE TABLE " + TABLE_NAME + 
 "(Name TEXT, AGE NUMERIC, ADDRESS TEXT)"); }

@Override
public void onUpgrade(SQLiteDatabase db,
        int oldVersion, int newVersion) {

}
} 
```

* * *

**主要活动：**

```
public class DatabaseHelper extends SQLiteOpenHelper {

public static final String DATA_BASE="Mydatabase.db";
public static final String TABLE_NAME="Student";
public static final int DATABASE_VERSION =1;

public DatabaseHelper(Context context) {
 super(context, DATA_BASE, null, DATABASE_VERSION);
}

@Override
public void onCreate(SQLiteDatabase db) {

db.execSQL("CREATE TABLE " + TABLE_NAME + 
 "(Name TEXT, AGE NUMERIC, ADDRESS TEXT)"); }

@Override
public void onUpgrade(SQLiteDatabase db,
        int oldVersion, int newVersion) {

}
} 
```

* * *

**显示活动：**

```
 public class DisplayActivity extends Activity {

private ArrayList<String> arrayList = 
                    new ArrayList<String>();

private SQLiteDatabase Mydatabase;
ListView listView;
EditText enter;
@Override
public void onCreate(Bundle b) {
    super.onCreate(b);
    setContentView(R.layout.display);
    listView=(ListView)findViewById(R.id.listView);

    //OpenAndQueryDatabase

    try {
    DatabaseHelper db = new DatabaseHelper(this);
        //Open the database
        Mydatabase = db.getWritableDatabase();
        Cursor c = Mydatabase.rawQuery(
                "SELECT * FROM Student", null);

        if (c != null ) {
            if  (c.moveToFirst()) {
                do {
                    String Name = c.getString(
                            c.getColumnIndex("Name"));
                    int age = c.getInt(
                            c.getColumnIndex("AGE"));
                    String address = c.getString(
                            c.getColumnIndex("ADDRESS"));
                arrayList.add("Name    : " + Name +"\n"+ 
                               "Age        : " +age +"\n"+
                               "Address : " + address+"\n");
                }while (c.moveToNext());
            } 
        }           
        } catch (SQLiteException se ) { } 
        finally {
        if (Mydatabase != null) 
            Mydatabase.close();
    }

    //displayResultList

  listView.setAdapter(new ArrayAdapter<String>(this,
            android.R.layout.simple_list_item_1, 
                                    arrayList));
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T06:36:57.217

[你可以在这里](https://stackoverflow.com/questions/7336712/how-to-replace-a-sqlite-db)找到你的答案。只需在 SD 卡中的某个位置创建一个文件。

data/ 文件夹受操作系统保护，只有根设备可以看到它。

您需要的是链接的答案：使用 new File("/sdcard/myFolder/myFile.sqlite") 打开 SDCARD 中的文件。

```
File databaseLocation = new File("/sdcard/myFolder/myFile.sqlite" ); 
SQLiteDatabase db = SQLiteDatabase.openOrCreateDatabase(databaseLocation , null); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T07:04:40.520

您可以通过执行以下操作将数据库从模拟器中拉出以查看。

1) 转到 Eclipse 中的 DDMS 屏幕。
2）打开名为“文件资源管理器”的选项卡
3）导航到包含您的数据库的目录（通常`data\data\your.package.name\databases`）
4）突出显示/选择您的数据库文件
5）在右上角单击箭头指向右侧的图标“拉来自设备的文件”
6) 按照提示将文件保存到您的计算机。
7) 使用您选择的 SQLite 数据库浏览器打开文件。

**编辑**

请注意，这仅适用于模拟器上的数据......它不会从真实设备中提取数据库，因为真实设备上的`data`目录在您的应用程序外部受到保护/无法访问。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T07:05:05.790

在 Eclipse 中转到 windows -> Showview ->android ->File Explorer 你可以在这里看到你的数据库 /data/data/yourpackage/database 使用右上角的按钮从那里拉你的数据库。 [https://addons.mozilla.org/en-US/firefox/addon/sqlite-manager/](https://addons.mozilla.org/en-US/firefox/addon/sqlite-manager/) 使用这个 Firefox 添加来查看您的数据。

# c# - 在 LINQ to SQL 存储库中设置上下文

> ID：11113918
> 
> 赞同：0
> 
> 时间：2012-06-20T06:25:14.467
> 
> 标签：c#, .net, linq, linq-to-sql, repository-pattern

我正在尝试使用 LINQ to SQL 数据上下文来实现通用存储库模式。上下文以 NULL 形式出现。为了获得上下文并使其发挥作用，需要进行哪些更改？

我有一个**dbml**文件，其中包含以下内容：

```
public partial class LibraryManagementClassesDataContext : System.Data.Linq.DataContext 
```

它有帐户实体

代码

```
static void Main(string[] args)
{

        RepositoryLayer.Repository<RepositoryLayer.Account> selectedRepository = new RepositoryLayer.Repository<RepositoryLayer.Account>();
        AccountBusiness accountBl = new AccountBusiness(selectedRepository);
        List<RepositoryLayer.Account> accountList =   accountBl.GetAllAccounts();

}

namespace RepositoryLayer
{
public interface IRepository<T> where T : class
{
    System.Linq.IQueryable<T> GetAll();
}

public class Repository<T> : IRepository<T> where T : class
{
    public System.Data.Linq.DataContext Context
    {
        get;
        set;
    }

    public virtual System.Linq.IQueryable<T> GetAll()
    {
        if (Context == null)
        {
            throw new Exception("Context is null");
        }
        return Context.GetTable<T>();
    }

}
}

public class AccountBusiness
{
    //IRepository<T>
    RepositoryLayer.IRepository<RepositoryLayer.Account> accountRepository;
    public AccountBusiness(RepositoryLayer.IRepository<RepositoryLayer.Account> repo)
    {
        accountRepository = repo;
    }

    public List<RepositoryLayer.Account> GetAllAccounts()
    {
        IQueryable<RepositoryLayer.Account> acc = accountRepository.GetAll();
        return acc.ToList();
    }

} 
```

阅读：

1.  [LinqToSql 声明和实例化 DataContext 最佳实践？](https://stackoverflow.com/questions/549393/linqtosql-declare-and-instantiate-datacontext-best-practice)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:29:24.657

当然它是空的：你永远不会为你的`Context`财产赋值。去做就对了：

```
using(var context = new LibraryManagementClassesDataContext())
{
    RepositoryLayer.Repository<RepositoryLayer.Account> selectedRepository = new RepositoryLayer.Repository<RepositoryLayer.Account>();
    selectedRepository.Context = context;
    AccountBusiness accountBl = new AccountBusiness(selectedRepository);
    List<RepositoryLayer.Account> accountList =   accountBl.GetAllAccounts();
} 
```

我也建议`Repository.DataContext`是`LibraryManagementClassesDataContext`类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:28:44.560

由于尚未实例化上下文，您可以在类构造函数中创建它。像这样的东西...

```
public class Repository<T> : IRepository<T> where T : class
{
    public Repository()
    {
        this.Context = new System.Data.Linq.DataContext()
    }
} 
```

您还可以使您的上下文保持短暂并尽早处理它。在此处阅读有关尽早处理它的更多信息：[在 LINQ-SQL 中，包装 DataContext 是一个 using 语句 - 优点缺点](https://stackoverflow.com/questions/2292462/in-linq-sql-wrap-the-datacontext-is-an-using-statement-pros-cons)

```
public virtual System.Linq.IQueryable<T> GetAll()
{
    using (var context == new System.Data.Linq.DataContext())
    {
        return Context.GetTable<T>();
    }
} 
```

# javascript - 为什么 Jquery 切换不起作用

> ID：11113920
> 
> 赞同：0
> 
> 时间：2012-06-20T06:25:17.163
> 
> 标签：javascript, jquery, html

我的 index.php 上有这段代码（index.php 有它自己的 CSS 文件）：

```
<script type="text/javascript" src="jquery-1.7.2.min.js"></script>
<script type="text/javascript">
$(document).ready(function() {
$("select").click(function() {
    var destino = document.formu0.list0.value
    var lista = "#listaP"+destino;
    $(lista).toggle(2000)
 });
});
</script> 
```

在另一个文件中，我有一个生成 html 代码的 php 代码，menuP 是包含的标签（display: none; padding-right: 10px;）：

```
echo '<tr>';
echo '<td>';
echo '<div id="lista0">';
echo '<form name="formu0">';
echo '<select size="10" name="list0">';
for ($i = 0; $i < count($cidades); $i++)
    echo '<option value="'.($i).'">'.$cidades[$i][0].'</option>';
echo '</select></form></div></td>';

echo '<menuP>';
for ($i = 0; $i < count($cidades); $i++)
{
    $k = 0;
    echo '<td>';
    echo '<div id="listaP'.$i.'">';
    echo '<form name="formuP'.$i.'">';
    echo '<select size="6" name="listP'.$i.'">';
    for ($j = 0; $j < count($resultsA); $j++)
        if ($resultsA[$j][0] == $cidades[$i][0])
        {
            if(count($resultsA[$j])==6)
                $tipo = 'Onibus';
            else
                $tipo = 'Aviao';
            echo '<option value="'.($k).'">'.'Preco R$: '.$resultsA[$j][1].' Tipo: '. $tipo .'</option>';
            $k++;
        }
    echo '</select></form></div></td>';
}
echo '</menuP>'; 
```

我在这里做错什么了吗？尽管“destino”和“lista”具有正确的值，并且使用空白网站对其进行测试，但该代码不起作用。基本功能是隐藏/显示与用户单击的城市相对应的特定数据列表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T13:42:08.677

“menuP 是包含的标签（显示：无；填充右：10px；）”

有你的问题。如果祖先元素不可见，则切换后代元素的可见性将无效。

这是一个小提琴演示：http: [//jsfiddle.net/32eXp/](http://jsfiddle.net/32eXp/)

您需要找到一种方法使`<menuP>`元素可见。

# c# - 为什么跨 AppDomains 从 SslStream 读取成功但返回一个空缓冲区？

> ID：11113921
> 
> 赞同：2
> 
> 时间：2012-06-20T06:25:17.403
> 
> 标签：c#, attributes, marshalling, appdomain, sslstream

[`SslStream`](http://msdn.microsoft.com/en-us/library/system.net.security.sslstream.aspx)当使用该方法正常读取时`Read(byte[] buffer, int offset, int count)`，我得到了预期的结果。

但是，如果我将`SslStream`对象移动到 new`AppDomain`中，读取似乎仍然正常运行（即返回正确的读取字节数），但`buffer`数组为空。

为什么是这样？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-20T06:25:18.403

经过[一番调查](https://stackoverflow.com/questions/9072075/how-do-the-in-and-out-attributes-work-in-net)，参数数组的内容似乎没有跨 AppDomains 编组（可能是出于性能原因）。

因此，`buffer`参数中的数据只传递一种方式。本地 AppDomain 中的调用者将看不到对远程 AppDomain 中数组的修改。

强制返回数组参数中的数据的方法是给参数加上`[Out]`属性。

要解决问题中所述的问题，请为`SslStream`和使用它创建一个包装类：

```
[Serializable]
internal class SslStreamWrapper : SslStream
{
    public SslStreamWrapper(
        Stream innerStream,
        Boolean leaveInnerStreamOpen,
        RemoteCertificateValidationCallback validationCallback,
        LocalCertificateSelectionCallback selectionCallback)
     : base(innerStream, leaveInnerStreamOpen, validationCallback, selectionCallback)
    {
    }

    // Add the [Out] attribute to the 'buffer' parameter.
    public override Int32 Read([In, Out] Byte[] buffer, Int32 offset, Int32 count)
    {
        return base.Read(buffer, offset, count);
    }
} 
```

该类具有`[Serializable]`属性，允许它在 AppDomain 之间传递，并且包含隐式`[In]`参数是为了与其他 Stream 类保持一致。

许多其他 .NET 类继承自`Stream`（例如`MemoryStream`和`BufferedStream`- 甚至`Stream`其自身）在方法中包含参数的`[In, Out]`属性。`buffer``Read()`

我想知道是否故意选择省略它们`SslStream`... 这适用于所有版本的 .NET。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-07-18T06:22:34.920

这是@JonSkeet 在对已接受答案的评论中建议的使用组合而不是继承的替代解决方案的代码：

```
[Serializable]
public class CrossAppDomainStreamWrapper : Stream
{
    public CrossAppDomainStreamWrapper(Stream stream) => Stream = stream;

    public Stream Stream { get; }
    public override bool CanRead => Stream.CanRead;
    public override bool CanSeek => Stream.CanSeek;
    public override bool CanWrite => Stream.CanWrite;
    public override long Length => Stream.Length;
    public override long Position
    {
        get => Stream.Position;
        set => Stream.Position = value;
    }

    public override void Flush() => 
       Stream.Flush();
    public override long Seek(long offset, SeekOrigin origin) =>
        Stream.Seek(offset, origin);
    public override void SetLength(long value) =>
       Stream.SetLength(value);
    public override int Read([In, Out] byte[] buffer, int offset, int count) =>
       Stream.Read(buffer, offset, count);
    public override void Write(byte[] buffer, int offset, int count) =>
       Stream.Write(buffer, offset, count);
} 
```

# mysql - 合并两个 SIMILAR 结构的表

> ID：11113925
> 
> 赞同：0
> 
> 时间：2012-06-20T06:25:25.433
> 
> 标签：mysql

我有两个表，它们的内容几乎相同，结构也非常相似。它们是我们的实时数据库与我们的开发数据库。我们的开发数据库架构已经进行了一些更改以反映需求，但现在我们需要它成为新的实时结构。所以我只需要从我们的开发表中删除数据并使用新的开发结构将当前存在的数据导入开发.

我们的表格结构很大，或者我会发布差异，但我认为这个概念是普遍的。

如果有人有任何建议，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T06:46:58.400

我建议`ALTER TABLE`住表，如果不合适的话

```
INSERT INTO `dev` (`field1`, `field2` ..., `fieldN`) 
SELECT `field1live`, `field2live` ..., `fieldNlive` FROM `live` 
```

fieldXlive 可以替换为他的列的迁移表达式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:38:55.603

尝试：

```
INsert into table .... on duplicate key update 
```

# apache - wsdl 操作未显示在肥皂客户端中

> ID：11113928
> 
> 赞同：0
> 
> 时间：2012-06-20T06:25:28.473
> 
> 标签：apache, axis

我有一个 wsdl 文件。在服务器上运行它并访问服务时，它会显示来自 wsdl 的所有操作。但是当我通过肥皂客户端访问 wsdl 时，方法名称会被更改。

202.54.134.157:8080/MDR/services 这列出了我的服务

但是当通过 soapclient.com/soaptest.html 访问 wsdl 时，它显示了一种方法 getExitedWebPages 显示为 getExitedMetadata 的差异。请帮助我哪里出错了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-27T07:33:05.783

您是否尝试过使用 SoapUI 客户端。您只需要保存服务的 WSDL 文件并创建新的 SOAPUI 项目。[从这里](http://www.soapui.org/)下载并安装 SoapUI。运行 SoapUI 客户端并转到 File--> New soapui Project。然后你会看到一个弹出窗口。为您的项目命名并浏览并选择您的服务 wsdl 文件。现在单击确定按钮创建一个新项目。在请求窗口中选择一个操作并填写请求消息。现在单击请求窗口左上角的绿色箭头按钮，将您的请求发送到服务。如果您已在特定端点部署服务，那么您将收到响应，您可以在请求窗口的右侧窗格中看到它。如果它是仅限于内部的请求，您将不会得到任何响应。希望这对您有所帮助，[如何使用soapui-client](http://shameerarathnayaka.blogspot.com/2012/06/how-to-use-soapui-client.html)

# android - 将视图动态放置在布局中的新行上，以便在它们溢出容器时水平放置

> ID：11113930
> 
> 赞同：4
> 
> 时间：2012-06-20T06:25:44.777
> 
> 标签：android, android-layout, overflow, containers, alignment

我有一个`MapView`放置`Drawable`标记的位置，限制设置为 10。`RadioButton`为每个标记创建一个，以便单独选择它们以移动到地图上的另一个位置。他们使用相同`RadioGroup`的互斥性。当五个`RadioButtons`水平放置时，我想在屏幕上再开始一个“新行”五个`RadioButtons`。

为了实现这一点，是否可以`RadioGroup`在第二行使用新的以某种方式链接到第一行？或者当它水平“溢出”它的容器时，是否有一个 layouts( `ViewGroup`) 的属性会强制换行？`Views`在我的实验中，当容器在屏幕上没有空间时，布局`Views`会进一步向右移动。 `CSS`通过设置`"overflow:hidden"`在其容器中包含元素有一个很好的解决方案，在这里使用类似的东西会很好。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T06:33:51.140

您可能想尝试[此答案](https://stackoverflow.com/questions/549451/line-breaking-widget-layout-for-android/560958#560958)中的解决方案。对于我前段时间遇到的类似问题，它工作得很好。

# wordpress - 将我的博客移至新平台 - SEO 视角

> ID：11113933
> 
> 赞同：0
> 
> 时间：2012-06-20T06:25:48.997
> 
> 标签：wordpress, seo, community-server

我在基于社区服务器的平台上有一个博客，我想将其移至 Wordpress。由于这是一个我已经加入的社区，我不想失去那个社区的普通读者，所以我计划交叉发布我在社区服务器平台上发布的每一个新帖子。我将发布博客的标题，以及简短的描述，以及指向 wordpress 上的帖子的链接。这将如何影响SEO？有什么我应该注意的吗？我只关心我在 wordpress 上的新博客的 SEO，社区服务器平台上的其他帖子只是为了记录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-24T03:30:17.210

如果旧站点的流量很大，则发布从旧站点到新站点的链接将有助于搜索引擎更快地找到您的新站点。

我对你的问题是旧网站会发生什么？你如何假装使用它以及使用多长时间？

我认为您必须为每个步骤设置一个时间范围以避免依赖（新站点取决于旧站点）

1 - 确保您的读者和新用户了解这一举措，通过电子邮件、您的时事通讯或旧网站上的横幅通知他们。

2- 将所有订阅者、用户等迁移到新站点

3- 在旧网站上**请勿发布任何类型的 REL 规范链接**或**301 重定向，除非您将所有帖子从旧网站移至新网站**，否则您是在向搜索引擎说某些内容已移至新站点或某些内容与您的新站点上找不到的内容相同。

4-确保旧站点上的帖子描述和链接对您的读者来说看起来不错，而无需完全复制新站点上帖子的前几行，请使用不同的内容，否则您将影响旧站点以及以后这将对您的网站产生多米诺骨牌效应。

5-利用从旧站点到新站点的智能链接，避免使用“阅读更多”或“单击此处”等链接链接到新站点上的帖子。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T11:46:45.637

那是搜索引擎优化自杀。通过这样做，您基本上是从头开始明智地进行 SEO。您需要将旧内容迁移到新站点，并从旧 URL 到新 URL 进行 301 重定向。这样，Google 分配给您页面的所有链接和任何排名都将“转移”到您的新页面并保留您的排名。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-21T16:23:22.520

同意 301 重定向。这将保持搜索引擎优化的实力。此外，我会确保您对要保持排名的新链接有规范的参考。如果没有规范，Google 将任意选择它排名的文章。[http://en.wikipedia.org/wiki/URL_canonicalization](http://en.wikipedia.org/wiki/URL_canonicalization)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T09:22:36.703

更改 CMS 系统后，最大的问题是 usrl`s ，搜索引擎将用户发送到旧链接，他们得到 404 页面[或您的旧博客]，而您却丢失了它们。

如果您可以创建指向新 WP 网站的重定向，以尽可能减少流量和访问者的损失。

关于将保留在旧平台上的帖子“仅供记录”，如果您在新网站中再次使用它们，您可能会因重复内容而受到惩罚。

# bash - 解释 sed、grep 和 cut 语法

> ID：11113939
> 
> 赞同：2
> 
> 时间：2012-06-20T06:26:32.567
> 
> 标签：bash, cygwin

我正在分析一个批处理文件，其中有一行是它编辑一个文本文件（输入）并制作一个 txt 文件（输出）。

该批次正在使用三个帮助工具.exe `grep`：`sed`和`cut`. 我试图阅读他们的使用手册，但这并不容易。

该行是：

```
type input.txt | sed "s#""#'#g" | grep -o "class='name[^>]*" | sed -n "/id=/p" | grep -o "surname=[^>]*" | cut -d"'" -f2 >output.txt 
```

我想知道这条线是如何解释的？都有些什么样的规矩？有没有更聪明的方法（例如使用一个工具而不是全部三个）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-20T15:04:43.070

尽管它涵盖了您所问的大部分内容，但我将添加到 jeb 的答案中。
这三个命令是从 Linux 移植的模拟命令，它们执行以下操作：

1.  `sed`：用于过滤和转换文本的流编辑器。
2.  `grep`：用于打印与图案匹配的线条的工具。
3.  `cut`: 用于剪切文件每一行的选定部分的工具。

我建议您通过`man <command name>`在 Linux 中键入或在谷歌上搜索相同的字符串（例如，“ [man grep](https://www.google.co.il/search?rlz=1C1CHEU_enIL452IL452&aq=f&sugexp=chrome,mod=5&sourceid=chrome&ie=UTF-8&q=man+grep) ”）来了解更多关于这三个命令的信息。
另外，查找[正则表达式](http://en.wikipedia.org/wiki/Regular_expression#POSIX)。尽管对于初学者来说它们通常不清楚，但它们是表示模式的一种常见且紧凑的方式。

关于问题中的具体用法：

> `sed "s#""#'#g"`

对于每一行，这会将所有引号 ( `""`) 替换为撇号 ( `'`)。

> `grep -o "class='name[^>]*"`

这仅打印以 开头`class='name`但没有以下内容的行的一部分`>`。

> `sed -n "/id=/p"`

默认情况下，Sed 打印每一行。另一方面，`sed -n "<some pattern> /p"`仅打印与指定模式匹配的行。在这种情况下，Sed 只打印包含`id=`.

> `grep -o "surname=[^>]*"`

这仅打印以 开头`surname=name'`但没有以下内容的行的一部分`>`。

> `cut -d"'" -f2`

这会将每一行解析为由撇号 ( ) 分隔的连续字段`'`，并选择第二个。

一切都是*管道式*的，这意味着每个命令的输出都用作右侧下一个命令的输入。“input.txt”的内容被输入到 Sed 命令中，然后它的输出被输入到 grep 命令中，依此类推。最终输出显然会打印到一个名为“output.txt”的新文件中。

是的，就像 jeb 提到的那样，这看起来是一个尴尬的解决方案，因为这里的所有事情都可以单独完成`sed`，大概只需要一两个命令。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T14:58:13.857

这或多或少很容易。

将其拆分为单个命令：

`sed "s#""#'#g"`相当于`sed "s/""/'/g"`，它将用一个`'`字符替换每个引号。

`grep -o "class='name[^>]*"`将仅捕获带有文本的行，`class='name`并且`-o`开关应在输出前加上`STDIN:`（不知道为什么这应该有用）。

`sed -n "/id=/p"`只会捕获包含 text 的行`id=`。

`grep -o "surname=[^>]*"`将仅捕获带有 text 的行`surname=`。

`cut -d"'" -f2`将线切割成部分，这些部分由`'`( `-d'`) 分隔，您将获得第二个字段 ( `-f2`)

是的，这看起来像是一个快速破解解决方案，这可以单独使用 sed 解决。
特别是当单个文本的顺序是固定顺序时，例如：
`<class="name17" id=13> <surname=Frank>`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T12:13:40.667

该| 字符是管道字符。它用于将一个命令的输出通过管道传输到另一个命令的输入。

> 字符是重定向字符。它将标准输出重定向到文件。

因此，在您的示例中，该过程从*type*命令开始：

```
type input.txt 
```

这会将*input.txt*发送到标准输出，然后通过管道传输到下一个命令的输入：

```
sed "s#""#'#g" 
```

*通过其他管道grep*和*sed*命令以此类推。

最后的*cut*命令使用 > 字符将其输出重定向到*output.txt*文件。

```
cut -d"'" -f2 >output.txt 
```

# python - 编写一个python函数来循环出每个id的值

> ID：11113942
> 
> 赞同：1
> 
> 时间：2012-06-20T06:26:39.197
> 
> 标签：python, json, list

下面是我的 json 数据。我想做的是编写一个python函数来循环出每个id的值。有人可以帮我吗？

```
[
    {
        "id": "1", 
        "code": "111", 
    }, 
    {
        "id": "2", 
        "code": "222", 
    }, 
    {
        "id": "3", 
        "code": "333", 
    }
] 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T06:29:11.487

如果`jsondata`是包含示例数据的 Python 列表，您可以执行以下操作：

```
for item in jsondata:
    print item['id'] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-20T06:44:40.133

如果 jsondata 是包含示例数据的 Python 列表，则可以执行以下操作：

```
ids = [item['id'] for item in jsondata] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-20T06:53:04.763

```
>>> data=[{"id": "1","code": "111",},{"id": "2","code": "222",},{"id": "3","code": "333",}]
>>> list_id=[x['id'] for x in data]
>>> print(list_id)
['1','2','3'] 
```

# sql - 具有多个值的情况

> ID：11113944
> 
> 赞同：0
> 
> 时间：2012-06-20T06:26:47.633
> 
> 标签：sql, sql-server

假设我有这个查询，

```
SELECT T.A FROM T WHERE T.A IN (CASE WHEN T.B = 1 THEN (1,2,3) ELSE (4,5) END) 
```

是否有可能或任何替代此查询的方法。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-20T06:28:48.467

不要在 where 子句上使用 case

```
SELECT T.A FROM T WHERE (T.A IN (1,2,3) And T.B = 1) or (T.A in (4,5) and T.B <>1) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T06:35:35.060

[`CASE`](http://msdn.microsoft.com/en-us/library/ms181765.aspx)是一个*表达式*- 它返回一个定义明确的类型的单个结果：

> 评估条件列表并返回多个可能的结果表达式之一。

对于一些复杂的`WHERE`子句，使用它可能是有意义的（您当前的子句可以不用，因为@Somebody 遇到麻烦的答案显示），但您需要构造它以返回单个结果值或表达式：

```
SELECT T.A FROM T WHERE
  1 = CASE
         WHEN T.B = 1 AND T.A IN (1,2,3) THEN 1
         WHEN T.A IN (4,5) THEN 1
      END 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-20T06:34:41.500

```
SELECT T.A 
FROM T 
WHERE  T.B = 1      AND  T.A IN (1,2,3)  
   OR  T.B <> 1     AND  T.A IN (4,5) 
   OR  T.B IS NULL  AND  T.A IN (4,5) ; 
```

# django - 如何在 Django 中调用 Perl 脚本？

> ID：11113947
> 
> 赞同：0
> 
> 时间：2012-06-20T06:27:10.830
> 
> 标签：django

我有一个用 Perl（Simple Hello world）编写的后端程序。我是 Django 的新手。

我想与 Django 交互这个 helloworld.pl，动作应该是这样的，当我点击登录按钮时，它必须处理 helloworld.pl 文件并在页面上显示 Helloworld。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2018-11-15T13:50:38.270

详细解释可以参考我的博客>>

[http://www.easyaslinux.com/tutorials/devops/how-to-run-execute-any-script-python-perl-ruby-bash-etc-from-django-views/](http://www.easyaslinux.com/tutorials/devops/how-to-run-execute-any-script-python-perl-ruby-bash-etc-from-django-views/)

我建议你使用 Subprocess 模块的 Popen 方法。您的 shell 脚本可以作为系统命令与 Subprocess 一起执行。

这里有一点帮助。

你的**views.py**应该是这样的。

```
from subprocess import Popen, PIPE, STDOUT
from django.http import HttpResponse

def main_function(request):
    if request.method == 'POST':
            command = ["perl","your_script_path.pl"]
            try:
                    process = Popen(command, stdout=PIPE, stderr=STDOUT)
                    output = process.stdout.read()
                    exitstatus = process.poll()
                    if (exitstatus==0):
                            result = {"status": "Success", "output":str(output)}
                    else:
                            result = {"status": "Failed", "output":str(output)}

            except Exception as e:
                    result =  {"status": "failed", "output":str(e)}

            html = "<html><body>Script status: %s \n Output: %s</body></html>" %(result['status'],result['output'])
            return HttpResponse(html) 
```

在这个例子中，脚本的stderr和stdout保存在变量' *output* '中，脚本的退出代码保存在变量' *exitstatus* '中。

配置您的**urls.py**以调用视图函数“ *main_function* ”。

```
url(r'^the_url_to_run_the_script$', main_function) 
```

现在您可以通过调用*[http://server_url/the_url_to_run_the_script来运行脚本](http://server_url/the_url_to_run_the_script)*

# beanshell - 当finally参与beanshell时，为什么在for循环中中断不起作用

> ID：11113948
> 
> 赞同：3
> 
> 时间：2012-06-20T06:27:10.710
> 
> 标签：beanshell

这段代码：

```
print(" - Start");
int[] num = new int[] {1,2,3,4,5,6,7,8,9,10};
for(int i : num)
{
    print("--> "+ i);
    try
    {
        print("    . try");
        if(i == 2)
            break;
    }
    catch (java.lang.Exception e)
    {}
    finally
    {
        print("    . finally");
    }
}
print(" - End"); 
```

不能按预期工作。即`break`似乎不起作用。谁能解释这是为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T19:49:48.200

我会说这是一个 BeanShell 错误。不是因为下面列出的原因（这些仅适用于 Mac 上的 Java），而是因为如果您将相同的代码放在“经典”Java 应用程序的 main 方法中，它的行为方式就会不同。也就是说，中断条件起作用。

***以下内容仅适用于 Mac 上最新版本的 Java。***

我认为这是一个 BeanShell 错误。当我尝试将 if 更改为以下 BeanShell 时挂断：

```
if(i == 2) {
    print("trying to break");
    break;
} 
```

我强制关闭它并使用命令行重新启动它。我看到以下错误：

```
$ java -jar bsh-2.0b4.jar 
java[1119] <Error>: CGContextGetCTM: invalid context 0x0
java[1119] <Error>: CGContextSetBaseCTM: invalid context 0x0
java[1119] <Error>: CGContextGetCTM: invalid context 0x0
java[1119] <Error>: CGContextSetBaseCTM: invalid context 0x0 
```

# java - 调用方法中的数组被调用方法数组覆盖而没有任何返回语句

> ID：11113953
> 
> 赞同：0
> 
> 时间：2012-06-20T06:27:29.760
> 
> 标签：java, methods, parameter-passing

**循环求和：**

有 N 个孩子围坐在一个圆圈上，顺时针编号为 1,2,...,N。第 i 个孩子有一张纸，上面写着数字 ai。他们玩以下游戏：

在第一轮中，编号为 x 的孩子将他的邻居的数字之和加到他的数字上。在第二轮中，顺时针顺序的下一个孩子将他的邻居的数字之和加到他的数字上，依此类推。游戏在M轮结束后结束。

输入：

第一行包含 T，即测试用例的数量。T 案例如下。测试用例的第一行包含两个空格分隔的整数 N 和 M。下一行包含 N 个整数，第 i 个数字是 ai。

输出：

对于每个测试用例，输出 N 行，每行有 N 个整数。第 i 行的第 j 个整数包含第 j 个孩子结束的数字，如果游戏从孩子 i 玩第一轮开始。在除最后一个之外的每个测试用例之后输出一个空行。由于数字可能非常大，因此以 1000000007 为模输出它们。

约束：

1 <= T <= 15

3 <= N <= 50

1 <= M <= 10^9

1 <= ai <= 10^9

样本输入：

2

5 1

10 20 30 40 50

3 4

1 2 1

样本输出：

80 20 30 40 50

10 60 30 40 50

10 20 90 40 50

10 20 30 120 50

10 20 30 40 100

23 7 12

11 21 6

7 13 24

***这是 INInterviewStreet 中的一个问题。我编写了一个逻辑并成功地将整个逻辑保留在 One 方法中。但是当我尝试通过使用两种方法来做到这一点时，“main”方法中的 Array 'b' 被“mtd”方法中的 Array 'a' 覆盖。我尽力了，找不到导致它的原因。***

```
import java.util.Scanner;
public class Solution{ 
    public static void main(String[] args) {
    Solution obj = new Solution();
        Scanner sc = new Scanner(System.in);
        int n,k; // Variables
    long m;
    int t = sc.nextInt();
           for(int rot=0;rot<t;rot++) {
            n = sc.nextInt(); // reading input
            m = sc.nextLong(); // reading input
            long[] b = new long[n]; 
            for(int i =0; i< n; i++)
               b[i] = sc.nextLong(); // Reading values into array
                for(int i=0; i< n;i++ ){  // Loop
                obj.mtd(b,i,n,m); // calling Method "mtd"
            System.out.println();
            }
            System.out.println();
        }
    }
         void mtd(long[] a, int j,int n, long m) // "mtd" method
    {

            int p=0;        
                for(; p< m && j<n; j++,p++){     // logic
                    if(j==0){
                        a[0]= a[0]+a[1]+a[n-1];
                    }else if(j==n-1){
                        a[n-1]= a[0]+a[n-2]+a[n-1];
                    }else{
                        a[j]= a[j-1]+a[j]+a[j+1];
                    }
               }
                do{
                    if(j == n){                 // 
                    for(j=0; p< m && j< n; j++,p++){
                         if(j==0){
                                a[0]= a[0]+a[1]+a[n-1];
                        }else if(j==n-1){
                                a[n-1]= a[0]+a[n-2]+a[n-1];
                        }else{
                                a[j]= a[j-1]+a[j]+a[j+1];
                        }
                   }
            }
            }while(p!=m);
                long z;
             for(int k =0; k< n; k++){
                z=a[k]%1000000007;
                 System.out.print(z+" ");    // printing array after all operations
             }
    }
} 
```

我得到的输出是：

80 20 30 40 50

80 130 30 40 50

80 130 200 40 50

80 130 200 290 50

80 130 200 290 420

23 7 12

142 261 77

883 1624 2987

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T06:36:28.557

Java 是按值传递的，但是当您传递 时`Object`，对对象的引用的值会被传递。如果您对 的内容进行任何更改，则使用此参考`Object`，更改将被反映回来。

并且s在 Java`Array`中被视为s。`Object`

如果您打算传递您的副本`Array`并使用它，请首先使用[System.arraycopy()](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29)方法创建一个副本，然后传递`Array`. [这是一个例子](https://stackoverflow.com/a/5785754/828625)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:49:01.490

复制您的数组，然后将副本作为参数传递：

```
int[] ints = new int[x];
...
int[] intsCopy = new int[ints.length];
System.arrayCopy(ints, 0, intsCopy 0, ints.length);
someMethod(intsCopy); 
```

这是必要的，因为 Java 在处理@KazekageGaara 在他的回答中描述的对象时的行为。

# ruby-on-rails - Bundler 和 Rails 应用程序之间有什么关系？

> ID：11113956
> 
> 赞同：1
> 
> 时间：2012-06-20T06:27:45.657
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

有人可以描述一下 Bunder 是什么，它的作用是什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T06:37:33.640

Bundler 是一个 ruby​​ gem，用于管理您的应用程序依赖项。它可以称为宝石管理系统。当您与多人一起开发 Rails 项目时，并且这些人在他们的 PC 上安装了不同版本的 gem，bundler 在这种情况下非常有用。当您运行`bundle install`bundler 时，将查找您在项目中使用的特定 gem 版本，如果它没有正确的版本，bundler 将自动安装该 gem，如果有，bundler 将为您的项目使用现有的 gem。它使用于开发项目的所有 PC 都使用相同版本的 ruby​​ gems。

# svn - 在预提交钩子中使用 svnlook cat

> ID：11113960
> 
> 赞同：2
> 
> 时间：2012-06-20T06:28:14.880
> 
> 标签：svn

我正在尝试在预提交挂钩中捕获 .svn/entries 文件的内容。

我正在运行这个命令。

```
svnlook cat /var/www/svn/testrepo/   branches/.svn/entries 
```

但我收到以下错误

```
svnlook: Path 'branches/.svn/entries' does not exist 
```

我的回购结构如下。

树干分支标签

我错过了什么吗？

我的意图是获取分支网址。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T10:01:42.843

for 的第二个参数`svnlook cat`是第一个参数指定的存储库中的路径。例如：`svnlook cat /var/www/svn/testrepo branches/somebranch/file.txt`。

`branches/.svn/entries`不是SVN 存储库**中**的路径。它可能是 SVN**工作副本**中的“簿记”文件。

# android - 以编程方式从 Android 中的 SD 卡在 Facebook 上发布图像

> ID：11113962
> 
> 赞同：1
> 
> 时间：2012-06-20T06:28:25.927
> 
> 标签：android, facebook

我已经检查了堆栈溢出和 facebook 开发站点上的所有相关帖子。我不知道是什么问题，为什么我无法通过 Android 在 Facebook 上发布照片。

这是代码。

```
public static void AuthFB()
    {
        facebook = new Facebook(YOUR_APP_ID); 
        facebook.authorize((Activity) myCxt, new DialogListener() {
            @Override
            public void onComplete(Bundle values) {
                postImageonWall("/mnt/sdcard/cmtdd.png");
                Log.d("FB","Yes Called");
            }

            @Override
            public void onFacebookError(FacebookError error) {}

            @Override
            public void onError(DialogError e) {}

            @Override
            public void onCancel() {}
        });
    }

    @Override
    public void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);

        facebook.authorizeCallback(requestCode, resultCode, data);
    } 
```

现在验证完成后，我将图像发布到墙上。这是代码。

```
public static void postImageonWall(String FilePath) {

    Bitmap bi = BitmapFactory.decodeFile("/mnt/sdcard/cmtdd.png");
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    bi.compress(Bitmap.CompressFormat.PNG, 100, baos);
    byte[] data = baos.toByteArray();   

         Bundle params = new Bundle(); 
         params.putString("method", "photos.upload");  
         params.putByteArray("picture", data);

         AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(facebook);
         mAsyncRunner.request("me/photos", params, "POST", new RequestListener() {

            public void onMalformedURLException(MalformedURLException e, Object state) {
                Log.d("request RequestListener", "debug onMalformedURLException");
            }

            public void onIOException(IOException e, Object state) {
                Log.d("request RequestListener", "debug onIOException");
            }

            public void onFileNotFoundException(FileNotFoundException e, Object state) {
                Log.d("request RequestListener", "debug onFileNotFoundException");
            }

            public void onFacebookError(FacebookError e, Object state) {
                Log.d("request RequestListener", "debug onFacebookError");
            }

            public void onComplete(String response, Object state) {
                 Log.d("request RequestListener", "debug onComplete");
            }
         }, null);

} 
```

方法 onComplete 被调用。但是没有任何东西上传到我的墙上。谁能告诉我错误在哪里？

# javascript - jquery 定义带有内容的选项卡

> ID：11113963
> 
> 赞同：0
> 
> 时间：2012-06-20T06:28:31.690
> 
> 标签：javascript, jquery

我喜欢使用 JQuery 来创建选项卡。我的问题是所有 jquery 选项卡定义都遵循这个设计。

```
<div>  
<h4>Heading</h4>  
  <div>  
    <ul>  
     <li><a>Tab 1</a></li>  
     <li><a>Tab 2</a></li>  
     <li><a>Tab 3</a></li>  
    </ul>  
     <div>Content for Tab 1</div>  
     <div>Content for Tab 2</div>  
     <div>Content for Tab 3</div>  
  </div>  
</div> 
```

但是，我需要这样的设计：

```
<div>  
  <h4>Heading</h4>  
  <div>  

    <div><a>Tab 1</a></div>
    <div>Content for Tab 1</div>  

    <div><a>Tab 2</a></div>  
    <div>Content for Tab 2</div>  

    <div><a>Tab 3</a></div>  
    <div>Content for Tab 3</div>  

  </div>  
</div> 
```

上述设计可行吗？

此外，我需要由 css 类而不是 ids 识别选项卡（因为我通过代码动态创建选项卡）。这也可能吗？

**更新：**感谢所有帮助我的伟大思想家，我能够建立我想要的东西。我使用了以下帖子中的输入并改进了它们以在页面中放置多个选项卡。

**在这里找到演示：http:** [//jsfiddle.net/sunalive/VHPwP/12/](http://jsfiddle.net/sunalive/VHPwP/12/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T07:40:16.330

请参阅此处的工作示例：

[http://jsfiddle.net/rathoreahsan/q7Lqq/](http://jsfiddle.net/rathoreahsan/q7Lqq/)

**HTML 代码：**

```
 <div class="contents-wrapper">  
          <h4>Heading</h4>  
          <div class="tabs-container">  

              <div class="tabs"><a>Tab 1</a></div>
              <div class="contents" style="display:block">Content for Tab 1</div>  

              <div class="tabs"><a>Tab 2</a></div>  
              <div class="contents">Content for Tab 2</div>  

              <div class="tabs"><a>Tab 3</a></div>  
              <div class="contents">Content for Tab 3</div>  

          </div>  
    </div> 
```

**查询**

```
 $('.tabs').click(function(){
        $(this).parent().find('.contents').hide();
        $(this).next().show();
    }); 
```

**CSS**

```
 .contents-wrapper{
        width: 222px;
        font-family: tahoma;
    }

    h4 {
       height: 40px;
       line-height: 40px;
       background: #666;
       color: #fff;
       font-size: 26px;
       padding: 0 15px;
    }

   .tabs-container { position: relative; }

   .tabs {
       float:left;
       background: #ccc;
       height: 30px;
       line-height: 30px;
       padding: 0 16px;
       border-right:1px solid #666;
       border-bottom:1px solid #666;
       cursor: pointer;
    }

    .tabs:hover { background: #f4f4f4; }

    .contents {
       position: absolute;
       margin-top: 31px;
       padding: 15px;
       border: 1px solid #ccc;
       width: 190px;
       font-size: 12px;
       font-weight:bold;
       display: none;
     } 
```

希望它会有所帮助。谢谢！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:36:34.203

添加一些类:-)

```
<div>  
  <h4>Heading</h4>  
  <div class="parent">  

    <div class="link"><a>Tab 1</a></div>
    <div class="content">Content for Tab 1</div>  

    <div class="link"><a>Tab 2</a></div>  
    <div class="content">Content for Tab 2</div>  

    <div class="link"><a>Tab 3</a></div>  
    <div class="content">Content for Tab 3</div>  

  </div>  
</div>  

$('.link').click(function() {
    $(this).parent().find('.content').hide();
    $(this).next().show();
});

or

$('.link').click(function() {
    $(this).parent().find('.content').hide().end().next().show();
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:39:32.933

以下是动态创建选项卡的链接：

[http://blog.favrik.com/2009/08/11/dynamically-adding-jquery-tabs-round2/](http://blog.favrik.com/2009/08/11/dynamically-adding-jquery-tabs-round2/)

[http://www.jankoatwarpspeed.com/post/2010/01/26/dynamic-tabs-jquery.aspx](http://www.jankoatwarpspeed.com/post/2010/01/26/dynamic-tabs-jquery.aspx)

# hadoop - 如何从 PIG 中生成的包（其大小可能不同）中提取第一个元组？

> ID：11113964
> 
> 赞同：3
> 
> 时间：2012-06-20T06:28:42.467
> 
> 标签：hadoop, apache-pig

我正在生成一个“包”信息，其大小（包内的元组数）可能会有所不同。由此，我想动态提取第一个元素。我该怎么做呢？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-05-15T16:36:02.627

使用 DataFu UDF：FirstTupleFromBag ( [http://datafu.incubator.apache.org/docs/datafu/1.2.0/datafu/pig/bags/FirstTupleFromBag.html](http://datafu.incubator.apache.org/docs/datafu/1.2.0/datafu/pig/bags/FirstTupleFromBag.html) )

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-20T06:33:53.623

根据[文档](http://pig.apache.org/docs/r0.10.0/basic.html)，包是元组的集合，并且

> 可以通过名称 (bag.field_name) 或位置 (bag.$0) 来解除对包的引用。如果取消引用一组字段（bag.(name1, name2) 或 bag.($0, $1)），则表达式表示由指定字段组成的包。

但要小心，`b.$0`不会给你包中的第一个元组，因为包不是有序的！您将获得组成元组的第一个元素。

您需要将包转换为有序结构，或者更好地使用 UDF。您还应该不接受这个答案（所以我可以删除它）并接受 Guarev 的答案，他有一个指向 UDF 的链接。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-03-15T03:12:06.140

如果包中元组的顺序对于获得“第一个”元组很重要（当然是！），那么您可以执行以下操作，在[https://community.hortonworks.com/上有更详细的解释问题/22863/cant-we-filter-the-data-which-we-have-done-in-37-s.html#answer-22995](https://community.hortonworks.com/questions/22863/cant-we-filter-the-data-which-we-have-done-in-37-s.html#answer-22995)。

```
max_runs = FOREACH grp_data {
    inner_sorted = ORDER runs BY runs DESC;
    first_row = LIMIT inner_sorted 1;
    GENERATE first_row AS most_hits;
} 
```

# wordpress - Wordpress 查询帖子以获取具有唯一标签的帖子

> ID：11113971
> 
> 赞同：0
> 
> 时间：2012-06-20T06:29:05.730
> 
> 标签：wordpress

我正在尝试编写一个查询帖子，以便它从一个类别中返回一个列表固定的帖子列表以及与之关联的任何**一个标签**。例如：

```
<?php $arg = array('cat' => '1','showposts' => 10,'offset' => 0); query_posts($arg); ?>
<?php if (have_posts()) : while (have_posts()) : the_post(); ?>
<a class="post-link" title="<?php the_title(); ?>" href="<?php the_permalink(); ?>"><?php the_title(); ?></a>
<?php $posttags = get_the_tags(); $count=0; if ($posttags) { foreach($posttags as $tag) { $tag_link = get_tag_link($tag->term_id); $count++; if ($count == 1) 
{ echo '<a class="tag-link" href="'.get_tag_link($tag->term_id).'">#'.$tag->name.'</a>'; } } } ?> 
```

### 主题 A 中的帖子

Post_Title_1 #tag1
Post_Title_2 #
tag2 Post_Title_3 #tag3
Post_Title_4 #tag2 <-- 我不想要这个帖子，因为 Tag2 已经显示了。

问题是我只想显示带有独特标签的帖子....我该怎么做...请帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T07:17:59.693

```
<?php 
$existing_tags = array();

$arg = array('cat' => '1','showposts' => 10,'offset' => 0); query_posts($arg);

if (have_posts()) : while (have_posts()) : the_post(); 

//get tag and checking if it existed already
$posttags = get_the_tags();
$skip_post = false;

if ($posttags) {
    foreach ($posttags as $tag) {
        $tag_id = $tag->term_id; //the tag's id
        if (isset($existing_tags[$tag_id])) {
            $skip_post = true; //skip this post if the tag already exists
        } else { 
            $existing_tags[$tag_id] = true;
            $skip_post = false; //otherwise track it in our array
        }
        break; //stop after parsing the first tag
    }
}

if ($skip_post) {
    break; //skip the post
}
//display the post and tags as usual
?>
<a class="post-link" title="<?php the_title(); ?>" href="<?php the_permalink(); ?>"><?php the_title(); ?></a>
<?php
echo '<a class="tag-link" href="'.get_tag_link($tag->term_id).'">#'.$tag->name.'</a>';
?> 
```

所以基本上你需要将获取标签的代码移到顶部，检查一个数组是否已经存在。如果是，请转到下一个帖子，否则显示帖子的其余部分。

# java - 获取本地应用数据目录路径的跨平台方式是什么？

> ID：11113974
> 
> 赞同：57
> 
> 时间：2012-06-20T06:29:16.437
> 
> 标签：java, cross-platform

我需要的是一种独立于平台的方式来获取本地应用程序数据目录的路径。`System.getenv("LOCALAPPDATA")`似乎只适用于 Windows。我该怎么做？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2013-05-21T00:29:35.887

你可能会说类似（如果我错了，或者如果这是一个不好的方法，请反驳我）

```
private String workingDirectory;
//here, we assign the name of the OS, according to Java, to a variable...
private String OS = (System.getProperty("os.name")).toUpperCase();
//to determine what the workingDirectory is.
//if it is some version of Windows
if (OS.contains("WIN"))
{
    //it is simply the location of the "AppData" folder
    workingDirectory = System.getenv("AppData");
}
//Otherwise, we assume Linux or Mac
else
{
    //in either case, we would start in the user's home directory
    workingDirectory = System.getProperty("user.home");
    //if we are on a Mac, we are not done, we look for "Application Support"
    workingDirectory += "/Library/Application Support";
}
//we are now free to set the workingDirectory to the subdirectory that is our 
//folder. 
```

请注意，在这段代码中，我充分利用了 Java在处理目录时`'/'`的处理方式。`'\\'`Windows`'\\'`用作 pathSeparator，但它也对`'/'`. （至少 Windows 7 是。）它的环境变量也不区分大小写；我们可以很容易地说`workingDirectory = System.getenv("APPDATA");`，它也会同样有效。

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2017-01-11T19:13:48.160

就个人而言，我发现[`appdirs`](https://mvnrepository.com/artifact/net.harawata/appdirs)它对类似的用例非常有帮助。它[具有](https://github.com/harawata/appdirs#supported-directories)定位不同类型的有用目录的功能：

*   `getUserDataDir`
*   `getUserConfigDir`
*   `getUserCacheDir`
*   `getUserLogDir`
*   `getSiteDataDir`← 看起来这是你需要的
*   `getSiteConfigDir`

它返回的位置或多或少是标准的：

*   在 Unix 上，它遵循[XDG Base Directory Specification](https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html)。
*   在 Windows 上，它调用[SHGetFolderPath](https://msdn.microsoft.com/en-us/library/bb762181(VS.85).aspx)。
*   在 macOS 上，它使用众所周知的硬编码路径。

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2016-10-05T08:27:04.380

任务很旧，但我缺少一个列出环境变量的答案，而不是一些有趣的绝对路径。我对OSX一无所知。这篇文章仅包含有关 windows 和 linux 的信息。

我没有足够的分数来扩展已经存在的答案，所以我必须写一个新的。

**Linux：** 如前所述，存在诸如 freedesktop.org 之类的东西，它正在定义 linux 发行版试图实现的标准。还有一个子页面定义环境变量及其默认值（如果未设置，则默认为空。应用程序必须将变量与默认值匹配）。链接到该页面：[freedesktop.org env vars](https://specifications.freedesktop.org/basedir-spec/latest/ar01s03.html)

**与此问题相关的变量定义：**

*   **$XDG_DATA_HOME**（*本地*）（默认为：**$HOME/.local/share**）
*   **$XDG_CONFIG_HOME**（*本地*）（默认为：**$HOME/.config**）
*   **$XDG_DATA_DIRS** (*全局*) (默认为：**/usr/local/share/**或**/usr/share/** )
*   **$XDG_CONFIG_DIRS**（*全局*）（默认为：**/etc/xdg**）

**视窗XP：**

*   **%APPDATA%**（默认为：**C:\Documents and Settings{username}\Application Data**）

*   **%CommonProgramFiles%**（默认为：**C:\Program Files\Common Files**）（共享程序文件）

*   **%CommonProgramFiles(x86)%**（默认为：**C:\Program Files (x86)\Common Files**）（仅限 64 位！）（共享程序文件）

*   **%ProgramFiles%**（默认为：**%SystemDrive%\Program Files**）

*   **%ProgramFiles(x86)%**（默认为：**%SystemDrive%\Program Files (x86)**（仅限 64 位版本））（仅限 64 位！）

**Windows Vista +：**

*   **%APPDATA%**（默认为：**C:\Users{username}\AppData\Roaming**）（在链接的工作站之间共享。用户本地。保存文件和配置）
*   **%LOCALAPPDATA%**（默认为：**C:\Users{username}\AppData\Local**）（本地用户。保存文件和配置）
*   **%CommonProgramFiles%**（默认为：**C:\Program Files\Common Files**）（共享程序文件）
*   **%CommonProgramFiles(x86)%**（默认为：**C:\Program Files (x86)\Common Files**）（仅限 64 位！）（共享程序文件）

*   **%ProgramFiles%**（默认为：**%SystemDrive%\Program Files**）（安装后不会更改的静态数据）

*   **%ProgramFiles(x86)%**（默认为：**%SystemDrive%\Program Files (x86)**（仅限 64 位版本））（仅限 64 位！）（安装后不会更改的静态数据）

*   **%ProgramData%**（默认为：**%SystemDrive%\ProgramData**）（影响所有用户的可变数据）

**简而言之：** Linux 有两个可能未设置的环境变量（一个用于配置，一个用于文件）。据我所知，Windows 只有一个环境变量用于配置和文件。请使用这些而不是绝对路径。

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2012-06-20T06:46:13.577

对于中等数量的数据，请考虑[此处](https://stackoverflow.com/a/9481515/230513)`java.util.prefs.Preferences`提到的，或[此处](https://stackoverflow.com/a/6886694/230513)讨论的。两者都是跨平台的。`javax.jnlp.PersistenceService`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-02-26T11:51:35.190

没有跨平台的方式，因为不同操作系统使用的概念太不同而无法“抽象”。我不熟悉 *nix 和 Mac 约定，但在 Windows 上没有“主文件夹”，应用程序必须指定是否要将内容存储在*漫游配置文件*（`C:\Users\<username>\AppData\Roaming\<application vendor>\<application name>\`默认情况下）或*本地配置文件*（`C:\Users\<username>\AppData\Local\<application vendor>\<application name>\`默认情况下）。

请注意，您不能对这些路径进行硬编码，因为在网络安装中它们可能位于其他位置。您也不应该依赖环境变量，因为它们可以由用户修改。您的应用程序应该调用 Windows API 的[SHGetKnownFolderPath](https://msdn.microsoft.com/en-us/library/windows/desktop/bb762188%28v=vs.85%29.aspx)函数。

两者的区别在于本地配置文件是特定于用户和机器的，而漫游配置文件是特定于用户的，所以在像我大学这样的设置中，放入漫游配置文件中的东西应用程序被上传到服务器和同步到我登录的任何计算机。

应用程序有责任选择他们想要存储的设置是本地的还是漫游的。不幸的是，Java 不允许应用程序来决定这一点。相反，有一个全局的用户可配置设置来确定您将获得哪个文件夹。

* * *

## 回答 #6

> 赞同：-4
> 
> 时间：2012-06-20T06:45:01.410

你可以用这个

```
String currentDir = new File(".").getAbsolutePath(); 
```

或这个：

```
System.getProperty("user.dir") 
```

我更喜欢第一个选项

问候

# android - 更改颜色选择器对话框 android 的大小

> ID：11113977
> 
> 赞同：0
> 
> 时间：2012-06-20T06:29:38.337
> 
> 标签：android, color-picker

我在 API Demos中使用了**Colorpickerdialog 。**它在大小为 WVGA、HVGA 的模拟器中运行良好。但在小尺寸（QVGA）中，对话框在底部剪切。我也在小尺寸的真实设备上运行，但它显示了同样的问题。需要减少对话的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T08:00:47.623

我通过初始化 CENTER X,Y 和半径来解决它，比如

```
 private static final int CENTER_X = 80;
    private static final int CENTER_Y = 80;
    private static final int CENTER_RADIUS = 32; 
```

它将在所有大小的模拟器中运行。

# python - 从列表中提取一些项目以构建新列表

> ID：11113981
> 
> 赞同：1
> 
> 时间：2012-06-20T06:29:55.523
> 
> 标签：python, regex

我有一些列表，我想从中过滤元素。这是列表：

```
list1 = ['Little Mary had a lamb', 'the horse is black', 'Mary had a cat']
list2 = ['The horse is white', 'Mary had a dog', 'The horse is hungry']
listn = ... 
```

假设我知道一个相关的单词或表达方式，下例中的*Mary*或*horse*。如果这些项目包含搜索的术语或表达式，我想获得一个新列表，哪些项目将从其他列表中提取。例如：

```
listMary = ['Little Mary had a lamb', 'Mary had a cat', 'Mary had a dog'] 
listHorse = ['the horse is black', 'The horse is white', 'The horse is hungry']
listn = ... 
```

别担心我的数据更复杂；）

我知道我应该使用正则表达式模块，但在这种情况下我无法找到哪种方式。我在 Stack Overflow 上尝试了一些搜索，但我不知道如何足够清楚地表述问题，所以我找不到任何有用的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T07:25:52.167

可能是这样的：

```
>>> a = ['Little Mary had a lamb', 'the horse is black', 'Mary had a cat']
>>> b = ['The horse is white', 'Mary had a dog', 'The horse is hungry']
>>> [sent for sent in a+b if 'Mary' in sent]
['Little Mary had a lamb', 'Mary had a cat', 'Mary had a dog'] 
```

或者，如果您更喜欢使用正则表达式：

```
>>> import re
>>> [sent for sent in a+b if re.search("horse", sent)]
['the horse is black', 'The horse is white', 'The horse is hungry'] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:32:07.150

使用列表推导式的条件子句。

```
[x for x in L if regex.search(x)] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:34:12.193

您不一定需要正则表达式模块：

```
word = 'horse'
result = []
for l in [list1, list2, list3]:
    for sentence in l:
        if word in sentence:
            result.append(sentence) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-20T06:58:36.097

用户内置功能`filter` ，它将快速高效。

```
def f(x): 
    return x % 2 != 0 and x % 3 != 0

filter(f, range(2, 25)) 
```

所以这里 def f 将采用一个 arg 并进行匹配并返回 true false ，您将获得结果列表。

谢谢你

# c++ - 在派生类中声明的虚函数

> ID：11113983
> 
> 赞同：1
> 
> 时间：2012-06-20T06:29:56.367
> 
> 标签：c++, virtual-functions, inlining

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-20T06:33:14.053

因为*没有*这样的成员。`virtual`函数从首先声明它们的类开始，一直到所有派生类。他们不会冒泡。当编译器查看时，`arr[ i ]->f2()`它会查找`arr`其类型的定义。`arr`有（静态）类型`A`。因此，编译器查找`A`'s 的定义以获得合适的定义`f2`并且没有找到任何。因此诊断。

`virtual`函数可以安全地内联。事实上，所有类内定义都被编译器*隐式内联。*所以，你`A::f1`的已经内联了。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-20T06:37:10.173

您正在尝试调用`f2()`,`A*`并且`A`没有`f2()`声明。

`virtual`意味着该方法在通过*指向*基类（包括对象本身的类）的指针调用时，会在运行时根据您调用它的对象的 vptr 表来解析。它不会使该方法在基类中可见。

内联虚函数是非常安全的，但你*不一定*会得到你期望的性能提升。内联意味着函数代码在调用点由编译器复制粘贴。[请参阅有关内联的 C++ 超级常见问题解答以及为什么它是天上掉馅饼](https://isocpp.org/wiki/faq/inline-functions)

内联是一个**编译**时概念。在指向基类的指针上调用的虚拟方法调用在**运行时**解析。

即以下对虚拟函数的调用可以内联：

```
B myB("The B.");
b.f1(); // not virtual, might be inlined 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-20T06:32:52.207

首先简单：

> 我也想知道，内联虚函数安全吗？

是的，虚函数*可以*内联，但保证多态性始终有效。

例如：

```
B b;
b.f2(); 
```

*可以*在编译时解析，无需使用虚拟表，因为编译器知道对象的类型为`B`.

> 我想知道为什么 _vptr 指向基类的 VTABLE，即使 arr[1] 向上转换为 B。

它没有。它指向 class 的虚拟表`B`，但编译器看不到它。虚拟表是一个实现细节。您正在调用 , 上的函数`A*`，因此`B`' 的方法不可见。在这个简单的例子中，这很容易，但是一般来说，编译器怎么能知道它实际上`arr[1]`是一个指向 a 的指针`B`呢？这就是多态性的全部意义，你抽象出派生类型。

你可以做的是：

```
dynamic_cast<B*>(arr[1]) ? (dynamic_cast<B*>(arr[1]))->f2() : (void)0; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-20T06:40:26.323

这样想吧。在编译时，编译完全忽略了`arr[i]`指向的对象的实际类型。该类型仅在运行时才知道。所以当你写这样的东西时：

```
arr[i]->f2(); 
```

编译器不知道要生成什么代码来进行调用。f2是什么？是在 B 中声明的 f2 吗？如果你还有一个名为 C 的 A 的子类，它也有一个名为 f2 的虚函数，而 arr[i] 指向的对象恰好是 C 类型怎么办？我们不知道。

您会立即看到，在这种情况下唯一正常的行为就是产生错误。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-20T06:34:46.370

`arr[1]`是`A*`没有名为 的方法的类型`f2`。您必须强制`arr[1]`转换为`B*`，但我认为这不是一个好主意。改为更改您的数据结构。

# iphone - 隐藏标签栏后视图大小减小

> ID：11113990
> 
> 赞同：4
> 
> 时间：2012-06-20T06:30:30.050
> 
> 标签：iphone, objective-c, ios, xcode, cocoa-touch

在我的 iPhone 应用程序中。

我正在使用`UINavigationControllers`.`UITabBarController`

像：

标签栏：

*   导航控制器。

    *   查看 Controller1。
*   导航控制器。

    *   查看控制器 2。

* * *

从上述任何视图控制器查看 Controllerx。

当我导航到 View Controllerx.

我隐藏了标签栏。

**问题是标签栏隐藏但视图大小减小。底部出现空白。**

```
[self.tabBarController.tabBar setHidden:YES];
[self.tabBarController.tabBar setFrame:CGRectZero];
[self.navigationController pushViewController:obj_tipcalc animated:YES];
[obj_tipcalc release]; 
```

![在此处输入图像描述](../Images/e91c8decaf6b5deb5c455a2cda3aa6cc.png)

谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-20T06:44:38.233

您的导航控制器的视图位于您的 UITabBarController 的视图中，它没有填满整个屏幕。只需尝试调整它的大小：

```
 ...
 CGRect biggerFrame = tabBarController.view.frame;
 biggerFrame.size.height += tabBarController.tabBar.frame.size.height;
 tabBarController.view.frame = biggerFrame ;
 ... 
```

要恢复原始布局：

```
...
CGRect smallerFrame = tabBarController.view.frame;
smallerFrame.size.height -= tabBarController.tabBar.frame.size.height;
tabBarController.view.frame = smallerFrame;
... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T06:41:05.853

这可能会有所帮助。在 ViewwillAppear 中设置框架。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T06:45:30.740

隐藏标签栏后更改视图的框架：

```
CGRect *rect=view1.frame;
rect.size.height+=44;
view1.frame=rect; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-05-03T15:52:26.890

只需调用`loadView`TabBar 中包含的 viewController。这将以适当的大小重新加载视图

# documentation - 是否有 Blitz++ 矩阵的文档可用？

> ID：11113993
> 
> 赞同：4
> 
> 时间：2012-06-20T06:30:37.827
> 
> 标签：documentation, matrix-multiplication, blitz++

**是否有 Blitz++ 矩阵的文档可用？**

我在 google 上找到了[http://www.oonumerics.org/blitz//manual/blitz01.html](http://www.oonumerics.org/blitz//manual/blitz01.html)，但这似乎不包含文档。

我发现的唯一有用的例子是来自[Rosettacode](http://rosettacode.org/wiki/Matrix_multiplication)的例子：

```
#include <iostream>
#include <blitz/tinymat.h>

int main()
{
  using namespace blitz;

  TinyMatrix<double,3,3> A, B, C;

  A = 1, 2, 3,
      4, 5, 6,
      7, 8, 9;

  B = 1, 0, 0,
      0, 1, 0,
      0, 0, 1;

  C = product(A, B);

  std::cout << C << std::endl;
} 
```

但是这个小例子并没有回答我的许多问题：

*   像 BigMatrix 这样的东西存在吗？
*   当我在编译时不知道矩阵的大小时，如何创建矩阵？
*   这些矩阵还支持哪些其他操作？

对 tinymat.h 的搜索显示了这个文件夹：

```
moose@pc07:/usr/include/blitz$ ls
applics.h      matbops.h     ops.h           tinyvec-et.h   vecglobs.h
array          matdiag.h     prettyprint.h   tinyvec.h      vecio.cc
array.h        matexpr.h     promote.h       tinyvecio.cc   veciter.h
array-impl.h   matgen.h      promote-old.h   tinyveciter.h  vecmax.cc
array-old.h    mathf2.h      rand-dunif.h    traversal.cc   vecmin.cc
bench.cc       mathfunc.h    rand-mt.h       traversal.h    vecnorm1.cc
benchext.cc    matltri.h     rand-normal.h   tuning.h       vecnorm.cc
benchext.h     matref.h      random.h        tvcross.h      vecpick.cc
bench.h        matrix.cc     randref.h       tvecglobs.h    vecpick.h
blitz.h        matrix.h      rand-tt800.h    update.h       vecpickio.cc
bzconfig.h     matsymm.h     rand-uniform.h  vecaccum.cc    vecpickiter.h
bzdebug.h      mattoep.h     range.h         vecall.cc      vecsum.cc
compiler.h     matuops.h     reduce.h        vecany.cc      vector.cc
config.h       matutri.h     shapecheck.h    vecbfn.cc      vector-et.h
etbase.h       memblock.cc   tau.h           vecbops.cc     vector.h
extremum.h     memblock.h    timer.h         veccount.cc    vecuops.cc
funcs.h        meta          tiny.h          vecdelta.cc    vecwhere.cc
gnu            minmax.h      tinymatexpr.h   vecdot.cc      vecwhere.h
indexexpr.h    mstruct.h     tinymat.h       vecexpr.h      wrap-climits.h
limits-hack.h  numinquire.h  tinymatio.cc    vecexprwrap.h  zero.cc
listinit.h     numtrait.h    tinyvec.cc      vecglobs.cc    zero.h 
```

所以我想`Matrix`是为了更大的矩阵。但是我如何将它们相乘？此外，这不是我学习图书馆知识的首选方式。

我已经`libblitz-doc - C++ template class library for scientific computing`安装了，所以文档应该在我的电脑上。但是我必须在哪里搜索？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T19:53:58.870

[www.oonumerics.org](http://www.oonumerics.org)网站目前似乎已损坏。但是，Blitz 的完整文档包含在包中，可以从SourceForge 上的[此链接下载。](http://downloads.sourceforge.net/project/blitz/blitz/Blitz++%200.9/blitz-0.9.tar.gz)

在 Blitz 中没有像`BigMatrix`. 矩阵只是一个二维数组，所以使用`Array`模板。您不必在编译时知道数组/矩阵的大小。这是文档中的一个小示例：

```
#include <blitz/array.h>

using namespace blitz;

int main()
{
    Array<int,2> A(6,6), B(3,3);

    // Set the upper left quadrant of A to 5 
    A(Range(0,2), Range(0,2)) = 5; 

    // Set the upper right quadrant of A to an identity matrix
    B = 1, 0, 0,
        0, 1, 0,
        0, 0, 1;
    A(Range(0,2), Range(3,5)) = B;

    // Set the fourth row to 1
    A(3, Range::all()) = 1;

    // Set the last two rows to 0
    A(Range(4, Range::toEnd), Range::all()) = 0;

    // Set the bottom right element to 8
    A(5,5) = 8;

    cout << "A = " << A << endl;

    return 0;
} 
```

如果您使用的是基于 Debian 的发行版，`dpkg -L libblitz-doc`则会显示`libblitz-doc`软件包的内容，并且您可以看到文档所在的位置。在我的机器上，它们在`/usr/share/doc/libblitz-doc/`

# java - 直接在补救常规表单上创建字符字段

> ID：11113996
> 
> 赞同：0
> 
> 时间：2012-06-20T06:30:52.687
> 
> 标签：java, remedy

如何使用 java api 在常规表单上创建一个字段。如何将该字段添加到默认管理员视图中。我创建了字符字段。唯一的问题是创建的字段不在视图中。请告诉我如何直接包含在view.that就是直接在正则窗体上创建。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T23:51:58.447

我相信您可以通过在参数 ARDisplayInstanceList *dInstanceList 中指定字段的视图显示属性和 VUI ID 来将字段添加到视图中。

如果您查看 7.6.04 的 API 指南，第 60 页上的内容如下：

**定义字段显示属性**

字段显示属性 (AR_DPROP_*) 分为以下几类：

*   所有模式视图共有的这些显示属性收集在一个 ARPropList 结构中。
*   特定于特定模式视图的那些 这些显示属性收集在一系列附加的 ARPropList 结构中，每个结构都链接到特定视图 (VUI)。这些特定于视图的属性列表由零个或多个 ARDisplayInstanceStruct 结构表示。

我认为您需要使用显示属性分配和填充 ARDisplayInstanceList，并将这些显示属性与 VUI ID 相关联。当您在对 ARCreateField() 或 ARSetField() 的调用中传递它时，它应该将该字段添加到由 VUI ID 指定的视图中。

7.6.04 ARS API 指南的 URL：[https ://docs.bmc.com/docs/download/attachments/165478929/ARS_CAPIGuide_7604.pdf?version=1&modificationDate=1348735332000](https://docs.bmc.com/docs/download/attachments/165478929/ARS_CAPIGuide_7604.pdf?version=1&modificationDate=1348735332000)