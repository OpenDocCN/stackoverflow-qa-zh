# StackOverflow 问答 11028000-11028999

# android - 构建 android.jar 的非存根版本

> ID：11028001
> 
> 赞同：2
> 
> 时间：2012-06-14T06:44:57.053
> 
> 标签：android, build

在 android-sdk 中找到的 android.jar 只是一个存根。所有方法都会抛出运行时异常“存根”！有谁知道如何获得 android.jar 的非存根版本？或者如何从 android 源代码（不是 android OS 源代码，我的意思是 Android 库代码）构建一个？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T07:29:38.220

你想做什么？框架 jar 依赖于本机代码，因此即使您构建了一个，也无法在您的计算机上使用它。

# c# - 如何调整 HttpPostedFileWrapper 的大小？

> ID：11028019
> 
> 赞同：1
> 
> 时间：2012-06-14T06:46:12.403
> 
> 标签：c#, asp.net-mvc, image

我需要按比例调整此图像的大小，高度为 411 像素。这是怎么做的？

```
[HttpPost]
        public WrappedJsonResult UploadImage(HttpPostedFileWrapper imageFile, int id)
        {
            if (imageFile == null || imageFile.ContentLength == 0)
            {
                return new WrappedJsonResult
                {
                    Data = new
                    {
                        IsValid = false,
                        Message = "No file was uploaded.",
                        ImagePath = string.Empty
                    }
                };
            }

            var fileName = String.Format("{0}_{1}.jpg", id, Guid.NewGuid().ToString());
            var imagePath = Path.Combine(Server.MapPath(Url.Content("~/Content/UploadPhoto")), fileName);

            imageFile.SaveAs(imagePath);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:54:09.647

```
public ActionResult UploadImage(HttpPostedFileBase imageFile, int id)
{
    if (imageFile == null || imageFile.ContentLength == 0)
    {
        return new WrappedJsonResult
        {
            Data = new
            {
                IsValid = false,
                Message = "No file was uploaded.",
                ImagePath = string.Empty
            }
        };
    }

    var fileName = String.Format("{0}_{1}.jpg", id, Guid.NewGuid().ToString());
    var imagePath = Path.Combine(Server.MapPath(Url.Content("~/Content/UploadPhoto")), fileName);

    using (var input = new Bitmap(imageFile.InputStream))
    {
        int width;
        int height;
        if (input.Width > input.Height)
        {
            width = 411;
            height = 411 * input.Height / input.Width;
        }
        else
        {
            height = 411;
            width = 411 * input.Width / input.Height;
        }

        using (var thumb = new Bitmap(width, height))
        using (var graphic = Graphics.FromImage(thumb))
        {
            graphic.InterpolationMode = InterpolationMode.HighQualityBicubic;
            graphic.SmoothingMode = SmoothingMode.AntiAlias;
            graphic.PixelOffsetMode = PixelOffsetMode.HighQuality;

            graphic.DrawImage(input, 0, 0, width, height);
            using (var output = System.IO.File.Create(imagePath))
            {
                thumb.Save(output, ImageFormat.Jpeg);
            }
        }
    }

    ...
} 
```

顺便说一句，您会注意到我已在动作签名中替换`HttpPostedFileWrapper`为`HttpPostedFileBase`，因为这是正确使用的类型。

# sql - SQL 选择 COUNT 问题

> ID：11028021
> 
> 赞同：1
> 
> 时间：2012-06-14T06:46:20.177
> 
> 标签：sql, sql-server, count

我有一张桌子

```
num
----
NULL
NULL
NULL
NULL
55
NULL
NULL
NULL
99 
```

当我写

```
select COUNT(*) 
from tbl
where num is null 
```

输出为 7

但是当我写

```
select COUNT(num) 
from tbl
where num is null 
```

输出为 0

这两个查询有什么区别？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T06:48:45.840

不同之处在于您选择的字段。

计算`COUNT(*)`NULL 值时会考虑（计算所有返回的行）。

计算`COUNT(num)`NULL 值时不考虑（计算所有非空字段）。

这是 SQL 中的标准行为，无论 DBMS 使用什么

[来源](http://dev.mysql.com/doc/refman/5.5/en/group-by-functions.html#function_count)。看看 COUNT(DISTINCT expr,[expr...])

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T06:48:03.843

`count(*)`返回行数，`count(num)`返回`num`不是的行数`null`。将您的最后一个查询更改为`select count(*) from test where num is null`以获得您期望的结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T06:48:13.747

`Count(*)`计算行数，`COUNT(num)`计算**列 num 中非****空**值的数量。

 *** * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-14T06:52:13.370

在第二种情况下，首先消除计数值，然后出现 where 子句。而在第一种情况下，当您使用`*`带有 null 的行时，不会被消除。

如果您指望包含 null 的 coll 并且您希望将 null 的行包含在计数中而不是使用

```
 Count(ISNULL(col,0)) 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-06-14T06:51:48.460

考虑到上面给出的输出，查询 count(num) 的结果应该是 2。**

# java - org.hibernate.MappingException：未知实体：net.roseindia.model.Article

> ID：11028029
> 
> 赞同：0
> 
> 时间：2012-06-14T06:47:09.753
> 
> 标签：java, hibernate, spring-mvc, jdbc

我正在尝试从[Rose India Here](http://www.roseindia.net/tutorial/spring/spring3/web/spring-3-mvc-and-hibernate3-example-part2.html)运行一个示例项目，但我遇到了异常：

org.hibernate.MappingException：未知实体：net.roseindia.model.Article

我已经尝试了所有找到的解决方案，其中一个被接受的解决方案是：

使用::: 导入 javax.persistence.Entity；但没有成功。

解决方案之一是关于持久性类，但由于示例项目不包含持久性类（因为我是 Spring 新手，所以我对创建持久性类了解不多）。

我的调度员班是

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"    
xmlns:context="http://www.springframework.org/schema/context"
xmlns:tx="http://www.springframework.org/schema/tx"
xsi:schemaLocation="
http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
http://www.springframework.org/schema/context
http://www.springframework.org/schema/context/spring-context-3.0.xsd
http://www.springframework.org/schema/tx
http://www.springframework.org/schema/tx/spring-tx-3.0.xsd">

<context:property-placeholder location="classpath:jdbc.properties" />
<context:component-scan base-package="net.roseindia" /> 

<tx:annotation-driven transaction-manager="hibernateTransactionManager"/>
<bean id="jspViewResolver"
class="org.springframework.web.servlet.view.InternalResourceViewResolver">
<property name="viewClass"

value="org.springframework.web.servlet.view.JstlView" />

<property name="prefix" value="/WEB-INF/view/" />
<property name="suffix" value=".jsp" />
</bean> 

<bean id="dataSource"
class="org.springframework.jdbc.datasource.DriverManagerDataSource">

<property name="driverClassName" value="com.mysql.jdbc.Driver" />

<property name="url" value="jdbc:mysql://localhost:3306/db_roseindia" />

<property name="username" value="root" />

<property name="password" value="" />       
</bean>
<bean id="sessionFactory"     

class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">

<property name="dataSource" ref="dataSource" />     

<property name="annotatedClasses">
<list>
<value>net.roseindia.model.Article</value>
</list>
</property>
<property name="hibernateProperties">
<props>
<prop key="hibernate.dialect">${hibernate.dialect}</prop>

<prop key="hibernate.show_sql">${hibernate.show_sql}</prop>                             
</props>
</property>

</bean>

<bean id="hibernateTransactionManager"
class="org.springframework.orm.hibernate3.HibernateTransactionManager">

<property name="sessionFactory" ref="sessionFactory" />
</bean>

<bean id="articleService" class="net.roseindia.service.ArticleServiceImpl" ></bean>

<bean id="articleDao" class="net.roseindia.dao.ArticleDaoImpl"></bean>

</beans> 
```

和文章类是

```
package net.roseindia.model;

import java.util.Date;
import javax.persistence.Entity;
import javax.persistence.Column;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.Table;

@Entity
@Table(name = "article")

public class Article {

@Id
@GeneratedValue (strategy = GenerationType.AUTO)

@Column (name = "article_id")

private Long articleId;

@Column(name = "article_name", nullable = false, length=20)
private String articleName;

@Column(name = "article_desc", nullable = false)
private String articleDesc;

@Column(name = "date_added")
private Date addedDate; 
```

我得到了例外：

```
12:18:17,226 ERROR [[dispatcher]] Servlet.service() for servlet dispatcher threw  
exception
org.hibernate.MappingException: Unknown entity: net.roseindia.model.Article
at     
org.hibernate.impl.SessionFactoryImpl.getEntityPersister(SessionFactoryImpl.java:550)
at org.hibernate.impl.SessionImpl.getEntityPersister(SessionImpl.java:1338)
at org.hibernate.engine.ForeignKeys.isTransient(ForeignKeys.java:180)
at org.hibernate.event.def.AbstractSaveEventListener.getEntityState
(AbstractSaveEventListener.java:512)
at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.
performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:80)
at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.
onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:70)
at org.hibernate.impl.SessionImpl.fireSaveOrUpdate(SessionImpl.java:507)
at org.hibernate.impl.SessionImpl.saveOrUpdate(SessionImpl.java:499)
at org.hibernate.impl.SessionImpl.saveOrUpdate(SessionImpl.java:495)
at net.roseindia.dao.ArticleDaoImpl.saveArticle(ArticleDaoImpl.java:22)
at net.roseindia.service.ArticleServiceImpl.addArticle(ArticleServiceImpl.java:36)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at org.springframework.aop.support.AopUtils.
invokeJoinpointUsingReflection(AopUtils.java:307)
atorg.springframework.aop.framework.ReflectiveMethodInvocation.
invokeJoinpoint(ReflectiveMethodInvocation.java:183)
atorg.springframework.aop.framework.ReflectiveMethodInvocation.
proceed(ReflectiveMethodInvocation.java:150)
at org.springframework.transaction.interceptor.TransactionInterceptor.
invoke(TransactionInterceptor.java:108) 
at org.springframework.aop.framework.ReflectiveMethodInvocation
.proceed(ReflectiveMethodInvocation.java:172)
at org.springframework.aop.framework.JdkDynamicAopProxy.
invoke(JdkDynamicAopProxy.java:202)
at $Proxy69.addArticle(Unknown Source)
at net.roseindia.controller.ArticleController.
saveArticle(ArticleController.java:38)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at org.springframework.web.bind.annotation.support.
HandlerMethodInvoker.doInvokeMethod(HandlerMethodInvoker.java:710)
at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.
invokeHandlerMethod(HandlerMethodInvoker.java:167)
at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter
.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:414)
at org.springframework.web.servlet.mvc.annotation.
 AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:402)
at org.springframework.web.servlet.DispatcherServlet.
doDispatch(DispatcherServlet.java:771)
at org.springframework.web.servlet.DispatcherServlet.
doService(DispatcherServlet.java:716)
at org.springframework.web.servlet.FrameworkServlet
.processRequest(FrameworkServlet.java:647)
at org.springframework.web.servlet.FrameworkServlet
.doPost(FrameworkServlet.java:563)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:710)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
at org.apache.catalina.core.ApplicationFilterChain.
internalDoFilter(ApplicationFilterChain.java:290)
at org.apache.catalina.core.ApplicationFilterChain.
doFilter(ApplicationFilterChain.java:206)
at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)
at org.apache.catalina.core.ApplicationFilterChain.
internalDoFilter(ApplicationFilterChain.java:235)
at org.apache.catalina.core.ApplicationFilterChain.
doFilter(ApplicationFilterChain.java:206)
at org.apache.catalina.core.StandardWrapperValve.
invoke(StandardWrapperValve.java:230)
at org.apache.catalina.core.StandardContextValve.
invoke(StandardContextValve.java:175)
at org.jboss.web.tomcat.security.SecurityAssociationValve.
invoke(SecurityAssociationValve.java:182)
at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:84)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
at org.jboss.web.tomcat.service.jca.CachedConnectionValve.
invoke(CachedConnectionValve.java:157)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:262)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.
process(Http11Protocol.java:583)
at org.apache.tomcat.util.net.JIoEndpoint$Worker.
run(JIoEndpoint.java:446)
at java.lang.Thread.run(Unknown Source) 
```

如需完整代码，请访问[此链接](http://www.roseindia.net/tutorial/spring/spring3/web/spring-3-mvc-and-hibernate3-example-part2.html)

您在这方面的帮助和宝贵的时间将不胜感激。

非常感谢提前..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:06:59.720

你真的有一个persistence.xml吗？你的班级在里面吗？

```
<persistence-unit name="xyz">  
[...]
<class>net.roseindia.model.Article</class>
[...]
</persistence-unit> 
```

# java - 是否可以通过在 Apache Velocity 中定义模板来生成 Java 代码？

> ID：11028030
> 
> 赞同：0
> 
> 时间：2012-06-14T06:47:09.990
> 
> 标签：java, apache, velocity

我需要使用 Velocity Template 概念生成一个 Java 文件。请您指导一下。

Java 代码应该包含一些方法、导入和变量...

谢谢，伊斯瓦尔

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T06:56:40.047

使用velocity / java部分，您或多或少需要这样做：

```
// factory and an engine instance
VelocityEngineFactory velocityEngineFactory = new VelocityEngineFactory();
VelocityEngine engine = velocityEngineFactory.createVelocityEngine();
// now you need to give the variables you wanna have access from velocity script
VelocityContext context = new VelocityContext(properties);

ByteArrayOutputStream temp = new ByteArrayOutputStream();
BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(temp));
// generate the result, where scriptString is the velocity script
engine.evaluate(context, bufferedWriter, null, scriptString);
bufferedWriter.flush();
textResultant = temp.toString(); 
```

因此，您可以创建脚本、加载它并以编程方式处理它。

# android - 禁用自动更改方向

> ID：11028032
> 
> 赞同：3
> 
> 时间：2012-06-14T06:47:20.210
> 
> 标签：android

下面是我的代码。
我想将其设置为禁用自动更改屏幕方向。
并启用自动更改屏幕方向。

```
class NewLoad extends AsyncTask<String, String, String> {
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            progDailog = new ProgressDialog(this);
            progDailog.setMessage("test");
            progDailog.setIndeterminate(false);
            progDailog.setProgressStyle(ProgressDialog.STYLE_SPINNER);
            progDailog.setCancelable(false);
            progDailog.show();
            //set disable auto change
        }

        @Override
        protected String doInBackground(String... aurl) {
            //do something
            return null;
        }

        @Override
        protected void onPostExecute(String unused) {
            super.onPostExecute(unused);
            progDailog.dismiss();
            //set enable auto change
        }
    } 
```

我该怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-14T07:06:53.210

使您的活动在清单中看起来像这样

```
 <activity
                android:name=".Hello"
                android:label="@string/app_name"
                android:screenOrientation="portrait"   <-- Screen will be forced to have portrait
                android:configChanges="orientation|keyboardHidden|screensize" > <-- No Restart in these cases 
```

ScreenSize 属性似乎是在 4.0 中添加的，所以如果您在 4.0 以下运行，请不要提及它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T06:51:40.707

```
disable auto change screen orientation.And enable auto change screen orientation. 
```

如果你想做`at run time`

尝试 ：

1.  根据您的需要保留一个布尔标志，如[http://thinkandroid.wordpress.com/2009/12/27/handling-configuration-changes-or-not/](http://thinkandroid.wordpress.com/2009/12/27/handling-configuration-changes-or-not/)
2.  覆盖 onconfigurationchanged，如果它是 true，则将调用传递给 super.onconfigurationchanged，如果 false 不会将调用传递给 super

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T08:59:37.177

在运行时：

当您想阻止传感器时：

```
setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_NOSENSOR); 
```

当您要激活时：

```
setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR_PORTRAIT); 
```

[http://developer.android.com/reference/android/app/Activity.html](http://developer.android.com/reference/android/content/pm/ActivityInfo.html#screenOrientation)

# c# - Silverlight 中的画布/StackPanel 的放置事件未触发

> ID：11028035
> 
> 赞同：1
> 
> 时间：2012-06-14T06:47:29.930
> 
> 标签：c#, silverlight, drag-and-drop

**XAML**

```
 <Grid x:Name="LayoutRoot" Background="White">
        <Canvas  x:Name="VideoCanvas" Width="800" Height="600" AllowDrop="True" Background="RosyBrown" HorizontalAlignment="Center">
            <StackPanel Drop="VideoCanvas_Drop" AllowDrop="True" Name="CommandBar" Orientation="Horizontal" Background="Beige" Height="39" Width="783" Margin="5" HorizontalAlignment="Center" Canvas.Left="3">
                <Button Name="PlayMovie" Background="AntiqueWhite" Content="Play" FontWeight="Bold" Click="PlayMovie_Click" Margin="50,5,0,5" Width="100"/>
                <Button Name="PauseMovie" Background="AntiqueWhite" Content="Pause" FontWeight="Bold" Click="PauseMovie_Click" Margin="50,5,0,5" Width="100"/>
                <Button Name="VideoStop" Background="AntiqueWhite" Content="Stop" FontWeight="Bold" Click="VideoStop_Click" Margin="50,5,0,5" Width="100" />
            </StackPanel>
            <MediaElement x:Name="mediaEl" Canvas.Top="150" Width="800" Height="450" AllowDrop="True" AutoPlay="True" />
        </Canvas>
    </Grid> 
```

**C＃**

```
private void VideoCanvas_Drop(object sender, DragEventArgs e)
        {
            DragEventArgs dr = e as DragEventArgs;

            if (dr.Data == null)
                return;
            IDataObject data = dr.Data;
            FileInfo[] file = data.GetData(DataFormats.FileDrop) as FileInfo[];
            if (file.Count() > 0)
                mediaEl.SetSource(file[0].OpenRead());
            if (mediaEl.CurrentState != MediaElementState.Playing)
            {
                mediaEl.Play();
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T06:51:12.330

Silverlight 中默认不实现拖放。要在 Silverlight 中使用拖放功能，您必须使用[Silverlight Toolkit](http://silverlight.codeplex.com/)中的 DragDropTargets (PanelDragDropTarget, ListBoxDragDropTarget,...) 。

**XAML**

```
<Grid x:Name="LayoutRoot" Background="White">
        <Canvas  x:Name="VideoCanvas" Width="800" Height="600" AllowDrop="True" Background="RosyBrown" HorizontalAlignment="Center">
            <toolkit:PanelDragDropTarget AllowDrop="True" Drop="VideoCanvas_Drop">
              <StackPanel Name="CommandBar" Orientation="Horizontal" Background="Beige" Height="39" Width="783" Margin="5" HorizontalAlignment="Center" Canvas.Left="3">
                  <Button Name="PlayMovie" Background="AntiqueWhite" Content="Play" FontWeight="Bold" Click="PlayMovie_Click" Margin="50,5,0,5" Width="100"/>
                  <Button Name="PauseMovie" Background="AntiqueWhite" Content="Pause" FontWeight="Bold" Click="PauseMovie_Click" Margin="50,5,0,5" Width="100"/>
                  <Button Name="VideoStop" Background="AntiqueWhite" Content="Stop" FontWeight="Bold" Click="VideoStop_Click" Margin="50,5,0,5" Width="100" />
              </StackPanel>
            </toolkit:PanelDragDropTarget>
            <MediaElement x:Name="mediaEl" Canvas.Top="150" Width="800" Height="450" AllowDrop="True" AutoPlay="True" />
        </Canvas>
    </Grid> 
```

C＃

```
private void VideoCanvas_Drop(object sender, Microsoft.Windows.DragEventArgs e)
        {
            DragEventArgs dr = e as DragEventArgs;

            if (dr.Data == null)
                return;
            IDataObject data = dr.Data;
            FileInfo[] file = data.GetData(DataFormats.FileDrop) as FileInfo[];
            if (file.Count() > 0)
                mediaEl.SetSource(file[0].OpenRead());
            if (mediaEl.CurrentState != MediaElementState.Playing)
            {
                mediaEl.Play();
            }
        } 
```

# python - 11到20位的随机数

> ID：11028036
> 
> 赞同：2
> 
> 时间：2012-06-14T06:47:32.067
> 
> 标签：python, random

如何在python中生成不应该以0开头的随机数（11到20位）？

如：23418915901

```
def key_more_than_10():
    v=random.randint(11,20)
    char_set = string.digits+string.digits+string.digits
    s= ''.join(random.sample(char_set,v))
    return s 
```

我使用了这段代码，但由于 string.digits（给出 0 到 9 之间的数字）它对我没有帮助吗？

拥有 11 位数字和 20 位数字的可能性应该相等。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T06:51:47.713

简单的：

```
>>> help(random.randint)
Help on method randint in module random:

randint(self, a, b) method of random.Random instance
    Return random integer in range [a, b], including both end points.

>>> random.randint(10000000000,99999999999999999999)
35677750742418249489 
```

当然，如果你真的想要一个字符串（不知道为什么会这样），你可以将`str()`整个东西包裹起来：

```
>>> str(random.randint(1000000000,99999999999999999999))
'91138793919270489115' 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T09:14:06.300

将您想要的内容直接翻译成代码怎么样：

```
import random
DIGITS = '0123456789'

ndigits = random.randint(11, 20)
digits = [random.choice(DIGITS[1:])] + [random.choice(DIGITS) for i in xrange(ndigits-1)]
print int(''.join(digits)) 
```

*几乎*随机结果中的位数应均匀分布在 11..20 之间。不是很随机，因为将第一个数字限制为非零会排除它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T07:27:46.853

我会为此选择 randrange

```
    帮助模块 random 中的方法 randrange：

    randrange(self, start, stop=None, step=1, int=<type 'int'>, default=None, maxwidth=9007199254740992L) random.Random 实例的方法
        从范围（开始，停止[，步骤]）中选择一个随机项目。

    这解决了 randint() 的问题，其中包括
    端点；在 Python 中，这通常不是您想要的。
    不要提供“int”、“default”和“maxwidth”参数。

```

所以

```
random.randrange(1e11, 1e20) 
```

会做你想做的。对于字符串使用这个

```
str(random.randrange(1e11, 1e20)) 
```

# linux - 在后台启动进程并从 bash 脚本修改它

> ID：11028041
> 
> 赞同：1
> 
> 时间：2012-06-14T06:47:47.693
> 
> 标签：linux, bash

我正在创建一个 bash 脚本，它将在后台运行一个进程，该进程创建一个套接字文件。然后需要对套接字文件进行`chmod`'d. 我遇到的问题是在尝试文件之前没有创建套接字`chmod`文件。

示例来源：

```
#!/bin/bash

# first create folder that will hold socket file
mkdir /tmp/myproc
# now run process in background that generates the socket file
node ../main.js &
# finally chmod the thing
chmod /tmp/myproc/*.sock 
```

如何延迟执行`chmod`直到创建套接字文件之后？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:22:32.493

我知道的最简单的方法是忙于等待文件出现。方便的是，`ls`当要求列出的文件不存在时返回非零值；所以只需循环`ls`直到它返回 0，当它知道你至少有一个`*.sock`文件要 chmod 时。

```
#!/bin/sh
echo -n "Waiting for socket to open.."
( while [ ! $(ls /tmp/myproc/*.sock) ]; do
  echo -n "."
  sleep 2
done ) 2> /dev/null
echo ". Found" 
```

如果这是您需要多次执行的操作，请将其包装在一个函数中，否则应该按您的需要执行。

编辑：

正如评论中指出的那样，在测试中使用这样的 ls 不如 -e ，因此下面的重写脚本是首选。（我还更正了 shell 调用，因为在 sh 仿真模式下并非所有平台都支持 -n。）

```
#!/bin/bash
echo -n "Waiting for socket to open.."
while [ ! -e /tmp/myproc/*.sock ]; do
  echo -n "."
  sleep 2
done
echo ". Found" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T11:23:07.330

在继续之前测试以查看文件是否存在：

```
while [[ ! -e filename ]]
do
    sleep 1
done 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-15T01:30:17.503

如果您设置了[umask](http://ss64.com/bash/umask.html)（尝试`umask 0`），您可能根本不需要 chmod。如果您仍然没有获得正确的权限，请检查节点是否具有更改权限的选项。

# php - 换行符文件读取

> ID：11028046
> 
> 赞同：-1
> 
> 时间：2012-06-14T06:47:58.243
> 
> 标签：php, file, text, readfile

我试图从服务器读取文件。这工作得很好，但我遇到了一个问题：

> Lorem ipsum dolor sit amet, consectetur adipiscing elit。Fusce dignissim，magna sed egestas suscipit，tortor nunc lacinia felis，eget tempus nunc neque non augue。Suspendisse ut turpis nulla。Suspendisse eu nisi quis tortor porttitor elementum。Mauris id massa turpis。Nullam scelerisque euismod sollicitudin。
> 
> Nam imperdiet lorem nec mi posuere laoreet。Pellentesque sed metus eget quam pulvinar imperdiet ut et diam。Maecenas molestie magna vitae metus pretium posuere。Aliquam erat volutpat。在 ut libero nulla，坐在 amet consequat lacus。Quisque ac lectus a libero venenatis placerat sed ac metus。Aenean congue nunc non sapien vulputate tempus。

如果我在文本文件中放置一个换行符，它只会读取第二段。解决此问题的最佳方法是什么？

这是我的代码：

```
$file = "./textfiles_tips/woningmarkt.txt";
if (file_exists($file))
{
    $f = fopen($file, "r");

    while ( $line = fgets($f) )
    {
        $data['text'] = $line;
    }
}
else
{
    echo "The file $filename does not exist";
}

$this->layout->buildPage('main/tips/woningmarkt', $data); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:08:34.190

你覆盖`$data['text']`每一行。用于`.=`追加而不是覆盖。
在循环使用之前将`$data['text'] = '';`其初始化为空字符串。

```
$data['text'] = '';
while ($line = fgets($f)) {
    $data['text'] .= $line;
} 
```

但是，您可以更轻松地使用[`file_get_contents`](http://php.net/file_get_contents). `fopen`将直到循环的整个代码替换为：

```
$data['text'] = file_get_contents($file); 
```

# java - JSR 303 验证中的 303 表示什么

> ID：11028050
> 
> 赞同：-1
> 
> 时间：2012-06-14T06:48:11.440
> 
> 标签：java, bean-validation

我怀疑什么是 JSR 303 验证以及 303 到底是什么意思。我用谷歌搜索了它，我发现它是一个 bean 验证，但我想知道更多关于这个的事情。它是否只适用于 bean。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:07:20.037

303 并不重要，它只是意味着它是第 303 个[Java 规范请求](http://en.wikipedia.org/wiki/Java_Specification_Request)

[这是维基百科](http://en.wikipedia.org/wiki/Bean_Validation)和[项目页面](http://jcp.org/en/jsr/detail?id=303)上有关 JSR 303 的具体信息

# android - Android 上的肥皂与休息

> ID：11028054
> 
> 赞同：1
> 
> 时间：2012-06-14T06:48:22.533
> 
> 标签：android, rest, soap

我正在android中创建一个应用程序。它将调用网络服务来获取一些机密信息。我需要验证用户是否已通过身份验证以访问信息，并且即使用户拥有访问服务所需的所有凭据，也不应从任何其他来源调用该服务。

应该使用什么来确保安全性.... REST 还是 SOAP？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T06:52:05.590

为了安全起见，您应该将 SSL 与客户端身份验证一起使用，并有可能撤销 cvlient 证书（尽管并非每个应用程序服务器都支持这一点）。SOAP 或 REST 在此上下文中没有区别。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T05:06:49.857

以我的经验，REST 更容易构建并且开销更少。以前用CXF搭建soap服务，真的很简单，现在用Restlet做服务端，更加简单快捷。Restlet 集成了 Json、Guice、JPA 和所有好东西。在 Android 端，我使用带有 httpClient、Roboguice 和 Jackson 的简单休息接口。

# web-services - 在启用 WS-Security 的 Weblogic 11g 中部署 Web 服务 (WAR) 应用程序 - 错误

> ID：11028055
> 
> 赞同：0
> 
> 时间：2012-06-14T06:48:30.877
> 
> 标签：web-services, web, weblogic11g

我正在尝试将我们专有的 Web 服务应用程序 (WAR) 部署到 Weblogic 11g 服务器中。我使用 Eclipse Indigo 和 Java 1.6 创建了 WAR。

我收到以下错误，

> 消息 激活更改过程中发生错误，请参阅日志了解详细信息。在部署 WebService 模块“TWSWebSec.war”的准备阶段遇到错误。处理 WebService 模块“TWSWebSec.war”时。处理 WebService 模块“TWSWebSec.war”时找不到 wsdl /wsdls/wsc10/wscoor.wsdl。找不到 wsdl /wsdls/wsc10/wscoor.wsdl

部署已成功安装。

我尝试在指定文件夹中创建 wscoor.wsdl 并创建一个新的 WAR，这次错误是文件过早关闭，这意味着文件已被识别并且文件中没有任何内容可供读取。

在此之后，我尝试根据创建的服务端点接口/Web服务手动输入服务、接口、操作，这次我得到了错误

> 更改激活过程中发生错误，请参阅日志了解详细信息。在部署 WebService 模块“TWSWebSec.war”的准备阶段遇到错误。处理 WebService 模块“TWSWebSec.war”时。处理 WebService 模块“TWSWebSec.war”时找不到 wsdl /wsdls/wsc11/wstx-wscoor-1.1-wsdl-200702.wsdl。找不到wsdl /wsdls/wsc11/wstx-wscoor-1.1-wsdl-200702.wsdl 部署已经安装成功。

我在这里错过了什么吗？是配置问题吗？我需要更新我使用的任何 JAR 吗？

请帮忙。如果需要更多信息，还请告诉我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T11:02:49.890

我发布此消息是因为您有可能遇到与我所经历的情况相似的情况。昨天下午，当我试图让 WebLogic 部署一个使用 CXF 的 Eclipse 的 Web 服务生成器创建的客户端时，我遇到了同样的错误（即“找不到 wsdl”）。它只是从来没有奏效。今天我用一个使用 WebLogic 的生成器制作的客户端替换了那个客户端，同样在 Eclipse 中，它位于 Oracle、WebLogic、Web 和服务客户​​端下。这对我有用。似乎 WebLogic 使用 Metro 而不是 CXF。CXF 肯定没有什么问题，但它似乎与 WebLogic 不搭。最好的问候约翰内斯

# reporting-services - Reporting Services：过滤行时的备用行背景

> ID：11028062
> 
> 赞同：0
> 
> 时间：2012-06-14T06:49:28.223
> 
> 标签：reporting-services, ssrs-2008, alternate

我有一个包含 10 个字段的数据集。我将该数据集分为 3 组，其中每组是前一组的子组。所以它会是这样的：

```
Users
    Username
        LoginDate 
```

问题是并非所有登录日期都必须显示，所以我在数据集中有一个字段来确定该行是否应该可见。但是当我过滤行时，我的备用行着色中断。有人知道如何解决吗？

对于着色行我使用这个：

```
=IIf(RunningValue(Fields!Users.Value, CountDistinct, Nothing) MOD 2, 
    "White", 
    "#C0C0C0") 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T20:40:37.580

为什么必须将行带到报告中，在数据集查询中添加 where 子句并将其过滤掉，然后着色将正常

# python - QTableView 中每个标题的不同工具提示

> ID：11028067
> 
> 赞同：4
> 
> 时间：2012-06-14T06:49:56.067
> 
> 标签：python, pyqt, tooltip, qtableview, qheaderview

我可以使用向所有标题添加单个工具提示

```
tableview = QTableView()
tableview.horizontalHeader().setToolTip("headers") 
```

但我可以为每个标题添加不同的工具提示吗，即我需要访问包含标题的 QWidgets，例如（不工作）：

```
tableview.horizontalHeader().Item[0].setToolTip("header 0") 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-19T19:51:25.263

我对这些东西也很陌生，但我认为你需要继承 QTableView 并重新实现 headerData 函数。这是一个工作示例。希望你能从中提取你需要的东西：

```
from PyQt4 import QtGui, QtCore
import sys

class PaletteListModel(QtCore.QAbstractListModel):

    def __init__(self, colors = [], parent = None):
        QtCore.QAbstractListModel.__init__(self,parent)
        self.__colors = colors

    # required method for Model class
    def rowCount(self, parent):
        return len(self.__colors)

    # optional method for Model class
    def headerData(self, section, orientation, role):
        if role == QtCore.Qt.DisplayRole:
            if orientation == QtCore.Qt.Horizontal:
                return QtCore.QString("Palette")
            else:
                return QtCore.QString("Color %1").arg(section)

        if role == QtCore.Qt.ToolTipRole:
            if orientation == QtCore.Qt.Horizontal:
                return QtCore.QString("Horizontal Header %s Tooltip" % str(section))
            else:
                return QtCore.QString("Vertical Header %s Tooltip" % str(section))

    # required method for Model class
    def data(self, index, role):
        # index contains a QIndexClass object. The object has the following
        # methods: row(), column(), parent()

        row = index.row()
        value = self.__colors[row]

        # keep the existing value in the edit box
        if role == QtCore.Qt.EditRole:
            return self.__colors[row].name()

        # add a tooltip
        if role == QtCore.Qt.ToolTipRole:
            return "Hex code: " + value.name()

        if role == QtCore.Qt.DecorationRole:
            pixmap = QtGui.QPixmap(26,26)
            pixmap.fill(value)

            icon = QtGui.QIcon(pixmap)

            return icon

        if role == QtCore.Qt.DisplayRole:

            return value.name()

    def setData(self, index, value, role = QtCore.Qt.EditRole):
        row = index.row()

        if role == QtCore.Qt.EditRole:
            color = QtGui.QColor(value)

            if color.isValid():
                self.__colors[row] = color
                self.dataChanged.emit(index, index)
                return True

        return False

    # implment flags() method
    def flags(self, index):
        return QtCore.Qt.ItemIsEditable | QtCore.Qt.ItemIsEnabled | QtCore.Qt.ItemIsSelectable

if __name__ == '__main__':

    app = QtGui.QApplication(sys.argv)
    app.setStyle("plastique")

    data = QtCore.QStringList()
    data << "one" << "two" << "three" << "four" << "five"

    tableView = QtGui.QTableView()
    tableView.show()

    red   = QtGui.QColor(255,0,0)
    green = QtGui.QColor(0,255,0)
    blue  = QtGui.QColor(0,0,255)

    model = PaletteListModel([red, green, blue])

    tableView.setModel(model)

    sys.exit(app.exec_()) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:43:22.850

`QTableWidget`（继承`QTableView`）有一个方法`horizontalHeaderItem(int)`可以用来获取标题项，所以你也许可以使用它而不是`QTableView`?

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-08-20T10:03:35.350

如果使用 QTableView，可以通过 QStandardItemModel 设置 tooltip：

```
QStandardItemModel myModel;
myModel.horizontalHeaderItem(1)->setToolTip(""); 
```

# algorithm - 找到尽可能多地与多边形相交的射线

> ID：11028075
> 
> 赞同：1
> 
> 时间：2012-06-14T06:50:44.657
> 
> 标签：algorithm, sorting, data-structures

令 P 是一个简单但不一定是凸多边形，q 是一个不一定在 P 中的任意点。

设计一种有效的算法来找到一条源自 q 且与 P 的最大边数相交的线段。

换句话说，如果站在 q 点，你应该把枪瞄准哪个方向，这样子弹才能穿过最多的墙壁？

子弹穿过 P 的一个顶点，只获得一堵墙的功劳。

O(n log n) 算法是可能的。n 是顶点或边的数量，因为它是一个多边形，边的数量大致等于顶点的数量。

[这与这个问题](https://stackoverflow.com/questions/10474287/finding-a-ray-that-intersects-a-polygon-as-many-times-as-possible?answertab=active#tab-top)相同， 但是我无法理解答案，更具体地说，答案似乎不涉及 q，头部和臀部的事情也不清楚，因为多边形上的每个点都是头部和对接，因为每个点都连接到两个边缘，如果这有意义的话。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T06:57:32.200

因此，任何不与任何顶点附近的多边形相交的最佳答案都会有一个几乎与多边形顶点相交的最佳答案。

也就是说，如果您有一条穿过 10 个“墙”的线并且它不在顶点附近，您可以将它沿某个方向平移到顶点，同时仍然保持 10 个墙相交。

通过这种推理，您只需搜索通过接近顶点的解决方案。

因此，对顶点进行排序（nlogn），然后搜索几乎与一个（3n）相交的每个可能的线段。您可以在不重新计算每条候选线上的全部交点的情况下执行此操作，因为当线从一个顶点移动到另一个顶点时，它会添加或丢失 2 面墙（或保持不变）。您可以在每一步的固定时间跟踪这种增量变化。

# php - 过时的 SQL 注入防止器？

> ID：11028079
> 
> 赞同：2
> 
> 时间：2012-06-14T06:50:52.000
> 
> 标签：php, mysql, sql

在我在网上找到的登录脚本中，创建者添加了此功能以防止 SQL 注入攻击。

```
function Fix($str) {
    $str = trim($str);
    if(get_magic_quotes_gpc()) {
        $str = stripslashes($str);
    }
    return mysql_real_escape_string($str);
} 
```

由于我读到它`magic_quotes_gpc`被（或已经）删除，感觉这个功能有点过时了。不只是简单地使用`mysqli_real_escape_string($user_input)`增加足够的安全性吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:00:22.573

`mysql_real_escape_string`在所有情况下都不够，但它绝对是非常好的朋友。**更好**的解决方案是使用**[准备好的语句](http://php.net/manual/en/pdo.prepared-statements.php)**

```
//example from http://php.net/manual/en/pdo.prepared-statements.php

$stmt = $dbh->prepare("INSERT INTO REGISTRY (name, value) VALUES (?, ?)");
$stmt->bindParam(1, $name);
$stmt->bindParam(2, $value);

// insert one row
$name = 'one';
$value = 1;
$stmt->execute(); 
```

另外，不要忘记可用于丢弃任何无效/可疑字符的**[HTMLPurifier 。](http://htmlpurifier.org/)**

**[mysql_real_escape_string() 与预处理语句](http://ilia.ws/archives/103-mysql_real_escape_string-versus-Prepared-Statements.html)**

> `mysql_real_escape_string()`容易受到同类问题的影响 `addslashes()`。

**来自Chris Shiflett**（安全专家）的回答

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T07:00:33.713

`magic_quotes_gpc`在 5.3 中已弃用并在 5.4 中删除。如果您的代码用于分发（即您无法控制使用它的环境），最好考虑到它可能会在 5.3 中运行并启用魔术引号。如果这是内部应用程序并且您可以控制环境，并且您知道魔术引号已禁用，则没有必要检查它们。

# android - 电子邮件未显示在列表中？

> ID：11028087
> 
> 赞同：0
> 
> 时间：2012-06-14T06:51:28.790
> 
> 标签：android

我使用的代码将在列表视图中显示**名称和编号**，但我还需要显示电子邮件，为此我添加了一些代码片段，但电子邮件没有显示在列表视图中。我使用的是 Android 2.1 平台。

**代码**

```
 public class Trial2 extends Activity {
/** Called when the activity is first created. */
private static final int CONTACT_PICKER_RESULT = 1001; 
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

       Button Btn = (Button)findViewById(R.id.button1);
        Btn.setOnClickListener(new View.OnClickListener() { 

            @Override 
            public void onClick(View v) {
                Intent i = new Intent(Intent.ACTION_PICK,ContactsContract.CommonDataKinds.Phone.CONTENT_URI);
                startActivityForResult(i, CONTACT_PICKER_RESULT);

            } 
        });
    }

    protected void onActivityResult(int reqCode, int resultCode, Intent data) { 
        super.onActivityResult(reqCode, resultCode, data);
        if(resultCode == RESULT_OK) {
            switch (reqCode) {
            case CONTACT_PICKER_RESULT:
                Cursor cursor = null;
                Cursor Emails = null;
                String number = "";
                String mailid;
                try {

                    Uri result = data.getData();

                    //get the id from the uri
                    String id = result.getLastPathSegment();  

                    //query
                    cursor = getContentResolver().query(
                            ContactsContract.CommonDataKinds.Phone.CONTENT_URI,null,ContactsContract.CommonDataKinds.Phone._ID + " = ? " , new String[] {id}, null);

                    int numberIdx = cursor.getColumnIndex(Phone.DATA);  

                    if(cursor.moveToFirst()) {
                        number = cursor.getString(numberIdx);

                    } else {

                    }

                     Emails = getContentResolver().query(Email.CONTENT_URI,null,Email.CONTACT_ID + " = " + id, null, null);

                     int emailid = Emails.getColumnIndex(Email.DATA);

                     if(Emails.moveToFirst()){

                         mailid =Emails.getString(emailid);
                     }else {

                    }

                } catch (Exception e) {
                    //failed 
                } finally {
                    if (cursor!=null) {
                        cursor.close();
                    }

                }

            }
        }
    }
} 
```

**xml文件**

```
<?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

  <Button
    android:id="@+id/button1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Trial2" />

</LinearLayout> 
```

解决方案 ？请。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:18:08.787

尝试使用此代码片段在列表视图中显示您的电子邮件。这将很有帮助

```
Cursor emailCur = cr.query(ContactsContract.CommonDataKinds.Email.CONTENT_URI, 
                       null,ContactsContract.CommonDataKinds.Email.CONTACT_ID
                       + " = ?", new String[]{id}, null); 

while (emailCur.moveToNext()) { 

String email = emailCur.getString(
              emailCur.getColumnIndex(ContactsContract.CommonDataKinds.Email.DATA));
String emailType = emailCur.getString(
              emailCur.getColumnIndex(ContactsContract.CommonDataKinds.Email.TYPE)); 
}     emailCur.close(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:03:15.573

使用此代码获取电子邮件

```
Cursor emailCur = cr.query(ContactsContract.CommonDataKinds.Email.CONTENT_URI, 
                           null,ContactsContract.CommonDataKinds.Email.CONTACT_ID
                           + " = ?", new String[]{id}, null); 
    while (emailCur.moveToNext()) { 
    // This would allow you get several email addresses
        // if the email addresses were stored in an array
    String email = emailCur.getString(
                  emailCur.getColumnIndex(ContactsContract.CommonDataKinds.Email.DATA));
    String emailType = emailCur.getString(
                  emailCur.getColumnIndex(ContactsContract.CommonDataKinds.Email.TYPE)); 
} 
emailCur.close(); 
```

获取 gmail id 的值后，您必须将这些值传递给 listview ，在您的代码中，活动检查中没有 listview 一次......

# sql-server - Visual Studio 无法连接到本地数据库 (.mdf)

> ID：11028088
> 
> 赞同：0
> 
> 时间：2012-06-14T06:51:31.720
> 
> 标签：sql-server, visual-studio-2010

我已经安装了 Visual Studio 2012。安装它之后（我认为是因为同时安装了 SQL Server 2012）它在尝试添加本地数据库文件时给了我一个错误。知道如何配置 VS 以便它使用正确版本的 sql server。
请注意，我已尝试从 Tools>Options 设置 DataConnection。但没有运气。

提前致谢。

# backbone.js - 可以将卓别林与流星一起使用吗？

> ID：11028090
> 
> 赞同：0
> 
> 时间：2012-06-14T06:51:38.233
> 
> 标签：backbone.js, meteor

可以将[卓别林](https://github.com/chaplinjs/chaplin)与流星一起使用吗？

非常欢迎任何想法、建议、指示或指导。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T18:32:27.157

我不熟悉卓别林。但是在查看了它的主页和 5 分钟的介绍阅读之后。我知道它只是客户端，其为骨干网定义了明确的应用程序架构。所以是的，您可以将它与 Meteor 一起使用，就像骨干可以与 Meteor 一起使用。（看看 Meteor 包，[http://docs.meteor.com/#meteorlist](http://docs.meteor.com/#meteorlist)主干已经被支持）。

会有很少的东西，可能会与流星特征发生冲突。ie Backbone 支持REST 与服务器远程同步，meteor 提供自己的服务器同步集合管理，但您可以根据需要使用其中任何一个。所以简而言之，是的，应该可以将卓别林与流星一起使用。

# php - 如何检查模型是否具有特定属性？

> ID：11028092
> 
> 赞同：4
> 
> 时间：2012-06-14T06:51:41.050
> 
> 标签：php, oop, object, yii

我想创建一个新的模型类，它将在所有其他类中扩展。我想在管理员添加/编辑任何记录时自动设置一些字段。即 createdDate、createdIp、updatedDate、updatedIp..等。

现在我的问题所有领域都不会在所有模型中通用。所以我想检查对象是否有 createdDate 属性然后只设置它的值。如果没有条件并且模型没有 createdDate 成员，那么它将产生错误。下面是我正在尝试的代码。但它不起作用。

```
public function beforeSave()
{ 
            if(isset($this->createdDate))
                    die('this model have createdDate field');
            else
                    die('this model does not have createdDate field');
} 
```

模型可能不直接，它可能会自动扩展数据库表相关类。下面是打印的对象。createdDate 字段在私人列表中。

如果我使用`var_dump(property_exists($this, 'createdDate'));` 它是给我假的。

```
AdvertisementRate Object
(
    [bannerLocation_search] => 
    [bannerType_search] => 
    [_md:private] => CActiveRecordMetaData Object
        (
            [tableSchema] => CMysqlTableSchema Object
                (
                    [schemaName] => 
                    [name] => tbl_advertisement_rate
                    [rawName] => `tbl_advertisement_rate`
                    [primaryKey] => advertisementRateId
                    [sequenceName] => 

                    [columns] => Array
                        (
                            [createdDate] => CMysqlColumnSchema Object
                                (
                                    [name] => createdDate
                                    [rawName] => `createdDate`
                                    [allowNull] => 
                                    [dbType] => datetime
                                    [type] => string
                                    [defaultValue] => 
                                    [size] => 
                                    [precision] => 
                                    [scale] => 
                                    [isPrimaryKey] => 
                                    [isForeignKey] => 
                                    [autoIncrement] => 
                                    [_e:private] => 
                                    [_m:private] => 
                                ) 
```

请帮我添加这个逻辑。

* * *

是的.. CActiveRecord 扩展到我的班级。

MasterAdmin.php

```
class MasterAdmin extends CActiveRecord
{
    public function beforeSave()
    { 
                echo '<pre>';
                var_dump(property_exists($this, 'createdDate')); 
                exit;
    }
} 
```

用户.php

```
class User extend MasterAdmin 
{
   // So whenever any record added or edited, beforeSave will be called and i can autoset createddate value.

} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-14T08:23:12.587

你用的是主动记录吗？

[http://www.yiiframework.com/doc/api/1.1/CActiveRecord#hasAttribute-detail](http://www.yiiframework.com/doc/api/1.1/CActiveRecord#hasAttribute-detail)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-14T06:53:32.973

[`property_exists()`](http://php.net/manual/en/function.property-exists.php)就是你要找的。

这样，如果属性存在但设置为`NULL`，上述函数将如您所愿返回 true，而`isset()`返回 false 导致您认为该属性不存在。

为我工作。查看[**示例**](http://codepad.org/H11S4eWE)

# osx-lion - xcode 在 10.7.4 上编译时看不到 sdl 框架

> ID：11028099
> 
> 赞同：2
> 
> 时间：2012-06-14T06:52:13.607
> 
> 标签：osx-lion, sdl, xcode4.3

我最近将 xcode 更新为 4.3.3，其中包含 osx sdk 10.7.4。之后，我无法与 sdl.framework (1.2.15) 链接，
当我将 platfrom 切换到 10.6 时，它链接正常。
当我使用带有 osx sdk 10.7 的 xcode 4.3.2 进行编译时，它也可以链接。

有任何想法吗？

这是链接器输出

```
ld: framework not found SDL 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-15T13:31:07.670

这是 XCode 4.3.3 中的一个错误。请参阅[http://prod.lists.apple.com/archives/xcode-users/2012/Jun/msg00062.html](http://prod.lists.apple.com/archives/xcode-users/2012/Jun/msg00062.html)

作为框架搜索路径的 /Library/Frameworks 的解决方法：

![添加框架搜索路径](../Images/203c979331025fb41cce45bc3917570e.png)

# c++ - Visual C++ - 找到一个或多个多重定义的符号

> ID：11028101
> 
> 赞同：0
> 
> 时间：2012-06-14T06:52:33.030
> 
> 标签：c++, dll

每当我开始构建我的 dll 时，我都会收到此错误：致命错误 LNK1169：找到一个或多个多重定义的符号

我认为代码没有问题，因为我从源代码中复制了它：

ExoDll1.cpp

```
#include "stdafx.h"

double BoxArea(double L, double H, double W);
double BoxVolume(double L, double H, double W);
extern "C" __declspec(dllexport)void BoxProperties(double Length, double Height,
                                double Width, double& Area, double& Volume);

BOOL APIENTRY DllMain( HANDLE hModule, 
                   DWORD  ul_reason_for_call, 
                   LPVOID lpReserved
                 )
{
    return TRUE;
}

double BoxArea(double L, double H, double W)
{
    return 2 * ((L*H) + (L*W) + (H*W));
}

double BoxVolume(double L, double H, double W)
{
    return L * H * W;
}

void BoxProperties(double L, double H, double W, double& A, double& V)
{
A = BoxArea(L, H, W);
V = BoxVolume(L, H, W);
} 
```

我试图创建一个新项目并删除旧项目，但同样的问题仍然存在.. 似乎是什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:23:20.423

此错误消息不能仅与单个翻译单元（例如`ExoDll1.cpp`）一起出现。例如，您可能在不知不觉中尝试同时编译此代码的多个版本。

检查您的项目并删除任何您不想编译的源代码。

确保您的项目中没有`#include "ExoDll1.cpp"`任何内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T08:56:34.840

这个错误不是来自编译器，而是来自链接器。这意味着编译器没有发现任何错误，特别是*在任何一个编译单元中都*没有重复的符号定义。但是，生成 .dll 库的链接器会加载多个编译单元并在编译单元中发现重复的符号*定义*。

如果多个编译单元包含具有外部链接的相同代码，即如果您提供`#include`源代码，或者如果在头文件（多个编译单元`#include`）中定义了一个函数但未声明，则会发生这种情况`inline`。

# struts2 - Struts2：如何在动作类提供的列表中添加禁用的选项

> ID：11028103
> 
> 赞同：2
> 
> 时间：2012-06-14T06:52:42.710
> 
> 标签：struts2, arraylist, option

我有 struts2 Select 字段，该字段将其 Options 作为来自 Action 类的键值对列表。

例如

```
public List<KeyValueElement> getDataSetList
{
    dataSetList.add(new KeyValueElement("OPTION1", "Option 1"));
    dataSetList.add(new KeyValueElement("OPTION2", "Option 2"));
    dataSetList.add(new KeyValueElement("OPTION3", "Option 3"));
    dataSetList.add(new KeyValueElement("OPTION4", "Option 4"));
    return dataSetList;
} 
```

注意：我没有详细介绍 KeyValueElement，但它与以下内容一起使用：

```
 <s:select key="label.dataSet" name="dataSet" 
        list="dataSetList" listKey="key" listValue="value" 
        cssClass="formSelect" onchange="checkDataSet(this)" /> 
```

现在，我的客户希望根据条件禁用某些选项。

如何在 Struts2 中添加禁用的选项？？？当然，我可以使用 JavaScript 或其他一些技术轻松地进行此类操作，但我想知道我是否可以使用 Struts2 在服务器端进行操作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-06-03T14:00:54.863

我花了一整天的时间才弄清楚，但我终于成功地做到了你想要的（我也需要同样的行为）。

我现在可以用类似的东西定义选择：

```
<my:myselect key="label.dataSet" name="dataSet" 
    list="dataSetList" listKey="key" listValue="value" 
    cssClass="formSelect" onchange="checkDataSet(this)"
    listDisabled="disabled" /> 
```

假设“禁用”是 KeyValueElement 对象的新属性。将此属性设置为 null 或 "" 以外的值，您的选项将被禁用。

基本上，您要做的是创建原始 Struts 的 Select 的子类/组件。您至少需要以下文件

**我的选择.java**

```
@StrutsTag(name = "myselect", tldTagClass = "ch.yotus.project.tags.MySelectTag", description = "Create a Select component with the possibility to disable options")
public class MySelect extends Select {

    final public static String TEMPLATE = "myselect";

    protected String listDisabled;

    public MySelect(ValueStack stack, HttpServletRequest request, HttpServletResponse response) {
        super(stack, request, response);
    }

    @Override
    protected String getDefaultTemplate() {
        return TEMPLATE;
    }

    @Override
    public void evaluateExtraParams() {
        super.evaluateExtraParams();

        if (listDisabled != null) {
            addParameter("listDisabled", findString(listDisabled));
        }
    }

    @StrutsTagAttribute(description = "Can be used to disable an option")
    public void setListDisabled(String listDisabled) {
        this.listDisabled = listDisabled;
    }
} 
```

**MySelectTag.java**

```
public class MySelectTag extends SelectTag {

    private static final long serialVersionUID = 1L;

    protected String listDisabled;

    public Component getBean(ValueStack stack, HttpServletRequest req, HttpServletResponse res) {
        return new MySelect(stack, req, res);
    }

    @Override
    protected void populateParams() {
        super.populateParams();

        MySelect select = ((MySelect) component);
        select.setListDisabled(listDisabled);
    }

    public void setListDisabled(String listDisabled) {
        this.listDisabled = listDisabled;
    }
} 
```

**我的选择模型**

```
public class MySelectModel extends TagModel {

    public MySelectModel(ValueStack stack, HttpServletRequest req, HttpServletResponse res) {
        super(stack, req, res);
    }

    @Override
    protected Component getBean() {
        return new MySelect(stack, req, res);
    }
} 
```

然后，您需要从资源文件夹中的 Struts2 核心 jar (template/simple/select.ftl) 中复制原始 select.ftl 文件，在末尾添加以下代码：

**我的选择.ftl**

```
<@s.iterator value="parameters.list">
[Omitted code for reading purposes]
    <#if parameters.listTitle??>
        <#if stack.findString(parameters.listTitle)??>
          <#assign itemTitle= stack.findString(parameters.listTitle)/>
        <#else>
          <#assign itemTitle = ''/>
        </#if>
    </#if>
    <#if parameters.listDisabled??>
        <#if stack.findString(parameters.listDisabled)??>
          <#assign itemDisabled= stack.findString(parameters.listDisabled)/>
        <#else>
          <#assign itemDisabled = ''/>
        </#if>
    </#if>
<option value="${itemKeyStr?html}"<#rt/>
    <#if tag.contains(parameters.nameValue, itemKey) == true>
      selected="selected"<#rt/>
    </#if>
    <#if itemDisabled?if_exists != "">
      disabled="disabled"<#rt/>
    </#if>
    <#if itemCssClass?if_exists != "">
      class="${itemCssClass?html}"<#rt/>
    </#if>
    <#if itemCssStyle?if_exists != "">
       style="${itemCssStyle?html}"<#rt/>
    </#if>
    <#if itemTitle?if_exists != "">
       title="${itemTitle?html}"<#rt/>
    </#if>
  >${itemValue?html}</option><#lt/>
</@s.iterator> 
```

您必须添加的是使用“listDisabled”和“itemDisabled”的行，我希望它足够清楚（只是模仿已经存在的内容，我无法在代码中突出显示内容）。

然后，在 project-tags.tld 中添加新标签：

**项目标签.tld**

```
[Beginning of the file skipped]
    <tag>
        <name>myselect</name>
        <tag-class>ch.yotus.project.tags.MySelectTag</tag-class>
        <body-content>JSP</body-content>
        <description><![CDATA[Custom select that can disable options]]></description>
        <attribute>
            <name>listDisabled</name>
            <required>false</required>
            <rtexprvalue>false</rtexprvalue>
            <description><![CDATA[Value to output]]></description>
        </attribute>
        <attribute>
            <name>accesskey</name>
            <required>false</required>
            <rtexprvalue>false</rtexprvalue>
            <description><![CDATA[Set the html accesskey attribute on rendered html element]]></description>
        </attribute>
        [Other attributes from original tld skipped]
    </tag> 
```

警告：您必须具有原始选择标签的**所有**属性（可以在 struts-core jar 中找到）。除非您不需要其中的某些。

您的项目 TagLibProvider 还必须知道这个新标签：

**项目标签库.java**

```
public class ProjectTagLib implements TagLibraryModelProvider {
    @Override
    public Object getModels(ValueStack stack, HttpServletRequest req, HttpServletResponse res) {
        return new ProjectModels(stack, req, res);
    }
} 
```

**项目模型.java**

```
public class ProjectModels {

    protected ValueStack stack;
    protected HttpServletRequest req;
    protected HttpServletResponse res;

    protected MySelectModel mySelectModel;

    public ProjectModels(ValueStack stack, HttpServletRequest req, HttpServletResponse res) {
        this.stack = stack;
        this.req = req;
        this.res = res;
    }

    public MySelectModel getMySelectModel() {
        if (mySelectModel == null) {
            mySelectModel = new MySelectModel(stack, req, res);
        }
        return mySelectModel;
    }
} 
```

最后在 struts.xml

**struts.xml**

```
<struts>
    [...]
    <bean type="org.apache.struts2.views.TagLibraryModelProvider" name="my" class="ch.yotus.project.tags.ProjectTagLib" />
    [...]
</struts> 
```

**标签库包括**

```
<%@ taglib prefix="my" uri="/WEB-INF/base/project-tags/project-tags.tld" %> 
```

我希望这些是它工作所需的所有文件。但基本思想是创建您自己的选择标签，该标签将能够将“禁用”添加到“”标记中。

# php - 如何将值从 AJAX Javascript 传递到 PHP 文件

> ID：11028105
> 
> 赞同：-1
> 
> 时间：2012-06-14T06:52:48.287
> 
> 标签：php, javascript, ajax

我想使用下面的脚本将 AJAX 文件中的值传递给 PHP，但它失败了。这样做的正确方法是什么？谢谢

示例代码如下：

```
function createNewWindow()
{
var newWindowModel = new DHTMLSuite.windowModel({windowsTheme:true,id:'newWindow1',title:'Response Time to Invitation',xPos:130,yPos:400,minWidth:100,minHeight:100 } );
newWindowModel.addTab({ id:'myTab1',htmlElementId:'myTab1',tabTitle:'TAB',textContent:'Send data', contentUrl:'load.php?loadNo:loadNo' } );
var newWindowWidget = new DHTMLSuite.windowWidget(newWindowModel);
newWindowWidget.init();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:06:17.360

使用 Jquery 执行 AJAX 请求的简单方法

```
var request = $.ajax({
  url: "script.php", // script path goes here
  type: "GET",
  data: {id : param}, // Parameters go here
  dataType: "html"
});

request.done(function(msg) {
  $("#log").html( msg ); // On success 
});

request.fail(function(jqXHR, textStatus) {
  alert( "Request failed: " + textStatus ); // On failure
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:00:05.677

传递价值观？你是说参数吗？如果是：

1.  首先创建一个 AJAX obj：`var http = new XMLHttpRequest();`

***GET 方法：***

```
var url = "load.php";
var params = "loadNo=loadNo&param=value";
http.open("GET", url+"?"+params, true);
http.onreadystatechange = function() {//Call a function when the state changes.
    if(http.readyState == 4 && http.status == 200) {
        alert(http.responseText);
    }
}
http.send(null); 
```

***POST 方法：***

```
var url = "laod.php";
var params = "loadNo=loadNo&param=value";
http.open("POST", url, true);

//Send the proper header information along with the request
http.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
http.setRequestHeader("Content-length", params.length);
http.setRequestHeader("Connection", "close");

http.onreadystatechange = function() {//Call a function when the state changes.
    if(http.readyState == 4 && http.status == 200) {
        alert(http.responseText);
    }
}
http.send(params); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T07:01:30.607

```
 if (window.XMLHttpRequest)
{
    xmlhttp=new XMLHttpRequest();
}
else
{
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}
xmlhttp.onreadystatechange=function()
{
     if (xmlhttp.readyState==4 && xmlhttp.status==200)
     {
        var x=xmlhttp.responseText;
                    alert(x);
         }
}
}
xmlhttp.open("GET","load.php?loadNo="+loadNo+"&param="+value,true);
xmlhttp.send(); 
```

# security - 注册时如何回复重复的电子邮件地址

> ID：11028106
> 
> 赞同：0
> 
> 时间：2012-06-14T06:53:02.840
> 
> 标签：security, user-input

我的网站上有一个注册表单。出于安全原因，我不想泄露有关电子邮件地址存在的信息。在安全方面，我们应该如何处理“电子邮件已经存在”的情况而不泄露这些信息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:07:10.213

理论上是不可能的，把email想象成用户名，你会通知用户用户名已经被保留或占用，同样适用于email地址。

你可以让用户输入两次他的电子邮件，以确保他没有输入错误的其他电子邮件，但是，如果用户两次输入他的电子邮件错误，那就是他的问题了！

另一方面，您不会为已确认的用户发送确认电子邮件，对于未存储在您身边的电子邮件，您需要将此消息放入您的确认电子邮件中：

*如果您不是 {First Name + Last Name}，请忽略此电子邮件*或类似内容。

我希望这将有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:08:38.013

您可以这样做，以便用户可以创建一个帐户/使用 openid/google/facebook/yahoo 登录。通过这种方式，这些网站会提交身份验证，如果他们可以通过这些网站成功登录，您就可以收集您需要的任何其他信息。

您也可以让他们先只提供一封电子邮件来创建一个帐户。您可以通过电子邮件向用户发送一个链接，如果他们还没有帐户，他们可以在该链接中继续注册过程。如果已经创建了一个帐户，您可以发送一封电子邮件，内容如下：已请求使用此电子邮件地址创建一个帐户，但一个帐户已经存在。如果这不是你，那么......

# php - 如何通过 Json 调用 php 脚本并返回要在 Datepicker 上禁用的天数

> ID：11028107
> 
> 赞同：1
> 
> 时间：2012-06-14T06:53:09.520
> 
> 标签：php, jquery, mysql, json

在以下示例中，我需要知道如何通过 json 调用读取 MySql 表的 php 脚本，并返回带有要禁用的 $myBadDates 的数组：

```
$(function() {
        $( "#pickdate" ).datepicker({
            dateFormat: 'dd MM yy',
            beforeShowDay: checkAvailability
            });

})

var $myBadDates = new Array("10 October 2010","21 October 2010","12 November 2010");

function checkAvailability(mydate){
var $return=true;
var $returnclass ="available";
$checkdate = $.datepicker.formatDate('dd MM yy', mydate);
for(var i = 0; i < $myBadDates.length; i++)
    {    
       if($myBadDates[i] == $checkdate)
          {
        $return = false;
        $returnclass= "unavailable";
        }
    }
return [$return,$returnclass];
} 
```

这是我的 php 脚本：close_dates.php，我如何发送 json ajax 请求并将数组结果获取到 checkAvailability 函数中：
>

```
include 'panel/db.php';
$dates_closed = array();

 ///  Query Dates Closed ///
 $query = "SELECT dates from closed_dates order by dates ";  
 $result = mysql_query($query);
 while($row=mysql_fetch_array($result)) {
   $days  = $row['dates'];
   array_push($date_closed,$days);
 }   
 echo json_encode($date_closed); 
```

?>

# api - 来自 CATPart_CATIA_API 的镶嵌/CGR 详细信息

> ID：11028108
> 
> 赞同：0
> 
> 时间：2012-06-14T06:53:13.673
> 
> 标签：api, visual-c++, cad, catia, caa

我需要使用 CATIA V5R18 API 从 CATIA V5R18 零件文件中读取 tessellation/cgr/visualisation 详细信息。

可视化详细信息，例如：

1.  顶点数
2.  三角形数量
3.  条数
4.  粉丝数
5.  正常数量
6.  包围球中心和半径

我使用 CAT3DRep/CATRep/CATSurfacicRep 从 .cgr 文件中读取了这些详细信息，但我无法为 .CATPart 文件读取相同的内容。

从 .CATPart 在 CATIVisu 的帮助下，当我从 PartFeatures 查询时，我得到了 CAT3DBagRep 类型。但要获得可视化详细信息，我需要 CATSurfacicRep。

我应该查询什么接口，从哪里查询？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-01-30T06:13:33.707

我不确定 R18，但对于 R22 和 R23，如果您有 CAA 文档，则有一个示例位于：C:\Program Files\Dassault Systemes\B23\CAADoc\CAATessellation.edu。此示例代码包含获取曲面细分数据所需的一切，法线和边界球除外。当我自学如何制作镶嵌的 nurbs 表面时，我使用了这个示例代码，它对测试非常有用。

# ubuntu-10.04 - 在 OpenGrok 的设置中面临的问题

> ID：11028110
> 
> 赞同：2
> 
> 时间：2012-06-14T06:53:20.687
> 
> 标签：ubuntu-10.04, opengrok

我正在尝试在我的 ubuntu 中安装 OpenGrok。我按照这里描述的步骤 [http://blog.vinceliu.com/2008/06/installing-opengrok-on-ubuntu-linux.html](http://blog.vinceliu.com/2008/06/installing-opengrok-on-ubuntu-linux.html)

但是有一次我卡住了，当我给出以下命令“java -Xmx1524m -jar ./bin/opengrok.jar -W /opengrok/configuration.xml -P -S -v -s /opengrok/source -d /opengrok /数据”

我得到了

异常：org/apache/commons/jrcs/rcs/ParseException 2012 年 6 月 14 日下午 12:15:21 org.opensolaris.opengrok.index.Indexer main 严重：意外异常 java.lang.NoClassDefFoundError：org/apache/commons/jrcs /rcs/ParseException at org.opensolaris.opengrok.history.RepositoryFactory.(RepositoryFactory.java:41) at org.opensolaris.opengrok.index.Indexer.main(Indexer.java:421) 原因：java.lang.ClassNotFoundException： org.apache.commons.jrcs.rcs.ParseException at java.net.URLClassLoader$1.run(URLClassLoader.java:202) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader. java:190) 在 java.lang.ClassLoader.loadClass(ClassLoader.java:307) 在 sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301) 在 java.lang.ClassLoader.loadClass(ClassLoader.java:248) ) ... 还有 2 个

所以任何人都可以帮助我解决这个错误，我试图找出这个异常的jar，但我没有找到任何东西。所以告诉我从哪里得到 jar 以及我应该把那个 jar 放在哪里让它编译。

# ruby-on-rails - Rails 总是路由一个动作来显示动作，并且它自己的动作成为 id

> ID：11028114
> 
> 赞同：1
> 
> 时间：2012-06-14T06:53:53.043
> 
> 标签：ruby-on-rails, ruby

我最近发现 Rails 中有一个奇怪的行为与路线和动作有关，特别是在*rails 2.3.5*上。我有一个控制器，我们称之为用户。在路线中，我将用户声明为资源。

```
map.resources :users 
```

在控制器内，我有标准动作：`index, show, edit, update & destroy`. 此外，我还添加了其他操作来满足某些要求。

```
def generated_pdf_report
    # do something
end 
```

问题是，当我转到 page 时`/users/generated_pdf_report`，我在控制台上得到了这个：

```
Processing UsersController#show (some timestamps) [GET]
  Parameters: {"action"=>"show", "id"=>"generated_pdf_report", "controller"=>"users"} 
```

如您所见，服务器将请求路由到 method`show`而不是 method `generated_pdf_report`。***有趣***的是，我有其他控制器具有类似的操作并且工作正常。

上述问题的解决方案很简单，确保添加的提要在资源之上：

```
map.feed 'users/generated_pdf_report', :controller => 'users', :action => 'generated_pdf_report'
map.resources :users 
```

***我的问题是***：任何人都知道为什么 rails 会这样吗？上述解决方案有点草率，您认为针对上述问题的最佳实践是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:20:04.920

正如 Rails 2[路由指南](http://guides.rubyonrails.org/v2.3.8/routing.html#adding-more-restful-actions)中所述，您可以像这样添加集合路由：

```
map.resources :users, :collection => { :generated_pdf_report => :get } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:25:20.393

当rails看着

```
/users/generate_report 
```

这正是它用来显示 id 为 generate_report 的用户的路径，所以它就是这样做的，假设你没有另外告诉它。

你写的更短的替代方法是

```
resources :users, :collection => {:generate_report => :get} 
```

它告诉 Rails 将 GET 映射到 /users/generate_report 到您的 generate_report 操作

# xcode - 如何在不破坏外部构建目标的情况下移动 xcodeproj 文件的位置？

> ID：11028118
> 
> 赞同：0
> 
> 时间：2012-06-14T06:54:11.467
> 
> 标签：xcode, xcode4.3

我有一个 Xcode 项目，其目录结构如下：

> MasterProjectDir/projectname.xcodeproj
> MasterProjectDir/ProjectSubDir/whatever.c
> MasterProjectDir/ProjectSubDir/etc.c
> MasterProjectDir/ProjectSubDir/Makefile

我的 xcodeproj 使用外部构建目标使用以下设置指向 Makefile：

> 构建工具：/usr/bin/make
> 参数：$(ACTION)
> 目录：./ProjectSubDir

由于各种原因，我需要将项目目录结构更改为如下所示：

> MasterProjectDir/projectname.xcodeproj
> MasterProjectDir/whatever.c
> MasterProjectDir/etc.c
> MasterProjectDir/Makefile

我将 .xcodeproj 文件复制到 ProjectSubDir 中，项目仍然知道在哪里查找文件（？！？！ - 这很奇怪，因为它们的位置设置为“相对于组”，我刚刚移动了 xcodeproj 文件）。它不会建立。我收到以下错误：

> make: ***没有指定目标，也没有找到 makefile。停止。
> 命令 /usr/bin/make 失败，退出代码为 2

我可以在这方面使用一点帮助。必须有一个设置我需要在某个地方更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:32:53.043

尝试从 XCode 中删除您的代码文件并重新添加他

1) 命令 + 1

2）删除所有红色文件

3) 添加文件并选择您的 *.c 文件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T15:12:35.313

问题最终是项目引用中缺少 Makefile 并且需要将外部构建目标上的目录设置为 . 在哪里。表示当前目录。

# asp.net - 带有 ASP.Net 的 Abcpdf 8 - 某些用户的 PDF 中缺少图像

> ID：11028119
> 
> 赞同：1
> 
> 时间：2012-06-14T06:54:50.440
> 
> 标签：asp.net, image, abcpdf

我们正在使用 ABCPDF.Net 8 为用户生成 PDF 文档。HTML 源代码直接作为字符串加载，图像在 HTML 中使用完整路径定义。例子：

```
<img id="img1" src="file://D:/trakit/images/cl_logo.gif" alt="" /> 
```

这很好用，我们有大约 200 个用户可以毫无问题地生成 PDF。

问题是**少数**用户没有获得 PDF 中的图像。当找不到图像时，图像将替换为 IE 显示的图像占位符。

仅对某些用户始终会发生这种情况。我无法弄清楚什么是错误的，因为 PDF 是在服务器端生成的，并且与用户的浏览器设置没有任何关系。我同意页面/代码在用户权限下运行（我们使用 Windows 身份验证），但这为什么会影响 PDF 图像生成？下面是生成 PDF 的代码片段：

```
PDFDoc.Rect.Inset(20, 20)
PDFDoc.Page = PDFDoc.AddPage()
li_PDFID = PDFDoc.AddImageHtml(as_HTML, True, 1050, True)

While PDFDoc.Chainable(li_PDFID)
    PDFDoc.Page = PDFDoc.AddPage()
    li_PDFID = PDFDoc.AddImageToChain(li_PDFID)
End While

For li_Loop = 1 To PDFDoc.PageCount
    PDFDoc.PageNumber = li_Loop
    PDFDoc.Flatten()
Next

Return PDFDoc.GetData() 
```

任何帮助将不胜感激。

谢谢。

更新：刚刚发现如果用户使用其他浏览器（例如 Firefox），则图像生成正常。这将问题缩小到用户计算机上的 IE 7/8。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T17:26:46.723

好的。问题终于找到了，与ABCPDF无关。

似乎部分 HTML 源代码来自用户的浏览器 - 使用 IE 上的 javascript 函数 innerhtml() 获得。而且我*刚刚*发现IE对innerhtml()有很大的问题

现在都整理好了。

# c# - 条件 Lambda

> ID：11028120
> 
> 赞同：1
> 
> 时间：2012-06-14T06:54:54.067
> 
> 标签：c#, lambda, conditional, conditional-statements

我想应用一个条件，在我通过另一个条件之后：

```
List<Entity> GetByCondition()
{
  If(dateConditionEnabled)
    {
      Repository.Get(i=>i.start<=datetime.Now && i.EndDate<=DateTime.Now);
    }
  else
    {
        Repository.Get();
    }
} 
```

我想在 Get 方法中使用的 lambda 中应用“If”条件。

任何的想法？

-问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T06:58:41.980

`Get()`相当于`Get( i => true)`？_ 在这种情况下，您可以使用：

```
List<Entity> GetByCondition()
{
      return Repository.Get(!dateConditionEnabled || i=>i.start<=datetime.Now && i.EndDate<=DateTime.Now);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T07:10:47.020

为什么不

```
List<Entity> GetByCondition()
{
      return Repository.Get(i=>!i.dateConditionEnabled || i.start<=datetime.Now && i.EndDate<=DateTime.Now);
} 
```

?

# asp.net - 更新面板如何执行部分回发和服务器端功能被调用并控制 UI 更新

> ID：11028122
> 
> 赞同：0
> 
> 时间：2012-06-14T06:54:55.930
> 
> 标签：asp.net, asp.net-ajax, updatepanel

我搜索谷歌很多，以了解更新面板如何进行部分回发。如果我在更新面板内有一个按钮和一个标签，并且当我单击更新面板内的按钮时，则会发生部分回发并调用按钮单击服务器端事件。如果按钮单击例程更改标签值，那么我们在部分回发后得到效果......我只需要更新面板如何调用服务器端函数并读取响应并在客户端更新控制 UI .. 它生成和调用什么样的 javascript进行部分回发以及它如何更新 UI。

如果可能的话，请使用更新面板生成的用于处理所有回发和 UI 更新的示例 javascript 详细讨论这一切。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:05:26.730

如果您完全不熟悉 AJAX（代表异步 Javascript 和 XML），维基百科上的[AJAX](http://en.wikipedia.org/wiki/Ajax_%28programming%29)条目是一个很好的起点，还有更多链接，例如[Link1](http://www.interaktonline.com/support/articles/Details/AJAX:+Asynchronously+Moving+Forward-How+does+AJAX+work?.html?id_art=36&id_asc=308)或[Link2](http://msdn.microsoft.com/en-us/magazine/cc163363.aspx)：

```
Like DHTML and LAMP, AJAX is not a technology in itself, but a group of technologies. AJAX uses a combination of:

    HTML and CSS for marking up and styling information.
    The DOM accessed with JavaScript to dynamically display and interact with the information presented.
    A method for exchanging data asynchronously between browser and server, thereby avoiding page reloads. The XMLHttpRequest (XHR) object is usually used, but sometimes an IFrame object or a dynamically added tag is used instead.
    A format for the data sent to the browser. Common formats include XML, pre-formatted HTML, plain text, and JavaScript Object Notation (JSON). This data could be created dynamically by some form of server-side scripting. 
```

如您所见，从纯粹的技术角度来看，这里并没有什么新东西。大多数 AJAX 部分在 1994 年就已经存在（1999 年用于 XMLHttpRequest 对象）。真正的新颖之处在于将这些部分一起使用，就像 Google 对 GMail (2004) 和 Google Maps (2005) 所做的那样。实际上，这两个网站都对 AJAX 的推广做出了重大贡献。

一张价值千言万语的图片，下图说明了客户端和远程服务器之间的通信，以及经典应用程序和基于 AJAX 的应用程序之间的区别：

![替代文字](../Images/ae66d8e956ef8cd27518b70441e3d35a.png)

对于橙色部分，您可以手动完成所有操作（使用 XMLHttpRequest 对象），或者您可以使用著名的 JavaScript 库（如 jQuery、Prototype、YUI 等）来“AJAXify”应用程序的客户端。这样的库旨在隐藏 JavaScript 开发的复杂性（例如跨浏览器兼容性），但对于一个简单的功能来说可能是矫枉过正。

在服务器端，一些框架也可以提供帮助（例如，如果您使用 Java，则为 DWR 或 RAJAX），但您需要做的基本上是公开一个仅返回所需信息以部分更新页面的服务（最初作为 XML /XHTML - AJAX 中的 X - 但现在通常首选 JSON）。

# c# - MapReduce 从 IIdGenerator 中找到最大整数 Id

> ID：11028123
> 
> 赞同：0
> 
> 时间：2012-06-14T06:54:57.257
> 
> 标签：c#, mongodb

我打破了对mapreduce的理解。所以，我请你帮忙。

我有这样的实体：

```
public class ConstraintSpec
{
    [BsonId]
    public int Id { get; set; }
    public bool OrderRequired { get; set; }
    public ActionTypeConstraintSpec[] ActionTypeConstraintSpecs { get; set; }
} 
```

我正在尝试编写我的 id 生成器。

这是我的“不工作” MapReduce js 代码：

```
Map = "map = function () {" +
              "emit(this._id)}";

        Reduce = "reduce = function (key, values) {" +
                     "var max = this[0];" +
                     "var len = this.length;" +
                     "for (var i = 1; i < len; i++) if (this[i] > max) max = this[i];" +
                     "return max;" +
                 "}"; 
```

然后我写：

```
var mapreduce = cont.MapReduce(Map, Reduce);
        var x = mapreduce.GetResults(); 
```

但没有任何效果。

请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T18:07:39.143

你想用 map reduce 来完成什么，你需要为哪个字段找到最大值？在您的地图函数中，您需要发出您尝试聚合/比较的值；您目前只发出一个密钥 this.id。大概 _id 对于每个文档都是唯一的，这将阻止调用 reduce 函数（如果为特定键发出单个文档，则不会调用 reduce）。键必须是要聚合数据的字段的名称。

例如，在外壳中：

输入数据：

```
{_id: 1, name: "test1", number: 5}
{_id: 2, name: "test1", number: 8}
{_id: 3, name: "test2", number: 3}
{_id: 4, name: "test2", number: 11} 
```

地图功能：

```
function () {
    emit{this.name, this.number}
} 
```

减少功能：

```
 function(key, values) {
        var max = 0;
        values.forEach(function(value) {
           if(value > max){
              max = value;
           }
        });
        return max;
    } 
```

输出数据：

```
{_id: "test1", value: 8}
{_id: "test2", value: 11} 
```

# c# - ASP.NET MVC3 System.ComponentModel.DataAnnotations - 注释可以确定它正在验证的类吗？

> ID：11028126
> 
> 赞同：1
> 
> 时间：2012-06-14T06:55:04.477
> 
> 标签：c#, asp.net-mvc-3, data-annotations

我正在使用`Extended Validation`属性来打开更严格的验证，具体取决于我编辑记录的方式。

EG：我有一个有子对象的父对象。

编辑子项时，`ModelState.isValid`是`false`，由于缺少父项，例如名字，因为我`ID`仅选择其父项。

当我编辑父级时——我希望这些字段是必需的，但在编辑例如子级时不需要，相关联的父级是组成子级的一部分。

我有以下代码：

```
public class Parent
{
    [Required]        
    public virtual int Id { get; set; }

    [ExtendedValidationRequired(typeof(Parent))]
    public virtual string Name { get; set; }
    ....} 
```

以及以下用于验证：

```
public static class ExtendedValidation
{
    private static Dictionary<Type, bool> extendedValidationExemptions = new Dictionary<Type, bool>();

    /// <summary>
    /// Disable extended validation for a specific type
    /// </summary>
    /// <param name="type"></param>
    public static void DisableExtendedValidation(Type type)
    {
        extendedValidationExemptions[type] = true;
    }
    /// <summary>
    /// Clear any EV exemptions
    /// </summary>
    public static void Reset()
    {
        extendedValidationExemptions.Clear();
    }

    /// <summary>
    /// Check if a class should perform extended validation
    /// </summary>
    /// <param name="type"></param>
    /// <returns></returns>
    public static bool IsExtendedValidationEnabled(Type type)
    {
        if (extendedValidationExemptions.ContainsKey(type))
        {
            return false;
        }
        else
        {
            return true;
        }
    }
}

[AttributeUsage(AttributeTargets.Property | AttributeTargets.Field | AttributeTargets.Parameter, AllowMultiple = false)]

public class ExtendedValidationRequiredAttribute : RequiredAttribute
{

    private Type _type;
    // Summary:
    //     Initializes a new instance of the System.ComponentModel.DataAnnotations.RequiredAttribute
    //     class.
    public ExtendedValidationRequiredAttribute(Type type)
    {
        _type = type;
    }

    // Summary:
    //     Checks that the value of the required data field is not empty.
    //
    // Parameters:
    //   value:
    //     The data field value to validate.
    //
    // Returns:
    //     true if validation is successful; otherwise, false.
    //
    // Exceptions:
    //   System.ComponentModel.DataAnnotations.ValidationException:
    //     The data field value was null.
    public override bool IsValid(object value)
    {
        if (ExtendedValidation.IsExtendedValidationEnabled(_type))
        {
            return base.IsValid(value);
        }
        else
        {
            return true;
        }

    }

} 
```

有什么办法可以绕过将类型显式传递给验证器？我希望能够以编程方式启用/禁用这些验证属性。

例如，如果我正在编辑一个子项，但父项的`[Required]`字段会导致我遇到问题，我将`typeof(Parent)`在 中禁用`extendedValidator`，然后验证应该可以正常工作。我只是担心所有`typeof()`事情都会影响性能。

我试图解决的问题是当我编辑一个类时

```
public class Child
{

   [Required]
   public virtual int id {get;set;}

   [Required]
   public virtual Parent parent {get;set;}

   ....
} 
```

我的表单只有 Parent `ID`（这就是我的 EF 或 hibernate 应用程序所需的全部内容），但除非表单中传递的 Parent 具有所有必需的字段，否则它不会验证——这相当浪费。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:16:31.753

You could override [ValidationAttribute.IsValid Method (Object, ValidationContext)](http://msdn.microsoft.com/en-us/library/dd730022)

```
protected virtual ValidationResult IsValid(
    Object value,
    ValidationContext validationContext
) 
```

And access members of [ValidationContext Class](http://msdn.microsoft.com/en-us/library/dd382177)

# geolocation - GeoIP 不适合我？

> ID：11028134
> 
> 赞同：0
> 
> 时间：2012-06-14T06:55:34.640
> 
> 标签：geolocation, geo, geoip, geotargetting

我正在尝试使用 geoip 在不同的位置显示不同的广告。我正在尝试显示此代码，但什么也没有出现：

```
<?php

$IP = $_SERVER["REMOTE_ADDR"];

include("geoip.inc");

$gi = geoip_open("GeoIP.dat", GEOIP_MEMORY_CACHE);

$CountryCode = geoip_country_code_by_addr($gi, $IP);
geoip_close($gi);

// ****DO NOT TOUCH ABOVE THIS LINE.******
//***Consult the Readme if you aren't sure what you're doing****

if ($CountryCode=="US"){

    echo 'USA';
} else {
    echo 'INTERNATIONAL OFFERS GO HERE';
}

?> 
```

这也没有带来任何东西：

```
<?php
$country_name = apache_note("GEOIP_COUNTRY_NAME");
print "Country: " . $country_name;
?>
<?php 
echo $_SERVER['GEOIP_ADDR'];
echo $_SERVER['GEOIP_CONTINENT_CODE'];
echo $_SERVER['GEOIP_COUNTRY_CODE'];
echo $_SERVER['GEOIP_COUNTRY_NAME'];
echo $_SERVER['GEOIP_REGION'];
echo $_SERVER['GEOIP_REGION_NAME'];
echo $_SERVER['GEOIP_CITY'];
echo $_SERVER['GEOIP_DMA_CODE'];
echo $_SERVER['GEOIP_AREA_CODE'];
echo $_SERVER['GEOIP_LATITUDE'];
echo $_SERVER['GEOIP_LONGITUDE'];
echo $_SERVER['GEOIP_POSTAL_CODE'];
?> 
```

geoip 说它安装在我的 ubuntu 上。GeoIP.dat 位于根文件夹中。你能帮我告诉我该怎么做，所以也许我能找到这个问题的根源......？一步一步的指导在这里真的很有帮助，因为我无法让它工作。

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T12:57:22.287

尝试这个：

```
$gi = geoip_open( "GeoIP.dat",GEOIP_STANDARD); 
```

# telerik - 在 RadGrid 的插入模式下，在 RadTextBox 的文本更改事件上将文本加载到标签

> ID：11028136
> 
> 赞同：0
> 
> 时间：2012-06-14T06:56:06.413
> 
> 标签：telerik

我正在使用`RadGrid`.

在其插入模式中。我有`RadTextBox`和`Label`. 所以我想做的就是当我写到`RadTextBox`它并失去焦点时。应该调用一个函数，该函数从数据库中检索数据并将其分配给该插入模式内的标签。

所以我无法访问插入模式中的控件。我应该如何在 textchange 事件上调用函数，`RadTextBox`以及如何`Label`在该插入模式中访问并获取一些数据并分配给它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-16T08:41:26.603

请检查下面的代码片段。请在您的项目/页面中添加 Jquery 参考。

.js

```
 function ValueChanged(sender, eventArgs) {

            var newvalueoftextbox = eventArgs.get_newValue();

            var id = sender.get_id();
            id = id.replace("RadTextBox1", "Label1");
            var Label1 = $get(id);
            // your logic come here - get value from DB
            Label1.innerHTML = "Your Value";
        } 
```

.aspx

```
 <telerik:RadGrid ID="RadGrid1" runat="server" AutoGenerateColumns="False" AllowCustomPaging="True"
        OnNeedDataSource="RadGrid1_NeedDataSource" GridLines="None" ShowGroupPanel="True"
        OnItemDataBound="RadGrid1_ItemDataBound">
        <MasterTableView CommandItemDisplay="Top">
            <Columns>
                <telerik:GridBoundColumn DataField="Name" UniqueName="Name" HeaderText="Name">
                </telerik:GridBoundColumn>
                <telerik:GridTemplateColumn>
                    <EditItemTemplate>
                        <telerik:RadTextBox ID="RadTextBox1" runat="server">
                        <ClientEvents OnValueChanged="ValueChanged" />
                        </telerik:RadTextBox>
                        <asp:Label ID="Label1" runat="server"></asp:Label>
                    </EditItemTemplate>
                </telerik:GridTemplateColumn>
                <telerik:GridEditCommandColumn>
                </telerik:GridEditCommandColumn>
            </Columns>
        </MasterTableView>
    </telerik:RadGrid> 
```

.aspx.cs

```
protected void RadGrid1_NeedDataSource(object sender, GridNeedDataSourceEventArgs e)
{
    dynamic data = new[] {
            new { ID = 1, Name ="Name_1"},
            new { ID = 2, Name = "Name2"},
            new { ID = 3, Name = "Name3"},
            new { ID = 4, Name = "Name4"},
            new { ID = 5, Name = "Name5"}
        };
    RadGrid1.DataSource = data;
} 
```

# ant - ANT“替换”任务不扩展“replacetoken”标签中的属性

> ID：11028141
> 
> 赞同：6
> 
> 时间：2012-06-14T06:56:44.857
> 
> 标签：ant, replace

构建后，我需要修改一个 HTML 文件，指向客户端下载新应用程序。

我搜索令牌；用链接和令牌替换它：

```
<replace file="index.html" >

    <!-- this searches for literal text ${MyTOKEN} -->
    <!-- does not "expand" ${MyTOKEN} before searching -->
    <replacetoken>${MyTOKEN}</replacetoken>

    <replacevalue>"some link" <br> ${MyTOKEN}</replacevalue>
</replace> 
```

* * *

此代码不能移动到模板构建脚本中，因为`replacetoken`and`replacevalue`标记将文本作为文字 - 它们不在`expandproperties`我的 ANT 版本中。

我想使用属性来定义`"some link"`和`MyTOKEN`值。

* * *

使用属性的解决方法`"some link"`是使用 a`filterchain`并在替换后复制文件：

```
<copy file="index.html" tofile="index2.html" >
    <filterchain>
        <!-- this converts the ${xxx} properties into their values -->
        <expandproperties />
    </filterchain>
</copy> 
```

但这`replace`在完成之后才有效 - 所以这意味着我仍然需要将`MyTOKEN`值直接硬编码到构建脚本中。

*   我想在构建脚本**之外定义我的令牌**，并在构建脚本中**引用它**。
*   我怎么做？

* * *

**更新：**我应该使用和创建自己的任务`replace`吗？我不太理解这种方法，但它看起来像这样。`copy``filterreader``filterchain`

* * *

**更新扩展接受的答案：**我最初使用`<replacetoken>`&`<replacevalue>`方法，因为我需要我的值跨越多行。

通过使用`token`& `value`，我无法找到换行的方法。

放置换行符的解决方案是`${line.separator}`用作换行符。请参阅[Echo Task](http://ant.apache.org/manual/Tasks/echo.html)上的文档。

另外，这里是一些更有用（离题）的 ANT 属性的页面：[内置 Ant 属性](http://www.ghidinelli.com/2008/04/01/built-in-ant-properties)。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-14T07:46:13.533

使用`token`and`value`属性在这里有效。这适用于我的 Ant 1.7.1：

build.properties

```
token=FOO
tokval=some ${token} 
```

构建.xml

```
<project>
  <property file="build.properties" />
  <target name="repl">
    <replace file="test.txt" token="${token}" value="${tokval}" />
  </target>
</project> 
```

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-11T02:20:12.063

您可以使用属性需要去的标记进行多行替换：`@__relative_url_to_doc_root__@`

```
 <replace dir="${dir_build_docs_javadoc}">
        <replacetoken><![CDATA[</head>]]></replacetoken>
       <replacevalue><![CDATA[<meta name="viewport" content="width=device-width"/>
<!-- Required for syntax highlighting (1/2)...START -->
  <script type="text/javascript" src="@__relative_url_to_doc_root__@resources/shCore.js"></script>
  <link href="@__relative_url_to_doc_root__@resources/shCore.css" rel="stylesheet" type="text/css"/>
  <link href="@__relative_url_to_doc_root__@resources/shThemeDefault.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="@__relative_url_to_doc_root__@resources/shBrushJava.js"></script>
<!-- Required for syntax highlighting (1/2)...END -->
</HEAD>]]></replacevalue>
     </replace> 
```

然后对属性运行另一个单行替换：

```
<target name="-replace_all_javadoc_headers">
   <antcall target="-javadoc_replace_headers_in_one_dir">
     <param name="directory_to_replace" value="${dir_build_docs_javadoc}"/>
     <param name="relative_url_to_doc_root" value=""/>
   </antcall>
   <antcall target="-javadoc_replace_headers_in_one_dir">
     <param name="directory_to_replace" value="${dir_build_docs_javadoc}${cg_xbn_codelet}"/>
     <param name="relative_url_to_doc_root" value="../../../../"/>
   </antcall>
   <antcall target="-javadoc_replace_headers_in_one_dir">
     <param name="directory_to_replace" value="${dir_build_docs_javadoc}${cg_xbn_codelet}type${fs}"/>
     <param name="relative_url_to_doc_root" value="../../../../../"/>
   </antcall>
   <antcall target="-javadoc_replace_headers_in_one_dir">
     <param name="directory_to_replace" value="${dir_build_docs_javadoc}${cg_xbn_codelet}taglet${fs}"/>
     <param name="relative_url_to_doc_root" value="../../../../../"/>
   </antcall>
</target>

<target name="-javadoc_replace_headers_in_one_dir">
  <replace dir="${directory_to_replace}" 
        token="@__relative_url_to_doc_root__@" 
        value="${relative_url_to_doc_root}">
     <include name="*.html"/>
  </replace> 
```

# fuelphp - FuelPHP如何在索引视图中将车辆表中的vehicle_id更改为vehicle_name

> ID：11028144
> 
> 赞同：0
> 
> 时间：2012-06-14T06:57:11.983
> 
> 标签：fuelphp

我正在尝试从另一个相关表中检索列，并显示该列而不是索引视图页面中关联的 ID 号。

**表：**

```
users: id, username, email
fillups: user_id, vehicle_id, mileage, fillup_date, cost, gallons
vehicles: make, model, color, vehicle_id 
```

查看填充/索引时，您会看到一个填充列表，其中包含与每个用户和车辆相关联的 id #。我希望它说出用户名，并改为制造车辆（这是表格中的列）。我在创建/编辑中得到了类似的工作，但这只是为特定用户显示所有车辆..

我在文档中找不到如何执行此操作，我知道它专门处理 ORM。虽然不确定..

## 索引视图页面的屏幕截图

目前车辆 ID 从 Fillups.vehicle_id 列中提取，需要更改为从 Vehicles.vehicle_name 列中提取。

![在此处输入图像描述](../Images/d3ed5e50a1a28afefe008c4b87e734f0.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T17:03:13.627

我回答了我自己的问题......通过在模型中关联 a`has_many`和我可以在视图`belongs_to`中调用。`vehicle_name`

在我的填充模型中，我添加了：

```
protected static $_belongs_to = array('vehicle'); 
```

在我的车型中，我添加了：

```
protected static $_has_many = array('fillups'); 
```

在我看来，我可以像这样在 foreach 循环中调用车辆名称：

```
echo $fillup->vehicle->vehicle_name; 
```

* * *

我对用户名做了同样的事情来代替 user_id

# java - 在 JBoss AS 6 中监听登录事件

> ID：11028145
> 
> 赞同：6
> 
> 时间：2012-06-14T06:57:14.883
> 
> 标签：java, session, login, jboss, jboss6.x

我有一个在 JBoss AS6 中运行的应用程序。身份验证正在使用“FORM”身份验证方法进行，并且用户正在正确登录。

每当用户成功登录时，我希望能够调用一段自定义的静态代码。

不幸的是，我找不到任何将在成功登录时执行代码的侦听器、挂钩或回调。HttpSessionListener 确实有一个“sessionCreated”事件，但是一旦用户访问任何页面，即使他们没有成功登录，它也会被调用。这意味着即使*查看*登录表单也会触发该事件。

谁能给我指出一些 JBoss AS 6（或等效）的文档，其中显示了如何在用户首次成功登录时运行自定义代码？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-24T11:25:53.680

`ServletFilter`您可以在安全 Servlet 前面添加一个实现。

每次调用时，过滤器都会`notFirstCall`在`HttpSession`.

如果该标志不存在，则该请求是用户登录后的第一个请求。它可以调用指定的作业，然后设置标志`notFirstCall`以将此作业标记为已完成。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T06:47:45.320

我能想到的解决方法是`CustomFormAuthenticator`扩展`org.apache.catalina.authenticator.FormAuthenticator` 并在`/server/default/deployers/jbossweb.deployer/META-INF/war-deployers-jboss-beans.xml`. 现在在 Jboss AS 7 中，他们引入了阀门概念，您可以`CustomAuthenticator`在其中注册`jboss-web.xml`。

就像是..

```
public class CustomFormAuthenticator extends FormAuthenticator {
    @override
    public boolean authenticate(Request request, Response response, LoginConfig config) throws IOException {
        boolean authenticate = super.authenticate(request, response, config);
        //here you might need to keep track whether your custom/static code executed once or not,
        //just to avoid executing the same code again and again.
        if(authenticate) {
            int i = CustomSingleton.getInstnce().getExecuteCount();
            if(i <= 0) {
                //invoke custom code.
                //increment the count
                CustomSingleton.getInstnce().incrementExecuteCount();
            }
        }
    }
} 
```

现在，需要`server`在`/server/default/deployers/jbossweb.deployer/META-INF/war-deployers-jboss-beans.xml` 将以下内容添加`entry`到`authenticators`部分中进行注册。

```
<entry>
    <key>CUSTOM-FORM</key>
    <value>full.qaulified.CustomFormAuthenticator</value>
</entry> 
```

然后，在 web.xml 中有`CUSTOM-FORM`as`auth-method`

```
<login-config>
     <auth-method>CUSTOM-FORM</auth-method>
          <form-login-config>
               <form-login-page>/login.html</form-login-page>
               <form-error-page>/login-error.html</form-error-page>
          </form-login-config>
<login-config> 
```

希望这可以帮助..

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-23T21:28:28.147

[javax.servlet.http.HttpSessionBindingListener 之](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSessionBindingListener.html)类的呢？创建一个对象，在用户成功登录时按照您喜欢的方式填充它，并将其作为属性添加到用户的会话中。所以：

```
public class User implements Serializable, HttpSessionBindingListener {
private String userId;
private Timestame logonTime;
// any additional fields

@Override
public void valueBound(HttpSessionBindingEvent event) {
// this method called when this object is attached to a session
    log.debug("user " + this.userId + "bound to a session - user logged in");
// do stuff
  }
@Override
  public void valueUnbound(HttpSessionBindingEvent event) {
// this method called when user's session ends, value unbound, etc
    log.debug("user " + this.userId + "logged off");
// do other stuff
  }

} 
```

绑定对象：

```
// you don't create this object until a user logs in
User userObject = new User();
userObject.setUserId();
userObject.setLogonTime();
// get your request object however you normally get it
HttpServletRequest request.getSession().setAttribute("loggedInUser", userObject); 
```

设置属性时，它将调用 valueBound 方法这也可以用于跟踪用户（将登录/注销信息保存到数据库等）。

# java - 如何在 JAVA 中使用内部逻辑创建自定义注释

> ID：11028147
> 
> 赞同：0
> 
> 时间：2012-06-14T06:57:35.103
> 
> 标签：java, annotations

我想创建一个注释，它搜索以注释中给出的单词开头的方法名称并执行此方法。

我是注释新手，我知道有一些内置注释，例如：

```
@override, @suppressWarnigs, @documented, @Retention, @deprecated, @target 
```

有没有更多的注释？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-14T07:16:07.033

I am sure there are good guides there but here is a fast one, forgive me for any typos :).

You can create your own annotation easily:

```
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
public @interface ExecuteMethod {
 String methodToExecute();
} 
```

You can annotate your method with it.

```
@ExecuteMethod(methodToExecute = "MethodToExecute")
... 
```

The code linked to the annotation looks like this:

```
public class MethodExecutor{
 private Method method;

 public MethodExecutor(Method method){
   this.method = method;
 }

 public boolean executeMethod(){
        if(method.isAnnotationPresent(ExecuteMethod.class)){
            ExecuteMethod executeMethodAnnot=method.getAnnotation(ExecuteMethod.class);
            String methodName = executeMethodAnnot.methodToExecute();
            .... your code that calls the method here
        }
 } 
```

You also need a piece of code to check and execute this annotation at the point you want it done:

```
for(Method m : classToCheck.getMethods()) {
   if(m.isAnnotationPresent(ExecuteMethod.class)) {
       MethodExecturor methorExectuor = new MethodExecutor(m);
       methodExecutor.executeMethod(m)
    }
} 
```

# python - 无法在 Mac OS X 上的 Emacs 中使用 python 模式

> ID：11028148
> 
> 赞同：3
> 
> 时间：2012-06-14T06:57:44.087
> 
> 标签：python, macos, emacs

我无法在 Mac OS X 上的 Emacs 中使用 python 模式（我是相对的 OS X 新手，不完全是 Elisp 专家）。

[我从http://emacsformacosx.com/](http://emacsformacosx.com/)安装了 Emacs 。该版本报告为“bob.porkrind.org 上 2011-12-13 的 GNU Emacs 23.3.1 (x86_64-apple-darwin, NS apple-appkit-1038.36)”

我的`~/.emacs`文件中有以下几行：

```
(add-to-list 'load-path "/Applications/Emacs.app/Contents/Resources/lisp/progmodes")
(setq auto-mode-alist
      (cons '("\\.py$" . python-mode) auto-mode-alist))
(setq interpreter-mode-alist
      (cons '("python" . python-mode) interpreter-mode-alist))
(autoload 'python-mode "python-mode" "Python Editing Mode" t) 
```

但是每当我加载带有`.py`扩展名的文件时，模式仍然是`Fundamental`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:40:05.990

尝试在您的 python-lisp-includes 代码之前将其添加到您的 .emacs 文件中（另外，设置您的 python 模式的路径。我的位于 .emacs.d/ 文件夹中）

```
(add-to-list 'load-path "~/.emacs.d/python-mode")
(require 'python-mode) 
```

在此处查找文件 [http://www.emacswiki.org/emacs/?action=browse;oldid=PythonMode;id=PythonProgrammingInEmacs](http://www.emacswiki.org/emacs/?action=browse;oldid=PythonMode;id=PythonProgrammingInEmacs)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T08:27:11.247

好的，这就是我如何让 python-mode ( `python-mode.el`, not `python.elc`) 在我的安装中工作：

1.  [将python-mode.el-6.0.8.tar.gz](https://launchpad.net/python-mode/+download)下载到我的`~/Downloads`文件夹中。
2.  `pushd /Emacs/directory/with/other/.el/files`（这个目录实际上`/Applications/Emacs.app/Contents/Resources/lisp/progmodes/`在我的机器上）
3.  `tar -xzf ~/Downloads/python-mode.el-6.0.8.tar.gz`
4.  `popd`
5.  然后将以下行添加到我的`~/.emacs`文件中（替换所有其他对 python 或 python-mode 的引用）：

    ```
    (add-to-list 'load-path "/Emacs/directory/with/other/.el/files/python-mode.el-6.0.8")
    (setq py-install-directory "/Emacs/directory/with/other/.el/files/python-mode.el-6.0.8")
    (require 'python-mode) 
    ```

现在唯一剩下的问题（由成功安装和激活`python-mode`创建）是，通过 Python 解释器的交互式调用也会创建不必要的缓冲区。

感谢@Ribtoks 提供的链接让我开始走上正确的道路。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-22T19:04:42.820

python-shell 实例的自动创建应该在当前主干中修复，resp。最新发布的

[如果没有，请在https://bugs.launchpad.net/python-mode](https://bugs.launchpad.net/python-mode)提交报告

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-14T08:25:24.797

如果您的加载路径是正确的，您可以尝试在其后添加此行吗？

```
(autoload 'python-mode "python-mode" "Python Mode." t) 
```

我正在使用来自 Linux 的 emacs。不知道这是否可能与 Aquamacs 不同。无论如何，有一个使用 Python 模式配置 Aquamacs 的[页面](http://www.emacswiki.org/emacs/CustomizeAquamacs#toc14)。没读过，但也许任何相关提示都值得一读.. :)

# perl - 将一个大模块分成多个文件

> ID：11028152
> 
> 赞同：2
> 
> 时间：2012-06-14T06:57:57.490
> 
> 标签：perl

抱歉，看来我最初的问题无法正确解释我在做什么以及我想要实现的目标。这是一个更新的问题。

这可能是最简单的问题，但我无法在任何地方找到答案。

我有一个大型 Perl 模块（比如 ABC.pm），随着我们添加新功能，它每天都在增长。这些功能中的大多数（几乎 90%）发送请求并处理响应。这是一个此类请求的一些代码。

```
sub UserDeleteRequest
{
    my ($self, $inputParam) = @_;
    my $config = $self->getConfig();
    return $self->_doRequest (REQUEST => 'UserDeleteRequest',
                              PARAM => $inputParam));
} 
```

与此类似，编写了其他函数，并且随着我们添加新请求而不断增长。

拥有大文件变得难以维护。因此，我正在寻找一些最佳实践来简化此操作。我想到的一个想法是将这个大模块拆分为多个文件（如何？？）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-14T07:29:52.087

听起来您应该创建一个抽象类，您可以让其他类继承并覆盖它。以您相当模糊的示例为例，您的模块可能如下所示：

```
use strict;
package Foo;

sub new {

    my $class = ref(shift) || shift;
    my $self = {};
    bless( $self, $class );

    return $self;

}

sub processFooRequest {
    ...
}

sub processFooResponse {
    ...
} 
```

然后，您可能有一个子类 Foo::Web，它可能看起来像这样：

```
use strict;
package Foo::Web;
use base "Foo";

sub processFooWebRequest {
    ...
}

sub processFooWebResponse {
    ...
} 
```

在这种情况下，我没有使用新的构造函数，因为它继承自 Foo。我可以使用相同的名称保留这些方法，它们会简单地覆盖——实际上这可能是我应该做的——保持名称相同但改变内部功能。Foo 中定义的任何其他方法都将被继承。

你真的应该看看[perlmod](http://perldoc.perl.org/perlmod.html)。一旦您开始了解它及其各种链接，您可能想看看[Moose](http://www.catalyzed.org/2009/06/a-gentle-introduction-to-moose.html)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T08:40:02.667

如果潜艇真的非常相似，为什么不推广到一个潜艇呢？

```
my %validRequests = map {($_ => 1)} qq(UserDeleteRequest);

sub SendRequest {
    my ($self, $request, $inputParam) = @_;
    my $config = $self->getConfig();
    return undef unless $validReqiests{$request}; # If want to verify
    # 
    $inputParam = getInputParamDefault($request) unless $inputParam; 
    return $self->_doRequest (REQUEST => $inputParam,
                              PARAM => $inputParam));
} 
```

如果某些类型的潜艇之间存在其他逻辑差异，您可以通过对继承进行适当的 OO 来解决它们，正如 Ilion 的回答所指出的那样；或者您可以采用更简单的方法，在更简单的情况下使用每个请求类型的帮助子引用哈希。

我添加了一个特殊的`getInputParamDefault()`调用 get 来解决您的评论“有时函数的调用者不提供 $inputParam 然后我们必须找到默认的调用者并将其传递给 _doRequest 子例程。”

* * *

**更新**：如果由于遗留代码调用它们而无法重构而必须保留原始子名称，则可以自动生成它们（使用 AUTOLOAD 或手动添加到命名空间）：

```
# Code not tested.
my %requestSubNames = ("UserDeleteRequest" => "UserDeleteRequest");
foreach my $requestType (sort keys %requestSubNames) {
    no strict 'refs';
    my $subName = __PACKAGE__ . "::$requestSubNames{$requestType}";
    *{$subname} = sub { return $_[0]->SendRequest($requestType, $_[1]); };
        # Note - this may need to be closure-tweaked, it's 5am and I'm a bit asleep
    # Add to EXPORT/EXPORT_OK if needed
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T08:38:57.207

[自动加载](http://perldoc.perl.org/perlsub.html#Autoloading)功能怎么样？这不是最有效的方法，但如果它们看起来都像示例并且没有真正做太多处理，那将为您节省所有相同的代码行。

```
package test;
use strict; use warnings;
our $AUTOLOAD;

sub AUTOLOAD {
  my $self = $_[0];
  # we DONT shift it, since the whole @_ is needed 
  # for the goto &$AUTOLOAD at the end

  if ($AUTOLOAD =~ /.*::(.*)/) {
    my $requestType = $1;
    return undef if $requestType eq 'DESTROY';

    $AUTOLOAD = sub {
      my ($self, $inputParam) = @_;
      my $config = $self->getConfig(); # Why do we need this?
      return $self->_doRequest (REQUEST => $requestType,
                                PARAM => $inputParam);
    };
    # This is NOT a 'goto LABEL' call. This goto calls the function we
    # just have created and passes the whole @_ as arguments to it.
    # See 'http://perldoc.perl.org/functions/goto.html' for details.
    goto &$AUTOLOAD;
  }
}

sub getConfig { return 1; }
sub _doRequest { my ($self, %foo) = @_; return $foo{REQUEST}; }
sub new { return bless {}, $_[0]; }

package main;
use strict; use warnings;
use Data::Dumper;
my $test = test->new;
print Dumper $test->foobar('nice param'); 
```

基本上，AUTOLOAD 功能会创建对您来说不存在的方法。在我们的例子中，它创建了一个匿名子，它发出请求类型的请求`foobar`并将参数`'nice param'`传递给它。

你也可以继续说

```
$test->getMilk('goat');
$test->isThereBeerLeftInTheFridge({ temp => 'cold', size => 'large'}) 
```

或有任何其他要求。

也许这是一个起点。如果所有请求都不断完成，这不是最快的解决方案。但是，它只会创建每个方法一次，然后在再次调用它时使用它。

# ubuntu-11.04 - 在 ubuntu 11.04 中强制使用低图形模式

> ID：11028154
> 
> 赞同：-1
> 
> 时间：2012-06-14T06:58:19.330
> 
> 标签：ubuntu-11.04

如何强制 ubuntu 11.04 在低图形模式下运行？（抱歉，如果我在错误的部分发布）我使用的是 p4 机器，xserver 每次都卡在某个点，但它在低图形模式下运行良好，因为我只做编程的东西，我不需要任何效果方式（顺便说一句，在启动时禁用效果也不起作用）但是当我启动机器时，只有有时它被要求在低图形模式下运行，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-16T02:22:34.973

我想通了，我要做的就是，以恢复模式启动 ubuntu，然后选择低图形模式！，无论如何我认为不需要更改 GRUB ...并且 ubuntu 11.04 不支持#ATI radeon x300

# php - 程序化访问 Facebook 的“查看友谊”历史

> ID：11028156
> 
> 赞同：3
> 
> 时间：2012-06-14T06:58:30.670
> 
> 标签：php, facebook

Facebook 的“查看友谊”选项显示了两个用户在对方墙上发帖的完整历史记录。我相信这个功能以前被称为“墙到墙”。有没有办法以编程方式（通过 PHP）生成这个提要？我可以通过搜索and属性来构建一个[Post](https://developers.facebook.com/docs/reference/api/post/)数组，但这听起来有点笨拙。有谁知道更好的方法？`from``to`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T09:12:10.003

不，没有用于此的 API；要手动重建它，您需要访问有问题的两个用户的数据，并比较他们之间的交互以构建他们共同拥有的事物列表/他们在彼此的时间线上发布的帖子等

# c# - 简单的字符串替换出错了

> ID：11028157
> 
> 赞同：3
> 
> 时间：2012-06-14T06:58:30.593
> 
> 标签：c#

我正在尝试通过表单提交（多部分编码）将 json 字符串发布到 aspx 页面，并根据反序列化的 json 字符串发回响应。（我真的需要通过表单提交来做到这一点。没有ajax）

我不知道为什么这不起作用，但每次我尝试一个简单的字符串替换来用 json 字符串中的双引号替换单引号。它似乎没有发生。

这是我所做的总结。

这是 JSON 字符串，

```
[["\n 22.02 13:15 \n ","\n \n \n \n ","\n \n \n \n ","\n \n \n "," \n Vereina\n ","\n \n ","\n 35 000\n ","\n 24.03.11\n ","\n Taiwan \n ","\n \n ","\n \n "]] 
```

要通过表单数据发送它，我将所有 " 引号替换为 ' 引号，如下所示，

[['\n 22.02 13:15 \n ','\n \n \n \n ','\n \n \n \n ','\n \n \n ',' \n Vereina\n ','\n \n ','\n 35 000\n ','\n 24.03.11\n ','\n 台湾\n ','\n \n ','\n \n '] ]

在服务器端，我正在更换新线路，因为我不需要它们，

```
[[' 22.02 13:15 ',' ',' ',' ','  Vereina ',' ',' 35 000 ',' 24.03.11 ',' Taiwan  ','  ','  ']] 
```

然后我使用上面的 .Replace("'","\"") 这样的 C# 字符串替换方法，我得到的是

```
[[\" 22.02 13:15 \",\" \",\" \",\" \",\"  Vereina \",\" \",\" 35 000 \",\" 24.03.11 \",\" Taiwan  \",\"  \",\"  \"]] 
```

我在 MS Visual Studio 的快速观察窗口中观察到这一点，同时也在调试代码。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-14T07:19:28.833

调试器显示字符串，因为它们将显示为 C# 字符串文字。这就是引号被转义的原因。但是，字符串不受影响。

您可以通过在某处打印字符串来轻松验证这一点。

快速演示：

![在此处输入图像描述](../Images/9dbbbc7a8a4fd7209c60d8e8d5a42c32.png)

在调试窗口（紫色）中，字符串显示为转义引号（并被引号包围，因此使其成为 C# 字符串文字），而控制台中的输出（红色）显示实际内容。

# performance - 在 oracle 10g 中使用表分区

> ID：11028158
> 
> 赞同：0
> 
> 时间：2012-06-14T06:58:38.830
> 
> 标签：performance, oracle, plsql, oracle10g

我读过几篇关于表分区的文章，但我仍然对它的用途感到困惑。我的情况如下。

我有一个包含大约 1000 万条记录的大表 TA，每天加载 30-40K 条记录。

表 TA 包含许多列，包括日期字段，另外一个关键列是 project#，它是 varchar。

现在我可以选择在日期字段上对表 TA 进行分区。

但是，如果我主要看到我的查询，我将仅获取一个日期的数据，并且由于日期字段已编入索引，因此数据获取不是一个大问题。

Similary qry 在“WHERE”条件下也包含带有“IN”子句的项目#，即我必须通过“IN”子句提供 N 个项目#作为输入。

现在建议我应该如何进行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T11:02:07.467

如果您将始终阅读完整的每日数据，请执行以下操作：

步骤 0）删除日期的全局索引，分区不需要它。

步骤 1) 创建每日分区

步骤2）在项目上创建二级分区本地索引

如果我误解了你，并且你不会阅读完整的每日分区，只是其中的一部分，那么保持你的模式不变。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T18:13:55.460

> 在 ta(upload_date, project#) compress 1 上创建索引 ta_idx；

多列压缩索引可能就足够了。由于`upload_date`添加行时不会发生太大变化，因此[聚类因子](http://docs.oracle.com/cd/E11882_01/server.112/e25789/indexiot.htm#sthref334)将保持非常低。而且如果重复值很多，压缩`upload_date`可以节省很多空间。这可能是一个非常有效的索引。

您当然可以通过添加分区来提高效率，但这可能不值得麻烦。分区非常有用，但也可能非常棘手。如果这是您计划使用分区的唯一地方，我会避免使用它。（除非您想以此为借口来了解有关分区的更多信息。）

# c# - 如何在 C# 中使用子字符串函数

> ID：11028161
> 
> 赞同：-6
> 
> 时间：2012-06-14T06:58:48.877
> 
> 标签：c#

> **可能重复：**
> [如何在每个逗号处断开字符串？](https://stackoverflow.com/questions/10901880/how-to-break-a-string-at-each-comma)

我想在 C# 中拆分这个字符串。

```
string str= "ahmad,ehsan,mohmmad,sss"; 
```

结果必须如下：

```
ahmad
ehsan
mohmmad
sss 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T07:05:30.563

如果要将其拆分为字符串列表，则可以使用 String.Split 函数。

```
string[] splitted = str.Split(','); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T07:12:13.963

您可以使用拆分方法。

```
string str= "ahmad,ehsan,mohmmad,sss";
string[] list=str.Split(',');
foreach(string item in list)
Console.WriteLine(item); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T07:00:35.450

如果要拆分字符串，请使用[String.Split](http://msdn.microsoft.com/en-us/library/system.string.split%28v=vs.100%29.aspx)。

```
string str= "ahmad,ehsan,mohmmad,sss";
var result = str.Split(','); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-14T07:00:08.393

使用`Split`方法：

```
string[] items = str.Split(','); 
```

您*可以*使用该`Substring`方法，就像这样：

```
List<string> items = new List<string>();
int start = 0, pos;
while ((pos = str.IndexOf(',', start)) != -1) {
  items.Add(str.Substring(start, pos - start));
  start = pos + 1;
}
items.Add(str.Substring(start)); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-14T07:01:48.750

你想分割字符串，还是用`,`替换`？`

 `该类`string`既有`Split`方法又有`Replace`方法。

```
string str= "ahmad,ehsan,mohmmad,sss"; 
var subStrings = str.Split(',');
foreach (var s in subStrings)
{ 
    Console.WriteLine(s);
}

var newString = str.Replace(","," ");
Console.WriteLine(newString); 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-06-14T07:01:02.183

你下面的代码，

```
str = str.Replace(',',' '); /* ans will be "ahmad ehsan mohmmad sss" */ 
```

[http://msdn.microsoft.com/en-us/library/system.string.replace.aspx](http://msdn.microsoft.com/en-us/library/system.string.replace.aspx)

如果您只想拆分单词并希望将其作为字符串数组，则可以使用

```
string[] arr = str.Split(','); 
/*
   ahmad
   ehsan
   mohmmad
   sss
 */ 
```

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2012-06-14T07:05:01.700

```
//use this code 

string str= "ahmad,ehsan,mohmmad,sss";
str.Replace(",", " "); 
```

希望能帮到你。`

# logging - 如何在android中执行管道命令？

> ID：11028163
> 
> 赞同：1
> 
> 时间：2012-06-14T06:59:20.030
> 
> 标签：logging

我想显示应用程序日志。在终端上我使用了这个命令： adb logcat -s brief *:V|grep "pid" 它显示我的应用程序日志。

pid 表示在 logcat 表中显示的应用程序 pid。

```
 public static String logProc()
{
     String value = "";
     try
     {
         String cmd[] = {"logcat","-s","brief","*:V","|","grep",
                 android.os.Process.myPid()+""};
         Process p = Runtime.getRuntime().exec(cmd,null, null);
         BufferedReader reader = new BufferedReader(new 
                 InputStreamReader(p.getInputStream()));
         String line = reader.readLine();

         while (line != null)
         {
             value += line + "\n";
             line = reader.readLine();
         }
         p.waitFor();
     }
     catch (IOException e1)
     {
         e1.printStackTrace();
     } 
     catch (InterruptedException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    return value;
} 
```

# blackberry - 浏览器上的事件注入器

> ID：11028164
> 
> 赞同：0
> 
> 时间：2012-06-14T06:59:24.477
> 
> 标签：blackberry, browser, java-me

如何在黑莓浏览器上使用事件注入器来关闭浏览器。我想模拟浏览器加载时在手持设备上按下的 ESCAPE 键，以便应用退出浏览器并返回主屏幕。我自己尝试过这样做，但没有成功。非常感激任何的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:52:01.550

如果你真的想控制浏览器，你可以在你的应用程序中使用`BrowserField`, `BrowserField2`。

您还可以注入侦听器以进行按键或跟踪当前可见的应用程序。但这将非常棘手，因为用户经常在应用程序之间切换，而且现在有相当多的设备带有触摸界面（用户可以在没有 esc 按钮的情况下关闭页面）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T10:00:57.753

不确定您为什么要关闭浏览器，但我假设您知道这是正确的做法（此外，Eugen 已经建议您如何使用`BrowserField`让用户从您的应用程序中浏览并避免此问题）。

无论如何，我有一些代码可以用来关闭相机（我的应用程序确实启动了，是故意的）。您可能会以同样的方式关闭浏览器。这是一个 hack，但当时，这是我解决问题的方式：

```
 /** Delay required to keep simulated keypresses from occurring too fast, and being missed */
   private static final int KEYPRESS_DELAY_MSEC = 100;
   /** Max number of attempts to kill camera via key injection */
   private static final int MAX_KEY_PRESSES = 10;
   /** Used to determine when app has been exposed by killing Camera */
   private MainScreen _mainScreen;
   /** Counter for toggling key down/up */
   private int _keyEventCount = 0;

   public void run() {
      // The picture has been taken, so close the camera app by simulating the ESC key press
      if (!_mainScreen.isExposed()) {
         int event = ((_keyEventCount % 2) == 0) ? EventInjector.KeyCodeEvent.KEY_DOWN :
             EventInjector.KeyCodeEvent.KEY_UP;
         EventInjector.KeyEvent injection = new EventInjector.KeyEvent(event, Characters.ESCAPE, 0);
         // http://supportforums.blackberry.com/t5/Java-Development/How-to-use-EventInjector-to-inject-ESC/m-p/74096
         injection.post();
         injection.post();

         // Toggle back and forth .. key up .. key down
         _keyEventCount++;

         if (_keyEventCount < MAX_KEY_PRESSES) {
            // Keep scheduling this method to run until _mainScreen.isExposed()
            UiApplication.getUiApplication().invokeLater(this, KEYPRESS_DELAY_MSEC, false);
         } else {
            // Give up and just take foreground ... user will have to kill camera manually
            UiApplication.getUiApplication().requestForeground();
         }
      } else {
         // reset flag
         _keyEventCount = 0;
      } 
   } 
```

我`_mainScreen`是`Screen`应该通过关闭相机应用程序发现的，所以我用它来测试我是否成功关闭了相机。另外，在我的应用程序中，我重置

```
_keyEventCount = 0; 
```

每次启动相机时（上面没有显示）。

**更新：**

此外，这是我的`_mainScreen`对象需要跟踪它是否暴露的代码：

```
private boolean _isExposed = false;

protected void onExposed() {
    super.onExposed();
    _isExposed = true;
}

protected void onObscured() {
    super.onObscured();
    _isExposed = false;
}

public boolean isExposed() {
    return _isExposed;
} 
```

# tfs - 由于缺少程序集，TFS（预览版）构建失败？

> ID：11028166
> 
> 赞同：5
> 
> 时间：2012-06-14T06:59:31.653
> 
> 标签：tfs

我是 TFS 的新手，并试图通过托管的 TFS (tfspreview.com) 进行我的第一次自动构建，但由于缺少程序集而失败。

我在解决方案中的一个项目引用了 Microsoft.WindowsAzure.Configuration。引用已`Copy Local`设置为，`True`但 TFS 似乎不存在/未找到它。

我如何告诉 TFS 在哪里可以找到程序集？

> C:\Windows\Microsoft.NET\Framework64\v4.0.30319\Microsoft.Common.targets (1561)：无法解析此引用。找不到程序集“Microsoft.WindowsAzure.Configuration，Version=1.7.0.0，Culture=neutral，processorArchitecture=MSIL”。检查以确保该程序集存在于磁盘上。如果您的代码需要此引用，您可能会遇到编译错误。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-14T07:40:03.880

[在Using NuGet with TFS Build Automation](http://blogs.msdn.com/b/jpricket/archive/2012/05/10/using-nuget-with-tfs-build-automation.aspx)中找到了答案。它失败了，因为我已经通过 NuGet 添加了引用。

这是使其工作所必需的：

1.  在解决方案资源管理器中右键单击解决方案
2.  点击“启用 NuGet 包还原”</li>
3.  出现提示时单击“是”

该博客包含更多信息，因此请查看带有解释的完整修复程序。

# iphone - iphone照片裁剪

> ID：11028169
> 
> 赞同：2
> 
> 时间：2012-06-14T06:59:48.127
> 
> 标签：iphone, ios, xcode, uiimage, uiimagepickercontroller

我正在实现相册，我想从相册中选择图像，然后去编辑图像页面并像 iphone 一样裁剪图像，就像在 iphone 4s 中一样制作矩形并显示相同的矩阵，我可以调整它的大小，但我只看到我使用的一个大矩形这段代码

```
if([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypePhotoLibrary])
{
    UIImagePickerController *picker=[[UIImagePickerController alloc]init];
    picker.delegate=(id)self;
    picker.allowsEditing=YES;

    picker.sourceType=UIImagePickerControllerSourceTypePhotoLibrary;
    [self presentModalViewController:picker animated:YES]; 
```

和这个代表

```
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info { 
```

}

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T07:08:42.543

检查这个[例子](https://github.com/barrettj/BJImageCropper)。希望它对你有用..

# asp.net - 有什么方法可以从 ajax 控制工具包自定义 ajaxfileupload？

> ID：11028170
> 
> 赞同：0
> 
> 时间：2012-06-14T06:59:51.417
> 
> 标签：asp.net, visual-studio-2010, c#-4.0, file-upload, ajaxcontroltoolkit

我已经下载了 ajax 控制工具包（最新）并尝试了 fileupload。

真的很好，我想自定义一些东西，比如按钮位置和上传文件列表位置等。

有没有办法自定义这个？

我能想到的就是在事件发生后使用 javascript 将元素从容器（div、span、table）移动到另一个。

任何帮助将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T13:59:58.147

是的，你可以用**javascript**做到这一点：

*   [快速示例客户端](http://blogs.msdn.com/b/brettrobinson/archive/2008/02/28/override-javascript-method-in-microsoft-ajax-library.aspx)
*   [快速示例服务器端](http://www.codeproject.com/Articles/37543/How-to-Customize-the-New-AjaxControlToolkit-Tools)

覆盖您关心的事件，然后根据需要使用 jQuery 移动所需的元素： `$('#currentElem').prependTo('#destElem');`

您也可以**仅使用 CSS**执行此操作：

```
.ajax__fileupload_selectFileContainer {
  position: relative;
  float: right;
  right: 0px; 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T19:50:59.173

嗨，您可以使用 css 自定义此控件，只需用 !important setences 标记 css，这对您有用。使用 Firebug 了解 css 类。

例子

```
.ajax__fileupload_dropzone 
{
    border:dotted 1px #B2D1E0 !important;
    color:#B2D1E0 !important;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T07:07:24.253

非常感谢各位的回答。我实际上所做的是下载带有完整解决方案的源文件并修改实际代码。 [源代码链接](http://fileuploadajax.codeplex.com/SourceControl/list/changesets)

它有很多 Javascript 可以玩，所以有点棘手。

无论如何，这会给你更多的自由来放置控件等。

# c - 局部变量的地址分配给结构中的成员指针

> ID：11028171
> 
> 赞同：0
> 
> 时间：2012-06-14T06:59:55.803
> 
> 标签：c, pointers, structure, local-variables, variable-address

```
struct a {
    int *val;
};

void main(){
    int n;
    struct a *a1;
    a1= malloc(sizeof(a1));

    n=10;

    a1->val = &n;

    func(a1);

    printf("After changing %d\n",a1->val);

}

void func(struct a *a2){
    int a = 5;
    a2->val = &a;
    a2->val = 0 ;
} 
```

将局部变量分配给成员结构指针。最后使它为空。而不是给出空指针，而是在尝试访问它时给出 0。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:10:09.413

由于`a1->val`指向无效地址（19 很少是有效地址），因此您正在调用未定义的行为并且任何结果都是可接受的（包括核心转储或其他崩溃）。

即使你的函数做了：

```
*a2->val = 19; 
```

指针将指向一个在函数返回时不再有效的整数。一旦函数终止，取消引用指针就不再安全了；您可以安全地为其分配一个新的指针值；您可以将指针与另一个指针或 NULL 进行比较（受某些约束）；但仅此而已。

# php - 如何在codeigniter中调整图像大小？

> ID：11028172
> 
> 赞同：0
> 
> 时间：2012-06-14T06:59:57.580
> 
> 标签：php, codeigniter, image-processing

我试图调整用户上传的图像而不裁剪它。为此，我正在使用以下代码。

```
$config['image_library'] = 'gd2';
    $config['source_image'] = './uploads/'.$name.'.jpg';
    $config['new_image']    = './uploads/'.$name.'.jpg';
    $config['create_thumb'] = TRUE;
    $config['maintain_ratio'] = TRUE;
    $config['width']     = 75;
    $config['height']   = 50;
    $this->image_lib->resize();
    $config['new_image']    = './uploads/'.$name.'.jpg';
    $config['width']     = 1000;
    $config['height']   = 400;
    $this->image_lib->initialize($config);
    $this->image_lib->resize(); 
```

但问题是它没有给我1000x400的图像尺寸。它给了我尺寸为 534x400 的图像。有没有办法克服这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:02:39.343

将您更改`$config['maintain_ratio'] = TRUE;`为 $config['maintain_ratio'] = FALSE;

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T07:03:48.813

将此属性更改为

> $config['maintain_ratio'] = 假；

# c++ - 如何在 C++ 中存储一个大矩阵

> ID：11028176
> 
> 赞同：2
> 
> 时间：2012-06-14T07:00:20.823
> 
> 标签：c++, image-processing

我正在编写一个关于图像处理的程序。我需要存储一个大小为 480 000 列和 480 000 行的 int 方阵。有什么想法我该怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T08:48:30.380

**不要**使用 480,000 x 480,000 矩阵。

拥有这个完整矩阵（假设它不是稀疏的）的唯一原因是随机访问（即能够随时访问任何元素）。即使您能以某种方式实现这一点（存储 0.9Tb），数据访问也会*非常*慢（尤其是在将其映射到文件时），从而使您的算法效率低下。

相反，想办法重写你的算法，这样它就不需要在任何时候随机访问整个矩阵，但可能只需要你在需要时创建（然后删除）的一小部分，或减少存储这么多数据的需要的任何其他方式。

高性能不仅仅是减少计算量，关键还在于减少随机数据访问。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-14T07:04:57.940

您可以将其存储在一个文件中，并将您需要的矩阵部分映射到内存中。参见例如[http://en.wikipedia.org/wiki/Memory-mapped_file](http://en.wikipedia.org/wiki/Memory-mapped_file)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-14T07:18:53.033

如果您需要同时处理整个矩阵，并且大多数矩阵元素将是空白的，那么您应该考虑使用某种[稀疏矩阵](http://en.wikipedia.org/wiki/Sparse_matrix)数据结构。许多线性代数库支持稀疏矩阵（[Boost.uBlas](http://www.boost.org/doc/libs/release/libs/numeric/ublas/doc/index.htm)、[Eigen](http://eigen.tuxfamily.org)等），以及一些图像处理库（[OpenCV](http://opencv.willowgarage.com/wiki/)等）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-14T07:19:42.737

这取决于矩阵将具有的特性。

它会有很多0吗？如果是这样，您可以使用不存储 0 的稀疏矩阵实现。

如果它是带矩阵，您可以只存储对角带。

您将不得不查看矩阵属性并查看可以节省内存的位置。如果您找不到任何允许此类优化的属性，则必须将其存储在文件中。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-14T14:14:08.573

如果它是一个稀疏矩阵并且您需要对其进行一些线性代数，我会使用一些科学的线性代数库，如[Trilinos](http://trilinos.sandia.gov/)（使用 Epetra 或 Tpetra 包）或[Hypre](http://acts.nersc.gov/hypre/)。这些是高度并行的库（如果您可以并行运行代码，那就太好了）。我从来没有使用过 Hypre（尽管我听说它的性能比 Trilinos 好），所以我不能告诉你任何关于它的事情。Trilinos 是一个巨大（我会说太大）的库，大约有 50-60 个包，而且学习起来并不容易；但是如果你必须处理巨大的矩阵，那么依赖一些经过良好测试和开发的 TPL 是有意义的。对于矩阵存储，Epetra/Tpetra 是 Trilinos 中要研究的软件包。

# c# - 如何通过webservice将动态参数传递给sql查询

> ID：11028178
> 
> 赞同：0
> 
> 时间：2012-06-14T07:00:23.563
> 
> 标签：c#, asp.net, ios, web-services, sql-server-2008

我构建了一个应用程序，我在其中选择一个国家、一个城市和一条街道。选择后，它会将 id 发送到 web 服务，我得到所有可用于所选地点的房间。但是如果我想选择多个城市或多个街道怎么办？我正在寻找一个没有运气的动态解决方案。

这是我在 iOS 中的 roomdownloader：

```
 -(void)raumDownloader
{
    NSMutableArray *object=[[NSMutableArray alloc]init];

    NSLog(@"RaumklasseID: %@    StadtID: %@     GebäudeID: %@        RegionID: %@",raumklasseid, stadtid, gebaudeid, regionid);    

    NSString *emptyString = @"";
    [object addObject:raumklasseid];

    if (stadtid==nil)
    { 
        [object addObject:emptyString];
    }
    else {
         [object addObject:stadtid];
    }

    if (gebaudeid==nil)
    {
        [object addObject:emptyString];
    }else {
        [object addObject:gebaudeid];
    }

    if (regionid==nil)
    {
        [object addObject:emptyString];
    }else {
        [object addObject:regionid];  

    }

     NSMutableArray *key =[[NSMutableArray alloc]init];
    [key addObject:@"RAUMKLASSE_ID"];
    [key addObject:@"STADT_ID"];
    [key addObject:@"GEBAEUDE_ID"];
    [key addObject:@"REGION_ID"];

    NSDictionary* info = [[NSDictionary alloc]initWithObjects:object forKeys:key];
    NSData *jsonData = [NSJSONSerialization dataWithJSONObject:info 
                                                       options:NSJSONWritingPrettyPrinted error:nil];

    NSString *name = [[NSString alloc] initWithData:jsonData                                        
                                           encoding:NSUTF8StringEncoding];

    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:@"http://nexxtsolutions-entwicklung.de/Webdienst22/service1.asmx/Raum"]];

    [request setHTTPMethod: @"POST"];
    [request setValue:@"application/json" forHTTPHeaderField:@"Content-Type"];

    NSData *reqData = [NSData dataWithBytes:[name UTF8String] length:[name length]];
    [request setHTTPBody:reqData];

    NSURLResponse *response =[[NSURLResponse alloc]init];
    NSData *data = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:nil];

    NSMutableDictionary *dict = [[NSMutableDictionary alloc]init ];
    dict = [NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:nil];

    raumeArray =  [dict objectForKey:@"d"];
    for(int n=0; n<[raumeArray count]; n++)
    {

        NSLog(@"AUSGABE: %@",[[raumeArray objectAtIndex:n] objectForKey:@"RaumName"]);

    }

} 
```

您可以看到我有 4 个静态参数发送到 Web 服务：

```
[ScriptMethod(ResponseFormat = ResponseFormat.Json)]
    [WebMethod]
    public List<RaumHelper.RAUM> Raum(string RAUMKLASSE_ID, string STADT_ID, string GEBAEUDE_ID, string REGION_ID)
    {
        return RaumHelper.Raum(RAUMKLASSE_ID, STADT_ID, GEBAEUDE_ID, REGION_ID);
    } 
```

辅助类使用 sql 查询中的静态参数并将房间发送回 iPhone：

```
internal static List<RAUM> Raum( string RAUMKLASSE_ID, string STADT_ID, string GEBAEUDE_ID, string REGION_ID)
    {
        List<RAUM> strasseObject = new List<RAUM>();

        using (SqlConnection con = new SqlConnection(@"Data Source=Localhost\SQLEXPRESS;Initial Catalog=BOOK-IT-V2;Integrated Security=true;"))
        using (SqlCommand cmd = new SqlCommand(@"SELECT r.BEZEICHNUNG AS BEZEICHNUNG, r.ID AS ID, ra.BEZEICHNUNG AS raumBEZEICHNUNG FROM RAUM r, RAUMATTRIBUTE ra WHERE RAUMKLASSE_ID = ISNULL(@Raumklasse_ID, RAUMKLASSE_ID) AND STADT_ID = ISNULL(@Stadt_ID, STADT_ID) AND GEBAEUDE_ID = ISNULL(@Gebaeude_ID, GEBAEUDE_ID) AND REGION_ID = ISNULL(@Region_ID, REGION_ID) INNER JOIN RAZUORDNUNG ON RAZUORDNUNG.RAUM_ID = RAUM.ID
INNER JOIN RAUMATTRIBUTE ON RAZUORDNUNG.RAUMATTRIBUTE_ID = RAUMATTRIBUTE.", con))
        {
            con.Open();
            if (!StringExtensions.IsNullOrWhiteSpace(RAUMKLASSE_ID))
                cmd.Parameters.AddWithValue("@Raumklasse_ID", RAUMKLASSE_ID);
            else
                cmd.Parameters.AddWithValue("@Raumklasse_ID", DBNull.Value);

            if (!StringExtensions.IsNullOrWhiteSpace(STADT_ID))
                cmd.Parameters.AddWithValue("@Stadt_ID", STADT_ID);
            else
                cmd.Parameters.AddWithValue("@Stadt_ID", DBNull.Value);

            if (!StringExtensions.IsNullOrWhiteSpace(GEBAEUDE_ID))
                cmd.Parameters.AddWithValue("@Gebaeude_ID", GEBAEUDE_ID);
            else
                cmd.Parameters.AddWithValue("@Gebaeude_ID", DBNull.Value);

            if (!StringExtensions.IsNullOrWhiteSpace(REGION_ID))
                cmd.Parameters.AddWithValue("@Region_ID", REGION_ID);
            else
               cmd.Parameters.AddWithValue("@Region_ID", DBNull.Value);

            using (SqlDataReader rdr = cmd.ExecuteReader())
            {

                while (rdr.Read())
                {

                    if (rdr["BEZEICHNUNG"] != DBNull.Value && rdr["ID"] != DBNull.Value)
                    {

                        strasseObject.Add(new RAUM()
                        {
                            RaumName = rdr["BEZEICHNUNG"].ToString(),
                            RaumID = rdr["ID"].ToString()

                        });
                    }

                }
            }
        }
        return strasseObject;
    } 
```

我的问题再次是如果我选择多个城市或街道怎么办？id 应该是动态发送的，sql 查询也是如此。在此先感谢您的帮助 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:32:11.247

我不会阅读所有代码，因为解决方案很简单。您接受逗号分隔的列表，而不是为每个查询参数严格采用单个字符串。当请求进来时，您将它们分解为数组并查询数据库以获取所有参数组合。

使客户端代码也变得灵活，这样它就可以接受一个列表，而不仅仅是一个。

也许限制数据库查询的总量，所以有人不会向您发送三个列表，每个列表包含五个项目，这将需要 125 个查询，并且数据太多而无法一次全部返回到手机。

# javascript - jquery ajax文件上传，成功不会被调用

> ID：11028179
> 
> 赞同：0
> 
> 时间：2012-06-14T07:00:23.663
> 
> 标签：javascript, jquery, ajax, file-upload

我正在使用 jquery 将图像上传到 joomla 站点，但是文件 ajaxfileupload.js 有问题。图片上传得很好，但“成功”中的函数没有被调用。我需要它来显示上传完成的确认。我尝试使用“完成”而不是“成功”，然后代码可以工作，但它会一遍又一遍地刷新页面。我怎样才能让它像它应该的那样工作？这是代码..

```
upload: function (a) {
    if (jQuery("#Filedata-" + a).val() == "") {
        jQuery("#photoupload-" + a).remove();
        joms.uploader.upload();
        if (jQuery("#photoupload").next().length == 0) {
            joms.uploader.addNewUpload()
        }
        jQuery("#upload-photos-button").show();
        return
    }
    var c = (jQuery("#photoupload-" + a + " :input:checked").val() == "1") ? "&defaultphoto=1" : "";
    var b = jQuery("#photoupload-" + a).next().find(".elementIndex").val();
    b = (b != "") ? "&nextupload=" + b : "";
    jQuery("#photoupload-" + a).children().each(function () {
        jQuery(this).css("display", "none")
    });
    jQuery("#photoupload-" + a).append('<div id="photoupload-loading-' + a + '"><span class="loading" style="display:block;float: none;margin: 0px;"></span><span>' + joms.uploader.uploadText + "</span></div>");
    jQuery.ajaxFileUpload({
        url: this.postUrl + c + b,
        secureuri: false,
        fileElementId: "Filedata-" + a,
        dataType: "json",
        success: function (e, d) {
            jQuery("#photoupload-loading-" + a).remove();
            if (typeof (e.error) != "undefined" && e.error == "true") {
                jQuery("#photoupload-" + a).css("background", "#ffeded");
                jQuery("#photoupload-" + a).append('<span class="error">' + e.msg + "</span>")
            } else {
                jQuery("#photoupload-" + a).css("background", "#edfff3");
                jQuery("#photoupload-" + a).append('<span class="success">' + e.msg + "</span>")
            }
            jQuery("#photoupload-" + a).fadeOut(4500, function () {
                jQuery("#photoupload-" + a).remove();
                if (jQuery("#photoupload").next().length == 0) {
                    joms.uploader.addNewUpload()
                }
            });
            jQuery("#photoupload-" + a + " .remove").css("display", "block");
            if (e.nextupload != "undefined") {
                joms.uploader.upload(e.nextupload);
                return
            } else {
                jQuery("#upload-photos-button").show()
            }
        },
        error: function (f, d, g) {}
    });
    return false
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-06-22T10:20:21.310

我想我解决了这个问题。您必须删除选项：数据，数据类型。它会正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-31T18:31:21.593

虽然这可能已经晚了，但对于第一次看到这个的人来说，只需将 dataType: "json", 更改为 dataType: "JSON",

# ios - 什么是“使用 Apple 托管内容”

> ID：11028183
> 
> 赞同：29
> 
> 时间：2012-06-14T07:00:42.637
> 
> 标签：ios, iphone, app-store-connect

![在此处输入图像描述](../Images/fb03c6ee5ceabe56bbe693ff141660c6.png)

当我在 iTunes Connect 中创建应用内购买时。我发现这个选项“使用 Apple 托管内容”我以前没有看到过。我该怎么办，我应该选择是或否。我不明白。我认为这个选项是在 WWDC 之后出现的。

* * *

## 回答 #1

> 赞同：70
> 
> 时间：2012-06-14T07:20:59.890

这是 iOS 6 的一项新功能，您可以让苹果托管您的内容，例如图像和视频。如果您希望支持 iOS6 以下的任何内容，则应选择否（假设您有需要托管的内容），如果您的应用内购买不需要下载任何内容，则只需选择否。

# facebook - 我应该学习哪些语言来开发像 Facebook 这样的社交网络？

> ID：11028184
> 
> 赞同：0
> 
> 时间：2012-06-14T07:00:50.893
> 
> 标签：facebook, twitter, programming-languages, client-side, server-side

我说的是服务器端和客户端。我对 Go、JavaScript、Node.js、PHP、Ruby 和 Java 略知一二。我不想在几天内达到目标，我知道这是毫无意义的。我计划从为 Twitter、Google+，尤其是 Facebook 等平台开发小应用程序开始，最后开发一个像 Facebook 这样的完整平台。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T07:24:52.687

你不需要学习语言，你需要学习算法和数据结构。您还需要了解分布式计算、可扩展性、性能、信息检索、机器学习、集体智能、群体智慧、自然语言处理、Kevin Bacon 6 度分离、图论和其他一些主题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:30:16.423

阅读 Donald Knuth 的所有著作。你准备好了。

# jquery - 加载选项卡内容时如何显示加载图像？

> ID：11028185
> 
> 赞同：3
> 
> 时间：2012-06-14T07:00:51.077
> 
> 标签：jquery, jquery-ui, salesforce, visualforce

如何在我的标签内容在屏幕上可见之前显示加载图像？？？我在我的 visualforce 页面中放置了 4 个选项卡。现在的问题是，当我单击一个选项卡时，它需要很长时间，所以我想在我的选项卡内容出现在屏幕上之前显示加载图像。我已经使用 jquery 制作了我的标签。我在这里提供我的代码。所以请帮我解决这个问题。谢谢你。

```
<apex:page standardController="Account" extensions="TempExt" id="pg">

  <link rel="stylesheet" href="http://jqueryui.com/themes/cupertino/jquery.ui.all.css"/>
  <script src="http://jqueryui.com/jquery-1.7.2.js"></script>
  <script src="http://jqueryui.com/ui/jquery.ui.core.js"></script>
  <script src="http://jqueryui.com/ui/jquery.ui.widget.js"></script>
  <script src="http://jqueryui.com/ui/jquery.ui.tabs.js"></script>
  <link rel="stylesheet" href="http://jqueryui.com/demos/demos.css"/>

  <script src="/soap/ajax/10.0/connection.js" type="text/javascript"></script>
  <script src="/soap/ajax/10.0/apex.js" type="text/javascript"></script>
  <link  rel="stylesheet" type="text/css" href="{!URLFOR($Resource.YU,'YU/build/container/assets/container.css')}"></link>
  <script type="text/javascript" src="{!URLFOR($Resource.jquery,'Jquery.js')}"></script>

        <script type="text/javascript" src="{!URLFOR($Resource.Jeditable,'jeditable.js')}"></script>

  <style>
    .rich-tabpanel-content{background:none;}
  </style>

  <script language="javascript" >
    $(function () {
      $("#tabs").tabs({
        ajaxOptions : {
          error : function (xhr, status, index, anchor)
          {
            $(anchor.hash).html();
          }
        }
      });
    });
  </script>

  <div class="demo">

    <div id="tabs">
      <ul>
        <li><a href="/apex/page1?id={!record.Id}">tab1</a></li>
        <li><a href="/apex/page2?id={!record.Id}">tab2</a></li>
        <li><a href="/apex/page3?id={!record.Id}" >tab3</a></li>
        <li><a href="/apex/page4?id={!record.Id}" >tab4</a></li>
      </ul>
    </div>

  </div><!-- End demo -->

</apex:page> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T21:01:36.200

向 ajaxOptions 添加更多选项将允许您根据 AJAX 调用的路径隐藏和显示加载程序。

```
$(function() {
    $("#tabs").tabs({
        ajaxOptions: {
            error: function(xhr, status, index, anchor) {
                $(anchor.hash).html();
            },
            beforeSend: function() {
                $('#loader').show();
            },
            complete: function() {
                $("#loader").hide();
            }
        }
    });
});​ 
```

然后您可以在页面上创建/样式化加载器：

```
<div id="loader" style="display:none">Loading...</div> 
```

有关更多选项，请参阅[http://api.jquery.com/jQuery.ajax/#jQuery-ajax-settings](http://api.jquery.com/jQuery.ajax/#jQuery-ajax-settings)

# ios - cocos2d-iphone-2.0-rc2.tar.gz 没有响应

> ID：11028197
> 
> 赞同：0
> 
> 时间：2012-06-14T07:01:44.397
> 
> 标签：ios, xcode, cocos2d-iphone

我已经安装了 cocos2d-iphone-2.0-rc2.tar.gz 但它没有在 xCode 上显示列表。有没有人可以帮助我。我的 Xcode 版本是 4.3.2

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T09:35:27.367

从 cocos2d-iphone-2.0-rc2 文件夹运行模板安装程序：

```
./install-templates.sh -f 
```

[本文中的更多细节](http://www.learn-cocos2d.com/2012/04/enabling-arc-cocos2d-project-howto-stepbystep-tutorialguide/)，包括如何将 cocos2d 与 ARC 一起使用。

# c# - 在 C# 中检查两个 ArrayList 之间的差异

> ID：11028199
> 
> 赞同：1
> 
> 时间：2012-06-14T07:01:49.500
> 
> 标签：c#, arraylist

我在两个 ArrayList arrayListA 和 arrayListB 中有数据。

我想检查这两个数组列表之间是否存在差异。

所以我在代码中这样做：

```
 ArrayList diff = new ArrayList();
 foreach (string[] a in arrayListB)
 {
     if(!arrayListA.Contains(a))
     {
         diff.Add(a);
     }
 } 
```

所以当我运行程序时我的问题在这里。arrayListB 中的所有数据都添加到 ArrayList diff 中。它应该只添加仅在arrayListA而不是arrayListB中的数据，对吗？

出了什么问题？

**这是我运行程序后的结果。列表框 a 是 arrayListA 中的数据，列表框 B 是 arrayListB 中的数据，列表框 diff 是来自 diff 的数据。** ![编辑](../Images/7a2eb75e009d388d87cb93d6c00b13a7.png)

我已经进入 System.Linq。

但我没有为我的列表获得“位置”属性。

![嘿嘿](../Images/7fef4e74375c61f6d6ce5992885cfce5.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T07:06:59.263

由于您使用的是字符串数组的数组列表，因此该`Contains`方法不起作用：它使用`Equals`方法来检查是否相等，但是`Equals`在 C# 数组中的实现不注意数组元素的相等性。

这是讨论在 C# 中检查数组相等性问题的问题的[链接。](https://stackoverflow.com/q/713341/335858)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T07:15:49.227

首先，使用 List 会更容易：

```
List<string[]> listA = new List<string[]>();
List<string[]> listB = new List<string[]>(); 
```

现在您可以使用 Linq 来获取 A 中但 B 中不存在的那些，以及 B 中但 A 中不存在的那些，并将它们组合起来以获得完全的差异：

```
using System.Linq;

...

List<string[]> diff =
    listA.Where(a => !listB.Any(a.SequenceEqual)).Union(
    listB.Where(b => !listA.Any(b.SequenceEqual))).ToList(); 
```

上面代码的翻译，简单的循环和更长的代码是：

```
private List<string[]> GetDiff(List<string[]> listA, list<string[] listB>)
{
    var diff = new List<string[]>();

    foreach (var a in listA)
    {
        bool found = false;

        foreach (var b in listB)
        {
            if (a.SequenceEqual(b))
            {
                found = true;
                break;
            }
        }

        if (!found)
        {
            diff.Add(a);
        }
    }

    foreach (var b in listB)
    {
        bool found = false;

        foreach (var a in listA)
        {
            if (b.SequenceEqual(a))
            {
                found = true;
                break;
            }
        }

        if (!found)
        {
            diff.Add(b);
        }
    }

    return diff;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T07:14:37.653

假设 arrayListB 并包含字符串数组，那么您可以尝试

```
 ArrayList diff = new ArrayList();
 foreach (var b in arrayListB)
 {
     bool found = false;
     foreach (var a in arrayListA)
     {
        if(Enumerable.SequenceEqual(a as string[], b as string[]))
        {
          found = true
          break;
        }
     }
     if(!found)
     {
        diff.Add(b);
     }
 } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-14T07:09:13.073

没有内置的 Equal 可以`string[]`让`Contains`您按照您可能想要的方式工作。您需要实现自定义比较并使用以比较器作为参数的[包含](http://msdn.microsoft.com/en-us/library/bb339118)`string[]`的另一个覆盖。

作为旁注，最好使用强类型列表以 like 开头`List<string[]>`。

# android - Android命令不起作用

> ID：11028201
> 
> 赞同：-2
> 
> 时间：2012-06-14T07:01:56.287
> 
> 标签：android

我正在编写一个代码，我试图打开设备的摄像头，但我的命令不起作用，它显示编译时错误，请查看命令正确还是错误，如果错误，请提供我是正确的代码，这是我的代码 -

```
Camera camera= Camera.open(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:08:52.320

我想你已经添加了，但仅供参考

```
 <uses-permission android:name="android.permission.CAMERA" /> 
```

请查看[链接](http://marakana.com/forums/android/examples/39.html).......

如果不起作用，请尝试所有这些

```
<uses-permission android:name="android.permission.CAMERA" />
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-feature android:name="android.hardware.camera" /> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T07:24:26.830

尝试使用这个 -

```
import android.hardware.Camera; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T07:09:56.640

按照[这个](http://developer.android.com/reference/android/hardware/Camera.html#open%28%29)它应该工作。

您可以传递一个 Intent 来启动相机并像

```
private Uri imageUri;

public void takePhoto(View view) {
    Intent intent = new Intent("android.media.action.IMAGE_CAPTURE");
    File photo = new File(Environment.getExternalStorageDirectory(),  "Pic.jpg");
    intent.putExtra(MediaStore.EXTRA_OUTPUT,
            Uri.fromFile(photo));
    imageUri = Uri.fromFile(photo);
    startActivityForResult(intent, TAKE_PICTURE);
}

@Override
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    switch (requestCode) {
    case TAKE_PICTURE:
        if (resultCode == Activity.RESULT_OK) {
            Uri selectedImage = imageUri;
            getContentResolver().notifyChange(selectedImage, null);
            ImageView imageView = (ImageView) findViewById(R.id.ImageView);
            ContentResolver cr = getContentResolver();
            Bitmap bitmap;
            try {
                 bitmap = android.provider.MediaStore.Images.Media
                 .getBitmap(cr, selectedImage);

                imageView.setImageBitmap(bitmap);
                Toast.makeText(this, selectedImage.toString(),
                        Toast.LENGTH_LONG).show();
            } catch (Exception e) {
                Toast.makeText(this, "Failed to load", Toast.LENGTH_SHORT)
                        .show();
                Log.e("Camera", e.toString());
            }
        }
    }
} 
```

# javascript - 如何在 raphael js 中为曲线设置动画

> ID：11028203
> 
> 赞同：2
> 
> 时间：2012-06-14T07:01:59.903
> 
> 标签：javascript, raphael

我画了一个类似线圈的结构

```
var pathCommand = "M 10 50 l 10 0 ";
for (var i = 0; i < 10; i++) {
 pathCommand += "c  15   0  25 -20  15 -20 " + "c -10   0   0  20  15  20 ";
}
var pc = paper.path(pathCommand);`enter code here`
            pc.attr({
                stroke: '#000',
                'stroke-width': 3
            }); 
```

但我想用动画来展示它，就好像它是逐像素绘制的。我试过这个

```
var pc = paper.path("M 10 50");
for (var i = 0; i < 10; i++) {
pathCommand += "c  15   0  25 -20  15 -20 " + "c -10   0   0  20  15  20 ";
pc.animate({path: pathCommand, stroke: '#000','stroke-width': 3},2000);
} 
```

这并没有给我我真正想要的东西。谁能告诉我我应该怎么做才能显示，因为这是用 raphael js 逐步绘制的？谢谢你的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T04:59:28.880

```
var s = [ { stroke: "M 150 150", time: 0},
            { stroke: "c  15   0  25 -20  15 -20", time: 800},
            { stroke: "c -10   0   0  20  15  20", time: 600},
            { stroke: "c  15   0  25 -20  15 -20", time: 800},
            { stroke: "c -10   0   0  20  15  20", time: 600},
            { stroke: "c  15   0  25 -20  15 -20", time: 800},
            { stroke: "c -10   0   0  20  15  20", time: 600},
            { stroke: "c  15   0  25 -20  15 -20", time: 800},
            { stroke: "c -10   0   0  20  15  20", time: 600} ];
var drawnPath = s[0].stroke;
var myPath = paper.path(drawnPath).attr({"stroke-width": 3,"stroke": "#000"});
var temp = 1;
animateMyPath();
function animateMyPath() {
if (temp < s.length) {
    drawnPath += s[temp].stroke;
    myPath.animate({path: drawnPath}, s[temp].time, animateMyPath);
    temp++;
    }
} 
```

请告诉我这是正确的方法，因为我是这个 javascript 编程的新手。

# c# - 从浏览器打开相关文档（PDF、DOCS 等）

> ID：11028206
> 
> 赞同：2
> 
> 时间：2012-06-14T07:02:08.490
> 
> 标签：c#, asp.net, pdf

我有几个应用程序可以通过浏览器成功显示“标准”文档。我使用互联网上大多数示例使用的正常方式来显示文档，即

```
HttpResponse response = HttpContext.Current.Response;
response.Clear();
response.ClearContent();
response.ClearHeaders();
response.Buffer = true;
response.ContentType = "application/pdf";
response.AddHeader("Content-Disposition", "attachment;filename=file.pdf"; 
response.BinaryWrite(SomeBinaryArrayObject);
response.Flush();
response.End(); 
```

但是，在我当前的应用程序中，这是从 UpdatePanel 调用的，这似乎会导致 AJAX 错误（我也发现了谷歌搜索）：

[在此处查看我收到的错误消息](https://stackoverflow.com/questions/1554728/the-message-received-from-the-server-could-not-be-parsed-common-causes-for-this)

我想知道除了使用 Response.write 之外，是否还有**其他方法**可以从浏览器调用文档，或者是否有任何方法可以**解决 AJAX/Response.Write**问题？我更希望它们在浏览器中打开，但如果它们在关联的应用程序中打开，那也很好，大多数（如果不是所有）我们的客户无论如何都安装了 Adob​​e 和 MS Office 之类的东西。

欢迎任何帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T07:17:18.073

没有其他方法可以在浏览器中调用文档（否则将是一个巨大的安全问题）。唯一的方法是将您的下载控件添加为 UpdatePanel 回发触发器。这会导致完整的回发并允许浏览器下载和/或激活相关的应用程序。

另一种解决方案可能是使用 flash 或 java applet。

更新：如果您的回发控件位于网格视图中，则无需对网格中的所有控件进行完整回发，您始终可以仅在您需要它的控件上触发。在 rowdatabound 事件上，搜索控件并将其添加到触发器中，如下所示：

```
Protected Sub gE_RowDataBound(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.GridViewRowEventArgs) Handles gE.RowDataBound
    Dim lapt_Trig As New AsyncPostBackTrigger
    lapt_Trig.ControlID = e.Row.FindControl("MyButton").ID     
    up_UpdatePanel.Triggers.Add(lapt_Trig)    
End Sub 
```

# iphone - 执行模态转场，不使用情节提要

> ID：11028215
> 
> 赞同：1
> 
> 时间：2012-06-14T07:02:47.003
> 
> 标签：iphone

**不**使用情节提要是否可以执行`Modal Segue`类似的操作？

 **换句话说，我只需要使用 Modal Segues 之类的动画显示另一个视图，但由于我需要我的应用程序与旧 iOS 版本兼容，因此我无法使用 Storyboards。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:14:50.147

好的，刚找到。

有可能：

```
controller.modalTransitionStyle = UIModalTransitionStyleFlipHorizontal;
[self presentModalViewController:controller animated:YES]; 
```**

# facebook - Faraday::Error::ConnectionFailed Omniauth Facebook

> ID：11028216
> 
> 赞同：2
> 
> 时间：2012-06-14T07:02:48.227
> 
> 标签：facebook, ruby-on-rails-3, omniauth

我在 Rails 中遇到错误 - Faraday::Error::ConnectionFailed。我正在尝试[RailsCast Omniauth Episode](http://railscasts.com/episodes/235-omniauth)。它在 Twitter 上运行良好。但是当我给

```
http://localhost:3000/auth/facebook
```

它给出了错误。我也看到[了问题](https://stackoverflow.com/questions/10775640/omniauth-facebook-error-faradayerrorconnectionfailed)，但问题没有解决。

developer.facebook.com 上的设置

```
Site URL: http://localhost:3000/
Site Domain: localhost 
```

我正在使用窗户。我也读过[问题](https://stackoverflow.com/questions/3977303/omniauth-facebook-certificate-verify-failed)。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T13:57:17.467

我已经解决了这个问题。此问题可能仅适用于 Windows 用户。用这个，

[1](https://raw.github.com/gist/867550/win_fetch_cacerts.rb)将此文件保存在您的桌面上[win_fetch_cacerts.rb](https://raw.github.com/gist/867550/win_fetch_cacerts.rb)

[2](http://curl.haxx.se/ca/cacert.pem)在命令提示符下使用此命令

```
ruby "%USERPROFILE%\Desktop\win_fetch_cacerts.rb" 
```

[3] 将此[文件](http://curl.haxx.se/ca/cacert.pem)保存在您的 c:\RailsInstaller\

[4] 在您的命令提示符下或设置为环境变量

```
set SSL_CERT_FILE=C:\RailsInstaller\cacert.pem 
```

[5] 重新启动系统并尝试。

# java - 如何在 JSF 中按名称获取我的托管 bean？

> ID：11028219
> 
> 赞同：0
> 
> 时间：2012-06-14T07:02:58.983
> 
> 标签：java, jsf, servlets, jsf-2

我一直在为 AJAX/JSON 编写一个 servlet。

我想按名称引用我的@ManagedBeans。我基本上想做以下之间的映射：

```
http://host/app/myBeanName/myPropertyName 
```

和-

```
@ManagedBean(name="myBeanName")
public class MyBeanName {
    public String getMyProperty();
} 
```

我可以从常规 servlet 中按名称加载 bean 吗？或者，如果有我可以使用的 JSF servlet 或助手，请告诉我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:07:28.407

> 我可以从常规 servlet 中按名称加载 bean 吗？○

是的，如果您的 bean 在请求范围内，那么来自 servlet`@RequestScope`

```
YourBean bean = (YourBean)request.getAttribute("yourBeanName"); 
```

如果它在会话范围内`@SessionScoped`

```
YourBean bean = (YourBean)request.getSession().getAttribute("yourBeanName"); 
```

用于应用范围的 bean`@ApplicationScope`

```
YourBean bean = (YourBean)getServletContext().getAttribute("yourBeanName"); 
```

# windows-phone-7 - 将图像保存到媒体库时出现 InvalidOperationException

> ID：11028236
> 
> 赞同：1
> 
> 时间：2012-06-14T07:05:24.010
> 
> 标签：windows-phone-7, isolatedstorage

我正在尝试将图像保存到媒体库，但在调用 SavePicture 函数时出现“InvalidOperationException”。我有一个保存在隔离存储中的图像文件，我想保存到图片中心。这是代码片段 -

```
using (IsolatedStorageFile myIsolatedStorage = IsolatedStorageFile.GetUserStoreForApplication())
    {
        using (IsolatedStorageFileStream fileStream = myIsolatedStorage.OpenFile(fname, FileMode.Open, FileAccess.Read)) //fname is the filename of the image that is to be saved in the library
        {
            MediaLibrary mediaLibrary = new MediaLibrary();
            Picture pic = mediaLibrary.SavePicture("SavedLogo.jpg", fileStream); //Exception thrown here!
            fileStream.Close(); 
        }
    } 
```

从我收集到的信息来看，这个异常与 Zune 在运行时阻止了图像库有关。我已经停止了，也没有手机连接到电脑。当我在物理设备上测试这个应用程序时，应用程序只是崩溃了，虽然我可以看到保存在“保存的图片”中的空白图像。

我正在使用网络客户端从 url 下载图像，它似乎是正确的。网络客户端通过图像的 url (openReadAsync)。这是 openReadCompleted 事件：

```
void client_OpenReadCompleted(object sender, OpenReadCompletedEventArgs e)
        {
            var resInfo = new StreamResourceInfo(e.Result, null);
            var reader = new StreamReader(resInfo.Stream);

            byte[] contents;
            using (BinaryReader bReader = new BinaryReader(reader.BaseStream))
            {
                contents = bReader.ReadBytes((int)reader.BaseStream.Length);
            }
            IsolatedStorageFile isf = IsolatedStorageFile.GetUserStoreForApplication();
            IsolatedStorageFileStream stream = isf.CreateFile("example.jpg");
            stream.Write(contents, 0, contents.Length);
            stream.Close();
         } 
```

我认为它正在正确保存文件（即在隔离的sotrage 中），因为当我稍后尝试打开它时它会成功显示它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:20:18.757

您确定图像保存正确吗？MSDN 有很好的资源将图片保存到 MediaLibrary [http://msdn.microsoft.com/en-us/library/ff769549(v=vs.92)](http://msdn.microsoft.com/en-us/library/ff769549%28v=vs.92%29)

# java - AES encryption cuts off text in CFB mode

> ID：11028239
> 
> 赞同：6
> 
> 时间：2012-06-14T07:05:32.337
> 
> 标签：java, encryption, aes, padding

I am trying to read from a file and encrypt the data using AES in CFB mode with no padding

'**AES/CFB/NoPadding**'. The IV is 16bytes long.

Given that AES by default, works with 16 byte blocks, I would have thought of using a padding scheme if I were using CBC or any other mode but CFB. CFB essentially requires no padding for plaintext.

So the problem is that if my file contains data which is less than 16 bytes, then nothing gets encrypted. If it is greater than 16 bytes, then only the first 16 bytes get encrypted.

This clearly indicates that the block size is kicking in and if there is an underflow or overflow of bytes w.r.t. the block size, then that data/bytes are discarded.

What I don't understand is while using CFB, I need not pad the data.. right! Then why is the 16byte default block size of AES coming into action and truncating data?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T10:34:37.237

You have failed to specify the number of bits you want to feedback for that mode, and thus you are getting the default 128 bits. It sounds like you want 8 bits, for which you should use the following argument to getInstance():

```
Cipher.getInstance("AES/CFB8/NoPadding"); 
```

# c# - 无法从 .Net 应用程序发送发布请求，它可以与 Chrome RESTClient 一起正常工作

> ID：11028240
> 
> 赞同：3
> 
> 时间：2012-06-14T07:05:42.283
> 
> 标签：c#, asp.net, http, httpwebrequest

为什么我无法使用以下命令和其他一些类似的代码发送 POST 请求。当我使用 Mozilla 浏览器的 RESTClient 发送相同的请求时，它工作正常。这仅适用于部署在 LAN/甚至我的本地机器上的服务器模拟器。使用 Live 服务器，它工作正常。

```
ASCIIEncoding encoding = new ASCIIEncoding();
HttpWebRequest request = (HttpWebRequest)WebRequest.Create("http://192.168.220.12:5000"); // this is my system's local ip
byte[] byteArray = encoding.GetBytes("hello");
request.Method = "POST";
request.ContentType = "text/xml";// i tried it with "application/x-www-form-urlencoded" as well
request.ContentLength = byteArray.Length;
Stream dataStream = request.GetRequestStream();
dataStream.Write(byteArray, 0, byteArray.Length);
dataStream.Flush();
dataStream.Close();
WebResponse response = request.GetResponse();
Console.WriteLine(((HttpWebResponse)response).StatusDescription);
dataStream = response.GetResponseStream();
StreamReader reader = new StreamReader(dataStream);
string responseFromServer = reader.ReadToEnd();
Console.WriteLine(responseFromServer);
Console.ReadKey();
reader.Close();
dataStream.Close();
response.Close(); 
```

通过在服务器上对其进行测试，我看到有一条成功接收请求的消息，但它没有显示从上述代码接收到的数据，而是显示了来自 RESTclient 的数据。

可能的原因是什么。是否有任何防火墙不允许将 postdata 从 .net 库发送到模拟器？

这与未格式化的 xml 的响应相同，我没有发现 xml 有任何问题（与我通过 RESTclient 发送的内容相同）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T07:13:05.500

不清楚服务器期望请求是什么内容类型。如果是`application/x-www-form-urlencoded`（键=值对），您可以简化代码：

```
using (var client = new WebClient())
{
    var values = new NameValueCollection
    {
        { "key1", "value1" },
        { "key2", "value2" },
    };
    byte[] result = client.UploadValues("http://192.168.220.12:5000", values);
    string resultStr = Encoding.Default.GetString(result);
    ...
} 
```

如果您想发布 XML，那么：

```
using (var client = new WebClient())
{
    client.Headers[HttpRequestHeader.ContentType] = "text/xml";
    string xml = "<foo>Bar</foo>";
    string result = client.UploadString("http://192.168.220.12:5000", xml);
} 
```

如您所见，这完全取决于您的服务器端脚本期望什么。

# iphone - 按钮给出 BAD_EXE

> ID：11028241
> 
> 赞同：1
> 
> 时间：2012-06-14T07:05:47.973
> 
> 标签：iphone

我是 iPhone SDK 的新手。我在我的 NIB 文件中使用对接。这里是代码：

```
[btnSelectCountry setTitleColor:appData.DataColor 
                       forState:UIControlStateNormal];
btnSelectCountry.titleLabel.font= 12; 
```

我在我的应用程序中放置了异常断点。我试图崩溃，以便我可以创建好的产品。它崩溃了。异常断点给了我 BAD_EXE

```
btnSelectCountry.titleLabel.font= 12; 
```

我不知道为什么它会给我的 BAD_EXE。因为在 BAD_EXE 之前，它工作得非常好。在那一点上从未坠毁。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:17:05.717

```
//use this code

[btnSelectCountry.titleLabel setFont:[UIFont fontWithName:@"Arial-BoldMT" size:15.0]];

//if it is working then check your appData property i.e appData.FontSmall; 
```

希望这会让你明白出了什么问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:20:38.843

```
btnSelectCountry.titleLabel.font= [UIFont fontWithName:@"Helvetica" size:12]; 
```

试试这个。你给了大小来输入字体。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T07:24:10.440

您不能将字体设置为等于数字。请注意，当您开始在 xcode 中输入 btnSelectCountry.titleLabel.font 时，它会告诉您它需要一个 UIFont *。

因此，如果您想这样设置字体，请尝试类似

```
 btnSelectCountry.titleLabel.font = button.titleLabel.font = [UIFont systemFontOfSize:12]; 
```

# iphone - 如何在 iPhone 中进行 Spotlight 搜索

> ID：11028242
> 
> 赞同：2
> 
> 时间：2012-06-14T07:06:03.397
> 
> 标签：iphone, ios, spotlight

我想在我的 iPhone 应用程序中对应用程序进行 Spotlight 搜索。所以我可以在我的 iPhone 中获得特定的应用程序位置。在哪一页、哪一行、哪一列上不存在应用程序。

请建议我该怎么做。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:58:27.483

你不能。你的应用只知道它自己。

# java - 如何标记字符串

> ID：11028249
> 
> 赞同：-3
> 
> 时间：2012-06-14T07:06:28.860
> 
> 标签：java, regex

如何更改以下字符串？我需要添加空格，例如：

*   `"AnchorText"`至`"Anchor Text"`
*   `"anchortext"`至`"anchor text"`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T07:07:46.707

```
myString.replaceAll("(?i)(anchor)(text)", "$1 $2"); 
```

应该管用。不过，这并不是真正的代币化。

# javascript - 谷歌地图路线 mvcobject 得到一个单独的步骤

> ID：11028250
> 
> 赞同：2
> 
> 时间：2012-06-14T07:06:30.107
> 
> 标签：javascript, model-view-controller, google-maps-api-3

我正在使用方向服务通过谷歌地图 javascript api 获取方向。问题是我想获得单独的步骤，但让它们成为 mvc 对象的一部分，所以当你点击它们时，它们会在地图上呈现为默认值

```
directionsDisplay.setDirections(response); 
```

做。一些代码：

```
var directionsService = new google.maps.DirectionsService();
directionsDisplay.setMap(map);

var request = {
        origin : a,
        destination : b,
        travelMode : google.maps.DirectionsTravelMode.DRIVING
};

directionsService.route(request, function(response, status) {

    if (status == google.maps.DirectionsStatus.OK) {
                directionsDisplay.setDirections(response);
          //Instead of setting directions to a panel i want to 
          //set just one to a panel and yet have it link to the
          //map like the above does.
            }}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-19T19:58:32.970

这个想法是您必须遍历路线的每一段，然后遍历该段中的每一步，并呈现您自己的 HTML 来表示它。请参阅以下代码（假设您已定义`map`、`directionsDisplay`、 和`directionsService`和 a `request`）：

```
directionsService.route(request, function(response, status) {
  // Make sure the directions request was valid
  if (status == google.maps.DirectionsStatus.OK) {
    // Give the response to the directions display
    directionsDisplay.setDirections(response);

    // Display the route on the map
    directionsDisplay.setMap(map);

    // Grab the result from the routes
    var routeResult = response.routes[0];

    // Iterate over each leg of the route
    routeResult.legs.forEach(function(leg) {
      // Build HTML for each step
      var stepHTML = '';
      leg.steps.forEach(function(step) {
        stepHTML += '<div class="directionStep">'+
                  '<div>'+step.instructions+'</div>'+
                  '<div class="grey">'+step.distance.text+' ('+step.duration.text+')'+'</div>'+
                '</div>';
      });

      // Put the step HTML somewhere
      $('.steps').append(stepHTML);
    });
  }
}); 
```

然后，听听点击各个步骤的声音，然后做任何你需要做的事情来回应。

# ruby-on-rails - Heroku current_page？休息

> ID：11028251
> 
> 赞同：0
> 
> 时间：2012-06-14T07:06:35.377
> 
> 标签：ruby-on-rails, layout, heroku

我已经尝试了一切，但未能解决这个问题，所以我来到这里:)。我在本地完成了以下工作，但是由于某种原因，当我将其推送到 heroku 时它会中断。

我的 application.html.haml 模板：

```
%body
    = render :partial => 'layouts/topbar'
    - if user_signed_in?
      - if current_page?(url_for(:controller => 'posts', :action => 'index'))
        = render :partial => "layouts/flash_messages", :locals => {:flash => flash}
        = yield
        #go-top
          Scroll to Top
      - else
        .container.main
          = render :partial => "layouts/flash_messages", :locals => {:flash => flash}
          = yield
    - else
      .container.main
        = render :partial => "layouts/flash_messages", :locals => {:flash => flash}
        = yield 
```

有人可以指出我的错误吗？或者知道为什么这会破坏heroku？提前致谢。

编辑：

我正在使用 cedar stack 应用程序，并且在我的 heroku 日志中，尽管该路径确实存在：

```
2012-06-14T08:39:59+00:00 app[web.1]: Started GET "/user_root" for XXX.XX.XXX.XX at 2012-06-14 08:39:59 +0000
2012-06-14T08:39:59+00:00 app[web.1]: ActionController::RoutingError (No route matches {:controller=>"posts"}):
2012-06-14T08:39:59+00:00 app[web.1]:   app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml___40461595758832869_62063220'
2012-06-14T08:39:59+00:00 app[web.1]: Processing by HomeController#index as HTML
2012-06-14T08:39:59+00:00 app[web.1]: 
2012-06-14T08:39:59+00:00 app[web.1]:   Rendered layouts/_topbar.html.haml (3.6ms)
2012-06-14T08:39:59+00:00 app[web.1]: 
2012-06-14T08:39:59+00:00 app[web.1]: cache: [GET /user_root] miss
2012-06-14T08:39:59+00:00 app[web.1]:   Rendered home/index.html.haml within layouts/application (1.0ms)
2012-06-14T08:39:59+00:00 app[web.1]: Completed 500 Internal Server Error in 15ms 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T20:49:53.677

执行“heroku run rake routes”并确保确实有一条对应于 :controller => "posts" 和 :action => "index" 的路由。

不知道为什么这在两台机器上会有所不同，但您也可以比较本地运行的“rake routes”。如果不明显，可能值得将输出添加到您的问题中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:17:55.733

根据[文档](https://github.com/rails/rails/blob/fc092a9cba5fceec38358072e50e09250cf58840/actionpack/lib/action_view/helpers/url_helper.rb#L588)，您不需要 url_for 部分？

尝试：

```
if current_page?(:controller => 'posts', :action => 'index') 
```

# c++ - 使用 C++ 和 DirectX9 绘制变量的值

> ID：11028252
> 
> 赞同：0
> 
> 时间：2012-06-14T07:06:37.500
> 
> 标签：c++, directx, directx-9

如何使用 DirectX9 将变量的值绘制到屏幕上？我知道我可以使用 DrawText() 方法来绘制这样的文本：

```
m_pD3DFont->DrawText(0, "text", -1, &rect, DT_TOP | DT_RIGHT | DT_NOCLIP, D3DCOLOR_ARGB(255, 255, 255, 255)); 
```

但是我如何让它来绘制变量的值呢？具体来说，一个整数。我尝试将整数转换为字符串，但随后出现错误消息

> 无法将参数 2 从“std::string *”转换为“LPCWSTR”

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:14:43.580

To convert integers to strings, strings to integers and so on you may use `std::stringstream` like that

```
std::stringstream ss;
std::string s = "123";
ss << s;
int result; 
ss >> result; 
```

More information here [http://cplusplus.com/reference/iostream/stringstream/](http://cplusplus.com/reference/iostream/stringstream/)

Or you can use `std::wstringstream` and `std::wstring` if you need Unicode-strings for your application.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-10T20:53:01.940

As the previous poster mentioned, you can use stringstreams to convert ints to strings and vise versa, but with C++11 there are some new features that eliminate the need to do this. You can use std::to_string or std::to_wstring to convert ints to strings or wstrings, and you can use c_str() to get the raw char* or wchar_t* from the string object. You should be able to convert the appropriate type of pointer to your winapi string, but some can depend on your compiler's settings.

For your reference, here's what the winapi strings mean:

```
LPSTR = char*
LPCSTR = const char*
LPWSTR = wchar_t*
LPCWSTR = const wchar_t*
LPTSTR = char* or wchar_t* depending on _UNICODE
LPCTSTR = const char* or const wchar_t* depending on _UNICODE 
```

And here is a quick sample of how to assign them to C++ strings:

```
#include <iostream>
#include <string>
#include <Windows.h>
#include <tchar.h>

int main()
{
    // Declare winapi strings
    LPSTR str_charPtr;
    LPCSTR str_constCharPtr;
    LPWSTR str_wcharPtr;
    LPCWSTR str_constWcharPtr;
    LPTSTR str_tcharPtr;
    LPCTSTR str_constTcharPtr;

    // Declare a test integer
    int num = 5001;

    // Convert the integer to a string and to a wstring
    std::string regString = std::to_string(num);
    std::wstring wideString = std::to_wstring(num);

    // Attempt to assign the winapi strings to the C++ standard strings
    str_charPtr = const_cast<char*>(regString.c_str());         // NOTE: removing const to store in non-const LPSTR
    str_constCharPtr = regString.c_str();
    str_wcharPtr = const_cast<wchar_t*>(wideString.c_str());    // NOTE: removing const to store in non-cost LPWSTR
    str_constWcharPtr = wideString.c_str();
    str_tcharPtr = const_cast<TCHAR*>(regString.c_str());       // Error if set to Unicode
    str_tcharPtr = const_cast<TCHAR*>(wideString.c_str());      // Error if NOT set to Unicode
    str_constTcharPtr = regString.c_str();                      // Error if set to Unicode
    str_constTcharPtr = wideString.c_str();                     // Error if NOT set to Unicde

    return 0;
} 
```

If you've moved on to Visual Studio 2012 by now, you can adjust your settings like so:
1\. Right-click the project in the solution explorer.
2\. Click on Properties.
3\. In the left pane under Configuration Properties, select General
4\. In the right pane, look in the Project Defaults section.
5\. Next to Character Set, choose Unicode or whichever option is appropriate for you.

# delphi - 如何在 Delphi IDE 中观察/检查字符串列表范围？

> ID：11028259
> 
> 赞同：3
> 
> 时间：2012-06-14T07:07:03.400
> 
> 标签：delphi, range, tstringlist

我经常发现自己在调试字符串列表的一部分中发生的事情，例如数据在 StringList[StartOfBlock] 到 StringList[EndOfBlock] 范围内被操作。该范围内的一个或多个变量索引可能可用，我可以快速检查或观察，例如 StringList[LineNum]，但检查 StartBlock/Endblock 范围内的相邻字符串很麻烦。我可以在 StringList[LineNum+1] 上添加另一个手表，或者在 Ctrl-F7 检查器中修改表达式，但工作量很大；-(

我希望在 IDE 中永久显示 StringList[StartOfBlock] 到 StringList[EndOfBlock]。（如果该视图在 StartOfBlock/EndOfBlock 更改时发生更改，或者该视图可以刷新，那将是非常好的。）

我将如何在 IDE 中构建一些东西来实现这一点？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-14T07:57:34.077

创建一个全局函数：

```
function GetLines(AList: TStrings; AStart, AEnd: Integer): string;
var
  I: Integer;
begin
  Result := '';
  for I := AStart to AEnd do
    if I < AList.Count then
      Result := Result + AList[I] + sLineBreak;
end; 
```

您可以观看此函数：GetLines(StringList, StartOfBlock, EndOfBlock) 但在观看设置中启用函数执行（允许函数调用复选框）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-14T11:56:19.960

对于 Delphi 版本 2010 及更高版本，您可以使用调试可视化工具来完全满足您的需求。已经内置了 TStrings 可视化工具。有关更多信息，请参见[此处](http://edn.embarcadero.com/article/40268)

# javascript - 在网页中打印多个选定的图像

> ID：11028261
> 
> 赞同：2
> 
> 时间：2012-06-14T07:07:15.350
> 
> 标签：javascript, image, printing, web

我的问题是我正在为朋友设计一个网站。我所做的是设置一个缩略图列表，每个缩略图下面都有一个按钮，可以在新窗口中打开相应的图像，打印它，然后关闭窗口。Now he's decided that he wants checkboxes next to the thumbnails that when selected, a button click will print all selected images. 这可能吗？如果是这样，有人可以向我解释一下吗？谢谢你的时间。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-14T21:02:22.533

这是您可以通过多种可能方式执行此操作的一种方式：

**第一步**：制作一个表格围绕所有内容并在表格内部，在每个图像旁边或下方放置一个带有唯一 ID 的复选框，我们可以使用它来识别它是哪一个，例如

```
<input type="checkbox" id="imageNumber3"/> 
```

以便稍后您可以使用 id 来判断图像的含义。阅读[表格和复选框](http://www.w3schools.com/html/html_forms.asp)。

**第二步**：创建一个javascript函数来获取当前选中的复选框，如下所示

```
function getChecked(form) {
    var names;
    var c = document.getElementById(form).getElementsByTagName('input');
    for (var i = 0; i < c.length; i++) {
        if (c[i].type == 'checkbox' && c[i].checked) {
             names.append(c[i].id);
        }
    }
    return names;
} 
```

当你给它提供复选框所在表单的 id 时，这个函数应该遍历并检查每个框以查看它是否被选中。它将构建一个已选择的 id 数组并返回该数组。

**第三步**：创建一个新的打印函数，当按钮被点击时调用，像这样

```
function printBunch(ids) {
    var windowUrl = 'about:blank';
    var uniqueName = new Date();
    var windowName = 'Print' + uniqueName.getTime();

    var printWindow = window.open(windowUrl, windowName, 'left=50000,top=50000,width=0,height=0');

    for(id in ids) {
        //assuming the image will be the next sibling of the checkbox
        var currentImage = document.getElementById(id).nextSibling.innerHTML;
        printWindow.document.write(currentImage);
    }
    printWindow.document.close();
    printWindow.focus();
    printWindow.print();
    printWindow.close();
 } 
```

然后对于按钮的点击输入“printBunch(getChecked());” 传递已检查图像的 id。您可能需要更改一些代码，具体取决于您如何设置与复选框相关的图像，但这应该可以帮助您入门。

# php - 语法错误，第 3170 行 /pathToFile 中的意外 $end

> ID：11028262
> 
> 赞同：0
> 
> 时间：2012-06-14T07:07:17.423
> 
> 标签：php, syntax-error

每当我将文件上传到服务器时，都会出现上述错误，但我在本地没有看到任何错误。我什至替换了所有代码以再次上传文件，但我遇到了同样的错误。

```
if( in_array(31, $booked_seats)) {
  echo '<input type="checkbox" disabled="disabled"  checked="checked" class="chkbx" style="margin-right:5px; margin-left: 10px; margin-bottom: 5px;" /> ';
} else {
  echo '<input name="book[]" type="checkbox" value="31"  class="chkbx" style="margin-right:5px; margin-left: 12px; margin-bottom: 5px;" /> ';
} //line number 3170 
```

# c++ - 如何在 QListWidget 项目中使用不同的图标

> ID：11028264
> 
> 赞同：1
> 
> 时间：2012-06-14T07:07:20.643
> 
> 标签：c++, qt, qlistwidget

我有一个`QListWidget`由不同项目填充的。每个项目都由图标装饰。

是否可以更改特定项目的图标宽度？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T20:11:46.720

您可能希望将 QListView 与您的自定义模型（继承自 QAbstractListModel）一起使用，其中在模型类的 data() 方法中，您为 Qt::Decoration 角色返回相应的图标（可以是任意大小）。

# api - 如何在 Twitter 状态更新中嵌入 iframe

> ID：11028265
> 
> 赞同：3
> 
> 时间：2012-06-14T07:07:21.553
> 
> 标签：api, iframe, twitter, embed

在[kickstarter.com](http://kickstarter.com)上，当您在 Twitter 上发布一个项目时，该推文包含一个 iframe，其中嵌入了媒体内容中的一些 Kickstarter 项目详细信息，例如：

[https://twitter.com/asfaltboy/status/211421708639416322](https://twitter.com/asfaltboy/status/211421708639416322)

要重新创建这样的推文，请转到[某些 ks 页面](http://www.kickstarter.com/projects/texmurphy/tex-murphy-project-fedora)并单击视频下方的“推文”链接。推文内容似乎是一些带有**项目页面链接的**简单文本。

这可能意味着 iframe 内容在该页面的某些元标记中被引用..但我一生都无法弄清楚它是哪个元标记...

如何才能做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-14T11:22:05.770

它们被称为*Twitter 卡片*。你推一个链接到你的页面，Twitter 蜘蛛可以在其中找到卡片的数据：`<meta property="twitter:card" content="...`

[https://dev.twitter.com/docs/cards](https://dev.twitter.com/docs/cards)

但是根据文档，`Twitter Cards will only render for domains which have been whitelisted by Twitter.`如果您的网站足够大并且内容质量很高，那么您可能会被列入白名单。

# c++ - 如何使用特定过滤器从其他向量制作 std::vector？

> ID：11028266
> 
> 赞同：18
> 
> 时间：2012-06-14T07:07:23.430
> 
> 标签：c++, stl, vector, objective-c++

我有一个`std::vector`装满对象。我想过滤和复制某些谓词返回`true`的所有元素到一个新的`std::vector`.

我看过`find`and`search`函数，但它们只返回迭代器。

我正在使用*ObjC++*，所以如果有帮助的话，我可以使用块函数和仿函数。虽然不能使用 C++11 函数。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-06-14T07:18:12.270

如果您有 C++11 ，请`std::copy_if`按照 Eugen 的回答中的建议使用。否则，您可以使用[std::remove_copy_if 并对](http://en.cppreference.com/w/cpp/algorithm/remove_copy)谓词的逻辑进行适当修改。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-06-14T07:09:51.810

您可以使用 std::copy_if 方法。见[这里](http://en.cppreference.com/w/cpp/algorithm/copy)。

# linq - scala slick 有多成熟？

> ID：11028268
> 
> 赞同：5
> 
> 时间：2012-06-14T07:07:31.577
> 
> 标签：linq, scala

我一直在寻找一些使用 Scala 访问数据库的语言集成方法，我遇到了[slick](https://github.com/slick/slick)。它看起来很漂亮，呃，光滑，但我很好奇它的成熟度。我看到它有各种各样的数据库后端实现，这很酷，但是抽象多久可能会泄漏（每个数据库抽象都会泄漏）？

换一种说法，您是否会将其作为向您的老板进行数据库访问的首选方式？如果是这样，音高会是什么，否则为什么不呢？

理由：我认为 .NET 的 LINQ 很酷，Scala 也很酷。一个人能有效地两者兼得吗？

# php - 通过php检索json yql数据

> ID：11028270
> 
> 赞同：0
> 
> 时间：2012-06-14T07:07:43.397
> 
> 标签：php, json, object, yql

我正在努力从存储在 php 变量中的这个 json 中提取必要的数据。还不是这种数据结构的专家...

想知道任何人都知道如何使它工作。

我需要遍历结果，然后读取每个联系人以获得 1\. type=email 的值 2\. value->givenName where type=name （只要元素存在）

json解码值如下

```
$aNative   = json_decode($retval);

echo "lang: " . $aNative->query->lang . "<br>"; (works)    

(when go deeper, fail to retrieve any value...)

echo "created: " .  $aNative->results->contact[0]->created . "<br>";

foreach($aNative->$query->results as $contact)
{
    echo $contact->id;
    echo $contact->fields[0]->type;

    if($contact->fields[0]->type=="email")
    {
        echo $contact->fields[0]->value;
    }

} 
```

完整的json：

```
{
   "query":{
      "count":10,
      "created":"2012-06-13T09:13:45Z",
      "lang":"en-US",
      "results":{

         "contact":[

            {
               "created":"2006-10-29T04:32:07Z",
               "updated":"2006-10-29T04:32:07Z",
               "uri":"http://social.yahooapis.com/v1/user/BNQJOMYDQYLY2FZSMROV4QDA6MI/contact/14",
               "isConnection":"false",
               "id":"14",
               "fields":{
                  "created":"2006-10-29T04:32:07Z",
                  "updated":"2006-10-29T04:32:07Z",
                  "uri":"http://social.yahooapis.com/v1/user/BNQJOMYDQYLY2FZSMROV4QDA6MI/contact/14/email/11",
                  "id":"11",
                  "type":"email",
                  "value":"angBB@gmail.com",
                  "editedBy":"OWNER"
               }
            },            

            {
               "created":"2006-10-29T04:32:07Z",
               "updated":"2006-10-29T04:32:07Z",
               "uri":"http://social.yahooapis.com/v1/user/MNQJOMYDQYLY2FZSMROV4QDA6MI/contact/12",
               "isConnection":"false",
               "id":"12",
               "fields":[
                  {
                     "created":"2006-10-29T04:32:07Z",
                     "updated":"2006-10-29T04:32:07Z",
                     "uri":"http://social.yahooapis.com/v1/user/MNQJOMYDQYLY2FZSMROV4QDA6MI/contact/12/email/6",
                     "id":"6",
                     "type":"email",
                     "value":"jaq@lifemastr.com",
                     "editedBy":"OWNER"
                  },
                  {
                     "created":"2006-10-29T04:32:07Z",
                     "updated":"2006-10-29T04:32:07Z",
                     "uri":"http://social.yahooapis.com/v1/user/MNQJOMYDQYLY2FZSMROV4QDA6MI/contact/12/name/5",
                     "id":"5",
                     "type":"name",
                     "value":{
                        "givenName":"'Jaq'",
                        "middleName":null,
                        "familyName":null,
                        "prefix":null,
                        "suffix":null,
                        "givenNameSound":null,
                        "familyNameSound":null
                     },
                     "editedBy":"OWNER"
                  }
               ]
            } 

         ]
      }
   }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:30:48.263

你已经忘记了`query`。例如，您必须以这种方式访问​​结果：

```
$aNative->query->results->contact[0]->created 
```

并查看您试图多次访问错误属性的整个代码。例如在 foreach 中你应该使用`$aNative->query->results->contact`而不是`$aNative->results`因为`results`它是一个对象而不是数组。

# mongodb - 在 mongodb 中，单键的 mapReduce 是否比 2 或 3 个键的 mapReduce 快？

> ID：11028273
> 
> 赞同：-1
> 
> 时间：2012-06-14T07:08:01.853
> 
> 标签：mongodb, mapreduce, key

在 mongodb 中，单键的 mapReduce 是否比 2 或 3 个键的 mapReduce 快？我有这个疑问，因为无论如何我们需要 O(n) 来映射它们，其中 n 是集合的大小

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T15:14:02.480

您是指具有多个发射的 mapReduce，还是具有像 { x : 1, y : 1 } 这样的复合键的 mapReduce？每个 doc 发出多个键可以使 reduce 阶段稍长一些，因为有更多的数据要组合。复合发出的密钥会使发出的数据更大，因此会有存储（和网络）开销。

# android - 如何使用 Android 内核录制通话？

> ID：11028275
> 
> 赞同：0
> 
> 时间：2012-06-14T07:08:17.000
> 
> 标签：android

> **可能重复：**
> [Android 记录来电和去电](https://stackoverflow.com/questions/6688444/android-recording-incoming-and-outgoing-calls)

我已经搜索了很多关于它的信息，并且我知道 Google 没有提供任何用于记录通话的 API，而且它的支持也不多。但我仍然在 android 市场上看到很多通话记录器应用程序。我在某处读到他们为这些应用程序使用内核。我也在尝试创建一个用于记录通话的应用程序（当然不是在麦克风上）。那么有人可以告诉我这是否可能吗？如果可能的话，那么下载和安装 android 内核源代码的步骤是什么？我们将如何为我们的特定应用程序实现其中的更改？

# javascript - 校验列获取计数

> ID：11028281
> 
> 赞同：1
> 
> 时间：2012-06-14T07:08:37.873
> 
> 标签：javascript, extjs, checkbox

在表格列中，我有复选框，它可以指示我是否对其进行了任何更改，我想显示在消息文本中所做的更改。例如（000 个未保存的更改）。我用过 xtype:'checkcolumn'。如何计算我在复选框中所做的更改。

```
{
            xtype: 'checkcolumn',
            header: 'Select',
            align:'center',
            dataIndex: 'mapped',
            flex:1,
            listeners : 
                        {
                            checkchange : function(column, recordIndex, checked) 
                                        {
                                            alert(checked);
                                            //or send a request
                                        } 
                        }

        }, 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:26:08.297

您可以尝试使用这四种存储方法：

*   [getModifiedRecords()](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.AbstractStore-method-getModifiedRecords) - 获取自上次提交以来添加或更新的所有记录。列
*   [getNewRecords( )](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.AbstractStore-method-getNewRecords) - 获取所有新记录。
*   [getUpdatedRecords( )](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.AbstractStore-method-getUpdatedRecords) - 返回已在 Store 中更新但尚未与 Proxy 同步的所有模型实例。
*   [getRemovedRecords( )](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.AbstractStore-method-getRemovedRecords) - 返回已从存储中删除但尚未在代理上销毁的任何记录。

也许是这样的：

```
var store = Ext.getStore('yourStore'),
    modified = store.getUpdatedRecords(),
    count = modified.lenght;
console.log(count + ' changes made'); 
```

# netty - Netty - 简单的线程交错与否

> ID：11028284
> 
> 赞同：0
> 
> 时间：2012-06-14T07:08:42.617
> 
> 标签：netty

我有一个关于可能的线程交错的问题，但我在这里可能错了。我将此代码段称为

处理上游（ChannelHandlerContext ctx，ChannelEvent 事件）

```
 private AtomicInteger metrics = new AtomicInteger();

    if ( metrics.getAndSet( metrics.get() + 1 ) < 3 ){
        mc.writeInt( readableBytes );
        System.out.format( "Bytes [%d] ", readableBytes );
        mc.writeLong( latency );
        System.out.format( "Latency [%d]%n ", latency );
    } 
```

看起来有时写入会变得混乱。当我回读时，它们是错误的，打印语句也有问题。这些方法正在写入 NIO 直接缓冲区。

我应该在这里使用一些 java.util.concurrency 功能来强制执行订单吗？

谢谢。

# c#-4.0 - 使用c#从网络服务器获取大文件的最佳方法是什么

> ID：11028285
> 
> 赞同：0
> 
> 时间：2012-06-14T07:08:51.807
> 
> 标签：c#-4.0

嗨，我有一个从服务器获取文件并从目录中预测未使用文件的规范，在这种情况下，我将从服务器获取文件，它将返回巨大的文件，问题是我在使用时 CPU 使用率会增加获取大文件，所以我想消除这种情况。任何人都知道如何避免这种情况，请与我分享，尽管它可能对我有帮助。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:32:38.470

您可以将服务器上的大文件拆分为几个较小的部分，并获取一些关于片段数量、大小等的元数据，然后从客户端代码中逐个获取它们，`c#`然后以二进制模式将片段连接到较大的文件中。

# java - 如何使用 java 邮件和 servlet 发送提醒？

> ID：11028287
> 
> 赞同：3
> 
> 时间：2012-06-14T07:09:05.813
> 
> 标签：java, servlets, outlook, jakarta-mail

是否可以使用 Outlook 之类的 java 邮件发送提醒？

我只想向用户发送一封邮件，如果用户没有对此做出反应，大约一周后，提醒必须在一周左右后发送。

如何在 java 邮件中执行此操作，或者是否有任何其他方式或机制可以执行此操作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T07:16:28.683

您应该使用调度程序来触发邮件发送事件。

看看[石英](http://quartz-scheduler.org/community)它是一个很好的调度程序。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T07:48:11.630

您可以发送 iCalendar [VEVENT](https://www.rfc-editor.org/rfc/rfc5545#section-3.6.1)附件。Outlook 应将此视为提醒。

# liferay - 如何在 liferay 中创建我们自己的 portlet

> ID：11028290
> 
> 赞同：2
> 
> 时间：2012-06-14T07:09:15.617
> 
> 标签：liferay, liferay-6, liferay-ide

请简要描述我如何使用 eclipse ide 创建 portlet 并将它们添加到 liferay 中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-26T07:04:03.907

文件->新建->Liferay项目->输入名称![在此处输入图像描述](../Images/f0c671ad0657cc52be71a6cf2adb5502.png)

![在此处输入图像描述](../Images/171b3c71624150cb3c16406fd6f6beac.png)

![在此处输入图像描述](../Images/926112f29419c0cf8c0129579574de1e.png)

![在此处输入图像描述](../Images/7ba25ace0135592490ef94ccd25c7fcf.png)

单击 ok 它将显示项目，然后转到 docroot/WEB-INF/src 在此处创建一个 portlet ![在此处输入图像描述](../Images/bd477708dd99752f3cdae14f3e38a61e.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T05:25:59.977

您可以在 Eclipse 中安装[Liferay IDE](http://www.liferay.com/community/wiki/-/wiki/Main/Liferay+IDE)（作为插件提供），可以从[这里](http://www.liferay.com/downloads/liferay-projects/liferay-ide)下载。

然后像创建普通 Eclipse 项目一样创建 Liferay 项目，方法是转到 File --> New --> Liferay Project --> 将打开一个窗口，询问您需要在其中创建哪种项目liferay（portlet、钩子、主题、ext、布局等）。

更多链接可帮助您开始使用 Liferay IDE：

*   [Liferay IDE 安装指南](http://www.liferay.com/community/wiki/-/wiki/Main/Liferay+IDE+Installation+Guide)
*   [Liferay IDE 入门](http://www.liferay.com/community/wiki/-/wiki/Main/Liferay+IDE+Getting+Started+Tutorial)

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T08:50:05.360

很简单，请看截屏视频：

![在此处输入图像描述](../Images/046b9e0423bf463ff4b87bdb0089284d.png)

# java - 如何在java中检查数据库表的权限？（数据库独立）

> ID：11028292
> 
> 赞同：0
> 
> 时间：2012-06-14T07:09:26.270
> 
> 标签：java, database, permissions

有谁知道（在java中）检查用户对特定表的权限的方法？它必须在大多数数据库上工作。SELECT 权限很容易检查（只是尝试执行一个简单的 SELECT 语句），但是如何检查 INSERT 权限呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:16:37.337

You can use the `DatabaseMetaData` to get this information. It should work in most cases. However, it might be inaccurate in special cases, if the privileges can not be represented in this abstract way:

```
DatabaseMetaData metaData connection.getMetaData();
metaData.getTablePrivileges();
metaData.getColumnPrivileges(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:26:23.977

虽然不是直接的解决方案，但我想到的唯一选择是使用 TRY CATCH 块，发出 INSERT 语句，然后检查 java.sql.SQLException 对象中的错误消息，以防出现异常。

# java - 为什么像布尔等包装类的对象直接取值而不初始化但对象的属性是不允许的？

> ID：11028293
> 
> 赞同：-3
> 
> 时间：2012-06-14T07:09:27.503
> 
> 标签：java

为什么像 Boolean 等包装类的对象直接取值而不初始化但不允许对象的属性？
代码：

```
class TestByte{ 
   public static void main(String[] a) { 
      Byte b=125; System.out.println(b);
   }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:38:54.473

好吧，Abhishek，构造器初始化对象的目的是做任何准备工作以使该对象生效。由于包装类和 String 只保存数据，初始化它们的唯一准备是为它们提供必要的值。所以，我们实际上不需要为它们调用**new**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:27:15.213

你的意思是为什么你可以使用方法而不是通过使用 Byte b = 25 而不是将 Byte 对象显式初始化为 Byte b = new Byte(25) 而从包装类对象中抛出 NullPointerException ？

好吧，如果您确实是这个意思，那是因为从 java 1.5 开始，可以在不显式实例化对象的情况下将值分配给 Wrapper 引用。这称为自动装箱，它隐式创建包装对象实例并为其分配值。

这样：`Byte b = 25`它与 相同`Byte b = new Byte(25)`。如果您分配一个字节范围内的值，则拳击版本会影响比较包装器值的结果。

# java - 推特 API 调用 500 错误

> ID：11028296
> 
> 赞同：-1
> 
> 时间：2012-06-14T07:09:48.990
> 
> 标签：java, api, exception, twitter, urlconnection

当 Twitter API 出现“HTTP 错误 500 内部服务器”错误时如何处理 URL 连接异常。所以如何处理它。我已经在核心 java 类中编码了这段代码，并为 Twitter API 调用制作了一个包。

```
import java.net.*; 
import java.io.*;

public class getTwitterData {

    public static URLConnection connection;

    public static void main(String[] args) {

        try {
        System.out.println("Hello World!"); // Display the string.
            try {
            URLConnection connection = new URL("Twitter API call ").openConnection();
            InputStream response = connection.getInputStream();
            System.out.println(response);

            }
        }catch(IOException ex) {}
    }    
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:22:26.503

response 将具有 http 响应代码，如果您愿意，可以对每个响应代码进行不同的处理。

# svn - 尝试连接到 SVN 存储库时出错

> ID：11028299
> 
> 赞同：4
> 
> 时间：2012-06-14T07:10:02.363
> 
> 标签：svn, repository

当我尝试连接到某个远程服务器上的 SVN 存储库时，我收到错误消息。

> 无法连接到存储库 URL 'svn://path/to/my/repository/'。无法连接到主机。由于目标机器主动拒绝，无法建立连接。

有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-14T23:03:15.693

Subversion 使用几种*方法*与 Subversion 服务器通信：

*   使用 httpd
*   使用 svnserve
*   直接文件访问。

所以，我们需要知道的第一件事是您如何与您的 Subversion 存储库通信？你设置了吗？如果你这样做了，你`svnserve`是为了充当服务器而运行吗？或者，您是否将 Apache httpd Web 服务器配置为 Subversion 存储库服务器？如果不是你设置的，是谁设置的？

让我们来看看基础知识：

## 文件访问

您使用命令在 /usr/share/svn/repository 中创建了 Subversion 存储库`svnadmin create`。你没有做任何其他事情。在这种情况下，您可以通过以下方式访问您的存储库：

```
$ svn co file:///usr/share/svn/repository 
```

请注意，URL 协议是`file://`而不是`svn://`.

## SVNSERVE 访问

假设您的存储库位于机器*alpha上，而**alpha*上只有一个存储库

 *URL 的格式为：

```
$ svn co svn://alpha 
```

请注意，协议是`svn://`，协议之后的第一件事是机器名称。这`svnserve`是一个用于 Subversion 存储库的简单、易于设置和快速的服务器。即使我可以使用它，我也会使用它，`file://`因为我不必每次都提供完整的路径名。

如果您设置了自己的 Subversion 存储库，则可以使用`svnserve`来运行它。它默认使用端口 3690，并且只有一个`svnserve`实例可以在使用该端口的机器上运行（您可以更改端口，但它很乱，我现在不想进入）。

要使用 svnserve 服务器，您需要做一些非常小的事情：

*   **设置`svnserve.conf`文件**：在您的存储库下是一个名为`conf`. 在这个目录中有一个名为`svnserve.conf`. 您需要找到以开头的行`passed`并删除该行前面的磅符号（又名锐器或八角形）：它在第 20 行附近。

只是改变：

```
### password-db = passwd 
```

到：

```
password-db = passwd 
```

*   **设置`passwd file:** In the same directory as the`svnserve.conf`file is another file called`密码`. Edit this file, to include an account for you. There's two examples in the file for`harry `and`sally`。为你创造一个。这将是您的用户名（无空格）和密码。当您在 Subversion 中签出或提交文件时，您将使用它。

## http访问

您可以设置一个 Apache httpd Web 服务器（Internet 上最流行的 Web 服务器）也用作 Subversion 服务器。这是一个复杂的过程，我不会在这里讨论。但是，如果有人为您设置了它，则该 URL 将分为几个部分：

*   协议`http://`声明
*   服务器的名称
*   仓库使用的虚拟目录（可以有多个仓库）
*   您要签出的目录。

假设这台机器名为*alpha*，并且您想从`foo`项目的存储库中签出：

```
$ svn co http://alpha/foo/trunk 
```

我强烈建议您编辑您的问题并包含更多详细信息。例如，您的 Subversion 存储库位于何处？它在您当前的系统上吗？您是否设置了 Subversion 存储库，还是管理员为您设置了？向我们展示您收到的确切命令和错误消息。

否则，您的问题可能会被关闭。有关更多信息，请参阅 Stackoverflow[常见问题解答](https://stackoverflow.com/faq)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-14T14:12:27.357

实际上我的 SVN 服务没有运行。所以由于这个服务器没有响应。*

# c# - WPF DependencyProperty 未在 WPF UserControl (ElementHost) 中更新

> ID：11028307
> 
> 赞同：1
> 
> 时间：2012-06-14T07:10:48.690
> 
> 标签：c#, .net, wpf, winforms, office-interop

我构建了一个 Office 2010 Word 插件，向其中添加了一个 Windows 窗体元素，并在包含我的 WPF 的 ElementHost 对象中添加了一个。

这就是问题所在：我遇到了问题，在 Xaml 代码中定义并在 ViewModel 实现中设置的公共属性（DP）没有更新（参见下面的代码），即使我在调试时找不到任何错误代码。这仅适用于我得到的属性，此外，我得到了一些 ObservableCollection<> 列表，它们的更新没有任何问题。有人有想法吗？我认为我可以在代码中自己定义属性，如下所示：

```
public static readonly DependencyProperty DataSourceProperty = DependencyProperty.Register("DataSource",typeof(string),typeof(usercontrol1)); 
```

但这也不起作用（例如，我刚刚将此行添加到 Xaml 文件的代码隐藏文件中 - 并留下了其他任何内容）

我的代码看起来是这样的：

Forms 元素的构造函数（它实际上是私有的，因为我将它实现为 Singleton）：

```
private Sidebar()
{
    InitializeComponent();
    this.DoubleBuffered = true;

    _wpfHost = new ElementHost();
    _wpfHost.Dock = DockStyle.Fill;

    _wpfUserControl = new WPFUI();

    _wpfHost.Child = _wpfUserControl;

    this.Controls.Add(_wpfHost);
} 
```

此外，我创建了一个底层 ViewModel 并将其设置为 WPFUI 的 DataContext 属性，就像这样（它也是一个单例实现，因为我想在进一步的实现中从多个地方访问同一个实例，但此时这不会进入游戏):

```
public WPFUI()
{
    InitializeComponent();

    this.DataContext = myViewModel.GetInstance();
} 
```

我的 ViewModel 属性是这样定义和使用的：

```
public ObservableCollection<myListViewItem> PeopleEntityResultObjects { get; private set; }

private string _NumberOfPeople;
public string NumberOfPeople
{
    get { return _NumberOfPeople; }
    set { SetField(ref _NumberOfPeople, value, () => NumberOfPeople); }
} 
```

最后 Xaml 看起来像这样：

```
<TabControl>
    <TabItem>
        <TabItem.Header>
            <StackPanel Orientation="Horizontal">
                <TextBlock Text=" People "/>
                <TextBlock Text="{Binding Path=NumberOfPeople}"/>
            </StackPanel>
        </TabItem.Header>

        <ScrollViewer x:Name="PeopleListScrollViewer">
            <ListView Name="PeopleListView" ItemsSource="{Binding Path=PeopleEntityResultObjects, Mode=OneWay}" IsSynchronizedWithCurrentItem="True">
            .
            .
            .
            </ListView>
        </ScrollViewer>
    </TabItem>
</TabControl> 
```

为什么我的 ObservableCollection<> 列表更新但没有绑定属性

```
<TextBlock Text="{Binding Path=NumberOfPeople}"/> 
```

? 谁能猜到，或者我错过了一些基本的属性定义？（在 wpf 应用程序中它以这种方式工作）。

*编辑*

SetField() 实现：

```
protected virtual void OnPropertyChanged<T>(Expression<Func<T>> selectorExpression)
{
    if (selectorExpression == null)
        throw new ArgumentNullException("selectorExpression");

    MemberExpression body = selectorExpression.Body as MemberExpression;

    if (body == null)
        throw new ArgumentException("The body must be a member expression");

    OnPropertyChanged(body.Member.Name);
}

protected virtual void OnPropertyChanged(string propertyName)
{
    PropertyChangedEventHandler handler = PropertyChanged;

    if (handler != null) 
        handler(this, new PropertyChangedEventArgs(propertyName));
}

protected bool SetField<T>(ref T field, T value, Expression<Func<T>> selectorExpression)
{
    if (EqualityComparer<T>.Default.Equals(field, value)) return false;

    field = value;

    OnPropertyChanged(selectorExpression);

    return true;
} 
```

问候，托马斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:36:25.020

1) 检查您的输出窗口是否存在绑定错误。（虽然它们在我看来还不错）

2) My immediate thought would be that `PropertyChanged` events are not being raised properly by your ViewModel. Can you show the implementation of `SetField()`? I assume it's some wrapper for removing the magic strings inherent in `INotifyPropertyChanged`?

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-21T14:27:19.167

using the dispatcher object, already used to insert item's into the UI bound list, is the key to accomplish this task successfully:

```
if (DispatcherObject.Thread != Thread.CurrentThread)
    DispatcherObject.Invoke(new Action(() => SetField(ref _numberOfPeople, value, () => NumberOfPeople)));
else
    SetField(ref _numberOfPeople, value, () => NumberOfPeople); 
```

# gtkmm - gtkmm - 来自 gtk::appchooserdialog 的错误消息

> ID：11028309
> 
> 赞同：1
> 
> 时间：2012-06-14T07:10:53.037
> 
> 标签：gtkmm

这是代码..

```
Glib::RefPtr<Gio::File> file = Gio::File::create_for_path(filepath);
Gtk::AppChooserDialog *dialog = new Gtk::AppChooserDialog(file, *this);

if ( dialog->run() == Gtk::RESPONSE_OK ) {
    Glib::RefPtr<Gio::AppInfo> appinfo = dialog->get_app_info();
    appinfo->launch(file);
}
dialog->hide(); 
```

这是我在执行上述代码时收到的消息..

```
glibmm-WARNING **: Glib::ConstructParams::ConstructParams(): object class "gtkmm__GtkAppChooserDialog" has no property named "file" 
```

我可能在这里犯了一个愚蠢的错误。谁能帮我这个？提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T20:35:07.487

好吧，在 gtk-3.0 中，没有名为“file”的 GtkAppChooserDialog 属性，但有一个名为“gfile”的属性。这似乎是[gtkmm 包装](http://git.gnome.org/browse/gtkmm/tree/gtk/src/appchooserdialog.ccg)中的一个错误，其中“文件”在适当的 _CONSTRUCT() 调用中应该是“gfile”（当前为第 38 和 44 行），但我没有足够的包装理解来确定。如果这是问题所在，我看不到不修补 gtkmm 的简单解决方法。

**更新**：这是包装中的[一个错误](http://git.gnome.org/browse/gtkmm/commit/gtk/src/appchooserdialog.ccg?id=70d92a106ab7aea5f25fcc0ee69edc181ef8a157)。

# google-chrome - 微软阻止 chrome 和 firefox 吗？

> ID：11028311
> 
> 赞同：1
> 
> 时间：2012-06-14T07:10:57.753
> 
> 标签：google-chrome, firefox, cross-browser

以下链接仅在 Internet Explorer 上不适用于 Firefox 或 Chrome

*   [http://visualstudiogallery.msdn.microsoft.com/60297607-5fd4-4da4-97e1-3715e90c1a23](http://visualstudiogallery.msdn.microsoft.com/60297607-5fd4-4da4-97e1-3715e90c1a23)

*   [http://msdn.microsoft.com/en-us/library/aa287992%28v=vs.71%29.aspx](http://msdn.microsoft.com/en-us/library/aa287992%28v=vs.71%29.aspx)

有谁知道如何规避这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-17T06:08:35.743

尝试清除浏览器缓存。

# debugging - 以具有良好查看器支持的格式存储调试数据

> ID：11028313
> 
> 赞同：1
> 
> 时间：2012-06-14T07:11:08.810
> 
> 标签：debugging, logging, dataformat

我想在我的 Python 程序中包含各种调试输出。概要信息和一些变量应保存在文件中以供以后检查。这将处于不同的级别，直到循环中非常冗长的输出（这就是为什么简单的日志记录是不够的）。并且可能是大型表的更大数据转储。为了调试错误，我想在程序运行后检查程序的不同数据状态。我想过滤条目（例如我的模块）并为每个模块选择所需的详细级别。

您是否知道一种好的数据格式（即存储不同的详细级别并能够选择一个；转储数据表）？也许一个支持树视图并拥有一个现成的漂亮查看器。树视图可能与模块和方法名称相关，但也欢迎其他想法。

# python - 如何将python项目部署到没有安装一些第三方库的环境中？

> ID：11028318
> 
> 赞同：3
> 
> 时间：2012-06-14T07:11:42.747
> 
> 标签：python, deployment, egg

我有一个使用一些第三方库的项目。我的问题是如何将我的项目部署到没有安装这些第三方库的环境中。在 Java 中，我可以将所有 jars 放在“lib”目录中并编写一个引导 shell 脚本，将 CLASSPATH 设置为包含 jars。我想要一个像这样干净的解决方案，这样对环境的影响很小。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T08:43:11.850

要创建隔离的 python 环境，您可以尝试[virtualenv](http://pypi.python.org/pypi/virtualenv)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-27T09:31:36.967

我发现可以使用 egg 文件设置 PYTHONPATH。现在我可以将 egg 文件放在一个目录中，然后将这些 egg 文件添加到 PYTHONPATH。

# mongodb - mongodb查询：如何获取唯一条目

> ID：11028320
> 
> 赞同：0
> 
> 时间：2012-06-14T07:12:04.990
> 
> 标签：mongodb

我有，比如说 100 行。在每个集合中，都有一个“id”字段。假设有 100 行，20 行的“id”为 10，30 行的“id”为 11，50 行的“id”为 12。我的查询应返回：10 - 20（计数）11 - 30（计数） 12 - 50（计数）。

如何编写此查询？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T08:18:11.093

如果您的收藏名为“foo”，则以下内容将起作用。

```
> db.foo.group({
    key: {id: true},
    initial: {count: 0},
    reduce: function(doc, aggregator) {
    aggregator.count += 1;
  }
}) 
```

它将产生如下结果：

```
[
{
    "id" : 10,
    "count" : 20
},
{
    "id" : 11,
    "count" : 30
},
{
    "id" : 12,
    "count" : 50
}
] 
```

有关 group() 的更多详细信息以及一些示例，请参见此处：[http ://www.mongodb.org/display/DOCS/Aggregation](http://www.mongodb.org/display/DOCS/Aggregation)

新的聚合框架要复杂得多。你可以在这里找到它：http: [//docs.mongodb.org/manual/applications/aggregation/](http://docs.mongodb.org/manual/applications/aggregation/)

# python - 在python中解析XML文件

> ID：11028325
> 
> 赞同：3
> 
> 时间：2012-06-14T07:12:21.350
> 
> 标签：python, xml-parsing

我有一个 XML 文件，例如：

```
<?xml version="1.0" encoding="utf-8"?>
<result>
  <data>
    <_0>stream1</_0>
    <_1>file</_1>
    <_2>livestream1</_2>
  </data>
</result> 
```

我用了

```
xmlTag = dom.getElementsByTagName('data')[0].toxml()
xmlData=xmlTag.replace('<data>','').replace('</data>','') 
```

我得到了 xmlData

```
<_0>stream</_0>
<_1>file</_1>
<_2>livestream1</_2> 
```

但我需要值流、文件、livestream1 等。

这个怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:30:06.757

我建议使用 ElementTree。它比通常的 DOM 实现更快，我认为它也更优雅。

```
from xml.etree import ElementTree

#assuming xml_string is your XML above
xml_etree = ElementTree.fromstring(xml_string)
data = xml_etree.find('data')
for elem in data:
    print elem.text 
```

输出将是：

```
stream1
file
livestream1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T11:09:38.870

供您参考，这是使用[lxml](http://lxml.de/)和 xpath 的方法：

```
from lxml import etree
doc = etree.fromstring(xml_string)
for elem in doc.xpath('//data/*'):
    print elem.text 
```

输出应该是相同的：

```
stream1
file
livestream1 
```

# c - 定时器处于向上模式

> ID：11028327
> 
> 赞同：2
> 
> 时间：2012-06-14T07:12:26.103
> 
> 标签：c, embedded, iar

我正在`MSP430F5418`使用`IAR EW 5.10`. 我想在 up 模式下使用 Timer B。

我想使用两个中断。TimerB0（1 毫秒）和 TimerB1（1 秒）。

我的配置是

```
TBCTL = MC__UP + TBSSEL__ACLK + TBCLR;
TB0CCTL0 = CCIE;
TB0CCR0 = 32;

TB0CCTL1 = CCIE;
TB0CCR1 = 32768; 
```

在 ISR 上，我只是切换了两个引脚。但只有 TB0CCR0 的引脚在切换。我的引脚配置是正确的。谁能告诉我为什么？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T10:45:56.693

我想你的问题是定时器周期。
**MC__UP** `Up mode: Timer counts up to TBxCL0`

所以当你的定时器 TBxR 到达 TBxCL0 时，它会重置为 0，这似乎是 TB0CCR0 的值。

所以它永远无法达到 32768 的值。

您可以将 TB0CCR0 与 TB0CCR1 切换，因此您的周期将为 1 秒。
为了获得 1ms 的中断，您需要每次增加 TB0CCR1。

```
INTERRUPT ISR_1MS()
{
  TB0CCR1 = (TB0CCR1 + 32) & 0x7FFF;
} 
```

但通常你不需要第二个计时器来进行第二个间隔。
您可以简单地计算 1000 次 1ms 间隔。

```
INTERRUPT ISR_1MS()
{
  ms_count++;
  if (ms_count >= 1000)
  {
    ms_count=0;
    // Do your second stuff
  }
} 
```

如果您需要更多不同的间隔，您可以更改为另一个模型。
到系统时钟时间并仅检查该时间。

```
volatile unsigned int absolute_time=0;

INTERRUPT ISR_1MS()
{
  absolute_time++;
}

unsigned int systime_now(void)
{
    unsigned int result;
    di();
    result = absolute_time;
    ei();
    return result;
}

uint8_t systime_reached(unsigned int timeAt)
{
   uint8_t result;
   result = (systime_now() - timeAt ) < 0x1000;
   return result;
} 
```

# javascript - 动态加载 js 中的嵌套模板（不传递数据）

> ID：11028329
> 
> 赞同：-1
> 
> 时间：2012-06-14T07:12:32.927
> 
> 标签：javascript, jquery, html, templates

我正在开发一个离线原型（html、css 和 js），我需要一个简单的机制，我可以将我的标记分成几个外部模板文件，以便更好地维护并使其可重用..

主要是这些外部模板不会有任何类型的数据模板，它只会包含静态 html，

我需要编写一个脚本，它将解析所有`data-template-url`属性，并将相应的模板文件加载到该 DOM 元素中，如果加载的模板有`data-template-url`，脚本也会这样做（无论我的嵌套模板有多少标记）

```
<div class="some-component" data-template-url="components/user-details.html">
    <!-- template content will be loaded here -->
</div> 
```

我已经完成了以下脚本，它可以完成这项工作，**但不处理嵌套模板**

```
(function($){

    $(function(){

        var attr = 'data-template-url';

        $('[' + attr + ']').each(function(){
            var $self = $(this)
            ,   url = $self.attr(attr);

            $.get(url, function(data){
                $(data).appendTo($self);
            });
        });

    });
})(jQuery); 
```

如果有人可以提供帮助，将不胜感激:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:52:21.333

如果你想保持你的方法：

```
(function($){

    $(function(){

        var loadTemplates = function () {

            var 
                /* template url attribute */
                attr = 'data-template-url',
                /* load status attribute */
                state = 'data-template-state',
                /* load done value for status attribute */
                done = 'ready';

            /* for all elements with template url not in ready state */
            $('[' + attr + ']:not([' + state + '="' + done + '"])')
            .each(function () {

                /* fetch url */
                var url = $(this).attr(attr);

                /* load content and append */
                $(this).load(url, function () {

                    /* set state to ready */
                    $(this).attr(state, done);

                    /* do another run for nested templates */
                    loadTemplates();

                });

            });
        };

        /* start */
        loadTemplates();
    });

})(jQuery); 
```

# android - 如何使微调项目禁用

> ID：11028330
> 
> 赞同：0
> 
> 时间：2012-06-14T07:12:34.173
> 
> 标签：android

我想让微调器项目无法选择或禁用如果我使用 ArrayAdapter 怎么可能：

```
ArrayAdapter<String> adptr= new ArrayAdapter<String>(getActivity(),R.layout.custom_spinner_text,list); 
```

list.add("select one");//我想禁用这个。当我点击它不应该被选中时

list.add("你好");

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-10-13T10:06:39.970

您可以覆盖`isEnabled(int position`) 的 ArrayAdapter 并返回 false 以禁用特定项目。例如：

```
 @Override
    public boolean isEnabled(int position) {
        if (position == 4 )
           return false;           
        return true;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:16:22.143

this is example of the list but applied also for spinier

In order to disable list items on list creation you have to subclass from ArrayAdapter. You have to override methods as in [link](https://stackoverflow.com/questions/2183610/android-how-to-disable-list-items-on-list-creation)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T08:09:43.570

您可能必须从`list`您在`ArrayAdapter`.

这可以通过过滤数组并从中删除不需要的项目来完成。

喜欢：：

```
String list2[]=new String[];
for(int i=0;i<array.length;i++)
{
  if(!list[i].equals("Unwanted Item"))
   {
     list2[i]=list[i];
   }
} 
```

现在你可以`list2`在`arrayadapter`
我的应用程序中使用这个逻辑，我不希望某些项目被某些类型的用户看到

# android - 如何使用命令行构建 apk

> ID：11028335
> 
> 赞同：1
> 
> 时间：2012-06-14T07:13:11.990
> 
> 标签：android

我想使用命令行构建 apk，我正在使用 ant 服务器使用它我正在使用命令行构建 apk 但是当我给出这个命令`ant debug`时它显示错误 BUILD FAILED Unable to locate tools.jar 然后它给出错误源资源不存在

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:19:17.743

这可能是因为您的 JAVA_HOME 未设置为 C:\Program Files\Java\jdk 文件夹。相反，它可能设置为 C:\Program Files\Java\jre，因此它不会获取 tools.jar。看看这个。你可以这样做：

```
C:\>set JAVA_HOME=C:\Program Files\Java\jdk
C:\>ant debug 
```

您需要 jdk/lib/ 文件夹中的 tools.jar 文件。

# regex - 正则表达式匹配模式并排除字符串列表

> ID：11028336
> 
> 赞同：3
> 
> 时间：2012-06-14T07:13:28.153
> 
> 标签：regex

我对正则表达式很陌生。

基本上我正在尝试创建一个正则表达式来评估我们系统中的 URL 路径。但是，我们的系统中存在一个已知错误，导致 URL 路径变得非常混乱。

理想情况下，URL 应该是

```
/mobile/retail.* 
```

由于该错误，URL 将在“/mobile”和“/retail”之间包含“其他内容”，如下所示

`/mobile(/.*)?/retail`

但具有挑战性的一点是，当我想在“其他”中忽略某些词时，即销售、搜索、批次、登录。所以情况应该是这样的

所以我有一个这样的测试用例：

*   /mobile/retail -> 匹配
*   /mobile/retail/something -> 匹配
*   /mobile/something/retail/something -> 匹配
*   /mobile/something/retail/something/sale -> 匹配
*   /mobile/something/something/retail/something/sale -> 匹配
*   /mobil/sale/something -> 不匹配
*   /mobile/something/sale/something -> 不匹配
*   /mobile/something/sale/something/retail -> 不匹配
*   /mobile/lot/test/retail -> 不匹配
*   /mobile/test/lot/test/retail -> 不匹配
*   /mobile/path/test2/test3/testx/lot/test/retail -> 不匹配

我有点坚持这个正则表达式，它没有按我想要的方式工作..

```
/mobile(/(?!sale|search|lot|login).*)?/retail.* 
```

上面的正则表达式在以下情况下不起作用：

*   /移动/某物/销售/某物/零售
*   /移动/测试/批次/测试/零售
*   /mobile/path/test2/test3/testx/lot/test/retail

要排除的词是严格的。例如，下面的列表应该通过：

*   /移动/情节/零售
*   /移动/批次/零售
*   /移动/大量销售/零售
*   /mobile/sale-item/retail/something/test/sale
*   /mobile/search-prg-item-test/test/retail

非常感谢任何具有强大的正则表达式知识和任何反馈的人。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-14T07:19:30.190

首先试试这个：

```
/mobile(?:/(?:(?!sale|search|lot|login)[^/])++)*/retail.* 
```

如果编译失败（您没有指定正则表达式风格），请尝试

```
/mobile(?:/(?:(?!sale|search|lot|login)[^/])+)*/retail.* 
```

**解释：**

```
/mobile                     # Match "/mobile"
(?:                         # Match...
 /                          # a slash
 (?:                        # followed by...
  (?!sale|search|lot|login) # (only if these strings arent't present
  [^/]                      # any character except slashes
 )++                        # Match at least one and don't backtrack
)*                          # Do this zero or more times
/retail                     # Then match "/retail"
.*                          # plus whatever follows 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T07:25:00.487

重复匹配斜线之间的部分的正则表达式，其中此类部分可能不是销售、搜索、批次或登录：

```
^/mobile(/(?!sale|search|lot|login)[^/]*)*/retail.* 
```

# c++ - 可以将带有 alpha 蒙版的图像粘贴到透明表面上吗？

> ID：11028340
> 
> 赞同：1
> 
> 时间：2012-06-14T07:13:45.703
> 
> 标签：c++, image, sdl

我正在努力做到这一点。我的游戏中有各种爆炸图块的图像。我正在尝试预处理爆炸图块并创建图像，然后将其粘贴到屏幕上。

这是带有 alpha 蒙版的图块表：[爆炸](http://i.stack.imgur.com/qQh4v.png)

现在，我想对这些进行 blit，并让它们保持其 alpha 透明度到我可以渲染的表面上。

这是我的代码：

```
SDL_Surface* SpriteManager::buildExplosion(int id, SDL_Surface* image, int size)
{
    // Create the surface that will hold the explosion image
    SDL_Surface* explosion = SDL_CreateRGBSurface(SDL_HWSURFACE, size * 32 , size * 32, 32, 0, 0, 0, 255 );

    // Our source and destination surfaces
    SDL_Rect srcrect;
    SDL_Rect dstrect;

    int parentX = sprites[id].x;
    int parentY = sprites[id].y;
    int middle = size / 2;

    // Create the first image
    srcrect.x = sprites[id].imgBlockX * 32; // default for now
    srcrect.y = sprites[id].imgBlockY * 32; // default for now
    srcrect.w = 32;
    srcrect.h = 32;

    // Get the location it should be applied to
    dstrect.x = middle * 32;
    dstrect.y = middle * 32;
    dstrect.w = 32;
    dstrect.h = 32;

    // Apply the texture
    SDL_BlitSurface(image, &srcrect, explosion, &dstrect);

    errorLog.writeError("Applying surface from x: %i y: %i to x: %i y:%i", srcrect.x, srcrect.y, dstrect.x, dstrect.y);

    // Iterate through each explosion
    for(int i = 0; i < sprites[id].children.size(); i++)
    {
        // Get the texture source
        srcrect.x = 0;  // default for now
        srcrect.y = 0;  // default for now
        srcrect.w = 32;
        srcrect.h = 32;

        // Get the location it should be applied to
        dstrect.x = sprites[id].children[i].x - parentX * 32;
        dstrect.y = sprites[id].children[i].y - parentY * 32;
        dstrect.w = 32;
        dstrect.h = 32;

        // Apply the texture
        SDL_BlitSurface(image, &srcrect, explosion, &dstrect);
    }

    //return img;
    return explosion;
} 
```

我怀疑它与这条线有关，但我真的很茫然：

```
SDL_Surface* explosion = SDL_CreateRGBSurface(SDL_HWSURFACE, size * 32 , size * 32, 32, 0, 0, 0, 255 ); 
```

名为 image 的 SDL_Surface 是我在上面链接的图像，只是为了说明这一点。如果有人看到我的方式的错误，非常感谢！

我的问题：上面的代码要么在一个完全不可见的表面上，要么在一个黑色的表面上加上图像。

我想我很好奇是否可以执行我上面描述的操作以及是否可以修改此代码以使其正常工作。

# cordova - 在 Phonegap 中使用 XSLT 在 Android 应用程序中显示输出

> ID：11028342
> 
> 赞同：0
> 
> 时间：2012-06-14T07:14:15.257
> 
> 标签：cordova

我正在为 Phonegap 使用新蜜蜂，并且已经构建了一个移动应用程序。我想使用带有 xslt 的 Phonegap 作为显示器。你能建议如何用Phonegap做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-05T13:35:22.850

您希望使用 XSLT 将 XML 转换为 HTML 并使用 Phonegap 显示在屏幕上？我认为您只需要查找有关 XSL 的 Javascript 教程。如果您熟悉 jquery，这将更加容易。

不用介意 Phonegap，因为您的脚本将是相同的：获取文档、应用转换并将结果放入`<div>`.

# .net - 发送拉丁特殊字符后与 WCF 标头中的 HTTP Content-Length 400 错误不一致

> ID：11028345
> 
> 赞同：1
> 
> 时间：2012-06-14T07:14:17.737
> 
> 标签：.net, wcf, iis-7

我将 WCF 与 .Net 4.0 一起使用，所有默认设置为 basicHttpBinding，安全模式为 TransportWithMessageCredential over https。当我从发送特殊字符链接的客户端进行 Web 方法调用时**-**该方法成功但每个下一个方法调用都会给出 404 错误，没有更多信息，并且在跟踪日志中显示以下错误：

> 可用字节数与 HTTP Content-Length 标头不一致。可能存在网络错误或客户端可能正在发送无效请求。

因为我使用的是默认值，所以文本编码是 utf-8。我已经在 IIS7 和 IIS7.5 上进行了测试。同样的问题发生在我使用 IIS Express 的本地机器上。特殊字符进入服务器并成功写入数据库然后WCF只是一种错误是不寻常的。我必须重置 WCF 网站才能在服务器上重新开始工作。

这是失败的测试代码：

```
using (ToursServiceClient client = new ToursServiceClient())
{
    client.ClientCredentials.UserName.UserName = "test";
    client.ClientCredentials.UserName.Password = "test";

    Tour tour = new Tour();
    tour.Customer = new Customer();
    tour.Customer.FirstName = "ñ";

    InsertTourResult insertTourResult = client.InsertTour(tour);
    Tour insertedTour = client.GetTourByTourID(insertTourResult.TourID);
} 
```

此代码在调用时失败：

```
client.GetTourByTourID(insertTourResult.TourID); 
```

如果我更改这行代码，则此代码成功：

```
tour.Customer.FirstName = "ñ"; 
```

至：

```
tour.Customer.FirstName = "a"; 
```

虽然我只使用默认绑定，但为了完整起见，我将在此处列出它们：

```
<binding name="BasicHttpBinding_ToursService" closeTimeout="00:01:00"
     openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
     allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
     maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
     messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
     useDefaultWebProxy="true">
     <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
      maxBytesPerRead="4096" maxNameTableCharCount="16384" />
     <security mode="TransportWithMessageCredential">
      <transport clientCredentialType="None" proxyCredentialType="None"
       realm="" />
      <message clientCredentialType="UserName" algorithmSuite="Default" />
     </security>
    </binding> 
```

任何帮助是极大的赞赏。谢谢，泰勒

# c++ - 关于调试核心文件 C++/linux 的一些基本问题？

> ID：11028346
> 
> 赞同：0
> 
> 时间：2012-06-14T07:14:20.023
> 
> 标签：c++, debugging, memory-leaks, gdb, core

C++应用程序/linux的调试文件对我来说一直是个谜，缺乏一些基本的了解。

(1) 我们是否需要编译带有 -g 标志的应用程序，否则核心文件无法提供任何有用的信息？但我看到，即使我们不使用 -g 标志进行编译，也会生成核心文件——所以除了占用磁盘空间之外，它们必须有其他用途。

维基百科说：“在计算中，核心转储、内存转储或存储转储由计算机程序在特定时间的工作内存的记录状态组成，通常是在程序异常终止（崩溃）时”。

这应该意味着无论我们是否使用 -g 标志编译，我们仍然有状态。如果我们有堆栈跟踪，我们应该仍然能够知道是什么函数导致了错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:20:26.993

该`-g`选项与核心文件无关，而是将调试信息放入*程序*中。也就是说，生成的可执行文件将包含所有符号（例如函数和变量名称）以及行号信息（因此您可以找出崩溃发生在哪一行）。

实际的核心转储仅包含内存转储。是的，您可以与程序一起获得堆栈跟踪，但除非程序具有调试信息，否则您看不到函数名称或行号，只能看到它们的地址。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T07:28:06.850

> *所以除了占用磁盘空间之外，它们必须有其他用途*

您可以使用`ulimit -c $limit`命令限制核心文件的大小，并且您的核心文件不会占用您的磁盘空间。

而且，正如 Joachim 已经说过的，`-g`选项只包括调试符号和对您的程序的检查。

# asp.net - Browser back button does not move to the previous View

> ID：11028347
> 
> 赞同：1
> 
> 时间：2012-06-14T07:14:29.687
> 
> 标签：asp.net, asp.net-mvc, c#-4.0, sharepoint-2010

I am using views concept in my asp.net form control.my first view consist of a form to capture user details.when user press continue it will move to the second view. The problem is ,When user press the back button of the browser from the second view it doesn't move the the previous view instead move to the previous page in the browser history.

I wanted to move to the first view with the existing data in the form,when user press the back button of the browser.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:28:45.977

我猜您应该执行完整的`page postback`操作，以便在客户端您之前的视图将保存在浏览器的历史记录中。

# spring - Unable load dropdown list when the page was loading in spring mvc

> ID：11028348
> 
> 赞同：0
> 
> 时间：2012-06-14T07:14:37.213
> 
> 标签：spring, spring-mvc

I trying to populate the dropdown list when page was loaded.But it is not loaded in UserPage.jsp from Controller.on submit method and also wrote referencedata method.

Controller:-

```
public ModelAndView onSubmit(HttpServletRequest request,
            HttpServletResponse response, Object command, BindException errors)
            throws Exception {

        log.info("onSubmit handleRequest method"
                + request.getParameter("username"));
        System.out.println("onSubmit handleRequest method"
                + request.getParameter("username"));
        String username = "", password = "";
        username = request.getParameter("username");
        password = request.getParameter("password");

        UserBean ubean = null;

        System.out.println("After shownform method called");
        HttpSession session = request.getSession(true);
        try {
            ubean = userservice.chkUsername(username, password);
            System.out.println("Information" + ubean.getUsername());
        } catch (DataException ex) {
            ex.printStackTrace();

            // throw ex;
        }
        session.setAttribute("User", ubean);
        EmpPersonalBean personalBean = new EmpPersonalBean();
        return new ModelAndView("jsp/UserPage", "EmpPersonalBean", personalBean);
    }
                 protected Map referenceData(HttpServletRequest request) throws Exception {
        log.info("UserDBBoardController======================referenceData");
        Map referenceData = new HashMap();
        List deparementList = new ArrayList();
        deparementList = userservice.getDeparmentList();
        referenceData.put("deparmentList", deparementList);
        return referenceData;

    } 
```

UserPage.jsp

```
<%@ page language="java" import="com.aims.bean.*,java.util.HashMap" contentType="text/html;charset=utf-8" pageEncoding="UTF-8"%>
<%@taglib uri="http://www.springframework.org/tags/form" prefix="form" %>
<%@taglib uri="http://www.springframework.org/tags" prefix="spring" %>
<%@taglib uri="/WEB-INF/tld/c.tld" prefix="c" %>
<html>
<head>
<title>AAI</title>
</head>
<body>
<form:form method="post" modelAttribute="EmpPersonalBean" action="userpage.htm">
<table>
<tr>
    <td>Welcome <%=((UserBean)session.getAttribute("User")).getUsername()%></td>
</tr>
        <tr>

        <td>Department</td>
        <td><form:select path="deparment">
                      <form:option value="NONE" label="--- Select ---" />
                      <form:options items="${deparmentList}" />
                       </form:select>
        </td>
    </tr>
</tr>
</table>
</form:form>
</body>
</html>

public class DepartmentBean {
private String deptcode,deptname;

public String getDeptcode() {
    return deptcode;
}

public void setDeptcode(String deptcode) {
    this.deptcode = deptcode;
}

public String getDeptname() {
    return deptname;
}

public void setDeptname(String deptname) {
    this.deptname = deptname;
}

} 
```

And also attached displaying dropdown list in the userpage.sjp![enter image description here](../Images/dd970181ce6666fe90082143bf4abb82.png)

Please help me.How to resolve the issue.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:23:44.013

```
 <td>Department</td>
    <td><form:select path="deparment">
         <form:option value="NONE" label="--- Select ---" />
          <c:forEach var="department" items="${deparmentList}">
            <form:option value="${department}" label="${department}" />
          </c:forEach>
          </form:select>
    </td>

ModelAndView mav = new ModelAndView("viewName");

mav.addObject("deparmentList", deparementList);

return mav; 
```

返回模型和视图对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:25:17.757

您还需要在标签中指定**itemLabel**和**itemValue**属性。`<form:options/>`

**更新**

在您的 jsp 页面中替换此行。我认为它应该可以解决您的问题。

```
<form:options items="${deparmentList}" itemLabel="deptname" itemValue="deptcode" /> 
```

希望这对您有所帮助。干杯。

# r - Passing string variable facet_wrap() in ggplot using R

> ID：11028353
> 
> 赞同：43
> 
> 时间：2012-06-14T07:14:55.460
> 
> 标签：r, ggplot2

I have a defined a variable named response. this variable will be passed to facet_wrap() in ggplot package

```
 response<-"job" 
```

When i specify variable directly in facet_wrap()

e.g

```
 ggplot(data,aes(job,fill=class )) + geom_bar() +facet_wrap(~job) 
```

it gives required plot

But when i specifying response variable in facet_wrap()

```
 ggplot(data,aes(job,fill=reponse))+ geom_bar() +  facet_wrap(~get(paste(response))) 
```

i get error

```
 At least one layer must contain all variables used for facetting 
```

Is there way where facet_wrap can accept variable name from response variable instead writing variable name directly in it

* * *

## 回答 #1

> 赞同：78
> 
> 时间：2012-10-02T16:40:52.857

（将@kohske 的评论变成答案，以便它可以被接受和“关闭”）：

```
facet_wrap(as.formula(paste("~", response))) 
```

# c# - How to disable the Charging and Network identification in Windows phone?

> ID：11028354
> 
> 赞同：0
> 
> 时间：2012-06-14T07:15:02.660
> 
> 标签：c#, xaml, windows-phone-7.1

I want to disable the Charging and Network identification in Windows phone emulator.. Is there any way to do this ?

Moreover i have a doubt that can we disable it using the xaml or c# code ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:02:44.943

`shell:SystemTray.IsVisible="False"`您提到的一些信息在“系统托盘”中 - 这可以通过简单地添加到您的`<phone:PhoneApplicationPage>`元素来隐藏（如果您的目标是 SDK 7.1 或更高版本）

# iphone - Creating a custom UIScrollView Scroller

> ID：11028355
> 
> 赞同：3
> 
> 时间：2012-06-14T07:15:03.807
> 
> 标签：iphone, objective-c, ios, xcode

Okay, I have been all over the internet trying to find the answer to this, I am trying to create a custom UIScrollView scroller.

Here is a link to a picture of the scroller

[http://postimage.org/image/cg2jvde9z/](http://postimage.org/image/cg2jvde9z/)

[http://postimage.org/image/ko0mp3kdj/](http://postimage.org/image/ko0mp3kdj/) (that white box is just for me to test the scrollview)

I have gotten the scroller to work, although I need help figuring out how many pixels the scrollview should move every time the scroller is pushed

here is some code

```
-(IBAction)scroller_bar:(id)sender withEvent:(UIEvent *)event{    
UIButton *button_sent = (UIButton *)sender;

UITouch *touch = [[event touchesForView:button_sent] anyObject];

CGPoint previousLocation = [touch previousLocationInView:button_sent];
CGPoint location = [touch locationInView:button_sent];
CGFloat delta_x = location.x - previousLocation.x;
float left_side = button_sent.center.x + delta_x;
float right_side = button_sent.center.x + delta_x;
if (right_side > button_sent.center.x) {
    scroll_right = YES;
}
else{
    scroll_right = NO;
}
if (left_side <= 13 + 50.5 || right_side >= 307 - 50.5) {

}
else{
    button_sent.center = CGPointMake(button_sent.center.x + delta_x,
                                     button_sent.center.y);

    if (scroll_right) {

    [selection_scroll setContentOffset:CGPointMake(selection_scroll.contentOffset.x - (Help HERE!), selection_scroll.contentOffset.y) animated:YES];
    }
    else{

        [selection_scroll setContentOffset:CGPointMake(selection_scroll.contentOffset.x + (Help HERE!), selection_scroll.contentOffset.y) animated:YES];

    }
} 
```

}

In the above code you should see a '(Help HERE!)',

that is where i am trying to figure out how many pixels i should move the scroll view. This is a bit of a confusing question, hope you understand.

Thanks :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:31:59.260

我不知道 APPLE 是否会批准这一点，但下面编写的代码可以更改 scollView 的滚动图像

```
for (UIImageView *img in yourscrollView.subviews) { 
    [img setImage:[UIImage imageNamed:@"your custom scroller image"]];
} 
```

# sql - Query with overlapping date range

> ID：11028357
> 
> 赞同：0
> 
> 时间：2012-06-14T07:15:11.350
> 
> 标签：sql

I created a report where in an ID is selected by the user. Under that ID there is a cut off period and within that ID it is split into one or more records that have date range also. For example:

```
 ID: MMA1512 - 3/1-3/15
        compose of
            -- > 'P2306.2012.15.03.A.STAFF' - 2/24-3/8
            -- > 'P2306.2012.08.03.A.DAILY' - 3/1-3/15

  Tables:
     Work Allocation 
       id
   startdate

     Work Allocation Details
        workallocationid
        employee no
        costcode
        subcostcode
        hrswork 
```

The problem is there is an overlapping data for 3/1-3/8 but I cannot exclude the overlapping date because it was needed on 'P2306.2012.08.03.A.DAILY'. Here is my query

**Wrong Output**

```
 SELECT wa.companycode,wa.sitecode,wa_details.employeeno,    
        wa_details.costcode,wa_details.subcostcode,  
   SUM(wa_details.hrswork) hrswork,ttl_work_hrs  
FROM WorkAllocation wa  
INNER JOIN WorkAllocation_details wa_details  ON wa.id = wa_details.workallocationid  
INNER JOIN              
(  SELECT employee_id,ttl_work_hrs FROM [dbo].[Get_Total_Work_Hours]  ('mma1512','P2306.2012.15.03.l.STAFF,P2306.2012.08.03.l.DAILY','p2306','l'))                
 view_ttl_hours 
 ON 
wa_details.employeeno=view_ttl_hours.employee_id  
 WHERE 
companycode='l'
 AND 
sitecode='p2306' 
 AND 
startdate BETWEEN '2012-02-24' AND '2012-03-15'
 GROUP BY wa.companycode,wa.sitecode,       wa_details.employeeno,wa_details.costcode,wa_details.subcostcode,ttl_work_hrs   

     Company Site   EmployeeNo CostCode SubCostCode HrsWork Total Hours Work
      LCPI   P2306  PH080323    8321    169        160.50   162.5
      LCPI   P2306  PH080323    10184   2648       14.50    162.5 
```

**Correct Output**

```
SELECT wa.companycode,wa.sitecode,wa_details.employeeno,    
        wa_details.costcode,wa_details.subcostcode,  
   SUM(wa_details.hrswork) hrswork,ttl_work_hrs  
FROM WorkAllocation wa  
INNER JOIN WorkAllocation_details wa_details  ON wa.id = wa_details.workallocationid  
INNER JOIN              
(  SELECT employee_id,ttl_work_hrs FROM [dbo].[Get_Total_Work_Hours]  ('mma1512','P2306.2012.15.03.l.STAFF,P2306.2012.08.03.l.DAILY','p2306','l'))                
 view_ttl_hours 
 ON 
wa_details.employeeno=view_ttl_hours.employee_id  
 WHERE 
companycode='l'
 AND 
sitecode='p2306' 
 AND 
startdate BETWEEN '2012-02-24' AND '2012-03-08'
 GROUP BY wa.companycode,wa.sitecode,       wa_details.employeeno,wa_details.costcode,wa_details.subcostcode,ttl_work_hrs

   Company Site   EmployeeNo CostCode SubCostCode HrsWork Total Hours Work
      LCPI    P2306  PH080323   8321    169    148.00   162.5
      LCPI    P2306  PH080323   10184   2648       14.50    162.5 
```

The difference between the query is the **startdate BETWEEN '2012-02-24' AND '2012-03-15'**

# wix - Windows Installer dialog minimize button

> ID：11028358
> 
> 赞同：3
> 
> 时间：2012-06-14T07:15:12.707
> 
> 标签：wix, wix3

I am developing a windows installer using [WiX 3.0](http://wix.codeplex.com/releases/view/44406).

The installer dialog, while installing, if minimized and then again maximized, gets stuck in the top left corner of the screen with very little user interface visible from and no buttons/controls are visible.

Is there any way to disable the minimize button from the installer dialog or is there any way that the click event on the minimize button can be captured and handled?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T21:04:51.103

这是一个 Windows 7 错误，几年前在 WiX 邮件列表中被报告过，并且随着新开发人员发现相同的错误而反复出现 :)

[http://windows-installer-xml-wix-toolset.687559.n2.nabble.com/Re-WiX-users-Install-on-Windows-7-minimize-the-installation-wizard-then-only-see-一个-slice-of-the-instd-td4430104.html](http://windows-installer-xml-wix-toolset.687559.n2.nabble.com/Re-WiX-users-Install-on-Windows-7-minimize-the-installation-wizard-then-only-see-a-slice-of-the-instd-td4430104.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:13:56.063

据我所知，这是不可能的。较新版本的 WiX 可能已解决此问题。WiX 3.6 RC 现已上市，可能值得研究。

# sql-server - SQL Server Syntax Error on PIVOT

> ID：11028362
> 
> 赞同：0
> 
> 时间：2012-06-14T07:15:25.083
> 
> 标签：sql-server, pivot

Can anyone please help me with the PIVOT table syntax error as I am using this for the First time.

```
DECLARE @sql AS varchar(max)<br/>
DECLARE @pivot_list AS varchar(max) <br/>
DECLARE @select_list AS varchar(max) <br/>

SELECT @pivot_list = COALESCE(@pivot_list + ', ', '') + '[' + CONVERT(varchar,    STATE_NAME) + ']'<br/>
      ,@select_list = COALESCE(@select_list + ', ', '') + '[' + CONVERT(varchar, STATE_NAME) + '] AS [' + CONVERT(varchar, STATE_NAME) + ']'
FROM (
SELECT DISTINCT name as STATE_NAME
    FROM k12_dms_states
) AS PIVOT_CODES

SET @sql = '
 SELECT COUNT(k12_dms_contacts_institution_jobtitles.id)  as total_count 
,k12_dms_job_titles.title as job_title,' + @select_list + '
FROM k12_dms_institution_master 
INNER JOIN k12_dms_contacts_institution_jobtitles ON k12_dms_institution_master.id = k12_dms_contacts_institution_jobtitles.inst_id 
INNER JOIN k12_dms_job_titles ON k12_dms_job_titles.id = k12_dms_contacts_institution_jobtitles.job_title_id 
GROUP BY k12_dms_job_titles.title
PIVOT (
total_count
FOR STATE_NAME IN (
    ' + @pivot_list + '
)
) AS pvt
 '

  PRINT @sql

  EXEC (@sql) 
```

I am getting this error: -

> Msg 156, Level 15, State 1, Line 8
> Incorrect syntax near the keyword 'PIVOT'.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:20:32.280

`PIVOT`属于[`FROM`从句](http://msdn.microsoft.com/en-us/library/ms177634%28v=sql.110%29.aspx)。它需要出现在任何`GROUP BY`子句之前。

（基于评论的进一步编辑，以尝试更正）：

```
SET @sql = '
 SELECT 
k12_dms_job_titles.title as job_title,' + @select_list + '
FROM k12_dms_institution_master 
INNER JOIN k12_dms_contacts_institution_jobtitles ON k12_dms_institution_master.id = k12_dms_contacts_institution_jobtitles.inst_id 
INNER JOIN k12_dms_job_titles ON k12_dms_job_titles.id = k12_dms_contacts_institution_jobtitles.job_title_id 
PIVOT (
COUNT(k12_dms_contacts_institution_jobtitles.id)
FOR STATE_NAME IN (
    ' + @pivot_list + '
)
) AS pvt
 ' 
```

# fullcalendar - eventMouseover 在 IE8 完整日历中不起作用

> ID：11028364
> 
> 赞同：0
> 
> 时间：2012-06-14T07:15:32.987
> 
> 标签：fullcalendar

我正在使用完整的日历。它在所有浏览器中都可以正常工作，但在 IE8 中，事件未显示在日历中。我检查了它，发现当我删除以下代码时，会出现事件：

```
eventMouseover :function(event, jsEvent, view) 
        {
            $('.popup_book_det').hide();
            $('#det'+event.id_id).show();
        },
        eventMouseout :function(event, jsEvent, view) 
        {
            $('.popup_book_det').hide();
            $('#det'+event.id_id).hide();
        }, 
```

但是这段代码是必要的............

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T13:36:49.717

看起来您可能没有`jQueryUI.js`在 HTML 中包含 。链接到该文件，看看这是否仍然存在。我可以通过这个小提琴在 IE8 上同时使用 eventMouseover 和 eventMouseout - [http://jsfiddle.net/100thGear/vyKSZ/](http://jsfiddle.net/100thGear/vyKSZ/)（从这个小提琴中删除 jqueryui.js 并且错误出现在 IE8 上）。

# dynamic - Actionscript: Can Japanese characters be loaded into a dynamic textbox?

> ID：11028365
> 
> 赞同：0
> 
> 时间：2012-06-14T07:15:35.577
> 
> 标签：dynamic, actionscript, textbox

Japanese text won't display in my dynamic textbox. I tried roman letters and they work fine. I also made sure that the Japanese characters were embedded with the font in the textbox.

What is wrong?

```
display.text = ('私の髪は茶色です。'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T18:28:09.773

您需要确保您的 textField 使用的是嵌入字体

```
display.embedFonts = true; 
```

# mysql - 具有不同引擎的两个表不能有外键？

> ID：11028366
> 
> 赞同：2
> 
> 时间：2012-06-14T07:15:38.657
> 
> 标签：mysql

我有表 A（innoDB）和表 B（MyISAM）。当我将外键从 A 添加到 B 时，它会报告：

```
ERROR 1005: Can't create table (errno: 150) 
```

为什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-14T07:17:18.010

[MyISAM](http://dev.mysql.com/doc/refman/5.1/en/myisam-storage-engine.html)不支持[外键约束](http://dev.mysql.com/doc/refman/5.1/en/innodb-foreign-key-constraints.html)。

两个表都需要是 InnoDB。

首先将引擎更改为 InnoDB。

# iphone - NSTimer does not fire in next date time

> ID：11028367
> 
> 赞同：0
> 
> 时间：2012-06-14T07:15:40.350
> 
> 标签：iphone, objective-c, ios, nstimer

I need to fire timer on the basis of the time selected in the date picker. Now if the selected time is greater than my current time then the `NSTimeInterval` returns positive value and the timer fired correctly.

My problem is when I select the time which is less than the current time then the `NSTimeInterval` returns negative value.

So Now what I does is :- add seconds so that it gets fired next day by 24*60*60.

The seconds value is coming correct because when I test this by changing the time into date it returns the next date with the selected time.

I use these seconds value in setting my timer.

Here is my code :

```
NSTimeInterval value=[[self.pickerView date] timeIntervalSinceDate:[NSDate date]];

        value=value+24*60*60;
        NSLog(@"value =%f",value);

        NSDate *d1 = [NSDate dateWithTimeIntervalSinceNow:value];
        NSLog(@"%@",d1);
        NSDateFormatter *format=[[NSDateFormatter alloc]init];
        [format setDateFormat:@"dd/MM/yyyy hh:mm:ss a"];
        NSString *str=[format stringFromDate:d1];
        NSLog(@"str=%@",str);
        [format release];
        NSTimer *t = [[NSTimer alloc] initWithFireDate: d1
                                              interval: 1
                                                target: app
                                              selector:@selector(fireWakeUpTimerMethod:)
                                              userInfo:dict repeats:NO];
      //  app.WakeUPTimer=t;
        NSRunLoop *runner = [NSRunLoop currentRunLoop];
        [runner addTimer:t forMode: NSRunLoopCommonModes];
        [t release]; 
```

But the timer is not getting fired.

I tested it like this:- Suppose my device current time is 15 june 11:00 am then I select the 10:00 am time in picker view , since 10:00 am is less than 11:00 am then the time interval returns negative value so in this case I do value=value+(24*60*60); and set my timer with this value .Then I open the settings app and change my device date and time to 16 june 9:58 am and close settings app and open my app.But the method did not fire at 10:00 am.Please tell us if this is the correct way of testing this scenario.or I am doing some mistake in testing instead of coding.

Please help me as I am stuck here.

Thanks in advance!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T08:36:00.663

我假设你得到的**价值**是正确的：

```
 value=value+(24*60*60); 
```

还要检查**NSTimer 的目标**及其**选择器**

# php - Php mobile/tablet/desktop detect?

> ID：11028368
> 
> 赞同：8
> 
> 时间：2012-06-14T07:15:42.283
> 
> 标签：php, device-detection

How to detect with php, if the user use a desktop, mobile or a tablet?

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-14T07:17:17.603

您是否签出了以下代码：[https ://github.com/serbanghita/Mobile-Detect](https://github.com/serbanghita/Mobile-Detect)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T07:28:48.130

你也可以试试这个

[http://detectmobilebrowsers.mobi/](http://detectmobilebrowsers.mobi/)

# qt - 转换 QVector 列表到 QStringList

> ID：11028374
> 
> 赞同：2
> 
> 时间：2012-06-14T07:16:12.823
> 
> 标签：qt, qt4

如何将 a 转换`QVector<char*>`为 a `QStringList`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-02-17T15:52:00.180

我认为您可以尝试以这种方式进行操作（如果我有 ，它对我有用`QVector<QString>`）：

```
QVector<char*> vector_char;
QStringList myStringList = vector_char.toList(); 
```

此代码必须像`QStringList`继承的`QList`.

这是文档中的一些内容：[QVector 文档](http://doc.qt.io/qt-4.8/qvector.html#toList)。

仅此而已。我希望它可以帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:20:41.343

没有直接的方法。

```
QVector<char*> vector;
QStringList list;
foreach (const char * str, vector) {
    list << str;
} 
```

# android - 将 android datepicker 中的日期初始化为特定日期，而不是当前日期。

> ID：11028386
> 
> 赞同：9
> 
> 时间：2012-06-14T07:16:58.053
> 
> 标签：android, date, calendar, initialization, android-datepicker

在我的应用程序中，我有一个保存在远程数据库中的日期，我希望将日期选择器设置为。我已经研究过并且只找到了通过 Calender java util 设置日期选择器今天日期的示例。例子：

```
final Calendar c = Calendar.getInstance();
        year = c.get(Calendar.YEAR);
        month = c.get(Calendar.MONTH);
        day = c.get(Calendar.DAY_OF_MONTH); 
```

如何使用日历显示数据库中的日期而不是今天的日期？你有什么我可以遵循的建议或例子吗？

更新：尝试使用日历后，我尝试使用

```
 // set Date
            String eventYear =date.substring(0,4);
            String eventDay =date.substring(5,7);
            String eventMonth =date.substring(8,10);
        //convert string to int for because calendar only takes int: set(int,int)
        int month = Integer.parseInt(eventMonth);
  final Calendar c = Calendar.getInstance();
     mMonth=c.get(c.set(Calendar.MONTH, Calendar.month));
// or   mMonth=c.get(Calendar.MONTH, Calendar.month); 
```

生成无法将 int 转换为 void 的错误。

如何使用日历将其设置为特定日期？根据谷歌的开发者网站，我应该能够做到这一点。 [http://developer.android.com/reference/java/util/Calendar.html](http://developer.android.com/reference/java/util/Calendar.html)

例子：

```
set(Calendar.MONTH, Calendar.SEPTEMBER) 
```

我希望将日期作为默认值显示在服务器的日期选择器中。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-05T09:19:09.453

你可以使用**updateDate(year, month, day_of_month);** 日期选择器返回日、月和年的整数值。所以参数必须是整数值。日期选择器中月份 jan 的整数值为 0。

我需要将从数据库中提取的日期放入日期选择器中。我编写了以下代码并且它有效。

```
DatePicker DOB;
SQLiteDatabase db;

DOB=(DatePicker)findViewById(R.id.datePicker1);

db = openOrCreateDatabase("BdaySMS", SQLiteDatabase.CREATE_IF_NECESSARY, null);
Cursor cur = db.rawQuery("select * from BdaySMS where ph='"+pn+"';", null);//pn is the phone no.

if(cur.moveToFirst())
{
    name.setText(cur.getString(0));
    phone.setText(cur.getString(1));
    DOB.updateDate(Integer.parseInt(cur.getString(4)),Integer.parseInt(cur.getString(3)),Integer.parseInt(cur.getString(2)));
    message.setText(cur.getString(5));
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-01-29T01:31:14.863

## 使用[乔达时间](http://www.joda.org/joda-time/)

下面是一个简单的例子，说明我如何从一个对象设置一个`DatePicker`和，它可以是当前日期或过去或未来的任何日期（在这种情况下，该属性称为）：`TimePicker``DateTime``inspected_at`

```
DatePicker dp = (DatePicker) findViewById(R.id.inspected_at_date);
TimePicker tp = (TimePicker) findViewById(R.id.inspected_at_time);

DateTime inspected_at = DateTime.now().minusYears(1); // Typically pulled from DB.

int year    = inspected_at.getYear() ;
int month   = inspected_at.getMonthOfYear() - 1;      // Need to subtract 1 here.
int day     = inspected_at.getDayOfMonth();  
int hour    = inspected_at.getHourOfDay();
int minutes = inspected_at.getMinuteOfHour();

dp.updateDate(year, month, day);
tp.setCurrentHour(hour);
tp.setCurrentMinute(minutes); 
```

希望有帮助。

J.P

# windows-8 - Win.JS.UI.Animation 幻灯片切换

> ID：11028387
> 
> 赞同：1
> 
> 时间：2012-06-14T07:17:04.923
> 
> 标签：windows-8, microsoft-metro

嗨，我正在寻找与 jquery 的 slideToggle 相同的 Metro 风格应用程序中的动画，有这样的动画，或者我可以在自定义动画中创建类似的动画吗？

# java - 使用条件查询现有触发器的石英

> ID：11028389
> 
> 赞同：0
> 
> 时间：2012-06-14T07:17:08.663
> 
> 标签：java, api, quartz-scheduler, scheduler

我正在使用石英来安排工作。作业是在“默认”组中创建的，相关信息在使用 schedule api 时以作业详细信息图的形式作为有效负载传递。

```
Trigger trigger = new Trigger(...);
JobDetail jobDetail = new JobDetail(...);
jobDetail.put(...);
scheduler.schedule(trigger, jobDetail); 
```

我希望 API 能够根据发送的有效负载查询数据库中的触发器。例如，我将“externalId”作为 jobDetail 的一部分。

我想做类似的事情

```
scheduler.getTriggers(new Criteria("externalId", externalId)); 
```

而不是获取内存中的所有触发器然后对其进行迭代。我在网上搜索了一下，但找不到一个 API 来做同样的事情。

编辑：从石英 2.1.5 开始，有一些新的 API

```
scheduler.getTrigger(triggerKey(jobId, jobGroupName)); // which can fetch the exact trigger given the triggerKey
scheduler.getTriggerKeys(GroupMatcher.triggerGroupContains(JOB_GROUP_NAME)); //this searches all the triggers for a group. 
```

但是，这些不适用于石英 1.8。一个限制仍然是触发搜索需要准确并且本质上不能是 LIKE %

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T12:57:25.460

您可以在石英中列出所有任务并收集所需的

试试这个代码（jsp）：

```
SchedulerFactory sf = new StdSchedulerFactory(new File(getServletContext().getRealPath("/"), "WEB-INF/quartz.properties").getAbsolutePath());
Scheduler scheduler = sf.getScheduler();

try{
    List<JobExecutionContext> jobList = scheduler.getCurrentlyExecutingJobs();

    out.print("<h3>Current tasks: "+jobList.size()+"</h3>");
    for(JobExecutionContext jec : jobList){
        out.print("<hr>");
        JobDetail jobDetail = jec.getJobDetail();
        Trigger trigger = jec.getTrigger();
        TriggerState state = scheduler.getTriggerState(trigger.getKey());
        %>
        <table style="width: 400px; background-color: #ffffff;">
            <tr style="height: 23px;">
                <td style="width: 190px;">
                    class:
                </td>
                <td style="width: 210px;">
                    <b><%=jec.getJobInstance().toString()%></b>
                </td>
            </tr>    
            <tr style="height: 23px;">
                <td>
                    descr:
                </td>
                <td>
                    <i><%=jobDetail.getDescription()%></i>
                </td>
            </tr>                    
            <tr style="height: 23px;">
                <td>
                    next fire time:
                </td>
                <td>
                    <%=new Timestamp(trigger.getFireTimeAfter(new Timestamp(System.currentTimeMillis())).getTime())%>
                </td>
            </tr> 
            <tr style="height: 23px;">
                <td>
                    prior:
                </td>
                <td>
                    <%=state.toString()%>
                </td>
            </tr>                 
        </table>
        <%
    }
}catch(Exception ex){
    out.print(ex.getMessage());
}

out.print("<hr>");

// getting all tasks
try{
    List<String> jobGroups = scheduler.getJobGroupNames();

    out.print("<h3>Triggers: "+jobGroups.size()+"</h3>");
    for (String jName : jobGroups){
        GroupMatcher<JobKey> matcher = GroupMatcher.groupEquals(jName);
        Set keys = scheduler.getJobKeys(matcher);
        Iterator iter = keys.iterator();
        while (iter.hasNext()){
            JobKey jk = (JobKey)iter.next();
            JobDetail jobDetail = scheduler.getJobDetail(jk);
            // JobDataMap jobDataMap = jobDetail.getJobDataMap();

            List<? extends Trigger> triggers = scheduler.getTriggersOfJob(jk);
            for(Trigger t : triggers){
                out.print("<hr>");
                TriggerState state = scheduler.getTriggerState(t.getKey());
                %>

                <table style="width: 400px; background-color: #ffffff;">
                    <tr style="height: 23px;">
                        <td style="width: 190px;">
                            group/class:
                        </td>
                        <td style="width: 210px;">
                            <b><%=t.getJobKey().toString()%></b>
                        </td>
                    </tr>
                    <tr style="height: 23px;">
                        <td style="width: 190px;">
                            descr:
                        </td>
                        <td style="width: 210px;">
                            <i><%=jobDetail.getDescription()%></i>
                        </td>
                    </tr>                        
                    <tr style="height: 23px;">
                        <td>
                            curr time:
                        </td>
                        <td>
                            <%=new Timestamp(System.currentTimeMillis())%>
                        </td>
                    </tr>                        
                    <tr style="height: 23px;">
                        <td>
                            next fire time:
                        </td>
                        <td>
                            <%=new Timestamp(t.getFireTimeAfter(new Timestamp(System.currentTimeMillis())).getTime())%>
                        </td>
                    </tr>                          
                    <tr style="height: 23px;">
                        <td>
                            prior:
                        </td>
                        <td>
                            <%=state.toString()%>
                        </td>
                    </tr>                         
                </table>

                <%
            }
        }
    }
    out.print("<hr>");
}catch (SchedulerException ex){
    out.print(ex.getMessage());
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:29:46.990

Quartz`JobDetails`以序列化的 map ( `JobDataMap`) 格式存储。除非`deserialization`很难知道地图的实际内容是什么。

在您的情况下，我认为没有直接的方法，您可能需要找到一种解决方法，例如将作业数据映射值存储到`Trigger id`与之关联的单独表中，但我不确定该解决方案的销售情况如何。

# javascript - 从资产目录加载的网页中未定义 jquery

> ID：11028390
> 
> 赞同：0
> 
> 时间：2012-06-14T07:17:13.733
> 
> 标签：javascript, android, jquery, android-webview

我的应用程序附带了一堆 html 文件，并捆绑在 assets 文件夹中。

我将这样的页面加载到我的 webview 中：

```
WebView webView = (WebView) findViewById(R.id.webview);
WebSettings settings = webView.getSettings();
settings.setJavaScriptEnabled(true);
settings.setDomStorageEnabled(true);

webView.setWebChromeClient(new WebChromeClient() {

     @Override
     public void onConsoleMessage(String message, int lineNumber, String sourceID) {
        Log.d("MyApplication", message + " -- From line " + lineNumber + " of " + sourceID);
     }
});
webView.loadUrl("file:///android_asset/_lib/jquery-1.6.1.min.js");
webView.loadUrl("file:///android_asset/" + page); 
```

现在如果页面包含这个：

```
<!-- jQuery library -->
<script type="text/javascript" src = "_lib/jquery-1.6.1.min.js"></script>
<script src = "_lib/jquery.easing-1.3.js"></script>

<!-- iosSlider plugin -->
<script src = "javascript/jquery.iosslider.js"></script> 
```

我收到以下错误：

```
Uncaught ReferenceError: jQuery is not defined at file:///android_asset/javascript/jquery.iosslider.js:32 
```

如果我从网络服务器加载相同的页面，则 javascript 会按预期工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:47:48.650

问题似乎是lib文件夹前面的_。jquery.iosslider.js 文件执行没有问题。

我删除了文件夹名称和 html 文件中的 _，现在一切正常。

# ios - 如何隐藏/显示自定义导航栏？

> ID：11028404
> 
> 赞同：1
> 
> 时间：2012-06-14T07:18:30.487
> 
> 标签：ios, uinavigationcontroller, uinavigationbar, uinavigationitem

在我的 iOS 应用程序中，我使用自定义`NavigationItem`（从 Nib 文件添加到根视图）。默认情况下`NavigationItem`，我可以使用

`[self.navigationController setNavigationBarHidden:YES animated:YES];`

隐藏它们，但我没有找到任何方法来隐藏我的习惯，`NavigationItem`或者`removeFromSuperview`，有人可以请给我一些指示吗？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:43:29.853

与`[self.navigationController setNavigationBarHidden:YES animated:YES];`您一起隐藏完整的导航栏，而不仅仅是`navItem`. 据我了解，您将其添加`navitem`为子视图。`UIVview`您必须保留对例如的某种参考。带有属性或标签，然后删除/隐藏`navItem`.

由于您只是隐藏导航栏，因此它仍然存在。因此，您可以使用它们的 frame 属性移动视图。

所以我猜你移动内容视图并完全跳过隐藏/删除就足够了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T12:32:11.120

您应该为您的导航项创建出口，并且您可以通过自己编写代码来设置动画/隐藏

# c# - DataGridView 单元格编辑结束事件

> ID：11028405
> 
> 赞同：4
> 
> 时间：2012-06-14T07:18:34.450
> 
> 标签：c#, .net, winforms, datagridview

我有一个 DataGridView，其中有一列“总计”。DataGridView 是可编辑的。在网格视图下方，我有一个文本框，其中我想要网格的“总计”列的总数。我所做的是，当用户进入网格中的总列时，它会反映到网格视图下方的总文本字段中。为了在文本字段中显示总计，我添加了网格视图的总计列。但问题是，如果我第一次进入网格视图的总列，它会立即反映到下面的文本字段中。但是如果我在 DataGridView 的总列中编辑相同的值，网格下方的文本字段会将其与以前的值相加，我希望在文本字段中添加新的编辑值。如何解决这个问题？以下是代码：-

```
private void grdCaret_CellEndEdit(object sender, DataGridViewCellEventArgs e)
{
    try
    {  
        string value = grdCaret.Rows[e.RowIndex].Cells[e.ColumnIndex].Value.ToString();
        if (e.ColumnIndex == 1)
        {
           // int val = int.Parse(value);
           // quantity = val;
           // ekundag = ekundag + quantity;
           //tbTotDag_cr.Text =ekundag.ToString();

            int quantity = 0;

            foreach (DataGridViewRow row in grdCaret.Rows)
                quantity +=(int) grdCaret.Rows[e.RowIndex].Cells[1].Value.ToString();
                //quantity +=(int) row.Cells[1].Value;

            tbTotDag_cr.Text = quantity.ToString();
        }

        if (e.ColumnIndex == 2)
        {
            float val = float.Parse(value);
            total = val;
            ekunrakam = ekunrakam + total;
            tbTotPrice_cr.Text = ekunrakam.ToString();
        }
        grdCaret.Columns[3].ReadOnly = false;
    }
    catch (Exception ex)
    {
        MessageBox.Show(ex.Message.ToString());
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-14T07:21:21.230

使用`CellEndEdit`事件更新您的总价值：

```
private void dataGridView_CellEndEdit(object sender, DataGridViewCellEventArgs e)
{
    int total = 0;

    foreach (DataGridViewRow row in dataGridView.Rows)            
        total += (int)row.Cells[columnTotal.Index].Value;

    totalTextBox.Text = total.ToString();           
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-17T03:49:04.907

```
<code>Private Sub EndEdit(ByVal sender As System.Object, ByVal e As EventArgs) Handles DataGridView1.CurrentCellDirtyStateChanged
        If DataGridView1.IsCurrentCellDirty Then
            DataGridView1.CommitEdit(DataGridViewDataErrorContexts.Commit)
        End If
    End Sub

<code>
    Private Sub DataGridView1_TextChanged(ByVal sender As System.Object, ByVal e As 
  System.Windows.Forms.DataGridViewCellEventArgs) Handles 
                                 DataGridView1.CellValueChanged
        If e.RowIndex = -1 Then
            isdirty = True
        End If

//All code you want to perform on change event

<code>    End Sub
</code> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T07:36:55.130

```
private void dataGridView_CellValueChanged(object sender, DataGridViewCellEventArgs e)
{
  if (dataGridView.Rows.Count > 0)
   {
     Double dobTotal = 0.00;
     if (dataGridView.Columns["colAmountPaid"].Name.ToString().Equals("colAmountPaid"))
      {
       for (int i = 0; i < dataGridView.Rows.Count; i++)
       {
        dobTotal += Double.Parse(dataGridView["colAmountPaid",i].EditedFormattedValue.ToString());
       }
       txtTotal.Text = dobTotal.ToString();
      }
     }
   } 
```

# web-services - 使用 Delphi 的 Dynamics CRM 2011 网络服务？

> ID：11028408
> 
> 赞同：1
> 
> 时间：2012-06-14T07:18:52.877
> 
> 标签：web-services, delphi, dynamics-crm-2011

有没有人使用 Delphi 或其他非微软语言连接到动态 crm 2011 网络服务？我能找到的唯一示例是使用 SDK，而 WDSL 无济于事。在以前的 CRM 版本中，WDSL 包含所有实体和（自定义）属性，现在 WDSL 基本上是空的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T11:38:18.730

[这个 SO 答案](https://stackoverflow.com/a/5275285/800214)指出 Dynamics WS 不再存在，您现在必须使用 WCF。我可以告诉你，Delphi 并不完全支持 WCF，所以你必须在 C# 或 VB 中构建一个 .NET 包装 DLL。

# php - CodeIgniter - 如何查询数据库会话？

> ID：11028410
> 
> 赞同：1
> 
> 时间：2012-06-14T07:18:54.647
> 
> 标签：php, codeigniter, session

我的 CI 会话存储在我的数据库中。

我在 CodeIgniter 之外有一个原生 PHP 脚本，它需要一些`userdata`. 有没有办法让我查询 CI 会话表并找出当前用户的会话是什么？我认为 CI 会检查用户 IP 和“浏览器数据字符串的前 120 个字符”。这两条数据可供外部脚本使用，对吧？我可以查询这两个字段并获得准确的结果吗？还是 CI 不知何故知道这`session_id`是什么？

或者，我认为我可以从 CI 设置一个包含我需要的信息的本机会话变量，并尝试在外部 PHP 脚本中访问它。它没有用。

我愿意接受建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T13:36:49.950

我使用此代码将彗星聊天（一个外部应用程序）与我的 CI 用户系统集成：您可能需要修改它，但您可以获得 gyst：

```
$decoded_ci_session = @unserialize(@stripslashes($_COOKIE['ci_session']));

$sql = "SELECT user_data FROM ".TABLE_PREFIX."sessions WHERE session_id = '".$decoded_ci_session['session_id']."'";

$query = mysql_query($sql);
$row = mysql_fetch_array($query);
$decoded_ci_session = @unserialize(@stripslashes($row[0])); 
```

最后 $decoded_ci_session 应该包含所有用户数据，通常在`$this->session->userdata()`

# actionscript-3 - 主菜单中的actionscript 3新游戏btn不起作用

> ID：11028411
> 
> 赞同：0
> 
> 时间：2012-06-14T07:19:01.953
> 
> 标签：actionscript-3, flash

> 我的游戏有问题。
> 当我玩 1 级并返回主菜单时，新游戏按钮不再起作用。
> 有谁知道可能是什么问题？

这就是我在主菜单中的内容：

```
package  
{
import flash.display.MovieClip;
import flash.events.MouseEvent;
import HomeTitel;
import InstBtn;
import NieuwBtn;    

public class Hoofdmenu extends MovieClip 
{
    private var homeTitel:HomeTitel;
    private var instBtn:InstBtn;
    private var nieuwBtn:NieuwBtn;
    private var inst:Instructions;
    private var level1:Level1;

    public function Hoofdmenu():void 
    {
        placeHomeTitel();
        placeInstructionsBtn();
        placeNieuwBtn();
    }

    private function placeHomeTitel():void
    {
        homeTitel = new HomeTitel();
        addChild(homeTitel);
        homeTitel.x = 275;
        homeTitel.y = 20;
    }

    private function placeInstBtn():void
    {
        instBtn = new InstBtn();
        addChild(instBtn);
        instBtn.x = 275;
        instBtn.y = 225;
        instBtn.addEventListener(MouseEvent.CLICK, gotoInstructions);
    }

    private function gotoInstructions(event:MouseEvent)
    {
        inst = new Instructoins();
        addChild(inst);
    }

    private function placeNewBtn():void
    {
        newBtn = new NewBtn();
        addChild(newBtn);
        newBtn.x = 275;
        newBtn.y = 175;
        newBtn.addEventListener(MouseEvent.CLICK, gotoLevel1);
    }

    private function gotoLevel1(event:MouseEvent):void
    {
        level1 = new Level1();
        addChild(level1);
    }

} 
```

}

这就是我在 level1 中的内容：

```
package 
{
import flash.display.MovieClip;
import flash.events.MouseEvent;
import flash.events.Event;
import flash.utils.Timer;
import flash.events.TimerEvent;
import L1Achtergrond;
import L1Titel;
import MenuBtn;
import Sun;
import Min;
import GameOver;
import WellDone;
import VolgLevel;
import HoofdmenuBtn;
import Opnieuw;

public class Level1 extends MovieClip
{
    private var back:L1Achtergrond;
    private var titel:L1Titel;
    private var menu:MenuBtn;
    private var sun:Sun;
    private var aantalSun:int = 5;
    private var counter:int;
    private var sunArray:Array = new Array();
    private var timer:Timer;
    private var min:Min;
    private var gameover:GameOver;
    private var welldone:WellDone;
    private var volglevel:VolgLevel;
    private var opn:Opnieuw;
    private var hoofdBtn:HoofdmenuBtn;
    private var level1:Level1;
    private var level2:Level2;
    private var hoofdmenu:Hoofdmenu;

    public function Level1():void
    {
        back = new L1Achtergrond();
        addChild(back);

        placeTitel();

        timer = new Timer(3000,1);
        timer.addEventListener(TimerEvent.TIMER_COMPLETE, startLevel1);
        timer.start();
    }

    private function placeTitel():void
    {
        titel = new L1Titel();
        addChild(titel);
        titel.x = 275;
        titel.y = 150;
    }

    private function startLevel1(event:TimerEvent):void
    {
        for (counter = 0; counter < aantalSun; counter++)
        {
            sun = new Sun();
            sunArray.push(sun);
            addChild(sun);
            sun.addEventListener(MouseEvent.CLICK, checkSun);
        }

        min = new Min();
        addChild(min);
        min.x = 275;
        min.y = 30;
        min.play();
        min.width = 40;
        min.height = 20;

        timer = new Timer(20000,1);
        timer.addEventListener(TimerEvent.TIMER_COMPLETE, gameOver);
        timer.start();

        menu = new MenuBtn();
        addChild(menu);
        menu.x = 510;
        menu.y = 380;
        menu.addEventListener(MouseEvent.CLICK, gotoHoofdmenu);
    }

    private function checkSun(event:MouseEvent):void
    {
        aantalSun--;

        if (aantalSun == 0)
        {
            wellDone();
            timer.stop();
        }
    }

    public function wellDone():void
    {
        removeChild(menu);
        removeChild(min);

        welldone = new WellDone();
        addChild(welldone);
        welldone.x = 275;
        welldone.y = 150;

        volglevel = new VolgLevel();
        addChild(volglevel);
        volglevel.x = 300;
        volglevel.y = 250;
        volglevel.addEventListener(MouseEvent.CLICK, gotoLevel2);

        hoofdBtn = new HoofdmenuBtn();
        addChild(hoofdBtn);
        hoofdBtn.x = 95;
        hoofdBtn.y = 250;
        hoofdBtn.addEventListener(MouseEvent.CLICK, gotoHoofdmenuW);
    }

    private function gameOver(event:TimerEvent):void
    {
        //timer.stop();

        removeChild(min);
        removeChild(menu);

        for (counter = 0; counter < sunArray.length; counter++)
        {
            removeChild(sunArray[counter]);
        }

        gameover = new GameOver();
        addChild(gameover);
        gameover.x = 275;
        gameover.y = 150;

        opn = new Opnieuw();
        addChild(opn);
        opn.x = 300;
        opn.y = 250;
        opn.addEventListener(MouseEvent.CLICK, level1Opn);

        hoofdBtn = new HoofdmenuBtn();
        addChild(hoofdBtn);
        hoofdBtn.x = 95;
        hoofdBtn.y = 250;
        hoofdBtn.addEventListener(MouseEvent.CLICK, gotoHoofdmenuG);
    }

    private function level1Opn(event:MouseEvent):void
    {
        removeChild(gameover);
        removeChild(opn);
        removeChild(hoofdBtn);
        removeChild(back);

        level1 = new Level1();
        addChild(level1);
    }

    private function gotoHoofdmenu(event:MouseEvent):void
    {
        timer.stop();

        removeChild(min);
        removeChild(menu);
        removeChild(back);

        for (counter = 0; counter < sunArray.length; counter++)
        {
            removeChild(sunArray[counter]);
        }
    }

    private function gotoHoofdmenuW(event:MouseEvent):void
    {
        removeChild(back);
        removeChild(welldone);
        removeChild(hoofdBtn);
        removeChild(volglevel);
    }

    private function gotoHoofdmenuG(event:MouseEvent):void
    {
        removeChild(back);
        removeChild(gameover);
        removeChild(hoofdBtn);
        removeChild(opn);
    }

    private function gotoLevel2(event:MouseEvent):void
    {
        removeChild(back);
        removeChild(volglevel);
        removeChild(hoofdBtn);
        removeChild(welldone);

        level2 = new Level2();
        addChild(level2);
    }

} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T09:18:52.210

我认为你应该重建/重新设计你的游戏结构。

现在，您的代码做了一些奇怪的事情：

*   在您的 Main 类中：每次调用函数`gotoLevel1`时，您都会创建一个新的实例`Level1`
*   在`Level1`函数的类中，`level1Opn`您创建另一个“Level1”实例并将其添加到 Level1 中 - 相当混乱。

这不仅仅是小的代码调整——你应该非常显着地重建它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T09:20:25.703

似乎您永远不会从菜单中删除 level1 。即使您从级别 1 中删除了所有子级，影片剪辑仍将存在并位于您的菜单顶部。

我建议您阅读本教程，因为它将教您一些有关构建代码的基本技能，以及特定的游戏开发功能（声音、预加载、将内容保存在 cookie 中）： http: [//gamedev.michaeljameswilliams.com/2008/09 /17/avoider-game-tutorial-1/](http://gamedev.michaeljameswilliams.com/2008/09/17/avoider-game-tutorial-1/)

# ruby-on-rails-3.1 - 流浪汉中的克隆动作

> ID：11028413
> 
> 赞同：1
> 
> 时间：2012-06-14T07:19:08.517
> 
> 标签：ruby-on-rails-3.1, controller, clone, customization, hobo

我正在编写代码来克隆对象，但没有来自 Hobo 文档的提示。

我知道如何在 Rails 中做到这一点，但在 Hobo 中似乎没有直观的方法。

场景是在记录页面添加按钮，克隆现有记录，创建后重定向到新记录。

例如

```
POST /papers/10/clone 
```

然后将创建新记录 123。

完成该操作后，它将重定向到页面`/papers/123`

是否有任何示例和指南来实现该场景？

如果 Paper 有很多评论，如何在没有权限错误的情况下克隆它们？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T15:07:09.157

Hobo 对克隆对象没有任何特殊支持，因此您必须下拉到 Rails 来执行此操作：

```
def clone
  paper = Paper.find(params[:id])
  fail if paper.nil?
  clone = paper.clone
  clone.save!
  redirect_to paper_path(clone)
end 
```

您可以通过 Hobo 的 web_method 钩子将这个新的控制器操作添加到您的路由中，但这是为其他目的而设计的。你最好以标准的 Rails 方式将它添加到你的 config/routes.rb 中。

# objective-c - 按日期对 NSMutableArray 进行排序

> ID：11028417
> 
> 赞同：1
> 
> 时间：2012-06-14T07:19:28.447
> 
> 标签：objective-c, ios, cocoa-touch, nsmutablearray, nssortdescriptor

我想按日期对可变数组进行排序。我的数组包含几个带有键的字典：key1，key2，birthday。现在，我必须按它的生日键排序：我知道这可以使用：

```
NSSortDescriptor *descriptor = [[NSSortDescriptor alloc] initWithKey:@"birthday" ascending:YES]; 
[myArray sortUsingDescriptors:[NSArray arrayWithObjects:descriptor,nil]]; 
```

但我的问题是我只想对那些不包含空生日字段的数组进行排序。我的数组将包含几个空的生日字段。我不想对这些进行排序。最后我必须通过`[self.mTable reloadData];`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:29:24.713

首先收集所有没有生日的对象的索引。

```
NSIndexSet *indexSet = [NSIndexSet indexSet];
[array enumerateObjectsUsingBlock:^(NSDictionary *dict, NSUInteger idx, BOOL *stop)
{
    if(![[dict allKeys] containsObject:@"birthday"]){
        [indexSet addIndex:idx];
    }
}]; 
```

现在将它们从原始数组中删除

```
[array removeObjectsAtIndexes:indexSet]; 
```

使用[比较器块](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html)，排序看起来像

```
[array sortUsingComparator: ^(NSDictionary *d1, NSDictionary *d2) {    
    NSDate *date1 = [d1 objectForKey:@"birthday"];
    NSDate *date2 = [d2 objectForKey:@"birthday"];

    return [date1 compare:date2]
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:52:08.107

创建一个不同的数组来支持您的表格视图，如下所示：

```
NSDictionary* obj1 = [NSDictionary dictionaryWithObject: [NSDate date] forKey: @"birthday"];
NSDictionary* obj2 = [NSDictionary dictionaryWithObject: [NSDate dateWithTimeIntervalSince1970: 0] forKey: @"birthday"];
NSDictionary* obj3 = [NSDictionary dictionaryWithObject: @"wow" forKey: @"no_birthday"];

NSArray* all = [NSArray arrayWithObjects: obj1, obj2, obj3, nil];
NSArray* onlyWithBirthday = [all valueForKeyPath: @"@unionOfObjects.birthday"]; 
```

如果您需要表格视图的完整对象，请继续执行以下代码：

```
NSPredicate* filter = [NSPredicate predicateWithFormat: @"SELF.birthday IN %@", onlyWithBirthday];
NSArray* datasource = [all filteredArrayUsingPredicate: filter]; 
```

然后，您可以应用您选择的排序方法。

# ios - 让 UITableView 像 UIPickerView 一样滚动

> ID：11028421
> 
> 赞同：1
> 
> 时间：2012-06-14T07:19:41.793
> 
> 标签：ios, uitableview, uiscrollview, infinite-loop

我在 UIViewController 上有一个 UITableView。这个表有“说”5个可见的类别可供选择。但是在包含内容的数组中，我“说”了 10 个类别。我现在创建的是一个普通的滚动表，它从索引 0 上的类别 1 到索引 9 上的类别 10。但我更想要的是类别 1 也在类别 10 之后，反之亦然。

所以基本上是一个静态数组的无限循环。

我已经尝试过使用 scrollViewDidScroll: 方法，但是当我这样做时，它不会像您期望 UITableView 滚动那​​样滚动。它跑到一个随机点，移动一两个类别是不可能的。

这是我的代码示例。希望有人可以提供帮助。

```
- (void)scrollViewDidScroll:(UIScrollView *)scrollView
{
    if (scrollView == categoryView){
        if (categoryView.contentOffset.y > 0.0) {
            loopcounter++;
            NSLog(@"ScrollView Scrolled DOWN");
            [categorytablecontent insertObject:[categorytablecontent objectAtIndex:0] atIndex:[categorytablecontent count]-1];
            [categorytablecontent removeObjectAtIndex:0];
            [categoryView reloadData];
        }
        if (categoryView.contentOffset.y < 0.0) {
            loopcounter = [categorytablecontent count];
            NSLog(@"ScrollView Scrolled UP");
            [categorytablecontent insertObject:[categorytablecontent objectAtIndex:[categorytablecontent count]-1] atIndex:0];
            [categorytablecontent removeObjectAtIndex:[categorytablecontent count]-1];
            [categoryView reloadData];
        }

        a = categoryView.visibleCells;

        for (UITableViewCell *cell in a){
            NSLog(@"Current Visible cell: %@", cell.textLabel.text);
        }
        NSLog(@"Current offset: %@", categoryView.contentOffset.y);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T16:03:39.580

有不止一种好方法可以做到这一点。您的控制器是否实现了*`UITableViewDataSource`协议*？如果是这样，最简单的事情可能是只返回数据集大小的模数`cellForRowAtIndexPath`。

就像是：

```
-(UITableViewCell*)tableView:(UITableView*)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *cellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
    }

    // Use appropriate fields for your categorytablecontent object here...
    cell.textLabel.text = [categorytablecontent objectAtIndex:(indexPath.row % [categorytablecontent count])];

    return cell;
} 
```

这应该会产生一个很好的平滑无限滚动，循环通过您的静态（或动态）内容。

# function - 在除一个元素之外的每个元素上运行 mootools 函数

> ID：11028424
> 
> 赞同：0
> 
> 时间：2012-06-14T07:19:51.360
> 
> 标签：function, events, mootools

我有两张地图：

```
var map1 = document.id('map1');
var map2 = document.id('map2'); 
```

第二张地图是隐藏的。

```
map2.setStyle('display','none'); 
```

在第一个地图上，有一个元素（链接）具有唯一的 id - 单击此元素时我想运行另一个函数（隐藏第一个地图并显示第二个地图）。

我有：

```
 var links = document.id('map1').getElements('a');     

  links.each(function(link) { 
  link.addEvent('click', function(e) {
   e.stop();
    //do something with links
  }); 
```

我尝试这样的方式：

```
var unique_link = document.id('my_unique_id').getElements('a');

unique_link.addEvent("click", function(){
links.removeEvent('click');
map1.setStyle('display','none');
map2.setStyle('display','block');
var links = document.id('map2').getElements('a'); 
}); 
```

但是当我点击这个独特的元素时，第一个功能仍在运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T00:07:50.763

我对您的问题的理解是您正在尝试在地图之间切换，并且当您切换时，单击事件处理程序会附加到地图链接。

首先对于切换，您需要跟踪哪个是可见的，以便您可以正确隐藏它并使另一个可见：

```
var unique_link = $$('#my_unique_id a'),
    // keep track of which map is visible
    currentMap = map1;

unique_link.addEvent('click', function(e){
    // Prevent the default behavior, but still allow bubbling of events
    e.preventDefault();

    // Hide the current map
    currentMap.setStyle('display', 'none');

    // store the correct map by comparing the two maps and making it visible
    currentMap = (currentMap == map1 ? map2 : map1).setStyle('display', 'block');

}); 
```

澄清一下，`currentMap = (currentMap == map1 ? map2 : map1)`称为三元运算。它是 if/else 的简写，可以重写为：

```
if (currentMap == map1) {
    currentMap = map2;
} else {
    currentMap = map1;
}

currentMap.setStyle('display', 'block'); 
```

接下来，为什么要去掉每张地图的链接上的事件呢？当您在地图之间切换时，它们不能保持连接吗？

最后，您询问了事件委托和单击时访问值的问题。以下是它在 MooTools 中如何工作的示例：

```
// We pass an array of map1 and map2 through $$ to make sure that the returned value is an element collection
// So we can use addEvent on both elements.

// The event "type" we would have passed to addEvent has changed, using a psuedo event called "relay", which handles event delegation
// It takes a selector for matching elements

// The function that is passed to addEvent has two arugments, e, which is the event object, and element, which is the element that the
// event is being delegated to.
$$([map1, map2]).addEvent('click:relay(a)', function(e, element){
    // Prevent the default behavior of the anchors
    e.preventDefault();

    // element argument is the anchor. So you can access it this way.
   element.get('href');

   // or "this" can also be used.
   this.get('href');

}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T08:07:33.400

`Element.removeEvent`不能这样工作。它要求您***同时***传递事件的名称（单击）和处理它的函数。这是因为可能有多个函数在`click`被触发时被调用。您可以使用`Element.removeEvents`删除所有点击处理功能，但这可能不是您真正想要的（尽管它可能没问题）。为了做到最好，你会这样做：

```
var handler = function(e) { e.stop(); /* do something with links */ }),
    links = document.id('map1').getElements('a');

links.addEvent('click', handler);

document.id('my_unique_id').getElements('a').addEvent('click', function() {
    links.removeEvent('click', handler);
    /* Other stuff */
}); 
```

哦，顺便说一句，这个：

```
document.id('some_id').getElements('.some-selector'); 
```

可以这样写：

```
$$('#some_id .some-selector'); 
```

# php - 如何在登录时自动识别用户，从数据库中检索他的数据？

> ID：11028427
> 
> 赞同：0
> 
> 时间：2012-06-14T07:20:15.667
> 
> 标签：php

```
<?php
error_reporting(0); 
session_start(); 
if( $_SESSION["logging"]&& $_SESSION["logged"])
{
 print_secure_content();
}
else {
if(!$_SESSION["logging"])
{  
$_SESSION["logging"]=true;
loginform();
}
   else if($_SESSION["logging"])
   {
     $number_of_rows=checkpass();
     if($number_of_rows==1)
        {   
         $_SESSION[user]=$_GET[userlogin];
         $_SESSION[logged]=true;
         $_SESSION[user_id]=$row['id'];
         print"<h1>You have loged in successfully</h1>";
         print_secure_content();
        }
        else{
            print "Wrong password or username, please try again.".'<br/>';  
            loginform();
        }
    }
 }

function loginform()
{
print "Please enter your login information to proceed with our site.".'<br/>'.'<br/>';
print ("<table border='2'><tr><td>Username</td><td><input type='text' name='userlogin'     size'20'></td></tr><tr><td>Password</td><td><input type='password' name='password'       size'20'></td></tr></table>").'<br/>';
print "<input type='submit' >"; 
print "<h3><a href='registerform.php'>Register now!</a></h3>";  
print "<br><a href='admin.php'>Admin login</a><br>";
}

function checkpass()
{
$servername="localhost";
$username="root";
$conn=  mysql_connect($servername,$username)or die(mysql_error());
mysql_select_db("kviz",$conn);
$sql="select * from korisnici where name='$_GET[userlogin]' and       password='$_GET[password]'";
$result=mysql_query($sql,$conn) or die(mysql_error());
return  mysql_num_rows($result);
}

function print_secure_content()
{
print("<b><h1>Hi mr.$_SESSION[user]</h1>");
 print "<br><h2>Only a logged in user can see this</h2><br><a href='index.htm'>Počni       kviz</a><br><br><a href='logout.php'>Logout</a><br>";    

}
?> 
```

这是我将他的数据插入数据库的地方

```
 $sql = "INSERT INTO tacni (id_tacnog, id_pitanja, id_korisnik,stanje) VALUES ('', '".$row['odg_id']."','$id_korisnika','tačan')";
////$id_korisnika means id_user 
```

这是我从数据库检索的地方

```
 $result = mysql_query("SELECT pitanja.*,tacni.*,korisnici.*
FROM pitanja
INNER JOIN tacni ON pitanja.id = tacni.id_pitanja
INNER JOIN korisnici ON pitanja.id = korisnici.id
 WHERE korisnici.id = '$id_korisnika'"); 
```

我需要识别哪个用户已登录，他的答案必须插入到具有 id 字段的表 korisnici(users) 中。我尝试过这样但没有任何反应，没有插入任何行。任何人都可以帮助我，并且给我写几行代码来完成这项工作，我将不胜感激任何帮助？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:34:30.277

1.  请使用 HTTP/POST 而不是 HTTP/GET 跨凭据发布。

2.  您的脚本正在使用 mysql_* 函数，并且您使用它的方式对[SQL Injection](http://en.wikipedia.org/wiki/SQL_injection)是开放的。请改用 MySQL 的[预处理语句](http://php.net/manual/en/pdo.prepared-statements.php)。

3.  尝试使用`$_SESSION["user"]`而不是`$_SESSION[user]`. 我认为这将解决您的问题。无论您想在哪里找出您正在处理的用户，使用`$_SESSION["user"]`来识别。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:22:51.673

您应该考虑为此目的使用 cookie。

# android - SimpleCursorAdapter，在 API 级别低于 11 时交换光标

> ID：11028437
> 
> 赞同：6
> 
> 时间：2012-06-14T07:21:02.010
> 
> 标签：android, android-cursor

尝试实现 LoaderManager + CursorLoader。

在 onFinish 方法适配器应该交换它的光标

```
 public void onLoadFinished(Loader<Cursor> loader, Cursor data) {
    // Swap the new cursor in.  (The framework will take care of closing the
    // old cursor once we return.)
    mAdapter.swapCursor(data);
  } 
```

但是从 API 级别 11 开始可以使用 swapCursor。

那么我应该如何在 android API 10 中交换光标？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-14T07:26:17.430

[兼容性库](http://developer.android.com/sdk/compatibility-library.html)需要实现。

它是[http://developer.android.com/reference/android/support/v4/widget/SimpleCursorAdapter.html](http://developer.android.com/reference/android/support/v4/widget/SimpleCursorAdapter.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-17T14:27:24.787

如果您按照 Android Studio 的建议包装和[swapCursor](https://developer.android.com/reference/android/support/v4/widget/SimpleCursorAdapter.html#swapCursor(android.database.Cursor))的解释旧光标未关闭，使用 android.widget.CursorAdapter，您会得到：

```
public void onLoadFinished(Loader<Cursor> loader, Cursor data) {
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {
        mAdapter.swapCursor(data);
    } else {
        Cursor oldCursor = mAdapter.getCursor();
        mAdapter.changeCursor(data);
        oldCursor.close();
    }
} 
```

# css - 如何更改 Primefaces/jqPlot 折线图的标签颜色？

> ID：11028439
> 
> 赞同：3
> 
> 时间：2012-06-14T07:21:04.157
> 
> 标签：css, jsf, primefaces, jqplot

我有一个使用 PrimeFaces（通过 jqPlot）库的简单 JSF 折线图：

```
<p:lineChart id="linear"
             value="#{team.chart}" 
             title="Lap Times" 
             xaxisLabel="Lap"
             yaxisLabel="Time (sec)"
             style="height:300px;width:600px" /> 
```

但是，我想更改图表的标题和 X/Y 标签颜色。我似乎找不到合适的 CSS 组合来实现这一点。例如，以下内容不起作用：

```
.jqplot-xaxis {
     /* skin */
     font-family: Lucida Grande, Lucida Sans, Arial, sans-serif; 
     color: white ! important;
     font-size: 90%;
 } 
```

有什么想法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-14T09:32:35.980

这正是我用于图表的标题和 X/Y 标签的内容：

```
.jqplot-title{
    color: #eeffdd;
}
.jqplot-xaxis-label{
    color: #eeccaa; 
}
.jqplot-yaxis-label{
    color: #eeccaa;
} 
```

类的设置`.jqplot-xaxis`工作正常，它只会改变 xaxis 的刻度。您可以通过设置例如快速测试它`font-size: 20px;`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-06T02:07:10.860

正如 Boro 在他对上述答案的评论中所说明的那样，使用 CanvasAxisLabelRenderer 时，您需要使用：

```
labelOptions: {textColor: '#eeccaa'} 
```

在 xaxis 或 yaxis 对象块中（您引用 labelRenderer 的同一位置）：

```
yaxis:{
  label: 'Your Label'
  labelRenderer: $.jqplot.CanvasAxisLabelRenderer,
  labelOptions: {textColor: '#eeccaa'},
  etc...
} 
```

只是认为突出显示这一点而不是将其隐藏在评论中会很好。

谢谢博罗！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-27T12:45:51.393

对于我的工作，这段代码

```
 axes: {
     xaxis: {
          borderColor: "#aa2626",
          tickOptions: {
             textColor: '#aa2626'
             }
          }
        } 
```

# salesforce - INVALID_SESSION_ID 为两个不同的 SF 用户使用合作伙伴/企业 wsdl

> ID：11028441
> 
> 赞同：1
> 
> 时间：2012-06-14T07:21:10.873
> 
> 标签：salesforce

我按照[此链接](http://wiki.developerforce.com/page/Force.com_for_ASP.NET_Developers)上给出的示例进行操作，它非常适合我的 SF 开发人员帐户。

但是，当我在不更改 Web 服务参考的情况下尝试使用不同的 SF 凭据进行相同操作时（因为其他帐户也有 apex Web 服务方法来提取潜在客户详细信息），它给了我以下错误（我为两个用户传递了正确的用户名、密码和访问令牌）。

> INVALID_SESSION_ID：在 SessionHeader 中发现无效的会话 ID：非法会话。找不到会话，缺少会话密钥：

我的问题是：.NET 应用程序如何为多个 SF 用户验证和访问各自的 Apex Web 服务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:00:07.293

确保在“会话设置”中未选中“将会话锁定到它们所源自的 IP 地址”。

# java - Java空指针异常 - 堆栈跟踪空

> ID：11028446
> 
> 赞同：4
> 
> 时间：2012-06-14T07:21:25.397
> 
> 标签：java, eclipse, nullpointerexception, jit

我在 Eclipse 中运行一个应用程序。它产生 6 个线程。其中一个线程给出了一个例外：

```
com.google.common.util.concurrent.UncheckedExecutionException: com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException 
```

堆栈跟踪是：`null`.

我正在使用日食。并且无法完成这些步骤（调试面板提供了一个非常顶级的函数跟踪异常发生的位置，这对于找到根本原因没有用处）。

如何调试此异常？

我是一个 Java 新手（虽然有 C++ 经验），可能错过了一些重要信息。

* * *

以下是一些相关代码：

```
import com.google.common.cache.Cache;
import com.google.common.cache.CacheBuilder;
import com.google.common.cache.CacheLoader;

Cache<BubbleKey, List<BlockData>> thecache;
// Above is initialized somewhere.. bit complex and code distributed across various file

//Somewhere else
List<BlockData>> __ll = thecache.getUnchecked(keydata); 
```

以上是造成它的原因。密钥数据已正确初始化。它可能在查找/比较键功能中，但我无法到达那里，因为没有堆栈跟踪。

* * *

~~多一点！在某些运行中，我得到了更多的调试输出。不过还是不知道怎么分析。~~

下面的异常是一个不同的异常，发生在后面的阶段，在上述异常在程序中发生 3-4 次之后。对于上述异常，正如我所提到的，从来没有任何堆栈跟踪。

```
at com.google.common.cache.CustomConcurrentHashMap$ComputedUncheckedException.get(CustomConcurrentHashMap.java:3305) ~[guava-10.0.1.jar:na]
    at com.google.common.cache.CustomConcurrentHashMap$ComputingValueReference.compute(CustomConcurrentHashMap.java:3441) ~[guava-10.0.1.jar:na]
    at com.google.common.cache.CustomConcurrentHashMap$Segment.compute(CustomConcurrentHashMap.java:2322) ~[guava-10.0.1.jar:na]
    at com.google.common.cache.CustomConcurrentHashMap$Segment.getOrCompute(CustomConcurrentHashMap.java:2291) ~[guava-10.0.1.jar:na]
    at com.google.common.cache.CustomConcurrentHashMap.getOrCompute(CustomConcurrentHashMap.java:3802) ~[guava-10.0.1.jar:na]
    at com.google.common.cache.ComputingCache.get(ComputingCache.java:46) ~[guava-10.0.1.jar:na]
    at com.google.common.cache.AbstractCache.getUnchecked(AbstractCache.java:49) ~[guava-10.0.1.jar:na]
 (at myfunction.... ) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T20:57:10.733

听起来您在调试时遇到了错误，您是否尝试过设置一些断点并查看是否可以准确追踪错误的来源？如果它是一个多线程应用程序，您应该考虑访问未初始化数据的方法，否则这些数据是不可能的。

# android - 如何辞职/修改标准的 Android 应用程序？

> ID：11028448
> 
> 赞同：0
> 
> 时间：2012-06-14T07:21:56.353
> 
> 标签：android, junit, adb

我正在使用 Android 的 Eclipse 扩展和 JUnit 框架来对 Android 应用程序的性能进行基准测试。由于我想将我的应用程序与内置的 Android 应用程序（例如，Android 的内置浏览器）进行比较，我需要对这些应用程序进行签名以便能够使用 JUnit 检测运行程序检测它们。

我可以从手机的 system/app 目录中获取应用程序，也可以使用 re-sign.jar 对它们进行签名。但是，我无法用辞职版本替换手机上的应用程序。

我都试过了

```
adb install -r Resigned.app 
```

和

```
abd uninstall com.android.<originalapp> 
```

但两者都不起作用。

是否有可能替换标准应用程序？

我可以通过覆盖系统/应用程序下的 apk 文件来替换应用程序吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:24:42.360

您只能替换或卸载有根设备上的系统应用程序。在无根（正常）设备上是不可能的。

如果您的设备*已*植根，这样的东西应该可以替换系统 APK：

```
adb shell su -c "mount -o rw,remount /system"
adb shell su -c "chmod 777 /system/app/"

adb push Re-signed.apk /system/app/original.apk

adb shell su -c "chmod 755 /system/app/"
adb shell su -c reboot 
```

但是，如果你这样做，请确保你知道你在做什么！至少，一定要保留原件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:31:08.853

您可以使用以下命令来完成：

```
adb shell mount -o remount rw /system/

adb push Resigned.apk /system/app 
```

# jquery - 如何从输入中获取所有值

> ID：11028455
> 
> 赞同：1
> 
> 时间：2012-06-14T07:22:31.907
> 
> 标签：jquery, html

我有以下示例 HTML：

```
<table id="modem_list">
   <tr class="input_1" name="modem">
      <td>iPad 1<input type="hidden" value="1" class="output_1"></td>
   </tr>
   <tr class="input_2" name="modem">
      <td>iPad 2<input type="hidden" value="2" class="output_2"></td>
   </tr>
   <tr class="input_3" name="modem">
      <td>iPad 3<input type="hidden" value="3" class="output_3"></td>
   </tr>
</table> 
```

和 jQuery 脚本：

```
val = [];
jQuery('input[class^=ouput_]').each(function(i){
   val[i] = jQuery(this).val();
}); 
```

使用此脚本时出现错误，如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T07:23:38.833

像这样尝试

```
var val = [];
$('input[class^="output_"]').each(function(){
   val.push($(this).val());
}); 
```

1.  你写`ouput`而不是`output`
2.  将属性值用引号括起来`""`
3.  （并且使用 push 不需要为数组使用显式索引）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-14T07:27:03.420

虽然其他答案完全有效，但这里有一个稍短的替代方法，使用[`map`](http://api.jquery.com/map/), with[`get`](http://api.jquery.com/get/)返回一个数组：

```
var val = jQuery('input[class^=output_]').map(function() {
    return this.value;
}).get(); 
```

请注意，在您的代码中，您编写了“输出”而不是“输出”。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T07:24:42.277

你可以使用同一个类，你使用了错误的类名试试：

```
var valArr = [];
jQuery("input[class^='output_']").each(function(){
   valArr.push(jQuery(this).val());
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-14T12:00:42.580

看，你有

```
...class^=ouput_ 
```

代替

```
...class^=output_ 
```

你也可以写这个

```
val = [];
jQuery('input[class^=output_]').each(function(i){
   val.push(jQuery(this).val());
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-14T09:09:27.367

您可以使用：

```
var val= $("#modem_list :input").serializeArray(); 
```

# linux - 如何为 Linux 内核编译库？

> ID：11028459
> 
> 赞同：2
> 
> 时间：2012-06-14T07:22:49.647
> 
> 标签：linux, kernel, libraries

我有一个 C 代码库，它有一个抽象层，我希望移植到 Linux 内核。

谷歌搜索“为 Linux 内核编译库”是没有用的，因为你找到的只是“编译 Linux 内核”的命中。

有没有人有关于如何为内核编译库的解释/描述/等指针？

这个问题甚至正确吗？内核有库的概念吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:29:37.050

你想学习的是[创建一个内核模块](http://tldp.org/LDP/lkmpg/2.6/html/)。您可以选择使该库成为该模块的一部分（没有特定于 Linux 内核的内容），或者将其构建为带有导出符号的单独模块，从而允许重用。

对于绝大多数任务，我建议完全或大部分在用户空间中寻找解决方案（将库和所有使用它的代码保留在常规进程中）并仅在内核中运行绝对必要的代码（如果有的话）。

# jquery - jquery新消息在消息列表中向下滑动

> ID：11028465
> 
> 赞同：0
> 
> 时间：2012-06-14T07:23:07.300
> 
> 标签：jquery, jsf, primefaces, uirepeat

我在支持 bean 中有一个消息列表，我在 ui:repeat 标记中使用它来显示在 xhtml 页面上。

```
<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui" >
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" type="text/css" href="../Styles/homepage-style.css" />
        <link rel="stylesheet" type="text/css" href="../Styles/profile.css" />
        <title>Shadi Bandhan | We find the best match for you</title>

        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
        <script type="text/javascript">

            $(document).ready(function(){
                $("div#openMessage").hide();

            });

            function openMessage(id){
                //$("div#openMessage").slideDown(4000);
                alert(id);
            }
        </script>

    </h:head>

    <h:body>

        <div id="header">
            <ui:insert name="header" >
                <ui:include src="header.xhtml" />
            </ui:insert>
        </div>

        <div id="main-content">
            <p:growl autoUpdate="true" />

            <div id="left-pane">
                <div id="profile-info-area">

                    <div id="profile-info">

                        <span>
                            <img class="profileImg" src="../images/profileImg.jpg" width="185" height="200" />
                        </span>

                        <img class="request-btn" src="../images/request_photo_btn.jpg" height="35" width="156"/>

                        <a href="sentMessages.xhtml">Sent box</a> <br />
                        <a href="#">Drafts</a> <br />
                        <a href="#">My Packages</a> <br />
                        <a href="#">Other Settings</a> <br />
                        <a href="#">FAQs</a>
                    </div>

                </div>
                <div id="home-main-area">
                    <div id="messages-wrapper">

                        <div id="messages-header">

                            <div id="m-heading">
                                Messages - Inbox
                            </div>

                            <div id="m-search">

                                <div id="searchbox">
                                    Search Messages <input type="text" value="Search" />
                                </div>

                                <!--                                <div id="newmessage">
                                                                    <a href="#"> + New Message </a>
                                                                </div>-->

                            </div>

                        </div>

                        <h:form id="messagesForm">
                            <div id="messages">

                                <p:dialog id="messagesDialog" modal="true" widgetVar="messageDialog" resizable="false"  width="750" height="200" header="New Message" >  

                                    <h:panelGrid columns="2" id="dialogGrid">
                                        <p:column>
                                            <h:outputLabel for="msgRecepient"  value="To"/>
                                        </p:column>
                                        <p:column>
                                            <h:outputLabel id="msgRecepient" value="#{userMsg.userFullname}"  >

                                            </h:outputLabel>
                                        </p:column>
                                        <p:column>
                                            <h:outputLabel for="msgContents"  value="Message"/>
                                        </p:column>
                                        <p:column>
                                            <p:inputTextarea maxlength="300"  id="msgContents" value="#{messagesManagedBean.msg.message}" cols="65" rows="3" >
                                                <p:watermark for="msgContents" value="#{userMsg.userId}" />
                                            </p:inputTextarea>

                                        </p:column>

                                        <p:column>
                                            <p:commandButton id="msgSend" value="Send"  action="#{messagesManagedBean.sendMessage('reply')}" oncomplete="messageDialog.hide()"  >
                                                <f:param value="#{userMsg.userId}" name="messageSenderId" />
                                            </p:commandButton> 
                                        </p:column>

                                    </h:panelGrid>

                                </p:dialog>

                                <ui:repeat var="userMsg" value="#{messagesManagedBean.paginator1.model}">

                                    <center><img class="h-diff" src="../images/differentiator-profile.jpg" width="437" height="1" /></center>
                                    <div class="message">
                                        <div id="senderImg">
                                            <img class="senderImg" src="../images/profile-pic.jpg" width="50" height="50" />
                                        </div>
                                        <div id="message-txt-area">

                                            <div id="senderName">
                                                <p:commandLink styleClass="senderName" value="#{userMsg.userFullname}" action="#{myProfileManagedBean.loadProfileFrontInformation(userMsg.userId)}"></p:commandLink>
                                            </div>
                                            <div class="message-txt">
                                                #{userMsg.message}
                                            </div>
                                            <div id="msgAction">
                                                <!--                                                <a href="#" onclick="messageDialog.show()">Reply</a>-->
                                                <p:commandLink styleClass="reply-btn" value="Reply" oncomplete="messageDialog.show()" update=":messagesForm:dialogGrid">
                                                    <f:param name="userMsg" value="#{userMsg}" />
                                                </p:commandLink>
                                                <p:commandLink styleClass="open-btn" value="Open" onclick="openMessage(#{userMsg.userId})">
                                                    <f:param name="userMsg" value="#{userMsg}" />
                                                </p:commandLink>
                                            </div>

                                            <div id="openMessage">
                                                This is the new message. This is the new message. This is the new message. 
                                                This is the new message. This is the new message. This is the new message. 
                                                This is the new message. This is the new message. This is the new message. 
                                                This is the new message. This is the new message. This is the new message. 
                                                This is the new message. This is the new message. This is the new message. 
                                            </div>

                                        </div>
                                    </div>

                                </ui:repeat>
                                <center>
                                    <h:commandButton value="&lt; prev" action="#{messagesManagedBean.paginator1.prev}"/>
                                    <h:outputText value="#{messagesManagedBean.paginator1.pageIndex} / #{messagesManagedBean.paginator1.pages}"/>
                                    <h:commandButton value="next &gt;" action="#{messagesManagedBean.paginator1.next}"/>
                                    <h:inputHidden value="#{messagesManagedBean.paginator1.pageIndex}"/>
                                </center>

                            </div>
                        </h:form>

                    </div>
                </div>
            </div>

            <div id="right-pane">
                <div id="right-vline">
                    <img class="v-differenciator" src="../images/differentiator.jpg" />
                </div>

                <div id="right-suggestions-top">
                    <center>
                        <p>Profiles you may like</p>
                    </center>
                    <div id="right-suggestions-top-wrapper">
                        <div id="p-info-area-top-sugesstion">
                            <div id="p-img-sugesstion-top" >
                                <img src="../images/profile-pic.jpg" width="50" height="50"></img>
                            </div>
                            <div id="p-text-sugesstion-top" >
                                <p>Sania Mirza</p>

                                21<br/>
                                Muslim<br/>
                                Pakistan-Islamabad

                            </div>
                        </div>
                        <div id="p-info-area-top-sugesstion">
                            <div id="p-img-sugesstion-top" >
                                <img src="../images/profile-pic.jpg" width="50" height="50"></img>
                            </div>
                            <div id="p-text-sugesstion-top" >
                                <p>Sania Mirza</p>

                                21<br/>
                                Muslim<br/>
                                Pakistan-Islamabad

                            </div>
                        </div>
                        <div id="p-info-area-top-sugesstion">
                            <div id="p-img-sugesstion-top" >
                                <img src="../images/profile-pic.jpg" width="50" height="50"></img>
                            </div>
                            <div id="p-text-sugesstion-top" >
                                <p>Sania Mirza</p>

                                21<br/>
                                Muslim<br/>
                                Pakistan-Islamabad

                            </div>
                        </div>

                    </div>
                    <center>
                        <a href="">View More..</a>
                    </center>

                </div>
                <div id="right-suggestions-bottom">
                    <center>
                        <p>People Who might be Interested in you</p>
                    </center>
                    <div id="right-suggestions-top-wrapper">
                        <div id="p-info-area-top-sugesstion">
                            <div id="p-img-sugesstion-top" >
                                <img src="../images/profile-pic.jpg" width="50" height="50"></img>
                            </div>
                            <div id="p-text-sugesstion-top" >
                                <p>Sania Mirza</p>

                                21<br/>
                                Muslim<br/>
                                Pakistan-Islamabad

                            </div>
                        </div>
                        <div id="p-info-area-top-sugesstion">
                            <div id="p-img-sugesstion-top" >
                                <img src="../images/profile-pic.jpg" width="50" height="50"></img>
                            </div>
                            <div id="p-text-sugesstion-top" >
                                <p>Sania Mirza</p>

                                21<br/>
                                Muslim<br/>
                                Pakistan-Islamabad

                            </div>
                        </div>
                        <div id="p-info-area-top-sugesstion">
                            <div id="p-img-sugesstion-top" >
                                <img src="../images/profile-pic.jpg" width="50" height="50"></img>
                            </div>
                            <div id="p-text-sugesstion-top" >
                                <p>Sania Mirza</p>

                                21<br/>
                                Muslim<br/>
                                Pakistan-Islamabad

                            </div>
                        </div>

                    </div>
                    <center>
                        <a href="">View More..</a>
                    </center>

                </div>
                <div id="fb-twitter-icons" >

                    <img class="fb-icon" src="../images/fb-icon.jpg" />
                    <img class="twitter-icon" src="../images/twitter-icon.jpg" />
                </div>
                <div id="fb-twitter-labels">
                    <h:outputLabel  style="color: #680B0C;font-weight: bold;" value="Share &amp; likes"/>
                </div>
                <div id="text-info-profile" >
                    <b>Want to know why you are still single?</b>
                    <p>
                        We understand it is not easy to find a suitable match,ShadiBandhan.com provides safe plateform to find your ideal match.
                    </p>
                    <a href="#">[Read More..]</a>
                </div>

            </div>
        </div>

        <div id="footer">
            <ui:insert name="footer" >
                <ui:include src="footer.xhtml" />
            </ui:insert>
        </div>

    </h:body>
</html> 
```

现在，我想要那个

1.  当前显示在主页上的消息将类似于“hello it my...”和
2.  当一个人点击打开时，会向下滑动一个 div，其中将显示完整的消息以及一个回复和关闭按钮。

我正在使用primefaces，如果primefaces中有一个控件可以用来实现这一切，请告诉我。我想创建动态 div id，但不知道如何使它工作，这就是为什么在这里发帖......

任何建议表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T13:20:16.870

给这些元素一个类名。元素 ID 在整个文档中必须是*唯一*的，并且 JSF 生成的 ID 在 jQuery 中难以选择。一个类名可以用于多个元素，并且在 jQuery 中更容易选择。

像这样的东西

```
<ui:repeat value="#{bean.messages}" var="message">
    <div class="message">
        <div class="short">
            <p>#{message.short}<a href="#" class="more">more</a></p>
        </div>
        <div class="full">
            <p>#{message.full}</p>
            <h:commandButton value="Reply" action="#{bean.reply(message)}" />
        </div>
    </div>
</ui:repeat> 
```

有了这个 CSS

```
.message .full {
    display: none;
} 
```

而这个 JS

```
$(".message .short .more").click(function() {
    var $message = $(this).closest(".message");
    $(".short", $message).hide();
    $(".full", $message).slideDown();
}); 
```

# c# - 在 C#.NET 中创建安装文件后更改连接字符串

> ID：11028468
> 
> 赞同：4
> 
> 时间：2012-06-14T07:23:26.323
> 
> 标签：c#, winforms

我正在创建一个 C# windows 窗体应用程序，工作可以概括为用户填写一些表单并将数据保存在 Access 数据库中。现在我面临的问题是我必须将其作为安装文件交付给某人。我在想的是，一旦在其他计算机上安装并执行的代码会因为 Access db 的连接字符串而出错，因为它与那台计算机不匹配。我知道如果分发项目，我可以将连接字符串放在 app.config 中，每个用户都可以根据他/她的机器更改它。但是当我给出一个安装文件时，如何解决这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T07:39:12.353

假设您使用此连接字符串部署 app.config

```
"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=|DataDirectory|\yourFile.accdb;" 
```

在 WinForms 应用程序中，`|DataDirectory|`快捷方式代表您的应用程序工作文件夹，但您可以在运行时更改它指向使用此代码的位置。

```
// appdomain setup information
AppDomain currentDomain = AppDomain.CurrentDomain;
//Create or update a value pair for the appdomain
currentDomain.SetData("DataDirectory", "Your user choosen path"); 
```

它消除了对完整路径进行硬编码的需要，您已经发现，在安装过程中会导致几个问题需要解决。当然，您的设置应该在您的用户选择的路径中提供您的数据库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:35:31.427

我以前遇到过这个问题。我是这样解决的。
(1) 在您的 app.config 文件中，在连接字符串中放置一个占位符。连接字符串将包含访问数据库文件的文件路径。用特殊字符串替换路径。

```
 <connectionStrings>
    <!-- original connection string , change it to the below line -->
    <!--  <add name="test" connectionString="Provider=Microsoft.Jet.OLEDB.4.0;   Data   Source=d:\test\test.mdb "/> -->
    <add name="test" connectionString="Provider=Microsoft.Jet.OLEDB.4.0;   Data   Source=##path##\test.mdb "/>
  </connectionStrings> 
```

(2)当您的应用程序启动时，使用 Directory.GetCurrentDirectory 获取应用程序路径。在创建连接之前，将 ##path## 替换为客户端计算机上的实际路径。

```
static void test()
{
    string s = ConfigurationManager.ConnectionStrings["test"].ConnectionString;
    s.Replace("##path##", Directory.GetCurrentDirectory());
    OleDbConnection conn = new OleDbConnection(s);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T07:32:05.037

`ConnectionString`您可以在运行时构建`SqlConnectionStringBuilder`

```
// Create a new SqlConnectionStringBuilder and
    // initialize it with a few name/value pairs.
    SqlConnectionStringBuilder builder =
        new SqlConnectionStringBuilder(GetConnectionString());

    // The input connection string used the 
    // Server key, but the new connection string uses
    // the well-known Data Source key instead.
    Console.WriteLine(builder.ConnectionString);

    // Pass the SqlConnectionStringBuilder an existing 
    // connection string, and you can retrieve and
    // modify any of the elements.
    builder.ConnectionString = "server=(local);user id=ab;" +
        "password= a!Pass113;initial catalog=AdventureWorks";

    // Now that the connection string has been parsed,
    // you can work with individual items.
    Console.WriteLine(builder.Password);
    builder.Password = "new@1Password";
    builder.AsynchronousProcessing = true;

    // You can refer to connection keys using strings, 
    // as well. When you use this technique (the default
    // Item property in Visual Basic, or the indexer in C#),
    // you can specify any synonym for the connection string key
    // name.
    builder["Server"] = ".";
    builder["Connect Timeout"] = 1000;
    builder["Trusted_Connection"] = true;
    Console.WriteLine(builder.ConnectionString);

    Console.WriteLine("Press Enter to finish.");
    Console.ReadLine(); 
```

**编辑：**您可以使用：[在网络上查找 SQL Server](http://www.codeproject.com/Articles/5703/Finding-SQL-Servers-on-the-Network)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-04-25T17:02:37.530

在部署应用程序以及 SQLLocalDB 的情况下，应将用户 (machine\user) 添加到您的数据库中以进行访问。

# objective-c - Create and populate on the fly a nested NSMutatbleDictionary from tree like structure

> ID：11028471
> 
> 赞同：2
> 
> 时间：2012-06-14T07:23:41.253
> 
> 标签：objective-c, tree, nsmutabledictionary, populate, gdataxml

I am having a hard time trying to create and populate on the fly an NSMutableDictionary from a tree like structure.

Let's say you have a node where

`node.attributes` retrieves an `NSArray` of key/value pairs

and

`node.children` retrieves an `NSArray` of nodes from the same node type

how can you convert that tree into a nested `NSMutableDictionary`?

my aproach is to try to create a `NSMutableDictionary` for each node and populate it with its attributes and children, creating a new `NSMutableDictionary` per child and iterate again with it... it sounds like recursion, isn't it

The following code works, for one level deep (parent and children) but throw SIGABRT for grandchildren and beyond.

```
[self parseElement:doc.rootElement svgObject:&svgData]; 
```

where

```
-(void) parseElement:(GDataXMLElement*)parent svgObject:(NSMutableDictionary**)svgObject
{
    NSLog(@"%@", parent.name);

    for (GDataXMLNode* attribute in parent.attributes)
    {
        [*svgObject setObject:attribute.stringValue forKey:attribute.name];
        NSLog(@"  %@ %@", attribute.name, attribute.stringValue);
    }

    NSLog(@"  children %d", parent.childCount);
    for (GDataXMLElement *child in parent.children) {
        NSLog(@"%@", child.name);

        NSMutableDictionary* element = [[[NSMutableDictionary alloc] initWithCapacity:0] retain];

        NSString* key = [child attributeForName:@"id"].stringValue;

        [*svgObject setObject:element forKey:key];
        [self parseElement:child svgObject:&element];
    }
} 
```

UPDATE:

thanks for your answers, I managed to do the code to work

apparently GDataXMLElement doesn't respond to attributeForName when there is no atributes and so my code threw some exeptions, that where dificult to debug being a recursive method

I am taking into account all your (best practice related) sugestions too

Regards

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:09:52.727

Please note that I replaced your double indirections by a simple pointer. The only case I know where pointers to pointers make sense is in the connection with NSError. I would rewrite this part of code:

```
-(void) parseElement:(GDataXMLElement*)parent svgObject:(NSMutableDictionary*)svgObject
{

for (GDataXMLNode* attribute in parent.attributes)
{
    // setObject:forKey: retains the object. So we are sure it won't go away.
    [svgObject setObject:attribute.stringValue forKey:attribute.name];
}

for (GDataXMLElement *child in parent.children) {
    NSLog(@"%@", child.name);
    // Here you claim ownership with alloc, so you have to send it a balancing autorelease.
    NSMutableDictionary* element = [[[NSMutableDictionary alloc] init] autorelease];

    // You could also write [NSMutableDictionary dictionary];

    NSString* key = [child attributeForName:@"id"].stringValue;

    // Here your element is retained (implicitly again) so that it won't die until you let it.
    [svgObject setObject:element forKey:key];
    [self parseElement:child svgObject:element];
} 
```

}

If you don't trust in the magic behind implicit retains, just read what Apple tells you about the setObject:forKey:

> *   (void)setObject:(id)anObject forKey:(id)aKey Parameters
> 
> anObject
> 
> ```
> The value for key. The object receives a retain message before being added to the dictionary. This value must not be nil. 
> ```

**EDIT**: Forgot about your first part:

```
NSMutableDictionary* svgData = [[NSMutableDictionary dictionary];
[self parseElement:doc.rootElement svgObject:svgData]; 
```

# flex4 - 在 mx：flex 中的列表项上输入按键未触发事件

> ID：11028473
> 
> 赞同：0
> 
> 时间：2012-06-14T07:23:54.320
> 
> 标签：flex4, keyboard-events

我正在用 flex 做一个 web 应用程序。我在 mx:List 控件中有一个项目列表。鼠标点击每个触发 itemClick 事件的项目，一切正常。但是当我在列表中的焦点项目上按 Enter 键时，它不会触发事件。如何启用我的输入键来触发事件。

提前致谢....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:54:01.747

向列表中添加一个 keyDown 事件侦听器，然后添加一个函数来检查是否按下了 enter 键：

```
private function checkKeyDown(e:KeyboardEvent):void
{
    if(e.keyCode==Keyboard.ENTER)
    {
        Alert.show(myList.selectedItem + " selected");
    }
} 
```

和：

```
<mx:List id="myList" keyDown="checkKeyDown(event)"> 
```

# javascript - GoogleMap API 事件点击放大

> ID：11028474
> 
> 赞同：1
> 
> 时间：2012-06-14T07:23:55.477
> 
> 标签：javascript, html, google-maps, google-maps-api-3, google-api

我是 Google Maps API v3 的新手，也是 Javascript 的新手。

我正在阅读谷歌网站上关于谷歌地图基础知识的文档/指南，在初始化函数中，我看到了这段代码

```
 google.maps.event.addListener(marker, 'click', function() {
        map.setZoom(8);
        map.setCenter(marker.getPosition());
      }); 
```

因此，当我运行此代码时，它创建了一个单击功能，当您单击标记时会放大。但是，此点击功能只能使用一次。我的意思是你只能点击一次标记，它会放大一次。

我试图弄清楚如何使标记能够被多次单击并放大多次。我为 setZoom 创建了一个变量，但我仍然不知道如何使标记能够被多次单击。我已经尝试循环这个事件以及复制和粘贴代码片段两次具有相同的代码。这些选项都没有奏效。

也许是由于我对 javascript 缺乏经验，我无法弄清楚这么简单的任务。为了创建我想要的功能，我应该朝哪个方向看？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T07:33:21.407

你的价值`zoom`是*不变*的，这就是为什么：

```
map.setZoom(8/*constant*/); 
```

您需要使其动态化，例如：

```
map.setZoom( map.getZoom() + 2); 
```

# python - python中matlab的deconv的高效版

> ID：11028476
> 
> 赞同：2
> 
> 时间：2012-06-14T07:23:58.710
> 
> 标签：python, matlab, numpy, scipy, convolution

[python中matlab的deconv](http://www.mathworks.com/help/techdoc/ref/deconv.html)是否有有效的实现？

```
# Convolve
z=conv(x, y) 
# Deconvolve
y0=deconv(z, x)
# Hope y~=y0 
```

（令人惊讶的是，谷歌搜索并没有带来有趣的结果）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-14T07:32:19.093

Scipy 和 Numpy 对于数值计算非常有效。具体来说，您可以使用[convolve](http://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.convolve.html#scipy.signal.convolve)和[deconvolve](http://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.deconvolve.html#scipy.signal.deconvolve)

要更快地实现卷积，还可以查看[fftconvolve](http://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.fftconvolve.html#scipy.signal.fftconvolve)

# linux - Linux：大型 int 数组：mmap 与查找文件？

> ID：11028478
> 
> 赞同：16
> 
> 时间：2012-06-14T07:24:04.757
> 
> 标签：linux, memory, memory-management, filesystems, x86-64

假设我有一个数据集，它是一个存储在 4TB HDD ext4 文件系统上的文件中的 1e12 32 位整数（4 TB）数组。

考虑到数据很可能是随机的（或者至少看起来是随机的）。

```
// pseudo-code
for (long long i = 0; i < (1LL << 40); i++)
   SetFileIntAt(i) = GetRandInt(); 
```

此外，考虑到我希望以不可预测的顺序读取单个 int 元素，并且该算法不确定地运行（它正在进行中）。

```
// pseudo-code
while (true)
   UseInt(GetFileInt(GetRand(1<<40))); 
```

我们在 Linux x86_64、gcc 上。您可以假设系统有 4GB 的 RAM（即比数据集少 1000 倍）

以下是架构访问的两种方式：

(A) 将文件 mmap 到 4TB 的内存块，并以 int 数组的形式访问

(B) 打开(2) 文件并使用 seek(2) 和 read(2) 读取整数。

在 A 和 B 中哪一个会有更好的性能？为什么？

是否有另一种设计可以提供比 A 或 B 更好的性能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T11:54:56.880

一方面，您大量使用*内存交换*导致轻微的*页面错误*，对应用程序透明。另一方面，您有许多*系统调用*，具有已知的开销。[关于内存映射文件](http://en.wikipedia.org/wiki/Memory-mapped_file)的维基百科页面对我来说似乎很清楚，它以全面的方式浏览了优缺点。

我认为 64 位架构 + 大文件需要内存映射文件方法，至少可以避免应用程序复杂化；有人告诉我，复杂性通常会导致性能不佳。但是`mmap()`通常用于顺序访问，这不是这里的目的。

因为这是纯粹的随机访问，所以两次访问很少会出现在同一个 RAM 加载页面中。一个完整的 4kb 页面将从 HDD 交换到 RAM，仅用于 4 字节数据......这是无用的总线加载，可能会导致性能不佳。

希望这有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T12:51:19.030

如果访问是真正随机的，我会说性能应该相似。操作系统将使用类似的缓存策略，无论数据页面是从文件映射还是文件数据只是缓存而不与 RAM 关联。

假设缓存无效：

*   您可以使用`fadvise`提前声明您的访问模式并禁用预读。
*   由于地址空间布局随机化，您的虚拟地址空间中可能没有 4 TB 的连续块。
*   如果您的数据集不断扩展，地址空间问题可能会变得更加紧迫。

所以我会选择明确的阅读。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-16T20:03:54.463

可能对于 4TB 线性数据集，您不需要文件系统。我猜原始设备访问可能会带来一些性能优势。

也可能有一种方法可以优化查询或数据结构，以便更有效地使用缓存？

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-03-09T08:57:58.750

寻求性能很大程度上取决于您的文件系统实现。Ext4 应该是一个不错的选择，因为它使用[范围树](https://ext4.wiki.kernel.org/index.php/Ext4_Disk_Layout#Extent_Tree)。此外，如果您的文件具有线性连续分配，则范围树将由单个条目组成，这使得查找效率非常低。

# java - java聊天室无法从多个客户端发送消息

> ID：11028479
> 
> 赞同：0
> 
> 时间：2012-06-14T07:24:08.273
> 
> 标签：java, sockets, connection, serversocket

我有一个聊天室，在控制台中运行。服务器通过线程使用支持多个客户端。当我运行它时，服务器然后是客户端，客户端连接正常。我通过客户端程序发送消息“hello”，客户端打印出消息，表明服务器收到消息（这是服务器本意要做的）。但是当我同时运行另一个客户端时，我在一个客户端上发送了一条消息，但该消息没有打印在另一个客户端上。为什么会这样？没有错误，客户端连接正常。

问候 Bl-H

我会根据要求发布代码。

好的，这是服务器向客户端发送消息的代码（这是线程类的方法）：

```
public void run() {
            PrintStream output = null;
            BufferedReader input = null;
            String message;
            try {
                //i/o for clients:
                output = new PrintStream(server.getOutputStream());
                input = new BufferedReader(new InputStreamReader(server.getInputStream()));
            } catch (IOException ioe) {
                System.err.println(ioe);
                System.exit(1);
            }

            while(true) {
                try {
                    message = input.readLine();
                    output.println(message);
                } catch (IOException ioe) {
                    System.err.println(ioe);
                    System.exit(1);
                }
            }
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:29:43.557

在服务器端，当您为每个客户端创建一个线程时，您需要有一个 HandleClient 类（它实现 Runnable 接口），您必须在其中取回 PrintWriter（每个客户端的）。每个 PrintWriter 都象征着您的服务器和一个客户端之间的连接。您只需要创建一个 ArrayList `PrintWriter`（它将代表您的客户），然后对其进行循环并执行类似的操作（不完全记得）

```
public void transferMessagetoAll(PrintWriter sender)
{
    for(i=0;i<PrintWriterArray.size();i++)
    {
        if(PrintWriterArray.get(i) != sender)
        {
             PrintWriterArray.get(i).println("something");
        }
    }
} 
```

此外，您应该将客户端“发送者”PrintWriter 设置为`transferMessagetoAll`() 方法的参数，以便您可以将消息从发送者传递给除他之外的所有其他人。

我已经发布了这种 java 软件（带有 UI）。当我下班回来时，我可以将我的个人源代码发送给您（无论如何，这是一个学者项目）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T12:37:11.503

您可以使用 hashmap 将所有客户放在那里`HashMap<String, DataOutputStream> clients = new HashMap<String, DataOutputStream>();`

```
public void run() {
    try {
        dis = new DataInputStream(s.getInputStream());
        dos = new DataOutputStream(s.getOutputStream());
        while (true) {
            dos.writeBytes("enter nick: ");
            name = dis.readLine().trim();
            if (chatters.get(name) != null) {
                dos.writeBytes("nick has already been taken..."+n);
            } else {
                break;
            }
        }
        chatters.put(name, dos);
        sendToAll(name+" entered the chatroom... chat away"+n+n);
        sendToAll(name+" exited the chatroom...");
        chatters.remove(name);
        dos.close();
        dis.close();
        s.close();
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

顺便说一句，这里是`private static final String n = "\r\n";`

# upload - 自动 FTP 上传到 IP 地址

> ID：11028480
> 
> 赞同：-1
> 
> 时间：2012-06-14T07:24:09.047
> 
> 标签：upload, ftp, ip

有没有办法自动将文件从本地桌面上传到外部 IP 地址？

例如，也许我可以用 Java/C# 编写一个程序，将我的文件从本地桌面传输到外部 IP 地址，并每天安排该程序？

这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:26:54.917

魔术关键字是**crontab**。

*   [http://linuxwiki.de/crontab](http://linuxwiki.de/crontab)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T08:09:50.747

由于您没有指定您的操作系统，我将假设一个*标准*操作系统 (*nix)，因此您可以这样进行：

创建一个 Bash 脚本（例如`myuploads.sh`），在其中，您将自动将感兴趣的文件上传到远程机器。

像这样的东西：

```
#!/bin/bash

HOST='1.2.5.7'
USER='us3r'
PASSWD='p4ssword'
FILE_TO_UPLOAD='/path/to/some_file.some'
WHERE_TO_UPLOAD='/remote/path'

ftp -i -n $HOST <<Arul
user ${USER} ${PASSWD}

binary
cd $(WHERE_TO_UPLOAD)
put $(WHERE_TO_UPLOAD)

quit 
```

然后，您可以使用标准 cron（作业调度程序）来安排何时定期上传该文件，例如使用这样的 cron 条目：

```
@daily /path/to/script/myuploads.sh >/dev/null 
```

每天午夜运行一次脚本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T12:16:32.500

你提到了 C#，所以对于[Windows 系统](http://support.microsoft.com/kb/96269)，将 FTP 命令放在一个文件中：

```
user
<your name>
<your password>
cd pub
bin
mput *
quit 
```

并安排一个作业运行`ftp -n -s:cmd.file 127.0.0.1`。

# android - EditTextPreferences，显示更改设置确认对话框和对用户选择的响应

> ID：11028483
> 
> 赞同：0
> 
> 时间：2012-06-14T07:24:20.813
> 
> 标签：android, android-preferences

我想做的是询问用户何时要更改 EditTextPreference 并单击确定，如果某个条件为真，请询问他是否确定要更改设置。

因此，如果条件为真，我会显示一个对话框，询问他是或否，并且由于显示对话框是异步的，我在 OnPreferenceChange 回调中返回 false 以取消首选项更改。

如果用户决定不更改首选项，我什么也不做。但如果单击“是”，我将使用编辑器手动更改首选项并提交更改。

现在，在用户按下是（他想更改首选项）之后，如果他再次单击“首选项”屏幕中的 EditTextPreference，他将在 EditText 中设置旧值而不是新值。

只有当他关闭 Preferences 屏幕并再次打开它时，他才会看到新值。

所以我的问题是，在 editor.commit() 之后，我是否可以在“是”Dialog.OnClickListener() 中调用任何方法，这将使 Preferences 屏幕使用 SharedPreferences 中的新值更新其视图？

还是有其他方法可以实现我想要的？

谢谢

代码示例：

```
EditTextPreference etp;
etp.setOnPreferenceChangeListener(new OnPreferenceChangeListener()
    {           
        @Override
        public boolean onPreferenceChange(final Preference preference, final Object newValue)
        {
            int a;
            int b;

            if(a < b) {
                AlertDialog.Builder builder = new AlertDialog.Builder(Preferences.this);
                Dialog changeMaxCountConfirmationDialog = builder
                        .setCancelable(true)
                        .setTitle("Change Setting")
                        .setMessage("Are you sure you want to change this setting")
                        .setPositiveButton("Yes", new Dialog.OnClickListener()
                        {
                            @Override
                            public void onClick(DialogInterface dialog, int which)
                            {
                                //Because I return false anyway, I change the preference manually here
                                Editor editor = preference.getEditor();
                                editor.putString("key", newValue.toString());
                                editor.commit();
                            }
                        }).setNegativeButton("No", null)
                        .create();
                changeMaxCountConfirmationDialog.show();
                return false;
            }

            return true;
        }
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-09-06T13:22:36.260

我找到了一个两部分的解决方案。第 1 部分涉及向`OnSharedPreferenceChangeListener`您的 PreferenceScreen 添加一个。

**第1部分**

```
public class BaseSettingsFragment extends PreferenceFragment implements SharedPreferences.OnSharedPreferenceChangeListener {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        getPreferenceScreen().getSharedPreferences().registerOnSharedPreferenceChangeListener(this);
        ...
    }

    @Override
    public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {
        if (key.equals(YOUR_KEY)) {
            updateUI();
        }
    }
} 
```

通过此设置，您现在可以收听`Preference`对象上的首选项更改，而不是通过`SharedPreferences`.

**第2部分**

`OnPreferenceChangeListener`您可以在对象内部显示对话框`Preference`（正如 OP 已经完成的那样）。如果用户确认他们的选择，您可以使用首选项的`setValue`功能来设置新值，从而导致`SharedPreferences`被更新和`onSharedPreferenceChanged`被调用。如第 1 部分所述，`onSharedPreferenceChanged`可以包含任何 UI 更新逻辑（例如更新首选项的摘要）。

```
public class BaseSettingsFragment extends PreferenceFragment implements SharedPreferences.OnSharedPreferenceChangeListener {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        getPreferenceScreen().getSharedPreferences().registerOnSharedPreferenceChangeListener(this);

        //Part 2
        final ListPreference listPreference = (ListPreference) findPreference(YOUR_KEY));
        listPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {
            @Override
            public boolean onPreferenceChange(final Preference preference, final Object newValue) {
                new AlertDialog.Builder(c)
                        .setTitle("Are you sure?")
                        .setMessage("Are you sure you want to change this preference?")
                        .setPositiveButton("Yes", new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialog, int which) {
                                ((ListPreference)preference).setValue((String) newValue);
                            }
                        })
                        .setNegativeButton("No", new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialog, int which) {

                            }
                        })
                        .show();
                return false;
            }
        });
    }

    @Override
    public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {
        if (key.equals(YOUR_KEY)) {
            updateUI();
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-25T11:30:02.943

我知道这是一个迟到的答案，但可能对其他人有帮助。

而不是使用`Editor`简单的 use `EditTextPreference#setText()`。

即替换你的代码

```
//Because I return false anyway, I change the preference manually here
Editor editor = preference.getEditor();
editor.putString("key", newValue.toString());
editor.commit(); 
```

像这样：

```
//Because I return false anyway, I change the preference manually here
((EditTextPreference)preference).setText(newValue.toString()); 
```

# web-services - 如何在 CXF 生成的 WSDL 中的服务之间重用 WebFault 类

> ID：11028484
> 
> 赞同：2
> 
> 时间：2012-06-14T07:24:23.837
> 
> 标签：web-services, jax-ws, cxf

我有多个服务定义为 Java 类 (@WebService)，它们共享相同的 WebFault 类 (@WebFault)。
我使用 java2ws 为服务生成 WSDL 和 XSD 文件。
虽然我可以通过使用 JAXB XmlSchema“位置”属性在服务之间重用模型对象并将它们生成到共享 XSD 文件中，但 Web 故障会生成到每个 WSDL 中。
问题是，如果我尝试从 .Net 中的 WSDL 文件生成代码，例如，我将多次定义 Web 故障类。
任何帮助将不胜感激。
阿夫纳

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T06:50:44.183

也许您可以尝试为您的@WebFault 设置一个名称

```
@WebFault(name = "EmployeeSearchFault") 
public class SearchEmployeeException extends Exception {
    --- 
} 
```

如果没有给出确切的场景，那么我可以尝试一下。

# c# - C# 中的多重继承支持

> ID：11028486
> 
> 赞同：1
> 
> 时间：2012-06-14T07:24:28.070
> 
> 标签：c#

> **可能重复：**
> [为什么 Java 或 C# 中不允许多重继承？](https://stackoverflow.com/questions/995255/why-is-multiple-inheritance-not-allowed-in-java-or-c)

我想知道为什么c#不支持多重继承？我知道可以使用接口，但是编译器不支持多重继承的原因是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:27:26.237

它被拒绝，`MS`因为在 OOP 设计中管理关系过于复杂，因为从中获得的好处不值得你在框架中管理的复杂性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:29:46.960

`C#`并且`.net`CLR 还没有实现 MI，因为他们还没有得出结论，它将如何在 C#、VB.net 和其他语言之间进行互操作，而不是因为“它会使源代码更复杂”

真正适合 MI 的地方实际上很少。在许多情况下，多接口继承可以代替完成工作。在其他情况下，您可以使用封装和委托。如果我们要添加一个稍微不同的结构，比如 mixins，那实际上会更强大吗？

多重实现继承给实现注入了很多复杂性。这种复杂性会影响铸造、布局、调度、字段访问、序列化、身份比较、可验证性、反射、泛型，可能还有很多其他地方。

# grails - 为什么我不能在集成测试中注入控制器？

> ID：11028488
> 
> 赞同：1
> 
> 时间：2012-06-14T07:24:30.190
> 
> 标签：grails, grails-2.0

我有我的集成测试，我在其中注入 dummyService 和 dummyController。当我测试它们的 notNull 时，我注入了 dummyService，但没有注入 dummyController。为什么会这样？两者都是弹簧管理的 bean，所以看起来应该将机器人注入集成测试，不是吗？

```
class DummyTests{
    DummyService dummyService;
    DummyController dummyController;
    @Test
    void testDummyController() {
        assertNotNull( dummyService );
        assertNotNull( dummyController ); // FAILS ON THIS LINE
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:35:53.873

以下是一些如何进行集成测试和测试控制器的示例：[Grails Doc](http://grails.org/doc/latest/guide/testing.html#9.2%20Integration%20Testing)。

在那里，您必须通过其构造函数创建控制器。所以`DummyController dummyController = new DummyController()`应该做的工作。

# c# - 仅显示 DATE

> ID：11028490
> 
> 赞同：-1
> 
> 时间：2012-06-14T07:24:35.870
> 
> 标签：c#, windows-phone-7

大家好，我如何让它只显示日期。temp.StartDate.Date 不起作用，它显示为 3/5/2012 12:00:00

我试过

```
temp.StartDate.Date
temp.StartDate
temp.StartDate.ToShortDateString
temp.StartDate.Date.ToShortDateString 
```

这是我的代码

```
List<DateTime> dateList = new List<DateTime>();
    foreach(sMedication temp in medicationList) 
    {
        if (dateList.Contains(temp.StartDate.Date))
        {

        }
        else
        {
            dateList.Add((temp.StartDate.Date));

        }
    }
    lstboxSchedule.ItemsSource = date 
```

列表;

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:07:05.833

您当前的代码会修改这些值，但不会将它们转换*为显示*

所以像这样的东西会将你的字符串转换为显示：

```
List<string> dateList = new List<string>();
foreach(sMedication temp in medicationList) 
{
    if (!dateList.Contains(temp.StartDate.ToShortDateString()))
    {
        dateList.Add((temp.StartDate.ToShortDateString()));
    }
}
lstboxSchedule.ItemsSource = date 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:26:23.163

尝试使用

```
temp.StartDate.ToString("dd/MM/yyyy"); 
```

# c++ - 修改要在 Printf 中使用的文件路径

> ID：11028501
> 
> 赞同：0
> 
> 时间：2012-06-14T07:25:19.660
> 
> 标签：c++, c, windows, printf

我有一个字符串，类似于`"c:\x\y\z"`

我想要它的形式`"c://x//y//z"`

我尝试使用`stdString.replace("\","//");`但它不起作用。

有什么建议么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-14T07:26:11.377

如果您的字符串是`"c:\x\y\z"`，则`\`您的字符串中没有。`\`表示转义字符。将您的字符串更改为`"c:\\x\\y\\z"`.

另外，请注意如何`replace`工作 - [http://www.cplusplus.com/reference/string/string/replace/](http://www.cplusplus.com/reference/string/string/replace/)

我不认为你可以直接`'\\'`用两个替换一个字符`"//"`。（我可能被证明是错误的）。

选择：

```
std::stringstream ss;
for ( int i = 0 ; i < str.size() ; i++ )
{
    if ( str[i] == '\\' )
        ss << "//";
    else
        ss << str[i];
}
str = ss.str(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:27:38.550

```
stdString.replace("\\","\/\/"); ? 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T07:29:16.430

如果您在源代码中硬编码文件路径，那么您可以将值更改为`"c:\\x\\y\\z"`

# javascript - 将元素设置在指定容器的中间

> ID：11028504
> 
> 赞同：0
> 
> 时间：2012-06-14T07:25:36.773
> 
> 标签：javascript, css, layout

在我的应用程序中，当用户完成某些操作时，我想在屏幕中间显示一些信息。（就像闪信一样）

现在我创建一个函数来做到这一点：

```
var createFlashMessage = function(message, parentDom, time) {
        parentDom = $(parentDom);
        var mask = parentDom.children().first();
        if(!mask.is('message-mask')) {
            mask = $('<div>').addClass('message-mask');
            mask.hide().appendTo(parentDom);
        }
        var messageSpan = $('<span>').html(message).appendTo(mask);
        var conWidth = parentDom.width(), conHeight = parentDom.height();
        messageSpan.css({
            left:Math.floor(conWidth / 2-messageSpan.width()/2),
            top:Math.floor(conHeight / 2-messageSpan.height()/2)
        }).fadeIn(500,function () {
            $(this).delay(time || 3000).fadeOut();
        });
    }; 
```

这是遮罩 div 的 css 样式：

* * *

```
.message-mask 
{
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
} 
```

但是，当我运行它时，我发现容器无法将掩码 div 定位在正确的位置。

怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:35:33.650

不确定，因为我更像是一个 C# 人，但我认为应该更像这样。

```
 left:Math.floor((conWidth / 2)-(messageSpan.width() /2)),
        top:Math.floor((conHeight / 2)-(messageSpan.height() /2)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:41:30.090

增加`z-index`你的弹出窗口，`float-left`然后你可以这样做：

```
messageSpan.css('margin-left', ((conWidth - messageSpan.width()) / 2));
messageSpan.css('margin-top', ((conHeight - messageSpan.height()) / 2)); 
```

消息掩码也应该更像这样：

```
.message-mask  {
    position:fixed;
    display: none;
    width: 100%;
    height: 100%;   
    left:0px;
    top:0px;
    z-index: 9998;
} 
```

然后，当您显示弹出窗口时，您会取消隐藏背景。

# magento - Magento 自定义“无结果”搜索页面

> ID：11028505
> 
> 赞同：3
> 
> 时间：2012-06-14T07:25:41.497
> 
> 标签：magento

有没有办法为 Magento 搜索的“无结果”视图定义自定义模板？

问题是，如果搜索中没有结果，我想使用 1 col 布局，如果有匹配项，我想使用 2 col。

干杯!

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-15T07:17:03.557

我有同样的问题：我讨厌自定义“空”页面（即空搜索结果、类别页面和购物篮页面）并不容易。所以我为此做了一个扩展：[https](https://github.com/drewhunter/EmptyHandles) ://github.com/drewhunter/EmptyHandles 。本质上，它为您提供了 3 个额外的布局句柄：

1.  目录搜索结果索引空
2.  catalog_category_view_empty
3.  checkout_cart_index_empty

因此，在您的特定情况下，您将在安装模块后使用以下 xml 在空的搜索结果页面上更改模板：

```
 <catalogsearch_result_index_empty>
        <action method="setTemplate">
            <template>page/1column.phtml</template>
        </action>
    </catalogsearch_result_index_empty> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-14T01:58:14.630

如果 Drew Hunter 的回答对您不起作用：

1.  检查您的权限是否正确。
2.  **确保在emptyhandles.xml**中包含根引用

     **```
    <catalogsearch_result_index_empty>
        <reference name="root">
            <action method="setTemplate">
                <template>page/1column.phtml</template>
            </action>
        </reference>
    </catalogsearch_result_index_empty> 
    ```**

# c# - C#：如何在不公开字典的情况下浏览字典项目？

> ID：11028506
> 
> 赞同：2
> 
> 时间：2012-06-14T07:25:55.790
> 
> 标签：c#, dictionary

该类如下所示：

```
public static class CacheManager
{
    private static Dictionary<string, object> cacheItems = new Dictionary<string, object>();

    private static ReaderWriterLockSlim locker = new ReaderWriterLockSlim();

    public static Dictionary<string, object> CacheItems
    {
        get
        {
            return cacheItems;
        }
    }
    ...
} 
```

还应使用 ReaderWriterLockSlim 储物柜对象。

客户端现在看起来如下：

```
foreach (KeyValuePair<string, object> dictItem in CacheManager.CacheItems)
{
    ...
} 
```

先感谢您。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-14T07:51:44.780

如果您只需要迭代内容，那么坦率地说，它并没有真正用作字典，而是可以使用迭代器块和索引器来隐藏内部对象：

```
public IEnumerable<KeyValuePair<string, object>> CacheItems
{
    get
    { // we are not exposing the raw dictionary now
        foreach(var item in cacheItems) yield return item;
    }
}
public object this[string key] { get { return cacheItems[key]; } } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-14T07:39:58.013

这个楼盘怎么样：

```
public static IEnumerable<KeyValuePair<string, object> CacheItems
{
    get
    {
        return cacheItems;
    }
} 
```

Dictionary 实现了 IEnumerable 接口（您的 foreach 语句已经使用了该接口），但是通过仅将其真正公开为 IEnumerable 您可以防止向字典添加或删除项目的任何可能性。

如果您需要通过索引运算符访问字典，您可以很容易地实现 ReadOnlyDictionary。然后它看起来像这样：

```
public class ReadOnlyDictionary<TKey, TValue> : IDictionary<TKey, TValue>
{
    private IDictionary<TKey, TValue> _Source;

    public ReadOnlyDictionary(IDictionary<TKey, TValue> source)
    {
        if(source == null)
            throw new ArgumentNullException("source");

        _Source = source;
    }

    // ToDo: Implement all methods of IDictionary and simply forward
    //       anything to the _Source, except the Add, Remove, etc. methods
    //       will directly throw an NotSupportedException.
} 
```

在这种情况下，您还可以将缓存传播为

```
private static ReadOnlyDictionary<string, object> _CacheReadOnly;
private static Dictionary<string, object> _CacheItems;

public static ctor()
{
    _CacheItems = new Dictionary<string, object>();
    _CacheReadOnly = new ReadOnlyDictionary(_CacheItems);
}

public static IDictionary<string, object> CacheItems
{
    get
    {
        return CacheReadOnly;
    }
} 
```

### 更新

如果你真的需要阻止转换回 Dictionary 你也可以使用这个：

```
public static IEnumerable<KeyValuePair<string, object> CacheItems
{
    get
    {
        return cacheItems.Select(x => x);
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T07:37:42.180

在过滤的字典上公开一个只读视图的属性？尽可能公开允许访问项目的方法。

究竟是什么问题？“不将字典公开”足够模糊，无法回答。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-14T08:01:42.353

根据字典的大小，您可以使用[MemberwiseClone](http://msdn.microsoft.com/en-us/library/system.object.memberwiseclone.aspx)。

您可能还想查看[IsReadOnly](http://msdn.microsoft.com/en-us/library/bb338949.aspx)属性。

# java - 使用 Java 在 Solr 中进行程序化完全导入

> ID：11028507
> 
> 赞同：1
> 
> 时间：2012-06-14T07:26:02.790
> 
> 标签：java, solr

我需要使用 Java 完全导入到 solr 服务器。

我正在尝试这样：

```
SolrServer srv = new CommonsHttpSolrServer(Settings.getInstance().getSolrURL());
SolrParams s = new SolrQuery("data?command=full-import");
srv.request(new QueryRequest(s)); 
```

但它不起作用。执行的查询是

```
params={q=data?command%3Dfull-import&wt=javabin&version=1} hits=0 status=0 QTime=1 
```

所以它实际上是在寻找“data?command=full-import”。

你知道用 Java 编程的方法吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:10:19.230

您需要使用[ModifiableSolrParams](http://lucene.apache.org/solr/api/org/apache/solr/common/params/ModifiableSolrParams.html)对象来完成此操作。

```
SolrServer solr = new CommonsHttpSolrServer("http://localhost:8983/solr");

ModifiableSolrParams params = new ModifiableSolrParams();
params.set("qt", "/dataimport");
params.set("command", "full-import");

QueryResponse response = solr.query(params); 
```

# c# - 如何保护 C# 应用程序免受反编译和反汇编

> ID：11028508
> 
> 赞同：0
> 
> 时间：2012-06-14T07:26:08.223
> 
> 标签：c#, windows, security

假设一旦构建了exe，没有人可以挖掘出源代码或应用程序的oi-out，但在查看 [是否可以“反编译”Windows .exe？或者至少查看大会？](https://stackoverflow.com/questions/273145/is-it-possible-to-decompile-a-windows-exe-or-at-least-view-the-assembly)

我的假设出错了。如果每个逻辑都只在 exe 中烧毁，那么保护我们的 VS 项目的方法是什么。

如果我们使用 C# 开发的 DLL，那么它也可以反编译吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T07:30:11.950

没有办法阻止任何人反编译

您可以使用[混淆](http://blogs.msdn.com/b/ericgu/archive/2004/02/24/79236.aspx)器来更改变量、方法或类的名称，以使您的代码难以理解。

根据 msdn。

> 至于保护，客户告诉我有许多不同的方案。
> 
> 1.  没有保护。一些公司销售的产品要么附带源代码，要么具有可以单独购买的源代码，或者选择不保护其应用程序中几乎没有 IP 的某些部分。
> 2.  一些公司使用 VS 7.1 附带的混淆器（PreEmptive Solution 的[Dotfuscator](http://www.preemptive.com/products/dotfuscator/index.html)的“社区版” ）
> 3.  一些公司使用其中一种商业混淆器。MSDN 上的 C# 开发人员中心有一个[列表。](http://msdn.microsoft.com/vcsharp/team/tools/default.aspx)
> 4.  一些公司用 C++ 编写代码的敏感部分，将其编译为非托管 DLL，然后使用互操作调用非托管 DLL。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T07:28:01.277

您必须使用混淆器来完成您的任务。
您可以免费找到某人（功能有限）和许多商业广告。
用“c# obfuscator”搜索谷歌，看看。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T07:28:32.140

您可以使用[混淆](http://en.wikipedia.org/wiki/Obfuscation)来使其难以反汇编。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-04-11T02:44:28.557

有一些软件许可工具允许您使用他们的安全 API 和工具来封装和加密您的代码。看看 SafeNet Sentinel LDK。问题是它不是免费的。但是除了上述之外，它还允许您为软件的 ip 提供额外的安全性。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-14T07:28:58.843

您使用代码混淆，该工具会将您的代码更改为人类无法理解您的代码的形式。

它会将您的有效/可读函数名称更改为不可读形式。例如，`GetPersonData()`到`__A___ASAS_()`

[https://stackoverflow.com/questions/805549/free-obfuscation-tools-for-net](https://stackoverflow.com/questions/805549/free-obfuscation-tools-for-net)

# iphone - 内存泄漏的 Addsubview 和 dealloc (retainCount)

> ID：11028512
> 
> 赞同：0
> 
> 时间：2012-06-14T07:26:18.910
> 
> 标签：iphone, memory-leaks, release, addsubview, retaincount

添加到视图后，我正在检查子视图的retainCount。代码是：

```
- (void) loadView{
    //...
    toolbar = [[UIToolbar alloc] initWithFrame:nil];
    [[self view] addSubView:toolbar];
}

- (void) dealloc{
    NSLog(@"count=%d", [toolbar retainCount]);   // count=2
    [toolbar removeFromSuperView];
    NSLog(@"count=%d", [toolbar retainCount]);   // count=1
    [toolbar release]
    NSLog(@"count=%d", [toolbar retainCount]);   // count=1
    toolbar = nil;
    NSLog(@"count=%d", [toolbar retainCount]);   // count=0
} 
```

从 dealloc{} 中的这段代码来看，我有一些问题：

1、toolbar的第一个日志retainCount是2，因为toolbar在init之后添加到self view，retaincount会变成2。

2、工具栏removeFromSuperView后retainCount会变为1。

3、工具栏调用释放方法后，retainCount还是1，不能变成0。在我的选项中，因为超级视图是保留工具栏（自身视图不释放），所以工具栏不能重用0。

4，如果调用工具栏设置为nil，retainCount将为0。这个日志是没用的。

我的问题是：

a）工具栏调用removeFromSuperView和release API，结果是一样的，工具栏retainCount只会变成1。所以如果我测试代码只使用它们中的每一个，结果是一样的。那么，我可以断定用户只能调用每个 API 就可以了吗？

b)从苹果文档中，子视图被添加到自身视图中，自身视图已经保留了工具栏句柄，所以在dealloc方法中，如果没有调用viewDidUnload，工具栏retainCount不能减少到0。如果内存不足，系统会减少无用视图并调用viewDidUnload方法，它会自动将工具栏retainCount减少为0。所以在dealloc方法中，我应该将工具栏设置为nil。如果我将工具栏设置为 nil，我很困惑，当调用 viewDidUnload 方法时，工具栏是否会缩小？有没有内存泄漏？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:57:06.837

首先，如果您的代码反映了您的真实代码，那么您的`dealloc`方法就有一个大问题：

```
- (void) dealloc{
   [toolbar removeFromSuperView];
   [toolbar release]
   toolbar = nil;
} 
```

你没有打电话`[super dealloc]`。通过不调用 [super dealloc]，`self.view`将永远不会被释放（并最终被释放）。

这应该可以解决您的内存泄漏（至少部分）：

```
- (void) dealloc{
    [toolbar release];
    [super dealloc];
} 
```

您会注意到我已经删除了对的调用，`removeFromSuperView`因为这是在`self.view`实际释放时自动为您完成的，所以您不需要自己做。无论如何，调用`removeFromSuperView`也不会导致任何问题。

关于您的问题，我假设您的`toolbar`属性被声明为`retain`（根据您提交的代码，这对我来说是最有意义的假设）。

如果`toolbar`是`retain`财产的孩子，那么为它分配新创建的视图的正确方法是：

```
 toolbar = [[[UIToolbar alloc] initWithFrame:nil] autorelease]; 
```

请注意`autorelease`; 如果它不存在，则您的保留/释放调用会受到损害。这可以解释您需要先调用`release`然后`nil`在 dealloc 中的属性：

```
- (void)dealloc {
 ...
    [toolbar release]
    toolbar = nil;
 ....
} 
```

通过这样做，您将释放`toolbar`两次；`autorelease`但是由于您在分配给保留属性时没有使用，这将产生正确的结果。

> a）工具栏调用removeFromSuperView和release API，结果是一样的，工具栏retainCount只会变成1。所以如果我测试代码只使用它们中的每一个，结果是一样的。那么，我可以断定用户只能调用每个 API 就可以了吗？

正如我所说，您不需要直接调用`removeFromSuperView`来获取要发布的子视图`dealloc`，因为`self.view`会为您执行此操作。当您想要删除子视图同时仍然保留`superview`周围时（假设您显示一个标签然后将其删除），这是另一回事；在这种情况下，您需要同时调用两者，否则您会泄漏。

> b)从苹果文档中，子视图被添加到自身视图中，自身视图已经保留了工具栏句柄，所以在dealloc方法中，如果没有调用viewDidUnload，工具栏retainCount不能减少到0。如果内存不足，系统会减少无用视图并调用viewDidUnload方法，它会自动将工具栏retainCount减少为0。所以在dealloc方法中，我应该将工具栏设置为nil。如果我将工具栏设置为 nil，我很困惑，当调用 viewDidUnload 方法时，工具栏是否会缩小？有没有内存泄漏？

如果我正确理解您的疑问，那么关键是如果您将`toolbar`属性发送到`nil`in `viewDidUnload`，那么当调用此方法时（当您显式删除视图或发出内存警告时）您的子视图将被正确处理；如果`dealloc`此后调用您的控制器，则您的属性已经有一个`nil`值，因此释放它不会产生任何影响（但这很好，因为它已经在 中释放`viewDidUnload`）。

另一方面，如果你不释放你的属性，`viewDidUnload`那么如果在内存警告之后再次显示视图，那么`loadView`/`viewDidLoad`会再次被调用；但是在这种情况下，当您创建工具栏子视图并将其引用分配给`toolbar`属性时（假设它是`retain`kind），那么旧对象会自动为您释放，因此您不会有任何内存泄漏；发生的事情是您使用了更多可能的内存（因为工具栏直到`self.view`再次创建时才被释放）。

# jquery - 使用 Jquery 移动/附加 Asyncfileupload？

> ID：11028515
> 
> 赞同：1
> 
> 时间：2012-06-14T07:26:24.427
> 
> 标签：jquery, asp.net, ajaxcontroltoolkit

我有一个 index.aspx 并像这样加载 default.aspx。

```
$('#slide_2').load('default.aspx'); 
```

我需要在 default.aspx 中上传文件

`<cc1:AsyncFileUpload ID="UrunResimFileUpload" ClientIDMode="AutoID" UploaderStyle="Traditional" Width="100px" runat="server" OnUploadedComplete="UploadComplete" OnClientUploadStarted="uploadstarted" OnClientUploadComplete="showConfirmation" />`

它不工作。导致jquery加载...

所以我把那个代码写到 index.aspx 中，并把 fileupload 的位置设为绝对。改变了顶部和左侧的位置。这是一个解决方案，但我不想要这个。

我想要另一个解决方案，像这样；

```
$('#a_div_in_default.aspx').html($('#fileupload_div')); 
```

我们应该怎么做？

编辑了所有帖子。这是解释吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T03:41:11.057

为什么要一起使用 ajaxcontroltoolkit 和 Jquery？只需参考 Jquery 库文件并做你的事情。你可以实现这个[http://www.phpletter.com/Our-Projects/AjaxFileUpload/](http://www.phpletter.com/Our-Projects/AjaxFileUpload/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-23T13:00:46.410

看起来像一个类似的[问题](https://stackoverflow.com/questions/166221/how-can-i-upload-files-asynchronously-with-jquery)。我已经使用 GWT 完成了此操作，但我的建议是使用插件，而不是自定义代码。我的回答是这样改变你的方法。

即使使用 GWT，它也有一个内置机制，因为它是一项常见任务，并且自定义代码路由需要大量工作。

我使用 jQuery，但不是 .Net 的东西。这是一个名为“使用 jquery 和 ASP.NET 进行异步文件上传”的[教程](http://www.dotnetjalps.com/2011/12/async-file-upload-with-jquery-and.html)，向您展示如何使用 jQuery 插件来完成此操作。

我发现使用插件更好的原因是因为做一个自定义解决方案意味着你必须为你想要的每一个特性做所有的编码，而不是使用一个内置特性的。

# algorithm - 查找数字 N 之和的所有唯一组合

> ID：11028516
> 
> 赞同：3
> 
> 时间：2012-06-14T07:26:51.090
> 
> 标签：algorithm, backtracking

```
Print all combinations of a number N, as a sum of positive integers?
They should be unique 
```

例子

```
3 =
1 2

1 1 1 
```

.

```
4=
3 1

2 2

1 1 2

1 1 1 1 
```

我已经使用回溯解决了这个问题，但问题是它也给出了重复项，例如 3

我正进入（状态

```
1 1 2

2 1 1 
```

如何仅获得独特的组合？

非常感谢提前

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-14T07:34:22.133

当你创建你的背部时，你总是从最后一个数字开始（第一次你认为 1 作为最后一个数字）（基本上你保持一个排序的解决方案）这就是你始终保持唯一解决方案的方式。

```
#include <iostream>

const int N = 4;

int sol[N];
int sum = 0;
int nr_of_elements;

void back(int lastElement)
{
    if (sum == N)
    {
        for (int i = 0 ; i < nr_of_elements; i++)
            std :: cout << sol[i] << " ";
        std :: cout << "\n";
        return ;
    }
    for ( int i = lastElement ; i <= N - sum ; i++)
    {
        sum += i;
        sol[nr_of_elements++] = i;
        back(i);
        sum -= i;
        nr_of_elements--;
    }
}

int main ()
{
    back(1);
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-14T07:41:50.160

对于每个数字，您只需要检查大于或等于它的数字。例如：

```
1 1 1 1
1 1 2
1 2 1 (not this, as the third 1 is less than is precedent 2)
1 3
2 1 1 (not this)
2 2
3 1 (not this)
4 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-14T07:29:02.260

这是 Ionescu Roberts 答案的 Java 版本：

```
static Set<List<Integer>> getNums(int last, int target) {

    Set<List<Integer>> toReturn = new HashSet<List<Integer>>();

    if (target == 0) {
        toReturn.add(new ArrayList<Integer>());
        return toReturn;
    }

    for (int i = last; i <= target; i++) {
        for (List<Integer> subSolution : getNums(i, target - i)) {
            List<Integer> seq = new ArrayList<Integer>(subSolution);
            seq.add(i);
            toReturn.add(seq);
        }
    }

    return toReturn;
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-14T07:33:00.793

传递用作参数的最后一个数字。

```
void rec(int lastUsed)
{
    for (int i = lastUsed; i <= max; i++)
       rec(i);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-14T11:53:32.957

解决给定问题的回溯的更简洁的实现（请参阅算法设计手册：此处使用的相同模板）。

```
 #define V(x)  vector<x >    
    typedef V(int) VI; 

    bool  isSolutionReached(VI & input, VI  & partial, int k,int data)  {
     if (k==data) return true;
         return false; 
    }
    void  processSolution(VI & input,VI & partial, int k,int data)   {
      int sum=0,i=0;    
      for(i=0;i<=data;i++)  
    if(partial[i]!=0 ) {
        sum+=i; 
    }
          if(sum == k)  {
    for(i=0;i<=data;i++) 
                      if(partial[i]!=0) cout <<i<<"\t";
     cout <<"\n"; 
       }
    }

    void  constructNext(VI  & input,VI  & candidateVector,int k,int data) {
        candidateVector.push_back(0);
        candidateVector.push_back(1); 
    }
  bool finished=false; 

    void backTrack(VI & inp, VI  &partial,  int k,int data )  {
   VI  candidateVector; 
   int i=0;
    if( isSolutionReached(partial,inp,k,data))  {
    processSolution(inp,partial,k,data);  
}else {
    k=k+1; 
      constructNext(inp,candidateVector,k,data);  
      for(i=0;i<candidateVector.size();i++)  {
          partial[k]=candidateVector[i];  
          backTrack(inp,partial,k,data); 
      }
}
    }

    int main() { 
  int n=5;  //This is x+1 
  VI inp(5,0);  
  VI partial(5,0); 
  backTrack(inp,partial,0,n-1); 
  return 0; 
   } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-02-13T23:32:12.300

这个答案适用于 Java 和 C# 等您可以覆盖等于和哈希码的地方。

最简单的方法是利用现有算法生成 2^N 个可能的组合，但对其进行调整以使用 Set 消除重复项。您的方法将返回一组所有组合并且不包含重复项。现在您需要告诉 Set 如何识别 2 个重复的组合：使用列表，并覆盖 equals 和 hashcode 方法。

您想将组合存储在一个列表中，让我们调用 UniqueList，它环绕 java.util.ArrayList：

```
class UniqueList {
    ArrayList data = new ArrayList();
    void add(Integer item) {
        data.add(item);
    }

    //more wrapper calls if you want

    @Override
    public boolean equals(UniqueList anotherList) {
        if (data.size() != anotherList.data.size()) return false
        //only need to sort once in each list
        Collections.sort(data); 
        Collections.sort(anotherList.data);
        for (int i = 0; i < data.size(); i++) {
            if (data.get(i) != anotherList.data.get(i)) return false
        }

        return true;
    }

    //optionally override hashcode for performance on hashtable
} 
```

现在在现有的生成算法中，使用

```
Set<UniqueList<Integer>> 
```

要保存组合集合，它将保证没有重复，因为 Set 将在接受组合之前使用 equals() 方法进行检查。

您可以添加一个布尔标志来指示列表是否已经排序以避免重复排序 - 换句话说，每个列表只需要排序一次，以检查重复。

这种方法显然不是最优的，但是您可以将其插入现有算法中，以最少的代码更改实现 0 重复。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-10-23T05:01:57.500

您可以跟踪先前的变量以确保不重复解决方案。如果当前的缩减因子小于之前的缩减因子，则会导致重复解。简而言之，确保数字按升序排列。这是我的 C++ 代码。

```
#include <iostream>
#include <vector>

using namespace std;

void printSum(vector<string> &v, int n, int prev, string s) {
    if(n == 1)
        return;
    for(int i = 1; i <= n/2; i++) {
        if(i < prev)
            continue;
        string temp = s + to_string(i) + " ";
        v.push_back(temp + to_string(n - i));
        printSum(v, n - i, i, temp);
    }
}

int main() {
    int n;
    vector<string> v;

    cin>>n;
    printSum(v, n, 0, "");
    v.push_back(to_string(n)); //This is to include n in the possible sum as well
    /* Output for n = 4;
       ["1 3", "1 1 2", "1 1 1 1", "2 2", "4"]
    */ 

    for(auto s: v)
        cout<<s<<"\n";
    return 0;
} 
```

# c++ - 我的 c++ 项目适用于 vc++ 2008，但不适用于 vc++ 2010

> ID：11028524
> 
> 赞同：2
> 
> 时间：2012-06-14T07:27:22.030
> 
> 标签：c++, dll

我有两个 vc++ dll 项目，它们将生成两个 dll。一种

```
vector<vector<string>> 
```

对象将从一个 dll 传递到另一个 dll。这两个项目都配置为多线程调试 dll。两者都可以在 vc++ 2008 和 vc++ 2010 上成功编译。但是，只有从 vc++ 2008 项目生成的 dll 才能工作。这些 dll 将被另一个在 MSDEV 6.0 版下编译的 dll 使用。所以我的问题是为什么

```
vector<vector<string>> 
```

对象不能在 vc++ 2010 构建的 dll 之间传递？谢谢：）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-14T07:31:16.333

如果您计划为 DLL 和使用它的代码使用不同的编译器版本，则不能在 DLL 接口中使用 STL 类型。

vector 和 string 的实现可能会有所不同（在您的情况下它们似乎确实如此），您会遇到这样的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:36:28.987

VC++ 2010 使用新的 C++11 标准，该标准涉及对模板容器（如矢量）的重大更改（首先使用右值引用和移动语义）。

如果您要共享这样的库，通常最安全的选择是为所有内容制作简单、无聊的标准 C 接口函数。毕竟，这些几乎无处不在。然后可以以您认为合适的任何方式完成内部实现。

# gwt - GWT 方法 setVisible 和 removeFromParent

> ID：11028531
> 
> 赞同：1
> 
> 时间：2012-06-14T07:27:54.247
> 
> 标签：gwt

功能`UIObject#setVisible(false)`上不同于?`Widget#removeFromParent`

此外，`DialogBox#hide`只是对 wapper 的调用`UIObject#setVisible(false)`吗？

有什么实际的例子吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T08:42:27.250

`UIObject#setVisible`在元素上设置 CSS 'display' 属性。如果你有一个`HTMLPanel`并调用 setVisible(false) ，它会导致这个

> <div style="display:none">我的 HTML 面板！</div>

而 removeFromParent 将从页面的 DOM 中删除元素。同样，如果您有一个`HTMLPanel`附加到您的页面主体并在其上调用 removeFromParent() ，您将从

```
< body>
    <div >My HTML Panel !</div>
</body> 
```

到

```
< body> < /body> 
```

因此，一旦您从其父级中删除了一个小部件，如果您想再次显示它，则必须重新附加它。

至于你的第二个问题，我没有查看代码，`DialogBox#hide`但我会说它可能会`setVisible(false)`在某些时候调用，等等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-04T19:31:23.013

我发现 setVisible() 方法在隐藏嵌套演示者方面很有用。如果您想从您的一个页面中删除嵌套的演示者，在您的 onReset() 方法中，您可以执行以下操作：

```
 if(mainPagePresenter.isVisible()){getView().getMenuBar().setVisible(false);}
    else{getView().getMenuBar().setVisible(true);} 
```

这样，您只需在所需页面上隐藏嵌套的演示者或任何其他演示者或小部件。您可以使用 removeFromParent() 方法执行此操作，但在用户导航事件中，您的对象不会被重新插入，因为您从页面的 DOM 中删除了对象。如果用户重新加载页面，它最终将通过调用 onReveal() 方法插入。因此，如果您只想“隐藏”某些面板 setVisible() 是可行的，否则如果您想永久删除对象 removeFromParent() 是您的选择。

# c# - C#中的USB通信

> ID：11028534
> 
> 赞同：2
> 
> 时间：2012-06-14T07:28:20.877
> 
> 标签：c#, windows, usb, serial-communication

> **可能重复：**
> [如何在 .NET 中连接到 USB 网络摄像头？](https://stackoverflow.com/questions/113426/how-do-i-connect-to-a-usb-webcam-in-net)

我刚拿到一个 USB 摄像头，必须编写代码才能获取图像/视频流。

我不明白的是如何打开像 uart/rs232 这样的 USB 端口并发送/接收数据？

还有一件事，什么是 HID（usb hid）以及我们为什么需要它？

[我在这里](http://www.lvr.com/hidpage.htm)找到了几个例子，但我不理解这个概念。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:33:13.493

端口编程就是您所追求的。

检查此链接：

[MSDN](http://msdn.microsoft.com/en-us/library/system.io.ports.serialport.aspx)

查看此博客文章了解更多详细信息：[developerfusion](http://www.developerfusion.com/article/84338/making-usb-c-friendly/)

# postgresql - 我想在postgresql中用相同的字符串连接两个字段

> ID：11028535
> 
> 赞同：0
> 
> 时间：2012-06-14T07:28:22.590
> 
> 标签：postgresql, field, concat

我有以下代码，我将事件连接到 ID。

```
select concat('events-', eventid) as eventid,eventsource from events 
```

但是我也想在字段事件源中添加“事件”前缀。我该怎么做呢？我正在使用 postgresql 9.1。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:31:11.310

不确定我是否理解您的问题，但应该这样做：

```
select concat('events-', eventid) as eventid,
       concat('event', eventsource) as eventsource
from events 
```

请注意，您还可以为此使用（标准 ANSI）连接运算符：

```
select 'events-'||eventid as eventid,
       'event'||eventsource as eventsource
from events 
```

# sql - 如何在 SQL Server 2000 中检索按月排序的数据

> ID：11028536
> 
> 赞同：0
> 
> 时间：2012-06-14T07:28:23.180
> 
> 标签：sql, sql-server

```
SELECT 
  CONVERT(datetime, call_start_time,100) 
    + CONVERT(datetime, call_start_time,120) as YEAR,
  SUM(call_duration) AS Total_CDR
FROM temp_txn_rated_retailcdr 
GROUP BY 
  CONVERT(datetime, call_start_time, 100) 
    + CONVERT(datetime,call_start_time,120) 
ORDER BY year DESC 
```

我想按月订购结果..请帮帮我。当我现在这样做时，它会根据字母字符进行排序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:49:43.737

试试这个它会为你工作。

```
Select Month + ' ' + YEAR as c_Year,Total_CDR
    from 
    (
    SELECT 
        MONTH(call_start_time) AS Month
        ,YEAR(call_start_time) as YEAR 
        ,SUM(call_duration) AS Total_CDR
    FROM temp_txn_rated_retailcdr 
    GROUP BY MONTH(call_start_time),YEAR(call_start_time) 
    ) tbl
    ORDER BY YEAR desc,Month DESC 
```

# java - 为什么 AtomicInteger 实现 Serializable

> ID：11028542
> 
> 赞同：6
> 
> 时间：2012-06-14T07:28:35.230
> 
> 标签：java, numbers, integer

根据javadoc，

```
public class AtomicInteger extends Number implements java.io.Serializable {

// code for class

} 
```

但，

```
public abstract class Number implements java.io.Serializable {
//code for class
} 
```

如果`Number`类已经实现`java.io.Serializable`了，那为什么`AtomicInteger`还要再实现呢？

**编辑：** Serializable 作为标记接口在这种情况下有什么不同吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T07:32:20.980

只是为了更清楚地记录它。[抽象集合基类的情况相同](https://stackoverflow.com/questions/2294519/java-util-hashmap-why-hashmap-extends-abstractmap-and-implement-map)。

[最初也可能是一个错误](https://stackoverflow.com/questions/2165204/why-does-linkedhashsete-extend-hashsete-and-implement-sete?lq=1)（为了一致性起见，现在将其结转）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T08:26:35.983

没有必要，这只是为了记录。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T07:36:42.337

这是一个很好的做法，而且更多的是为了便于阅读。`HttpServlet`和的情况相同`GenericServlet`。在 java sdk 中还有很多其他的实现。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-24T06:52:13.053

> Serializable 作为标记接口在这种情况下有什么不同吗？

完全没有区别。语言级别的标记界面没有什么特别之处。

# blackberry - Zxing 以外的黑莓条码扫描库

> ID：11028543
> 
> 赞同：0
> 
> 时间：2012-06-14T07:28:37.303
> 
> 标签：blackberry, barcode-scanner

我正在寻找一个图书馆，无论是付费的还是开源的，用于黑莓的条形码扫描。我找到了一个。即zxing。如果您知道，请建议其他一些库。

我想要一个可以读取/扫描条形码类型 Code 25 的库。请帮助我。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T09:04:48.947

只需指出 Code 25（AKA 2 of 5，及其交错变体）由 Android 的 Barcode Scanner 解码，后者又使用 ZXing。（尽管官方并未将 ZXing 项目页面列为支持）。

您可以下载最新版本的 ZXing 并使用不同的包名称重新打包 BB 的核心，这样它们就不会与内置的 ZXing 库（这是旧版本）发生冲突，并对其进行测试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:33:50.637

```
Import the required classes.
import java.util.*;

import net.rim.device.api.barcodelib.*;
import net.rim.device.api.ui.*;
import net.rim.device.api.ui.container.*;

import com.google.zxing.*;
Create a class to run the application by extending UiApplication.
public final class BarcodeScanDemo extends UiApplication
{ 
Create a constructor for the class, and display a BarcodeScanDemoScreen object.
    public BarcodeScanDemo()
{
    pushScreen(new BarcodeScanDemoScreen());
}
Create the main method that starts the application.
    public static void main(String[] args)
    {
        new BarcodeScanDemo().enterEventDispatcher();
    }
}
Define a screen for your class that extends the MainScreen class.
final class BarcodeScanDemoScreen extends MainScreen
{
Create a constructor for the screen.
    public BarcodeScanDemoScreen() 
    { 
Create a BarcodeDecoderListener object to handle the data that is received when a barcode is scanned. In it, implement barcodeDecoded() to process the raw data that is sent by the decoder.
        BarcodeDecoderListener listener = new BarcodeDecoderListener()
        {
            public void barcodeDecoded( String rawText )
            {
                // Do something with the raw text
            }
        };
Create a Hashtable to store decoding hints in.
        Hashtable hints = new Hashtable();
Create a new Vector object to store barcode formats in.
        Vector formats = new Vector();
Add the BarcodeFormat.QR_CODE constant to the Vector object using Vector.addElement(Object obj). You can add more than one constant (hint) to a Vector object.
        formats.addElement(BarcodeFormat.QR_CODE);
Invoke Hashtable.put(Object key, Object value), and add the Vector object to the hash table. The DecodeHintType.POSSIBLE_FORMATS constant is used to specify that the hints contained in the Vector object are barcode formats. Other constants for decoding hints can be found in the com.google.zxing.DecodeHintType class.
        hints.put(DecodeHintType.POSSIBLE_FORMATS, formats);
Construct a BarcodeDecoder object to decode data received from the camera's viewfinder into usable raw data. Pass the Hashtable object into it.
        BarcodeDecoder decoder = new BarcodeDecoder( hints ); 
Create a try block, and construct a MainScreen object to contain the camera viewfinder.
        try
        {
            MainScreen screen = new MainScreen();
Construct a BarcodeScanner object, and pass the BarcodeDecoder and BarcodeListener objects into it. Invoke BarcodeScanner.getVideoControl() to return a VideoControl object. Invoke VideoControl.setDisplayFullScreen(true) to set the video's display to full screen.
            BarcodeScanner scanner = new BarcodeScanner( decoder,
                                         listener );
            scanner.getVideoControl().setDisplayFullScreen( true );
Invoke Screen.add(Field field) to add the barcode scanner's view finder to the screen, then invoke UiApplication.pushScreen(Screen screen) to display the viewfinder.
            screen.add( scanner.getViewFinder() );
            UiApplication.getUiApplication().pushScreen( screen );
Start the barcode scanner by invoking BarcodeScanner.startScan(). Close the try block.
            scanner.startScan();
        }
Open a catch block to catch any errors that may occur.
        catch (Exception e)
        {
            // Catch errors here
        }
    }
} 
```

# python - Python：过滤列表的最有效方法

> ID：11028544
> 
> 赞同：3
> 
> 时间：2012-06-14T07:28:38.800
> 
> 标签：python, filter

我希望我不会在这里重复:-)

我想知道过滤python列表的最有效方法是什么。我手头的任务是找出没有出现在其他列表中的列表元素。

我的第一个列表是对象列表（没有不必要的细节）：

```
Class A:
    def __init__(self,item1, item2):
        self.item1 = item1
        self.item2 = item2 
```

稍后，在我的脚本中，我正在解析一个输入文本文件并`list1`用真实数据填充一个（`item1`和`item2`字段都是字符串）

还有第二个列表，`list2`仅包含对应于`item1`. 我感兴趣的是`list1`where`item1`中没有的元素`list2`。
*（`list1`包含大约 3000 个元素，`list2`更大 - 大约 60000 个元素。）*

我的第一次尝试很明显：

```
notMatched = list(itertools.ifilter(lambda x: x.item1 not in list2), list1)) 
```

现在，它按预期工作，给了我想要的东西，但我仍然想知道这是否是我能想到的最好的解决方案。有人知道吗？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-14T07:31:05.213

做`list2`一套。这将提高查找的性能`not in list2`。

你可能可以摆脱这个：

```
set2 = set(list2)
not_matched = [a for a in list1 if not a.item1 in set2] 
```

# javascript - DOM 执行顺序

> ID：11028545
> 
> 赞同：0
> 
> 时间：2012-06-14T07:28:40.917
> 
> 标签：javascript, html, dom

据我所知，html/javascript 的执行顺序是串行的（与所有编程语言一样），这意味着浏览器会逐行读取 html/javascript 代码并对其进行解释。

这就是为什么一些 javascript 程序员将标签放在正文末尾的原因 - 以确保加载整个 DOM 并且他们现在可以访问他们想要的任何元素。他们就是这样做的——

```
<html>
...
<body>
...
<script> //whatever code you want to put
</script>
</body> 
```

我想对此进行测试，所以我编写了以下代码

```
<html>
<head>
</head>
<body>
<script>
var elm=document.getElementById("myp");
alert(elm.innerHTML);
</script>
<p id="myp"> well this is darned interesting </p>
</body>
</html> 
```

如您所见，我已将脚本放在定义 p 元素之前，并且脚本正在尝试访问它。我以为我会得到一个错误，因为 p 不应该被定义，但我得到了“好吧，这太有趣了”（p 的值）。当我将脚本放在 head 元素中时，也会发生同样的事情。（使用 chrome 和 firefox 进行测试）。

任何人都可以对发生的事情有所了解吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T15:57:07.697

撇开这个特定示例的细节不谈，我将总结一般原则。我的来源是 Flanagan，**JavaScript：终极指南**，5/e。

将浏览器视为读取一行 HTML 并呈现响应的内容太简单了。当然它是按顺序扫描输入的，但是 DOM 对象构造的顺序与扫描的输入不是逐行的。最好将其视为黑匣子。

如果您想运行一个将操作 DOM 元素的脚本，安全可靠的方法是将其作为`onload`事件的处理程序运行。有时您可以编写内联脚本来执行此操作，但这是一个灰色区域。弗拉纳根写道：

> 大多数浏览器似乎都允许脚本操作出现在`<script>`标签之前的任何文档元素。一些 JavaScript 程序员经常这样做。然而，没有标准要求它工作，并且在一些有经验的 JavaScript 编码人员中存在一个持久的（如果含糊的）信念，即在标签中放置文档操作代码`<script>`会导致问题......（第 256 页）

但是，您可能需要在解析完所有 HTML 之后、加载所有图像之前操作 DOM。如果这是您的需要，那么像 jQuery 和它的[`ready`](http://api.jquery.com/ready/)事件这样的工具就是您要走的路。

# jquery - Javascript 用户界面不工作

> ID：11028548
> 
> 赞同：0
> 
> 时间：2012-06-14T07:28:53.887
> 
> 标签：jquery, ruby-on-rails

这个问题是由于我对英语和 jQuery 的认识或其他原因造成的。我正在使用 jQuery 教程 - [http://blog.bernatfarrero.com/jquery-and-rails-3-mini-tutorial/](http://blog.bernatfarrero.com/jquery-and-rails-3-mini-tutorial/)。

在我的 application.erb.html 中：

```
<%= javascript_include_tag :defaults, "rails.validations", "rails.validations.custom" %>
<%=  javascript_include_tag  "http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"%>
<%=javascript_include_tag  "http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js"%> 
```

我想我没有包含一些库，因为我的页面在视图中。

但我的页面看起来像：

```
 0 Comments
    Say something! 
```

**已编辑**

我的生成器没有创建 js 文件，所以我创建了文件 rails.validations.custom.js 并从 GitHub 添加了代码：

```
 ClientSideValidations.validators.local['email'] = function(element, options) {
    // Your validator code goes in here
      if (!/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i.test(element.val())) {
    // When the value fails to pass validation you need to return the error message.
    // It can be derived from validator.message
    return options.message;
      }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T08:45:26.470

该问题的评论线程越来越长，因此我将创建一个答案。

通过查看 firebug 控制台，我们已经确定您的两个 JavaScript 文件不在您的应用程序期望的位置：

```
/assets/defaults.js
/assets/rails.validations.custom.js 
```

您需要做的是将这两个文件移动到`/assets`目录中，或者修改文件路径以指向这两个文件实际所在的位置。

我不是一个 Rails 人，但这是我对你如何做到这一点的猜测：

```
<%= javascript_include_tag :defaults, "/js/rails.validations", "/js/rails.validations.custom" %> 
```

我*认为*这会在`/assets/js`目录中查找文件，但显然您需要修改路径以指向文件的实际位置。我敢肯定，rails 开发人员会插话并告诉我我是否弄错了！

# c# - 对 WCF 服务感到困惑

> ID：11028550
> 
> 赞同：0
> 
> 时间：2012-06-14T07:29:00.907
> 
> 标签：c#, .net, wcf

我对这个 WCF 服务完全陌生，所以任何指导方针都将不胜感激。

我收到了一个大型项目，其中包含检查某个设备的网络状态的代码。我的老板告诉我搜索 TCPSocket 创建并更改套接字上的某些选项。

检查网络状态的函数是 ReqDDCNetworkStatus。自然地，我搜索了代码的来源，在我的服务参考下找到了这个接口：

```
public interface LGeDDC
{
    [System.ServiceModel]
    [System.ServiceModel.XmlSerializerFormatAttribute()]
    [return: System.ServiceModel.MessageParameterAttribute(Name="result")]
    string ReqDDCNetworkStatus(out string status);
} 
```

该文件名为 References.cs，我假设它是通过在 WSDL (SOAP) 文件上运行 svcutil.exe 生成的，该文件用于在程序和相关设备之间进行通信。

这是具有被调用的实际函数的类：

```
namespace XrayEngines.DDCService
{
    public partial class LGeDDCClient : System.ServiceModel.ClientBase<LGeDDC>, LGeDDC
    {
        public LGeDDCClient(string endpointConfigurationName, string remoteAddress) : 
                base(endpointConfigurationName, remoteAddress)
        {
        }

        public string ReqDDCNetworkStatus(out string status)
        {
            return base.Channel.ReqDDCNetworkStatus(out status);
        }
    }
} 
```

因此，该函数将按以下方式调用：

```
try
{
    for (int i = 0; i < p.Length; i++)
    {
        v = ddc.ReqDDCNetworkStatus(out r);
        writeMessage("v:" + v + " , r:" + r);
    }
}
catch (Exception e)
{
    writeMessage("Network Exception Occurred: ."+e.ToString());
} 
```

我迷路了。从字面上看，我看不到任何可以在客户端和服务器之间建立任何连接的东西，但是该程序可以正常工作。如果有人可以解释如何以这种方式建立连接，我将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:37:25.160

神奇之处在于这两行：

```
 public partial class LGeDDCClient : System.ServiceModel.ClientBase<LGeDDC> 
```

和

```
return base.Channel.ReqDDCNetworkStatus(out status); 
```

代理类继承自[ClientBase](http://msdn.microsoft.com/en-us/library/ms576141.aspx)，该类实现了消息的实际发送（执行远程调用）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T07:38:47.880

基类 System.ServiceModel.ClientBase 完成所有连接工作。您只需设置服务的 URL 和一些其他参数，通常使用配置文件完成。检查服务端点的配置文件，参数..

# orchardcms - 如何在 Orchard CMS 中使用滑块

> ID：11028568
> 
> 赞同：1
> 
> 时间：2012-06-14T07:29:51.837
> 
> 标签：orchardcms

这个问题可能看起来很愚蠢，但我对 Orchard 很陌生，只是想知道如何在我的主页中使用**Featured Item Slider 模块。**我按照以下说明进行操作：

1.  创建了一个新的 ContentType 作为 HomePageSlider
2.  零件列表中的选定滑块和自动布线
3.  已保存
4.  创建了一个新内容作为 HomePageSlider
5.  选择一张图片
6.  填写字段并将其标记为主页
7.  发表

但是在我检查主页后，内容以简单格式显示，而不是以滑块格式显示，而不是显示图像，只显示图像的相对链接。

我该怎么办？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T06:54:34.573

特色项目滑块是一个模块。您不必创建类型和部件即可使用它。启用该模块后，您将在左侧导航中看到它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-04-08T06:59:22.940

对于这个问题，我在[pepfry.com](http://www.pepfry.com/tutorials/image-slider-in-orchard-cms-featured-item-slider)上有一个很棒的[教程。](http://www.pepfry.com/tutorials/image-slider-in-orchard-cms-featured-item-slider)我有一个完整的教程，我在其中向您展示了成功安装“[特色项目滑块](http://www.pepfry.com/tutorials/image-slider-in-orchard-cms-featured-item-slider)”的所有步骤，并附有屏幕截图。

我在[YouTube 上](https://www.youtube.com/watch?v=DqMqsc-XE4w)也有一个视频，您可以在其中看到[图像滑块成功运行](https://www.youtube.com/watch?v=DqMqsc-XE4w)。

问候！
苏梅什女士

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T13:51:43.157

您可以使用 Mello.ImageGallery 模块/小部件在 Orchard CMS 中进行图像滑动。 [http://gallery.orchardproject.net/List/Modules/Orchard.Module.Mello.ImageGallery](http://gallery.orchardproject.net/List/Modules/Orchard.Module.Mello.ImageGallery) 用于灯箱，内置滑块选项。

# java - mysql/java 字符集问题

> ID：11028571
> 
> 赞同：1
> 
> 时间：2012-06-14T07:29:56.160
> 
> 标签：java, mysql, encoding, utf-8

我在将一些特殊字符值存储到 db 时遇到问题。

例如，如果我向任何文本框添加以下值，

```
Езикова abc 
```

它将值存储为

```
??????? abc 
```

分贝内。我`UTF-8`在每一个可能的地方都有。

引用[此](https://stackoverflow.com/questions/6789203/tapestry-charset-problem)链接，但没有成功/。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T11:54:54.717

向数据库 url 添加参数：

```
jdbc:mysql://localhost:3306/databaseName?characterEncoding=UTF-8 
```

一切正常。:)

# c# - c#.net 中 Windows Azure 中的作业调度

> ID：11028578
> 
> 赞同：4
> 
> 时间：2012-06-14T07:30:13.290
> 
> 标签：c#, azure

我想在我的 Windows azure 应用程序中实现一个作业调度程序。

我的目标是在每天的特定时间执行特定的应用程序。对于那个实现，我有一些选择

1-使用 Quartz.net

2-Windows 调度程序

如果 C#.net 中有任何可用的内置方法来实现它。我很难理解 Windows Azure HPC 调度程序。是调度程序吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-28T10:12:36.167

作业调度程序功能最近添加到 Windows Azure 中，允许您轻松地按特定时间间隔安排作业：

![在此处输入图像描述](../Images/67385f4cfa348c952d9eb0c5148873b1.png)

这是一篇博客文章，解释了如何使用这些作业与网站、Web 角色甚至 Worker 角色进行通信：http: [//fabriccontroller.net/blog/posts/job-scheduling-in-windows-azure/](http://fabriccontroller.net/blog/posts/job-scheduling-in-windows-azure/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-14T08:28:53.780

当您在 Windows Azure 中进行调度时，您需要牢记一些事情。您可以拥有多个 Web/Worker 角色实例，这意味着您必须考虑到您的计划任务可能会运行多次，而这可能不是您想要的。

您可以考虑使用服务总线队列创建调度系统。**BrokeredMessage**类有一个有趣的属性，称为**ScheduledEnqueueTimeUtc**，允许您安排消息何时应入队（可用）。例如，这将允许用每小时显示的消息填充队列。

[http://msdn.microsoft.com/en-us/library/microsoft.servicebus.messaging.brokeredmessage.scheduledenqueuetimeutc.aspx](http://msdn.microsoft.com/en-us/library/microsoft.servicebus.messaging.brokeredmessage.scheduledenqueuetimeutc.aspx)

如果您决定使用服务总线队列构建这样的实现，您可以决定最多处理一次消息（ReceiveAndDelete）或至少一次（PeekLock）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-14T07:54:34.920

虽然之前已经多次回答了日程安排（这就是为什么我建议这是重复的），但我意识到您问了一些尚未解决的具体问题：

*   HPC 调度程序用于 HPC 工作负载，不适合您作为一般任务调度程序的用途。
*   通过 c# 没有特定的任务调度程序=您需要编写一个或使用诸如石英之类的库。
*   请记住，Web 和辅助角色基本上是 Windows 2008 Server VM。无论您在 Windows Server 中可以做什么，您都可以在 Windows Azure VM 中进行几乎相同的操作。

请查看我提到[的另一个答案](https://stackoverflow.com/a/8549978/272109)，因为我在那里提供了一个答案，为您提供了有关创建调度程序的详细信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-17T09:12:04.257

如果您使用 ScheduledEnqueueTimeUtc 属性来延迟消息排队，我想知道消息在发送到队列之前存放在哪里？因为如果您有 2 个 Web/Worker 角色实例，会发生什么？

*   您创建消息并将其中一个实例存储在一种缓存中？或者是缓存它的两个实例？

两种情况： 1\. - InstanceA 将消息存储在其缓存中，等待将其传递到队列 - InstanceA 因任何原因失败。- 消息永远丢失。

1.  *   两个实例都有库存。
    *   实例 A 和 B 已启用。消息在队列中被传递两次。

在这两种情况下，似乎解决方案都不可靠..

# perforce - perforce admin 找出用户正在提交的文件

> ID：11028583
> 
> 赞同：0
> 
> 时间：2012-06-14T07:30:35.647
> 
> 标签：perforce

我是一个 perforce 管理员。我正在尝试找出 perforce 用户正在提交的文件。我试图阅读 perforce.log 和监控表，但找不到这些信息。

我正在尝试获取此信息，以防用户提交的文件超过允许的限制，在该限制中他可以阻止其他 perforce 用户作业。

有这方面的经验分享吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T13:47:52.337

在 Perforce 安装中实现这种“站点策略”的两种方法：触发器或代理。您可以编写一个提交触发器，它可以查看即将提交的文件集，如果违反政策则拒绝提交。您还可以在服务器前部署代理，并让代理命令脚本实施您的策略。

Perforce 支持可以帮助您完成这些配置任务。

不过，有一个观察结果：考虑您是否真的想这样做！从您到目前为止提供的描述来看，这听起来不是一个非常有用的政策（您为什么要限制您的同事所做的工作量？我希望我的同事做尽可能多的工作可能可以！）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T14:50:29.430

我还要看看数据库访问的内置性能门：

[http://www.perforce.com/perforce/doc.current/manuals/p4sag/07_perftune.html#1042633](http://www.perforce.com/perforce/doc.current/manuals/p4sag/07_perftune.html#1042633)

这些很容易通过 Perforce 组中的设置进行管理。

不过，退后一步，如果您担心总体性能，我建议您与 Perforce 支持人员聊天。

# google-maps-api-3 - 如何读取 KML 文件

> ID：11028584
> 
> 赞同：0
> 
> 时间：2012-06-14T07:30:44.007
> 
> 标签：google-maps-api-3, kml

我有 KML 文件，我想读取此文件并在运行时对 KML 进行一些更改（创建坐标，然后更新地图），然后在 Google 地图中显示它。

如何将 KML 文件读取到我的应用程序中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T14:11:00.300

使用替代的 KML 解析器，例如 [http://code.google.com/p/geoxml3/](http://code.google.com/p/geoxml3/)

（geoxml3 现在在 GitHub 上：[https](https://github.com/geocodezip/geoxml3) ://github.com/geocodezip/geoxml3 ）

# windows - Team Viewer 挂起远程窗口

> ID：11028589
> 
> 赞同：0
> 
> 时间：2012-06-14T07:30:50.203
> 
> 标签：windows

我在使用 TeamViewer 时遇到问题，我连接到远程 PC，它接受 ID 和 PW，但是远程窗口屏幕从未显示，我等待并等待，但什么也没有出现。

有人遇到过这样的问题并找到解决方案吗？

如果它因为连接速度慢可能没有办法解决它吧？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T10:11:07.563

Teamviewer 有时需要很长时间来验证连接。Teamviewer 也以“长时间超时”而闻名，尤其是当遥控器的电脑断开连接时。试试这个作为替代方案： http: [//www.join.me](http://www.join.me)

# c# - “指定的元素已经是另一个元素的逻辑子元素。首先断开它”我的代码中的错误，任何解决方案？

> ID：11028590
> 
> 赞同：3
> 
> 时间：2012-06-14T07:30:55.210
> 
> 标签：c#, .net, wpf

我有一个小问题。

这是我的代码：

```
stackPanelShapesContainer = new StackPanel();
InitializeStackPanle();

var gotFocusStackPanle =(StackPanel) canvas.Children[gotFocusStackPanelIndex];

foreach (UIElement child in gotFocusStackPanle.Children)
{
     UIElement uiElement = child;
     stackPanelShapesContainer.Children.Add(uiElement);
} 
```

在上面代码的第 9 行中，我收到以下错误 -

> 指定元素已经是另一个元素的逻辑子元素。先断开它。

我该如何解决？有什么解决办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T08:33:02.607

我希望您可以从评论和其他帖子中清楚地了解错误的原因；我假设您想将一个面板中存在的控件副本创建到另一个面板中，如果是这种情况，那么您必须首先克隆该控件，然后将其添加到新面板中。

您可以通过首先使用序列化控件来克隆控件`XamlWriter`，然后通过使用反序列化它来创建新控件`XamlReader`，如下[所示](https://stackoverflow.com/questions/32541/how-can-you-clone-a-wpf-object)-

```
foreach (UIElement child in gotFocusStackPanle.Children)  
{  
     string childXaml = XamlWriter.Save(child);

    //Load it into a new object:
    StringReader stringReader = new StringReader(childXaml);
    XmlReader xmlReader = XmlReader.Create(stringReader);
    UIElement clonedChild = (UIElement)XamlReader.Load(xmlReader);

    stackPanelShapesContainer.Children.Add(clonedChild);  
} 
```

但是，您可能会发现自己应用了变通方法来使其正常工作，因为使用时存在一些限制`XamlWriter.Save`（例如使用绑定） - [XamlWriter.Save 的序列化限制](http://msdn.microsoft.com/en-us/library/ms754193.aspx)

以下是一些其他的序列化方法 -

[保留绑定的 XAML 序列化程序](http://www.codeproject.com/Articles/21139/An-XAML-Serializer-Preserving-Bindings)

[XamlWriter 和绑定序列化](http://www.codeproject.com/Articles/27158/XamlWriter-and-Bindings-Serialization)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T07:34:29.223

`uiElement`已经是 的孩子`gotFocusStackPanle`，因此您不能将其添加到`stackPanelShapesContainer`.

这就是错误消息所说的。

`uiElement`从第一个删除`gotFocusStackPanle`。

```
foreach (UIElement child in gotFocusStackPanle.Children.ToList())
{
     UIElement uiElement = child;
     gotFocusStackPanle.Remove(uiElement)
     stackPanelShapesContainer.Children.Add(uiElement);
} 
```

# python - 在任何类范围之外暴露 Boost.Python 中的常量

> ID：11028599
> 
> 赞同：3
> 
> 时间：2012-06-14T07:31:27.320
> 
> 标签：python, boost, boost-python

我在 C++ 代码中有以下常量

```
enum
{
    BOUNDARY_NONE = -1,
}; 
```

我想用 Boost.Python 将它暴露给 Python，这样它就可以在 Python 中作为`BOUNDARY_NONE`. 我不想在任何额外的范围内定义它。

我发现如何使用 Boost.Python v1 做到这一点

```
#include <boost/python/reference.hpp>
my_module_builder.add(make_ref(BOUNDARY_NONE), "BOUNDARY_NONE"); 
```

但我使用较新版本的 Python，但我不知道如何使用它访问 my_module_builder（我使用 BOOST_PYTHON_MODULE 代替）。

[这里](https://stackoverflow.com/questions/6877587/exposing-static-constant-with-boost)出现了类似的问题，但他们正在向类范围添加常量，我没有任何类范围可供使用。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-25T09:53:30.963

我没有找到比以下更好的东西：

```
scope().attr("BOUNDARY_NONE") = BOUNDARY_NONE; 
```

# algorithm - 将 Bresenham 生成的圆存储为多边形？

> ID：11028602
> 
> 赞同：0
> 
> 时间：2012-06-14T07:31:32.447
> 
> 标签：algorithm, graphics, bresenham

我正在使用[Midpoint circle algorithm](http://en.wikipedia.org/wiki/Midpoint_circle_algorithm)生成圆圈。我不想画这些圆圈。相反，我想将它们存储为多边形。显然，坐标的顺序是错误的，所以如果我使用[Graphics.DrawPolygon](http://msdn.microsoft.com/en-us/library/dd0c4s09.aspx)来绘制这些圆，那么圆将变成线网。

**问：**如何修改算法以生成正确定义的多边形？或者，如何从一组点（在这种情况下属于一个圆）创建一个有效的多边形？

**更新：**这成功了。

```
var firstHalf = points.Where(p => p.Y >= cy).OrderBy(p => p.X);
var secondHalf = points.Where(p => p.Y < cy).OrderByDescending(p => p.X);

var polygon = new List<Point>();
polygon.AddRange(firstHalf);
polygon.AddRange(secondHalf); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:45:47.637

对于圆来说，对两半进行排序就足够了，例如在 x 中在 y_mid 上方按升序排序，在 y_mid 下方按降序排序。这些点应该由你的多边形组成。

# performance - 一些技巧如何加快在 magento 中保存产品

> ID：11028604
> 
> 赞同：1
> 
> 时间：2012-06-14T07:31:47.513
> 
> 标签：performance, api, magento

目前我正在尝试研究如何加快在 magento 中保存产品的速度。我们通过 Magento API 导入产品，每个产品都需要很长时间才能更新。在 catalog_product_save_* 事件上触发了大量的观察者。

你有什么提示什么观察者不重要，我可以禁用它们，或者我可以用低影响禁用什么。

感谢您的任何建议。哈罗

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T10:22:36.407

产品保存后花费最多时间的过程是索引器。`manual`您可以像这样以编程方式将索引模式设置为：

```
$indexers = Mage::getSingleton('index/indexer')->getProcessesCollection(); 
foreach ($indexers as $indexer) {
   $indexer->setMode(Mage_Index_Model_Process::MODE_MANUAL)->save();
} 
```

导入后将其设置为`auto`：

```
$indexers = Mage::getSingleton('index/indexer')->getProcessesCollection(); 
foreach ($indexers as $indexer) {
   $indexer->setMode(Mage_Index_Model_Process::MODE_REAL_TIME)->save();

 } 
```

此外，根据您要导入的内容，您可能希望重新索引您的数据。

可能的索引列表：

> 1.  产品属性
> 2.  产品价格
> 3.  目录 URL 重写
> 4.  产品平面数据
> 5.  类别平面数据
> 6.  分类产品
> 7.  目录搜索索引
> 8.  标记聚合数据
> 9.  库存状况

要执行重新索引：

```
$process = Mage::getModel('index/process')->load($id);
$process->reindexAll(); 
```

`$id`上面列表中的列表索引在哪里。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-14T08:23:25.317

只需将所有索引的索引模式设置为“手动”即可。
因此，每次保存产品后，magento 都不会运行重新索引。
不要忘记将它们恢复正常并在产品导入完成后运行完整的重新索引。

# eclipse - Intellij Idea - Eclipse 剪贴簿等价物

> ID：11028605
> 
> 赞同：7
> 
> 时间：2012-06-14T07:31:54.630
> 
> 标签：eclipse, intellij-idea

Intellij Idea 中是否有与[Eclipse 的“剪贴簿”功能等效的功能？](http://help.eclipse.org/helios/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-create_scrapbook_page.htm)

（在我去寻找 3rd 方插件之前）

我有一个“[谷歌](http://bit.ly/KWXs1g)”周围，无济于事......

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-14T08:01:55.383

对于一些基本功能，您可以使用[Groovy Shell](http://www.jetbrains.com/idea/webhelp/groovy-shell.html)（显然它也可以运行 Java 代码）

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-08-25T12:39:57.233

实际等效的是[暂存文件](https://www.jetbrains.com/idea/help/scratches.html)。

# java - catalina.log 中的“严重：启动静态资源时出错”

> ID：11028610
> 
> 赞同：0
> 
> 时间：2012-06-14T07:32:08.157
> 
> 标签：java, jakarta-ee, tomcat, tomcat6

当我尝试启动 tomcat 6 时，我在 Catalina.log 文件中收到以下异常。我查找了类似的查询，但找不到提到的解决方案。请注意，我的应用程序位于 tomcat webapp 中，但我没有使用eclipse 运行它。

```
Jun 14, 2012 12:33:45 PM org.apache.catalina.core.AprLifecycleListener init
INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: ............
Jun 14, 2012 12:33:45 PM org.apache.coyote.http11.Http11Protocol init
INFO: Initializing Coyote HTTP/1.1 on http-9090
Jun 14, 2012 12:33:45 PM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 390 ms
Jun 14, 2012 12:33:45 PM org.apache.catalina.core.StandardService start
INFO: Starting service Catalina
Jun 14, 2012 12:33:45 PM org.apache.catalina.core.StandardEngine start
INFO: Starting Servlet Engine: Apache Tomcat/6.0.20
Jun 14, 2012 12:33:45 PM org.apache.catalina.core.StandardContext resourcesStart
SEVERE: Error starting static Resources
java.lang.IllegalArgumentException: Document base C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\host-manager does not exist or is not a readable directory
    at org.apache.naming.resources.FileDirContext.setDocBase(FileDirContext.java:142)
    at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4048)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4217)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:791)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:771)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:526)
    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:630)
    at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:556)
    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:491)
    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1206)
    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:314)
    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:722)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)
    at org.apache.catalina.core.StandardService.start(StandardService.java:516)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:710)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:583)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)
Jun 14, 2012 12:33:45 PM org.apache.catalina.core.StandardContext start
SEVERE: Error in resourceStart()
Jun 14, 2012 12:33:45 PM org.apache.catalina.core.StandardContext start
SEVERE: Error getConfigured
Jun 14, 2012 12:33:45 PM org.apache.catalina.core.StandardContext start
SEVERE: Context [/host-manager] startup failed due to previous errors
Jun 14, 2012 12:33:45 PM org.apache.catalina.core.StandardContext stop
INFO: Container org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager] has not been started
Jun 14, 2012 12:33:45 PM org.apache.catalina.core.StandardContext resourcesStart
SEVERE: Error starting static Resources
java.lang.IllegalArgumentException: Document base C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\manager does not exist or is not a readable directory
    at org.apache.naming.resources.FileDirContext.setDocBase(FileDirContext.java:142)
    at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4048)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4217)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:791)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:771)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:526)
    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:630)
    at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:556)
    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:491)
    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1206)
    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:314)
    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:722)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)
    at org.apache.catalina.core.StandardService.start(StandardService.java:516)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:710)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:583)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)
Jun 14, 2012 12:33:45 PM org.apache.catalina.core.StandardContext start
SEVERE: Error in resourceStart()
Jun 14, 2012 12:33:45 PM org.apache.catalina.core.StandardContext start
SEVERE: Error getConfigured
Jun 14, 2012 12:33:45 PM org.apache.catalina.core.StandardContext start
SEVERE: Context [/manager] startup failed due to previous errors
Jun 14, 2012 12:33:45 PM org.apache.catalina.core.StandardContext stop
INFO: Container org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager] has not been started
Jun 14, 2012 12:33:45 PM org.apache.catalina.loader.WebappClassLoader validateJarFile
INFO: validateJarFile(C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\MyAPP\WEB-INF\lib\servlet.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2\. Offending class: javax/servlet/Servlet.class
Jun 14, 2012 12:33:47 PM org.apache.coyote.http11.Http11Protocol start
INFO: Starting Coyote HTTP/1.1 on http-9090
Jun 14, 2012 12:33:47 PM org.apache.jk.common.ChannelSocket init
INFO: JK: ajp13 listening on /0.0.0.0:9009
Jun 14, 2012 12:33:47 PM org.apache.jk.server.JkMain start
INFO: Jk running ID=0 time=0/16  config=null
Jun 14, 2012 12:33:47 PM org.apache.catalina.startup.Catalina start
INFO: Server startup in 2409 ms 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:42:26.113

建议：

1) 确保 Tomcat 不会无意中删除您的 .war。如果 .war 的某些内容“损坏”，则可能会发生这种情况：

[http://www.coderanch.com/t/479329/Tomcat/disappearing-war-file-tomcat](http://www.coderanch.com/t/479329/Tomcat/disappearing-war-file-tomcat)

2) 不要使用带空格的文件名。

您可以在命令提示符下使用“dir/x”来查看任何 Windows 目录的 DOS“8.3”名称：

示例：`"c:\Program files"`可能有“短名称”`"C:\PROGRA~1"`

3) 编辑您的描述符（包括 app.xml）以将 8.3 名称替换为其中包含空格的任何内容。

4) 除非您确定 Tomcat 本身没有问题（例如，是否出现了默认的 Tomcat 页面？），否则您可能只想考虑删除并重新安装它。

'希望有帮助

# salesforce - Apex Scheduler Salesforce，执行错误

> ID：11028612
> 
> 赞同：1
> 
> 时间：2012-06-14T07:32:11.823
> 
> 标签：salesforce, apex-code

我对顶点调度程序有一个大问题。当我尝试执行调度程序时，我总是收到此错误消息：“全局类型必须包含在全局类中”

这是代码示例：
`global class updateData implements Schedulable { global void execute (SchedulableContext SC) { DataContact dContact = new DataContact(); dContact.UpdateContact(); } }`

谢谢！

周杰伦

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T13:08:24.930

您似乎正在尝试在开发人员控制台中执行此代码。Developer Console 并不真正支持创建全局类（这意味着您无法在其中实现 Schedulable 接口）。如果您只是想匿名调用`UpdateContact`，那么您只需在开发者控制台中输入以下内容：

```
DataContact dc = new DataContact();
dc.updateContact(); 
```

如果您尝试创建一个可调度对象来调度对 DataContact 的调用，那么您应该使用您发布的代码创建一个 Apex 类，然后使用 Apex 类页面上的“调度 Apex”按钮对其进行调度。

# service - PrintServiceLookup 返回 NULL

> ID：11028618
> 
> 赞同：0
> 
> 时间：2012-06-14T07:32:25.437
> 
> 标签：service, printing, null, default

我正在使用 PrintServiceLookup 搜索安装在使用小程序的客户端计算机上的默认打印服务。此代码在我的机器上运行良好，并且小程序正确加载并返回默认打印服务名称，但是当我的机器从另一个客户端访问时，小程序在一台机器上返回 BLANK，在另一台机器上返回 NullPointerException，因为 PrintSerivceLookup 在该机器上返回 NULL。

此外，当我在那些机器上尝试使用 Main 方法调用运行小程序时，它运行良好。

请建议。

我写的代码：

```
HTML:
APPLET code="CheckClientDefaultPrinterAddress.class" width=350 height=125 name="printerApp"

SCRIPT:
var defaultPrinterIp = document.printerApp.getDefaultPrinterIP();
alert(defaultPrinterIp);

JAVA CODE:
PrintService service = PrintServiceLookup.lookupDefaultPrintService();
if(service != null) {
    defaultPrinter = service.getName();
} 
```

返回默认打印机；

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T06:20:14.343

我通过在 Java.policy 文件中添加以下行来解决它：

```
permission java.security.AllPermission; 
```

但仍然无法找出所需的确切许可。授予所有权限对于小程序来说是不安全的。

# drupal - 在 drupal 模块中解析 facebook 签名的请求

> ID：11028630
> 
> 赞同：0
> 
> 时间：2012-06-14T07:33:09.883
> 
> 标签：drupal, facebook-graph-api, drupal-modules

一个简单的问题，

我可以在 drupal 模块中解析 facebook signed_request 吗？为了获取用户的信息？没有任何形式的认证？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T08:42:34.147

当然你*可以*解析它（一旦你掌握了它）——但除了他们的 Facebook uid 之外，它不会给你太多关于用户的信息。

一旦用户*连接*到您的应用程序，您就可以通过 Graph API 调用 /me 来查询他们的一些数据——除了需要基本权限外，无需*额外权限。*

（要解析它，请参阅有关 signed_request 的 Facebook 文档；或者只是嵌入 PHP SDK，它已经提供了一种方法。）

# android - Android 如何检查设备/平板电脑是否支持通话功能

> ID：11028632
> 
> 赞同：6
> 
> 时间：2012-06-14T07:33:18.750
> 
> 标签：android

在我的应用程序中有一个呼叫功能。单击“呼叫”按钮后，应用程序将启动带有电话号码的电话拨号器。

现在，如果任何设备/平板电脑没有通话功能，在这种情况下，我想检查一下

```
if(isSupportCalling) 
      //launch dialer
else 
     //show message 
```

为了避免任何应用程序崩溃。

由于此权限仅允许 android play 使其可见并能够在不支持呼叫功能的设备/平板电脑上下载/安装应用程序。

```
<uses-feature 
        android:name="android.hardware.telephony" 
        android:required="false"/> 
```

正如我在 SO 上看到的与此相关的线程很少，但没有找到可靠的方法。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-14T07:57:03.920

通过使用 TelephonyManager 类，您可以判断电话网络的可用性以及检查电话网络的不同相关状态。

```
TelephonyManager tm= (TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);
       if(tm.getPhoneType()==TelephonyManager.PHONE_TYPE_NONE){
        //No calling functionality
       }
       else
       {
       //calling functionality
       } 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-07-11T08:06:41.790

而已：

您应该执行以下操作：

```
 private boolean canMakeCalls(){
    return ((TelephonyManager)getActivity().getSystemService(Context.TELEPHONY_SERVICE)).getLine1Number()
    != null;
} 
```

并随时调用该函数：

```
 if (canMakeCalls()){} 
```

希望有帮助

# android - 如何将 facebook OAuth 信息用于我自己的登录 OAuth？

> ID：11028639
> 
> 赞同：0
> 
> 时间：2012-06-14T07:34:16.573
> 
> 标签：android, facebook

我已经在我的 Android 应用程序中集成了 facebook 登录，但我的问题在这里：-

当用户决定注册而不使用 facebook 或 twitter 登录时，我的应用程序使用自己的 OAuth 机制。因此，Facebook 是否会发送任何我可以与用户 ID 映射的持久性令牌来为用户生成 OAuth 令牌，我可以在整个应用程序中使用该令牌（例如进行发布/上传操作）？

编辑：假设我通过 facebook 登录，然后在从 facebook 获取用户信息后，它必须在下一页注册我的应用程序。而且，现在我已登录。假设我删除了该应用程序。重新安装。并通过 facebook 登录。我将再次被带到注册屏幕，并且会有另一个用户，因此是一个问题。我该如何防止呢？facebook 是否会向我发送一些我可以在每次注册时使用用户名映射的令牌？工作流程是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:06:25.007

您应该在用户表中添加额外的列，例如 facebook_uid 或单独的表来保存该通知，因此所有数据都会在注册/登录过程中通过网络 (fb/tw) 及其 network_uid。在登录/注册时检查 facebook uid 并返回您的应用程序用户 ID，我一直致力于集成几个这样的社交网络。

# php - 发送使用 .htaccess 请求的其他图像

> ID：11028640
> 
> 赞同：1
> 
> 时间：2012-06-14T07:34:17.570
> 
> 标签：php, .htaccess, redirect

我的问题是：

如果我的 html 中有这样的图像

```
 <img src='http://someURL.com/images/image.jpg'> 
```

没有托管在我的服务器上，我可以从另一个外部来源发送另一个图像吗？使用 .htaccess 和 php。现在我知道如果我的图像存储在我的服务器上，如何从任何来源发送另一个图像。因此，我不想从“http://someURL.com/images/image.jpg”发送内容，而是想从“http://OtherURL.com/maybe/newImage.jpg”发送内容。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:39:02.047

您不能在服务器端执行此操作，因为浏览器会直接访问外部源而无需请求您的服务器许可。

如果需要，您可以使用 JavaScript 在客户端执行此操作。

**编辑：** jQuery 示例解决方案

[jQuery $("img[src=the_image_souce]").attr('src','new_src'); 不工作](https://stackoverflow.com/questions/3956157/jquery-imgsrc-the-image-souce-attrsrc-new-src-does-not-work)

# jquery-ui - 如何从jquery自动完成结果中删除项目符号

> ID：11028642
> 
> 赞同：14
> 
> 时间：2012-06-14T07:34:18.503
> 
> 标签：jquery-ui, jquery

我的 jquery-ajax 自动完成结果显示了一个项目符号列表。我想去掉子弹。我不明白我需要在 jquery-ui-1.8.21.custom.css （从 JQuery UI 网站下载）中更改的位置和内容。

任何建议将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-15T03:11:50.823

确保默认的 ui 自动完成类包含 list-style: none。

```
ul.ui-autocomplete {
    list-style: none;
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-11-25T17:36:25.270

jQuery-ui-1.10.3

这适用于 Chrome、IE 和 Firefox。它还删除了子弹曾经所在的左边距。它源自 w3Schools [http://www.w3schools.com/CSS/css_list.asp](http://www.w3schools.com/CSS/css_list.asp)

```
ul.ui-autocomplete {
    list-style: none;
    list-style-type: none;
    padding: 0px;
    margin: 0px;
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-14T07:35:50.310

将显示项目符号属性的CSS更改为

> 列表样式：无

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-13T19:53:12.593

这是 jquery-ui v1.9.1 中的一个错误，已在 v1.10.3 中修复。[如jquery-ui 缺陷报告 (8844)](http://bugs.jqueryui.com/ticket/8844)中所述，它发生在 IE10 而不是 11 上。

**跨浏览器的解决方法**（在 IE6 - 10、Firefox、Chrome、Safari 和 Opera 中测试）是应用以下 CSS：

```
.ui-menu-item
{
  /* IE10 fix to remove bullets from showing outside of div*/
    list-style-image: url(data:0);
} 
```

或者只是在 v1.9.1 之后使用更高版本的 jquery。

注意：这与 chrisvillanueva 的回答不同，就像一位用户在缺陷报告中发布的类似内容一样，但是该解决方法不被接受为跨浏览器，并且根据缺陷`list-style: none;`，这似乎是一个更好的选择。`list-style-image: url(data:0);`

# android - 在模拟器中实现应用内计费

> ID：11028646
> 
> 赞同：2
> 
> 时间：2012-06-14T07:34:30.500
> 
> 标签：android, proxy, emulation, billing, in-app

我一直在阅读有关 Android 应用程序的“实现应用内计费”的信息，并且文档说无法在模拟器中测试应用程序。真的吗？

我正在开发的手机没有“移动数据计划”，所以我尝试通过我的电脑通过 USB 连接手机，但因为我的电脑在代理后面，我无法连接到互联网。

我能做什么？

提前致谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-14T07:36:35.440

使用 Wifi 连接互联网？测试应用内结算需要具有相关 Google 服务的 Android Market/Google Play Store 应用程序。这在模拟器上不可用，因此您需要使用真实设备。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2021-06-29T14:42:22.477

如果它可以帮助仍然坚持这一点的任何人，我会发布我的答案。首先，确保您将使用的帐户是发布者或测试帐户。（有关如何将您的帐户设置为发布者帐户的更多信息，请查看 VIISHRUT MAVANII [https://stackoverflow.com/a/57478895/15186237](https://stackoverflow.com/a/57478895/15186237)的此答案）。现在...

1.  转到 AVD 管理器 -> 创建虚拟设备
2.  选择具有 Play 商店图标的设备（我使用 Pixel 4），然后单击下一步。
3.  选择包含 Google Play 且 API 级别为 8+ 的系统映像。（我不确定目标 Android 操作系统版本对此有何影响，但我认为只要包含 Google Play 就无关紧要。）在“目标”列下，您可以看到 Android 版本以及它是否包含 Google Play。下载该系统映像以使用它。
4.  如果需要，请单击下一步并为其命名。按完成。
5.  在 Android Studio 中，确保您使用的是这个新的模拟器。运行模拟器。
6.  在那里找到 Play Store 并使用您的发布者/测试帐户登录。
7.  一切就绪，运行您的应用并测试应用内计费。

请注意，使用发布者/测试帐户在此处进行的购买实际上不会花费任何费用。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-08-03T08:26:33.727

这现在是可能的，因为如果您在模拟器上安装了正确的操作系统，您就可以在模拟器中使用 Play Services。然后您可以在其上打开 Play 商店，使用您的 Google 帐户登录，然后您可以测试应用内购买。

[您可以在此处](https://developer.android.com/google/play/billing/test)了解有关如何进行测试的更多信息。可以在[此处](https://developer.android.com/google/play/licensing/setting-up.html#acct-signin)找到设置设备（包括模拟器）的相关步骤。

# jquery - 如何知道表单是否真的被序列化了？

> ID：11028648
> 
> 赞同：0
> 
> 时间：2012-06-14T07:34:32.103
> 
> 标签：jquery, serialization

单击提交按钮后，我有此表单要序列化，

```
 <form class="cashier_forms" action="<?php echo base_url().'index.php/'.$this->uri->segment(1).'/'.$this->uri->segment(2)?>/addCashierCount" id="form_cashier_count" rel="ajax_message">
       <p id="cashier_count_p" class="hidden">
          <label for="recipe_id">Count</label>
          <input placeholder="Cashier count for this Recipe" class="all_curve_small cashier_inputs" name="cashier_count" id="cashier_id" />
          <input id="yield_recipe_id" type="text" name="yield_id_input" value="<?php echo $ayr_recipe->yieldID?>" />
          <input type="text" name="count_date" value="<?php echo $date_now?>" />
          <input type="submit" class="buttons count_submit" rel="form_<?php echo $this->tbl_count_name ?>" value="Add Count" />
       </p>
    </form> 
```

这是我的jquery，它应该序列化我的表单..

```
 $('.count_submit').click(function(e){
      e.preventDefault();
      var form    = '#'+ $(this).attr('rel');
      var url  = $(form).attr('action');
      var target  = '#'+ $(form).attr('rel');
      $(target).slideUp();
      $.post(url, $(form).serialize(),function(data) {
         $(target).html(data).slideDown(function(){
            if(data == '<div class="ok">Added</div>'){
            setTimeout(refresh,3000)
            window.location = '<?php echo base_url()?>index.php/cashier/cashier_lo';
            }
         });
      });
    }); 
```

但是在处理操作时，它不存储任何数据，我认为表单没有被序列化..有人可以检查我是否错过了 sumthing 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:35:45.537

这不会给你表格：

```
var form = '#'+ $(this).attr('rel'); 
```

这为您提供`rel`了提交按钮的属性（顺便说一句，它甚至没有这样的属性）。然后在上面调用`.serialize()`方法就没有意义了。访问表格。请记住，在您的点击处理程序中， this 指向被点击的元素（也就是按钮，而不是表单）。所以：

```
var form = $(this).closest('form'); 
```

据说更好的是订阅表单的提交事件，而不是按钮的点击事件。如果用户在输入字段内按 Enter 会怎样？表单将被提交，您的点击处理程序将永远不会运行。

所以让我们清理一下：

```
$('#form_cashier_count').submit(function(e) {
    e.preventDefault();
    var form = $(this);
    var target = form.attr('rel');
    $(target).slideUp();
    $.post(this.action, form.serialize(), function(data) {
        $(target).html(data).slideDown(function() {
            if (data == '<div class="ok">Added</div>') {
                setTimeout(refresh, 3000);
                window.location = '<?php echo base_url()?>index.php/cashier/cashier_lo';
            }
        });
    });
}); 
```

# javascript - 如何检查跨度标签是否包含文本

> ID：11028650
> 
> 赞同：7
> 
> 时间：2012-06-14T07:34:33.617
> 
> 标签：javascript, jquery, html

如果患者已经分配了时间段，[请参见小提琴，然后使用 jquery（客户端）将颜色变为黄色。](http://jsfiddle.net/vrW2n/9/)在我的小提琴中，如果我第一次分配时隙，则颜色为绿色，同时在分配下一个时隙时，前一个时隙为灰色。我必须把它变成黄色。为此，我必须在表中找到 span 标签并检查是否包含文本，如果包含文本，则将其设为黄色。但我在 jquery 中是新的。我搜索了很多但没有得到。我怎样才能做到这一点。

//这是按钮点击代码

```
 $("#<%=btnSelect.ClientID%>").click(function ()           {

                var cells = $('#tableAppointment tbody tr td:nth-child(3)');

                var i = 0;
                var topcell = false;

                cells.each(function ()
                {
                    var $cell = $(this);

                    if ($cell.hasClass('csstdhighlight'))
                    {
                        if (i == 0)
                        {
                            $cell.find('span').text(jQuery('#<%=txtPatientName.ClientID%>').val());
                            topcell = $cell;
                        }
                        else
                        {
                            $cell.remove();

                        }
                        i++;
                    }
                });
                if (topcell && i > 1) topcell.attr('rowspan', i);
                $("#tableAppointment tr").each(function ()
                {

                    $('td', this).each(function ()
                    {
                        var value = $(this).find("span").val();

                        if (!value)//i m chking like this
                        {

                        }
                        else
                        { //make it yellow                      
                        }
                    })

                })

                return false;
            });
        }); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-14T07:43:40.460

```
if($('span').text().length == 0){
  console.log('No Text');
}
else{
  console.log('Has Text');
} 
```

演示：http: [//jsfiddle.net/hj4Bt/1/](http://jsfiddle.net/hj4Bt/1/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-14T07:42:23.040

改为使用`$(this).find("span").text()`。检查返回的字符串是否为空。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-14T07:41:59.403

而不是这个

```
var value = $(this).find("span").val(); 
```

写

```
var value = $(this).find("span").text(); 
```

如果你想检查跨度内的 html 然后使用

```
var value = $(this).find("span").html(); 
```

更新 ：-

```
<html><head>
<style>.yell{background:#CCFF00;}.csstd
{
background-color: #ccffcc;
}
table{
background-color: #cccccc;

}</style><script src="jquery.js"></script>
<script>var is=false;
$(function(){

$(document).mouseup(function(){is=false;});
$(".csstablelisttd").mousedown(function(e){sen=$(this);
$(".csstd").removeClass("csstd");
  $(this).children(":not(:first)").addClass("csstd");
  xco=e.clientX;
  yco=e.clientY;
  is=true;
  return false;
});
document.onmousemove=function(){return false;};
$(".csstablelisttd").mouseenter(function(){
if(is){
  $(this).children(":not(:first)").addClass("csstd");
if($(".csstd").length>=6){is=false;}
}
});
$("#update").click(function(){
if($("#names").val())
{
$(".csstd").next().hide();

$(".csstd:first").next().show().attr("rowspan",$(".csstd").length/2).children().html($("#names").val());
$(".csstd").removeClass("csstd").addClass("yell");
}
});
 });</script></head><body>
<table id="tableAppointment" cellspacing="1" width="50%" border="1" align="center">
<thead>
<tr class="csstablelisttd">
<td bgcolor="#ffffff">
</td>
<td >
</td>
<td class="csstablelisttd patientName">
<b>Patient Name</b>
</td>
</tr>
</thead>
<tbody>
<tr class="csstablelisttd">
<td  valign="top" width="70px">
8:00AM
</td>
<td >
0
</td>
<td >
<span></span>
</td>
</tr>
<tr class="csstablelisttd">
<td >
</td>
<td >
15
</td>
<td >
<span></span>
</td>
</tr>
<tr class="csstablelisttd">
<td >
</td>
<td >
30
</td>
<td >
<span></span>
</td>
</tr>
<tr class="csstablelisttd">
<td >
</td>
<td >
45
</td>
<td >
<span></span>
</td>
</tr>
<tr class="csstablelisttd">
<td  valign="top" width="90px">
9:00AM
</td>
<td >
0
</td>
<td >
<span></span>
</td>
</tr>
<tr class="csstablelisttd">
<td >
</td>
<td >
15
</td>
<td >
<span></span>
</td>
</tr>
<tr class="csstablelisttd">
<td >
</td>
<td >
30
</td>
<td >
<span></span>
</td>
</tr>
<tr class="csstablelisttd">
<td >
</td>
<td >
45
</td>
<td >
<span></span>
</td>
</tr>
</tbody>
</table>
<input type="text" id="names" />
<input type="button" id="update" value="update" /> </body></html> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-14T18:56:54.590

那是你要的吗？

见演示：http: [//jsfiddle.net/FDEep/3/](http://jsfiddle.net/FDEep/3/)

```
$('input').click(function(){
    // All <span> inside <td>
    $('td span').each(function(index){
        // Check if 'span' is empty
        if( $(this).text().length !== 0 ){
            // Change the bg color of the 'span' not empty
            $(this).parent().css('background-color', 'yellow');
            // When a span with some value is found, alert the index of the row
            alert( $(this).closest('tr')[0].rowIndex);
        }
    });
}); 
```

随心所欲地适应

# sql - 使用 xp_cmdshell 的 T-SQL FTP

> ID：11028655
> 
> 赞同：2
> 
> 时间：2012-06-14T07:34:56.353
> 
> 标签：sql, tsql, sql-server-2005, ftp, xp-cmdshell

我正在使用下面的代码片段将简单的文本文件从 Windows Server 2003 / SQL Server 2005 数据库传输到 BULL FTP 站点，并且在 BULL 端出现了一些损坏。

```
select @cmd = 'ftp -s:' + @workdir + @workfilename
exec master..xp_cmdshell @cmd, NO_OUTPUT 
```

文本文件包含 SEP490067，但是当它在 BULL 上打开时，它看起来像这样 ..SEP4.9.0.0.6.7..

在使用 SSIS FTP 组件发送文件并将 IsTransferAscii 开关切换为 True 时，我曾看到过类似的情况可以解决此问题。我的问题是您是否必须在上面的 FTP 命令中设置另一个命令行开关才能使用 ASCII 而不是二进制发送文件？

这是完整的 TSQL

```
USE [JCB_QSmart]
GO
/****** Object:  StoredProcedure [dbo].[FTP_PutFile]    Script Date: 06/14/2012 08:56:55 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER procedure [dbo].[FTP_PutFile]
@FTPServer  varchar(128) ,
@FTPUser    varchar(128) ,
@FTPPWD     varchar(128) ,
@FTPPath    varchar(128) ,
@FTPFileName    varchar(128) ,
@SourcePath varchar(128) ,
@SourceFile varchar(128) ,
@workdir    varchar(128),
    @ShowOutput as bit = 0
as

declare @cmd varchar(1000)
declare @workfilename varchar(128)

    select @workfilename = 'ftpcmd.txt'

    -- deal with special characters for echo commands
    select @FTPServer = replace(replace(replace(@FTPServer, '|', '^|'),'<','^<'),'>','^>')
    select @FTPUser = replace(replace(replace(@FTPUser, '|', '^|'),'<','^<'),'>','^>')
    select @FTPPWD = replace(replace(replace(@FTPPWD, '|', '^|'),'<','^<'),'>','^>')
    select @FTPPath = replace(replace(replace(@FTPPath, '|', '^|'),'<','^<'),'>','^>')

    select  @cmd = 'echo '                  + 'open ' + @FTPServer
            + ' > ' + @workdir + @workfilename
    exec master..xp_cmdshell @cmd
    select  @cmd = 'echo '                  + @FTPUser
            + '>> ' + @workdir + @workfilename
    exec master..xp_cmdshell @cmd
    select  @cmd = 'echo '                  + @FTPPWD
            + '>> ' + @workdir + @workfilename
    exec master..xp_cmdshell @cmd
    select  @cmd = 'echo '                  + 'put ' + @SourcePath + @SourceFile + ' ' + @FTPPath + @FTPFileName
            + ' >> ' + @workdir + @workfilename
    exec master..xp_cmdshell @cmd
    select  @cmd = 'echo '                  + 'quit'
            + ' >> ' + @workdir + @workfilename
    exec master..xp_cmdshell @cmd

    select @cmd = 'ftp -s:' + @workdir + @workfilename

    create table #a (id int identity(1,1), s varchar(1000))
    insert #a
    exec master..xp_cmdshell @cmd, NO_OUTPUT

    select id, ouputtmp = s from #a 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T07:53:07.297

由于您使用`-s`ftp 开关，因此您应该`ascii`在连接到 FTP 服务器后立即将 -command 放入您的工作文件中。

**编辑：**

`'put '`因此，在您的 StoredProc 中，您必须在包含命令的行之前添加以下行：

```
select  @cmd = 'echo ' + 'ascii > ' + @workdir + @workfilename
exec master..xp_cmdshell @cmd 
```

代码应包括额外的 >

```
select  @cmd = 'echo ' + 'ascii >> ' + @workdir + @workfilename
exec master..xp_cmdshell @cmd 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-07-29T08:13:48.000

不要在参数 X @FTPServer 上使用 ftp://，只需输入 IP 地址或域即可。像，

```
echo open 10.16.22.21 > 
```

# node.js - 如何在 node.js 中安全地运行用户提交的脚本

> ID：11028666
> 
> 赞同：2
> 
> 时间：2012-06-14T07:35:55.350
> 
> 标签：node.js

很少有方法 (1) eval() (2) 使用节点在新上下文中评估代码的能力 (3) 使用类似[https://github.com/gf3/sandbox#readme](https://github.com/gf3/sandbox#readme)

但我不确定哪一个更安全并提供良好的性能。我几乎无法解释我的用例。用户将提交脚本，我会将一个对象传递给该脚本，该脚本已经在其中定义了处理逻辑，最后它将返回一个对象，我想在我的应用程序中获取该对象以供进一步使用。

我在互联网上搜索过，但找不到一些关于走哪条路的好建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-01T11:28:34.030

我在我的一个项目中也有类似的要求，并且在研究过程中遇到了您的问题，让我分享一下我的发现：

**使用`eval`+ `vm.runInNewContext`（[http://nodejs.org/docs/latest/api/vm.html#vm_sandboxes](http://nodejs.org/docs/latest/api/vm.html#vm_sandboxes)）：**

这可能是不安全的，并且从邮件列表和问题跟踪器中的声明来看，这也不推荐使用。您链接的沙盒模块是为此目的推荐的方式。

另见：[https ://github.com/joyent/node/issues/1469](https://github.com/joyent/node/issues/1469)

**使用子进程（[http://nodejs.org/api/child_process.html](http://nodejs.org/api/child_process.html)）：**

如果您不计划过多的并发，这可能是一个很好的解决方案。一个新的孩子是一个新的 V8 实例，启动大约需要 30 毫秒，并使用大约 10MB 内存。您可以在孩子完成后杀死孩子并释放内存。

**沙盒模块（[https://github.com/gf3/sandbox](https://github.com/gf3/sandbox)）：**

该模块是为此目的而构建的，并使用子进程。它将以最简单的方式解决您的问题。您也可以将其用作如何创建自己的基于子进程的解决方案的示例。

# php - CodeIgniter 编码标准

> ID：11028673
> 
> 赞同：0
> 
> 时间：2012-06-14T07:36:29.803
> 
> 标签：php

我只是想问一下我使用原生PHP语言是否可以？

例子：

```
public function updatePost(){
if(!empty($_POST['name'])){
    return true;
}else{
      return false;
    }
} 
```

代码点火器：

```
public function updatePost{
    $this->form_validation->set_rules("name","Name","trim|required");
    if($this->form_validation->run()==false){
          return false;
    }else{
                  return true;
            }
} 
```

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T07:41:48.280

您可以在 codeigniter 中使用原生 PHP 语言而不会出现任何问题。唯一的区别是 Codeigniter 具有可以帮助您保持代码简单和干净的功能。因此，如果您已经在使用 codeigniter，我建议您尝试使用尽可能多的 Codeigniter 功能。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T07:48:32.737

使用原生 PHP 没有问题，但我建议坚持使用框架函数。特别是如果您正在考虑让多个程序员在同一个代码库上工作。不得不使用不一致的代码是很困难的，并且会产生不必要的复杂性。在我看来，最好坚持特定规则（框架函数）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T07:41:22.573

CodeIgniter 是一个 PHP 框架，所以无论如何你都会使用 PHP。

至于您的问题，如果您的唯一目标是检查 POST 变量是否为空，您可以这样做：

```
return ($this->input->post('name')) ? true : false; 
```

# android - Android 应用程序在显示用于启用 GPS 的 alertBox 时崩溃

> ID：11028679
> 
> 赞同：2
> 
> 时间：2012-06-14T07:36:42.697
> 
> 标签：android, gps, alert

我在我的应用程序中显示一个警报框以启用 GPS，应用程序第一次工作正常，但第二次崩溃，然后第三次正常工作，第四次崩溃，依此类推。崩溃时会显示错误“您的活动正在运行吗？”。我尝试使用处理程序和单独的 UI 线程，但没有成功。我正在尝试这个。

```
public void onCreate(Bundle savedInstanceState) {
  super.onCreate(savedInstanceState);
  ExceptionHandler.register(this, WebServiceIface.BASE_URL
    + "/exception/log");
  instanceState = savedInstanceState;
  appStatus = AppStatus.getInstance(this);
  appStatus.mFromQrCode = false;
  mhandler = new Handler();
  appPreferences = PreferenceManager.getDefaultSharedPreferences(this);
  isFromLogin = getIntent().getBooleanExtra("LOGIN_FLAG", false);
  isOnPause = false;
  listenForLocation();
  loginIfNeeded();
 }

 private void listenForLocation() {
  gps = GpsLocator.getGpsLocator(this);
  gps.listen();
 }

 @Override
 protected void onResume() {
  super.onResume();  
  gps.destroyGpsDialog();
  listenForLocation();
  compareTimes();
  isResuming = true;
  isOnPause = false;
  isFromRefresh=true;
 } 
```

我正在从 GpsLocator Activity 调用警报框

```
public void createGpsDialog(){

      final AlertDialog.Builder builder = new AlertDialog.Builder(context);
         builder.setMessage("Yout GPS seems to be disabled, do you want to enable it?").setCancelable(true)
            .setPositiveButton("Yes", new DialogInterface.OnClickListener() {
                public void onClick(final DialogInterface dialog, final int id) {
                 dialog.dismiss();
                    context.startActivityForResult(new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS),6186);

                }
            })
            .setNegativeButton("No", new DialogInterface.OnClickListener() {
                public void onClick(final DialogInterface dialog, final int id) {
                     dialog.dismiss();
                }
            });
         alert = builder.create();
         alert.show();
    } 
```

很奇怪，它只在第二次崩溃

**编辑..**

```
 private GpsLocator(CheckinNativeActivity context) {
        this.context = context;
        this.observers = new ArrayList<GpsFragment>();
        this.removalList = new ArrayList<GpsFragment>();
    }

    public static GpsLocator getGpsLocator(CheckinNativeActivity cxt) {
        if (ref == null)
            ref = new GpsLocator(cxt);
        return ref;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T12:03:26.540

在任何情况下检查上下文是否通过，在您的情况下检查上下文是否传递给 GPsLocator 活动，同时调用活动意图

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:57:55.823

在这里尝试使用 context.getApplicationContext() 代替上下文......

[到处使用应用程序上下文？](https://stackoverflow.com/questions/987072/using-application-context-everywhere)

# java - Java 桌面 GUI 内的 HTML5 视图，JavaScript 通信

> ID：11028684
> 
> 赞同：2
> 
> 时间：2012-06-14T07:36:53.540
> 
> 标签：java, javascript, html, swing, user-interface

在这个 Java 桌面 GUI 中，Web 服务通信层是用 Java 编写的，UI 基于一个非常强大的 HTML 库，提供图表和交互性。

如何在 Java GUI 中嵌入 HTML5 视图以及如何处理与它的 JavaScript 通信？

请举例说明如何触发 JavaScript 函数、读取 DOM 属性等。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T08:04:57.080

*   这对于普通的 Swing 和 Java 是不可能的（不使用 3rd 方库），因为 Java6 支持 Html <= 3.2

*   这可以通过使用[JavaFX 版本 2 和更高版本变得简单](http://docs.oracle.com/javafx/2/webview/jfxpub-webview.htm)

*   甚至 JavaFx 教程来描述将[JavaFX 集成到 Swing 应用程序](http://docs.oracle.com/javafx/2/swing/jfxpub-swing.htm)中我建议在不使用 Swings API 的情况下创建纯 JavaFX GUI

# boolean - 如何用 XOR 简化布尔表达式？

> ID：11028688
> 
> 赞同：2
> 
> 时间：2012-06-14T07:37:20.393
> 
> 标签：boolean, expression, simplify

我想简化一个布尔表达式。
表达式是这样的

```
X1 xor (X2 || X3 &&  X4 || x5) 
```

如何使用布尔代数规则简化此表达式。

此外，我想将上述布尔表达式转换为 CNF 形式，我该怎么做。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-14T09:00:55.030

如果您认为这`A XOR B`等效于`(A AND ~B) OR (~A AND B)`那么其余的应该很容易。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-06-07T07:09:42.957

写`a xor b`为：

```
a != b 
```

或者：

```
!(!a || b) && !(a || !b) 
```

# css - 我想在 j2me 中渲染/显示 html 卡

> ID：11028689
> 
> 赞同：0
> 
> 时间：2012-06-14T07:37:22.623
> 
> 标签：css, java-me, lwuit, html-components

我在win7机器上运行带有S60 SDK（模拟器）的Eclipse pulsar。

我尝试使用**LWUIT 库**组件，即 HtmlComponent 、 BrowserComponent 。在**BrowserComponent**中：正如我从源代码中发现的那样，它仅在 NativeBrowserisSupported() 时才有效，但它返回 false 并且在尝试实例化时触发错误。

在**HtmlComponent 中**：当我使用它时，我发现它不会从外部源加载 css，它会触发一个错误，我发布了那个问题[Link](https://stackoverflow.com/questions/10722301/nullpointerexception-for-lwuit-html-cssengine-applystyletouielementunknown-sour) no proper answers。

我也尝试使用以下方法与 HtmlComponent

```
HTMLComponent htmlComp = new HTMLComponent();
        htmlComp.setPreferredH(450);
        htmlComp.setPreferredW(150);
htmlComp.setBodyText(" <body background='/images/profile_image.png'>  Hi how r you..? <div background='/images/profile_image.png'>  Hey i'm fine..!</div> </body>"); 
```

该图像位于我的项目图像文件夹中。但不显示背景图像，来自支持背景图像的文档，这是错误的。

我也试过这个，即提供 DocumentRequestHnadler() 接口实现，然后提供包含指向外部 css 链接的原始 htmlcard 字符串，但给出错误，此问题中提供的 DocumentRequestHandler() 实现代码[链接](https://stackoverflow.com/questions/10722301/nullpointerexception-for-lwuit-html-cssengine-applystyletouielementunknown-sour) 没有正确答案。

我还修改了我的 htmlCard 字符串，并将它的所有 css 内联，在另一种情况下，使其成为内部 css，但仍然没有显示任何内容。由于 DocumentRequestHandler() 实现，相关的 css 只是下载图像。

也尝试使用**SWT 浏览器**，但它没有获取 html 代码中提供的背景图像，请看一下，

```
Browser browser = new Browser(shell, SWT.NONE);
            browser.setBounds(50, 50, 300, 400);
            browser.setVisible(true);
browser.setText("<html><head></head><body background='/images/profile_image.png'> <div background='/images/profile_image.png'>Hi i'm jayesh..!</div></body></html>"); 
```

请问有哪位朋友之前做过这个吗。。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T20:43:55.493

您很可能没有正确格式化您的 CSS。这个内联 css 工作正常。

```
 HttpRequestHandler handler = new HttpRequestHandler(); 

        htmlC = new HTMLComponent(null); //new ExtHTMLComponent(handler);
        htmlC.setUIID("HtmlContainer");
        htmlC.setBodyText("<div style=\"background-color: pink; padding: 5px;\">Finance & Account Manager at Nestoil PLC</div>"); 
```

# javascript - 无法邀请朋友参加活动

> ID：11028691
> 
> 赞同：0
> 
> 时间：2012-06-14T07:37:28.957
> 
> 标签：javascript, jquery, facebook

我正在尝试创建一个创建并邀请用户参加活动的应用程序。我可以成功创建活动，但无法邀请用户参加此活动。

我正在使用以下代码：

```
$.post('createEvent.php', { title: $("#evTitle").val(), start_time: aj.dateJson, location: aj.lockdownLoc.vicinity, city: aj.cityName, guests: invitees }, function(data){
    n = data.split('.');
    console.log('/'+ n[0] +'/invited?users='+invitees+'&'+n[1]);
    FB.api('/'+ n[0] +'/invited?users='+invitees+'&'+n[1],'post',function(resp) {
                console.log(resp);  // should return true
            });

        return false;
        }) 
```

它给了我一个错误：“传递的参数无法解析为 url。...on(a,b){if(!FB.Dom._cssRules)FB.Dom._cssRules={};var c=true ;ES5(b,'forEach',true..."

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T20:42:20.220

您需要用逗号分隔用户 ID

喜欢：

```
/[EVENT ID]/invited?users=[ID1],[ID2],[ID3],[ID4] 
```

# java - JPQL 查询，包括

> ID：11028693
> 
> 赞同：0
> 
> 时间：2012-06-14T07:37:47.313
> 
> 标签：java, jpql, in-clause

我正在动态生成此查询，但得到调用异常：

```
Select p From Product p  Inner Join ProductFeatureValue pv Where p.productID = pv.productID  and p.category.categoryID = 5 and pv.value in ('Blue','Black') 
```

错误日志：

```
javax.faces.el.EvaluationException: javax.ejb.EJBException
    at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:102)
    at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)
    at javax.faces.component.UICommand.broadcast(UICommand.java:315)
    at com.sun.faces.facelets.component.UIRepeat.broadcast(UIRepeat.java:863)
    at com.sun.faces.facelets.component.UIRepeat.broadcast(UIRepeat.java:863)
    at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:775)
    at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1267)
    at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:312)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1523)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:343)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:79)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:215)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:277)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:188)
    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:641)
    at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:97)
    at com.sun.enterprise.web.PESessionLockingStandardPipeline.invoke(PESessionLockingStandardPipeline.java:85)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:185)
    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:325)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:226)
    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:165)
    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)
    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)
    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)
    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)
    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)
    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)
    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)
    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)
    at com.sun.grizzly.ContextTask.run(ContextTask.java:69)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:330)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)
    at java.lang.Thread.run(Thread.java:662)
Caused by: javax.ejb.EJBException
    at com.sun.ejb.containers.BaseContainer.processSystemException(BaseContainer.java:5119)
    at com.sun.ejb.containers.BaseContainer.completeNewTx(BaseContainer.java:5017)
    at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4805)
    at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2004)
    at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:1955)
    at com.sun.ejb.containers.EJBObjectInvocationHandler.invoke(EJBObjectInvocationHandler.java:208)
    at com.sun.ejb.containers.EJBObjectInvocationHandlerDelegate.invoke(EJBObjectInvocationHandlerDelegate.java:75)
    at $Proxy119.AdvanceSearch(Unknown Source)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.sun.corba.ee.impl.presentation.rmi.ReflectiveTie.dispatchToMethod(ReflectiveTie.java:146)
    at com.sun.corba.ee.impl.presentation.rmi.ReflectiveTie._invoke(ReflectiveTie.java:176)
    at com.sun.corba.ee.impl.protocol.CorbaServerRequestDispatcherImpl.dispatchToServant(CorbaServerRequestDispatcherImpl.java:682)
    at com.sun.corba.ee.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:216)
    at com.sun.corba.ee.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1841)
    at com.sun.corba.ee.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:119)
    at com.sun.corba.ee.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:235)
    at com.sun.corba.ee.impl.presentation.rmi.StubInvocationHandlerImpl.privateInvoke(StubInvocationHandlerImpl.java:187)
    at com.sun.corba.ee.impl.presentation.rmi.StubInvocationHandlerImpl.invoke(StubInvocationHandlerImpl.java:147)
    at com.sun.corba.ee.impl.presentation.rmi.codegen.CodegenStubBase.invoke(CodegenStubBase.java:225)
    at ejb.__StatelessSessionBeanRemote_Remote_DynamicStub.AdvanceSearch(ejb/__StatelessSessionBeanRemote_Remote_DynamicStub.java)
    at ejb._StatelessSessionBeanRemote_Wrapper.AdvanceSearch(ejb/_StatelessSessionBeanRemote_Wrapper.java)
    at beans.SearchBean.featureValue(SearchBean.java:134)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.sun.el.parser.AstValue.invoke(AstValue.java:234)
    at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:297)
    at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:98)
    at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)
    ... 39 more
Caused by: java.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager: 
Exception Description: Syntax error parsing the query [Select p From Product p  Inner Join ProductFeatureValue pv Where p.productID = pv.productID  and p.category.categoryID = 5 and pv.value in ('Blue')].
Internal Exception: org.eclipse.persistence.internal.libraries.antlr.runtime.EarlyExitException
    at org.eclipse.persistence.internal.jpa.EntityManagerImpl.createQuery(EntityManagerImpl.java:1328)
    at com.sun.enterprise.container.common.impl.EntityManagerWrapper.createQuery(EntityManagerWrapper.java:425)
    at ejb.StatelessSessionBean.AdvanceSearch(StatelessSessionBean.java:1094)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:1056)
    at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:1128)
    at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:5292)
    at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:615)
    at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:797)
    at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:567)
    at org.jboss.weld.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:57)
    at sun.reflect.GeneratedMethodAccessor63.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:858)
    at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:797)
    at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:567)
    at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doAround(SystemInterceptorProxy.java:157)
    at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:139)
    at sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:858)
    at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:797)
    at com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:367)
    at com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:5264)
    at com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:5252)
    at com.sun.ejb.containers.EJBObjectInvocationHandler.invoke(EJBObjectInvocationHandler.java:201)
    ... 66 more
Caused by: Exception [EclipseLink-8023] (Eclipse Persistence Services - 2.0.1.v20100213-r6600): org.eclipse.persistence.exceptions.JPQLException
Exception Description: Syntax error parsing the query [Select p From Product p  Inner Join ProductFeatureValue pv Where p.productID = pv.productID  and p.category.categoryID = 5 and pv.value in ('Blue')].
Internal Exception: org.eclipse.persistence.internal.libraries.antlr.runtime.EarlyExitException
    at org.eclipse.persistence.exceptions.JPQLException.syntaxError(JPQLException.java:352)
    at org.eclipse.persistence.internal.jpa.parsing.jpql.JPQLParser.handleRecognitionException(JPQLParser.java:353)
    at org.eclipse.persistence.internal.jpa.parsing.jpql.JPQLParser.addError(JPQLParser.java:245)
    at org.eclipse.persistence.internal.jpa.parsing.jpql.JPQLParser.reportError(JPQLParser.java:362)
    at org.eclipse.persistence.internal.jpa.parsing.jpql.antlr.JPQLParser.joinAssociationPathExpression(JPQLParser.java:4029)
    at org.eclipse.persistence.internal.jpa.parsing.jpql.antlr.JPQLParser.join(JPQLParser.java:3679)
    at org.eclipse.persistence.internal.jpa.parsing.jpql.antlr.JPQLParser.identificationVariableDeclaration(JPQLParser.java:3505)
    at org.eclipse.persistence.internal.jpa.parsing.jpql.antlr.JPQLParser.fromClause(JPQLParser.java:3367)
    at org.eclipse.persistence.internal.jpa.parsing.jpql.antlr.JPQLParser.selectStatement(JPQLParser.java:356)
    at org.eclipse.persistence.internal.jpa.parsing.jpql.antlr.JPQLParser.document(JPQLParser.java:276)
    at org.eclipse.persistence.internal.jpa.parsing.jpql.JPQLParser.parse(JPQLParser.java:133)
    at org.eclipse.persistence.internal.jpa.parsing.jpql.JPQLParser.buildParseTree(JPQLParser.java:94)
    at org.eclipse.persistence.internal.jpa.EJBQueryImpl.buildEJBQLDatabaseQuery(EJBQueryImpl.java:198)
    at org.eclipse.persistence.internal.jpa.EJBQueryImpl.buildEJBQLDatabaseQuery(EJBQueryImpl.java:173)
    at org.eclipse.persistence.internal.jpa.EJBQueryImpl.<init>(EJBQueryImpl.java:125)
    at org.eclipse.persistence.internal.jpa.EJBQueryImpl.<init>(EJBQueryImpl.java:109)
    at org.eclipse.persistence.internal.jpa.EntityManagerImpl.createQuery(EntityManagerImpl.java:1326)
    ... 96 more
Caused by: org.eclipse.persistence.internal.libraries.antlr.runtime.EarlyExitException
    at org.eclipse.persistence.internal.jpa.parsing.jpql.antlr.JPQLParser.joinAssociationPathExpression(JPQLParser.java:4017)
    ... 108 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T14:15:30.540

您的查询无效。如果两个实体之间没有关联，则无法在这些实体之间加入。

所以，要么你有这样的关联，查询应该是：

```
select p from Product p inner join p.featureValues pv 
where p.category.categoryID = 5 and pv.value in ('Blue','Black') 
```

或（如果关联在另一边）：

```
select p from ProductFeatureValue pv inner join pv.product p 
where p.category.categoryID = 5 and pv.value in ('Blue','Black') 
```

或者你没有这样的关联（但你应该有），查询应该是：

```
select p from Product p, ProductFeatureValue pv 
where p.productID = pv.productID 
and p.category.categoryID = 5 and pv.value in ('Blue','Black') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:01:12.070

你应该做这样的事情

和 p.category.categoryID = 5 和 pv.value in (:colorlist) List colorlist= Arrays.asList("Blue","Black");

q.setParameter("colorlist", colorlist);

# javascript - JSF 1.2 注入导致 w3c 验证失败的 JavaScript

> ID：11028696
> 
> 赞同：0
> 
> 时间：2012-06-14T07:37:53.263
> 
> 标签：javascript, jsf

我们项目的目标之一是确保呈现的 HTML 100% 符合 xhtml 1.0 过渡语法，该项目对 DDA 的要求很高。可悲的是，我有一个无法消除的错误。这是因为 JSF 将以下 javaScript 片段注入页面（为清晰起见而格式化），因为它没有包含在 CDATA 中，因此被 w3c 验证器拒绝并显示以下消息：

```
Line 443, Column 122: character "<" is the first character of a delimiter but occurred as data

…dp;if (adp != null) {for (var i = 0;i < adp.length;i++) {f.removeChild(adp[i])…

?

This message may appear in several cases:

    You tried to include the "<" character in your page: you should escape it as "&lt;"
    You used an unescaped ampersand "&": this may be valid in some contexts, but it is recommended to use "&amp;", which is always safe.
    Another possibility is that you forgot to close quotes in a previous tag. 
```

我的问题是可以让 JSF 将脚本块包装在 CDATA 中或将脚本外部化吗？

```
<script type="text/javascript" language="Javascript">
    function dpf(f) {
        var adp = f.adp;
        if (adp != null) {
            for (var i = 0;i < adp.length;i++) {
                f.removeChild(adp[i]);
     }}};

    function apf(f, pvp) {
        var adp = new Array();
        f.adp = adp;
        var ps = pvp.split(',');
        for (var i = 0,ii = 0;i < ps.length;i++,ii++) {
            var p = document.createElement("input");p.type = "hidden";p.name = ps[i];p.value = ps[i + 1];
            f.appendChild(p);
            adp[ii] = p;i += 1;
     }};

     function jsfcljs(f, pvp, t) {
        apf(f, pvp);
        var ft = f.target;
        if (t) {
            f.target = t;
        }
        f.submit();
        f.target = ft;dpf(f);
     };
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T13:32:15.163

如果不编辑 JS 文件本身，这是不可能的。

解压文件，以完全相同的包结构将文件`jsf-impl.jar`复制到webapp项目中，即作为包内的文件。编辑并保存它。在类加载层次结构中，该文件将优先于 JAR 文件中的文件，因此将被使用。`com/sun/faces/sunjsf.js``sunjsf.js``com.sun.faces``<``&lt;`

或者，您也可以始终使用编辑后的 ​​JS 文件重新构建 JAR 文件本身。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T07:39:07.967

尝试像这样更改您的脚本块

```
<script type="text/javascript">
//<[!CDATA[

  ...your code here

//]]>
</script> 
```

这应该使验证器解析器忽略整个脚本块：如果您的代码源包含诸如大于 (>)、小于 (<) 之类的字符，则必须将其放在`CDATA`分隔符中以使其验证。

# python - 给定素数分解获取除数列表的pythonic方法

> ID：11028698
> 
> 赞同：1
> 
> 时间：2012-06-14T07:38:10.853
> 
> 标签：python, itertools

我将素数分解作为字典：

```
>>>pf(100)
>>>{2:2,5:2} 
```

使用该函数检索数字的所有除数的最佳 Python 方法是`pf`什么？随意使用`itertools`。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T08:06:05.833

像这样的东西也许

```
>>> from itertools import *
>>> from operator import mul
>>> d = {2:2,5:1} # result of pf(20)
>>> l = list(chain(*([k] * v for k, v in d.iteritems())))
>>> l
[2, 2, 5]
>>> factors = set(chain(*(permutations(l, i) for i in range(1,len(l)+1))))
set([(2, 2, 5), (2,), (5,), (5, 2, 2), (2, 2), (2, 5), (5, 2), (2, 5, 2)])
>>> set(reduce(mul, fs, 1) for fs in factors)
set([4, 2, 10, 20, 5]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:17:00.553

```
from itertools import product
def primeplus():
  """
  Superset of primes using the primes are a subset of 6k+1 and 6k-1.
  """
  yield 2
  yield 3
  n=5
  while(True):
    yield n
    yield n+2
    n+=6
def primefactorization(n):
  ret={}
  for i in primeplus():
    if n==1: break
    while n%i==0:
      ret[i]=ret.setdefault(i,0)+1
      n=n//i
  return ret
def divisors(n):
  pf=primefactorization(n)
  keys,values=zip(*pf.items())
  return (reduce(lambda x,y:(x[0]**x[1])*(y[0]**y[1]),zip(keys,p1)+[(1,1)]) for p1 in product(*(xrange(v+1) for v in values))) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T08:21:54.093

虽然这个答案并不过分pythonic，但它使用简单的递归来找到主要因素。

```
def find_factors(x):
    for i in xrange(2, int(x ** 0.5) + 1):
        if x % i == 0:
            return [i] + find_factors(x / i)
    return [x]

print find_factors(13) # [13]
print find_factors(103) # [103]
print find_factors(125) # [5,5,5]
print find_factors(1334234) # [2, 11, 60647]

from collections import Counter

print dict(Counter(find_factors(13))) # {13: 1}
print dict(Counter(find_factors(103))) # {103: 1}
print dict(Counter(find_factors(125))) # {5: 3}
print dict(Counter(find_factors(1334234))) # {2: 1, 11: 1, 60647: 1} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-14T09:32:21.280

单线：

```
>>> d = {3:4, 5:1, 2:2}
>>> sorted(map(lambda p: reduce(mul, p), product(*map(lambda c: [c[0] ** i for i in range(c[1] + 1)], d.iteritems()))))
[1, 2, 3, 4, 5, 6, 9, 10, 12, 15, 18, 20, 27, 30, 36, 45, 54, 60, 81, 90, 108, 135, 162, 180, 270, 324, 405, 540, 810, 1620]
>>> 
```

# authentication - 关于 SAML、OAuth 的问题

> ID：11028699
> 
> 赞同：1
> 
> 时间：2012-06-14T07:38:11.383
> 
> 标签：authentication, oauth, authorization, saml

我正在开发一个项目以在系统中实现基于令牌的身份验证。我正在考虑使用 SAML 或 OAuth。

我想知道是否可以在令牌中表示实际的策略（基于系统的 ACL）。对于当前的设计，我正在考虑给用户一个包含所有资源和允许角色的令牌。该服务根据用户的请求检查此令牌以查看用户是否对所涉及的资源具有所需的权限。

是否可以使用 SAML/OAuth 令牌来表示？如果两者都可以，这里应该使用哪一个。从我看到的大多数示例中，SAML 用于 SSO 解决方案，而 OAuth 用于定义实际的授权策略。但是从演示/示例中不清楚是否可以使用 OAuth 对特定资源进行限制性访问。

例如，当 Facebook 应用程序想要使用 OAuth 访问您的照片时，是否可以限制仅访问特定相册？还是更像是全有或全无的方法。我可以阅读任何资源以获取更多信息吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T16:19:53.823

大多数架构（对于 SAML 和 OAuth）使用包含属性的令牌，依赖方（或接收 API）随后解释并应用其自己的策略 (ACL)。

在 OAuth 的情况下，范围用于指定访问令牌所代表的权限。范围可以随心所欲地细化（以涵盖单个相册限制等情况）。这些可能已在某些 OAuth 流程中由用户授权。令牌本身未在 OAuth 2.0 规范中定义 - 但您可以使格式自包含（可能由令牌颁发者进行数字签名），以便将范围保存在其中。一些模型使用不透明的令牌，需要通过回调（可能是反向通道）向颁发者进行验证，然后将范围返回给依赖方。

在 SAML 中，一个属性声明可以出现在一个断言中，用于类似的目的。依赖方解释各个属性以确定用户被授权做什么。属性声明可以作为 SSO 的一部分通过，也可以在稍后的某个时间点（在身份验证之后）通过 AttributeQuery 获得。

# vim - 为什么我的 vim 总是选择另一个缓冲区

> ID：11028700
> 
> 赞同：1
> 
> 时间：2012-06-14T07:38:11.760
> 
> 标签：vim

我遇到了一个烦人的情况：

在 /path1/to 下，我 vim 了一个文件名“file1”，但看起来我总是在 /path2/to/file1 等不同目录下编辑另一个 file1，即使我在“/path1/to”下键入 vim ./file。

我输入 :buffers 并得到：

```
 1 # =  "/path1/to/file1"          line 1
 2 %a + "path2/to/file1"         line 426

/*please note buffer 2 is without / prefix while 1 dose */ 
```

即使我在 /path1/to/ 下使用“vim ./file1”来 vim 文件，缓冲区始终指向缓冲区 2。

什么样的操作造成了这种情况，为什么有两个缓冲区？如何解决？

提前致谢。

编辑：虽然它们共享相同的名称，但它们不是同一个文件。如果我使用 vi 而不是 vim，我正在编辑的文件正是预期要编辑的文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:52:10.630

缩小问题的范围。您可以在不加载的情况下启动 vim`vimrc`并且`plugin`：

```
vim -u NONE /path1/to/file1 path2/to/file1 
```

并在切换缓冲区之前打印详细消息：

```
:20verbose bn 
```

# sql-server - SQL Server 2008 - 确定哪个 SQL 代理作业正在运行存储过程

> ID：11028701
> 
> 赞同：4
> 
> 时间：2012-06-14T07:38:19.170
> 
> 标签：sql-server, sql-server-2008

有什么方法可以确定哪个 SQL 代理作业正在运行存储过程？

我想要这个的原因是我想要一个单独的步骤，它在失败时运行，它有一个存储过程，它将通过电子邮件发送日志文件。要获取日志文件（我们总是每个作业只使用一个日志文件，而不是每个步骤），我希望能够通过查询 MSDB 表 ( `select output_file_name from sysjobsteps`) 来获取日志文件。

我可以将带有作业名称的参数传递给存储过程，但我不想这样做。

有任何想法吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:47:55.827

你的意思是哪个工作正在调用日志记录程序？即谁在打电话给我是你的意思吗？如果是这种情况，那么这可能是相关的... [SQL Server Agent - 获取我自己的job_id](https://stackoverflow.com/questions/4213868/sql-server-agent-get-my-own-job-id) .. 您发布日志记录过程的失败步骤可以使用链接中描述的方法检索到的jobid ...恕我直言会起作用。 .你需要添加一个工作ID参数..每个工作中的每个失败步骤都必须有两行......一个用来获取id，一个用来调用proc。

# php - 机器码和操作码有什么区别？

> ID：11028702
> 
> 赞同：3
> 
> 时间：2012-06-14T07:38:26.923
> 
> 标签：php, assembly, opcode, machine-code, vm-implementation

这个问题主要与 PHP 有关，因为恕我直言操作码大多是在 PHP 上下文中提到的。根据这个[描述](http://blog.golemon.com/2008/01/understanding-opcodes.html)，下面是一个php代码到opcode的转换过程：

php 文本 -> 扫描/解析 -> 结果 = 令牌 -> 编译 > 结果 = 操作码

这里有几个问题：

1）操作码只是机器码的一部分，机器码是否由操作码组成？2）在Wamp服务器的上下文中思考，PHP模块负责什么？该模块只是将 PHP 代码转换为令牌的 PHP 解释器，还是将令牌编译为在硬件（处理器）上执行的操作码的编译器？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T07:45:55.550

> 这个问题主要与 PHP 有关，因为恕我直言操作码大多是在 PHP 上下文中提到的。

事实上，Java 因其字节/操作码而更受欢迎

> 1）操作码只是机器码的一部分，机器码是否由操作码组成？

是的，但是这个操作码是机器相关的。Java 或 PHP 字节码的有趣之处在于它独立于机器并在特定于平台的虚拟机中运行。

> 2）在Wamp服务器的上下文中思考，PHP模块负责什么？

没有模块，它是核心的一部分。

```
Lexer => Tokenizer => Compiler 
```

> 该模块只是将 PHP 代码转换为令牌的 PHP 解释器，还是将令牌编译为在硬件（处理器）上执行的操作码的编译器？

不完全是。生成的字节码与机器无关（称为“Zend-opcode”），不能直接在硬件上运行。最后一步是将这个字节码转换成机器相关的操作码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T07:47:47.870

*   机器代码 - 准备好由机器处理器执行的代码
*   opcode - 由解释器执行的代码

Opcode 由 php 核心执行，它是内部功能。为了加速 php 脚本，有一个模块[PHP Accelerator](http://en.wikipedia.org/wiki/PHP_accelerator)，它缓存已编译的字节码，以便下次它可以由处理器直接执行

# c# - 如何通过单击外部关闭 ajax 模式弹出窗口

> ID：11028703
> 
> 赞同：0
> 
> 时间：2012-06-14T07:38:35.697
> 
> 标签：c#, asp.net, ajax, modalpopupextender

我正在用 c# asp.net 写一个网页。该页面正在使用母版页。我在页面中有一个 ajax 模式弹出窗口。我想为此弹出窗口添加 2 个功能：

*   当用户在模式弹出窗口之外单击时关闭弹出窗口
*   模态弹出窗口关闭后触发服务器端代码。

stackoverflow 上有类似的问题，但几乎所有问题都与 jquery modal popups 有关。

这是我的代码：

```
<asp:Button ID="Button1" runat="server" Style="display: none" />
    <asp:ModalPopupExtender ID="ModalPopupExtender1" runat="server" OkControlID="btnOkay"
        TargetControlID="Button1" PopupControlID="Panel1" PopupDragHandleControlID="PopupHeader"
        Drag="true" BackgroundCssClass="ModalPopupBG">
    </asp:ModalPopupExtender>
    <asp:Panel ID="Panel1" runat="server" CssClass="PopupCss">
        <asp:UpdatePanel ID="UpdatePanel1" runat="server">
            <ContentTemplate>
                <table style="width: 100%; height: 825px;">
                    <tr>
                        <td>
                            <div id="mediaplayer">
                                JW Player goes here</div>
                            <script type="text/javascript">
                                jwplayer("mediaplayer").setup({
                                    flashplayer: "jwplayer/player.swf",
                                    file: "<%=videoName %>",
                                    image: "<%=videoThumb %>",
                                    width: "100%",
                                    height: "100%"
                                });
                            </script>
                        </td>
                        <td valign="top" align="left" style="text-align: left;">
                            <div class="fb-like" data-send="true" data-layout="button_count" data-show-faces="true">
                            </div>
                            <br />
                            <div class="fb-comments" data-href="<%=videoLink%>" data-num-posts="3" data-width="470">
                            </div>
                            <br />
                            <br />
                            <br />
                            <!-- AddThis Button BEGIN -->
                            <div class="addthis_toolbox addthis_default_style ">
                                <a class="addthis_button_preferred_1"></a><a class="addthis_button_preferred_2">
                                </a><a class="addthis_button_preferred_3"></a><a class="addthis_button_preferred_4">
                                </a><a class="addthis_button_compact"></a><a class="addthis_counter addthis_bubble_style">
                                </a>
                            </div>
                            <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f61d99d08697325"></script>
                            <!-- AddThis Button END -->
                            <br />
                            <br />
                            <asp:Rating ID="Rating1" runat="server" MaxRating="5" StarCssClass="ratingStar" FilledStarCssClass="ratingStarFilled"
                                AutoPostBack="false" OnChanged="VideoRatingChanged" EmptyStarCssClass="ratingStarEmpty"
                                WaitingStarCssClass="ratingStarEmpty">
                                <asp:HiddenField ID="HiddenField1" runat="server" Value='<%=videoId%>' />
                            </asp:Rating>
                            &nbsp (<%=voteCount%>)
                            <br />
                            Minder Score:
                            <%=minderScore %>
                            <br />
                            <div class="Controls" style="text-align: left;">
                                <input id="btnOkay" type="button" value="Kapat" />
                            </div>
                        </td>
                    </tr>
                </table>
            </ContentTemplate>
        </asp:UpdatePanel>
    </asp:Panel> 
```

在后面的代码中，我用这一行显示弹出窗口：

```
ModalPopupExtender1.Show(); 
```

任何帮助，将不胜感激。先谢谢了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T09:37:38.270

可以`click`在body上绑定事件，`e.stopPropagation();`在click里面设置，之后可以检查被点击的元素是不是popup元素，如果是，什么都不做，如果不是，关闭popup

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:36:01.653

要使用 javascript 隐藏/显示 modalpopuextender，请尝试：

```
function hidemodal() {
$find('ModalPopupExtender1').hide();
}

function showmodal() {
$find('ModalPopupExtender1').show();
} 
```

您可以在单击事件或其他情况下引发该 hidemodal() 方法。

您还可以在 hidemodal() 方法中添加代码，使用***PageMethods***从 javascript 调用服务器端脚本来触发服务器端功能。在网上找到关于 asp.net PageMethods

```
function hidemodal() {
$find('ModalPopupExtender1').hide();
PageMethods.AnyServerFunction(param, onsuccess_callback);
}

function onsuccess_callback() {
} 
```

问候，

# python - 导入错误。循环引用

> ID：11028711
> 
> 赞同：4
> 
> 时间：2012-06-14T07:39:04.583
> 
> 标签：python, hierarchy, importerror

我有一个这样的包裹

```
package/
    __init__.py
    subpackage1/
        __init__.py
        moduleA.py
        moduleB.py
        moduleC.py
        moduleD.py
    subpackage2/
       __init__.py
       moduleX.py
       moduleY.py
       moduleZ.py 
```

在 moduleB.py 中，我正在导入

```
from moduleA import bar 
```

在 moduleA 中，我正在导入

```
from moduleB import foo 
```

我收到 ImportError。

```
ImportError: cannot import name foo 
```

这里可能是什么问题？为了避免这个问题，我该怎么办？我应该在**_ *init* _** .py pf package, subpackage1, subpackage2 中写什么？

_***初始化*_** .py 的 subpackage1

```
from moduleA import *
from moduleB import *
from moudleC import *
from moudleD import * 
```

_***初始化*_** .py 的 subpackage2

```
from moduleX import *
from moduleY import *
from moduleZ import * 
```

_***初始化*_**包的 .py

```
from subpackage1 import *
from subpackage2 import * 
```

我的**_ *init* _** .py 文件有问题吗？

**编辑**：我改变了进口

模块B

```
from .moduleA import bar 
```

模块A

```
from .moduleB import foo 
```

尽管如此，我还是遇到了同样的导入错误。

```
ImportError: cannot import name foo 
```

**编辑**：

模块B

```
def Bar():
    def __init__(self):
        self.foo = Foo()
        self.val = 10
        .
        . 
```

模块A

```
def Foo():
    def __init__(self):
        self.bar = Bar()
        self.val = 5
        .
        . 
```

我想做这个。而且我坚持将这两个类保存在不同的文件中。我应该如何导入？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-14T08:06:53.270

它实际上似乎是循环导入的问题。

你的模块B说“从模块A导入栏”，它试图加载模块A，但它在模块A中遇到的第一件事是“从模块B导入foo”，它将它发送回模块B。所以你有一个无法解决的循环递归。

通常（但并非总是）循环导入是您需要重新考虑或重新构建您的工作方式的指标。但是，有一些可能的解决方法。

一种是将 import 语句移动到 python 文件的底部（假设您在另一个函数中使用 foo 或 bar ，因此在文件加载时不会立即调用它）

例如

```
#ModuleB.py 
class Bar(object):   
  def __init__(self):
    self.foo = Foo()
    self.val = 10
    .
    .
# at bottom of file
from moduleA import Foo 
```

另一种选择是将导入语句放在一个函数中，称为“惰性导入”模式：

```
#ModuleB.py 
class Bar(object):   
  def __init__(self):
    from moduleA import Foo
    self.foo = Foo()
    self.val = 10 
```

至于你关于`__init__.py`文件的问题。我看不出你为什么不把它们留空。空`__init__.py`文件只是告诉 python“这个目录是一个 python 包”并允许导入。

通常，您的包目录中有一个文件，该文件通过导入和利用子包中的模块来“运行”您的程序。因此，假设存在这样的文件（例如，package/main.py），您的导入将如下所示，只有空`__init__.py`文件。

```
#package/main.py
from subpackage1.moduleA import bar  # you can now call bar() directly
from subpackage1 import moduleB  # you can now call foo like: moduleB.foo()
from subpackage2.moduleX import jah 
```

您在上面所做的实际上是获取每个子包中所有模块的所有功能和属性，并使它们直接在子包上可用，就好像它们是子包的功能和属性一样（因此您可以`import subpackage1`调用`subpackage1.bar()`and`subpackage.foo()` 而不是`subpackage.moduleA.bar()`等.)，但我没有得到你想要做的印象，必然，在这种情况下可能没有理由这样做。

如果您需要在 subpackage1 的模块中使用 subpackage2 中的某些内容，请参阅[此问题的答案。](https://stackoverflow.com/questions/72852/how-to-do-relative-imports-in-python) 或者谷歌如何将目录添加到你的 python 路径。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T08:07:00.697

这与层次结构无关，与循环引用有关。您不能告诉文件 A 导入文件 B，并告诉文件 B 导入文件 A - 因为它们相互依赖，所以无法解析循环。

要么重组你的文件，这样它们就不需要相互导入——记住 Python 不是 Java，你可以在一个文件中有多个类——或者将其中一个导入移动到一个函数中，这样它就不必在导入时执行。

# jquery - 单击链接时显示 div 的问题

> ID：11028712
> 
> 赞同：0
> 
> 时间：2012-06-14T07:39:07.037
> 
> 标签：jquery, html, css, toggle

我在单击链接后显示 div 时遇到问题。

当我按下第一个 div 中的一个链接时，下面会出现一个新的 div。

我一直在jsfiddle中对此进行测试，那里的一切似乎都运行良好，但是当我将其放入地图页​​面时，单击链接时什么也没有发生...

这是工作 jsfiddle 示例：http: [//jsfiddle.net/5NEu3/132/](http://jsfiddle.net/5NEu3/132/)

这是 jsfiddle 中的原始地图页面：http: [//jsfiddle.net/F2arQ/](http://jsfiddle.net/F2arQ/)

这是我正在测试的原始页面，它是带有点表示“测试”的区域：http: [//iseeit.no/webtest/](http://iseeit.no/webtest/)

还有帮助我找出jquery代码的答案的链接： [https ://stackoverflow.com/a/8153230/1238117](https://stackoverflow.com/a/8153230/1238117)

为什么会这样？我究竟做错了什么？有什么东西阻止它在原始 jquery 文件中工作吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:47:11.727

```
$(document).ready(function(){ // and this line
 $("#hedmarkvalg a").click(function(e){
   e.preventDefault();
   $(".toggle").hide();
   var toShow = $(this).attr('href');
   $(toShow).show();
   });
 }); // and close it 
```

您忘记`$(document).ready()`在代码开头添加。[您可以在jQuery](http://docs.jquery.com/Tutorials%3aIntroducing_%24%28document%29.ready%28%29)网站上查看有关它的更多信息

# ios - 如何在情节提要中加载自定义视图？

> ID：11028719
> 
> 赞同：2
> 
> 时间：2012-06-14T07:39:40.840
> 
> 标签：ios, uiviewcontroller, storyboard

我用故事板创建了一个新项目，我想在 uiviewcontroller 中加载一个自定义视图（没有 xib），我引用[了以编程方式创建视图](http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/ViewLoadingandUnloading/ViewLoadingandUnloading.html)，但它不起作用。非常感谢帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:28:44.873

根据我的理解，我认为您正在尝试在情节提要中加载没有 xib 文件的自定义视图。[这是将屏幕一到二移动并显示视图](http://www65.zippyshare.com/v/39343130/file.html)的示例代码。

# database - 从数据库中删除一行时，为什么不“IsIdentity”减少行ID？

> ID：11028720
> 
> 赞同：0
> 
> 时间：2012-06-14T07:39:52.513
> 
> 标签：database

我的 Products 表中有 3 条记录，ProductID 分别为 1、2、3。
当我删除第 3 条记录并在之后插入一条新记录时，ProdcutID 将为 4。
我的问题是为什么不给该行提供索引 3？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:44:20.213

因为人工（又名“代理”）主键值——这就是自动增量列——**没有任何意义**。

所以新行的PK值是4、40、400、40000还是365623563都没有关系

如果您的代码依赖于主键中递增的无间隙值，则您必须重新考虑您的代码。

编辑：

发生这种情况还有一个*技术*原因：为了使自动增量（或大多数数据库中的序列）在具有并发事务的环境中快速**且**正确，必须对序列/自动增量可以做什么有一定的限制。其中之一是它们从不递减（或者更准确地说：从不改变方向，因为可能存在递减序列）并且它们不是事务控制的一部分。因此，一旦获得了一个值，它就会从底层生成器中“消失”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:44:10.607

因为标识号存储在表或数据库中（我现在不确定）并且没有“还原”，而只是在每次插入操作时递增。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T07:44:32.227

因为 3 被分配给一个记录。它将永远保持这种分配，即使在死亡时也是如此。把它想象成《暮光之城》，只有 ID。

不过说真的，许多企业应用程序无论如何都不再硬删除行，而是出于历史目的而更喜欢软删除。

如果您没有一个完全受限的数据库（不好的做法），那么您最终可能会因为这个回滚 ID 无意中继承旧的 #3 的子代等。它还会使审计和事务历史记录等事情变得混乱。

如果一个事务删除了一行，而另一个事务插入了，会发生什么？在自动增量世界中，没有隐含的锁定，在 id 重用世界中，事情很快就会变得混乱。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-14T07:51:51.710

当 IDENTITY 属性与 CREATE TABLE 一起使用时，Microsoft® SQL Server™ 使用 CREATE TABLE 的 NOT FOR REPLICATION 选项来覆盖标识列的自动递增。通常，SQL Server 为插入表中的每个新行分配一个值，该值比前一个最大值大一些。但是，如果从另一个数据源复制新行，则标识值必须与它们在数据源中的完全相同。

这是一个参考[http://msdn.microsoft.com/en-us/library/aa933196(v=sql.80).aspx](http://msdn.microsoft.com/en-us/library/aa933196(v=sql.80).aspx)

# performance - AIX 应用程序的性能改进。

> ID：11028725
> 
> 赞同：0
> 
> 时间：2012-06-14T07:40:05.167
> 
> 标签：performance, aix

我想提高 aix 操作系统的应用程序运行性能。

请在下面找到有关该应用程序的详细信息。

1.  用 c/c++ 编码的应用程序。
2.  代码由 gcc 4.2.4 版编译器编译。
3.  操作系统版本为 AIX 6.1

请为代码和操作系统设置中的性能调整建议一些来源。

注意：应用程序的 cpu 使用率非常低，大多在 30-40 左右。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T01:54:21.047

除了 Paul 的建议之外 - 您目前在 gcc/g++ 中使用哪些编译器选项？具体来说，编译器选项列表是否包括 -O 或 -O2 或 -O3 ？如果没有，这些将是快速提高应用程序性能的最简单方法。更多关于 gcc 优化选项的信息可以在[这里](http://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html)找到。

当性能很重要时，您可能还需要考虑使用 IBM 的[XL C/C++ for AIX](http://www-01.ibm.com/software/awdtools/xlcpp/aix/)编译器，它通常会生成比 gcc 性能更好的代码。

# visual-studio - 如何停止 Visual Studio 提示我对未打开的文件进行更改？

> ID：11028729
> 
> 赞同：1
> 
> 时间：2012-06-14T07:40:16.070
> 
> 标签：visual-studio

有时在使用 Visual Studio 时，它会显示带有文件名的提示：

> 此文件已在源代码之外进行了修改
> 您要重新加载它吗？

但是我没有在 Visual Studio 中打开该文件。就我而言，提示我输入的文件是临时调试文件，除非我在调试模式下编译，否则它们仅在我的构建期间存在。

如何停止 Visual Studio 提示我输入未打开的文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:40:16.413

有两种情况会发生这种情况，一种完全禁用该行为的方法。

我发现的最棘手的问题是，如果您在代码文件中设置了没有打开、不存在或仅暂时存在的断点。Visual Studio 将提示您对这些文件进行任何更改，在我的情况下，这是在每次编译时，因为我在调试文件中有断点（根据我的问题）。要解决此问题，您可以：

*   生成调试文件，打开它并删除其中的所有断点。
*   使用 Ctrl-Shift-F9 或“调试”菜单下的“删除所有断点”操作删除所有断点。

或者，在某些情况下，打开提示您输入的文件并关闭它也可以解决此问题。

最后，您可以通过取消选中“工具”>“选项”>“文档”>“检测文件何时在环境外更改”中的选项来完全禁用提示行为。

# spring - org.hibernate.MappingException：没有 JDBC 类型的方言映射：-1

> ID：11028740
> 
> 赞同：1
> 
> 时间：2012-06-14T07:41:35.800
> 
> 标签：spring, hibernate, hibernate-mapping

从数据库中获取`org.hibernate.MappingException: No Dialect mapping for JDBC type: -1`行时出现错误。

***错误详情***

```
exception

org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: -1
    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:659)
    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:563)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
root cause

org.hibernate.MappingException: No Dialect mapping for JDBC type: -1
    org.hibernate.dialect.TypeNames.get(TypeNames.java:56)
    org.hibernate.dialect.TypeNames.get(TypeNames.java:81)
    org.hibernate.dialect.Dialect.getHibernateTypeName(Dialect.java:370)
    org.hibernate.loader.custom.CustomLoader$Metadata.getHibernateType(CustomLoader.java:559)
    org.hibernate.loader.custom.CustomLoader$ScalarResultColumnProcessor.performDiscovery(CustomLoader.java:485)
    org.hibernate.loader.custom.CustomLoader.autoDiscoverTypes(CustomLoader.java:501)
    org.hibernate.loader.Loader.getResultSet(Loader.java:1796)
    org.hibernate.loader.Loader.doQuery(Loader.java:674)
    org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:236)
    org.hibernate.loader.Loader.doList(Loader.java:2213)
    org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2104)
    org.hibernate.loader.Loader.list(Loader.java:2099)
    org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:289)
    org.hibernate.impl.SessionImpl.listCustomQuery(SessionImpl.java:1695)
    org.hibernate.impl.AbstractSessionImpl.list(AbstractSessionImpl.java:142)
    org.hibernate.impl.SQLQueryImpl.list(SQLQueryImpl.java:152)
    com.report.dao.BestSellerReportDAO.getBestSellReport(BestSellerReportDAO.java:82)
    com.report.service.BestSellerService.getBestSellReport(BestSellerService.java:21)
    com.report.service.BestSellerService$$FastClassByCGLIB$$3c172a2c.invoke(<generated>)
    net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:149)
    org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:692)
    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:108)
    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
    org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:625)
    com.report.service.BestSellerService$$EnhancerByCGLIB$$1ca7eb9d_2.getBestSellReport(<generated>)
    com.report.controller.BestSellerReportController.onSubmit(BestSellerReportController.java:55)
    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    java.lang.reflect.Method.invoke(Method.java:597)
    org.springframework.web.bind.annotation.support.HandlerMethodInvoker.doInvokeMethod(HandlerMethodInvoker.java:710)
    org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:167)
    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:414)
    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:402)
    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:771)
    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:716)
    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:647)
    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:563)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:717) 
```

***使用代码：***

```
query = sessionFactory.getCurrentSession().createSQLQuery("CALL my_sp_test(:gender_id,:category_id,:is_date_criteria_on,:from_date,:to_date,:unit_sold_above)");
query.setParameter("gender_id",bestSellCriteriaForms[0].getSelectedGender());       query.setParameter("category_id",bestSellCriteriaForms[0].getSelectedDepartment());
query.setParameter("unit_sold_above", 200);
query.setParameter("is_date_criteria_on", true);
query.setParameter("from_date", date);
query.setParameter("to_date", date);

//Get query as list
reportList = query.list(); 
```

我正在搜索此错误，但尚未找到任何解决方案。

我该如何解决这个问题？（老实说，我不明白为什么会这样）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T11:09:48.880

我通过编写自己的方言课程来解决我的答案

```
import java.sql.Types;

import org.hibernate.Hibernate;
import org.hibernate.dialect.MySQLDialect;
import org.hibernate.dialect.function.StandardSQLFunction;

public class CustomeDialect extends MySQLDialect {

public CustomeDialect(){
    registerFunction("group_concat", new StandardSQLFunction("group_concat", Hibernate.STRING));
    registerFunction("coalesce", new StandardSQLFunction("coalesce", Hibernate.STRING));
    registerHibernateType(Types.LONGVARCHAR, Hibernate.TEXT.getName());

}
} 
```

并添加到 disptcher-servlet.xml 作为

```
<bean id="MySessionFactory" class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">
    <property name="dataSource" ref="mydbDatasource"/>
     <property name="configurationClass">
            <value>org.hibernate.cfg.AnnotationConfiguration</value>
     </property>
     <property name="packagesToScan" value="com.example.entity" />
     <property name="hibernateProperties">
      <value>
        hibernate.dialect=com.example.utils.CustomeDialect
      </value>
    </property>
  </bean> 
```

它对我来说工作正常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T08:53:14.080

像这样创建 hibernate.cfg.xml 。

```
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-configuration PUBLIC
"-//Hibernate/Hibernate Configuration DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">
<hibernate-configuration>
  <session-factory>
    <property name="hibernate.bytecode.use_reflection_optimizer">false</property>
    <property name="hibernate.connection.driver_class">com.mysql.jdbc.Driver</property>
    <property name="hibernate.connection.password">password</property>
    <property   name="hibernate.connection.url">jdbc:mysql://localhost:3306/mkyong</property>
    <property name="hibernate.connection.username">root</property>
    <property name="hibernate.dialect">org.hibernate.dialect.MySQLDialect</property>
    <property name="show_sql">true</property>
    <mapping resource="com/mkyong/common/Stock.hbm.xml"></mapping>
</session-factory> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T12:32:27.330

问题是返回类型。my_sp_test 的返回类型是什么？JDBC 驱动程序将返回类型报告为 -1，但 Hibernate 不知道如何解释它，您也没有告诉它如何解释。

我的猜测是 my_sp_test 没有返回类型，但您正试图通过选择查询工具使用它。如果 my_sp_test 没有返回，那么您可以尝试调用`Query.executeUpdate()`insteasd of `Query.list()`。我不能肯定地说这`executeUpdate`确实适用于处理 UPDATE/DELETE 查询。同样，如果是这种情况，您最好的选择是使用 JDBC。

# 3d - Blender 到 Xna 4.0 windows 7.0 Alpha 混合问题

> ID：11028741
> 
> 赞同：0
> 
> 时间：2012-06-14T07:41:37.840
> 
> 标签：3d, xna, textures, blender, alphablending

我在加载带有从搅拌机到 xna 的 alpha 混合的纹理模型时遇到问题。

在搅拌机上，我知道纹理具有正确的 alpha 值，但是每当我将模型绘制到我的游戏中时，原本应该是透明的额外空间被填充为黑色

这就是我的绘图方法的样子。

```
public void draw()
    {

        Matrix posTranslated = Matrix.CreateTranslation(position); 
        foreach (ModelMesh mesh in model.Meshes)
        {
            foreach (BasicEffect effect in mesh.Effects)
            {
                effect.EnableDefaultLighting();

                effect.View = view;
                effect.Projection = proj;
                effect.World = modelTransforms[mesh.ParentBone.Index] * posTranslated;
            }

            mesh.Draw();

        }
    } 
```

我错过了图形设备的任何效果或更改吗？我一直在寻找几天，但仍然没有解决这个问题。请帮忙TT

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:48:58.460

这些属性你设置了吗？

```
graphicsDevice.RenderState.AlphaBlendEnable = true;
graphicsDevice.RenderState.SourceBlend = Blend.SourceAlpha;
graphicsDevice.RenderState.DestinationBlend = Blend.InverseSourceAlpha; 
```

如果您使用的是 XNA 4.0，则需要设置混合状态而不是旧的 RenderState。

```
BlendState blendState = new BlendState()
{
    AlphaSourceBlend = Blend.SourceAlpha,
    AlphaDestinationBlend = Blend.InverseSourceAlpha, 
    ColorDestinationBlend = Blend.InverseSourceAlpha, // Required for Reach profile
};
GraphicsDevice.BlendState = blendState; 
```

# c# - 是否有 WinRT 开发的最佳教程？

> ID：11028743
> 
> 赞同：0
> 
> 时间：2012-06-14T07:41:48.513
> 
> 标签：c#, xaml, windows-runtime

我已经熟悉 WPF、Silverlight 和 Windows 手机平台......

互联网上有没有很好的教程来学习 WinRT Metro 风格的应用程序？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T07:48:29.700

尝试检查下一个资源：

*   应用程序概述 -[那里](http://msdn.microsoft.com/en-us/library/windows/apps/br230302%28v=vs.110%29.aspx)
*   用户界面指南 -[那里](http://msdn.microsoft.com/en-us/library/windows/apps/hh465424.aspx)
*   样品 -[那里](http://code.msdn.microsoft.com/windowsapps/)
*   性能提示 -[那里](http://www.infoq.com/news/2012/05/performance-win8-metro-xaml)
*   本地化 -[那里](http://timheuer.com/blog/archive/2012/04/26/localize-windows-8-application.aspx)

# sdk - CRM 2011 SDK 交易

> ID：11028749
> 
> 赞同：5
> 
> 时间：2012-06-14T07:42:03.160
> 
> 标签：sdk, transactions, dynamics-crm-2011, transactionscope, early-binding

如何使用 crm 2011 sdk 和 XrmServiceContext 创建事务？

在下一个示例中，“new_brand”是一些自定义实体。我想创建三个品牌。第三个有错误的 OwnerID 指导。当我调用 SaveChanges() 方法时，创建了两个品牌并且我遇到了异常。如何回滚创建前两个品牌？

是否可以不使用插件和工作流程？

```
using (var context = new XrmServiceContext(connection))
{
    SystemUser owner = context.SystemUserSet.FirstOrDefault(s => s.Id == new Guid("XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"));

    // create 3 brands
    new_brand b1 = new new_brand();
    b1.new_brandidentification = 200;
    b1.new_name = "BRAND 200";
    b1.OwnerId = owner.ToEntityReference();
    context.AddObject(b1);

    new_brand b2 = new new_brand();
    b2.new_brandidentification = 300;
    b2.new_name = "BRAND 300";
    b2.OwnerId = owner.ToEntityReference();
    context.AddObject(b2);

    new_brand b3 = new new_brand();
    b3.new_brandidentification = 400;
    b3.new_name = "BRAND 400";
    b3.OwnerId = new EntityReference(SystemUser.EntityLogicalName, new Guid("00000000-0000-0000-0000-000000000000"));
    context.AddObject(b3);

    context.SaveChanges();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T12:50:09.830

实际上，这在不使用插件的情况下是可能的。

您可以使用 CRM 关系链接来强制执行交易行为：

```
EntityA primaryEntity = new EntityA() { //initialise me... };
EntityB secondaryEntity = new EntityB() { //initialise me... };

context.AddObject(primaryEntity);
context.AddObject(secondaryEntity);

// This is the key part: explicitly link the two entities
context.AddLink(primaryEntity, 
    new Relationship("relationship_name_here"), secondaryEntity);

// commit changes to CRM
context.SaveChanges(); 
```

这种方法有一些缺点：

*   显然，CRM 中两个实体之间必须存在关系。如果不存在关系，则必须使用插件。
*   如果您需要一次性保存大量对象层次结构，我个人发现代码可能会变得混乱。

另一种方法可能是考虑使用插件实现命令模式。

这个想法是您在客户端上创建 CRM 对象，将它们序列化并通过自定义实体将它们传递给 CRM。然后在该实体上设置一个预创建插件，以在插件事务范围内反序列化和创建对象。

可以在此处找到描述这两种策略的出色博客文章：http: [//crm.davidyack.com/journal/2012/6/26/crm-client-extension-data-access-strategies.html](http://crm.davidyack.com/journal/2012/6/26/crm-client-extension-data-access-strategies.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T15:10:46.603

CRM 为交易提供的唯一支持是在一个插件中，我什至不相信在这种情况下这会对您有所帮助，因为每个品牌的创建都将在其自己的交易中进行。

我能想到的实现这种逻辑的最简单方法是向 new_Brand 添加一个名为 new_TransactionGroupId 的新字段，并使用它来删除像这样创建的任何记录：

```
using (var context = new XrmServiceContext(connection))
{
    SystemUser owner = context.SystemUserSet.FirstOrDefault(s => s.Id == new Guid("XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"));
    var transactionGroupId = Guid.NewGuid();

    // create 3 brands
    new_brand b1 = new new_brand();
    b1.new_brandidentification = 200;
    b1.new_name = "BRAND 200";
    b1.OwnerId = owner.ToEntityReference();
    b1.new_TransactionGroupId = transactionGroupId ;
    context.AddObject(b1);

    new_brand b2 = new new_brand();
    b2.new_brandidentification = 300;
    b2.new_name = "BRAND 300";
    b2.OwnerId = owner.ToEntityReference();
    b2.new_TransactionGroupId = transactionGroupId ;
    context.AddObject(b2);

    new_brand b3 = new new_brand();
    b3.new_brandidentification = 400;
    b3.new_name = "BRAND 400";
    b3.OwnerId = new EntityReference(SystemUser.EntityLogicalName, new Guid("00000000-0000-0000-0000-000000000000"));
    b3.new_TransactionGroupId = transactionGroupId;
    context.AddObject(b3);

    try{
        context.SaveChanges();
    } catch (Exception ex){
        // Since one brand failed, cleanup all brands
        foreach(brand in context.new_brand.where(b => b.new_TransactionGroupId == transactionGroupId)){
            context.Delete(brand);
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T10:32:04.593

> 是否可以不使用插件和工作流程？

不，我不相信它是。每个`context.AddObject()`都是原子的。如果您不想使用插件，那么我认为您所能做的就是拥有某种清理逻辑，如果您的条件不满足，则删除创建的记录。

# symfony - 找不到 Doctrine Query Builder ACOS 功能

> ID：11028756
> 
> 赞同：7
> 
> 时间：2012-06-14T07:42:24.657
> 
> 标签：symfony, doctrine-orm

我想在我的自定义存储库类中计算距离。问题是 Doctrine 在处理 ACOS 函数时抛出异常：

```
[Syntax Error] line 0, col 70: Error: Expected known function, got 'ACOS' 
```

这是查询：

```
public function findLocation($latitude, $longitude)
{
    $em = $this->getEntityManager();
    return $em->createQueryBuilder()
                    ->select('((ACOS(SIN('.$latitude.' * PI() / 180) * SIN(p.latitude * PI() / 180) + COS('.$latitude.' * PI() / 180) * COS(p.latitude * PI() / 180) * COS(('.$longitude.' – p.longitude) * PI() / 180)) * 180 / PI()) * 60 * 1.1515) AS distance')
                    ->from('StrictPlaceBundle:Poi', 'p')
                    ->add('orderBy', 's.distance ASC')
                    ->getQuery()->getResult();    
} 
```

有什么问题？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-14T08:08:10.357

[DQL 不支持](http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/dql-doctrine-query-language.html#functions-operators-aggregates)ACOS 。您当然可以自己添加（请参阅[将您自己的函数添加到 DQL 语言](http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/dql-doctrine-query-language.html#adding-your-own-functions-to-the-dql-language)）。

此外，您需要的三角函数的 MySQL 实现是[DoctrineExtensions](https://github.com/beberlei/DoctrineExtensions)的一部分：

*   [考试](https://github.com/beberlei/DoctrineExtensions/blob/master/tests/Query/Mysql/TrigTest.php)
*   [功能](https://github.com/beberlei/DoctrineExtensions/tree/master/src/Query/Mysql)

# networking - TCP连接建立中的两军问题

> ID：11028759
> 
> 赞同：2
> 
> 时间：2012-06-14T07:42:28.323
> 
> 标签：networking, tcp, transport

TCP连接建立中是否也出现[了两军问题](http://en.wikipedia.org/wiki/Two_Generals%27_Problem)？

我确定它是用于 TCP 连接释放，但我不确定是否建立。

如果有人可以验证，那就太好了。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-11-13T13:18:51.760

不是同一个问题，主要是当关闭一个段时应该是***最后一个段***，所以确认是不够的，你必须使用定时器来判断一个阶段是否已经结束（你知道那些阶段），这样你就可以决定您必须重新发送`connection close request`只是关闭连接，因为自从`connection close request`发送第二个连接以来它已经过去了太多时间。

另一方面，打开连接时不会有**最后一个段**，因为后面会有数据段，所以只需重新发送丢失的连接稳定段即可：一旦打开者得到目的地序列号的**确认**，在他身边连接已经打开。然后，源端发送**三向握手**的第三条消息，只是为了确认它已经获得了目的地的序列号。您的疑问确实是关于如果这两个部分中的一些丢失会发生什么，但是：

*   如果第二条消息（从目的地到源的确认）丢失，它将被重新发送
*   如果第三条消息（从源到目标的确认）丢失，它将被重新发送

希望能帮助到你，

/天使

# facebook - 是否允许在 FB 上创建拍卖应用程序？

> ID：11028760
> 
> 赞同：-1
> 
> 时间：2012-06-14T07:42:40.273
> 
> 标签：facebook, paypal, payment

我想知道是否允许在 FB 内创建和操作一个应用程序，用户可以在其中竞标产品并使用贝宝付款。FB 是否只允许不涉及真钱的免费应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:50:17.790

我想不出任何在 facebook 上免费的应用程序，其中大多数您无需付费即可玩，但在某些阶段您必须付费才能继续或获得额外的游戏资金或物品。所以是的，允许处理付款的应用程序。

# java - java生产者-消费者多线程基准测试。为什么会停止？

> ID：11028762
> 
> 赞同：1
> 
> 时间：2012-06-14T07:42:55.440
> 
> 标签：java, multithreading, benchmarking

请帮我解决我的问题。

我有 java 程序 - 测试服务器，类似于 echo，一个基准测试工具。

简化：

我从不同数量的线程向服务器发送 100 条消息（模拟现实世界的生产者，例如，来自 10 个客户端或 1 个，并不重要）并接收响应。

我和消费者有同样的情况（消费者=线程）。生产者和消费者生成事件（从...接收的消息...从...发送的消息等）

我的主要实现 MyEvenListener，带有 onMessage() 并计算所有内容。

我的问题是我无法收到所有 100 条消息并计算它们，因为程序在消息发送后停止。我知道这很简单，但不知道如何解决它。:(

这是我的代码：

```
public static void main(String[] args) throws InterruptedException {
    Main m = new Main();
    m.init();
}
private int mesReceved=0;
public void init() throws InterruptedException {
    Sender s = new Sender(15,this);
    Resender r = new Resender(15,this);
    r.createThreads();
    r.startThreads();
    s.createThreads();
    s.startThreads();
    System.out.println(mesReceved);

}
public void onEvent(String string) {
    mesReceved++;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T11:37:53.173

您是否真的在等待线程完成后再离开`main`？您应该`Thread.join`在结束时使用所有创建的线程`main`，否则主线程将退出而不等待子线程完成。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T07:53:13.297

我在这段代码中没有看到问题。

您能否尝试简化问题，例如减少线程，直到问题停止发生。

在最简单的情况下，例如有 4 个线程，就会发生这种情况

*   取一个线程堆栈，
*   使用调试或
*   添加日志记录以诊断问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T08:04:31.140

你是如何启动你的程序的？它可能会成功完成，然后关闭窗口。有几种解决方法。

想到的一个想法是，您可以在 main 中尝试 Thread.sleep(time)。（时间是您希望它等待多长时间，以毫秒为单位。）

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-14T13:30:54.803

您的问题在于主线程在设置过程之后终止，因此终止了所有其他线程。

等待线程完成工作的一种优雅方法是使用高级同步辅助工具，例如[CountDownLatch](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/CountDownLatch.html)。

在这种情况下，您可以像这样重写您的初始化代码：

```
public void init() throws InterruptedException {
    ...
    producer = r.createThreads();
    r.startThreads();
    consumer = s.createThreads();
    s.startThreads();
    ...
    producer.getCountDownLatch().await();      // wait for all producers to finish
    consumer.getCountDownLatch().await();      // wait for all consumers to finish 
    // note: you could also encapsulate the latch and internally delegate the await
    // producer.await(); // nicer to read
} 
```

在您的 Sender 和 Receiver 类上，您创建和维护 CountDownLatch：

```
class Sender {
    final CountDownLatch sync;
    public Sender (int threadCount) {
        sync = new CountDownLatch(threadCount);
        ...
    }
    public CountDownLatch getCountDownLatch() {
        return sync;
    }
    // alternative
    public boolean await() {
        return sync.await();
    }
} 
```

创建线程时，将 countDownLatch 传递给每个可运行对象。当它们完成工作时，您减少锁存器：

```
class MyRunnable implements Runnable {
    private final CountDownLatch latch;
    public MyRunnable(CountDownLatch latch) {
        this.latch = latch;
        ...
    } 
    public void run() {
        // DO STUFF
        latch.countDown();
    }
} 
```

有了这个同步过程，你的程序只会在所有生产者和消费者都完成工作后终止。此外。该`await`方法可以将超时作为参数，以便您可以确保程序在某些边界内终止。例如，让所有生产者工作，但只为消费者等待 5 分钟：

```
public void init() {
    ...
    producer.getCountDownLatch().await();      // wait for all producers to finish
    boolean allFinished = consumer.getCountDownLatch().await(5, TimeUnit.MINUTES);      // wait 5 minutes for all consumers to finish.
    if (!allFinished) {
        // alert that not all consumers ended on time
    }
    ...
} 
```

# java - 如何在注册期间验证电子邮件？

> ID：11028763
> 
> 赞同：0
> 
> 时间：2012-06-14T07:42:56.457
> 
> 标签：java, email, struts2, registration, verification

我正在开发一个使用 struts2 和 hibernate 作为后端的网站。在您注册后的许多网站中，一个链接将发送到您的电子邮件中，点击后即表示注册完成。我想在我的网站上使用此功能，但我不知道如何执行此操作以及它是如何工作的？我需要一些例子来做到这一点....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:50:04.140

我从来没有弄乱过struts，但基本上你可以做的是发送一封电子邮件，其中包含指向特定页面的链接。当用户注册您的网站时，您可以保存用户的电子邮件地址、注册时间戳以及密钥（例如，可以是电子邮件和密码的哈希值）。

然后，您构建链接并在查询字符串中包含电子邮件和密钥。一旦用户单击链接，在您的页面中，您会检查用户是否仍在某个时间范围内（可选）并且给定的电子邮件与给定的键匹配（您已存储在数据库中）。

如果电子邮件和密钥匹配，则激活帐户。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T07:59:15.133

这是一个广泛的问题，但我根据验证回答

1\. 您需要一个带有表单示例**/signup.jsp**
的注册页面 2\. 在基本字段和电子邮件验证之后，为此电子邮件生成一个代码**xyzcode**
， 3\. 向用户电子邮件发送电子邮件，使用带有链接验证页面链接的邮件服务器，例如 **/validate.jsp?code=xyzcode**（邮件服务器设置和发送电子邮件超出了答案的范围）
4\. 在 validate.jsp 检查**代码**并使用此验证任何电子邮件代码否则会给出相应的错误消息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-12T10:59:45.683

确实，回答这个问题很大。**我知道BalusC**
给出的最佳答案的 链接是链接：[更好的答案](https://stackoverflow.com/questions/5431061/how-send-automatic-reply-on-particular-email-id-when-an-user-registers)。 我已经在我的项目中实现了。我希望此链接对其他人有所帮助。 谢谢阅读。

 *** * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-14T08:00:42.577

有多种方法，但我建议一种简单且符合标准的方法。

`In user table` `add extra column as Status`[可以取两个值，非活动或活动]

```
create one more table(emailauthentication) where columns will be (key,emaiId).. 
```

现在你要做的是在用户单击提交注册数据后...生成一个动态密钥..可以是时间戳+emailId（或任何动态和唯一的）并在用户表中创建状态为非活动的记录并在电子邮件身份验证中创建记录具有此生成的密钥和 emaiId..now 的表在创建记录后生成一个 URL，可能类似于

```
<a href="doAuthenticationForUser?authenticationId='dynamicKey'"/>Click to authenticate</a> 
```

现在，当用户单击此 URL 时，然后在此 authenticationId 的操作类或服务中找到 emailId 并将列状态设为活动..**

# java - Java 中 getMinimalDaysInFirstWeek 方法的默认返回值是多少？

> ID：11028764
> 
> 赞同：2
> 
> 时间：2012-06-14T07:43:00.760
> 
> 标签：java, calendar

我搜索但无法`getMinimalDaysInFirstWeek()`在`Calender`java 类中找到默认值。我没有设置语言环境等。我想知道第一周的默认最短天数是多少。不幸的是，我无法运行代码并检查自己，因为它位于我有权阅读的服务器上。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:53:57.727

`Calendar.getInstance()`，它返回`GregorianCalendar`（通常）`Calendar`使用默认语言环境构造对象：

```
protected Calendar()
{
    this(TimeZone.getDefaultRef(), Locale.getDefault());
    sharedZone = true;
} 
```

然后执行以下代码：

```
private void setWeekCountData(Locale desiredLocale)
{
   /* try to get the Locale data from the cache */
   int[] data = cachedLocaleData.get(desiredLocale);
   if (data == null) { /* cache miss */
      ResourceBundle bundle = LocaleData.getCalendarData(desiredLocale);
      data = new int[2];
      data[0] = Integer.parseInt(bundle.getString("firstDayOfWeek"));
      data[1] = Integer.parseInt(bundle.getString("minimalDaysInFirstWeek"));
      cachedLocaleData.putIfAbsent(desiredLocale, data);
   }
   firstDayOfWeek = data[0];
   minimalDaysInFirstWeek = data[1];
} 
```

所以 -从（在 Oracle JVM 上）`minimalDaysInFirstWeek`的 package 的已编译资源包中检索。`sun.util.resources``CalendarData_<locale>.class`

例如，对于波兰语语言环境，我们有：

```
public final class CalendarData_pl extends LocaleNamesBundle
{
  protected final Object[][] getContents()
  {
    return new Object[][] { { "firstDayOfWeek", "2" }, { "minimalDaysInFirstWeek", "4" } };
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:04:19.900

通常使用公历并使用 [https://de.wikipedia.org/wiki/Gau%C3%9Fsche_Wochentagsformel] 计算（在维基百科上找不到合适的英文版本：'/）[1](https://de.wikipedia.org/wiki/Gau%C3%9Fsche_Wochentagsformel) 因此，最小值可能此公式的结果或根据惯例（例如 01.01.1900）

似乎我误读了你的问题。希望该链接可以提供有关理论方面的一些见解。

# javascript - 添加 jQuery Click 处理程序

> ID：11028765
> 
> 赞同：4
> 
> 时间：2012-06-14T07:43:21.120
> 
> 标签：javascript, jquery

我在页面中有以下 div（我无法修改）。

```
 <div id=":0.control">Click me</div> 
```

现在我想添加一个 jQuery Click 处理程序

```
$("#:0.control").click(function () {
         alert('Clicked');
     }
 ); 
```

上面给出了错误。有什么解决办法？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T07:44:54.220

代替

```
$("#:0.control") 
```

尝试

```
$('div[id="\\:0\\.control"]') 
```

**[演示](http://jsfiddle.net/Yt6jU/1/)**

或者

```
$("#\\:0\\.control") // better that previous one 
```

**[演示](http://jsfiddle.net/Yt6jU/2/)**

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-14T07:45:42.110

您可以转义选择器中的特殊字符：

```
$("#\\:0\\.control").click(function () {
     alert('Clicked');
});​ 
```

这是一个[工作示例](http://jsfiddle.net/Yt6jU/)。

请注意，除非您使用 HTML5 文档类型，否则您的 ID 无效。另请注意，转义特殊字符比在另一个答案中使用属性选择器[要快得多：](http://jsperf.com/jq-escaped-vs-attr)

![在此处输入图像描述](../Images/d047a6e283a4026a8ed12a084076952a.png)

这样做的原因是浏览器可以利用速度`getElementById`，而不是不得不依赖`querySelector`或 Sizzle。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T07:45:48.553

这很丑陋，但它有效：

```
$(document.getElementById(":0.control")) 
```

在某些情况下，when`id`存储在变量中，您必须使用：

```
var id = ":0.control";
$(document.getElementById(id)) 
```

否则，当您想使用 pure 时`jQuery`，您需要添加额外的斜杠。

*更复杂的例子：*

```
var idArray = [":bla-bla","bla[]","commonId"];
$.each( idArray, function(i,id){
    $(document.getElementById(id)) //do some stuff
    //Otherwise, when using pure jQuery, we need to add slashes before ':','[',']' characters 
}); 
```

# qt - 要求在 qt 中创建文件夹

> ID：11028767
> 
> 赞同：1
> 
> 时间：2012-06-14T07:43:24.813
> 
> 标签：qt, qt4

我如何要求一个用户通过 qt 中的一个对话框创建一个文件夹。

这样无论用户在对话框中给出的名称（在特定位置，

例如。c:/user/...) 文件夹将在该位置创建，如果文件夹是

已经在该位置以特定名称存在，则应进行更换。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T16:47:06.043

一个常用的 GUI 方法是用来`QFileDialog::getExistingDirectory(QWidget* parent, const QString& caption, const QString& dir, Options options)`向用户显示一个目录选择对话框。将选择的输出显示为 in `QLineEdit`，因此如果用户想要创建一个新的子目录，他们可以附加新的文件夹名称。

然后作为对您问题的评论，`QDir`用于确定目录是否存在 - 如果不存在，则创建它。

# ios - NSURLErrorDomain 错误代码说明

> ID：11028769
> 
> 赞同：61
> 
> 时间：2012-06-14T07:43:29.370
> 
> 标签：ios, nsurlerrordomain

这是我开发 ios 应用程序的第一次体验。我正在尝试使用 Facebook graph api 发布一些数据。我不断收到以下错误：

```
The operation couldn’t be completed. (NSURLErrorDomain error 400.) 
```

我找不到 NSURLErrorDomain 错误代码的描述。400错误代码是什么意思？

* * *

## 回答 #1

> 赞同：85
> 
> 时间：2012-06-14T16:17:05.163

`NSURLErrorDomain`此处列出了错误代码[https://developer.apple.com/documentation/foundation/1508628-url_loading_system_error_codes](https://developer.apple.com/documentation/foundation/1508628-url_loading_system_error_codes)

但是，**400**只是返回的 http 状态代码 ( [http://www.w3.org/Protocols/HTTP/HTRESP.html](https://www.w3.org/Protocols/HTTP/HTRESP.html) )，这意味着您的请求有问题。

* * *

## 回答 #2

> 赞同：51
> 
> 时间：2017-02-24T09:03:59.457

在 Swift 中开发时，我无法找到给定代码的错误名称。出于这个原因，我粘贴减去代码`NSURLErrorDomain`取自`NSURLError.h`

```
/*!
    @enum NSURL-related Error Codes
    @abstract Constants used by NSError to indicate errors in the NSURL domain
*/
NS_ENUM(NSInteger)
{
    NSURLErrorUnknown =             -1,
    NSURLErrorCancelled =           -999,
    NSURLErrorBadURL =              -1000,
    NSURLErrorTimedOut =            -1001,
    NSURLErrorUnsupportedURL =          -1002,
    NSURLErrorCannotFindHost =          -1003,
    NSURLErrorCannotConnectToHost =         -1004,
    NSURLErrorNetworkConnectionLost =       -1005,
    NSURLErrorDNSLookupFailed =         -1006,
    NSURLErrorHTTPTooManyRedirects =        -1007,
    NSURLErrorResourceUnavailable =         -1008,
    NSURLErrorNotConnectedToInternet =      -1009,
    NSURLErrorRedirectToNonExistentLocation =   -1010,
    NSURLErrorBadServerResponse =       -1011,
    NSURLErrorUserCancelledAuthentication =     -1012,
    NSURLErrorUserAuthenticationRequired =  -1013,
    NSURLErrorZeroByteResource =        -1014,
    NSURLErrorCannotDecodeRawData =             -1015,
    NSURLErrorCannotDecodeContentData =         -1016,
    NSURLErrorCannotParseResponse =             -1017,
    NSURLErrorAppTransportSecurityRequiresSecureConnection NS_ENUM_AVAILABLE(10_11, 9_0) = -1022,
    NSURLErrorFileDoesNotExist =        -1100,
    NSURLErrorFileIsDirectory =         -1101,
    NSURLErrorNoPermissionsToReadFile =     -1102,
    NSURLErrorDataLengthExceedsMaximum NS_ENUM_AVAILABLE(10_5, 2_0) =   -1103,

    // SSL errors
    NSURLErrorSecureConnectionFailed =      -1200,
    NSURLErrorServerCertificateHasBadDate =     -1201,
    NSURLErrorServerCertificateUntrusted =  -1202,
    NSURLErrorServerCertificateHasUnknownRoot = -1203,
    NSURLErrorServerCertificateNotYetValid =    -1204,
    NSURLErrorClientCertificateRejected =   -1205,
    NSURLErrorClientCertificateRequired =   -1206,
    NSURLErrorCannotLoadFromNetwork =       -2000,

    // Download and file I/O errors
    NSURLErrorCannotCreateFile =        -3000,
    NSURLErrorCannotOpenFile =          -3001,
    NSURLErrorCannotCloseFile =         -3002,
    NSURLErrorCannotWriteToFile =       -3003,
    NSURLErrorCannotRemoveFile =        -3004,
    NSURLErrorCannotMoveFile =          -3005,
    NSURLErrorDownloadDecodingFailedMidStream = -3006,
    NSURLErrorDownloadDecodingFailedToComplete =-3007,

    NSURLErrorInternationalRoamingOff NS_ENUM_AVAILABLE(10_7, 3_0) =         -1018,
    NSURLErrorCallIsActive NS_ENUM_AVAILABLE(10_7, 3_0) =                    -1019,
    NSURLErrorDataNotAllowed NS_ENUM_AVAILABLE(10_7, 3_0) =                  -1020,
    NSURLErrorRequestBodyStreamExhausted NS_ENUM_AVAILABLE(10_7, 3_0) =      -1021,

    NSURLErrorBackgroundSessionRequiresSharedContainer NS_ENUM_AVAILABLE(10_10, 8_0) = -995,
    NSURLErrorBackgroundSessionInUseByAnotherProcess NS_ENUM_AVAILABLE(10_10, 8_0) = -996,
    NSURLErrorBackgroundSessionWasDisconnected NS_ENUM_AVAILABLE(10_10, 8_0)= -997,
}; 
```

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2017-11-16T11:47:50.877

**在快速 3**中。以下是 Swift 3 枚举中的 NSURLErrorDomain 错误代码描述：（从上面的答案复制并转换了我能做的）。

```
enum NSURLError: Int {
    case unknown = -1
    case cancelled = -999
    case badURL = -1000
    case timedOut = -1001
    case unsupportedURL = -1002
    case cannotFindHost = -1003
    case cannotConnectToHost = -1004
    case connectionLost = -1005
    case lookupFailed = -1006
    case HTTPTooManyRedirects = -1007
    case resourceUnavailable = -1008
    case notConnectedToInternet = -1009
    case redirectToNonExistentLocation = -1010
    case badServerResponse = -1011
    case userCancelledAuthentication = -1012
    case userAuthenticationRequired = -1013
    case zeroByteResource = -1014
    case cannotDecodeRawData = -1015
    case cannotDecodeContentData = -1016
    case cannotParseResponse = -1017
    //case NSURLErrorAppTransportSecurityRequiresSecureConnection NS_ENUM_AVAILABLE(10_11, 9_0) = -1022
    case fileDoesNotExist = -1100
    case fileIsDirectory = -1101
    case noPermissionsToReadFile = -1102
    //case NSURLErrorDataLengthExceedsMaximum NS_ENUM_AVAILABLE(10_5, 2_0) =   -1103

    // SSL errors
    case secureConnectionFailed = -1200
    case serverCertificateHasBadDate = -1201
    case serverCertificateUntrusted = -1202
    case serverCertificateHasUnknownRoot = -1203
    case serverCertificateNotYetValid = -1204
    case clientCertificateRejected = -1205
    case clientCertificateRequired = -1206
    case cannotLoadFromNetwork = -2000

    // Download and file I/O errors
    case cannotCreateFile = -3000
    case cannotOpenFile = -3001
    case cannotCloseFile = -3002
    case cannotWriteToFile = -3003
    case cannotRemoveFile = -3004
    case cannotMoveFile = -3005
    case downloadDecodingFailedMidStream = -3006
    case downloadDecodingFailedToComplete = -3007

    /*
     case NSURLErrorInternationalRoamingOff NS_ENUM_AVAILABLE(10_7, 3_0) =         -1018
     case NSURLErrorCallIsActive NS_ENUM_AVAILABLE(10_7, 3_0) =                    -1019
     case NSURLErrorDataNotAllowed NS_ENUM_AVAILABLE(10_7, 3_0) =                  -1020
     case NSURLErrorRequestBodyStreamExhausted NS_ENUM_AVAILABLE(10_7, 3_0) =      -1021

     case NSURLErrorBackgroundSessionRequiresSharedContainer NS_ENUM_AVAILABLE(10_10, 8_0) = -995
     case NSURLErrorBackgroundSessionInUseByAnotherProcess NS_ENUM_AVAILABLE(10_10, 8_0) = -996
     case NSURLErrorBackgroundSessionWasDisconnected NS_ENUM_AVAILABLE(10_10, 8_0)= -997
     */
} 
```

Swift github 存储库中的直接链接`URLError.Code`，其中包含正在使用的错误代码的最新列表（[github 链接](https://github.com/apple/swift/blob/master/stdlib/public/Darwin/Foundation/NSError.swift#L1817)）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-06-16T01:54:17.430

我在使用 Parse 时收到错误**Domain=NSURLErrorDomain Code=-1011 ，并提供了错误的 clientKey。**一旦我纠正了它，它就开始工作了。

# oracle - dbms_metadata.get_granted_ddl('SYSTEM_GRANT', 'AQ_ADMINISTRATOR_ROLE') ora-31608 错误的原因是什么？

> ID：11028773
> 
> 赞同：3
> 
> 时间：2012-06-14T07:43:32.007
> 
> 标签：oracle, ddl, role, dbms-metadata

我想使用 dbms_metadata 包获取数据库中所有角色的 ddls。不幸的是，当角色没有授予（对象、系统或角色类型）时，dbms_metadata.get_granted_ddl 失败并出现错误。这就是为什么我必须检查 dba_tab_privs、dba_sys_privs 和 dba_role_privs 视图中是否存在特权。但是 AQ_ADMINISTRATOR_ROLE 角色具有系统权限以下语句失败。检查了两个数据库。

```
sqlplus system/pass@db1

select dbms_metadata.get_granted_ddl('SYSTEM_GRANT', 'AQ_ADMINISTRATOR_ROLE')
  from dual
  where exists (select 1 from dba_sys_privs where grantee = 'AQ_ADMINISTRATOR_ROLE')
/ 
```

> ORA-31608：未找到 SYSTEM_GRANT 类型的指定对象 ORA-06512：在“SYS.DBMS_METADATA”，第 4018 行 ORA-06512：在“SYS.DBMS_METADATA”，第 5991 行 ORA-06512：在第 1 行

```
select * from v$version
/

Oracle Database 11g Release 11.2.0.2.0 - 64bit Production PL/SQL
Release 11.2.0.2.0 - Production CORE    11.2.0.2.0  Production 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-22T13:42:30.577

如果没有与您的参数匹配的行，Oracle 将返回该异常。QA_ADMINISTRATOR_ROLE 不能有 SYSTEM_GRANT 对象

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-31T15:24:19.683

这将返回您正在寻找的内容：

```
select dbms_metadata.GET_GRANTED_DDL('SYSTEM_GRANT')  from dual; 
```

这将返回如下内容：

`GRANT CREATE JOB TO "SCOTT"`

`GRANT SELECT ANY DICTIONARY TO "SCOTT"`

`GRANT EXECUTE ANY TYPE TO "SCOTT"`

我假设，您想为当前模式用户（当您说“数据库”）提供的所有特权（角色/权限）提取 DDL。

如果要为给定用户提取信息，请使用以下命令：

```
select dbms_metadata.GET_GRANTED_DDL('SYSTEM_GRANT', 'SCOTT')  from dual; 
```

如果想将当前用户对 OBJECT 赋予的权限提取给另一个模式用户，请使用以下命令：-

```
select DBMS_METADATA.GET_DEPENDENT_DDL('OBJECT_GRANT','TEST_TABLE') from dual; 
```

# html - 升级 WordPress 破坏了我的网站

> ID：11028779
> 
> 赞同：0
> 
> 时间：2012-06-14T07:43:56.393
> 
> 标签：html, wordpress, permalinks

我将我的网站升级到 wordpress 3.4，它对我的​​网站造成了巨大的损害。我的一半帖子无法在网站和 404d 上访问，我在网站 404d 上的帖子的第 3 页和第 4 页也是如此。

我在升级之前使用 PressBackup 进行了备份（谢天谢地，我有一种直觉会让人头疼）。恢复后，我终于可以看到我之前丢失的其他帖子，但仍然存在问题。第 3 页和第 4 页仍然不起作用，即[http://www.winvenue.com/page/3/](http://www.winvenue.com/page/3/)。有趣的是，所有消失的帖子都来自第 3 页和第 4 页。

我不确定为什么会遇到所有这些问题，这真的很烦人，因为这是一个有数百名读者的活跃网站。我真的很想解决这个问题，非常感谢任何帮助。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T08:23:00.870

在不了解您的具体设置的情况下，您可以尝试一些一般性的操作。

我会检查数据库以查看帖子是否真的存在。如果是，请查看显示的内容是否与未显示的内容有任何不同。

然后禁用所有插件等，看看是否有任何插件会导致新版本出现问题。如果它在没有插件的情况下工作，请一一打开它们以查看哪些（哪些）会导致问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:26:22.817

从备份恢复可能不包括负责永久链接的 .htaccess 文件。

尝试使用 settings->permalinks->save 或手动重新生成您的 .htaccess 文件

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T10:51:08.763

尝试在 Settings->Reading (wp-admin/options-reading.php) 上设置以下字段

> 博客页面最多显示 [5] 个帖子

可能是您的分页认为每页有 2 个帖子，而实际上有 4 个（例如）会导致这种效果。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-14T19:47:50.560

当我在谷歌上搜索时，我在升级时也遇到了同样的问题，似乎也和其他人一样。尝试搜索丢失页面的草稿版本，通常 WordPress 会在您输入时自动备份。也试试垃圾文件夹，你永远不知道。您可能还需要恢复到较旧的备份文件，其中可能包含丢失的页面。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T00:02:27.947

插件可能会更改您的永久链接重写规则。因此，请尝试停用所有插件。然后重置您的永久链接：设置>永久链接，除了保存它之外不要更改任何内容。检查您的站点，如果它正常，那么它必须是插件之一。

如果它不起作用，在重新激活插件之前，更改为默认主题（二十一）并查看它是否适用。

就我所见，这类问题通常来自错误配置的内部重写规则。

编辑：您是否尝试过不使用分页？

您还可以尝试通过添加以下内容来停用规范重定向来进行调试：

```
remove_action( 'template_redirect', 'redirect_canoncial ') 
```

在你的functions.php上。这将禁用内部 URL 重定向。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-19T10:36:42.867

升级您的永久链接设置

# android - 如何在android中只使用BroadcastReceiver来执行长时间的任务？

> ID：11028786
> 
> 赞同：0
> 
> 时间：2012-06-14T07:44:24.440
> 
> 标签：android, service, broadcastreceiver

我正在写一个只能使用服务的背景应用程序。我使用 BroadcastReceiver 启动服务。有时它工作得很好，但有时它不起作用。

我知道原因是 BroadcastReceiver exec liftcycle 是 10 秒，所以使用它启动很长时间的任务不会结束。

```
Intent i = new Intent();
i.setClass(context, RegisterService.class);
context.startService(i); 
```

如果我只想使用 BroadcastReceiver 和服务来执行长时间的任务，我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:45:52.367

确保您的服务不在主线程上执行。考虑使用[IntentService](http://developer.android.com/reference/android/app/IntentService.html)，它开箱即用。

# css - CSS：仅在特定的媒体查询中应用规则？

> ID：11028790
> 
> 赞同：1
> 
> 时间：2012-06-14T07:44:39.417
> 
> 标签：css, media-queries

以下情况…… 

```
/* @media screen and (min-width: 480px) */
@media screen and (min-width: 30em) {
     #el { background:red; }
}

/* @media screen and (min-width: 640px) */
@media screen and (min-width: 40em) {
     #el { background:none; }
} 
```

所以如果视口小于 480px`#el`应该是红色的，如果视口更宽它应该没有应用背景色！

是否有一些 css 技巧仅适用于此规则，`min-width: 30em`因此我不必在下一个媒体查询中“重置”它？

对此有什么想法和想法？先感谢您！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T07:52:19.117

以这种方式尝试

```
@media screen and (min-width: 30em) and (max-width: 40em) {
     #el { background:red; }
} 
```

小提琴示例：http: [//jsfiddle.net/2ySNu/](http://jsfiddle.net/2ySNu/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T01:00:19.440

如果您希望背景`#e1`在某个断点以下为红色，则应使用`max-width`. 如果您想为大于某个断点的视口应用样式规则，那么您应该使用`min-width`. 在您的示例中：`@media screen and (min-width: 30em)`，仅当视口大于 30em 时，背景才会变为红色 - 一旦达到 40em，它将恢复为无（基于您的其他规则）。要为小于 480px 的视口设置背景，只需使用`max-width`，您甚至不必担心“重置”，因为一旦视口超过 480px，该规则将不适用。

```
/* @media screen and (max-width: 480px) */
@media screen and (max-width: 30em) {
    #el { background:red; }
} 
```

请记住，您在其中声明的规则`min-width`将适用于宽度大于您指定的断点宽度的视口。而在中声明的规则`max-width`将适用于小于/小于断点宽度的视口。

# javascript - Google AdSense 代码未在 asp.net 中执行

> ID：11028797
> 
> 赞同：0
> 
> 时间：2012-06-14T07:45:09.247
> 
> 标签：javascript, asp.net

我将 AdSense 脚本放在我的 asp.net 网站代码中。
我看到脚本已执行，并且我还从 Google 收到了相关代码。
但是我收到的内容在我的网站上是文本而不是可执行代码。
我在 Firebug 上看到了这一点。
此外，我不得不说这个脚本位于 DIV 后面，而 div 位于 ContentHolder 后面，而 Holder 位于另一个 DIV 后面。
有人能告诉我为什么会这样吗？我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T17:43:44.980

如果我们把所有的问题都解决了：

```
<%= IO.File.ReadAllText(Server.MapPath("../pages/google.htm"))%> 
```

然后我们将一个 htm 页面传递到一个 asp.net PlaceHolder 中，一切都很好。

# winapi - 如何解释 AcquireCredentialsHandle (Kerberos) 返回的过期时间？

> ID：11028798
> 
> 赞同：1
> 
> 时间：2012-06-14T07:45:17.437
> 
> 标签：winapi, kerberos, sspi

Windows SSPI 调用`AcquireCredentialsHandle`返回一个时间戳，指示凭据句柄何时到期。文档似乎在说`TimeStamp`结构应该与结构具有相同的格式`FILETIME`。但是，当我将此函数与“Kerberos”包一起使用时，将结果视为`FILETIME`：

```
#include <stdio.h>
#define SECURITY_WIN32
#include <windows.h>
#include <security.h>

int main() {

  TimeStamp expiry;
  int aquireCode;
  CredHandle credHandle;
  BOOL timeOk;
  SYSTEMTIME sysTime;

  aquireCode = AcquireCredentialsHandle(
          NULL,
          "Kerberos",
          SECPKG_CRED_OUTBOUND,
          NULL,
          NULL,
          NULL,
          NULL,
          &credHandle,
          &expiry);

  printf("result = %d\n", aquireCode);
  printf("upper = %d (%X)\n", expiry.HighPart, expiry.HighPart);
  printf("lower = %d (%X)\n", expiry.LowPart, expiry.LowPart);

  timeOk = FileTimeToSystemTime((FILETIME*)&expiry, &sysTime);
  printf("time covert ok = %d\n", timeOk);
  printf("%4d/%02d/%02d %02d:%02d:%02d\n", sysTime.wYear, sysTime.wMonth, sysTime.wDay, sysTime.wHour, sysTime.wMinute, sysTime.wSecond);
} 
```

在我的系统上，打印：

```
result = 0
upper = 2147483530 (7FFFFF8A)
lower = -1488801793 (A742AFFF)
time covert ok = 1
30828/09/13 12:48:05 
```

如果不是`FILETIME`，那是什么？

# objective-c - UITableView 覆盖标签栏的错误

> ID：11028800
> 
> 赞同：0
> 
> 时间：2012-06-14T07:45:24.780
> 
> 标签：objective-c, uitableview, uistoryboard, uitabbaritem, xcode-storyboard

所以我有 3 个主要场景，每个场景都有一个标签栏项目。第一个场景（Account 场景）包含一个 UITableView。同样在这个场景中，我有一个按钮可以切换到标签栏上不包含的不同场景。IE。帐户场景（位于选项卡栏上）具有链接到帐户信息页面（不在选项卡栏上）的按钮。这一切都很好，但是当我从 Account Info 场景回到 Account 场景时，UITableView 现在覆盖了 Tab Bar（或者 Tab Bar 可能完全消失了），所以我无法再访问它并切换到不同的场景。

其他人遇到过类似的事情或知道为什么会发生这种情况吗？如果需要示例代码，我可以发布一些，但我主要使用情节提要。

干杯，

罗宾

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T06:43:19.353

固定的。对视图控制器本身进行了 segue，而不是对处理视图的 TabBarController 进行了 segue。限制是我只能继续回到第一个标签栏视图，这有点烦人，但是哦。

# interop - 如何通过 C# domino.interop.dll 使用 Lotus Notes 发送传真

> ID：11028801
> 
> 赞同：0
> 
> 时间：2012-06-14T07:45:32.163
> 
> 标签：interop, lotus-notes

我正在使用 c# (domino.interop.dll) 发送传真。在我的特定情况下，如果特定传真无法发送，则应触发传真发送邮件。有没有设置传真发送报告的选项？

我怎么能在 c# 中做到这一点？

供参考，

我指的是[http://www.codeproject.com/Articles/29442/Send-Lotus-Notes-Email-Using-C](http://www.codeproject.com/Articles/29442/Send-Lotus-Notes-Email-Using-C) ， 只是传真地址不同。

# authentication - 通过我自己的自定义书面表单输入进行 joomla 用户身份验证

> ID：11028803
> 
> 赞同：1
> 
> 时间：2012-06-14T07:45:44.487
> 
> 标签：authentication, joomla

我一直在努力寻找有关使用您自己的表单元素进行用户身份验证的信息。

为了说清楚，这就是我想要做的。

我将有一个将重定向到页面的按钮。现在，可以通过以下方式重定向此页面。

将打开一个弹出窗口，用户需要在其中输入他们的电子邮件地址和密码。我的表格是这样的

```
 <form action="userlogin.php" method="post">
    <ul>Email
        <li><input type="text" id="email" name="email" /></li>
    </ul>
    <ul>Password
        <li><input type="password" id="pass" name="pass" /> </li>
    </ul>

    </form> 
```

用户单击提交按钮，如果电子邮件地址和密码存在，则我们成功登录，如果不存在，则将该用户添加到数据库中，然后重定向。

我不明白如何使用我提到的这个表单来验证用户登录。我必须将它发布到哪个文件以及它如何像普通的 joomla 登录一样工作。

请帮忙。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T11:19:54.417

您可以覆盖现有的登录表单并在模式弹出窗口中打开它吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T13:44:51.257

您可以通过两步相对轻松地编写自己的身份验证例程。

*   认证逻辑

对于身份验证逻辑，在 plugins 文件夹中，还有一个名为“authentication”的文件夹。除了默认的 joomla 身份验证之外，还有另一个名为“example.php”，您可以从那里克隆和处理。这些是您可以在 Joomla 管理员的插件管理器中启用/禁用的插件，因此您可以查看它们并查看它们进行身份验证的不同方式（gmail、openid 等）。

确保扫描/替换复制文件中使用的所有命名（它不是很大），当您对它感到满意时，在表 jos_plugins 中输入一个条目，以便您可以在 Joomla 管理员中启用它。

*   您的表单（以模板*atomic*为例，并假设您使用的是 mod_login）

在 /templates/atomic/html/mod_login 你应该有一个名为 default.php 的文件。您可以在此处更改表单以满足您的需求，并将其合并到您在插件中编写的身份验证逻辑中。

*   弹出式方法

这将取决于您使用的模板，以及它或您通常如何处理弹出窗口。 [Rockettheme](http://www.rockettheme.com/)有许多弹出模块（有些是免费的），它们演示了如何以这种方式进行操作，或者如果您对此感到满意，可以使用 jquery，列表还在继续......

# ruby-on-rails - “actionmailer”的未定义方法“名称”：字符串

> ID：11028804
> 
> 赞同：16
> 
> 时间：2012-06-14T07:45:44.750
> 
> 标签：ruby-on-rails, ruby, rubygems, actionmailer, browsercms

我有一个旧版本的 Rails 项目，它是在配置/环境文件中使用 BrowserCMS 构建的

```
RAILS_GEM_VERSION = '2.3.4' unless defined? RAILS_GEM_VERSION 
```

所以我使用 rvm 安装了这个 gem，所以我可以运行它

```
$ gem list

*** LOCAL GEMS ***

actionmailer (2.3.8, 2.3.4)
actionpack (2.3.8, 2.3.4)
activerecord (2.3.8, 2.3.4)
activeresource (2.3.8, 2.3.4)
activesupport (2.3.8, 2.3.4)
bundler (1.1.4)
mysql (2.8.1)
rack (1.1.3, 1.0.1)
rails (2.3.4)
rake (0.8.7) 
```

我运行 `rake db:create`它工作正常，但是当我运行时`rake db:migrate`出现此错误

```
rake aborted!
undefined method `name' for "actionmailer":String 
```

我尝试使用 Trace 但没有任何帮助

```
$ rake db:migrate --trace
(in /home/azzurrio/Desktop/berkmancenter-fair_use_tool-f8f65ea)
** Invoke db:migrate (first_time)
** Invoke environment (first_time)
** Execute environment
rake aborted!
undefined method `name' for "actionmailer":String
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rails-2.3.4/lib/rails/gem_dependency.rb:268:in `=='
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8/rubygems/dependency.rb:217:in `==='
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8/rubygems/dependency.rb:217:in `matching_specs'
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:36:in `find_all'
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8/rubygems/specification.rb:411:in `each'
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8/rubygems/specification.rb:410:in `each'
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8/rubygems/dependency.rb:216:in `find_all'
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8/rubygems/dependency.rb:216:in `matching_specs'
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8/rubygems/dependency.rb:238:in `to_specs'
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8/rubygems/dependency.rb:256:in `to_spec'
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8/rubygems.rb:1210:in `gem'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rails-2.3.4/lib/rails/gem_dependency.rb:73:in `add_load_paths'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rails-2.3.4/lib/initializer.rb:301:in `add_gem_load_paths'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rails-2.3.4/lib/initializer.rb:301:in `each'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rails-2.3.4/lib/initializer.rb:301:in `add_gem_load_paths'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rails-2.3.4/lib/initializer.rb:132:in `process'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rails-2.3.4/lib/initializer.rb:113:in `send'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rails-2.3.4/lib/initializer.rb:113:in `run'
/home/azzurrio/Desktop/berkmancenter-fair_use_tool-f8f65ea/config/environment.rb:9
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:36:in `gem_original_require'
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:36:in `require'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:156:in `require'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:156:in `require'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rails-2.3.4/lib/tasks/misc.rake:4
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:636:in `call'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:636:in `execute'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:631:in `each'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:631:in `execute'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:597:in `invoke_with_call_chain'
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:590:in `invoke_with_call_chain'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:607:in `invoke_prerequisites'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:604:in `each'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:604:in `invoke_prerequisites'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:596:in `invoke_with_call_chain'
/usr/share/ruby-rvm/rubies/ruby-1.8.7-p358/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:590:in `invoke_with_call_chain'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:583:in `invoke'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:2051:in `invoke_task'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:2029:in `top_level'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:2029:in `each'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:2029:in `top_level'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:2068:in `standard_exception_handling'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:2023:in `top_level'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:2001:in `run'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:2068:in `standard_exception_handling'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/lib/rake.rb:1998:in `run'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/gems/rake-0.8.7/bin/rake:31
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/bin/rake:19:in `load'
/usr/share/ruby-rvm/gems/ruby-1.8.7-p358/bin/rake:19 
```

请问有什么帮助吗？

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-10-01T12:45:32.820

我有这个问题。解决方案是将 ruby​​gems 降级到您支持的版本。

我需要 1.3.5 版（用于 rails 2.3.5）

所以你需要这样做：

> 宝石安装 ruby​​gems-update -v 1.3.5
> 
> update_rubygems --version=1.3.5

现在 rake 应该可以工作了。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-14T09:05:32.843

我认为您应该更新 RubyGems 版本。
试试`gem install rubygems-update`。

# jquery - jQuery letterSpacing 动画错误

> ID：11028805
> 
> 赞同：2
> 
> 时间：2012-06-14T07:45:46.983
> 
> 标签：jquery, jquery-animate, jquery-ui-accordion, letter-spacing

我真的是 jQuery 的初学者，今天我尝试创建这种可爱的水平手风琴菜单，上面有一些文字。

现在我让手风琴工作了，但我也尝试为文本的字母间距设置动画。

***编辑：*** 请注意宽度动画正在工作，问题是字母间距没有动画**回**-14px，而是跳回来。

我到处搜索，找不到解决方案。

这是我的 jQuery 代码：

```
$(document).ready(function() {
$("ul li a, p").hover(function() { 

    $el = $(this);

    $el.animate({width: "200px", letterSpacing: "0px"
}, { queue:false });
}, function() { 

    $el = $(this);

    $el.animate({width: "120px", letterSpacing: "-14px"
},{ queue:false });
});
}); 
```

[http://jsfiddle.net/d5MYS/](http://jsfiddle.net/d5MYS/) - 实时代码

谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:52:01.627

您没有指定哪个网络浏览器。我无法使用 FireFox 12 重现此问题，并且我假设您遇到了此处描述的 JQuery/Internet Explorer 错误：http: [//bugs.jquery.com/ticket/8627](http://bugs.jquery.com/ticket/8627)

# html - 从 WYSIWYG-Editor 复制文本并且不允许 CSS 继承

> ID：11028812
> 
> 赞同：0
> 
> 时间：2012-06-14T07:46:00.540
> 
> 标签：html, css, inheritance, format

我对 CSS 和由此产生的继承有一个大问题。我想从 WYSIWYG 编辑器中复制另一个 div 元素中的文本，并完全按照编辑器中的格式显示该文本。但是，当我将文本复制到具有大量 div 元素和大量 css 样式的网格中时，由于 CSS 继承，文本会被格式化。我可以以某种方式禁用此行为吗？

否则，斜体样式的文本并不总是斜体或粗体等等......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T08:01:28.457

在它周围放置一个`<iframe>`包装器 - 它会停止所有未加载的样式。比加载您用于 WYSIWYG 的相同 css 并将其加载到`<iframe>`head 中。

# php - 未捕获的 RangeError：daterangepicker 中超出了最大调用堆栈大小

> ID：11028816
> 
> 赞同：1
> 
> 时间：2012-06-14T07:46:38.693
> 
> 标签：php, jquery, html, jquery-ui, jquery-plugins

我`DateRangePicker`在我的代码中使用了一个插件。

这是我的代码：

```
<script type="text/javascript" src="<?php echo base_url ?>js/jquery-1.7.2.min.js"></script>
<script src="js/jquery-ui.js"></script>
<script type="text/javascript" src="<?php echo base_url ?>js/date.js"></script>
<script type="text/javascript" src="<?php echo base_url ?>js/daterangepicker.jQuery.compressed.js"></script>

<p>
  <strong>Pickup :</strong> 
  <input type="text" id="pickupdate" name="pickupdate" class="datepicker" >
</p> 
```

当我单击文本框时，我在控制台中收到以下错误：

> 未捕获的 RangeError：超出最大调用堆栈大小

如果有人知道为什么会发生这种情况，请告诉我。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-14T17:54:03.167

我找到了解决方案。真正的问题是我同时包含`date.js`了`daterangepicker.jQuery.compressed.js`. 经过仔细检查，它们似乎包含相同的功能，所以我只是`date.js`从页面中删除。我希望这对将来可能遇到类似问题的人有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-12T23:52:41.070

我在这里找到了两个修复：[http ://code.google.com/p/datejs/issues/detail?id=143](http://code.google.com/p/datejs/issues/detail?id=143)

第二个对我不起作用，但第一个效果很好：

“以下 toString() 函数开头的代码似乎修复了它，并且感觉就像一个令人满意的默认值 if (format == undefined) format = 'u';” （感谢菲尔）

# c# - 无法将新实例添加到泛型类的泛型列表中。为什么？

> ID：11028817
> 
> 赞同：2
> 
> 时间：2012-06-14T07:46:38.890
> 
> 标签：c#, .net, generics, constraints

我有以下通用类：

```
public class MessageProcesser<T> where T : Message 
```

在代码中，我具有以下属性：

```
private readonly BlockingCollection<T> _messages; 
```

当我尝试这样做时，我得到一个错误（因为 T 是一条消息，它应该是可能的）：

```
_messages.Add(new Message(MessageType.Stop)); 
```

怎么了？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T07:48:32.397

您没有消息集合。消息不能是 T，因为 T 可能已被继承。

尝试

```
private readonly BlockingCollection<Message> _messages; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-14T07:55:44.623

编译器错误是您假设`T`始终为`Message`. `T`可能是*更派生*的类型，例如`DerivedMessage : Message`. 这将使您的 collection `BlockingCollection<DerivedMessage>`，尝试将一个实例设置`Message`为 this 将是无效的。

如果您想包含所有类型的所有消息的列表，您需要做的就是：

```
private readonly BlockingCollection<Message> _messages; 
```

并彻底取消使用泛型。然后，您可以存储`Message`类型和任何派生自`Message`.

如果您想`MessageProcessor<T>`处理任何消息并存储正确的*相关*类型，则始终可以使用`new()`强制该类型具有**公共无参数**构造函数的约束：

```
public class MessageProcesser<T> where T : Message, new() 
```

然后你也许可以这样做：

```
var message = new T(); 
message.MessageType = MessageType.Stop;
_messages.Add(message); 
```

您**不能**使用参数约束构造函数，因此您当前的构造函数使用将不受支持。解决此问题的一种方法是将抽象`MessageFactory`创建*责任*传递给工厂。`MessageProcessor`

# android - 将 x/y 坐标转换为文本

> ID：11028818
> 
> 赞同：1
> 
> 时间：2012-06-14T07:46:50.070
> 
> 标签：android, text, ocr

我正在尝试开发一个 Android 应用程序，允许用户用手指在画布上写笔记，

我想要的是将这些“绘图”x/y 坐标转换为文本。

有谁知道可以执行所需转换的开源库？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T08:14:20.783

**要创建匹配字母的手势：**

您可以使用 SDK 中的 GestureBuilder 示例项目。

做`New Project > Android Sample Project > GestureBuilder ...`

确保您从 SDK 管理器安装了可用的示例。

**识别手势：**

看看[这个](http://www.vogella.com/articles/AndroidGestures/article.html)教程。

**关于图书馆：**

那里有一些关于手势重新识别的库。但我认为没有任何库可以将坐标直接转换为字母。

android中已经有一个内置的手势识别系统。

为什么不使用它？[http://developer.android.com/resources/articles/gestures.html](http://developer.android.com/resources/articles/gestures.html)

我希望这一切都会对你有所帮助。:)

**编辑：**

你也可以看看[这个](https://stackoverflow.com/questions/1106202/android-ocr)问题。

OCR 表示光学字符识别。这不完全是您正在寻找的东西，但我认为您可以尝试将手势转换为图像，然后使用[tesseract](https://code.google.com/p/tesseract-ocr/)处理它们。

# android - android - 如何隐藏状态栏

> ID：11028820
> 
> 赞同：0
> 
> 时间：2012-06-14T07:46:55.393
> 
> 标签：android, android-titlebar

我在文件的应用程序标签中设置了以下属性`manifeast`。但它隐藏了标题栏（操作栏）和状态栏。在这里我只想隐藏状态栏。

`android:theme="@android:style/Theme.NoTitleBar.Fullscreen"`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T07:52:14.407

对于仅隐藏状态栏，请将此代码添加到活动中：

```
// Hide the Status Bar

getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,

WindowManager.LayoutParams.FLAG_FULLSCREEN); 
```

并`android:theme="@android:style/Theme.NoTitleBar.Fullscreen"`从清单中删除

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T07:50:26.703

```
this.requestWindowFeature(Window.FEATURE_NO_TITLE);
getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
WindowManager.LayoutParams.FLAG_FULLSCREEN); 
```

将此代码添加到您的活动开始

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T07:53:15.970

试试下面的代码片段：

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

     /* add below 2 lines*/
    getWindow().clearFlags(android.view.WindowManager.LayoutParams.FLAG_FORCE_NOT_FULLSCREEN);
    getWindow().addFlags(android.view.WindowManager.LayoutParams.FLAG_FULLSCREEN);
} 
```

# c# - 如果 x = 3 且 z 未赋值，为什么 z = x-- - --x 的计算结果为 2？

> ID：11028822
> 
> 赞同：7
> 
> 时间：2012-06-14T07:47:10.320
> 
> 标签：c#, javascript

如果`x = 3`和 z 未分配，
为什么`z = x-- - --x`评估为 2？

我的教授目前正在讲课，而我目前陷入了困境。不幸的是，没有人能解释为什么会这样。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-14T07:49:41.223

在 x-- 上，x = 3，然后是 2。在 --x 上，x = 1，因为减法（从 2 开始）是事先完成的。

因此，3 - 1 = 2。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-14T07:52:35.793

这是操作的顺序，为了更好地理解而进行了说明：

*   **x** -- - --x 保持 x 的值（我们称之为 tmpA）。tmpA 为 3。
*   x **--** - --x 减小 x。现在是2。
*   x-- - **--** x 减小 x。现在是 1。
*   x-- - -- **x**保持 x 的值（我们称之为 tmpB）。tmpB 为 1。
*   x-- **-** --x 从计算值执行子结构。3 - 1 = 2。

`-- prefix`表示在计算表达式之前进行递减，`postfix --`表示在计算表达式后进行递减。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-06-14T07:56:42.553

好的，它很简单：

让我们添加括号：

`z = ( x-- ) - ( --x )`

^^ 这就是编译器在标记化后如何看待您的代码。

编译器从左到右评估方程（右部分）

现在，

`x--`等于弹出 x 的值，然后将其递减并将值推回内存中。好的，让我们一起做：

X 的当前值为 3，递减为 2 - 因此，在等式中我们将得到 3，但 X 将包含新值 2。

`--x`等于递减X值，然后将该值POP到方程中。我们开始做吧：

X 的当前值为 2（因为之前的操作减少了它），现在我们想再次减少它。2-1 = 1，明白了。

现在，回到整个方程：`z = (3) - (1) = 2`。

# objective-c - 可达性重复符号

> ID：11028824
> 
> 赞同：6
> 
> 时间：2012-06-14T07:47:12.053
> 
> 标签：objective-c, ios, ios5

链接错误：

```
ld: duplicate symbol _OBJC_METACLASS_$_Reachability in /Users/jmf/Documents/iOS Development/jmf_Client/jmf/jmf/ww_libs/libmfcbroem_ios.a(Reachability.o) and /Users/tpf/Library/Developer/Xcode/DerivedData/jmf-erlknghfcpoomnfanzovahfacgpv/Build/Intermediates/jmf.build/Debug-iphoneos/jmf.build/Objects-normal/armv7/Reachability.o for architecture armv7 
```

如果我只是删除 h/m 文件（和相关的导入指令），希望只使用 libmfcbroem_ios.a 中的可达性......链接器会抛出这个：

```
Undefined symbols for architecture armv7:
  "_kReachabilityChangedNotification", referenced from:
      -[MKNetworkEngine initWithHostName:customHeaderFields:] in MKNetworkEngine.o
      -[MKNetworkEngine dealloc] in MKNetworkEngine.o
ld: symbol(s) not found for architecture armv7
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

我如何告诉链接器利用“a”文件中的可达性？

（免责声明，我刚刚开始使用 ObjC/iOS）

谢谢你的帮助...

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-14T07:50:02.023

删除 Reachability.m 文件，仅包含标题

# wpf - 从列表中过滤 WPF 中的 CollectionViewSource。VB.net

> ID：11028825
> 
> 赞同：0
> 
> 时间：2012-06-14T07:47:15.343
> 
> 标签：wpf, database, vb.net, list, filter

希望有人能指出我正确的方向。我有一个程序，允许用户从各种表单中选择各种提要，他们可以选择的提要来自 Access 数据库中的数据表，该数据表被放入 WPF 中的 CollectionViewSource 中。如：

```
<CollectionViewSource x:Key="BrandsViewSource" Source="{Binding Path=brands,
 Source={StaticResource DatabaseDataSetall}}"/> 
```

他们选择的所有提要在“id”列下都有一个唯一的 id，当他们从程序中的各种列表中选择时，他们选择的 id 被添加到名为“feedselections”的数组列表中。

我在程序内部传递了数组列表，不用担心，但我需要做的是在 WPF 中使用数组列表“feedselection”的内容填充一个列表框，然后它需要填写列表框中的所有额外字段。列表框的代码是：

```
<Grid Width="800" Height="80" Background="#FFE7AE4A">
        <Label Content="{Binding Type}" HorizontalAlignment="Left" Height="27" Margin="8,8,0,0" VerticalAlignment="Top" Width="100" Name="typelabel" Foreground="#FFA4CE52" FontWeight="Bold"/>
        <Label Content="{Binding Name}" HorizontalAlignment="Left" Height="27" Margin="115,8,0,0" VerticalAlignment="Top" Width="133"/>
        <TextBox HorizontalAlignment="Left" Margin="169,35,0,17" TextWrapping="Wrap" Text="" VerticalAlignment="Stretch" Width="78" Name="foodamount"/>
</Grid> 
```

我不确定是否最好用所有选择填充列表框，然后使用不在数组中的 collectionviewsource.filter 过滤掉选择。如果我采用该选项，我不确定是否应该使用数组、arraylist、list(of t) 或其他一些选项。

或者，我可以用数组中的所有项目填充列表框，然后以某种方式绑定其他框以使用“id”从 collectionviewsource 获取它们的数据，以从数据表中查找其余数据。

老实说，我不知道该怎么做。我花了很长时间寻找一种同时进行这两种选择的方法，但第一种似乎是最有希望的，除了无法找到从列表中过滤的人！

我在这个网站上找到了我试图使用过滤器的某人的代码，只是作为试验，我的数据，但我一直收到错误：

> 创建表单时出错。有关详细信息，请参阅 Exception.InnerException。错误是：'System.Windows.Data.CollectionViewSource' 的初始化引发了异常。行号“22”和行位置“55”

这是当我将 Filter="WorkerFilter" 添加到 collectionviewsource 时引起的：

```
<CollectionViewSource x:Key="FeedsViewSource" Source="{Binding Path=Feeds, 
Source={StaticResource DatabaseDataSetall}}" Filter="WorkerFilter"/> 
```

过滤器处理程序是：

```
 Private Sub WorkerFilter(ByVal sender As Object, ByVal e As FilterEventArgs)
    Dim value As Object = CType(e.Item, System.Data.DataRow)("ID")
    If (Not value Is Nothing) And (Not value Is DBNull.Value) Then
        If (value = "4") Or (value = "5") Then
            e.Accepted = True
        Else

            e.Accepted = False
        End If
    End If
End Sub 
```

对于大量的代码和写作感到抱歉，我只是想提供尽可能多的信息。

任何建议都将不胜感激，即使我必须在数据库中创建一个每次使用时都会被擦除的新表，然后我可以使用在数据库中构建的关系，我非常绝望并愿意尝试任何事情！

# css - 对div的困惑

> ID：11028832
> 
> 赞同：0
> 
> 时间：2012-06-14T07:48:01.117
> 
> 标签：css, html, overlap

我想知道是否有人可以帮助我弄清楚为什么我的导航菜单似乎在我的主 div 中，但它没有以这种方式编码。我猜CSS是问题所在。很多代码我害怕，但我不知道问题出在哪里，所以我无法隔离它......

```
<!DOCTYPE html>
<html>
<head>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>

<div id="container">
    <div id="header"><p><img src="images/logo.png" alt="logo" /></p></div><!--header-->
    <div id="navbar">
        <div id="holder">
        <ul> 

   <li><a href="#" id="onlink">Home</a></li>
   <li><a href="#">My Approach</a></li>
   <li><a href="#">Testimonials</a></li>
   <li><a href="#">Fees</a></li>
   <li><a href="#">Contact</a></li>

        </ul>

        </div><!--holder(navbar)-->
    </div><!--navbar-->
    <div id="main">main</div><!--main-->

</div><!--container-->
<body>
</html> 
```

CSS：

```
body {
    background-image: url(images/colorful7.jpg);
}
#container {
    width: 960px;
    float: none;
    margin: auto;
    height: auto;
}
#header {
    height: 350px;
    width: 940px;
    padding: 10px;
    }
#navbar {
    background: none;
    height:40px;/*40*/
    width:960px;
    float:right;
 } 

 #navbar #holder {
    height:40px;
    width:725px;/*725*/
    float: right;
 } 

 #navbar #holder ul {
  list-style:none;
  margin:0;
  padding:0; 
 } 

 #navbar #holder ul li a {
    text-decoration:none;
    float:left;
    line-height:20px;
    font-family:Arial, Helvetica, sans-serif;
    font-size:16px;
    font-weight:600;
    color:#660033;
    border-bottom:none;
    padding:10px;
    width:120px;
    text-align:center;
    display:block;
    background:#FFC;
    -moz-border-radius-topleft:10px;
    -moz-border-radius-topright:10px;
    -webkit-border-top-left-radius:10px;
    -webkit-border-top-right-radius:10px;
    margin-left: 5px;
 } 

 #navbar #holder ul li a:hover {
    background:#660033;
    color:#FFC;

 } 
#holder ul li a#onlink {
    background:#660033;
    color:#FFC;
 } 

 #holder ul li a#onlink:hover {
  background:#660033;
  color:#white;
  text-shadow:1px 1px 1px #000; 
 }
 #main{
    background-color: #FFC;
    height: 400px;
    width: 960px;
    padding: 10;
} 
```

这是一个现场[jsFiddle](http://jsfiddle.net/G26TD/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:55:33.780

添加

```
clear: both; 
```

到`#main`-Rule 以清除导航栏后的浮动。小提琴：http: [//jsfiddle.net/GGSk2/2/](http://jsfiddle.net/GGSk2/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T07:54:34.123

如果您认为问题出在 CSS 上，请尝试停用 css 并查看会发生什么。您可以通过逐个添加 css 来跟踪错误位。

我通常使用 Firefox 和[Firebug](http://getfirebug.com/)来帮助我找出这些问题。它允许您即时停用或修改 CSS 和 HTML。我认为 IE 和 safari 也允许它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T07:58:52.297

删除浮动：对；来自#navbar

```
#navbar {
    background: none;
    height:40px;/*40*/
    width:960px;

} 
```

[http://jsfiddle.net/G26TD/10/](http://jsfiddle.net/G26TD/10/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-14T08:02:12.747

我对 CSS 及其工作进行了更改

工作小提琴：http: [//jsfiddle.net/G26TD/11/](http://jsfiddle.net/G26TD/11/)

不要在 id 中使用 ID 来设置样式会减慢 CSS

这是一篇如何高效编写 css 的帖子：[https ://developer.mozilla.org/en/CSS/Writing_Efficient_CSS](https://developer.mozilla.org/en/CSS/Writing_Efficient_CSS)

# c# - 事件接收器的循环调用

> ID：11028834
> 
> 赞同：0
> 
> 时间：2012-06-14T07:48:15.747
> 
> 标签：c#, sharepoint, event-receiver

例如，我在列表 A 上有一个删除事件接收器。此外，我在列表 B 上还有其他删除事件接收器。两个接收器中都有一个删除方法，可以删除彼此的项目。因此，当列表 A 中的项目被删除时，列表 B 上的事件接收器也会上升以删除列表 A 中的项目。出现事件接收器的循环调用。

我怎样才能摆脱这种情况？在调用事件接收器的地方，我需要从列表 A 和列表 B 中删除项目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T10:46:41.697

您是否尝试禁用事件？

[http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.speventreceiverbase.eventfiringenabled.aspx](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.speventreceiverbase.eventfiringenabled.aspx)

所以你在开始时设置你的事件接收器代码

```
this.EventFiringEnabled = false;

// Do deletion of other item

this.EventFiringenabled = true; 
```

# git - 在现有的 SVN 存储库上使用 git

> ID：11028840
> 
> 赞同：16
> 
> 时间：2012-06-14T07:48:48.807
> 
> 标签：git, svn, git-svn

我使用旧版`svn`存储库。但是，我想享受`git`在我的本地机器上的好处。

*   第一个选项是`git init`我当前 repo 的根，编写代码，并在本地（`git commit`）和远程（`svn commit`）独立提交代码。
*   第二个选项是[`git-svn`](http://schacon.github.com/git/git-svn.html)，但我不知道是否值得学习新工具的细微差别。

我该怎么办？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-14T09:31:53.810

我会非常强烈地提倡`git-svn`. 我自己和我的一些同事尝试在 Subversion 之上使用 Git repro，这是一个由痛苦和恐惧组成的过程。

诚然，这是针对 Subversion 1.6.x 的；我怀疑使用 1.7.x 会更好，因为它只有一个`.svn`目录。

*   从存储库更新需要从 Subversion 拉取更新，然后使用 Git 提交它们。这是缓慢而乏味的（诚然，它相当慢`git-svn`，但至少可以使过程自动化）。

    另外，要么您最终使用 Subversion 下载每个提交并手动将其提交到 Git，要么您最终将大量 Subversion 提交提交到 Git 存储库，`$deity`如果您想在 Git 提交之间处理 Subversion 修订，则可以为您提供帮助。

*   Git 不能处理空目录，Subversion 需要它们作为`.svn`目录格式。这意味着您需要将存储库保留`.svn`在 Git 存储库之外，因此任何`git checkout`操作也需要单独的`svn up`.

*   正如您所注意到的，您需要单独提交所有内容。

因此，分别使用 Subversion 和 Git，您需要在 Git 和 Subversion 中执行几乎所有操作。这意味着一切都需要更长的时间，并且您会得到两个系统的所有缺点，而它们都可以很好地利用彼此的优势。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-14T07:51:57.387

使用 git-svn，真的很简单。首先克隆您的存储库，`git svn clone`然后您可以使用`git svn dcommit`您的工作或`git svn rebase`最新更改。通过始终将本地分支重新定位在 master 上，确保您的历史始终是线性的，以便您可以将它们与`git merge --ff-only`.

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-14T07:52:08.257

最好的方法是迁移到`git`并丢弃 SVN。

但是，如果这不是一个选项，请使用`git-svn`.

当单独提交到 git/svn 时，你很可能最终只很少提交到 SVN，这会导致其他开发人员最终提交大量文件。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-15T23:33:36.803

你可以试试[SubGit](http://subgit.com)项目。将 SubGit 安装到您的 SVN 存储库中；将为 SVN 存储库创建一个纯 Git 接口（真正的 Git，而不是 git-svn）。之后，您可以使用两种接口：SVN 或 Git 作为您的存储库。

如果您无权访问您的 SVN 服务器，还有另一个推荐选项：[SmartGit](http://www.syntevo.com/smartgit/index.html)客户端。它的行为类似于 git-svn，但提出了更多功能（标签、忽略、EOL 处理、cherry-picks）。

# asp.net - css 在我的 Masterpage 中没有效果

> ID：11028841
> 
> 赞同：0
> 
> 时间：2012-06-14T07:48:53.080
> 
> 标签：asp.net

我有一个母版页，我想将此母版页的一部分绑定到一个 *.css 文件，但没有成功。这是我的母版页代码：

```
<head runat="server" >
    <title></title>
    <link href="~/Styles/Test.css" rel="stylesheet" type="text/css" />
    <asp:ContentPlaceHolder ID="HeadContent" runat="server" > 
    </asp:ContentPlaceHolder>
</head>
<body>
<form runat=server>
<body>
   <table width=100% border=1>
    <tr width=100%>
      <td ></td>
      <div class=mainbody>
      <td width=80%  align=center>
       <asp:ContentPlaceHolder ID="MainContent" runat="server"></asp:ContentPlaceHolder>
      </td>
      </div>
      <td ></td>
    </tr>
   </table>
  </body>
</form>

</body> 
```

在我的css文件中，我有：

```
body
{

}
mainbody
{
  background-color:#a0ccff 
} 
```

盘绕，请告诉我，为什么它不起作用？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-14T07:51:17.040

类选择器应以点开头

```
.mainbody
{
  background-color:#a0ccff 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T09:30:52.570

看，您不能将 td 放在 DIV 元素中...更改您的代码

```
... <head runat="server" >
<title></title>
<link href="~/Styles/Test.css" rel="stylesheet" type="text/css" />
<asp:ContentPlaceHolder ID="HeadContent" runat="server" > 
</asp:ContentPlaceHolder>
</head>
<body>
<form runat=server>
<body>
   <table width=100% border=1>
<tr width=100%>
  <td ></td>
  <div class=mainbody>
  <td width=80%  align=center>
   <asp:ContentPlaceHolder ID="MainContent" runat="server"></asp:ContentPlaceHolder>
  </td>
  </div>
  <td ></td>
    </tr>
   </table>
  </body>
</form>

</body>
 ... 
```

至

```
<head runat="server" > <title></title>
        <link href="~/Styles/Test.css" rel="stylesheet" type="text/css" />
        <asp:ContentPlaceHolder ID="HeadContent" runat="server" > 
        </asp:ContentPlaceHolder>
           </head>
            <body>
        <form runat=server>

       <table width=100% border=1>
        <tr width=100%>
          <td ></td>
          <td width=80%  align=center>
          <div class=mainbody>
       <asp:ContentPlaceHolder ID="MainContent" runat="server">        </asp:ContentPlaceHolder>
      </div>
      </td>
          <td ></td>
        </tr>
       </table>

     </form>      </body> 
```

然后它将按您的意愿工作（我建议您复制我的代码并将其粘贴到您的 SIte.Master 文件中）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T08:05:59.797

尝试：

```
<link href="/Styles/Test.css" ...> 
```

代替 ：

```
<link href="~/Styles/Test.css" ...> 
```

# android - NDK：libm 静态链接

> ID：11028844
> 
> 赞同：8
> 
> 时间：2012-06-14T07:49:00.887
> 
> 标签：android, static, x86, android-ndk, libm

我在尝试使用最近的 android-9 x86 平台编译源时遇到问题。

主要问题：为什么静态库**libm.a**和动态**libm.so**不同？

问题是我尝试编译：

> /path/to/android-ndk-r8/toolchains/x86-4.4.3/prebuilt/linux-x86/bin/i686-android-linux-gcc --sysroot=/path/to/android-ndk-r8/platforms /android-9/arch-x86 -I/path/to/android-ndk-r8/sources/cxx-stl/gnu-libstdc++/include -I/path/to/android-ndk-r8/sources/cxx-stl /gnu-libstdc++/libs/x86/include -L/path/to/android-ndk-r8/sources/cxx-stl/gnu-libstdc++/lib -L/path/to/android-ndk-r8/platforms/android -9/arch-x86/usr/lib **-static** /path/to/gcc_4_4_6_release/gcc/testsuite/gcc.dg/complex-5.c -std=c99 -O -ffloat-store -o ./complex-5。 exe-lm

但我有未定义的参考：

> /tmp/cc78CsCp.o: 在函数`main': complex-5.c:(.text+0x1a2): undefined reference to`feclearexcept' complex-5.c:(.text+0x1b3): undefined reference to `fetestexcept' collect2: ld 返回 1 exit status
> 
> 密码：/path/to/android-ndk-r8/platforms/android-9/arch-x86/usr/lib
> 
> ls libm* libm.a libm.so

它存在，但如果我们用 nm 查找*feclearexcept*，它不存在于静态库中。

好的，只需尝试删除 -static 标志。

> /path/to/android-ndk-r8/toolchains/x86-4.4.3/prebuilt/linux-x86/bin/i686-android-linux-gcc --sysroot=/path/to/android-ndk-r8/platforms /android-9/arch-x86 -I/path/to/android-ndk-r8/sources/cxx-stl/gnu-libstdc++/include -I/path/to/android-ndk-r8/sources/cxx-stl /gnu-libstdc++/libs/x86/include -L/path/to/android-ndk-r8/sources/cxx-stl/gnu-libstdc++/lib -L/path/to/android-ndk-r8/platforms/android -9/arch-x86/usr/lib /path/to/gcc_4_4_6_release/gcc/testsuite/gcc.dg/complex-5.c -std=c99 -O -ffloat-store -o ./complex-5.exe -流明

好的。问题是：为什么它们不同？我需要静态链接，我不想强​​制使用*-Wl,-Bdynamic -lm*的动态链接。顺便说一句：常规的 linux libm.a 和 libm.so 包含类似的函数列表。

# protobuf-net - protobuf-net 中日期时间的 .proto 消息是什么

> ID：11028846
> 
> 赞同：6
> 
> 时间：2012-06-14T07:49:03.113
> 
> 标签：protobuf-net

我正在尝试编写一些代码，这些代码将从 protobuf-net (V2) 运行时类型模型生成准确的 .proto 文件，因此我可以编写一个能够反序列化 protobuf-net 生成的消息的 python 客户端。

不过，我对日期时间的消息应该是什么样子有点困惑，有人可以对此有所了解吗？

谢谢 <3

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-14T08:28:23.483

核心 protobuf 规范没有用于处理日期/时间的内置机制。

如果您在平台之间工作，那么坦率地说，我建议以更简单的方式公开它，例如`long`（unix time，或类似的）。protobuf-net 使用了一些更细粒度的布局，以利用许多 datetime 值是纯日期等事实。项目站点上有*一个*BCL.proto，但我现在似乎找不到它。 ..这很奇怪（我会调查）。但是：如果选项可用：只需以更简单的方式公开数据。

# javascript - 贴在墙上的 Flash (FB.ui js SDK)，在 IE7/8 和 Opera 中不起作用

> ID：11028848
> 
> 赞同：0
> 
> 时间：2012-06-14T07:49:20.897
> 
> 标签：javascript, facebook, flash, internet-explorer, opera

这是我使用 FB.ui 将 Flash 应用程序发布到 facebook 用户的墙上的基本内容。更准确地说，允许用户将 Flash 应用程序发布到他/她选择的朋友的墙上。

Flash 已发布并在 Chrome、FF、Safari 和带有 http 的 IE9 中正常工作......但对于 https 它在 FF 中不起作用。

问题当然是我必须让它在所有主要浏览器和 https 上都能工作。

在代码中，您可以看到我正在使用 https 协议发布 flash 应用程序，这是因为这是我让它在 facebook 安全浏览下工作的方式，所有其他链接都使用 http 协议。

strFlashVars 包含一些数字、字符串和图像的部分 url

这是代码（简化）：

```
FB.ui({
    method: 'stream.publish',
    to: strUserIdOfSelectedFriend,
    attachment: {
       name: strName,
       caption: strCaption,
       description: strDescription,
       href: strURLOfThePageThatHasTheMetaData,
       media: [{
           type: 'flash',
           swfsrc: 'https://mysite.com/flashSrc.swf?' + strFlashVars,
           imgsrc: strLinkToImage
       }]
    },
    actions: {
         name: 'Share',
         link: 'http://www.facebook.com/share.php?u=' + encodeURIComponent(strURLOfThePageThatHasTheMetaData)
    }
}, function(response){doSometing(response);}); 
```

这些是我在嵌入了 Flash 的页面上使用的元标记：

```
<meta property="fb:app_id"       content="${strFacebookAppId}" />
<meta property="og:title"        content="${strPostTitle}" />
<meta property="og:description"  content="${strDescription}" />
<meta property="og:type"         content="video" /> 
<meta property="og:image"        content="http:${strImgLink}" />

<meta property="og:video"           content="http:${strFlashUrlSource}?${strFlashVars}"/>
<meta property="og:video:secure_url"    content="https:${strFlashUrlSource}?${strFlashVars}"/>
<meta property="og:video:type"          content="application/x-shockwave-flash" />
<meta property="og:video:width"         content="398" />
<meta property="og:video:height"        content="210" />
<meta property="og:site_name"           content="${strPageTitle}" /> 
```

现在上面的问题是flash应用程序根本无法在IE7、IE8和Opera中加载（图片和播放按钮都在那里，但点击时它只会伸展开来，仅此而已）而且它当我使用带有安全浏览功能的 FB 时，将无法在 FF 中工作。

我还尝试了以下代码（简化）：

```
FB.ui({
    method: 'feed',
    to: strUserIdOfSelectedFriend,
    link: strURLOfThePageThatHasTheMetaData,
    actions: {
         name: 'Share',
         link: 'http://www.facebook.com/share.php?u=' + encodeURIComponent(strURLOfThePageThatHasTheMetaData)
    }
}, function(response){doSometing(response);}); 
```

这样我让FB从链接（http）收集所需的数据，它在IE7和IE8中工作......但它不适用于任何浏览器上的https......之后我尝试将链接的协议切换到https 但我收到了相同的结果。

我欢迎任何建议，并会尽快回答任何问题。

PS我也试过

```
FB.ui({
        method: 'feed',
        to: strUserIdOfSelectedFriend,
        link: strURLOfThePageThatHasTheMetaData,
        name: strName,
        caption: strCaption,
        description: strDescription,
        source: 'https://mysite.com/flashSrc.swf?' + strFlashVars,
        picture: strLinkToImage,
        actions: {
             name: 'Share',
             link: 'http://www.facebook.com/share.php?u=' + encodeURIComponent(strURLOfThePageThatHasTheMetaData)
        }
    }, function(response){doSometing(response);}); 
```

但是这样就没有图片或播放按钮......我发现一个文档告诉我这样做，另一个告诉我如果我同时使用源和图片，图片将被忽略。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T12:30:13.190

所以问题是经过数小时的困惑后才出现的。如果您拥有 IE9、Chrome 和 Safari 接受的 SSL 证书，则并不意味着其他浏览器会接受它。所以基本上证书导致了问题。

我发现有趣的是，尽管 FF 不接受它仍然能够在 http 中工作的证书。

# java - JUnit，比较对象

> ID：11028854
> 
> 赞同：1
> 
> 时间：2012-06-14T07:49:51.223
> 
> 标签：java, regex, unit-testing, testing, junit

我正在学习 JUnit，我知道 assertEquals() 调用 equals() 方法来比较对象......那么为什么下面比较两个正则表达式模式对象的测试没有通过？

```
@Test
public void testTwoCompiledPattern()
{   
    assertEquals(Pattern.compile("test"), Pattern.compile("test"));
} 
```

这个通过了：

```
@Test
public void testTwoCompiledPattern()
{   
    assertEquals(Pattern.compile("test").toString(), Pattern.compile("test").toString());
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-14T07:54:05.347

这是因为当您调用 toString() 方法时，两者都返回“test”字符串，因为 Pattern 类覆盖了它。但是如果你只比较 Pattern 对象，它们是 2 个不同的对象，因此一个不等于另一个，即使它们具有相同的状态。

equals 方法检查引用是否相等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T07:57:08.560

.equals 的 Pattern 对象检查两者是否引用同一个对象。

但是 String.equals 方法检查两个字符串是否相同（不是对象引用比较）

即为什么第二个通过了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T08:24:28.373

该`equals()`方法比较两个对象的哈希码。在前一种情况下，有两个不同的对象具有不同的哈希码，因此测试失败。在后一种情况下，有两个字符串“test”，它们将具有相同的哈希码，因此测试通过。

<param name="movie" value="http://asdfasdf"> <param name="onError" value="errorEncountered()">  <param name="allowScriptAccess" value="always"> <param name="enablejsapi" value="1">

Couldn't load the video Replacing the erroneous URL with the actual YouTube URL plays the video. But erroneous URL should trigger the JavaScript functions, that's not happening. I have checked the documentation of and the corresponding events. The tag docs says that the events it responds to does not has onerror or onload. But on the other hand, the onerror event object docs state that it is supported by , ,  

[http://player.vimeo.com/video/28723846?color=ffffff](http://player.vimeo.com/video/28723846?color=ffffff)

 This though it plays the video properly, it dows not get error callbacks for Youtube links atleast! Is it is mandatory to store both entities data when storing in core data? I am creating a Core Data application where: category entity has the following attributes catid:int catname:string randomrelation:to-many rel to brandom entity brandom is another entity having attributes cid:category entity no:int arr:int My code is the following category *c=[NSEntityDescription insertNewObjectForEntityForName:@"category" inManagedObjectContext:context]; for (int i=0; i<[arrayofnumbers count]; i++) { brandom *r=[NSEntityDescription insertNewObjectForEntityForName:@"brandom" inManagedObjectContext:context]; c.catid=[NSNumber numberWithInt:i]; r.cid=c; r.no=[NSNumber numberWithInt:i+1]; int objectatindex=[[arrayofnumbers objectAtIndex:i] intValue]; NSLog(@"object at index:%i",objectatindex); r.arr=[NSNumber numberWithInt:objectatindex]; [set addObject:r]; } c.randomrelation=r; NSLog(@"set element count=%i",[set count]); if (![context save:&error]) { NSLog(@"%@",[error localizedDescription]); } javascriptiphonehtmlioscocoa-touch 4 2 回答 2 This answer is useful 1 使用新的嵌入代码：

[http://www.youtube.com/embed/dQw4w9WgXcQ](http://www.youtube.com/embed/dQw4w9WgXcQ)

YouTube 将检测用户正在使用的平台并提供适当的代码，即适用于桌面用户的 Flash、适用于 iOS 等的代码。 您可以通过单击“共享”按钮，然后单击“嵌入”按钮来找到此嵌入代码（在任何 YouTube 视频页面中）。 更新：您不会找到可以在 iOS 设备上播放来自任何提供商的任何视频的通用解决方案。提供者必须专门对视频进行编码，以便可以由Safari 中的元素播放。 我建议： 查找您支持的每个视频网站的嵌入代码（不是 FLV 源 URL，即该网站提供给用户的嵌入代码）。 如果该站点使用，那么它们可能支持在 iOS 上播放。逐字使用此代码。 如果该站点使用 Flash 播放器，请使用SWFObject来嵌入视频而不是其<embed>代码。如果 SWFObject 检测到浏览器不支持 Flash，它可以显示一些替代内容（例如“抱歉，您需要 Flash 才能观看此视频”之类的消息）。 使用一个巨大的switch声明： switch (videoType): case 'YouTube': // use YouTube iframe code break; case 'Vimeo': // use Vimeo iframe code break; // ...on and on... default: // use SWFObject to embed } 于 2012-06-20T04:38:02.540 回答 This answer is useful 1 您正在定义type="application/x-shockwave-flash"，object tag但您在哪里定义iOS. 如果您尝试iOS专门针对目标，那么为什么不使用video标签。http://websitehelpers.com/video/html.html中提供的文档将帮助您在其中播放视频iOS因为iOS您需要定义video tag否则它无法理解，或者您可以使用任何一个flowplayer具有后备支持的Flash 播放器iOS. 您可以参考http://flash.flowplayer.org/plugins/javascript/ipad.html中的文档。尝试让我知道这是否可以解决您的问题 更新 ： 试试下面的。这desktop在ipad. J_DV9b0x7v4是您要播放的视频。检查来自http://jsfiddle.net/AAUgG/的演示iOS。这应该可以解决您想要的目的。 于 2012-06-14T12:09:47.480 回答 Related 3 ios - 在 iPad 应用程序中禁用 UIImageView 的手势识别器 2 map - Google 地球专业版替代品 1 session - Coldfusion 10：在url中传递时jessionid不起作用 1 eclipse - Google App Engine 上的 NoClassDefFoundError 1 python - 我正在为 python 应用程序编写插件，发现我无法加载任何外部库 3 php - mysql_fetch_array() boolean 给定无法找到错误 2 php - 需要修改 Wordpress 主页模板以包含编辑器字段的忽略内容 5 javascript - 从字符串块中删除行的jQuery问题 1 ruby-on-rails - 如何将我的 assets/javascripts/ 中另一个目录中的 js 添加到 assets.precompile？ 1 delphi - Shelltreeview从节点获取路径 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641 <link href="../Styles/Style.css" type="text/css" rel="stylesheet">

# javascript - 或者 tag video playback error handler - JavaScript Am trying to play YouTube and other videos by embedding it in the HTML source for displaying them in iOS. Both <embed> and 问问题 问问题 2012-06-14T07:50:39.163 5877 次 This question shows research effort; it is useful and clear 3 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. Am trying to play YouTube and other videos by embedding it in the HTML source for displaying them in iOS. Both <embed> and technique works, but none of them are capable of calling callback functions when the video fails to play or if the URL passed to it is erroneous (and hence it could not play it). I am using this HTML code with JavaScript for appropriate callbacks: <title>video test</title>  <param name="movie" value="http://asdfasdf"> <param name="onError" value="errorEncountered()">  <param name="allowScriptAccess" value="always"> <param name="enablejsapi" value="1">

Couldn't load the video Replacing the erroneous URL with the actual YouTube URL plays the video. But erroneous URL should trigger the JavaScript functions, that's not happening. I have checked the documentation of and the corresponding events. The tag docs says that the events it responds to does not has onerror or onload. But on the other hand, the onerror event object docs state that it is supported by , ,  

[http://player.vimeo.com/video/28723846?color=ffffff](http://player.vimeo.com/video/28723846?color=ffffff)

 This though it plays the video properly, it dows not get error callbacks for Youtube links atleast! Is it is mandatory to store both entities data when storing in core data? I am creating a Core Data application where: category entity has the following attributes catid:int catname:string randomrelation:to-many rel to brandom entity brandom is another entity having attributes cid:category entity no:int arr:int My code is the following category *c=[NSEntityDescription insertNewObjectForEntityForName:@"category" inManagedObjectContext:context]; for (int i=0; i<[arrayofnumbers count]; i++) { brandom *r=[NSEntityDescription insertNewObjectForEntityForName:@"brandom" inManagedObjectContext:context]; c.catid=[NSNumber numberWithInt:i]; r.cid=c; r.no=[NSNumber numberWithInt:i+1]; int objectatindex=[[arrayofnumbers objectAtIndex:i] intValue]; NSLog(@"object at index:%i",objectatindex); r.arr=[NSNumber numberWithInt:objectatindex]; [set addObject:r]; } c.randomrelation=r; NSLog(@"set element count=%i",[set count]); if (![context save:&error]) { NSLog(@"%@",[error localizedDescription]); } javascriptiphonehtmlioscocoa-touch 4 2 回答 2 This answer is useful 1 使用新的嵌入代码：

[http://www.youtube.com/embed/dQw4w9WgXcQ](http://www.youtube.com/embed/dQw4w9WgXcQ)

YouTube 将检测用户正在使用的平台并提供适当的代码，即适用于桌面用户的 Flash、适用于 iOS 等的代码。 您可以通过单击“共享”按钮，然后单击“嵌入”按钮来找到此嵌入代码（在任何 YouTube 视频页面中）。 更新：您不会找到可以在 iOS 设备上播放来自任何提供商的任何视频的通用解决方案。提供者必须专门对视频进行编码，以便可以由Safari 中的元素播放。 我建议： 查找您支持的每个视频网站的嵌入代码（不是 FLV 源 URL，即该网站提供给用户的嵌入代码）。 如果该站点使用，那么它们可能支持在 iOS 上播放。逐字使用此代码。 如果该站点使用 Flash 播放器，请使用SWFObject来嵌入视频而不是其<embed>代码。如果 SWFObject 检测到浏览器不支持 Flash，它可以显示一些替代内容（例如“抱歉，您需要 Flash 才能观看此视频”之类的消息）。 使用一个巨大的switch声明： switch (videoType): case 'YouTube': // use YouTube iframe code break; case 'Vimeo': // use Vimeo iframe code break; // ...on and on... default: // use SWFObject to embed } 于 2012-06-20T04:38:02.540 回答 This answer is useful 1 您正在定义type="application/x-shockwave-flash"，object tag但您在哪里定义iOS. 如果您尝试iOS专门针对目标，那么为什么不使用video标签。http://websitehelpers.com/video/html.html中提供的文档将帮助您在其中播放视频iOS因为iOS您需要定义video tag否则它无法理解，或者您可以使用任何一个flowplayer具有后备支持的Flash 播放器iOS. 您可以参考http://flash.flowplayer.org/plugins/javascript/ipad.html中的文档。尝试让我知道这是否可以解决您的问题 更新 ： 试试下面的。这desktop在ipad. J_DV9b0x7v4是您要播放的视频。检查来自http://jsfiddle.net/AAUgG/的演示iOS。这应该可以解决您想要的目的。 于 2012-06-14T12:09:47.480 回答 Related 3 ios - 在 iPad 应用程序中禁用 UIImageView 的手势识别器 2 map - Google 地球专业版替代品 1 session - Coldfusion 10：在url中传递时jessionid不起作用 1 eclipse - Google App Engine 上的 NoClassDefFoundError 1 python - 我正在为 python 应用程序编写插件，发现我无法加载任何外部库 3 php - mysql_fetch_array() boolean 给定无法找到错误 2 php - 需要修改 Wordpress 主页模板以包含编辑器字段的忽略内容 5 javascript - 从字符串块中删除行的jQuery问题 1 ruby-on-rails - 如何将我的 assets/javascripts/ 中另一个目录中的 js 添加到 assets.precompile？ 1 delphi - Shelltreeview从节点获取路径 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：11028861
> 
> 赞同：3
> 
> 时间：
> 
> 标签：javascript, iphone, html, ios, cocoa-touch

Am trying to play YouTube and other videos by embedding it in the HTML source for displaying them in iOS.

Both `<embed>` and `<object>` technique works, but **none of them are capable of calling callback functions when the video fails to play or if the URL passed to it is erroneous** (and hence it could not play it).

I am using this HTML code with JavaScript for appropriate callbacks:

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>video test</title>
<script type="text/javascript">
function errorEncountered()
{
    alert('Found error');
}
function loadingCompleted()
{
    alert("loading completed");
    //document.getElementById('youtubeObject').onerror="errorEncountered()";
    //alert(document.getElementById('youtubeObject'));
}
function clickCompleted()
{
    alert("Clicked on embedded object");
}
</script>
</head>
<body >
<div>
  <object
    id="youtubeObject"
    type="application/x-shockwave-flash"
    data="http://asdfasdf"
    width="643"
    height="400"
    onload="loadingCompleted()"
    onerror="errorEncountered()"
    onclick="clickCompleted()">
    <param name="movie" value="http://asdfasdf" />
    <param name="onError" value="errorEncountered()" />
    <!-- <param name="onload" value="loadingCompleted()" /> -->
    <param name="allowScriptAccess" value="always" />
    <param name="enablejsapi" value = "1" />
    <p>
    Couldn't load the video
    </p>
  </object>
</div>

<!-- document.getElementById('youtubeObject').onerror="errorEncountered()"; -->
<!-- document.getElementById('youtubeObject').addEventListener('onerror',function(){alert('error playing video')},true); -->

</body>
</html>

<!-- Actual Youtube URL "http://www.youtube.com/v/J_DV9b0x7v4" --> 
```

Replacing the erroneous URL with the actual YouTube URL plays the video. But erroneous URL should trigger the JavaScript functions, that's not happening.

I have checked the [documentation of `<object>`](http://www.w3schools.com/tags/tag_object.asp) and the [corresponding events](http://wap.w3schools.com/jsref/dom_obj_event.asp). The [`<object>`](http://www.w3schools.com/tags/tag_object.asp) tag docs says that the events it responds to does not has [onerror](http://wap.w3schools.com/jsref/event_onerror.asp) or [onload](http://wap.w3schools.com/jsref/event_onload.asp). But on the other hand, the [onerror event object](http://wap.w3schools.com/jsref/event_onerror.asp) docs state that it is supported by `<img>`, `<object>`, `<script>` & `<style>` tags.

So, I tried plugging in "onerror" event with both passing it as a `<param>` to the `<object>` tag so that the plugin would handle it and alternatively, also tried it as a attribute of `<object>` tag (just trying my luck). The "onclick" attribute of object does respond but not the "onerror" and "onload".

Though my question is, why doesn't the `<param>` passed to the plugin with onerror and onload would not trigger when a erroneous URL is passed to it?

I tried with [embed tag](http://www.w3schools.com/tags/tag_embed.asp), but there is no scope of attaching onerror and onload handlers using [embed](http://www.w3schools.com/tags/tag_embed.asp) tag.

Is there a way to trigger JavaScript functions from within HTML (using embed or object technique) whenever video loading / playing fails?

PS: I have stumbled upon some links discussing this issue, but none of them end up with a solution, that's why I started this new question, and I am doing this for a iOS-specific case.

[Detect <embed> tag failing to load video](https://stackoverflow.com/questions/9490529/detect-embed-tag-failing-to-load-video)

[http://www.webdeveloper.com/forum/showthread.php?t=590](http://www.webdeveloper.com/forum/showthread.php?t=590)

Thanks for any suggestions & help.

**Additions:** The alternative content loading in the tags between `<object>` & `</object>` will display the content in iPad simulator, but not on the device itself. Even this is one of the puzzles I am finding hard to crack.

PS: I had already tried the method, for youtube specific I have tried adding the onError callback, but it never triggers! Have used the normal youtube specified way where we can plug in onError callback for youtube: [https://developers.google.com/youtube/iframe_api_reference#Loading_a_Video_Player](https://developers.google.com/youtube/iframe_api_reference#Loading_a_Video_Player)

Problem with the above is, we have to create a `YT.Player`and set the videoID to the object. This would make it impossible to play videos from other sources. So used a slightly unconventional way:

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>video test</title>
<script type="text/javascript">
function errorEncountered(event)
{
    alert('Found error');
}
function errorFound()
{
    alert('Found error');
}
</script>
<script type='text/javascript' src='http://www.sandeshkadur.com/wp-content/themes/Gaia/js/video.js?ver=1.0'></script>

</head>
<body id="mainBody">
<iframe id = "youtube_vid" src="http://player.vimeo.com/video/28723846?color=ffffff" frameborder="0" width="640" height="360"></iframe>

<!-- From https://groups.google.com/forum/#!msg/youtube-api-gdata/myLe-SdMZ6w/tziw7W2LBv4J -->
<!-- <iframe  id="youtube_vid" src="asdfasdf"></iframe> -->
<script>
var player = document.getElementById("youtube_vid");
new YT.Player(player, {
            events: {
                'onStateChange': function(){console.log(arguments)},
                'onError': errorEncountered
            }
        });
</script>
</body>
</html> 
```

This though it plays the video properly, it dows not get error callbacks for Youtube links atleast!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T04:38:02.540

使用新的`<iframe>`嵌入代码：

```
<iframe width="420" height="315" src="http://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe> 
```

YouTube 将检测用户正在使用的平台并提供适当的代码，即适用于桌面用户的 Flash、`<video>`适用于 iOS 等的代码。

您可以通过单击“共享”按钮，然后单击“嵌入”按钮来找到此嵌入代码（在任何 YouTube 视频页面中）。

* * *

**更新：**您**不会**找到可以在 iOS 设备上播放来自任何提供商的任何视频的通用解决方案。提供者必须专门对视频进行编码，以便可以由`<video>`Safari 中的元素播放。

我建议：

*   查找您支持的每个视频网站的嵌入代码（不是 FLV 源 URL，即该网站提供给用户的嵌入代码）。

*   如果该站点使用`<iframe>`，那么它们可能支持在 iOS 上播放。逐字使用此代码。

*   如果该站点使用 Flash 播放器，请使用[SWFObject](https://code.google.com/p/swfobject/)来嵌入视频而不是其`<embed>`代码。如果 SWFObject 检测到浏览器不支持 Flash，它可以显示一些替代内容（例如“抱歉，您需要 Flash 才能观看此视频”之类的消息）。

*   使用一个巨大的`switch`声明：

    ```
    switch (videoType):
    case 'YouTube':
        // use YouTube iframe code
        break;

    case 'Vimeo':
        // use Vimeo iframe code
        break;

    // ...on and on...

    default:
        // use SWFObject to embed
    } 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T12:09:47.480

您正在定义`type="application/x-shockwave-flash"`，`object tag`但您在哪里定义`iOS`. 如果您尝试`iOS`专门针对目标，那么为什么不使用`video`标签。[http://websitehelpers.com/video/html.html](http://websitehelpers.com/video/html.html)中提供的文档将帮助您在其中播放视频`iOS`因为`iOS`您需要定义`video tag`否则它无法理解，或者您可以使用任何一个`flowplayer`具有后备支持的Flash 播放器`iOS`. 您可以参考[http://flash.flowplayer.org/plugins/javascript/ipad.html](http://flash.flowplayer.org/plugins/javascript/ipad.html)中的文档。尝试让我知道这是否可以解决您的问题

**更新 ：**

试试下面的`<iframe id="frame" title="Youtube Video" width="320" height="194" scrolling="no" src='http://www.youtube.com/embed/J_DV9b0x7v4' frameborder="1"></iframe>`。这`desktop`在`ipad`. `J_DV9b0x7v4`是您要播放的视频。[检查来自http://jsfiddle.net/AAUgG/](http://jsfiddle.net/AAUgG/)的演示`iOS`。这应该可以解决您想要的目的。

# ios - 存储核心数据时是否必须存储两个实体数据？

> ID：11028862
> 
> 赞同：2
> 
> 时间：2012-06-14T07:50:39.727
> 
> 标签：ios, xcode, cocoa-touch, core-data

我正在创建一个核心数据应用程序，其中：

`category`实体具有以下属性

> **猫**：int
> 
> **猫名**：字符串
> 
> **randomrelation** :to-many rel 到随机实体

`brandom`是另一个具有属性的实体

> **cid**：类别实体
> 
> **没有**：int
> 
> **arr** :int

我的代码如下

```
category *c=[NSEntityDescription insertNewObjectForEntityForName:@"category" inManagedObjectContext:context];

for (int i=0; i<[arrayofnumbers count]; i++) {

    brandom *r=[NSEntityDescription insertNewObjectForEntityForName:@"brandom" inManagedObjectContext:context];
    c.catid=[NSNumber numberWithInt:i];
    r.cid=c;
    r.no=[NSNumber numberWithInt:i+1];
    int objectatindex=[[arrayofnumbers objectAtIndex:i] intValue];
    NSLog(@"object at index:%i",objectatindex);
    r.arr=[NSNumber numberWithInt:objectatindex];
    [set addObject:r];
}

c.randomrelation=r;
NSLog(@"set element count=%i",[set count]);
if (![context save:&error]) {
    NSLog(@"%@",[error localizedDescription]);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T09:35:31.267

我不太确定我是否理解你的问题。

关于您的标题问题，如果您询问是否必须为与关系链接的不同实体存储数据，答案是它**取决于**。

如果属性（关系）已被声明为可选 (1)，则您可以在应用程序生命周期的不同时间执行此操作，或者如果您声明为非可选 (2)，则必须同时设置它们。

因此，如果在第一种情况 (1) 中可以设置您创建`category`实体并`randomrelation`在不同时间设置其关系。在第二个 (2) 中，您需要同时设置两者，因为 Core Data 会给出一致性错误。

**关于您的模型的一些注释。**

首先调用类名之类的实体，例如`Category`代替`category`，并采用驼峰式表示法。

其次，创建从`Brandom`到的反向关系`Category`。Inverse rels 允许您保持图形的一致性。在您的模型`Category`中有一个 to-many rel`Brandom`声明为**Optional**并且`Brandom`有一个反向和**非 Optional** rel （一对一） to `Category`。这允许您创建一个`Category`具有零个或多个`Brandom` **但**a没有 a`Brandom`就无法“生存”的`Category`.

希望有帮助。

# jquery - 保持回发后打开jquery对话框

> ID：11028865
> 
> 赞同：0
> 
> 时间：2012-06-14T07:51:39.090
> 
> 标签：jquery, asp.net, dialog

我是 jquery 的初学者。

我有一个 ASP.net 页面，其中包含：

包含用户控件的对话框，用户控件在隐藏字段上回发

在这个回发中，对话框会自动关闭，但是我需要保持对话框以相同的状态打开

任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T07:57:12.280

好吧，我不了解 ASP，但我告诉你这背后的逻辑，

只需在 url 中设置一个额外的参数，例如`domain.com/index.php?dialog=y`

检查打开您的对话框以检查此参数，我向您展示这样的 php ..

```
<?php if(isset($_GET['dialog']) && $_GET['dialog'] == 'y') { ?>
// your jquery dialog here to open on page load
<?php } ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:05:48.923

在 .NET 中，您可以使用`ClientScript.RegisterClientScriptBlock`. [在这里阅读它](http://msdn.microsoft.com/en-us/library/bahh2fef.aspx)
这允许您将一些 javascript 输出到页面，因此在您的页面具有回发之后，您可以调用它来输出 javascript，从而打开对话框备份。

例如

```
ClientScript.RegisterClientScriptBlock(this.Page.GetType(), "js", "openDialog();", true); 
```

或者，我所做的只是在页面上创建一个公共字符串变量

```
public string _JS; 
```

然后在您的 .aspx 页面上，您可以在脚本标签中添加它。

```
<script>
    $(function() { <%=(this._JS)%> });
</script> 
```

我在示例中使用了 jQuery，但是当页面加载时，您放入的任何内容`_JS`都会运行。

```
_JS = "alert('hello world');"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T08:12:10.497

将此代码写入该页面上的脚本标记中。

```
$(document).ready(function() {
      //write code to show popup

});
var prm = Sys.WebForms.PageRequestManager.getInstance();
prm.add_endRequest(function() {
   //write code to show popup
}; 
```

它会帮助你。

# php - PHP - 时间和文件时间问题

> ID：11028869
> 
> 赞同：1
> 
> 时间：2012-06-14T07:51:54.543
> 
> 标签：php

我试图在 PHP 中获取当前时间和 filemtime 之间的差异。

time 和 filemtime 似乎返回正确的值，因为当应用于 date 函数时，这些值打印正确的日期。根据 date 函数，time() 函数和 filemtime 之间的差异是 1 小时。但是，当我尝试获取返回的时间戳值之间的差异时，差异为 215。例如，见下文：

当前时间 = 1339599628，date() 函数显示 13-06-2012 16:06:28 00 文件修改时间 = 1339599413，date() 函数显示 13-06-2012 15:06:30 30

这似乎是正确的，但我看不出如何检查这些日期之间的秒数差异，因为 1 小时有 3600 秒，但差异只有 215。

此外，我尝试了以下时间戳值：1339599599 = 13-06-2012 15:06:59 59 1339599600 = 13-06-2012 16:06:00 00

因此，第一个时间戳值增加了 1，但日期相差 1 小时。

有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T08:16:14.957

您似乎对时区差异有疑问。尝试查看[gmdate](http://php.net/manual/en/function.gmdate.php)函数。

或者更好的是，在获得这些时间戳之前，调用`date_default_timezone_set('UTC')`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-19T20:17:24.390

我遇到了同样的问题，在我的情况下 time() 和 filemtime() 之间的时间差是 51 秒。我不知道是什么原因造成的，但我确实找到了解决方法。创建文件时，我使用`touch($file, time())`. 现在，创建文件的创建时间设置为与 time()“同步”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T08:14:23.623

我不太明白你的问题...... time 和 filemtime 都返回时间戳。

最大一个 - 最小一个 = 差异（以秒为单位）。它不应该有更多的东西。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-22T11:24:11.823

**我最近也遇到了同样的问题，检查系统端后发现系统时间**和**stat**命令提供的显示上次修改时间的时间有差异。

```
-bash$ date;touch test;stat test;date
Sat Aug 22 08:06:35 BRT 2015
  File: `test'
  Size: 0               Blocks: 1          IO Block: 32768  regular empty file
Device: 13h/19d Inode: 25189989    Links: 1
Access: (0664/-rw-rw-r--)  Uid: (/)   Gid: (/)
Access: 2015-08-22 08:07:29.968227010 -0300
Modify: 2015-08-22 08:07:29.968227064 -0300
Change: 2015-08-22 08:07:29.968238305 -0300
Sat Aug 22 08:06:35 BRT 2015 
```

在我的情况下，差异是 53 秒。

我测试的其他机器没有显示出这种差异。

在主机上测试。

# jquery - 具有淡入淡出效果的菜单悬停

> ID：11028874
> 
> 赞同：0
> 
> 时间：2012-06-14T07:52:03.880
> 
> 标签：jquery, hover, fade, jquery-hover

我有这个菜单结构：

[http://jsfiddle.net/Rochefort/szL2C/](http://jsfiddle.net/Rochefort/szL2C/)

一切都好。但我想要，悬停效果通过 jQuery 淡化。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:04:49.793

您可以使用带有过渡的 css3 来实现这一点，如下所示：

```
.menu-item
{
    // In the transition you define the property that 
    // you want a transition attached to and the duration
    transition: background .5s;
    -moz-transition: background .5s; /* Firefox 4 */
    -webkit-transition: background .5s; /* Safari and Chrome */
    -o-transition: background .5s; /* Opera */
}

.menu-item:hover
{
    background: #CCC; // Or whatever color you choose
} 
```

来源：[http ://www.w3schools.com/css3/css3_transitions.asp](http://www.w3schools.com/css3/css3_transitions.asp)

**编辑**

您的问题的 jQuery 解决方案是：

```
$(document).ready(function(){
    $('#right_menu li').hover(function() {
        $(this).animate({ backgroundColor: "#002C6A" }, 'fast');
    },
    function() {
        $(this).animate({ backgroundColor: "#ffffff" }, 'fast');
    });
}); 
```

但是，您确实需要包含在[这里](http://www.bitstorm.org/jquery/color-animation/)找到的 jQuery 颜色库。而且您还需要删除您在 css 中设置的 :hover 背景颜色。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:09:58.323

您只需要几行代码和[jquery 颜色动画插件](http://plugins.jquery.com/project/color)：

```
$('.links yan-menu li a ').hover(function() {
    $(this).animate({ backgroundColor: "#002C6A" }, 'fast');
},
function() {
    $(this).animate({ backgroundColor: "#ffffff" }, 'fast');
}); 
```

当然，您必须删除 css 代码并将代码正确添加到页面

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-28T09:40:53.807

正如严坤所说，您必须包含 jquery 颜色动画库： http: [//www.bitstorm.org/jquery/color-animation/jquery.animate-colors-min.js](http://www.bitstorm.org/jquery/color-animation/jquery.animate-colors-min.js)

我改进了代码插入。`stop()`句子，以避免鼠标经过多次时出现循环。

```
$('.links yan-menu li a ').hover(function() {
    $(this).stop();
    $(this).animate({ backgroundColor: "#002C6A" }, 'fast');
},
function() {
    $(this).stop();
    $(this).animate({ backgroundColor: "#ffffff" }, 'fast');
}); 
```

# javascript - 如何防止 Google Closure Compiler 删除一行

> ID：11028880
> 
> 赞同：3
> 
> 时间：2012-06-14T07:52:17.307
> 
> 标签：javascript, google-closure-compiler, google-closure

我有一个创建测试元素的功能。在返回函数之前，我将取消对测试元素的引用，以帮助防止内存泄漏。但是[闭包编译器](http://closure-compiler.appspot.com/home)正在删除它认为不需要的那一行 b/c（在两种模式下）。是否可以添加某种[评论](http://developers.google.com/closure/compiler/docs/js-for-compiler)以防止删除该行？

```
function isExample (testElem) {
 var bool; 
 testElem = testElem || document.createElement('div');

 // Do stuff in here to determine `bool`
 // ...

 // Then nullify the reference
 testElem = null; // The compiler removes this line. How do I make it keep it?

 return bool;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-14T07:56:47.837

它不是必需的。垃圾收集器也会这样做，因此 Google Closure Compiler 只是将其删除。

我不知道有*任何*垃圾收集器会泄漏内存，如果有的话，JS 会有很大的问题。

请记住，JS 具有函数作用域，这意味着一旦执行离开函数，函数中定义的任何变量都将被垃圾回收。

这是垃圾收集器的基本功能之一，如果 js 引擎在此上泄漏内存，这将是非常糟糕的。

对于旧的 IE 泄漏，您可以尝试通过在使编译器`testElement = []`无效后添加来解决编译器问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-14T13:14:02.647

在这种情况下，编译器是正确的。但是，如果您对保留代码一无所知，那么您将需要使用带引号的语法来导出值或使用接收器对象。

```
function sinkValue(x) {
  sinkValue[' '](x);
  return x;
}
sinkValue[' '] = function(){};

function isExample (testElem) {
  var bool;
  var obj = { 'elem': testElem || document.createElement('div') };

  // Do stuff in here to determine `bool`
  // ...

  obj['elem'] = null;
  sinkValue(obj);

  return bool;
} 
```

引用语法可防止重命名和死代码消除，因此您将否定对该对象属性的任何优化。在这种情况下，尽管您将对象的寿命延长到函数之外（这似乎与您的意图相反）。

没有注释可以准确指定您想要的内容。您可以在以下位置查看与此相关的讨论：

*   [“el.offsetWidth;” 被误认为没有副作用](http://code.google.com/p/closure-compiler/issues/detail?id=398)
*   [保留通常无副作用函数的副作用](http://code.google.com/p/closure-compiler/issues/detail?id=687)

编译器完全按照预期执行，因为它正在删除无用的代码。

# git - 用于 msysgit 的 gvimdiff 合并工具

> ID：11028882
> 
> 赞同：10
> 
> 时间：2012-06-14T07:52:18.087
> 
> 标签：git, vim, diff, msysgit, mergetool

我正在尝试使用 gvimdiff 作为 Windows 上 git 的合并工具。以前我在控制台模式下使用 vimdiff，但我知道我对限制视图 Windows 控制台大小不满意，所以我试图切换到 gvimdiff，它有更灵活的方法来设置窗口大小。

但是现在尝试打电话时`git mergetool`，我收到了我不清楚的错误：

`The merge tool gvimdiff is not available as 'gvim'`

如何解决？

`gvim`for Windows 是通过命令行安装和访问的。`gvimdiff`命令也是如此。

我试图找到在 git 脚本中引发此错误的地方，但目前没有运气。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-14T09:09:42.720

如果你启动一个 Git 控制台，你确定这些命令是可以访问的吗？我怀疑它不在`PATH`您的 Git 控制台上，只有 Windows `PATH`（不完全包括在内）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-03-03T18:47:41.460

结合你的答案，这些是我的设置

.gitconfig

```
[alias]
    d = difftool
[diff]
    renames = copy
    tool = gvimdiff
[difftool "gvimdiff"]
    cmd = "gvim -d" "$LOCAL" "$REMOTE"
[difftool]
    prompt = false 
```

并添加了可通过内容`gvim`访问的文件`%PATH%`：

```
"C:\Program Files (x86)\Vim\vim73\gvim.exe" "$@" 
```

[Windows 中的 Git difftool 可以查看除文件差异之外的所有已更改文件的列表（如万花筒）？](https://stackoverflow.com/questions/17736427/git-difftool-in-windows-to-see-list-of-all-changed-files-in-addition-to-file-dif)

# javascript - javascript - 将元素附加到动态列表，但浏览器不刷新 UI

> ID：11028884
> 
> 赞同：1
> 
> 时间：2012-06-14T07:52:20.137
> 
> 标签：javascript, jquery, ajax, google-chrome, internet-explorer-9

我有一个用于加载服务器数据项的 JavaScript 代码段，并将它们插入到 UL 元素中，生成的 LI 元素如下所示：

```
函数加载新文件模板（）{

    var list = _fileTemplateContainer.find("ul");

    $.submitToServer("[服务器 URL]", null, function (data) {

        list.empty();

        如果（数据==“”）{
            list.append("模板不可用。"); // 在示例代码中，移除了 HTML 标签
        }
        别的 {
            $.each（数据，函数（索引，项目）{

                var itemElement = $("[HTML 模板字符串]");

                itemElement.find("div[data-field='image']").css("background-image", "url(" + item.icon + ")");
                itemElement.find("div[data-field='caption']").text(item.caption);
                itemElement.find("div[data-field='description']").text(item.description);
                itemElement.find("div[data-field='type']").text(item.type);

                itemElement.bind("点击", function (e) {

                    $(e.target).parents("ul").find("li").removeClass("projectSelected");
                    $(e.target).parents("li").addClass("projectSelected");

                });

                itemElement.appendTo(list);

            });
        }

        控制台.log（列表）；
    });

}

```

此代码在第一次加载时有效，但在第二次加载时，UI 无法在元素插入 UL 元素后刷新。

我确认数据插入成功（使用console.log（）输出结果），所以我找不到这个问题的原因。

[请查看此问题的屏幕截图。](http://images.plurk.com/e8faf517a21d27d0b4b13a587fb7ad3e.jpg)

如何解决这个问题？谢谢。

我的浏览器：Chrome 19.0.1084.56、IE 9.0.8112.16421 jQuery 版本 1.5.1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-17T04:00:54.013

我自己解决了这个问题。

我使用我的 jQuery 插件通过以下代码初始化此表单：

```
    designFrameManager.updateFrameBody(数据); // 数据是一个 HTML 字符串。

    projectDesigner = $(data).projectDesigner({
        高度：designFrameManager.getBodyHeight(),
        宽度：designFrameManager.getBodyWidth()，
        项目名称：名称
    });

```

updateFrameBody() 方法的代码：

```
    this.updateFrameBody = function (ui, initFunction) {

        _designFrameBody.html(ui);

        if (initFunction != null && $.isFunction(initFunction))
            初始化函数（）；

    };

```

我认为插件的初始化无法绑定到 DOM，因为 init 操作是在 UI 绑定到 DOM 之后，所以 DOM 无法在我的脚本调用后自动刷新更改。

所以，我将代码更新为：

```
    projectDesigner = $(data).projectDesigner({
        高度：designFrameManager.getBodyHeight(),
        宽度：designFrameManager.getBodyWidth()，
        项目名称：名称
    });

    designFrameManager.updateFrameBodyByObject(
       projectDesigner // 初始化对象
    );

```

updateFrameBodyByObject() 方法的代码：

```
   this.updateFrameBodyByObject = function (ui, initFunction) {

        _designFrameBody.html("");
        _designFrameBody.append(ui);

        if (initFunction != null && $.isFunction(initFunction))
            初始化函数（）；

    };

```

此问题已成功修复。

感谢所有回复。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:05:16.127

尝试运行这个：`$('ul').listview('refresh');`

# c# - 获取“无法绑定多部分标识符 &RAUM.ID;”SQL 错误

> ID：11028887
> 
> 赞同：2
> 
> 时间：2012-06-14T07:52:33.130
> 
> 标签：c#, sql, sql-server-2008

我有以下 SQL 查询：

```
SELECT 
   r.BEZEICHNUNG AS BEZEICHNUNG, r.ID AS ID, ra.BEZEICHNUNG AS raumBEZEICHNUNG, 
   ra.ID AS raumID 
FROM RAUM r, RAUMATTRIBUTE ra 
INNER JOIN RAZUORDNUNG ON RAZUORDNUNG.RAUM_ID = RAUM.ID
INNER JOIN RAUMATTRIBUTE ON RAZUORDNUNG.RAUMATTRIBUTE_ID = RAUMATTRIBUTE.ID 
WHERE 
    RAUMKLASSE_ID = ISNULL(@Raumklasse_ID, RAUMKLASSE_ID) 
    AND STADT_ID = ISNULL(@Stadt_ID, STADT_ID) 
    AND GEBAEUDE_ID = ISNULL(@Gebaeude_ID, GEBAEUDE_ID) 
    AND REGION_ID = ISNULL(@Region_ID, REGION_ID) 
```

如果我使用该查询，我会收到一个错误：

> 多部分标识符 &RAUM.ID; 无法绑定。`

为什么会这样，我该如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T07:58:17.210

由于您已经为您的表定义了一个表别名`RAUM`（在 中`FROM RAUM r`），您需要使用该表别名 - 所以使用`r.ID`而不是`RAUM.ID`

```
SELECT 
   r.BEZEICHNUNG AS BEZEICHNUNG, r.ID AS ID, ra.BEZEICHNUNG AS raumBEZEICHNUNG, 
   ra.ID AS raumID 
FROM RAUM r, RAUMATTRIBUTE ra   <== you're defining "r" to be alias for "RAUM"
INNER JOIN RAZUORDNUNG ON RAZUORDNUNG.RAUM_ID = RAUM.ID  <== you need to use "r.ID"
...... 
```

此外，我**强烈建议**您停止使用逗号分隔表的“旧式”JOIN - 改用正确的 ANSI INNER JOIN 语法：

```
SELECT 
   r.BEZEICHNUNG AS BEZEICHNUNG, r.ID AS ID, 
   ra.BEZEICHNUNG AS raumBEZEICHNUNG, ra.ID AS raumID 
FROM RAUM r
INNER JOIN RAZUORDNUNG rz ON rz.RAUM_ID = r.ID
INNER JOIN RAUMATTRIBUTE ra ON rz.RAUMATTRIBUTE_ID = ra.ID 
WHERE 
    RAUMKLASSE_ID = ISNULL(@Raumklasse_ID, RAUMKLASSE_ID) 
    AND STADT_ID = ISNULL(@Stadt_ID, STADT_ID) 
    AND GEBAEUDE_ID = ISNULL(@Gebaeude_ID, GEBAEUDE_ID) 
    AND REGION_ID = ISNULL(@Region_ID, REGION_ID) 
```

您没有在`RAUM r`and之间定义任何 JOIN 条件`RAUMATTRIBUTE ra`- 所以您基本上得到了 CROSS JOIN （笛卡尔积）。那是你要的吗？如果不是：在`INNER JOIN`语句中定义适当的 JOIN 条件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T07:57:08.177

好吧，您必须将第一个内部联接更改为**r.Id**：

```
 SELECT r.BEZEICHNUNG AS BEZEICHNUNG, r.ID AS ID, ra.BEZEICHNUNG AS raumBEZEICHNUNG, ra.ID AS raumID FROM RAUM r, RAUMATTRIBUTE ra 
INNER JOIN RAZUORDNUNG ON RAZUORDNUNG.RAUM_ID = r.ID
 INNER JOIN RAUMATTRIBUTE ON RAZUORDNUNG.RAUMATTRIBUTE_ID = RAUMATTRIBUTE.ID WHERE RAUMKLASSE_ID = ISNULL(@Raumklasse_ID, RAUMKLASSE_ID) AND STADT_ID = ISNULL(@Stadt_ID, STADT_ID) AND GEBAEUDE_ID = ISNULL(@Gebaeude_ID, GEBAEUDE_ID) AND REGION_ID = ISNULL(@Region_ID, REGION_ID) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T07:58:26.657

```
.
FROM RAUM r, RAUMATTRIBUTE ra 
INNER JOIN RAZUORDNUNG ON RAZUORDNUNG.RAUM_ID = RAUM.ID
. 
```

RAUM 是 r 不是吗？

# php - 上传时在 db 中插入文件名而不是 CakePHP 中的数组

> ID：11028891
> 
> 赞同：1
> 
> 时间：2012-06-14T07:53:02.283
> 
> 标签：php, database, arrays, cakephp, cakephp-2.1

我正在使用 CakePHP 2.1 并尝试将文件上传到服务器。

我可以通过手动命名文件成功地将文件移动到指定目录，但它没有从视图中获取文件类型的名称：注册。

## 数据库表：用户

```
Id Auto_Increment
username
file_name 
```

## 控制器：UsersController.php

```
public function register(){
    if ($this->request->is('post')){
        //   $this->data['User']['resume_file']['tmp_name'] = 'test.php';
        //  The above statement is working good

        if ($this->User->save($this->request->data)){
            $this->Session->setFlash('Message : ' . $this->data['User']['resume_file']['tmp_name']);
            //debug($this->data['User']['resume_file']['tmp_name']);

            // This is giving an error, while inserting
        }
    }
} 
```

## 查看：users/register.php

```
<?php
    echo $this->Form->create('User', array('type'=>'file'));
    echo $this->Form->input('username');
    echo $this->Form->input('file_name', array('type'=>'file', 'label'=>'Upload document') );
    echo $this->Form->end('Register');
?> 
```

## 错误：数据库错误

```
INSERT INTO `sample_db`.`users` (`file_name`, `created`) VALUES (Array, '2012-06-14 08:10:10') 
```

我看到的是，在插入表时，在 CakePHP`Array`中插入了那个和错误 `Array to string conversion`错误，现在我如何才能在 CakePHP 中获得它的`input type : file_name`值

否则，如果我们可以在保存之前使用以下请求语句修改数据..

```
$this->request->data 
```

我试图用下面的语句来改变它

```
$this->data['User']['resume_file']['tmp_name'] = 'test.php'; 
```

但它不能返回相同的错误，任何想法......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T08:37:48.343

尝试这个：

```
public function register(){
    if ($this->request->is('post')){
        $filename = $this->request->data['User']['file_name']['tmp_name'];
        $this->data['User']['file_name'] = $filename;

        if ($this->User->save($this->request->data)){
            $this->Session->setFlash('Message : ' . $filename);
        }
    }
} 
```

# java - 据说 Enumeration 比 Iterator 快一点，为什么？

> ID：11028898
> 
> 赞同：-2
> 
> 时间：2012-06-14T07:53:27.960
> 
> 标签：java, collections, iterator, enumeration

为什么枚举比 Iterator 更快？尽管迭代器比枚举具有更多优势。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:14:09.340

值得注意的是，枚举仅适用于较旧的线程安全集合。使用 Iterator 可以在任何集合上使用，并且由于它不必是线程安全的，因此没有额外的锁定开销。

```
public static void main(String... args) {
    Vector<Integer> vec = new Vector<>();
    ArrayList<Integer> al = new ArrayList<>();
    polulate(vec);
    polulate(al);
    for (int i = 0; i < 5; i++) {
        long start = System.nanoTime();
        long sum1 = enumSumOf(vec);
        long mid1 = System.nanoTime();
        long sum1b = iterSumOf(vec);
        long mid2 = System.nanoTime();
        long sum2 = iterSumOf(al);
        long end = System.nanoTime();
        System.out.printf("Each iteration of Enumeration took %,d ns (Vector), Iteration took %,d ns (Vector), Iteration took %,d ns (ArrayList)%n",
                (mid1 - start) / vec.size(), (mid2 - mid1) / vec.size(), (end - mid2) / al.size());
    }
}

private static long enumSumOf(Vector<Integer> vec) {
    long sum = 0;
    for (Enumeration<Integer> e = vec.elements(); e.hasMoreElements(); )
        sum += e.nextElement();
    return sum;
}

private static long iterSumOf(Vector<Integer> al) {
    long sum = 0;
    for (int i : al)
        sum += i;
    return sum;
}

private static long iterSumOf(ArrayList<Integer> al) {
    long sum = 0;
    for (int i : al)
        sum += i;
    return sum;
}

private static void polulate(List<Integer> l) {
    for (int i = 0; i < 1000000; i++)
        l.add(i);
} 
```

印刷

```
Each iteration of Enumeration took 61 ns (Vector), 
    Iteration took 74 ns (Vector), Iteration took 17 ns (ArrayList)
Each iteration of Enumeration took 52 ns (Vector), 
    Iteration took 54 ns (Vector), Iteration took 6 ns (ArrayList)
Each iteration of Enumeration took 52 ns (Vector),  
    Iteration took 54 ns (Vector), Iteration took 6 ns (ArrayList)
Each iteration of Enumeration took 52 ns (Vector),  
    Iteration took 53 ns (Vector), Iteration took 6 ns (ArrayList)
Each iteration of Enumeration took 40 ns (Vector),  
    Iteration took 36 ns (Vector), Iteration took 5 ns (ArrayList) 
```

* * *

在给出的微基准示例中，Enumeration 比 Iterator 快的原因是因为它首先经过测试。;)

更长的答案是，当循环迭代 10,000 次时，HotSpot 编译器会优化整个方法。`-XX:CompileThreshold=NNNN` 当你有两个循环时，你可以用你可以看到的相同方法来改变它。

*   第一个测试较慢，因为它在运行的某些时候没有优化，而第二个循环在开始之前进行了优化。
*   第二个测试速度较慢，因为 JVM 在运行时收集优化指标并使用这些指标来优化代码。如果在收集任何指标之前优化代码，它可能会慢得多。

显示这种情况的一种简单方法是交换循环的顺序。更好的解决方案是将每个循环放在自己的方法中并重复测试几次。这确保了它们被独立优化并且结果是可重复的。

# php - 两个应用程序中的 PHP 会话

> ID：11028899
> 
> 赞同：0
> 
> 时间：2012-06-14T07:53:31.947
> 
> 标签：php, session

我有问题要问你。我有两个使用验证码的 PHP 项目，并将其写入会话。我的问题是，如果我启动第一个应用程序，将验证码保存到`$_SESSION['code']`然后我启动第二个应用程序，我将验证码保存到同一个变量，那么第一个值将被第二个覆盖，或者 PHP 将创建两个独立的会话？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T07:56:25.853

通常，每个应用程序都会覆盖同一服务器上的会话变量。

为避免这种情况，您可以命名您的会话或使用该`session_name`函数。

您可以手动命名空间，通过设置`$_SESSION['app1']['code']`和`$_SESSION['app2']['code']`/或使用会话抽象库，如 Symfony 或 Zend Framework 中的抽象库。

在每个应用程序中使用`session_name`可能如下所示：

```
//Other init stuff here
define('APPLICATION_ID', "MY_UNIQUE_ID_1");
session_name(APPLICATION_ID);
session_start(); 
```

您必须在某些配置文件中为每个应用程序更改唯一 ID。我放在`define`这里是为了表明它不是凭空而来的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:05:28.777

另一种解决方案是[设置 cookie 路径](http://php.net/manual/en/function.session-set-cookie-params.php)（之前`session_start()`）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T08:12:22.407

根据我的经验，如果您的两个应用程序都在同一个虚拟目录中，那么它将被覆盖。因此，如果您不想相互覆盖，请使用不同的会话变量。

问候

# iphone - 为什么 iAd 不显示广告？

> ID：11028901
> 
> 赞同：0
> 
> 时间：2012-06-14T07:53:47.243
> 
> 标签：iphone, ios, ios5

我最近推出了一款带有 iAd 的 iPhone 应用程序。我只是将横幅拖到应用程序中，它应该可以工作。但是，在应用程序商店中的应用程序几个小时后，该应用程序无法在我的测试 iPhone 上显示添加。有人遇到类似的问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:31:53.373

请确认您已正确填写银行和税务详细信息，并同意开发者帐户的付费申请许可。

这些是 iAd 不显示在应用商店应用程序上的常见问题。

# ios - 如何从 NSError 获得更多有用的信息？

> ID：11028902
> 
> 赞同：17
> 
> 时间：2012-06-14T07:53:49.247
> 
> 标签：ios, nserror

我想从中获得一些有用的信息`NSError`。如果我打印出来`[error userInfo]`，我会得到以下信息：

```
{
    NSFilePath = "/Users/apple/Library/Application Support/iPhone Simulator/5.1/Applications/08260B6A-4D65-48DF-ADD1-FFC8750081E8/Documents/abc";
    NSUnderlyingError = "Error Domain=NSPOSIXErrorDomain Code=17 \"The operation couldn\U2019t be completed. File exists\"";
} 
```

我想显示最后一行：“文件存在”，但我怎样才能把它挑出来？

我试过了：

```
localizedDescription
localizedFailureReason
localizedRecoverySuggestion
localizedRecoveryOptions
recoveryAttempter 
```

他们都不显示“文件存在”。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-06-15T09:45:40.017

最后，我遵循完美 NSError 打印的代码。感谢@jbat100 和@Peter Warbo，我在他们身上加了一点代码：

```
 NSDictionary *userInfo = [error userInfo];
    NSString *errorString = [[userInfo objectForKey:NSUnderlyingErrorKey] localizedDescription]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T08:07:04.413

怎么样：

```
NSDictionary *userInfo = [error userInfo];
NSString *error = [userInfo objectForKey:@"NSUnderlyingError"];
NSLog(@"The error is: %@", error); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T08:19:42.693

如果你查看[NSError 文档](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/nserror_Class/Reference/Reference.html)，它有一个`User info dictionary keys`部分，其中有一个定义为 NSUnderlyingErrorKey 的常量（它也有键的描述）。

```
NSDictionary *userInfo = [error userInfo];
NSError *underlyingError = [userInfo objectForKey:NSUnderlyingErrorKey];
NSString *underlyingErrorDescription = [underlyingError localizedDescription]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-10-01T10:58:37.480

本地化恢复建议非常有用。您可以从中获取 JSON 字符串：

```
NSString *JSON = [[error userInfo] valueForKey:NSLocalizedRecoverySuggestionErrorKey] ;

            NSError *aerror = nil;
            NSDictionary *json = [NSJSONSerialization JSONObjectWithData: [JSON dataUsingEncoding:NSUTF8StringEncoding]
                                                                 options: NSJSONReadingMutableContainers
                                                                   error: &aerror]; 
```

# silverlight - WP7 列表框对齐和样式问题

> ID：11028911
> 
> 赞同：1
> 
> 时间：2012-06-14T07:54:32.483
> 
> 标签：silverlight, windows-phone-7, xaml, listbox, windows-phone-7.1

我想创建一个`windows phone`屏幕，显示一些用户信息，`listbox`如下所示

![在此处输入图像描述](../Images/41c2ce392fe211a91376b29e4fdee7fa.png)

现在我正在使用以下代码执行此操作，它工作正常。

```
 <ListBox>
   <ListBoxItem Height="100">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="60"/>
                            <RowDefinition Height="40"/>
                            </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                            <Image Source="Assets/Users/dummyUser2.png" Grid.RowSpan="2" Grid.Column="0" Height="90" Width="90" />
                            <TextBlock Text="John Smith" Style="{StaticResource ProfileNameStyleForTextBlock}" />
                            <TextBlock Text="Birthday" Style="{StaticResource EventNameStyleForTextBlock}"   />
                            <TextBlock Text="Today" Style="{StaticResource EventDateStyleForTextBlock}" Foreground="#09aba9" />
                        </Grid>
                    </ListBoxItem>
   ...........
   ......
   </ListBox> 
```

我想要做的是，我想从后面的代码动态地将项目加载到列表框中，并且视图应该看起来像上图。

是否可以创建这样的样式/控件并将其添加到我将来创建的所有列表中。

## 编辑

## 我的列表框

```
<ListBox Name="lstlist" ItemTemplate="{StaticResource GuyDataTemplate}" /> 
```

## 数据模板

```
 <DataTemplate x:Key="GuyDataTemplate">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="60"/>
                <RowDefinition Height="40"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Image Source="Assets/Users/dummyUser2.png" Grid.RowSpan="2" Grid.Column="0" Height="90" Width="90" />
            <TextBlock Text="{Binding Name}" Style="{StaticResource ProfileNameStyleForTextBlock}" />
            <TextBlock Text="{Binding Event}" Style="{StaticResource EventNameStyleForTextBlock}"   />
            <TextBlock Text="{Binding Date}" Style="{StaticResource EventDateStyleForTextBlock}" Foreground="#09aba9" />
        </Grid>
    </DataTemplate> 
```

我创建了一个类

```
public class Guy
{
    public string Name { get; set; }
    public string Event { get; set; }
    public string Date { get; set; }
} 
```

并将逻辑写在`buttonclick`

```
 ObservableCollection<Guy> Guys = new ObservableCollection<Guy>();
        Guys.Add(new Guy() { Name = "xyzabc", Event = "event details", Date = "19/25/0258" });
        Guys.Add(new Guy() { Name = "xyzabc", Event = "event details", Date = "19/25/0258" });
        Guys.Add(new Guy() { Name = "xyzabc", Event = "event details", Date = "19/25/0258" });
        Guys.Add(new Guy() { Name = "xyzabc", Event = "event details", Date = "19/25/0258" });

        lstlist.ItemsSource = Guys; 
```

添加此应用后**卡住了**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T08:26:31.847

`DataTemplate`为资源中的项目定义`ListBox`：

```
 <DataTemplate x:Key="GuyDataTemplate">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="60"/>
                        <RowDefinition Height="40"/>
                        </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                        <Image Source="Assets/Users/dummyUser2.png" Grid.RowSpan="2" Grid.Column="0" Height="90" Width="90" />
                        <TextBlock Text="John Smith" Style="{StaticResource ProfileNameStyleForTextBlock}" FontWeight="ExtraBold" />
                        <TextBlock Text="Birthday" Style="{StaticResource EventNameStyleForTextBlock}"   />
                        <TextBlock Text="Today" Style="{StaticResource EventDateStyleForTextBlock}" Foreground="#09aba9" />
                    </Grid>
                </DataTemplate> 
```

并随心所欲地使用它`ListBox`：

```
<ListBox ItemsSource={Binding Guys} ItemTemplate={StaticResource GuyDataTemplate} /> 
```

, 在`Guys`哪里`ObservableCollection<>`

添加新项目：

```
Guys.Add(new Guy() { Name = "Will Snith" }); 
```

附言

`UserControl`不建议用作`ListBox`项目

# jquery - 试图从鼠标悬停更改为单击

> ID：11028914
> 
> 赞同：0
> 
> 时间：2012-06-14T07:54:35.793
> 
> 标签：jquery, css, wordpress

我正在尝试将此处的菜单从鼠标悬停更改为单击事件：

[http://jsfiddle.net/snoffoz/kBb2m/24/](http://jsfiddle.net/snoffoz/kBb2m/24/)

从一个

```
.bind('mouseover'... 
```

到：

```
.bind('click'... 
```

像这样：

[http://jsfiddle.net/snoffoz/kBb2m/25/](http://jsfiddle.net/snoffoz/kBb2m/25/)

为什么不能这么容易？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T08:00:51.407

由于您还希望能够隐藏它（就像您在鼠标进入和离开时所做的那样），您可以使用[`toggle`](http://api.jquery.com/toggle/)它将在第一次单击时显示，然后在第二次单击时隐藏，依此类推：

```
$('.jsddm > li').toggle(jsddm_open, jsddm_timer); 
```

**[演示](http://jsfiddle.net/kBb2m/33/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T08:04:02.307

检查这个...我这就是你想要的？？ [http://jsfiddle.net/kBb2m/41/](http://jsfiddle.net/kBb2m/41/)

# php - OpenScholar 虚拟子域

> ID：11028915
> 
> 赞同：0
> 
> 时间：2012-06-14T07:54:43.623
> 
> 标签：php, drupal, subdomain, virtual

我在我的域中安装了 OpenScholar：

[http://scholar.web](http://scholar.web)

基本上，当某人注册一个帐户时，他的站点 URL 是[http://scholar.web/user](http://scholar.web/user)，他的内容将在[http://scholar.web/user/contents](http://scholar.web/user/contents)

我一直在寻找一种方法，以便将 URL 转换为：[http://user.scholar.web/content](http://user.scholar.web/content)用于通过虚拟子域显示他的内容（可能是 htaccess）

任何人都可以提供一些解决方案或指导吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T08:03:19.593

首先，您需要更改域上的 DNS 条目，以便 *.scholar.web 指向您的站点。之后，（如果您使用的是 Apache）更改 Apache 虚拟主机以接受 *.scholar.web 请求。然后，您可以使用 htaccess 和/或 PHP 对 URL 格式进行您喜欢的操作。

我曾经有一个类似于“iscool.com”的域名。这是我使用的方法，因此我可以使用像“ben.iscool.com”这样的伪子域，它会相应地显示内容。

# .net - 如何在不处理子控件事件的情况下检查鼠标单击是否在用户控件中？

> ID：11028920
> 
> 赞同：3
> 
> 时间：2012-06-14T07:55:10.270
> 
> 标签：.net, winforms

我有一个用户控件，它托管另一个控件，如面板、图表控件。

现在我已经实现了 Header Panel 控件的 MouseClick 事件来捕获鼠标事件，但是我需要在整个用户控制区域上捕获鼠标单击或 mouseDown 事件。

```
pnlHeader.MouseUp += new MouseEventHandler(pnlHeader_MouseUp);  //it is working 

//Not able to capture because child control coverup all area of the usercontrol.
this.MouseDown += new MouseEventHandler(MyCustomControl_MouseDown); 
```

![捕获鼠标点击事件](../Images/8c6a156a1e0428b3ab6f9bac7958bf6f.png)

我经历了这个[SO 线程](https://stackoverflow.com/questions/9359484/hide-a-forms-client-area-but-let-the-title-bar-be-visible-when-mouse-is-not-o)，但它对鼠标单击或鼠标按下事件没有帮助。

*那么捕获用户控制鼠标事件的正确有效方法是什么？*

任何带有参考代码（如果可能）的想法或建议都将被接受。

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T09:12:04.943

在 WinForms 中没有像 HTML 或 WPF 那样冒泡事件的方法

[如何从 WinForms 应用程序中用户控件上的子控件中获取事件？](https://stackoverflow.com/questions/163104/how-do-i-grab-events-from-sub-controls-on-a-user-control-in-a-winforms-app)

所以你总是需要添加额外的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T14:22:40.003

有一种方法可以在没有太多代码的情况下编写它。您可以在隐藏现有处理程序的用户控件中创建自己的`MouseDown`事件处理程序，并在其中直接挂钩 UserControl 上的每个控件。例如，下面是包含 a`Panel`和 a的 UserControl 的 MouseDown 处理程序`ListBox`：

```
// MouseDown event handler within UserControl
public new event MouseEventHandler MouseDown
{
    add 
    { 
        panel1.MouseDown += value;
        listBox1.MouseDown += value;
    }
    remove 
    { 
        panel1.MouseDown -= value;
        listBox1.MouseDown -= value;
    }
} 
```

如果您的 UserControl 上有更多控件，则只需将它们添加到每个部分。

您在父 WinForm 中的调用必须`MouseDown`像这样为您的 UserControl 挂钩事件：

```
myUserControl1.MouseDown += myUserControl1_MouseDown; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-14T09:26:49.910

```
namespace WindowsFormsApplication1
{
    public partial class UserControl1 : UserControl
    {
        public UserControl1()
        {
            InitializeComponent();
            this.OnUCMouseUp += new MouseEventHandler(UserControl1_OnUCMouseUp);
            panel1.MouseUp += new MouseEventHandler(panel1_MouseUp);
        }

        void UserControl1_OnUCMouseUp(object sender, MouseEventArgs e)
        {
            MessageBox.Show("From userControl");
        }

        void panel1_MouseUp(object sender, MouseEventArgs e)
        {
            InvokeMouseUp(this, e);
        }
        public event MouseEventHandler OnUCMouseUp;
        protected void InvokeMouseUp(object sender, MouseEventArgs e)
        {
            if (this.OnUCMouseUp != null)
                this.OnUCMouseUp(sender, e);
        }
    }
} 
```

# ruby-on-rails - 在 Rails 中应该如何组织多级继承模型？

> ID：11028926
> 
> 赞同：1
> 
> 时间：2012-06-14T07:55:52.673
> 
> 标签：ruby-on-rails, single-table-inheritance

我无法归零如何为我的 Rails 应用程序组织数据库。我在此处和 Google 上找到的问题讨论了有限类继承的问题。如果类的数量非常多怎么办。[如果我想为schema.org 层次结构](http://schema.org/docs/full.html)中标识的所有类型为每种类型设置一个类，应该如何组织这些类？

虽然我找到了一些对类表继承的支持，比如这个名为[CITIER](http://peterhamilton.github.com/citier/)的 gem ，但实现单表继承似乎更简单，并且得到了更好的支持。

我应该坚持使用 STI 还是尝试使用 MTI？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T12:55:35.367

恕我直言，STI 在将由类封装的两个对象共享几乎所有相关属性的情况下是有意义的。因此，在报纸上，拥有一个继承自它的 Editor 类（class Editor < Employee）的 Employee 类可能是有意义的，因为编辑可能只是一种非常不同类型的员工。当您正在建模的对象有太多不共同点时，可能会出现 STI 问题，即使将一个对象视为另一个对象的子类是有意义的。单个表可能变得过于稀疏。在这种情况下，我发现使用“has”和“belongs to”来建模对象更有效。YMMV。

# c++ - 使用模板移动运算符

> ID：11028929
> 
> 赞同：3
> 
> 时间：2012-06-14T07:56:05.293
> 
> 标签：c++, templates, c++11, move-semantics

我有一个模板类，我想避免复制（因为这样做的潜在成本）。我可以实现一个移动构造函数，但我也想允许移动“跨模板参数”。这是我要编译的内容：

```
template <class T>
class Foo
{
public:
    Foo() {}
    template <class U> Foo(Foo<U>&&) {}

private:
    Foo(const Foo&);
};

Foo<int> f() { Foo<float> y; return move(y); }
Foo<int> g() { Foo<int> x; return x; }
Foo<int> h() { Foo<float> z; return z; } 
```

我理解为什么从技术上讲 f 编译：move(y) 的类型是 Foo(float)&& 并且恰好有一个方便的构造函数接受 Foo(U)&&，因此编译器设法找到 U=float 有效。

h 不编译。z 是 Foo(float) 类型，我想这离 Foo(U)&& 太远了，无法确定如果选择了 U=float 则可以调用移动构造函数......

我不知道为什么 g 编译，但确实如此。x 的类型是 Foo(int)。编译器如何设法使用移动运算符（它不能只是从 Foo(int) 隐式转换为 Foo(int)&&，可以吗？）

所以我的问题是：规则是什么？为什么 h 编译但 g 不编译？有什么我可以在 Foo 中更改以使 h 编译的吗？

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-14T08:04:28.593

复制或移动构造函数不能是模板。从 12.8(2, 3) 开始：

> 如果类的第一个参数是、或类型，并且没有其他参数或者所有其他参数都具有默认参数（8.3.6），则类的**非模板**构造函数是一个复制构造函数。[示例：and是复制构造函数。]`X``X&``const X&``volatile X&``const volatile X&``X::X(const X&)``X::X(X&,int=1)`
> 
> 类的**非模板**构造函数`X`是移动构造函数，如果其第一个参数的类型为`X&&`、`const X&&`、`volatile X&&`或`const volatile X&&`，并且要么没有其他参数，要么所有其他参数都有默认参数（8.3.6）。[示例：`Y::Y(Y&&)`是一个移动构造函数。]

因此，您的示例`f`和`g`工作是因为您正在调用一个普通的构造函数（而不是*move*构造函数）。

`f`工作的原因很明显，因为`move(y)`can bind to的结果`Foo<float>&&`。`g`出于不同的原因：由于类型`x`与函数的返回类型相同，`x`因此返回语句中的表达式的值匹配`Foo<int>&&`。这是因为 12.8(31, 32)：

> 在具有类返回类型的函数的语句中，当表达式是**具有与函数返回类型相同的 cv 非限定类型**`return`的非易失性自动对象（函数或 catch 子句参数除外）的名称时，[ ...]
> 
>  **当满足或将满足复制操作的省略标准时，除了源对象是函数参数的事实，并且要复制的对象由左值指定时，选择复制的构造函数的重载决策是首先执行好像对象是由右值指定的。**

 **最后我们看到为什么`h`不起作用：语句中的表达式的值`z`不能`return`绑定到`Foo<float>&&`，因为它没有显式强制转换（通过`std::move`），也没有给出第 12.8(32) 条的特殊规定，因为它的类型不同作为函数的返回类型。（它只能绑定到`Foo<float>&`（这几乎肯定是错误的）或绑定到`Foo<float> const &`。）

顺便说一句，移动不管理外部资源（例如原语）的对象是没有意义的。无论如何都必须复制实际的对象数据。**

# php - GUI 中的 XHPROF 错误。ID 保持为“-1”

> ID：11028930
> 
> 赞同：0
> 
> 时间：2012-06-14T07:56:12.453
> 
> 标签：php, xhprof

我目前正在使用以下代码测试 XHPROF ( *wamp, windows xp* )：

```
<? Php
xhprof_enable (XHPROF_FLAGS_CPU | XHPROF_FLAGS_MEMORY);

function bar ($ x) {
  if ($ x> 0) {
    bar ($ x - 1);
  }
}

function foo () {
  for ($ idx = 0; $ idx <5; $ idx + +) {
    bar ($ idx);
    $ X = strlen ("abc");
  }
}

/ / Run program
foo ();

/ / Stop profiling
= $ Xhprof_data xhprof_disable ();

/ / Display raw data xhprof for the profiling run
print_r ($ xhprof_data);

/ / $ XHPROF_ROOT = realpath (dirname (__FILE__). '/ ..');
XHPROF_ROOT $ = 'D: \ wamp \ offline-shared \ includes \ xhprof \ git \ xhprof';
/ / Include_once $ XHPROF_ROOT. "/ Xhprof_lib / utils / xhprof_lib.php";
/ / Include_once $ XHPROF_ROOT. "/ Xhprof_lib / utils / xhprof_runs.php";

Xhprof_root $ = 'D :/ wamp / offline-shared / includes / xhprof / git / xhprof /';
include_once $ xhprof_root. "Xhprof_lib / config.php";
include_once $ xhprof_root. "Xhprof_lib / utils / xhprof_lib.php";
include_once $ xhprof_root. "Xhprof_lib / utils / xhprof_runs.php";

/ / Save raw data for this profiling run using default
/ / Implementation of iXHProfRuns.
Xhprof_runs XHProfRuns_Default $ = new ();

/ / Save the run Under a namespace "xhprof_foo"
$ = $ Run_id xhprof_runs-> save_run ($ xhprof_data, "xhprof_foo");

echo "<a href='http://localhost/tests/xhprof/xhprof_html/index.php?run={$run_id}&source=xhprof_foo'> here </ a> topics:";
echo "<a href='http://xhprof-local/index.php?run={$run_id}&source=xhprof_foo'> and / or here </ a>"; 
```

到目前为止，没有什么特别的，但是在 xhprofGUI 中（带有上面的链接，我得到了这个错误，id 仍然为“-1”：

```
Warning: gzuncompress () [ function.gzuncompress]: data error in D: \ wamp \ offline-shared \ includes \ xhprof \ git \ xhprof \ xhprof_lib \ utils \ xhprof_runs.php on line 278
Given XHProf Run not found. 
```

如果我**没有**通过带有警告的虚拟主机传递，我会收到此错误：

```
Run Report
    Run # -1: Invalid Run Id = -1 
```

一个主意？谢谢法布里斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T08:46:14.263

不，php代码是正确的。我找到了答案。sql CREATE 语句是错误的。您必须使用位于“Pdo.php”文件中的那个。

所以，一切都很好:)

法布里斯

# java - 如何使用新的 Bouncy Castle 库从 PKCS10CertificationRequest 获取 PublicKey？

> ID：11028932
> 
> 赞同：8
> 
> 时间：2012-06-14T07:56:30.847
> 
> 标签：java, cryptography, bouncycastle

在新版本的 Bouncy Castle 库中，`PKCS10CertificationRequest`. 在以前的版本中，可以`PublicKey`使用方法从此类请求中获取`getPublicKey()`（参见[旧文档](http://www.eecs.berkeley.edu/~jonah/bc/org/bouncycastle/jce/PKCS10CertificationRequest.html#getPublicKey%28%29)）。

现在这种方法消失了。如何从此类请求中获取 PublicKey？有，`getSubjectPublicKeyInfo().parsePublicKey()`但它返回`ASN1Primitive`。

我从 SPKAC 看到`NetscapeCertRequest`我仍然可以通过调用直接读取 PublicKey `getPublicKey()`。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-14T11:03:35.253

主提供程序包中有一个名为[PublicKeyFactory](http://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/crypto/util/PublicKeyFactory.html)的实用程序类。[createKey](http://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/crypto/util/PublicKeyFactory.html#createKey%28org.bouncycastle.asn1.x509.SubjectPublicKeyInfo%29)方法返回一个[AsymmetricKeyParameter](http://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/crypto/params/AsymmetricKeyParameter.html)，您可以将其转换为合适的任何类型的公钥，例如

```
SubjectPublicKeyInfo pkInfo = pkcs10CertReq.getSubjectPublicKeyInfo();
RSAKeyParameters rsa = (RSAKeyParameters) PublicKeyFactory.createKey(pkInfo); 
```

编辑1：

此外，要创建`java.security.PublicKey`更多步骤，还需要：

```
RSAPublicKeySpec rsaSpec = new RSAPublicKeySpec(rsa.getModulus(), rsa.getExponent());
KeyFactory kf = KeyFactory.getInstance("RSA");
PublicKey rsaPub = kf.generatePublic(rsaSpec); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-12-28T15:48:11.740

我正在研究同样的问题，这也可以（优点是我们不需要指定算法）：

```
SubjectPublicKeyInfo pkInfo = pkcs10CertReq.getSubjectPublicKeyInfo();
JcaPEMKeyConverter converter = new JcaPEMKeyConverter();
PublicKey pubKey = converter.getPublicKey(pkInfo); 
```

见[org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter](https://www.bouncycastle.org/docs/pkixdocs1.3/org/bouncycastle/openssl/jcajce/JcaPEMKeyConverter.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-04-15T13:43:33.297

使用 JcaPKCS10CertificationRequest 怎么样？

```
JcaPKCS10CertificationRequest jcaPKCS10CertificationRequest = new JcaPKCS10CertificationRequest(pkcs10CertReq);
PublicKey publicKey = jcaPKCS10CertificationRequest.getPublicKey(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-08-10T07:22:18.737

```
PKCS10CertificationRequest csr =...;    
PublicKey pk = KeyFactory.getInstance("RSA").generatePublic(new X509EncodedKeySpec(csr.getSubjectPublicKeyInfo().toASN1Primitive().getEncoded())); 
```

[RFC 2986 - PKCS #10：认证请求语法](https://www.rfc-editor.org/rfc/rfc2986)

> CertificationRequestInfo ::= SEQUENCE {
> version INTEGER { v1(0) } (v1,...)，
> 主题名称，
> subjectPKInfo SubjectPublicKeyInfo{{ PKInfoAlgorithms }}，
> 属性 [0] 属性{{ CRIAttributes }}
> }

> SubjectPublicKeyInfo { ALGORITHM : IOSet} ::= SEQUENCE {
> 算法 AlgorithmIdentifier {{IOSet}}，
> subjectPublicKey BIT STRING
> }

然后就可以看到java.security.spec.X509EncodedKeySpec的文档了

> SubjectPublicKeyInfo ::= SEQUENCE {
> 算法 AlgorithmIdentifier,
> subjectPublicKey BIT STRING }

所以你会知道这个公钥的编码是 X.509。然后将其更改为 X509EncodedKeySpec 并通过 keyFactory 生成公钥

# distributed-system - 分布式系统的好书

> ID：11028933
> 
> 赞同：4
> 
> 时间：2012-06-14T07:56:33.810
> 
> 标签：distributed-system, paxos

是否有一本非常好的书深入介绍：两阶段提交、paxos 以及在实现一致性、可用性、分区容错方面的限制。

浏览 Amazon 时会发现有很多分布式系统书籍甚至没有涉及 paxos。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-03T06:11:53.247

Paxos 算法的问题在于它是相当新的（根据[http://en.wikipedia.org/wiki/Paxos_(computer_science)](http://en.wikipedia.org/wiki/Paxos_(computer_science))于 1998 年作为期刊文章发表）和经典书籍[，如数据库系统阅读](https://rads.stackoverflow.com/amzn/click/com/1558605231)或[事务处理](https://rads.stackoverflow.com/amzn/click/com/1558601902)封面您关心的其他主题，但实际上早于 Paxos！

# debugging - WinDbg 和 Virtualbox 和机器快照 - 强制内核调试重新连接

> ID：11028934
> 
> 赞同：10
> 
> 时间：2012-06-14T07:56:35.620
> 
> 标签：debugging, windbg, virtualbox, snapshot, kernel-mode

因此，virtualbox 的一个不错的功能是拥有可以稍后恢复的快照。

但是，在使用 virtualbox 和 windbg 进行内核调试时，在恢复快照时不会恢复调试会话。

有没有办法强制windbg和来宾机器在恢复机器快照时重新同步并重新启动该内核调试会话，而不必每次都重新启动机器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-23T02:31:26.360

该工具将您的部署、调试、重构周期简化了一半，一旦您安装并运行了它。作为奖励，调试会话也更快 -

[http://virtualkd.sysprogs.org/](http://virtualkd.sysprogs.org/)

也支持开箱即用的虚拟盒子。绝对必须有。

# struts - Tiles Framework：仅刷新正文内容

> ID：11028941
> 
> 赞同：4
> 
> 时间：2012-06-14T07:57:02.600
> 
> 标签：struts, tiles

我们有一个包含 Header、Menu、Body 和 Footer 的 Tiles 布局页面。在此布局中，每当用户在菜单列表中执行某些操作时，整个布局（包括页眉、菜单和页脚）都会刷新。我希望页眉、菜单、页脚是静态的，并且只有正文部分应该更新。

有什么方法可以防止刷新页眉、菜单和页脚，并且只更新菜单单击上的正文内容，这可以使用 Tiles 实现？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-15T10:03:39.220

为此，您需要使用 ajax 调用。一般程序是：

1.- 创建并定义一个作为基础的图块，由页眉、正文和页脚组成，如下所示：

```
<div id='headerTile'>whatever goes here...</div> <!--this is baseHeader.jsp-->
<div id='bodyTile'>whatever goes here....</div>  <!--this is baseBody.jsp-->
<div id='footerTile'>whatever goes here...</div>  <!--this is baseFooter.jsp--> 
```

让我们将这些 div 中的每一个视为您定义中的一个图块：

```
<definition name="layoutBase" path="/whateverPathItIs/layoutBase.jsp">
    <put name="header" value="/whateverPathItIs/baseHeader.jsp"/>
<put name="body" value="/whateverPathItIs/baseBody.jsp" />
<put name="footer" value="/whateverPathItIs/baseFooter.jsp" />         
</definition> 
```

2.-创建和定义所有不同的jsp来替换你的body内容，请记住这个jsp必须只包含body元素。假设您有 2 个其他正文内容准备显示在您的页面中，每个内容都是一个 tile：

```
<div id='bodyContent1'>whatever goes here again...</div> <!--this is content1.jsp-->

<div id='bodyContent2'>whatever goes here again 2</div> <!--this is content2.jsp--> 
```

3.-此时，您拥有基础 jsp 平铺和 2 个包含正文内容的其他 jsp。现在我们需要一个作为服务的 struts 动作，根据 ajax 请求返回相应的主体。**将此作为正常操作，并在最后的 mapping.findForward 方法中返回包含您的 body 的 jsp**。您可以为每个正文内容创建一个操作，也可以为每个正文创建一个包含方法的单个 DispatchAction。第二个选项更简洁，并且该操作将定义如下：

```
<action path="/bodySwitcher" 
        type="BodySwitcherAction"
        parameter="method"
        scope="request"
        >
    <forward name="content1" path="/pathToJsp/content1.jsp"/>
    <forward name="content2" path="/pathToJsp/content2.jsp"/>
</action> 
```

4.-要切换内容，使用javascript或jquery进行ajax调用并将返回的jsp加载到你的body中。这是在 jQuery 中切换内容的方法的示例，使用 .load() 作为 ajax 调用：

```
function switchContent(whichContent){
     $('#bodyTile').children().remove();
     $('#bodyTile').load("/pathToYourApp/bodySwitcher.do?method="+whichContent);
} 
```

不要因为答案有多长而气馁，我只是想解释清楚。这实际上很容易做到，并且与 jquery/javascript 相关的问题比其他任何问题都多，唯一的细节是如何将 struts 操作用作服务。祝你好运。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-12T04:21:27.290

我确实喜欢 Th0rndike，而且工作起来很迷人。我正在使用弹簧，有点不同，但想法相同。

在我的配置中，使用tiles来解决仅使用视图，我无法直接使用jsp文件进行新主体的转发，例如使用path =“/pathToJsp/content1.jsp”。

在 layouts.xml 文件中使用 spring 文档的默认配置添加到现有模板之外，新模板将负责在每次发出 Ajax 请求时包含新主体。

```
<definition name="bodySwitcher" template="/WEB-INF/layouts/bodySwitcher.jspx">
<put-attribute name="bodyContent" value="" />
</ Definition> 
```

将模板文件设置为：

```
<div xmlns: jsp = "http://java.sun.com/JSP/Page"
xmlns: c = "http://java.sun.com/jsp/jstl/core"
xmlns: tiles = "http://tiles.apache.org/tags-tiles"
xmlns: spring = "http://www.springframework.org/tags"
xmlns: util = "urn: jsptagdir :/ WEB-INF/tags/util" id = "bodySwitcher"
version = "2.0">

<tiles:insertAttribute name="bodyContent" />

</div> 
```

在文件 views.xml 中，为每个加载页面新正文的链接设置内容，特别是：

```
<definition name="link1" extends="bodySwitcher">
<put-attribute name="bodyContent" value="/WEB-INF/views/link1.jspx" />
</ Definition>

<definition name="aboutus" extends="bodySwitcher">
<put-attribute name="bodyContent" value="/WEB-INF/views/aboutus.jspx" />
</ Definition> 
```

Ajax请求可以在主模板中进行：

```
$ (Document). ready (function () {

$ ('. PageAction'). click (function (e) {
LoadPage (e)
});

function LoadPage (e) {
e.preventDefault ();
console.log (e)
console.log (e.currentTarget.pathname);
$ ('# BodySwitcher'). children (). remove ();
$ ('# BodySwitcher'.) Load ("bodySwitcher? Method =" + e.currentTarget.pathname);
}

}); 
```

ajax请求可以使用bodySwitcher的参数方法中指定的转发到视图的控制器来处理。返回转发字符串，如“forward:”+link1，转发给处理link1请求的控制器；

# shell - shell 脚本：重新排列列

> ID：11028947
> 
> 赞同：1
> 
> 时间：2012-06-14T07:57:12.507
> 
> 标签：shell, text, edit

我有一个包含 17 列的文本文件（制表符分隔）。我想以这种方式改变这种结构。将第 1 列保存到第 6 列，当然直到文件末尾，然后将第 7 列到第 16 列（我可以去掉 17 列）添加到彼此下方，然后为每一列重复从 1 到 5 的每列我补充说。这意味着我还需要添加一个具有相同数字的额外列，直到下一个添加的开始，以便跟踪我附加的列并查看它从哪一行开始。

希望这足够清楚。

感谢您宝贵的时间和支持。

原来的

```
179    1   AA     19.50    30.00  1.0000  2.0000  3.0000 ...  
180    1   BB     19.75    30.00  4.0000  5.0000  6.0000 ...  
230    1   CC     32.25    30.00  7.0000  8.0000  9.0000 ... 
```

需要

```
179    1  1 AA     19.50     30.00  1.0000    
180    1  1 BB     19.75     30.00  4.0000    
230    1  1 CC     32.25     30.00  7.0000  
179    1  2 AA     19.50     30.00  2.0000   
180    1  2 BB     19.75     30.00  5.0000    
230    1  2 CC     32.25     30.00  8.0000   
179    1  3 AA     19.50     30.00  3.0000    
180    1  3 BB     19.75     30.00  6.0000    
230    1  3 CC     32.25     30.00  9.0000 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T09:07:24.697

这个想法怎么样（使用 awk 来挑选列数据，使用临时输出文件来保存数据）：

重新排列.awk：

```
{
   for (i=6; i<=NF; ++i) {
      print $1, $2, (i-5), $3, $4, $5, $i > "temp_output"i".txt"
   }
} 
```

然后这将在脚本中使用：

```
awk -f rearrange.awk < input.txt
cat temp_output*.txt > output.txt
rm temp_output*.txt 
```

# c++ - QString 相对于 std::string 的优势

> ID：11028948
> 
> 赞同：28
> 
> 时间：2012-06-14T07:57:18.700
> 
> 标签：c++, string, qt, unicode, qt-creator

QString 比 std::string 有什么优势？普通的 std::string 可以存储 unicode 字符吗？我正在尝试编写一个可以打开各种歌曲文件的程序。这些文件的名称可以是不同的语言。我听说在这种情况下使用普通字符串将无法正常工作。我想保持应用程序独立于 QT 并重用代码，例如在 android 中。你有什么建议。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-06-14T07:58:58.420

[`QString`](http://qt-project.org/doc/qt-5.0/qtcore/qstring.html)允许您使用 Unicode，有更多有用的方法并与 Qt 很好地集成。*正如cbamber85 所* [指出](https://stackoverflow.com/questions/11028948/advantage-of-qstring-over-stdstring#comment-14421099)的，它还具有更好的性能。

`std::string`只是存储你给它的字节，它对编码一无所知。它每个字符使用一个字节，但对于世界上所有的语言来说这还不够。存储文本的最佳方式可能是 UTF-8 编码，其中字符可以占用不同数量的字节，并且`std::string`无法正确处理！例如，这意味着该`length`方法将返回字节数，而不是字符。而这只是冰山一角……

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-06-14T10:48:41.603

如果您使用 Qt 框架来编写您的软件，那么您最好使用 QString。原因很简单，几乎所有处理字符串的 Qt 函数都将接受 QString。如果您使用 std::string ，您最终可能会遇到必须从一个到另一个进行类型转换的情况。如果您的软件根本不使用 Qt，您应该考虑使用 std::string。这将使您的代码更具可移植性，并且不依赖于用户必须安装才能使用您的软件的额外框架。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-06-14T08:06:08.513

我不熟悉`QString`，但它的最大优点`std::string` 是它*是*标准的。对于 Unicode，将 UTF-8 存储在`std::string`;中没有问题。但是，根据您在做什么，最好使用 a `std::wstring`（通常将存储 UTF-16 或 UTF-32）。

对于 Unicode 的复杂操作，我建议使用 ICU。但是对于很多应用来说，仅仅存储 UTF-8 就足够了。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-14T08:20:05.577

从技术上讲，有一个标准的字符串类来存储任何类型的字符：[`std::basic_string`](http://en.cppreference.com/w/cpp/string/basic_string). `std::string`and`std::wstring`只是`std::basic_string`for`char`和的特化`wchar`。还有一些专门用于 UTF-16 和 UTF-32 存储`std::u16string`。`std::u32string`

无论如何，如果你必须使用 Qt，`QString`它可能总是比任何标准库字符串更好的选择，因为整个 Qt 框架都是为使用它而设计的。

# glassfish - Glassfish - 使用 OpenMQ 连接到 SonicMQ 不起作用

> ID：11028949
> 
> 赞同：1
> 
> 时间：2012-06-14T07:57:27.100
> 
> 标签：glassfish, jms, openmq, sonicmq

我有一个运行版本 3.1.2 的 glassfish 实例。我需要通过 JMS 连接到远程服务器。远程系统 - 我认为 - 使用 SonicMQ。

我有一个 JAR 示例（来自远程服务器公司），我可以毫无问题地与远程服务器通信。

我想我的 glassfish 配置正确，但无法连接到远程服务器。连接/使用 glassfishs ping 功能时，我总是遇到同样的错误：

```
WARNING: [I500]: Caught JVM Exception: java.io.EOFException: Trying to read 40 bytes. Already read 32 bytes.
SEVERE: MQJMSRA_MC4001: constructor:Aborting:JMSException on createConnection=[C4000]: Packet acknowledge failed. user=user123, broker=remote.server.com:12506
SEVERE: com.sun.messaging.jms.JMSException: [C4000]: Packet acknowledge failed. user=user123, broker=broker=remote.server.com:12506
    at com.sun.messaging.jmq.jmsclient.ProtocolHandler.writePacketWithAck(ProtocolHandler.java:748)
    at com.sun.messaging.jmq.jmsclient.ProtocolHandler.writePacketWithReply2(ProtocolHandler.java:510)
    at com.sun.messaging.jmq.jmsclient.ProtocolHandler.hello(ProtocolHandler.java:963)
    at com.sun.messaging.jmq.jmsclient.ProtocolHandler.hello(ProtocolHandler.java:904)
    at com.sun.messaging.jmq.jmsclient.ConnectionImpl.hello(ConnectionImpl.java:576)
    at com.sun.messaging.jmq.jmsclient.ConnectionImpl.openConnection(ConnectionImpl.java:2443)
    at com.sun.messaging.jmq.jmsclient.ConnectionImpl.init(ConnectionImpl.java:1094)
    at com.sun.messaging.jmq.jmsclient.ConnectionImpl.<init>(ConnectionImpl.java:454)
    at com.sun.messaging.jmq.jmsclient.UnifiedConnectionImpl.<init>(UnifiedConnectionImpl.java:66)
    at com.sun.messaging.jmq.jmsclient.XAConnectionImpl.<init>(XAConnectionImpl.java:64)
    at com.sun.messaging.XAConnectionFactory.createXAConnection(XAConnectionFactory.java:97)
    at com.sun.messaging.jms.ra.ManagedConnection.<init>(ManagedConnection.java:196)
    at com.sun.messaging.jms.ra.ManagedConnectionFactory.createManagedConnection(ManagedConnectionFactory.java:226)
    at com.sun.enterprise.connectors.service.ConnectorConnectionPoolAdminServiceImpl.getUnpooledConnection(ConnectorConnectionPoolAdminServiceImpl.java:698)
    at com.sun.enterprise.connectors.service.ConnectorConnectionPoolAdminServiceImpl.testConnectionPool(ConnectorConnectionPoolAdminServiceImpl.java:426)
    at com.sun.enterprise.connectors.ConnectorRuntime.pingConnectionPool(ConnectorRuntime.java:1086)
    at org.glassfish.connectors.admin.cli.PingConnectionPool.execute(PingConnectionPool.java:130)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:355)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:370)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1064)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1200(CommandRunnerImpl.java:96)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1244)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1232)
    at org.glassfish.admin.rest.ResourceUtil.runCommand(ResourceUtil.java:202)
    at org.glassfish.admin.rest.resources.TemplateExecCommand.executeCommand(TemplateExecCommand.java:127)
    at org.glassfish.admin.rest.resources.TemplateCommandGetResource.processGet(TemplateCommandGetResource.java:78)
    at sun.reflect.GeneratedMethodAccessor180.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
    at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:205)
    at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
    at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)
    at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:134)
    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
    at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:134)
    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
    at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
    at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)
    at com.sun.jersey.server.impl.container.grizzly.GrizzlyContainer._service(GrizzlyContainer.java:182)
    at com.sun.jersey.server.impl.container.grizzly.GrizzlyContainer.service(GrizzlyContainer.java:147)
    at org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:184)
    at com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:168)
    at com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:117)
    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:238)
    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:828)
    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:725)
    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1019)
    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:225)
    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
    at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
    at java.lang.Thread.run(Thread.java:662)

WARNING: RAR8054: Exception while creating an unpooled [test] connection for pool [ jms/MyFactory ], MQJMSRA_MC4001: constructor:Aborting:JMSException on createConnection=[C4000]: Packet acknowledge failed. user=user123, broker=remote.server.com:12506
SEVERE: RestResponse.getResponse() gives FAILURE.  endpoint = 'http://localhost:4949/management/domain/resources/ping-connection-pool'; attrs = '{id=jms/MyFactory}' 
```

端口 12506 是正确的，因为没有 PortMapper。`AddressList`参数是`mqtcp://remote.server.com:12506`代替`mq://remote.server.com:12506`

谷歌了半天的解决方案，但没有找到任何东西。有人建议吗？我究竟做错了什么？

# java - Play 2.0 框架 - 保留表名

> ID：11028952
> 
> 赞同：4
> 
> 时间：2012-06-14T07:57:43.223
> 
> 标签：java, mysql, playframework, playframework-2.0

我创建了一个名为 Group 的模型，该模型又应该创建表组。结果，数据库出现错误，说表名是保留字。由于我的模型/表名是保留字，我想知道是否有办法将我的表命名为组。

这是我的 Group 模型（Play Framework 2.0）的示例：

 `````
@Entity
public class Group extends Model {

@Id         private long     id;    
@Required   private String   groupName;

private static Model.Finder<Long,Group> find = 
new Model.Finder<Long,Group>   (Long.class, Group.class);

public Group() {        
}

public Group(String groupName) {
    this.groupName = groupName;
}

    /*** Getters & Setters ***/
    public long getId() {
        return id;
    }
    public void setId(long id) {
        this.id = id;
    }
    public String getGroupName() {
        return groupName;
    }
    public void setGroupName(String groupName) {
        this.groupName = groupName;
    }

} 
````  `任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T13:54:55.077

简单使用

```
@Entity
@Table(name="groupOfxxx")
public class Group { 
```

不带保留字描述表的东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T08:03:55.773

也许[这](https://stackoverflow.com/questions/1564479/mapping-a-table-called-group-in-hibernate-for-db2-and-hsqldb)会有所帮助：

```
@Entity
@Table(name="`group`")
public class Group { 
```

如果没有，请尝试：

```
@Entity
@Table(name="group")
public class Group { 
```

如果没有，请尝试：

[https://stackoverflow.com/a/1565765/952046](https://stackoverflow.com/a/1565765/952046)

**编辑**

[MySQL 文档](http://dev.mysql.com/doc/refman/5.5/en/reserved-words.html)说：

> 标准 SQL 禁止将表中的大多数词用作列名或表名（例如，GROUP）。

[此外](http://dev.mysql.com/doc/refman/5.5/en/identifiers.html)：

```
The identifier quote character is the backtick (“`”):

mysql> SELECT * FROM `select` WHERE `select`.id > 100; 
```

所以它应该工作。引号可能有问题 - 确保使用 MySQL 控制台中的刻度线（`\``), not a single quote (`' `). You can also try setting`mysql> SET sql_mode='ANSI_QUOTES'; `. Check if you can create table named`group`。``

# binding - ember.js 中的 bind-attr 是如何工作的？

> ID：11028953
> 
> 赞同：7
> 
> 时间：2012-06-14T07:57:44.443
> 
> 标签：binding, ember.js

我实际上还没有构建一个应用程序，但是我对 bind-attr 上的文档感到困惑。它说您可以执行以下操作：

```
App.LogoView = Ember.View.extend({
  logoUrl: 'http://www.mycorp.com/images/logo.png'
}); 
```

使用模板：

```
<div id="logo">
  <img {{bind-attr =logoUrl}} alt="Logo" />
</div> 
```

生产：

```
<div id="logo">
  <img src="http://www.mycorp.com/images/logo.png" alt="Logo" />
</div> 
```

*同样：*

```
App.AlertView = Ember.View.extend({
  priority: "p4",
  isUrgent: true
}); 
```

使用模板：

```
<div {{bind-attr =priority}}>
  Warning!
</div> 
```

生产：

```
<div class="p4">
  Warning!
</div> 
```

Ember 如何知道它是`src`第一个示例`class`中的属性和第二个示例中的属性？除非我在这里遗漏了什么，否则这似乎是不可能的。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-14T08:06:29.717

文档似乎是错误的。运行文档中列出的代码，我收到以下错误：

```
Uncaught Error: Parse error on line 4:
...    <img {{bind-attr =logoUrl}} alt="Lo
-----------------------^
Expecting 'CLOSE', 'STRING', 'INTEGER', 'BOOLEAN', 'ID', 'SEP' 
```

*按照您期望*的方式运行代码可以正常工作。您需要指定有问题的属性：

```
<div id="logo">
    <img {{bind-attr src=logoUrl}} alt="Logo">
</div> 
```

这是一个[工作示例](http://jsfiddle.net/HG64E/)（删除属性名称并在控制台中查找错误）。

# continuous-integration - buildbot 可以使用相同的构建器进行白天提交构建和夜间完全重建吗？

> ID：11028960
> 
> 赞同：2
> 
> 时间：2012-06-14T07:58:28.693
> 
> 标签：continuous-integration, buildbot

我正在`buildbot`用作持续集成工具。*它可以完美地在Linux*和*Windows*平台上运行提交构建和夜间构建。

对于`commit builds`（在每次提交时触发）和`nightly builds`（每晚，从干净的存储库签出构建），我使用两个不同的构建器。但最后，除了源存储库获取步骤之外，它们都运行相同的命令。此外，在 http 瀑布视图中，它们占据两列，而一列仅在白天使用，另一列仅在夜间使用一次。

我想知道是否可以只使用一个构建器来执行夜间构建和每日提交构建的配置？

（它会增加每晚重置提交构建的好处！）

* * *

**编辑：一个解决方案**

按照汤姆普林斯的回答，我设法使用“doStepIf”设置了所有这些。它需要在每晚调度程序中设置一个属性，并将该属性用于在 SVN 步骤之前的 RemoveDirectory 步骤的 doStepIf。

```
commit = AnyBranchScheduler( name="commit", treeStableTimer=5*60,
                             builderNames=["builder"] )

nightly = Nightly( name='nightly', hour=23, minute=40,
                   properties={'full':True},
                   builderNames=["builder"] )

def IsFullBuild(step):
     return step.build.getProperties().has_key('full')
            and step.build.getProperty('full')

factory.addStep( RemoveDirectory( dir="build", doStepIf=IsFullBuild ) )
factory.addStep( SVN( ... ) ) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-14T13:49:15.253

您当前可以通过在其中一个调度程序中设置属性并使用由 控制的两个步骤来执行此操作`doStepIf`，因此只运行一个。

另一个需要对 buildbot 进行细微更改的选项是使`mode`参数可渲染，这将允许您使用属性来控制用于更新存储库的模式。

# c# - 如何在服务器标签内使用 if 或 try catch 块

> ID：11028961
> 
> 赞同：0
> 
> 时间：2012-06-14T07:58:45.993
> 
> 标签：c#, asp.net

我想知道是否可以在服务器标签中使用 if 语句或 try catch 块？IE：

```
'<%= if(grid!=null){((DropDownList)this.grid.FindControl("SRPType")).ClientID} %>' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:03:59.420

```
<% try { %>

    <%= (grid != null) ?
            ((DropDownList)this.grid.FindControl("SRPType")).ClientID : ""
    %>
<% }
   catch {
    ... exception handling
   }
%> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T08:04:27.357

不要使用 <%= %> 语法，而是使用 <% %> 并调用[Response.Write](http://msdn.microsoft.com/en-us/library/ms525585%28v=vs.90%29.aspx)来写入输出值，例如：

```
<%
    if(grid!=null)
    {
       try
       {
           var myList=(DropDownList)this.grid.FindControl("SRPType");
           if (myList!=null)
               Response.Write( myList.ClientID);
           else
               Response.Write("Where's my listbox?");
       }
       catch(Exception exc)
       {
          //Report error, maybe warn user
       }
    }

%> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-14T08:05:59.080

不知道异常，但是您始终可以使用内联 if 语句...

```
<%=(grid != null ? ((DropDownList)this.grid.FindControl("SRPType")).ClientID : "" )%> 
```

# delphi - Delphi DataSnap - 更改客户端连接中的“用户代理”HTTP 标头属性

> ID：11028963
> 
> 赞同：0
> 
> 时间：2012-06-14T07:58:56.347
> 
> 标签：delphi, http, delphi-xe2, user-agent, datasnap

我有一个使用 DataSnap HTTP 连接到 REST 服务的 Delphi XE2 Win32 应用程序。HTTP 连接使用“Mozilla/3.0 (compatible; Indy Library)”的默认“User-Agent”标头。我想将此更改为更特定于我的应用程序，以便我可以监视来自不同应用程序版本的服务器上的连接。我正在使用 TDSRESTConnection 进行连接 - 任何人都可以指向我需要使用的对象/属性来设置“用户代理”吗？我尝试过使用以下内容：

```
TDSRESTConnection.HTTP.Request.CustomHeaders.AddValue('User-Agent', 'MyText'); 
```

但这没有任何区别。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T14:49:31.490

不幸的是，您的自定义标头被清除并忽略`TDSRestRequest.GetHTTP`（并`TDSRestRequest`隐藏在`Datasnap.DSClientRest`单元的实现中）。试试这个解决方法：

```
uses
  Datasnap.DSHTTP, IdHTTPHeaderInfo;

const
  SUserAgent = 'MyUserAgent';

type
  TDSHTTPEx = class(TDSHTTP)
    constructor Create(AOwner: TComponent; const AIPImplementationID: string); override;
  end;

  TDSHTTPSEx = class(TDSHTTPS)
    constructor Create(const AIPImplementationID: string); override;
  end;

{ TDSHTTPEx }

constructor TDSHTTPEx.Create(AOwner: TComponent; const AIPImplementationID: string);
begin
  inherited Create(AOwner, AIPImplementationID);
  with Request.GetObject as TIdRequestHeaderInfo do
    UserAgent := SUserAgent;
end;

{ TDSHTTPSEx }

constructor TDSHTTPSEx.Create(const AIPImplementationID: string);
begin
  inherited Create(AIPImplementationID);
  with Request.GetObject as TIdRequestHeaderInfo do
    UserAgent := SUserAgent;
end;

initialization
  TDSHTTP.UnregisterProtocol('http');
  TDSHTTP.RegisterProtocol('http', TDSHTTPEx);
  TDSHTTP.UnregisterProtocol('https');
  TDSHTTPS.RegisterProtocol('https', TDSHTTPSEx);

finalization
  TDSHTTP.UnregisterProtocol('http');
  TDSHTTP.UnregisterProtocol('https');

end. 
```

# iphone - Sqlite 连接

> ID：11028964
> 
> 赞同：1
> 
> 时间：2012-06-14T07:58:58.170
> 
> 标签：iphone, ios, ipad

您好，我正在尝试构建一个 sqlite 数据库教程，但它不起作用，任何人都可以帮助我：

在下面找到我的代码：

```
#import <UIKit/UIKit.h>

@interface ViewController : UIViewController

@end

#import "ViewController.h"
#import "PersonInfo.h"
#import "PersonDatabase.h"

@implementation ViewController

- (void)viewDidLoad
{
    [super viewDidLoad];
    NSArray *personInfo=[[PersonDatabase database]getAllPersons];
    for (PersonInfo*info in personInfo) {
        NSLog(@"%d-%@",info.unique,info.nam);
    }// Do any additional setup after loading the view, typically from a nib.
}

- (void)viewDidUnload
{
    [super viewDidUnload];
    // Release any retained subviews of the main view.
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return YES;
}

@end

#import <Foundation/Foundation.h>

@interface PersonInfo : NSObject{
    int unique;
    NSString * nam;
}
@property(nonatomic, assign)int unique;
@property(nonatomic, copy)NSString * nam;
-(id) initWithUniqueId:(int)uniqueId name:(NSString *)name;
@end

#import "PersonInfo.h"

@implementation PersonInfo
@synthesize unique,nam;

-(id) initWithUniqueId:(int)uniqueId name:(NSString *)name{
    self=[super init];
    if (self) {
        self.unique=uniqueId;
        self.nam=name;
        NSLog(@"a");
    }
    return self;
}

@end

#import <Foundation/Foundation.h>
#import "sqlite3.h"

@interface PersonDatabase : NSObject{
    sqlite3 * database;

}
+(PersonDatabase *)database;
-(NSArray *)getAllPersons;
@end

#import "PersonDatabase.h"
#import "PersonInfo.h"

@implementation PersonDatabase
static PersonDatabase * database;

+(PersonDatabase *)database{
    if (database ==nil) {
        database =[[PersonDatabase alloc]init];

    }
    return database;
}
-(id)init{

    self=[super init];
    if (self) {
        NSString *sqliteDb=[[NSBundle mainBundle]pathForResource:@"admin" ofType:@"sqlite3"];
        if(sqlite3_open([sqliteDb UTF8String],&database)!=SQLITE_OK){
            NSLog(@"FAILED");
        }else {
            NSLog(@"passed");
        }
    }
    return self;
}
-(NSArray *)getAllPersons{
    NSMutableArray * returnArray=[[NSMutableArray alloc]init];
    NSString * query= @"SELECT * FROM names";
    NSLog(@"%@",query);
    sqlite3_stmt * statement;
    if(sqlite3_prepare_v2(database, [query UTF8String],-1, &statement,NULL)==SQLITE_OK){

        while (sqlite3_step(statement)==SQLITE_OK) {
            int uniqueId = sqlite3_column_int(statement, 0);
            char *nameChars=(char *)sqlite3_column_text(statement,1);
            NSString *name=[[NSString alloc]initWithUTF8String:nameChars];
            PersonInfo *info=[[PersonInfo alloc]initWithUniqueId:uniqueId name:name];
            [returnArray addObject:info];
        }
        sqlite3_finalize(statement);
    }
    else {
        NSLog(@"a");
    }
    return returnArray;
}

@end 
```

我发现问题是，它没有通过下面的函数，但我不知道为什么？..它也没有给出任何错误？？？？

```
if(sqlite3_prepare_v2(database, [query UTF8String],-1, &statement,NULL)==SQLITE_OK) 
```

提前致谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:31:30.727

sqlite3_open 将第二个参数作为 sqlite3**，但您传递了 PersonDatabase**（以及 sqlite3_prepare_v2 需要 sqlite3*，而不是 PersonDatabase*）：

首先，代码中有很多歧义：

改名

```
static PersonDatabase *database; 
```

类似于

```
static PersonDatabase *instance; 
```

比

```
+(PersonDatabase *)database; 
```

到

```
+(PersonDatabase *)sharedInstance; 
```

所以

```
+(PersonDatabase *)database{
    if (database ==nil) {
        database =[[PersonDatabase alloc]init];

    }
    return database;
} 
```

将会

```
+(PersonDatabase *)sharedInstance{
        if (instance ==nil) {
            instance =[[PersonDatabase alloc]init];

        }
        return instance;
    } 
```

所以现在 sqlite3 *database 和静态 PersonDatabase *database 之间没有歧义。一切都应该工作。

# iphone - 屏幕动画未录制

> ID：11028966
> 
> 赞同：3
> 
> 时间：2012-06-14T07:59:00.203
> 
> 标签：iphone, ios, uiimageview

我使用`ScreenCaptureView`[用于捕获网络上可用的iphone屏幕视频的类]，它只是记录屏幕并将**.mp4**文件保存到文档目录。我的问题是我使用 的动画属性在屏幕上执行动画`UIImageView`，但在视频中没有显示动画。它只是显示`UIImageView`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T12:07:54.450

你好朋友，我得到了我的问题的答案，我发布了这个，所以你不要像我一样担心！！！只需简单地更改 drawRect() 中的 [[self.layer presentationLayer] renderInContext:context] 而不是
文件 ScreenCaptureView.m中的 [self.layer renderInContext:context]

它将开始工作，谢谢....您还可以查看此[链接](http://codethink.no-ip.org/wordpress/archives/673)了解更多信息

# list - 设置 OCaml 列表的类型

> ID：11028969
> 
> 赞同：1
> 
> 时间：2012-06-14T07:59:18.063
> 
> 标签：list, ocaml

我想将列表的类型设置为整数，但我不知道如何执行此操作。我可以执行以下操作：

```
let listOfInts = []; 
```

但这只会使 listOfInts 成为一个允许放入任何类型的列表。如何强制 listOfInts 只是一个整数列表？

这是为了在 OCaml 中创建一个字典，将字符串（键）映射到 int（值）。为简单起见，我只是将值设为字符串的长度。有人可以帮我解决这个问题吗？提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-14T08:08:00.913

显式声明类型。

```
let (listOfInts : int list) = []; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-14T12:23:27.227

在这里通过注释强制类型是没有用的：您可以`[]`在任何类型中使用，但是一旦您使用它来创建特定类型的元素列表，它将被实例化为正确的类型。

对于既不是完全推断也不是泛化的具有可变状态的值类型（例如`ref []`），具有注释有时很有用。

我不明白这与您在字符串和整数之间建立映射的更广泛问题有何关系，因为这根本不涉及列表。如果你想要一个可变的地图，你可以使用[Hasthbl](http://caml.inria.fr/pub/docs/manual-ocaml/libref/Hashtbl.html)，否则[Map](http://caml.inria.fr/pub/docs/manual-ocaml/libref/Map.html)。

```
module StringMap = Map.Make(String)
let m = StringMap.add "foo" 3 StringMap.empty 
```

（`m`有类型`int StringMap.t`）

# xcode - UIImageView 动画问题

> ID：11028972
> 
> 赞同：1
> 
> 时间：2012-06-14T07:59:53.490
> 
> 标签：xcode

当我在单个视图中运行两个 UIImageview 动画时，第一个图像与第二个图像重叠，但我已经安排第二个图像在 IB 中的第一个图像之上。为什么？请指教

```
 duckview2.animationImages = [NSArray arrayWithObjects:
                            [UIImage imageNamed:@"duck1.png"],
                            [UIImage imageNamed:@"duck2.png"],
                            [UIImage imageNamed:@"duck3.png"],
                            [UIImage imageNamed:@"duck4.png"],                              
                            [UIImage imageNamed:@"duck5.png"],nil]; 
duckview2.animationDuration = 0.3;
duckview2.animationRepeatCount = -1;
[duckview2 startAnimating];
[self.view addSubview:duckview2];

cowview2.animationImages = [NSArray arrayWithObjects:
                           [UIImage imageNamed:@"cow1b.png"],
                           [UIImage imageNamed:@"cow2b.png"],
                           [UIImage imageNamed:@"cow3b.png"],
                           [UIImage imageNamed:@"cow4b.png"],nil]; 
cowview2.animationDuration = 2;
cowview2.animationRepeatCount = -1;
[cowview2 startAnimating];
[UIView setAnimationBeginsFromCurrentState:YES];
[self.view addSubview:cowview2]; 
```

# java - Android、SQL、空指针异常

> ID：11028976
> 
> 赞同：0
> 
> 时间：2012-06-14T08:00:12.340
> 
> 标签：java, android, sql, nullpointerexception

我正在编码 Android，sql atm，我需要你的帮助。无法启动应用程序，因为我有一个空指针，我找不到它...

所以我试着读了很多书，但我认为我并没有清楚地理解这里的一切。所以如果你能试着告诉我哪里出了问题，那就太棒了。

你能帮我吗？

感谢所有阅读本文的人！:)

```
>public class DBAdapter
>{
>   //Variables and so on..
>   public static final String KEY_ROWID = "_id";
>   public static final String KEY_ISBN = "isbn";
>   public static final String KEY_TITLE = "title";
>   public static final String KEY_PUBLISHER ="publisher";
>   private static final String TAG ="DBAdapter";
>   private static final String DATABASE_NAME = "books";
>   private static final String DATABASE_TABLE = "titles";
>   private static final int DATABASE_VERSION = 1;
>   private static final String DATABASE_CREATE = "create table titles (_id integer >primary key autoincrement, "+ "isbn text not null, title text not null, "+ "publisher >text not null);";
>   
>   private final Context context;
>   
>   private DatabaseHelper DBHelper;
>   private SQLiteDatabase db;
>   
>   public DBAdapter(Context ctx)
>   {
>       this.context = ctx;
>       DBHelper = new DatabaseHelper(context);
>   }
>   
>   private static class DatabaseHelper extends SQLiteOpenHelper
>   {
>       DatabaseHelper(Context context)
>       {
>           super(context, DATABASE_NAME, null, DATABASE_VERSION);
>       }
>       @Override
>       public void onCreate(SQLiteDatabase db)
>       {
>           db.execSQL(DATABASE_CREATE);
>       }
>       @Override
>       public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion)
>       {
>           Log.w(TAG, "Upgrading database from version "+oldVersion+" to >"+newVersion+" which will destory all old data");
>           db.execSQL("DROP TABLE IF EXISTS titles");
>           onCreate(db);
>       }
>   }
>
>   //opens database
>   public DBAdapter open() throws SQLException
>   {
>       db = DBHelper.getWritableDatabase();
>       return this;
>   }
>   
>   //closes database
>   public void close()
>   {
>       DBHelper.close();
>   }
>   
>   //insert title to database
>   ContentValues initialValues = new ContentValues();
>   public long insertTitle(String isbn, String title, String publisher)
>   {
>       initialValues.put(KEY_ISBN, isbn);
>       initialValues.put(KEY_TITLE, title);
>       initialValues.put(KEY_PUBLISHER, publisher);
>       return db.insert(DATABASE_TABLE, null, initialValues);
>   }
>   
>   //Delete specific title
>   public boolean deleteTitle(long rowId)
>   {
>       return db.delete(DATABASE_TABLE, KEY_ROWID + "=" + rowId, null) > 0;
>   }
>   
>   //Retrieves all titles
>   public Cursor getAllTitles()
>   {
>       return db.query(DATABASE_TABLE, new String[]
>       {KEY_ROWID, KEY_ISBN, KEY_TITLE, KEY_PUBLISHER}, null, null, null, null, >null);
>   }
>   
>   //Retrieves a particular title
>   public Cursor getTitle(Long rowId) throws SQLException
>   {
>       Cursor mCursor = db.query(true, DATABASE_TABLE, new String[]
>               {KEY_ROWID, KEY_ISBN, KEY_TITLE, KEY_PUBLISHER}, KEY_ROWID >+ "=" + rowId, null, null, null, null, null);
>       if(mCursor != null)
>       {
>           mCursor.moveToFirst();
>       }
>       return mCursor;
>   }
>   
>   //Update a title
>   ContentValues args = new ContentValues();
>   public boolean updateTitle(long rowId, String title, String isbn, String publisher)
>   {
>       args.put(KEY_ISBN, isbn);
>       args.put(KEY_TITLE, title);
>       args.put(KEY_PUBLISHER, publisher);
>       return db.update(DATABASE_TABLE, args, KEY_ROWID + "=" + rowId, null) > 0;
>   }
>} 
```

编辑：

这是我使用 DBAdapter 类的代码：

```
public class DatabasActivity extends Activity
{
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        DBAdapter db = new DBAdapter(this);

        //Add 2 titles
        db.open();
        long id;
        id = db.insertTitle("0470285818", "C# 2008 Programmer's Reference", "Wrox");
        id = db.insertTitle("047017661X", "Professional Windows Vista Gadgets Programming", "Wrox");
        db.close();

        //Get all titles
        db.open();
        Cursor c = db.getAllTitles();
        if(c.moveToFirst())
        {
            do
            {
                DisplayTitle(c);
            }
            while(c.moveToNext());
            {

            }
        }
        db.close();

        //get a title
        db.open();
        Cursor c1 = db.getTitle((long) 2);
        if(c1.moveToFirst())
        {
            DisplayTitle(c1);
        }
        else
        {
            Toast.makeText(this, "No title found", Toast.LENGTH_LONG).show();
        }
        db.close();

        //Update a title
        db.open();
        if(db.updateTitle(1, "0470285818", "C# 2008 Programmer's Reference", "Wrox Press"))
        {
            Toast.makeText(this, "Update successful", Toast.LENGTH_LONG).show();
        }
        else
        {
            Toast.makeText(this, "Update failed", Toast.LENGTH_LONG).show();
        }
        db.close();
        //Retrive the updated title
        Cursor c2 = db.getTitle((long) 1);
        if(c.moveToFirst())
        {
            DisplayTitle(c2);
        }
        else
        {
            Toast.makeText(this, "No title found", Toast.LENGTH_LONG).show();
        }
    }

    public void DisplayTitle(Cursor c)
    {
        Toast.makeText(this, "id: "+c.getString(0)+"\n"+"ISBN: "+c.getString(1)+"\n"+"Title: "+c.getString(2)+"\n"+"Publisher: "+c.getString(3), Toast.LENGTH_LONG).show();
    }

} 
```

我设法从我的 logcat 中获得了一些输出，这里是：

```
06-14 08:43:00.882: D/AndroidRuntime(426): Shutting down VM
06-14 08:43:00.892: W/dalvikvm(426): threadid=1: thread exiting with uncaught exception (group=0x40015560)
06-14 08:43:00.912: E/AndroidRuntime(426): FATAL EXCEPTION: main
06-14 08:43:00.912: E/AndroidRuntime(426): java.lang.RuntimeException: Unable to start activity ComponentInfo{databas.test.org/databas.test.org.DatabasActivity}: java.lang.NullPointerException
06-14 08:43:00.912: E/AndroidRuntime(426):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
06-14 08:43:00.912: E/AndroidRuntime(426):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
06-14 08:43:00.912: E/AndroidRuntime(426):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
06-14 08:43:00.912: E/AndroidRuntime(426):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
06-14 08:43:00.912: E/AndroidRuntime(426):  at android.os.Handler.dispatchMessage(Handler.java:99)
06-14 08:43:00.912: E/AndroidRuntime(426):  at android.os.Looper.loop(Looper.java:123)
06-14 08:43:00.912: E/AndroidRuntime(426):  at android.app.ActivityThread.main(ActivityThread.java:3683)
06-14 08:43:00.912: E/AndroidRuntime(426):  at java.lang.reflect.Method.invokeNative(Native Method)
06-14 08:43:00.912: E/AndroidRuntime(426):  at java.lang.reflect.Method.invoke(Method.java:507)
06-14 08:43:00.912: E/AndroidRuntime(426):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
06-14 08:43:00.912: E/AndroidRuntime(426):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
06-14 08:43:00.912: E/AndroidRuntime(426):  at dalvik.system.NativeStart.main(Native Method)
06-14 08:43:00.912: E/AndroidRuntime(426): Caused by: java.lang.NullPointerException
06-14 08:43:00.912: E/AndroidRuntime(426):  at databas.test.org.DBAdapter.insertTitle(DBAdapter.java:74)
06-14 08:43:00.912: E/AndroidRuntime(426):  at databas.test.org.DatabasActivity.onCreate(DatabasActivity.java:24)
06-14 08:43:00.912: E/AndroidRuntime(426):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
06-14 08:43:00.912: E/AndroidRuntime(426):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
06-14 08:43:00.912: E/AndroidRuntime(426):  ... 11 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T08:05:47.860

我看到的唯一潜在的 NPE 是在没有打电话`open()`的时候`DbAdapter`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:03:54.820

我认为在

```
create table titles (_id integer >primary key autoincrement, "+ "isbn text not null, title text not null, "+ "publisher >text not null) 
```

">" 在那里无效......

# php - 使用 php 变量使用 jquery 添加 textarea 内容

> ID：11028990
> 
> 赞同：0
> 
> 时间：2012-06-14T08:01:12.620
> 
> 标签：php, jquery, variables, insert, textarea

> **可能重复：**
> [将 PHP 字符串传递给 Javascript 变量（包括转义换行符）](https://stackoverflow.com/questions/168214/pass-a-php-string-to-a-javascript-variable-including-escaping-newlines)

Hy，所以我的问题是我有一个用 jquery 生成的 textarea，如下所示：

```
$var input = $('<textarea name="somename"></textarea>');
$(something).after(input); 
```

但我也想用 php 填充这个 textarea 内容（当然存在内容时）。sp 现在我的代码如下所示：

```
$var input = $('<textarea name="somename"><?=$variabel[0][something];?</textarea>');
$(something).after(input); 
```

所以问题在于，当我运行此代码时，javascript 会自动填充该输入变量中 textarea 的内容，并且因为它中断了不止一行，所以我收到一条错误消息“意外令牌非法”

我希望我解释得很好，所以我需要以某种方式将 textarea 的内容放在生成的 textarea 中，但是以一种我的输入不会中断的方式。

感谢您的任何建议！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T08:08:39.437

删除`$`它不是 php 变量，试试这个：

```
var input = $('<textarea name="somename"></textarea>');
$(something).after(input);
$('textarea[name="somename"]').val( <?php echo $variabel[0]['something']; ?> ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T08:11:35.487

您可以使用 php 函数 json_encode() 在输出 PHP 变量之前对其进行编码。例如，它将换行符转换为 \n。有关该功能的更多详细信息，请参见此处

[http://php.net/manual/en/function.json-encode.php](http://php.net/manual/en/function.json-encode.php)

在你的情况下，它会是这样的：

```
var input = '<textarea name="somename"><?= json_encode($variabel[0][something]); ?></textarea>'; 
```

另请参阅以下问题：[Pass a PHP string to a JavaScript variable (and escape newlines)](https://stackoverflow.com/questions/168214/pass-a-php-string-to-a-javascript-variable-including-escaping-newlines/169035#169035)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-14T08:07:59.947

试试这个：

```
var $input = $('<?php echo "<textarea name=\"somename\">".htmlentities($variable[0]['something'])."</textarea>" ?>'); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-14T08:08:40.483

问题是语法错误，您需要`>`关闭 PHP 标记：

```
$var input = $('<textarea name="somename"><?=$var;?></textarea>'); 
```

使用 Chrome 内置的控制台可以轻松检测到此错误。[或者，如果您使用 Firefox，您可以使用名为Firebug](https://addons.mozilla.org/nl/firefox/addon/firebug/)的扩展。

# java - 如何在 Java 中将文件剪切到剪贴板？

> ID：11028993
> 
> 赞同：7
> 
> 时间：2012-06-14T08:01:28.043
> 
> 标签：java, clipboard

我在 Java Swing 应用程序中使用此代码将文件复制到剪贴板：

```
final List<File> files = new ArrayList<File>();
// ... code to fill list omitted ... //

Toolkit.getDefaultToolkit().getSystemClipboard().setContents(
    new Transferable() {
        @Override
        public DataFlavor[] getTransferDataFlavors() {
            return new DataFlavor[] { DataFlavor.javaFileListFlavor };
        }

        @Override
        public boolean isDataFlavorSupported(DataFlavor flavor) {
            return DataFlavor.javaFileListFlavor.equals(flavor);
        }

        @Override
        public Object getTransferData(DataFlavor flavor) throws UnsupportedFlavorException, IOException {
            return files;
        }
    }, null
); 
```

它可以工作，因为我可以转到 Windows 资源管理器和 Ctrl+V 并打开文件（希望它可以在其他操作系统中工作，尽管未经测试）。我也想实现**cut**但我不知道如何让系统知道这就是操作，或者如何获取每个成功复制的文件的反馈，以便我可以手动将其从原始位置删除。

如果这不是不可能的，关于我应该如何处理的任何建议？我也希望能够在应用程序中剪切和粘贴（分别与操作系统资源管理器交换文件）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-23T12:49:57.190

还有另一篇文章，人们讨论缺乏剪切文件的可能性：

[使用 SWT 将文件剪切到剪贴板](https://stackoverflow.com/questions/10481920/cutting-files-into-the-clipboard-with-swt)

如果你真的需要它，你可以采取丑陋的方式并检查是否有办法通过 JNI 调用来做到这一点，但是你必须对你想要支持的所有平台都这样做......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-28T16:24:46.517

这在使用 Swing 时“有点”可能。请参阅 TransferHandler.exportToClipboard()。它提供了一个动作。使用 exportToClipboard() 的正确方法是调用 TransferHandler.getCutAction() 然后使用新创建的 ActionEvent() 调用 actionPerformed() - 我使用分配有 TransferHandler 的 JComponent 将创建带有所需文件的 Transferable 放入剪贴板.

但相反是不可能的。从剪贴板导入无法知道它是否被剪切或复制到剪贴板。TransferHandler.TransferSupport.getDropAction() 仅适用于 DND 操作。

但也许由剪贴板所有者在传输完成后删除文件。请参阅 TransferHandler.exportDone()

另请参阅错误[http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6673481](http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6673481)

# javascript - 如何在 javascript 或 jquery 中进行电话号码格式检查？

> ID：11028995
> 
> 赞同：-4
> 
> 时间：2012-06-14T08:01:34.120
> 
> 标签：javascript, jquery, regex, phone-number

我有一个带有电话号码字段的表格，我需要使用按键上的格式对其进行验证。这该怎么做？
就像，有人输入除 () 或字母之外的特殊字符，然后它应该显示警报，如果输入数字，那么它应该自动格式化，如 (999)-999-9999。
谁能帮助我如何在 jquery 或 javascript 中做到这一点？

编辑
我在下面使用此代码作为 jquery 掩码插件
`$(#myid).mask("(999)-999-9999",{placeholder:" "});` 占位符用于将“_”下划线替换为空白。这现在完美无缺。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T08:03:59.250

您可以使用像 jQuery [Masked 输入插件这样的插件](http://digitalbush.com/projects/masked-input-plugin/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-14T08:19:08.860

[蒙面输入](http://digitalbush.com/projects/masked-input-plugin/)会做的伎俩

```
////$("#your_text_box_id").mask("<FORMAT YOU WANT>");
$("#textbox id").mask("99/99/9999"); 
```

# graphviz - graphviz circo 中节点之间的空间太大

> ID：11028998
> 
> 赞同：4
> 
> 时间：2012-06-14T08:01:53.373
> 
> 标签：graphviz, dot

我有一个简单的 .dot 文件（graphviz），见下文：

```
digraph Mapper{
  Mapper [label=Mapper];

  General [label=General];
  GeneralNew [label=New];
  GeneralOpen [label=Open];
  GeneralSave [label=Save];
  GeneralClose [label=Close];
  GeneralSettings [label=Settings];
  GeneralHelp [label=Help];
  GeneralAbout [label=About];
  GeneralNewLoad [label="Load symbol set"];
  GeneralNewLoadFile [label="Load symbol set from file"];
  GeneralNewNoLoad [label="Don't load symbols"];
  GeneralOpenFiles [label="OCD|OMAP", shape=record];
  GeneralOpenRecent [label="Open recent"];
  GeneralSaveFiles [label="OMAP|MapperXML", shape=record];
  GeneralHelpStartup [label="Startup tips"];
  GeneralHelpHTML [label="HTML Help"];
  GeneralHelpWhatsThis [label="What's this?"];
  General -> GeneralNew;
  General -> GeneralOpen;
  General -> GeneralSave;
  General -> GeneralClose;
  General -> GeneralSettings;
  General -> GeneralHelp;
  General -> GeneralAbout;
  GeneralNew -> GeneralNewLoad;
  GeneralNew -> GeneralNewLoadFile;
  GeneralNew -> GeneralNewNoLoad;
  GeneralOpen -> GeneralOpenFiles;
  GeneralOpen -> GeneralOpenRecent;
  GeneralSave -> GeneralSaveFiles;
  GeneralHelp -> GeneralHelpStartup;
  GeneralHelp -> GeneralHelpHTML;
  GeneralHelp -> GeneralHelpWhatsThis;
  Mapper -> General;

  Map [label=Map];
  MapImport [label=Import];
  MapPrint [label=Print];
  MapEditor [label=Editor];
  MapChangeCoordinate [label="Change coordinate system"];
  MapChangeScale [label="Change scale"];
  MapAddNotes [label="Add notes"];
  MapImportFiles [label="DXF|GPX", shape=record];
  MapEditorUndo [label=Undo];
  MapEditorRedo [label=Redo];
  MapEditorTools [label=Tools];
  MapEditorSelectObjectsWithSymbol [label="Select all objects with symbol..."];
  MapEditorTools [label=Tools];
  MapEditorToolsEdit [label="Edit|Duplicate|Switch symbol|Switch direction|Connect|Rotate", shape=record, style=rounded];
  MapEditorToolsBasic [label="Point|Straight Line|Bezier|Circle|Rectangle|<text> Text", shape=record, style=rounded];
  MapEditorToolsAdvanced [label="Fill|Create border|Cut object|Measure", shape=record, style=rounded];
  MapEditorToolsArea [label="Area difference|Area XOr|Unify areas|Intersect areas", shape=record, style=rounded];
  MapEditorToolsCutArea [label="Cut hole"];
  MapEditorToolsCutAreas [label="Circle|Rectangle|Free", shape=record, style=rounded];
  MapEditorToolsTextAlignment [label="Text alignment"];
  Map -> MapImport;
  Map -> MapPrint;
  Map -> MapEditor;
  Map -> MapChangeCoordinate;
  Map -> MapChangeScale;
  Map -> MapAddNotes;
  MapImport -> MapImportFiles;
  MapEditor -> MapEditorUndo;
  MapEditor -> MapEditorRedo;
  MapEditor -> MapEditorTools;
  MapEditor -> MapEditorSelectObjectsWithSymbol;
  MapEditorTools -> MapEditorToolsEdit;
  MapEditorTools -> MapEditorToolsBasic;
  MapEditorTools -> MapEditorToolsAdvanced;
  MapEditorTools -> MapEditorToolsArea;
  MapEditorTools -> MapEditorToolsCutArea;
  MapEditorToolsBasic:text -> MapEditorToolsTextAlignment;
  MapEditorToolsCutArea -> MapEditorToolsCutAreas;
  Mapper -> Map;

  View [label=View];
  ViewZoom [label="Zoom"];
  ViewCoordinate [label="Coordinate display"];
  ViewFullscreen [label="Fullscreen"];
  ViewZoomIn [label="Zoom in"];
  ViewZoomOut [label="Zoom out"];
  ViewZoomWhole [label="Show whole map"];
  ViewZoomCustom [label="Custom zoom factor"];
  ViewCoordinateSystems [label="Map|Local|Degrees|DMS", shape=record];
  View -> ViewZoom;
  View -> ViewCoordinate;
  View -> ViewFullscreen;
  ViewZoom -> ViewZoomIn;
  ViewZoom -> ViewZoomOut;
  ViewZoom -> ViewZoomWhole;
  ViewZoom -> ViewZoomCustom;
  ViewCoordinate -> ViewCoordinateSystems;
  Mapper -> View;

  Symbols [label="Symbols"];
  SymbolsNew [label=New];
  SymbolsEdit [label=Edit];
  SymbolsDuplicate [label=Duplicate];
  SymbolsDelete [label=Delete];
  SymbolsScale [label="Scale"];
  SymbolsHide [label="Hide objects with symbol..."];
  SymbolsProtect [label="Protect objects with symbol..."];
  SymbolsSelectAll [label="Select all symbols"];
  SymbolsInvertSelect [label="Invert symbol selection"];
  SymbolsColors [label="Colors"];
  SymbolsColorsNew [label=New];
  SymbolsColorsDelete [label=Delete];
  SymbolsColorsDuplicate [label=Duplicate];
  SymbolsColorsOrder [label="Change order"];
  Symbols -> SymbolsNew;
  Symbols -> SymbolsEdit;
  Symbols -> SymbolsDuplicate;
  Symbols -> SymbolsDelete;
  Symbols -> SymbolsScale;
  Symbols -> SymbolsHide;
  Symbols -> SymbolsProtect;
  Symbols -> SymbolsSelectAll;
  Symbols -> SymbolsInvertSelect;
  Symbols -> SymbolsColors;
  SymbolsColors -> SymbolsColorsNew;
  SymbolsColors -> SymbolsColorsDelete;
  SymbolsColors -> SymbolsColorsDuplicate;
  SymbolsColors -> SymbolsColorsOrder;
  Mapper -> Symbols;

  Templates [label="Templates"];
  TemplatesOpen [label=Open];
  TemplatesOrder [label="Change order"];
  TemplatesOpenFiles [label="Images|GPX|DXF|OCD|OMAP", shape=record];
  TemplatesPaint [label="Paint on template"];
  TemplatesOpacity [label="Opacity"];
  TemplatesMove [label="Move"];
  TemplatesAdjust [label="Adjust"];
  TemplatesRotation [label="Rotation"];
  Templates -> TemplatesOpen;
  Templates -> TemplatesPaint;
  Templates -> TemplatesOrder;
  Templates -> TemplatesOpacity;
  Templates -> TemplatesMove;
  Templates -> TemplatesAdjust;
  Templates -> TemplatesRotation;
  TemplatesOpen -> TemplatesOpenFiles;
  Mapper -> Templates;
} 
```

我正在使用以下命令来生成图表：

```
cat mapper.dot | circo -Tpng >output.png 
```

其中 mapper.dot 是具有上述内容的文件。

问题是节点之间有很大的空间。我的意思太多了。有什么办法可以减少空间吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2018-05-16T23:14:20.280

我找到了！

将“mindist”设置为数字 < 1

例如：

```
graph z {

  layout="circo"
  mindist=.3

  a -- b
  a -- c
  a -- d

} 
```

我通过查看[Circo 源代码发现了这一点](https://gitlab.com/search?utf8=%E2%9C%93&search=circo&group_id=&project_id=4207231&search_code=true&repository_ref=master "圆环源代码")

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-14T08:39:08.510

从您`dot`文件的输出来看，我不确定是否`circo`可行。我个人会`sfdp`改用。

如果我删除您的[uuoc](http://partmaps.org/era/unix/award.html#cat)并使用以下命令创建映像：

```
sfdp -Tpng -Goverlap=false -o output.png mapper.dot 
```

您将获得更短的边缘，没有节点重叠，但另一方面，边缘将与节点重叠。为了摆脱这种情况，您可以通过添加启用样条线

```
-Gsplines=true 
```

到命令。

输出远非完美，但对我来说它看起来比以前更有吸引力。