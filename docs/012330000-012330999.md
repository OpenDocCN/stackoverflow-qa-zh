# StackOverflow 问答 12330000-12330999

# mysql - 在 MySQL 工作台中的模型和数据库 syc 期间源不可用

> ID：12330000
> 
> 赞同：1
> 
> 时间：2012-09-08T10:42:21.240
> 
> 标签：mysql, database, database-design, mysql-workbench

我正在尝试更新表并将其与源同步，但源不可用，如您在屏幕截图中看到的那样

![在此处输入图像描述](../Images/e5ea3fbf986ed964d1f6632a0e4d8d4e.png)

脚本是

```
CREATE  TABLE IF NOT EXISTS `DAHMS`.`Answers` (
  `aid` INT(11) NOT NULL AUTO_INCREMENT ,
  `qid` INT(11) NOT NULL ,
  `sid` INT(11) NOT NULL ,
  `answer` VARCHAR(45) NOT NULL ,
  PRIMARY KEY (`aid`) ,
  INDEX `fk_Answers_Session1_idx` (`sid` ASC) ,
  INDEX `fk_Answers_Questions1_idx` (`qid` ASC) ,
  CONSTRAINT `fk_Answers_Session1`
    FOREIGN KEY (`sid` )
    REFERENCES `DAHMS`.`Session` (`sid` )
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Answers_Questions1`
    FOREIGN KEY (`qid` )
    REFERENCES `DAHMS`.`Questions` (`qid` )
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COLLATE = latin1_swedish_ci 
```

# python - if 块后变量的生命周期

> ID：12330002
> 
> 赞同：2
> 
> 时间：2012-09-08T10:43:10.513
> 
> 标签：python

有这个代码：

```
>>> if True:
...     a = 4
... 
>>> print a
4 
```

为什么变量**a在****if**块之后仍然存在？**阻塞时**不应该被销毁吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-08T10:46:49.063

Python 变量在a`function`或. 语句中初始化的变量，语句和语句在if/while/for语句外都可以使用`class``module``if``while``for`

这与许多其他语言不同，在这些语言中，访问变量会因为超出范围而引发异常

请注意，如果 if/while/for 语句为 false 并且不执行，`a`例如不会被初始化，它会抛出如下错误：

```
>>> if False:
...     a = 5
... 
>>> print a
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
NameError: name 'a' is not defined 
```

# javascript - 如何在没有回调的情况下获取有关元素的信息

> ID：12330007
> 
> 赞同：0
> 
> 时间：2012-09-08T10:44:16.573
> 
> 标签：javascript, jquery

我有不同的容器可以在不同的事件上重新加载。我有很多，所以我给每个容器 class `load`。

这就是他们所有人的样子：

```
<div class="load" data-href="facebook">
</div> 
```

我还有一个功能，由各种动作触发：

```
function get_timing(time)
{
   $(".load").load("myfolder/mod_"+$(this).attr("data-href")+".php?action="+time, function() { 
       alert('Here I could use this:' + $(this).attr("data-href"));
   }
} 
```

我知道我不能`this`在上面的例子中使用，我只能在回调中使用它。我的问题是：如何使用对象的属性来定义加载函数的路径。

这就是它的工作方式：

```
function get_timing(time)
{
   $(".load").fadeIn(10, function()
       {
           $(this).load("myfolder/mod_"+$(this).attr("data-href")+".php?action="+time, function() { 
           alert('loaded');
       }
   }
} 
```

有没有办法在没有异步功能（在这种情况下`.fadIn`）的情况下做到这一点）

希望我能解释我的问题 - 提前谢谢你！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T10:52:17.987

如果您想与类一起使用，可以通过索引引用它们：

```
var element = $(".load").get(0);
console.log($(element).attr("data-href")); 
```

`element`请注意，您必须通过重新 jQueryfy`$(element)`才能访问`attr()`

如果你想读出给定类的所有元素，我推荐[`$.each()`](http://api.jquery.com/jQuery.each/)

```
//$.each($(".load"), function(index, value){
$(".load").each(function(index, value){
    console.log( $(value).attr("data-href"));   
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T10:47:04.750

尝试给你的容器一个 id：

```
<div class="load" data-href="facebook" id="facebookcontainer">
</div> 
```

然后，您可以`$("#facebookcontainer")`在 javascript 中使用，而不是使用它。

# mod-rewrite - 如何让自定义模块在 Zend Framework 2 中工作？

> ID：12330008
> 
> 赞同：0
> 
> 时间：2012-09-08T10:44:20.653
> 
> 标签：mod-rewrite, apache2, zend-framework2

我在 kubuntu 上设置了一个带有 Apache/PHP/MySQL 的本地网络服务器，以使用 ZendSkeletonApplication 开发一个网络应用程序。文档根目录设置为 ZSA 的公用文件夹：

```
<VirtualHost *>
    ServerName localhost
    ServerAdmin webmaster@localhost
    DocumentRoot "/var/www/ZendSkeletonApplication/public"
    <Directory /var/www/ZendSkeletonApplication/public>
            Options Indexes FollowSymLinks MultiViews
            AllowOverride All
            Order allow,deny
            allow from all
    </Directory>
    ErrorLog /var/log/apache2/error.log
    LogLevel warn
    CustomLog /var/log/apache2/access.log combined
    ServerSignature On
</VirtualHost> 
```

ZSA 的公共文件夹中有一个 .htaccess 文件，内容如下：

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -s [OR]
RewriteCond %{REQUEST_FILENAME} -l [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^.*$ - [NC,L]
RewriteRule ^.*$ index.php [NC,L] 
```

请求`http://localhost`正确检索`index.php`. 此外， mod_rewrite 正在工作。我交换了最后一行

```
RewriteRule ^.*$ test.php [NC,L] 
```

测试它并且它有效。

接下来，我编写了一个简单的“Hello World”模块来适应架构。实际上，我什至按照不同的教程编写了两个模块。但是每当我尝试请求时，`http://localhost/helloworld`我都会收到 404 错误

```
The requested URL /helloworld was not found on this server. 
```

我仔细检查了 ZF2 中的路线。

在这一点上，我被困住了。我是一名专业的 PHP 开发人员，对服务器管理知之甚少，因此我的设置很可能容易出错。

我想问一些方向，我可能做错了什么。有什么我可以检查的陷阱吗？我还需要提供什么信息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T12:52:56.827

mod_rewrite 实际上工作正常，错误出现在我阅读的两个教程中。在更改了很多我不记得的设置后，404 变成了 500 服务器错误。直到那时我才在 apache 错误日志中找到了提示。

在这两个教程中，它都说要在 view/Modulename/Index/index.phtml 创建一个模板，而它必须是 view/modulename/index/index.phtml（注意小写名称）。对于所有小写路径，它现在对我有用。

错误日志中的错误消息（如果有人碰巧遇到同样的错误）：

> [2012 年 9 月 8 日星期六 14:38:28] [错误] [客户端 127.0.0.1] PHP 致命错误：未捕获的异常 'Zend\View\Exception\RuntimeException' 带有消息 'Zend\View\Renderer\PhpRenderer::render: Unable渲染模板“helloworld/index/index”；解析器无法解析到 /var/www/ZendSkeletonApplication/vendor/zendframework/zendframework/library/Zend/View/Renderer/PhpRenderer.php:451 中的文件

# java - 在 Java 中停止线程

> ID：12330013
> 
> 赞同：2
> 
> 时间：2012-09-08T10:45:04.413
> 
> 标签：java, multithreading, runnable

如果我有这样的java代码：

```
public static void main(String[] args)
{
    for(int i = 0;i<100;i++)
    {
        Future<?> f = ThreadPoolManager.getInstance().schedule(new START(), 500);
        f.cancel(true);
    }
}
private class START implements Runnable
{
    @Override
    public void run()
    {
        System.out.println(1);
    }
} 
```

并在调试中运行它，我可以看到所有这些线程（取消后）仍在运行，所以它们也占用了我的内存吗？如果是，我怎样才能完全销毁这些线程？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:15:01.170

`cancel(true)`调用`interrupt()`你的线程，仅此而已。因此，您需要在您的`run()`方法中正确处理它。对于您的简单情况，您的线程将完成它们的执行，并且它们的对象将被 GC 清除。

# google-maps - javascript - 将文本添加到 gmap 标记

> ID：12330016
> 
> 赞同：1
> 
> 时间：2012-09-08T10:45:13.990
> 
> 标签：google-maps

我使用 gmap 进行地理定位，即在特定位置的谷歌地图上设置标记。现在我想要实现的是设置标记，一旦用户单击其中一个标记，就会打开一个信息窗口并显示特定文本。每个标记都有自己的文本。

现在的问题是我无法确定用户单击了哪个标记，因此无法设置正确的文本。

这是一个代码片段：

```
 //**Global variables**/
    var thingsOfInterest = new Array(new Array(), new Array(),new Array());
    var map = null;
    //End Global variables

    //init google map

function initGoogleMaps(){
    map = new google.maps.Map(document.getElementById("map_canvas"));
    var centerMap = new google.maps.LatLng(48.337881,14.320323);
    $('#map_canvas').gmap({'zoom':7,'center': centerMap});
    $('#map_canvas').gmap('option', 'zoom', 10);

   //This is not working on my ios-simulator, no idea why. Anyway....
   forge.geolocation.getCurrentPosition(function(position) {
            alert("Your current position is: "+position);
         }, function(error) {
    });
}
/*End init map*/

/*Set the markers on the map*/
function setMarkers() {
    /* thingsOf Interest contains:
     * thingsOfInterest[i][0] -> the text that the marker should hold
     * thingsOfInterest[i][1] -> the latitude
     * thingsOfInterest[i][2] -> the longitude
     */

    for (var i = 0; i < thingsOfInterest.length; i++) { //Iterate through all things
      var item = thingsOfInterest[i];  //get thing out of array
      var itemLatLng = new google.maps.LatLng(item[1], item[2]);  

      $('#map_canvas').gmap('addMarker', {'position': new google.maps.LatLng(item[1],item[2]) } ).click(function(e) {
                    $('#map_canvas').gmap('openInfoWindow', {'content': 'dummyContent'}, this); ///////SET REAL CONTENT HERE
      });
    }

} 
```

现在这一切都很好，但我想念的是在 function()-eventHandler 中获取用户单击的标记。如果我能得到特定的标记，我可以在上面设置文本。

我希望这足够清楚。

非常感谢任何帮助。

谢谢，

安内

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T10:52:27.240

假设您的带有*虚拟文本*的代码正在运行，您可以立即传递您的文本..

```
$('#map_canvas').gmap('addMarker', {'position': new google.maps.LatLng(item[1],item[2])})
   .click(function(e) {
      $('#map_canvas').gmap('openInfoWindow', {'content': item[0]}, this); 
   }); 
```

或者另一种方法是：

```
function setMarkers() {

    for (var i = 0; i < thingsOfInterest.length; i++) {

        var item = thingsOfInterest[i];  
        var itemLatLng = new google.maps.LatLng(item[1], item[2]);

        var marker = new google.maps.Marker({ position: itemLatLng, map: map });

        google.maps.event.addListener(marker, 'click', function () {
            var infowindow = new google.maps.InfoWindow({ content: item[0] });
            infowindow.open(map, marker);
        });
    }
} 
```

# html - 屏幕上的分页符（css 多列布局）

> ID：12330017
> 
> 赞同：6
> 
> 时间：2012-09-08T10:45:24.440
> 
> 标签：html, css

我想在 HTML 中显示一个多列文档。多列“框”在分页后重新开始打印。我想在屏幕上模拟这种行为（分页符），因此列高不应高于用户代理窗口的高度。

只需为每个虚拟页面使用一个新容器会很容易，但我不知道屏幕到底会在哪里结束，所以我希望文本能够在这些虚拟页面之间流动。

我知道今天的 JS 有能力解决这个问题，但我想使用 CSS，因为这是一个布局问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2018-02-27T02:36:04.583

我的愿望与这个问题中描述的完全一样。这是一个 HTML/CSS-only 解决方案，对我的目的来说效果很好，并且可能对其他人有用。它有一些潜在的缺点，我将在给出代码之前对其进行描述。在下面的讨论中，我使用“子页面”这个词来表示提问者所说的“虚拟页面”，即一组具有所需高度的水平连续内容列（注意文本从一个子页面的右下角延续到下一个子页面的左上角。）

1.  它要求流入子页面的内容在 HTML 中重复多次（尽管它在呈现的输出中只*出现一次）。*在动态生成内容的情况下（在我的情况下，作为 Wordpress 函数调用的结果），循环和生成内容的多个副本可能不会造成任何困难。
2.  它需要选择屏幕上可以出现的特定的、任意的最大子页面数；任何超出此范围的内容都会丢失。就我而言，网站的目的意味着我知道最多可以有五个子页面，所以这不是真正的障碍。
3.  需要一个重复的 CSS 行序列，每个可能的子页面一个。如果内容的重复出现是以编程方式生成的，那么将所需的 CSS 属性内联到重复副本的“样式”属性中几乎不需要额外的工作，这就是我在实践中所做的。（为清楚起见，下面显示的示例将所有 HTML 和 CSS 分开。）
4.  可能是最显着的缺点：我找不到一种精确的方法来（实际上）计算生成的流动配置的高度（即，实际需要适合所有内容的子页面数量乘以每个子页面的高度）。我不得不求助于一个可能相当粗糙的近似值。因此，如果在这个近似值中附加的额外垂直高度足够大，以确保不会垂直剪切任何文本，那么有时布局底部会有很多垂直空白。同样，在我的情况下，子页面布局是我网页上发生的最后一件事，所以底部的空白并没有让我感到不安。

好的，到实际的代码。这里的基本策略很简单：将相同的文本多次拆分为所需子页面高度的列。将生成的水平列组堆叠在一起，但将每个连续副本向左移动一个子页面宽度的页面。最后，将整个堆栈（用`overflow:hidden;`）剪辑到子页面的宽度。关键的困难是得到那个剪辑`div`成为正确的高度。如果可以对所有子页面单元进行 CSS 选择，这些子页面单元在被剪切时最终没有墨水，然后根本不显示它们，那将很简单，但我找不到这样做的方法。我最终得出的粗略近似是在所需的子页面宽度和列结构中再次无形地布置所有内容，并使用该布局的高度来确定剪辑的高度。但是，这种布局总是更短，因为将内容放在一堆长列中比在连续的短列块中布局更有效，而且您需要某种子页面分隔符，否则子页面布局会变得非常混乱。所以我只是在那个剪报中加入一个大的底部填充物来捏造这个`div`. 如果 CSS calc() 允许整数除法或舍入，则可以做出更好的近似。最后，如果 CSS Regions 起飞，整个任务将是微不足道的，但这看起来不太可能。

对不起 tl; dr; -- 这是代码，先是html，然后是CSS：

```
<div class="column-paginator">
    <div class="vertical-strut mypage-h vertical-fuzz">
        [COPY OF CONTENT HERE]
    </div>
    <div class="column-paginator-clipper">
        <div class="mypage-h mypage-v column-paginator-0">
            [COPY OF CONTENT HERE]
        </div>
        <div class="mypage-h mypage-v column-paginator-1">
            [COPY OF CONTENT HERE]
        </div>
        <div class="mypage-h mypage-v column-paginator-2">
            [COPY OF CONTENT HERE]
        </div>
        <div class="mypage-h mypage-v column-paginator-3">
            [COPY OF CONTENT HERE]
        </div>
        <div class="mypage-h mypage-v column-paginator-4">
            [COPY OF CONTENT HERE]
        </div>
    </div>
</div> 
```

现在是 CSS：

```
div.column-paginator {
    position:relative; /* Ensure we can anchor positions to this element */
}
div.vertical-strut {
    visibility: hidden; /* Only laying this out to get its height */
}
div.vertical-fuzz {
    padding-bottom: 300px; /* extra height because unpaginated text
                            * takes less vertical height. This is a
                            * crude measure. */
}
div.mypage-h {
    /* The desired horizontal setup of the column pagination */
    columns: 2 200px;
    column-gap: 2em;
}
div.column-paginator-clipper {
    /* The div that actually constrains the output */
    position: absolute;
    top: 0px;
    left: 0px;
    height: 100%;
    max-height: 100%;
    overflow: hidden;
}
div.mypage-v {
    /* the desired vertical setup of the column pagination */
    height: 300px;
    position: relative;
    overflow: visible;
    margin-bottom: 1.5em;
}
div.mypage-v:after {
    /* Automatically throw in subpage separator. */
    content: "";
    height:1em;
    position: absolute;
    left: 0;
    top: 100%;
    width:500%;  /* must be MAX_SUBPAGES * 100% */
    background: lightcyan;
}
/* Note the 2em below is precisely the column-gap above; not sure how
 * to enforce/encode that equality in CSS.
 */
div.column-paginator-0 { left:calc(0 * (-100% - 2em)); }
div.column-paginator-1 { left:calc(1 * (-100% - 2em)); }
div.column-paginator-2 { left:calc(2 * (-100% - 2em)); }
div.column-paginator-3 { left:calc(3 * (-100% - 2em)); }
div.column-paginator-4 { left:calc(4 * (-100% - 2em)); }
div.column-paginator-5 { left:calc(5 * (-100% - 2em)); } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T16:15:07.553

尝试使用 Javascript 将 container-div 的高度设置为视口高度，命令：

```
window.innerHeight 
```

获取视口尺寸的完整脚本：http: [//andylangton.co.uk/articles/javascript/get-viewport-size-javascript/](http://andylangton.co.uk/articles/javascript/get-viewport-size-javascript/)

如果你不喜欢使用 javascript，你可以尝试创建负责任的 CSS 样式，但它会不太准确。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T15:30:23.373

我建议了功能。你可以在页面底部有返回顶部按钮，为此你可以像这样在首页放置

```
<a name="Top"></a> 
```

并在页面底部

```
<a href="#Top"> Back to Top… </a> 
```

我知道这不是您要找的，但这将是用户友好且易于导航的。

# amazon - 在运行时在 UpdatePanel 中绑定 html 控件在亚马逊 EBS 上不起作用

> ID：12330018
> 
> 赞同：1
> 
> 时间：2012-09-08T10:45:26.590
> 
> 标签：amazon

我在更新面板中面临一个与运行时绑定 html 控件相关的特殊问题。实际上，我已经在亚马逊 EBS 上部署了一个网站，当我使用我们的域名[https://my.example.com](https://my.example.com)访问该网站 并使用该更新面板绑定动态内容时，它不起作用。

但是，当我使用[https://xx.xx.xx.xx:443/ 之](https://xx.xx.xx.xx:443/)类的 IP 地址访问同一台服务器时，一切正常。我无法理解为什么自定义 URL 不起作用，我的更新面板无法在运行时显示 html 控件，以及为什么当我使用 IP 地址访问该站点时它会起作用。

# java - 用于数据库操作的 Spring AOP

> ID：12330020
> 
> 赞同：0
> 
> 时间：2012-09-08T10:45:48.873
> 
> 标签：java, spring, spring-aop

我在一个spring，hibernate项目中工作，数据库是oracle。我有用于持久性相关操作的 DAO 层。

在我的所有表中，我有`create_date`和`update_date`列代表分别在表中插入和更新行时的时间戳。

有一个要求是，每当发生任何插入/更新操作时，我都必须更新该特定表的上述两个时间戳列。例如，如果我的 DAO 层有两种方法，比如说 m1 和 m2 负责分别影响 t1 和 t2 表。现在，如果调用 m1 方法，则 t1 表的时间戳列将被更新，即 对于插入，`create_date`列将被更新，并且对于任何更新`update_date`列都将被更新。

我有 Spring AOP 的想法，所以我想使用 AOP 来实现上述要求，不过，我不太确定是否可以使用 AOP 来实现。

请让我知道我是否可以使用 AOP 来满足这个要求。如果可能的话，请向我提供如何实现它的输入。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-03T13:53:17.970

我已经使用 Spring AOP 为我的应用程序中的一个模块实现了更新日期功能。PFB代码供您参考

希望这会有所帮助。我想知道是否也可以为变量设置切入点。我知道使用 spring 的方面 j 实现它可能是不可能的。但是任何解决方法的人：P

```
 **
    * @author Vikas.Chowdhury
    * @version $Revision$ Last changed by $Author$ on $Date$ as $Revision$
    */
   @Aspect
   @Component
public class UpdateDateAspect
{
    @Autowired
    private ISurveyService surveyService;

    Integer surveyId = null;

    Logger gtLogger = Logger.getLogger(this.getClass().getName());

    @Pointcut("execution(* com.xyz.service.impl.*.saveSurvey*(..)))")
    public void updateDate()
    {

    }

    @Around("updateDate()")
    public Object myAspect(final ProceedingJoinPoint pjp)
    {

        // retrieve the runtime method arguments (dynamic)
        Object returnVal = null;
        for (final Object argument : pjp.getArgs())
        {

            if (argument instanceof SurveyHelper)
            {
                SurveyHelper surveyHelper = (SurveyHelper) argument;
                surveyId = surveyHelper.getSurveyId();

            }

        }
        try
        {
            returnVal = pjp.proceed();
        }
        catch (Throwable e)
        {
            gtLogger.debug("Unable to use JointPoint :(");
        }
        return returnVal;
    }

    @After("updateDate()")
    public void updateSurveyDateBySurveyId() throws Exception
    {
        if (surveyId != null)
        {
            surveyService.updateSurveyDateBySurveyId(surveyId);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T11:12:46.160

我会改用 Hibernate 拦截器，这就是它们的用途。例如，需要此类字段的实体可以实现以下接口：

```
public interface Auditable {
    Date getCreated();
    void setCreated(Date created);
    Date getModified();
    void setModified(Date modified);
} 
```

然后拦截器总是在保存时设置修改的字段，并且仅在尚未设置时设置创建的字段。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T13:18:00.560

尽管您一直在为您的问题寻求 Spring AOP 解决方案，但我想指出，使用数据库触发器可以实现相同的结果，例如`created`在`INSERT`操作期间自动设置时间戳，`modified`在`UPDATE`语句期间自动设置时间戳。

这可能是一个很好的解决方案，特别是如果不是所有的 DB 调用都通过 AOP 捕获的逻辑（例如，当因为方法不符合模式而绕过切入点定义时，甚至使用独立 SQL 客户端完全绕过代码时），这样即使有人从不同的应用程序更新条目，您也可以强制执行修改后的时间戳。

但是，它的缺点是您需要在所有受影响的表上定义触发器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T10:55:09.073

Spring AOP 应该可以使用`@Before`建议。如果您将实体传递给 create 方法，请设置通知，`create_date`并为更新方法设置`update_date`. 您可能需要考虑以下事项以使您的工作更轻松：

*   让所有实体实现一个通用接口来设置`create_date`和`update_date`。这使您无需进行反思即可获得共同的建议。
*   有一个命名约定来标识我们 DAO 上的创建和更新方法。这将使您的切入点更简单。

# trigger.io - 是否可以使用 trigger.io 删除推送通知徽章？

> ID：12330022
> 
> 赞同：3
> 
> 时间：2012-09-08T10:46:03.127
> 
> 标签：trigger.io, parse-platform

当用户在我的 trigger.io iOS 应用程序（使用 Parse.com）上收到推送通知并希望清除用户打开应用程序的徽章时，我将徽章设置为 1。有谁知道如何做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T18:00:35.947

有几个人问过这个问题，我在这里回答了这个问题： [Trigger / Parse Push notification icon](https://stackoverflow.com/questions/12296571/trigger-parse-push-notification-icon)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-03T04:43:18.803

如果其他人需要它，现在 Trigger.IO 的团队已经实现了

[http://docs.trigger.io/en/v1.4/modules/notification.html?highlight=badge#setbadgenumber](http://docs.trigger.io/en/v1.4/modules/notification.html?highlight=badge#setbadgenumber)

# objective-c - 从不同的界面访问值

> ID：12330030
> 
> 赞同：0
> 
> 时间：2012-09-08T10:47:01.883
> 
> 标签：objective-c

我有一个名为的接口`A`，它可以保存一些要`float`键入的值：

我在`.h`文件中声明：

```
float x,y; 
```

并在`.m`初始化它们的文件中： x=56.4; y=666.3；

我如何从另一个界面访问这些值？我想做这样的事情：

```
float MyX = A.x;
float myY = A.y; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T14:24:50.657

您确实应该使用属性。属性“公开”您的变量并自动生成一对 getter/setter 方法。在您的 .h 文件中，您可以声明以下内容：

```
@property float x;
@property float y; 
```

然后你应该在你的 .m 文件中合成：

```
@synthesize x;
@synthesize y; 
```

然后你可以按照你想要的方式访问变量；）

# css - 字体真棒图标对齐

> ID：12330032
> 
> 赞同：0
> 
> 时间：2012-09-08T10:47:09.767
> 
> 标签：css, ruby-on-rails, twitter-bootstrap, sass, font-awesome

我正在使用 bootstrap-sass 和 font-awesome-sass-rails gems，并通过添加到 bootstrap-and-overrides.css.scss 成功地消除了重复的图标（来自 glyphicons）：

```
[class^="icon-"] {
  background-image:none;
} 
```

但是，现在我遇到了图标有点不合时宜的问题。以前的字形图标很完美。现在我看到：

![在此处输入图像描述](../Images/859d203b607973d90328917b0848379d.png)

我想将图标向下移动一个像素或 2 个像素。请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T18:04:45.080

类似于在[Font-Awesome Integration 部分](http://fortawesome.github.com/Font-Awesome/#integration)中找到的 LESS 说明，应该完全删除字形图标的 SASS，而不是仅仅在其上加载 Font-Awesome SASS。我强烈反对任何仅仅试图通过覆盖原本不需要的 CSS 规则来保存外观的方法。

我不使用 Rails，但我认为粗略的轮廓是：

1.  签出[bootstrap-sass repo](https://github.com/thomas-mcdonald/bootstrap-sass)的副本。

2.  找到**_bootstrap.scss**文件。

3.  替换为`@import "bootstrap/sprites";`，`@import "your/path/to/font-awesome";`其中`your/path/to/`包含**font-awesome.scss**。

4.  重新编译**bootstrap.scss**（不要忘记缩小！）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-29T17:47:40.977

我正在使用 twitter-bootstrap-rails gem。我不得不注释掉：

```
 @iconSpritePath: asset-path("twitter/bootstrap/glyphicons-halflings.png"); 
```

来自 bootstrap_and_overrides.css.less 文件

# ruby-on-rails - 创建一个 Nokogiri中没有结束标签的元素

> ID：12330033
> 
> 赞同：1
> 
> 时间：2012-09-08T10:47:21.427
> 
> 标签：ruby-on-rails, ruby, html, nokogiri

使用 Nokogiri，我手动创建`<video>`和`<source>`标记。我的代码如下所示：

```
mp4_source_tag = html.create_element('source')
tag.replace(mp4_source_tag)          
mp4_source_tag['type'] = 'video/mp4'
mp4_source_tag['src'] = video.mp4_video.url 
```

生成以下 HTML：

`<source type="video/mp4" src="/system/mp4_videos/1/original/trailer.mp4?1347088365"></source>`

但是，这是无效的 HTML5。正确的输出应该是：

`<source type="video/mp4" src="/system/mp4_videos/1/original/trailer.mp4?1347088365">`

如何使用 Nokogiri 输出没有结束`</source>`标记的有效 HTML5？

被替换的标签是一个`<img>`标签，但这似乎并不重要。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T15:48:26.190

如果您将文档创建为 XML 而不是 HTML，Nokogiri 将输出带有右斜杠的空元素，例如；这对 HTML5 有效。`<source **/**>`

```
html = Nokogiri.HTML('')
puts html.create_element('source')
#=> <source></source>

xml = Nokogiri.XML('')
puts xml.create_element('source')
#=> <source/> 
```

然而，这样做的缺点是，将有效的 HTML5 文档解析为 XML 会导致解析错误：

```
require 'nokogiri'
html5 = '<!DOCTYPE html>
  <html><head>
    <meta charset="utf-8">
    <title>Test</title>
  </head><body>
    <img src="a.jpg"><img src="b.jpg">
  </body></html>'
doc = Nokogiri.XML( html5, &:noblanks )
puts doc
#=> <?xml version="1.0"?>
#=> <!DOCTYPE html>
#=> <html>
#=>   <head>
#=>     <meta charset="utf-8">
#=>       <title>Test</title>
#=>     </meta>
#=>     <body>
#=>       <img src="a.jpg">
#=>         <img src="b.jpg">
#=>   </img>
#=>       </img>
#=>     </body>
#=>   </head>
#=> </html> 
```

要解决此问题，您需要通过自动关闭您的 void 元素（这对 HTML5 也有效）使您的源成为有效的 XML。此外，为了避免 XML 声明，您需要分别序列化 DTD 和根：

```
require 'nokogiri'
html5 = '<!DOCTYPE html>
  <html><head>
    <meta charset="utf-8"/>
    <title>Test</title>
  </head><body>
    <img src="a.jpg"/><img src="b.jpg"/>
  </body></html>'
doc = Nokogiri.XML( html5, &:noblanks )
puts doc.children.map(&:to_s)
#=> <!DOCTYPE html>
#=> <html>
#=>   <head>
#=>     <meta charset="utf-8"/>
#=>     <title>Test</title>
#=>   </head>
#=>   <body>
#=>     <img src="a.jpg"/>
#=>     <img src="b.jpg"/>
#=>   </body>
#=> </html> 
```

# java - java中的阻塞线程-要避免吗？

> ID：12330036
> 
> 赞同：1
> 
> 时间：2012-09-08T10:48:08.663
> 
> 标签：java, multithreading, synchronized

就消耗的资源（cpu 周期等）而言，阻塞线程和等待线程有什么区别。我宁愿调用 notify() 来唤醒一个线程并让其他线程处于等待状态；还是调用 notifyall() 让所有等待线程进入阻塞状态（成功转换为可运行的线程除外）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T11:16:18.887

> 就消耗的资源（cpu 周期等）而言，阻塞线程和等待线程有什么区别。

没有任何。线程在等待或阻塞时不消耗 CPU 周期。

> 我宁愿调用 notify() 来唤醒一个线程并让其他线程处于等待状态；还是调用 notifyall() 让所有等待线程进入阻塞状态（成功转换为可运行的线程除外）？

如果`notifyAll()`将导致除一个等待线程之外的所有线程返回等待状态......并且`notify()`将唤醒能够继续的线程......那么`notify()`更好。每次唤醒线程都会消耗 CPU 时间。

但是，如果您难以理解 wait/notify/notifyAll 及其性能特征，最好使用`java.util.concurrent`包提供的更高级别的并发类之一。

# javascript - 移动 div 时的奇怪行为

> ID：12330038
> 
> 赞同：0
> 
> 时间：2012-09-08T10:48:15.193
> 
> 标签：javascript, dom-manipulation

我想用箭头键和javascript（不带jquery）移动多个DIV。我所有的 DIV 都有“位置：绝对”等...我为此做了一个函数：

```
function move(orig, val) {
    var num = parseInt(orig);
    return ((num + val) + "px");
} 
```

我像这样应用移动功能：

```
myDiv.style.left= move(myDiv.style.left, moveX); 
```

它只是“起作用”，因为我注意到当我的一个 DIV 的左样式 < 0 时，其他左样式 > 0 的 DIV 比他“移动”得更快。所以如果我来回重复，最后我所有的 DIV 都有相同的左边（没有尝试这个垂直移动和顶部值）。

提前感谢您的帮助（请原谅我的英语不好）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:17:36.920

我怀疑`parseInt`你的情况不合适。如果您使用的是非整数，那么添加 eg`1.5`将有效地充当您添加`2`的因为整数舍入。这会不经意间让它移动得更快。

你有几个选择：

*   用于`parseFloat`保留小数部分。
*   使用`+orig.replace("px", "")`，它适用于非整数（或其他技巧，如`* 1`）。

# oop - 接口（作为多重继承的替代品）如何实现代码复用

> ID：12330039
> 
> 赞同：3
> 
> 时间：2012-09-08T10:48:16.380
> 
> 标签：oop, interface, reusability

这是一个很难的。我在论坛上读过这个问题，但没有人能给出满意的答案。

来自 C++ 背景，有人告诉我 Java 通过接口实现多重继承。继承的主要目的之一恰好是“代码重用”。

多年来，我一直在尝试了解接口的使用。我一直不明白接口是否实现了代码重用。如果是，那么如何？请给出一个**很好的代码示例**来证实这一点。

我已经明白接口是：

1.  用于指定合同。
2.  用于指定额外的角色，类扮演的行为。
3.  用于实现“多态性”，（例如：像 addKeyListener(KeyListener e) 这样的方法可以接受任何实现 KeyListener 作为参数的类（使其成为 KeyListener 类型），即使它不在 KeyListener 的继承层次结构中。

但是在代码重用的情况下它有什么用，当我需要自己为具体方法添加代码时......我也可以省略实现接口。

那么接口如何实现代码的可重用性（如果有的话）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:18:07.927

> 来自 C++ 背景，有人告诉我 Java 通过接口实现多重继承。继承的主要目的之一恰好是“代码重用”。

不，Java 只是*没有*实现多重继承。接口是 Java 最接近多重继承的方式，但它实际上不是继承，而且它不会像继承那样产生代码重用。

它可以为您节省一些代码的地方是您可以以相同的方式使用所有实现，而不必复制调用代码。

# javascript - 未触发 Dropbox oauth 认证的 IF 语句的第二部分

> ID：12330045
> 
> 赞同：-1
> 
> 时间：2012-09-08T10:49:35.237
> 
> 标签：javascript, if-statement, dropbox

我尝试了一个简单的 if 语句来避免在每次页面加载时都运行下面的代码，但是第二部分`dropbox_authStatus === 1`没有触发虽然`alert("authStatus: "+dropbox_authStatus);`告诉我 dropbox_authStatus 是 1。我的代码有什么问题？

```
$('document').ready(function() {

dropbox_authStatus = localStorage.getItem('dropbox_authstatus');
alert("authstatus: "+dropbox_authStatus);

if(!dropbox_authStatus) {
    localStorage.setItem('dropbox_authstatus',1);   
    //initialization
    var client = new Dropbox.Client({
        key: "hm4c58qp6rpysot", secret: "w7cdx6o8p2hyubj"
    });
    alert("initialized");
    //preset driver to the dropbox page
    client.authDriver(new Dropbox.Drivers.Redirect());
    //authentication
    client.authenticate(function(error, client) {
        if (error) {
            return showError(error);  // Something went wrong.
        }
    });
} else if (dropbox_authStatus === 1) {
    localStorage.setItem('dropbox_authstatus',2);   
    //initialization
    var client = new Dropbox.Client({
        key: "hm4c58qp6rpysot", secret: "w7cdx6o8p2hyubj"
    });
    alert("continued");
    //preset driver to the dropbox page
    client.authDriver(new Dropbox.Drivers.Redirect());
    //authentication
    client.authenticate(function(error, client) {
        if (error) {
            return showError(error);  // Something went wrong.
        }
        client.getUserInfo(function(error, userInfo) {
            if (error) {
                return showError(error);  // Something went wrong.
            }

            alert("hello: "+userInfo.name);

        });
    });
    //Save Dropbox credentials
    localStorage.setItem('dropbox_auth', JSON.stringify(client.credentials()));
    alert("credentials saved:"+JSON.stringify(client.credentials()));
}
}); 
```

提前致谢！if-statements里面的代码主要属于github上托管的dropbox.js库：[https ://github.com/dropbox/dropbox-js/blob/master/doc/getting_started.md](https://github.com/dropbox/dropbox-js/blob/master/doc/getting_started.md)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:02:51.117

**答案来自对原始问题的评论**

我只是在猜测，但如果日志看起来正确，但不满足条件，则可能`dropbox_authStatus`是字符串而不是数字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T10:15:03.263

最新版本的 dropbox.js 支持`interactive: false`该方法的选项`client.authenticate()`。您可以使用此公共 API 来实现相同的目标，并且您的代码不会因库更新而中断。

代码片段：[https ://github.com/dropbox/dropbox-js/blob/master/doc/snippets.md#sign-into-dropbox-button](https://github.com/dropbox/dropbox-js/blob/master/doc/snippets.md#sign-into-dropbox-button)

验证文档：[http ://coffeedoc.info/github/dropbox/dropbox-js/master/classes/Dropbox/Client.html#authenticate-instance](http://coffeedoc.info/github/dropbox/dropbox-js/master/classes/Dropbox/Client.html#authenticate-instance)

# c# - 使用 TCP 通过网络发送位图时遇到问题

> ID：12330047
> 
> 赞同：0
> 
> 时间：2012-09-08T10:49:42.387
> 
> 标签：c#, networking, bitmap

我正在尝试在 C# 中设置一个简单的桌面监控程序。我已经搜索了将近一个小时试图找到一个工作模型，但是我发现的任何东西要么抛出异常，要么太复杂，调用模糊的函数。

我能够将屏幕捕获到位图实例，并且尝试发送它时遇到了困难，但目前，程序正常运行并关闭。客户端抛出异常，因为连接没有正确关闭（懒惰我！），但没有其他任何事情发生。没有输出文件被写入，什么也没有。

这是服务器的代码

```
using System.IO;
using System.Drawing;
using System.Drawing.Imaging;
using System.Net;
using System.Net.Sockets;
using System;

class ScreenCapture
{
    public static void Main()
    {
        try
        {
            TcpListener srv = new TcpListener(IPAddress.Any, 51530);
            srv.Start(1);
            TcpClient client = srv.AcceptTcpClient();
            NetworkStream ns = client.GetStream();
            StreamWriter send = new StreamWriter(ns);
            StreamReader read = new StreamReader(ns);

            Rectangle screenshot;
            Bitmap bitmap;
            screenshot = System.Windows.Forms.Screen.PrimaryScreen.WorkingArea;
            bitmap = new Bitmap(screenshot.Width, screenshot.Height, PixelFormat.Format32bppArgb);
            Graphics g = Graphics.FromImage(bitmap);
            g.CopyFromScreen(screenshot.Left, screenshot.Top, 0, 0, screenshot.Size);
            g.Dispose();
            MemoryStream m = new MemoryStream();
            bitmap.Save(m, ImageFormat.Jpeg);

            byte[] data = m.ToArray();
            Console.WriteLine(data.ToString());
            send.Write(m);
        }
        catch (Exception ex)
        {
            Console.WriteLine(ex.ToString());
            Console.ReadKey();
        }
    }
} 
```

这是客户端的代码：

```
using System;
using System.IO;
using System.Net;
using System.Net.Sockets;
using System.Drawing;
using System.Drawing.Imaging;

class RetrieveScreenShot
{
    public static void Main()
    {
        try
        {
            TcpClient client = new TcpClient("127.0.0.1", 51530);
            NetworkStream ns = client.GetStream();
            Image receivedImage = Image.FromStream(ns);
            receivedImage.Save("output.bmp");
            ns.Close();
            client.Close();
        }
        catch (Exception ex)
        {
            Console.WriteLine(ex.ToString());
            Console.ReadLine();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-20T16:54:09.867

```
try
{
   TcpListener srv = new TcpListener(IPAddress.Any, 51530);
   srv.Start(1);
   TcpClient client = srv.AcceptTcpClient();
   NetworkStream ns = client.GetStream();

   Rectangle screenshot;
   Bitmap bitmap;
   screenshot = System.Windows.Forms.Screen.PrimaryScreen.WorkingArea;
   bitmap = new Bitmap(screenshot.Width, screenshot.Height, PixelFormat.Format32bppArgb);
   Graphics g = Graphics.FromImage(bitmap);
   g.CopyFromScreen(screenshot.Left, screenshot.Top, 0, 0, screenshot.Size);
   g.Dispose();

   MemoryStream m = new MemoryStream();

   //you can also just save to network stream and skip the copy but i kept it for demo
   bitmap.Save(m, ImageFormat.Jpeg);

   //reset the memory stream to start of stream
   m.Position = 0;
   //copy memory stream to network stream
   m.CopyTo(ns);
   //make sure copy is completed
   m.Flush();
   m.Close();

   //Makes sure everything is sent before closing it
   ns.Flush();

   //The Image.FromStream() seems to wait for the stream to be finished/closed.
   client.Close();

}
catch (Exception ex)
{
   Console.WriteLine(ex.ToString());
   Console.ReadKey();
} 
```

Receiver 端的代码并没有太大变化，只是文件扩展名。

以下答案有助于解释更改： [https ://stackoverflow.com/a/8308142/1698182](https://stackoverflow.com/a/8308142/1698182)

[https://stackoverflow.com/a/22906136/1698182](https://stackoverflow.com/a/22906136/1698182)

# c# - 存储表和字段名的数据结构是什么？

> ID：12330048
> 
> 赞同：0
> 
> 时间：2012-09-08T10:50:00.013
> 
> 标签：c#, .net, sql-server, data-structures, dictionary

我正在从数据库中检索表及其各自的字段，并希望将它们存储在我的 C# 应用程序中。

我能想到的两个存储选项是：

1.  A`Dictionary`使用表的名称作为键并使用 a`List<string>`来存储字段。因此，像这样：`Dictionary<string, List<string>>`

2.  列表中的列表：`List<List<string>>`

就性能和最佳实践而言，更好的方法是什么？有更好的选择吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T10:59:23.457

我会查看`System.Data`命名空间中的现有类，看看它们中的任何一个是否符合您的要求 - 即：`DataColumn`、`DataTable`等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T10:53:58.643

我更喜欢（1），但也许会使事情更加面向对象：

```
public class DatabaseTable : List<string>
{

}

public class DatabaseTableRegistry : Dictionary<string, DatabaseTable>
{

} 
```

# iphone - iOS 应用程序在启动时崩溃

> ID：12330053
> 
> 赞同：5
> 
> 时间：2012-09-08T10:50:14.027
> 
> 标签：iphone, ios, jailbreak

我对此一无所知。有两种方法可以将我的应用程序放到我的 iPhone 上进行测试：

1.  我构建了一个调试版本，Xcode 为我将它安装在手机上。
2.  iOSOpenDev 将 Xcode 编译的内容打包并通过`ssh`.

两者都因不同的原因而崩溃。对于**路线 1**，应用程序实际启动，当我转到尝试打开 iOS 应用程序沙箱区域 ( `/var/mobile/Library/SBSettings/Toggles`) 之外的目录的应用程序部分时，`errno`返回不允许该操作 - 不允许 opendir。我将此问题归因于试图到达其沙箱之外的应用程序，这使我进入**路线 2**：我构建应用程序并通过 ssh 安装它 - 这是由 iOSOpenDev 处理的自动化过程 - 然后当我启动应用程序时，它只是崩溃。

这是控制台日志：

```
Sep  8 01:35:24 unknown OpenScheduler[15166] <Notice>: MS:Notice: Installing: com.Buford.OpenScheduler [OpenScheduler] (690.10)
Sep  8 01:35:24 unknown OpenScheduler[15166] <Notice>: MS:Notice: Loading: /Library/MobileSubstrate/DynamicLibraries/3GMy3G.dylib
Sep  8 01:35:24 unknown OpenScheduler[15166] <Notice>: MS:Notice: Loading: /Library/MobileSubstrate/DynamicLibraries/Activator.dylib
Sep  8 01:35:24 unknown OpenScheduler[15166] <Notice>: MS:Notice: Loading: /Library/MobileSubstrate/DynamicLibraries/AdBlocker.dylib
Sep  8 01:35:25 unknown OpenScheduler[15166] <Notice>: MS:Notice: Loading: /Library/MobileSubstrate/DynamicLibraries/RotationInhibitor.dylib
Sep  8 01:35:25 unknown OpenScheduler[15166] <Notice>: MS:Notice: Loading: /Library/MobileSubstrate/DynamicLibraries/WallpaperJPEGifier.dylib
Sep  8 01:35:25 unknown OpenScheduler[15166] <Notice>: MS:Notice: Loading: /Library/MobileSubstrate/DynamicLibraries/WinterBoard.dylib
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: message not found [UIImage defaultDesktopImage]
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Warning>: MS:Warning: nil class argument
Sep  8 01:35:25 unknown OpenScheduler[15166] <Notice>: MS:Notice: Loading: /Library/MobileSubstrate/DynamicLibraries/ZephyrKeyboardProxy.dylib
Sep  8 01:35:25 unknown OpenScheduler[15166] <Notice>: MS:Notice: Loading: /Library/MobileSubstrate/DynamicLibraries/libstatusbar.dylib
Sep  8 01:35:25 unknown OpenScheduler[15166] <Notice>: MS:Notice: Loading: /Library/MobileSubstrate/DynamicLibraries/sandcastleclient.dylib

Sep  8 01:35:26 unknown ReportCrash[15167] <Notice>: MS:Notice: Installing: (null) [ReportCrash] (690.10)
Sep  8 01:35:26 unknown ReportCrash[15167] <Notice>: Formulating crash report for process OpenScheduler[15166]
Sep  8 01:35:26 unknown com.apple.launchd[1] <Warning>: (UIKitApplication:com.Buford.OpenScheduler[0x38e8]) Job appears to have crashed: Abort trap: 6
Sep  8 01:35:26 unknown SpringBoard[15105] <Warning>: Application 'OpenScheduler' exited abnormally with signal 6: Abort trap: 6
Sep  8 01:35:26 unknown ReportCrash[15167] <Error>: libMobileGestalt computeUniqueDeviceID: total time for bb to return imei: 0
Sep  8 01:35:26 unknown ReportCrash[15167] <Notice>: Saved crashreport to /var/mobile/Library/Logs/CrashReporter/OpenScheduler_2012-09-08-013526_Bretts-iPhone.plist using uid: 0 gid: 0, synthetic_euid: 501 egid: 0 
```

和崩溃日志：

```
Incident Identifier: 43F071CB-E58A-4A1D-BB7B-6D981376E1A9
CrashReporter Key:   c28880d2762136f93b677e2d490a012c08f6f75f
Hardware Model:      iPhone3,1
Process:         OpenScheduler [15166]
Path:            /Applications/OpenScheduler.app/OpenScheduler
Identifier:      OpenScheduler
Version:         ??? (???)
Code Type:       ARM (Native)
Parent Process:  launchd [1]

Date/Time:       2012-09-08 01:35:26.109 -0700
OS Version:      iPhone OS 5.1.1 (9B206)
Report Version:  104

Exception Type:  EXC_CRASH (SIGABRT)
Exception Codes: 0x00000000, 0x00000000
Crashed Thread:  0

Thread 0 name:  Dispatch queue: com.apple.main-thread
Thread 0 Crashed:
0   libsystem_kernel.dylib          0x317e932c __pthread_kill + 8
1   libsystem_c.dylib               0x33ee6208 pthread_kill + 48
2   libsystem_c.dylib               0x33edf298 abort + 88
3   OpenScheduler                   0x00093f9c -[AppDelegate persistentStoreCoordinator] (AppDelegate.m:148)
4   OpenScheduler                   0x00093c52 -[AppDelegate managedObjectContext] (AppDelegate.m:88)
5   OpenScheduler                   0x0008f7a8 -[SchedulesTVC initWithCoder:] (SchedulesTVC.m:29)
6   UIKit                           0x3157ec0c -[UIClassSwapper initWithCoder:] + 212
7   UIKit                           0x315edb14 UINibDecoderDecodeObjectForValue + 1772
8   UIKit                           0x315ed6b4 UINibDecoderDecodeObjectForValue + 652
9   UIKit                           0x315ed41c -[UINibDecoder decodeObjectForKey:] + 84
10  UIKit                           0x314eba56 -[UIViewController initWithCoder:] + 954
11  UIKit                           0x314f0252 -[UINavigationController initWithCoder:] + 42
12  UIKit                           0x315edb14 UINibDecoderDecodeObjectForValue + 1772
13  UIKit                           0x315ed6b4 UINibDecoderDecodeObjectForValue + 652
14  UIKit                           0x315ed41c -[UINibDecoder decodeObjectForKey:] + 84
15  UIKit                           0x314eba56 -[UIViewController initWithCoder:] + 954
16  UIKit                           0x314f273a -[UITabBarController initWithCoder:] + 42
17  UIKit                           0x315edb14 UINibDecoderDecodeObjectForValue + 1772
18  UIKit                           0x315ed41c -[UINibDecoder decodeObjectForKey:] + 84
19  UIKit                           0x3157e832 -[UIRuntimeConnection initWithCoder:] + 146
20  UIKit                           0x315edb14 UINibDecoderDecodeObjectForValue + 1772
21  UIKit                           0x315ed6b4 UINibDecoderDecodeObjectForValue + 652
22  UIKit                           0x315ed41c -[UINibDecoder decodeObjectForKey:] + 84
23  UIKit                           0x3157dfbe -[UINib instantiateWithOwner:options:] + 658
24  UIKit                           0x3167ea56 -[UIStoryboard instantiateViewControllerWithIdentifier:] + 190
25  UIKit                           0x3167eb88 -[UIStoryboard instantiateInitialViewController] + 56
26  UIKit                           0x314b53fc -[UIApplication _loadMainStoryboardFileNamed:bundle:] + 60
27  UIKit                           0x3133e6e4 -[UIApplication _loadMainInterfaceFile] + 216
28  UIKit                           0x31338728 -[UIApplication _runWithURL:payload:launchOrientation:statusBarStyle:statusBarHidden:] + 228
29  UIKit                           0x31306abc -[UIApplication handleEvent:withNewEvent:] + 1004
30  UIKit                           0x31306560 -[UIApplication sendEvent:] + 48
31  UIKit                           0x31305f34 _UIApplicationHandleEvent + 5820
32  GraphicsServices                0x33d48224 PurpleEventCallback + 876
33  CoreFoundation                  0x3760651c __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 32
34  CoreFoundation                  0x376064be __CFRunLoopDoSource1 + 134
35  CoreFoundation                  0x3760530c __CFRunLoopRun + 1364
36  CoreFoundation                  0x3758849e CFRunLoopRunSpecific + 294
37  CoreFoundation                  0x37588366 CFRunLoopRunInMode + 98
38  UIKit                           0x31337864 -[UIApplication _run] + 544
39  UIKit                           0x31334cce UIApplicationMain + 1074
40  OpenScheduler                   0x0009413c main (main.m:16)
41  OpenScheduler                   0x0008b6e0 0x8a000 + 5856

Thread 1 name:  Dispatch queue: com.apple.libdispatch-manager
Thread 1:
0   libsystem_kernel.dylib          0x317d93a8 kevent + 24
1   libdispatch.dylib               0x3075eea4 _dispatch_mgr_invoke + 708
2   libdispatch.dylib               0x3075ebc2 _dispatch_mgr_thread + 30

Thread 2:
0   libsystem_kernel.dylib          0x317e9cd4 __workq_kernreturn + 8
1   libsystem_c.dylib               0x33ea1f36 _pthread_wqthread + 610
2   libsystem_c.dylib               0x33ea1cc8 start_wqthread + 0

Thread 3:
0   libsystem_kernel.dylib          0x317e9cd4 __workq_kernreturn + 8
1   libsystem_c.dylib               0x33ea1f36 _pthread_wqthread + 610
2   libsystem_c.dylib               0x33ea1cc8 start_wqthread + 0

Thread 4 name:  WebThread
Thread 4:
0   libsystem_kernel.dylib          0x317d9004 mach_msg_trap + 20
1   libsystem_kernel.dylib          0x317d91fa mach_msg + 50
2   CoreFoundation                  0x376063ec __CFRunLoopServiceMachPort + 120
3   CoreFoundation                  0x37605124 __CFRunLoopRun + 876
4   CoreFoundation                  0x3758849e CFRunLoopRunSpecific + 294
5   CoreFoundation                  0x37588366 CFRunLoopRunInMode + 98
6   WebCore                         0x32f31c9c _ZL12RunWebThreadPv + 396
7   libsystem_c.dylib               0x33ea772e _pthread_start + 314
8   libsystem_c.dylib               0x33ea75e8 thread_start + 0

Thread 0 crashed with ARM Thread State:
    r0: 0x00000000    r1: 0x00000000      r2: 0x00000001      r3: 0x00000000
    r4: 0x00000006    r5: 0x3f0a1d98      r6: 0x00000000      r7: 0x2fe86988
    r8: 0x001dd800    r9: 0x00000000     r10: 0x0019cda0     r11: 0x00000014
    ip: 0x00000148    sp: 0x2fe8697c      lr: 0x33ee620f      pc: 0x317e932c
  cpsr: 0x00000010

Binary Images:
   0x8a000 -    0x9cfff +OpenScheduler armv7  <141a95f4628031e0b5b06f47f18f88f0> /Applications/OpenScheduler.app/OpenScheduler
   0xba000 -    0xbafff +MobileSubstrate.dylib armv6  <d8da1cc9b8ea37cfba03a60549cdac4c> /Library/MobileSubstrate/MobileSubstrate.dylib
  0x200000 -   0x201fff +SubstrateLoader.dylib armv6  <825b732151e6379b9cbec6e597a986fa> /Library/Frameworks/CydiaSubstrate.framework/Libraries/SubstrateLoader.dylib
  0x230000 -   0x24bfff +3GMy3G.dylib arm  <681f7bf53fa5b2ae312f607fbd2c127d> /Library/MobileSubstrate/DynamicLibraries/3GMy3G.dylib
  0x252000 -   0x255fff  libsubstrate.dylib armv6  <3af5fa8c0a663c82af86669aaf835231> /usr/lib/libsubstrate.dylib
  0x258000 -   0x368fff  libcrypto.0.9.8.dylib arm  /usr/lib/libcrypto.0.9.8.dylib
  0x3e2000 -   0x3ecfff +xyzzy.dylib arm  <4671075692c089ec91d586802a58db9f> /Applications/My3G.app/xyzzy.dylib
  0x3ef000 -   0x3fbfff +Activator.dylib armv6  <22da11ddbca43147a9a7880a0e78c88b> /Library/MobileSubstrate/DynamicLibraries/Activator.dylib
  0x485000 -   0x493fff +AdBlocker.dylib armv6  <85025951abf93cd1b904ec6dcdbb8c58> /Library/MobileSubstrate/DynamicLibraries/AdBlocker.dylib
  0x4a6000 -   0x4d6fff  libpcre.1.dylib arm  /usr/lib/libpcre.1.dylib
  0x4db000 -   0x4ddfff +RotationInhibitor.dylib armv6  <45a8eaf4246e3dce94448d3536968c52> /Library/MobileSubstrate/DynamicLibraries/RotationInhibitor.dylib
  0x4e0000 -   0x4e0fff +WallpaperJPEGifier.dylib armv6  <29dce2ca76f23ea3a74d77b4005c3b18> /Library/MobileSubstrate/DynamicLibraries/WallpaperJPEGifier.dylib
  0x4e3000 -   0x4f4fff +WinterBoard.dylib arm  /Library/MobileSubstrate/DynamicLibraries/WinterBoard.dylib
  0x505000 -   0x505fff +ZephyrKeyboardProxy.dylib armv6  <07494c9315153ac098783e7ec4f0970b> /Library/MobileSubstrate/DynamicLibraries/ZephyrKeyboardProxy.dylib
  0x508000 -   0x50efff +libstatusbar.dylib armv6  <fe21097b2cb83481a70c9ab877af55e3> /Library/MobileSubstrate/DynamicLibraries/libstatusbar.dylib
  0x512000 -   0x513fff +sandcastleclient.dylib armv6  <d138ce2db8b033aba6119acf3d561535> /Library/MobileSubstrate/DynamicLibraries/sandcastleclient.dylib
0x2fe89000 - 0x2feaafff  dyld armv7  <77eddfd654df393ba9c95ff01715fd08> /usr/lib/dyld
0x3055a000 - 0x305a6fff  CoreTelephony armv7  <b8f80d5d594c31d2b5d8fba9fdedb7e1> /System/Library/Frameworks/CoreTelephony.framework/CoreTelephony
0x30752000 - 0x30768fff  libdispatch.dylib armv7  <9ecfaef4110a3bf9a92d12f0fe8d1d78> /usr/lib/system/libdispatch.dylib
0x30769000 - 0x3077ffff  DictionaryServices armv7  <6ed2e967136f37d4a4b9b318d6c43b83> /System/Library/PrivateFrameworks/DictionaryServices.framework/DictionaryServices
0x30791000 - 0x3079afff  libMobileGestalt.dylib armv7  <4a15e845dc6f3a4a980de66c1cc44c42> /usr/lib/libMobileGestalt.dylib
0x3093d000 - 0x3097bfff  IOKit armv7  <fcda71d29d6136dfbd84c1725f4998e5> /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x3097c000 - 0x30982fff  MobileIcons armv7  <ed1b46f917903c9b9baaa2be4392dafe> /System/Library/PrivateFrameworks/MobileIcons.framework/MobileIcons
0x309f6000 - 0x309f6fff  libunwind.dylib armv7  <e0a73a57795f3e1698a52ebe6fc07005> /usr/lib/system/libunwind.dylib
0x30a19000 - 0x30a1ffff  liblaunch.dylib armv7  <aa2bcba6fc7a36a191958fef2e995475> /usr/lib/system/liblaunch.dylib
0x30a44000 - 0x30a45fff  libsystem_sandbox.dylib armv7  <6a8f2f33c7543808a0f4599101c3b61a> /usr/lib/system/libsystem_sandbox.dylib
0x30bf8000 - 0x30bfcfff  libAccessibility.dylib armv7  <9a17d07b5a3b38cfafdf16f78c99b572> /usr/lib/libAccessibility.dylib
0x30bfd000 - 0x30c3dfff  libGLImage.dylib armv7  <40448706190031f6b0d9636cc11ee81d> /System/Library/Frameworks/OpenGLES.framework/libGLImage.dylib
0x31223000 - 0x31246fff  Bom armv7  <c3435ecd2e5839f89de51edad0e1bb00> /System/Library/PrivateFrameworks/Bom.framework/Bom
0x3124f000 - 0x31265fff  libmis.dylib armv7  <258bc92be5823b239b4412dd42cb4807> /usr/lib/libmis.dylib
0x3129a000 - 0x3129bfff  libdyld.dylib armv7  <977b0ad6f2f433108b4a0324a57cd2ab> /usr/lib/system/libdyld.dylib
0x3129c000 - 0x312b2fff  EAP8021X armv7  <952fcfdec0633aff923768fca1a26fcb> /System/Library/PrivateFrameworks/EAP8021X.framework/EAP8021X
0x312b5000 - 0x312b8fff  libmacho.dylib armv7  <e52b77623bd031bc807e77029566c777> /usr/lib/system/libmacho.dylib
0x312d4000 - 0x312d5fff  CoreSurface armv7  <97f871f09f503c98a6371c2b657430d8> /System/Library/PrivateFrameworks/CoreSurface.framework/CoreSurface
0x31303000 - 0x317a5fff  UIKit armv7  <cd513a2f22f53d698c3e10f6fe48a63e> /System/Library/Frameworks/UIKit.framework/UIKit
0x317d8000 - 0x317eefff  libsystem_kernel.dylib armv7  <311f379a9fde305d80c1b22b7dd2e52a> /usr/lib/system/libsystem_kernel.dylib
0x317ef000 - 0x31813fff  PrintKit armv7  <08509c7bc915358b953de6f5cbef5c56> /System/Library/PrivateFrameworks/PrintKit.framework/PrintKit
0x31899000 - 0x318d4fff  libCGFreetype.A.dylib armv7  <55941c96cf1f3b048e72a148c4496c16> /System/Library/Frameworks/CoreGraphics.framework/Resources/libCGFreetype.A.dylib
0x31906000 - 0x3195efff  CoreAudio armv7  <be335e8eb6f93594b028a6ddd503a183> /System/Library/Frameworks/CoreAudio.framework/CoreAudio
0x3197b000 - 0x319c4fff  AddressBook armv7  <b17a2962e9043e0385c3c2c652155f2b> /System/Library/Frameworks/AddressBook.framework/AddressBook
0x319e3000 - 0x319edfff  libbz2.1.0.dylib armv7  <40e4045fb79e382b8833707746cf28b1> /usr/lib/libbz2.1.0.dylib
0x319ee000 - 0x31a13fff  OpenCL armv7  <f4b08361179a3f6bb033415b0d7c6251> /System/Library/PrivateFrameworks/OpenCL.framework/OpenCL
0x31a1f000 - 0x31a20fff  libdnsinfo.dylib armv7  <9aede8d6579d3430ac39ae5f95cce498> /usr/lib/system/libdnsinfo.dylib
0x31a21000 - 0x31a91fff  CoreImage armv7  <86ac6f5a267637b6b7f8a831dfc7c64b> /System/Library/Frameworks/CoreImage.framework/CoreImage
0x31a92000 - 0x31adbfff  libc++.1.dylib armv7  <5b690e5dd5a43a7fb166ade9fe58a7a4> /usr/lib/libc++.1.dylib
0x31adc000 - 0x31ae0fff  IOMobileFramebuffer armv7  <42dbc26828e934acabb4f3b0a35d8250> /System/Library/PrivateFrameworks/IOMobileFramebuffer.framework/IOMobileFramebuffer
0x31bc8000 - 0x31bd4fff  libCRFSuite.dylib armv7  <bdb2b4d1a78c39c1ba60d791207aed2a> /usr/lib/libCRFSuite.dylib
0x31bd5000 - 0x31c54fff  libsqlite3.dylib armv7  <bf01f5ed47b033d8bde30d735ff44416> /usr/lib/libsqlite3.dylib
0x31e24000 - 0x31e2afff  MobileKeyBag armv7  <e1f06241ef0e3f0aae00f15df572077e> /System/Library/PrivateFrameworks/MobileKeyBag.framework/MobileKeyBag
0x31e2b000 - 0x31e7cfff  CoreText armv7  <5bfac4ee88d03d5b87a1f105abb7756c> /System/Library/Frameworks/CoreText.framework/CoreText
0x31e7d000 - 0x31e81fff  AggregateDictionary armv7  <3a3a33f3a05538988c6e2bb363dc46a8> /System/Library/PrivateFrameworks/AggregateDictionary.framework/AggregateDictionary
0x31ee0000 - 0x31eeffff  OpenGLES armv7  <e80acc691001301e96101bb89d940033> /System/Library/Frameworks/OpenGLES.framework/OpenGLES
0x31f19000 - 0x31f1ffff  liblockdown.dylib armv7  <9e45ce468a6f31e5b8263f2c224aa800> /usr/lib/liblockdown.dylib
0x32761000 - 0x32766fff  CrashReporterSupport armv7  <dc11c5c2cbe73a6288a6094ebf5de673> /System/Library/PrivateFrameworks/CrashReporterSupport.framework/CrashReporterSupport
0x32934000 - 0x32934fff  libkeymgr.dylib armv7  <ebd2dddf55d83cf48a18913968775960> /usr/lib/system/libkeymgr.dylib
0x32ccf000 - 0x32cd0fff  DataMigration armv7  <d77f0e8f39ee37f5a2ac713a3fd9e693> /System/Library/PrivateFrameworks/DataMigration.framework/DataMigration
0x32d5b000 - 0x32d6afff  SpringBoardServices armv7  <a2363f8ed49932dba415d2d4cd32fb74> /System/Library/PrivateFrameworks/SpringBoardServices.framework/SpringBoardServices
0x32e26000 - 0x32e5dfff  Security armv7  <eea56f71fde83c2981f9281dc7823725> /System/Library/Frameworks/Security.framework/Security
0x32e81000 - 0x32e84fff  CoreTime armv7  <a398de5ba1e43a11b7008e9bb5a7f6fe> /System/Library/PrivateFrameworks/CoreTime.framework/CoreTime
0x32e88000 - 0x33647fff  WebCore armv7  <2690c38c9c5f3c09975d619dd1dfbed7> /System/Library/PrivateFrameworks/WebCore.framework/WebCore
0x3364a000 - 0x33694fff  ManagedConfiguration armv7  <f1fbb825def23043830a095b953a9c94> /System/Library/PrivateFrameworks/ManagedConfiguration.framework/ManagedConfiguration
0x33695000 - 0x336aafff  libresolv.9.dylib armv7  <66f7557fa4b43979b186e00271839fdb> /usr/lib/libresolv.9.dylib
0x33760000 - 0x3377ffff  libSystem.B.dylib armv7  <0c55744b6f7335eebba4ca2c3d10b43c> /usr/lib/libSystem.B.dylib
0x33780000 - 0x33783fff  libcompiler_rt.dylib armv7  <b2c05d8601c13be884097192dca4e187> /usr/lib/system/libcompiler_rt.dylib
0x33784000 - 0x33787fff  CaptiveNetwork armv7  <f5cc4b97ce9432da9426f12621453325> /System/Library/PrivateFrameworks/CaptiveNetwork.framework/CaptiveNetwork
0x3379b000 - 0x337f8fff  StoreServices armv7  <6ce256d3cf433e4aa1af8d696bf1f75d> /System/Library/PrivateFrameworks/StoreServices.framework/StoreServices
0x33a93000 - 0x33b6bfff  vImage armv7  <caf3648be2933384b6aa1ae7408ab4f0> /System/Library/Frameworks/Accelerate.framework/Frameworks/vImage.framework/vImage
0x33d43000 - 0x33d4dfff  GraphicsServices armv7  <cb64e146a8ee3fda9e80ffae1ccc9c5a> /System/Library/PrivateFrameworks/GraphicsServices.framework/GraphicsServices
0x33d55000 - 0x33d8dfff  VideoToolbox armv7  <9f25f38d1cd13a1daff99cfde8884410> /System/Library/PrivateFrameworks/VideoToolbox.framework/VideoToolbox
0x33de8000 - 0x33df0fff  MobileWiFi armv7  <b76c3e9fb78234c392058250d4620e72> /System/Library/PrivateFrameworks/MobileWiFi.framework/MobileWiFi
0x33e99000 - 0x33f25fff  libsystem_c.dylib armv7  <f859ce1ad1773f0ba98d7c6e135b7697> /usr/lib/system/libsystem_c.dylib
0x33f33000 - 0x33f35fff  MobileInstallation armv7  <215d93dbb0f63cbf828f9126eb7b5349> /System/Library/PrivateFrameworks/MobileInstallation.framework/MobileInstallation
0x33f40000 - 0x33f4cfff  CoreVideo armv7  <364fa32d513f3c11b50970120545f1a8> /System/Library/Frameworks/CoreVideo.framework/CoreVideo
0x33fb1000 - 0x33fb2fff  libsystem_blocks.dylib armv7  <9fdc27af7350323bbc7d98e14e027907> /usr/lib/system/libsystem_blocks.dylib
0x33fce000 - 0x33fcffff  libremovefile.dylib armv7  <402f8956975d3b6fb86ab9b31a43242c> /usr/lib/system/libremovefile.dylib
0x33fd0000 - 0x3407afff  libBLAS.dylib armv7  <bf822cc1a3243ae7b104cf73ca22d352> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libBLAS.dylib
0x3443e000 - 0x34442fff  libcache.dylib armv7  <d6a7436ed8dc33d795c9b42baf864882> /usr/lib/system/libcache.dylib
0x34443000 - 0x344f0fff  libxml2.2.dylib armv7  <58d47f064e0232119f4b838ad659f9c1> /usr/lib/libxml2.2.dylib
0x344f1000 - 0x347b2fff  libLAPACK.dylib armv7  <0e94e9a7e7a334649afaccae0f1215a2> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libLAPACK.dylib
0x34800000 - 0x349bdfff  ImageIO armv7  <02e3578171fa3b6a969b244275fd2bab> /System/Library/Frameworks/ImageIO.framework/ImageIO
0x34b8d000 - 0x34badfff  libxslt.1.dylib armv7  <39348471007e39dab80af68b08390456> /usr/lib/libxslt.1.dylib
0x34d1c000 - 0x34d20fff  IOSurface armv7  <443ac3aab9283da480dd9dcda3c5c88e> /System/Library/PrivateFrameworks/IOSurface.framework/IOSurface
0x34d32000 - 0x34d32fff  Accelerate armv7  <55b24cf91a8b3532bde6733c96f14c08> /System/Library/Frameworks/Accelerate.framework/Accelerate
0x34d33000 - 0x34d44fff  libxpc.dylib armv7  <ccf25b1e49ce3b2fa58d8c8546755505> /usr/lib/system/libxpc.dylib
0x34d65000 - 0x34eaefff  libicucore.A.dylib armv7  <b70646b63f1f3b33896dd8cb91b8dab1> /usr/lib/libicucore.A.dylib
0x35083000 - 0x351c8fff  CoreGraphics armv7  <903545b89a7f311d95100ac7d1d44709> /System/Library/Frameworks/CoreGraphics.framework/CoreGraphics
0x35220000 - 0x35224fff  libGFXShared.dylib armv7  <998fccc16cf735dbb62324202995e193> /System/Library/Frameworks/OpenGLES.framework/libGFXShared.dylib
0x3529e000 - 0x352e8fff  libvDSP.dylib armv7  <441b42aca07b3da39feab25f8349918f> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libvDSP.dylib
0x352e9000 - 0x3532dfff  MobileCoreServices armv7  <757226927a873d5492be721908077b48> /System/Library/Frameworks/MobileCoreServices.framework/MobileCoreServices
0x3532e000 - 0x353f4fff  libobjc.A.dylib armv7  <90014d1bc583366d85622e43097df416> /usr/lib/libobjc.A.dylib
0x353fe000 - 0x35433fff  SystemConfiguration armv7  <4464a4e3bb3f32f7abaa35ebf31fda49> /System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration
0x35529000 - 0x3552efff  libcopyfile.dylib armv7  <52e874396c393ed29099789ce702cfe2> /usr/lib/system/libcopyfile.dylib
0x355c5000 - 0x357f2fff  MediaToolbox armv7  <c3098478486032c6aff336fa711c4fc6> /System/Library/PrivateFrameworks/MediaToolbox.framework/MediaToolbox
0x358ce000 - 0x359f3fff  JavaScriptCore armv7  <2ffc6c87b94434288366bd53765ee267> /System/Library/PrivateFrameworks/JavaScriptCore.framework/JavaScriptCore
0x35a30000 - 0x35b1efff  libiconv.2.dylib armv7  <2cfefe2ad1d335dd9549562910e7a2e2> /usr/lib/libiconv.2.dylib
0x35b22000 - 0x35b2afff  ProtocolBuffer armv7  <0e846afacf823d2b8c029cc3010a8253> /System/Library/PrivateFrameworks/ProtocolBuffer.framework/ProtocolBuffer
0x35b2b000 - 0x35bfbfff  WebKit armv7  <3c5dd2ec46fe3e189c25bba78ad88fa1> /System/Library/PrivateFrameworks/WebKit.framework/WebKit
0x35d8c000 - 0x35e05fff  ProofReader armv7  <6db611d8df6530d480f97a40bc519f70> /System/Library/PrivateFrameworks/ProofReader.framework/ProofReader
0x35e07000 - 0x35e0dfff  libnotify.dylib armv7  <9406297de3e43742887890662a87ab53> /usr/lib/system/libnotify.dylib
0x35e17000 - 0x35e19fff  libCoreVMClient.dylib armv7  <d4d4aa3090c83e87bcb15ed00b93fd5c> /System/Library/Frameworks/OpenGLES.framework/libCoreVMClient.dylib
0x362a0000 - 0x362bdfff  libsystem_info.dylib armv7  <50863bcbf478323e96a8e5b1a83ea6f9> /usr/lib/system/libsystem_info.dylib
0x363cc000 - 0x36408fff  AppSupport armv7  <311eac85b2a433a884dacba77217b49e> /System/Library/PrivateFrameworks/AppSupport.framework/AppSupport
0x36409000 - 0x3694dfff  FaceCoreLight armv7  <f326d88709683520b251dc53cb847c11> /System/Library/PrivateFrameworks/FaceCoreLight.framework/FaceCoreLight
0x3694e000 - 0x3699ffff  libstdc++.6.dylib armv7  <c352af5a742e3c7a8d4d7e5f6f454793> /usr/lib/libstdc++.6.dylib
0x369ac000 - 0x369b7fff  AccountSettings armv7  <373e59421d983c93931cfbad87b1ae35> /System/Library/PrivateFrameworks/AccountSettings.framework/AccountSettings
0x36a7d000 - 0x36ac5fff  CoreMedia armv7  <e274e1b894753b2eb05cf7b22a36d0c1> /System/Library/Frameworks/CoreMedia.framework/CoreMedia
0x36af1000 - 0x36cd5fff  AudioToolbox armv7  <c91e27850452330ea804db6408840fd2> /System/Library/Frameworks/AudioToolbox.framework/AudioToolbox
0x36cd9000 - 0x36cdcfff  NetworkStatistics armv7  <7848d8ebad99367cb4f7f4e3fe88e5d6> /System/Library/PrivateFrameworks/NetworkStatistics.framework/NetworkStatistics
0x36cdd000 - 0x36d2bfff  CoreLocation armv7  <44550ebedf23334d85441d9743b74e03> /System/Library/Frameworks/CoreLocation.framework/CoreLocation
0x36d60000 - 0x36d65fff  libsystem_dnssd.dylib armv7  <27bb5462450732e380f5a2c170546e93> /usr/lib/system/libsystem_dnssd.dylib
0x36d66000 - 0x36d6dfff  libc++abi.dylib armv7  <bab4dcbfc5943d3fbb637342d35e8045> /usr/lib/libc++abi.dylib
0x36d6e000 - 0x36f14fff  CoreData armv7  <b0215b6d4d143859a2b313ecade095ec> /System/Library/Frameworks/CoreData.framework/CoreData
0x370b2000 - 0x370bcfff  libvMisc.dylib armv7  <e8248c797b9b363594bb652ddf7ce16d> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libvMisc.dylib
0x370f5000 - 0x370f5fff  vecLib armv7  <a2cfe25e77aa36bfb4a30b2d0d2dd465> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/vecLib 
```

（注意：crash log 里面二进制图片比较多，但是因为字数限制我删掉了）

这是代码崩溃的地方：

```
- (NSPersistentStoreCoordinator *)persistentStoreCoordinator
{
    if (__persistentStoreCoordinator != nil) {
        return __persistentStoreCoordinator;
    }

    NSURL *storeURL = [[self applicationDocumentsDirectory] URLByAppendingPathComponent:@"OpenScheduler.sqlite"];
    NSDictionary *options = [NSDictionary dictionaryWithObjectsAndKeys:[NSNumber numberWithBool:YES],
                         NSMigratePersistentStoresAutomaticallyOption,
                         [NSNumber numberWithBool:YES], NSInferMappingModelAutomaticallyOption, nil];

    NSError *error = nil;
    __persistentStoreCoordinator = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:[self managedObjectModel]];

    if (![__persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL options:options error:&error]) {
        NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
        abort();
    }    

    return __persistentStoreCoordinator;
} 
```

这里有几个问题：

*   我对路线 1 的评估是否正确？是否因为它到达沙箱之外而获得*“不允许操作” ？*由于我的手机已越狱，有没有办法解决这个问题？
*   如果我使用路由 2（通过 ssh 构建和发送），控制台日志似乎没有提供任何有关为什么我的应用程序崩溃的相关信息。有关如何解决此错误的任何想法或建议？

* * *

**解决了！**

问题是我的手机 /var/mobile/Documents 目录中有一个月大的 .sqlite 文件。我删除了它，现在一切正常。感谢 Nate 用象征意义把我推向了正确的方向。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T21:13:44.130

是的，你是对的，如果你只是正常构建应用程序（使用 Xcode 安装），它将无法访问`/var/mobile/Library/SBSettings/Toggles`.

在您在此处发布的日志中，我看到了这一行：

> 9 月 8 日 01:35:25 未知 OpenScheduler[15166]：MS：警告：找不到消息 [UIImage defaultDesktopImage]

该类`UIImage`没有名为 的方法`defaultDesktopImage`。您是否试图在您的代码（或您正在使用的第 3 方代码）中的某处调用它？

向没有方法实现的非零对象发送消息将导致崩溃。当然，我通常希望在日志中看到这一点：

> -[UIImage defaultDesktopImage]：无法识别的选择器发送到实例 0x1923d0

但是，你为什么不至少先仔细检查一下。如果这不能解决问题，请回来报告，我们会看看是否可以为您提供更多帮助。

您还[可以在此处阅读有关如何分析崩溃报告](http://developer.apple.com/library/ios/#technotes/tn2151/_index.html)的信息，或[在线观看有关该主题的 Apple 视频](https://developer.apple.com/videos/wwdc/2010/?id=317)

# iphone - 在 UIWebView 中显示长字符串时添加换行符

> ID：12330057
> 
> 赞同：5
> 
> 时间：2012-09-08T10:50:30.250
> 
> 标签：iphone, ios, html, uiwebview, line-breaks

当显示一段带有一些长字符串而没有换行符的段落时，`UIWebView`字符的大小太小而无法阅读，如下图所示。反正有没有像在长字符串中那样自动添加换行符`UILabel`？提前致谢！ ![在此处输入图像描述](../Images/31f87fe80545f92e874b1d6b3c1b5ccf.png)

附言。用于`UIWebView`显示电子邮件正文。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-16T08:08:33.107

将css设置为：`style="word-break:break-all"`解决这个问题

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T10:59:40.843

根本没有。UIWebView 用于解析 HTML 标记。必须在那里进行破坏。\n 会做的。

除此之外，你应该重新考虑你的 HTML-Box-Model 是响应式的。

如果您只想显示文本，则使用 UITextView 而不是 UIWebView 并切换到 UIWebView，如果它是 HTML。我认为 iOS 上的 Mail.app 就是这样做的。UITextView 文本已适当缩放。

# matlab - 向图窗添加文本 - MATLAB

> ID：12330058
> 
> 赞同：0
> 
> 时间：2012-09-08T10:50:44.087
> 
> 标签：matlab, image-processing, slider, matlab-figure

我写了一个代码，显示一个分为两部分的图形；第一个显示主图像，第二个是显示其余图像的滑块。

现在我需要向主要部分添加文本（如“帮助”或“指南”文本）。我该怎么做？

这是我的主要子代码：

```
 %# design GUI
    numSubs = 10; % Num of sub-images.
    mx = numImgs-numSubs+1;
    hFig = figure('Menubar','none');

    % The Main Image:
       hAx = axes('Position',[0 0.3 1 0.8], 'Parent',hFig);
hMainImg = imshow(img, 'Parent',hAx);

    % the slider
    hPanel = uipanel('Position',[0 0.04 1 0.26], 'Parent',hFig);
    uicontrol('Style','slider', 'Parent',hFig, ...
        'Callback',@slider_callback, ...
        'Units','normalized', 'Position',[0 0 1 0.04], ...
        'Value',1, 'Min',1, 'Max',mx, 'SliderStep',[1 10]./mx);

    subImg = zeros(numSubs,1);
    for i=1:numSubs
        %# create axis, show frame, hookup click callback
        hAx = axes('Parent',hPanel, ...
            'Position',[(i-1)/numSubs 0 1/numSubs 1]);
        % Load img number i
        name=frames(i).name;
        img=imread(name,'jpg');
        subImg(i) = imshow(img, 'Parent',hAx);
        value = i;
        set(subImg(i), 'ButtonDownFcn',{@click_callback value})
        axis(hAx, 'normal')
        hold off;
    end 
```

有什么建议么？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T10:54:04.400

使用这个结构：

```
hT = uicontrol('style', 'text', 'string', 'HELLO WORLD', 'position', [...]) 
```

它将在图中的位置创建静态文本`position`。您可以将所有常规选项用于`uicontrols`like`'parent'`或`'units'`.

但是，由于您的图像位于 中`axis`，因此更好/更简单的方法是使用

```
hT = text(X, Y, 'HELLO WORLD') 
```

和坐标*轴*`X`中文本的`Y`所需坐标。

 *您可以通过以下方式设置其他选项`set`：

```
set(hT, 'color', 'r', 'backgroundcolor', 'k', 'fontsize', 10, ...) 
```

You can get a list of all options by issuing `set(hT)` on a mock `text` object.*

# java - java图像缩放库中的抗锯齿

> ID：12330066
> 
> 赞同：0
> 
> 时间：2012-09-08T10:52:25.197
> 
> 标签：java, image, image-scaling

我目前正在使用[http://code.google.com/p/java-image-scaling/](http://code.google.com/p/java-image-scaling/)这个库为我的网络应用程序生成缩放图像。但是当我将图像缩小到大约 100x100 大小时，会看到一些剩余的工件在一些图像中。这是抗锯齿的问题吗？以及如何在这个库中使用抗锯齿功能。api 文档没有说明任何内容。

这是代码

```
File f = new File("C:\\Users\\ad min\\Pictures\\30-whisky-3d-wallpaper-1152x864.jpg");
        BufferedImage src = ImageIO.read(f);

        //ResampleOp resampleOp = new ResampleOp(76, 76);
        ResampleOp resampleOp = new ResampleOp(200,200);
        resampleOp.setUnsharpenMask(AdvancedResizeOp.UnsharpenMask.VerySharp);
        BufferedImage rescaled = resampleOp.filter(src, null);

        ImageIO.write(rescaled, "JPG", new File(
                "C:\\Users\\ad min\\Pictures\\scaleddown.jpg")); 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T12:31:59.723

我终于不需要抗锯齿了

[http://www.universalwebservices.net/web-programming-resources/java/adjust-jpeg-image-](http://www.universalwebservices.net/web-programming-resources/java/adjust-jpeg-image-)

```
compression-quality-when-saving-images-in-java
        Iterator<ImageWriter> iter = ImageIO
                .getImageWritersByFormatName("jpeg");
        ImageWriter writer = (ImageWriter) iter.next();
        // instantiate an ImageWriteParam object with default compression
        // options
        ImageWriteParam iwp = writer.getDefaultWriteParam();
        iwp.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);
        iwp.setCompressionQuality(1); // an integer between 0 and 1
        // 1 specifies minimum compression and maximum quality
        File file = new File("C:\\Users\\ad min\\Pictures\\scaleddown.jpg");
        FileImageOutputStream output = new FileImageOutputStream(file);
        writer.setOutput(output);
        IIOImage image = new IIOImage(rescaled, null, null);
        writer.write(null, image, iwp);
        writer.dispose(); 
```

# video - 如何缩放嵌入式视频？

> ID：12330069
> 
> 赞同：0
> 
> 时间：2012-09-08T10:52:54.797
> 
> 标签：video, iframe, responsive-design

我有一列带有“网格缩放”类的图像，在减小屏幕尺寸时可以很好地调整大小。但是，将此类应用于嵌入式视频时，它不起作用。我之前做过类似的事情，但效果还不错……有人能指出我正确的方向吗？

我的网站在这里[http://v3.edharrisondesign.com/project/](http://v3.edharrisondesign.com/project/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-09T13:24:04.370

好吧，我没有正确思考 - 简单的解决方案。只是给视频一个不同的类，并在媒体查询中的每个屏幕尺寸下给它一个特定的高度和宽度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-09T13:32:21.937

或者。你可以使用一个非常好的轻量级 jQuery 插件 fitvidsjs 这里是链接[http://fitvidsjs.com/](http://fitvidsjs.com/)

# web - 我正在寻找集成 gmail 小部件

> ID：12330070
> 
> 赞同：1
> 
> 时间：2012-09-08T10:53:05.273
> 
> 标签：web, widget, gmail

这是一个内部门户，我正在寻找一个允许用户登录到他们的 gmail 帐户并查看他们的帐户的小部件。我尝试了 Google 小工具，但它显示以下错误“这是一个内置模块，因此忽略 UserPrefs 和 Content。” 此外，由于小工具将被停产，我不愿意将其用作长期解决方案。

甚至来自 widgetbox、netvibes 等的小部件似乎也无法正常工作。

是因为 Google 进行了一些政策更改，阻止了这些小部件的工作吗？还是我做错了什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:23:04.163

我还尝试在我的网站中使用 Google 小部件，但不幸的是它不起作用。它给出的内容被忽略。

没有小部件不适用于我的代码。

我认为其中有政策变化。但我对此一无所知。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-09T21:37:27.620

当您说“登录他们的帐户”时以及您想做什么。您可以在用户授予您的应用程序访问其帐户的权限时使用 OAuth。

Google 有自己的以多种语言编写的库 - 可以在此处找到一些使用 Java、Python 和 PHP 的示例：[https ://developers.google.com/google-apps/gmail/xoauth2_libraries](https://developers.google.com/google-apps/gmail/xoauth2_libraries)

当您使用 OAuth 时，您向 Google 注册，他们会为您提供 ConsumerKey 和 ConsumerSecret - 这就是您向 Google 申请的标识。

一旦你这样做，提供一个链接以允许他们登录 - 这会将他们带到谷歌登录，他们使用他们的帐户登录 - 然后他们授予权限。

我在使用带有 GMail 的 OAuth 时遇到了问题，但通过说他们的联系人成功地管理了它。例如，这是我用来检索所有用户联系人的代码

```
 public List<Person> GetContacts()
    {
        OAuthParameters parameters = null;
        GOAuthRequestFactory requestFactory = null;
        ContactsService service = null;
        ContactsQuery feedQuery = null;
        ContactsFeed feed = null;
        List<Person> contacts = null;

        try
        {
            if (ConsumerKey == String.Empty) throw new ValueIsEmptyOrNullException("ConsumerKey");
            if (ConsumerSecret == String.Empty) throw new ValueIsEmptyOrNullException("ConsumerSecret");
            if (OAuthCallback == String.Empty) throw new ValueIsEmptyOrNullException("OAuthCallback");
            if (SignatureMethod == String.Empty) throw new ValueIsEmptyOrNullException("SignatureMethod");
            if (ApplicationName == String.Empty) throw new ValueIsEmptyOrNullException("ApplicationName");
            if (Token == String.Empty) throw new ValueIsEmptyOrNullException("Token");
            if (Nonce == String.Empty) throw new ValueIsEmptyOrNullException("Nonce");
            if (Verifier == String.Empty) throw new ValueIsEmptyOrNullException("Verifier");

            if (Scope == String.Empty)
                Scope = "https://www.google.com/m8/feeds";

            parameters = new OAuthParameters();
            parameters.ConsumerKey = ConsumerKey;
            parameters.ConsumerSecret = ConsumerSecret;
            parameters.Scope = Scope;
            parameters.Callback = OAuthCallback;
            parameters.SignatureMethod = SignatureMethod;
            parameters.Timestamp = Toolbox.GenerateTimeStamp();
            parameters.Token = Token;
            parameters.TokenSecret = TokenSecret;
            parameters.Nonce = Nonce;
            parameters.Verifier = Verifier;

            requestFactory = new GOAuthRequestFactory("c1", ApplicationName, parameters);
            service = new ContactsService(ApplicationName);
            service.RequestFactory = requestFactory;
            feedQuery = new ContactsQuery(ContactsQuery.CreateContactsUri("default"));

            feed = service.Query(feedQuery); 

            if (feed.Entries.Count > 0)
            {
                contacts = new List<Person>();

                foreach (ContactEntry contact in feed.Entries)
                {
                    try
                    {
                        if (contact.Name != null)
                        {
                            Person person = new Person();

                            int idStart = contact.Id.Uri.ToString().LastIndexOf('/');

                            if (idStart > 0)
                            {
                                person.PersonId = contact.Id.Uri.ToString().Substring(contact.Id.Uri.ToString().LastIndexOf('/') + 1);
                            }
                            else 
                            {                                
                                person.PersonId = contact.Id.Uri.ToString();
                            }

                            person.GivenName = contact.Name.GivenName;
                            person.Surname = contact.Name.FamilyName;
                            person.Birthday = contact.Birthday;
                            person.Initials = contact.Initials;
                            person.Location = contact.Location;
                            person.MaidenName = contact.MaidenName;
                            person.Occupation = contact.Occupation;
                            person.Photograph = contact.PhotoUri.ToString();
                            person.Surname = contact.Name.FamilyName;

                            if (contact.Emails.Count > 0)
                                person.Email = contact.Emails[0].Address;

                            contacts.Add(person);
                        }
                    }
                    catch (System.Exception ex)
                    {
                        throw ex;
                    }
                    finally
                    {

                    }
                }
            }

        }
        catch (Exception ex)
        {                
            throw ex;
        }

        return contacts;
    } 
```

# objective-c - Core Data 单独的托管对象上下文共享相同的持久存储看不到更改

> ID：12330075
> 
> 赞同：3
> 
> 时间：2012-09-08T10:54:16.503
> 
> 标签：objective-c, ios, core-data

我今天对我的发现感到非常困惑。

我认为只要所有上下文都使用相同的 Core Data 持久存储，一个上下文中的任何更改都应该在保存上下文后出现在另一个上下文中。

例如，在视图控制器 AI 中有 1 个上下文（上下文 A），在视图控制器 B 中，我有另一个上下文（上下文 B）。现在上下文 A 和上下文 B 都指向同一个持久存储。

在上下文 A 中，我从持久存储中获取了一个托管对象，更新了托管对象的一个​​属性，然后使用 managedObjectContext 保存操作将更改保存回持久存储。

现在我打开我的第二个视图控制器并从同一个持久存储执行一个获取请求，但我的第二个视图控制器没有看到更新的属性更改，直到我重新启动模拟器。

真正奇怪的是，如果这是我第一次将新的托管对象插入到持久存储中，控制器 B 会看到更改，但不会显示后续更改。

经过长时间的战斗，我已经解决了这个问题，我只想知道为什么有两个单独的上下文（当然都在主线程上）共享同一个持久存储在模拟器重新启动之前不会看到更改。

对于那些想知道我如何修复它的人，在我的基本视图控制器中，控制器 A 和 B 都继承自哪个控制器，而不是分配初始化一个新上下文（因此控制器 A 和 B 有两个单独的上下文），我告诉基础视图控制器引用应用程序委托中的上下文（因此，控制器 A 和 B 现在指向相同的上下文）。

这是解释我所看到的图表：

![在此处输入图像描述](../Images/35bf4fe843eb2e4a62315fe65097941b.png)

在第二个视图控制器中获取的结果值是旧值。

如果我将一些数据提交到持久存储，只要我从同一个持久存储中获取，它就应该成为永久的并且可以在任何地方访问，除非我误解了 managedObjectContext save: 实际上并没有立即对持久存储进行更改，直到应用结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:16:04.603

张，

没有细节很难找出问题所在。

一个简单的建议是验证您是否合并了应用程序中两个不同上下文之间的更改。换句话说，您需要验证主上下文合并来自另一个上下文的更改。这可以像下面这样简单地实现。

例如，在您`AppDelegate`或您正在创建 Core Data 堆栈的位置注册此通知。

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(contextChanged:) name:NSManagedObjectContextDidSaveNotification object:nil]; 
```

实现 contextChanged: 方法来合并更改。

```
- (void)contextChanged:(NSNotification*)notification
{
    if ([notification object] == [self managedObjectContext])
        return;

    if (![NSThread isMainThread]) {
        [self performSelectorOnMainThread:@selector(contextChanged:) withObject:notification waitUntilDone:YES];
        return;
    }

    [[self managedObjectContext] mergeChangesFromContextDidSaveNotification:notification];
} 
```

有关详细信息，请参阅[Marcus Zarra 教程](http://www.cimgf.com/2011/08/22/importing-and-displaying-large-data-sets-in-core-data/)。

此外，如果您结合使用表，`NSFetchedResultsController`请记住实现委托的方法。有关信息，请参阅[NSFetchedResultsControllerDelegate](http://developer.apple.com/library/ios/#documentation/CoreData/Reference/NSFetchedResultsControllerDelegate_Protocol/Reference/Reference.html)类。

希望有帮助。

# php - 用PHP从Android应用程序中解密字符串

> ID：12330078
> 
> 赞同：0
> 
> 时间：2012-09-08T10:55:05.583
> 
> 标签：php, android, cryptography

在解密从 Android 应用程序发送的字符串时，我遇到了一个问题。只要写入非特殊字符（例如æ、ø、å），它就可以正常工作。如果我添加其中之一，它们将显示为“？”。

以下是字符串的加密方式（Java）：

```
/*Constructor*/
public DataCrypt()
{
   ivspec = new IvParameterSpec(iv.getBytes());

   keyspec = new SecretKeySpec(SecretKey.getBytes(), "AES");

   try
   {
      cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");
   }
   catch (NoSuchAlgorithmException e)
   {
                // TODO Auto-generated catch block
                e.printStackTrace();
    }
   catch (NoSuchPaddingException e)
   {
                // TODO Auto-generated catch block
                e.printStackTrace();
   }
}

public byte[] encrypt(String text) throws Exception
{
    if(text == null || text.length() == 0)
       throw new Exception("Empty string");

    byte[] encrypted = null;

    try
    {
      cipher.init(Cipher.ENCRYPT_MODE, keyspec, ivspec);

      encrypted = cipher.doFinal(text.getBytes("UTF-8"));
    }
    catch (Exception e)
    {                       
      throw new Exception("[encrypt] " + e.getMessage());
    }      
    return encrypted;
} 
```

以下是字符串的解密方式：

```
function decrypt($code)
{
  $code = $this->hex2bin($code);
  $iv = $this->iv;

  $td = mcrypt_module_open('rijndael-128', '', 'cbc', $iv);
  mcrypt_generic_init($td, $this->key, $iv);

  $decrypted = mdecrypt_generic($td, $code);

  mcrypt_generic_deinit($td);
  mcrypt_module_close($td);

  return utf8_decode(trim($decrypted));
}

protected function hex2bin($hexdata)
{
  $bindata = '';

  for ($i = 0; $i < strlen($hexdata); $i += 2)
  {
    $bindata .= chr(hexdec(substr($hexdata, $i, 2)));
  }
  return $bindata;
}

function pkcs5_unpad($text)
{
    $pad = ord($text{strlen($text)-1});
    if ($pad > strlen($text))
        return false;

    if (strspn($text, chr($pad), strlen($text) - $pad) != $pad)
        return false;

    return substr($text, 0, -1 * $pad);
}

$Username = pkcs5_unpad($crypto->decrypt($Username)); //$crypto is an instance of the cryptography class which holds the methods.
echo $Username.'<br/>'; /*Print ??? for special characters like æ, ø, å*/ 
```

希望有人对我如何解决这个问题有一个想法，所以也可以写 ø æ å 。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:16:05.570

问题是`utf8_decode()`php 文档定义为`Converts a string with ISO-8859-1 characters encoded with UTF-8 to single-byte ISO-8859-1`. 这意味着非 iso 字符被肢解。尝试简单地删除`utf8_decode()`

# ios - iOS 中 SQLite 数据库的电子邮件 CSV

> ID：12330080
> 
> 赞同：4
> 
> 时间：2012-09-08T10:55:14.103
> 
> 标签：ios, core-data, csv

我的应用程序由一个带有多个表的 sqlite 数据库组成。通过核心数据管理。我想生成数据库的 CSV 并将其邮寄到按下按钮上的某个邮件地址。有任何想法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T11:03:07.797

导出 csv 的答案在这里：[How to export Core Data entity to a CSV file](https://stackoverflow.com/questions/4440396/how-to-export-core-data-entity-to-a-csv-file)

然后使用 Mail 发送此文件的答案位于此处：[pdf as an email attachment in iOS device](https://stackoverflow.com/questions/8846338/pdf-as-an-email-attachment-in-ios-device)

非常直接！您不必将文件保存到光盘，因为您可以直接将其处理到 mailComposer！

享受！

# javascript - 如何使用 document.querySelectorAll 遍历选定的元素

> ID：12330086
> 
> 赞同：73
> 
> 时间：2012-09-08T10:55:55.153
> 
> 标签：javascript, html

我正在尝试循环使用 document.querySelectorAll 查询的选定元素，但是如何？

例如我使用：

```
var checkboxes = document.querySelectorAll('.check');
for( i in checkboxes) {
  console.log(checkboxes[i]);
} 
```

输出：

```
<input id="check-1" class="check" type="checkbox" name="check">
<input id="check-2" class="check" type="checkbox" name="check">
<input id="check-3" class="check" type="checkbox" name="check">
<input id="check-4" class="check" type="checkbox" name="check">
<input id="check-5" class="check" type="checkbox" name="check">
<input id="check-6" class="check" type="checkbox" name="check">
<input id="check-7" class="check" type="checkbox" name="check">
<input id="check-8" class="check" type="checkbox" name="check">
<input id="check-9" class="check" type="checkbox" name="check">
<input id="check-10" class="check" type="checkbox" name="check" checked="">

10
item()
namedItem() 
```

我的问题是最后这个方法返回 3 个额外的项目。我怎样才能正确地做到这一点？

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-09-08T12:04:00.043

`for in`不建议将循环用于数组和类似数组的对象 - 你明白为什么。不仅可以有数字索引项，例如`length`属性或某些方法，而且`for in`会遍历所有这些项。使用任一

```
for (var i = 0, len = checkboxes.length; i < len; i++) {
    //work with checkboxes[i]
} 
```

或者

```
for (var i = 0, element; element = checkboxes[i]; i++) {
    //work with element
} 
```

如果数组中的某些元素可能是虚假的（不是您的情况），则不能使用第二种方法，但可以更具可读性，因为您不需要在`[]`任何地方使用符号。

* * *

## 回答 #2

> 赞同：48
> 
> 时间：2015-11-29T11:07:31.067

我最喜欢的是使用[扩展运算符](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator)将其转换为数组，然后`forEach`用于循环。

```
var div_list = document.querySelectorAll('div'); // returns NodeList
var div_array = [...div_list]; // converts NodeList to Array
div_array.forEach(div => {

// do something awesome with each div

}); 
```

我在 ES2015 中编码并使用 Babel.js，因此不应该存在浏览器支持问题。

* * *

## 回答 #3

> 赞同：31
> 
> 时间：2017-02-27T19:26:53.130

看起来 Firefox 50+、Chrome 51+ 和 Safari 10+ 现在都支持对象`.forEach`功能`NodeList`。注意——<strong>`.forEach`在 Internet Explorer 中不受支持，因此请考虑上述方法之一，或者如果需要 IE 支持，请使用 polyfill。

[https://developer.mozilla.org/en-US/docs/Web/API/NodeList/forEach](https://developer.mozilla.org/en-US/docs/Web/API/NodeList/forEach)

```
const paragraphs = document.querySelectorAll('p');
paragraphs.forEach(p => console.log(p));
```

```
<p>paragraph 1</p>
<p>paragraph 2</p>
<p>paragraph 3</p>
<p>paragraph 4</p>
<p>paragraph 5</p>
```

* * *

## 回答 #4

> 赞同：26
> 
> 时间：2016-09-07T18:31:37.200

在**ES6**中，有一个静态方法`Array.from`可以利用`Array`非静态方法（map、filter、...）：

```
Array.from(document.querySelectorAll('div')).forEach((element,index) =>
{

     // handle "element"

}); 
```

`Array.from`since`querySelector`提供方法的另一种用法`item`：

```
var all = document.querySelectorAll('div');
// create range [0,1,2,....,all.length-1]
Array.from({length: all.length}, (v, k) => k).forEach((index) => {
     let element = all.item(index);
}); 
```

* * *

## 回答 #5

> 赞同：25
> 
> 时间：2013-12-24T11:11:49.077

一个不错的选择是：

```
[].forEach.call(
    document.querySelectorAll('.check'),
    function (el) {
        console.log(el);
    }
); 
```

但正如所指出的，您应该使用 for 循环。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2021-03-16T21:08:18.560

## 主要内容：

### 类型很重要。

`.map`不会直接在 a 上工作，`NodeList`但会在`Array`.

比较这些： [`Array.prototype.map()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map) [`NodeList.forEach()`](https://developer.mozilla.org/en-US/docs/Web/API/NodeList/forEach)

## 选项：

### ES6 可用吗？

1.  `[...element_list]`然后展开运算符`Array.map()`
2.  `Array.from()`在一个`NodeList.forEach()`

### ES6 不可用？

1.  `NodeList.forEach()`
2.  一个“`for`循环”

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-11-01T16:48:14.753

能够使用任何常规 Array 方法（或者在您的情况下是 a`for in`上的循环）的最短和最简洁的方法是`NodeList`在您获取它时将其传播到一个数组中：

```
const checkboxes = [...document.querySelectorAll('.check')];

for (i in checkboxes) {
  console.log(checkboxes[i]);
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-11-12T10:57:17.550

您可以使用方法选择所有元素`querySelectorAll`。它将返回一个 nodeList 数组。

假设你想选择所有 p 标签

```
<p>paragraph 1</p>
<p>paragraph 2</p>
<p>paragraph 3</p>
<p>paragraph 4</p>
<p>paragraph 5</p> 
```

```
const paragraphs = document.querySelectorAll('p'); 
```

现在段落有一个 forEach 方法，可用于循环遍历节点列表

```
paragraphs.forEach(console.log); (logs node) 
```

# ruby - 将具有另一个数组的增量索引的两个数组相减到最大限制

> ID：12330087
> 
> 赞同：2
> 
> 时间：2012-09-08T10:56:12.057
> 
> 标签：ruby

我需要对大量数据进行大量数学运算，但这一切都基于一些基本模板。因此，与其说，在 2 个数组之间进行数学运算时，我这样做：

```
results = [a[0]-b[1],a[1]-b[2],a[2]-b[3]] 
```

我想只放置基本模板：a[0]-b[1] 并使其自动填充结果数组中的 50 个位置。所以我不必总是手动输入。

有什么方法可以做到这一点？一个好方法是创建一个自动执行此操作的方法。我只是告诉它数学它会填写一个数组吗？

我不知道，我对编程真的很陌生。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T11:09:32.870

```
a = [2,3,4]
b = [1,2,3,4]

results = a.zip(b.drop(1)).take(50).map { |v,w| v - w } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T11:49:09.660

风俗

```
 a = [2,3,4..............,1000]
  b = [1,2,3,4,.............900]

  class Array
   def self.calculate_difference(arr1,arr2,limit)
    begin
     result ||= Array.new
     limit.send(:times) {|index| result << arr1[index]-arr2[index+=1]} 
     result
   rescue
    raise "Index/Limit Error"
   end
  end
 end 
```

致电：

```
Array.calculate_difference(a,b,50) 
```

# emacs - 如何在字符串关联列表中找到键的值？

> ID：12330088
> 
> 赞同：0
> 
> 时间：2012-09-08T10:56:22.553
> 
> 标签：emacs, elisp

我有一个最近关闭的表单文件的关联列表`(buffer-name) . (buffer-file-name)`，如下所示：

```
(("04_-_Emacs.rst" . "/home/boris/pst/wordy/edu/HotKeyPoetry/04_-_Emacs.rst")
 ("lib_bk_files_dirs.py" . "/home/boris/cmp/devs/bk_automates/bk_libs/lib_bk_files_dirs.py")
 ("lib_bk_text_related.py" . "/home/boris/cmp/devs/bk_automates/bk_libs/lib_bk_text_related.py")
 ("lib_bk_media.py" . "/home/boris/cmp/devs/bk_automates/bk_libs/lib_bk_media.py")
 nil) 
```

我想获取给定键的值：

```
(defun ergo-undo-close ()
  (interactive)
  (let ((mylist 
         ;; let's get the keys (buffer names):
         ;; butlast for the last element of this alist is nil
         (butlast (mapcar 'car recently-closed-buffers)))
        baseName
        fileName)
    ;; now let's choose the item to resurrect:
    (setq baseName (ido-completing-read "Open this session closed buffer: " mylist))
    (message baseName) ;; works fine
    ;; and find it's full path:
    (setq fileName (assoc baseName mylist)) ;; <- **Edit**: recently-closed-buffers 
                                            ;; should be here instead of mylist
    (print fileName)
    ;; prints nil -- I expected it to print the pair:
    ;; (find-file (cdr fileName))
    )) 
```

**编辑**：

根据下面的答案，这就是我现在使用的：

```
(defun ergo-undo-close-buffer ()
  "Opens some this-session closed buffer."
  (interactive)
  (let* ((mylist (delq nil (delete-dups (mapcar 'car recently-closed-buffers))))
         (baseName (ido-completing-read "Open this session closed buffer: " mylist))
         (fileName (cdr (assoc baseName recently-closed-buffers))))
    (find-file fileName))) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T23:26:35.463

你想使用`(assoc baseName recently-closed-buffers)`since `mylist`is not alist。顺便说一句，我还建议您尝试在 中为变量赋值，`let`而不是在之后使用`setq`. 例如：

```
(let* ((mylist 
        ;; let's get the keys (buffer names):
        ;; butlast for the last element of this alist is nil
        (butlast (mapcar 'car recently-closed-buffers)))
       (baseName (ido-completing-read "Open this session closed buffer: " mylist))
       (fileName (cdr (assoc baseName recently-closed-buffers))))
  (print fileName)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T11:02:44.497

```
(cdr (assoc "04_-_Emacs.rst"
            '(("04_-_Emacs.rst" . "/home/boris/pst/wordy/edu/HotKeyPoetry/04_-_Emacs.rst")
              ("lib_bk_files_dirs.py" . "/home/boris/cmp/devs/bk_automates/bk_libs/lib_bk_files_dirs.py")
              ("lib_bk_text_related.py" . "/home/boris/cmp/devs/bk_automates/bk_libs/lib_bk_text_related.py")
              ("lib_bk_media.py" . "/home/boris/cmp/devs/bk_automates/bk_libs/lib_bk_media.py")
              nil))) 
```

# asp.net-mvc - 带有子集合的 asp.net mvc 模型绑定器

> ID：12330089
> 
> 赞同：3
> 
> 时间：2012-09-08T10:56:58.060
> 
> 标签：asp.net-mvc

我正在学习 ASP.NET MVC，但在保存模型时遇到问题，如下所示：

订单 -> 订单项

在我的 Create 视图中，我会将一些项目添加到 Order 中，当我按下提交时，我希望项目数据绑定到 model.OrderItems。我怎样才能做到这一点？

```
 [HttpPost]
    public ActionResult Create(OrderViewModel model)
    {
       ...............
       //iterate item list and add to main order
       foreach (var item in model.OrderItems) <~ this is what I'm trying to do
        {

        }
       ...............
    } 
```

非常感谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T11:51:01.390

如果它们是连续的，您可以在每个输入上创建一个索引：

```
<input type="text" name="OrderItems[0].Name" value="Stuff" />
<input type="text" name="OrderItems[0].Price" value="5.00" />
...
<input type="text" name="OrderItems[1].Name" value="OtherStuff" />
<input type="text" name="OrderItems[1].Price" value="15.00" /> 
```

或者您需要提供一个索引：

```
<input type="hidden" name="OrderItems.Index" value="@item.ItemId" />
<input type="text" name="OrderItems[@item.ItemId].Name" value="Stuff" />
<input type="text" name="OrderItems[@item.ItemId].Price" value="5.00" /> 
```

# .net - 如何投射 lambda？

> ID：12330090
> 
> 赞同：10
> 
> 时间：2012-09-08T10:57:00.807
> 
> 标签：.net, c#-4.0, casting, lambda

我希望将一系列函数保存在从某种基类型派生的字典中（例如，让我们将基类称为“对象”）。那么，是否可以将 f1 保留在 f2 中？

```
Func<bool> f1 = () => true;
Func<object> f2 = f1; 
```

> 错误 1 ​​无法将类型隐式转换`System.Func<bool>`为`System.Func<object>`

这是我们能做的最好的吗？

```
Func<bool> f1 = () => true;
Func<object> f2 = () => (object)f1; 
```

错误：（无）

我想它需要通用友好的是 where 语句......但我不确定你是否可以用 lamdas 做到这一点。

* * *

跟进 Armen 的信息，我深入研究了 string 和 bool 的定义：

```
public sealed class String : IComparable, ICloneable, IConvertible, IEnumerable,
                             IComparable<String>, IEnumerabl<char>,
                             IEquatable<String> 

public struct Boolean : IComparable, IConvertible, IComparable<Boolean>,
                        IEquatable<Boolean> 
```

他对 ref Vs 价值的看法是正确的。String 是否隐式地从对象派生？根据@PeterK的链接，这似乎是结构的行为。

> “ValueType 使用更合适的值类型实现覆盖来自 Object 的虚拟方法。另请参见继承自 ValueType 的 Enum。”

目的：

> System.Object：所有类、结构、枚举和委托。（来自[http://msdn.microsoft.com/en-us/library/system.object](http://msdn.microsoft.com/en-us/library/system.object)）

这反过来又使得`Func<bool>`不能分配给`Func<object>`有点愚蠢。即从那个角度来看，继承层次结构是正确的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T11:07:39.827

如果您使用的是 .NET 4.0+，这是可能的。

您的示例不起作用，因为 bool 是一种值类型。但是，如果您要使用字符串更改 bool，则该示例有效。

```
 Func<string> f1 = () => "true";
    Func<object> f2 = f1; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-08T15:07:00.147

从[这里](http://msdn.microsoft.com/en-us/library/dd469487.aspx)（强调我的）：

> 协变使您可以使用比泛型参数指定的类型更多的派生类型。这允许实现变体接口的类的隐式转换和委托类型的隐式转换。引用类型支持协变和逆变，**但值类型不支持它们**。

[还有](http://msdn.microsoft.com/en-us/library/dd799517.aspx)：

> 差异仅适用于引用类型；如果为变体类型参数指定值类型，则该类型参数对于生成的构造类型是不变的。

原因*可能*与 C# 和 CLI 在历史上如何处理（并且不同意）值类型的数组协方差有关。[在这里](http://blogs.msdn.com/b/ericlippert/archive/2009/09/24/why-is-covariance-of-value-typed-arrays-inconsistent.aspx)查看一些信息。

所以你看，类型参数的协方差`Func<out TResult>`不适用于值类型，所以你必须这样做：

```
Func<object> f2 = () => f1(); 
```

# android - 我如何通过从 android 的微调器中选择项目（只需点击项目）进入下一个屏幕？

> ID：12330091
> 
> 赞同：0
> 
> 时间：2012-09-08T10:57:14.333
> 
> 标签：android

当我从微调器中选择一个值时，我试图获得屏幕转换。我的微调器只有 2 个值。默认选择第一个。我想要的是，当我单击微调器中的第二个值时，它应该将我带到新屏幕。

请帮忙！

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:00:32.083

使用 Spinner 的 onItemSelectedListener。这是一个演示，

```
public class AndroidSpinner extends Activity implements OnItemSelectedListener {

 TextView selection;
 Spinner spin;
 String[] items = { "bangladesh", "bangla", "bd", "australia", "japan",
   "china", "indiaA", "indiaC" };

 /** Called when the activity is first created. */
 @Override
 public void onCreate(Bundle savedInstanceState) {
  super.onCreate(savedInstanceState);

  Spinner spin = new Spinner(this);
  setContentView(spin);

  spin.setOnItemSelectedListener(this);

  ArrayAdapter<String> aa = new ArrayAdapter<String>(this,
    android.R.layout.simple_spinner_item, items);

  spin.setAdapter(aa);
 }

 @Override
 public void onItemSelected(AdapterView<?> parent, View v, int position,
   long id) {
  // Do your Stuff Here
   Intent intent = new Intent(MyActivity.this, NextActivity.class);
        startActivity(intent);

 }

 @Override
 public void onNothingSelected(AdapterView<?> arg0) {
  // TODO Auto-generated method stub
  selection.setText("");

 }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T11:07:59.307

使用下面的代码打开新活动或微调器的新屏幕 onitemselected 事件。

```
public class SpinnerExample extends Activity implements OnItemSelectedListener { 

    String[] items = { "Dipak", "Aadi", "Bharat", "Pratik", "Usha", "Jayesh", "Deep", "Imran" };

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        Spinner mSpn1 = (Spinner) findViewById(R.id.mSpn1);
        mSpn1.setOnItemSelectedListener(this);
        ArrayAdapter<String> adpt = new ArrayAdapter<String>(this, android.R.layout.simple_spinner_item, items);
        mSpn1.setAdapter(adpt);
    }

    @Override
    public void onItemSelected(AdapterView<?> parent, View v, int position, long id) {
        // Do your Stuff Here
        // For Open New Activity
        Intent mInNewAccount = new Intent(MainActivity.this, SecondActivity.class);
        startActivity(mInNewAccount);
        finish();

        // For Open New Screen
        setContentView(R.layout.second_screen);
    }

    @Override
    public void onNothingSelected(AdapterView<?> arg0) {
        // TODO Auto-generated method stub

    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T11:08:21.090

假设您知道如何设置微调器适配器和所有内容，只需添加代码以在微调器上选择其他项目时转到下一个屏幕。

```
public void onItemSelected(AdapterView<?> parent, View v, int position, long id) 
{
  if(position ==0)
         //do nothing (assuming that you would want to stay in the same screen)
  else if (position ==1)
     {
         //go to the next screen, probably by using an INTENT to the next activity or using setContentView(theLayoutXmlFile)
     }
 } 
```

# c# - ASP.NET MVC 4 代码优先，如何使用代码优先添加表

> ID：12330098
> 
> 赞同：2
> 
> 时间：2012-09-08T10:58:28.437
> 
> 标签：c#, ef-code-first, asp.net-mvc-4

我目前在 Visual Studio 2012 asp.netmvc4 上玩，会员资格简单。这将在运行后生成 5 个表。

我的问题是如何添加其他表格？我尝试创建一个新模型并在上下文类上添加一个 DbSet，但它会抛出错误，说数据库中不存在 dbo.model。未创建表。

是否有一种标准方法可以添加无需运行 db migrations 命令即可生成表的模型？

我什至添加了这个 Database.SetInitializer(new HWMDContextInitializer()); 在应用程序启动但错误仍然存​​在。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-22T10:35:13.850

通过这个。它将为您提供确切的方法 [http://programmaticponderings.wordpress.com/2012/10/30/first-impressions-of-code-first-development-with-entity-framework-5-in-visual-studio-2012 /](http://programmaticponderings.wordpress.com/2012/10/30/first-impressions-of-code-first-development-with-entity-framework-5-in-visual-studio-2012/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T11:04:29.077

你试过这个吗？

```
protected override void OnStartup(StartupEventArgs e)
    {
        base.OnStartup(e);
        Database.SetInitializer<YourContext>(new DropCreateDatabaseIfModelChanges<YourContext>()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-26T20:20:45.080

如果您希望实体框架在您更改模型架构时自动删除并重新生成数据库，请使用数据迁移。

有关详细信息，请参阅文档：http: [//msdn.microsoft.com/en-us/data/jj591621.aspx](http://msdn.microsoft.com/en-us/data/jj591621.aspx)

# jquery - jqGrid 在空单元格中返回一个空格

> ID：12330103
> 
> 赞同：0
> 
> 时间：2012-09-08T10:58:40.517
> 
> 标签：jquery, jqgrid

我正在编写一些基于 jqGrid 的代码，并且遇到了与渲染空单元格有关的问题。

我使用 JSON 返回要渲染的数据，当没有值时，jqGrid 不输出任何内容，而是输出一个空格。这会导致问题，因为如果单元格为空，我需要触发一个函数。

我使用 Firebug 查看了返回的 JSON，它绝对正确，没有返回空间。

查看最新的 jqGrid 演示，可以复制此问题：

1.  访问[http://trirand.com/blog/jqgrid/jqgrid.html](http://trirand.com/blog/jqgrid/jqgrid.html)
2.  在 Firebug 中查看任何包含空单元格和“检查此元素”的演示网格。
3.  你会注意到这个演示网格做同样的事情

我很欣赏这可能是出于有效性原因，但有解决方法吗？目前我的工作选择器显示：

```
$(".jqgrow td:not(:first-child)") 
```

我尝试使用 :contains 如下组合它们，但到目前为止没有任何运气：

```
$(".jqgrow td:not(:contains('&#160;'))")
$(".jqgrow td:not(:contains('&nbsp;'))")
$(".jqgrow td:not(:contains(' '))") 
```

我将不胜感激任何帮助！

**更新 1：**

我制作了这个扩展问题的 jsFiddle：http: [//jsfiddle.net/fJZst/](http://jsfiddle.net/fJZst/)

我已经从表中复制了一行以使其尽可能简单。在演示中，如果您将鼠标悬停在不包含空格的单元格上，您将收到警报。如果它确实包含空格，则不会。如果您将警报替换为您脑海中的工具提示，则选择器看起来不错。如果我在 jqGrid 中尝试这个，警报总是会触发，所以我有点困惑..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:58:14.180

```
$('.jqgrow tr td').filter(function() {
        return $.trim($(this).text()) != ''
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-09T10:34:23.947

您可以创建一个自定义伪类：http: [//jsfiddle.net/fJZst/1/](http://jsfiddle.net/fJZst/1/)。

```
$.expr.pseudos.trimmedEmpty = $.expr.createPseudo(function() {
    return function(elem) {
        return $.trim( $.text(elem) ) === "";
    };
});

$(".jqgrow td:not(:trimmedEmpty)").mouseenter(function() {    
    alert($(this).text());
}); 
```

# c# - 关闭父级而不关闭子级

> ID：12330104
> 
> 赞同：4
> 
> 时间：2012-09-08T10:59:20.603
> 
> 标签：c#, winforms, dialog

我有一个项目，其中会弹出一个设置对话框（父级）。当用户点击继续时，会打开一个主对话框（子级）。从主对话框中，用户可以重新编辑设置对话框（父）。当用户单击 X 关闭设置对话框时，应用程序终止。我认为这是因为我们关闭了 Parent 并且它处理了它的所有孩子

是否可以在不关闭主对话框（子项）的情况下关闭父项（或隐藏它）？如果没有，以下修复会起作用吗？以父级身份打开主对话框并使其打开设置对话框（子级）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-08T11:12:52.353

在`Program.cs`文件中，您可能有这样的函数：

```
 static void Main()
    {
        Application.EnableVisualStyles();
        Application.SetCompatibleTextRenderingDefault(false);
        Application.Run(new Form1());
    } 
```

此函数是您的应用程序的入口点。该`Application.Run()`函数运行应用程序的*主循环*。图形应用程序的*主循环*是事件处理程序触发事件、更新 UI 等的地方。如果事件（例如按下按钮）处理时间过长，则 UI 挂起。为了防止这种情况发生，可以使用线程。

函数是重载的`Application.Run()`，所以如果函数有参数（`new Form1()`在这种情况下），表单就变成了“主”表单，所以当表单关闭时主循环将退出。

要解决此问题，您需要删除该参数，这将使主循环在窗体关闭时运行而不关闭：

```
 static void Main()
    {
        Application.EnableVisualStyles();
        Application.SetCompatibleTextRenderingDefault(false);
        Application.Run();
    } 
```

但是，这会产生两个问题：

1.  启动时不显示表单，因为我们从`Main`函数中删除了它。要解决这个问题，您需要在主函数中创建一个新表单，并显示它：

    ```
    static void Main()
    {
        Application.EnableVisualStyles();
        Application.SetCompatibleTextRenderingDefault(false);

        Form1 form = new Form1();
        form.Show();

        Application.Run();
    } 
    ```

2.  当您关闭表单时，应用程序不会退出。如果您关闭所有表单，该进程将仍在运行，因此您需要`Application.Exit();`在希望应用程序退出时调用（例如表单关闭事件）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T13:13:09.520

或者，您只是无法理解[模态](http://en.wikipedia.org/wiki/Modal_window)窗口没有父级就无法生存。当父级最小化时，所有的模态表单都被隐藏了。当父级关闭时，模态表单也会发生同样的情况。

因此，在父母去世后欺骗模型表单以保持活力是一种不好的做法。试着保持第二种形式与第一种形式相同的模式。

# java - 在 Java 中使用 Base64 HMAC SHA1 未获得预期结果

> ID：12330110
> 
> 赞同：0
> 
> 时间：2012-09-08T10:59:45.710
> 
> 标签：java, base64, hmacsha1

我正在尝试使用 HMAC SHA1 单向算法

这是我的代码

```
@Test
public void encodeTest() {

    String HMAC_SHA1_ALGORITHM = "HmacSHA1";
    String EXPECTED_BASE_64 = "g9OrJ8pQNYprnXuBPFXcirrqpxE=";

    String text = "encodeme";
    String result;

    try {
        SecretKeySpec signingKey = new SecretKeySpec(
                "MSbN2crsrdTEsLetTixpV46q+fTZotdZjwoEpO62vYk=".getBytes(),
                HMAC_SHA1_ALGORITHM);
        // Get an hmac_sha1 Mac instance and initialise with the signing key
        Mac mac = Mac.getInstance(HMAC_SHA1_ALGORITHM);
        mac.init(signingKey);
        // Compute the hmac
        byte[] rawHmac = mac.doFinal(text.getBytes());
        // Convert raw bytes to Hex
        byte[] hexBytes = new Hex().encode(rawHmac);
        // Covert array of Hex bytes to a String

        result = new String(hexBytes, "ISO-8859-1");
        // Ok, this matches with the web
        System.out.println("HEX:" + result);

        String encodedBase64 = new String(Base64.encodeBase64(hexBytes));
        System.out.println("BASE64:" + encodedBase64);

        // In the web i get a smaller chain, why?
        System.out.println("EXPECTED BASE64:" + EXPECTED_BASE_64);
        Assert.assertEquals(EXPECTED_BASE_64, encodedBase64);

    } catch (InvalidKeyException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (NoSuchAlgorithmException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IllegalStateException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (UnsupportedEncodingException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

} 
```

输出是

十六进制：83d3ab27ca50358a6b9d7b813c55dc8abaeaa711 BASE64:ODNkM2FiMjdjYTUwMzU4YTZiOWQ3YjgxM2M1NWRjOGFiYWVhYTcxMQ==

预期 BASE64:g9OrJ8pQNYprnXuBPFXcirrqpxE=

我使用这些在线网站定义了我的期望

[http://hash.online-convert.com/sha1-generator](http://hash.online-convert.com/sha1-generator)

文本=编码

使用共享密钥

键=MSbN2crsrdTEsLetTixpV46q+fTZotdZjwoEpO62vYk=

我得到的结果略有不同

十六进制：83d3ab27ca50358a6b9d7b813c55dc8abaeaa711 十六进制：83D3AB27CA50358A6B9D7B813C55DC8ABAEAA711 h:e:x: 83:d3:ab:27:ca:50:35:8a:6b:9d:7b:81:3c:575:dca:a:a:8 11 base64: g9OrJ8pQNYprnXuBPFXcirrqpxE=

如您所见，十六进制输出匹配 100%，但是 base64 输出根本不匹配

为了验证问题不在那个站点，我去了另一个站点，只是为了使用 base64 对十六进制字符串进行编码，然后我又得到了相同的结果......

[http://tomeko.net/online_tools/hex_to_base64.php?lang=en](http://tomeko.net/online_tools/hex_to_base64.php?lang=en)

任何人都知道为什么会这样？

提前致谢！

# sql - SQL 存储过程：如何检测是否传递了可选输出参数？

> ID：12330114
> 
> 赞同：1
> 
> 时间：2012-09-08T11:00:36.077
> 
> 标签：sql, sql-server

我正在编写一个存储过程，它接受一个输入参数并可以通过可选的输出参数返回相关属性。它是这样定义的：

```
CREATE PROCEDURE dbo.sp_get_info
                       @Identifier  nvarchar(50),
                       @Info1       uniqueidentifier = NULL  OUTPUT,
                       @Info2       nvarchar(10) = NULL      OUTPUT,
                       @Info3       int = NULL               OUTPUT 
```

我想调用如下程序：

```
DECLARE @uid uniqueidentifier
...
EXEC sp_get_info @Idenfier = 'a123', 
                 @Info1 = @uid 
```

获取每个输出值会导致不同的活动。这样，我想检测到只有`@Info1`输出值应该从其他地方检索的事实。这样，该过程不需要执行检索其他输出（现在不需要的）参数的成本可能很高的代码。

首先，我在考虑像`IF @Info1 IS NOT NULL do_something`. 但是，正如 OUTPUT 所说，参数也可以具有输入值（Microsoft SQL），`@uid`它本身可以具有 value `NULL`。这样，上面的测试就不起作用了。

有什么技术可以解决这种情况吗？

谢谢，彼得

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:08:20.433

您可以使用`@field`and`@value`参数。`@field`可能`Info1, Info2, Info3`是。现在`@value`可以`null`并且您仍然知道要搜索的字段。

```
CREATE PROCEDURE dbo.sp_get_info
    @Identifier nvarchar(50),
    @field nvarchar(50),
    @value nvarchar(50) output 
```

调用代码必须将`@value`from转换`nvarchar(50)`为所需的类型，但这通常很容易。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T11:09:27.220

由于默认值是有效输入，因此您无法判断它是否被显式传递。您可以添加另一个参数，例如`@Use_Info1 BIT`，指示是否应使用或忽略某个参数。

# wpf - 如何在 Windows 8 Metro 应用程序中播放 Youtube 或实时流媒体协议视频？

> ID：12330118
> 
> 赞同：3
> 
> 时间：2012-09-08T11:01:58.887
> 
> 标签：wpf, youtube, windows-8, youtube-api, rtsp

我正在构建一个应用程序，它可以从我们的频道中挑选视频并在应用程序中列出和播放。
我已经完成了所有的 json 解析并准备好了一切，但唯一的问题是我无法播放来自 Youtube API 的 rtsp 视频。
我已经读到可以使用**MediaElement**控件播放 rtsp 视频，但它不起作用，我的示例 XAML 代码如下。

```
<MediaElement Width="500" Height="500" AutoPlay="True" Source="rtsp://v6.cache5.c.youtube.com/CiQLENy73wIaGwkNCW3rSEjLahMYDSANFEgGUghzdGFuZGFyZAw=/0/0/0/video.3gp"/> 
```

我还查看了[适用于 Windows 8 Metro Style Applications](http://playerframework.codeplex.com)和[Smooth Streaming Client SDK的 Player Framework](http://visualstudiogallery.msdn.microsoft.com/04423d13-3b3e-4741-a01c-1ae29e84fea6?SRC=Home)

使用这些我可以播放存储在服务器中的直接视频（http://localhost/video.mp4），但不能播放通过 rtsp 流式传输的视频。请帮忙。我主要希望通过 rtsp 播放 youtube 视频
我已经搜索了很多但没有找到任何解决方案，请帮助。

rtsp 流也在工作我尝试通过 VLC 播放，它在那里播放。
操作系统：Windows 8 Release Preview w/VS 2012 Express for Windows 8

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T21:02:06.473

我很确定播放 YouTube 视频不仅仅是 RTSP 协议。您的示例显示了一个**.3gp**类型的文件，该文件传统上被视为 QuickTime 并且不能由 MediaElement 播放。但是， MediaElement*可以*播放 MP4，并且在安装了编解码器和自定义 DirectShow 图形后，它甚至可以播放 FLV。[这里](https://groups.google.com/forum/?fromgroups#!topic/wpf-disciples/X6F3AXqCW10)甚至还讨论了一个示例 WPF YouTube 播放器，看起来源代码仍然[可供下载](http://jmorrill.hjtcentral.com/Portals/21/blog/Files/YouViewer.zip)。

# linux - 4 用于 Linux 中初始序列号生成的 USec 计时器

> ID：12330119
> 
> 赞同：1
> 
> 时间：2012-09-08T11:02:03.143
> 
> 标签：linux

下面是取自[RFC6528 的几行代码。S3](http://www.rfc-editor.org/rfc/rfc6528.txt)

提出的初始序列号生成算法。

TCP 应该使用以下表达式生成其初始序列号：

```
 ISN = M + F(localip, localport, remoteip, remoteport, secretkey) 
```

其中 M 是 4 微秒计时器

**4微秒计时器**到底是什么意思？

（请不要被下面的东西偏离问题的主要焦点。这只是为了澄清我的评论之一）

这是一个让我困惑的图像。

![MD5 已经从内核 3.1 中替换了一半的 MD4，但我不确定是否可以避免重新键入！](../Images/297dcf4bc63563effb340f4fc898e62f.png)

（MD5 已经从内核 3.1 中替换了 MD4。但我不确定是否可以避免重新键入。重新键入计数器在启动时设置为零，如果它仍然使用）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T19:44:47.547

为了避免从早期的 TCP 连接接收过时的数据段带来麻烦，相关的 RFC 提出了一系列措施。

其中一项措施是以比实时连接所允许的带宽更快的速率单调递增 ISN，因此下次使用相同的（源 ip、目标 ip、源端口、目标端口）元组打开连接时，使用的序列号与先前连接的 TCP 段中使用的序列号不一致。

[RFC1185](http://www.rfc-editor.org/rfc/rfc1185.txt)的附录中讨论了这种机制和其他机制。

显然 4 µs 定时器适用于 2Mb/s 网络。Linux 使用 64 ns 计时器。

# c# - 如何在 C# 应用程序设置中保存 byte[]

> ID：12330121
> 
> 赞同：23
> 
> 时间：2012-09-08T11:02:29.513
> 
> 标签：c#, visual-studio-2010, listview, application-settings

我正在尝试在[Object List View](http://objectlistview.sourceforge.net/cs/index.html)返回的 c# 应用程序设置中保存一个字节数组 (byte[]) 。

谁能给我一个关于如何在 C# 应用程序设置中保存字节数组的解决方案？或有关如何将 byte[] 转换为字符串之类的东西然后存储，然后检索并再次将其转换为字节数组并将其返回给对象列表视图的一些技巧。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-09-08T11:06:14.503

从字节数组中生成字符串的最常见方法之一是将它们编码为[Base-64](http://en.wikipedia.org/wiki/Base64)：

```
string encoded = System.Convert.ToBase64String(toEncodeAsBytes); 
```

采用

```
byte[] bytes = System.Convert.FromBase64String(encoded); 
```

取回你的字节。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-08T11:06:03.007

执行此操作的规范方法是将 转换`byte[]`为`string`via base64，反之亦然。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-08T11:34:12.380

通过不同的方式，您可以将字节数组转换为字符串，将字符串转换为字节数组。像这样 ：

1)

```
string asciiString = ASCIIEncoding.ASCII.GetString(byteArray);

byte[] byte = ASCIIEncoding.ASCII.GetBytes(asciiString); 
```

2)

```
string base64String = System.Convert.ToBase64String(byteArray);

byte[] byte = System.Convert.FromBase64String(base64String); 
```

3)

```
string utf8String = System.Text.Encoding.UTF8.GetString(byteArray);

byte[] byte = System.Text.Encoding.UTF8.GetBytes(utf8String); 
```

您还可以使用 System.Text.Encoding.BigEndianUnicode、System.Text.Encoding.Unicode 和 System.Text.Encoding.UTF32 将字节数组转换为字符串，将字符串转换为字节数组。

希望，它应该可以帮助你。

# lua - corona lua - 如何测试一个点是否在 displayObject 的物理形状“内部”？

> ID：12330122
> 
> 赞同：0
> 
> 时间：2012-09-08T11:02:32.150
> 
> 标签：lua, coronasdk

corona lua - 如何测试一个点是否在 displayObject 的物理形状“内部”？

这是对显示对象执行“addBody”物理函数时使用的“形状”。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T16:49:31.943

您将有一个主体作为传感器，然后在碰撞侦听器中有一个 event.phase == "began" 阶段，您可以在其中设置一个标志（例如，isInside）为真。

# image - 通过淡入淡出替换背景图像

> ID：12330124
> 
> 赞同：1
> 
> 时间：2012-09-08T11:02:39.710
> 
> 标签：image, vb.net-2010, effects

我在*VB.Net中有一个**WinForm* ，背景中有一些图像，每 5 秒通过计时器更改一次。问题是它们会立即改变，这看起来不太好。我想添加一些淡入效果，但我得到了 opacity 不是. 我只能淡化表格，但这不是我想要的。*`tableLayout.backgroundimage`*

 *这是我的代码：

```
Private Sub Timer1_Tick(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Timer1.Tick
    If imageNum > 3 Then
        imageNum = 1
    End If
    Select Case imageNum
        Case 1
            Me.TableLayoutPanel4.BackgroundImage = Global.posta1.My.Resources.Resources.foto1
            For FadeIn = 0.0 To 1.1 Step 0.1
                Me.Opacity = FadeIn
                Threading.Thread.Sleep(100)
            Next
            rd_btn1.Checked = False
            rd_btn2.Checked = True
        Case 2
            Me.TableLayoutPanel4.BackgroundImage = Global.posta1.My.Resources.Resources.foto3
            rd_btn2.Checked = False
            rd_btn3.Checked = True
            For FadeIn = 0.0 To 1.1 Step 0.1
                Me.Opacity = FadeIn
                Threading.Thread.Sleep(100)
            Next
        Case 3
            Me.TableLayoutPanel4.BackgroundImage = Global.posta1.My.Resources.Resources.foto2
            For FadeIn = 0.0 To 1.1 Step 0.1
                Me.Opacity = FadeIn
                Threading.Thread.Sleep(100)
            Next
            rd_btn3.Checked = False
            rd_btn1.Checked = True
    End Select
    imageNum = imageNum + 1
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T19:32:44.993

我是新手，但我认为可行的是绘制（使用`PaintEventArgs`控件的绘制事件的参数）来执行此操作：

*   画出旧图和新图。

*   减少旧图片的 alpha 值，同时增加新图片的 alha 值，直到它们是`0.0`, 和`1.0`

希望这有帮助。对不起，如果没有。

;)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T22:03:39.310

据我所知，不可能设置单个控件的不透明度，也许您可​​以通过自己绘制控件来做到这一点，但您必须对此进行研究，因为我对自己绘制控件一无所知..*

# java - 从另一个应用程序调用 servlet

> ID：12330127
> 
> 赞同：0
> 
> 时间：2012-09-08T11:02:51.523
> 
> 标签：java, servlets

我有两个应用程序...为简单起见，我给那里命名**XXX**和**YYY**。

我的要求是使用名为 XXX.war 的 itzz war 文件运行**XXX**应用程序，我需要调用**YYY**应用程序的名为 myservlet 的 servlet。

但现在我得到的是这样的网址（`http://localhost:8080/XXX`）。那个时候我已经浏览了这个 url，我收到一个错误消息资源未找到。

我通过`/myservlet`在网址末尾添加来检查。那个时候它工作得很好而且很完美。

我真正需要的是这样的网址（`http://localhost:8080/XXX/mysevlet`）

我在我的**XXX**申请中给出的联系方式是`/myservlet`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-09T10:28:57.727

似乎您的 web.xml 配置不正确。您可以在这里发布您的 web.xml 代码吗？BlausC 是正确的，没有看到描述符文件，对任何东西或诊断都没有结果。发布您的 web.xml 谢谢，本

# requirejs - yepnope 的多个条件

> ID：12330130
> 
> 赞同：6
> 
> 时间：2012-09-08T11:03:08.043
> 
> 标签：requirejs, yepnope, labjs

我使用 yepnope.js 作为加载的资源。仅当加载该模块的所有依赖项时，我才想在我的 JS 模块中执行代码。我不想加载已经加载的 JS 依赖项。

假设我有依赖项 D1.js 和 D2.js。我试过

```
yepnope({
    load: ['D1.js', 'D2.js],
    complete: function() {
        //execute my code here
    }
}); 
```

这可行，但是每次都会加载资源，即使它们之前已经加载过。

如果我做这样的多个测试：

```
yepnope([{
    test: $().d1,
    nope: 'D1.js'
},
{
    test: $().d2,
    nope: 'D2.js'
}]); 
```

目前尚不清楚将整体*完成*的功能放在哪里 - 在*所有*资源加载后运行的功能。

是否可以使用 yepnope 执行此操作，还是需要使用其他组件？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-10T16:43:57.997

假设您需要有条件地加载 jquery.js、jquery.jgrowl.js 和 jquery.powertip.js。您希望以下代码能够正常工作：

```
yepnope([{
  test: typeof(window.jQuery) === 'undefined' || 
        jQuery.fn.jquery.match(/^1\.[0-9]+/) < 1.7,
  yep: '//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.0/jquery.min.js'
},
{
  test: typeof(window.jQuery) === 'undefined' 
        || typeof(window.jQuery.fn.jGrowl) === 'undefined',
  yep: ['//cdnjs.cloudflare.com/ajax/libs/jquery-jgrowl/1.2.12/jquery.jgrowl.min.js',
        '//cdnjs.cloudflare.com/ajax/libs/jquery-jgrowl/1.2.12/jquery.jgrowl.css'],
  complete: function() {
    console.log('completed loading jGrowl (should fire first, or not at all)');
  }
},
{
  test: typeof(window.jQuery) === 'undefined' 
        || typeof(window.jQuery.fn.powerTip) === 'undefined',
  yep: ['//cdnjs.cloudflare.com/ajax/libs/jquery-powertip/1.1.0/jquery.powertip.js', 
        '//cdnjs.cloudflare.com/ajax/libs/jquery-powertip/1.1.0/jquery.powertip.min.css'],
  complete: function() {
    console.log('completed loading powertip'); 
    jQuery.jGrowl("Growling!");
  }
}
]); 
```

但是，如果它在 jquery.powertip.js 已经加载但 jquery.jgrow.js 没有加载的页面上运行，这将引发错误，因为“完成”回调被立即触发，而不是当所有文件已完成加载。

下面的小提琴用 yepnope 1.5.4 演示了这个错误：http: [//jsfiddle.net/dergachev/HHxK2/](http://jsfiddle.net/dergachev/HHxK2/)

另请注意，在 yepnope 的当前主干（主分支）中，此错误消失了。它可能与以下票证有关（从未向后移植到 1.5.4）：

*   [https://github.com/SlexAxton/yepnope.js/pull/140](https://github.com/SlexAxton/yepnope.js/pull/140)
*   [https://github.com/SlexAxton/yepnope.js/issues/132](https://github.com/SlexAxton/yepnope.js/issues/132)
*   [https://github.com/SlexAxton/yepnope.js/issues/100](https://github.com/SlexAxton/yepnope.js/issues/100)
*   [https://github.com/SlexAxton/yepnope.js/issues/96](https://github.com/SlexAxton/yepnope.js/issues/96)
*   [https://github.com/SlexAxton/yepnope.js/issues/29](https://github.com/SlexAxton/yepnope.js/issues/29)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-08T21:20:50.847

回调在执行相应的脚本后运行（不仅仅是加载）。所有脚本都按顺序运行，因此如果您在最后一个对象上放置一个`callback`或`complete`属性，它将最后运行。

# jquery-ui - jquery ui selectable() 和 sortable() 结合

> ID：12330133
> 
> 赞同：0
> 
> 时间：2012-09-08T11:03:31.190
> 
> 标签：jquery-ui, jquery-ui-sortable, jquery-ui-selectable

我正在使用 twitter jquery 插件来显示 twitter 帖子列表 (ul/li)。

此外，我希望我的用户能够根据需要重新排列帖子，并且我希望标记移动的帖子。[我在这里](https://stackoverflow.com/questions/3390786/jquery-ui-sortable-selectable)看到了一个帖子如何做到这一点。如果我使用这个，可选择的功能不起作用（我可以重新排列但不能选择）：

```
$(document).ready(function() {

     $(".ul_sortable" ).sortable().selectable();
}); 
```

如果我使用这个排序功能不起作用（我可以选择但不能重新排列）：

```
$(".ul_sortable" ).sortable().selectable(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T15:28:45.553

关键是使用可排序`handle`选项，如另一个问题的链接所示。

Sortable 和 selectable 都接管了它们所应用的项目的鼠标事件，但是该`handle`选项允许您将排序应用于项目的一部分，因此允许 selectable 对项目的其余部分起作用。

还应该注意的是，本机不支持选择一堆项目然后将它们全部排序。

为了标记一个项目是否被移动，您可以使用各种可排序的事件，例如`stop`和`change` [docs](http://jqueryui.com/demos/sortable/#event-stop)

# php - 会话数组在下一个按钮单击下一个按钮时访问

> ID：12330134
> 
> 赞同：-3
> 
> 时间：2012-09-08T11:03:38.757
> 
> 标签：php, mysql

如何在下一个按钮单击时从会话数组中获取下一个数组元素？我试过`next($_SESSION['qid'])`了没有用

```
if((int)$_SESSION['qn']<=20) {
  $_SESSION['qn']=$_SESSION['qn']+1;
  $_SESSION['qid']++;
} 
```

我也试过

```
$_SESSION['qid']=next($_SESSION['qid']); 
```

但这都不起作用。有人能帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:19:31.153

_SESSION 数组是一个关联数组。您不能通过数字索引访问它，但您必须指定索引名称（例如在您的代码中`$_SESSION['qid']`）。无论如何，你仍然可以使用`next()`函数，传递数组`$_SESSION`（见这里： http: [//php.net/manual/en/function.next.php](http://php.net/manual/en/function.next.php)）。正确的使用方法是：

```
$element = next($_SESSION) 
```

您可能希望将此代码放入一个循环中。

此外，您的代码：

```
$_SESSION['qn']=$_SESSION['qn']+1; 
```

意思是：分配给plus`$_SESSION['qn']`的值，这不是你想要的。如果您想要 NON 关联数组中的下一个元素，您应该使用：`$_SESSION['qn']``1`

```
$arr = $arr[$i+1] 
```

其中`$i`是一个整数值。

**更新**：关于您的评论，为什么不在里面保存一个常规数组（非关联）`$_SESSION['questions']`？这样你就可以通过这种方式访问​​问题：

```
$_SESSION['questions'][0], $_SESSION['questions'][1]... 
```

现在你可以在一个周期内使用它，或者任何你想要的。例如：

回声 $_SESSION['questions'][$current_question_id+1];

当前问题索引在哪里`$current_question_id`，每次点击下一步按钮都会更新（+1）

# javascript - 将函数绑定到 jQGrid 过滤的文本框？

> ID：12330135
> 
> 赞同：1
> 
> 时间：2012-09-08T11:03:58.180
> 
> 标签：javascript, jquery, jqgrid, textbox, keyup

我用 jquery 编写了以下代码：

```
$('input[type="text"]').keyup(
    function (event) {
        // Allow: backspace, delete, tab, escape, and enter
        if (event.keyCode != 68 && event.keyCode != 186) return;
        var textbox = $(this);
        var clickAttr = textbox.attr('click');
        if (clickAttr != undefined && clickAttr.indexOf('NumericTextBoxKeyPress') > -1) return; 
        var insertedValue = textbox.val();
        insertedValue = insertedValue.replace(/a/g, 'SampleA');
        insertedValue = insertedValue.replace(/b/g, 'SampleB');
        textbox.val(insertedValue);
    }
); 
```

普通文本框没问题，但上面的代码不适用于 jQGrid 过滤的文本框！

![将函数绑定到 jQGrid 过滤的文本框](../Images/4cc1318a39b04a41066db67b6cb8d11e.png)

您能否指导我，如何将 keyup 函数绑定到 jQGrid 过滤的文本框？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:47:26.160

如果您有网格并且想在搜索工具栏的一个指定输入字段上绑定事件，您可以使用`dataEvents`相应`searchoptions`的列`colModel`（参见[此处](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:search_config#colmodel_options)）。请参阅代码示例[的答案](https://stackoverflow.com/a/4198475/315935)。

如果您需要将某些事件绑定`keyup`到网格搜索工具栏的*所有*输入字段，您可以执行以下操作：

```
var $grid = $("#list"); // the grid

// create the grid
$grid.jqGrid({
    //... jqGrid options
});

// create the searching toolbar with the line like
$grid.jqGrid('filterToolbar', {defaultSearch: 'cn'});

// get all input fields of the searching toolbar
var $toolbarRow = $grid.closest(".ui-jqgrid-view")
                       .find(".ui-jqgrid-htable .ui-search-toolbar");

// make the binding of all input fields to the event which you need
$toolbarRow.find('input[type="text"]').keyup(function (e) {
    // the code of your event handler
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T11:23:09.747

使用[jquery live()](http://api.jquery.com/live/)绑定事件

```
 $('input[type="text"]').live("click", function(){ .... }); 
```

# vb.net - VB.NET - 本地数据库（SQL Server Compact 3.5 数据库）数据在更新后消失了吗？

> ID：12330136
> 
> 赞同：2
> 
> 时间：2012-09-08T11:04:02.350
> 
> 标签：vb.net, sdf, local-database

我用本地数据库（SQL Server Compact 3.5 数据库）在 VB.NET（使用 Microsoft Visual Basic 2010 Express）中创建了一个应用程序来存储数据。

我已经在用户电脑上安装了这个，并添加了“在线搜索更新”功能（发布时可以选择）

现在我注意到，有时当我上传新版本时，数据库中的数据会被清除。（可能当我在开发时打开 dtb 时）

这当然不是我希望系统的行为方式，并且数据应始终保留在用户计算机上。

在“应用程序文件”中，数据库文件（*.sdf）当前设置为“数据文件（自动）”，但我不确定它的确切工作方式。

任何人都可以帮助我了解所有这些是如何工作的，并告诉我如何确保用户数据库中的数据即使在更新之后也会保留？如果没有解决方案来确保这一点，有没有办法安全地备份数据并重新加载？

提前致谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T14:33:53.823

基本上，单击安装会覆盖发布中包含的程序文件夹中的所有内容。因此，如果您包含 .sdf，那么在执行安装程序时它将覆盖它。您需要做的是在 sdf 上选择“排除”。这将使数据库保持以前的状态。

所以我的建议是有两个不同的发布。您创建的一个包含仅在第一次安装时使用的 .sdf，然后在所有更新中排除它。

要对表执行更新，您必须在软件中为其编写 SQL。基本上检查所有表以查看它们在启动时是否具有正确的设置。如果他们没有，那么您添加缺少的列。

希望这可以帮助。

# css - 使用 css 在不同的行上跨越文本

> ID：12330138
> 
> 赞同：1
> 
> 时间：2012-09-08T11:04:33.490
> 
> 标签：css

我有一些文本要放置在支架内，如下所示：

```
[...........]
[.the]......]
[.[title]...]
[...........] 
```

持有人需要有黑色背景，我希望文本有白色背景和黑色文本。我正在使用以下结构：

```
<div class="holder">
    <div class="title">
        <span>The</span>
        <span>Title</span>
    </div>
</div> 
```

我不确定它是否正确，但我使用的是`<span>s`过度，`<p>s`因为 p 是支架的全宽，而跨度的宽度本身就是文本本身。

我希望每个跨度都在一个新行上，这就是它破坏 atm 的地方。目前，跨度只是一起坐在同一条线上。我尝试`<br>`在第一个跨度之后添加一个，但这也不能解决它，这次第二个跨度略低于但位于右侧。

我正在使用的CSS：

```
.holder {
    width: 200px;
    height: 300px;
}

.title span {
    background: #fff;
    color: #000;
    float: left;
    display: block;
    padding: 2px;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:11:53.047

您不应该为此使用 float 。此外，创建 span 以跨越行中间的文本。

这就是你想要做的：http: [//jsfiddle.net/Rhjtv/](http://jsfiddle.net/Rhjtv/)？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T11:08:02.323

尝试`clear:both;`为您的跨度添加样式声明。

如果这不能解决您的问题，请在[http://www.jsfiddle.net](http://www.jsfiddle.net)上构建一个示例，以便 wie 可以更好地了解问题所在。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T11:13:07.900

如果您希望您的线路一个接一个，您应该使用 div

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T11:14:59.177

尝试删除 float:left; 从

```
.title span {
    background: #fff;
    color: #000;
    float: left;
    display: block;
    padding: 2px;
} 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2014-12-10T05:14:15.863

使用 css word-break 分隔行

点击这里查看结果 [http://gucoders.com/css3/css_wordbreak.php](http://gucoders.com/css3/css_wordbreak.php)

# python - 为什么 for 循环遍历（看似）空列表？

> ID：12330144
> 
> 赞同：0
> 
> 时间：2012-09-08T11:05:09.673
> 
> 标签：python

我是一名初学者程序员，我决定编写一个简单的程序，从数字中获取素数然后打印它们，但我在打印最终结果时遇到了麻烦。这是代码：

```
n = int(raw_input("Number?: "))
m = n
k = 2
czynniki = []       

while(m != 1):
    if m%k == 0:
        czynniki.append(k)
        print m, "\t", '|', k
        m = m/k
    else:
        k+=1
print m

print n, ' = ',
for czynnik in czynniki:
    if czynniki.count(czynnik)>1:
        print czynnik, '^', czynniki.count(czynnik), ' *',
        czynniki = filter(lambda x: x!=czynnik, czynniki)
    else:
        print czynnik, ' *', 
```

一切都很好，直到最后。例如，我希望它在输入 1025 时打印“1025 = 5^2 * 41”，但它会打印“1025 = 5^2 * 5 * 41”，就好像过滤功能根本没有影响一样。错误在哪里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:24:44.267

问题是您`czynniki`在迭代列表时正在修改列表。试试这个：

```
print n, ' = ',
for czynnik in sorted(set(czynniki)):
    if czynniki.count(czynnik)>1:
        print czynnik, '^', czynniki.count(czynnik), '*',
    else:
        print czynnik, '*', 
```

在这里，您遍历列表中唯一唯一项目的单独列表`czynniki`。这是通过将列表转换为一组（唯一项目的未排序列表）然后返回到排序列表来实现的。

如果你想在最后摆脱多余`*`的，你可以试试这个：

```
result_list = []
for czynnik in sorted(set(czynniki)):
    if czynniki.count(czynnik)>1:
        result_list.append(str(czynnik) + '^' + str(czynniki.count(czynnik)))
    else:
        result_list.append(str(czynnik))
print n, '=', ' * '.join(result_list) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T11:18:15.197

您正在对`for`存储在 中的列表开始循环，`czynniki`稍后您将更改哪些`czynniki`引用（一个全新的列表）不会更改`for`循环所经过的列表。更改循环运行的实际列表也不安全，因此无论哪种方式都不能真正做到这一点。

您可能想像这样重写循环，只是跳过重复的值，而不是在运行时尝试更改循环；

```
var lastvalue = -1;
for czynnik in czynniki:
    if lastvalue == czynnik:
        continue
    if czynniki.count(czynnik)>1:
        print czynnik, '^', czynniki.count(czynnik), ' *',
        lastvalue = czynnik
    else:
        print czynnik, ' *', 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T11:11:28.460

如果您想跳过循环中的某些项目而不是过滤您尝试遍历的集合，则应该使用 continue 关键字。

# iphone - iOS 导航栏

> ID：12330149
> 
> 赞同：0
> 
> 时间：2012-09-08T11:06:10.583
> 
> 标签：iphone, ios, uinavigationcontroller, uinavigationbar

这可能很简单..但我不知道这里的最佳做法是什么。

我有一个带有 4 个选项卡的 tabbarcontroller，其中 3 个应该是 UINavigationController，另一个也应该有 UINavigationBar，但不应该是导航控制器本身。现在我想给 UINavigationBar 一个色调和一个操作按钮。我想在界面生成器中执行此操作。navBar 应该始终是同一个，我只想创建一次。

但我究竟会在哪里做呢？我会创建一个仅包含 UINavigationBar 的 .xib 文件并以某种方式链接到该文件吗？

我在这里很困惑，大多数教程只讨论一个导航控制器的导航栏，但在我的情况下，我需要不同的视图控制器使用相同的栏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:28:00.397

NavBar 与 navigationController 一起提供，也可以单独提供。它是 UIView 的子类。

您不能简单地与所有控制器和非导航控制器共享您的导航栏。我的意思是导航栏的一个实例。您甚至不能为 navigationController 设置导航栏。它只是可读的。

据我了解，您正在尝试使每个控制器中的导航栏看起来都一样，对吗？
因此，您可以例如子类化 UINavigationController 并在`init`方法中根据需要对其进行设置，然后初始化此子类以将其添加到视图中。

*但是非 UINavigationController navBar 呢？*
好吧，这很简单：只需将您的子类 navigationController 添加到该选项卡。您不必将其用作 NavController。您只需将视图添加到他的视图中，就像添加到标准 ViewController 中一样。

# javascript - 输入密钥和 Firefox 提示

> ID：12330151
> 
> 赞同：1
> 
> 时间：2012-09-08T11:06:21.307
> 
> 标签：javascript, html, forms

我在按键提交表单时遇到了一个恼人的问题`Enter`。

在我的表单`Enter`中，键绑定到提交它的 javascript 方法（覆盖是由使用样式链接而不是提交按钮引起的）。现在，当用户开始在其中一个字段中写入他的用户名时，他会获得浏览器自动填充的建议。这很酷，但是选择其中一个需要`Enter`按键，它会在选择之前提交表单。

有没有办法检测浏览器的提示窗口？

该问题不会在 chrome 中发生。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:10:32.183

`return false;`在你的函数调用之前添加`onkeydown`。不久前我遇到了一个非常相似的问题。例如

`<input type="text" onkeydown="return event.keyCode!=13; someFunction()" />`

# mysql - UTF-8 博客文章的架构

> ID：12330153
> 
> 赞同：1
> 
> 时间：2012-09-08T11:06:43.773
> 
> 标签：mysql, text, utf-8, innodb, varchar

我正在尝试设计一个 GENERIC 博客/期刊 CMS（认为 GENERIC 这个词对我的需求相当重要）。整个数据库将由 MySQL 处理。

考虑：

*   MySQL 的最大行长 ( 65535 B )
*   UTF-8 字符串所需的存储空间（最多为字符数的 3 倍）

使用最大 60000 B 的 VARCHAR(20000) 来存储帖子内容以提高性能而不是使用 TEXT 是否有意义？

这是一个限制，但我想避免这个问题，存储一个 id_parent_post，在必要时将相关帖子连接为“章节”。

* * *

另一个问题是相对表引擎。

InnoDB 全文搜索仅在 MySQL 5.6 中可用。如今，仅出于此目的使用 MyISAM 表还有意义吗？

可能基于 Lucene 的解决方案是解决问题的最佳方法，但如果不可能（例如托管策略），我应该选择什么引擎？

# caching - memcache 减慢了 joomla 网站的速度

> ID：12330155
> 
> 赞同：1
> 
> 时间：2012-09-08T11:07:03.877
> 
> 标签：caching, joomla, memcached

我一直在尝试为我的 joomla 网站启用 memcache 缓存，但所有页面加载都很慢。我应该检查什么来解决这个问题。我正在使用 joomla 2.5.6 php 5.3

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-08T15:50:44.613

Joomla 2.5 的 Memcache 很慢。简短的回答是：使用 memcache* *d* * PHP 模块，而不是 memcache。

长答案：[https ://www.cloudaccess.net/about-us/blog/entry/2013/07/30/is-memcache-slowing-down-your-joomla-site.html](https://www.cloudaccess.net/about-us/blog/entry/2013/07/30/is-memcache-slowing-down-your-joomla-site.html)

# android - 如何在 Android 选项卡下更改颜色/删除标签/边框？

> ID：12330158
> 
> 赞同：0
> 
> 时间：2012-09-08T11:07:56.940
> 
> 标签：android, tabs, android-widget, android-activity, android-tabhost

下面是我的 Tab 类。我正在尝试更改选项卡的背景颜色，当被选中和取消选中时。如果您尝试使用自己的颜色自定义选项卡（我已经这样做了），为什么未选择选项卡下的边框与所选选项卡的颜色不同？让我给你看一张图：[http ://tinypic.com/view.php?pic=335e6ae&s=6](http://tinypic.com/view.php?pic=335e6ae&s=6)

图片左侧是模拟器的真实外观。在右边，你有我的 Photoshop 想要的外观。正如您在模拟器中看到的那样，未选中选项卡下的边框仍然具有标准的灰色？是否可以更改或删除此边框/标签？我怎么改呢？

目前，我通过 void initTabsAppearance() 方法自定义选项卡，在该方法中，我使用选择器在 xml 文件中设置背景。没有什么特别或狂热的三色堇……

```
public class Tabs extends TabActivity
{
private static final String TAG = "TabHostActivity";
private boolean mHaveShownStartDialog = false;

@Override
public void onCreate(Bundle savedInstanceState)
{
super.onCreate(savedInstanceState);
setContentView(R.layout.tab_host);
setOnCreatePreferences();

try
{

    addTab(getString(R.string.Search), R.drawable.searchtab, SearchTask.class );
    addTab(getString(R.string.Bookmarks), R.drawable.favoritetab, Bookmarks.class );
    addTab(getString(R.string.Latest), R.drawable.historytab, Latest.class );
    addTab(getString(R.string.QAndA), R.drawable.forumtab, LatestFeedback.class );

    getTabHost().setCurrentTab( 0 );
    TabWidget widget = getTabHost().getTabWidget();

    this.initTabsAppearance(widget);

}
catch(Exception e)
{
    Log.e(TAG, e.getMessage());
}
}

private void addTab( CharSequence label, int drawable_id, Class<?> c ) 
{
TabHost.TabSpec spec = getTabHost().newTabSpec("tab" + " "+ label);

spec.setIndicator( label, getResources().getDrawable( drawable_id ) );

spec.setContent( new Intent().setClass( this, c ) );

getTabHost().addTab( spec );
}

@Override
public boolean onCreateOptionsMenu(Menu menu) 
{
MenuInflater inflater = getMenuInflater();
inflater.inflate( R.menu.tabs_menu, menu );
return true;
}

@Override
public boolean onOptionsItemSelected(MenuItem item) 
{
switch ( item.getItemId() ) 
{
    case R.id.tabs_menu_options_item:
        //startActivityForResult( new Intent( this, Options.class ) , 0 ); 
        return true;

    default: return super.onOptionsItemSelected(item);
}
}

private void initTabsAppearance(TabWidget tabWidget){

for(int i=0; i<tabWidget.getChildCount(); i++)

    tabWidget.getChildAt(i).setBackgroundResource(R.drawable.tabcolors); //unselected
//((TextView)  tabWidget.getChildAt(getTabHost().getCurrentTab())).setTextColor(0xffffffff);
 //getTabHost().getTabWidget().getChildAt(getTabHost().getCurrentTab()).setBackgroundColor(Co lor.parseColor("#000000")); //selected
}

private void setOnCreatePreferences()
{
SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences( getBaseContext() );

boolean mUseStartDialog = preferences.getBoolean( "use_dialog", true );
if( mUseStartDialog ) 
{
    if( !mHaveShownStartDialog )
    {
        mHaveShownStartDialog = true;
        startActivity( new Intent( this, WelcomeDialog.class ) );
    }
}
}

} 
```

tabcolors.xml

```
 <?xml version="1.0" encoding="utf-8"?>

 <selector xmlns:android="http://schemas.android.com/apk/res/android">  

 <item android:state_selected="true"     
 android:drawable="@color/tabWhite"/>

 <item android:state_pressed="true"  
 android:drawable="@color/tabBlack"/>

 <item android:drawable="@color/tabBlack"/> 

 </selector> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:25:30.183

它被称为标签条。要删除它，你可以这样做

```
tabWidget.setStripEnabled(false); 
```

关于如何自定义它的文档可以在这里找到：http: [//developer.android.com/reference/android/widget/TabWidget.html#attr_android :tabStripEnabled](http://developer.android.com/reference/android/widget/TabWidget.html#attr_android:tabStripEnabled)

# javascript - imageArray[i] = imageItem 不兼容

> ID：12330161
> 
> 赞同：-2
> 
> 时间：2012-09-08T11:08:04.030
> 
> 标签：javascript

我一直在努力尝试实现 TheNoble-Coder 的答案，[以理解幻灯片脚本的困难](https://stackoverflow.com/questions/8299954/difficulty-in-understanding-slideshow-script)。他的“如果你想要……”解决方案对于包含不同数量图像的文件夹来说，听起来像是一个非常优雅的解决方案。但是我一直无法让它工作。使用 Yaldex 的免费 JavaScript 编辑器进行调试，我得到指示行的“错误：不兼容的类型”：

```
var place; //For convenience this is best as a global
function imageItem(url) 
{
    var img = new Image();
    img.src = url;
    return url;
}
for(var i=0; i<5; i++)
{
    imageArray[i] = imageItem(imageDir + i + ".jpg");   <-----Incompatible 
} 
```

我真的很感激任何帮助。

整个脚本是：

```
 <script language="JavaScript">
var interval = 4000;
var random_display = 0;
var imageDir = "images/";
var imageNum = - 1;
var place; //For convenience this is best as a global
function imageItem(url) 
{
    var img = new Image();
    img.src = url;
    return url;
}
for(var i=0; i<5; i++)
{
    imageArray[i] = imageItem(imageDir + i + ".jpg");
}
function randNum(x, y)
{
   var range = y - x + 1;
   return Math.floor(Math.random() * range) + x;
}
function getNextImage() 
{
    imageNum = (random_display) ? randNum(0, imageArray.length-1) : ((imageNum+1) % imageArray.length);
    return imageArray[imageNum];
}
function getPrevImage()
{
    imageNum = (imageNum-1 >= 0) ? (imageNum-1) : (imageArray.length-1);
    return imageArray[imageNum];
}
function prevImage() 
{
    var image_item = getPrevImage();
    place.src = place.alt = image_item.url;
}
function nextImage() 
{
    var image_item = getNextImage();
    place.src = place.alt = image_item.url;
}
function play() 
{
    nextImage();
    timerID = setTimeout(play, interval);
}
window.onload = function()
{
    place = document.slideImg;
    play();
};

  </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T15:21:45.527

尝试打印`imageArray[i]`并`imageItem(imageDir + i + ".jpg")`查看它是否符合您的期望。我相信这是解决方案的关键...... :)

# android - PowerVR GPU 上的着色器执行流程问题

> ID：12330162
> 
> 赞同：1
> 
> 时间：2012-09-08T11:08:13.697
> 
> 标签：android, opengl-es, opengl-es-2.0, glsl

我遇到了一个我认为与 PowerVR GPU 的 GLSL 编译优化有关的问题。在 Adreno 和 Tegra GPU 上，片段着色器工作得很好，但在 PowerVR（摩托罗拉 Droid）上，它会在条件语句中产生不正确的结果。我通过更改片段着色器代码中的条件语句解决了这个问题。我没有在语句中调用`return`块，而是添加了块，它现在在 PowerVR 上工作正常。`if``else`

两个着色器的逻辑是完全一样的，`gl_FragColor`在两种情况下都设置了。请解释 PowerVR OpenGL 驱动程序的这种行为，以便将来避免出现问题。为什么它以这种方式处理条件语句？

这是旧的片段着色器，它在 PowerVR GPU 上无法正常工作：

```
precision mediump float;

varying vec3 vNormal;
varying vec3 vViewVec;
varying vec2 vTextureCoord;

uniform sampler2D sTexturePumpkin;

void main(void)
{
const float sheen = 0.68;
const float noiseScale = 0.05;
const float furriness = 10.0;
const vec4 lightDir = vec4(0.267260, 0.267260, -0.925820, 0.0);

  vec4 color = texture2D(sTexturePumpkin, vTextureCoord/*vec2(0.0,0.0)*/);
  if(vTextureCoord.y > 0.7) { // in this case PowerVR displays incorrect color
     gl_FragColor = color;
     return;
  }

  float diffuse = 0.5 * (1.0 + dot(vNormal, vec3(lightDir.x, lightDir.y, -lightDir.z)));
  float cosView = clamp(dot(normalize(vViewVec), vNormal), 0.0, 1.0);
  float shine = pow(1.0 - cosView * cosView, furriness);

  gl_FragColor = (color + sheen * shine) * diffuse; // in this case PowerVR works correctly
} 
```

新的片段着色器代码，在 Adreno 和 PowerVR GPU 上都能正常工作：

```
precision mediump float;

varying vec3 vNormal;
varying vec3 vViewVec;
varying vec2 vTextureCoord;

uniform sampler2D sTexturePumpkin;

void main(void)
{
const float sheen = 0.68;
const float noiseScale = 0.05;
const float furriness = 10.0;
const vec4 lightDir = vec4(0.267260, 0.267260, -0.925820, 0.0);

  vec4 color = texture2D(sTexturePumpkin, vTextureCoord/*vec2(0.0,0.0)*/);
  if(vTextureCoord.y > 0.7) {
     gl_FragColor = color;
  }
  else {
    float diffuse = 0.5 * (1.0 + dot(vNormal, vec3(lightDir.x, lightDir.y, -lightDir.z)));
    float cosView = clamp(dot(normalize(vViewVec), vNormal), 0.0, 1.0);
    float shine = pow(1.0 - cosView * cosView, furriness);
    gl_FragColor = (color + sheen * shine) * diffuse;
  }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-25T13:37:17.400

好的，经过更深入的调查，我发现这不是着色器编译器的错误，而是处理片段着色器执行的特定方式。`discard;`放一个简单的or`return;`语句，后面跟着一些代码通常是个坏主意。它仍然可以执行并导致不可预知的结果。

有一些文章解释了这种适用于`discard;`语句的行为，并且我看到类似的行为也可能发生`return;`。请在此处阅读：http: [//people.freedesktop.org/~idr/OpenGL_tutorials/03-fragment-intro.html#infinite-loop](http://people.freedesktop.org/~idr/OpenGL_tutorials/03-fragment-intro.html#infinite-loop) 正如这里所说，在某些情况下，您甚至可以通过不正确使用来实现无限循环`discard;`.

片段着色器由 GPU 执行，而不是一次针对单个纹素，通常是 2x2 像素的批次。而这种片段着色器的并行运行会导致代码在`return;`.

因此，要让片段着色器`if`正确处理语句，您必须始终使用`else`in运算符，而不是简单地通过or`if`退出函数。这正是我所做的。`return;``discard;`

# javascript - 使用 Jquery/Javascript 替换 CSS 属性

> ID：12330166
> 
> 赞同：1
> 
> 时间：2012-09-08T11:08:38.093
> 
> 标签：javascript, jquery, .net, css, scripting

我有以下代码，其中有一个名为“formErrorContent”的 css 类

```
var promptContent = $('<div>').addClass("formErrorContent").
                                  html(promptText).appendTo(prompt); 
```

在按照上面的代码添加类之前。我需要用类似这样的其他值替换宽度属性

```
 $("#formErrorContent").attr("WIDTH","13"); 
```

但是上面的行不起作用，并且没有在 css 类“formErrorContent”中将宽度属性设置为 13

请帮助我...谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:11:15.333

使用[.css()](http://api.jquery.com/css/)并将选择器更改为类，因为您将其设置为类：

```
var promptContent = $('<div>').addClass("formErrorContent").html(promptText).appendTo(prompt);
$(".formErrorContent").css("width","13px"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T11:19:47.037

尝试这个：

```
$('<div/>', {
  'class': "formErrorContent",
   width: '13px',
   text: promptText
}).appendTo(prompt); 
```

[http://jsfiddle.net/Urr2c/1/](http://jsfiddle.net/Urr2c/1/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T11:12:58.193

您正在添加一个**类**，但指的是一个**id**。尝试

```
$(".formErrorContent").css("width","13"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T11:14:59.177

使用喜欢

```
$('#selector_id').css("width","100"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-08T11:27:20.210

你也可以使用

```
$("#selector_id").width(100); 
```

可能希望它直接工作

# java - 使用自定义表模型从 JTable 中删除行

> ID：12330167
> 
> 赞同：2
> 
> 时间：2012-09-08T11:08:54.963
> 
> 标签：java, swing, jtable, hashmap, abstracttablemodel

我有一个`JTable`使用自定义表模型（的实现`AbstractTableModel`）来管理数据的子类。

当我尝试使用该方法删除一行时会出现问题`deleteRow`。我的表中的行被一个空白字符串替换，但该行没有被删除。

这是代码：

```
public class LiveSearchTableModel extends AbstractTableModel 
{

  private List<String> columnNames = new ArrayList<String>();
  private Map<Point, Object> displayData = new HashMap<Point, Object>();
  private Map<Point, Object> originalData = new HashMap<Point, Object>();

  public LiveSearchTableModel(List<String> columnNames, 
      Map<Point, Object> tableData) 
  {
    this.columnNames = columnNames;
    this.displayData = tableData;
    this.originalData.putAll(tableData); 
  }

  @Override
  public int getColumnCount() {
    return columnNames.size();
  }

  @Override
  public int getRowCount() {
    return displayData.size() / columnNames.size();
  }

  @Override
  public Object getValueAt(int rowIndex, int columnIndex) {
    return displayData.get(new Point(rowIndex, columnIndex));
  }

  public void deleteRow (int row)
  {
    for (int cont = 0; cont < columnNames.size();cont++)
    {   
      displayData.remove(new Point (row,cont)); 
    }

    this.fireTableRowsDeleted(row, row);
  }

  @Override
  public void setValueAt(Object value, int rowIndex, int columnIndex) 
  {
    this.displayData.put(new Point(rowIndex, columnIndex), value);
    this.fireTableDataChanged();
  }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T12:19:57.570

下面的[sscce](http://sscce.org/)说明了一个潜在的问题： a 的键`Map`是无序的，而表的行是有序的。在所示的方法中，必须随着数据的每次更改而更新键数组。另请参阅此相关[示例](https://stackoverflow.com/a/9134371/230513)。如果需要，您可以扩展`Point`为 implementation ，如此[处](https://sites.google.com/site/drjohnbmatthews/table)`Comparable`所示。`Value`

```
import java.awt.BorderLayout;
import java.awt.EventQueue;
import java.awt.Point;
import java.awt.event.ActionEvent;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import javax.swing.AbstractAction;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.table.AbstractTableModel;

/**
* @see https://stackoverflow.com/q/12330167/230513
*/
public class TableModelTest extends JPanel {

    public TableModelTest() {
        super(new BorderLayout());
        final MyModel model = new MyModel();
        JTable table = new JTable(model);
        this.add(new JScrollPane(table));
        this.add(new JButton(new AbstractAction("Delete") {

            @Override
            public void actionPerformed(ActionEvent e) {
                model.remove(0);
            }
        }), BorderLayout.SOUTH);
    }

    public class MyModel extends AbstractTableModel {

        private List<String> names = new ArrayList<String>();
        private Map<Point, Object> data = new HashMap<Point, Object>();
        private Point[] keys;

        public MyModel() {
            this.names = Arrays.asList("Point", "Name");
            data.put(new Point(1, 1), "One");
            data.put(new Point(2, 2), "Two");
            data.put(new Point(3, 3), "Three");
            this.keys = data.keySet().toArray(new Point[data.size()]);
        }

        public void remove(int row) {
            data.remove(keys[row]);
            keys = data.keySet().toArray(new Point[data.size()]);
            this.fireTableRowsDeleted(row, row);
        }

        @Override
        public int getColumnCount() {
            return names.size();
        }

        @Override
        public String getColumnName(int col) {
            return names.get(col);
        }

        @Override
        public int getRowCount() {
            return data.size();
        }

        @Override
        public Object getValueAt(int row, int col) {
            if (col == 0) {
                return keys[row];
            } else {
                return data.get(keys[row]);
            }
        }
    }

    private void display() {
        JFrame f = new JFrame("TableModelTest");
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        f.add(this);
        f.pack();
        f.setLocationRelativeTo(null);
        f.setVisible(true);
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                new TableModelTest().display();
            }
        });
    }
} 
```

# sql - 插入表时转换列的数据类型

> ID：12330168
> 
> 赞同：0
> 
> 时间：2012-09-08T11:08:59.067
> 
> 标签：sql, sql-server

从源表插入另一个表时，我想将列数据类型从“VarChar”更改为“DataType”

我可以在 T-SQL 中做到这一点

```
Declare @DateTime   As      DateTime
Declare @Date       As      NVARCHAR(20)

Set @Date = '120901'
Set @DateTime = CONVERT(Date,'20'+SUBSTRING(@Date,1,2)+'-'+SUBSTRING(@Date,3,2)+'-'+SUBSTRING(@Date,5,2))
Print @DateTime 
```

我如何在插入语句中实现它

```
Insert Into AxisReportMain 
Select (Column1,Column2,Column3)
From ReportMain 
```

Column2 包含日期为“VarChar”。在`AxisReportMain`表 Column2 数据类型为“日期”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:11:44.273

尝试：

```
Insert Into AxisReportMain 
Select Column1,
       CONVERT(Date,'20'+SUBSTRING(Column2,1,2)+'-'+SUBSTRING(Column2,3,2)+'-'+SUBSTRING(Column2,5,2)) as Column2,
       Column3
From ReportMain
Where Column2 <> '000000' 
```

# c - array[ROWS][COLS] 和 **array 有什么区别

> ID：12330170
> 
> 赞同：1
> 
> 时间：2012-09-08T11:09:07.993
> 
> 标签：c

为什么这些函数原型不等价？

```
void print_matrix(char *name, int SX, int SY, int m[SX][SY])

void print_matrix(char *name, int SX, int SY, int **m) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T11:29:15.733

尽管两个函数参数可以以相同的方式*使用*，即 via `m[i][j]`，但它们是完全不同的：

*   `int m[M][N]`是一个整数数组的`M`数组。`N`

*   `int **m`是一个指向 int 的指针。

您不能将数组作为函数参数传递，因此“`K`类型的元素数组`T`”会衰减为“指向-”的指针`T`，指向数组的第一个元素。因此，将第一种形式写成`int m[][N]`函数参数是允许和等效的，因为值`M`丢失了。但是，价值`N`并*没有*丢失；它是类型的一部分！

因此，对于第一种形式，以下内容是可接受的/错误的：

```
void f(int arr[M][N]);

int a[M][N];
int b[2*M][N];
int c[M][N + 1];

f(a);   // OK
f(b);   // OK; slowest extent is forgotten in the decay
//f(c); // Error! 'c' is not an array of {array of N ints}. 
```

对于第二种形式，含义是相当不同的：

```
void g(int **p);

int a;
int * pa = &a;

g(&pa);          // fine, pointer to 'pa'

int arr[M][N];

// g(arr);  // Error, makes no sense 
```

该表达式`arr`指定指向整数数组的第一个元素的指针`N`，即它的类型是`int (*)[N]`。取消引用它会给出一个`N`整数数组，而*不是*指向整数的指针。

没有办法将表达式`arr`转换为指向指针的指针：如果你说，

```
int ** fool = (int**)arr; 
```

then`*fool`将指向第一个数组 ( `arr[0]`) 的第一个元素，而*不是`int`指针*。因此，您不能进一步取消引用该值，因为该值*不是指针*。

将二维数组作为双指针传递的唯一*正确方法是构造一个中间辅助数组：*

```
int * helper[M];   // array of pointers

for (size_t i = 0; i != M; ++i)
{
    helper[i] = arr[i]; // implicit decay
}

g(helper);  // or "g(&helper[0])" 
```

# android - cocos2d android编译时链接不起作用

> ID：12330173
> 
> 赞同：2
> 
> 时间：2012-09-08T11:09:37.923
> 
> 标签：android, c++, cocos2d-iphone

我正在尝试让 cocos2d-android (cocos2d-2.0-rc2-x-2.0.1) "Helloworld" 示例在 windows 下运行。我正在使用最新版本的 cygwin 以及 android ndk r6、android sdk API 8。我在[这里尝试了手册](http://www.cocos2d-x.org/projects/cocos2d-x/wiki/Chapter_1_-_How_to_Create_a_New_cocos2d-x_project_on_multi-platforms)

在经历了很多挑战之后，我解决了这个问题，我认为这是在编译时链接类。当我尝试运行 *build_native.sh* 脚本时，我收到一条错误消息，指出在定义为 extern 的*CCGL.h*中`PFNGLDELETEVERTEXARRAYSOESPROC`没有命名类型。

```
//declare here while define in CCEGLView_android.cpp
extern PFNGLGENVERTEXARRAYSOESPROC glGenVertexArraysOESEXT;
extern PFNGLBINDVERTEXARRAYOESPROC glBindVertexArrayOESEXT;
extern PFNGLDELETEVERTEXARRAYSOESPROC glDeleteVertexArraysOESEXT; 
```

'PFNGLDELETEVERTEXARRAYSOESPROC' 在 CCEGLView.h 中声明。

```
#if CC_TEXTURE_ATLAS_USE_VAO
  #include <EGL/egl.h>
  PFNGLGENVERTEXARRAYSOESPROC glGenVertexArraysOESEXT = 0;
  PFNGLBINDVERTEXARRAYOESPROC glBindVertexArrayOESEXT = 0;
  PFNGLDELETEVERTEXARRAYSOESPROC glDeleteVertexArraysOESEXT = 0;
#endif 
```

我尝试按照[此处的建议将标头地址添加到](http://cocos2d-x.org/boards/6/topics/15284?r=15306#message-15306)*jni*目录下的*android.mk*到 LOCAL_C_INCLUDES 中，但是没有规则来制作它们。所以任何人都可以帮助我如何编译/链接它，将不胜感激。

 ** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-18T03:43:12.053

我遇到了这个问题，并且使用更高版本的 NDK 有效。尝试获取最新版本，重置环境变量，然后再次运行 build_native.sh。 [http://developer.android.com/tools/sdk/ndk/index.html](http://developer.android.com/tools/sdk/ndk/index.html)*

# git - git push 不更新远程服务器上的文件

> ID：12330174
> 
> 赞同：4
> 
> 时间：2012-09-08T11:09:42.087
> 
> 标签：git, push

我在本地机器上设置了一个 git 存储库，在一个 linode 盒子上设置了一个裸存储库。执行 git push 时没有错误，但我在远程服务器上看不到该文件。我遵循的命令序列如下：

在远程：

```
abhijat@kangaroo:~$ mkdir dev
abhijat@kangaroo:~$ cd dev && git init --bare 
```

在本地机器上：

```
krypton:test abhijat$ git init
krypton:test abhijat$ vim app.py
krypton:test abhijat$ git init
Initialized empty Git repository in /Users/abhijat/dev/test/.git/
krypton:test abhijat$ git add .
krypton:test abhijat$ git status
# On branch master
#
# Initial commit
#
# Changes to be committed:
#   (use "git rm --cached <file>..." to unstage)
#
#   new file:   app.py
#
krypton:test abhijat$ git commit -m 'test first commit'
[master (root-commit) 3bee148] test first commit
 1 files changed, 16 insertions(+), 0 deletions(-)
 create mode 100644 app.py
krypton:test abhijat$ git remote add origin abhijat@linode:~/dev
krypton:test abhijat$ git push -v origin master
Pushing to abhijat@linode:~/dev
Counting objects: 2, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (2/2), 298 bytes, done.
Total 2 (delta 1), reused 0 (delta 0)
To abhijat@linode:~/dev
   01a0e08..2273564  master -> master 
```

但是当我检查 linode 时，该文件不存在：

```
abhijat@kangaroo:~/dev$ ls -ltr
total 32
drwxr-xr-x  4 abhijat abhijat 4096 Sep  8 10:17 refs
drwxr-xr-x  2 abhijat abhijat 4096 Sep  8 10:17 info
drwxr-xr-x  2 abhijat abhijat 4096 Sep  8 10:17 hooks
-rw-r--r--  1 abhijat abhijat   73 Sep  8 10:17 description
drwxr-xr-x  2 abhijat abhijat 4096 Sep  8 10:17 branches
-rw-r--r--  1 abhijat abhijat   23 Sep  8 10:17 HEAD
-rw-r--r--  1 abhijat abhijat   66 Sep  8 10:57 config
drwxr-xr-x 12 abhijat abhijat 4096 Sep  8 11:03 objects
abhijat@kangaroo:~/dev$ find . -name app.py
abhijat@kangaroo:~/dev$ 
```

我在这里遗漏了一些明显的东西吗？通信是通过 ssh 进行的，并且密钥已按预期设置，我无需密码即可登录。但是，该文件不会被复制到远程服务器。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-01-08T19:11:48.917

如果您想同时**推送到 repo 并更新文件**，您可以创建一个服务器端 git 挂钩以在文件被推送后签出。在**服务器**端的 git`/hooks/`目录中创建一个名为`post-receive`并添加以下代码的文件：

```
#!/bin/sh
git --work-tree=/var/www/domain.com --git-dir=/var/repo/site.git checkout -f 
```

然后使用给文件适当的权限`chmod +x post-receive`

*注意：上面的代码假设你的 git 目录和部署的文件在不同的目录中。根据您想要的配置方式更新文件。*

**更多信息和详细说明：** [https ://www.digitalocean.com/community/tutorials/how-to-set-up-automatic-deployment-with-git-with-a-vps](https://www.digitalocean.com/community/tutorials/how-to-set-up-automatic-deployment-with-git-with-a-vps)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-08T11:30:04.817

Git 在服务器端不是这样工作的。这些文件被高度压缩并分组为块，因此您无法找到特定文件。

要测试您的 git 服务器，请在另一个目录中创建另一个克隆，然后查看 app.py 是否存在。

```
git clone abhijat@linode:~/dev dev2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-06-27T00:18:42.420

我正在开发一个项目，以在虚拟 FS 上呈现 repo 的分支/修订/标签的内容。它基于 fuse 和 libgit2。它目前处于非常早期的阶段，但它可以向您显示修订版中的文件/目录及其内容。如果您要求使用一个分支，如果该分支被移动，它将即时刷新虚拟 FS。以防万一：**早期阶段**，所以没有 LFS，没有子模块，没有......你在想什么花哨的功能？都不是。只是 git 术语中的树和 blob。

[https://github.com/eantoranz/gitmod](https://github.com/eantoranz/gitmod)

# c# - 显示图像 - 屏幕卡住

> ID：12330175
> 
> 赞同：0
> 
> 时间：2012-09-08T11:09:51.543
> 
> 标签：c#, wpf

我正在创建一个 WPF 应用程序。应用程序接收位图图像并显示它们。应用程序接收来自相机的图像，并应近乎实时地显示它们。屏幕卡住了。结果应该是一个视频。

我该如何解决？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:11:51.847

在后台线程上加载位图，然后`Freeze()`在 UI 线程上使用它们之前加载它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T11:20:36.933

您不应该在主线程中加载图像。尝试一些异步库/模式来加载像[这样](http://dotnetlearning.wordpress.com/2011/01/27/loading-images-asynchronously-in-wpf/)的图像。为我工作。

# javascript - 关于ajax的安全问题

> ID：12330176
> 
> 赞同：0
> 
> 时间：2012-09-08T11:10:03.220
> 
> 标签：javascript, ajax, django, security, web-applications

我想为我的 webapp 设计一个“喜欢/不喜欢”系统。我正在考虑类似“http://mywebapp/like/”之类的东西。如果用户对已经提到的 url 进行 ajax 调用。它会喜欢该项目代表用户。那么，我的想法是否存在任何安全漏洞？[编辑 1] 恶意用户可以进行 ajax 调用并计算他/她的投票吗？如果是，那么我能做些什么来防止它呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:16:27.240

从您提供的少量细节中很难做出判断，但是如果您的身份验证系统在结构上是合理的并且您正确地将类似路由到特定实体，即如果它在页面上，那么它只是使用引用 url 来让项目喜欢然后这可能会很好地工作，并且在这一点上，假设你所有的代码都是完美的，那么到目前为止你不应该有任何来自这个想法的安全漏洞。

为了将来的参考，请尝试更具体，尤其是在这类问题中，细节是绝对必要的。在创建之前，不可能说某物有多安全。

# python - 在 python 中将 unicode 字符打印到标准输出会打印错误的字形

> ID：12330184
> 
> 赞同：1
> 
> 时间：2012-09-08T11:10:50.110
> 
> 标签：python, windows, terminal, utf

我想将一组 Unicode 字符打印到我的命令提示符终端。即使我强制编码为“UTF-8”，终端也会打印一些垃圾。

```
$python -c "import sys; print sys.stdout.write(u'\u2044'.encode('UTF-8'))"
ΓüäNone

$python -c "import sys; print sys.stdout.encoding"
cp437 
```

我的默认终端编码是 cp437，我正在尝试覆盖它。这里的预期输出是分数斜线 ( ⁄ )

[http://www.fileformat.info/info/unicode/char/2044/index.htm](http://www.fileformat.info/info/unicode/char/2044/index.htm)

同一段代码在我的 Mac 终端中完美运行，它使用 UTF-8 作为默认编码。有没有办法在 Windows 上也显示这个？我在 windows 命令提示符下使用的字体是 consolas。

我希望我的代码可以使用任何 Unicode 字符，而不仅仅是这个特定的示例，因为输入是 Web 查询结果，我无法控制它。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T11:50:51.507

Python 无法控制终端使用的编码；您必须在其他地方进行更改。

换句话说，仅仅因为您强制 python 将 UTF-8 编码的文本输出到终端，并不意味着您的终端也会神奇地开始*接受*该输出为 UTF-8。

Mac OS X 终端已配置为使用 UTF-8。

`chcp`在 Windows 上，您可以使用以下命令切换控制台代码页：

```
chcp 65001 
```

其中 65001 是 UTF-8 的 Windows 代码页。请参阅[Windows 命令行中的 Unicode 字符 - 如何？](https://stackoverflow.com/questions/388490/unicode-characters-in-windows-command-line-how)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-08T15:42:44.040

您必须使用 UTF-8 代码页 (cp65001) 才能显示 UTF-8 编码文本。

Python 3.3 声称在 Windows 上支持代码页 65001 (UTF-8)。

```
C:\>chcp 65001
Active code page: 65001

C:\>python
Python 3.3.0rc1 (v3.3.0rc1:8bb5c7bc46ba, Aug 25 2012, 13:50:30) [MSC v.1600 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> print('\u2044')
⁄ 
```

虽然有问题：

```
>>> print('\u2044')
⁄

>>> print('\u2044'*8)
⁄⁄⁄⁄⁄⁄⁄⁄
��⁄⁄⁄⁄
⁄⁄
��

>>> print('1\u20442 2\u20443 4\u20445')
1⁄2 2⁄3 4⁄5
⁄5 
```

# android - 将一个 ViewGroup 的内容复制到另一个

> ID：12330185
> 
> 赞同：0
> 
> 时间：2012-09-08T11:10:50.680
> 
> 标签：android, viewgroup

嗨，我需要通过复制和粘贴 ViewGroup 来获取 ViewGroup 的副本，但不能使用完全相同的位置。所以我尝试这样做，结果如下：

```
public void ViewGroupCopy(ViewGroup source,int sourceOffset,ViewGroup destination,int destinationOffset){
    for(int i=sourceOffset;i<source.getChildCount();i++){
        View view = source.getChildAt(i);
        source.removeView(view);
        destination.addView(view, destinationOffset+i, view.getLayoutParams());
    } 
```

我在这段代码中使用了该方法：

```
 Activity host = (Activity) this.getContext();
            View contentView = host.findViewById(android.R.id.content).getRootView();
    ViewGroup children = (ViewGroup) contentView;
    ViewGroup oldChildren = (ViewGroup) contentView;
    children.removeAllViews();
    children.addView(new Preview(context));
    ViewGroupCopy(oldChildren,0,children,1); 
```

对于您的附加信息，此类扩展了一个视图。

好吧，当我尝试使用它时，我在我的 LogCat 中得到了这个。

09-08 16:34:30.212: E/AndroidRuntime(10992): java.lang.RuntimeException: 无法启动活动 ComponentInfo{com.example.worknwalk/com.example.worknwalk.Text}: java.lang.IndexOutOfBoundsException: 索引=1 计数=0

有人可以帮我吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:16:07.880

尝试使用相同的索引从源组获取视图。每次从源中删除视图时，您都会在该索引处获得一个新视图。当 sourceOffset > 0 时，destinationOffset+i 也可能存在错误。这里可能没有错误，但我不完全确定当您将索引为 10 的项目添加到包含 6 个项目的列表时的行为。它可能会或可能不会崩溃。无论如何，试试这个：

```
public void ViewGroupCopy(ViewGroup source, int sourceOffset,
        ViewGroup destination, int destinationOffset) {

    int limit = source.getChildCount() - sourceOffset;

    for (int i = 0; i < limit; i++) {
        View view = source.getChildAt(sourceOffset);
        source.removeView(view);
        destination.addView(view, destinationOffset + i,
                view.getLayoutParams());
    }
} 
```

# javascript - jQuery相互动画

> ID：12330186
> 
> 赞同：0
> 
> 时间：2012-09-08T11:11:00.930
> 
> 标签：javascript, jquery, json, jquery-animate

我试图为一个又一个元素设置动画，但我对此有一些麻烦

```
 $.getJSON('http://localhost/json/example/json.json', function(data){
        var ele = jsonElements(data);
        for(var i = 1; i <= ele; i++)
        {
            $('#test').append('<a href="#" id="t_'+i+'" class="block-icon"></a>');
            $('#t_'+i).animate({
                'top': data['t_'+i]['top'],
                'left': data['t_'+i]['left']
                }, 800).delay(1000);
        }

    }); 
```

它可以工作，但是所有元素都同时具有动画，有什么建议如何一个接一个地制作吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:23:21.603

```
$.getJSON('http://localhost/json/example/json.json', function(data){
        var ele = jsonElements(data);
        one_by_one(ele,1);
    });

function one_by_one(ele,i){
if(i > ele)
return;

$('#test').append('<a href="#" id="t_'+i+'" class="block-icon"></a>');
$('#t_'+i).animate({
                'top': data['t_'+i]['top'],
                'left': data['t_'+i]['left']
                }, 1000, function() {
    // Animation complete
    one_by_one(ele,i+1);
  });

} 
```

调用 one_by_one(i);

[我在http://jsfiddle.net/VS8tQ/64/](http://jsfiddle.net/VS8tQ/64/)上添加了一个示例

# javascript - js - 获取带变量的 json

> ID：12330187
> 
> 赞同：0
> 
> 时间：2012-09-08T11:11:10.120
> 
> 标签：javascript, json, jquery

> **可能重复：**
> [动态对象属性名称](https://stackoverflow.com/questions/4244896/dynamic-object-property-name)

```
 $.ajax({
                      url: "ranktonumber.json",
                      dataType: "json",
                      success: function (data) {
                       // my problem is what should be in this line
                      }
                  }); 
```

就像你看到的，我有 jquery (ajax) 命令给我 json 变量。假设我有另一个名为 "rank" 的变量。"rank" 是 json 的关键。json是：

```
{"Recruit":"1",
"Private":"2",
"Private*":"3",
"Private**":"4",
"Private***":"5",
"Corporal":"6",
"Corporal*":"7",
"Corporal**":"8",
"Corporal***":"9"} 
```

我如何在 json 中使用“rank”，因为那行不通：

```
data.rank 
```

如果你还不明白，我可以在 mirc 中做到这一点：

```
$json(jsonvariable,rankvariable) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:14:02.343

使用`data[rank]`代替`data.rank`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T12:21:43.280

```
var thisObj=this;

$.ajax({ 
url: "ranktonumber.json", 
dataType: "json", 
success: function (data) {  
thisObj.data=data;
});

console.log (thisObj.data["rank"]) 
```

# cappuccino - 是否可以在 Cappuccino 中自定义 CPToolbar

> ID：12330189
> 
> 赞同：1
> 
> 时间：2012-09-08T11:11:17.573
> 
> 标签：cappuccino

我可能需要更改工具栏背景、标题字体和位置。
是否可以使用标准 CPToolbar 做到这一点？我正在查看 ThemeDescriptors.j，但没有关于工具栏的内容。

创建我自己的接缝似乎并不难。我应该走那条路吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-09T02:02:11.723

工具栏不能按原样进行主题化（尽管，请随意为我们实现它。:)）

也就是说，你可以根据你想要做什么来做这样的事情...... [https://github.com/cappuccino/issues/blob/master/Client/AppController.j#L273](https://github.com/cappuccino/issues/blob/master/Client/AppController.j#L273)

# css - 使用 @import 覆盖 CSS 样式不起作用

> ID：12330191
> 
> 赞同：22
> 
> 时间：2012-09-08T11:11:28.063
> 
> 标签：css, import, overriding

我见过一些关于使用@import 覆盖样式的类似问题，人们建议将@import 放在底部，但这似乎在这里不起作用。

```
--- index.html ---
<head>
<link rel="stylesheet" href="style.css" />
</head>
<body>
This text should be green.
</body>

--- style.css ---
body {color: red;}
@import url('style-override.css');

--- style-override.css ---
body {color: green;} 
```

上面的示例将输出**红色**文本，而预期为**绿色。**

*   在 head 中的 style.css 之后声明 style-override.css 可以解决问题，但我想**在**css 文件中使用 @import。

*   在 style-override.css 中添加**!important**也会得到预期的结果，但这不是它应该工作的方式。

谁能解释一下？

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2012-09-08T11:23:03.553

这是行不通的，因为在样式表中声明的任何导入规则都必须在其他所有内容之前 - 否则，......好吧，它不起作用;)。

因此，您的 style.css 样式表中应该包含的内容是：

```
@import url('style-override.css');  
body {color: red;} 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2014-06-24T15:37:51.007

`@import`规则必须在*顶部*。这就是[CSS 规范。](http://www.w3.org/TR/2013/CR-css-cascade-3-20131003/#at-import)说：

> 任何@import 规则必须在样式表中的所有其他at 规则和样式规则之前（除了@charset，如果它存在，它必须是样式表中的第一件事），否则@import 规则无效。

# c++ - 错误：无法推断模板参数

> ID：12330193
> 
> 赞同：0
> 
> 时间：2012-09-08T11:11:49.583
> 
> 标签：c++, visual-c++

这是我第一次用 C++ 编程，我正在应我姐姐的要求创建一个 MultiplyBy999 应用程序。我在 MS Visual C++ 2010 Express Edition 中编写了代码，但出现了错误。编码：

```
#include "stdafx.h"
#include <iostream>

int main()
{
    using namespace std;
cout >> "Enter a number:" >> endl;
int x;
cin << x;
x = x * 999
cout >> "Output:" >> endl;
return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:20:25.693

*   你混合了 << 和 >>
*   很明显注意到您混淆了 << 和 >>，但通常，您应该始终将错误消息与您的问题一起粘贴。

    ```
    #include <iostream>
    using namespace std;

    int main()
    {
        cout << "Enter a number:" << endl;
        int x;
        cin >> x;
        x = x * 999;
        cout << "Output:" << endl;
        return 0;
    } 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T11:14:14.883

你的`<<`和`>>`是相反的。用于*输出*和输入。`<<`_ *_**`>>`*

 **```
cout << "Enter a number:" << endl;
int x;
cin >> x; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T11:14:47.547

好吧，对于初学者，您分别为 cin 和 cout 使用了错误的“移位”运算符。**

# python - unicode 号码到底是什么？

> ID：12330198
> 
> 赞同：0
> 
> 时间：2012-09-08T11:12:04.677
> 
> 标签：python, r, unicode

在蟒蛇中：

```
>>> "\xc4\xe3".decode("gbk").encode("utf-8")
'\xe4\xbd\xa0'
>>> "\xc4\xe3".decode("gbk")
u'\u4f60' 
```

我们可以得出两个结论：

1.\xc4\xe3 in gbk encode = \xe4\xbd\xa0 in utf-8
2.\xc4\xe3 in gbk encode = \x4f\x60 in unicode（或者说在ucs-2中）

在 R 中：

```
> iconv("\xc4\xe3",from="gbk",to="utf-8",toRaw=TRUE)
[[1]]
[1] e4 bd a0
> iconv("\xc4\xe3",from="gbk",to="unicode",toRaw=TRUE)
[[1]]
[1] ff fe 60 4f 
```

现在，consume1 是正确的，它在 python 和 R 中一样
是一个谜，
gbk encode = 中的 \xc4\xe3 到底是什么？在 Unicode 中。
在 python 中是 u'\u4f60'，在 R 中是 ff fe 60 4f
是否相等？哪一个是正确的？它们都正确吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T11:31:06.960

在 python 中，`\uxxxx`符号指的是 Unicode 代码点，而不是这些代码点的任何*编码*。

UCS-2、UTF-16、UTF-8 都是能够以字节为单位捕获这些代码点的编码，适合存储在文件中、通过网络传输等。

代码点的 R 表示`\u4f60`包括 UTF-16[字节顺序标记](https://en.wikipedia.org/wiki/Byte_order_mark)或 BOM。它指示选择的字节顺序，其中 0xFFFE 表示小端。当您编码为 UTF-16 时，Python 也包含它：

```
>>> u'\uf460'.encode('utf16')
'\xff\xfe`\xf4' 
```

大端等效是 0xFEFF。您可以显式编码到`utf-16be`或`utf-16le`在 python 中以避免包含 BOM，因为您已经做出了明确的选择：

```
>>> u'\uf460'.encode('utf-16be')
'\xf4`'
>>> u'\uf460'.encode('utf-16le')
'`\xf4' 
```

您真的应该阅读 Joel Spolsky [Unicode](http://www.joelonsoftware.com/articles/Unicode.html)文章以及 Python [Unicode HOWTO](http://docs.python.org/howto/unicode.html)以更全面地了解 Unicode 和编码之间的区别。

# jquery - 表单提交后再次显示 Boxy modal 插件后退按钮

> ID：12330200
> 
> 赞同：0
> 
> 时间：2012-09-08T11:12:20.497
> 
> 标签：jquery, submit, modal-dialog, back-button, boxy

我正在使用 boxy jquery 插件来显示我的模态表单。 [http://onehackoranother.com/projects/jquery/boxy/](http://onehackoranother.com/projects/jquery/boxy/)

在页面上，我生成了包含提交给自身的表单的模式，如下所示：

```
<script type='text/javascript'>
    $(function() {
        $('.boxy').boxy({modal: true, closeText: '', draggable: false, unloadOnHide:      true});
    });
</script>

<div class="reportPop hiddenContent" id="reportPop">
    <form action="" method="post" name="reportContent">
        <p><?php echo $t_report_content_message_text; ?></p>
        <br />
        <input type="hidden" value="<?php echo $post->ID ?>" name="reported_item_id" />
        <input type="hidden" value="Question" name="reported_type" />
        <input type="hidden" value="<?php echo $post->ID; ?>" name="question_id" />
        <input type="hidden" value="1" name="report_content" />
        <input type="submit" value="<?php echo $t_report_question;?>" />
    </form>
    <div class="clear"></div>
</div> 
```

我拥有表单提交的所有功能，但是一旦我提交表单并尝试使用后退按钮，它就会再次显示模态，这不是所需的体验。想要在没有打开模式的情况下查看之前的页面。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:37:14.660

我想在提交表单时隐藏表单将解决您的问题，请尝试以下代码：

```
<script type='text/javascript'>
    $(function() {
        $('.boxy').boxy({modal: true, closeText: '', draggable: false, unloadOnHide:      true});
        $('#myForm').submit(function(){
            var self = $(this);
            $('#reportPop').hide("normal",function(){
                self.submit();
            });
            return false;
        });
    });
</script>

<div class="reportPop hiddenContent" id="reportPop">
    <form id="myForm" action="" method="post" name="reportContent">
        <p><?php echo $t_report_content_message_text; ?></p>
        <br />
        <input type="hidden" value="<?php echo $post->ID ?>" name="reported_item_id" />
        <input type="hidden" value="Question" name="reported_type" />
        <input type="hidden" value="<?php echo $post->ID; ?>" name="question_id" />
        <input type="hidden" value="1" name="report_content" />
        <input type="submit" value="<?php echo $t_report_question;?>" />
    </form>
    <div class="clear"></div>
</div> 
```

# sql - 来自变量的 Sqlserver 临时表名

> ID：12330202
> 
> 赞同：1
> 
> 时间：2012-09-08T11:12:35.037
> 
> 标签：sql, sql-server, sql-server-2008

运行此查询时出现错误

```
declare @query varchar(700)
declare @tbl varchar(50)='#mytbl'
set @query='select check_details.id, check_details.point_no into '+ @tbl+ ' FROM check_details'
exec @query 
```

我错过了什么。

我的错误是数据库 'select check_details' 不存在。确保输入的名称正确。

如果我跑

```
select check_details.id, check_details.point_no into #mytbl FROM check_details 
```

这完美地工作

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:18:58.783

尝试

```
exec sp_executesql @query 
```

或者

```
exec (@query) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T11:23:44.577

您必须添加括号：

```
exec(@query) 
```

# hash - php中哈希密码的最佳和流行方式

> ID：12330213
> 
> 赞同：0
> 
> 时间：2012-09-08T11:13:47.460
> 
> 标签：hash, md5

我在 php 中看到了许多哈希密码的方法：crypt()、md5()、sha1()

在 php 中散列密码的最佳和流行的方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:40:47.807

我建议使用带有控制工作量的参数的“慢”散列函数。这意味着您可以限制独立于算法本身来破解密码所需的蛮力。一个例子是**bcrypt**。

不要尝试创建自己的哈希函数。始终依赖专业人士久经考验的算法。如果你单干，你几乎肯定会引入一个漏洞。不要使用 MD5，因为用现代 GPU 破解它相对简单。

这个答案讨论了 bcrypt、它的参数以及如何在 PHP 中使用它来散列密码：

[如何在 PHP 中使用 bcrypt 对密码进行哈希处理？](https://stackoverflow.com/questions/4795385/how-do-you-use-bcrypt-for-hashing-passwords-in-php)

关于为什么快速哈希（例如 MD5 和 SHA1）对密码安全来说是个坏消息，这是一个非常有趣的诽谤：

[http://codahale.com/how-to-safely-store-a-password/](http://codahale.com/how-to-safely-store-a-password/)

就人气而言，我不会太在意。客户数据的安全性比其他任何事情都重要。

# php - php：如何删除起始空白和新行

> ID：12330215
> 
> 赞同：0
> 
> 时间：2012-09-08T11:13:56.450
> 
> 标签：php, preg-replace

我有一个字符串，

```
"

     it is a dog" 
```

如何删除起始空白和新行？输出应该是：

```
"it is a dog" 
```

我试过了`preg_replace("/^\s*/ms", "", $string)`，但不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:15:51.470

试试 ltrim [(http://php.net/ltrim](http://php.net/ltrim) )。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T11:18:11.853

使用[修剪](http://php.net/manual/en/function.trim.php)。

[来自php.net](http://php.net/manual/en/function.trim.php)的示例：

```
$text   = "\t\tThese are a few words :) ...  ";
$binary = "\x09Example string\x0A";
$hello  = "Hello World";
var_dump($text, $binary, $hello);

print "\n";

$trimmed = trim($text);
var_dump($trimmed);

$trimmed = trim($text, " \t.");
var_dump($trimmed);

$trimmed = trim($hello, "Hdle");
var_dump($trimmed);

$trimmed = trim($hello, 'HdWr');
var_dump($trimmed);

// trim the ASCII control characters at the beginning and end of $binary
// (from 0 to 31 inclusive)
$clean = trim($binary, "\x00..\x1F");
var_dump($clean); 
```

上面的示例将输出：

```
string(32) "        These are a few words :) ...  "
string(16) "    Example string
"
string(11) "Hello World"

string(28) "These are a few words :) ..."
string(24) "These are a few words :)"
string(5) "o Wor"
string(9) "ello Worl"
string(14) "Example string" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T11:16:49.160

你可以试试这个：

```
$string = str_replace(array("\r", "\n"), '', trim($string)); 
```

# xcode - 即使在将核心 data.framework 链接到我的项目目标文件之后，也会出现链接器错误

> ID：12330218
> 
> 赞同：1
> 
> 时间：2012-09-08T11:14:07.477
> 
> 标签：xcode, core-data, linker

我已将项目的目标文件链接到构建阶段中的 coredata.framework。但我仍然收到 3 个链接器错误，如下所示：

架构 i386 的未定义符号：“_OBJC_CLASS_$_CoreDataTableViewController”，引用自：RolesTableViewController.o 中的 _OBJC_CLASS_$_RolesTableViewController “_OBJC_METACLASS_$_CoreDataTableViewController”，引用自：RolesTableViewController.o 中的 _OBJC_METACLASS_$_RolesTableViewController ld：未找到架构 i386 clang 的符号：错误：链接器命令失败，退出代码为 1（使用 -v 查看调用）

我在教程中关注的 2 个 coredata 示例中遇到了这个问题。我试图找出我是否错过了一步。我想我正在做一些小的基本错误......

求大神帮忙看看是什么...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T03:04:25.833

我确定这已经解决了，但我遇到了同样的问题。当您将文件复制到您的项目时，您需要确保在“添加到目标”下的项目旁边打勾。

# android - Android：在另一个图像的中心绘制图像

> ID：12330220
> 
> 赞同：5
> 
> 时间：2012-09-08T11:14:18.773
> 
> 标签：android, image

我有一个图像`image 1`，一个来自服务器，`image 2`我试图在第一个图像的中心绘制第二个图像。结果我想要图片中的单个图像。 ![图片](../Images/7c3f26f0e5dda87fc344490126e497f2.png)

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-08T17:28:47.133

这应该可以满足您的需求：

`backgroundBitmap`变量将是 your和`image1`the`bitmapToDrawInTheCenter`将是 your `image2`。

```
public void centerImageInOtherImage()
{
    Bitmap backgroundBitmap        = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
    Bitmap bitmapToDrawInTheCenter = BitmapFactory.decodeResource(getResources(), R.drawable.ic_action_search);

    Bitmap resultingBitmap = Bitmap.createBitmap(backgroundBitmap.getWidth(), backgroundBitmap.getHeight(), backgroundBitmap.getConfig());

    Canvas canvas = new Canvas(resultingBitmap);
    canvas.drawBitmap(backgroundBitmap, new Matrix(), null);
    canvas.drawBitmap(bitmapToDrawInTheCenter, (backgroundBitmap.getWidth() - bitmapToDrawInTheCenter.getWidth()) / 2, (backgroundBitmap.getHeight() - bitmapToDrawInTheCenter.getHeight()) / 2, new Paint());

    ImageView image = (ImageView)findViewById(R.id.myImage);
    image.setImageBitmap(resultingBitmap);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-06-13T11:00:57.920

礼貌：[在 Android 中的另一个图像上绘制文本/图像](http://androidclarified.wordpress.com/2018/06/10/writing-text-pasting-image-on-bitmap-image-programatically/)

使用 Canvas 相互绘制图像相当简单。画布基本上充当绘图板来绘制文本/图像。您只需要使用第一个 Image 构建一个画布，然后在中心绘制第二个 Image，如下所示

```
/* This ImageOne will be used as the canvas to draw an another image over it. Hence we make it mutable using the copy API
as shown below
*/
      Bitmap imageOne = BitmapFactory.decodeResource(getResources(), R.drawable.imageOne).copy(Bitmap.Config.ARGB_8888,true);
      // Decoding the image two resource into a Bitmap
      Bitmap imageTwo= BitmapFactory.decodeResource(getResources(), R.drawable.imageTwo);
      // Here we construct the canvas with the specified bitmap to draw onto
      Canvas canvas=new Canvas(imageOne);

/*Here we draw the image two on the canvas using the drawBitmap API.
drawBitmap takes in four parameters
1 . The Bitmap to draw
2\.  X co-ordinate to draw from
3\.  Y co ordinate to draw from
4\.  Paint object to define style
*/
      canvas.drawBitmap(imageTwo,(imageOne.getWidth())/2,(imageOne.getHeight())/2,new Paint());

      imageView.setImageBitmap(imageOne); 
```

# php - 分组依据的第一条和最后一条记录。赶不上最后一个

> ID：12330235
> 
> 赞同：0
> 
> 时间：2012-09-08T11:16:08.030
> 
> 标签：php, mysql

我有一张桌子

```
Date        value1  value2
2012-09-07  1       1
2012-09-06  2       2
2012-09-05  3       3
2012-09-04  4       4
2012-09-03  5       5
2012-08-31  6       6
2012-08-30  7       7
2012-08-29  8       8
2012-08-28  9       9
2012-08-27  10      10
2012-08-24  11      11
2012-08-23  12      12
2012-08-22  13      13 
```

表中的值不像示例中那样升序。有随机数。

我需要得到一周的开始日期，一周`value1`的开始和一周`value2`的结束。

日期字段是唯一的，它只存储日期，因此不允许重复日期。

我尝试使用以下查询：

```
SELECT MIN(`Date`) as Date, 
    (SELECT `value1` ORDER BY `Date` ASC LIMIT 1) as Start, 
    (SELECT `value2` ORDER BY `Date` DESC LIMIT 1) as End
FROM table
GROUP BY YEAR(`Date`), WEEK(`Date`,7) 
```

查询正确返回分组的周，`value1`但`value2`也从一周的行开始，即

```
2012-08-27  10      10 
```

但是我需要：

```
2012-08-27  10      6 
```

我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:11:09.860

这样的事情怎么样

```
SELECT `date`, value1 as Start, 
(SELECT value2 FROM photos WHERE t.date >= adddate(`Date`, INTERVAL 1-DAYOFWEEK(`Date`) DAY) AND  t.date <= adddate(`Date`, INTERVAL 7-DAYOFWEEK(`Date`) DAY) ORDER BY date DESC LIMIT 1) as endDate
from table t 
GROUP BY YEAR(`Date`), WEEK(`Date`,7) 
```

可能有一种更优化的方法来做到这一点..但这有效

# c# - 一个方法调用并避免 dll not found 错误（如果存在）

> ID：12330243
> 
> 赞同：0
> 
> 时间：2012-09-08T11:17:51.243
> 
> 标签：c#, .net, winforms, dll, reference

当您单击全部保存按钮时，将调用下面的此方法。我想问你有没有办法跳过下面显示的代码下的错误。

为什么我问这个：有时代码文件夹中不存在 pDenemeProxy.dll。此外，它是一个 Windows 窗体应用程序。在参考文献中有 pDenemeProxy.dll。并且 pDenemeProxy.dll 的 fDenemeProxy 外观仅在 mDesTemp 不为空时才被初始化。

谢谢！

```
 private bool SaveAll()
        {
...
..
..
    if (this.mDesTemp != null)
    {           
         fDenemeProxy dnm = new fDenemeProxy();      
         dnm.SaveThisCustomer(1234,"D",true);
    }
...
..
 return;    
} 
```

错误：System.IO.FileNotFoundException：'pDenemeProxy，版本 = 0.0.0.0，文化 = 中性，PublicKeyToken = null'

注意：.net 2.0 和 c# 注意：有些人建议放置 try catch 块，但它不起作用。我在 VS 2008 的调试会话期间看到，当 mDesTemp 为空时，我们再次看到上面声明的错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:43:43.097

在代码的某些行中，您正在使用一种方法，如果这种错误情况的条件为真（即您正试图访问由于某种原因无法访问的文件），则该方法会抛出`Exception`类型。`System.IO.FileNotFoundException`

这就是您正在经历的预期和正确的行为。每当您收到此错误消息时，该错误已经发生，现在由您来处理这种新情况。这就是`Exception-Handling`全部。

要处理由异常引起的错误（非正式地说），您必须捕获之前抛出的异常（正式地说）。

为此，您必须使用所谓的 try-catch 块将代码部分（引发异常的实际方法调用）包含在内，如下所示：

```
private bool SaveAll()
    {
...
..
..
    if (this.mDesTemp != null)
    {       
         try {

             fDenemeProxy dnm = new fDenemeProxy();      
             dnm.SaveThisCustomer(1234,"D",true);

         } catch (FileNotFoundException e) {

             // deal with the new situation !
         }
    }
...
..
return;    
} 
```

其含义非常简单直观：

在`try`-block 内，您正在“保护”一段代码，该代码能够在它这样做的情况下引发异常。这个`try`块之后是任意数量的catch-block - 一个用于安全代码可能抛出的每个异常。

如果你正确设置了这个 try-catch 块，你已经实现了，每当你的（安全的）代码抛出异常时，你的程序的执行流程不会结束（即你的程序不会崩溃），但它会进入适当的 catch -block 你可以做任何事情来处理你刚刚遇到的错误。

此外，如果您在 Internet 上查看，您会发现很多关于此的信息，因为异常处理是编程的一个非常重要的概念，但我在这里试图解释的是您应该首先尝试理解的基本概念——它赢了不要变得更困难；）

# c# - 如何使用反射获取继承属性的值？

> ID：12330249
> 
> 赞同：9
> 
> 时间：2012-09-08T11:18:20.657
> 
> 标签：c#, reflection

如何使用反射获取继承的属性值？我尝试`BindingFlags`但仍然触发`NullReferenceException`

```
object val = targetObject.GetType().GetProperty("position", BindingFlags.FlattenHierarchy).GetValue(targetObject, null); 
```

`position`是继承的公共财产并具有声明的价值。

**编辑：**

```
class myParent
{
    public float[] position;
    public myParent()
    {
        this.position = new float[] { 1, 2, 3 };
    }
}

class myChild : myParent
{
    public myChild() : base() { }
}

myChild obj = new myChild();
PropertyInfo p = obj.GetType().GetProperty("position", BindingFlags.Instance | BindingFlags.Public); 
```

我尝试了几种与 BindingFlags 的组合，但`p`始终为 null :( ，

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-08T11:22:05.087

如果您使用重载，`BindingFlags`则必须明确指定您感兴趣的所有标志。

另请注意：（来自[MSDN](http://msdn.microsoft.com/en-us/library/zy0d4103.aspx)）

> 您必须指定 BindingFlags.Instance 或 BindingFlags.Static 才能获得回报。

```
object val = targetObject.GetType()
             .GetProperty("position", 
                          BindingFlags.FlattenHierarchy | 
                          BindingFlags.Instance | 
                          BindingFlags.Public)
             .GetValue(targetObject, null); 
```

编辑：

你有一个`position` **字段**而不是一个**属性**！

（一个开始学习差异的好地方：[C# 3.0+ 中的属性和字段之间](https://stackoverflow.com/questions/653536/difference-between-property-and-field-in-c-sharp-net-3-5)的差异，尤其是这个[答案](https://stackoverflow.com/a/653799/872395)）

将您的更改`position`为属性：

```
public float[] position { get; set; } 
```

或者您使用该`targetObject.GetType().GetField(...`方法来检索该字段。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-08T11:24:38.653

```
BindingFlags.FlattenHierarchy 
```

仅适用于静态成员。请务必指定

```
BindingFlags.Instance | BindingFlags.Public 
```

你应该得到继承的属性。

# powershell - 这些 Cmdlet 之间有什么区别？

> ID：12330260
> 
> 赞同：2
> 
> 时间：2012-09-08T11:19:35.413
> 
> 标签：powershell

在 PowerShell 3 中，如果您正在搜索可以同时使用的命令，Get-Help Get-* 和 Get-Command Get-* 都有效吗？

那么主要的区别是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T16:14:04.323

这两个命令共享很多信息，但主要区别在于`Get-Help`输出 MAML 对象（“基于文本”，容易出错，甚至可能过时），同时`Get-Command`获取真实对象（元数据），您可以进一步调查。

对于大多数帮助部分，`Get-Help`显示包含在 XML 文件中的预制帮助。对于其他部分，`Get-Help`“正在使用”`Get-Command`生成信息，如 SYNTAX 部分。

`Get-Command`还可以获取 Get-Help 无法获取的信息，例如命令的模块、DLL 路径（如果是已编译的 cmdlet）、参数集等。

一个不能替代另一个，您可以在不同的情况下使用两者。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-09T17:05:00.807

我的想法是——`Get-Command`返回有关命令的*技术*信息（DLL、实现类型、函数的函数体等），`Get-Help`返回有关命令的*用户友好*信息（详细语法、示例、参数说明等）。

并`Get-Command`返回一个正常的对象，它的行为完全正常且可预测，而`Get-Help`返回一个奇怪的格式化帮助对象，它实际上只用于在控制台中查看，而不是用于代码处理。

# ios - 测试应用内购买

> ID：12330268
> 
> 赞同：0
> 
> 时间：2012-09-08T11:20:42.060
> 
> 标签：ios, xcode

我使用此代码来处理我的应用内购买：

```
#pragma mark StoreKit Delegate

-(void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions {
for (SKPaymentTransaction *transaction in transactions) {
    switch (transaction.transactionState) {
        case SKPaymentTransactionStatePurchasing:

            {

            // show wait view here
           // statusLabel.text = @"Processing...";

                }
            break;

        case SKPaymentTransactionStatePurchased:

                {

            [[SKPaymentQueue defaultQueue] finishTransaction:transaction];
            // remove wait view and unlock feature 2
           // statusLabel.text = @"Done!";
            UIAlertView *tmp = [[UIAlertView alloc]
                                initWithTitle:@"Complete"
                                message:@"You have unlocked Feature 2!"
                                delegate:self
                                cancelButtonTitle:nil
                                otherButtonTitles:@"Ok", nil];
            [tmp show];

            NSError *error = nil;
            [SFHFKeychainUtils storeUsername:@"IAPStoreSave" andPassword:@"whatever" forServiceName:kStoredData updateExisting:YES error:&error];

            // apply purchase action  - hide lock overlay and

                    [self.lockImage removeFromSuperview];

            // do other thing to enable the features

                    }
            break;

        case SKPaymentTransactionStateRestored:
            {

            [[SKPaymentQueue defaultQueue] finishTransaction:transaction];
            // remove wait view here
           // statusLabel.text = @"";

                }
            break;

        case SKPaymentTransactionStateFailed:

            {

            if (transaction.error.code != SKErrorPaymentCancelled) {
                NSLog(@"Error payment cancelled");
            }
            [[SKPaymentQueue defaultQueue] finishTransaction:transaction];
            // remove wait view here
           // statusLabel.text = @"Purchase Error!";

            }
            break;

        default:
            {

                 }
            break;
    }
}
}

-(void)productsRequest:(SKProductsRequest *)request didReceiveResponse:(SKProductsResponse *)response
{

// remove wait view here
    // statusLabel.text = @"";

SKProduct *validProduct = nil;
int count = [response.products count];

if (count>0) {
    validProduct = [response.products objectAtIndex:0];

    SKPayment *payment = [SKPayment paymentWithProductIdentifier:@"com.app.ID"];
    [[SKPaymentQueue defaultQueue] addTransactionObserver:self];
    [[SKPaymentQueue defaultQueue] addPayment:payment];

} else {
    UIAlertView *tmp = [[UIAlertView alloc]
                        initWithTitle:@"Not Available"
                        message:@"No products to purchase"
                        delegate:self
                        cancelButtonTitle:nil
                        otherButtonTitles:@"Ok", nil];
    [tmp show];

}

}
-(void)requestDidFinish:(SKRequest *)request
 {

}

-(void)request:(SKRequest *)request didFailWithError:(NSError *)error
 {
       NSLog(@"Failed to connect with error: %@", [error localizedDescription]);
} 
```

并以这种方式启动它：

```
SKProductsRequest *request = [[SKProductsRequest alloc] initWithProductIdentifiers:[NSSet setWithObject:@"com.app.ID"]];

            request.delegate = self;

            [request start]; 
```

在我的iTunes Connect中，我使用我输入的产品ID设置了应用内，状态为“准备提交”，并且还显示：“您的第一个应用内购买必须使用新的应用程序版本。从“版本详细信息”页面的“应用内购买”部分中选择它们，然后单击“准备上传二进制文件”。当我开始请求时，警报 NO PRODUCT AVAILABLE 总是出现。我究竟做错了什么？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-11T21:41:40.977

您确定捆绑 ID 与 Itunes Connect 上的应用程序相同吗？其次要检查的是应用程序配置文件（如果它处理 IAP） - 我认为这可能是原因。让我知道。

# c# - 我想在我的 aspx 网页中调用 C# 脚本，帮我实现它

> ID：12330272
> 
> 赞同：0
> 
> 时间：2012-09-08T11:21:28.263
> 
> 标签：c#, asp.net, invocation

我想在我的 aspx 网页中调用 C# 代码。有人可以告诉我如何做到这一点吗？C#代码很长，我将它保存在一个`.cs`文件中，并与网页文件一起放入web目录，但是当我尝试将它调用到我的网页时，页面上发生了一些服务器错误。

这是代码，请帮助我正确实现它。

谢谢

```
<%@ language="C#" %>
<script runat="server">
        string vservADRequest(string vservMsisdn, string vservMarkup, string vservZoneid, bool vservTestMode){
        try{
            StringBuilder vservParams = new StringBuilder();
            vservParams.Append("vr").Append("=").Append(Server.UrlEncode("1.1.0-csharp-20100726")).Append("&");
            vservParams.Append("tm").Append("=").Append(Server.UrlEncode(vservTestMode.ToString())).Append("&");
            vservParams.Append("ml").Append("=").Append(Server.UrlEncode(vservMarkup)).Append("&");
            vservParams.Append("si").Append("=").Append(Server.UrlEncode(Session.SessionID)).Append("&");
            vservParams.Append("mo").Append("=").Append(Server.UrlEncode(vservMsisdn)).Append("&");
            vservParams.Append("ip").Append("=").Append(Server.UrlEncode(Request.UserHostAddress)).Append("&");

            if(Request.Headers.GetValues("x-forwarded-for") != null)
                vservParams.Append("ff").Append("=").Append(Server.UrlEncode(Request.Headers["x-forwarded-for"])).Append("&");

            if(Request.Headers.GetValues("via") != null)
                vservParams.Append("hv").Append("=").Append(Server.UrlEncode(Request.Headers["via"])).Append("&");

            vservParams.Append("ht").Append("=").Append(Server.UrlEncode(Request.Headers["host"])).Append("&");
            vservParams.Append("ru").Append("=").Append(Server.UrlEncode(Request.Path)).Append("&");                
            vservParams.Append("ua").Append("=").Append(Server.UrlEncode(Request.UserAgent)).Append("&");

            if(Request.Headers.GetValues("x-operamini-phone-ua") != null)
                vservParams.Append("ou").Append("=").Append(Server.UrlEncode(Request.Headers["x-operamini-phone-ua"])).Append("&");

            if(Request.Headers.GetValues("x-wap-profile") != null)
                vservParams.Append("up").Append("=").Append(Server.UrlEncode(Request.Headers["x-wap-profile"])).Append("&");

            ArrayList vservNotToLog = ArrayList.Adapter(new String[] { "PRAGMA", "CACHE-CONTROL", "CONNECTION", "KEEP-ALIVE"});
            foreach (string vservHeaderName in Request.Headers){
              if (!vservNotToLog.Contains(vservHeaderName.ToUpper())){
                vservParams.Append(Server.UrlEncode("hd["+vservHeaderName+"]")).Append("=").Append(Server.UrlEncode(Request.Headers[vservHeaderName])).Append("&");
                }
            }
            vservParams.Append("zoneid").Append("=").Append(Server.UrlEncode(vservZoneid));
            ASCIIEncoding vservAscii = new ASCIIEncoding();
            byte[] vservPostBytes = vservAscii.GetBytes(vservParams.ToString());
            string vservAdUrl= "http://rq.vserv.mobi/delivery/adapi.php?"+vservZoneid;
            System.Net.HttpWebRequest vservReq = (System.Net.HttpWebRequest)System.Net.WebRequest.Create(vservAdUrl);       
            if (vservReq != null){
                vservReq.Method = "POST";
                vservReq.ContentType = "application/x-www-form-urlencoded";
                vservReq.ContentLength = vservPostBytes.Length;
                vservReq.Timeout = 7000;
                if(Context.Items["X-VSERV-CONTEXT"]!=null && !Context.Items["X-VSERV-CONTEXT"].ToString().Equals("")){
                    vservReq.Headers.Add("X-VSERV-CONTEXT", Context.Items["X-VSERV-CONTEXT"].ToString());
                }
                // add post data to request
                System.IO.Stream vservPostStream = vservReq.GetRequestStream();
                vservPostStream.Write(vservPostBytes, 0, vservPostBytes.Length);
                vservPostStream.Close();
                System.Net.HttpWebResponse vservRes = (System.Net.HttpWebResponse) vservReq.GetResponse();
                string newVservContext=vservRes.GetResponseHeader("X-VSERV-CONTEXT");
                Context.Items.Remove("X-VSERV-CONTEXT");
                Context.Items.Add("X-VSERV-CONTEXT",newVservContext);
                System.IO.StreamReader vservSR = new System.IO.StreamReader(vservRes.GetResponseStream());
                StringBuilder vservOutput = new StringBuilder();
                vservOutput.Append(vservSR.ReadToEnd().Trim());
                vservSR.Close();
                return vservOutput.ToString();
            }else{return ""; }

            }catch (Exception vserve) { return "";}
    }
    </script>
    <% 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T14:27:48.843

如果你想在你的 aspx 中调用方法，你可以使用`<% %>`符号。

```
<% =vservADRequest("test", "test", "test", true) %> 
```

# c++ - 非官方 OpenGL SDK 链接问题 - 未定义参考

> ID：12330286
> 
> 赞同：1
> 
> 时间：2012-09-08T11:23:35.003
> 
> 标签：c++, opengl, sdk, linker, static-libraries

我正在尝试让非官方 OpenGL SDK 库工作并开始使用 glutil 库来实现 matrixStack 功能。我使用 Visual Studio 2010 编译了源代码并将库移动到位于我的 Code::Blocks 文件夹中的 minGW 文件夹。我也将头文件移到了那里的包含文件夹中。

现在一切都应该到位并且应该为我的操作系统编译，所以下面的代码应该可以正常工作。

```
 // Get rotation matrix
    //float rotValue = (glutGet(GLUT_ELAPSED_TIME)) / 10;
    glm::mat3 rotMatrix = RotateAxis(0.0f, 0.0f, 1.0f, 0.0f);
    // Build final matrix from rotMatrix
    glm::mat4 finalMatrix(rotMatrix);
    finalMatrix[3].x = camX;
    finalMatrix[3].y = camY;
    finalMatrix[3].z = camZ - 1.0f;
    finalMatrix[3].w = 1.0f;

    glutil::MatrixStack stack(finalMatrix);
    glutil::PushStack push(stack);

    // Object 1
    glBindVertexArray(vaoObject);          // Advantage of using vao's is that you only have to do all the vertex attribute enabling and buffer stuff once.
    glUniformMatrix4fv(modelToCameraMatrixUnif, 1, GL_FALSE, glm::value_ptr(stack.Top()));
    glDrawElements(GL_TRIANGLES, ARRAY_COUNT(indexData), GL_UNSIGNED_SHORT, 0);
    // Object 2
    stack.Translate(glm::vec3(0.0f, 0.5f, 0.0f));       // THIS IS WHERE THINGS GO WRONG
    finalMatrix[3].z = camZ - 2.00f;
    glUniformMatrix4fv(modelToCameraMatrixUnif, 1, GL_FALSE, glm::value_ptr(stack.Top()));
    glDrawElementsBaseVertex(GL_TRIANGLES, ARRAY_COUNT(indexData), GL_UNSIGNED_SHORT, 0, 36/2); 
```

对 stack.Translate 的调用会产生以下错误：**undefined reference to 'glutil::MatrixStack::Translate(glm::detail::tvec3 const&)'**这很奇怪，因为没有 translate 调用 MatrixStack 和 PushStacks 的构造函数工作很好，这很奇怪。

我尝试将 -glutil 添加到链接器，但没有解决我的问题。

标头包括（与openGL相关）：

```
// Open GL and GLUT
#include <gl/glew.h>
#include <gl/glut.h>

// Open GL Libraries
#include <glm/glm.hpp>
#include <glm/gtc/type_ptr.hpp>
#include <glutil/glutil.h> 
```

我仍然不确定如何找到将库链接到的正确名称，因为 OpenGL SDK 没有在他们的网站上显示此信息，所以我不确定 -glutil 是否正确。我猜这个问题与链接阶段有关。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:38:20.570

你是在MinGW下使用VC++编译的C++代码吗？你知道那些编译器的 ABI 是不同的吗？甚至名称修改方案也不同，因此这可以解释为什么它无法链接。如果来自 mingw 链接器的未修改版本的函数名称（应该在错误报告中的某处）与从 glutil 导出的函数名称匹配，请使用例如。[DLL 导出查看器](http://www.nirsoft.net/utils/dll_export_viewer.html)- 还是 glutil 静态链接？如果不匹配，您可能需要对库和代码使用相同的编译器。

# macos - mac应用程序没有插座集合吗？

> ID：12330287
> 
> 赞同：4
> 
> 时间：2012-09-08T11:23:36.490
> 
> 标签：macos, collections, interface, builder, outlet

似乎没有办法在 mac 应用程序中使用插座集合。为什么不？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:40:38.740

通常，如果您想要 iOS 或 OS X 框架和工具上的某个功能，最好在 bugreport.apple.com 上提出功能请求。

如果有足够多的人要求做这件事，那么工程经理可能会注意（或不注意）

但是是的，关于绑定的其他答案是一个很好的建议。绑定非常酷且有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-09T06:09:54.400

只需将您的图像视图放入一个数组中——如果它们都是同一个超级视图的子视图，您可以遍历该超级视图（测试它们是 NSImageView 或检查标签值的事实）并添加它们。这种方式还有一个优点是您不需要为它们创建 IBOutlets。

绑定是否适合您的问题取决于您要对图像视图执行的操作。我需要更多信息才能对此发表评论。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-08T11:33:49.083

Mac 应用程序使用**BINDINGS**，它非常有用，并且在 iOS SDK 中不存在。你可以达到同样的效果。

阅读**Cocoa 绑定编程主题**

# windows - 如何编写windows批处理文件

> ID：12330288
> 
> 赞同：0
> 
> 时间：2012-09-08T11:23:39.553
> 
> 标签：windows, batch-file

我有一个可执行的“ `myfile.exe`”文件在位置“ `C:\Users\me\Desktop`”我想通过批处理文件执行一个命令“ `myfile.exe <firstArg> <secondArg>`” ，`C:\Users\me\Desktop`

在命令行中：

```
C:\Users\me\Desktop>myfile.exe <firstArg> <secondArg> 
```

如何在windows中为上述命令编写批处理脚本

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:25:43.923

使用参数变量，您 batchFile.bat 的内容将是：

```
@echo off
C:\Users\me\Desktop\myfile.exe %1 %2 
```

或使用固定参数：

```
@echo off
C:\Users\me\Desktop\myfile.exe <firstArg> <secondArg> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T11:25:33.090

只需将您正在从命令行执行的确切命令添加到`.bat`文件中。如有必要，请先更改工作目录。

```
cd C:\Users\me\Desktop
myfile.exe <firstArg> <secondArg> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T11:27:39.897

您的批处理文件：

```
C:\Users\me\Desktop\myfile.exe %1 %2 
```

然后你可以调用你的批处理文件：

```
mybatchfile.bat <firstArg> <secondArg> 
```

此外，您可以使用 %* 传递所有参数，而不是指定每个参数。

# java - Android java读取html内容

> ID：12330292
> 
> 赞同：0
> 
> 时间：2012-09-08T11:24:31.683
> 
> 标签：java, android, url

这段代码显示html内容有问题。当我在您的智能手机上尝试时，我会打印捕获错误的“错误”，我错在哪里？

```
String a2="";   
try {
    URL url = new URL("www.google.com");
    InputStreamReader isr  = new InputStreamReader(url.openStream());
    BufferedReader in = new BufferedReader(isr);
    String inputLine;
    while ((inputLine = in.readLine()) != null){
        a2+=inputLine;
    }
    in.close();
    tx.setText("OUTPUT \n"+a2);

} catch (Exception e) {  
    tx.setText("Error");    
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:26:53.987

[URL](http://docs.oracle.com/javase/7/docs/api/java/net/URL.html)需要格式正确的 url。你应该使用：

```
URL url = new URL("http://www.google.com"); 
```

更新：

当您获得`NetworkOnMainThreadException`时，您似乎正在尝试在主线程中建立连接。

解决方案是在`AsyncTask`.

# android - Android - 具有唯一和外键约束的 Sqlite 查询

> ID：12330297
> 
> 赞同：0
> 
> 时间：2012-09-08T11:24:56.697
> 
> 标签：android, sqlite

我有两个名为`x`and的表`y`。

`x`表有两列说`_id`和`name`。

`_id`将是主键，`name`将是唯一约束。

我不熟悉 sqlite 查询。查询应该这样写吗？

```
 CREATE TABLE IF NOT EXISTS x (
    _id integer primary key autoincrement, 
    name text, 
    unique(name)); 
```

`y`表有三列`_id`、`xid`和`address`。

`_id`将是主键，`xid`将是外键，`address`将是唯一键约束。

```
CREATE TABLE IF NOT EXISTS y (
    _id integer primary key autoincrement, 
    address text, 
    xid references x(_id), 
    unique(address)); 
```

如果我遗漏或没有正确定义任何内容，请纠正我。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T19:46:24.487

你的命令是正确的。

您可以通过使它们成为列约束而不是表约束来使约束更加清晰：

```
CREATE TABLE IF NOT EXISTS x (
    _id integer primary key autoincrement, 
    name text unique);
CREATE TABLE IF NOT EXISTS y (
    _id integer primary key autoincrement, 
    address text unique,
    xid references x(_id)); 
```

# ruby - 多变量场景大纲示例的 Cucumber 转换

> ID：12330299
> 
> 赞同：0
> 
> 时间：2012-09-08T11:25:05.770
> 
> 标签：ruby, selenium, tdd, cucumber, automated-tests

我有一组功能相似的网站，我想编写黄瓜规范以驱动开发和 selennium 浏览器测试。该站点使用不同的语言并具有不同的 URL，但主要具有相同的功能。

一个示例场景可能是

```
Scenario Outline: Photo Gallery Next Action
  Given I visit a "<photo-gallery-page>"
  When I click "<next-button>" in the gallery
  Then the photo should advance
    Examples:
      | photo-gallery-page | next-button |
      | www.site1.com/photo-gallery | Next |
      | www.site2.com/la-galerie-de-photos | Suivant | 
```

当我有少量场景和示例时，这很好。但是，我预计会出现数百种情况，并且会定期推出新网站。我想避免在启动新站点时必须编辑每个场景来添加示例。

我认为我需要将所有示例变量存储在每个站点配置中，以便我可以针对所有站点运行相同的场景。然后我可以相当容易地添加新配置，避免编辑所有场景示例并使它们不可读。

```
site[:en].photo-gallery-page = 'www.site1.com/photo-gallery'
site[:fr].photo-gallery-page = 'www.site2.com/la-galerie-de-photos'
site[:en].next-button = 'Next'
site[:fr].next-button = 'Suivant' 
```

一种选择是将此配置存储在某处，然后使用脚本生成特定于站点的小黄瓜文件。然后我可以运行这些生成的小黄瓜，其中包含所需的示例

我想知道是否有更简单的方法。我的另一个想法是我是否可以使用表格转换来替换示例块。我读过，但据我所知，如果它是一个步骤中的内联表，我只能转换一个表（并用自定义代码块替换它）。我不能以相同的方式转换示例块。

我理解正确吗？关于如何最好地实现这一目标的任何其他建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T13:09:21.977

我想知道是否有更好的方法......这一切都感觉很脆弱。

如果：

```
Given I follow a link to the gallery "MyGallery"
And the gallery "MyGallery" contains the following photos:
|PhotoID|PhotoName|
|1      |MyPhoto1 |
|2      |MyPhoto2 |
And the photo "MyPhoto1" is displayed
When I view the next photo
Then the next photo "MyPhoto2" should be displayed 
```

请注意，您已经去掉了按钮名称等的概念——在您的步骤定义中可能更好地定义了实现细节。您定义的行为只是去画廊，查看图像，请求下一个，查看下一个图像。在步骤定义中定义方式*。*

[在http://cuke4ninja.com/](http://cuke4ninja.com/)上有一些我发现对这个主题非常有用的阅读材料。下载 PDF 并查看网络自动化部分（它详细介绍了网络自动化金字塔）。

为了解决您的配置问题，也许您可​​以定义某种配置。类并通过依赖注入将其提供给步骤定义文件。您可以通过从不同的配置加载来使其特定于站点。您在其构造函数中建议的文件。步骤定义可以从配置中提取相关的站点特定数据。类的属性。我认为这将使您的场景更具可读性*且不*那么脆弱。

# asp.net - ektron 中的内容导出

> ID：12330302
> 
> 赞同：3
> 
> 时间：2012-09-08T11:25:37.897
> 
> 标签：asp.net, .net, c#-4.0, ektron

我是 Ektron 的新手并使用它的 8.6.0 版本，我想创建一个小部件，它以 Xliff/XML 格式导入所选文件夹/表单的内容（与 EKtron 提供的工作相同，但需要使用代码在自定义小部件中实现，而不是在浏览器），我收到来自支持的邮件，他们告诉我“有一组 API 允许您连接到语言导出功能。” 但我找不到任何 API。有没有人可以帮助我。

我使用了以下方法，但没有得到任何结果。

```
Localization temp = new Localization();
temp.StartExportContentForTranslation("1136,5012,5006", "2057,1031,1041"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T15:23:28.957

每当您在工作区中看到要模拟的功能时，只需查看工作区代码即可。在`Workarea\controls\content\localization_uc.ascx.cs`, 它说

```
protected Ektron.Cms.LocalizationAPI m_objLocalizationApi = new Ektron.Cms.LocalizationAPI();
protected Ektron.Cms.BusinessObjects.Localization.L10nManager localizationManager = null; 
```

然后打电话`StartExportContentForTranslation`

# javascript - Ajax 不执行成功函数

> ID：12330307
> 
> 赞同：-1
> 
> 时间：2012-09-08T11:26:23.773
> 
> 标签：javascript, php, jquery, ajax

我的代码看起来像这样。问题是，PHP 端完成它并返回正确的值。但是 ajax 不执行里面的东西`success: function`。我错过了什么？

```
AnswerDiv.on("click", ".NotSelectedAnswer", function() {
    var NotSelectedAnswerBtn = $(".NotSelectedAnswer"),
        SelectedAnswerBtn = $(".SelectedAnswer"),
        AnswerDiv = $("div.Answer"),
        querystring="fromID="+SelectedAnswerBtn.data("id")+"&toID="+$(this).data("id")+"&op=SelectAsAnswer";

    $.ajax({
        url: 'processor.php',
        type: "POST",
        dataType: "json",
        data: querystring,
        success: function(data) {
            if(data.status)
            {
                SelectedAnswerBtn.removeClass("SelectedAnswer").addClass("NotSelectedAnswer").button("enable");
                $(this).removeClass(" NotSelectedAnswer").addClass("SelectedAnswer").button("disable");
                $("div.Answer[data-id=" + SelectedAnswerBtn.data("id") + "]").toggleClass("SelectedDiv");
                $("div.Answer[data-id=" + $(this).data("id") + "]").toggleClass("SelectedDiv");
            }
        }
    });

    return false;
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T12:29:41.590

尝试`$(this)`在ajax调用之前缓存

```
AnswerDiv.on("click", ".NotSelectedAnswer", function() {
    var NotSelectedAnswerBtn = $(".NotSelectedAnswer"),
    SelectedAnswerBtn = $(".SelectedAnswer"),
    AnswerDiv = $("div.Answer"),
    thisElem=$(this),
    querystring="fromID="+SelectedAnswerBtn.data("id")+"&toID="+$(this).data("id")+"&op=SelectAsAnswer";
    $.ajax({
        url: 'processor.php',
        type: "POST",
        dataType: "json",
        data: querystring,
        success: function(data) {
            if(data.status)
            {
                SelectedAnswerBtn.removeClass("SelectedAnswer").addClass("NotSelectedAnswer").button("enable");
                thisElem.removeClass(" NotSelectedAnswer").addClass("SelectedAnswer").button("disable");
                $("div.Answer[data-id=" + SelectedAnswerBtn.data("id") + "]").toggleClass("SelectedDiv");
                $("div.Answer[data-id=" +thisElem.data("id")+ "]").toggleClass("SelectedDiv");
                return false;
            }
        }
    });

}); 
```

# android - 对于服务器中可用的内容，哪种数据库类型适用于 Android 应用程序？

> ID：12330309
> 
> 赞同：0
> 
> 时间：2012-09-08T11:26:44.510
> 
> 标签：android, database

我正在尝试开发一个所有内容都存储在服务器中的实时 Android 应用程序。因此，只要有 Internet 连接，它们就可用。此外，该应用程序提供用户之间的通信，并且对话也存储在服务器中。没有任何东西在本地存储。但是，我仍然无法决定可以使用哪种数据库类型。我打算使用 SQLite，但我不确定我是否真的可以使用它。您能否指导我选择适合我的应用程序的数据库类型。感谢您的时间和努力。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T14:13:40.407

我最近开发了与您所说的类似的东西，这就是我建议您去做的事情。

使用**SQL Server**管理桌面上的数据并在 Visual Studio 上的 .Net 中创建**Web 服务。**

*（请注意，正如其他人已经提到的那样，您在服务器端使用的数据库是什么并不重要，因为最终数据将以 xml 或 json 的形式从服务器到达 Android 应用程序web-service.，不管你使用什么数据库。所以你想使用哪个数据库完全是你的愿望。）*

**然后使用SOAP**连接到应用程序中的**Web 服务**并从远程数据库中设置/获取数据。

 **[有关如何在 .NET 中制作 Web 服务的链接](http://srikanthtechnologies.com/blog/dotnet/wsdaljava.aspx)（不包括 Android 中的实现）。

关于如何将您的服务与 Android 连接的链接：[this](http://seesharpgears.blogspot.in/2010/11/basic-ksoap-android-tutorial.html)、[this](http://www.codeproject.com/Articles/304302/Calling-Asp-Net-Webservice-ASMX-From-an-Android-Ap)和[this](http://adrianandroid.blogspot.in/2012/05/access-c-net-web-service-in.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T11:55:17.917

由您决定使用哪个数据库。

你可以安装 Lamp (For Linux) 或 WAMP(for windows) 。这是一个很好的数据库工具，非常易于处理，并且易于与 PHP 链接以实现各种数据库功能**

# javascript - 如何从另一个处理程序内部取消 JavaScript 事件处理程序函数的执行？

> ID：12330314
> 
> 赞同：0
> 
> 时间：2012-09-08T11:27:06.210
> 
> 标签：javascript, function, event-handling

当一个事件处理函数像这样注册时：

```
element.onload = function() 
{   
    var something = Selector("identifier", "inline", 1).FadeIn("inline", 1);
    CenterElement(something);
}; 
```

一旦从另一个处理程序函数内部开始执行，有没有办法停止执行？让那个处理函数看起来像这样：

```
another.onclick = function() 
{
    //Cancel the execution of the above function here
    document.getElementById("start").innerHTML = "Start Slideshow"; 
    this.FadeOut(); 
}; 
```

`Selector`返回一个与问题本身无关的特殊包装对象，因此省略了实现。

众所周知，可以通过分配`undefined`给处理程序变量来阻止处理程序函数的执行，但是如果它已经开始执行，如何停止它呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:31:06.330

你在这里错过了一个重要的概念。

在javascript中，只有一个执行线程。虽然您可能认为它在执行`onclick`时被调用`onload`，但这是完全错误的。

我不知道您使用的是什么框架，但在 jQuery 中您可以执行以下操作：

```
another.onclick = function() 
{
    //Cancel the execution of the above function here
    Selector("identifier", "inline", 1).stop();
    // ...other stuff
}; 
```

# types - 为 WP 主题选项框架创建自定义类型

> ID：12330317
> 
> 赞同：1
> 
> 时间：2012-09-08T11:27:41.810
> 
> 标签：types, frameworks, panel, admin, option

我正在开发一个 wordpress 主题，并决定使用 WP Theming 的 Options-Framework 为我的主题创建一个选项面板。实现工作正常，但现在我想为图像滑块创建一个自己的选项类型。此选项应包含四个选项（图像上传、文本区域和 2x 文本输入）的数组。像这样：

```
$options[] = array(
    'name' => __('Slider - Test', 'lbprojects'),
    'desc' => __('Test the slider functionality.', 'lbprojects'),
    'id' => 'slider1',
    'std' => array( 'image' => '', 'text' => 'Text',  'title' => 'Titel', 'link' => 'Link' ),
    'type' => 'slider'); 
```

我复制了“背景”选项的代码块，它也加入了某些表单元素。但是下面的代码不能正常工作。输入正在显示并包含预定义的值，但在保存操作时，字段会重置并且选项不会被保存。我还看了一下这个函数，它实际上是在保存，但不知道要改变什么。

```
// Slider
case 'slider':

    $slider = $val;

    // Slider Image - New AJAX Uploader using Media Library
    if (!isset($slider['image'])) {
        $slider['image'] = '';
    }

    $output .= optionsframework_medialibrary_uploader( $value['id'], $slider['image'], null, '',0,'image');
    $class = 'of-background-properties';
    if ( '' == $slider['image'] ) {
        $class .= ' hide';
    }
    $output .= '<div class="' . esc_attr( $class ) . '">';

    // Title
    $output .= '<input id="' . esc_attr( $value['id'] . '_title' ) . '" class="of-input" name="' . esc_attr( $option_name . '[' . $value['id'] . '][title]' ) . '" type="text" value="' . $slider['title'] . '" />';

    // Link
    $output .= '<input id="' . esc_attr( $value['id'] . '_link' ) . '" class="of-input" name="' . esc_attr( $option_name . '[' . $value['id'] . '][link]' ) . '" type="text" value="' . $slider['link'] . '" />';

    // Text
    $rows = '5';

    if ( isset( $value['settings']['rows'] ) ) {
        $custom_rows = $value['settings']['rows'];
        if ( is_numeric( $custom_rows ) ) {
            $rows = $custom_rows;
        }
    }

    $val = stripslashes( $val );
    $output .= '<textarea id="' . esc_attr( $value['id'] . '_text' ) . '" class="of-input" name="' . esc_attr( $option_name . '[' . $value['id'] . '][text]' ) . '" rows="' . $rows . '">' . $slider['text'] . '</textarea>';
    $output .= '</div>';

    break; 
```

有谁知道如何解决这个问题并将自定义类型添加到选项面板？我是否必须更改框架的任何其他功能（例如清理等）？

谢谢卢卡斯

# php - 想要重新查询一个 url 并获得新的值，该值每隔几秒就分配给 php 中的一个变量

> ID：12330321
> 
> 赞同：0
> 
> 时间：2012-09-08T11:28:32.867
> 
> 标签：php, ajax, url, auto-update

我有一个查询来获取实时价格..并将值分配给一个变量....我想每隔 5 秒刷新一次该查询并自动将返回的值分配给变量...所以如果变量被反复调用我得到新值......在PHP中

$requestUrl = [http://mmm.com?c=sss](http://mmm.com?c=sss) ;

返回我一个值..我分配给 $price

所以当我打电话给 $price 说每 5 秒它应该返回新的值......

这意味着请求 url 应该每 5 秒运行一次，并且每 5 秒分配一次值......

请指导...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:35:00.243

试试这篇文章，这是关于如何实现这一点的极好指南 - [如何自动刷新/重新加载页面或部分页面](http://www.techtricky.com/how-to-refresh-page-or-part-of-the-page-automatically/)。它显示使用指定时间或部分刷新的完整元刷新。另一个关于如何做到这一点的好例子 - [使用 PHP、HTML 和 JavaScript 每 5 秒自动刷新一次网页](http://rajeshstutorials.blogspot.com/2012/02/auto-refresh-webpage-reload-every-5.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T12:21:35.633

未经测试，这样的事情会做，

```
 <html>
     <head>
     <script src="http://code.jquery.com/jquery-latest.js"></script>
        <script>               
            $(document).ready(function() {
         $("#myDiv").load("mypage.php");
                 var refreshId = setInterval(function() {
                 $("#myDiv").load("http://mmm.com?c=sss");
                 }, 5000);
                 $.ajaxSetup({ cache: false });
              });
          </script>
        </head>
      <body>

     <div id="myDiv"></div>
     </body> 
```

# android - 方向更改时应用程序崩溃（就在我为纵向和横向模式设置 2 个不同的背景时）

> ID：12330322
> 
> 赞同：3
> 
> 时间：2012-09-08T11:28:50.957
> 
> 标签：android, drawable, out-of-memory, android-orientation, orientation-changes

我使用 JPG 背景作为我活动的根视图，并将其放在`drawable`文件夹中。一切都很好，直到我决定为纵向和横向使用 2 种不同的壁纸。所以，我把第二张壁纸放在`drawable-land`文件夹里。

现在的问题是：当我在真实设备上测试应用程序时，每次我改变方向两次（从纵向到横向，然后从横向到纵向），应用程序崩溃并且我看到一个 loooooong 错误日志，关于`OutOfMemoryException`：

```
09-08 14:13:21.567: E/dalvikvm-heap(16536): Out of memory on a 16384016-byte allocation.
09-08 14:13:21.567: I/dalvikvm(16536): "main" prio=5 tid=1 RUNNABLE
09-08 14:13:21.567: I/dalvikvm(16536):   | group="main" sCount=0 dsCount=0 obj=0x40ad2478 self=0x149a9d0
09-08 14:13:21.567: I/dalvikvm(16536):   | sysTid=16536 nice=0 sched=0/0 cgrp=default handle=1074488712
09-08 14:13:21.567: I/dalvikvm(16536):   | schedstat=( 0 0 0 ) utm=346 stm=52 core=1
09-08 14:13:21.567: I/dalvikvm(16536):   at android.graphics.Bitmap.nativeCreate(Native Method)
09-08 14:13:21.567: I/dalvikvm(16536):   at android.graphics.Bitmap.createBitmap(Bitmap.java:605)
09-08 14:13:21.567: I/dalvikvm(16536):   at android.graphics.Bitmap.createBitmap(Bitmap.java:551)
09-08 14:13:21.567: I/dalvikvm(16536):   at android.graphics.Bitmap.createScaledBitmap(Bitmap.java:437)
09-08 14:13:21.567: I/dalvikvm(16536):   at android.graphics.BitmapFactory.finishDecode(BitmapFactory.java:530)
09-08 14:13:21.567: I/dalvikvm(16536):   at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:505)
09-08 14:13:21.567: I/dalvikvm(16536):   at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:357)
09-08 14:13:21.567: I/dalvikvm(16536):   at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:777)
09-08 14:13:21.567: I/dalvikvm(16536):   at android.content.res.Resources.loadDrawable(Resources.java:1940)
09-08 14:13:21.567: I/dalvikvm(16536):   at android.content.res.TypedArray.getDrawable(TypedArray.java:601)
09-08 14:13:21.567: I/dalvikvm(16536):   at android.view.View.<init>(View.java:2844)
09-08 14:13:21.567: I/dalvikvm(16536):   at android.view.View.<init>(View.java:2781)
09-08 14:13:21.567: I/dalvikvm(16536):   at android.view.ViewGroup.<init>(ViewGroup.java:412)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.widget.RelativeLayout.<init>(RelativeLayout.java:179)
09-08 14:13:21.577: I/dalvikvm(16536):   at java.lang.reflect.Constructor.constructNative(Native Method)
09-08 14:13:21.577: I/dalvikvm(16536):   at java.lang.reflect.Constructor.newInstance(Constructor.java:417)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.view.LayoutInflater.createView(LayoutInflater.java:586)
09-08 14:13:21.577: I/dalvikvm(16536):   at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.view.LayoutInflater.onCreateView(LayoutInflater.java:653)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:678)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.view.LayoutInflater.inflate(LayoutInflater.java:466)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.view.LayoutInflater.inflate(LayoutInflater.java:396)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.view.LayoutInflater.inflate(LayoutInflater.java:352)
09-08 14:13:21.577: I/dalvikvm(16536):   at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:255)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.app.Activity.setContentView(Activity.java:1835)
09-08 14:13:21.577: I/dalvikvm(16536):   at com.test.IndexActivity.onCreate(IndexActivity.java:58)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.app.Activity.performCreate(Activity.java:4465)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1931)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1992)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3371)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.app.ActivityThread.access$700(ActivityThread.java:127)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1162)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.os.Handler.dispatchMessage(Handler.java:99)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.os.Looper.loop(Looper.java:137)
09-08 14:13:21.577: I/dalvikvm(16536):   at android.app.ActivityThread.main(ActivityThread.java:4441)
09-08 14:13:21.577: I/dalvikvm(16536):   at java.lang.reflect.Method.invokeNative(Native Method)
09-08 14:13:21.577: I/dalvikvm(16536):   at java.lang.reflect.Method.invoke(Method.java:511)
09-08 14:13:21.577: I/dalvikvm(16536):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:823)
09-08 14:13:21.577: I/dalvikvm(16536):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:590)
09-08 14:13:21.577: I/dalvikvm(16536):   at dalvik.system.NativeStart.main(Native Method)
09-08 14:13:21.577: D/AndroidRuntime(16536): Shutting down VM
09-08 14:13:21.577: W/dalvikvm(16536): threadid=1: thread exiting with uncaught exception (group=0x40ad1210)
09-08 14:13:21.597: E/AndroidRuntime(16536): FATAL EXCEPTION: main
09-08 14:13:21.597: E/AndroidRuntime(16536): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.test/com.test.IndexActivity}: android.view.InflateException: Binary XML file line #1: Error inflating class <unknown>
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1967)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1992)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3371)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.app.ActivityThread.access$700(ActivityThread.java:127)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1162)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.os.Handler.dispatchMessage(Handler.java:99)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.os.Looper.loop(Looper.java:137)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.app.ActivityThread.main(ActivityThread.java:4441)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at java.lang.reflect.Method.invokeNative(Native Method)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at java.lang.reflect.Method.invoke(Method.java:511)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:823)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:590)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at dalvik.system.NativeStart.main(Native Method)
09-08 14:13:21.597: E/AndroidRuntime(16536): Caused by: android.view.InflateException: Binary XML file line #1: Error inflating class <unknown>
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.view.LayoutInflater.createView(LayoutInflater.java:606)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.view.LayoutInflater.onCreateView(LayoutInflater.java:653)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:678)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.view.LayoutInflater.inflate(LayoutInflater.java:466)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.view.LayoutInflater.inflate(LayoutInflater.java:396)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.view.LayoutInflater.inflate(LayoutInflater.java:352)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:255)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.app.Activity.setContentView(Activity.java:1835)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at com.rahpou.android.parnian.IndexActivity.onCreate(IndexActivity.java:58)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.app.Activity.performCreate(Activity.java:4465)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1931)
09-08 14:13:21.597: E/AndroidRuntime(16536):    ... 12 more
09-08 14:13:21.597: E/AndroidRuntime(16536): Caused by: java.lang.reflect.InvocationTargetException
09-08 14:13:21.597: E/AndroidRuntime(16536):    at java.lang.reflect.Constructor.constructNative(Native Method)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at java.lang.reflect.Constructor.newInstance(Constructor.java:417)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.view.LayoutInflater.createView(LayoutInflater.java:586)
09-08 14:13:21.597: E/AndroidRuntime(16536):    ... 24 more
09-08 14:13:21.597: E/AndroidRuntime(16536): Caused by: java.lang.OutOfMemoryError
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.graphics.Bitmap.nativeCreate(Native Method)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.graphics.Bitmap.createBitmap(Bitmap.java:605)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.graphics.Bitmap.createBitmap(Bitmap.java:551)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.graphics.Bitmap.createScaledBitmap(Bitmap.java:437)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.graphics.BitmapFactory.finishDecode(BitmapFactory.java:530)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:505)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:357)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:777)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.content.res.Resources.loadDrawable(Resources.java:1940)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.content.res.TypedArray.getDrawable(TypedArray.java:601)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.view.View.<init>(View.java:2844)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.view.View.<init>(View.java:2781)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.view.ViewGroup.<init>(ViewGroup.java:412)
09-08 14:13:21.597: E/AndroidRuntime(16536):    at android.widget.RelativeLayout.<init>(RelativeLayout.java:179)
09-08 14:13:21.597: E/AndroidRuntime(16536):    ... 27 more 
```

似乎加载另一个可绘制对象的成本太高了，但我已经看到许多应用程序使用大而多样的图形和壁纸并且没有问题。那么，如何防止这种内存泄漏并帮助 android 回收/销毁以前的背景可绘制对象以避免 OutOfMemory？！

*如果重要的话，我的手机屏幕和壁纸都有高清（720p）分辨率，两个壁纸（港口和陆地）的大小约为 100 KB。*

**编辑：**我尝试了第一个答案并在我的代码中对其进行了修改，因为我有一个`ScrollView`作为根视图并且壁纸设置为其背景可绘制。

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);            

    ScrollView root = (ScrollView)findViewById(R.id.root);
    // this line causes NullPointerException:
    BitmapDrawable drawable = (BitmapDrawable) root.getBackground();
    Bitmap bitmap = drawable.getBitmap();
    if (bitmap != null)
    {
    bitmap.recycle();
    }
} 
```

但事情变得最糟糕，我`NullPointerException`在代码中指定的行上进行了第一次方向更改。

另一件事是为什么需要分配 16 MB 内存来创建高清位图？！我认为 1280 像素 x 800 像素 x 8（字节/像素）= 8 MB 那么为什么需要 16 MB？！（我指的是 LogCat 的第一行，它说“在 16384016 字节分配上内存不足。”和 16384016 字节 ~ 16 MB。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:48:44.133

只需将其添加到您的`mainfest.xml`

如果您的 android:targetSdkVersion="12" 或更少

```
 android:configChanges="orientation|keyboardHidden"> 
```

如果你的 android:targetSdkVersion="13" 或更多

```
 android:configChanges="orientation|keyboardHidden|screensize"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T13:26:57.150

的答案`configChanges`似乎暂时缓解了这个问题，但如果我们看一下 LogCat，我们会发现他有一个`OutOfMemoryException`.

这是在没有足够的内存分配时加载大位图的结果。

我建议您查看有关如何修复的 Android 文档：http: [//developer.android.com/training/displaying-bitmaps/index.html](http://developer.android.com/training/displaying-bitmaps/index.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-14T12:51:21.933

我想您已经解决了这个问题，但是由于您的回答，这是我找到的解决方案。

我为布局使用了两个不同的 ID，以及以下 OnConfigurationChanged 函数：

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
    BitmapDrawable drawable = null;
    if (findViewById(R.id.root_land) != null) {
        drawable = (BitmapDrawable) findViewById(R.id.root_land).getBackground();
    }
    if (findViewById(R.id.root_port) != null) {
        drawable = (BitmapDrawable) findViewById(R.id.root_port).getBackground();   

    }
    if (drawable != null){
        Bitmap bitmap = drawable.getBitmap();
        if (bitmap != null) {
            bitmap.recycle();
        }
    }
    super.onConfigurationChanged(newConfig);
    setContentView(R.layout.activity_main);
} 
```

在清单（进入活动）中，我把这个：

```
android:configChanges="orientation|keyboardHidden|screensize"> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T11:32:03.110

使用以下代码。

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);            

    myImage = findViewById(R.id.myImage);
    BitmapDrawable drawable = (BitmapDrawable) myImage.getDrawable();
    Bitmap bitmap = drawable.getBitmap();
    if (bitmap != null)
    {
        bitmap.recycle();
    }       
} 
```

并在清单中：

```
<activity
  ...
    android:configChanges="keyboardHidden|orientation"
  ...
>
</activity> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-06-22T13:57:29.647

我`System.gc()`在`public void onConfigurationChanged`方法中使用过：

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
    System.gc();
    super.onConfigurationChanged(newConfig);
    setContentView(R.layout.activity_main);
} 
```

# php - 如何在不刷新的情况下从提交的选择表单将数据发送到 *.php 文件

> ID：12330323
> 
> 赞同：0
> 
> 时间：2012-09-08T11:28:56.953
> 
> 标签：php, jquery, forms, select, refresh

我正在使用 Google Visualizator Geomap 进行混搭，我想对过滤器进行动态选择，以便每次都更改从 SQL 查询中检索到的信息，而无需任何“提交”按钮。

这是我的主页来源：

```
<?php 
require 'protoext.php'
?>
<script src="http://code.jquery.com/jquery-latest.js" type="text/javascript"></script>
  <script type='text/javascript' src='https://www.google.com/jsapi'></script>
    <script type='text/javascript'>

 google.load('visualization', '1', {'packages': ['geomap']});
   google.setOnLoadCallback(drawMap);

   function drawMap() {
      var data = new google.visualization.DataTable();
    data.addColumn('string', 'Code');
    data.addColumn('number', 'Value');
    data.addRows([
        <?php while($r = mysql_fetch_assoc($res)) {
                echo "['$r[COD]', $r[Value]],";
        } ?>
    ]);
      var options = {};
      options['dataMode'] = 'regions';
      options['region'] = 'IT';

      var container = document.getElementById('map_canvas');
      var geomap = new google.visualization.GeoMap(container);
      geomap.draw(data, options);
   };
</script> 
```

“protoext.php”中的源代码似乎工作得很好（萤火虫和地图输出没有显示错误）。

主要问题是使用 POST 方法将“性别”值发送到“protoext.php”的表单

```
<form method="post">
    <select name="gender" onchange="this.form.submit();">
        <option selected>Choose</option>
        <option value="total">total</option>
        <option value="male">male</option>
        <option value="female">female</option>      
    </select>
</form>

<div id='map_canvas'></div>
</div> 
```

正如我所说的那样，它可以工作，但是每次我选择一个新值时它都会不断刷新页面，这阻止了我向表单添加一些新的选择来改进地理地图的过滤。我知道为了防止刷新我必须使用 AJAX，并且我尝试了几种方法，但就像没有发送到 protoext.php 一样。

有人知道吗？预先感谢您的任何回复。

编辑

由于我进行的任何 AJAX 调用都无法正确解析，因此我将发布另一个 php 文件（protoext.php），也许我在函数之间存在冲突或只是不兼容问题。

```
<?php
$selection=$_POST["gender"];
$dbhost="localhost";
$dbuser="root";
$dbpass="";

$conn = mysql_connect($dbhost, $dbuser, $dbpass);
if(!$conn) die ("Error Mysql: ".mysql_error());

$sql= "USE csv_db";
$ok = mysql_query ($sql, $conn);

if(!$ok)
    die("imposs. select DB: ".mysql_error()); 

    $sql="SELECT COD, Value
FROM view_codes  //that is the view obtained from my database
WHERE  `Age` LIKE  '15+ years '
AND  `Qualification` LIKE  'totale'
AND `Home_Town` LIKE  'totale'
AND `Gender` LIKE  '$selection'
AND  `Period` LIKE  'T2-2012'";

echo "querySQL: $sql<br>"; 

$res=mysql_query($sql,$conn);
if (!$res)
    die ("Error query" .mysql_error());
?> 
```

* * *

编辑更新

我也尝试过这种方式，但仍然无法正常工作。

```
<form method="post">
        <select name="gender" onchange="this.form.submit(
       function (){
        $.ajax({
        type: "POST",
        url: "protoext.php",            //www.gautam.com?id=..&value1=..
        success:function(data){                                        
               alert("successfully submitted");
            }
          }); 
        }
    );"> 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:34:08.567

你可以使用ajax

```
$.ajax({
            type: "POST",
            url: "Your url here",            //www.gautam.com?id=..&value1=..
            success:function(data){                                        
                alert("successfully submitted");
            }
          }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T11:40:52.337

在您的视图文件中

```
<script>
    $('document').ready(function(){
          $.ajax({
        type: "POST",
        url: "Your url here",            //www.gautam.com?id=..&value1=..
        success:function(data){                                        
            alert("successfully submitted");
        }
      });

  })
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T11:39:01.817

```
$('form').on('submit', function() {
    $.post('http://example.com', $(this).serialize(), function() {
       // Done
    });
}); 
```

# javascript - 代码镜像。禁用垂直滚动条

> ID：12330326
> 
> 赞同：9
> 
> 时间：2012-09-08T11:29:16.793
> 
> 标签：javascript, syntax-highlighting, codemirror

我目前正在使用 CodeMirror 在浏览器的文本区域中编辑 CODE。如果我有超过 20 行代码，它会在右侧添加一个垂直滚动条。但我不需要这个滚动条。相反，我需要编辑器大小垂直增长。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-12-18T21:23:32.957

在 CodeMirror 3 中，有一个禁用滚动条的选项：`scrollbarStyle: "null"`

从文档中：

> 滚动条样式：字符串
> 
> 选择滚动条实现。默认为“native”，显示原生滚动条。核心库还提供了“null”样式，它完全隐藏了滚动条。插件可以实现额外的滚动条模型。

将其与：

*   自动高度：`height: auto`& `viewportMargin: Infinity`（示例：[http](http://codemirror.net/demo/resize.html) ://codemirror.net/demo/resize.html ）
*   包装线：`lineWrapping: true`

然后控制父div的高度/宽度效果很好

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-12-26T11:15:44.873

CodeMirror[文档](http://codemirror.net/doc/manual.html)讨论了一种样式**CodeMirror-scroll**，它控制是否出现滚动条，以及 textarea 是否扩展以适应内容。具体来说，它说：

> **CodeMirror-scroll** 编辑器是否滚动（溢出：自动+固定高度）。默认情况下，确实如此。将 CodeMirror 类设置为 height: auto 并赋予该类 overflow-x: auto; 溢出-y：隐藏；将导致编辑器调整大小以适应其内容。

因此，想法是添加到您自己的 CSS 中，例如：

```
.CodeMirror {
  border: 1px solid #eee;
  height: auto;
}
.CodeMirror-scroll {
  overflow-y: hidden;
  overflow-x: auto;
} 
```

如[CodeMirror](http://codemirror.net/demo/resize.html) **-scroll**样式文档随附的官方演示中所示。

### 什么对我有用：

对于我使用 CodeMirror 2.34 的个人情况，我所做的只是将以下样式添加到我自己的样式表中：

```
div.CodeMirror-scroll { height: auto!important; overflow: visible; } 
```

### 代码镜像 3：

在我对 CodeMirror 3 的简短初始测试中，上述两种技术都不起作用，我仍然得到滚动条。有趣的是，因为您认为有关主题的官方文档是有效的 - 除非 CodeMirror 3 稍微改变了它的样式并且文档还没有赶上……

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-04-18T14:42:20.990

对我来说，将 codemirror textarea 包裹在一个元素上`display:flex`，修复了不需要的水平滚动问题：

```
<div style='display: flex'>
  <textarea></textarea>
</div>
<script>
//codemirror setup
</script> 
```

# python - wxpython 图真的很小

> ID：12330327
> 
> 赞同：0
> 
> 时间：2012-09-08T11:29:20.543
> 
> 标签：python, wxpython

所以我做了一个小应用程序，我试图让它绘制一个图表。

我一直在关注这里的示例：[http](http://wiki.wxpython.org/AnotherTutorial#Plotting) : //wiki.wxpython.org/AnotherTutorial#Plotting，这样我就可以启动并运行一个简单的线图。

它可以工作，但是图表非常小（可能是sizer的问题）。[http://i.imgur.com/OsyBK.png](http://i.imgur.com/OsyBK.png)

这是我的图表代码：

```
class PageTwo(wx.Panel):
    def __init__(self, parent):
        wx.Panel.__init__(self, parent)
        canvas = wx.lib.plot.PlotCanvas(self)
        line = plot.PolyLine([(1, 0), (1,5)], legend='', colour='gray', width=25)
        plotter = plot.PlotGraphics([line], 'Bar Graph', 'X Axis', 'Y Axis')
        canvas.Draw(plotter,  xAxis=(0,15), yAxis=(0,15)) 
```

如果有人可以提出一个很棒的解决方案，谢谢。

编辑：已解决

```
class PageTwo(wx.Panel):
    def __init__(self, parent):
        wx.Panel.__init__(self, parent)

        sizer = wx.BoxSizer(wx.VERTICAL)
        self.canvas = wx.lib.plot.PlotCanvas(self, 0, size=(400, 400))
        sizer.Add(self.canvas, 1, wx.EXPAND, 0)
        self.SetSizer(sizer)        

        line = plot.PolyLine([(1, 0), (1,5)], legend='', colour='gray', width=25)
        plotter = plot.PlotGraphics([line], 'Bar Graph', 'X Axis', 'Y Axis')
        self.canvas.Draw(plotter,  xAxis=(0,15), yAxis=(0,15)) 
```

# c - 从左边数连续 1 位的个数

> ID：12330330
> 
> 赞同：0
> 
> 时间：2012-09-08T11:30:01.203
> 
> 标签：c, integer, bit-manipulation, 32-bit, bit

我被困在这个问题上：假设我们有 32 位整数，编写一个 C 函数来计算从左边开始的连续 1 位的数量。例如：

```
leftCount(0xFF000000) = 8
leftCount(0x0FFFFFFF) = 0 (because the number starts with 0)
leftCount(-1) = 32 
```

在函数中，我可以使用逻辑运算符，例如！~ & ^ | + << >>

不允许使用循环和条件结构。

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T11:39:18.540

在 GCC 中，您可以使用内置函数：

> 内置功能：[`int __builtin_clz (unsigned int x)`](http://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html)
> 
> 返回 中前导 0 位的数量`x`，从最高有效位位置开始。如果`x`为 0，则结​​果未定义。

您必须使用二进制否定来否定输入：`~x`（0 将变为 1，反之亦然）。

* * *

这是一个更学术的解决方案：

```
#include <stdio.h>
#include <stdint.h>

int leftCount (unsigned int value) {
    if (~value == 0) {
        return 32; // you said your ints were 32 bits, so the code assumes that
    }
    int result = 0;
    while (value >> 31 == 1) { // test if highest bit is set
        value <<= 1; // shift the input to the left
        ++result; // one more bit was seen
    }
    return result;
}

int main (void) {
    unsigned int value;
    while (scanf ("%i", &value) == 1) {
        printf ("leftCount(0x%x) == %u\n", value, leftCount(value));
    }
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-08T11:33:33.600

您可以通过评估来测试 bit`x`是否设置了值。如果未设置该位，则为零。`y``y & (1 << x)`

使用它，您可以从 31 循环到 0，检查每个位是否已设置，当您到达未设置的位时停止。您应该能够自己编写代码。

您可以通过二进制搜索来加快速度。您可以通过评估来检查前 16 位是否已设置`(y & 0xFFFF0000) == 0xFFFF0000`。如果是，那么您可以以类似的方式检查接下来的 8 位；如果不是，那么您可以检查前 8 位。使用此方法向下递归，您将拥有更快的算法。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-08T11:40:30.073

有一个快速的函数来计算前导*零*的数量，并且很容易将这个问题转换为：补充输入。

```
int leftCount = input == 0 ? 0 : __builtin_clz(~input); 
```

那里甚至没有算法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-08T16:44:10.437

我在互联网上找到了自己的解决方案。但我的要求是使用不超过 50 个逻辑运算符，所以请任何人帮我优化这个功能。

```
int bit_count_from_left(int x) {
/* Shift every bit to the rightmost bit and & it with 1, then start from the leftmost bit and determine 
 * whether a given bit and all the bits to its left are set to 1\. */
    int lb01 = ((x >> 31) & 1); int lb02 = ((x >> 30) & 1); int lb03 = ((x >> 29) & 1);
    int lb04 = ((x >> 28) & 1); int lb05 = ((x >> 27) & 1); int lb06 = ((x >> 26) & 1);
    int lb07 = ((x >> 25) & 1); int lb08 = ((x >> 24) & 1); int lb09 = ((x >> 23) & 1);
    int lb10 = ((x >> 22) & 1); int lb11 = ((x >> 21) & 1); int lb12 = ((x >> 20) & 1);
    int lb13 = ((x >> 19) & 1); int lb14 = ((x >> 18) & 1); int lb15 = ((x >> 17) & 1);
    int lb16 = ((x >> 16) & 1); int lb17 = ((x >> 15) & 1); int lb18 = ((x >> 14) & 1);
    int lb19 = ((x >> 13) & 1); int lb20 = ((x >> 12) & 1); int lb21 = ((x >> 11) & 1);
    int lb22 = ((x >> 10) & 1); int lb23 = ((x >> 9) & 1);  int lb24 = ((x >> 8) & 1);
    int lb25 = ((x >> 7) & 1);  int lb26 = ((x >> 6) & 1);  int lb27 = ((x >> 5) & 1);
    int lb28 = ((x >> 4) & 1);  int lb29 = ((x >> 3) & 1);  int lb30 = ((x >> 2) & 1);
    int lb31 = ((x >> 1) & 1);  int lb32 = ((x) & 1);
    int bool01 = lb01;          int bool02 = bool01 & lb02; int bool03 = bool02 & lb03;
    int bool04 = bool03 & lb04; int bool05 = bool04 & lb05; int bool06 = bool05 & lb06;
    int bool07 = bool06 & lb07; int bool08 = bool07 & lb08; int bool09 = bool08 & lb09;
    int bool10 = bool09 & lb10; int bool11 = bool10 & lb11; int bool12 = bool11 & lb12;
    int bool13 = bool12 & lb13; int bool14 = bool13 & lb14; int bool15 = bool14 & lb15;
    int bool16 = bool15 & lb16; int bool17 = bool16 & lb17; int bool18 = bool17 & lb18;
    int bool19 = bool18 & lb19; int bool20 = bool19 & lb20; int bool21 = bool20 & lb21;
    int bool22 = bool21 & lb22; int bool23 = bool22 & lb23; int bool24 = bool23 & lb24;
    int bool25 = bool24 & lb25; int bool26 = bool25 & lb26; int bool27 = bool26 & lb27;
    int bool28 = bool27 & lb28; int bool29 = bool28 & lb29; int bool30 = bool29 & lb30;
    int bool31 = bool30 & lb31; int bool32 = bool31 & lb32;
    int result = bool01 + bool02 + bool03 + bool04 + bool05 + bool06 + bool07 + bool08 + bool09 + bool10
        + bool11 + bool12 + bool13 + bool14 + bool15 + bool16 + bool17 + bool18 + bool19 + bool20
        + bool21 + bool22 + bool23 + bool24 + bool25 + bool26 + bool27 + bool28 + bool29 + bool30
        + bool31 + bool32;
    return result;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-08T12:11:39.820

剧透：

```
#include <limits.h>
#include <stdint.h>
#include <stdio.h>

unsigned naive_leading1bit_count(uint32_t val)
{
unsigned cnt;

for (cnt=0; val & (1u << (sizeof val*CHAR_BIT-1)); val <<=1 ) {
        cnt += 1;
        }
return cnt;
}

int main(void)
{
unsigned res;
uint32_t uuu;

for (uuu = 0xf; uuu; uuu <<=1) {
        res = naive_leading1bit_count( uuu );
        printf("%x: %u\n", uuu, res);
        }

return 0;
} 
```

# jquery - 在 AJAX 函数中添加 CSS

> ID：12330333
> 
> 赞同：0
> 
> 时间：2012-09-08T11:30:21.367
> 
> 标签：jquery, css

我有一个 AJAX 函数来隐藏和显示 HTML 中的表单字段。我想在 AJAX 函数中添加一些 CSS。

```
<script>
    $(function() {

        $('#advo_other').hide();
        $('#advocate').change(function() {

            var val = $(this).val();

            $('#advo_other').hide();

            switch (val) {
                case 'Other':
                    $('#advocate') // want to add css there......
                    $('#advo_other').show();
                    break; 
            }
        });
    });
</script> 
```

样式如下：

```
<style type="text/css">
    .fade {
        color: #CCC;
        border-color:#CCC;
    }
</style> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:33:55.673

您可以[使用 Jquery 将 CSS](http://api.jquery.com/css/)添加到任何元素，如下所示：

```
$('#advocate').css('color', '#005DAA'); 
```

或者，您可以向元素添加具有样式规则的类

```
$('#advocate').addClass('fade'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T11:35:17.500

使用 addClass 功能。

所以你将拥有：

```
<script>
    $(function() {

        $('#advo_other').hide();
        $('#advocate').change(function() {

            var val = $(this).val();

            $('#advo_other').hide();

            switch (val) {
                case 'Other':
                    $('#advocate').addClass("fade");
                    $('#advo_other').show();
                    break; 
            }
        });
    });
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T11:37:57.667

尝试;

```
$(function() {
  $('#advo_other').hide();
  $('#advocate').change(function() {
    var val = $(this).val();
    $('#advo_other').hide();
    switch (val){
      case 'Other':
      $('#advocate').addClass("fade");
      $('#advo_other').show();
      break;
    }
  });
}); 
```

`$('#advocate')`用于选择具有 id 的元素`advocate`。您可以在 CSS 中创建分类以设置元素样式。用于`addClass("class_name")`向元素添加一些类样式并`.removeClass("class_name")`删除类样式。

# php - PHP试图在类中创建动态变量

> ID：12330341
> 
> 赞同：4
> 
> 时间：2012-09-08T11:31:12.220
> 
> 标签：php, class, variables, dynamic

我需要直接从数据库中构建一个包含大量变量的类，为简单起见，我们将它们命名为“userX”，我对 ORM 进行了一些研究，但它在我的脑海中。

本质上我认为我可以使用我的程序代码

```
for ($i=0; $i<100; $i++) {
public ${'user'.$i};
} 
```

但是，在一堂课

```
class test() {

  private $var1;

  for ($i=0; $i<10000; $i++) {
  public ${'user'.$i};
  }

  function __constructor .....

} 
```

显然不是..但它给我留下了同样的问题，我怎样才能添加 $user0、$user1、$user2 等，而不必输入所有 10k ......

显然，从数据库中获取名称会容易 1000 倍，但同样，这看起来更难编码。我应该扣紧并抓住它们所有的 ORM 风格吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-09-08T11:42:11.410

您可以简单地使用魔术访问器来拥有任意数量的实例属性：

```
class test{

   private $data;

   public function __get($varName){

      if (!array_key_exists($varName,$this->data)){
          //this attribute is not defined!
          throw new Exception('.....');
      }
      else return $this->data[$varName];

   }

   public function __set($varName,$value){
      $this->data[$varName] = $value;
   }

} 
```

然后你可以像这样使用你的实例：

```
$t = new test();
$t->var1 = 'value';
$t->foo   = 1;
$t->bar   = 555;

//this should throw an exception as "someVarname" is not defined
$t->someVarname; 
```

并添加很多属性：

```
for ($i=0;$i<100;$i++) $t->{'var'.$i} = 'somevalue'; 
```

您还可以使用给定的一组属性初始化一个新创建的实例

```
//$values is an associative array 
public function __construct($values){
    $this->data = $values;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-12-18T22:43:54.140

试试**$this->{$varname}**

```
class test
{

    function __construct(){

       for($i=0;$i<100;$i++)
       {

         $varname='var'.$i;
         $this->{$varname}=$i;
       }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-13T10:34:42.017

您可以使用变量变量 ($$var) - 一个变量的内容用作另一个变量的名称 (double $$)

因此不是 $this->varname 而是**$this->$varname**。

```
class test
{
   for($i=0;$i<100;$i++)
   {
     $varname='var'.$i;
     $this->$varname=$i;
   }
} 
```

这将动态创建 100 个变量，名称为 $var0, $var1 ...

# algorithm - Voronoi 图，Delaunay 三角剖分 - 数据结构

> ID：12330342
> 
> 赞同：2
> 
> 时间：2012-09-08T11:31:12.850
> 
> 标签：algorithm, data-structures, geometry, delaunay, voronoi

我想计算 Voronoi 及其对偶 Delaunay 三角剖分。我正在使用 Watson Bowyer 算法。之后我的目标是计算 alpha 形状（凹壳）。所以我需要快速访问给定点的voronoi单元，邻居......

你的 Voronoi/Delaunay 算法使用了哪些数据结构？我曾想过使用带有联合查找操作的不相交集数据结构，这样我就可以“绑定”到一个父节点，原始数据集中的点 p，Vp 中的点集。然而，Voronoi 图中的一个点“属于”几个 Voronoi 单元。

你有什么建议，或者你能暗示一些好的参考吗？

问候。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T11:47:39.470

我建议你看一下半边数据结构：

[http://www.flipcode.com/archives/The_Half-Edge_Data_Structure.shtml](http://www.flipcode.com/archives/The_Half-Edge_Data_Structure.shtml)

半边数据结构用于许多应用程序和框架。它的一种实现可以在 GEL 框架中找到：

[http://www2.imm.dtu.dk/projects/GEL/](http://www2.imm.dtu.dk/projects/GEL/)

# java - JPA 并发事务策略

> ID：12330343
> 
> 赞同：0
> 
> 时间：2012-09-08T11:31:14.090
> 
> 标签：java, jakarta-ee, jpa, concurrency

我正在使用 JPA 2.0 - EclipseLink 开发仓库管理系统，我遇到了实现并发事务的需要，目前我正在实现时间戳差异以验证上次更改数量的时间：添加、删除、转移。

这种策略似乎有点缺陷，并且需要大量手动验证，这可能会产生错误，是否有 JPA 框架提供的替代方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T12:12:16.147

据我了解，您正在尝试使用时间戳实现乐观锁定策略。

JPA 在版本字段的帮助下提供了开箱即用的乐观锁定机制。基本上，您的实体中有一个版本字段（、`short`或），在实体的每次修改时都会增加/设置。`int``long``Timestamp`

如果实体在保存时的版本与加载时的版本不同，`OptimisticLockingException`则抛出一个意味着另一个用户/线程在两者之间修改了实体。您可以捕获此异常并决定做什么：

*   告诉保存第二个的用户重新开始修改
*   合并修改（如果可能）
*   覆盖

这取决于用例。

另请参阅：[关于乐观锁定的 oracle javaee 6 教程](http://docs.oracle.com/javaee/6/tutorial/doc/gkjhz.html#gkjjc)

# jquery - 如何使用 jquery fancybox 在弹出窗口中播放视频

> ID：12330344
> 
> 赞同：1
> 
> 时间：2012-09-08T11:31:21.383
> 
> 标签：jquery, asp.net-mvc-3, fancybox

我正在使用 C# 处理 asp.net mvc。我正在尝试实现视频库，其中视频列表来自数据库。现在，当我单击任何视频时，我想在弹出窗口中播放视频。为此我使用了fancybox jquery插件，例如，

```
 $(document).ready(function(){
    $("a#videolink").click(function(){
      url=$(this).data('url');
      });

    $("a#videolink").fancybox({
          frameWidth: 480, 
          frameHeight: 295,
          overlayShow: true,
          overlayOpacity: 0.8,
          'content': '<div><div class="video-js-box vim-css" id="divVideo">' +
                                '<video id="example_video_1" class="video-js" width="635" height="425" controls="controls" preload="auto" poster="' + url + '.png">'  +
'<source="/uploads/"'+url+'"/>'
                                  '<!-- Flash Fallback. Use any flash video player here. Make sure to keep the vjs-flash-fallback class. -->' +
                                  '<object id="flash_fallback_1" class="vjs-flash-fallback" width="640" height="480" type="application/x-shockwave-flash"' +
                                    'data="http://releases.flowplayer.org/swf/flowplayer-3.2.1.swf">' +
                                    '<param name="movie" value="http://releases.flowplayer.org/swf/flowplayer-3.2.1.swf" />' +
                                    '<param name="allowfullscreen" value="true" />' +
                                    '<param name="flashvars" value=\'config={"playlist":["' + url + '.png", {"url": "http://video-js.zencoder.com/oceans-clip.mp4","autoPlay":false,"autoBuffering":true}]}\' />' +
                                    '<!-- Image Fallback. Typically the same as the poster image. -->' +
                                    '<img src="' + url + '.png" width="632" height="15" alt="Poster Image"' +
                                     ' title="No video playback capabilities." />' +
                                  '</object>' +
                                '</video>' +
                                '</div></div>',
                    'onComplete': function () {
                       $("#fancybox-inner").css({ 'overflow': 'hidden' });
                       VideoJS.setupAllWhenReady();
                    },
                    'onClosed': function () { $("#fancybox-inner").empty(); }
                });
        return false;
    }); 
```

但我无法播放视频。请指导我正确使用fancybox插件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T13:03:41.437

我刚刚将全部花式框代码放在锚标记点击事件中。然后它就像一个魅力。喜欢..

```
$(document).ready(function(){
    $("a#videolink").click(function(){
      url=$(this).data('url');
$("a#videolink").fancybox({
          frameWidth: 480, 
          frameHeight: 295,
          overlayShow: true,
          overlayOpacity: 0.8,
          'content': '<div><div class="video-js-box vim-css" id="divVideo">' +
                                '<video id="example_video_1" class="video-js" width="635" height="425" controls="controls" preload="auto" poster="' + url + '.png">'  +
'<source="/uploads/"'+url+'"/>'
                                  '<!-- Flash Fallback. Use any flash video player here. Make sure to keep the vjs-flash-fallback class. -->' +
                                  '<object id="flash_fallback_1" class="vjs-flash-fallback" width="640" height="480" type="application/x-shockwave-flash"' +
                                    'data="http://releases.flowplayer.org/swf/flowplayer-3.2.1.swf">' +
                                    '<param name="movie" value="http://releases.flowplayer.org/swf/flowplayer-3.2.1.swf" />' +
                                    '<param name="allowfullscreen" value="true" />' +
                                    '<param name="flashvars" value=\'config={"playlist":["' + url + '.png", {"url": "http://video-js.zencoder.com/oceans-clip.mp4","autoPlay":false,"autoBuffering":true}]}\' />' +
                                    '<!-- Image Fallback. Typically the same as the poster image. -->' +
                                    '<img src="' + url + '.png" width="632" height="15" alt="Poster Image"' +
                                     ' title="No video playback capabilities." />' +
                                  '</object>' +
                                '</video>' +
                                '</div></div>',
                    'onComplete': function () {
                       $("#fancybox-inner").css({ 'overflow': 'hidden' });
                       VideoJS.setupAllWhenReady();
                    },
                    'onClosed': function () { $("#fancybox-inner").empty(); }
                });
        return false;
}); 
```

# android - 应用程序崩溃并带我这个错误

> ID：12330349
> 
> 赞同：0
> 
> 时间：2012-09-08T11:31:41.790
> 
> 标签：android

我有以下问题。应用程序崩溃并显示错误 sladnje，欢迎提出想法

```
09-07 20:10:55.896: D/dalvikvm(1347): GC freed 782 objects / 55712 bytes in 109ms
09-07 20:10:56.066: D/dalvikvm(1347): GC freed 162 objects / 7192 bytes in 47ms
09-07 20:10:56.116: W/dalvikvm(1347): threadid=15: thread exiting with uncaught exception (group=0x4001b188)
09-07 20:10:56.126: E/AndroidRuntime(1347): Uncaught handler: thread Thread-9 exiting due to uncaught exception
09-07 20:10:56.126: E/AndroidRuntime(1347): java.lang.NullPointerException
09-07 20:10:56.126: E/AndroidRuntime(1347):     at aa.bb.cc.Panel.onDraw(Panel.java:372)
09-07 20:10:56.126: E/AndroidRuntime(1347):     at aa.bb.cc.TutorialThread.run(Panel.java:502)
09-07 20:10:56.146: I/dalvikvm(1347): threadid=7: reacting to signal 3
09-07 20:10:56.218: E/dalvikvm(1347): Unable to open stack trace file '/data/anr/traces.txt': Permission denied
09-07 20:10:57.916: I/Process(1347): Sending signal. PID: 1347 SIG: 9 
```

AndroidPaint.java

包aa.bb.cc；

```
public class AndroidPaint extends Activity {

    static final int REQUEST_CODE = 1001;

    public Shape currentGraphicObject;

    public int ShapeObject_to_be_created;

    public  int ShapeLine = 1;
    public  int ShapeRect = 2;
    public  int ShapeCircle = 3;
    public int ShapeOval = 4;
    public  int ShapeFreehand =5;
    public  int ShapeErase = 6;

    public  Paint mPaint;

    public  float BrushWidth;

    public double[] color;
    public Panel p;
    public int number_of_graphicObjects;

    public boolean shapemenuclicked;
    public boolean colormenuclicked;
    public  boolean erasemenuclicked;
    public boolean brushwidthmenuclicked;

    public ArrayList<Shape> graphicobjects;

    private Bitmap wallPaperBitmap;

    static WallpaperManager wallpaperManager;

    public  int wallpaperHeight;

    public     int wallpaperWidth;

    private String mImagePath = Environment.getExternalStorageDirectory() + "/androidpaint";

    File file;

    public  Canvas bitmapCanvas;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);       

        color = new double[3];

        requestWindowFeature(Window.FEATURE_NO_TITLE);

        graphicobjects = new ArrayList<Shape>();

        currentGraphicObject = new Shape();

        mPaint = new Paint();

        InitializePaint();

        shapemenuclicked = false;
        colormenuclicked = false;

        BrushWidth = 3;

        Display display = getWindowManager().getDefaultDisplay();

        wallpaperHeight = display.getHeight();

        wallpaperWidth = display.getWidth();

        wallPaperBitmap = Bitmap.createBitmap(wallpaperWidth, wallpaperHeight, Bitmap.Config.ARGB_8888);

        bitmapCanvas = new Canvas(wallPaperBitmap);
    }

    public void onPause(){
        super.onPause();
        p.surfaceDestroyed(p.getHolder());

    }

    public void onStop(){
        super.onStop();
        p.surfaceDestroyed(p.getHolder());
        /*graphicobjects.clear();
        number_of_graphicObjects = 0;*/
    }

    public void onDestroy(){
        super.onDestroy();
        p.surfaceDestroyed(p.getHolder());

        graphicobjects.clear();
        number_of_graphicObjects = 0;
    }

   public void onResume(){
       super.onResume();

    }

    public void onStart(){
        super.onStart();

        p = new Panel(this,null);
       // setContentView(p/*new Panel(this)*/);
     setContentView(R.layout.main);
      p=(Panel)findViewById(R.id.yourID) ;

      /*   if (getLastNonConfigurationInstance() != null)
         {
            //GraphicObject = (Shape)getLastNonConfigurationInstance();
             graphicobjects.set(number_of_graphicObjects-1, (Shape)getLastNonConfigurationInstance());
         }
         int n = graphicobjects.size();
         if (getLastNonConfigurationInstance() != null)
         {
            //GraphicObject = (Shape)getLastNonConfigurationInstance();
            //graphicobjects.set(number_of_graphicObjects-1, (Shape)getLastNonConfigurationInstance());
            //graphicobjects.addAll((Shape)getLastNonConfigurationInstance());
             Object[] temp = getLastNonConfigurationInstance();
            for(int i = 0; i<n; i++){
                graphicobjects.set(i,(Shape)getLastNonConfigurationInstance());
            }
         }*/
    }

    public void onSaveInstanceState(Bundle savedInstanceState){
        //savedInstanceState.p
    }

    public void onRestoreInstanceState(Bundle savedInstanceState){

    }

    //test
   /* public Object onRetainNonConfigurationInstance() 
    {
     // if (GraphicObject != null) // Check that the object exists
          //return(GraphicObject);
        //if(!graphicobjects.isEmpty())
            return graphicobjects.toArray();//.get(number_of_graphicObjects-1);
     // return super.onRetainNonConfigurationInstance();
    }*/

    private void InitializePaint()
    {
        mPaint.setDither(true);

        mPaint.setColor(Color.rgb(100, 100,100));

        mPaint.setStyle(Paint.Style.STROKE);

        mPaint.setStrokeJoin(Paint.Join.ROUND);

        mPaint.setStrokeCap(Paint.Cap.ROUND);

        mPaint.setStrokeWidth(BrushWidth);  

    }
    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        MenuInflater inflater = getMenuInflater();
        inflater.inflate(R.menu.menu, menu);
        return true;
        }
public boolean onOptionsItemSelected(MenuItem item){

    switch(item.getItemId()){
    case R.id.itemLine:
        ShapeObject_to_be_created = ShapeLine;
        //GraphicObject = new Line();
        shapemenuclicked = true;
        erasemenuclicked = false;
        brushwidthmenuclicked = false;
        return true;

    case R.id.itemFreehand:
        ShapeObject_to_be_created = ShapeFreehand;
        //GraphicObject = new FreeHand();
        shapemenuclicked = true;
        erasemenuclicked = false;
        brushwidthmenuclicked = false;
        return true;

    case R.id.itemRectangle:
        ShapeObject_to_be_created = ShapeRect;
        //GraphicObject = new Rectangle();
        shapemenuclicked = true;
        erasemenuclicked = false;
        brushwidthmenuclicked = false;
        return true;

    case R.id.itemCircle:
        ShapeObject_to_be_created = ShapeCircle;
        //GraphicObject = new Circle();
        shapemenuclicked = true;
        erasemenuclicked = false;
        brushwidthmenuclicked = false;
        return true;

    case R.id.itemOval:
        ShapeObject_to_be_created = ShapeOval;
        //GraphicObject = new Oval();
        shapemenuclicked = true;
        erasemenuclicked = false;
        brushwidthmenuclicked = false;
        return true;

    case R.id.itemColor:
        LaunchColorPicker();
        colormenuclicked = true;
        erasemenuclicked = false;
        brushwidthmenuclicked = false;
        return true;

    case R.id.itemErase:
        ShapeObject_to_be_created = ShapeErase;
        //GraphicObject = new Erase();
        erasemenuclicked = true;
        shapemenuclicked = false;
        colormenuclicked = false;
        brushwidthmenuclicked = false;
        //BrushWidth = 8;
        return true;

    case R.id.itemBrushWidth3:
        BrushWidth = 3;
        brushwidthmenuclicked = true;
        return true;

    case R.id.itemBrushWidth4:
        BrushWidth = 6;
        brushwidthmenuclicked = true;
        return true;

    case R.id.itemBrushWidth5:
        BrushWidth =9;
        brushwidthmenuclicked = true;
        return true;

    case R.id.itemBrushWidth6:
        BrushWidth = 12;
        brushwidthmenuclicked = true;
        return true;

    case R.id.itemSetWallPaper:
        //wallPaperBitmap = Bitmap.createBitmap(p.getWidth(),p.getHeight(),Bitmap.Config.ARGB_8888);
        //Bitmap temp = p.getDrawingCache(true);
        //wallPaperBitmap = Bitmap.createBitmap(temp);
        //Canv
        //Canvas canvas = p.getHolder().lockCanvas();
        //p.getHolder().lockCanvas().drawBitmap(wallPaperBitmap, 0,0, mPaint);
        //p.draw(canvas);
        //try{
            //getApplicationContext().setWallpaper(wallPaperBitmap);
        //}
        //catch(IOException e){
            //e.printStackTrace();
        //}
        //p.saveScreenshot();
        //wallPaperBitmap = Bitmap.createBitmap(this.p.getWidth(), this.p.getHeight(), Bitmap.Config.ARGB_8888);
        //File file = new File(mScreenshotPath + "/" + "screeshot.jpg");
        /*try{
        FileInputStream fIS = new FileInputStream(file); 
        //wallPaperBitmap.compress(Bitmap.CompressFormat.JPEG, 100, fIS);
        fIS.close();
        } catch (FileNotFoundException e) {
        Log.e("Panel", "FileNotFoundException", e);
        } catch (IOException e) {
        Log.e("Panel", "IOEception", e);
        }*/

        return true;

    case R.id.itemSaveImage:

         Calendar currentDate = Calendar.getInstance();
          SimpleDateFormat formatter= new SimpleDateFormat("yyyyMMMddHmmss");
          String dateNow = formatter.format(currentDate.getTime());
          file = new File(mImagePath + "/" + dateNow +".9.png");
          FileOutputStream fos;
          try {
            fos = new FileOutputStream(file);
            wallPaperBitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);
            fos.close();
          } catch (FileNotFoundException e) {
            Log.e("Panel", "FileNotFoundException", e);
          } 
          catch (IOException e) {
            Log.e("Panel", "IOEception", e);
        }
    }

    return false;
} 

private void LaunchColorPicker(){
    Intent launchcolorpicker = new Intent();
    launchcolorpicker.setClassName("somitsolutions.training.android.colorpicker", "somitsolutions.training.android.colorpicker.ColorPicker");
    launchcolorpicker.setAction("somitsolutions.training.android.colorpicker.android.intent.action.COLORPICKER");
    launchcolorpicker.addCategory("CATEGORY_DEFAULT");
    launchcolorpicker.setType("vnd.somitsolutions.color/vnd.somitsolutions.color-value");

    try {
        startActivityForResult(launchcolorpicker,REQUEST_CODE);

    }
    catch(ActivityNotFoundException e){
        Log.e("IntentExample", "Activity could not be started...");
    }   
}

public void onActivityResult(int requestcode, int resultcode, Intent result ) {

    if(requestcode == REQUEST_CODE){
        if(resultcode == RESULT_OK){
            color[0] = (result.getDoubleArrayExtra("somitsolutions.training.android.colorpicker.color_of_the_shape"))[0];
            color[1] = (result.getDoubleArrayExtra("somitsolutions.training.android.colorpicker.color_of_the_shape"))[1];
            color[2] = (result.getDoubleArrayExtra("somitsolutions.training.android.colorpicker.color_of_the_shape"))[2];
            //mPaint.setColor(Color.rgb((int)color[0], (int)color[1],(int)color[2]));
            //GraphicObject.setPaintColor((int)color[0], (int)color[1],(int)color[2]);

            //test
            //onStart();
        }
    }
}} 
```

调色板.java

```
 package aa.bb.cc;

public   class Panel extends SurfaceView implements  Callback {
private Shape currentGraphicObject;

AndroidPaint a;

    public Panel(Context context,  AttributeSet attributeSet) {

        super(context, attributeSet);
        getHolder().addCallback(this);

        _thread = new TutorialThread(getHolder(), this);

        setFocusable(true);
    Bitmap.createBitmap(this.getWidth(),this.getHeight(),Bitmap.Config.ARGB_8888);
       setDrawingCacheEnabled(true);
    }

    public Panel(Context context) {

        super(context);
        getHolder().addCallback(this);

      _thread = new TutorialThread(getHolder(), this);

        setFocusable(true);
     Bitmap.createBitmap(this.getWidth(),this.getHeight(),Bitmap.Config.ARGB_8888);
       setDrawingCacheEnabled(true);
    }

    public ArrayList<Shape> getGraphicObjects(){
        return a.graphicobjects;
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        //if(shapemenuclicked == true && erasemenuclicked == false){
            synchronized (_thread.getSurfaceHolder()) {

                if(event.getAction() == MotionEvent.ACTION_DOWN){

                    if(a.shapemenuclicked == true && a.erasemenuclicked == false){
                        //if(GraphicObject instanceof Line){
                        if(a.ShapeObject_to_be_created == a.ShapeLine){
                            currentGraphicObject = new Line();

                            ((Line) currentGraphicObject).getBegin().setX(event.getX());
                            //((Line)(GraphicObject).getBegin().setX(event.getX()));//.setX(event.getX());
                            //begin.setY(event.getY());
                            ((Line) currentGraphicObject).getBegin().setY(event.getY());
                        }

                        //if(GraphicObject instanceof FreeHand){
                        if(a.ShapeObject_to_be_created == a.ShapeFreehand){ 
                            currentGraphicObject = new FreeHand();

                            ((FreeHand)currentGraphicObject).getPath().moveTo(event.getX(), event.getY());

                            ((FreeHand)currentGraphicObject).getPath().lineTo(event.getX(), event.getY());

                        }

                        if(a.ShapeObject_to_be_created == a.ShapeRect){ 

                            currentGraphicObject = new Rectangle();
                            Point temp = new Point(event.getX(), event.getY());
                            ((Rectangle) currentGraphicObject).settemppointOfOneEndRectangle(temp);
                        }

                        if(a.ShapeObject_to_be_created == a.ShapeCircle){   
                            currentGraphicObject = new Circle();
                            ((Circle)currentGraphicObject).getOneEndOfTheCircle().setX(event.getX());
                            ((Circle)currentGraphicObject).getOneEndOfTheCircle().setY(event.getY());
                        }

                        if(a.ShapeObject_to_be_created == a.ShapeOval){
                            currentGraphicObject = new Oval();
                            ((Oval)currentGraphicObject).getoneEndOfTheOval().setX(event.getX());
                            ((Oval)currentGraphicObject).getoneEndOfTheOval().setY(event.getY());
                        }

                    }

                    if(a.shapemenuclicked == false && a.erasemenuclicked == true){

                        if(a.ShapeObject_to_be_created == a.ShapeErase){    
                            currentGraphicObject = new Erase();

                            ((Erase)currentGraphicObject).getPath().moveTo(event.getX(), event.getY());

                            ((Erase)currentGraphicObject).getPath().lineTo(event.getX(), event.getY());

                        }
                    }

                }
                else if(event.getAction() == MotionEvent.ACTION_MOVE){

                    if(a.shapemenuclicked == true && a.erasemenuclicked == false){

                        if(a.ShapeObject_to_be_created == a.ShapeFreehand){
                            ((FreeHand)currentGraphicObject).getPath().lineTo(event.getX(), event.getY());
                        }

                        if(a.ShapeObject_to_be_created == a.ShapeLine){

                        }

                        if(a.ShapeObject_to_be_created == a.ShapeRect){

                        }
                        if(a.ShapeObject_to_be_created == a.ShapeCircle){

                        }

                        if(a.ShapeObject_to_be_created == a.ShapeOval){

                        }
                    }

                    if(a.shapemenuclicked == false && a.erasemenuclicked == true){

                        if(a.ShapeObject_to_be_created == a.ShapeErase){
                            ((Erase)currentGraphicObject).getPath().lineTo(event.getX(), event.getY());

                    }

                }

                else if(event.getAction() == MotionEvent.ACTION_UP){

                    if(a.shapemenuclicked == true && a.erasemenuclicked == false){

                        //if(GraphicObject instanceof Line){
                        if(a.ShapeObject_to_be_created == a.ShapeLine){ 

                            ((Line) currentGraphicObject).getEnd().setX(event.getX());
                            ((Line) currentGraphicObject).getEnd().setY(event.getY());

                            Point temp_begin = ((Line)currentGraphicObject).getBegin();
                            Point temp_end = ((Line)currentGraphicObject).getEnd();
                            ((Line) currentGraphicObject).setBegin(temp_begin);

                            ((Line)currentGraphicObject).getPath().moveTo(temp_begin.getX(), temp_begin.getY());
                            ((Line)currentGraphicObject).getPath().lineTo(temp_end.getX(), temp_end.getY());
                            //currentGraphicObject.setrgb((int)color[0],(int)color[1],(int)color[2]);
                        }

                        if(a.ShapeObject_to_be_created == a.ShapeFreehand){
                            ((FreeHand)currentGraphicObject).getPath().lineTo(event.getX(), event.getY());

                            ((FreeHand)currentGraphicObject).getGraphicsPath().add(((FreeHand)currentGraphicObject).getPath());

                        }

                        if(a.ShapeObject_to_be_created == a.ShapeRect){
                            float tempX = ((Rectangle) currentGraphicObject).gettemppointOfOneEndRectangle().getX();

                            float tempY = ((Rectangle) currentGraphicObject).gettemppointOfOneEndRectangle().getY();
                            float tempX1 = event.getX();
                            float tempY1 = event.getY();
                            if(tempX<tempX1 && tempY>tempY1){
                                ((Rectangle)currentGraphicObject).getPath().addRect(tempX, tempY1, tempX1, tempY, Path.Direction.CW);
                            }
                            if(tempX<tempX1 && tempY<tempY1){
                                ((Rectangle)currentGraphicObject).getPath().addRect(tempX, tempY, tempX1, tempY1, Path.Direction.CW);
                            }
                            if(tempX>tempX1  && tempY>tempY1){
                                ((Rectangle)currentGraphicObject).getPath().addRect(tempX1, tempY1, tempX, tempY, Path.Direction.CW);
                            }
                            if(tempX>tempX1 && tempY<tempY1){
                                ((Rectangle)currentGraphicObject).getPath().addRect(tempX1, tempY, tempX, tempY1, Path.Direction.CW);
                            }

                        }

                        //if(GraphicObject instanceof Circle){
                        if(a.ShapeObject_to_be_created == a.ShapeCircle){
                            float tempX1 = ((Circle)currentGraphicObject).getOneEndOfTheCircle().getX();
                            float tempY1 = ((Circle)currentGraphicObject).getOneEndOfTheCircle().getY();
                            float tempX2 = event.getX();
                            float tempY2 = event.getY();
                            double temp = Math.pow((tempX1-tempX2),2) + Math.pow((tempY1-tempY2),2);
                            float radius = (float)Math.sqrt(temp)/2;
                            ((Circle)currentGraphicObject).getPath().addCircle((tempX1 + tempX2)/2,(tempY1 + tempY2)/2, radius, Path.Direction.CW);

                            (int)color[1],(int)color[2]);
                        }

                        if(a.ShapeObject_to_be_created == a.ShapeOval){ 
                            float tempX = ((Oval)currentGraphicObject).getoneEndOfTheOval().getX();
                            float tempY = ((Oval)currentGraphicObject).getoneEndOfTheOval().getY();
                            float tempX1 = event.getX();
                            float tempY1 = event.getY();

                            if(tempX<=tempX1 && tempY>=tempY1){
                                ((Oval)currentGraphicObject).getRectangle().set(tempX,tempY1,tempX1,tempY); 
                            }

                            if(tempX<=tempX1 && tempY<=tempY1){

                                ((Oval)currentGraphicObject).getRectangle().set(tempX,tempY,tempX1,tempY1);

                            }

                            if(tempX>=tempX1  && tempY>=tempY1){

                                ((Oval)currentGraphicObject).getRectangle().set(tempX1,tempY1,tempX,tempY);

                            }

                            if(tempX>=tempX1 && tempY<=tempY1){

                                ((Oval)currentGraphicObject).getRectangle().set(tempX1,tempY,tempX,tempY1);
                            }

                            //RectF r = ((Oval)GraphicObject).getRectangle();
                            ((Oval)currentGraphicObject).getPath().addOval(((Oval)currentGraphicObject).getRectangle(), Path.Direction.CW);
                            //((Oval)GraphicObject).getPath().addOval(r, Path.Direction.CW);
                        }
                    }

                    if(a.shapemenuclicked == false && a.erasemenuclicked == true){
                        //if(GraphicObject instanceof Erase){
                        if(a.ShapeObject_to_be_created == a.ShapeErase){
                            ((Erase)currentGraphicObject).getPath().lineTo(event.getX(), event.getY());

                            ((Erase)currentGraphicObject).getGraphicsPath().add(((Erase)currentGraphicObject).getPath());

                        }
                    }

                    if(a.colormenuclicked == false && a.shapemenuclicked == true){
                        currentGraphicObject.setrgb(100,100,100);   
                    }
                    if(a.colormenuclicked == true && a.shapemenuclicked == true){
                        currentGraphicObject.setrgb((int)a.color[0],(int)a.color[1],(int)a.color[2]);
                    }

                    if(a.erasemenuclicked == true && a.colormenuclicked == false){
                        currentGraphicObject.setrgb(0,0,0);
                        //mPaint.setStrokeWidth(6);
                    }

                    if(a.brushwidthmenuclicked == true){//  || erasemenuclicked == true){
                        currentGraphicObject.setStrokeWidth(a.BrushWidth);
                    }
                    a.graphicobjects.add(currentGraphicObject);

                    a.number_of_graphicObjects++;
                }

                /*if(colormenuclicked == false && shapemenuclicked == true){
                    currentGraphicObject.setrgb(100,100,100);   
                }
                if(colormenuclicked == true && shapemenuclicked == true){
                    currentGraphicObject.setrgb((int)color[0],(int)color[1],(int)color[2]);
                }

                if(erasemenuclicked == true && colormenuclicked == false){
                    currentGraphicObject.setrgb(0,0,0);
                    //mPaint.setStrokeWidth(6);
                }

                if(brushwidthmenuclicked == true){//  || erasemenuclicked == true){
                    currentGraphicObject.setStrokeWidth(BrushWidth);
                }
                graphicobjects.add(currentGraphicObject);

                number_of_graphicObjects++;*/
            }

      return true;

    }

    @Override
    public void onDraw(Canvas canvas) {

            for(int i = 0; i<a.number_of_graphicObjects; i++){

                Shape currentGraphicObject = a.graphicobjects.get(i);

                    a.mPaint.setColor(Color.rgb(currentGraphicObject.getrgb()[0], currentGraphicObject.getrgb()[1], currentGraphicObject.getrgb()[2]));
                    a.mPaint.setStrokeWidth(currentGraphicObject.getStrokeWidth());

                if(currentGraphicObject instanceof FreeHand){
                    for (Path path : ((FreeHand)currentGraphicObject).getGraphicsPath()) {
                        canvas.drawPath(path,a.mPaint);
                        a.bitmapCanvas.drawPath(path,a.mPaint);
                    }
                }

                else if(currentGraphicObject instanceof Erase){
                    for (Path path : ((Erase)currentGraphicObject).getGraphicsPath()) {
                        canvas.drawPath(path, a.mPaint);
                        a.bitmapCanvas.drawPath(path, a.mPaint);
                    }   
                }

                else{
                    canvas.drawPath(currentGraphicObject.getPath(),a.mPaint);

                    a.bitmapCanvas.drawPath(currentGraphicObject.getPath(),a.mPaint);

                }
            }

      }

    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {

    }

    public void surfaceCreated(SurfaceHolder holder) {
        _thread.setRunning(true);
        _thread.start();

    }

    public void surfaceDestroyed(SurfaceHolder holder) {

        boolean retry = true;
        _thread.setRunning(false);
        while (retry) {
            try {
                _thread.join();
                retry = false;
            } catch (InterruptedException e) {

            }
        }
    }

class TutorialThread extends Thread {
    private SurfaceHolder _surfaceHolder;
    private Panel _panel;
    private boolean _run = false;

    public TutorialThread(SurfaceHolder surfaceHolder, Panel panel) {
        _surfaceHolder = surfaceHolder;
        _panel = panel;
    }

    public void setRunning(boolean run) {
        _run = run;
    }

    public SurfaceHolder getSurfaceHolder() {
        return _surfaceHolder;
    }

    @Override
    public void run() {
        Canvas c;
        while (_run) {
            c = null;
            try {
                c = _surfaceHolder.lockCanvas(null);
                synchronized (_surfaceHolder) {

                }
            } finally {

                if (c != null) {
                    _surfaceHolder.unlockCanvasAndPost(c);
                }
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:40:06.543

据我所见，您的变量`a`为空，我看不到他的初始化位置。所以初始化它并且 NullPointerException 已经消失了。

还有一件事。您的代码非常广泛，并且声明变量“a”或“b”以及像“aa.bb.cc”这样的包名称看起来不是一个好代码。编程是为了人类而不是机器来理解的；）

# matlab - 尝试在 matlab 中使用 mexopencv 时出错

> ID：12330352
> 
> 赞同：1
> 
> 时间：2012-09-08T11:32:24.487
> 
> 标签：matlab, opencv, mex

我正在尝试在我的系统上使用 mexopencv，它具有：

Ubuntu 12.04.1 LTS

opencv 2.4.2

gcc-4.4

MATLAB 2012

他们都在工作。我还使用了一些 c++ 代码来测试 mex，它运行良好。我用 [它](http://www.cs.sunysb.edu/~kyamagu/mexopencv/)来安装 mexopencv。这样做也是[因为](https://groups.google.com/forum/#!msg/comp.soft-sys.matlab/bv7FVNJANSI/fAn7Vj2TTwgJ)我遇到了一些错误，其中提到了 libstdc++.so.6

现在，当我尝试类似的事情时：

```
a = cv.imread('pic.jpg'); 
```

我得到：

```
Error using cv.imread
Invalid MEX-file '/home/primepc09/mexopencv/+cv/imread.mexa64': /usr/local/lib/libopencv_highgui.so.2.4:
undefined symbol: _ZNK9QCheckBox15minimumSizeHintEv 
```

知道为什么我会得到这个吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:56:41.483

这是 QT 库中未解析的符号。确保您的系统上安装了 QT：

```
sudo dpkg -l | grep libqt 
```

如果没有，则需要安装它。

# mysql - 降序排序结果

> ID：12330353
> 
> 赞同：0
> 
> 时间：2012-09-08T11:32:30.540
> 
> 标签：mysql, sql, sorting

我希望我的结果按`a.right`（它可能有 2 个值：1 - true，0 - false）排序。`a.right=1`必须先出现的行。试过了`GROUP BY`。但没有帮助。如何达到上述结果？

```
SELECT
    u.fullname,
    a.id,
    a.content,
    a.addDT,
    a.`right`,
    acr.score,
    acr.checkDT
FROM
    answers a
INNER JOIN users u ON u.id = a.uid
LEFT JOIN `answer_chk_results` acr ON acr.aid = a.id
WHERE
    a.qid = 1
GROUP BY
    a.`right` DESC 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:33:36.983

一个小错误。尝试`ORDER BY`代替`GROUP BY`. [`ORDER BY`](http://dev.mysql.com/doc/refman/5.0/en/order-by-optimization.html)用于对记录进行排序，而[`GROUP BY`](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html)用于聚合记录。

您的查询应该是

```
SELECT
    u.fullname,
    a.id,
    a.content,
    a.addDT,
    a.`right`,
    acr.score,
    acr.checkDT
FROM
    answers a
INNER JOIN users u ON u.id = a.uid
LEFT JOIN `answer_chk_results` acr ON acr.aid = a.id
WHERE
    a.qid = 1
ORDER BY
    a.`right` DESC 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T11:33:31.983

您应该`ORDER BY`用于排序结果。`GROUP BY`用于汇总结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T11:33:59.060

尝试将其附加到末尾：

```
ORDER BY
    a.right DESC 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T11:34:29.670

对于排序，您应该使用 ORDER BY：

```
 SELECT
        u.fullname,
        a.id,
        a.content,
        a.addDT,
        a.`right`,
        acr.score,
        acr.checkDT
    FROM
        answers a
    INNER JOIN users u ON u.id = a.uid
    LEFT JOIN `answer_chk_results` acr ON acr.aid = a.id
    WHERE
        a.qid = 1
    ORDER BY
        a.`right` DESC 
```

# c# - 不能在 Caliburn.Micro 中对 ActionMessage 使用长语法

> ID：12330354
> 
> 赞同：0
> 
> 时间：2012-09-08T11:32:43.333
> 
> 标签：c#, events, mvvm, caliburn.micro

我正在尝试为我认为 CM 不支持开箱即用的附加事件创建一个操作。

这个问题/答案显示了如何做到这一点

[使用带有 caliburn 微 Message.Attach 的附加事件](https://stackoverflow.com/questions/8402339/using-attached-events-with-caliburn-micro-message-attach)

但它需要使用长的 CM ActionMessage 语法，但是，当我尝试这样做时，我得到一个“ActionMessage 不存在于 XML 命名空间中”，其中 blah 是 CM 命名空间。

所有示例也显示了这种语法；目前，我刚刚将代码放入将 DataContext 转换为 ViewModel 类型并调用适当方法的视图中（尽管我不喜欢这种方法，因为它将视图与 VM 耦合，并且与其余部分不一致应用程序）

任何人都知道为什么我看不到 ActionMessage？

例如

```
<i:Interaction.Triggers> 
                <Helpers:RoutedEventTrigger RoutedEvent="Helpers:DataChanging.Changing"> 
                    <!-- this line throws the error -->
                    <cal:ActionMessage MethodName="SelectedDataChanged"> 
                        <cal:Parameter Value="$eventargs" /> 
                    </cal:ActionMessage> 
                </Helpers:RoutedEventTrigger> 
 </i:Interaction.Triggers> 
```

我正在使用 SL5 和 CM 的 SL5 组件，但没有乐趣......

有趣的是，如果我尝试在其他地方使用“ActionMessage”，它似乎得到了正确解决，但当然在我想要的地方之外它不是很有用！

更新：

这是视图命名空间定义

```
xmlns:cal="http://www.caliburnproject.org" 
```

我已经尝试过实际的程序集限定名称空间和其他组合，都存在相同的问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T02:38:51.150

我以前从未使用过 ActionMessage 语法，但只要控件具有您尝试附加的事件，您是否尝试过以下语法：

<Button Content="Remove" cal:Message.Attach="[Event Click] = [Action Remove($dataContext)]" />

我已经能够在各种控件上使用它而没有任何问题。

[http://devlicio.us/blogs/rob_eisenberg/archive/2010/07/17/caliburn-micro-soup-to-nuts-pt-3-all-about-actions.aspx](http://devlicio.us/blogs/rob_eisenberg/archive/2010/07/17/caliburn-micro-soup-to-nuts-pt-3-all-about-actions.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-05-03T13:53:36.930

我有类似的问题，我必须在调用 ActionMessage 之前添加一个额外的 xaml 标记，我的相应示例才能使其工作：

```
<i:Interaction.Triggers> 
    <Helpers:RoutedEventTrigger RoutedEvent="Helpers:DataChanging.Changing">
        <cal:Action.Target>
            <cal:ActionMessage MethodName="SelectedDataChanged">
                <cal:Parameter Value="$eventargs"/>
            </cal:ActionMessage>
        </cal:Action.Target>
    </Helpers:RoutedEventTrigger RoutedEvent="Helpers:DataChanging.Changing">
</i:Interaction.Triggers> 
```

# c# - 如何从 sql server 中的表中循环数据并使用返回的数据查询另一个表。请参见

> ID：12330361
> 
> 赞同：0
> 
> 时间：2012-09-08T11:33:46.977
> 
> 标签：c#, asp.net, .net, sql-server

这就是我想要实现的目标：

我在数据库中有一个表，其中有一个名为“item_code”的列。

我需要查询这张表，一次返回一行。现在，我需要将“item_code”列的值用于已返回的一行，以查询另一个表，我将使用它来获取一堆行。我该怎么做呢？

我尝试在 while 循环中使用 datareader 对象，一次获取一行，然后查询此循环内的另一个表以获取所需的行，但我不知道如何将这些数据放入 gridview（使用数据表？如果是，如何？）以这样一种方式，即在每次迭代 while 循环后，gridview 中的前几行不会被删除。

我知道将数据放入网格视图的唯一方法是使用 .Fill() 但显然，在这种情况下，Fill 方法不会这样做，因为它会清除网格视图中的先前条目。

请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:35:57.113

> 我需要查询这张表，一次返回一行。现在，我需要将“item_code”列的值用于已返回的一行，以查询另一个表，我将使用它来获取一堆行。我该怎么做呢？

您可以使用单个 SQL 查询来连接“item_code”上的两个表并从第二个表中检索结果。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T11:36:26.530

您的解决方案将起作用，但您是正确的，Fill() 将删除表格的内容。相反，使用 Merge()

```
var myMainTable = new DataTable();

foreach(var itemId in itemIds)
{
  var currentTable = new DataTable();
  // submit new query
  myAdapter.Fill(currentTable)
  myMainTable.Merge(currentTable);
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-08T11:39:02.317

您可以一步完成 SQL 级别，如下所示：

```
SELECT Table2.* 
FROM Table2
INNER JOIN Table1 ON Table1.item_code = Table2.item_code
ORDER BY Table2.item_code 
```

当然，如果您需要制作一个较小的列表，您也可以编写`WHERE`。

# networking - CloudFront 是否能够处理 10-30MB 的文件？

> ID：12330374
> 
> 赞同：5
> 
> 时间：2012-09-08T11:35:02.617
> 
> 标签：networking, amazon-s3, amazon-web-services, cdn, amazon-cloudfront

我在 Amazon CloudFront 常见问题解答中看到，文件大小限制为 20 GB。

我计划提供 10-30 MB 文件大小的下载，以防编码完成后结果不好，只是希望知道 --- CloudFront 是否支持 10-30 MB 文件大小的文件？

或者我应该使用 Amazon S3 进行下载？

非常感谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T16:26:05.110

当然，您可以将 Cloud Front 用于最大 20 GB 的文件。

更好的结果总是取决于你的情况。一般来说，**在访问速度很重要的地方使用 Cloud Front 是有意义的**，对于大多数情况，这将适用于网页的静态资源等小文件。对于大文件，用户可能不会注意到它是从 S3 还是从靠近他的 Cloud Front 边缘位置提取的。

另一个重要方面是**价格**。使用 Cloud Front，您的成本会成倍增加，这同样取决于您的用户生成的下载量以及它们在地理上的分布情况。

我对你的建议是**留在 S3**，除非有一些非常具体的要求，你没有提到。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-08-23T18:01:19.760

**始终**使用 CloudFront *(CF)*，特别是如果您在北美或/和欧洲运营。

我个人从来没有遇到过极端情况，我现在唯一能想到的是，如果您对价格非常敏感并且您在亚洲或/和南美洲运营，它们的 CF 数据传输价格较高。

* * *

## 为什么你更喜欢CF？

*   从 S3 到 CloudFront 的数据传输是**免费**的，我认为这曾经是一个很大的成本
*   S3在单一地理区域，CF是全球性的，离用户更近，速度更快
*   有可能“压倒” S3 存储桶，CF 实际上是无限规模的
*   CF 具有防止/保护它们和您免受多种类型攻击的内置功能
*   CF 针对低延迟和高速进行了优化，具有真实世界的延迟测量

* * *

## 你在哪里经营？

**北美或/和欧洲：**

数据传输比 S3 便宜，这基本上抵消了 CF 的所有额外成本。

**南美洲或/和亚洲：**

它更贵。CF 数据传输价格平均要贵大约 2 倍。

**任何一种组合或全部：**

创建一个示例场景，查看价格并进行数学计算。它可能会更贵，但就像我上面列出的那样：CloudFront 有许多非常重要的优势。

# php - 为 php 安装 wso2 Web 服务时出错

> ID：12330375
> 
> 赞同：1
> 
> 时间：2012-09-08T11:35:14.847
> 
> 标签：php, ubuntu, wso2, wso2wsas

我目前正在尝试在 Ubuntu 12.04 服务器上安装 wso2 php 扩展。当我执行“make”命令时，出现以下错误：

```
Making all in savanc
/bin/sh: 18: cd: can't cd to savanc
make[3]: *** [all-recursive] Fout 1
make[3]: Map '/home/devos50/Documenten/wso2-wsf-php-src-2.0.0/wsf_c' wordt verlaten
make[2]: *** [all] Error 2
make[2]: Map '/home/devos50/Documenten/wso2-wsf-php-src-2.0.0/wsf_c' wordt verlaten
make[1]: *** [all-recursive] Fout 1
make[1]: Map '/home/devos50/Documenten/wso2-wsf-php-src-2.0.0' wordt verlaten
make: *** [all] Error 2 
```

所以安装程序找不到savanc。我一直在搜索这个错误，它似乎在 php 5.2 上运行，但是，我的服务器上有一些其他服务在运行，需要 php 5.3。我怎样才能摆脱这个错误？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T14:33:13.467

我按照[本指南](http://patrics-it.blogspot.se/2012/03/how-to-install-wsowsf-210-for-php-on.html)使用 Ubuntu 12.04 PHP 5.3 并且能够成功安装 wso2 扩展。也许这对你有帮助。

由于以下原因，我还应该警告您不要在生产中使用此扩展：

*   对他们的回购的最新承诺是近一年前做出的
*   他们的 JIRA 也有一年左右没有进展
*   在 jira 中被设置为该项目的项目经理的人似乎正在从事另一个项目
*   他们没有响应 jira 中的错误报告
*   这个扩展在 linux 上有已知的稳定性问题（检查 stackoverflow 或他们的 jira with keyworkds "wso2 php segmentation fault"）

在最近的项目中，我们也应该使用 wso2 php 扩展，但经过一些研究，我们发现这个扩展不稳定并且不再受支持。不幸的是，目前我们不知道改用什么并寻找其他解决方案。

# java - Log4j 中的级别如何工作？

> ID：12330377
> 
> 赞同：0
> 
> 时间：2012-09-08T11:35:24.177
> 
> 标签：java, logging, log4j

我正在学习 Log4j，我试图理解为什么它会打印两次调试消息？我已阅读有关可加性的信息，并了解日志记录将传播给父级，在本例中为“根”。但是“root”的级别是致命的，所以不应该过滤这个日志请求吗？

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">
<log4j:configuration>
    <appender name="dataAccessLogger" class="org.apache.log4j.ConsoleAppender">
        <layout class="org.apache.log4j.PatternLayout">
            <param name="conversionPattern" value="%m%n" />
        </layout>
    </appender>

    <logger name="com.supertrooper">
        <level value="debug" />
        <appender-ref ref="dataAccessLogger" />
    </logger>

    <root>
        <level value="fatal" />
        <appender-ref ref="dataAccessLogger" />
    </root>
</log4j:configuration> 
```

代码：

```
// Field in class
private static Logger logger = Logger.getLogger(Log4JTesting.class);

// How I use it
logger.debug("Hello world!-----------------"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:46:28.417

logger 将从根`com.supertrooper`logger 继承 appender，因此您无需将相同的 appender 显式添加到子 logger。如果你这样做，就像你的例子一样，那么你最终会收到重复的消息。

根记录器设置为“致命”这一事实并没有改变它的附加程序将由子级继承的事实（无论它们设置为什么日志级别）。如果您希望 appender 只记录致命消息，而不管它们来自哪个记录器，那么您需要在*appender*本身上设置一个阈值。

# php - implode() MySql 查询不工作

> ID：12330378
> 
> 赞同：0
> 
> 时间：2012-09-08T11:35:29.507
> 
> 标签：php, mysql, implode

我试图内爆一些变量并将它们插入到 MySql 数据库中，但由于某种原因它不起作用。我已经尝试了几个小时，但我只是不确定我做错了什么。如果您能提供帮助，将不胜感激。

```
$AddressString = "address1,address2,address3,address5,postcode";

$AddressSplit = explode( ",", $AddressString );    //split the address string
$StringLength = count( $AddressSplit ) - 1;
$s = 0;      //trim any white spaces from the address string
while ( $s < count( $AddressSplit ) ) {
  $AddressSplit[$s] = trim( $AddressSplit[$s] );
  $s++;
}

//Create the Values to insert into DB
$MysqlValues = implode( "','", $AddressSplit );
$MysqlValues = "'$MysqlValues'";
$NumberVals = count( $AddressSplit );

$t = 1;
while ( $t < $NumberVals ) {
  $ad[$i] = "add$i";
  $t++;
}
$TableNames = implode( ", ", $ad );

mysql_query( "INSERT INTO pstc_add_main (" . $TableNames . ",add10,date)
                                VALUES (" . $MysqlValues . ",'$cdate')" );
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:41:45.417

因为您开始使字段名称基于 1，所以您是一个字段短！最后，您必须以相同数量的字段和值结束。

试试这个：

```
$t = 0;
while ( $t < $NumberVals ) {
  $ad[$i] = "add$i";
  $t++;
} 
```

或者，如果您不希望第一个字段是“添加”，请按如下方式更改：

```
$t = 1;
while ( $t <= $NumberVals ) {
  $ad[$i] = "add$i";
  $t++;
} 
```

当然，这将是一个简单的测试：

```
$sql = "INSERT INTO pstc_add_main (" . $TableNames . ",add10,date)
                           VALUES (" . $MysqlValues . ",'$cdate')";
var_dump($sql);
mysql_query($sql); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T11:41:48.727

未经测试，

我怀疑你会改变，

```
 $MysqlValues = implode("','", $AddressSplit); 
```

到

```
 $MysqlValues = implode(",", $AddressSplit); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T11:48:44.687

只需使用

```
$MysqlValues = implode( ",", $AddressSplit ); 
```

并尝试编辑代码

```
mysql_query( "INSERT INTO pstc_add_main (".$TableNames." ,add10,date)
                            VALUES (" . $MysqlValues . ",$cdate)" ); 
```

# javascript - 用变量替换 css 属性

> ID：12330380
> 
> 赞同：0
> 
> 时间：2012-09-08T11:35:51.320
> 
> 标签：javascript, jquery, css, scripting

我如何用变量值替换下面代码中的宽度？

```
$('<div/>', {
  'class': "formErrorContent",
   width: '13px',
   text: promptText
}).appendTo(prompt); 
```

像

```
 var promptWidth = (promptText.length * 5) - (promptText.length/2);
 var promtWidthString  = promptWidth + 'px;'
 var promptContent = $('<div/>', { 'class': "formErrorContent", style: 'width:' +   promtWidthString , text: promptText}).appendTo(prompt); 
```

上面的代码将以额外的形式结束

> </br>

在 promtText 的末尾

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:39:51.287

当您使用`appendTo`时，无需将对象存储在变量中。您可以`width`用于设置`width`元素的样式，也可以`+`从代码中删除 ，请注意，如果您要添加标记，而不是文本，则应使用 `html`.

```
$('<div/>', { 
    'class': "formErrorContent", 
     width: promtWidthString,
     html: promptText
}).appendTo(prompt); 
```

# jquery - 在控件中输入文本后，CKEditor onSubmit 不起作用

> ID：12330387
> 
> 赞同：2
> 
> 时间：2012-09-08T11:37:25.450
> 
> 标签：jquery, asp.net-mvc-3, ckeditor

所以我在我的项目上安装了ckeditor。控件加载正常，您可以查看它。当您在 textarea 中键入内容时会发生错误。“下一步”按钮不起作用。如果文本区域中没有文本，则“下一步”按钮可以正常工作。当有文本并且您按下“下一步”按钮时，我也在浏览器中注意到这些错误。

编辑：请注意，这里的 View 是**Partial View**。

![浏览器中的错误](../Images/899aa410d98d24aaa7dbe6867234b1b5.png)

我正在使用**ckeditor 3.6.4**。我使用**Nuget**安装它。我有相应的文件。

在我的 _Shared/Layout 文件中，我包括以下内容：

```
<script type="text/javascript" src="@Url.Content("~/Scripts/ckeditor/ckeditor.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/ckeditor/adapters/jquery.js")"></script> 
```

在我看来，我有以下几点：

```
@using (Ajax.BeginForm("SomeAction", "SomeController", new { id = Model.Id}, new AjaxOptions { HttpMethod = "Post", UpdateTargetId = "dynamicData", InsertionMode = InsertionMode.Replace }))
        {
            <div class="grid_6">
                @Html.TextAreaFor(x => x.SomeText, new { @class = "someTextArea" })
            </div>

            <div class="grid_6 alpha omega">
                <input type="submit" value="Next" class="grid_6 alpha omega button drop_4 gravity_5" />
            </div>
        } 
```

在我的javascript中，我有以下内容：

```
<script type="text/javascript">
    $(function () {
        ReBindCKEditor();
    });

    function BindCKEditor() {
        var elem = $('#SomeText');
        elem.ckeditor(function () { }, { toolbar: [
        ['Source'],
        ['Preview'],
        ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Scayt'],
        ['Undo', 'Redo', '-', 'Find', 'Replace', '-', 'SelectAll', 'RemoveFormat'],
        ['Image', 'Table', 'HorizontalRule'],
        ['Styles', 'Format'],
        ['Bold', 'Italic', 'Strike'],
        ['NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', 'Blockquote'],
        ['Link', 'Unlink', 'Anchor']
        ]
        });
    }

    function ReBindCKEditor() {
        delete CKEDITOR.instances['SomeText'];
        BindCKEditor();
    }
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T07:59:50.047

在提交之前，您需要更新 ckeditor 使用的隐藏文本字段。这可以通过

```
for ( instance in CKEDITOR.instances )
    CKEDITOR.instances[instance].updateElement(); 
```

假设您将其包装在一个名为`BeforeSubmittingCKEditor`遵循上述命名的javascript函数中，那么您可以将以下钩子添加到您的 BeginForm

```
OnBegin = "BeforeSubmittingCKEditor" 
```

所以你的 AjaxOptions 看起来像这样：

```
new AjaxOptions { HttpMethod = "Post", 
                  UpdateTargetId = "dynamicData", 
                  InsertionMode = InsertionMode.Replace,
                  OnBegin = "BeforeSubmittingCKEditor" } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T08:23:01.040

很可能（如果没有关于错误的更多详细信息，很难 100% 确定 - 错误响应的实际内容会有所帮助）您在这里遇到了**“从客户端检测到潜在危险的 Request.Form 值”**问题。默认情况下，ASP.NET MVC 框架在模型绑定期间检查请求，以确定它们是否包含作为 HTML 标记的潜在危险内容。如果检测到 HTML，模型绑定会引发错误。

有两种方法可以解决您的问题。首先`AllowHtmlAttribute`在服务器端的模型类中使用它：

```
...
[AllowHtml]
public string SomeText { get; set; }
... 
```

第二种方法是在*CKEditor*中使用`htmlEncodeOutput`以下选项启用客户端输出编码：

```
function BindCKEditor() {
    var elem = $('#SomeText');
    elem.ckeditor(function () { }, {
        htmlEncodeOutput: true,
        toolbar: [
            ['Source'],
            ['Preview'],
            ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Scayt'],
            ['Undo', 'Redo', '-', 'Find', 'Replace', '-', 'SelectAll', 'RemoveFormat'],
            ['Image', 'Table', 'HorizontalRule'],
            ['Styles', 'Format'],
            ['Bold', 'Italic', 'Strike'],
            ['NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', 'Blockquote'],
            ['Link', 'Unlink', 'Anchor']
        ]
    });
} 
```

要进行更详细的分析，我们需要查看完整的错误消息。

# c++ - Win32静态变量链接错误

> ID：12330389
> 
> 赞同：-5
> 
> 时间：2012-09-08T11:37:35.547
> 
> 标签：c++, class, winapi

为什么会这样？

> 1>----- 构建开始：项目：客户端，配置：调试 Win32 ------
> 1> WindowManager.cpp
> 1> 生成代码...
> 1> 编译...
> 1> Main.cpp
> 1>生成代码...
> 1>WindowManager.obj : 错误 LNK2001: 无法解析的外部符号
> “private: static int WindowManager::win_stat” (?win_stat@WindowManager@@0HA) 1>C:\Users\user\documents\visual studio 2012 \Projects\TalkToMe\Debug\Client.exe : 致命错误 LNK1120: 1 未解决
> 的外部 ========== 构建：0 成功，1 失败，0 最新，0 跳过 ===== =====

窗口管理器.cpp

```
#include "WindowManager.h"

void WindowManager::PekMessage()
{
    if(PeekMessage(&msg, window, 0, 0, PM_REMOVE))
    {
        TranslateMessage(&msg);
        DispatchMessage(&msg);
    }
}

bool WindowManager::isWindowOpen()
{
    return win_stat != -1;
}

HWND WindowManager::textbox(int width, int height, int xPos, int yPos, LPCSTR content, bool edit_able)
{
    int type = (edit_able) ? (WS_CHILD|WS_VISIBLE|ES_AUTOHSCROLL) : (WS_CHILD|WS_VISIBLE|WS_HSCROLL|ES_AUTOHSCROLL);
    return CreateWindowEx(
        WS_EX_CLIENTEDGE,
        "EDIT",
        content,
        type,
        xPos,
        yPos,
        width,
        height,
        window,
        (HMENU)50,
        GetModuleHandle(NULL),
        NULL
    );
}

HWND WindowManager::textbox(Vector size, Vector position, LPCSTR content, bool edit_able)
{
    return textbox(size.getX(), size.getY(), position.getX(), position.getY(), content, edit_able);
}

LRESULT CALLBACK WindowManager::WindowProcedure(HWND winhan,UINT uint_Message,WPARAM parameter1,LPARAM parameter2)
{
    switch(uint_Message)
    {
        case 16: // exit button
            win_stat = -1;
        break;
    }

    return DefWindowProc(winhan,uint_Message,parameter1,parameter2);
}

WindowManager::WindowManager(LPCTSTR title,int x, int y, int width, int height)
{
    WNDCLASSEX wnd;
    wnd.cbSize = sizeof(wnd);
    wnd.style  = CS_HREDRAW | CS_VREDRAW;
    wnd.lpfnWndProc = WindowProcedure;
    wnd.cbClsExtra  = 0;
    wnd.cbWndExtra  = 0;
    wnd.hInstance   = GetModuleHandle(NULL);
    wnd.hIcon       = NULL;
    wnd.hCursor     = LoadCursor(NULL,IDC_ARROW);
    wnd.hbrBackground = GetSysColorBrush(NULL);
    wnd.lpszClassName = "TalkToMe";
    wnd.lpszMenuName  = NULL;
    wnd.hIconSm = LoadIcon(NULL, IDI_APPLICATION);

    RegisterClassEx(&wnd);

    window = CreateWindowEx(WS_EX_CONTROLPARENT, wnd.lpszClassName, title, 
        WS_OVERLAPPED | WS_CAPTION | WS_SYSMENU | WS_MINIMIZEBOX | WS_VISIBLE, x, y, width, height,NULL, NULL, 
        GetModuleHandle(NULL), NULL);
}

WindowManager::~WindowManager()
{
    DestroyWindow(window);
} 
```

窗口管理器.h

```
#pragma once
#pragma comment(linker,"\"/manifestdependency:type='win32' name='Microsoft.Windows.Common-Controls' version='6.0.0.0' processorArchitecture='*' publicKeyToken='6595b64144ccf1df' language='*'\"")

#include <Windows.h>
#include "Vector.h"

class WindowManager
{
private:
    MSG msg;
    HWND window;

    static int win_stat;
public:
    WindowManager(LPCTSTR title,int x, int y, int width, int height);
    ~WindowManager();
    static LRESULT CALLBACK WindowProcedure(HWND winhan,UINT uint_Message,WPARAM parameter1,LPARAM parameter2);

    HWND textbox(int width, int height, int xPos, int yPos, LPCSTR content, bool edit_able=true);
    HWND textbox(Vector size, Vector position, LPCSTR content, bool edit_able=true);

    bool isWindowOpen();
    void PekMessage();
}; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T11:43:51.170

标题中的部分

```
static int win_stat; 
```

只是一个声明。您还必须添加

```
int WindowManager::win_stat; 
```

到 .cpp 文件，就像您在那里定义成员函数一样。

# extjs4 - 在卡片布局中获取活动项目

> ID：12330400
> 
> 赞同：3
> 
> 时间：2012-09-08T11:38:57.887
> 
> 标签：extjs4, sencha-architect

有没有办法获得卡片布局面板的活动项目？

我曾经使用它直到最后一次更新[今天]。更新后就停止了！！

有没有其他方法可以检查激活了哪个面板/卡？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T11:46:29.903

`panel.getLayout().getActiveItem()`是使用的方法。

这是[文档](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.layout.container.Card-method-getActiveItem)

这是推荐的方法。您无需寻找替代品。

# javascript - 如何将一个 DIV 标签的内容拆分为多个 DIV？

> ID：12330401
> 
> 赞同：0
> 
> 时间：2012-09-08T11:38:58.837
> 
> 标签：javascript, jquery, asp.net

我有一个`DIV`具有特定宽度和高度属性的标签。

```
<div style="width:793px;height:1096px"> A long text and pictures</div> 
```

当线条和图片超过第一个时，我想将其分隔`DIV tag`为多个，并希望在下一个中显示剩余的文本和图片，而不是溢出和滚动。`DIV tags``DIV``DIV`

怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:49:22.553

像这样[看这个](http://jsfiddle.net/9ckc4/)

```
$('ul.expander li').expander({
  slicePoint: 50,
  widow: 2,
  expandEffect: 'show',
  userCollapseText: '[^]'
}); 
```

​</p>

# php - 类 Doctrine\Common\Collections\ArrayCollection 不是有效的实体或映射的超类

> ID：12330406
> 
> 赞同：2
> 
> 时间：2012-09-08T11:39:28.930
> 
> 标签：php, doctrine-orm

我有三个实体：

特征值.php

```
<?php

namespace Webmuch\ProductBundle\Entity;

use Doctrine\ORM\Mapping as ORM;

/**
 * @ORM\Entity
 */
class FeatureValue
{
/**
 * @ORM\Id
 * @ORM\Column(type="integer")
 * @ORM\GeneratedValue(strategy="AUTO")
 */
protected $id;

/**
 * @ORM\Column(type="string", length="100")
 */
protected $name;

/** 
 * @ORM\OneToMany(targetEntity="FeatureType", mappedBy="name")
 */
private $featuretype;

public function __construct()
{
    $this->featuretype = new \Doctrine\Common\Collections\ArrayCollection();
} 
```

特征类型.php

```
<?php

namespace Webmuch\ProductBundle\Entity;

use Doctrine\ORM\Mapping as ORM;
use Webmuch\ProductBundle\Entity\FeatureValue;

/**
 * @ORM\Entity
 */
class FeatureType
{
/**
 * @ORM\Id
 * @ORM\Column(type="integer")
 * @ORM\GeneratedValue(strategy="AUTO")
 */
protected $id;

/**
 * @ORM\Column(type="string", length=255, nullable=true)
 */   
protected $title;

/** 
 * @ORM\ManyToOne(targetEntity="FeatureValue", inversedBy="featuretype",cascade={"persist"})
 * @ORM\JoinColumn(name="feature_value_id", referencedColumnName="id")
 */    
protected $name;

 public function __construct() 
{
    $this->name = new \Doctrine\Common\Collections\ArrayCollection();
} 
```

产品.php

```
<?php
namespace Webmuch\ProductBundle\Entity;

use Gedmo\Mapping\Annotation as Gedmo;
use Doctrine\ORM\Mapping as ORM;
use Doctrine\Common\Collections\ArrayCollection as ArrayCollection;

/**
 * @ORM\Entity
 * @ORM\Table()
 * @ORM\HasLifecycleCallbacks
 */
class Product 
{
/**
 * @ORM\Id
 * @ORM\Column(type="integer")
 * @ORM\GeneratedValue(strategy="AUTO")
 */
protected $id;

/**
 * @ORM\ManyToMany(targetEntity="Store")
 */
protected $store;

/**
 * @ORM\ManyToMany(targetEntity="Webmuch\CategoryBundle\Entity\Category")
 */
protected $category;

/**
 * @Gedmo\Sluggable
 * @ORM\Column(type="string", length=255)
 */
protected $title;

/**
 * @Gedmo\Slug(updatable=false, unique=true)
 * @ORM\Column(type="string", length=255)
 */
protected $slug;

/**
 * @ORM\Column(type="integer")
 */
protected $quantity;

/**
 * @ORM\Column(type="boolean")
 */
protected $active;

/**
 * @ORM\Column(type="text", length="4000", nullable="true")
 */
protected $preview;

/**
 * @ORM\ManyToMany(targetEntity="FeatureType")
 * @ORM\JoinColumn(name="feature_type_id", referencedColumnName="id")
 */
protected $features;

public function __toString()
{
    return $this->getTitle();
}

} 
```

我的问题是，当我在 FeatureType 中添加 FeatureValue 时，会显示错误类“Doctrine\Common\Collections\ArrayCollection 不是有效实体或映射的超类”。

在我的项目中，我想要 FeatureType 以及我的 Product 实体中的 FeatureValue。

假设在 FeatureType 中有两个属性 Size 和 Colour。现在在 FeatureType Size 中给出了三个 FeatueValue Small、Medium、Large，还假设在 FeatureType Colour 中给出了三个 FeatureValue Red、Green、Yello。现在我想在我的产品实体中同时显示 FeatureType 及其 FeatureValue。

所以任何人都告诉我如何做到这一点。我尝试了很多但没有成功。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T11:45:58.827

在`Webmuch\ProductBundle\Entity\FeatureType::__construct`您分配`ArrayCollection`to 时`$this->name`，这是错误的，因为这是 ToOne 而不是 ToMany。

只需删除此行。

# node.js - 使用 Mongoose 和 MongoDB，我可以将使用 req.body 的文档更新和使用 $inc 的增量结合起来吗？

> ID：12330407
> 
> 赞同：0
> 
> 时间：2012-09-08T11:39:34.000
> 
> 标签：node.js, mongodb, express, mongoose

我想使用入站表单字段更新文档，`req.body`而不必将它们分开并构建一个`$set`. 我有这个工作得很好。现在我想向一个不会由 提供的字段添加一个增量，`req.body`我该怎么做？

这是我当前的代码：

```
var myproj = req.body; // grab req.body
myproj.foo = 'bar'; // some other random property

Project.update({_id: req.params.project_id }, myproj, { multi: false }, function(err, edited) {... 
```

那么如何`$inc`为文档中名为 的字段添加一个`version`呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T14:16:52.623

您可以在同一更新中组合修饰符，并且可以将整个修饰符应用`myproj`到一个`$set`：

```
Project.update(
    { _id: req.params.project_id }, 
    { $set: myproj, $inc: { version: 1 } }, 
    { multi: false }, 
    function(err, edited) {... 
```

# c# - 用于 WinRT 的 HijriCalendar（Windows 8 Metro）

> ID：12330408
> 
> 赞同：0
> 
> 时间：2012-09-08T11:39:40.163
> 
> 标签：c#, .net, windows-8, microsoft-metro, windows-runtime

`HijriCalendar`那里有WinRT（或）的任何实现`.Net for Metro apps`吗？

微软似乎`System.Globalization`从`.Net for Metro apps`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T14:19:55.787

这周我看了看。所有日历都存在于 RTM 版本中，您可以在调试时在 VS2012 的 Locals 和 Auto 窗口中看到它们。即有 GregorianCalendar、Hijri 等，但所有这些东西都是内部的，即使通过反射也无法访问它

# gwt - 更改值时启用按钮 - 错误

> ID：12330410
> 
> 赞同：1
> 
> 时间：2012-09-08T11:40:04.113
> 
> 标签：gwt, google-apps-script

更改日期框的值后，应该启用下面的按钮。为什么它不起作用？

```
var sbutton = app.createButton('Set Alert').setId('sbutton').setPixelSize(250,    25).setEnabled(true);

// Button to be enabled only after date is set
var buttonenabler = app.createClientHandler().forTargets(sbutton).setEnabled(true);
eventdt.addValueChangeHandler(buttonenabler); 
```

在此处检查代码[https://script.google.com/d/1H6DLb8L6Qd3g55Dzn_A7ed61QvM_OcrLINDfya1i1h7JAyV_jLH7nmcq/edit](https://script.google.com/d/1H6DLb8L6Qd3g55Dzn_A7ed61QvM_OcrLINDfya1i1h7JAyV_jLH7nmcq/edit)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T12:07:45.507

最初，在创建过程中，您的按钮已启用 ( `var sbutton = app.createButton('Set Alert')....setEnabled(true);`)，即即使执行了处理程序，按钮仍将保持启用状态。下面是一个简单的演示，展示了如何在日期框控件值更改时启用禁用按钮。

```
function doGet(e) {
  var app = UiApp.createApplication();
  var date = app.createDateBox();
  var btn = app.createButton('Test').setEnabled(false);
  var handler = app.createClientHandler().forTargets(btn).setEnabled(true);
  date.addValueChangeHandler(handler);
  app.add(date);
  app.add(btn);
  return app;
} 
```

**更新：**我查看了您的代码。似乎这是GAS中的一个错误。将`setFormat`函数调用添加到`DateBox`对象时会出现问题。请参阅以下重现该问题的代码。如果要更改第一个日期框中的值，则启用第一个按钮。如果要更改第二个日期框的值，则不启用第二个按钮。区别仅在于`setFormat`通话。将[错误](http://code.google.com/p/google-apps-script-issues/issues/detail?id=1819)提交给问题跟踪器，作为一种解决方法，您可以`setFormat`在代码中评论调用。

```
function doGet(e) {
  var app = UiApp.createApplication();
  var date = app.createDateBox();
  var dateBug = app.createDateBox().setFormat(UiApp.DateTimeFormat.DATE_TIME_MEDIUM);
  var btn = app.createButton('Test').setEnabled(false);
  var btnBug = app.createButton('Test Bug').setEnabled(false);
  var handler = app.createClientHandler().forTargets(btn).setEnabled(true);
  var handlerBug = app.createClientHandler().forTargets(btnBug).setEnabled(true);
  date.addValueChangeHandler(handler);
  dateBug.addValueChangeHandler(handlerBug);
  app.add(date);
  app.add(btn);
  app.add(dateBug);
  app.add(btnBug);
  return app;
} 
```

# ruby-on-rails - 如何在 Rails 3 中建立自引用关联？

> ID：12330416
> 
> 赞同：1
> 
> 时间：2012-09-08T11:40:46.313
> 
> 标签：ruby-on-rails, relationship, jointable, self-reference

我在编写一个组织科学论文的 Rails 应用程序时遇到了一些麻烦。

每篇论文有很多参考文献（其他论文）-> 一篇论文引用了很多论文 每篇论文有很多引用（其他论文，反比关系）-> 一篇论文被很多论文引用

我的目的是能够访问这样的论文参考和引文

```
@paper = Paper.first
@paper.references => [Papers that @paper is citing]
@paper.citations  => [Papers that @paper is being cited by] 
```

以下是我采取的步骤：

```
# console
rails g model paper title  # Generate Paper model
rails g model citation paper_id:integer reference_id:integer  # Generate Citation Model

# app/models/paper.rb
class Paper < ActiveRecord::Base
  # Relations
  has_many :reference_relations, class_name: 'Citation'
  has_many :citation_relations, class_name: 'Citation', foreign_key: 'reference_id'

  # References and citations
  has_many :references, through: :reference_relations
  has_many :citations, through: :citation_relations, source: :paper

  attr_accessible :title
end

# app/models/citation.rb
class Citation < ActiveRecord::Base
  belongs_to :paper                           # Source of the reference, paper that is citing
  belongs_to :reference, class_name: 'Paper'  # Paper that is being referenced and cited

  # attr_accessible :reference_id # This should not be accessible, should it?
end 
```

现在我尝试建立一个参考：

```
p = Paper.first
r = Paper.last
p.references.build(reference_id: r.id) 
```

但是，当我尝试建立引文时，出现`ActiveModel::MassAssignmentSecurity::Error: Can't mass-assign protected attributes: reference_id`错误。我首先假设需要设置 Citation 模型中的 attr_accessible，但事实证明 ActiveRecord 正在尝试将 reference_id 分配给论文实例而不是新的引用实例。

**将两张纸相互连接的最佳方法是什么？如何建立这些连接？**

提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T12:34:23.610

我不认为它是自我引用的，因为这种联系是通过引文，而不是直接在论文本身上。

所以我会这样处理它：

```
Paper 
has_many :citation_papers
has_many :citations, :through => citation_papers

Citation
has_many :citation_papers
has_many :papers, :through citation_papers

CitationPaper # Needs the two ID's
belongs_to :paper
belongs_to :citation 
```

# php - mysql_fetch_array() 期望参数 1 是资源，布尔值在

> ID：12330420
> 
> 赞同：-1
> 
> 时间：2012-09-08T11:41:12.457
> 
> 标签：php, mysql

我不是第一个在这里问这个问题的人，但说真的，我在问之前尝试了可能的重复。

这是我的代码：已更新

```
 foreach ($pieces as $v) {
        $get_user ="SELECT * from demo_user WHERE user_name ='$v'";
        $result = mysql_query($get_user);
        if (!$result) {
             die(mysql_error());
        }
        while($row = mysql_fetch_array($result))
        {
            $GLOBAL_REST_URL = "http://192.168.0.100:9000/meeting/";
            $part_name = $row['user_name'];
            $participant = array("email"=>$row['primary_email'],
                    "contact_no"=>$row['primary_mobile'],
                    "password"=>$attendee_password,
                    );

            $LOCAL_REST_URL = $GLOBAL_REST_URL .$mtngid.'/participant/'.$row['user_name'] ;

           $json_part = array2json($participant);
           $curl_handle=curl_init();
           curl_setopt($curl_handle,CURLOPT_URL,$LOCAL_REST_URL);
           curl_setopt($curl_handle,CURLOPT_CONNECTTIMEOUT,20);

           curl_setopt($curl_handle, CURLOPT_CUSTOMREQUEST, "POST");
           curl_setopt($curl_handle, CURLOPT_POSTFIELDS,$json_part);

           curl_setopt($curl_handle, CURLOPT_HTTPHEADER, $headers);
           curl_setopt($curl_handle,CURLOPT_RETURNTRANSFER,1);
           $buffer = curl_exec($curl_handle);
           curl_close($curl_handle);
           $getit_part =  json_decode($buffer, true);
           if ($getit_part['code'] == 200){
            $key = $getit_part['data'];

            $join_url = "http://192.168.0.100/UI/user/joinuser.php?meetingid=".$mtngid."&key=".$getit_part['data']; 
            $pr_mobile = $row['primary_mobile'];
            $pr_email = $row['primary_email'];
            $sql = "INSERT INTO demo_participant(name, 
                             meeting_id_id, 
                             password, 
                             user_view__url, 
                             `key`, 
                             contact_no,
                             email)
                        SELECT '$part_name', 
                               id, 
                               '$attendee_password',
                               '$join_url',
                                {$getit_part['data']},
                               '$pr_mobile',
                               '$pr_email'
                        FROM demo_meeting
                        WHERE meetingID = '$mtngid'";

            $result = mysql_query($sql) or die (mysql_error());
           }
          // $message = 'Hi '.$_GET['meeting_name'].',and associated participant Updated successfully ';
        }
        } 
```

当我执行上面的代码时，我收到以下警告：

```
mysql_fetch_array() expects parameter 1 to be resource, boolean given in 
```

`print_r($pieces)`输出：

```
Array
(
    [0] => Digvijay
    [1] => philip
    [2] => fake
) 
```

请让我知道，我可能做错了什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T11:52:35.213

使用您的代码，`$result`不会是布尔值。

如果`mysql_query`return `false`，那么程序应该退出。

再次检查错误行。

***更新：***

阅读更新后的代码后，问题出在下面的行（在 while 循环的末尾）：

```
$result = mysql_query($sql) or die (mysql_error()); 
```

您正在覆盖变量`$result`。

这是一个插入查询，所以你只需要这样做：

```
mysql_query($sql) or die (mysql_error()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T11:50:41.880

查询失败，您将“false”传递给 fetch。那不可能是因为或死；你没有显示真实的代码？

*   不要使用 mysql_* 函数
*   将 error_reporting 放在
*   在脚本中构建一些错误检查。

# php - buddypress 群组地理位置

> ID：12330424
> 
> 赞同：2
> 
> 时间：2012-09-08T11:42:00.367
> 
> 标签：php, wordpress, location, buddypress, geo

谷歌搜索了几个小时，找不到我的问题的解决方案。基本上我需要做的是通过 ip 或使用地理位置显示 buddypress 组，例如，如果我来自阿拉巴马州，当我登录时，我将看到名为“Alabama Group”的组，而没有其他人。这会针对不同的位置进行，因为它们将在一个组中呈现。我已经搜索了插件，但我不知道如何在组中使用它们，也不能在 buddypress 中使用它们，我认为 if 语句可以解决问题，但不确定如何处理其余的 IP。

伙计们认为最好的处理方法是什么？谢谢！

# iphone - 如何在 iPhone 上恢复连接？

> ID：12330426
> 
> 赞同：0
> 
> 时间：2012-09-08T11:42:06.703
> 
> 标签：iphone, objective-c, ios

我的应用程序需要一个自动重新连接功能，但它不起作用，因为当连接再次可用时 iPhone 本身不会重新连接。您应该关闭/打开 iPhone 或切换应用程序以触发它进行连接。如果连接丢失，它甚至在 Safari 中也不起作用。如何在不切换应用程序或关闭/打开 iPhone 的情况下从我的应用程序执行此操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T16:00:08.383

使用可达性 API。[http://developer.apple.com/library/ios/#samplecode/Reachability/Introduction/Intro.html](http://developer.apple.com/library/ios/#samplecode/Reachability/Introduction/Intro.html)

[你可以在这里](https://github.com/tonymillion/Reachability)找到相同的 ARC 版本

每当网络状态发生变化时，可达性 api 都会在默认中心发布通知。因此，将自己添加为此通知的观察者，并在网络恢复时做任何你想做的事情..！

来自上面给出的同一 github 页面的一个简单示例，

```
 // allocate a reachability object
    Reachability* reach = [Reachability reachabilityWithHostname:@"www.google.com"];

    // tell the reachability that we DONT want to be reachable on 3G/EDGE/CDMA
    reach.reachableOnWWAN = NO;

    // here we set up a NSNotification observer. The Reachability that caused the notification
    // is passed in the object parameter
    [[NSNotificationCenter defaultCenter] addObserver:self 
                                             selector:@selector(reachabilityChanged:) 
                                                 name:kReachabilityChangedNotification 
                                               object:nil];

[reach startNotifier] 
```

# java - java中的迭代和for循环哪个更好？

> ID：12330429
> 
> 赞同：1
> 
> 时间：2012-09-08T11:42:14.683
> 
> 标签：java, for-loop, loops

请告诉我for循环和迭代之间的区别？我什么时候应该使用/迭代？

前任：-

```
for(int i=0;i<arrayList.size();i++)
{
System.out.println(arrayList.get(i));
}

// using iterator
Iterator animalItr = animalList.iterator();

    while(animalItr.hasNext()) {
      String animalObj = (String)animalItr.next();
      System.out.println(animalObj);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T11:45:10.180

通过迭代器循环比通过索引*更通用。*迭代器可用于迭代*任何*集合。相比之下，位置索引是序列容器的技术细节。您可能希望成为这种特殊的唯一原因是容器的顺序性质是否是您的问题所固有的，并且您*需要*知道算法的数字位置。

但除此之外，一般来说，您应该更喜欢迭代器样式，因为它更通用，因此会导致更统一的代码。您的代码的不同部分可能使用不同的容器（或者您甚至可能希望稍后更改容器），但是如果您以相同的方式编写所有迭代，您将立即识别出迭代，而不是根据细节的不同而使用不同的样式容器。

也就是说，`for`当您只想对容器中的每个元素进行操作时，最好使用基于范围的循环，而不想修改整个容器作为一个整体（通过插入/删除）。当你说 时`for (String s : arrayList) { /*...*/ }`，你甚至不需要在循环体中提及容器或任何迭代器的名称！考虑到这一点，迭代器（或索引）循环应该保留用于*在循环内*决定需要修改容器的情况，例如通过擦除当前元素，或者容器内元素的位置相关的情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T11:46:00.507

当涉及到`Iterable`对象时，我个人会使用一个 for-each 循环：

```
for(Type t : iterableObject) {
 //body
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T11:54:14.523

使用 Iterator 遍历 Collection 是遍历 Collection 最安全、最快的方法。

对于像这里的 ArrayList 这样的集合，它们是由数组支持的，它可能没有什么区别。

使用 Iterator 的最佳原因之一是您可以安全地修改集合而无需引发[ConcurrentModificationException](http://docs.oracle.com/javase/7/docs/api/java/util/ConcurrentModificationException.html)。

# sqlite - GreenDao 库(SQL) 自表Many-To-Many

> ID：12330432
> 
> 赞同：0
> 
> 时间：2012-09-08T11:42:35.343
> 
> 标签：sqlite, greendao

我正在尝试为 USER 表与自身建立多对多关系 - USER 表。这个想法是每个用户可能有一些朋友用户，反之亦然。

我正在使用联结函数执行此操作，但是当我尝试编译它时，我遇到了异常：

线程“主”java.lang.RuntimeException 中的异常：ToOne“用户”的名称从 UsersJoinFollowedUsers 到用户重复

```
at de.greenrobot.daogenerator.Entity.init3rdPassRelations(Entity.java:559)

at de.greenrobot.daogenerator.Entity.init3ndPass(Entity.java:550)

at de.greenrobot.daogenerator.Schema.init3ndPass(Schema.java:185)

at de.greenrobot.daogenerator.DaoGenerator.generateAll(DaoGenerator.java:94)

at de.greenrobot.daogenerator.DaoGenerator.generateAll(DaoGenerator.java:79)

at de.greenrobot.daogenerator.gentest.CodeGenerator.main(CodeGenerator.java:84) 
```

发生这种情况是因为联结函数两次指向同一个实体 - 用户：

用户表 | JUNCTION_TABLE | 用户表

左关系： USER -> JUNCTION -> USER

正确的关系： USER<- JUNCTION <- USER

所以我猜问题是如何在GreenDao中创建这种自我多对多。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T11:36:58.317

消息“从 UsersJoinFollowedUsers 到用户的 ToOne 'User' 的重复名称”表明这将帮助您： [多个 toMany 关系到单个表](https://stackoverflow.com/questions/13257872/multiple-tomany-relationships-to-a-single-table)

# groovy - 在 groovsh 中覆盖 groovy 附带的库？

> ID：12330433
> 
> 赞同：0
> 
> 时间：2012-09-08T11:42:40.377
> 
> 标签：groovy, groovyshell

Groovy 提供了各种第三方库。servlet-api (v2.4) 是 groovy (v 2.0.1) 的示例：

```
groovy:000> javax.servlet.http.HttpServlet.protectionDomain.codeSource
===> (file:/usr/lib/groovy/2.0.1/lib/servlet-api-2.4.jar <no signer certificates>)
groovy:000> 
```

假设我想要一个更新的版本：建议的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-29T18:36:24.690

我在使用 Groovy 脚本运行 Jetty 9.1.x 的嵌入式实例时遇到了这个问题。经过大量的类加载扭曲后，唯一有效的方法是使用`-cp`选项在命令行上指定 JAR：

```
groovysh -cp javax.servlet-api-3.1.0.jar 
```

这会将 JAR 的 URL 放在包含的 servlet-api 前面，以便首先对其进行检查。目前似乎没有其他方法可以解决它：

```
groovy:000> javax.servlet.http.HttpServlet.protectionDomain.codeSource
===> (file:/<current directory>/javax.servlet-api-3.1.0.jar <no signer certificates>) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-09T22:56:56.037

我删除了旧的`groovy/lib/`并添加了我想要的`/home/will/.groovy/lib/`我认为你也可以直接添加到原始的 lib 目录

# php - 如何用 JavaScript 或 jQuery 替换一堆标签？

> ID：12330436
> 
> 赞同：0
> 
> 时间：2012-09-08T11:43:10.703
> 
> 标签：php, javascript, jquery, forms

我在这个标签中有一个“aside”标签我有一个“div”，它包含类似侧面菜单的东西。我希望此菜单仅在用户登录时显示。如果他不是，我希望在那里而不是菜单登录表单。如果创建了 php 会话，我知道如何通过 JavaScript 检查，但我不知道如何用其他代码替换所有代码。这是一个代码：

```
<aside id="main_section_right">
    <div id="side_menu_div">
        <ul id="account_menu">
            <li class="current"><a href="#">Account</a></li>
            <li><a href="#">Edit Account</a></li>
            <li><a href="#">Contact</a></li>
            <li><a href="#">Help</a></li>
            <li><a href="#">Log Out</a></li>
        </ul>
    </div>
</aside> 
```

现在，如果用户未登录，我希望“ul”标签内的代码更改为此。

```
<form>
    <li><input type="text" class="form" id="username" name="usr"/></li>
    <li><input type="text" class="form" id="password" name="paw"/></li>
    <li>
        <button type="submit" class="login_button" id="login_button">
            <b>Login</b>
        </button>
    </li>
</form> 
```

有没有办法用 jQuery 或 JavaScript 做到这一点？所以这一切看起来像这样：

```
<script type="text/javascript">
    if (logged_in) {
        document.getElementById("side_menu_div").innerHTML = 
    } else {
        document.getElementById("side_menu_div").innerHTML =
    }
</script> 
```

但这仅在我更改文本而不是替换标签时才有效。好吧，谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T12:08:21.640

另一个想法可能是将其中的两个元素组合起来，`#side_menu_div`并根据登录状态切换它们的可见性。看到[这个jsfiddle](http://jsfiddle.net/KooiInc/jXYb6/)

```
<div id="side_menu_div">
  <div id="loggedin">
   <ul id="account_menu">
     <li class="current"><a href="#">Account</a></li>
     <li><a href="#">Edit Account</a></li>
     <li><a href="#">Contact</a></li>
     <li><a href="#">Help</a></li>
     <li><a href="#">Log Out</a></li>
   </ul>
  </div>
  <div id="notloggedid" class="chklogin">
   <form>
    <ul>
     <li><input type="text" class="form" id="username" name="usr"/></li>
     <li><input type="text" class="form" id="password" name="paw"/></li>
     <li><button type="submit" class="login_button" id="login_button">
                     <b>Login</b></button></li>
     </ul>  
   </form>
  </div>
</div> 
```

切换显示功能：

```
function _setMenu(loginstatus){
 if (loginstatus){
    $('#loggedin').show();
    $('#notloggedin').hide();
 } else {
    $('#loggedin').hide();
    $('#notloggedin').show();
 }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T15:32:26.017

您也可以将菜单放在一个文件中，比如*menu.html*，并将表单放在其他文件*form.html*中。

```
var isLogged; // This variable shoud be a boolean indicating if the user is logged

if (isLogged) $("#main_section_right").load("menu.html");
else          $("#main_section_right").load("form.html"); 
```

顺便说一句，您可以对**UL**元素而不是整个**side**元素执行相同的操作，但更改 side 更好，因为如果不是您的 id（例如 *#side_menu_div*）将不是一个很好的参考。

# css - 和 推动 向下

> ID：12330441
> 
> 赞同：1
> 
> 时间：2012-09-08T11:43:45.937
> 
> 标签：css, html, menu, html-lists

我的`<ul>` `<li>`标签有问题，我不确定问题是否真的存在于这些类中。

当我执行此代码时，“菜单”div 会从父“标题”div 向下推约 10px。（奇怪的附加信息：当我在“菜单” div 上设置边框时，它不会向下推）

这是我的代码供您查看：

HTML 代码：

```
<div class="background"></div>
        <div class="page">
            <div class="header">
                <div class="headerLogo"><img src="images/logo.png" style="margin-top:42px;"></div>
            </div>

            <div class="menu">
                <div class="menuContainer">
                        <ul id="nav">
                            <li class="forside"><a href="?p=hjem">Forside</a></li>
                        </ul>
                </div>
            </div>

            <div class="content">
            </div>

            <div class="footer">
            </div>
        </div> 
```

代码：

```
html, body {
    height:100%; 
    margin:0; 
    padding:0;
}
img {
    border: none;
}
textarea{
    resize: none;
}

.background {
    position:fixed; 
    top:0; 
    left:0; 
    width:100%; 
    height:100%;
    background-color: #e6e6e6;
    background-image: url('images/bg.png');
}

.page {
    position:relative; 
    z-index:1; 
}

.header {
    position:relative;
    height:192px;
    width: 100%;
    background: url(images/header.png) 0 0 repeat-x;
}

.headerLogo{
    position:relative;
    margin:0px auto;
    width:475px;
}

.menu {
    position:relative;
    height: 31px;
    width: 100%;
    background: url(images/menubg.png) 0 0 repeat-x;

}

.menuContainer {
    position:relative;
    width: 850px;
    margin:0px auto;
    height:25px;
}

.content {
    position:relative;
    width:850px;
    height: auto;
    margin: 0 auto;
    min-height:450px;
    background: url(images/content.png) 0 0 repeat-y;
}

.footer {
    position:relative;
    width: 100%;
    height: 141px;
    background: url(images/footer.png) 0 0 repeat-x;

}

// Menu
    ul#nav {
        list-style: none inside;
        }
        ul#nav li {
            display: inline;
            }
            ul#nav li a {
                display: block;
                height: 25px;
                text-indent: -9999px;
                float: left;
                }
                ul#nav li.forside  a{
                    width:80px;
                    background: url(images/menu/forside.png) top center no-repeat;
                    }               
                    ul#nav li a:hover {
                        background-position: bottom center;
                    }
                ul#nav li.forside2  a{
                width:80px;
                background: url(images/menu/forside.png) bottom center no-repeat;
                } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:50:59.450

我想你添加下面的样式，然后你执行。

```
ul
{
margin:0px;
} 
```

# php - Magento，在 php 中以数字形式获取评分

> ID：12330445
> 
> 赞同：1
> 
> 时间：2012-09-08T11:44:27.530
> 
> 标签：php, zend-framework, magento, magento-1.4, magento-1.6

我正在尝试更改我的模板以反映 schema.org html 到目前为止我遇到的唯一问题是评论平均值应该是从 0 到 5 的数字。

有一个名为 getratingssummary 的函数，但它在 div 的样式属性中使用，我认为它不返回数字

到目前为止我有这个

```
<?php if ($this->getReviewsCount()): ?>
    <div class="ratings">
        <?php if ($this->getRatingSummary()):?>
          <span itemprop="aggregateRating" itemscope itemtype="http://schema.org/AggregateRating">
            <div class="rating-box">
                <div class="rating" style="width:<?php echo $this->getRatingSummary() ?>%"><meta itemprop="ratingValue" content="5"/></div>
                <span itemprop="reviewCount"><?php echo $this->getReviewsCount() ?></span>
            </div>
          </span>
        <?php endif;?>
        <p class="rating-links">
            <a href="<?php echo $this->getReviewsUrl() ?>"><?php echo $this->__('%d Review(s)', $this->getReviewsCount()) ?></a>
            <!--<span class="separator">|</span>-->
            <!--<a href="<?php echo $this->getReviewsUrl() ?>#review-form"><?php echo $this->__('Add Your Review') ?></a>-->
        </p>
    </div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-29T09:56:07.893

要获得数字星级而不是打开所需的评论助手的百分比，可以是；

```
app/design/frontend/default/YOURTHEME/template/review/helper/summary_short.phtml 
```

或者

```
app/design/frontend/default/YOURTHEME/template/review/helper/summary.phtml 
```

并使用此代码获取您的号码；

```
<?php
$ratingPercent = $this->getRatingSummary();
echo ($ratingPercent * 5)/100;
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-09T00:00:23.017

getRatingSummary 函数确实返回一个数值，它恰好是一个百分比。如果你看一下在 rating div 的 style 属性中调用它的方式，你会看到（如果你用 X 替换函数调用）......它肯定会带回一个百分比。

```
<div class="rating" style="width:X%"> 
```

我会回显**$this->getRatingSummary()**函数调用，看看你得到了什么，然后你可以通过数学把它变成一个 0-5 的值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-29T11:30:37.210

你可以试试这个，但你必须让它显示一个数字而不是百分比：

```
<?php
$storeId = Mage::app()->getStore()->getId();
$summaryData = Mage::getModel('review/review_summary')->setStoreId($storeId)  ->load($_product->getId());
?>                      

// Rating Percentage showing of a product
 <div class="rating"><?php echo $summaryData['rating_summary']; ?>%</div> 
```

# hadoop - Hadoop的段落处理

> ID：12330447
> 
> 赞同：4
> 
> 时间：2012-09-08T11:44:58.987
> 
> 标签：hadoop

是否可以将文本段落传递给 Mapper 类而不是逐行传递。我正在寻找一个 ParagraphRecordReader 实现。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T11:58:00.147

[https://stackoverflow.com/a/5398215/1660002](https://stackoverflow.com/a/5398215/1660002)的答案可以回答这个要求。但是，您也可以简单地将配置参数设置`textinputformat.record.delimiter`为双换行符字符串（例如：）`"\n\n"`来解决此问题。

Apache Hadoop 0.23.x 和 2.x 版本以及 Cloudera 的 CDH3 和 CDH4 版本（如果您使用这些版本）中提供了此可配置功能。

# django - 覆盖 Django Admin 多选小部件的大小

> ID：12330458
> 
> 赞同：17
> 
> 时间：2012-09-08T11:46:54.457
> 
> 标签：django, django-admin

新手 Django 问题：我希望 Django 管理员在多选小部件中显示更多行选择。我有一个非常长的列表可供选择，默认的 4 行并不方便，尤其是在滚动时。

现在，该小部件呈现为**select multiple**但我希望它是**select multiple size="12"**。理想情况下，这应该针对特定字段，但我可以使用相同大小属性呈现的所有字段。

那么在 Django 中哪里是改变这一点的最佳位置呢？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-09-27T03:45:51.327

我在 admin.py 中通过为所有 ManyToManyField 项目设置一个毯子大小来做到这一点，例如：

```
from django.contrib import admin
from django.forms import SelectMultiple
from django.db import models
from models import *

class RiverAdmin(admin.ModelAdmin):
    formfield_overrides = { models.ManyToManyField: {'widget': SelectMultiple(attrs={'size':'10'})}, }

admin.site.register(River, RiverAdmin) 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-09-11T08:41:13.560

如果您有一个会不断增长的长选择，我建议使用[自动完成小部件](http://www.djangopackages.com/grids/g/auto-complete/)。

无论如何，您可以：

1.  为有问题的模型**[创建一个 ModelForm](https://docs.djangoproject.com/en/dev/topics/forms/modelforms/)**

2.  **[为有问题的字段覆盖默认小部件](https://docs.djangoproject.com/en/dev/topics/forms/modelforms/#overriding-the-default-field-types-or-widgets)**，

3.  根据您的需要**[设置小部件的大小属性](https://docs.djangoproject.com/en/dev/ref/forms/widgets/#django.forms.Widget.attrs)**

4.  例如**[，在 ModelAdmin 中启用该表单](https://docs.djangoproject.com/en/1.0/ref/contrib/admin/#django.contrib.admin.ModelAdmin.form)**

    ```
    class YourModelForm(forms.ModelForm):
        class Meta:
            model = YourModel
            widgets = {
                'your_field': forms.SelectMultiple(attrs={'size': 12})
            }

    class YourModelAdmin(admin.ModelAdmin):
        form = YourModelForm 
    ```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-08-12T05:12:56.170

有一种方法可以做到这一点，就是覆盖 formfield_for_manytomany 来设置 size 属性。

```
def formfield_for_manytomany(self, db_field, request, **kwargs):
        form_field = super().formfield_for_manytomany(db_field, request, **kwargs)
        if db_field.name in [*self.filter_horizontal]:
            form_field.widget.attrs={'size': '10'}
        return form_field 
```

* * *

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-03T10:28:00.790

我能够根据相关表行的初始数量来制作行数，但是它不会动态更新（可能需要将 Javascript 插入管理表单并通过 AJAX 查询行数，这太大了，无法在此处发布）。

```
class ProfileAdminForm(forms.ModelForm):
    class Meta:
        model = Profile
        fields = '__all__'
        widgets = {
            # Will dynamically change number of rows in select multiple, however only after server reload.
            'spec_profiles': forms.SelectMultiple(attrs={'size': SpecProfile.objects.count()})
        }

class ProfileAdmin(admin.ModelAdmin):
    form = ProfileAdminForm 
```

# sql-server - 在 asp.net MVC 应用程序中实现 Code First 模式时出错

> ID：12330462
> 
> 赞同：0
> 
> 时间：2012-09-08T11:47:34.263
> 
> 标签：sql-server, asp.net-mvc, asp.net-4.0, code-first

我从这里创建了一个示例 MVC 应用程序：

[**点击这里**](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application)

我正在使用 Visual Studio 2010 IDE。请参阅***设置连接字符串*** 部分。

我想直接使用安装在我的系统上的 SQL Server 2008 而不是 SQL Server Compact Edition，所以当我在 web.config 中放入以下连接字符串时，我收到一条错误消息：

```
<add name="SchoolContext" connectionString="server=(local);database=School;user id=sa;password=1234;" providerName="System.Data.SqlClient" /> 
```

![在此处输入图像描述](../Images/4feb227f5e5fdff60c018b07d1205b58.png)

如何解决此错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:59:14.740

学校数据库是否已经存在？如果是这样，请将其删除并让 Code First 重新创建它。

# c# - 将 FileSyncProvider COM 与并行和免注册部署和执行一起使用

> ID：12330466
> 
> 赞同：1
> 
> 时间：2012-09-08T11:47:47.607
> 
> 标签：c#, .net, com

我正在尝试执行以下操作：-按照分步指南[http://msdn.microsoft.com/en-us/library/ms973913.aspx](http://msdn.microsoft.com/en-us/library/ms973913.aspx)进行 com 组件的免注册（例如在锁定的计算机上) - 为了将 Microsoft Sync Framework 2.1 与并排部署免注册 com（visual studio 2010、c#.net 4.0、windows 7 和 xp）一起使用，因为我会避免在每台计算机上安装客户端运行时 msi（只有 2 或 3 个用户会使用该应用程序）

这可能吗 ？如果是这样，清单内容是什么，特别是对于 tlbid 和 iid 值？

提前致谢。

# vb.net - 将 ListView 的内容插入 DataSet

> ID：12330474
> 
> 赞同：1
> 
> 时间：2012-09-08T11:48:49.287
> 
> 标签：vb.net, dataset

我想寻求有关数据集和 Crystal Reports 的帮助。

我在数据集中有两个数据表，即 DeliveredItems 和 DeliveryDetails。我遇到的问题是在 DeliveredItems 部分，其中我在以下行中遇到错误：

```
dataSet.Tables("DeliveredItems").Rows.Add(row) 
```

这给了我：

```
"The row already belongs to this table." 
```

在调整代码后，它返回了一个错误：

```
"Object reference not set to an instance of an object." 
```

我的目标是让 ListView 的所有项目及其在数据集中的子项目显示在 Crystal Report 上。这是我的代码：

```
Private Sub CreateReport()

    'Initialize the needed objects for report document.
    Dim myDeliveryReport As New rptDeliveryReceipt
    Dim row As DataRow = Nothing
    Dim row2 As DataRow = Nothing
    Dim dataSet As New DataSet
    Dim counter As Integer = lviDeliveryList.Items.Count
    Dim tempCount As Integer = 0
    Dim listViewItems As New ListViewItem()

    'Create a new DataTable named Delivery Details
    dataSet.Tables.Add("DeliveryDetails")

    'Create columns for the new DataTable named Delivery Details.
    With dataSet.Tables(0).Columns

        .Add("deliveryClientName", Type.GetType("System.String"))
        .Add("deliveryClientStreetAddress", Type.GetType("System.String"))
        .Add("deliveryClientCity", Type.GetType("System.String"))
        .Add("deliveryDRNumber", Type.GetType("System.String"))
        .Add("deliveryDate", Type.GetType("System.String"))
        .Add("deliveryPONumber", Type.GetType("System.String"))

    End With

    'Initialize and insert delivery heading to the DataTable.
    row = dataSet.Tables(0).NewRow
    row(0) = txtDeliveryTargetClient.Text
    row(1) = txtDeliveryClientAddress.Text
    row(2) = txtDeliveryClientCity.Text
    row(3) = txtDRNumber.Text
    row(4) = dtpDeliveryDate.Value.ToString
    row(5) = txtDRPO.Text
    dataSet.Tables(0).Rows.Add(row)

    'Create another DataTable called DeliveredItems
    dataSet.Tables.Add("DeliveredItems")

    'Create columns for the new DataTable named DeliveryItems.
    With dataSet.Tables(1).Columns

        .Add("deliveryCatNumber", Type.GetType("System.String"))
        .Add("deliveryItemDescription", Type.GetType("System.String"))
        .Add("deliveryItemQuantity", Type.GetType("System.String"))
        .Add("deliveryItemUnit", Type.GetType("System.String"))
        .Add("deliveryItemDetails", Type.GetType("System.String"))

    End With

    row = Nothing
    row = dataSet.Tables(1).NewRow

    'Store every data in an array for insertion.
    Dim deliveredItemsCount As Integer = lviDeliveryList.Items.Count
    Dim tempArray() As String
    ReDim tempArray(5)
    Dim deliveryListViewItem As New ListViewItem()

    For counter = 0 To deliveredItemsCount

        deliveryListViewItem = lviDeliveryList.Items.Item(counter)
        tempArray(0) = lviDeliveryList.Items.Item(counter).ToString
        tempArray(1) = deliveryListViewItem.SubItems(1).ToString
        tempArray(2) = deliveryListViewItem.SubItems(2).ToString
        tempArray(3) = deliveryListViewItem.SubItems(3).ToString
        tempArray(4) = deliveryListViewItem.SubItems(4).ToString

        'Insert new records to the DeliveredItems.
        row2(0) = tempArray(0)
        row2(1) = tempArray(1)
        row2(2) = tempArray(2)
        row2(3) = tempArray(3)
        row2(4) = tempArray(4)
        dataSet.Tables("DeliveredItems").Rows.Add(row)

        For counterClear = 0 To (deliveredItemsCount - 1)
            tempArray(counter) = Nothing
        Next counterClear

        row2 = Nothing

    Next counter

    'Set Data Sources for the Crystal Report.
    myDeliveryReport.SetDataSource(dataSet)
    frmDeliveryReceiptReport.crvDeliveryReceipt.ReportSource = myDeliveryReport

    'Dispose after using.
    dataSet.Dispose()
    dataSet = Nothing

End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T14:31:11.293

在这一行

```
 dataSet.Tables("DeliveredItems").Rows.Add(row) 
```

您添加的是 row 而不是 row2 并且 row2 从未初始化我想您想要这样做：

```
For counter = 0 To deliveredItemsCount   

    deliveryListViewItem = lviDeliveryList.Items.Item(counter)   
    tempArray(0) = lviDeliveryList.Items.Item(counter).ToString   
    .....

    row2 = dataSet.Tables("DeliveredItems").NewRow
    row2(0) = tempArray(0)   
    ......
    dataSet.Tables("DeliveredItems").Rows.Add(row2) 
```

作为最后一点。我认为您可以避免使用 tempArray ...直接从 deliveryListViewItem 设置 row2 的值。（最后也删除数组清除）

# jquery-plugins - 数据表 jQuery 插件

> ID：12330481
> 
> 赞同：2
> 
> 时间：2012-09-08T11:49:29.073
> 
> 标签：jquery-plugins, pagination, datatables

我正在使用 jQuery 数据表插件进行排序、过滤和分页，如下面的链接所示。它工作得很好。没有问题。分页显示在表格的右下角。我希望它显示在表格顶部的搜索框旁边。我尝试更改 css 但没有成功。

有可能改变吗？以下是我引用的链接。请帮忙..

[http://datatables.net/](http://datatables.net/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T19:13:12.437

是的，您可以使用 DOM 自定义来执行此操作以及更多操作，如[本示例所示](http://datatables.net/release-datatables/examples/basic_init/dom.html)

基本上你必须使用 sDom 参数

在为您自己的用途自定义 DataTables 时，您可能会发现功能元素（过滤器输入等）的默认位置并不完全符合您的喜好。为了解决这个问题，DataTables 从 CSS 3 高级布局模块中汲取灵感，并提供了 sDom 初始化参数，该参数可以设置为指示您在 DOM 中出现哪些特定功能。您还可以指定 div 包装容器（带有类）以提供完整的布局灵活性。可用的语法是：

l - 长度变化
f - 过滤输入
t - 表格！
i - 信息
p - 分页
r - pRocessing
< 和 > - div 元素
<"class" 和 > - 带有类的 div
示例：<"wrapper"flipt>, ip>

因此，例如，您可以使用

```
$(document).ready(function(){
  $('#example').dataTable({
    "sDom" : 'lpfrti'
  });
}); 
```

[http://live.datatables.net/awemoc/edit#javascript,html,live](http://live.datatables.net/awemoc/edit#javascript,html,live)

# asp.net - 更新数据库时出错

> ID：12330482
> 
> 赞同：-5
> 
> 时间：2012-09-08T11:49:35.667
> 
> 标签：asp.net, sql

我想从我的网页中的 FreeTextBox 更新数据库。但我不能这样做，我的代码如下：

```
protected void Button1_Click(object sender, EventArgs e)
{
    string page1 = DropDownList1.SelectedValue;
    SqlConnection con = new SqlConnection(
        "Data Source=NODE5-PC;Initial Catalog=hans;User ID=sa;Password=123");

    con.Open();

    string sql = "UPDATE PageMaster SET Content=@FreeText WHERE Page=@Page1 ";

    SqlCommand ucmd = new SqlCommand(sql, con);

    ucmd.Parameters.AddWithValue("@FreeText", FreeText.Text);

    ucmd.ExecuteNonQuery();
    con.Close();
    FreeText.Text = "";
} 
```

发生的错误是：

> 必须声明标量变量“@Page1”。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T11:54:54.907

异常清楚地表明，“......必须声明标量变量“@Page1”。”

尝试添加：

```
ucmd.Parameters.AddWithValue("@Page1", <YOUR VALUE FOR @Page1>); 
```

# asp.net-mvc-3 - 每次更改一行 CSS 时，是否需要重新部署到开发盒上的 IIS Express？

> ID：12330485
> 
> 赞同：1
> 
> 时间：2012-09-08T11:49:48.413
> 
> 标签：asp.net-mvc-3, visual-studio-2010, iis, azure, iis-express

我正在使用 VS2010 开发云应用程序。以前我使用的是 Hosted Web Core，但现在它已切换到 IIS Express。

之前，如果我对 CSS 进行更改，那么我所要做的就是刷新页面，它会选择新的 CSS。现在，当我更改 CSS 时，我需要重新部署应用程序（3-4 分钟），然后才能看到所做更改的效果。

有什么办法可以让我立即看到源 CSS 或 javascript 的更改，而不必等待几分钟重新部署？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T22:44:55.783

通过将修改时间附加到 URL 来引用静态内容

```
http://server/folder/file.css?201206241526347561423 
```

与将缓存破坏器添加到您的其他网址相同...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T12:39:08.137

不，但是您可能希望`shift`在单击浏览器刷新按钮时按住该键以重新加载`css`.

我使用 IIS Express，有时会遇到这个问题，但它与 IIS Express 无关。浏览器不会重新下载它最近已经兑现的文件。因此，强制它重新下载将起作用，如果您对活动站点进行了重大更改并部署它，您不希望用户遇到此问题，您可以执行诸如[时间戳文件](http://css-tricks.com/can-we-prevent-css-caching/)之类的操作，或者如果不是通常只需更改文件名或文件位置，以便浏览器下载一个新文件。

看看这个问题：[如何强制浏览器重新加载缓存的 CSS/JS 文件？](https://stackoverflow.com/q/118884/985284)

此外，MVC4 及其新版本`bundling`可能会阻止此问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T22:06:30.967

在您的浏览器中使用隐身模式以避免缓存样式表等。[http://david.dojotoolkit.org/recss.html](http://david.dojotoolkit.org/recss.html)是一个强制重新加载样式的书签，这也是解决此问题的一个方便的解决方案。

部署项目时，您是否还在删除或替换服务器上的较新文件？检查您的 CSS / JS 文件属性 vs. 确保发布设置设置为始终不仅在较新的情况下

# xml - 架构设计：松散重复与僵化？

> ID：12330486
> 
> 赞同：1
> 
> 时间：2012-09-08T11:50:10.947
> 
> 标签：xml, xsd

抱歉，如果这个问题太开放了，最好在其他地方问。

我目前正在讨论代表问卷集的 XML 模式的模式设计。问卷相当相似，并且包含具有以下几个属性的问题：

*   问题唯一 ID
*   问题标题
*   问题答案类型（文本、数字、日期等）
*   答案值

我们通过网站获取问卷的答案，现在需要通过 XML 消息将其发送给其他方。我想知道发送代表填写问卷的 XML 文档的利弊：

1.  像这样的“重复和灵活”格式：

    ```
    <Questionnaire>
        <Questions>
            <Question>
                <QuestionId>1234</QuestionId>
                <Name>Interviewee</Name>
                <Answer>Joe Bloggs</Answer>
            </Question>
            <Question>
                <QuestionId>1235</QuestionId>
                <Name>Date of birth</Name>
                <Answer>1980-03-15</Answer>
            </Question>
            ...
        </Questions>
    </Questionnaire> 
    ```

2.  更严格的格式：

    ```
    <Questionnaire>
        <Interviewee>Joe Bloggs</Interviewee>
        <DateOfBirth>1980-03-15</DateOfBirth>
        ...
    </Questionnaire> 
    ```

很少有调查问卷可以在每次生成新的 XSD 时创建一个单独的 XSD 可能不会引起太大的头痛。

我的想法是第二个会更容易验证，并且由于问题具有类型，因此这些问题可以很好地映射到模式数据类型。然而，当我们通过网站捕获响应时，第一个自然会更容易从我们对问题的基本表示产生。

这类设计决策是否有任何一般的最佳实践，或者一种方法比另一种方法引起的麻烦更少的明显原因，或者这真的仅取决于所表示的特定数据集以及如何处理它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T16:48:44.593

# java - 在线程上多次调用 start() 会发生什么

> ID：12330488
> 
> 赞同：-9
> 
> 时间：2012-09-08T11:50:22.363
> 
> 标签：java, multithreading

如果我调用`start()`线程 A，使其运行，然后`start()`在它仍在运行时再次调用，会发生什么？

例子：

```
myThread.start();

// myThread is running...  

myThread.start(); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T11:52:44.993

将引发[IllegalThreadState](http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalThreadStateException.html)异常。没有办法让线程在启动后恢复到“等待启动”状态，因此无论线程在第一个之后处于何种状态，第二个线程都`start`将处于错误状态。

# java - 关于在非常 Swing 页面上添加容器的问题

> ID：12330489
> 
> 赞同：1
> 
> 时间：2012-09-08T11:50:33.770
> 
> 标签：java, swing, jframe, jcomponent

```
public class POSToolBar extends JFrame {

/**
 * Launch the application.
 */
private BrowserToolBar toolBar;

public POSToolBar() {
    super("POS");
    Container content = getContentPane();
    content.setBackground(Color.white);
    toolBar = new BrowserToolBar();
    content.add(toolBar, BorderLayout.NORTH);
    pack();
    setVisible(true);
}
} 
```

上面的代码为我生成了一个工具栏。现在我想在每个其他摆动页面上使用这个工具栏。我继承/扩展了这个类并使用了 frame.add(new POSToolbar()) 但它向我显示了一个异常'java.lang.IllegalArgumentException：向容器添加一个窗口' 如何在我的其他摇摆页面上添加这个工具栏？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:52:37.763

如果您想在其他类中使用它，它必须扩展 JToolBar 而不是 JFrame。

```
import java.awt.BorderLayout;
import java.awt.Dimension;
import javax.swing.*;

public class TestApplication extends JFrame {
    public static void main(String [] a){
        TestApplication ta = new TestApplication();
        TBar t = new TBar();
        ta.setLayout(new BorderLayout());
        ta.add(t,BorderLayout.NORTH);
        ta.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        ta.setPreferredSize(new Dimension(400,300));
        ta.pack();
        ta.setVisible(true);
    }
}

class TBar extends JToolBar{
    JButton b = new JButton("Hello");

    public TBar(){
        add(b);
    }
} 
```

# netbeans-7 - 将 derby 数据库附加到 jar 文件中

> ID：12330496
> 
> 赞同：1
> 
> 时间：2012-09-08T11:51:19.990
> 
> 标签：netbeans-7, javadb

我正在通过数据库应用程序（SWING）。我正在使用 Java DB 和 NetBeans 7.1.2。在 IDE 中，应用程序运行良好，前提是我最初在“服务”窗口中手动连接数据库。此外，我已将 derby.jar 和 derbyclient.jar 文件添加到库中。但是从“dist”文件夹运行应用程序时，它无法连接到数据库。我想知道我是否可以在 jar 文件中附加数据库，以便我可以从 IDE 外部运行应用程序。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T12:04:28.607

您可以执行以下操作

*   `java DB`在 netbeans 之外启动或
*   如果您使用 Derby，请使用`Embedded mode`. 这样您就可以在没有单独的数据库服务器的情况下运行您的应用程序。

# mysql - MySQL 5.5 命令行客户端在 Windows 7 中忘记密码

> ID：12330497
> 
> 赞同：2
> 
> 时间：2012-09-08T11:51:39.067
> 
> 标签：mysql, windows-7, password-recovery

我忘记了 Windows 7 中 MySQL 5.5 命令行客户端的 root 密码。我无法登录。如何找回密码或重置？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T11:53:34.103

RTM：[http ://dev.mysql.com/doc/refman/5.0/en/resetting-permissions.html](http://dev.mysql.com/doc/refman/5.0/en/resetting-permissions.html)

这是一步一步的过程：

重要提示：您需要在 Windows 上拥有系统管理员权限。

1-停止你的 MySQL 服务器

2- 创建一个空文本文件，并将这些语句放入：

```
UPDATE mysql.user SET Password=PASSWORD('MyNewPass') WHERE User='root';
FLUSH PRIVILEGES; 
```

您可以用您自己的密码替换字符串“MyNewPass”。

3- 保存文本文件。（例如 c:\temps\mysql-reset-pass.sql ）

4-重新启动 MySQL 服务器并告诉它加载文件：

```
mysqld-nt --console --init-file=c:\temps\mysql-reset-pass.sql 
```

根据您的 MySQL 安装，您可能还需要提供 ini 文件的路径。在这种情况下，添加“--defaults-file”开关

```
mysqld-nt --console --init-file=c:\temps\mysql-reset-pass.sql --defaults-file=c:\path\to\my.ini 
```

5-正常重启服务器。您应该可以使用新密码进行连接

请记住删除您刚刚在步骤 2 中创建的文本文件。它包含明文形式的密码。

# html - 从手机浏览器发送短信

> ID：12330498
> 
> 赞同：1
> 
> 时间：2012-09-08T11:51:48.297
> 
> 标签：html, mobile, blackberry, sms

在手机浏览器中点击链接后可以发送短信吗？[与此](http://answers.oreilly.com/topic/2166-how-to-send-a-text-message-from-your-mobile-website/)链接类似- 但它与 BlackBerry、Openwave (Myriad) 浏览器不兼容。是否有所有浏览器兼容的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-09T10:59:34.243

这是来自 BB 开发者专区的一篇短文：

[https://developer.blackberry.com/html5/api/blackberry.message.sms.html](https://developer.blackberry.com/html5/api/blackberry.message.sms.html)

# c - sprintf 浮点和双变量

> ID：12330499
> 
> 赞同：0
> 
> 时间：2012-09-08T11:51:49.267
> 
> 标签：c, avr

```
sprintf(SBuff,"Float value %0.4f ",temp_float);
USART0_TransmitString(SBuff); 
```

我也尝试过 %f，并使 temp_float 变量加倍（%lf）。

但是在 Usart 上我总是得到**浮点值？**代替 temp_float 值，我得到问号。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T12:10:22.427

AVR`sprintf()`默认不实现浮点来节省闪存空间，您需要更改一些编译器选项才能实现；

> 如果需要包括浮点转换在内的全部功能，则应使用以下选项：
> 
> -Wl,-u,vfprintf -lprintf_flt -lm

完整的细节可以在[这里](http://www.nongnu.org/avr-libc/user-manual/group__avr__stdio.html)找到。

# iphone - 如何在 iPhone 中实现条形图？

> ID：12330501
> 
> 赞同：9
> 
> 时间：2012-09-08T11:52:09.760
> 
> 标签：iphone, core-plot, bar-chart

我正在使用简单的条形图应用程序，`Coreplot`用于开发此应用程序，然后我尝试实现条形图，但我发现了问题

```
 [__NSCFConstantString sizeWithTextStyle:]: unrecognized selector sent to instance 0x7fb4c'
   First throw call stack: 
```

如何解决这个问题？请帮我

提前致谢

**我试过这个：**

**视图控制器.h**

```
#import <UIKit/UIKit.h>
#import "CorePlot-CocoaTouch.h"

@interface GraphViewController : UIViewController <CPTPlotDataSource>
{
    CPTXYGraph *barChart;
    NSTimer *timer;
    NSMutableArray *samples;
}

-(void) getGraphValues;

@end 
```

**视图控制器.m**

```
 - (void)viewDidLoad
    {
        [super viewDidLoad];

        self.view.backgroundColor=[UIColor whiteColor];
        self.title = @"Sample";
        self.navigationController.navigationBar.barStyle = UIBarStyleBlack;
        [self.navigationController setNavigationBarHidden:NO];

        [self getGraphValues];

        double xAxisLength = [samples count];

        barChart = [[CPTXYGraph alloc] initWithFrame:CGRectMake(0, 0, 320, 380)];

        barChart.plotAreaFrame.borderLineStyle = nil;
        barChart.plotAreaFrame.cornerRadius = 0.0f;

        barChart.paddingLeft = 0.0f;
        barChart.paddingRight = 0.0f;
        barChart.paddingTop = 0.0f;
        barChart.paddingBottom = 0.0f;

        barChart.plotAreaFrame.paddingLeft = 60.0;
        barChart.plotAreaFrame.paddingTop = 40.0;
        barChart.plotAreaFrame.paddingRight = 10.0;
        barChart.plotAreaFrame.paddingBottom = 40.0;

        barChart.title = @"Sample Innovations";

        CPTMutableTextStyle *textStyle = [CPTTextStyle textStyle];
        textStyle.color = [CPTColor grayColor];
        textStyle.fontSize = 16.0f;
        textStyle.textAlignment = CPTTextAlignmentCenter;
        barChart.titleTextStyle = textStyle;  // Error found here
        barChart.titleDisplacement = CGPointMake(0.0f, -10.0f);
        barChart.titlePlotAreaFrameAnchor = CPTRectAnchorTop;

        CPTXYAxisSet *axisSet = (CPTXYAxisSet *)barChart.axisSet;
        CPTXYAxis *x = axisSet.xAxis;
        x.axisLineStyle = nil;
        x.majorTickLineStyle = nil;
        x.minorTickLineStyle = nil;
        x.majorIntervalLength = CPTDecimalFromString(@"10");
        x.orthogonalCoordinateDecimal = CPTDecimalFromString(@"0");
        x.title = @"Names";
        x.titleLocation = CPTDecimalFromFloat(7.5f);
        x.titleOffset = 25.0f;

        // Define some custom labels for the data elements
        x.labelRotation = M_PI/5;
        x.labelingPolicy = CPTAxisLabelingPolicyNone;

        NSArray *customTickLocations = [NSArray arrayWithObjects:[NSDecimalNumber numberWithInt:0], [NSDecimalNumber numberWithInt:1], [NSDecimalNumber numberWithInt:2], [NSDecimalNumber numberWithInt:3], [NSDecimalNumber numberWithInt:4], nil];

        NSArray *xAxisLabels = [NSArray arrayWithObjects:@"a", @"b", @"c", @"d", @"e", nil];
        NSUInteger labelLocation = 0;

        NSMutableArray *customLabels = [NSMutableArray arrayWithCapacity:[xAxisLabels count]];
        for (NSNumber *tickLocation in customTickLocations) 
        {
            CPTAxisLabel *newLabel = [[CPTAxisLabel alloc] initWithText: [xAxisLabels objectAtIndex:labelLocation++] textStyle:x.labelTextStyle];
            newLabel.tickLocation = [tickLocation decimalValue];
            newLabel.offset = x.labelOffset + x.majorTickLength;
            newLabel.rotation = M_PI/xAxisLength;
            [customLabels addObject:newLabel];
        }

        x.axisLabels =  [NSSet setWithArray:customLabels];

        CPTXYAxis *y = axisSet.yAxis;
        y.axisLineStyle = nil;
        y.majorTickLineStyle = nil;
        y.minorTickLineStyle = nil;
        y.majorIntervalLength = CPTDecimalFromString(@"50");
        y.orthogonalCoordinateDecimal = CPTDecimalFromString(@"0");
        y.title = @"Work Status";
        y.titleOffset = 40.0f;
        y.titleLocation = CPTDecimalFromFloat(150.0f);

        CPTGraphHostingView *hostingView = [[CPTGraphHostingView alloc] initWithFrame:CGRectMake(0, 0, 320, 360)];
        hostingView.hostedGraph = barChart;
        [self.view addSubview:hostingView];

        CPTXYPlotSpace *plotSpace = (CPTXYPlotSpace *) barChart.defaultPlotSpace;
        plotSpace.xRange = [CPTPlotRange plotRangeWithLocation:CPTDecimalFromDouble(0.0f) length:CPTDecimalFromDouble(16.0f)];
        plotSpace.yRange = [CPTPlotRange plotRangeWithLocation:CPTDecimalFromDouble(0.0f) length:CPTDecimalFromDouble(500.0f)];

        CPTBarPlot *barPlot = [CPTBarPlot tubularBarPlotWithColor:[CPTColor blueColor] horizontalBars:NO];
        barPlot.plotRange = [CPTPlotRange plotRangeWithLocation:CPTDecimalFromDouble(0.0) length:CPTDecimalFromDouble(10)];//xAxisLength
        barPlot.barOffset = CPTDecimalFromFloat(0.25f);
        barPlot.baseValue = CPTDecimalFromString(@"0");
        barPlot.barWidth = CPTDecimalFromFloat(10.0f);
        barPlot.cornerRadius = 2.0f;
        barPlot.dataSource = self;
        [barChart addPlot:barPlot];
    }

    -(void) getGraphValues
    {
        int barValues [] = {10,50,100,200};//,150,200,10,20,30,40,50,100,400,450,350
        int barNums = sizeof(barValues) / sizeof(int);

        samples = [[NSMutableArray alloc] initWithCapacity:barNums];

        for (int i = 0; i < 4; i++)
        {
            double x = i;
            double y = barValues[i];
            NSLog(@"XVal : %@", X_VAL);
            NSDictionary *sample = [NSDictionary dictionaryWithObjectsAndKeys:
                                    [NSNumber numberWithDouble:30],X_VAL,[NSNumber numberWithDouble:y],Y_VAL,nil];
            [samples addObject:sample];
        }   
    }

-(NSUInteger)numberOfRecordsForPlot:(CPTPlot *)plot 
{
    return [samples count];
}

-(NSNumber *)numberForPlot:(CPTPlot *)plot field:(NSUInteger)fieldEnum recordIndex:(NSUInteger)index 
{
    NSDictionary *sample = [samples objectAtIndex:index];

    if (fieldEnum == CPTScatterPlotFieldX)
        return [sample valueForKey:X_VAL];
    else
        return [sample valueForKey:Y_VAL];
} 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-08T12:45:49.123

确保`-all_load`在构建设置中设置了“其他链接器标志”。该标志强制系统加载所有类别方法，如`-sizeWithTextStyle:`.

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-10-20T08:44:31.707

正如 Eric 所解释的，您需要在构建设置中设置 -all_load 标志。如果您想知道这到底是在哪里，请查看这张图片。祝你好运！

![在 XCode 上设置 all_add 标志](../Images/14308c627f2927e6840265fc31bb7dbb.png)

# android - 在 Android 中创建图像缩略图

> ID：12330502
> 
> 赞同：0
> 
> 时间：2012-09-08T11:52:12.960
> 
> 标签：android

给定图像文件的路径，（即时）为该图像创建缩略图的最佳方式是什么？

这些图像大约是 200-300 像素的平方。我最初的想法是只加载图像的一小部分，这很好用，但看起来并不总是那么好。

```
BitmapRegionDecoder decoder = BitmapRegionDecoder.newInstance(new FileInputStream(file),false);
return decoder.decodeRegion(new Rect(0, 0, 100, 100),null); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T12:51:39.147

如前所述，这些图像的大小都大致相同（大约 200 平方像素）。使用 BitmapRegionDecoder 我最终加载了一个居中的 100px 缩略图，这看起来很棒并且不涉及任何调整大小。

# asp.net-mvc - 如何使用 Ninject MVC 扩展管理 DbContext 生命周期

> ID：12330504
> 
> 赞同：0
> 
> 时间：2012-09-08T11:52:15.673
> 
> 标签：asp.net-mvc, entity-framework, ninject

嗨，这与我以前的问题有关。

[EFCodeFirst : 无法定义两个对象之间的关系，因为它们附加到不同的 ObjectContext 对象](https://stackoverflow.com/questions/12289180/efcodefirst-the-relationship-between-the-two-objects-cannot-be-defined-because)

根据我上一个问题的答案中给出的参考，我不确定在使用 Ninject 和 MVC 时如何正确实现我的 DbContext 的使用。有没有人推荐如何做到这一点的例子？谢谢。

我确实在这里看到了这个 1 示例：[How to handle DBContext when using Ninject](https://stackoverflow.com/questions/11921883/how-to-handle-dbcontext-when-using-ninject) 但我不确定这如何适合我项目的当前结构。

这是我的一个存储库和界面的示例，其他存储库几乎相同，目前都创建一个新上下文，我可能会更改它以将上下文注入存储库，但我认为这还不够.

```
public interface IRepository<T> where T : Entity {
    IQueryable<T> All { get; }
    T Find(int id);
    void InsertOrUpdate(T entity);
    void Delete(int id);
    void Save();
}

public class RecipeRepository : IRepository<Recipe>
{

    private EatRateShareDbContext context = new EatRateShareDbContext();

    public IQueryable<Recipe> All
    {
        get { return context.Recipes; }
    }

    public Recipe Find(int id)
    {
        return context.Recipes.Find(id);
    }

    public void InsertOrUpdate(Recipe recipe)
    {
        if (recipe.Id == default(int))
        {
            // New entity
            context.Recipes.Add(recipe);
        } else
        {
            // Existing entity
            context.Entry(recipe).State = EntityState.Modified;
        }
    }

    public void Delete(int id)
    {
        var recipe = context.Recipes.Find(id);
        context.Recipes.Remove(recipe);
    }

    public void Save()
    {
        try
        {
            context.SaveChanges();
        }

        catch (DbEntityValidationException databaseException)
        {
            foreach (var validationErrors in databaseException.EntityValidationErrors)
            {
                foreach (var validationError in validationErrors.ValidationErrors)
                {
                    Trace.TraceInformation("Property: {0} Error: {1}", validationError.PropertyName, validationError.ErrorMessage);
                }
            }
        }

    }
} 
```

这是我的 DbContext

```
public class ERSDbContext : DbContext
{
    public DbSet<Recipe> Recipes { get; set; }
    public DbSet<Ingredient> Ingredients { get; set; }
    public DbSet<Review> Reviews { get; set; }
    public DbSet<Course> Courses { get; set; }
    public DbSet<Cuisine> Cuisines { get; set; }
    public DbSet<Member> Members { get; set; }
    public DbSet<Step> Steps { get; set; }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        // have to specify these mappings using the EF Fluent API otherwise I end up with
        // the foreign key fields being placed inside the Recipe and Member tables, which wouldn't
        // give a many-to-many relationship
        modelBuilder.Entity<Recipe>()
            .HasMany(r => r.Members)
            .WithMany(m => m.Recipes)
        .Map(x => {
            x.ToTable("Cookbooks"); // using a mapping table for a many-to-many relationship
            x.MapLeftKey("RecipeId");
            x.MapRightKey("MemberId");
        });

        modelBuilder.Entity<Recipe>()
            .HasRequired(x => x.Author)
            .WithMany()
            .WillCascadeOnDelete(false);

    }
} 
```

我使用 Ninject 将我的存储库注入到控制器中，如图所示

```
 public class RecipesController : Controller
    {
        private readonly IRepository<Member> memberRepository;
        private readonly IRepository<Course> courseRepository;
        private readonly IRepository<Cuisine> cuisineRepository;
        private readonly IRepository<Recipe> recipeRepository;

        public RecipesController(IRepository<Member> memberRepository, IRepository<Course> courseRepository, IRepository<Cuisine> cuisineRepository, IRepository<Recipe> recipeRepository)
        {
            this.memberRepository = memberRepository;
            this.courseRepository = courseRepository;
            this.cuisineRepository = cuisineRepository;
            this.recipeRepository = recipeRepository;
        }
...
} 
```

对于 Ninject，我使用的是创建 NinjectWebCommon 类的 Nuget 插件，以下是我当前的绑定。

```
 private static void RegisterServices(IKernel kernel)
    {
        kernel.Bind<IRepository<Recipe>>().To<RecipeRepository>();
        kernel.Bind<IRepository<Member>>().To<MemberRepository>();
        kernel.Bind<IRepository<Cuisine>>().To<CuisineRepository>();
        kernel.Bind<IRepository<Course>>().To<CourseRepository>();
        kernel.Bind<IRepository<Review>>().To<ReviewRepository>();
    } 
```

# javascript - Requirejs，骨干网和安全性

> ID：12330509
> 
> 赞同：1
> 
> 时间：2012-09-08T11:53:00.697
> 
> 标签：javascript, security, backbone.js, requirejs

我实际上正在为我的公司开发一个单页应用程序，该应用程序涉及不同用户角色的不同视图，以防止没有足够权限的人访问他们不应该看到的数据或执行他们无权执行的功能.

我在后端使用带有 REST api 的 PHP，所以我认为我在那里相当安全，但我对客户端安全一无所知。

我正在考虑在我的 main.js 中以这种方式存储具有当前用户角色的 App 变量：

```
require(['jquery',
    'underscore',
    'backbone',
    'marionette',
    'app',
    'routers/adminRouter',
    'routers/userRouter',
    ], function($, _, Backbone, Marionette, App, AdminRouter, UserRouter){

App.vent.on("routing:started", function(){
    Backbone.history.start();
});

App.addInitializer(function(){
    if(userRole==="admin"){
        App.Router = new AdminRouter;
    } else {
        App.Router = new UserRouter;
    }
    App.vent.trigger("routing:started");
});

App.addRegions({
   content: "#main",
   page: "#page",
   dialogs: "#dialogs"
});

App.start();

App.vars = {};

App.vars.userRole = userRole; 
```

App.js 只是：

```
define([
   'underscore',
   'backbone',
   'marionette'
   ], function(_, Backbone){

       var App = new Backbone.Marionette.Application();
       return App;
}); 
```

变量`userRole`只是一个全局变量，我在 index.php 页面上从我的服务器引导。这个安全多少？有没有办法改变`userRole`页面加载的值？或者`App.vars.userRole`在应用程序运行时进行更改？我无法`App`从控制台访问变量，但正如我所说，我对客户端编程很陌生，我必须知道我是否可以依赖该变量的值。处理这种情况的最佳方法是什么？先感谢您。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T15:43:12.947

@devundef 说的是真的。有了安全性，您的所有授权都必须发生在服务器端。一旦代码被加载到客户端并在野外，没有什么能阻止他们通过和改变它......以你不喜欢的方式。在某些情况下，它可能需要付出更多的努力（例如，如果你缩小它更难阅读的东西），但它绝对是可行的，所以根本不应该依赖这样的东西。

只要您正在检查服务器端，坏客户端是否会这样做并不重要。例如，您可以将您的 userRole 作为一个便利变量，用于指示您的客户端应用程序的行为方式。他们可能会恶意更改 userRole，给自己一个假的管理员状态，这使他们可以访问管理员视图，但是当他们想做其他事情时（例如从服务器获取数据等），他们的游戏时间就结束了。这通常是什么它归结为。基本上，您想要保护需要特定授权（如管理员状态）的操作（GET、POST、PUT、DELETE）。服务器上的任何敏感路由都必须在完成请求之前进行此类检查。

同样，当客户端发送 userRole = admin 时，您不能信任。您需要首先验证他们是他们声称的用户，然后再授权该用户是否具有适当的权限（如管理员状态）。每一次。

我使用加密的 cookie 会话。用户通过身份验证后，会得到不可篡改的cookie。因此，每次他们提出请求时，我都会使用该 cookie 说“好吧，这确实是用户 X”。一旦我有了它，我就会进行数据库查找以说“好的，他是管理员”。如果检查成功，我可以满足要求。如果没有，我会给他们一个粗鲁的错误。

如果没有某些特权的人可能无法访问某些模型、视图和集合，我不确定最好的方法是什么。通常我唯一关心的是数据库中的原始数据。但是，我实际上可能会编译几种不同的客户端应用程序（例如，一种用于一般用户，一种仅用于管理员）并根据它们在索引时的状态提供适当的一种。好吧，老实说，我什至不会让初始请求访问相同的 url。程序仍然是相同的。1) 认证和 2) 授权。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T18:02:32.827

因此，只要您将`userRole`其作为全局变量放在页面上，它就可以从您身边运行的其他脚本中更改。并且当您在其中使用对全局变量的引用时，`App`它`App.vars.userRole`也会发生变化。您可以制作深拷贝`userRole`来防止这种情况。

**但这**只是一个理论上的问题。如果有人在您这边成功运行了它的脚本，那么您会遇到更大的问题，因为他可以使用登录用户调用您的 API。

我已经使用在初始 HTML 有效负载中呈现登录用户模型的方法构建了大型单页应用程序，并且效果很好。正如评论中提到的，所有安全部分都必须在后端完成。

# c# - ASP.Net Membership 未访问我的 Sql Server 数据库

> ID：12330511
> 
> 赞同：1
> 
> 时间：2012-09-08T11:53:29.627
> 
> 标签：c#, asp.net, membership

我在我想要存储成员资格表的数据库上运行了 aspnet_regsql。这是我为我的工作负载存储所有表的同一个数据库。

但是，当我在我的网站上注册用户时，它会在 ASPNETDB 表中创建用户，而不是我在 Sql server 中创建的用户。

```
<?xml version="1.0"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->
<configuration>
  <connectionStrings>
    <add name="HotelProjectConnectionString" connectionString="Data Source=KHAN-PC;Initial Catalog=HotelProject;Integrated Security=True"
      providerName="System.Data.SqlClient" />
  </connectionStrings>

  <system.web>
    <roleManager enabled="true" />
    <compilation debug="true" targetFramework="4.0">
      <assemblies>
        <add assembly="System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A"/>
        <add assembly="System.Web.Extensions.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        <add assembly="System.Windows.Forms, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
      </assemblies>
    </compilation>
  </system.web>
</configuration> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T12:05:14.437

您必须在 system.web 标记下的 web.config 中指定成员资格提供程序。查看

[这个](http://msdn.microsoft.com/en-us/library/system.web.security.membership.providers.aspx)链接来回参考。

# java-me - 测量移动设备的电池消耗率

> ID：12330513
> 
> 赞同：1
> 
> 时间：2012-09-08T11:53:37.050
> 
> 标签：java-me, nokia, battery

我正在使用 J2ME 为诺基亚移动设备开发应用程序。我现在正在做软件测试，我的问题是是否有任何工具或方法可以让我测量应用程序运行时的电池消耗率？即当我的应用程序运行时，移动设备的电池应该保持多少小时或分钟？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-09T06:27:19.210

诚然，我对 J2ME 一无所知，但如果有办法查询剩余电池电量，您可以简单地以设定的时间间隔轮询该值，然后推断达到剩余 0% 所需的时间？

**编辑** 看起来访问电池百分比的属性是：

```
System.getProperty("com.nokia.mid.batterylevel"); 
```

资料来源：[诺基亚开发文档](http://www.developer.nokia.com/Community/Discussion/showthread.php?132313-Get-Battery-Level-in-J2ME&s=2a6ace113f971e58df20f82c9321cc3e&p=410150&viewfull=1#post410150)

# php - CakePHP 不会自动填充 add.ctp 中的父字段

> ID：12330515
> 
> 赞同：2
> 
> 时间：2012-09-08T11:53:58.027
> 
> 标签：php, cakephp, view

我按照[这个例子](http://book.cakephp.org/2.0/en/core-libraries/behaviors/tree.html)创建了一个树结构。节点添加成功，但父字段为空，我无法使用 add.ctp 视图将子节点添加到任何节点！如何使用表中已存在的类别名称填充此字段？它不应该自动加载它们吗？正如您在图片中看到的，父字段为空！

![在此处输入图像描述](../Images/695da3eec6638d179902f521f1372627.png)

感谢您提前提供任何帮助。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-08T12:28:05.977

如果表单中的字段是 parent_id，则视图中应该有 $parents 可用。因此，在类别添加操作中，您应该执行以下操作：

```
 $parents = $this->Category->Parent->find('list');
 $this->set(compact('parents')); 
```

请注意，`$this->Category->Parent`只有在 Category 模型中设置了适当的关系时才会起作用...

# iphone - 使用uitableview按日期过滤数据有多容易

> ID：12330518
> 
> 赞同：-1
> 
> 时间：2012-09-08T11:54:21.507
> 
> 标签：iphone, ios, xcode, uitableview, filter

想知道更改日期并为我的表格视图获取一组新数据有多容易。

类似于 myfitnesspal 应用程序。非常感谢任何评论或教程的网络链接。

谢谢阅读

```
- (IBAction)previousDayButtonPressed:(id)sender
{
    [self changeCurrentDayBy:-1];

    [self.drinksTableView reloadData];
}

- (IBAction)nextDayButtonPressed:(id)sender
{
    [self changeCurrentDayBy:1];

    [self.drinksTableView reloadData];
}

- (void)changeCurrentDayBy:(NSInteger)numberOfDays
{

} 
```

![在此处输入图像描述](../Images/215e65d957764d46b36d4bd24f5437ae.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T14:03:41.663

如果您使每个分段控制器对您的数据进行新查询，则很容易使用 tableView。这取决于您的数据结构的好坏。如果您的数据在 CoreData 中，请参阅 NSFetchRequest；如果您的数据仅保存在字典或数组中，请参阅 NSArray 类。有内置的 SDK 函数可以让你很容易地组织和排序你的 tableView 数组。

# python - 为什么我会收到带有 ASCII 组名的“sre_constants.error：组名中的错误字符”？

> ID：12330519
> 
> 赞同：1
> 
> 时间：2012-09-08T11:54:49.577
> 
> 标签：python, regex

这是我的正则表达式：

```
(?P=<streetname>[a-zæøå ]+)(?:[ ]+)(?P=<housenumber>\d+)(?:[ ]+),(?:[ ]+)(?P=<postalcode>\d{1,4})(?:[ ]+)(?P=<city>[a-zæøå ]+) 
```

所有组名仅包含 ASCII 字符，为什么会出错？

```
回溯（最近一次通话最后）：
  文件“addrtools.py”，第 46 行，在
    主要的（）
  文件“addrtools.py”，第 43 行，在 main
    extract_address('Testaddress 15B, 1234 奥斯陆')
  文件“addrtools.py”，第 35 行，在 extract_address
    匹配=重新匹配（pat_full，字符串）
  匹配中的文件“/Users/tomas/.pythonbrew/pythons/Python-2.7.3/lib/python2.7/re.py”，第 137 行
    return _compile(模式，标志).match(字符串)
  _compile 中的文件“/Users/tomas/.pythonbrew/pythons/Python-2.7.3/lib/python2.7/re.py”，第 242 行
    raise error, v # 无效表达式
sre_constants.error：组名中的错误字符

```

我已经确认`pat_full`确实包含上述​​正则表达式。此外，我的文档以 UTF-8 编码并设置为 UTF-8 模式 ( `# --*-- Encoding: UTF-8 --*--`)。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-08T11:57:27.670

您正在使用`(?P=<name>...)`模式，这意味着“匹配与先前名为 name 的组匹配的任何文本”。但是您没有像`streetname`之前定义的任何组。

删除`=`以使它们成为实际的命名组：

```
>>> re.compile('(?P<streetname>[a-zæøå ]+)(?:[ ]+)(?P<housenumber>\d+)(?:[ ]+),(?:[ ]+)(?P<postalcode>\d{1,4})(?:[ ]+)(?P<city>[a-zæøå ]+)')
<_sre.SRE_Pattern object at 0x102e6a620> 
```

这可能是您最初打算做的事情。:-)

# python - 如何在没有换行符的情况下读取文件？

> ID：12330522
> 
> 赞同：540
> 
> 时间：2012-09-08T11:55:15.740
> 
> 标签：python, line-breaks, readlines

在 Python 中，调用

```
temp = open(filename,'r').readlines() 
```

生成一个列表，其中每个元素都是文件中的一行。这有点愚蠢但仍然：`readlines()`还向每个元素写入换行符，这是我不希望发生的事情。

我怎样才能避免它？

* * *

## 回答 #1

> 赞同：788
> 
> 时间：2012-09-08T11:57:07.220

您可以使用以下命令读取整个文件并拆分行[`str.splitlines`](https://docs.python.org/library/stdtypes.html#str.splitlines)：

```
temp = file.read().splitlines() 
```

或者您可以手动删除换行符：

```
temp = [line[:-1] for line in file] 
```

**注意：**最后一个解决方案仅在文件以换行符结尾时才有效，否则最后一行将丢失一个字符。

这个假设在大多数情况下都是正确的（特别是对于由文本编辑器创建的文件，它们通常*会*添加一个结束换行符）。

如果要避免这种情况，可以在文件末尾添加换行符：

```
with open(the_file, 'r+') as f:
    f.seek(-1, 2)  # go at the end of the file
    if f.read(1) != '\n':
        # add missing newline if not already present
        f.write('\n')
        f.flush()
        f.seek(0)
    lines = [line[:-1] for line in f] 
```

或者更简单的替代方法是`strip`换行：

```
[line.rstrip('\n') for line in file] 
```

甚至，虽然很不可读：

```
[line[:-(line[-1] == '\n') or len(line)+1] for line in file] 
```

它利用了返回值`or`不是布尔值，而是被评估为真或假的对象这一事实。

* * *

该`readlines`方法实际上等价于：

```
def readlines(self):
    lines = []
    for line in iter(self.readline, ''):
        lines.append(line)
    return lines

# or equivalently

def readlines(self):
    lines = []
    while True:
        line = self.readline()
        if not line:
            break
        lines.append(line)
    return lines 
```

由于`readline()`保留换行符也`readlines()`保留它。

**注意：**为了方法的对称性`readlines()`，*不会*添加结束换行符，因此会生成in的精确副本。[`writelines()`](https://docs.python.org/library/io.html#io.IOBase.writelines)*`f2.writelines(f.readlines())``f``f2`*

 ** * *

## 回答 #2

> 赞同：66
> 
> 时间：2012-09-08T11:57:56.690

```
temp = open(filename,'r').read().splitlines() 
```

* * *

## 回答 #3

> 赞同：28
> 
> 时间：2018-09-28T15:04:31.670

一次读取一行文件。使用 .从字符串末尾删除不需要的字符[`str.rstrip(chars)`](https://docs.python.org/library/stdtypes.html#str.rstrip)。

```
with open(filename, 'r') as fileobj:
    for row in fileobj:
        print(row.rstrip('\n')) 
```

另见`str.strip([chars])`和`str.lstrip([chars])`。

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2019-02-01T12:18:08.883

我认为这是最好的选择。

```
temp = [line.strip() for line in file.readlines()] 
```

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2017-08-17T02:01:22.773

```
temp = open(filename,'r').read().splitlines() 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2018-02-05T04:23:56.177

尝试这个：

```
u=open("url.txt","r")  
url=u.read().replace('\n','')  
print(url) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-05-30T09:30:42.683

要摆脱尾随的行尾 ( `/n`) 字符和空列表值 ( `''`)，请尝试：

```
f = open(path_sample, "r")
lines = [line for line in f.readlines() if line.strip() != ''] 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2022-02-22T19:52:38.210

这里的脚本将从**文件中获取行，并在****file2**的末尾保存没有换行符的每一行***，0***结尾。

 **```
file = open("temp.txt", "+r")
file2 = open("res.txt", "+w")
for line in file:
    file2.writelines(f"{line.splitlines()[0]},0\n")
file2.close() 
```

如果你看***line***，这个值是***data\n***，所以我们把`splitlines()`

使其成为一个*数组*并***[0]***选择唯一的单词***数据***

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2018-08-12T14:39:12.633

```
my_file = open("first_file.txt", "r")
for line in my_file.readlines():
    if line[-1:] == "\n":
        print(line[:-1])
    else:
        print(line)
my_file.close() 
```

* * *

## 回答 #10

> 赞同：-4
> 
> 时间：2016-10-04T12:33:17.593

```
import csv

with open(filename) as f:
    csvreader = csv.reader(f)
    for line in csvreader:
         print(line[0]) 
```***

# jquery - 发出循环 Json

> ID：12330527
> 
> 赞同：0
> 
> 时间：2012-09-08T11:56:02.280
> 
> 标签：jquery, json

我在通过 json 循环时遇到问题。

在下面的代码中，循环的 url 是无序的，并且警报中的 id 始终是 3。有人可以告诉我我在这里做错了什么吗？

```
var urls = ["http://soundcloud.com/disclosuremusic/sets/the-face-ep-1", "http://soundcloud.com/skibsthekid/sets/the-pink-slip", "http://soundcloud.com/disclosuremusic/sets/the-face-ep-1"];

for (var i = 0, url; url = urls[i]; i++) {
        console.log(i);

    $.getJSON('http://api.soundcloud.com/resolve?url=' + url + '&format=json&consumer_key=' + consumer_key, function(playlist) {
        alert(i + playlist.title);
    });
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T12:04:23.507

```
$.each(urls,function(key,value) {
        console.log(value);

    $.getJSON('http://api.soundcloud.com/resolve?url=' + value + '&format=json&consumer_key=' + consumer_key, function(playlist) {
        alert(i + playlist.title);
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T12:17:16.680

是的，在您的情况下，警报中的 id 将始终为 3 - 但由于 javascript 架构。

该`$.getJSON()`方法是 的简写`$.get({ format : 'JSON' })`，作用如下：

*   嘿 javascript，你能给我的 JSON 内容`url`吗？
*   是的，伙计，但我有一些事情要做，我不能等到服务器回答 - 请告诉我你想让我用这些数据执行什么，并将它包装在一个函数中。同时，我将继续编写脚本，因为我需要淡出一些 div；
*   好的javascript，这里是：`function(playlist){ ... }`。

这意味着你的`function(playlist){ ... }`回调是在`for`循环结束后执行的——这就是为什么`i`总是 3。

解决方案？你需要一个**闭包**来让你的回调`i`在当前迭代中被注意到——这个主题并不简短，所以请参加精彩的[John Resig 的交互式讲座](http://ejohn.org/apps/learn/#48)。

# asp.net - 请帮助解决自定义身份验证问题

> ID：12330528
> 
> 赞同：0
> 
> 时间：2012-09-08T11:56:09.000
> 
> 标签：asp.net, basic-authentication, custom-authentication

如果用户名和密码存在，我有简单的身份验证类型我在数据库中检查我创建 FormsAuthenticationTicket 并将其添加 HttpContext.Current.Response.Cookies.Add(cookie); 当我在请求之前检查 HttpContext.Current.User.Identity.IsAuthenticated 它返回 false 但如果我在 global.asax Application_AuthenticateRequest(object sender, EventArgs e) 中检查以下请求 HttpContext.Current.User.Identity.IsAuthenticated 返回 true

```
public static bool Login(string userName, string pass)
    {
        using (SqlConnection conn = new SqlConnection(connectionString))
        {
            try
            {
                conn.Open();
                string comand = string.Format("Select * From ChatUser Where " +
                "userName = '{0}' and pass ='{1}'", userName, pass);
                SqlCommand cmd = new SqlCommand(comand, conn);
                var reader = cmd.ExecuteReader();
                if (!reader.HasRows)
                {
                    conn.Close();
                    return false;
                }
                while (reader.Read())
                {
                    string id = reader["id"].ToString();
                    FormsAuthenticationTicket ticket = new FormsAuthenticationTicket(
                    1, id, DateTime.Now, DateTime.Now.AddMinutes(30),
                    false, null, FormsAuthentication.FormsCookiePath);
                    string hashCookies = FormsAuthentication.Encrypt(ticket);
                    HttpCookie cookie = new HttpCookie(FormsAuthentication.FormsCookieName, hashCookies);
                    HttpContext.Current.Response.Cookies.Add(cookie);

                }
                conn.Close();
                JoinMesage();
                return true;
            }

            catch (Exception ex)
            {
                //write in log file
                return false;
            }
        }
    }

    public static void JoinMesage()
    {
        string userId;
        if (HttpContext.Current.User != null)
        {
            userId = HttpContext.Current.User.Identity.Name;
            using (SqlConnection conn = new SqlConnection(connectionString))
            {
                string comand = string.Format("Insert into Messages (userID,mesageDate,userStatus)"
                    + " Value('{0}','{1}','{2}')", userId, DateTime.Now, true);
            }
        }

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-21T06:25:42.053

请修改您的票。它应该是

```
FormsAuthenticationTicket ticket = new FormsAuthenticationTicket(
    1, 
    id, 
    DateTime.Now, 
    DateTime.Now.AddMinutes(30),
    true, 
    null, 
    FormsAuthentication.FormsCookiePath); 
```

并在自定义身份类中设置身份验证类型，请点击链接：

[http://www.asp.net/web-forms/tutorials/security/introduction/forms-authentication-configuration-and-advanced-topics-cs](http://www.asp.net/web-forms/tutorials/security/introduction/forms-authentication-configuration-and-advanced-topics-cs)

它会解决它。

# android - GridView Adapter AsyncTask 显示图像时的奇怪行为

> ID：12330529
> 
> 赞同：0
> 
> 时间：2012-09-08T11:56:23.113
> 
> 标签：android, http, listview, gridview, android-asynctask

我需要你的帮助！

在我的应用程序中，在`GridView`. 单元格显示图像，而不是默认的`R.id.noimage`和以前查看的图像。在我添加适配器以加载位图后出现此错误`AsyncTask`。

我究竟做错了什么？

代码：

```
public View getView(int position, View convertView, ViewGroup parent) {
    ViewHolder holder = new ViewHolder();
    View vi = null;
    ImageView image;
    if(convertView==null) {
        vi = inflater.inflate(R.layout.gall_item, null);
        Log.i("info","convertView==null");
    } else {
        vi = inflater.inflate(R.layout.gall_item, null);
        Log.i("info","else");
    }
    holder.position = position;
    image = (ImageView)vi.findViewById(R.id.img);
    TextView url_img = (TextView)vi.findViewById(R.id.url_img);
    TextView cer = (TextView)vi.findViewById(R.id.cer);
    TextView idi = (TextView)vi.findViewById(R.id.ids);
    url_img.setText(img2[position]);
    cer.setText(cer_ar[position]);
    idi.setText(id_ar[position]);
    new LoadImageT(holder).execute(image, img1[position],activity.getApplicationContext(),position);
    return vi;
}

class LoadImageT extends AsyncTask<Object, Void, Bitmap> {
    Context context;
    private ImageView imv;
    private String url;
    private Bitmap bitmap = null;
    private int posS;
    private ViewHolder mHolder;

    public LoadImageT(ViewHolder holder) {
        mHolder = holder;
    }

    @Override
    protected Bitmap doInBackground(Object... params) {
        imv = (ImageView) params[0];
        url = (String) params[1];
        context = (Context)params[2];
        posS = (Integer) params[3];
        bitmap = imageLoader.getBitmaptrue(url,imv,context);
        return bitmap;
    }

    @Override
    protected void onPostExecute(Bitmap result) {
        if (mHolder.position == posS) {
            imv.setVisibility(View.VISIBLE);
            imv.setImageBitmap(result);
        } else {
            int stub_id = R.drawable.noimage;
            imv.setImageResource(stub_id);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T12:06:07.207

您以错误的方式进行操作，首先，如果您的视图为空，则安迪向您建议，膨胀视图并设置标签，然后在标签不为空时使用此标签，但这只会影响您的列表视图效率。其次从适配器中删除您的异步任务代码，将其放入活动并使用该对象。请参阅此[链接](http://android-developers.blogspot.com/2010/07/multithreading-for-performance.html)Gilles 很好地解释了如何以有效的方式进行多线程。

# iphone - 如何使用 HTML5 和 phonegap cordova2.0 为 iphone 应用程序创建操作表？

> ID：12330530
> 
> 赞同：1
> 
> 时间：2012-09-08T11:56:30.817
> 
> 标签：iphone, ios, html, cordova, xcode4.3

我对 iPhone 开发非常陌生，并且对使用 PhoneGap Coredova 2.0 for iPhone 也很陌生。我在 Xcode 4.3 中工作。我想在我的 iPhone 应用程序中使用 HTML5 for Phonegap iPhone 应用程序创建 UIActionsheet。我用过谷歌，但没有从那里找到任何有用的指南。您能帮我使用 HTML5 和 Phonegap for iPhone 应用程序创建 UIActionsheet 吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:55:52.067

UIActionsheet 是一个简单的带有选项的模式窗口。为了在 PhoneGap 中执行此操作，您需要自己构建 UI。PhoneGap 不会为您的 UI 做任何事情。那里有许多 UI 框架。你可以看看 jQuery Mobile 或 Sencha。甚至还有 jQuery UI，尽管这对于 mobiel 应用程序来说可能有点繁重。关键是 - 您需要使用 CSS+HTML 自己为您的应用程序创建一个模式窗口。它没有被烘焙到 PG 中。

# javascript - three.js：从平面正交向量到平面旋转矩阵

> ID：12330531
> 
> 赞同：4
> 
> 时间：2012-09-08T11:56:39.390
> 
> 标签：javascript, three.js

我想设置飞机的旋转。这需要三个数字来表示 x、y 和 z 轴上的弧度旋转。

我没有这些数字，但是，我有一个向量“myVec”，一旦旋转，它就会与平面正交。

这个向量让我更近了一步，但并不完全：THREE.Vector3 提供了一个函数“setEulerFromRotationMatrix”。如果我能弄清楚如何从 myVec 生成旋转矩阵，也许我可以使用它：

旋转矩阵描述了一个向量如何转换为另一个向量。因此出现了一个问题：哪个向量应该是起始向量？这个（1,1,1），还是这个（1,0,0）？

其次，我如何实际制作矩阵？我看过[http://en.wikipedia.org/wiki/Rotation_matrix](http://en.wikipedia.org/wiki/Rotation_matrix)，但只找到了如何从旋转矩阵转换为其他矩阵。它必须以某种方式反转矩阵乘法过程。

任何指针？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T13:27:10.020

在three.js r50中，默认平面位于原点，它的法线点在正z方向。所以它是`( 0, 0, 1 )`您要转换为的向量`myVec`。但你不必直接这样做。

在 three.js 中做你想做的最简单的方法就是这样。

```
var v = myPlane.position.clone();
v.add( myVec );
myPlane.lookAt( v ); 
```

让three.js 为您计算。:-)

编辑：更新到 three.js r.66

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T12:05:59.590

任何三维的旋转都可以用三个角度来表示。你的方法听起来像欧拉角，看看这里：[http ://en.wikipedia.org/wiki/Euler_angles](http://en.wikipedia.org/wiki/Euler_angles)

当你想一次构建一个围绕 3 个角度旋转的旋转矩阵时，你必须首先构建 3 个矩阵，每个矩阵都围绕一个轴执行给定角度的旋转。然后您必须将 3 个矩阵相乘（以正确的顺序）以获得最终的旋转矩阵。

如果您知道如何旋转矢量 (1 0 0) 以匹配最终矢量，您只需要计算出围绕各个轴的角度。注意旋转的顺序。您也可以从任何其他向量开始。你只需要知道角度。

可以在此处找到围绕给定轴旋转给定角度的矩阵：[http](http://en.wikipedia.org/wiki/Rotation_matrix) ://en.wikipedia.org/wiki/Rotation_matrix （请参阅“在三个维度中”下的“基本旋转”）。

在“一般旋转”下，您会找到我刚刚向您描述的方法（将 3 个矩阵相乘以获得整个旋转的一个矩阵）。

# java - 调试和运行 GWT/GAE 应用程序的客户端/服务器代码

> ID：12330544
> 
> 赞同：3
> 
> 时间：2012-09-08T11:58:32.710
> 
> 标签：java, eclipse, google-app-engine, gwt, google-eclipse-plugin

我正在开发一个将部署到 GAE 的 GWT 应用程序。我已经安装了 Google-Eclipse 插件，它也拉下了 GWT 和 GAE SDK。但是现在我坐下来真正思考事情，我对如何在我的机器上本地调试和运行应用程序感到非常困惑。

通常，当我有一个 Java Web 应用程序（我部署到 Tomcat；我只是熟悉它）时，我的选项如下：

*   为我的应用程序创建一个远程调试配置，将其部署`WAR`到我的本地 Tomcat 容器，但是我可以直接从 Eclipse 内部调试它（设置断点，单步执行服务器端代码）
*   只需将其部署到 Tomcat 容器，启动浏览器`http://localhost:8080/MyApp`并开始在本地使用/手动测试应用程序

我也想完成同样的工作，但是对于 GWT 和 GAE，两者都有很多选择，当您在同一台机器上将它们配对时，它们会变得更加混乱（对于像我这样的新手来说）：

最终，我希望能够做到以下几点：

*   直接从 Eclipse 内部调试服务器应用程序，包括设置断点、单步执行代码等
*   在我的机器上本地从 Firebug 或 Chrome 开发者工具等浏览器插件中调试客户端应用程序，包括设置断点、单步执行代码等
*   直接从 Eclipse 内部调试应用程序（串联的客户端和服务器端代码），包括设置断点、单步执行代码等
*   与上面相同（调试整个应用程序，客户端和服务器端），从 Eclipse 内部，但服务器在不同的（远程）机器上运行。这样我就可以在我的 QA 机器/环境上运行我的应用程序时，直接从我的开发机器上的 Eclipse 实例内部调试它
*   在本地运行应用程序并模拟生产；也就是说，将后端部署到我的 GAE 应用程序开发服务器，然后打开浏览器并转到正确的 URL 以访问我的应用程序，因为它由本地 GAE 开发应用程序服务器提供

我认为我困惑的根源在于 GWT 和 GAE SDK 都在所谓的“开发模式”下运行，并且因为它们针对不同的层（客户端和服务器），所以我很难理解设置/配置是什么必要时能够隔离它们，或在需要时对它们进行串联测试。在此先感谢您的帮助！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-14T13:18:58.460

我会尽力回答你的问题。我最近继承了一个GWT的代码库，并且使用了app引擎，所以我会尽力而为。

首先，您的服务器端代码由 GWT SDK 在 Jetty Servlet 容器中运行。您的客户端代码被编译为 javascript，并在浏览器中运行。因此，您可以非常轻松地针对任何 servlet 服务器后端运行您的客户端代码。因此，当您在“开发模式”下运行 GAE 时，您已经编译了您的 java，并且正在 GAE 开发 servlet 容器中运行带有 GWT 入口点的 servlet。

设置本地环境相当容易。在 Eclipse 中，您可以右键单击您的项目并执行“运行方式”或“调试方式”。在“运行配置”和“调试配置”选项中，您会在标题为“Web 应用程序”的列表中看到一个 Google 图标。您应该创建一个配置文件来记住这些选项。

此配置为您提供了一些选项。如果您有适当的 GAE 文件，则可以转到“App Engine”选项卡并在那里配置选项。在“服务器”选项卡下，您有两个选项。如果您选中“运行内置服务器”选项。GWT 将在它的 Jetty 容器中运行您的 servlet，并运行 GWT 客户端代码服务器。如果没有，它将只运行客户端代码服务器，允许您即时更改客户端代码，并在 Eclipse 中调试客户端代码。Eclipse 将为您提供一个漂亮的 URL，如下所示。

```
http://127.0.0.1:8888/index.jsp?gwt.codesvr=127.0.0.1:9997 
```

这实际上是两部分，无论您是否使用内置的 jetty servlet 容器，它看起来都是一样的。

第一部分是`http://127.0.0.1:8888/index.jsp` - 这是您正在运行的 servlet 容器，它可以在 tomcat、web-logic 或 GWT 开发服务器或任何 servlet 容器上运行。

第二部分是`?gwt.codesvr=127.0.0.1:9997` - 这是一些 GWT 魔法，当与浏览器 GWT 开发插件一起使用时，将允许您在运行时更改客户端代码，并在 eclipse 中将您的 javascript 调试为 java。

如果我只是做客户端代码更改，我有时会`http://127.0.0.1:8888/index.jsp` 用我们的开发服务器 url 替换：`http://mydevserver:1234/myapp/index.jsp?gwt.codesvr=127.0.0.1:9997` 这允许我在本地运行客户端代码服务器，而无需在本地运行服务器端代码。请注意，我可以通过不使用 gwt.codesvr 参数直接访问 dev servlet 来访问部署到 dev 的客户端代码。

我希望这有帮助。如果您有任何问题，我可能会详细说明其中的部分内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-07T22:27:34.467

这个[Google Eclipse 插件](https://developers.google.com/eclipse/)应该让你运行。它基本上是一个 Eclipse 插件，可以帮助您创建 GWT + GAE 应用程序（只需单击几下并键入），然后能够直接从 Eclipse 运行您的应用程序。

# linux - oAuth 不在主服务器上进行身份验证

> ID：12330551
> 
> 赞同：0
> 
> 时间：2012-09-08T11:59:55.823
> 
> 标签：linux, oauth, twitter-oauth

我设置了一个使用 oAuth 的 Twitter 应用程序。我能够在亚马逊 ec2 centos 服务器上进行很好的身份验证，它接受我的消费者密钥并可以看到我的应用程序。但是 oAuth 不能在我家的 centos 服务器上。我正在使用 Dyndns 公开我的家庭服务器。

也许我的家庭路由器阻止了 oAuth 使用的端口。也许 Dyndns 不允许 oAuth？

在我的家庭服务器上，我输入消费者密钥并单击保存，我收到错误：无法从 Twitter 获取 OAuth 令牌。请仔细检查消费者密钥和秘密是否正确。

在 Amazon ec2 上，我输入消费者密钥并单击保存，然后我得到“成功！”推特上的“MYAPP”已添加。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T22:56:09.560

OAuth 的 Twitter 实现使用 HTTPS。因此，如果您自己的服务器可以使用 HTTPS，那么您也应该可以。

# java - 如何使用ajax从java脚本中的servlet获取键值对？

> ID：12330552
> 
> 赞同：0
> 
> 时间：2012-09-08T11:59:58.093
> 
> 标签：java, ajax, json, servlets

在我的 servlet 中，我在 Map 的帮助下创建了一个列表键值对

```
Map map=new HashMap();  
map.put("1", "john");  
map.put("2", "cris");  
map.put("3","patrik");  
JSONObject jsonMap=new JSONObject(map);  

out.print(jsonMap); 
```

我通过ajax 调用上面的servlet。我想知道如何在不知道键值的情况下打印我的 javascript（**使用和不使用 jquery**）中的所有键值对？

任何其他想法如何使用 ajax 从 javascript 中的 servlet 获取两个键值对？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T12:03:07.653

虽然不安全，但您可以使用[`eval`](https://stackoverflow.com/questions/86513/why-is-using-the-javascript-eval-function-a-bad-idea)以下方式将此响应转换为 javascript 端的 JSON 对象：

```
eval("var json = " + xmlHttpRequest.responseText);
for (var i in json) {
    // i and json[i] are the key and values respectively.
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T17:06:07.313

如果您不知道密钥，则可以使用 javascript 数组。IE

```
var resp = JSON.parse(responseText);
for(i=0; i<resp.length;i++){
    console.log(resp[i]);
} 
```

# java - Passing arguments to a constructor, alternative syntax

> ID：12330554
> 
> 赞同：1
> 
> 时间：2012-09-08T12:00:14.223
> 
> 标签：java, oop, constructor, arguments

While learning Java's basics, I remember coming across a particular syntax for passing arguments to a class constructor. I found this syntax extra read-able, but I'm sadly not able to find it anymore. It looked somewhat like the following:

```
// Creating an instance of the Employee class (has property name, salary, etc)
Employee fred = new Employee({
    name: "Fred",
    salary: 5000
    job: Jobs.PROGRAMMER
}); 
```

As you probably can see, it becomes very clear what each argument to the constructor means, which eliminates the need to look at documentation - just to understand simple code.

**Am I mixing languages up or does a syntax somewhat like this exists**? An eventual link to the manual would be appreciated.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T12:07:42.547

You may be thinking of something similar to the following code:

```
SomeClass foo = new SomeClass(/* args */) {
  {
    protectedOrPublicField = someValue;
    protectedOrPublicMethod(/*args*/);
  }
} 
```

This constructs an object and invokes methods at the same time. It's known as [double brace initialization](http://c2.com/cgi/wiki?DoubleBraceInitialization). It's not quite what you were asking for, but its the only syntax I know of in Java that looks anywhere near familiar.

Note that you could use this to set the value of protected or public fields. That would then look rather similar to your example.

If you want your constructors to be more readable, consider using a self-describing [static factory method](http://www.javapractices.com/topic/TopicAction.do?Id=21) or a [builder pattern](http://rwhansen.blogspot.co.uk/2007/07/theres-builder-pattern-that-joshua.html). See Joshua Bloch's excellent *Effective Java 2nd Edition* for more details or consult your favourite search engine.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T12:13:08.780

This is not Java syntax (and never was).

What you can do is to achieve something similar is to use Anonymous classes with initializers like this

```
class Employee{
    String first;
    String last;
}

Employee mike = new Employee(){{
    first = "Mike";
    last  = "Meyers";
}}; 
```

There is an explanation of what is going on here: [http://blog.schauderhaft.de/2012/08/19/named-parameters-in-java-another-alternative/](http://blog.schauderhaft.de/2012/08/19/named-parameters-in-java-another-alternative/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T12:18:25.340

Yeap, you are mixing a new feature of C# [named and optional arguments](http://msdn.microsoft.com/en-us/library/dd264739.aspx). However, if you create something like @Duncan Jones said that is quite the same anonymous class. However, according to [Java Specification 15.9.1](http://docs.oracle.com/javase/specs/)

```
An anonymous class cannot have an explicitly declared constructor. 
```

# javascript - 在函数调用中更改css不起作用

> ID：12330555
> 
> 赞同：0
> 
> 时间：2012-09-08T12:00:54.230
> 
> 标签：javascript, css

我想在函数调用中更改 css。即，在我的情况下，当函数返回 true 时将样式添加到复选框。但它不起作用。

脚本代码，

```
function checkAll()
{
    if ( document.myForm.myCB.length )
        {
            for (var x = 0; x < document.myForm.myCB.length; x++)
            {
                var flag=1;
                    if (flag == 1)
                    {
                        document.myForm.myCB[x].checked = true; 
                $('.checkbox').attr("style", "background-position:top left;");              
                    }
                    else 
                    {
                        document.myForm.myCB[x].checked = false;
                    }

            }
        }

} 
```

html代码是，

```
 <form name="myForm" id="myForm" action="" method="get"> 

   <p><input type="button" name="ca_v1_on" value="Check All" onclick="checkAll(1);"/></p>
   <p> <input class="checkbox" type="checkbox" name="myCB" value="yes" id="myCB"/></p>

  <p><input class="checkbox" type="checkbox" name="myCB" value="yes" id="myCB"/></p>

  <p><input class="checkbox" type="checkbox" name="myCB" value="yes" id="myCB"/></p>
 </form> 
```

请帮忙。

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T12:02:14.177

为 jQuery使用[.css ：](http://api.jquery.com/css/)

```
$('.checkbox').css("background-position", "top left"); 
```

或简单的javascript：

```
var elements = document.getElementsByClassName('checkbox');
for(var i = 0, length = elements.length; i < length; i++) {
     elements[i].backgroundPosition = 'top left';
} 
```

请注意，在 IE8 之前（包括在内`getElementsByClassName()`）[不可用](http://www.quirksmode.org/dom/w3c_core.html#gettingelements)。

你可以让它在所有浏览器上运行，[检查这个](http://ejohn.org/blog/getelementsbyclassname-speed-comparison/)以进行一些比较，一个很好的选择，比如：

```
if (!('getElementsByClassName' in document)) {
    document.getElementsByClassName = function(className, parentElement) {
        if (Prototype.BrowserFeatures.XPath) {
            var q = ".//*[contains(concat(' ', @class, ' '), ' " + className + " ')]";
            return document._getElementsByXPath(q, parentElement);
        } else {
            var children = ($(parentElement) || document.body).getElementsByTagName('*');
            var elements = [],
                child;
            for (var i = 0, length = children.length; i < length; i++) {
                child = children[i];
                if (Element.hasClassName(child, className)) elements.push(Element.extend(child));
            }
            return elements;
        }
    };
}​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T12:04:18.090

看到这一行：

```
$('.checkbox').attr("style", "background-position:top left;"); 
```

你可以这样写：

```
$('.checkbox').css("background-position", "top left"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T12:12:41.987

要更改 css，您应该使用 .css 而不是 .attr

所以这

`$('.checkbox').attr("style", "background-position:top left;");`

会让

`$('.checkbox').css("background-position", "top left");`

在所有使用 JavaScript 的浏览器中运动如果你想让没有 JavaScript 的浏览器有所不同，看看[modernizr](http://modernizr.com)

# jquery - 使用幻灯片效果隐藏和显示

> ID：12330559
> 
> 赞同：0
> 
> 时间：2012-09-08T12:01:47.517
> 
> 标签：jquery, slide, effect

我想从左边滑入一个 div 并将当前移动到右边，就像在 iOS 中你来回移动一样。

我试过这个，但似乎没有用：

```
jQuery(".post .order").click(function() {
        jQuery(this).parents(".post-front")
            .hide("slide", { direction: "right" }, 1000);
            .next(".post-back")
            .show("slide", { direction: "left" }, 1000);
    }); 
```

标记：

```
<div class="post">
    <div class="post-front">
        <a href="#" class="next"></a>   
        ...
    </div>
    <div class="post-back">
        <a href="#" class="back"></a>
        ...
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:11:24.790

***[这](http://jsfiddle.net/blasteralfred/FGGBH/1/)***是一个现场演示。这是你想要达到的目标吗？请给出意见。

# google-app-engine - GAS、GWT 和 Google 应用引擎之间的区别

> ID：12330560
> 
> 赞同：4
> 
> 时间：2012-09-08T12:02:06.890
> 
> 标签：google-app-engine, gwt, google-apps-script

我是应用程序脚本的新手，所以我发现文档有点混乱。我看到有一种方法可以使用 GWT 插件在 eclipse 中开发谷歌应用程序。但是当我深入挖掘时，我发现这种方法需要我熟悉 Java，而我并不了解。我很了解 javascript，我认为该插件可以让我在 eclipse 上编写 appscript.gs 文件，但我不知道如何。我如何区分 GAS、GWT 和应用程序引擎（请外行），有没有办法离线编写 GAS？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-08T12:40:50.040

我不确定这些信息是否会有所帮助，但在这里......

GAS、GWT 和 GAE（Google App Engine）之间的区别如下：

*   GAS 是一种 JavaScript 云脚本语言，它提供了跨 Google 产品和第三方服务自动执行任务的简单方法。所以，实际上你不能离线写 GAS，你必须上网（[http://script.google.com](http://script.google.com)）。

*   GWT 是一个开发工具包，用于构建和优化基于浏览器的复杂应用程序。因此，它可以帮助您更轻松地开发产品。

*   GAE 是一个平台即服务 (PaaS) 云计算平台，用于在 Google 管理的数据中心开发和托管 Web 应用程序。

即使您不熟悉 Java，您仍然可以非常轻松地开发 Google 应用程序。

我建议您使用 Google App Engine for Python。一切都在这里解释：[https ://developers.google.com/appengine/docs/python/overview](https://developers.google.com/appengine/docs/python/overview)

您可以使用 eclipse 离线开发您的应用程序，然后将其发布到 Google 的服务器上。

即使您不了解 Python，本教程也会非常清楚地解释所有内容（Python 是一种非常友好和有趣的编程语言；））

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-08T13:37:24.010

Google App Script 使您能够编写在 Google 的服务器上运行的 Web 应用程序（使用 Javascript），但它与 Google App Engine 无关。例如，我编写了一个 GAS 网络应用程序，允许我儿子学校的教师重置学生的 Google Apps for Education 帐户的密码（教师必须处理的一个常见 IT 问题是忘记密码）。

Google App Script 比网络应用程序更通用；您也可以使用它来操作 Google 电子表格、文档和网站。例如，我们使用 Google 表单将父母的数据收集到电子表格中，然后我使用 GAS 将这些数据标准化并重新格式化为另一张表格。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-08T21:19:38.760

GAS 应用程序也可以在 Google 协作平台上运行。因此，您可以编写脚本、发布它，然后从 Google 站点页面上的 Apps 脚本框中运行它。（您必须在 url 中将 'scripts' 更改为 'sites'）。

# java - 检查空集合的 Java 集合泛型类型

> ID：12330562
> 
> 赞同：2
> 
> 时间：2012-09-08T12:02:25.783
> 
> 标签：java

我想实现以下功能：

```
public boolean checkType(Vector<?> vec)
{
  // return true if its Vector<Integer> and false otherwise
} 
```

如何检查矢量元素类型？ **请注意，**向量可能为空，因此我无法检查第一个元素是“instanceof”整数还是字符串...

*编辑：*

嗯，我有一些想法，我不知道它是否会起作用

我可以按如下方式实现 checkType 函数：

```
public <T> boolean checkType(Vector<T> vec)
{
  // return true if T is Integer and false otherwise
} 
```

是否可以检查 T 是否为整数？

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T12:47:55.587

**[*由于类型擦除*](http://docs.oracle.com/javase/tutorial/java/generics/erasure.html)**，泛型类型参数**在运行时是不可恢复的（某些特殊情况除外）。这意味着在运行时，两者`Vector<Integer>`和`Vector<String>`都只是`Vector`s 并且它们的元素只是`Object`引用。**

 **只有单个元素的实际运行时类（`instanceof`如您所指出的那样可以通过检查发现）构成元素类型的概念，否则 Vector 本身不知道它的元素类型是什么。

**所以基本上，任何类型的空**向量都等于任何其他类型的空向量。像这样投射它甚至是安全的：

```
Vector<String> noStrings = (Vector<String>) new Vector<Integers>(); 
```

但是有一个问题，因为尽管您可以说**空**向量符合任何所需的元素类型，但**只要向量保持为空**，此语句就成立。因为如果你这样做：

```
Vector<Integer> ints = new Vector<Integer>(); // empty
Vector<String> strings = (Vector<String>) ints; // unchecked warning, but still possibly ok
ints.add(1); // here comes trouble
String s = strings.get(1); // oh oh, ClassCastException 
```

## 编辑：

回答你第二个问题：不，不可能写出这样的东西：

```
public <T> boolean checkType(Vector<T> vec) {
    return T instanceof Integer; // impossible
    return T == Integer; // impossible
    return T.class == Integer.class // impossible
    return vec instanceof (Vector<Integer>); // impossible
} 
```

但是，您可以编写一个使用类标记作为输入参数的方法：

```
static <T> boolean checkElementType(Collection<?> collection, Class<T> elementType) {
    for (Object object : collection) {
        if (!elementType.isAssignableFrom(object.getClass())) {
            return false;
        }
    }
    return true;
} 
```

然后你可以像这样使用它：

```
List<?> list1 = Arrays.asList(1, 2, 3);
List<?> list2 = Arrays.asList(1, 2, 3, "a");
System.out.println(checkElementType(list1, Integer.class)); // true
System.out.println(checkElementType(list2, Integer.class)); // false 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T12:39:30.633

任何告诉你这是可能的人都是错误的。在运行时，无法判断空 Vector 是 a`Vector<Integer>`还是`Vector<Rainbow>`。

这或多或少是类型擦除的*定义*。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-08T13:25:56.100

由于类型擦除，这是不可能的。

即使向量不为空，集合库也不能真正防止将不同类型的东西放入：

```
 Vector v = new Vector<Integer>();
    v.add("foo");
    System.out.println(v.get(0)); 
```

将毫无错误地运行并很好地打印不应被允许的字符串值。

因此，任何在运行时确定泛型类型的尝试，即使是通过检查第一个元素的类型，都是不可靠的。

您可以在自己的通用代码中做的是添加一个构造函数参数和一个保存该值的字段，以便您的代码*在*运行时知道类型。

这种策略很难应用于整个馆藏库，但首先`Vector`是：

```
public class TypedVector<E> extends Vector<E> {

    private Class<E> genericClass;

    public TypedVector(Class<E> clazz) {
        super();
        this.genericClass = clazz;
    }

    // many other constructors ... but probably not all of them

    public Class<?> getGenericClass() {
        return genericClass;
    }

    @Override
    public boolean add(E e) {
        if (!(genericClass.isAssignableFrom(e.getClass())))
                throw new IllegalArgumentException("Incorrect class");
        return super.add(e);
    }

    // many other overrides for run-time type safety
} 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-09-08T12:14:25.553

```
public boolean checkType(Vector<?> vec)
{
  if(!vec.isEmpty())
  {
    if("String".equals(vec.get(0).getClass().getSimpleName()))
             return false;
    else if("Integer".equals(vec.get(0).getClass().getSimpleName()))
             return true;               
   }
} 
```

希望这可以帮助！！**

# python - 如何在 Scrapy Spider 中使用请求功能？

> ID：12330563
> 
> 赞同：1
> 
> 时间：2012-09-08T12:02:34.307
> 
> 标签：python, scrapy

```
from string import join
from scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor
from scrapy.contrib.spiders.crawl import Rule, CrawlSpider
from scrapy.http.request import Request
from scrapy.selector import HtmlXPathSelector
from Gfire.items import GfireItem

class GuideSpider(CrawlSpider):
    name = "Gfire"
    allowed_domains = ['www.example.com']
    start_urls = [
        "http://www.example.com/gfire/guides"
    ]
    rules = (
        Rule(SgmlLinkExtractor(allow=("gfire/guides.*page=")), callback='parse_item', follow=True),
    )

    def parse_item(self, response):
        hxs = HtmlXPathSelector(response)
        items = []
        sites = hxs.select('//div[@class="title"]')
        for site in sites:
            item = GFireItem()
            item['title'] = site.select('./a/text()').extract()
            item['guide_url'] = site.select('./a/@href').extract()
            item['guide_url'] = "http://www.example.com" + join(item['guide_url'])
            items.append(item)
        return Request(items[1], callback=self.parse_item2)

    def parse_item2(self, response):
        hxs = HtmlXPathSelector(response)
        hero = hxs.select("//h3/a/text()").extract()
        return hero 
```

不能让这个蜘蛛工作。请求函数包含应该是 item['guide_url'] 的 items[1] 但它告诉我参数必须是 str 或 unicode。我该如何纠正这个错误？以及如何将项目列表传递给回调函数？通过 request.meta?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T12:28:36.697

您`item[1]`实际上是`GFireItem`.

我不确定您为什么要创建这些，因为您只使用*一个*（站点列表中的第二个站点），而丢弃列表的其余部分。

除此之外，您需要`items[1]['guide_url']`在创建时提取 url `Request`：

```
 return Request(items[1]['guide_url'], callback=self.parse_item2) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-18T11:53:36.490

```
def parse_item(self, response):
    hxs = HtmlXPathSelector(response)
    items = []
    sites = hxs.select('//div[@class="title"]')
    for site in sites:
        item = GFireItem()
        item['title'] = site.select('./a/text()').extract()
        item['guide_url'] = site.select('./a/@href').extract()
        item['guide_url'] = "http://www.example.com" + join(item['guide_url'])
        items.append(item)
    return Request(items[1]['guide_url'], request.meta={'items':items}, callback=self.parse_item2)

def parse_item2(self, response):
    items = response.meta["items"]
    hxs = HtmlXPathSelector(response)
    hero = hxs.select("//h3/a/text()").extract()
    return hero 
```

# html - 从显示的数据库中检索 id 并传递到其他页面

> ID：12330564
> 
> 赞同：0
> 
> 时间：2012-09-08T12:02:42.570
> 
> 标签：html

我在特定页面（配方名称）上显示数据库的内容。我希望每个食谱都成为打开另一个页面的链接。我知道我必须获取该特定食谱的食谱 ID，将 ID 传递到另一个页面并将食谱内容打印到该页面上。我想知道如何在主要被点击时检索特定配方的唯一配方**ID**。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T12:06:26.680

您只需将 id 部分设置为配方链接指向的 URL。

```
<a href="/recipe/23">Iced Water</a> 
```

将是指向 ID 为 23 的配方的链接。由于 url 在服务器端可用，因此您已设置完毕。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T12:29:38.710

如果您**在特定页面上显示数据库的内容**，那么您肯定使用的是服务器端脚本，例如 like`ASP`或`PHP`some `JavaScript`+ `AJAX`。我对此很不清楚。但是对于您的问题，我可以告诉您一件事，如果假设您使用的是 PHP，那么您可以将链接显示为；

```
echo '<a href="yourpage.php?recipeid='.$recepeid.'">'.$recipiename.'</a>'; 
```

`$recipeid`携带配方 ID 的变量在哪里，是配方`$recipiename`的名称。在您的 PHP 文件 ( `yourpage.php`) 中，您可能会捕获这些数据，例如`$_GET["recipeid"]`

您可以尝试谷歌搜索教程。

利用;

```
$strLink = '<a href="recipedisp.php?id='.$row['id'].'">'.$strName.'</a>';
echo "<li>".$strLink."</li>"; 
```

不要使用空格。

# entity-framework - LINQ To Entity - 唯一的左外连接场景

> ID：12330566
> 
> 赞同：1
> 
> 时间：2012-09-08T12:03:03.057
> 
> 标签：entity-framework, linq-to-entities, left-join

我正在尝试在 Linq to Entity 语法中编写以下 Left Outer Join 场景，但我终其一生都无法弄清楚如何将其完成...... 这是我试图最终实现**的工作 SQL ：**

SELECT *
FROM Students s LEFT JOIN ParentStudents ps ON ps.StudentId = s.StudentId **AND ps.ParentId = '6D279F72-2623-459F-B701-5C77C52BA52F'**

WHERE s.TenantId = 3 AND s.FamilyId = '28833312-46eb-4a54-9132-8a7c8037cec5'

以粗体突出显示的部分是我失败的地方......我希望学生返回，无论数据库中是否有任何 ParentStudent 记录。

这是我最新的 LINQ to Entity**代码不起作用**：

```
 public ICollection<ParentStudentListing> GetParentStudents(Guid FamilyId, Guid ParentId)
    {
        var query = from s in DataContext.Students
                    from ps in s.ParentStudents.DefaultIfEmpty()
                    where s.TenantId == CurrentUser.TenantId && s.FamilyId == FamilyId && ps.ParentId == ParentId
                    select new ParentStudentListing { StudentId = s.StudentId, FirstName = s.FirstName, MiddleName = s.MiddleName, LastName = s.LastName, RelationshipId = ps.RelationshipId, ParentStudentId = ps.ParentStudentId, isAllowedToPickUp = ps.isAllowedToPickUp, isEmergency = ps.isEmergency, isLiveIn = ps.isLiveIn, ParentId = ps.ParentId };

        return query.ToList();
    } 
```

除非数据库中有非预期结果的 ParentStudent 记录，否则此代码不会带回学生。无论是否有 ParentStudent 记录，我都想带回学生，但是如果有 ParentStudent 记录，我希望那些与学生记录一起加入...

谢谢你！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T20:16:47.277

感谢乔的额外帮助....这并没有让我到达那里，但我终于让它运行起来了。这是工作代码：

```
 public ICollection<ParentStudentListing> GetParentStudents(Guid FamilyId, Guid ParentId)
    {
        var query = from s in DataContext.Students
                    join ps in DataContext.ParentStudents
                          on new { s.StudentId, ParentId = ParentId }
                      equals new { ps.StudentId, ps.ParentId } into ps_join
                    from ps in ps_join.DefaultIfEmpty()
                    where s.TenantId == CurrentUser.TenantId && s.FamilyId == FamilyId
                    select new ParentStudentListing { StudentId = s.StudentId, FirstName = s.FirstName, MiddleName = s.MiddleName, LastName = s.LastName, RelationshipId = ps.RelationshipId, ParentStudentId = ps.ParentStudentId, isAllowedToPickUp = ps.isAllowedToPickUp, isEmergency = ps.isEmergency, isLiveIn = ps.isLiveIn, ParentId = ps.ParentId };

        return query.ToList();
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T12:34:54.257

这是我第一次尝试 LINQ 连接：

```
var query = from s in DataContext.Students
            join ps in s.ParentStudents on ps.ParentId equals s.ParentId into ps
            from ps in ps.DefaultIfEmpty()
            where s.TenantId == CurrentUser.TenantId && s.FamilyId == FamilyId                
            select new ParentStudentListing { StudentId = s.StudentId, FirstName = s.FirstName, MiddleName = s.MiddleName, LastName = s.LastName, RelationshipId = ps.RelationshipId, ParentStudentId = ps.ParentStudentId, isAllowedToPickUp = ps.isAllowedToPickUp, isEmergency = ps.isEmergency, isLiveIn = ps.isLiveIn, ParentId = ps.ParentId }; 
```

[从这里](http://code.msdn.microsoft.com/LINQ-Join-Operators-dabef4e9)引用。

# testing - Joel Test 的 bug 数据库，适当的定义是什么？

> ID：12330570
> 
> 赞同：-2
> 
> 时间：2012-09-08T12:03:40.773
> 
> 标签：testing

错误数据库意味着存储有关错误的数据库列表。如何利用？

*   `bug database`Joel Test的恰当定义是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T12:09:33.707

错误数据库是用于存储错误的中央数据库，最好是所有与错误有关的联系人。

如果适合公司的需要，它可以像电子表格一样简单。但是有很好的工具可用于管理错误及其解决方案。

报告者（问答部门或用户）报告错误。它们计划发布并分配给开发人员。开发人员尝试按优先级（和/或严重性）的顺序解决错误。并且可以与记者进行对话（通过错误工具或电子邮件）。

一些错误工具有图表来监控时间表（计划与已解决），并为管理人员提供更改范围或发布日期的工具。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T12:07:58.077

Joel 正在谈论某种系统来跟踪测试人员或用户发现的错误。

[http://en.wikipedia.org/wiki/Bug_tracking_system](http://en.wikipedia.org/wiki/Bug_tracking_system)

一家公司是选择优先修复错误还是开发新功能，这在很大程度上说明了他们的优先事项和前景。

有很多工具可以帮助您跟踪错误。乔尔自己也做得很好 - [www.fogbugz.com](http://www.fogbugz.com)

# php - PHP htmlentities 并以 xml 格式保存数据

> ID：12330571
> 
> 赞同：1
> 
> 时间：2012-09-08T12:03:51.523
> 
> 标签：php, xml, save, html-entities, html-encode

我尝试使用以下 PHP 脚本将一些数据保存到 xml 文件中：

```
<?php

$string = '<a href="google.com/maps">Go to google maps</a> and some special characters ë è & ä etc.';

$string = htmlentities($string, ENT_QUOTES, 'UTF-8');

$doc = new DOMDocument('1.0', 'UTF-8');
$doc->preserveWhiteSpace = false;
$doc->formatOutput = true;

$root = $doc->createElement('top');
$root = $doc->appendChild($root);

$title = $doc->createElement('title');
$title = $root->appendChild($title);

$id = $doc->createAttribute('id');
$id->value = '1';
$text = $title->appendChild($id);

$text = $doc->createTextNode($string);
$text = $title->appendChild($text);

$doc->save('data.xml');

echo 'data saved!';

?> 
```

我正在使用 htmlentities 将所有字符串转换为 html 格式，如果我忽略它，特殊字符将不会被转换为 html 格式。这是输出：

```
<?xml version="1.0" encoding="UTF-8"?>
<top>
  <title id="1">&amp;lt;a href=&amp;quot;google.com/maps&amp;quot;&amp;gt;Go to google maps&amp;lt;/a&amp;gt; and some special characters &amp;euml; &amp;egrave; &amp;amp; &amp;auml; etc.</title>
</top> 
```

html 标记的 & 符号得到一个双 html 代码：`&amp;lt;`并且 & 符号变为：`&amp;amp;`

这是正常行为吗？或者我怎样才能防止这种情况发生？看起来像双重编码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T12:25:57.960

尝试删除该行：

```
$string = htmlentities($string, ENT_QUOTES, 'UTF-8'); 
```

因为传递给 createTextNode() 的文本无论如何都会被转义。

更新：如果您希望转义 utf-8 字符。您可以离开该行并尝试直接在 createElement() 中添加 $string。

例如：

```
$title = $doc->createElement('title', $string);
$title = $root->appendChild($title); 
```

在 PHP[文档](http://php.net/manual/en/domdocument.createelement.php)中，它说 $string 不会被转义。我没有尝试过，但它应该可以工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T12:19:02.593

将 a转换为htmlentities[处理](http://php.net/manual/en/function.htmlentities.php) xml 数据时，您不应该使用 htmlentities，因为 DOMDocument 将处理 a而不是。`&``&amp;``&``&amp;`

自 php 5.3 起，默认编码为 UTF-8，因此无需转换为 UTF-8。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-08T12:51:41.447

这一行：

```
$string = htmlentities($string, ENT_QUOTES, 'UTF-8'); 
```

... 将字符串编码为 HTML。

这一行：

```
$text = $doc->createTextNode($string); 
```

... 将您的 HTML 字符串编码为 XML。

这为您提供了 HTML 字符串的 XML 表示。解析 XML 后，您将返回 HTML。

> 我怎样才能防止这种情况发生？

如果您的目标是在 XML 文档中存储一些文本。删除将其编码为 HTML 的行。

> 看起来像双重编码。

差不多。它被编码两次，它只是对两次传递中的每一次使用不同的（尽管非常相似）编码方法。

# iphone - iphone开发：使用tableview单元格作为按钮

> ID：12330577
> 
> 赞同：0
> 
> 时间：2012-09-08T12:04:29.353
> 
> 标签：iphone, objective-c, ios, uitableview, uibutton

是否可以像按钮一样使用 tableView 单元格？在我的应用程序中，我想要一个有 4 行的表格视图，并且在每一行中都会有标签。我想要的是当我触摸一行时，表格 tableview 单元格应该像按钮一样做出反应（执行操作并突出显示背景）？那可能吗？我怎样才能做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T12:10:38.380

非常简单的委托方法将被称为 didSelectRowAtIndexPath 在那里你可以得到哪一行在哪个部分被点击，你可以执行进一步的操作。

例如

```
-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
    // deselect
    [tableView deselectRowAtIndexPath:indexPath animated:YES];

    if(indexPath.row == 0){
        LoginFormViewController *vController = nil;
        if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)
        {
            vController = [[LoginFormViewController alloc] initWithNibName:@"LoginFormViewController_ipad" bundle:nil];
        }else {
            vController = [[LoginFormViewController alloc] initWithNibName:@"LoginFormViewController" bundle:nil];
        }
        [self.navigationController pushViewController:vController animated:YES];
        [vController release];
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-08T12:09:40.967

您可以在 UITableView 委托中的 tableView:didSelectRowAtIndexpath 方法中实现此“按钮”功能；）

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath 
{
    // do something when pressed on an UITableViewCell
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-08T12:09:41.357

cel 将突出显示，并且您的 table view 的代表`tableView:didSelectRowAtIndexPath:`无论如何都会收到一条消息。你不需要任何额外的东西来实现你所描述的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T13:28:03.593

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
   if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
       cell.selectionStyle=UITableViewCellSelectionStyleGray;

    }

    if(tableView.tag==1)
    {
    cell.userInteractionEnabled = NO;
    cell.backgroundColor =[UIColor blackColor];

    UIButton *Btn11=[UIButton buttonWithType:UIButtonTypeCustom];
    [Btn11 addTarget:self action:@selector(ratingAction:) forControlEvents:UIControlEventTouchUpInside];
    [Btn11 setBackgroundImage:[UIImage imageNamed:@"small_img4.png"] forState:UIControlStateNormal];
    Btn11.tag=indexPath.row;
    Btn11.frame=CGRectMake(0, 6.5, 156, 74.5);

        UILabel *Main_tblImg_Label=[[UILabel alloc]initWithFrame:CGRectMake(0, 80,156, 31)];
        [Main_tblImg_Label setBackgroundColor:[UIColor blackColor]];
        //[Main_tblImg_Label setText:@"First Drive 2012 Mercedes Benz M class"];
        //Main_tblImg_Label.textAlignment = UITextAlignmentCenter;
        [Main_tblImg_Label setTextColor:[UIColor whiteColor]];
        [Main_tblImg_Label setFont:[UIFont fontWithName:@"Helvetica" size:9]];
        [Main_tblImg_Label setNumberOfLines:2];

        [cell.contentView addSubview:Main_tblImg_Label];
        [cell.contentView addSubview:Btn11];

        UILabel *other_Lbl=[[UILabel alloc]initWithFrame:CGRectMake(14, 80, 142, 29)];
        [other_Lbl setText:@"First Drive 2012 \nMercedes Benz M class"];
        [other_Lbl setBackgroundColor:[UIColor blackColor]];
        [other_Lbl setTextColor:[UIColor whiteColor]];
        [other_Lbl setFont:[UIFont fontWithName:@"Helvetica" size:9]];
        [other_Lbl setNumberOfLines:2];
        [cell.contentView addSubview:other_Lbl];
        [cell.contentView addSubview:Btn11];
                //[cell.contentView addSubview:Main_tblImg_Label];
//      [cell.contentView addSubview:Btn11];
//      

    UIButton *Btn22=[UIButton buttonWithType:UIButtonTypeCustom];
    [Btn22 addTarget:self action:@selector(ratingAction2:) forControlEvents:UIControlEventTouchUpInside];
    [Btn22 setBackgroundImage:[UIImage imageNamed:@"Screen2.png"] forState:UIControlStateNormal];
    Btn22.tag=indexPath.row;
    Btn22.backgroundColor=[UIColor clearColor];
    Btn22.frame=CGRectMake(165, 6.5, 156, 74.5);

        UILabel *main_tblImg_Lbl2=[[UILabel alloc]initWithFrame:CGRectMake(165, 80, 156, 31)];

        [main_tblImg_Lbl2 setBackgroundColor:[UIColor blackColor]];
        //[main_tblImg_Lbl2 setText:@"Audi planning Mexican Assembly plant?"];
        [main_tblImg_Lbl2 setTextColor:[UIColor whiteColor]];
        //[main_tblImg_Lbl2 setFont:[UIFont fontWithName:@"times" size:1]];
        [main_tblImg_Lbl2 setFont:[UIFont fontWithName:@"Helvetica" size:10]];
        [main_tblImg_Lbl2 setNumberOfLines:2];
        [cell.contentView addSubview:main_tblImg_Lbl2];

        UILabel *other1_Lbl=[[UILabel alloc]initWithFrame:CGRectMake(176, 80, 136, 31)];
        [other1_Lbl setText:@"Audi planning Mexican Assembly plant?"];
        [other1_Lbl setBackgroundColor:[UIColor blackColor]];
        [other1_Lbl setTextColor:[UIColor whiteColor]];
        [other1_Lbl setFont:[UIFont fontWithName:@"Helvetica" size:10]];
        [other1_Lbl setNumberOfLines:2];
        [cell.contentView addSubview:other1_Lbl];
        [cell.contentView addSubview:Btn11];

    [cell.contentView addSubview:Btn22];
    }
return cell
} 
```

# javacv - JavaCV - 识别检测到的最准确的人脸

> ID：12330578
> 
> 赞同：4
> 
> 时间：2012-09-08T12:04:42.917
> 
> 标签：javacv

我是 JavaCV/OpenCV 的新手，所以如果我是一个完全的白痴，请提前道歉......

我需要检测图像中的“主要/主要”人脸（该图像大部分是“个人资料图片”），不需要**人脸识别。**

由于不同的**haarcascade**文件每个都检测到不同的人脸，并且检测到的人脸有时实际上不是人脸，而是图像中的任意伪影，因此我需要决定使用哪些人脸。假设检测到的人脸是真实的人脸，使用最大的人脸是有意义的，因为它是个人资料图片。

我遇到的主要问题是代码检测到（对于某些图像）超过 1 张脸，而最大的脸实际上根本不是人脸。这是我的一个测试中的一个示例，其中代码检测到 2 张脸，1 张是真实的脸，另一个是女人的胸围，碰巧她的胸围比她的脸大。

脸：`java.awt.Rectangle[x=62,y=42,width=78,height=78]` **面积6084**
胸围：`java.awt.Rectangle[x=86,y=144,width=80,height=80]` **面积6400**

![](../Images/2a517896efba2b4c1e9d47673797a4d4.png)

所以简而言之，我的问题是，如果我有多个检测到的面孔，是否有某种评分量表可以用来确定哪些面孔最匹配 OpenCV 所看到的面孔？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-01T20:58:39.560

不幸的是，面部检测没有为您提供这样的选择。我猜你的代码看起来像这样：

```
CvSeq faces = cvHaarDetectObjects(grayImage, cascade, ......); 
```

所以你会得到一个 CvSeq，它实际上只不过是一个指向界定面的矩形序列的指针。你不会得到更多的信息。

通常，我会说半身像在头部下方（更重要的是，头部在身体其他部位的上方），除非在某些特殊情况下;）。

您可以简单地利用 Y 位置来丢弃胸围。

如果其他非身体部位的元素被检测为面部，那么你就完蛋了。

# r - decompose() 的句点太少

> ID：12330581
> 
> 赞同：12
> 
> 时间：2012-09-08T12:05:16.623
> 
> 标签：r

错误看起来像这样

```
decompose(samplets)
Error in decompose(samplets) : time series has no or less than 2 periods 
```

我想知道什么问题？我基本上是在使用 ARIMA 编写代码预测，我想知道我的数据中是否有任何季节性或趋势。

希望快点回复！！！！！！

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-09-08T12:35:03.953

该错误是不言自明的。无论您如何创建时间序列，都没有季节性周期或少于 2 个季节性周期。（这可能并不表示数据*不是*季节性的；可能您创建的`samplets`不正确。）例如，我可以通过具有 7 个季度观察值的时间序列来重现错误，这显然不是两个完整的季节性周期：

```
R> TS <- ts(1:7, frequency = 4)
R> decompose(TS)
Error in decompose(TS) : time series has no or less than 2 periods
R> TS
  Qtr1 Qtr2 Qtr3 Qtr4
1    1    2    3    4
2    5    6    7 
```

同样，如果我没有指定任何次年频率（即`frequency = 1`在`ts()`创建时间序列对象的调用中`samplets`[这是默认值]），我会得到相同的错误：

```
R> TS <- ts(1:7)
R> decompose(TS)
Error in decompose(TS) : time series has no or less than 2 periods 
```

无论哪种方式，这都表明您`"ts"`通过未指定正确的`frequency`或`deltat`参数而错误地创建了对象，或者您的时间序列长度（年数）不足以涵盖两个完整的季节性周期。

请`?ts`详细阅读以检查您是否`samplets`正确创建。如果您需要进一步的帮助，请发布可重现的示例。

# cocos2d-x - COCOS2DX 中的 SpriteAnimation 和 plist

> ID：12330583
> 
> 赞同：4
> 
> 时间：2012-09-08T12:05:42.933
> 
> 标签：cocos2d-x, visual-c++-2010

你好，我正在使用这段代码为使用 cocos2dx 的精灵制作动画。

```
CCSpriteFrameCache::sharedSpriteFrameCache()->addSpriteFramesWithFile("suhas.plist");
    CCLog("#########################");
    CCSpriteBatchNode *spriteSheet = CCSpriteBatchNode::batchNodeWithFile("suhas.PNG");
    CCLog("*********************************");
    this->addChild(spriteSheet);
    CCLog("*********************************");
    CCArray *bearArray = new CCArray();
     for(int i = 1; i <= 8; i++)
     {
         CCLog("*********************************");
        char name[32] = {0}; 
         sprintf(name, "bear%d.png",i);
        bearArray->addObject(CCSpriteFrameCache::sharedSpriteFrameCache()->spriteFrameByName(name));
}
    CCAnimation *walkAnim = CCAnimation::animationWithSpriteFrames(bearArray, 0.1f);
    CCSize size = CCDirector::sharedDirector()->getWinSize();
    CCSprite *bear = CCSprite::spriteWithSpriteFrameName("bear1.png");
    bear->setPosition(ccp(size.width/2, size.height/2));
    CCAction *walkAction = CCRepeatForever::actionWithAction(CCAnimate::actionWithAnimation(walkAnim));
    bear->runAction(walkAction);
    spriteSheet->addChild(bear);
    return true; 
```

但是我的代码崩溃了。并给出错误

```
cocos2d: CCSpriteFrameCache: Trying to use file D:\cocos2dnew\SPRITEAnimDemo\Resources\suhas.png as texture
First-chance exception at 0x00000000 in SPRITEAnimDemo.win32.exe: 0xC0000005: Access violation.
Unhandled exception at 0x00000000 in SPRITEAnimDemo.win32.exe: 0xC0000005: Access violation.
The program '[1012] SPRITEAnimDemo.win32.exe: Native' has exited with code -1073741819 (0xc0000005). 
```

我尝试在谷歌上解决这个问题。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T12:22:51.507

更改此行

```
*spriteSheet = CCSpriteBatchNode::batchNodeWithFile("suhas.PNG"); 
```

和

```
*spriteSheet = CCSpriteBatchNode::batchNodeWithFile("suhas.png"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-02-15T06:14:44.570

在较新版本的 cocos2d-x 中，您可以先添加 batchnode ：

```
 SpriteFrameCache::getInstance()->addSpriteFramesWithFile("sprite_sheet.plist");
_gameBatchNode = SpriteBatchNode::create("sprite_sheet.png");
this->addChild(_gameBatchNode, 1); 
```

对于动画：

```
 auto animation = Animation::create();
int i;
for(i = 1; i <= 10; i++) {
    auto name = String::createWithFormat("boom%i.png", i);
    //auto name = String::createWithFormat("meteor-%i.png", i);
    auto frame = SpriteFrameCache::getInstance()->getSpriteFrameByName(name->getCString());
    animation->addSpriteFrame(frame);
}

animation->setDelayPerUnit(1 / 10.0f);
animation->setRestoreOriginalFrame(true); 
```

请注意，boom.png 和 meteor.png 在 sprite_sheet.plist 内

# c# - 从 DataGridView.DataSource 错误中删除元素

> ID：12330585
> 
> 赞同：0
> 
> 时间：2012-09-08T12:05:49.563
> 
> 标签：c#

我有一个`DataGridView`带有`List`DataSource 控件的 Windows 窗体应用程序。我必须从 DataGridView 中删除一些元素，然后使用列表来执行此操作：

```
MyList.Remove(SpecificItem);
MyDataGridView.Invalidate(true);
MyDataGridView.Refresh(); 
```

当我想一直向下滚动到最后一项时，`DataGridView`我得到了`IndexOutOfRange`错误。即使我打电话给`MyDataGridView.Update();`我仍然得到同样的错误。我怎样才能绕过这个错误？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T12:45:35.197

由于`MyDataGridView.DataSource`不受约束，`List`您需要在`MyDataGridView.DataSource`每次`List`更改时设置。在这种情况下使用`Invalidate()`或`Refresh()`不做任何事情。此 msdn 链接将[数据绑定到 Windows 窗体 DataGridView 控件](http://msdn.microsoft.com/en-us/library/fbk67b6z.aspx)可能会帮助您将数据绑定到`DataGridView`

# python - Python urllib.urlretrieve 异常处理

> ID：12330590
> 
> 赞同：0
> 
> 时间：2012-09-08T12:06:36.543
> 
> 标签：python

文件下载到一半了，还是因为网络问题导致下载时出错或者超时，这要跟他们做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T12:13:42.417

在[Python 文档中](http://docs.python.org/library/urllib.html#urllib.urlretrieve)

在 2.5 版更改：当 urlretrieve() 检测到可用数据量小于预期量（即 Content-Length 标头报告的大小）时，它将引发 ContentTooShortError。例如，当下载中断时，可能会发生这种情况。

# c# - 如何从列表视图数据或列表视图项目准备水晶报表

> ID：12330591
> 
> 赞同：1
> 
> 时间：2012-09-08T12:06:36.877
> 
> 标签：c#, crystal-reports

我想从 listview 数据准备水晶报告。由于我不熟悉创建报告，请帮助我如何做到这一点...

在此先感谢， Ulaganathan.N

# date - 将服务器系统日期更改为前一个月的影响（Win Server 2008 R2）

> ID：12330593
> 
> 赞同：0
> 
> 时间：2012-09-08T12:06:56.510
> 
> 标签：date, networking, windows-server-2008-r2

我有一个托管在专用 Win Server 2008 R2 上的应用程序。客户需要将过去 3 个月的数据输入应用程序。我们只有一种方法，就是将服务器系统日期设置为 3 个月前的数据，直到所有用户完成更新过去的数据。

所以我的问题是将系统日期设置为过去日期是否会对服务器或它所属的网络的正常运行产生任何影响。

请指教...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T17:56:21.820

服务器可能会自动尝试将其时间更正回当前时间。如果此服务器是 AD 的一部分，则可能存在一些问题。如果它是 AD 的一部分并且是 GC，那么用户可能无法验证时间差异。在更正时间之前，通过 Windows 更新进行的更新也将不起作用。如果这是唯一的方法，我建议尽快完成并设置时间。

# sql - 如何按月按日期列分组

> ID：12330597
> 
> 赞同：4
> 
> 时间：2012-09-08T12:07:41.460
> 
> 标签：sql, sqlite

我有一个带有日期列的表，其中日期以这种格式存储：

```
2012-08-01 16:39:17.601455+0530 
```

我如何`group`或`group_and_count`在此栏目上按`month`？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-08T15:01:22.483

您最大的问题是 SQLite 不会直接将您的日期识别为日期。

```
CREATE TABLE YOURTABLE (DateColumn date);
INSERT INTO "YOURTABLE" VALUES('2012-01-01');
INSERT INTO "YOURTABLE" VALUES('2012-08-01 16:39:17.601455+0530'); 
```

如果您尝试使用 strftime() 来获取月份。. .

```
sqlite> select strftime('%m', DateColumn) from yourtable;
01 
```

. . . 它从第一行开始，但不是从第二行开始。

如果您可以将现有数据重新格式化为有效时间戳（就 SQLite 而言），您可以使用这个相对简单的查询来按年和月分组。（你几乎肯定不想单独按月分组。）

```
select strftime('%Y-%m', DateColumn) yr_mon, count(*) num_dates 
from yourtable 
group by yr_mon; 
```

如果你不能这样做，你需要做一些字符串解析。这是这个想法的最简单表达。

```
select substr(DateColumn, 1, 7) yr_mon, count(*) num_dates 
from yourtable 
group by yr_mon; 
```

但这可能不太适合你。由于您有时区信息，因此肯定会更改某些值的月份。要获得一个完全通用的解决方案，我*认为*您需要更正时区，提取年份和月份，等等。更简单的方法是仔细查看这些数据，声明“我对考虑那些边缘情况不感兴趣”，然后立即使用上面更简单的查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-21T17:50:21.447

我花了一段时间才找到使用 Sequel 的正确表达方式。我所做的是这样的：

假设一个像这样的表：

```
CREATE TABLE acct (date_time datetime, reward integer) 
```

然后您可以按如下方式访问聚合数据：

```
ds = DS[:acct]
ds.select_group(Sequel.function(:strftime, '%Y-%m', :date_time))
   .select_append{sum(:reward)}.each do |row|
  p row
end 
```

# c# - 如何使用 netMsmqbinding - 与服务器连接的场景

> ID：12330604
> 
> 赞同：1
> 
> 时间：2012-09-08T12:08:16.740
> 
> 标签：c#, wcf

这可能看起来是一个问题，您可以在 MSDN 上阅读答案，但我仍然想询问场景，因为我想解决业务问题。

我在服务器上托管了一项服务，并且客户端进行了服务调用。它目前使用 netTCP 绑定。当服务可用、服务器启动并运行时，一切正常。现在，我需要处理服务器停机的情况。在服务器停机的情况下，我使用客户端上的本地缓存文件来服务客户端请求。现在我想缓存服务器关闭时发出的所有请求，并希望在服务器启动并运行后进行服务调用。

我正在考虑使用 netMsmqBinding，因为我读过的所有内容都表明它在断开连接的情况下运行良好。

*   Q.1 我可以使用 netMsmq 来处理这种情况吗？
*   Q.2 如果不是，那么我可以采用的另一种方法来解决这个问题吗？
*   Q.3 如果服务器宕机发现客户端调用无法联系到服务，我可以使用 WS-Discovery 吗？

**编辑**：场景是客户端-服务器。但我确实需要在每次致电客户时做出回应。客户端也仅由我开发和维护，因此我可以很好地实施最合适的解决方案。

请指导我，因为我对 WCF 不太了解。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T14:34:47.183

是的，您可以`netMsmqBinding`用于此目的。我们正在为运行在经常出现故障的卫星链路上的服务这样做。

您需要考虑的一个重要限制是所有调用都必须是一种方式，即基于队列的传输。如果您需要获取请求的结果，则必须提供单独的响应机制（可以是相反方向的类似队列）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T14:35:45.307

广告问题 1：使用 MSMQ 非常适合服务可能并不总是启动和运行的场景。请注意，托管消息队列的*服务器*必须已启动且可访问才能接收消息。但是，您没有告诉我们有关您的方案的任何其他信息，特别是为什么您目前拥有 NetTCP。这很重要的原因是因为有些事情你*不能*用 MSMQ 做，例如双工通信不能开箱即用。

广告问题 2：另一种方法可能是在客户端中实现逻辑（如果您是客户端软件的所有者，则从问题中不清楚）有一个本地队列，如果服务（暂时）离线，则稍后重试消息。我猜你甚至可能在客户端上有一个代理 MSMQ 服务，一旦它启动就将消息中继到主服务。

广告问题 3：是的，您可以为此使用 Discovery。该服务必须在上线或下线时向客户宣布。最简单的示例是使用[UdpAnnouncementEndpoint](http://msdn.microsoft.com/en-us/library/system.servicemodel.discovery.udpannouncementendpoint)。在客户端中，您可以使用[AnnouncementService](http://msdn.microsoft.com/en-us/library/system.servicemodel.discovery.announcementservice)类来监听[在线](http://msdn.microsoft.com/en-us/library/system.servicemodel.discovery.announcementservice.onlineannouncementreceived)或[离线](http://msdn.microsoft.com/en-us/library/system.servicemodel.discovery.announcementservice.offlineannouncementreceived)服务，并保留可用服务的本地列表。或者（例如，当 UDP 广播不可行时）您可以在众所周知的位置创建一个[发现代理服务来监听通知，客户端可以访问该服务以即时了解他们需要的服务是否在线](http://msdn.microsoft.com/en-us/library/system.servicemodel.discovery.discoveryproxy)

# google-maps - 更改 Google 地图标记/信息窗口位置

> ID：12330605
> 
> 赞同：1
> 
> 时间：2012-09-08T12:08:20.107
> 
> 标签：google-maps

我目前正在使用此代码段在某个页面上显示我的地图

```
<div id="map_canvas" style="width: 400px; height: 300px;"></div>
<div class="map_js">
<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script>
var myLatlng = new google.maps.LatLng(0, 0);
var mapOptions = {
  zoom: 15,
  center: myLatlng,
  scrollwheel: true,
  scaleControl: false,
  disableDefaultUI: false,
  mapTypeId: google.maps.MapTypeId.ROADMAP
};
var map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);
var geocoder_map = new google.maps.Geocoder();
var address = 'New York';
geocoder_map.geocode({
  'address': address
}, function (results, status) {
  if (status == google.maps.GeocoderStatus.OK) {
    map.setCenter(results[0].geometry.location);
    var marker = new google.maps.Marker({
      map: map,
      position: map.getCenter()
    });
    var contentString = 'Hello World New York is the most populous city in the United States.';
    var infowindow = new google.maps.InfoWindow({
      content: contentString,
      maxWidth: 200
    });
    google.maps.event.addListener(marker, 'click', function () {
      infowindow.open(map, marker)
    });
    infowindow.open(map, marker)
  } else {
    alert('Geocode was not successful for the following reason: ' + status)
  }
});
</script>
</div> 
```

但是，正如您在这张图片[http://d.pr/i/whoI](http://d.pr/i/whoI)中看到的那样，信息窗口与默认地图 UI 有点重叠。

有人知道如何解决这个问题吗？

最好的问候，仁

# javascript - 如何正确地将循环中的参数传递给多个事件处理程序？

> ID：12330607
> 
> 赞同：1
> 
> 时间：2012-09-08T12:08:38.897
> 
> 标签：javascript, events, event-handling

> **可能重复：**
> [循环内的 Javascript 闭包 - 简单的实际示例](https://stackoverflow.com/questions/750486/javascript-closure-inside-loops-simple-practical-example)

我使用 JS 将事件处理程序添加到我的网站上的多个 href，如下所示：

```
function addButtonListener(){
  var buttons = document.getElementsByClassName("selLink");
  for (var i = 0; i < buttons.length; i++)
  {
      button.addEventListener('click',function() { addTosel(i); },true);
    }
  }
} 
```

但不幸的是 addTosel 是通过最后一个 i 而不是循环中的 i 。如何将 i 相应地传递给此时正在处理的对象？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T12:16:46.370

您需要创建一个闭包：

```
function addButtonListener(){
    var buttons = document.getElementsByClassName("selLink");

    for (var i = 0; i < buttons.length; i++) {

        button.addEventListener('click', function(index) { 
            return function () {
                addTosel(index);
            };
        }(i), true);
    }
} 
```

这样，处理程序的范围就绑定到`i`.

有关此主题的更多信息，请参阅[本文](http://lostechies.com/derekgreer/2012/02/17/javascript-closures-explained/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T12:20:09.520

您需要在`i`声明变量时将其绑定到函数。像这样

```
for (var i = 0; i < buttons.length; i++) {
  button.addEventListener('click',(function() { addTosel(this); }).bind(i) ,true);
} 
```

注意：我只是从内存中编写代码，因此它可能并不完美，但它是您需要的解决方案，以供参考正确的方法，即使用跨浏览器垫片等查看：

[https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T13:33:43.160

如果您要采用这种`.bind`方法，请这样做。

```
for (var i = 0; i < buttons.length; i++) {
   button.addEventListener('click', addTosel.bind(null, i), true);
} 
```

这会创建一个以`null`bound 作为`this`值的新函数，因为您的函数似乎不需要它，并且当前`i`bound 作为第一个参数。

或者制作自己的活页夹功能

```
var _slice = Array.prototype.slice;
function _binder(func, ctx /*, arg1, argn */) {
    var bound_args = _slice.call(arguments, 2);
    return function() {
        return func.apply(ctx, bound_args.concat(_slice.call(arguments)));
    }
} 
```

然后这样做。

```
for (var i = 0; i < buttons.length; i++) {
   button.addEventListener('click', _binder(addTosel, null, i), true);
} 
```

# c++ - 无法使用 ndk for android 生成 openssl 的静态库

> ID：12330609
> 
> 赞同：0
> 
> 时间：2012-09-08T12:08:58.387
> 
> 标签：c++, android-ndk, makefile, openssl

我在 cpp 中编写了一个模块，它使用 openssl 进行 SSL 通信。我决定通过在这个模块之上编写 JNI 层来在 android 应用程序中使用这个模块。现在主要问题是我需要使用 ndk 构建的 openssl“静态”库。

我从这个链接[git 存储库得到了 openssl 包](https://github.com/eighthave/openssl-android)

如果我使用它来构建共享库，这非常有用，但我想为静态库构建它。我对制作文件很陌生。有人可以指导我如何更改这个openssl包中的makefile，我从上面给出的链接中得到它来获取静态库..？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-09T14:41:50.057

首先，您的 JNI 可以链接到共享的 OpenSSL 库。在加载使用它们的 JNI 库之前，您只需要从 Java 代码加载这些库。

其次，OpenSSL 库（共享对象）安装在任何 Android 上，因此您可能根本不需要构建它们。版本可能会有所不同，但在 Android 4.01 树中，该版本比在 Eighthave git 中的版本更高级。

最后，如果您的 NDK 安装在`$(NDK_ROOT)`目录中，您可以简单地运行以下命令：

```
$(NDK_ROOT)/ndk_build APP_MODULES="ssl crypto" BUILD_SHARED_LIBRARY="$(NDK_ROOT)/build/core/build-static-library.mk" 
```

*（从第八个 git clone 的根目录中）* ......你会自动找到静态库 obj/local/armeabi/libcrypto.a 和 obj/local/armeabi/libssl.a

# gwt - GWT 有自己的类路径概念吗？

> ID：12330611
> 
> 赞同：3
> 
> 时间：2012-09-08T12:09:08.843
> 
> 标签：gwt, classpath, java

GWT 编译器是否有一个独立于正常编译时类路径的“类路径”概念？GWT 应用程序（及其内部工作原理）是否具有与正常 JRE 运行时类路径分开的自己的类路径的概念？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T12:14:46.193

GWT 有模块的概念。每个模块都会声明其源路径中包含哪些包。模块可以扩展其他模块。GWT 编译的每个类都必须位于主模块扩展的一个模块的源路径中。

源路径与模块相结合的概念为 GWT 编译器构建了某种单独的类路径。但它与java类路径无关。

# qt - QtCreator 子目录项目

> ID：12330622
> 
> 赞同：3
> 
> 时间：2012-09-08T12:10:19.850
> 
> 标签：qt, qt-creator, qttest

我将基于 subdirs 模板在我的 QtCreator 项目中实现以下层次结构：

项目：

*   subproject1 - 静态库
*   subproject2 - 静态库
*   subproject3 - 单元测试可执行文件

唯一的一个可执行文件将在 subproject3 中，它将链接到 subproject1 和 subproject 2。

但是构建工作正常我注意到一些可用性问题。当我运行整个项目时，它会尝试在我的库中查找可执行文件——但失败了。我必须运行 subproject3 而不是主要的。有没有可能避免这种情况？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-02-21T21:12:14.843

我为单元测试使用了类似的层次结构 - 并且 .pro 文件中应该有以下几行

```
INCLUDEPATH += ../subproject1/ \
    ../subproject2/ 
```

在 INCLUDEPATH 变量中添加文件夹后，您可以使用 SOURCES 和 HEADERS 变量添加所需的源和标题。希望对你有帮助

# java - 旋转图像令人讨厌

> ID：12330624
> 
> 赞同：3
> 
> 时间：2012-09-08T12:10:22.793
> 
> 标签：java, image, swing, java-2d, image-rotation

好吧，伙计们，我正在尝试制作小行星类型的游戏，我需要能够旋转图像，以便船的前部跟随我的鼠标。我现在已经找了几个小时，找到了一些东西，但没有一个能满足我的需求。

如果有人知道如何做到这一点，请分享！

提前致谢

这是我现在拥有的代码

```
package Asteroids;

import java.awt.Color;
import java.awt.Graphics;
import java.awt.Image;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.awt.event.MouseMotionListener;

    import javax.swing.ImageIcon;
    import javax.swing.JFrame;

    @SuppressWarnings("serial")
    public class Asteroids extends JFrame implements Runnable, MouseListener,
            MouseMotionListener, KeyListener {

        private Image dbImage;
        private Graphics dbg;
        int x, y, mx, my;
        int a, b, c, degree;
        double scale = 1.0;
        ImageIcon shipIcon = new ImageIcon(this.getClass().getClassLoader()
                .getResource("AstroidsShip.png"));
        Image ship = shipIcon.getImage();

        public static void main(String[] args) {
            Asteroids frame = new Asteroids();
            Thread thread = new Thread(frame);
            thread.start();
        }

        public Asteroids() {
            addMouseListener(this);
            addMouseMotionListener(this);
            addKeyListener(this);

            setTitle("Astroids");
            setSize(500, 500);
            setBackground(Color.WHITE);
            setResizable(false);
            setLocationRelativeTo(null);
            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
            setVisible(true);

            x = getWidth() / 2 - 10;
            y = getHeight() - getHeight() / 2;
        }

        public void run() {
            while (true) {
                try {

                } catch (Exception e) {

                }
            }
        }

        public void paint(Graphics g) {
            dbImage = createImage(getWidth(), getHeight());
            dbg = dbImage.getGraphics();
            paintComponent(dbg);
            g.drawImage(dbImage, 0, 0, this);
        }

        public void paintComponent(Graphics g) {
            g.drawString("POS: " + mx + ", " + my, 10, 40);
            System.out.println(getAngle());
            g.drawImage(ship, x, y, this);
            g.drawLine(x + 12, y + 10, mx, my);
            repaint();
        }

        public int getAngle() {
            a = mx - (x + 12);
            b = (y - 10) - my;
            return degree = (int) Math.toDegrees(Math.atan2(b, a));
        }

        @Override
        public void keyTyped(KeyEvent e) {

        }

        @Override
        public void keyPressed(KeyEvent e) {

        }

        @Override
        public void keyReleased(KeyEvent e) {

        }

        @Override
        public void mouseDragged(MouseEvent e) {

        }

        @Override
        public void mouseMoved(MouseEvent e) {
            mx = e.getX();
            my = e.getY();
        }

        @Override
        public void mouseClicked(MouseEvent e) {

        }

        @Override
        public void mousePressed(MouseEvent e) {

        }

        @Override
        public void mouseReleased(MouseEvent e) {

        }

        @Override
        public void mouseEntered(MouseEvent e) {

        }

        @Override
        public void mouseExited(MouseEvent e) {

        }
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T12:12:48.370

您可以使用[Java2D](http://docs.oracle.com/javase/tutorial/2d/index.html)。它允许旋转图像并对图像进行许多其他很酷的操作。它还获得了硬件加速支持（通过 DirectX 或 OpenGL）。

Java2D 内置在 JRE 中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T12:24:27.877

在您的 paintComponent 方法中，您可以使代码如下所示：

```
public void paintComponent(Graphics g) {
    g.drawString("POS: " + mx + ", " + my, 10, 40);
    System.out.println(getAngle());
    Graphics2D g2d = new (Graphics2D)g;
    g2d.translate(X, Y);
    g2d.rotate(DEGREES);
    g2d.drawImage(ship, 0, 0, WIDTH, HEIGHT, this); 
    g.drawLine(x + 12, y + 10, mx, my);
    repaint();
} 
```

对于更复杂的使用，您可以创建一个包含所有船舶图纸计算的方法：

```
public void paintComponent(Graphics g) {
    g.drawString("POS: " + mx + ", " + my, 10, 40);
    System.out.println(getAngle());
    drawShip(g);
    g.drawLine(x + 12, y + 10, mx, my);
    repaint();
}

public void drawShip(Graphics g){
    Graphics2D g2d = (Graphics2D)g;
    g2d.translate(X, Y);
    g2d.rotate(DEGREES);
    g2d.drawImage(ship, 0, 0, WIDTH, HEIGHT, this);
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-08T12:47:32.943

一种方法是使用其中一种方法中的旋转实例，[该方法`AffineTransform`](http://docs.oracle.com/javase/7/docs/api/java/awt/geom/AffineTransform.html#method_summary)接受 X，Y 坐标的锚点。

# search - 找出 AVL 树中两个数字之间的最小间隙

> ID：12330626
> 
> 赞同：9
> 
> 时间：2012-09-08T12:10:43.790
> 
> 标签：search, data-structures, tree, avl-tree

我有一个数据结构作业，除了常规的 AVL 树函数外，我还必须添加一个函数，该函数返回 AVL 树中任意两个数字之间的最小间隙（AVL 中的节点实际上代表数字。）

假设我们在 AVL 树中有数字（作为节点）1 5 12 20 23 21，该函数应该返回任意两个数字之间的最小间隙。在这种情况下，它应该返回“1”，即 |20-21| 或 |21-20|。

它应该在 O(1) 中完成。

试着想了很多，我知道有一个技巧，但就是找不到，我花了几个小时在这上面。

还有另一个任务是找到最大间隙，这很容易，它是最小和最大数之间的差异。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-08T13:35:20.467

您需要扩展数据结构，否则您无法获得对构成树的数字之间的最小间隙的 O(1) 搜索。

您有额外的限制不增加插入/删除/搜索功能的时间复杂度，我假设您也不想增加空间复杂度。

让我们考虑一个通用节点**r**，具有左子树**rL**和右子树**rR**；我们将扩展节点**r**中的信息附加数**rx**定义为以下之间的最小值：

*   （仅当 rL 不为空时）r 值和 rL 上最右边的叶子的值
*   （仅当 rL 比 1 更深时）rL 根节点的 x 值
*   （仅当 rR 不为空时）r 值和 rR 上最左边的叶子的值
*   （仅当 rR 比 1 更深时）rR 根节点的 x 值

（或者如果前面的条件都不是有效的，则在叶节点的情况下未定义）

此外，为了快速插入/删除，我们需要在每个内部节点中添加对其最左侧和最右侧叶节点的引用。

您可以通过以下添加看到：

*   空间复杂度仅增加一个常数因子
*   插入/删除函数需要更新 x 值以及每个更改的子树的根的最左边和最右边的叶子，但是以不超过 O(log(n)) 的方式实现是微不足道的
*   树根的 x 值是函数需要返回的值，因此您可以在 O(1) 中实现它

树中的最小间隙是根节点的**x值，更具体地说，对于每个子树，子树元素中的最小间隙仅是子树根****x**值。

可以通过递归来证明该陈述：让我们考虑一棵以节点**r**为根的树，具有左子树**rL**和右子树**rR**。归纳假设是**rL**和**rR x**值的根是子树的节点值之间的最小间隙值。很明显，仅考虑值排序列表中值相邻的节点对就可以找到最小间隙；**由rL**的节点存储的值形成的对在**rL**根**x**值中具有最小间隙，考虑右子树也是如此。鉴于（**rL中的任何节点值**) < **L**根节点的值 <（**rR**中的任何节点值），唯一不考虑的相邻值对是两个：

1.  由根节点值和较高的**rL**节点值组成的对
2.  由根节点值和下**rR**节点值组成的对

根据 AVL 树属性，具有较高值的**​​ rL**节点是其最右边的叶子，具有较低值的**rR**节点是其最左边的叶子。将四个值（rL 根 x 值、rR 根 x 值、（r - rL 根）间隙、（r - rR 根）间隙）之间的最小值分配给**rx**值与分配连续节点值之间的较小间隙相同在整个树中，这相当于任何可能的节点值对之间的较小差距。一个或两个子树为空的情况是微不足道的。仅由一个或三个节点组成的树的基本情况，很容易看出树根的 x 值是最小间隙值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-07T14:04:27.457

此功能可能对您有所帮助：

```
int getMinGap(Node N)
    {
        int a = Integer.MAX_VALUE ,b = Integer.MAX_VALUE,c = Integer.MAX_VALUE,d = Integer.MAX_VALUE;
        if(N.left != null) {
            a = N.left.minGap;
            c = N.key - N.left.max;
        }

        if(N.right != null) {
            b = N.right.minGap;
            d = N.right.min - N.key;
        }

        int minGap = min(a,min(b,min(c,d)));

        return minGap;
    } 
```

这是节点数据结构：

```
class Node
{
    int key, height, num, sum, min, max, minGap;
    Node left, right;

    Node(int d)
    {
        key = d;
        height = 1;
        num = 1;
        sum = d;
        min = d;
        max = d;
        minGap = Integer.MAX_VALUE;
    }
} 
```

# ruby - 可能用三元运算符表达条件 HAML

> ID：12330627
> 
> 赞同：9
> 
> 时间：2012-09-08T12:11:21.943
> 
> 标签：ruby, sinatra, haml

尝试用一种更紧凑的方式在 HAML 和 Ruby 中表达这个条件，也许使用三元运算符：

```
- if @page.nil?
  %br (nothing yet)
- else
  %br #{@page.name} 
```

（根据 Neat 方法寻找类似的方法[来有条件地测试是否在 HAML 模板中添加一个类](https://stackoverflow.com/questions/12312052/neat-way-to-conditionally-test-whether-to-add-a-class-in-haml-template)）

您的帮助将不胜感激:)

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-09-08T13:51:52.067

您拥有的代码使文本成为元素的子`<br>`元素；这是不可取的。我认为你真正的意思是：

```
%br
- if @page.nil?
  (nothing yet)
- else
  #{@page.name} 
```

为此，您可以简单地执行以下操作：

```
%br
#{@page.nil? ? "(nothing yet)" : @page.name} 
```

或者

```
%br
= @page.nil? ? "(nothing yet)" : @page.name 
```

或者简单地说：

```
<br>#{@page ? @page.name : "(nothing yet)"} 
```

但是，就我个人而言，我会在控制器中“修复”这个问题，以便您始终拥有一个`@page`, 类似于：

```
unless @page
  @page = Page.new( name:"(nothing yet)", … )
end 
```

有了这个，您可以找出新/空/无页面的外观，并让您的视图像对待其他任何页面一样对待它。您`@page`仍然没有`@page.id`，因此您可以将其用于测试以确定您是创建新项目还是编辑现有项目。

这就是我处理可能用于创建或编辑项目的所有表单的方式：通过创建（但不添加到数据库）具有默认值的项目来提供默认值。

*旁白：您正在创建一个`<br>`几乎[从来都不是一个好主意，并且您正在](http://phrogz.net/css/HowToDevelopWithCSS.html#badBR)[使用不应用于内容标记](http://chriseppstein.github.com/blog/2010/02/08/haml-sucks-for-content/)的 Haml 创建它 。你可能会退后一步想想你在做什么。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T12:23:47.863

只需这样做：

```
%br
= @page.try(:name) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-30T19:54:23.617

您还可以嵌入字符串假设`- order_count = 12`： `%h5= Ordered #{ order_count == 1 ? "1 item" : "#{order_count} items" } for this session`

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-08T12:35:17.270

```
%br = @page ? (nothing yet) : #{@page.name} 
```

# iphone - iPhone zXing QR 扫描仪 - didscanresult 功能永远不会触发

> ID：12330632
> 
> 赞同：8
> 
> 时间：2012-09-08T12:11:42.893
> 
> 标签：iphone, ios, xcode, qr-code, zxing

我已经将 zXing 项目加载到我自己的项目中。它加载正常，zXing 扫描仪在按钮调用后弹出。

我可以关闭 zxingControllerDidCancel 上的视图控制器，但是当我扫描二维码时，无法识别任何代码，因此 didScanResult 函数永远不会触发。

有人对这个有任何想法吗？

didScanResult 函数如下。

```
-(void)zxingController:(ZXingWidgetController *)controller didScanResult:(NSString *)result{
resultLabel.text = result;
NSLog(@"did scan!!!");
[self dismissModalViewControllerAnimated:NO]; 
```

}

注意：我不确定这是否相关，但是当扫描仪出现时，我得到了应用程序的记录：“wait_fences: failed to receive reply: 10004003”

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-27T06:50:58.547

该教程没有提到您必须将 a 添加`QRCodeReader`到您的`ZXingWidgetController`.

`ZXingWidgetController`有一个名为 的属性`readers`，它是一个`NSSet`包含阅读器实例（例如 的实例`QRCodeReader`）的属性。粗略地说，读者的任务是分析相机拍摄的图像并提取编码信息。你`ZXingWidgetController`必须知道它应该使用的读者，否则它没有机会做任何有意义的事情。因此，您必须`readers`在呈现 ZXingWidget 之前设置属性。

ZXing 项目有一个示例应用程序来演示这一点。如果你使用 ARC，那么

```
ZXingWidgetController *widController = [[ZXingWidgetController alloc] initWithDelegate:self showCancel:YES OneDMode:NO];
QRCodeReader* qRCodeReader = [[QRCodeReader alloc] init];
NSSet *readers = [[NSSet alloc] initWithObjects:qRCodeReader,nil];
widController.readers = readers;
[self presentModalViewController:widController animated:YES]; 
```

应该做。

# java - GWT 模块和继承

> ID：12330634
> 
> 赞同：1
> 
> 时间：2012-09-08T12:11:56.193
> 
> 标签：java, gwt, inheritance, module, dependencies

模块描述符中的所有“继承”内容是什么：

```
<inherits name='com.google.gwt.user.User'/> 
```

...从什么继承什么？为什么这是必要的？这*感觉*很像一个类的*导入*`User`，而不是从它*继承*？我想我只是对为什么模块“继承”而不是“导入”感到困惑，因为它更多的是依赖关系。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-06T20:14:49.000

也许你是对的，“导入”或“包含”比“继承”更有意义。

如您所知，您可以将服务器和客户端代码放入同一个项目甚至共享类中。您可以按照自己想要的任何方式组织 java 代码，但是 GWT 需要模块 XML 来查找需要翻译成 javascript 的类。无论如何，您在这里导入的不是类，而是其他模块，其中可以包含一个或多个代码文件夹/包。

# c# - 如何将静态内容与我的 Azure 解决方案分开部署？

> ID：12330642
> 
> 赞同：1
> 
> 时间：2012-09-08T12:13:14.290
> 
> 标签：c#, asp.net-mvc, azure

我在 Stack Overflow 上看到了以下评论，但我找不到对它的引用。

```
"Yes it is. I have seen a Azure webcast from Cloud9 where the application was 
broken up. The static content like images, html, css etc were deployed separately 
than the Azure solution. The azure web app just linked to these resources" 
```

有没有人这样做并且有关于如何做到这一点的任何信息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T14:56:42.217

正如@Joe gennari 提到的：图像链接、css 链接等只需要更改，即可引用 blob 存储中的对象。例如：`<img src="http://mystorage.blob.core.windows.net/images/logo.jpg" />`。

要将内容实际放入 Blob 存储，您可以：

*   创建一个小的上传器应用程序，通过其中一种语言 SDK（Java、php、.net、python 等）进行非常简单的调用。
*   [使用PowerShell cmdlet](https://www.windowsazure.com/en-us/manage/downloads/)上传 blob - 请参阅[此处](http://wappowershell.codeplex.com/documentation)的命令文档。
*   使用诸如 Cerebrata 的[Cloud Storage Studio](http://cerebrata.com/Products/CloudStorageStudio/)或 Clumsy Leaf [CloudXplorer](http://clumsyleaf.com/products/cloudxplorer)之类的工具，它使您可以像使用本地文件系统一样使用 blob。

您将不再将静态内容与您的 Windows Azure 项目捆绑在一起。您将单独上传 Blob 更新（无需重新上传 Azure 项目）。这具有减少部署包大小的好处。

# java - 如何改进 ListGrid 服务器连接/数据源的 SmartGWT LGPL 实现？

> ID：12330647
> 
> 赞同：0
> 
> 时间：2012-09-08T12:14:11.893
> 
> 标签：java, tomcat, datasource, smartgwt, listgrid

为了扩展我的问题，您可以说我想在 SmartGWT 中编程而不是在 SmartGWT 中编程（[http://msmvps.com/blogs/jon_skeet/archive/2008/04/23/programming-quot-in-quot-a -language-vs-programming-quot-into-quot-a-language.aspx](http://msmvps.com/blogs/jon_skeet/archive/2008/04/23/programming-quot-in-quot-a-language-vs-programming-quot-into-quot-a-language.aspx)）。

我有一个 2 列 ListGrid，填充了 5 列数据库表中的数据。我不使用 DataSource（稍后会详细介绍），而是从异步服务获取数据并像这样在成功时填充它`predmetiGrid.setData(PredmetRecord.convertToContractRecordArray(result));`。用户可以编辑数据并按下保存按钮来保存它。我实现保存的方式是：

```
// repeat this for each edited field 
for (int i=0; i < predmetiGrid.getAllEditRows().length; i++){

        int editedRowIndex = predmetiGrid.getAllEditRows()[i];

        // for each edite get the full record

        PredmetRecord editedRecord = (PredmetRecord)predmetiGrid.getRecord(editedRowIndex);

        // create a new DomainObject - Predmet, and set the ID from the 
        // Row so I have the ID to use for update later

        Integer predmetID = editedRecord.getAttributeAsInt("predmetID");
        Predmet predmet = new Predmet(predmetID);

        // fill Predmet object with either the edited value, or the
        // original value (if only one of the fields was changed and not both)

        String editedNazivPredmeta = (String)predmetiGrid.getEditValues(editedRecord).get("nazivPredmeta");
        boolean isNazivChanged = editedNazivPredmeta != null;
        if (!isNazivChanged){
            editedNazivPredmeta = editedRecord.getAttribute("nazivPredmeta");
        } 
        predmet.setNazivPredmeta(editedNazivPredmeta);

        String editedOpisPredmeta = (String) predmetiGrid.getEditValues(editedRecord).get("opisPredmeta");
        boolean isOpisChanged = editedOpisPredmeta != null;
        if (!isOpisChanged){
            editedOpisPredmeta = editedRecord.getAttribute("opisPredmeta");
        }
        predmet.setOpisPredmeta(editedOpisPredmeta);

        predmetiList.add(predmet);

    } 
```

在另一种方法中，我调用异步服务：

```
public void updatePredmeti(List<Predmet> predmeti) throws RpcException, IllegalArgumentException {

    for (int i=0; i<predmeti.size();i++){
        JdbcPredgledPredmetaDAO.getInstance().updatePredmet(predmeti.get(i));
    }

} 
```

现在这个实现存在一些问题。最明显的是：

a) 我没有使用与 ListGrid 连接的数据源。我不使用它是因为我不明白如何在我的情况下使用它，因为这些示例是为 XML 数据源或 SmartGWT Pro（或更高版本）集成服务器编写的。

b) 如果其中一个插入失败，异步方法需要具有回滚机制，尽管可能有更智能的实现（例如，在一个事务中执行所有插入）。

c）我正在“破解”来获取和更新数据，而不是使用对象方法/属性，但这是目前我从 JavaDoc 中得到的最好的；我更愿意看到写这个和学习的最佳实践方式

我正在使用 SmartGWT LGPL 3.0、Tomcat 7.0、Java 1.6

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:30:42.703

您可以使用自定义数据源。DataSource.setDataFormat(DSDataFormat.CUSTOM)。使用此设置，DataSource 将不会处理响应，而是您必须使用 transformResponse() 解析它。

# magento - Magento - 产品视图页面不显示任何内容

> ID：12330648
> 
> 赞同：2
> 
> 时间：2012-09-08T12:14:15.297
> 
> 标签：magento, product

我有一个网站显示我的产品，但是当我单击产品查看产品详细信息时，我得到一个空块。它显示所有 CSS、侧边栏、标题，但不显示产品本身。我已经完成了重新索引、缓存刷新、删除 var 文件夹中的文件、重新保存所有配置、检查产品是否有货、是否启用和可见。

我可以在后端看到产品，编辑它没有任何问题，我也可以在主页和其他类别中看到产品。就在我在其 url 上单击它时，它返回一个空块。

我一直在到处寻找解决这个问题的方法，但我没有找到最适合的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T23:41:52.583

我已经检查了这个链接，我可以看到

```
<div class="col-main">....</div> 
```

为空，应显示产品信息。

所以你的问题是其中之一：

布局缺少显示产品的块（错误的块类型等。）

块目录/product_view 有问题，阻止它正确加载产品（可能是交易日期或产品中的启用禁用状态或数量等......）

要调试此问题，您必须执行以下步骤：-

在您的 magento 存储中启用日志记录并检查（ system.log ， exception.log ）

调试您的块功能（目录/产品视图）以查看产品 ID 是否正确以及它是否正确加载模型？还调试模板目录/产品/view.phtml 以检查其是否正确加载块类型？

```
get_class($this); 
```

看看它是什么类类型。

谢谢

# c# - Windows Phone 上图像的物理位置

> ID：12330649
> 
> 赞同：1
> 
> 时间：2012-09-08T12:14:15.647
> 
> 标签：c#, windows-phone-7

我使用以下代码在 WP7 中保存图像：

```
using (MemoryStream stream = new MemoryStream())
{
    WriteableBitmap bitmap = new WriteableBitmap(inkTest, null);
    bitmap.SaveJpeg(stream, bitmap.PixelWidth, bitmap.PixelHeight, 0, 100);
    stream.Seek(0, SeekOrigin.Begin);

    using (MediaLibrary mediaLibrary = new MediaLibrary())
        mediaLibrary.SavePicture("Picture.jpg", stream);
}
MessageBox.Show("Picture Saved..."); 
```

现在我想下载该图像。该图像在 Windows 中保存在哪里？我在程序文件中找不到它。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T21:16:45.803

> 该图像在 Windows 中保存在哪里？我在程序文件中找不到它。

很明显，无处可去？您正在将其保存到手机的媒体库中。如果您在手机（或模拟器）上打开图片中心，您将能够在“已保存图片”下找到您的图片。

“物理位置”的概念与 Windows Phone 应用程序无关。

# java - 类到另一个类的实例化：Java 到 C++ 的转换

> ID：12330652
> 
> 赞同：0
> 
> 时间：2012-09-08T12:14:30.820
> 
> 标签：java, c++

大家，我需要帮助将 Java 中的一些代码转换为 C++。如何将类实例化为从 Java 到 C++ 的私有类型？这就是我的意思，我是几行代码：

第一个问题：解决了。

第二个问题：这个java代码是我想转换的，你认为我的代码有什么问题？

Java中的原始代码：

```
public class ClueReasoner 
{
private int numPlayers;
private int playerNum;
private int numCards;
private SATSolver solver;    
private String caseFile = "cf";
private String[] players = {"sc", "mu", "wh", "gr", "pe", "pl"};
private String[] suspects = {"mu", "pl", "gr", "pe", "sc", "wh"};
private String[] weapons = {"kn", "ca", "re", "ro", "pi", "wr"};
private String[] rooms = {"ha", "lo", "di", "ki", "ba", "co", "bi", "li", "st"};
private String[] cards;

public ClueReasoner()
{
    numPlayers = players.length;

    // Initialize card info
    cards = new String[suspects.length + weapons.length + rooms.length];
    int i = 0;
    for (String card : suspects)
        cards[i++] = card;
    for (String card : weapons)
        cards[i++] = card;
    for (String card : rooms)
        cards[i++] = card;
    numCards = i;

    // Initialize solver
    solver = new SATSolver();
    addInitialClauses();
}

private int getPlayerNum(String player) 
{
    if (player.equals(caseFile))
        return numPlayers;
    for (int i = 0; i < numPlayers; i++)
        if (player.equals(players[i]))
            return i;
    System.out.println("Illegal player: " + player);
    return -1;
}

private int getCardNum(String card)
{
    for (int i = 0; i < numCards; i++)
        if (card.equals(cards[i]))
            return i;
    System.out.println("Illegal card: " + card);
    return -1;
}

private int getPairNum(String player, String card) 
{
    return getPairNum(getPlayerNum(player), getCardNum(card));
}

private int getPairNum(int playerNum, int cardNum)
{
    return playerNum * numCards + cardNum + 1;
} 
```

我的代码：

```
#include <iostream>
#include <cstdlib>
#include <string>

using namespace std;

void Scene_Reasoner() {
int numPlayer;
int playerNum;
int cardNum;
 string filecase = "Case: ";
 string players [] = {"sc", "mu", "wh", "gr", "pe", "pl"};
 string suspects [] = {"mu", "pl", "gr", "pe", "sc", "wh"};
string weapons []  = {"kn", "ca", "re", "ro", "pi", "wr"};
 string rooms[] = {"ha", "lo", "di", "ki", "ba", "co", "bi", "li", "st"};
 string cards [0];
};

void Scene_Reason_Base () {
    numPlayer = players.length;

    // Initialize card info
    cards = new String[suspects.length + weapons.length + rooms.length];
    int i = 0;
    for (String card : suspects)
        cards[i++] = card;
    for (String card : weapons)
        cards[i++] = card;
    for (String card : rooms)
        cards[i++] = card;
    cardNum = i;
    };

    private int getCardNum (string card) {
            for (int i = 0; i < numCards; i++)
        if (card.equals(cards[i]))
            return i;
    cout << "Illegal card: " + card <<endl;
    return -1;
    };

     private int getPairNum(String player, String card)
   {
    return getPairNum(getPlayerNum(player), getCardNum(card));
};

  private int getPairNum(int playerNum, int cardNum)
  {
    return playerNum * numCards + cardNum + 1;
};

int main () {
return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T12:17:09.630

您是否在 C++ 中实现了 SATSolver？如果是这样，有一个示例代码：

```
class Foo
{
private:
    int numPlayers;
    int playerNum;
    int numCards;
    SATSolver solver;

    // etc
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T12:17:10.877

如果你想做的是`SATSOlver`在另一个类中声明一个私有实例，你可以这样做：

文件 SATSolver.h

```
class SATSolver {
// methods, members, etc....
}; 
```

文件 Foo.h

```
#include "SatSolver.h" // get the SATSolver declaration

class Foo
{

 private: // everything that follows is private access

  SATSolver solver;

 public: // from here on, everything is public
  // more code

 private: // and now, all that follows is private again
  // stuff
} 
```

请注意，在 C++ 中，访问说明符只允许在类或结构中使用。您不能将它们包含在函数内部，也不能将它们放在类或结构之外的限定类型或值。

**请注意**，在 C++ 中，`class`默认情况下 a 具有私有访问权限（和继承，但这超出了此问题的范围）：

```
class Bar {
  SATSolver solver; // private
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T23:53:22.357

您的代码破坏了我们的转换器 - 我们修复了它，可编译的 C++ 等价物如下：

```
#include <string>

class ClueReasoner
{
private:
    int numPlayers;
    int playerNum;
    int numCards;
    SATSolver *solver;
    std::string caseFile;
    std::string players[6];
    std::string suspects[6];
    std::string weapons[6];
    std::string rooms[9];
//ORIGINAL LINE: private String[] cards;
//JAVA TO C++ CONVERTER WARNING: Since the array size is not known in this declaration, Java to C++ Converter has converted this array to a pointer.  You will need to call 'delete[]' where appropriate:
    std::string *cards;

public:
    ClueReasoner()
    {
        InitializeInstanceFields();
        numPlayers = sizeof(players) / sizeof(players[0]);

        // Initialize card info 
        cards = new std::string[sizeof(suspects) / sizeof(suspects[0]) + sizeof(weapons) / sizeof(weapons[0]) + sizeof(rooms) / sizeof(rooms[0])];
        int i = 0;
        for (std::string::const_iterator card = suspects->begin(); card != suspects->end(); ++card)
            cards[i++] = *card;
        for (std::string::const_iterator card = weapons->begin(); card != weapons->end(); ++card)
            cards[i++] = *card;
        for (std::string::const_iterator card = rooms->begin(); card != rooms->end(); ++card)
            cards[i++] = *card;
        numCards = i;

        // Initialize solver 
        solver = new SATSolver();
        addInitialClauses();
    }

private:
    int getPlayerNum(const std::string &player)
    {
        if (player == caseFile)
            return numPlayers;
        for (int i = 0; i < numPlayers; i++)
            if (player == players[i])
                return i;
        std::cout << "Illegal player: " + player << std::endl;
        return -1;
    }

    int getCardNum(const std::string &card)
    {
        for (int i = 0; i < numCards; i++)
            if (card == cards[i])
                return i;
        std::cout << "Illegal card: " + card << std::endl;
        return -1;
    }

    int getPairNum(const std::string &player, const std::string &card)
    {
        return getPairNum(getPlayerNum(player), getCardNum(card));
    }

    int getPairNum(int playerNum, int cardNum)
    {
        return playerNum * numCards + cardNum + 1;
    }

    void InitializeInstanceFields()
    {
        caseFile = "cf";
        std::string temp_players[6] = {"sc", "mu", "wh", "gr", "pe", "pl"};
        for (int element = 0; element < sizeof(temp_players) / sizeof(temp_players[0]); element++)
            players[element] = temp_players[element];
        std::string temp_suspects[6] = {"mu", "pl", "gr", "pe", "sc", "wh"};
        for (int element = 0; element < sizeof(temp_suspects) / sizeof(temp_suspects[0]); element++)
            suspects[element] = temp_suspects[element];
        std::string temp_weapons[6] = {"kn", "ca", "re", "ro", "pi", "wr"};
        for (int element = 0; element < sizeof(temp_weapons) / sizeof(temp_weapons[0]); element++)
            weapons[element] = temp_weapons[element];
        std::string temp_rooms[9] = {"ha", "lo", "di", "ki", "ba", "co", "bi", "li", "st"};
        for (int element = 0; element < sizeof(temp_rooms) / sizeof(temp_rooms[0]); element++)
            rooms[element] = temp_rooms[element];
    }
}; 
```

# c# - 可能使用 DPI 在 WPF 中复制 WinRT 像素密度变化

> ID：12330655
> 
> 赞同：1
> 
> 时间：2012-09-08T12:14:54.060
> 
> 标签：c#, .net, wpf, windows-runtime, screen-resolution

我正在使用 WPF 为我的 WinRT 应用程序生成平铺图像。我有一个转换为 PNG 的磁贴 UserControl 并且效果很好（确实如此，请不要告诉我其他情况）。WinRT 传递给我一个比例属性 100% (320x150)、140% (434x210) 和 180% (558x270)，我用它来生成正确大小的图像。

当我想在我的磁贴中使用图像时。我在我的 tile UserControl 后面的代码中复制了 WinRT 的图像选择功能（您可以提供图像比例，WinRT 应用程序会自动选择正确的比例）。所以根据比例我选择更大或更小的图像源。但是，在较大的比例尺上，我的字体大小保持不变并且看起来非常小。我认为我不需要根据比例更改字体大小，因为这不是在 WinRT 中发生的，所以它必须是我用来将我的 UserControl 转换为 PNG 的代码以及与 DPI 相关的代码。这是我的转换代码：

```
// I pass in 320x150 or 434x210 or 558x270 depending on the scale.
public static MemoryStream ToPng(
    this FrameworkElement frameworkElement, 
    double width, 
    double height)
{
    BitmapSource bitmapSource = ToBitmapSource(frameworkElement, width, height);

    PngBitmapEncoder pngBitmapEncoder = new PngBitmapEncoder();
    pngBitmapEncoder.Frames.Add(BitmapFrame.Create(bitmapSource));

    MemoryStream memoryStream = new MemoryStream();
    pngBitmapEncoder.Save(memoryStream);

    memoryStream.Position = 0;

    return memoryStream;
}

public static BitmapSource ToBitmapSource(
    this FrameworkElement frameworkElement, 
    double width, 
    double height)
{
    Size renderingSize = new Size(width, height);
    frameworkElement.Measure(renderingSize);
    Rect renderingRectangle = new Rect(new Point(0, 0), renderingSize);
    frameworkElement.Arrange(renderingRectangle);
    frameworkElement.UpdateLayout();

    Rect bounds = VisualTreeHelper.GetDescendantBounds(frameworkElement);
    RenderTargetBitmap renderBitmap = new RenderTargetBitmap(
        (int)frameworkElement.ActualWidth,
        (int)frameworkElement.ActualHeight,
        96,
        96,
        PixelFormats.Pbgra32);

    DrawingVisual drawingVisual = new DrawingVisual();

    using (DrawingContext drawingContext = drawingVisual.RenderOpen())
    {
        VisualBrush visualBrush = new VisualBrush(frameworkElement);
        drawingContext.DrawRectangle(visualBrush, null, new Rect(new Point(), bounds.Size));
    }

    renderBitmap.Render(drawingVisual);

    return renderBitmap;
} 
```

谢谢你的帮助。非常感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:13:51.590

我需要更改上面的代码，以便我测量并将 frameworkElement 排列为 310x150。然后我将其渲染为最终比例大小，例如 558x270，并将 DPI 设置为 (96/100)*scale，在这种情况下比例为 180。

# java - GWT 应用程序中的静态资源

> ID：12330658
> 
> 赞同：1
> 
> 时间：2012-09-08T12:15:28.190
> 
> 标签：java, html, css, gwt, war

您是否需要为您的 GWT 应用程序编写自己的 HTML、CSS 或 JavaScript 文件？有什么理由编写自己的 HTML/CSS 并将其包含在构建中？如果是这样，在什么情况下，你在最终的WAR中将它打包在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T15:18:42.313

1.  一些开发人员更喜欢为他们的应用程序使用外部 CSS 文件，而不是 CSS 资源。然后将此 CSS 文件添加到 /war 目录，并在主机页面中提供指向它的链接，就像使用任何外部 CSS 文件一样。

2.  如果您使用我强烈推荐的 UI:Binder，您可以用 HTML 编写大量页面或小部件的布局，而不是使用 GWT 小部件。在这种情况下，您不必对 HTML 做任何事情：GWT 编译器会处理它。

3.  有一种从 GWT 应用程序内部使用本机 JavaScript 的方法。有时，开发人员想要一种特殊效果或一些他们不能（或者，通常是不知道如何）在 GWT 中实现的功能。在这种情况下，您可以将 JavaScript 代码直接包含到 GWT 代码中，或者使用外部 JavaScript 文件并从 GWT 引用它。在后一种情况下，您将 JavaScript 文件包含在 /war 目录中，然后像使用任何 JavaScript 文件一样将其加载到主机页面中。

# javascript - 每行开头和结尾的填充相同

> ID：12330659
> 
> 赞同：7
> 
> 时间：2012-09-08T12:15:38.687
> 
> 标签：javascript, html, css

我有一个 span 元素，其中包含一些文本。我希望文本具有纯色背景颜色，并以相同数量的填充开始/结束每一行。

这个jsfiddle显示了问题：http: [//jsfiddle.net/VwsQg/](http://jsfiddle.net/VwsQg/)

我发现了这个非常相似的问题：[在每行文本的开头和结尾添加填充](https://stackoverflow.com/questions/4994653/add-padding-at-the-beginning-and-end-of-each-line-of-text)，但我也需要在每行之间留一些空间。

这张图片说明了我试图完成的结果：

![在此处输入图像描述](../Images/e9393bbc8ac65236e228b4fb995afc4c.png)

先感谢您。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T14:21:45.683

这可以在不使用 JavaScript 或每行的额外元素的情况下完成。

## HTML

```
<span class="marker"><span class="marker"><span class="marker">
    consectetur adipiscing elit. Nam at sem eu ligula porttitor iaculis volutpat
    non lacus.
</span></span></span> 
```

## CSS

```
.marker {
    background: #f77;
    padding: 3px 0;
    position: relative;
    left: -10px;
    line-height: 30px;
}

.marker .marker { left: 20px; }

.marker .marker .marker { left: -10px; } 
```

看看它在[小提琴 3tP8m](http://jsfiddle.net/3tP8m/)上是如何工作的。

**注意：**元素的祖先`.marker`应该具有正确`padding`包含此元素的权限。

这项技术的所有功劳归于 Artem Polikarpov。请参阅他最初的建议：[“如何在灵活的底层上标记文本”（俄语）](http://artgorbunov.ru/bb/soviet/20120621/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T13:01:09.470

唯一可行的方法是分隔文本并为每个文本添加一个类，这可以使用 jquery 完成，当文本不适合添加额外类时，您需要检查 div 结尾的长度。

# android - API 级别 < 11 的 getCheckedItemCount() 的等价物是什么？

> ID：12330660
> 
> 赞同：8
> 
> 时间：2012-09-08T12:15:52.103
> 
> 标签：android, compatibility

我正在使用此方法检查列表中有多少项已检查，我收到此错误，即此方法不适用于任何早于 11 的 SDK。

API 8 级中 this 的等价物是什么

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-06-28T14:44:58.707

接受的答案对我不起作用（总是返回 0），我不得不使用以下代码：

```
public static int getCheckedItemCount(ListView listView)
{
    if (Build.VERSION.SDK_INT >= 11) return listView.getCheckedItemCount();
    else
    {
        int count = 0;
        for (int i = listView.getCount() - 1; i >= 0; i--)
            if (listView.isItemChecked(i)) count++;
        return count;
    }
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-07T10:21:39.740

`getCheckedItemIds().length`似乎可以解决问题

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-11-10T09:09:22.713

我正在使用我认为有效且适用于所有情况的代码：

```
public int getCheckedItemCount() {
    ListView listView = getListView();
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {
        return listView.getCheckedItemCount();
    }

    SparseBooleanArray checkedItems = listView.getCheckedItemPositions();
    int count = 0;
    for (int i = 0, size = checkedItems.size(); i < size; ++i) {
        if (checkedItems.valueAt(i)) {
            count++;
        }
    }
    return count;
} 
```

如果您发现它不起作用的情况，请通知我。

# forms - Symfony 2 Doctrime 2 和表单验证（唯一字段）

> ID：12330661
> 
> 赞同：6
> 
> 时间：2012-09-08T12:15:54.477
> 
> 标签：forms, validation, symfony, symfony-2.1

你好我有一个小问题。我从来没有在 sf2 中做过表单验证器，所以我不知道我应该从哪里开始。我有一个字段“用户名”，它在数据库中是唯一的，那么我该如何尝试呢？

我的代码：

-> 实体

```
 /**
  * @var string $nick_allegro
  *
  * @ORM\Column(name="nick_allegro", type="string", length=255, unique=true, nullable=true)
  */
 private $nick_allegro; 
```

-> 表格

```
 public function buildForm(FormBuilder $builder, array $options)
 {
     $builder
         ->add('nick_allegro')
     ;
 }

 public function getDefaultOptions(array $options) {
     return array(
         'data_class' => 'My\FrontendBundle\Entity\Licence',
     );
 } 
```

-> 控制器

```
 /**
  * Displays a form to create a new Licence entity.
  *
  * @Route("/new", name="licence_new")
  * @Template()
  */
  public function newAction()
  {
      $entity = new Licence();
      $form   = $this->createForm(new LicenceType(), $entity);

      return array(
          'entity' => $entity,
          'form'   => $form->createView()
      );
  }

  /**
   * Creates a new Licence entity.
   *
   * @Route("/create", name="licence_create")
   * @Method("post")
   * @Template("MyFrontendBundle:Licence:new.html.twig")
   */
  public function createAction()
  {
      $entity  = new Licence();
      $request = $this->getRequest();
      $form    = $this->createForm(new LicenceType(), $entity);
      $form->bindRequest($request);

      if ($form->isValid()) {
          $em = $this->getDoctrine()->getEntityManager();
          $em->persist($entity);
          $em->flush();

          return $this->redirect($this->generateUrl('licence_show', array('id' => $entity->getId())));

      }

      return array(
          'entity' => $entity,
          'form'   => $form->createView()
      );
  } 
```

-> 查看

```
 <form action="{{ path('licence_create') }}" method="post" {{
 form_enctype(form) }}>
     {{ form_widget(form) }}
     <p>
         <button type="submit">Create</button>
     </p> </form> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-08T12:27:16.400

您需要在 symfony 中使用[Unique Entity](http://symfony.com/doc/current/reference/constraints/UniqueEntity.html)来验证模型中的特定字段是否唯一。

为您提供一点帮助（如果您有一个名为 的字段`nick`）：

## 1/ 在您的实体中

```
use Symfony\Component\Validator\Constraints as Assert;
use Doctrine\ORM\Mapping as ORM;
use Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity;
/**
* @ORM\Entity
* @UniqueEntity("nick")
*/
class User
{
/**
 * @var string $email
 *
 * @ORM\Column(name="nick", type="string", length=255, unique=true)
 */
private $nick; 
```

当您在实体中声明约束时，验证将直接生效。因此，您已经可以在控制器中检查验证。

## 2/ 在你的控制器中

```
if ( 'POST' === $request->getMethod()) {

        $form->bind($request);

        if ($form->isValid())
        {
            //do something if the form is valid
        }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-06-08T13:38:46.817

这很简单。足够添加文件实体`@ORM\Column this "unique=true"`

例子：

```
class User
{
    /**
     * @var string $email
     *
     * @ORM\Column(name="email", type="string", length=255, unique=true)
     * @Assert\Email()
     */
    protected $email;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T12:27:43.620

请记住，sf2.1 中的表单处理发生了一些变化，因此请务必检查正确的文档：

*   [sf 2.1 中的表格](http://symfony.com/doc/current/book/forms.html)
*   [sf 2.0 中的表格](http://symfony.com/doc/2.0/book/forms.html)
*   [如何从 2.0 升级到 2.1 - 表格章节](https://github.com/symfony/symfony/blob/master/UPGRADE-2.1.md)

[验证以多种方式完成](http://symfony.com/doc/current/book/validation.html)，其中包括对实体字段的注释，在您的情况下，您需要[`UniqueEntity`](http://symfony.com/doc/current/reference/constraints/UniqueEntity.html)注释。

请务必在线查看所有 symfony2 文档，因为这是了解问题的最佳方式。

# c# - 图片框设置为可见的随机生成器

> ID：12330662
> 
> 赞同：-1
> 
> 时间：2012-09-08T12:16:22.173
> 
> 标签：c#

我的问题如下我有6个图片框，当程序运行时它们被设置为不可见，我还有一个按钮，每次按下这个按钮时，必须将其中一个图片框设置为可见。请注意

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T12:34:59.827

首先，请阅读 C# 中的 Random：

[http://msdn.microsoft.com/en-us/library/system.random.aspx](http://msdn.microsoft.com/en-us/library/system.random.aspx)

[http://social.msdn.microsoft.com/Forums/sr/Vsexpressvcs/thread/55fb3116-c978-4ac8-9381-a2605e16e256](http://social.msdn.microsoft.com/Forums/sr/Vsexpressvcs/thread/55fb3116-c978-4ac8-9381-a2605e16e256)

在您了解随机的工作原理之后，您将毫无问题地解决您的问题。

基本上它会是这样的：

1.按钮按下事件

2.生成随机数

3.使用随机数来确定会出现哪个图片框

如果图片框已经可见，请记住检查会发生什么。此外，您还没有提到是否要从不可见的图片框中进行选择，或者只是随机选择六个图片框之一

希望能帮助到你。

# javascript - jQuery：对浏览器自动填充表单做出反应

> ID：12330663
> 
> 赞同：1
> 
> 时间：2012-09-08T12:16:22.393
> 
> 标签：javascript, jquery, javascript-events

我有两个表单元素， a`email`和 a `password`。`password`只有在元素中输入了某些内容时，才必须显示该元素`email`。即，仅当`email`不为空时。

```
<input id="email" name="email" onblur="if (jQuery(&quot;#email&quot;).val() === &quot;&quot;) { jQuery(&quot;#password&quot;).hide(); } else { jQuery(&quot;#password&quot;).show(); }" onchange="if (jQuery(&quot;#email&quot;).val() === &quot;&quot;) { jQuery(&quot;#password&quot;).hide(); } else { jQuery(&quot;#password&quot;).show(); }" onfocus="if (jQuery(&quot;#email&quot;).val() === &quot;&quot;) { jQuery(&quot;#password&quot;).hide(); } else { jQuery(&quot;#password&quot;).show(); }" placeholder="Email" style="width:360px;height:28px;margin-bottom:0px;" type="text"> 
```

如您所见，我正在处理三个事件：

*   onfocus：以便我在焦点进入电子邮件元素时做出反应
*   onblur：以便在焦点离开电子邮件元素时做出反应
*   onchange：以便我在电子邮件元素更改时做出反应

实际上，我只想在电子邮件更改时运行脚本。我不关心焦点，但我无法处理一般的更改事件。

此外，这是我的主要问题，我无法对浏览器自动填写表单时生成的事件做出反应。有这样的活动吗？我该如何处理？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T15:49:36.560

浏览器自动填充发生在初始页面呈现时。您是否尝试过检查“onReady”回调中的字段？请注意，此事件仅由 Jquery 等更高级别的实现提供，而不是直接由浏览器提供。

[使用 jquery 的“就绪”回调](http://api.jquery.com/ready/)示例：（更新以反映评论）

```
$(function() {
  setTimeout(function() {
    $("#email").trigger('change');
  }, 200);
}); 
```

还有一篇文章解释了“自己动手”：[http ://dustindiaz.com/smallest-domready-ever](http://dustindiaz.com/smallest-domready-ever)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T16:05:19.553

您可以尝试通过以下方式禁用浏览器自动完成功能；

```
<form action="demo_form.asp" method="get" autocomplete="off"> 
```

或者

```
<INPUT NAME="name" SIZE=40 AUTOCOMPLETE=OFF> 
```

*笔记。第一个是 HTML5 `<form>`autocomplete 属性*

# java - Java / Javascript - 从客户端获取 ip

> ID：12330669
> 
> 赞同：2
> 
> 时间：2012-09-08T12:17:23.037
> 
> 标签：java, javascript, heroku, ip, playframework-2.0

我正在使用 java playframework2，似乎我无法获得正确的 IP 地址。它在每次请求后不断变化。

我的意思是流量分析网站在您的标头中实施 javascript 来分析您的流量，所以应该可以使用 javascript 对吗？

*   如果框架不提供这样的功能，还有其他方法可以从客户端获取 ip 吗？

*   我想建立一个访客计数器，但它应该只计算唯一访客。也许我不必使用IP地址？

我知道有[http://jsonip.appspot.com/](http://jsonip.appspot.com/)但它不可靠。过去 2 天我无法使用它，因为它超出了谷歌应用引擎的配额。

这是我的代码

```
public static <T> void increaseViews(String title, String ip,
        Class<T> objClass) throws UnknownHostException, MongoException,
        DbAuthException {
    Logger.info("Ip address: " + ip);
    String ipCache = title + "-" + ip;
    if (Cache.get(ipCache) == null) {
        Cache.set(ipCache, "block", 86400);
        increment(title, objClass);
    }

}

private static <T> void increment(String title, Class<T> objClass)
        throws UnknownHostException, MongoException, DbAuthException {
    // update database
} 
```

我这样称呼它：

```
UserGuides.increaseViews(ug.title, request().remoteAddress(),
                UserGuides.class); 
```

如果我按照 Heroku 上的日志进行操作，每次重新加载页面时，我的 IP 地址都会有所不同。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T12:48:52.463

Heroku 不会直接将远程地址返回给您的 play 应用程序。相反，您看到的是作为 heroku 一部分的各种内部负载平衡服务器。但是，好消息是您可以按照以下方式轻松解决此问题：[https ://play.lighthouseapp.com/projects/82401/tickets/705-remoteaddress-seems-to-get-dynamically-client-ip-on-heroku](https://play.lighthouseapp.com/projects/82401/tickets/705-remoteaddress-seems-to-get-dynamically-client-ip-on-heroku)

简单地说：将其添加到您的 application.conf

```
trustxforwarded=true 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-08T12:35:25.437

对于 JavaScript，我们需要 jQuery Lib 和**EasyJquery** JS。这个 API 很快，并且返回完整的信息。

```
<!-- Require jQuery / Anyversion --><script type="text/javascript" language="Javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<!-- Require EasyJQuery After JQuery --><script type="text/javascript" language="Javascript" src="http://api.easyjquery.com/easyjquery.js"></script>
<script type="text/javascript" language="Javascript">
    // 1\. Your Data Here
    function my_callback(json) {
        alert("IP :" + json.IP + " nCOUNTRY: " + json.COUNTRY);
    }

    function my_callback2(json) {
        // more information at http://api.easyjquery.com/test/demo-ip.php
        alert("IP :" + json.IP + " nCOUNTRY: " + json.COUNTRY + " City: " + json.cityName + " regionName: " + json.regionName);
    }

    // 2\. Setup Callback Function
   // EasyjQuery_Get_IP("my_callback"); // fastest version
    EasyjQuery_Get_IP("my_callback2","full"); // full version
</script> 
```

EasyjQuery 使用`JSONP`，所以你需要一个回调函数（json）。您可以随时调用函数`EasyjQuery_Get_IP(“your_callback_function”)`。这是请求返回的信息：

```
[IP] => 93.154.204.208
[continentCode] => NA
[continentName] => North America
[countryCode2] => US
[COUNTRY] => US
[countryCode3] => USA
[countryName] => United States
[regionName] => California
[cityName] => Garden Grove
[cityLatitude] => 33.7877
[cityLongitude] => -117.9738
[countryLatitude] => 38
[countryLongitude] => -98
[localTimeZone] => America/Los_Angeles
[localTime] => 03:33:28 am 
```

***[这](http://api.easyjquery.com/test/demo-ip.html)***是一个现场工作演示。

# c# - Win 2008 Web Edit IIS 7上的网站没有找到.js文件

> ID：12330670
> 
> 赞同：2
> 
> 时间：2012-09-08T12:17:35.700
> 
> 标签：c#, jquery, asp.net, iis-7

这几天我一直在绕圈子。我通常不用张贴就能找到我需要的东西。

我有一个用 ac# 后端用 asp.net 编写的非常简单的单页网站。我有一个 javascript 轮播。我的问题是在我的开发环境（Macbook Pro、Bootcamp Vista、VS 2008）中一切功能齐全。

当我部署到我的专用服务器（Windows 2008 Web Edition IIS7）时（对我来说，这是第一次！）我已经听从了所有的建议。我已将网站绑定到 IP。我确保我有一个经过身份验证的匿名用户和 IIS 用户。

所以我看看我是如何处理 .js 文件的。我有 3 个。

```
<script language="javascript" src="<%=ResolveUrl("Scripts/jquery.min.js")%>" type="text/javascript"></script>
<script language="javascript" src="<%=ResolveUrl("Scripts/jquery.easing.1.3.js")%>" type="text/javascript"></script>
<script language="javascript" src="<%=ResolveUrl("Scripts/slides.min.jquery.js")%>" type="text/javascript"></script> 
```

在我的一生中，似乎没有正确解决它们。我可以从中获取 jquery.min.js`<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>`并且它可以部分工作。我在服务器上处理的文件中的所有脚本都失败了。

我也尝试调试 javascript ...我得到了

> SCRIPT5009：“$”未定义

现在我的猜测是它没有定义，因为该站点没有处理具有相应代码的 .js 文件。

如果有人对此有任何想法……或以前遇到过，请提供帮助。

谢谢

***** 编辑*******

 **好的，我在 HTML 中有这个

```
<script language="javascript" src="<%=ResolveUrl("~/Scripts/jquery.min.js")%>" type="text/javascript"></script>
<script language="javascript" src="<%=ResolveUrl("~/Scripts/jquery.easing.1.3.js")%>" type="text/javascript"></script>
<script language="javascript" src="<%=ResolveUrl("~/Scripts/slides.min.jquery.js")%>" type="text/javascript"></script> 
```

当我查看页面源时，我有这个

```
<script language="javascript" src="/Scripts/jquery.min.js" type="text/javascript"></script>
<script language="javascript" src="/Scripts/jquery.easing.1.3.js" type="text/javascript"></script>
<script language="javascript" src="/Scripts/slides.min.jquery.js" type="text/javascript"></script> 
```

在提琴手我有这个

```
404 - File or directory not found 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-09T06:59:22.127

好的......这已经解决了。我能说什么......这有点像用头撞厨房橱柜门。它已经存在多年了，你每天都在使用它……但有时你会在它上面砸头，让你的眼睛流泪……

我的问题是 2 倍 - 1：

当我在 IIS 中为我​​的新站点创建目录时，我创建了 WebsiteFolder/wwwroot。这是一个男生的错误。我将我的网站放入 wwwroot 文件夹。当然，当我使用 ~/ 处理站点中的任何内容时，它会转到目录层次结构的顶部。因此，当它尝试查找 ~/Scripts/.... 时，它找不到它们（因为它们在 ~/wwwroot/Scripts... 中）。所以我删除了网站并删除了目录。重新创建目录 WebsiteFolder 并应用所需的用户帐户。然后我将一个新创建的站点绑定到新目录。

我的第二个问题是我通过添加来自另一个站点的现有项目添加了一个 .js 文件。我不知道怎么做，但是这个文件有重影权限，这意味着我的调用没有正确的访问权限。我复制了内容，删除了文件并从新创建。粘贴代码并重新编译并发布。

这是我第一次这样做，我掉进了菜鸟陷阱。我只是希望这个答案能帮助像我这样的人:)

[感谢 Michal Klouda](https://stackoverflow.com/users/944681/michal-klouda)讲述了[Fiddler](http://www.fiddler2.com/fiddler2/)，如果没有这个应用程序，我永远不会看到发生了什么并确定我的问题的原因。谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-09T13:49:53.120

你应该把你的陈述写成

```
<script src='<%=Page.ResolveUrl("Scripts/jquery-1.7.1.min.js")%>' type="text/javascript"></script> 
```

假设您的 .aspx 位于根文件夹中。

喜欢

默认.aspx

脚本/jquery-1.7.1.min.js

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T12:43:08.260

您需要在波浪号后加上一个正斜杠：

```
ResolveUrl("~/Scripts/slides.min.jquery.js") 
```**

# android - 线性布局上的固定按钮

> ID：12330671
> 
> 赞同：1
> 
> 时间：2012-09-08T12:17:52.233
> 
> 标签：android, button, android-linearlayout

A 在线性布局的底部有按钮。此布局中的其他内容可能会更改其高度。因此，按钮向上移动。如何使按钮在布局上“固定”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T12:34:48.750

你必须使用RelativeLayout ....你的代码动态

```
 RelativeLayout rl = new RelativeLayout(this);
    LayoutParams params = new RelativeLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
    rl.setLayoutParams(params);
    Button button = new Button(this);
    button.setText("Previous");
    LayoutParams params1 = new RelativeLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
    params1.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);
    button.setLayoutParams(params1);
    rl.addView(button); 
```

# c++ - 使用固定编码的字符串到字节序列转换，最好是 UTF-8

> ID：12330672
> 
> 赞同：4
> 
> 时间：2012-09-08T12:17:54.013
> 
> 标签：c++, windows, unicode, utf-8, codepages

在 Windows C++ 控制台应用程序中，我想从命令行输入中读取密码。密码用于加密（以及以后的解密，可能在世界其他地方的 Windows pc 上具有不同的语言环境）。所以我担心该密码的语言环境和编码没有给出相同的数字表示。在同一台计算机或具有相同语言环境的计算机上，这显然不会产生问题。

因此，我希望能够固定编码（和规范化？）并存储为 UTF-8。此处推荐：[http](http://www.jasypt.org/howtoencryptuserpasswords.html) ://www.jasypt.org/howtoencryptuserpasswords.html （第 4 点）。

有很多与编码/unicode/UTF-8/codepages 相关的问题我没有完全（或完全没有）掌握。我摆弄了 boost:locale 和 boost::nowide，但无法弄清楚或者它在 Windows 下不起作用（不知道）。一些链接对所涉及的问题（窗口）进行了更多说明：

[http://alfps.wordpress.com/2011/11/22/unicode-part-1-windows-console-io-approaches/](http://alfps.wordpress.com/2011/11/22/unicode-part-1-windows-console-io-approaches/)

[http://alfps.wordpress.com/2011/12/08/unicode-part-2-utf-8-stream-mode/](http://alfps.wordpress.com/2011/12/08/unicode-part-2-utf-8-stream-mode/)

但是这些链接解决了相反的问题！无论底层表示如何，如何使事物看起来相同，我需要相同的底层 [bit-wise] 表示，无论它看起来如何！

所以问题是，我如何确保（我必须这样做吗？）语言环境/编码对加密的基本数据（数据）没有影响，就像 8 位整数数组一样？我不需要关心 UTF-8 或 Unicode，只需要能够恢复数据，不管是什么语言环境/编码。第一个链接有助于解释问题。

想法，C 不知道 Unicode，会在一些 C 代码帮助中链接，还是 C++ 会再次改变它？或者将输入限制为“ASCII”字符（我知道在 Windows 上不存在）总是，就像在“任何 Windows 计算机上”一样）有效？

接受的解决方案：

```
void EncryptFileNames ( const boost::filesystem::path& p, const std::string& pw );

int main ( int argc, char **argv ) // No checking
{
    // Call with encrypt.exe c:\tmp pässwörd

    boost::nowide::args a ( argc, argv ); // Fix arguments - make them UTF-8

    boost::filesystem::path p ( argv [ 1 ] );

    EncryptFileNames ( p, boost::locale::normalize ( argv [ 2 ], boost::locale::norm_nfc, std::locale ( ) ) );

    return 0;
} 
```

感谢所有贡献者。

PS：对于加密，我使用带有 VS2008SP1 和 Boost（没有 ICU 后端）的 Crypto++。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T12:52:59.443

如果您的应用程序是用 编译的`_UNICODE`，那么只需调用`WideCharToMultiByte`UTF-8 代码页来获取 UTF-8。如果您的应用程序未使用 编译`_UNICODE`，请调用`MultiByteToWideChar`以从您的 ACP 字节中获取 UTF-16，然后调用`WideCharToMultiByte`以获取 UTF-8。

由于您添加的代码显示 std::string，因此数据可能位于系统的 ACP 中。所以这里的食谱会起作用。现在，有很多方便的 API 用于此目的，例如`mbtowcs`. 不要被“MB”分心。这只是 Windows 对“不是 UTF-16”的说法。

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2012-09-08T13:43:06.443

首先，UTF-8 是一条红鲱鱼。要国际化，您必须使用国际字符集，只有一个值得考虑，它被称为 Unicode。如何在程序中表示 Unicode（即如何编码）取决于您，只要编码可以表示所有 Unicode 就没有问题。您可以选择 UTF-8，但由于您在 Windows 上工作，因此选择 Windows 内部使用的编码 UTF-16 似乎是合理的。正如 bmargulies 所说，您可以使用 MultiByteToWideChar 从本地表示（即本地代码页）到 UTF-16。我认为不需要执行额外的步骤并从 UTF-16 生成 UTF-8，但如果你想这样做，你可以使用 WideCharToMultiByte。

# linq - 如果我不向数据库插入数据，则在重新启动时获取 SqlCeException

> ID：12330675
> 
> 赞同：3
> 
> 时间：2012-09-08T12:18:55.497
> 
> 标签：linq, windows-phone-7, exception, sql-server-ce

基本上，我有一个 LINQ 数据库上下文及其模型。通常，如果数据库不存在，我会在 SQL 上下文中创建数据库（上下文是单例，每次访问它时都会检查）。

如果我在第一次启动时将数据添加到数据库，一切都会运行良好。但是，如果我在应用程序的第一次启动期间不插入任何数据，那么在连续启动时我会得到

> SqlCeException：指定的表不存在[TableName]

我不知道如何更具体地解释它，但是**如果我在第一次启动时没有插入任何数据，那么每当我在应用程序的第二次启动**时执行 LINQ 查询时，异常就会立即出现。如果我在第一次启动时插入了一些数据，那么在应用程序的剩余生命周期内一切都很好。为什么创建数据库并引入数据库上下文而不插入任何数据是一件坏事？

这是我的 LINQ DB 模型：

*   [https://github.com/kypeli/Podcatcher/blob/master/wp7/Podcatcher/ViewModels/PodcastSubscriptionModel.cs](https://github.com/kypeli/Podcatcher/blob/master/wp7/Podcatcher/ViewModels/PodcastSubscriptionModel.cs)

如果我在第一次启动时没有插入任何数据，这就是我在第二次启动时遇到异常的地方：

*   [https://github.com/kypeli/Podcatcher/blob/master/wp7/Podcatcher/PodcastSqlModel.cs#L64](https://github.com/kypeli/Podcatcher/blob/master/wp7/Podcatcher/PodcastSqlModel.cs#L64)

我还感到震惊的是，在 LINQ 中没有检查表是否存在的 API 调用，所以我不得不假设“这应该可以正常工作”——但事实并非如此。

有任何想法吗？谢谢！:)

**更新：**我验证了分析 .sdf 文件，如果我在第一次启动应用程序时不插入任何数据，确实没有创建表。照我看来：

*   **这是 LINQ-to-SQL 中的一个错误**。如果没有表存在，它不应该崩溃，但知道它应该创建它们。或者处理这种情况，只在插入数据时才建表。
*   我需要在第一次启动时总是在 SQL 中插入一些虚拟数据，或者......
*   检查表是否存在，如果不存在，则通过强制 LINQ-to-SQL 创建它们来对其做出反应。但是怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T13:47:24.900

我也处理过这个问题，我已经这样解决了：

获取数据上下文：

```
dbDataContext = new DBDataContext(DBConnectionString);

if( dbDataContext.DatabaseExists() == true) 
```

//然后尝试获取一个实体：

```
System.Data.Linq.Table<Entity> entities = dbDataContext.Tablename; 
```

//尝试从实体中获取元素：

```
IEnumerator<Entity> enumEntity = entities.GetEnumerator(); 
```

`entities.GetEnumerator();`将始终引发异常“找不到表”。

只需使用 try/catch 并在 catch 范围内删除数据库并重新创建它，因为您的数据库无论如何都是空的:)

```
dbDataContext.DeleteDatabase();
dbDataContext.CreateDatabase();
dbDataContext.SubmitChanges(); 
```

# forms - Spring MVC Restful App：将表单结果重定向到另一个页面

> ID：12330679
> 
> 赞同：4
> 
> 时间：2012-09-08T12:19:24.793
> 
> 标签：forms, spring, model-view-controller, rest, redirect

我是 Spring MVC Restful 的新手。假设我有 index.jsp，它将用户转发到一个表单页面，用户可以在其中提交一个词来搜索。我用 POST 处理方法捕捉到这个词，然后做一些计算并希望将结果重定向到另一个页面（/WEB-INF/jsp），例如，我们说基于结果构建一个图形。问题是如何收集结果并同时重定向 URL。控制器如下：

```
@RequestMapping(value="/termForm", method = RequestMethod.GET)
public ModelAndView  setupForm() {
Term termClass = new Term();
return new ModelAndView("term", "command", termClass);
}
@RequestMapping(value="/getTerm", method=RequestMethod.POST)
public String getTerms(@ModelAttribute("term") Term term, BindingResult result)
{
    String label = term.getTerm();

    //doing some calculation to term here
    result = ....
    return "redirect:"+ "graphPage.jsp";
} 
```

通过搜索，我发现Spring View Resolver只能处理根目录下重定向的jsp（与index.jsp相同）。在这种情况下，“graphPage”似乎不接受“结果”。我还在 XXX-servlet.xml 中包含了 UrlBasedViewResolver，如下所示：

```
 <bean id="viewResolver"
    class="org.springframework.web.servlet.view.UrlBasedViewResolver">
    <property name="viewClass"
        value="org.springframework.web.servlet.view.JstlView" />
    <property name="prefix" value="/WEB-INF/jsp/" />
    <property name="suffix" value=".jsp" />
</bean> 
```

抱歉，这个问题很长，请给出任何提示。非常感谢。

* * *

我的问题有两个部分。一个是将 POST 方法重定向到另一个页面，graphPage.jsp。由于我们要绘制图表，因此我们还需要来自 POST 方法的数据来创建图表。这是另一个问题。希望很清楚。我已经通过添加处理程序方法解决了第一个问题，见下文。但是如何打包结果并将其传递给 Graph.jsp？谢谢

```
@RequestMapping(value="/graphPage", method=RequestMethod.GET)
public String showGraph()
{

    return "graphPage";
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T14:46:53.203

`RedirectView`如果您使用而不是字符串，您将更好地控制重定向。请参阅此示例。

```
@Contoller
@RequestMapping("/your")
public class YourController

    @RequestMapping(value="/getTerm", method=RequestMethod.POST)
    public ModelAndView getTerms(@ModelAttribute("term") Term term, BindingResult result) {
        ...
        return new ModelAndView(new RedirectView("/your/other", true));
    }

    @RequestMapping(value="/other", method=RequestMethod.POST)
    public String otherMethod() {...}       
} 
```

*但也许你问了一些不同的问题，那么请重写你的问题。很难理解你的问题是什么。*/

顺便提一句。测试您是否可以直接请求您的“graphPage”

# datetime - 将日期（“日期时间”类型）读入 iPhone 中的 sqlite3 数据库

> ID：12330680
> 
> 赞同：2
> 
> 时间：2012-09-08T12:19:25.487
> 
> 标签：datetime, sqlite

哪种列类型用于在 iphone 中将日期读取到 sqlite 数据库中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T13:23:21.793

SQLite 3 没有 DateTime 数据类型。但是，您可以轻松地将日期存储在 TEXT、REAL 或 Integer 中。

见[http://www.sqlite.org/datatype3.html](http://www.sqlite.org/datatype3.html)

# mysql - 使用休眠时合并两个查询

> ID：12330682
> 
> 赞同：1
> 
> 时间：2012-09-08T12:19:42.017
> 
> 标签：mysql, sql, hibernate, jersey

我正在使用hibernate来映射mysql数据库中的数据。

这是我的查询：

```
long id = (Long) session.createQuery("Select category.id from Project as p where p.id =:projectId").setLong("projectId", projectId).uniqueResult();

activities = session.createQuery("Select name from Activity as a where a.parent.id =:activityId").setLong("activityId", id).list(); 
```

它工作正常。如何将这两个查询合并为一个查询？

* * *

**附加物**

活动类：

```
@Entity
public class Activity implements BaseEntry, Comparable<Activity> {

    private static final long serialVersionUID = 4937176332500551910L;

    @Id
    @GeneratedValue
    private long id;

    @Column(name = "short", unique = true, nullable = false)
    private String key;

    private String name;

    @ManyToOne(fetch = FetchType.LAZY)
    private Activity parent;

    @OneToMany(targetEntity = Activity.class, mappedBy = "parent", fetch = FetchType.LAZY, cascade = CascadeType.ALL)
    @JsonIgnore
    private Collection<Activity> children;

    @OneToMany(targetEntity = Project.class, mappedBy = "category", fetch = FetchType.LAZY, cascade = CascadeType.ALL)
    @JsonIgnore
    private Collection<Project> projects; 
```

项目类：

```
@Entity
public class Project implements BaseEntry, Comparable<Project> {

    private static final long serialVersionUID = 1911160043392595450L;

    @Id
    @GeneratedValue
    private long id;

    @Column(name = "short", unique = true, nullable = false)
    private String key;

    @Column(nullable = false)
    private String name;

    @ManyToOne(optional = false, fetch = FetchType.EAGER)
    private Activity category; 
```

我用了：

```
activities = session.createQuery("Select a.name from Activity as a where a.parent.id = (Select p.category.id from Project as p where p.id =:projectId)")
                    .setLong("projectId", projectId).list(); 
```

并得到一个错误：

Apache Tomcat/7.0.23 - 错误报告

# HTTP 状态 500 -

**类型**异常报告

**信息**

**描述**服务器遇到一个内部错误 () 阻止它完成这个请求。

**例外**

```
org.codehaus.jackson.map.JsonMappingException：无法初始化代理 - 没有会话（通过引用链：java.util.ArrayList[0]->se.softwerk.timelog.model.Activity["parent"]->se. softwerk.timelog.model.Activity_$$_javassist_3["id"])
    org.codehaus.jackson.map.JsonMappingException.wrapWithPath(JsonMappingException.java:218)
    org.codehaus.jackson.map.JsonMappingException.wrapWithPath(JsonMappingException.java:183)
    org.codehaus.jackson.map.ser.std.SerializerBase.wrapAndThrow(SerializerBase.java:140)
    org.codehaus.jackson.map.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:158)
    org.codehaus.jackson.map.ser.BeanSerializer.serialize(BeanSerializer.java:112)
    org.codehaus.jackson.map.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:446)
    org.codehaus.jackson.map.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:150)
    org.codehaus.jackson.map.ser.BeanSerializer.serialize(BeanSerializer.java:112)
    org.codehaus.jackson.map.ser.std.StdContainerSerializers$IndexedListSerializer.serializeContents(StdContainerSerializers.java:122)
    org.codehaus.jackson.map.ser.std.StdContainerSerializers$IndexedListSerializer.serializeContents(StdContainerSerializers.java:71)
    org.codehaus.jackson.map.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:86)
    org.codehaus.jackson.map.ser.StdSerializerProvider._serializeValue(StdSerializerProvider.java:610)
    org.codehaus.jackson.map.ser.StdSerializerProvider.serializeValue(StdSerializerProvider.java:256)
    org.codehaus.jackson.map.ObjectMapper.writeValue(ObjectMapper.java:1604)
    org.codehaus.jackson.jaxrs.JacksonJsonProvider.writeTo(JacksonJsonProvider.java:558)
    com.sun.jersey.json.impl.provider.entity.JacksonProviderProxy.writeTo(JacksonProviderProxy.java:160)
    com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)
    com.sun.jersey.server.impl.application.WebApplicationImpl。*处理请求（WebApplicationImpl.java:1437）
    com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)
    com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)
    com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)
    com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)
    com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:722)* 
```

***根本原因***

```
*org.hibernate.LazyInitializationException：无法初始化代理 - 没有会话
    org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:149)
    org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:195)
    org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.invoke(JavassistLazyInitializer.java:185)
    se.softwerk.timelog.model.Activity* $$_javassist_3.getId(Activity_$$_javassist_3.java)
    sun.reflect.NativeMethodAccessorImpl.invoke0（本机方法）
    sun.reflect.NativeMethodAccessorImpl.invoke（未知来源）
    sun.reflect.DelegatingMethodAccessorImpl.invoke（未知来源）
    java.lang.reflect.Method.invoke（未知来源）
    org.codehaus.jackson.map.ser.BeanPropertyWriter.get(BeanPropertyWriter.java:483)
    org.codehaus.jackson.map.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:418)
    org.codehaus.jackson.map.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:150)
    org.codehaus.jackson.map.ser.BeanSerializer.serialize(BeanSerializer.java:112)
    org.codehaus.jackson.map.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:446)
    org.codehaus.jackson.map.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:150)
    org.codehaus.jackson.map.ser.BeanSerializer.serialize(BeanSerializer.java:112)
    org.codehaus.jackson.map.ser.std.StdContainerSerializers$IndexedListSerializer.serializeContents(StdContainerSerializers.java:122)
    org.codehaus.jackson.map.ser.std.StdContainerSerializers$IndexedListSerializer.serializeContents(StdContainerSerializers.java:71)
    org.codehaus.jackson.map.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:86)
    org.codehaus.jackson.map.ser.StdSerializerProvider._serializeValue(StdSerializerProvider.java:610)
    org.codehaus.jackson.map.ser.StdSerializerProvider.serializeValue(StdSerializerProvider.java:256)
    org.codehaus.jackson.map.ObjectMapper.writeValue(ObjectMapper.java:1604)
    org.codehaus.jackson.jaxrs.JacksonJsonProvider.writeTo(JacksonJsonProvider.java:558)
    com.sun.jersey.json.impl.provider.entity.JacksonProviderProxy.writeTo(JacksonProviderProxy.java:160)
    com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)
    com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1437)
    com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)
    com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)
    com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)
    com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)
    com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:722)

```

**note**提供了根本原因的完整堆栈跟踪

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T12:51:49.823

合并这些查询的最简单方法是使用子查询：

```
Select a.name from Activity as a where a.parent.id = 
    (Select p.category.id from Project as p where p.id =:projectId) 
```

# mysql - 获取带有计数的不同记录

> ID：12330686
> 
> 赞同：3
> 
> 时间：2012-09-08T12:20:11.203
> 
> 标签：mysql, sql, count, distinct

我有一张桌子`personid`和列`msg`。

```
personid, msg
--------------
 1,      'msg1'
 2,      'msg2'
 2,      'msg3'
 3,      'msg4'
 1,      'msg2' 
```

我想得到`msg`每个的总数`personid`。我正在尝试这个查询：

```
select distinct personid, count(*)
FROM mytable; 
```

我也试过这个查询

```
select distinct personid, count(msg)
FROM mytable; 
```

但没有得到实际结果。我想要上述数据的这个结果：

```
id, count
--------
1,   2
2,   2
3,   1 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T12:21:53.230

您只需要使用`GROUP BY`而不是`DISTINCT`. 所以试试这个查询：

```
SELECT personid, COUNT(msg) 
FROM mytable 
GROUP BY personid
ORDER BY personid; 
```

[看到这个 SQLFiddle](http://sqlfiddle.com/#!2/75892/1)

> `GROUP BY`允许您使用聚合函数，如`AVG()`, `MAX()`, `MIN()`, 等`SUM()`，`COUNT()`同时`DISTINCT`仅删除重复项。

# javascript - 有没有办法通过仅引用它来执行 JavaScript 中的代码？

> ID：12330690
> 
> 赞同：1
> 
> 时间：2012-09-08T12:21:07.240
> 
> 标签：javascript, function, callback

我偶然发现了这样的代码

```
if (options.callback) 
    { options.callback; } 
```

这不可能是对的，对吗？Options 是一些带有“回调”属性的对象，现在要执行回调，它需要一个 options.callback(); 或者，如果它以某种方式是对象的属性，是否有某种方法可以执行回调？

如果上面的代码是正确的，我应该在回调属性中添加什么让它执行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T12:58:53.183

也许回调函数被定义为一个getter方法：

```
options.__defindeGetter__("callback", function() {
    // code of callback routine
} 
```

所以函数在请求值回调时被执行。请注意，这`__defineGetter__`是一个非标准扩展，也被 MDN 标记为已弃用，因此通常不应使用它。

[https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineGetter](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineGetter)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T11:57:19.840

它一定是一个错误，因为它没有做任何有用的事情。

它可以做任何事情的唯一方法是 if`callback`是一个吸气剂，但是它会被调用两次，这也没有任何意义。

# c# - 如何反序列化 xml 忽略节点类型的差异（即是 XmlElement 还是 XmlAttribute）

> ID：12330699
> 
> 赞同：0
> 
> 时间：2012-09-08T12:22:30.263
> 
> 标签：c#, xml-serialization, xmlserializer, xml-deserialization, xml-attribute

如何反序列化 xml 忽略节点类型的差异，即成员是表示为 XmlElement 还是表示为 XmlAttribute。

例如，我有这个源 xml

```
<Book>
   <Title>Introduction to c#</Title>
   <Publisher>John Smith</Publisher>
   <Year>2012</Year>
<Book> 
```

我想用这个类反序列化它

```
public class Book
{
   public string Title{ get; set; }

   [XmlAttribute()]
   public string Publisher{ get; set; }

   [XmlAttribute()]
   public string Year{ get; set; }
} 
```

如您所见，Publisher 和 Year 在类中标有**“[XmlAttribute]”**，因此它们不会被反序列化。

有没有办法告诉反序列化程序忽略成员是表示为属性还是表示为元素的差异？

**我需要在通用转换器中使用它来将一种类型转换为另一种类似类型**

```
 public static Type2 ConvertType1ToType2<Type1, Type2>(Type1 type1)
        {
            using (MemoryStream objectStream = new MemoryStream())
            {
                XmlSerializer type1Serializer = new XmlSerializer(typeof(Type1));
                XmlSerializer type2Deserializer = new XmlSerializer(typeof(Type2));

                type1Serializer.Serialize(objectStream, type1);
                objectStream.Position = 0;

                return (Type2)type2Deserializer.Deserialize(objectStream);
            }
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-09T03:17:56.177

当您更新问题时，您需要将 Type1 转换为 Type2 的通用逻辑。

尝试以下解决方案，

对于两个类型类（Type1 和 Type2），我假设它们都具有相同名称的相同属性。

假设我们有两个班级 Book 和 Book1。

```
 public class Book
{
    public string Title { get; set; }

    [XmlAttribute()]
    public string Publisher { get; set; }

    [XmlAttribute()]
    public string Year { get; set; }
}

public class Book1
{
    public string Title { get; set; }

    [XmlAttribute()]
    public string Publisher { get; set; }

    [XmlAttribute()]
    public string Year { get; set; }
} 
```

ConvertType1ToType2 函数：

```
 public static Type2 ConvertType1ToType2<Type1, Type2>(Type1 type1)
    {
        using (System.IO.MemoryStream objectStream = new System.IO.MemoryStream())
        {
             XmlRootAttribute root = new XmlRootAttribute("Book");

            //Get All MemberInfo of Type1
            Type objType1 = type1.GetType();
            System.Reflection.MemberInfo[] objType1Member = objType1.GetMembers();
            List<Type> extraTypesForType1 = new List<Type>();

            //Type1 => XmlAttributeOverrides
            XmlAttributeOverrides Type1overrides = new XmlAttributeOverrides();
            foreach (System.Reflection.MemberInfo m in objType1Member)
            {
                if (m.MemberType.Equals( System.Reflection.MemberTypes.Property))
                {
                    XmlAttributes attributes = new XmlAttributes();
                    attributes.XmlElements.Add(new XmlElementAttribute(m.Name));
                    Type1overrides.Add(typeof(Type1), m.Name, attributes);
                    extraTypesForType1.Add(m.MemberType.GetType());
                }

            }

            XmlSerializer type1Serializer = new XmlSerializer(typeof(Type1), Type1overrides, extraTypesForType1.ToArray(),root,"");

            //Type2 => XmlAttributeOverrides
            Type objType2 = type1.GetType();
            System.Reflection.MemberInfo[] objType2Member = objType1.GetMembers();

            List<Type> extraTypesForType2 = new List<Type>();

            XmlAttributeOverrides Type2overrides = new XmlAttributeOverrides();
            foreach (System.Reflection.MemberInfo m in objType2Member)
            {
                if (m.MemberType.Equals(System.Reflection.MemberTypes.Property))
                {
                    XmlAttributes attributes = new XmlAttributes();
                    attributes.XmlElements.Add(new XmlElementAttribute(m.Name));
                    Type2overrides.Add(typeof(Type2), m.Name, attributes);
                    extraTypesForType2.Add(m.MemberType.GetType());
                }

            }

            XmlSerializer type2Deserializer = new XmlSerializer(typeof(Type2), Type2overrides, extraTypesForType2.ToArray(),root,"");

            type1Serializer.Serialize(objectStream, type1);
            objectStream.Position = 0;

            Type2 t = (Type2)type2Deserializer.Deserialize(objectStream);
            return t;
        } 
```

现在创建 Book 类对象并调用函数 ConvertType1ToType2。

```
Book book = new Book();
            book.Title = "Introduction to c#";
            book.Publisher = "John Smith";
            book.Year = "2012";

 Book1 book1 = ConvertType1ToType2<Book, Book1>(book); 
```

希望这个解决方案可以奏效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T13:10:24.427

试试这个，

```
 string sXml = @"<Book>
                             <Title>Introduction to c#</Title>
                            <Publisher>John Smith</Publisher>
                            <Year>2012</Year>
                            </Book>";

            XmlAttributeOverrides overrides = new XmlAttributeOverrides();

            XmlAttributes PublisherAttributes = new XmlAttributes();
            XmlAttributes YearAttributes = new XmlAttributes();

            PublisherAttributes.XmlElements.Add(new XmlElementAttribute("Publisher"));
            YearAttributes.XmlElements.Add(new XmlElementAttribute("Year"));

            overrides.Add(typeof(Book), "Publisher", PublisherAttributes);
            overrides.Add(typeof(Book), "Year", YearAttributes);

           XmlSerializer ser = new XmlSerializer(typeof(Book), overrides);
           System.IO.TextReader oReader = new System.IO.StringReader(sXml);

           Book oBook = (Book) ser.Deserialize(oReader); 
```

这有帮助吗？

# spring - 最短的 Spring Framework 类名（包括包）是什么？

> ID：12330702
> 
> 赞同：14
> 
> 时间：2012-09-08T12:23:16.973
> 
> 标签：spring, naming

许多人[在](https://twitter.com/ftrain/status/242597696949604352) [弃用](https://twitter.com/NeckbeardHacker/status/244078549500301313).`org.springframework.aop.framework.AbstractSingletonProxyFactoryBean`

这让我想知道：*最短*的类名是什么，包括 Spring Framework 3.1.x 生态系统中的包（此处列出：[http](http://www.springsource.org/projects) ://www.springsource.org/projects ）？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-08T15:16:04.437

目测[http://static.springsource.org/spring/docs/3.0.x/javadoc-api/](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/)这是主要的 Spring Framework API，有几个 4 个字母的单词，包括`Bean`.

但我不认为 AbstractSingletonProxyFactoryBean 是 Spring API 中最长的类名。以下是一些竞争对手：

```
AbstractSingletonProxyFactoryBean
SmartInstantiationAwareBeanPostProcessor 
SingletonMetadataAwareAspectInstanceFactory 
JodaDateTimeFormatAnnotationFormatterFactory
TransactionAwarePersistenceManagerFactoryProxy  
JdbcUpdateAffectedIncorrectNumberOfRowsException 
```

# php - Codeigniter 在使用活动记录检索时更新数据库中的列

> ID：12330703
> 
> 赞同：0
> 
> 时间：2012-09-08T12:23:20.833
> 
> 标签：php, mysql, codeigniter-2

我正在学习在 CodeIgniter 2.x 中创建博客。我想要什么 - 当用户点击博客页面上的阅读更多链接时**，**它会将他重定向到相应的页面，`id`以向他展示完整的文章。

现在，在`$query->row();`从数据库中检索 a 时`content_model.php`，我想同时更新`viewed`数据库中的列。因此`34 views`，它不会显示他，而是显示`35 views`，当有人打开相同的链接时，它会再显示他一个 - `36 views`。

在不使其容易受到黑客攻击的情况下，最好的方法是什么？

预先感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:10:13.353

当您使用 CI 框架从数据库中检索数据时，请检查以下内容：

```
 if ($result_from_get_function->num_rows()>0){
    return   $this->updateViewColoumnByOne();
    }else{
    return false;
    }
    function updateViewColoumnByOne(){
    //retrieve number of view in view column, suppose 12.
    //plus one with it; 12+1=13
   //update it.
   //again retrieve the new update number of views
   //and return.
   } 
```

我认为这可以帮助你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T13:37:27.340

这应该很容易。当有人试图阅读帖子时，就在您检索帖子信息之前，更新数据库中的计数视图。执行一个类似这样的查询

```
UPDATE `posts` SET `views` = `views` + 1; 
```

之后，只需像往常一样检索帖子信息，然后通过将其输出到浏览器将其显示给用户。

# mouseevent - 在轴上显示不同的标签，而不是 chartEntity 为绘制的 JFreeChart 图表返回的标签

> ID：12330705
> 
> 赞同：1
> 
> 时间：2012-09-08T12:23:44.903
> 
> 标签：mouseevent, jfreechart, bar-chart

我已经重写了 chartMouseClicked () 方法来为我的 barChart 捕获 ChartMouseEvent。当鼠标单击其中一个条时，我想获取数据集。但是，当单击图表面板上的其他任何位置时，事件不应响应。我该如何过滤这个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T16:22:20.443

您需要检查[`ChartEntity`](http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/entity/ChartEntity.html)返回的 by ，如此[处](https://stackoverflow.com/a/8219445/230513)[`ChartMouseEvent#getEntity()`](http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartMouseEvent.html#getEntity%28%29)所示。

# json - 如何从代码中删除斜杠？

> ID：12330708
> 
> 赞同：0
> 
> 时间：2012-09-08T12:24:04.543
> 
> 标签：json, codeigniter, datatables

我试图了解在我的代码中添加斜杠的位置。我正在使用[Ignite Datatables (native-php-version)](https://github.com/n1crack/IgnitedDatatables-native-php-version)为来自 MySQL 的数据生成 ajax 表。

来自 MySQL 的数据按我的意愿显示，但 Ignited Datatables 函数允许我向表中添加额外的列，问题从那里开始。

这就是我初始化添加额外列的方式：

```
->add_column('edit', '<a class="btn btn-mini btn-success" data-toggle="modal" href="#?page=customers-database-edit&id=$1">Edit</a>', 'face_id'); 
```

我添加的额外列应仅包含该链接，但由于某种原因，JSON 是以这种方式生成的：

```
\n<a class="\&quot;btn" btn-mini="" btn-success\"="" data-toggle="\&quot;modal\&quot;" href="\&quot;?page=customers-database-edit&amp;id=3\&quot;">Edit&lt;\/a&gt; \n</a> 
```

因此，如您所见，问题在于代码已损坏且斜线过多。

这种代码和平负责添加带有链接的额外列：

```
public function add_column($column, $content, $match_replacement = NULL)
{
$this->add_columns[$column] = array('content' => $content, 'replacement' => $this->explode(',', $match_replacement));
return $this;
}

foreach($this->add_columns as $field => $val)
  if($this->check_mDataprop())
    $aaData[$row_key][$field] = $this->exec_replace($val, $aaData[$row_key]);
  else
    $aaData[$row_key][] = $this->exec_replace($val, $aaData[$row_key]);

protected function exec_replace($custom_val, $row_data)

{
  $replace_string = '';

  if(isset($custom_val['replacement']) && is_array($custom_val['replacement']))
  {
    foreach($custom_val['replacement'] as $key => $val)
    {
      $sval = preg_replace("/(?<!\w)([\'\"])(.*)\\1(?!\w)/i", '$2', trim($val));
      if(preg_match('/(\w+)\((.*)\)/i', $val, $matches) && function_exists($matches[1]))
      {
        $func = $matches[1];
        $args = preg_split("/[\s,]*\\\"([^\\\"]+)\\\"[\s,]*|" . "[\s,]*'([^']+)'[\s,]*|" . "[,]+/", $matches[2], 0, PREG_SPLIT_NO_EMPTY | PREG_SPLIT_DELIM_CAPTURE);

        foreach($args as $args_key => $args_val)
        {
          $args_val = preg_replace("/(?<!\w)([\'\"])(.*)\\1(?!\w)/i", '$2', trim($args_val));
          $args[$args_key] = (in_array($args_val, $this->columns))? ($row_data[($this->check_mDataprop())? $args_val : array_search($args_val, $this->columns)]) : $args_val;
        }

        $replace_string = call_user_func_array($func, $args);
      }
      elseif(in_array($sval, $this->columns))
        $replace_string = $row_data[($this->check_mDataprop())? $sval : array_search($sval, $this->columns)];
      else
        $replace_string = $sval;

      $custom_val['content'] = str_ireplace('$' . ($key + 1), $replace_string, $custom_val['content']);
    }
  }

  return $custom_val['content'];
} 
```

我有点困惑在哪里添加了斜杠，为什么链接代码被破坏了？

以下是 JSON 的生成方式：

```
 protected function jsonify($result = FALSE)
    {
      if(is_null($result)) return 'null';
      if($result === FALSE) return 'false';
      if($result === TRUE) return 'true';

      if(is_scalar($result))
      {
        if(is_float($result))
          return floatval(str_replace(',', '.', strval($result)));

        if(is_string($result))
        {
          static $jsonReplaces = array(array('\\', '/', '\n', '\t', '\r', '\b', '\f', '"'), array('\\\\', '\\/', '\\n', '\\t', '\\r', '\\b', '\\f', '\"'));
          return '"' . str_replace($jsonReplaces[0], $jsonReplaces[1], $result) . '"';
        }
        else
          return $result;
      }

      $isList = TRUE;

      for($i = 0, reset($result); $i < count($result); $i++, next($result))
      {
        if(key($result) !== $i)
        {
          $isList = FALSE;
          break;
        }
      }

      $json = array();

      if($isList)
      {
        foreach($result as $value)
          $json[] = $this->jsonify($value);
        return '[' . join(',', $json) . ']';
      }
      else
      {
        foreach($result as $key => $value)
          $json[] = $this->jsonify($key) . ':' . $this->jsonify($value);
        return '{' . join(',', $json) . '}';
      }
    }
  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T12:46:35.823

要从 JSON 数据中删除斜线，可以使用 PHP 的`stripslashes()` [函数](http://www.php.net/stripslashes)。

这样：`stripslashes($your_data);`

# scala - Play2，Scala：加载资源在生产模式下不起作用

> ID：12330710
> 
> 赞同：3
> 
> 时间：2012-09-08T12:25:03.080
> 
> 标签：scala, playframework-2.0

在控制器类中，我需要加载一个文本文件。我将此文件放在文件`public`夹中并编写了一个对象，该对象将该文本文件作为字符串提供。

```
object FooResources {
  def load(filePath: String): String = {
    Play.getExistingFile(filePath) match {
      case Some(file) => Files.readFile(file)
      case _ => throw new IOException("file not found: " + filePath)
    }
  }
} 
```

在控制器类中，我只是调用：

`val js = FooResources.jsTemplate("public/jsTemplate.js")`.

这在 DEV 模式下工作正常，但是当我通过 暂存项目`play clean compile stage`并开始 via`./start`时，尝试加载文件时出现异常。

更新：当我通过命令从 sbt （或播放）中启动项目时`start`，文件已成功加载。只有当我`./start`在目标目录中启动应用程序时，它才不是。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T13:24:52.293

当您使用`dist`or`stage`目标时，您的资源包含在 Jar 文件中，而不是文件系统中。

所以你必须使用相对于你的类路径的输入流。为此，请查看[Play 对象](http://www.playframework.org/documentation/api/2.0.3/scala/index.html#play.api.Play$)中的 Play.api.resourceAsStream() 方法。

也许是这样的（没有测试过）

```
object FooResources {
  def load(filePath: String): InputStream = {
    Play.resourceAsStream(filePath) match {
      case Some(is) => scala.io.Source.fromInputStream(is).getLines().mkString("\n")
      case _ => throw new IOException("file not found: " + filePath)
    }
  }
} 
```

# python - 无法使用密钥文件通过 Fabric 和 SSH 连接到远程服务器

> ID：12330712
> 
> 赞同：4
> 
> 时间：2012-09-08T12:25:42.390
> 
> 标签：python, ssh, fabric

我正在尝试使用 Fabric python 脚本登录生产服务器，然后远程运行“ls”命令。好吧，我实际上还有很多其他命令要运行，但我从一个简单的列表开始让它工作。我的生产服务器使用 SSH 并被锁定，因此它需要一个私钥文件和密码。

现在我一直在阅读一些关于如何让它工作的网站，但由于某种原因无法让它登录。我认为它连接正常，但出现一条消息说：

***“root”的登录密码：***

所以我输入我的密码（与 env.password 中的密码相同），它只是不断弹出消息。

这是我的 fabfile.py：

```
from fabric.api import *

env.use_ssh_config = True
env.hosts = ["myserver.net"]
env.user = "root"
env.key_filename = "/home/myusername/.ssh/id_rsa.ppk"
env.password = "mypassword"
env.port = 22

def testlive():
  run("ls") 
```

这是我在 /home/myusername/.ssh/config 中的 SSH 配置：

```
Host myserver
  hostname myserver.net
  port 22
  IdentityFile ~/.ssh/id_rsa.ppk 
```

关于如何使它工作的任何想法？

非常感谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-16T21:53:51.643

我最终将 SSH 配置与命令行分开测试，以使该部分正常工作。我认为 SSH 密钥存在问题，因为我使用 PuTTY 生成它们，并且该格式可能与 Linux 使用的 OpenSSH 不兼容。

所以首先我在我的 linux 机器上创建了新的 SSH 密钥，没有为我创建两个文件 id_rsa 和 id_rsa.pub 的私钥密码。然后我将公钥字符串从 id_rsa.pub 复制到生产服务器上的 authorized_keys 文件中。然后我从命令行进行了测试。一旦开始工作，我就用 Fabric 进行了测试。

所以配置更改为：

```
from fabric.api import *

env.use_ssh_config = True
env.hosts = ["myserver"]
env.user = "root"
env.key_filename = "/home/myusername/.ssh/id_rsa"
env.password = ""
env.port = 22

def testlive():
  run("ls") 
```

这是我在 /home/myusername/.ssh/config 中的 SSH 配置：

```
Host myserver
  hostname myserver.net
  port 22
  IdentityFile ~/.ssh/id_rsa 
```

当我从命令行运行时，现在工作正常`fab testlive`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-20T17:10:04.940

在针对 PCI 合规性对 Logjam 强化服务器后，我们发生了这个问题。使用[https://weakdh.org/sysadmin.html](https://weakdh.org/sysadmin.html)作为参考，我更新了我们的 /etc/ssh/sshd_config 以包含以下行：

```
KexAlgorithms curve25519-sha256@libssh.org 
```

从 1.15.2 开始，paramiko 似乎不支持这种椭圆密钥交换算法。weakdh.org 页面说非椭圆`group14-sha1`diffie-hellman 算法不易受到 Logjam 的影响，因此将行更改为...

```
KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group14-sha1 
```

...允许我通过 SSH 进行 Fabric 部署以及保持 PCI 合规性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-02-19T08:24:43.213

**解决方案**：ssh-add ~/.ssh/aws_instance.pem

**文件名**：fabfile.py
**从命令提示符运行**：首先添加密钥，然后运行 ​​fab 脚本

1] ssh-add ~/.ssh/aws_instance.pem
2] fab check_status

```
from fabric.api import run, env

env.hosts = ['myserver_name.in']
env.user = 'ubuntu'

def check_status():
    """
    Will show status for nginx service
    """
    run ("systemctl status nginx.service") 
```

# android - Android Twitter OAuth 上的错误 Java.Lang.NullPointer 异常

> ID：12330715
> 
> 赞同：1
> 
> 时间：2012-09-08T12:25:47.510
> 
> 标签：android, twitter, oauth, nullpointerexception

我有一些问题，我想使用 twitter 帐户使我的应用程序 OAuth

这是我的 Main.xml 文件

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:padding="@dimen/padding_medium"
        android:text="@string/hello_world"
        tools:context=".MainActivity" />

    <ImageButton
        android:id="@+id/btnTwitterConnect"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/textView1"
        android:layout_centerHorizontal="true"
        android:background="@drawable/standard_twitter"
        android:contentDescription="@string/twitter_btn_description"
        android:gravity="center" />

</RelativeLayout> 
```

这是我的 Main.java 文件

```
package com.test.twitteroauth;

import oauth.signpost.OAuth;
import oauth.signpost.commonshttp.CommonsHttpOAuthConsumer;
import oauth.signpost.commonshttp.CommonsHttpOAuthProvider;
import oauth.signpost.exception.OAuthCommunicationException;
import oauth.signpost.exception.OAuthExpectationFailedException;
import oauth.signpost.exception.OAuthMessageSignerException;
import oauth.signpost.exception.OAuthNotAuthorizedException;
import android.net.Uri;
import android.os.Bundle;
import android.app.Activity;
import android.app.Dialog;
import android.content.Intent;
import android.util.Log;
import android.view.Menu;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageButton;

public class MainActivity extends Activity {

    private static final String CONSUMER_KEY = "CONSUMER KEY GOES HERE";
    private static final String CONSUMER_SECRET = "CONSUMER SECRET GOES HERE";

    private static String ACCESS_KEY = null;
    private static String ACCESS_SECRET = null;

    private static final String REQUEST_URL = "http://twitter.com/oauth/request_token";
    private static final String ACCESS_TOKEN_URL = "http://twitter.com/oauth/access_token";
    private static final String AUTH_URL = "http://twitter.com/oauth/authorize";
    private static final String CALLBACK_URL = "OauthTwitter://twitt";
    private static final String PREFERENCE_FILE = "twitter_oauth.prefs";

    private static CommonsHttpOAuthConsumer consumer = new CommonsHttpOAuthConsumer(CONSUMER_KEY, CONSUMER_SECRET);
    private static CommonsHttpOAuthProvider provider = new CommonsHttpOAuthProvider(REQUEST_URL, ACCESS_TOKEN_URL, AUTH_URL);

    @Override
    public void onCreate(Bundle savedInstanceState) {

        ImageButton btnTwitterConnect = (ImageButton) findViewById(R.id.btnTwitterConnect);
        btnTwitterConnect.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {
                // TODO Auto-generated method stub

                try {
                     String authURL = provider.retrieveRequestToken(consumer, CALLBACK_URL);
                     Log.d("OAuthTwitter", authURL);
                     startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(authURL)));
                    } catch (OAuthMessageSignerException e) {
                        e.printStackTrace();
                    } catch (OAuthNotAuthorizedException e) {
                        e.printStackTrace();
                    } catch (OAuthExpectationFailedException e) {
                        e.printStackTrace();
                    } catch (OAuthCommunicationException e) {
                        e.printStackTrace();
                    }
            }
        });         
    }

        @Override
        public void onResume() {
            super.onResume();
        Uri uri = this.getIntent().getData();

        if (uri != null && uri.toString().startsWith(CALLBACK_URL)) {
            Log.d("OAuthTwitter", uri.toString());
        String verifier = uri.getQueryParameter(OAuth.OAUTH_VERIFIER);
            Log.d("OAuthTwitter", verifier);
        try {
        provider.retrieveAccessToken(consumer, verifier);
        ACCESS_KEY = consumer.getToken();
        ACCESS_SECRET = consumer.getTokenSecret();

        Log.d("OAuthTwitter", ACCESS_KEY);
        Log.d("OAuthTwitter", ACCESS_SECRET);

        } catch (OAuthMessageSignerException e) {
            e.printStackTrace();
        } catch (OAuthNotAuthorizedException e) {
            e.printStackTrace();
        } catch (OAuthExpectationFailedException e) {
            e.printStackTrace();
        } catch (OAuthCommunicationException e) {
            e.printStackTrace();
        }
       }
      }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.main, menu);
        return true;
    }

} 
```

我只是按照这里的教程：http: [//blog.copyninja.info/2010/09/android-oauth-authentication-with.html](http://blog.copyninja.info/2010/09/android-oauth-authentication-with.html)

但是android应用程序总是崩溃

LogCat 详细信息：

```
09-08 19:11:13.754: D/AndroidRuntime(566): Shutting down VM
09-08 19:11:13.754: W/dalvikvm(566): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
09-08 19:11:13.785: E/AndroidRuntime(566): FATAL EXCEPTION: main
09-08 19:11:13.785: E/AndroidRuntime(566): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.test.twitteroauth/com.test.twitteroauth.MainActivity}: java.lang.NullPointerException
09-08 19:11:13.785: E/AndroidRuntime(566):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
09-08 19:11:13.785: E/AndroidRuntime(566):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
09-08 19:11:13.785: E/AndroidRuntime(566):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
09-08 19:11:13.785: E/AndroidRuntime(566):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
09-08 19:11:13.785: E/AndroidRuntime(566):  at android.os.Handler.dispatchMessage(Handler.java:99)
09-08 19:11:13.785: E/AndroidRuntime(566):  at android.os.Looper.loop(Looper.java:123)
09-08 19:11:13.785: E/AndroidRuntime(566):  at android.app.ActivityThread.main(ActivityThread.java:4627)
09-08 19:11:13.785: E/AndroidRuntime(566):  at java.lang.reflect.Method.invokeNative(Native Method)
09-08 19:11:13.785: E/AndroidRuntime(566):  at java.lang.reflect.Method.invoke(Method.java:521)
09-08 19:11:13.785: E/AndroidRuntime(566):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
09-08 19:11:13.785: E/AndroidRuntime(566):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
09-08 19:11:13.785: E/AndroidRuntime(566):  at dalvik.system.NativeStart.main(Native Method)
09-08 19:11:13.785: E/AndroidRuntime(566): Caused by: java.lang.NullPointerException
09-08 19:11:13.785: E/AndroidRuntime(566):  at com.test.twitteroauth.MainActivity.onCreate(MainActivity.java:44)
09-08 19:11:13.785: E/AndroidRuntime(566):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
09-08 19:11:13.785: E/AndroidRuntime(566):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
09-08 19:11:13.785: E/AndroidRuntime(566):  ... 11 more 
```

我知道这是由 java.Lang.NullPointerException 引起的，但错误在哪里？

谢谢

（Android 2.2、Eclipse 3.7、Java JDK 1.7）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T13:07:16.133

除了`setContentView(...)`，你应该`super.onCreate(savedInstanceState);`在它上面调用，否则你最终会得到一个`SuperNotCalledException`

```
@Override
public void onCreate(Bundle savedInstanceState) {
   super.onCreate(savedInstanceState);
   setContentView(...);

   // ...

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T12:44:32.967

请在前面添加`setcontentview(R.layout.main)`一行`ImageButton btnTwitterConnect = (ImageButton) findViewById(R.id.btnTwitterConnect);`，它将解决您的问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T12:45:48.363

在调用之前，您还需要调用`setContentView(layoutID)`并传入按钮所属的布局`findViewById(viewId)`

# c++ - 奇怪的 SDL blitting 行为

> ID：12330718
> 
> 赞同：1
> 
> 时间：2012-09-08T12:26:59.230
> 
> 标签：c++, sdl

我的图像似乎可以正确加载，但实际上并没有显示，除非我将控制台窗口拖到 SDL 显示器上。只有控制台窗口重叠的 SDL 显示部分会显示出来，所以我基本上可以使用控制台窗口“绘制”图像，然后它会保留下来。

```
#include "SDL.h"

class Game 

   private:
      SDL_Surface* displayWindow_;
//Rest of class

}; 
```

关键函数是：（注意 GetWallpaper() 返回一个有效指针）

```
void Game::Render(){
   GameState* currentGameState = gameStateManager_->GetCurrentState();
   if(currentGameState)
   {
      surface::Draw(currentGameState->GetWallpaper(), displayWindow_, 0, 0);
      SDL_Flip(currentGameState->GetWallpaper());
   }
       return;
} 
```

最后

```
bool surface::Draw(SDL_Surface* sourceSurface, SDL_Surface* targetSurface,
                   int x, int y){
   if(sourceSurface == NULL || targetSurface == NULL)
      return false;

   SDL_Rect targetRectangle;

   targetRectangle.x = x;
   targetRectangle.y = y;

   SDL_BlitSurface(sourceSurface, NULL, targetSurface, &targetRectangle);

   return true;
} 
```

任何人都可以对此有所了解吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T12:42:08.603

从您的代码来看，您正在翻转错误的表面：

`SDL_Flip(currentGameState->GetWallpaper());`

你应该传递`SDL_Flip()`一个指向当前视频（显示）表面的指针，通常是你从调用`SDL_SetVideoMode()`. 在你的情况下，这似乎是`displayWindow_`。

顺便说一句- 您观察到的行为由[SDL_Flip() 文档](http://sdl.beuc.net/sdl.wiki/SDL_Flip)中的此引用解释：

> A software screen surface is also updated automatically when parts of a SDL window are redrawn, caused by overlapping windows or by restoring from an iconified state.

# javafx - 如何在 javafx 2.1 中将节点转换为图像？

> ID：12330720
> 
> 赞同：11
> 
> 时间：2012-09-08T12:27:00.760
> 
> 标签：javafx, javafx-2

我正在使用 Java FX，我想将节点转换为图像。我找到了这个资源，但它并没有解决我的问题，因为我想将节点转换为图像，而不是整个场景。

[如何将 JavaFx 2.0 中的场景图的内容输出到图像](https://stackoverflow.com/questions/9215360/how-to-output-the-content-of-a-scene-graph-in-javafx-2-0-to-an-image)

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-08T13:21:04.680

您可以使用新的 FX 2.2 快照功能：

```
public class TrySnapshot extends Application {

    @Override
    public void start(Stage primaryStage) {
        final VBox vbox = new VBox(2);
        final Button btn = new Button();
        vbox.getChildren().add(btn);
        btn.setText("Say 'Hello World'");
        btn.setOnAction(new EventHandler<ActionEvent>() {
            @Override
            public void handle(ActionEvent event) {
                // here we make image from vbox and add it to scene, can be repeated :)
                WritableImage snapshot = vbox.snapshot(new SnapshotParameters(), null);

                vbox.getChildren().add(new ImageView(snapshot));
                System.out.println(vbox.getChildren().size());
            }
        });

        Scene scene = new Scene(new Group(vbox), 300, 250);

        primaryStage.setScene(scene);
        primaryStage.show();
    } 
```

* * *

`Node#getBoundsInParent`如果您出于某种原因必须使用较旧的 FX，只需使用您链接的代码示例中的调用将场景坐标更改为节点坐标 。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-09-10T10:37:32.503

这是我的问题的解决方案。这个解决方案是 Sergey 和 Jewelsea 的帮助。此解决方案在 javafx 2.2 中。感谢谢尔盖和珠宝海。

```
public class TrySnapshot extends Application {

javafx.embed.swing.SwingFXUtils fXUtils;
BufferedImage bufferedImage = new BufferedImage(550, 400, BufferedImage.TYPE_INT_ARGB);
File file = new File("C:/Users/PC1/Desktop/Sample Images/test.jpg");
VBox vbox = null;

@Override
public void start(Stage primaryStage) {
    vbox = new VBox();
    Button btn = new Button();
    Image i = new Image("file:C:\\Koala.jpg");
    ImageView imageView = new ImageView();
    imageView.setImage(i);
    vbox.getChildren().add(imageView);
    vbox.setSpacing(10);
    btn.setText("Say 'Hello World'");
    btn.setOnAction(new EventHandler<ActionEvent>() {
        @Override
        public void handle(ActionEvent event) {
        // here we make image from vbox and add it to scene, can be repeated :)
       WritableImage snapshot = vbox.snapshot(new SnapshotParameters(), null);
           vbox.getChildren().add(new ImageView(snapshot));
            saveImage(snapshot);
            System.out.println(vbox.getChildren().size());
        }
    });

    Scene scene = new Scene(new Group(btn), 500, 400);

    primaryStage.setScene(scene);
    primaryStage.show();
}

private void saveImage(WritableImage snapshot) {
    BufferedImage image;
    image = javafx.embed.swing.SwingFXUtils.fromFXImage(snapshot, bufferedImage);
    try {
        Graphics2D gd = (Graphics2D) image.getGraphics();
        gd.translate(vbox.getWidth(), vbox.getHeight());
        ImageIO.write(image, "png", file);
    } catch (IOException ex) {
        Logger.getLogger(TrySnapshot.class.getName()).log(Level.SEVERE, null, ex);
    };
  }
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-03-31T14:47:36.507

我有一个类似的问题，我想将从mousevent 给定的节点转换为图像。

这个非常适合我：

```
Image image = ((ImageView) node).getImage(); 
```

# wordpress - 缺少 WordPress 内容？

> ID：12330723
> 
> 赞同：0
> 
> 时间：2012-09-08T12:27:37.987
> 
> 标签：wordpress

我继承了一个用 WordPress 开发的网站（我只有基本的经验），并且我被要求编辑一个嵌入到永久链接页面的 YouTube。我可以使用 WP Dashboard 上的页面列表找到有问题的页面，但是当我去编辑内容时 - 没有显示 HTML 供我编辑，每个框（大框和 3 个“附加内容”框）都是空的。

似乎也没有任何类别或帖子（这是一个小型的新网站）。

注意我目前使用的是 WordPress 3.1。

有什么想法或建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T12:45:14.030

您应该检查您的插件以确保您的视频没有被插件处理。如果您知道情况并非如此，则视频嵌入是通过模板处理的。转到您通常会编辑页面内容的位置，然后在屏幕右侧查看称为页面属性的侧边栏。在该侧栏中，您应该类似于以下部分：父级、模板、订单。在模板部分下，查看页面正在使用的模板的名称。

现在启动 FTP，或者您将用来访问网站文件的任何东西，并检查 /wp-content/themes/default 文件夹中是否有一个与您在编辑页面上看到的模板名称相似的文件。所以说模板名称是 Super Amazing Template，文件看起来像 super_amazing_template.php。

检查该页面以处理视频嵌入。

不过，这实际上只是对如何解决问题的猜测。由于它是wordpress，因此有很多不同的可能性。如果这没有帮助，屏幕截图可能会有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T13:59:22.497

同意 Austin，这很可能在页面模板中处理。确保您编辑的模板页面中声明的名称与 WordPress 编辑器下拉菜单中的模板值匹配。此处显示的模板名称由实际模板页面的 PHP 顶部的注释控制。

它看起来像这样：

```
<?php /*
* Template Name: Value from the dropdown menu here
*/
?> 
```

# tabs - 如何在 Windows8 上创建 TabMenu？

> ID：12330726
> 
> 赞同：-1
> 
> 时间：2012-09-08T12:28:04.713
> 
> 标签：tabs, microsoft-metro

我想在 Windows8 上创建选项卡，例如使用 TopAppBar 在 iOS 上的 UITabBar。请告诉我 ！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T12:41:21.047

Windows 8 中有 AppBar，可以替代 UITabBar。 [这](http://code.msdn.microsoft.com/windowsapps/XAML-AppBar-control-sample-2aa1cbb4)是示例

如果你需要一些设计[指南](http://msdn.microsoft.com/en-us/library/windows/apps/hh770552)

# ruby-on-rails - 我应该在哪里存储常量数据，然后如何在 Rails 中引用它？

> ID：12330730
> 
> 赞同：11
> 
> 时间：2012-09-08T12:28:41.263
> 
> 标签：ruby-on-rails, ruby-on-rails-3, mongoid

我有一组数据，例如时间（早上 7:00、早上 7:30 等），我想在几个地方存储和引用这些数据。

1）我应该在哪里存储这些数据？我最初是在我的数据库中考虑的（我正在使用 mongoid），但我不确定这是否过度杀戮。

2）我将如何去引用它？比方说，从下拉菜单中。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T13:04:51.280

在这种情况下，我`Constants`在 lib 中创建了一个模块：

```
module Constants
  SCHEDULER_STEPS = %w( 7:00am 7:30am )
end 
```

然后我可以在任何需要的地方访问它：

```
Constants::SCHEDULER_STEPS 
```

注意：请务必`libs`在配置文件中添加到您的自动加载路径。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T13:25:15.317

我更喜欢将这类数据放在与其最密切相关的模型上。例如，如果您的示例中的时间是运行备份的时间，请将它们`Backup`与备份相关的其余行为一起放入模型中：

```
# app/models/backup.rb
class Backup < ActiveRecord::Base
  AVAILABLE_RUN_TIMES = %w{7:00am 7:30am ...}

  def run_at=(date)
    BackupSchedule.create(self, date)
  end
end

# app/views/backups/_form.html.erb
<%= select_tag(:run_at, options_for_select(Backup::AVAILABLE_RUN_TIMES)) %> 
```

我也使用了“大桶常量”方法，但只有在确实没有更多相关的地方让常量存在时，我才会使用它。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-08T14:00:56.850

对于这种要求，我更喜欢

**1）**创建一个`config/app_constants.yml`

代码在这里

```
production:
  time_list: "'7:00am','7:30am','7:40am'"
test:
  time_list: "'7:00am','7:30am','7:40am'"
development:
  time_list: "'7:00am','7:30am','7:40am'" 
```

**第二次**创建下`lib/app_constant.rb`

```
module AppConstant
  extend self

  CONFIG_FILE = File.expand_path('../config/app_constants.yml', __FILE__)
  @@app_constants = YAML.load(File.read(CONFIG_FILE))
  @@constants = @@app_constants[Rails.env]

  def get_time_list
    @@constants['time_list'].split(',')
  end
end 
```

**第三**调用它像任何地方

```
AppConstant.get_time_list #will return an array 
```

有了这个，您只需在一个干净的地方（`app_constants.yml`）进行更改，并将在您使用的任何地方反映整个应用`AppConstant.get_time_list`程序

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-08T20:37:17.827

我最终使用以下代码在“/config/initializers”中创建了一个“global_constants.rb”文件：

```
module Constants
    BUSINESS_HOURS = ["6:00am","6:15am","6:30am","6:45am","7:00am"]
end 
```

然后我用 调用数据`Constants::BUSINESS_HOURS`，专门针对选择框，代码是：`<%= f.input :hrs_op_sun_open, :collection => Constants::BUSINESS_HOURS %>`

这里的许多答案似乎都是可行的，我怀疑它们都是做我需要的正确方法。

# asp.net - C# .NET 4.0 中的 URL 重写

> ID：12330733
> 
> 赞同：1
> 
> 时间：2012-09-08T12:29:20.967
> 
> 标签：asp.net, c#-4.0, url-rewriting, url-routing

以下是我在 globle.asax.cs 文件上的代码：

```
 public static void RegisterRoutes(RouteCollection routeCollection)
    {            
        routeCollection.MapPageRoute("Account", "home", "~/Default.aspx");
        routeCollection.MapPageRoute("logout", "account", "~/Account.aspx");
        routeCollection.MapPageRoute("Doccat", "dcat/{Id}", "~/Documents.aspx");
    } 
```

这适用于前两条路由并提供以下 URL： [http://localhost.com/home](http://localhost.com/home) http://localhost.com/about

最后一个使用我的自定义类别 ID 提供以下 URL： [http ://localhost.com/dcat/1](http://localhost.com/dcat/1)

到目前为止还不错，但是当我有“http://localhost.com/dcat/1”这个 URL 时，它会将 /dcat 作为一个文件夹，并且所有链接都进入该网站的目录中。例如 ， [http](http://localhost.com/dcat/home) ://localhost.com/home更改为[http://localhost.com/dcat/home](http://localhost.com/home) ，这会影响站点中图像、css 和所有的所有路径。

请任何人帮助我，这现在太成问题了。

# wpf - 模型属性更改通知

> ID：12330736
> 
> 赞同：1
> 
> 时间：2012-09-08T12:29:41.933
> 
> 标签：wpf, data-binding, properties, model, notifications

> **可能重复：**
> [为什么绑定更新而不实现 INotifyPropertyChanged？](https://stackoverflow.com/questions/7767218/why-does-the-binding-update-without-implementing-inotifypropertychanged)

我有 WPF：

```
 <TextBlock Grid.Row="0" Text="{Binding SomeProperty}" />
    <TextBox Grid.Row="1" Text="{Binding SomeProperty, UpdateSourceTrigger=PropertyChanged}" /> 
```

势必

```
MyModel1 类
{
    字符串_someProperty = string.Empty;
    公共字符串 SomeProperty
    {
        得到 { 返回 _someProperty; }
        设置 { _someProperty = 值；}
    }
}

```

它也适用于：

```
    类 MyModel
        {
            公共字符串 SomeProperty { 获取；放; }
        }

```

如您所见，没有属性更改通知，但在我输入 TextBox 时，TextBlock 已更新。我正在使用 Visual C# express 2010、标准 WPF 应用程序项目模板、标准控件、无代码片段、没有任何附加内容，以及 .NET 4 客户端配置文件。

*   问题1：它为什么有效？
*   问题 2：这是 .NET 4 的新功能吗？
*   问题 3：如何在不在模型中实现任何事件的情况下从代码中获取有关属性更改的通知？

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T12:38:48.590

1 如果可行，WPF 的数据绑定引擎将数据绑定到`PropertyDescriptor`实例，如果源对象是普通 CLR 对象并且不实现 INotifyPropertyChanged 接口，则该实例包装源属性。

`PropertyDescriptor.AddValueChanged()`方法允许订阅通知。

更改未按需要同步，我们使用`INotifyPropertyChanged`以自定义此方面。

2 你可以阅读这篇文章，这很有趣

链接：http: [//msdn.microsoft.com/en-us/library/bb613588.aspx](http://msdn.microsoft.com/en-us/library/bb613588.aspx)

# java - 在处置前禁用框架

> ID：12330738
> 
> 赞同：1
> 
> 时间：2012-09-08T12:30:14.460
> 
> 标签：java, multithreading, swing, jframe, dispose

```
if("Back".equals(e.getActionCommand()))
{
    escape.setVisible(false);
    paused = false;
    running = !running;
    Graphics g = start.getGraphics();
    g.dispose();
    Component glassPane = start.getGlassPane();
    glassPane.setVisible(!glassPane.isVisible());
    Main.main(null);
    Main.running = true;
    start.dispose();
} 
```

这是我的代码，用于禁用我的 jframe、加载一个新的并处理它。每当我这样做时，当我返回框架时，我会收到奇怪的图形错误。 ![图形错误之一！](../Images/b87e22854ec15a4440d41ec0a6f9b026.png)

如何完全关闭框架？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T12:43:17.377

*   例如创建`private`/ `public`（取决于您的代码设计）变量`JFrame`

*   那么你就不必费心处理可见的`JFrame`然后重新创建一个新的

*   创建`class`或`local instace`返回`JPanel`游戏内容

*   打电话`JFrame#getContentPane#removeAll(`）

*   称呼`JFrame#getContentPane#add(new GamePanel())`

*   也许有最简单的方法可以将任何内容（取决于您的代码设计）重置为 start_up 状态

# objective-c - iPod 库更改时是否有通知？

> ID：12330739
> 
> 赞同：1
> 
> 时间：2012-09-08T12:30:30.010
> 
> 标签：objective-c, ios, nsnotifications, mpmediaitem

我想为 iPod 库中的音乐缓存我的自定义项目选择器，但我需要知道何时刷新它（例如在 iTunes 同步之后或用户通过 iTunes 商店购买新项目时）。

我可以收到任何通知来处理音乐库的更改吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T12:32:39.680

我自己找到了。通知被调用`MPMediaLibraryDidChangeNotification`并在[MPMediaLibrary 类参考](http://developer.apple.com/library/ios/#DOCUMENTATION/MediaPlayer/Reference/MPMediaLibrary_ClassReference/Reference/Reference.html)中进行了描述。

# haskell - Haskell 在函数定义中使用 Eq=>

> ID：12330741
> 
> 赞同：0
> 
> 时间：2012-09-08T12:31:17.460
> 
> 标签：haskell

我有一个包含抽象数据类型作为参数的函数。为了让我能够等同于我使用的这种抽象数据类型：

```
myfunction:: Eq x=> [x]->[x]->[x] 
```

所以它接受两个 x 列表，并输出一个 [x] 列表

但是，当我从另一个函数调用它时：

```
anotherfunction::[x] -> [x] -> [x]
anotherfunction a b = myfunction a b 
```

它说

> 在表达式 myfunction ab 中没有使用 myfunction 产生 (Eq x) 的实例

但是，如果我从控制台调用 myfunction ，则使用两个参数可以正常工作。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-08T12:33:55.010

`Eq`在类型中使用`anotherfunction`。

```
anotherfunction::Eq x => [x] -> [x] -> [x]
anotherfunction a b = myfunction a b 
```

`myfunction`仅适用于类中的`Eq`类型。但是您当前对`anotherfunction`声明的定义它可以与任何类型一起使用。如果您使用*不在*类中`anotherfunction`的类型进行调用，这将导致问题- 它无法调用.*`Eq``myfunction`*

 ** * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T13:01:20.577

`myfunction:: Eq x=> [x]->[x]->[x]`

这里 x 必须有一个 Eq 类的实例声明。

```
anotherfunction::[x] -> [x] -> [x]
anotherfunction a b = myfunction a b 
```

这里`myfunction`假定类型 of`a`和`b`to 属于`Eq`类，但类型 of`anotherfunction`没有这样的约束。

正确的方法是也指定这个约束`anotherfunction`。

```
anotherfunction:: Eq x => [x] -> [x] -> [x]
anotherfunction a b = myfunction a b 
```

如果您有任何困惑，最简单的方法是不给任何类型`anotherfunction` 并在 ghci 中加载文件并查看推断的类型`anotherfunction`。

```
> :t anotherfunction 
anotherfunction :: Eq x => [x] -> [x] -> [x] 
```

ghc 将推断出最通用的类​​型，因此如果您希望类型更具体，那么最好为 x 提供显式类型。像

```
anotherfunction :: [Int] -> [Int] -> [Int] 
```

此处`Eq`实例 for`Int`已经定义，因此您不会收到任何错误。因此，如果您将多态类型分配`x`给任何特定类型，那么您只需要确保它具有受约束类的实例。*

# c++ - 斑点跟踪算法

> ID：12330745
> 
> 赞同：9
> 
> 时间：2012-09-08T12:32:15.323
> 
> 标签：c++, opencv, computer-vision, tracking

我正在尝试使用 OpenCV 创建简单的 blob 跟踪。我已经使用 findcontours 检测到了这些斑点。我想给这些 blob 一个常量 ID。

我已经收集了前一帧和当前帧中的 blob 列表。然后我取了前一帧中每个 blob 和当前帧之间的距离。我想知道还需要什么来跟踪 blob 并给它们一个 ID。我只是获取了前一帧和当前帧 blob 之间的距离，但是如何使用 blob 之间的测量距离为 blob 分配一致的 ID？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-08T12:44:50.910

在第一帧中，您可以以任何方式分配 id，1 表示您找到的第一个，2 表示第二个......或者只是根据他们在集合中的位置给他们 ID。

然后在下一帧你将不得不使用最佳匹配。找到 blob，计算当前 blob 与前一个图像的所有 blob 之间的所有距离，并将每个前一个 ID 分配给最近的 blob。刚刚进入该字段的 Blob 将获得新的 ID。

现在你有两帧，你可以对下一帧进行运动预测。只需计算 blob 的先前位置和当前位置之间的 deltaX 和 deltaY。您可以使用此信息来猜测未来的位置。匹配这个未来的位置。

如果您没有太多重叠的 blob，并且每个帧之间的移动不是太快且不稳定，这应该可以工作。

通过多张图像使用评分系统可能会更准确：
获取前 3 或 5 张图像的位置。对于第一帧的任何斑点，在第 2 帧上寻找最近​​的斑点，计算速度（deltaX deltaY），寻找最接近第 3、4、5 帧的预测位置...总结预测位置和最近斑点之间的所有距离成为分数。使用第 2 帧上的第 2 个最近点执行相同操作（它将向另一个方向搜索）。分数越低，它最有可能是好的 blob。

如果你有很多 blob，你应该使用四叉树来加速进程。比较平方距离；它将避免大量的 sqrt 计算。

重要的是要知道您的 blob 通常如何移动以调整您的算法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-08T13:09:28.440

这是一个 Blob 跟踪的 OpenCV 代码示例：

```
#include "stdafx.h"

#include <opencv2\opencv.hpp>

IplImage* GetThresholdedImage(IplImage* img)
{
    // Convert the image into an HSV image
    IplImage* imgHSV = cvCreateImage(cvGetSize(img), 8, 3);
    cvCvtColor(img, imgHSV, CV_BGR2HSV);

    IplImage* imgThreshed = cvCreateImage(cvGetSize(img), 8, 1);

    // Values 20,100,100 to 30,255,255 working perfect for yellow at around 6pm
    cvInRangeS(imgHSV, cvScalar(112, 100, 100), cvScalar(124, 255, 255), imgThreshed);

    cvReleaseImage(&imgHSV);

    return imgThreshed;
}

int main()
{
    // Initialize capturing live feed from the camera
    CvCapture* capture = 0;
    capture = cvCaptureFromCAM(0);  

    // Couldn't get a device? Throw an error and quit
    if(!capture)
    {
        printf("Could not initialize capturing...\n");
        return -1;
    }

    // The two windows we'll be using
    cvNamedWindow("video");
    cvNamedWindow("thresh");

    // This image holds the "scribble" data...
    // the tracked positions of the ball
    IplImage* imgScribble = NULL;

    // An infinite loop
    while(true)
    {
        // Will hold a frame captured from the camera
        IplImage* frame = 0;
        frame = cvQueryFrame(capture);

        // If we couldn't grab a frame... quit
        if(!frame)
            break;

        // If this is the first frame, we need to initialize it
        if(imgScribble == NULL)
        {
            imgScribble = cvCreateImage(cvGetSize(frame), 8, 3);
        }

        // Holds the yellow thresholded image (yellow = white, rest = black)
        IplImage* imgYellowThresh = GetThresholdedImage(frame);

        // Calculate the moments to estimate the position of the ball
        CvMoments *moments = (CvMoments*)malloc(sizeof(CvMoments));
        cvMoments(imgYellowThresh, moments, 1);

        // The actual moment values
        double moment10 = cvGetSpatialMoment(moments, 1, 0);
        double moment01 = cvGetSpatialMoment(moments, 0, 1);
        double area = cvGetCentralMoment(moments, 0, 0);

        // Holding the last and current ball positions
        static int posX = 0;
        static int posY = 0;

        int lastX = posX;
        int lastY = posY;

        posX = moment10/area;
        posY = moment01/area;

        // Print it out for debugging purposes
        printf("position (%d,%d)\n", posX, posY);

        // We want to draw a line only if its a valid position
        if(lastX>0 && lastY>0 && posX>0 && posY>0)
        {
            // Draw a yellow line from the previous point to the current point
            cvLine(imgScribble, cvPoint(posX, posY), cvPoint(lastX, lastY), cvScalar(0,255,255), 5);
        }

        // Add the scribbling image and the frame... and we get a combination of the two
        cvAdd(frame, imgScribble, frame);
        cvShowImage("thresh", imgYellowThresh);
        cvShowImage("video", frame);

        // Wait for a keypress
        int c = cvWaitKey(10);
        if(c!=-1)
        {
            // If pressed, break out of the loop
            break;
        }

        // Release the thresholded image... we need no memory leaks.. please
        cvReleaseImage(&imgYellowThresh);

        delete moments;
    }

    // We're done using the camera. Other applications can now use it
    cvReleaseCapture(&capture);
    return 0;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T13:37:29.383

您可以使用[cvblobslib](http://opencv.willowgarage.com/wiki/cvBlobsLib)库进行斑点检测...

1.  如果您的帧间 blob 移动小于 blob 间距离..即 blob 位移小于 blob 间距离，那么您可以创建一个列表并继续在每个当前帧中添加 blob，这些 blob 位于 blob 附近在上一帧...
2.  如果您的 blob 具有一些恒定的特征，例如椭圆度...纵横比（在将边界框拟合到它之后），您可以将具有这些特征的 blob 分组到一个列表中。

# php - 使用来自服务器的 HTML/js 在网页上显示图像

> ID：12330747
> 
> 赞同：0
> 
> 时间：2012-09-08T12:32:52.187
> 
> 标签：php, javascript, html

我必须在我的网页上显示一些存储在我的服务器上的图像。没有。图像数量不固定，所以我很困惑我应该如何在客户端代码中构造标签以在 HTML 或 javascript 中显示这些图像。我正在 PHP 中尝试这个，但它不起作用：-

```
foreach(glob($strPath."/".$FileName."/*.jpg") as $f)
{
echo "<img src='../MyPP/".$f."'/>";
} 
```

它什么也不显示，我无法在 JS 中获取图像进行操作。我认为这不是很困难的问题，但我是网络新手，所以我对 HTML 和 JS 了解不多。请建议在 HTML/JS 中执行此操作的最简单方法（如果可能，请避免使用 ajax/jquery 等）。我真的很感激任何帮助。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T12:39:23.563

尝试;

```
foreach(glob($strPath."/".$FileName."/") as $f){
    echo "<img src='../MyPP/".$f.".jpg'/>";
} 
```

# wordpress - 评论按钮 wordpress

> ID：12330752
> 
> 赞同：3
> 
> 时间：2012-09-08T12:33:54.557
> 
> 标签：wordpress, button, comments

我正在编辑我的网站以添加评论按钮和查看评论按钮。

我调用 PHP wordpress 函数但不起作用。

我正在添加按钮来代替 Jetpack sharedaddy 模块。

这是代码：

```
$sharing_content .='<a style="margin-left:2px; font-weight:bold;" class ="comentar" href="<?php comments_link(); ?>">Add a comment</a>';

$sharing_content .='<a style="margin-left:5px; font-weight:bold;" class ="comentar" href="<?php wp_list_comments(); ?>">View comments</a>'; 
```

php模块的包含：

```
include_once dirname( __FILE__ ).'/sharing-sources.php'; 
```

我认为这不会运行，因为我没有添加 php wordpress 函数的包含。

有什么帮助吗？:-S

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T13:00:59.610

2个问题-您的语法不正确，因为您不应该使用PHP的开始和结束标签，而是将其添加到变量中`$sharing_content`，因此您的语法应该是；

```
$sharing_content .='<a style="margin-left:2px; font-weight:bold;" class ="comentar" href="'. comments_link() .'">Add a comment</a>'; 
```

当前帖子的评论的第一个链接应该有效。但是，您的第二个链接根本不起作用，您只是停留`wp_list_comments();`在 href 值中。 `wp_list_comments();`将用于在模板中显示当前帖子的所有评论，而不是链接到它们。我建议您的 href 值应该是帖子的 url，在那里可以查看评论；

```
$sharing_content .= '<a style="margin-left:5px; font-weight:bold;" class ="comentar" href="'. the_permalink() .'">View comments</a>'; 
```

# c++ - boost asio 和 c++11 是不是很搭？

> ID：12330758
> 
> 赞同：7
> 
> 时间：2012-09-08T12:34:48.950
> 
> 标签：c++, sockets, c++11, boost-asio

我的一个客户希望我制作一个高性能、可靠的服务器，通过套接字接收数据流。他希望它在 c++ 中

我一直在全职做 C++，所以我一直在阅读。Asio 似乎是 c++ 网络的一个不错的选择，而 c++11 似乎是一个很棒的 c++ 新版本，具有许多新功能。

我的问题：是否可以可靠地使用两者？是否有意义？我应该避免某些 c++11 功能，如 lambdas 吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-08T12:39:49.960

您可以毫无问题地同时使用它们两个。对于在 Boost 和 C++11 STL 中实现的东西，您可以选择使用哪个。在大多数情况下，它几乎没有什么区别。如果您使用 Boost，那么您也可以移植到 C++03 平台（至少，如果它不直接使用 C++11 功能，您的那部分代码将是）。

Boost 经过精心设计，能够在可用的地方利用 C++11 特性，而不必提供“愚蠢的”接口或性能不佳来支持它们不可用的地方。

如果你需要好的异步 I/O，你需要一些库来提供它。无论您是否使用 C++11，Boost 都很难被击败。

如果您的问题是“是否有某些特定原因我不想将 Boost 与 C++11 或 C++11 与 Boost 一起使用”，答案是否定的。如果您需要 Boost 提供的某些功能，例如 asio，并且只需要支持 C++11 平台，那么它们非常适合您的应用程序。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-08T12:46:05.710

我将主要基于您计​​划的目标编译器的“要避免的 C++11 功能”。我认为没有任何理由避免使用 lambda——所有主要编译器都已经支持它们，并且它们在可读性方面提供了实质性的改进。

另一方面，根据您关心的编译器，您可能希望/需要避免诸如可变参数模板和/或大括号初始化列表之类的事情。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-09-08T13:47:19.067

看，boost.asio 是用于事件驱动编程的网络库 - 大量回调，C++11 lambda 使得编写回调非常容易。

基本上 C++11 和 Asio 的结合使开发变得更加容易，并使您的代码更加干净和可读

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-09T19:19:19.907

asio[文档](http://www.boost.org/doc/libs/1_51_0/doc/html/boost_asio/overview/cpp2011.html)特别提到了 c++11 支持

# django - django 表单渲染

> ID：12330766
> 
> 赞同：1
> 
> 时间：2012-09-08T12:35:18.867
> 
> 标签：django, forms

我建了一个django表单，简单摘录如下：

```
attachuploadediso = forms.BooleanField(label='Attach uploaded ISO', required=False)
detachuploadediso = forms.BooleanField(label='Detach uploaded ISO', required=False)
extractuploadediso = forms.BooleanField(label='Extract uploaded ISO', required=False) 
```

然后我在我的模板中呈现表单，如下所示：

```
{% block mainbody %}
<form class = "mf" action="/form/" method="post">{% csrf_token %}
{{ form.errors }}
{{ form.non_field_errors }}
{{ form.label_tag }} {{ form.as_p  }}
<input type="submit" value="Submit" />
</form>
{% endblock %} 
```

复选框出现在标签文本之后。有没有办法让复选框出现在一行中，这样表单看起来格式更好？或者有没有办法更好地控制表单的布局？我使用了 form.as_table，但是如果我在表中呈现表单，我的 jquery 会中断。

简而言之，我想

（标签）附加上传的 ISO .............................（复选框）

（标签）分离上传的 ISO .............................（复选框）

（标签）提取上传的 ISO .............................（复选框）

当表单被渲染以使复选框都排成一行时，如何更好地控制布局？

谢谢 - 奥利

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T12:53:23.997

您可以在表单中单独呈现每个字段并控制外观。每个字段都有可以呈现为的标签，`{{field.label_tag}}`字段输入为`{{field}}`.

[来自Django 表单文档](https://docs.djangoproject.com/en/dev/topics/forms/#looping-over-the-form-s-fields)的更多详细信息

```
<form action="/contact/" method="post">
{% for field in form %}
    <div class="fieldWrapper">
        {{ field.errors }}
        {{ field.label_tag }}: {{ field }}
    </div>
{% endfor %}
<p><input type="submit" value="Send message" /></p>
</form> 
```

# excel - Excel 2003 宏：跨多个不同工作簿聚合数据

> ID：12330768
> 
> 赞同：0
> 
> 时间：2012-09-08T12:35:50.823
> 
> 标签：excel, vba

我想使用 excel 2003 为一组 excel 文件创建一个宏，在其中我只能将需要查看的数据聚合到一个 s/s 中；唯一的问题是我不知道从哪里开始。我在工作中使用一个目录，我将大约 15-20 excel s/s' 保存到一个带有每日日期标签的文件夹中。为了加快我们必须查看每个 s/s 的日常过程，请在工作簿中搜索正确的选项卡（有时该特定日期不存在），按数据过滤器排序，并对照识别码列表进行检查；我宁愿在宏中创建它。所以我正在寻找宏以在目录中打开今天的日期文件夹，找到正确的标签选项卡（我们称之为 NYK123），打开每个文件以匹配 id 代码（在 H 列中）和部门代码（在 J 列中）反对我在原始 s/s 上的桌子，并在原始 s/s 上显示结果。此外，新问题的整行字体为红色，需要在原始 s/s 中显示。你们可以提供的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T11:42:22.817

让你开始：

```
Dim oFSO As New Scripting.FileSystemObject

Dim fsoFile As Scripting.file
Dim fsoFolder As Scripting.Folder

Dim sReportsFolder As String: sReportsFolder = "C:\temp\"

Set fsoFolder = oFSO.GetFolder(sReportsFolder)

For Each fsoFile In fsoFolder.Files

   Dim xlWorkbook As New Workbook
   Set xlWorkbook = Workbooks.Open(fsoFile.Name)

   Dim xlWorksheet As Worksheet
   Set xlWorksheet = xlWorkbook.Sheets("Sheet1")

   ' put your logic here...

Next 
```

**警告：从内存中写入，应该编译**

# ruby-on-rails-3.1 - 在 ubuntu 11.04 中卸载 rails 3.2.8

> ID：12330769
> 
> 赞同：1
> 
> 时间：2012-09-08T12:36:02.070
> 
> 标签：ruby-on-rails-3.1, ruby-on-rails-3.2, ubuntu-11.04

我需要从 rails 3.2 降级到 3.0。所以我想我可能需要先卸载 3.2，然后重新安装 3.0。我尝试使用 sudo gem uninstall rails。但是如果我输入 rails -v 它仍然显示 Rails3.2.8 .. 但是当我去 rails 应用程序的位置然后输入 rails -v 它显示

**“在任何源中找不到 rails-3.2.8 运行`bundle install`以安装丢失的 gem。”**

请帮助我如何降级

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T12:43:09.897

~~我不使用 Ruby on Rails，所以我不是 100% 确定它，但是如何使用“Ubuntu 风格”呢？~~

 ~~```
$ sudo apt-get remove rails 
```~~  ~~**编辑**：似乎有人已经回答了这个问题：[https](https://stackoverflow.com/a/12204468/1261527) ://stackoverflow.com/a/12204468/1261527 :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T12:44:59.293

您实际上并没有“降级”rails，您只需将该版本放入您的 Gemfile 中，然后运行`bundle`​​.

如果您的机器上已经存在该版本，则捆绑包只会“使用”它来组合您的 Rails 应用程序。如果没有，它将出去并获取该特定版本，将其安装在您的计算机上，然后将其用于该项目。

新版本一直在出现，所以一段时间后大多数机器都有几个版本，当然不同的开发人员可能有不同的版本，所以在里面指定它`Gemfile`是非常有用的。

最近（Rails`3.2.x`版本之一）添加了在 Gemfile 中实际指定 Ruby 版本本身的功能。我认为这是对 bundler 本身的改变。

为了帮助管理整个版本，大多数人最近喜欢使用 RVM（或 rbenv，一个替代方案）来管理所有版本。

您也可以使用 安装特定版本`gem install rails -vX.X.X`，然后 bundler 将只使用它（如果 bundle 离线运行时很有用）。

最后，您的`rails -v`命令将显示您机器上当前的 rails 版本——但这可能并且经常与给定项目的 Gemfile 中的版本不同。~~

# c# - 在后面的代码中更改 GridView 的 DataTemplate

> ID：12330770
> 
> 赞同：1
> 
> 时间：2012-09-08T12:36:05.317
> 
> 标签：c#, windows-8, windows-runtime, winrt-xaml

我在 App.xaml 中定义了具有不同名称（temp1、temp2、temp3）的不同数据模板。现在我想将这些模板应用到 GridView。

所以我正在使用

```
GridV.ItemTemplate = (DataTemplate)FindName("temp1"); 
```

其中 GridV 是 GridView 的名称。但现在我没有得到正确的输出。我只得到项目的类型，而不是链接到数据模板的信息。我现在能做什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T15:11:03.720

如果您在 App.xaml 的资源字典中声明了模板，那么您可以在 GridView 上检索和设置它们，如下所示：

GridV.ItemTemplate = (DataTemplate)App.Current.Resources["temp1"];

# testing - Joel Test 的规范，是什么意思？

> ID：12330772
> 
> 赞同：1
> 
> 时间：2012-09-08T12:36:33.887
> 
> 标签：testing, specifications

Joel Test 有几个术语。其中之一是

*   `Do you have a spec?`

它指的是什么样的规范？它指的是`Software Requirements Specification (SRS)`?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:59:20.490

根据我的 QA 经验，我可以肯定地认为 Joel Test 中的规范被认为是一种功能规范：规范 *最重要的功能是设计程序。即使您自己编写代码，并且编写规范只是为了您自己的利益，编写规范的行为——详细描述程序的工作方式——也会迫使你实际设计程序。(c) 乔尔。... 巨大的第二个原因是为了节省沟通时间。当你编写一个规范时，你只需要传达程序应该如何工作一次。(c) Joel*

您可以在[此处](http://www.joelonsoftware.com/articles/fog0000000036.html) 和[此处](http://www.joelonsoftware.com/articles/fog0000000043.html)找到其他详细信息（第 7 点）。

因此，从我的 QA 经验中添加一些信息，有时您会遇到以下情况：有时测试活动可能在一个应用程序已经开发后才开始，并且在某些扩展上我应该说是在没有任何规范的情况下开发的。在这种情况下，您无法执行任何测试活动，因为您不知道系统的预期行为，这是由任何功能规范提供的。所以这个精彩的例子说明了为什么规范在 QA 和开发部门协作中如此重要）

# windows-phone-7 - LongListSelector 中没有分组的项目

> ID：12330775
> 
> 赞同：0
> 
> 时间：2012-09-08T12:37:54.423
> 
> 标签：windows-phone-7, data-binding, longlistselector

我想通过绑定到 LongListSelector 添加项目。这些项目不应该在一个组中，它们应该在列表的顶部。其他项目在组中。有什么办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T21:11:56.057

LongListSelector 仅支持在一个组中包含项目，或不在一个组中。您应该考虑在 LongListSelector 中使用带有标题项的单独列表`HeaderTemplate`。

# mfc - Adobe Reader 插件和 MFC

> ID：12330776
> 
> 赞同：1
> 
> 时间：2012-09-08T12:37:58.120
> 
> 标签：mfc, adobe-reader

我正在开发一个 Adob​​e Reader 插件并希望自定义它的 UI。我可以将用 MFC 编写的自定义面板添加到 Adob​​e Reader 主框架吗？

# android - Android根应用程序回显不适用于设备驱动程序

> ID：12330779
> 
> 赞同：1
> 
> 时间：2012-09-08T12:38:29.597
> 
> 标签：android, bash, terminal

我目前正在尝试将数据写入我在手机上运行的 HID 驱动程序。如果我在 shell（通过 adb）中运行以下命令，`echo -e \\x00\\x00\\x07\\x04\\x00\\x00\\x00 > /dev/hidg0 && echo -e \\x00\\x00\\x00\\x00\\x00\\x00\\x00 > /dev/hidg0`则在连接到设备的计算机上键入正确的字符，在这种情况下是 da。但是，如果我像这样在 android 应用程序中发送相同的命令

```
Runtime shell = Runtime.getRuntime();
Process p = shell.exec("su");
DataOutputStream out = new DataOutputStream(p.getOutputStream());
out.writeBytes("echo -e \\x00\\x00\\x07\\x04\\x00\\x00\\x00 > /dev/hidg0 && echo -e \\x00\\x00\\x00\\x00\\x00\\x00\\x00 > /dev/hidg0\n"); 
```

打印了 2 个单引号，但仅此而已。我已经证明该应用程序通过将文件写入只能由 root 访问的位置来获得 root 权限。

那么为什么像这样的命令在 shell 中的行为方式与抛出进程类的方式不同呢？是否有人对我应该如何将数据发送到我的设备驱动程序有任何建议？

谢谢阿德里安

PS我也尝试过`shell.exec("echo -e \\x00\\x00\\x07\\x04\\x16\\x06\\x00 > /dev/hidg0 && echo -e \\x00\\x00\\x00\\x00\\x00\\x00\\x00 > /dev/hidg0");`，但这没有给我任何东西

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T14:13:07.553

在 Java 处理流之后，shell 会看到以下命令：

```
echo -e \x00\x00\x07\x04\x00\x00\x00... 
```

即，Java 自己处理双反斜杠。您需要添加另一组转义反斜杠，以便 shell 实际看到一个转义反斜杠。你可以做

```
out.writeBytes("echo -e \\\\x00\\\\x00...") 
```

但这看起来很可怕。只需将带引号的字符串传递给shell

```
out.writeBytes("echo -e '\\x00\\x00\\x07\\x04\\x00\\x00\\x00' > /dev/hidg0 && echo -e '\\x00\\x00\\x00\\x00\\x00\\x00\\x00' > /dev/hidg0\n"); 
```

# windows-8 - 屏幕右侧的应用栏按钮 Windows 8 Metro 风格应用

> ID：12330781
> 
> 赞同：1
> 
> 时间：2012-09-08T12:38:52.000
> 
> 标签：windows-8

我正在使用 html、javascript 和 css 开发 Metro 风格的 Windows 8 应用程序。

我在我的应用程序底部使用应用程序栏。以下是 html 代码。

```
<div id="appbarbottom" data-win-control="WinJS.UI.AppBar" data-win-options="{layout:'custom',placement:'bottom'}">
    <button id="playerBut" data-win-control="WinJS.UI.AppBarCommand" data-win-options="{section:'global',label:'Player', icon:'placeholder',type:'flyout',flyout:sportsFlyout}" type="button"></button>

</div> 
```

我阅读了官方文档，它说它`section:'global'`将使按钮位于右侧。我这样做了，但没有效果。

我试过了，`section:'selection'` 但按钮仍然在左侧

我已经寻找替代解决方案，但每个人都说同样的话，所以我怎样才能实现我的目标。请帮我一把。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:12:48.397

我已经 `'layout:custom'`从`data-win-options="{layout:'custom',placement:'bottom'}`

的`data-win-control="WinJS.UI.AppBar"` ，它解决了我的问题。

我几乎在这上面浪费了 4 个小时。

我希望这对其他人有帮助。

谢谢。

# php - 链接到页面并使用链接打开切换

> ID：12330782
> 
> 赞同：1
> 
> 时间：2012-09-08T12:38:54.073
> 
> 标签：php, hyperlink, toggle

我试图在我的主页上有一个链接，该链接将链接到包含多个切换的服务页面。我想根据他们在主页上选择的链接打开一个特定的切换。

这是我主页上指向服务页面的链接（我知道在 /services 之后我需要一些东西来告诉函数打开切换）：

```
<a href="http://www.debdweb.com/test/services">Go to Service 1 (open)</a> 
```

这是我在服务切换页面上针对其中一个切换的内容：

```
<div class="service-box">
    <div class="separator8"></div>
    <ul class="service_list">
        <li>
            <h6><a href="#Service1" class="toggle-link tog1">Service 1</a></h6>
            <div class="sub-text" id="Service1">
                Curabitur faucibus magna at leo commodo sed cursus dui posuere.
                Praesent ornare, leo et aliquet tempus, orci orci luctus leo.
            </div>
        </li>
    </ul>
</div> 
```

所以我认为我需要的是放入标题以打开链接上的“传入”切换的功能。我尝试了各种功能，但我不太擅长。任何帮助将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T13:22:50.770

像这样格式化你的超链接：

`<a href="http://www.debdweb.com/test/services?id=1">Go to Service 1 (open)</a>`

并从 URL 中获取数字`$_GET['id']`

# twitter-bootstrap - 有没有办法使行类中的所有元素都具有相同的高度？

> ID：12330786
> 
> 赞同：20
> 
> 时间：2012-09-08T12:39:37.600
> 
> 标签：twitter-bootstrap

在 Bootstrap 中，是否有一种简单的方法可以使一行中的所有 span 元素具有相同的高度，即最高元素的高度？

这是我的意思的一个例子。

[http://jsfiddle.net/DVnZ6/](http://jsfiddle.net/DVnZ6/)

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-09-08T12:42:19.650

你可以使用 jQuery 来做到这一点：

```
boxes = $('.well');
maxHeight = Math.max.apply(
  Math, boxes.map(function() {
    return $(this).height();
}).get());
boxes.height(maxHeight); 
```

这是一个例子：http: [//jsfiddle.net/DVnZ6/3/](http://jsfiddle.net/DVnZ6/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-15T15:13:26.400

必须将调整大小事件添加到此代码中，因为在大多数情况下，内容的高度因不同的分辨率而异，并且会产生不必要的设计问题，例如溢出的文本。

这是一个更完整的代码版本，它也支持调整大小

```
jQuery(function () {

    equalMaxWidth = 500; /* Customize viewport width - for resolutions below this number, the height equalizing will not work */
    boxes = jQuery('.well');

    boxes.removeAttr('style');
    if(jQuery(window).width() > equalMaxWidth){
        equalBoxHeights(boxes);
    };

    window.onresize = function () {
        boxes.removeAttr('style');
        console.log( jQuery(window).width());
        if(jQuery(window).width() > equalMaxWidth){
            equalBoxHeights(boxes);
        };
    };
});

function equalBoxHeights(boxes) {
    maxHeight = Math.max.apply(
            Math, boxes.map(function () {
                return jQuery(this).height();
            }).get());
    boxes.height(maxHeight);
} 
```

检查 jsFiddle [http://jsfiddle.net/o4w7tjtz/上的演示](http://jsfiddle.net/o4w7tjtz/)

提示：尝试调整第三个垂直框架的大小（注意到大约 500pw 宽度的高度相等？）

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2013-02-07T14:56:26.323

如果将跨度的高度设置为 100%，并将行的高度设置为固定值，它们都将匹配容器的高度。

当然，您必须知道列的预期高度，但它是一个无 js 的解决方案。

# c# - 变量声明、初始化和非托管内存分配后清理

> ID：12330797
> 
> 赞同：0
> 
> 时间：2012-09-08T12:42:07.417
> 
> 标签：c#, .net

在定义变量、为它们分配空间、初始化它们然后正确清理所有内容时，我想就 C# 中的良好编程实践征求您的意见。

我目前面临的问题是，我有一个使用非托管 API 函数的函数，因此也访问了非托管内存（使用了编组）。我想让功能干净并在退出之前正确处理所有内容。但问题是，所有实际工作都是在*try-catch*块中完成的。这意味着我无法在*catch*或*finally*块中清理所有内容。

我所做的是声明所有变量，为它们保留内存并在进入函数后立即初始化它们，然后在*finally*块中清理所有内容（关闭句柄，释放内存，...）。

一切都很好，但我还希望在*try*块中完成变量声明、初始化和内存分配（例如，在初始化数组或在内存中分配空间或天知道在哪里时也会出错）。唯一想到的是嵌套两个*try-catch*块。这样可以吗，还是您会提出其他建议？

这是我到目前为止所拥有的：

```
//Declare variables, allocate memory, initialize variables.
........
try
{
    //Do actual work - write to file and read from a file in my case
    .........
}
catch (Exception exc)
{
    //Exception handler for file write/read errors
}
finally
{
    //Clean up (release handles, free memory,...)
} 
```

这就是我的想法：

```
try
{
   //Declare variables, allocate memory, initialize variables.
   ........
   try
   {
       //Do actual work - write to file and read from a file in my case
       .........
   }
   catch (Exception exc)
   {
       //Exception handler for file write/read errors
   }
}
catch (Exception exc_1)
{
    //Exception handler for variable declaration, initialization, memory allocation errors
}
finally
{
    //Clean up (release handles, free memory,...)
} 
```

提前感谢您的所有帮助！

干杯!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T12:50:09.717

您可以实现`IDisposable`接口以调用 Dispose 方法。

或者作为最佳实践使用块`using`

```
using (var variable = .....)
{

 ...

} 
```

使用块的特殊性是在处理结束时调用 Dispose 方法。

例如，如果您使用`SqlConnection`

```
var(var connection = new SqlConnection("...."))
{
....

} 
```

仅此代码就足够了

链接：http: [//msdn.microsoft.com/fr-fr/library/vstudio/system.idisposable.aspx](http://msdn.microsoft.com/fr-fr/library/vstudio/system.idisposable.aspx)

链接：http: [//msdn.microsoft.com/fr-fr/library/yh598w02%28v=vs.80%29.aspx](http://msdn.microsoft.com/fr-fr/library/yh598w02%28v=vs.80%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T13:12:11.783

您可以根据需要嵌套任意数量的`try...catch`结构。这是让代码自己负责清理的好方法。

还考虑使用 just`try`和`finally`用于始终需要清理的代码的结构，无论它是否正常：

```
try {

  // do something here

  // declare some variable
  try {
    // allocate space for variable
    // do something with that variable
  } fincally {
    // deallocate space for variable
  }

  // do something more here

} catch(Exception ex) {
  // handle the exception here
} 
```

您应该尝试使用尽可能具体的异常类，并且可以在同一结构中使用不同的类型来捕获不同的异常：

```
try {
  // do some i/o
} catch (IOException ex) {
  // here you know that it was actually the i/o that failed
} catch (Exception ex) {
  // here is for catching anything else that might have failed
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T13:00:31.293

这种方法的问题是变量在finally（和catch）中超出范围

```
 try
    {
        string testString;
    }
    catch (Exception ex)
    {
    }
    finally
    {
        // testString is not in scope
    } 
```

您担心声明可能会引发运行时错误？

根据评论 OP 不知道初始化可以与声明分开。

```
 List<string>  testLString;        
    try
    {
        testLString = new List<string>();
    }
    catch (Exception ex)
    {
    }
    finally
    {
        testLString = null;
    } 
```

我不同意您对声明可能引发运行时错误的担忧。
它除了声明什么都不做。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T13:15:45.400

我建议您创建一个单独的类型，它包含与非托管 API 的所有通信、管理内存等。它实现了接口，该`IDisposable`接口的实现负责清理所有非托管资源。如果你在 Windows 上，最简单的方法是在 C++/CLI 中实现这个包装器。

# jquery - 可排序的嵌套菜单可编辑元素

> ID：12330801
> 
> 赞同：0
> 
> 时间：2012-09-08T12:42:28.133
> 
> 标签：jquery, ajax

我有一个嵌套和可排序的菜单，我可以通过 ajax 将其更新到我的 mysql 数据库。我想知道是否可以添加每个可编辑元素的内容。我正在使用 David Bushell 的可嵌套代码：http: [//dbushell.github.com/Nestable/](http://dbushell.github.com/Nestable/)

* * *

感谢您的答复。我试过没有成功。这是我的代码：

```
 <?php

    /* Function menu_showNested
     * @desc Create inifinity loop for nested list from database
     * @return echo string
    */
    function menu_showNested($parentID) {
        global $connection;

        $sql = "SELECT * FROM menu WHERE parent_id='$parentID' ORDER BY rang";
        $result = mysql_query($sql, $connection);
        $numRows = mysql_num_rows($result);

        if ($numRows > 0) {
            echo "\n";
            echo "<ol class='dd-list'>\n";
                while($row = mysql_fetch_array($result)) {
                    echo "\n";

                    echo "<li class='dd-item' data-id='{$row['id']}'>\n";
                        echo "<div class='dd-handle'><span>{$row['id']}: {$row['name']}</span><input type='text' style='display:none;' /></div>\n";

                        // Run this function again (it would stop running when the mysql_num_result is 0
                        menu_showNested($row['id']);

                    echo "</li>\n";
                }
            echo "</ol>\n";
        }
    }

    ## Show the top parent elements from DB
    ######################################
    $sql = "SELECT * FROM menu WHERE parent_id='0' ORDER BY rang";
    $result = mysql_query($sql, $connection);
    $numRows = mysql_num_rows($result);

    echo "<div class='cf nestable-lists'>\n";
        echo "<div class='dd' id='nestableMenu'>\n\n";
            echo "<ol class='dd-list'>\n";

                while($row = mysql_fetch_array($result)) {
                    echo "\n";

                    echo "<li class='dd-item' data-id='{$row['id']}'>";
                        echo "<div class='dd-handle'><span>{$row['id']}: {$row['name']}</span><input type='text' style='display:none;' /></div>";

                    menu_showNested($row['id']);

                    echo "</li>\n";
                }

            echo "</ol>\n\n";
        echo "</div>\n";
    echo "</div>\n\n";

    // Feedback div for update hierarchy to DB
    // IMPORTANT: This needs to be here! But you can remove the style
    echo "<div id='sortDBfeedback' style='border:1px solid #eaeaea; padding:10px; margin:15px;'></div>\n";

    // Script output for debuug
    //echo "<textarea id='nestableMenu-output'></textarea>";

?> 
```

这是我的 .js 代码：

```
 <script>
        $(document).ready(function() {
        $('li div.dd-handle').dblclick(function(){
        text = $(this).find('span').text();
        $(this).find('input').val(text).show(0, function(){$(this).focus()});
        $(this).find('span').hide();
     });
        $('div.dd-handle input').focusout(function(){        
        text = $(this).val();
        $(this).parent().find('span').text(text).show(0, function(){$(this).focus()});
        $(this).hide();
     });
     });
    </script>   

     $(document).ready(function()
{

    /* The output is ment to update the nestableMenu-output textarea
     * So this could probably be rewritten a bit to only run the   menu_updatesort function onchange
    */

    var updateOutput = function(e)
    {
        var list   = e.length ? e : $(e.target),
            output = list.data('output');
        if (window.JSON) {
            output.val(window.JSON.stringify(list.nestable('serialize')));//, null, 2));
            menu_updatesort(window.JSON.stringify(list.nestable('serialize')));
        } else {
            output.val('JSON browser support required for this demo.');
        }
    };

    // activate Nestable for list menu
    $('#nestableMenu').nestable({
        group: 1
    })
    .on('change', updateOutput);

    // output initial serialised data
    updateOutput($('#nestableMenu').data('output', $('#nestableMenu-output')));

    $('#nestable-menu').on('click', function(e)
    {
        var target = $(e.target),
            action = target.data('action');
        if (action === 'expand-all') {
            $('.dd').nestable('expandAll');
        }
        if (action === 'collapse-all') {
            $('.dd').nestable('collapseAll');
        }
    });

    $('#nestable3').nestable();

});
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T13:34:57.940

尝试在输入标签中转换 div 内的文本，如下所示：

```
$('li div.dd-handle').dblclick(function(){
    text = $(this).text();
    $(this).html('<input type="text" value="'+text+'" />');
}); ... 
```

我认为更好的方法是创建一个隐藏在 div 内的输入和一个带有文本内容的跨度，然后更容易，您可以将相同的 div 内容传递给输入值并显示/隐藏输入，然后隐藏/显示跨度......
看看这个例子[http://jsfiddle.net/U8DU9/9/](http://jsfiddle.net/U8DU9/9/)

（更多答案尝试改进你的问题细节，我不确定我是否理解你想要的）

# c# - 在 SQL 表中插入多行时出错

> ID：12330803
> 
> 赞同：0
> 
> 时间：2012-09-08T12:42:41.033
> 
> 标签：c#, sql-server, ado.net, sqlcommand

我正在尝试将多条记录插入 SQL 数据库。SQL 表包含`smalldatetime`列。每条记录都是一小时的时间，所以当你想插入时间跨度时，例如。5个小时，你将5条记录填入数据库。

代码看起来像这样：

```
int flag = 0;
try{
   if (String.Empty.Equals(tboxFromTime.Text)){
      MessageBox.Show("Error!", "Error", MessageBoxButtons.OK, MessageBoxIcon.Information);
      return;
   }
   DateTime n, m;
   if (!DateTime.TryParse(tboxFromTime.Text, out n)){
      MessageBox.Show("Error!");
      return;
   }
   FormMain.connection.Open();
   command = new SqlCommand();
   command.Connection = FormMain.connection;
   string classParam, personParam, startParam;
   classParam = "class";
   personParam = "person";
   startParam = "start";

   command.CommandText = "INSERT INTO Reservations (resClassID, resPersonID, resStart) VALUES (@class, @person, @start)";
   command.Parameters.AddWithValue("@class", int.Parse(cboxRoomID.Text.Substring(4)));
   command.Parameters.AddWithValue("@person", int.Parse(cboxPersonSelection.Text.Substring(0, 2).Trim()));
   command.Parameters.AddWithValue("@start", DateTime.Parse(cboxWeekDate.Text + " " + n.ToShortTimeString() + ":00"));
   if (!String.Empty.Equals(tboxToTime.Text)){
      if (!DateTime.TryParse(tboxToTime.Text, out m)){
         MessageBox.Show("Error!");
         return;
      }
      else if(DateTime.Compare(m.AddHours(-1), n) > 0){
             TimeSpan timeDiff = m - n;
             int intDiff = timeDiff.Hours;
             for (int i = 1; i < intDiff; i++){
                 classParam = "class" + i.ToString();
                 personParam = "person" + i.ToString();
                 startParam = "start" + i.ToString();
                 command.CommandText += ", " + String.Format("(@{0}, @{1}, @{2})", classParam, personParam, startParam);

                 command.Parameters.AddWithValue(String.Format("@{0}", classParam), int.Parse(cboxRoomID.Text.Substring(4)));
                 command.Parameters.AddWithValue(String.Format("@{0}", personParam), int.Parse(cboxPersonSelection.Text.Substring(0, 2).Trim()));
                 command.Parameters.AddWithValue(String.Format("@{0}", startParam), DateTime.Parse(cboxWeekDate.Text + " " + n.AddHours(i).ToShortTimeString() + ":00"));
             }
         }
     }

   flag = command.ExecuteNonQuery();
   if (flag == 1) { MessageBox.Show("Uspelo!"); }
   } 
```

执行一小时时，一切顺利，但在任何时间跨度内，它都会崩溃。几个小时的命令文本字符串是这样的：

```
INSERT INTO Reservations (resClassID, resPersonID, resStart) VALUES (@class, @person, @start), (@class1, @person1, @start1), (@class2, @person2, @start2), (@class3, @person3, @start3) 
```

但是，我再次收到这种类型的错误消息：

',' 附近的语法不正确。

谁能弄清楚是什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T12:46:11.207

创建的sql语法不正确。您必须为自己插入每个值。

```
INSERT INTO Reservations (resClassID, resPersonID, resStart) VALUES (@class, @person, @start)
INSERT INTO Reservations (resClassID, resPersonID, resStart) VALUES (@class1, @person1, @start1)
INSERT INTO Reservations (resClassID, resPersonID, resStart) VALUES (@class2, @person2, @start2)
INSERT INTO Reservations (resClassID, resPersonID, resStart) VALUES (@class3, @person3, @start3) 
```

或者

```
INSERT INTO Reservations
SELECT @class, @person, @start
UNION
SELECT @class1, @person1, @start1
UNION
SELECT @class2, @person2, @start2
UNION
SELECT @class3, @person3, @start3 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T13:17:32.010

我认为你不需要这条线：

```
 command.CommandText += ", " + String.Format("(@{0}, @{1}, @{2})", classParam, personParam, startParam); 
```

并且

```
command.Parameters.AddWithValue(String.Format("@{0}", classParam), int.Parse(cboxRoomID.Text.Substring(4)));                   
command.Parameters.AddWithValue(String.Format("@{0}", personParam), int.Parse(cboxPersonSelection.Text.Substring(0, 2).Trim()));       
command.Parameters.AddWithValue(String.Format("@{0}", startParam), DateTime.Parse(cboxWeekDate.Text + " " + n.AddHours(i).ToShortTimeString() + ":00")); 
```

应该用具有不同参数值的原始语句替换，例如：

```
command.Parameters.AddWithValue("@class", int.Parse(cboxRoomID.Text.Substring(4)));          
command.Parameters.AddWithValue("@person", int.Parse(cboxPersonSelection.Text.Substring(0, 2).Trim()));        
command.Parameters.AddWithValue("@start", DateTime.Parse(cboxWeekDate.Text + " " + n.AddHours(i).ToShortTimeString() + ":00" 
```

希望这能解决问题。

# prolog - 如何在 Prolog 中获取变量？

> ID：12330812
> 
> 赞同：0
> 
> 时间：2012-09-08T12:43:46.637
> 
> 标签：prolog, swi-prolog

我有个问题。几个星期我都无法弄清楚这个问题。例如：

```
parent(john,paul). 
parent(paul,tom).  
parent(tom,mary).  
ancestor(X,Y) :- parent(X,Y). 
ancestor(X,Y) :- parent(X,Z),
                 ancestor(Z,Y). 
```

查询是：

```
swipl -s /home/alikoyuncu/pl/ples.pl -g "ancestor(X,'tom')" -t halt. 
```

输出 ：

```
% library(swi_hooks) compiled into pce_swi_hooks 0.00 sec, 3,856 bytes
% /home/alikoyuncu/pl/ples.pl compiled 0.01 sec, 119,096 bytes

alikoyuncu@alikoyuncu-EasyNote-TM98:/var/www/nlp$ 
```

我应该怎么做才能获得变量 X ？

* * *

我从 php 调用。我的PHP代码：

```
<?php

try
{

    $cmd ="swipl --quiet -s /home/alikoyuncu/pl/ples.pl -g \"forall(f(X,gel),writeln(X))\" -t halt.";
    $cmd2="/var/www/nlp/betik.sh";
    exec( $cmd, $output );

if($output==null)
{
    echo "null";
}
else
{
    foreach( $output as $tampon ) { echo "$tampon .nci satir <br>"; };
}

}
catch(Exception $ex)
{
    echo "Error";
}
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T15:00:35.503

注意查询文件的常用方式是

```
$ prolog 
```

它允许您输入 swi prolog 解释器：

```
Welcome to SWI-Prolog (Multi-threaded, 64 bits, Version 5.10.4)
Copyright (c) 1990-2011 University of Amsterdam, VU Amsterdam
SWI-Prolog comes with ABSOLUTELY NO WARRANTY. This is free software,
and you are welcome to redistribute it under certain conditions.
Please visit http://www.swi-prolog.org for details.

For help, use ?- help(Topic). or ?- apropos(Word). 
```

然后您可以在哪里查询：

```
?- consult(ples.pl). 
```

（或`[ples].`）加载文件，然后

```
?- ancestor(X, tom). 
```

以获得所需的结果。

否则，要从命令行调用它，我建议：

```
swipl --quiet -s ples.pl -g "forall(ancestor(X, tom), writeln(X)), halt." 
```

# ios - iOS：rootController 中的方法没有被调用

> ID：12330813
> 
> 赞同：0
> 
> 时间：2012-09-08T12:43:52.207
> 
> 标签：ios, methods, uiviewcontroller, uilabel

我想将一个字符串传递给作为 rootController.view 的子视图添加的 label.text：

```
@implementation MainViewController //the rootController

@synthesize leftLabel;

- (void)viewDidLoad {
   [super viewDidLoad];

   leftLabel = [[UILabel alloc] initWithFrame:CGRectMake(100.0, 558.0, 250.0, 30.0)];
   leftLabel.font = [UIFont systemFontOfSize:20.0];
   leftLabel.textAlignment = UITextAlignmentCenter;
   leftLabel.textColor = [UIColor whiteColor];
   leftLabel.backgroundColor = [UIColor clearColor];
   leftLabel.text = @"Some text";
   [self.view addSubview:leftLabel];
}

- (void)updateLabel:(NSString *)aText {
   leftLabel.text = aText;
} 
```

消息在另一个 ViewController 中发送...

```
NSArray *viewControllers = [self.navigationController viewControllers];
MainViewController *textTarget = (MainViewController *)[viewControllers objectAtIndex:0];
[textTarget updateLabel:@"Hello"]; 
```

但它永远不会到达 rootController 并且不会调用该方法。另一个 ViewController 发送所有到达的其他消息。但只是不是为 rootController 准备的。知道为什么它不起作用吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T14:45:18.307

如果你的 VC 在发送消息时没有推送到导航控制器，则`self.navigationController`返回 nil，然后所有其他方法返回 nil，使所有调用无效。

# c# - 当文本从方法内部更改时，RichTextBox.TextChanged 事件不会触发

> ID：12330815
> 
> 赞同：2
> 
> 时间：2012-09-08T12:44:27.487
> 
> 标签：c#, events

好的，这对你们来说很容易，我基本上有一个 C# winform 应用程序，它只有一个 RichTextBox，还有一个名为 Terminal 的类，在那个类中有一个 RichTextBox 数据成员和其他一些东西，我通过了我的 RichTextBox形成终端的构造函数，如下所示：

```
public Terminal(RichTextBox terminalWindow)
{
  this.terminalWindow = terminalWindow;
  CommandsBuffer = new List<string>();
  currentDirectory = homeDirectory;
  this.terminalWindow.TextChanged += new EventHandler(terminalWindow_TextChanged);
  InsertCurrentDirectory();
} 
```

这就是我在 InsertCurrentDirectory() 方法中所做的：

```
private void InsertCurrentDirectory()
{
  terminalWindow.Text = terminalWindow.Text.Insert(0, currentDirectory);
  terminalWindow.Text = terminalWindow.Text.Insert(terminalTextLength, ":");
  terminalWindow.SelectionStart = terminalTextLength + 1;
} 
```

如您所见，我在调用此方法之前已经注册了该事件，但问题是，即使我在此方法中更改了文本，该事件也没有触发。但是当我在注册事件后立即更改构造函数中的文本时，它实际上被触发了，例如：

```
public Terminal(RichTextBox terminalWindow)
{
  // ...  
  this.terminalWindow.TextChanged += new EventHandler(terminalWindow_TextChanged);
  this.terminalWindow.Text = "the event fired here"; 
} 
```

这是 TextChanged 事件，以防您想知道其中的内容：

```
void terminalWindow_TextChanged(object sender, EventArgs e)
{
  terminalTextLength = terminalWindow.Text.Length;
} 
```

为什么会这样？为什么事件没有从方法内部触发？我怎么能开火？

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-08T13:00:30.920

可能您在表单构造函数中创建了终端类（在 InitializeComponenet 之后）。
此时，表单句柄和控件的所有句柄仅存在于框架基础结构中，而不存在于 Windows 系统中，因此不会触发任何消息 (TextChanged)。

如果您在 Form_Load 事件中创建终端类，则将毫无问题地调用 RichTextBox 的 TextChanged。

# c# - 所有者绘制模式时如何将列表框项中的文本居中

> ID：12330818
> 
> 赞同：2
> 
> 时间：2012-09-08T12:44:57.413
> 
> 标签：c#, winforms, listboxitems

我想对列表框项目进行一些视觉更改，所以我将 DrawMode 设置为“OwnerDrawFixed”我希望文本垂直位于项目的中间，这样做很容易：

```
private void listTypes_DrawItem(object sender, DrawItemEventArgs e)
{
   e.DrawBackground();
   e.Graphics.DrawString(listTypes.Items[e.Index].ToString(),
                e.Font, Brushes.Black, e.Bounds.Left, e.Bounds.Top + e.Bounds.Height/4
                , StringFormat.GenericDefault);  
   e.DrawFocusRectangle();  
} 
```

但是要使文本水平居中，我需要知道文本宽度如何获取它，或者有更好的方法来做到这一点

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T12:47:28.033

您可以尝试使用代码

```
 void listTypes_DrawItem(object sender, DrawItemEventArgs e)
    {
        ListBox list = (ListBox)sender;
        if (e.Index > -1)
        {
            object item = list.Items[e.Index];
            e.DrawBackground();
            e.DrawFocusRectangle();
            Brush brush = new SolidBrush(e.ForeColor);
            SizeF size = e.Graphics.MeasureString(item.ToString(), e.Font);
            e.Graphics.DrawString(item.ToString(), e.Font, brush, e.Bounds.Left + (e.Bounds.Width / 2 - size.Width / 2), e.Bounds.Top + (e.Bounds.Height / 2 - size.Height / 2)); 
        }
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T13:43:48.720

您应该使用 TextRenderer.DrawText() 使文本外观与表单中其他控件呈现文本的方式一致。这很容易，它已经有一个重载，可以接受一个 Rectangle 并将该矩形内的文本居中。只需通过 e.Bounds。您还需要注意项目状态，为所选项目使用不同的颜色。像这样：

```
 private void listBox1_DrawItem(object sender, DrawItemEventArgs e) {
        e.DrawBackground();
        if (e.Index >= 0) {
            var box = (ListBox)sender;
            var fore = box.ForeColor;
            if ((e.State & DrawItemState.Selected) == DrawItemState.Selected) fore = SystemColors.HighlightText;
            TextRenderer.DrawText(e.Graphics, box.Items[e.Index].ToString(),
                box.Font, e.Bounds, fore);
        }
        e.DrawFocusRectangle();
    } 
```

# python - Python 静态设置器和获取器？

> ID：12330823
> 
> 赞同：4
> 
> 时间：2012-09-08T12:45:23.030
> 
> 标签：python, static

我已经为我的 django 应用程序放置了一个 Jira 客户端，现在需要将其设为静态，但我不知道如何将其转换`@property`为`@?.setter`静态字段：

假设我有一堂课：

```
class nothing(object):
    auth_token = None
    counter = 0

    @property
    def a(self):
        self.log('getter')
        if not self.auth_token:
            self.auth_token = 'default'
        return self.auth_token

    @a.setter
    def a(self, value):
        self.log('setter')
        self.auth_token = value

    def log(self, value):
        self.counter+=1
        print '{0} called / counter: {1}'.format(value, self.counter) 
```

我希望它的方法是静态的：

```
class nothing:
    auth_token = None
    counter = 0

    @staticmethod
    def get_a():
        nothing.log('getter')
        if not nothing.auth_token:
            nothing.log('auth_token value is None, setting')
            nothing.auth_token = 'default'
        return nothing.auth_token

    @staticmethod
    def set_a(value):
        nothing.log('setter')
        nothing.auth_token = value

    @staticmethod
    def log(value):
        nothing.counter+=1
        print '{0} called / counter: {1}'.format(value, nothing.counter) 
```

不能标记`get_a`为`@property`now 因为调用它将返回一个对象而不是实际调用`get_a`. 方法是我可以忍受的东西，但是有没有办法让 getter/setter 代替？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T12:50:10.640

最简单的方法是使这个类单例。与其将方法设为静态，不如用其实例覆盖类：

```
nothing = nothing() 
```

如果您想拥有多个实例，也可以使用元类。

[http://en.wikibooks.org/wiki/Python_Programming/MetaClasses](http://en.wikibooks.org/wiki/Python_Programming/MetaClasses)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T15:30:45.463

你需要python中的类属性吗？

这是getter的解决方案。对于 setter，需要除 type 之外的其他元类。

```
>>> class CP(object):
    def __init__(self, getter, setter = None):
        self._getter = getter
        self._setter = setter

    def setter(self, setter):
        self._setter = setter
    def __get__(self, obj, cls = None):
        print '__get__', obj, cls
        return self._getter(cls) # for static remove cls from the call
    def __set__(self, *args):
        print args

>>> class X(object):
    @CP
    def g(cls):
        print 'g', cls
        return 1

>>> X.g # getting returns value of g
__get__ None <class '__main__.X'>
g <class '__main__.X'>
1
>>> X().g
__get__ <__main__.X object at 0x02ACEC50> <class '__main__.X'>
g <class '__main__.X'>
1
>>> X.g = 3 # setting does not work
>>> X.g
3 
```

但是当我看看：

```
>>> X().g = 3
(<__main__.X object at 0x02ACEE50>, 3) 
```

它似乎不适用于`__set__`类方面的属性。这是明智的，因为：如果被调用，您甚至还能如何覆盖例如`property`在课堂上的 a ？`__set__`

# spring - 如何让第 3 方将代码添加到我的 Grails 应用程序

> ID：12330832
> 
> 赞同：0
> 
> 时间：2012-09-08T12:46:16.450
> 
> 标签：spring, hibernate, grails

我开发了一个 Grails (1.3.4) 应用程序（Spring MVC，Hibernate）。我需要让我的客户扩展应用程序，但他们无权访问我的源代码。他们收到了我的 WAR 文件和数据库脚本。

我的应用程序以识别客户可以插入的一些数据库条目的形式提供了一些可扩展性方法。

客户希望通过以下方式进一步扩展应用程序：

1.  他们应该能够添加 gsp 和前端代码，当他们单击我的应用程序中列出的与他们插入的数据库条目相对应的项目时，将调用这些代码。
2.  他们可以在 gsp/前端代码中进行任何类型的编码，并将方法发布到后端控制器。
3.  他们应该能够扩展控制器以添加他们自己的方法，以便从他们的前端代码中调用。
4.  据我所知，当我发布应用程序的下一个版本时，我将不得不提供一个新的 WAR，它必须替换服务器上现有的 WAR。这是否意味着他所有的扩展工作都丢失了，他需要重新添加它们？我怎样才能保留他的扩展并使用新的 WAR 重新部署它们？

客户拥有自己的开发环境，包括 Grails 和其他一切。他可以访问我的应用程序的 WAR，但不能访问我的源代码。

我没有完全理解 Grails/Spring 的所有特性。

有人可以指出我的权利文档，以便我自己研究吗？

当然，现成的帮助会很棒！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T10:09:07.897

仅供参考，我们迁移到 Grails 2.1.1 并开始使用二进制插件。正如 Tomas 所建议的，它对我们来说非常有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-09T16:43:12.983

这听起来像是 Grails 2 中可用的二进制插件机制的典型用例。您需要将代码重构为插件，但这应该相当简单。

[http://grails.org/doc/latest/guide/single.html#binaryPlugins](http://grails.org/doc/latest/guide/single.html#binaryPlugins)

# excel - 完成表格后清除单选按钮

> ID：12330833
> 
> 赞同：0
> 
> 时间：2012-09-08T12:46:24.687
> 
> 标签：excel, vba, radio-button

我有一系列用户表单，制作问卷。每个用户窗体由几个选项按钮/复选框组成。该程序运行良好。但是，当我再次启动程序（不退出 Excel）时，单选按钮和复选框的填充方式与前一个用户相同。

我尝试使用每个用户窗体初始化来调用模块：

```
Option base 0

Sub clearBtns()
Dim optBtn(10) As Variant
optBtn(0) = "optA"
optBtn(1) = "optB"
optBtn(2) = "optC"
optBtn(3) = "optD"
optBtn(4) = "optE"
optBtn(5) = "chkA"
optBtn(6) = "chkB"
optBtn(7) = "chkC"
optBtn(8) = "chkD"
optBtn(9) = "chkE"
optBtn(10) = "chkF"

Dim cnt As Integer
For cnt = 0 To 10
    If Not optBtn(cnt) Is Nothing Then
    optBtn(cnt).Value = False
    End If
Next cnt

End Sub 
```

不幸的是，这不起作用（错误 424，需要对象）。它可能与这部分有关：

```
If Not optBtn(cnt) Is Nothing Then 
```

必须有一种更简单的方法来做到这一点。额外信息：每张表格完成后，我使用：

```
Me.Hide
form_x.Show 
```

最后一种形式是不同的，具有：

```
Unload Me 
```

也许有问题？

进一步解释：

```
Option Base 0

Public Sub clearBtns()

Dim optBtn(10) As Variant
optBtn(0) = "optA"
optBtn(1) = "optB"
optBtn(2) = "optC"
optBtn(3) = "optD"
optBtn(4) = "optE"
optBtn(5) = "chkA"
optBtn(6) = "chkB"
optBtn(7) = "chkC"
optBtn(8) = "chkD"
optBtn(9) = "chkE"
optBtn(10) = "chkF"

Dim formArray(27) As Variant
formArray(0) = "page1_1"
formArray(1) = "page1_2"
formArray(2) = "page1_3"
formArray(3) = "page2_1"
formArray(4) = "page2_2"
formArray(5) = "page2_3"
formArray(6) = "page3_1"
formArray(7) = "page3_2"
formArray(8) = "page3_3"
formArray(9) = "page4_1"
formArray(10) = "page4_2"
formArray(11) = "page4_3"
formArray(12) = "page5_1"
formArray(13) = "page6_1"
formArray(14) = "page6_2"
formArray(15) = "page6_3"
formArray(16) = "page7_1"
formArray(17) = "page7_2"
formArray(18) = "page7_3"
formArray(19) = "page8_1"
formArray(20) = "page8_2"
formArray(21) = "page8_3"
formArray(22) = "page9_1"
formArray(23) = "page9_2"
formArray(24) = "page9_3"
formArray(25) = "page10_1"
formArray(26) = "page10_2"
formArray(27) = "page10_3"

Dim cnt As Integer
Dim fCnt As Integer

For fCnt = 0 To 27
    For cnt = 0 To 10
    On Error Resume Next
        formArray(fCnt).Controls(optBtn(cnt)).Value = False
    Next cnt
Next fCnt

End Sub 
```

上面的代码不起作用。

```
Public Sub clearBtns()

Dim optBtn(10) As Variant
optBtn(0) = "optA"
optBtn(1) = "optB"
optBtn(2) = "optC"
optBtn(3) = "optD"
optBtn(4) = "optE"
optBtn(5) = "chkA"
optBtn(6) = "chkB"
optBtn(7) = "chkC"
optBtn(8) = "chkD"
optBtn(9) = "chkE"
optBtn(10) = "chkF"

Dim cnt As Integer

    For cnt = 0 To 10
    On Error Resume Next
        page1_1.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page1_2.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page1_3.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page2_1.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page2_2.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page2_3.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page3_1.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page3_2.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page3_3.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page4_1.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page4_2.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page4_3.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page5_1.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page6_1.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page6_2.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page6_3.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page7_1.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page7_2.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page7_3.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0
    For cnt = 0 To 10
    On Error Resume Next
        page8_1.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0
    For cnt = 0 To 10
    On Error Resume Next
        page8_2.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page8_3.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page9_1.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page9_2.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0
    For cnt = 0 To 10
    On Error Resume Next
        page9_3.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page10_1.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page10_2.Controls(optBtn(cnt)).Value = False
    Next cnt
cnt = 0

    For cnt = 0 To 10
    On Error Resume Next
        page10_3.Controls(optBtn(cnt)).Value = False
    Next cnt

On Error GoTo 0

End Sub 
```

上面的代码可以工作，但是它需要更多的代码并且效率很低。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T12:09:47.003

> 必须有一种更简单的方法来做到这一点。额外信息：每张表格完成后，我使用：
> 
> ```
> Me.Hide
> form_x.Show 
> ```
> 
> 最后一种形式是不同的，具有：
> 
> ```
> Unload Me 
> ```

而不是`Hide`在所有表单上使用`Unload`. **仅当实际初始化表单时才会**调用该`Userform_Initialize`方法- 当您显示以前隐藏的表单时不会发生这种情况。

 **所以，当你用这些形式做一些事情时，比如

```
form1.show   'initialize called
'stuff that changes the form attributes
form1.hide
form1.show    'initialize NOT called 
```

您需要使用`Unload`或将代码移动到`UserForm_Activate`每个 UserForm 的方法中（这可能会导致您出现其他问题，具体取决于这些问题的实际使用方式）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T13:17:25.627

我假设您的数组：“optA”、“optB”等是控件的实际名称。发生错误是因为`optBtn(cnt)`不引用对象，而仅引用数组中的字符串值。

基于此来实现您想要的，替换此代码：

```
For cnt = 0 To 10
    If Not optBtn(cnt) Is Nothing Then
    optBtn(cnt).Value = False
    End If
Next cnt 
```

使用此代码：

```
On Error Resume Next
For cnt = 0 To 10
    Me.Controls(optBtn(cnt)).Value = False
Next cnt
On Error GoTo 0 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-07T23:05:56.890

这将重置（取消选择）“Userform2Clear”上的所有选项按钮

```
Dim opt as Control
For Each opt In Userform2Clear.Controls
    If TypeName(opt) = "OptionButton" Then opt = False
Next 
```**

# eclipse - 插件安装失败，因为缺少必需的项目

> ID：12330835
> 
> 赞同：6
> 
> 时间：2012-09-08T12:46:48.933
> 
> 标签：eclipse, eclipse-plugin, eclipse-wtp

我尝试`Web Tool Platform`为 Eclipse 安装，但由于以下错误而无法成功。

> 无法完成安装，因为找不到一项或多项所需项目。
> 正在安装的软件：CXF Web Services 1.1.0.v201201312103-7H79FHxFAKlbotH5e9l3vAA6MBG（org.eclipse.jst.ws.cxf.feature.feature.group 1.1.0.v201201312103-7H79FHxFAKlbotH5e9l3vAA6MBG）缺少要求：Java EE 20108115201\. org.eclipse.jst.j2ee 1.1.501.v201108102200) 需要 'bundle org.eclipse.emf.codegen [2.2.0,3.0.0)' 但找不到
> 缺少要求：Java EE 组件 1.1.501.v201109131730 (org.eclipse.jst.j2ee 1.1.501.v201109131730) 需要 'bundle org.eclipse.emf.codegen [2.2.0,3.0.0)' 但找不到
> 缺少要求：Java EE 组件 1.1.600.v201203142300 (org.eclipse.jst.j2ee 1.1.600.v201203142300) 需要 'bundle org.eclipse.emf.codegen [2.2.0,3.0.0)' 但它不可能发现
> 缺少要求：Java EE 组件 1.1.600.v201205030130 (org.eclipse.jst.j2ee 1.1.600.v201205030130) 需要 'bundle org.eclipse.emf.codegen [2.2.0,3.0.0)' 但它不能发现
> 缺少要求：Java EE 组件 1.1.600.v201205170400 (org.eclipse.jst.j2ee 1.1.600.v201205170400) 需要 'bundle org.eclipse.emf.codegen [2.2.0,3.0.0)' 但它可以找不到
> 缺少的要求：Java EE 组件 1.1.601.v201207101600 (org.eclipse.jst.j2ee 1.1.601.v201207101600) 需要 'bundle org.eclipse.emf.codegen [2.2.0,3.0.0)' 但它找不到
> 无法满足依赖关系：来自：CXF Web Services Core 1.1.0.v201205012246 (org.eclipse.jst.ws.cxf.core 1.1.0.v201205012246) 至：bundle org.eclipse.jst.j2ee [1.1.0,1.2\. 0）不能满足依赖：来自：CXF Web Services 1.1.0.v201201312103-7H79FHxFAKlbotH5e9l3vAA6MBG（org.eclipse.jst.ws.cxf.feature.feature.group 1.1.0.v201201312103-7H79FHxFAKlbotH5e9l3vAA6MBG）到：org.eclipse.js ws.cxf.core [1.1.0.v201205012246]

实际上，当我尝试通过`Help > Install New Software`. 例如，我在尝试安装 Android SDK 时遇到过一些问题。
虽然我通常可以在摆弄它的同时解决它，但我无法相信安装插件是如此痛苦。

所以我想我可能会错过一些非常基本的东西，但我找不到提示。因此，如果您能帮助我解决这个特定问题，同时也提供一些信息如何在更一般的问题上解决这些问题，那就太好了。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-08T12:48:10.587

在“安装”对话框的底部，确保选中“在安装过程中联系所有更新站点以查找所需软件”。

![Eclipse 安装对话框](../Images/cea97ce746e6d1b4d6307b4468d3f96b.png)

这假设必要的默认软件站点仍然正确配置（没有被禁用、删除等）并且可用。这些在 Windows、首选项、安装/更新、可用软件站点下进行配置。（不幸的是，我在这里没有看到“恢复为默认值”按钮。）至少对于最新版本的 Eclipse (4.2/Juno)，您需要确保至少在此处配置并启用了以下站点：

*   朱诺：http: [//download.eclipse.org/releases/juno](http://download.eclipse.org/releases/juno)
*   Eclipse 项目更新：http: [//download.eclipse.org/eclipse/updates/4.2](http://download.eclipse.org/eclipse/updates/4.2)
*   Eclipse Web 工具平台 (WTP) 软件存储库：http: [//download.eclipse.org/webtools/repository/juno](http://download.eclipse.org/webtools/repository/juno)

# extjs - 如何删除控制器 ExtJS？

> ID：12330846
> 
> 赞同：6
> 
> 时间：2012-09-08T12:48:44.237
> 
> 标签：extjs, controller

我在我的应用程序中动态创建控制器，如下所示：

```
var loadedController = me.app.getController(controller_name);
            loadedController.init(); 
```

使用后如何删除此控制器？谢谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-10T02:37:51.300

ExtJs 目前不支持开箱即用的移除控制器。要清理控制器，请执行以下操作：

*   `Ext.app.EventBus`使用一种方法进行扩展，该方法`uncontrol`取消注册此控制器在 EventBus 上注册的所有事件侦听器。查看源代码`Ext.app.EventBus#control`以派生实现。或者使用[这个](https://github.com/mitchellsimoens/SubAppDemo/blob/master/assets/overrides/Ext.app.EventBus.js)。
*   使用从集合中删除给定控制器实例`Ext.app.Application`的方法进行扩展。这是一个 Ext.util.MixedCollection，请查看. 然后使用 . 清理该控制器的所有注册侦听器。`removeController``controllers``Ext.app.Application#getController``uncontrol`
*   `destroy`在您的特定控制器和/或扩展上实现方法`Ext.app.Controller`。`clearManagedListeners()`如果适合您的应用程序体系结构和控制器生命周期，您至少应该调用并可能销毁此控制器创建的其他对象，例如视图或存储。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-10T19:46:29.497

Sencha 论坛已发起高级会员请求。不幸的是，最初的请求自 8 月以来一直存在，没有任何消息。我刚刚参考这个线程提出了这个请求。

[煎茶论坛主题（高级版）](http://www.sencha.com/forum/showthread.php?238040)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-09T14:20:32.937

您可以使用`obj.destroy()`. 请记住还要删除对对象的所有引用，以便对其进行垃圾收集。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-23T18:14:33.607

[getController()](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.app.Application-method-getController)方法创建一个新的控制器对象并将对它的引用存储在`controllers`数组中。

[这意味着，如果控制器是使用getController()](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.app.Application-method-getController)加载的，它不会被删除，因为总会有至少一个对它的引用存储在`controllers`Application 对象的属性中。

要以这样一种方式加载控制器，一旦它失去对现有对象（DOM 元素、Ext 组件、它的视图等）的任何引用，它就会被销毁（释放它占用的内存），应该使用[Ext.create](http://docs.sencha.com/ext-js/4-1/#!/api/Ext-method-create)而不是[getController ()](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.app.Application-method-getController)。
这是代码：

```
var loadedController = Ext.create(
     me.app.getModuleClassName(controller_name, 'controller'),
     {
         application: me.app,
         id: Ext.id(null, 'controller')
     }
);
loadedController.init(me.app);
loadedController.onLaunch(me.app); 
```

`loadedController`将是局部变量，并将脱离作用域。唯一会继续将新创建的控制器绑定到“现实生活”的将是控制器自己创建的元素。
例如，控制器可能会在其[onLaunch()](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.app.Controller-method-onLaunch)方法中创建一个新视图，该视图将被注入到 DOM 中，并且控制器将使用其[init()](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.app.Controller-method-init)方法中的处理程序绑定来监听视图事件。只要视图存在，控制器就会存在。但是当用户关闭视图时，视图将被销毁，并且由于它是对我们控制器的最后引用，因此控制器也将被销毁。

**UPDATE**
使用控制器创建的侦听器被附加到[Ext.app.EventBus](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.app.EventBus)并且可能会阻止自动删除控制器，因为它们还可能保留对该控制器的引用。

# .htaccess - Flash 对象发出不安全的 http 请求

> ID：12330847
> 
> 赞同：0
> 
> 时间：2012-09-08T12:48:50.250
> 
> 标签：.htaccess, ssl, flash

我们有一个多年前制作的 flash 对象，它向我们的服务器发出 http 请求以获取数据。但是自从我们开始使用 SSL 证书。当 Flash 对象加载到页面中时，它会中断安全连接。

我在 flash 对象发出请求的文件夹中创建了 .htaccess 文件，我将这些文件放入其中

```
RewriteEngine On
RewriteCond %{HTTPS} !on
RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} 
```

但它似乎不起作用。加载 Flash 对象时，它仍然会破坏安全页面。

除了修改swf文件，还有什么办法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T12:57:04.917

只要在 Flash 应用程序中对 URL 进行了硬编码（使用 http://），就无法通过更改服务器上的任何内容来使其使用 https，您需要更新 swf。

您所做的任何 .htaccess 重写都将在 flash 应用程序已经将请求发送到服务器之后进行，到那时您显然已经发送了不安全的请求。

# java - 让 ant 将依赖的 jar 放入 ./lib

> ID：12330851
> 
> 赞同：1
> 
> 时间：2012-09-08T12:49:05.377
> 
> 标签：java, ant, hadoop, amazon-web-services, emr

我是否有`ant` `jar`任务将依赖的 jar 放在 jar`./lib`内的目录中？目前，`ant`将这些放入`./`.

```
<target name="jar" depends="compile" description="generate the distribution">
   <jar jarfile="${dist.dir}/projectx-${version}.jar" basedir="${build.dir}" />
</target> 
```

原因是带有 MapR 的 Amazon Hadoop EMR 似乎需要这个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:06:16.483

您可以使用带有前缀的嵌套[zipfileset来执行此操作。](http://ant.apache.org/manual/Types/zipfileset.html)

# xaml - Windows 8：HyperLinkBut ton 上的多语言

> ID：12330853
> 
> 赞同：1
> 
> 时间：2012-09-08T12:49:09.103
> 
> 标签：xaml, localization, windows-runtime

在 Windows 8 中，您可以使用以下命令设置 content 或 text 属性：`x:UiD="SomeText"` 这会从资源文件中加载 ID 为 SomeText 的文本。不幸的是，这对 HyperLinkBut​​tons 不起作用，内容属性不是从资源文件中加载的。

有人知道如何从资源文件中设置 HyperLinkBut​​ton 的内容吗？以及如何为其他属性做到这一点？像`AutomationProperties.Name`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T19:00:25.820

要回答您的第二个问题：您可以在资源文件中使用以下名称：
`SomeText.[using:Windows.UI.Xaml.Automation]AutomationProperties.Name`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T13:01:24.140

您可以尝试以下方法：

```
<HyperlinkButton>
   <TextBlock x:UiD="SomeText" .../>
</HyperlinkButton> 
```

或更详细：

```
<HyperlinkButton>
  <HyperlinkButton.Content>
   <TextBlock x:UiD="SomeText" .../>
  </HyperlinkButton.Content>
</HyperlinkButton> 
```

**另一种解决方案**是通过绑定通过 ViewModel 提供本地化字符串。类似于以下内容：

```
 <TextBlock Text="{Binding ALocalizedLabel}"/>
 <Button AutomationProperties.Name="{Binding AnotherLocalizedLabel}" .../> 
```

这种解决方案的一个缺点是由于地铁的简约绑定系统。您不能提供默认（后备）值。一个优点是它使您的 XAML 不那么混乱并且更具可读性。

# wordpress - Woocommerce 显示每个类别及其产品

> ID：12330857
> 
> 赞同：9
> 
> 时间：2012-09-08T12:49:55.073
> 
> 标签：wordpress, woocommerce

我可以从侧边栏管理菜单转到“WooCommerce -> 设置”链接并选择“目录”选项卡，然后勾选 2 个复选框“在商店页面上显示子类别”但这会显示类别列表，然后是所有产品。我想要的是在商店页面上，首先是类别标题，然后是其下的产品，然后是下一个类别及其产品。

简而言之，我想明智地列出所有产品类别。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-10-17T00:10:05.353

您可以创建一个新的商店页面，并结合使用 woocommerce 短代码和标题来创建按类别组织的产品列表。例如，在 HTML 编辑器中，您可以执行以下操作：

```
<h2>Category Name</h2>
[product_category category="category-name" per_page="12" columns="4" orderby="date" order="desc"] 
```

# actionscript-3 - 日历 flash 动作脚本 3

> ID：12330862
> 
> 赞同：0
> 
> 时间：2012-09-08T12:50:38.263
> 
> 标签：actionscript-3, flash, calendar

我有一个动作脚本 3 代码和一个大问题：我的日历没有显示所有月份，我不知道为什么。例如，9 月份有 30 天，但我的日历只显示 26 天。所以任何帮助都会很棒！我的代码：

```
var daysMonth:int;//variable that holds a value of all days in the current month
var daysNumber:int;//counter for days
var weeks:Number;//variables that hold weeks of the date
var days:Number;//variables that hold current day
var year:Number;//variables that hold current year
var month:Number;//variables that hold current month
var firstDayOfMonth:Number;// variable that holds the position of first day in current month

var shapeButtonWidth:int = 35;
var shapeButtonHeight:int = 35;
var marginBetweenButtons:int = 2;
var calendarBackgroundColor:uint = 0x1e1e20;
var calendarNumberHolderColor:uint = 0x101010;
var calendarNumberTextColor:uint = 0xEAEAEA;
var dayHighlightBorderColor:uint = 0x893827;

var nowDate:Date = new Date();//get current date
days = nowDate.getDate() ;//get current day
month = nowDate.getMonth() ;//get current month
year = nowDate.getFullYear() ;//get current year

var firstDay:Date = new Date(year, month, 1);
firstDayOfMonth = firstDay.getDay();

var numberOfDays:Date = new Date(year,month , 0);
daysMonth = numberOfDays.getDate();

weeks = daysMonth/7;

if (weeks > 2)//making 5 lines in some cases when month starts with the end of the week
    weeks = 6;

for (var i:int = 1; i <= weeks; i++) { 

for (var j:int = 1; j <= 7 ; j++) {

    daysNumber++;
    if (firstDayOfMonth == 0)
        firstDayOfMonth = 7;

    var calendarBackground:Shape = new Shape();
    calendarBackground.graphics.lineStyle();
    calendarBackground.graphics.beginFill(calendarBackgroundColor,1);
    calendarBackground.graphics.drawRoundRect(0,0,shapeButtonWidth * 8, shapeButtonHeight * 6,8);
    calendarBackground.graphics.endFill();
    calendarBackground.x = stage.stageWidth / 2 - calendarBackground.width / 2;
    calendarBackground.y = stage.stageHeight / 2 - calendarBackground.height / 2;
    this.addChild(calendarBackground);
    setChildIndex(calendarBackground, 0);//set the background to have the lowest index

    if (daysNumber <= daysMonth){
        if (daysNumber >= firstDayOfMonth){
            var dayC:Shape = new Shape(); //variable of custom class 
            dayC.graphics.lineStyle();
            dayC.graphics.beginFill(calendarNumberHolderColor,1);
            dayC.graphics.drawRoundRect(0,0,shapeButtonWidth, shapeButtonHeight,8);
            dayC.graphics.endFill();
            this.addChild(dayC);

            var calendarNumbers:TextField = new TextField();
            calendarNumbers.textColor = calendarNumberTextColor;

            var myFormat:TextFormat = new TextFormat();
            myFormat.size = 16;
            calendarNumbers.defaultTextFormat = myFormat;
            this.addChild(calendarNumbers);

            calendarNumbers.text = String(daysNumber - firstDayOfMonth + 1);

            dayC.x = calendarNumbers.x =  (dayC.width + marginBetweenButtons) * (j - 1)  + calendarBackground.x + 12;
            dayC.y = calendarNumbers.y = (dayC.height + marginBetweenButtons) * (i-1) + dayC.height/2 + calendarBackground.y - 5;

            if (daysNumber < 11)
                calendarNumbers.x = dayC.x + 11;
            else
                calendarNumbers.x = dayC.x + 7;
            calendarNumbers.y = dayC.y + 5;

            if (calendarNumbers.text == String(days)){
                var borderDay:Shape = new Shape();//here we draw border around current day
                borderDay.graphics.lineStyle(4,dayHighlightBorderColor);//width and color of border around current day
                borderDay.graphics.drawRoundRect(dayC.x+1, dayC.y+1, shapeButtonWidth - 3,shapeButtonWidth - 3,8);
                borderDay.graphics.endFill();
                this.addChild(borderDay);//adding border to stage

            }
        }
    }

}

} 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T14:08:39.553

您正在通过“daysNumber”检查边界，但您显示“days”，因此您显示的第 31 个单元格包含第 26 天，前 5 个单元格不会显示。请检查“天”是否在 1..daysMonth 内，而不是“天数”。

# android - ip地址从本地数据库获取数据

> ID：12330863
> 
> 赞同：0
> 
> 时间：2012-09-08T12:51:00.570
> 
> 标签：android, database

> **可能重复：**
> [如何获取 Android 模拟器的 IP 地址？](https://stackoverflow.com/questions/1720346/how-to-get-the-android-emulators-ip-address)

我编写了一个 android 应用程序以从安装了我的 android 模拟器的 pc 上创建的 mysql 数据库中获取数据。我必须在 http post 请求中设置什么 IP 地址才能获得访问权限？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T15:37:10.460

只需输入这些代码行即可获取当前模拟器的 IP 地址。

```
public String getLocalIpAddress() {
try {
    for (Enumeration<NetworkInterface> en = NetworkInterface.getNetworkInterfaces(); en.hasMoreElements();) {
        NetworkInterface intf = en.nextElement();
        for (Enumeration<InetAddress> enumIpAddr = intf.getInetAddresses(); enumIpAddr.hasMoreElements();) {
            InetAddress inetAddress = enumIpAddr.nextElement();
            if (!inetAddress.isLoopbackAddress()) {
                return inetAddress.getHostAddress().toString();
            }
        }
    }
} catch (SocketException ex) {
    Log.e(LOG_TAG, ex.toString());
}
return null;
} 
```

它将在字符串的 for 中返回您的模拟器的 IP 地址。

# javascript - 为客户端更新更新视图的模型或数据表？

> ID：12330866
> 
> 赞同：1
> 
> 时间：2012-09-08T12:51:38.910
> 
> 标签：javascript, jquery, asp.net-mvc, asp.net-mvc-4

在网页中，当用户从数据表中删除行时，我应该使用视图的模型还是数据表来进行数据操作？（我正在学习 MVC 4，我不确定访问模型是否会对服务器造成影响。）

这是我正在尝试做的一个简单示例。在我的控制器中，我返回了一些 Person 对象：

```
public ActionResult Index()
{
    List<Person> people = new List<Person>();
    people.Add(new Person() { Id = 1, FirstName = "Geddy", LastName = "Lee" });
    people.Add(new Person() { Id = 2, FirstName = "Alex", LastName = "Lifeson" });
    // more people here...

    return View(people);
} 
```

这就是我的观点引用人的方式（视图中的第一行）：

```
@model List<MiscCommon.Entities.Person> 
```

在我看来，我正在使用数据表来显示。那部分工作得很好。

![数据表视图](../Images/46ce57263d0b9c051ae41b528ae393b0.png)

在我的 javascript 函数中，当用户在表中的一行上点击删除（x）时，我成功地传递了 ID。但是，**我不确定是否应该直接操作数据表（如下所示），或者是否应该修改 @model**然后刷新数据表。哪种方式被认为是正确的？还是有另一种我不知道的方法？

```
function RemovePerson(personIdToDelete) {
    var oTable = $('#tablePeople').dataTable();
    var rows = oTable.fnGetNodes();
    var rowToDelete;

    for (var i = 0; i < rows.length; i++) {
        var idFromCurrentRow = oTable.fnGetData(i, 1);  // ID column
        if (idFromCurrentRow == personIdToDelete) {
            rowToDelete = i;
        }                
    }

    oTable.fnDeleteRow(rowToDelete);
} 
```

注意：我首先使用模型来填充表格：

```
@foreach (var person in Model) {
                @:$('#tablePeople').dataTable().fnAddData([@MvcHtmlString.Create(string.Format("'<a href=\"\", onclick=\"RemovePerson({0}); return false;\">x</a>'", @person.Id)), '@person.FirstName', '@person.LastName']);
            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:35:43.803

最好的方法是使用 ViewModel，这是您将传递给视图的内容。所以它变成：

```
Database -> Model -> Controller -> ViewModel -> View 
```

然后当用户更新或删除记录时：

```
View -> ViewModel -> Controller -> Model -> Database 
```

换句话说，您将创建一个仅包含视图所需属性的 PeopleModel 类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T17:15:35.287

你`@model`只存在于服务器端。一旦 DOM 被渲染并发送到客户端，@model 就会被释放。您需要再次联系服务器让数据库知道该记录应该被删除。您有两种选择：

**选项一**

`RemovePerson`在您的 Javascript 函数中通过 AJAX联系服务器。

**选项二**

将整个页面发布回服务器并解析结果。这将需要将您的表格包装在 a 中`form`，并为您的每一行输入一个输入。

我更喜欢使用选项一并使用[此处](http://api.jquery.com/jQuery.ajax/)`jQuery.ajax()`找到的方法。

# iphone - 所有 UINavigationControllers 的 iOS 相同 UINavigationBar

> ID：12330869
> 
> 赞同：0
> 
> 时间：2012-09-08T12:51:48.740
> 
> 标签：iphone, ios, uinavigationcontroller, uinavigationbar

我有一个带有 4 个导航控制器的选项卡式应用程序，它们都应该使用相同的 UINavigationBar（相同的颜色，相同的按钮）。现在我只想创建一次导航栏！

我的第一种方法是继承 UINavigationController，更改栏颜色和按钮，并将其用于我的 AppDelegate 中的导航控制器，但按钮没有显示，我发现文档说你不应该继承 UINavigationController ...

你能帮我吗？我在任何地方都找不到解决方案...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T13:24:51.623

如果您只针对 iOS 5，您可以使用外观代理，它可以让您在某一时刻为整个应用程序自定义 UI 元素。

[http://developer.apple.com/library/ios/#documentation/uikit/reference/UIAppearance_Protocol/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIAppearance_Protocol/Reference/Reference.html)

如果您需要在较旧的 iOS 上执行此操作，那么没有非常好的解决方案可以执行此操作。有一种使用方法混合的方法，描述为here。

[http://samsoff.es/posts/customize-uikit-with-method-swizzling](http://samsoff.es/posts/customize-uikit-with-method-swizzling)

但这不再适用于 iOS 5。最好的方法是使用 iOS 5 的外观代理和一种解决方法，例如为旧 iOS 调配的方法。

**编辑：**

这是我发现的一些代码，如果可用，则使用外观代理，如果不可用，则使用方法调动。

```
if ([[UINavigationBar class] respondsToSelector:@selector(appearance)]) {
    // iOS >= 5.0 -> Use Appearance API
    [[UINavigationBar appearance] setTintColor:[UIColor redColor]];
}
else {
    // iOS < 5.0 -> Use Method Swizzling
    Method drawRectCustomBackground = class_getInstanceMethod([UINavigationBar class], @selector(drawRectCustomBackground:));
    Method drawRect = class_getInstanceMethod([UINavigationBar class], @selector(drawRect:));
    method_exchangeImplementations(drawRect, drawRectCustomBackground);
} 
```

该`drawRectCustomBackground`方法是在一个类别中实现的`UINavigationBar`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T14:59:25.493

启动您的主导航控制器，其中包含 4 个数组，每个数组在 NavigationBar 的每个选项卡中都有一个 NavigationController。我认为它会起作用。

希望能帮助到你，

**马里奥**

# javascript - HTML5 和 Javascript 的 3d 用户体验

> ID：12330871
> 
> 赞同：0
> 
> 时间：2012-09-08T12:52:01.337
> 
> 标签：javascript, html, html5-canvas, javascript-framework

我必须使用 HTML5 和提供此类功能的任何必需的 JS 库来构建 3D 用户体验。3D 场景由圆柱形管道和表面组成。它具有 360 度旋转，可以放大和缩小。当用户选择一个参数时，应显示该参数在表面不同管道深度处的具体值。

我搜索了 HTML5 3d 和 JS 库，发现 three.js 可以对此有所帮助。还在 HTML 3d 引擎上找到了这个有用的演示文稿：[http](http://projects.mariusgundersen.net/OnGameStart/#1) ://projects.mariusgundersen.net/OnGameStart/#1 。但因为这是我的第一次使用 HTML5 3d 建模，我应该如何开始构建？应该考虑哪些参数？哪些工具和库最适合这些要求？

![我想使用 HTML5 和 JS 3d 引擎创建一个 3d 模型，如第一张图片所示。](../Images/7f089a03592edafcca05fd57867c0c63.png)

我想使用 HTML5 和 JS 3d 引擎创建一个 3d 模型，如第一张图片所示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:09:07.193

我做了一个类似的小 3D 动画，使用[blender](http://www.blender.org/)进行建模，[three.js](https://github.com/mrdoob/three.js)作为 JavaScript 3D 引擎，[tween.js](https://github.com/sole/tween.js/)用于动画。您可以[将模型从 blender 导出到 three.js](https://github.com/mrdoob/three.js/tree/master/utils/exporters/blender)。

# asp-classic - 经典 ASP 虚拟包括

> ID：12330872
> 
> 赞同：0
> 
> 时间：2012-09-08T12:52:10.133
> 
> 标签：asp-classic, include, include-path

假设我有以下文件结构，其中前 4 个是虚拟目录：

```
1/2/3/4/5/6/7/8 
```

是否可以从目录 8 中的文件中包含目录 4 中的文件，使用类似以下内容？

```
<!-- #include virtual="/4/5/6/a.asp" --> 
```

请注意，我没有 8 级目录 - 我实际上只有 3 级，格式为 /ab/abCore/includes.asp、/ab/ab123/default.asp、/ab/ab123/ajax/ab.asp、/ ab/ab123/actions/create.asp（可能很快会有更多级别）并且希望在 default.asp 和 create.asp 中使用相同的包含。我能找到的唯一方法是将“文件”与“../”一起使用一次或多次。ab 是一个虚拟目录，但 abCore 和 ab123 不是。我需要从此目录中的任何目录中的任何文件中引用虚拟目录“ab”。我只是在我的示例中使用 8 来更好地解释我的情况。请注意，我可以完全控制 IIS，定义哪些目录是虚拟的等等。

如果这不是很清楚，请说（而不是投反对票），我会尝试改写。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:48:33.810

是的，它可以做到。假设 f1 文件夹中有一个文件 test1.asp，并且您想将它包含在路径 f1/f2/f3 中的文件中。只需编写如下代码

```
<!--#include file = "..\..\test1.asp"--> 
```

所以这是你的答案。你的代码应该像

```
<!--#include file = "..\..\..\..\a.asp"--> 
```

# javascript - Chrome（webkit？）无法在幻灯片中正确显示图像

> ID：12330873
> 
> 赞同：0
> 
> 时间：2012-09-08T12:52:26.140
> 
> 标签：javascript, css, google-chrome, slideshow

我已经阅读了很多关于 webkit 浏览器存在图像问题的帖子。我找不到帖子，因此找不到我要解释的答案。

我使用 jQuery 创建了一个自制的幻灯片，它基本上将所有图像彼此相邻放置在一行中，然后我使用遮罩元素（溢出：隐藏）和 margin-left 属性来选择要显示的图像。我没有重新发明轮子...

在 FF、Opera 甚至 IE 上，它就像一个魅力！但是我在 Chrome 上没有运气（我没有测试 Safari）：第一张图片显示正常，但是当滑动效果开始时，第一张幻灯片的 20px-ish 保留在幻灯片的顶部并覆盖第二张幻灯片。如果我继续滑动，则第一个幻灯片部分将保留为以下幻灯片的叠加层。图像在 Chrome 上无法正常刷新，这使得整个幻灯片看起来很垃圾。

我尝试在滑动效果后使用图像 css 属性来强制容器刷新其内容，但同样没有运气。

有没有人知道如何解决这个问题？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T13:07:45.247

找到修复...

正如我所说，试图强制容器使用一些不同的 css 属性刷新其内容是行不通的。但有效的是向容器添加跨度，就是这样......在问题发生时，我的容器中只有图像和地图。我添加了一个跨度（不走运），它立即起作用了！

我只能假设为什么添加跨度会使整个容器表现良好。我想这有点像 IE6 用来扔给极客的“hasLayout”属性。在元素具有一致性（高度、宽度......设置一个值）之前，它无法正确渲染元素。

无论如何，我希望这会有所帮助，是的，我确实敢于将 Chrome 与 IE6 进行比较...... ;-)

再会

# filter - 用于 RECIPE 选择的 SPARQL 查询

> ID：12330877
> 
> 赞同：1
> 
> 时间：2012-09-08T12:53:03.430
> 
> 标签：filter, sparql

好的，假设我需要提取所有包含 2/3 成分的食谱。食谱表示为链接数据，这是使用的本体[http://linkedrecipes.org/schema](http://linkedrecipes.org/schema)。我知道如何找到咖喱食谱：

```
PREFIX rdfs: <htp://ww.w3.org/2000/01/rdf-schema#>
PREFIX recipe: <htp://linkedrecipes.org/schema/>

SELECT ?label ?recipe 
WHERE{ 
?food rdfs:label ?label2 . 
?food recipe:ingredient_of ?recipe .
?recipe a recipe:Recipe . 
?recipe rdfs:label ?label.  

FILTER (REGEX(STR(?label2), 'curry', 'i'))
} 
```

但是我怎么能找到咖喱和鸡肉的食谱呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T19:29:11.260

这应该找到咖喱和鸡肉：

```
PREFIX rdfs: <htp://ww.w3.org/2000/01/rdf-schema#>
PREFIX recipe: <htp://linkedrecipes.org/schema/>

SELECT ?label ?recipe { 
    ?recipe a recipe:Recipe . 
    ?recipe rdfs:label ?label.  

    ?curry recipe:ingredient_of ?recipe .
    ?curry rdfs:label ?curry_label . 
    FILTER (REGEX(STR(?curry_label), 'curry', 'i'))

    ?chicken recipe:ingredient_of ?recipe .
    ?chicken rdfs:label ?chicken_label . 
    FILTER (REGEX(STR(?chicken_label), 'chicken', 'i'))
} 
```

# cuda - CUDA 不启动线程？

> ID：12330878
> 
> 赞同：0
> 
> 时间：2012-09-08T12:53:14.873
> 
> 标签：cuda

我正在运行需要大约 16384 个线程的应用程序。但是经过实验，我观察到 CUDA 无法启动超过某个数量的线程。所以，特别是在我的应用程序中，每次启动 14337 个线程，但除此之外没有线程启动。

可能是什么原因？

系统：特斯拉 C2070 Linux 32bit

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T07:29:26.377

Can you be a little bit more specific about how you launch your kernel? This is just a wild guess, but to me it sounds like your thread blocks are too large. As you might already know, you can't just start 16k threads in one thread block. Maybe [this SO thread](https://stackoverflow.com/questions/10441840/cuda-threads-and-blocks) is helpful. The maximum number of threads per block for your GPU should be 1024, so you have to organize your threads in several thread blocks. It would also be interesting to see how you check that only 14k threads are launched (some source code would help).

# .htaccess - 我无法让我的重写规则正常工作

> ID：12330880
> 
> 赞同：0
> 
> 时间：2012-09-08T12:53:29.513
> 
> 标签：.htaccess, mod-rewrite

我正在努力做到这一点：

```
www.amazingjokes.com/cache/search.php?term=programming 
```

去这个：

```
wwww.amazingjokes.com/popular/programming 
```

但我无法让它正常工作。我试过像

```
RewriteRule ^cache/search.php?term=(.*)$ /popular/$1 [R=301,L] 
```

但无济于事。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T12:57:11.013

RewriteRule 不接收查询字符串，它实际接收的只是文件的路径。所以当你要去的时候`/cache/search.php?term=programming`，它实际收到的只是`/cache/search.php`。

但是，您可以在`%{QUERY_STRING}`变量上使用 RewriteCond：

```
RewriteCond %{QUERY_STRING}     ^term=(.*)$     [NC]
RewriteRule ^/cache/search.php$ /search/%1      [NC,L,R=301] 
```

# arrays - 将数组格式的动态文件内容绑定到jtable

> ID：12330882
> 
> 赞同：0
> 
> 时间：2012-09-08T12:54:20.547
> 
> 标签：arrays, dynamic, csv, jquery-jtable

我正在使用 ASP.NET MVC 3，并且想知道如何将文件的内容作为数组返回到视图中的 jtable。数组的每一行都包含一个逗号分隔的列表。（文件的内容来自 .csv 文件或 excel 电子表格）

第一列包含字段标题，文件中字段标题的数量可能会有所不同，所以我猜你可以说 jtable 的内容是动态的？

我已经用明确命名的字段编写了 jtables，但那时我才知道需要多少字段。在这种情况下，它可能是 1 到 11 个字段，并且由于字段名称位于数组的第一行，我不太确定如何设置 jtable 以将它们识别为 jtable 的列标题。

对于初学者，这里有几个我希望绑定到表的数组示例。

```
array[0] = "phone,first,last";
array[1] = "1111111111,firstname,lastname"; 
```

或者

```
array[0] = "first,last,email";
array[1] = "firstname,lastname,emailaddress@email.com"; 
```

对于第一个示例，我不需要显示“电子邮件”字段，而对于第二个示例，我不需要电话字段。实际内容可能包含很多行，这就是为什么我想将它绑定到启用分页的 jtable。

在我的控制器方法中，我将文件的内容作为一个字符串数组，每个数组项有一行以逗号分隔的字段。我从那里去哪里是个问题。

谢谢你的帮助，嘉莉

实际上，我已经通过使用 Expando 对象来创建动态对象列表解决了我的第一个问题。. . 现在的问题是 jtable 似乎需要绑定到从帖子返回的结果。我现在得到的 json 对象已经返回了，所以我不需要发帖来获取它。那么，现在的问题是，是否可以将 json 结果绑定到 jtable 而无需让 jtable 发布帖子？

再次，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T18:07:08.807

处理类似的问题；我正在返回 json 并且需要绑定到 jtable。这是我的 ajax 调用中的代码。我发现的唯一 jtable 方法是 addRecord。

希望这会有所帮助，我会在改进并使其功能齐全时进行编辑。是的，我知道我应该只包含格式正确的答案，但由于您没有任何帮助，我们可以从这个开始，让它成为一项正在进行的工作。

```
if (data.Result == "OK") {
                    for (var i = 0; i < data.Records.length; i++) {
                        $("#SearchResultsAddContact").jtable('addRecord', {
                            record: {
                                FirstName: data.Records[i].FirstName,
                                LastName: data.Records[i].LastName,
                                NumGroups: data.Records[i].NumGroups,
                                NumPhones: data.Records[i].NumPhones,
                                NumTexts: data.Records[i].NumTexts,
                                NumTags: data.Records[i].NumTags,
                                NumTDDs: data.Records[i].NumTDDs,
                                NumEmails: data.Records[i].NumEmails
                            }
                        });
                    }
                    $("#SearchResultsAddContact").jtable('load'); 
```

确保按如下方式编辑 jquery.jtable.js 文件：（第 1297-1308 行）

```
 addRecord: function (options) {
        var self = this;
        options = $.extend({
            **clientOnly: true,**
            animationsEnabled: self.options.animationsEnabled,
            url: self.options.actions.createAction,
            success: function () { },
            error: function () { }
        }, options); 
```

将 clientOnly: 更改为 true

# java - 使用 GWT 和 GAE 的同步、异步和命令客户端请求

> ID：12330886
> 
> 赞同：3
> 
> 时间：2012-09-08T12:55:10.200
> 
> 标签：java, google-app-engine, gwt, asynchronous, requestfactory

在设计我的 GWT/GAE 应用程序时，很明显我的客户端 (GWT) 将生成三种类型的请求：

*   **同步**- “*现在就*回答我！我很重要，需要实时响应！！！”
*   **异步**- “尽可能回答我；我需要在某个*时候*知道答案，但实际上并不是那么紧急。”
*   **命令**- “我不需要答案。这不是一个真正的请求，它只是一个在服务器端做某事或处理某事的命令。”

我的*游戏计划*是实现我的 GWT 代码，以便我可以为每个特定的服务器端请求指定（注意：由于本问题范围之外的原因，**我决定使用`RequestFactory`传统的 GWT-RPC** ），哪种类型要求它是：

*   `SynchronousRequest`- 同步（从上面）；发送命令并急切地等待响应，然后以某种方式更新客户端的状态
*   `AsynchronousRequest`- 异步（从上面）；发出初始请求，并以某种方式（通过轮询或 GAE 通道 API）在最终收到响应时得到通知
*   `CommandRequest`- 命令（从上面）；发出服务器端请求并且不等待响应（即使服务器未能或拒绝执行命令）

我想我的意图`SynchronousRequest`不是产生一个完全阻塞的请求，但它可能会阻止用户与`Widget`屏幕的特定或部分交互的能力。

这里增加的问题是：GAE 强烈强制其所有前端实例超时（60 秒）。后端实例对超时、线程等有更宽松的约束。所以对我来说很明显，`AsynchronousRequests`应该`CommandRequests`路由到后端实例，这样 GAE 超时就不会成为它们的问题。

但是，如果 GAE 表现不佳，或者我们的流量达到峰值，或者我的代码很糟糕，我必须考虑制作 a 的场景`SynchronousRequest`（它必须通过超时调节的前端实例）并且会超时，除非我的 GAE 服务器代码做一些花哨的事情。我知道 GAE API 中有一个方法，我可以调用它来查看一个请求在它即将超时之前有多少毫秒；但是虽然它的名字现在让我忘记了，但这就是这个“花哨”代码的基础。`public static long GAE.timeLeftOnRequestInMillis()`为了这个问题，我们称之为。

在这种情况下，我想检测 a`SynchronousRequest`即将超时，并以某种方式动态地将其转换为 a`AsynchronousRequest`以便它不会超时。也许这意味着向`AboutToTimeoutResponse`客户端发送一个回复，并迫使客户端决定是重新发送`AsynchronousRequest`还是失败。或者也许我们可以将其`SynchronousRequest`转换为 an`AsynchronousRequest`并将其推送到一个队列中，后端实例将使用它、处理它并返回响应。在实现方面我没有任何偏好，只要请求不会失败或超时，因为服务器无法足够快地处理它（因为 GAE 强加的规定）。

那么，这就是我在这里真正要问的：

*   我怎样才能`RequestFactory`在里面包装一个电话`SynchronousRequest`，`AsynchronousRequest`并`CommandRequest`以这样一种方式使`RequestFactory`电话的行为符合他们每个人的预期？换句话说，这样调用要么部分阻塞（同步），要么可以在以后的某个时间通知/更新（异步），还是可以只是触发后忘记（命令）？
*   如何实现我的要求，让`SynchronousRequest`绕过 GAE 的 60 秒超时并且仍然得到处理而不会失败？

请注意：超时问题很容易通过将事物重新路由到后端实例来规避，但后端不能/不能扩展。我在这里也需要可扩展性（这就是我首先使用 GAE 的主要原因！） - 所以我需要一个处理可扩展前端实例及其超时的解决方案。提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T06:57:19.410

如果您希望 GAE 执行的计算需要超过 60 秒，那么在发送响应之前不要等待计算结果。根据您的问题定义，没有办法解决这个问题。相反，客户端应该提交工作订单，并在结果准备好时等待来自服务器的通知。请求将由工作订单组成，可能看起来像这样：

```
class ComputeDigitsOfPiWorkOrder {
  // parameters for the computation
  int numberOfDigitsToCompute;

  // Used by the GAE app to contact the requester when results are ready.
  ClientId clientId;
} 
```

这样，您的 GAE 应用程序可以在保存工单后立即响应（例如在任务队列中），而不必等到它实际完成十亿位数的 pi 计算后才响应。然后，您的 GWT 客户端使用 Channel API 等待结果。

为了给某些工单更高的优先级，可以使用多个任务队列。如果您希望任务队列工作自动扩展，您将需要使用推送队列。使用推送队列实现优先级有点棘手，但您可以[配置高优先级队列](https://developers.google.com/appengine/docs/python/config/queue)以获得更快的馈送速率。

您可以用其他通知解决方案替换 Channel API，但这可能是最直接的。

# javascript - Google 公共日历链接不起作用（完整日历）

> ID：12330887
> 
> 赞同：0
> 
> 时间：2012-09-08T12:55:33.327
> 
> 标签：javascript, jquery, fullcalendar

我想在我的网站上使用“fullcalendar”来生成公共日历。

所以，我生成了一个 XML 链接：

```
http://www.google.com/calendar/feeds/funky-flava.com_gtuilvhr9dnft0ututonqg51b0%40group.calendar.google.com/public/basic 
```

当我在“事件”部分初始化它时，它不起作用......

```
$('#calendar').fullCalendar({
    events: 'http://www.google.com/calendar/feeds/funky-flava.com_gtuilvhr9dnft0ututonqg51b0%40group.calendar.google.com/public/basic'
}); 
```

就绪链接如下所示：

```
http://www.google.com/calendar/feeds/funky-flava.com_gtuilvhr9dnft0ututonqg51b0%40group.calendar.google.com/public/full?alt=json-in-script&callback=jQuery18104237642253283411_1347107892685&start-min=2012-08-26T00%3A00%3A00Z&start-max=2012-10-07T00%3A00%3A00Z&singleevents=true&max-results=9999&_=1347107892732</pre></code> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-11-17T20:30:22.930

Google has deprecated their v2 api as of Nov. 17 see [http://googleappsupdates.blogspot.ca/2014/06/calendar-gdata-api-google-calendar.html](http://googleappsupdates.blogspot.ca/2014/06/calendar-gdata-api-google-calendar.html)

This will affect all applications targetting the v2 API which fullcalendar does at this point.

# php - 如何使用谷歌翻译 API 服务将意大利语文本字符串翻译成英文文本字符串？

> ID：12330889
> 
> 赞同：0
> 
> 时间：2012-09-08T12:55:50.800
> 
> 标签：php, ajax

这是我的代码，我正在尝试将意大利语字符串翻译成英语，为此我正在使用谷歌 API 服务。

我的目标是将意大利语的 Ajax 响应文本翻译成英语。

代码：

```
$str = "L'illuminazione è il loro mestiere";
$to_lan = "en";
$from_lan = "it";
GoogleTranslate ($str, $to_lan, $from_lan);
function GoogleTranslate ( $str, $to_lan, $from_lan )
{
    $data = file_get_contents ( "http://ajax.googleapis.com/ajax/services/language/translate?v=1.0&q=" . urlencode($str) . "&langpair=" . $from_lan . "%7C" . $to_lan );
    $data = json_decode ( $data );
if ( $data->responseStatus == 200 )
{
    echo $data->responseData->translatedText;
    //return $data->responseData->translatedText;
}
else
{
    echo "Server down.";
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T23:43:18.873

或者您可以使用[YQL](http://developer.yahoo.com/yql/console/?env=store://datatables.org/alltableswithkeys&q=select%20%2a%20from%20google.translate%20where%20q=%22this%20is%20a%20test%22%20and%20target=%22de%22;)并解析 XML/JSON 响应。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T14:03:36.133

您可以在**[此处](https://developers.google.com/translate/v2/libraries)****查看Google Translate API > Libraries and Samples**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T13:00:29.157

似乎您忘记添加语言：

```
$to_lan = "en";
$from_lan = "it";
GoogleTranslate ($str, $to_lan, $from_lan); 
```

或者

```
GoogleTranslate ($str, "it", "en"); 
```

# jsp - 如何将值从一个 jsp 传递到另一个 jsp 以更新数据库

> ID：12330890
> 
> 赞同：0
> 
> 时间：2012-09-08T12:56:14.043
> 
> 标签：jsp, servlets, jstl

我有 LookupStudent.jsp 根据某些条件搜索和列出学生。

这个jsp 有一个指向另一个jsp UpdateStudent.jsp 的引用链接。

我想要

1.  根据 LookupStudent.jsp 中的学生 ID 在 UpdateStudent.jsp 中显示学生
2.  根据步骤 1 中所做的更改更新表。

请你能帮助如何实现这一目标？

LookupStudent.jsp

```
 <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
    <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%>

    <%@page contentType="text/html" pageEncoding="UTF-8"%>
    <!DOCTYPE html>
    <html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Lookup Students</title>
    </head>

    <body class="body">

        <form method="get" action="LookupStudentServlet">

            <table border="0">
                <tr align="left" valign="top">
                    <td>Student Name:</td>
                    <td><select name="fnameOperator">
                            <option value="Eq">Equals</option>
                            <option value="Sw">Starts With</option>
                            <option value="Ew">Ends With</option>
                            <option value="Co">Contains</option>
                    </select></td>
                    <td><input type="text" name="fname" /></td>
                </tr>
                <tr align="left" valign="top">
                    <td></td>
                    <td><input type="submit" name="submit" value="submit" /></td>
                </tr>
            </table>

        </form>

        <!-- List results -->

        <c:if test="${not empty studentList}">
            <table border="1" cellspacing="0" cellpadding="0" :>
                <tr>
                    <th>ID</th>
                    <th>Title</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                </tr>
                <c:forEach var="students" items="${studentList}">
                    <tr>
                        <td>${students.studentID}</td>
                        <td>${students.title}</td>
                        <td>${students.firstName}</td>
                        <td>${students.lastName}</td>
                        <td><c:url value="UpdateStudent.jsp" var="url">
                                <c:param name="StudentID" value="${students.studentID}" />
                            </c:url> <a href="${url}">edit</a>
                    </tr>
                </c:forEach>
            </table>
        </c:if>

        <p>There are ${fn:length(studentList)} results.</p>
    </body>
    </html> 
```

LookupStudentServlet.java

```
 package org.cms.controller;

    import java.io.IOException;
    import java.sql.SQLException;
    import java.util.List;

    import javax.servlet.ServletException;
    import javax.servlet.annotation.WebServlet;
    import javax.servlet.http.HttpServlet;
    import javax.servlet.http.HttpServletRequest;
    import javax.servlet.http.HttpServletResponse;

    import org.cms.model.StudentDAO;

    /**
     * Servlet implementation class ListStudent
     */
    @WebServlet("/LookupStudentServlet")
    public class LookupStudentServlet extends HttpServlet {
        private static final long serialVersionUID = 1L;

        /**
         * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
         */
        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
            try {
                String fnameOperator = request.getParameter("fnameOperator");

                //System.out.println(fnameOperator);

                String fname = request.getParameter("fname");
                String condition = "where 1=1 ";

                if (fname!=null||fname.length()>0) {
                    if (fnameOperator.equalsIgnoreCase("Eq")) {
                        condition =condition+ "and first_name = '"+fname+"'";
                    }
                    else if (fnameOperator.equalsIgnoreCase("Sw")) {
                        condition =condition+ "and first_name like '"+fname+"%'";
                    }
                    else if (fnameOperator.equalsIgnoreCase("Ew")) {
                        condition =condition+ "and first_name like '%"+fname+"'";
                    }
                    else if (fnameOperator.equalsIgnoreCase("Co")) {
                        condition =condition+ "and first_name like '%"+fname+"%'";
                    }

                }       

                //System.out.println(condition);

                StudentDAO student = new StudentDAO();
                List<StudentDAO> students = student.lookupStudent(condition);
                request.setAttribute("studentList", students);
            } catch (SQLException sqle) {
                request.setAttribute("error", "Retrieving Students failed.");
                sqle.printStackTrace();
            }
         catch (Exception e) {
                e.printStackTrace();
        }
            finally {}
            request.getRequestDispatcher("LookupStudent.jsp").forward(request, response);
        }

        } 
```

更新学生.jsp

```
 <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
    <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%>

    <%@page contentType="text/html" pageEncoding="UTF-8"%>
    <!DOCTYPE html>
    <html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Lookup Students</title>
    </head>
    <link rel="stylesheet" href="css/style.css" type="text/css"></link>

    <body class="body">

        <form method="get" action="UpdateStudent" class="form">

            <table border="0">
                <tr align="left" valign="top">
                    <td>Student ID:</td>
                    <td><input type="text" name="StudentID" /></td>
                </tr>
                <tr align="left" valign="top">
                    <td>Title:</td>
                    <td><input type="text" name="Title" /></td>
                </tr>
                <tr align="left" valign="top">
                    <td>First Name:</td>
                    <td><input type="text" name="Fname"  /></td>
                </tr>
                <tr align="left" valign="top">
                    <td>Last Name:</td>
                    <td><input type="text" name="Lname"  /></td>
                </tr>
                <tr align="left" valign="top">
                    <td></td>
                    <td><input type="submit" name="submit" value="submit"
                        class="fb8" /></td>
                </tr>
            </table>

        </form>

    </body>
    </html> 
```

更新StudentServlet.java

```
 package org.cms.controller;

    import java.io.IOException;
    import java.sql.SQLException;
    import java.util.List;

    import javax.servlet.ServletException;
    import javax.servlet.annotation.WebServlet;
    import javax.servlet.http.HttpServlet;
    import javax.servlet.http.HttpServletRequest;
    import javax.servlet.http.HttpServletResponse;

    import org.cms.model.StudentDAO;

    /**
     * Servlet implementation class ListStudent
     */
    @WebServlet("/UpdateStudentServlet")
    public class UpdateStudentServlet extends HttpServlet {
        private static final long serialVersionUID = 1L;

        /**
         * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
         */
        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
            try {

                int studentID;
                studentID = Integer.parseInt(request.getParameter("StudentID"));
                //System.out.println(fnameOperator);
                String condition = "where 1=1";
                condition = condition+"and student_id = "+studentID;
                System.out.println(condition);
                StudentDAO student = new StudentDAO();
                List<StudentDAO> students = student.lookupStudent(condition);
                request.setAttribute("studentList", students);
            } catch (SQLException sqle) {
                request.setAttribute("error", "Retrieving Students failed.");
                sqle.printStackTrace();
            }
         catch (Exception e) {
                e.printStackTrace();
        }
            finally {}
            request.getRequestDispatcher("UpdateStudent.jsp").forward(request, response);
        }

        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-09T10:23:19.853

如果问题仅涉及将参数从一个jsp传递到另一个jsp。你有多种方法。你可以使用这样的东西

```
 request.setAttribute("parameterName") 
```

或者你可以使用类似和标签的东西。这样就可以传递参数了。甚至您的代码似乎都在传递参数，您得到了什么样的异常？谢谢，本

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-09T19:05:17.630

您可以使用

```
<jsp:forward  page = "UpdateStudent.jsp">
 <jsp:param name = "id" value = "15" />
</jsp:forward> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-21T05:47:42.650

如果你想通过 String ， Integer ....

```
session.setAttribute("name", object) 
```

和另一页

```
(String)session.getAttribute("name") 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T11:41:15.937

**如果要在页面之间发送参数，也可以使用会话：**

```
session.setAttribute("name", object) 
```

**在另一页：**

```
session.getAttribute("name") 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-10T11:42:46.500

我当然相信我们可以将参数放入范围，但请确保您非常谨慎地使用会话，因为过多的会话属性会降低您的性能。HTH，本

# python - 使用包导入模块语法时，Python 循环导入失败

> ID：12330891
> 
> 赞同：1
> 
> 时间：2012-09-08T12:56:18.707
> 
> 标签：python, import, cyclic-reference

> **可能重复：**
> [Python 中的循环模块依赖项和相对导入](https://stackoverflow.com/questions/6351805/cyclic-module-dependencies-and-relative-imports-in-python)

考虑以下python中循环导入的示例：

主要.py：

```
from pkg import foo 
```

包/__init.py__：

```
# empty 
```

包/foo.py：

```
from pkg import bar 
```

包/bar.py：

```
from pkg import foo 
```

运行 main.py 会导致异常：

```
Traceback (most recent call last):
  File "/path/to/main.py", line 1, in <module>
    from pkg import foo
  File "/path/to/pkg/foo.py", line 1, in <module>
    from pkg import bar
  File "/path/to/pkg/bar.py", line 1, in <module>
    from pkg import foo
ImportError: cannot import name foo 
```

将 bar.py 更改为：

```
# from pkg import foo
import pkg.foo 
```

将使示例工作。

为什么会这样？不应该 *import package.module" 和 "from package import module" 是等价的（除了后者中的额外名称绑定）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T14:06:11.743

首先你要明白：

*   该`sys.modules`变量在导入机制中起到缓存的作用，这意味着如果我们第一次导入一个模块，一个包含该模块名称的条目将添加到 中`sys.modules`，这样当我们下次尝试导入同一个模块时，我们只会从中获取已经缓存的模块`sys.modules`，我们不会再次执行该模块。

*   `import pkg.foo`和之间的区别在于`from pkg import foo`第二个也是等价的：`import pkg.foo`后跟`getattr(pkg, 'foo')`. [（查看我的](https://stackoverflow.com/questions/6351805/c)答案以获取更多详细信息）

现在在您的第一个示例中发生的情况如下：

1- In `main.py`：我们首先执行该行`from pkg import foo`，因此首先将条目`pkg.foo`添加到`sys.modules`（即`'pkg.foo' in sys.modules == True`）而不是我们**尝试**导入`foo`。

2- In `foo.py`：在导入`foo`时，我们最终执行了这一行：`from pkg import bar`再次将条目`pkg.bar`添加到`sys.modules`; 并且比我们开始导入`bar`，这里需要注意的重要一点是我们仍在执行`foo.py`，所以我们仍然在执行这一行`from pkg import foo`from `main.py`。

3- In `bar.py`: 虽然现在导入`bar.py`我们最终执行 line: `from pkg import foo`，但请记住我们已经有一个条目，`sys.modules`这`pkg.foo`意味着执行`foo.py`将被跳过并且导入机械化将让我们而不是`sys.modules['pkg.foo']`条目，现在我们将`getattr(pkg, 'foo')`按照上面的解释执行，但请记住 'pkg.foo' 没有完成导入；这意味着没有属性`foo`可以解释错误。

现在，如果您`bar.py`只输入`import pkg.foo`这个，就不会出现上次导致我们出现问题的行，即：`getattr(pkg, 'foo')`.

高温下，

# ios - 如何自定义 UITableView？

> ID：12330892
> 
> 赞同：0
> 
> 时间：2012-09-08T12:56:34.947
> 
> 标签：ios, ios4, xcode4, uitableview

如何添加图像和文本，如下面的快照所示？我已经在我的应用程序中使用导航控制器，因此将 UITableView 控制器作为主页中的新导航页面包含任何问题。![喜欢这个页面，我正在尝试申请！[][1]](../Images/207a6f3e1d038aecc6c6bb4d51748728.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T13:00:09.347

配置您的时，`UITableViewCell`您可以将`UIImageView`and添加`UILabel`到单元格中`contentView`。

```
 UITableViewCell *cell = ...;

    UIImageView *yourImageView = ...;

    UILabel *yourLabel = ...;

    [cell.contentView addSubview:yourImageView];
    [cell.contentView addSubview:yourLabel]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T13:17:45.973

我会将 UITableView Cell 子类化并创建自己的 cell `MyCustomTableViewCell`，其中包含 UIImageView 和 UILabel 。

然后你可以这样做来更新你的单元格重用案例

```
 ```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    static NSString *CellIdentifier = @"Cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier]

    MyCustomTableViewCell *myCell = (MyCustomTableViewCell)cell;
    myCell.label.text = newText;
    myCell.imageView.image = newImage;

    return cell;
} 
``` 
```

# java - 机器人输入错误的字符

> ID：12330894
> 
> 赞同：-1
> 
> 时间：2012-09-08T12:56:53.170
> 
> 标签：java, awt, keypress, awtrobot

我有一个 java 机器人来输入字符，但是它打印的内容如下：

> .. 5./. .. .. //5 / /55/ /.. ..5.. .. 5 5 . 5.

而不是想要的字符串。有人知道如何避免这种情况吗？

```
import java.awt.Robot;
import java.awt.AWTException;

Robot robot;

String txt = "o noes ";
char[] chars;

void setup() {

  chars = txt.toCharArray();

  try {
    robot = new Robot();
  } 
  catch(AWTException e) {
  }
  robot.setAutoDelay(1);

  for (int i = 0; i < 10000; i++) {
    int c = chars[(int)random(chars.length)];
    robot.keyPress(c);
    robot.keyRelease(c);
  }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T13:28:36.270

您可能会认为这种冗长但它有效[http://pastebin.com/p0BdJxpy](http://pastebin.com/p0BdJxpy)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T13:07:12.177

根据 javadoc for ，您必须使用`KeyEvent`类中的值，而不是字符， for 。`keyPress``keyPress`

```
KeyEvent ke = new KeyEvent(<various parameters>);
ke.setKeyChar('a');
int code = ke.getKeyCode(); 
```

# c# - 自定义日期时间选择器

> ID：12330898
> 
> 赞同：0
> 
> 时间：2012-09-08T12:57:22.687
> 
> 标签：c#

我正在使用 C# vs2008 制作一个程序，这是为我的论文做准备。我正在尝试让我的日期时间选择器显示月/日/年，而我的 datagridview 中没有时间。我的日期时间选择器设置为日期时间。

这是我的代码示例：

```
Registrar.InsertStudent(
        Convert.ToInt32(txtStud_ID.Text), 
        txtFname.Text, 
        txtGname.Text,
        txtMname.Text, 
        txtPAdd.Text, 
        txtLline.Text,
        txtMobile.Text, 
        cbCitizen.SelectedItem.ToString(), 
        dtpDOB.Value,
        Convert.ToInt32(txtAge.Text), 
        cbGradeLvL.SelectedItem.ToString(), 
        cbGender.SelectedItem.ToString(),
        txtMotherName.Text, 
        txtMComp.Text, 
        txtMOcc.Text, 
        txtMAdd.Text,
        txtMTele.Text, 
        txtFatherName.Text, 
        txtFComp.Text, 
        txtFOcc.Text,
        txtFAdd.Text, 
        txtFTele.Text, 
        Convert.ToInt32(txtSiblings.Text),
        txtSchool_Last_Attend.Text, 
        txtSchool_Add.Text, 
        txtDname.Text,
        txtDTele.Text, 
        txtInsuComp.Text, 
        cbMedical_List.SelectedItem.ToString(),
        txtPerson_Notified.Text, 
        cbRelation_Pupil.SelectedItem.ToString(), 
        txtIE_Contact.Text,
        txtOther_Allergy.Text, 
        txtOtherIE.Text
        ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-23T12:25:45.640

您可以将自定义日期格式设置为 DateTimePicker，如下所示：

```
this.datetimepicker.Format = DateTimePickerFormat.Custom;
this.datetimepicker.CustomFormat = "MM-dd-yyyy" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T13:01:56.080

您可以尝试使用此代码

```
var result = dateTimePicker1.Value.Date.ToString(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T13:07:29.657

不完全理解您的问题，但如果您可以访问 DateTime 变量。

```
DateTime dt = DateTime.Now;
string dateString = dt.ToString("yyyy-mm-dd"); 
```

dateString 现在等于 = "2012-09-08"（取决于时区）

# php - 在简单的 php dom 解析器上添加访问者浏览器信息 ip

> ID：12330900
> 
> 赞同：0
> 
> 时间：2012-09-08T12:57:53.960
> 
> 标签：php, dom

如何在简单的 php dom 解析器上添加访问者浏览器信息 ip。[PHP 简单的 HTML DOM 解析器](http://simplehtmldom.sourceforge.net/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-09T16:42:14.787

是的，有可能，您可以将其添加到您喜欢的功能中。以下是示例：

```
 $header = array();
    $header[0] = "Accept: text/xml,application/xml,application/xhtml+xml,";
    $header[0] .= "text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5";
    $header[] =  "Cache-Control: max-age=0";
    $header[] =  "Connection: keep-alive";
    $header[] = "Keep-Alive: 300";
    $header[] = "Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7";
    $header[] = "Accept-Language: en-us,en;q=0.5";
    $header[] = "Pragma: "; // browsers keep this blank.

    curl_setopt($this->curl, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows; U; Windows NT 5.2; en-US; rv:1.8.1.7) Gecko/20070914 Firefox/2.0.0.7');
    curl_setopt($this->curl, CURLOPT_HTTPHEADER, $header);
    curl_setopt($this->curl,CURLOPT_COOKIEJAR, $cookieJar); 
    curl_setopt($this->curl,CURLOPT_COOKIEFILE, $cookieJar);
    curl_setopt($this->curl,CURLOPT_AUTOREFERER, true);
    curl_setopt($this->curl,CURLOPT_FOLLOWLOCATION, true);
    curl_setopt($this->curl,CURLOPT_RETURNTRANSFER, true); 
```

# php - onchange 重新加载页面，其值为 select

> ID：12330903
> 
> 赞同：6
> 
> 时间：2012-09-08T12:58:26.303
> 
> 标签：php, javascript, select, onchange

我有一个显示结果的表格，我想让人们能够单独更新单元格/字段的结果，而无需整个更新表格

这是我所拥有的：

```
echo "<select name='tv_taken' id='tv_taken' onchange='window.location=\"samepage.php?update=tv_taken&update_id=$tv_id\" '>"; 
```

您可能会告诉它一个带有用户列表的选择框。现在唯一的问题是我需要在 url 字符串中传递新的选定值，所以我想要选择的新值。

所以让我们说是玛丽，有人选择了一个新用户约翰我想要这样的东西

```
echo "<select name='tv_taken' id='tv_taken' onchange='window.location=\"samepage.php?update=tv_taken&update_id=$tv_id&user_name=$find_username\" '>"; 
```

我不确定有没有办法通过 php 传递更改的值，或者我需要一个 javascript 解决方案？

然后生病使用

```
IF if(isset($_GET['tv_id'])) 
{
Do the update
} 
```

这不是一个公共站点，所以我猜有一种更安全的方法可以做到这一点，但这可能就足够了，因为只有使用它的团队成员才需要登录才能看到这个页面。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-08T13:02:32.400

您需要使用 JavaScript 来实现这一点。

这是一个jQuery解决方案：

```
$('#tv_taken').change(function() {
    window.location = "samepage.php?update=tv_taken&update_id=" + $(this).val();
}); 
```

这是一个普通的 JavaScript 解决方案：

```
document.getElementById('tv_taken').onchange = function() {
    window.location = "samepage.php?update=tv_taken&update_id=" + this.value;
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T13:08:44.517

```
window.addEventListener('load', function(){
    var select = document.getElementById('tv_taken');

    select.addEventListener('change', function(){
        window.location = 'pagename.php?tv_id=' + this.value;
    }, false);
}, false); 
```

# php - Symfony 控制器类中可以有类级别的变量吗？

> ID：12330904
> 
> 赞同：1
> 
> 时间：2012-09-08T12:58:29.547
> 
> 标签：php, model-view-controller, symfony, frameworks

我有一个使用 Symfony 框架的项目。出于优化目的，我缩小了 6 个在请求期间不断使用的常见变量。其中一些变量在数据库中。

现在，一次又一次地返回数据库 5 次，得到相同的值是不好的做法。所以，我想将这些变量值存储到类级变量中。

这是一个好习惯吗？

```
class MyController extends Controller
{

    /*Class level variables to eliminate repetitive object creation.*/
    protected $doctrine; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T08:15:05.297

您可以做的是`extends`在您的控制器和 symfony 的基本控制器之间创建另一个。像这样：

```
class YourController extends ApplicationController

class ApplicationController extends Controller 
```

和 ApplicationController 可以有这样的方法：

```
/**
* @var User
*/
protected  $loggedUser = false ;
protected function getLoggedUserOrNull()
{
    if ( $this->loggedUser === false )
        $this->loggedUser =  $this->get("security.context")->getToken()->getUser() ;
    return $this->loggedUser ;
} 
```

此示例显示已登录用户的实例已“缓存”；这就是你需要的吗？您可以将相同的想法用于您经常需要的其他事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T13:26:26.393

当然，这是一个很好的做法。唯一非常轻微的缺点是，如果从将其分配给类变量到再次访问它时，数据库中的值以某种方式发生了变化。但机会相当渺茫

# android - 将冒号添加到 InputType.TYPE_CLASS_NUMBER 键盘

> ID：12330906
> 
> 赞同：5
> 
> 时间：2012-09-08T12:58:55.353
> 
> 标签：android, android-layout, android-keypad

如何使用输入类型将冒号（:) 添加到软键盘`InputType.TYPE_CLASS_NUMBER` 目前我有以下代码：

```
 NumberKeyListener keyListener = new NumberKeyListener() {
        public int getInputType() {
            return InputType.TYPE_CLASS_NUMBER;
        }

        @Override
        protected char[] getAcceptedChars() {
            return new char[] { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '.', ':', '-', ',' };
        }
    };
    mytext.setKeyListener(keyListener); 
```

但我也喜欢数字键盘上的冒号（:)？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:50:52.057

为了更改软键盘上的字符，您需要创建自定义 IME。

[安卓文档](http://developer.android.com/guide/topics/text/creating-input-method.html)

# php - 随机化整个文件夹

> ID：12330907
> 
> 赞同：3
> 
> 时间：2012-09-08T12:59:27.987
> 
> 标签：php, random

我正在为心理学研究人员创建一个实验，参与者必须完成各种任务。我被要求随机化文件夹的顺序，但保持目录中文件的顺序相同。

我看过使用`glob()`，但我认为我实施错了。

我的目录如下所示：

**时钟**
>>*任务 1/文件。*
>>*任务 2/文件。*
>>*任务 3/文件。*

目前我有这个：

```
 <?php
    function random_folders($dir = 'Clock')
    {
        $folder = glob($dir. '/Task.*');
        $folderRand = array_rand($folder);
        return $folder[$folderRand];
    }
    echo random_folders();
    ?> 
```

我试过谷歌搜索并使用 stackoverflow 搜索解决方案，但我似乎找不到解决方案，任何帮助将不胜感激。

**编辑** 我应该提到我正在使用 HTML5、JavaScript、PHP 和 MySQL 来创建网站，如果相关的话。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:03:42.450

你`glob()`的有点不对劲。你不想要`.`. `*`然后使用`shuffle()`洗牌他们：

```
function random_folders($dir = 'Clock')
{
    $folder = glob($dir. '/Task*');
    shuffle($folder);
    // Returns the randomized array of folders
    return $folder;
}

$random_folders = random_folders();
// List them and their contents:
foreach ($random_folders as $rf) {
  echo "Folder: $rf\n";
  // List files in ascending order
  $files = scandir($rf, SCANDIR_SORT_ASCENDING);
  foreach ($files as $f) {
    if ($file !== "." && $file !== "..") {
      echo $file . "\n";
    }
} 
```

# java - 条件接口实现

> ID：12330908
> 
> 赞同：1
> 
> 时间：2012-09-08T12:59:35.507
> 
> 标签：java, class, interface, locale

我想问是否有可能的方法来有条件地实现接口，或者是否可以解决我想要做的事情。我想制作两个接口 LangA 和 LangB ，它们只会保存大量的最终变量，这些变量是用于打印消息的字符串。正如您可能想象的那样，LangA 是一种语言，而 LangB 是另一种语言。我想要的是让我的消息处理类有条件地实现基于系统语言环境所需的接口。即使使用一些自定义库，我也不知道这是否有可能，所以如果没有，请解释我是否至少可以解决它。（快速提问：这在 Scala 中可行吗？谢谢！）
我想到了一个可能的，但可能不是一个非常节省资源的workaraound，它将让类的构造函数检查语言环境并根据某些无方法类的值设置自己的final，该类仅具有每种语言的final（例如构造函数知道语言环境是 locA 所以它设置决赛 myF1=LangA.myF1; myF2=LangB.myF2; 等等）提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T13:02:53.790

不，这是不可能的。

“*类 X 实现接口 Y”*的关系在编译时是固定的，不能在运行时更改。

但是，使用接口将常量导入类是一种可以追溯到 Java 1.0 的解决方案。[这种反模式不应该用于新的开发](http://docs.oracle.com/javase/1.5.0/docs/guide/language/static-import.html)。

此外，使用编译时常量进行本地化*并不是*Java 的原生解决方案。您应该[使用资源包进行本地化](http://java.sun.com/developer/technicalArticles/Intl/ResourceBundles/)。

如果您需要一种在运行时切换实现的方法，请将常量替换为接口中的方法，并提供返回不同常量的实现：

```
 interface Constants {
     double getAccelerationDueToGravity();
 }

 class EarthConstants implements Constants {
     double getAccelerationDueToGravity() {
         return 9.8;
     }
 }

 class MarsConstants implements Constants {
     double getAccelerationDueToGravity() {
         return 3.71;
     }
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T13:02:41.293

抱歉，这不是一个好的设计。如果您有大量消息，最好将它们存储在数据库中并将它们缓存在一个对象中，以便您在内存中查找它们。

接口只包含常量的想法长期以来一直受到质疑。

接口应该是关于分离方法和行为，而不是常量。

认为这些是特定于语言环境的点对数据库或消息包或 - 等待它 - 以作为键 `Map`的`Property`值更强烈的想法。`Locale`

如果你必须坚持，你将有比继承更好的机会组合。您可以使用 Spring 之类的依赖注入引擎向对象注入所需的消息`BeanFactory`。

除了您发布的想法之外的任何内容。

# c# - 如何在 C# 中使用 DFC 获取文档内容

> ID：12330910
> 
> 赞同：4
> 
> 时间：2012-09-08T12:59:52.807
> 
> 标签：c#, documentum, dfc

我有 documentum 开发者版 6.6。我想在 c# 中使用 DFC 获取文档内容（将内容读入流中）。我使用了以下 C#.net 代码

```
IDfId id = collection.getId("r_object_id");
IDfDocument doc = (IDfDocument) session.getObject(id); 
```

但它会引发以下异常。

> 例外：无法将“System.__ComObject”类型的 COM 对象转换为接口类型“DFCLib.IDfDocument”。此操作失败，因为 IID 为“{EFAC2D68-175B-11D2-9927-006097C27C31}”的接口的 COM 组件上的 QueryInterface 调用因以下错误而失败：不支持此类接口（来自 HRESULT 的异常：0x80004002 (E_NOINTERFACE)） .

我也尝试了以下方法（它运行成功），但我不知道如何将内容读入流或内存流。

```
IDfId id = collection.getId("r_object_id"); 
IDfSysObject sysObject = (IDfSysObject) session.getObject(id); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T14:43:06.640

这会将文件转储到本地文件系统路径：

```
IDfId id = collection.getId("r_object_id"); 
IDfSysObject sysObject = (IDfSysObject) session.getObject(id);

sysObject.getFile(<path>) 
```

然后，您可以使用标准 .Net IO 库将文件作为流打开，例如：

```
var stream = new System.IO.StreamReader(<path>) 
```

我相信 DFC 有一些基于流的公共方法（getContent？），但我还没有看到它们从 .Net 成功使用。但是，我建议您查看 DFS（Documentum 基础服务）API 而不是 DFC。这是现在受支持的 API，并且 DFC 作为公共 API 已被弃用。在处理存储库内容时，DFS 确实具有流选项。

如果此答案不足以满足您的需求，您可能还需要检查[http://developer.emc.com 。](http://developer.emc.com)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T09:02:57.217

异常表示它无法将 COM 对象转换为 IDfDocument。

我猜你的目标不是文件。

非文档 sysobject 有内容很奇怪，但仍然允许。然后可以按照另一个答案中的建议使用 getFile 读取内容。

# android - 如何一步一步地在背景上使用前置摄像头拍摄照片？

> ID：12330911
> 
> 赞同：4
> 
> 时间：2012-09-08T12:59:57.230
> 
> 标签：android

如何在前置摄像头上捕获图片，我正在处理短信事件，当我的手机收到带有代码的特定短信时，我的手机会自动捕获图片并将其保存到 sd 卡。

请帮助我一步一步地捕获图片并保存到 SD 卡。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-09T17:23:09.203

使用以下代码拍照：

```
 Intent intent = new Intent();
                intent.setAction(MediaStore.ACTION_IMAGE_CAPTURE);
                String newPicFile = "Image" + position;
                String outPath = "/sdcard/" + newPicFile;
                File outFile = new File(outPath);
                mCameraFileName = outFile.toString();
                Uri outuri = Uri.fromFile(outFile);
                intent.putExtra(MediaStore.EXTRA_OUTPUT, outuri);
                try{
                    startActivityForResult(intent, 1);
                }
                catch (ActivityNotFoundException e) 
                {
                    Toast.makeText(context, "No Camera Found", Toast.LENGTH_LONG).show();
                } 
```

这段代码可以查看点击的图片：

```
@Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) 
    {
        if( requestCode == CAMERA_PIC_REQUEST)
        {
        //  data.getExtras()
            Bitmap thumbnail = (Bitmap) data.getExtras().get("data");
            ImageView image =(ImageView) findViewById(R.id.PhotoCaptured);
            image.setImageBitmap(thumbnail);
        }
        else 
        {
            Toast.makeText(context, "Picture Not taken", Toast.LENGTH_LONG).show();
        }
        super.onActivityResult(requestCode, resultCode, data);
    } 
```

要检查设备中的前置摄像头，您可以使用以下代码：

```
CameraInfo cameraInfo = new CameraInfo();
            for (int i = 0; i < numberOfCameras; i++) {
                Camera.getCameraInfo(i, cameraInfo);
                if (cameraInfo.facing == CameraInfo.CAMERA_FACING_BACK) {
                    defaultCameraId = i;
                }
            } 
```

另外，请查看此[文档](http://developer.android.com/training/camera/photobasics.html)。

# android - 如何限制 ActionBarSherlock 中的股票期权数量

> ID：12330912
> 
> 赞同：1
> 
> 时间：2012-09-08T13:00:04.697
> 
> 标签：android, actionbarsherlock

如何限制 ActionBarSherlock 中的股票期权数量。我只想展示一些，但目前我正在获得完整的默认列表。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:15:46.383

`ShareActionProvider`- 本机和 ActionBarSherlock 后向端口 - 除了通过更有针对性的`Intent`.

`ShareActionProvider` *在用户*通过*`setShareHistoryFileName()`. 这应该会自动发生，除非您通过`setShareHistoryFileName(null)`.*

 *欢迎您使用源代码`ShareActionProvider`并提出您自己的 UI（例如，始终只显示四个条目加上一个“更多...”，无论历史如何）。*

# forms - 我可以在字段中添加多个值吗？（请看图片）

> ID：12330922
> 
> 赞同：0
> 
> 时间：2012-09-08T13:01:18.737
> 
> 标签：forms, drupal, cck, multivalue

我需要使用 2 内容类型供应商和产品来做库存管理网站。首先，我在供应商内容类型中添加内容。然后我在产品内容类型中添加节点引用字段并将其称为供应商并使其具有多个值。它看起来不错，我可以选择供应商并保存它。但在我的概念中，我需要检查哪个供应商销售该产品以及价格如何。所以我需要以与我的图像相同的形式添加供应商和价格。

![在此处输入图像描述](../Images/f4dfc6dec7ee9b4f419854d849a1b338.png)

此表格的提议，用户可以查看每个供应商对该产品的价格，他们可以选择在下一个过程中购买的最低价格。

伙计们，你有没有想过我可以这样做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T20:48:11.480

根据您附上的图片，我假设您拥有 Druapl 7。您可以通过安装[Field Collection](http://drupal.org/project/field_collection)模块来做到这一点。要获取表格输入，请安装[Field Collection Table](http://drupal.org/project/field_collection_table)。

核心字段可以有同一字段的多个实例。但是您不能将它们分组并使整个组成为多实例组。

Drupal 6 要求 CCK 模块具有字段，并且有一个 MultiGroup 模块（CCK 3branch 从未有过稳定版本）对 Drupal 6 执行类似的操作。

虽然 OP 不需要这个，但亲爱的 Google 人，如果您正在寻找带有文本字段的简单表格，请尝试[TableField](http://drupal.org/project/tablefield)模块

# google-app-engine - 在 GAE 上是否总是保证队列任务的执行？

> ID：12330926
> 
> 赞同：4
> 
> 时间：2012-09-08T13:01:31.230
> 
> 标签：google-app-engine, task-queue

以下简单的模式是否足以确保即使在应用程序更新或硬的、“不稳定的”谷歌故障之后任务序列也不会停止。

```
def do_work():
    ... .... 

    deferred.defer(do_work, _countdown=..in 7 days..) 
```

我可以安排这样一个自我调度的工人并且永不回头吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T14:00:12.400

两个答案：

是的，任务最终会执行，并且在任务执行出错的情况下也会重试执行。定义任务时设置重试选项。

不，任务队列不是调度程序，因此您不能安排任务在特定时间运行。放入任务队列的任务会立即以 FIFO 方式提供服务。

正如@Jesse 所指出的，对于安排作业，您应该查看 GAE cron。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T13:39:01.100

如果一个任务成功排队，它最终会执行。（只要需要，App Engine 将继续尝试。）

不过，您展示的模式可能会更好地使用[cron jobs](https://developers.google.com/appengine/docs/python/config/cron)来实现，它会定期运行任务。我使用的一个常见模式是让每日 cron 作业在任务队列上启动一个任务，重试次数很少（这样如果出现临时故障，它将立即重试）。

如果你确实想使用上面的方法，而不是 cron，还有另一件事需要担心：因为你的方法可能会因为它失败或其他系统问题（例如运行它的实例宕机）而被重试，你应该确保你不要以两个任务结束。想象一下，如果它运行了，注册了下一个任务，然后节点宕机了；App Engine 将重试，开始第二个任务。为了防止这种情况，您可以使用数据存储（在事务中）来测试并查看下一个任务是否已经入队。就像是：

```
def do_work(counter):
    ...

    @db.transactional
    def start_next():
        # fetch myModel from the data store here
        if myModel.counter == counter:
            return # already started next job
        myModel.counter = counter
        myModel.put()
        deferred.defer(do_work, counter + 1, _transactional=True, _countdown=...)

    start_next() 
```

注意 defer 调用中的“事务”参数；这确保了当且仅当下一个任务入队时才会更新 MyModel 实例。

您可能还想考虑在一定次数的重试失败后向管理员发送电子邮件。（您可以在请求 HTTP 标头中找到它，但如果您想这样做，则不能使用延迟库；您必须直接使用任务队列 API。）

# json - 将 pcap 转换为 JSON 的最简单方法

> ID：12330927
> 
> 赞同：15
> 
> 时间：2012-09-08T13:01:48.547
> 
> 标签：json, wireshark, pcap, libpcap, tcpdump

我有一堆用 tcpdump 创建的 pcap 文件。我想将这些存储在数据库中，以便于查询、索引等。我认为 mongodb 可能是一个不错的选择，因为以 Wireshark/TShark 将数据包呈现为 JSON 文档的方式存储数据包似乎很自然。

应该可以使用 tshark 创建 PDML 文件，解析这些文件并将它们插入 mongodb，但我很好奇是否有人知道现有/其他解决方案。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2017-08-09T20:43:47.267

在命令行（Linux、Windows 或 MacOS）上，您可以使用 tshark。

例如

```
tshark -r input.pcap -T json >output.json 
```

或使用过滤器：

```
tshark -2 -R "your filter" -r input.pcap -T json >output.json 
```

考虑到您提到了一组 pcap 文件，您还可以将 pcap 文件预先合并到一个 pcap 中，然后根据需要一次性导出。

```
mergecap -w output.pcap input1.pcap input2.pcap.. 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2016-11-11T02:15:40.347

Wireshark 具有将其捕获文件导出为 JSON 的功能。

File->Export Packet Dissections->As JSON

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T02:37:24.917

你可以使用[pcaphar](https://code.google.com/p/pcaphar/)。有关 HAR 的更多信息，请[点击此处](http://www.softwareishard.com/blog/har-12-spec/)。

# android - sqlite android中的“not null”子句

> ID：12330928
> 
> 赞同：3
> 
> 时间：2012-09-08T13:01:52.657
> 
> 标签：android, sqlite, cursor

我想从数据库中检索笔记（非空），我写了以下代码：

```
public Cursor getmynotesss(int id){
    Cursor mCursor = database.query(true, NOTES_TABLE, new String[] {
            NOTE_TEXT, PAGE_NO,BOOK_ID},BOOK_ID + "=? AND "+NOTE_TEXT+" IS NOT NULL OR "+NOTE_TEXT+" != ''" ,
            new String[] { String.valueOf(id) }, null, null, null, null);

    if (mCursor != null) {
        mCursor.moveToFirst();
    }
    return mCursor;
} 
```

但它仍然给了我空笔记。我的代码有什么问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-08T13:06:17.503

看起来`OR`条件应该是`AND`：

```
"=? AND "+NOTE_TEXT+" IS NOT NULL AND "+NOTE_TEXT+" != ''" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-19T10:04:14.230

我已经像这样解决了我的问题

```
SELECT pk_video_master_id AS _id,
video_title,
video_added_date,
video_thumbnail FROM tbl_video_master
WHERE NOT video_detail_last_view ='' // this is return not null values and work for me 
ORDER BY video_detail_last_view ASC"; 
```

所以你可以这样尝试

```
Cursor mCursor = database.query(true, NOTES_TABLE,new String[] {NOTE_TEXT,AGE_NO,BOOK_ID},BOOK_ID + "=? AND NOT "+NOTE_TEXT+" = ''" ,new String[] {String.valueOf(id) }, null, null, null, null); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T13:10:47.540

尝试

```
 Cursor mCursor = database.query(true, NOTES_TABLE, new String[] {
        NOTE_TEXT, PAGE_NO,BOOK_ID}, NOTE_TEXT+" IS NOT NULL AND "+BOOK_ID + "=?" ,
        new String[] { String.valueOf(id) }, null, null, null, null); 
```

SQLITE 中的不等于是“<>”而不是“！=”

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-10-24T18:50:09.093

尝试更换

```
IS NOT NULL 
```

和

```
<>`` 
```

# java - 我如何在 jsf 页面中嵌入 java 代码？

> ID：12330934
> 
> 赞同：4
> 
> 时间：2012-09-08T13:02:18.880
> 
> 标签：java, jsf, jsf-2, scriptlet

我有：一个名为“LoginBean”的托管 bean。一个名为“login.xhtml”的 JSF 页面

在这个 jsf 页面中，我有一个登录表单。

在 managebean 我有一个 loginCheck 功能。

```
public void loginCheck(){
 if(logincorrect){
  //set user session 
 }else{
  //set lockout count session ++
 }
} 
```

我想在我的 jsf 页面中做的是，当锁定计数会话 == 2 时（意味着用户未能正确登录 2 次，我需要显示一个 recaptcha 标记。

```
<td>
    <%
         if(FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("numberOfLogins") == 2){
         <p:captcha label="Captcha" requiredMessage="Oops, are you human?"/>
       }
     %> 
```

显然， <% 标签不起作用。感谢 java/jsf 专家的任何帮助。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-08T13:52:23.100

*Scriptlet*（那些类似于 PHP 的`<% %>`东西）是 JSP 的一部分，自 JSF 2.0 起已[**弃用**](http://docs.oracle.com/javaee/6/tutorial/doc/giepx.html)，取而代之的是其后续的 Facelets (XHTML)。Facelets 不再支持*scriptlet*的任何替代方案。在 JSP 中使用*scriptlet*几乎在所有情况下都会导致[代码库设计不良和可维护性差](https://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files/3180202#3180202)。忘记他们。Java 代码属于完全有价值的 Java 类。只需在控制器（JSF 支持 bean 类）中准备模型（一些 Javabean 类）并使用标记库和 EL（表达式语言，那些`#{}`东西）来访问视图中的模型。

您的具体用例，

```
<%
     if(FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("numberOfLogins") == 2){
     <p:captcha label="Captcha" requiredMessage="Oops, are you human?"/>
   }
 %> 
```

可以在完全值得的 JSF/EL 中解决如下：

```
<p:captcha label="Captcha" requiredMessage="Oops, are you human?" rendered="#{numberOfLogins == 2}" /> 
```

顺便说一句，这可以比手动放置在会话映射中的某些属性`numberOfLogins`更好地成为 JSF 的属性。`@SessionScoped @ManagedBean`

### 也可以看看：

*   [我们的 JSF wiki 页面](https://stackoverflow.com/tags/jsf/info)- 还包含一些不错的 JSF 教程的链接

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-09-08T13:05:57.060

这不是 JSF 的工作方式，至少不是使用 XHTML 作为表示层而不是 JSP。（`<%`是 JSP 的一部分，您在这里不再使用它。）正确的方法是使用托管 bean。或者，您可以在此处使用表达式语言 (EL)。

我会查看[Oracle 的 Java EE 教程的“JavaServer Faces Technology”一章以](http://docs.oracle.com/javaee/6/tutorial/doc/bnaph.html)获得更多帮助。

# javascript - 如何在从客户端接收数据时从本机方法触发 javascript 函数？

> ID：12330938
> 
> 赞同：0
> 
> 时间：2012-09-08T13:02:45.683
> 
> 标签：javascript, android, cordova

我正在使用客户端-服务器端编程，我想在android中创建一个聊天应用程序。所以当从客户端接收到数据时，它应该自动调用javascript函数。我正在使用Phonegap来创建前端。服务器正在使用以下代码接收数据

```
socket.receive(packet); 
```

上面的代码会从客户端接收数据，收到后应该立即调用手机间隙中的javascript函数

任何类型的帮助将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T07:13:10.257

尝试从 Phonegap + Android 活动文件中调用 socket.receive(packet)。

之后，调用js函数如下：

```
appView.loadUrl("javascript:yourJSMethod()"); 
```

# iphone - 数组保留在表视图目标c中

> ID：12330944
> 
> 赞同：-1
> 
> 时间：2012-09-08T13:04:00.877
> 
> 标签：iphone, ios, uitableview

我有一点困惑。当我在 tableView 数据源方法 numberOfRowsInSection 中打印我的数组时，我的应用程序崩溃了。

这是我的代码：在 .h 文件中

```
@interface AddColor : UIViewController<UITableViewDataSource,UITableViewDelegate>
{
UITableView *tblView;
NSArray *arrayColors;
}
@property(nonatomic,retain)NSArray *arrayColors;

@end 
```

在 .m 文件中

```
@synthesize arrayColors;
- (void)viewDidLoad
{
    [super viewDidLoad];
    [self.navigationController setNavigationBarHidden:NO];

     arrayColors = [NSArray arrayWithObjects:@"blackColor", @"darkGrayColor", @"lightGrayColor", @"whiteColor",  @"grayColor", @"redColor", @"greenColor", @"blueColor", @"cyanColor", @"yellowColor", @"magentaColor", @"orangeColor", @"purpleColor", @"brownColor", nil];

    tblView=[[UITableView alloc]initWithFrame:CGRectMake(0, 0, 320, 460) style:UITableViewStylePlain];
    tblView.delegate=self;
    tblView.dataSource=self;
    [self.view addSubview:tblView];
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{

   NSLog(@"%d",[arrayColors count]);//App crashes here.
   return [arrayColors count];
} 
```

当我打印 [arrayColors count] 时，我的应用程序崩溃了；

我找到了崩溃的解决方案，我只是将数组保留在 viewDidLoad

```
[arrayColor retain]; 
```

现在工作正常。但是为什么在我打印 [arrayColor count] 之前我的应用程序崩溃了；

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T13:31:39.447

1.  尝试使用 [self.arrayColors count] - 使用 ivar getter 和 setter 访问保留的属性

2.  顺便说一句，我强烈建议不要对 tableview 的大小进行硬编码。至少设置自动调整大小的蒙版。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T13:08:52.330

```
+ [NSArray arrayWithObjects:] 
```

创建一个自动释放的数组 - 它在释放时是未定义的，但很可能在`viewDidLoad`方法返回时被释放，所以它是一个无效的（垃圾）指针，您可以在`[arrayColor count]`.

通过保留数组，您摆脱了释放错误，但现在您正在泄漏内存。正确解决此问题的一般方法是在其中一种初始化方法中分配和初始化数组，例如

```
- (id)init
{
    if ((self = [super init])) {
        arrayColors = [[NSArray alloc] initWithObjects:..., nil];
    }
    return self; 
```

}

然后将其清除`- dealloc`以不泄漏内存：

```
- (void)dealloc
{
    [arrayColors release];
    [super dealloc]; 
```

}

更多关于[Apple Developer 的话题。](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/MemoryMgmt.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T13:10:55.133

您可能已将 DataSource 和 Delegate 链接到您的 TableView 而不是文件所有者。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T14:20:35.967

如果你这样做，

```
 [self setArrayColors:[NSArray arrayWithObjects:@"blackColor", @"darkGrayColor", @"lightGrayColor", @"whiteColor",  @"grayColor", @"redColor", @"greenColor", @"blueColor", @"cyanColor", @"yellowColor", @"magentaColor", @"orangeColor", @"purpleColor", @"brownColor", nil]]; 
```

它应该可以解决问题而无需再次保留，但请确保在 dealloc 中释放它。

```
 [arrayColors release]; 
```

# php - 在php foreach中选择下拉值

> ID：12330945
> 
> 赞同：0
> 
> 时间：2012-09-08T13:04:09.780
> 
> 标签：php, html

我有一个用 php 生成的下拉菜单。

```
<select name="diploma" id="diploma-<? echo $edu['id']; ?>">
                    <? foreach($diplomas->result_array() as $diploma) {
          echo "<option    value=".$diploma['id'].">".$diploma['name']."</option>";
                            } ?>
</select> 
```

我也有`<? echo $edu['diploma']; ?>`which 是数据库中的一个值。我想添加`selected="selected"`到下拉列表中与此值匹配的选项。我应该只使用jquery吗？最好的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:07:30.187

您可以像这样检查循环内部：

```
<select name="diploma" id="diploma-<? echo $edu['id']; ?>">
    <? 
    foreach($diplomas->result_array() as $diploma) 
        {
            if($edu['diploma']==$diploma['name'])
            {
                echo "<option selected ='selected' value=".$diploma['id'].">".$diploma['name']."</option>";
            }
            else
            {
                echo "<option value=".$diploma['id'].">".$diploma['name']."</option>";
            }
        } 
    ?>
</select> 
```

或者使代码更短：

```
<select name="diploma" id="diploma-<? echo $edu['id']; ?>">
    <? 
    foreach($diplomas->result_array() as $diploma) 
        {
            $selected = ($edu['diploma']==$diploma['name']) ? " selected='selected' " : "" ;
            echo "<option $selected value=".$diploma['id'].">".$diploma['name']."</option>";
        } 
    ?>
</select> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T13:09:11.190

使用相同的 PHP 代码：

```
<select name="diploma" id="diploma-<? echo $edu['id']; ?>">
    <? foreach($diplomas->result_array() as $diploma) {
        echo "<option value=".$diploma['id'];
        if ($edu['diploma'] == $diploma['name']) {
            echo 'selected="selected"';
        }
        echo ">".$diploma['name']."</option>";
    } ?>
</select> 
```

代码`$diploma['name']`与`$edu['diploma']`每个选项的变量进行比较，`selected="selected"`如果它们相同则输出。

根据`$edu['diploma']`您需要将其与一件事或另一件事进行比较的内容。如果`$edu['diploma']`包含对的`id`更改。`$diploma['name']``$diploma['id']`

如果`$edu['diploma']`包含文凭对象本身，则需要这样比较：`$edu['diploma']['id'] == $diploma['id']`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T13:09:37.240

这就是我想出的：

```
<select name="diploma" id="diploma-<? echo $edu['id']; ?>">
    <?php foreach ($diplomas->result_array() as $diploma) {
    //echo "<option value='{$diploma['id']}'>{$diploma['name']}</option>";
    echo "<option value='{$diploma['id']}";
    if ($edu['diploma'] === $diploma['name']) {
        echo " selected";
    }
    echo ">{$diploma['name']}</option>\n";
} ?>
</select> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T13:09:48.757

```
<select name="diploma" id="diploma-<? echo $edu['id']; ?>">
   <?php foreach($diplomas->result_array() as $diploma) {
      $selected = $diploma['id'] == $edu['diploma'] ? ' selected="selected"' : ''; 
      echo '<option value="' . $diploma['id'] . '"' . $selected . '>' . $diploma['name'] . '</option>';
     } ?>
</select> 
```

在循环内部进行检查，如果值匹配，则回显选定的属性。注意，我在测试中使用了[三元语句](http://php.net/manual/en/language.operators.comparison.php)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-08T13:21:11.953

如果我没听错，试试这个；

```
<select name="diploma" id="diploma-<? echo $edu['id']; ?>">
<?
$selected = $edu['diploma'];
foreach($diplomas->result_array() as $diploma) {
  if($diploma['name'] == $selected){
    echo '<option selected="selected" value="'.$diploma['id'].'">'.$diploma['name']."</option>";
  }else{
    echo '<option value="'.$diploma['id'].'">'.$diploma['name']."</option>";
  }
}
?>
</select> 
```

# php - 需要有关从数据库中检索数据的建议

> ID：12330947
> 
> 赞同：2
> 
> 时间：2012-09-08T13:04:55.983
> 
> 标签：php, mysql, database

我有一个带有 2 个表的 MySQL 数据库。第一张表：

```
Posts                                    
ID                      
post_title                      
post_content 
... etc 
```

第二个表有附加数据：

```
Postmeta
ID
Post_ID (FK)
meta_key
meta_value 
```

我需要的数据在 meta_key/value 对中。但是这个数据库的组织方式是第二个表中的每一行只有一条信息。

例如（第二张表）：

```
ID      Post_ID   meta_key        meta_value
1          5      info                 30

ID      Post_ID   meta_key        meta_value
2          5      additional_info      40

ID      Post_ID   meta_key        meta_value
3          6      info                 50

ID      Post_ID   meta_key        meta_value
4          6      additional_info      60 
```

所以如果我运行查询

```
SELECT 
posts.id, 
posts.post_date, 
posts.post_author, 
posts.post_content, 
posts.post_title, 
postmeta.meta_id, 
postmeta.meta_key, 
postmeta.meta_value

FROM posts INNER JOIN postmeta ON posts.id = postmeta.post_id

WHERE posts.post_type = 'post' 
```

我取回了我需要的所有数据，但来自第一个表（ID/post_content 等）的数据重复了很多次。但我只需要第一个表中的数据一次，但第二个表中的所有其他数据都与第一个表中的 ID 相关。

我应该如何过滤所有这些东西？可能是一些php循环？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:14:32.090

您可以像这样使用[mysql group_concat](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html#function_group-concat)函数：

```
select
    posts.id, 
    posts.post_date, 
    posts.post_author, 
    posts.post_content, 
    posts.post_title, 
    group_concat(postmeta.meta_id) as metaID, 
    group_concat(postmeta.meta_key) as metaKey, 
    group_concat(postmeta.meta_value_ as metaValue
from
    posts 
        INNER JOIN postmeta 
            ON posts.id = postmeta.post_id
where
    posts.post_type = 'post'
group by
    posts.id, 
    posts.post_date, 
    posts.post_author, 
    posts.post_content, 
    posts.post_title 
```

要在 PHP 中拆分结果，您可以轻松地使用explode 函数来形成结果信息的数组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T14:03:11.477

```
SELECT * FROM Posts, Postmeta 
WHERE Posts.Post_id = Postmeta.Post_id 
GROUP BY Posts.Post_id 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T14:07:15.783

使用`SELECT DISTINCT`而不仅仅是`SELECT`

# objective-c - 如何使用 Cocoa 压缩 PNG 图像？

> ID：12330948
> 
> 赞同：3
> 
> 时间：2012-09-08T13:05:20.110
> 
> 标签：objective-c, cocoa, png, image-optimization

所以，这就是我需要的：

*   拿一个`NSImage`
*   尽量压缩（无损压缩，质量没有明显下降）
*   将其保存回磁盘

过去，我尝试使用 OptiPNG - 作为编译的二进制文件（并异步获取结果） - 这很有效。

但是，如果我不想要带有外部应用程序的类似终端的解决方案，而是想要更多 Cocoa-native 的解决方案怎么办？

有任何想法吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2020-02-28T11:32:59.920

```
NSImage* image; // your NSImage

// With compression
NSData* data = [image
                TIFFRepresentationUsingCompression:NSTIFFCompressionLZW
                factor:0.5f]; // you can change factor between 0 and 1.0 for preferred compression rate

if (data != nil) {
    NSBitmapImageRep* bitmap = [[NSBitmapImageRep alloc] initWithData:data];
    if (bitmap != nil) {
        NSData* bitmapData = [bitmap
                              representationUsingType:NSBitmapImageFileTypePNG
                              properties:@{}];
        if (bitmapData != nil) {
            [bitmapData
             writeToFile:<file_path> //path where to save png
             atomically:true];
        }
    }
} 
```

更新：如评论中所述，这不会压缩 png。
但是，我在 ShareExtension 中使用了此代码，它可以很好地压缩接收到的屏幕截图（如果使用representationUsingType 保存为0.4-0.7MB，则从1.1-1.5MB 到0.4-0.7MB）并且没有质量损失，就像OP 要求的那样。

# actionscript-3 - 在 as3 Adob e AIR 中压缩文件夹

> ID：12330951
> 
> 赞同：1
> 
> 时间：2012-09-08T13:05:50.810
> 
> 标签：actionscript-3, flash, air, zip, zipfile

我创建了一个 Air 应用程序，在用户交互后将创建一个包含 bmp、xml 和文本文档的文件夹。除了制作需要自动完成的最终拉链之外，其他所有工作都有效。

我一直在寻找解决方案，但找不到。也许我只是没有看到它，如果是这样，有人可以告诉我。

我的原始帖子在这里 --- [使用 Air as3 flash 压缩许多文件](https://stackoverflow.com/questions/10956573/zip-many-files-with-air-as3-flash)

* * *

我发现的最接近的是这个 ---[使用 fzip 压缩一个文件夹](https://stackoverflow.com/questions/10603199/zip-a-folder-using-fzip) 但由于某种原因，我的评论被删除了——

> 我喜欢这个。这是我最接近自己问题的可行解决方案。也就是说，我对此进行了测试，并且效果很好。这个脚本可以在没有交互的情况下运行吗？？？我需要它来编写我编写的程序。欢迎任何帮助........ 除了只是将我指向 Adob​​e 参考，因为它没有任何我需要的东西。（好吧，我可以看到或找到）

所以现在我重新询问社区。

出于某种原因，它将与手动选择和手动保存一起工作，但不是自动操作。即使它需要另一个完整的脚本页面，也必须有一个解决方法。

==================================================== ================== 更新：为了关闭这个，我终于得到了我的解决方案。你可以在这里找到它。“ [zip 文件内容没有数据](https://stackoverflow.com/questions/33857925/zip-file-contents-have-no-data)”。希望我的问题可以帮助将来的人。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-09T19:18:42.273

尝试使用 as3 commons zip 库。

[http://www.as3commons.org/as3-commons-zip/index.html](http://www.as3commons.org/as3-commons-zip/index.html)

为了做到这一点，您需要加载您的目录，遍历其所有内容并加载每个资产。

此代码片段包含一个批量加载程序来为您处理。

**警告**

我将大部分代码从我正在做类似事情的项目中提取出来，但我没有按原样测试它。可能有一些语法错误！

```
private var zip:Zip;

zip = new Zip();

zip.addEventListener(IOErrorEvent.IO_ERROR, this.createNewZip); //creates a new zip
zip.addEventListener(Event.COMPLETE, handleZipLoaded); //loads the current zip, this is not shown here
zip.load(new URLRequest(File.applicationStorageDirectory.resolvePath("myZip.zip").url)); //path to your zip file 
```

创建新 zip 文件的方法

```
private function createNewZip(e:IOErrorEvent):void{

    trace("no zip");

    var stream:FileStream = new FileStream();
    stream.open(File.applicationStorageDirectory.resolvePath("myZip.zip"), FileMode.WRITE);

    zip.serialize(stream);
    stream.close();

} 
```

您可以使用它来将目录中的所有项目添加到您的 zip 文件中。

```
private function addDirToZip():void{

    var f:File = File.resolvePath("Your Dir");
    //this will be called when your directory listing has loaded
    f.addEventListener(FileListEvent.DIRECTORY_LISTING, handleDirLoaded);
    //you can also get the dir listing inline and not use a listener
    //doing it async will prevent ui lock
    f.getDirectoryListingAsync();

} 
```

接下来你需要加载所有文件

```
protected function handleDirLoaded(e:FileListEvent):void{
    loadExternal = new Vector.<File>; //vector used to keep a handle on all files
    e.target.removeEventListener(FileListEvent.DIRECTORY_LISTING, handleDirLoaded);
    for(var i:int = 0 ; i < files.length ; i++){
        var f:File = files[i] as File;
        if(f.extension == "File Types you want"){  //you can do some file type checking here
              loadExternal.push(f);
        }

    }
   //start loading in the files
   loadFile();
} 
```

这将通过 loadExternal 向量并加载所有文件

```
private function loadFile():void{
    currentFile = loadExternal.shift(); //returns the first item off the array

    //load the file
   var l:Loader = new Loader();
   l.contentLoaderInfo.addEventListener(Event.COMPLETE, handleLoaded);
   l.load(new URLRequest(currentFile.url));

} 
```

加载每个项目后，您可以将其存储以添加到 zip

```
private function handleLoaded(e:Event):void{

    var l:Loader = e.target.loader as Loader;
    l.contentLoaderInfo.removeEventListener(Event.COMPLETE, handleLoaded);

    //storing everything in a dictionary 
    assets[currentFile.name] = l.content;

   //if we still have items to load go and do it all again

   if(loadExternal.length != 0){
        loadFile();
   } else {
       //now all files are loaded so lets add them to the zip
       addAssetsToZip();
   }

} 
```

这是所有加载的文件实际放入 zip 并保存的位置

```
private funcion addAssetsToZip():void{

   for(var fileName:String in assets){
        var ba:ByteArray = new ByteArray(); //going to write this to the zip
        //make an object that holds the data and filename
        var data:Object = {};
        data.name = fileName;
        data.content = assets[fileName];
        ba.writeObject(data);
        //write this file to the zip
        zip.addFile(key, ba, false);
    }

    //and finally save everything out
    zip.close();
    var stream:FileStream = new FileStream();
    stream.open(File.applicationStorageDirectory.resolvePath("myZip.zip"), FileMode.WRITE);
    zip.serialize(stream);
    stream.close();
} 
```

# php - 从我自己的安全系统中回避自己

> ID：12330955
> 
> 赞同：3
> 
> 时间：2012-09-08T13:06:06.530
> 
> 标签：php, javascript, security, ssl, privacy

这更像是一个软件工程问题，而不是编程问题。我试图使标题尽可能相关，如果有人觉得他们可以更恰当地用词，请告诉我。

所以，我一直在开发一个使用异步的即时聊天网络服务。javascript和PHP。该应用程序背后的主要卖点是高度保密。有许多即时聊天应用程序，从 Live Messenger、Yahoo Messenger、IRC 和 Skype 等等。但是 - 称我为偏执狂 - 但我觉得我永远无法信任软件背后的公司，因为用户几乎没有控制权，而且大多数人似乎完全忽略了隐私问题。我知道还有许多其他安全/私人 IM 应用程序，但决定创建我自己的，它使用 SSL 加密所有使用点（用户->数据库->用户）之间的通信，

目前，消息本身是纯文本。我可以使用 PHP 的各种加密库，但我将如何以消除我自己（所有者）解密消息从而损害隐私的可能性的方式这样做？

我当然不会这样做，我只是想在这种程度上证明隐私。如果我用密码加密，我会知道密码。如果我要使用编程密码进行加密，我会知道 PHP 将密码存储在哪里。

有没有办法解决这个问题？或者这只是以信任结束？

**更新：**据我所知 PHP 是无状态的，但是会话例如强制服务器将数据存储在内存中，这是否可以将密钥/密码存储在内存中？

感谢您的任何想法或建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T15:21:56.217

解决此类问题的典型方法是使用公钥加密。您可以在此处阅读概览：[http](http://en.wikipedia.org/wiki/Public-key_cryptography) ://en.wikipedia.org/wiki/Public-key_cryptography 。

简而言之，每个用户都会获得一个公钥/私钥组合。公钥是公开的，因此您可以获得任何人的公钥。私钥仅由其所属的用户保存。公钥密码学的关键是允许人们使用公钥加密某些东西，但只能使用私钥对其进行解密的数学。因此，您可以获得某人的公钥，加密发往他们的消息，并且他们是唯一可以用他们的私钥解密的人。

在您的方案中，公钥可以保存在您的服务器上并由客户端请求。任何人都可以使用公钥。在仅浏览器的环境中，存储私钥是一项挑战。它可以存储在本地存储中，但只能在该特定计算机上使用。如果您允许将其存储在您的服务器上，以便用户无论身在何处都可以检索他们的私钥，那么您将回到最初遇到的相同问题（您必须信任服务器和服务器作者，他们是'不自己访问私钥）。

有一种更复杂的算法会尝试缓存公钥/私钥（可能在本地存储中），但只要它不再可用（例如用户切换计算机时），您只需创建一个新的并将其存储在本地和使用新的公钥更新目录。这样做的好处是您可以继续从新计算机上使用系统，但缺点是您将无法读取使用先前公钥加密的消息，除非您以某种方式拥有与该公钥对应的私钥。因此，这可能适用于实时即时消息传递方案，其中消息永远不会为您保存在服务器上，但如果服务器为您保存消息并且您希望能够从任何位置读取它们，每个位置都有自己的密钥对。

SSL 通过使用动态生成的公钥/私钥对解决了这个问题，但是它们是在直接的端到端连接中协商和交换的（因此中间没有节点可以查看或存储未加密的数据），所以另一种可能性将是使用点对点游戏技术（它有自己的缺点，可能仅在浏览器中不可能）创建点对点连接并在该连接上使用 SSL 来交换安全凭证（在查看您和您的服务器）或直接交换消息。您的服务器将用于促进两个端点的连接和传达这种愿望，但不用于交换安全信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T13:09:32.093

您可以在客户端上进行加密。如果您想要最大程度的隐私，那么您不信任服务器上的任何东西。如果消息和/或解密密钥从未到达服务器，那么即使您很想这样做，您也基本上无法阅读该消息。

当然，现在你遇到了一个新问题——如何在不涉及服务器的情况下在两个或多个客户端之间交换解密密钥。

# regex - Tcl：如何用空行分割字符串

> ID：12330959
> 
> 赞同：1
> 
> 时间：2012-09-08T13:06:26.857
> 
> 标签：regex, tcl

你能帮我把一个字符串拆分成一个列表，用一个空行作为分隔符吗？使用 "\n\n" 拆分似乎不起作用。这种字符串的一个例子如下：

```
Group: 1.1.1.1, (?)
   Source: 2.2.2.2 (?)
     Rate: 5382 pps/58470 kbps(1sec), 58469 kbps(last 30 secs), 58327 kbps(life avg)

Group: 3.3.3.3, (?)
   Source: 4.4.4.4 (?)
     Rate: 9150 pps/99399 kbps(1sec), 99398 kbps(last 30 secs), 85769 kbps(life avg)

Group: 5.5.5.5, (?)
   Source: 6.6.6.6 (?)
     Rate: 474 pps/5163 kbps(1sec), 5164 kbps(last 30 secs), 5144 kbps(life avg) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T13:24:04.960

您可以使用正则表达式`^\s*$`匹配所有仅包含零到 N 个空格的行。通常 ^ 和 $ 匹配行的开始和结束，除非 MULTILINE 模式处于活动状态。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-09T23:24:47.157

```
set mystring {Group: 1.1.1.1, (?)
    Source: 2.2.2.2 (?)
      Rate: 5382 pps/58470 kbps(1sec), 58469 kbps(last 30 secs), 58327 kbps(life avg)

Group: 3.3.3.3, (?)
    Source: 4.4.4.4 (?)
      Rate: 9150 pps/99399 kbps(1sec), 99398 kbps(last 30 secs), 85769 kbps(life avg)

Group: 5.5.5.5, (?)
    Source: 6.6.6.6 (?)
      Rate: 474 pps/5163 kbps(1sec), 5164 kbps(last 30 secs), 5144 kbps(life avg)}

set mylist {}
while {[regexp "(.*)\n\n(.*)" $mystring match part1 part2]} {
    lappend mylist $part2
    set mystring $part1
}
lappend mylist $part1 
```

`mylist`*现在以相反的顺序*保存每组 3 组非空行。可能有一些不贪婪的正则表达式可以使其井然有序，但我现在无法弄清楚。如果顺序很重要，以后可能总是会颠倒列表，或者用 替换`lappend`行。`set`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T15:15:07.477

使用[Tcllib](http://tcllib.sourceforge.net/)`textutil`中的包，您可以执行以下操作：

```
package require textutil
set paragraphs [textutil::splitx $data {(?n)^\s*\n}] 
```

用`textutil::splitx`正则表达式拆分字符串，这里我们提供一个正则表达式，它匹配一个或多个视觉空白行的序列。（匹配 line-start 而不是通常的 string-start`(?n)`含义的方法`^`；这正是我们想要的。）

# php - Websocket不会打开连接

> ID：12330961
> 
> 赞同：0
> 
> 时间：2012-09-08T13:06:53.297
> 
> 标签：php, javascript, html, sockets, websocket

在过去的几个小时里，我一直在与 websockets 作斗争，但无法连接！

这些是握手协议：

```
GET /websocket/Server.php HTTP/1.1
Upgrade: websocket
Connection: Upgrade
Host: localhost:10020
Origin: http://localhost:8888
Sec-WebSocket-Key: fWN5C0N5EqQ/EnYET9C8DQ==
Sec-WebSocket-Version: 13
Sec-WebSocket-Extensions: x-webkit-deflate-frame
Cookie: SQLiteManager_currentLangue=2

MY RESPONSE:

HTTP/1.1 101 Switching Protocols
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Accept: P3XPDvAuKuz0RoHKq8oDrGHRM9c= 
```

我用来编写响应的 PHP 函数是：

```
function handle13Protocol($req){
  $info = array();
  $MAGICSTRING = "258EAFA5-E914-47DA-95CA-C5AB0DC85B11";
  if(preg_match("/GET (.*) HTTP/"   ,$req,$match)){ $info["GET"]=$match[1]; }
  if(preg_match("/Host: (.*)\r\n/"  ,$req,$match)){ $info["HOST"]=$match[1]; }
  if(preg_match("/Origin: (.*)\r\n/",$req,$match)){ $info["ORIGIN"]=$match[1]; }
  if(preg_match("/Sec-WebSocket-Key: (.*)\r\n/",$req,$match)){ $info["KEY"]=$match[1]; }
  if(preg_match("/\r\n(.*?)\$/",$req,$match)){ $data=$match[1]; }

  echo "key = ".$info["KEY"]."\n";

  $acceptKey = base64_encode(sha1($info["KEY"].$MAGICSTRING,true));

  $upgrade =  "HTTP/1.1 101 Switching Protocols\r\n" .
               "Upgrade: websocket\r\n" .
               "Connection: Upgrade\r\n" .
               "Sec-WebSocket-Accept: $acceptKey".
                "\r\n\r\n" ;
  echo $upgrade;

  return $upgrade;  

} 
```

在我的控制台上，它没有出现任何错误，并且说套接字没有断开连接。

然而我的 javascript 不会确认我的连接，即 onopen 函数。我什至尝试了这个复制和粘贴部分以确保我有正确的 js：

```
alert("Connecting to server now");

function init(){
  var host = "ws://localhost:10020/websocket/Server.php";

  try{
    socket = new WebSocket(host);
    log('WebSocket - status '+socket.readyState);
    socket.onopen    = function(msg){ alert("opened!"); };
    socket.onmessage = function(msg){ log("Received: "+msg.data); };
    socket.onclose   = function(msg){ log("Disconnected - status "+this.readyState); };
  }
  catch(ex){ log(ex); }
  $("msg").focus();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T15:15:02.123

问题出在javascript中。正确的JS是

```
alert("Connecting to server now");

function init(){
  var host = "ws://localhost:10020/websocket/Server.php";

  try{
    socket = new WebSocket(host);
    socket.onopen    = function(msg){ alert("opened!"); };
    socket.onmessage = function(msg){ log("Received: "+msg.data); };
    socket.onclose   = function(msg){ log("Disconnected - status "+this.readyState); };
  }
  catch(ex){ log(ex); }
  $("msg").focus();
} 
```

删除 log 方法后，因为它的行为不正确并引发错误...

# java - Java scheduleAtFixedDelay 停止

> ID：12330965
> 
> 赞同：1
> 
> 时间：2012-09-08T13:07:20.047
> 
> 标签：java, multithreading, schedule

我怎样才能使这样的代码工作？

```
public void start()
{
    ThreadPoolManager.getInstance().scheduleWithFixedDelay(new Thread(), 1000, 1000);
}

public class Thread implements Runnable
{
    int i = 0;
    @Override
    public void run()
    {
        i++;
        if(i==5)
            //TODO stop this thread
    }
} 
```

我想在 i == 5 之后停止线程

编辑：可以这样做：

```
public void start()
{
    ThreadPoolManager.getInstance().schedule(new Thread(), 1000);
}

public class Thread implements Runnable
{
    int i = 0;
    @Override
    public void run()
    {
        while(i!=5)
        {
            i++;
            try {Thread.sleep(1000);} catch (InterruptedException e) {e.printStackTrace();}
        }
    }
} 
```

但是，如果有人知道如何使用 scheduleWithFixedDelay 来实现它，我会很高兴知道答案:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:16:41.887

从内部停止`ScheduledThreadPoolExecutor`任务有点复杂。您可以尝试将其传递回`ScheduledFuture`任务本身并调用`cancel`（不是线程安全的，但由于您有 1000 毫秒的延迟，因此应该足够了）：

```
public void start()
{
    Task t = new Task();
    ScheduledFuture sf = ThreadPoolManager.getInstance().scheduleAtFixedDelay(t, 1000, 1000);
    t.setFuture(sf);
}

class Task implements Runnable {

    private int i = 0;
    private ScheduledFuture sf;

    public void setFuture(ScheduledFuture sf) {
        this.sf = sf;
    }

    public void run() {
        i++;
        if(i==5)
            sf.cancel(true);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T13:15:18.710

你可以只使用`this.stop()`.

编辑：没有注意到它会保持 FixedDelay-ing，所以：

```
public void start()
{
    ThreadPoolManager.getInstance().scheduleAtFixedDelay(new Thread(new MyThread()), 1000, 1000);
}

public class MyThread implements Runnable
{
    int i = 0;
    boolean keepGoing = true;
    @Override
    public void run()
    {
        if (keepGoing)
        {
            i++;
            System.out.println("Thread in " + i);
            if(i==5)
                keepGoing = false;
        }
    }
} 
```

# opengl-es - 在 Cocos2dx 中集成 OpenGL

> ID：12330966
> 
> 赞同：0
> 
> 时间：2012-09-08T13:07:21.680
> 
> 标签：opengl-es, cocos2d-iphone, cocos2d-x, word-wrap

这可能是一个微不足道的问题，但这是我想知道的关于 cocos2d-x 的一般问题。我在某处读过 cocos2d 和 cocos2dx 基于 OpenGL ES（我猜是 2.0？）。cocos2dx 的创建者还表示，OpenGL ES 2.0 尚未在其中启用。在我看来，这听起来像是有人说 Obj-C 是基于 C 编写的，但 C 尚未在 Obj-C 中启用！无论如何（因为我在网上找不到任何好的教程）将 OpenGL ES 1.0/2.0 集成到 cocos2dx 中？

如果没有，请在 Obj-C 中编写 OpenGL ES 2.0 并集成到 cocos2dx、.cpp 文件中。（使用类等，也许包装来自 Obj-C 的对象，但我将如何包装从 UIView [更改 draw() 方法] 继承的大型类，以便能够在我的 cocos2dx 项目中的 .cpp 文件中使用？）

非常感谢您提前提供的帮助，

PS 多亏了这个问题，过去一个月我就像一只坐着的鸭子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T06:22:37.393

您在评论中提到的链接是一年前的。改为查看这个：http: [//www.cocos2d-x.org/projects/cocos2d-x/wiki/Download](http://www.cocos2d-x.org/projects/cocos2d-x/wiki/Download)

cocos2dX 现在支持 OpenGL ES 2.0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T15:10:57.340

Cocos2d-x 是用 C++ 和 OpenGL ES 1.1/2.0 编写的，因此已经支持（集成）了 OpenGL ES。

# java - 提交搜索或选择搜索建议时隐藏键盘

> ID：12330969
> 
> 赞同：5
> 
> 时间：2012-09-08T13:07:37.363
> 
> 标签：java, android, android-keypad, android-searchmanager

我有一个操作栏搜索小部件，它也提供搜索建议。当用户输入查询并提交或选择搜索建议时，键盘不会消失。我该如何解决这个问题？

我无法弄清楚如何在搜索提交或建议选择时隐藏键盘。

谢谢你。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-08T13:11:01.050

要隐藏输入法编辑器，请使用`InputMethodManager`：

```
 InputMethodManager imm=
      (InputMethodManager)getSystemService(INPUT_METHOD_SERVICE);

  imm.hideSoftInputFromWindow(v.getWindowToken(), 0); 
```

例如，您可以使用它`onEditorAction()`，如[本示例项目](https://github.com/commonsguy/cw-omnibus/blob/master/ActionBar/ActionBarDemo)中所示。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-07-21T04:04:19.667

我刚刚遇到同样的问题，这种方式在搜索后隐藏键盘

```
 @Override
 public boolean onQueryTextSubmit(String query) {
   searchView.clearFocus();
 return true; 
```

}

祝你好运 ！！

# django - formset 有效但返回空的cleaned_data 字段

> ID：12330972
> 
> 赞同：1
> 
> 时间：2012-09-08T13:07:50.227
> 
> 标签：django, django-forms, cleaned-data

我有一个返回空cleaned_data 的formset，即使formset 是有效的。我的看法是这样的：

```
def edit_files(request):
    file_formSet = formset_factory(FileUploadForm)
    if request.POST:
        formset = file_formSet(request.POST, request.FILES)
        if formset.is_valid():
            for form in formset:
                form_data = form.cleaned_data
                if form_data:
                    up_file = upload_file(form_data['file'])
    else:
        formset = file_formSet()

    return render_to_response('edit_files.html', {'formset': formset}) 
```

这是一个上传表单，由于这个问题，我无法保存文件 upload_file 是我实现的方法之一，它工作正常，我已经测试过了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T11:10:54.937

好的，我只是想完成这个话题，所以如果有人有同样的问题，他/她可以使用这个页面来解决这个解决方案的主要关键是：1-永远不要忘记加密类型 2-为不同的功能使用单独的表格

所以在模板中我应该使用：

```
<form method="POST" action="." encrypt="multipart/form-data"> 
```

并使用两种单独的表单来添加和删除文件，如下所示：这个用于添加文件：

```
<form method="POST" action="." encrypt="multipart/form-data" id="add_file"> 
```

而这个用于删除文件：

```
<form method="POST" action="." encrypt="multipart/form-data" id="delete_file"> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-05-10T16:47:29.467

当我忘记在`is_valid`. `Formset.is_valid`返回`True`，但没有清理数据只是因为`is_valid()`没有调用该函数来返回清理数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T18:47:03.600

好的，我在使用一些断点后发现，这实际上是请求的错误，request.FILES 为空

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T13:27:11.207

我认为您需要更改以下行；

```
... snip ... 

for form in formset.forms:
    form_data = form.cleaned_data

... snip ... 
```

您似乎缺少表单集中的`.forms`部分。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-22T08:05:27.520

tnx 对于您的所有答案，我已经解决了问题，我有一个具有两个功能的表单：将它们分开后 add_file 和 del_file，一切都很好，但是在我添加一些文件后查看页面时出现问题，像3个文件，然后request.POST发送，我再次返回页面我实际上看到三行文件输入，而不是一个它真的降低了美感有什么建议吗？

# java - 在java中生成证书链

> ID：12330975
> 
> 赞同：6
> 
> 时间：2012-09-08T13:08:28.460
> 
> 标签：java, security, rsa, x509certificate, jce

问题是如何在 Java 中以编程方式生成证书链。换句话说，我想在java中执行这里详述的操作：http: [//fusesource.com/docs/broker/5.3/security/i382664.html](http://fusesource.com/docs/broker/5.3/security/i382664.html)

Besically，我可以为新客户端创建 RSA 密钥：

```
private KeyPair genRSAKeyPair(){
    // Get RSA key factory:
    KeyPairGenerator kpg = null;
    try {
        kpg = KeyPairGenerator.getInstance("RSA");
    } catch (NoSuchAlgorithmException e) {
        log.error(e.getMessage());
        e.printStackTrace();
        return null;
    }
    // Generate RSA public/private key pair:
    kpg.initialize(RSA_KEY_LEN);
    KeyPair kp = kpg.genKeyPair();
    return kp; 
```

}

我生成相​​应的证书：

```
private X509Certificate generateCertificate(String dn, KeyPair pair, int days, String algorithm)
  throws GeneralSecurityException, IOException  {
    PrivateKey privkey = pair.getPrivate();
    X509CertInfo info = new X509CertInfo();
    Date from = new Date();
    Date to = new Date(from.getTime() + days * 86400000l);
    CertificateValidity interval = new CertificateValidity(from, to);
    BigInteger sn = new BigInteger(64, new SecureRandom());
    X500Name owner = new X500Name(dn);

    info.set(X509CertInfo.VALIDITY, interval);
    info.set(X509CertInfo.SERIAL_NUMBER, new CertificateSerialNumber(sn));
    info.set(X509CertInfo.SUBJECT, new CertificateSubjectName(owner));
    info.set(X509CertInfo.ISSUER, new CertificateIssuerName(owner));
    info.set(X509CertInfo.KEY, new CertificateX509Key(pair.getPublic()));
    info.set(X509CertInfo.VERSION, new CertificateVersion(CertificateVersion.V3));
    AlgorithmId algo = new AlgorithmId(AlgorithmId.md5WithRSAEncryption_oid);
    info.set(X509CertInfo.ALGORITHM_ID, new CertificateAlgorithmId(algo));

    // Sign the cert to identify the algorithm that's used.
    X509CertImpl cert = new X509CertImpl(info);
    cert.sign(privkey, algorithm);

    // Update the algorith, and resign.
    algo = (AlgorithmId)cert.get(X509CertImpl.SIG_ALG);
    info.set(CertificateAlgorithmId.NAME + "." + CertificateAlgorithmId.ALGORITHM, algo);
    cert = new X509CertImpl(info);
    cert.sign(privkey, algorithm);
    return cert; 
```

}

然后我生成证书签名请求并将其保存到 csrFile 文件中：

```
public static void writeCertReq(File csrFile, String alias, String keyPass, KeyStore ks) 
        throws KeyStoreException, 
               NoSuchAlgorithmException, 
               InvalidKeyException, 
               IOException, 
               CertificateException, 
               SignatureException, 
               UnrecoverableKeyException {

    Object objs[] = getPrivateKey(ks, alias, keyPass.toCharArray());
    PrivateKey privKey = (PrivateKey) objs[0];

    PKCS10 request = null;

    Certificate cert = ks.getCertificate(alias);
    request = new PKCS10(cert.getPublicKey());
    String sigAlgName = "MD5WithRSA";
    Signature signature = Signature.getInstance(sigAlgName);
    signature.initSign(privKey);
    X500Name subject = new X500Name(((X509Certificate) cert).getSubjectDN().toString());
    X500Signer signer = new X500Signer(signature, subject);
    request.encodeAndSign(signer);
    request.print(System.out);
    FileOutputStream fos = new FileOutputStream(csrFile);
    PrintStream ps = new PrintStream(fos);
    request.print(ps);
    fos.close();
} 
```

在哪里

```
private static Object[] getPrivateKey(KeyStore ks, String alias, char keyPass[]) 
        throws UnrecoverableKeyException, KeyStoreException, NoSuchAlgorithmException {
    key = null;        
    key = ks.getKey(alias, keyPass);
    return (new Object[]{ (PrivateKey) key, keyPass });
} 
```

现在我应该用 CA 私钥签署 CSR，但我看不到如何在 java 中实现它。我的 jks 中有“我自己的”CA 私钥。

此外，一旦我设法签署 CSR，我应该将 CA 证书与签署的 CSR 链接起来：如何在 java 中完成？

我宁愿不使用 bc 或其他外部库，只使用“sun.security”类。

谢谢你。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-10-14T10:23:43.790

我相信帖子[http://www.pixelstech.net/article/1406726666-Generate-certificate-in-Java----2](http://www.pixelstech.net/article/1406726666-Generate-certificate-in-Java----2)中的代码示例将向您展示如何使用纯 Java 生成证书链。它不需要您使用 Bouncy Castle。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T13:11:17.073

抱歉，尽管您有意愿，而且除了编写所有加密代码并将其包含在您的项目中（不推荐）之外，我还是建议您在此处使用 Bouncy Castle。

具体来说，请参阅[https://stackoverflow.com/a/7366757/751158](https://stackoverflow.com/a/7366757/751158) - 其中包括您正在寻找的代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-04T15:50:01.823

我看到你已经去了房子的 BouncyCastle 一侧，但以防万一其他人想知道；您可以在将密钥放入 KeyStore 时将证书链添加到条目中。例如

```
// build your certs 

KeyStore keyStore = KeyStore.getInstance("PKCS12");
keyStore.load([keystore stream], password.toCharArray());// or null, null if it's a brand new store
X509Certificate[] chain = new X509Certificate[2];
chain[0] = _clientCert;
chain[1] = _caCert;
keyStore.setKeyEntry("Alias", _clientCertKey, password.toCharArray(), chain);
keyStore.store([output stream], password.toCharArray());

// do other stuff 
```

# ajax - Ajax BeginForm 不在控制器中调用操作

> ID：12330985
> 
> 赞同：0
> 
> 时间：2012-09-08T13:09:29.933
> 
> 标签：ajax, asp.net-mvc-3

我一直在尝试实现一个用户可以添加/删除当前实体的子实体的系统，但是我在使用`Ajax.BeginForm`辅助方法时遇到了麻烦（这是我第一次真正使用它）。基本上当我单击提交按钮时，它不会在我的控制器中调用指定的操作。

我已经搜索了几个小时而没有成功，人们之前遇到的大多数问题都是由于某些库没有被引用，但我很确定这不是这里的问题。

无论如何，这是我的代码的重要部分：

**局部视图**

```
@using MyProject.Domain.Entities;
@model MyProject.WebUI.ViewModels.UserCustomerViewModel

<div id = "meh222">        
    @using (  
        Ajax.BeginForm("AddCustomer", "User",
            new AjaxOptions() { UpdateTargetId = "meh222", HttpMethod = "Post" })
            )
    {        
    <label>Customers</label>  

    @*@Ajax.ActionLink("Add Customer", "AddCustomer", "User", new { userID = Model.UserID, customerID = 1001 }, 
        new AjaxOptions() { UpdateTargetId = "meh222", HttpMethod = "POST" }, new { @class = "standardbutton" })*@  
    <fieldset>
        <legend>CustomersLegend</legend>
        @Html.HiddenFor(m => m.UserID)
        @Html.DropDownListFor(m => m.Customers, new SelectList(Model.AllCustomers, "CustomerID", "Name"))
        <p>
            <input type="submit" value="Add Customer" />
        </p>
    </fieldset>                 
    }         
    <table class="tbl2" id="tbl2">
        <thead>
            <tr>
                <th>CustomerID</th> <th>Name</th> <th>Actions</th>
            </tr>
        </thead>

        <tbody>
        @if (Model != null)
        {
            foreach (Customer item in Model.Customers)
            { 
            <tr>
                <td>
                    @Html.DisplayTextFor(i => item.CustomerID)
                </td>
                <td>
                    @Html.DisplayTextFor(i => item.Name)
                </td>  
                <td>
                    @Ajax.ActionLink("Delete", "DeleteCustomer", "User", new { userID = Model.UserID, customerID = item.CustomerID },
                          new AjaxOptions() { UpdateTargetId = "meh222" }, new { @class = "standardbutton" })    
                </td>       
            </tr>
            }
        }       
        </tbody>     
    </table>
</div> 
```

**主视图**

```
<div>
    @{ Html.RenderPartial("CustomerPartial", Model.CustomerVM); } 
</div> 
```

**控制器**

```
[AcceptVerbs(HttpVerbs.Post)]
public PartialViewResult AddCustomer(UserCustomerViewModel vm)
{
    return PartialView("CustomerPartial");
} 
```

**查看模型**

```
public class UserCustomerViewModel
{
    public int UserID;
    public IEnumerable<Customer> Customers { get; set; }
    public IEnumerable<Customer> AllCustomers { get; set; }
} 
```

**我的 _Layout 中的脚本**

```
<script src="@Url.Content("~/Scripts/jquery-1.5.1.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-1.5.1.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.11.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.11.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/MicrosoftMvcAjax.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/MicrosoftAjax.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/modernizr-1.7.min.js")" type="text/javascript"></script> 
```

只是几个注意事项：

*   如果您查看我的部分视图，您可以看到`Ajax.ActionLink`注释掉了。这是我之前使用的（并且有效），但是我需要对 CustomerID 进行硬编码，因此`Ajax.BeginForm`我可以访问从 ViewModel 的 AllCustomers 属性填充的 DropDownList 的值。
*   真正的控制器动作显然有更多的处理，但这不是问题，就好像我在动作中设置了一个断点，它甚至没有被命中。
*   我已经添加了脚本列表，这样人们就可以确切地知道我所引用的内容，以防出现问题。

有谁知道为什么我的提交没有访问`AddCustomer`我的控制器中的操作？

如果我没有正确描述问题或者您需要更多信息，请告诉我，我会尽力提供更多信息。

非常感谢。

**- - 更新 - -**

**我从 Chrome 控制台获得的错误数据**

这是在控制台中的“500 内部服务器错误”下。

```
d.support.ajax.d.ajaxTransport.send    jquery-1.5.1.min.js:19
d.extend.ajax                          jquery-1.5.1.min.js:19
e                                      jquery.unobtrusive-ajax.min.js:5
(anonymous function)                   jquery.unobtrusive-ajax.min.js:5
E                                      jquery-1.5.1.min.js:19
d.event.handle                         jquery-1.5.1.min.js:19
d.event.add.k.handle.m                 jquery-1.5.1.min.js:19 
```

# mysql - SQL 条件关系

> ID：12330990
> 
> 赞同：-1
> 
> 时间：2012-09-08T13:09:46.823
> 
> 标签：mysql, sql, foreign-keys

我有三张桌子：

```
Product(columns: Id, ProductType, ProductId, ...)

Apple(columns: Id, ProductType(will be always 1), ...)

Orange(columns: Id, ProductType(will be always 2), ...) 
```

如果`Product`a 有`ProductType`1，我想将它与`Apple`表相关联，如果 2，然后到`Orange`表。在 SQL 中可以吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:12:14.590

您可以对所有子类型进行联合，然后进行外连接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T13:15:30.923

在 MySQL 中，你可以这样做：

```
SELECT *
FROM Product p
JOIN Apple a ON (p.ProductType = 1 AND p.ProductId = a.Id)
JOIN Orange o ON (p.ProductType = 2 AND p.ProductId = o.Id) 
```

# scala - 从嵌入式 Neo4j（蓝图）读取随机返回 null

> ID：12330991
> 
> 赞同：2
> 
> 时间：2012-09-08T13:09:47.533
> 
> 标签：scala, playframework, neo4j

我正在尝试解决 Neo4j 和蓝图的问题。添加顶点可以正常工作，也可以向它们添加属性。但是当我尝试从数据库中读取顶点时出现问题。它们都被读取了——所以它们的数量是可以的，但它们随机地没有它们的属性和边缘。而不是他们，我得到的是空值。非常奇怪的是，当一个 Vertex 曾经有 null 属性时，另一次它有期望值。我也使用 PlayFramework 并且在每次刷新时我都添加了 2 个具有属性的顶点（名称：Jan，名称；Adam）。从图形嵌入式数据库中读取数据似乎存在问题。有没有人遇到过类似的烦恼？我附上了一个带有调试的列表，以向您展示我的问题的更好视角。在此先感谢您的每一个回复；）

```
[debug] application - -----------------------------------------------
[debug] application - v[1] name: Adam Kowalski
[debug] application - v[2] name: Jan Nowak
[debug] application - -----------------------------------------------
[debug] application - v[1] name: Adam Kowalski
[debug] application - v[2] name: Jan Nowak
[debug] application - v[3] name: Adam Kowalski
[debug] application - v[4] name: Jan Nowak
[debug] application - -----------------------------------------------
[debug] application - v[1] name: null
[debug] application - v[2] name: null
[debug] application - v[3] name: null
[debug] application - v[4] name: null
[debug] application - v[5] name: Adam Kowalski
[debug] application - v[6] name: Jan Nowak
[debug] application - -----------------------------------------------
[debug] application - v[1] name: null
[debug] application - v[2] name: null
[debug] application - v[3] name: null
[debug] application - v[4] name: null
[debug] application - v[5] name: null
[debug] application - v[6] name: null
[debug] application - v[7] name: Adam Kowalski
[debug] application - v[8] name: Jan Nowak
[debug] application - -----------------------------------------------
[debug] application - v[1] name: null
[debug] application - v[2] name: null
[debug] application - v[3] name: null
[debug] application - v[4] name: null
[debug] application - v[5] name: null
[debug] application - v[6] name: null
[debug] application - v[7] name: Adam Kowalski
[debug] application - v[8] name: Jan Nowak
[debug] application - v[9] name: Adam Kowalski
[debug] application - v[10] name: Jan Nowak
[debug] application - -----------------------------------------------
[debug] application - v[1] name: null
[debug] application - v[2] name: null
[debug] application - v[3] name: null
[debug] application - v[4] name: null
[debug] application - v[5] name: null
[debug] application - v[6] name: null
[debug] application - v[7] name: Adam Kowalski
[debug] application - v[8] name: Jan Nowak
[debug] application - v[9] name: Adam Kowalski
[debug] application - v[10] name: Jan Nowak
[debug] application - v[11] name: Adam Kowalski
[debug] application - v[12] name: Jan Nowak
[debug] application - -----------------------------------------------
[debug] application - v[1] name: null
[debug] application - v[2] name: null
[debug] application - v[3] name: null
[debug] application - v[4] name: null
[debug] application - v[5] name: Adam Kowalski
[debug] application - v[6] name: Jan Nowak
[debug] application - v[7] name: null
[debug] application - v[8] name: null
[debug] application - v[9] name: null
[debug] application - v[10] name: null
[debug] application - v[11] name: null
[debug] application - v[12] name: null
[debug] application - v[13] name: Adam Kowalski
[debug] application - v[14] name: Jan Nowak
[debug] application - -----------------------------------------------
[debug] application - v[1] name: null
[debug] application - v[2] name: null
[debug] application - v[3] name: null
[debug] application - v[4] name: null
[debug] application - v[5] name: null
[debug] application - v[6] name: null
[debug] application - v[7] name: Adam Kowalski
[debug] application - v[8] name: Jan Nowak
[debug] application - v[9] name: Adam Kowalski
[debug] application - v[10] name: Jan Nowak
[debug] application - v[11] name: Adam Kowalski
[debug] application - v[12] name: Jan Nowak
[debug] application - v[13] name: null
[debug] application - v[14] name: null
[debug] application - v[15] name: Adam Kowalski
[debug] application - v[16] name: Jan Nowak 
```

# c# - 我应该将 ASP.NET 用户会话限制为单个活动会话吗？

> ID：12330994
> 
> 赞同：2
> 
> 时间：2012-09-08T13:09:56.540
> 
> 标签：c#, asp.net, sql-server, iis, vb.net-2010

我正在设计一个内部 asp.net 4.0 应用程序，用户无需输入任何登录名和密码即可进入系统。这是一个时间表应用程序，用户通过系统用户名进行身份验证（将系统用户名与数据库中的用户表进行比较）。每个用户属于某个组，每个组具有不同的访问权限。

除了保存上次登录日期和时间之外，我是否需要在数据库中保存每个用户的唯一会话 ID（将上次会话 ID 保存在用户表中并检查用户是否具有有效会话）。

在用户注销或关闭窗口之前（无论他将窗口打开多长时间），保持用户会话处于活动状态是一种好习惯吗？

通常会话级别的详细信息保存在用户通过用户登录名和密码进入系统的数据库中，但在我的应用程序中没有登录页面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T14:15:18.527

> 除了保存上次登录日期和时间之外，我是否需要在数据库中保存每个用户的唯一会话 ID（将上次会话 ID 保存在用户表中并检查用户是否具有有效会话）。

不，您没有，因为用户在连接到数据库时可能有多个会话。

用户可以轻松进入私有浏览器实例并访问该站点。中提琴，新的会话。

您并没有真正获得安全优势来检查会话 ID 是否匹配，最重要的是，您必须挂钩会话结束事件并从数据库中擦除最后一个会话 ID；如果用户的会话超时并且他们稍后回来，他们的会话 ID 将不同并且有效。

> 在用户注销或关闭窗口之前（无论他将窗口打开多长时间），保持用户会话处于活动状态是一种好习惯吗？

您可以通过在页面中使用 AJAX 回调来保持会话处于活动状态，该回调会在会话超时之前 ping 服务器。

但是，我会说这是绝对不行的。这是一个安全问题。如果有人让工作站保持打开状态，并且页面打开，那么其他人可以访问该用户下的站点。

即使用户忘记关闭浏览器并让工作站保持打开状态，至少会话会超时并且用户无法访问该站点。

当然，假设场景不使用 Internet Explorer，它会自动将登录用户的凭据传递给站点。但是，如果使用其他浏览器（Safari、Firefox、Chrome），则仍会使用 Windows 凭据，但会向用户显示用户名/密码对话框，因此您会在此处获得少量安全性。

一般来说，保持会话超时。*除非你有*充分的理由，否则不要绕过它。

> 通常会话级别的详细信息保存在用户通过用户登录名和密码进入系统的数据库中，但在我的应用程序中没有登录页面。

您不应该做任何事情来主动链接数据库中的*会话*，除非它仅用于跟踪目的。当用户登录到您的应用程序时，您正在与用户打交道，您不关心根据他们拥有的会话 ID 做出选择（该数字是随机的并且对于此任务没有意义），您希望在*用户*.

# c++ - 应用程序未能正确初始化（0xc0150002）

> ID：12330996
> 
> 赞同：1
> 
> 时间：2012-09-08T13:10:23.050
> 
> 标签：c++, visual-studio, debugging

我正在尝试识别应用程序中的内存泄漏；我在 vs2008 上使用视觉检漏仪。应用程序编译正常，但在运行时出现此错误。我已根据需要将 vld_x86.dll 放在我的可执行目录（调试构建目录）中，但没有成功。

# objective-c - 是否可以在 Cocoa 中确定文件是否是从别名打开的？

> ID：12330998
> 
> 赞同：4
> 
> 时间：2012-09-08T13:10:42.590
> 
> 标签：objective-c, macos, cocoa

我想到的程序需要与所有以特定扩展名结尾的文件（例如“.abc”）相关联，因此当用户双击某些“file.abc”时它会打开。当用户双击此类文件的别名时，是否可以在 Cocoa 中确定？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T13:27:23.583

应用程序委托将`application:openFile:`在以这种方式启动时收到。如果那导致您启动，`application:openFile:`将介于`applicationWillFinishLaunching:`和之间`applicationDidFinishLaunching:`。您可能会`application:openFile:`在其他时间收到，因为您可能已经在用户双击文档时启动。

* * *

编辑：别名现在称为“书签”（自 10.6 起）。你`NSURL`用来阅读它们。有关完整详细信息，请参阅[文件系统编程指南](http://developer.apple.com/library/mac/#documentation/FileManagement/Conceptual/FileSystemProgrammingGUide/AccessingFilesandDirectories/AccessingFilesandDirectories.html)，但这里有一个简短的示例：

```
NSURL *aliasURL = [NSURL fileURLWithPath:@"..."];
NSData *alias = [NSURL bookmarkDataWithContentsOfURL:aliasURL error:&error];
if (alias == NULL) {
  NSLog(@"Failed aliasURL: %@", error);
}

BOOL isStale;
NSURL *realURL = [NSURL URLByResolvingBookmarkData:alias options:0 relativeToURL:nil bookmarkDataIsStale:&isStale error:&error];
if (isStale || realURL == NULL) {
  NSLog(@"Failed realURL: %@", error);
}

NSLog(@"realPath:%@", [realURL path]); 
```

我不知道有任何 API 会告诉您给定`NSURL`是否是别名，而不是尝试将其作为别名读取并查看它是否失败。

请记住，用户也可能使用符号链接创建相同的情况。